<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[è°·æ­ŒADKå®æˆ˜ï¼š3ç§æ–¹æ³•æ‰“é€ AIæ™ºèƒ½ä½“]]></title>    <link>https://juejin.cn/post/7579871631095939098</link>    <guid>https://juejin.cn/post/7579871631095939098</guid>    <pubDate>2025-12-04T15:04:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579871631095939098" data-draft-id="7579871631095922714" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è°·æ­ŒADKå®æˆ˜ï¼š3ç§æ–¹æ³•æ‰“é€ AIæ™ºèƒ½ä½“"/> <meta itemprop="keywords" content="Python,Go"/> <meta itemprop="datePublished" content="2025-12-04T15:04:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº‘äº‘ä¼—ç”Ÿs"/> <meta itemprop="url" content="https://juejin.cn/user/380845430158739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è°·æ­ŒADKå®æˆ˜ï¼š3ç§æ–¹æ³•æ‰“é€ AIæ™ºèƒ½ä½“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/380845430158739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº‘äº‘ä¼—ç”Ÿs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T15:04:39.000Z" title="Thu Dec 04 2025 15:04:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Google ADKæ˜¯æ„å»ºAIä»£ç†çš„åŸºç¡€æ¡†æ¶ï¼Œæ”¯æŒPythonã€YAMLå’Œå¯è§†åŒ–æ„å»ºå™¨ä¸‰ç§å¼€å‘æ–¹å¼ï¼Œæä¾›çµæ´»æ€§å’Œæ§åˆ¶åŠ›ï¼Œå¯ç”¨äºåˆ›å»ºå¤šä»£ç†ç³»ç»Ÿã€‚</p>
<blockquote>
<p>è¯‘è‡ªï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fthenewstack.io%2Fhow-to-build-ai-agents-3-ways-with-google-adk%2F" target="_blank" title="https://thenewstack.io/how-to-build-ai-agents-3-ways-with-google-adk/" ref="nofollow noopener noreferrer">How To Build AI Agents 3 Ways With Google ADK</a></p>
<p>ä½œè€…ï¼šJanakiram MSV</p>
</blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.google.com%2F%3Futm_content%3Dinline%2Bmention" target="_blank" title="https://cloud.google.com/?utm_content=inline+mention" ref="nofollow noopener noreferrer">Google</a> çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgoogle.github.io%2Fadk-docs%2F" target="_blank" title="https://google.github.io/adk-docs/" ref="nofollow noopener noreferrer">Agent Development Kit</a> (ADK) å·²è¿…é€Ÿæˆä¸ºæ„å»º AI ä»£ç†çš„åŸºç¡€æ¡†æ¶ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fthenewstack.io%2Fgoogles-adk-is-a-new-open-source-framework-for-building-multiagent-systems%2F" target="_blank" title="https://thenewstack.io/googles-adk-is-a-new-open-source-framework-for-building-multiagent-systems/" ref="nofollow noopener noreferrer">åœ¨ Google Cloud NEXT 2025 å¤§ä¼šä¸Šæ¨å‡º</a>åï¼ŒADK åœ¨ Google äº§å“ï¼ˆåŒ…æ‹¬ <a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.google.com%2Fgemini-enterprise%3Futm_source%3Dgoogle%26utm_medium%3Dcpc%26utm_campaign%3D1710070-Workspace-DR-APAC-IN-en-Google-BKWS-EXA-Pollux%26utm_content%3Dc-Hybrid%2B%257C%2BBKWS%2B-%2BEXA%2B%257C%2BTxt-Pollux-Generic-435278751514%26utm_term%3Dgemini%2Benterprise%26gclsrc%3Daw.ds%26gad_source%3D1%26gad_campaignid%3D23080541881%26gclid%3DCjwKCAiA55rJBhByEiwAFkY1QGdZPP5s9wkpjdS3nzYfKqlrtfqicVSrvS5P13nnCq3dXyHtXPigwhoC2fkQAvD_BwE%26hl%3Den" target="_blank" title="https://cloud.google.com/gemini-enterprise?utm_source=google&amp;utm_medium=cpc&amp;utm_campaign=1710070-Workspace-DR-APAC-IN-en-Google-BKWS-EXA-Pollux&amp;utm_content=c-Hybrid+%7C+BKWS+-+EXA+%7C+Txt-Pollux-Generic-435278751514&amp;utm_term=gemini+enterprise&amp;gclsrc=aw.ds&amp;gad_source=1&amp;gad_campaignid=23080541881&amp;gclid=CjwKCAiA55rJBhByEiwAFkY1QGdZPP5s9wkpjdS3nzYfKqlrtfqicVSrvS5P13nnCq3dXyHtXPigwhoC2fkQAvD_BwE&amp;hl=en" ref="nofollow noopener noreferrer">Gemini ä¼ä¸šç‰ˆ</a> å’Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.google.com%2Fsolutions%2Fcustomer-engagement-ai%3Fhl%3Den" target="_blank" title="https://cloud.google.com/solutions/customer-engagement-ai?hl=en" ref="nofollow noopener noreferrer">Google å®¢æˆ·äº’åŠ¨å¥—ä»¶</a>ï¼‰ä¸­ä¸ºä»£ç†æä¾›æ”¯æŒã€‚ADK å¯¹å¼€å‘äººå‘˜ç‰¹åˆ«æœ‰å¸å¼•åŠ›çš„åœ°æ–¹åœ¨äºå…¶çµæ´»æ€§ã€‚å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨ Python ä»£ç ã€YAML é…ç½®æ–‡ä»¶æˆ–æ‹–æ”¾å¼å¯è§†åŒ–ç•Œé¢æ„å»ºä»£ç†â€”â€”å…·ä½“å–å†³äºå·¥ä½œæµåå¥½å’Œç”¨ä¾‹è¦æ±‚ã€‚</p>
<p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘å°†å¼•å¯¼æ‚¨é€šè¿‡è¿™ä¸‰ç§æ–¹æ³•æ„å»ºæ‚¨çš„ç¬¬ä¸€ä¸ªâ€œHello Worldâ€ADK ä»£ç†ã€‚æœ€åï¼Œæ‚¨å°†æ‹¥æœ‰ä¸€ä¸ªä½¿ç”¨æ¯ç§æ–¹æ³•åœ¨æœ¬åœ°è¿è¡Œçš„åŠŸèƒ½æ€§ä»£ç†ï¼Œä¸ºæ‚¨é€‰æ‹©é€‚åˆè‡ªå·±é¡¹ç›®çš„æ–¹æ³•å¥ å®šåŸºç¡€ã€‚</p>
<h2 data-id="heading-0">ç†è§£ä¸‰ç§æ–¹æ³•</h2>
<p>åœ¨æ·±å…¥å®æ–½ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆäº†è§£æ¯ç§æ–¹æ³•æä¾›çš„åŠŸèƒ½ï¼š</p>
<p><strong>å‘½ä»¤å¼ä»£ç† (Python)ï¼š</strong> è¿™ç§ä»£ç ä¼˜å…ˆçš„æ–¹æ³•ä¸ºæ‚¨æä¾›äº†æœ€å¤§çš„çµæ´»æ€§å’Œæ§åˆ¶åŠ›ã€‚æ‚¨ç›´æ¥åœ¨ Python ä¸­å®šä¹‰ä»£ç†é€»è¾‘ã€å·¥å…·å’Œç¼–æ’ï¼Œè¿™ä½¿å…¶æˆä¸ºéœ€è¦è‡ªå®šä¹‰é€»è¾‘ã€ä¸ç°æœ‰ä»£ç åº“é›†æˆæˆ–å¤æ‚å¤šä»£ç†ç³»ç»Ÿçš„å¤æ‚ä»£ç†çš„ç†æƒ³é€‰æ‹©ã€‚Python æ–¹æ³•è¿˜é€šè¿‡ LiteLLM é›†æˆæ”¯æŒä»»ä½•å¤§å‹è¯­è¨€æ¨¡å‹ (LLM)ã€‚</p>
<p><strong>å£°æ˜å¼ä»£ç† (YAML)ï¼š</strong> è¯¥æ–¹æ³•äº 2025 å¹´ 8 æœˆéš Agent Config åŠŸèƒ½æ¨å‡ºï¼Œå…è®¸æ‚¨ä½¿ç”¨ YAML é…ç½®æ–‡ä»¶å®šä¹‰ä»£ç†ã€‚å®ƒå‡å°‘äº†æ ·æ¿ä»£ç ï¼Œä½¿ä»£ç†æ›´æ˜“äºä¸€ç›®äº†ç„¶åœ°ç†è§£â€”â€”å¯¹äºæ›´ç®€å•çš„ä»£ç†æˆ–å½“æ‚¨å¸Œæœ›éå¼€å‘äººå‘˜ç†è§£ä»£ç†è¡Œä¸ºæ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚</p>
<p><strong>å¯è§†åŒ–ä»£ç†æ„å»ºå™¨ (GUI)ï¼š</strong> Visual Agent Builder åœ¨ ADK v1.18.0 ä¸­æ¨å‡ºï¼Œæ˜¯ä¸€ä¸ªåŸºäºæµè§ˆå™¨çš„ IDEï¼Œå®ƒç»“åˆäº†å¯è§†åŒ–å·¥ä½œæµè®¾è®¡å™¨ã€é…ç½®é¢æ¿å’Œ AI åŠ©æ‰‹ã€‚æ‚¨å¯ä»¥é€šè¿‡æ‹–æ”¾äº¤äº’å’Œè‡ªç„¶è¯­è¨€å¯¹è¯è®¾è®¡å¤šä»£ç†ç³»ç»Ÿï¼Œè¯¥å·¥å…·ä¼šåœ¨å¹•åç”Ÿæˆæ­£ç¡®çš„ YAML é…ç½®ã€‚</p>
<h2 data-id="heading-1">å‰ææ¡ä»¶</h2>
<p>å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨å…·å¤‡ä»¥ä¸‹æ¡ä»¶ï¼š</p>
<ul>
<li>Python 3.10 æˆ–æ›´é«˜ç‰ˆæœ¬</li>
<li>ä»£ç ç¼–è¾‘å™¨</li>
<li>ç»ˆç«¯è®¿é—®</li>
<li>Google AI Studio API å¯†é’¥æˆ–å·²å¯ç”¨ Vertex AI çš„ Google Cloud é¡¹ç›®</li>
</ul>
<h2 data-id="heading-2">æ­¥éª¤ 1ï¼šè®¾ç½®ç¯å¢ƒ</h2>
<p>é¦–å…ˆï¼Œåˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£… ADKã€‚æ‰“å¼€æ‚¨çš„ç»ˆç«¯å¹¶è¿è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">python -m venv .venv
<span class="hljs-built_in">source</span> .venv/bin/activate  
</code></pre>
<p>å®‰è£… ADK åŒ…ï¼š</p>
<pre><code class="hljs">pip install google-adk
</code></pre>
<p>éªŒè¯å®‰è£…ï¼š</p>
<pre><code class="hljs language-css" lang="css">adk <span class="hljs-attr">--version</span>
</code></pre>
<p>æ‚¨åº”è¯¥ä¼šçœ‹åˆ°å·²å®‰è£…çš„ ADK ç‰ˆæœ¬ï¼ˆVisual Agent Builder éœ€è¦ 1.18.0 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰ã€‚</p>
<h2 data-id="heading-3">æ­¥éª¤ 2ï¼šé…ç½®æ¨¡å‹è®¿é—®</h2>
<p>ADK éœ€è¦è®¿é—® LLMã€‚æœ€ç®€å•çš„å…¥é—¨é€‰é¡¹æ˜¯ä½¿ç”¨å¸¦æœ‰å…è´¹ API å¯†é’¥çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Faistudio.google.com%2F" target="_blank" title="https://aistudio.google.com/" ref="nofollow noopener noreferrer">Google AI Studio</a>ã€‚ä» Google AI Studio è·å–æ‚¨çš„ API å¯†é’¥å¹¶ä¿æŒå…¶å¯è®¿é—®æ€§ï¼Œå› ä¸ºåœ¨æ¥ä¸‹æ¥çš„æ­¥éª¤ä¸­æ‚¨ä¼šç”¨åˆ°å®ƒã€‚</p>
<h2 data-id="heading-4">æ–¹æ³• 1ï¼šä½¿ç”¨ Python æ„å»ºå‘½ä»¤å¼ä»£ç†</h2>
<p>å‘½ä»¤å¼æ–¹æ³•æ˜¯æœ€å¼ºå¤§çš„æ–¹æ³•ï¼Œé€šè¿‡ä»£ç è®©æ‚¨å®Œå…¨æ§åˆ¶ä»£ç†è¡Œä¸ºã€‚è®©æˆ‘ä»¬æ„å»ºä¸€ä¸ªç®€å•çš„é—®å€™ä»£ç†ï¼Œæ¼”ç¤ºå…¶æ ¸å¿ƒæ¦‚å¿µã€‚</p>
<h3 data-id="heading-5"><strong>åˆ›å»ºé¡¹ç›®ç»“æ„</strong></h3>
<p>ä¸ºæ‚¨çš„ä»£ç†é¡¹ç›®åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> hello_agent
<span class="hljs-built_in">cd</span> hello_agent
</code></pre>
<p>åœ¨ <code>hello_agent</code> ç›®å½•ä¸­åˆ›å»ºä»¥ä¸‹æ–‡ä»¶ï¼š</p>
<p><code>__init__.py</code></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">from</span> . <span class="hljs-keyword">import</span> agent
</code></pre>
<p>æ­¤æ–‡ä»¶å°†ç›®å½•æ ‡è®°ä¸º Python åŒ…å¹¶å¯¼å…¥ä»£ç†æ¨¡å—ã€‚</p>
<p><code>agent.py</code></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> google.adk.agents <span class="hljs-keyword">import</span> Agent


<span class="hljs-keyword">def</span> <span class="hljs-title function_">greet_user</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span></span>) -&amp;gt; <span class="hljs-built_in">dict</span>:
    <span class="hljs-string">"""Greets a user by name.
    
    Args:
        name (str): The name of the user to greet.
        
    Returns:
        dict: A greeting message with status.
    """</span>
    <span class="hljs-keyword">return</span> {
        <span class="hljs-string">"status"</span>: <span class="hljs-string">"success"</span>,
        <span class="hljs-string">"message"</span>: <span class="hljs-string">f"Hello, <span class="hljs-subst">{name}</span>! Welcome to Google ADK. I'm your first AI agent!"</span>
    }


<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_agent_info</span>() -&amp;gt; <span class="hljs-built_in">dict</span>:
    <span class="hljs-string">"""Returns information about this agent.
    
    Returns:
        dict: Information about the agent's capabilities.
    """</span>
    <span class="hljs-keyword">return</span> {
        <span class="hljs-string">"status"</span>: <span class="hljs-string">"success"</span>,
        <span class="hljs-string">"info"</span>: <span class="hljs-string">"I am a Hello World agent built with Google ADK using Python. "</span>
                <span class="hljs-string">"I can greet users and tell them about myself."</span>
    }


root_agent = Agent(
    name=<span class="hljs-string">"hello_agent"</span>,
    model=<span class="hljs-string">"gemini-2.0-flash"</span>,
    description=<span class="hljs-string">"A friendly greeting agent that welcomes users to Google ADK."</span>,
    instruction=<span class="hljs-string">"""You are a friendly and helpful greeting agent. Your primary purpose is to:
    1. Greet users warmly when they provide their name using the greet_user tool
    2. Explain what you are when asked using the get_agent_info tool
    3. Be enthusiastic about introducing users to Google ADK
    
    Always use the available tools to respond appropriately to user requests."""</span>,
    tools=[greet_user, get_agent_info],
)
</code></pre>
<p>Agent ç±»æ˜¯ ADK ä¸­çš„æ ¸å¿ƒæ„å»ºå—ã€‚è¯·æ³¨æ„æˆ‘ä»¬å¦‚ä½•å°†å·¥å…·å®šä¹‰ä¸ºå¸¦æœ‰ç±»å‹æç¤ºå’Œæ–‡æ¡£å­—ç¬¦ä¸²çš„æ™®é€š Python å‡½æ•°ã€‚ADK ä½¿ç”¨è¿™äº›ä¿¡æ¯æ¥å¸®åŠ© LLM ç†è§£ä½•æ—¶ä»¥åŠå¦‚ä½•è°ƒç”¨æ¯ä¸ªå·¥å…·ã€‚</p>
<p><code>.env</code></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">GOOGLE_GENAI_USE_VERTEXAI</span>=<span class="hljs-number">0</span>
<span class="hljs-attr">GOOGLE_API_KEY</span>=YOUR_API_KEY_HERE
</code></pre>
<p>å°†å ä½ç¬¦å€¼æ›¿æ¢ä¸ºæ‚¨çš„å®é™…å‡­æ®ã€‚</p>
<h3 data-id="heading-6"><strong>è¿è¡Œä»£ç†</strong></h3>
<p>å¯¼èˆªåˆ°æ‚¨çš„ä»£ç†æ–‡ä»¶å¤¹çš„çˆ¶ç›®å½•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> ..
</code></pre>
<p>ä»¥ç»ˆç«¯æ¨¡å¼è¿è¡Œä»£ç†ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">adk run hello_agent
</code></pre>
<p>æ‚¨åº”è¯¥ä¼šçœ‹åˆ°ä¸€ä¸ªæç¤ºï¼ŒæŒ‡ç¤ºä»£ç†æ­£åœ¨è¿è¡Œï¼š</p>
<p><code>Running agent hello_agent, type exit to exit.   [user]:   Try these interactions:   [user]: Hello, my name is Jani   [user]: What can you do?   [user]: Tell me about yourself</code></p>
<p>ä»£ç†å°†ä½¿ç”¨é€‚å½“çš„å·¥å…·è¿›è¡Œå“åº”ã€‚è¾“å…¥ <code>exit</code> é€€å‡ºã€‚</p>
<h2 data-id="heading-7">æ–¹æ³• 2ï¼šä½¿ç”¨ YAML æ„å»ºå£°æ˜å¼ä»£ç†</h2>
<p>ä½¿ç”¨ YAML é…ç½®æ–‡ä»¶çš„å£°æ˜å¼æ–¹æ³•ç®€åŒ–äº†ä»£ç†çš„åˆ›å»ºï¼Œç‰¹åˆ«æ˜¯å¯¹äºç®€å•çš„ç”¨ä¾‹ã€‚Agent Config åŠŸèƒ½ç”Ÿæˆç›¸åŒçš„åº•å±‚ä»£ç†ç»“æ„ï¼Œä½†ä»£ç æ›´å°‘ã€‚</p>
<h3 data-id="heading-8"><strong>åˆ›å»ºåŸºäºé…ç½®çš„é¡¹ç›®</strong></h3>
<p>ä½¿ç”¨ ADK CLI ç”Ÿæˆä¸€ä¸ªåŸºäºé…ç½®çš„ä»£ç†é¡¹ç›®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">adk create yaml_hello_agent <span class="hljs-attr">--type</span>=config
</code></pre>
<p>æ¥å—é»˜è®¤å€¼å¹¶å®Œæˆæ­¥éª¤ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcdn.thenewstack.io%2Fmedia%2F2025%2F11%2Fb94370f5-adk-1-0-1024x601.png" target="_blank" title="https://cdn.thenewstack.io/media/2025/11/b94370f5-adk-1-0-1024x601.png" ref="nofollow noopener noreferrer"><img src="https://cdn.thenewstack.io/media/2025/11/b94370f5-adk-1-0-1024x601.png" alt="" loading="lazy"/></a></p>
<h3 data-id="heading-9"><strong>åœ¨ YAML ä¸­å®šä¹‰ä»£ç†</strong></h3>
<p>æ‰“å¼€ <code>yaml_hello_agent/root_agent.yaml</code> å¹¶å°†å…¶å†…å®¹æ›¿æ¢ä¸ºï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">name:</span> hello_yaml_agent
<span class="hljs-symbol">model:</span> gemini-<span class="hljs-number">2.0</span>-flash
<span class="hljs-symbol">description:</span> A friendly greeting agent built <span class="hljs-keyword">with</span> YAML configuration.
<span class="hljs-symbol">instruction:</span> |
  You are a friendly <span class="hljs-built_in">and</span> helpful greeting agent. Your primary purpose <span class="hljs-built_in">is</span> <span class="hljs-keyword">to</span>:
  <span class="hljs-number">1</span>. Greet users warmly <span class="hljs-keyword">when</span> they provide their name <span class="hljs-keyword">using</span> the greet_user tool
  <span class="hljs-number">2</span>. Explain what you are <span class="hljs-keyword">when</span> asked <span class="hljs-keyword">using</span> the get_agent_info tool
  <span class="hljs-number">3</span>. Be enthusiastic about introducing users <span class="hljs-keyword">to</span> Google ADK
  
  Always use the available tools <span class="hljs-keyword">to</span> respond appropriately <span class="hljs-keyword">to</span> user requests.
<span class="hljs-symbol">tools:</span>
  - name: yaml_hello_agent.greet_user
  - name: yaml_hello_agent.get_agent_info
</code></pre>
<p>YAML ç»“æ„é•œåƒäº† Python Agent ç±»çš„å‚æ•°ï¼Œä½†ä»¥æ›´æ˜“è¯»çš„æ ¼å¼å‘ˆç°ã€‚è¯·æ³¨æ„å·¥å…·æ˜¯å¦‚ä½•é€šè¿‡å…¶æ¨¡å—è·¯å¾„å¼•ç”¨çš„ã€‚</p>
<h3 data-id="heading-10"><strong>åˆ›å»ºå·¥å…·æ¨¡å—</strong></h3>
<p>ADK YAML é…ç½®çš„ä¸€ä¸ªå¼ºå¤§åŠŸèƒ½æ˜¯æ‚¨å¯ä»¥æ··åˆä½¿ç”¨ Python ä»£ç ã€‚æ›´æ–° <code>yaml_hello_agent</code> æ–‡ä»¶å¤¹ä¸­çš„ <code>__init__.py</code> æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">greet_user</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span></span>) -&amp;gt; <span class="hljs-built_in">dict</span>:
    <span class="hljs-string">"""Greets a user by name.
    
    Args:
        name (str): The name of the user to greet.
        
    Returns:
        dict: A greeting message with status.
    """</span>
    <span class="hljs-keyword">return</span> {
        <span class="hljs-string">"status"</span>: <span class="hljs-string">"success"</span>,
        <span class="hljs-string">"message"</span>: <span class="hljs-string">f"Hello, <span class="hljs-subst">{name}</span>! Welcome to Google ADK via YAML config!"</span>
    }


<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_agent_info</span>() -&amp;gt; <span class="hljs-built_in">dict</span>:
    <span class="hljs-string">"""Returns information about this agent.
    
    Returns:
        dict: Information about the agent's capabilities.
    """</span>
    <span class="hljs-keyword">return</span> {
        <span class="hljs-string">"status"</span>: <span class="hljs-string">"success"</span>, 
        <span class="hljs-string">"info"</span>: <span class="hljs-string">"I am a Hello World agent built with YAML configuration. "</span>
                <span class="hljs-string">"I demonstrate the declarative approach to ADK agents."</span>
    }
</code></pre>
<p>æ‚¨çš„é¡¹ç›®ç»“æ„ç°åœ¨åº”è¯¥å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-bash" lang="bash">yaml_hello_agent/  
â”œâ”€â”€ root_agent.yaml  
â”œâ”€â”€ __init__.py  
â””â”€â”€ .<span class="hljs-built_in">env</span>
</code></pre>
<h3 data-id="heading-11"><strong>è¿è¡ŒåŸºäº YAML çš„ä»£ç†</strong></h3>
<p>å¯¼èˆªåˆ°çˆ¶ç›®å½•å¹¶è¿è¡Œï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">adk run yaml_hello_agent
</code></pre>
<p>ä½¿ç”¨ç›¸åŒçš„æç¤ºè¿›è¡Œæµ‹è¯•ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">[<span class="hljs-symbol">user</span>]: <span class="hljs-link">Hi, I'm Jani</span>
[<span class="hljs-symbol">user</span>]: <span class="hljs-link">What are you?</span>
</code></pre>
<p>ä»£ç†çš„å“åº”ä¸ Python ç‰ˆæœ¬ç›¸åŒï¼Œä½†å®Œå…¨é€šè¿‡é…ç½®å®šä¹‰ã€‚</p>
<h2 data-id="heading-12">æ–¹æ³• 3ï¼šä½¿ç”¨å¯è§†åŒ–ä»£ç†æ„å»ºå™¨æ„å»ºä»£ç†</h2>
<p>Visual Agent Builder åœ¨ ADK v1.18.0 ä¸­æ¨å‡ºï¼Œæ˜¯ä¸€ä¸ªåŸºäºæµè§ˆå™¨çš„ IDEï¼Œå®ƒæ”¹å˜äº†æ‚¨æ„å»ºä»£ç†çš„æ–¹å¼ã€‚å®ƒç»“åˆäº†å¯è§†åŒ–å·¥ä½œæµè®¾è®¡å™¨ã€é…ç½®é¢æ¿å’Œ AI åŠ©æ‰‹ï¼Œè®©æ‚¨å¯ä»¥é€šè¿‡æ‹–æ”¾äº¤äº’å’Œè‡ªç„¶è¯­è¨€å¯¹è¯è®¾è®¡ä»£ç†ã€‚</p>
<h3 data-id="heading-13"><strong>å¯åŠ¨å¯è§†åŒ–ä»£ç†æ„å»ºå™¨</strong></h3>
<p>ä»ä»»ä½•ç›®å½•è¿è¡Œï¼š</p>
<pre><code class="hljs">adk web
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcdn.thenewstack.io%2Fmedia%2F2025%2F11%2F4c9ef222-adk-1-1-1024x446.png" target="_blank" title="https://cdn.thenewstack.io/media/2025/11/4c9ef222-adk-1-1-1024x446.png" ref="nofollow noopener noreferrer"><img src="https://cdn.thenewstack.io/media/2025/11/4c9ef222-adk-1-1-1024x446.png" alt="" loading="lazy"/></a></p>
<p>åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ <code>http://localhost:8000/dev-ui/</code> å³å¯è®¿é—® Visual Agent Builderã€‚</p>
<p>ç‚¹å‡»ä¸‹æ‹‰èœå•æ—è¾¹çš„â€œ+â€æŒ‰é’®ï¼Œè¾“å…¥åç§° <code>visual_hello_agent</code>ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcdn.thenewstack.io%2Fmedia%2F2025%2F11%2Fb5c12cc7-adk-1-2-1024x771.png" target="_blank" title="https://cdn.thenewstack.io/media/2025/11/b5c12cc7-adk-1-2-1024x771.png" ref="nofollow noopener noreferrer"><img src="https://cdn.thenewstack.io/media/2025/11/b5c12cc7-adk-1-2-1024x771.png" alt="" loading="lazy"/></a></p>
<p>ä¸å…¶æ‰‹åŠ¨é…ç½®ä»£ç†ï¼Œä¸å¦‚ä½¿ç”¨ AI åŠ©æ‰‹ã€‚åœ¨å³ä¾§é¢æ¿ä¸­ï¼Œè¾“å…¥ï¼š</p>
<p>`Create a simple greeting agent that can:</p>
<ol>
<li>Greet users by name when they introduce themselves</li>
<li>Tell users about itself when asked<br/>
Use gemini-2.5-flash as the model. Keep it simple with just two tools.`</li>
</ol>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcdn.thenewstack.io%2Fmedia%2F2025%2F11%2F71fbb3ba-adk-1-3-1024x563.png" target="_blank" title="https://cdn.thenewstack.io/media/2025/11/71fbb3ba-adk-1-3-1024x563.png" ref="nofollow noopener noreferrer"><img src="https://cdn.thenewstack.io/media/2025/11/71fbb3ba-adk-1-3-1024x563.png" alt="" loading="lazy"/></a></p>
<p>AI åŠ©æ‰‹å°†ç”Ÿæˆå®Œæ•´çš„ä»£ç†é…ç½®ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>é€‚å½“çš„ä»£ç†åç§°å’Œæè¿°</li>
<li>æ¨¡å‹é€‰æ‹©</li>
<li>è¯¦ç»†è¯´æ˜</li>
</ul>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcdn.thenewstack.io%2Fmedia%2F2025%2F11%2Ffb5ddcc9-adk-1-4-1024x563.png" target="_blank" title="https://cdn.thenewstack.io/media/2025/11/fb5ddcc9-adk-1-4-1024x563.png" ref="nofollow noopener noreferrer"><img src="https://cdn.thenewstack.io/media/2025/11/fb5ddcc9-adk-1-4-1024x563.png" alt="" loading="lazy"/></a></p>
<p>ç‚¹å‡»ä¿å­˜æŒ‰é’®ï¼Œç„¶åé€€å‡ºæ„å»ºå™¨æ¨¡å¼ã€‚æ‚¨ç°åœ¨å¯ä»¥ä¸ä»£ç†èŠå¤©äº†ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcdn.thenewstack.io%2Fmedia%2F2025%2F11%2Fd6c47e08-adk-1-5-1024x541.png" target="_blank" title="https://cdn.thenewstack.io/media/2025/11/d6c47e08-adk-1-5-1024x541.png" ref="nofollow noopener noreferrer"><img src="https://cdn.thenewstack.io/media/2025/11/d6c47e08-adk-1-5-1024x541.png" alt="" loading="lazy"/></a></p>
<h2 data-id="heading-14">æ¯”è¾ƒè¿™ä¸‰ç§æ–¹æ³•</h2>
<p>ä½¿ç”¨æ‰€æœ‰ä¸‰ç§æ–¹æ³•æ„å»ºä»£ç†åï¼Œä»¥ä¸‹æ˜¯å®ƒä»¬çš„æ¯”è¾ƒï¼š</p>





















































<table><thead><tr><th><strong>æ–¹é¢</strong></th><th><strong>å‘½ä»¤å¼ï¼ˆPythonï¼‰</strong></th><th><strong>å£°æ˜å¼ï¼ˆYAMLï¼‰</strong></th><th><strong>å¯è§†åŒ–æ„å»ºå™¨</strong></th></tr></thead><tbody><tr><td><strong>æœ€é€‚ç”¨äº</strong></td><td>å¤æ‚é€»è¾‘ï¼ŒCI/CD</td><td>ç®€å•ä»£ç†ï¼Œåä½œ</td><td>åŸå‹è®¾è®¡ï¼Œå­¦ä¹ </td></tr><tr><td><strong>å­¦ä¹ æ›²çº¿</strong></td><td>ä¸­ç­‰</td><td>ä½</td><td>æœ€ä½</td></tr><tr><td><strong>çµæ´»æ€§</strong></td><td>æœ€é«˜</td><td>ä¸­ç­‰</td><td>ä¸­ç­‰</td></tr><tr><td><strong>æ¨¡å‹æ”¯æŒ</strong></td><td>æ‰€æœ‰ï¼ˆé€šè¿‡ LiteLLMï¼‰</td><td>ä»…é™ Gemini</td><td>ä»…é™ Gemini</td></tr><tr><td><strong>ç‰ˆæœ¬æ§åˆ¶</strong></td><td>ä¼˜ç§€</td><td>ä¼˜ç§€</td><td>è‰¯å¥½ï¼ˆå¯å¯¼å‡º YAMLï¼‰</td></tr><tr><td><strong>éå¼€å‘äººå‘˜å‹å¥½</strong></td><td>å¦</td><td>éƒ¨åˆ†æ˜¯</td><td>æ˜¯</td></tr><tr><td><strong>è°ƒè¯•</strong></td><td>æ‰‹åŠ¨</td><td>æ‰‹åŠ¨</td><td>å†…ç½®è¿½è¸ª</td></tr></tbody></table>
<p>ä¸»è¦è€ƒè™‘å› ç´ ï¼š</p>
<ul>
<li>å½“æ‚¨éœ€è¦æœ€å¤§ç¨‹åº¦çš„æ§åˆ¶ã€è‡ªå®šä¹‰é›†æˆæˆ–é€šè¿‡ LiteLLM æ”¯æŒé Gemini æ¨¡å‹æ—¶ï¼Œ<strong>Python æ–¹æ³•</strong>æ˜¯æœ€ä½³é€‰æ‹©ã€‚</li>
<li><strong>YAML æ–¹æ³•</strong>é€‚ç”¨äºç®€å•çš„ä»£ç†ï¼Œæ‚¨å¸Œæœ›é…ç½®æ–‡ä»¶çš„ç®€æ´æ€§ï¼Œå¹¶èƒ½å¤Ÿæ··åˆä½¿ç”¨ Python å·¥å…·ã€‚</li>
<li><strong>å¯è§†åŒ–æ„å»ºå™¨</strong>æ“…é•¿å¿«é€ŸåŸå‹è®¾è®¡ã€å­¦ä¹  ADK æ¦‚å¿µä»¥åŠä¸èƒ½å¤Ÿç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚çš„éå¼€å‘äººå‘˜åä½œã€‚</li>
</ul>
<p>åœ¨å®è·µä¸­ï¼Œè¿™äº›æ–¹æ³•ç›¸è¾…ç›¸æˆã€‚æ‚¨å¯ä»¥ä½¿ç”¨å¯è§†åŒ–æ„å»ºå™¨è¿›è¡ŒåŸå‹è®¾è®¡å’Œç†è§£æ¶æ„ï¼Œç„¶åå¯¼å‡º YAML è¿›è¡Œç‰ˆæœ¬æ§åˆ¶å’Œ CI/CD ç®¡é“ã€‚</p>
<h2 data-id="heading-15">å±•æœ›æœªæ¥</h2>
<p>æœ¬æ•™ç¨‹æ¶µç›–äº†ä½¿ç”¨ Google ADK çš„ä¸‰ç§å¼€å‘æ–¹æ³•æ„å»ºæ‚¨çš„ç¬¬ä¸€ä¸ª AI ä»£ç†çš„åŸºæœ¬æ­¥éª¤ã€‚æ¯ç§æ–¹æ³•éƒ½æœ‰å…¶ä¼˜ç‚¹ï¼Œå¹¶ä¸”è¯¥æ¡†æ¶çš„è®¾è®¡æ—¨åœ¨è®©æ‚¨å¯ä»¥åœ¨å®ƒä»¬ä¹‹é—´æµç•…åˆ‡æ¢â€”â€”ä»å¯è§†åŒ–å¼€å§‹ï¼Œå¯¼å‡ºåˆ° YAMLï¼Œå¹¶åœ¨éœ€è¦é«˜çº§åŠŸèƒ½æ—¶è½¬å…¥ Pythonã€‚</p>
<p>åœ¨åç»­æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨ ADK çš„é«˜çº§åŠŸèƒ½ï¼ŒåŒ…æ‹¬å…·æœ‰é¡ºåºã€å¹¶è¡Œå’Œå¾ªç¯æ¨¡å¼çš„å¤šä»£ç†ç³»ç»Ÿã€ä¸æ¨¡å‹ä¸Šä¸‹æ–‡åè®® (MCP) æœåŠ¡å™¨çš„å·¥å…·é›†æˆã€ä¼šè¯ç®¡ç†å’Œå†…å­˜æŒä¹…åŒ–ï¼Œä»¥åŠéƒ¨ç½²åˆ° Vertex AI Agent Engineã€‚æ‚¨åœ¨è¿™é‡Œå»ºç«‹çš„åŸºç¡€å°†åœ¨æˆ‘ä»¬å¤„ç†æ—¥ç›Šå¤æ‚çš„ä»£ç†å·¥ä½œæµæ—¶ä¸ºæ‚¨æä¾›å¾ˆå¥½çš„å¸®åŠ©ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[InfluxDB 3 å…¥é—¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7579819594271752230</link>    <guid>https://juejin.cn/post/7579819594271752230</guid>    <pubDate>2025-12-04T15:06:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579819594271752230" data-draft-id="7579798332778528777" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="InfluxDB 3 å…¥é—¨æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-04T15:06:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¹»è±¡é»‘å…”"/> <meta itemprop="url" content="https://juejin.cn/user/3039466500930398"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            InfluxDB 3 å…¥é—¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3039466500930398/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¹»è±¡é»‘å…”
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T15:06:59.000Z" title="Thu Dec 04 2025 15:06:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-light">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">ä»€ä¹ˆæ˜¯ InfluxDBï¼Ÿ</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Finfluxdata%2Finfluxdb" target="_blank" title="https://github.com/influxdata/influxdb" ref="nofollow noopener noreferrer">InfluxDB</a> æ˜¯ä¸€ä¸ªå¼€æºçš„<strong>æ—¶åºæ•°æ®åº“ï¼ˆTime Series Database, TSDBï¼‰</strong>ï¼Œä¸“ä¸ºé«˜æ•ˆå¤„ç†æ—¶é—´åºåˆ—æ•°æ®è€Œè®¾è®¡ã€‚å®ƒé€‚ç”¨äºå®æ—¶æ•°æ®æ‘„å–ã€ç›‘æ§ç³»ç»Ÿã€ç‰©è”ç½‘ï¼ˆIoTï¼‰ä¼ æ„Ÿå™¨æ•°æ®å­˜å‚¨ä¸åˆ†æç­‰åœºæ™¯ã€‚</p>
<h3 data-id="heading-1">ä¸»è¦ç‰¹æ€§</h3>
<ul>
<li>ğŸš€ <strong>é«˜æ€§èƒ½å†™å…¥</strong>ï¼šæ”¯æŒé«˜ååæ•°æ®å†™å…¥</li>
<li>ğŸ” <strong>çµæ´»æŸ¥è¯¢</strong>ï¼šæ”¯æŒ SQL å’Œ InfluxQL</li>
<li>âš™ï¸ <strong>å¯æ‰©å±•æ¶æ„</strong>ï¼šæ”¯æŒæ’ä»¶æœºåˆ¶ï¼Œå¯è‡ªå®šä¹‰æ•°æ®å¤„ç†é€»è¾‘</li>
<li>ğŸ§© <strong>æ˜“äºé›†æˆ</strong>ï¼šæä¾›å¤šç§å®¢æˆ·ç«¯åº“ï¼ˆPythonã€Goã€JS ç­‰ï¼‰</li>
</ul>
<blockquote>
<p>ğŸ’¡ <strong>å…¸å‹åº”ç”¨åœºæ™¯</strong>ï¼šå·¥ä¸šç‰©è”ç½‘ä¼ æ„Ÿå™¨ç›‘æ§ã€æœåŠ¡å™¨æ€§èƒ½ç›‘æ§ï¼ˆCPU/å†…å­˜ï¼‰ã€ç¯å¢ƒç›‘æµ‹ï¼ˆæ¸©æ¹¿åº¦ã€COâ‚‚ï¼‰ç­‰ã€‚</p>
</blockquote>
<h2 data-id="heading-2">å¿«é€Ÿå®‰è£…</h2>
<ol>
<li>æ‹‰å–é•œåƒ</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">docker pull influxdb:3-core 
</code></pre>
<ol start="2">
<li>åˆ›å»ºç›®å½•å¹¶é…ç½®æƒé™</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> -p /opt/influxdb3/data 
<span class="hljs-built_in">mkdir</span> -p /opt/influxdb3/plugins 
<span class="hljs-built_in">chown</span> -R 1500:1500 /opt/influxdb3 <span class="hljs-comment"># å®¹å™¨å†…ç”¨æˆ· UID:GID ä¸º 1500:1500</span>
</code></pre>
<ol start="3">
<li>å¯åŠ¨å®¹å™¨</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">docker run -d -p 8181:8181 \
    --privileged=<span class="hljs-literal">true</span> \
    -v /opt/influxdb3/data:/var/lib/influxdb3/data \
    -v /opt/influxdb3/plugins:/var/lib/influxdb3/plugins \
    --name influxdb3 \
    influxdb:3-core influxdb3 serve \
        --node-id=influxdb3-master \
        --object-store=file \
        --data-dir=/var/lib/influxdb3/data \
        --plugin-dir=/var/lib/influxdb3/plugins 
</code></pre>
<p>4.éªŒè¯å®¹å™¨è¿è¡ŒçŠ¶æ€</p>
<pre><code class="hljs language-bash" lang="bash"> docker <span class="hljs-built_in">exec</span> -it influxdb3 /bin/bash <span class="hljs-comment"># è¿›å…¥å®¹å™¨</span>
 influxdb3 --version <span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦æ­£å¸¸è¿è¡Œ</span>
</code></pre>
<h2 data-id="heading-3">ç”Ÿæˆtoken</h2>
<ol>
<li>åˆ›å»ºtoken</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">influxdb3 create token --admin
</code></pre>
<ol start="2">
<li>å°†tokenè®¾ç½®æˆç¯å¢ƒå˜é‡</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">export</span> TOKEN=[YOUR_TOKEN]  <span class="hljs-comment"># æ›¿æ¢ä¸ºå®é™…ç”Ÿæˆçš„Token</span>
</code></pre>
<ol start="3">
<li>éªŒè¯tokenæœ‰æ•ˆæ€§</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">influxdb3 show databases --token <span class="hljs-variable">$TOKEN</span> <span class="hljs-comment"># æŸ¥è¯¢æ•°æ®åº“åˆ—è¡¨</span>
</code></pre>
<h2 data-id="heading-4">InfluxDB è¡Œåè®®è¯¦è§£</h2>
<p>InfluxDB 3 ä¸ºé«˜å†™å…¥ååé‡è®¾è®¡äº†<strong>è¡Œåè®®</strong>ï¼Œè¿™æ˜¯ä¸€ç§é«˜æ•ˆä¸”æ˜“è¯»çš„å†™å…¥è¯­æ³•ï¼Œé¦–æ¬¡å†™å…¥æ•°æ®æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®åº“ã€è¡¨åŠå¯¹åº” Schemaã€‚</p>
<h3 data-id="heading-5">è¡Œåè®®ç»“æ„</h3>
<p>ä¸€è¡Œå®Œæ•´çš„è¡Œåè®®æ•°æ®åŒ…å« 4 ä¸ªæ ¸å¿ƒéƒ¨åˆ†ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-plaintext" lang="plaintext">&lt;table&gt;,&lt;tag-set&gt; &lt;field-set&gt; &lt;timestamp&gt;
</code></pre>
<p>å„éƒ¨åˆ†è¯´æ˜ï¼š</p>
<ul>
<li><strong>table</strong>ï¼šè¡¨åï¼Œå¦‚ç¤ºä¾‹ä¸­çš„<code>myTable</code>ï¼›</li>
<li><strong>tag set</strong>ï¼šæ ‡ç­¾é”®å€¼å¯¹ï¼ˆé”®å’Œå€¼å‡ä¸ºå­—ç¬¦ä¸²ï¼‰ï¼Œå¤šä¸ªæ ‡ç­¾ç”¨é€—å·åˆ†éš”ï¼Œå¦‚<code>tag1=val1,tag2=val2</code>ï¼›</li>
<li><strong>field set</strong>ï¼šå­—æ®µé”®å€¼å¯¹ï¼Œæ”¯æŒçš„å­—æ®µç±»å‹æœ‰<code>string</code>ï¼ˆéœ€åŠ å¼•å·ï¼‰ã€<code>float</code>ã€<code>integer</code>ï¼ˆåç¼€<code>i</code>ï¼‰ã€<code>unsigned integer</code>ã€<code>boolean</code>ï¼Œå¤šä¸ªå­—æ®µç”¨é€—å·åˆ†éš”ï¼Œå¦‚<code>field1="v1",field2=1i</code>ï¼›</li>
<li><strong>timestamp</strong>ï¼šUnix æ—¶é—´æˆ³ï¼Œéœ€æŒ‡å®šç²¾åº¦ï¼ˆå¦‚ç§’ã€æ¯«ç§’ï¼‰ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ca694a365184b4bb17c5575edcc5e9d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bm76LGh6buR5YWU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765466543&amp;x-signature=OX%2FU4dbRTkgdxgZ6Yf244YYdG%2B4%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-6">æ•°æ®å†™å…¥æ“ä½œ</h2>
<h3 data-id="heading-7">ä½¿ç”¨ CLI å†™å…¥æ•°æ®</h3>
<p>ä»¥å®¶åº­ç¯å¢ƒç›‘æ§æ•°æ®ä¸ºä¾‹ï¼Œå†™å…¥<code>home_environment</code>æ•°æ®åº“ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">influxdb3 write \
    --database home_environment\
    --token <span class="hljs-variable">$TOKEN</span>\
    --precision s \ <span class="hljs-comment"># æ—¶é—´æˆ³ç²¾åº¦ä¸ºç§’ </span>
<span class="hljs-string">'home,room=Living\ Room temp=21.1,hum=35.9,co=0i 1641024000
home,room=Kitchen temp=21.0,hum=35.9,co=0i 1641024000
home,room=Living\ Room temp=21.4,hum=35.9,co=0i 1641027600
home,room=Kitchen temp=23.0,hum=36.2,co=0i 1641027600
home,room=Living\ Room temp=21.8,hum=36.0,co=0i 1641031200
home,room=Kitchen temp=22.7,hum=36.1,co=0i 1641031200
home,room=Living\ Room temp=22.2,hum=36.0,co=0i 1641034800
home,room=Kitchen temp=22.4,hum=36.0,co=0i 1641034800
home,room=Living\ Room temp=22.2,hum=35.9,co=0i 1641038400
home,room=Kitchen temp=22.5,hum=36.0,co=0i 1641038400
home,room=Living\ Room temp=22.4,hum=36.0,co=0i 1641042000
home,room=Kitchen temp=22.8,hum=36.5,co=1i 1641042000
home,room=Living\ Room temp=22.3,hum=36.1,co=0i 1641045600
home,room=Kitchen temp=22.8,hum=36.3,co=1i 1641045600
home,room=Living\ Room temp=22.3,hum=36.1,co=1i 1641049200
home,room=Kitchen temp=22.7,hum=36.2,co=3i 1641049200
home,room=Living\ Room temp=22.4,hum=36.0,co=4i 1641052800
home,room=Kitchen temp=22.4,hum=36.0,co=7i 1641052800
home,room=Living\ Room temp=22.6,hum=35.9,co=5i 1641056400
home,room=Kitchen temp=22.7,hum=36.0,co=9i 1641056400
home,room=Living\ Room temp=22.8,hum=36.2,co=9i 1641060000
home,room=Kitchen temp=23.3,hum=36.9,co=18i 1641060000
home,room=Living\ Room temp=22.5,hum=36.3,co=14i 1641063600
home,room=Kitchen temp=23.1,hum=36.6,co=22i 1641063600
home,room=Living\ Room temp=22.2,hum=36.4,co=17i 1641067200
home,room=Kitchen temp=22.7,hum=36.5,co=26i 1641067200'</span>
</code></pre>
<h3 data-id="heading-8">ä½¿ç”¨Pythonå®¢æˆ·ç«¯å†™å…¥</h3>
<h4 data-id="heading-9">å®‰è£…ä¾èµ–</h4>
<pre><code class="hljs language-bash" lang="bash">uv pip install influxdb3-python
</code></pre>
<h4 data-id="heading-10">ç¼–å†™ä»£ç </h4>
<p>åˆ›å»º<code>influxdb_write.py</code>æ–‡ä»¶</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">from</span> influxdb_client_3 <span class="hljs-keyword">import</span> (
  Point, 
  InfluxDBError, 
  WriteOptions, 
  write_client_options, 
  InfluxDBClient3
)


points = [
  Point(<span class="hljs-string">'home'</span>)
    .tag(<span class="hljs-string">'room'</span>, <span class="hljs-string">'Bathroom'</span>)
    .field(<span class="hljs-string">'temp'</span>, <span class="hljs-number">25.5</span>)
    .field(<span class="hljs-string">'hum'</span>, <span class="hljs-number">50.0</span>)
    .field(<span class="hljs-string">'co'</span>, <span class="hljs-number">9</span>),
  Point(<span class="hljs-string">'home'</span>)
    .tag(<span class="hljs-string">'room'</span>, <span class="hljs-string">'Bedroom'</span>)
    .field(<span class="hljs-string">'temp'</span>, <span class="hljs-number">20.0</span>)
    .field(<span class="hljs-string">'hum'</span>, <span class="hljs-number">60.0</span>)
    .field(<span class="hljs-string">'co'</span>, <span class="hljs-number">10</span>)
]

<span class="hljs-keyword">def</span> <span class="hljs-title function_">success</span>(<span class="hljs-params">self, data: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Successfully wrote batch: data: <span class="hljs-subst">{data}</span>"</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">error</span>(<span class="hljs-params">self, data: <span class="hljs-built_in">str</span>, exception: InfluxDBError</span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Failed writing batch: config: <span class="hljs-subst">{self}</span>, data: <span class="hljs-subst">{data}</span> due: <span class="hljs-subst">{exception}</span>"</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">retry</span>(<span class="hljs-params">self, data: <span class="hljs-built_in">str</span>, exception: InfluxDBError</span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Failed retry writing batch: config: <span class="hljs-subst">{self}</span>, data: <span class="hljs-subst">{data}</span> retry: <span class="hljs-subst">{exception}</span>"</span>)


write_options = WriteOptions(
  batch_size=<span class="hljs-number">500</span>,
  flush_interval=<span class="hljs-number">10_000</span>,
  jitter_interval=<span class="hljs-number">2_000</span>,
  retry_interval=<span class="hljs-number">5_000</span>,
  max_retries=<span class="hljs-number">3</span>,
  max_retry_delay=<span class="hljs-number">30_000</span>,
  exponential_base=<span class="hljs-number">2</span>,
)

wco = write_client_options(
  success_callback=success,
  error_callback=error,
  retry_callback=retry,
  write_options=write_options,
)

<span class="hljs-keyword">with</span> InfluxDBClient3(
  host=<span class="hljs-string">'http://localhost:8181/'</span>,
  token=os.getenv(<span class="hljs-string">"INFLUXDB_TOKEN"</span>),
  database=<span class="hljs-string">'home_environment'</span>,
  write_client_options=wco
) <span class="hljs-keyword">as</span> client:
  client.write(points, write_precision=<span class="hljs-string">'s'</span>)
</code></pre>
<p>3.æ‰§è¡Œå†™å…¥</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">export</span> INFLUXDB_TOKEN=[YOUR_INFLUXDB_TOKEN] <span class="hljs-comment"># æ›¿æ¢ä¸ºå®é™…Token</span>
python influxdb_write.py
</code></pre>
<h2 data-id="heading-11">æ•°æ®åº“æŸ¥è¯¢æ“ä½œ</h2>
<p>InfluxDB 3 æ”¯æŒ<strong>SQL</strong>ï¼ˆæ¨èï¼ŒåŸºäº Apache Arrow DataFusion å¼•æ“ï¼‰å’Œ<strong>InfluxQL</strong>æŸ¥è¯¢ï¼Œä»¥ä¸‹ä»¥ SQL ä¸ºä¾‹æ¼”ç¤ºæŸ¥è¯¢æ“ä½œã€‚</p>
<h3 data-id="heading-12">ä½¿ç”¨ CLI æŸ¥è¯¢</h3>
<pre><code class="hljs language-bash" lang="bash">influxdb3 query \
  --database home_environment \
  --token <span class="hljs-variable">$TOKEN</span> \
  <span class="hljs-string">"SELECT * FROM home ORDER BY time"</span>
</code></pre>
<h3 data-id="heading-13">ä½¿ç”¨Pythonå®¢æˆ·ç«¯æŸ¥è¯¢</h3>
<p>åˆ›å»º<code>influxdb_query.py</code>æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">from</span> pyarrow <span class="hljs-keyword">import</span> Table
<span class="hljs-keyword">from</span> influxdb_client_3 <span class="hljs-keyword">import</span> (
  InfluxDBClient3
)


<span class="hljs-keyword">with</span> InfluxDBClient3(
  host=<span class="hljs-string">'http://localhost:8181/'</span>,
  token=os.getenv(<span class="hljs-string">"INFLUXDB_TOKEN"</span>),
  database=<span class="hljs-string">'home_environment'</span>
) <span class="hljs-keyword">as</span> client:
  query = <span class="hljs-string">"""
    SELECT * FROM home WHERE room = 'Bathroom'
  """</span>
  reader: Table = client.query(query=query, language=<span class="hljs-string">'sql'</span>)
  rows = reader.to_pylist()
  <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> rows:
    <span class="hljs-built_in">print</span>(row) <span class="hljs-comment"># æ‰“å°ä¸€è¡Œæ•°æ®</span>
</code></pre>
<h3 data-id="heading-14">å¸¸ç”¨SQLæŸ¥è¯¢ç¤ºä¾‹</h3>
<h4 data-id="heading-15">Schema æŸ¥è¯¢</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥è¯¢tables</span>
<span class="hljs-keyword">show</span> tables;

<span class="hljs-comment">-- æŸ¥è¯¢tableå­—æ®µ</span>
<span class="hljs-keyword">show</span> columns <span class="hljs-keyword">in</span> home;
</code></pre>
<h4 data-id="heading-16">åŸºç¡€æ•°æ®æŸ¥è¯¢</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥è¯¢è¡¨ä¸­æ‰€æœ‰æ•°æ®</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> home;

<span class="hljs-comment">-- æŒ‰æ—¶é—´è¿‡æ»¤æŸ¥è¯¢ï¼ˆè¿‘1å¤©æ•°æ®ï¼‰</span>
<span class="hljs-keyword">SELECT</span> temp, hum, room, <span class="hljs-type">time</span> <span class="hljs-keyword">FROM</span> home
<span class="hljs-keyword">WHERE</span> <span class="hljs-type">time</span> <span class="hljs-operator">&gt;=</span> now() <span class="hljs-operator">-</span> <span class="hljs-type">INTERVAL</span> <span class="hljs-string">'1 day'</span> <span class="hljs-keyword">AND</span> <span class="hljs-type">time</span> <span class="hljs-operator">&lt;=</span> now();
  
<span class="hljs-comment">-- æŒ‰æ ‡ç­¾æˆ–å­—æ®µè¿‡æ»¤</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> home <span class="hljs-keyword">WHERE</span> room <span class="hljs-operator">=</span> <span class="hljs-string">'Bathroom'</span> <span class="hljs-keyword">AND</span> temp <span class="hljs-operator">&gt;=</span> <span class="hljs-number">22.5</span>;
  
<span class="hljs-comment">-- å­—æ®µåˆ«å</span>
<span class="hljs-keyword">SELECT</span> temp <span class="hljs-string">'temperature'</span>, hum <span class="hljs-string">'humidity'</span> <span class="hljs-keyword">FROM</span> home;
</code></pre>
<h4 data-id="heading-17">èšåˆæŸ¥è¯¢</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è®¡ç®—å¹³å‡æ¸©åº¦å’Œæ¹¿åº¦</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">AVG</span>(temp) <span class="hljs-keyword">AS</span> temperature, <span class="hljs-built_in">AVG</span>(hum) <span class="hljs-keyword">AS</span> humidity <span class="hljs-keyword">FROM</span> home;

<span class="hljs-comment">-- æŒ‰æˆ¿é—´åˆ†ç»„ï¼Œè·å–æ¯ä¸ªæˆ¿é—´çš„ç¬¬ä¸€æ¡æ¸©åº¦æ•°æ®</span>
<span class="hljs-comment">-- è¿”å›ç¤ºä¾‹ï¼š[{'time': Timestamp('2022-01-01 08:00:00'), 'temp': 21.0, 'room': 'Kitchen'}]</span>
<span class="hljs-keyword">SELECT</span> 
	selector_first(temp, <span class="hljs-type">time</span>)[<span class="hljs-string">'time'</span>] <span class="hljs-keyword">AS</span> <span class="hljs-type">time</span>, 
	selector_first(temp, <span class="hljs-type">time</span>)[<span class="hljs-string">'value'</span>] <span class="hljs-keyword">AS</span> temp, 
	room 
<span class="hljs-keyword">FROM</span> home <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> room;
</code></pre>
<h4 data-id="heading-18">ç±»å‹è½¬æ¢</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">CAST</span>(<span class="hljs-number">1234.5</span> <span class="hljs-keyword">AS</span> <span class="hljs-type">BIGINT</span>) <span class="hljs-keyword">AS</span> temp; <span class="hljs-comment">-- {'temp': 1234}</span>

<span class="hljs-keyword">SELECT</span> <span class="hljs-number">1234.5</span>::<span class="hljs-type">BIGINT</span> <span class="hljs-keyword">AS</span> temp; <span class="hljs-comment">-- {'temp': 1234}</span>

<span class="hljs-comment">-- è½¬æ¢è¡¨ä¸­å­—æ®µç±»å‹</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">CAST</span>(<span class="hljs-type">time</span> <span class="hljs-keyword">AS</span> <span class="hljs-type">time</span>) <span class="hljs-keyword">AS</span> <span class="hljs-type">time</span>, <span class="hljs-built_in">CAST</span>(temp <span class="hljs-keyword">AS</span> <span class="hljs-type">integer</span>) <span class="hljs-keyword">AS</span> temp, room <span class="hljs-keyword">FROM</span> home;
</code></pre>
<h4 data-id="heading-19">é«˜çº§æ•°æ®åˆ†æ</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è®¡ç®—åŒæˆ¿é—´ç›¸é‚»æ•°æ®çš„æ¸©å·®</span>
<span class="hljs-comment">-- LAG(temp, 1) è¡¨ç¤ºè·å–ä¸Šä¸€æ¡æ•°æ®çš„tempå€¼ï¼ˆç¬¬ä¸€è¡Œæ•°æ®temp_diffä¸ºç©ºï¼‰</span>
<span class="hljs-comment">-- LAG(temp, 1, 0) å¦‚æœæ˜¯ç¬¬ä¸€æ¡æ•°æ®åˆ™è¿”å›0</span>
<span class="hljs-comment">-- PARTITION BY room è¡¨ç¤ºæ ¹æ®æˆ¿é—´åˆ†å‰²æ•°æ®ã€‚ä¸ä¼šè·¨æˆ¿é—´è®¡ç®—</span>
<span class="hljs-comment">-- ORDER BY time æŒ‰æ—¶é—´é¡ºåºæ’åº</span>
<span class="hljs-keyword">SELECT</span> 
  <span class="hljs-type">time</span>,
  room,
  temp,
  temp <span class="hljs-operator">-</span> <span class="hljs-built_in">LAG</span>(temp, <span class="hljs-number">1</span>) <span class="hljs-keyword">OVER</span> (<span class="hljs-keyword">PARTITION</span> <span class="hljs-keyword">BY</span> room <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-type">time</span>) <span class="hljs-keyword">AS</span> temp_diff
<span class="hljs-keyword">FROM</span> home
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> room, <span class="hljs-type">time</span>;
  
<span class="hljs-comment">-- è®¡ç®—æ¸©åº¦çš„ç™¾åˆ†æ¯”å˜åŒ–ï¼ˆä¿ç•™2ä½å°æ•°ï¼‰</span>
<span class="hljs-keyword">SELECT</span> 
  <span class="hljs-type">time</span>,
  room,
  temp,
  ROUND(
    (temp <span class="hljs-operator">-</span> <span class="hljs-built_in">LAG</span>(temp, <span class="hljs-number">1</span>) <span class="hljs-keyword">OVER</span> (<span class="hljs-keyword">PARTITION</span> <span class="hljs-keyword">BY</span> room <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-type">time</span>)) <span class="hljs-operator">/</span> 
      <span class="hljs-built_in">LAG</span>(temp, <span class="hljs-number">1</span>) <span class="hljs-keyword">OVER</span> (<span class="hljs-keyword">PARTITION</span> <span class="hljs-keyword">BY</span> room <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-type">time</span>) <span class="hljs-operator">*</span> <span class="hljs-number">100</span>,
    <span class="hljs-number">2</span>
  ) <span class="hljs-keyword">AS</span> precent_change
<span class="hljs-keyword">FROM</span> 
  home
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> 
  room,
  <span class="hljs-type">time</span>;
</code></pre>
<h2 data-id="heading-20">è‡ªå®šä¹‰æ’ä»¶æ‰©å±•åŠŸèƒ½</h2>
<p>InfluxDB 3 æ”¯æŒ Python ç¼–å†™çš„æ’ä»¶å®ç°åŠŸèƒ½æ‰©å±•ï¼ˆå¦‚æ•°æ®è½¬æ¢ã€å®šæ—¶ä»»åŠ¡ï¼‰ï¼Œä»¥ä¸‹æ¼”ç¤ºç»Ÿè®¡<code>home</code>è¡¨å†™å…¥è¡Œæ•°çš„æ’ä»¶å¼€å‘æµç¨‹ã€‚</p>
<h3 data-id="heading-21">ç¼–å†™æ’ä»¶ä»£ç </h3>
<p>åœ¨<code>/opt/influxdb3/plugins</code>ï¼ˆæ’ä»¶æŒ‚è½½ç›®å½•ï¼‰ç›®å½•ä¸‹åˆ›å»º<code>test_plugin.py</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è¯¥æ’ä»¶è®°å½•æ¯æ¬¡å†™å…¥homeçš„æ•°æ®çš„è¡Œæ•°</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">process_writes</span>(<span class="hljs-params">influxdb3_local, table_batches, args=<span class="hljs-literal">None</span></span>):
    <span class="hljs-comment"># Process data as it's written to the database</span>
    <span class="hljs-keyword">for</span> table_batch <span class="hljs-keyword">in</span> table_batches:
        table_name = table_batch[<span class="hljs-string">"table_name"</span>]
        rows = table_batch[<span class="hljs-string">"rows"</span>]
        
        <span class="hljs-comment"># Log information about the write</span>
        influxdb3_local.info(<span class="hljs-string">f"Processing <span class="hljs-subst">{<span class="hljs-built_in">len</span>(rows)}</span> rows from <span class="hljs-subst">{table_name}</span>"</span>)
        
        <span class="hljs-comment"># Write derived data back to the database</span>
        line = LineBuilder(<span class="hljs-string">"test_plugin"</span>)
        line.tag(<span class="hljs-string">"source_table"</span>, table_name)
        line.int64_field(<span class="hljs-string">"row_count"</span>, <span class="hljs-built_in">len</span>(rows))
        influxdb3_local.write(line)
</code></pre>
<h3 data-id="heading-22">åˆ›å»ºæ’ä»¶è§¦å‘å™¨</h3>
<pre><code class="hljs language-bash" lang="bash">influxdb3 create trigger\
  --trigger-spec <span class="hljs-string">"table:home"</span>\
  --plugin-filename <span class="hljs-string">"test_plugin.py"</span>\
  --database home_environment\
  --token <span class="hljs-variable">$TOKEN</span> \
  test_trigger
</code></pre>
<h3 data-id="heading-23">éªŒè¯æ’ä»¶æœ‰æ•ˆæ€§</h3>
<ol>
<li>å†æ¬¡å‘<code>home</code>è¡¨å†™å…¥æ•°æ®ï¼›</li>
<li>æŸ¥è¯¢<code>test_plugin</code>è¡¨ï¼ŒéªŒè¯ç»Ÿè®¡æ•°æ®æ˜¯å¦ç”Ÿæˆï¼š</li>
</ol>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> row_count, source_table <span class="hljs-keyword">FROM</span> test_plugin; 
<span class="hljs-comment">-- é¢„æœŸç»“æœï¼š{'row_count': 2, 'source_table': 'home'}</span>
</code></pre>
<h2 data-id="heading-24">å‚è€ƒæ–‡æ¡£</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.influxdata.com%2Finfluxdb3%2Fcore%2F" target="_blank" title="https://docs.influxdata.com/influxdb3/core/" ref="nofollow noopener noreferrer">InfluxDB 3 Core Documentation</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Finfluxdata%2Finfluxdb3_plugins" target="_blank" title="https://github.com/influxdata/influxdb3_plugins" ref="nofollow noopener noreferrer">influxdata/influxdb3_plugins: Python plugins for InfluxDB 3</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FInfluxCommunity%2Finfluxdb3-python" target="_blank" title="https://github.com/InfluxCommunity/influxdb3-python" ref="nofollow noopener noreferrer">InfluxCommunity/influxdb3-python: Python module that provides a simple and convenient way to interact with InfluxDB 3.0.</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[openEulerè·¨å¹³å°é€‚é…èƒ½åŠ›ä¸æ€§èƒ½å®æµ‹ï¼šå¼€ç®±å³ç”¨çš„å¤šæ¶æ„æ”¯æŒ]]></title>    <link>https://juejin.cn/post/7579808521204351010</link>    <guid>https://juejin.cn/post/7579808521204351010</guid>    <pubDate>2025-12-04T15:13:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579808521204351010" data-draft-id="7579813945601245224" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="openEulerè·¨å¹³å°é€‚é…èƒ½åŠ›ä¸æ€§èƒ½å®æµ‹ï¼šå¼€ç®±å³ç”¨çš„å¤šæ¶æ„æ”¯æŒ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-04T15:13:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è§£è¯»ç«ç‘°"/> <meta itemprop="url" content="https://juejin.cn/user/1489179674424810"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            openEulerè·¨å¹³å°é€‚é…èƒ½åŠ›ä¸æ€§èƒ½å®æµ‹ï¼šå¼€ç®±å³ç”¨çš„å¤šæ¶æ„æ”¯æŒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1489179674424810/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è§£è¯»ç«ç‘°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T15:13:27.000Z" title="Thu Dec 04 2025 15:13:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å¼•è¨€</h2>
<p>ç°ä»£æ•°æ®ä¸­å¿ƒå‘ˆç°æ¶æ„å¤šæ ·åŒ–è¶‹åŠ¿ï¼Œx86ã€ARMã€RISC-Vç­‰ä¸åŒæ¶æ„æœåŠ¡å™¨å¹¶å­˜å·²æˆå¸¸æ€ã€‚æ“ä½œç³»ç»Ÿçš„è·¨å¹³å°èƒ½åŠ›ç›´æ¥å½±å“ä¼ä¸šæŠ€æœ¯é€‰å‹çš„çµæ´»æ€§ã€‚æœ¬æ–‡é€šè¿‡åœ¨x86_64ã€AArch64ã€RISC-Vç­‰ä¸»æµå¹³å°ä¸Šçš„ç³»ç»ŸåŒ–æµ‹è¯•ï¼Œè¯„ä¼°openEulerçš„å¤šæ¶æ„æ”¯æŒèƒ½åŠ›å’Œæ€§èƒ½è¡¨ç°ã€‚</p>
<h3 data-id="heading-1">äºŒã€å¤šæ¶æ„æ”¯æŒçš„å…¨é¢æ€§è¯„æµ‹</h3>
<h4 data-id="heading-2">2.1 ä¸»æµæ¶æ„é•œåƒå¯ç”¨æ€§åˆ†æ</h4>
<p>openEuleræä¾›å¤šæ¶æ„é•œåƒæ”¯æŒã€‚æœ¬èŠ‚æµ‹è¯•å„æ¶æ„é•œåƒçš„è·å–ä¾¿æ·æ€§å’Œè½¯ä»¶åŒ…å®Œæ•´æ€§ã€‚</p>
<h5 data-id="heading-3">2.1.1 é•œåƒä¸‹è½½ä¸éªŒè¯æµ‹è¯•</h5>
<p>å…ˆçœ‹çœ‹å„æ¶æ„é•œåƒçš„ä¸‹è½½æ€§èƒ½ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># multi_arch_download_test.sh - å¤šæ¶æ„é•œåƒä¸‹è½½æ€§èƒ½æµ‹è¯•</span>

MIRROR_BASE=<span class="hljs-string">"https://repo.openeuler.org/openEuler-22.03-LTS-SP3"</span>
TEST_RESULTS=<span class="hljs-string">"/tmp/multi_arch_test_<span class="hljs-subst">$(date +%Y%m%d_%H%M%S)</span>.log"</span>

<span class="hljs-comment"># å®šä¹‰æ¶æ„åˆ—è¡¨</span>
<span class="hljs-built_in">declare</span> -A ARCHS=(
    [<span class="hljs-string">"x86_64"</span>]=<span class="hljs-string">"<span class="hljs-variable">$MIRROR_BASE</span>/ISO/x86_64/openEuler-22.03-LTS-SP3-x86_64-dvd.iso"</span>
    [<span class="hljs-string">"aarch64"</span>]=<span class="hljs-string">"<span class="hljs-variable">$MIRROR_BASE</span>/ISO/aarch64/openEuler-22.03-LTS-SP3-aarch64-dvd.iso"</span>
    [<span class="hljs-string">"riscv64"</span>]=<span class="hljs-string">"<span class="hljs-variable">$MIRROR_BASE</span>/ISO/riscv64/openEuler-22.03-LTS-SP3-riscv64-dvd.iso"</span>
)

<span class="hljs-built_in">echo</span> <span class="hljs-string">"========== openEulerå¤šæ¶æ„é•œåƒä¸‹è½½æµ‹è¯• =========="</span> | <span class="hljs-built_in">tee</span> -a <span class="hljs-string">"<span class="hljs-variable">$TEST_RESULTS</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æµ‹è¯•æ—¶é—´: <span class="hljs-subst">$(date)</span>"</span> | <span class="hljs-built_in">tee</span> -a <span class="hljs-string">"<span class="hljs-variable">$TEST_RESULTS</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ç½‘ç»œç¯å¢ƒ: 100Mbpså•†ä¸šå®½å¸¦"</span> | <span class="hljs-built_in">tee</span> -a <span class="hljs-string">"<span class="hljs-variable">$TEST_RESULTS</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span> | <span class="hljs-built_in">tee</span> -a <span class="hljs-string">"<span class="hljs-variable">$TEST_RESULTS</span>"</span>

<span class="hljs-keyword">for</span> <span class="hljs-built_in">arch</span> <span class="hljs-keyword">in</span> <span class="hljs-string">"<span class="hljs-variable">${!ARCHS[@]}</span>"</span>; <span class="hljs-keyword">do</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"ã€æµ‹è¯•æ¶æ„: <span class="hljs-variable">$arch</span>ã€‘"</span> | <span class="hljs-built_in">tee</span> -a <span class="hljs-string">"<span class="hljs-variable">$TEST_RESULTS</span>"</span>
    url=<span class="hljs-string">"<span class="hljs-variable">${ARCHS[$arch]}</span>"</span>
    
    <span class="hljs-comment"># è·å–æ–‡ä»¶ä¿¡æ¯</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"URL: <span class="hljs-variable">$url</span>"</span> | <span class="hljs-built_in">tee</span> -a <span class="hljs-string">"<span class="hljs-variable">$TEST_RESULTS</span>"</span>
    
    <span class="hljs-comment"># æµ‹è¯•ä¸‹è½½é€Ÿåº¦ï¼ˆä»…ä¸‹è½½å‰100MBï¼‰</span>
    <span class="hljs-built_in">echo</span> -n <span class="hljs-string">"ä¸‹è½½æ€§èƒ½æµ‹è¯•..."</span> | <span class="hljs-built_in">tee</span> -a <span class="hljs-string">"<span class="hljs-variable">$TEST_RESULTS</span>"</span>
    start_time=$(<span class="hljs-built_in">date</span> +%s.%N)
    curl -r 0-104857600 -o <span class="hljs-string">"/tmp/<span class="hljs-variable">${arch}</span>_test.iso"</span> <span class="hljs-string">"<span class="hljs-variable">$url</span>"</span> 2&gt;&amp;1 | \
        grep -oP <span class="hljs-string">'\d+.\d+[KM]/s'</span> | <span class="hljs-built_in">tail</span> -1 | <span class="hljs-built_in">tee</span> -a <span class="hljs-string">"<span class="hljs-variable">$TEST_RESULTS</span>"</span>
    end_time=$(<span class="hljs-built_in">date</span> +%s.%N)
    
    <span class="hljs-comment"># è®¡ç®—ä¸‹è½½é€Ÿåº¦</span>
    duration=$(<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$end_time</span> - <span class="hljs-variable">$start_time</span>"</span> | bc)
    speed=$(<span class="hljs-built_in">echo</span> <span class="hljs-string">"scale=2; 100 / <span class="hljs-variable">$duration</span>"</span> | bc)
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"å¹³å‡é€Ÿåº¦: <span class="hljs-variable">${speed}</span> MB/s"</span> | <span class="hljs-built_in">tee</span> -a <span class="hljs-string">"<span class="hljs-variable">$TEST_RESULTS</span>"</span>
    
    <span class="hljs-comment"># è·å–å®Œæ•´æ–‡ä»¶å¤§å°</span>
    file_size=$(curl -sI <span class="hljs-string">"<span class="hljs-variable">$url</span>"</span> | grep -i content-length | awk <span class="hljs-string">'{print $2}'</span> | <span class="hljs-built_in">tr</span> -d <span class="hljs-string">'\r'</span>)
    size_gb=$(<span class="hljs-built_in">echo</span> <span class="hljs-string">"scale=2; <span class="hljs-variable">$file_size</span> / 1024 / 1024 / 1024"</span> | bc)
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"é•œåƒå¤§å°: <span class="hljs-variable">${size_gb}</span> GB"</span> | <span class="hljs-built_in">tee</span> -a <span class="hljs-string">"<span class="hljs-variable">$TEST_RESULTS</span>"</span>
    
    <span class="hljs-comment"># ä¼°ç®—å®Œæ•´ä¸‹è½½æ—¶é—´</span>
    total_time=$(<span class="hljs-built_in">echo</span> <span class="hljs-string">"scale=0; <span class="hljs-variable">$size_gb</span> * 1024 / <span class="hljs-variable">$speed</span>"</span> | bc)
    minutes=$((total_time / <span class="hljs-number">60</span>))
    seconds=$((total_time % <span class="hljs-number">60</span>))
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"é¢„è®¡ä¸‹è½½æ—¶é—´: <span class="hljs-variable">${minutes}</span>åˆ†<span class="hljs-variable">${seconds}</span>ç§’"</span> | <span class="hljs-built_in">tee</span> -a <span class="hljs-string">"<span class="hljs-variable">$TEST_RESULTS</span>"</span>
    
    <span class="hljs-comment"># éªŒè¯SHA256ï¼ˆå¦‚æœæœ‰ï¼‰</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"éªŒè¯å®Œæ•´æ€§æ£€æŸ¥..."</span> | <span class="hljs-built_in">tee</span> -a <span class="hljs-string">"<span class="hljs-variable">$TEST_RESULTS</span>"</span>
    
    <span class="hljs-comment"># æ¸…ç†æµ‹è¯•æ–‡ä»¶</span>
    <span class="hljs-built_in">rm</span> -f <span class="hljs-string">"/tmp/<span class="hljs-variable">${arch}</span>_test.iso"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">""</span> | <span class="hljs-built_in">tee</span> -a <span class="hljs-string">"<span class="hljs-variable">$TEST_RESULTS</span>"</span>
<span class="hljs-keyword">done</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"========== æµ‹è¯•å®Œæˆ =========="</span> | <span class="hljs-built_in">tee</span> -a <span class="hljs-string">"<span class="hljs-variable">$TEST_RESULTS</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"è¯¦ç»†æŠ¥å‘Š: <span class="hljs-variable">$TEST_RESULTS</span>"</span>
</code></pre>
<p>æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p>
<p><strong>é•œåƒå¯ç”¨æ€§æµ‹è¯•æ•°æ®ï¼š</strong></p>


















































<table><thead><tr><th>æ¶æ„ç±»å‹</th><th>é•œåƒå¯ç”¨æ€§</th><th>é•œåƒå¤§å°</th><th>åŒ…å«è½¯ä»¶åŒ…æ•°é‡</th><th>ä¸‹è½½è€—æ—¶(100Mbps)</th><th>å¹³å‡é€Ÿåº¦</th><th>å³°å€¼é€Ÿåº¦</th></tr></thead><tbody><tr><td>x86_64</td><td>âœ“ å®Œæ•´æ”¯æŒ</td><td>3.2 GB</td><td>4,280+</td><td>4åˆ†35ç§’</td><td>11.96 MB/s</td><td>12.45 MB/s</td></tr><tr><td>AArch64</td><td>âœ“ å®Œæ•´æ”¯æŒ</td><td>3.1 GB</td><td>4,150+</td><td>4åˆ†28ç§’</td><td>11.89 MB/s</td><td>12.38 MB/s</td></tr><tr><td>RISC-V</td><td>âœ“ å®Œæ•´æ”¯æŒ</td><td>2.8 GB</td><td>3,850+</td><td>4åˆ†02ç§’</td><td>11.85 MB/s</td><td>12.31 MB/s</td></tr><tr><td>LoongArch</td><td>âœ“ æ”¯æŒ</td><td>2.9 GB</td><td>3,920+</td><td>4åˆ†12ç§’</td><td>11.78 MB/s</td><td>12.25 MB/s</td></tr></tbody></table>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc1249128b654b679f0c596b4f936c1e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Kej6K-7546r55Gw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765466007&amp;x-signature=aoKX0wEeYUQxWiV7Ltg5VXcLpj0%3D" alt="" loading="lazy"/></p>
<h5 data-id="heading-4">2.1.2 é•œåƒå®Œæ•´æ€§ä¸è½¯ä»¶åŒ…åˆ†æ</h5>
<p>æœ¬èŠ‚åˆ†æå„æ¶æ„é•œåƒçš„è½¯ä»¶åŒ…å®Œæ•´æ€§ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># analyze_iso_packages.sh - åˆ†æISOé•œåƒè½¯ä»¶åŒ…</span>

<span class="hljs-function"><span class="hljs-title">analyze_iso</span></span>() {
    <span class="hljs-built_in">local</span> iso_path=<span class="hljs-variable">$1</span>
    <span class="hljs-built_in">local</span> <span class="hljs-built_in">arch</span>=<span class="hljs-variable">$2</span>
    <span class="hljs-built_in">local</span> mount_point=<span class="hljs-string">"/mnt/iso_<span class="hljs-variable">${arch}</span>"</span>
    
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"========== åˆ†æ <span class="hljs-variable">$arch</span> æ¶æ„é•œåƒ =========="</span>
    
    <span class="hljs-comment"># æŒ‚è½½ISO</span>
    sudo <span class="hljs-built_in">mkdir</span> -p <span class="hljs-string">"<span class="hljs-variable">$mount_point</span>"</span>
    sudo mount -o loop <span class="hljs-string">"<span class="hljs-variable">$iso_path</span>"</span> <span class="hljs-string">"<span class="hljs-variable">$mount_point</span>"</span>
    
    <span class="hljs-comment"># ç»Ÿè®¡è½¯ä»¶åŒ…æ•°é‡</span>
    pkg_count=$(find <span class="hljs-string">"<span class="hljs-variable">$mount_point</span>/Packages"</span> -name <span class="hljs-string">"*.rpm"</span> 2&gt;/dev/null | <span class="hljs-built_in">wc</span> -l)
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"è½¯ä»¶åŒ…æ€»æ•°: <span class="hljs-variable">$pkg_count</span>"</span>
    
    <span class="hljs-comment"># åˆ†ææ ¸å¿ƒç»„ä»¶</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"æ ¸å¿ƒè½¯ä»¶åŒ…åˆ†æ:"</span>
    <span class="hljs-keyword">for</span> category <span class="hljs-keyword">in</span> <span class="hljs-string">"kernel"</span> <span class="hljs-string">"gcc"</span> <span class="hljs-string">"glibc"</span> <span class="hljs-string">"systemd"</span> <span class="hljs-string">"docker"</span> <span class="hljs-string">"kubernetes"</span>; <span class="hljs-keyword">do</span>
        count=$(find <span class="hljs-string">"<span class="hljs-variable">$mount_point</span>/Packages"</span> -name <span class="hljs-string">"<span class="hljs-variable">${category}</span>*.rpm"</span> 2&gt;/dev/null | <span class="hljs-built_in">wc</span> -l)
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"  - <span class="hljs-variable">$category</span>: <span class="hljs-variable">$count</span> ä¸ªåŒ…"</span>
    <span class="hljs-keyword">done</span>
    
    <span class="hljs-comment"># è®¡ç®—æ€»å¤§å°</span>
    total_size=$(<span class="hljs-built_in">du</span> -sh <span class="hljs-string">"<span class="hljs-variable">$mount_point</span>"</span> | awk <span class="hljs-string">'{print $1}'</span>)
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"é•œåƒæ€»å¤§å°: <span class="hljs-variable">$total_size</span>"</span>
    
    <span class="hljs-comment"># å¸è½½</span>
    sudo umount <span class="hljs-string">"<span class="hljs-variable">$mount_point</span>"</span>
    sudo <span class="hljs-built_in">rmdir</span> <span class="hljs-string">"<span class="hljs-variable">$mount_point</span>"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
}

<span class="hljs-comment"># å¯¹å„æ¶æ„è¿›è¡Œåˆ†æ</span>
analyze_iso <span class="hljs-string">"/path/to/openEuler-x86_64.iso"</span> <span class="hljs-string">"x86_64"</span>
analyze_iso <span class="hljs-string">"/path/to/openEuler-aarch64.iso"</span> <span class="hljs-string">"aarch64"</span>
analyze_iso <span class="hljs-string">"/path/to/openEuler-riscv64.iso"</span> <span class="hljs-string">"riscv64"</span>
</code></pre>
<p>æµ‹è¯•ç»“æœè¡¨æ˜ï¼ŒopenEuleråœ¨ä¸»æµæ¶æ„ä¸Šæä¾›ä¸€è‡´çš„è·å–ä½“éªŒã€‚å„æ¶æ„é•œåƒå¤§å°ç›¸è¿‘ï¼Œä¸‹è½½æ—¶é—´å·®å¼‚å°äº10%ï¼Œæ ¸å¿ƒè½¯ä»¶åŒ…è¦†ç›–ç‡è¾¾95%ä»¥ä¸Šï¼Œä½“ç°äº†è·¨å¹³å°æ”¯æŒçš„å‡è¡¡æ€§ã€‚</p>
<h4 data-id="heading-5">2.2 ä¸åŒæ¶æ„å®‰è£…æ€§èƒ½å¯¹æ¯”</h4>
<p>æœ¬èŠ‚åœ¨å››ç§ä¸»æµæ¶æ„å¹³å°ä¸Šè¿›è¡Œæ ‡å‡†åŒ–å®‰è£…æµ‹è¯•ï¼Œè¯„ä¼°openEuleråœ¨ä¸åŒç¡¬ä»¶ç¯å¢ƒä¸‹çš„éƒ¨ç½²æ•ˆç‡ã€‚æµ‹è¯•é‡‡ç”¨è‡ªåŠ¨åŒ–ç›‘æ§è„šæœ¬ç¡®ä¿æ•°æ®å‡†ç¡®æ€§ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># install_monitor_multiarch.sh - å¤šæ¶æ„å®‰è£…æ€§èƒ½ç›‘æ§</span>

LOG_FILE=<span class="hljs-string">"/var/log/openeuler_install_monitor.log"</span>
INTERVAL=2  <span class="hljs-comment"># ç›‘æ§é—´éš”ï¼ˆç§’ï¼‰</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"========== openEulerå®‰è£…æ€§èƒ½ç›‘æ§ =========="</span> | <span class="hljs-built_in">tee</span> -a <span class="hljs-string">"<span class="hljs-variable">$LOG_FILE</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æ¶æ„: <span class="hljs-subst">$(uname -m)</span>"</span> | <span class="hljs-built_in">tee</span> -a <span class="hljs-string">"<span class="hljs-variable">$LOG_FILE</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"CPU: <span class="hljs-subst">$(lscpu | grep 'Model name' | cut -d: -f2 | xargs)</span>"</span> | <span class="hljs-built_in">tee</span> -a <span class="hljs-string">"<span class="hljs-variable">$LOG_FILE</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å†…å­˜: <span class="hljs-subst">$(free -h | grep Mem | awk '{print $2}')</span>"</span> | <span class="hljs-built_in">tee</span> -a <span class="hljs-string">"<span class="hljs-variable">$LOG_FILE</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å¼€å§‹æ—¶é—´: <span class="hljs-subst">$(date '+%Y-%m-%d %H:%M:%S')</span>"</span> | <span class="hljs-built_in">tee</span> -a <span class="hljs-string">"<span class="hljs-variable">$LOG_FILE</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"</span> | <span class="hljs-built_in">tee</span> -a <span class="hljs-string">"<span class="hljs-variable">$LOG_FILE</span>"</span>

START_TIME=$(<span class="hljs-built_in">date</span> +%s)
PREV_DISK_READ=0
PREV_DISK_WRITE=0

<span class="hljs-keyword">while</span> <span class="hljs-literal">true</span>; <span class="hljs-keyword">do</span>
    <span class="hljs-comment"># è·å–å½“å‰æ—¶é—´</span>
    CURRENT_TIME=$(<span class="hljs-built_in">date</span> +%s)
    ELAPSED=$((CURRENT_TIME - START_TIME))
    
    <span class="hljs-comment"># CPUä½¿ç”¨ç‡</span>
    CPU_USAGE=$(top -bn1 | grep <span class="hljs-string">"Cpu(s)"</span> | awk <span class="hljs-string">'{print $2}'</span> | <span class="hljs-built_in">cut</span> -d<span class="hljs-string">'%'</span> -f1)
    
    <span class="hljs-comment"># å†…å­˜ä½¿ç”¨</span>
    MEM_USED=$(free -m | grep Mem | awk <span class="hljs-string">'{print $3}'</span>)
    MEM_TOTAL=$(free -m | grep Mem | awk <span class="hljs-string">'{print $2}'</span>)
    MEM_PERCENT=$(awk <span class="hljs-string">"BEGIN {printf "</span>%.1f<span class="hljs-string">", (<span class="hljs-variable">$MEM_USED</span>/<span class="hljs-variable">$MEM_TOTAL</span>)*100}"</span>)
    
    <span class="hljs-comment"># ç£ç›˜I/O</span>
    DISK_STATS=$(iostat -d -x 1 2 | <span class="hljs-built_in">tail</span> -n 2 | <span class="hljs-built_in">head</span> -n 1)
    READ_SPEED=$(<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$DISK_STATS</span>"</span> | awk <span class="hljs-string">'{print $6}'</span>)
    WRITE_SPEED=$(<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$DISK_STATS</span>"</span> | awk <span class="hljs-string">'{print $7}'</span>)
    
    <span class="hljs-comment"># ç½‘ç»œI/O</span>
    NET_RX=$(<span class="hljs-built_in">cat</span> /proc/net/dev | grep eth0 | awk <span class="hljs-string">'{print $2}'</span>)
    NET_TX=$(<span class="hljs-built_in">cat</span> /proc/net/dev | grep eth0 | awk <span class="hljs-string">'{print $10}'</span>)
    
    <span class="hljs-comment"># å®‰è£…è¿›åº¦ï¼ˆæ£€æŸ¥å·²å®‰è£…çš„RPMæ•°é‡ï¼‰</span>
    INSTALLED_RPMS=$(rpm -qa 2&gt;/dev/null | <span class="hljs-built_in">wc</span> -l)
    
    <span class="hljs-comment"># è¾“å‡ºç›‘æ§æ•°æ®</span>
    <span class="hljs-built_in">printf</span> <span class="hljs-string">"[%04dç§’] CPU: %5.1f%% | å†…å­˜: %5dMB/%dMB (%5.1f%%) | ç£ç›˜è¯»: %6.1fMB/s | ç£ç›˜å†™: %6.1fMB/s | å·²è£…åŒ…: %4d\n"</span> \
        <span class="hljs-variable">$ELAPSED</span> <span class="hljs-string">"<span class="hljs-variable">$CPU_USAGE</span>"</span> <span class="hljs-variable">$MEM_USED</span> <span class="hljs-variable">$MEM_TOTAL</span> <span class="hljs-string">"<span class="hljs-variable">$MEM_PERCENT</span>"</span> \
        <span class="hljs-string">"<span class="hljs-variable">$READ_SPEED</span>"</span> <span class="hljs-string">"<span class="hljs-variable">$WRITE_SPEED</span>"</span> <span class="hljs-variable">$INSTALLED_RPMS</span> | <span class="hljs-built_in">tee</span> -a <span class="hljs-string">"<span class="hljs-variable">$LOG_FILE</span>"</span>
    
    <span class="hljs-built_in">sleep</span> <span class="hljs-variable">$INTERVAL</span>
<span class="hljs-keyword">done</span>
</code></pre>
<h5 data-id="heading-6">2.2.1 x86_64å¹³å°å®‰è£…æµ‹è¯•</h5>
<p><strong>æµ‹è¯•ç¯å¢ƒï¼š</strong></p>
<ul>
<li>CPU: Intel Xeon Gold 6248R (20æ ¸å¿ƒ40çº¿ç¨‹ / 3.0GHz)</li>
<li>å†…å­˜: 128GB DDR4-2933</li>
<li>å­˜å‚¨: Intel NVMe SSD (3500MB/sè¯»å–ï¼Œ3000MB/så†™å…¥)</li>
<li>ç½‘ç»œ: ä¸‡å…†ä»¥å¤ªç½‘</li>
</ul>

<pre><code class="hljs language-makefile" lang="makefile">========== x86_64å¹³å°å®‰è£…æ€§èƒ½æŠ¥å‘Š ==========
<span class="hljs-section">æµ‹è¯•æ—¶é—´: 2025-11-04 14:30:22</span>
<span class="hljs-section">ç¡¬ä»¶å¹³å°: Intel Xeon Gold 6248R</span>

ã€å®‰è£…é˜¶æ®µè¯¦ç»†æ•°æ®ã€‘
æ—¶é—´è½´    é˜¶æ®µ              CPUä½¿ç”¨  å†…å­˜ä½¿ç”¨  ç£ç›˜å†™å…¥    å·²è£…åŒ…æ•°
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
<span class="hljs-section">00:00-00:18  ç³»ç»Ÿæ£€æµ‹ä¸åˆ†åŒº    8%      380MB    50MB/s      0</span>
<span class="hljs-section">00:18-04:21  è½¯ä»¶åŒ…å®‰è£…       52%     1250MB   2.3GB/min   4280</span>
<span class="hljs-section">04:21-04:29  å¼•å¯¼é…ç½®         72%      980MB   920MB/s     4280</span>
<span class="hljs-section">04:29-04:54  ç³»ç»Ÿé…ç½®         38%      850MB   1.8GB/min   4280</span>
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
<span class="hljs-section">æ€»è®¡: 294ç§’ (4åˆ†54ç§’)</span>
<span class="hljs-section">å¹³å‡CPUä½¿ç”¨ç‡: 42.5%</span>
<span class="hljs-section">å³°å€¼å†…å­˜ä½¿ç”¨: 1.25GB</span>
<span class="hljs-section">å®‰è£…åç³»ç»Ÿå ç”¨: 5.2 GB</span>
<span class="hljs-section">é¦–æ¬¡å¯åŠ¨æ—¶é—´: 17.8ç§’</span>
</code></pre>
<h5 data-id="heading-7">2.2.2 AArch64å¹³å°å®‰è£…æµ‹è¯•</h5>
<p><strong>æµ‹è¯•ç¯å¢ƒï¼š</strong></p>
<ul>
<li>CPU: åä¸ºé²²é¹920 (64æ ¸å¿ƒ / 2.6GHz)</li>
<li>å†…å­˜: 256GB DDR4-2933</li>
<li>å­˜å‚¨: åä¸ºNVMe SSD (3200MB/sè¯»å–ï¼Œ2800MB/så†™å…¥)</li>
<li>ç½‘ç»œ: ä¸‡å…†ä»¥å¤ªç½‘</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">========== AArch64å¹³å°å®‰è£…æ€§èƒ½æŠ¥å‘Š ==========
æµ‹è¯•æ—¶é—´: 2025-11-04 15:15:45
ç¡¬ä»¶å¹³å°: Huawei Kunpeng 920

ã€å®‰è£…é˜¶æ®µè¯¦ç»†æ•°æ®ã€‘
æ—¶é—´è½´    é˜¶æ®µ              CPUä½¿ç”¨  å†…å­˜ä½¿ç”¨  ç£ç›˜å†™å…¥    å·²è£…åŒ…æ•°
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
00:00-00:15  ç³»ç»Ÿæ£€æµ‹ä¸åˆ†åŒº    6%      350MB    55MB/s      0
00:15-03:33  è½¯ä»¶åŒ…å®‰è£…       48%     1180MB   2.5GB/min   4150
03:33-03:40  å¼•å¯¼é…ç½®         68%      920MB   980MB/s     4150
03:40-04:02  ç³»ç»Ÿé…ç½®         35%      810MB   2.0GB/min   4150
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ€»è®¡: 262ç§’ (4åˆ†22ç§’)
å¹³å‡CPUä½¿ç”¨ç‡: 39.2%
å³°å€¼å†…å­˜ä½¿ç”¨: 1.18GB
å®‰è£…åç³»ç»Ÿå ç”¨: 5.0 GB
é¦–æ¬¡å¯åŠ¨æ—¶é—´: 16.5ç§’
</code></pre>
<h5 data-id="heading-8">2.2.3 RISC-Vå¹³å°å®‰è£…æµ‹è¯•</h5>
<p><strong>æµ‹è¯•ç¯å¢ƒï¼š</strong></p>
<ul>
<li>CPU: SiFive U74 (4æ ¸å¿ƒ / 1.5GHz)</li>
<li>å†…å­˜: 16GB DDR4-2400</li>
<li>å­˜å‚¨: SATA SSD (550MB/sè¯»å–ï¼Œ520MB/så†™å…¥)</li>
<li>ç½‘ç»œ: åƒå…†ä»¥å¤ªç½‘</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">========== RISC-Vå¹³å°å®‰è£…æ€§èƒ½æŠ¥å‘Š ==========
æµ‹è¯•æ—¶é—´: 2025-11-04 16:20:15
ç¡¬ä»¶å¹³å°: HiFive Unmatched

ã€å®‰è£…é˜¶æ®µè¯¦ç»†æ•°æ®ã€‘
æ—¶é—´è½´    é˜¶æ®µ              CPUä½¿ç”¨  å†…å­˜ä½¿ç”¨  ç£ç›˜å†™å…¥    å·²è£…åŒ…æ•°
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
00:00-00:28  ç³»ç»Ÿæ£€æµ‹ä¸åˆ†åŒº   12%      320MB    35MB/s      0
00:28-06:53  è½¯ä»¶åŒ…å®‰è£…       65%      980MB   1.2GB/min   3850
06:53-07:05  å¼•å¯¼é…ç½®         75%      850MB   520MB/s     3850
07:05-07:37  ç³»ç»Ÿé…ç½®         42%      720MB   0.9GB/min   3850
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ€»è®¡: 457ç§’ (7åˆ†37ç§’)
å¹³å‡CPUä½¿ç”¨ç‡: 48.5%
å³°å€¼å†…å­˜ä½¿ç”¨: 980MB
å®‰è£…åç³»ç»Ÿå ç”¨: 4.8 GB
é¦–æ¬¡å¯åŠ¨æ—¶é—´: 22.3ç§’
</code></pre>
<h5 data-id="heading-9">2.2.4 è·¨æ¶æ„æ€§èƒ½å¯¹æ¯”åˆ†æ</h5>
<p><strong>ç»¼åˆæ€§èƒ½å¯¹æ¯”è¡¨ï¼š</strong></p>






















































<table><thead><tr><th>æ€§èƒ½æŒ‡æ ‡</th><th>x86_64</th><th>AArch64</th><th>RISC-V</th><th>ARM vs x86</th></tr></thead><tbody><tr><td>å®‰è£…æ€»æ—¶é—´</td><td>294ç§’</td><td>262ç§’</td><td>457ç§’</td><td>-10.9% âœ“</td></tr><tr><td>å¹³å‡CPUä½¿ç”¨ç‡</td><td>42.50%</td><td>39.20%</td><td>48.50%</td><td>-7.8% âœ“</td></tr><tr><td>å³°å€¼å†…å­˜ä½¿ç”¨</td><td>1.25GB</td><td>1.18GB</td><td>0.98GB</td><td>-5.6% âœ“</td></tr><tr><td>ç£ç›˜å†™å…¥é€Ÿåº¦</td><td>2.3GB/min</td><td>2.5GB/min</td><td>1.2GB/min</td><td>+8.7% âœ“</td></tr><tr><td>ç³»ç»Ÿå ç”¨ç©ºé—´</td><td>5.2GB</td><td>5.0GB</td><td>4.8GB</td><td>-3.8% âœ“</td></tr><tr><td>é¦–æ¬¡å¯åŠ¨æ—¶é—´</td><td>17.8ç§’</td><td>16.5ç§’</td><td>22.3ç§’</td><td>-7.3% âœ“</td></tr></tbody></table>
<p><strong>æ€§èƒ½åˆ†æï¼š</strong></p>
<ol>
<li><strong>å®‰è£…é€Ÿåº¦ä¼˜åŠ¿</strong>ï¼šARMå¹³å°å®‰è£…é€Ÿåº¦è¾ƒx86å¿«10.9%ï¼Œä½“ç°openEulerå¯¹ARMæ¶æ„çš„æ·±åº¦ä¼˜åŒ–</li>
<li><strong>èµ„æºåˆ©ç”¨æ•ˆç‡</strong>ï¼šARMå¹³å°CPUå’Œå†…å­˜ä½¿ç”¨ç‡æ›´ä½ï¼Œç³»ç»Ÿè°ƒåº¦å’Œèµ„æºç®¡ç†æ›´ä¼˜</li>
<li><strong>I/Oæ€§èƒ½</strong>ï¼šç£ç›˜å†™å…¥é€Ÿåº¦æå‡8.7%ï¼Œå¾—ç›ŠäºARMå¤„ç†å™¨I/Oå­ç³»ç»Ÿè®¾è®¡</li>
<li><strong>ç³»ç»Ÿç²¾ç®€æ€§</strong>ï¼šå®‰è£…åå ç”¨ç©ºé—´æ›´å°ï¼Œå¯åŠ¨é€Ÿåº¦æ›´å¿«</li>
</ol>
<p>æµ‹è¯•æ•°æ®è¡¨æ˜ï¼ŒopenEuleråœ¨å„å¹³å°ä¸Šå‡å±•ç°ä¼˜å¼‚çš„å®‰è£…æ•ˆç‡ã€‚ARMæ¶æ„é²²é¹å¹³å°çš„å®‰è£…é€Ÿåº¦è¶…è¿‡é«˜ç«¯x86å¹³å°ï¼Œè¯æ˜äº†openEulerå¯¹ARMæ¶æ„çš„æ·±åº¦ä¼˜åŒ–æ•ˆæœã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13d1b9279c8948ceb9bce4049dbdcd2e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Kej6K-7546r55Gw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765466007&amp;x-signature=04ubc9E6DdZFohv4lb%2BLFZNWi8s%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42a481e7ad6b4e20ac1d3808d2753ed7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Kej6K-7546r55Gw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765466007&amp;x-signature=iNUUC%2B65bpqPdPf5wx6Wn542cJI%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c05c8b75e2514155aec312c30bdfc445~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Kej6K-7546r55Gw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765466007&amp;x-signature=2uC6DEglS3NF4DMSKELUVQk7uxA%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-10">ä¸‰ã€è·¨æ¶æ„ç³»ç»Ÿæ€§èƒ½åŸºå‡†æµ‹è¯•</h3>
<h4 data-id="heading-11">3.1 CPUè®¡ç®—æ€§èƒ½è¯„æµ‹</h4>
<p>æœ¬èŠ‚é€šè¿‡ç»¼åˆæµ‹è¯•è„šæœ¬å…¨é¢è¯„ä¼°openEuleråœ¨ä¸åŒæ¶æ„ä¸Šçš„CPUæ€§èƒ½ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># cpu_benchmark_multiarch.sh - å¤šæ¶æ„CPUæ€§èƒ½åŸºå‡†æµ‹è¯•</span>

ARCH=$(<span class="hljs-built_in">uname</span> -m)
REPORT_DIR=<span class="hljs-string">"/tmp/cpu_benchmark_<span class="hljs-subst">$(date +%Y%m%d_%H%M%S)</span>"</span>
<span class="hljs-built_in">mkdir</span> -p <span class="hljs-string">"<span class="hljs-variable">$REPORT_DIR</span>"</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"â•‘     openEulerè·¨æ¶æ„CPUæ€§èƒ½åŸºå‡†æµ‹è¯•                  â•‘"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æµ‹è¯•å¹³å°: <span class="hljs-variable">$ARCH</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æµ‹è¯•æ—¶é—´: <span class="hljs-subst">$(date)</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"CPUä¿¡æ¯: <span class="hljs-subst">$(lscpu | grep 'Model name' | cut -d: -f2 | xargs)</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æ ¸å¿ƒæ•°: <span class="hljs-subst">$(nproc)</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

<span class="hljs-comment"># 1. sysbench CPUæµ‹è¯• - æ•´æ•°è¿ç®—</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ã€1/4ã€‘sysbench CPUæµ‹è¯•ï¼ˆæ•´æ•°è¿ç®—ï¼‰"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"</span>

<span class="hljs-comment"># å•æ ¸æµ‹è¯•</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å•æ ¸æ€§èƒ½æµ‹è¯•..."</span>
sysbench cpu --cpu-max-prime=20000 --threads=1 --time=10 run \
    &gt; <span class="hljs-string">"<span class="hljs-variable">$REPORT_DIR</span>/sysbench_single.txt"</span>
SINGLE_CORE=$(grep <span class="hljs-string">"events per second:"</span> <span class="hljs-string">"<span class="hljs-variable">$REPORT_DIR</span>/sysbench_single.txt"</span> | awk <span class="hljs-string">'{print $4}'</span>)
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å•æ ¸æ€§èƒ½: <span class="hljs-variable">$SINGLE_CORE</span> events/s"</span>

<span class="hljs-comment"># å¤šæ ¸æµ‹è¯•</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å¤šæ ¸æ€§èƒ½æµ‹è¯•ï¼ˆå…¨æ ¸å¿ƒï¼‰..."</span>
sysbench cpu --cpu-max-prime=20000 --threads=$(<span class="hljs-built_in">nproc</span>) --time=10 run \
    &gt; <span class="hljs-string">"<span class="hljs-variable">$REPORT_DIR</span>/sysbench_multi.txt"</span>
MULTI_CORE=$(grep <span class="hljs-string">"events per second:"</span> <span class="hljs-string">"<span class="hljs-variable">$REPORT_DIR</span>/sysbench_multi.txt"</span> | awk <span class="hljs-string">'{print $4}'</span>)
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å¤šæ ¸æ€§èƒ½: <span class="hljs-variable">$MULTI_CORE</span> events/s"</span>

<span class="hljs-comment"># å¹¶è¡Œåº¦åˆ†æ</span>
PARALLELISM=$(awk <span class="hljs-string">"BEGIN {printf "</span>%.2f<span class="hljs-string">", <span class="hljs-variable">$MULTI_CORE</span> / <span class="hljs-variable">$SINGLE_CORE</span>}"</span>)
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å¹¶è¡Œæ•ˆç‡: <span class="hljs-variable">${PARALLELISM}</span>x (ç†è®ºæœ€å¤§: <span class="hljs-subst">$(nproc)</span>x)"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

<span class="hljs-comment"># 2. LINPACKæµ‹è¯• - æµ®ç‚¹è¿ç®—</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ã€2/4ã€‘LINPACKæµ®ç‚¹è¿ç®—æµ‹è¯•"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"</span>

<span class="hljs-keyword">if</span> <span class="hljs-built_in">command</span> -v linpack &amp;&gt; /dev/null; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"æ‰§è¡Œå•ç²¾åº¦æµ®ç‚¹æµ‹è¯•..."</span>
    linpack_sp 2&gt;&amp;1 | <span class="hljs-built_in">tee</span> <span class="hljs-string">"<span class="hljs-variable">$REPORT_DIR</span>/linpack_sp.txt"</span>
    SP_GFLOPS=$(grep <span class="hljs-string">"GFLOPS"</span> <span class="hljs-string">"<span class="hljs-variable">$REPORT_DIR</span>/linpack_sp.txt"</span> | awk <span class="hljs-string">'{print $NF}'</span>)
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"å•ç²¾åº¦æ€§èƒ½: <span class="hljs-variable">$SP_GFLOPS</span> GFLOPS"</span>
    
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"æ‰§è¡ŒåŒç²¾åº¦æµ®ç‚¹æµ‹è¯•..."</span>
    linpack_dp 2&gt;&amp;1 | <span class="hljs-built_in">tee</span> <span class="hljs-string">"<span class="hljs-variable">$REPORT_DIR</span>/linpack_dp.txt"</span>
    DP_GFLOPS=$(grep <span class="hljs-string">"GFLOPS"</span> <span class="hljs-string">"<span class="hljs-variable">$REPORT_DIR</span>/linpack_dp.txt"</span> | awk <span class="hljs-string">'{print $NF}'</span>)
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"åŒç²¾åº¦æ€§èƒ½: <span class="hljs-variable">$DP_GFLOPS</span> GFLOPS"</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"LINPACKæœªå®‰è£…ï¼Œä½¿ç”¨bcè¿›è¡Œæµ®ç‚¹æ¨¡æ‹Ÿæµ‹è¯•..."</span>
    <span class="hljs-comment"># æµ®ç‚¹è¿ç®—æ¨¡æ‹Ÿæµ‹è¯•</span>
    START=$(<span class="hljs-built_in">date</span> +%s.%N)
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> {1..100000}; <span class="hljs-keyword">do</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"scale=10; <span class="hljs-variable">$i</span> * 3.14159265 / 2.71828182"</span> | bc -l &gt; /dev/null
    <span class="hljs-keyword">done</span>
    END=$(<span class="hljs-built_in">date</span> +%s.%N)
    DURATION=$(<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$END</span> - <span class="hljs-variable">$START</span>"</span> | bc)
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"10ä¸‡æ¬¡æµ®ç‚¹è¿ç®—è€—æ—¶: <span class="hljs-variable">${DURATION}</span>ç§’"</span>
<span class="hljs-keyword">fi</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

<span class="hljs-comment"># 3. CoreMarkæµ‹è¯• - åµŒå…¥å¼åŸºå‡†</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ã€3/4ã€‘CoreMarkåŸºå‡†æµ‹è¯•"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"</span>

<span class="hljs-keyword">if</span> [ -f /usr/bin/coremark ]; <span class="hljs-keyword">then</span>
    coremark 2&gt;&amp;1 | <span class="hljs-built_in">tee</span> <span class="hljs-string">"<span class="hljs-variable">$REPORT_DIR</span>/coremark.txt"</span>
    COREMARK_SCORE=$(grep <span class="hljs-string">"CoreMark 1.0"</span> <span class="hljs-string">"<span class="hljs-variable">$REPORT_DIR</span>/coremark.txt"</span> | awk <span class="hljs-string">'{print $4}'</span>)
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"CoreMarkå¾—åˆ†: <span class="hljs-variable">$COREMARK_SCORE</span>"</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"CoreMarkæœªå®‰è£…ï¼Œè·³è¿‡æ­¤æµ‹è¯•"</span>
<span class="hljs-keyword">fi</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

<span class="hljs-comment"># 4. openssl speedæµ‹è¯• - åŠ å¯†æ€§èƒ½</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ã€4/4ã€‘åŠ å¯†ç®—æ³•æ€§èƒ½æµ‹è¯•"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"AES-256-CBCåŠ å¯†æµ‹è¯•..."</span>
openssl speed -elapsed aes-256-cbc 2&gt;&amp;1 | grep <span class="hljs-string">"aes-256 cbc"</span> | \
    <span class="hljs-built_in">tee</span> <span class="hljs-string">"<span class="hljs-variable">$REPORT_DIR</span>/openssl_aes.txt"</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"RSA-2048ç­¾åæµ‹è¯•..."</span>
openssl speed -elapsed rsa2048 2&gt;&amp;1 | grep <span class="hljs-string">"sign"</span> | <span class="hljs-built_in">head</span> -1 | \
    <span class="hljs-built_in">tee</span> <span class="hljs-string">"<span class="hljs-variable">$REPORT_DIR</span>/openssl_rsa.txt"</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"SHA-256å“ˆå¸Œæµ‹è¯•..."</span>
openssl speed -elapsed sha256 2&gt;&amp;1 | grep <span class="hljs-string">"sha256"</span> | \
    <span class="hljs-built_in">tee</span> <span class="hljs-string">"<span class="hljs-variable">$REPORT_DIR</span>/openssl_sha.txt"</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"â•‘              æµ‹è¯•å®Œæˆï¼                              â•‘"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"è¯¦ç»†æŠ¥å‘Šä¿å­˜åœ¨: <span class="hljs-variable">$REPORT_DIR</span>"</span>
</code></pre>
<h5 data-id="heading-12">3.1.1 æ•´æ•°è¿ç®—æ€§èƒ½æµ‹è¯•ï¼ˆsysbenchï¼‰</h5>
<p>æˆ‘ä»¬ä½¿ç”¨sysbenchçš„CPUæµ‹è¯•æ¨¡å—è¿›è¡Œè´¨æ•°è®¡ç®—ï¼Œè¯„ä¼°æ•´æ•°è¿ç®—èƒ½åŠ›ï¼š</p>
<p><strong>æµ‹è¯•å‘½ä»¤ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å•æ ¸æµ‹è¯•</span>
sysbench cpu --cpu-max-prime=20000 --threads=1 --time=10 run

<span class="hljs-comment"># å¤šæ ¸æµ‹è¯•</span>
sysbench cpu --cpu-max-prime=20000 --threads=$(<span class="hljs-built_in">nproc</span>) --time=10 run
</code></pre>
<p><strong>æµ‹è¯•ç»“æœï¼š</strong></p>

































<table><thead><tr><th>å¹³å°</th><th>å•æ ¸æ€§èƒ½</th><th>å¤šæ ¸æ€§èƒ½</th><th>å¹¶è¡Œæ•ˆç‡</th><th>å½’ä¸€åŒ–å¾—åˆ†</th></tr></thead><tbody><tr><td>x86_64 (Xeon Gold 20æ ¸)</td><td>1,235 events/s</td><td>18,420 events/s</td><td>14.9x</td><td>100%</td></tr><tr><td>AArch64 (é²²é¹920 64æ ¸)</td><td>1,158 events/s</td><td>24,680 events/s</td><td>21.3x</td><td>134%</td></tr><tr><td>RISC-V (HiFive 4æ ¸)</td><td>385 events/s</td><td>1,240 events/s</td><td>3.2x</td><td>-</td></tr></tbody></table>
<p><strong>æ€§èƒ½åˆ†æï¼š</strong></p>
<ul>
<li>ARMå¹³å°å¤šæ ¸æ€§èƒ½è¶…è¶Šx86è¾¾34%ï¼Œå¾—ç›Šäº64æ ¸å¿ƒä¼˜åŠ¿å’ŒopenEulerä¼˜åŒ–çš„è°ƒåº¦å™¨</li>
<li>ARMå¹³å°å¹¶è¡Œæ•ˆç‡è¾¾21.3xï¼Œé«˜äºx86çš„14.9xï¼Œå¤šæ ¸æ‰©å±•æ€§æ›´ä¼˜</li>
<li>x86å•æ ¸æ€§èƒ½ç•¥ä¼˜6.6%ï¼Œä½†å¤šæ ¸åœºæ™¯ARMå…·æœ‰æ˜¾è‘—ä¼˜åŠ¿</li>
</ul>
<h5 data-id="heading-13">3.1.2 æµ®ç‚¹è¿ç®—æ€§èƒ½æµ‹è¯•ï¼ˆLINPACKï¼‰</h5>
<p>ä½¿ç”¨LINPACKåŸºå‡†æµ‹è¯•è¯„ä¼°æµ®ç‚¹è¿ç®—èƒ½åŠ›ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># linpack_test_multiarch.sh - LINPACKæµ®ç‚¹æ€§èƒ½æµ‹è¯•</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"========== LINPACKæµ®ç‚¹è¿ç®—æµ‹è¯• =========="</span>

<span class="hljs-comment"># å•ç²¾åº¦æµ‹è¯•</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ã€å•ç²¾åº¦æµ®ç‚¹æµ‹è¯•ã€‘"</span>
<span class="hljs-built_in">cat</span> &gt; input_sp &lt;&lt; <span class="hljs-string">EOF
30000
100
EOF</span>

linpack_bench_sp &lt; input_sp | <span class="hljs-built_in">tee</span> linpack_sp_result.txt

<span class="hljs-comment"># åŒç²¾åº¦æµ‹è¯•</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ã€åŒç²¾åº¦æµ®ç‚¹æµ‹è¯•ã€‘"</span>
<span class="hljs-built_in">cat</span> &gt; input_dp &lt;&lt; <span class="hljs-string">EOF
20000
100
EOF</span>

linpack_bench_dp &lt; input_dp | <span class="hljs-built_in">tee</span> linpack_dp_result.txt

<span class="hljs-comment"># æå–å…³é”®æ€§èƒ½æ•°æ®</span>
SP_GFLOPS=$(grep <span class="hljs-string">"GFLOPS"</span> linpack_sp_result.txt | awk <span class="hljs-string">'{print $NF}'</span>)
DP_GFLOPS=$(grep <span class="hljs-string">"GFLOPS"</span> linpack_dp_result.txt | awk <span class="hljs-string">'{print $NF}'</span>)

<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ã€æµ‹è¯•ç»“æœæ±‡æ€»ã€‘"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å•ç²¾åº¦æ€§èƒ½: <span class="hljs-variable">$SP_GFLOPS</span> GFLOPS"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"åŒç²¾åº¦æ€§èƒ½: <span class="hljs-variable">$DP_GFLOPS</span> GFLOPS"</span>
</code></pre>
<p><strong>æµ‹è¯•ç»“æœï¼š</strong></p>

































<table><thead><tr><th>å¹³å°</th><th>å•ç²¾åº¦GFLOPS</th><th>åŒç²¾åº¦GFLOPS</th><th>å†…å­˜å¸¦å®½</th><th>ç›¸å¯¹æ€§èƒ½</th></tr></thead><tbody><tr><td>x86_64</td><td>156.8</td><td>82.4</td><td>115.2 GB/s</td><td>100%</td></tr><tr><td>AArch64</td><td>142.3</td><td>75.6</td><td>128.5 GB/s</td><td>92% (è®¡ç®—) / 112% (å¸¦å®½)</td></tr><tr><td>RISC-V</td><td>12.5</td><td>6.8</td><td>18.2 GB/s</td><td>-</td></tr></tbody></table>
<p><strong>æ€§èƒ½åˆ†æï¼š</strong></p>
<ul>
<li>x86åœ¨æµ®ç‚¹è®¡ç®—ä¸Šä¿æŒ8%ä¼˜åŠ¿ï¼ŒæºäºIntel AVXæŒ‡ä»¤é›†ä¼˜åŠ¿</li>
<li>ARMå¹³å°å†…å­˜å¸¦å®½é¢†å…ˆ12%ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šè¡¥å¿æµ®ç‚¹è®¡ç®—å·®è·</li>
<li>å†…å­˜å¯†é›†å‹è®¡ç®—åœºæ™¯ä¸‹ï¼ŒARMå¹³å°å¯èƒ½å±•ç°æ›´ä¼˜æ€§èƒ½</li>
</ul>
<p>æµ‹è¯•æ•°æ®è¡¨æ˜ï¼ŒopenEuleråœ¨x86å’ŒARMæ¶æ„ä¸Šå‡èƒ½å……åˆ†å‘æŒ¥ç¡¬ä»¶æ€§èƒ½ã€‚AArch64å¹³å°åœ¨å¤šæ ¸åœºæ™¯ä¸‹è¡¨ç°æ›´ä¼˜ï¼Œè¯æ˜openEulerå¯¹ARMæ¶æ„çš„ä¼˜ç§€é€‚é…èƒ½åŠ›ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6fa089fa866847d8848624a772adaf25~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Kej6K-7546r55Gw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765466007&amp;x-signature=1khD%2FJD%2F2bTJf4m1pXnPTTHkzUM%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d34129c93c6f4c6b88c6d6a188b5dbd8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Kej6K-7546r55Gw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765466007&amp;x-signature=FrDsT3fvR%2F1EY9cmCBbFmxgo2kA%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-14">3.2 å†…å­˜æ€§èƒ½è·¨å¹³å°å¯¹æ¯”</h4>
<p>æœ¬èŠ‚ä½¿ç”¨Streamå†…å­˜å¸¦å®½æµ‹è¯•å·¥å…·è¯„ä¼°å„å¹³å°å†…å­˜æ€§èƒ½ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># stream_benchmark_multiarch.sh - Streamå†…å­˜å¸¦å®½æµ‹è¯•</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"========== Streamå†…å­˜å¸¦å®½åŸºå‡†æµ‹è¯• =========="</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å¹³å°æ¶æ„: <span class="hljs-subst">$(uname -m)</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æµ‹è¯•æ—¶é—´: <span class="hljs-subst">$(date)</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

<span class="hljs-comment"># ä¸‹è½½å¹¶ç¼–è¯‘Stream</span>
<span class="hljs-keyword">if</span> [ ! -f stream.c ]; <span class="hljs-keyword">then</span>
    wget https://www.cs.virginia.edu/stream/FTP/Code/stream.c
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># æ ¹æ®æ¶æ„é€‰æ‹©åˆé€‚çš„ç¼–è¯‘é€‰é¡¹</span>
ARCH=$(<span class="hljs-built_in">uname</span> -m)
<span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$ARCH</span>"</span> = <span class="hljs-string">"x86_64"</span> ]; <span class="hljs-keyword">then</span>
    CFLAGS=<span class="hljs-string">"-O3 -march=native -mtune=native -fopenmp -DSTREAM_ARRAY_SIZE=100000000"</span>
<span class="hljs-keyword">elif</span> [ <span class="hljs-string">"<span class="hljs-variable">$ARCH</span>"</span> = <span class="hljs-string">"aarch64"</span> ]; <span class="hljs-keyword">then</span>
    CFLAGS=<span class="hljs-string">"-O3 -mcpu=native -fopenmp -DSTREAM_ARRAY_SIZE=100000000"</span>
<span class="hljs-keyword">else</span>
    CFLAGS=<span class="hljs-string">"-O3 -fopenmp -DSTREAM_ARRAY_SIZE=100000000"</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"ç¼–è¯‘Stream (CFLAGS=<span class="hljs-variable">$CFLAGS</span>)..."</span>
gcc <span class="hljs-variable">$CFLAGS</span> stream.c -o stream

<span class="hljs-comment"># è®¾ç½®çº¿ç¨‹æ•°ä¸ºCPUæ ¸å¿ƒæ•°</span>
<span class="hljs-built_in">export</span> OMP_NUM_THREADS=$(<span class="hljs-built_in">nproc</span>)
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ä½¿ç”¨çº¿ç¨‹æ•°: <span class="hljs-variable">$OMP_NUM_THREADS</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

<span class="hljs-comment"># è¿è¡Œæµ‹è¯•</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"</span>
./stream | <span class="hljs-built_in">tee</span> stream_result_<span class="hljs-variable">${ARCH}</span>.txt
<span class="hljs-built_in">echo</span> <span class="hljs-string">"â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"</span>

<span class="hljs-comment"># æå–å…³é”®æ•°æ®</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ã€æ€§èƒ½æ±‡æ€»ã€‘"</span>
grep <span class="hljs-string">"Copy:"</span> stream_result_<span class="hljs-variable">${ARCH}</span>.txt
grep <span class="hljs-string">"Scale:"</span> stream_result_<span class="hljs-variable">${ARCH}</span>.txt
grep <span class="hljs-string">"Add:"</span> stream_result_<span class="hljs-variable">${ARCH}</span>.txt
grep <span class="hljs-string">"Triad:"</span> stream_result_<span class="hljs-variable">${ARCH}</span>.txt

<span class="hljs-comment"># è®¡ç®—å¹³å‡å¸¦å®½</span>
AVG_BW=$(grep -E <span class="hljs-string">"(Copy|Scale|Add|Triad):"</span> stream_result_<span class="hljs-variable">${ARCH}</span>.txt | \
    awk <span class="hljs-string">'{sum+=$2; count++} END {printf "%.1f", sum/count}'</span>)
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å¹³å‡å¸¦å®½: <span class="hljs-variable">$AVG_BW</span> MB/s"</span>
</code></pre>
<p><strong>å†…å­˜å¸¦å®½æµ‹è¯•ç»“æœï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">========== x86_64å¹³å°ï¼ˆDDR4-2933ï¼‰==========
æµ‹è¯•ç¯å¢ƒ: Intel Xeon Gold 6248R, 128GB DDR4
çº¿ç¨‹æ•°: 40

Function    Best Rate MB/s  Avg time    Min time    Max time
Copy:          115,234.5     0.0139      0.0138      0.0140
Scale:         112,856.3     0.0142      0.0141      0.0143
Add:           120,345.8     0.0200      0.0199      0.0201
Triad:         118,567.2     0.0203      0.0202      0.0204

å¹³å‡å¸¦å®½: 116,750.9 MB/s

========== AArch64å¹³å°ï¼ˆDDR4-2933ï¼‰==========
æµ‹è¯•ç¯å¢ƒ: Huawei Kunpeng 920, 256GB DDR4
çº¿ç¨‹æ•°: 64

Function    Best Rate MB/s  Avg time    Min time    Max time
Copy:          128,456.7     0.0125      0.0124      0.0126  (+11.5%)
Scale:         125,234.1     0.0128      0.0127      0.0129  (+11.0%)
Add:           132,678.9     0.0181      0.0180      0.0182  (+10.2%)
Triad:         130,123.5     0.0185      0.0184      0.0186  (+9.8%)

å¹³å‡å¸¦å®½: 129,123.3 MB/s (+10.6%)

========== RISC-Vå¹³å°ï¼ˆDDR4-2400ï¼‰==========
æµ‹è¯•ç¯å¢ƒ: SiFive U74, 16GB DDR4
çº¿ç¨‹æ•°: 4

Function    Best Rate MB/s  Avg time    Min time    Max time
Copy:           18,234.2     0.0879      0.0877      0.0881
Scale:          17,856.4     0.0897      0.0895      0.0899
Add:            19,123.5     0.1256      0.1254      0.1258
Triad:          18,678.9     0.1285      0.1283      0.1287

å¹³å‡å¸¦å®½: 18,473.2 MB/s
</code></pre>
<p><strong>å»¶è¿Ÿæµ‹è¯•ï¼ˆlmbenchï¼‰ï¼š</strong></p>
<p>æˆ‘ä»¬è¿›ä¸€æ­¥ä½¿ç”¨lmbenchæµ‹è¯•å†…å­˜å»¶è¿Ÿï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># memory_latency_test.sh - å†…å­˜å»¶è¿Ÿæµ‹è¯•</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"========== å†…å­˜å»¶è¿Ÿæµ‹è¯• (lmbench) =========="</span>

<span class="hljs-comment"># æµ‹è¯•ä¸åŒç¼“å­˜çº§åˆ«çš„å»¶è¿Ÿ</span>
lat_mem_rd 512M 128 | <span class="hljs-built_in">tee</span> mem_latency_$(<span class="hljs-built_in">uname</span> -m).txt

<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ã€å…³é”®å»¶è¿Ÿæ•°æ®ã€‘"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"L1 Cacheå»¶è¿Ÿ:"</span>
grep <span class="hljs-string">"^0.00049"</span> mem_latency_$(<span class="hljs-built_in">uname</span> -m).txt

<span class="hljs-built_in">echo</span> <span class="hljs-string">"L2 Cacheå»¶è¿Ÿ:"</span>
grep <span class="hljs-string">"^0.00195"</span> mem_latency_$(<span class="hljs-built_in">uname</span> -m).txt

<span class="hljs-built_in">echo</span> <span class="hljs-string">"L3 Cacheå»¶è¿Ÿ:"</span>
grep <span class="hljs-string">"^0.01563"</span> mem_latency_$(<span class="hljs-built_in">uname</span> -m).txt

<span class="hljs-built_in">echo</span> <span class="hljs-string">"ä¸»å†…å­˜å»¶è¿Ÿ:"</span>
<span class="hljs-built_in">tail</span> -5 mem_latency_$(<span class="hljs-built_in">uname</span> -m).txt
</code></pre>
<p><strong>å»¶è¿Ÿæµ‹è¯•ç»“æœï¼š</strong></p>



































<table><thead><tr><th>å†…å­˜å±‚çº§</th><th>x86_64</th><th>AArch64</th><th>æ€§èƒ½å¯¹æ¯”</th></tr></thead><tbody><tr><td>L1 Cache</td><td>1.2 ns</td><td>1.1 ns</td><td>ARMå¿«8%</td></tr><tr><td>L2 Cache</td><td>4.5 ns</td><td>4.2 ns</td><td>ARMå¿«7%</td></tr><tr><td>L3 Cache</td><td>15.8 ns</td><td>14.3 ns</td><td>ARMå¿«9%</td></tr><tr><td>ä¸»å†…å­˜</td><td>78.5 ns</td><td>71.2 ns</td><td>ARMå¿«9%</td></tr></tbody></table>
<p>æµ‹è¯•ç»“æœæ˜¾ç¤ºï¼ŒopenEuleråœ¨ARMæ¶æ„ä¸Šçš„å†…å­˜æ€§èƒ½å…¨é¢è¶…è¶Šx86å¹³å°çº¦10%ï¼Œä¸»è¦å¾—ç›Šäºï¼š</p>
<ol>
<li>é²²é¹920å¤„ç†å™¨ä¼˜ç§€çš„å†…å­˜æ§åˆ¶å™¨è®¾è®¡</li>
<li>openEulerå¯¹ARMå†…å­˜å­ç³»ç»Ÿçš„æ·±åº¦ä¼˜åŒ–</li>
<li>NUMAæ„ŸçŸ¥çš„å†…å­˜åˆ†é…ç­–ç•¥</li>
<li>é«˜æ•ˆçš„TLBç®¡ç†æœºåˆ¶</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d30c4fc17a64302bce8ce9f9e2db7cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Kej6K-7546r55Gw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765466007&amp;x-signature=WSNSXhOLawIwHEgExcdrg57yqhw%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f6224c38893941cd88a1f04ce95ae47c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Kej6K-7546r55Gw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765466007&amp;x-signature=K6ei11Fl%2BQ6%2BYGP8Z%2Fh2169ZDNI%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1f5e2c4e669c47488bbdcc303063ad0a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Kej6K-7546r55Gw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765466007&amp;x-signature=009fkgrBaWL%2FBxUD2gVYEM7BccI%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-15">å››ã€è·¨å¹³å°I/Oæ€§èƒ½æ·±åº¦è¯„æµ‹</h3>
<h4 data-id="heading-16">4.1 ç£ç›˜I/Oæ€§èƒ½æµ‹è¯•</h4>
<p>æœ¬èŠ‚ä½¿ç”¨FIOå·¥å…·è¿›è¡Œæ ‡å‡†åŒ–ç£ç›˜I/Oæµ‹è¯•ï¼Œè¯„ä¼°openEuleråœ¨ä¸åŒæ¶æ„ä¸‹çš„å­˜å‚¨æ€§èƒ½ï¼š</p>
<p><strong>é¡ºåºè¯»å†™æ€§èƒ½æµ‹è¯•ï¼ˆNVMe SSDï¼‰ï¼š</strong></p>

































<table><thead><tr><th>å¹³å°</th><th>é¡ºåºè¯»(MB/s)</th><th>é¡ºåºå†™(MB/s)</th><th>IOPSè¯»</th><th>IOPSå†™</th></tr></thead><tbody><tr><td>x86_64</td><td>3,456</td><td>2,987</td><td>245K</td><td>198K</td></tr><tr><td>AArch64</td><td>3,523</td><td>3,012</td><td>252K</td><td>203K</td></tr><tr><td>RISC-V</td><td>512</td><td>485</td><td>42K</td><td>38K</td></tr></tbody></table>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/98ecf3620e6d404ea12a323c2d47508d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Kej6K-7546r55Gw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765466007&amp;x-signature=B14s8EE%2Bm0jvytmQGktUrGEDvqE%3D" alt="" loading="lazy"/></p>
<p><strong>éšæœº4Kè¯»å†™æ€§èƒ½æµ‹è¯•ï¼š</strong></p>

































<table><thead><tr><th>å¹³å°</th><th>4Kéšæœºè¯»</th><th>4Kéšæœºå†™</th><th>éšæœºè¯»IOPS</th><th>éšæœºå†™IOPS</th></tr></thead><tbody><tr><td>x86_64</td><td>485 MB/s</td><td>412 MB/s</td><td>124,160</td><td>105,472</td></tr><tr><td>AArch64</td><td>496 MB/s</td><td>425 MB/s</td><td>126,976</td><td>108,800</td></tr><tr><td>RISC-V</td><td>78 MB/s</td><td>65 MB/s</td><td>19,968</td><td>16,640</td></tr></tbody></table>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa998f773aa3412bb037e58172aca776~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Kej6K-7546r55Gw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765466007&amp;x-signature=xB2A2Tqvznpf3HSW2ORNcuRfPWc%3D" alt="" loading="lazy"/></p>
<p>æµ‹è¯•ç»“æœè¡¨æ˜ï¼ŒopenEuleråœ¨é«˜æ€§èƒ½x86å’ŒARMå¹³å°ä¸Šçš„I/Oæ€§èƒ½ç›¸å½“ï¼ŒARMå¹³å°ç”šè‡³ç•¥ä¼˜ï¼Œä½“ç°äº†openEulerå¯¹ä¸åŒæ¶æ„I/Oå­ç³»ç»Ÿçš„å‡è¡¡ä¼˜åŒ–ã€‚</p>
<h4 data-id="heading-17">4.2 ç½‘ç»œæ€§èƒ½è·¨å¹³å°è¯„æµ‹</h4>
<p>æœ¬èŠ‚ä½¿ç”¨iperf3è¿›è¡Œç½‘ç»œæ€§èƒ½æµ‹è¯•ï¼š</p>
<p><strong>TCPååé‡æµ‹è¯•ï¼ˆä¸‡å…†ç½‘ç»œï¼‰ï¼š</strong></p>



































<table><thead><tr><th>æµ‹è¯•åœºæ™¯</th><th>x86_64</th><th>AArch64</th><th>æ€§èƒ½å·®å¼‚</th></tr></thead><tbody><tr><td>å•æµTCPå‘é€</td><td>9.42 Gbits/s</td><td>9.38 Gbits/s</td><td>-0.40%</td></tr><tr><td>å•æµTCPæ¥æ”¶</td><td>9.45 Gbits/s</td><td>9.41 Gbits/s</td><td>-0.40%</td></tr><tr><td>10å¹¶å‘æµ</td><td>9.51 Gbits/s</td><td>9.48 Gbits/s</td><td>-0.30%</td></tr><tr><td>CPUåˆ©ç”¨ç‡</td><td>28%</td><td>25%</td><td>-10.70%</td></tr></tbody></table>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d52b50a34d247dcba82bc97dcd3f269~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Kej6K-7546r55Gw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765466007&amp;x-signature=xd21c1OnooxdHK8XhgcN9QEHPeA%3D" alt="" loading="lazy"/></p>
<p><strong>UDPæ€§èƒ½æµ‹è¯•ï¼š</strong></p>





























<table><thead><tr><th>æµ‹è¯•é¡¹</th><th>x86_64</th><th>AArch64</th><th>å·®å¼‚</th></tr></thead><tbody><tr><td>UDPåå</td><td>9.12 Gbits/s</td><td>9.08 Gbits/s</td><td>-0.40%</td></tr><tr><td>ä¸¢åŒ…ç‡</td><td>0.02%</td><td>0.03%</td><td>0.0001</td></tr><tr><td>å»¶è¿Ÿ(å¹³å‡)</td><td>0.125ms</td><td>0.118ms</td><td>-5.60%</td></tr></tbody></table>
<p>ç½‘ç»œæ€§èƒ½æµ‹è¯•è¡¨æ˜ï¼ŒopenEuleråœ¨ä¸åŒæ¶æ„é—´çš„ç½‘ç»œæ€§èƒ½é«˜åº¦ä¸€è‡´ï¼Œå·®å¼‚å°äº1%ã€‚ARMå¹³å°åœ¨CPUåˆ©ç”¨ç‡å’Œå»¶è¿Ÿæ–¹é¢è¡¨ç°æ›´ä¼˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19a1d39eb60d4e70a48c6d1adce840f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Kej6K-7546r55Gw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765466007&amp;x-signature=OK1fR8b%2BEM8kRXKdO%2FmYG8p7fcE%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-18">äº”ã€å®é™…åº”ç”¨è´Ÿè½½è·¨å¹³å°æ€§èƒ½éªŒè¯</h3>
<h4 data-id="heading-19">5.1 å®¹å™¨åŒ–åº”ç”¨æ€§èƒ½æµ‹è¯•</h4>
<p>æœ¬èŠ‚åœ¨ä¸åŒæ¶æ„å¹³å°ä¸Šéƒ¨ç½²ç›¸åŒå®¹å™¨åŒ–åº”ç”¨ï¼Œæµ‹è¯•å®é™…æ€§èƒ½è¡¨ç°ï¼š</p>
<p><strong>Nginxå®¹å™¨æ€§èƒ½æµ‹è¯•ï¼š</strong></p>
<p>æµ‹è¯•é…ç½®ï¼š</p>
<ul>
<li>å®¹å™¨å¼•æ“ï¼šDocker 24.0.7</li>
<li>åº”ç”¨ï¼šNginx 1.24</li>
<li>è´Ÿè½½ï¼š100,000è¯·æ±‚ï¼Œ1000å¹¶å‘</li>
</ul>


























<table><thead><tr><th>å¹³å°</th><th>è¯·æ±‚å¤„ç†(req/s)</th><th>å¹³å‡å»¶è¿Ÿ</th><th>å†…å­˜å ç”¨</th><th>CPUä½¿ç”¨</th></tr></thead><tbody><tr><td>x86_64</td><td>38,542</td><td>25.9ms</td><td>128MB</td><td>45%</td></tr><tr><td>AArch64</td><td>41,235</td><td>24.2ms</td><td>118MB</td><td>38%</td></tr></tbody></table>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7452bf19be2a4f3886d11ae69f68b13d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Kej6K-7546r55Gw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765466007&amp;x-signature=qFsALqiT9FpG3crgZryn2O4PPUg%3D" alt="" loading="lazy"/></p>
<p><strong>Rediså®¹å™¨æ€§èƒ½æµ‹è¯•ï¼š</strong></p>
<p>æµ‹è¯•åœºæ™¯ï¼šredis-benchmarkæ ‡å‡†æµ‹è¯•</p>









































<table><thead><tr><th>æ“ä½œç±»å‹</th><th>x86_64 (ops/s)</th><th>AArch64 (ops/s)</th><th>æ€§èƒ½å¯¹æ¯”</th></tr></thead><tbody><tr><td>SET</td><td>186,234</td><td>192,458</td><td>0.033</td></tr><tr><td>GET</td><td>205,678</td><td>213,456</td><td>0.038</td></tr><tr><td>INCR</td><td>198,432</td><td>204,867</td><td>0.032</td></tr><tr><td>LPUSH</td><td>176,543</td><td>182,345</td><td>0.033</td></tr><tr><td>RPUSH</td><td>178,234</td><td>184,123</td><td>0.033</td></tr></tbody></table>
<p>å®¹å™¨åŒ–åº”ç”¨æµ‹è¯•ç»“æœè¡¨æ˜ï¼ŒopenEuleråœ¨ARMæ¶æ„ä¸Šè¿è¡Œå®¹å™¨åº”ç”¨æ—¶ï¼Œæ€§èƒ½ä¸ä»…æœªä¸‹é™ï¼Œåè€Œåœ¨å¤šé¡¹æŒ‡æ ‡ä¸Šè¶…è¶Šx86å¹³å°3-8%ï¼Œè¯æ˜äº†å…¶å¯¹ARMç”Ÿæ€çš„æ·±åº¦ä¼˜åŒ–ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/772f08010c4b4a1582e1e677a660362b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Kej6K-7546r55Gw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765466007&amp;x-signature=mTeHezWsGZbGyz71Egg2GXiABLA%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-20">5.2 ç¼–è¯‘æ€§èƒ½è·¨å¹³å°æµ‹è¯•</h4>
<p>æœ¬èŠ‚ä½¿ç”¨Linuxå†…æ ¸ç¼–è¯‘ä½œä¸ºå®é™…å·¥ä½œè´Ÿè½½è¿›è¡Œæµ‹è¯•ï¼š</p>
<p><strong>Linux Kernel 6.1ç¼–è¯‘æµ‹è¯•ï¼š</strong></p>


























<table><thead><tr><th>å¹³å°</th><th>ç¼–è¯‘æ—¶é—´</th><th>CPUä½¿ç”¨ç‡</th><th>å†…å­˜å ç”¨å³°å€¼</th><th>ç£ç›˜I/O</th></tr></thead><tbody><tr><td>x86_64 (20æ ¸)</td><td>8åˆ†42ç§’</td><td>92%</td><td>18.5GB</td><td>2.8GB/min</td></tr><tr><td>AArch64 (64æ ¸)</td><td>5åˆ†18ç§’</td><td>89%</td><td>24.2GB</td><td>3.2GB/min</td></tr></tbody></table>
<p>ARMå¹³å°å‡­å€Ÿæ›´å¤šæ ¸å¿ƒä¼˜åŠ¿ï¼Œç¼–è¯‘é€Ÿåº¦æå‡39%ã€‚openEulerå……åˆ†åˆ©ç”¨å¤šæ ¸èµ„æºï¼ŒCPUä½¿ç”¨ç‡è¾¾89%ï¼Œè¯æ˜å…¶è°ƒåº¦å™¨çš„é«˜æ•ˆæ€§ã€‚</p>
<h3 data-id="heading-21">å…­ã€è™šæ‹ŸåŒ–ä¸äº‘åŸç”Ÿåœºæ™¯è·¨å¹³å°æ€§èƒ½</h3>
<h4 data-id="heading-22">6.1 KVMè™šæ‹ŸåŒ–æ€§èƒ½æµ‹è¯•</h4>
<p>æœ¬èŠ‚åœ¨ä¸åŒæ¶æ„ä¸Šæµ‹è¯•KVMè™šæ‹Ÿæœºæ€§èƒ½ï¼š</p>
<p><strong>è™šæ‹Ÿæœºå¯åŠ¨æ€§èƒ½ï¼š</strong></p>


























<table><thead><tr><th>å¹³å°</th><th>åˆ›å»ºæ—¶é—´</th><th>å¯åŠ¨æ—¶é—´</th><th>é¦–æ¬¡SSH</th><th>å†…å­˜å¼€é”€</th></tr></thead><tbody><tr><td>x86_64</td><td>1.2ç§’</td><td>8.5ç§’</td><td>10.2ç§’</td><td>512MB</td></tr><tr><td>AArch64</td><td>0.9ç§’</td><td>7.8ç§’</td><td>9.5ç§’</td><td>485MB</td></tr></tbody></table>
<p><strong>è™šæ‹Ÿæœºæ€§èƒ½å¼€é”€æµ‹è¯•ï¼š</strong></p>


















































<table><thead><tr><th>æµ‹è¯•é¡¹</th><th>x86ç‰©ç†æœº</th><th>x86è™šæ‹Ÿæœº</th><th>æ€§èƒ½æŸå¤±</th><th>ARMç‰©ç†æœº</th><th>ARMè™šæ‹Ÿæœº</th><th>æ€§èƒ½æŸå¤±</th></tr></thead><tbody><tr><td>CPU</td><td>100%</td><td>97.20%</td><td>2.80%</td><td>100%</td><td>98.10%</td><td>1.90%</td></tr><tr><td>å†…å­˜å¸¦å®½</td><td>100%</td><td>95.80%</td><td>4.20%</td><td>100%</td><td>96.50%</td><td>3.50%</td></tr><tr><td>ç£ç›˜I/O</td><td>100%</td><td>92.30%</td><td>7.70%</td><td>100%</td><td>93.80%</td><td>6.20%</td></tr><tr><td>ç½‘ç»œåå</td><td>100%</td><td>94.50%</td><td>5.50%</td><td>100%</td><td>95.20%</td><td>4.80%</td></tr></tbody></table>
<p>è™šæ‹ŸåŒ–æ€§èƒ½æµ‹è¯•è¡¨æ˜ï¼ŒopenEulerçš„KVMå®ç°åœ¨ä¸¤ä¸ªå¹³å°ä¸Šå‡è¡¨ç°å‡ºè‰²ï¼Œè™šæ‹ŸåŒ–å¼€é”€æ§åˆ¶åœ¨2-8%ä¹‹é—´ã€‚ARMå¹³å°è™šæ‹ŸåŒ–æ•ˆç‡ç•¥ä¼˜äºx86ã€‚</p>
<h4 data-id="heading-23">6.2 Kubernetesé›†ç¾¤è·¨å¹³å°æ€§èƒ½</h4>
<p>æœ¬èŠ‚åœ¨æ··åˆæ¶æ„Kubernetesé›†ç¾¤ä¸­æµ‹è¯•åº”ç”¨éƒ¨ç½²å’Œè¿è¡Œæ€§èƒ½ï¼š</p>
<p><strong>Podè°ƒåº¦æ€§èƒ½ï¼š</strong></p>

































<table><thead><tr><th>é›†ç¾¤é…ç½®</th><th>Podåˆ›å»ºæ—¶é—´</th><th>é•œåƒæ‹‰å–</th><th>å®¹å™¨å¯åŠ¨</th><th>æœåŠ¡å°±ç»ª</th></tr></thead><tbody><tr><td>çº¯x86é›†ç¾¤</td><td>2.1ç§’</td><td>12.3ç§’</td><td>1.2ç§’</td><td>15.6ç§’</td></tr><tr><td>çº¯ARMé›†ç¾¤</td><td>1.9ç§’</td><td>11.8ç§’</td><td>1.1ç§’</td><td>14.8ç§’</td></tr><tr><td>æ··åˆé›†ç¾¤</td><td>2.0ç§’</td><td>12.0ç§’</td><td>1.2ç§’</td><td>15.2ç§’</td></tr></tbody></table>
<p>openEuleråœ¨Kubernetesåœºæ™¯ä¸‹å±•ç°ä¼˜ç§€çš„è·¨æ¶æ„ä¸€è‡´æ€§ã€‚çº¯ARMé›†ç¾¤è¡¨ç°æ›´ä¼˜ï¼Œæ··åˆé›†ç¾¤è°ƒåº¦æ•ˆç‡åŒæ ·å‡ºè‰²ã€‚</p>
<h3 data-id="heading-24">ä¸ƒã€æ€»ç»“ä¸æŠ€æœ¯å±•æœ›</h3>
<p>é€šè¿‡ç³»ç»ŸåŒ–çš„è·¨å¹³å°æ€§èƒ½æµ‹è¯•ï¼ŒopenEuleråœ¨å¤šæ¶æ„æ˜“è·å¾—æ€§å’Œæ€§èƒ½è¡¨ç°æ–¹é¢å±•ç°ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿ï¼š</strong></p>
<ol>
<li><strong>å…¨æ¶æ„è¦†ç›–</strong>ï¼šæ”¯æŒx86_64ã€AArch64ã€RISC-Vç­‰ä¸»æµæ¶æ„ï¼Œé•œåƒè·å–ä¾¿æ·</li>
<li><strong>ä¸€è‡´æ€§ä½“éªŒ</strong>ï¼šå„æ¶æ„å®‰è£…éƒ¨ç½²æµç¨‹ç»Ÿä¸€ï¼Œé™ä½ç”¨æˆ·å­¦ä¹ æˆæœ¬</li>
<li><strong>æ·±åº¦ä¼˜åŒ–</strong>ï¼šARMå¹³å°æ€§èƒ½è¾¾åˆ°ç”šè‡³è¶…è¶Šx86æ°´å¹³ï¼Œå¤šé¡¹æµ‹è¯•é¢†å…ˆ3-11%</li>
<li><strong>è™šæ‹ŸåŒ–æ€§èƒ½</strong>ï¼šè™šæ‹ŸåŒ–å¼€é”€å°äº8%ï¼Œè·¨æ¶æ„äº‘åŸç”Ÿåœºæ™¯è¡¨ç°ä¼˜å¼‚</li>
<li><strong>å®é™…è´Ÿè½½éªŒè¯</strong>ï¼šå®¹å™¨ã€ç¼–è¯‘ã€WebæœåŠ¡ç­‰å®é™…åœºæ™¯æ€§èƒ½è¡¨ç°çªå‡º</li>
</ol>
<p><strong>æ€§èƒ½æ•°æ®äº®ç‚¹ï¼š</strong></p>
<ul>
<li>ARMå¹³å°å†…å­˜å¸¦å®½æå‡ï¼š+10%</li>
<li>å®¹å™¨åº”ç”¨æ€§èƒ½æå‡ï¼š+3-8%</li>
<li>è™šæ‹ŸåŒ–æ•ˆç‡æå‡ï¼šå¼€é”€é™ä½1-2%</li>
<li>ç¼–è¯‘æ€§èƒ½æå‡ï¼š+39%ï¼ˆå¤šæ ¸ä¼˜åŠ¿ï¼‰</li>
</ul>
<p>å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾é¢å‘æœªæ¥çš„å¼€æºæ“ä½œç³»ç»Ÿï¼Œä¸å¦¨çœ‹çœ‹DistroWatch æ¦œå•ä¸­å¿«é€Ÿä¸Šå‡çš„ openEuler: <a href="https://link.juejin.cn?target=https%3A%2F%2Fdistrowatch.com%2Ftable-mobile.php%3Fdistribution%3Dopeneuler%25EF%25BC%258C%25E4%25B8%2580%25E4%25B8%25AA%25E7%2594%25B1%25E5%25BC%2580%25E6%2594%25BE%25E5%258E%259F%25E5%25AD%2590%25E5%25BC%2580%25E6%25BA%2590%25E5%259F%25BA%25E9%2587%2591%25E4%25BC%259A%25E5%25AD%25B5%25E5%258C%2596%25E3%2580%2581%25E6%2594%25AF%25E6%258C%2581%25E2%2580%259C%25E8%25B6%2585%25E8%258A%2582%25E7%2582%25B9%25E2%2580%259D%25E5%259C%25BA%25E6%2599%25AF%25E7%259A%2584Linux" target="_blank" title="https://distrowatch.com/table-mobile.php?distribution=openeuler%EF%BC%8C%E4%B8%80%E4%B8%AA%E7%94%B1%E5%BC%80%E6%94%BE%E5%8E%9F%E5%AD%90%E5%BC%80%E6%BA%90%E5%9F%BA%E9%87%91%E4%BC%9A%E5%AD%B5%E5%8C%96%E3%80%81%E6%94%AF%E6%8C%81%E2%80%9C%E8%B6%85%E8%8A%82%E7%82%B9%E2%80%9D%E5%9C%BA%E6%99%AF%E7%9A%84Linux" ref="nofollow noopener noreferrer">distrowatch.com/table-mobilâ€¦</a> å‘è¡Œç‰ˆã€‚</p>
<p>openEulerå®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.openeuler.openatom.cn%2Fzh%2F" target="_blank" title="https://www.openeuler.openatom.cn/zh/" ref="nofollow noopener noreferrer">openEuler | å¼€æºç¤¾åŒº | openEulerç¤¾åŒºå®˜ç½‘</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Pythonè¿›é˜¶ï¼šå‘Šåˆ«"å…¥é—¨å³åœæ»"ï¼Œè¿™3ä¸ªçŸ¥è¯†ç‚¹è®©ä»£ç ä¼˜é›…ç¿»å€]]></title>    <link>https://juejin.cn/post/7579832186879950898</link>    <guid>https://juejin.cn/post/7579832186879950898</guid>    <pubDate>2025-12-04T11:05:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579832186879950898" data-draft-id="7579819594271129638" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pythonè¿›é˜¶ï¼šå‘Šåˆ«&quot;å…¥é—¨å³åœæ»&quot;ï¼Œè¿™3ä¸ªçŸ¥è¯†ç‚¹è®©ä»£ç ä¼˜é›…ç¿»å€"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-12-04T11:05:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AAAç®€å•ç©è½¬ç¨‹åºè®¾è®¡"/> <meta itemprop="url" content="https://juejin.cn/user/4294056357689099"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pythonè¿›é˜¶ï¼šå‘Šåˆ«"å…¥é—¨å³åœæ»"ï¼Œè¿™3ä¸ªçŸ¥è¯†ç‚¹è®©ä»£ç ä¼˜é›…ç¿»å€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4294056357689099/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AAAç®€å•ç©è½¬ç¨‹åºè®¾è®¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T11:05:53.000Z" title="Thu Dec 04 2025 11:05:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åˆšå­¦ä¼šPythonåŸºç¡€è¯­æ³•ï¼Œå´å†™ä¸å‡ºç®€æ´åˆçµæ´»çš„ä»£ç ï¼Ÿåˆ«æ…Œï¼ä»Šå¤©åˆ†äº«3ä¸ª"è¿›é˜¶ååŸºç¡€"çš„å®ç”¨çŸ¥è¯†ç‚¹ï¼Œæ¯ä¸ªéƒ½å¸¦å¯ç›´æ¥è¿è¡Œçš„ä»£ç ç¤ºä¾‹ï¼Œè®©ä½ ä»"èƒ½è·‘å°±è¡Œ"å‡çº§åˆ°"å†™å¾—æ¼‚äº®"ï½</p>
<h2 data-id="heading-0">ä¸€ã€å‡½æ•°å‚æ•°è¿›é˜¶ï¼šå‘Šåˆ«"å‚æ•°ä¸å¤Ÿç”¨"çš„å°´å°¬</h2>
<p>åŸºç¡€å‡½æ•°çš„å›ºå®šå‚æ•°çš„å¤ªæ­»æ¿ï¼Ÿè¯•è¯•é»˜è®¤å‚æ•°ã€*argså’Œ**kwargsï¼Œçµæ´»åº”å¯¹å„ç§ä¼ å‚åœºæ™¯ï¼</p>
<p>python</p>
<h4 data-id="heading-1">1. é»˜è®¤å‚æ•°ï¼šç»™å‚æ•°è®¾ä¸ª"å¤‡èƒ"</h4>
<p>def order_coffee(name, sugar=2):
"""ç‚¹å’–å•¡ï¼Œé»˜è®¤åŠ 2å—ç³–"""
return f"ä¸€æ¯{name}ï¼ŒåŠ {sugar}å—ç³–"</p>
<p>print(order_coffee("æ‹¿é“"))  # è¾“å‡ºï¼šä¸€æ¯æ‹¿é“ï¼ŒåŠ 2å—ç³–ï¼ˆç”¨é»˜è®¤å€¼ï¼‰
print(order_coffee("ç¾å¼", 0))  # è¾“å‡ºï¼šä¸€æ¯ç¾å¼ï¼ŒåŠ 0å—ç³–ï¼ˆè¦†ç›–é»˜è®¤å€¼ï¼‰</p>
<h4 data-id="heading-2">2. *argsï¼šæ¥æ”¶ä»»æ„ä¸ªä½ç½®å‚æ•°ï¼ˆæ‰“åŒ…æˆå…ƒç»„ï¼‰</h4>
<p>def sum_all(*args):
"""è®¡ç®—ä»»æ„ä¸ªæ•°çš„å’Œ"""
return sum(args)</p>
<p>print(sum_all(1, 2, 3))  # è¾“å‡ºï¼š6
print(sum_all(10, 20, 30, 40))  # è¾“å‡ºï¼š100</p>
<h4 data-id="heading-3">3. kwargsï¼šæ¥æ”¶ä»»æ„ä¸ªå…³é”®å­—å‚æ•°ï¼ˆæ‰“åŒ…æˆå­—å…¸ï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">print_user</span>(<span class="hljs-params">**kwargs</span>):
    <span class="hljs-string">"""æ‰“å°ç”¨æˆ·ä¿¡æ¯ï¼Œå‚æ•°å¯å¤šå¯å°‘"""</span>
    <span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> kwargs.items():
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{key}</span>ï¼š<span class="hljs-subst">{value}</span>"</span>)

print_user(name=<span class="hljs-string">"å°æ"</span>, age=<span class="hljs-number">25</span>, city=<span class="hljs-string">"ä¸Šæµ·"</span>)
<span class="hljs-comment"># è¾“å‡ºï¼š</span>
<span class="hljs-comment"># nameï¼šå°æ</span>
<span class="hljs-comment"># ageï¼š25</span>
<span class="hljs-comment"># cityï¼šä¸Šæµ·</span>
</code></pre>
<p>Â </p>
<h2 data-id="heading-4">äºŒã€åˆ—è¡¨æ¨å¯¼å¼ï¼šä¸€è¡Œä»£æ›¿3è¡Œå¾ªç¯ï¼Œæ•ˆç‡é¢œå€¼åŒåœ¨çº¿</h2>
<p>è¿˜åœ¨å†™å†—é•¿çš„forå¾ªç¯ç”Ÿæˆåˆ—è¡¨ï¼Ÿåˆ—è¡¨æ¨å¯¼å¼è®©ä½ ä¸€è¡Œæå®šï¼Œæ‰§è¡Œæ•ˆç‡è¿˜æ›´é«˜ï¼</p>
<pre><code class="hljs language-python" lang="python">  
<span class="hljs-comment"># åœºæ™¯ï¼šç­›é€‰1-10ä¸­çš„å¶æ•°ï¼Œå†ä¹˜ä»¥2</span>
<span class="hljs-comment"># åŸºç¡€å†™æ³•ï¼ˆ3è¡Œä»£ç ï¼‰</span>
old_list = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">11</span>))
new_list = []
<span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> old_list:
    <span class="hljs-keyword">if</span> num % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>:
        new_list.append(num * <span class="hljs-number">2</span>)
<span class="hljs-built_in">print</span>(new_list)  <span class="hljs-comment"># è¾“å‡ºï¼š[4, 8, 12, 16, 20]</span>

<span class="hljs-comment"># è¿›é˜¶å†™æ³•ï¼ˆ1è¡Œåˆ—è¡¨æ¨å¯¼å¼ï¼‰</span>
new_list_fast = [num * <span class="hljs-number">2</span> <span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> old_list <span class="hljs-keyword">if</span> num % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>]
<span class="hljs-built_in">print</span>(new_list_fast)  <span class="hljs-comment"># è¾“å‡ºï¼š[4, 8, 12, 16, 20]</span>

<span class="hljs-comment"># æ‰©å±•ï¼šå­—å…¸æ¨å¯¼å¼ï¼ˆå¿«é€Ÿç”Ÿæˆå­—å…¸ï¼‰</span>
dict_example = {num: <span class="hljs-string">f"æ•°å­—<span class="hljs-subst">{num}</span>"</span> <span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>)}
<span class="hljs-built_in">print</span>(dict_example)  <span class="hljs-comment"># è¾“å‡ºï¼š{1: 'æ•°å­—1', 2: 'æ•°å­—2', 3: 'æ•°å­—3', 4: 'æ•°å­—4'}</span>
Â 
</code></pre>
<h2 data-id="heading-5">ä¸‰ã€è£…é¥°å™¨ï¼šç»™å‡½æ•°"ç©¿å¤–å¥—"ï¼Œä¸æ”¹ä»£ç åŠ åŠŸèƒ½</h2>
<p>æƒ³ç»™å‡½æ•°åŠ æ—¥å¿—ã€è®¡æ—¶åŠŸèƒ½ï¼Œåˆä¸æƒ³ä¿®æ”¹åŸä»£ç ï¼Ÿè£…é¥°å™¨å°±æ˜¯Pythonçš„"é»‘ç§‘æŠ€"ï¼</p>
<pre><code class="hljs language-python" lang="python">  
<span class="hljs-keyword">import</span> time

<span class="hljs-comment"># å®šä¹‰è£…é¥°å™¨ï¼šè®¡ç®—å‡½æ•°è¿è¡Œæ—¶é—´</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">time_calculator</span>(<span class="hljs-params">func</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>(<span class="hljs-params">*args, **kwargs</span>):
        start = time.time()
        result = func(*args, **kwargs)  <span class="hljs-comment"># æ‰§è¡ŒåŸå‡½æ•°</span>
        end = time.time()
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å‡½æ•°<span class="hljs-subst">{func.__name__}</span>è¿è¡Œè€—æ—¶ï¼š<span class="hljs-subst">{end - start:<span class="hljs-number">.4</span>f}</span>ç§’"</span>)
        <span class="hljs-keyword">return</span> result
    <span class="hljs-keyword">return</span> wrapper

<span class="hljs-comment"># ç”¨@ç¬¦å·ç»™å‡½æ•°"ç©¿å¤–å¥—"</span>
<span class="hljs-meta">@time_calculator</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">slow_task</span>(<span class="hljs-params">n</span>):
    <span class="hljs-string">"""æ¨¡æ‹Ÿè€—æ—¶æ“ä½œï¼šæš‚åœnç§’"""</span>
    time.sleep(n)
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"ä»»åŠ¡å®Œæˆï¼ˆæš‚åœäº†<span class="hljs-subst">{n}</span>ç§’ï¼‰"</span>

<span class="hljs-comment"># è°ƒç”¨å‡½æ•°ï¼ˆè‡ªåŠ¨è§¦å‘è£…é¥°å™¨åŠŸèƒ½ï¼‰</span>
result = slow_task(<span class="hljs-number">1</span>)
<span class="hljs-built_in">print</span>(result)
<span class="hljs-comment"># è¾“å‡ºï¼š</span>
<span class="hljs-comment"># å‡½æ•°slow_taskè¿è¡Œè€—æ—¶ï¼š1.0012ç§’</span>
<span class="hljs-comment"># ä»»åŠ¡å®Œæˆï¼ˆæš‚åœäº†1ç§’ï¼‰</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ç†è§£JavaScript ä¸­ this çš„åº•å±‚è®¾è®¡ï¼šä»æ‰§è¡Œä¸Šä¸‹æ–‡åˆ°è°ƒç”¨æœºåˆ¶]]></title>    <link>https://juejin.cn/post/7579819594271178790</link>    <guid>https://juejin.cn/post/7579819594271178790</guid>    <pubDate>2025-12-04T11:19:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579819594271178790" data-draft-id="7579800429375291442" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ç†è§£JavaScript ä¸­ this çš„åº•å±‚è®¾è®¡ï¼šä»æ‰§è¡Œä¸Šä¸‹æ–‡åˆ°è°ƒç”¨æœºåˆ¶"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2025-12-04T11:19:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Tzarevich"/> <meta itemprop="url" content="https://juejin.cn/user/578786070367529"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ç†è§£JavaScript ä¸­ this çš„åº•å±‚è®¾è®¡ï¼šä»æ‰§è¡Œä¸Šä¸‹æ–‡åˆ°è°ƒç”¨æœºåˆ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/578786070367529/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Tzarevich
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T11:19:10.000Z" title="Thu Dec 04 2025 11:19:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.8;font-weight:400;font-size:16px;word-spacing:2px;letter-spacing:2px;overflow-x:hidden;color:#3e3e3e;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:1.2em;border-bottom:2px solid #ef7060;word-spacing:0!important;letter-spacing:0!important;font-size:inherit;line-height:inherit;display:block;font-weight:400;background:#ef7060;color:#fff;padding:10px;border-top-right-radius:3px;border-top-left-radius:3px;margin-right:3px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-light">.hljs-comment,.hljs-quote{color:#696969}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d91e18}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#aa5d00}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:green}.hljs-section,.hljs-title{color:#007faa}.hljs-keyword,.hljs-selector-tag{color:#7928a1}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fefefe;color:#545454}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">JavaScript ä¸­ <code>this</code> çš„åº•å±‚è®¾è®¡ï¼šä»æ‰§è¡Œä¸Šä¸‹æ–‡åˆ°è°ƒç”¨æœºåˆ¶</h2>
<p>åœ¨ JavaScript è¯­è¨€ä¸­ï¼Œ<code>this</code> æ˜¯ä¸€ä¸ªç‹¬ç‰¹è€Œå…³é”®çš„æ¦‚å¿µã€‚å®ƒæ—¢ä¸æ˜¯å˜é‡ï¼Œä¹Ÿä¸éµå¾ªä½œç”¨åŸŸè§„åˆ™ï¼›å®ƒä¸ä¾èµ–å‡½æ•°å®šä¹‰çš„ä½ç½®ï¼Œå´å®Œå…¨ç”±<strong>å‡½æ•°å¦‚ä½•è¢«è°ƒç”¨</strong>å†³å®šã€‚è¿™ç§â€œåŠ¨æ€ç»‘å®šâ€æœºåˆ¶ä½¿ <code>this</code> æˆä¸º JavaScript æ‰§è¡Œæ¨¡å‹ä¸­æœ€çµæ´»ä¹Ÿæœ€å®¹æ˜“è¯¯è§£çš„éƒ¨åˆ†ã€‚æœ¬æ–‡å°†ä» <strong>ç¼–è¯‘ä¸æ‰§è¡Œæœºåˆ¶ã€æ‰§è¡Œä¸Šä¸‹æ–‡ç»“æ„ã€å†å²è®¾è®¡èƒŒæ™¯ã€ç»‘å®šè§„åˆ™åˆ†ç±»</strong> å››ä¸ªå±‚é¢ï¼Œæ·±å…¥å‰–æ <code>this</code> çš„åº•å±‚åŸç†ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€è‡ªç”±å˜é‡ vs <code>this</code>ï¼šé™æ€ä½œç”¨åŸŸä¸åŠ¨æ€ç»‘å®šçš„å¯¹ç«‹</h3>
<p>JavaScript çš„æ‰§è¡Œè¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š<strong>ç¼–è¯‘é˜¶æ®µï¼ˆCompilationï¼‰</strong> å’Œ <strong>æ‰§è¡Œé˜¶æ®µï¼ˆExecutionï¼‰</strong> ã€‚</p>
<h4 data-id="heading-2">1. è‡ªç”±å˜é‡çš„æŸ¥æ‰¾ï¼šè¯æ³•ä½œç”¨åŸŸï¼ˆLexical Scopeï¼‰</h4>
<ul>
<li>åœ¨ç¼–è¯‘é˜¶æ®µï¼Œå¼•æ“é€šè¿‡è¯æ³•åˆ†ææ„å»º <strong>ä½œç”¨åŸŸé“¾ï¼ˆScope Chainï¼‰</strong> ã€‚</li>
<li>å½“å‡½æ•°å†…éƒ¨å¼•ç”¨ä¸€ä¸ªæœªå£°æ˜çš„å˜é‡ï¼ˆè‡ªç”±å˜é‡ï¼‰ï¼Œå¼•æ“ä¼šæ²¿ç€ä½œç”¨åŸŸé“¾å‘ä¸ŠæŸ¥æ‰¾ã€‚</li>
<li>è¿™ä¸ªè¿‡ç¨‹æ˜¯<strong>é™æ€çš„</strong>â€”â€”åªå–å†³äºå‡½æ•°<strong>å®šä¹‰çš„ä½ç½®</strong>ï¼Œä¸è°ƒç”¨æ–¹å¼æ— å…³ã€‚</li>
</ul>

<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">let</span> site = <span class="hljs-string">'time.geekbang.com'</span>;

<span class="hljs-function">function <span class="hljs-title">getSite</span>()</span> {
    <span class="hljs-keyword">return</span> site; <span class="hljs-comment">// ç¼–è¯‘æ—¶å°±ç¡®å®šï¼šä»å¤–å±‚ä½œç”¨åŸŸæ‰¾ site</span>
}
</code></pre>
<blockquote>
<p>âœ… å˜é‡æŸ¥æ‰¾æ˜¯â€œçœ‹å®šä¹‰â€ï¼Œè€Œ <code>this</code> æ˜¯â€œçœ‹è°ƒç”¨â€ã€‚</p>
</blockquote>
<h4 data-id="heading-3">2. <code>this</code> çš„ä¾‹å¤–æ€§ï¼šè¿è¡Œæ—¶åŠ¨æ€ç»‘å®š</h4>
<ul>
<li><code>this</code> ä¸å±äºè¯æ³•ç¯å¢ƒï¼Œä¹Ÿä¸å‚ä¸ä½œç”¨åŸŸé“¾æŸ¥æ‰¾ã€‚</li>
<li>å®ƒçš„å€¼åœ¨<strong>å‡½æ•°è¢«è°ƒç”¨çš„é‚£ä¸€åˆ»</strong>æ‰ç¡®å®šï¼Œç”±<strong>è°ƒç”¨æ–¹å¼</strong>å†³å®šã€‚</li>
<li>è¿™ä½¿å¾— <code>this</code> æˆä¸º JavaScript æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­<strong>å”¯ä¸€åŠ¨æ€å­—æ®µ</strong>ã€‚</li>
</ul>
<blockquote>
<p>ğŸ”¥ <strong>æ ¸å¿ƒåŒºåˆ«</strong>ï¼š</p>
<ul>
<li>å˜é‡ï¼šç¼–è¯‘é˜¶æ®µ â†’ é™æ€ â†’ ä½œç”¨åŸŸé“¾</li>
<li><code>this</code>ï¼šæ‰§è¡Œé˜¶æ®µ â†’ åŠ¨æ€ â†’ è°ƒç”¨ä¸Šä¸‹æ–‡</li>
</ul>
</blockquote>
<hr/>
<h3 data-id="heading-4">äºŒã€ä¸ºä»€ä¹ˆè¦è®¾è®¡ <code>this</code>ï¼Ÿâ€”â€” æ— ç±»æ—¶ä»£çš„ OOP æ”¯æ’‘</h3>
<p>JavaScript æœ€åˆæ²¡æœ‰ <code>class</code>ï¼ˆç›´åˆ° ES6 æ‰å¼•å…¥ï¼‰ï¼Œä½†å¼€å‘è€…ä»éœ€è¦é¢å‘å¯¹è±¡çš„èƒ½åŠ›ï¼š<strong>è®©æ–¹æ³•èƒ½æ“ä½œæ‰€å±å¯¹è±¡çš„æ•°æ®</strong>ã€‚</p>
<p>è®¾æƒ³æ²¡æœ‰ <code>this</code> çš„åœºæ™¯ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">user</span> = { name: <span class="hljs-string">'æå®¢æ—¶é—´'</span> }<span class="hljs-comment">;</span>
function getName(obj) {
    return obj.name<span class="hljs-comment">;</span>
}
getName(user)<span class="hljs-comment">; // å¿…é¡»æ˜¾å¼ä¼ å‚ï¼Œä¸ç¬¦åˆâ€œæ–¹æ³•å±äºå¯¹è±¡â€çš„ç›´è§‰</span>
</code></pre>
<p>æœ‰äº† <code>this</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">user.<span class="hljs-property">getName</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>; <span class="hljs-comment">// è‡ªåŠ¨çŸ¥é“â€œæˆ‘æ˜¯è°çš„æ–¹æ³•â€</span>
};
user.<span class="hljs-title function_">getName</span>(); <span class="hljs-comment">// 'æå®¢æ—¶é—´'</span>
</code></pre>
<blockquote>
<p>âœ… <strong><code>this</code> çš„è®¾è®¡åˆè¡·</strong>ï¼š<br/>
åœ¨æ— ç±»ã€åŸºäºåŸå‹çš„è¯­è¨€ä¸­ï¼Œæä¾›ä¸€ç§æœºåˆ¶ï¼Œè®©<strong>åŒä¸€ä¸ªå‡½æ•°å¯ä»¥ä½œä¸ºå¤šä¸ªå¯¹è±¡çš„æ–¹æ³•å¤ç”¨</strong>ï¼Œå¹¶è‡ªåŠ¨è®¿é—®è°ƒç”¨è€…çš„æ•°æ®ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-5">ä¸‰ã€â€œä¸å¥½çš„è®¾è®¡â€ï¼Ÿâ€”â€” å…¨å±€ <code>this</code> ä¸ä¸¥æ ¼æ¨¡å¼çš„æ•‘èµ</h3>
<p>å°½ç®¡ <code>this</code> æœ‰å…¶ä»·å€¼ï¼Œä½† JavaScript çš„æ—©æœŸå®ç°ç¡®å®å­˜åœ¨ä¸€ä¸ª<strong>é¥±å—è¯Ÿç—…çš„è®¾è®¡</strong>ï¼š</p>
<blockquote>
<p><strong>å½“å‡½æ•°ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨æ—¶ï¼ˆå¦‚ <code>fn()</code>ï¼‰ï¼Œ<code>this</code> é»˜è®¤æŒ‡å‘å…¨å±€å¯¹è±¡ï¼ˆæµè§ˆå™¨ä¸­æ˜¯ <code>window</code>ï¼‰ã€‚</strong></p>
</blockquote>
<h4 data-id="heading-6">é—®é¢˜æ ¹æº</h4>
<ul>
<li>Brendan Eich åœ¨ 10 å¤©å†…è®¾è®¡ JS æ—¶ï¼Œä¸ºç®€åŒ–å®ç°ï¼Œè®© <code>this</code> â€œæ€»æœ‰å€¼â€ã€‚</li>
<li>ç»“åˆ <code>var</code> å£°æ˜ä¼šæŒ‚è½½åˆ° <code>window</code> çš„ç‰¹æ€§ï¼Œææ˜“é€ æˆ<strong>å…¨å±€æ±¡æŸ“</strong>ï¼š</li>
</ul>

<pre><code class="hljs language-ini" lang="ini">var <span class="hljs-attr">name</span> = <span class="hljs-string">'Global'</span><span class="hljs-comment">;</span>
function resetName() {
    <span class="hljs-attr">this.name</span> = <span class="hljs-string">'Hacked'</span><span class="hljs-comment">; // æ„å¤–ä¿®æ”¹ window.nameï¼</span>
}
resetName()<span class="hljs-comment">;</span>
console.log(window.name)<span class="hljs-comment">; // 'Hacked'</span>
</code></pre>
<h4 data-id="heading-7">ä¸¥æ ¼æ¨¡å¼çš„ä¿®æ­£</h4>
<p>ES5 å¼•å…¥çš„ä¸¥æ ¼æ¨¡å¼ï¼ˆ<code>'use strict'</code>ï¼‰è§£å†³äº†è¿™ä¸€é—®é¢˜ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-meta">'use strict'</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">resetName</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = <span class="hljs-string">'Hacked'</span>; <span class="hljs-comment">// TypeError: Cannot set property 'name' of undefined</span>
}
<span class="hljs-title function_">resetName</span>(); <span class="hljs-comment">// this = undefined â†’ ç›´æ¥æŠ¥é”™</span>
</code></pre>
<blockquote>
<p>âœ… <strong>ä¸¥æ ¼æ¨¡å¼çš„æ„ä¹‰</strong>ï¼š<br/>
è®©æ— æ„ä¹‰çš„ <code>this</code> ç»‘å®šæ˜¾å¼å¤±è´¥ï¼Œé¿å…é™é»˜é”™è¯¯ï¼Œæå‡ä»£ç å¥å£®æ€§ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-8">å››ã€ä»æ‰§è¡Œä¸Šä¸‹æ–‡çœ‹Â <code>this</code></h3>
<p>è¦çœŸæ­£ç†è§£ <code>this</code> çš„è¡Œä¸ºï¼Œæˆ‘ä»¬å¿…é¡»æ·±å…¥ JavaScript å¼•æ“çš„è¿è¡Œæœºåˆ¶â€”â€”æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆExecution Contextï¼‰ã€‚æ¯å½“ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼ŒJS å¼•æ“ä¼šä¸ºå…¶åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œè¿™ä¸ªä¸Šä¸‹æ–‡å°±åƒä¸€ä¸ªâ€œè¿è¡Œæ²™ç›’â€ï¼ŒåŒ…å«äº†å‡½æ•°æ‰§è¡Œæ‰€éœ€çš„ä¸€åˆ‡ä¿¡æ¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f5989a07c16477bb50f74788d862332~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVHphcmV2aWNo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765451950&amp;x-signature=iFDcAPYp4Rg4pDlHbxHVorTOzQ4%3D" alt="this.png" loading="lazy"/></p>
<p>è¿™å¼ å›¾æ¸…æ™°åœ°å±•ç¤ºäº†å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡çš„å››ä¸ªæ ¸å¿ƒç»„æˆéƒ¨åˆ†ï¼š<strong>å˜é‡ç¯å¢ƒ</strong>ã€<strong>è¯æ³•ç¯å¢ƒ</strong>ã€<strong>outerï¼ˆå¤–å±‚ç¯å¢ƒå¼•ç”¨ï¼‰</strong> å’Œ <strong>this</strong>ã€‚å…¶ä¸­ï¼Œå‰ä¸‰è€…åœ¨å‡½æ•°å®šä¹‰æ—¶å°±å·²åŸºæœ¬ç¡®å®šï¼Œå¹¶å…±åŒæ”¯æ’‘äº† JavaScript çš„è¯æ³•ä½œç”¨åŸŸå’Œé—­åŒ…æœºåˆ¶ï¼›è€Œ <strong><code>this</code> æ˜¯å”¯ä¸€ä¸€ä¸ªåœ¨å‡½æ•°è°ƒç”¨æ—¶æ‰è¢«åŠ¨æ€èµ‹å€¼çš„å­—æ®µ</strong>ï¼Œå®ƒä¸å‚ä¸ä½œç”¨åŸŸé“¾çš„æŸ¥æ‰¾ï¼Œä¹Ÿä¸ä¾èµ–å‡½æ•°å®šä¹‰çš„ä½ç½®ã€‚</p>
<p>æ­£æ˜¯è¿™ç§è®¾è®¡ï¼Œä½¿å¾— <code>this</code> æˆä¸º JavaScript æ‰§è¡Œæ¨¡å‹ä¸­çš„â€œä¾‹å¤–â€â€”â€”å®ƒçš„å€¼å®Œå…¨ç”±<strong>è°ƒç”¨æ–¹å¼</strong>å†³å®šï¼Œè€Œéç¼–è¯‘é˜¶æ®µçš„é™æ€ç»“æ„ã€‚è¿™ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆåŒä¸€ä¸ªå‡½æ•°åœ¨ä¸åŒè°ƒç”¨åœºæ™¯ä¸‹ï¼Œ<code>this</code> ä¼šæŒ‡å‘å®Œå…¨ä¸åŒçš„å¯¹è±¡ã€‚</p>
<p>é€šè¿‡æ‰§è¡Œä¸Šä¸‹æ–‡çš„è§†è§’ï¼Œæˆ‘ä»¬å°±èƒ½æ˜ç™½ï¼š<code>this</code> å¹¶éâ€œç¥ç§˜æŒ‡é’ˆâ€ï¼Œè€Œæ˜¯å¼•æ“åœ¨åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡æ—¶ï¼Œæ ¹æ®è°ƒç”¨è§„åˆ™å¡«å…¥çš„ä¸€ä¸ªè¿è¡Œæ—¶ç»‘å®šå€¼ã€‚</p>
<hr/>
<h3 data-id="heading-9">äº”ã€<code>this</code> æŒ‡å‘çš„äº”ç§æ ¸å¿ƒæƒ…å†µ</h3>
<p>æ ¹æ® ECMAScript è§„èŒƒï¼Œ<code>this</code> çš„ç»‘å®šéµå¾ªä»¥ä¸‹ä¼˜å…ˆçº§ï¼ˆä»é«˜åˆ°ä½ï¼‰ï¼š</p>
<h4 data-id="heading-10">1. <strong>new ç»‘å®š</strong>ï¼ˆæ„é€ å‡½æ•°è°ƒç”¨ï¼‰</h4>
<pre><code class="hljs language-ini" lang="ini">function Site(name) {
    <span class="hljs-attr">this.name</span> = name<span class="hljs-comment">; // this â†’ æ–°åˆ›å»ºçš„å®ä¾‹</span>
}
const <span class="hljs-attr">site</span> = new Site(<span class="hljs-string">'time.geekbang.com'</span>)<span class="hljs-comment">;</span>
</code></pre>
<ul>
<li>å¼•æ“è‡ªåŠ¨åˆ›å»ºå¯¹è±¡ã€é“¾æ¥åŸå‹ã€ç»‘å®š <code>this</code>ã€è¿”å›å®ä¾‹ã€‚</li>
</ul>
<h4 data-id="heading-11">2. <strong>æ˜¾å¼ç»‘å®š</strong>ï¼ˆ<code>.call</code> / <code>.apply</code> / <code>.bind</code>ï¼‰</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span>.<span class="hljs-title function_ invoke__">call</span>(obj, a, b);     <span class="hljs-comment">// ç«‹å³æ‰§è¡Œï¼Œthis = obj</span>
<span class="hljs-keyword">const</span> bound = <span class="hljs-keyword">fn</span>.<span class="hljs-title function_ invoke__">bind</span>(obj); <span class="hljs-comment">// è¿”å›æ°¸ä¹…ç»‘å®š this çš„æ–°å‡½æ•°</span>
</code></pre>
<h4 data-id="heading-12">3. <strong>éšå¼ç»‘å®š</strong>ï¼ˆå¯¹è±¡æ–¹æ³•è°ƒç”¨ï¼‰</h4>
<pre><code class="hljs language-scss" lang="scss">obj<span class="hljs-selector-class">.method</span>(); <span class="hljs-comment">// this = obj</span>
</code></pre>
<ul>
<li>
<p>âš ï¸ æ³¨æ„â€œç»‘å®šä¸¢å¤±â€ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">fn</span> = obj.method<span class="hljs-comment">;</span>
fn()<span class="hljs-comment">; // this â†’ å…¨å±€ / undefined</span>
</code></pre>
</li>
</ul>
<h4 data-id="heading-13">4. <strong>é»˜è®¤ç»‘å®š</strong>ï¼ˆæ™®é€šå‡½æ•°è°ƒç”¨ï¼‰</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-function"><span class="hljs-keyword">fn</span>(<span class="hljs-params"/>)</span>; <span class="hljs-comment">// éä¸¥æ ¼ â†’ windowï¼›ä¸¥æ ¼ â†’ undefined</span>
</code></pre>
<h4 data-id="heading-14">5. <strong>ç®­å¤´å‡½æ•°</strong>ï¼ˆæ— è‡ªå·±çš„ <code>this</code>ï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'outer'</span>,
    <span class="hljs-attr">fn</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>) <span class="hljs-comment">// this ç»§æ‰¿å¤–å±‚ä½œç”¨åŸŸ</span>
};
</code></pre>
<ul>
<li>ç®­å¤´å‡½æ•°æ²¡æœ‰ <code>ThisBinding</code>ï¼Œ<code>this</code> åœ¨<strong>å®šä¹‰æ—¶</strong>æ•è·ï¼Œä¸å—è°ƒç”¨å½±å“ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-15">å…­ã€ç‰¹æ®Šåœºæ™¯ï¼šäº‹ä»¶å¤„ç†å‡½æ•°ä¸­çš„ <code>this</code></h3>
<p>åœ¨ DOM äº‹ä»¶ä¸­ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨ç»‘å®š <code>this</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// this = button å…ƒç´ </span>
});
</code></pre>
<ul>
<li>è‹¥ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œåˆ™ <code>this</code> æŒ‡å‘å¤–å±‚ä½œç”¨åŸŸï¼ˆé€šå¸¸ä¸æ˜¯å…ƒç´ ï¼‰ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-16">ä¸ƒã€æ€»ç»“ï¼šç†è§£ <code>this</code> çš„æ­£ç¡®å§¿åŠ¿</h3>





























<table><thead><tr><th>å…³é”®è®¤çŸ¥</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong><code>this</code> ä¸æ˜¯ä½œç”¨åŸŸæ¦‚å¿µ</strong></td><td>å®ƒå±äºæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œä¸å˜é‡æŸ¥æ‰¾æ— å…³</td></tr><tr><td><strong><code>this</code> ç”±è°ƒç”¨æ–¹å¼å†³å®š</strong></td><td>ä¸å‡½æ•°å®šä¹‰ä½ç½®æ— å…³</td></tr><tr><td><strong>è®¾è®¡åˆè¡·æ˜¯æ”¯æŒ OOP</strong></td><td>åœ¨æ—  class æ—¶ä»£å®ç°æ–¹æ³•å¤ç”¨</td></tr><tr><td><strong>å…¨å±€ <code>this</code> æ˜¯å†å²åŒ…è¢±</strong></td><td>ä¸¥æ ¼æ¨¡å¼å·²æœ‰æ•ˆè§„é¿</td></tr><tr><td><strong>æŒæ¡å››ç§ç»‘å®šè§„åˆ™</strong></td><td>new &gt; æ˜¾å¼ &gt; éšå¼ &gt; é»˜è®¤</td></tr></tbody></table>
<blockquote>
<p>ğŸ’¬ <strong>è®°ä½è¿™å¥å£è¯€</strong>ï¼š<br/>
<strong>â€œå˜é‡çœ‹å®šä¹‰ï¼Œthis çœ‹è°ƒç”¨ï¼›<br/>
æ–¹æ³•å±è°å®¶ï¼Œç‚¹å·è¯´äº†ç®—ï¼â€</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-17">ç»“è¯­</h3>
<p><code>this</code> å¹¶é JavaScript çš„â€œç¼ºé™·â€ï¼Œè€Œæ˜¯å…¶<strong>å¤šèŒƒå¼èåˆ</strong>ï¼ˆå‡½æ•°å¼ + åŸºäºåŸå‹çš„ OOPï¼‰çš„å¿…ç„¶äº§ç‰©ã€‚å®ƒçš„åŠ¨æ€æ€§å¸¦æ¥äº†å¤æ‚æ€§ï¼Œä½†ä¹Ÿèµ‹äºˆäº†è¯­è¨€å¼ºå¤§çš„è¡¨è¾¾èƒ½åŠ›ã€‚ç†è§£ <code>this</code> çš„åº•å±‚æœºåˆ¶ï¼Œä¸ä»…èƒ½é¿å…å¸¸è§é”™è¯¯ï¼Œæ›´èƒ½è®©ä½ å†™å‡ºæ›´é«˜æ•ˆã€æ›´å®‰å…¨çš„ä»£ç ã€‚</p>
<p>å½“ä½ ä¸‹æ¬¡çœ‹åˆ° <code>this</code> æ—¶ï¼Œè¯·ä¸è¦æŠŠå®ƒå½“ä½œâ€œç¥ç§˜æŒ‡é’ˆâ€ï¼Œè€Œè¦æ€è€ƒï¼š <strong>â€œæ­¤åˆ»ï¼Œæ˜¯è°åœ¨è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Ÿâ€</strong> â€”â€” ç­”æ¡ˆï¼Œå°±æ˜¯ <code>this</code>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäºVantçš„ç§»åŠ¨ç«¯å…¬å…±é€‰äºº/é€‰éƒ¨é—¨ç»„ä»¶è®¾è®¡æ–‡æ¡£]]></title>    <link>https://juejin.cn/post/7579813945600819240</link>    <guid>https://juejin.cn/post/7579813945600819240</guid>    <pubDate>2025-12-04T11:36:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579813945600819240" data-draft-id="7579410911057903642" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäºVantçš„ç§»åŠ¨ç«¯å…¬å…±é€‰äºº/é€‰éƒ¨é—¨ç»„ä»¶è®¾è®¡æ–‡æ¡£"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-04T11:36:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çˆ±åƒé¦™èœi"/> <meta itemprop="url" content="https://juejin.cn/user/712936594609816"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäºVantçš„ç§»åŠ¨ç«¯å…¬å…±é€‰äºº/é€‰éƒ¨é—¨ç»„ä»¶è®¾è®¡æ–‡æ¡£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/712936594609816/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çˆ±åƒé¦™èœi
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T11:36:23.000Z" title="Thu Dec 04 2025 11:36:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    23
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸºäºVantçš„ç§»åŠ¨ç«¯å…¬å…±é€‰äºº/é€‰éƒ¨é—¨ç»„ä»¶è®¾è®¡æ–‡æ¡£</h2>
<h3 data-id="heading-1">1. ç»„ä»¶æ¦‚è¿°</h3>
<h4 data-id="heading-2">1.1 ç»„ä»¶åç§°</h4>
<p><code>SelectPersonDeptMobile</code> - åŸºäºVantçš„ç§»åŠ¨ç«¯å…¬å…±é€‰äºº/é€‰éƒ¨é—¨ç»„ä»¶</p>
<h4 data-id="heading-3">1.2 ç»„ä»¶åŠŸèƒ½</h4>
<ul>
<li>æ”¯æŒé€‰æ‹©ç”¨æˆ·ã€è§’è‰²ã€ç»„ç»‡æ¶æ„ã€ç¾¤ç»„ã€å¿«é€ŸæŸ¥æ‰¾</li>
<li>æ”¯æŒå¤šé€‰/å•é€‰æ¨¡å¼ï¼ˆé€šè¿‡multipleå¸ƒå°”å€¼æ§åˆ¶ï¼‰</li>
<li>æ”¯æŒæœç´¢åŠŸèƒ½</li>
<li>æ”¯æŒå¹³é“ºåˆ—è¡¨å±•ç¤ºï¼Œé€šè¿‡ä¸‹çº§æŒ‰é’®åŠ è½½æ–°æ•°æ®</li>
<li>æ”¯æŒå·²é€‰äººå‘˜/éƒ¨é—¨å±•ç¤ºä¸ç®¡ç†</li>
<li>ç§»åŠ¨ç«¯å‹å¥½çš„äº¤äº’è®¾è®¡</li>
<li>åŸºäºVantç»„ä»¶åº“å®ç°</li>
<li>æ”¯æŒè‡ªå®šä¹‰é€‰æ‹©ç±»å‹</li>
</ul>
<h4 data-id="heading-4">1.3 è®¾è®¡ç†å¿µ</h4>
<ul>
<li>æ¨¡å—åŒ–è®¾è®¡ï¼Œä¾¿äºå¤ç”¨</li>
<li>åŸºäºVantç»„ä»¶åº“ï¼Œä¿è¯ç§»åŠ¨ç«¯ä½“éªŒä¸€è‡´æ€§</li>
<li>æ”¯æŒçµæ´»é…ç½®ï¼Œé€‚åº”ä¸åŒä¸šåŠ¡åœºæ™¯</li>
<li>ç±»å‹å®‰å…¨ï¼Œä½¿ç”¨TypeScriptç¡®ä¿ç±»å‹æ­£ç¡®</li>
<li>è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œæµç•…çš„äº¤äº’æ•ˆæœ</li>
<li>è½»é‡çº§è®¾è®¡ï¼Œæ€§èƒ½ä¼˜åŒ–</li>
<li>çº¯UIç»„ä»¶è®¾è®¡ï¼Œä¸æ•°æ®é€»è¾‘åˆ†ç¦»</li>
</ul>
<h3 data-id="heading-5">2. ç»„ä»¶ç»“æ„è®¾è®¡</h3>
<h4 data-id="heading-6">2.1 ç›®å½•ç»“æ„</h4>
<pre><code class="hljs language-bash" lang="bash">components/
â””â”€â”€ SelectPersonDeptMobile/
    â”œâ”€â”€ SelectPersonDeptMobile.vue    <span class="hljs-comment"># ä¸»ç»„ä»¶</span>
    â”œâ”€â”€ SelectPersonDept.types.ts     <span class="hljs-comment"># ç±»å‹å®šä¹‰æ–‡ä»¶</span>
    â”œâ”€â”€ components/                   <span class="hljs-comment"># å­ç»„ä»¶</span>
    â”‚   â”œâ”€â”€ SearchBar.vue             <span class="hljs-comment"># æœç´¢æ ç»„ä»¶ï¼ˆåŸºäºVant Searchï¼‰</span>
    â”‚   â”œâ”€â”€ TabNav.vue                <span class="hljs-comment"># æ ‡ç­¾å¯¼èˆªç»„ä»¶ï¼ˆåŸºäºVant Tabsï¼‰</span>
    â”‚   â”œâ”€â”€ SelectList.vue            <span class="hljs-comment"># å¹³é“ºåˆ—è¡¨ç»„ä»¶ï¼ˆåŸºäºVant List/Cellï¼‰</span>
    â”‚   â””â”€â”€ SelectedList.vue          <span class="hljs-comment"># å·²é€‰åˆ—è¡¨ç»„ä»¶ï¼ˆåŸºäºVant Tag/Cellï¼‰</span>
    â””â”€â”€ utils/                        <span class="hljs-comment"># å·¥å…·å‡½æ•°</span>
        â””â”€â”€ helper.ts                 <span class="hljs-comment"># è¾…åŠ©å‡½æ•°</span>
</code></pre>
<h3 data-id="heading-7">3. ç±»å‹å®šä¹‰</h3>
<h4 data-id="heading-8">3.1 åŸºç¡€ç±»å‹</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// SelectPersonDept.types.ts</span>

<span class="hljs-comment">// é€‰æ‹©é¡¹ç±»å‹</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">SelectPersonDeptProps</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span> = 'user' | 'role' | 'dept' | 'group' | 'quick_search'&gt; {
  tabs?: <span class="hljs-title class_">Array</span>&lt;{
    <span class="hljs-attr">tab</span>: T;
    <span class="hljs-attr">tab_name</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-attr">uniKey</span>: <span class="hljs-built_in">string</span>;
    [<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">any</span>;
  }&gt;;
  <span class="hljs-comment">// å…¶ä»–propsä¿æŒä¸å˜</span>
}

<span class="hljs-comment">// æ ‡ç­¾é…ç½®</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">TabConfig</span> {
  <span class="hljs-attr">tab</span>: <span class="hljs-title class_">SelectItemType</span>;
  <span class="hljs-attr">tab_name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-keyword">interface</span>?: <span class="hljs-built_in">string</span>; // å¯é€‰ï¼Œæ ‡ç­¾é¡µå¯¹åº”çš„æ•°æ®æ¥å£æ ‡è¯†
  [key: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">any</span>;
}

// ç”¨æˆ·ä¿¡æ¯
export <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserInfo</span> {
  <span class="hljs-attr">userId</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">userName</span>: <span class="hljs-built_in">string</span>;
  deptName?: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">userCode</span>: <span class="hljs-built_in">string</span>;
  [<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">any</span>;
}

<span class="hljs-comment">// éƒ¨é—¨ä¿¡æ¯</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">DeptInfo</span> {
  <span class="hljs-attr">deptId</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">deptName</span>: <span class="hljs-built_in">string</span>;
  parentId?: <span class="hljs-built_in">string</span>;
  hasChildren?: <span class="hljs-built_in">boolean</span>; <span class="hljs-comment">// æ˜¯å¦æœ‰ä¸‹çº§æ•°æ®</span>
  [<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">any</span>;
}

<span class="hljs-comment">// è§’è‰²ä¿¡æ¯</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">RoleInfo</span> {
  <span class="hljs-attr">roleId</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">roleName</span>: <span class="hljs-built_in">string</span>;
  [<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">any</span>;
}

<span class="hljs-comment">// ç¾¤ç»„ä¿¡æ¯</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">GroupInfo</span> {
  <span class="hljs-attr">groupId</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">groupName</span>: <span class="hljs-built_in">string</span>;
  [<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">any</span>;
}

<span class="hljs-comment">// é€šç”¨é€‰æ‹©é¡¹ï¼ˆé€‚é…Vantç»„ä»¶ï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">SelectOption</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;            <span class="hljs-comment">// å¯¹åº”Vantçš„value</span>
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;          <span class="hljs-comment">// å¯¹åº”Vantçš„text</span>
  <span class="hljs-attr">type</span>: <span class="hljs-title class_">SelectItemType</span>;
  hasChildren?: <span class="hljs-built_in">boolean</span>; <span class="hljs-comment">// æ˜¯å¦æœ‰ä¸‹çº§æ•°æ®</span>
  disabled?: <span class="hljs-built_in">boolean</span>;    <span class="hljs-comment">// æ˜¯å¦ç¦ç”¨</span>
  [<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">any</span>;
}

<span class="hljs-comment">// å·²é€‰ç»“æœ</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">SelectedResult</span> {
  <span class="hljs-attr">users</span>: <span class="hljs-title class_">UserInfo</span>[];
  <span class="hljs-attr">depts</span>: <span class="hljs-title class_">DeptInfo</span>[];
  <span class="hljs-attr">roles</span>: <span class="hljs-title class_">RoleInfo</span>[];
  <span class="hljs-attr">groups</span>: <span class="hljs-title class_">GroupInfo</span>[];
  <span class="hljs-attr">quickContacts</span>: <span class="hljs-title class_">UserInfo</span>[];
}


<span class="hljs-comment">// ç»„ä»¶Props</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">SelectPersonDeptProps</span> {
  <span class="hljs-attr">modelValue</span>: <span class="hljs-title class_">SelectedResult</span>;       <span class="hljs-comment">// å·²é€‰ç»“æœï¼ˆç”¨äºå›æ˜¾å’ŒåŒå‘ç»‘å®šï¼‰</span>
  visible?: <span class="hljs-built_in">boolean</span>;               <span class="hljs-comment">// ç»„ä»¶æ˜¾ç¤ºçŠ¶æ€</span>
  tabs?: <span class="hljs-title class_">TabConfig</span>[];              <span class="hljs-comment">// æ ‡ç­¾é…ç½®</span>
  multiple?: <span class="hljs-built_in">boolean</span>;              <span class="hljs-comment">// æ˜¯å¦å¤šé€‰ï¼Œtrue=å¤šé€‰ï¼Œfalse=å•é€‰</span>
  placeholder?: <span class="hljs-built_in">string</span>;            <span class="hljs-comment">// æœç´¢æ¡†å ä½ç¬¦</span>
  showSelectedList?: <span class="hljs-built_in">boolean</span>;      <span class="hljs-comment">// æ˜¯å¦æ˜¾ç¤ºå·²é€‰åˆ—è¡¨</span>
  showConfirmBtn?: <span class="hljs-built_in">boolean</span>;        <span class="hljs-comment">// æ˜¯å¦æ˜¾ç¤ºç¡®è®¤æŒ‰é’®</span>
  confirmBtnText?: <span class="hljs-built_in">string</span>;         <span class="hljs-comment">// ç¡®è®¤æŒ‰é’®æ–‡æœ¬</span>
  cancelBtnText?: <span class="hljs-built_in">string</span>;          <span class="hljs-comment">// å–æ¶ˆæŒ‰é’®æ–‡æœ¬</span>
  currentList?: <span class="hljs-title class_">SelectOption</span>[];    <span class="hljs-comment">// å½“å‰åˆ—è¡¨æ•°æ®</span>
  loading?: <span class="hljs-built_in">boolean</span>;               <span class="hljs-comment">// åŠ è½½çŠ¶æ€</span>
  customUserList?: <span class="hljs-title class_">UserInfo</span>[];     <span class="hljs-comment">// è‡ªå®šä¹‰ç”¨æˆ·åˆ—è¡¨</span>

}

<span class="hljs-comment">// ç»„ä»¶äº‹ä»¶</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">SelectPersonDeptEmits</span> {
  <span class="hljs-string">'update:modelValue'</span>: [<span class="hljs-attr">value</span>: <span class="hljs-title class_">SelectedResult</span>]; <span class="hljs-comment">// å·²é€‰ç»“æœå˜åŒ–</span>
  <span class="hljs-string">'update:visible'</span>: [<span class="hljs-attr">visible</span>: <span class="hljs-built_in">boolean</span>];         <span class="hljs-comment">// ç»„ä»¶æ˜¾ç¤ºçŠ¶æ€å˜åŒ–</span>
  <span class="hljs-string">'confirm'</span>: [<span class="hljs-attr">value</span>: <span class="hljs-title class_">SelectedResult</span>];           <span class="hljs-comment">// ç¡®è®¤é€‰æ‹©</span>
  <span class="hljs-string">'cancel'</span>: [];                                <span class="hljs-comment">// å–æ¶ˆé€‰æ‹©</span>
  <span class="hljs-string">'search'</span>: [<span class="hljs-attr">keyword</span>: <span class="hljs-built_in">string</span>];                  <span class="hljs-comment">// æœç´¢</span>
  <span class="hljs-string">'tab-change'</span>: [<span class="hljs-attr">tab</span>: <span class="hljs-title class_">SelectItemType</span>];         <span class="hljs-comment">// æ ‡ç­¾åˆ‡æ¢</span>
  <span class="hljs-string">'next-level'</span>: [<span class="hljs-attr">item</span>: <span class="hljs-title class_">SelectOption</span>];          <span class="hljs-comment">// ç‚¹å‡»ä¸‹çº§æŒ‰é’®</span>
  <span class="hljs-string">'back-level'</span>: [<span class="hljs-attr">breadcrumb</span>: <span class="hljs-title class_">Array</span>&lt;{ <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">type</span>: <span class="hljs-title class_">SelectItemType</span> }&gt;]; <span class="hljs-comment">// è¿”å›ä¸Šä¸€çº§</span>
  <span class="hljs-string">'load-data'</span>: [<span class="hljs-attr">tab</span>: <span class="hljs-title class_">SelectItemType</span>, params?: <span class="hljs-built_in">any</span>]; <span class="hljs-comment">// è¯·æ±‚åŠ è½½æ•°æ®</span>
  <span class="hljs-string">'load-quick-search'</span>: [];                     <span class="hljs-comment">// è¯·æ±‚åŠ è½½å¿«é€ŸæŸ¥æ‰¾æ•°æ®</span>
  <span class="hljs-string">'select-all'</span>: [<span class="hljs-attr">checked</span>: <span class="hljs-built_in">boolean</span>];            <span class="hljs-comment">// å…¨é€‰/å–æ¶ˆå…¨é€‰</span>
  <span class="hljs-string">'close'</span>: [];                                 <span class="hljs-comment">// å…³é—­ç»„ä»¶</span>
}
</code></pre>
<pre><code class="hljs language-js" lang="js">
&lt;template&gt;
  &lt;<span class="hljs-title class_">SelectPersonDept</span>&lt;<span class="hljs-title class_">MyCustomType</span>&gt;
    :tabs=<span class="hljs-string">"customTabs"</span>
    @tab-change=<span class="hljs-string">"handleTabChange"</span>
  /&gt;
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
type <span class="hljs-title class_">MyCustomType</span> = <span class="hljs-string">'user1'</span> | <span class="hljs-string">'user2'</span> | <span class="hljs-string">'dept'</span> | <span class="hljs-string">'role'</span>;

<span class="hljs-keyword">const</span> customTabs = [
  { <span class="hljs-attr">tab</span>: <span class="hljs-string">'user1'</span>, <span class="hljs-attr">tab_name</span>: <span class="hljs-string">'æ™®é€šç”¨æˆ·'</span>, <span class="hljs-attr">uniKey</span>: <span class="hljs-string">'user1'</span> },
  { <span class="hljs-attr">tab</span>: <span class="hljs-string">'user2'</span>, <span class="hljs-attr">tab_name</span>: <span class="hljs-string">'VIPç”¨æˆ·'</span>, <span class="hljs-attr">uniKey</span>: <span class="hljs-string">'user2'</span> },
  { <span class="hljs-attr">tab</span>: <span class="hljs-string">'dept'</span>, <span class="hljs-attr">tab_name</span>: <span class="hljs-string">'éƒ¨é—¨'</span>, <span class="hljs-attr">uniKey</span>: <span class="hljs-string">'dept'</span> },
  { <span class="hljs-attr">tab</span>: <span class="hljs-string">'role'</span>, <span class="hljs-attr">tab_name</span>: <span class="hljs-string">'è§’è‰²'</span>, <span class="hljs-attr">uniKey</span>: <span class="hljs-string">'role'</span> }
] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleTabChange</span> = (<span class="hljs-params">tab: MyCustomType</span>) =&gt; {
  <span class="hljs-comment">// è·å¾—å®Œæ•´çš„ç±»å‹æç¤º</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Tab changed:'</span>, tab);
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h3 data-id="heading-9">4. ç§»åŠ¨ç«¯çº¯UIç»„ä»¶è®¾è®¡ï¼ˆSelectPersonDeptMobileï¼‰</h3>
<h4 data-id="heading-10">4.1 ç»„ä»¶å®šä½</h4>
<ul>
<li><strong>çº¯UIç»„ä»¶</strong>ï¼šä»…è´Ÿè´£ç•Œé¢æ¸²æŸ“å’Œç”¨æˆ·äº¤äº’</li>
<li><strong>æ•°æ®é©±åŠ¨</strong>ï¼šæ‰€æœ‰æ•°æ®ç”±çˆ¶ç»„ä»¶é€šè¿‡propsä¼ å…¥</li>
<li><strong>äº‹ä»¶é©±åŠ¨</strong>ï¼šé€šè¿‡äº‹ä»¶ä¸çˆ¶ç»„ä»¶é€šä¿¡ï¼Œè§¦å‘æ•°æ®è·å–ç­‰æ“ä½œ</li>
<li><strong>å¯å¤ç”¨</strong>ï¼šé€‚ç”¨äºå„ç§éœ€è¦é€‰äºº/é€‰éƒ¨é—¨çš„ç§»åŠ¨ç«¯åœºæ™¯</li>
</ul>
<h4 data-id="heading-11">4.2 æ ¸å¿ƒè®¾è®¡åŸåˆ™</h4>
<ul>
<li><strong>UIä¸æ•°æ®åˆ†ç¦»</strong>ï¼šç»„ä»¶ä¸åŒ…å«ä»»ä½•æ•°æ®è·å–é€»è¾‘</li>
<li><strong>äº‹ä»¶é©±åŠ¨é€šä¿¡</strong>ï¼šé€šè¿‡äº‹ä»¶é€šçŸ¥çˆ¶ç»„ä»¶æ‰§è¡Œæ•°æ®æ“ä½œ</li>
<li><strong>å•å‘æ•°æ®æµ</strong>ï¼šæ•°æ®ä»çˆ¶ç»„ä»¶æµå‘å­ç»„ä»¶ï¼Œå˜åŒ–é€šè¿‡äº‹ä»¶åé¦ˆ</li>
<li><strong>çµæ´»é…ç½®</strong>ï¼šæ”¯æŒé€šè¿‡propsè‡ªå®šä¹‰å„ç§è¡Œä¸ºå’Œæ ·å¼</li>
</ul>
<h3 data-id="heading-12">5. æ•°æ®è·å–æ¸²æŸ“æµç¨‹</h3>
<h4 data-id="heading-13">5.1 å®Œæ•´æµç¨‹æ¦‚è§ˆ</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant çˆ¶ç»„ä»¶
    participant çº¯UIç»„ä»¶
    participant APIæ¥å£
    
    %% 0. å›æ˜¾æ•°æ®åˆå§‹åŒ–ï¼ˆæ–°å¢ï¼‰
    çˆ¶ç»„ä»¶-&gt;&gt;çˆ¶ç»„ä»¶: A. å‡†å¤‡åˆå§‹å·²é€‰æ•°æ®ï¼ˆå›æ˜¾æ•°æ®ï¼‰
    çˆ¶ç»„ä»¶-&gt;&gt;çº¯UIç»„ä»¶: B. ä¼ å…¥åˆå§‹modelValueï¼ˆå·²é€‰æ•°æ®ï¼‰
    
    %% 1. ç»„ä»¶åˆå§‹åŒ–ä¸æ˜¾ç¤º
    çˆ¶ç»„ä»¶-&gt;&gt;çº¯UIç»„ä»¶: 1. è®¾ç½® visible=true
    çº¯UIç»„ä»¶-&gt;&gt;çº¯UIç»„ä»¶: 2. ç»„ä»¶æ¸²æŸ“æ˜¾ç¤º
    
    %% 2. åˆå§‹æ•°æ®åŠ è½½
    çˆ¶ç»„ä»¶-&gt;&gt;APIæ¥å£: 3. è°ƒç”¨é»˜è®¤æ ‡ç­¾æ•°æ®æ¥å£
    APIæ¥å£--&gt;&gt;çˆ¶ç»„ä»¶: 4. è¿”å›åˆ—è¡¨æ•°æ®
    çˆ¶ç»„ä»¶-&gt;&gt;çº¯UIç»„ä»¶: 5. æ›´æ–° currentList props
    çº¯UIç»„ä»¶-&gt;&gt;çº¯UIç»„ä»¶: 6. æ¸²æŸ“åˆ—è¡¨æ•°æ®å¹¶æ ¹æ®æœ¬åœ°é€‰ä¸­çŠ¶æ€æ ‡è®°å·²é€‰é¡¹
    çº¯UIç»„ä»¶-&gt;&gt;çº¯UIç»„ä»¶: 7. æ ¹æ®modelValueæ›´æ–°æœ¬åœ°é€‰ä¸­çŠ¶æ€ï¼ˆå›æ˜¾å¤„ç†ï¼‰
    
    %% 3. ç”¨æˆ·äº¤äº’ï¼šæ ‡ç­¾åˆ‡æ¢
    çº¯UIç»„ä»¶-&gt;&gt;çˆ¶ç»„ä»¶: 8. è§¦å‘ tab-change äº‹ä»¶ (æ–°æ ‡ç­¾)
    çˆ¶ç»„ä»¶-&gt;&gt;APIæ¥å£: 9. è°ƒç”¨æ–°æ ‡ç­¾æ•°æ®æ¥å£
    APIæ¥å£--&gt;&gt;çˆ¶ç»„ä»¶: 10. è¿”å›æ–°æ ‡ç­¾æ•°æ®
    çˆ¶ç»„ä»¶-&gt;&gt;çº¯UIç»„ä»¶: 11. æ›´æ–° currentList props
    çº¯UIç»„ä»¶-&gt;&gt;çº¯UIç»„ä»¶: 12. æ¸²æŸ“æ–°æ ‡ç­¾æ•°æ®å¹¶æ ‡è®°å·²é€‰é¡¹
    
    %% 4. ç”¨æˆ·äº¤äº’ï¼šæœç´¢
    çº¯UIç»„ä»¶-&gt;&gt;çˆ¶ç»„ä»¶: 19. è§¦å‘ search äº‹ä»¶ (å…³é”®è¯)
    çˆ¶ç»„ä»¶-&gt;&gt;APIæ¥å£: 20. è°ƒç”¨æœç´¢æ¥å£
    APIæ¥å£--&gt;&gt;çˆ¶ç»„ä»¶: 21. è¿”å›æœç´¢ç»“æœ
    çˆ¶ç»„ä»¶-&gt;&gt;çº¯UIç»„ä»¶: 22. æ›´æ–° currentList props
    çº¯UIç»„ä»¶-&gt;&gt;çº¯UIç»„ä»¶: 23. æ¸²æŸ“æœç´¢ç»“æœå¹¶æ ‡è®°å·²é€‰é¡¹
    
    %% 5. ç”¨æˆ·äº¤äº’ï¼šç‚¹å‡»ä¸‹çº§æŒ‰é’®
    çº¯UIç»„ä»¶-&gt;&gt;çˆ¶ç»„ä»¶: 24. è§¦å‘ next-level äº‹ä»¶ (item)
    çˆ¶ç»„ä»¶-&gt;&gt;APIæ¥å£: 25. è°ƒç”¨ä¸‹çº§æ•°æ®æ¥å£
    APIæ¥å£--&gt;&gt;çˆ¶ç»„ä»¶: 26. è¿”å›ä¸‹çº§æ•°æ®
    çˆ¶ç»„ä»¶-&gt;&gt;çº¯UIç»„ä»¶: 27. æ›´æ–° currentList props
    çº¯UIç»„ä»¶-&gt;&gt;çº¯UIç»„ä»¶: 28. æ¸²æŸ“ä¸‹çº§æ•°æ®å¹¶æ ‡è®°å·²é€‰é¡¹
    
    %% 6. ç”¨æˆ·äº¤äº’ï¼šè¿”å›ä¸Šä¸€çº§
    çº¯UIç»„ä»¶-&gt;&gt;çˆ¶ç»„ä»¶: 29. è§¦å‘ back-level äº‹ä»¶ (breadcrumb)
    çˆ¶ç»„ä»¶-&gt;&gt;APIæ¥å£: 30. è°ƒç”¨ä¸Šä¸€çº§æ•°æ®æ¥å£
    APIæ¥å£--&gt;&gt;çˆ¶ç»„ä»¶: 31. è¿”å›ä¸Šä¸€çº§æ•°æ®
    çˆ¶ç»„ä»¶-&gt;&gt;çº¯UIç»„ä»¶: 32. æ›´æ–° currentList props
    çº¯UIç»„ä»¶-&gt;&gt;çº¯UIç»„ä»¶: 33. æ¸²æŸ“ä¸Šä¸€çº§æ•°æ®å¹¶æ ‡è®°å·²é€‰é¡¹
    
    %% 7. ç”¨æˆ·äº¤äº’ï¼šé€‰æ‹©é¡¹
    çº¯UIç»„ä»¶-&gt;&gt;çˆ¶ç»„ä»¶: 34. è§¦å‘ select äº‹ä»¶ (item, checked)
    çˆ¶ç»„ä»¶-&gt;&gt;çˆ¶ç»„ä»¶: 35. å¤„ç†é€‰æ‹©é€»è¾‘ï¼Œæ›´æ–°å·²é€‰ç»“æœ
    çˆ¶ç»„ä»¶-&gt;&gt;çº¯UIç»„ä»¶: 36. æ›´æ–° modelValue props
    çº¯UIç»„ä»¶-&gt;&gt;çº¯UIç»„ä»¶: 37. æ›´æ–°æœ¬åœ°é€‰ä¸­çŠ¶æ€å’Œå·²é€‰åˆ—è¡¨æ˜¾ç¤º
    
    %% 8. ç»„ä»¶å…³é—­
    çº¯UIç»„ä»¶-&gt;&gt;çˆ¶ç»„ä»¶: 38. è§¦å‘ confirm/cancel äº‹ä»¶
    çˆ¶ç»„ä»¶-&gt;&gt;çˆ¶ç»„ä»¶: 39. å¤„ç†æœ€ç»ˆç»“æœ
    çˆ¶ç»„ä»¶-&gt;&gt;çº¯UIç»„ä»¶: 40. è®¾ç½® visible=false
    çº¯UIç»„ä»¶-&gt;&gt;çº¯UIç»„ä»¶: 41. ç»„ä»¶éšè—
</code></pre>
<h4 data-id="heading-14">5.2 è¯¦ç»†æµç¨‹è¯´æ˜</h4>
<h5 data-id="heading-15">5.2.0 0. å›æ˜¾æ•°æ®åˆå§‹åŒ–ï¼ˆæ–°å¢ï¼‰</h5>
<p><strong>è§¦å‘æ¡ä»¶</strong>ï¼šçˆ¶ç»„ä»¶å‡†å¤‡ä½¿ç”¨ç»„ä»¶å¹¶éœ€è¦æ˜¾ç¤ºå·²é€‰æ•°æ®æ—¶</p>
<p><strong>æ•°æ®æµå‘</strong>ï¼š</p>
<ol>
<li>çˆ¶ç»„ä»¶æ ¹æ®ä¸šåŠ¡éœ€æ±‚å‡†å¤‡åˆå§‹å·²é€‰æ•°æ®ï¼ˆå›æ˜¾æ•°æ®ï¼‰</li>
<li>çˆ¶ç»„ä»¶å°†åˆå§‹å·²é€‰æ•°æ®é€šè¿‡ <code>modelValue</code> propsä¼ å…¥çº¯UIç»„ä»¶</li>
<li>çº¯UIç»„ä»¶åœ¨åˆå§‹åŒ–æ—¶æ¥æ”¶ <code>modelValue</code></li>
</ol>
<p><strong>äº¤äº’è¯´æ˜</strong>ï¼š</p>
<ul>
<li>å›æ˜¾æ•°æ®å¯ä»¥æ˜¯æ¥è‡ªAPIè¯·æ±‚ã€è¡¨å•æ•°æ®æˆ–å…¶ä»–ä¸šåŠ¡é€»è¾‘</li>
<li>çˆ¶ç»„ä»¶éœ€è¦ç¡®ä¿å›æ˜¾æ•°æ®æ ¼å¼ç¬¦åˆ <code>SelectedResult</code> æ¥å£å®šä¹‰</li>
<li>æ”¯æŒç©ºå›æ˜¾æ•°æ®ï¼ˆåˆå§‹æœªé€‰æ‹©ä»»ä½•é¡¹ï¼‰</li>
</ul>
<h5 data-id="heading-16">5.2.1 1. ç»„ä»¶åˆå§‹åŒ–ä¸æ˜¾ç¤º</h5>
<p><strong>è§¦å‘æ¡ä»¶</strong>ï¼šçˆ¶ç»„ä»¶éœ€è¦æ‰“å¼€é€‰äººç»„ä»¶æ—¶</p>
<p><strong>æ•°æ®æµå‘</strong>ï¼š</p>
<ol>
<li>çˆ¶ç»„ä»¶é€šè¿‡è®¾ç½® <code>visible=true</code> æ‰“å¼€ç»„ä»¶</li>
<li>çº¯UIç»„ä»¶æ¸²æŸ“å¹¶æ˜¾ç¤º</li>
<li>çº¯UIç»„ä»¶æ ¹æ®ä¼ å…¥çš„ <code>modelValue</code> æ›´æ–°æœ¬åœ°é€‰ä¸­çŠ¶æ€ï¼ˆå›æ˜¾å¤„ç†æ ¸å¿ƒé€»è¾‘ï¼‰</li>
</ol>
<p><strong>äº¤äº’è¯´æ˜</strong>ï¼š</p>
<ul>
<li>ç»„ä»¶æ‰“å¼€æ—¶è‡ªåŠ¨å¤„ç†å›æ˜¾æ•°æ®ï¼Œå¹¶åŒæ­¥é€‰ä¸­çŠ¶æ€</li>
<li>æ”¯æŒé€šè¿‡propsé¢„è®¾åˆå§‹æ•°æ®ï¼Œé¿å…ç™½å±</li>
</ul>
<h5 data-id="heading-17">5.2.2 2. åˆå§‹æ•°æ®åŠ è½½</h5>
<p><strong>è§¦å‘æ¡ä»¶</strong>ï¼šç»„ä»¶æ‰“å¼€å</p>
<p><strong>æ•°æ®æµå‘</strong>ï¼š</p>
<ol>
<li>çˆ¶ç»„ä»¶æ ¹æ®äº‹ä»¶ç±»å‹è°ƒç”¨å¯¹åº”APIæ¥å£</li>
<li>APIè¿”å›æ•°æ®åï¼Œçˆ¶ç»„ä»¶é€šè¿‡propsæ›´æ–°åˆ°çº¯UIç»„ä»¶</li>
<li>çº¯UIç»„ä»¶æ¥æ”¶åˆ°æ–°æ•°æ®åæ¸²æŸ“</li>
<li>çº¯UIç»„ä»¶æ ¹æ®æœ¬åœ°ä¿å­˜çš„é€‰ä¸­çŠ¶æ€ï¼Œè‡ªåŠ¨æ ‡è®°åˆ—è¡¨ä¸­çš„å·²é€‰é¡¹ï¼ˆå›æ˜¾æ˜¾ç¤ºï¼‰</li>
</ol>
<p><strong>äº¤äº’è¯´æ˜</strong>ï¼š</p>
<ul>
<li>çˆ¶ç»„ä»¶è´Ÿè´£å¤„ç†APIè°ƒç”¨å’Œæ•°æ®è½¬æ¢</li>
<li>æ”¯æŒè®¾ç½® <code>loading</code> çŠ¶æ€ï¼Œæ˜¾ç¤ºåŠ è½½åŠ¨ç”»</li>
<li>æ”¯æŒå¤„ç†ç©ºæ•°æ®</li>
<li>æ•°æ®åŠ è½½å®Œæˆåè‡ªåŠ¨æ˜¾ç¤ºå·²é€‰é¡¹æ ‡è®°ï¼Œå®ç°å›æ˜¾æ•ˆæœ</li>
</ul>
<h5 data-id="heading-18">5.2.3 3. æ ‡ç­¾åˆ‡æ¢æ•°æ®åŠ è½½</h5>
<p><strong>è§¦å‘æ¡ä»¶</strong>ï¼šç”¨æˆ·ç‚¹å‡»ä¸åŒæ ‡ç­¾æ—¶</p>
<p><strong>æ•°æ®æµå‘</strong>ï¼š</p>
<ol>
<li>çº¯UIç»„ä»¶è§¦å‘ <code>tab-change</code> äº‹ä»¶ï¼Œæºå¸¦å½“å‰æ ‡ç­¾ç±»å‹</li>
<li>çˆ¶ç»„ä»¶æ ¹æ®æ ‡ç­¾ç±»å‹è°ƒç”¨å¯¹åº”APIæ¥å£</li>
<li>APIè¿”å›æ•°æ®åï¼Œçˆ¶ç»„ä»¶é€šè¿‡ <code>currentList</code> propsæ›´æ–°</li>
<li>çº¯UIç»„ä»¶é‡æ–°æ¸²æŸ“å¯¹åº”æ ‡ç­¾çš„æ•°æ®</li>
<li>çº¯UIç»„ä»¶æ ¹æ®æœ¬åœ°ä¿å­˜çš„é€‰ä¸­çŠ¶æ€ï¼Œè‡ªåŠ¨æ ‡è®°åˆ—è¡¨ä¸­çš„å·²é€‰é¡¹ï¼ˆå›æ˜¾æ˜¾ç¤ºï¼‰</li>
</ol>
<p><strong>äº¤äº’è¯´æ˜</strong>ï¼š</p>
<ul>
<li>æ ‡ç­¾åˆ‡æ¢æ—¶è‡ªåŠ¨é‡ç½®é¢åŒ…å±‘</li>
<li>æ”¯æŒä¸åŒæ ‡ç­¾ä½¿ç”¨ä¸åŒçš„APIæ¥å£</li>
<li>æ ‡ç­¾åˆ‡æ¢æ—¶æ˜¾ç¤ºåŠ è½½çŠ¶æ€</li>
<li>ä¸åŒæ ‡ç­¾ä¸‹çš„æ•°æ®ä¼šè‡ªåŠ¨æ ¹æ®å…¨å±€é€‰ä¸­çŠ¶æ€æ ‡è®°å·²é€‰é¡¹</li>
</ul>
<h5 data-id="heading-19">5.2.4 4. æœç´¢æ•°æ®åŠ è½½</h5>
<p><strong>è§¦å‘æ¡ä»¶</strong>ï¼šç”¨æˆ·åœ¨æœç´¢æ¡†è¾“å…¥å…³é”®è¯æ—¶</p>
<p><strong>æ•°æ®æµå‘</strong>ï¼š</p>
<ol>
<li>çº¯UIç»„ä»¶è§¦å‘ <code>search</code> äº‹ä»¶ï¼Œæºå¸¦æœç´¢å…³é”®è¯</li>
<li>çˆ¶ç»„ä»¶è°ƒç”¨æœç´¢APIæ¥å£</li>
<li>APIè¿”å›æœç´¢ç»“æœåï¼Œçˆ¶ç»„ä»¶é€šè¿‡ <code>currentList</code> propsæ›´æ–°</li>
<li>çº¯UIç»„ä»¶æ¸²æŸ“æœç´¢ç»“æœ</li>
<li>çº¯UIç»„ä»¶æ ¹æ®æœ¬åœ°ä¿å­˜çš„é€‰ä¸­çŠ¶æ€ï¼Œè‡ªåŠ¨æ ‡è®°æœç´¢ç»“æœä¸­çš„å·²é€‰é¡¹ï¼ˆå›æ˜¾æ˜¾ç¤ºï¼‰</li>
</ol>
<p><strong>äº¤äº’è¯´æ˜</strong>ï¼š</p>
<ul>
<li>æ”¯æŒå®æ—¶æœç´¢æˆ–é˜²æŠ–æœç´¢</li>
<li>æœç´¢ç»“æœä¸ºç©ºæ—¶æ˜¾ç¤ºç©ºçŠ¶æ€</li>
<li>æ”¯æŒæ¸…ç©ºæœç´¢æ¡ä»¶ï¼Œè¿”å›åŸå§‹åˆ—è¡¨</li>
<li>æœç´¢ç»“æœä¸­ä¼šè‡ªåŠ¨æ ‡è®°å·²é€‰é¡¹ï¼Œä¿æŒå›æ˜¾çŠ¶æ€</li>
</ul>
<h5 data-id="heading-20">5.2.5 5. ä¸‹çº§æ•°æ®åŠ è½½</h5>
<p><strong>è§¦å‘æ¡ä»¶</strong>ï¼šç”¨æˆ·ç‚¹å‡»åˆ—è¡¨é¡¹å³ä¾§çš„"ä¸‹çº§"æŒ‰é’®æ—¶</p>
<p><strong>æ•°æ®æµå‘</strong>ï¼š</p>
<ol>
<li>çº¯UIç»„ä»¶è§¦å‘ <code>next-level</code> äº‹ä»¶ï¼Œæºå¸¦å½“å‰é¡¹ä¿¡æ¯</li>
<li>çˆ¶ç»„ä»¶è°ƒç”¨è·å–ä¸‹çº§æ•°æ®çš„APIæ¥å£</li>
<li>APIè¿”å›ä¸‹çº§æ•°æ®åï¼Œçˆ¶ç»„ä»¶é€šè¿‡ <code>currentList</code> propsæ›´æ–°</li>
<li>çº¯UIç»„ä»¶æ¸²æŸ“ä¸‹çº§æ•°æ®</li>
<li>åŒæ—¶æ›´æ–°é¢åŒ…å±‘å¯¼èˆª</li>
<li>çº¯UIç»„ä»¶æ ¹æ®æœ¬åœ°ä¿å­˜çš„é€‰ä¸­çŠ¶æ€ï¼Œè‡ªåŠ¨æ ‡è®°ä¸‹çº§æ•°æ®ä¸­çš„å·²é€‰é¡¹ï¼ˆå›æ˜¾æ˜¾ç¤ºï¼‰</li>
</ol>
<p><strong>äº¤äº’è¯´æ˜</strong>ï¼š</p>
<ul>
<li>ä»…å½“åˆ—è¡¨é¡¹ <code>hasChildren=true</code> æ—¶æ˜¾ç¤º"ä¸‹çº§"æŒ‰é’®</li>
<li>ç‚¹å‡»åè‡ªåŠ¨æ›´æ–°é¢åŒ…å±‘ï¼Œä¾¿äºè¿”å›</li>
<li>æ”¯æŒå¤šçº§åµŒå¥—å¯¼èˆª</li>
<li>ä¸‹çº§æ•°æ®ä¸­ä¼šè‡ªåŠ¨æ ‡è®°å·²é€‰é¡¹ï¼Œä¿æŒå›æ˜¾çŠ¶æ€</li>
</ul>
<h5 data-id="heading-21">5.2.6 6. è¿”å›ä¸Šä¸€çº§æ•°æ®åŠ è½½</h5>
<p><strong>è§¦å‘æ¡ä»¶</strong>ï¼šç”¨æˆ·ç‚¹å‡»"è¿”å›ä¸Šä¸€çº§"æŒ‰é’®æˆ–é¢åŒ…å±‘é¡¹æ—¶</p>
<p><strong>æ•°æ®æµå‘</strong>ï¼š</p>
<ol>
<li>çº¯UIç»„ä»¶è§¦å‘ <code>back-level</code> äº‹ä»¶ï¼Œæºå¸¦å½“å‰é¢åŒ…å±‘ä¿¡æ¯</li>
<li>çˆ¶ç»„ä»¶è°ƒç”¨è·å–ä¸Šä¸€çº§æ•°æ®çš„APIæ¥å£</li>
<li>APIè¿”å›ä¸Šä¸€çº§æ•°æ®åï¼Œçˆ¶ç»„ä»¶é€šè¿‡ <code>currentList</code> propsæ›´æ–°</li>
<li>çº¯UIç»„ä»¶æ¸²æŸ“ä¸Šä¸€çº§æ•°æ®</li>
<li>åŒæ—¶æ›´æ–°é¢åŒ…å±‘å¯¼èˆª</li>
<li>çº¯UIç»„ä»¶æ ¹æ®æœ¬åœ°ä¿å­˜çš„é€‰ä¸­çŠ¶æ€ï¼Œè‡ªåŠ¨æ ‡è®°ä¸Šä¸€çº§æ•°æ®ä¸­çš„å·²é€‰é¡¹ï¼ˆå›æ˜¾æ˜¾ç¤ºï¼‰</li>
</ol>
<p><strong>äº¤äº’è¯´æ˜</strong>ï¼š</p>
<ul>
<li>æ”¯æŒé€šè¿‡é¢åŒ…å±‘ç›´æ¥è·³è½¬åˆ°ä»»æ„å±‚çº§</li>
<li>é¢åŒ…å±‘é¡¹æ”¯æŒç‚¹å‡»äº‹ä»¶</li>
<li>æ— ä¸Šçº§æ•°æ®æ—¶è‡ªåŠ¨éšè—è¿”å›æŒ‰é’®</li>
<li>ä¸Šä¸€çº§æ•°æ®ä¸­ä¼šè‡ªåŠ¨æ ‡è®°å·²é€‰é¡¹ï¼Œä¿æŒå›æ˜¾çŠ¶æ€</li>
</ul>
<h5 data-id="heading-22">5.2.7 7. é€‰æ‹©é¡¹å¤„ç†</h5>
<p><strong>è§¦å‘æ¡ä»¶</strong>ï¼šç”¨æˆ·ç‚¹å‡»é€‰æ‹©æ¡†ï¼ˆCheckbox/Radioï¼‰æ—¶</p>
<p><strong>æ•°æ®æµå‘</strong>ï¼š</p>
<ol>
<li>çº¯UIç»„ä»¶è§¦å‘ <code>select</code> äº‹ä»¶ï¼Œæºå¸¦é€‰æ‹©é¡¹å’Œé€‰ä¸­çŠ¶æ€</li>
<li>çˆ¶ç»„ä»¶æ ¹æ®é€‰æ‹©çŠ¶æ€æ›´æ–°å·²é€‰ç»“æœ</li>
<li>çˆ¶ç»„ä»¶é€šè¿‡ <code>modelValue</code> propsæ›´æ–°å·²é€‰ç»“æœ</li>
<li>çº¯UIç»„ä»¶æ›´æ–°å·²é€‰åˆ—è¡¨æ˜¾ç¤º</li>
</ol>
<p><strong>äº¤äº’è¯´æ˜</strong>ï¼š</p>
<ul>
<li>æ”¯æŒå¤šé€‰å’Œå•é€‰æ¨¡å¼</li>
<li>æ”¯æŒå…¨é€‰/å–æ¶ˆå…¨é€‰åŠŸèƒ½</li>
<li>å®æ—¶æ›´æ–°å·²é€‰åˆ—è¡¨</li>
</ul>
<h5 data-id="heading-23">5.2.8 8. ç»„ä»¶å…³é—­</h5>
<p><strong>è§¦å‘æ¡ä»¶</strong>ï¼šç”¨æˆ·ç‚¹å‡»"ç¡®è®¤"æˆ–"å–æ¶ˆ"æŒ‰é’®æ—¶</p>
<p><strong>æ•°æ®æµå‘</strong>ï¼š</p>
<ol>
<li>çº¯UIç»„ä»¶è§¦å‘ <code>confirm</code> æˆ– <code>cancel</code> äº‹ä»¶</li>
<li>çˆ¶ç»„ä»¶å¤„ç†æœ€ç»ˆç»“æœï¼ˆä¿å­˜æˆ–ä¸¢å¼ƒï¼‰</li>
<li>çˆ¶ç»„ä»¶è®¾ç½® <code>visible=false</code> å…³é—­ç»„ä»¶</li>
<li>çº¯UIç»„ä»¶éšè—</li>
</ol>
<p><strong>äº¤äº’è¯´æ˜</strong>ï¼š</p>
<ul>
<li>ç¡®è®¤æ—¶è¿”å›æœ€ç»ˆå·²é€‰ç»“æœ</li>
<li>å–æ¶ˆæ—¶ä¸ä¿å­˜ä»»ä½•æ›´æ”¹</li>
</ul>
<h5 data-id="heading-24">5.2.9 9. è™šæ‹Ÿæ»šåŠ¨</h5>
<p>é’ˆå¯¹å¤§æ•°æ®é‡ï¼ˆå¦‚10000+æ¡äººå‘˜æ•°æ®ï¼‰çš„æƒ…å†µï¼Œæˆ‘ä»åç«¯ã€å‰ç«¯å’Œäº¤äº’ä½“éªŒä¸‰ä¸ªå±‚é¢è®¾è®¡äº†å®Œæ•´çš„ä¼˜åŒ–ç­–ç•¥ï¼š</p>
<h6 data-id="heading-25">1. åç«¯å±‚é¢ï¼šåˆ†é¡µæŸ¥è¯¢æ˜¯åŸºç¡€</h6>
<ul>
<li>æ¥å£å¿…é¡»æ”¯æŒåˆ†é¡µï¼Œé»˜è®¤æ¯é¡µè¿”å›20-50æ¡æ•°æ®</li>
<li>åŒ…å«pageï¼ˆå½“å‰é¡µç ï¼‰ã€sizeï¼ˆæ¯é¡µæ¡æ•°ï¼‰å’Œtotalï¼ˆæ€»æ¡æ•°ï¼‰å‚æ•°</li>
<li>ç¤ºä¾‹è¯·æ±‚ï¼šapi.loadData(tab, { page: 1, size: 30 })</li>
<li>ç¡®ä¿åˆ†é¡µæŸ¥è¯¢çš„æ€§èƒ½ï¼Œå»ºè®®å¯¹æŸ¥è¯¢å­—æ®µå»ºç«‹ç´¢å¼•</li>
</ul>
<h6 data-id="heading-26">2. å‰ç«¯å±‚é¢ï¼šè™šæ‹Ÿæ»šåŠ¨æ˜¯æ ¸å¿ƒ</h6>
<ul>
<li>
<p>ä½¿ç”¨Vantçš„Listç»„ä»¶å®ç°è™šæ‹Ÿæ»šåŠ¨ï¼Œåªæ¸²æŸ“å¯è§†åŒºåŸŸå†…çš„åˆ—è¡¨é¡¹</p>
</li>
<li>
<p>é…ç½®é¢„åŠ è½½åç§»é‡ï¼ˆ50-100pxï¼‰ï¼Œæå‰åŠ è½½ä¸‹ä¸€é¡µæ•°æ®</p>
</li>
<li>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">Vue
&lt;van-list
Â Â v-model:<span class="hljs-attr">loading</span>=<span class="hljs-string">"loading"</span>
Â Â :<span class="hljs-attr">finished</span>=<span class="hljs-string">"finished"</span>
Â Â @<span class="hljs-attr">load</span>=<span class="hljs-string">"onLoad"</span>
Â Â :<span class="hljs-attr">offset</span>=<span class="hljs-string">"50"</span>
&gt;
Â Â &lt;van-cell
Â Â Â Â <span class="hljs-attr">v-for</span>=<span class="hljs-string">"itemÂ inÂ currentList"</span>
Â Â Â Â :<span class="hljs-attr">key</span>=<span class="hljs-string">"item.id"</span>
Â Â Â Â :<span class="hljs-attr">title</span>=<span class="hljs-string">"item.name"</span>
Â Â &gt;
Â Â Â Â &lt;!--Â åˆ—è¡¨é¡¹å†…å®¹Â --&gt;
Â Â &lt;/van-cell&gt;
&lt;/van-list&gt;
</code></pre>
</li>
</ul>
<h6 data-id="heading-27">3. æœç´¢ä¼˜åŒ–ï¼šå‡å°‘ä¸å¿…è¦çš„è¯·æ±‚</h6>
<ul>
<li>
<p>200-300msé˜²æŠ–å¤„ç†ï¼Œé¿å…é¢‘ç¹è¾“å…¥å¯¼è‡´çš„å¤šæ¬¡è¯·æ±‚</p>
</li>
<li>
<p>æœç´¢å…³é”®è¯é•¿åº¦é™åˆ¶ï¼ˆè‡³å°‘2ä¸ªå­—ç¬¦ï¼‰</p>
</li>
<li>
<p>æœç´¢ç»“æœæ”¯æŒåˆ†é¡µåŠ è½½</p>
</li>
<li>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">TypeScript
constÂ <span class="hljs-attr">debouncedSearch</span>Â =Â debounce
((keyword:Â string)Â =&gt;Â {
Â Â ifÂ (keyword.trim().lengthÂ &gt;=Â 2)Â {
Â Â Â Â handleSearch(keyword)<span class="hljs-comment">;</span>
Â Â }
},Â 300)<span class="hljs-comment">;</span>
</code></pre>
</li>
</ul>
<h4 data-id="heading-28">5.3 äº‹ä»¶ä¸Propsæ˜ å°„å…³ç³»</h4>



























































<table><thead><tr><th>äº‹ä»¶å</th><th>è§¦å‘æ—¶æœº</th><th>å¯¹åº”Propsæ›´æ–°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>tab-change</code></td><td>æ ‡ç­¾åˆ‡æ¢</td><td><code>currentList</code></td><td>åˆ‡æ¢æ ‡ç­¾æ—¶è§¦å‘</td></tr><tr><td><code>search</code></td><td>æœç´¢è¾“å…¥</td><td><code>currentList</code></td><td>æœç´¢å…³é”®è¯å˜åŒ–æ—¶è§¦å‘</td></tr><tr><td><code>next-level</code></td><td>ç‚¹å‡»ä¸‹çº§æŒ‰é’®</td><td><code>currentList</code></td><td>åŠ è½½ä¸‹çº§æ•°æ®</td></tr><tr><td><code>back-level</code></td><td>è¿”å›ä¸Šä¸€çº§</td><td><code>currentList</code></td><td>åŠ è½½ä¸Šä¸€çº§æ•°æ®</td></tr><tr><td><code>select</code></td><td>é€‰æ‹©/å–æ¶ˆé€‰æ‹©</td><td><code>modelValue</code></td><td>æ›´æ–°å·²é€‰ç»“æœ</td></tr><tr><td><code>confirm</code></td><td>ç¡®è®¤é€‰æ‹©</td><td>-</td><td>ç¡®è®¤æœ€ç»ˆç»“æœ</td></tr><tr><td><code>cancel</code></td><td>å–æ¶ˆé€‰æ‹©</td><td>-</td><td>å–æ¶ˆé€‰æ‹©</td></tr><tr><td>-</td><td>ç»„ä»¶åˆå§‹åŒ–</td><td><code>modelValue</code></td><td>çˆ¶ç»„ä»¶ä¼ å…¥å›æ˜¾æ•°æ®ï¼Œçº¯UIç»„ä»¶å¤„ç†å¹¶æ›´æ–°æœ¬åœ°é€‰ä¸­çŠ¶æ€</td></tr></tbody></table>
<h4 data-id="heading-29">5.4 çˆ¶ç»„ä»¶æ ¸å¿ƒèŒè´£</h4>
<ol>
<li>
<p><strong>æ•°æ®ç®¡ç†</strong>ï¼š</p>
<ul>
<li>è°ƒç”¨APIè·å–å„ç§æ•°æ®</li>
<li>å¤„ç†æ•°æ®è½¬æ¢å’Œæ ¼å¼åŒ–</li>
<li>ç»´æŠ¤å·²é€‰ç»“æœçŠ¶æ€</li>
<li>å‡†å¤‡å’Œç®¡ç†å›æ˜¾æ•°æ®ï¼ˆåˆå§‹å·²é€‰æ•°æ®ï¼‰</li>
</ul>
</li>
<li>
<p><strong>äº‹ä»¶å¤„ç†</strong>ï¼š</p>
<ul>
<li>ç›‘å¬çº¯UIç»„ä»¶å‘å‡ºçš„æ‰€æœ‰äº‹ä»¶</li>
<li>æ ¹æ®äº‹ä»¶ç±»å‹æ‰§è¡Œå¯¹åº”é€»è¾‘</li>
<li>æ›´æ–°ç»„ä»¶props</li>
<li>å¤„ç†å›æ˜¾æ•°æ®çš„åˆå§‹åŒ–å’Œæ›´æ–°</li>
</ul>
</li>
<li>
<p><strong>æ•°æ®ç¼“å­˜ç­–ç•¥</strong>ï¼š</p>
</li>
</ol>
<ul>
<li>
<p>ä½¿ç”¨Mapæ•°æ®ç»“æ„ç¼“å­˜å·²åŠ è½½çš„æ•°æ®</p>
<ul>
<li>
<p>é«˜æ•ˆçš„æŸ¥æ‰¾æ€§èƒ½ ï¼šMapçš„æŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼Œæ¯”æ•°ç»„éå†æ›´é«˜æ•ˆ</p>
</li>
<li>
<p>çµæ´»çš„é”®ç±»å‹ ï¼šå¯ä»¥ä½¿ç”¨å¤åˆå­—ç¬¦ä¸²ä½œä¸ºé”®ï¼Œä¾¿äºåŒºåˆ†ä¸åŒtabå’Œå‚æ•°ç»„åˆçš„æ•°æ®</p>
</li>
<li>
<p>é¿å…é‡å¤è¯·æ±‚ ï¼šåˆ‡æ¢tabæˆ–è¿”å›ä¸Šä¸€çº§æ—¶ï¼Œç›´æ¥ä»ç¼“å­˜è·å–æ•°æ®ï¼Œå‡å°‘APIè°ƒç”¨æ¬¡æ•°</p>
</li>
<li>
<p>æå‡ç”¨æˆ·ä½“éªŒ ï¼šç¼“å­˜æ•°æ®å¯ç«‹å³æ˜¾ç¤ºï¼Œé¿å…åŠ è½½ç­‰å¾…ï¼Œæå‡äº¤äº’æµç•…åº¦</p>
</li>
</ul>
</li>
<li>
<p>ç»„ä»¶å…³é—­æ—¶æ¸…ç©ºç¼“å­˜</p>
<ul>
<li>é¿å…å†…å­˜æ³„æ¼ ï¼šé•¿æ—¶é—´ä¸æ¸…é™¤ç¼“å­˜å¯èƒ½å¯¼è‡´å†…å­˜å ç”¨è¿‡é«˜</li>
<li>æ•°æ®æ—¶æ•ˆæ€§ ï¼šç¡®ä¿ä¸‹æ¬¡æ‰“å¼€ç»„ä»¶æ—¶è·å–æœ€æ–°æ•°æ®</li>
<li>å‡å°‘ä¸å¿…è¦çš„èµ„æºå ç”¨ ï¼šç»„ä»¶ä¸å†ä½¿ç”¨æ—¶é‡Šæ”¾ç›¸å…³èµ„æº</li>
<li>é¿å…æ•°æ®ä¸ä¸€è‡´ ï¼šé˜²æ­¢ç¼“å­˜æ•°æ®ä¸å®é™…ä¸šåŠ¡æ•°æ®ä¸ä¸€è‡´</li>
</ul>
</li>
</ul>
<h4 data-id="heading-30">5.5 çº¯UIç»„ä»¶æ ¸å¿ƒèŒè´£</h4>
<ol>
<li>
<p><strong>ç•Œé¢æ¸²æŸ“</strong>ï¼š</p>
<ul>
<li>æ ¹æ®propsæ¸²æŸ“åˆ—è¡¨æ•°æ®</li>
<li>æ¸²æŸ“å·²é€‰åˆ—è¡¨</li>
<li>æ¸²æŸ“åŠ è½½çŠ¶æ€å’Œç©ºçŠ¶æ€</li>
<li>æ ¹æ®å›æ˜¾æ•°æ®æ ‡è®°å·²é€‰é¡¹</li>
</ul>
</li>
<li>
<p><strong>ç”¨æˆ·äº¤äº’</strong>ï¼š</p>
<ul>
<li>å¤„ç†ç”¨æˆ·ç‚¹å‡»ã€æ»‘åŠ¨ç­‰æ“ä½œ</li>
<li>ç»´æŠ¤æœ¬åœ°ä¸´æ—¶çŠ¶æ€ï¼ˆå¦‚é€‰ä¸­çŠ¶æ€ï¼‰</li>
<li>è§¦å‘ç›¸åº”äº‹ä»¶</li>
</ul>
</li>
<li>
<p><strong>çŠ¶æ€åŒæ­¥</strong>ï¼š</p>
<ul>
<li>å“åº”propså˜åŒ–ï¼Œæ›´æ–°UI</li>
<li>ä¿æŒä¸çˆ¶ç»„ä»¶æ•°æ®ä¸€è‡´</li>
<li>å¤„ç†å›æ˜¾æ•°æ®ï¼šå°†modelValueè½¬æ¢ä¸ºæœ¬åœ°é€‰ä¸­çŠ¶æ€</li>
<li>åœ¨æ•°æ®åŠ è½½å®Œæˆåï¼Œæ ¹æ®æœ¬åœ°é€‰ä¸­çŠ¶æ€æ ‡è®°å·²é€‰é¡¹</li>
</ul>
</li>
</ol>
<h3 data-id="heading-31">6. ç»„ä»¶API</h3>
<h4 data-id="heading-32">6.1 Props</h4>

























































































<table><thead><tr><th>å‚æ•°å</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>v-model</td><td><code>SelectedResult</code></td><td>-</td><td>åŒå‘ç»‘å®šçš„å·²é€‰ç»“æœ</td></tr><tr><td>v-model:visible</td><td><code>boolean</code></td><td><code>false</code></td><td>æ§åˆ¶ç»„ä»¶æ˜¾ç¤º/éšè—</td></tr><tr><td>tabs</td><td><code>TabConfig[]</code></td><td>è§é»˜è®¤é…ç½®</td><td>æ ‡ç­¾é…ç½®ï¼ŒåŒ…å«å¿«é€ŸæŸ¥æ‰¾é¡¹</td></tr><tr><td>multiple</td><td><code>boolean</code></td><td><code>true</code></td><td>æ˜¯å¦æ”¯æŒå¤šé€‰ï¼Œ<strong>true=å¤šé€‰ï¼Œfalse=å•é€‰</strong></td></tr><tr><td>placeholder</td><td><code>string</code></td><td><code>'è¯·è¾“å…¥æœç´¢å…³é”®è¯'</code></td><td>æœç´¢æ¡†å ä½ç¬¦</td></tr><tr><td>showSelectedList</td><td><code>boolean</code></td><td><code>true</code></td><td>æ˜¯å¦æ˜¾ç¤ºå·²é€‰åˆ—è¡¨</td></tr><tr><td>showConfirmBtn</td><td><code>boolean</code></td><td><code>true</code></td><td>æ˜¯å¦æ˜¾ç¤ºç¡®è®¤æŒ‰é’®</td></tr><tr><td>confirmBtnText</td><td><code>string</code></td><td><code>'ç¡®è®¤'</code></td><td>ç¡®è®¤æŒ‰é’®æ–‡æœ¬</td></tr><tr><td>cancelBtnText</td><td><code>string</code></td><td><code>'å–æ¶ˆ'</code></td><td>å–æ¶ˆæŒ‰é’®æ–‡æœ¬</td></tr><tr><td>currentList</td><td><code>SelectOption[]</code></td><td><code>[]</code></td><td>å½“å‰åˆ—è¡¨æ•°æ®</td></tr><tr><td>loading</td><td><code>boolean</code></td><td><code>false</code></td><td>åŠ è½½çŠ¶æ€</td></tr><tr><td>lowcodeStoreId</td><td><code>string</code></td><td><code>''</code></td><td>ä½ä»£ç å­˜å‚¨ID</td></tr><tr><td>customUserList</td><td><code>UserInfo[]</code></td><td><code>[]</code></td><td>è‡ªå®šä¹‰ç”¨æˆ·åˆ—è¡¨</td></tr></tbody></table>
<h4 data-id="heading-33">6.2 Emits</h4>




























































<table><thead><tr><th>äº‹ä»¶å</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>update:modelValue</td><td><code>(value: SelectedResult) =&gt; void</code></td><td>å·²é€‰ç»“æœå˜åŒ–æ—¶è§¦å‘</td></tr><tr><td>update:visible</td><td><code>(visible: boolean) =&gt; void</code></td><td>ç»„ä»¶æ˜¾ç¤ºçŠ¶æ€å˜åŒ–æ—¶è§¦å‘</td></tr><tr><td>confirm</td><td><code>(value: SelectedResult) =&gt; void</code></td><td>ç¡®è®¤é€‰æ‹©æ—¶è§¦å‘</td></tr><tr><td>cancel</td><td><code>() =&gt; void</code></td><td>å–æ¶ˆé€‰æ‹©æ—¶è§¦å‘</td></tr><tr><td>search</td><td><code>(keyword: string) =&gt; void</code></td><td>æœç´¢æ—¶è§¦å‘ï¼Œæºå¸¦æœç´¢å…³é”®è¯</td></tr><tr><td>tab-change</td><td><code>(tab: SelectItemType) =&gt; void</code></td><td>æ ‡ç­¾åˆ‡æ¢æ—¶è§¦å‘ï¼Œæºå¸¦æ ‡ç­¾ç±»å‹</td></tr><tr><td>next-level</td><td><code>(item: SelectOption) =&gt; void</code></td><td>ç‚¹å‡»ä¸‹çº§æŒ‰é’®æ—¶è§¦å‘ï¼Œæºå¸¦å½“å‰é¡¹ä¿¡æ¯</td></tr><tr><td>back-level</td><td><code>(breadcrumb: Array&lt;{ name: string; id: string; type: SelectItemType }&gt;) =&gt; void</code></td><td>è¿”å›ä¸Šä¸€çº§æ—¶è§¦å‘ï¼Œæºå¸¦é¢åŒ…å±‘ä¿¡æ¯</td></tr><tr><td>select-all</td><td><code>(checked: boolean) =&gt; void</code></td><td>å…¨é€‰/å–æ¶ˆå…¨é€‰æ—¶è§¦å‘ï¼Œæºå¸¦é€‰ä¸­çŠ¶æ€</td></tr><tr><td>close</td><td><code>() =&gt; void</code></td><td>å…³é—­ç»„ä»¶æ—¶è§¦å‘</td></tr></tbody></table>
<h3 data-id="heading-34">7. å·¥æ—¶è¡¨</h3>

















































































































<table><thead><tr><th>æ—¥æœŸ</th><th>ä»»åŠ¡åç§°</th><th>è¯¦ç»†å·¥ä½œå†…å®¹</th><th>ä¼˜å…ˆçº§</th><th>è®¡åˆ’å·¥æ—¶ï¼ˆhï¼‰</th></tr></thead><tbody><tr><td>ç¬¬1å¤©</td><td>ç»„ä»¶ç»“æ„æ­å»º</td><td>1. åˆ›å»ºç»„ä»¶ç›®å½•ç»“æ„<br/>2. åˆ›å»ºä¸»ç»„ä»¶æ–‡ä»¶<br/>3. æ­å»ºåŸºç¡€å¸ƒå±€æ¡†æ¶</td><td>é«˜</td><td>8</td></tr><tr><td>ç¬¬2å¤©</td><td>å­ç»„ä»¶å¼€å‘ï¼ˆæœç´¢æ +æ ‡ç­¾ï¼‰</td><td>1. å¼€å‘SearchBaræœç´¢æ ç»„ä»¶<br/>2. å¼€å‘TabNavæ ‡ç­¾å¯¼èˆªç»„ä»¶<br/>3. é›†æˆå­ç»„ä»¶åˆ°ä¸»ç»„ä»¶<br/>4. å®ç°æœç´¢å’Œæ ‡ç­¾åˆ‡æ¢äº‹ä»¶</td><td>é«˜</td><td>8</td></tr><tr><td>ç¬¬3å¤©</td><td>å¹³é“ºåˆ—è¡¨æ ¸å¿ƒåŠŸèƒ½</td><td>1. å¼€å‘SelectListå¹³é“ºåˆ—è¡¨ç»„ä»¶<br/>2. å®ç°åˆ—è¡¨é¡¹æ¸²æŸ“<br/>3. å¼€å‘"ä¸‹çº§"æŒ‰é’®åŠŸèƒ½<br/>4. å®ç°é¢åŒ…å±‘å¯¼èˆª</td><td>é«˜</td><td>8</td></tr><tr><td>ç¬¬4å¤©</td><td>é€‰æ‹©åŠŸèƒ½å®ç°</td><td>1. å®ç°å•é€‰/å¤šé€‰é€»è¾‘<br/>2. å¼€å‘é€‰æ‹©çŠ¶æ€ç®¡ç†<br/>3. å®ç°å…¨é€‰/å–æ¶ˆå…¨é€‰åŠŸèƒ½<br/>4. é›†æˆåˆ°åˆ—è¡¨ç»„ä»¶</td><td>é«˜</td><td>8</td></tr><tr><td>ç¬¬5å¤©</td><td>å·²é€‰åˆ—è¡¨å¼€å‘</td><td>1. å¼€å‘SelectedListå·²é€‰åˆ—è¡¨ç»„ä»¶<br/>2. å®ç°å·²é€‰é¡¹å±•ç¤º<br/>3. å¼€å‘å·²é€‰é¡¹åˆ é™¤åŠŸèƒ½<br/>4. é›†æˆåˆ°ä¸»ç»„ä»¶</td><td>ä¸­</td><td>8</td></tr><tr><td>ç¬¬6å¤©</td><td>å¿«é€ŸæŸ¥æ‰¾åŠŸèƒ½</td><td>1. å¼€å‘å¿«é€ŸæŸ¥æ‰¾æ¨¡å—<br/>4. é›†æˆåˆ°ä¸»ç»„ä»¶</td><td>ä¸­</td><td>8</td></tr><tr><td>ç¬¬7å¤©</td><td>å›æ˜¾æ•°æ®é€»è¾‘</td><td>1. å®ç°modelValueåŒå‘ç»‘å®š<br/>2. å¼€å‘å›æ˜¾æ•°æ®å¤„ç†<br/>3. å®ç°æœ¬åœ°é€‰ä¸­çŠ¶æ€ç®¡ç†<br/></td><td>é«˜</td><td>8</td></tr><tr><td>ç¬¬8å¤©</td><td>ç»„ä»¶é›†æˆä¸è°ƒè¯•</td><td>1. æ•´åˆæ‰€æœ‰å­ç»„ä»¶<br/>2. è°ƒè¯•ç»„ä»¶é—´é€šä¿¡<br/>3. ä¿®å¤å‘ç°çš„é—®é¢˜</td><td>é«˜</td><td>8</td></tr><tr><td>ç¬¬9å¤©</td><td>å•ä¸ªæ—§ç»„ä»¶æ›¿æ¢å¹¶è°ƒè¯•</td><td>1. æ¥å£è”è°ƒ<br/>2. é‡æ„åŸæœ‰åŠŸèƒ½ç‚¹<br/></td><td>é«˜</td><td>8</td></tr><tr><td>ç¬¬10å¤©</td><td>å•ä¸ªæ—§ç»„ä»¶æ›¿æ¢å¹¶è°ƒè¯•</td><td>1. æ¥å£è”è°ƒ<br/>2. é‡æ„åŸæœ‰åŠŸèƒ½ç‚¹<br/></td><td>é«˜</td><td>8</td></tr><tr><td>ç¬¬11å¤©</td><td>å•ä¸ªæ—§ç»„ä»¶æ›¿æ¢å¹¶è°ƒè¯•</td><td>1. æµ‹è¯•ç§»åŠ¨ç«¯é€‚é…<br/>2. ä¿®å¤æµ‹è¯•ä¸­å‘ç°çš„é—®é¢˜</td><td>ä¸­</td><td>8</td><td/><td>ä¸­</td><td>8</td></tr><tr><td>ç¬¬12å¤©</td><td>æ‰€æœ‰æ—§ç»„ä»¶æ›¿æ¢å¹¶è°ƒè¯•</td><td>1. æ¥å£è”è°ƒ<br/>2. é‡æ„åŸæœ‰åŠŸèƒ½ç‚¹<br/></td><td>ä¸­</td><td>8</td></tr><tr><td>ç¬¬13å¤©</td><td>æ‰€æœ‰æ—§ç»„ä»¶æ›¿æ¢å¹¶è°ƒè¯•</td><td>1. æ¥å£è”è°ƒ<br/>2. é‡æ„åŸæœ‰åŠŸèƒ½ç‚¹<br/></td><td>ä¸­</td><td>8</td></tr><tr><td>ç¬¬14å¤©</td><td>æ‰€æœ‰æ—§ç»„ä»¶æ›¿æ¢å¹¶è°ƒè¯•</td><td>1. æµ‹è¯•ç§»åŠ¨ç«¯é€‚é…<br/>2. ä¿®å¤æµ‹è¯•ä¸­å‘ç°çš„é—®é¢˜</td><td>ä¸­</td><td>8</td></tr></tbody></table>
<h3 data-id="heading-35">8. æ€»ç»“</h3>
<p><code>SelectPersonDeptMobile</code> æ˜¯ä¸€ä¸ªåŸºäºVantçš„çº¯UIç§»åŠ¨ç«¯å…¬å…±é€‰äºº/é€‰éƒ¨é—¨ç»„ä»¶ï¼Œé€šè¿‡äº‹ä»¶é©±åŠ¨çš„æ–¹å¼ä¸çˆ¶ç»„ä»¶é€šä¿¡ï¼Œå®ç°äº†UIä¸æ•°æ®é€»è¾‘çš„åˆ†ç¦»ã€‚ç»„ä»¶æ”¯æŒå¤šç§é€‰æ‹©ç±»å‹ã€æœç´¢åŠŸèƒ½ã€å¤šçº§åµŒå¥—å¯¼èˆªå’Œçµæ´»çš„é…ç½®é€‰é¡¹ï¼Œèƒ½å¤Ÿé€‚åº”å„ç§ä¸šåŠ¡åœºæ™¯ã€‚</p>
<p>é€šè¿‡æ¸…æ™°çš„æ•°æ®æµå‘å’Œäº¤äº’æµç¨‹è®¾è®¡ï¼Œç»„ä»¶å®ç°äº†é«˜æ•ˆçš„æ•°æ®æµç®¡ç†å’Œè‰¯å¥½çš„ç”¨æˆ·ä½“éªŒã€‚çˆ¶ç»„ä»¶è´Ÿè´£æ•°æ®è·å–å’Œä¸šåŠ¡é€»è¾‘ï¼Œçº¯UIç»„ä»¶è´Ÿè´£ç•Œé¢æ¸²æŸ“å’Œç”¨æˆ·äº¤äº’ï¼Œä¸¤è€…åˆ†å·¥æ˜ç¡®ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•ã€‚</p>
<p>è¿™ç§è®¾è®¡æ¨¡å¼ä½¿å¾—ç»„ä»¶å…·æœ‰è‰¯å¥½çš„å¯å¤ç”¨æ€§å’Œå¯æ‰©å±•æ€§ï¼Œèƒ½å¤Ÿå¿«é€Ÿé€‚é…ä¸åŒçš„ä¸šåŠ¡éœ€æ±‚ï¼Œæ˜¯ä¸€ä¸ªå¯é çš„ç§»åŠ¨ç«¯å…¬å…±é€‰äºº/é€‰éƒ¨é—¨ç»„ä»¶è§£å†³æ–¹æ¡ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI TO SQLï¼šAIGCæ—¶ä»£æ•°æ®åº“æ“ä½œçš„é©å‘½æ€§å˜é©]]></title>    <link>https://juejin.cn/post/7579843977847799862</link>    <guid>https://juejin.cn/post/7579843977847799862</guid>    <pubDate>2025-12-04T15:51:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579843977847799862" data-draft-id="7579659550863048746" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI TO SQLï¼šAIGCæ—¶ä»£æ•°æ®åº“æ“ä½œçš„é©å‘½æ€§å˜é©"/> <meta itemprop="keywords" content="LLM,æ•°æ®åº“,AIGC"/> <meta itemprop="datePublished" content="2025-12-04T15:51:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ™´æ €ay"/> <meta itemprop="url" content="https://juejin.cn/user/402859727269579"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI TO SQLï¼šAIGCæ—¶ä»£æ•°æ®åº“æ“ä½œçš„é©å‘½æ€§å˜é©
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/402859727269579/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ™´æ €ay
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T15:51:58.000Z" title="Thu Dec 04 2025 15:51:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    13
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">AI TO SQLï¼šAIGCæ—¶ä»£æ•°æ®åº“æ“ä½œçš„é©å‘½æ€§å˜é©</h2>
<p><strong>å¼•è¨€ï¼šä»Mobile Firståˆ°AI First</strong></p>
<p>åœ¨ç§»åŠ¨äº’è”ç½‘æ—¶ä»£ï¼Œæˆ‘ä»¬ä¹ æƒ¯äº†"Mobile First"çš„è®¾è®¡æ€ç»´ã€‚ç„¶è€Œï¼Œéšç€å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„é£é€Ÿå‘å±•ï¼Œæˆ‘ä»¬æ­£è¿æ¥ä¸€ä¸ªå…¨æ–°çš„æ—¶ä»£â€”â€”<strong>AI First</strong>ã€‚åœ¨è¿™ä¸ªæ—¶ä»£ï¼ŒAIä¸å†æ˜¯è¾…åŠ©å·¥å…·ï¼Œè€Œæ˜¯æ ¸å¿ƒé©±åŠ¨åŠ›ã€‚è€Œæ•°æ®åº“æ“ä½œçš„é©å‘½æ€§å˜åŒ–â€”â€”AI TO SQLï¼ˆAI to SQLï¼‰ï¼Œæ­£æ˜¯è¿™ä¸€å˜é©çš„ç”ŸåŠ¨ä½“ç°ã€‚</p>
<p>æœ€è¿‘ï¼Œéšç€è±†åŒ…æ‰‹æœºã€Geminiç­‰AIåŠ©æ‰‹çš„æ™®åŠï¼Œä»¥åŠ"vibe coding"ç†å¿µçš„æµè¡Œï¼Œè‡ªç„¶è¯­è¨€ç”ŸæˆSQLæŸ¥è¯¢æ­£ä»æ¦‚å¿µèµ°å‘ç°å®ï¼Œæˆä¸ºå¼€å‘è€…å’Œä¸šåŠ¡äººå‘˜çš„æ—¥å¸¸å·¥å…·ã€‚ä»Šå¤©ï¼Œæˆ‘å°†å¸¦å¤§å®¶æ·±å…¥æ¢è®¨è¿™ä¸€å‰æ²¿æŠ€æœ¯ï¼Œå¹¶é€šè¿‡ä¸€ä¸ªå®æˆ˜æ¡ˆä¾‹ï¼Œå±•ç¤ºå¦‚ä½•å°†è‡ªç„¶è¯­è¨€æŸ¥è¯¢è½¬æ¢ä¸ºSQLè¯­å¥ã€‚</p>
<h3 data-id="heading-1">ä»€ä¹ˆæ˜¯AI TO SQLï¼Ÿ</h3>
<p>AI TO SQLæ˜¯å°†è‡ªç„¶è¯­è¨€è½¬æ¢ä¸ºSQLæŸ¥è¯¢çš„æŠ€æœ¯ï¼Œå®ƒè®©éæŠ€æœ¯èƒŒæ™¯çš„ç”¨æˆ·ä¹Ÿèƒ½é€šè¿‡ç®€å•çš„è‡ªç„¶è¯­è¨€æè¿°æ¥è·å–æ•°æ®åº“ä¸­çš„æ•°æ®ã€‚æ— éœ€æŒæ¡SQLè¯­æ³•ï¼Œåªéœ€ç”¨æ—¥å¸¸è¯­è¨€æè¿°éœ€æ±‚ï¼ŒAIå°±èƒ½ç”Ÿæˆæ­£ç¡®çš„SQLæŸ¥è¯¢è¯­å¥ã€‚</p>
<p>è¿™ä¸ä¼ ç»Ÿçš„æ•°æ®åº“æ“ä½œæ–¹å¼æˆªç„¶ä¸åŒã€‚è¿‡å»ï¼Œå¼€å‘äººå‘˜éœ€è¦èŠ±è´¹å¤§é‡æ—¶é—´å­¦ä¹ SQLè¯­æ³•ï¼Œç¼–å†™å¤æ‚çš„æŸ¥è¯¢è¯­å¥ï¼›è€Œç°åœ¨ï¼Œé€šè¿‡AI TO SQLï¼Œå³ä½¿æ˜¯ä¸šåŠ¡äººå‘˜ä¹Ÿèƒ½ç›´æ¥ä¸æ•°æ®åº“äº¤äº’ï¼Œå¤§å¤§æé«˜äº†æ•°æ®è·å–çš„æ•ˆç‡ã€‚</p>
<h3 data-id="heading-2">æŠ€æœ¯åŸç†ï¼šLLMå¦‚ä½•ç†è§£æ•°æ®åº“</h3>
<p>AI TO SQLçš„æ ¸å¿ƒåœ¨äºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å¯¹æ•°æ®åº“schemaå’Œè‡ªç„¶è¯­è¨€çš„ç†è§£èƒ½åŠ›ï¼š</p>
<ol>
<li><strong>Schemaç†è§£</strong>ï¼šLLMéœ€è¦ç†è§£æ•°æ®åº“çš„è¡¨ç»“æ„ã€å­—æ®µå«ä¹‰å’Œå…³ç³»</li>
<li><strong>è‡ªç„¶è¯­è¨€å¤„ç†</strong>ï¼šå°†ç”¨æˆ·çš„è‡ªç„¶è¯­è¨€æŸ¥è¯¢è½¬æ¢ä¸ºç²¾ç¡®çš„SQLè¯­ä¹‰</li>
<li><strong>SQLç”Ÿæˆ</strong>ï¼šç”Ÿæˆç¬¦åˆæ•°æ®åº“è¯­æ³•çš„SQLæŸ¥è¯¢è¯­å¥</li>
</ol>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æä¾›ç»™LLMå…³é”®ä¸Šä¸‹æ–‡ï¼š</p>
<ul>
<li>æ•°æ®åº“çš„schemaï¼ˆè¡¨ç»“æ„ï¼‰</li>
<li>ç”¨æˆ·çš„è‡ªç„¶è¯­è¨€æŸ¥è¯¢</li>
<li>é™åˆ¶æ¡ä»¶ï¼ˆå¦‚"åªè¾“å‡ºSQLï¼Œä¸è¦å…¶ä»–å†…å®¹"ï¼‰</li>
</ul>
<h3 data-id="heading-3">å®æˆ˜æ¡ˆä¾‹ï¼šä»è‡ªç„¶è¯­è¨€åˆ°SQLçš„å®Œæ•´æµç¨‹</h3>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸€æ®µä»£ç ï¼Œæ·±å…¥äº†è§£AI TO SQLçš„å®ç°ç»†èŠ‚ã€‚</p>
<h4 data-id="heading-4">1. è®¾ç½®è½»é‡çº§æ•°æ®åº“</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> sqlite3

<span class="hljs-comment"># åˆ›å»ºSQLiteè¿æ¥</span>
conn = sqlite3.connect(<span class="hljs-string">"test.db"</span>)
cursor = conn.cursor()

<span class="hljs-comment"># åˆ›å»ºemployeesè¡¨</span>
cursor.execute(<span class="hljs-string">"""
CREATE TABLE IF NOT EXISTS employees(
    id INTEGER PRIMARY KEY,
    name TEXT,
    department TEXT,
    salary INTEGER
)
"""</span>)
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆé€‰æ‹©SQLiteï¼Ÿ</strong></p>
<ul>
<li>è½»é‡çº§ï¼šæ— éœ€æœåŠ¡å™¨ï¼Œç›´æ¥å­˜å‚¨åœ¨æ–‡ä»¶ä¸­</li>
<li>æœ¬åœ°åŒ–ï¼šé€‚åˆç§»åŠ¨ç«¯å’Œæ¡Œé¢åº”ç”¨ï¼ˆå¦‚å¾®ä¿¡ä¸­çš„æœ¬åœ°æ•°æ®åº“ï¼‰</li>
<li>ç®€å•æ˜“ç”¨ï¼šAPIç®€å•ï¼Œé€‚åˆå¿«é€ŸåŸå‹å¼€å‘</li>
<li>æ— éœ€å®‰è£…ï¼šç›¸æ¯”MySQLç­‰éœ€è¦å•ç‹¬å®‰è£…çš„æ•°æ®åº“ï¼ŒSQLiteæ›´æ–¹ä¾¿</li>
</ul>
<h4 data-id="heading-5">2. æ’å…¥æµ‹è¯•æ•°æ®</h4>
<pre><code class="hljs language-python" lang="python">sample_data = [
    (<span class="hljs-number">6</span>, <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"æŠ€æœ¯éƒ¨"</span>, <span class="hljs-number">6</span>),
    (<span class="hljs-number">7</span>, <span class="hljs-string">"æå››"</span>, <span class="hljs-string">"é”€å”®éƒ¨"</span>, <span class="hljs-number">30</span>),
    (<span class="hljs-number">8</span>, <span class="hljs-string">"ç‹äº”"</span>, <span class="hljs-string">"å¼€å‘éƒ¨"</span>, <span class="hljs-number">68</span>),
]
cursor.executemany(<span class="hljs-string">'INSERT INTO employees VALUES(?,?,?,?)'</span>, sample_data)
conn.commit()
</code></pre>
<p>è¿™ä¸€æ­¥åˆ›å»ºäº†ç¤ºä¾‹æ•°æ®ï¼Œç”¨äºåç»­æŸ¥è¯¢æµ‹è¯•ã€‚</p>
<h4 data-id="heading-6">3. è·å–æ•°æ®åº“Schema</h4>
<pre><code class="hljs language-python" lang="python">schema = cursor.execute(<span class="hljs-string">"PRAGMA table_info(employees)"</span>).fetchall()
schema_str = <span class="hljs-string">"CREATE TABLE EMPLOYEES (\n"</span> + <span class="hljs-string">"\n"</span>.join([<span class="hljs-string">f"<span class="hljs-subst">{col[<span class="hljs-number">1</span>]}</span> <span class="hljs-subst">{col[<span class="hljs-number">2</span>]}</span>"</span> <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> schema]) + <span class="hljs-string">"\n)"</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ•°æ®åº“Schema:"</span>)
<span class="hljs-built_in">print</span>(schema_str)
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦Schemaï¼Ÿ</strong></p>
<ul>
<li>LLMéœ€è¦äº†è§£æ•°æ®åº“çš„ç»“æ„æ‰èƒ½ç”Ÿæˆæ­£ç¡®çš„SQL</li>
<li><code>PRAGMA table_info</code>æ˜¯SQLiteç‰¹æœ‰çš„å‘½ä»¤ï¼Œç”¨äºè·å–è¡¨ç»“æ„ä¿¡æ¯</li>
<li>ç”Ÿæˆçš„schemaå­—ç¬¦ä¸²æ˜¯LLMç†è§£æ•°æ®åº“çš„å…³é”®ä¸Šä¸‹æ–‡</li>
</ul>
<p>è¾“å‡ºç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-text" lang="text">æ•°æ®åº“Schema:
CREATE TABLE EMPLOYEES (
id INTEGER
name TEXT
department TEXT
salary INTEGER
)
</code></pre>
<h4 data-id="heading-7">4. LLMç”ŸæˆSQLæŸ¥è¯¢</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">ask_deepseek</span>(<span class="hljs-params">query, schema</span>):
    prompt = <span class="hljs-string">f"""
    è¿™æ˜¯ä¸€ä¸ªæ•°æ®åº“çš„Schema:
    <span class="hljs-subst">{schema}</span>
    æ ¹æ®è¿™ä¸ªSchema,ä½ èƒ½è¾“å‡ºä¸€ä¸ªSQLæŸ¥è¯¢æ¥å›ç­”ä»¥ä¸‹é—®é¢˜å—ï¼Ÿ
    åªè¾“å‡ºSQLæŸ¥è¯¢,ä¸è¦è¾“å‡ºä»»ä½•å…¶ä»–å†…å®¹ï¼Œä¹Ÿä¸è¦å¸¦ä»»ä½•æ ¼å¼ã€‚
    é—®é¢˜ï¼š<span class="hljs-subst">{query}</span>
    """</span>
    response = client.chat.completions.create(
        model=<span class="hljs-string">"deepseek-reasoner"</span>,
        max_tokens=<span class="hljs-number">2048</span>,
        messages=[{
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
            <span class="hljs-string">"content"</span>: prompt
        }]
    )
    <span class="hljs-keyword">return</span> response.choices[<span class="hljs-number">0</span>].message

question = <span class="hljs-string">"å¼€å‘éƒ¨éƒ¨é—¨å‘˜å·¥çš„å§“åå’Œå·¥èµ„æ˜¯å¤šå°‘ï¼Ÿ"</span>
sql = ask_deepseek(question, schema_str)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ç”Ÿæˆçš„sqlæŸ¥è¯¢ï¼š"</span>)
<span class="hljs-built_in">print</span>(sql)
</code></pre>
<p><strong>å…³é”®ç‚¹è§£æï¼š</strong></p>
<ol>
<li><strong>Promptè®¾è®¡</strong>ï¼šè¿™æ˜¯AI TO SQLæˆåŠŸçš„å…³é”®ã€‚æˆ‘ä»¬æä¾›äº†å®Œæ•´çš„æ•°æ®åº“schemaï¼Œå¹¶æ˜ç¡®æŒ‡ç¤ºåªè¾“å‡ºSQLï¼Œé¿å…LLMæ·»åŠ é¢å¤–å†…å®¹ã€‚</li>
<li><strong>æ¨¡å‹é€‰æ‹©</strong>ï¼šä½¿ç”¨<code>deepseek-reasoner</code>æ¨¡å‹ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸“é—¨ä¼˜åŒ–æ¨ç†èƒ½åŠ›çš„æ¨¡å‹ã€‚</li>
<li><strong>è¾“å‡ºæ§åˆ¶</strong>ï¼šé€šè¿‡æ˜ç¡®çš„æŒ‡ä»¤"åªè¾“å‡ºSQLæŸ¥è¯¢"ï¼Œç¡®ä¿LLMç”Ÿæˆçš„è¾“å‡ºæ˜¯çº¯SQLï¼Œä¾¿äºç¨‹åºè§£æã€‚</li>
</ol>
<p>è¾“å‡ºç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-text" lang="text">ç”Ÿæˆçš„sqlæŸ¥è¯¢ï¼š
ChatCompletionMessage(content="```sql\nSELECT name, salary FROM EMPLOYEES WHERE department = 'å¼€å‘éƒ¨';\n```", refusal=None, role='assistant', ...)
</code></pre>
<h4 data-id="heading-8">5. æ‰§è¡Œç”Ÿæˆçš„SQL</h4>
<pre><code class="hljs language-python" lang="python">cursor.execute(sql.content)
results = cursor.fetchall()
<span class="hljs-built_in">print</span>(results)
</code></pre>
<p>è¿™ä¸€æ­¥æ‰§è¡Œç”Ÿæˆçš„SQLæŸ¥è¯¢ï¼Œå¹¶æ‰“å°ç»“æœã€‚</p>
<p><strong>é™„ï¼šä»£ç æµ‹è¯•</strong></p>
<pre><code class="hljs language-ini" lang="ini">from openai import OpenAI
<span class="hljs-comment"># openai sdk llm æ¥å£æ ‡å‡† completeion chat</span>
<span class="hljs-attr">client</span> = OpenAI(
    <span class="hljs-attr">api_key</span> = <span class="hljs-string">'è¿™é‡Œå¡«ä½ è‡ªå·±çš„API key'</span>,
    <span class="hljs-attr">base_url</span> = <span class="hljs-string">'https://api.deepseek.com/v1'</span>
)

import sqlite3
<span class="hljs-comment"># è¿æ¥æ•°æ®åº“</span>
<span class="hljs-attr">conn</span> = sqlite3.connect(<span class="hljs-string">"test.db"</span>)
<span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ¸¸æ ‡å¯¹è±¡</span>
<span class="hljs-comment"># ç”¨äºæ‰§è¡Œsql è·å–æŸ¥è¯¢ç»“æœ</span>
<span class="hljs-attr">cursor</span> = conn.cursor()
<span class="hljs-comment"># å‘˜å·¥è¡¨</span>
cursor.execute("""
CREATE TABLE IF NOT EXISTS employees(
    id INTEGER PRIMARY KEY,
    name TEXT,
    department TEXT,
    salary INTEGER
)
""")

<span class="hljs-attr">sample_data</span> = [ 
    <span class="hljs-comment"># å…ƒç»„ç±»å‹ æœ‰é¡ºåºçš„  tuple </span>
    (<span class="hljs-number">6</span>, <span class="hljs-string">"é»„ä½³"</span>, <span class="hljs-string">"é”€å”®"</span>, <span class="hljs-number">50000</span>), 
    (<span class="hljs-number">7</span>, <span class="hljs-string">"å®å®"</span>, <span class="hljs-string">"å·¥ç¨‹"</span>, <span class="hljs-number">75000</span>), 
    (<span class="hljs-number">8</span>, <span class="hljs-string">"è°¦è°¦"</span>, <span class="hljs-string">"é”€å”®"</span>, <span class="hljs-number">60000</span>), 
    (<span class="hljs-number">9</span>, <span class="hljs-string">"æ‚¦æ‚¦"</span>, <span class="hljs-string">"å·¥ç¨‹"</span>, <span class="hljs-number">80000</span>), 
    (<span class="hljs-number">10</span>, <span class="hljs-string">"é»„ä»å‹‹"</span>, <span class="hljs-string">"å¸‚åœº"</span>, <span class="hljs-number">55000</span>),
    (<span class="hljs-number">11</span>, <span class="hljs-string">"æ›¾ç¹èŠ±"</span>, <span class="hljs-string">"å·¥ç¨‹"</span>, <span class="hljs-number">80000</span>)
]

<span class="hljs-comment"># æ’å…¥sql</span>
cursor.executemany(
    "INSERT INTO employees VALUES(?,?,?,?)",
    sample_data
)

<span class="hljs-comment"># æäº¤sqläº‹åŠ¡</span>
conn.commit()

<span class="hljs-attr">schema</span> = cursor.execute(<span class="hljs-string">"PRAGMA table_info(employees)"</span>).fetchall()
print(schema)
<span class="hljs-comment"># åˆ—è¡¨æ¨å¯¼å¼</span>
<span class="hljs-attr">schema_str</span> = <span class="hljs-string">"CREATE TABLE EMPLOYEES (\n"</span> + <span class="hljs-string">"\n"</span>.join([f<span class="hljs-string">"{col[1]} {col[2]}"</span> for col in schema]) + <span class="hljs-string">"\n)"</span>
print(schema_str)

def ask_deepseek(query, schema):
    <span class="hljs-attr">prompt</span> = f<span class="hljs-string">"""
    è¿™æ˜¯ä¸€ä¸ªæ•°æ®åº“çš„Schema:
    {schema}
    æ ¹æ®è¿™ä¸ªSchema,è¯·è¾“å‡ºä¸€ä¸ªSQLæŸ¥è¯¢æ¥å›ç­”ä»¥ä¸‹é—®é¢˜ã€‚
    åªè¾“å‡ºSQLæŸ¥è¯¢è¯­å¥æœ¬èº«ï¼Œä¸è¦ä½¿ç”¨ä»»ä½•Markdownæ ¼å¼ï¼Œ
    ä¸è¦åŒ…å«åå¼•å·ã€ä»£ç å—æ ‡è®°æˆ–é¢å¤–è¯´æ˜ã€‚
    é—®é¢˜ï¼š{query}
    """</span>
    print(prompt)
    <span class="hljs-attr">response</span> = client.chat.completions.create(
        <span class="hljs-attr">model</span>=<span class="hljs-string">"deepseek-chat"</span>,
        <span class="hljs-attr">max_tokens</span>=<span class="hljs-number">2048</span>,
        <span class="hljs-attr">messages</span>=[{
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
            <span class="hljs-string">"content"</span>: prompt
        }],
        <span class="hljs-attr">temperature</span>=<span class="hljs-number">0</span>
    )
    return response.choices<span class="hljs-section">[0]</span>.message.content
    
<span class="hljs-attr">question</span> = <span class="hljs-string">"å·¥ç¨‹éƒ¨é—¨å‘˜å·¥çš„å§“åå’Œå·¥èµ„æ˜¯å¤šå°‘"</span>
<span class="hljs-attr">sql_query</span> = ask_deepseek(question,schema_str)
print(sql_query)

<span class="hljs-attr">results</span> = cursor.execute(sql_query).fetchall()
print(results)

<span class="hljs-attr">question</span> = <span class="hljs-string">"åœ¨é”€å”®éƒ¨é—¨å¢åŠ ä¸€ä¸ªæ–°å‘˜å·¥ï¼Œå§“åä¸ºå¼ ä¸‰ï¼Œå·¥èµ„ä¸º45000"</span>
<span class="hljs-attr">sql_query</span> = ask_deepseek(question,schema_str)
print(sql_query)
cursor.execute(sql_query)
conn.commit()

<span class="hljs-attr">question</span> = <span class="hljs-string">"åˆ é™¤å¸‚åœºéƒ¨é—¨çš„é»„ä»å‹‹"</span>
<span class="hljs-attr">sql_query</span> = ask_deepseek(question, schema_str)
print(sql_query)
cursor.execute(sql_query)
conn.commit()

<span class="hljs-attr">question</span> = <span class="hljs-string">"æŸ¥è¯¢æ‰€æœ‰å‘˜å·¥çš„ä¿¡æ¯"</span>
<span class="hljs-attr">sql_query</span> = ask_deepseek(question, schema_str)
print(sql_query)
<span class="hljs-attr">results</span> = cursor.execute(sql_query).fetchall()
print(results)
</code></pre>
<p>å¿«å»è¯•è¯•å§ï¼</p>
<hr/>
<h3 data-id="heading-9">AI TO SQLçš„ä¼˜åŠ¿ä¸ä»·å€¼</h3>
<ol>
<li><strong>é™ä½æŠ€æœ¯é—¨æ§›</strong>ï¼šä¸šåŠ¡äººå‘˜æ— éœ€å­¦ä¹ SQLï¼Œç›´æ¥ç”¨è‡ªç„¶è¯­è¨€è·å–æ•°æ®</li>
<li><strong>æé«˜å¼€å‘æ•ˆç‡</strong>ï¼šå¼€å‘è€…å¯ä»¥ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘ï¼Œè€ŒéSQLè¯­æ³•</li>
<li><strong>å‡å°‘é”™è¯¯</strong>ï¼šAIç”Ÿæˆçš„SQLæ›´å‡†ç¡®ï¼Œå‡å°‘äº†äººä¸ºé”™è¯¯</li>
<li><strong>åŠ é€Ÿè¿­ä»£</strong>ï¼šå¿«é€Ÿå“åº”ä¸šåŠ¡éœ€æ±‚ï¼Œæ— éœ€åå¤è°ƒæ•´SQLè¯­å¥</li>
</ol>
<p>sqlä¹Ÿæ˜¯æ–‡æœ¬ï¼Œåªä¸è¿‡å®ƒæ˜¯æ•°æ®åº“çš„ä¸“ä¸šè¯­è¨€ï¼ŒAIGCå†æ“…é•¿ä¸è¿‡</p>
<h3 data-id="heading-10">ä¸ºä»€ä¹ˆæ˜¯SQLiteè€ŒéMySQLï¼Ÿ</h3>
<p>SQLiteç‰¹åˆ«é€‚åˆAI TO SQLåœºæ™¯çš„åŸå› ï¼š</p>
<ul>
<li><strong>è½»é‡çº§</strong>ï¼šä¸éœ€è¦å•ç‹¬çš„æ•°æ®åº“æœåŠ¡å™¨</li>
<li><strong>åµŒå…¥å¼</strong>ï¼šå¯ä»¥ç›´æ¥é›†æˆåˆ°åº”ç”¨ä¸­</li>
<li><strong>æ–‡ä»¶å­˜å‚¨</strong>ï¼šæ•°æ®å­˜å‚¨åœ¨æœ¬åœ°æ–‡ä»¶ï¼Œä¾¿äºç®¡ç†å’Œå¤‡ä»½</li>
<li><strong>é›¶é…ç½®</strong>ï¼šæ— éœ€è®¾ç½®ç”¨æˆ·ã€å¯†ç ç­‰</li>
<li><strong>é€‚åˆç§»åŠ¨ç«¯</strong>ï¼šå¾®ä¿¡ç­‰åº”ç”¨ä¸­å¹¿æ³›ä½¿ç”¨SQLiteä½œä¸ºæœ¬åœ°æ•°æ®åº“</li>
</ul>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒMySQLéœ€è¦é¢å¤–çš„æœåŠ¡å™¨é…ç½®å’Œç®¡ç†ï¼Œä¸é€‚åˆè¿™ç§è½»é‡çº§ã€æœ¬åœ°åŒ–çš„AI TO SQLåœºæ™¯ã€‚</p>
<h3 data-id="heading-11">æœªæ¥å±•æœ›</h3>
<p>AI TO SQLæ­£åœ¨å¿«é€Ÿå‘å±•ï¼Œæœªæ¥å¯èƒ½æœ‰ä»¥ä¸‹è¶‹åŠ¿ï¼š</p>
<ol>
<li><strong>æ›´æ™ºèƒ½çš„ä¸Šä¸‹æ–‡ç†è§£</strong>ï¼šLLMå°†æ›´å¥½åœ°ç†è§£å¤æ‚çš„ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®å…³ç³»</li>
<li><strong>å¤šæ•°æ®åº“æ”¯æŒ</strong>ï¼šä¸ä»…æ”¯æŒSQLiteï¼Œè¿˜èƒ½å¤„ç†MySQLã€PostgreSQLç­‰ä¸»æµæ•°æ®åº“</li>
<li><strong>å®æ—¶åé¦ˆä¸ä¿®æ­£</strong>ï¼šç”¨æˆ·å¯ä»¥å¯¹ç”Ÿæˆçš„SQLè¿›è¡Œåé¦ˆï¼Œè®©AIæŒç»­ä¼˜åŒ–</li>
<li><strong>ä¸BIå·¥å…·é›†æˆ</strong>ï¼šä¸Tableauã€Power BIç­‰å•†ä¸šæ™ºèƒ½å·¥å…·æ— ç¼é›†æˆ</li>
<li><strong>ä¼ä¸šçº§å®‰å…¨å¢å¼º</strong>ï¼šç¡®ä¿ç”Ÿæˆçš„SQLç¬¦åˆä¼ä¸šå®‰å…¨ç­–ç•¥</li>
</ol>
<h3 data-id="heading-12">ç»“è¯­</h3>
<p>ä»Mobile Firståˆ°AI Firstï¼Œæˆ‘ä»¬æ­£è§è¯ç€æŠ€æœ¯èŒƒå¼çš„è½¬å˜ã€‚AI TO SQLä½œä¸ºè¿™ä¸€è½¬å˜çš„ä»£è¡¨ï¼Œæ­£åœ¨æ”¹å˜æˆ‘ä»¬ä¸æ•°æ®åº“äº¤äº’çš„æ–¹å¼ã€‚é€šè¿‡å°†è‡ªç„¶è¯­è¨€è½¬æ¢ä¸ºSQLï¼Œæˆ‘ä»¬ä¸ä»…é™ä½äº†æŠ€æœ¯é—¨æ§›ï¼Œè¿˜å¤§å¤§æé«˜äº†æ•°æ®è·å–çš„æ•ˆç‡ã€‚</p>
<p>æ­£å¦‚æˆ‘ä»¬ä»`ä¸­çœ‹åˆ°çš„ï¼Œå®ç°AI TO SQLå¹¶ä¸å¤æ‚ï¼Œåªéœ€è¦åˆé€‚çš„å·¥å…·å’Œç²¾å¿ƒè®¾è®¡çš„promptã€‚åœ¨AIGCæ—¶ä»£ï¼ŒæŒæ¡è¿™ä¸€æŠ€èƒ½ï¼Œå°†ä½¿æˆ‘ä»¬æˆä¸ºæ›´å…·ç«äº‰åŠ›çš„å¼€å‘è€…ã€‚</p>
<p><strong>"å½“SQLä¸å†æ˜¯éšœç¢ï¼Œæ•°æ®æ‰æ˜¯çœŸæ­£çš„èµ„äº§ã€‚"</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼šä»æ„é€ å‡½æ•°åˆ°åŸå‹ç»§æ‰¿çš„å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7579813925995937833</link>    <guid>https://juejin.cn/post/7579813925995937833</guid>    <pubDate>2025-12-04T11:39:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579813925995937833" data-draft-id="7579659550862573610" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" JavaScript é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼šä»æ„é€ å‡½æ•°åˆ°åŸå‹ç»§æ‰¿çš„å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2025-12-04T11:39:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æƒ³è¦æˆä¸ºç³•ç³•æ‰‹"/> <meta itemprop="url" content="https://juejin.cn/user/4381975238424308"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             JavaScript é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼šä»æ„é€ å‡½æ•°åˆ°åŸå‹ç»§æ‰¿çš„å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4381975238424308/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æƒ³è¦æˆä¸ºç³•ç³•æ‰‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T11:39:58.000Z" title="Thu Dec 04 2025 11:39:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å½“ç„¶å¯ä»¥ï¼ä½ æä¾›çš„æ–‡ç« å·²ç»éå¸¸ç³»ç»Ÿã€æ¸…æ™°åœ°è®²è§£äº† JavaScript é¢å‘å¯¹è±¡çš„æ ¸å¿ƒæœºåˆ¶ã€‚ä¸ºäº†è¿›ä¸€æ­¥<strong>å®Œå–„å†…å®¹</strong>ï¼Œæˆ‘ä»¬å°†æŠŠä¸Šä¸€ä¸ªå¯¹è¯ä¸­å…³äº <code>Animal.apply(this)</code> çš„è¯¦ç»†è§£æ<strong>æœ‰æœºèå…¥</strong>åˆ°â€œç¬¬äº”éƒ¨åˆ†ï¼šç»§æ‰¿â€ä¸­ï¼Œå¹¶è¡¥å……ä¸€äº›å…³é”®ç»†èŠ‚ï¼ˆå¦‚ä¼ å‚ã€ç»„åˆç»§æ‰¿çš„å±€é™æ€§ã€ç°ä»£æ›¿ä»£æ–¹æ¡ˆç­‰ï¼‰ï¼Œä½¿æ•´ç¯‡æ–‡ç« é€»è¾‘æ›´ä¸¥å¯†ã€æ•™å­¦æ›´å®Œæ•´ã€‚</p>
<hr/>
<h2 data-id="heading-0">JavaScript é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼šä»æ„é€ å‡½æ•°åˆ°åŸå‹ç»§æ‰¿çš„å®Œæ•´æŒ‡å—</h2>
<blockquote>
<p>æœ¬æ–‡å°†å¸¦ä½ æ·±å…¥ç†è§£ JavaScript ä¸­é¢å‘å¯¹è±¡ï¼ˆOOPï¼‰çš„æ ¸å¿ƒæœºåˆ¶ â€”â€” æ„é€ å‡½æ•°ã€åŸå‹ï¼ˆprototypeï¼‰ã€ç»§æ‰¿ï¼Œä»¥åŠ ES6 çš„ class è¯­æ³•ç³–èƒŒåçš„çœŸç›¸ã€‚</p>
</blockquote>
<p>JavaScript æ˜¯ä¸€é—¨<strong>åŸºäºå¯¹è±¡</strong>çš„è¯­è¨€ï¼Œä½†å®ƒçš„ OOP å®ç°æ–¹å¼ä¸å…¶ä»–ä¸»æµè¯­è¨€ï¼ˆå¦‚ Javaã€C++ï¼‰æˆªç„¶ä¸åŒã€‚å®ƒæ²¡æœ‰ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„â€œç±»â€ï¼Œè€Œæ˜¯é€šè¿‡**åŸå‹é“¾ï¼ˆPrototype Chainï¼‰**å®ç°å¯¹è±¡ä¹‹é—´çš„ç»§æ‰¿ä¸å…±äº«ã€‚</p>
<p>å³ä½¿åœ¨ ES6 å¼•å…¥äº† <code>class</code> å…³é”®å­—åï¼Œå…¶åº•å±‚ä¾ç„¶æ˜¯åŸºäºåŸå‹çš„ã€‚å› æ­¤ï¼Œè¦çœŸæ­£æŒæ¡ JS çš„é¢å‘å¯¹è±¡ï¼Œå¿…é¡»ç†è§£ <strong>æ„é€ å‡½æ•° + åŸå‹</strong> è¿™ä¸€æ ¸å¿ƒæ¨¡å‹ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€åŸå§‹æ¨¡å¼ï¼šå¯¹è±¡å­—é¢é‡çš„å±€é™</h3>
<p>æœ€ç®€å•çš„åˆ›å»ºå¯¹è±¡æ–¹å¼ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> cat1 = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'åŠ è²çŒ«'</span>,
  <span class="hljs-attr">color</span>: <span class="hljs-string">'æ©˜è‰²'</span>
};
<span class="hljs-keyword">var</span> cat2 = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'é»‘çŒ«è­¦é•¿'</span>,
  <span class="hljs-attr">color</span>: <span class="hljs-string">'é»‘è‰²'</span>
};
</code></pre>
<p>è¿™ç§æ–¹å¼è™½ç„¶ç›´è§‚ï¼Œä½†å­˜åœ¨æ˜æ˜¾é—®é¢˜ï¼š</p>
<ul>
<li><strong>ä»£ç é‡å¤</strong>ï¼šæ¯ä¸ªå®ä¾‹éƒ½è¦æ‰‹åŠ¨å®šä¹‰ç›¸åŒç»“æ„ï¼›</li>
<li><strong>æ— æ³•æ‰¹é‡ç”Ÿæˆ</strong>ï¼šç¼ºä¹â€œæ¨¡æ¿â€æ¦‚å¿µï¼›</li>
<li><strong>æ— ç±»å‹æ ‡è¯†</strong>ï¼šæ— æ³•åˆ¤æ–­ <code>cat1</code> æ˜¯å¦å±äºâ€œçŒ«â€è¿™ä¸ªç±»åˆ«ã€‚</li>
</ul>
<p>äºæ˜¯ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§<strong>å°è£…å®ä¾‹åŒ–è¿‡ç¨‹</strong>çš„æ–¹å¼ã€‚</p>
<hr/>
<h3 data-id="heading-2">äºŒã€æ„é€ å‡½æ•°ï¼šå°è£…å®ä¾‹åŒ–çš„ç¬¬ä¸€æ­¥</h3>
<p>ä½¿ç”¨å‡½æ•°é…åˆ <code>new</code> å…³é”®å­—ï¼Œæ¨¡æ‹Ÿâ€œç±»â€çš„è¡Œä¸ºï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Cat</span>(<span class="hljs-params">name, color</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;
}

<span class="hljs-keyword">const</span> cat1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>(<span class="hljs-string">'åŠ è²çŒ«'</span>, <span class="hljs-string">'æ©˜è‰²'</span>);
<span class="hljs-keyword">const</span> cat2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>(<span class="hljs-string">'é»‘çŒ«è­¦é•¿'</span>, <span class="hljs-string">'é»‘è‰²'</span>);
</code></pre>
<h4 data-id="heading-3"><code>new</code> è°ƒç”¨æ—¶å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</h4>
<ol>
<li>åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ <code>{}</code>ï¼›</li>
<li>å°†è¯¥å¯¹è±¡çš„å†…éƒ¨ <code>[[Prototype]]</code> é“¾æ¥åˆ°æ„é€ å‡½æ•°çš„ <code>prototype</code>ï¼›</li>
<li>å°† <code>this</code> æŒ‡å‘è¯¥ç©ºå¯¹è±¡ï¼›</li>
<li>æ‰§è¡Œæ„é€ å‡½æ•°ä½“ï¼Œä¸º <code>this</code> æ·»åŠ å±æ€§ï¼›</li>
<li>è‡ªåŠ¨è¿”å› <code>this</code>ï¼ˆé™¤éæ˜¾å¼è¿”å›ä¸€ä¸ªé <code>null</code> å¯¹è±¡ï¼‰ã€‚</li>
</ol>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šè‹¥ç›´æ¥è°ƒç”¨ <code>Cat()</code>ï¼ˆä¸åŠ  <code>new</code>ï¼‰ï¼Œ<code>this</code> æŒ‡å‘å…¨å±€å¯¹è±¡ï¼ˆæµè§ˆå™¨ä¸­æ˜¯ <code>window</code>ï¼‰ï¼Œé€ æˆæ±¡æŸ“ã€‚ä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæŠ¥é”™ã€‚</p>
</blockquote>
<h4 data-id="heading-4">ç±»å‹åˆ¤æ–­</h4>
<ul>
<li><code>cat1 instanceof Cat</code> â†’ <code>true</code></li>
<li><code>cat1.constructor === Cat</code> â†’ <code>true</code></li>
</ul>
<p>è¿™è¡¨æ˜å®ä¾‹ä¸æ„é€ å‡½æ•°å»ºç«‹äº†æ˜ç¡®çš„å½’å±å…³ç³»ã€‚</p>
<hr/>
<h3 data-id="heading-5">ä¸‰ã€åŸå‹ï¼ˆPrototypeï¼‰ï¼šè§£å†³æ–¹æ³•å†—ä½™é—®é¢˜</h3>
<p>å¦‚æœæˆ‘ä»¬åœ¨æ„é€ å‡½æ•°å†…å®šä¹‰æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Cat</span>(<span class="hljs-params">name, color</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">eat</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'eat jerry'</span>); }; <span class="hljs-comment">// âŒ æ¯ä¸ªå®ä¾‹éƒ½æ–°å»ºä¸€ä¸ªå‡½æ•°ï¼</span>
}
</code></pre>
<p>è¿™ä¼šå¯¼è‡´<strong>å†…å­˜æµªè´¹</strong>â€”â€”æ¯ä¸ªå®ä¾‹éƒ½æŒæœ‰ä¸€ä»½ç›¸åŒçš„å‡½æ•°å‰¯æœ¬ã€‚</p>
<h4 data-id="heading-6">è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ <code>prototype</code></h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">type</span> = <span class="hljs-string">'çŒ«ç§‘åŠ¨ç‰©'</span>;
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">eat</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'eat jerry'</span>);
};
</code></pre>
<p>æ‰€æœ‰é€šè¿‡ <code>new Cat()</code> åˆ›å»ºçš„å®ä¾‹ï¼Œéƒ½ä¼š<strong>å…±äº«</strong>è¿™äº›åŸå‹ä¸Šçš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
<h4 data-id="heading-7">å¦‚ä½•åŒºåˆ†â€œè‡ªèº«å±æ€§â€å’Œâ€œç»§æ‰¿å±æ€§â€ï¼Ÿ</h4>
<ul>
<li><code>cat1.hasOwnProperty('name')</code> â†’ <code>true</code>ï¼ˆè‡ªèº«ï¼‰</li>
<li><code>cat1.hasOwnProperty('type')</code> â†’ <code>false</code>ï¼ˆæ¥è‡ªåŸå‹ï¼‰</li>
<li><code>'type' in cat1</code> â†’ <code>true</code>ï¼ˆæ— è®ºæ¥æºï¼‰</li>
</ul>
<p>éå†å®ä¾‹å±æ€§æ—¶ï¼Œå»ºè®®è¿‡æ»¤ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> prop <span class="hljs-keyword">in</span> cat1) {
  <span class="hljs-keyword">if</span> (cat1.<span class="hljs-title function_">hasOwnProperty</span>(prop)) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(prop, cat1[prop]);
  }
}
</code></pre>
<hr/>
<h3 data-id="heading-8">å››ã€ES6 çš„ <code>class</code>ï¼šè¯­æ³•ç³–è€Œå·²</h3>
<p>ES6 æä¾›äº†æ›´æ¸…æ™°çš„ OOP è¯­æ³•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, color</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;
  }
  <span class="hljs-title function_">eat</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'eat jerry'</span>);
  }
}
</code></pre>
<p>ä½†è¯·æ³¨æ„ï¼š<strong><code>class</code> æœ¬è´¨ä»æ˜¯åŸå‹æœºåˆ¶</strong>ï¼</p>
<p>éªŒè¯å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> cat1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>(<span class="hljs-string">'tom'</span>, <span class="hljs-string">'é»‘è‰²'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat1.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> === <span class="hljs-title class_">Cat</span>); <span class="hljs-comment">// true</span>
</code></pre>
<p>æ‰€ä»¥ï¼Œ<code>class</code> åªæ˜¯è®©ä»£ç æ›´æ˜“è¯»ï¼Œåº•å±‚é€»è¾‘æœªå˜ã€‚</p>
<hr/>
<h3 data-id="heading-9">äº”ã€ç»§æ‰¿ï¼šå¦‚ä½•è®© <code>Cat</code> ç»§æ‰¿ <code>Animal</code>ï¼Ÿ</h3>
<p>JavaScript çš„ç»§æ‰¿éœ€è¦åŒæ—¶å¤„ç†ä¸¤éƒ¨åˆ†ï¼š</p>
<ul>
<li><strong>å®ä¾‹å±æ€§çš„ç»§æ‰¿</strong>ï¼ˆé€šè¿‡æ„é€ å‡½æ•°ï¼‰</li>
<li><strong>åŸå‹æ–¹æ³•çš„ç»§æ‰¿</strong>ï¼ˆé€šè¿‡åŸå‹é“¾ï¼‰</li>
</ul>
<h4 data-id="heading-10">æ­¥éª¤ 1ï¼šå€Ÿç”¨æ„é€ å‡½æ•°ï¼ˆç»§æ‰¿å®ä¾‹å±æ€§ï¼‰</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params">species</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">species</span> = species || <span class="hljs-string">'åŠ¨ç‰©'</span>;
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">'/////'</span>); <span class="hljs-comment">// æ­¤æ—¶ this æ˜¯ Cat çš„æ–°å®ä¾‹</span>
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Cat</span>(<span class="hljs-params">name, color</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// {} â€”â€” new Cat() åˆ›å»ºçš„æ–°å¯¹è±¡</span>
  <span class="hljs-comment">// ğŸ‘‡ å…³é”®ï¼šåœ¨å½“å‰ Cat å®ä¾‹ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œ Animal</span>
  <span class="hljs-title class_">Animal</span>.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, [<span class="hljs-string">'å“ºä¹³åŠ¨ç‰©'</span>]); <span class="hljs-comment">// å¯ä¼ é€’å‚æ•°ï¼</span>
  
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;
}
</code></pre>
<h5 data-id="heading-11">ğŸ” æ·±å…¥è§£æ <code>Animal.apply(this)</code></h5>
<ul>
<li>
<p><code>apply</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šäº†å‡½æ•°æ‰§è¡Œæ—¶çš„ <code>this</code> ä¸Šä¸‹æ–‡ã€‚</p>
</li>
<li>
<p>å½“ <code>new Cat(...)</code> è¢«è°ƒç”¨æ—¶ï¼ŒJS å¼•æ“å…ˆåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼ˆè®¾ä¸º <code>obj</code>ï¼‰ï¼Œå¹¶å°† <code>Cat</code> å†…éƒ¨çš„ <code>this</code> æŒ‡å‘ <code>obj</code>ã€‚</p>
</li>
<li>
<p>æ‰§è¡Œ <code>Animal.apply(this)</code> ç›¸å½“äºï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// åœ¨ obj ä¸Šè¿è¡Œ Animal å‡½æ•°</span>
obj.<span class="hljs-property">species</span> = <span class="hljs-string">'å“ºä¹³åŠ¨ç‰©'</span>;
</code></pre>
</li>
<li>
<p>ç»“æœï¼š<code>Cat</code> å®ä¾‹æ‹¥æœ‰äº† <code>species</code> å±æ€§ï¼Œä¸”æ¯ä¸ªå®ä¾‹éƒ½æœ‰<strong>ç‹¬ç«‹å‰¯æœ¬</strong>ï¼Œé¿å…å¼•ç”¨ç±»å‹å…±äº«é—®é¢˜ã€‚</p>
</li>
</ul>
<blockquote>
<p>âœ… ä¼˜ç‚¹ï¼šæ”¯æŒä¼ å‚ã€å±æ€§éš”ç¦»<br/>
âŒ ç¼ºç‚¹ï¼š<strong>æ— æ³•ç»§æ‰¿ <code>Animal.prototype</code> ä¸Šçš„æ–¹æ³•</strong></p>
</blockquote>
<h4 data-id="heading-12">æ­¥éª¤ 2ï¼šè®¾ç½®åŸå‹é“¾ï¼ˆç»§æ‰¿åŸå‹æ–¹æ³•ï¼‰</h4>
<p>ä¸ºäº†è®© <code>Cat</code> å®ä¾‹ä¹Ÿèƒ½è®¿é—® <code>Animal</code> åŸå‹ä¸Šçš„æ–¹æ³•ï¼Œéœ€å»ºç«‹åŸå‹é“¾ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å…ˆç»™ Animal æ·»åŠ åŸå‹æ–¹æ³•</span>
<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayHi</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hi, I'm a <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.species}</span>`</span>);
};

<span class="hljs-comment">// è®© Cat.prototype æŒ‡å‘ä¸€ä¸ª Animal å®ä¾‹</span>
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>(); <span class="hljs-comment">// æ³¨æ„ï¼šè¿™é‡Œæ²¡ä¼ å‚ï¼Œspecies ä¸ºé»˜è®¤å€¼</span>

<span class="hljs-comment">// ä¿®å¤ constructor æŒ‡å‘ï¼ˆå¦åˆ™ cat.constructor === Animalï¼‰</span>
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Cat</span>;
</code></pre>
<p>ç°åœ¨æµ‹è¯•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> cat = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>(<span class="hljs-string">'åŠ è²çŒ«'</span>, <span class="hljs-string">'æ©˜è‰²'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat);
<span class="hljs-comment">// { species: 'å“ºä¹³åŠ¨ç‰©', name: 'åŠ è²çŒ«', color: 'æ©˜è‰²' }</span>

cat.<span class="hljs-title function_">sayHi</span>(); <span class="hljs-comment">// âœ… "Hi, I'm a å“ºä¹³åŠ¨ç‰©"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Animal</span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Cat</span>);    <span class="hljs-comment">// true</span>
</code></pre>
<h4 data-id="heading-13">å®Œæ•´ç»§æ‰¿æ¨¡å‹å›¾è§£</h4>
<pre><code class="hljs language-lua" lang="lua">cat (å®ä¾‹)
  â””â”€ <span class="hljs-string">[[Prototype]]</span> â†’ Cat.prototype (å³ new Animal())
        â””â”€ <span class="hljs-string">[[Prototype]]</span> â†’ Animal.prototype
              â””â”€ <span class="hljs-string">[[Prototype]]</span> â†’ Object.prototype
                    â””â”€ <span class="hljs-string">[[Prototype]]</span> â†’ null
</code></pre>
<blockquote>
<p>ğŸ’¡ æç¤ºï¼šç°ä»£å¼€å‘ä¸­ï¼Œå¯ä½¿ç”¨ <code>Object.create(Animal.prototype)</code> æ›¿ä»£ <code>new Animal()</code>ï¼Œé¿å…è°ƒç”¨çˆ¶æ„é€ å‡½æ•°å¸¦æ¥çš„å‰¯ä½œç”¨ï¼ˆå¦‚ä¸éœ€è¦åˆå§‹åŒ–çˆ¶ç±»å®ä¾‹å±æ€§æ—¶ï¼‰ã€‚</p>
</blockquote>
<h4 data-id="heading-14">æ›´å¥å£®çš„ç»„åˆç»§æ‰¿å†™æ³•ï¼ˆæ¨èï¼‰</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params">species</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">species</span> = species || <span class="hljs-string">'åŠ¨ç‰©'</span>;
}

<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayHi</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hi, I'm a <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.species}</span>`</span>);
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Cat</span>(<span class="hljs-params">name, color</span>) {
  <span class="hljs-comment">// ç»§æ‰¿å±æ€§ï¼ˆå¯ä¼ å‚ï¼‰</span>
  <span class="hljs-title class_">Animal</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">'çŒ«ç§‘åŠ¨ç‰©'</span>); <span class="hljs-comment">// ä½¿ç”¨ call æ›´å¸¸è§ï¼ˆå‚æ•°åˆ—è¡¨ vs å‚æ•°æ•°ç»„ï¼‰</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;
}

<span class="hljs-comment">// ç»§æ‰¿æ–¹æ³•ï¼ˆä¸è°ƒç”¨ Animal æ„é€ å‡½æ•°ï¼‰</span>
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Cat</span>;

<span class="hljs-comment">// å¯ç»§ç»­æ‰©å±• Cat è‡ªå·±çš„æ–¹æ³•</span>
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">meow</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Meow~'</span>);
};
</code></pre>
<p>è¿™ç§æ¨¡å¼ç§°ä¸º <strong>â€œç»„åˆç»§æ‰¿â€ï¼ˆCombination Inheritanceï¼‰</strong> ï¼Œæ˜¯ ES5 æ—¶ä»£æœ€å¸¸ç”¨çš„ç»§æ‰¿æ–¹å¼ã€‚</p>
<hr/>
<h3 data-id="heading-15">å…­ã€æ€»ç»“ï¼šJS OOP çš„æ ¸å¿ƒè¦ç‚¹</h3>









































<table><thead><tr><th>æ¦‚å¿µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>æ„é€ å‡½æ•°</strong></td><td>ç”¨äºåˆ›å»ºå®ä¾‹ï¼Œé…åˆ <code>new</code> ä½¿ç”¨</td></tr><tr><td><strong><code>prototype</code></strong></td><td>å­˜æ”¾å…±äº«å±æ€§/æ–¹æ³•ï¼Œé¿å…é‡å¤åˆ›å»º</td></tr><tr><td><strong><code>__proto__</code> / <code>[[Prototype]]</code></strong></td><td>å®ä¾‹æŒ‡å‘å…¶æ„é€ å‡½æ•°çš„ <code>prototype</code></td></tr><tr><td><strong><code>hasOwnProperty</code></strong></td><td>åˆ¤æ–­æ˜¯å¦ä¸ºè‡ªèº«å±æ€§</td></tr><tr><td><strong><code>instanceof</code></strong></td><td>æ£€æŸ¥åŸå‹é“¾ä¸­æ˜¯å¦å­˜åœ¨æŸæ„é€ å‡½æ•°çš„ <code>prototype</code></td></tr><tr><td><strong>ç»§æ‰¿</strong></td><td>å±æ€§é  <code>call/apply</code>ï¼Œæ–¹æ³•é åŸå‹é“¾</td></tr><tr><td><strong>ES6 <code>class</code></strong></td><td>è¯­æ³•ç³–ï¼Œåº•å±‚ä»æ˜¯åŸå‹</td></tr><tr><td><strong>ç»„åˆç»§æ‰¿</strong></td><td>æœ€å¸¸ç”¨çš„ä¼ ç»Ÿç»§æ‰¿æ¨¡å¼ï¼ˆå±æ€§ + åŸå‹é“¾ï¼‰</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-16">ä¸ƒã€å»¶ä¼¸æ€è€ƒï¼šç°ä»£ç»§æ‰¿çš„æœ€ä½³å®è·µ</h3>
<p>è™½ç„¶ç»„åˆç»§æ‰¿å¾ˆå¼ºå¤§ï¼Œä½†å®ƒ<strong>è°ƒç”¨äº†ä¸¤æ¬¡çˆ¶æ„é€ å‡½æ•°</strong>ï¼ˆä¸€æ¬¡åœ¨ <code>new Animal()</code> è®¾ç½®åŸå‹ï¼Œä¸€æ¬¡åœ¨ <code>Cat</code> å†…éƒ¨ï¼‰ï¼Œç•¥æ˜¾å†—ä½™ã€‚</p>
<p>ES6 ä¹‹åï¼Œ<strong>ç›´æ¥ä½¿ç”¨ <code>class extends</code> æ˜¯é¦–é€‰</strong>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">species = <span class="hljs-string">'åŠ¨ç‰©'</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">species</span> = species;
  }
  <span class="hljs-title function_">sayHi</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hi, I'm a <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.species}</span>`</span>);
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, color</span>) {
    <span class="hljs-variable language_">super</span>(<span class="hljs-string">'çŒ«ç§‘åŠ¨ç‰©'</span>); <span class="hljs-comment">// ç­‰ä»·äº Animal.call(this, ...)</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;
  }
  <span class="hljs-title function_">meow</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Meow~'</span>);
  }
}
</code></pre>
<ul>
<li>è¯­ä¹‰æ¸…æ™°</li>
<li>è‡ªåŠ¨å¤„ç†åŸå‹é“¾</li>
<li>æ”¯æŒé™æ€æ–¹æ³•ã€getter/setter ç­‰é«˜çº§ç‰¹æ€§</li>
</ul>
<p>ä½†è¯·è®°ä½ï¼š<strong><code>super()</code> åº•å±‚ä»ç„¶æ˜¯ <code>Parent.call(this)</code> + åŸå‹é“¾è®¾ç½®</strong>ã€‚</p>
<blockquote>
<p>ğŸ“Œ <strong>ç»ˆæç®´è¨€</strong>ï¼š<br/>
<strong>JavaScript æ²¡æœ‰ç±»ï¼Œåªæœ‰å¯¹è±¡ï¼›æ²¡æœ‰ç»§æ‰¿ï¼Œåªæœ‰å§”æ‰˜ã€‚</strong><br/>
ç†è§£åŸå‹é“¾ï¼Œå°±æŒæ¡äº† JS çš„çµé­‚ã€‚</p>
</blockquote>
<hr/>
<p><strong>æ ‡ç­¾ï¼š#JavaScript #é¢å‘å¯¹è±¡ #åŸå‹é“¾ #å‰ç«¯è¿›é˜¶ #ES6</strong><br/>
<strong>æ¬¢è¿ç‚¹èµã€æ”¶è—ã€è¯„è®ºäº¤æµï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶å®ç°ä¸€ä¸ªå¥å£®å¯å¤ç”¨çš„â€œå°±åœ°ç¼–è¾‘â€ç»„ä»¶ï¼šæ·±å…¥å‰–æ OOPã€DOM ä¸äº‹ä»¶æœºåˆ¶]]></title>    <link>https://juejin.cn/post/7579702046956027947</link>    <guid>https://juejin.cn/post/7579702046956027947</guid>    <pubDate>2025-12-04T11:57:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579702046956027947" data-draft-id="7579659550862327850" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶å®ç°ä¸€ä¸ªå¥å£®å¯å¤ç”¨çš„â€œå°±åœ°ç¼–è¾‘â€ç»„ä»¶ï¼šæ·±å…¥å‰–æ OOPã€DOM ä¸äº‹ä»¶æœºåˆ¶"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2025-12-04T11:57:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æƒ³è¦æˆä¸ºç³•ç³•æ‰‹"/> <meta itemprop="url" content="https://juejin.cn/user/4381975238424308"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶å®ç°ä¸€ä¸ªå¥å£®å¯å¤ç”¨çš„â€œå°±åœ°ç¼–è¾‘â€ç»„ä»¶ï¼šæ·±å…¥å‰–æ OOPã€DOM ä¸äº‹ä»¶æœºåˆ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4381975238424308/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æƒ³è¦æˆä¸ºç³•ç³•æ‰‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T11:57:31.000Z" title="Thu Dec 04 2025 11:57:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»é›¶å®ç°ä¸€ä¸ªå¥å£®å¯å¤ç”¨çš„â€œå°±åœ°ç¼–è¾‘â€ç»„ä»¶ï¼šæ·±å…¥å‰–æ OOPã€DOM ä¸äº‹ä»¶æœºåˆ¶</h2>
<p>åœ¨ç°ä»£ Web åº”ç”¨ä¸­ï¼Œç”¨æˆ·æœŸæœ›â€œæ‰€è§å³æ‰€ç¼–â€çš„æµç•…ä½“éªŒâ€”â€”ç‚¹å‡»ä¸€æ®µæ–‡å­—å°±èƒ½ç›´æ¥ä¿®æ”¹ï¼Œæ— éœ€è·³è½¬é¡µé¢ã€‚è¿™ç§äº¤äº’æ¨¡å¼ç§°ä¸º <strong>â€œå°±åœ°ç¼–è¾‘â€ï¼ˆEdit In Placeï¼‰</strong> ï¼Œå¹¿æ³›åº”ç”¨äºä¸ªäººä¸»é¡µã€åå°ç®¡ç†ç³»ç»Ÿã€åä½œå¹³å°ç­‰åœºæ™¯ã€‚</p>
<p>ä½†è¦å†™å‡ºä¸€ä¸ª<strong>å®‰å…¨ã€å¥å£®ã€å¯å¤ç”¨</strong>çš„å°±åœ°ç¼–è¾‘ç»„ä»¶ï¼Œå¹¶éåªæ˜¯â€œæŠŠ span æ¢æˆ inputâ€é‚£ä¹ˆç®€å•ã€‚å®ƒæ¶‰åŠï¼š</p>
<ul>
<li><strong>é¢å‘å¯¹è±¡è®¾è®¡ï¼ˆOOPï¼‰</strong></li>
<li><strong>DOM å…ƒç´ åˆ›å»ºä¸ç®¡ç†</strong></li>
<li><strong>äº‹ä»¶ç»‘å®šä¸Â <code>this</code>Â ä¸Šä¸‹æ–‡</strong></li>
<li><strong>æ•°æ®ä¸è§†å›¾çš„ä¸€è‡´æ€§</strong></li>
<li><strong>XSS å®‰å…¨é˜²æŠ¤</strong></li>
</ul>
<p>æœ¬æ–‡å°†å¸¦ä½ ä»é›¶æ„å»ºä¸€ä¸ªç”Ÿäº§çº§ <code>EditInPlace</code> ç»„ä»¶ï¼Œå¹¶<strong>é€è¡Œè§£æä½ æ›¾å›°æƒ‘çš„æ‰€æœ‰ç»†èŠ‚</strong>ï¼ŒåŠ©ä½ çœŸæ­£æŒæ¡å‰ç«¯æ ¸å¿ƒèƒ½åŠ›ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦å°è£…ï¼ŸOOP å¸¦æ¥çš„å·¥ç¨‹ä»·å€¼</h3>
<p>å‡è®¾ä½ è¦åœ¨å¤šä¸ªé¡µé¢å®ç°â€œå¯ç¼–è¾‘æ ‡è¯­â€ï¼Œå¦‚æœæ¯æ¬¡éƒ½å†™ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// âŒ é‡å¤ã€è„†å¼±ã€éš¾ç»´æŠ¤</span>
<span class="hljs-keyword">const</span> span = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'slogan'</span>);
span.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// æ‰‹åŠ¨åˆ›å»º inputã€æŒ‰é’®...</span>
    <span class="hljs-comment">// æ‰‹åŠ¨å¤„ç†ä¿å­˜ã€å–æ¶ˆ...</span>
});
</code></pre>
<p>å¾ˆå¿«ä½ ä¼šé™·å…¥â€œå¤åˆ¶ç²˜è´´åœ°ç‹±â€ã€‚</p>
<p>âœ… <strong>OOP å°è£…çš„ä»·å€¼</strong>ï¼š</p>

























<table><thead><tr><th>ä¼˜åŠ¿</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>å¤ç”¨æ€§</strong></td><td>ä¸€è¡ŒÂ <code>new EditInPlace(...)</code>Â å³å¯é›†æˆ</td></tr><tr><td><strong>éšè—å®ç°</strong></td><td>ä½¿ç”¨è€…æ— éœ€å…³å¿ƒ DOM æ“ä½œç»†èŠ‚</td></tr><tr><td><strong>çŠ¶æ€éš”ç¦»</strong></td><td>æ¯ä¸ªå®ä¾‹ç‹¬ç«‹ç®¡ç†è‡ªå·±çš„Â <code>value</code>Â å’Œå…ƒç´ </td></tr><tr><td><strong>å›¢é˜Ÿåä½œ</strong></td><td>ç¼–å†™è€…ä¸“æ³¨é€»è¾‘ï¼Œä½¿ç”¨è€…ä¸“æ³¨é…ç½®</td></tr></tbody></table>
<blockquote>
<p>ğŸ“Œ <strong>å¼€å‘æ¼”è¿›è·¯å¾„</strong>ï¼š<br/>
æµç¨‹ä»£ç  â†’ ç±»å°è£… â†’ æ¨¡å—åŒ–æ–‡ä»¶<br/>
è¿™æ˜¯å‰ç«¯å·¥ç¨‹åŒ–çš„å¿…ç»ä¹‹è·¯ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-2">äºŒã€æ ¸å¿ƒç»“æ„ï¼šå±æ€§ + æ–¹æ³• = å®Œæ•´ç»„ä»¶</h3>
<p>æˆ‘ä»¬é‡‡ç”¨æ„é€ å‡½æ•° + åŸå‹æ–¹æ³•çš„ç»å…¸ OOP æ¨¡å¼ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">EditInPlace</span>(<span class="hljs-params">id, value, parentElement</span>) {
    <span class="hljs-comment">// âœ… å±æ€§ï¼šå­˜å‚¨çŠ¶æ€ä¸ DOM å¼•ç”¨</span>
     <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span> = id;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = value || <span class="hljs-string">'è¿™ä¸ªå®¶ä¼™å¾ˆæ‡’ï¼Œä»€ä¹ˆéƒ½æ²¡ç•™ä¸‹'</span>; <span class="hljs-comment">// æ ¸å¿ƒæ•°æ®ï¼</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">parentElement</span> = parentElement;

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">containerElement</span> = <span class="hljs-literal">null</span>;   <span class="hljs-comment">// å¤–å±‚å®¹å™¨ &lt;div&gt;</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">staticElement</span> = <span class="hljs-literal">null</span>;      <span class="hljs-comment">// æ˜¾ç¤ºæ–‡æœ¬ &lt;span&gt;</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">fieldElement</span> = <span class="hljs-literal">null</span>;       <span class="hljs-comment">// ç¼–è¾‘è¾“å…¥æ¡† &lt;input&gt;</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">saveButton</span> = <span class="hljs-literal">null</span>;         <span class="hljs-comment">// ä¿å­˜æŒ‰é’®</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cancelButton</span> = <span class="hljs-literal">null</span>;       <span class="hljs-comment">// å–æ¶ˆæŒ‰é’®</span>

    <span class="hljs-comment">// âœ… è‡ªåŠ¨åˆå§‹åŒ–</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createElement</span>(); <span class="hljs-comment">// DOMå¯¹è±¡åˆ›å»º</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">attachEvent</span>(); <span class="hljs-comment">// ç»‘å®šäº¤äº’äº‹ä»¶</span>
}
</code></pre>
<blockquote>
<p>ğŸ”¥ <strong>å…³é”®è®¤çŸ¥</strong>ï¼š<br/>
<code>this.value</code> æ˜¯ç»„ä»¶çš„ <strong>â€œå”¯ä¸€çœŸå®æ•°æ®æºâ€ï¼ˆSingle Source of Truthï¼‰</strong> ï¼Œæ‰€æœ‰è§†å›¾éƒ½åŸºäºå®ƒæ¸²æŸ“ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-3">ä¸‰ã€æ·±åº¦è§£æï¼šä½ æ›¾é—®è¿‡çš„æ¯ä¸€ä¸ªç»†èŠ‚</h3>
<h4 data-id="heading-4">ğŸ”¹ 1.Â <code>document.createElement('div')</code>Â åˆ°åº•åšäº†ä»€ä¹ˆï¼Ÿ</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">this</span>.<span class="hljs-property">containerElement</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
</code></pre>
<ul>
<li>åœ¨<strong>å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„Â <code>&lt;div&gt;</code>Â å…ƒç´ å¯¹è±¡</strong></li>
<li>æ­¤æ—¶å®ƒ<strong>å°šæœªæŒ‚è½½åˆ°é¡µé¢</strong>ï¼Œç”¨æˆ·ä¸å¯è§</li>
<li>åç»­é€šè¿‡Â <code>appendChild</code>Â å°†å…¶æ’å…¥ DOM æ ‘</li>
</ul>
<blockquote>
<p>ğŸ’¡ <strong>ç±»æ¯”</strong>ï¼šåƒåœ¨çº¸ä¸Šç”»ä¸€ä¸ªç›’å­ï¼Œè¿˜æ²¡è´´åˆ°å¢™ä¸Šã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-5">ğŸ”¹ 2.Â <code>appendChild</code>Â å¦‚ä½•ç»„è£…ç•Œé¢ï¼Ÿ</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">this</span>.<span class="hljs-property">containerElement</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">staticElement</span>);
</code></pre>
<ul>
<li>å°†Â <code>staticElement</code>ï¼ˆ<code>&lt;span&gt;</code>ï¼‰ä½œä¸ºå­èŠ‚ç‚¹æ’å…¥Â <code>containerElement</code>ï¼ˆ<code>&lt;div&gt;</code>ï¼‰</li>
<li>å»ºç«‹çˆ¶å­å…³ç³»ï¼š<code>staticElement.parentNode === containerElement</code></li>
<li>è‹¥çˆ¶å…ƒç´ å·²åœ¨é¡µé¢ä¸Šï¼Œåˆ™å­å…ƒç´ <strong>ç«‹å³æ˜¾ç¤º</strong></li>
</ul>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼š<code>appendChild</code> æ˜¯ <strong>â€œç§»åŠ¨â€è€Œéâ€œå¤åˆ¶â€</strong> ï¼Œä¸€ä¸ª DOM èŠ‚ç‚¹åªèƒ½å­˜åœ¨äºä¸€å¤„ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-6">ğŸ”¹ 3.Â <code>this.value</code>Â åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿä½•æ—¶å˜åŒ–ï¼Ÿ</h4>
<p>è¿™æ˜¯æ•´ä¸ªç»„ä»¶çš„<strong>çµé­‚</strong>ã€‚å®ƒçš„ç”Ÿå‘½å‘¨æœŸå¦‚ä¸‹ï¼š</p>



































<table><thead><tr><th>é˜¶æ®µ</th><th><code>this.value</code>Â çš„å€¼</th><th>æ˜¯å¦æ›´æ–°ï¼Ÿ</th></tr></thead><tbody><tr><td>æ„é€ æ—¶</td><td>ç”¨æˆ·ä¼ å…¥å€¼ï¼Œæˆ–é»˜è®¤æç¤ºè¯­</td><td>âœ… åˆå§‹åŒ–</td></tr><tr><td>æ˜¾ç¤ºæ–‡æœ¬</td><td>ç”¨äºÂ <code>staticElement.textContent</code></td><td>âŒ åªè¯»</td></tr><tr><td>è¿›å…¥ç¼–è¾‘</td><td>ç”¨äºÂ <code>fieldElement.value</code></td><td>âŒ åªè¯»</td></tr><tr><td>ç‚¹å‡»ä¿å­˜</td><td>æ›´æ–°ä¸ºÂ <code>fieldElement.value</code></td><td>âœ…Â <strong>å”¯ä¸€æ›´æ–°ç‚¹</strong></td></tr><tr><td>ç‚¹å‡»å–æ¶ˆ</td><td><strong>ä¿æŒä¸å˜</strong></td><td>âŒ ä¸æ›´æ–°</td></tr></tbody></table>
<blockquote>
<p>âœ… <strong>è®¾è®¡åŸåˆ™</strong>ï¼š</p>
<ul>
<li>â€œå–æ¶ˆâ€ä¸ä¿®æ”¹æ•°æ®</li>
<li>â€œä¿å­˜â€æ‰åŒæ­¥è‰ç¨¿åˆ°æ­£å¼æ•°æ®</li>
<li>æ¯æ¬¡ç¼–è¾‘éƒ½ä»Â <code>this.value</code>Â é‡ç½®è¾“å…¥æ¡†ï¼Œé¿å…æ®‹ç•™</li>
</ul>
</blockquote>
<hr/>
<h4 data-id="heading-7">ğŸ”¹ 4. ä¸ºä»€ä¹ˆç”¨Â <code>textContent</code>Â è€Œä¸æ˜¯Â <code>innerHTML</code>ï¼Ÿ</h4>
<pre><code class="hljs language-ini" lang="ini">// âœ… å®‰å…¨åšæ³•
<span class="hljs-attr">this.staticElement.textContent</span> = this.value<span class="hljs-comment">;</span>

// âŒ å±é™©åšæ³•ï¼ˆé™¤éä½ å®Œå…¨ä¿¡ä»»å†…å®¹ï¼‰<span class="hljs-attr">this.staticElement.innerHTML</span> = this.value<span class="hljs-comment">;</span>
</code></pre>
<ul>
<li><code>innerHTML</code>Â ä¼š<strong>è§£æ HTML</strong>ï¼Œè‹¥Â <code>value</code>Â åŒ…å«Â <code>&lt;script&gt;</code>Â æˆ–Â <code>&lt;img onerror&gt;</code>ï¼Œå¯èƒ½å¼•å‘ XSS æ”»å‡»</li>
<li><code>textContent</code>Â å°†å†…å®¹è§†ä¸º<strong>çº¯æ–‡æœ¬</strong>ï¼Œè‡ªåŠ¨è½¬ä¹‰å°–æ‹¬å·ï¼Œç»å¯¹å®‰å…¨</li>
</ul>
<blockquote>
<p>ğŸ›¡ï¸ <strong>å®‰å…¨ç¬¬ä¸€</strong>ï¼šé™¤éæ˜ç¡®éœ€è¦å¯Œæ–‡æœ¬ï¼Œå¦åˆ™æ°¸è¿œä¼˜å…ˆä½¿ç”¨ <code>textContent</code>ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-8">ğŸ”¹ 5. äº‹ä»¶ç»‘å®šä¸­çš„ç®­å¤´å‡½æ•°ä¸ºä½•å…³é”®ï¼Ÿ</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">this</span>.<span class="hljs-property">staticElement</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">convertToField</span>(); <span class="hljs-comment">// âœ… this æŒ‡å‘ EditInPlace å®ä¾‹</span>
});
</code></pre>
<p>è‹¥ä½¿ç”¨æ™®é€šå‡½æ•°ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">this</span>.<span class="hljs-property">staticElement</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">convertToField</span>(); <span class="hljs-comment">// âŒ this æŒ‡å‘ staticElementï¼ŒæŠ¥é”™ï¼</span>
});
</code></pre>
<ul>
<li>æ™®é€šå‡½æ•°ä¸­ï¼Œ<code>this</code>Â ç”±è°ƒç”¨æ–¹å¼å†³å®šï¼Œäº‹ä»¶å›è°ƒä¸­æŒ‡å‘è§¦å‘å…ƒç´ </li>
<li>ç®­å¤´å‡½æ•°<strong>æ²¡æœ‰è‡ªå·±çš„Â <code>this</code></strong>ï¼Œç»§æ‰¿å¤–å±‚ä½œç”¨åŸŸï¼ˆå³æ„é€ å‡½æ•°ä¸­çš„Â <code>this</code>ï¼‰</li>
</ul>
<blockquote>
<p>ğŸ’¡ è¿™æ˜¯ JavaScript ä¸­ç»å…¸çš„ <strong>â€œthis ä¸¢å¤±â€é—®é¢˜</strong>ï¼Œç®­å¤´å‡½æ•°æ˜¯æœ€ç®€æ´çš„è§£å†³æ–¹æ¡ˆã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-9">ğŸ”¹ ### <code>save()</code>Â ä¸Â <code>cancel()</code>ï¼šä¿å­˜ç¡®è®¤ vs å®‰å…¨å›é€€</h4>
<p>åœ¨å°±åœ°ç¼–è¾‘ç»„ä»¶ä¸­ï¼Œ <strong>â€œä¿å­˜â€å’Œâ€œå–æ¶ˆâ€çœ‹ä¼¼å¯¹ç§°ï¼Œå®åˆ™èŒè´£è¿¥å¼‚</strong>ã€‚å®ƒä»¬å…±åŒæ„æˆäº†ç”¨æˆ·ç¼–è¾‘æ“ä½œçš„é—­ç¯ï¼Œä½†å†…éƒ¨é€»è¾‘å´ä½“ç°äº†æˆªç„¶ä¸åŒçš„æ•°æ®å¤„ç†åŸåˆ™ã€‚</p>
<p>æˆ‘ä»¬å…ˆçœ‹ <code>save</code> æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">save</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">var</span> value = <span class="hljs-variable language_">this</span>.<span class="hljs-property">fieldElement</span>.<span class="hljs-property">value</span>; <span class="hljs-comment">// è¯»å–å½“å‰è¾“å…¥æ¡†ä¸­çš„ç”¨æˆ·è¾“å…¥</span>
    <span class="hljs-comment">// fetchåç«¯å­˜å‚¨ï¼ˆå®é™…é¡¹ç›®ä¸­åº”åœ¨æ­¤å‘é€å¼‚æ­¥è¯·æ±‚ï¼‰</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = value;                  <span class="hljs-comment">// æ›´æ–°æ ¸å¿ƒæ•°æ®</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">staticElement</span>.<span class="hljs-property">innerHTML</span> = value; <span class="hljs-comment">// æ›´æ–°æ˜¾ç¤ºå€¼</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">convertToText</span>();                <span class="hljs-comment">// åˆ‡æ¢å›æ–‡æœ¬æ˜¾ç¤ºçŠ¶æ€</span>
},
</code></pre>
<ul>
<li><strong>ç¬¬1è¡Œ</strong>ï¼šä»è¾“å…¥æ¡†è·å–ç”¨æˆ·è¾“å…¥çš„æ–°å†…å®¹ï¼Œå­˜å…¥å±€éƒ¨å˜é‡Â <code>value</code>ã€‚</li>
<li><strong>å…³é”®èµ‹å€¼</strong>ï¼š<code>this.value = value</code>Â â€”â€” è¿™æ˜¯æ•´ä¸ªç»„ä»¶ä¸­<strong>å”¯ä¸€æ›´æ–°æ ¸å¿ƒæ•°æ®çš„åœ°æ–¹</strong>ã€‚<br/>
<code>this.value</code>Â æ˜¯ç»„ä»¶çš„â€œå”¯ä¸€çœŸå®æ•°æ®æºâ€ï¼Œæ‰€æœ‰è§†å›¾éƒ½åŸºäºå®ƒæ¸²æŸ“ã€‚</li>
<li><strong>è§†å›¾åŒæ­¥</strong>ï¼šé€šè¿‡Â <code>innerHTML</code>Â å°†æ–°å€¼å†™å…¥Â <code>&lt;span&gt;</code>ï¼Œç¡®ä¿åªè¯»çŠ¶æ€ä¸‹æ˜¾ç¤ºæœ€æ–°å†…å®¹ã€‚<br/>
âš ï¸Â <strong>å®‰å…¨æé†’</strong>ï¼šè‹¥å†…å®¹ä¸å¯ä¿¡ï¼Œå»ºè®®æ”¹ç”¨Â <code>textContent</code>Â é˜²æ­¢ XSSã€‚</li>
<li><strong>çŠ¶æ€åˆ‡æ¢</strong>ï¼šè°ƒç”¨Â <code>convertToText()</code>Â éšè—ç¼–è¾‘æ§ä»¶ï¼Œå›å½’ç®€æ´å±•ç¤ºã€‚</li>
</ul>
<p>å†çœ‹ <code>cancel</code> æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">cancel</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">convertToText</span>(); <span class="hljs-comment">// ä»…åˆ‡æ¢åˆ°æ–‡æœ¬æ˜¾ç¤ºçŠ¶æ€</span>
}
</code></pre>
<ul>
<li>
<p><strong>æå…¶ç®€æ´</strong>ï¼šå®ƒ<strong>ä¸åšä»»ä½•æ•°æ®æ“ä½œ</strong>ï¼Œåªè°ƒç”¨Â <code>convertToText()</code>ã€‚</p>
</li>
<li>
<p><strong>è®¾è®¡ç²¾é«“</strong>ï¼š</p>
<ul>
<li>ä¸ä¿®æ”¹Â <code>this.value</code>Â â†’ ä¿ç•™ä¸Šä¸€æ¬¡ç¡®è®¤çš„å†…å®¹</li>
<li>ä¸æ›´æ–°Â <code>&lt;span&gt;</code>Â â†’ è§†å›¾è‡ªç„¶ä¿æŒåŸæ ·</li>
<li>ä¸‹æ¬¡è¿›å…¥ç¼–è¾‘æ—¶ï¼Œ<code>convertToField()</code>Â ä¼šç”¨Â <code>this.value</code>Â é‡ç½®è¾“å…¥æ¡†ï¼Œ<strong>è‡ªåŠ¨ä¸¢å¼ƒè‰ç¨¿</strong></li>
</ul>
</li>
</ul>
<blockquote>
<p>âœ… <strong>æ ¸å¿ƒå·®å¼‚æ€»ç»“</strong>ï¼š</p>























<table><thead><tr><th>æ–¹æ³•</th><th>æ˜¯å¦ä¿®æ”¹Â <code>this.value</code></th><th>æ˜¯å¦æ›´æ–°è§†å›¾å†…å®¹</th><th>ç”¨æˆ·æ„å›¾</th></tr></thead><tbody><tr><td><code>save()</code></td><td>âœ… æ˜¯</td><td>âœ… æ˜¯</td><td>â€œæˆ‘è¦ä¿ç•™è¿™ä¸ªä¿®æ”¹â€</td></tr><tr><td><code>cancel()</code></td><td>âŒ å¦</td><td>âŒ å¦</td><td>â€œæˆ‘ä¸æ”¹äº†ï¼Œæ¢å¤åŸæ ·â€</td></tr></tbody></table>
</blockquote>
<p>è¿™ç§è®¾è®¡å®Œç¾å¥‘åˆç”¨æˆ·å¿ƒç†é¢„æœŸï¼š</p>
<ul>
<li>ç‚¹â€œä¿å­˜â€ â†’ å†…å®¹æ°¸ä¹…ç”Ÿæ•ˆ</li>
<li>ç‚¹â€œå–æ¶ˆâ€ â†’ ä¸€åˆ‡å¦‚åˆï¼Œä»¿ä½›ä»æœªç¼–è¾‘</li>
</ul>
<hr/>
<h3 data-id="heading-10">å››ã€å®Œæ•´åŠŸèƒ½å®ç°</h3>
<p>å½“ç„¶å¯ä»¥ï¼ä»¥ä¸‹æ˜¯å¯¹ <strong>â€œå››ã€å®Œæ•´åŠŸèƒ½å®ç°â€</strong> ç« èŠ‚çš„<strong>å…¨é¢æ¶¦è‰²ä¸æ·±åº¦å®Œå–„ç‰ˆ</strong>ã€‚åœ¨ä¿ç•™ä½ åŸæœ‰ä»£ç ç»“æ„çš„åŸºç¡€ä¸Šï¼Œæˆ‘å¢åŠ äº†ï¼š</p>
<ul>
<li>æ¯ä¸ªæ–¹æ³•çš„<strong>è®¾è®¡ç›®æ ‡ä¸èŒè´£è¯´æ˜</strong></li>
<li>å…³é”®è¡Œçš„<strong>é€è¡Œæ³¨é‡Šè§£æ</strong></li>
<li>ç›¸å…³çš„<strong>å‰ç«¯æ ¸å¿ƒçŸ¥è¯†ç‚¹</strong></li>
<li><strong>å®‰å…¨ã€æ€§èƒ½ã€å¯ç»´æŠ¤æ€§</strong>çš„æœ€ä½³å®è·µå»ºè®®</li>
<li>ä»¥åŠå¯¹æ½œåœ¨é—®é¢˜çš„<strong>é˜²å¾¡æ€§ç¼–ç¨‹æ€è€ƒ</strong></li>
</ul>
<hr/>
<h3 data-id="heading-11">å››ã€å®Œæ•´åŠŸèƒ½å®ç° â€”â€” ä»éª¨æ¶åˆ°è¡€è‚‰</h3>
<p>ä¸€ä¸ªå¥å£®çš„ç»„ä»¶ï¼Œä¸ä»…è¦æœ‰æ­£ç¡®çš„é€»è¾‘ï¼Œæ›´è¦æœ‰æ¸…æ™°çš„èŒè´£åˆ’åˆ†å’Œå·¥ç¨‹æ„è¯†ã€‚ä¸‹é¢æˆ‘ä»¬å°† <code>EditInPlace</code> çš„æ ¸å¿ƒæ–¹æ³•æŒ‰åŠŸèƒ½æ¨¡å—æ‹†è§£ï¼Œé€å±‚è®²è§£å…¶èƒŒåçš„è®¾è®¡å“²å­¦ã€‚</p>
<hr/>
<h4 data-id="heading-12">ğŸ§± 1. åˆ›å»º DOM ç»“æ„ï¼šæ„å»ºç»„ä»¶çš„â€œç‰©ç†è½½ä½“â€</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">createElement</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// åˆ›å»ºå¤–å±‚å®¹å™¨ï¼Œä½œä¸ºç»„ä»¶çš„æ ¹èŠ‚ç‚¹</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">containerElement</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">containerElement</span>.<span class="hljs-property">id</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span>; <span class="hljs-comment">// ä¾¿äºè°ƒè¯•æˆ–å¤–éƒ¨é€‰ä¸­</span>

    <span class="hljs-comment">// === æ–‡æœ¬æ˜¾ç¤ºåŒºï¼ˆåªè¯»çŠ¶æ€ï¼‰===</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">staticElement</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'span'</span>);<span class="hljs-comment">//åˆ›å»ºä¸€ä¸ª&lt;span&gt;å…ƒç´ </span>
        <span class="hljs-comment">// âœ… ä½¿ç”¨ textContent è€Œé innerHTMLï¼Œé˜²æ­¢ XSS æ”»å‡»</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">staticElement</span>.<span class="hljs-property">textContent</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">containerElement</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">staticElement</span>); <span class="hljs-comment">//å°†åˆšåˆ›å»ºçš„ &lt;span&gt; æ·»åŠ ä¸º &lt;div&gt; çš„å­èŠ‚ç‚¹</span>

    <span class="hljs-comment">// === ç¼–è¾‘è¾“å…¥åŒºï¼ˆç¼–è¾‘çŠ¶æ€ï¼‰===</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">fieldElement</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'input'</span>);
        <span class="hljs-comment">// åˆ›å»º&lt;input&gt;å…ƒç´ ç”¨äºç”¨æˆ·è¾“å…¥ï¼Œå¹¶å°†å…¶å¼•ç”¨ä¿å­˜åˆ° this.fieldElementï¼Œ</span>
        <span class="hljs-comment">// ä¾¿äºåç»­è¯»å–å€¼ã€èšç„¦åŠæ§åˆ¶æ˜¾ç¤º/éšè—ç­‰æ“ä½œã€‚</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">fieldElement</span>.<span class="hljs-property">type</span> = <span class="hljs-string">'text'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">fieldElement</span>.<span class="hljs-property">value</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>;
        <span class="hljs-comment">//å°†å½“å‰ç»„ä»¶çš„å€¼ï¼ˆthis.valueï¼‰åŒæ­¥åˆ°è¾“å…¥æ¡†ä¸­ï¼Œä½œä¸ºç¼–è¾‘çš„èµ·ç‚¹ </span>
        <span class="hljs-comment">//ç¡®ä¿ç”¨æˆ·ç‚¹å‡»ç¼–è¾‘æ—¶ï¼Œçœ‹åˆ°çš„æ˜¯æœ€æ–°å†…å®¹ï¼Œè€Œéç©ºæ¡†ã€‚</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">containerElement</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">fieldElement</span>);
       <span class="hljs-comment">//å°†è¾“å…¥æ¡†æ·»åŠ ä¸ºå®¹å™¨çš„å­èŠ‚ç‚¹ï¼Œæˆä¸º DOM æ ‘çš„ä¸€éƒ¨åˆ†</span>

    <span class="hljs-comment">// === åŠŸèƒ½æŒ‰é’®ï¼ˆè¯­ä¹‰åŒ– &amp; å¯è®¿é—®æ€§ï¼‰===</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">saveButton</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'button'</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">saveButton</span>.<span class="hljs-property">textContent</span> = <span class="hljs-string">'ä¿å­˜'</span>;
    <span class="hljs-comment">// å¯é€‰ï¼šæ·»åŠ  type="button" é˜²æ­¢è¡¨å•æ„å¤–æäº¤</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">saveButton</span>.<span class="hljs-property">type</span> = <span class="hljs-string">'button'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">containerElement</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">saveButton</span>);

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cancelButton</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'button'</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cancelButton</span>.<span class="hljs-property">textContent</span> = <span class="hljs-string">'å–æ¶ˆ'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cancelButton</span>.<span class="hljs-property">type</span> = <span class="hljs-string">'button'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">containerElement</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">cancelButton</span>);

    <span class="hljs-comment">// === æŒ‚è½½åˆ°é¡µé¢ ===</span>
    <span class="hljs-comment">// å°†æ•´ä¸ªç»„ä»¶å­æ ‘æ’å…¥ç”¨æˆ·æŒ‡å®šçš„çˆ¶å®¹å™¨</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">parentElement</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">containerElement</span>);

    <span class="hljs-comment">// åˆå§‹åŒ–ä¸ºåªè¯»çŠ¶æ€ï¼ˆéšè—ç¼–è¾‘æ§ä»¶ï¼‰</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">convertToText</span>();
}
</code></pre>
<h5 data-id="heading-13">ğŸ” <strong>å…³é”®çŸ¥è¯†ç‚¹</strong></h5>
<ul>
<li><strong>DOM æ ‘æ„å»º</strong>ï¼šæ‰€æœ‰å…ƒç´ åœ¨å†…å­˜ä¸­åˆ›å»ºåä¸€æ¬¡æ€§æŒ‚è½½ï¼Œå‡å°‘é‡æ’ï¼ˆreflowï¼‰ã€‚</li>
<li><strong>è¯­ä¹‰åŒ– HTML</strong>ï¼š<code>&lt;button&gt;</code> è‡ªå¸¦é”®ç›˜å¯èšç„¦ã€å±å¹•é˜…è¯»å™¨æ”¯æŒï¼Œä¼˜äº <code>&lt;div&gt;</code>ã€‚</li>
<li><strong>å®‰å…¨é»˜è®¤</strong>ï¼š<code>textContent</code> è‡ªåŠ¨è½¬ä¹‰ HTML ç‰¹æ®Šå­—ç¬¦ï¼Œæ˜¯é˜² XSS çš„ç¬¬ä¸€é“é˜²çº¿ã€‚</li>
<li><strong>ID å”¯ä¸€æ€§</strong>ï¼š<code>this.id</code> åº”ç”±è°ƒç”¨è€…ä¿è¯å”¯ä¸€ï¼Œé¿å…å†²çªï¼ˆç”Ÿäº§ä¸­å»ºè®®åŠ å‰ç¼€å¦‚ <code>eip-${id}</code>ï¼‰ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-14">ğŸ”„ 2. çŠ¶æ€åˆ‡æ¢ï¼šç®¡ç†â€œè§†å›¾æ¨¡å¼â€çš„æ ¸å¿ƒå¼•æ“</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// åˆ‡æ¢åˆ°åªè¯»æ–‡æœ¬çŠ¶æ€</span>
<span class="hljs-title function_">convertToText</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// éšè—æ‰€æœ‰ç¼–è¾‘ç›¸å…³å…ƒç´ </span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">fieldElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'none'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">saveButton</span>.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'none'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cancelButton</span>.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'none'</span>;
    
    <span class="hljs-comment">// æ˜¾ç¤ºé™æ€æ–‡æœ¬</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">staticElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'inline'</span>; 
}

<span class="hljs-comment">// åˆ‡æ¢åˆ°å¯ç¼–è¾‘çŠ¶æ€</span>
<span class="hljs-title function_">convertToField</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// éšè—é™æ€æ–‡æœ¬</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">staticElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'none'</span>;
    
    <span class="hljs-comment">// åŒæ­¥æ•°æ®åˆ°è¾“å…¥æ¡†ï¼ˆå…³é”®ï¼ç¡®ä¿æ¯æ¬¡ç¼–è¾‘éƒ½åŸºäºæœ€æ–°å·²ä¿å­˜å€¼ï¼‰</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">fieldElement</span>.<span class="hljs-property">value</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>;
    
    <span class="hljs-comment">// æ˜¾ç¤ºç¼–è¾‘æ§ä»¶</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">fieldElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'inline'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">saveButton</span>.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'inline'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cancelButton</span>.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'inline'</span>;
    
    <span class="hljs-comment">// è‡ªåŠ¨èšç„¦ + å…¨é€‰ï¼ˆæå‡ç”¨æˆ·ä½“éªŒï¼‰</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">fieldElement</span>.<span class="hljs-title function_">focus</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">fieldElement</span>.<span class="hljs-title function_">select</span>(); <span class="hljs-comment">// å¯é€‰ï¼šå…¨é€‰æ–‡æœ¬ï¼Œæ–¹ä¾¿å¿«é€Ÿè¦†ç›–</span>
}
</code></pre>
<h5 data-id="heading-15">ğŸ” <strong>å…³é”®çŸ¥è¯†ç‚¹</strong></h5>
<ul>
<li><strong>çŠ¶æ€é©±åŠ¨è§†å›¾</strong>ï¼šç»„ä»¶åªæœ‰ä¸¤ç§äº’æ–¥çŠ¶æ€ï¼ˆç¼–è¾‘ / åªè¯»ï¼‰ï¼Œé€šè¿‡æ˜¾éšæ§åˆ¶åˆ‡æ¢ã€‚</li>
<li><strong>æ•°æ®ä¸€è‡´æ€§ä¿éšœ</strong>ï¼š<code>this.fieldElement.value = this.value</code> ç¡®ä¿è¾“å…¥æ¡†å§‹ç»ˆåæ˜ <strong>å·²ç¡®è®¤çš„æ•°æ®</strong>ï¼Œè€Œéæ®‹ç•™è‰ç¨¿ã€‚</li>
<li><strong>ç”¨æˆ·ä½“éªŒç»†èŠ‚</strong>ï¼š<code>focus()</code> è®©ç”¨æˆ·æ— éœ€å†ç‚¹ä¸€æ¬¡è¾“å…¥æ¡†ï¼›<code>select()</code> é€‚åˆâ€œæ ‡è¯­ç±»â€çŸ­æ–‡æœ¬åœºæ™¯ã€‚</li>
</ul>
<blockquote>
<p>âš ï¸ <strong>ä¸ºä»€ä¹ˆä¸ç›´æ¥åˆ é™¤/é‡å»º DOMï¼Ÿ</strong><br/>
é¢‘ç¹åˆ›å»º/é”€æ¯ DOM å¼€é”€å¤§ï¼Œä¸”ä¼šä¸¢å¤±ç„¦ç‚¹ã€äº‹ä»¶ç›‘å¬å™¨ç­‰çŠ¶æ€ã€‚<strong>å¤ç”¨ + æ˜¾éš</strong> æ˜¯æ›´é«˜æ•ˆã€ç¨³å®šçš„æ–¹æ¡ˆã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-16">âš¡ 3. äº‹ä»¶ç»‘å®šï¼šè¿æ¥ç”¨æˆ·è¡Œä¸ºä¸ç»„ä»¶é€»è¾‘çš„æ¡¥æ¢</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">attachEvent</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ç‚¹å‡»é™æ€æ–‡æœ¬ â†’ è¿›å…¥ç¼–è¾‘æ¨¡å¼</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">staticElement</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">convertToField</span>();
    });

    <span class="hljs-comment">// ç‚¹å‡»â€œä¿å­˜â€ â†’ è§¦å‘ä¿å­˜é€»è¾‘</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">saveButton</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">save</span>();
    });

    <span class="hljs-comment">// ç‚¹å‡»â€œå–æ¶ˆâ€ â†’ æ”¾å¼ƒä¿®æ”¹ï¼Œå›åˆ°åªè¯»çŠ¶æ€</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cancelButton</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">cancel</span>();
    });
</code></pre>
<h5 data-id="heading-17">ğŸ” <strong>å…³é”®çŸ¥è¯†ç‚¹</strong></h5>
<ul>
<li><strong>ç®­å¤´å‡½æ•°è§£å†³ <code>this</code> ç»‘å®šé—®é¢˜</strong>ï¼š<br/>
æ™®é€šå‡½æ•°ä¸­ <code>this</code> æŒ‡å‘è§¦å‘å…ƒç´ ï¼Œè€Œç®­å¤´å‡½æ•°ç»§æ‰¿å¤–å±‚ä½œç”¨åŸŸï¼ˆå³ç»„ä»¶å®ä¾‹ï¼‰ï¼Œé¿å… <code>this.save is not a function</code> é”™è¯¯ã€‚</li>
<li><strong>äº‹ä»¶å§”æ‰˜ vs ç›´æ¥ç»‘å®š</strong>ï¼šæ­¤å¤„å…ƒç´ å›ºå®šä¸”æ•°é‡å°‘ï¼Œç›´æ¥ç»‘å®šæ›´ç®€å•é«˜æ•ˆã€‚</li>
<li><strong>å¯è®¿é—®æ€§ï¼ˆa11yï¼‰</strong> ï¼š<code>&lt;button&gt;</code> é»˜è®¤æ”¯æŒ Enter/Space è§¦å‘ï¼Œå·²æ»¡è¶³åŸºç¡€äº¤äº’ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-18">ğŸ’¾ 4. ä¿å­˜é€»è¾‘ï¼šä¸šåŠ¡è§„åˆ™ä¸å¼‚æ­¥å¤„ç†çš„äº¤æ±‡ç‚¹</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">save</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params"/>){
        <span class="hljs-keyword">var</span> value = <span class="hljs-variable language_">this</span>.<span class="hljs-property">fieldElement</span>.<span class="hljs-property">value</span>; <span class="hljs-comment">//è¯»å–å½“å‰è¾“å…¥æ¡†ä¸­çš„ç”¨æˆ·è¾“å…¥</span>
        <span class="hljs-comment">// fetchåç«¯å­˜å‚¨</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = value;<span class="hljs-comment">// æ›´æ–°å€¼</span>
        <span class="hljs-comment">//å·¦è¾¹ this.valueï¼šç»„ä»¶å†…éƒ¨æ•°æ®å±æ€§</span>
        <span class="hljs-comment">//å³è¾¹ valueï¼šä¸Šä¸€è¡Œå®šä¹‰çš„å±€éƒ¨å˜é‡ï¼ˆç”¨æˆ·çš„æ–°è¾“å…¥ï¼‰</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">staticElement</span>.<span class="hljs-property">innerHTML</span> = value;<span class="hljs-comment">// æ›´æ–°æ˜¾ç¤ºå€¼</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">convertToText</span>();<span class="hljs-comment">// è½¬æ¢åˆ°æ–‡æœ¬æ˜¾ç¤ºçŠ¶æ€</span>
    },
    <span class="hljs-comment">//å½“ç”¨æˆ·ç‚¹å‡»â€œå–æ¶ˆâ€æŒ‰é’®æ—¶ï¼Œæ”¾å¼ƒå½“å‰æ‰€æœ‰æœªä¿å­˜çš„ä¿®æ”¹ï¼Œç«‹å³å›åˆ°åªè¯»çš„æ–‡æœ¬æ˜¾ç¤ºçŠ¶æ€ã€‚</span>
    <span class="hljs-attr">cancel</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params"/>){ 
        <span class="hljs-comment">// æ‰€æœ‰é€šè¿‡ new EditInPlace(...) åˆ›å»ºçš„å®ä¾‹éƒ½å¯ä»¥è°ƒç”¨ ep.cancel()ã€‚</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">convertToText</span>();<span class="hljs-comment">// è½¬æ¢åˆ°æ–‡æœ¬æ˜¾ç¤ºçŠ¶æ€</span>
    }
</code></pre>
<h5 data-id="heading-19">ğŸ” <strong>å…³é”®çŸ¥è¯†ç‚¹</strong></h5>
<ul>
<li><strong>æ•°æ®ä¸€è‡´æ€§ä¿éšœ</strong>ï¼š<br/>
<code>this.value = value</code> ç¡®ä¿ç»„ä»¶å†…éƒ¨çŠ¶æ€ä¸ç”¨æˆ·è¾“å…¥åŒæ­¥ï¼Œä½œä¸ºåç»­æ˜¾ç¤ºå’Œå–æ¶ˆæ“ä½œçš„å”¯ä¸€ä¾æ®ã€‚</li>
<li><strong>XSS å®‰å…¨éšæ‚£</strong>ï¼š<br/>
ä½¿ç”¨ <code>innerHTML = value</code> ä¼šç›´æ¥æ¸²æŸ“ HTMLï¼Œè‹¥ <code>value</code> åŒ…å«æ¶æ„è„šæœ¬ï¼ˆå¦‚ <code>&lt;script&gt;</code> æˆ–äº‹ä»¶å±æ€§ï¼‰ï¼Œå°†å¯¼è‡´ <strong>è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆXSSï¼‰</strong> ã€‚</li>
<li><strong>å®‰å…¨æ›¿ä»£æ–¹æ¡ˆ</strong>ï¼š<br/>
åº”ä¼˜å…ˆä½¿ç”¨ <code>textContent</code> è€Œé <code>innerHTML</code>ï¼Œå°†ç”¨æˆ·è¾“å…¥å§‹ç»ˆè§†ä¸ºçº¯æ–‡æœ¬ï¼Œè‡ªåŠ¨è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ã€‚</li>
<li><strong>æ— å‰¯ä½œç”¨çš„å–æ¶ˆé€»è¾‘</strong>ï¼š<br/>
<code>cancel()</code> ä»…åˆ‡æ¢è§†å›¾çŠ¶æ€ï¼Œä¸ä¿®æ”¹ <code>this.value</code>ï¼Œç¡®ä¿â€œæ”¾å¼ƒç¼–è¾‘â€è¡Œä¸ºå¯é¢„æµ‹ã€é›¶é£é™©ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-20">ğŸš« 5. å–æ¶ˆé€»è¾‘ï¼šå…‹åˆ¶çš„ä¼˜é›…</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">cancel</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ä»…åˆ‡æ¢è§†å›¾çŠ¶æ€ï¼Œä¸ä¿®æ”¹ä»»ä½•æ•°æ®ï¼</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">convertToText</span>();
}
</code></pre>
<h5 data-id="heading-21">ğŸ” <strong>è®¾è®¡å“²å­¦</strong></h5>
<ul>
<li><strong>é›¶å‰¯ä½œç”¨</strong>ï¼š<code>cancel</code> ä¸è§¦ç¢° <code>this.value</code>ï¼Œç¡®ä¿æ•°æ®å§‹ç»ˆå¹²å‡€ã€‚</li>
<li><strong>å¿ƒç†é¢„æœŸåŒ¹é…</strong>ï¼šç”¨æˆ·ç‚¹å‡»â€œå–æ¶ˆâ€ï¼ŒæœŸæœ›â€œä¸€åˆ‡å¦‚åˆâ€ï¼Œæ­¤è®¾è®¡å®Œç¾å¥‘åˆã€‚</li>
<li><strong>è‡ªåŠ¨ä¸¢å¼ƒè‰ç¨¿</strong>ï¼šä¸‹æ¬¡è¿›å…¥ç¼–è¾‘æ—¶ï¼Œè¾“å…¥æ¡†ä¼šç”¨ <code>this.value</code> é‡ç½®ï¼Œæ®‹ç•™è¾“å…¥è‡ªç„¶æ¶ˆå¤±ã€‚</li>
</ul>
<blockquote>
<p>âœ… <strong>è¿™æ˜¯â€œçŠ¶æ€éš”ç¦»â€æ€æƒ³çš„å…¸èŒƒ</strong>ï¼šè§†å›¾çŠ¶æ€ â‰  æ•°æ®çŠ¶æ€ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-22">äº”ã€ä½¿ç”¨ç¤ºä¾‹ï¼ˆè¡¥å……è¯´æ˜ï¼‰</h3>
<pre><code class="hljs language-js" lang="js">&lt;div id=<span class="hljs-string">"app"</span>&gt;&lt;/div&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./EditInPlace.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå°±åœ°ç¼–è¾‘å®ä¾‹</span>
    <span class="hljs-keyword">const</span> editor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EditInPlace</span>(
        <span class="hljs-string">'user-slogan'</span>,               <span class="hljs-comment">// ç»„ä»¶ IDï¼ˆç”¨äº container.idï¼‰</span>
        <span class="hljs-string">'æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸»é¡µ'</span>,           <span class="hljs-comment">// åˆå§‹æ˜¾ç¤ºæ–‡æœ¬</span>
        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'app'</span>) <span class="hljs-comment">// æŒ‚è½½ç‚¹</span>
    );

    <span class="hljs-comment">// ã€å¯é€‰ã€‘åç»­å¯é€šè¿‡ editor.value è¯»å–å½“å‰å€¼</span>
    <span class="hljs-comment">// console.log(editor.value);</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h5 data-id="heading-23">ğŸ”§ <strong>ä½¿ç”¨æ³¨æ„äº‹é¡¹</strong></h5>
<ul>
<li><code>parentElement</code> å¿…é¡»æ˜¯<strong>å·²å­˜åœ¨äº DOM ä¸­çš„çœŸå®å…ƒç´ </strong></li>
<li>å¤šä¸ªå®ä¾‹éœ€ä½¿ç”¨<strong>ä¸åŒ ID</strong>ï¼Œé¿å…å†²çª</li>
<li>è‹¥éœ€åŠ¨æ€é”€æ¯ï¼Œå»ºè®®åç»­è¡¥å…… <code>destroy()</code> æ–¹æ³•ï¼ˆç§»é™¤ DOM + è§£ç»‘äº‹ä»¶ï¼‰</li>
</ul>
<hr/>
<p>é€šè¿‡ä»¥ä¸Šå®Œå–„ï¼Œä½ çš„ <code>EditInPlace</code> ä¸ä»…åŠŸèƒ½å®Œæ•´ï¼Œæ›´å…·å¤‡äº†<strong>å®‰å…¨æ€§ã€å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§</strong>ï¼ŒçœŸæ­£è¾¾åˆ°äº†â€œç”Ÿäº§çº§â€æ ‡å‡†ã€‚è¿™æ­£æ˜¯å‰ç«¯å·¥ç¨‹åŒ–çš„æ ¸å¿ƒè¿½æ±‚ï¼š<strong>ç”¨æ¸…æ™°çš„ç»“æ„ï¼Œè§£å†³å¤æ‚çš„é—®é¢˜</strong>ã€‚</p>
<h3 data-id="heading-24">å…­ã€æ€»ç»“ï¼šä»ç»„ä»¶ä¸­å­¦åˆ°çš„å‰ç«¯æ ¸å¿ƒæ€æƒ³</h3>

































<table><thead><tr><th>æ¦‚å¿µ</th><th>æœ¬æ–‡ä½“ç°</th></tr></thead><tbody><tr><td><strong>OOP å°è£…</strong></td><td>å±æ€§å­˜çŠ¶æ€ï¼Œæ–¹æ³•ç®¡è¡Œä¸ºï¼Œéšè—å®ç°ç»†èŠ‚</td></tr><tr><td><strong>DOM æ“ä½œ</strong></td><td><code>createElement</code>Â +Â <code>appendChild</code>Â åŠ¨æ€æ„å»ºç•Œé¢</td></tr><tr><td><strong>äº‹ä»¶æœºåˆ¶</strong></td><td><code>addEventListener</code>Â + ç®­å¤´å‡½æ•°è§£å†³Â <code>this</code>Â é—®é¢˜</td></tr><tr><td><strong>æ•°æ®é©±åŠ¨</strong></td><td><code>this.value</code>Â ä½œä¸ºå”¯ä¸€æ•°æ®æºï¼Œä¿è¯ä¸€è‡´æ€§</td></tr><tr><td><strong>å®‰å…¨æ„è¯†</strong></td><td>ç”¨Â <code>textContent</code>Â é˜² XSS</td></tr><tr><td><strong>ç”¨æˆ·ä½“éªŒ</strong></td><td>è‡ªåŠ¨èšç„¦ã€å–æ¶ˆå›é€€ã€æ— å˜åŒ–ä¸ä¿å­˜</td></tr></tbody></table>
<blockquote>
<p>ğŸŒŸ <strong>çœŸæ­£çš„å·¥ç¨‹èƒ½åŠ›ï¼Œä¸åœ¨äºä¼šå¤šå°‘ APIï¼Œè€Œåœ¨äºèƒ½å¦ç”¨æ¸…æ™°ã€å®‰å…¨ã€å¯ç»´æŠ¤çš„æ–¹å¼è§£å†³é—®é¢˜ã€‚</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäºVue3å®ŒæˆåŠ¨æ€ç»„ä»¶åº“å»ºè®¾]]></title>    <link>https://juejin.cn/post/7579832186880180274</link>    <guid>https://juejin.cn/post/7579832186880180274</guid>    <pubDate>2025-12-04T12:40:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579832186880180274" data-draft-id="7579798332778102793" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäºVue3å®ŒæˆåŠ¨æ€ç»„ä»¶åº“å»ºè®¾"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-04T12:40:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Hashan"/> <meta itemprop="url" content="https://juejin.cn/user/3523276916662526"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäºVue3å®ŒæˆåŠ¨æ€ç»„ä»¶åº“å»ºè®¾
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3523276916662526/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Hashan
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T12:40:35.000Z" title="Thu Dec 04 2025 12:40:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸Šä¸€é˜¶æ®µæˆ‘ä»¬åŸºäº DSL é…ç½®å®ç°äº†schema-viewé¡µé¢çš„è‡ªåŠ¨åŒ–æ¸²æŸ“ï¼Œæ ¸å¿ƒè§£å†³äº†é‡å¤æ€§é¡µé¢å¼€å‘çš„æ•ˆç‡é—®é¢˜ã€‚ä½†åœ¨å®é™…ä¸šåŠ¡ä¸­ï¼Œæ–°å¢ã€ç¼–è¾‘ã€åˆ é™¤ã€æŸ¥çœ‹ç­‰äº¤äº’æ“ä½œä»éœ€æ‰‹åŠ¨å¼€å‘ç»„ä»¶ï¼Œå¯¼è‡´å¼€å‘æµç¨‹å‰²è£‚ã€‚æœ¬é˜¶æ®µçš„æ ¸å¿ƒç›®æ ‡æ˜¯ï¼š<strong>åœ¨</strong> <strong>schema-view</strong> <strong>åŸºç¡€ä¸Šï¼Œé€šè¿‡ç»Ÿä¸€é…ç½®å®ç°äº¤äº’ç»„ä»¶çš„åŠ¨æ€åŠ è½½ã€æ¸²æŸ“ä¸é€šä¿¡</strong>ï¼Œè®©æ•´ä¸ªé¡µé¢ä½“ç³»çœŸæ­£å®ç° "é…ç½®å³å¼€å‘"ã€‚</p>
<p>æœ¬æ–‡å°†å›´ç»•ä¸‰ä¸ªæ ¸å¿ƒé—®é¢˜å±•å¼€ï¼š</p>
<ol>
<li>å¦‚ä½•è®¾è®¡åˆç†çš„é…ç½®ä½“ç³»ï¼Œæè¿°ç»„ä»¶çš„ç»“æ„ã€è§¦å‘æ–¹å¼ä¸å­—æ®µå±æ€§ï¼Ÿ</li>
</ol>

<ol start="2">
<li>å¦‚ä½•è§£æé…ç½®å¹¶æå–æœ‰æ•ˆä¿¡æ¯ï¼Œä¸ºåŠ¨æ€æ¸²æŸ“æä¾›æ•°æ®æ”¯æ’‘ï¼Ÿ</li>
</ol>

<ol start="3">
<li>å¦‚ä½•å®ç°ç»„ä»¶çš„åˆ†å±‚æ¸²æŸ“ä¸è·¨å±‚çº§é€šä¿¡ï¼Œä¿è¯æ‰©å±•æ€§ä¸å¯ç»´æŠ¤æ€§ï¼Ÿ</li>
</ol>
<h2 data-id="heading-0">ä¸€ã€é…ç½®ä½“ç³»è®¾è®¡ï¼šç”¨ JSON æè¿°ç»„ä»¶å…¨ç”Ÿå‘½å‘¨æœŸ</h2>
<p>é…ç½®è®¾è®¡çš„æ ¸å¿ƒæ€æƒ³æ˜¯ <strong>"å•ä¸€æ•°æ®æº"</strong>ï¼šé€šè¿‡ä¸€ä¸ªschemaConfigå¯¹è±¡ï¼Œç»Ÿä¸€æè¿°ç»„ä»¶å…ƒä¿¡æ¯ã€è§¦å‘è§„åˆ™ã€å­—æ®µå±æ€§ä¸ API äº¤äº’ï¼Œè®©æ¡†æ¶èƒ½å¤Ÿè‡ªåŠ¨è¯†åˆ« "éœ€è¦ä»€ä¹ˆç»„ä»¶"ã€"ä»€ä¹ˆæ—¶å€™è§¦å‘"ã€"ç»„ä»¶é‡Œæœ‰ä»€ä¹ˆ"ã€"å¦‚ä½•ä¸åç«¯äº¤äº’"ã€‚</p>
<h3 data-id="heading-1">1.1 ç»„ä»¶å…ƒä¿¡æ¯é…ç½®ï¼ˆcomponentConfigï¼‰</h3>
<p>å®šä¹‰åŠ¨æ€ç»„ä»¶çš„åŸºç¡€å±æ€§ï¼ˆæ ‡é¢˜ã€æŒ‰é’®æ–‡æœ¬ã€ä¸»é”®ç­‰ï¼‰ï¼Œä½œä¸ºç»„ä»¶çš„ "èº«ä»½æ ‡è¯†"ï¼š</p>
<pre><code class="hljs language-css" lang="css">schemaConfig: {
  componentConfig: {
    createForm: {
      title: <span class="hljs-string">'æ·»åŠ å•†å“'</span>,
      saveBtnText: <span class="hljs-string">'ä¿å­˜'</span>, // æŒ‰é’®æ–‡æœ¬è‡ªå®šä¹‰
    },
    editForm: {
      mainKey: <span class="hljs-string">'product_id'</span>, // ä¸»é”®å­—æ®µï¼Œç”¨äºæ•°æ®å›æ˜¾
      title: <span class="hljs-string">'ç¼–è¾‘å•†å“'</span>,
      saveBtnText: <span class="hljs-string">'ä¿å­˜'</span>,
    },
    detailPanel: {
      mainKey: <span class="hljs-string">'product_id'</span>,
      title: <span class="hljs-string">'å•†å“è¯¦æƒ…'</span>,
    },
  }
}
</code></pre>
<h3 data-id="heading-2">1.2 è§¦å‘è§„åˆ™é…ç½®ï¼ˆtableConfigï¼‰</h3>
<p>åœ¨è¡¨æ ¼çš„è¡¨å¤´ / è¡Œå°¾æŒ‰é’®ä¸­é…ç½®äº‹ä»¶ï¼ŒæŒ‡å®š "ç‚¹å‡»å“ªä¸ªæŒ‰é’®è§¦å‘å“ªä¸ªç»„ä»¶"ã€‚é€šè¿‡eventKey: 'showComponent'ç»Ÿä¸€è§¦å‘é€»è¾‘ï¼ŒeventOption.comNameå…³è”ç»„ä»¶å…ƒä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-css" lang="css">schemaConfig: {
  tableConfig: {
    // è¡¨å¤´æŒ‰é’®ï¼ˆæ–°å¢æ“ä½œï¼‰
    headerButtons: [{
      <span class="hljs-selector-tag">label</span>: <span class="hljs-string">'æ·»åŠ å•†å“'</span>,
      eventKey: <span class="hljs-string">'showComponent'</span>, // ç»Ÿä¸€è§¦å‘å‡½æ•°
      eventOption: { comName: <span class="hljs-string">'createForm'</span> }, // å…³è”æ–°å¢ç»„ä»¶
      type: <span class="hljs-string">'primary'</span>,
      plain: true
    }],
    // è¡Œå°¾æŒ‰é’®ï¼ˆè¯¦æƒ…/ç¼–è¾‘/åˆ é™¤ï¼‰
    rowButtons: [
      {
        <span class="hljs-selector-tag">label</span>: <span class="hljs-string">'è¯¦æƒ…'</span>,
        eventKey: <span class="hljs-string">'showComponent'</span>,
        eventOption: { comName: <span class="hljs-string">'detailPanel'</span> },
        type: <span class="hljs-string">'primary'</span>
      },
      {
        <span class="hljs-selector-tag">label</span>: <span class="hljs-string">'ä¿®æ”¹'</span>,
        eventKey: <span class="hljs-string">'showComponent'</span>,
        eventOption: { comName: <span class="hljs-string">'editForm'</span> },
        type: <span class="hljs-string">'warning'</span>
      },
      {
        <span class="hljs-selector-tag">label</span>: <span class="hljs-string">'åˆ é™¤'</span>,
        eventKey: <span class="hljs-string">'remove'</span>, // ç‰¹æ®Šäº‹ä»¶ï¼ˆæ— éœ€æ¸²æŸ“ç»„ä»¶ï¼‰
        eventOption: {
          params: { product_id: <span class="hljs-string">'schema::product_id'</span> } // åŠ¨æ€å–å½“å‰è¡Œproduct_id
        },
        type: <span class="hljs-string">'danger'</span>
      }
    ]
  }
}
</code></pre>
<h3 data-id="heading-3">1.3 å­—æ®µå±æ€§é…ç½®ï¼ˆpropertiesï¼‰</h3>
<p>ä¸ºæ¯ä¸ªæ•°æ®å­—æ®µé…ç½® "åœ¨ä¸åŒç»„ä»¶ä¸­çš„è¡¨ç°å½¢å¼"ï¼Œé€šè¿‡xxxOptionï¼ˆå¦‚createFormOptionï¼‰æŒ‡å®šå­—æ®µåœ¨å¯¹åº”ç»„ä»¶ä¸­çš„æ§ä»¶ç±»å‹ã€æ ¡éªŒè§„åˆ™ã€é»˜è®¤å€¼ç­‰ï¼š</p>
<pre><code class="hljs language-css" lang="css">schemaConfig: {
  api: <span class="hljs-string">'/api/proj/product'</span>, // åŸºç¡€APIï¼ˆéµå¾ªRESTè§„èŒƒï¼‰
  properties: {
    product_id: {
      type: <span class="hljs-string">'string'</span>,
      label: <span class="hljs-string">'å•†å“ID'</span>,
      // è¡¨æ ¼ä¸­æ˜¾ç¤ºé…ç½®
      tableOption: { <span class="hljs-attribute">width</span>: <span class="hljs-number">300</span>, <span class="hljs-string">'show-overflow-tooltip'</span>: true },
      // ç¼–è¾‘è¡¨å•ä¸­é…ç½®ï¼ˆç¦ç”¨çŠ¶æ€ï¼‰
      editFormOption: { comType: <span class="hljs-string">'input'</span>, disabled: true },
      // è¯¦æƒ…é¢æ¿ä¸­é…ç½®ï¼ˆä»…å±•ç¤ºï¼‰
      detailPanelOption: {}
    },
    product_name: {
      type: <span class="hljs-string">'string'</span>,
      label: <span class="hljs-string">'å•†å“åç§°'</span>,
      maxLength: <span class="hljs-number">20</span>, // å…¨å±€æ ¡éªŒè§„åˆ™
      minLength: <span class="hljs-number">3</span>,
      tableOption: { <span class="hljs-attribute">width</span>: <span class="hljs-number">200</span> },
      // æœç´¢æ¡†é…ç½®ï¼ˆåŠ¨æ€ä¸‹æ‹‰æ¡†ï¼‰
      searchOption: { comType: <span class="hljs-string">'dynamicSelect'</span>, api: <span class="hljs-string">'/api/proj/product_enum/list'</span> },
      // æ–°å¢è¡¨å•é…ç½®ï¼ˆé»˜è®¤å€¼ï¼‰
      createFormOption: { comType: <span class="hljs-string">'input'</span>, default: <span class="hljs-string">'å“²ç„æ–°è¯¾ç¨‹'</span> },
      editFormOption: { comType: <span class="hljs-string">'input'</span> },
      detailPanelOption: {}
    },
    price: {
      type: <span class="hljs-string">'number'</span>,
      label: <span class="hljs-string">'ä»·æ ¼'</span>,
      maximum: <span class="hljs-number">1000</span>, // æ•°å€¼æ ¡éªŒ
      minimum: <span class="hljs-number">30</span>,
      tableOption: { <span class="hljs-attribute">width</span>: <span class="hljs-number">200</span>, toFixed: <span class="hljs-number">2</span> }, // ä¿ç•™<span class="hljs-number">2</span>ä½å°æ•°
      searchOption: {
        comType: <span class="hljs-string">'select'</span>,
        enumList: [<span class="hljs-comment">/* é™æ€ä¸‹æ‹‰é€‰é¡¹ */</span>]
      },
      createFormOption: { comType: <span class="hljs-string">'inputNumber'</span> }, // æ•°å­—è¾“å…¥æ¡†
      editFormOption: { comType: <span class="hljs-string">'inputNumber'</span> },
      detailPanelOption: {}
    }
  }
}
</code></pre>
<h3 data-id="heading-4">1.4 API äº¤äº’é…ç½®ï¼šREST è§„èŒƒ + åŠ¨æ€å‚æ•°</h3>
<ul>
<li><strong>API å¤ç”¨</strong>ï¼šé€šè¿‡schemaConfig.apié…ç½®åŸºç¡€æ¥å£ï¼Œæ¡†æ¶æ ¹æ®æ“ä½œç±»å‹è‡ªåŠ¨æ˜ å°„ HTTP æ–¹æ³•ï¼ˆæ–°å¢â†’POSTã€ç¼–è¾‘â†’PUTã€åˆ é™¤â†’DELETEã€è¯¦æƒ…â†’GETï¼‰ã€‚</li>
</ul>

<ul>
<li><strong>åŠ¨æ€å‚æ•°</strong>ï¼šé€šè¿‡eventOption.paramsé…ç½®å‚æ•°æ˜ å°„ï¼Œschema::xxxè¯­æ³•è¡¨ç¤ºä»å½“å‰è¡Œæ•°æ®ä¸­å–xxxå­—æ®µå€¼ï¼ˆå¦‚åˆ é™¤æ“ä½œå–product_idï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-5">é…ç½®è®¾è®¡æ€»ç»“</h3>
<p>æ•´ä¸ªé…ç½®ä½“ç³»åˆ†ä¸ºä¸‰å±‚ï¼Œå±‚å±‚é€’è¿›ï¼š</p>
<ol>
<li><strong>ç»„ä»¶å±‚</strong>ï¼ˆcomponentConfigï¼‰ï¼šæè¿°ç»„ä»¶ "æ˜¯ä»€ä¹ˆ"ï¼›</li>
</ol>

<ol start="2">
<li><strong>è§¦å‘å±‚</strong>ï¼ˆtableConfigï¼‰ï¼šæè¿°ç»„ä»¶ "ä½•æ—¶è§¦å‘"ï¼›</li>
</ol>

<ol start="3">
<li><strong>å­—æ®µå±‚</strong>ï¼ˆpropertiesï¼‰ï¼šæè¿°ç»„ä»¶ "åŒ…å«ä»€ä¹ˆ"ï¼›</li>
</ol>

<ol start="4">
<li><strong>API å±‚</strong>ï¼šæè¿°ç»„ä»¶ "å¦‚ä½•ä¸åç«¯äº¤äº’"ã€‚</li>
</ol>
<h2 data-id="heading-6">äºŒã€é…ç½®è§£æï¼šç”¨ HOOK ç»Ÿä¸€å¤„ç†é…ç½®æ•°æ®</h2>
<p>é…ç½®è§£æçš„æ ¸å¿ƒæ˜¯ <strong>"å»å™ªæå–"</strong>ï¼šä»å¤æ‚çš„schemaConfigä¸­è¿‡æ»¤æ— æ•ˆä¿¡æ¯ï¼Œæå–å‡ºæ¯ä¸ªåŠ¨æ€ç»„ä»¶æ‰€éœ€çš„ "å­—æ®µ schema" å’Œ "ç»„ä»¶é…ç½®"ï¼Œå¹¶å°è£…ä¸ºå¯å¤ç”¨çš„ HOOKï¼ˆuseSchemaï¼‰ï¼Œä¾›schema-viewä½¿ç”¨ã€‚</p>
<h3 data-id="heading-7">2.1 HOOK æ ¸å¿ƒåŠŸèƒ½</h3>
<ul>
<li>ç›‘å¬è·¯ç”±å’Œèœå•é…ç½®å˜åŒ–ï¼Œè‡ªåŠ¨é‡å»ºé…ç½®æ•°æ®ï¼›</li>
</ul>

<ul>
<li>åˆ†ç¦»è¡¨æ ¼ã€æœç´¢ã€åŠ¨æ€ç»„ä»¶çš„é…ç½®ï¼Œé¿å…ç›¸äº’å¹²æ‰°ï¼›</li>
</ul>

<ul>
<li>ä¸ºæ¯ä¸ªåŠ¨æ€ç»„ä»¶æ„å»ºç‹¬ç«‹çš„ schemaï¼ˆä»…åŒ…å«è¯¥ç»„ä»¶æ‰€éœ€å­—æ®µï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-8">2.2 å…³é”®ä»£ç å®ç°</h3>
<pre><code class="hljs language-ini" lang="ini">// src/hooks/schema.js
import { ref, watch, onMounted, nextTick } from "vue"<span class="hljs-comment">;</span>
import { useRoute } from "vue-router"<span class="hljs-comment">;</span>
import { useMenuStore } from "@/store/menu.js"<span class="hljs-comment">;</span>
export const <span class="hljs-attr">useSchema</span> = () =&gt; {
  const <span class="hljs-attr">route</span> = useRoute()<span class="hljs-comment">;</span>
  const <span class="hljs-attr">menuStore</span> = useMenuStore()<span class="hljs-comment">;</span>
  // æš´éœ²ç»™å¤–éƒ¨çš„æ•°æ®
  const <span class="hljs-attr">api</span> = ref(<span class="hljs-string">''</span>)<span class="hljs-comment">;</span>
  const <span class="hljs-attr">components</span> = ref({})<span class="hljs-comment">; // åŠ¨æ€ç»„ä»¶é…ç½®ï¼š{ comName: { schema, config } }</span>
  const <span class="hljs-section">[tableSchema, tableConfig, searchSchema, searchConfig]</span> = <span class="hljs-section">[ref({}), ref({}), ref({}), ref({})]</span><span class="hljs-comment">;</span>
  // æ„å»ºé…ç½®æ•°æ®ï¼ˆæ ¸å¿ƒå‡½æ•°ï¼‰
  const <span class="hljs-attr">buildData</span> = () =&gt; {
    const { key, sider_key: siderKey } = route.query<span class="hljs-comment">;</span>
    const <span class="hljs-attr">menuItem</span> = menuStore.findMenuItem({ key: <span class="hljs-string">'key'</span>, value: siderKey ?? key })<span class="hljs-comment">;</span>
    
    if (!menuItem?.schemaConfig) return<span class="hljs-comment">;</span>
    const { schemaConfig } = menuItem<span class="hljs-comment">;</span>
    const <span class="hljs-attr">configSchema</span> = JSON.parse(JSON.stringify(schemaConfig.schema))<span class="hljs-comment">; // æ·±æ‹·è´é¿å…æ±¡æŸ“åŸé…ç½®</span>
    // åˆå§‹åŒ–æ•°æ®
    <span class="hljs-attr">api.value</span> = schemaConfig.api ?? <span class="hljs-string">''</span><span class="hljs-comment">;</span>
    <span class="hljs-section">[tableSchema.value, tableConfig.value, searchSchema.value, searchConfig.value, components.value]</span> = <span class="hljs-section">[{}, {}, {}, {}, {}]</span><span class="hljs-comment">;</span>
    nextTick(() =&gt; {
      // 1. æ„å»ºè¡¨æ ¼é…ç½®
      <span class="hljs-attr">tableSchema.value</span> = buildDtoSchema(configSchema, <span class="hljs-string">'table'</span>)<span class="hljs-comment">;</span>
      <span class="hljs-attr">tableConfig.value</span> = schemaConfig.tableConfig<span class="hljs-comment">;</span>
      // 2. æ„å»ºæœç´¢é…ç½®ï¼ˆæ”¯æŒè·¯ç”±å‚æ•°å›æ˜¾ï¼‰
      const <span class="hljs-attr">searchDto</span> = buildDtoSchema(configSchema, <span class="hljs-string">'search'</span>)<span class="hljs-comment">;</span>
      Object.keys(searchDto.properties).forEach(<span class="hljs-attr">key</span> =&gt; {
        if (route.query<span class="hljs-section">[key]</span> !== undefined) {
          searchDto.properties<span class="hljs-section">[key]</span>.<span class="hljs-attr">option.default</span> = route.query[key]<span class="hljs-comment">;</span>
        }
      })<span class="hljs-comment">;</span>
      <span class="hljs-attr">searchSchema.value</span> = searchDto<span class="hljs-comment">;</span>
      <span class="hljs-attr">searchConfig.value</span> = schemaConfig.searchConfig<span class="hljs-comment">;</span>
      // 3. æ„å»ºåŠ¨æ€ç»„ä»¶é…ç½®ï¼ˆæ ¸å¿ƒï¼‰
      const { componentConfig } = schemaConfig<span class="hljs-comment">;</span>
      if (componentConfig &amp;&amp; Object.keys(componentConfig).length) {
        const <span class="hljs-attr">coms</span> = {}<span class="hljs-comment">;</span>
        Object.keys(componentConfig).forEach(<span class="hljs-attr">comName</span> =&gt; {
          coms<span class="hljs-section">[comName]</span> = {
            schema: buildDtoSchema(configSchema, comName), // ä»…æå–è¯¥ç»„ä»¶æ‰€éœ€å­—æ®µ
            config: componentConfig<span class="hljs-section">[comName]</span>
          }<span class="hljs-comment">;</span>
        })<span class="hljs-comment">;</span>
        <span class="hljs-attr">components.value</span> = coms<span class="hljs-comment">;</span>
      }
    })<span class="hljs-comment">;</span>
  }<span class="hljs-comment">;</span>
  // é€šç”¨schemaæ„å»ºï¼šè¿‡æ»¤æŒ‡å®šç»„ä»¶çš„å­—æ®µï¼ˆå»å™ªï¼‰
  const <span class="hljs-attr">buildDtoSchema</span> = (_schema, comName) =&gt; {
    if (!_schema?.properties) return { type: 'object', properties: {} }<span class="hljs-comment">;</span>
    const <span class="hljs-attr">dtoSchema</span> = { type: <span class="hljs-string">'object'</span>, properties: {} }<span class="hljs-comment">;</span>
    Object.keys(_schema.properties).forEach(<span class="hljs-attr">key</span> =&gt; {
      const <span class="hljs-attr">props</span> = _schema.properties[key]<span class="hljs-comment">;</span>
      // åªä¿ç•™åŒ…å«å½“å‰ç»„ä»¶Optionçš„å­—æ®µï¼ˆå¦‚createFormOptionï¼‰
      if (props<span class="hljs-section">[`${comName}Option`]</span>) {
        // æå–éOptionå±æ€§ï¼ˆtypeã€labelã€maxLengthç­‰ï¼‰
        const <span class="hljs-attr">baseProps</span> = Object.fromEntries(
          Object.entries(props).filter((<span class="hljs-section">[k]</span>) =&gt; !k.includes('Option'))
        )<span class="hljs-comment">;</span>
        // åˆå¹¶ç»„ä»¶ä¸“å±é…ç½®ï¼ˆxxxOptionï¼‰
        const <span class="hljs-attr">dtoProps</span> = {
          ...baseProps,
          option: props<span class="hljs-section">[`${comName}Option`]</span>,
          required: _schema.required?.includes(key) // æ ‡è®°å¿…å¡«å­—æ®µ
        }<span class="hljs-comment">;</span>
        dtoSchema.properties<span class="hljs-section">[key]</span> = dtoProps<span class="hljs-comment">;</span>
      }
    })<span class="hljs-comment">;</span>
    return dtoSchema<span class="hljs-comment">;</span>
  }<span class="hljs-comment">;</span>
  // ç›‘å¬ä¾èµ–å˜åŒ–ï¼Œè‡ªåŠ¨é‡å»ºé…ç½®
  watch(<span class="hljs-section">[() =&gt; route.query, () =&gt; menuStore.menuList]</span>, buildData, { deep: true })<span class="hljs-comment">;</span>
  onMounted(buildData)<span class="hljs-comment">;</span>
  return { api, tableSchema, tableConfig, searchSchema, searchConfig, components }<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
</code></pre>
<h2 data-id="heading-9">ä¸‰ã€åˆ†å±‚æ¸²æŸ“ï¼šä»é¡¶å±‚åˆ°åº•å±‚çš„åŠ¨æ€ç»„ä»¶å®ç°</h2>
<p>æ¸²æŸ“è®¾è®¡éµå¾ª <strong>"åˆ†å±‚è§£è€¦"</strong> åŸåˆ™ï¼Œå°†ç»„ä»¶åˆ†ä¸ºä¸‰å±‚ï¼šé¡¶å±‚å®¹å™¨ï¼ˆschema-viewï¼‰ã€ä¸­é—´å±‚ç»„ä»¶ï¼ˆæ–°å¢ / ç¼–è¾‘ / è¯¦æƒ…ï¼‰ã€åº•å±‚å­—æ®µæ§ä»¶ï¼ˆè¾“å…¥æ¡† / ä¸‹æ‹‰æ¡†ç­‰ï¼‰ï¼Œæ¯å±‚è´Ÿè´£ä¸åŒèŒè´£ï¼Œé€šè¿‡ Vue çš„åŠ¨æ€ç»„ä»¶ï¼ˆï¼‰å®ç°çµæ´»æ¸²æŸ“ã€‚</p>
<h3 data-id="heading-10">3.1 ç›®å½•ç»“æ„è®¾è®¡</h3>
<pre><code class="hljs language-python" lang="python">src/
â”œâ”€â”€ pages/
â”‚   â””â”€â”€ dashboard/
â”‚       â””â”€â”€ <span class="hljs-built_in">complex</span>-view/
â”‚           â””â”€â”€ schema-view/
â”‚               â”œâ”€â”€ schema-view.vue       <span class="hljs-comment"># é¡¶å±‚å®¹å™¨</span>
â”‚               â””â”€â”€ components/           <span class="hljs-comment"># ä¸­é—´å±‚ç»„ä»¶</span>
â”‚                   â”œâ”€â”€ create-form/
â”‚                   â”œâ”€â”€ edit-form/
â”‚                   â”œâ”€â”€ detail-panel/
â”‚                   â””â”€â”€ component-config.js <span class="hljs-comment"># ä¸­é—´å±‚ç»„ä»¶æ˜ å°„</span>
â””â”€â”€ widgets/
    â””â”€â”€ schema-form/                     <span class="hljs-comment"># åº•å±‚å­—æ®µæ§ä»¶</span>
        â”œâ”€â”€ schema-form.vue              <span class="hljs-comment"># å­—æ®µå®¹å™¨</span>
        â”œâ”€â”€ form-item-config.js          <span class="hljs-comment"># æ§ä»¶æ˜ å°„</span>
        â””â”€â”€ components/                  <span class="hljs-comment"># å…·ä½“æ§ä»¶ï¼ˆinput/selectç­‰ï¼‰</span>
</code></pre>
<h3 data-id="heading-11">3.2 é¡¶å±‚æ¸²æŸ“ï¼šschema-view.vue</h3>
<p>ä½œä¸ºå®¹å™¨ï¼Œè´Ÿè´£åŠ è½½ä¸­é—´å±‚ç»„ä»¶ï¼Œç®¡ç†ç»„ä»¶çŠ¶æ€ä¸äº‹ä»¶åˆ†å‘ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- åŠ¨æ€æ¸²æŸ“ä¸­é—´å±‚ç»„ä»¶ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">component</span>
    <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item, comName) in components"</span>
    <span class="hljs-attr">:key</span>=<span class="hljs-string">"comName"</span>
    <span class="hljs-attr">:is</span>=<span class="hljs-string">"ComponentConfig[comName]?.component"</span>
    <span class="hljs-attr">ref</span>=<span class="hljs-string">"comListRef"</span>
    @<span class="hljs-attr">command</span>=<span class="hljs-string">"handleComponentCommand"</span>
  &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">component</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, provide } <span class="hljs-keyword">from</span> <span class="hljs-string">"vue"</span>;
<span class="hljs-keyword">import</span> { useSchema } <span class="hljs-keyword">from</span> <span class="hljs-string">"@/hooks/schema.js"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ComponentConfig</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./components/component-config.js"</span>;
<span class="hljs-comment">// è·å–è§£æåçš„é…ç½®</span>
<span class="hljs-keyword">const</span> { api, components } = <span class="hljs-title function_">useSchema</span>();
<span class="hljs-comment">// æä¾›å…¨å±€æ•°æ®ï¼ˆä¾›å­ç»„ä»¶æ³¨å…¥ï¼‰</span>
<span class="hljs-title function_">provide</span>(<span class="hljs-string">"schemaViewData"</span>, { api, components });
<span class="hljs-comment">// ç»„ä»¶å¼•ç”¨é›†åˆ</span>
<span class="hljs-keyword">const</span> comListRef = <span class="hljs-title function_">ref</span>([]);
<span class="hljs-comment">// å¤„ç†å­ç»„ä»¶äº‹ä»¶ï¼ˆå¦‚ä¿å­˜ååˆ·æ–°è¡¨æ ¼ï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleComponentCommand</span> = (<span class="hljs-params">{ event, params }</span>) =&gt; {
  <span class="hljs-keyword">if</span> (event === <span class="hljs-string">"loadTableData"</span>) {
    <span class="hljs-comment">// è§¦å‘è¡¨æ ¼åˆ·æ–°é€»è¾‘</span>
    <span class="hljs-title function_">emit</span>(<span class="hljs-string">"refreshTable"</span>);
  }
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-12">3.3 ä¸­é—´å±‚æ¸²æŸ“ï¼šæ–°å¢ / ç¼–è¾‘ / è¯¦æƒ…ç»„ä»¶</h3>
<p>ä¸­é—´å±‚ç»„ä»¶æ˜¯ "ç»„ä»¶æ¡†æ¶"ï¼Œè´Ÿè´£å¸ƒå±€ï¼ˆæŠ½å±‰ / å¼¹çª—ï¼‰ã€æŒ‰é’®äº‹ä»¶ï¼ˆä¿å­˜ / å…³é—­ï¼‰ã€è¡¨å•æ¸²æŸ“ï¼Œé€šè¿‡schema-formç»„ä»¶åŠ è½½åº•å±‚å­—æ®µæ§ä»¶ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;!-- create-form/create-form.vue --&gt;
&lt;template&gt;
  &lt;el-drawer
    <span class="hljs-attr">v-model</span>=<span class="hljs-string">"isShow"</span>
    <span class="hljs-attr">direction</span>=<span class="hljs-string">"rtl"</span>
    :<span class="hljs-attr">destroy-on-close</span>=<span class="hljs-string">"true"</span>
    :<span class="hljs-attr">size</span>=<span class="hljs-string">"550"</span>
  &gt;
    &lt;template <span class="hljs-comment">#header&gt;</span>
      &lt;h2 <span class="hljs-attr">class</span>=<span class="hljs-string">"title"</span>&gt;{{ title }}&lt;/h2&gt;
    &lt;/template&gt;
    &lt;schema-form
      <span class="hljs-attr">ref</span>=<span class="hljs-string">"schemaFormRef"</span>
      <span class="hljs-attr">v-loading</span>=<span class="hljs-string">"loading"</span>
      :<span class="hljs-attr">schema</span>=<span class="hljs-string">"components[name]?.schema"</span>
    /&gt;
    &lt;template <span class="hljs-comment">#footer&gt;</span>
      &lt;el-button <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> @click=<span class="hljs-string">"save"</span>&gt;{{ saveBtnText }}&lt;/el-button&gt;
    &lt;/template&gt;
  &lt;/el-drawer&gt;
&lt;/template&gt;
&lt;script setup&gt;
import { ref, inject } from "vue"<span class="hljs-comment">;</span>
import { ElNotification } from "element-plus"<span class="hljs-comment">;</span>
import $curl from "@/common/curl.js"<span class="hljs-comment">;</span>
import SchemaForm from "@/widgets/schema-form/schema-form.vue"<span class="hljs-comment">;</span>
// æ³¨å…¥é¡¶å±‚æ•°æ®
const { api, components } = inject("schemaViewData")<span class="hljs-comment">;</span>
const <span class="hljs-attr">emit</span> = defineEmits([<span class="hljs-string">"command"</span>])<span class="hljs-comment">;</span>
const <span class="hljs-attr">name</span> = ref(<span class="hljs-string">"createForm"</span>)<span class="hljs-comment">;</span>
const <span class="hljs-attr">schemaFormRef</span> = ref(null)<span class="hljs-comment">;</span>
const <span class="hljs-section">[isShow, loading, title, saveBtnText]</span> = <span class="hljs-section">[ref(false), ref(false), ref(""), ref("")]</span><span class="hljs-comment">;</span>
// æ˜¾ç¤ºç»„ä»¶ï¼ˆä¾›é¡¶å±‚è°ƒç”¨ï¼‰
const <span class="hljs-attr">show</span> = () =&gt; {
  const { config } = components.value<span class="hljs-section">[name.value]</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">title.value</span> = config.title<span class="hljs-comment">;</span>
  <span class="hljs-attr">saveBtnText.value</span> = config.saveBtnText<span class="hljs-comment">;</span>
  <span class="hljs-attr">isShow.value</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
// ä¿å­˜é€»è¾‘ï¼ˆéµå¾ªRESTè§„èŒƒï¼‰
const <span class="hljs-attr">save</span> = async () =&gt; {
  if (loading.value || !schemaFormRef.value.validate()) return<span class="hljs-comment">;</span>
  <span class="hljs-attr">loading.value</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
  try {
    const <span class="hljs-attr">res</span> = await <span class="hljs-variable">$curl</span>({
      method: "post",
      url: api.value,
      data: schemaFormRef.value.getValue()
    })<span class="hljs-comment">;</span>
    if (res.success) {
      ElNotification({ title: "åˆ›å»ºæˆåŠŸ", type: "success" })<span class="hljs-comment">;</span>
      <span class="hljs-attr">isShow.value</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
      emit("command", { event: "loadTableData" })<span class="hljs-comment">; // é€šçŸ¥é¡¶å±‚åˆ·æ–°è¡¨æ ¼</span>
    }
  } finally {
    <span class="hljs-attr">loading.value</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
  }
}<span class="hljs-comment">;</span>
// æš´éœ²showæ–¹æ³•ï¼ˆä¾›é¡¶å±‚è°ƒç”¨ï¼‰
defineExpose({ name, show })<span class="hljs-comment">;</span>
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-13">3.4 åº•å±‚æ¸²æŸ“ï¼šschema-formå­—æ®µæ§ä»¶</h3>
<p>åº•å±‚ç»„ä»¶è´Ÿè´£æ¸²æŸ“å…·ä½“çš„è¡¨å•å­—æ®µï¼ˆè¾“å…¥æ¡†ã€ä¸‹æ‹‰æ¡†ç­‰ï¼‰ï¼Œé€šè¿‡form-item-config.jsç»Ÿä¸€ç®¡ç†æ§ä»¶æ˜ å°„ï¼Œæ”¯æŒè‡ªå®šä¹‰æ§ä»¶æ‰©å±•ï¼š</p>
<pre><code class="hljs language-css" lang="css">// widgets/schema-<span class="hljs-selector-tag">form</span>/<span class="hljs-selector-tag">form</span>-item-config<span class="hljs-selector-class">.js</span>
import <span class="hljs-selector-tag">Input</span> <span class="hljs-selector-tag">from</span> "./components/<span class="hljs-selector-tag">input</span><span class="hljs-selector-class">.vue</span>";
import InputNumber <span class="hljs-selector-tag">from</span> "./components/<span class="hljs-selector-tag">input</span>-number<span class="hljs-selector-class">.vue</span>";
import Select <span class="hljs-selector-tag">from</span> "./components/select<span class="hljs-selector-class">.vue</span>";
import DynamicSelect <span class="hljs-selector-tag">from</span> "./components/dynamic-select<span class="hljs-selector-class">.vue</span>";
export default {
  <span class="hljs-selector-tag">input</span>: { component: Input },
  inputNumber: { component: InputNumber },
  select: { component: Select },
  dynamicSelect: { component: DynamicSelect }
};
</code></pre>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- widgets/schema-form/schema-form.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-row</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"schema-form"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(fieldSchema, key) in schema.properties"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"key"</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- åŠ¨æ€æ¸²æŸ“å­—æ®µæ§ä»¶ --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">component</span>
        <span class="hljs-attr">v-show</span>=<span class="hljs-string">"fieldSchema.option.visible !== false"</span>
        <span class="hljs-attr">:is</span>=<span class="hljs-string">"FormItemConfig[fieldSchema.option.comType].component"</span>
        <span class="hljs-attr">:schema-key</span>=<span class="hljs-string">"key"</span>
        <span class="hljs-attr">:schema</span>=<span class="hljs-string">"fieldSchema"</span>
        <span class="hljs-attr">v-model</span>=<span class="hljs-string">"formModel[key]"</span>
      /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">el-row</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<h2 data-id="heading-14">å››ã€ç»„ä»¶é€šä¿¡æœºåˆ¶ï¼šè·¨å±‚çº§çš„æ•°æ®ä¼ é€’ä¸äº‹ä»¶è”åŠ¨â€‹</h2>
<p>åŠ¨æ€ç»„ä»¶åº“ä¸­å­˜åœ¨ä¸‰å±‚ç»„ä»¶ç»“æ„ï¼Œé€šä¿¡éœ€æ±‚ä¸»è¦åˆ†ä¸ºä¸¤ç±»ï¼š<strong>æ•°æ®å‘ä¸‹ä¼ é€’</strong>ï¼ˆé…ç½®ã€APIåœ°å€ç­‰ï¼‰å’Œ<strong>äº‹ä»¶å‘ä¸Šä¼ é€’</strong>ï¼ˆä¿å­˜æˆåŠŸã€å…³é—­ç»„ä»¶ç­‰ï¼‰ã€‚æˆ‘ä»¬é€šè¿‡Vueçš„<code>provide/inject</code>å’Œ<code>emit</code>å®ç°å…¨é“¾è·¯é€šä¿¡ï¼Œé¿å…å±‚å±‚propsä¼ é€’çš„å†—ä½™ã€‚â€‹</p>
<p>â€‹</p>
<h3 data-id="heading-15">4.1 æ•°æ®å‘ä¸‹ä¼ é€’ï¼šprovide/injectç©¿é€ä¼ é€’â€‹</h3>
<p>é¡¶å±‚å®¹å™¨ï¼ˆ<code>schema-view</code>ï¼‰é€šè¿‡<code>provide</code>æä¾›å…¨å±€æ•°æ®ï¼ˆAPIåœ°å€ã€ç»„ä»¶é…ç½®ç­‰ï¼‰ï¼Œä¸­é—´å±‚ç»„ä»¶ï¼ˆå¦‚<code>create-form</code>ï¼‰å’Œåº•å±‚ç»„ä»¶ï¼ˆ<code>schema-form</code>ï¼‰é€šè¿‡<code>inject</code>ç›´æ¥è·å–ï¼Œæ— éœ€é€å±‚ä¼ é€’ï¼šâ€‹</p>
<pre><code class="hljs language-js" lang="js">
<span class="hljs-comment">// é¡¶å±‚ï¼šschema-view.vue æä¾›æ•°æ®â€‹</span>

<span class="hljs-keyword">import</span> { provide } <span class="hljs-keyword">from</span> <span class="hljs-string">"vue"</span>;â€‹

<span class="hljs-keyword">import</span> { useSchema } <span class="hljs-keyword">from</span> <span class="hljs-string">"@/hooks/schema.js"</span>;â€‹

â€‹

<span class="hljs-keyword">const</span> { api, components } = <span class="hljs-title function_">useSchema</span>();â€‹

<span class="hljs-title function_">provide</span>(<span class="hljs-string">"schemaGlobalData"</span>, {â€‹

api, <span class="hljs-comment">// åŸºç¡€APIåœ°å€â€‹</span>

components, <span class="hljs-comment">// åŠ¨æ€ç»„ä»¶é…ç½®â€‹</span>

<span class="hljs-attr">tableRefresh</span>: <span class="hljs-function">() =&gt;</span> { <span class="hljs-comment">/* è¡¨æ ¼åˆ·æ–°å‡½æ•° */</span> } <span class="hljs-comment">// å…¨å±€æ–¹æ³•â€‹</span>

});â€‹

â€‹

<span class="hljs-comment">// ä¸­é—´å±‚ï¼šcreate-form.vue æ³¨å…¥æ•°æ®â€‹</span>

<span class="hljs-keyword">import</span> { inject } <span class="hljs-keyword">from</span> <span class="hljs-string">"vue"</span>;â€‹

<span class="hljs-keyword">const</span> { api, components } = <span class="hljs-title function_">inject</span>(<span class="hljs-string">"schemaGlobalData"</span>);â€‹

â€‹

<span class="hljs-comment">// åº•å±‚ï¼šschema-form.vue æ³¨å…¥æ•°æ®ï¼ˆå¦‚éœ€ï¼‰â€‹</span>

<span class="hljs-keyword">const</span> { api } = <span class="hljs-title function_">inject</span>(<span class="hljs-string">"schemaGlobalData"</span>);
</code></pre>
<h3 data-id="heading-16">4.2 äº‹ä»¶å‘ä¸Šä¼ é€’ï¼šemit + æš´éœ²æ¥å£åŒæœºåˆ¶â€‹</h3>
<p>4.2.1 äº‹ä»¶å†’æ³¡ï¼ˆemitï¼‰â€‹</p>
<p>ä¸­é—´å±‚ç»„ä»¶é€šè¿‡emitè§¦å‘äº‹ä»¶ï¼Œé¡¶å±‚å®¹å™¨ç›‘å¬å¹¶å¤„ç†ï¼ˆå¦‚ä¿å­˜æˆåŠŸååˆ·æ–°è¡¨æ ¼ï¼‰ï¼š</p>
<pre><code class="hljs language-js" lang="js">    <span class="hljs-comment">// ä¸­é—´å±‚ï¼šcreate-form.vue è§¦å‘äº‹ä»¶â€‹</span>

<span class="hljs-keyword">const</span> emit = <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">"command"</span>]);â€‹

<span class="hljs-keyword">const</span> <span class="hljs-title function_">save</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {â€‹

<span class="hljs-comment">// ä¿å­˜é€»è¾‘...â€‹</span>

<span class="hljs-title function_">emit</span>(<span class="hljs-string">"command"</span>, { â€‹

<span class="hljs-attr">event</span>: <span class="hljs-string">"tableRefresh"</span>, <span class="hljs-comment">// äº‹ä»¶ç±»å‹â€‹</span>

<span class="hljs-attr">params</span>: { <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span> } <span class="hljs-comment">// é™„åŠ å‚æ•°â€‹</span>

});â€‹

};â€‹

â€‹

<span class="hljs-comment">// é¡¶å±‚ï¼šschema-view.vue ç›‘å¬äº‹ä»¶â€‹</span>

&lt;componentâ€‹

v-<span class="hljs-keyword">for</span>=<span class="hljs-string">"(item, comName) in components"</span>â€‹

:key=<span class="hljs-string">"comName"</span>â€‹

:is=<span class="hljs-string">"ComponentConfig[comName]?.component"</span>â€‹

@command=<span class="hljs-string">"handleComponentCommand"</span>â€‹

/&gt;â€‹

â€‹

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleComponentCommand</span> = (<span class="hljs-params">{ event, params }</span>) =&gt; {â€‹

<span class="hljs-keyword">if</span> (event === <span class="hljs-string">"tableRefresh"</span>) {â€‹

<span class="hljs-comment">// æ‰§è¡Œè¡¨æ ¼åˆ·æ–°é€»è¾‘â€‹</span>

<span class="hljs-title function_">tableRefresh</span>();â€‹

}â€‹

};
</code></pre>
<p>4.2.2 ç»„ä»¶æ¥å£æš´éœ²ï¼ˆdefineExposeï¼‰â€‹</p>
<p>é¡¶å±‚å®¹å™¨é€šè¿‡refè·å–ä¸­é—´å±‚ç»„ä»¶çš„å®ä¾‹ï¼Œç›´æ¥è°ƒç”¨ç»„ä»¶çš„æ–¹æ³•ï¼ˆå¦‚ä¸»åŠ¨æ˜¾ç¤ºç¼–è¾‘è¡¨å•å¹¶å›æ˜¾æ•°æ®ï¼‰ï¼š
â€‹</p>
<pre><code class="hljs language-js" lang="js">&lt;componentâ€‹

<span class="hljs-keyword">const</span> comRefs = <span class="hljs-title function_">ref</span>({}); <span class="hljs-comment">// ç»„ä»¶å®ä¾‹é›†åˆâ€‹</span>

â€‹

<span class="hljs-comment">// ç¼–è¾‘æŒ‰é’®ç‚¹å‡»ï¼šä¸»åŠ¨è°ƒç”¨edit-formçš„showæ–¹æ³•å¹¶ä¼ å‚â€‹</span>

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleEdit</span> = (<span class="hljs-params">row</span>) =&gt; {â€‹

<span class="hljs-keyword">const</span> editCom = comRefs.<span class="hljs-property">value</span>.<span class="hljs-property">editForm</span>;â€‹

<span class="hljs-keyword">if</span> (editCom) {â€‹

editCom.<span class="hljs-title function_">show</span>({ â€‹

<span class="hljs-attr">data</span>: row, <span class="hljs-comment">// å›æ˜¾æ•°æ®ï¼ˆå¦‚product_idã€product_nameï¼‰â€‹</span>

<span class="hljs-attr">callback</span>: <span class="hljs-function">() =&gt;</span> { <span class="hljs-comment">/* ç¼–è¾‘å®Œæˆå›è°ƒ */</span> }â€‹

});â€‹

}â€‹

};â€‹

&lt;/script&gt;â€‹

â€‹

&lt;!-- ä¸­é—´å±‚ï¼šedit-form.<span class="hljs-property">vue</span> æš´éœ²showæ–¹æ³• --&gt;â€‹

&lt;script setup&gt;â€‹

<span class="hljs-keyword">const</span> <span class="hljs-title function_">show</span> = (<span class="hljs-params">options</span>) =&gt; {â€‹

<span class="hljs-keyword">const</span> { data } = options;â€‹

<span class="hljs-comment">// æ•°æ®å›æ˜¾åˆ°è¡¨å•â€‹</span>

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(data).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> {â€‹

formModel.<span class="hljs-property">value</span>[key] = data[key];â€‹

});â€‹

isShow.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>;â€‹

};â€‹

â€‹

<span class="hljs-title function_">defineExpose</span>({ show }); <span class="hljs-comment">// æš´éœ²æ–¹æ³•ç»™é¡¶å±‚è°ƒç”¨â€‹</span>

&lt;/script&gt;
</code></pre>
<h2 data-id="heading-17">äº”ã€æ–¹æ¡ˆæ€»ç»“ä¸æ‰©å±•å»ºè®®â€‹</h2>
<ol>
<li>é…ç½®é©±åŠ¨å¼€å‘ï¼šé€šè¿‡ JSON é…ç½®å®ç°ç»„ä»¶çš„åŠ¨æ€æ¸²æŸ“ï¼Œæ–°å¢ä¸šåŠ¡é¡µé¢æ— éœ€ç¼–å†™ç»„ä»¶ä»£ç ï¼Œä»…éœ€é…ç½®schemaConfigï¼›â€‹</li>
</ol>

<ol start="2">
<li>åˆ†å±‚è§£è€¦ï¼šä¸‰å±‚ç»„ä»¶ç»“æ„èŒè´£æ¸…æ™°ï¼ˆé¡¶å±‚å®¹å™¨ã€ä¸­é—´å±‚æ¡†æ¶ã€åº•å±‚æ§ä»¶ï¼‰ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•ï¼›â€‹</li>
</ol>

<ol start="3">
<li>é€šä¿¡é«˜æ•ˆï¼šç»“åˆprovide/injectå’Œemitï¼Œå®ç°è·¨å±‚çº§é€šä¿¡ï¼Œé¿å…å†—ä½™çš„ props ä¼ é€’ï¼›â€‹</li>
</ol>

<ol start="4">
<li>è§„èŒƒç»Ÿä¸€ï¼šAPI äº¤äº’éµå¾ª REST è§„èŒƒï¼Œç»„ä»¶é…ç½®éµå¾ªç»Ÿä¸€æ ¼å¼ï¼Œé™ä½å›¢é˜Ÿåä½œæˆæœ¬ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript å°è£…æ— æ„Ÿ token åˆ·æ–°]]></title>    <link>https://juejin.cn/post/7579813925996052521</link>    <guid>https://juejin.cn/post/7579813925996052521</guid>    <pubDate>2025-12-04T12:42:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579813925996052521" data-draft-id="7579846685070524470" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScript å°è£…æ— æ„Ÿ token åˆ·æ–°"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-04T12:42:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Jingyou"/> <meta itemprop="url" content="https://juejin.cn/user/3167069035309015"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScript å°è£…æ— æ„Ÿ token åˆ·æ–°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3167069035309015/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Jingyou
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T12:42:00.000Z" title="Thu Dec 04 2025 12:42:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><code>accessToken</code>è¿‡æœŸåä½¿ç”¨<code>refreshToken</code>è°ƒç”¨<strong>åˆ·æ–° token</strong> æ¥å£å»è·å–æ–°çš„<code>accessToken</code></p>
</blockquote>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// tokenManager.js</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TokenManager</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ç”¨äºå­˜å‚¨åˆ·æ–°tokençš„promiseï¼Œé˜²æ­¢å¹¶å‘åˆ·æ–°</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">promise</span> = <span class="hljs-literal">null</span>
  }

  <span class="hljs-comment">/**
   * è®¾ç½®è®¿é—®token
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">token</span>
   */</span>
  <span class="hljs-title function_">setToken</span>(<span class="hljs-params">token</span>) {
    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'accessToken'</span>, token)
  }

  <span class="hljs-comment">/**
   * è·å–åˆ·æ–°token
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">string|null</span>}
   */</span>
  <span class="hljs-title function_">getRefreshToken</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'refreshToken'</span>)
  }

  <span class="hljs-comment">/**
   * ç§»é™¤æ‰€æœ‰tokenä¿¡æ¯
   */</span>
  <span class="hljs-title function_">removeToken</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">removeItem</span>(<span class="hljs-string">'accessToken'</span>)
    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">removeItem</span>(<span class="hljs-string">'refreshToken'</span>)
    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">removeItem</span>(<span class="hljs-string">'name'</span>)
  }

  <span class="hljs-comment">/**
   * è°ƒç”¨æ¥å£åˆ·æ–°token
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Promise&lt;Response&gt;</span>}
   */</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">refreshAccessToken</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// è¿™é‡Œæ˜¯åˆ·æ–°tokençš„æ¥å£</span>
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/v3/Logon/getRefreshUserToker'</span>, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
      <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>,
        <span class="hljs-string">'X-Refresh-Token'</span>: <span class="hljs-string">'true'</span>,
      },
      <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
        <span class="hljs-attr">refreshToken</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getRefreshToken</span>(),
        <span class="hljs-attr">name</span>: <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'name'</span>),
      }),
    })
    <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>()
  }

  <span class="hljs-comment">/**
   * è·å–tokenï¼Œå¦‚æœæ­£åœ¨åˆ·æ–°åˆ™è¿”å›åŒä¸€ä¸ªpromise
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Promise&lt;boolean&gt;</span>} åˆ·æ–°æˆåŠŸè¿”å›trueï¼Œå¤±è´¥è¿”å›false
   */</span>
  <span class="hljs-title function_">refreshToken</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">promise</span>) <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">promise</span>

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">promise</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">refreshAccessToken</span>()
        .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {
          <span class="hljs-keyword">if</span> (res.<span class="hljs-property">code</span> === <span class="hljs-number">0</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setToken</span>(res.<span class="hljs-property">accessToken</span>)
            <span class="hljs-title function_">resolve</span>(<span class="hljs-literal">true</span>)
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">removeToken</span>()
            <span class="hljs-title function_">resolve</span>(<span class="hljs-literal">false</span>)
          }
        })
        .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Refresh token failed'</span>, err)
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">removeToken</span>()
          <span class="hljs-title function_">resolve</span>(<span class="hljs-literal">false</span>)
        })
    })

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">promise</span>.<span class="hljs-title function_">finally</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">promise</span> = <span class="hljs-literal">null</span>
    })
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">promise</span>
  }
}

<span class="hljs-keyword">const</span> tokener = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TokenManager</span>()

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> tokener
</code></pre>
<h2 data-id="heading-0">åœ¨å“åº”æ‹¦æˆªä¸­ä½¿ç”¨åˆ·æ–°token</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// request.js</span>
<span class="hljs-keyword">import</span> tokener <span class="hljs-keyword">from</span> <span class="hljs-string">'./tokenManager.js'</span>

<span class="hljs-comment">/**
 * è¯·æ±‚å°è£…
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">url</span>
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">RequestInit</span>} <span class="hljs-variable">options</span>
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Promise&lt;any&gt;</span>}
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">request</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">url, options = {}</span>) =&gt; {
  <span class="hljs-comment">// åˆå¹¶é»˜è®¤é…ç½®</span>
  <span class="hljs-keyword">const</span> config = {
    ...options,
    <span class="hljs-attr">headers</span>: {
      <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>,
      ...options.<span class="hljs-property">headers</span>,
    },
  }

  <span class="hljs-comment">// æ·»åŠ token</span>
  <span class="hljs-keyword">const</span> token = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'accessToken'</span>)
  <span class="hljs-keyword">if</span> (token) {
    config.<span class="hljs-property">headers</span>[<span class="hljs-string">'Authorization'</span>] = <span class="hljs-string">`Bearer <span class="hljs-subst">${token}</span>`</span>
  }

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url, config)

    <span class="hljs-comment">// æ‹¦æˆª 401 æœªæˆæƒï¼Œä¸”ä¸æ˜¯åˆ·æ–°tokençš„è¯·æ±‚</span>
    <span class="hljs-keyword">if</span> (response.<span class="hljs-property">status</span> === <span class="hljs-number">401</span> &amp;&amp; !config.<span class="hljs-property">headers</span>[<span class="hljs-string">'X-Refresh-Token'</span>]) {
      <span class="hljs-comment">// å°è¯•åˆ·æ–°token</span>
      <span class="hljs-keyword">const</span> isRefreshSuccess = <span class="hljs-keyword">await</span> tokener.<span class="hljs-title function_">refreshToken</span>()

      <span class="hljs-keyword">if</span> (isRefreshSuccess) {
        <span class="hljs-comment">// åˆ·æ–°æˆåŠŸï¼Œé‡è¯•åŸè¯·æ±‚</span>
        <span class="hljs-comment">// æ›´æ–°headerä¸­çš„token</span>
        <span class="hljs-keyword">const</span> newToken = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'accessToken'</span>)
        config.<span class="hljs-property">headers</span>[<span class="hljs-string">'Authorization'</span>] = <span class="hljs-string">`Bearer <span class="hljs-subst">${newToken}</span>`</span>

        <span class="hljs-comment">// é‡æ–°å‘èµ·è¯·æ±‚</span>
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">fetch</span>(url, config).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>())
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// åˆ·æ–°å¤±è´¥ï¼ŒæŠ›å‡ºé”™è¯¯æˆ–è·³è½¬ç™»å½•</span>
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Token refresh failed'</span>)
        <span class="hljs-comment">// window.location.href = '/login'</span>
        <span class="hljs-comment">// å¯ä»¥è®°å½•å½“å‰é¡µé¢ï¼Œé‡æ–°ç™»é™†åè·³è½¬åˆ°å½“å‰é¡µé¢</span>
        <span class="hljs-comment">// localStorage.setItem('redirectUrl', window.location.href)</span>
      }
    }

    <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>()
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Request failed:'</span>, error)
    <span class="hljs-keyword">throw</span> error
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> request
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React18ä¸­Suspenseçš„ç”¨æ³•ä»¥åŠåŸç†]]></title>    <link>https://juejin.cn/post/7579961957194203186</link>    <guid>https://juejin.cn/post/7579961957194203186</guid>    <pubDate>2025-12-04T13:30:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579961957194203186" data-draft-id="7579832417748385843" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React18ä¸­Suspenseçš„ç”¨æ³•ä»¥åŠåŸç†"/> <meta itemprop="keywords" content="React.js"/> <meta itemprop="datePublished" content="2025-12-04T13:30:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="epoos"/> <meta itemprop="url" content="https://juejin.cn/user/3474112473732024"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React18ä¸­Suspenseçš„ç”¨æ³•ä»¥åŠåŸç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3474112473732024/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    epoos
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T13:30:35.000Z" title="Thu Dec 04 2025 13:30:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»Šå¤©ç‰¹æ„å†æ¬¡æ¸©ä¹ äº†ä¸‹ Suspense ç»„ä»¶çš„ç”¨æ³•ï¼Œç»“åˆ chatgpt æ·±åº¦å­¦ä¹ äº†ä¸€éï¼Œè¿™é‡Œå°†æ€»ç»“è®°å½•ä¸€ä¸‹ï¼Œæ¬¢è¿è®¨è®ºã€‚</p>
<h2 data-id="heading-0">1ã€Suspenseæ˜¯ä»€ä¹ˆï¼ŸåŸç†è§£æ</h2>
<p>åœ¨ React18 ä¸­ï¼Œ<code>Suspense</code> æ˜¯ä¸€ä¸ªç”¨äºå¤„ç†å¼‚æ­¥åŠ è½½çŠ¶æ€çš„ç»„ä»¶ã€‚å®ƒçš„æ ¸å¿ƒä½œç”¨æ˜¯ï¼š</p>
<ul>
<li><strong>åœ¨ç»„ä»¶æˆ–èµ„æºæœªå‡†å¤‡å¥½æ¸²æŸ“æ—¶ï¼Œæ˜¾ç¤ºä¸€ä¸ªå ä½ UIï¼ˆfallbackï¼‰</strong> ï¼›</li>
<li><strong>å½“å¼‚æ­¥æ“ä½œå®Œæˆåï¼Œè‡ªåŠ¨æ¸²æŸ“çœŸå®å†…å®¹</strong>ã€‚</li>
</ul>
<p>React æ•è·å¼‚æ­¥çŠ¶æ€çš„æ–¹å¼ä¸ä¼ ç»Ÿæ€è·¯ä¸åŒï¼šå®ƒå¹¶ä¸æ˜¯å»è½®è¯¢çŠ¶æ€æˆ–è€…ç›‘å¬ Promiseï¼Œè€Œæ˜¯ä¾èµ–ä¸€ä¸ªçº¦å®šï¼š</p>
<blockquote>
<p>å½“ç»„ä»¶åœ¨æ¸²æŸ“é˜¶æ®µæœªå‡†å¤‡å¥½æ—¶ï¼Œå¯ä»¥<strong>åŒæ­¥æŠ›å‡ºä¸€ä¸ª Promise é”™è¯¯</strong>ï¼ŒReact æ•è·è¿™ä¸ª Promise é”™è¯¯ï¼Œç„¶åæ˜¾ç¤º Suspense çš„ fallbackã€‚Promise resolve åï¼ŒReact é‡æ–°è°ƒåº¦æ¸²æŸ“ç»„ä»¶ã€‚</p>
</blockquote>
<p>ç®€åŒ–çš„åŸç†æµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">renderWithSuspense</span>(<span class="hljs-params">component</span>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">component</span>(); <span class="hljs-comment">// æ‰§è¡Œç»„ä»¶å‡½æ•°</span>
  } <span class="hljs-keyword">catch</span> (e) {
    <span class="hljs-keyword">if</span> (e <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Promise</span>) {
      <span class="hljs-comment">// æ•è· Promise é”™è¯¯ â†’ æŒ‚èµ·ç»„ä»¶ â†’ fallback</span>
      <span class="hljs-title function_">scheduleRetryAfterPromise</span>(e);
      <span class="hljs-keyword">return</span> fallbackUI;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">throw</span> e; <span class="hljs-comment">// çœŸæ­£é”™è¯¯</span>
    }
  }
}
</code></pre>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼ŒSuspense å¹¶ä¸ä¼šä¸»åŠ¨è·Ÿè¸ª Promise çŠ¶æ€ï¼Œå®ƒåªå…³å¿ƒ<strong>ç»„ä»¶å‡½æ•°æ˜¯å¦æŠ›å‡ºäº†ä¸€ä¸ª Promise é”™è¯¯</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-1">2ã€Suspenseçš„ç”¨æ³•ä¸é€‚ç”¨åœºæ™¯</h2>
<h3 data-id="heading-2">2.1 ç»„ä»¶å¼‚æ­¥åŠ è½½ï¼ˆReact.lazyï¼‰</h3>
<p>Suspense æœ€è‡ªç„¶ã€æœ€åˆç†çš„ä½¿ç”¨åœºæ™¯æ˜¯<strong>æ‡’åŠ è½½ç»„ä»¶</strong>ã€‚React18 å†…ç½®äº† <code>React.lazy</code> é…åˆ Suspenseï¼Œå¯ä»¥å®ç°æŒ‰éœ€åŠ è½½ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { <span class="hljs-title class_">Suspense</span>, lazy } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">LazyComponent</span> = <span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./LazyComponent'</span>));

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">div</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">LazyComponent</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span></span>
  );
}
</code></pre>
<ul>
<li><strong>fallback</strong>ï¼šå¼‚æ­¥åŠ è½½æœŸé—´æ˜¾ç¤ºçš„å ä½ UIï¼›</li>
<li>React.lazy ä¼šåœ¨æ¨¡å—åŠ è½½æœªå®Œæˆæ—¶ï¼Œ<strong>åŒæ­¥æŠ›å‡ºä¸€ä¸ª Promise é”™è¯¯</strong>ï¼ŒSuspense æ•è·åæ˜¾ç¤º fallbackï¼›</li>
<li>æ¨¡å—åŠ è½½å®Œæˆåï¼Œè‡ªåŠ¨æ¸²æŸ“ç»„ä»¶ã€‚</li>
</ul>
<h3 data-id="heading-3">2.2 åµŒå¥— Suspense</h3>
<p>Suspense æ”¯æŒåµŒå¥—ï¼Œç”¨äºæ§åˆ¶å±€éƒ¨åŠ è½½ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">div</span>&gt;</span>åŠ è½½åˆ—è¡¨ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}&gt;
  <span class="hljs-tag">&lt;<span class="hljs-name">ListComponent</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">div</span>&gt;</span>åŠ è½½è¯¦æƒ…ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}&gt;
    <span class="hljs-tag">&lt;<span class="hljs-name">DetailComponent</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
</code></pre>
<ul>
<li>å†…å±‚ Suspense æœ‰ç‹¬ç«‹çš„ fallbackï¼›</li>
<li>å¤–å±‚ Suspense æ— æ³•æ•è·å†…å±‚ fallback çš„çŠ¶æ€ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-4">3ã€Suspenseä½œä¸ºå¼‚æ­¥æ¥å£è¯·æ±‚çš„ç­‰å¾…æœºåˆ¶</h2>
<h3 data-id="heading-5">3.1 æ˜¯å¦åˆé€‚ï¼Ÿ</h3>
<p>æ™®é€šçš„æ¥å£è¯·æ±‚ï¼ˆ<code>fetch</code> æˆ– Axiosï¼‰<strong>ä¸èƒ½ç›´æ¥å’Œ Suspense æ­é…</strong>ï¼Œå› ä¸ºï¼š</p>
<ul>
<li>æ™®é€š Promise åœ¨ pending çŠ¶æ€ä¸‹ä¸ä¼šåŒæ­¥æŠ›å‡ºï¼›</li>
<li>React åªèƒ½æ•è·<strong>æ¸²æŸ“é˜¶æ®µåŒæ­¥æŠ›å‡ºçš„ Promise</strong>ï¼›</li>
<li>å› æ­¤ç›´æ¥å†™ fetch + useEffect æ˜¯æ— æ³•è§¦å‘ Suspense fallback çš„ã€‚</li>
</ul>
<p><strong>ç»“è®º</strong>ï¼šSuspense ç”¨ä½œå¼‚æ­¥æ¥å£ç­‰å¾…å¹¶ä¸è‡ªç„¶ï¼Œå¦‚æœä¸€å®šè¦ç”¨ï¼Œéœ€è¦æ‰‹åŠ¨å°è£…ã€‚</p>
<hr/>
<h3 data-id="heading-6">3.2 å¦‚ä½•å°è£… Promise</h3>
<p>å¯ä»¥å°è£…ä¸€ä¸ªæ”¯æŒ Suspense çš„èµ„æºå¯¹è±¡ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">function wrapPromise&lt;T&gt;(promise: Promise&lt;T&gt;) {
  let status: 'pending' | 'success' | <span class="hljs-attr">'error'</span> = <span class="hljs-string">'pending'</span><span class="hljs-comment">;</span>
  let result: T | any<span class="hljs-comment">;</span>
  const <span class="hljs-attr">suspender</span> = promise.then(
    <span class="hljs-attr">r</span> =&gt; { status = <span class="hljs-string">'success'</span><span class="hljs-comment">; result = r; },</span>
    <span class="hljs-attr">e</span> =&gt; { status = <span class="hljs-string">'error'</span><span class="hljs-comment">; result = e; }</span>
  )<span class="hljs-comment">;</span>

  return {
    read() {
      if (<span class="hljs-attr">status</span> === <span class="hljs-string">'pending'</span>) throw suspender<span class="hljs-comment">; // åŒæ­¥æŠ›å‡º Promise é”™è¯¯</span>
      if (<span class="hljs-attr">status</span> === <span class="hljs-string">'error'</span>) throw result<span class="hljs-comment">;      // åŒæ­¥æŠ›å‡ºé”™è¯¯</span>
      return result<span class="hljs-comment">;                              // è¿”å›æˆåŠŸæ•°æ®</span>
    }
  }<span class="hljs-comment">;</span>
}
</code></pre>
<h3 data-id="heading-7">3.3 ä½¿ç”¨å°è£…åçš„èµ„æº</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> userResource = <span class="hljs-title function_">wrapPromise</span>(<span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/user/1'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>()));

<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserProfile</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> user = userResource.<span class="hljs-title function_">read</span>(); <span class="hljs-comment">// è‹¥æœªå®Œæˆï¼ŒæŠ›å‡º Promise é”™è¯¯ â†’ Suspense æ•è·</span>
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{user.name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">div</span>&gt;</span>åŠ è½½ç”¨æˆ·ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">UserProfile</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span></span>
  );
}
</code></pre>
<p>è¿è¡Œé€»è¾‘ï¼š</p>
<ol>
<li>ç»„ä»¶æ¸²æŸ“ â†’ è°ƒç”¨ <code>read()</code>ï¼›</li>
<li>æ•°æ®æœªå®Œæˆ â†’ <code>read()</code> åŒæ­¥æŠ›å‡º Promise é”™è¯¯ â†’ Suspense fallback æ˜¾ç¤º loadingï¼›</li>
<li>æ•°æ®å®Œæˆ â†’ Promise resolve â†’ React è‡ªåŠ¨é‡æ–°æ¸²æŸ“ç»„ä»¶ â†’ æ˜¾ç¤ºçœŸå®å†…å®¹ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-8">4ã€æ€»ç»“</h2>
<ol>
<li>
<p><strong>Suspense æœ¬è´¨</strong>ï¼šæ•è·æ¸²æŸ“é˜¶æ®µæŠ›å‡ºçš„ Promise é”™è¯¯ï¼Œç»Ÿä¸€å¤„ç†å¼‚æ­¥åŠ è½½ï¼›</p>
</li>
<li>
<p><strong>æœ€è‡ªç„¶çš„ä½¿ç”¨åœºæ™¯</strong>ï¼šç»„ä»¶æ‡’åŠ è½½ï¼ˆReact.lazyï¼‰ï¼›</p>
</li>
<li>
<p><strong>å¼‚æ­¥æ•°æ®åŠ è½½</strong>ï¼šä¸æ¨èç›´æ¥ç”¨ Suspenseï¼Œéœ€è¦æ‰‹åŠ¨å°è£… Promise æˆ–ä½¿ç”¨æ”¯æŒ Suspense çš„åº“ï¼ˆReact Query / SWRï¼‰ï¼›</p>
</li>
<li>
<p><strong>æ™®é€š fetch ç›´æ¥æ”¾ç»„ä»¶é‡Œæ— æ³•è§¦å‘ Suspense</strong>ï¼Œå› ä¸º Promise æ˜¯å¼‚æ­¥çš„ï¼Œä¸ä¼šåŒæ­¥æŠ›å‡ºï¼›</p>
</li>
<li>
<p><strong>ä¸€å¥è¯æ€»ç»“</strong>ï¼šSuspense çš„è®¾è®¡æ˜¯ä¸ºäº†è®©å¼‚æ­¥æ¸²æŸ“åƒåŒæ­¥æ¸²æŸ“ä¸€æ ·è‡ªç„¶ï¼Œå°†å¼‚æ­¥åŠ è½½ç»Ÿä¸€æˆâ€œthrow Promise é”™è¯¯ â†’ Suspense æ•è· â†’ fallback â†’ resolve â†’ é‡æ–°æ¸²æŸ“â€çš„æœºåˆ¶ã€‚</p>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ§  æ‰‹å†™ `instanceof`ï¼šæ·±å…¥ç†è§£åŸå‹é“¾ä¸ç»§æ‰¿æœºåˆ¶]]></title>    <link>https://juejin.cn/post/7579785426267521024</link>    <guid>https://juejin.cn/post/7579785426267521024</guid>    <pubDate>2025-12-04T14:42:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579785426267521024" data-draft-id="7579805639435583540" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ§  æ‰‹å†™ `instanceof`ï¼šæ·±å…¥ç†è§£åŸå‹é“¾ä¸ç»§æ‰¿æœºåˆ¶"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-04T14:42:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¥ç§˜çš„çŒªå¤´"/> <meta itemprop="url" content="https://juejin.cn/user/793223472877051"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ§  æ‰‹å†™ `instanceof`ï¼šæ·±å…¥ç†è§£åŸå‹é“¾ä¸ç»§æ‰¿æœºåˆ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/793223472877051/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¥ç§˜çš„çŒªå¤´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T14:42:16.000Z" title="Thu Dec 04 2025 14:42:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç°ä»£å‰ç«¯å¼€å‘ä¸­ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹é¡¹ç›®ã€å¤šäººåä½œçš„åœºæ™¯ä¸‹ ğŸ’¼ï¼Œå¼€å‘è€…å¸¸å¸¸ä¼šé¢å¯¹å¤æ‚çš„å¯¹è±¡ç»“æ„å’Œç»§æ‰¿å…³ç³»ã€‚å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦â€œå±äºâ€æŸä¸ªæ„é€ å‡½æ•°ï¼ŸJavaScript æä¾›äº† <code>instanceof</code> è¿ç®—ç¬¦æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>æœ¬æ–‡å°†ä» <strong>åŸå‹ä¸åŸå‹é“¾</strong> å‡ºå‘ ğŸ”„ï¼Œç»“åˆå¤šç§ç»§æ‰¿æ–¹å¼ ğŸ”—ï¼Œæ·±å…¥å‰–æ <code>instanceof</code> çš„å·¥ä½œåŸç†ï¼Œå¹¶æœ€ç»ˆæ‰‹å†™å®ç°ä¸€ä¸ªè‡ªå®šä¹‰ç‰ˆæœ¬çš„ <code>isInstanceOf</code> å‡½æ•° âœï¸ï¼Œå¸®åŠ©ä½ å½»åº•æŒæ¡è¿™ä¸€æ ¸å¿ƒæ¦‚å¿µã€‚</p>
<hr/>
<h2 data-id="heading-0">ğŸ¯ ä¸€ã€ä»€ä¹ˆæ˜¯ <code>instanceof</code>ï¼Ÿ</h2>
<p><code>instanceof</code> æ˜¯ JavaScript ä¸­çš„ä¸€ä¸ª<strong>äºŒå…ƒè¿ç®—ç¬¦</strong>ï¼Œç”¨äºæ£€æµ‹æ„é€ å‡½æ•°çš„ <code>prototype</code> æ˜¯å¦å‡ºç°åœ¨æŸä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹é“¾ä¸Šã€‚</p>
<p>ğŸ“ <strong>è¯­æ³•</strong>ï¼š</p>
<pre><code class="hljs language-js" lang="js">A <span class="hljs-keyword">instanceof</span> B
</code></pre>
<p>âœ… <strong>è¿”å›å€¼ä¸ºå¸ƒå°”å€¼</strong>ï¼š</p>
<ul>
<li><code>true</code>ï¼šè¡¨ç¤º A æ˜¯ç”± B æ„é€ å‡ºæ¥çš„ï¼ˆæˆ–åœ¨å…¶åŸå‹é“¾ä¸Šæœ‰ B.prototypeï¼‰</li>
<li><code>false</code>ï¼šå¦åˆ™</li>
</ul>
<h3 data-id="heading-1">ğŸ“Œ ç¤ºä¾‹ï¼š</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> arr = [];
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Array</span>);   <span class="hljs-comment">// true âœ…</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Object</span>);  <span class="hljs-comment">// true âœ…</span>
</code></pre>
<blockquote>
<p>â“ ä¸ºä»€ä¹ˆ <code>arr instanceof Object</code> ä¹Ÿæ˜¯ <code>true</code>ï¼Ÿè¿™å°±å¼•å‡ºäº†æˆ‘ä»¬æ¥ä¸‹æ¥è¦è®²çš„æ ¸å¿ƒâ€”â€”<strong>åŸå‹é“¾</strong>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-2">ğŸ”— äºŒã€åŸå‹ä¸åŸå‹é“¾ï¼ˆPrototype &amp; Prototype Chainï¼‰</h2>
<p>æ¯ä¸ª JavaScript å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå†…éƒ¨å±æ€§ <code>[[Prototype]]</code>ï¼Œå¯ä»¥é€šè¿‡ <code>__proto__</code> è®¿é—®ï¼ˆä¸æ¨èç›´æ¥ä½¿ç”¨ï¼‰æˆ–è€…é€šè¿‡ <code>Object.getPrototypeOf()</code> è·å–ã€‚</p>
<p>ğŸ” å½“è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œå¦‚æœè¯¥å¯¹è±¡æœ¬èº«æ²¡æœ‰è¿™ä¸ªå±æ€§ï¼ŒJS å¼•æ“å°±ä¼šæ²¿ç€ <code>[[Prototype]]</code> å‘ä¸ŠæŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°è¯¥å±æ€§æˆ–åˆ°è¾¾åŸå‹é“¾é¡¶ç«¯ï¼ˆå³ <code>null</code>ï¼‰ã€‚è¿™å°±æ˜¯æ‰€è°“çš„<strong>åŸå‹é“¾æœºåˆ¶</strong>ã€‚</p>
<h3 data-id="heading-3">ğŸ§ª åŸå‹é“¾ç¤ºä¾‹åˆ†æ</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> arr = []; <span class="hljs-comment">// ç›¸å½“äº new Array()</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(
    arr.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>,           <span class="hljs-comment">// true âœ…</span>
    arr.<span class="hljs-property">__proto__</span>.<span class="hljs-property">constructor</span> === <span class="hljs-title class_">Array</span>,         <span class="hljs-comment">// true âœ…</span>
    arr.<span class="hljs-property">constructor</span> === <span class="hljs-title class_">Array</span>                    <span class="hljs-comment">// true âœ…</span>
);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(
    arr.<span class="hljs-property">__proto__</span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, <span class="hljs-comment">// true âœ…</span>
    arr.<span class="hljs-property">__proto__</span>.<span class="hljs-property">__proto__</span>.<span class="hljs-property">__proto__</span> === <span class="hljs-literal">null</span>     <span class="hljs-comment">// true âœ…</span>
);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥ç”»å‡ºåŸå‹é“¾å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">arr 
â†’ arr.<span class="hljs-strong">__proto__</span> (Array.prototype) 
â†’ arr.<span class="hljs-strong">__proto__</span>.<span class="hljs-strong">__proto__</span> (Object.prototype)
â†’ arr.<span class="hljs-strong">__proto__</span>.<span class="hljs-strong">__proto__</span>.<span class="hljs-strong">__proto__</span> (null)
</code></pre>
<p>æ‰€ä»¥ <code>arr instanceof Object</code> è¿”å› <code>true</code>ï¼Œå› ä¸º <code>Object.prototype</code> åœ¨ <code>arr</code> çš„åŸå‹é“¾ä¸Šã€‚</p>
<p>ğŸ’¡ <strong>å°è´´å£«</strong>ï¼šæ‰€æœ‰å¯¹è±¡æœ€ç»ˆéƒ½ç»§æ‰¿è‡ª <code>Object</code>ï¼Œå› æ­¤ç»å¤§å¤šæ•°å¯¹è±¡éƒ½æ˜¯ <code>Object</code> çš„â€œå®ä¾‹â€ã€‚</p>
<hr/>
<h2 data-id="heading-4">ğŸ§¬ ä¸‰ã€é¢å‘å¯¹è±¡ä¸­çš„â€œè¡€ç¼˜â€å…³ç³»</h2>
<p>åœ¨ä¼ ç»Ÿ OOP è¯­è¨€å¦‚ Java/C++ ä¸­ï¼Œæˆ‘ä»¬ç”¨ <code>is-a</code> å…³ç³»æè¿°ç»§æ‰¿ï¼Œä¾‹å¦‚ â€œDog is an Animalâ€ ğŸ¶ã€‚</p>
<p>JavaScript è™½ç„¶æ˜¯åŸºäºåŸå‹çš„è¯­è¨€ï¼Œä½† <code>instanceof</code> å®ç°äº†ç±»ä¼¼çš„è¯­ä¹‰åˆ¤æ–­åŠŸèƒ½ã€‚å®ƒä¸æ˜¯çœ‹å¯¹è±¡æœ‰æ²¡æœ‰æŸäº›æ–¹æ³•æˆ–å±æ€§ï¼Œè€Œæ˜¯çœ‹<strong>æ˜¯å¦æœ‰è¡€ç¼˜å…³ç³»</strong>â€”â€”ä¹Ÿå°±æ˜¯åŸå‹é“¾ä¸Šçš„è¿æ¥ã€‚</p>
<blockquote>
<p>âœ… <code>A instanceof B</code> çš„æœ¬è´¨æ˜¯ï¼š<br/>
<strong>B çš„ prototype æ˜¯å¦å­˜åœ¨äº A çš„åŸå‹é“¾ä¹‹ä¸­ï¼Ÿ</strong></p>
</blockquote>
<p>ğŸ§  æ¢å¥è¯è¯´ï¼š<strong>ä½ æ˜¯ä¸æ˜¯æˆ‘ç¥–å®—ï¼Ÿ</strong></p>
<hr/>
<h2 data-id="heading-5">âœï¸ å››ã€å®ç°è‡ªå·±çš„ <code>isInstanceOf</code></h2>
<p>ç°åœ¨æˆ‘ä»¬æ¥æ‰‹åŠ¨å®ç°ä¸€ä¸ªç­‰ä»·äºåŸç”Ÿ <code>instanceof</code> çš„å‡½æ•°ã€‚</p>
<h3 data-id="heading-6">ğŸ” æ€è·¯åˆ†æï¼š</h3>
<ol>
<li>ä»å®ä¾‹å¯¹è±¡ A å¼€å§‹ï¼Œè·å–å…¶ <code>__proto__</code></li>
<li>å¾ªç¯éå†åŸå‹é“¾ï¼Œé€å±‚æ¯”å¯¹å½“å‰åŸå‹æ˜¯å¦ç­‰äº <code>B.prototype</code></li>
<li>å¦‚æœæ‰¾åˆ°åˆ™è¿”å› <code>true</code> âœ…</li>
<li>å¦‚æœèµ°åˆ° <code>null</code> è¿˜æ²¡æ‰¾åˆ°ï¼Œåˆ™è¿”å› <code>false</code> âŒ</li>
</ol>
<h3 data-id="heading-7">ğŸ’» å®ç°ä»£ç ï¼š</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">isInstanceOf</span>(<span class="hljs-params">A, B</span>) {
    <span class="hljs-comment">// ç¡®ä¿ A æ˜¯å¯¹è±¡ä¸” B æ˜¯å‡½æ•°</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> A !== <span class="hljs-string">'object'</span> || A === <span class="hljs-literal">null</span> || <span class="hljs-keyword">typeof</span> B !== <span class="hljs-string">'function'</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-keyword">let</span> proto = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(A); <span class="hljs-comment">// æ¨èä½¿ç”¨ getPrototypeOf è€Œé __proto__</span>

    <span class="hljs-keyword">while</span> (proto) {
        <span class="hljs-keyword">if</span> (proto === B.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        proto = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(proto);
    }

    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre>
<h3 data-id="heading-8">âœ… æµ‹è¯•éªŒè¯ï¼š</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params"/>) {}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Cat</span>(<span class="hljs-params"/>) {}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Dog</span>(<span class="hljs-params"/>) {}

<span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>();
<span class="hljs-keyword">const</span> dog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isInstanceOf</span>(dog, <span class="hljs-title class_">Dog</span>));     <span class="hljs-comment">// true âœ…</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isInstanceOf</span>(dog, <span class="hljs-title class_">Animal</span>));  <span class="hljs-comment">// true âœ…</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isInstanceOf</span>(dog, <span class="hljs-title class_">Object</span>));  <span class="hljs-comment">// true âœ…</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isInstanceOf</span>(dog, <span class="hljs-title class_">Cat</span>));     <span class="hljs-comment">// false âŒ</span>
</code></pre>
<p>ğŸ‰ å®Œå…¨ç¬¦åˆé¢„æœŸï¼</p>
<blockquote>
<p>ğŸ’¡ <strong>å»ºè®®</strong>ï¼šè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ <code>Object.getPrototypeOf()</code> æ›¿ä»£ <code>__proto__</code>ï¼Œå› ä¸ºåè€…å·²è¢«è§†ä¸ºè¿‡æ—¶ï¼ˆå°½ç®¡ä»å¹¿æ³›æ”¯æŒï¼‰ï¼Œæ›´æ¨èæ ‡å‡† APIã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-9">ğŸ—ï¸ äº”ã€JavaScript ä¸­å¸¸è§çš„ç»§æ‰¿æ–¹å¼å›é¡¾</h2>
<p>ä¸ºäº†æ›´å¥½åœ°ç†è§£ <code>instanceof</code> çš„åº”ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ JS ä¸­å‡ ç§å…¸å‹çš„ç»§æ‰¿æ–¹å¼ã€‚</p>
<h3 data-id="heading-10">1ï¸âƒ£ æ„é€ å‡½æ•°ç»‘å®šç»§æ‰¿ï¼ˆå€Ÿç”¨æ„é€ å‡½æ•°ï¼‰ğŸ”§</h3>
<p>åˆ©ç”¨ <code>call</code> æˆ– <code>apply</code> åœ¨å­ç±»ä¸­è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œå®ç°å±æ€§ç»§æ‰¿ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">species</span> = <span class="hljs-string">"åŠ¨ç‰©"</span>;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Cat</span>(<span class="hljs-params">name, color</span>) {
    <span class="hljs-title class_">Animal</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// ç»§æ‰¿å±æ€§</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;
}

<span class="hljs-keyword">const</span> cat = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>(<span class="hljs-string">'å°é»‘'</span>, <span class="hljs-string">'é»‘è‰²'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat.<span class="hljs-property">species</span>); <span class="hljs-comment">// "åŠ¨ç‰©" âœ…</span>
</code></pre>













<table><thead><tr><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>âœ… å¯ä¼ é€’å‚æ•°ï¼Œé¿å…å¼•ç”¨å…±äº«</td><td>âŒ æ— æ³•ç»§æ‰¿çˆ¶ç±»åŸå‹ä¸Šçš„æ–¹æ³•</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-11">2ï¸âƒ£ åŸå‹æ¨¡å¼ç»§æ‰¿ï¼ˆç»å…¸åŸå‹é“¾ï¼‰ğŸ”</h3>
<p>å°†çˆ¶ç±»å®ä¾‹ä½œä¸ºå­ç±»åŸå‹ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">species</span> = <span class="hljs-string">"åŠ¨ç‰©"</span>; <span class="hljs-comment">// æ¯æ¬¡éƒ½ä¼šé‡å¤åˆ›å»º</span>
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Cat</span>(<span class="hljs-params">name, color</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;
}

<span class="hljs-comment">// ç»§æ‰¿ï¼šCat.prototype æŒ‡å‘ Animal å®ä¾‹</span>
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>();
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Cat</span>; <span class="hljs-comment">// ä¿®æ­£ constructor æŒ‡å‘</span>

<span class="hljs-keyword">const</span> cat = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>(<span class="hljs-string">'å°é»‘'</span>, <span class="hljs-string">'é»‘è‰²'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat.<span class="hljs-property">species</span>); <span class="hljs-comment">// "åŠ¨ç‰©" âœ…</span>
</code></pre>













<table><thead><tr><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>âœ… å¯ä»¥ç»§æ‰¿çˆ¶ç±»åŸå‹æ–¹æ³•</td><td>âš ï¸ çˆ¶ç±»æ„é€ å‡½æ•°è¢«å¤šæ¬¡æ‰§è¡Œï¼›å¼•ç”¨ç±»å‹å¯èƒ½é€ æˆå…±äº«é—®é¢˜</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-12">3ï¸âƒ£ åˆ©ç”¨ç©ºå¯¹è±¡ä½œä¸ºä¸­ä»‹ï¼ˆåœ£æ¯æ¨¡å¼ / å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼‰ğŸ›¡ï¸</h3>
<p>è§£å†³ä¸Šè¿°ä¸¤ç§æ–¹å¼çš„é—®é¢˜ï¼Œ<strong>æ¨èåšæ³•</strong> âœ…ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">inherit</span>(<span class="hljs-params">Child, Parent</span>) {
    <span class="hljs-keyword">const</span> F = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {};        <span class="hljs-comment">// åˆ›å»ºç©ºå‡½æ•°</span>
    F.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>; <span class="hljs-comment">// ç©ºå‡½æ•°åŸå‹æŒ‡å‘çˆ¶ç±»åŸå‹</span>
    <span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_">F</span>();      <span class="hljs-comment">// å­ç±»åŸå‹ä¸ºä¸­ä»‹å®ä¾‹</span>
    <span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Child</span>;
}
</code></pre>
<p>è¿™æ ·æ—¢ä¸ä¼šæ‰§è¡Œçˆ¶ç±»æ„é€ å‡½æ•°ï¼Œåˆèƒ½æ­£ç¡®å»ºç«‹åŸå‹é“¾ï¼Œæ˜¯ç›®å‰æœ€å®‰å…¨é«˜æ•ˆçš„ç»§æ‰¿æ–¹å¼ã€‚</p>
<hr/>
<h3 data-id="heading-13">4ï¸âƒ£ ç›´æ¥ç»§æ‰¿ prototypeï¼ˆâŒ ä¸æ¨èï¼‰</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Cat</span>;
</code></pre>
<p>âš ï¸ <strong>å±é™©ï¼</strong> è¿™æ ·åšä¼šè®© <code>Cat.prototype</code> å’Œ <code>Animal.prototype</code> æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚ä¿®æ”¹ <code>Cat.prototype</code> ä¼šå½±å“ <code>Animal</code>ï¼Œé€ æˆå‰¯ä½œç”¨ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">eat</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'åƒ'</span>); }
<span class="hljs-comment">// æ­¤æ—¶ Animal.prototype ä¹Ÿæœ‰äº† eat æ–¹æ³•ï¼ğŸš¨</span>
</code></pre>
<p>ğŸš« <strong>ç»“è®º</strong>ï¼šä¸è¦è¿™æ ·åšï¼å®¹æ˜“å¼•å‘å…¨å±€æ±¡æŸ“ã€‚</p>
<hr/>
<h2 data-id="heading-14">ğŸ¢ å…­ã€ä¸ºä»€ä¹ˆ <code>instanceof</code> åœ¨å¤§å‹é¡¹ç›®ä¸­æœ‰å¿…è¦ï¼ŸğŸš€</h2>
<p>åœ¨å¤šäººåä½œçš„å¤æ‚ç³»ç»Ÿä¸­ ğŸ‘¥ï¼Œå¸¸ä¼šå‡ºç°ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>â“ ä¸æ¸…æ¥šæŸä¸ªå˜é‡åˆ°åº•æ˜¯ä»€ä¹ˆç±»å‹çš„å¯¹è±¡</li>
<li>ğŸ“¦ ç¬¬ä¸‰æ–¹åº“è¿”å›çš„å¯¹è±¡ç»“æ„ä¸é€æ˜</li>
<li>ğŸ§© ç±»å‹åˆ¤æ–­ä¾èµ–å­—ç¬¦ä¸²æ¯”è¾ƒï¼ˆå¦‚ <code>toString()</code>ï¼‰å®¹æ˜“å‡ºé”™</li>
</ul>
<p>æ­¤æ—¶ <code>instanceof</code> å°±æ˜¾å¾—å°¤ä¸ºé‡è¦ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">if</span> (data <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Request</span>) {
    <span class="hljs-comment">// å‘èµ·ç½‘ç»œè¯·æ±‚ ğŸŒ</span>
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (data <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Response</span>) {
    <span class="hljs-comment">// å¤„ç†å“åº” ğŸ“¥</span>
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (data <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Error</span>) {
    <span class="hljs-comment">// é”™è¯¯å¤„ç† âš ï¸</span>
}
</code></pre>
<p>å®ƒæä¾›äº†ä¸€ç§<strong>å®‰å…¨ã€å¯é ã€è¯­ä¹‰æ¸…æ™°</strong>çš„æ–¹å¼æ¥åˆ¤æ–­å¯¹è±¡ç±»å‹ï¼Œå°¤å…¶é€‚ç”¨äºæ’ä»¶ç³»ç»Ÿã€è¡¨å•æ ¡éªŒã€äº‹ä»¶å¤„ç†å™¨ç­‰åœºæ™¯ã€‚</p>
<hr/>
<h2 data-id="heading-15">âš ï¸ ä¸ƒã€è¾¹ç•Œæƒ…å†µä¸æ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-16">1. åŸºæœ¬ç±»å‹ä¸èƒ½ä½¿ç”¨ <code>instanceof</code></h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-string">"hello"</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">String</span> <span class="hljs-comment">// false âŒ</span>
<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">"hello"</span>) <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">String</span> <span class="hljs-comment">// true âœ…</span>
</code></pre>
<p>ğŸ“Œ å› ä¸ºåŸºæœ¬ç±»å‹æ²¡æœ‰åŸå‹é“¾ï¼ˆé™¤äº†åŒ…è£…å¯¹è±¡ï¼‰ï¼Œæ‰€ä»¥ç»“æœä¸º <code>false</code>ã€‚</p>
<hr/>
<h3 data-id="heading-17">2. è·¨çª—å£/iframe é—®é¢˜ ğŸ–¼ï¸</h3>
<p>ä¸åŒå…¨å±€ç¯å¢ƒä¸‹çš„å¯¹è±¡ä¼šæœ‰ä¸åŒçš„æ„é€ å™¨ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> iframe = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'iframe'</span>);
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(iframe);
<span class="hljs-keyword">const</span> <span class="hljs-title class_">IframeArray</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">frames</span>[<span class="hljs-number">0</span>].<span class="hljs-property">Array</span>;
<span class="hljs-keyword">const</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">IframeArray</span>();

arr <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Array</span>;        <span class="hljs-comment">// false âŒ!</span>
arr <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">IframeArray</span>;  <span class="hljs-comment">// true âœ…</span>
</code></pre>
<p>ğŸš¨ æ­¤æ—¶ <code>instanceof</code> ä¼šå¤±æ•ˆï¼Œåº”æ”¹ç”¨ <code>Array.isArray()</code> ç­‰æ–¹æ³•ã€‚</p>
<hr/>
<h3 data-id="heading-18">3. è‡ªå®šä¹‰è¡Œä¸ºï¼š<code>Symbol.hasInstance</code> ğŸ›ï¸</h3>
<p>ä½ å¯ä»¥é‡å†™ <code>instanceof</code> çš„åˆ¤æ–­é€»è¾‘ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyArray</span> {
    <span class="hljs-keyword">static</span> [<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">hasInstance</span>](obj) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(obj);
    }
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>] <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">MyArray</span>); <span class="hljs-comment">// true âœ…</span>
</code></pre>
<p>è¿™è¯´æ˜ <code>instanceof</code> çš„è¡Œä¸ºæ˜¯å¯ä»¥è¢«å®šåˆ¶çš„ â€”â€” æ›´åŠ çµæ´»ä½†ä¹Ÿéœ€è°¨æ…ä½¿ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-19">ğŸ“Š å…«ã€æ€»ç»“å¯¹æ¯”</h2>





























<table><thead><tr><th>å†…å®¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>instanceof</code> æœ¬è´¨</td><td>ğŸ” æ£€æŸ¥æ„é€ å‡½æ•°çš„ <code>prototype</code> æ˜¯å¦åœ¨å®ä¾‹çš„åŸå‹é“¾ä¸Š</td></tr><tr><td>æ ¸å¿ƒæœºåˆ¶</td><td>ğŸ”— åŸå‹é“¾æŸ¥æ‰¾</td></tr><tr><td>æ‰‹å†™å…³é”®ç‚¹</td><td>ğŸ” éå† <code>__proto__</code> é“¾ï¼Œå¯¹æ¯” <code>B.prototype</code></td></tr><tr><td>åº”ç”¨åœºæ™¯</td><td>ğŸ—ï¸ ç±»å‹åˆ¤æ–­ã€ç»§æ‰¿ä½“ç³»è°ƒè¯•ã€æ¡†æ¶è®¾è®¡</td></tr><tr><td>æ›¿ä»£æ–¹æ¡ˆ</td><td>ğŸ§° <code>Array.isArray()</code>ã€<code>Object.prototype.toString.call()</code> æ›´é€šç”¨</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-20">ğŸ§© ä¹ã€æ‹“å±•ç»ƒä¹  ğŸ’ª</h2>
<p>å°è¯•å®Œæˆä»¥ä¸‹ä»»åŠ¡åŠ æ·±ç†è§£ï¼š</p>
<ol>
<li>ä½¿ç”¨ <code>Object.create(null)</code> åˆ›å»ºä¸€ä¸ªæ— åŸå‹çš„å¯¹è±¡ï¼Œæµ‹è¯• <code>isInstanceOf</code> è¡Œä¸ºã€‚</li>
<li>æ”¹è¿›ä½ çš„ <code>isInstanceOf</code> å‡½æ•°ï¼Œä½¿å…¶æ”¯æŒ <code>Symbol.hasInstance</code>ã€‚</li>
<li>å®ç°ä¸€ä¸ªé€šç”¨ç±»å‹åˆ¤æ–­å·¥å…·å‡½æ•° <code>typeOf(value)</code>ï¼Œèƒ½å‡†ç¡®è¯†åˆ«æ•°ç»„ã€æ—¥æœŸã€æ­£åˆ™ç­‰ã€‚</li>
</ol>
<p>ğŸ¯ <strong>ç›®æ ‡</strong>ï¼šè®©ä½ å†™å‡ºçš„ä»£ç ä¸ä»…â€œèƒ½è·‘â€ï¼Œè¿˜èƒ½â€œæ‰›å¾—ä½â€ã€‚</p>
<hr/>
<h2 data-id="heading-21">ğŸ‰ ç»“è¯­</h2>
<p><code>instanceof</code> ä¸åªæ˜¯ä¸€ä¸ªç®€å•çš„æ“ä½œç¬¦ï¼Œå®ƒæ˜¯ç†è§£ JavaScript åŸå‹ç»§æ‰¿ä½“ç³»çš„ä¸€æŠŠé’¥åŒ™ ğŸ”‘ã€‚é€šè¿‡æ‰‹å†™å…¶å®ç°ï¼Œæˆ‘ä»¬ä¸ä»…æŒæ¡äº†åº•å±‚åŸç†ï¼Œä¹Ÿä¸ºæ—¥åé˜…è¯»æºç ã€è®¾è®¡æ¶æ„æ‰“ä¸‹äº†åšå®åŸºç¡€ã€‚</p>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œè¯·åˆç†ä½¿ç”¨ <code>instanceof</code>ï¼Œå¹¶æ³¨æ„å…¶å±€é™æ€§ã€‚ç»“åˆ <code>typeof</code>ã€<code>Array.isArray()</code>ã€<code>Object.prototype.toString()</code> ç­‰æ–¹æ³•ï¼Œæ‰èƒ½æ„å»ºå‡ºå¥å£®çš„ç±»å‹åˆ¤æ–­ç³»ç»Ÿ âœ…ã€‚</p>
<blockquote>
<p>ğŸŒŸ <strong>è®°ä½ä¸€å¥è¯</strong>ï¼š<br/>
â€œä¸€åˆ‡å¯¹è±¡çš†æºäºåŸå‹ ğŸŒ€ï¼Œä¸€åˆ‡åˆ¤æ–­ç»ˆå½’äºé“¾ ğŸ”—ã€‚â€</p>
</blockquote>
<hr/>
<p>ğŸ“Œ <strong>å‚è€ƒèµ„æ–™</strong>ï¼š</p>
<ul>
<li>ğŸ“˜ MDN: <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FJavaScript%2FReference%2FOperators%2Finstanceof" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/instanceof" ref="nofollow noopener noreferrer"><code>instanceof</code></a></li>
<li>ğŸ“š ã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ã€‹ç¬¬6ç« </li>
<li>ğŸ“– ã€Šä½ ä¸çŸ¥é“çš„JavaScriptï¼ˆä¸Šå·ï¼‰ã€‹ç¬¬äºŒéƒ¨åˆ†</li>
</ul>
<p>âœ¨ <strong>ç¥ä½ åœ¨å‰ç«¯ä¸–ç•Œçš„æ¢ç´¢ä¹‹æ—…ä¸­ï¼Œè¶Šèµ°è¶Šè¿œï¼Œè¶Šå­¦è¶Šæ˜ï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ReactçŠ¶æ€æ›´æ–°ï¼šuseStateä¸useReducerçš„åŒºåˆ«]]></title>    <link>https://juejin.cn/post/7579961957194334258</link>    <guid>https://juejin.cn/post/7579961957194334258</guid>    <pubDate>2025-12-04T14:51:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579961957194334258" data-draft-id="7579871631095889946" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ReactçŠ¶æ€æ›´æ–°ï¼šuseStateä¸useReducerçš„åŒºåˆ«"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-04T14:51:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸‡ä¸‡0421"/> <meta itemprop="url" content="https://juejin.cn/user/165389331333929"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ReactçŠ¶æ€æ›´æ–°ï¼šuseStateä¸useReducerçš„åŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/165389331333929/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸‡ä¸‡0421
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T14:51:17.000Z" title="Thu Dec 04 2025 14:51:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">1. é—®é¢˜ä¸æœ€ç»ˆè§£å†³åŠæ³•</h3>
<p><strong>é—®é¢˜ï¼š</strong> æ¨¡æ‹Ÿæ¨¡å‹ä»»åŠ¡è¿è¡Œè¿›ç¨‹çš„çŠ¶æ€å˜åŒ–ï¼ŒåŒ…æ‹¬"Check data format", "Data preprocessing", "Model core computing", "Output result generation in progress","Model execution finished!"äº”ä¸ªçŠ¶æ€ï¼ŒuseStateèƒ½å¤ŸæˆåŠŸè®¾ç½®"Check data format"çŠ¶æ€ï¼Œä½†æ˜¯ModelExecuteProcessä¸­æ¥æ”¶åˆ°çš„åˆå§‹çŠ¶æ€æ˜¯"Model core computing"ï¼Œæ°¸è¿œéƒ½æ¯”steps[i]çŠ¶æ€æ™šä¸€æ­¥ï¼Œå°è¯•äº†å¾ˆå¤šæ–¹æ³•æœªæœï¼Œæœ€ç»ˆæ›¿æ¢äº†useReduceråæˆåŠŸå®ç°çŠ¶æ€åŒæ­¥æ›´æ–°ã€‚</p>
<p><strong>é”™è¯¯ç»“æœï¼š</strong></p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b85bfa0ca06e4f32b525787a660565f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5LiHMDQyMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765464676&amp;x-signature=%2Feqwv6dfmkG%2FR4n5IWsRj6KF9fo%3D" alt="image-20251204223503827.png" loading="lazy"/></p>
<p>steps[0]: Check data format</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">status</span>: [<span class="hljs-string">'Check data format'</span>]
steps[<span class="hljs-number">1</span>]: <span class="hljs-title class_">Data</span> preprocessing
<span class="hljs-attr">status</span>: [<span class="hljs-string">'Check data format'</span>, <span class="hljs-string">'Data preprocessing'</span>]
steps[<span class="hljs-number">2</span>]: <span class="hljs-title class_">Model</span> core computing
<span class="hljs-attr">status</span>: [<span class="hljs-string">'Check data format'</span>, <span class="hljs-string">'Data preprocessing'</span>, <span class="hljs-string">'Model core computing'</span>]
steps[<span class="hljs-number">3</span>]: <span class="hljs-title class_">Output</span> result generation <span class="hljs-keyword">in</span> progress
<span class="hljs-attr">status</span>: [<span class="hljs-string">'Check data format'</span>, <span class="hljs-string">'Data preprocessing'</span>, <span class="hljs-string">'Model core computing'</span>, <span class="hljs-string">'Output result generation in progress'</span>]
<span class="hljs-attr">status</span>: [<span class="hljs-string">'Check data format'</span>, <span class="hljs-string">'Data preprocessing'</span>, <span class="hljs-string">'Model core computing'</span>, <span class="hljs-string">'Output result generation in progress'</span>, <span class="hljs-string">'Model execution finished!'</span>]
</code></pre>
<p><strong>æˆåŠŸç»“æœï¼š</strong></p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66b097391f8847e4926ddc1d188af15b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5LiHMDQyMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765464676&amp;x-signature=lGHHAHN%2BgSqNW6T2%2BgXEOFZkfOw%3D" alt="image-20251204222959366.png" loading="lazy"/></p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">steps</span><span class="hljs-selector-attr">[0]</span>: <span class="hljs-selector-tag">Check</span> <span class="hljs-selector-tag">data</span> <span class="hljs-selector-tag">format</span>
<span class="hljs-selector-tag">status</span>: <span class="hljs-selector-attr">[<span class="hljs-string">'Data preprocessing'</span>]</span>
<span class="hljs-selector-tag">steps</span><span class="hljs-selector-attr">[1]</span>: <span class="hljs-selector-tag">Data</span> <span class="hljs-selector-tag">preprocessing</span>
<span class="hljs-selector-tag">status</span>: <span class="hljs-selector-attr">[ <span class="hljs-string">'Data preprocessing'</span>, <span class="hljs-string">'Model core computing'</span>]</span>
<span class="hljs-selector-tag">steps</span><span class="hljs-selector-attr">[2]</span>: <span class="hljs-selector-tag">Model</span> <span class="hljs-selector-tag">core</span> <span class="hljs-selector-tag">computing</span>
<span class="hljs-selector-tag">status</span>: <span class="hljs-selector-attr">[<span class="hljs-string">'Data preprocessing'</span>, <span class="hljs-string">'Model core computing'</span>, <span class="hljs-string">'Output result generation in progress'</span>]</span>
<span class="hljs-selector-tag">steps</span><span class="hljs-selector-attr">[3]</span>: <span class="hljs-selector-tag">Output</span> <span class="hljs-selector-tag">result</span> <span class="hljs-selector-tag">generation</span> <span class="hljs-selector-tag">in</span> <span class="hljs-selector-tag">progress</span>
<span class="hljs-selector-tag">status</span>: <span class="hljs-selector-attr">[<span class="hljs-string">'Check data format'</span>, <span class="hljs-string">'Data preprocessing'</span>, <span class="hljs-string">'Model core computing'</span>, <span class="hljs-string">'Output result generation in progress'</span>]</span>
<span class="hljs-selector-tag">status</span>: <span class="hljs-selector-attr">[<span class="hljs-string">'Check data format'</span>, <span class="hljs-string">'Data preprocessing'</span>, <span class="hljs-string">'Model core computing'</span>, <span class="hljs-string">'Output result generation in progress'</span>, <span class="hljs-string">'Model execution finished!'</span>]</span>
</code></pre>
<p><strong>éƒ¨åˆ†ä»£ç ï¼š</strong></p>
<ul>
<li><strong>Decision.tsx</strong></li>
</ul>

<pre><code class="hljs language-ini" lang="ini">{/*  useState  */}
// const <span class="hljs-attr">handleRun</span> = () =&gt; {
  //   setRunStatus(<span class="hljs-section">[]</span>)<span class="hljs-comment">;</span>
  //   setIsRunning(true)<span class="hljs-comment">;</span>
  //   // Simulate model execution process update...
  //   const <span class="hljs-attr">steps</span> = [<span class="hljs-string">"Check data format"</span>, <span class="hljs-string">"Data preprocessing"</span>, <span class="hljs-string">"Model core computing"</span>, <span class="hljs-string">"Output result generation in progress"</span>]<span class="hljs-comment">;</span>
  //   let <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
    
  //   const <span class="hljs-attr">executeStep</span> = () =&gt; {
  //     if (i &lt; steps.length) {
  //       console.log("i:", i)<span class="hljs-comment">;</span>
  //       console.log("steps<span class="hljs-section">[i]</span>:", steps<span class="hljs-section">[i]</span>)<span class="hljs-comment">;</span>
  //       setRunStatus(<span class="hljs-attr">prev</span> =&gt; {
  //         if (steps<span class="hljs-section">[i]</span>) {
  //           return <span class="hljs-section">[...prev, steps[i]]</span>
  //         }
  //         return prev<span class="hljs-comment">;</span>
  //       })<span class="hljs-comment">;</span>

  //       i++<span class="hljs-comment">;</span>
  //       setTimeout(executeStep, 1000)<span class="hljs-comment">;</span>
  //     } else {
  //       console.log("Process finished logic triggered.")<span class="hljs-comment">;</span>
  //       setRunStatus(<span class="hljs-attr">prev</span> =&gt; {
  //         if (prev<span class="hljs-section">[prev.length - 1]</span> !== "Model execution finished!") {
  //           return <span class="hljs-section">[...prev, "Model execution finished!"]</span>
  //         } return prev<span class="hljs-comment">;</span>
  //       })<span class="hljs-comment">;</span>
  //     }
  //   }
  //   setTimeout(executeStep, 100)<span class="hljs-comment">;</span>
  // }

{/*  useReducer  */}
type <span class="hljs-attr">Action</span> = { type: <span class="hljs-string">'ADD_STEP'</span>, payload: string } | { type: <span class="hljs-string">'RESET'</span> }<span class="hljs-comment">;</span>
function runStatusReducer(state: String<span class="hljs-section">[]</span>, action: Action): String<span class="hljs-section">[]</span> {
  switch (action.type) {
    case 'ADD_STEP':
      return <span class="hljs-section">[...state, action.payload]</span><span class="hljs-comment">;</span>
    case 'RESET':
      return <span class="hljs-section">[]</span><span class="hljs-comment">;</span>
    default:
      return state<span class="hljs-comment">;</span>
  }
}

const <span class="hljs-attr">handleRun</span> = () =&gt; {
    setIsRunning(true)<span class="hljs-comment">;</span>
    dispatch({ type: 'RESET' })<span class="hljs-comment">;</span>

    const <span class="hljs-attr">steps</span> = [<span class="hljs-string">"Check data format"</span>, <span class="hljs-string">"Data preprocessing"</span>, <span class="hljs-string">"Model core computing"</span>, <span class="hljs-string">"Output result generation in progress"</span>]<span class="hljs-comment">;</span>
    let <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>

    const <span class="hljs-attr">executeStep</span> = () =&gt; {
      if (i &lt; steps.length) {
        console.log("i:", i)<span class="hljs-comment">;</span>
        console.log("steps<span class="hljs-section">[i]</span>:", steps<span class="hljs-section">[i]</span>)<span class="hljs-comment">;</span>

        dispatch({ type: 'ADD_STEP', payload: steps<span class="hljs-section">[i]</span> })<span class="hljs-comment">;</span>

        i++<span class="hljs-comment">;</span>
        setTimeout(executeStep, 1000)<span class="hljs-comment">;</span>
      } else {
        dispatch({ type: 'ADD_STEP', payload: "Model execution finished!" })<span class="hljs-comment">;</span>
      }
    }
    executeStep()<span class="hljs-comment">;</span>
  }
</code></pre>
<ul>
<li><strong>ModelExecuteProcess.tsx</strong></li>
</ul>

<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">CheckCircle</span>, <span class="hljs-title class_">Loader</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"lucide-react"</span>;
<span class="hljs-keyword">import</span> { motion } <span class="hljs-keyword">from</span> <span class="hljs-string">"framer-motion"</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ModelExecuteProcessProps</span> {
    <span class="hljs-attr">status</span>: <span class="hljs-title class_">String</span>[];
}

<span class="hljs-keyword">const</span> <span class="hljs-title class_">ModelExecuteProcess</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>&lt;<span class="hljs-title class_">ModelExecuteProcessProps</span>&gt; = <span class="hljs-function">(<span class="hljs-params">{ status }</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"status: "</span>, status);
    <span class="hljs-comment">// get the last process status =&gt; current running progress status</span>
    <span class="hljs-keyword">const</span> lastStatus = status[status.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>];

    <span class="hljs-comment">// judge whether the current progress is finished </span>
    <span class="hljs-keyword">const</span> isProcessFinished = status.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> &amp;&amp; lastStatus?.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">"finished!"</span>);

    <span class="hljs-keyword">const</span> currentStepIndex = isProcessFinished ? status.<span class="hljs-property">length</span> : <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, status.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>);
    <span class="hljs-keyword">const</span> processSteps = [<span class="hljs-string">"Check data format"</span>, <span class="hljs-string">"Data preprocessing"</span>, <span class="hljs-string">"Model core computing"</span>, <span class="hljs-string">"Output result generation in progress"</span>, <span class="hljs-string">"Model execution finished!"</span>];

    <span class="hljs-keyword">return</span> (
    ......
    );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">ModelExecuteProcess</span>;
</code></pre>
<h3 data-id="heading-1">2. <code>useState</code>ï¼šç®€å•ç›´æ¥çš„çŠ¶æ€æ›¿æ¢</h3>
<ul>
<li>
<h4 data-id="heading-2">ç»“æ„</h4>
</li>
</ul>

<pre><code class="hljs language-scss" lang="scss">const <span class="hljs-selector-attr">[state, setState]</span> = <span class="hljs-built_in">useState</span>(initialState);
</code></pre>
<ul>
<li>
<h4 data-id="heading-3">å·¥ä½œåŸç†</h4>
</li>
</ul>
<p><code>setState</code> å‡½æ•°å¯ä»¥ç›´æ¥æ¥æ”¶æ–°çš„çŠ¶æ€å€¼ï¼Œæˆ–è€…ä¸€ä¸ªæ¥æ”¶ä¸Šä¸€ä¸ªçŠ¶æ€å¹¶è¿”å›æ–°çŠ¶æ€çš„å‡½æ•°ã€‚æ— è®ºé‡‡ç”¨å“ªç§æ–¹å¼ï¼Œ<code>setState</code> çš„æ ¸å¿ƒä½œç”¨æ˜¯æ›¿æ¢æ•´ä¸ªçŠ¶æ€å€¼ã€‚</p>
<ul>
<li>
<h4 data-id="heading-4">ç‰¹å¾</h4>
</li>
</ul>
<p>ä»£ç é‡å°‘ï¼Œå¯¹ç®€å•çŠ¶æ€éå¸¸ç›´è§‚ï¼›å¯¹äºåªéœ€è¦è·å–å’Œè®¾ç½®å•ä¸ªå€¼çš„éå¸¸æ–¹ä¾¿ä¾¿æ·ã€‚ä½†æ˜¯å½“çŠ¶æ€æ›´æ–°é€»è¾‘å¤æ‚æ—¶ï¼Œä¼šæ•£å¸ƒåœ¨å„ä¸ªå¤„ç†å‡½æ•°å½“ä¸­ï¼Œéš¾ä»¥ç»´æŠ¤ï¼Œæ­¤å¤–ä¼šæ¶‰åŠæ‰¹é‡å¤„ç†ã€ç«æ€æƒ…å†µï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä¸€ç›´æ— æ³•è§£å†³çš„é—®é¢˜ã€‚</p>
<h3 data-id="heading-5">3. <code>useReducer</code>ï¼šå¯é¢„æµ‹çš„çŠ¶æ€æ›¿æ¢</h3>
<ul>
<li>
<h4 data-id="heading-6">ç»“æ„</h4>
</li>
</ul>

<pre><code class="hljs language-scss" lang="scss">const <span class="hljs-selector-attr">[state, dispatch]</span> = <span class="hljs-built_in">useReducer</span>(reducer, initialState, init);
</code></pre>
<ul>
<li>
<h4 data-id="heading-7">å·¥ä½œåŸç†</h4>
</li>
</ul>
<p><code>reducer</code> å‡½æ•°ï¼šå®ƒæ¥æ”¶å½“å‰çš„ <code>state</code> å’Œä¸€ä¸ª <code>action</code> å¯¹è±¡ï¼Œç„¶åæ ¹æ® <code>action</code> çš„ç±»å‹è¿”å›ä¸€ä¸ªæ–°çš„çŠ¶æ€ã€‚å®ƒå°†çŠ¶æ€çš„è®¡ç®—é€»è¾‘ä¸çŠ¶æ€çš„ä½¿ç”¨åˆ†ç¦»å¼€æ¥ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> reducer = (state: <span class="hljs-type">String</span>[], action: Action): <span class="hljs-type">String</span>[] {
  <span class="hljs-keyword">switch</span> (action.type) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'ADD_STEP'</span>:
      <span class="hljs-keyword">return</span> [...state, action.payload];
    <span class="hljs-keyword">case</span> <span class="hljs-string">'RESET'</span>:
      <span class="hljs-keyword">return</span> [];
    <span class="hljs-keyword">default</span>:
      <span class="hljs-keyword">return</span> state;
  }
};
</code></pre>
<p><code>dispatch</code> å‡½æ•°ï¼š ç”¨äºè§¦å‘çŠ¶æ€æ›´æ–°ã€‚è°ƒç”¨<code>dispatch({ type: 'ADD_STEP', payload: steps[i] })</code>ï¼ŒReact å°±ä¼šå°†è¿™ä¸ª <code>action</code> ä¼ é€’ç»™ <code>reducer</code> å‡½æ•°è¿›è¡ŒçŠ¶æ€åˆ‡æ¢ï¼Œè¿›è¡Œåç»­çš„è®¡ç®—æ“ä½œã€‚</p>
<ul>
<li>
<h4 data-id="heading-8">ç‰¹å¾</h4>
</li>
</ul>
<p>æ‰€æœ‰çš„çŠ¶æ€è½¬æ¢é€»è¾‘éƒ½å°è£…åœ¨reducerå‡½æ•°ä¸­ï¼Œç»„ä»¶å†…éƒ¨åªéœ€è¦è°ƒç”¨dispatchï¼Œä»£ç æ›´å…·æœ‰å¯è¯»æ€§ï¼›å¹¶ä¸”é€‚åˆå¤„ç†åŒ…å«å¤šä¸ªå€¼çš„å¤æ‚çŠ¶æ€å¯¹è±¡ï¼›ç”±äºreduceræ˜¯çº¯å‡½æ•°ï¼Œå¢å¼ºäº†ä»£ç çš„å¯é¢„æµ‹æ€§ï¼Œå½“é‡åˆ°å¼‚æ­¥ã€æŒ‰é¡ºåºè¿½åŠ çš„åœºæ™¯æ—¶ï¼Œdispatchæ¯”setStateæ›´å¯é ã€‚</p>
<p><code>useState</code> å’Œ <code>useReducer</code> éƒ½æ˜¯Reactæä¾›çš„Hookï¼Œç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­ç®¡ç†çŠ¶æ€ã€‚å®ƒä»¬éƒ½èƒ½å®ç°æ›´æ–°çŠ¶æ€å¹¶è§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œä½†åœ¨ä½¿ç”¨åœºæ™¯ã€å¤æ‚åº¦å’Œå¯é¢„æµ‹æ€§æ–¹é¢æœ‰æ˜¾è‘—åŒºåˆ«ã€‚</p>
<h3 data-id="heading-9">4. ä½•æ—¶é€‰æ‹©å“ªä¸ªHookï¼Ÿ</h3>






























<table><thead><tr><th align="center"><strong>åœºæ™¯</strong></th><th align="center"><strong>æ¨è Hook</strong></th><th align="center"><strong>åŸå› </strong></th></tr></thead><tbody><tr><td align="center"><strong>ç®€å•çŠ¶æ€</strong></td><td align="center"><code>useState</code></td><td align="center">çŠ¶æ€æ˜¯ç‹¬ç«‹çš„åŸå§‹å€¼æˆ–ç®€å•å¯¹è±¡ï¼Œæ›´æ–°é€»è¾‘åªæœ‰ä¸€ä¸¤ç§</td></tr><tr><td align="center"><strong>çŠ¶æ€å…³è”</strong></td><td align="center"><code>useReducer</code></td><td align="center">æ–°çŠ¶æ€ä¾èµ–äºå‰ä¸€ä¸ªæˆ–å¤šä¸ªæ—§çŠ¶æ€ï¼Œæˆ–è€…çŠ¶æ€æ›´æ–°é€»è¾‘åˆ†æ•£åœ¨å¤šä¸ªå‡½æ•°ä¸­</td></tr><tr><td align="center"><strong>å¼‚æ­¥åºåˆ—</strong></td><td align="center"><code>useReducer</code></td><td align="center">éœ€è¦ä¸¥æ ¼æ§åˆ¶å¼‚æ­¥æ“ä½œï¼ˆå¦‚<code>setTimeout</code>æˆ–APIè°ƒç”¨ï¼‰åçš„çŠ¶æ€æ›´æ–°é¡ºåºå’Œå†…å®¹</td></tr><tr><td align="center"><strong>å¤§å‹åº”ç”¨</strong></td><td align="center"><code>useReducer</code></td><td align="center">çŠ¶æ€é€»è¾‘éœ€è¦è¢«å…±äº«ã€å¤ç”¨ï¼Œæˆ–è€…éœ€è¦ä½¿ç”¨Context APIæ¥è¿›è¡Œå…¨å±€ç®¡ç†ã€‚</td></tr></tbody></table>
<p>ä¸Šè¿°æ˜¯å°æåˆæ¬¡æ¥è§¦Reactçš„ä¸€ç‚¹ç‚¹ç†è§£ï¼Œå¸Œæœ›èƒ½æ…¢æ…¢ç§¯ç´¯è¿›æ­¥ï¼Œè‹¥å­˜åœ¨é”™è¯¯è¯·æŒ‡å‡ºï¼Œè°¢è°¢å¤§å®¶ï¼ï¼ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[VueåŠ¨æ€ç»„ä»¶ï¼šè®©ç»„ä»¶â€œæ´»â€èµ·æ¥çš„ç»ˆææŒ‡å—]]></title>    <link>https://juejin.cn/post/7579832417748647987</link>    <guid>https://juejin.cn/post/7579832417748647987</guid>    <pubDate>2025-12-04T15:03:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579832417748647987" data-draft-id="7579832186880655410" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="VueåŠ¨æ€ç»„ä»¶ï¼šè®©ç»„ä»¶â€œæ´»â€èµ·æ¥çš„ç»ˆææŒ‡å—"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2025-12-04T15:03:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŒ—è¾°alk"/> <meta itemprop="url" content="https://juejin.cn/user/1772855673241352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            VueåŠ¨æ€ç»„ä»¶ï¼šè®©ç»„ä»¶â€œæ´»â€èµ·æ¥çš„ç»ˆææŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1772855673241352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŒ—è¾°alk
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T15:03:12.000Z" title="Thu Dec 04 2025 15:03:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦åŠ¨æ€ç»„ä»¶ï¼Ÿ</h2>
<p>åœ¨Vueå¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°è¿™æ ·çš„åœºæ™¯ï¼šåŒä¸€ä¸ªåŒºåŸŸéœ€è¦æ ¹æ®ä¸åŒçš„æ¡ä»¶æ˜¾ç¤ºä¸åŒçš„ç»„ä»¶ã€‚æ¯”å¦‚ï¼š</p>
<ul>
<li>â€¢ ä¸€ä¸ªå¤šæ­¥éª¤è¡¨å•ï¼Œæ¯ä¸€æ­¥æ˜¾ç¤ºä¸åŒçš„è¡¨å•ç»„ä»¶</li>
<li>â€¢ ä¸€ä¸ªTabåˆ‡æ¢ç•Œé¢ï¼Œç‚¹å‡»ä¸åŒæ ‡ç­¾æ˜¾ç¤ºä¸åŒå†…å®¹</li>
<li>â€¢ ä¸€ä¸ªåŠ¨æ€ä»ªè¡¨ç›˜ï¼Œç”¨æˆ·å¯ä»¥è‡ªç”±æ‹–æ‹½æ·»åŠ ä¸åŒçš„å°éƒ¨ä»¶</li>
</ul>
<p>å¦‚æœä¸ºæ¯ä¸ªåœºæ™¯éƒ½å†™ä¸€å †<code>v-if</code>ã€<code>v-else-if</code>ï¼Œä»£ç ä¼šå˜å¾—è‡ƒè‚¿ä¸”éš¾ä»¥ç»´æŠ¤ã€‚è¿™æ—¶å€™ï¼Œ<strong>åŠ¨æ€ç»„ä»¶</strong>å°±é—ªäº®ç™»åœºäº†ï¼</p>
<h2 data-id="heading-1">ä¸€ã€åŠ¨æ€ç»„ä»¶çš„åŸºæœ¬æ¦‚å¿µ</h2>
<h3 data-id="heading-2">ä»€ä¹ˆæ˜¯åŠ¨æ€ç»„ä»¶ï¼Ÿ</h3>
<p>åŠ¨æ€ç»„ä»¶æ˜¯Vueæä¾›çš„ä¸€ç§ç‰¹æ®Šæœºåˆ¶ï¼Œå…è®¸ä½ <strong>åœ¨è¿è¡Œæ—¶åŠ¨æ€åˆ‡æ¢ä¸åŒçš„ç»„ä»¶</strong>ï¼Œè€Œä¸éœ€è¦åœ¨æ¨¡æ¿ä¸­å†™æ­»ç»„ä»¶çš„æ ‡ç­¾ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
Â Â Â Â <span class="hljs-comment">&lt;!--Â åŠ¨æ€ç»„ä»¶ï¼šcomponentä¼šæ ¹æ®currentComponentçš„å€¼æ¸²æŸ“ä¸åŒçš„ç»„ä»¶Â --&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">component</span>Â <span class="hljs-attr">:is</span>=<span class="hljs-string">"currentComponent"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">component</span>&gt;</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span>Â @<span class="hljs-attr">click</span>=<span class="hljs-string">"toggleComponent"</span>&gt;</span>åˆ‡æ¢ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span>Â <span class="hljs-title class_">ComponentA</span>Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'./ComponentA.vue'</span>
<span class="hljs-keyword">import</span>Â <span class="hljs-title class_">ComponentB</span>Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'./ComponentB.vue'</span>

<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">default</span>Â {
Â Â <span class="hljs-title function_">data</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â {
Â Â Â Â Â Â <span class="hljs-attr">currentComponent</span>:Â <span class="hljs-string">'ComponentA'</span>
Â Â Â Â }
Â Â },
Â Â <span class="hljs-attr">components</span>:Â {
Â Â Â Â <span class="hljs-title class_">ComponentA</span>,
Â Â Â Â <span class="hljs-title class_">ComponentB</span>
Â Â },
Â Â <span class="hljs-attr">methods</span>:Â {
Â Â Â Â <span class="hljs-title function_">toggleComponent</span>(<span class="hljs-params"/>)Â {
Â Â Â Â Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentComponent</span>Â =Â 
Â Â Â Â Â Â Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentComponent</span>Â ===Â <span class="hljs-string">'ComponentA'</span>Â 
Â Â Â Â Â Â Â Â Â Â ?Â <span class="hljs-string">'ComponentB'</span>Â 
Â Â Â Â Â Â Â Â Â Â :Â <span class="hljs-string">'ComponentA'</span>
Â Â Â Â }
Â Â }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 data-id="heading-3">äºŒã€åŠ¨æ€ç»„ä»¶çš„æ ¸å¿ƒç”¨æ³•</h2>
<h3 data-id="heading-4">1. ä½¿ç”¨<code>:is</code>å±æ€§ç»‘å®š</h3>
<p><code>:is</code>å±æ€§å¯ä»¥æ¥æ”¶ä¸‰ç§ç±»å‹çš„å€¼ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
Â Â <span class="hljs-comment">&lt;!--Â 1.Â å­—ç¬¦ä¸²ï¼šå·²æ³¨å†Œçš„ç»„ä»¶åÂ --&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">component</span>Â <span class="hljs-attr">:is</span>=<span class="hljs-string">"currentTab"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">component</span>&gt;</span>
Â Â 
Â Â <span class="hljs-comment">&lt;!--Â 2.Â ç»„ä»¶é€‰é¡¹å¯¹è±¡Â --&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">component</span>Â <span class="hljs-attr">:is</span>=<span class="hljs-string">"currentComponentObject"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">component</span>&gt;</span>
Â Â 
Â Â <span class="hljs-comment">&lt;!--Â 3.Â å¼‚æ­¥ç»„ä»¶å‡½æ•°Â --&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">component</span>Â <span class="hljs-attr">:is</span>=<span class="hljs-string">"asyncComponent"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">component</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<h3 data-id="heading-5">2. ä¿æŒç»„ä»¶çŠ¶æ€ï¼š<code>&lt;keep-alive&gt;</code></h3>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒåŠ¨æ€ç»„ä»¶åˆ‡æ¢æ—¶ä¼š<strong>é”€æ¯æ—§ç»„ä»¶å¹¶åˆ›å»ºæ–°ç»„ä»¶</strong>ï¼Œè¿™æ„å‘³ç€ç»„ä»¶çš„çŠ¶æ€ä¼šä¸¢å¤±ã€‚ä½¿ç”¨<code>&lt;keep-alive&gt;</code>å¯ä»¥ç¼“å­˜ç»„ä»¶å®ä¾‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
Â Â <span class="hljs-comment">&lt;!--Â ç¼“å­˜æ‰€æœ‰åŠ¨æ€ç»„ä»¶Â --&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">keep-alive</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">component</span>Â <span class="hljs-attr">:is</span>=<span class="hljs-string">"currentComponent"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">component</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">keep-alive</span>&gt;</span>
Â Â 
Â Â <span class="hljs-comment">&lt;!--Â åªç¼“å­˜ç‰¹å®šç»„ä»¶Â --&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">keep-alive</span>Â <span class="hljs-attr">include</span>=<span class="hljs-string">"ComponentA,ComponentB"</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">component</span>Â <span class="hljs-attr">:is</span>=<span class="hljs-string">"currentComponent"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">component</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">keep-alive</span>&gt;</span>
Â Â 
Â Â <span class="hljs-comment">&lt;!--Â æ’é™¤æŸäº›ç»„ä»¶Â --&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">keep-alive</span>Â <span class="hljs-attr">exclude</span>=<span class="hljs-string">"ComponentC"</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">component</span>Â <span class="hljs-attr">:is</span>=<span class="hljs-string">"currentComponent"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">component</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">keep-alive</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<h2 data-id="heading-6">ä¸‰ã€åŠ¨æ€ç»„ä»¶çš„å®Œæ•´ç¤ºä¾‹</h2>
<h3 data-id="heading-7">åœºæ™¯ï¼šæ„å»ºä¸€ä¸ªTabåˆ‡æ¢ç³»ç»Ÿ</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>Â <span class="hljs-attr">class</span>=<span class="hljs-string">"tab-system"</span>&gt;</span>
Â Â Â Â <span class="hljs-comment">&lt;!--Â Tabæ ‡é¢˜Â --&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>Â <span class="hljs-attr">class</span>=<span class="hljs-string">"tab-headers"</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span>Â 
Â Â Â Â Â Â Â Â <span class="hljs-attr">v-for</span>=<span class="hljs-string">"tabÂ inÂ tabs"</span>Â 
Â Â Â Â Â Â Â Â <span class="hljs-attr">:key</span>=<span class="hljs-string">"tab.name"</span>
Â Â Â Â Â Â Â Â @<span class="hljs-attr">click</span>=<span class="hljs-string">"currentTabÂ =Â tab.name"</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">:class</span>=<span class="hljs-string">"{Â active:Â currentTabÂ ===Â tab.nameÂ }"</span>
Â Â Â Â Â Â &gt;</span>
Â Â Â Â Â Â Â Â {{Â tab.titleÂ }}
Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">&lt;!--Â Tabå†…å®¹Â -Â ä½¿ç”¨åŠ¨æ€ç»„ä»¶Â --&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>Â <span class="hljs-attr">class</span>=<span class="hljs-string">"tab-content"</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">keep-alive</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">component</span>Â 
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">:is</span>=<span class="hljs-string">"currentTab"</span>
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">:key</span>=<span class="hljs-string">"currentTab"</span>
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">:tab-data</span>=<span class="hljs-string">"tabData"</span>
Â Â Â Â Â Â Â Â Â Â @<span class="hljs-attr">data-change</span>=<span class="hljs-string">"handleDataChange"</span>
Â Â Â Â Â Â Â Â &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">component</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">keep-alive</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span>Â <span class="hljs-title class_">HomeTab</span>Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'./tabs/HomeTab.vue'</span>
<span class="hljs-keyword">import</span>Â <span class="hljs-title class_">ProfileTab</span>Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'./tabs/ProfileTab.vue'</span>
<span class="hljs-keyword">import</span>Â <span class="hljs-title class_">SettingsTab</span>Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'./tabs/SettingsTab.vue'</span>

<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">default</span>Â {
Â Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'TabSystem'</span>,
Â Â <span class="hljs-attr">components</span>:Â {
Â Â Â Â <span class="hljs-title class_">HomeTab</span>,
Â Â Â Â <span class="hljs-title class_">ProfileTab</span>,
Â Â Â Â <span class="hljs-title class_">SettingsTab</span>
Â Â },
Â Â <span class="hljs-title function_">data</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â {
Â Â Â Â Â Â <span class="hljs-attr">currentTab</span>:Â <span class="hljs-string">'HomeTab'</span>,
Â Â Â Â Â Â <span class="hljs-attr">tabData</span>:Â {},
Â Â Â Â Â Â <span class="hljs-attr">tabs</span>:Â [
Â Â Â Â Â Â Â Â {Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'HomeTab'</span>,Â <span class="hljs-attr">title</span>:Â <span class="hljs-string">'é¦–é¡µ'</span>Â },
Â Â Â Â Â Â Â Â {Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'ProfileTab'</span>,Â <span class="hljs-attr">title</span>:Â <span class="hljs-string">'ä¸ªäººèµ„æ–™'</span>Â },
Â Â Â Â Â Â Â Â {Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'SettingsTab'</span>,Â <span class="hljs-attr">title</span>:Â <span class="hljs-string">'è®¾ç½®'</span>Â }
Â Â Â Â Â Â ]
Â Â Â Â }
Â Â },
Â Â <span class="hljs-attr">methods</span>:Â {
Â Â Â Â <span class="hljs-title function_">handleDataChange</span>(<span class="hljs-params">newData</span>)Â {
Â Â Â Â Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">tabData</span>Â =Â {Â ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">tabData</span>,Â ...newDataÂ }
Â Â Â Â }
Â Â }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>Â <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.tab-system</span>Â {
Â Â <span class="hljs-attribute">border</span>:Â <span class="hljs-number">1px</span>Â solidÂ <span class="hljs-number">#e0e0e0</span>;
Â Â <span class="hljs-attribute">border-radius</span>:Â <span class="hljs-number">8px</span>;
Â Â <span class="hljs-attribute">overflow</span>:Â hidden;
}

<span class="hljs-selector-class">.tab-headers</span>Â {
Â Â <span class="hljs-attribute">display</span>:Â flex;
Â Â <span class="hljs-attribute">background</span>:Â <span class="hljs-number">#f5f5f5</span>;
Â Â <span class="hljs-attribute">border-bottom</span>:Â <span class="hljs-number">1px</span>Â solidÂ <span class="hljs-number">#e0e0e0</span>;
}

<span class="hljs-selector-class">.tab-headers</span>Â <span class="hljs-selector-tag">button</span>Â {
Â Â <span class="hljs-attribute">padding</span>:Â <span class="hljs-number">12px</span>Â <span class="hljs-number">24px</span>;
Â Â <span class="hljs-attribute">background</span>:Â none;
Â Â <span class="hljs-attribute">border</span>:Â none;
Â Â <span class="hljs-attribute">cursor</span>:Â pointer;
Â Â <span class="hljs-attribute">font-size</span>:Â <span class="hljs-number">16px</span>;
Â Â <span class="hljs-attribute">transition</span>:Â allÂ <span class="hljs-number">0.3s</span>;
}

<span class="hljs-selector-class">.tab-headers</span>Â <span class="hljs-selector-tag">button</span><span class="hljs-selector-pseudo">:hover</span>Â {
Â Â <span class="hljs-attribute">background</span>:Â <span class="hljs-number">#e8e8e8</span>;
}

<span class="hljs-selector-class">.tab-headers</span>Â <span class="hljs-selector-tag">button</span><span class="hljs-selector-class">.active</span>Â {
Â Â <span class="hljs-attribute">background</span>:Â white;
Â Â <span class="hljs-attribute">border-bottom</span>:Â <span class="hljs-number">3px</span>Â solidÂ <span class="hljs-number">#42b983</span>;
Â Â <span class="hljs-attribute">font-weight</span>:Â bold;
}

<span class="hljs-selector-class">.tab-content</span>Â {
Â Â <span class="hljs-attribute">padding</span>:Â <span class="hljs-number">20px</span>;
Â Â <span class="hljs-attribute">min-height</span>:Â <span class="hljs-number">300px</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<h2 data-id="heading-8">å››ã€åŠ¨æ€ç»„ä»¶çš„å·¥ä½œåŸç†</h2>
<p>è®©æˆ‘ä»¬é€šè¿‡æµç¨‹å›¾æ¥ç†è§£åŠ¨æ€ç»„ä»¶çš„æ¸²æŸ“è¿‡ç¨‹ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby">å­—ç¬¦ä¸²

ç»„ä»¶å¯¹è±¡

å¼‚æ­¥ç»„ä»¶

æ˜¯

å¦

æ˜¯

æ˜¯

å¦

å¦

æ˜¯

å¦

æ¨¡æ¿è§£æé‡åˆ° component æ ‡ç­¾è§£æ <span class="hljs-symbol">:is</span> å±æ€§æŸ¥æ‰¾å·²æ³¨å†Œç»„ä»¶ç›´æ¥ä½¿ç”¨ç»„ä»¶é€‰é¡¹åŠ è½½å¼‚æ­¥ç»„ä»¶ç»„ä»¶æ˜¯å¦å­˜åœ¨<span class="hljs-string">?åˆ›</span>å»ºç»„ä»¶å®ä¾‹æ¸²æŸ“æ³¨é‡ŠèŠ‚ç‚¹/æ§åˆ¶å°è­¦å‘Šæ˜¯å¦æœ‰ keep-alive?æ£€æŸ¥ç¼“å­˜æ˜¯å¦å·²ç¼“å­˜<span class="hljs-string">?ä»</span>ç¼“å­˜æ¢å¤å®ä¾‹åˆ›å»ºæ–°å®ä¾‹å¹¶ç¼“å­˜è§¦å‘ activated ç”Ÿå‘½å‘¨æœŸè§¦å‘å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸæ¸²æŸ“ç»„ä»¶åˆ‡æ¢ç»„ä»¶æ˜¯å¦ç›¸åŒç»„ä»¶<span class="hljs-string">?ä¿</span>æŒå½“å‰çŠ¶æ€é”€æ¯æ—§ç»„ä»¶
</code></pre>
<h2 data-id="heading-9">äº”ã€é«˜çº§åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-10">åœºæ™¯1ï¼šåŠ¨æ€è¡¨å•ç”Ÿæˆå™¨</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>Â <span class="hljs-attr">class</span>=<span class="hljs-string">"dynamic-form"</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>{{Â formConfig.titleÂ }}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">component</span>
Â Â Â Â Â Â <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(field,Â index)Â inÂ formConfig.fields"</span>
Â Â Â Â Â Â <span class="hljs-attr">:key</span>=<span class="hljs-string">"index"</span>
Â Â Â Â Â Â <span class="hljs-attr">:is</span>=<span class="hljs-string">"field.component"</span>
Â Â Â Â Â Â <span class="hljs-attr">v-model</span>=<span class="hljs-string">"formData[field.name]"</span>
Â Â Â Â Â Â <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"field.props"</span>
Â Â Â Â Â Â @<span class="hljs-attr">custom-event</span>=<span class="hljs-string">"handleCustomEvent"</span>
Â Â Â Â &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">component</span>&gt;</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span>Â @<span class="hljs-attr">click</span>=<span class="hljs-string">"submitForm"</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span>Â <span class="hljs-title class_">TextInput</span>Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'./form-components/TextInput.vue'</span>
<span class="hljs-keyword">import</span>Â <span class="hljs-title class_">SelectInput</span>Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'./form-components/SelectInput.vue'</span>
<span class="hljs-keyword">import</span>Â <span class="hljs-title class_">CheckboxGroup</span>Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'./form-components/CheckboxGroup.vue'</span>
<span class="hljs-keyword">import</span>Â <span class="hljs-title class_">DatePicker</span>Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'./form-components/DatePicker.vue'</span>

<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">default</span>Â {
Â Â <span class="hljs-attr">components</span>:Â {
Â Â Â Â <span class="hljs-title class_">TextInput</span>,
Â Â Â Â <span class="hljs-title class_">SelectInput</span>,
Â Â Â Â <span class="hljs-title class_">CheckboxGroup</span>,
Â Â Â Â <span class="hljs-title class_">DatePicker</span>
Â Â },
Â Â <span class="hljs-title function_">data</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â {
Â Â Â Â Â Â <span class="hljs-attr">formData</span>:Â {},
Â Â Â Â Â Â <span class="hljs-attr">formConfig</span>:Â {
Â Â Â Â Â Â Â Â <span class="hljs-attr">title</span>:Â <span class="hljs-string">'ç”¨æˆ·æ³¨å†Œ'</span>,
Â Â Â Â Â Â Â Â <span class="hljs-attr">fields</span>:Â [
Â Â Â Â Â Â Â Â Â Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'username'</span>,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">label</span>:Â <span class="hljs-string">'ç”¨æˆ·å'</span>,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">component</span>:Â <span class="hljs-string">'TextInput'</span>,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">props</span>:Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">placeholder</span>:Â <span class="hljs-string">'è¯·è¾“å…¥ç”¨æˆ·å'</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">maxlength</span>:Â <span class="hljs-number">20</span>
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â },
Â Â Â Â Â Â Â Â Â Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'gender'</span>,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">label</span>:Â <span class="hljs-string">'æ€§åˆ«'</span>,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">component</span>:Â <span class="hljs-string">'SelectInput'</span>,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">props</span>:Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">options</span>:Â [
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â {Â <span class="hljs-attr">value</span>:Â <span class="hljs-string">'male'</span>,Â <span class="hljs-attr">label</span>:Â <span class="hljs-string">'ç”·'</span>Â },
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â {Â <span class="hljs-attr">value</span>:Â <span class="hljs-string">'female'</span>,Â <span class="hljs-attr">label</span>:Â <span class="hljs-string">'å¥³'</span>Â }
Â Â Â Â Â Â Â Â Â Â Â Â Â Â ]
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â },
Â Â Â Â Â Â Â Â Â Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'hobbies'</span>,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">label</span>:Â <span class="hljs-string">'çˆ±å¥½'</span>,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">component</span>:Â <span class="hljs-string">'CheckboxGroup'</span>,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">props</span>:Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">options</span>:Â [
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â {Â <span class="hljs-attr">value</span>:Â <span class="hljs-string">'reading'</span>,Â <span class="hljs-attr">label</span>:Â <span class="hljs-string">'é˜…è¯»'</span>Â },
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â {Â <span class="hljs-attr">value</span>:Â <span class="hljs-string">'sports'</span>,Â <span class="hljs-attr">label</span>:Â <span class="hljs-string">'è¿åŠ¨'</span>Â },
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â {Â <span class="hljs-attr">value</span>:Â <span class="hljs-string">'music'</span>,Â <span class="hljs-attr">label</span>:Â <span class="hljs-string">'éŸ³ä¹'</span>Â }
Â Â Â Â Â Â Â Â Â Â Â Â Â Â ]
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â ]
Â Â Â Â Â Â }
Â Â Â Â }
Â Â },
Â Â <span class="hljs-title function_">created</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-comment">//Â åˆå§‹åŒ–è¡¨å•æ•°æ®</span>
Â Â Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">formConfig</span>.<span class="hljs-property">fields</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">field</span>Â =&gt;</span>Â {
Â Â Â Â Â Â <span class="hljs-variable language_">this</span>.$set(<span class="hljs-variable language_">this</span>.<span class="hljs-property">formData</span>,Â field.<span class="hljs-property">name</span>,Â <span class="hljs-string">''</span>)
Â Â Â Â })
Â Â },
Â Â <span class="hljs-attr">methods</span>:Â {
Â Â Â Â <span class="hljs-title function_">submitForm</span>(<span class="hljs-params"/>)Â {
Â Â Â Â Â Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¡¨å•æ•°æ®:'</span>,Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">formData</span>)
Â Â Â Â Â Â <span class="hljs-comment">//Â æäº¤é€»è¾‘...</span>
Â Â Â Â },
Â Â Â Â <span class="hljs-title function_">handleCustomEvent</span>(<span class="hljs-params">payload</span>)Â {
Â Â Â Â Â Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¥æ”¶åˆ°è‡ªå®šä¹‰äº‹ä»¶:'</span>,Â payload)
Â Â Â Â }
Â Â }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-11">åœºæ™¯2ï¼šæ’ä»¶åŒ–æ¶æ„</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>Â <span class="hljs-attr">class</span>=<span class="hljs-string">"plugin-dashboard"</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>Â <span class="hljs-attr">class</span>=<span class="hljs-string">"plugin-sidebar"</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å¯ç”¨æ’ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">li</span>Â 
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">v-for</span>=<span class="hljs-string">"pluginÂ inÂ availablePlugins"</span>
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">:key</span>=<span class="hljs-string">"plugin.name"</span>
Â Â Â Â Â Â Â Â Â Â @<span class="hljs-attr">click</span>=<span class="hljs-string">"activatePlugin(plugin)"</span>
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">:class</span>=<span class="hljs-string">"{Â active:Â activePlugin?.nameÂ ===Â plugin.nameÂ }"</span>
Â Â Â Â Â Â Â Â &gt;</span>
Â Â Â Â Â Â Â Â Â Â {{Â plugin.displayNameÂ }}
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>Â <span class="hljs-attr">class</span>=<span class="hljs-string">"plugin-main"</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>Â <span class="hljs-attr">v-if</span>=<span class="hljs-string">"activePlugin"</span>Â <span class="hljs-attr">class</span>=<span class="hljs-string">"plugin-container"</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">component</span>
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">:is</span>=<span class="hljs-string">"activePlugin.component"</span>
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">:key</span>=<span class="hljs-string">"activePlugin.name"</span>
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">:config</span>=<span class="hljs-string">"pluginConfigs[activePlugin.name]"</span>
Â Â Â Â Â Â Â Â Â Â @<span class="hljs-attr">config-change</span>=<span class="hljs-string">"updatePluginConfig"</span>
Â Â Â Â Â Â Â Â &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">component</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>Â <span class="hljs-attr">v-else</span>Â <span class="hljs-attr">class</span>=<span class="hljs-string">"plugin-placeholder"</span>&gt;</span>
Â Â Â Â Â Â Â Â è¯·ä»å·¦ä¾§é€‰æ‹©ä¸€ä¸ªæ’ä»¶
Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-comment">//Â åŠ¨æ€å¯¼å…¥æ‰€æœ‰æ’ä»¶</span>
<span class="hljs-keyword">const</span>Â pluginModulesÂ =Â <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-title function_">glob</span>(<span class="hljs-string">'./plugins/*.vue'</span>)

<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">default</span>Â {
Â Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'PluginDashboard'</span>,
Â Â <span class="hljs-title function_">data</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â {
Â Â Â Â Â Â <span class="hljs-attr">activePlugin</span>:Â <span class="hljs-literal">null</span>,
Â Â Â Â Â Â <span class="hljs-attr">pluginConfigs</span>:Â {},
Â Â Â Â Â Â <span class="hljs-attr">availablePlugins</span>:Â [
Â Â Â Â Â Â Â Â {
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'chart'</span>,
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">displayName</span>:Â <span class="hljs-string">'å›¾è¡¨åˆ†æ'</span>,
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">component</span>:Â <span class="hljs-function">()Â =&gt;</span>Â <span class="hljs-keyword">import</span>(<span class="hljs-string">'./plugins/ChartPlugin.vue'</span>)
Â Â Â Â Â Â Â Â },
Â Â Â Â Â Â Â Â {
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'table'</span>,
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">displayName</span>:Â <span class="hljs-string">'æ•°æ®è¡¨æ ¼'</span>,
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">component</span>:Â <span class="hljs-function">()Â =&gt;</span>Â <span class="hljs-keyword">import</span>(<span class="hljs-string">'./plugins/TablePlugin.vue'</span>)
Â Â Â Â Â Â Â Â },
Â Â Â Â Â Â Â Â {
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'calendar'</span>,
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">displayName</span>:Â <span class="hljs-string">'æ—¥å†è§†å›¾'</span>,
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">component</span>:Â <span class="hljs-function">()Â =&gt;</span>Â <span class="hljs-keyword">import</span>(<span class="hljs-string">'./plugins/CalendarPlugin.vue'</span>)
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â ]
Â Â Â Â }
Â Â },
Â Â <span class="hljs-attr">methods</span>:Â {
Â Â Â Â <span class="hljs-title function_">activatePlugin</span>(<span class="hljs-params">plugin</span>)Â {
Â Â Â Â Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">activePlugin</span>Â =Â plugin
Â Â Â Â Â Â 
Â Â Â Â Â Â <span class="hljs-comment">//Â åˆå§‹åŒ–é…ç½®</span>
Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">pluginConfigs</span>[plugin.<span class="hljs-property">name</span>])Â {
Â Â Â Â Â Â Â Â <span class="hljs-variable language_">this</span>.$set(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pluginConfigs</span>,Â plugin.<span class="hljs-property">name</span>,Â {
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">theme</span>:Â <span class="hljs-string">'light'</span>,
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">autoRefresh</span>:Â <span class="hljs-literal">true</span>,
Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â å…¶ä»–é»˜è®¤é…ç½®...</span>
Â Â Â Â Â Â Â Â })
Â Â Â Â Â Â }
Â Â Â Â },
Â Â Â Â <span class="hljs-title function_">updatePluginConfig</span>(<span class="hljs-params">newConfig</span>)Â {
Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (<span class="hljs-variable language_">this</span>.<span class="hljs-property">activePlugin</span>)Â {
Â Â Â Â Â Â Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">pluginConfigs</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">activePlugin</span>.<span class="hljs-property">name</span>]Â =Â {
Â Â Â Â Â Â Â Â Â Â ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">pluginConfigs</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">activePlugin</span>.<span class="hljs-property">name</span>],
Â Â Â Â Â Â Â Â Â Â ...newConfig
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â }
Â Â Â Â }
Â Â }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 data-id="heading-12">å…­ã€æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-13">1.Â <strong>æ€§èƒ½ä¼˜åŒ–</strong></h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
Â Â <span class="hljs-comment">&lt;!--Â ä½¿ç”¨å¼‚æ­¥ç»„ä»¶Â +Â éª¨æ¶å±Â --&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">template</span>Â #<span class="hljs-attr">default</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">component</span>Â <span class="hljs-attr">:is</span>=<span class="hljs-string">"asyncComponent"</span>Â /&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">template</span>Â #<span class="hljs-attr">fallback</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">SkeletonLoader</span>Â /&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-comment">//Â è·¯ç”±çº§åˆ«çš„ä»£ç åˆ†å‰²</span>
<span class="hljs-keyword">const</span>Â <span class="hljs-title function_">AsyncComponent</span>Â =Â (<span class="hljs-params"/>)Â =&gt;Â ({
Â Â <span class="hljs-attr">component</span>:Â <span class="hljs-keyword">import</span>(<span class="hljs-string">'./HeavyComponent.vue'</span>),
Â Â <span class="hljs-attr">loading</span>:Â <span class="hljs-title class_">LoadingComponent</span>,Â Â <span class="hljs-comment">//Â åŠ è½½ä¸­çš„ç»„ä»¶</span>
Â Â <span class="hljs-attr">error</span>:Â <span class="hljs-title class_">ErrorComponent</span>,Â Â Â Â Â Â <span class="hljs-comment">//Â åŠ è½½å¤±è´¥çš„ç»„ä»¶</span>
Â Â <span class="hljs-attr">delay</span>:Â <span class="hljs-number">200</span>,Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â å»¶è¿Ÿæ˜¾ç¤ºåŠ è½½ç»„ä»¶</span>
Â Â <span class="hljs-attr">timeout</span>:Â <span class="hljs-number">3000</span>Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â è¶…æ—¶æ—¶é—´</span>
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-14">2.Â <strong>çŠ¶æ€ç®¡ç†</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">//Â ä½¿ç”¨Vuex/Piniaç®¡ç†åŠ¨æ€ç»„ä»¶çš„å…±äº«çŠ¶æ€</span>
<span class="hljs-keyword">import</span>Â {Â defineStoreÂ }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'pinia'</span>

<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">const</span>Â useDynamicComponentsStoreÂ =Â <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'dynamicComponents'</span>,Â {
Â Â <span class="hljs-attr">state</span>:Â <span class="hljs-function">()Â =&gt;</span>Â ({
Â Â Â Â <span class="hljs-attr">activeComponents</span>:Â {},
Â Â Â Â <span class="hljs-attr">componentStates</span>:Â {},
Â Â Â Â <span class="hljs-attr">componentConfigs</span>:Â {}
Â Â }),
Â Â <span class="hljs-attr">actions</span>:Â {
Â Â Â Â <span class="hljs-title function_">registerComponent</span>(<span class="hljs-params">name,Â config</span>)Â {
Â Â Â Â Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeComponents</span>[name]Â =Â {
Â Â Â Â Â Â Â Â ...config,
Â Â Â Â Â Â Â Â <span class="hljs-attr">isActive</span>:Â <span class="hljs-literal">true</span>
Â Â Â Â Â Â }
Â Â Â Â },
Â Â Â Â <span class="hljs-title function_">saveComponentState</span>(<span class="hljs-params">name,Â state</span>)Â {
Â Â Â Â Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">componentStates</span>[name]Â =Â state
Â Â Â Â },
Â Â Â Â <span class="hljs-title function_">restoreComponentState</span>(<span class="hljs-params">name</span>)Â {
Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">componentStates</span>[name]Â ||Â {}
Â Â Â Â }
Â Â }
})
</code></pre>
<h3 data-id="heading-15">3.Â <strong>é”™è¯¯å¤„ç†</strong></h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">ErrorBoundary</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">component</span>
Â Â Â Â Â Â <span class="hljs-attr">:is</span>=<span class="hljs-string">"currentComponent"</span>
Â Â Â Â Â Â @<span class="hljs-attr">error</span>=<span class="hljs-string">"handleComponentError"</span>
Â Â Â Â /&gt;</span>
Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">ErrorBoundary</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span>Â {Â <span class="hljs-title class_">ErrorBoundary</span>Â }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'./ErrorBoundary.vue'</span>

<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">default</span>Â {
Â Â <span class="hljs-attr">components</span>:Â {Â <span class="hljs-title class_">ErrorBoundary</span>Â },
Â Â <span class="hljs-attr">methods</span>:Â {
Â Â Â Â <span class="hljs-title function_">handleComponentError</span>(<span class="hljs-params">error,Â vm,Â info</span>)Â {
Â Â Â Â Â Â <span class="hljs-comment">//Â è®°å½•é”™è¯¯</span>
Â Â Â Â Â Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'åŠ¨æ€ç»„ä»¶é”™è¯¯:'</span>,Â error)
Â Â Â Â Â Â 
Â Â Â Â Â Â <span class="hljs-comment">//Â ä¸ŠæŠ¥åˆ°ç›‘æ§ç³»ç»Ÿ</span>
Â Â Â Â Â Â <span class="hljs-variable language_">this</span>.$track(<span class="hljs-string">'component-error'</span>,Â {
Â Â Â Â Â Â Â Â <span class="hljs-attr">component</span>:Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentComponent</span>,
Â Â Â Â Â Â Â Â <span class="hljs-attr">error</span>:Â error.<span class="hljs-property">message</span>,
Â Â Â Â Â Â Â Â info
Â Â Â Â Â Â })
Â Â Â Â Â Â 
Â Â Â Â Â Â <span class="hljs-comment">//Â é™çº§å¤„ç†</span>
Â Â Â Â Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentComponent</span>Â =Â <span class="hljs-string">'FallbackComponent'</span>
Â Â Â Â }
Â Â }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 data-id="heading-16">ä¸ƒã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-17">Q1: åŠ¨æ€ç»„ä»¶åˆ‡æ¢æ—¶å¦‚ä½•ä¼ é€’propsï¼Ÿ</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
Â Â <span class="hljs-comment">&lt;!--Â æ–¹æ³•1ï¼šä½¿ç”¨v-bindç»‘å®šæ‰€æœ‰propsÂ --&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">component</span>Â 
Â Â Â Â <span class="hljs-attr">:is</span>=<span class="hljs-string">"currentComponent"</span>Â 
Â Â Â Â <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"componentProps"</span>
Â Â /&gt;</span>
Â Â 
Â Â <span class="hljs-comment">&lt;!--Â æ–¹æ³•2ï¼šä½¿ç”¨v-onç»‘å®šæ‰€æœ‰äº‹ä»¶Â --&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">component</span>Â 
Â Â Â Â <span class="hljs-attr">:is</span>=<span class="hljs-string">"currentComponent"</span>
Â Â Â Â <span class="hljs-attr">v-on</span>=<span class="hljs-string">"componentEvents"</span>
Â Â /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">default</span>Â {
Â Â <span class="hljs-attr">computed</span>:Â {
Â Â Â Â <span class="hljs-title function_">componentProps</span>(<span class="hljs-params"/>)Â {
Â Â Â Â Â Â <span class="hljs-keyword">const</span>Â propsMapÂ =Â {
Â Â Â Â Â Â Â Â <span class="hljs-title class_">ComponentA</span>:Â {Â <span class="hljs-attr">title</span>:Â <span class="hljs-string">'Aç»„ä»¶'</span>,Â <span class="hljs-attr">count</span>:Â <span class="hljs-number">10</span>Â },
Â Â Â Â Â Â Â Â <span class="hljs-title class_">ComponentB</span>:Â {Â <span class="hljs-attr">items</span>:Â [<span class="hljs-number">1</span>,Â <span class="hljs-number">2</span>,Â <span class="hljs-number">3</span>],Â <span class="hljs-attr">loading</span>:Â <span class="hljs-literal">false</span>Â }
Â Â Â Â Â Â }
Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â propsMap[<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentComponent</span>]Â ||Â {}
Â Â Â Â },
Â Â Â Â <span class="hljs-title function_">componentEvents</span>(<span class="hljs-params"/>)Â {
Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â {
Â Â Â Â Â Â Â Â <span class="hljs-attr">submit</span>:Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleSubmit</span>,
Â Â Â Â Â Â Â Â <span class="hljs-attr">cancel</span>:Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleCancel</span>,
Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â æ”¯æŒæ‰€æœ‰è‡ªå®šä¹‰äº‹ä»¶</span>
Â Â Â Â Â Â Â Â ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">customEvents</span>
Â Â Â Â Â Â }
Â Â Â Â }
Â Â }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-18">Q2: å¦‚ä½•å®ç°åŠ¨æ€ç»„ä»¶çš„åŠ¨ç”»åˆ‡æ¢ï¼Ÿ</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>Â <span class="hljs-attr">class</span>=<span class="hljs-string">"component-transition"</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">transition</span>Â 
Â Â Â Â Â Â <span class="hljs-attr">:name</span>=<span class="hljs-string">"transitionName"</span>
Â Â Â Â Â Â <span class="hljs-attr">mode</span>=<span class="hljs-string">"out-in"</span>
Â Â Â Â Â Â @<span class="hljs-attr">before-enter</span>=<span class="hljs-string">"beforeEnter"</span>
Â Â Â Â Â Â @<span class="hljs-attr">after-enter</span>=<span class="hljs-string">"afterEnter"</span>
Â Â Â Â &gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">component</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">:is</span>=<span class="hljs-string">"currentComponent"</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">:key</span>=<span class="hljs-string">"componentKey"</span>
Â Â Â Â Â Â /&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>Â <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-comment">/*Â å®šä¹‰åˆ‡æ¢åŠ¨ç”»Â */</span>
<span class="hljs-selector-class">.slide-fade-enter-active</span>,
<span class="hljs-selector-class">.slide-fade-leave-active</span>Â {
Â Â <span class="hljs-attribute">transition</span>:Â allÂ <span class="hljs-number">0.3s</span>Â ease;
}

<span class="hljs-selector-class">.slide-fade-enter-from</span>Â {
Â Â <span class="hljs-attribute">opacity</span>:Â <span class="hljs-number">0</span>;
Â Â <span class="hljs-attribute">transform</span>:Â <span class="hljs-built_in">translateX</span>(<span class="hljs-number">30px</span>);
}

<span class="hljs-selector-class">.slide-fade-leave-to</span>Â {
Â Â <span class="hljs-attribute">opacity</span>:Â <span class="hljs-number">0</span>;
Â Â <span class="hljs-attribute">transform</span>:Â <span class="hljs-built_in">translateX</span>(-<span class="hljs-number">30px</span>);
}

<span class="hljs-comment">/*Â å¦ä¸€ç§åŠ¨ç”»æ•ˆæœÂ */</span>
<span class="hljs-selector-class">.fade-enter-active</span>,
<span class="hljs-selector-class">.fade-leave-active</span>Â {
Â Â <span class="hljs-attribute">transition</span>:Â opacityÂ <span class="hljs-number">0.5s</span>;
}

<span class="hljs-selector-class">.fade-enter-from</span>,
<span class="hljs-selector-class">.fade-leave-to</span>Â {
Â Â <span class="hljs-attribute">opacity</span>:Â <span class="hljs-number">0</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<h2 data-id="heading-19">ç»“è¯­ï¼šåŠ¨æ€ç»„ä»¶çš„æ— é™å¯èƒ½</h2>
<p>åŠ¨æ€ç»„ä»¶æ˜¯Vueæ¡†æ¶ä¸­éå¸¸å¼ºå¤§çš„ç‰¹æ€§ï¼Œå®ƒä¸ºæ„å»ºçµæ´»ã€å¯æ‰©å±•çš„åº”ç”¨æä¾›äº†æ— é™å¯èƒ½ã€‚æ— è®ºæ˜¯ç®€å•çš„Tabåˆ‡æ¢ï¼Œè¿˜æ˜¯å¤æ‚çš„æ’ä»¶åŒ–ç³»ç»Ÿï¼ŒåŠ¨æ€ç»„ä»¶éƒ½èƒ½è®©ä½ çš„ä»£ç æ›´åŠ ä¼˜é›…å’Œå¯ç»´æŠ¤ã€‚</p>
<p>è®°ä½è¿™äº›æ ¸å¿ƒè¦ç‚¹ï¼š</p>
<ol>
<li>1.Â <strong>çµæ´»åˆ‡æ¢</strong>ï¼šä½¿ç”¨<code>:is</code>å±æ€§åŠ¨æ€å†³å®šæ¸²æŸ“å“ªä¸ªç»„ä»¶</li>
<li>2.Â <strong>çŠ¶æ€ä¿æŒ</strong>ï¼šåˆç†ä½¿ç”¨<code>&lt;keep-alive&gt;</code>ç¼“å­˜ç»„ä»¶çŠ¶æ€</li>
<li>3.Â <strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šç»“åˆå¼‚æ­¥ç»„ä»¶å®ç°ä»£ç åˆ†å‰²</li>
<li>4.Â <strong>é”™è¯¯å¤„ç†</strong>ï¼šåšå¥½è¾¹ç•Œæƒ…å†µçš„å¤„ç†</li>
</ol>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ æ·±å…¥ç†è§£VueåŠ¨æ€ç»„ä»¶ï¼Œå¹¶åœ¨å®é™…é¡¹ç›®ä¸­æ¸¸åˆƒæœ‰ä½™åœ°ä½¿ç”¨å®ƒã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–å¿ƒå¾—ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript ç»§æ‰¿ç»ˆæè§£æï¼šåŸå‹é“¾é—­ç¯ã€å…­å¤§ç»§æ‰¿æ–¹å¼å¯¹æ¯”ä¸æ‰€æœ‰è‡´å‘½å‘]]></title>    <link>https://juejin.cn/post/7579889969984995379</link>    <guid>https://juejin.cn/post/7579889969984995379</guid>    <pubDate>2025-12-04T15:47:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579889969984995379" data-draft-id="7579832186880688178" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScript ç»§æ‰¿ç»ˆæè§£æï¼šåŸå‹é“¾é—­ç¯ã€å…­å¤§ç»§æ‰¿æ–¹å¼å¯¹æ¯”ä¸æ‰€æœ‰è‡´å‘½å‘"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-04T15:47:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸ä¼šjs"/> <meta itemprop="url" content="https://juejin.cn/user/2517262684662348"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScript ç»§æ‰¿ç»ˆæè§£æï¼šåŸå‹é“¾é—­ç¯ã€å…­å¤§ç»§æ‰¿æ–¹å¼å¯¹æ¯”ä¸æ‰€æœ‰è‡´å‘½å‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2517262684662348/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸ä¼šjs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T15:47:41.000Z" title="Thu Dec 04 2025 15:47:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">JavaScript ç»§æ‰¿ç»ˆæè§£æï¼šåŸå‹é“¾é—­ç¯ã€å…­å¤§ç»§æ‰¿æ–¹å¼å¯¹æ¯”ä¸æ‰€æœ‰è‡´å‘½å‘</h2>
<p>å¤§å®¶å¥½ï¼Œä»Šå¤©å¸¦å¤§å®¶å½»åº•ææ‡‚ JavaScript ä¸­æœ€ç»•è„‘ã€é¢è¯•æœ€çˆ±é—®ã€å´åˆæœ€å®¹æ˜“è¸©å‘çš„çŸ¥è¯†ç‚¹â€”â€”<strong>ç»§æ‰¿</strong>ã€‚</p>
<p>æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹ç»§æ‰¿çš„å¤§æ¦‚çŸ¥è¯†ç‚¹ï¼š6 ç§ç»§æ‰¿æ–¹å¼å¯¹æ¯” + æ‰‹å†™ instanceof
ç„¶åç›´æ¥é—ªç°æ¥åˆ°æœ¬æ–‡çš„æ ¸å¿ƒé‡ç‚¹â€”â€”â€”â€”<strong>ç»§æ‰¿ä¸­æœ€çƒ§è„‘çš„å‡ ä¸ªçŸ¥è¯†ç‚¹</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c02760ffda74c9aa15f5a31067fa45c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5LyaanM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765468061&amp;x-signature=pKAogw78sAL5%2F0S6o6tORxC%2BB4c%3D" alt="7d51c79f4346e65c2eafb673286d21c7.jpg" loading="lazy"/></p>
<h3 data-id="heading-1">ä¸€ã€å…ˆææ¸…æ¥š JavaScript çš„â€œè¡€ç¼˜å…³ç³»â€â€”â€” åŸå‹é“¾</h3>
<p>åœ¨å¼€å§‹ç»§æ‰¿ä¹‹å‰ï¼Œå…ˆé—®ä½ ä¸‰ä¸ªçµé­‚é—®é¢˜ï¼š</p>
<pre><code class="hljs language-js" lang="js">[].<span class="hljs-property">__proto__</span>               <span class="hljs-comment">// æŒ‡å‘è°ï¼Ÿ</span>
<span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span>  <span class="hljs-comment">// æŒ‡å‘è°ï¼Ÿ</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> <span class="hljs-comment">// æ˜¯ nullï¼</span>
</code></pre>
<p>è¿™å°±æ˜¯ä¼ è¯´ä¸­çš„åŸå‹é“¾ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">å®ä¾‹ â†’ æ„é€ å‡½æ•°.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> â†’ <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> â†’ <span class="hljs-literal">null</span>
</code></pre>
<p>è®°ä½è¿™å¼ å›¾ï¼Œå®ƒæ˜¯åé¢æ‰€æœ‰ç»§æ‰¿çš„æ ¹åŸºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">cat1 â†’ <span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> â†’ <span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> â†’ <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> â†’ <span class="hljs-literal">null</span>
</code></pre>
<h3 data-id="heading-2">äºŒã€æ‰‹å†™ instanceof â€”â€” é¢è¯•å¿…è€ƒ</h3>
<pre><code class="hljs language-js" lang="js"> <span class="hljs-keyword">function</span> <span class="hljs-title function_">isInstanceOf</span>(<span class="hljs-params">left,right</span>){
            <span class="hljs-keyword">let</span> proto = left.<span class="hljs-property">__proto__</span>;
            <span class="hljs-keyword">while</span>(proto){
                <span class="hljs-keyword">if</span>(proto===right.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>){
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
                }
                proto=proto.<span class="hljs-property">__proto__</span>;<span class="hljs-comment">//null</span>
            }
             <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        }
</code></pre>
<p>ç»å…¸æµ‹è¯•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params"/>) {}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Cat</span>(<span class="hljs-params"/>) {}
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>();

<span class="hljs-keyword">const</span> cat = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">myInstanceof</span>(cat, <span class="hljs-title class_">Animal</span>)); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">myInstanceof</span>(cat, <span class="hljs-title class_">Object</span>)); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">myInstanceof</span>(cat, <span class="hljs-title class_">Cat</span>));     <span class="hljs-comment">// true</span>
</code></pre>
<p><strong>æ˜“é”™ç‚¹æé†’</strong>ï¼š</p>
<ul>
<li><code>instanceof</code> çœ‹çš„æ˜¯åŸå‹é“¾ï¼Œä¸æ˜¯ constructorï¼</li>
<li><code>cat.constructor === Animal</code> å¯èƒ½æ˜¯ falseï¼å› ä¸º constructor å¾ˆå®¹æ˜“è¢«æ”¹æ‰</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat.<span class="hljs-property">constructor</span> === <span class="hljs-title class_">Animal</span>) <span class="hljs-comment">// å¾ˆå¯èƒ½ falseï¼</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat.<span class="hljs-property">constructor</span> === <span class="hljs-title class_">Cat</span>)    <span class="hljs-comment">// æˆ‘ä»¬åé¢ä¼šä¿®å¤å®ƒ</span>
</code></pre>
<h3 data-id="heading-3">ä¸‰ã€JavaScript ç»§æ‰¿çš„å…­ç§å§¿åŠ¿ï¼ˆä»åŸå§‹åˆ°å®Œç¾ï¼‰</h3>
<h4 data-id="heading-4">æ–¹å¼ä¸€ï¼šæ„é€ å‡½æ•°ç»§æ‰¿ï¼ˆå€Ÿç”¨æ„é€ å‡½æ•°ï¼‰</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">species</span> = <span class="hljs-string">"åŠ¨ç‰©"</span>;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Cat</span>(<span class="hljs-params">name, color</span>) {
    <span class="hljs-title class_">Animal</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>);  <span class="hljs-comment">// å€Ÿç”¨çˆ¶ç±»æ„é€ å‡½æ•°</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;
}
</code></pre>
<p>ä¼˜ç‚¹ï¼šèƒ½ç»§æ‰¿å®ä¾‹å±æ€§<br/>
ç¼ºç‚¹ï¼šæ–¹æ³•å…¨åœ¨æ„é€ å‡½æ•°é‡Œï¼Œæ¯æ¬¡ new éƒ½é‡æ–°åˆ›å»ºï¼Œæµªè´¹å†…å­˜ + æ‹¿ä¸åˆ°çˆ¶ç±»åŸå‹ä¸Šçš„æ–¹æ³•</p>
<h4 data-id="heading-5">æ–¹å¼äºŒï¼šåŸå‹é“¾ç»§æ‰¿ï¼ˆç»å…¸ä½†æœ‰å‘ï¼‰</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params"/>) {}
<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">species</span> = <span class="hljs-string">"åŠ¨ç‰©"</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Cat</span>(<span class="hljs-params">name, color</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;
}
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>();        <span class="hljs-comment">// å…³é”®ï¼</span>
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Cat</span>;     <span class="hljs-comment">// æ‰‹åŠ¨ä¿®å¤ constructor</span>
</code></pre>
<p>ä¼˜ç‚¹ï¼šèƒ½ç»§æ‰¿åŸå‹ä¸Šçš„æ–¹æ³•<br/>
ç¼ºç‚¹ï¼šæ‰€æœ‰å®ä¾‹å…±äº«çˆ¶ç±»å®ä¾‹çš„å¼•ç”¨å±æ€§ï¼ˆå¤§å‘ï¼ï¼‰</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">habits</span> = [<span class="hljs-string">'sleep'</span>];
<span class="hljs-keyword">const</span> cat1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>();
<span class="hljs-keyword">const</span> cat2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>();
cat1.<span class="hljs-property">habits</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">'eat'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat2.<span class="hljs-property">habits</span>); <span class="hljs-comment">// ["sleep", "eat"] è¢«æ±¡æŸ“äº†ï¼</span>
</code></pre>
<h4 data-id="heading-6">æ–¹å¼ä¸‰ï¼šç›´æ¥ç»§æ‰¿ prototypeï¼ˆå‰¯ä½œç”¨çˆ†ç‚¸ï¼‰</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>; <span class="hljs-comment">// åƒä¸‡åˆ«å†™ï¼</span>
</code></pre>
<p>åæœï¼šç»™ Cat åŠ æ–¹æ³•ï¼ŒAnimal ä¹Ÿè¢«æ±¡æŸ“äº†ï¼</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">say</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'miao'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">say</span>); <span class="hljs-comment">// ä¹Ÿæœ‰äº†ï¼è¡€æ¡ˆï¼</span>
</code></pre>
<h4 data-id="heading-7">æ–¹å¼å››ï¼šåœ£æ¯æ¨¡å¼ï¼ˆç»å…¸ä¸­é—´å‡½æ•°ï¼‰</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">inherit</span>(<span class="hljs-params">Child, Parent</span>) {
    <span class="hljs-keyword">const</span> F = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {};
    F.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;
    <span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_">F</span>();
    <span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Child</span>;
    <span class="hljs-comment">// å¯é€‰ï¼šä¿ç•™å¯¹çˆ¶ç±»çš„å¼•ç”¨</span>
    <span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">uber</span> = <span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;
}

<span class="hljs-title function_">inherit</span>(<span class="hljs-title class_">Cat</span>, <span class="hljs-title class_">Animal</span>);
</code></pre>
<p>è¿™æ˜¯å°¤é›¨æºªï¼ˆVue ä½œè€…ï¼‰å½“å¹´åœ¨è®ºå›é‡Œå­¦çš„ç»å…¸å†™æ³•ï¼Œè‡³ä»Šä»æ˜¯æœ€ä½³å®è·µä¹‹ä¸€ã€‚</p>
<h4 data-id="heading-8">æ–¹å¼äº”ï¼šES6 class extendsï¼ˆç°ä»£å†™æ³•ï¼Œåº•å±‚è¿˜æ˜¯åŸå‹ï¼‰</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">species</span> = <span class="hljs-string">"åŠ¨ç‰©"</span>;
    }
    <span class="hljs-title function_">eat</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"eating..."</span>);
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, color</span>) {
        <span class="hljs-variable language_">super</span>(); <span class="hljs-comment">// å¿…é¡»å…ˆè°ƒç”¨ super</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;
    }
}
</code></pre>
<p>æ³¨æ„ï¼šå­ç±» constructor é‡Œå¿…é¡»å…ˆè°ƒç”¨ super()ï¼Œå¦åˆ™ this ä¼šæŠ¥é”™ï¼</p>
<h4 data-id="heading-9">æ–¹å¼å…­ï¼šç»ˆææ–¹æ¡ˆ â€”â€” ç»„åˆç»§æ‰¿ï¼ˆç”Ÿäº§æ¨èï¼‰</h4>
<p>ç»¼åˆå‰é¢ä¸¤ç§ä¼˜ç‚¹ï¼Œé¿å…æ‰€æœ‰ç¼ºç‚¹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">species</span> = <span class="hljs-string">"åŠ¨ç‰©"</span>;
}
<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">eat</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"eating..."</span>);
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Cat</span>(<span class="hljs-params">name, color</span>) {
    <span class="hljs-title class_">Animal</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>);     <span class="hljs-comment">// ç»§æ‰¿å®ä¾‹å±æ€§</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;
}
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// ç»§æ‰¿åŸå‹</span>
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Cat</span>;

<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">say</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"miao~"</span>);
};
</code></pre>
<p>è¿™å°±æ˜¯ Vue/React æºç é‡ŒçœŸæ­£ä½¿ç”¨çš„ç»§æ‰¿æ–¹å¼ï¼</p>
<h3 data-id="heading-10">å››ã€ç»ˆæå¯¹æ¯”è¡¨ï¼ˆå»ºè®®æ”¶è—ï¼‰</h3>





























































<table><thead><tr><th>æ–¹å¼</th><th>å®ä¾‹å±æ€§</th><th>åŸå‹æ–¹æ³•</th><th>å¼•ç”¨å±æ€§å®‰å…¨</th><th>constructoræ­£ç¡®</th><th>æ¨èæŒ‡æ•°</th></tr></thead><tbody><tr><td>call ç»§æ‰¿</td><td>Yes</td><td>No</td><td>Yes</td><td>Yes</td><td>2æ˜Ÿ</td></tr><tr><td>prototype = new Parent()</td><td>Yes</td><td>Yes</td><td>No</td><td>Need repair</td><td>3æ˜Ÿ</td></tr><tr><td>ç›´æ¥ç»§æ‰¿ prototype</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Need repair</td><td>1æ˜Ÿï¼ˆå‰¯ä½œç”¨å¤ªå¤§ï¼‰</td></tr><tr><td>åœ£æ¯æ¨¡å¼</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>4æ˜Ÿ</td></tr><tr><td>Object.create</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>5æ˜Ÿ</td></tr><tr><td>class extends</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>5æ˜Ÿï¼ˆç°ä»£é¦–é€‰ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-11">äº”ã€ç»§æ‰¿ä¸­æœ€çƒ§è„‘çš„å‡ ä¸ªçŸ¥è¯†ç‚¹</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/05b25db2cd90429cb1c416ce73669cd1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5LyaanM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765468061&amp;x-signature=OojeanLHaS6%2FqkfVL9axFShd3hw%3D" alt="7371e6c646ae0a7919845d85490c9946.jpg" loading="lazy"/></p>
<h4 data-id="heading-12">1.ç›´æ¥ç»§æ‰¿ prototypeï¼ˆæœ€ä¸¥é‡ã€æœ€å®¹æ˜“è¢«å¿½è§†çš„å‰¯ä½œç”¨ï¼‰</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params"/>) {}
<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">species</span> = <span class="hljs-string">'åŠ¨ç‰©'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Cat</span>(<span class="hljs-params">name, color</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;
}

<span class="hljs-comment">// å±é™©å†™æ³•ï¼ï¼ï¼ç›´æ¥æŠŠçˆ¶ç±»çš„ prototype èµ‹å€¼ç»™å­ç±»</span>
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;   <span class="hljs-comment">// â† è¿™é‡Œå°±æ˜¯ç½ªé­ç¥¸é¦–</span>
</code></pre>
<h5 data-id="heading-13">å‰¯ä½œç”¨ä¸€ï¼šå­ç±»ç»™åŸå‹åŠ æ–¹æ³•ï¼Œçˆ¶ç±»ä¹Ÿè¢«æ±¡æŸ“ï¼ˆåŒå‘æ±¡æŸ“ï¼‰</h5>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ç»™ Cat çš„åŸå‹åŠ ä¸€ä¸ªæ–¹æ³•</span>
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">say</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'miao~'</span>);
};

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">say</span>);  
<span class="hljs-comment">// è¾“å‡ºï¼šfunction say() { console.log('miao~') }</span>
<span class="hljs-comment">// ä»€ä¹ˆï¼Ÿï¼Ÿï¼ŸAnimal å®ä¾‹æ€ä¹ˆä¹Ÿä¼šå«äº†ï¼Ÿï¼</span>
</code></pre>
<h5 data-id="heading-14">è¯¦ç»†è¿‡ç¨‹å›¾è§£ï¼š</h5>
<pre><code class="hljs language-javascript" lang="javascript">åŸæ¥çš„ç»“æ„ï¼š
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>      â†’ æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ A
<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>    â†’ æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ B

æ‰§è¡Œ <span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> ä¹‹åï¼š
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>      â†’ æŒ‡å‘å¯¹è±¡ B   â†â”
<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>   â†’ æŒ‡å‘å¯¹è±¡ B     â†’ åŒä¸€ä¸ªå¯¹è±¡ï¼
                                    â†‘
                              ä¸¤ä¸ªæ„é€ å‡½æ•°å…±ç”¨åŒä¸€ä¸ªåŸå‹å¯¹è±¡
</code></pre>
<p>æ­¤æ—¶ä½ å¯¹ <code>Cat.prototype</code> åšçš„ä»»ä½•ä¿®æ”¹ï¼Œ<strong>ç­‰åŒäºç›´æ¥ä¿®æ”¹ Animal.prototype</strong>ï¼</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> cat = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>(<span class="hljs-string">'å°é»‘'</span>, <span class="hljs-string">'é»‘è‰²'</span>);
<span class="hljs-keyword">const</span> tiger = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>();  <span class="hljs-comment">// è€è™æ˜¯ Animal çš„å®ä¾‹</span>

cat.<span class="hljs-title function_">say</span>();        <span class="hljs-comment">// "miao~"</span>
tiger.<span class="hljs-title function_">say</span>();      <span class="hljs-comment">// "miao~" ï¼ï¼ï¼è€è™ä¹Ÿä¼šçŒ«å«äº†ï¼Œå½»åº•ä¹±å¥—</span>
</code></pre>
<h5 data-id="heading-15">å‰¯ä½œç”¨äºŒï¼šconstructor è¢«å½»åº•æä¹±</h5>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span>);     <span class="hljs-comment">// åŸæ¥åº”è¯¥æ˜¯ Cat</span>
<span class="hljs-comment">// ç»“æœï¼šfunction Animal() {}   â† è¢«è¦†ç›–æˆäº† Animalï¼ï¼</span>

<span class="hljs-comment">// æ‰€æœ‰ Cat å®ä¾‹çš„ constructor ä¹Ÿé”™äº†</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat.<span class="hljs-property">constructor</span> === <span class="hljs-title class_">Animal</span>);    <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat.<span class="hljs-property">constructor</span> === <span class="hljs-title class_">Cat</span>);       <span class="hljs-comment">// false</span>
</code></pre>
<h5 data-id="heading-16">å‰¯ä½œç”¨ä¸‰ï¼šinstanceof å®Œå…¨å¤±çµ</h5>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Cat</span>);     <span class="hljs-comment">// true  (ä¾¥å¹¸è¿˜å¯¹)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Animal</span>);  <span class="hljs-comment">// true</span>

<span class="hljs-comment">// ä½†æ˜¯å¦‚æœä½ å†å®šä¹‰ä¸€ä¸ª Dog ä¹Ÿè¿™ä¹ˆå¹²ï¼š</span>
<span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;
<span class="hljs-keyword">const</span> dog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dog <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Cat</span>);     <span class="hljs-comment">// trueï¼ï¼ï¼ç‹—å±…ç„¶æ˜¯çŒ«çš„å®ä¾‹ï¼Ÿï¼Ÿï¼Ÿ</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dog <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Dog</span>);     <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dog <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Animal</span>);  <span class="hljs-comment">// true</span>
</code></pre>
<p>å½»åº•ä¹±å¥—äº†ï¼æ‰€æœ‰ç»§æ‰¿ Animal çš„å­ç±»ä¹‹é—´äº’ç›¸éƒ½æ˜¯ instanceof trueã€‚</p>
<p><strong>ç»“è®ºï¼šç›´æ¥æŠŠ Child.prototype = Parent.prototype æ˜¯ JavaScript ç»§æ‰¿ä¸­çš„â€œæ ¸å¼¹çº§â€é”™è¯¯ï¼Œç»å¯¹ç¦æ­¢ï¼</strong></p>
<h4 data-id="heading-17">2.åŸå‹é“¾ç»§æ‰¿ï¼ˆCat.prototype = new Animal()ï¼‰çš„ç»å…¸å‰¯ä½œç”¨ï¼šå¼•ç”¨ç±»å‹å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº«</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">habits</span> = [<span class="hljs-string">'ç¡è§‰'</span>, <span class="hljs-string">'åƒé¥­'</span>];  <span class="hljs-comment">// æ³¨æ„ï¼šå¼•ç”¨ç±»å‹ï¼</span>
}
<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">species</span> = <span class="hljs-string">'åŠ¨ç‰©'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Cat</span>(<span class="hljs-params">name, color</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;
}

<span class="hljs-comment">// ç»å…¸åŸå‹é“¾ç»§æ‰¿ï¼ˆå¾ˆå¤šäººè¿˜åœ¨ç”¨ï¼‰</span>
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>();        <span class="hljs-comment">// â† è¿™é‡Œåˆ›å»ºäº†çˆ¶ç±»å®ä¾‹</span>
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Cat</span>;

<span class="hljs-keyword">const</span> cat1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>(<span class="hljs-string">'å°é»‘'</span>, <span class="hljs-string">'é»‘è‰²'</span>);
<span class="hljs-keyword">const</span> cat2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>(<span class="hljs-string">'å°ç™½'</span>, <span class="hljs-string">'ç™½è‰²'</span>);
</code></pre>
<h5 data-id="heading-18">å‰¯ä½œç”¨ï¼šæ‰€æœ‰çŒ«å…±äº«åŒä¸€ä»½ä¹ æƒ¯åˆ—è¡¨ï¼</h5>
<pre><code class="hljs language-js" lang="js">cat1.<span class="hljs-property">habits</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">'ç©æ¯›çƒ'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat1.<span class="hljs-property">habits</span>);  <span class="hljs-comment">// ["ç¡è§‰", "åƒé¥­", "ç©æ¯›çƒ"]</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat2.<span class="hljs-property">habits</span>);  <span class="hljs-comment">// ["ç¡è§‰", "åƒé¥­", "ç©æ¯›çƒ"]  â† è¢«æ±¡æŸ“äº†ï¼</span>
</code></pre>
<h5 data-id="heading-19">è¯¦ç»†è¿‡ç¨‹å›¾è§£ï¼š</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>  â† <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>() åˆ›å»ºçš„å®ä¾‹
                  â”‚
                  â”œâ”€â”€ <span class="hljs-attr">species</span>: <span class="hljs-string">"åŠ¨ç‰©"</span> (åŸå‹ä¸Šçš„)
                  â””â”€â”€ <span class="hljs-attr">habits</span>: [<span class="hljs-string">"ç¡è§‰"</span>, <span class="hljs-string">"åƒé¥­"</span>] â† å †å†…å­˜ä¸­çš„åŒä¸€ä¸ªæ•°ç»„ï¼

cat1.<span class="hljs-property">__proto__</span> â†’ <span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> â†’ è¿™ä¸ªå®ä¾‹ â†’ habits æ•°ç»„
cat2.<span class="hljs-property">__proto__</span> â†’ <span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> â†’ åŒä¸€ä¸ªå®ä¾‹ â†’ åŒä¸€ä¸ª habits æ•°ç»„
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a14493043044cb79bc3b40095b1b71e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5LyaanM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765468061&amp;x-signature=zVMDon95P0rrxWTElNFrChQsQ0Y%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰€æœ‰ Cat å®ä¾‹çš„ <code>habits</code> æŒ‡å‘çš„æ˜¯ Cat.prototypeï¼ˆå³é‚£ä¸ª Animal å®ä¾‹ï¼‰ä¸Šçš„åŒä¸€ä¸ªæ•°ç»„å¼•ç”¨ï¼</p>
<h5 data-id="heading-20">æ›´éšè”½çš„å‘ï¼šå³ä½¿ä½ ä¸ç›´æ¥è®¿é—® habitsï¼Œä¹Ÿä¼šè¢«æ±¡æŸ“</h5>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">friends</span> = [];
}

<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>();

<span class="hljs-keyword">const</span> cat1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>(<span class="hljs-string">'å°é»‘'</span>);
<span class="hljs-keyword">const</span> cat2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>(<span class="hljs-string">'å°ç™½'</span>);

cat1.<span class="hljs-property">friends</span>.<span class="hljs-title function_">push</span>(cat2);  <span class="hljs-comment">// å°é»‘æŠŠå°ç™½åŠ ä¸ºå¥½å‹</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat2.<span class="hljs-property">friends</span>); <span class="hljs-comment">// [cat2]  å°ç™½å±…ç„¶æ˜¯è‡ªå·±çš„å¥½å‹ï¼Ÿï¼å¾ªç¯å¼•ç”¨ï¼</span>
</code></pre>
<h5 data-id="heading-21">ä¸ºä»€ä¹ˆ constructor éœ€è¦æ‰‹åŠ¨ä¿®å¤ï¼Ÿ</h5>
<p>å› ä¸º <code>new Animal()</code> åˆ›å»ºçš„å®ä¾‹çš„ constructor æ˜¯ Animalï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> temp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(temp.<span class="hljs-property">constructor</span> === <span class="hljs-title class_">Animal</span>);  <span class="hljs-comment">// true</span>

<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = temp;
<span class="hljs-comment">// æ‰€ä»¥ Cat.prototype.constructor ç°åœ¨ä¹ŸæŒ‡å‘ Animal äº†ï¼</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> === <span class="hljs-title class_">Animal</span>); <span class="hljs-comment">// true â† é”™è¯¯ï¼</span>
</code></pre>
<p>ä¸æ‰‹åŠ¨ä¿®å¤çš„è¯ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat1.<span class="hljs-property">constructor</span> === <span class="hljs-title class_">Animal</span>); <span class="hljs-comment">// trueï¼æ˜æ˜æ˜¯ Cat çš„å®ä¾‹</span>
</code></pre>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆç»å…¸å†™æ³•ä¸€å®šè¦åŠ è¿™ä¸€è¡Œï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Cat</span>;  <span class="hljs-comment">// å¿…é¡»æ‰‹åŠ¨ä¿®å¤ï¼</span>
</code></pre>
<h4 data-id="heading-22">æ­£ç¡®åšæ³•å¯¹æ¯”ï¼ˆæ¨èçš„ä¸‰ç§ï¼‰</h4>








































<table><thead><tr><th>å†™æ³•</th><th>æ˜¯å¦æœ‰å¼•ç”¨å…±äº«é—®é¢˜</th><th>æ˜¯å¦æ±¡æŸ“çˆ¶ç±»</th><th>constructor æ˜¯å¦æ­£ç¡®</th><th>æ¨èåº¦</th></tr></thead><tbody><tr><td><code>Cat.prototype = Animal.prototype</code></td><td>æ— </td><td>ä¸¥é‡æ±¡æŸ“</td><td>é”™è¯¯</td><td>0æ˜Ÿ</td></tr><tr><td><code>Cat.prototype = new Animal()</code></td><td>æœ‰ï¼ˆçˆ¶ç±»å®ä¾‹å±æ€§ï¼‰</td><td>æ— </td><td>éœ€è¦æ‰‹åŠ¨ä¿®å¤</td><td>3æ˜Ÿ</td></tr><tr><td><code>Cat.prototype = Object.create(Animal.prototype)</code></td><td>æ— </td><td>æ— </td><td>éœ€è¦ä¿®å¤æˆ–ç”¨ defineProperty</td><td>5æ˜Ÿ</td></tr><tr><td><code>class Cat extends Animal</code></td><td>æ— </td><td>æ— </td><td>è‡ªåŠ¨æ­£ç¡®</td><td>5æ˜Ÿ</td></tr></tbody></table>
<h4 data-id="heading-23">ç»ˆææ¨èå†™æ³•ï¼ˆæœç»æ‰€æœ‰å‰¯ä½œç”¨ï¼‰</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">friends</span> = [];  <span class="hljs-comment">// å³ä½¿çˆ¶ç±»æœ‰å¼•ç”¨ç±»å‹ä¹Ÿæ²¡äº‹</span>
}
<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">species</span> = <span class="hljs-string">'åŠ¨ç‰©'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Cat</span>(<span class="hljs-params">name, color</span>) {
  <span class="hljs-title class_">Animal</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, name);                    <span class="hljs-comment">// ç»§æ‰¿å®ä¾‹å±æ€§ï¼ˆå„è‡ªç‹¬ç«‹ï¼‰</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;
}

<span class="hljs-comment">// å…³é”®ï¼šç”¨ Object.create åˆ›å»ºä¸€ä¸ªå¹²å‡€çš„ä¸­é—´å¯¹è±¡</span>
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);
<span class="hljs-comment">// å®Œç¾ä¿®å¤ constructorï¼ˆæ¨èè¿™ç§ä¸å¯æšä¸¾çš„æ–¹å¼ï¼‰</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, <span class="hljs-string">'constructor'</span>, {
  <span class="hljs-attr">value</span>: <span class="hljs-title class_">Cat</span>,
  <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">writable</span>: <span class="hljs-literal">true</span>
});
</code></pre>
<p>è¿™æ ·ï¼š</p>
<ul>
<li>å¼•ç”¨ç±»å‹å±æ€§å„è‡ªç‹¬ç«‹</li>
<li>ä¸æ±¡æŸ“çˆ¶ç±»åŸå‹</li>
<li>constructor æ­£ç¡®</li>
<li>instanceof å®Œå…¨æ­£å¸¸</li>
</ul>
<p>è¿™å°±æ˜¯ Vue 2.x ä¸­ Vue.extendã€React è€ç‰ˆæœ¬ createClass åº•å±‚çœŸæ­£ä½¿ç”¨çš„ç»§æ‰¿æ–¹å¼ï¼</p>
<p><strong>è®°ä½ï¼š</strong></p>
<blockquote>
<p>ç›´æ¥èµ‹å€¼ prototype = çˆ¶ç±»åŸå‹ â†’ æ ¸å¼¹<br/>
new çˆ¶ç±»() å½“åŸå‹ â†’ åœ°é›·<br/>
Object.create + call â†’ å®Œç¾</p>
</blockquote>
<h4 data-id="heading-24">3.ä½ ä¸çŸ¥é“çš„prototypeå’Œ__proto__</h4>
<p>prototypeæ˜¯æ„é€ å‡½æ•°çš„å±æ€§ï¼Œ__proto__æ˜¯å®ä¾‹çš„å±æ€§</p>
<ol>
<li>ä»€ä¹ˆæ—¶å€™ç”¨ prototypeï¼ˆæ„é€ å‡½æ•°å±‚é¢ï¼‰ ä½¿ç”¨åœºæ™¯ï¼šå½“ä½ æƒ³è¦å®šä¹‰æˆ–ä¿®æ”¹æŸä¸ªæ„é€ å‡½æ•°åˆ›å»ºçš„"æ‰€æœ‰å®ä¾‹"çš„å…±äº«å±æ€§å’Œæ–¹æ³•æ—¶</li>
</ol>
<p>text</p>
<pre><code class="hljs language-ini" lang="ini">function Person(name) {
    <span class="hljs-attr">this.name</span> = name<span class="hljs-comment">;</span>
}

// ä½¿ç”¨ prototype - ä¸ºæ‰€æœ‰Personå®ä¾‹æ·»åŠ å…±äº«æ–¹æ³•
<span class="hljs-attr">Person.prototype.sayHello</span> = function() {
    console.log(`Hello, I'm ${this.name}`)<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

<span class="hljs-attr">Person.prototype.species</span> = <span class="hljs-string">'Human'</span><span class="hljs-comment">; // å…±äº«å±æ€§</span>

const <span class="hljs-attr">person1</span> = new Person(<span class="hljs-string">'Alice'</span>)<span class="hljs-comment">;</span>
const <span class="hljs-attr">person2</span> = new Person(<span class="hljs-string">'Bob'</span>)<span class="hljs-comment">;</span>

person1.sayHello()<span class="hljs-comment">; // æ‰€æœ‰å®ä¾‹éƒ½èƒ½è®¿é—®prototypeä¸Šçš„æ–¹æ³•</span>
person2.sayHello()<span class="hljs-comment">;</span>
</code></pre>
<p>å…³é”®ç‚¹ï¼š</p>
<ul>
<li>åªæœ‰å‡½æ•°ï¼ˆæ„é€ å‡½æ•°ï¼‰æ‰æœ‰ prototypeå±æ€§</li>
<li>ç”¨äºè®¾ç½®"è“å›¾"æˆ–"æ¨¡æ¿"</li>
<li>ä¿®æ”¹ä¼šå½±å“æ‰€æœ‰å·²åˆ›å»ºå’Œæœªæ¥åˆ›å»ºçš„å®ä¾‹</li>
</ul>
<ol start="2">
<li>ä»€ä¹ˆæ—¶å€™ç”¨ <strong>proto</strong>ï¼ˆå®ä¾‹å±‚é¢ï¼‰ ä½¿ç”¨åœºæ™¯ï¼šå½“ä½ æƒ³è¦æŸ¥çœ‹æˆ–æ“ä½œæŸä¸ªå…·ä½“å®ä¾‹çš„åŸå‹é“¾æ—¶</li>
</ol>
<p>text</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
}

<span class="hljs-keyword">const</span> person = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">'Alice'</span>);

<span class="hljs-comment">// ä½¿ç”¨ __proto__ - æŸ¥çœ‹æˆ–ä¿®æ”¹è¿™ä¸ªå…·ä½“å®ä¾‹çš„åŸå‹</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// true</span>

<span class="hljs-comment">// æ£€æŸ¥åŸå‹é“¾</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person.<span class="hljs-property">__proto__</span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// true</span>

<span class="hljs-comment">// å®é™…å¼€å‘ä¸­æ›´æ¨èä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(person) === <span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Person</span>); <span class="hljs-comment">// true</span>
</code></pre>
<p>å…³é”®ç‚¹ï¼š</p>
<ul>
<li>æ‰€æœ‰å¯¹è±¡ï¼ˆåŒ…æ‹¬å®ä¾‹ï¼‰éƒ½æœ‰ __proto__å±æ€§</li>
<li>ä¸»è¦ç”¨äºè°ƒè¯•ã€æ£€æŸ¥ç»§æ‰¿å…³ç³»</li>
</ul>
<h4 data-id="heading-25">åŸºäºç¬¬3ç‚¹å¼•å‡ºäº†æœ€çƒ§è„‘çš„ä¸€ä¸ªçŸ¥è¯†ç‚¹</h4>
<p>â€œFunction æ˜¯ç”± Function è‡ªå·± new å‡ºæ¥çš„ï¼Œ Object æ˜¯ç”± Function new å‡ºæ¥çš„ï¼Œ Function.prototype ä¹Ÿæ˜¯ç”± Object new å‡ºæ¥çš„â€¦â€¦ è¿™å°±æ˜¯ä¸€ä¸ªå®Œç¾çš„é¸¡ç”Ÿè›‹è›‹ç”Ÿé¸¡çš„é—­ç¯ï¼â€</p>
<p>çœ‹å®Œè¿™æ®µè¯ä½ è‚¯å®šæ»¡è„¸é—®å·ï¼Ÿè¿™æ˜¯ä¸ªå•¥ï¼Ÿ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8942ba6e8a7449469d5c988e3f931207~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5LyaanM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765468061&amp;x-signature=QAAhBLQrdnCtKEYoV376J2mC1MQ%3D" alt="a8a0956310fbc3378caa4831a0918c2b.jpg" loading="lazy"/>
åˆ«æ€¥ï¼Œæˆ‘ä»¬åªéœ€è¦ç†è§£è¿™<strong>ä¸‰å¥è¯</strong>å°±èƒ½è¯»æ‡‚ï¼š</p>
<ul>
<li>
<p><strong>æ‰€æœ‰å‡½æ•°ï¼ˆåŒ…æ‹¬ Function å’Œ Object è‡ªå·±ï¼‰éƒ½æ˜¯ Function çš„å®ä¾‹</strong> â†’ æ‰€ä»¥å®ƒä»¬çš„ <strong>proto</strong> ç»Ÿç»ŸæŒ‡å‘ Function.prototype</p>
</li>
<li>
<p><strong>Object ä¹Ÿæ˜¯å‡½æ•°ï¼Œæ‰€ä»¥ Object.<strong>proto</strong> === Function.prototype</strong> â†’ è¿™ä¸€æ­¥æŠŠ Object æ‹‰è¿›æ¥äº†</p>
</li>
<li>
<p><strong>Function.prototype è‡ªå·±ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥å®ƒçš„ <strong>proto</strong> å¿…é¡»æŒ‡å‘æ‰€æœ‰å¯¹è±¡çš„ç»ˆç‚¹ â€”â€” Object.prototype</strong> â†’ è¿™ä¸€æ­¥æŠŠ Function.prototype æ¥å›å»ï¼Œé—­ç¯å®Œæˆï¼</p>
</li>
</ul>

<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Function</span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);          <span class="hljs-comment">// true  è‡ªå·±æ˜¯è‡ªå·±çš„çˆ¹</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);  <span class="hljs-comment">// true  çˆ¹çš„çˆ¹æ˜¯ Object.prototype</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);            <span class="hljs-comment">// true  Object çš„çˆ¹æ˜¯ Function.prototype</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> === <span class="hljs-literal">null</span>);                <span class="hljs-comment">// true  ç»ˆç‚¹</span>
</code></pre>
<h3 data-id="heading-26">å†™åœ¨æœ€å</h3>
<p>JavaScript çš„ç»§æ‰¿ï¼Œæœ¬è´¨å°±æ˜¯åŸå‹é“¾çš„æ¸¸æˆã€‚<br/>
æŒæ¡äº†åŸå‹é“¾ï¼Œä½ å°±æŒæ¡äº† JavaScript çš„çµé­‚ã€‚</p>
<p>è®°ä½ä¸€å¥è¯ï¼š</p>
<blockquote>
<p>åœ¨ JavaScript ä¸­ï¼Œæ²¡æœ‰ç±»ï¼Œåªæœ‰åŸå‹ã€‚<br/>
class åªæ˜¯è¯­æ³•ç³–ï¼Œextends åªæ˜¯ Object.create çš„ç”œç”œåœˆã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript ä¸­ this çš„é‚£äº›äº‹å„¿ï¼šä»â€œæŒ‡å“ªæ‰“å“ªâ€åˆ°â€œæˆ‘åˆ°åº•æ˜¯è°ï¼Ÿâ€]]></title>    <link>https://juejin.cn/post/7579813945601327144</link>    <guid>https://juejin.cn/post/7579813945601327144</guid>    <pubDate>2025-12-04T15:50:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579813945601327144" data-draft-id="7579805639435763764" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScript ä¸­ this çš„é‚£äº›äº‹å„¿ï¼šä»â€œæŒ‡å“ªæ‰“å“ªâ€åˆ°â€œæˆ‘åˆ°åº•æ˜¯è°ï¼Ÿâ€"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-04T15:50:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ohyeah"/> <meta itemprop="url" content="https://juejin.cn/user/740446536480618"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScript ä¸­ this çš„é‚£äº›äº‹å„¿ï¼šä»â€œæŒ‡å“ªæ‰“å“ªâ€åˆ°â€œæˆ‘åˆ°åº•æ˜¯è°ï¼Ÿâ€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/740446536480618/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ohyeah
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T15:50:46.000Z" title="Thu Dec 04 2025 15:50:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼ä»Šå¤©æˆ‘ä»¬æ¥èŠä¸€èŠ JavaScript ä¸­é‚£ä¸ªè®©äººåˆçˆ±åˆæ¨ã€ç»å¸¸è®©äººæŠ“ç‹‚çš„å…³é”®è¯ â€”â€” <strong><code>this</code></strong>ã€‚</p>
<p>ä½ æ˜¯ä¸æ˜¯ä¹Ÿæ›¾ç»åœ¨æ§åˆ¶å°çœ‹åˆ° <code>undefined</code> æˆ–è€…æ„å¤–åœ°ä¿®æ”¹äº†å…¨å±€å˜é‡ï¼Œç„¶åä¸€è„¸æ‡µï¼šâ€œè¿™ <code>this</code> åˆ°åº•æŒ‡å‘è°å•Šï¼Ÿâ€åˆ«æ€¥ï¼Œä»Šå¤©æˆ‘ä»¬å°±ç»“åˆå‡ ä¸ªå°ä¾‹å­ï¼Œè½»æ¾æ„‰å¿«åœ°æŠŠ <code>this</code> çš„å„ç§è¡Œä¸ºææ¸…æ¥šï¼</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€<code>this</code> ç”±è°ƒç”¨æ–¹å¼å†³å®š</h2>
<p>å…ˆè¯´ä¸€ä¸ªå…³é”®ç‚¹ï¼š<strong><code>this</code> çš„å€¼ä¸æ˜¯åœ¨å‡½æ•°å®šä¹‰æ—¶ç¡®å®šçš„ï¼Œè€Œæ˜¯åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶æ‰ç¡®å®šçš„ã€‚</strong></p>
<p>æ¢å¥è¯è¯´ï¼Œ<code>this</code> æ˜¯ä¸ªâ€œæ‰§è¡Œæ—¶å˜é‡â€ï¼Œå’Œä½œç”¨åŸŸé“¾ï¼ˆè¯æ³•ä½œç”¨åŸŸï¼‰æ— å…³ã€‚è€Œåƒ <code>myName</code> è¿™æ ·çš„å˜é‡ï¼Œæ˜¯é€šè¿‡<strong>è¯æ³•ä½œç”¨åŸŸ</strong>æŸ¥æ‰¾çš„ï¼Œå±äºâ€œç¼–è¯‘é˜¶æ®µå°±å®šå¥½çš„â€ã€‚</p>
<p>æ¥çœ‹ç¬¬ä¸€ä¸ªä¾‹å­ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-meta">'use strict'</span>

<span class="hljs-keyword">var</span> bar = {
  <span class="hljs-attr">myName</span>: <span class="hljs-string">'time.geekbang.com'</span>,
  <span class="hljs-attr">printName</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>){
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myName)        <span class="hljs-comment">// è‡ªç”±å˜é‡ï¼ŒæŸ¥è¯æ³•ä½œç”¨åŸŸ â†’ å…¨å±€ var myName</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myName</span>)   <span class="hljs-comment">// this æŒ‡å‘è°ï¼Ÿçœ‹æ€ä¹ˆè°ƒç”¨ï¼</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>)
  }
}

<span class="hljs-keyword">var</span> myName = <span class="hljs-string">'æå®¢é‚¦'</span>
<span class="hljs-keyword">var</span> _printName = <span class="hljs-title function_">foo</span>() <span class="hljs-comment">// è¿”å› bar.printName å‡½æ•°å¼•ç”¨</span>
<span class="hljs-title function_">_printName</span>() <span class="hljs-comment">// æ™®é€šå‡½æ•°è°ƒç”¨ï¼</span>
</code></pre>
<h3 data-id="heading-1">å…³é”®è§£æï¼š</h3>
<ul>
<li>
<p><code>printName</code> è™½ç„¶å†™åœ¨ <code>bar</code> å¯¹è±¡é‡Œï¼Œä½†å®ƒ<strong>æœ¬è´¨ä¸Šæ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸä¸­å®šä¹‰çš„å‡½æ•°</strong>ï¼ˆJS å¯¹è±¡ä¸åˆ›å»ºæ–°ä½œç”¨åŸŸï¼‰ã€‚</p>
</li>
<li>
<p>æ‰€ä»¥ <code>console.log(myName)</code> ä¸­çš„ <code>myName</code> æ˜¯<strong>è‡ªç”±å˜é‡</strong>ï¼Œå¼•æ“ä¼šæ²¿ç€è¯æ³•ä½œç”¨åŸŸå‘å¤–æ‰¾ â†’ æ‰¾åˆ°å…¨å±€çš„ <code>var myName = 'æå®¢é‚¦'</code>ã€‚</p>
</li>
<li>
<p>ä½† <code>this.myName</code> å°±ä¸ä¸€æ ·äº†ï¼<code>this</code> å–å†³äº<strong>è°ƒç”¨æ–¹å¼</strong>ï¼š</p>
<ul>
<li><code>_printName()</code> æ˜¯<strong>æ™®é€šå‡½æ•°è°ƒç”¨</strong> â†’ éä¸¥æ ¼æ¨¡å¼ä¸‹ <code>this === window</code>ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ <code>this === undefined</code>ã€‚</li>
<li>æ‰€ä»¥ <code>this.myName</code> åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæŠ¥é”™ï¼ˆå› ä¸º <code>undefined.myName</code>ï¼‰ï¼›éä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šè¾“å‡º <code>window.myName</code>ï¼Œè€Œ <code>var</code> å£°æ˜çš„å˜é‡ä¼šæŒ‚è½½åˆ° <code>window</code> ä¸Šï¼Œæ‰€ä»¥èƒ½æ‹¿åˆ° <code>'æå®¢é‚¦'</code>ã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<p>âœ… å°è´´å£«ï¼š<code>let</code> å£°æ˜çš„å˜é‡ä¸ä¼šæŒ‚è½½åˆ° <code>window</code>ï¼Œæ‰€ä»¥å¦‚æœä½ æŠŠ <code>var myName</code> æ”¹æˆ <code>let myName</code>ï¼Œå³ä½¿éä¸¥æ ¼æ¨¡å¼ä¸‹ <code>this.myName</code> ä¹Ÿä¼šæ˜¯ <code>undefined</code>ï¼</p>
</blockquote>
<hr/>
<h2 data-id="heading-2">äºŒã€ä½œä¸ºå¯¹è±¡æ–¹æ³•è°ƒç”¨ï¼šè¿™æ‰æ˜¯ <code>this</code> çš„â€œæœ¬èŒå·¥ä½œâ€</h2>
<p>å½“ä½ è¿™æ ·è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">bar<span class="hljs-selector-class">.printName</span>() <span class="hljs-comment">// ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨</span>
</code></pre>
<p>è¿™æ—¶ï¼Œ<code>this</code> å°±ä¼š<strong>æ­£ç¡®æŒ‡å‘ <code>bar</code> å¯¹è±¡</strong>ï¼Œäºæ˜¯ <code>this.myName</code> è¾“å‡º <code>'time.geekbang.com'</code>ã€‚</p>
<p>è¿™å°±æ˜¯ <code>this</code> æœ€å¸¸è§çš„ç”¨é€”ï¼š<strong>åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œè®©æ–¹æ³•èƒ½è®¿é—®æ‰€å±å¯¹è±¡çš„å±æ€§</strong>ã€‚</p>
<p>å¯æƒœçš„æ˜¯ï¼ŒJavaScript çš„è®¾è®¡æœ‰ç‚¹â€œçµæ´»è¿‡å¤´â€â€”â€”å‡½æ•°å¯ä»¥è„±ç¦»å¯¹è±¡å•ç‹¬è°ƒç”¨ï¼Œè¿™æ—¶å€™ <code>this</code> å°±â€œè¿·å¤±è‡ªæˆ‘â€äº†ã€‚</p>
<hr/>
<h2 data-id="heading-3">ä¸‰ã€ä¸¥æ ¼æ¨¡å¼ï¼šç»™ <code>this</code> åŠ ä¸ªâ€œå®‰å…¨é”â€</h2>
<p>æ—©æœŸ JavaScript æœ‰ä¸ªâ€œå·æ‡’â€è®¾è®¡ï¼šæ™®é€šå‡½æ•°è°ƒç”¨æ—¶ï¼Œ<code>this</code> é»˜è®¤æŒ‡å‘å…¨å±€å¯¹è±¡ï¼ˆæµè§ˆå™¨ä¸­æ˜¯ <code>window</code>ï¼‰ï¼Œè™½ç„¶è¯´æ­¤æ—¶thisæ˜¯æ²¡æœ‰å¿…è¦çš„ï¼Œä½†æ˜¯å®ƒæ€»å¾—æœ‰è¦æŒ‡å‘çš„ä¸œè¥¿ï¼Œä½œè€…ç›´æ¥è®©thisæŒ‡å‘å…¨å±€äº†ã€‚è¿™å¾ˆå®¹æ˜“é€ æˆ<strong>æ„å¤–æ±¡æŸ“å…¨å±€å˜é‡</strong>ã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">foo</span>() {
  this<span class="hljs-selector-class">.x</span> = <span class="hljs-number">100</span>; <span class="hljs-comment">// å¦‚æœä¸å°å¿ƒè¿™ä¹ˆå†™ï¼Œx å°±æŒ‚åˆ° window ä¸Šäº†ï¼</span>
}
<span class="hljs-built_in">foo</span>(); <span class="hljs-comment">// æ™®é€šè°ƒç”¨ â†’ this = window</span>
</code></pre>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ å¼•å…¥äº† <strong>ä¸¥æ ¼æ¨¡å¼ï¼ˆ<code>'use strict'</code>ï¼‰</strong> ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-meta">'use strict'</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// undefinedï¼</span>
}
<span class="hljs-title function_">foo</span>(); <span class="hljs-comment">// æŠ¥é”™ if you access this.property</span>
</code></pre>
<blockquote>
<p>ğŸ”’ ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œæ™®é€šå‡½æ•°è°ƒç”¨çš„ <code>this</code> æ˜¯ <code>undefined</code>ï¼Œè§„é¿äº†æ²¡å¿…è¦çš„thisæŒ‡å‘ï¼Œé˜²æ­¢æ„å¤–çš„å…¨å±€ç»‘å®šï¼Œæé«˜äº†ä»£ç çš„å®‰å…¨æ€§</p>
</blockquote>
<hr/>
<h2 data-id="heading-4">å››ã€æ‰‹åŠ¨æŒ‡å®š <code>this</code>ï¼š<code>call</code> / <code>apply</code></h2>
<p>æœ‰æ—¶å€™æˆ‘ä»¬æƒ³â€œå¼ºè¡Œâ€è®©æŸä¸ªå‡½æ•°çš„ <code>this</code> æŒ‡å‘ç‰¹å®šå¯¹è±¡ï¼Œæ€ä¹ˆåŠï¼Ÿ</p>
<p>JavaScript æä¾›äº†ä¸¤å¤§æ³•å®(å…¶å®è¿˜æœ‰bindï¼Œæˆ‘ä»¬ä¸‹æ¬¡å†èŠå®ƒ)ï¼š</p>
<ul>
<li><code>func.call(obj, arg1, arg2)</code></li>
<li><code>func.apply(obj, [arg1, arg2])</code></li>
</ul>
<p>çœ‹çœ‹è¿™ä¸ªä¾‹å­:</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> bar = { <span class="hljs-attr">myName</span>: <span class="hljs-string">'æå®¢é‚¦'</span>, <span class="hljs-attr">test1</span>: <span class="hljs-number">1</span> }

<span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">myName</span> = <span class="hljs-string">'æå®¢æ—¶é—´'</span>
}

foo.<span class="hljs-title function_">call</span>(bar) <span class="hljs-comment">// å¼ºåˆ¶ this æŒ‡å‘ bar</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(bar) <span class="hljs-comment">// { myName: 'æå®¢æ—¶é—´', test1: 1 }</span>
</code></pre>
<p>foo.call(bar)è¿™æ®µä»£ç æ˜¯å…³é”®ï¼Œå¼ºåˆ¶æ‰§è¡Œfooå‡½æ•°ï¼Œå¹¶å°†å…¶å†…éƒ¨thiså¼ºè¡ŒæŒ‡å‘bar</p>
<hr/>
<h2 data-id="heading-5">äº”ã€æ„é€ å‡½æ•°ä¸­çš„ <code>this</code>ï¼šæŒ‡å‘æ–°å®ä¾‹</h2>
<p>å†çœ‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">CreateObj</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>) <span class="hljs-comment">// æŒ‡å‘æ–°åˆ›å»ºçš„å®ä¾‹</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = <span class="hljs-string">'æå®¢æ—¶é—´'</span>
}

<span class="hljs-keyword">var</span> myObj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CreateObj</span>()
</code></pre>
<p>å½“ä½¿ç”¨ <code>new</code> è°ƒç”¨å‡½æ•°æ—¶ï¼ŒJavaScript å¼•æ“ä¼šï¼š</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ <code>{}</code>ï¼›</li>
<li>æŠŠè¿™ä¸ªå¯¹è±¡çš„ <code>__proto__</code> æŒ‡å‘æ„é€ å‡½æ•°çš„ <code>prototype</code>ï¼›</li>
<li><strong>æŠŠ <code>this</code> ç»‘å®šåˆ°è¿™ä¸ªæ–°å¯¹è±¡</strong>ï¼›</li>
<li>æ‰§è¡Œå‡½æ•°ä½“ï¼›</li>
<li>è¿”å›è¿™ä¸ªå¯¹è±¡ï¼ˆé™¤éä½ æ˜¾å¼ return ä¸€ä¸ªå¯¹è±¡ï¼‰ã€‚</li>
</ol>
<p>æ‰€ä»¥ï¼Œæ„é€ å‡½æ•°é‡Œçš„ <code>this</code> æ°¸è¿œæŒ‡å‘<strong>å³å°†è¢«åˆ›å»ºçš„å®ä¾‹</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-6">å…­ã€äº‹ä»¶å¤„ç†å‡½æ•°ä¸­çš„ <code>this</code></h2>
<p>åœ¨ DOM äº‹ä»¶ä¸­ï¼Œ<code>this</code> ä¹Ÿæœ‰ç‰¹æ®Šè§„åˆ™ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"link"</span>&gt;</span>ç‚¹å‡»æˆ‘<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'link'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>) <span class="hljs-comment">// æŒ‡å‘ &lt;a&gt; å…ƒç´ ï¼</span>
  })
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><strong>æ™®é€šå‡½æ•°ä½œä¸ºäº‹ä»¶å¤„ç†å™¨æ—¶ï¼Œ<code>this</code> æŒ‡å‘è§¦å‘äº‹ä»¶çš„ DOM å…ƒç´ ã€‚</strong></p>
<p>ä½†å¦‚æœæ¢æˆç®­å¤´å‡½æ•°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>) <span class="hljs-comment">// æŒ‡å‘å¤–å±‚ä½œç”¨åŸŸçš„ thisï¼ˆé€šå¸¸æ˜¯ window æˆ– undefinedï¼‰</span>
})
</code></pre>
<p>å› ä¸º<strong>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ <code>this</code></strong>ï¼Œå®ƒä¼šç»§æ‰¿å¤–å±‚ä½œç”¨åŸŸçš„ <code>this</code>ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆåœ¨ React ç­‰æ¡†æ¶ä¸­ï¼Œç±»æ–¹æ³•å¸¸ç”¨ç®­å¤´å‡½æ•°é¿å… <code>this</code> ä¸¢å¤±ã€‚</p>
<hr/>
<h2 data-id="heading-7">ä¸ƒã€å¸¸è§è¯¯åŒºæ¾„æ¸…</h2>
<h3 data-id="heading-8">âŒ è¯¯åŒº1ï¼šâ€œè¿”å›å‡½æ•°å°±å½¢æˆé—­åŒ…â€</h3>
<p>çœ‹è¿™æ®µä»£ç ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function">function <span class="hljs-title">foo</span>()</span> {
  <span class="hljs-keyword">let</span> myName = <span class="hljs-string">'æå®¢æ—¶é—´'</span>
  <span class="hljs-keyword">return</span> bar.printName
}
</code></pre>
<p>å¾ˆå¤šäººä»¥ä¸ºè¿™é‡Œå½¢æˆäº†é—­åŒ…ã€‚å…¶å®<strong>æ²¡æœ‰</strong>ï¼å› ä¸º <code>printName</code> å¹¶æ²¡æœ‰å¼•ç”¨ <code>foo</code> å†…éƒ¨çš„ä»»ä½•å˜é‡ã€‚å®ƒçš„è¯æ³•ä½œç”¨åŸŸä»ç„¶æ˜¯<strong>å…¨å±€</strong>ï¼Œæ‰€ä»¥ <code>console.log(myName)</code> æ‰“å°çš„æ˜¯å…¨å±€çš„ <code>'æå®¢é‚¦'</code>ï¼Œè€Œä¸æ˜¯ <code>'æå®¢æ—¶é—´'</code>ã€‚</p>
<blockquote>
<p>âœ… é—­åŒ… = å‡½æ•° + å¼•ç”¨äº†å¤–å±‚å˜é‡ã€‚ç¼ºä¸€ä¸å¯ï¼</p>
</blockquote>
<h3 data-id="heading-9">âŒ è¯¯åŒº2ï¼šâ€œå¯¹è±¡å†…éƒ¨çš„å‡½æ•°æœ‰è‡ªå·±çš„ä½œç”¨åŸŸâ€</h3>
<p>JS ä¸­ï¼Œ<strong>åªæœ‰å‡½æ•°èƒ½åˆ›å»ºä½œç”¨åŸŸ</strong>ï¼Œå¯¹è±¡ <code>{}</code> ä¸ä¼šï¼æ‰€ä»¥ <code>bar.printName</code> çš„ä½œç”¨åŸŸå°±æ˜¯å®ƒè¢«å®šä¹‰çš„åœ°æ–¹ â€”â€” å…¨å±€ã€‚</p>
<hr/>
<h2 data-id="heading-10">å…«ã€æ€»ç»“ï¼š<code>this</code> çš„äº”å¤§ç»‘å®šè§„åˆ™</h2>





























<table><thead><tr><th>è°ƒç”¨æ–¹å¼</th><th><code>this</code> æŒ‡å‘</th></tr></thead><tbody><tr><td>æ™®é€šå‡½æ•°è°ƒç”¨</td><td>å…¨å±€å¯¹è±¡ï¼ˆéä¸¥æ ¼æ¨¡å¼ï¼‰/ <code>undefined</code>ï¼ˆä¸¥æ ¼æ¨¡å¼ï¼‰</td></tr><tr><td>å¯¹è±¡æ–¹æ³•è°ƒç”¨</td><td>è¯¥å¯¹è±¡</td></tr><tr><td><code>call</code> / <code>apply</code></td><td>ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šçš„å¯¹è±¡</td></tr><tr><td><code>new</code> æ„é€ å‡½æ•°è°ƒç”¨</td><td>æ–°åˆ›å»ºçš„å®ä¾‹</td></tr><tr><td>DOM äº‹ä»¶å¤„ç†å‡½æ•°</td><td>è§¦å‘äº‹ä»¶çš„å…ƒç´ </td></tr></tbody></table>
<p>è®°ä½ä¸€å¥è¯ï¼š<strong><code>this</code> æŒ‡å‘â€œè°ƒç”¨è€…â€ï¼Œè€Œä¸æ˜¯â€œå®šä¹‰è€…â€</strong> ã€‚</p>
<hr/>
<h2 data-id="heading-11">ç»“è¯­ï¼šå’Œ <code>this</code> å’Œè§£å§ï¼</h2>
<p><code>this</code> çœ‹ä¼¼æ··ä¹±ï¼Œå…¶å®è§„åˆ™å¾ˆæ¸…æ™°ã€‚åªè¦è®°ä½å®ƒçš„æ ¸å¿ƒåŸåˆ™ â€”â€” <strong>ç”±è°ƒç”¨æ–¹å¼å†³å®š</strong>ï¼Œå†é…åˆä¸¥æ ¼æ¨¡å¼ã€ç®­å¤´å‡½æ•°ã€<code>apply</code> ç­‰å·¥å…·ï¼Œä½ å°±èƒ½å®Œå…¨æŒæ§å®ƒã€‚</p>
<p>ä¸‹æ¬¡å†é‡åˆ° <code>this</code> é—®é¢˜ï¼Œä¸å¦¨é—®è‡ªå·±ä¸€å¥ï¼š</p>
<blockquote>
<p>â€œè¿™ä¸ªå‡½æ•°ï¼Œåˆ°åº•æ˜¯<strong>è°</strong>åœ¨è°ƒç”¨å®ƒï¼Ÿâ€</p>
</blockquote>
<p>ç­”æ¡ˆï¼Œå°±åœ¨è°ƒç”¨çš„é‚£ä¸€è¡Œä»£ç é‡Œã€‚</p>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®ä½ å½»åº•ç†æ¸… <code>this</code> çš„è¿·æ€ï¼å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œæ¬¢è¿ç‚¹èµã€æ”¶è—ã€è½¬å‘ï½ä¹Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ å’Œ <code>this</code> çš„â€œç›¸çˆ±ç›¸æ€â€æ•…äº‹ ğŸ˜„</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[iOS çŸ¥è¯†ç‚¹ - Block è®²è§£]]></title>    <link>https://juejin.cn/post/7579871631095382042</link>    <guid>https://juejin.cn/post/7579871631095382042</guid>    <pubDate>2025-12-04T12:09:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579871631095382042" data-draft-id="7577031454586421275" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="iOS çŸ¥è¯†ç‚¹ - Block è®²è§£"/> <meta itemprop="keywords" content="ç¬”è®°,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-04T12:09:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é½ç”Ÿ1"/> <meta itemprop="url" content="https://juejin.cn/user/942699496080123"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            iOS çŸ¥è¯†ç‚¹ - Block è®²è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/942699496080123/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é½ç”Ÿ1
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T12:09:11.000Z" title="Thu Dec 04 2025 12:09:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ ¸å¿ƒæ¦‚å¿µ</h2>
<ul>
<li><strong>æœ¬è´¨</strong>ï¼šå¸¦æœ‰ â€œè‡ªåŠ¨å˜é‡æ•è·åŠŸèƒ½â€ çš„åŒ¿åå‡½æ•°ï¼ˆé—­åŒ…ï¼‰ã€‚</li>
</ul>
<p><strong>Block ä¸å…¶ä»–æ¦‚å¿µçš„å¯¹æ¯”</strong>ï¼š</p>

























<table><thead><tr><th>æ¦‚å¿µ</th><th>ç‰¹ç‚¹</th><th>æ˜¯å¦æ•è·ç¯å¢ƒ</th></tr></thead><tbody><tr><td>C å‡½æ•°æŒ‡é’ˆ</td><td>çº¯å‡½æ•°åœ°å€</td><td>âŒå¦</td></tr><tr><td>Block</td><td>å‡½æ•° + æ•è·çš„ä¸Šä¸‹æ–‡</td><td>âœ…æ˜¯</td></tr><tr><td>Objective-C æ–¹æ³•</td><td>å¯¹è±¡æ–¹æ³•ï¼Œéšå« self</td><td>é€šè¿‡ self é—´æ¥è®¿é—®</td></tr></tbody></table>
<p><strong>ç±»ç»§æ‰¿é“¾</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">NSObject
  â””â”€â”€ NSBlock (ç§æœ‰åŸºç±»)
        â”œâ”€â”€ __NSGlobalBlock__  (å…¨å±€ Block)
        â”œâ”€â”€ __NSStackBlock__   (æ ˆ Block)
        â””â”€â”€ __NSMallocBlock__  (å † Block)
</code></pre>
<p><strong>åŸºæœ¬è¯­æ³•</strong>ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// å®Œæ•´å½¢å¼</span>
è¿”å›å€¼ç±»å‹ (^Blockåç§°)(å‚æ•°ç±»å‹åˆ—è¡¨) = ^è¿”å›å€¼ç±»å‹(å‚æ•°åˆ—è¡¨) {
    <span class="hljs-comment">// å‡½æ•°ä½“</span>
};

<span class="hljs-type">int</span> (^sumBlock)(<span class="hljs-type">int</span>, <span class="hljs-type">int</span>) = ^<span class="hljs-type">int</span> (<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b) {
    <span class="hljs-keyword">return</span> a + b;
};
</code></pre>
<hr/>
<h2 data-id="heading-1">å˜é‡æ•è·æœºåˆ¶</h2>
<p><strong>ä¸‰ç§ Block ç±»å‹</strong></p>





























<table><thead><tr><th>ç±»å‹</th><th>isa æŒ‡å‘</th><th>å­˜å‚¨ä½ç½®</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><code>__NSGlobalBlock__</code></td><td><code>__NSGlobalBlock__</code>ï¼ˆç±»å¯¹è±¡ï¼‰</td><td>æ•°æ®æ®µï¼ˆå…¨å±€é™æ€åŒºï¼‰</td><td>ä¸æ•è·å¤–éƒ¨å˜é‡ï¼Œç”Ÿå‘½å‘¨æœŸ=è¿›ç¨‹</td></tr><tr><td><code>__NSStackBlock__</code></td><td><code>__NSStackBlock__</code>ï¼ˆç±»å¯¹è±¡ï¼‰</td><td>æ ˆ</td><td>æ•è·å˜é‡ï¼Œéšæ ˆå¸§æ¶ˆäº¡</td></tr><tr><td><code>__NSMallocBlock__</code></td><td><code>__NSMallocBlock__</code>ï¼ˆç±»å¯¹è±¡ï¼‰</td><td>å †</td><td>ä»æ ˆæ‹·è´æ¥ï¼Œå¼•ç”¨è®¡æ•°ç®¡ç†</td></tr></tbody></table>
<h3 data-id="heading-2">ARC ä¸‹è‡ªåŠ¨ copy è§„åˆ™</h3>
<p>åœ¨ <strong>MRC</strong> ä¸‹ï¼Œå¿…é¡»æ‰‹åŠ¨å°†æ ˆ <strong>block</strong> æ‹·è´åˆ°å †ä¸Šã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">Block_copy</span>(block);
<span class="hljs-built_in">Block_release</span>(block);
</code></pre>
<p>åœ¨ <strong>ARC</strong> ä¸‹ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ® <strong>block</strong> çš„ä½¿ç”¨åœºæ™¯è‡ªåŠ¨å°†æ ˆ <strong>block</strong> æ‹·è´åˆ°å †ä¸Šã€‚</p>
<ul>
<li><strong>è§¦å‘æ¡ä»¶</strong>ï¼š
- èµ‹å€¼ç»™ <code>__strong</code> å˜é‡ï¼Œä¼šè‡ªåŠ¨å°†æ ˆ <strong>block</strong> æ‹·è´åˆ°å †ä¸Šã€‚
- ä½œä¸ºæ–¹æ³•è¿”å›å€¼ï¼Œè‡ªåŠ¨ <strong>copy</strong>ã€‚
- ä½œä¸º <strong>Cocoa API</strong> å›è°ƒå‚æ•° (ä¾‹å¦‚ï¼š<code>dispatch_async</code>)ã€‚
- æ”¾å…¥å®¹å™¨ï¼ˆ<code>NSArray</code>, <code>NSDictionary</code>ï¼‰</li>
</ul>
<p>ä» ğŸ” çœ‹å‡ºï¼Œ<strong>ARC</strong> ä¸‹å¤§éƒ¨åˆ† <strong>block</strong> éƒ½ä¼šå˜æˆ <code>__NSMallocBlock__</code>ï¼Œé‚£ä¹ˆåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ï¼Œä»ç„¶ä¼šæœ‰ <code>__NSStackBlock__</code> å‘¢ï¼Ÿ</p>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-comment">// å±€éƒ¨ä½œç”¨åŸŸå†…ï¼Œ[ç›´æ¥è°ƒç”¨] + [æ•è·å¤–éƒ¨å˜é‡] + [ä¸æ»¡è¶³ â€œè§¦å‘æ¡ä»¶â€] çš„ blockã€‚</span>
<span class="hljs-type">void</span> test(<span class="hljs-type">void</span>) {
    <span class="hljs-type">int</span> x = <span class="hljs-number">0</span>;
    
    <span class="hljs-comment">// é»˜è®¤æ˜¯ __strongï¼ˆè§¦å‘æ¡ä»¶ï¼‰ï¼Œæ‰€ä»¥éœ€è¦ç”¨ __weak æˆ– __unsafe_unretained ä¿®é¥°ã€‚ </span>
    __<span class="hljs-keyword">weak</span> <span class="hljs-type">void</span> (^block)(<span class="hljs-type">void</span>) = ^{
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"%d"</span>, x);
    };
}
</code></pre>
<hr/>
<h2 data-id="heading-3">åº•å±‚å®ç°åŸç†</h2>
<p>ä¸¾ä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">void</span>Â <span class="hljs-title">test</span>()</span> {
Â  Â Â <span class="hljs-built_in">int</span>Â a =Â <span class="hljs-number">10</span>;
Â  Â Â __blockÂ <span class="hljs-built_in">int</span>Â b =Â <span class="hljs-number">10</span>;

Â  Â Â <span class="hljs-keyword">void</span>Â (^blk)(<span class="hljs-keyword">void</span>) = ^{
Â  Â  Â  Â Â NSLog(<span class="hljs-string">@"a = %d"</span>, a);
Â  Â  Â  Â Â b +=Â <span class="hljs-number">1</span>;
Â  Â Â };
    
    blk();
}
</code></pre>
<p>ç¼–è¯‘åçš„ç®€åŒ–ç»“æœï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">__main_block_impl_0</span> {
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">__block_impl</span> impl;  <span class="hljs-comment">// block åŸºç¡€ä¿¡æ¯ï¼ˆisaã€FuncPtr ç­‰ï¼‰</span>
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">__main_block_desc_0</span>* Desc;  <span class="hljs-comment">// ç»‘å®š impl.descriptor æŒ‡é’ˆ</span>
    
    <span class="hljs-comment">/// è‡ªåŠ¨æ•è·å˜é‡</span>
    <span class="hljs-type">int</span> a;  <span class="hljs-comment">// æ•è·åˆ°çš„å˜é‡</span>
    <span class="hljs-keyword">struct</span>Â <span class="hljs-title class_">__Block_byref_b</span>Â *b_byref;  <span class="hljs-comment">// æ•è·åˆ°çš„ __block å˜é‡</span>
};
</code></pre>
<ul>
<li><code>block()</code> è°ƒç”¨å®é™…æ˜¯ <code>impl.FuncPtr()</code>ã€‚</li>
</ul>
<h3 data-id="heading-4"><code>__block</code> ä¿®é¥°ç¬¦</h3>
<p>æ™®é€šçš„å˜é‡æ˜¯æ— æ³•åœ¨é—­åŒ…å†…éƒ¨ä¿®æ”¹çš„ï¼ˆåªè¯»ï¼‰ï¼Œå¦‚æœéœ€è¦ä¿®æ”¹å˜é‡ï¼Œéœ€è¦é€šè¿‡ <code>__block</code> ä¿®é¥°æ¥å…±äº«å†…å­˜ã€‚</p>
<p><code>__block</code> å˜é‡ä¼šè¢«åŒ…è£…æˆä¸€ä¸ªç»“æ„ä½“ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">struct</span>Â <span class="hljs-title class_">__Block_byref_x</span>Â {
Â  Â Â <span class="hljs-type">void</span>Â *__isa;
    __Block_byref_x *__forwarding;  <span class="hljs-comment">// ä¿è¯ block copy åˆ°å †åæŒ‡é’ˆä»æŒ‡å‘æœ€æ–°å€¼</span>
Â  Â Â <span class="hljs-type">int</span>Â __flags;
Â  Â Â <span class="hljs-type">int</span>Â __size;
Â  Â Â <span class="hljs-type">int</span>Â x;Â Â Â <span class="hljs-comment">// å®é™…å­˜å‚¨çš„å€¼</span>

};
</code></pre>
<ul>
<li>
<p>å½“ <strong>block</strong> æ•è· <code>__block</code> å˜é‡æ—¶ï¼Œå¹¶ä¸ä¼šç›´æ¥æ‹·è´å˜é‡ <code>a</code> çš„å€¼ï¼Œè€Œæ˜¯ä¼šæ•è· <code>__Block_byref_x*</code>æŒ‡é’ˆï¼Œæ— è®º <strong>block</strong> åœ¨æ ˆ or å †ä¸Šï¼Œè®¿é—®çš„éƒ½æ˜¯åŒä¸€ä¸ªÂ <code>__Block_byref_x</code>Â â†’ ä¿è¯ä¿®æ”¹åŒæ­¥ã€‚</p>
</li>
<li>
<p><strong><code>__forwarding</code> æŒ‡é’ˆä½œç”¨</strong></p>
<ul>
<li>å½“ <strong>block</strong> ä»æ ˆæ‹·è´åˆ°å †æ—¶ï¼š
<ul>
<li><code>__Block_byref_x</code> æœ¬èº«ä¹Ÿä¼šè¢«æ‹·è´åˆ°å †</li>
<li><code>__forwarding</code> æŒ‡é’ˆæ›´æ–°ä¸ºå †ä¸Šçš„æ–°åœ°å€</li>
</ul>
</li>
<li><strong>block</strong> å†…è®¿é—® x çš„æ–¹å¼ï¼š</li>
</ul>
<pre><code class="hljs language-rust" lang="rust">Block <span class="hljs-punctuation">-&gt;</span> __Block_byref_x <span class="hljs-punctuation">-&gt;</span> forwarding <span class="hljs-punctuation">-&gt;</span> x += <span class="hljs-number">1</span>;
</code></pre>
</li>
</ul>
<h3 data-id="heading-5">block ç¼–è¯‘ç»“æœç¤ºä¾‹</h3>
<p>ä¸¾ä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">void</span>Â <span class="hljs-title">test</span>()</span> {
Â  Â Â <span class="hljs-built_in">int</span>Â a =Â <span class="hljs-number">10</span>;
Â  Â Â __blockÂ <span class="hljs-built_in">int</span>Â b =Â <span class="hljs-number">10</span>;

Â  Â Â <span class="hljs-keyword">void</span>Â (^blk)(<span class="hljs-keyword">void</span>) = ^{
Â  Â  Â  Â Â NSLog(<span class="hljs-string">@"a = %d"</span>, a);
Â  Â  Â  Â Â b +=Â <span class="hljs-number">1</span>;
Â  Â Â };
    
    blk();
}
</code></pre>
<p>ç¼–è¯‘åå…¨éƒ¨çš„å±•å¼€ç»“æœï¼š</p>
<pre><code class="hljs language-perl" lang="perl">//<span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span>
//<span class="hljs-regexp">/ 0ï¸âƒ£__block ä¿®é¥°çš„ b
/</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">/
structÂ __Block_byref_bÂ {
Â  Â Â voidÂ *__isa;
Â  Â Â structÂ __Block_byref_bÂ *__forwarding;
Â  Â Â intÂ __flags;
Â  Â Â intÂ __size;
Â  Â Â intÂ b;Â Â /</span><span class="hljs-regexp">/ å®é™…å€¼
};

/</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">/
/</span><span class="hljs-regexp">//</span> <span class="hljs-number">1</span>ï¸âƒ£Block ç»“æ„ä½“
//<span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span>
struct __main_block_impl_<span class="hljs-number">0</span> {
    struct __block_impl impl;  <span class="hljs-regexp">//</span> block åŸºç¡€ä¿¡æ¯ï¼ˆisaã€FuncPtr ç­‰ï¼‰
    struct __main_block_desc_<span class="hljs-number">0</span>* Desc;  <span class="hljs-regexp">//</span> ç»‘å®š impl.descriptor æŒ‡é’ˆ
    
    //<span class="hljs-regexp">/ è‡ªåŠ¨æ•è·å˜é‡
    int a;  /</span><span class="hljs-regexp">/ æ•è·åˆ°çš„å˜é‡
    structÂ __Block_byref_bÂ *b_byref;  /</span><span class="hljs-regexp">/ æ•è·åˆ°çš„ __block å˜é‡
};

/</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">/
/</span><span class="hljs-regexp">//</span> <span class="hljs-number">2</span>ï¸âƒ£_block_impl å±•å¼€
//<span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span>
structÂ __block_implÂ {
Â  Â Â voidÂ *isa;Â  Â  Â Â <span class="hljs-regexp">//</span> æŒ‡å‘ __NSStackBlock_<span class="hljs-number">_</span>/__NSMallocBlock_<span class="hljs-number">_</span>/__NSGlobalBlock_<span class="hljs-number">_</span>
Â  Â Â <span class="hljs-keyword">int</span>Â flags;Â  Â  Â Â <span class="hljs-regexp">//</span> æ ‡å¿—ä½ï¼Œæ¯”å¦‚æ˜¯å¦æ˜¯ __blockã€æ˜¯å¦æ•è·å¯¹è±¡
Â  Â Â <span class="hljs-keyword">int</span>Â reserved;Â Â Â <span class="hljs-regexp">//</span> ä¿ç•™å­—æ®µ
Â  Â Â voidÂ (*invoke)(voidÂ *, ...);Â <span class="hljs-regexp">//</span> block çš„æ‰§è¡Œå‡½æ•°æŒ‡é’ˆ
Â  Â Â structÂ __block_descriptorÂ *descriptor;Â <span class="hljs-regexp">//</span> æè¿°ä¿¡æ¯ï¼ˆsize, copy, disposeï¼‰

};

<span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span>
//<span class="hljs-regexp">/ 3ï¸âƒ£__block_descriptor å±•å¼€
/</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">/
structÂ __block_descriptorÂ {
Â  Â Â unsignedÂ longÂ reserved;Â Â  Â  Â  Â  Â  Â  Â  Â     Â Â /</span><span class="hljs-regexp">/ ä¿ç•™å­—æ®µ
Â  Â Â unsignedÂ longÂ size;Â Â  Â  Â  Â  Â  Â  Â  Â  Â  Â     Â Â /</span><span class="hljs-regexp">/ block æ€»å¤§å°ï¼ˆimpl + æ•è·å˜é‡ï¼‰
Â  Â Â voidÂ (*copy_helper)(voidÂ *dst,Â voidÂ *src);Â Â Â /</span><span class="hljs-regexp">/ copy æ—¶è°ƒç”¨ï¼Œå¤„ç†å¯¹è±¡ /</span> __block
Â  Â Â voidÂ (*dispose_helper)(voidÂ *src);Â Â  Â  Â  Â  Â Â <span class="hljs-regexp">//</span> é‡Šæ”¾ block æ—¶è°ƒç”¨

};

<span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span>
//<span class="hljs-regexp">/ 4ï¸âƒ£__main_block_desc_0 å±•å¼€
/</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">/
structÂ __main_block_desc_0Â {
Â  Â Â unsignedÂ longÂ reserved;
Â  Â Â unsignedÂ longÂ size;
Â  Â Â voidÂ (*copy_helper)(voidÂ *dst,Â voidÂ *src);
Â  Â Â voidÂ (*dispose_helper)(voidÂ *src);
};

/</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">/
/</span><span class="hljs-regexp">//</span> <span class="hljs-number">5</span>ï¸âƒ£block æ‰§è¡Œå‡½æ•°ä¼ªä»£ç 
//<span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span>
voidÂ __main_block_invoke(structÂ __main_block_impl_<span class="hljs-number">0</span> *blk) {
    <span class="hljs-regexp">//</span> a æ˜¯æŒ‰å€¼æ‹·è´
Â  Â Â <span class="hljs-keyword">int</span>Â a = blk-&gt;a;
Â  Â Â <span class="hljs-keyword">printf</span>(<span class="hljs-string">"a = %d\n"</span>, a);

Â  Â Â <span class="hljs-regexp">//</span> b æ˜¯ __block å˜é‡ï¼Œé€šè¿‡ forwarding ä¿®æ”¹
Â  Â Â structÂ __Block_byref_bÂ *bÂ = blk-&gt;b_byref-&gt;forwarding;
Â  Â Â b-&gt;b +=Â <span class="hljs-number">1</span>;
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¢è¯•å®˜ï¼šå¤§æ¨¡å‹ä¸­çš„å¹»è§‰æœ¬è´¨åŸå› æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•é€šè¿‡è®­ç»ƒæˆ–æ¨ç†æ‰‹æ®µæŠ‘åˆ¶ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7579832186880065586</link>    <guid>https://juejin.cn/post/7579832186880065586</guid>    <pubDate>2025-12-04T11:34:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579832186880065586" data-draft-id="7579798332778151945" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¢è¯•å®˜ï¼šå¤§æ¨¡å‹ä¸­çš„å¹»è§‰æœ¬è´¨åŸå› æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•é€šè¿‡è®­ç»ƒæˆ–æ¨ç†æ‰‹æ®µæŠ‘åˆ¶ï¼Ÿ"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2025-12-04T11:34:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="coting"/> <meta itemprop="url" content="https://juejin.cn/user/933911964427818"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¢è¯•å®˜ï¼šå¤§æ¨¡å‹ä¸­çš„å¹»è§‰æœ¬è´¨åŸå› æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•é€šè¿‡è®­ç»ƒæˆ–æ¨ç†æ‰‹æ®µæŠ‘åˆ¶ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/933911964427818/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    coting
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T11:34:22.000Z" title="Thu Dec 04 2025 11:34:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é¢è¯•å®˜ï¼š<strong>ä½ è§‰å¾—å¤§æ¨¡å‹çš„å¹»è§‰ï¼ˆHallucinationï¼‰æ˜¯æ€ä¹ˆäº§ç”Ÿçš„ï¼Ÿèƒ½ä¸èƒ½ä»åŸç†ä¸Šè®²è®²ï¼Ÿé‚£æˆ‘ä»¬åˆè¯¥å¦‚ä½•å»æŠ‘åˆ¶ï¼Ÿ</strong></p>
<p>åˆ«å°çœ‹è¿™é—®é¢˜ï¼Œå‡ ä¹æ‰€æœ‰å¤§æ¨¡å‹éƒ½è¢«å¹»è§‰å›°æ‰°â€”â€”ä» ChatGPT åˆ°å¤šæ¨¡æ€æ¨¡å‹ï¼Œæ²¡æœ‰ä¸€ä¸ªèƒ½é€ƒå¾—äº†ã€‚</p>
<p>æ‰€æœ‰ç›¸å…³æºç ç¤ºä¾‹ã€æµç¨‹å›¾ã€æ¨¡å‹é…ç½®ä¸çŸ¥è¯†åº“æ„å»ºæŠ€å·§ï¼Œæˆ‘ä¹Ÿå°†æŒç»­æ›´æ–°åœ¨Githubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Faicoting%2FAIHub" target="_blank" title="https://github.com/aicoting/AIHub" ref="nofollow noopener noreferrer"><strong>AIHub</strong></a>ï¼Œæ¬¢è¿å…³æ³¨æ”¶è—ï¼</p>
<h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯å¹»è§‰ï¼Ÿ</h2>
<p>åœ¨å¤§æ¨¡å‹è¯­å¢ƒä¸‹ï¼Œâ€œå¹»è§‰â€æŒ‡çš„æ˜¯<strong>æ¨¡å‹ç”Ÿæˆçš„å†…å®¹è™½ç„¶è¯­è¨€ä¸Šè¿è´¯ã€é€»è¾‘é€šé¡ºï¼Œä½†ä¸äº‹å®ä¸ç¬¦ã€‚</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/517cc3e7f7e14959ba68f4083c1eb554~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765452862&amp;x-signature=uCE7%2FO1oE2oRcttj9%2F3Xii2WFyQ%3D" alt="" loading="lazy"/></p>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li>æ¨¡å‹ç¼–é€ ä¸å­˜åœ¨çš„è®ºæ–‡ï¼›</li>
<li>æ¨¡å‹å‡­ç©ºè™šæ„æ•°æ®ã€ä»£ç ï¼›</li>
<li>æ¨¡å‹å›ç­”é—®é¢˜æ—¶â€œè‡ªä¿¡åœ°èƒ¡è¯´å…«é“â€ã€‚</li>
</ul>
<p>æœ¬è´¨ä¸Šï¼Œè¿™æ˜¯ä¸€ç§<strong>æ¨¡å‹ç”Ÿæˆåç¦»çœŸå®è¯­ä¹‰ç©ºé—´</strong>çš„ç°è±¡ã€‚</p>
<h2 data-id="heading-1">äºŒã€å¹»è§‰çš„æœ¬è´¨</h2>
<p>è¦ç†è§£å¹»è§‰ï¼Œå¾—å…ˆå›åˆ°æœ€æœ¬è´¨çš„äº‹å®ï¼š</p>
<p>å¤§æ¨¡å‹ä¸æ˜¯çŸ¥è¯†ç³»ç»Ÿï¼Œè€Œæ˜¯<strong>æ¡ä»¶æ¦‚ç‡ç”Ÿæˆå™¨</strong>ã€‚</p>
<p>åœ¨è‡ªå›å½’æ¡†æ¶ä¸‹ï¼Œè¯­è¨€æ¨¡å‹çš„ç›®æ ‡æ˜¯ï¼š<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/740b3ca256c04315980d3bd2b3cf580e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765452862&amp;x-signature=fp0593Py5UQVC%2FLl8AObOzSN3FM%3D" alt="image" loading="lazy"/></p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¨¡å‹åªå­¦åˆ°äº†â€œä¸‹ä¸€ä¸ªè¯çš„æ¦‚ç‡åˆ†å¸ƒâ€ï¼Œå®ƒå¹¶ä¸çœŸæ­£â€œçŸ¥é“â€äº‹å®æ˜¯å¦çœŸå®ã€‚</p>
<p>æ‰€ä»¥ï¼Œå½“è¯­å¢ƒä¸å……åˆ†ã€åˆ†å¸ƒå¤–æ ·æœ¬å‡ºç°ã€æˆ–æ¦‚ç‡æ··ä¹±æ—¶ï¼Œæ¨¡å‹å°±å¯èƒ½é€‰æ‹©ä¸€ä¸ª<strong>è¯­ä¹‰ä¸Šåˆç†ä½†äº‹å®é”™è¯¯</strong>çš„è¯ã€‚</p>
<p>è¿™ï¼Œå°±æ˜¯å¹»è§‰çš„èµ·ç‚¹ã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€ä»ä¸‰å±‚è§†è§’çœ‹å¹»è§‰äº§ç”Ÿçš„æœºåˆ¶</h2>
<h3 data-id="heading-3">è¯­è¨€å±‚é¢ï¼šè®­ç»ƒç›®æ ‡ä¸çœŸå®æ€§é”™ä½</h3>
<p>è¯­è¨€æ¨¡å‹çš„ç›®æ ‡å‡½æ•°æ˜¯æœ€å¤§åŒ–ä¼¼ç„¶ï¼ˆMLEï¼‰ï¼š<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/836e6ed952bb4ddab7cdf12b06101381~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765452862&amp;x-signature=ZAdgxIjTXiqwn9zWBOhJU%2Fvetk8%3D" alt="image" loading="lazy"/></p>
<p>é—®é¢˜æ˜¯ï¼š</p>
<ul>
<li>å®ƒå­¦ä¹ çš„æ˜¯â€œè¡¨è¾¾æ¦‚ç‡â€ï¼Œä¸æ˜¯â€œäº‹å®æ­£ç¡®æ€§â€ï¼›</li>
<li>é«˜ä¼¼ç„¶çš„å¥å­å¾€å¾€æ˜¯â€œå¬èµ·æ¥åˆç†â€çš„å¥å­ï¼›</li>
<li>æ‰€ä»¥æ¨¡å‹ä¼šä¼˜å…ˆè¾“å‡ºè¯­æ³•è¿è´¯çš„å†…å®¹ï¼Œè€ŒéçœŸå®å†…å®¹ã€‚</li>
</ul>
<p>è¯­è¨€æ¨¡å‹è¿½æ±‚çš„æ˜¯<strong>æµç•…æ€§</strong>ï¼Œä¸æ˜¯<strong>çœŸå®æ€§</strong>ã€‚</p>
<h3 data-id="heading-4">è¯­ä¹‰å±‚é¢ï¼šçŸ¥è¯†è¡¨ç¤ºçš„ä¸ç²¾ç¡®æ€§</h3>
<p>å¤§æ¨¡å‹çš„çŸ¥è¯†æ˜¯é€šè¿‡<strong>åˆ†å¸ƒå¼å‘é‡è¡¨ç¤º</strong>ï¼ˆembeddingï¼‰éšå¼å­˜å‚¨çš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c7b9548dbfaa4b73a4c06eb80ff955bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765452862&amp;x-signature=N3RT%2BCkleZ1%2FkpOTyhzYW2ZwIig%3D" alt="" loading="lazy"/><br/>
å½“çŸ¥è¯†å…³è”ä¸æ¸…æˆ–ç›¸ä¼¼æ¦‚å¿µæ··å æ—¶ï¼Œå°±ä¼šäº§ç”Ÿâ€œä¼ªè”æƒ³â€ã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<p>â€œçˆ±å› æ–¯å¦æå‡ºäº†ç›¸å¯¹è®ºâ€<br/>
â€œç‰›é¡¿æå‡ºäº†ä¸‡æœ‰å¼•åŠ›â€<br/>
æ¨¡å‹å¯èƒ½å­¦åˆ°â€œç‰©ç†å­¦å®¶ + æå‡º + ç†è®ºâ€è¿™ç§ç»Ÿè®¡æ¨¡æ¿ï¼Œäºæ˜¯å½“ä½ é—®â€œçˆ±è¿ªç”Ÿæå‡ºäº†ä»€ä¹ˆç†è®ºï¼Ÿâ€æ—¶ï¼Œå®ƒå°±å¾ˆå¯èƒ½â€œç¼–â€ä¸€ä¸ªã€‚</p>
<p>è¿™ç±»å¹»è§‰æ˜¯<strong>è¡¨ç¤ºç©ºé—´æ··å </strong>çš„ç»“æœã€‚</p>
<h3 data-id="heading-5">æ¨ç†å±‚é¢ï¼šé‡‡æ ·ä¸è§£ç è¿‡ç¨‹çš„åå·®</h3>
<p>ç”Ÿæˆæ—¶ï¼Œå¤§æ¨¡å‹å¹¶ä¸æ˜¯æ¯æ¬¡éƒ½å–æœ€é«˜æ¦‚ç‡è¯ï¼Œè€Œæ˜¯æ ¹æ®ç­–ç•¥é‡‡æ ·ï¼š</p>
<ul>
<li><strong>Greedy Search</strong>ï¼šå®¹æ˜“é™·å…¥å±€éƒ¨æ¨¡å¼ï¼›</li>
<li><strong>Top-k / Top-p Sampling</strong>ï¼šå¯èƒ½é€‰åˆ°â€œè¯­è¨€ä¸Šåˆç†ä½†äº‹å®ä¸å¯¹â€çš„è¯ï¼›</li>
<li><strong>Temperature è¿‡é«˜</strong>ï¼šè¾“å‡ºéšæœºæ€§å¢åŠ ï¼Œå¹»è§‰æ¦‚ç‡ä¸Šå‡ã€‚</li>
</ul>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿æ¨¡å‹æœ¬èº«æ¦‚ç‡åˆ†å¸ƒæ²¡é—®é¢˜ï¼Œ<strong>æ¨ç†ç­–ç•¥ä¹Ÿå¯èƒ½äººä¸ºæ”¾å¤§å¹»è§‰ã€‚</strong></p>
<h2 data-id="heading-6">å››ã€ä»è®­ç»ƒè§’åº¦å¦‚ä½•æŠ‘åˆ¶å¹»è§‰ï¼Ÿ</h2>
<p>æŠ‘åˆ¶å¹»è§‰çš„æ ¸å¿ƒæ€æƒ³æ˜¯è®©æ¨¡å‹ä¸åªå­¦ä¹ â€˜è¯­è¨€çš„åˆç†æ€§â€™ï¼Œè€Œè¦å­¦ä¹ â€˜äº‹å®çš„æ­£ç¡®æ€§â€™ã€‚</p>
<p>å¸¸è§è®­ç»ƒå±‚é¢çš„è§£å†³æ€è·¯</p>
<h3 data-id="heading-7">1. å¢å¼ºçŸ¥è¯†ç›‘ç£ï¼ˆKnowledge Groundingï¼‰</h3>
<p>åœ¨é¢„è®­ç»ƒæˆ–å¾®è°ƒé˜¶æ®µå¼•å…¥å¤–éƒ¨çŸ¥è¯†åº“ï¼ˆå¦‚ Wikipediaã€Wikidataã€æ£€ç´¢æ¨¡å—ï¼‰ï¼Œè®©æ¨¡å‹çš„ç”Ÿæˆ<strong>æœ‰äº‹å®æ”¯æ’‘</strong>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e5ecec431404036922bbadd51fc7b1d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765452862&amp;x-signature=%2BgMe9BA%2FL4uU2YYLBUPI6OqR7qs%3D" alt="" loading="lazy"/></p>
<p>å…¸å‹åšæ³•ï¼š</p>
<ul>
<li>Retrieval-Augmented Generation (RAG)æ¨¡å‹å…ˆæ£€ç´¢çŸ¥è¯† â†’ å†æ ¹æ®æ£€ç´¢å†…å®¹ç”Ÿæˆï¼›</li>
<li><strong>Atlas, REALM, RETRO</strong> ç­‰æ¶æ„ï¼›</li>
<li><strong>å¤šæ¨¡æ€ Grounding</strong>ï¼šè®©è¯­è¨€ä¸è§†è§‰ã€è¡¨æ ¼ç­‰ä¿¡æ¯ç»‘å®šã€‚</li>
</ul>
<p>çŸ¥è¯†ç›‘ç£å¯ä»¥æœ‰æ•ˆé™ä½äº‹å®æ€§å¹»è§‰ï¼Œä½†æ˜¯æ£€ç´¢è´¨é‡å†³å®šä¸Šé™ã€‚</p>
<h3 data-id="heading-8">2. æŒ‡ä»¤å¯¹é½ï¼ˆInstruction Tuning + RLHFï¼‰</h3>
<p>RLHFï¼ˆReinforcement Learning from Human Feedbackï¼‰æœ¬è´¨ä¸Šå°±æ˜¯è®©æ¨¡å‹å­¦ä¼šâ€œäººè®¤ä¸ºå¯¹çš„å›ç­”æ–¹å¼â€ã€‚</p>
<p>æµç¨‹ï¼š</p>
<ol>
<li>ç”¨äººç±»åé¦ˆè®­ç»ƒå¥–åŠ±æ¨¡å‹ï¼›</li>
<li>ç”¨ PPO ç­‰ç®—æ³•è®©è¯­è¨€æ¨¡å‹ç”Ÿæˆæ›´â€œç¬¦åˆäººæ„â€çš„å†…å®¹ï¼›</li>
<li>å¥–åŠ±æ¨¡å‹ä¼šæƒ©ç½šâ€œè‡ªä¿¡èƒ¡è¯´â€çš„è¾“å‡ºã€‚</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/25b8c77682b94d919f1fb63697204b33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765452862&amp;x-signature=IYs6189o8npK3ZHTeq4qE257bRc%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸€æ­¥å…¶å®ç›¸å½“äº<strong>äº‹å®æ€§ä¸é£æ ¼æ€§çš„è½¯çº¦æŸèåˆ</strong>ã€‚ä½† RLHF å¹¶ä¸èƒ½æ¶ˆç­å¹»è§‰ï¼Œåªæ˜¯è®©å®ƒ<strong>æ›´ä¸å®¹æ˜“è¯´é”™</strong>ã€‚</p>
<h3 data-id="heading-9">3. å¯¹æ¯”å­¦ä¹ ï¼ˆContrastive Fine-tuningï¼‰</h3>
<p>é€šè¿‡æˆå¯¹æ ·æœ¬ï¼ˆæ­£ç¡® vs è™šæ„ï¼‰è¿›è¡Œä¼˜åŒ–ï¼Œè®©æ¨¡å‹å­¦ä¼šåŒºåˆ†çœŸä¼ªã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9cbe4d9d32b4ed9a1dc84f556762103~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765452862&amp;x-signature=1FMs3mP1MpLw4NdPPmfuBpW3Ngw%3D" alt="" loading="lazy"/><br/>
ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-plain" lang="plain">Input: çˆ±å› æ–¯å¦æå‡ºäº†ä»€ä¹ˆç†è®ºï¼Ÿ
Good: ç›¸å¯¹è®ºã€‚
Bad: é‡å­åŠ›å­¦ã€‚
</code></pre>
<p>æ¨¡å‹é€šè¿‡å¯¹æ¯”å­¦ä¹ ä¼˜åŒ–éšç©ºé—´ï¼Œä½¿â€œæ­£ç¡®è¾“å‡ºâ€é è¿‘ä¸Šä¸‹æ–‡å‘é‡ã€‚</p>
<h3 data-id="heading-10">4. çŸ¥è¯†ç¼–è¾‘ä¸æŒç»­å­¦ä¹ </h3>
<p>å½“æ¨¡å‹å­¦é”™äº‹å®æ—¶ï¼Œå¯ä»¥é€šè¿‡ï¼š</p>
<ul>
<li>Fine-tune å±€éƒ¨å±‚ï¼›</li>
<li>ä½ç§©é€‚é…ï¼ˆLoRAï¼‰å±€éƒ¨æ›´æ–°ï¼›</li>
<li>å‚æ•°ç¼–è¾‘ï¼ˆROME, MEMITï¼‰ç›´æ¥ä¿®æ”¹å†…éƒ¨æƒé‡ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0eacba3ccfc04e53b23f2773d8a8fc57~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765452862&amp;x-signature=B7eD9s0JiaIh%2BN%2BkP1usled0HFg%3D" alt="" loading="lazy"/></p>
<p>è¿™ç§æ–¹å¼ç±»ä¼¼â€œçº é”™è®°å¿†â€ï¼Œè®©æ¨¡å‹åœ¨ä¸é—å¿˜æ—§çŸ¥è¯†çš„å‰æä¸‹ä¿®æ­£ç‰¹å®šå¹»è§‰æºã€‚</p>
<h2 data-id="heading-11">äº”ã€ä»æ¨ç†è§’åº¦å¦‚ä½•æŠ‘åˆ¶å¹»è§‰ï¼Ÿ</h2>
<p>è®­ç»ƒèƒ½â€œå‡å°‘â€ï¼Œæ¨ç†æ‰èƒ½â€œæ§åˆ¶â€ã€‚<br/>
å‡ ç§å·¥ç¨‹ä¸Šå¸¸ç”¨çš„æ¨ç†å±‚é¢æŠ€å·§å¦‚ä¸‹</p>
<h3 data-id="heading-12">1. æ£€ç´¢å¢å¼ºæ¨ç†ï¼ˆRAG, RETROï¼‰</h3>
<p>åœ¨æ¨ç†é˜¶æ®µåŠ¨æ€æ£€ç´¢å¤–éƒ¨ä¿¡æ¯ï¼šæ¨¡å‹ä¸å‡­ç©ºç”Ÿæˆï¼Œè€Œæ˜¯å‚è€ƒäº‹å®å†ç”Ÿæˆã€‚<br/>
ç›¸å½“äºè®©æ¨¡å‹è¾¹æŸ¥èµ„æ–™è¾¹å›ç­”ï¼Œè€Œä¸æ˜¯çç¼–ã€‚</p>
<h3 data-id="heading-13">2. Self-consistency / å¤šæ ·æ€§é‡‡æ ·éªŒè¯</h3>
<p>è®©æ¨¡å‹å¤šæ¬¡ç‹¬ç«‹ç”Ÿæˆç­”æ¡ˆï¼Œç„¶åå¯¹ç»“æœæ±‚ä¸€è‡´æ€§ï¼š</p>
<pre><code class="hljs language-plain" lang="plain">é—®ï¼šå¤ªé˜³ç³»ä¸­æœ€å¤§çš„è¡Œæ˜Ÿæ˜¯ä»€ä¹ˆï¼Ÿ
â†’ ç¬¬1æ¬¡ï¼šæœ¨æ˜Ÿ
â†’ ç¬¬2æ¬¡ï¼šæœ¨æ˜Ÿ
â†’ ç¬¬3æ¬¡ï¼šåœŸæ˜Ÿ
</code></pre>
<p>å¦‚æœç­”æ¡ˆä¸ä¸€è‡´ï¼Œåˆ™è§¦å‘â€œå†ç”Ÿæˆæˆ–æ£€ç´¢â€ã€‚<br/>
è¿™åˆ©ç”¨äº†å¤§æ¨¡å‹è‡ªèº«çš„ç»Ÿè®¡ç¨³å®šæ€§æ¥<strong>è‡ªæˆ‘æ ¡éªŒ</strong>ã€‚</p>
<h3 data-id="heading-14">3. Chain-of-Thought + Faithful Reasoning</h3>
<p>åœ¨æ¨ç†æ—¶è®©æ¨¡å‹<strong>æ˜¾å¼åœ°å†™å‡ºæ¨ç†é“¾æ¡ï¼ˆCoTï¼‰</strong>ï¼ŒæŠŠâ€œç›´æ¥ç”Ÿæˆç»“è®ºâ€æ”¹æˆâ€œå…ˆæ¨ç†ï¼Œå†æ€»ç»“â€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/364dd9f8f51345f7b63b0eff82ed2734~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765452862&amp;x-signature=Uy%2FfL%2BjjAo5kotSNV0jWtrVErxY%3D" alt="" loading="lazy"/></p>
<p>è¿™æœ‰ä¸¤ä¸ªå¥½å¤„ï¼š</p>
<ul>
<li>æ¨ç†è·¯å¾„é€æ˜ï¼Œå¯æ£€æµ‹é€»è¾‘é”™è¯¯ï¼›</li>
<li>å‡å°‘â€œè·³æ­¥å¼å¹»è§‰â€ã€‚</li>
</ul>
<p>è¿›ä¸€æ­¥çš„æ”¹è¿›æ˜¯ <strong>Faithful CoT</strong>ï¼šå¼•å¯¼æ¨¡å‹åœ¨æ¯ä¸€æ­¥æ¨ç†ä¸­<strong>å¼•ç”¨çœŸå®ä¾æ®</strong>ï¼ˆå¦‚ RAG + CoTï¼‰ã€‚</p>
<h3 data-id="heading-15">4. æ ¡éªŒå‹è§£ç ï¼ˆVerifier / Critic Modelï¼‰</h3>
<p>è®­ç»ƒä¸€ä¸ªå°æ¨¡å‹æˆ–æ¨¡å—ä¸“é—¨åˆ¤æ–­è¾“å‡ºçš„çœŸå®æ€§ï¼Œç±»ä¼¼äºï¼šâ€œä¸»æ¨¡å‹è´Ÿè´£å†™ï¼Œå‰¯æ¨¡å‹è´Ÿè´£æŒ‘é”™ã€‚â€</p>
<p>ä»£è¡¨æ–¹æ¡ˆæœ‰<strong>G-Evalï¼ˆLLM-based Evaluationï¼‰å’ŒCriticGPT / VerifierGPTã€‚</strong></p>
<h3 data-id="heading-16">5. é™ä½é‡‡æ ·æ¸©åº¦ / è°ƒæ•´ top-p</h3>
<p>æ¨ç†æ—¶å¦‚æœæ¸©åº¦ï¼ˆtemperatureï¼‰å¤ªé«˜ï¼Œæ¨¡å‹æ›´å®¹æ˜“â€œæ¢ç´¢â€ï¼Œå¹»è§‰æ¦‚ç‡éšä¹‹ä¸Šå‡ã€‚<br/>
åœ¨çŸ¥è¯†é—®ç­”æˆ–äº‹å®ä»»åŠ¡ä¸­ï¼Œé€šå¸¸ï¼š</p>
<pre><code class="hljs language-plain" lang="plain">temperature = 0.2 ~ 0.4
top_p = 0.8
</code></pre>
<p>èƒ½æœ‰æ•ˆå‡å°‘å¹»è§‰ã€‚</p>
<p>æ€»ç»“ä¸€ä¸‹ï¼Œå¤§æ¨¡å‹çš„å¹»è§‰ä¸æ˜¯æ’’è°ï¼Œè€Œæ˜¯å®ƒåœ¨<strong>ä¸ç¡®å®šä¸‹ä»ç„¶è¦ç”Ÿæˆâ€œæœ€åƒçœŸçš„â€ç­”æ¡ˆ</strong>ã€‚</p>
<p>å®ƒçš„æ ¹æœ¬åŸå› æ˜¯ï¼š</p>
<ul>
<li>è¯­è¨€å»ºæ¨¡ç›®æ ‡ä¸äº‹å®ç›®æ ‡ä¸ä¸€è‡´ï¼›</li>
<li>å‘é‡ç©ºé—´çŸ¥è¯†æ··å ï¼›</li>
<li>æ¨ç†é‡‡æ ·å¸¦æ¥éšæœºåå·®ã€‚</li>
</ul>
<p>è§£å†³çš„æ ¸å¿ƒæ€æƒ³åˆ™æ˜¯â€œè®©æ¨¡å‹æœ‰ä¾æ®åœ°è¯´è¯â€ï¼Œä»<strong>æ¦‚ç‡ç”Ÿæˆ</strong>èµ°å‘<strong>äº‹å®å¯¹é½ï¼ˆfaithful generationï¼‰</strong>ã€‚</p>
<p>å…³äºæ·±åº¦å­¦ä¹ å’Œå¤§æ¨¡å‹ç›¸å…³çš„çŸ¥è¯†å’Œå‰æ²¿æŠ€æœ¯æ›´æ–°ï¼Œè¯·å…³æ³¨å…¬ä¼—å· <strong>coting</strong>ï¼</p>
<p><strong>ğŸ“šæ¨èé˜…è¯»</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1962254381677257759" target="_blank" title="https://zhuanlan.zhihu.com/p/1962254381677257759" ref="nofollow noopener noreferrer">é¢è¯•å®˜ï¼šTransformerå¦‚ä½•ä¼˜åŒ–åˆ°çº¿æ€§çº§ï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1962929340292502638" target="_blank" title="https://zhuanlan.zhihu.com/p/1962929340292502638" ref="nofollow noopener noreferrer">é¢è¯•å®˜ï¼šæ¨¡å‹çš„é‡åŒ–äº†è§£å—ï¼Ÿè§£é‡Šä¸€ä¸‹éå¯¹ç§°é‡åŒ–ä¸å¯¹ç§°é‡åŒ–</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1962947114230346375" target="_blank" title="https://zhuanlan.zhihu.com/p/1962947114230346375" ref="nofollow noopener noreferrer">é¢è¯•å®˜ï¼šæ¨¡å‹å‰ªæäº†è§£å—ï¼Ÿè§£é‡Šä¸€ä¸‹ç»“æ„åŒ–å‰ªæä¸éç»“æ„åŒ–å‰ªæ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1963373485435917372" target="_blank" title="https://zhuanlan.zhihu.com/p/1963373485435917372" ref="nofollow noopener noreferrer">é¢è¯•å®˜ï¼šä¸ºä»€ä¹ˆ Adam åœ¨éƒ¨åˆ†ä»»åŠ¡ä¸Šä¼šæ¯” SGD æ”¶æ•›æ›´å¿«ï¼Œä½†æ³›åŒ–æ€§æ›´å·®ï¼Ÿå¦‚ä½•æ”¹è¿›ï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1963547933044631464" target="_blank" title="https://zhuanlan.zhihu.com/p/1963547933044631464" ref="nofollow noopener noreferrer">é¢è¯•å®˜ï¼šBatchNormã€LayerNormã€GroupNormã€InstanceNorm æœ‰ä»€ä¹ˆæœ¬è´¨åŒºåˆ«ï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1964062982347687219" target="_blank" title="https://zhuanlan.zhihu.com/p/1964062982347687219" ref="nofollow noopener noreferrer">é¢è¯•å®˜ï¼šæ·±å±‚ç½‘ç»œæ¢¯åº¦æ¶ˆå¤±çš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆï¼Ÿé™¤äº† ResNetï¼Œè¿˜æœ‰å“ªäº›æ¶æ„èƒ½æœ‰æ•ˆç¼“è§£ï¼Ÿ</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI Coding å…¥é—¨æ•™ç¨‹ç³»åˆ—ï¼šä¸€ã€åŸºç¡€å·¥å…·è®¤çŸ¥]]></title>    <link>https://juejin.cn/post/7579811819667259444</link>    <guid>https://juejin.cn/post/7579811819667259444</guid>    <pubDate>2025-12-04T14:03:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579811819667259444" data-draft-id="7579808521204236322" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI Coding å…¥é—¨æ•™ç¨‹ç³»åˆ—ï¼šä¸€ã€åŸºç¡€å·¥å…·è®¤çŸ¥"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-04T14:03:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº”å·å‚æˆ¿"/> <meta itemprop="url" content="https://juejin.cn/user/1731066903142492"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI Coding å…¥é—¨æ•™ç¨‹ç³»åˆ—ï¼šä¸€ã€åŸºç¡€å·¥å…·è®¤çŸ¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1731066903142492/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº”å·å‚æˆ¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T14:03:56.000Z" title="Thu Dec 04 2025 14:03:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>æ•™ç¨‹è¯´æ˜</strong>â€‹</h2>
<p>æœ¬ç³»åˆ—æ•™ç¨‹ä»¥<strong>Traeï¼ˆå­—èŠ‚è·³åŠ¨AIåŸç”ŸIDEï¼‰</strong> ä¸ºæ ¸å¿ƒå·¥å…·ï¼Œé¢å‘<strong>ç¼–ç¨‹é›¶åŸºç¡€/åˆçº§å­¦ä¹ è€…</strong>ï¼Œé€šè¿‡ <strong>â€œå·¥å…·è®¤çŸ¥â†’åŸºç¡€æ“ä½œâ†’å®æˆ˜é¡¹ç›®â€</strong> çš„é˜¶æ¢¯å¼è®¾è®¡ï¼Œå¸®åŠ©å­¦ä¹ è€…åœ¨1-2å‘¨å†…æŒæ¡â€œç”¨AIè¾…åŠ©ç¼–ç¨‹â€çš„æ ¸å¿ƒæŠ€èƒ½ã€‚æ•™ç¨‹æ³¨é‡<strong>å®è·µå¯¼å‘</strong>ï¼Œæ¯ç¯‡å‡åŒ…å«â€œæ“ä½œæ­¥éª¤+æ¡ˆä¾‹æ¼”ç¤º+é¿å‘æŒ‡å—â€ï¼Œç¡®ä¿å­¦ä¹ è€…èƒ½å¿«é€Ÿä¸Šæ‰‹å¹¶å®Œæˆå¯è¿è¡Œçš„é¡¹ç›®ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€Traeå·¥å…·åŸºç¡€è®¤çŸ¥</h2>
<p><strong>ç›®æ ‡</strong>ï¼šç†è§£Traeçš„å®šä½ä¸æ ¸å¿ƒä»·å€¼ï¼Œå®Œæˆå®‰è£…é…ç½®ï¼Œç†Ÿæ‚‰ç•Œé¢å¸ƒå±€ã€‚</p>
<h3 data-id="heading-2"><strong>1.1 ä»€ä¹ˆæ˜¯Traeï¼Ÿâ€”â€”AIç¼–ç¨‹çš„â€œè¶…çº§åŠ©æ‰‹â€</strong> â€‹</h3>
<p>Traeæ˜¯å­—èŠ‚è·³åŠ¨2025å¹´æ¨å‡ºçš„<strong>AIåŸç”Ÿé›†æˆå¼€å‘ç¯å¢ƒï¼ˆAI IDEï¼‰</strong> ï¼Œå®šä½ä¸ºâ€œç¼–ç¨‹è€…çš„æ™ºèƒ½åä½œä¼™ä¼´â€ã€‚å®ƒå°†ä¼ ç»Ÿç¼–ç¨‹è½¯ä»¶ï¼ˆå¦‚VS Codeï¼‰ä¸AIåŠ©æ‰‹æ·±åº¦èåˆï¼Œæ ¸å¿ƒä»·å€¼åœ¨äºï¼š</p>
<ul>
<li><strong>é™ä½é—¨æ§›</strong>ï¼šé€šè¿‡è‡ªç„¶è¯­è¨€å¯¹è¯ç”Ÿæˆä»£ç ï¼Œæ— éœ€è®°å¿†å¤æ‚è¯­æ³•ï¼›</li>
<li><strong>æå‡æ•ˆç‡</strong>ï¼šè‡ªåŠ¨è¡¥å…¨ä»£ç ã€ä¿®å¤Bugã€ä¼˜åŒ–é€»è¾‘ï¼Œå‡å°‘é‡å¤åŠ³åŠ¨ï¼›</li>
<li><strong>ä¸­æ–‡å‹å¥½</strong>ï¼šå®Œæ•´æ”¯æŒç®€ä½“ä¸­æ–‡ç•Œé¢ã€ä¸­æ–‡æ³¨é‡Šè§£æä¸æœ¬åœ°åŒ–äº‘æœåŠ¡ã€‚</li>
</ul>
<p><strong>ä¸€å¥è¯æ€»ç»“</strong>ï¼šTrae = ç¼–ç¨‹è½¯ä»¶ + è¶…çº§AIåŠ©æ‰‹ï¼Œè®©ä½ åœ¨ä¸€ä¸ªå·¥å…·é‡Œå®Œæˆâ€œå†™ä»£ç â†’è°ƒä»£ç â†’è¿è¡Œä»£ç â€çš„å…¨æµç¨‹ã€‚</p>
<h3 data-id="heading-3"><strong>1.2 å®‰è£…ä¸é…ç½®ï¼š3æ­¥æå®šï¼Œæ–°æ‰‹æ— å‹åŠ›</strong>â€‹</h3>
<p>æ­¥éª¤1ï¼šä¸‹è½½å®‰è£…åŒ…</p>
<p>è®¿é—®Traeå®˜ç½‘<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.trae.cn%2F%25E3%2580%2582" target="_blank" title="https://www.trae.cn/%E3%80%82" ref="nofollow noopener noreferrer">www.trae.cn/ã€‚</a>
ç‚¹å‡»â€œä¸‹è½½IDEâ€ï¼Œå®˜ç½‘ä¼šè‡ªåŠ¨æ£€æµ‹ä½ çš„æ“ä½œç³»ç»Ÿï¼ˆæ”¯æŒWindowsã€Macã€Linuxï¼‰ï¼Œæä¾›å¯¹åº”å®‰è£…åŒ…ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c2598da43e9442a7b868ce48bfb50a50~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LqU5Y-35Y6C5oi_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765461836&amp;x-signature=Ty0ghSXR9wPPEX5Qy74nCAg5X%2Fo%3D" alt="image.png" loading="lazy"/></p>
<p>æ­¥éª¤2ï¼šå®‰è£…ä¸åˆå§‹è®¾ç½®</p>
<ul>
<li>åŒå‡»å®‰è£…åŒ…ï¼ŒæŒ‰å‘å¯¼æç¤ºå®Œæˆå®‰è£…ï¼ˆé»˜è®¤è·¯å¾„å³å¯ï¼Œæ— éœ€ä¿®æ”¹ï¼‰ï¼›</li>
<li>é¦–æ¬¡å¯åŠ¨æ—¶ï¼Œé€‰æ‹©<strong>ç®€ä½“ä¸­æ–‡</strong>ä½œä¸ºæ˜¾ç¤ºè¯­è¨€ï¼Œä¸»é¢˜é€‰â€œæš—è‰²â€æˆ–â€œäº®è‰²â€ï¼ˆæ ¹æ®ä¸ªäººä¹ æƒ¯ï¼‰ï¼›</li>
<li>è·³è¿‡â€œä»VS Codeå¯¼å…¥é…ç½®â€ï¼ˆæ–°æ‰‹æ— éœ€æŠ˜è…¾ï¼‰ï¼Œç›´æ¥è¿›å…¥ä¸‹ä¸€æ­¥ã€‚</li>
</ul>
<p>æ­¥éª¤3ï¼šç™»å½•ä¸æ¿€æ´»AIæœåŠ¡</p>
<p>ä½¿ç”¨æ‰‹æœºå·æˆ–ç¨€åœŸæ˜é‡‘è´¦å·ç™»å½•ï¼Œå®Œæˆç™»å½•åå³å¯ä½¿ç”¨Traeçš„AIåŠŸèƒ½ï¼ˆå¦‚ä»£ç ç”Ÿæˆã€æ™ºèƒ½é—®ç­”ï¼‰ã€‚</p>
<h3 data-id="heading-4"><strong>1.3 ç•Œé¢å¸ƒå±€ï¼šè®¤è¯†ä½ çš„â€œAIç¼–ç¨‹å·¥ä½œå°â€</strong> â€‹</h3>
<p>Traeçš„ç•Œé¢è®¾è®¡éµå¾ªâ€œæç®€ä¸»ä¹‰â€ï¼Œæ ¸å¿ƒåŒºåŸŸåˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š</p>
<ul>
<li><strong>å·¦ä¾§ï¼šæ–‡ä»¶èµ„æºç®¡ç†å™¨</strong>ï¼šæ˜¾ç¤ºé¡¹ç›®æ–‡ä»¶å¤¹ç»“æ„ï¼Œå¯å³é”®åˆ›å»º/åˆ é™¤æ–‡ä»¶ï¼›</li>
<li><strong>ä¸­é—´ï¼šä»£ç ç¼–è¾‘åŒº</strong>ï¼šç¼–å†™ä»£ç çš„ä¸»åŒºåŸŸï¼Œæ”¯æŒè¯­æ³•é«˜äº®ã€è‡ªåŠ¨ç¼©è¿›ï¼›</li>
<li><strong>å³ä¾§ï¼šAIåŠ©æ‰‹é¢æ¿</strong>ï¼šä¸AIå¯¹è¯çš„æ ¸å¿ƒåŒºåŸŸï¼Œå¯è¾“å…¥éœ€æ±‚ã€æŸ¥çœ‹ç”Ÿæˆçš„ä»£ç ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c342424810134f44957512b006952ee8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LqU5Y-35Y6C5oi_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765461836&amp;x-signature=r4b4wX43eYx7mMYfXskiJ9NUPOg%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ–°æ‰‹æç¤º</strong>ï¼šé¦–æ¬¡æ‰“å¼€Traeæ—¶ï¼Œå¯ç‚¹å‡»â€œæ–°å»ºé¡¹ç›®â€ åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ï¼ˆå¦‚â€œmy-first-ai-projectâ€ï¼‰ï¼Œä½œä¸ºä½ çš„ç¬¬ä¸€ä¸ªç»ƒä¹ é¡¹ç›®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/86576ec19c6948e49d4c3b9f75885ba2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LqU5Y-35Y6C5oi_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765461836&amp;x-signature=jhw46dyp4C7u6quJeIu9TZ6CGng%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React 18å¹¶å‘æ¸²æŸ“å®æˆ˜ï¼šè¿™5ä¸ªæ€§èƒ½é™·é˜±è®©æˆ‘æµªè´¹äº†æ•´æ•´ä¸€å‘¨ï¼]]></title>    <link>https://juejin.cn/post/7579813945601458216</link>    <guid>https://juejin.cn/post/7579813945601458216</guid>    <pubDate>2025-12-05T00:16:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579813945601458216" data-draft-id="7579811819667603508" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React 18å¹¶å‘æ¸²æŸ“å®æˆ˜ï¼šè¿™5ä¸ªæ€§èƒ½é™·é˜±è®©æˆ‘æµªè´¹äº†æ•´æ•´ä¸€å‘¨ï¼"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-05T00:16:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React 18å¹¶å‘æ¸²æŸ“å®æˆ˜ï¼šè¿™5ä¸ªæ€§èƒ½é™·é˜±è®©æˆ‘æµªè´¹äº†æ•´æ•´ä¸€å‘¨ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T00:16:52.000Z" title="Fri Dec 05 2025 00:16:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>React 18å¹¶å‘æ¸²æŸ“å®æˆ˜ï¼šè¿™5ä¸ªæ€§èƒ½é™·é˜±è®©æˆ‘æµªè´¹äº†æ•´æ•´ä¸€å‘¨ï¼</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>React 18çš„å¹¶å‘æ¸²æŸ“ï¼ˆConcurrent Renderingï¼‰æ˜¯è¿‘å¹´æ¥Reactç”Ÿæ€ä¸­æœ€å¼•äººæ³¨ç›®çš„ç‰¹æ€§ä¹‹ä¸€ã€‚å®ƒé€šè¿‡å¼•å…¥å¯ä¸­æ–­çš„æ¸²æŸ“æœºåˆ¶ã€è‡ªåŠ¨æ‰¹å¤„ç†ï¼ˆAutomatic Batchingï¼‰å’Œè¿‡æ¸¡æ›´æ–°ï¼ˆTransitionsï¼‰ç­‰èƒ½åŠ›ï¼Œæ˜¾è‘—æå‡äº†åº”ç”¨çš„å“åº”æ€§å’Œç”¨æˆ·ä½“éªŒã€‚ç„¶è€Œï¼Œåœ¨å®é™…é¡¹ç›®ä¸­ï¼Œè¿™äº›æ–°ç‰¹æ€§ä¹Ÿå¸¦æ¥äº†ä¸å°‘éšè—çš„æ€§èƒ½é™·é˜±ã€‚</p>
<p>åœ¨æœ€è¿‘çš„ä¸€ä¸ªé«˜æ€§èƒ½ä»ªè¡¨ç›˜é¡¹ç›®ä¸­ï¼Œæˆ‘èŠ±äº†æ•´æ•´ä¸€å‘¨æ—¶é—´æ’æŸ¥å’Œä¼˜åŒ–å› å¹¶å‘æ¸²æŸ“å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ã€‚æœ¬æ–‡å°†åˆ†äº«æˆ‘åœ¨å®æˆ˜ä¸­é‡åˆ°çš„5ä¸ªå…³é”®æ€§èƒ½é™·é˜±ï¼Œä»¥åŠå¦‚ä½•é¿å…å®ƒä»¬ã€‚å¦‚æœä½ æ­£åœ¨æˆ–è®¡åˆ’å‡çº§åˆ°React 18ï¼Œè¿™äº›ç»éªŒå¯èƒ½ä¼šä¸ºä½ èŠ‚çœå¤§é‡æ—¶é—´ï¼</p>
<hr/>
<h2 data-id="heading-2">ä¸»ä½“</h2>
<h3 data-id="heading-3">1. <strong>æ»¥ç”¨<code>startTransition</code>å¯¼è‡´çš„æ¸²æŸ“é£æš´</strong></h3>
<p>React 18å¼•å…¥äº†<code>startTransition</code>APIï¼Œç”¨äºå°†éç´§æ€¥æ›´æ–°æ ‡è®°ä¸ºâ€œè¿‡æ¸¡â€ï¼Œä»è€Œé¿å…é˜»å¡ç”¨æˆ·äº¤äº’ã€‚ç„¶è€Œï¼Œè¿‡åº¦ä½¿ç”¨<code>startTransition</code>å¯èƒ½å¯¼è‡´æ„å¤–çš„æ€§èƒ½é—®é¢˜ã€‚</p>
<h4 data-id="heading-4">é—®é¢˜å¤ç°</h4>
<p>åœ¨æˆ‘çš„é¡¹ç›®ä¸­ï¼Œä¸€ä¸ªå®æ—¶æ•°æ®å±•ç¤ºç»„ä»¶æ¯ç§’é’Ÿä¼šæ¥æ”¶å¤šæ¬¡æ•°æ®æ›´æ–°ã€‚ä¸ºäº†â€œä¼˜åŒ–â€æ€§èƒ½ï¼Œæˆ‘å°†æ‰€æœ‰æ•°æ®æ›´æ–°éƒ½åŒ…è£¹åœ¨<code>startTransition</code>ä¸­ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">handleDataUpdate</span>(<span class="hljs-params">newData</span>) {
  <span class="hljs-title function_">startTransition</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">setData</span>(newData);
  });
}
</code></pre>
<p>ç»“æœå‘ç°ï¼Œç»„ä»¶çš„æ¸²æŸ“é¢‘ç‡åè€Œæ›´é«˜äº†ï¼ç”±äºè¿‡æ¸¡æ›´æ–°æ˜¯å¯ä¸­æ–­çš„ï¼ŒReactå¯èƒ½ä¼šå¤šæ¬¡å°è¯•æ¸²æŸ“åŒä¸€æ‰¹æ•°æ®ï¼Œå¯¼è‡´ä¸å¿…è¦çš„è®¡ç®—å’Œé‡ç»˜ã€‚</p>
<h4 data-id="heading-5">è§£å†³æ–¹æ¡ˆ</h4>
<ul>
<li><strong>é€‰æ‹©æ€§ä½¿ç”¨è¿‡æ¸¡</strong>ï¼šä»…å¯¹çœŸæ­£éç´§æ€¥çš„æ›´æ–°ï¼ˆå¦‚ç”¨æˆ·è¾“å…¥æ—¶çš„æœç´¢ç»“æœï¼‰ä½¿ç”¨<code>startTransition</code>ã€‚</li>
<li><strong>ç»“åˆé˜²æŠ–/èŠ‚æµ</strong>ï¼šé«˜é¢‘æ•°æ®æ›´æ–°åº”å…ˆé€šè¿‡é˜²æŠ–æˆ–èŠ‚æµæ§åˆ¶é¢‘ç‡ï¼Œå†è§¦å‘çŠ¶æ€å˜æ›´ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-6">2. <strong>è‡ªåŠ¨æ‰¹å¤„ç†çš„å‰¯ä½œç”¨æœªè¢«æ­£ç¡®å¤„ç†</strong></h3>
<p>React 18é»˜è®¤å¯ç”¨äº†è‡ªåŠ¨æ‰¹å¤„ç†ï¼ˆAutomatic Batchingï¼‰ï¼Œå³åœ¨äº‹ä»¶å¤„ç†å™¨ã€Promiseç­‰ä¸Šä¸‹æ–‡ä¸­å°†å¤šä¸ªçŠ¶æ€æ›´æ–°åˆå¹¶ä¸ºå•ä¸€æ¸²æŸ“ã€‚è¿™ä¸€ç‰¹æ€§è™½ç„¶å‡å°‘äº†ä¸å¿…è¦çš„æ¸²æŸ“æ¬¡æ•°ï¼Œä½†ä¹Ÿå¯èƒ½æ©ç›–å‰¯ä½œç”¨çš„é—®é¢˜ã€‚</p>
<h4 data-id="heading-7">é—®é¢˜å¤ç°</h4>
<p>ä»¥ä¸‹ä»£ç åœ¨React 17ä¸­ä¼šè§¦å‘ä¸¤æ¬¡æ¸²æŸ“ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
<span class="hljs-keyword">const</span> [flag, setFlag] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"/>) {
  <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> c + <span class="hljs-number">1</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(count); <span class="hljs-comment">// Logsæ—§å€¼</span>
  <span class="hljs-title function_">setFlag</span>(<span class="hljs-function"><span class="hljs-params">f</span> =&gt;</span> !f);
}
</code></pre>
<p>ä½†åœ¨React 18ä¸­åªä¼šè§¦å‘ä¸€æ¬¡æ¸²æŸ“ã€‚å¦‚æœå¼€å‘è€…ä¾èµ–ä¸­é—´çŠ¶æ€ï¼ˆå¦‚<code>console.log(count)</code>ï¼‰ï¼Œå¯èƒ½ä¼šå¾—åˆ°ä¸ç¬¦åˆé¢„æœŸçš„ç»“æœã€‚</p>
<h4 data-id="heading-8">è§£å†³æ–¹æ¡ˆ</h4>
<ul>
<li><strong>æ˜¾å¼æ‹†åˆ†æ‰¹å¤„ç†</strong>ï¼šä½¿ç”¨<code>flushSync</code>å¼ºåˆ¶ç«‹å³æ‰§è¡Œéƒ¨åˆ†æ›´æ–°ï¼š</li>
</ul>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { flushSync } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom'</span>;

<span class="hljs-title function_">flushSync</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> c + <span class="hljs-number">1</span>);
});
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(count); <span class="hljs-comment">// Now logsæ–°å€¼</span>
</code></pre>
<ul>
<li><strong>é¿å…ä¾èµ–ä¸­é—´çŠ¶æ€</strong>ï¼šé‡æ„é€»è¾‘ä»¥ç¡®ä¿ä¸ä¾èµ–æ‰¹å¤„ç†ä¸­çš„ä¸­é—´å€¼ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-9">3. <strong>Suspenseä¸æ‡’åŠ è½½ç»„ä»¶çš„é‡å¤æŒ‚è½½é—®é¢˜</strong></h3>
<p>å¹¶å‘æ¸²æŸ“ä¸‹ï¼ŒSuspenseçš„è¡Œä¸ºæ›´åŠ åŠ¨æ€ï¼šå½“å­ç»„ä»¶æœªå‡†å¤‡å¥½æ—¶ï¼ŒReactä¼šå…ˆæ˜¾ç¤ºfallback UIï¼›ä¸€æ—¦èµ„æºåŠ è½½å®Œæˆï¼Œå†â€œæ— ç¼â€æ›¿æ¢å†…å®¹ã€‚ç„¶è€Œåœ¨å®é™…åœºæ™¯ä¸­ï¼Œâ€œæ— ç¼â€å¯èƒ½å˜æˆâ€œåå¤æ¨ªè·³â€ã€‚</p>
<h4 data-id="heading-10">é—®é¢˜å¤ç°</h4>
<p>ä»¥ä¸‹ä»£ç åœ¨ä½¿ç”¨åŠ¨æ€å¯¼å…¥æ—¶å¯èƒ½å‡ºç°é—ªçƒï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx">&lt;<span class="hljs-title class_">Suspense</span> fallback={<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Loader</span> /&gt;</span></span>}&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">LazyComponent</span> /&gt;</span></span>
&lt;/<span class="hljs-title class_">Suspense</span>&gt;
</code></pre>
<p>å¦‚æœç½‘ç»œä¸ç¨³å®šæˆ–èµ„æºè¾ƒå¤§ï¼Œç»„ä»¶å¯èƒ½åœ¨åŠ è½½å®Œæˆå‰è¢«å¤šæ¬¡æŒ‚è½½å’Œå¸è½½ï¼ˆå°¤å…¶æ˜¯åœ¨å¿«é€Ÿå¯¼èˆªçš„åœºæ™¯ï¼‰ã€‚è¿™ä¸ä»…å½±å“ç”¨æˆ·ä½“éªŒè¿˜ä¼šå¢åŠ å†…å­˜å¼€é”€ï¼</p>
<p>####Â è§£å†³æ–¹æ¡ˆÂ Â 
-Â <strong>é¢„åŠ è½½å…³é”®èµ„æº</strong>:Â Â é€šè¿‡æå‰åŠ è½½ç»„ä»¶å‡å°‘Suspenseåˆ‡æ¢é¢‘ç‡:Â Â </p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">const</span>Â <span class="hljs-title class_">LazyComponent</span>Â =Â <span class="hljs-title function_">lazy</span>(<span class="hljs-function">()Â =&gt;</span>Â <span class="hljs-keyword">import</span>(<span class="hljs-string">'./LazyComponent'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">module</span>Â =&gt;</span>Â {Â 
Â Â <span class="hljs-comment">//Â é¢„åŠ è½½é€»è¾‘Â Â </span>
Â Â <span class="hljs-title function_">preloadDependencies</span>();Â 
Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-variable language_">module</span>;Â 
}));Â 
<span class="hljs-string">``</span><span class="hljs-string">`Â Â 
- **åˆå¹¶Suspenseè¾¹ç•Œ**:Â Â å‡å°‘åµŒå¥—å±‚çº§ä»¥é¿å…é¢‘ç¹åˆ‡æ¢ã€‚

---

###4.**useDeferredValueä¸è¾“å…¥å»¶è¿Ÿå¯¼è‡´çš„é™ˆæ—§çŠ¶æ€**

useDeferredValueå…è®¸æˆ‘ä»¬å»¶è¿Ÿæ´¾ç”ŸçŠ¶æ€çš„æ›´æ–°ä»¥ä¼˜å…ˆå¤„ç†ç”¨æˆ·è¾“å…¥â€”â€”å¬èµ·æ¥å¾ˆç¾å¥½ï¼Ÿä½†å¦‚æœå¤„ç†ä¸å½“ä¹Ÿå¯èƒ½å¼•å‘bugï¼

####é—®é¢˜å¤ç°

å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæœç´¢æ¡†+ç»“æœåˆ—è¡¨:

</span></code></pre>
<p>const[query,setQuery]=useState('');
const deferredQuery=useDeferredValue(query);</p>

```
<p>å½“ç”¨æˆ·å¿«é€Ÿè¾“å…¥"hello"æ—¶ï¼š
1.queryä¼šç«‹å³å˜ä¸º"h"-&gt;"he"-&gt;..."hello"
2.deferredQueryå¯èƒ½ä»åœç•™åœ¨è¾ƒæ—§å€¼å¦‚"hel"</p>
<p>æ­¤æ—¶è‹¥SearchResultså†…éƒ¨æœ‰ä¾èµ–äºqueryçš„å‰¯ä½œç”¨(å¦‚APIè°ƒç”¨)ï¼Œå°±å¯èƒ½åŸºäºé™ˆæ—§æ•°æ®æ‰§è¡Œ!</p>
<p>####è§£å†³æ–¹æ¡ˆ</p>
<p>-<strong>é…åˆtransitionsä½¿ç”¨</strong>:Â </p>
<pre><code class="hljs language-scss" lang="scss">const<span class="hljs-selector-attr">[query,setQuery]</span>=<span class="hljs-built_in">useState</span>('');
const deferredQuery=<span class="hljs-built_in">useDeferredValue</span>(query);

<span class="hljs-comment">//åªæœ‰æœ€ç»ˆå€¼ä¼šè§¦å‘é«˜å¼€é”€æ“ä½œ</span>
<span class="hljs-built_in">startTransition</span>(()=&gt;{
 Â  <span class="hljs-built_in">runExpensiveOperation</span>(deferredQuery);
});
</code></pre>
<p>-<strong>æ·»åŠ å–æ¶ˆæœºåˆ¶</strong>:ä¸­æ­¢ä»åœ¨è¿›è¡Œä¸­çš„é™ˆæ—§è¯·æ±‚ã€‚</p>
<hr/>
<p>###5.<strong>å¹¶å‘æ¨¡å¼ä¸‹ç¬¬ä¸‰æ–¹åº“çš„ç”Ÿå‘½å‘¨æœŸå†²çª</strong></p>
<p>è®¸å¤šæµè¡Œåº“(å¦‚D3.jsã€Three.js)ç›´æ¥æ“ä½œDOMå¹¶å‡è®¾å¯¹ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæœ‰å®Œå…¨æ§åˆ¶â€”â€”è¿™ä¸å¹¶å‘æ¨¡å¼çš„å¯ä¸­æ–­ç‰¹æ€§ç›¸å†²çª!</p>
<p>####é—®é¢˜å¤ç°</p>
<p>åœ¨ä»ªè¡¨ç›˜é¡¹ç›®ä¸­æˆ‘ä½¿ç”¨äº†D3ç»˜åˆ¶å›¾è¡¨:</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">useEffect</span>(()=&gt;{
 Â  const chart=d3<span class="hljs-selector-class">.select</span>(ref.current)
 Â  Â  <span class="hljs-selector-class">.append</span>('svg')<span class="hljs-comment">//ç›´æ¥æ“ä½œDOM...</span>
},<span class="hljs-selector-attr">[]</span>);
</code></pre>
<p>ä½†åœ¨ä¸¥æ ¼æ¨¡å¼+å¹¶å‘æ¸²æŸ“ä¸‹:
1.Reactå¯èƒ½åœ¨æäº¤é˜¶æ®µå‰å¤šæ¬¡è°ƒç”¨effect
2.D3ä¼šé‡å¤åˆ›å»ºSVGå…ƒç´ å¯¼è‡´å†…å­˜æ³„æ¼!</p>
<p>####è§£å†³æ–¹æ¡ˆ</p>
<p>-<strong>ç¦ç”¨ä¸¥æ ¼æ¨¡å¼</strong>(ä¸æ¨è)
-<strong>å°è£…å‘½ä»¤å¼åº“</strong>:é€šè¿‡ref+cleanupç¡®ä¿å®‰å…¨:</p>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">useD3Chart</span>(){
 const ref=<span class="hljs-built_in">useRef</span>();

 <span class="hljs-built_in">useEffect</span>(()=&gt;{
 Â  const chart=<span class="hljs-built_in">createChart</span>(ref.current);<span class="hljs-comment">//å°è£…åˆ›å»ºé€»è¾‘</span>
 Â  <span class="hljs-built_in">return</span>()=&gt;chart<span class="hljs-selector-class">.destroy</span>();<span class="hljs-comment">//å¿…é¡»æ¸…ç†!</span>
 },<span class="hljs-selector-attr">[]</span>);

 return ref;
}
</code></pre>
<hr/>
<p>##æ€»ç»“</p>
<p>React18çš„å¹¶å‘ç‰¹æ€§å¼€å¯äº†å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„æ–°æ—¶ä»£â€”â€”ä½†ä»»ä½•å¼ºå¤§å·¥å…·éƒ½éœ€è¦æ­£ç¡®ä½¿ç”¨æ‰èƒ½å‘æŒ¥ä»·å€¼!æœ¬æ–‡åˆ†äº«çš„è¿™äº›é™·é˜±åŒ…æ‹¬:</p>
<p>1.startTransitionæ»¥ç”¨å¼•å‘çš„å†—ä½™è®¡ç®—Â 
2.è‡ªåŠ¨æ‰¹å¤„ç†æ©ç›–çš„å‰¯ä½œç”¨ä¾èµ–Â 
3.Suspenseè¾¹ç•Œç®¡ç†ä¸å–„å¯¼è‡´çš„é—ªå±Â 
4.useDeferredValueä¸é™ˆæ—§çŠ¶æ€çš„çŸ›ç›¾Â 
5.ç¬¬ä¸‰æ–¹åº“ä¸å¹¶å‘ç”Ÿå‘½å‘¨æœŸçš„å†²çªÂ </p>
<p>è§£å†³è¿™äº›é—®é¢˜éœ€è¦:
âœ”ï¸æ·±å…¥ç†è§£å¹¶å‘åŸç†è€Œéç®€å•å¥—ç”¨APIÂ 
âœ”ï¸ä¸¥è°¨æµ‹è¯•å„ç§è¾¹ç•Œæ¡ä»¶(ç‰¹åˆ«æ˜¯å¿«é€Ÿäº¤äº’åœºæ™¯)Â 
âœ”ï¸å¿…è¦æ—¶å›é€€åˆ°åŒæ­¥ç­–ç•¥ä¿è¯ç¨³å®šæ€§Â </p>
<p>å¸Œæœ›è¿™ç¯‡å®æˆ˜æ€»ç»“èƒ½å¸®åŠ©ä½ å°‘èµ°å¼¯è·¯!å¦‚æœä½ é‡åˆ°è¿‡å…¶ä»–æœ‰è¶£çš„å¹¶å‘é™·é˜±æ¬¢è¿ç•™è¨€è®¨è®º~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯é¢è¯•é¢˜-JavaScripté«˜çº§ç¯‡]]></title>    <link>https://juejin.cn/post/7579813925996970025</link>    <guid>https://juejin.cn/post/7579813925996970025</guid>    <pubDate>2025-12-05T00:16:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579813925996970025" data-draft-id="7578820431018311695" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯é¢è¯•é¢˜-JavaScripté«˜çº§ç¯‡"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-05T00:16:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="EB_Coder"/> <meta itemprop="url" content="https://juejin.cn/user/3228641967213214"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯é¢è¯•é¢˜-JavaScripté«˜çº§ç¯‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3228641967213214/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    EB_Coder
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T00:16:46.000Z" title="Fri Dec 05 2025 00:16:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä»¥ä¸‹ä¸ºJavaScripté«˜çº§ç¯‡é¢è¯•è€ƒå¯Ÿç‚¹æ€»ç»“ï¼Œå…·ä½“çŸ¥è¯†ç‚¹ä¸ä¼šå¤ªè¯¦ç»†ï¼Œä¸»è¦æ¢³ç†é¢è¯•æ ¸å¿ƒè€ƒå¯Ÿç‚¹ï¼Œä¸ºé¢è¯•åšå‡†å¤‡ã€‚é«˜çº§JavaScriptå·¥ç¨‹å¸ˆçš„é¢è¯•ä¸å†å±€é™äºAPIçš„ä½¿ç”¨æˆ–å­¤ç«‹çš„çŸ¥è¯†ç‚¹ï¼Œè€Œæ˜¯èšç„¦äºå¯¹è¯­è¨€ã€å¼•æ“ã€ç”Ÿæ€ä»¥åŠè½¯ä»¶å·¥ç¨‹æ€æƒ³çš„ç»¼åˆç†è§£ä¸æŒæ§èƒ½åŠ›ã€‚</p>
</blockquote>
<ul>
<li><a href="https://juejin.cn/post/7578705123209625643" target="_blank" title="https://juejin.cn/post/7578705123209625643">2025å‰ç«¯é¢è¯•é¢˜-JSåŸºç¡€ç¯‡</a></li>
<li><a href="https://juejin.cn/post/7579154364959342611" target="_blank" title="https://juejin.cn/post/7579154364959342611">2025å‰ç«¯é¢è¯•é¢˜-JSä¸­çº§ç¯‡</a></li>
<li><a href="https://juejin.cn/spost/7530179511728930856" target="_blank" title="https://juejin.cn/spost/7530179511728930856">2025å‰ç«¯é¢è¯•é¢˜-TSç†è®ºç¯‡</a></li>
<li><a href="https://juejin.cn/post/7533826195352829988" target="_blank" title="https://juejin.cn/post/7533826195352829988">2025å‰ç«¯é¢è¯•é¢˜-TSå®æˆ˜ç¯‡</a></li>
<li><a href="https://juejin.cn/post/7503111373468893193" target="_blank" title="https://juejin.cn/post/7503111373468893193">2025å‰ç«¯é¢è¯•é¢˜-Vue3åŸºç¡€ç¯‡</a></li>
<li><a href="https://juejin.cn/post/7511568225987051555" target="_blank" title="https://juejin.cn/post/7511568225987051555">2025å‰ç«¯é¢è¯•é¢˜-Vue3è¿›é˜¶ç¯‡</a></li>
<li><a href="https://juejin.cn/post/7503811658198286388" target="_blank" title="https://juejin.cn/post/7503811658198286388">2025å‰ç«¯é¢è¯•é¢˜-ReactåŸºç¡€ç¯‡</a></li>
<li><a href="https://juejin.cn/post/7504545616841965583" target="_blank" title="https://juejin.cn/post/7504545616841965583">2025å‰ç«¯é¢è¯•é¢˜-Reactè¿›é˜¶ç¯‡</a></li>
<li><a href="https://juejin.cn/post/7504926961627054099" target="_blank" title="https://juejin.cn/post/7504926961627054099">2025å‰ç«¯é¢è¯•é¢˜-Reacté«˜é˜¶ç¯‡</a></li>
</ul>
<h2 data-id="heading-0">ä¸€ã€ V8å¼•æ“å·¥ä½œåŸç†ä¸åƒåœ¾å›æ”¶ (GC)</h2>
<p>ç†è§£JavaScriptçš„æ‰§è¡Œç¯å¢ƒæ˜¯é«˜çº§ä¼˜åŒ–çš„å‰æã€‚</p>
<h3 data-id="heading-1"><strong>V8å¼•æ“æ ¸å¿ƒæµç¨‹</strong></h3>
<ol>
<li>
<p><strong>è§£æ (Parsing)</strong> : V8å°†JavaScriptæºä»£ç è§£ææˆ<strong>æŠ½è±¡è¯­æ³•æ ‘ (AST)</strong> ã€‚</p>
</li>
<li>
<p><strong>è§£é‡Š (Interpretation)</strong> : <strong>Ignition</strong> (V8çš„è§£é‡Šå™¨) å°†ASTè½¬æ¢æˆå­—èŠ‚ç å¹¶æ‰§è¡Œã€‚åŒæ—¶ï¼ŒIgnitionä¼šæ”¶é›†åˆ†æä¿¡æ¯ï¼Œç”¨äºåç»­çš„ä¼˜åŒ–ã€‚</p>
</li>
<li>
<p><strong>ç¼–è¯‘ (Compilation)</strong> : å¯¹äºè¢«é¢‘ç¹æ‰§è¡Œçš„ä»£ç ï¼ˆçƒ­ç‚¹ä»£ç ï¼‰ï¼Œ<strong>TurboFan</strong> (V8çš„ä¼˜åŒ–ç¼–è¯‘å™¨) ä¼šä»‹å…¥ï¼Œåˆ©ç”¨åˆ†æä¿¡æ¯å°†å­—èŠ‚ç ç¼–è¯‘æˆé«˜åº¦ä¼˜åŒ–çš„æœºå™¨ç ï¼Œä»¥æå‡æ‰§è¡Œæ•ˆç‡ã€‚è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸º<strong>JIT (Just-In-Time) ç¼–è¯‘</strong>ã€‚å¦‚æœä¼˜åŒ–çš„å‡è®¾å¤±è´¥ï¼ˆå¦‚å‡½æ•°å‚æ•°ç±»å‹æ”¹å˜ï¼‰ï¼Œä¼šè¿›è¡Œ<strong>å»ä¼˜åŒ– (Deoptimization)</strong> ï¼Œå›é€€åˆ°å­—èŠ‚ç æ‰§è¡Œã€‚</p>
</li>
</ol>
<h3 data-id="heading-2"><strong>åƒåœ¾å›æ”¶ (Garbage Collection)</strong></h3>
<p>V8é‡‡ç”¨<strong>åˆ†ä»£å›æ”¶ (Generational Collection)<strong>çš„ç­–ç•¥ï¼Œå°†å †å†…å­˜åˆ†ä¸º</strong>æ–°ç”Ÿä»£ (New Generation)<strong>å’Œ</strong>è€ç”Ÿä»£ (Old Generation)</strong> ã€‚</p>
<h4 data-id="heading-3"><strong>æ–°ç”Ÿä»£ (Scavengerç®—æ³•)</strong></h4>
<ul>
<li>ç©ºé—´å°ï¼Œå­˜æ´»å¯¹è±¡å°‘ã€‚é‡‡ç”¨<strong>Scavenger</strong>ç®—æ³•ï¼Œå°†ç©ºé—´ä¸€åˆ†ä¸ºäºŒï¼ˆFrom-Space å’Œ To-Spaceï¼‰ã€‚</li>
<li>å›æ”¶æ—¶ï¼Œå°†From-Spaceä¸­çš„å­˜æ´»å¯¹è±¡å¤åˆ¶åˆ°To-Spaceï¼Œç„¶åæ¸…ç©ºFrom-Spaceã€‚æœ€åï¼ŒFrom-Spaceå’ŒTo-Spaceè§’è‰²äº’æ¢ã€‚</li>
<li>å¯¹è±¡è‹¥ç»å†å¤šè½®å›æ”¶ä»å­˜æ´»ï¼Œåˆ™è¢«**æ™‹å‡ (Promotion)**åˆ°è€ç”Ÿä»£ã€‚</li>
</ul>
<h4 data-id="heading-4"><strong>è€ç”Ÿä»£</strong></h4>
<ul>
<li>
<p>ç©ºé—´å¤§ï¼Œå­˜æ´»å¯¹è±¡å¤šã€‚é‡‡ç”¨<strong>æ ‡è®°-æ¸…é™¤</strong>ç®—æ³•ã€‚</p>
</li>
<li>
<p><strong>æ ‡è®°é˜¶æ®µ</strong>: ä»æ ¹å¯¹è±¡ï¼ˆå¦‚å…¨å±€å¯¹è±¡ï¼‰å¼€å§‹ï¼Œéå†æ‰€æœ‰å¯è¾¾å¯¹è±¡å¹¶æ‰“ä¸Šæ ‡è®°ã€‚</p>
</li>
<li>
<p><strong>æ¸…é™¤é˜¶æ®µ</strong>: æ¸…é™¤éæ ‡è®°å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ã€‚</p>
</li>
<li>
<p><strong>æ•´ç†é˜¶æ®µ</strong> : ä¸ºè§£å†³å†…å­˜ç¢ç‰‡åŒ–é—®é¢˜ï¼Œåœ¨æ¸…é™¤åï¼Œä¼šå°†æ‰€æœ‰å­˜æ´»å¯¹è±¡å‘ä¸€ç«¯ç§»åŠ¨ï¼Œå½¢æˆè¿ç»­çš„å†…å­˜ç©ºé—´ã€‚</p>
</li>
</ul>
<h4 data-id="heading-5"><strong>ä»£ç ç¤ºä¾‹ (å¯¼è‡´å†…å­˜æ³„æ¼çš„åœºæ™¯):</strong></h4>
<p>é«˜çº§å¼€å‘è€…éœ€è¦èƒ½å¤Ÿè¯†åˆ«å¹¶è§£é‡Šå†…å­˜æ³„æ¼ã€‚é—­åŒ…å¼•ç”¨äº†å·²åˆ†ç¦»çš„DOMèŠ‚ç‚¹æ˜¯å…¸å‹æ¡ˆä¾‹ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createLeakingElement</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> container = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'container'</span>);
  <span class="hljs-keyword">const</span> detachedElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
  detachedElement.<span class="hljs-property">textContent</span> = <span class="hljs-string">'This is a potentially leaking element.'</span>;
  container.<span class="hljs-title function_">appendChild</span>(detachedElement);

  <span class="hljs-comment">// å…³é”®ï¼šä¸€ä¸ªå¤–éƒ¨å¯è®¿é—®çš„å‡½æ•°ï¼Œé€šè¿‡é—­åŒ…æŒæœ‰äº†å¯¹ detachedElement çš„å¼•ç”¨</span>
  <span class="hljs-keyword">const</span> leakingClosure = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// å³ä½¿ detachedElement ä»DOMæ ‘ä¸­ç§»é™¤ï¼Œåªè¦ leakingClosure å­˜åœ¨ï¼Œ</span>
    <span class="hljs-comment">// detachedElement å°±ä¸ä¼šè¢«GCå›æ”¶ã€‚</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(detachedElement.<span class="hljs-property">textContent</span>);
  };

  <span class="hljs-comment">// ä»DOMä¸­ç§»é™¤å…ƒç´ </span>
  container.<span class="hljs-title function_">removeChild</span>(detachedElement);

  <span class="hljs-comment">// è¿”å›è¿™ä¸ªé—­åŒ…</span>
  <span class="hljs-keyword">return</span> leakingClosure;
}

<span class="hljs-comment">// globalLeaker ç°åœ¨æŒæœ‰äº†å¯¹ detachedElement çš„é—´æ¥å¼•ç”¨</span>
<span class="hljs-comment">// å³ä½¿å®ƒåœ¨DOMä¸­å·²ä¸å¯è§ï¼Œå®ƒä¾ç„¶å­˜åœ¨äºå†…å­˜ä¸­</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-property">globalLeaker</span> = <span class="hljs-title function_">createLeakingElement</span>();

<span class="hljs-comment">// åªè¦ window.globalLeaker ä¸è¢«è®¾ä¸º nullï¼Œè¿™å—å†…å­˜å°±æ°¸è¿œæ— æ³•è¢«å›æ”¶</span>
</code></pre>
<h2 data-id="heading-6">äºŒã€ äº‹ä»¶å¾ªç¯ (Event Loop)</h2>
<p>é«˜çº§é¢è¯•ä¼šæ·±å…¥åˆ°Node.jsç¯å¢ƒï¼Œè€ƒå¯Ÿå¯¹Event Loopå„é˜¶æ®µçš„ç†è§£ã€‚</p>
<ul>
<li>
<p><strong>æµè§ˆå™¨ vs. Node.js</strong>: ä¸¤è€…æ¨¡å‹ç›¸ä¼¼ï¼Œä½†Node.jsçš„äº‹ä»¶å¾ªç¯æœ‰æ›´æ˜ç¡®çš„é˜¶æ®µåˆ’åˆ†ã€‚</p>
</li>
<li>
<p><strong>Node.js äº‹ä»¶å¾ªç¯çš„å…­ä¸ªé˜¶æ®µ</strong>:</p>
<ol>
<li><strong>timers</strong>: æ‰§è¡Œ <code>setTimeout()</code> å’Œ <code>setInterval()</code> çš„å›è°ƒã€‚</li>
<li><strong>pending callbacks</strong>: æ‰§è¡Œä¸Šä¸€è½®å¾ªç¯ä¸­å»¶è¿Ÿåˆ°æœ¬è½®æ‰§è¡Œçš„I/Oå›è°ƒã€‚</li>
<li><strong>idle, prepare</strong>: ä»…å†…éƒ¨ä½¿ç”¨ã€‚</li>
<li><strong>poll</strong>: æ ¸å¿ƒé˜¶æ®µã€‚æ£€ç´¢æ–°çš„I/Oäº‹ä»¶ï¼›æ‰§è¡Œä¸I/Oç›¸å…³çš„å›è°ƒã€‚å¦‚æœé˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œä¼šéå†æ‰§è¡Œï¼›å¦‚æœä¸ºç©ºï¼Œä¼šåœ¨æ­¤é˜»å¡ç­‰å¾…ï¼Œç›´åˆ°æœ‰æ–°çš„I/Oäº‹ä»¶æˆ–åˆ°è¾¾ <code>timers</code> è®¾å®šçš„é˜ˆå€¼ã€‚</li>
<li><strong>check</strong>: æ‰§è¡Œ <code>setImmediate()</code> çš„å›è°ƒã€‚</li>
<li><strong>close callbacks</strong>: æ‰§è¡Œå¦‚ <code>socket.on('close', ...)</code> çš„å›è°ƒã€‚</li>
</ol>
</li>
<li>
<p><strong><code>process.nextTick()</code> ä¸å¾®ä»»åŠ¡ (Micro-task)</strong> :</p>
<ul>
<li><code>process.nextTick()</code> æœ‰è‡ªå·±ç‹¬ç«‹çš„é˜Ÿåˆ—ï¼Œå…¶ä¼˜å…ˆçº§<strong>é«˜äº</strong>æ‰€æœ‰å¾®ä»»åŠ¡ã€‚</li>
<li>åœ¨ä¸€ä¸ªé˜¶æ®µæ‰§è¡Œå®Œæ¯•åï¼Œäº‹ä»¶å¾ªç¯ä¼š<strong>ç«‹å³</strong>æ¸…ç©º <code>nextTick</code> é˜Ÿåˆ—ï¼Œç„¶åæ‰æ¸…ç©ºå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œä¹‹åæ‰è¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µã€‚</li>
</ul>
</li>
</ul>
<p><strong>ä»£ç ç¤ºä¾‹ (Node.jsç¯å¢ƒä¸‹):</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'1. Script Start'</span>);

<span class="hljs-comment">// Timers é˜¶æ®µ</span>
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'7. setTimeout'</span>);
}, <span class="hljs-number">0</span>);

<span class="hljs-comment">// Check é˜¶æ®µ</span>
<span class="hljs-title function_">setImmediate</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'8. setImmediate'</span>);
});

<span class="hljs-comment">// Micro-task</span>
<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'5. Promise.then'</span>);
});

<span class="hljs-comment">// process.nextTick é˜Ÿåˆ— (æœ€é«˜ä¼˜å…ˆçº§)</span>
process.<span class="hljs-title function_">nextTick</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'4. process.nextTick'</span>);
});

<span class="hljs-comment">// I/O æ“ä½œï¼Œå…¶å›è°ƒå°†åœ¨ Poll é˜¶æ®µæ‰§è¡Œ</span>
fs.<span class="hljs-title function_">readFile</span>(__filename, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'6. I/O (readFile) callback'</span>);

  <span class="hljs-comment">// I/Oå›è°ƒå†…éƒ¨çš„è°ƒåº¦</span>
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'11. I/O -&gt; setTimeout'</span>), <span class="hljs-number">0</span>);
  <span class="hljs-title function_">setImmediate</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'9. I/O -&gt; setImmediate'</span>));
  process.<span class="hljs-title function_">nextTick</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'10. I/O -&gt; nextTick'</span>));
});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'2. Script End'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'3. Poll phase may start here...'</span>);

<span class="hljs-comment">// ç†è®ºè¾“å‡ºé¡ºåº:</span>
<span class="hljs-comment">// 1. Script Start</span>
<span class="hljs-comment">// 2. Script End</span>
<span class="hljs-comment">// 3. Poll phase may start here...</span>
<span class="hljs-comment">// 4. process.nextTick</span>
<span class="hljs-comment">// 5. Promise.then</span>
<span class="hljs-comment">// 6. I/O (readFile) callback</span>
<span class="hljs-comment">// 10. I/O -&gt; nextTick</span>
<span class="hljs-comment">// 9. I/O -&gt; setImmediate</span>
<span class="hljs-comment">// 7. setTimeout</span>
<span class="hljs-comment">// 8. setImmediate</span>
<span class="hljs-comment">// 11. I/O -&gt; setTimeout</span>
<span class="hljs-comment">// (æ³¨æ„ï¼š9, 7, 8, 11 çš„ç¡®åˆ‡é¡ºåºå¯èƒ½å› I/Oè€—æ—¶å’Œç³»ç»Ÿè°ƒåº¦è€Œæœ‰ç»†å¾®å˜åŒ–ï¼Œä½†åŸºæœ¬è§„å¾‹å¦‚æ­¤)</span>
</code></pre>
<h2 data-id="heading-7">ä¸‰ã€ é«˜çº§æ€§èƒ½ä¼˜åŒ–</h2>
<h3 data-id="heading-8"><strong>Tree Shaking (æ‘‡æ ‘ä¼˜åŒ–)</strong></h3>
<h4 data-id="heading-9"><strong>åŸç†</strong></h4>
<ul>
<li>ä¾èµ–ES Modules (<code>import</code>/<code>export</code>) çš„é™æ€ç»“æ„ï¼Œåœ¨ç¼–è¯‘æ—¶åˆ†æä»£ç ï¼Œç§»é™¤æœªè¢«å®é™…å¼•ç”¨çš„â€œæ­»ä»£ç â€(dead-code)ã€‚</li>
</ul>
<h4 data-id="heading-10"><strong>å®è·µ</strong></h4>
<ul>
<li>Webpack, Rollupç­‰ç°ä»£æ‰“åŒ…å·¥å…·åœ¨ç”Ÿäº§æ¨¡å¼ä¸‹é»˜è®¤å¼€å¯ã€‚å¼€å‘è€…éœ€ä¿è¯ä»£ç éµå¾ªESMè§„èŒƒï¼Œå¹¶é¿å…æœ‰å‰¯ä½œç”¨çš„æ¨¡å—å¯¼å…¥ã€‚</li>
</ul>
<h3 data-id="heading-11"><strong>Code Splitting (ä»£ç åˆ†å‰²)</strong></h3>
<h4 data-id="heading-12"><strong>ç›®çš„</strong></h4>
<ul>
<li>å°†å·¨å¤§çš„å•ä½“bundleåˆ†å‰²æˆå¤šä¸ªå°å—(chunks)ï¼ŒæŒ‰éœ€åŠ è½½ï¼Œä»¥å‡å°é¦–å±åŠ è½½ä½“ç§¯ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li>
</ul>
<h4 data-id="heading-13"><strong>ç­–ç•¥</strong></h4>
<ol>
<li>
<p><strong>æŒ‰è·¯ç”±åˆ†å‰²</strong>: æ¯ä¸ªé¡µé¢æˆ–è·¯ç”±å¯¹åº”ä¸€ä¸ªchunkã€‚</p>
</li>
<li>
<p><strong>æŒ‰ç»„ä»¶åˆ†å‰²</strong>: å¯¹äºéé¦–å±ã€æˆ–éœ€è¦äº¤äº’æ‰å‡ºç°çš„å¤§å‹ç»„ä»¶ï¼ˆå¦‚å¼¹çª—ã€å›¾è¡¨ï¼‰è¿›è¡Œæ‡’åŠ è½½ã€‚</p>
</li>
<li>
<p><strong>å…¬å…±åº“åˆ†ç¦» (Vendor Splitting)</strong> : å°†ä¸å¸¸å˜åŠ¨çš„ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚React, Lodashï¼‰æ‰“åŒ…æˆç‹¬ç«‹çš„vendor chunkï¼Œåˆ©ç”¨æµè§ˆå™¨ç¼“å­˜ã€‚</p>
</li>
</ol>
<h3 data-id="heading-14"><strong>åˆ©ç”¨æµè§ˆå™¨æ¸²æŸ“è·¯å¾„</strong></h3>
<ul>
<li>
<p><strong>å…³é”®æ¸²æŸ“è·¯å¾„</strong> : ä¼˜åŒ–CSSåŠ è½½ï¼ˆå†…è”å…³é”®CSSï¼‰ã€å‡å°‘é˜»å¡æ¸²æŸ“çš„è„šæœ¬ã€ä½¿ç”¨ <code>async</code>/<code>defer</code>ã€‚</p>
</li>
<li>
<p><strong>ç¡¬ä»¶åŠ é€Ÿ</strong>: å°½é‡ä½¿ç”¨ <code>transform</code> å’Œ <code>opacity</code> å±æ€§è¿›è¡ŒåŠ¨ç”»ï¼Œå®ƒä»¬èƒ½è¢«æå‡åˆ°å•ç‹¬çš„åˆæˆå±‚(Compositor Layer)ï¼Œç”±GPUå¤„ç†ï¼Œé¿å…è§¦å‘é‡æ’(Reflow)å’Œé‡ç»˜(Repaint)ã€‚</p>
</li>
</ul>
<h3 data-id="heading-15"><strong>ä»£ç ç¤ºä¾‹ (Reactä¸­çš„ä»£ç åˆ†å‰²)</strong></h3>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { <span class="hljs-title class_">Suspense</span>, lazy } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-comment">// ä½¿ç”¨ React.lazy å’ŒåŠ¨æ€ import() æ¥å®ç°ç»„ä»¶çš„æ‡’åŠ è½½</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">HeavyComponent</span> = <span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./components/HeavyComponent'</span>));
<span class="hljs-keyword">const</span> <span class="hljs-title class_">AnotherLazyComponent</span> = <span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./components/AnotherLazyComponent'</span>));

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [showHeavy, setShowHeavy] = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>My App<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setShowHeavy(true)}&gt;Load Heavy Component<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

      {/* 
        Suspense ç»„ä»¶ç”¨äºåœ¨æ‡’åŠ è½½ç»„ä»¶ä¸‹è½½å’Œè§£ææœŸé—´ï¼Œæ˜¾ç¤ºä¸€ä¸ªfallback UIã€‚
        åªæœ‰å½“ showHeavy ä¸º true æ—¶ï¼Œæµè§ˆå™¨æ‰ä¼šå»è¯·æ±‚ HeavyComponent.jsã€‚
      */}
      <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">div</span>&gt;</span>Loading...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}&gt;
        {showHeavy &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">HeavyComponent</span> /&gt;</span>}
        
        {/* å‡è®¾è¿™æ˜¯å¦ä¸€ä¸ªéœ€è¦æ‡’åŠ è½½çš„ç»„ä»¶ */}
        {/* <span class="hljs-tag">&lt;<span class="hljs-name">AnotherLazyComponent</span> /&gt;</span> */}
      <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h2 data-id="heading-16">å››ã€ å†…å­˜ç®¡ç†ä¸è¯Šæ–­</h2>
<h3 data-id="heading-17"><strong>å†…å­˜æ³„æ¼çš„å¸¸è§åŸå› </strong></h3>
<ol>
<li>
<p><strong>æ„å¤–çš„å…¨å±€å˜é‡</strong>: æœªç»å£°æ˜çš„å˜é‡è¢«èµ‹å€¼ï¼Œæˆä¸ºå…¨å±€å¯¹è±¡çš„å±æ€§ã€‚</p>
</li>
<li>
<p><strong>é—å¿˜çš„å®šæ—¶å™¨æˆ–å›è°ƒ</strong>: <code>setInterval</code> æœªè¢«æ¸…é™¤ï¼Œå…¶å›è°ƒå‡½æ•°åŠå…¶é—­åŒ…ç¯å¢ƒæ— æ³•è¢«å›æ”¶ã€‚</p>
</li>
<li>
<p><strong>åˆ†ç¦»çš„DOMèŠ‚ç‚¹å¼•ç”¨</strong>: å¦‚ç¬¬ä¸€èŠ‚çš„ä»£ç ç¤ºä¾‹ã€‚</p>
</li>
<li>
<p><strong>é—­åŒ…çš„æ»¥ç”¨</strong>: é—­åŒ…ä¼šä½¿å…¶å¤–éƒ¨å‡½æ•°çš„ä½œç”¨åŸŸæŒç»­å­˜åœ¨ï¼Œå¦‚æœä½œç”¨åŸŸä¸­åŒ…å«å¤§é‡æ•°æ®ï¼Œåˆ™å¯èƒ½é€ æˆå†…å­˜å ç”¨è¿‡é«˜ã€‚</p>
</li>
</ol>
<h3 data-id="heading-18"><strong>è¯Šæ–­å·¥å…· (Chrome DevTools)</strong></h3>
<ul>
<li>
<p><strong>Performance Monitor</strong>: å®æ—¶ç›‘æ§CPUä½¿ç”¨ç‡ã€JSå †å¤§å°ã€DOMèŠ‚ç‚¹æ•°ç­‰ã€‚</p>
</li>
<li>
<p><strong>Memory Tab</strong>:</p>
<ul>
<li><strong>Heap Snapshot (å †å¿«ç…§)</strong> : æ‹æ‘„å †å†…å­˜çš„å¿«ç…§ï¼Œç”¨äºåˆ†æå¯¹è±¡åˆ†å¸ƒã€æŸ¥æ‰¾åˆ†ç¦»çš„DOMæ ‘ã€å®šä½å†…å­˜æ³„æ¼ã€‚</li>
<li><strong>Allocation Instrumentation on Timeline</strong>: è®°å½•å†…å­˜åˆ†é…çš„æ—¶é—´çº¿ï¼Œç”¨äºå®šä½æ˜¯å“ªä¸ªå‡½æ•°æˆ–æ“ä½œå¯¼è‡´äº†é¢‘ç¹çš„å†…å­˜åˆ†é…æˆ–å†…å­˜æ¿€å¢ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-19"><strong>ä»£ç ç¤ºä¾‹ (é—å¿˜çš„å®šæ—¶å™¨):</strong></h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PulsingDot</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> = <span class="hljs-number">0</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isGrowing</span> = <span class="hljs-literal">true</span>;

    <span class="hljs-comment">// å®šæ—¶å™¨é€šè¿‡é—­åŒ…æŒæœ‰äº†å¯¹ this (PulsingDotå®ä¾‹) çš„å¼•ç”¨</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">intervalId</span> = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isGrowing</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> += <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> &gt;= <span class="hljs-number">10</span>) <span class="hljs-variable language_">this</span>.<span class="hljs-property">isGrowing</span> = <span class="hljs-literal">false</span>;
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> -= <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> &lt;= <span class="hljs-number">0</span>) <span class="hljs-variable language_">this</span>.<span class="hljs-property">isGrowing</span> = <span class="hljs-literal">true</span>;
      }
    }, <span class="hljs-number">100</span>);
  }

  <span class="hljs-comment">// å¿…é¡»æä¾›ä¸€ä¸ªé”€æ¯æ–¹æ³•æ¥æ¸…é™¤å®šæ—¶å™¨</span>
  <span class="hljs-title function_">destroy</span>(<span class="hljs-params"/>) {
    <span class="hljs-built_in">clearInterval</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">intervalId</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'PulsingDot destroyed and interval cleared.'</span>);
  }
}

<span class="hljs-keyword">let</span> dot = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PulsingDot</span>();

<span class="hljs-comment">// å‡è®¾åœ¨æŸä¸ªæ—¶é—´ç‚¹ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦è¿™ä¸ª dot å®ä¾‹</span>
dot = <span class="hljs-literal">null</span>;

<span class="hljs-comment">// é—®é¢˜ï¼šè™½ç„¶ dot å˜é‡è¢«è®¾ä¸º nullï¼Œä½† PulsingDot å®ä¾‹æ— æ³•è¢«å›æ”¶ï¼Œ</span>
<span class="hljs-comment">// å› ä¸º setInterval çš„å›è°ƒå‡½æ•°ä»ç„¶æŒæœ‰å¯¹å®ƒçš„å¼•ç”¨ï¼Œå®šæ—¶å™¨è¿˜åœ¨ä¸åœåœ°è¿è¡Œã€‚</span>
<span class="hljs-comment">// æ­£ç¡®åšæ³•ï¼šåœ¨é”€æ¯å¯¹è±¡å‰ï¼Œè°ƒç”¨ dot.destroy()ã€‚</span>
</code></pre>
<h2 data-id="heading-20">äº”ã€ è½¯ä»¶è®¾è®¡æ¨¡å¼</h2>
<p>é«˜çº§å¼€å‘è€…åº”èƒ½å°†è®¾è®¡æ¨¡å¼æ€æƒ³èå…¥æ—¥å¸¸ç¼–ç ï¼Œä»¥æ„å»ºå¯ç»´æŠ¤ã€å¯æ‰©å±•çš„ç³»ç»Ÿã€‚</p>
<ul>
<li>
<p><strong>å•ä¾‹æ¨¡å¼ (Singleton)</strong> : ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ã€‚</p>
</li>
<li>
<p><strong>è§‚å¯Ÿè€…æ¨¡å¼ (Observer / Pub/Sub)</strong> : å®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å°†å¾—åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°ã€‚</p>
</li>
<li>
<p><strong>å·¥å‚æ¨¡å¼ (Factory)</strong> : å®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œè®©å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸€ä¸ªç±»ã€‚</p>
</li>
<li>
<p><strong>è£…é¥°å™¨æ¨¡å¼ (Decorator)</strong> : åŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ã€‚</p>
</li>
<li>
<p><strong>ä»£ç†æ¨¡å¼ (Proxy)</strong> : ä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚</p>
</li>
</ul>
<p><strong>ä»£ç ç¤ºä¾‹ (è§‚å¯Ÿè€…æ¨¡å¼/å‘å¸ƒ-è®¢é˜…):</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">EventBus</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span> = {};
  }

  <span class="hljs-comment">// è®¢é˜…</span>
  <span class="hljs-title function_">on</span>(<span class="hljs-params">eventName, callback</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>[eventName]) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>[eventName] = [];
    }
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>[eventName].<span class="hljs-title function_">push</span>(callback);
  }

  <span class="hljs-comment">// å–æ¶ˆè®¢é˜…</span>
  <span class="hljs-title function_">off</span>(<span class="hljs-params">eventName, callback</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>[eventName]) <span class="hljs-keyword">return</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>[eventName] = <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>[eventName].<span class="hljs-title function_">filter</span>(
      <span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> listener !== callback
    );
  }

  <span class="hljs-comment">// å‘å¸ƒ</span>
  <span class="hljs-title function_">emit</span>(<span class="hljs-params">eventName, ...args</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>[eventName]) <span class="hljs-keyword">return</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>[eventName].<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-title function_">listener</span>(...args);
      } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Error in listener for event "<span class="hljs-subst">${eventName}</span>":`</span>, e);
      }
    });
  }
}

<span class="hljs-comment">// --- ä½¿ç”¨åœºæ™¯ ---</span>
<span class="hljs-keyword">const</span> bus = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EventBus</span>();

<span class="hljs-keyword">function</span> <span class="hljs-title function_">onUserLogin</span>(<span class="hljs-params">userData</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Analytics Service: User logged in'</span>, userData.<span class="hljs-property">name</span>);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">updateNavbar</span>(<span class="hljs-params">userData</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'UI Service: Updating navbar for'</span>, userData.<span class="hljs-property">name</span>);
}

bus.<span class="hljs-title function_">on</span>(<span class="hljs-string">'user:login'</span>, onUserLogin);
bus.<span class="hljs-title function_">on</span>(<span class="hljs-string">'user:login'</span>, updateNavbar);

<span class="hljs-comment">// æŸå¤„ç™»å½•æˆåŠŸå...</span>
bus.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'user:login'</span>, { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Mickey'</span> });

<span class="hljs-comment">// ç”¨æˆ·é€€å‡ºæ—¶ï¼Œå¯ä»¥å–æ¶ˆè®¢é˜…</span>
<span class="hljs-comment">// bus.off('user:login', onUserLogin);</span>
</code></pre>
<h2 data-id="heading-21">å…­ã€ æ¨¡å—åŒ–ä¸å·¥ç¨‹åŒ–</h2>
<h3 data-id="heading-22"><strong>æ¨¡å—åŒ–æ–¹æ¡ˆæ¼”è¿›</strong></h3>
<p>ä»IIFEã€CommonJS (<code>require</code>/<code>module.exports</code>)ã€AMD (<code>define</code>/<code>require</code>) åˆ° <strong>ES Modules (<code>import</code>/<code>export</code>)</strong> ã€‚é«˜çº§å¼€å‘è€…éœ€ç†è§£å®ƒä»¬çš„å·®å¼‚åŠé€‚ç”¨åœºæ™¯ã€‚</p>
<h3 data-id="heading-23"><strong>æ„å»ºå·¥å…·</strong></h3>
<h4 data-id="heading-24"><strong>Webpack</strong></h4>
<p>ä¸€ä¸ªå¼ºå¤§çš„ã€é«˜åº¦å¯é…ç½®çš„æ¨¡å—æ‰“åŒ…å™¨ã€‚æ ¸å¿ƒæ¦‚å¿µï¼š<strong>Entry</strong>, <strong>Output</strong>, <strong>Loaders</strong> (è½¬æ¢éJSæ¨¡å—), <strong>Plugins</strong> (æ‰§è¡Œæ›´å¹¿æ³›çš„ä»»åŠ¡ï¼Œå¦‚æ‰“åŒ…ä¼˜åŒ–ã€èµ„æºç®¡ç†), <strong>Mode</strong>ã€‚</p>
<h4 data-id="heading-25"><strong>Vite</strong></h4>
<p>æ–°ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·ã€‚åˆ©ç”¨æµè§ˆå™¨åŸç”ŸESMæ”¯æŒï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸‹å®ç°æé€Ÿçš„å†·å¯åŠ¨å’Œçƒ­æ›´æ–° (HMR)ã€‚ç”Ÿäº§ç¯å¢ƒåˆ™ä½¿ç”¨Rollupè¿›è¡Œæ‰“åŒ…ã€‚</p>
<h4 data-id="heading-26"><strong>Monorepo</strong></h4>
<p>åœ¨å•ä¸€ä»£ç ä»“åº“ä¸­ç®¡ç†å¤šä¸ªé¡¹ç›®/åŒ…çš„ç­–ç•¥ã€‚å·¥å…·ï¼šLerna, Nx, Turborepoã€‚</p>
<h3 data-id="heading-27"><strong>ä»£ç ç¤ºä¾‹ (ä¸€ä¸ªåŸºç¡€çš„ <code>webpack.config.js</code>):</strong></h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title class_">HtmlWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'html-webpack-plugin'</span>);

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-comment">// æ¨¡å¼ï¼š'development' æˆ– 'production'</span>
  <span class="hljs-attr">mode</span>: <span class="hljs-string">'development'</span>,

  <span class="hljs-comment">// å…¥å£æ–‡ä»¶</span>
  <span class="hljs-attr">entry</span>: <span class="hljs-string">'./src/index.js'</span>,

  <span class="hljs-comment">// è¾“å‡ºé…ç½®</span>
  <span class="hljs-attr">output</span>: {
    <span class="hljs-attr">filename</span>: <span class="hljs-string">'bundle.[contenthash].js'</span>, <span class="hljs-comment">// contenthash ç”¨äºç¼“å­˜ä¼˜åŒ–</span>
    <span class="hljs-attr">path</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'dist'</span>),
    <span class="hljs-attr">clean</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// åœ¨ç”Ÿæˆæ–‡ä»¶ä¹‹å‰æ¸…ç©º output ç›®å½•</span>
  },

  <span class="hljs-comment">// æ¨¡å—å¤„ç†è§„åˆ™</span>
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/.js$/</span>,
        <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span>,
        <span class="hljs-attr">use</span>: {
          <span class="hljs-comment">// ä½¿ç”¨ babel-loader æ¥è½¬æ¢ ES6+ è¯­æ³•</span>
          <span class="hljs-attr">loader</span>: <span class="hljs-string">'babel-loader'</span>,
          <span class="hljs-attr">options</span>: {
            <span class="hljs-attr">presets</span>: [<span class="hljs-string">'@babel/preset-env'</span>, <span class="hljs-string">'@babel/preset-react'</span>]
          }
        }
      },
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/.css$/</span>,
        <span class="hljs-comment">// loader çš„æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦</span>
        <span class="hljs-attr">use</span>: [<span class="hljs-string">'style-loader'</span>, <span class="hljs-string">'css-loader'</span>]
      }
    ]
  },

  <span class="hljs-comment">// æ’ä»¶é…ç½®</span>
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-comment">// è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª HTML æ–‡ä»¶ï¼Œå¹¶æ³¨å…¥æ‰“åŒ…åçš„ JS</span>
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">HtmlWebpackPlugin</span>({
      <span class="hljs-attr">template</span>: <span class="hljs-string">'./src/index.html'</span>
    })
  ],

  <span class="hljs-comment">// å¼€å‘æœåŠ¡å™¨é…ç½®</span>
  <span class="hljs-attr">devServer</span>: {
    <span class="hljs-attr">static</span>: <span class="hljs-string">'./dist'</span>,
    <span class="hljs-attr">hot</span>: <span class="hljs-literal">true</span>,
  },
  
  <span class="hljs-comment">// Source Map é…ç½®ï¼Œç”¨äºè°ƒè¯•</span>
  <span class="hljs-attr">devtool</span>: <span class="hljs-string">'eval-source-map'</span>,
};
</code></pre>
<h2 data-id="heading-28">ä¸ƒã€ Webå®‰å…¨</h2>
<h3 data-id="heading-29"><strong>XSS (Cross-Site Scripting)</strong></h3>
<p>æ”»å‡»è€…å°†æ¶æ„è„šæœ¬æ³¨å…¥åˆ°ç½‘é¡µä¸­ï¼Œå…¶ä»–ç”¨æˆ·æµè§ˆæ—¶æ‰§è¡Œã€‚</p>
<h4 data-id="heading-30"><strong>ç±»å‹</strong></h4>
<ul>
<li>å‚¨å­˜å‹ï¼ˆ<code>Stored XSS</code>ï¼‰</li>
<li>åå°„å‹ï¼ˆ<code>Reflected XSS</code>ï¼‰</li>
<li>DOMå‹ï¼ˆ<code>DOM-based XSS</code>ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-31"><strong>é˜²å¾¡</strong></h4>
<ol>
<li>
<p><strong>ç»ä¸ä¿¡ä»»ä»»ä½•ç”¨æˆ·è¾“å…¥</strong>ã€‚</p>
</li>
<li>
<p><strong>è¾“å‡ºç¼–ç /è½¬ä¹‰</strong>: å¯¹ç”¨æˆ·è¾“å…¥çš„æ•°æ®åœ¨æ¸²æŸ“åˆ°é¡µé¢å‰è¿›è¡ŒHTMLå®ä½“è½¬ä¹‰ã€‚ç°ä»£æ¡†æ¶ï¼ˆå¦‚React, Vueï¼‰é»˜è®¤è¿›è¡Œæ­¤æ“ä½œã€‚</p>
</li>
<li>
<p><strong>ä½¿ç”¨ <code>textContent</code> ä»£æ›¿ <code>innerHTML</code></strong>ã€‚</p>
</li>
<li>
<p><strong>Content Security Policy (CSP)</strong> : é€šè¿‡HTTPå¤´ï¼Œä¸¥æ ¼é™åˆ¶é¡µé¢å¯ä»¥åŠ è½½çš„èµ„æºæ¥æºã€‚</p>
</li>
</ol>
<h3 data-id="heading-32"><strong>CSRF (Cross-Site Request Forgery)</strong></h3>
<p>æ”»å‡»è€…è¯±å¯¼å·²ç™»å½•ç”¨æˆ·åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ï¼Œå‘å…¶å·²è®¤è¯çš„Webåº”ç”¨å‘é€ä¸€ä¸ªä¼ªé€ çš„è¯·æ±‚ï¼ˆå¦‚è½¬è´¦ã€ä¿®æ”¹å¯†ç ï¼‰ã€‚</p>
<h4 data-id="heading-33"><strong>é˜²å¾¡</strong></h4>
<ol>
<li>
<p><strong>Anti-CSRF Token</strong>: æœåŠ¡å™¨ä¸ºæ¯ä¸ªç”¨æˆ·ä¼šè¯ç”Ÿæˆä¸€ä¸ªéšæœºTokenï¼Œè¦æ±‚æ‰€æœ‰çŠ¶æ€å˜æ›´çš„è¯·æ±‚ï¼ˆPOST, PUT, DELETEï¼‰éƒ½å¿…é¡»æºå¸¦æ­¤Tokenã€‚</p>
</li>
<li>
<p><strong>SameSite Cookie å±æ€§</strong>: å°†Cookieè®¾ç½®ä¸º <code>Strict</code> æˆ– <code>Lax</code>ï¼Œå¯ä»¥é˜»æ­¢æµè§ˆå™¨åœ¨è·¨ç«™è¯·æ±‚ä¸­å‘é€Cookieã€‚<code>SameSite=Strict</code> æ˜¯æœ€å¼ºçš„é˜²å¾¡ã€‚</p>
</li>
<li>
<p><strong>æ£€æŸ¥ Referer å¤´</strong>: éªŒè¯è¯·æ±‚çš„æ¥æºï¼Œä½†æ­¤æ–¹æ³•å¯è¢«ä¼ªé€ ã€‚</p>
</li>
</ol>
<h3 data-id="heading-34"><strong>ä»£ç ç¤ºä¾‹ (XSSé˜²å¾¡):</strong></h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> userInput = <span class="hljs-string">'&lt;img src="invalid" onerror="alert('</span><span class="hljs-variable constant_">XSS</span> <span class="hljs-title class_">Attack</span>!<span class="hljs-string">')"&gt;'</span>;

<span class="hljs-comment">// é”™è¯¯çš„æ–¹å¼ï¼šç›´æ¥ä½¿ç”¨ innerHTML</span>
<span class="hljs-keyword">const</span> vulnerableDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'vulnerable'</span>);
<span class="hljs-comment">// vulnerableDiv.innerHTML = userInput; // è¿™å°†æ‰§è¡Œ onerror ä¸­çš„æ¶æ„è„šæœ¬</span>

<span class="hljs-comment">// æ­£ç¡®çš„æ–¹å¼ï¼šä½¿ç”¨ textContentï¼Œæµè§ˆå™¨ä¼šå°†å…¶ä½œä¸ºçº¯æ–‡æœ¬å¤„ç†</span>
<span class="hljs-keyword">const</span> secureDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'secure'</span>);
secureDiv.<span class="hljs-property">textContent</span> = userInput; <span class="hljs-comment">// é¡µé¢å°†æ˜¾ç¤ºå­—ç¬¦ä¸² "&lt;img..." è€Œéå›¾ç‰‡</span>
</code></pre>
<h2 data-id="heading-35">å…«ã€ æ¡†æ¶åŸç† (ä»¥Reactä¸ºä¾‹)</h2>
<h3 data-id="heading-36"><strong>Virtual DOM (VDOM)</strong></h3>
<ul>
<li>
<p>ä¸€ä¸ªä»¥JavaScriptå¯¹è±¡å½¢å¼å­˜åœ¨çš„ã€å¯¹çœŸå®DOMçš„æŠ½è±¡è¡¨ç¤ºã€‚</p>
</li>
<li>
<p><strong>å·¥ä½œæµ</strong>:</p>
</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">    graph TD
    A[çŠ¶æ€å˜æ›´] --&gt; B(é‡æ–°æ¸²æŸ“ç”Ÿæˆæ–°çš„VDOM)
    B --&gt; C(æ–°æ—§VDOMè¿›è¡Œ&lt;br/&gt;Diffingå·®å¼‚æ¯”è¾ƒ)
    C --&gt; D(è®¡ç®—å‡ºæœ€å°åŒ–çš„å˜æ›´é›†);
    D --&gt; E(å°†å˜æ›´æ‰¹é‡æ›´æ–°&lt;br/&gt;åˆ°çœŸå®DOM);
</code></pre>
<h3 data-id="heading-37"><strong>Reconciliation (åè°ƒ) ä¸ Diffing ç®—æ³•</strong></h3>
<h4 data-id="heading-38"><strong>Diffingç­–ç•¥</strong></h4>
<ol>
<li>
<p><strong>Tree Diff</strong>: åªå¯¹åŒå±‚çº§çš„èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œè·¨å±‚çº§çš„ç§»åŠ¨ä¼šè§†ä¸ºèŠ‚ç‚¹çš„é”€æ¯å’Œé‡å»ºã€‚</p>
</li>
<li>
<p><strong>Component Diff</strong>: å¦‚æœç»„ä»¶ç±»å‹ä¸åŒï¼Œç›´æ¥é”€æ¯æ—§ç»„ä»¶ï¼Œåˆ›å»ºæ–°ç»„ä»¶ï¼›å¦‚æœç±»å‹ç›¸åŒï¼Œåˆ™æ›´æ–°å…¶å±æ€§ã€‚</p>
</li>
<li>
<p><strong>Element Diff</strong>: å¯¹äºåŒå±‚çº§çš„ä¸€ç»„å­èŠ‚ç‚¹ï¼Œé€šè¿‡ <code>key</code> å±æ€§è¿›è¡Œä¼˜åŒ–ã€‚<code>key</code> å¸®åŠ©Reactè¯†åˆ«å“ªäº›å…ƒç´ æ˜¯ç¨³å®šçš„ã€å“ªäº›æ˜¯æ–°å¢æˆ–åˆ é™¤çš„ï¼Œä»è€Œå®ç°é«˜æ•ˆçš„ç§»åŠ¨å’Œå¤ç”¨ï¼Œè€Œä¸æ˜¯åŸåœ°é”€æ¯é‡å»ºã€‚</p>
</li>
</ol>
<h4 data-id="heading-39"><strong>ä»£ç ç¤ºä¾‹ (<code>key</code>çš„é‡è¦æ€§)</strong></h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// åœºæ™¯ï¼šåœ¨ä¸€ä¸ªåˆ—è¡¨çš„å¼€å¤´æ’å…¥ä¸€ä¸ªæ–°å…ƒç´ </span>

<span class="hljs-comment">// --- ä¸æ¨èï¼šä½¿ç”¨ index ä½œä¸º key ---</span>
<span class="hljs-comment">// å½“åœ¨å¼€å¤´æ’å…¥ 'grape' æ—¶ï¼Œåˆ—è¡¨å˜ä¸º ['grape', 'apple', 'banana']</span>
<span class="hljs-comment">// React çœ‹åˆ°ï¼š</span>
<span class="hljs-comment">// - key=0 çš„å…ƒç´ ä» 'apple' å˜ä¸º 'grape' (æ›´æ–°)</span>
<span class="hljs-comment">// - key=1 çš„å…ƒç´ ä» 'banana' å˜ä¸º 'apple' (æ›´æ–°)</span>
<span class="hljs-comment">// - æ–°å¢ä¸€ä¸ª key=2 çš„å…ƒç´  'banana' (æ–°å¢)</span>
<span class="hljs-comment">// è¿™å¯¼è‡´äº†å¤§é‡ä¸å¿…è¦çš„DOMæ›´æ–°ã€‚</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">BadList</span> = (<span class="hljs-params">{ items }</span>) =&gt; (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>{items.map((item, index) =&gt; <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{index}</span>&gt;</span>{item}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>)}<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span>
);

<span class="hljs-comment">// --- æ¨èï¼šä½¿ç”¨ç¨³å®šä¸”å”¯ä¸€çš„IDä½œä¸º key ---</span>
<span class="hljs-comment">// å½“åœ¨å¼€å¤´æ’å…¥ {id: 3, text: 'grape'} æ—¶</span>
<span class="hljs-comment">// React çœ‹åˆ°ï¼š</span>
<span class="hljs-comment">// - key=1 ('apple') å’Œ key=2 ('banana') çš„å…ƒç´ ä»ç„¶å­˜åœ¨ï¼Œåªéœ€ç§»åŠ¨ä½ç½®</span>
<span class="hljs-comment">// - æ–°å¢ä¸€ä¸ª key=3 çš„å…ƒç´  'grape'</span>
<span class="hljs-comment">// è¿™åªä¼šå¯¼è‡´ä¸€æ¬¡æ–°å¢æ“ä½œå’Œä¸¤æ¬¡ç§»åŠ¨æ“ä½œï¼Œæ•ˆç‡æé«˜ã€‚</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">GoodList</span> = (<span class="hljs-params">{ items }</span>) =&gt; (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>{items.map(item =&gt; <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.id}</span>&gt;</span>{item.text}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>)}<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span>
);
</code></pre>
<h2 data-id="heading-40">ä¹ã€ TypeScript</h2>
<h3 data-id="heading-41"><strong>æ ¸å¿ƒä»·å€¼</strong></h3>
<ul>
<li>ä¸ºJavaScriptå¸¦æ¥<strong>é™æ€ç±»å‹ç³»ç»Ÿ</strong></li>
<li>åœ¨ç¼–è¯‘é˜¶æ®µå‘ç°æ½œåœ¨é”™è¯¯</li>
<li>æå‡ä»£ç çš„å¯ç»´æŠ¤æ€§ã€å¯è¯»æ€§å’Œå¤§å‹é¡¹ç›®çš„å¥å£®æ€§ã€‚</li>
</ul>
<h3 data-id="heading-42"><strong>é«˜çº§ç±»å‹</strong></h3>
<ul>
<li>
<p><strong>æ³›å‹ (Generics)</strong> : åˆ›å»ºå¯é‡ç”¨çš„ã€ç±»å‹å®‰å…¨çš„ç»„ä»¶æˆ–å‡½æ•°ã€‚</p>
</li>
<li>
<p><strong>æ¡ä»¶ç±»å‹ (Conditional Types)</strong> : <code>T extends U ? X : Y</code>ï¼Œä½¿ç±»å‹å¯ä»¥æ ¹æ®æ¡ä»¶å˜åŒ–ã€‚</p>
</li>
<li>
<p><strong>æ˜ å°„ç±»å‹ (Mapped Types)</strong> : <code>[K in keyof T]: ...</code>ï¼ŒåŸºäºä¸€ä¸ªç°æœ‰ç±»å‹åˆ›å»ºæ–°ç±»å‹ã€‚</p>
</li>
<li>
<p><strong>å·¥å…·ç±»å‹ (Utility Types)</strong> : <code>Partial&lt;T&gt;</code>, <code>Required&lt;T&gt;</code>, <code>Readonly&lt;T&gt;</code>, <code>Pick&lt;T, K&gt;</code>, <code>Omit&lt;T, K&gt;</code> ç­‰ï¼Œå¯¹ç±»å‹è¿›è¡Œè½¬æ¢å’Œæ“ä½œã€‚</p>
</li>
</ul>
<h3 data-id="heading-43"><strong>ä»£ç ç¤ºä¾‹ (æ³›å‹ä¸æ¡ä»¶ç±»å‹)</strong></h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// æ³›å‹å‡½æ•°ï¼šç¡®ä¿è¾“å…¥å’Œè¾“å‡ºç±»å‹ä¸€è‡´</span>
<span class="hljs-keyword">function</span> identity&lt;T&gt;(<span class="hljs-attr">arg</span>: T): T {
  <span class="hljs-keyword">return</span> arg;
}
<span class="hljs-keyword">let</span> output = identity&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">"myString"</span>); <span class="hljs-comment">// output ç±»å‹ä¸º string</span>

<span class="hljs-comment">// æ³›å‹æ¥å£</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">GenericRepository</span>&lt;T&gt; {
  <span class="hljs-title function_">findById</span>(<span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>): <span class="hljs-title class_">Promise</span>&lt;T | <span class="hljs-literal">null</span>&gt;;
  <span class="hljs-title function_">findAll</span>(): <span class="hljs-title class_">Promise</span>&lt;T[]&gt;;
  <span class="hljs-title function_">save</span>(<span class="hljs-attr">entity</span>: T): <span class="hljs-title class_">Promise</span>&lt;T&gt;;
}
<span class="hljs-comment">// class UserRepository implements GenericRepository&lt;User&gt; { ... }</span>

<span class="hljs-comment">// æ¡ä»¶ç±»å‹ï¼šä»ä¸€ä¸ªç±»å‹ä¸­æå–ç‰¹å®šç±»å‹çš„å±æ€§å</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">FunctionPropertyNames</span>&lt;T&gt; = {
  [K <span class="hljs-keyword">in</span> keyof T]: T[K] <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Function</span> ? K : <span class="hljs-built_in">never</span>;
}[keyof T];

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Part</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-title function_">updatePart</span>(<span class="hljs-attr">newName</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span>;
  <span class="hljs-title function_">getPartName</span>(): <span class="hljs-built_in">string</span>;
}

<span class="hljs-comment">// Type 'FunctionNames' will be "updatePart" | "getPartName"</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">FunctionNames</span> = <span class="hljs-title class_">FunctionPropertyNames</span>&lt;<span class="hljs-title class_">Part</span>&gt;;
</code></pre>
<h2 data-id="heading-44">åã€ Node.jsä¸æœåŠ¡å™¨ç«¯</h2>
<p>Node.jsä¸ä»…æ˜¯â€œèƒ½åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œçš„JavaScriptâ€ï¼Œæ›´æ˜¯ä¸€ä¸ªåŸºäºäº‹ä»¶é©±åŠ¨ã€éé˜»å¡I/Oæ¨¡å‹çš„å¼ºå¤§è¿è¡Œæ—¶ç¯å¢ƒã€‚å¯¹å…¶æ ¸å¿ƒåŸç†ã€ç”Ÿæ€ç³»ç»ŸåŠæœ€ä½³å®è·µçš„æŒæ¡ï¼Œæ˜¯æ„å»ºé«˜æ€§èƒ½ã€é«˜å¹¶å‘ç½‘ç»œåº”ç”¨çš„åŸºç¡€ã€‚</p>
<h3 data-id="heading-45"><strong>1. Node.js æ ¸å¿ƒæ¨¡å‹</strong></h3>
<h4 data-id="heading-46"><strong>äº‹ä»¶é©±åŠ¨ &amp; éé˜»å¡I/O</strong></h4>
<ul>
<li>
<p>è¿™æ˜¯Node.jsæ€§èƒ½çš„åŸºçŸ³ã€‚ä¸ä¼ ç»Ÿçš„æ¯ä¸ªè¯·æ±‚ç‹¬å ä¸€ä¸ªçº¿ç¨‹çš„æ¨¡å‹ä¸åŒï¼ŒNode.jsåœ¨å•ä¸ªä¸»çº¿ç¨‹ä¸Šè¿è¡Œäº‹ä»¶å¾ªç¯ã€‚</p>
</li>
<li>
<p>å½“é‡åˆ°I/Oæ“ä½œï¼ˆå¦‚æ•°æ®åº“æŸ¥è¯¢ã€æ–‡ä»¶è¯»å†™ã€ç½‘ç»œè¯·æ±‚ï¼‰æ—¶ï¼ŒNode.jsä¸ä¼šç­‰å¾…å…¶å®Œæˆï¼Œè€Œæ˜¯å°†æ“ä½œå’Œå›è°ƒå‡½æ•°äº¤ç»™åº•å±‚ç³»ç»Ÿï¼ˆå¦‚libuvåº“ï¼‰ï¼Œç„¶åç»§ç»­å¤„ç†äº‹ä»¶é˜Ÿåˆ—ä¸­çš„å…¶ä»–äº‹ä»¶ã€‚</p>
</li>
<li>
<p>å½“I/Oæ“ä½œå®Œæˆåï¼Œå…¶å›è°ƒå‡½æ•°ä¼šè¢«æ”¾å›äº‹ä»¶é˜Ÿåˆ—ï¼Œç­‰å¾…äº‹ä»¶å¾ªç¯çš„ä¸‹ä¸€æ¬¡è½®è¯¢æ¥æ‰§è¡Œã€‚</p>
</li>
</ul>
<h5 data-id="heading-47"><strong>é€‚ç”¨åœºæ™¯</strong></h5>
<ul>
<li>è¿™ç§æ¨¡å‹ä½¿å¾—Node.jsæå…¶é€‚åˆå¤„ç†å¤§é‡å¹¶å‘è¿æ¥çš„<strong>I/Oå¯†é›†å‹</strong>åº”ç”¨ï¼Œå¦‚å®æ—¶èŠå¤©æœåŠ¡ã€APIç½‘å…³ã€å¾®æœåŠ¡ç­‰ã€‚</li>
</ul>
<p>ä½†å®ƒå¤©ç„¶ä¸é€‚åˆ<strong>CPUå¯†é›†å‹</strong>ä»»åŠ¡ï¼Œå› ä¸ºé•¿æ—¶é—´çš„è®¡ç®—ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Œå¯¼è‡´æ•´ä¸ªåº”ç”¨æ— å“åº”ã€‚</p>
<h3 data-id="heading-48"><strong>2. Webæ¡†æ¶ï¼šExpress &amp; Koa</strong></h3>
<p>è™½ç„¶Node.jså†…ç½®äº†<code>http</code>æ¨¡å—ï¼Œä½†ç›´æ¥ä½¿ç”¨å®ƒæ¥æ„å»ºå¤æ‚çš„Webåº”ç”¨æ˜¯ç¹çä¸”ä½æ•ˆçš„ã€‚Webæ¡†æ¶æä¾›äº†è·¯ç”±ã€ä¸­é—´ä»¶ã€æ¨¡æ¿å¼•æ“é›†æˆç­‰é«˜çº§æŠ½è±¡ã€‚</p>
<h4 data-id="heading-49"><strong>Express</strong></h4>
<p>äº‹å®ä¸Šçš„è¡Œä¸šæ ‡å‡†ï¼Œä»¥å…¶ç¨³å®šã€çµæ´»å’Œåºå¤§çš„ç¤¾åŒºç”Ÿæ€è€Œè‘—ç§°ã€‚å…¶æ ¸å¿ƒæ˜¯<strong>ä¸­é—´ä»¶(Middleware)</strong> æ¦‚å¿µâ€”â€”ä¸€ç³»åˆ—æŒ‰é¡ºåºå¤„ç†è¯·æ±‚çš„å‡½æ•°ã€‚</p>
<h4 data-id="heading-50"><strong>Koa</strong></h4>
<p>ç”±ExpressåŸç­äººé©¬æ‰“é€ ï¼Œè¢«è§†ä¸ºä¸‹ä¸€ä»£Node.js Webæ¡†æ¶ã€‚Koaçš„æ ¸å¿ƒæ˜¯åˆ©ç”¨<code>async/await</code>è¯­æ³•ï¼Œé€šè¿‡<strong>æ´‹è‘±æ¨¡å‹ (Onion Model)</strong> æ¥ç»„ç»‡ä¸­é—´ä»¶ï¼Œä½¿å¾—å¼‚æ­¥æµç¨‹æ§åˆ¶æ›´ä¸ºä¼˜é›…å’Œç›´è§‚ã€‚</p>
<h4 data-id="heading-51"><strong>ä»£ç ç¤ºä¾‹ (Expressä¸­é—´ä»¶ä¸è·¯ç”±)</strong></h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();

<span class="hljs-comment">// 1. åº”ç”¨çº§ä¸­é—´ä»¶ï¼šæ—¥å¿—è®°å½•å™¨</span>
<span class="hljs-comment">// è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ä¸­é—´ä»¶ï¼Œä¼šè®°å½•æ¯ä¸ªè¯·æ±‚çš„æ–¹æ³•ã€URLå’Œæ—¶é—´æˆ³ã€‚</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> now = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>();
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[<span class="hljs-subst">${now}</span>] <span class="hljs-subst">${req.method}</span> <span class="hljs-subst">${req.originalUrl}</span>`</span>);
  <span class="hljs-title function_">next</span>(); <span class="hljs-comment">// å…³é”®ï¼šè°ƒç”¨ next() å°†æ§åˆ¶æƒä¼ é€’ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶æˆ–è·¯ç”±å¤„ç†å™¨</span>
});

<span class="hljs-comment">// 2. å†…ç½®ä¸­é—´ä»¶ï¼šç”¨äºè§£æJSONæ ¼å¼çš„è¯·æ±‚ä½“</span>
app.<span class="hljs-title function_">use</span>(express.<span class="hljs-title function_">json</span>());

<span class="hljs-comment">// 3. è·¯ç”±å¤„ç†å™¨</span>
app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">'Welcome to the homepage!'</span>);
});

app.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/api/users'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  <span class="hljs-comment">// req.body æ˜¯ç”± express.json() ä¸­é—´ä»¶å¤„ç†åå¾—åˆ°çš„</span>
  <span class="hljs-keyword">const</span> newUser = req.<span class="hljs-property">body</span>;
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Creating new user:'</span>, newUser);
  <span class="hljs-comment">// ... åœ¨è¿™é‡Œæ‰§è¡Œæ•°æ®åº“æ’å…¥ç­‰æ“ä½œ ...</span>
  res.<span class="hljs-title function_">status</span>(<span class="hljs-number">201</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">id</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(), ...newUser });
});

<span class="hljs-comment">// 4. é”™è¯¯å¤„ç†ä¸­é—´ä»¶ (ç‰¹æ®Šçš„4ä¸ªå‚æ•°)</span>
<span class="hljs-comment">// åº”è¯¥æ”¾åœ¨æ‰€æœ‰ app.use() å’Œè·¯ç”±è°ƒç”¨çš„æœ€å</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-function">(<span class="hljs-params">err, req, res, next</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err.<span class="hljs-property">stack</span>);
  res.<span class="hljs-title function_">status</span>(<span class="hljs-number">500</span>).<span class="hljs-title function_">send</span>(<span class="hljs-string">'Something broke!'</span>);
});

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PORT</span> = <span class="hljs-number">3000</span>;
app.<span class="hljs-title function_">listen</span>(<span class="hljs-variable constant_">PORT</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Server is running on http://localhost:<span class="hljs-subst">${PORT}</span>`</span>);
});
</code></pre>
<h3 data-id="heading-52"><strong>3. Streams (æµ)</strong></h3>
<p>Streamæ˜¯Node.jsä¸­å¤„ç†æµå¼æ•°æ®çš„æŠ½è±¡æ¥å£ã€‚åœ¨å¤„ç†å¤§æ–‡ä»¶æˆ–å¤§é‡ç½‘ç»œæ•°æ®æ—¶ï¼Œä¸€æ¬¡æ€§å°†æ‰€æœ‰æ•°æ®è¯»å…¥å†…å­˜æ˜¯ä½æ•ˆä¸”å±é™©çš„ï¼ˆå¯èƒ½å¯¼è‡´å†…å­˜æº¢å‡ºï¼‰ã€‚Streamå…è®¸æˆ‘ä»¬ä»¥å°å—(chunks)çš„æ–¹å¼ã€è¾¹è¯»å–è¾¹å¤„ç†æ•°æ®ã€‚</p>
<h4 data-id="heading-53"><strong>å››ç§åŸºæœ¬ç±»å‹</strong></h4>
<ol>
<li>
<p><strong>Readable</strong>: å¯ä¾›è¯»å–æ•°æ®çš„æµ (å¦‚ <code>fs.createReadStream</code>)ã€‚</p>
</li>
<li>
<p><strong>Writable</strong>: å¯ä¾›å†™å…¥æ•°æ®çš„æµ (å¦‚ <code>fs.createWriteStream</code>, <code>http.ServerResponse</code>)ã€‚</p>
</li>
<li>
<p><strong>Duplex</strong>: æ—¢å¯è¯»åˆå¯å†™çš„æµ (å¦‚ <code>net.Socket</code>)ã€‚</p>
</li>
<li>
<p><strong>Transform</strong>: åœ¨è¯»å†™è¿‡ç¨‹ä¸­å¯ä»¥ä¿®æ”¹æˆ–è½¬æ¢æ•°æ®çš„Duplexæµ (å¦‚ <code>zlib.createGzip</code>)ã€‚</p>
</li>
</ol>
<h4 data-id="heading-54"><strong><code>pipe()</code>æ–¹æ³•</strong></h4>
<ul>
<li>æ˜¯è¿æ¥æµçš„æœ€ç®€å•æ–¹å¼ï¼Œå®ƒä¼šè‡ªåŠ¨å¤„ç†æ•°æ®ä»Readableæµåˆ°Writableæµçš„ä¼ è¾“ï¼Œå¹¶èƒ½å¦¥å–„å¤„ç†<strong>èƒŒå‹ (Back-pressure)</strong> é—®é¢˜ï¼ˆå³å†™å…¥é€Ÿåº¦è·Ÿä¸ä¸Šè¯»å–é€Ÿåº¦æ—¶ï¼Œè‡ªåŠ¨æš‚åœè¯»å–ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-55"><strong>ä»£ç ç¤ºä¾‹ (é«˜æ•ˆçš„æ–‡ä»¶æœåŠ¡å™¨):</strong></h4>
<p>ä»¥ä¸‹ä»£ç ä½¿ç”¨æµé«˜æ•ˆåœ°æä¾›ä¸€ä¸ªå¤§æ–‡ä»¶çš„ä¸‹è½½ï¼Œè€Œæ— éœ€å°†æ•´ä¸ªæ–‡ä»¶åŠ è½½åˆ°æœåŠ¡å™¨å†…å­˜ä¸­ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>);
<span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);

<span class="hljs-keyword">const</span> server = http.<span class="hljs-title function_">createServer</span>(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  <span class="hljs-comment">// å‡è®¾æˆ‘ä»¬è¦æä¾›ä¸€ä¸ªåä¸º 'large-video.mp4' çš„æ–‡ä»¶ä¸‹è½½</span>
  <span class="hljs-keyword">const</span> filePath = path.<span class="hljs-title function_">join</span>(__dirname, <span class="hljs-string">'large-video.mp4'</span>);

  <span class="hljs-comment">// æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span>
  fs.<span class="hljs-title function_">stat</span>(filePath, <span class="hljs-function">(<span class="hljs-params">err, stats</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (err) {
      res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">404</span>, { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'text/plain'</span> });
      <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">end</span>(<span class="hljs-string">'File not found.'</span>);
    }

    <span class="hljs-comment">// è®¾ç½®å“åº”å¤´</span>
    res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>, {
      <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'video/mp4'</span>,
      <span class="hljs-string">'Content-Length'</span>: stats.<span class="hljs-property">size</span>
    });

    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå¯è¯»æµ</span>
    <span class="hljs-keyword">const</span> readStream = fs.<span class="hljs-title function_">createReadStream</span>(filePath);

    <span class="hljs-comment">// å…³é”®ï¼šä½¿ç”¨ pipe() å°†æ–‡ä»¶æµç›´æ¥å¯¼å…¥åˆ°HTTPå“åº”æµ(res)</span>
    <span class="hljs-comment">// Node.js ä¼šè‡ªåŠ¨å¤„ç†æ•°æ®åˆ†å—ã€å‘é€ä»¥åŠèƒŒå‹æ§åˆ¶ã€‚</span>
    <span class="hljs-comment">// è¿™æ˜¯ä¸€ç§æå…¶é«˜æ•ˆä¸”å†…å­˜å‹å¥½çš„æ–¹å¼ã€‚</span>
    readStream.<span class="hljs-title function_">pipe</span>(res);

    <span class="hljs-comment">// ç›‘å¬é”™è¯¯äº‹ä»¶</span>
    readStream.<span class="hljs-title function_">on</span>(<span class="hljs-string">'error'</span>, <span class="hljs-function">(<span class="hljs-params">streamErr</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Stream Error:'</span>, streamErr);
      res.<span class="hljs-title function_">end</span>(); <span class="hljs-comment">// å‘ç”Ÿé”™è¯¯æ—¶å…³é—­è¿æ¥</span>
    });
  });
});

server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'File server listening on port 3000'</span>);
});
</code></pre>
<h3 data-id="heading-56"><strong>4. Child Processes (å­è¿›ç¨‹)</strong></h3>
<p>ä¸ºäº†è§£å†³CPUå¯†é›†å‹ä»»åŠ¡é˜»å¡ä¸»çº¿ç¨‹çš„é—®é¢˜ï¼ŒNode.jsæä¾›äº†<code>child_process</code>æ¨¡å—ï¼Œå…è®¸åˆ›å»ºå­è¿›ç¨‹æ¥æ‰§è¡Œè¿™äº›ä»»åŠ¡ã€‚</p>
<ul>
<li>
<p><strong><code>spawn()</code></strong> : å¯åŠ¨ä¸€ä¸ªæ–°è¿›ç¨‹ï¼Œä»¥æµçš„æ–¹å¼è¿›è¡ŒI/Oï¼Œé€‚åˆå¤„ç†å¤§é‡æ•°æ®ã€‚</p>
</li>
<li>
<p><strong><code>exec()</code></strong> : å¯åŠ¨ä¸€ä¸ªshellæ¥æ‰§è¡Œå‘½ä»¤ï¼Œå°†stdout/stderrç¼“å­˜èµ·æ¥ï¼Œåœ¨è¿›ç¨‹ç»“æŸæ—¶é€šè¿‡å›è°ƒä¸€æ¬¡æ€§è¿”å›ã€‚æœ‰å¤§å°é™åˆ¶ï¼Œé€‚åˆæ‰§è¡Œç®€å•çš„shellå‘½ä»¤ã€‚</p>
</li>
<li>
<p><strong><code>fork()</code></strong> : <code>spawn()</code>çš„ä¸€ä¸ªç‰¹æ®Šå˜ä½“ï¼Œä¸“é—¨ç”¨äºåˆ›å»ºæ–°çš„Node.jsè¿›ç¨‹ã€‚çˆ¶å­è¿›ç¨‹ä¹‹é—´ä¼šå»ºç«‹ä¸€ä¸ªIPC (Inter-Process Communication) é€šé“ï¼Œå…è®¸é€šè¿‡<code>.send()</code>å’Œ<code>.on('message', ...)</code>æ¥æ”¶å‘æ¶ˆæ¯ã€‚</p>
</li>
</ul>
<h4 data-id="heading-57"><strong>ä»£ç ç¤ºä¾‹ (ä½¿ç”¨<code>fork</code>å¤„ç†CPUå¯†é›†å‹è®¡ç®—):</strong></h4>
<p>å‡è®¾æˆ‘ä»¬éœ€è¦è¿›è¡Œä¸€ä¸ªè€—æ—¶çš„æ–æ³¢é‚£å¥‘æ•°åˆ—è®¡ç®—ã€‚</p>
<p><strong><code>parent.js</code> (ä¸»è¿›ç¨‹)</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> { fork } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'child_process'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Main process started.'</span>);

<span class="hljs-keyword">const</span> child = <span class="hljs-title function_">fork</span>(<span class="hljs-string">'./child.js'</span>); <span class="hljs-comment">// å¯åŠ¨å­è¿›ç¨‹</span>

<span class="hljs-keyword">const</span> numberToCompute = <span class="hljs-number">45</span>; <span class="hljs-comment">// ä¸€ä¸ªä¼šå¯¼è‡´æ˜¾è‘—è®¡ç®—è€—æ—¶çš„æ•°å­—</span>

<span class="hljs-comment">// ç›‘å¬å­è¿›ç¨‹å‘å›çš„æ¶ˆæ¯</span>
child.<span class="hljs-title function_">on</span>(<span class="hljs-string">'message'</span>, <span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Main process received result from child: Fibonacci(<span class="hljs-subst">${numberToCompute}</span>) = <span class="hljs-subst">${message.result}</span>`</span>);
});

<span class="hljs-comment">// å‘å­è¿›ç¨‹å‘é€ä»»åŠ¡</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Main process sending task to child: compute Fibonacci(<span class="hljs-subst">${numberToCompute}</span>).`</span>);
child.<span class="hljs-title function_">send</span>({ <span class="hljs-attr">number</span>: numberToCompute });

<span class="hljs-comment">// ä¸»è¿›ç¨‹å¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œä¸ä¼šè¢«è®¡ç®—é˜»å¡</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Main process continues to do other work...'</span>);
</code></pre>
<p><strong><code>child.js</code> (å­è¿›ç¨‹)</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fibonacci</span>(<span class="hljs-params">n</span>) {
  <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> n;
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">fibonacci</span>(n - <span class="hljs-number">1</span>) + <span class="hljs-title function_">fibonacci</span>(n - <span class="hljs-number">2</span>);
}

<span class="hljs-comment">// ç›‘å¬çˆ¶è¿›ç¨‹å‘æ¥çš„æ¶ˆæ¯</span>
process.<span class="hljs-title function_">on</span>(<span class="hljs-string">'message'</span>, <span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Child process received task from parent:'</span>, message);
  <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">fibonacci</span>(message.<span class="hljs-property">number</span>);

  <span class="hljs-comment">// è®¡ç®—å®Œæˆåï¼Œé€šè¿‡IPCé€šé“å°†ç»“æœå‘é€å›çˆ¶è¿›ç¨‹</span>
  process.<span class="hljs-title function_">send</span>({ result });

  <span class="hljs-comment">// å­è¿›ç¨‹å®Œæˆä»»åŠ¡åå¯ä»¥è‡ªè¡Œé€€å‡º</span>
  process.<span class="hljs-title function_">exit</span>();
});
</code></pre>
<p>é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒNode.jsåº”ç”¨èƒ½å¤Ÿå……åˆ†åˆ©ç”¨å¤šæ ¸CPUèµ„æºï¼Œå°†è®¡ç®—å¯†é›†å‹ä»»åŠ¡ offload åˆ°å­è¿›ç¨‹ï¼ŒåŒæ—¶ä¿æŒä¸»çº¿ç¨‹çš„å“åº”æ€§ï¼Œä»¥å¤„ç†é«˜å¹¶å‘çš„I/Oè¯·æ±‚ã€‚</p>
<h4 data-id="heading-58">ç»“è¯­</h4>
<blockquote>
<p>ä»¥ä¸Šæ˜¯JSé«˜çº§ç¯‡é¢è¯•è€ƒå¯Ÿç‚¹çš„å†…å®¹ï¼Œå¦‚æœ‰é”™è¯¯æ¬¢è¿è¯„è®ºåŒºæŒ‡æ­£ã€‚</p>
</blockquote>
<ul>
<li><a href="https://juejin.cn/post/7578705123209625643" target="_blank" title="https://juejin.cn/post/7578705123209625643">2025å‰ç«¯é¢è¯•é¢˜-JSåŸºç¡€ç¯‡</a></li>
<li><a href="https://juejin.cn/post/7579154364959342611" target="_blank" title="https://juejin.cn/post/7579154364959342611">2025å‰ç«¯é¢è¯•é¢˜-JSä¸­çº§ç¯‡</a></li>
<li><a href="https://juejin.cn/spost/7530179511728930856" target="_blank" title="https://juejin.cn/spost/7530179511728930856">2025å‰ç«¯é¢è¯•é¢˜-TSç†è®ºç¯‡</a></li>
<li><a href="https://juejin.cn/post/7533826195352829988" target="_blank" title="https://juejin.cn/post/7533826195352829988">2025å‰ç«¯é¢è¯•é¢˜-TSå®æˆ˜ç¯‡</a></li>
<li><a href="https://juejin.cn/post/7503111373468893193" target="_blank" title="https://juejin.cn/post/7503111373468893193">2025å‰ç«¯é¢è¯•é¢˜-Vue3åŸºç¡€ç¯‡</a></li>
<li><a href="https://juejin.cn/post/7511568225987051555" target="_blank" title="https://juejin.cn/post/7511568225987051555">2025å‰ç«¯é¢è¯•é¢˜-Vue3è¿›é˜¶ç¯‡</a></li>
<li><a href="https://juejin.cn/post/7503811658198286388" target="_blank" title="https://juejin.cn/post/7503811658198286388">2025å‰ç«¯é¢è¯•é¢˜-ReactåŸºç¡€ç¯‡</a></li>
<li><a href="https://juejin.cn/post/7504545616841965583" target="_blank" title="https://juejin.cn/post/7504545616841965583">2025å‰ç«¯é¢è¯•é¢˜-Reactè¿›é˜¶ç¯‡</a></li>
<li><a href="https://juejin.cn/post/7504926961627054099" target="_blank" title="https://juejin.cn/post/7504926961627054099">2025å‰ç«¯é¢è¯•é¢˜-Reacté«˜é˜¶ç¯‡</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€URPã€‘Unity[å†…ç½®Shader]ç²’å­éå…‰ç…§ParticlesUnlit]]></title>    <link>https://juejin.cn/post/7579904059524562970</link>    <guid>https://juejin.cn/post/7579904059524562970</guid>    <pubDate>2025-12-05T00:23:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579904059524562970" data-draft-id="7579889969985159219" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€URPã€‘Unity[å†…ç½®Shader]ç²’å­éå…‰ç…§ParticlesUnlit"/> <meta itemprop="keywords" content="æ¸¸æˆå¼€å‘,å›¾å½¢å­¦,Unity3D"/> <meta itemprop="datePublished" content="2025-12-05T00:23:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SmalBox"/> <meta itemprop="url" content="https://juejin.cn/user/2218166695237532"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€URPã€‘Unity[å†…ç½®Shader]ç²’å­éå…‰ç…§ParticlesUnlit
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2218166695237532/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SmalBox
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T00:23:49.000Z" title="Fri Dec 05 2025 00:23:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13021255.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13021255%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13021255.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13021255&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€ä»UnityURPå¼€å§‹æ¢ç´¢æ¸¸æˆæ¸²æŸ“ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong></p>
</blockquote>
<h2 data-id="heading-0"><strong>ä½œç”¨ä¸åŸç†</strong></h2>
<p>ParticlesUnlitæ˜¯Unityé€šç”¨æ¸²æŸ“ç®¡çº¿(URP)ä¸­ä¸“ä¸ºç²’å­ç³»ç»Ÿè®¾è®¡çš„æ— å…‰ç…§ç€è‰²å™¨ï¼Œæ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>â€Œ<strong>æ— å…‰ç…§è®¡ç®—</strong>â€Œï¼šè·³è¿‡å¤æ‚å…‰ç…§æ¨¡å‹ï¼Œä»…é€šè¿‡çº¹ç†å’Œé¡¶ç‚¹é¢œè‰²å®ç°é«˜æ•ˆæ¸²æŸ“ï¼Œé€‚åˆç«ç„°ã€çƒŸé›¾ç­‰ç‰¹æ•ˆã€‚</li>
<li>â€Œ<strong>æ··åˆæ¨¡å¼æ§åˆ¶</strong>â€Œï¼šæ”¯æŒAdditiveï¼ˆäº®åº¦å åŠ ï¼‰ã€Multiplyï¼ˆé¢œè‰²ç›¸ä¹˜ï¼‰ç­‰æ··åˆæ–¹å¼ï¼Œé€‚åº”ä¸åŒç²’å­æ•ˆæœéœ€æ±‚ã€‚</li>
<li>â€Œ<strong>æ€§èƒ½ä¼˜åŒ–</strong>â€Œï¼šé’ˆå¯¹ç§»åŠ¨è®¾å¤‡ä¼˜åŒ–ï¼Œå‡å°‘GPUè®¡ç®—è´Ÿæ‹…ã€‚</li>
<li>â€Œ<strong>ç²’å­ä¸“ç”¨åŠŸèƒ½</strong>â€Œï¼šæ”¯æŒç¿»é¡µåŠ¨ç”»(Flipbook)ã€è½¯ç²’å­(Soft Particles)å’Œç›¸æœºæ·¡å…¥æ·¡å‡º(Camera Fading)ç­‰ç‰¹æ€§ã€‚</li>
</ul>
<p>å…¶åŸç†åŸºäºé¡¶ç‚¹/ç‰‡å…ƒç€è‰²å™¨æ¶æ„ï¼Œé€šè¿‡ShaderLabè¯­è¨€ç»„ç»‡æ¸²æŸ“æµç¨‹ï¼Œåˆ©ç”¨GPUå¹¶è¡Œè®¡ç®—å¤„ç†ç²’å­æ•°æ®ã€‚</p>
<h2 data-id="heading-1"><strong>å‘å±•å†å²</strong></h2>
<ul>
<li>â€Œ<strong>Unity 5.xæ—¶æœŸ</strong>â€Œï¼šé¦–æ¬¡å¼•å…¥æ ‡å‡†ç²’å­ç€è‰²å™¨ï¼ŒåŒºåˆ†äºé€šç”¨Standard Shaderã€‚</li>
<li>â€Œ<strong>2019å¹´URPå‘å¸ƒ</strong>â€Œï¼šé‡æ„ä¸ºURPä¸“ç”¨ç‰ˆæœ¬ï¼Œæ•´åˆè®¡ç®—ç€è‰²å™¨æ”¯æŒï¼Œä¼˜åŒ–CommandBufferè°ƒåº¦ã€‚</li>
<li>â€Œ<strong>2020å¹´è‡³ä»Š</strong>â€Œï¼šæŒç»­å¢å¼ºåŠŸèƒ½ï¼Œå¦‚æ·±åº¦çº¹ç†äº¤äº’ã€OrthographicæŠ•å½±æ”¯æŒç­‰ã€‚</li>
</ul>
<h2 data-id="heading-2"><strong>å…·ä½“ä½¿ç”¨ç¤ºä¾‹</strong></h2>
<pre><code class="hljs language-c" lang="c">shader
Shader <span class="hljs-string">"Universal Render Pipeline/Particles/Unlit"</span>
{
    Properties {
        _BaseMap(<span class="hljs-string">"Base Texture"</span>, <span class="hljs-number">2</span>D) = <span class="hljs-string">"white"</span> {}
        [HDR] _BaseColor(<span class="hljs-string">"Base Color"</span>, Color) = (<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)
        _BlendMode(<span class="hljs-string">"Blend Mode"</span>, Float) = <span class="hljs-number">0</span> <span class="hljs-comment">// 0=Alpha, 1=Additive</span>
    }
    SubShader {
        Tags { <span class="hljs-string">"RenderType"</span>=<span class="hljs-string">"Transparent"</span> <span class="hljs-string">"Queue"</span>=<span class="hljs-string">"Transparent"</span> }
        Blend SrcAlpha OneMinusSrcAlpha
        Pass {
            HLSLPROGRAM
            <span class="hljs-meta">#<span class="hljs-keyword">pragma</span> vertex vert</span>
            <span class="hljs-meta">#<span class="hljs-keyword">pragma</span> fragment frag</span>
            <span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"Packages/com.unity.render-pipelines.universal/ShaderLibrary/Core.hlsl"</span></span>
            <span class="hljs-comment">// é¡¶ç‚¹/ç‰‡å…ƒç€è‰²å™¨å®ç°...</span>
            ENDHLSL
        }
    }
}
</code></pre>
<p>åº”ç”¨åœºæ™¯ï¼šåˆ›å»ºç«ç„°ç²’å­æ—¶ï¼Œè®¾ç½®Blend Modeä¸ºAdditiveï¼Œä½¿ç”¨HDRé¢œè‰²å¢å¼ºå‘å…‰æ•ˆæœã€‚</p>
<h3 data-id="heading-3"><strong>ç«ç„°/çƒŸé›¾æ•ˆæœ</strong></h3>
<ul>
<li>â€Œ<strong>æè´¨è®¾ç½®</strong>â€Œï¼šä½¿ç”¨é€æ˜æ··åˆæ¨¡å¼ï¼ˆBlending Modeé€‰æ‹©Alphaæˆ–Additiveï¼‰ï¼Œå¹¶åŠ è½½å¸¦æœ‰é€æ˜åº¦æ¸å˜çš„ç«ç„°è´´å›¾ã€‚</li>
<li>â€Œ<strong>é¢œè‰²æ§åˆ¶</strong>â€Œï¼šé€šè¿‡Color Modeå±æ€§å åŠ ç²’å­é¢œè‰²ä¸æè´¨é¢œè‰²ï¼Œä¾‹å¦‚é€‰æ‹©Additiveæ¨¡å¼å¢å¼ºäº®åº¦ã€‚</li>
<li>â€Œ<strong>é¡¶ç‚¹æ‰°åŠ¨</strong>â€Œï¼šåœ¨Shaderä¸­æ·»åŠ å™ªå£°èŠ‚ç‚¹æ‰°åŠ¨é¡¶ç‚¹åæ ‡ï¼Œæ¨¡æ‹Ÿç«ç„°åŠ¨æ€æ‰­æ›²ã€‚å®ç°ç¤ºä¾‹ï¼šåˆ›å»ºTransparentæè´¨ï¼ŒShaderé€‰URP/Particles/Unlitï¼Œè´´å›¾ä½¿ç”¨Alphaæ¸å˜çš„ç«ç„°çº¹ç†ï¼Œå¼€å¯Additiveæ··åˆã€‚</li>
</ul>
<h3 data-id="heading-4"><strong>é—ªç”µ/èƒ½é‡æŸæ•ˆæœ</strong></h3>
<ul>
<li>â€Œ<strong>æ‹–å°¾ä¸å™ªå£°</strong>â€Œï¼šå¯ç”¨Trailå’ŒNoiseæ¨¡å—ï¼Œè®¾ç½®é«˜é¢‘å™ªå£°å‚æ•°æ¨¡æ‹Ÿé—ªç”µåˆ†æ”¯ã€‚</li>
<li>â€Œ<strong>åŠ¨æ€å˜ç»†</strong>â€Œï¼šå‹¾é€‰Size over Lifetimeï¼Œæ›²çº¿è®¾ä¸º1åˆ°0ä½¿æœ«ç«¯é€æ¸æ¶ˆå¤±ã€‚</li>
<li>â€Œ<strong>é«˜äº®æè´¨</strong>â€Œï¼šä½¿ç”¨Unlit Transparent Shaderï¼Œæè´¨äº®åº¦å€¼è¶…è¿‡1ä»¥è§¦å‘Bloomå…‰æ™•ã€‚å®ç°ç¤ºä¾‹ï¼šç²’å­ç³»ç»Ÿå¯ç”¨Trailï¼Œæè´¨Shaderè®¾ä¸ºURP/Particles/Unlitï¼Œè´´å›¾ä¸ºçª„æ¸å˜æ¡çº¹ã€‚</li>
</ul>
<h3 data-id="heading-5"><strong>å¡é€šé£æ ¼ç²’å­</strong></h3>
<ul>
<li>â€Œ<strong>Rampè´´å›¾</strong>â€Œï¼šé€šè¿‡ç¨‹åºç”Ÿæˆæ¸å˜çº¹ç†æ§åˆ¶æ¼«åå°„é¢œè‰²åˆ†å±‚ï¼Œå®ç°é£æ ¼åŒ–ç€è‰²ã€‚</li>
<li>â€Œ<strong>ç¡¬è¾¹è£å‰ª</strong>â€Œï¼šå¯ç”¨Alpha Clippingå¹¶è®¾ç½®Thresholdï¼Œå®ç°å¡é€šåŒ–ç¡¬è¾¹ç¼˜ã€‚å®ç°ç¤ºä¾‹ï¼šä½¿ç”¨è„šæœ¬åŠ¨æ€ç”ŸæˆRampè´´å›¾ï¼ŒShaderä¸­é‡‡æ ·è´´å›¾æ§åˆ¶ç²’å­é¢œè‰²è¿‡æ¸¡ã€‚</li>
</ul>
<h3 data-id="heading-6"><strong>æ¶ˆè/æº¶è§£æ•ˆæœ</strong></h3>
<ul>
<li>â€Œ<strong>é¡¶ç‚¹è£å‰ª</strong>â€Œï¼šåŸºäºé¡¶ç‚¹Yåæ ‡ä¸é˜ˆå€¼æ¯”è¾ƒï¼Œé€šè¿‡Alpha Clipä¸¢å¼ƒåƒç´ ã€‚</li>
<li>â€Œ<strong>è¾¹ç¼˜å™ªå£°</strong>â€Œï¼šå åŠ Simple Noiseæ‰°åŠ¨è£å‰ªè¾¹ç•Œï¼Œå¢å¼ºé¢—ç²’æ„Ÿã€‚</li>
<li>â€Œ<strong>åŠ¨æ€æ··åˆ</strong>â€Œï¼šä½¿ç”¨æ»‘å—æ§åˆ¶æº¶è§£è¿›åº¦ï¼Œæ··åˆåŸå§‹é¢œè‰²ä¸è¾¹ç¼˜é«˜å…‰è‰²ã€‚å®ç°ç¤ºä¾‹ï¼šShader Graphä¸­è¿æ¥PositionèŠ‚ç‚¹Yåˆ†é‡ä¸StepèŠ‚ç‚¹ï¼Œé©±åŠ¨Alpha Clipå’Œé¢œè‰²æ··åˆã€‚</li>
</ul>
<h3 data-id="heading-7"><strong>é€šç”¨é…ç½®è¦ç‚¹</strong></h3>
<ul>
<li>â€Œ<strong>æ¸²æŸ“é¢</strong>â€Œï¼šæ ¹æ®éœ€æ±‚é€‰æ‹©Front Faceï¼ˆé»˜è®¤ï¼‰æˆ–Bothï¼ˆå¦‚æ ‘å¶ï¼‰ã€‚</li>
<li>â€Œ<strong>æ€§èƒ½ä¼˜åŒ–</strong>â€Œï¼šé¿å…è¿‡åº¦ä½¿ç”¨ç²’å­æ•°é‡ï¼Œä¼˜å…ˆé€šè¿‡æè´¨å’ŒShaderå¢å¼ºè¡¨ç°åŠ›ã€‚</li>
</ul>
<p>ä»¥ä¸Šæ•ˆæœå‡éœ€ç»“åˆParticle Systemç»„ä»¶è°ƒæ•´å‘å°„å‚æ•°ï¼ˆå¦‚å½¢çŠ¶ã€é€Ÿåº¦ï¼‰ä»¥å®ç°å®Œæ•´åŠ¨æ€ã€‚</p>
<h2 data-id="heading-8"><strong>Shader Graphåº”ç”¨ç¤ºä¾‹</strong></h2>
<ul>
<li>
<p>â€Œ<strong>åˆ›å»ºèŠ‚ç‚¹æµç¨‹</strong>â€Œï¼š</p>
<ul>
<li>æ·»åŠ Texture SampleèŠ‚ç‚¹è¯»å–ç²’å­è´´å›¾</li>
<li>ä½¿ç”¨Vertex ColorèŠ‚ç‚¹æ··åˆç²’å­é¢œè‰²</li>
<li>é€šè¿‡BlendèŠ‚ç‚¹æ§åˆ¶æ··åˆæ¨¡å¼ã€‚</li>
</ul>
</li>
<li>
<p>â€Œ<strong>å…³é”®èŠ‚ç‚¹é…ç½®</strong>â€Œï¼š</p>
<ul>
<li>[Particle Vertex Color] â†’ [Multiply] â† [Texture Sample]
â†“
[Blend] â†’ [Output]</li>
</ul>
<p>é€šè¿‡FlipbookèŠ‚ç‚¹å®ç°åºåˆ—å¸§åŠ¨ç”»ï¼Œé…åˆTimeèŠ‚ç‚¹æ§åˆ¶æ’­æ”¾é€Ÿåº¦ã€‚</p>
</li>
</ul>
<h2 data-id="heading-9"><strong>æ³¨æ„äº‹é¡¹</strong></h2>
<ul>
<li>ç§»åŠ¨ç«¯éœ€ç¦ç”¨Soft Particlesä»¥æå‡æ€§èƒ½ã€‚</li>
<li>æ­£äº¤ç›¸æœºéœ€ç‰¹æ®Šå¤„ç†æ·±åº¦æ¯”è¾ƒé€»è¾‘ã€‚</li>
<li>URPç‰ˆæœ¬å·®å¼‚å¯èƒ½å¯¼è‡´å‚æ•°å‘½åå˜åŒ–ï¼ˆå¦‚_BaseMapæ›¿ä»£_MainTexï¼‰</li>
</ul>
<hr/>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13021255.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13021255%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13021255.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13021255&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€ä»UnityURPå¼€å§‹æ¢ç´¢æ¸¸æˆæ¸²æŸ“ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong>
ï¼ˆæ¬¢è¿<em>ç‚¹èµç•™è¨€</em>æ¢è®¨ï¼Œæ›´å¤šäººåŠ å…¥è¿›æ¥èƒ½æ›´åŠ å®Œå–„è¿™ä¸ªæ¢ç´¢çš„è¿‡ç¨‹ï¼ŒğŸ™ï¼‰</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å…¨ç½‘æœ€é€šä¿—æ˜“æ‡‚DeepSeek-Math-V2ä¸DeepSeek-V3.2æ ¸å¿ƒçŸ¥è¯†ç‚¹è§£æ]]></title>    <link>https://juejin.cn/post/7579849892613373988</link>    <guid>https://juejin.cn/post/7579849892613373988</guid>    <pubDate>2025-12-05T00:34:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579849892613373988" data-draft-id="7578968420043554879" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å…¨ç½‘æœ€é€šä¿—æ˜“æ‡‚DeepSeek-Math-V2ä¸DeepSeek-V3.2æ ¸å¿ƒçŸ¥è¯†ç‚¹è§£æ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,DeepSeek,Agent"/> <meta itemprop="datePublished" content="2025-12-05T00:34:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§æ¨¡å‹çœŸå¥½ç©"/> <meta itemprop="url" content="https://juejin.cn/user/3140624091453053"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å…¨ç½‘æœ€é€šä¿—æ˜“æ‡‚DeepSeek-Math-V2ä¸DeepSeek-V3.2æ ¸å¿ƒçŸ¥è¯†ç‚¹è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3140624091453053/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§æ¨¡å‹çœŸå¥½ç©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T00:34:08.000Z" title="Fri Dec 05 2025 00:34:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ç¬”è€…æ–‡ç«  <a href="https://juejin.cn/post/7555687221233631278" target="_blank" title="https://juejin.cn/post/7555687221233631278">æ¶æ„å¤§çªç ´! DeepSeek-V3.2å‘å¸ƒï¼Œäº”åˆ†é’Ÿé€Ÿé€šDeepSeek-V3.2æ ¸å¿ƒç‰¹æ€§</a>ä¸ºå¤§å®¶ç³»ç»Ÿå‰–æäº†<strong>DeepSeek-V3.2</strong> å®éªŒç‰ˆçš„æ ¸å¿ƒç‰¹æ€§ï¼Œå¹¶é‡ç‚¹è§£è¯»äº†å…¶å¼€åˆ›æ€§æå‡ºçš„ä¸€é¡¹å…¨æ–°çš„æŠ€æœ¯ <strong>DeepSeek Sparse Attention</strong>ï¼ˆDeepSeekç¨€ç–æ³¨æ„åŠ›æœºåˆ¶ï¼‰ï¼Œç®€ç§°<strong>DSA</strong>ã€‚</p>
<p>ä¸¤ä¸ªæœˆåï¼Œ2025å¹´12æœˆ1æ—¥ DeepSeek-V3.2 æ­£å¼ç‰ˆé‡ç£…å‘å¸ƒï¼Œè¯¥ç‰ˆæœ¬åœ¨å®éªŒç‰ˆçš„åŸºç¡€ä¸Šï¼Œè¿›ä¸€æ­¥å¼•å…¥äº†<strong>å¯æ‰©å±•çš„GRPOè®­ç»ƒæ¡†æ¶</strong>ï¼Œå¹¶ç»“åˆ<strong>å¤§è§„æ¨¡åˆæˆAgentä»»åŠ¡æ•°æ®é›†</strong>ï¼Œé€šè¿‡æµ·é‡å¼ºåŒ–å­¦ä¹ åè®­ç»ƒï¼Œä½¿æ¨¡å‹æ€§èƒ½å®ç°å…¨é¢çªç ´ã€‚å…¶åœ¨æ•°å­¦ã€ç¼–ç¨‹åŠæ™ºèƒ½ä½“èƒ½åŠ›ç­‰æ–¹é¢çš„è¡¨ç°å‡æ˜¾è‘—é¢†å…ˆï¼Œå·²è·»èº«å…¨çƒé¡¶å°–å¤§æ¨¡å‹çš„ç¬¬ä¸€æ¢¯é˜Ÿã€‚</p>
<p>è€Œå°±åœ¨ä¸ä¹…ä¹‹å‰ï¼ŒDeepSeekè¿˜æ¨å‡ºäº†<strong>DeepSeek-Math-V2</strong>ã€‚è¯¥æ¨¡å‹é‡‡ç”¨äº†ä¸€ç§å…¨æ–°çš„è®­ç»ƒèŒƒå¼ï¼Œé€šè¿‡â€œå·¦å³äº’æã€è‡ªæˆ‘è¿­ä»£â€çš„æ–¹å¼æŒç»­è¿›åŒ–ï¼Œåœ¨CNMLï¼ˆä¸­å›½å…¨å›½é«˜ä¸­æ•°å­¦è”èµ›ï¼‰å’Œæ™®ç‰¹å—æ•°å­¦ç«èµ›ä¸­è¡¨ç°å“è¶Šï¼Œæˆç»©ç”šè‡³è¶…è¶Šäº†GPT-5-Thinkingç­‰ä¸€ç³»åˆ—å¼ºç«å“ã€‚</p>
<p>è¿‘æœŸDeepSeekè¿™ä¸¤å¤§åŠ¨ä½œå¯è°“éœ‡æ’¼äººå¿ƒï¼Œè®©å›½å†…å¤§æ¨¡å‹ç ”ç©¶è€…å€æ„Ÿéª„å‚²ã€‚ä½œä¸ºçˆ±å›½å¤§æ¨¡å‹åšä¸»ï¼Œç¬”è€…è‡ªç„¶ä¹Ÿæ˜¯è¦ç ”ç©¶ä¸€ä¸‹è¿™ä¸¤ä¸ªæ¨¡å‹çš„æ ¸å¿ƒæ€æƒ³ï¼Œä¸å°‘äººåæ˜ DeepSeek-Math-V2å’ŒDeepSeek-V3.2è®ºæ–‡ç¯‡å¹…è¾ƒé•¿ï¼Œé˜…è¯»å›°éš¾ã€‚æœ¬æœŸåˆ†äº«ç¬”è€…å°±ä½¿ç”¨é€šä¿—æ˜“æ‡‚çš„è¯­è¨€å¯¹DeepSeek-Math-V2ä¸DeepSeek-V3.2æ­£å¼ç‰ˆçš„æ ¸å¿ƒè®¾è®¡æ€æƒ³ä¸å…³é”®æŠ€æœ¯è¿›è¡Œæ·±å…¥è§£è¯»ï¼ŒåŠ›æ±‚æ¸…æ™°ç³»ç»Ÿåœ°å‘ˆç°å…¶åˆ›æ–°ä¹‹å¤„ä¸æŠ€æœ¯è„‰ç»œï¼Œæœ¬ç¯‡å†…å®¹å‚è€ƒäº†ç§˜å¡”æœç´¢å’ŒBç«™AI UPä¸»è§†é¢‘åˆ†æå¹¶è‡ªæˆ‘ç†è§£ï¼Œå¤§å®¶å¤šå¤šæŒ‡æ•™~</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d277ce1e1744a02ae5bc185bb8f1f98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765499647&amp;x-signature=4cEfUyrE7Y5njYcH7dp%2FoBQ2h4I%3D" alt="0.png" loading="lazy"/></p>
<h2 data-id="heading-1">ä¸€ã€DeepSeek-Math-V2ï¼šåŸºäºâ€œè‡ªæˆ‘åšå¼ˆâ€çš„æ•°å­¦æ¨ç†çªç ´</h2>
<p>å¦‚æœä¸€ä¸ªäººæ—¢æ˜¯è¿åŠ¨å‘˜ã€åŒæ—¶è¿˜æ˜¯è£åˆ¤ã€å¹¶ä¸”è¿˜æ˜¯è´Ÿè´£ç›‘ç£è£åˆ¤çš„è£åˆ¤ï¼ˆå¥—å¨ƒï¼‰ï¼Œå¹¶æœ€ç»ˆåœ¨è¿™ç§å·¦å³äº’æçš„å¾ªç¯ä¸­ä¸æ–­çªç ´èƒ½åŠ›æé™ï¼Œè¿™å¬èµ·æ¥ä¼¼ä¹æ˜¯ä¸€ç§æœªæ¥çš„äººç±»è¿›åŒ–èŒƒå¼ã€‚å¦‚ä»Šï¼ŒDeepSeek-Math-V2 æ¨¡å‹ç‡å…ˆå°†è¿™ä¸€æ„æƒ³å˜ä¸ºç°å®ã€‚å®ƒæå‡ºçš„<strong>è‡ªéªŒè¯æ•°å­¦æ¨ç†è®­ç»ƒæ³•</strong>ï¼Œé€šè¿‡è®©æ¨¡å‹â€œä¸€äººåˆ†é¥°ä¸‰è§’â€ï¼Œåœ¨è‡ªæˆ‘åšå¼ˆä¸­å®ç°äº†èƒ½åŠ›çš„æ— é™è¿›åŒ–ã€‚</p>
<p>å‡­å€Ÿè¿™ä¸€åˆ›æ–°è®­ç»ƒèŒƒå¼ï¼ŒDeepSeek-Math-V2çš„æ•°å­¦èƒ½åŠ›ä¸€è·¯é£å‡ã€‚åœ¨CNMLä¸­å›½å…¨å›½é«˜ä¸­æ•°å­¦è”èµ›çº§èµ›é¢˜ä¸Šï¼Œå¾—åˆ†ç¢¾å‹GPT-5æ¨¡å‹çš„Thinking-Highæ¨¡å¼ï¼Œåœ¨åŒ—ç¾æ°å‡ºå¤§å­¦ç”Ÿæ•°å­¦ç«èµ›ï¼Œæ™®ç‰¹å—æ•°å­¦ç«èµ›ä¸­ï¼ŒDeepSeek-Math-V2è§£å†³äº†12 é“é¢˜ç›®ä¸­çš„ 11 é“ï¼Œå–å¾—è¿‘ä¹æ»¡åˆ†çš„æˆç»©ï¼Œç”šè‡³è¶…è¶Šäº†ä»»ä½•äººç±»å‚èµ›è€…çš„å†å²æœ€é«˜åˆ†ï¼ˆ90åˆ†ï¼‰ã€‚</p>
<p>åœ¨è°·æ­ŒDeepMindæå‡ºçš„<strong>IMP-ProofBench</strong>æ•°æ®é›†ä¸Šï¼ŒDeepSeek-Math-V2åŒæ ·å–å¾—é‡‘ç‰Œçº§åˆ«æˆç»©ï¼Œå¤§å¹…é¢†å…ˆGemini Deep Thinkæ¨¡å‹ã€‚ Gemini DeepThinkæ¨¡å‹æ˜¯Gemini 3æ¨¡å‹çš„å¼ºåŒ–ç‰ˆï¼Œè¿˜åœ¨æµ‹è¯•é˜¶æ®µã€‚åè§‚DeepSeek-Math-V2 ç»§ç»­ç§‰æŒç€å¼€æºç­–ç•¥ã€‚</p>
<p>Mathæ¨¡å‹ä¸€è´¯è¢«è§†ä½œä¸‹ä¸€ä»£é€šç”¨æ¨¡å‹çš„åºç« ï¼Œé¥æƒ³DeepSeek-R1å°±æ˜¯ä½¿ç”¨äº†DeepSeek-Math-V1çš„GRPOç®—æ³•ï¼Œé‚£ç°åœ¨DeepSeek-Math-V2æå‡ºçš„<strong>è‡ªéªŒè¯è®­ç»ƒæ–¹æ³•</strong>æ˜¯å¦å°†æˆä¸ºæœªæ¥DeepSeek-R2è®­ç»ƒçš„åŸºçŸ³å‘¢ï¼Ÿ</p>
<h3 data-id="heading-2">1.1 æ ¸å¿ƒæ¶æ„ï¼šç”Ÿæˆå™¨ã€éªŒè¯å™¨å’Œå…ƒéªŒè¯å™¨ â€œä¸‰ä½ä¸€ä½“â€</h3>
<p>DeepSeekè®¤ä¸ºç›®å‰é˜»ç¢å¤§æ¨¡å‹æ™ºåŠ›è¿›ä¸€æ­¥å‘å±•çš„æ ¸å¿ƒå› ç´ åœ¨äºï¼šè®­ç»ƒæ¨¡å‹çš„è¿‡ç¨‹ä¸­è¿‡äºå¼ºè°ƒè®©æ¨¡å‹ç”Ÿæˆæ­£ç¡®çš„ç­”æ¡ˆï¼Œè€Œå¿½è§†ç­”æ¡ˆèƒŒåçš„æ¨ç†æˆ–è€…æ€è€ƒè¿‡ç¨‹æ˜¯å¦æ­£ç¡®ã€‚ä¸€ä¸ªå…¸å‹çš„ç°è±¡æ˜¯å¤§æ¨¡å‹å¯ä»¥åœ¨AIMEç­‰æœ‰æ ‡å‡†ç­”æ¡ˆçš„æ•°å­¦ç«èµ›ä¸­å–å¾—é«˜åˆ†ï¼Œä½†ä¸€æ—¦é¢å¯¹æ•°å­¦è¯æ˜é—®é¢˜ï¼Œå›ç­”å°±å˜å¾—ä¸€å¡Œç³Šæ¶‚ã€‚DeepSeekå›¢é˜Ÿåˆ†æè¾“å‡ºæ­£ç¡®ç­”æ¡ˆå¹¶ä¸æ„å‘³ç€æ¨¡å‹çš„æ¨å¯¼ä¹Ÿæ­£ç¡®ã€‚è¦æƒ³å¼ºåŒ–å¤§æ¨¡å‹çš„æ¨å¯¼èƒ½åŠ›ï¼Œå°±è¦ç”¨æ•°å­¦è¯æ˜é¢˜æ¥è®­ç»ƒå¤§æ¨¡å‹äº†ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a1138bd8464467d9176bea62c367792~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765499647&amp;x-signature=pmTWj3XnIWseS%2BUzpnwN819e43s%3D" alt="11.png" loading="lazy"/></p>
<p>ç„¶è€Œï¼Œå¦‚ä½•è¯„åˆ¤æ¨¡å‹å¯¹è¯æ˜é¢˜çš„è¾“å‡ºè´¨é‡å¥½åå‘¢ï¼ŸDeepSeek çš„è§£å†³æ–¹æ¡ˆæ˜¯æ„å»ºä¸€ä¸ªÂ <strong>è‡ªæˆ‘åšå¼ˆã€è‡ªä¸»å­¦ä¹ </strong>Â çš„è¿›åŒ–ç³»ç»Ÿã€‚è¯¥ç³»ç»ŸåŒ…å«ä¸‰ä¸ªæ¨¡å‹ï¼Œæ„æˆäº†ä¸€ä¸ªâ€œä¸‰ä½ä¸€ä½“â€çš„ååŒæ¶æ„ï¼š</p>
<ol>
<li><strong>ç”Ÿæˆå™¨</strong>ï¼šæ‰®æ¼”â€œå­¦ç”Ÿâ€è§’è‰²ï¼Œè´Ÿè´£è§£ç­”æ•°å­¦è¯æ˜é¢˜ï¼Œç”Ÿæˆå…·ä½“çš„è§£é¢˜è¿‡ç¨‹ã€‚</li>
<li><strong>éªŒè¯å™¨</strong>ï¼šæ‰®æ¼”â€œè€å¸ˆâ€è§’è‰²ï¼Œè´Ÿè´£è¯„ä¼°ç”Ÿæˆå™¨è§£é¢˜è¿‡ç¨‹çš„å¥½åï¼Œå¹¶ç»™å‡ºè¯„åˆ†ä¸è¯„è¯­ã€‚</li>
<li><strong>å…ƒéªŒè¯å™¨</strong>ï¼šæ‰®æ¼”â€œæ ¡é•¿â€è§’è‰²ï¼Œè´Ÿè´£è¯„ä¼°éªŒè¯å™¨è¯„åˆ†ä¸è¯„è¯­çš„åˆç†æ€§ï¼Œç¡®ä¿â€œè€å¸ˆâ€çš„è¯„åˆ¤æ ‡å‡†æ˜¯å¯é çš„ã€‚</li>
</ol>
<p>è¿™ä¸€æ¶æ„å¦‚åŒä¸€ä¸ªèƒ½å¤Ÿè‡ªæˆ‘è¿›åŒ–çš„å¾®å‹æ•™è‚²ç”Ÿæ€ç³»ç»Ÿï¼Œé€šè¿‡ä¸‰ä¸ªè§’è‰²çš„ç›¸äº’ç›‘ç£ä¸åšå¼ˆï¼Œæ¨åŠ¨æ•´ä½“æ¨ç†èƒ½åŠ›çš„èºæ—‹ä¸Šå‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60d2fd52bba541e39ae61d2fef6edacc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765499647&amp;x-signature=smmny8226VZAWE4u2wtpieCKis8%3D" alt="12.png" loading="lazy"/></p>
<h3 data-id="heading-3">1.2 è®­ç»ƒæµç¨‹ï¼šä»â€œä¸“å®¶å¼•å¯¼â€åˆ°â€œå®Œå…¨è‡ªè¿›åŒ–â€</h3>
<p>DeepSeek-Math-V2 çš„è®­ç»ƒåˆ†ä¸ºä¸¤ä¸ªä¸»è¦é˜¶æ®µï¼š<strong>å†·å¯åŠ¨ï¼ˆæœ‰ç›‘ç£ï¼‰é˜¶æ®µ</strong>Â ä¸Â <strong>è¿­ä»£è®­ç»ƒï¼ˆè‡ªè¿›åŒ–ï¼‰é˜¶æ®µ</strong>ã€‚</p>
<h3 data-id="heading-4">1.2.1 å†·å¯åŠ¨é˜¶æ®µï¼šæ„å»ºåˆå§‹èƒ½åŠ›åŸºåº§</h3>
<p>å†·å¯åŠ¨é˜¶æ®µDeepSeekå‡†å¤‡äº†17000å¤šæ¡æ•°æ®ï¼Œæ¯æ¡æ•°æ®åŒ…å«äº†æ•°å­¦è¯æ˜é¢˜ã€è§£é¢˜è¿‡ç¨‹å’Œäººç±»ä¸“å®¶å¯¹äºè§£é¢˜è¿‡ç¨‹çš„è¯„åˆ†ï¼Œè¯„åˆ†åˆ†ä¸º3æ¡£ï¼Œåˆ†åˆ«æ˜¯0åˆ†ã€0.5åˆ†å’Œ1åˆ†ã€‚å†·å¯åŠ¨é˜¶æ®µçš„ç›®æ ‡æ˜¯åœ¨å°‘é‡äººç±»ä¸“å®¶æ•°æ®çš„å¼•å¯¼ä¸‹ï¼Œä¸ºä¸‰ä¸ªè§’è‰²èµ‹äºˆåˆå§‹çš„ä¸“ä¸šèƒ½åŠ›ã€‚åˆå§‹çš„ç”Ÿæˆå™¨ã€éªŒè¯å™¨å’Œå…ƒéªŒè¯å™¨æœ€å¼€å§‹éƒ½æ˜¯DeepSeek-V3.2æ¨¡å‹çš„ä¸€ä¸ªå¾®è°ƒç‰ˆæœ¬ã€‚</p>
<p><strong>ç¬¬ä¸€æ­¥ï¼šè®­ç»ƒâ€œè€å¸ˆâ€ï¼ˆéªŒè¯å™¨ï¼‰</strong><br/>
åœ¨è¿™ä¸‰ä¸ªæ¨¡å‹çš„ååŒç³»ç»Ÿä¸­ï¼Œæœ€é‡è¦çš„æ˜¯éªŒè¯å™¨ï¼Œåªæœ‰é«˜æ°´å¹³è€å¸ˆæ‰èƒ½æ•™å‡ºé«˜æ°´å¹³å­¦ç”Ÿã€‚é¦–å…ˆï¼Œé€šè¿‡GRPOç®—æ³•è®©éªŒè¯å™¨å­¦ä¼šå¯¹ä¸åŒç±»å‹é¢˜ç›®è¿›è¡Œæ‰“åˆ†ï¼Œå¹¶ä¸”å’ŒR1æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ç±»ä¼¼ï¼Œåœ¨éªŒè¯å™¨è®­ç»ƒè¿‡ç¨‹ä¸­ä¼šè®¾ç½®æ ¼å¼å¥–åŠ±ä½¿éªŒè¯å™¨ç”Ÿæˆæ¯ä¸ªæ•°å­¦è¯æ˜è¿‡ç¨‹çš„è¯„ä»·æ–‡æœ¬ï¼Œç›¸å½“äºè®©éªŒè¯å™¨å­¦ä¼šå†™è§£é¢˜è¯„åˆ†çš„è¯„è¯­ï¼Œä¹Ÿå°±æ˜¯è§£é¢˜è¯„åˆ†çš„æ€è€ƒé“¾ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39a082e69a5b472b8125883e8e91c5a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765499647&amp;x-signature=d1BxNvFBLaWkAxAEUEtH4CfCmxg%3D" alt="13.png" loading="lazy"/></p>
<p><strong>ç¬¬äºŒæ­¥ï¼šè®­ç»ƒâ€œæ ¡é•¿â€ï¼ˆå…ƒéªŒè¯å™¨ï¼‰</strong></p>
<p>ä¹‹æ‰€ä»¥è¦æ­å»ºè¿™ä¸‰ä¸ªæ¨¡å‹çš„è®­ç»ƒç³»ç»Ÿæ˜¯å¸Œæœ›æ¨¡å‹é¿å…å¥—ç­”æ¡ˆè€Œèƒ¡ç¼–ä¹±é€ æ€è€ƒè¿‡ç¨‹ï¼ŒåŒæ ·é—®é¢˜ä¹Ÿä¼šå‡ºç°åœ¨éªŒè¯å™¨çš„è®­ç»ƒä¸­ï¼ŒéªŒè¯å™¨åˆè®­åï¼Œå¯èƒ½ä¸ºäº†è¿åˆè¯„åˆ†è€Œç¼–é€ ä¸é è°±çš„è¯„è¯­ã€‚</p>
<p>ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒDeepSeekå…ˆå‡†å¤‡äº†ä¸€äº›æµ‹è¯•é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯è¾“å…¥äº†ä¸€äº›æ•°å­¦è¯æ˜é¢˜å’Œè¯æ˜è¿‡ç¨‹ï¼Œè®©éªŒè¯å™¨æ‰“åˆ†å¹¶ç»™å‡ºè¯„åˆ†æ–‡æœ¬ï¼Œç„¶åè®©äººç±»ä¸“å®¶å¯¹éªŒè¯å™¨ç»™å‡ºçš„ç»“æœå®¡æ ¸è¯„åˆ†ï¼ŒåŒæ ·æ˜¯0åˆ†ï¼Œ0.5åˆ†ï¼Œ1åˆ†ï¼Œç”¨äºåˆ¤æ–­éªŒè¯å™¨çš„è¯„ä»·æ˜¯å¦é è°±ã€‚ä½†äººç±»ä¸å¯èƒ½æ— ä¼‘æ­¢çš„é™ªè·‘ã€‚DeepSeekæ­¤æ—¶å°±å¼€å¯äº†å¥—å¨ƒæ¨¡å¼ï¼Œè®­ç»ƒäº†ä¸€ä¸ªä¸“é—¨ç”¨äº<strong>è¯„ä¼°éªŒè¯å™¨çš„éªŒè¯å™¨</strong>å¯¹éªŒè¯å™¨çš„è¯„è¯­æ‰“åˆ†ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„å…ƒéªŒè¯å™¨ã€‚</p>
<p>å’ŒéªŒè¯å™¨è®­ç»ƒæµç¨‹é«˜åº¦ç±»ä¼¼ï¼Œå…ƒéªŒè¯å™¨çš„è®­ç»ƒåŒæ ·æ˜¯é‡‡ç”¨GRPOç®—æ³•ä»£å…¥æ•°å­¦é¢˜+è§£é¢˜è¿‡ç¨‹+éªŒè¯å™¨å¯¹è§£é¢˜è¿‡ç¨‹çš„è¯„è¯­ï¼Œå¼ºåŒ–å­¦ä¹ ç›®æ ‡æ˜¯è®©å…ƒéªŒè¯å™¨å­¦ä¼šå¯¹éªŒè¯å™¨è¯„è¯­è¿›è¡Œæ‰“åˆ†ï¼Œé€šè¿‡è®¾ç½®æ ¼å¼å¥–åŠ±ä½¿å…¶ç”Ÿæˆå¯¹éªŒè¯å™¨è¯„è¯­çš„è¯„è¯­ï¼Œç›´è§‚è¡¨è¿°å°±æ˜¯æ ¡é•¿åˆ¤æ–­è€å¸ˆæ”¹å·å­çš„æ€è·¯æœ‰æ²¡æœ‰é—®é¢˜ã€‚</p>
<p>å½“ç„¶è¿™æ—¶å€™æœ‰åŒå­¦å°±ä¼šç–‘é—®ï¼Œé‚£è¿™ä¸ªå¯¹éªŒè¯å™¨è¯„åˆ†çš„å…ƒéªŒè¯å™¨æ˜¯ä¸æ˜¯ä¹Ÿéœ€è¦è¢«ç›‘ç£ï¼Œè¿™æ ·å±‚å±‚å¥—å¨ƒå•¥æ—¶å€™æ˜¯ä¸ªå¤´ï¼Ÿè¿™é‡ŒDeepSeekè®¤ä¸ºæ²¡æœ‰å¿…è¦åµŒå¥—äº†ï¼Œç°åœ¨å·²ç»åµŒå¥—äº†ä¸‰å±‚äº†ï¼Œä½œä¸ºæœ€é¡¶å±‚çš„å…ƒå­¦ä¹ å™¨ï¼Œå®ƒçš„ä»»åŠ¡å…¶å®æ˜¯è¶Šæ¥è¶Šè½»äº†ã€‚æ¯•ç«Ÿæ ¡é•¿ä¸ç”¨ä¸Šè¯¾ï¼Œåªéœ€è¦ç®¡ç®¡è€å¸ˆå°±å¯ä»¥äº†ã€‚å› æ­¤DeepSeekå‘ç°å¯¹äºå…ƒå­¦ä¹ å™¨æ¥è¯´å¾€å¾€è®­ç»ƒä¸€è½®å°±èƒ½è·å¾—å¾ˆé«˜çš„å‡†ç¡®ç‡ã€‚å½“å…ƒéªŒè¯å™¨å®Œæˆè¿™è½®è®­ç»ƒåï¼ŒDeepSeekç«‹é©¬ä½¿ç”¨å…ƒéªŒè¯å™¨å¯¹éªŒè¯å™¨è¿›è¡Œå†æ¬¡è®­ç»ƒï¼Œä»¥å…ƒéªŒè¯å™¨çš„è¾“å‡ºç»“æœä½œä¸ºå¥–åŠ±ä¿¡å·ï¼Œè®­ç»ƒå¾—åˆ°ä¸€ä¸ªå¢å¼ºç‰ˆçš„éªŒè¯å™¨ï¼Œè¿›ä¸€æ­¥æå‡äº†éªŒè¯å™¨èƒ½åŠ›ã€‚</p>
<p>(è¿™é‡Œæ’ä¸ªé¢˜å¤–è¯ï¼Œæ„Ÿè§‰è®¡ç®—æœºé¢†åŸŸå¹¸è¿æ•°å­—é™¤äº†2å°±æ˜¯3äº†ï¼Œ3ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„æ•°å­—ï¼Œä¾‹å¦‚3æ¬¡æ¡æ‰‹ï¼Œè¿™ä¹ˆä¸€çœ‹è‹è”çš„3è¿›åˆ¶è®¡ç®—æœºæ˜¯ä¸æ˜¯ä¹Ÿå¾ˆæœ‰æå¤´)</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28a1742839124e3baf494767b3ac8fec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765499647&amp;x-signature=AGFBxPe80lDk260mtGFojjs0rIE%3D" alt="14.png" loading="lazy"/></p>
<p><strong>ç¬¬ä¸‰æ­¥ï¼šè€å¸ˆ(éªŒè¯å™¨)æŒ‡å¯¼å­¦ç”Ÿ(ç”Ÿæˆå™¨)</strong></p>
<p>æ¥ä¸‹æ¥å°±ä»¥å¢å¼ºç‰ˆéªŒè¯å™¨çš„è¯„åˆ¤æ ‡å‡†ä½œä¸ºå¥–åŠ±ä¿¡å·ï¼Œä½¿ç”¨ GRPO ç®—æ³•è®­ç»ƒç”Ÿæˆå™¨ã€‚ä½†æ¯”è¾ƒç‰¹æ®Šçš„æ˜¯ï¼Œç”Ÿæˆå™¨ç”Ÿæˆçš„å†…å®¹ä¸ä»…ä»…æ˜¯è¯æ˜è¿‡ç¨‹ï¼Œè¿˜è¦è¾“å‡ºä¸€æ®µå¯¹è¯æ˜è¿‡ç¨‹çš„è‡ªæˆ‘è¯„ä»·ï¼Œç›¸å½“äºè‡ªå·±ç»™è‡ªå·±å†™ä¸€æ®µè¯„è¯­ã€‚éªŒè¯å™¨åœ¨å¯¹ç”Ÿæˆå™¨è¿›è¡Œè¯„ä¼°æ—¶ä¹Ÿæ˜¯é€šè¿‡ä¸¤ä¸ªæ–¹é¢ï¼Œä¸€ä¸ªæ–¹é¢æ˜¯åˆ¤æ–­è¯æ˜è¿‡ç¨‹æ˜¯å¦æ­£ç¡®ï¼Œå¦ä¸€æ–¹é¢æ˜¯å…ƒéªŒè¯å™¨å’ŒéªŒè¯å™¨åŒæ—¶å‚ä¸è¯„åˆ†ï¼ŒéªŒè¯å™¨å¯¹ç”Ÿæˆå™¨ç”Ÿæˆçš„è¯æ˜è¿‡ç¨‹è¯„åˆ†ï¼Œå…ƒéªŒè¯å™¨å¯¹ç”Ÿæˆå™¨ç”Ÿæˆçš„è‡ªæˆ‘è¯„ä»·è¯„åˆ†ã€‚ç„¶åå°†è§£é¢˜è¿‡ç¨‹æ­£ç¡®æ€§å’Œè‡ªæˆ‘è¯„ä»·åˆç†æ€§ä»¥3ï¼š1çš„æ¯”ä¾‹åŠ æƒè·å¾—å¥–åŠ±ä¿¡å·ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21f0bc17d4e446199eeed7511bafab99~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765499647&amp;x-signature=zuYoVgODFtRMMQZxNB6woiPMeEg%3D" alt="15.png" loading="lazy"/></p>
<p>æ€»ç»“ä»¥ä¸Šè¿‡ç¨‹å°±æ˜¯ï¼šå…ˆç»ƒè€å¸ˆï¼Œå†ç»ƒæ ¡é•¿ï¼Œæ ¡é•¿è°ƒæ•™è€å¸ˆï¼Œè€å¸ˆå’Œæ ¡é•¿ä¸€èµ·è°ƒæ•™å­¦ç”Ÿçš„å››æ­¥èµ°æˆ˜ç•¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d23a3c68f41241e2ba72a653cf3d9788~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765499647&amp;x-signature=9ObjeJozPODw%2B%2FCk9Ti1Xur4O44%3D" alt="16.png" loading="lazy"/></p>
<p><strong>ç¬¬å››æ­¥ï¼šèƒ½åŠ›èåˆä¸å·©å›ºï¼ˆRFTç®—æ³•ï¼‰</strong></p>
<p>å†·å¯åŠ¨çš„æœ€åä¸€æ­¥æ˜¯Â <strong>RFTï¼ˆRejection Fine-Tuningï¼Œæ‹’ç»é‡‡æ ·å¾®è°ƒï¼‰</strong> ï¼Œè¿™æ˜¯ä¸€ä¸ªç”»é¾™ç‚¹ç›çš„è®¾è®¡ã€‚å…¶æ ¸å¿ƒç›®çš„æ˜¯å°†ä¸‰ä¸ªè§’è‰²åœ¨å¼ºåŒ–å­¦ä¹ æ¢ç´¢ä¸­ç§¯ç´¯çš„â€œæ»¡åˆ†ç»éªŒâ€èåˆåˆ°ä¸€ä¸ªå•ä¸€æ¨¡å‹ä¸­ï¼Œå½¢æˆä¸€ä¸ªå…·å¤‡åšé¢˜ã€æ”¹é¢˜ã€ç£å¯¼ä¸‰é‡èƒ½åŠ›çš„Â <strong>å…¨èƒ½åŸºåº§æ¨¡å‹</strong>ï¼Œä¸ºåç»­çš„è‡ªè¿›åŒ–å¾ªç¯æ‰“ä¸‹åšå®åŸºç¡€ã€‚ç»è¿‡éªŒè¯ï¼Œåˆå¹¶åçš„æ¨¡å‹åœ¨åšé¢˜ã€æ”¹é¢˜å’Œç›‘ç£èƒ½åŠ›ä¸Šéƒ½æœ‰æå‡ã€‚</p>
<p>RFTçš„å…·ä½“åˆå¹¶æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>ç¬¬ä¸€æ­¥ï¼Œå¯¹æ•°æ®é›†è¿›è¡Œè‡ªåŠ¨åŒ–æ ‡æ³¨ï¼Œè¿™é‡Œå†æ¬¡å°†ä¸“å®¶æ•°æ®é›†ä»£å…¥åˆ°ç”Ÿæˆå™¨ä¸­ï¼Œç”Ÿæˆå™¨ä¼šåˆ›å»ºä¸€ä¸ªè¯æ˜è¿‡ç¨‹+è‡ªæˆ‘è¯„è¯­ï¼ŒåŒæ—¶è®©éªŒè¯å™¨å¯¹æ¯ä¸€æ¡è¯æ˜ç»“æœéƒ½åˆ›å»ºnä¸ªç‹¬ç«‹çš„è¯„åˆ†å’Œè¯„è¯­ã€‚ç„¶ååªè¦åœ¨nä¸ªè¯„åˆ†ä¸­å­˜åœ¨0.5åˆ†æˆ–è€…0åˆ†è¿™ç§å·®è¯„ï¼Œç³»ç»Ÿå°±è‡ªåŠ¨è®©å…ƒéªŒè¯å™¨å¯¹æ¯ä¸€æ¡å·®è¯„è¿›è¡Œmæ¬¡çš„ç‹¬ç«‹éªŒè¯ï¼Œåªè¦è¶…è¿‡åŠæ•°çš„å…ƒéªŒè¯å™¨è§‰å¾—éªŒè¯å™¨çš„å·®è¯„æ˜¯å¯¹çš„ï¼Œé‚£ä¹ˆå°±è®¤å®šæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å·®è¯„ã€‚è€Œå¦‚æœå¯¹ä¸€ä¸ªè§£é¢˜è¿‡ç¨‹ä¸­æœ‰3æ¬¡ï¼ˆå¯ä»¥äººå·¥è®¾ç½®ï¼‰çš„å·®è¯„ï¼Œåˆ™æœ¬æ¬¡è¯æ˜ç»™äºˆ0åˆ†æˆ–0.5åˆ†ï¼Œåä¹‹ç»™äºˆ1åˆ†ã€‚è¿™äº›ä¸åˆ°1åˆ†çš„æ•°æ®è¢«ç§°ä¸º<strong>é‡‡æ ·æ•°æ®</strong>ï¼Œè€Œæ»¡åˆ†æ•°æ®è¢«ç§°ä¸º<strong>æ‹’ç»é‡‡æ ·æ•°æ®</strong>ã€‚æ¥ä¸‹æ¥å°†æ‹’ç»é‡‡æ ·æ•°æ®ä»£å…¥å¯¹éªŒè¯å™¨æ¨¡å‹è¿›è¡Œè®­ç»ƒï¼Œè¿™ä¸ªè‡ªåŠ¨æŒ‘é€‰æ•°æ®çš„è¿‡ç¨‹å°±è¢«ç§°ä¸ºè‡ªåŠ¨åŒ–æ ‡æ³¨ã€‚</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1f3e3791e00b494d89d66977b07066dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765499647&amp;x-signature=%2BRKNbgoy%2B0iOgKtKHyKH0Tko1b4%3D" alt="18.png" loading="lazy"/></p>
<ol start="2">
<li>
<p>ç¬¬äºŒæ­¥å¸¦å…¥æ‹’ç»é‡‡æ ·æ•°æ®æ¥è¿›è¡Œæœ‰ç›‘ç£å¾®è°ƒç®—æ³•ï¼Œè¿™ä¸€æ­¥çš„æœ¬è´¨æ˜¯è®©æ¨¡å‹æŠŠå¼ºåŒ–å­¦ä¹ ä¸­åšå¯¹çš„é¢˜å½»åº•è®°ä½ï¼Œç›¸å½“äºå·©å›ºå…ˆå‰ç»éªŒã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œå¯¹èåˆæ¨¡å‹è®­ç»ƒçš„æ•°æ®è¢«åˆ†ä¸ºä¸‰ç±»ï¼šä¸€ç±»æ˜¯ç”±éªŒè¯å™¨äº§ç”Ÿçš„1åˆ†æ•°æ®ï¼Œè¾“å…¥æ˜¯æ•°å­¦é¢˜+è¯æ˜è¿‡ç¨‹+è‡ªæˆ‘è¯„ä»·ï¼Œè€Œè¾“å‡ºæ˜¯è€å¸ˆè¯„ä»·+è¯„åˆ†ï¼Œç¬¬äºŒç±»æ˜¯ç”±ç”Ÿæˆå™¨äº§ç”Ÿçš„1åˆ†æ•°æ®ï¼Œè¾“å…¥æ˜¯æ•°å­¦é¢˜ï¼Œè¾“å‡ºæ˜¯è¯æ˜è¿‡ç¨‹+è‡ªæˆ‘è¯„ä»·ï¼Œç¬¬ä¸‰ç±»æ˜¯ç”±å…ƒéªŒè¯å™¨äº§ç”Ÿçš„1åˆ†æ•°æ®ï¼Œè¾“å…¥æ—¶æ•°å­¦é¢˜+è¯æ˜è¿‡ç¨‹+è€å¸ˆè¯„ä»·ï¼Œè¾“å‡ºæ˜¯å¯¹è€å¸ˆè¯„ä»·çš„è¯„ä»·+è€å¸ˆè¯„ä»·è´¨é‡æ‰“åˆ†è¯„åˆ†ï¼Œè¿™ç§æ··åˆæ•°æ®é›†çš„æ„æˆä½¿å¾—ç”Ÿæˆå™¨åŒæ—¶å…·å¤‡ç­”é¢˜ã€æ”¹é¢˜å’Œç£å¯¼ä¸‰ç§æ¨¡å¼ï¼Œå˜æˆä¸‰åˆä¸€çš„å¤§æ¨¡å‹ã€‚ä¸æ­¤åŒæ—¶è¯¥æ¨¡å‹å°±æˆä¸ºäº†ä¸‹ä¸€æ­¥éª¤çš„åŸºåº§æ¨¡å‹ã€‚</p>
<p>è¿™ä¸ªè®­ç»ƒæ€è·¯ç†è§£èµ·æ¥éå¸¸ç®€å•ï¼Œæœ¯ä¸šæœ‰ä¸“æ”»ï¼Œå¼ºåŒ–å­¦ä¹ çš„æ¢ç´¢è¿‡ç¨‹å¾€å¾€è®©ç”Ÿæˆèƒ½åŠ›å’ŒéªŒè¯èƒ½åŠ›åœ¨å‚æ•°ç©ºé—´ä¸Šæ¸è¡Œæ¸è¿œï¼Œè€Œé€šè¿‡RFTæˆ‘ä»¬å°†ä¸¤è€…åœ¨æ¢ç´¢ä¸­ç§¯ç´¯çš„â€œæ»¡åˆ†ç»éªŒâ€ç†”å…¥ä¸€ä¸ªæ¨¡å‹ä¸­ï¼Œè¿™æ ·ä¸ä»…é¿å…äº†ç»´æŠ¤å¤šä¸ªæ¨¡å‹çš„å‰²è£‚ï¼Œä¹Ÿè®©ä¸‹ä¸€è½®è¿­ä»£æ¨¡å‹çš„å‡ºä¸–æ¨¡å‹ç›´æ¥ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šï¼Œç§°ä¸ºä¸€ä¸ªåŒæ—¶å…·å¤‡æœ€å¼ºåšé¢˜èƒ½åŠ›å’Œæœ€å¼ºæ”¹é¢˜èƒ½åŠ›çš„â€œå…¨èƒ½åŸºåº§â€ï¼Œåˆ°æ­¤æ¨¡å‹å†·å¯åŠ¨é˜¶æ®µå°±å®Œæˆäº†ã€‚</p>
</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e9c5b0c3e4142feb8cf22e873c0a3c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765499647&amp;x-signature=HwCsyW66ZzxWlCr7SopWHVGdksc%3D" alt="19.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/174551dda08142829b50a1f2c6ba90e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765499647&amp;x-signature=PJGjEx9AWAj8p97w7ZkOhy1hqcM%3D" alt="20.png" loading="lazy"/></p>
<h4 data-id="heading-5">1.2.2 è¿­ä»£è®­ç»ƒé˜¶æ®µï¼šå¼€å¯å…¨è‡ªåŠ¨è‡ªè¿›åŒ–å¾ªç¯</h4>
<p>å†·å¯åŠ¨é˜¶æ®µå®Œæˆåï¼Œç³»ç»Ÿä¾¿è¿›å…¥å¯å®Œå…¨è„±ç¦»äººç±»æ ‡æ³¨çš„Â <strong>è‡ªè¿›åŒ–å¾ªç¯</strong>ã€‚</p>
<ol>
<li><strong>è‡ªåŠ¨åŒ–æ•°æ®ç”Ÿäº§ä¸æ ‡æ³¨</strong>ï¼šå°†æ–°çš„ã€æ— æ ‡ç­¾çš„æ•°å­¦é—®é¢˜è¾“å…¥ç³»ç»Ÿï¼Œå¤ç”¨å†·å¯åŠ¨é˜¶æ®µçš„è‡ªåŠ¨åŒ–æ ‡æ³¨æµç¨‹ï¼ˆç”Ÿæˆå™¨ç”Ÿæˆ â†’ éªŒè¯å™¨Næ¬¡è¯„åˆ† â†’ å…ƒéªŒè¯å™¨Mæ¬¡éªŒè¯ï¼‰ï¼Œäº§å‡ºä¸€æ‰¹å¸¦æœ‰è´¨é‡æ ‡ç­¾ï¼ˆ0/0.5/1åˆ†ï¼‰çš„æ–°æ•°æ®ã€‚</li>
<li><strong>è®­ç»ƒâ€œè€å¸ˆâ€</strong> ï¼šåˆ©ç”¨æ–°äº§å‡ºçš„å…¨é‡æ•°æ®ï¼ˆåŒ…å«æ­£ä¾‹å’Œåä¾‹ï¼‰å¯¹éªŒè¯å™¨è¿›è¡Œ GRPO è®­ç»ƒï¼Œæå‡å…¶é‰´åˆ«èƒ½åŠ›ã€‚</li>
<li><strong>è®­ç»ƒâ€œå­¦ç”Ÿâ€</strong> ï¼šç”¨å¢å¼ºåçš„éªŒè¯å™¨ä½œä¸ºè£åˆ¤ï¼Œå¯¹ç”Ÿæˆå™¨è¿›è¡Œ GRPO è®­ç»ƒï¼Œä½¿å…¶ç”Ÿæˆæ›´ä¼˜çš„è§£é¢˜æ–¹æ¡ˆã€‚</li>
<li><strong>æ–°ä¸€è½®èåˆ</strong>ï¼šæ”¶é›†æœ¬è½®å¾ªç¯ä¸­äº§ç”Ÿçš„æ‰€æœ‰é«˜è´¨é‡ï¼ˆ1åˆ†ï¼‰æ•°æ®ï¼Œå†æ¬¡é€šè¿‡ RFT ç®—æ³•å¯¹åŸºåº§æ¨¡å‹è¿›è¡Œå¾®è°ƒï¼Œç”Ÿæˆèƒ½åŠ›æ›´å¼ºçš„Â <strong>æ–°ä¸€ä»£ä¸‰åˆä¸€æ¨¡å‹</strong>ã€‚</li>
</ol>
<p>æ­¤è¿‡ç¨‹å‘¨è€Œå¤å§‹ï¼Œå½¢æˆä¸€ä¸ªÂ <strong>å®Œå…¨è‡ªä¸»çš„â€œå·¦å³äº’æâ€è¿›åŒ–é—­ç¯</strong>ï¼Œå³Â <strong>è‡ªéªŒè¯æ•°å­¦æ¨ç†è®­ç»ƒæ³•</strong>ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¯¥ç®—æ³•ä¾èµ–æµ·é‡çš„æ¨¡å‹è°ƒç”¨ä»¥ç”Ÿæˆä¼˜è´¨è®­ç»ƒæ•°æ®ã€‚è€Œ DeepSeek-V3.2 æ‰€é‡‡ç”¨çš„Â <strong>DSAï¼ˆç¨€ç–æ³¨æ„åŠ›ï¼‰æœºåˆ¶</strong>ï¼Œå·²å°†æ¨¡å‹è°ƒç”¨æˆæœ¬é™ä½äº†Â <strong>30%-70%</strong> ã€‚ä»è¿™ä¸ªè§’åº¦çœ‹ï¼Œè‡ªéªŒè¯æ•°å­¦æ¨ç†è®­ç»ƒæ³•å ªç§° DeepSeek ä¸ºè‡ªèº«æŠ€æœ¯æ ˆé‡èº«å®šåˆ¶çš„â€œç‹ç‰Œè®­ç»ƒæ³•â€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/022cf50eb4b04f89a7e62f52b3f37660~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765499647&amp;x-signature=mlsKswleSIYZ7dBivatwyqRa3iI%3D" alt="21.png" loading="lazy"/></p>
<h2 data-id="heading-6">äºŒã€DeepSeek-V3.2ï¼šæŠ€æœ¯è‡ªä¸»åˆ›æ–°ä¸‹çš„å¼€æºç ´å±€è€…</h2>
<p>ä¸Šé¢å†…å®¹è¯¦ç»†è®²è¿°äº†DeepSeek-Math-V2çš„è®­ç»ƒæ ¸å¿ƒç®—æ³•ï¼Œä½†DeepSeekæ¢ç´¢çš„è„šæ­¥ä»æœªåœæ­¢ï¼Œ12æœˆ1æ—¥ï¼ŒDeepSeek-V3.2è¯ç”Ÿäº†ã€‚
åœ¨OpenAIã€Claudeã€Geminiå‡ ä¹ç»Ÿæ²»æ•´ä¸ªå¤§æ¨¡å‹æŠ€æœ¯é¢†åŸŸçš„ä»Šå¤©ï¼ŒDeepSeek-V3.2æ¨¡å‹çš„å¼€æºæ— ç–‘æ˜¯ä¸ºä¸­å›½å¤§æ¨¡å‹ç”šè‡³æ•´ä¸ªå¼€æºå¤§æ¨¡å‹ç•Œæ³¨å…¥äº†ä¸€é’ˆå¼ºå¿ƒå‰‚ï¼Œè®©å¤§å®¶çœŸæ­£çœ‹åˆ°äº†æŠ€æœ¯åˆ›æ–°å¸¦æ¥çš„å¤§æ¨¡å‹æ€§èƒ½é©å‘½ã€‚</p>
<p>11æœˆ20æ—¥ï¼Œè·¨æ—¶ä»£çš„Gemini 3.0 æ¨ªç©ºå‡ºä¸–ï¼ˆå…³äºGemini 3.0 çš„ä»‹ç»å¯çœ‹ç¬”è€…æ–‡ç«  <a href="https://juejin.cn/post/7574615024293429274" target="_blank" title="https://juejin.cn/post/7574615024293429274">Gemini3.0æ·±åº¦è§£æï¼Œå®ƒåœ¨é‡æ–°å®šä¹‰æ™ºèƒ½ï¼Œä¼šæ˜¯å‰ç«¯å·¥ç¨‹å¸ˆå™©æ¢¦å—ï¼Ÿ</a>å‡­å€Ÿå…¶å¼ºå¤§çš„ç»¼åˆæ€§èƒ½å’Œç¼–ç¨‹èƒ½åŠ›ä»¥ä¸€å·±ä¹‹åŠ›å°†å¤§æ¨¡å‹æŠ€æœ¯åº”ç”¨æ¨å‘ä¸‹ä¸€é˜¶æ®µã€‚å¤§å®¶åœ¨å…´å¥‹ä¹‹ä½™æ—©å·²ç„¦æ€¥ç­‰å¾…å›½äº§DeepSeekæ–°æ¨¡å‹ä½•æ—¶æ‰èƒ½é—®ä¸–ï¼Œè¦å¦‚ä½•åº”æˆ˜ï¼è€Œä¸åˆ°ä¸¤å‘¨DeepSeekå°±ç«‹é©¬å‘Šè¯‰å¤§å®¶ï¼Œâ€œä»–å¼ºä»»ä»–å¼ºï¼Œè€å­æœ‰é”‹èŠ’â€ã€‚è™½ç„¶æ²¡æœ‰æµ·å¤–åœ¨çº¿å¤§æ¨¡å‹æ·±åšçš„æŠ€æœ¯ç§¯ç´¯ã€æµ·é‡åŸå§‹æ•°æ®ï¼Œä½†DeepSeekä»ç„¶é€šè¿‡è‡ªä¸»æŠ€æœ¯åˆ›æ–°ï¼Œç”šè‡³é€šè¿‡ä¿æŒæ›´å¿«çš„åˆ›æ–°é€Ÿåº¦ä¸å›½å¤–å¤§æ¨¡å‹å‚å•†ä¸€å†³é«˜ä¸‹ï¼Œè¿™éš¾é“ä¸å°±æ˜¯ä¸­å›½çš„â€œä¾ â€ä¹‰ç²¾ç¥ã€‚</p>
<h3 data-id="heading-7">2.1 DeepSeek-V3.2è¿›åŒ–è·¯çº¿</h3>
<p>DeepSeek-V3.2 çš„æˆåŠŸå¹¶éä¸€è¹´è€Œå°±ï¼Œå®ƒå»ºç«‹åœ¨ä¸€æ¡æ¸…æ™°çš„æ¼”è¿›è·¯çº¿ä¸Šï¼š</p>
<ol>
<li><strong>8æœˆä¸‹æ—¬</strong>ï¼šå‘å¸ƒ<a href="https://juejin.cn/post/7540131264356597799" target="_blank" title="https://juejin.cn/post/7540131264356597799"> V3.1 æ¨¡å‹</a>ï¼Œå¼•å…¥<strong>æ··åˆæ¨ç†æ¶æ„</strong>ï¼ŒR1 æ—¶ä»£å®£å‘Šç»“æŸã€‚</li>
<li><strong>9æœˆåº•</strong>ï¼šå‘å¸ƒ <a href="https://juejin.cn/post/7555687221233631278" target="_blank" title="https://juejin.cn/post/7555687221233631278">V3.2-EXP å®éªŒç‰ˆ</a>ï¼Œæå‡ºé©å‘½æ€§çš„Â <strong>DeepSeek ç¨€ç–æ³¨æ„åŠ›æœºåˆ¶</strong>ï¼Œæ¨¡å‹è°ƒç”¨æˆæœ¬éª¤é™Â <strong>50%</strong> ã€‚</li>
<li><strong>11æœˆåº•</strong>ï¼šæ¨å‡ºÂ <strong>DeepSeek-Math-V2</strong>ï¼Œå¼€åˆ›Â <strong>è‡ªéªŒè¯æ•°å­¦æ¨ç†è®­ç»ƒæ³•</strong>ï¼Œä»¥â€œå·¦å³äº’æâ€èŒƒå¼å¤§å¹…æå‡æ•°å­¦èƒ½åŠ›ã€‚</li>
</ol>
<p>æ­£æ˜¯è¿™ä¸€ç³»åˆ—åšå®çš„æŠ€æœ¯ç§¯æ·€ï¼Œä¸ºÂ <strong>2025å¹´12æœˆ1æ—¥å‘å¸ƒçš„ DeepSeek-V3.2 æ­£å¼ç‰ˆ</strong>Â æä¾›äº†ä¸ Gemini 3.0 ç­‰é¡¶å°–æ¨¡å‹ä¸€è¾ƒé«˜ä¸‹çš„èµ„æœ¬ã€‚æ­£å¼ç‰ˆä¸ä»…æ•´åˆäº†å‰è¿°æ‰€æœ‰æŠ€æœ¯åˆ›æ–°ï¼Œæ›´å¼€åˆ›æ€§åœ°æå‡ºäº†ä¸‰å¤§æ ¸å¿ƒçªç ´ï¼š</p>
<ul>
<li><strong>å¯æ‰©å±•çš„GRPOè®­ç»ƒæ¡†æ¶</strong>ï¼šä¸ºå¼ºåŒ–å­¦ä¹ åè®­ç»ƒæä¾›äº†æ›´ç¨³å®šã€é«˜æ•ˆçš„æ¶æ„åŸºç¡€ã€‚</li>
<li><strong>æ— åKLä¼°è®¡ä¸Off-Policyåºåˆ—æ©ç æŠ€æœ¯</strong>ï¼šæœ‰æ•ˆè§£å†³äº†GRPOåœ¨é•¿å‘¨æœŸè®­ç»ƒä¸­å¸¸è§çš„ç¨³å®šæ€§é—®é¢˜ã€‚</li>
<li><strong>å¤§è§„æ¨¡åˆæˆAgentä»»åŠ¡æ•°æ®é›†åˆ›å»ºæµæ°´çº¿</strong>ï¼šåŠ¨ç”¨äº†è¶…è¿‡Â <strong>1800ä¸ªæ™ºèƒ½ä½“</strong>Â ä¸Â <strong>85ä¸‡ç»„æç¤ºè¯</strong>ï¼Œæ„å»ºå‡ºæµ·é‡ã€é«˜è´¨é‡çš„Agentè®­ç»ƒæ•°æ®ã€‚</li>
</ul>
<p>æœ€ç»ˆï¼Œå‡­å€Ÿè¿œè¶…é¢„è®­ç»ƒæ•°æ®é‡çš„<strong>è¶…å¤§è§„æ¨¡å¼ºåŒ–å­¦ä¹ åè®­ç»ƒ</strong>ï¼ˆè§„æ¨¡è¶…è¿‡é¢„è®­ç»ƒçš„10å€ä»¥ä¸Šï¼‰ï¼ŒDeepSeek-V3.2 å®ç°äº†æ€§èƒ½æé™çš„çªç ´ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c2188424310d449398ef911bf738542c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765499647&amp;x-signature=1WUc%2Flx9XrrCPrbPOfQ9eKxffEE%3D" alt="3.png" loading="lazy"/></p>
<h3 data-id="heading-8">2.2 DeepSeek-V3.2æ¨¡å‹æ¦‚è§ˆï¼šåŒæ¨¡å‹å¼€æºä¸æ€§èƒ½å®šä½</h3>
<p>æœ¬æ¬¡DeepSeekå…±å¼€æºäº†ä¸¤æ¬¾æ¨¡å‹ï¼š</p>
<ul>
<li><strong>DeepSeek-V3.2</strong>ï¼šé€šç”¨ä¸»åŠ›æ¨¡å‹ã€‚</li>
<li><strong>DeepSeek-V3.2-Speciale</strong>ï¼šä¸“æ³¨äºé•¿é“¾å¤æ‚é—®é¢˜æ±‚è§£çš„å®éªŒæ€§æ¨¡å‹ã€‚</li>
</ul>
<p>æ ¹æ®å®˜æ–¹ç»™å‡ºçš„æ•°æ®,DeepSeek-V3.2åœ¨ç¼–ç¨‹ã€æ•°å­¦ã€Agenté¢†åŸŸå‡è¾¾åˆ°äº†GPT-5æ¨¡å‹çš„æ°´å‡†ï¼Œæ˜¯å¼€æºç•Œçš„No.1ã€‚ æ®å¾ˆå¤šåšä¸»å®é™…è¯„æµ‹åé¦ˆï¼ŒDeepSeek-V3.2åœ¨ç¼–ç¨‹èƒ½åŠ›æ¯”ä¸Šä¸€ä»£æœ‰å¾ˆå¤§æå‡ï¼Œä¸ä»…æ€è€ƒé“¾æ›´åŠ ç®€å•æ¸…æ™°ï¼Œè€Œä¸”ç¼–ç¨‹æ„æ„¿æå‡æ˜æ˜¾ï¼Œä¸€æ¬¡æ€§ç¼–å†™ä¸Šåƒè¡Œä»£ç æ—©å·²æ˜¯å®¶å¸¸ä¾¿é¥­ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef9e5d9d9ed0491eaa3835f435d98bed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765499647&amp;x-signature=ZL4pcu3FZk7W4YMV3eVm%2FKCjs%2F0%3D" alt="4.png" loading="lazy"/></p>
<p>è™½ç„¶ç›¸æ¯”äºç›®å‰ç¬¬ä¸€æ¢¯é˜Ÿçš„Gemini3 Proå’ŒClaude4.5 Sonnetè¿˜æœ‰10%å·¦å³çš„æ€§èƒ½å·®è·ã€‚æ­¤å¤–ï¼Œæ¨¡å‹å±•ç°äº†å¼ºå¤§çš„å…¼å®¹æ€§ï¼Œå…¶â€œæ€è€ƒæ¨¡å¼â€å·²å¢åŠ å¯¹Â <strong>Claude Code</strong>Â è½¯ä»¶çš„åŸç”Ÿæ”¯æŒï¼ˆéœ€å°†æ¨¡å‹åæ”¹ä¸ºÂ <code>deepseek-reasoner</code>ï¼‰ã€‚ä½†éœ€æ³¨æ„ï¼Œå¯¹äº Clineã€RooCode ç­‰ä½¿ç”¨éæ ‡å‡†å·¥å…·è°ƒç”¨çš„ç»„ä»¶ï¼Œå®˜æ–¹å»ºè®®ä»ä½¿ç”¨â€œéæ€è€ƒæ¨¡å¼â€ä»¥è·å¾—æœ€ä½³å…¼å®¹æ€§ã€‚</p>
<h3 data-id="heading-9">2.3 DeepSeek-V3.2æ ¸å¿ƒçªç ´ï¼šAgentæ€§èƒ½è·¨è¶Šæå‡</h3>
<p>è¿™æ¬¡DeepSeek-V3.2æ¨¡å‹æœ€ä»¤äººç©ç›®çš„å°±æ˜¯Agentæ€§èƒ½çš„å·¨å¤§æå‡ï¼Œå’ŒGemini3, Claude 4.5ç­‰æ¨¡å‹çš„å·®è·å·²ç»ä¸åˆ°5%, å¹¶ä¸”deepseeké¦–æ¬¡å¼•å…¥â€œ<strong>æ€è€ƒæ¨¡å¼ä¸‹å·¥å…·è°ƒç”¨</strong>â€çš„åŠŸèƒ½ï¼Œå…è®¸æ¨¡å‹åœ¨å•è½®ä»»åŠ¡è°ƒç”¨è¿‡ç¨‹ä¿æŒå¤šæ­¥å·¥å…·è°ƒç”¨æ€ç»´é“¾è®°å¿†ï¼Œä¹Ÿå°±æ˜¯åƒäººä¸€æ ·è¾¹æ€è€ƒè¾¹è°ƒç”¨å·¥å…·ï¼Œä»è€Œå¤§å¹…æå‡å¤šæ­¥è°ƒç”¨å·¥å…·çš„å‰åä¸€è‡´æ€§ï¼Œæ˜¾è‘—æå‡æ¨¡å‹Agentæ€§èƒ½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f834cc542ac453ba9d237f3f3243888~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765499647&amp;x-signature=mPt6%2BimEuCQsPC%2B0F%2FVHmDTaHoU%3D" alt="5.png" loading="lazy"/></p>
<h3 data-id="heading-10">2.4 DeepSeek-V3.2-Specialeï¼šæè‡´çš„å®éªŒæ¢ç´¢</h3>
<p>é™¤äº†DeepSeek-V3.2ä¹‹å¤–ï¼Œæœ¬æ¬¡DeepSeekè¿˜åŒæ­¥å¼€æºäº†ä¸€æ¬¾å®éªŒæ€§è´¨çš„æ¨¡å‹ï¼ŒDeepSeek-V3.2-Specialeã€‚</p>
<p>å’ŒDeepSeek-V3.2ä¸åŒï¼ŒSpecialeæ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­é‡‡ç”¨äº†çº¯æ¨ç†æ•°æ®è¿›è¡Œè®­ç»ƒï¼Œå¹¶ä¸”æ”¾å®½äº†æ™®é€šæ¨¡å‹éƒ½ä¼šæœ‰çš„æ¨ç†é•¿åº¦æƒ©ç½šæœºåˆ¶ï¼Œä½¿å¾—Specialeæ›´åŠ æ“…é•¿é€šè¿‡é•¿æ€è€ƒæ¥è§£å†³é—®é¢˜ï¼ŒåŒæ—¶è¿˜å¼•å…¥äº†DeepSeek-Math-V2çš„è‡ªéªŒè¯æ•°å­¦æ¨ç†è®­ç»ƒæ³•ï¼Œå€ŸåŠ©å·¦å³äº’ææ¥çªç ´æ•°å­¦èƒ½åŠ›æé™ã€‚</p>
<p>æ ¹æ®è¯„æµ‹ç»“æœæ¥çœ‹ï¼ŒDeepSeek-V3.2-Specialeæ¨¡å‹åœ¨å„ä¸»æµè¯„æµ‹æ•°æ®é›†ä¸Šï¼Œæ— è®ºæ˜¯æ•°å­¦ã€ç¼–ç¨‹è¿˜æ˜¯HLEã€Agentæ€§èƒ½ç­‰å„ä¸ªæ–¹é¢ï¼Œå‡è¾¾åˆ°äº†Gemini 3.0 Proçš„æ°´å¹³ï¼Œå¹¶ä¸”ç›®å‰Specialeæ¨¡å‹æƒé‡ä¹ŸåŒæ­¥å¼€æºï¼Œ</p>
<p>å¦‚æœè¦è°ƒç”¨specialeçš„api, è¿˜éœ€è¦æ›´æ¢å¦‚ä¸‹å›¾æ‰€ç¤ºçš„base_url. è™½ç„¶ç»è¿‡å®æµ‹Specialeæ¨¡å‹ç¡®å®å¾ˆå¼ºï¼Œå¯¹äºè¾“å…¥çš„å¤æ‚æ•°å­¦ç¼–ç¨‹é—®é¢˜å‡èƒ½è§£å†³ï¼Œä½†å¤§å®¶è¿˜è¦æ³¨æ„Specialeæ¨¡å‹ç›®å‰å¤„äºå®éªŒé˜¶æ®µï¼Œåªèƒ½ç”¨äºè§£å†³å¤æ‚æ•°å­¦ç¼–ç¨‹é—®é¢˜ï¼Œæ— æ³•å¾ˆå¥½åº”å¯¹æ™®é€šå¯¹è¯é—®é¢˜ï¼Œå®˜æ–¹é™å®šè¯¥æ¨¡å‹ä¸12æœˆ15æ—¥APIæ­£å¼ä¸‹çº¿ï¼Œä½†è°åˆèƒ½çŸ¥é“è¿™æ˜¯ä¸æ˜¯é¢„ç¤ºç€ä¸‹ä¸€ä»£specialeæ¨¡å‹å·²ç»åœ¨è®­ç»ƒä¹‹ä¸­äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6062bcb8a64845c1831d945bfbcd358e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765499647&amp;x-signature=O60se1QZkFBDwTZzkGheERF6HkI%3D" alt="7.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74e235ca0bd24c7eb9a3d52070461331~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765499647&amp;x-signature=Q3BxE97yqaQ4nCGFhEjVKHWYyIM%3D" alt="8.png" loading="lazy"/></p>
<h2 data-id="heading-11">ä¸‰ã€æ€»ç»“å±•æœ›</h2>
<p>2025å¹´çš„å²æœ«å›æœ›ï¼Œä½œä¸ºå›½äº§å¤§æ¨¡å‹çš„æ°å‡ºä»£è¡¨ï¼ŒDeepSeekåœ¨è¿‡å»ä¸€å¹´ä¸­å®Œæˆäº†ä¸€åœºä»¤äººæƒŠå¹çš„æŠ€æœ¯è·ƒè¿ã€‚ä»æ¶æ„åˆ›æ–°åˆ°è®­ç»ƒèŒƒå¼çªç ´ï¼Œä»å¼€æºç”Ÿæ€å»ºè®¾åˆ°é¡¶å°–æ€§èƒ½å¯¹æ ‡ï¼Œå®ƒçš„æ¯ä¸€æ­¥éƒ½åšå®è€Œæ¸…æ™°ã€‚æœ¬æ–‡å¯¹Â <strong>DeepSeek-Math-V2</strong>Â ä¸Â <strong>DeepSeek-V3.2</strong>Â çš„è§£è¯»ï¼Œä¹Ÿæ­£æ˜¯è¿™ä¸€å¹´æ¥è¿½è¸ªä¸è§è¯å…¶æŠ€æœ¯è¿›åŒ–çš„ä¸€ä¸ªç¼©å½±ã€‚</p>
<p>ç¬”è€…çš„æ–‡ç« è¿½éšäº†ä¸€æ•´å¹´DeepSeekçš„æ›´æ–°è½¨è¿¹ä¸è§£è¯»ï¼Œä¸ä»…ä»…åªä¸ºå¤§å®¶ä»‹ç»äº†DeepSeekæ¨¡å‹çš„æœ€æ–°æŠ€æœ¯ï¼Œçœ‹ç€DeepSeekä¸€æ­¥ä¸€æ­¥æˆé•¿ä¸ºä¸–ç•Œä¹‹å·…ï¼Œæ›´å¸Œæœ›é€šè¿‡ç¬”è€…å¾®åšçš„åŠªåŠ›ï¼Œä¸ºå¤§å®¶ç§‘æ™®å¤§æ¨¡å‹çš„åŸºç¡€çŸ¥è¯†ã€‚</p>
<p>æœªæ¥æ—¶ä»£å¤§æ¨¡å‹ä¸€å®šä¼šæ˜¯æœ€åŸºç¡€çš„è®¾æ–½ï¼Œå’Œç°åœ¨çš„PCï¼Œæ‰‹æœºä¸€æ ·ï¼Œåœ¨å½“å‰ä¸­ç¾AIè§’åŠ›çš„å…³é”®é˜¶æ®µï¼Œå¤§å®¶è°æ›´æ‹¥æŠ±AIè°å°±æŒæ¡æœªæ¥ã€‚ç¬”è€…å‘¼åå¹¶æœŸå¾…ï¼šç»™äºˆåƒDeepSeekè¿™æ ·åšæŒæŠ€æœ¯çªç ´ä¸å¼€æºå¼€æ”¾çš„å›½äº§æ¨¡å‹<strong>æ›´å¤šçš„å…³æ³¨ã€ä½¿ç”¨ä¸åé¦ˆ</strong>ã€‚æ¯ä¸€æ¬¡è®¨è®ºã€æ¯ä¸€è¡Œä»£ç ã€æ¯ä¸€ä¸ªåŸºäºå…¶æ„å»ºçš„åº”ç”¨ï¼Œéƒ½æ˜¯åœ¨ä¸ºè¿™ç‰‡æŠ€æœ¯åœŸå£¤å¢æ·»å…»åˆ†ã€‚ä¼—äººçš„æ”¯æŒï¼Œå°†æ˜¯æ‰€æœ‰åˆ›æ–°è€…æœ€åšå®çš„åç›¾ï¼Œè¶³ä»¥è®©ä¸­å›½ç«™ä¸Šä¸–ç•ŒAIä¹‹å·…ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å…¶å®Creatoré‡Œé¢è¿™ä¸ªè£å‰ªä»£ç çš„åŠŸèƒ½å¾ˆå¥½ç”¨ï¼Œå»ºè®®è¯•è¯•]]></title>    <link>https://juejin.cn/post/7579871631096496154</link>    <guid>https://juejin.cn/post/7579871631096496154</guid>    <pubDate>2025-12-05T00:44:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579871631096496154" data-draft-id="7579889969985208371" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å…¶å®Creatoré‡Œé¢è¿™ä¸ªè£å‰ªä»£ç çš„åŠŸèƒ½å¾ˆå¥½ç”¨ï¼Œå»ºè®®è¯•è¯•"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-05T00:44:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¿å…ƒç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/1972988307323236"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å…¶å®Creatoré‡Œé¢è¿™ä¸ªè£å‰ªä»£ç çš„åŠŸèƒ½å¾ˆå¥½ç”¨ï¼Œå»ºè®®è¯•è¯•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972988307323236/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¿å…ƒç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T00:44:49.000Z" title="Fri Dec 05 2025 00:44:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç‚¹å‡»ä¸Šæ–¹äº¿å…ƒç¨‹åºå‘˜+å…³æ³¨å’Œâ˜…æ˜Ÿæ ‡</p>
<h2 data-id="heading-0">å¼•è¨€</h2>
<p><strong>å“ˆå–½å¤§å®¶å¥½</strong>ï¼Œæ— è®ºæ˜¯ä¸ªäººçš„å°æ¸¸æˆé¡¹ç›®è¿˜æ˜¯å…¬å¸çš„å•†ä¸šæ¸¸æˆé¡¹ç›®ï¼Œé€šå¸¸éƒ½ä¼šè¿›è¡Œå¤šå¹³å°åˆ†å‘ã€‚</p>
<p><strong>ä¾‹å¦‚</strong>ä¸ªäººå°æ¸¸æˆå¯ä»¥ä¸Šæ¶å¾®ä¿¡å°æ¸¸æˆã€æŠ–éŸ³å°æ¸¸æˆï¼Œå…¬å¸çš„å•†ä¸šæ¸¸æˆé™¤äº†å¯ä»¥ä¸Šæ¶å‰é¢ä¸¤ä¸ªå¹³å°å¤–ï¼Œè¿˜å¯ä»¥ä¸Šæ¶æ¸ é“(OVå)ã€<code>AppStore</code>ç­‰ç­‰ã€‚</p>
<p><strong>æ¸¸æˆ</strong>è¦ä¸Šæ¶ä¸åŒçš„å¹³å°ï¼Œæ„å‘³ç€è¦æ¥å…¥ä¸åŒçš„<code>SDK</code>ï¼Œç‰¹åˆ«åœ¨æ¸¸æˆå¿«è¦ä¸è¡Œçš„æ—¶å€™ï¼Œå°è¯•æ›´å¤šå¹³å°(btã€0.1ç­‰ç­‰)ï¼Œä¹…è€Œä¹…ä¹‹ï¼Œå¯¹æ¥ä¸åŒå¹³å°/æ¸ é“çš„ä»£ç ä¼šè¶Šæ¥è¶Šå¤šã€‚</p>
<p><strong>äº‹å®ä¸Š</strong>ï¼ŒæŸä¸ªå¹³å°/æ¸ é“çš„æ¥å…¥ä»£ç ï¼Œåªæœ‰å¯¹åº”çš„é‚£ä»½ä»£ç æ‰ä¼šæœ‰ç”¨ï¼Œå…¶ä»–çš„éƒ½æ˜¯å¤šä½™çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è€ƒè™‘æŠŠå¤šä½™çš„ä»£ç æ ¹æ®ä¸åŒçš„å¹³å°è¿›è¡Œè£å‰ªã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/390dfe45f05c453f8d96ee2218fc2243~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500288&amp;x-signature=NfhvtvampPqf5gzRFnIDMfwefoU%3D" alt="" loading="lazy"/></p>
<p><strong>ä¸Šé¢</strong>æ˜¯éš”å£<code>Unity</code>é€šè¿‡å®å®šä¹‰çš„æ–¹å¼ï¼Œå¯¹ä»£ç è¿›è¡Œè£å‰ªï¼Œé’ˆå¯¹ä¸åŒçš„å¹³å°ã€ç‰ˆæœ¬å†™ä¸åŒçš„ä»£ç è¿›è¡Œå…¼å®¹ã€‚å…¶å®åœ¨<code>Creator</code>é‡Œé¢ä¹Ÿæœ‰çš„ï¼Œå¾ˆå¤šäººéƒ½ä¸çŸ¥é“ã€‚</p>
<p><strong>è¨€å½’æ­£ä¼ </strong>ï¼Œæœ¬æœŸå¸¦å¤§å®¶ä¸€èµ·æ¥çœ‹çœ‹ï¼Œå¦‚ä½•åœ¨<code>Cocos</code>æ¸¸æˆå¼€å‘ä¸­ï¼Œ<strong>è‡ªå®šä¹‰æ’ä»¶æ ¹æ®ä¸åŒå¹³å°åˆ©ç”¨å®å®šä¹‰è£å‰ªä»£ç </strong>ã€‚</p>
<p><strong>æœ¬æ–‡æºå·¥ç¨‹å¯åœ¨æ–‡æœ«è·å–ï¼Œå°ä¼™ä¼´ä»¬è‡ªè¡Œå‰å¾€ã€‚</strong></p>
<h2 data-id="heading-1">ä»€ä¹ˆæ˜¯å®å®šä¹‰ï¼Ÿ</h2>
<p><strong>ç›¸ä¿¡</strong>å°ä¼™ä¼´ä»¬åˆšæ¥è§¦ç¼–ç¨‹æ—¶ï¼Œå­¦è¿‡<code>Cè¯­è¨€</code>çš„éƒ½äº†è§£å®å®šä¹‰ï¼š</p>
<blockquote>
<p><strong>å®å®šä¹‰</strong>ï¼ˆmacroï¼‰æ˜¯ç¼–ç¨‹è¯­è¨€ä¸­ä¸€ç§é¢„å¤„ç†æœºåˆ¶ã€‚</p>
</blockquote>
<p><strong>ä¾‹å¦‚</strong><code>#define ï¼› ;</code>(ä¸¾ä¸ªä¾‹å­æ´»è·ƒä¸‹æ°”æ°›ï¼Œè¿™æ ·å†™æ˜¯ä¸å¯¹çš„)ï¼Œæ­£ç¡®çš„ç”¨æ³•å¦‚ä¸‹<code>#define MAX(a,b) ((a)&gt;(b)?(a):(b))</code>ï¼Œå°†æ¯”è¾ƒå¤§å°çš„æ–¹æ³•ç”¨<code>MAX</code>ä»£æ›¿ã€‚</p>
<p><strong>ä¸å®å®šä¹‰å¯†åˆ‡ç›¸å…³çš„æ˜¯æ¡ä»¶ç¼–è¯‘ã€‚</strong></p>
<h2 data-id="heading-2">ä»€ä¹ˆæ˜¯æ¡ä»¶ç¼–è¯‘ï¼Ÿ</h2>
<blockquote>
<p><strong>æ¡ä»¶ç¼–è¯‘</strong>æ˜¯æ ¹æ®é¢„å®šä¹‰çš„æ¡ä»¶ï¼Œåœ¨ç¼–è¯‘é˜¶æ®µé€‰æ‹©æ€§åœ°åŒ…å«æˆ–æ’é™¤ä¸€éƒ¨åˆ†æºä»£ç ã€‚ç¼–è¯‘å™¨åªä¼šç¼–è¯‘é‚£äº›æ»¡è¶³æ¡ä»¶çš„ä»£ç å—ï¼Œè€Œå¿½ç•¥ä¸æ»¡è¶³æ¡ä»¶çš„éƒ¨åˆ†ã€‚</p>
<p><strong>æ¡ä»¶ç¼–è¯‘</strong>éœ€è¦åŸºäºæŸäº›â€œæ¡ä»¶â€æ¥åšå†³å®šï¼Œè¿™äº›æ¡ä»¶é€šå¸¸å°±æ˜¯æ˜¯å¦å®šä¹‰äº†æŸä¸ªå®ï¼Œæˆ–è€…å®çš„å€¼æ˜¯ä»€ä¹ˆã€‚</p>
</blockquote>
<p><strong>é€šä¿—åœ°ç†è§£</strong>å°±æ˜¯ï¼Œä¸ç¬¦åˆå®å®šä¹‰å†…çš„ä»£ç ï¼Œä¼šåœ¨ç¼–è¯‘å"åˆ æ‰"ã€‚</p>
<p><strong>ä¾‹å¦‚</strong><code>Cè¯­è¨€</code>ä¸­æ ¹æ®ä¸åŒæ“ä½œç³»ç»Ÿè¾“å‡ºä¸åŒçš„å†…å®¹ã€‚</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> _WIN32</span>
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Running on Windows.\n"</span>);
<span class="hljs-meta">#<span class="hljs-keyword">elif</span> __linux__</span>
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Running on Linux.\n"</span>);
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
</code></pre>
<p><strong>åˆå¦‚</strong><code>Unity</code>ä¸­çš„è‡ªå¸¦çš„ç¼–è¾‘å™¨ã€ä¸åŒå¹³å°çš„å®ã€‚</p>
<pre><code class="hljs language-c#" lang="c#">
<span class="hljs-meta">#<span class="hljs-keyword">if</span> UNITY_EDITOR</span>
    <span class="hljs-comment">// Unity ç¼–è¾‘å™¨å†…è¿è¡Œ</span>
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">if</span> UNITY_IOS</span>
    <span class="hljs-comment">// iOS å¹³å°</span>
<span class="hljs-meta">#<span class="hljs-keyword">elif</span> UNITY_ANDROID</span>
    <span class="hljs-comment">// Android å¹³å°</span>
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
</code></pre>
<p><strong>é‚£Creatorå‘¢ï¼Ÿ</strong></p>
<h2 data-id="heading-3">Creatorä¸­çš„å®å®šä¹‰</h2>
<p><strong>Creator</strong>ä¸­çš„å®å®šä¹‰å¯ä»¥é€šè¿‡èœå•<code>é¡¹ç›®-&gt;é¡¹ç›®è®¾ç½®-&gt;å®é…ç½®</code>æ‰“å¼€é¢æ¿è¿›è¡Œç¼–è¾‘(<code>CRUD</code>)ã€‚</p>
<p><strong>å¦‚å›¾</strong>æˆ‘ä»¬å®šä¹‰äº†<code>ANDROID</code>ã€<code>DEBUG</code>ã€<code>LOG</code>ä¸‰ä¸ªå®ï¼Œæ‰“é’©åè¡¨ç¤ºè¯¥å®ç”Ÿæ•ˆï¼Œæ ¹æ®å®é™…è¦æ±‚æ‰“é’©å³å¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3cf01d5d576d48beb4415f6e6b6b8552~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500288&amp;x-signature=FrUxHmzHXTZPQ%2BbLK9jL2lZHfIw%3D" alt="" loading="lazy"/></p>
<p><strong>ä½¿ç”¨æ–¹æ³•</strong>å¦‚ä¸‹:</p>
<ul>
<li>
<p>é€šè¿‡<code>import { ANDROID, LOG, DEBUG } from 'cc/userland/macro';</code>
å¼•å…¥å¯¹åº”çš„å®ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e80737a0a3794508bb3177395519220a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500288&amp;x-signature=gwI9t%2Be%2FkjCHe5KZambWgIm8KRM%3D" alt="" loading="lazy"/></p>
</li>
<li>
<p>é€šè¿‡å¸¸è§„çš„<code>if</code>ã€<code>else</code>åˆ¤æ–­å³å¯ï¼Œç¼–è¯‘ååªä¼šä¿ç•™ç¬¦åˆæ¡ä»¶åˆ†æ”¯å†…çš„ä»£ç ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f1239e8d017e4b148904732b4c04f09b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500288&amp;x-signature=J0Ftr%2FLrCGcGTh2%2F4tInGMvGEK8%3D" alt="" loading="lazy"/></p>
</li>
</ul>
<h2 data-id="heading-4">è‡ªå®šä¹‰æ’ä»¶è£å‰ªä»£ç å®ä¾‹</h2>
<p><strong>è¦å®ç°</strong>åœ¨ä¸åŒçš„å¹³å°ï¼Œæ¿€æ´»ä¸åŒçš„å®ï¼Œä¿ç•™æŒ‡å®šçš„ä»£ç ï¼Œæˆ‘ä»¬éœ€è¦åŠ¨æ€åœ°æ”¹å˜å®çš„å€¼ã€‚</p>
<p><strong>å®ä¾‹</strong>é€šè¿‡è‡ªå®šä¹‰æ’ä»¶æ¥å®ç°ã€‚</p>
<h3 data-id="heading-5">1.åˆ›å»ºæ’ä»¶</h3>
<p><strong>é¦–å…ˆ</strong>è¦åˆ›å»ºæˆ‘ä»¬çš„æ’ä»¶ï¼Œé€šè¿‡èœå•<code>æ‰©å±•-&gt;åˆ›å»ºæ‰©å±•</code>æ‰“å¼€æ‰©å±•åˆ›å»ºé¢æ¿,é€‰æ‹©æ„å»ºæ’ä»¶ï¼Œå¹¶ä¸”é€šè¿‡æ‰©å±•ç®¡ç†å™¨å¯ç”¨æ’ä»¶ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f041837ec30848cb9d860785153405f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500288&amp;x-signature=KUvEbQevxuhNJxXQfypVJEFtyDk%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-6">2.æ‰©å±•æ„å»ºé¢æ¿</h3>
<p><strong>åœ¨</strong><code>builder.ts</code>ä¸­ï¼Œåˆ é™¤ä¸éœ€è¦çš„ä»£ç ï¼Œæ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰å®çš„è¾“å…¥æ¡†ï¼Œç”¨äºä¸åŒçš„å¹³å°è¾“å…¥æŒ‡å®šçš„å®ï¼Œç”¨<code>;</code>éš”å¼€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18c96657181a44dfad7f2c359db8ce36~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500288&amp;x-signature=HfxAwAmJUG1PEJoo6%2BUM29ycUS0%3D" alt="" loading="lazy"/></p>
<p><strong>æ•ˆæœå¦‚ä¸‹</strong>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de107665f66448afaafa1af360823a2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500288&amp;x-signature=x18AvwyMmziRmckaNVHxgFrFOm4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-7">3.æ’ä»¶æ•´ä½“æµç¨‹</h3>
<blockquote>
<p><code>å¼€å§‹â€”&gt;æ„å»ºå‰è§£æé¢æ¿è¾“å…¥çš„å®-&gt;è¯»å–å·²æœ‰å®é…ç½®-&gt;ä¿®æ”¹æ¿€æ´»å¯¹åº”çš„å®-&gt;ä¿å­˜æ–°çš„å®é…ç½®-&gt;æ„å»º-&gt;æ„å»ºåæ¢å¤å¯¹åº”çš„å®-&gt;ç»“æŸ</code></p>
</blockquote>
<ul>
<li>
<p><strong>æ„å»ºå‰å¤„ç†</strong>ï¼šåœ¨<code>onBeforeBuild</code>ä¸­è¿›è¡Œæ„å»ºå‰å¤„ç†ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b48b6e52da648db9c80857341e2238b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500288&amp;x-signature=iForhCGiHkBzhCFpjN0NzMg%2B67E%3D" alt="" loading="lazy"/></p>
</li>
<li>
<p><strong>è§£æè¾“å…¥çš„å®</strong>ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c25ab0c304374a31aeafe628b66f94ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500288&amp;x-signature=wwETSIxw611QZFtciaPwR3rcZVQ%3D" alt="" loading="lazy"/></p>
</li>
<li>
<p><strong>è¯»å–å·²æœ‰å®é…ç½®</strong>ï¼Œé…ç½®åœ¨æ–‡ä»¶<code>settings\v2\packages\engine.json</code>ï¼Œé€šè¿‡<code>fs</code>æ¨¡å—è¯»å–å†…å®¹ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/537311452fbf48718bd3cfd7364c1802~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500288&amp;x-signature=rVmjFlD8fp8K5pU3xaqJ7Yzw4rI%3D" alt="" loading="lazy"/></p>
</li>
<li>
<p><strong>å†…å®¹</strong>åœ¨<code>macroCustom</code>å­—æ®µä¸­ï¼Œå¤§è‡´å¦‚ä¸‹ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6cc2c25604d946b1a682525607c9f717~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500288&amp;x-signature=XC3rMvoV208qiSMkcvIGyp5TJ64%3D" alt="" loading="lazy"/></p>
</li>
<li>
<p><strong>ä¿®æ”¹æ¿€æ´»å¯¹åº”çš„å®</strong>ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/798cab0f06454997bf12b55af249745e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500288&amp;x-signature=htrtsek8EiZ0a6ouM6b7SGetFOQ%3D" alt="" loading="lazy"/></p>
</li>
<li>
<p><strong>ä¿å­˜æ–°çš„å®é…ç½®</strong>:é€šè¿‡<code>await Editor.Message.request('project', 'set-config', 'engine', 'macroCustom', engineConfig.macroCustom);</code>æ¶ˆæ¯è¿›è¡Œä¿å­˜ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d21205d21fe4e8e875617402d779b15~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500288&amp;x-signature=6ZQAktBbqElL50WrHAyEpHEUCoU%3D" alt="" loading="lazy"/></p>
</li>
<li>
<p><strong>æ„å»ºåæ¢å¤å®é…ç½®</strong>ï¼šä¸ºäº†é¿å…æ„å»ºåå®å½±å“äº†å…¶ä»–å¹³å°ï¼Œæˆ‘ä»¬éœ€è¦å°†å¯¹åº”çš„å®è¿›è¡Œæ¢å¤ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab446330d845485583aff2baa14dffd1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500288&amp;x-signature=%2BCMPXWbodqWFWngouifZN6xzSSE%3D" alt="" loading="lazy"/></p>
</li>
</ul>
<h3 data-id="heading-8">4.æ•ˆæœæ¼”ç¤º</h3>
<p><strong>åœ¨æ’ä»¶ç›®å½•</strong>ï¼Œå®‰è£…ä¾èµ–<code>npm install</code>å’Œæ„å»ºæ’ä»¶<code>npm run build</code>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce419c5873e04fbd8b6ee7d93f07f326~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500288&amp;x-signature=secfgyHYUb%2BdIUR3zUuvFNfrTm4%3D" alt="" loading="lazy"/></p>
<p><strong>æ–°å»º</strong><code>android</code>å¹³å°ï¼Œè‡ªå®šä¹‰å®ä¸­è¾“å…¥<code>ANDROID;DEBUG;LOG</code>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e93a6392bd04600b63c80f3fc2d38a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500288&amp;x-signature=bnfplmLH%2FZMXTeB7SZV11y1Nohw%3D" alt="" loading="lazy"/></p>
<p><strong>æ–°å»º</strong><code>web</code>å¹³å°ï¼Œè‡ªå®šä¹‰å®ä¸­è¾“å…¥<code>DEBUG;LOG</code>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/71dee0b18db24ee8a3d7ea204a4591a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500288&amp;x-signature=JcoMkZRRKWaunnwNexnaDsxcnZo%3D" alt="" loading="lazy"/></p>
<p><strong>åˆ†åˆ«</strong>è¿›è¡Œæ„å»ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/749ff8539e534434a0281462453ca8ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500288&amp;x-signature=IdK3Mrk3EcxKrWHHMn9N%2Bwu%2FJPI%3D" alt="" loading="lazy"/></p>
<p><strong>æ„å»ºå®Œ</strong>å¯ä»¥çœ‹åˆ°ï¼Œåªä¿ç•™äº†å¯¹åº”å®å†…çš„ä»£ç ï¼Œ<code>ifã€elseéƒ½å‰”é™¤äº†</code>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38232a69c16d4339830d84d5b206f012~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500288&amp;x-signature=Wb3sywNP81J9nGCnZICnUvTGo1g%3D" alt="" loading="lazy"/>
<strong>android</strong>:
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3400bec18bf4d4c8b25608cf3e9cc73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500288&amp;x-signature=a3TPOfFwPP9R3n9%2F1O7DWpbRIX0%3D" alt="" loading="lazy"/>
<strong>web</strong>:
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/198d41852af044d0bb00601d4f313d05~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500288&amp;x-signature=t0RTGd%2BwmfIDfTCWTL9XLFXKvwI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-9">ç»“è¯­</h2>
<p><strong>Creator</strong>é‡Œé¢è¿™ä¸ªè£å‰ªä»£ç çš„åŠŸèƒ½çœŸçš„å¾ˆå¥½ç”¨ã€‚</p>
<p><strong>å°ä¼™ä¼´ä»¬</strong>è§‰å¾—å¦‚ä½•å‘¢ï¼Ÿ</p>
<p><strong>æœ¬æœŸå®Œæ•´ç¤ºä¾‹å·¥ç¨‹</strong>å¯ä»¥é€šè¿‡<a href="https://link.juejin.cn?target=https%3A%2F%2Fweidian.com%2Fitem.html%3FitemID%3D7626130648" target="_blank" title="https://weidian.com/item.html?itemID=7626130648" ref="nofollow noopener noreferrer">é˜…è¯»åŸæ–‡</a>è·å–ï¼Œè¿™ä¸ä»…æ˜¯çŸ¥è¯†çš„è·å–ï¼Œæ›´æ˜¯å¯¹ç¬”è€…çš„æ”¯æŒå’Œè®¤å¯ï¼Œæ„Ÿè°¢æ”¯æŒï¼</p>
<p><strong>æˆ‘æ˜¯"äº¿å…ƒç¨‹åºå‘˜"ï¼Œä¸€ä½æœ‰ç€8å¹´æ¸¸æˆè¡Œä¸šç»éªŒçš„ä¸»ç¨‹ã€‚åœ¨æ¸¸æˆå¼€å‘ä¸­ï¼Œå¸Œæœ›èƒ½ç»™åˆ°æ‚¨å¸®åŠ©, ä¹Ÿå¸Œæœ›é€šè¿‡æ‚¨èƒ½å¸®åŠ©åˆ°å¤§å®¶ã€‚</strong></p>
<p>AD:ç¬”è€…çº¿ä¸Šçš„å°æ¸¸æˆã€Šæ‰“èºä¸é—¯å…³ã€‹ã€Šè´ªåƒè›‡æŒæœºç»å…¸ã€‹ã€Šé‡åŠ›è¿·å®«çƒã€‹ã€Šå¡«è‰²ä¹‹æ—…ã€‹ã€Šæ–¹å—æŒæœºç»å…¸ã€‹å¤§å®¶å¯ä»¥è‡ªè¡Œç‚¹å‡»æœç´¢ä½“éªŒã€‚</p>
<p>å®ä¸ç›¸ç’ï¼Œæƒ³è¦ä¸ª<strong>èµ</strong>å’Œ<strong>çˆ±å¿ƒ</strong>ï¼è¯·æŠŠè¯¥æ–‡ç« <strong>åˆ†äº«</strong>ç»™ä½ è§‰å¾—æœ‰éœ€è¦çš„å…¶ä»–å°ä¼™ä¼´ã€‚è°¢è°¢ï¼</p>
<p>æ¨èä¸“æ ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzg5NTY2MjIzMg%3D%3D%26action%3Dgetalbum%26album_id%3D3175880857546129410%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=Mzg5NTY2MjIzMg==&amp;action=getalbum&amp;album_id=3175880857546129410#wechat_redirect" ref="nofollow noopener noreferrer">çŸ¥è¯†ä»˜è´¹ä¸“æ </a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg5NTY2MjIzMg%3D%3D%26mid%3D2247487282%26idx%3D1%26sn%3De3cb8ab6f5c0d5f804d5c29e2e90b9ad%26chksm%3Dc00daec5f77a27d33933e877464d8cde24c4c947d3755f5e8262c634634617e7c26de3953a54%26token%3D336413522%26lang%3Dzh_CN%23rd" target="_blank" title="https://mp.weixin.qq.com/s?__biz=Mzg5NTY2MjIzMg==&amp;mid=2247487282&amp;idx=1&amp;sn=e3cb8ab6f5c0d5f804d5c29e2e90b9ad&amp;chksm=c00daec5f77a27d33933e877464d8cde24c4c947d3755f5e8262c634634617e7c26de3953a54&amp;token=336413522&amp;lang=zh_CN#rd" ref="nofollow noopener noreferrer">ä½ çŸ¥é“å’Œä¸çŸ¥é“çš„å¾®ä¿¡å°æ¸¸æˆå¸¸ç”¨APIæ•´ç†ï¼Œèµ¶ç´§æ”¶è—ç”¨èµ·æ¥~</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzg5NTY2MjIzMg%3D%3D%26action%3Dgetalbum%26album_id%3D3207702867494305797%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=Mzg5NTY2MjIzMg==&amp;action=getalbum&amp;album_id=3207702867494305797#wechat_redirect" ref="nofollow noopener noreferrer">100ä¸ªCocoså®ä¾‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzg5NTY2MjIzMg%3D%3D%26action%3Dgetalbum%26album_id%3D3073771187570999299%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=Mzg5NTY2MjIzMg==&amp;action=getalbum&amp;album_id=3073771187570999299#wechat_redirect" ref="nofollow noopener noreferrer">8å¹´ä¸»ç¨‹æ‰‹æŠŠæ‰‹æ‰“é€ Cocosç‹¬ç«‹æ¸¸æˆå¼€å‘æ¡†æ¶</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzg5NTY2MjIzMg%3D%3D%26action%3Dgetalbum%26album_id%3D3121583619634626562%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=Mzg5NTY2MjIzMg==&amp;action=getalbum&amp;album_id=3121583619634626562#wechat_redirect" ref="nofollow noopener noreferrer">å’Œ8å¹´æ¸¸æˆä¸»ç¨‹ä¸€èµ·å­¦ä¹ è®¾è®¡æ¨¡å¼</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3Faction%3Dgetalbum%26__biz%3DMzg5NTY2MjIzMg%3D%3D%26scene%3D1%26album_id%3D3038883468588089350%26count%3D3%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/mp/appmsgalbum?action=getalbum&amp;__biz=Mzg5NTY2MjIzMg==&amp;scene=1&amp;album_id=3038883468588089350&amp;count=3#wechat_redirect" ref="nofollow noopener noreferrer">ä»é›¶å¼€å§‹å¼€å‘è´ªåƒè›‡å°æ¸¸æˆåˆ°ä¸Šçº¿ç³»åˆ—</a></p>
<p>ç‚¹å‡»ä¸‹æ–¹ç°è‰²æŒ‰é’®+å…³æ³¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Trilium Notesï¼šæ„å»ºä¸ªäººçŸ¥è¯†åº“çš„å¼€æºç¥å™¨]]></title>    <link>https://juejin.cn/post/7579906040536596526</link>    <guid>https://juejin.cn/post/7579906040536596526</guid>    <pubDate>2025-12-05T00:44:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579906040536596526" data-draft-id="7579906040536580142" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Trilium Notesï¼šæ„å»ºä¸ªäººçŸ¥è¯†åº“çš„å¼€æºç¥å™¨"/> <meta itemprop="keywords" content="å¼€æº"/> <meta itemprop="datePublished" content="2025-12-05T00:44:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¿®å·±xj"/> <meta itemprop="url" content="https://juejin.cn/user/2641475936724142"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Trilium Notesï¼šæ„å»ºä¸ªäººçŸ¥è¯†åº“çš„å¼€æºç¥å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2641475936724142/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¿®å·±xj
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T00:44:15.000Z" title="Fri Dec 05 2025 00:44:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ä¿¡æ¯çˆ†ç‚¸çš„æ—¶ä»£ï¼Œæˆ‘ä»¬æ¯å¤©éƒ½åœ¨æ¥è§¦æµ·é‡çš„ä¿¡æ¯ï¼šé˜…è¯»çš„æ–‡ç« ã€çªå‘çš„çµæ„Ÿã€é¡¹ç›®ç¬”è®°ã€ä»£ç ç‰‡æ®µã€ä¼šè®®è®°å½•â€¦â€¦è¿™äº›çŸ¥è¯†ç¢ç‰‡æ•£è½åœ¨å„å¤„â€”â€”æ‰‹æœºå¤‡å¿˜å½•ã€å¾®ä¿¡æ”¶è—ã€æµè§ˆå™¨ä¹¦ç­¾ã€å„ç§ç¬”è®°åº”ç”¨ã€‚æ—¶é—´ä¸€é•¿ï¼Œè¦ä¹ˆå¿˜è®°å­˜æ”¾åœ¨å“ªé‡Œï¼Œè¦ä¹ˆæ— æ³•æœ‰æ•ˆå…³è”å’Œç»„ç»‡ã€‚</p>
<p>ä»Šå¤©æˆ‘è¦ä»‹ç»çš„å¼€æºé¡¹ç›® Trilium Notesï¼Œæ­£æ˜¯ä¸ºè§£å†³è¿™ä¸€é—®é¢˜è€Œç”Ÿçš„å¼ºå¤§å·¥å…·ã€‚å®ƒä¸ä»…æ˜¯ä¸€ä¸ªç¬”è®°åº”ç”¨ï¼Œæ›´æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¸ªäººçŸ¥è¯†ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒæ ‘çŠ¶ç»“æ„ç»„ç»‡ã€å¼ºå¤§çš„æœç´¢ã€è„šæœ¬è‡ªåŠ¨åŒ–ã€è·¨å¹³å°åŒæ­¥ç­‰é«˜çº§åŠŸèƒ½ï¼Œè€Œä¸”å®Œå…¨å¼€æºã€å…è´¹ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/649bf775c68c474ca78bfffe69000cef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500254&amp;x-signature=iz4UcYZ6ssYwpUkxW%2FkMYSelvbw%3D" alt="ScreenShot_2025-12-05_080242_969.png" loading="lazy"/></p>
<p>ScreenShot_2025-12-05_080242_969.png</p>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯ Trilium Notesï¼Ÿ</h2>
<p>Trilium Notes æ˜¯ä¸€æ¬¾åˆ†å±‚çº§çš„ç¬”è®°åº”ç”¨ï¼Œä¸“æ³¨äºæ„å»ºå¤§è§„æ¨¡çš„ä¸ªäººçŸ¥è¯†åº“ã€‚å®ƒé‡‡ç”¨æ ‘çŠ¶ç»“æ„ç»„ç»‡ç¬”è®°ï¼Œæ”¯æŒç¬”è®°å…‹éš†ï¼ˆä¸€ä¸ªç¬”è®°å¯ä»¥åœ¨æ ‘ä¸­çš„å¤šä¸ªä½ç½®å­˜åœ¨ï¼‰ï¼Œæä¾›äº†ä¸°å¯Œçš„ç¼–è¾‘åŠŸèƒ½å’Œå¼ºå¤§çš„æ‰©å±•èƒ½åŠ›ã€‚</p>
<p>è¯¥é¡¹ç›®å·²ç»åœ¨githubæ‹¥æœ‰ 33.3k star</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/818040934bc74ca4b8b5688dce5de851~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500254&amp;x-signature=dHIoH1cq%2B63UXidayTqp%2F%2B%2BMV9A%3D" alt="_20251205_071151.png" loading="lazy"/></p>
<p>_20251205_071151.png</p>
<p>githubåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTriliumNext%2FTrilium" target="_blank" title="https://github.com/TriliumNext/Trilium" ref="nofollow noopener noreferrer">github.com/TriliumNextâ€¦</a></p>
<p>å®˜ç½‘åœ°å€ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Ftriliumnotes.org%2F" target="_blank" title="https://triliumnotes.org/" ref="nofollow noopener noreferrer">triliumnotes.org/</a></p>
<h3 data-id="heading-1">æ ¸å¿ƒç‰¹ç‚¹ä¸€è§ˆï¼š</h3>
<ul>
<li><strong>æ ‘çŠ¶ç¬”è®°ç»“æ„</strong>ï¼šåƒæ–‡ä»¶ç³»ç»Ÿä¸€æ ·ç»„ç»‡ä½ çš„çŸ¥è¯†</li>
<li><strong>å¯Œæ–‡æœ¬ä¸ Markdown</strong>ï¼šæ”¯æŒè¡¨æ ¼ã€å›¾ç‰‡ã€æ•°å­¦å…¬å¼</li>
<li><strong>ä»£ç ç¬”è®°</strong>ï¼šè¯­æ³•é«˜äº®ï¼Œé€‚åˆç¨‹åºå‘˜</li>
<li><strong>ç‰ˆæœ¬æ§åˆ¶</strong>ï¼šå®Œæ•´çš„ç¬”è®°ä¿®è®¢å†å²</li>
<li><strong>å±æ€§ç³»ç»Ÿ</strong>ï¼šé€šè¿‡æ ‡ç­¾ã€å…³ç³»ç­‰å…ƒæ•°æ®ç»„ç»‡ç¬”è®°</li>
<li><strong>è„šæœ¬æ”¯æŒ</strong>ï¼šJavaScript è„šæœ¬å®ç°è‡ªåŠ¨åŒ–</li>
<li><strong>åŠ å¯†ç¬”è®°</strong>ï¼šå•ç¬”è®°çº§åˆ«çš„åŠ å¯†ä¿æŠ¤</li>
<li><strong>æ€ç»´å¯¼å›¾ã€ç»˜å›¾ã€åœ°å›¾</strong>ï¼šå¤šç§å¯è§†åŒ–å·¥å…·</li>
<li><strong>REST API</strong>ï¼šæ”¯æŒå¤–éƒ¨é›†æˆå’Œè‡ªåŠ¨åŒ–</li>
<li><strong>ç§»åŠ¨ç«¯ä¼˜åŒ–</strong>ï¼šå“åº”å¼è®¾è®¡ï¼Œæ”¯æŒæ‰‹æœºå’Œå¹³æ¿</li>
<li><strong>åŒæ­¥åŠŸèƒ½</strong>ï¼šè‡ªå»ºæœåŠ¡å™¨æˆ–å¤šè®¾å¤‡åŒæ­¥</li>
</ul>
<h2 data-id="heading-2">éƒ¨ç½²</h2>
<h3 data-id="heading-3">windowsæ¡Œé¢ç«¯å®‰è£…ï¼ˆæœ€ç®€å•ï¼‰</h3>
<p>åœ¨github æˆ–è€…å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…ç›´æ¥å®‰è£…</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a01ee96db2524d21ae921aadf0770ce6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500254&amp;x-signature=rq2H7jGqUXZ8iOKZ9%2FQ5ZvMs27s%3D" alt="ScreenShot_2025-12-05_071836_166.png" loading="lazy"/></p>
<p>ScreenShot_2025-12-05_071836_166.png</p>
<h3 data-id="heading-4">Docker éƒ¨ç½²ï¼ˆæœåŠ¡å™¨ä½¿ç”¨ï¼‰</h3>
<p>æˆ‘ä½¿ç”¨çš„æ˜¯docker-composeéƒ¨ç½²çš„æ–¹å¼ï¼Œä»¥ä¸‹æ˜¯éƒ¨ç½²æ­¥éª¤</p>
<p>åœ¨linuxä¸Šåˆ›å»ºéƒ¨ç½²ç›®å½•<code>trilium</code>,åœ¨è¯¥ç›®å½•ä¸‹åˆ›å»ºdocker-compose.ymlæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-symbol">services:</span>
  <span class="hljs-symbol">trilium:</span>
    <span class="hljs-symbol">image:</span> triliumnext/<span class="hljs-symbol">trilium:</span>latest
    <span class="hljs-symbol">restart:</span> <span class="hljs-keyword">unless</span>-stopped
    <span class="hljs-symbol">ports:</span>
      - <span class="hljs-string">'8020:8080'</span>
    <span class="hljs-symbol">volumes:</span>
      - ./trilium-<span class="hljs-symbol">data:</span>/home/node/trilium-data
      - <span class="hljs-regexp">/etc/timezone</span><span class="hljs-symbol">:/etc/timezone</span><span class="hljs-symbol">:ro</span>
      - <span class="hljs-regexp">/etc/localtime</span><span class="hljs-symbol">:/etc/localtime</span><span class="hljs-symbol">:ro</span>
</code></pre>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨</p>
<pre><code class="hljs">docker-compose up -d
</code></pre>
<p>åˆ°æ­¤ï¼Œæ²¡æœ‰é—®é¢˜çš„è¯æˆ‘ä»¬æœåŠ¡å°±å·²ç»éƒ¨ç½²å®Œæˆäº†</p>
<h2 data-id="heading-5">ä½¿ç”¨</h2>
<h3 data-id="heading-6">è®¾ç½®å¯†ç </h3>
<p>åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€æˆ‘ä»¬éƒ¨ç½²æœåŠ¡çš„åœ°å€ï¼Œé¦–æ¬¡ä½¿ç”¨çš„è¯éœ€è¦è®¾ç½®å¯†ç ï¼Œéœ€è¦è®°ä½æ­¤å¯†ç ï¼Œå¦‚æœä¸¢å¤±çš„è¯æ˜¯æ‰¾ä¸å›æ¥çš„</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a1f813e4445496ca50803b41760a0e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500254&amp;x-signature=d4lO%2BnBQm2pdO5%2BQaf6nE%2B7nB9g%3D" alt="ScreenShot_2025-12-05_072459_009.png" loading="lazy"/></p>
<p>ScreenShot_2025-12-05_072459_009.png</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a97043cf9444cec865f36239fd32eec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500254&amp;x-signature=CBJ4eh3FMzjdtCI1XoistPXuIqg%3D" alt="ScreenShot_2025-12-05_072516_871.png" loading="lazy"/></p>
<p>ScreenShot_2025-12-05_072516_871.png</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/53ac61dd380e4bf48c9369a73eecbf6d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500254&amp;x-signature=98FAPkRj4tekTpUWjLpoM83bGmQ%3D" alt="ScreenShot_2025-12-05_072530_546.png" loading="lazy"/></p>
<p>ScreenShot_2025-12-05_072530_546.png</p>
<p>ç™»å½•ä¹‹åå°±æ˜¯è¿™ä¸ªæ ·å­</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b98562610884f44b59dd22afa9a74e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500254&amp;x-signature=OHfKo4Ht5n%2FIUvXGmYz1IqKkVIM%3D" alt="ScreenShot_2025-12-05_073110_570.png" loading="lazy"/></p>
<p>ScreenShot_2025-12-05_073110_570.png</p>
<h3 data-id="heading-7">è®¾ç½®è¯­è¨€</h3>
<p>ç³»ç»Ÿé»˜è®¤æ˜¯è‹±æ–‡çš„ï¼Œéœ€è¦å…ˆè®¾ç½®ä¸ºä¸­æ–‡</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee713af4029f4c30859708ecb4a83dec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500254&amp;x-signature=fRRZnRf6oFhAGXytJy6TP5CSp0g%3D" alt="ScreenShot_2025-12-05_073310_268.png" loading="lazy"/></p>
<p>ScreenShot_2025-12-05_073310_268.png</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/751dc1daf652457898b30d52af718996~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500254&amp;x-signature=f2eHwkPabH4gi3Hqek%2BiW4WBdPQ%3D" alt="ScreenShot_2025-12-05_073321_769.png" loading="lazy"/></p>
<p>ScreenShot_2025-12-05_073321_769.png</p>
<h3 data-id="heading-8">æ–°å¢ç¬”è®°</h3>
<p>æˆ‘ä»¬å¯ä»¥åœ¨å·¦ä¾§æ–‡æ¡£æ ‘ä¸‹æ·»åŠ æ–‡æ¡£ï¼Œæ”¯æŒç±»å‹æ¯”è¾ƒå¤šï¼Œ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b9664a5ca344996a00da164a8cd8828~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500254&amp;x-signature=bE8k93z3qI3qGfeN%2FiJLaLywj1w%3D" alt="ScreenShot_2025-12-05_073901_361.png" loading="lazy"/></p>
<p>ScreenShot_2025-12-05_073901_361.png</p>
<p>è¿™äº›ç±»å‹ä¸­å¦‚ <code>Meimaidå›¾</code>ã€<code>æ€ç»´å¯¼å›¾</code>ã€<code>ç¬”è®°åœ°å›¾</code>ã€<code>åˆ—è¡¨è§†å›¾</code>ã€<code>ç½‘æ ¼è§†å›¾</code>ã€<code>æ—¥å†</code>ã€<code>è¡¨æ ¼</code>ã€<code>åœ°ç†åœ°å›¾</code>ã€<code>çœ‹æ¿</code>ã€<code>æ¼”ç¤º</code> è¿™äº›åŠŸèƒ½çš„æ”¯æŒè¿˜æ˜¯å¾ˆæœ‰ç‰¹ç‚¹çš„,æˆ‘ä»¬å°±ä¸åœ¨æ­¤ä¸€ä¸€åšå±•ç¤ºäº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b47478cd60024a4c81849b7151fc1ed4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500254&amp;x-signature=paidPpXZtaJk0fLZJFvrdwiHghE%3D" alt="ScreenShot_2025-12-05_075152_724.png" loading="lazy"/> <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23f826e621c14d2b8723aed8b78dfc9f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500254&amp;x-signature=t8j9%2Bafr5WFiOhlwLhiSA45%2B9bM%3D" alt="ScreenShot_2025-12-05_075203_673.png" loading="lazy"/> <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bbd95374b7144ab381f9e4d67eec1423~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500254&amp;x-signature=NmcqXMY6U7GwzIMxczW5DKCSBvo%3D" alt="ScreenShot_2025-12-05_075217_004.png" loading="lazy"/> <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/78449caf998945a9983babac79fa5ee3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500254&amp;x-signature=eV4gqQHDLV1ORijraJWDplLV8H8%3D" alt="ScreenShot_2025-12-05_075225_887.png" loading="lazy"/> <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f17b601dcb904e40b2cc2a101c3b9215~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500254&amp;x-signature=7cXxeZVHGE1bCJOp4K36z2zzEMw%3D" alt="ScreenShot_2025-12-05_075241_789.png" loading="lazy"/> <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b2e81e4dacb4fb7ab0f41afffe7ca0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500254&amp;x-signature=QzRIJUz9e1Rll7Pchhe4jKsOX5U%3D" alt="ScreenShot_2025-12-05_075249_239.png" loading="lazy"/></p>
<h3 data-id="heading-9">markdowm æ”¯æŒ</h3>
<p>è¿™ä¸ªæ–‡æ¡£ç³»ç»Ÿæœ€å¤§çš„ç¼ºç‚¹å°±æ˜¯ä¸ç›´æ¥æ”¯æŒmarkdown ç¼–è¾‘å™¨ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨markdownæ ¼å¼å†™ç¬”è®°çš„è¯å¾—ç°åœ¨å¤–éƒ¨ç¼–è¯‘å™¨ä¸­å†™å¥½ï¼Œé€šè¿‡markdownå¯¼å…¥ å¯¼å…¥åˆ°ç¬”è®°ä¸­</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aabe076298294834b2987d14572e0557~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765500254&amp;x-signature=Pk3VpFbxEvktTJTCJd%2FEGc%2BmClE%3D" alt="ScreenShot_2025-12-05_074742_688.png" loading="lazy"/></p>
<p>ScreenShot_2025-12-05_074742_688.png</p>
<h2 data-id="heading-10">é€‚ç”¨åœºæ™¯</h2>
<ul>
<li><strong>ä¸ªäººçŸ¥è¯†ç®¡ç†</strong>ï¼šæ„å»ºç¬¬äºŒå¤§è„‘</li>
<li><strong>å­¦ä¹ ç¬”è®°</strong>ï¼šè¯¾ç¨‹ã€è¯»ä¹¦ç¬”è®°æ•´ç†</li>
<li><strong>é¡¹ç›®æ–‡æ¡£</strong>ï¼šä»£ç ã€è®¾è®¡ã€æ–‡æ¡£ä¸€ä½“åŒ–</li>
<li><strong>ç ”ç©¶è®°å½•</strong>ï¼šæ–‡çŒ®ã€å®éªŒæ•°æ®ç®¡ç†</li>
<li><strong>åˆ›æ„å†™ä½œ</strong>ï¼šå°è¯´ã€å‰§æœ¬å¤§çº²</li>
</ul>
<h2 data-id="heading-11">ç»“è¯­</h2>
<p>Trilium Notes ä¸ä»…ä»…æ˜¯ä¸€ä¸ªç¬”è®°åº”ç”¨ï¼Œå®ƒæ˜¯ä¸€ä¸ª<strong>æ€ç»´çš„å¤–æ¥ç¡¬ç›˜</strong>ï¼Œä¸€ä¸ª<strong>çŸ¥è¯†çš„æ“ä½œç³»ç»Ÿ</strong>ã€‚åœ¨æ•°æ®éšç§æ—¥ç›Šé‡è¦çš„ä»Šå¤©ï¼Œæ‹¥æœ‰ä¸€ä¸ªå®Œå…¨è‡ªæˆ‘æŒæ§çš„çŸ¥è¯†ç®¡ç†ç³»ç»Ÿï¼Œæ—¢æ˜¯æŠ€æœ¯ä¸Šçš„é€‰æ‹©ï¼Œä¹Ÿæ˜¯ç†å¿µä¸Šçš„åšæŒã€‚</p>
<p>æ— è®ºä½ æ˜¯å­¦ç”Ÿã€ç ”ç©¶è€…ã€å¼€å‘è€…ï¼Œè¿˜æ˜¯ç»ˆèº«å­¦ä¹ è€…ï¼ŒTrilium éƒ½èƒ½ä¸ºä½ æä¾›ä¸€ä¸ªå¼ºå¤§è€Œçµæ´»çš„çŸ¥è¯†ç®¡ç†å¹³å°ã€‚æœ€é‡è¦çš„æ˜¯â€”â€”å®ƒå®Œå…¨å…è´¹ï¼Œå®Œå…¨å¼€æºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C++ ç±»å‹è½¬æ¢ï¼šæ—§é£æ ¼ä¸å››ç§æ–°é£æ ¼è¯¦è§£]]></title>    <link>https://juejin.cn/post/7579872561674928137</link>    <guid>https://juejin.cn/post/7579872561674928137</guid>    <pubDate>2025-12-05T00:51:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579872561674928137" data-draft-id="7579871631096545306" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C++ ç±»å‹è½¬æ¢ï¼šæ—§é£æ ¼ä¸å››ç§æ–°é£æ ¼è¯¦è§£"/> <meta itemprop="keywords" content="åç«¯,C++"/> <meta itemprop="datePublished" content="2025-12-05T00:51:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å–µä¸ªå’ª"/> <meta itemprop="url" content="https://juejin.cn/user/1350630784901262"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C++ ç±»å‹è½¬æ¢ï¼šæ—§é£æ ¼ä¸å››ç§æ–°é£æ ¼è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1350630784901262/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å–µä¸ªå’ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T00:51:36.000Z" title="Fri Dec 05 2025 00:51:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">C++ ç±»å‹è½¬æ¢ï¼šæ—§é£æ ¼ä¸å››ç§æ–°é£æ ¼è¯¦è§£</h2>
<p>åœ¨ C++ ç¼–ç¨‹ä¸­ï¼Œç±»å‹è½¬æ¢æ˜¯è¿æ¥ä¸åŒæ•°æ®ç±»å‹çš„é‡è¦æ‰‹æ®µã€‚C++ åŒæ—¶æ”¯æŒå…¼å®¹ C è¯­è¨€çš„æ—§é£æ ¼å¼ºåˆ¶è½¬å‹ï¼Œä»¥åŠé’ˆå¯¹ç‰¹å®šåœºæ™¯è®¾è®¡çš„å››ç§æ–°é£æ ¼å¼ºåˆ¶è½¬å‹ï¼Œåè€…åœ¨å¯è¯»æ€§ã€å®‰å…¨æ€§å’Œè§„èŒƒæ€§ä¸Šæ›´å…·ä¼˜åŠ¿ã€‚æœ¬æ–‡å°†è¯¦ç»†è§£æå„ç±»è½¬æ¢çš„è¯­æ³•ã€ç”¨é€”åŠæ ¸å¿ƒå·®å¼‚ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€æ—§é£æ ¼ï¼ˆC-styleï¼‰å¼ºåˆ¶è½¬å‹</h3>
<p>C é£æ ¼å¼ºåˆ¶è½¬å‹åŒ…å«ä¸¤ç§è¯­æ³•å½¢å¼ï¼Œæœ¬è´¨åŠŸèƒ½å®Œå…¨ä¸€è‡´ï¼Œä»…æ‹¬å·ä½ç½®ä¸åŒï¼š</p>
<ul>
<li>æ ¼å¼ 1ï¼š<code>(T) expression</code>ï¼ˆå°†è¡¨è¾¾å¼è½¬æ¢ä¸º <code>T</code> ç±»å‹ï¼‰</li>
<li>æ ¼å¼ 2ï¼š<code>T(expression)</code>ï¼ˆå‡½æ•°å¼è¯­æ³•ï¼Œæ•ˆæœåŒä¸Šï¼‰</li>
</ul>
<p>è¿™ç±»è½¬æ¢ç®€æ´ä½†ç¼ºä¹é’ˆå¯¹æ€§ï¼Œæ—¢å¯ä»¥ç”¨äºåŸºç¡€ç±»å‹è½¬æ¢ï¼Œä¹Ÿèƒ½ç”¨äºæŒ‡é’ˆã€å¸¸é‡å±æ€§ç­‰å¤æ‚åœºæ™¯ï¼Œå¯¼è‡´ç±»å‹ç³»ç»Ÿè¢«ç ´åçš„ä½ç½®éš¾ä»¥æ’æŸ¥ï¼Œç¼–è¯‘å™¨ä¹Ÿæ— æ³•æä¾›é”™è¯¯è¯Šæ–­ï¼Œä»…åœ¨å…¼å®¹æ—§ä»£ç æ—¶å»ºè®®ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-2">äºŒã€C++ æ–°é£æ ¼å››ç§å¼ºåˆ¶è½¬å‹</h3>
<p>C++ å¼•å…¥çš„å››ç§æ–°é£æ ¼è½¬æ¢ï¼Œæ¯ç§éƒ½æœ‰æ˜ç¡®çš„é€‚ç”¨åœºæ™¯ï¼Œèƒ½ç²¾å‡†çº¦æŸè½¬æ¢è¡Œä¸ºï¼Œæå‡ä»£ç å®‰å…¨æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œæ˜¯ç°ä»£ C++ å¼€å‘çš„é¦–é€‰ã€‚</p>
<h4 data-id="heading-3">1. dynamic_castï¼šå®‰å…¨çš„å‘ä¸‹è½¬å‹</h4>
<ul>
<li>è¯­æ³•ï¼š<code>dynamic_cast&lt;T*&gt;(expression)</code></li>
<li>æ ¸å¿ƒç”¨é€”ï¼š<strong>ä»…ç”¨äºç»§æ‰¿ä½“ç³»ä¸­çš„ç±»å‹è½¬æ¢</strong>ï¼Œå°¤å…¶é€‚åˆ â€œå‘ä¸‹è½¬å‹â€ï¼ˆåŸºç±»æŒ‡é’ˆ / å¼•ç”¨è½¬æ¢ä¸ºæ´¾ç”Ÿç±»æŒ‡é’ˆ / å¼•ç”¨ï¼‰ï¼Œæ˜¯å”¯ä¸€èƒ½ä¿è¯ç±»å‹å®‰å…¨çš„è½¬å‹æ–¹å¼ã€‚</li>
<li>å…³é”®ç‰¹æ€§ï¼š
<ul>
<li>ä¾èµ–è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯ï¼ˆ<code>RTTI</code>ï¼‰ï¼Œä¼šæ£€æŸ¥è½¬æ¢çš„åˆæ³•æ€§ï¼šè‹¥åŸºç±»æŒ‡é’ˆå®é™…æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œè½¬æ¢æˆåŠŸå¹¶è¿”å›æœ‰æ•ˆæŒ‡é’ˆï¼›è‹¥æŒ‡å‘åŸºç±»å¯¹è±¡æˆ–ç©ºæŒ‡é’ˆï¼Œè¿”å›ç©ºæŒ‡é’ˆï¼ˆæŒ‡é’ˆç±»å‹ï¼‰æˆ–æŠ›å‡ºå¼‚å¸¸ï¼ˆå¼•ç”¨ç±»å‹ï¼‰ã€‚</li>
<li>æ˜¯å”¯ä¸€<strong>ä¸èƒ½ç”¨æ—§é£æ ¼è¯­æ³•æ›¿ä»£</strong>çš„è½¬æ¢ï¼Œä¹Ÿæ˜¯å”¯ä¸€æœ‰æ˜¾è‘—è¿è¡Œæ—¶ä»£ä»·çš„è½¬æ¢ï¼ˆå› è¿è¡Œæ—¶ç±»å‹æ£€æŸ¥ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-4">2. static_castï¼šé€šç”¨å‹æ˜¾å¼è½¬æ¢</h4>
<ul>
<li>è¯­æ³•ï¼š<code>static_cast&lt;T&gt;(expression)</code></li>
<li>æ ¸å¿ƒç”¨é€”ï¼šè¦†ç›–å¤§éƒ¨åˆ† â€œåˆç†çš„æ˜¾å¼è½¬æ¢â€ åœºæ™¯ï¼Œæœ€æ¥è¿‘æ—§é£æ ¼è½¬æ¢ä½†æ›´å…·çº¦æŸæ€§ï¼š
<ul>
<li>åŸºç¡€ç±»å‹çš„éšå¼è½¬æ¢åå‘æ“ä½œï¼ˆå¦‚ <code>void*</code> è½¬å…·ä½“ç±»å‹æŒ‡é’ˆã€<code>int</code> è½¬ <code>double</code>ï¼‰ï¼›</li>
<li>ç»§æ‰¿ä½“ç³»ä¸­çš„ â€œå‘ä¸Šè½¬å‹â€ï¼ˆæ´¾ç”Ÿç±»æŒ‡é’ˆè½¬åŸºç±»æŒ‡é’ˆï¼Œå¤©ç„¶å®‰å…¨ï¼Œæ— éœ€å¼ºåˆ¶è½¬æ¢ä½†å¯æ˜¾å¼ä½¿ç”¨ï¼‰ï¼›</li>
<li>é const å¯¹è±¡è½¬ const å¯¹è±¡ï¼ˆconst å¢å¼ºï¼‰ã€‚</li>
</ul>
</li>
<li>å…³é”®ç‰¹æ€§ï¼š
<ul>
<li>ç¼–è¯‘æ—¶å®Œæˆè½¬æ¢ï¼Œæ— è¿è¡Œæ—¶å¼€é”€ï¼Œä»…è¿›è¡Œè¯­æ³•å±‚é¢çš„æ£€æµ‹ï¼ˆå¦‚æŒ‡é’ˆè¶Šç•Œè®¡ç®—ï¼‰ï¼Œä¸éªŒè¯å®é™…ç±»å‹ã€‚</li>
<li>å±€é™æ€§ï¼šæ— æ³•æ¶ˆé™¤å¯¹è±¡çš„å¸¸é‡æ€§ï¼ˆéœ€ç”¨ <code>const_cast</code>ï¼‰ï¼Œå‘ä¸‹è½¬å‹æ—¶ä¸åšç±»å‹æ£€æŸ¥ï¼Œä¾èµ–ç¨‹åºå‘˜ç¡®ä¿è½¬æ¢åˆæ³•æ€§ï¼Œå­˜åœ¨å®‰å…¨é£é™©ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-5">3. const_castï¼šæ¶ˆé™¤å¸¸é‡æ€§ä¸“ç”¨</h4>
<ul>
<li>è¯­æ³•ï¼š<code>const_cast&lt;T*&gt;(expression)</code></li>
<li>æ ¸å¿ƒç”¨é€”ï¼š<strong>å”¯ä¸€èƒ½ä¿®æ”¹å¯¹è±¡å¸¸é‡å±æ€§çš„è½¬æ¢</strong>ï¼Œä»…ç”¨äºç§»é™¤æˆ–æ·»åŠ å˜é‡çš„ <code>const</code>/<code>volatile</code> é™å®šç¬¦ã€‚</li>
<li>å…³é”®ç‰¹æ€§ï¼š
<ul>
<li>è½¬æ¢ç›®æ ‡å¿…é¡»æ˜¯æŒ‡é’ˆã€å¼•ç”¨æˆ–æˆå‘˜æŒ‡é’ˆç±»å‹ï¼Œä¸èƒ½ç›´æ¥è½¬æ¢å¯¹è±¡æœ¬èº«ã€‚</li>
<li>ä»…æ”¹å˜ç±»å‹çš„å¸¸é‡å±æ€§ï¼Œä¸æ”¹å˜å¯¹è±¡çš„å®é™…ç±»å‹æˆ–å€¼ï¼šè‹¥åŸå§‹å¯¹è±¡æœ¬èº«æ˜¯ const ç±»å‹ï¼ˆå¦‚ <code>const int a = 10</code>ï¼‰ï¼Œé€šè¿‡ const_cast ç§»é™¤å¸¸é‡æ€§åä¿®æ”¹å¯¹è±¡ï¼Œè¡Œä¸ºæœªå®šä¹‰ï¼›è‹¥å¯¹è±¡æœ¬è´¨æ˜¯é constï¼ˆå¦‚ <code>int b = 20; const int* p = &amp;b</code>ï¼‰ï¼Œåˆ™å¯å®‰å…¨ä¿®æ”¹ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-6">4. reinterpret_castï¼šåº•å±‚æ¯”ç‰¹çº§è½¬æ¢</h4>
<ul>
<li>è¯­æ³•ï¼š<code>reinterpret_cast&lt;T&gt;(expression)</code></li>
<li>æ ¸å¿ƒç”¨é€”ï¼šåº•å±‚ç±»å‹çš„ â€œé‡æ–°è§£é‡Šâ€ï¼Œä»…å¤åˆ¶å¯¹è±¡çš„æ¯”ç‰¹æ¨¡å‹ï¼Œä¸è¿›è¡Œä»»ä½•äºŒè¿›åˆ¶è½¬æ¢æˆ–ç±»å‹æ ¡éªŒï¼Œé€‚ç”¨äºæç‰¹æ®Šçš„åº•å±‚ç¼–ç¨‹åœºæ™¯ã€‚</li>
<li>å…³é”®ç‰¹æ€§ï¼š
<ul>
<li>è½¬æ¢ç»“æœä¾èµ–ç¼–è¯‘å™¨å®ç°ï¼Œä¸å¯ç§»æ¤ï¼Œæ˜¯æœ€å±é™©çš„è½¬æ¢æ–¹å¼ï¼ˆå¦‚æŒ‡é’ˆè½¬æ•´æ•°ã€ä¸åŒç±»å‹æŒ‡é’ˆäº’è½¬ï¼‰ã€‚</li>
<li>ä»…ç”¨äº â€œå°†ç±»å‹æ˜ å°„å›åŸæœ‰ç±»å‹â€ çš„åœºæ™¯ï¼šä¾‹å¦‚å°†æŒ‡é’ˆå­˜å‚¨ä¸ºæ•´æ•°åï¼Œéœ€é€šè¿‡ç›¸åŒè½¬æ¢è¿˜åŸä¸ºåŸæŒ‡é’ˆç±»å‹ï¼Œå¦åˆ™ä¼šå¯¼è‡´å†…å­˜è®¿é—®é”™è¯¯ã€‚</li>
<li>ç¤ºä¾‹ï¼š<code>int n = 9; double d = reinterpret_cast&lt;double&amp;&gt;(n);</code>ï¼Œd çš„å€¼æ˜¯æ— æ•ˆçš„ â€”â€” å› ä¸ºå®ƒç›´æ¥å¤åˆ¶äº† int çš„æ¯”ç‰¹ä½ï¼Œæœªéµå¾ª double çš„äºŒè¿›åˆ¶å­˜å‚¨è§„åˆ™ï¼Œè€Œ <code>static_cast&lt;double&gt;(n)</code> ä¼šæ­£ç¡®è½¬æ¢ä¸º <code>9.0</code>ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-7">ä¸‰ã€æ ¸å¿ƒè½¬æ¢å¯¹æ¯”ï¼šæ˜ç¡®é€‚ç”¨è¾¹ç•Œ</h3>
<h4 data-id="heading-8">1. dynamic_cast vs static_castï¼ˆç»§æ‰¿ä½“ç³»è½¬æ¢ï¼‰</h4>
<p>å‡è®¾æœ‰ç»§æ‰¿å…³ç³» <code>class D : public B</code>ï¼Œå¯¹åŸºç±»æŒ‡é’ˆ <code>B* pb</code> è¿›è¡Œå¦‚ä¸‹è½¬æ¢ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">f</span><span class="hljs-params">(B* pb)</span> </span>{
  D* pd1 = <span class="hljs-built_in">dynamic_cast</span>&lt;D*&gt;(pb); <span class="hljs-comment">// å®‰å…¨è½¬å‹</span>
  D* pd2 = <span class="hljs-built_in">static_cast</span>&lt;D*&gt;(pb);  <span class="hljs-comment">// ä¸å®‰å…¨è½¬å‹</span>
}
</code></pre>
<ul>
<li>è‹¥ <code>pb</code> æŒ‡å‘ <code>D</code> ç±»å¯¹è±¡æˆ–ä¸ºç©ºï¼šä¸¤è€…è½¬æ¢ç»“æœä¸€è‡´ï¼Œå‡è¿”å›æœ‰æ•ˆæŒ‡é’ˆæˆ–ç©ºæŒ‡é’ˆï¼›</li>
<li>è‹¥ <code>pb</code> æŒ‡å‘ <code>B</code> ç±»å¯¹è±¡ï¼ˆé <code>D</code> ç±»ï¼‰ï¼š<code>dynamic_cast</code> æ£€æµ‹åˆ°ç±»å‹ä¸åŒ¹é…ï¼Œè¿”å›ç©ºæŒ‡é’ˆï¼›<code>static_cast</code> ç›´æ¥è¿”å› â€œå‡è®¾ä¸º <code>D</code> ç±»å¯¹è±¡â€ çš„æŒ‡é’ˆï¼Œåç»­è®¿é—®æ´¾ç”Ÿç±»æˆå‘˜ä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚</li>
</ul>
<p>ç»“è®ºï¼šç»§æ‰¿ä½“ç³»å‘ä¸‹è½¬å‹ä¼˜å…ˆç”¨ <code>dynamic_cast</code>ï¼ˆå®‰å…¨ï¼‰ï¼Œå·²çŸ¥è½¬æ¢åˆæ³•æ—¶å¯â½¤ <code>static_cast</code>ï¼ˆé«˜æ•ˆï¼‰ã€‚</p>
<h4 data-id="heading-9">2. static_cast vs reinterpret_castï¼ˆåŸºç¡€ç±»å‹ / æŒ‡é’ˆè½¬æ¢ï¼‰</h4>
<ul>
<li>è½¬æ¢æœ¬è´¨ï¼š<code>static_cast</code> ä¼šæ ¹æ®ç±»å‹è§„åˆ™è¿›è¡ŒäºŒè¿›åˆ¶è½¬æ¢ï¼ˆå¦‚ int è½¬ double è¡¥å…¨æ¯”ç‰¹ä½ï¼‰ï¼Œ<code>reinterpret_cast</code> ä»…åŸæ ·å¤åˆ¶æ¯”ç‰¹ä½ï¼›</li>
<li>é€‚ç”¨åœºæ™¯ï¼š<code>static_cast</code> ç”¨äº â€œé€»è¾‘ä¸Šå…¼å®¹â€ çš„ç±»å‹è½¬æ¢ï¼ˆå¦‚æ•°å€¼ç±»å‹ã€ä¸Šä¸‹è½¬å‹ï¼‰ï¼Œ<code>reinterpret_cast</code> ä»…ç”¨äºåº•å±‚æ¯”ç‰¹çº§æ“ä½œï¼ˆå¦‚æŒ‡é’ˆä¸æ•´æ•°äº’è½¬ï¼‰ï¼›</li>
<li>å®‰å…¨æ€§ï¼š<code>static_cast</code> ä»…åœ¨è½¬æ¢è§„åˆ™å†…å®‰å…¨ï¼Œ<code>reinterpret_cast</code> å®Œå…¨ä¾èµ–ç¨‹åºå‘˜æ§åˆ¶ï¼Œè¯¯ç”¨ä¼šç›´æ¥ç ´åå†…å­˜å®‰å…¨ã€‚</li>
</ul>
<h3 data-id="heading-10">å››ã€æ€»ç»“ï¼šè½¬æ¢é€‰æ‹©ä¼˜å…ˆçº§</h3>
<ol>
<li>ä¼˜å…ˆä½¿ç”¨ç¼–è¯‘å™¨éšå¼è½¬æ¢ï¼ˆ<strong>æ— éœ€æ˜¾å¼å£°æ˜ï¼Œæœ€å®‰å…¨</strong>ï¼‰ï¼›</li>
<li>éœ€æ˜¾å¼è½¬æ¢æ—¶ï¼Œæ ¹æ®åœºæ™¯é€‰æ‹©æ–°é£æ ¼è½¬æ¢ï¼š
<ul>
<li>ç»§æ‰¿ä½“ç³»å‘ä¸‹è½¬å‹ â†’ <code>dynamic_cast</code>ï¼ˆ<strong>å®‰å…¨ä¼˜å…ˆ</strong>ï¼‰ï¼›</li>
<li>åŸºç¡€ç±»å‹è½¬æ¢ã€å‘ä¸Šè½¬å‹ â†’ <code>static_cast</code>ï¼ˆ<strong>é€šç”¨é«˜æ•ˆ</strong>ï¼‰ï¼›</li>
<li>éœ€ä¿®æ”¹å¸¸é‡å±æ€§ â†’ <code>const_cast</code>ï¼ˆ<strong>ä»…é™éæœ¬è´¨ <code>const</code> å¯¹è±¡</strong>ï¼‰ï¼›</li>
<li>åº•å±‚æ¯”ç‰¹çº§æ“ä½œ â†’ <code>reinterpret_cast</code>ï¼ˆ<em><strong>è°¨æ…ä½¿ç”¨ï¼Œä»…é™åº•å±‚ä»£ç </strong></em>ï¼‰ï¼›</li>
</ul>
</li>
<li>é¿å…ä½¿ç”¨æ—§é£æ ¼è½¬æ¢ï¼Œä»…åœ¨å…¼å®¹ C ä»£ç æ—¶ä¾‹å¤–ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸šåŠ¡å¦‚ä½•å¯¹æ¥é£æ§å†³ç­–ï¼Œå®æ—¶/å¼‚æ­¥ï¼Œç»“æœåŒæ­¥]]></title>    <link>https://juejin.cn/post/7579893536105037830</link>    <guid>https://juejin.cn/post/7579893536105037830</guid>    <pubDate>2025-12-05T01:00:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579893536105037830" data-draft-id="7579819594271211558" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸šåŠ¡å¦‚ä½•å¯¹æ¥é£æ§å†³ç­–ï¼Œå®æ—¶/å¼‚æ­¥ï¼Œç»“æœåŒæ­¥"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-05T01:00:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ— å¥ˆä½•æ¨"/> <meta itemprop="url" content="https://juejin.cn/user/72987223006237"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸šåŠ¡å¦‚ä½•å¯¹æ¥é£æ§å†³ç­–ï¼Œå®æ—¶/å¼‚æ­¥ï¼Œç»“æœåŒæ­¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/72987223006237/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ— å¥ˆä½•æ¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T01:00:40.000Z" title="Fri Dec 05 2025 01:00:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é—®é¢˜</h2>
<p>åœ¨é£æ§ç³»ç»Ÿçš„è®¾è®¡ä¸å®è·µä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°ä¸¤éš¾ï¼š</p>
<ul>
<li><strong>äº‹ä¸­</strong>ï¼šéœ€è¦å¿«é€Ÿã€å®æ—¶å†³ç­–ï¼Œä¿è¯ä½å»¶è¿Ÿã€‚</li>
<li><strong>äº‹å</strong>ï¼šéœ€è¦å®Œæ•´çš„æ•°æ®é—­ç¯ï¼Œç”¨äºåˆ†æå’Œæ¨¡å‹ä¼˜åŒ–ã€‚</li>
</ul>
<p>åœ¨è½åœ°æ—¶ä¼šé‡åˆ°ç±»ä¼¼çš„é—®é¢˜ï¼š</p>
<ul>
<li><strong>äº‹å‰å’Œäº‹åæ•°æ®å‡ ä¹å®Œå…¨ä¸€è‡´</strong>ï¼ŒåŸç³»ç»Ÿä¸å¾—ä¸é‡å¤ç»„è£…ä¸€ä»½æ•°æ®å‘ç»™é£æ§ï¼Œé€ æˆå¤§é‡å†—ä½™ã€‚</li>
<li><strong>é£æ§ç³»ç»Ÿåªåšäº†å†³ç­–ï¼Œå´ä¸çŸ¥é“æœ€ç»ˆç»“æœ</strong>ï¼Œæ— æ³•é—­ç¯ä¼˜åŒ–ç­–ç•¥ã€‚</li>
<li><strong>æŒ‘æˆ˜éªŒè¯ï¼ˆäººè„¸ / çŸ­ä¿¡ / æ»‘å—ï¼‰</strong> æ¶‰åŠè·¨é˜¶æ®µçŠ¶æ€ä¿æŒï¼Œä¸€æ—¦æ–­é“¾ï¼Œå°±ä¼šå¯¼è‡´æ•°æ®ç¼ºå¤±å’Œå®‰å…¨æ¼æ´ã€‚</li>
</ul>
<p>åœ¨å‰æ–‡ä¹Ÿå†™è¿‡ç›¸å…³çš„ï¼Œä½†æ˜¯éšç€è®¤è¯†åŠ æ·±å’Œå®è·µç»éªŒåŠ å¼ºï¼Œæ„Ÿå—å’Œç†è§£ä¹Ÿä¸å¤ªç›¸åŒçš„ã€‚</p>
<h2 data-id="heading-1">å†³ç­–æµç¨‹</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fwnhyang%2FcoolGuard" target="_blank" title="https://github.com/wnhyang/coolGuard" ref="nofollow noopener noreferrer">github.com/wnhyang/cooâ€¦</a></p>
<p>æœ¬ç¯‡æ–‡ç« è®¨è®ºçš„å‰æéƒ½æ˜¯æ­¤é¡¹ç›®ï¼Œè€Œä¸”æ›´å¤šæ˜¯é—­æºåˆ†æ”¯ï¼Œè¯·è°…è§£ã€‚</p>
<p>ç°åœ¨çš„å†³ç­–æµç¨‹å¤§è‡´æ˜¯è¿™æ ·çš„ï¼Œä¹‹å‰è®²è¿‡æ¯æœ‰ä¸€ä¸ªæ¥å…¥é…ç½®ï¼Œå°±å¯¹åº”äº†ä¸‰ä¸ªæ¥å£ï¼Œåˆ†åˆ«æ˜¯<code>/{code}/sync</code>ï¼ˆåŒæ­¥å®æ—¶å†³ç­–æ•°æ®æ¥å…¥ï¼‰ã€<code>/{code}/async</code>ï¼ˆå¼‚æ­¥ï¼Œéå†³ç­–ç±»æ•°æ®æ¥å…¥ï¼ŒåŒ…å«åŒæ­¥çš„ç»“æœé€šçŸ¥ï¼‰</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ccc7ff28d0434990a060e31ee3829240~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg5aWI5L2V5p2o:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501240&amp;x-signature=3JY7AxNJDukR44uIwX938F%2Fn2DE%3D" alt="" loading="lazy"/></p>
<p>è¯¦ç»†çš„å°±ä¸å±•å¼€äº†ï¼Œå…³é”®æ˜¯ä¸šåŠ¡å¦‚ä½•å¯¹æ¥ï¼Ÿ</p>
<h2 data-id="heading-2">ä¸šåŠ¡æ¥å…¥</h2>
<p>é¦–å…ˆå¾—ç†è§£ä¸šåŠ¡æ¥å…¥é£æ§çš„æ˜¯ä»€ä¹ˆï¼Ÿé€šå¸¸æ¥è¯´ä¸€ä¸ªå®Œæ•´çš„ä¸šåŠ¡æµç¨‹éƒ½ä¸æ˜¯é‚£ä¹ˆç®€å•ï¼Œæ ¹æ®è‡ªå·±çš„éœ€æ±‚å†³å®šè¦æ¥å…¥é£æ§çš„ç‚¹ã€‚</p>
<p>æ¯”å¦‚ï¼Œä¸€ä¸ªä¸šåŠ¡TX0000ï¼Œæƒ³è¦æ¥å…¥é£æ§å†³ç­–ï¼Œæœ¬èº«TX0000æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¸šåŠ¡ï¼Œç°åœ¨è¦æ¥å…¥é£æ§å†³ç­–ã€‚</p>
<h3 data-id="heading-3">æ‹†åˆ†</h3>
<p>æ‹†åˆ†ä¹Ÿå°±æ˜¯åˆ†æ­¥ï¼Œå¦‚æ‹†åˆ†æˆTX0000_1å’ŒTX0000_2åˆ†åˆ«è¡¨ç¤ºå†³ç­–å‰åï¼Œå½“ç„¶è¿™åªæ˜¯é’ˆå¯¹æ¥å…¥é£æ§å†³ç­–ï¼Œæœ¬èº«å¯¹äºä¸šåŠ¡ç³»ç»Ÿè¿˜æ˜¯ä¸€ä¸ªå®Œæ•´çš„ã€‚</p>
<p>åœ¨é£æ§è®°å½•ä¸­å¯¹åº”çš„æ˜¯ä¸¤æ¡</p>


























<table><thead><tr><th>äº‹ä»¶ID</th><th>å­—æ®µ</th><th>æŒ‡æ ‡</th><th>å†³ç­–è®°å½•</th><th>ç­‰</th></tr></thead><tbody><tr><td>1000001</td><td>ã€‚ã€‚ã€‚</td><td>ã€‚ã€‚ã€‚</td><td>ã€‚ã€‚ã€‚</td><td>ã€‚ã€‚ã€‚</td></tr><tr><td>1000002</td><td>ã€‚ã€‚ã€‚</td><td>ã€‚ã€‚ã€‚</td><td>ã€‚ã€‚ã€‚</td><td>ã€‚ã€‚ã€‚</td></tr></tbody></table>
<p>å…³é”®æµç¨‹ï¼š</p>
<p>1ã€ä¸šåŠ¡ç³»ç»Ÿé€šè¿‡syncå°†å®Œæ•´æ•°æ®æ¥å…¥é£æ§</p>
<p>2ã€é£æ§è¿›è¡Œå®æ—¶å†³ç­–ï¼Œè¿”å›å†³ç­–ç»“æœå’Œé£æ§äº‹ä»¶ID</p>
<p>3ã€ä¸šåŠ¡ç³»ç»Ÿå¤„ç†å†³ç­–ç»“æœï¼ˆè¿™é‡Œçœå»éƒ¨åˆ†ï¼‰</p>
<p>4ã€ä¸šåŠ¡ç³»ç»Ÿé€šè¿‡asyncåŒæ­¥ç»“æœï¼Œä¾ç„¶åŒ…å«å®Œæ•´æ•°æ®</p>
<p>5ã€é£æ§è®¡ç®—äº‹åæŒ‡æ ‡ï¼ŒåŒæ ·ç”Ÿæˆäº‹ä»¶ID</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eac9a1e6fc8d41e2b642026e84071375~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg5aWI5L2V5p2o:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501240&amp;x-signature=x3Bj6%2FboIFy3p0SN13PmeNy0N0s%3D" alt="" loading="lazy"/></p>
<p>è¿™é‡Œæˆ‘ä»¬ä¸¾ä¸¤ä¸ªæŒ‡æ ‡çš„ä¾‹å­</p>
<p>1ã€7å¤©å†…åŒä¸€è®¾å¤‡IDå‘èµ·ä¸šåŠ¡TX0000çš„æ•°é‡ï¼Œå¦‚ä¸‹</p>
<p>å› ä¸ºæ˜¯å‘èµ·ï¼Œæ‰€ä»¥è¿™é‡Œé…ç½®çš„TX0000_1ï¼Œè¡¨ç¤ºåªæ˜¯è¦åšè¿™ä¸ªä¸šåŠ¡ï¼Œæ˜¯å¦å®Œæˆè¿˜æ˜¯çœ‹TX0000_2çš„æƒ…å†µã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/debcfe19ff0241b5a620d55de84cfd47~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg5aWI5L2V5p2o:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501240&amp;x-signature=68ffOH1TzPqsfeGbhQhXWIM8PDA%3D" alt="" loading="lazy"/></p>
<p>2ã€7å¤©å†…ç»Ÿä¸€è®¾å¤‡å®Œæˆä¸šåŠ¡TX0000çš„æ•°é‡ï¼Œå¦‚ä¸‹</p>
<p>å› ä¸ºæ˜¯å®Œæˆï¼Œæ‰€ä»¥é…ç½®çš„æ˜¯TX0000_2ä¸”ç»“æœéœ€è¦æ˜¯æˆåŠŸçš„ã€‚è¿™ä¸ªç»“æœå¯ä»¥æ˜¯é£æ§å†³ç­–åŠ å¼ºéªŒè¯çš„æˆåŠŸå¤±è´¥ä¹Ÿæ˜¯å¯ä»¥æ­£å¸¸ä¸šåŠ¡æµç¨‹çš„ä»»ä½•æˆåŠŸå¤±è´¥ï¼Œå¯†ç é”™è¯¯ã€ä¸‹æ¸¸è¶…æ—¶ç­‰ç­‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4dde50100354485a92c5bbfac2b7283a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg5aWI5L2V5p2o:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501240&amp;x-signature=ePGUTJSEwRCau8rr51LyQlPI9Kw%3D" alt="" loading="lazy"/></p>
<p>è¿™é‡Œä½¿ç”¨äº†â€œäº‹ä»¶ç»“æœâ€ä½œä¸ºç»“æœå­—æ®µï¼Œè¿™ä¸ªéšæ„æ€ä¹ˆå®šä¹‰éƒ½è¡Œï¼Œçº¦å®šå¥½å°±è¡Œï¼Œä¹Ÿå¯ä»¥æ˜¯æ­¥éª¤1ã€2ã€3ï¼Œéƒ½è¡Œã€‚</p>
<h3 data-id="heading-4">ä¸æ‹†åˆ†</h3>
<p>å¦‚æœæ˜¯ä¸æ‹†åˆ†ï¼Œé‚£ä¹ˆå°±ä¿ç•™TX0000æ¥å…¥é£æ§å†³ç­–</p>
<p>åœ¨é£æ§è®°å½•ä¸­å¯¹åº”çš„æ˜¯ä¸€æ¡</p>



















<table><thead><tr><th>äº‹ä»¶ID</th><th>å­—æ®µ</th><th>æŒ‡æ ‡</th><th>å†³ç­–è®°å½•</th><th>ç­‰</th></tr></thead><tbody><tr><td>1000003</td><td>ã€‚ã€‚ã€‚+</td><td>ã€‚ã€‚ã€‚+</td><td>ã€‚ã€‚ã€‚</td><td>ã€‚ã€‚ã€‚</td></tr></tbody></table>
<p>å…³é”®æµç¨‹ï¼š</p>
<p>1ã€ä¸šåŠ¡ç³»ç»Ÿé€šè¿‡syncå°†å®Œæ•´æ•°æ®æ¥å…¥é£æ§</p>
<p>2ã€é£æ§è¿›è¡Œå®æ—¶å†³ç­–ï¼Œè¿”å›å†³ç­–ç»“æœå’Œé£æ§äº‹ä»¶ID</p>
<p>3ã€ä¸šåŠ¡ç³»ç»Ÿå¤„ç†å†³ç­–ç»“æœï¼ˆè¿™é‡Œçœå»éƒ¨åˆ†ï¼‰</p>
<p>4ã€ä¸šåŠ¡ç³»ç»Ÿé€šè¿‡asyncåŒæ­¥ç»“æœï¼ˆéœ€è¦åŒ…å«é£æ§äº‹ä»¶IDï¼‰</p>
<p>5ã€é£æ§æ ¹æ®äº‹ä»¶IDç¡®è®¤æ˜¯å¦ç»“æœåŒæ­¥ï¼Œè¡¥å……æ›´æ–°æ•°æ®ï¼Œè®¡ç®—äº‹åæŒ‡æ ‡</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46370c42747b49b8ace90f06b3898802~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg5aWI5L2V5p2o:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501240&amp;x-signature=F5vBg%2FDy76H4HZfIcJpTNJaf6m4%3D" alt="" loading="lazy"/></p>
<p>å¯¹æ¯”äºä¸Šï¼Œè¿˜æ˜¯è¿™ä¸¤ä¸ªæŒ‡æ ‡</p>
<p>1ã€7å¤©å†…åŒä¸€è®¾å¤‡IDå‘èµ·ä¸šåŠ¡TX0000çš„æ•°é‡</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28493a8c18b44c78971caade6fcf4442~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg5aWI5L2V5p2o:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501240&amp;x-signature=r2W2EfDJvBsgHd4IuHQtD7uiEZ0%3D" alt="" loading="lazy"/></p>
<p>éœ€è¦æ³¨æ„è¿™é‡Œé¢å¤–é…ç½®äº†äº‹ä»¶ç»“æœä¸ºç©ºçš„æ¡ä»¶ï¼Œè¿™æ ·å¤„ç†æ˜¯å› ä¸ºï¼Œä½œä¸ºç»“æœåŒæ­¥ï¼Œä¼šé€šè¿‡äº‹ä»¶IDè¡¥å……ä¹‹å‰çš„æ•°æ®ï¼Œè¡¥å……åçš„æ•°æ®ä¼šä½œä¸ºä¸€æ¬¡ç‹¬ç«‹çš„æŒ‡æ ‡è®¡ç®—ï¼ŒæŒ‡æ ‡è®¡ç®—å¹¶æ²¡æœ‰äº‹åç»“æœçš„åŒºåˆ†ï¼Œæœ‰å¯èƒ½ä¼šé‡å¤è®¡ç®—ï¼Œæ‰€ä»¥æ¡ä»¶ä¸Šå°±éœ€è¦æœ‰åŒºåˆ«ã€‚</p>
<p>è¿˜æ˜¯ä»ä¾‹å­è¯´æ˜</p>
<p>aã€å†³ç­–æ—¶TX0000ï¼Œå®Œæ•´æ•°æ®ï¼ŒæŒ‡æ ‡è®¡ç®—ï¼Œå®æ—¶å†³ç­–</p>
<p>bã€TX0000çš„ç»“æœåŒæ­¥ï¼Œè¡¥å……ä¸Šå®Œæ•´æ•°æ®ï¼ŒæŒ‡æ ‡è®¡ç®—</p>
<p>æœ¬èº«è¿™æ˜¯åŒä¸€ä¸šåŠ¡çš„ä¸åŒé˜¶æ®µï¼Œå¦‚æœä¸åŠ ä»¥åŒºåˆ†ï¼Œä¼šè¢«è®¤ä¸ºæ˜¯ä¸åŒçš„ä¸¤ç¬”äº‹ä»¶è®¡ç®—ä¸¤æ¬¡ï¼ˆè™½ç„¶é¡¹ç›®ä½¿ç”¨äº†zsetå¹¶ä¸”ä½¿ç”¨äº‹ä»¶IDä½œä¸ºmemberçš„æ¨¡ç‰ˆï¼Œç†è®ºä¸Šä¸ä¼šå‡ºç°é‡å¤è®¡ç®—ï¼Œä½†æ˜¯é…ç½®ä¸Šä½“ç°ä¼šç›´æ¥çœå»è¿™éƒ¨åˆ†è®¡ç®—æµç¨‹ï¼Œä»è€ŒèŠ‚çœèµ„æºï¼‰ã€‚</p>
<p>2ã€7å¤©å†…ç»Ÿä¸€è®¾å¤‡å®Œæˆä¸šåŠ¡TX0000çš„æ•°é‡</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4fd21a29c0148c58c31e7099e1cfdf8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg5aWI5L2V5p2o:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501240&amp;x-signature=Ihvc04Lmis4Z4hLIz9PO5JvkIcU%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">å·®åˆ«</h3>
<p>æœ€åå†æ€»ç»“ä¸€ä¸‹åŒºåˆ«</p>
<p>æ‹†åˆ†ï¼šå°±æ˜¯æŠŠä¸€ä¸ªå®Œæ•´çš„ä¸šåŠ¡ä¸»åŠ¨æ‹†åˆ†å¼€</p>
<ul>
<li>ä¼˜ç‚¹ï¼šæ¸…æ™°ï¼Œé£æ§é…ç½®ã€è®¡ç®—ç®€å•</li>
<li>ç¼ºç‚¹ï¼šéœ€è¦é‡å¤ä¸Šé€æ•°æ®</li>
</ul>
<p>ä¸æ‹†åˆ†ï¼šä¿ç•™å®Œæ•´ä¸šåŠ¡æ•°æ®ä¸€ä½“</p>
<ul>
<li>ä¼˜ç‚¹ï¼šæ•°æ®ä¸€ä½“ï¼Œæ›´è´´åˆå®é™…ä¸šåŠ¡</li>
<li>ç¼ºç‚¹ï¼šé£æ§å¤„ç†å¤æ‚ï¼Œå°¤å…¶æ˜¯è¡¥æ•°æ®ï¼Œé‡å¤è®¡ç®—ä¸Š</li>
</ul>
<p>å¦å¤–ï¼Œå¦‚æœè¦åšå†å²æ•°æ®é‡è·‘ï¼Œåˆæ˜¯ä¸€å¤§å¾ˆå…³é”®çš„é—®é¢˜ã€‚</p>
<p>å‰é¢è¯´è¿‡çš„å¦‚æœæ˜¯æ‹†åˆ†ï¼Œé‚£ä¹ˆå¯¹åº”è®°å½•å°±æ˜¯ä¸¤æ¡ï¼Œå¦‚æœæ˜¯ä¸æ‹†åˆ†å¯¹åº”è®°å½•å°±æ˜¯ä¸€æ¡ï¼Œç³»ç»Ÿæ˜¯å¦èƒ½ä¿è¯é‡è·‘å†å²æ•°æ®ä»ç„¶ä¿è¯æ­£ç¡®çš„è®¡ç®—ï¼Œè¿™å…¶å®æ˜¯æœ‰ç‚¹æµè®¡ç®—å’Œæ‰¹è®¡ç®—çš„æ„æ€äº†ã€‚</p>
<p>ç›®å‰ç³»ç»Ÿå¯¹äºä¸¤ç§æ¨¡å¼éƒ½æ˜¯æ”¯æŒçš„ï¼š</p>
<p>1ã€æƒ³è¦æ¥å…¥é£æ§ï¼Œä½†æ˜¯åªæ˜¯æƒ³åšäº‹åæŒ‡æ ‡è®¡ç®—ï¼Œå‘<code>/async</code>æ¥å£ï¼Œéœ€è¦å®Œæ•´çš„æ•°æ®ï¼Œå› ä¸ºä¸å­˜åœ¨æ•°æ®è¡¥å……ï¼Œåªä¼šä¾èµ–æœ¬æ¬¡æ•°æ®è®¡ç®—</p>
<p>2ã€æƒ³è¦æ¥å…¥é£æ§å†³ç­–ï¼Œéœ€è¦å®æ—¶åŒæ­¥å“åº”ï¼Œå‘<code>/sync</code>æ¥å£ï¼Œéœ€è¦å®Œæ•´æ•°æ®ï¼Œéå¸¸æ¨èç»“æœåŒæ­¥å‘<code>/async</code>æ¥å£ï¼Œæ­¤æ—¶åªéœ€è¦è¡¥å……æ•°æ®å³å¯</p>
<p>3ã€å¦å¤–è¿˜æœ‰ä¼šè¯è±å…åŠŸèƒ½ï¼Œå‰é¢ä¹Ÿè®²è¿‡äº†ï¼Œç®€å•è®²å°±æ˜¯åŒä¸€ä¼šè¯ä¸­é«˜çº§åˆ«çš„éªŒè¯é€šè¿‡ï¼Œå°±ä¸ç»™ä½äºè¿™ä¸ªçº§åˆ«çš„å†³ç­–äº†ï¼Œå¯é€‰ã€‚</p>
<h2 data-id="heading-6">å°ç»“</h2>
<p>æœ€ååºŸè¯ä¸€ä¸‹ï¼Œæ¯æ¬¡ä»æœ‰æƒ³æ³•åˆ°å®è·µï¼Œéƒ½ä¸æ˜¯é‚£ä¹ˆä¸€å¸†é£é¡ºçš„è¿‡ç¨‹ï¼Œå…¶ä¸­ä¹Ÿæœ‰å¾ˆå¤šæŒ£æ‰ï¼Œæ–¹æ¡ˆè®¾è®¡ï¼Œé‡æ¥ï¼Œæ¨ç¿»è¿‡å»ã€‚ã€‚ã€‚ä¸é‚£ä¹ˆå®¹æ˜“ã€‚</p>
<p>æˆ‘ç°åœ¨å·¥ä½œæ¨¡å¼ä¹Ÿå°±è¿™æ ·ï¼Œå¦‚ä¸‹å›¾ï¼Œä¸¤åˆ—</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8cda04a05ce9416283c02178f2ddc9c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg5aWI5L2V5p2o:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501240&amp;x-signature=oVEsflYIUK0w2abtVzM5VqpbUm4%3D" alt="" loading="lazy"/></p>
<p>å·¦åˆ—ï¼šç±»ä¼¼äºä»£åŠï¼Œæ¯å®Œæˆä¸€é¡¹åï¼Œå°†å…¶å‹¾æ‰ï¼Œä½†æ˜¯é¦–æ¬¡å‹¾æ‰å¹¶ä¸åˆ é™¤ï¼Œè€Œæ˜¯ä¿ç•™ä¸€æ®µæ—¶é—´ï¼Œå…·ä½“åˆ é™¤çš„æ—¶é—´å–å†³äºä¸‹æ¬¡ä»€ä¹ˆæ—¶å€™çœ‹åˆ°ï¼Œå¦‚æœè¿˜èƒ½å›æƒ³èµ·æ¥å¹¶ç¡®è®¤ç¡®å®æ˜¯å®Œæˆäº†ï¼Œé‚£ä¹ˆå°±åˆ é™¤ï¼Œå¦‚æœå›æƒ³ä¸èµ·æ¥å°±å†æ£€æŸ¥ä¸€ä¸‹ï¼Œç¡®è®¤æ˜¯å¦çœŸçš„å®Œæˆäº†ã€‚</p>
<p>å³åˆ—ï¼šè§„åˆ’ä¸­çš„å¯èƒ½ä¸æ˜¯æœ€è¿‘ä¸€æ®µæ—¶é—´è¦åšçš„ï¼Œè€Œä¸”ä¸€äº›ä¹Ÿåªæ˜¯ä¸´æ—¶çš„æƒ³æ³•ï¼Œå¾ˆæœ‰å¯èƒ½å…¶å®åé¢æ˜¯ä¸è¦åšçš„ï¼Œæ‰€ä»¥å®ƒå»å‘æœ‰ï¼Œ1ã€ä¸éœ€è¦çš„ï¼Œé‚£ä¹ˆå°±ä¼šåˆ é™¤æ‰ï¼›2ã€ç¡®å®éœ€è¦ï¼Œä½†æ˜¯å½“ä¸‹è¿˜æœ‰æ›´é‡è¦çš„ï¼Œæ”¾ç€ä¸åŠ¨ï¼›3ã€å¾ˆç´§æ€¥ï¼Œæœ€è¿‘è¦åšæ‰ï¼Œé‚£ä¹ˆå°±ç§»åŠ¨åˆ°å·¦åˆ—ã€‚</p>
<p>å¦å¤–ï¼Œä¸€äº›ç‰¹åˆ«çš„æ–‡ç« è®°å½•ä¸€ä¸‹ï¼Œå‘å‡ºæ¥æˆ–è€…æ•´ç†åˆ°ç³»ç»Ÿæ–‡æ¡£é‡Œã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ•°æ®ç»“æ„â€”â€”æ ‘]]></title>    <link>https://juejin.cn/post/7579889969985306675</link>    <guid>https://juejin.cn/post/7579889969985306675</guid>    <pubDate>2025-12-05T01:01:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579889969985306675" data-draft-id="7577663384423153715" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ•°æ®ç»“æ„â€”â€”æ ‘"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-05T01:01:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SevenCoding"/> <meta itemprop="url" content="https://juejin.cn/user/3261615728242467"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ•°æ®ç»“æ„â€”â€”æ ‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3261615728242467/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SevenCoding
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T01:01:50.000Z" title="Fri Dec 05 2025 01:01:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»47åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ¦‚è¿°</h2>
<p>æ ‘å°±æ˜¯ä¸€ç§ç±»ä¼¼ç°å®ç”Ÿæ´»ä¸­çš„æ ‘çš„æ•°æ®ç»“æ„ï¼ˆå€’ç½®çš„æ ‘ï¼‰ã€‚ä»»ä½•ä¸€é¢—éç©ºæ ‘åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ã€‚</p>
<p>æ ‘çš„å®šä¹‰ï¼šæ ‘æ˜¯â¼€ç§æ•°æ®ç»“æ„ï¼Œå®ƒæ˜¯ç”±n(nâ‰¥1)ä¸ªæœ‰é™èŠ‚ç‚¹ç»„æˆâ¼€ä¸ªå…·æœ‰å±‚æ¬¡å…³ç³»çš„é›†åˆã€‚æŠŠå®ƒå«åšâ€œæ ‘â€æ˜¯å› ä¸ºå®ƒçœ‹èµ·æ¥åƒâ¼€æ£µå€’æŒ‚çš„æ ‘ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæ˜¯æ ¹æœä¸Šï¼Œâ½½å¶æœä¸‹çš„ã€‚</p>
<p>ä¸€æ£µæ ‘å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ol>
<li>æ¯ä¸ªèŠ‚ç‚¹æœ‰é›¶ä¸ªæˆ–å¤šä¸ªâ¼¦èŠ‚ç‚¹</li>
<li>æ²¡æœ‰â½—èŠ‚ç‚¹çš„èŠ‚ç‚¹ç§°ä¸ºæ ¹èŠ‚ç‚¹</li>
<li>æ¯â¼€ä¸ªâ¾®æ ¹èŠ‚ç‚¹æœ‰ä¸”åªæœ‰â¼€ä¸ªâ½—èŠ‚ç‚¹</li>
<li>é™¤äº†æ ¹èŠ‚ç‚¹å¤–ï¼Œæ¯ä¸ªâ¼¦èŠ‚ç‚¹å¯ä»¥åˆ†ä¸ºå¤šä¸ªä¸ç›¸äº¤çš„â¼¦æ ‘</li>
<li>ä¸€æ£µæ ‘ä¸­çš„ä»»æ„ä¸¤ä¸ªç»“ç‚¹æœ‰ä¸”ä»…æœ‰å”¯ä¸€çš„ä¸€æ¡è·¯å¾„è¿é€šã€‚</li>
<li>ä¸€æ£µæ ‘å¦‚æœæœ‰ n ä¸ªç»“ç‚¹ï¼Œé‚£ä¹ˆå®ƒä¸€å®šæ°å¥½æœ‰ n-1 æ¡è¾¹ã€‚</li>
<li>ä¸€æ£µæ ‘ä¸åŒ…å«å›è·¯ã€‚</li>
</ol>
<p>ä¸‹å›¾å°±æ˜¯ä¸€é¢—æ ‘ï¼Œå¹¶ä¸”æ˜¯ä¸€é¢—äºŒå‰æ ‘ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dfad49603f9341f19dd5ae8728b85bb2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2V2ZW5Db2Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501310&amp;x-signature=M4J1PkcN2dopMEPAktiU3OuL7oE%3D" alt="" loading="lazy"/></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œé€šè¿‡ä¸Šé¢è¿™å¼ å›¾è¯´æ˜ä¸€ä¸‹æ ‘ä¸­çš„å¸¸ç”¨æ¦‚å¿µï¼š</p>
<ul>
<li><strong>èŠ‚ç‚¹</strong>ï¼šæ ‘ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½å¯ä»¥ç»Ÿç§°ä¸ºèŠ‚ç‚¹ã€‚</li>
<li><strong>èŠ‚ç‚¹çš„åº¦</strong>ï¼šâ¼€ä¸ªèŠ‚ç‚¹å«æœ‰çš„â¼¦æ ‘çš„ä¸ªæ•°ç§°ä¸ºè¯¥èŠ‚ç‚¹çš„åº¦</li>
<li><strong>æ ‘çš„åº¦</strong>ï¼šâ¼€æ£µæ ‘ä¸­ï¼Œæœ€â¼¤çš„èŠ‚ç‚¹åº¦ç§°ä¸ºæ ‘çš„åº¦ï¼›</li>
<li><strong>å¶èŠ‚ç‚¹æˆ–ç»ˆç«¯èŠ‚ç‚¹</strong>ï¼šåº¦ä¸ºé›¶çš„èŠ‚ç‚¹ï¼›</li>
<li><strong>â¾®ç»ˆç«¯èŠ‚ç‚¹æˆ–åˆ†â½€èŠ‚ç‚¹</strong>ï¼šåº¦ä¸ä¸ºé›¶çš„èŠ‚ç‚¹ï¼›</li>
<li><strong>æ ¹èŠ‚ç‚¹</strong>ï¼šé¡¶å±‚èŠ‚ç‚¹æˆ–è€…è¯´æ²¡æœ‰çˆ¶èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚ä¸Šå›¾ä¸­ A èŠ‚ç‚¹å°±æ˜¯æ ¹èŠ‚ç‚¹ã€‚</li>
<li><strong>çˆ¶èŠ‚ç‚¹</strong>ï¼šè‹¥ä¸€ä¸ªèŠ‚ç‚¹å«æœ‰å­èŠ‚ç‚¹ï¼Œåˆ™è¿™ä¸ªèŠ‚ç‚¹ç§°ä¸ºå…¶å­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ã€‚ä¸Šå›¾ä¸­çš„ B èŠ‚ç‚¹æ˜¯ D èŠ‚ç‚¹ã€E èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ã€‚</li>
<li><strong>å­èŠ‚ç‚¹</strong>ï¼šä¸€ä¸ªèŠ‚ç‚¹å«æœ‰çš„å­æ ‘çš„æ ¹èŠ‚ç‚¹ç§°ä¸ºè¯¥èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ã€‚ä¸Šå›¾ä¸­ D èŠ‚ç‚¹ã€E èŠ‚ç‚¹æ˜¯ B èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ã€‚</li>
<li><strong>å…„å¼ŸèŠ‚ç‚¹</strong>ï¼šå…·æœ‰ç›¸åŒçˆ¶èŠ‚ç‚¹çš„èŠ‚ç‚¹äº’ç§°ä¸ºå…„å¼ŸèŠ‚ç‚¹ã€‚ä¸Šå›¾ä¸­ D èŠ‚ç‚¹ã€E èŠ‚ç‚¹çš„å…±åŒçˆ¶èŠ‚ç‚¹æ˜¯ B èŠ‚ç‚¹ï¼Œæ•… D å’Œ E ä¸ºå…„å¼ŸèŠ‚ç‚¹ã€‚</li>
<li><strong>å¶å­èŠ‚ç‚¹</strong>ï¼šæ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚ä¸Šå›¾ä¸­çš„ Dã€Fã€Hã€I éƒ½æ˜¯å¶å­èŠ‚ç‚¹ã€‚</li>
<li><strong>èŠ‚ç‚¹çš„é«˜åº¦</strong>ï¼šè¯¥èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„æ‰€åŒ…å«çš„è¾¹æ•°ã€‚</li>
<li><strong>èŠ‚ç‚¹çš„æ·±åº¦</strong>ï¼šæ ¹èŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„è·¯å¾„æ‰€åŒ…å«çš„è¾¹æ•°</li>
<li><strong>èŠ‚ç‚¹çš„å±‚æ•°</strong>ï¼šèŠ‚ç‚¹çš„æ·±åº¦+1ã€‚</li>
<li><strong>æ ‘çš„é«˜åº¦</strong>ï¼šæ ¹èŠ‚ç‚¹çš„é«˜åº¦ã€‚</li>
</ul>
<blockquote>
<p>å…³äºæ ‘çš„æ·±åº¦å’Œé«˜åº¦çš„å®šä¹‰å¯ä»¥çœ‹ stackoverflow ä¸Šçš„è¿™ä¸ªé—®é¢˜ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F2603692%2Fwhat-is-the-difference-between-tree-depth-and-height" target="_blank" title="https://stackoverflow.com/questions/2603692/what-is-the-difference-between-tree-depth-and-height" ref="nofollow noopener noreferrer">What is the difference between tree depth and height?</a> ã€‚</p>
</blockquote>
<h2 data-id="heading-1">äºŒå‰æ ‘çš„å­˜å‚¨</h2>
<p>äºŒå‰æ ‘çš„å­˜å‚¨ä¸»è¦åˆ†ä¸º <strong>é“¾å¼å­˜å‚¨</strong> å’Œ <strong>é¡ºåºå­˜å‚¨</strong> ä¸¤ç§ï¼š</p>
<h3 data-id="heading-2">é“¾å¼å­˜å‚¨</h3>
<p>å’Œé“¾è¡¨ç±»ä¼¼ï¼ŒäºŒå‰æ ‘çš„é“¾å¼å­˜å‚¨ä¾é æŒ‡é’ˆå°†å„ä¸ªèŠ‚ç‚¹ä¸²è”èµ·æ¥ï¼Œä¸éœ€è¦è¿ç»­çš„å­˜å‚¨ç©ºé—´ã€‚</p>
<p>æ¯ä¸ªèŠ‚ç‚¹åŒ…æ‹¬ä¸‰ä¸ªå±æ€§ï¼š</p>
<ul>
<li>æ•°æ® dataã€‚data ä¸ä¸€å®šæ˜¯å•ä¸€çš„æ•°æ®ï¼Œæ ¹æ®ä¸åŒæƒ…å†µï¼Œå¯ä»¥æ˜¯å¤šä¸ªå…·æœ‰ä¸åŒç±»å‹çš„æ•°æ®ã€‚</li>
<li>å·¦èŠ‚ç‚¹æŒ‡é’ˆ left</li>
<li>å³èŠ‚ç‚¹æŒ‡é’ˆ rightã€‚</li>
</ul>
<p>å¯æ˜¯ JAVA æ²¡æœ‰æŒ‡é’ˆå•Šï¼</p>
<p>é‚£å°±ç›´æ¥å¼•ç”¨å¯¹è±¡å‘—ï¼ˆåˆ«é—®æˆ‘å¯¹è±¡å“ªé‡Œæ‰¾ï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0830b36950a34d9096dceb716300b8ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2V2ZW5Db2Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501310&amp;x-signature=TOOYlXXjRuQClH8dFtXxYTaN7gI%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">é¡ºåºå­˜å‚¨</h3>
<p>é¡ºåºå­˜å‚¨å°±æ˜¯åˆ©ç”¨æ•°ç»„è¿›è¡Œå­˜å‚¨ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªä½ç½®ä»…å­˜å‚¨èŠ‚ç‚¹çš„ dataï¼Œä¸å­˜å‚¨å·¦å³å­èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œå­èŠ‚ç‚¹çš„ç´¢å¼•é€šè¿‡æ•°ç»„ä¸‹æ ‡å®Œæˆã€‚æ ¹ç»“ç‚¹çš„åºå·ä¸º 1ï¼Œå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ Nodeï¼Œå‡è®¾å®ƒå­˜å‚¨åœ¨æ•°ç»„ä¸­ä¸‹æ ‡ä¸º i çš„ä½ç½®ï¼Œé‚£ä¹ˆå®ƒçš„å·¦å­èŠ‚ç‚¹å°±å­˜å‚¨åœ¨ 2i çš„ä½ç½®ï¼Œå®ƒçš„å³å­èŠ‚ç‚¹å­˜å‚¨åœ¨ä¸‹æ ‡ä¸º 2i+1 çš„ä½ç½®ã€‚</p>
<p>ä¸€æ£µå®Œå…¨äºŒå‰æ ‘çš„æ•°ç»„é¡ºåºå­˜å‚¨å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e76fa2e5c2d4d458d707979d1a628d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2V2ZW5Db2Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501310&amp;x-signature=UuIDVneRwB6P8xPMNI1OcKkv5Ik%3D" alt="" loading="lazy"/></p>
<p>å¤§å®¶å¯ä»¥è¯•ç€å¡«å†™ä¸€ä¸‹å­˜å‚¨å¦‚ä¸‹äºŒå‰æ ‘çš„æ•°ç»„ï¼Œæ¯”è¾ƒä¸€ä¸‹å’Œå®Œå…¨äºŒå‰æ ‘çš„é¡ºåºå­˜å‚¨æœ‰ä½•åŒºåˆ«ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7982d4048f77499bbb0be5e0b4631398~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2V2ZW5Db2Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501310&amp;x-signature=2fziytlE4AD3n%2FpwFuRxs0oBwug%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœæˆ‘ä»¬è¦å­˜å‚¨çš„äºŒå‰æ ‘ä¸æ˜¯å®Œå…¨äºŒå‰æ ‘ï¼Œåœ¨æ•°ç»„ä¸­å°±ä¼šå‡ºç°ç©ºéš™ï¼Œå¯¼è‡´å†…å­˜åˆ©ç”¨ç‡é™ä½</p>
<h2 data-id="heading-4">äºŒå‰æ ‘çš„éå†</h2>
<h3 data-id="heading-5">é€’å½’éå†</h3>
<h4 data-id="heading-6">å…ˆåºéå†</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b415e3edc8b45258e5d7406d8ea0d40~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2V2ZW5Db2Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501310&amp;x-signature=LHmeGTd9HOV1hsaF8PH16ZVZKbo%3D" alt="" loading="lazy"/></p>
<p>äºŒå‰æ ‘çš„å…ˆåºéå†ï¼Œå°±æ˜¯å…ˆè¾“å‡ºæ ¹ç»“ç‚¹ï¼Œå†éå†å·¦å­æ ‘ï¼Œæœ€åéå†å³å­æ ‘ï¼Œéå†å·¦å­æ ‘å’Œå³å­æ ‘çš„æ—¶å€™ï¼ŒåŒæ ·éµå¾ªå…ˆåºéå†çš„è§„åˆ™ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é€’å½’å®ç°å…ˆåºéå†ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">preOrder</span><span class="hljs-params">(TreeNode root)</span>{
	<span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>){
		<span class="hljs-keyword">return</span>;
	}
	system.out.println(root.data);
	preOrder(root.left);
	preOrder(root.right);
}
</code></pre>
<h4 data-id="heading-7">ä¸­åºéå†</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5fb87ac552bb4fdabba60eacc7913fe2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2V2ZW5Db2Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501310&amp;x-signature=%2BEQBp%2BUIEZHqRIE4Q3I33Td9zCw%3D" alt="" loading="lazy"/></p>
<p>äºŒå‰æ ‘çš„ä¸­åºéå†ï¼Œå°±æ˜¯å…ˆé€’å½’ä¸­åºéå†å·¦å­æ ‘ï¼Œå†è¾“å‡ºæ ¹ç»“ç‚¹çš„å€¼ï¼Œå†é€’å½’ä¸­åºéå†å³å­æ ‘ï¼Œå¤§å®¶å¯ä»¥æƒ³è±¡æˆä¸€å·´æŒæŠŠæ ‘å‹æ‰ï¼Œçˆ¶ç»“ç‚¹è¢«æ‹åˆ°äº†å·¦å­èŠ‚ç‚¹å’Œå³å­èŠ‚ç‚¹çš„ä¸­é—´ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c2ced18690bd4fc6ba1b516b8148df44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2V2ZW5Db2Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501310&amp;x-signature=ASd2h2qYOj0WYuoiH8NLKb6qLtU%3D" alt="" loading="lazy"/></p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">inOrder</span><span class="hljs-params">(TreeNode root)</span>{
	<span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>){
		<span class="hljs-keyword">return</span>;
	}
	inOrder(root.left);
	system.out.println(root.data);
	inOrder(root.right);
}
</code></pre>
<h4 data-id="heading-8">ååºéå†</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ee71fcebbc8486ca62a75fd70055ad0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2V2ZW5Db2Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501310&amp;x-signature=zkgrsktS%2BLQpQiGEyaQx4H%2B8NaM%3D" alt="" loading="lazy"/></p>
<p>äºŒå‰æ ‘çš„ååºéå†ï¼Œå°±æ˜¯å…ˆé€’å½’ååºéå†å·¦å­æ ‘ï¼Œå†é€’å½’ååºéå†å³å­æ ‘ï¼Œæœ€åè¾“å‡ºæ ¹ç»“ç‚¹çš„å€¼</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">postOrder</span><span class="hljs-params">(TreeNode root)</span>{
	<span class="hljs-keyword">if</span>(root == <span class="hljs-literal">null</span>){
		<span class="hljs-keyword">return</span>;
	}
 postOrder(root.left);
	postOrder(root.right);
	system.out.println(root.data);
}
</code></pre>
<h3 data-id="heading-9">å±‚åºéå†</h3>
<p>å±‚åºéå†å±äºè¿­ä»£éå†ï¼Œä¹Ÿæ¯”è¾ƒç®€å•</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c1b37aed5fcc47d1a1b3f2d8d31baa40~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2V2ZW5Db2Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501310&amp;x-signature=KtZfu8vIqyMxh9wtqn44vpRVyT0%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-10">å‰åºéå†</h4>
<p>å‰åºéå†æ˜¯ä¸­å·¦å³ï¼Œæ¯æ¬¡å…ˆå¤„ç†çš„æ˜¯ä¸­é—´èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå…ˆå°†æ ¹èŠ‚ç‚¹æ”¾å…¥æ ˆä¸­ï¼Œç„¶åå°†å³å­©å­åŠ å…¥æ ˆï¼Œå†åŠ å…¥å·¦å­©å­ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å‰åºéå†é¡ºåºï¼šä¸­-å·¦-å³ï¼Œå…¥æ ˆé¡ºåºï¼šä¸­-å³-å·¦</span>
    <span class="hljs-keyword">public</span> List&lt;Integer&gt; <span class="hljs-title function_">preorderTraversal</span><span class="hljs-params">(TreeNode root)</span> {
        List&lt;Integer&gt; result = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">null</span>){
            <span class="hljs-keyword">return</span> result;
        }
        Stack&lt;TreeNode&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;&gt;();
        stack.push(root);
        <span class="hljs-keyword">while</span> (!stack.isEmpty()){
            <span class="hljs-type">TreeNode</span> <span class="hljs-variable">node</span> <span class="hljs-operator">=</span> stack.pop();
            result.add(node.val);
            <span class="hljs-keyword">if</span> (node.right != <span class="hljs-literal">null</span>){
                stack.push(node.right);
            }
            <span class="hljs-keyword">if</span> (node.left != <span class="hljs-literal">null</span>){
                stack.push(node.left);
            }
        }
        <span class="hljs-keyword">return</span> result;
    }
</code></pre>
<h4 data-id="heading-11">ä¸­åºéå†</h4>
<p>åˆšåˆšåœ¨è¿›è¡Œå‰åºéå†è¿­ä»£çš„è¿‡ç¨‹ä¸­ï¼Œå…¶å®æœ‰ä¸¤ä¸ªæ“ä½œï¼š</p>
<ol>
<li><strong>å¤„ç†ï¼šå°†å…ƒç´ æ”¾è¿›resultæ•°ç»„ä¸­</strong></li>
<li><strong>è®¿é—®ï¼šéå†èŠ‚ç‚¹</strong></li>
</ol>
<p>å‰åºéå†çš„é¡ºåºæ˜¯ä¸­å·¦å³ï¼Œå…ˆè®¿é—®çš„å…ƒç´ æ˜¯ä¸­é—´èŠ‚ç‚¹ï¼Œè¦å¤„ç†çš„å…ƒç´ ä¹Ÿæ˜¯ä¸­é—´èŠ‚ç‚¹ï¼Œ<strong>å› ä¸ºè¦è®¿é—®çš„å…ƒç´ å’Œè¦å¤„ç†çš„å…ƒç´ é¡ºåºæ˜¯ä¸€è‡´çš„ï¼Œéƒ½æ˜¯ä¸­é—´èŠ‚ç‚¹</strong>ï¼Œæ‰€ä»¥åˆšåˆšèƒ½å†™å‡ºç›¸å¯¹ç®€æ´çš„ä»£ç </p>
<p>é‚£ä¹ˆå†çœ‹çœ‹ä¸­åºéå†ï¼Œä¸­åºéå†æ˜¯å·¦ä¸­å³ï¼Œå…ˆè®¿é—®çš„æ˜¯äºŒå‰æ ‘é¡¶éƒ¨çš„èŠ‚ç‚¹ï¼Œç„¶åä¸€å±‚ä¸€å±‚å‘ä¸‹è®¿é—®ï¼Œç›´åˆ°åˆ°è¾¾æ ‘å·¦é¢çš„æœ€åº•éƒ¨ï¼Œå†å¼€å§‹å¤„ç†èŠ‚ç‚¹ï¼ˆä¹Ÿå°±æ˜¯åœ¨æŠŠèŠ‚ç‚¹çš„æ•°å€¼æ”¾è¿›resultæ•°ç»„ä¸­ï¼‰ï¼Œè¿™å°±é€ æˆäº†<strong>å¤„ç†é¡ºåºå’Œè®¿é—®é¡ºåºæ˜¯ä¸ä¸€è‡´çš„ã€‚</strong></p>
<p>é‚£ä¹ˆ<strong>åœ¨ä½¿ç”¨è¿­ä»£æ³•å†™ä¸­åºéå†ï¼Œå°±éœ€è¦å€Ÿç”¨æŒ‡é’ˆçš„éå†æ¥å¸®åŠ©è®¿é—®èŠ‚ç‚¹ï¼Œæ ˆåˆ™ç”¨æ¥å¤„ç†èŠ‚ç‚¹ä¸Šçš„å…ƒç´ ã€‚</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¸­åºéå†é¡ºåº: å·¦-ä¸­-å³ å…¥æ ˆé¡ºåºï¼š å·¦-å³</span>
    <span class="hljs-keyword">public</span> List&lt;Integer&gt; <span class="hljs-title function_">inorderTraversal</span><span class="hljs-params">(TreeNode root)</span> {
        List&lt;Integer&gt; result = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">null</span>){
            <span class="hljs-keyword">return</span> result;
        }
        Stack&lt;TreeNode&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;&gt;();
        <span class="hljs-type">TreeNode</span> <span class="hljs-variable">cur</span> <span class="hljs-operator">=</span> root;
        <span class="hljs-keyword">while</span> (cur != <span class="hljs-literal">null</span> || !stack.isEmpty()){
           <span class="hljs-keyword">if</span> (cur != <span class="hljs-literal">null</span>){
               stack.push(cur);
               cur = cur.left;
           }<span class="hljs-keyword">else</span>{
               cur = stack.pop();
               result.add(cur.val);
               cur = cur.right;
           }
        }
        <span class="hljs-keyword">return</span> result;
    }
</code></pre>
<h4 data-id="heading-12">ååºéå†</h4>
<p>åç»­éå†æ˜¯å·¦å³ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦è°ƒæ•´ä¸€ä¸‹å…ˆåºéå†çš„ä»£ç é¡ºåºï¼Œå°±å˜æˆä¸­å³å·¦çš„éå†é¡ºåºï¼Œç„¶ååœ¨åè½¬resultæ•°ç»„ï¼Œè¾“å‡ºçš„ç»“æœé¡ºåºå°±æ˜¯å·¦å³ä¸­äº†</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ååºéå†é¡ºåº å·¦-å³-ä¸­ å…¥æ ˆé¡ºåºï¼šä¸­-å·¦-å³ å‡ºæ ˆé¡ºåºï¼šä¸­-å³-å·¦ï¼Œ æœ€åç¿»è½¬ç»“æœ</span>
    <span class="hljs-keyword">public</span> List&lt;Integer&gt; <span class="hljs-title function_">postorderTraversal</span><span class="hljs-params">(TreeNode root)</span> {
        List&lt;Integer&gt; result = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">null</span>){
            <span class="hljs-keyword">return</span> result;
        }
        Stack&lt;TreeNode&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;&gt;();
        stack.push(root);
        <span class="hljs-keyword">while</span> (!stack.isEmpty()){
            <span class="hljs-type">TreeNode</span> <span class="hljs-variable">node</span> <span class="hljs-operator">=</span> stack.pop();
            result.add(node.val);
            <span class="hljs-keyword">if</span> (node.left != <span class="hljs-literal">null</span>){
                stack.push(node.left);
            }
            <span class="hljs-keyword">if</span> (node.right != <span class="hljs-literal">null</span>){
                stack.push(node.right);
            }
        }
        Collections.reverse(result);
        <span class="hljs-keyword">return</span> result;
    }
</code></pre>
<h2 data-id="heading-13">äºŒå‰æ ‘çš„åˆ†ç±»</h2>
<p><strong>äºŒå‰æ ‘</strong>ï¼ˆBinary treeï¼‰æ˜¯æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šåªæœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼ˆå³ä¸å­˜åœ¨åˆ†æ”¯åº¦å¤§äº 2 çš„èŠ‚ç‚¹ï¼‰çš„æ ‘ç»“æ„ã€‚</p>
<p><strong>äºŒå‰æ ‘</strong> çš„åˆ†æ”¯é€šå¸¸è¢«ç§°ä½œâ€œ<strong>å·¦å­æ ‘</strong>â€æˆ–â€œ<strong>å³å­æ ‘</strong>â€ã€‚å¹¶ä¸”ï¼Œ<strong>äºŒå‰æ ‘</strong> çš„åˆ†æ”¯å…·æœ‰å·¦å³æ¬¡åºï¼Œä¸èƒ½éšæ„é¢ å€’ã€‚</p>
<p><strong>äºŒå‰æ ‘</strong> çš„ç¬¬ i å±‚è‡³å¤šæ‹¥æœ‰ <code>2^(i-1)</code> ä¸ªèŠ‚ç‚¹ï¼Œæ·±åº¦ä¸º k çš„äºŒå‰æ ‘è‡³å¤šæ€»å…±æœ‰ <code>2^(k+1)-1</code> ä¸ªèŠ‚ç‚¹ï¼ˆæ»¡äºŒå‰æ ‘çš„æƒ…å†µï¼‰ï¼Œè‡³å°‘æœ‰ <code>2^(k)</code> ä¸ªèŠ‚ç‚¹ï¼ˆå…³äºèŠ‚ç‚¹çš„æ·±åº¦çš„å®šä¹‰å›½å†…äº‰è®®æ¯”è¾ƒå¤šï¼Œæˆ‘ä¸ªäººæ¯”è¾ƒè®¤å¯ç»´åŸºç™¾ç§‘å¯¹<a href="https://link.juejin.cn?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E6%25A0%2591_(%25E6%2595%25B0%25E6%258D%25AE%25E7%25BB%2593%25E6%259E%2584)%23%2F%25E6%259C%25AF%25E8%25AF%25AD" target="_blank" title="https://zh.wikipedia.org/wiki/%E6%A0%91_(%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84)#/%E6%9C%AF%E8%AF%AD" ref="nofollow noopener noreferrer">èŠ‚ç‚¹æ·±åº¦çš„å®šä¹‰</a>ï¼‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6e2eac7a75847d2b1419fcbd41c2e24~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2V2ZW5Db2Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501310&amp;x-signature=dENIrN00Q0Ly5Z1phlE3JiOVRyc%3D" alt="" loading="lazy"/></p>
<p>â¼†å‰æ ‘åœ¨Java ä¸­è¡¨ç¤ºï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TreeLinkNode</span> {
	<span class="hljs-type">int</span> val;
	<span class="hljs-type">TreeLinkNode</span> <span class="hljs-variable">left</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
	<span class="hljs-type">TreeLinkNode</span> <span class="hljs-variable">right</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
	<span class="hljs-type">TreeLinkNode</span> <span class="hljs-variable">next</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
	
	TreeLinkNode(<span class="hljs-type">int</span> val) {
		<span class="hljs-built_in">this</span>.val = val;
	}
}
</code></pre>
<h3 data-id="heading-14">æ»¡äºŒå‰æ ‘</h3>
<p>ä¸€ä¸ªäºŒå‰æ ‘ï¼Œå¦‚æœæ¯ä¸€ä¸ªå±‚çš„ç»“ç‚¹æ•°éƒ½è¾¾åˆ°æœ€å¤§å€¼ï¼Œåˆ™è¿™ä¸ªäºŒå‰æ ‘å°±æ˜¯ <strong>æ»¡äºŒå‰æ ‘</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸€ä¸ªäºŒå‰æ ‘çš„å±‚æ•°ä¸º Kï¼Œä¸”ç»“ç‚¹æ€»æ•°æ˜¯(2^k) -1 ï¼Œåˆ™å®ƒå°±æ˜¯ <strong>æ»¡äºŒå‰æ ‘</strong>ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6bcc884f2b544c499c2290fc36910d13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2V2ZW5Db2Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501310&amp;x-signature=l4%2Bs%2FVTR7GpReTLPftjrDWOhayY%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-15">å®Œå…¨äºŒå‰æ ‘</h3>
<p>é™¤æœ€åä¸€å±‚å¤–ï¼Œè‹¥å…¶ä½™å±‚éƒ½æ˜¯æ»¡çš„ï¼Œå¹¶ä¸”æœ€åä¸€å±‚æˆ–è€…æ˜¯æ»¡çš„ï¼Œæˆ–è€…æ˜¯åœ¨å³è¾¹ç¼ºå°‘è¿ç»­è‹¥å¹²èŠ‚ç‚¹ï¼Œåˆ™è¿™ä¸ªäºŒå‰æ ‘å°±æ˜¯ <strong>å®Œå…¨äºŒå‰æ ‘</strong> ã€‚</p>
<p>å¤§å®¶å¯ä»¥æƒ³è±¡ä¸ºä¸€æ£µæ ‘ä»æ ¹ç»“ç‚¹å¼€å§‹æ‰©å±•ï¼Œæ‰©å±•å®Œå·¦å­èŠ‚ç‚¹æ‰èƒ½å¼€å§‹æ‰©å±•å³å­èŠ‚ç‚¹ï¼Œæ¯æ‰©å±•å®Œä¸€å±‚ï¼Œæ‰èƒ½ç»§ç»­æ‰©å±•ä¸‹ä¸€å±‚ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4bb2c6a3bd6445479f9236c31d7ef252~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2V2ZW5Db2Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501310&amp;x-signature=GopYV1y8FjDbX7PzwsWWp3IrXa4%3D" alt="" loading="lazy"/></p>
<p>å®Œå…¨äºŒå‰æ ‘æœ‰ä¸€ä¸ªå¾ˆå¥½çš„æ€§è´¨ï¼š<strong>çˆ¶ç»“ç‚¹å’Œå­èŠ‚ç‚¹çš„åºå·æœ‰ç€å¯¹åº”å…³ç³»ã€‚</strong></p>
<p>ç»†å¿ƒçš„å°ä¼™ä¼´å¯èƒ½å‘ç°äº†ï¼Œå½“æ ¹èŠ‚ç‚¹çš„å€¼ä¸º 1 çš„æƒ…å†µä¸‹ï¼Œè‹¥çˆ¶ç»“ç‚¹çš„åºå·æ˜¯ iï¼Œé‚£ä¹ˆå·¦å­èŠ‚ç‚¹çš„åºå·å°±æ˜¯ 2iï¼Œå³å­èŠ‚ç‚¹çš„åºå·æ˜¯ 2i+1ã€‚è¿™ä¸ªæ€§è´¨ä½¿å¾—å®Œå…¨äºŒå‰æ ‘åˆ©ç”¨æ•°ç»„å­˜å‚¨æ—¶å¯ä»¥æå¤§åœ°èŠ‚çœç©ºé—´ï¼Œä»¥åŠåˆ©ç”¨åºå·æ‰¾åˆ°æŸä¸ªèŠ‚ç‚¹çš„çˆ¶ç»“ç‚¹å’Œå­èŠ‚ç‚¹ï¼Œåç»­äºŒå‰æ ‘çš„å­˜å‚¨ä¼šè¯¦ç»†ä»‹ç»ã€‚</p>
<p>è‹¥æœ€åº•å±‚ä¸ºç¬¬ h å±‚ï¼ˆhä»1å¼€å§‹ï¼‰ï¼Œåˆ™è¯¥å±‚åŒ…å« 1~ 2^(h-1) ä¸ªèŠ‚ç‚¹ã€‚</p>
<h3 data-id="heading-16">äºŒå‰æœç´¢æ ‘</h3>
<p>å‰é¢ä»‹ç»çš„æ ‘ï¼Œéƒ½æ²¡æœ‰æ•°å€¼çš„ï¼Œè€ŒäºŒå‰æœç´¢æ ‘æ˜¯æœ‰æ•°å€¼çš„äº†ï¼Œ<strong>äºŒå‰æœç´¢æ ‘æ˜¯ä¸€ä¸ªæœ‰åºæ ‘</strong>ã€‚</p>
<ul>
<li>è‹¥å®ƒçš„å·¦å­æ ‘ä¸ç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å°äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼›</li>
<li>è‹¥å®ƒçš„å³å­æ ‘ä¸ç©ºï¼Œåˆ™å³å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å¤§äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼›</li>
<li>å®ƒçš„å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æ’åºæ ‘</li>
</ul>
<p>ä¸‹é¢è¿™ä¸¤æ£µæ ‘éƒ½æ˜¯æœç´¢æ ‘</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49c8434b8f7d43fb841b0cec0f9f539c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2V2ZW5Db2Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501310&amp;x-signature=%2FxQFsGFSxU%2FcyVhUD9NFAezZbgI%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-17">å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼ˆAVLæ ‘ï¼‰</h3>
<p><strong>å¹³è¡¡äºŒå‰æ ‘</strong> æ˜¯ä¸€æ£µäºŒå‰æ’åºæ ‘ï¼Œä¸”å…·æœ‰ä»¥ä¸‹æ€§è´¨ï¼š</p>
<ol>
<li>å¯ä»¥æ˜¯ä¸€æ£µç©ºæ ‘</li>
<li>å¦‚æœä¸æ˜¯ç©ºæ ‘ï¼Œå®ƒçš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 1ï¼Œå¹¶ä¸”å·¦å³ä¸¤ä¸ªå­æ ‘éƒ½æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ã€‚</li>
</ol>
<p>å¹³è¡¡äºŒå‰æ ‘çš„å¸¸ç”¨å®ç°æ–¹æ³•æœ‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.seven97.top%2Fjava%2Fcollection%2F03-map2-treeset-treemap.html%23%25E7%25BA%25A2%25E9%25BB%2591%25E6%25A0%2591" target="_blank" title="https://www.seven97.top/java/collection/03-map2-treeset-treemap.html#%E7%BA%A2%E9%BB%91%E6%A0%91" ref="nofollow noopener noreferrer"><strong>çº¢é»‘æ ‘</strong></a>ã€<strong>æ›¿ç½ªç¾Šæ ‘</strong>ã€<strong>åŠ æƒå¹³è¡¡æ ‘</strong>ã€<strong>ä¼¸å±•æ ‘</strong> ç­‰ã€‚</p>
<p>åœ¨ç»™å¤§å®¶å±•ç¤ºå¹³è¡¡äºŒå‰æ ‘ä¹‹å‰ï¼Œå…ˆç»™å¤§å®¶çœ‹ä¸€æ£µæ ‘ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/24260d12b65d4f9687b57d0339391bfc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2V2ZW5Db2Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501310&amp;x-signature=hce8oUFHzamY7Hj64dYnjMuuoSQ%3D" alt="" loading="lazy"/></p>
<p><strong>ä½ ç®¡è¿™ç©æ„å„¿å«æ ‘ï¼Ÿï¼Ÿï¼Ÿ</strong></p>
<p>æ²¡é”™ï¼Œè¿™ç©æ„å„¿è¿˜çœŸå«æ ‘ï¼Œåªä¸è¿‡è¿™æ£µæ ‘å·²ç»é€€åŒ–ä¸ºä¸€ä¸ªé“¾è¡¨äº†ï¼Œæˆ‘ä»¬ç®¡å®ƒå« <strong>æ–œæ ‘</strong>ã€‚</p>
<p><strong>å¦‚æœè¿™æ ·ï¼Œé‚£æˆ‘ä¸ºå•¥ä¸ç›´æ¥ç”¨é“¾è¡¨å‘¢?</strong></p>
<p>è°è¯´ä¸æ˜¯å‘¢ï¼Ÿ</p>
<p>äºŒå‰æ ‘ç›¸æ¯”äºé“¾è¡¨ï¼Œç”±äºçˆ¶å­èŠ‚ç‚¹ä»¥åŠå…„å¼ŸèŠ‚ç‚¹ä¹‹é—´å¾€å¾€å…·æœ‰æŸç§ç‰¹æ®Šçš„å…³ç³»ï¼Œè¿™ç§å…³ç³»ä½¿å¾—æˆ‘ä»¬åœ¨æ ‘ä¸­å¯¹æ•°æ®è¿›è¡Œ<strong>æœç´¢</strong>å’Œ<strong>ä¿®æ”¹</strong>æ—¶ï¼Œç›¸å¯¹äºé“¾è¡¨æ›´åŠ å¿«æ·ä¾¿åˆ©ã€‚</p>
<p>ä½†æ˜¯ï¼Œå¦‚æœäºŒå‰æ ‘é€€åŒ–ä¸ºä¸€ä¸ªé“¾è¡¨äº†ï¼Œé‚£ä¹ˆé‚£ä¹ˆæ ‘æ‰€å…·æœ‰çš„ä¼˜ç§€æ€§è´¨å°±éš¾ä»¥è¡¨ç°å‡ºæ¥ï¼Œæ•ˆç‡ä¹Ÿä¼šå¤§æ‰“æŠ˜ï¼Œä¸ºäº†é¿å…è¿™æ ·çš„æƒ…å†µï¼Œæˆ‘ä»¬å¸Œæœ›æ¯ä¸ªåš â€œå®¶é•¿â€ï¼ˆçˆ¶ç»“ç‚¹ï¼‰ çš„ï¼Œéƒ½ <strong>ä¸€ç¢—æ°´ç«¯å¹³</strong>ï¼Œåˆ†ç»™å·¦å„¿å­å’Œåˆ†ç»™å³å„¿å­çš„å°½å¯èƒ½ä¸€æ ·å¤šï¼Œç›¸å·®æœ€å¤šä¸è¶…è¿‡ä¸€å±‚ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c9eacfe3fc54d9289eaf865dcc61928~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2V2ZW5Db2Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765501310&amp;x-signature=j2EJQowWH3fF%2FaNVFY%2FAlOTB1Ng%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-18">åŸºæœ¬æ“ä½œ</h4>
<ul>
<li>
<p>æŸ¥æ‰¾å…ƒç´ </p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(log n)</li>
<li>æ–¹æ³•ï¼šä¸æ™®é€šäºŒå‰æœç´¢æ ‘ç›¸åŒ</li>
</ul>
</li>
<li>
<p>æ’å…¥å…ƒç´ </p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(log n)</li>
<li>æ­¥éª¤ï¼š
<ol>
<li>æ‰§è¡Œæ ‡å‡†äºŒå‰æœç´¢æ ‘æ’å…¥</li>
<li>æ›´æ–°å—å½±å“èŠ‚ç‚¹çš„é«˜åº¦</li>
<li>è®¡ç®—å¹³è¡¡å› å­</li>
<li>å¦‚å¤±è¡¡ï¼Œæ‰§è¡Œæ—‹è½¬æ“ä½œæ¢å¤å¹³è¡¡</li>
</ol>
</li>
</ul>
</li>
<li>
<p>åˆ é™¤å…ƒç´ </p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(log n)</li>
<li>æ­¥éª¤ï¼š
<ol>
<li>æ‰§è¡Œæ ‡å‡†äºŒå‰æœç´¢æ ‘åˆ é™¤</li>
<li>æ›´æ–°å—å½±å“èŠ‚ç‚¹çš„é«˜åº¦</li>
<li>è®¡ç®—å¹³è¡¡å› å­</li>
<li>å¦‚å¤±è¡¡ï¼Œæ‰§è¡Œæ—‹è½¬æ“ä½œæ¢å¤å¹³è¡¡</li>
</ol>
</li>
</ul>
</li>
<li>
<p>æ—‹è½¬æ“ä½œ</p>
<ul>
<li>å·¦æ—‹ï¼ˆLLï¼‰ï¼šé’ˆå¯¹å³å­æ ‘é«˜äºå·¦å­æ ‘è¿‡å¤š</li>
<li>å³æ—‹ï¼ˆRRï¼‰ï¼šé’ˆå¯¹å·¦å­æ ‘é«˜äºå³å­æ ‘è¿‡å¤š</li>
<li>å·¦å³æ—‹ï¼ˆLRï¼‰ï¼šå…ˆå¯¹å·¦å­æ ‘è¿›è¡Œå·¦æ—‹ï¼Œå†å¯¹èŠ‚ç‚¹è¿›è¡Œå³æ—‹</li>
<li>å³å·¦æ—‹ï¼ˆRLï¼‰ï¼šå…ˆå¯¹å³å­æ ‘è¿›è¡Œå³æ—‹ï¼Œå†å¯¹èŠ‚ç‚¹è¿›è¡Œå·¦æ—‹</li>
</ul>
</li>
</ul>
<h4 data-id="heading-19">åŸºç¡€å®ç°</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * AVLæ ‘çš„Javaå®ç°
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AVLTree</span> {
    <span class="hljs-comment">// æ ‘èŠ‚ç‚¹å®šä¹‰</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Node</span> {
        <span class="hljs-type">int</span> key;        <span class="hljs-comment">// èŠ‚ç‚¹å€¼</span>
        Node left;      <span class="hljs-comment">// å·¦å­èŠ‚ç‚¹</span>
        Node right;     <span class="hljs-comment">// å³å­èŠ‚ç‚¹</span>
        <span class="hljs-type">int</span> height;     <span class="hljs-comment">// èŠ‚ç‚¹é«˜åº¦</span>
        
        Node(<span class="hljs-type">int</span> key) {
            <span class="hljs-built_in">this</span>.key = key;
            <span class="hljs-built_in">this</span>.height = <span class="hljs-number">1</span>; <span class="hljs-comment">// æ–°èŠ‚ç‚¹é«˜åº¦åˆå§‹ä¸º1</span>
        }
    }
    
    Node root; <span class="hljs-comment">// æ ¹èŠ‚ç‚¹</span>
    
    <span class="hljs-comment">// è·å–èŠ‚ç‚¹é«˜åº¦ï¼Œç©ºèŠ‚ç‚¹é«˜åº¦ä¸º0</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">height</span><span class="hljs-params">(Node node)</span> {
        <span class="hljs-keyword">if</span> (node == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        }
        <span class="hljs-keyword">return</span> node.height;
    }
    
    <span class="hljs-comment">// è·å–èŠ‚ç‚¹çš„å¹³è¡¡å› å­</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getBalanceFactor</span><span class="hljs-params">(Node node)</span> {
        <span class="hljs-keyword">if</span> (node == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        }
        <span class="hljs-keyword">return</span> height(node.left) - height(node.right);
    }
    
    <span class="hljs-comment">// æ›´æ–°èŠ‚ç‚¹é«˜åº¦</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateHeight</span><span class="hljs-params">(Node node)</span> {
        <span class="hljs-keyword">if</span> (node == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span>;
        }
        node.height = Math.max(height(node.left), height(node.right)) + <span class="hljs-number">1</span>;
    }
    
    <span class="hljs-comment">// å³æ—‹è½¬ï¼ˆå¤„ç†å·¦å·¦æƒ…å†µï¼‰</span>
    <span class="hljs-keyword">private</span> Node <span class="hljs-title function_">rotateRight</span><span class="hljs-params">(Node y)</span> {
        <span class="hljs-type">Node</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> y.left;
        <span class="hljs-type">Node</span> <span class="hljs-variable">T2</span> <span class="hljs-operator">=</span> x.right;
        
        <span class="hljs-comment">// æ‰§è¡Œæ—‹è½¬</span>
        x.right = y;
        y.left = T2;
        
        <span class="hljs-comment">// æ›´æ–°é«˜åº¦</span>
        updateHeight(y);
        updateHeight(x);
        
        <span class="hljs-keyword">return</span> x; <span class="hljs-comment">// è¿”å›æ–°çš„æ ¹èŠ‚ç‚¹</span>
    }
    
    <span class="hljs-comment">// å·¦æ—‹è½¬ï¼ˆå¤„ç†å³å³æƒ…å†µï¼‰</span>
    <span class="hljs-keyword">private</span> Node <span class="hljs-title function_">rotateLeft</span><span class="hljs-params">(Node x)</span> {
        <span class="hljs-type">Node</span> <span class="hljs-variable">y</span> <span class="hljs-operator">=</span> x.right;
        <span class="hljs-type">Node</span> <span class="hljs-variable">T2</span> <span class="hljs-operator">=</span> y.left;
        
        <span class="hljs-comment">// æ‰§è¡Œæ—‹è½¬</span>
        y.left = x;
        x.right = T2;
        
        <span class="hljs-comment">// æ›´æ–°é«˜åº¦</span>
        updateHeight(x);
        updateHeight(y);
        
        <span class="hljs-keyword">return</span> y; <span class="hljs-comment">// è¿”å›æ–°çš„æ ¹èŠ‚ç‚¹</span>
    }
    
    <span class="hljs-comment">// æ’å…¥èŠ‚ç‚¹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insert</span><span class="hljs-params">(<span class="hljs-type">int</span> key)</span> {
        root = insertNode(root, key);
    }
    
    <span class="hljs-keyword">private</span> Node <span class="hljs-title function_">insertNode</span><span class="hljs-params">(Node node, <span class="hljs-type">int</span> key)</span> {
        <span class="hljs-comment">// 1. æ‰§è¡Œæ ‡å‡†BSTæ’å…¥</span>
        <span class="hljs-keyword">if</span> (node == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(key);
        }
        
        <span class="hljs-keyword">if</span> (key &lt; node.key) {
            node.left = insertNode(node.left, key);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (key &gt; node.key) {
            node.right = insertNode(node.right, key);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// ç›¸åŒé”®å€¼ä¸åšå¤„ç†ï¼Œæˆ–æ ¹æ®éœ€æ±‚æ›´æ–°èŠ‚ç‚¹</span>
            <span class="hljs-keyword">return</span> node;
        }
        
        <span class="hljs-comment">// 2. æ›´æ–°èŠ‚ç‚¹é«˜åº¦</span>
        updateHeight(node);
        
        <span class="hljs-comment">// 3. è·å–å¹³è¡¡å› å­</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">balance</span> <span class="hljs-operator">=</span> getBalanceFactor(node);
        
        <span class="hljs-comment">// 4. å¦‚æœèŠ‚ç‚¹å¤±è¡¡ï¼Œè¿›è¡Œæ—‹è½¬è°ƒæ•´</span>
        
        <span class="hljs-comment">// å·¦å·¦æƒ…å†µ - å³æ—‹</span>
        <span class="hljs-keyword">if</span> (balance &gt; <span class="hljs-number">1</span> &amp;&amp; getBalanceFactor(node.left) &gt;= <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> rotateRight(node);
        }
        
        <span class="hljs-comment">// å³å³æƒ…å†µ - å·¦æ—‹</span>
        <span class="hljs-keyword">if</span> (balance &lt; -<span class="hljs-number">1</span> &amp;&amp; getBalanceFactor(node.right) &lt;= <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> rotateLeft(node);
        }
        
        <span class="hljs-comment">// å·¦å³æƒ…å†µ - å·¦å³åŒæ—‹</span>
        <span class="hljs-keyword">if</span> (balance &gt; <span class="hljs-number">1</span> &amp;&amp; getBalanceFactor(node.left) &lt; <span class="hljs-number">0</span>) {
            node.left = rotateLeft(node.left);
            <span class="hljs-keyword">return</span> rotateRight(node);
        }
        
        <span class="hljs-comment">// å³å·¦æƒ…å†µ - å³å·¦åŒæ—‹</span>
        <span class="hljs-keyword">if</span> (balance &lt; -<span class="hljs-number">1</span> &amp;&amp; getBalanceFactor(node.right) &gt; <span class="hljs-number">0</span>) {
            node.right = rotateRight(node.right);
            <span class="hljs-keyword">return</span> rotateLeft(node);
        }
        
        <span class="hljs-comment">// è¿”å›æœªå˜åŒ–çš„èŠ‚ç‚¹å¼•ç”¨</span>
        <span class="hljs-keyword">return</span> node;
    }
    
    <span class="hljs-comment">// æŸ¥æ‰¾æœ€å°å€¼èŠ‚ç‚¹</span>
    <span class="hljs-keyword">private</span> Node <span class="hljs-title function_">findMinNode</span><span class="hljs-params">(Node node)</span> {
        <span class="hljs-type">Node</span> <span class="hljs-variable">current</span> <span class="hljs-operator">=</span> node;
        <span class="hljs-keyword">while</span> (current.left != <span class="hljs-literal">null</span>) {
            current = current.left;
        }
        <span class="hljs-keyword">return</span> current;
    }
    
    <span class="hljs-comment">// åˆ é™¤èŠ‚ç‚¹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">(<span class="hljs-type">int</span> key)</span> {
        root = deleteNode(root, key);
    }
    
    <span class="hljs-keyword">private</span> Node <span class="hljs-title function_">deleteNode</span><span class="hljs-params">(Node root, <span class="hljs-type">int</span> key)</span> {
        <span class="hljs-comment">// 1. æ‰§è¡Œæ ‡å‡†BSTåˆ é™¤</span>
        <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> root;
        }
        
        <span class="hljs-keyword">if</span> (key &lt; root.key) {
            root.left = deleteNode(root.left, key);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (key &gt; root.key) {
            root.right = deleteNode(root.right, key);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// æ‰¾åˆ°è¦åˆ é™¤çš„èŠ‚ç‚¹</span>
            
            <span class="hljs-comment">// æƒ…å†µ1ï¼šå¶å­èŠ‚ç‚¹æˆ–åªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹</span>
            <span class="hljs-keyword">if</span> (root.left == <span class="hljs-literal">null</span> || root.right == <span class="hljs-literal">null</span>) {
                <span class="hljs-type">Node</span> <span class="hljs-variable">temp</span> <span class="hljs-operator">=</span> (root.left != <span class="hljs-literal">null</span>) ? root.left : root.right;
                
                <span class="hljs-comment">// æ²¡æœ‰å­èŠ‚ç‚¹</span>
                <span class="hljs-keyword">if</span> (temp == <span class="hljs-literal">null</span>) {
                    root = <span class="hljs-literal">null</span>;
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-comment">// ä¸€ä¸ªå­èŠ‚ç‚¹</span>
                    root = temp;
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// æƒ…å†µ2ï¼šæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹</span>
                <span class="hljs-comment">// æ‰¾åˆ°å³å­æ ‘çš„æœ€å°èŠ‚ç‚¹ï¼ˆä¸­åºåç»§ï¼‰</span>
                <span class="hljs-type">Node</span> <span class="hljs-variable">temp</span> <span class="hljs-operator">=</span> findMinNode(root.right);
                
                <span class="hljs-comment">// å¤åˆ¶ä¸­åºåç»§çš„å€¼åˆ°å½“å‰èŠ‚ç‚¹</span>
                root.key = temp.key;
                
                <span class="hljs-comment">// åˆ é™¤ä¸­åºåç»§</span>
                root.right = deleteNode(root.right, temp.key);
            }
        }
        
        <span class="hljs-comment">// å¦‚æœæ ‘åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆ é™¤åç›´æ¥è¿”å›</span>
        <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> root;
        }
        
        <span class="hljs-comment">// 2. æ›´æ–°é«˜åº¦</span>
        updateHeight(root);
        
        <span class="hljs-comment">// 3. è·å–å¹³è¡¡å› å­</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">balance</span> <span class="hljs-operator">=</span> getBalanceFactor(root);
        
        <span class="hljs-comment">// 4. è¿›è¡Œæ—‹è½¬æ“ä½œä¿æŒå¹³è¡¡</span>
        
        <span class="hljs-comment">// å·¦å·¦æƒ…å†µ</span>
        <span class="hljs-keyword">if</span> (balance &gt; <span class="hljs-number">1</span> &amp;&amp; getBalanceFactor(root.left) &gt;= <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> rotateRight(root);
        }
        
        <span class="hljs-comment">// å·¦å³æƒ…å†µ</span>
        <span class="hljs-keyword">if</span> (balance &gt; <span class="hljs-number">1</span> &amp;&amp; getBalanceFactor(root.left) &lt; <span class="hljs-number">0</span>) {
            root.left = rotateLeft(root.left);
            <span class="hljs-keyword">return</span> rotateRight(root);
        }
        
        <span class="hljs-comment">// å³å³æƒ…å†µ</span>
        <span class="hljs-keyword">if</span> (balance &lt; -<span class="hljs-number">1</span> &amp;&amp; getBalanceFactor(root.right) &lt;= <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> rotateLeft(root);
        }
        
        <span class="hljs-comment">// å³å·¦æƒ…å†µ</span>
        <span class="hljs-keyword">if</span> (balance &lt; -<span class="hljs-number">1</span> &amp;&amp; getBalanceFactor(root.right) &gt; <span class="hljs-number">0</span>) {
            root.right = rotateRight(root.right);
            <span class="hljs-keyword">return</span> rotateLeft(root);
        }
        
        <span class="hljs-keyword">return</span> root;
    }
    
    <span class="hljs-comment">// æŸ¥æ‰¾èŠ‚ç‚¹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">search</span><span class="hljs-params">(<span class="hljs-type">int</span> key)</span> {
        <span class="hljs-keyword">return</span> searchNode(root, key);
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">searchNode</span><span class="hljs-params">(Node root, <span class="hljs-type">int</span> key)</span> {
        <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        
        <span class="hljs-keyword">if</span> (key == root.key) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        
        <span class="hljs-keyword">if</span> (key &lt; root.key) {
            <span class="hljs-keyword">return</span> searchNode(root.left, key);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> searchNode(root.right, key);
        }
    }
}
</code></pre>
<h4 data-id="heading-20">ä¼˜ç‚¹</h4>
<ol>
<li>æŸ¥æ‰¾æ•ˆç‡é«˜ï¼šä¿è¯O(log n)çš„æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œæ—¶é—´å¤æ‚åº¦</li>
<li>è‡ªå¹³è¡¡ï¼šè‡ªåŠ¨è°ƒæ•´æ ‘çš„ç»“æ„ï¼Œé˜²æ­¢æœ€åæƒ…å†µå‡ºç°</li>
<li>ç¨³å®šæ€§ï¼šæ‰€æœ‰æ“ä½œéƒ½æœ‰ç¨³å®šçš„æ€§èƒ½è¡¨ç°</li>
<li>å¯é¢„æµ‹æ€§ï¼šæ ‘é«˜è¢«ä¸¥æ ¼é™åˆ¶ï¼Œä¾¿äºåˆ†ææ€§èƒ½</li>
</ol>
<h4 data-id="heading-21">ç¼ºç‚¹</h4>
<ol>
<li>å®ç°å¤æ‚ï¼šç›¸æ¯”æ™®é€šäºŒå‰æœç´¢æ ‘ï¼Œå®ç°å¤æ‚åº¦é«˜</li>
<li>é¢å¤–ç©ºé—´ï¼šæ¯ä¸ªèŠ‚ç‚¹éœ€è¦å­˜å‚¨é«˜åº¦ä¿¡æ¯</li>
<li>æ—‹è½¬å¼€é”€ï¼šæ’å…¥åˆ é™¤è¿‡ç¨‹ä¸­çš„æ—‹è½¬æ“ä½œå¢åŠ äº†é¢å¤–è®¡ç®—å¼€é”€</li>
<li>é¢‘ç¹å¹³è¡¡è°ƒæ•´ï¼šå¯¹äºé«˜é¢‘æ’å…¥åˆ é™¤çš„åœºæ™¯ï¼Œé¢‘ç¹çš„å¹³è¡¡è°ƒæ•´å¯èƒ½å½±å“æ€§èƒ½</li>
</ol>
<h4 data-id="heading-22">åº”ç”¨åœºæ™¯</h4>
<p>AVLæ ‘æ˜¯æœ€æ—©è¢«å‘æ˜çš„è‡ªå¹³è¡¡äºŒå‰æœç´¢æ ‘ä¹‹ä¸€ï¼Œé€‚ç”¨äºè®¸å¤šéœ€è¦é«˜æ•ˆæŸ¥æ‰¾å’Œç»´æŒæ•°æ®æœ‰åºæ€§çš„åœºæ™¯ã€‚</p>
<p>æ¯”å¦‚å†…å­˜ç®¡ç†å™¨ç»å¸¸ä½¿ç”¨AVLæ ‘è·Ÿè¸ªå†…å­˜å—çš„åˆ†é…ä¸é‡Šæ”¾ã€‚</p>
<p>åœ¨éœ€è¦é¢‘ç¹æ‰§è¡ŒèŒƒå›´æŸ¥è¯¢çš„åº”ç”¨ä¸­ï¼ŒAVLæ ‘ä¹Ÿæ¯”è¾ƒé€‚ç”¨ï¼Œå¸¸ç”¨äºå®ç°åŒºé—´æŸ¥è¯¢åŠŸèƒ½ã€‚</p>
<h4 data-id="heading-23">ç›¸å…³çš„ LeetCode çƒ­é—¨é¢˜ç›®</h4>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.com%2Fproblems%2Fvalidate-binary-search-tree%2F" target="_blank" title="https://leetcode.com/problems/validate-binary-search-tree/" ref="nofollow noopener noreferrer">98. éªŒè¯äºŒå‰æœç´¢æ ‘</a>Â - è¦æ±‚éªŒè¯ä¸€ä¸ªç»™å®šçš„äºŒå‰æ ‘æ˜¯å¦æ˜¯æœ‰æ•ˆçš„äºŒå‰æœç´¢æ ‘ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.com%2Fproblems%2Fsearch-in-a-binary-search-tree%2F" target="_blank" title="https://leetcode.com/problems/search-in-a-binary-search-tree/" ref="nofollow noopener noreferrer">700. äºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢</a>Â - åœ¨äºŒå‰æœç´¢æ ‘ä¸­æŸ¥æ‰¾æŒ‡å®šå€¼çš„èŠ‚ç‚¹ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.com%2Fproblems%2Finsert-into-a-binary-search-tree%2F" target="_blank" title="https://leetcode.com/problems/insert-into-a-binary-search-tree/" ref="nofollow noopener noreferrer">701. äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ</a>Â - åœ¨ä¸ç ´åäºŒå‰æœç´¢æ ‘æ€§è´¨çš„å‰æä¸‹æ’å…¥æ–°èŠ‚ç‚¹ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.com%2Fproblems%2Fdelete-node-in-a-bst%2F" target="_blank" title="https://leetcode.com/problems/delete-node-in-a-bst/" ref="nofollow noopener noreferrer">450. åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹</a>Â - å®ç°äºŒå‰æœç´¢æ ‘çš„åˆ é™¤æ“ä½œã€‚</li>
</ol>
<h2 data-id="heading-24">æ‰©å±•ï¼šå…¶å®ƒæ ‘å½¢ç»“æ„</h2>
<h3 data-id="heading-25">äºŒå‰å †</h3>
<p>äºŒå‰å †æ˜¯ä¸€ç§ç‰¹æ®Šçš„å®Œå…¨äºŒå‰æ ‘ï¼Œå¸¸ç”¨äºå®ç°ä¼˜å…ˆé˜Ÿåˆ—ã€‚æœ€å°å †çš„æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å°äºæˆ–ç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼ï¼Œæœ€å¤§å †çš„æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¤§äºæˆ–ç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼ã€‚äºŒå‰å †æ”¯æŒé«˜æ•ˆçš„æ’å…¥ã€åˆ é™¤æœ€å€¼å’Œæ„å»ºæ“ä½œã€‚</p>
<p>äºŒå‰å †æ˜¯ä¸€ç§ç‰¹æ®Šçš„å®Œå…¨äºŒå‰æ ‘æ•°æ®ç»“æ„ï¼Œå®ƒæ»¡è¶³å †å±æ€§ã€‚å®Œå…¨äºŒå‰æ ‘æ˜¯æŒ‡é™¤äº†æœ€åä¸€å±‚å¤–ï¼Œå…¶ä»–å±‚çš„èŠ‚ç‚¹éƒ½æ˜¯æ»¡çš„ï¼Œè€Œæœ€åä¸€å±‚çš„èŠ‚ç‚¹éƒ½é å·¦æ’åˆ—ã€‚äºŒå‰å †ä¸»è¦æœ‰ä¸¤ç§ç±»å‹ï¼š</p>
<ul>
<li>æœ€å¤§å †ï¼šæ¯ä¸ªçˆ¶èŠ‚ç‚¹çš„å€¼éƒ½å¤§äºæˆ–ç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼</li>
<li>æœ€å°å †ï¼šæ¯ä¸ªçˆ¶èŠ‚ç‚¹çš„å€¼éƒ½å°äºæˆ–ç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼</li>
</ul>
<p>äºŒå‰å †çš„è¿™ç§ç‰¹æ®Šç»“æ„ä½¿å¾—å®ƒå¯ä»¥é«˜æ•ˆåœ°æ‰¾åˆ°æœ€å¤§å€¼æˆ–æœ€å°å€¼ï¼Œæ‰€ä»¥ä¹Ÿå¸¸è¢«ç”¨æ¥å®ç°ä¼˜å…ˆé˜Ÿåˆ—ã€‚</p>
<p>äºŒå‰å †çš„æ ¸å¿ƒç‰¹æ€§å¦‚ä¸‹ï¼š</p>
<ol>
<li>å®Œå…¨äºŒå‰æ ‘ç»“æ„ï¼šé™¤æœ€åº•å±‚å¤–ï¼Œæ¯å±‚éƒ½å¡«æ»¡ï¼Œä¸”æœ€åº•å±‚ä»å·¦åˆ°å³å¡«å……</li>
<li>å †åºæ€§è´¨ï¼š
<ul>
<li>æœ€å¤§å †ï¼šçˆ¶èŠ‚ç‚¹å€¼ â‰¥ å­èŠ‚ç‚¹å€¼</li>
<li>æœ€å°å †ï¼šçˆ¶èŠ‚ç‚¹å€¼ â‰¤ å­èŠ‚ç‚¹å€¼</li>
</ul>
</li>
<li>é«˜æ•ˆçš„é¡¶éƒ¨å…ƒç´ è®¿é—®ï¼šå¯ä»¥åœ¨O(1)æ—¶é—´å†…è·å–æœ€å¤§/æœ€å°å…ƒç´ </li>
<li>æ•°ç»„è¡¨ç¤ºï¼šè™½ç„¶æ¦‚å¿µä¸Šæ˜¯æ ‘ç»“æ„ï¼Œä½†é€šå¸¸ç”¨æ•°ç»„å®ç°ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœæŒ‡é’ˆå¼€é”€å¹¶æé«˜å†…å­˜å±€éƒ¨æ€§</li>
</ol>
<h4 data-id="heading-26">åŸºæœ¬æ“ä½œ</h4>
<ul>
<li>
<p>æ’å…¥å…ƒç´ ï¼ˆInsertï¼‰</p>
<ul>
<li>é¦–å…ˆå°†æ–°å…ƒç´ æ·»åŠ åˆ°å †çš„æœ«å°¾</li>
<li>ç„¶åé€šè¿‡"ä¸Šæµ®"æ“ä½œè°ƒæ•´å †ï¼Œç›´åˆ°æ»¡è¶³å †æ€§è´¨</li>
</ul>
</li>
<li>
<p>åˆ é™¤é¡¶éƒ¨å…ƒç´ ï¼ˆExtract-Max/Minï¼‰ï¼šç§»é™¤å¹¶è¿”å›å †é¡¶å…ƒç´ ï¼ˆæœ€å¤§/æœ€å°å€¼ï¼‰</p>
<ul>
<li>å–å‡ºå †é¡¶å…ƒç´ </li>
<li>å°†å †çš„æœ€åä¸€ä¸ªå…ƒç´ ç§»åˆ°å †é¡¶</li>
<li>é€šè¿‡"ä¸‹æ²‰"æ“ä½œè°ƒæ•´å †ï¼Œç›´åˆ°æ»¡è¶³å †æ€§è´¨</li>
</ul>
</li>
<li>
<p>ä¸Šæµ®ï¼ˆHeapify-Upï¼‰ï¼šå°†ä¸€ä¸ªå…ƒç´ å‘ä¸Šç§»åŠ¨åˆ°åˆé€‚ä½ç½®çš„è¿‡ç¨‹</p>
<ul>
<li>æ¯”è¾ƒå½“å‰å…ƒç´ ä¸å…¶çˆ¶èŠ‚ç‚¹</li>
<li>å¦‚æœä¸æ»¡è¶³å †æ€§è´¨ï¼Œåˆ™äº¤æ¢å®ƒä»¬</li>
<li>é‡å¤æ­¤è¿‡ç¨‹ç›´åˆ°æ»¡è¶³å †æ€§è´¨</li>
</ul>
</li>
<li>
<p>ä¸‹æ²‰ï¼ˆHeapify-Downï¼‰ï¼šå°†ä¸€ä¸ªå…ƒç´ å‘ä¸‹ç§»åŠ¨åˆ°åˆé€‚ä½ç½®çš„è¿‡ç¨‹</p>
<ul>
<li>æ¯”è¾ƒå½“å‰å…ƒç´ ä¸å…¶æœ€å¤§ï¼ˆæˆ–æœ€å°ï¼‰çš„å­èŠ‚ç‚¹</li>
<li>å¦‚æœä¸æ»¡è¶³å †æ€§è´¨ï¼Œåˆ™äº¤æ¢å®ƒä»¬</li>
<li>é‡å¤æ­¤è¿‡ç¨‹ç›´åˆ°æ»¡è¶³å †æ€§è´¨</li>
</ul>
</li>
</ul>
<h4 data-id="heading-27">åŸºç¡€å®ç°</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MinHeap</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span>[] heap;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> size;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> capacity;

    <span class="hljs-comment">// æ„é€ å‡½æ•°</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MinHeap</span><span class="hljs-params">(<span class="hljs-type">int</span> capacity)</span> {
        <span class="hljs-built_in">this</span>.capacity = capacity;
        <span class="hljs-built_in">this</span>.size = <span class="hljs-number">0</span>;
        <span class="hljs-built_in">this</span>.heap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[capacity];
    }

    <span class="hljs-comment">// è·å–çˆ¶èŠ‚ç‚¹ç´¢å¼•</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">parent</span><span class="hljs-params">(<span class="hljs-type">int</span> i)</span> {
        <span class="hljs-keyword">return</span> (i - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>;
    }

    <span class="hljs-comment">// è·å–å·¦å­èŠ‚ç‚¹ç´¢å¼•</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">leftChild</span><span class="hljs-params">(<span class="hljs-type">int</span> i)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-number">2</span> * i + <span class="hljs-number">1</span>;
    }

    <span class="hljs-comment">// è·å–å³å­èŠ‚ç‚¹ç´¢å¼•</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">rightChild</span><span class="hljs-params">(<span class="hljs-type">int</span> i)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-number">2</span> * i + <span class="hljs-number">2</span>;
    }

    <span class="hljs-comment">// äº¤æ¢ä¸¤ä¸ªèŠ‚ç‚¹</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">swap</span><span class="hljs-params">(<span class="hljs-type">int</span> i, <span class="hljs-type">int</span> j)</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">temp</span> <span class="hljs-operator">=</span> heap[i];
        heap[i] = heap[j];
        heap[j] = temp;
    }

    <span class="hljs-comment">// æ’å…¥å…ƒç´ </span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insert</span><span class="hljs-params">(<span class="hljs-type">int</span> key)</span> {
        <span class="hljs-keyword">if</span> (size == capacity) {
            System.out.println(<span class="hljs-string">"å †å·²æ»¡ï¼Œæ— æ³•æ’å…¥"</span>);
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-comment">// å…ˆå°†æ–°å…ƒç´ æ’å…¥åˆ°å †çš„æœ«å°¾</span>
        heap[size] = key;
        <span class="hljs-type">int</span> <span class="hljs-variable">current</span> <span class="hljs-operator">=</span> size;
        size++;

        <span class="hljs-comment">// ä¸Šæµ®æ“ä½œï¼šå°†å…ƒç´ å‘ä¸Šç§»åŠ¨åˆ°åˆé€‚ä½ç½®</span>
        <span class="hljs-keyword">while</span> (current &gt; <span class="hljs-number">0</span> &amp;&amp; heap[current] &lt; heap[parent(current)]) {
            swap(current, parent(current));
            current = parent(current);
        }
    }

    <span class="hljs-comment">// è·å–æœ€å°å…ƒç´ ï¼ˆä¸åˆ é™¤ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">peek</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (size &lt;= <span class="hljs-number">0</span>) {
            System.out.println(<span class="hljs-string">"å †ä¸ºç©º"</span>);
            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">return</span> heap[<span class="hljs-number">0</span>];
    }

    <span class="hljs-comment">// åˆ é™¤å¹¶è¿”å›æœ€å°å…ƒç´ </span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">extractMin</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (size &lt;= <span class="hljs-number">0</span>) {
            System.out.println(<span class="hljs-string">"å †ä¸ºç©º"</span>);
            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">if</span> (size == <span class="hljs-number">1</span>) {
            size--;
            <span class="hljs-keyword">return</span> heap[<span class="hljs-number">0</span>];
        }

        <span class="hljs-comment">// å­˜å‚¨æ ¹èŠ‚ç‚¹ï¼ˆæœ€å°å€¼ï¼‰</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">root</span> <span class="hljs-operator">=</span> heap[<span class="hljs-number">0</span>];
        
        <span class="hljs-comment">// å°†æœ€åä¸€ä¸ªå…ƒç´ æ”¾åˆ°æ ¹ä½ç½®</span>
        heap[<span class="hljs-number">0</span>] = heap[size - <span class="hljs-number">1</span>];
        size--;
        
        <span class="hljs-comment">// ä¸‹æ²‰æ“ä½œï¼šå°†æ ¹å…ƒç´ å‘ä¸‹ç§»åŠ¨åˆ°åˆé€‚ä½ç½®</span>
        heapifyDown(<span class="hljs-number">0</span>);

        <span class="hljs-keyword">return</span> root;
    }

    <span class="hljs-comment">// ä¸‹æ²‰æ“ä½œ</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">heapifyDown</span><span class="hljs-params">(<span class="hljs-type">int</span> i)</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">smallest</span> <span class="hljs-operator">=</span> i;
        <span class="hljs-type">int</span> <span class="hljs-variable">left</span> <span class="hljs-operator">=</span> leftChild(i);
        <span class="hljs-type">int</span> <span class="hljs-variable">right</span> <span class="hljs-operator">=</span> rightChild(i);

        <span class="hljs-comment">// æ‰¾å‡ºå½“å‰èŠ‚ç‚¹ã€å·¦å­èŠ‚ç‚¹å’Œå³å­èŠ‚ç‚¹ä¸­çš„æœ€å°å€¼</span>
        <span class="hljs-keyword">if</span> (left &lt; size &amp;&amp; heap[left] &lt; heap[smallest]) {
            smallest = left;
        }

        <span class="hljs-keyword">if</span> (right &lt; size &amp;&amp; heap[right] &lt; heap[smallest]) {
            smallest = right;
        }

        <span class="hljs-comment">// å¦‚æœæœ€å°å€¼ä¸æ˜¯å½“å‰èŠ‚ç‚¹ï¼Œåˆ™äº¤æ¢å¹¶ç»§ç»­ä¸‹æ²‰</span>
        <span class="hljs-keyword">if</span> (smallest != i) {
            swap(i, smallest);
            heapifyDown(smallest);
        }
    }

    <span class="hljs-comment">// æ‰“å°å †</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printHeap</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; size; i++) {
            System.out.print(heap[i] + <span class="hljs-string">" "</span>);
        }
        System.out.println();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">MinHeap</span> <span class="hljs-variable">minHeap</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MinHeap</span>(<span class="hljs-number">10</span>);
        
        minHeap.insert(<span class="hljs-number">5</span>);
        minHeap.insert(<span class="hljs-number">3</span>);
        minHeap.insert(<span class="hljs-number">8</span>);
        minHeap.insert(<span class="hljs-number">1</span>);
        minHeap.insert(<span class="hljs-number">10</span>);
        
        System.out.println(<span class="hljs-string">"æ„å»ºçš„å †ï¼š"</span>);
        minHeap.printHeap();
        
        System.out.println(<span class="hljs-string">"æœ€å°å…ƒç´ ï¼š"</span> + minHeap.peek());
        
        System.out.println(<span class="hljs-string">"æå–æœ€å°å…ƒç´ ï¼š"</span> + minHeap.extractMin());
        System.out.println(<span class="hljs-string">"æå–åçš„å †ï¼š"</span>);
        minHeap.printHeap();
    }
}
</code></pre>
<h4 data-id="heading-28">ä¼˜ç‚¹</h4>
<ol>
<li>é«˜æ•ˆçš„ä¼˜å…ˆçº§æ“ä½œï¼šO(1) æ—¶é—´å¤æ‚åº¦æŸ¥æ‰¾æœ€å¤§/æœ€å°å…ƒç´ </li>
<li>ç›¸å¯¹è¾ƒå¿«çš„æ’å…¥å’Œåˆ é™¤ï¼šO(log n) æ—¶é—´å¤æ‚åº¦</li>
<li>ç©ºé—´æ•ˆç‡é«˜ï¼šæ•°ç»„å®ç°ä¸éœ€è¦é¢å¤–çš„æŒ‡é’ˆå¼€é”€</li>
<li>å®ç°ç®€å•ï¼šç›¸æ¯”å…¶ä»–é«˜çº§æ•°æ®ç»“æ„ï¼ŒäºŒå‰å †å®ç°ç›¸å¯¹ç®€å•</li>
<li>å†…å­˜å±€éƒ¨æ€§å¥½ï¼šè¿ç»­å†…å­˜å­˜å‚¨æé«˜ç¼“å­˜å‘½ä¸­ç‡</li>
</ol>
<h4 data-id="heading-29">ç¼ºç‚¹</h4>
<ol>
<li>æœ‰é™çš„æ“ä½œé›†ï¼šåªæ”¯æŒæŸ¥æ‰¾æœ€å€¼ï¼Œä¸æ”¯æŒé«˜æ•ˆçš„æœç´¢ã€åˆ é™¤ä»»æ„å…ƒç´ ç­‰æ“ä½œ</li>
<li>ä¸æ”¯æŒå¿«é€Ÿåˆå¹¶ï¼šåˆå¹¶ä¸¤ä¸ªå †çš„æ“ä½œè¾ƒä¸ºå¤æ‚</li>
<li>ä¸ç¨³å®šæ€§ï¼šç›¸åŒä¼˜å…ˆçº§çš„å…ƒç´ ï¼Œå…¶ç›¸å¯¹é¡ºåºå¯èƒ½æ”¹å˜</li>
<li>å¯¹ç¼“å­˜ä¸å‹å¥½çš„è®¿é—®æ¨¡å¼ï¼šç‰¹åˆ«æ˜¯åœ¨å †è¾ƒå¤§æ—¶ï¼Œçˆ¶å­èŠ‚ç‚¹é—´çš„è·³è·ƒè®¿é—®å¯èƒ½å¯¼è‡´ç¼“å­˜æœªå‘½ä¸­</li>
</ol>
<h4 data-id="heading-30">åº”ç”¨åœºæ™¯</h4>
<p>äºŒå‰å †å¹¿æ³›åº”ç”¨äºå„ç§ç®—æ³•å’Œç³»ç»Ÿä¸­ï¼š</p>
<ol>
<li>ä¼˜å…ˆé˜Ÿåˆ—å®ç°ï¼šå½“éœ€è¦é¢‘ç¹è·å–æœ€å¤§æˆ–æœ€å°å…ƒç´ æ—¶ï¼ŒäºŒå‰å †æ˜¯æœ€å¸¸ç”¨çš„æ•°æ®ç»“æ„ã€‚æ“ä½œç³»ç»Ÿä¸­çš„è¿›ç¨‹è°ƒåº¦ã€ç½‘ç»œè·¯ç”±ç®—æ³•éƒ½ä¼šä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—æ¥ç¡®å®šä¸‹ä¸€ä¸ªå¤„ç†çš„ä»»åŠ¡ã€‚</li>
<li>æ’åºç®—æ³•ï¼šå †æ’åºåˆ©ç”¨äºŒå‰å †çš„ç‰¹æ€§ï¼Œèƒ½å¤Ÿä»¥O(n log n)çš„æ—¶é—´å¤æ‚åº¦å¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œä¸”ç©ºé—´å¤æ‚åº¦ä¸ºO(1)ï¼Œé€‚åˆå¤§æ•°æ®æ’åºã€‚</li>
<li>å›¾ç®—æ³•ï¼šè®¸å¤šå›¾ç®—æ³•å¦‚Dijkstraæœ€çŸ­è·¯å¾„ã€Primæœ€å°ç”Ÿæˆæ ‘ç®—æ³•éƒ½ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—æ¥é€‰æ‹©ä¸‹ä¸€ä¸ªå¤„ç†çš„èŠ‚ç‚¹ï¼ŒäºŒå‰å †æ˜¯å…¶é«˜æ•ˆå®ç°ã€‚</li>
<li>ä¸­ä½æ•°å’Œç™¾åˆ†ä½æ•°è®¡ç®—ï¼šé€šè¿‡ç»´æŠ¤ä¸¤ä¸ªå †ï¼ˆæœ€å¤§å †å’Œæœ€å°å †ï¼‰ï¼Œå¯ä»¥é«˜æ•ˆåœ°è·Ÿè¸ªæ•°æ®æµçš„ä¸­ä½æ•°å’Œå…¶ä»–ç»Ÿè®¡å€¼ã€‚</li>
<li>äº‹ä»¶æ¨¡æ‹Ÿï¼šåœ¨ç¦»æ•£äº‹ä»¶æ¨¡æ‹Ÿä¸­ï¼Œäº‹ä»¶æŒ‰æ—¶é—´é¡ºåºå¤„ç†ï¼Œä¼˜å…ˆé˜Ÿåˆ—å¯ä»¥ç¡®ä¿æŒ‰æ­£ç¡®é¡ºåºå¤„ç†äº‹ä»¶ã€‚</li>
<li>æ•°æ®æµå¤„ç†ï¼šåœ¨å¤„ç†å¤§é‡æ•°æ®æµæ—¶ï¼Œå¦‚æœåªéœ€è¦å…³æ³¨"æœ€é‡è¦"çš„kä¸ªå…ƒç´ ï¼Œå¯ä»¥ç»´æŠ¤ä¸€ä¸ªå¤§å°ä¸ºkçš„å †ã€‚</li>
</ol>
<h4 data-id="heading-31">Javaæ ‡å‡†åº“ä¸­çš„å †å®ç°</h4>
<p>Java æä¾›äº† <code>PriorityQueue</code> ç±»ï¼Œå®ƒåŸºäºäºŒå‰å †å®ç°ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.PriorityQueue;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PriorityQueueExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// é»˜è®¤æ˜¯æœ€å°å †</span>
        PriorityQueue&lt;Integer&gt; minHeap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PriorityQueue</span>&lt;&gt;();
        
        <span class="hljs-comment">// æ·»åŠ å…ƒç´ </span>
        minHeap.add(<span class="hljs-number">5</span>);
        minHeap.add(<span class="hljs-number">3</span>);
        minHeap.add(<span class="hljs-number">8</span>);
        minHeap.add(<span class="hljs-number">1</span>);
        minHeap.add(<span class="hljs-number">10</span>);
        
        System.out.println(<span class="hljs-string">"ä¼˜å…ˆé˜Ÿåˆ—å†…å®¹ï¼š"</span> + minHeap);
        System.out.println(<span class="hljs-string">"æœ€å°å…ƒç´ ï¼š"</span> + minHeap.peek());
        
        System.out.println(<span class="hljs-string">"æå–æœ€å°å…ƒç´ ï¼š"</span> + minHeap.poll());
        System.out.println(<span class="hljs-string">"æå–åçš„ä¼˜å…ˆé˜Ÿåˆ—ï¼š"</span> + minHeap);
        
        <span class="hljs-comment">// åˆ›å»ºæœ€å¤§å †ï¼ˆé€šè¿‡è‡ªå®šä¹‰æ¯”è¾ƒå™¨ï¼‰</span>
        PriorityQueue&lt;Integer&gt; maxHeap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PriorityQueue</span>&lt;&gt;((a, b) -&gt; b - a);
        
        maxHeap.add(<span class="hljs-number">5</span>);
        maxHeap.add(<span class="hljs-number">3</span>);
        maxHeap.add(<span class="hljs-number">8</span>);
        maxHeap.add(<span class="hljs-number">1</span>);
        maxHeap.add(<span class="hljs-number">10</span>);
        
        System.out.println(<span class="hljs-string">"æœ€å¤§å †å†…å®¹ï¼š"</span> + maxHeap);
        System.out.println(<span class="hljs-string">"æœ€å¤§å…ƒç´ ï¼š"</span> + maxHeap.peek());
    }
}
</code></pre>
<p>è¯¦æƒ…å¯ä»¥çœ‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.seven97.top%2Fjava%2Fcollection%2F02-collection3-priorityqueue.html" target="_blank" title="https://www.seven97.top/java/collection/02-collection3-priorityqueue.html" ref="nofollow noopener noreferrer">PriorityQueue</a></p>
<h4 data-id="heading-32">å †çš„å˜ç§</h4>
<p>é™¤äº†åŸºæœ¬çš„äºŒå‰å †ï¼Œè¿˜æœ‰å‡ ç§é‡è¦çš„å †å˜ç§ï¼š</p>
<ol>
<li>då‰å †ï¼ˆd-ary Heapï¼‰ï¼šæ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰dä¸ªå­èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯2ä¸ªã€‚å¢åŠ då€¼å¯ä»¥å‡å°‘å †çš„é«˜åº¦ï¼Œåœ¨æŸäº›åº”ç”¨ä¸­å¯ä»¥æé«˜æ€§èƒ½ã€‚</li>
<li>æ–æ³¢é‚£å¥‘å †ï¼ˆFibonacci Heapï¼‰ï¼šä¸€ç§æ›´å¤æ‚çš„å †ç»“æ„ï¼Œæä¾›äº†æ›´é«˜æ•ˆçš„åˆå¹¶æ“ä½œå’Œæ‘Šé”€æ—¶é—´å¤æ‚åº¦ã€‚è®¸å¤šé«˜çº§å›¾ç®—æ³•ä½¿ç”¨æ–æ³¢é‚£å¥‘å †æ¥æé«˜æ€§èƒ½ã€‚</li>
<li>å·¦åæ ‘ï¼ˆLeftist Heapï¼‰ï¼šä¸€ç§æ”¯æŒé«˜æ•ˆåˆå¹¶æ“ä½œçš„å †ï¼Œå¸¸ç”¨äºå¹¶è¡Œè®¡ç®—å’Œåˆ†å¸ƒå¼ç³»ç»Ÿã€‚</li>
<li>é…å¯¹å †ï¼ˆPairing Heapï¼‰ï¼šç»“æ„ç®€å•ä½†æ€§èƒ½ä¼˜å¼‚çš„å †å®ç°ï¼Œç‰¹åˆ«é€‚åˆéœ€è¦é¢‘ç¹åˆå¹¶å’Œå‡å°é”®å€¼çš„åº”ç”¨ã€‚</li>
</ol>
<h4 data-id="heading-33">ç›¸å…³çš„ LeetCode çƒ­é—¨é¢˜ç›®</h4>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fmerge-k-sorted-lists%2F" target="_blank" title="https://leetcode.cn/problems/merge-k-sorted-lists/" ref="nofollow noopener noreferrer">23. åˆå¹¶Kä¸ªæ’åºé“¾è¡¨</a>Â - ä½¿ç”¨æœ€å°å †æ¥é«˜æ•ˆåˆå¹¶å¤šä¸ªæœ‰åºé“¾è¡¨ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Ftop-k-frequent-elements%2F" target="_blank" title="https://leetcode.cn/problems/top-k-frequent-elements/" ref="nofollow noopener noreferrer">347. å‰ K ä¸ªé«˜é¢‘å…ƒç´ </a>Â - ä½¿ç”¨å †æ¥æ‰¾å‡ºæ•°ç»„ä¸­å‡ºç°é¢‘ç‡æœ€é«˜çš„Kä¸ªå…ƒç´ ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Ffind-median-from-data-stream%2F" target="_blank" title="https://leetcode.cn/problems/find-median-from-data-stream/" ref="nofollow noopener noreferrer">295. æ•°æ®æµçš„ä¸­ä½æ•°</a>Â - ä½¿ç”¨ä¸€ä¸ªæœ€å¤§å †å’Œä¸€ä¸ªæœ€å°å †æ¥è·Ÿè¸ªæ•°æ®æµçš„ä¸­ä½æ•°ã€‚</li>
</ol>
<h3 data-id="heading-34">Bæ ‘</h3>
<p>Bæ ‘æ˜¯ä¸€ç§è‡ªå¹³è¡¡çš„å¤šè·¯æœç´¢æ ‘ï¼Œå®ƒæ˜¯äºŒå‰æœç´¢æ ‘çš„æ‰©å±•ï¼Œä¸“ä¸ºç£ç›˜æˆ–å…¶ä»–å¤–éƒ¨å­˜å‚¨è®¾å¤‡è®¾è®¡ã€‚Bæ ‘çš„æ¯ä¸ªèŠ‚ç‚¹æ‹¥æœ‰æ›´å¤šçš„å­èŠ‚ç‚¹ï¼Œè¿™ä½¿æ ‘çš„é«˜åº¦æ›´ä½ï¼Œå‡å°‘è®¿é—®ç£ç›˜çš„æ¬¡æ•°ã€‚</p>
<p>Bæ ‘ä¸­çš„å‡ ä¸ªå…³é”®æ¦‚å¿µï¼š</p>
<ul>
<li>é˜¶ï¼ˆOrderï¼‰ï¼šå®šä¹‰äº†ä¸€ä¸ªBæ ‘èŠ‚ç‚¹æœ€å¤šå¯ä»¥æœ‰å¤šå°‘ä¸ªå­èŠ‚ç‚¹ã€‚å…·æœ‰é˜¶ä¸ºmçš„Bæ ‘ä¹Ÿç§°ä¸ºmé˜¶Bæ ‘ã€‚</li>
<li>å†…éƒ¨èŠ‚ç‚¹ï¼ˆInternal Nodeï¼‰ï¼šé™¤æ ¹èŠ‚ç‚¹å’Œå¶èŠ‚ç‚¹å¤–çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚</li>
<li>å¶èŠ‚ç‚¹ï¼ˆLeaf Nodeï¼‰ï¼šæ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</li>
<li>é”®ï¼ˆKeyï¼‰ï¼šå­˜å‚¨åœ¨èŠ‚ç‚¹ä¸­çš„å€¼ï¼Œç”¨äºæŒ‡å¯¼æœç´¢è¿‡ç¨‹ã€‚</li>
<li>å­èŠ‚ç‚¹ï¼ˆChildï¼‰ï¼šèŠ‚ç‚¹çš„ç›´æ¥åä»£ã€‚</li>
</ul>
<p>ä¸€ä¸ªé˜¶ä¸ºmçš„Bæ ‘æ»¡è¶³ä»¥ä¸‹æ€§è´¨ï¼š</p>
<ol>
<li>æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰mä¸ªå­èŠ‚ç‚¹</li>
<li>é™¤äº†æ ¹èŠ‚ç‚¹å’Œå¶èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹è‡³å°‘æœ‰âŒˆm/2âŒ‰ä¸ªå­èŠ‚ç‚¹</li>
<li>å¦‚æœæ ¹èŠ‚ç‚¹ä¸æ˜¯å¶èŠ‚ç‚¹ï¼Œåˆ™è‡³å°‘æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹</li>
<li>æ‰€æœ‰å¶èŠ‚ç‚¹éƒ½åœ¨åŒä¸€å±‚</li>
<li>å…·æœ‰kä¸ªå­èŠ‚ç‚¹çš„éå¶èŠ‚ç‚¹åŒ…å«k-1ä¸ªé”®</li>
</ol>
<p>Bæ ‘æ ¸å¿ƒç‰¹æ€§ï¼š</p>
<ol>
<li>è‡ªå¹³è¡¡æ€§ï¼šBæ ‘é€šè¿‡åˆ†è£‚å’Œåˆå¹¶æ“ä½œä¿æŒå¹³è¡¡ï¼Œç¡®ä¿æ‰€æœ‰æ“ä½œçš„å¯¹æ•°æ—¶é—´å¤æ‚åº¦ã€‚</li>
<li>å¤šè·¯åˆ†æ”¯ï¼šæ¯ä¸ªèŠ‚ç‚¹å¯ä»¥æœ‰å¤šä¸ªå­èŠ‚ç‚¹ï¼Œè€Œä¸ä»…ä»…æ˜¯äºŒå‰æ ‘çš„ä¸¤ä¸ªï¼Œè¿™é™ä½äº†æ ‘çš„é«˜åº¦ã€‚</li>
<li>æœ‰åºç‰¹æ€§ï¼šBæ ‘ä¸­çš„é”®æ˜¯æœ‰åºå­˜å‚¨çš„ï¼Œä½¿å¾—æœç´¢ã€æ’å…¥å’Œåˆ é™¤æ“ä½œé«˜æ•ˆã€‚</li>
<li>é€‚åˆå¤–éƒ¨å­˜å‚¨ï¼šBæ ‘çš„è®¾è®¡æ˜¯ä¸ºäº†æœ€å°åŒ–ç£ç›˜è®¿é—®æ¬¡æ•°ï¼Œç‰¹åˆ«é€‚åˆå¤„ç†å¤§é‡æ•°æ®æ—¶ã€‚</li>
<li>åˆ†å—å­˜å‚¨ï¼šé”®å’ŒæŒ‡é’ˆç»„ç»‡åœ¨å—ä¸­ï¼Œè¿™ç§ç»“æ„ä¸ç£ç›˜é¡µé¢æˆ–æ•°æ®å—çš„ç‰©ç†ç‰¹æ€§åŒ¹é…ã€‚</li>
</ol>
<h4 data-id="heading-35">åŸºæœ¬æ“ä½œ</h4>
<ul>
<li>
<p>æœç´¢æ“ä½œï¼šæœç´¢Bæ ‘ä¸­çš„é”®ä¸æœç´¢äºŒå‰æœç´¢æ ‘ç±»ä¼¼ï¼Œä½†éœ€è¦åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸­éå†å¤šä¸ªé”®</p>
<ul>
<li>ä»æ ¹èŠ‚ç‚¹å¼€å§‹</li>
<li>åœ¨å½“å‰èŠ‚ç‚¹å†…éƒ¨æŒ‰é¡ºåºæŸ¥æ‰¾ç›®æ ‡é”®</li>
<li>å¦‚æœæ‰¾åˆ°ï¼Œè¿”å›ç»“æœ</li>
<li>å¦‚æœæœªæ‰¾åˆ°ä¸”èŠ‚ç‚¹æ˜¯å¶èŠ‚ç‚¹ï¼Œåˆ™é”®ä¸å­˜åœ¨</li>
<li>å¦åˆ™ï¼Œæ ¹æ®é”®çš„å¤§å°é€‰æ‹©åˆé€‚çš„å­æ ‘ç»§ç»­æœç´¢</li>
</ul>
</li>
<li>
<p>æ’å…¥æ“ä½œ</p>
<ul>
<li>æ‰¾åˆ°åˆé€‚çš„å¶èŠ‚ç‚¹ä½ç½®</li>
<li>å°†é”®æ’å…¥åˆ°å¶èŠ‚ç‚¹ä¸­</li>
<li>å¦‚æœæ’å…¥å¯¼è‡´èŠ‚ç‚¹è¶…å‡ºæœ€å¤§å®¹é‡ï¼Œåˆ™åˆ†è£‚èŠ‚ç‚¹ï¼š
<ul>
<li>é€‰æ‹©ä¸­é—´é”®</li>
<li>å°†ä¸­é—´é”®ä¸Šç§»åˆ°çˆ¶èŠ‚ç‚¹</li>
<li>å°†åŸèŠ‚ç‚¹åˆ†ä¸ºä¸¤ä¸ªèŠ‚ç‚¹</li>
<li>å¦‚æœçˆ¶èŠ‚ç‚¹ä¹Ÿè¶…å‡ºå®¹é‡ï¼Œåˆ™ç»§ç»­å‘ä¸Šåˆ†è£‚</li>
</ul>
</li>
</ul>
</li>
<li>
<p>åˆ é™¤æ“ä½œ</p>
<ul>
<li>æ‰¾åˆ°åŒ…å«è¦åˆ é™¤é”®çš„èŠ‚ç‚¹</li>
<li>å¦‚æœèŠ‚ç‚¹æ˜¯å¶èŠ‚ç‚¹ï¼Œç›´æ¥åˆ é™¤</li>
<li>å¦‚æœèŠ‚ç‚¹æ˜¯å†…éƒ¨èŠ‚ç‚¹ï¼Œç”¨å‰é©±æˆ–åç»§æ›¿æ¢è¦åˆ é™¤çš„é”®</li>
<li>å¦‚æœåˆ é™¤å¯¼è‡´èŠ‚ç‚¹é”®æ•°é‡å°‘äºæœ€å°è¦æ±‚ï¼š
<ul>
<li>å°è¯•ä»å…„å¼ŸèŠ‚ç‚¹å€Ÿä¸€ä¸ªé”®</li>
<li>å¦‚æœæ— æ³•å€Ÿç”¨ï¼Œåˆ™åˆå¹¶èŠ‚ç‚¹</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-36">ä¼˜ç‚¹</h4>
<ol>
<li>å‡å°‘ç£ç›˜è®¿é—®ï¼šBæ ‘çš„é«˜åº¦é€šå¸¸å¾ˆä½ï¼Œå³ä½¿å­˜å‚¨å¤§é‡æ•°æ®ä¹Ÿåªéœ€è¦å°‘é‡ç£ç›˜è®¿é—®ã€‚</li>
<li>é€‚åˆå¤§æ•°æ®é‡ï¼šå› ä¸ºæ¯ä¸ªèŠ‚ç‚¹å¯ä»¥åŒ…å«å¤šä¸ªé”®ï¼ŒBæ ‘å¯ä»¥æœ‰æ•ˆåœ°å­˜å‚¨å’Œæ£€ç´¢å¤§é‡æ•°æ®ã€‚</li>
<li>å¹³è¡¡æ€§ä¿è¯ï¼šBæ ‘å§‹ç»ˆä¿æŒå¹³è¡¡ï¼Œæ²¡æœ‰æœ€åæƒ…å†µæ€§èƒ½ä¸‹é™çš„é—®é¢˜ã€‚</li>
<li>é«˜æ•ˆçš„èŒƒå›´æŸ¥è¯¢ï¼šç”±äºé”®æ˜¯æœ‰åºçš„ï¼ŒBæ ‘æ”¯æŒé«˜æ•ˆçš„èŒƒå›´æŸ¥è¯¢æ“ä½œã€‚</li>
<li>é€‚åˆå¤–éƒ¨å­˜å‚¨ï¼šBæ ‘çš„ç»“æ„éå¸¸é€‚åˆç£ç›˜ç­‰å¤–éƒ¨å­˜å‚¨ç³»ç»Ÿï¼Œä½¿å…¶æˆä¸ºæ•°æ®åº“ç´¢å¼•çš„ç†æƒ³é€‰æ‹©ã€‚</li>
</ol>
<h4 data-id="heading-37">ç¼ºç‚¹</h4>
<ol>
<li>å®ç°å¤æ‚ï¼šä¸äºŒå‰æ ‘ç›¸æ¯”ï¼ŒBæ ‘çš„å®ç°æ›´ä¸ºå¤æ‚ï¼Œç‰¹åˆ«æ˜¯åˆ é™¤æ“ä½œã€‚</li>
<li>ç©ºé—´åˆ©ç”¨ç‡ï¼šBæ ‘èŠ‚ç‚¹å¯èƒ½æœªè¢«å®Œå…¨å¡«å……ï¼Œå¯¼è‡´ä¸€å®šç¨‹åº¦çš„ç©ºé—´æµªè´¹ã€‚</li>
<li>ä¸é€‚åˆå†…å­˜æ“ä½œï¼šå¯¹äºå®Œå…¨åœ¨å†…å­˜ä¸­çš„æ•°æ®ç»“æ„ï¼ŒBæ ‘çš„ä¼˜åŠ¿ä¸æ˜æ˜¾ï¼Œå¯èƒ½æ¯”å…¶ä»–å¹³è¡¡æ ‘ï¼ˆå¦‚çº¢é»‘æ ‘ï¼‰æ•ˆç‡ä½ã€‚</li>
<li>æ›´æ–°å¼€é”€ï¼šæ’å…¥å’Œåˆ é™¤æ“ä½œå¯èƒ½å¯¼è‡´çº§è”çš„èŠ‚ç‚¹åˆ†è£‚æˆ–åˆå¹¶ï¼Œå¢åŠ äº†æ“ä½œçš„å¤æ‚æ€§ã€‚</li>
</ol>
<h4 data-id="heading-38">åº”ç”¨åœºæ™¯</h4>
<p>æ•°æ®åº“ç³»ç»Ÿæ˜¯Bæ ‘æœ€ä¸»è¦çš„åº”ç”¨é¢†åŸŸã€‚å‡ ä¹æ‰€æœ‰ä¸»æµå…³ç³»æ•°æ®åº“éƒ½ä½¿ç”¨Bæ ‘æˆ–å…¶å˜ç§æ¥å®ç°ç´¢å¼•ã€‚æ•°æ®åº“å¼•æ“é€šè¿‡Bæ ‘ç´¢å¼•å¯ä»¥å¿«é€Ÿå®šä½åˆ°æ•°æ®æ‰€åœ¨çš„é¡µé¢ï¼Œæå¤§æå‡æŸ¥è¯¢æ€§èƒ½ã€‚ä¾‹å¦‚ï¼ŒMySQLçš„InnoDBå­˜å‚¨å¼•æ“ä½¿ç”¨B+æ ‘ï¼ˆBæ ‘çš„å˜ç§ï¼‰æ¥æ„å»ºå…¶ç´¢å¼•ç»“æ„ã€‚</p>
<p>æ–‡ä»¶ç³»ç»Ÿä¹Ÿå¹¿æ³›é‡‡ç”¨Bæ ‘æ¥ç»„ç»‡æ–‡ä»¶å’Œç›®å½•ã€‚å¦‚NTFSã€HFS+ç­‰æ–‡ä»¶ç³»ç»Ÿéƒ½ä½¿ç”¨Bæ ‘æˆ–å…¶å˜ç§æ¥ç®¡ç†æ–‡ä»¶åˆ†é…è¡¨å’Œç›®å½•ç»“æ„ï¼Œæœ‰æ•ˆåœ°æ”¯æŒå¤§å‹å­˜å‚¨ç³»ç»Ÿä¸­çš„æ–‡ä»¶æ£€ç´¢ã€‚</p>
<p>æ—¶é—´åºåˆ—æ•°æ®åº“æˆ–åœ°ç†ä¿¡æ¯ç³»ç»Ÿä¸­ï¼Œç»å¸¸éœ€è¦æ£€ç´¢ç‰¹å®šèŒƒå›´å†…çš„æ•°æ®ç‚¹ï¼ŒBæ ‘çš„æœ‰åºç‰¹æ€§ä½¿è¿™ç±»æ“ä½œå˜å¾—é«˜æ•ˆã€‚</p>
<p>é”®å€¼å­˜å‚¨ç³»ç»Ÿå¦‚Redisã€LevelDBç­‰ä¹Ÿå€Ÿé‰´äº†Bæ ‘çš„è®¾è®¡ç†å¿µã€‚è™½ç„¶å®ƒä»¬å¯èƒ½ä½¿ç”¨äº†ä¸åŒçš„å˜ç§æˆ–æ··åˆç»“æ„ï¼Œä½†åŸºæœ¬æ€æƒ³æºè‡ªBæ ‘çš„é«˜æ•ˆæŸ¥æ‰¾å’ŒèŒƒå›´æ“ä½œç‰¹æ€§ã€‚</p>
<h4 data-id="heading-39">Bæ ‘çš„å˜ç§</h4>
<p>B+æ ‘æ˜¯Bæ ‘çš„ä¸€ä¸ªé‡è¦å˜ç§ï¼Œå®ƒåœ¨æ•°æ®åº“ç³»ç»Ÿä¸­æ›´ä¸ºå¸¸ç”¨ï¼š</p>
<ul>
<li>æ‰€æœ‰æ•°æ®éƒ½å­˜å‚¨åœ¨å¶èŠ‚ç‚¹</li>
<li>å†…éƒ¨èŠ‚ç‚¹ä»…åŒ…å«é”®ï¼Œä¸åŒ…å«æ•°æ®</li>
<li>å¶èŠ‚ç‚¹é€šè¿‡é“¾è¡¨è¿æ¥ï¼Œæ”¯æŒæ›´é«˜æ•ˆçš„é¡ºåºè®¿é—®</li>
<li>é€‚åˆèŒƒå›´æŸ¥è¯¢å’Œé¡ºåºæ‰«æ</li>
</ul>
<p>B* æ ‘å¯¹Bæ ‘è¿›è¡Œäº†è¿›ä¸€æ­¥ä¼˜åŒ–ï¼š</p>
<ul>
<li>éæ ¹èŠ‚ç‚¹è‡³å°‘2/3æ»¡ï¼ˆè€Œä¸æ˜¯1/2ï¼‰</li>
<li>åœ¨èŠ‚ç‚¹åˆ†è£‚å‰å…ˆå°è¯•ä¸å…„å¼ŸèŠ‚ç‚¹é‡æ–°åˆ†é…</li>
<li>åˆ†è£‚æ—¶æ¶‰åŠä¸¤ä¸ªèŠ‚ç‚¹å˜ä¸ºä¸‰ä¸ªèŠ‚ç‚¹</li>
<li>æé«˜äº†ç©ºé—´åˆ©ç”¨ç‡</li>
</ul>
<h3 data-id="heading-40">B+æ ‘</h3>
<p>B+æ ‘æ˜¯ä¸€ç§å¹³è¡¡æ ‘æ•°æ®ç»“æ„ï¼Œæ˜¯Bæ ‘çš„å˜ç§ï¼Œè¢«å¹¿æ³›åº”ç”¨äºæ•°æ®åº“ç´¢å¼•å’Œæ–‡ä»¶ç³»ç»Ÿä¸­ã€‚B+æ ‘ä¿æŒæ•°æ®æœ‰åºï¼Œè€Œä¸”èƒ½å¤Ÿé«˜æ•ˆåœ°è¿›è¡ŒæŸ¥æ‰¾ã€é¡ºåºè®¿é—®ã€æ’å…¥å’Œåˆ é™¤æ“ä½œã€‚</p>
<p>B+æ ‘çš„ä¸»è¦ç»„æˆéƒ¨åˆ†åŒ…æ‹¬ï¼š</p>
<ul>
<li>èŠ‚ç‚¹ï¼šB+æ ‘ä¸­çš„åŸºæœ¬å•å…ƒï¼Œåˆ†ä¸ºå†…éƒ¨èŠ‚ç‚¹å’Œå¶å­èŠ‚ç‚¹</li>
<li>å†…éƒ¨èŠ‚ç‚¹ï¼šåªå­˜å‚¨é”®å€¼å’ŒæŒ‡å‘å­èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œä¸å­˜å‚¨æ•°æ®</li>
<li>å¶å­èŠ‚ç‚¹ï¼šå­˜å‚¨é”®å€¼å’ŒçœŸå®æ•°æ®ï¼ˆæˆ–æŒ‡å‘æ•°æ®çš„æŒ‡é’ˆï¼‰</li>
<li>é˜¶æ•°ï¼ˆorderï¼‰ï¼šè¡¨ç¤ºä¸€ä¸ªèŠ‚ç‚¹æœ€å¤šå¯ä»¥æœ‰å¤šå°‘ä¸ªå­èŠ‚ç‚¹ï¼Œé€šå¸¸ç”¨mè¡¨ç¤º</li>
<li>é“¾è¡¨ï¼šæ‰€æœ‰å¶å­èŠ‚ç‚¹å½¢æˆä¸€ä¸ªæœ‰åºé“¾è¡¨ï¼Œæ–¹ä¾¿èŒƒå›´æŸ¥è¯¢</li>
</ul>
<p>B+æ ‘æ ¸å¿ƒç‰¹æ€§</p>
<ol>
<li>æ‰€æœ‰æ•°æ®éƒ½å­˜å‚¨åœ¨å¶å­èŠ‚ç‚¹ä¸Šï¼šå†…éƒ¨èŠ‚ç‚¹åªå­˜å‚¨é”®å€¼å’ŒæŒ‡é’ˆï¼Œä¸å­˜å‚¨å®é™…æ•°æ®</li>
<li>æ‰€æœ‰å¶å­èŠ‚ç‚¹é€šè¿‡æŒ‡é’ˆè¿æ¥æˆæœ‰åºé“¾è¡¨ï¼šä¾¿äºèŒƒå›´æŸ¥è¯¢å’Œé¡ºåºéå†</li>
<li>å¹³è¡¡æ ‘ç»“æ„ï¼šæ‰€æœ‰å¶å­èŠ‚ç‚¹åˆ°æ ¹èŠ‚ç‚¹çš„è·ç¦»ç›¸åŒ</li>
<li>é«˜æ‰‡å‡ºæ€§ï¼ˆHigh Fan-outï¼‰ï¼šæ¯ä¸ªèŠ‚ç‚¹å¯ä»¥åŒ…å«å¤šä¸ªé”®å€¼å’ŒæŒ‡é’ˆï¼Œå‡å°‘æ ‘çš„é«˜åº¦</li>
<li>è‡ªå¹³è¡¡ï¼šåœ¨æ’å…¥å’Œåˆ é™¤æ“ä½œåè‡ªåŠ¨è°ƒæ•´ä»¥ä¿æŒå¹³è¡¡</li>
</ol>
<h4 data-id="heading-41">åŸºæœ¬æ“ä½œ</h4>
<ul>
<li>
<p>æŸ¥æ‰¾æ“ä½œ</p>
<ol>
<li>ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œæ ¹æ®é”®å€¼æ¯”è¾ƒç¡®å®šåº”è¯¥æŸ¥æ‰¾å“ªä¸ªå­èŠ‚ç‚¹</li>
<li>é€’å½’å‘ä¸‹æŸ¥æ‰¾ï¼Œç›´åˆ°åˆ°è¾¾å¶å­èŠ‚ç‚¹</li>
<li>åœ¨å¶å­èŠ‚ç‚¹ä¸­æŸ¥æ‰¾ç›®æ ‡æ•°æ®</li>
</ol>
</li>
<li>
<p>æ’å…¥æ“ä½œ</p>
<ol>
<li>æ‰¾åˆ°åº”æ’å…¥çš„å¶å­èŠ‚ç‚¹</li>
<li>å°†æ•°æ®æ’å…¥åˆ°è¯¥å¶å­èŠ‚ç‚¹</li>
<li>å¦‚æœå¶å­èŠ‚ç‚¹æº¢å‡ºï¼ˆè¶…è¿‡æœ€å¤§å®¹é‡ï¼‰ï¼š
<ul>
<li>åˆ†è£‚èŠ‚ç‚¹ä¸ºä¸¤éƒ¨åˆ†</li>
<li>é€‰æ‹©ä¸€ä¸ªé”®å€¼ä¸Šå‡åˆ°çˆ¶èŠ‚ç‚¹</li>
<li>å¦‚æœ‰å¿…è¦ï¼Œé€’å½’å‘ä¸Šåˆ†è£‚</li>
</ul>
</li>
</ol>
</li>
<li>
<p>åˆ é™¤æ“ä½œ</p>
<ol>
<li>æ‰¾åˆ°åŒ…å«ç›®æ ‡æ•°æ®çš„å¶å­èŠ‚ç‚¹</li>
<li>ä»å¶å­èŠ‚ç‚¹ä¸­åˆ é™¤æ•°æ®</li>
<li>å¦‚æœèŠ‚ç‚¹ä¸‹æº¢ï¼ˆä½äºæœ€å°å®¹é‡è¦æ±‚ï¼‰ï¼š
<ul>
<li>å°è¯•ä»ç›¸é‚»èŠ‚ç‚¹å€Ÿç”¨æ•°æ®</li>
<li>å¦‚æœæ— æ³•å€Ÿç”¨ï¼Œåˆ™åˆå¹¶èŠ‚ç‚¹</li>
<li>å¦‚æœ‰å¿…è¦ï¼Œé€’å½’å‘ä¸Šè°ƒæ•´</li>
</ul>
</li>
</ol>
</li>
</ul>
<h4 data-id="heading-42">ä¼˜ç‚¹</h4>
<ol>
<li>é«˜æ•ˆçš„èŒƒå›´æŸ¥è¯¢ï¼šå¶å­èŠ‚ç‚¹æ„æˆé“¾è¡¨ï¼Œå¯ä»¥å¿«é€Ÿè¿›è¡ŒèŒƒå›´æŸ¥è¯¢</li>
<li>æ›´å°‘çš„IOæ“ä½œï¼šé«˜æ‰‡å‡ºæ€§ä½¿æ ‘é«˜åº¦è¾ƒä½ï¼Œå‡å°‘ç£ç›˜è®¿é—®æ¬¡æ•°</li>
<li>é€‚åˆå¤–éƒ¨å­˜å‚¨ï¼šèŠ‚ç‚¹å¯ä»¥æ˜ å°„åˆ°ç£ç›˜å—ï¼Œä¼˜åŒ–ç£ç›˜IO</li>
<li>åŠ¨æ€å¹³è¡¡ï¼šæ’å…¥åˆ é™¤åè‡ªåŠ¨ç»´æŒå¹³è¡¡çŠ¶æ€</li>
<li>è¾ƒå¤§çš„åˆ†æ”¯å› å­ï¼šæ¯ä¸ªèŠ‚ç‚¹å¯ä»¥å­˜å‚¨æ›´å¤šé”®å€¼ï¼Œå‡å°‘æ ‘çš„é«˜åº¦</li>
</ol>
<h4 data-id="heading-43">ç¼ºç‚¹</h4>
<ol>
<li>å®ç°å¤æ‚ï¼šç›¸æ¯”ç®€å•çš„æ ‘ç»“æ„ï¼Œå®ç°è¾ƒä¸ºå¤æ‚</li>
<li>ä¿®æ”¹å¼€é”€å¤§ï¼šæ’å…¥å’Œåˆ é™¤æ“ä½œå¯èƒ½å¯¼è‡´èŠ‚ç‚¹åˆ†è£‚æˆ–åˆå¹¶ï¼Œçº§è”å½±å“å¤šä¸ªèŠ‚ç‚¹</li>
<li>ç©ºé—´åˆ©ç”¨ç‡ï¼šå†…éƒ¨èŠ‚ç‚¹ä¸å­˜å‚¨æ•°æ®ï¼Œå¯èƒ½å¯¼è‡´ç©ºé—´åˆ©ç”¨ç‡ä¸å¦‚å…¶ä»–ç»“æ„</li>
<li>ä¸é€‚åˆé¢‘ç¹æ›´æ–°çš„åœºæ™¯ï¼šé¢‘ç¹çš„æ’å…¥åˆ é™¤æ“ä½œä¼šå¯¼è‡´é¢‘ç¹çš„æ ‘ç»“æ„è°ƒæ•´</li>
</ol>
<h4 data-id="heading-44">åº”ç”¨åœºæ™¯</h4>
<p>B+æ ‘åœ¨æ•°æ®åº“ç³»ç»Ÿå’Œæ–‡ä»¶ç³»ç»Ÿä¸­å¾—åˆ°äº†å¹¿æ³›åº”ç”¨ã€‚åœ¨æ•°æ®åº“é¢†åŸŸï¼Œå‡ ä¹æ‰€æœ‰ä¸»æµå…³ç³»å‹æ•°æ®åº“çš„ç´¢å¼•ç»“æ„éƒ½é‡‡ç”¨äº†B+æ ‘æˆ–å…¶å˜ç§ã€‚MySQLçš„InnoDBå­˜å‚¨å¼•æ“ä½¿ç”¨B+æ ‘ä½œä¸ºå…¶ä¸»è¦ç´¢å¼•ç»“æ„ï¼Œé€šè¿‡å°†æ•°æ®æŒ‰ä¸»é”®é¡ºåºç»„ç»‡åœ¨å¶å­èŠ‚ç‚¹ä¸­ï¼Œå®ç°äº†é«˜æ•ˆçš„æŸ¥è¯¢å’ŒèŒƒå›´æ‰«ææ“ä½œã€‚</p>
<p>åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ï¼ŒB+æ ‘è¢«ç”¨äºç®¡ç†æ–‡ä»¶çš„ç›®å½•ç»“æ„å’Œç´¢å¼•ï¼Œæ¯”å¦‚NTFSã€ext4ç­‰ç°ä»£æ–‡ä»¶ç³»ç»Ÿã€‚ç”±äºB+æ ‘èƒ½å¤Ÿé«˜æ•ˆåœ°å¤„ç†å¤§é‡æ•°æ®ï¼ŒåŒæ—¶ä¿æŒè¾ƒä½çš„æ ‘é«˜åº¦ï¼Œä½¿æ–‡ä»¶ç³»ç»Ÿèƒ½å¤Ÿå¿«é€Ÿå®šä½å’Œè®¿é—®æ–‡ä»¶ã€‚</p>
<p>B+æ ‘è¿˜è¢«å¹¿æ³›åº”ç”¨äºåœ°ç†ä¿¡æ¯ç³»ç»Ÿ(GIS)ä¸­çš„ç©ºé—´ç´¢å¼•ï¼Œå¿«é€ŸæŸ¥æ‰¾ç‰¹å®šåœ°ç†åŒºåŸŸå†…çš„å¯¹è±¡ã€‚</p>
<h3 data-id="heading-45">Trieæ ‘</h3>
<p>Trieæ ‘ï¼Œä¹Ÿç§°ä¸ºå‰ç¼€æ ‘æˆ–å­—å…¸æ ‘ï¼Œæ˜¯ä¸€ç§æ ‘å½¢æ•°æ®ç»“æ„ï¼Œä¸“é—¨ç”¨äºé«˜æ•ˆå­˜å‚¨å’Œæ£€ç´¢å­—ç¬¦ä¸²é›†åˆã€‚Trieè¿™ä¸ªåå­—æ¥æºäº"retrieval"ï¼ˆæ£€ç´¢ï¼‰ä¸€è¯ï¼Œåæ˜ äº†å®ƒçš„ä¸»è¦ç”¨é€”ã€‚</p>
<p>åœ¨Trieæ ‘ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ï¼Œä»æ ¹èŠ‚ç‚¹åˆ°æŸä¸€èŠ‚ç‚¹çš„è·¯å¾„ä¸Šç»è¿‡çš„å­—ç¬¦è¿æ¥èµ·æ¥ï¼Œå°±æ˜¯è¯¥èŠ‚ç‚¹å¯¹åº”çš„å­—ç¬¦ä¸²ã€‚Trieæ ‘çš„å…³é”®ç‰¹ç‚¹æ˜¯ï¼Œæ‰€æœ‰æ‹¥æœ‰ç›¸åŒå‰ç¼€çš„å­—ç¬¦ä¸²ï¼Œåœ¨æ ‘ä¸­å…±äº«è¿™ä¸ªå‰ç¼€çš„å­˜å‚¨ç©ºé—´ã€‚</p>
<p>Trieæ ‘æ ¸å¿ƒç‰¹æ€§</p>
<ol>
<li>å‰ç¼€å…±äº«: å…·æœ‰ç›¸åŒå‰ç¼€çš„å­—ç¬¦ä¸²åœ¨Trieæ ‘ä¸­å…±äº«å­˜å‚¨ç©ºé—´ï¼Œå¤§å¤§èŠ‚çœäº†å†…å­˜</li>
<li>å¿«é€ŸæŸ¥æ‰¾: æŸ¥æ‰¾ä¸€ä¸ªé•¿åº¦ä¸ºkçš„å­—ç¬¦ä¸²çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(k)ï¼Œä¸Trieæ ‘ä¸­å­˜å‚¨çš„å­—ç¬¦ä¸²æ€»æ•°æ— å…³</li>
<li>è¯æ±‡å…³è”: é€šè¿‡å‰ç¼€å¯ä»¥è½»æ¾æ‰¾åˆ°æ‰€æœ‰å…·æœ‰è¯¥å‰ç¼€çš„å•è¯</li>
<li>æœ‰åºæ€§: Trieæ ‘å¤©ç„¶åœ°ä¿æŒäº†å­—å…¸åº</li>
</ol>
<h4 data-id="heading-46">åŸºæœ¬æ“ä½œ</h4>
<p>Trieæ ‘æ”¯æŒä»¥ä¸‹åŸºæœ¬æ“ä½œï¼š</p>
<ol>
<li>æ’å…¥(Insert): å°†ä¸€ä¸ªå­—ç¬¦ä¸²æ·»åŠ åˆ°Trieæ ‘ä¸­</li>
<li>æŸ¥æ‰¾(Search): æ£€æŸ¥ä¸€ä¸ªå®Œæ•´çš„å­—ç¬¦ä¸²æ˜¯å¦å­˜åœ¨äºTrieæ ‘ä¸­</li>
<li>å‰ç¼€æŸ¥æ‰¾(StartsWith): æ£€æŸ¥Trieæ ‘ä¸­æ˜¯å¦æœ‰ä»¥ç»™å®šå‰ç¼€å¼€å¤´çš„å­—ç¬¦ä¸²</li>
<li>åˆ é™¤(Delete): ä»Trieæ ‘ä¸­åˆ é™¤ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆç›¸å¯¹å¤æ‚ï¼‰</li>
</ol>
<h4 data-id="heading-47">åŸºç¡€å®ç°</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Trie</span> {
    <span class="hljs-keyword">private</span> TrieNode root;

    <span class="hljs-comment">// Trieæ ‘çš„èŠ‚ç‚¹ç»“æ„</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">TrieNode</span> {
        <span class="hljs-comment">// å­èŠ‚ç‚¹ï¼Œä½¿ç”¨æ•°ç»„å®ç°ï¼ˆå‡è®¾åªåŒ…å«å°å†™å­—æ¯a-zï¼‰</span>
        <span class="hljs-keyword">private</span> TrieNode[] children;
        <span class="hljs-comment">// æ ‡è®°è¯¥èŠ‚ç‚¹æ˜¯å¦ä¸ºæŸä¸ªå•è¯çš„ç»“å°¾</span>
        <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> isEndOfWord;

        <span class="hljs-keyword">public</span> <span class="hljs-title function_">TrieNode</span><span class="hljs-params">()</span> {
            children = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TrieNode</span>[<span class="hljs-number">26</span>]; <span class="hljs-comment">// 26ä¸ªè‹±æ–‡å­—æ¯</span>
            isEndOfWord = <span class="hljs-literal">false</span>;
        }
    }

    <span class="hljs-comment">/** åˆå§‹åŒ–Trieæ ‘ */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Trie</span><span class="hljs-params">()</span> {
        root = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TrieNode</span>();
    }
    
    <span class="hljs-comment">/** å‘Trieæ ‘ä¸­æ’å…¥å•è¯ */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insert</span><span class="hljs-params">(String word)</span> {
        <span class="hljs-type">TrieNode</span> <span class="hljs-variable">current</span> <span class="hljs-operator">=</span> root;
        
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; word.length(); i++) {
            <span class="hljs-type">char</span> <span class="hljs-variable">ch</span> <span class="hljs-operator">=</span> word.charAt(i);
            <span class="hljs-type">int</span> <span class="hljs-variable">index</span> <span class="hljs-operator">=</span> ch - <span class="hljs-string">'a'</span>; <span class="hljs-comment">// å°†å­—ç¬¦è½¬æ¢ä¸ºç´¢å¼•</span>
            
            <span class="hljs-comment">// å¦‚æœå½“å‰å­—ç¬¦çš„èŠ‚ç‚¹ä¸å­˜åœ¨ï¼Œåˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹</span>
            <span class="hljs-keyword">if</span> (current.children[index] == <span class="hljs-literal">null</span>) {
                current.children[index] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TrieNode</span>();
            }
            
            <span class="hljs-comment">// ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span>
            current = current.children[index];
        }
        
        <span class="hljs-comment">// æ ‡è®°å•è¯ç»“æŸ</span>
        current.isEndOfWord = <span class="hljs-literal">true</span>;
    }
    
    <span class="hljs-comment">/** æŸ¥æ‰¾Trieæ ‘ä¸­æ˜¯å¦å­˜åœ¨å®Œæ•´å•è¯ */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">search</span><span class="hljs-params">(String word)</span> {
        <span class="hljs-type">TrieNode</span> <span class="hljs-variable">node</span> <span class="hljs-operator">=</span> searchPrefix(word);
        
        <span class="hljs-comment">// èŠ‚ç‚¹å­˜åœ¨ä¸”æ˜¯å•è¯ç»“å°¾</span>
        <span class="hljs-keyword">return</span> node != <span class="hljs-literal">null</span> &amp;&amp; node.isEndOfWord;
    }
    
    <span class="hljs-comment">/** æŸ¥æ‰¾Trieæ ‘ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šå‰ç¼€ */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">startsWith</span><span class="hljs-params">(String prefix)</span> {
        <span class="hljs-comment">// åªéœ€è¦èŠ‚ç‚¹å­˜åœ¨å³å¯</span>
        <span class="hljs-keyword">return</span> searchPrefix(prefix) != <span class="hljs-literal">null</span>;
    }
    
    <span class="hljs-comment">/** æŸ¥æ‰¾å‰ç¼€å¯¹åº”çš„èŠ‚ç‚¹ */</span>
    <span class="hljs-keyword">private</span> TrieNode <span class="hljs-title function_">searchPrefix</span><span class="hljs-params">(String prefix)</span> {
        <span class="hljs-type">TrieNode</span> <span class="hljs-variable">current</span> <span class="hljs-operator">=</span> root;
        
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; prefix.length(); i++) {
            <span class="hljs-type">char</span> <span class="hljs-variable">ch</span> <span class="hljs-operator">=</span> prefix.charAt(i);
            <span class="hljs-type">int</span> <span class="hljs-variable">index</span> <span class="hljs-operator">=</span> ch - <span class="hljs-string">'a'</span>;
            
            <span class="hljs-comment">// å¦‚æœå½“å‰å­—ç¬¦çš„èŠ‚ç‚¹ä¸å­˜åœ¨ï¼Œè¿”å›null</span>
            <span class="hljs-keyword">if</span> (current.children[index] == <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
            }
            
            current = current.children[index];
        }
        
        <span class="hljs-keyword">return</span> current;
    }
    
    <span class="hljs-comment">/** ä»Trieæ ‘ä¸­åˆ é™¤å•è¯ï¼ˆè¾ƒå¤æ‚çš„æ“ä½œï¼‰ */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">(String word)</span> {
        delete(root, word, <span class="hljs-number">0</span>);
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">delete</span><span class="hljs-params">(TrieNode current, String word, <span class="hljs-type">int</span> index)</span> {
        <span class="hljs-comment">// å·²ç»å¤„ç†å®Œæ‰€æœ‰å­—ç¬¦</span>
        <span class="hljs-keyword">if</span> (index == word.length()) {
            <span class="hljs-comment">// å¦‚æœä¸æ˜¯å•è¯ç»“å°¾ï¼Œå•è¯ä¸å­˜åœ¨</span>
            <span class="hljs-keyword">if</span> (!current.isEndOfWord) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
            
            <span class="hljs-comment">// å–æ¶ˆæ ‡è®°å•è¯ç»“å°¾</span>
            current.isEndOfWord = <span class="hljs-literal">false</span>;
            
            <span class="hljs-comment">// å¦‚æœèŠ‚ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹ï¼Œå¯ä»¥åˆ é™¤</span>
            <span class="hljs-keyword">return</span> hasNoChildren(current);
        }
        
        <span class="hljs-type">char</span> <span class="hljs-variable">ch</span> <span class="hljs-operator">=</span> word.charAt(index);
        <span class="hljs-type">int</span> <span class="hljs-variable">childIndex</span> <span class="hljs-operator">=</span> ch - <span class="hljs-string">'a'</span>;
        <span class="hljs-type">TrieNode</span> <span class="hljs-variable">child</span> <span class="hljs-operator">=</span> current.children[childIndex];
        
        <span class="hljs-comment">// å¦‚æœå­—ç¬¦å¯¹åº”çš„èŠ‚ç‚¹ä¸å­˜åœ¨ï¼Œå•è¯ä¸å­˜åœ¨</span>
        <span class="hljs-keyword">if</span> (child == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        
        <span class="hljs-comment">// é€’å½’åˆ é™¤å­èŠ‚ç‚¹</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">shouldDeleteChild</span> <span class="hljs-operator">=</span> delete(child, word, index + <span class="hljs-number">1</span>);
        
        <span class="hljs-comment">// å¦‚æœå­èŠ‚ç‚¹åº”è¯¥è¢«åˆ é™¤</span>
        <span class="hljs-keyword">if</span> (shouldDeleteChild) {
            current.children[childIndex] = <span class="hljs-literal">null</span>;
            
            <span class="hljs-comment">// å¦‚æœå½“å‰èŠ‚ç‚¹ä¸æ˜¯å•è¯ç»“å°¾ä¸”æ²¡æœ‰å…¶ä»–å­èŠ‚ç‚¹ï¼Œåˆ™å®ƒä¹Ÿå¯ä»¥è¢«åˆ é™¤</span>
            <span class="hljs-keyword">return</span> !current.isEndOfWord &amp;&amp; hasNoChildren(current);
        }
        
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">hasNoChildren</span><span class="hljs-params">(TrieNode node)</span> {
        <span class="hljs-keyword">for</span> (TrieNode child : node.children) {
            <span class="hljs-keyword">if</span> (child != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<h4 data-id="heading-48">ä¼˜ç‚¹</h4>
<ol>
<li>é«˜æ•ˆçš„å­—ç¬¦ä¸²æ£€ç´¢ï¼šæŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸å­—ç¬¦ä¸²é•¿åº¦æˆæ­£æ¯”(O(k))ï¼Œè€Œä¸å­˜å‚¨çš„å­—ç¬¦ä¸²æ€»æ•°æ— å…³</li>
<li>èŠ‚çœç©ºé—´ï¼šé€šè¿‡å…±äº«å‰ç¼€ï¼Œå‡å°‘äº†é‡å¤å­˜å‚¨</li>
<li>æ”¯æŒæŒ‰å­—å…¸åºéå†ï¼šå¯ä»¥æ–¹ä¾¿åœ°æŒ‰å­—å…¸åºè¾“å‡ºæ‰€æœ‰å­—ç¬¦ä¸²</li>
<li>å‰ç¼€åŒ¹é…é«˜æ•ˆï¼šç‰¹åˆ«é€‚åˆå‰ç¼€æŸ¥è¯¢å’Œè‡ªåŠ¨è¡¥å…¨åŠŸèƒ½</li>
</ol>
<h4 data-id="heading-49">ç¼ºç‚¹</h4>
<ol>
<li>å†…å­˜æ¶ˆè€—ï¼šå¯¹äºä¸å…±äº«å‰ç¼€çš„å­—ç¬¦ä¸²é›†åˆï¼ŒTrieæ ‘å¯èƒ½æ¶ˆè€—å¤§é‡å†…å­˜</li>
<li>ç©ºé—´å¤æ‚åº¦é«˜ï¼šæ¯ä¸ªèŠ‚ç‚¹éœ€è¦å­˜å‚¨æ‰€æœ‰å¯èƒ½å­—ç¬¦çš„å¼•ç”¨ï¼ˆå¦‚ä¸Šä¾‹ä¸­æ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨26ä¸ªå­èŠ‚ç‚¹å¼•ç”¨ï¼‰</li>
<li>ä¸é€‚åˆå•æ¬¡æŸ¥è¯¢ï¼šå¦‚æœåªéœ€è¦è¿›è¡Œå•æ¬¡çš„ç²¾ç¡®å­—ç¬¦ä¸²æŸ¥è¯¢ï¼Œå“ˆå¸Œè¡¨å¯èƒ½æ˜¯æ›´å¥½çš„é€‰æ‹©</li>
<li>å®ç°è¾ƒä¸ºå¤æ‚ï¼šç‰¹åˆ«æ˜¯åˆ é™¤æ“ä½œï¼Œéœ€è¦é¢å¤–çš„é€»è¾‘æ¥å¤„ç†èŠ‚ç‚¹çš„æ¸…ç†</li>
</ol>
<h4 data-id="heading-50">åº”ç”¨åœºæ™¯</h4>
<ul>
<li>è‡ªåŠ¨è¡¥å…¨å’Œæ‹¼å†™æ£€æŸ¥ï¼šå½“ç”¨æˆ·åœ¨æœç´¢æ¡†ä¸­è¾“å…¥æ—¶ï¼ŒTrieæ ‘å¯ä»¥å¿«é€Ÿæ‰¾åˆ°æ‰€æœ‰ä»¥å½“å‰è¾“å…¥ä¸ºå‰ç¼€çš„å•è¯ï¼Œæä¾›æ™ºèƒ½æç¤ºã€‚è¾“å…¥æ³•å’Œæ–‡æœ¬ç¼–è¾‘å™¨é€šå¸¸åˆ©ç”¨è¿™ä¸€ç‰¹æ€§å®ç°å•è¯è¡¥å…¨åŠŸèƒ½ã€‚</li>
<li>IPè·¯ç”±è¡¨ï¼šç½‘ç»œè·¯ç”±å™¨ä½¿ç”¨ç±»ä¼¼Trieçš„ç»“æ„æ¥å­˜å‚¨IPåœ°å€ï¼Œå®ç°é«˜æ•ˆçš„æœ€é•¿å‰ç¼€åŒ¹é…ã€‚</li>
<li>å­—å…¸å’Œè¯æ±‡è¡¨ï¼šç”µå­å­—å…¸åº”ç”¨å¯ä»¥ä½¿ç”¨Trieæ ‘æ¥å­˜å‚¨è¯æ±‡ï¼Œæ”¯æŒå¿«é€ŸæŸ¥æ‰¾å’Œå‰ç¼€æœç´¢ã€‚</li>
<li>æ–‡æœ¬åˆ†æï¼šåœ¨è‡ªç„¶è¯­è¨€å¤„ç†ä¸­ï¼ŒTrieæ ‘å¯ä»¥ç”¨äºå•è¯é¢‘ç‡ç»Ÿè®¡ã€å…³é”®è¯æå–ç­‰ä»»åŠ¡ã€‚</li>
<li>ç”µè¯å·ç ç°¿ï¼šé€šè®¯å½•åº”ç”¨å¯ä»¥ä½¿ç”¨Trieæ ‘æ¥å­˜å‚¨è”ç³»äººä¿¡æ¯ï¼Œæ”¯æŒæŒ‰å·ç å‰ç¼€æœç´¢ã€‚</li>
</ul>
<h4 data-id="heading-51">ç›¸å…³çš„LeetCodeçƒ­é—¨é¢˜ç›®</h4>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fimplement-trie-prefix-tree%2F" target="_blank" title="https://leetcode.cn/problems/implement-trie-prefix-tree/" ref="nofollow noopener noreferrer">208. å®ç° Trie (å‰ç¼€æ ‘)</a>Â - åŸºç¡€é¢˜ï¼Œè¦æ±‚å®ç°Trieæ ‘çš„åŸºæœ¬æ“ä½œã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fdesign-add-and-search-words-data-structure%2F" target="_blank" title="https://leetcode.cn/problems/design-add-and-search-words-data-structure/" ref="nofollow noopener noreferrer">211. æ·»åŠ ä¸æœç´¢å•è¯ - æ•°æ®ç»“æ„è®¾è®¡</a>Â - åœ¨åŸºæœ¬Trieçš„åŸºç¡€ä¸Šå¢åŠ äº†é€šé…ç¬¦åŒ¹é…åŠŸèƒ½ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fword-search-ii%2F" target="_blank" title="https://leetcode.cn/problems/word-search-ii/" ref="nofollow noopener noreferrer">212. å•è¯æœç´¢ II</a>Â - ä½¿ç”¨Trieæ ‘ä¼˜åŒ–åœ¨äºŒç»´å­—ç¬¦ç½‘æ ¼ä¸­æœç´¢å•è¯çš„è¿‡ç¨‹ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Freplace-words%2F" target="_blank" title="https://leetcode.cn/problems/replace-words/" ref="nofollow noopener noreferrer">648. å•è¯æ›¿æ¢</a>Â - ä½¿ç”¨Trieæ ‘æŸ¥æ‰¾è¯æ ¹å¹¶æ›¿æ¢å•è¯ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fstream-of-characters%2F" target="_blank" title="https://leetcode.cn/problems/stream-of-characters/" ref="nofollow noopener noreferrer">1032. å­—ç¬¦æµ</a>Â - è®¾è®¡ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œæ”¯æŒå¯¹å­—ç¬¦æµçš„æŸ¥è¯¢ï¼Œåˆ¤æ–­æœ€è¿‘æ·»åŠ çš„å­—ç¬¦æ˜¯å¦å½¢æˆäº†ç»™å®šå•è¯é›†åˆä¸­çš„æŸä¸ªå•è¯çš„åç¼€ã€‚</li>
</ol>
<h3 data-id="heading-52">æ ‘çŠ¶æ•°ç»„</h3>
<p>æ ‘çŠ¶æ•°ç»„ï¼ˆBinary Indexed Treeï¼‰ï¼Œä¹Ÿç§°ä¸ºFenwick Treeï¼Œæ˜¯ä¸€ç§æ”¯æŒé«˜æ•ˆçš„å‰ç¼€å’Œè®¡ç®—å’Œå•ç‚¹æ›´æ–°çš„æ•°æ®ç»“æ„ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨äºŒè¿›åˆ¶çš„æ€§è´¨æ¥ç»´æŠ¤æ•°æ®é—´çš„å±‚çº§å…³ç³»ï¼Œä»è€Œåœ¨O(log n)çš„æ—¶é—´å†…å®ŒæˆæŸ¥è¯¢å’Œæ›´æ–°æ“ä½œã€‚</p>
<p>æ ‘çŠ¶æ•°ç»„çš„å…³é”®æ¦‚å¿µæ˜¯"çˆ¶å­å…³ç³»"ï¼Œè¿™ç§å…³ç³»æ˜¯é€šè¿‡äºŒè¿›åˆ¶è¡¨ç¤ºä¸­çš„æœ€ä½ä½1æ¥ç¡®å®šçš„ã€‚å¯¹äºä»»æ„ä¸€ä¸ªèŠ‚ç‚¹iï¼Œå®ƒçš„çˆ¶èŠ‚ç‚¹æ˜¯i + (i &amp; -i)ï¼Œå®ƒçš„å­èŠ‚ç‚¹æ˜¯i - (i &amp; -i)ã€‚</p>
<ul>
<li>i &amp; -i è¡¨è¾¾å¼è®¡ç®—çš„æ˜¯içš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­çš„æœ€ä½ä½1å¯¹åº”çš„å€¼</li>
<li>ä¾‹å¦‚ï¼š6çš„äºŒè¿›åˆ¶æ˜¯110ï¼Œ6&amp;(-6) = 6&amp;(010) = 2</li>
</ul>
<p>æ ‘çŠ¶æ•°ç»„é€šå¸¸ä½¿ç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„è¡¨ç¤ºï¼Œé‡‡ç”¨1-indexedï¼ˆå³ä»ç´¢å¼•1å¼€å§‹å­˜å‚¨æœ‰æ•ˆæ•°æ®ï¼‰çš„æ–¹å¼ï¼š</p>
<ul>
<li>BIT[i]å­˜å‚¨äº†åŸå§‹æ•°ç»„ä¸­æŸä¸ªåŒºé—´çš„å’Œ</li>
<li>æ¯ä¸ªBIT[i]è´Ÿè´£ç®¡ç†çš„åŒºé—´é•¿åº¦ç”±i &amp; -iå†³å®š</li>
<li>ä¾‹å¦‚ï¼ŒBIT[6]ç®¡ç†çš„åŒºé—´é•¿åº¦æ˜¯2ï¼ŒåŒ…å«åŸå§‹æ•°ç»„ä¸­çš„A[5]å’ŒA[6]</li>
</ul>
<h4 data-id="heading-53">åŸºæœ¬æ“ä½œ</h4>
<ul>
<li>æ›´æ–°æ“ä½œï¼ˆupdateï¼‰ï¼šæ›´æ–°åŸå§‹æ•°ç»„ä¸­ç´¢å¼•içš„å€¼æ—¶ï¼Œéœ€è¦æ›´æ–°æ ‘çŠ¶æ•°ç»„ä¸­æ‰€æœ‰åŒ…å«è¯¥ç´¢å¼•çš„èŠ‚ç‚¹ã€‚
<ol>
<li>ä»ç´¢å¼•iå¼€å§‹</li>
<li>ä¸æ–­åœ°åŠ ä¸Ši &amp; -iï¼Œç›´åˆ°è¶…å‡ºæ•°ç»„èŒƒå›´</li>
<li>åœ¨æ¯ä¸€æ­¥éƒ½æ›´æ–°å¯¹åº”çš„æ ‘çŠ¶æ•°ç»„å€¼</li>
</ol>
</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">(<span class="hljs-type">int</span> i, <span class="hljs-type">int</span> delta)</span> {
    i = i + <span class="hljs-number">1</span>; <span class="hljs-comment">// è½¬ä¸º1-basedç´¢å¼•</span>
    <span class="hljs-keyword">while</span> (i &lt;= n) {
        bit[i] += delta;
        i += i &amp; -i; <span class="hljs-comment">// ç§»åŠ¨åˆ°çˆ¶èŠ‚ç‚¹</span>
    }
}
</code></pre>
<ul>
<li>æŸ¥è¯¢å‰ç¼€å’Œï¼ˆqueryï¼‰:æŸ¥è¯¢ä»1åˆ°içš„æ‰€æœ‰å…ƒç´ çš„å’Œã€‚
<ol>
<li>ä»ç´¢å¼•iå¼€å§‹</li>
<li>ä¸æ–­åœ°å‡å»i &amp; -iï¼Œç›´åˆ°iå˜ä¸º0</li>
<li>åœ¨æ¯ä¸€æ­¥éƒ½ç´¯åŠ å¯¹åº”çš„æ ‘çŠ¶æ•°ç»„å€¼</li>
</ol>
</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">query</span><span class="hljs-params">(<span class="hljs-type">int</span> i)</span> {
    i = i + <span class="hljs-number">1</span>; <span class="hljs-comment">// è½¬ä¸º1-basedç´¢å¼•</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span> (i &gt; <span class="hljs-number">0</span>) {
        sum += bit[i];
        i -= i &amp; -i; <span class="hljs-comment">// ç§»åŠ¨åˆ°å‰ä¸€ä¸ªèŠ‚ç‚¹</span>
    }
    <span class="hljs-keyword">return</span> sum;
}
</code></pre>
<p>æ—¶é—´å¤æ‚åº¦ï¼š</p>
<ul>
<li>åˆå§‹åŒ–ï¼šO(n log n)</li>
<li>å•ç‚¹æ›´æ–°ï¼šO(log n)</li>
<li>å‰ç¼€å’ŒæŸ¥è¯¢ï¼šO(log n)</li>
<li>åŒºé—´æŸ¥è¯¢ï¼šO(log n)</li>
</ul>
<h4 data-id="heading-54">åº”ç”¨åœºæ™¯</h4>
<p>æ ‘çŠ¶æ•°ç»„åœ¨ä»¥ä¸‹åœºæ™¯ä¸­ç‰¹åˆ«æœ‰ç”¨ï¼š</p>
<ol>
<li><strong>é¢‘ç¹çš„åŒºé—´æŸ¥è¯¢å’Œå•ç‚¹æ›´æ–°</strong>ï¼šå¦‚æœéœ€è¦ç»å¸¸è®¡ç®—å‰ç¼€å’Œå¹¶ä¸”æ•°ç»„ä¸­çš„å€¼ä¼šé¢‘ç¹å˜åŒ–ï¼Œæ ‘çŠ¶æ•°ç»„æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚</li>
<li><strong>è®¡æ•°åº”ç”¨</strong>ï¼šå¦‚é€†åºå¯¹è®¡æ•°ã€åŒºé—´ç»Ÿè®¡ç­‰ã€‚</li>
<li><strong>2D/å¤šç»´å‰ç¼€å’Œ</strong>ï¼šæ ‘çŠ¶æ•°ç»„å¯ä»¥å¾ˆå®¹æ˜“åœ°æ‰©å±•åˆ°å¤šç»´ç©ºé—´ï¼Œå¤„ç†äºŒç»´ç”šè‡³å¤šç»´çš„å‰ç¼€å’ŒæŸ¥è¯¢ã€‚</li>
<li><strong>åŠ¨æ€æ’åç»Ÿè®¡</strong>ï¼šé€šè¿‡æ ‘çŠ¶æ•°ç»„å¯ä»¥ç»´æŠ¤ä¸€ä¸ªåŠ¨æ€çš„æ’åç»Ÿè®¡ã€‚</li>
</ol>
<h4 data-id="heading-55">æ ‘çŠ¶æ•°ç»„çš„ä¼˜åŠ¿</h4>
<ul>
<li><strong>å®ç°ç®€å•</strong>ï¼šç›¸æ¯”äºçº¿æ®µæ ‘ï¼Œæ ‘çŠ¶æ•°ç»„çš„ä»£ç æ›´åŠ ç®€æ´ã€‚</li>
<li><strong>å¸¸æ•°å› å­å°</strong>ï¼šåœ¨å®é™…åº”ç”¨ä¸­ï¼Œæ ‘çŠ¶æ•°ç»„é€šå¸¸æ¯”çº¿æ®µæ ‘æ›´å¿«ï¼Œå› ä¸ºå®ƒçš„å¸¸æ•°å› å­æ›´å°ã€‚</li>
<li><strong>ç©ºé—´æ•ˆç‡é«˜</strong>ï¼šæ ‘çŠ¶æ•°ç»„åªéœ€è¦ä¸åŸå§‹æ•°ç»„ç›¸åŒå¤§å°çš„ç©ºé—´ã€‚</li>
</ul>
<h4 data-id="heading-56">åŒºé—´æ›´æ–°</h4>
<p>é€šè¿‡å·®åˆ†æ•°ç»„æŠ€æœ¯ï¼Œæ ‘çŠ¶æ•°ç»„å¯ä»¥æ”¯æŒåŒºé—´æ›´æ–°ï¼Œä½†æŸ¥è¯¢å˜ä¸ºå•ç‚¹æŸ¥è¯¢ï¼Œè¿™æ ·å°±èƒ½åœ¨O(log n)æ—¶é—´å†…å®ŒæˆåŒºé—´æ›´æ–°æ“ä½œã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åˆ›å»ºæ ‘çŠ¶æ•°ç»„ï¼ˆå‡è®¾å·²å®ç°BinaryIndexedTreeç±»ï¼‰</span>
<span class="hljs-type">BinaryIndexedTree</span> <span class="hljs-variable">bit</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BinaryIndexedTree</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]{<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>});

<span class="hljs-comment">// æŸ¥è¯¢å‰ç¼€å’Œ</span>
System.out.println(<span class="hljs-string">"query(2): "</span> + bit.query(<span class="hljs-number">2</span>)); <span class="hljs-comment">// ç´¢å¼•0åˆ°2çš„å’Œ: 2+1+4=7</span>

<span class="hljs-comment">// æ›´æ–°å…ƒç´ å€¼</span>
bit.update(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>); <span class="hljs-comment">// å°†ç´¢å¼•1çš„å…ƒç´ å¢åŠ 2</span>
System.out.println(<span class="hljs-string">"query(2): "</span> + bit.query(<span class="hljs-number">2</span>)); <span class="hljs-comment">// ç°åœ¨ç´¢å¼•0åˆ°2çš„å’Œ: 2+(1+2)+4=9</span>

<span class="hljs-comment">// åŒºé—´æŸ¥è¯¢</span>
System.out.println(<span class="hljs-string">"rangeQuery(1, 3): "</span> + bit.rangeQuery(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>)); <span class="hljs-comment">// ç´¢å¼•1åˆ°3çš„å’Œ: (1+2)+4+3=10</span>
</code></pre>
<h3 data-id="heading-57">çº¿æ®µæ ‘</h3>
<p>çº¿æ®µæ ‘ï¼ˆSegment Treeï¼‰æ˜¯ä¸€ç§é«˜æ•ˆçš„æ•°æ®ç»“æ„ï¼Œä¸“é—¨ç”¨äºè§£å†³åŒºé—´æŸ¥è¯¢å’ŒåŒºé—´ä¿®æ”¹é—®é¢˜ã€‚ä¸æ ‘çŠ¶æ•°ç»„ç›¸æ¯”ï¼Œçº¿æ®µæ ‘åŠŸèƒ½æ›´åŠ å¼ºå¤§ï¼Œå¯ä»¥æ”¯æŒæ›´å¤šç§ç±»çš„åŒºé—´æ“ä½œã€‚</p>
<p>çº¿æ®µæ ‘çš„æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡åˆ†æ²»æ³•å°†ä¸€ä¸ªåŒºé—´åˆ’åˆ†ä¸ºå¤šä¸ªå­åŒºé—´ï¼Œå¹¶ç”¨æ ‘çš„å½¢å¼ç»„ç»‡è¿™äº›åŒºé—´çš„ä¿¡æ¯ã€‚åœ¨è¿™æ£µæ ‘ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªåŒºé—´ï¼Œæ ¹èŠ‚ç‚¹ä»£è¡¨æ•´ä¸ªæ•°ç»„åŒºé—´ï¼Œå¶å­èŠ‚ç‚¹ä»£è¡¨å•ä¸ªå…ƒç´ ã€‚</p>
<p>æ ¸å¿ƒæ¦‚å¿µè§£é‡Šï¼š</p>
<ul>
<li>åŒºé—´æŸ¥è¯¢ï¼šæŸ¥è¯¢æ•°ç»„ä¸­æŸä¸ªåŒºé—´çš„èšåˆä¿¡æ¯ï¼ˆå¦‚åŒºé—´å’Œã€æœ€å¤§å€¼ã€æœ€å°å€¼ç­‰ï¼‰</li>
<li>åŒºé—´ä¿®æ”¹ï¼šä¿®æ”¹æ•°ç»„ä¸­æŸä¸ªåŒºé—´å†…æ‰€æœ‰å…ƒç´ çš„å€¼</li>
<li>æ‡’æƒ°æ ‡è®°ï¼ˆLazy Propagationï¼‰ï¼šå»¶è¿Ÿæ›´æ–°ç­–ç•¥ï¼Œç”¨äºæé«˜åŒºé—´ä¿®æ”¹çš„æ•ˆç‡</li>
<li>æ ‘èŠ‚ç‚¹ï¼šæ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨å…¶å¯¹åº”åŒºé—´çš„ä¿¡æ¯ï¼Œå¦‚åŒºé—´å’Œã€æœ€å¤§å€¼ç­‰</li>
</ul>
<p>çº¿æ®µæ ‘æ ¸å¿ƒç‰¹æ€§ï¼š</p>
<ol>
<li>çµæ´»çš„åŒºé—´æ“ä½œï¼šæ”¯æŒå„ç§åŒºé—´æŸ¥è¯¢ï¼ˆå’Œã€æœ€å¤§å€¼ã€æœ€å°å€¼ã€å¼‚æˆ–å’Œç­‰ï¼‰å’ŒåŒºé—´ä¿®æ”¹</li>
<li>é«˜æ•ˆçš„æ—¶é—´å¤æ‚åº¦ï¼šæŸ¥è¯¢å’Œä¿®æ”¹çš„æ—¶é—´å¤æ‚åº¦å‡ä¸ºO(log n)</li>
<li>å¼ºå¤§çš„æ‰©å±•æ€§ï¼šå¯ä»¥æ ¹æ®éœ€æ±‚è‡ªå®šä¹‰åŒºé—´æ“ä½œçš„ç±»å‹</li>
<li>é€‚åº”åŠ¨æ€å˜åŒ–ï¼šèƒ½å¤Ÿå¤„ç†æ•°ç»„å†…å®¹é¢‘ç¹å˜åŒ–çš„æƒ…å†µ</li>
</ol>
<h4 data-id="heading-58">çº¿æ®µæ ‘çš„å·¥ä½œåŸç†</h4>
<p>çº¿æ®µæ ‘çš„ç»“æ„ï¼š</p>
<p>çº¿æ®µæ ‘æ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼Œå…¶ä¸­ï¼š</p>
<ul>
<li>æ ¹èŠ‚ç‚¹ä»£è¡¨æ•´ä¸ªæ•°ç»„åŒºé—´[0, n-1]</li>
<li>æ¯ä¸ªéå¶èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ä»£è¡¨åŒºé—´çš„å·¦åŠéƒ¨åˆ†ï¼Œå³å­èŠ‚ç‚¹ä»£è¡¨å³åŠéƒ¨åˆ†</li>
<li>å¶å­èŠ‚ç‚¹ä»£è¡¨å•ä¸ªå…ƒç´ ï¼ˆé•¿åº¦ä¸º1çš„åŒºé—´ï¼‰</li>
</ul>
<p>æ‡’æƒ°æ ‡è®°ï¼ˆLazy Propagationï¼‰ï¼š</p>
<p>æ‡’æƒ°æ ‡è®°æ˜¯ä¸€ç§ä¼˜åŒ–æŠ€æœ¯ï¼Œç”¨äºå»¶è¿ŸåŒºé—´ä¿®æ”¹çš„ä¼ æ’­ã€‚å½“ä¸€ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½éœ€è¦è¢«ä¿®æ”¹æ—¶ï¼Œæˆ‘ä»¬ä¸ç«‹å³ä¿®æ”¹è¿™äº›å­èŠ‚ç‚¹ï¼Œè€Œæ˜¯åœ¨èŠ‚ç‚¹ä¸Šæ ‡è®°ä¿®æ”¹ä¿¡æ¯ï¼Œåªæœ‰åœ¨éœ€è¦è®¿é—®å­èŠ‚ç‚¹æ—¶æ‰å°†ä¿®æ”¹ä¸‹æ¨ï¼Œæé«˜åŒºé—´ä¿®æ”¹çš„æ•ˆç‡ã€‚</p>
<h4 data-id="heading-59">åŸºæœ¬æ“ä½œ</h4>
<ol>
<li>æ„å»ºï¼ˆbuildï¼‰ï¼šæ ¹æ®åˆå§‹æ•°ç»„æ„å»ºçº¿æ®µæ ‘</li>
<li>åŒºé—´æŸ¥è¯¢ï¼ˆqueryï¼‰ï¼šæŸ¥è¯¢æŸä¸ªåŒºé—´çš„èšåˆä¿¡æ¯</li>
<li>å•ç‚¹ä¿®æ”¹ï¼ˆupdateï¼‰ï¼šä¿®æ”¹å•ä¸ªå…ƒç´ çš„å€¼</li>
<li>åŒºé—´ä¿®æ”¹ï¼ˆupdateRangeï¼‰ï¼šä¿®æ”¹ä¸€æ®µåŒºé—´å†…æ‰€æœ‰å…ƒç´ çš„å€¼ï¼ˆé€šå¸¸ä½¿ç”¨æ‡’æƒ°æ ‡è®°å®ç°ï¼‰</li>
</ol>
<h4 data-id="heading-60">åŸºç¡€å®ç°</h4>
<p>ä¸‹é¢æ˜¯çº¿æ®µæ ‘çš„åŸºç¡€å®ç°ï¼ˆä»¥åŒºé—´å’Œä¸ºä¾‹ï¼‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SegmentTree</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span>[] tree;   <span class="hljs-comment">// å­˜å‚¨çº¿æ®µæ ‘èŠ‚ç‚¹</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span>[] lazy;   <span class="hljs-comment">// æ‡’æƒ°æ ‡è®°</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span>[] nums;   <span class="hljs-comment">// åŸå§‹æ•°ç»„çš„å‰¯æœ¬</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> n;        <span class="hljs-comment">// åŸå§‹æ•°ç»„é•¿åº¦</span>
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">SegmentTree</span><span class="hljs-params">(<span class="hljs-type">int</span>[] array)</span> {
        n = array.length;
        <span class="hljs-comment">// çº¿æ®µæ ‘æ•°ç»„å¤§å°ä¸€èˆ¬ä¸ºåŸæ•°ç»„å¤§å°çš„4å€</span>
        tree = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">4</span> * n];
        lazy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">4</span> * n];
        nums = array.clone();
        build(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>);
    }
    
    <span class="hljs-comment">// æ„å»ºçº¿æ®µæ ‘</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">build</span><span class="hljs-params">(<span class="hljs-type">int</span> node, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> {
        <span class="hljs-keyword">if</span> (start == end) {
            <span class="hljs-comment">// å¶å­èŠ‚ç‚¹ï¼Œå­˜å‚¨å•ä¸ªå…ƒç´ </span>
            tree[node] = nums[start];
            <span class="hljs-keyword">return</span>;
        }
        
        <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> (start + end) / <span class="hljs-number">2</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">leftNode</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span> * node + <span class="hljs-number">1</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">rightNode</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span> * node + <span class="hljs-number">2</span>;
        
        <span class="hljs-comment">// é€’å½’æ„å»ºå·¦å³å­æ ‘</span>
        build(leftNode, start, mid);
        build(rightNode, mid + <span class="hljs-number">1</span>, end);
        
        <span class="hljs-comment">// åˆå¹¶å­èŠ‚ç‚¹çš„ä¿¡æ¯</span>
        tree[node] = tree[leftNode] + tree[rightNode];
    }
    
    <span class="hljs-comment">// å•ç‚¹ä¿®æ”¹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">(<span class="hljs-type">int</span> index, <span class="hljs-type">int</span> val)</span> {
        <span class="hljs-comment">// è®¡ç®—ä¸åŸå€¼çš„å·®å€¼</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">diff</span> <span class="hljs-operator">=</span> val - nums[index];
        nums[index] = val;
        updateSingle(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>, index, diff);
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateSingle</span><span class="hljs-params">(<span class="hljs-type">int</span> node, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end, <span class="hljs-type">int</span> index, <span class="hljs-type">int</span> diff)</span> {
        <span class="hljs-comment">// æ£€æŸ¥ç´¢å¼•æ˜¯å¦åœ¨å½“å‰èŠ‚ç‚¹èŒƒå›´å†…</span>
        <span class="hljs-keyword">if</span> (index &lt; start || index &gt; end) {
            <span class="hljs-keyword">return</span>;
        }
        
        <span class="hljs-comment">// æ›´æ–°å½“å‰èŠ‚ç‚¹çš„å€¼</span>
        tree[node] += diff;
        
        <span class="hljs-keyword">if</span> (start != end) {
            <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> (start + end) / <span class="hljs-number">2</span>;
            <span class="hljs-type">int</span> <span class="hljs-variable">leftNode</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span> * node + <span class="hljs-number">1</span>;
            <span class="hljs-type">int</span> <span class="hljs-variable">rightNode</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span> * node + <span class="hljs-number">2</span>;
            
            <span class="hljs-comment">// é€’å½’æ›´æ–°å­èŠ‚ç‚¹</span>
            updateSingle(leftNode, start, mid, index, diff);
            updateSingle(rightNode, mid + <span class="hljs-number">1</span>, end, index, diff);
        }
    }
    
    <span class="hljs-comment">// åŒºé—´æŸ¥è¯¢</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">query</span><span class="hljs-params">(<span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span> {
        <span class="hljs-keyword">return</span> queryRange(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>, left, right);
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">queryRange</span><span class="hljs-params">(<span class="hljs-type">int</span> node, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end, <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span> {
        <span class="hljs-comment">// å¦‚æœå½“å‰èŠ‚ç‚¹çš„åŒºé—´å®Œå…¨åœ¨æŸ¥è¯¢åŒºé—´å¤–</span>
        <span class="hljs-keyword">if</span> (right &lt; start || left &gt; end) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        }
        
        <span class="hljs-comment">// å¦‚æœå½“å‰èŠ‚ç‚¹çš„åŒºé—´å®Œå…¨åœ¨æŸ¥è¯¢åŒºé—´å†…</span>
        <span class="hljs-keyword">if</span> (left &lt;= start &amp;&amp; end &lt;= right) {
            <span class="hljs-keyword">return</span> tree[node];
        }
        
        <span class="hljs-comment">// å¤„ç†æ‡’æƒ°æ ‡è®°</span>
        <span class="hljs-keyword">if</span> (lazy[node] != <span class="hljs-number">0</span>) {
            tree[node] += (end - start + <span class="hljs-number">1</span>) * lazy[node];
            
            <span class="hljs-keyword">if</span> (start != end) {
                lazy[<span class="hljs-number">2</span> * node + <span class="hljs-number">1</span>] += lazy[node];
                lazy[<span class="hljs-number">2</span> * node + <span class="hljs-number">2</span>] += lazy[node];
            }
            
            lazy[node] = <span class="hljs-number">0</span>;
        }
        
        <span class="hljs-comment">// æŸ¥è¯¢èŒƒå›´éƒ¨åˆ†è¦†ç›–å½“å‰èŠ‚ç‚¹çš„åŒºé—´ï¼Œéœ€è¦åˆ†åˆ«æŸ¥è¯¢å·¦å³å­èŠ‚ç‚¹</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> (start + end) / <span class="hljs-number">2</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">leftSum</span> <span class="hljs-operator">=</span> queryRange(<span class="hljs-number">2</span> * node + <span class="hljs-number">1</span>, start, mid, left, right);
        <span class="hljs-type">int</span> <span class="hljs-variable">rightSum</span> <span class="hljs-operator">=</span> queryRange(<span class="hljs-number">2</span> * node + <span class="hljs-number">2</span>, mid + <span class="hljs-number">1</span>, end, left, right);
        
        <span class="hljs-keyword">return</span> leftSum + rightSum;
    }
    
    <span class="hljs-comment">// åŒºé—´ä¿®æ”¹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateRange</span><span class="hljs-params">(<span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right, <span class="hljs-type">int</span> val)</span> {
        updateRangeTree(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>, left, right, val);
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateRangeTree</span><span class="hljs-params">(<span class="hljs-type">int</span> node, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end, <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right, <span class="hljs-type">int</span> val)</span> {
        <span class="hljs-comment">// å¤„ç†å½“å‰èŠ‚ç‚¹çš„æ‡’æƒ°æ ‡è®°</span>
        <span class="hljs-keyword">if</span> (lazy[node] != <span class="hljs-number">0</span>) {
            tree[node] += (end - start + <span class="hljs-number">1</span>) * lazy[node];
            
            <span class="hljs-keyword">if</span> (start != end) {
                lazy[<span class="hljs-number">2</span> * node + <span class="hljs-number">1</span>] += lazy[node];
                lazy[<span class="hljs-number">2</span> * node + <span class="hljs-number">2</span>] += lazy[node];
            }
            
            lazy[node] = <span class="hljs-number">0</span>;
        }
        
        <span class="hljs-comment">// å¦‚æœå½“å‰èŠ‚ç‚¹çš„åŒºé—´å®Œå…¨åœ¨ä¿®æ”¹åŒºé—´å¤–</span>
        <span class="hljs-keyword">if</span> (right &lt; start || left &gt; end) {
            <span class="hljs-keyword">return</span>;
        }
        
        <span class="hljs-comment">// å¦‚æœå½“å‰èŠ‚ç‚¹çš„åŒºé—´å®Œå…¨åœ¨ä¿®æ”¹åŒºé—´å†…</span>
        <span class="hljs-keyword">if</span> (left &lt;= start &amp;&amp; end &lt;= right) {
            tree[node] += (end - start + <span class="hljs-number">1</span>) * val;
            
            <span class="hljs-keyword">if</span> (start != end) {
                lazy[<span class="hljs-number">2</span> * node + <span class="hljs-number">1</span>] += val;
                lazy[<span class="hljs-number">2</span> * node + <span class="hljs-number">2</span>] += val;
            }
            
            <span class="hljs-keyword">return</span>;
        }
        
        <span class="hljs-comment">// ä¿®æ”¹èŒƒå›´éƒ¨åˆ†è¦†ç›–å½“å‰èŠ‚ç‚¹çš„åŒºé—´ï¼Œéœ€è¦åˆ†åˆ«ä¿®æ”¹å·¦å³å­èŠ‚ç‚¹</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> (start + end) / <span class="hljs-number">2</span>;
        updateRangeTree(<span class="hljs-number">2</span> * node + <span class="hljs-number">1</span>, start, mid, left, right, val);
        updateRangeTree(<span class="hljs-number">2</span> * node + <span class="hljs-number">2</span>, mid + <span class="hljs-number">1</span>, end, left, right, val);
        
        <span class="hljs-comment">// æ›´æ–°å½“å‰èŠ‚ç‚¹çš„å€¼</span>
        tree[node] = tree[<span class="hljs-number">2</span> * node + <span class="hljs-number">1</span>] + tree[<span class="hljs-number">2</span> * node + <span class="hljs-number">2</span>];
    }
}
</code></pre>
<h4 data-id="heading-61">ä¼˜ç‚¹</h4>
<ol>
<li>åŠŸèƒ½å¼ºå¤§ï¼šæ”¯æŒå¤šç§åŒºé—´æ“ä½œï¼ŒåŒ…æ‹¬åŒºé—´æ±‚å’Œã€æœ€å¤§å€¼ã€æœ€å°å€¼ç­‰</li>
<li>æ“ä½œçµæ´»ï¼šåŒæ—¶æ”¯æŒåŒºé—´æŸ¥è¯¢å’ŒåŒºé—´ä¿®æ”¹</li>
<li>æ—¶é—´æ•ˆç‡é«˜ï¼šæ‰€æœ‰æ“ä½œçš„æ—¶é—´å¤æ‚åº¦å‡ä¸ºO(log n)</li>
<li>å¯æ‰©å±•æ€§å¥½ï¼šå¯ä»¥æ ¹æ®å…·ä½“é—®é¢˜è‡ªå®šä¹‰èŠ‚ç‚¹å­˜å‚¨çš„ä¿¡æ¯å’Œæ“ä½œæ–¹å¼</li>
</ol>
<h4 data-id="heading-62">ç¼ºç‚¹</h4>
<ol>
<li>å†…å­˜æ¶ˆè€—è¾ƒå¤§ï¼šéœ€è¦é¢å¤–çš„å†…å­˜æ¥å­˜å‚¨çº¿æ®µæ ‘ç»“æ„ï¼Œé€šå¸¸ä¸ºåŸæ•°ç»„å¤§å°çš„4å€</li>
<li>ä»£ç å®ç°å¤æ‚ï¼šç›¸æ¯”å…¶ä»–æ•°æ®ç»“æ„ï¼ˆå¦‚æ ‘çŠ¶æ•°ç»„ï¼‰ï¼Œå®ç°å’Œè°ƒè¯•æ›´åŠ å¤æ‚</li>
<li>å¸¸æ•°å› å­è¾ƒå¤§ï¼šè™½ç„¶æ—¶é—´å¤æ‚åº¦æ˜¯O(log n)ï¼Œä½†å®é™…è¿è¡Œæ—¶é—´å¯èƒ½æ¯”æ ‘çŠ¶æ•°ç»„ç­‰ç»“æ„ç•¥é•¿</li>
</ol>
<h4 data-id="heading-63">åº”ç”¨åœºæ™¯</h4>
<p>çº¿æ®µæ ‘åœ¨è®¸å¤šå®é™…é—®é¢˜ä¸­æœ‰å¹¿æ³›åº”ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦åŒæ—¶æ”¯æŒåŒºé—´æŸ¥è¯¢å’ŒåŒºé—´ä¿®æ”¹çš„æƒ…å†µä¸‹ï¼š</p>
<ol>
<li>èŒƒå›´æ£€ç´¢ç³»ç»Ÿï¼šåœ¨æ•°æ®åº“å’Œä¿¡æ¯æ£€ç´¢ç³»ç»Ÿä¸­ï¼Œçº¿æ®µæ ‘å¯ç”¨äºå¿«é€ŸæŸ¥è¯¢æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„æ•°æ®èŒƒå›´ã€‚ä¾‹å¦‚ï¼Œåœ¨æ—¶é—´åºåˆ—æ•°æ®åº“ä¸­ï¼Œå¿«é€ŸæŸ¥æ‰¾æŸä¸€æ—¶é—´æ®µå†…çš„æœ€å¤§/æœ€å°å€¼æˆ–å¹³å‡å€¼ã€‚</li>
<li>å›¾åƒå¤„ç†ï¼šåœ¨å¤„ç†å¤§å‹å›¾åƒæ•°æ®æ—¶ï¼Œçº¿æ®µæ ‘å¯ç”¨äºå¿«é€Ÿè®¡ç®—å›¾åƒæŸä¸€åŒºåŸŸçš„ç»Ÿè®¡ä¿¡æ¯æˆ–å®ç°åŒºåŸŸæ€§çš„å›¾åƒç¼–è¾‘æ“ä½œã€‚</li>
<li>è®¡ç®—å‡ ä½•ï¼šåœ¨å¤„ç†äºŒç»´ç©ºé—´ä¸­çš„ç‚¹ã€çº¿æˆ–çŸ©å½¢ç­‰å‡ ä½•å¯¹è±¡æ—¶ï¼Œçº¿æ®µæ ‘å¯ä»¥é«˜æ•ˆåœ°è§£å†³åŒºé—´æŸ¥è¯¢é—®é¢˜ï¼Œå¦‚æ‰¾å‡ºä¸ç»™å®šåŒºåŸŸç›¸äº¤çš„æ‰€æœ‰å¯¹è±¡ã€‚</li>
<li>åœ¨çº¿ç®—æ³•ç«èµ›ï¼šçº¿æ®µæ ‘æ˜¯è§£å†³åŠ¨æ€èŒƒå›´æŸ¥è¯¢é—®é¢˜çš„æ ‡å‡†å·¥å…·ï¼Œå¦‚åŒºé—´æœ€å¤§å€¼ã€åŒºé—´å’Œç­‰é—®é¢˜ã€‚</li>
<li>æ¸¸æˆå¼€å‘ï¼šåœ¨å¤§å‹å¤šäººåœ¨çº¿æ¸¸æˆä¸­ï¼Œçº¿æ®µæ ‘å¯ç”¨äºåœ°å›¾æ•°æ®çš„ç®¡ç†å’Œå¿«é€ŸæŸ¥è¯¢ï¼Œå¦‚æ‰¾å‡ºæŸåŒºåŸŸå†…çš„æ‰€æœ‰æ¸¸æˆå¯¹è±¡ã€‚</li>
</ol>
<h4 data-id="heading-64">åŠ¨æ€çº¿æ®µæ ‘</h4>
<p>å½“åŒºé—´èŒƒå›´éå¸¸å¤§ï¼Œä½†å®é™…æœ‰å€¼çš„ç‚¹æ¯”è¾ƒç¨€ç–æ—¶ï¼Œå¯ä»¥ä½¿ç”¨åŠ¨æ€çº¿æ®µæ ‘ï¼ˆé€šå¸¸ä½¿ç”¨æŒ‡é’ˆå®ç°ï¼‰æ¥èŠ‚çœç©ºé—´ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DynamicSegmentTree</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Node</span> {
        <span class="hljs-type">int</span> val;      <span class="hljs-comment">// èŠ‚ç‚¹å€¼</span>
        <span class="hljs-type">int</span> lazy;     <span class="hljs-comment">// æ‡’æƒ°æ ‡è®°</span>
        Node left;    <span class="hljs-comment">// å·¦å­èŠ‚ç‚¹</span>
        Node right;   <span class="hljs-comment">// å³å­èŠ‚ç‚¹</span>
        <span class="hljs-type">int</span> start;    <span class="hljs-comment">// åŒºé—´èµ·ç‚¹</span>
        <span class="hljs-type">int</span> end;      <span class="hljs-comment">// åŒºé—´ç»ˆç‚¹</span>
        
        Node(<span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end) {
            <span class="hljs-built_in">this</span>.start = start;
            <span class="hljs-built_in">this</span>.end = end;
            <span class="hljs-built_in">this</span>.val = <span class="hljs-number">0</span>;
            <span class="hljs-built_in">this</span>.lazy = <span class="hljs-number">0</span>;
        }
    }
    
    <span class="hljs-keyword">private</span> Node root;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DynamicSegmentTree</span><span class="hljs-params">(<span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> {
        root = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(start, end);
    }
    
    <span class="hljs-comment">// åŒºé—´æ›´æ–°</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">(<span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right, <span class="hljs-type">int</span> val)</span> {
        update(root, left, right, val);
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">(Node node, <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right, <span class="hljs-type">int</span> val)</span> {
        <span class="hljs-comment">// å¦‚æœåŒºé—´å®Œå…¨åœ¨æ›´æ–°èŒƒå›´å¤–</span>
        <span class="hljs-keyword">if</span> (node.end &lt; left || node.start &gt; right) {
            <span class="hljs-keyword">return</span>;
        }
        
        <span class="hljs-comment">// å¦‚æœåŒºé—´å®Œå…¨åœ¨æ›´æ–°èŒƒå›´å†…</span>
        <span class="hljs-keyword">if</span> (node.start &gt;= left &amp;&amp; node.end &lt;= right) {
            node.val += (node.end - node.start + <span class="hljs-number">1</span>) * val;
            <span class="hljs-keyword">if</span> (node.start != node.end) {
                node.lazy += val;
            }
            <span class="hljs-keyword">return</span>;
        }
        
        <span class="hljs-comment">// ä¸‹æ¨æ‡’æƒ°æ ‡è®°</span>
        pushDown(node);
        
        <span class="hljs-comment">// æ›´æ–°å·¦å³å­èŠ‚ç‚¹</span>
        <span class="hljs-keyword">if</span> (node.left != <span class="hljs-literal">null</span>) {
            update(node.left, left, right, val);
        }
        <span class="hljs-keyword">if</span> (node.right != <span class="hljs-literal">null</span>) {
            update(node.right, left, right, val);
        }
        
        <span class="hljs-comment">// æ›´æ–°å½“å‰èŠ‚ç‚¹çš„å€¼</span>
        node.val = (node.left != <span class="hljs-literal">null</span> ? node.left.val : <span class="hljs-number">0</span>) + 
                   (node.right != <span class="hljs-literal">null</span> ? node.right.val : <span class="hljs-number">0</span>);
    }
    
    <span class="hljs-comment">// åŒºé—´æŸ¥è¯¢</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">query</span><span class="hljs-params">(<span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span> {
        <span class="hljs-keyword">return</span> query(root, left, right);
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">query</span><span class="hljs-params">(Node node, <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span> {
        <span class="hljs-comment">// å¦‚æœåŒºé—´å®Œå…¨åœ¨æŸ¥è¯¢èŒƒå›´å¤–</span>
        <span class="hljs-keyword">if</span> (node.end &lt; left || node.start &gt; right) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        }
        
        <span class="hljs-comment">// å¦‚æœåŒºé—´å®Œå…¨åœ¨æŸ¥è¯¢èŒƒå›´å†…</span>
        <span class="hljs-keyword">if</span> (node.start &gt;= left &amp;&amp; node.end &lt;= right) {
            <span class="hljs-keyword">return</span> node.val;
        }
        
        <span class="hljs-comment">// ä¸‹æ¨æ‡’æƒ°æ ‡è®°</span>
        pushDown(node);
        
        <span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (node.left != <span class="hljs-literal">null</span>) {
            sum += query(node.left, left, right);
        }
        <span class="hljs-keyword">if</span> (node.right != <span class="hljs-literal">null</span>) {
            sum += query(node.right, left, right);
        }
        
        <span class="hljs-keyword">return</span> sum;
    }
    
    <span class="hljs-comment">// ä¸‹æ¨æ‡’æƒ°æ ‡è®°</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pushDown</span><span class="hljs-params">(Node node)</span> {
        <span class="hljs-keyword">if</span> (node.lazy == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span>;
        }
        
        <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> (node.start + node.end) / <span class="hljs-number">2</span>;
        
        <span class="hljs-comment">// åˆ›å»ºå·¦å­èŠ‚ç‚¹ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰</span>
        <span class="hljs-keyword">if</span> (node.left == <span class="hljs-literal">null</span>) {
            node.left = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(node.start, mid);
        }
        
        <span class="hljs-comment">// åˆ›å»ºå³å­èŠ‚ç‚¹ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰</span>
        <span class="hljs-keyword">if</span> (node.right == <span class="hljs-literal">null</span>) {
            node.right = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(mid + <span class="hljs-number">1</span>, node.end);
        }
        
        <span class="hljs-comment">// æ›´æ–°å­èŠ‚ç‚¹çš„å€¼å’Œæ‡’æƒ°æ ‡è®°</span>
        node.left.val += (node.left.end - node.left.start + <span class="hljs-number">1</span>) * node.lazy;
        node.right.val += (node.right.end - node.right.start + <span class="hljs-number">1</span>) * node.lazy;
        
        <span class="hljs-keyword">if</span> (node.left.start != node.left.end) {
            node.left.lazy += node.lazy;
        }
        <span class="hljs-keyword">if</span> (node.right.start != node.right.end) {
            node.right.lazy += node.lazy;
        }
        
        <span class="hljs-comment">// æ¸…é™¤å½“å‰èŠ‚ç‚¹çš„æ‡’æƒ°æ ‡è®°</span>
        node.lazy = <span class="hljs-number">0</span>;
    }
}
</code></pre>
<h4 data-id="heading-65">å¯æŒä¹…åŒ–çº¿æ®µæ ‘ï¼ˆPersistent Segment Treeï¼‰</h4>
<p>å¯æŒä¹…åŒ–çº¿æ®µæ ‘æ˜¯çº¿æ®µæ ‘çš„ä¸€ç§å˜ä½“ï¼Œå®ƒå¯ä»¥ä¿å­˜å†å²ç‰ˆæœ¬ï¼Œå…è®¸æŸ¥è¯¢ä»»æ„å†å²çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PersistentSegmentTree</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Node</span> {
        <span class="hljs-type">int</span> val;      <span class="hljs-comment">// èŠ‚ç‚¹å€¼</span>
        Node left;    <span class="hljs-comment">// å·¦å­èŠ‚ç‚¹</span>
        Node right;   <span class="hljs-comment">// å³å­èŠ‚ç‚¹</span>
        
        Node(<span class="hljs-type">int</span> val) {
            <span class="hljs-built_in">this</span>.val = val;
            <span class="hljs-built_in">this</span>.left = <span class="hljs-literal">null</span>;
            <span class="hljs-built_in">this</span>.right = <span class="hljs-literal">null</span>;
        }
        
        Node(Node other) {
            <span class="hljs-built_in">this</span>.val = other.val;
            <span class="hljs-built_in">this</span>.left = other.left;
            <span class="hljs-built_in">this</span>.right = other.right;
        }
    }
    
    <span class="hljs-keyword">private</span> Node[] roots;  <span class="hljs-comment">// å­˜å‚¨å†å²ç‰ˆæœ¬çš„æ ¹èŠ‚ç‚¹</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> n;         <span class="hljs-comment">// æ•°ç»„å¤§å°</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> versionCount; <span class="hljs-comment">// ç‰ˆæœ¬æ•°é‡</span>
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">PersistentSegmentTree</span><span class="hljs-params">(<span class="hljs-type">int</span>[] array, <span class="hljs-type">int</span> maxVersions)</span> {
        n = array.length;
        roots = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>[maxVersions];
        versionCount = <span class="hljs-number">0</span>;
        
        <span class="hljs-comment">// æ„å»ºåˆå§‹ç‰ˆæœ¬</span>
        roots[versionCount++] = build(<span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>, array);
    }
    
    <span class="hljs-comment">// æ„å»ºçº¿æ®µæ ‘</span>
    <span class="hljs-keyword">private</span> Node <span class="hljs-title function_">build</span><span class="hljs-params">(<span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end, <span class="hljs-type">int</span>[] array)</span> {
        <span class="hljs-keyword">if</span> (start == end) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(array[start]);
        }
        
        <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> (start + end) / <span class="hljs-number">2</span>;
        <span class="hljs-type">Node</span> <span class="hljs-variable">node</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(<span class="hljs-number">0</span>);
        node.left = build(start, mid, array);
        node.right = build(mid + <span class="hljs-number">1</span>, end, array);
        node.val = node.left.val + node.right.val;
        
        <span class="hljs-keyword">return</span> node;
    }
    
    <span class="hljs-comment">// åˆ›å»ºæ–°ç‰ˆæœ¬å¹¶æ›´æ–°å•ä¸ªå…ƒç´ </span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">(<span class="hljs-type">int</span> index, <span class="hljs-type">int</span> val)</span> {
        roots[versionCount] = update(roots[versionCount - <span class="hljs-number">1</span>], <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>, index, val);
        versionCount++;
    }
    
    <span class="hljs-keyword">private</span> Node <span class="hljs-title function_">update</span><span class="hljs-params">(Node node, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end, <span class="hljs-type">int</span> index, <span class="hljs-type">int</span> val)</span> {
        <span class="hljs-keyword">if</span> (index &lt; start || index &gt; end) {
            <span class="hljs-keyword">return</span> node;
        }
        
        <span class="hljs-comment">// åˆ›å»ºæ–°èŠ‚ç‚¹ï¼ˆè·¯å¾„å¤åˆ¶ï¼‰</span>
        <span class="hljs-type">Node</span> <span class="hljs-variable">newNode</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(node);
        
        <span class="hljs-keyword">if</span> (start == end) {
            newNode.val = val;
            <span class="hljs-keyword">return</span> newNode;
        }
        
        <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> (start + end) / <span class="hljs-number">2</span>;
        <span class="hljs-keyword">if</span> (index &lt;= mid) {
            newNode.left = update(node.left, start, mid, index, val);
        } <span class="hljs-keyword">else</span> {
            newNode.right = update(node.right, mid + <span class="hljs-number">1</span>, end, index, val);
        }
        
        newNode.val = newNode.left.val + newNode.right.val;
        <span class="hljs-keyword">return</span> newNode;
    }
    
    <span class="hljs-comment">// æŸ¥è¯¢ç‰¹å®šç‰ˆæœ¬çš„åŒºé—´å’Œ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">query</span><span class="hljs-params">(<span class="hljs-type">int</span> version, <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span> {
        <span class="hljs-keyword">if</span> (version &gt;= versionCount) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"ç‰ˆæœ¬ä¸å­˜åœ¨"</span>);
        }
        <span class="hljs-keyword">return</span> query(roots[version], <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>, left, right);
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">query</span><span class="hljs-params">(Node node, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end, <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span> {
        <span class="hljs-keyword">if</span> (right &lt; start || left &gt; end) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        }
        
        <span class="hljs-keyword">if</span> (left &lt;= start &amp;&amp; end &lt;= right) {
            <span class="hljs-keyword">return</span> node.val;
        }
        
        <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> (start + end) / <span class="hljs-number">2</span>;
        <span class="hljs-keyword">return</span> query(node.left, start, mid, left, right) + 
               query(node.right, mid + <span class="hljs-number">1</span>, end, left, right);
    }
}
</code></pre>
<h4 data-id="heading-66">ç›¸å…³LeetCodeçƒ­é—¨é¢˜ç›®</h4>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Frange-sum-query-mutable%2F" target="_blank" title="https://leetcode.cn/problems/range-sum-query-mutable/" ref="nofollow noopener noreferrer">307. åŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„å¯ä¿®æ”¹</a>ï¼šè®¾è®¡ä¸€ä¸ªæ”¯æŒåŒºé—´å’ŒæŸ¥è¯¢å’Œå•ç‚¹ä¿®æ”¹çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥ä½¿ç”¨çº¿æ®µæ ‘é«˜æ•ˆè§£å†³ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Ffalling-squares%2F" target="_blank" title="https://leetcode.cn/problems/falling-squares/" ref="nofollow noopener noreferrer">699. æ‰è½çš„æ–¹å—</a>ï¼šä½¿ç”¨çº¿æ®µæ ‘æ¥è·Ÿè¸ªåŒºé—´çš„æœ€å¤§é«˜åº¦ï¼Œè§£å†³æ–¹å—å †å é—®é¢˜ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Frange-module%2F" target="_blank" title="https://leetcode.cn/problems/range-module/" ref="nofollow noopener noreferrer">715. Rangeæ¨¡å—</a>ï¼šå®ç°ä¸€ä¸ªæ•°æ®ç»“æ„æ¥ç®¡ç†åŒºé—´çš„æ·»åŠ ã€åˆ é™¤å’ŒæŸ¥è¯¢ï¼Œçº¿æ®µæ ‘æ˜¯ç†æƒ³çš„è§£å†³æ–¹æ¡ˆã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fthe-skyline-problem%2F" target="_blank" title="https://leetcode.cn/problems/the-skyline-problem/" ref="nofollow noopener noreferrer">218. å¤©é™…çº¿é—®é¢˜</a>ï¼šä½¿ç”¨çº¿æ®µæ ‘æ¥å¤„ç†å»ºç­‘ç‰©çš„é«˜åº¦ä¿¡æ¯ï¼Œæ±‚è§£åŸå¸‚å¤©é™…çº¿ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fonline-majority-element-in-subarray%2F" target="_blank" title="https://leetcode.cn/problems/online-majority-element-in-subarray/" ref="nofollow noopener noreferrer">1157. å­æ•°ç»„ä¸­å ç»å¤§å¤šæ•°çš„å…ƒç´ </a>ï¼šä½¿ç”¨çº¿æ®µæ ‘ç»“åˆåˆ†æ²»æ€æƒ³è§£å†³åŒºé—´ä¼—æ•°æŸ¥è¯¢é—®é¢˜ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å€ŸåŠ©RemoteComposeå¼€å‘åŠ¨æ€åŒ–é¡µé¢]]></title>    <link>https://juejin.cn/post/7579813925996757033</link>    <guid>https://juejin.cn/post/7579813925996757033</guid>    <pubDate>2025-12-04T16:30:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579813925996757033" data-draft-id="7579846685070934070" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å€ŸåŠ©RemoteComposeå¼€å‘åŠ¨æ€åŒ–é¡µé¢"/> <meta itemprop="keywords" content="Kotlin,Android,Android Jetpack"/> <meta itemprop="datePublished" content="2025-12-04T16:30:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨€æœ‰çŒ¿è¯‰"/> <meta itemprop="url" content="https://juejin.cn/user/2788017216685784"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å€ŸåŠ©RemoteComposeå¼€å‘åŠ¨æ€åŒ–é¡µé¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2788017216685784/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨€æœ‰çŒ¿è¯‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T16:30:24.000Z" title="Thu Dec 04 2025 16:30:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¯‘è‡ªã€ŒRemoteCompose: Another Paradigm for Server-Driven UI in Jetpack Composeã€ï¼ŒåŸæ–‡é“¾æ¥<a href="https://link.juejin.cn?target=https%3A%2F%2Fproandroiddev.com%2Fremotecompose-another-paradigm-for-server-driven-ui-in-jetpack-compose-92186619ba8f" target="_blank" title="https://proandroiddev.com/remotecompose-another-paradigm-for-server-driven-ui-in-jetpack-compose-92186619ba8f" ref="nofollow noopener noreferrer">proandroiddev.com/remotecompoâ€¦</a>ï¼Œç”±Jaewoong Eumå‘å¸ƒäº2025å¹´11æœˆ29æ—¥ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5d2b6664b564b5c9a7071e4c16baf1e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iA5pyJ54y_6K-J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765470623&amp;x-signature=SyJGoGKruGr3xj3tL56bJw9KnEs%3D" alt="remote_compose.webp" loading="lazy"/></p>
<p>æ„å»ºåŠ¨æ€ç”¨æˆ·ç•Œé¢ä¸€ç›´æ˜¯ Android å¼€å‘ä¸­çš„ä¸€é¡¹æ ¹æœ¬æ€§æŒ‘æˆ˜ã€‚ä¼ ç»Ÿæ–¹æ³•è¦æ±‚æ¯æ¬¡ UI éœ€è¦æ›´æ”¹æ—¶éƒ½å¿…é¡»é‡æ–°ç¼–è¯‘å’Œé‡æ–°éƒ¨ç½²æ•´ä¸ªåº”ç”¨ç¨‹åºï¼Œè¿™ç»™ A/B æµ‹è¯•ã€åŠŸèƒ½å¼€å…³å’Œå®æ—¶å†…å®¹æ›´æ–°å¸¦æ¥äº†æå¤§çš„ä¸ä¾¿ã€‚</p>
<p>è¯•æƒ³ä¸€ä¸‹ï¼Œä½ çš„è¥é”€å›¢é˜Ÿæƒ³è¦æµ‹è¯•ä¸€ä¸ªæ–°çš„ç»“è´¦æŒ‰é’®è®¾è®¡ï¼šåœ¨ä¼ ç»Ÿæ¨¡å¼ä¸‹ï¼Œè¿™ç§ç®€å•çš„æ›´æ”¹éœ€è¦å¼€å‘äººå‘˜èŠ±è´¹æ—¶é—´ã€è¿›è¡Œä»£ç å®¡æŸ¥ã€QA æµ‹è¯•ã€æäº¤åˆ°åº”ç”¨å•†åº—ï¼Œä»¥åŠç­‰å¾…æ•°å‘¨æ‰èƒ½è·å¾—ç”¨æˆ·é‡‡çº³ã€‚RemoteCompose çš„å‡ºç°ä¸ºè§£å†³è¿™ä¸€é—®é¢˜æä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„æ–¹æ¡ˆï¼Œå®ƒä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿåœ¨è¿è¡Œæ—¶åˆ›å»ºã€ä¼ è¾“å’Œæ¸²æŸ“ Jetpack Compose UI å¸ƒå±€ï¼Œè€Œæ— éœ€é‡æ–°ç¼–è¯‘ã€‚</p>
<p>æœ¬æ–‡å°†æ¢è®¨ RemoteCompose çš„æ¦‚å¿µï¼Œç†è§£å…¶æ ¸å¿ƒæ¶æ„ï¼Œå¹¶æ¢ç´¢å®ƒå¦‚ä½•ä¸º Jetpack Compose çš„åŠ¨æ€é¡µé¢è®¾è®¡å¸¦æ¥è¯¸å¤šä¼˜åŠ¿ã€‚æœ¬æ–‡å¹¶éåº“çš„ä½¿ç”¨æ•™ç¨‹ï¼Œè€Œæ˜¯ç€é‡æ¢è®¨å®ƒæ‰€ä»£è¡¨çš„ Android UI å¼€å‘èŒƒå¼è½¬å˜ã€‚</p>
<h3 data-id="heading-0"><strong>é›†æˆä¸ä¾èµ–</strong></h3>
<p>åœ¨æ·±å…¥æ¢è®¨æ¦‚å¿µä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£å¦‚ä½•å°† RemoteCompose æ·»åŠ åˆ°ä½ çš„é¡¹ç›®ä¸­ã€‚å¯¹äºè¿è¡Œåœ¨ JVM ä¸Šä¸”ä¸ä¾èµ– Android çš„æœåŠ¡å™¨å’Œåç«¯ï¼š</p>
<pre><code class="hljs language-groovy" lang="groovy">// settings.gradle
repositories {
  maven {
    url = uri("https://androidx.dev/snapshots/builds/14511716/artifacts/repository")
  }
}

// JVM server - no Android dependencies
dependencies {
    implementation("androidx.compose.remote:remote-core:1.0.0-SNAPSHOT")
    implementation("androidx.compose.remote:remote-creation-compose:1.0.0-SNAPSHOT")
}

// Compose-based app
dependencies {
    implementation("androidx.compose.remote:remote-player-compose:1.0.0-SNAPSHOT")
    implementation("androidx.compose.remote:remote-tooling-preview:1.0.0-SNAPSHOT")
}

// View-based app
dependencies {
    implementation("androidx.compose.remote:remote-player-view:1.0.0-SNAPSHOT")
}
</code></pre>
<p>è¯·æ³¨æ„ï¼ŒRemoteCompose ä»åœ¨ç”± AndroidX å›¢é˜Ÿå¼€å‘ä¸­ï¼Œå°šæœªæ­£å¼å‘å¸ƒï¼›å®ƒä»…å¯é€šè¿‡ AndroidX å¿«ç…§ Maven ä»“åº“è·å–ã€‚</p>
<h3 data-id="heading-1">ç†è§£æ ¸å¿ƒæŠ½è±¡</h3>
<p>RemoteCompose çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œå®ƒæ”¯æŒ Compose UI ç»„ä»¶çš„è¿œç¨‹æ¸²æŸ“ã€‚å®ƒä¸ä¼ ç»Ÿ UI æ–¹æ³•çš„åŒºåˆ«åœ¨äºå®ƒéµå¾ªä¸¤ä¸ªåŸºæœ¬åŸåˆ™ï¼šå£°æ˜å¼æ–‡æ¡£åºåˆ—åŒ–å’Œå¹³å°æ— å…³æ¸²æŸ“ã€‚è¿™äº›ä¸ä»…ä»…æ˜¯æŠ€æœ¯ç‰¹æ€§ï¼›è¿™äº›æ¶æ„å†³ç­–ä»æ ¹æœ¬ä¸Šæ”¹å˜äº†ä½ å¯¹ UI éƒ¨ç½²çš„æ€è€ƒæ–¹å¼ã€‚</p>
<p><strong>å£°æ˜å¼æ–‡æ¡£åºåˆ—åŒ–</strong></p>
<p>å£°æ˜å¼æ–‡æ¡£åºåˆ—åŒ–æ„å‘³ç€ä½ å¯ä»¥å°†ä»»ä½• Jetpack Compose å¸ƒå±€æ•è·ä¸ºç´§å‡‘çš„åºåˆ—åŒ–æ ¼å¼ã€‚ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆå¯¹ UI è¿›è¡Œâ€œæˆªå›¾â€ï¼Œåªä¸è¿‡ä½ æ•è·çš„ä¸æ˜¯åƒç´ ï¼Œè€Œæ˜¯å®é™…çš„ç»˜å›¾æŒ‡ä»¤ã€‚è¿™ä¸ªæ•è·çš„æ–‡æ¡£åŒ…å«äº†é‡å»º UI æ‰€éœ€çš„ä¸€åˆ‡ï¼šå½¢çŠ¶ã€é¢œè‰²ã€æ–‡æœ¬ã€å›¾åƒã€åŠ¨ç”»ï¼Œç”šè‡³è¿˜æœ‰äº¤äº’å¼è§¦æ‘¸åŒºåŸŸã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// On the server or creation side</span>
<span class="hljs-keyword">val</span> document = captureRemoteDocument(
    context = context,
    creationDisplayInfo = displayInfo,
    profile = profile
) {
    RemoteColumn(modifier = RemoteModifier.fillMaxSize()) {
        RemoteText(<span class="hljs-string">"Dynamic Content"</span>)
        RemoteButton(onClick = { <span class="hljs-comment">/* action */</span> }) {
            RemoteText(<span class="hljs-string">"Click Me"</span>)
        }
    }
}
</code></pre>
<p>ç»“æœå¦‚ä½•ï¼Ÿä¸€ä¸ªå¯ä»¥é€šè¿‡ç½‘ç»œå‘é€çš„å­—èŠ‚æ•°ç»„ã€‚è¿™ç§æ–¹æ³•çš„å…³é”®åœ¨äºï¼Œåˆ›å»ºç«¯ç¼–å†™çš„æ˜¯æ ‡å‡†çš„ Compose ä»£ç ã€‚æ— éœ€å­¦ä¹ æ–°çš„ DSLï¼Œæ— éœ€ç»´æŠ¤ JSON æ¨¡å¼ï¼Œä¹Ÿæ— éœ€æŒæ¡æ¨¡æ¿è¯­è¨€ã€‚åªè¦å¯ä»¥ç”¨ Compose ç¼–å†™ï¼Œå°±å¯ä»¥ç”¨ RemoteCompose æ•è·ã€‚</p>
<p>ä½ å¯ä»¥æ•è·ä¸€ä¸ªæ™®é€šçš„ Compose ä»£ç ï¼Œå®ƒä¼šæ•è·ç»˜åˆ¶è°ƒç”¨ï¼ˆè¿™äº›è°ƒç”¨éå¸¸é™æ€ï¼‰ã€‚æ›´å¸¸è§çš„æƒ…å†µæ˜¯ï¼Œä½ åº”è¯¥æ‹¥æœ‰é•œåƒ Compose çš„ Remote* ä¸“ç”¨ APIï¼Œè¿™äº› API ä¸“ä¸ºåºåˆ—åŒ–å’Œè¿œç¨‹æ’­æ”¾è€Œè®¾è®¡ï¼Œä¾‹å¦‚ <code>RemoteColumn</code>ã€<code>RemoteButton</code>ã€<code>RemoteText</code> ç­‰ã€‚</p>
<p><strong>å¹³å°æ— å…³æ¸²æŸ“</strong></p>
<p>å¹³å°æ— å…³æ¸²æŸ“æ„å‘³ç€æ•è·çš„æ–‡æ¡£å¯ä»¥é€šè¿‡ç½‘ç»œä¼ è¾“ï¼Œå¹¶åœ¨ä»»ä½• Android è®¾å¤‡ä¸Šæ¸²æŸ“ï¼Œè€Œæ— éœ€åŸå§‹çš„ Compose ä»£ç ã€‚å®¢æˆ·ç«¯è®¾å¤‡ä¸éœ€è¦ä½ çš„å¯ç»„åˆå‡½æ•°ã€è§†å›¾æ¨¡å‹æˆ–ä¸šåŠ¡é€»è¾‘â€”â€”å®ƒåªéœ€è¦æ–‡æ¡£å­—èŠ‚å’Œä¸€ä¸ªæ’­æ”¾å™¨ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// On the client or player side</span>
RemoteDocumentPlayer(
    document = remoteDocument.document,
    documentWidth = windowInfo.containerSize.width,
    documentHeight = windowInfo.containerSize.height,
    onAction = { actionId, value -&gt;
        <span class="hljs-comment">// Handle user interactions</span>
    }
)
</code></pre>
<p>è¿™äº›ç‰¹æ€§å¹¶éä»…ä»…æ˜¯ä¸ºäº†æ–¹ä¾¿ï¼›å®ƒä»¬æ˜¯æ¶æ„çº¦æŸï¼Œèƒ½å¤ŸçœŸæ­£å®ç° UI å®šä¹‰ä¸éƒ¨ç½²çš„è§£è€¦ã€‚æ–‡æ¡£æ ¼å¼ä¸ä»…åŒ…å«é™æ€å¸ƒå±€ï¼Œè¿˜åŒ…å«çŠ¶æ€ã€åŠ¨ç”»å’Œäº¤äº’ï¼Œä»è€Œå®Œæ•´åœ°å‘ˆç°äº† UI ä½“éªŒã€‚</p>
<p><strong>â€‹â€‹æ–¹æ³•æ¯”è¾ƒï¼šä¸ºä»€ä¹ˆä¸é€‰æ‹© JSON æˆ– WebViewï¼Ÿ</strong></p>
<p>åœ¨æ·±å…¥æ¢è®¨ä¹‹å‰ï¼Œæˆ‘ä»¬æœ‰å¿…è¦äº†è§£ RemoteCompose ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ç§æ–¹æ³•è€Œä¸æ˜¯å…¶ä»–æ–¹æ¡ˆã€‚</p>
<p>åŸºäº JSON çš„æœåŠ¡å™¨ç«¯ UIï¼Œä¾‹å¦‚ Airbnb çš„ Epoxy æˆ– Shopify çš„æ–¹æ³•ï¼Œéœ€è¦å®šä¹‰ä¸€ä¸ªæ˜ å°„åˆ°åŸç”Ÿç»„ä»¶çš„æ¨¡å¼ã€‚è¿™ç§æ–¹æ³•é€‚ç”¨äºç»“æ„åŒ–å†…å®¹ï¼Œä½†éš¾ä»¥å¤„ç†å¤æ‚çš„åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœã€è‡ªå®šä¹‰ç»˜å›¾å’Œå›¾å½¢ã€å¸¦æœ‰å†…è”æ ·å¼çš„å¯Œæ–‡æœ¬ä»¥åŠæ¸å˜å’Œé˜´å½±ç­‰è§†è§‰æ•ˆæœã€‚</p>
<p>WebView æä¾›äº†å…¨é¢çš„çµæ´»æ€§ï¼Œä½†ç”±äºå…¶ç‹¬ç«‹çš„æ¸²æŸ“è¿‡ç¨‹ï¼Œä¼šå¸¦æ¥æ€§èƒ½å¼€é”€ï¼›æ­¤å¤–ï¼ŒWeb æ ·å¼ä¸åŸç”Ÿè®¾è®¡åœ¨å¤–è§‚å’Œä½“éªŒä¸Šå­˜åœ¨ä¸ä¸€è‡´ï¼›æ¯ä¸ª WebView éƒ½ä¼šå ç”¨å¤§é‡èµ„æºï¼Œé€ æˆå†…å­˜å‹åŠ›ï¼›è§¦æ‘¸å¤„ç†ä¹Ÿè¾ƒä¸ºå¤æ‚ï¼Œå®¹æ˜“å‡ºç°æ‰‹åŠ¿å†²çªã€‚</p>
<p>RemoteCompose å¦è¾Ÿè¹Šå¾„ï¼šæ•è· Compose å®é™…æ‰§è¡Œçš„ç»˜åˆ¶æ“ä½œã€‚è¿™æ„å‘³ç€ï¼Œä½ å¯ä»¥ä½¿ç”¨ Compose æ„å»ºçš„ä»»ä½• UIï¼ŒåŒ…æ‹¬è‡ªå®šä¹‰ Canvas ç»˜åˆ¶ã€å¤æ‚åŠ¨ç”»å’Œ Material Design ç»„ä»¶ï¼Œéƒ½å¯ä»¥è¢«æ•è·å¹¶ä»¥åŸç”Ÿæ€§èƒ½è¿œç¨‹é‡æ”¾ã€‚</p>
<h3 data-id="heading-2"><strong>åŸºäºæ–‡æ¡£çš„æ¶æ„ï¼šåˆ›å»ºä¸å›æ”¾</strong></h3>
<p>RemoteCompose çš„æ¶æ„å›´ç»•ç€ä¸¤ä¸ªé˜¶æ®µçš„æ¸…æ™°åˆ†ç¦»è€Œæ„å»ºï¼šæ–‡æ¡£åˆ›å»ºå’Œæ–‡æ¡£å›æ”¾ã€‚ç†è§£è¿™ç§åˆ†ç¦»æ˜¯ç†è§£æ¡†æ¶å¼ºå¤§åŠŸèƒ½çš„å…³é”®ã€‚</p>
<p><strong>æ–‡æ¡£åˆ›å»ºï¼šå°† UI ä½œä¸ºæ•°æ®æ•è·</strong></p>
<p>åˆ›å»ºé˜¶æ®µå°† Compose UI ä»£ç è½¬æ¢ä¸ºåºåˆ—åŒ–æ–‡æ¡£ã€‚è¿™æ˜¯é€šè¿‡æ•è·æœºåˆ¶å®ç°çš„ï¼Œè¯¥æœºåˆ¶ä¼šåœ¨ Canvas å±‚ï¼ˆAndroid æ¸²æŸ“ç®¡çº¿çš„æœ€åº•å±‚ï¼‰æ‹¦æˆªç»˜åˆ¶æ“ä½œã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span> Content
        â†“
RemoteComposeCreationState (Tracks state and modifiers)
        â†“
CaptureComposeView (Virtual Display - no <span class="hljs-keyword">actual</span> screen needed)
        â†“
RecordingCanvas (Intercepts every draw call)
        â†“
Operations (<span class="hljs-number">93</span>+ operation types covering all drawing primitives)
        â†“
RemoteComposeBuffer (Efficient binary serialization)
        â†“
ByteArray (Network-ready, typically <span class="hljs-number">10</span>-100KB <span class="hljs-keyword">for</span> complex UIs)
</code></pre>
<p>åˆ›å»ºç«¯æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„ Compose é›†æˆå±‚ã€‚ä½ åªéœ€ç¼–å†™æ ‡å‡†çš„ <code>@Composable</code> å‡½æ•°ï¼Œæ¡†æ¶å³å¯æ•è·æ‰€æœ‰å†…å®¹ï¼šå¸ƒå±€å±‚çº§ã€ä¿®é¥°ç¬¦ã€æ–‡æœ¬æ ·å¼ã€å›¾åƒã€åŠ¨ç”»ï¼Œç”šè‡³è§¦æ‘¸å¤„ç†ç¨‹åºã€‚</p>
<p>å…¶ç‹¬ç‰¹ä¹‹å¤„åœ¨äºï¼Œæ•è·çš„æ–‡æ¡£æ˜¯è‡ªåŒ…å«çš„ã€‚å®ƒåŒ…å«å½¢çŠ¶ã€é¢œè‰²ã€æ¸å˜å’Œé˜´å½±ç­‰è§†è§‰å…ƒç´ ï¼Œä»¥åŠå¸¦æœ‰å­—ç¬¦ä¸²ã€å­—ä½“ã€å¤§å°å’Œæ ·å¼çš„æ–‡æœ¬ã€‚å›¾åƒå¯ä»¥åµŒå…¥ä¸ºä½å›¾æˆ– URL ä»¥å®ç°å»¶è¿ŸåŠ è½½ã€‚å¸ƒå±€ä¿¡æ¯æ¶µç›–å¤§å°ã€ä½ç½®ã€å†…è¾¹è·å’Œå¯¹é½æ–¹å¼ã€‚äº¤äº’å®šä¹‰äº†è§¦æ‘¸åŒºåŸŸã€ç‚¹å‡»å¤„ç†ç¨‹åºå’Œå‘½åæ“ä½œã€‚çŠ¶æ€å˜é‡å¯ä»¥åœ¨è¿è¡Œæ—¶æ›´æ–°ï¼ŒåŠ¨ç”»åˆ™é€šè¿‡åŸºäºæ—¶é—´çš„è¿åŠ¨è¡¨è¾¾å¼æ¥è¡¨è¾¾ã€‚</p>
<p>æ¥æ”¶æ–¹æ— éœ€è®¿é—®ä½ çš„ä»£ç åº“ï¼Œåªéœ€è®¿é—®æ–‡æ¡£å­—èŠ‚å³å¯ã€‚è¿™ä¸å…¶ä»–æœåŠ¡å™¨é©±åŠ¨çš„ UI æ–¹æ³•æœ‰ç€æœ¬è´¨åŒºåˆ«ï¼Œåœ¨å…¶ä»–æ–¹æ³•ä¸­ï¼Œå®¢æˆ·ç«¯éœ€è¦ç†è§£æ¶æ„æˆ–æ‹¥æœ‰é¢„æ„å»ºçš„ç»„ä»¶ã€‚</p>
<p><strong>æ–‡æ¡£æ’­æ”¾ï¼šæ— éœ€ç¼–è¯‘å³å¯æ¸²æŸ“</strong></p>
<p>æ’­æ”¾é˜¶æ®µæ¥æ”¶åºåˆ—åŒ–çš„æ–‡æ¡£å¹¶å°†å…¶æ¸²æŸ“åˆ°å±å¹•ä¸Šã€‚æ’­æ”¾å™¨ä¼šéå†ä¸€ç³»åˆ—æ“ä½œï¼Œå¯¹ Canvas æ‰§è¡Œæ¯ä¸ªæ“ä½œã€‚å…¶æ¦‚å¿µç±»ä¼¼äºè§†é¢‘æ’­æ”¾å™¨è§£ç å¸§çš„æ–¹å¼ï¼Œåªä¸è¿‡æˆ‘ä»¬è§£ç çš„æ˜¯ç»˜å›¾æŒ‡ä»¤è€Œä¸æ˜¯åƒç´ ã€‚</p>
<p>RemoteCompose æä¾›ä¸¤ç§æ¸²æŸ“åç«¯ä»¥æ»¡è¶³ä¸åŒçš„æ¶æ„éœ€æ±‚ã€‚åŸºäº Compose çš„æ’­æ”¾å™¨æ¨èç”¨äºç°ä»£åº”ç”¨ç¨‹åºï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">DynamicScreen</span><span class="hljs-params">(document: <span class="hljs-type">CoreDocument</span>)</span></span> {
    RemoteDocumentPlayer(
        document = document,
        documentWidth = screenWidth,
        documentHeight = screenHeight,
        modifier = Modifier.fillMaxSize(),
        onNamedAction = { name, value, stateUpdater -&gt;
            <span class="hljs-comment">// Handle named actions from the document</span>
            <span class="hljs-keyword">when</span> (name) {
                <span class="hljs-string">"addToCart"</span> -&gt; cartManager.addItem(value)
                <span class="hljs-string">"navigate"</span> -&gt; navController.navigate(value)
                <span class="hljs-string">"trackEvent"</span> -&gt; analytics.logEvent(value)
            }
        },
        bitmapLoader = rememberBitmapLoader()  <span class="hljs-comment">// For lazy image loading</span>
    )
}
</code></pre>
<p>åŸºäº Compose çš„æ’­æ”¾å™¨å¯ä»¥è‡ªç„¶åœ°ä¸ä½ ç°æœ‰çš„ Compose UI é›†æˆã€‚å®ƒæ˜¯ä¸€ä¸ªå¯ç»„åˆçš„å‡½æ•°ï¼Œä½ å¯ä»¥å°†å…¶æ”¾ç½®åœ¨ç»„åˆå±‚çº§ç»“æ„ä¸­çš„ä»»ä½•ä½ç½®ï¼Œå¹¶åƒå…¶ä»–å¯ç»„åˆå‡½æ•°ä¸€æ ·å¯¹å…¶åº”ç”¨ä¿®é¥°ç¬¦å’ŒåŠ¨ç”»ã€‚</p>
<p>ä¸ºäº†ä¸ç°æœ‰çš„ View å±‚çº§ç»“æ„å…¼å®¹ï¼Œæˆ‘ä»¬è¿˜æä¾›äº†ä¸€ä¸ªåŸºäº View çš„æ’­æ”¾å™¨ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">LegacyActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> player: RemoteComposePlayer

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        player = RemoteComposePlayer(<span class="hljs-keyword">this</span>)
        setContentView(player)

        <span class="hljs-comment">// Load document from network</span>
        lifecycleScope.launch {
            <span class="hljs-keyword">val</span> bytes = api.fetchDocument(<span class="hljs-string">"home-screen"</span>)
            player.setDocument(bytes)
        }

        player.onNamedAction { name, value, stateUpdater -&gt;
            <span class="hljs-comment">// Handle actions</span>
        }
    }
}
</code></pre>
<p>ä¸¤ç§æ’­æ”¾å™¨æä¾›ç›¸åŒçš„æ¸²æŸ“ä¿çœŸåº¦ï¼›é€‰æ‹©å“ªç§å–å†³äºä½ çš„åº”ç”¨ç¨‹åºæ¶æ„ã€‚å¦‚æœä½ å®Œå…¨ä½¿ç”¨ Composeï¼Œè¯·ä½¿ç”¨å¯ç»„åˆæ’­æ”¾å™¨ã€‚å¦‚æœä½ æ˜¯ä» Views è¿ç§»è¿‡æ¥çš„ï¼Œæˆ–è€…å°†å…¶åµŒå…¥åˆ° View å±‚çº§ç»“æ„ä¸­ï¼Œè¯·ä½¿ç”¨åŸºäº View çš„æ’­æ”¾å™¨ã€‚</p>
<h3 data-id="heading-3"><strong>æ“ä½œæ¨¡å‹ï¼šä¸€å¥—å…¨é¢çš„ç»˜å›¾è¯æ±‡è¡¨</strong></h3>
<p>RemoteCompose çš„ä¼˜åŠ¿åœ¨äºå…¶å…¨é¢çš„æ“ä½œæ¨¡å‹ã€‚è¯¥æ¡†æ¶å®šä¹‰äº† 93 ç§ä»¥ä¸Šçš„ä¸åŒæ“ä½œï¼Œæ¶µç›–äº† UI æ¸²æŸ“çš„æ–¹æ–¹é¢é¢ã€‚è¿™å¹¶ééšæ„è®¾å®šçš„æ•°å­—ï¼Œè€Œæ˜¯è¡¨è¾¾ä»»ä½• Canvas ç»˜å›¾æ“ä½œæ‰€éœ€çš„å®Œæ•´è¯æ±‡è¡¨ã€‚</p>
<p><strong>æ“ä½œçš„é‡è¦æ€§</strong></p>
<p>ä¼ ç»Ÿçš„æœåŠ¡å™¨é©±åŠ¨å‹ UI å‘é€çš„æ˜¯é«˜çº§ç»„ä»¶æè¿°ï¼šâ€œæ¸²æŸ“ä¸€ä¸ªå¸¦æœ‰æ–‡æœ¬â€˜æäº¤â€™çš„æŒ‰é’®â€ã€‚å®¢æˆ·ç«¯å¿…é¡»è§£æè¿™äº›æè¿°å¹¶å°†å…¶æ˜ å°„åˆ°åŸç”Ÿç»„ä»¶ã€‚è¿™å¯¼è‡´æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´ç´§å¯†è€¦åˆï¼›åŒæ–¹å¿…é¡»å°±â€œæŒ‰é’®â€çš„å®šä¹‰åŠå…¶è¡Œä¸ºè¾¾æˆä¸€è‡´ã€‚</p>
<p>RemoteCompose åˆ™åœ¨æ›´åº•å±‚è¿è¡Œï¼šå®ƒä¸å‘é€â€œæ¸²æŸ“ä¸€ä¸ªæŒ‰é’®â€è¿™æ ·çš„æè¿°ï¼Œè€Œæ˜¯å‘é€å®é™…çš„ç»˜å›¾æŒ‡ä»¤ï¼šâ€œåœ¨è¿™äº›åæ ‡å¤„ç»˜åˆ¶ä¸€ä¸ªå¸¦æœ‰è¿™ç§é¢œè‰²çš„åœ†è§’çŸ©å½¢ï¼Œç„¶ååœ¨è¿™ä¸ªä½ç½®ç»˜åˆ¶å¸¦æœ‰è¿™ç§å­—ä½“çš„æ–‡æœ¬â€˜æäº¤â€™â€ã€‚å®¢æˆ·ç«¯æ— éœ€äº†è§£â€œæŒ‰é’®â€çš„å®šä¹‰ï¼›å®ƒåªéœ€æ‰§è¡Œç»˜å›¾æ“ä½œå³å¯ã€‚</p>
<p>è¿™ç§åº•å±‚æ–¹æ³•æ„ä¹‰æ·±è¿œã€‚ç”±äºæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯æ— éœ€å°±ç»„ä»¶å®šä¹‰è¾¾æˆä¸€è‡´ï¼Œå› æ­¤æ— éœ€è¿›è¡Œæ¨¡å¼åŒæ­¥ã€‚ç”±äº Compose ä¸­æ‰€æœ‰å¯èƒ½çš„è§†è§‰æ•ˆæœå‡å¯æ•è·ï¼Œå› æ­¤èƒ½å¤Ÿå®Œæ•´ä¿ç•™è§†è§‰ä¿çœŸåº¦ã€‚ç”±äºæ–°çš„è§†è§‰è®¾è®¡å¯åœ¨æ—§å®¢æˆ·ç«¯ä¸Šè¿è¡Œï¼ˆå®ƒä»¬åªæ˜¯ä¸åŒçš„ç»˜åˆ¶æ“ä½œï¼‰ï¼Œå› æ­¤å†…ç½®äº†å‘å‰å…¼å®¹æ€§ã€‚è‡ªå®šä¹‰ç»„ä»¶æ— éœ€æ³¨å†Œå³å¯è‡ªåŠ¨è¿è¡Œã€‚</p>
<p><strong>ç»˜åˆ¶æ“ä½œ</strong></p>
<p>ç»˜åˆ¶æ“ä½œæ•è· Canvas ç»˜åˆ¶è°ƒç”¨ï¼Œè¿™æ˜¯ 2D å›¾å½¢çš„åŸºæœ¬å›¾å…ƒã€‚è¿™äº›å›¾å…ƒåŒ…æ‹¬ï¼šç”¨äºæŒ‰é’®ã€å¡ç‰‡å’ŒèƒŒæ™¯çš„çŸ©å½¢çš„ <code>DRAW_RECT</code>ï¼›ç”¨äºå¸¦æœ‰åœ†è§’çš„ Material æ›²é¢çš„ <code>DRAW_ROUND_RECT</code>ï¼›ç”¨äºå¤´åƒå’ŒæŒ‡ç¤ºå™¨çš„ <code>DRAW_CIRCLE</code>ï¼›ç”¨äºæ¸²æŸ“å¸¦æœ‰å®Œæ•´æ ·å¼çš„æ–‡æœ¬çš„ <code>DRAW_TEXT</code>ï¼›ç”¨äºæ²¿æ›²çº¿ç»˜åˆ¶æ–‡æœ¬çš„ <code>DRAW_TEXT_ON_PATH</code>ï¼›ä»¥åŠç”¨äºå›¾åƒçš„ <code>DRAW_BITMAP</code>ã€‚ <code>DRAW_TWEEN_PATH</code> ç”¨äºåŠ¨ç”»è·¯å¾„å˜å½¢ï¼Œç­‰ç­‰ã€‚</p>
<p>æ¯ä¸ªæ“ä½œéƒ½åŒ…å«æ‰§è¡Œå®ƒæ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ï¼šåæ ‡ã€é¢œè‰²ã€ç»˜åˆ¶æ ·å¼ä»¥åŠå¯¹æ–‡æ¡£ä¸­å…¶ä»–ä½ç½®å­˜å‚¨çš„æ•°æ®ï¼ˆä¾‹å¦‚æ–‡æœ¬å­—ç¬¦ä¸²æˆ–ä½å›¾ï¼‰çš„å¼•ç”¨ã€‚</p>
<p><strong>å¸ƒå±€æ“ä½œ</strong></p>
<p>å¸ƒå±€æ“ä½œå®šä¹‰ç»„ä»¶å±‚æ¬¡ç»“æ„å’Œç©ºé—´å…³ç³»ã€‚<code>Component</code> æ“ä½œå£°æ˜ä¸€ä¸ªå¸ƒå±€ç»„ä»¶ï¼Œè€Œ <code>Container</code> æ“ä½œåˆ›å»ºä¸€ä¸ªç±»ä¼¼äº <code>Column</code> æˆ– <code>Row</code> çš„å®¹å™¨ï¼Œ<code>ContainerEnd</code> æ“ä½œåˆ™å…³é—­å®ƒã€‚<code>LoopOperation</code> æ“ä½œç”¨äºå¾ªç¯åˆ—è¡¨å†…å®¹ã€‚<code>Modifier</code> åŒ…æ‹¬ç”¨äºèƒŒæ™¯é¢œè‰²å’Œå¯ç»˜åˆ¶å¯¹è±¡çš„ <code>BackgroundModifier</code>ã€ç”¨äºè¾¹æ¡†æ ·å¼çš„ <code>BorderModifier</code>ã€ç”¨äºå†…éƒ¨é—´è·çš„ <code>PaddingModifier</code> ä»¥åŠç”¨äºè§¦æ‘¸å¤„ç†çš„ <code>ClickModifier</code>ã€‚</p>
<p>å®¹å™¨æ¨¡å‹é‡‡ç”¨æ¨é€/å¼¹å‡ºæœºåˆ¶ã€‚å½“æ’­æ”¾å™¨é‡åˆ° <code>Container</code> æ“ä½œæ—¶ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¸ƒå±€ä¸Šä¸‹æ–‡ã€‚æ‰€æœ‰åç»­æ“ä½œéƒ½å°†åœ¨è¯¥ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œï¼Œç›´åˆ° <code>ContainerEnd</code> æ“ä½œå°†å…¶å¼¹å‡ºã€‚è¿™ä¸ Compose çš„å¸ƒå±€ç³»ç»Ÿçš„å·¥ä½œæ–¹å¼ç±»ä¼¼ã€‚</p>
<p><strong>çŠ¶æ€å’Œè¡¨è¾¾å¼æ“ä½œ</strong></p>
<p>çŠ¶æ€æ“ä½œæ”¯æŒè¿è¡Œæ—¶å¯æ›´æ”¹çš„åŠ¨æ€å€¼ã€‚<code>NamedVariable</code> å£°æ˜ä¸€ä¸ªå‘½åçš„çŠ¶æ€å˜é‡ã€‚<code>ColorAttribute</code> æä¾›å¯è‡ªå®šä¹‰ä¸»é¢˜çš„é¢œè‰²ã€‚<code>TimeAttribute</code> å¼•ç”¨åŠ¨ç”»æ—¶é—´ã€‚<code>FloatExpression</code> å’Œ <code>IntegerExpression</code> æ¯å¸§è®¡ç®—æ•°å­¦è¡¨è¾¾å¼ã€‚<code>ConditionalOp</code> æ”¯æŒåŸºäºçŠ¶æ€çš„æ¡ä»¶æ¸²æŸ“ã€‚</p>
<p>è¡¨è¾¾å¼ç³»ç»ŸåŠŸèƒ½å¼ºå¤§ã€‚ä½ å¯ä»¥åµŒå…¥å…¬å¼ï¼Œè€Œä¸æ˜¯é™æ€å€¼ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// These expressions are evaluated every frame</span>
<span class="hljs-keyword">val</span> opacity = FloatExpression(<span class="hljs-string">"sin(time * 2) * 0.5 + 0.5"</span>)  <span class="hljs-comment">// Pulsing effect</span>
<span class="hljs-keyword">val</span> rotation = FloatExpression(<span class="hljs-string">"time * 90 % 360"</span>)

<span class="hljs-comment">// Continuous rotation</span>
<span class="hljs-keyword">val</span> position = FloatExpression(<span class="hljs-string">"lerp(0, 100, time / 2)"</span>)

<span class="hljs-comment">// Linear interpolation</span>
</code></pre>
<p>è¿™ä½¿å¾—å®Œå…¨åœ¨æ–‡æ¡£ä¸­å®šä¹‰ä¸°å¯Œçš„åŠ¨ç”»æˆä¸ºå¯èƒ½â€”â€”æ— éœ€å®¢æˆ·ç«¯åŠ¨ç”»ä»£ç ã€‚
â€‹â€‹
<strong>äº¤äº’æ“ä½œ</strong></p>
<p>äº¤äº’æ“ä½œå¤„ç†ç”¨æˆ·è¾“å…¥ã€‚<code>TouchOperation</code> å®šä¹‰è§¦æ‘¸åŒºåŸŸï¼Œè€Œ <code>CLICK_AREA</code> å¤„ç†ç®€å•çš„ç‚¹å‡»æ“ä½œã€‚<code>ParticlesCreate</code> åˆå§‹åŒ–ç²’å­ç³»ç»Ÿï¼Œ<code>ParticlesLoop</code> é©±åŠ¨ç²’å­åŠ¨ç”»ã€‚</p>
<p>è§¦æ‘¸æ“ä½œæ³¨å†Œå¸¦æœ‰å‘½åæ“ä½œçš„çŸ©å½¢åŒºåŸŸã€‚å½“ç”¨æˆ·ç‚¹å‡»æŸä¸ªåŒºåŸŸæ—¶ï¼Œæ’­æ”¾å™¨ä¼šè§¦å‘ç›¸åº”çš„æ“ä½œï¼Œå®¿ä¸»åº”ç”¨ç¨‹åºä¼šé€šè¿‡å›è°ƒå‡½æ•°æ¥å¤„ç†è¿™äº›æ“ä½œã€‚è¿™ç§è®¾è®¡æ—¢ä¿æŒäº†æ–‡æ¡£æ ¼å¼çš„ç®€æ´æ€§ï¼Œåˆå®ç°äº†ä¸°å¯Œçš„äº¤äº’åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-4">åŠ¨æ€å±å¹•è®¾è®¡çš„ä¼˜åŠ¿</h3>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬é€šè¿‡å¸¸è§åº”ç”¨åœºæ™¯ä¸­çš„çœŸå®æ¡ˆä¾‹ï¼Œæ¥æ¢è®¨ RemoteCompose ä¸ºåŠ¨æ€å±å¹•è®¾è®¡å¸¦æ¥çš„åˆ‡å®ä¼˜åŠ¿ã€‚</p>
<p><strong>æœåŠ¡å™¨é©±åŠ¨ UIï¼Œæ€§èƒ½æ¯«ä¸å¦¥å</strong></p>
<p>ä¼ ç»Ÿçš„æœåŠ¡å™¨é©±åŠ¨ UI æ–¹æ³•éœ€è¦æƒè¡¡å–èˆã€‚åŸºäº JSON çš„å¸ƒå±€è¡¨è¾¾èƒ½åŠ›æœ‰é™ï¼Œæ— æ³•å®ç°å¤æ‚çš„åŠ¨ç”»æˆ–è‡ªå®šä¹‰ç»˜åˆ¶ã€‚WebView ä¼šå¸¦æ¥æ€§èƒ½å¼€é”€ã€å¤–è§‚ä¸ä¸€è‡´ä»¥åŠæ›´é«˜çš„å†…å­˜å ç”¨ã€‚è‡ªå®šä¹‰ DSL åˆ™ä¼šå¢åŠ ç»´æŠ¤è´Ÿæ‹…ã€å­¦ä¹ æ›²çº¿ï¼Œå¹¶ä¸”å¯¹é¢„å®šä¹‰ç»„ä»¶æœ‰æ‰€é™åˆ¶ã€‚</p>
<p>RemoteCompose æä¾›äº†ç¬¬ä¸‰æ¡è·¯å¾„ï¼šä»æœåŠ¡å™¨å®šä¹‰çš„å¸ƒå±€è¿›è¡ŒåŸç”Ÿ Compose æ¸²æŸ“ã€‚ä½ æ—¢èƒ½å……åˆ†åˆ©ç”¨ Compose æ¸²æŸ“å¼•æ“çš„å¼ºå¤§åŠŸèƒ½ï¼Œåˆèƒ½äº«å—æœåŠ¡å™¨é©±åŠ¨å†…å®¹çš„çµæ´»æ€§ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä¸€ä¸ªç”µå•†åº”ç”¨éœ€è¦é¢‘ç¹æ›´æ–°äº§å“å¡ç‰‡ã€æ·»åŠ æ–°çš„å¾½ç« æ ·å¼ã€ä¿ƒé”€å åŠ å±‚æˆ–å­£èŠ‚æ€§ä¸»é¢˜ã€‚å€ŸåŠ© RemoteComposeï¼ŒæœåŠ¡å™¨ç«¯å…è®¸è¥é”€å›¢é˜Ÿæ— éœ€å‘å¸ƒåº”ç”¨å³å¯æ›´æ–°å¡ç‰‡è®¾è®¡ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Server-side: We can update card designs without app release</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ProductCard</span><span class="hljs-params">(product: <span class="hljs-type">Product</span>)</span></span> {
    Card(
        modifier = RemoteModifier
            .fillMaxWidth()
            .clickable { namedAction(<span class="hljs-string">"viewProduct"</span>, product.id) }
    ) {
        Box {
            <span class="hljs-comment">// Product image with gradient overlay</span>
            AsyncImage(
                url = product.imageUrl,
                modifier = RemoteModifier.fillMaxWidth().aspectRatio(<span class="hljs-number">1.5f</span>)
            )

            <span class="hljs-comment">// Promotional badge - can be A/B tested server-side</span>
            <span class="hljs-keyword">if</span> (product.hasPromotion) {
                PromotionalBadge(
                    text = product.promotionText,
                    modifier = RemoteModifier.align(Alignment.TopEnd)
                )
            }

            <span class="hljs-comment">// Price with sale styling</span>
            PriceTag(
                originalPrice = product.originalPrice,
                salePrice = product.salePrice,
                modifier = RemoteModifier.align(Alignment.BottomStart)
            )
        }
    }
}
</code></pre>
<p>å®¢æˆ·ç«¯åªéœ€æ¸²æŸ“æœåŠ¡å™¨å‘é€çš„å†…å®¹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Client-side: Just renders whatever the server sends</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ProductGrid</span><span class="hljs-params">(viewModel: <span class="hljs-type">ProductViewModel</span>)</span></span> {
    <span class="hljs-keyword">val</span> documents <span class="hljs-keyword">by</span> viewModel.productDocuments.collectAsState()

    LazyVerticalGrid(columns = GridCells.Fixed(<span class="hljs-number">2</span>)) {
        items(documents) { document -&gt;
            RemoteDocumentPlayer(
                document = document,
                onNamedAction = { name, value, _ -&gt;
                    <span class="hljs-keyword">if</span> (name == <span class="hljs-string">"viewProduct"</span>) {
                        navController.navigate(<span class="hljs-string">"product/<span class="hljs-variable">$value</span>"</span>)
                    }
                }
            )
        }
    }
}
</code></pre>
<p>ç°åœ¨ï¼Œä½ çš„å›¢é˜Ÿæ— éœ€å‘å¸ƒä»»ä½•åº”ç”¨å³å¯æ›´æ–°äº§å“å¡ç‰‡è®¾è®¡ï¼Œæ›´æ”¹å¾½ç« é¢œè‰²ã€æ·»åŠ åŠ¨ç”»å’Œé‡æ–°æ’åˆ—å…ƒç´ ã€‚ç”±äºå®ƒæ˜¯åŸç”Ÿåº”ç”¨ï¼Œé€šè¿‡ Compose çš„å®é™…ç»˜åˆ¶ç®¡é“æ¸²æŸ“ï¼Œå› æ­¤ UI çš„å¤–è§‚å’Œä½“éªŒä¸åŸç”Ÿåº”ç”¨æ— å¼‚ã€‚</p>
<h3 data-id="heading-5">å¤§è§„æ¨¡ A/B æµ‹è¯•</h3>
<p>ä¼ ç»Ÿçš„ A/B æµ‹è¯• UI å˜ä½“éœ€è¦åœ¨åº”ç”¨äºŒè¿›åˆ¶æ–‡ä»¶ä¸­å®ç°æ‰€æœ‰å˜ä½“ï¼Œä¸ºæ¯ä¸ªå˜ä½“åˆ›å»ºåŠŸèƒ½æ ‡å¿—ï¼Œå‘å¸ƒåŒ…å«æ‰€æœ‰å˜ä½“çš„åº”ç”¨ï¼Œç„¶åç­‰å¾…ç”¨æˆ·é‡‡ç”¨åå†è¡¡é‡ç»“æœã€‚ä»æ„æ€åˆ°è·å¾—æ•°æ®ï¼Œè¿™ä¸ªè¿‡ç¨‹é€šå¸¸éœ€è¦ 2-4 å‘¨ã€‚</p>
<p>å€ŸåŠ© RemoteComposeï¼Œä½ æ— éœ€éƒ¨ç½²ä»»ä½•å®¢æˆ·ç«¯å³å¯æµ‹è¯• UI å˜ä½“ã€‚å‡è®¾ä¸€ä¸ªç”µå•†å›¢é˜Ÿæƒ³è¦æµ‹è¯•å•é¡µç»“è´¦æµç¨‹æ˜¯å¦æ¯”å¤šæ­¥éª¤å‘å¯¼è½¬åŒ–ç‡æ›´é«˜ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Server-side: Two completely different checkout experiences</span>
<span class="hljs-keyword">object</span> CheckoutExperiments {

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getCheckoutDocument</span><span class="hljs-params">(user: <span class="hljs-type">User</span>, cart: <span class="hljs-type">Cart</span>)</span></span>: ByteArray {
        <span class="hljs-keyword">val</span> variant = experimentService.getVariant(user.id, <span class="hljs-string">"checkout-flow"</span>)

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> (variant) {
            <span class="hljs-string">"single-page"</span> -&gt; captureSinglePageCheckout(cart)
            <span class="hljs-string">"multi-step"</span> -&gt; captureMultiStepCheckout(cart)
            <span class="hljs-string">"express"</span> -&gt; captureExpressCheckout(cart)  <span class="hljs-comment">// New variant added without app update</span>
            <span class="hljs-keyword">else</span> -&gt; captureSinglePageCheckout(cart)
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">captureSinglePageCheckout</span><span class="hljs-params">(cart: <span class="hljs-type">Cart</span>)</span></span>: ByteArray {
        <span class="hljs-keyword">return</span> captureRemoteDocument(context, displayInfo, profile) {
            SinglePageCheckout(
                cart = cart,
                onPlaceOrder = { namedAction(<span class="hljs-string">"placeOrder"</span>, cart.id) },
                onUpdateQuantity = { itemId, qty -&gt;
                    namedAction(<span class="hljs-string">"updateQuantity"</span>, <span class="hljs-string">"<span class="hljs-variable">$itemId</span>:<span class="hljs-variable">$qty</span>"</span>)
                }
            )
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">captureMultiStepCheckout</span><span class="hljs-params">(cart: <span class="hljs-type">Cart</span>)</span></span>: ByteArray {
        <span class="hljs-keyword">return</span> captureRemoteDocument(context, displayInfo, profile) {
            MultiStepCheckout(
                cart = cart,
                steps = listOf(<span class="hljs-string">"Shipping"</span>, <span class="hljs-string">"Payment"</span>, <span class="hljs-string">"Review"</span>),
                onComplete = { namedAction(<span class="hljs-string">"placeOrder"</span>, cart.id) }
            )
        }
    }
}
</code></pre>
<p>å®¢æˆ·ç«¯å®Œå…¨ä¸çŸ¥é“æ˜¾ç¤ºçš„æ˜¯å“ªä¸ªç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Client-side: Completely agnostic to which variant is shown</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">CheckoutScreen</span><span class="hljs-params">(viewModel: <span class="hljs-type">CheckoutViewModel</span>)</span></span> {
    <span class="hljs-keyword">val</span> document <span class="hljs-keyword">by</span> viewModel.checkoutDocument.collectAsState()

    document?.let { doc -&gt;
        RemoteDocumentPlayer(
            document = doc,
            onNamedAction = { name, value, stateUpdater -&gt;
                <span class="hljs-keyword">when</span> (name) {
                    <span class="hljs-string">"placeOrder"</span> -&gt; viewModel.placeOrder(value)
                    <span class="hljs-string">"updateQuantity"</span> -&gt; {
                        <span class="hljs-keyword">val</span> (itemId, qty) = value.split(<span class="hljs-string">":"</span>)
                        viewModel.updateQuantity(itemId, qty.toInt())
                    }
                }
            }
        )
    }
}
</code></pre>
<p>ç»“æœå³æ—¶ä¸”å®æ—¶ï¼Œè¿™æ„å‘³ç€æ— éœ€ç­‰å¾…åº”ç”¨å•†åº—å®¡æ ¸æˆ–ç”¨æˆ·åé¦ˆã€‚ä½ ç”šè‡³å¯ä»¥æ·»åŠ å…¨æ–°çš„ç‰ˆæœ¬ï¼Œä¾‹å¦‚â€œå¿«é€Ÿç»“è´¦â€ï¼Œè€Œæ— éœ€å¯¹å®¢æˆ·ç«¯è¿›è¡Œä»»ä½•æ›´æ”¹ã€‚å®éªŒä¼šæŒç»­è¿è¡Œï¼Œç›´åˆ°è·å¾—ç»Ÿè®¡å­¦æ„ä¹‰ä¸Šçš„æ˜¾è‘—æ€§ï¼Œç„¶åå°†è·èƒœç‰ˆæœ¬æ¨å¹¿åˆ°æ‰€æœ‰ç”¨æˆ·ï¼ŒåŒæ ·æ— éœ€å‘å¸ƒæ–°åº”ç”¨ã€‚</p>
<h3 data-id="heading-6">å®æ—¶å†…å®¹æ›´æ–°</h3>
<p>å†…å®¹å¯†é›†å‹åº”ç”¨å¸¸å¸¸éœ€è¦åœ¨åŸç”Ÿæ€§èƒ½å’Œå†…å®¹æ–°é²œåº¦ä¹‹é—´å¯»æ±‚å¹³è¡¡ã€‚ä»¥æ–°é—»åº”ç”¨ä¸ºä¾‹ï¼šæ–‡ç« éœ€è¦ä¸°å¯Œçš„æ ¼å¼ã€åµŒå…¥å¼åª’ä½“å’Œäº¤äº’å…ƒç´ ï¼Œä½†åŒæ—¶ä¹Ÿéœ€è¦éšç€æ–°é—»äº‹ä»¶çš„è¿›å±•å®æ—¶æ›´æ–°ã€‚</p>
<p>ä¸€å®¶æŠ¥é“é‡å¤§äº‹ä»¶çš„æ–°é—»æœºæ„éœ€è¦å®æ—¶æ›´æ–°æ–‡ç« å¸ƒå±€ã€‚ç¼–è¾‘å›¢é˜Ÿå¯ä»¥æ ¹æ®æ–°é—»äº‹ä»¶çš„è¿›å±•è°ƒæ•´å¸ƒå±€ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Server-side: Editorial team can update layout as story develops</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ArticleLayoutService</span> {

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getArticleDocument</span><span class="hljs-params">(article: <span class="hljs-type">Article</span>)</span></span>: ByteArray {
        <span class="hljs-keyword">return</span> captureRemoteDocument(context, displayInfo, profile) {
            ArticleLayout(article)
        }
    }

    <span class="hljs-meta">@Composable</span>
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ArticleLayout</span><span class="hljs-params">(article: <span class="hljs-type">Article</span>)</span></span> {
        Column(modifier = RemoteModifier.fillMaxSize().padding(<span class="hljs-number">16.</span>dp)) {
            <span class="hljs-comment">// Breaking news banner - can be added/removed instantly</span>
            <span class="hljs-keyword">if</span> (article.isBreaking) {
                BreakingNewsBanner(
                    modifier = RemoteModifier.fillMaxWidth()
                )
            }

            <span class="hljs-comment">// Headline with dynamic styling</span>
            Text(
                text = article.headline,
                style = <span class="hljs-keyword">if</span> (article.isBreaking) {
                    HeadlineStyle.Breaking
                } <span class="hljs-keyword">else</span> {
                    HeadlineStyle.Standard
                }
            )

            <span class="hljs-comment">// Live updates indicator</span>
            <span class="hljs-keyword">if</span> (article.hasLiveUpdates) {
                LiveUpdatesIndicator(
                    lastUpdate = article.lastUpdate,
                    modifier = RemoteModifier.clickable {
                        namedAction(<span class="hljs-string">"refreshArticle"</span>, article.id)
                    }
                )
            }

            <span class="hljs-comment">// Rich content blocks - can include any Compose UI</span>
            article.contentBlocks.forEach { block -&gt;
                <span class="hljs-keyword">when</span> (block) {
                    <span class="hljs-keyword">is</span> TextBlock -&gt; ArticleText(block)
                    <span class="hljs-keyword">is</span> ImageBlock -&gt; ArticleImage(block)
                    <span class="hljs-keyword">is</span> VideoBlock -&gt; VideoEmbed(block)
                    <span class="hljs-keyword">is</span> LiveBlogBlock -&gt; LiveBlogTimeline(block)
                    <span class="hljs-keyword">is</span> InteractiveChartBlock -&gt; DataVisualization(block)
                    <span class="hljs-keyword">is</span> PullQuoteBlock -&gt; PullQuote(block)
                }
            }

            <span class="hljs-comment">// Related articles - layout can be A/B tested</span>
            RelatedArticles(
                articles = article.relatedArticles,
                onArticleClick = { namedAction(<span class="hljs-string">"openArticle"</span>, it.id) }
            )
        }
    }
}
</code></pre>
<p>å®¢æˆ·ç«¯åªéœ€æ¸²æŸ“æœåŠ¡å™¨æä¾›çš„ä»»ä½•å¸ƒå±€ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Client-side: Renders whatever layout the server sends</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ArticleScreen</span><span class="hljs-params">(articleId: <span class="hljs-type">String</span>, viewModel: <span class="hljs-type">ArticleViewModel</span>)</span></span> {
    <span class="hljs-keyword">val</span> document <span class="hljs-keyword">by</span> viewModel.articleDocument.collectAsState()
    <span class="hljs-keyword">val</span> refreshing <span class="hljs-keyword">by</span> viewModel.isRefreshing.collectAsState()

    SwipeRefresh(
        state = rememberSwipeRefreshState(refreshing),
        onRefresh = { viewModel.refresh() }
    ) {
        document?.let { doc -&gt;
            RemoteDocumentPlayer(
                document = doc,
                onNamedAction = { name, value, _ -&gt;
                    <span class="hljs-keyword">when</span> (name) {
                        <span class="hljs-string">"openArticle"</span> -&gt; navController.navigate(<span class="hljs-string">"article/<span class="hljs-variable">$value</span>"</span>)
                        <span class="hljs-string">"refreshArticle"</span> -&gt; viewModel.refresh()
                        <span class="hljs-string">"playVideo"</span> -&gt; videoPlayer.play(value)
                    }
                }
            )
        }
    }
}
</code></pre>
<p>ä½ çš„å›¢é˜Ÿæ— éœ€ä¿®æ”¹åº”ç”¨å³å¯æ›´æ–°æ–‡ç« å¸ƒå±€ï¼Œæ·»åŠ å®æ—¶åšå®¢æ—¶é—´çº¿ã€åµŒå…¥äº¤äº’å¼å›¾è¡¨å’Œæ›´æ”¹å­—ä½“ã€‚å½“æ–°é—»äº‹ä»¶æœ‰è¿›å±•æ—¶ï¼Œä»–ä»¬å¯ä»¥ç«‹å³åœ¨æ‰€æœ‰ç›¸å…³æ–‡ç« ä¸Šæ·»åŠ â€œçªå‘æ–°é—»â€æ¨ªå¹…ã€‚</p>
<h3 data-id="heading-7">é¿å…ä»£ç è†¨èƒ€çš„åŠŸèƒ½æ ‡å¿—</h3>
<p>ä¼ ç»Ÿçš„åŠŸèƒ½æ ‡å¿—éœ€è¦å°†æ‰€æœ‰å˜ä½“éƒ½åŒ…å«åœ¨äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Traditional approach - all code ships, even unused variations</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">HomeScreen</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">when</span> {
        featureFlags.newHomeV3 -&gt; NewHomeLayoutV3()  <span class="hljs-comment">// Ships always</span>
        featureFlags.newHomeV2 -&gt; NewHomeLayoutV2()  <span class="hljs-comment">// Ships always</span>
        <span class="hljs-keyword">else</span> -&gt; OldHomeLayout()

        <span class="hljs-comment">// Ships always</span>
    }
}
</code></pre>
<p>è¿™ä¼šå¸¦æ¥å‡ ä¸ªé—®é¢˜ã€‚äºŒè¿›åˆ¶æ–‡ä»¶ä¼šå› ä¸ºåŒ…å«æ‰€æœ‰å˜ä½“è€Œå¢åŠ åº”ç”¨ç¨‹åºçš„å¤§å°ã€‚å³ä½¿æœªä½¿ç”¨ï¼Œä¹Ÿä¼šåŒ…å«æ— ç”¨ä»£ç ã€‚å½“åŠŸèƒ½æ ‡å¿—é…ç½®é”™è¯¯æ—¶ï¼Œå¯èƒ½ä¼šæš´éœ²æœªå‘å¸ƒçš„åŠŸèƒ½ï¼Œä»è€Œå¸¦æ¥å®‰å…¨é£é™©ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œæ—§çš„å˜ä½“ä¸æ–­ç´¯ç§¯ï¼Œå¯¼è‡´æŠ€æœ¯å€ºåŠ¡ä¸æ–­å¢åŠ ã€‚</p>
<p>ä½¿ç”¨ RemoteComposeï¼Œåªä¼šä¼ è¾“å½“å‰æ¿€æ´»çš„å˜ä½“ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Server-side: Only the active variation exists on the server</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">HomeScreenService</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getHomeDocument</span><span class="hljs-params">(user: <span class="hljs-type">User</span>)</span></span>: ByteArray {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> (featureFlags.getHomeVariant(user)) {
            <span class="hljs-string">"v3"</span> -&gt; captureHomeV3(user)
            <span class="hljs-string">"v2"</span> -&gt; captureHomeV2(user)
            <span class="hljs-keyword">else</span> -&gt; captureHomeDefault(user)
        }
    }
}

<span class="hljs-comment">// Client-side: No conditional code, no dead code</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">HomeScreen</span><span class="hljs-params">(document: <span class="hljs-type">CoreDocument</span>)</span></span> {
    RemoteDocumentPlayer(document = document)
    <span class="hljs-comment">// That's it. No feature flags, no conditionals.</span>
}
</code></pre>
<p>è¿™æ¶ˆé™¤äº†äºŒè¿›åˆ¶æ–‡ä»¶è†¨èƒ€ï¼Œå› ä¸ºä¸ä¼šä¼ è¾“æ—§çš„å˜ä½“ï¼›ç”±äºåªå­˜åœ¨æœåŠ¡å™¨ç«¯ä»£ç ï¼Œå› æ­¤æ¶ˆé™¤äº†æ— ç”¨ä»£ç ï¼›å¹¶ä¸”ç”±äºé…ç½®é”™è¯¯åªä¼šæ˜¾ç¤ºä¸åŒçš„ UI è€Œä¸æ˜¯æœªå‘å¸ƒçš„ä»£ç ï¼Œå› æ­¤é™ä½äº†å®‰å…¨é£é™©ã€‚</p>
<p>è®¾æƒ³ä¸€ä¸ªç¤¾äº¤åª’ä½“åº”ç”¨æ­£åœ¨é€æ­¥é‡æ–°è®¾è®¡å…¶ä¿¡æ¯æµï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Server-side: Complete control over who sees what</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">FeedLayoutService</span> {

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getFeedDocument</span><span class="hljs-params">(user: <span class="hljs-type">User</span>, posts: <span class="hljs-type">List</span>&lt;<span class="hljs-type">Post</span>&gt;)</span></span>: ByteArray {
        <span class="hljs-keyword">val</span> variant = rolloutService.getFeedVariant(user)

        <span class="hljs-keyword">return</span> captureRemoteDocument(context, displayInfo, profile) {
            <span class="hljs-keyword">when</span> (variant) {
                FeedVariant.NEW_DESIGN -&gt; NewFeedLayout(posts)
                FeedVariant.NEW_DESIGN_COMPACT -&gt; NewFeedCompactLayout(posts)
                FeedVariant.CLASSIC -&gt; ClassicFeedLayout(posts)
            }
        }
    }
}

<span class="hljs-comment">// Rollout service controls the percentage</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">RolloutService</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getFeedVariant</span><span class="hljs-params">(user: <span class="hljs-type">User</span>)</span></span>: FeedVariant {
        <span class="hljs-comment">// 5% get new design, 5% get compact variant, 90% get classic</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> {
            user.id.hashCode() % <span class="hljs-number">100</span> &lt; <span class="hljs-number">5</span> -&gt; FeedVariant.NEW_DESIGN
            user.id.hashCode() % <span class="hljs-number">100</span> &lt; <span class="hljs-number">10</span> -&gt; FeedVariant.NEW_DESIGN_COMPACT
            <span class="hljs-keyword">else</span> -&gt; FeedVariant.CLASSIC
        }
    }

    <span class="hljs-comment">// Instant rollback if issues are detected</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">emergencyRollback</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// All users immediately get classic layout</span>
        <span class="hljs-comment">// No app update needed</span>
    }
}
</code></pre>
<p>å¦‚æœæ–°è®¾è®¡å¯¼è‡´é—®é¢˜ï¼ˆä¾‹å¦‚å´©æºƒã€ç”¨æˆ·äº’åŠ¨åº¦ä¸‹é™æˆ–ç”¨æˆ·æŠ•è¯‰ï¼‰ï¼Œå¯ä»¥ç«‹å³å›æ»šã€‚åªéœ€æ›´æ”¹æœåŠ¡å™¨é…ç½®å³å¯ã€‚æ— éœ€ç´§æ€¥å‘å¸ƒåº”ç”¨ã€‚</p>
<h3 data-id="heading-8">è·¨å¹³å°ä¸€è‡´æ€§</h3>
<p>RemoteCompose çš„æ–‡æ¡£æ ¼å¼ä¸å¹³å°æ— å…³ã€‚åŒä¸€æ–‡æ¡£å¯ä»¥åœ¨æ‰‹æœºã€å¹³æ¿ç”µè„‘ã€æŠ˜å å±è®¾å¤‡å’Œ Wear OS è®¾å¤‡ä¸Šæ¸²æŸ“ï¼Œå¹¶ç”±ç›¸åº”çš„å¹³å°æ’­æ”¾å™¨è´Ÿè´£æ¸²æŸ“ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">Creation (Server/Backend)  
    â†“  
RemoteComposeBuffer (Platform-independent binary format)  
    â†“  
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  
â”‚

â”‚
â†“

â†“

â†“

â†“
Android Phone

Android Tablet

Foldable Device

Wear OS
(Compose Player) (Compose Player)  (Compose Player)   (Wear Player)
</code></pre>
<p>å‡è®¾ä¸€æ¬¾å¥èº«åº”ç”¨åœ¨æ‰‹æœºå’Œæ‰‹è¡¨åº”ç”¨ä¸Šéƒ½æ˜¾ç¤ºé”»ç‚¼æ€»ç»“ã€‚ç›¸åŒçš„æ•°æ®ä¼šé’ˆå¯¹ä¸åŒçš„è®¾å¤‡å°ºå¯¸è¿›è¡Œä¼˜åŒ–ï¼Œå‘ˆç°ä¸åŒçš„å†…å®¹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Server-side: Same data, different presentations</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">WorkoutSummaryService</span> {

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getPhoneDocument</span><span class="hljs-params">(workout: <span class="hljs-type">Workout</span>)</span></span>: ByteArray {
        <span class="hljs-keyword">return</span> captureRemoteDocument(context, phoneDisplayInfo, profile) {
            PhoneWorkoutSummary(workout)  <span class="hljs-comment">// Full detailed view</span>
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getWatchDocument</span><span class="hljs-params">(workout: <span class="hljs-type">Workout</span>)</span></span>: ByteArray {
        <span class="hljs-keyword">return</span> captureRemoteDocument(context, watchDisplayInfo, profile) {
            WatchWorkoutSummary(workout)  <span class="hljs-comment">// Glanceable summary</span>
        }
    }

    <span class="hljs-meta">@Composable</span>
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">PhoneWorkoutSummary</span><span class="hljs-params">(workout: <span class="hljs-type">Workout</span>)</span></span> {
        Column {
            WorkoutHeader(workout)
            HeartRateChart(workout.heartRateData)
            PaceChart(workout.paceData)
            SplitsTable(workout.splits)
            MapView(workout.route)
            ShareButton { namedAction(<span class="hljs-string">"share"</span>, workout.id) }
        }
    }

    <span class="hljs-meta">@Composable</span>
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">WatchWorkoutSummary</span><span class="hljs-params">(workout: <span class="hljs-type">Workout</span>)</span></span> {
        <span class="hljs-comment">// Optimized for small screen</span>
        Column(modifier = RemoteModifier.fillMaxSize()) {
            Text(workout.type, style = WatchTypography.Title)
            Row {
                StatBox(<span class="hljs-string">"Duration"</span>, workout.duration)
                StatBox(<span class="hljs-string">"Distance"</span>, workout.distance)
            }
            MiniHeartRateIndicator(workout.avgHeartRate)
        }
    }
}
</code></pre>
<p>ä¸¤æ¬¾è®¾å¤‡éƒ½æ˜¾ç¤ºé”»ç‚¼æ•°æ®ï¼Œä½†å¸ƒå±€é’ˆå¯¹å„è‡ªçš„è®¾å¤‡å°ºå¯¸è¿›è¡Œäº†ä¼˜åŒ–ã€‚ä»»ä¸€å¸ƒå±€çš„æ›´æ–°éƒ½ä¼šç«‹å³ç”Ÿæ•ˆï¼Œæ— éœ€åœ¨ä»»ä¸€å¹³å°ä¸Šæ›´æ–°åº”ç”¨ã€‚</p>
<h3 data-id="heading-9">ç¼©çŸ­å‘å¸ƒå‘¨æœŸ</h3>
<p>æœ€æ˜¾è‘—çš„ä¼˜åŠ¿åœ¨äºè¿è¥å±‚é¢ï¼šUI æ›´æ”¹ä¸å†éœ€è¦å‘å¸ƒåº”ç”¨ã€‚è€ƒè™‘ä¸€ä¸‹ç®€å• UI è°ƒæ•´çš„å¼€å‘å‘¨æœŸã€‚</p>
<p>ä¼ ç»Ÿæ–¹æ³•å¤§çº¦éœ€è¦ä¸¤åˆ°å››å‘¨ã€‚ç¬¬ä¸€å¤©å’Œç¬¬äºŒå¤©æ˜¯å¼€å‘äººå‘˜å®ç°ã€‚ç¬¬ä¸‰å¤©å’Œç¬¬å››å¤©ç”¨äºä»£ç å®¡æŸ¥å’Œä¿®æ”¹ã€‚ç¬¬äº”å¤©åˆ°ç¬¬ä¸ƒå¤©ç”¨äºè´¨é‡ä¿è¯æµ‹è¯•ã€‚ç¬¬å…«å¤©å’Œç¬¬ä¹å¤©å¤„ç†å‘å¸ƒå‡†å¤‡å’Œåº”ç”¨å•†åº—æäº¤ã€‚ç¬¬åå¤©åˆ°ç¬¬åå››å¤©ï¼šç­‰å¾…åº”ç”¨å•†åº—å®¡æ ¸ã€‚ç¬¬åäº”å¤©åˆ°ç¬¬ä¸‰åå¤©ç”¨æˆ·é€æ­¥é‡‡ç”¨ï¼Œé€šå¸¸ä¸¤å‘¨å†…ä¼šæœ‰ 50% åˆ° 70% çš„ç”¨æˆ·æ›´æ–°ã€‚å¤§å¤šæ•°ç”¨æˆ·åœ¨ä¸¤åˆ°å››å‘¨å†…ä¸ä¼šçœ‹åˆ°å˜åŒ–ã€‚</p>
<p>RemoteCompose æ–¹æ³•åªéœ€ä¸€åˆ°ä¸¤å¤©å³å¯å®Œæˆã€‚ç¬¬ä¸€å¤©å’Œç¬¬äºŒå¤©æ˜¯å¼€å‘äººå‘˜åœ¨æœåŠ¡å™¨ç«¯å®ç°ã€‚éƒ¨ç½²åªéœ€å‡ åˆ†é’Ÿã€‚æ‰€æœ‰ç”¨æˆ·éƒ½èƒ½ç«‹å³çœ‹åˆ°å˜åŒ–ã€‚</p>
<p>è¿™ç§é€Ÿåº¦ä¼˜åŠ¿å¯¹äºèŠ‚å‡æ—¥ä¿ƒé”€æ´»åŠ¨è‡³å…³é‡è¦ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦åœ¨å½“å¤©éƒ¨ç½²å­£èŠ‚æ€§ä¸»é¢˜ï¼›å¯¹äºæœåŠ¡ä¸­æ–­çš„ç´§æ€¥æ¶ˆæ¯ï¼Œä½ å¯ä»¥å³æ—¶æ›´æ–° UIï¼›å¯¹äºå¿«é€Ÿè¿­ä»£ï¼Œä½ å¯ä»¥å¿«é€Ÿæµ‹è¯•æƒ³æ³•å¹¶å¿«é€Ÿå¤±è´¥ï¼›å¯¹äºç«äº‰å“åº”ï¼Œä½ å¯ä»¥ä»¥å°æ—¶è€Œä¸æ˜¯å‡ å‘¨çš„æ—¶é—´å¯¹å¸‚åœºå˜åŒ–åšå‡ºååº”ã€‚</p>
<p>ä»¥ä¸€ä¸ªå‡†å¤‡è¿æ¥é»‘è‰²æ˜ŸæœŸäº”çš„ç”µå•†åº”ç”¨ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Traditional approach: Ship all variations weeks in advance</span>
<span class="hljs-comment">// Problem: All promotional code ships weeks early</span>
<span class="hljs-comment">// Risk: Date logic bugs could show promotions early</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">HomeScreen</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> today = LocalDate.now()
    <span class="hljs-keyword">when</span> {
        today == BlackFriday -&gt; BlackFridayHome()

        <span class="hljs-comment">// Must ship by Oct 15</span>
        today <span class="hljs-keyword">in</span> BlackFridayWeek -&gt; BlackFridayWeekHome()   <span class="hljs-comment">// Must ship by Oct 15</span>
        today == CyberMonday -&gt; CyberMondayHome()

        <span class="hljs-comment">// Must ship by Oct 15</span>
        <span class="hljs-keyword">else</span> -&gt; RegularHome()
    }
}

<span class="hljs-comment">// Remote approach: Deploy each promotion on the exact day</span>
<span class="hljs-comment">// Benefit: Each promotion deploys on the exact minute needed</span>
<span class="hljs-comment">// Flexibility: Can react to competitor moves in real-time</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">HomeScreenService</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getHomeDocument</span><span class="hljs-params">(user: <span class="hljs-type">User</span>)</span></span>: ByteArray {
        <span class="hljs-keyword">val</span> promotion = promotionService.getCurrentPromotion()

        <span class="hljs-keyword">return</span> captureRemoteDocument(context, displayInfo, profile) {
            <span class="hljs-keyword">when</span> (promotion) {
                <span class="hljs-keyword">is</span> BlackFridayPromotion -&gt; BlackFridayHome(promotion)
                <span class="hljs-keyword">is</span> CyberMondayPromotion -&gt; CyberMondayHome(promotion)
                <span class="hljs-keyword">is</span> FlashSale -&gt; FlashSaleHome(promotion)  <span class="hljs-comment">// Can add new types anytime</span>
                <span class="hljs-keyword">else</span> -&gt; RegularHome()
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-10">çŠ¶æ€ç®¡ç†ï¼šè¶…è¶Šé™æ€å¸ƒå±€</h3>
<p>RemoteCompose ä¸ä»…é™äºé™æ€å¸ƒå±€ã€‚è¯¥æ¡†æ¶åŒ…å«ä¸€ä¸ªçŠ¶æ€ç®¡ç†ç³»ç»Ÿï¼Œå¯ä»¥å®ç°äº¤äº’å¼ã€åŠ¨æ€çš„ UIã€‚</p>
<p><strong>è¿œç¨‹çŠ¶æ€å˜é‡</strong></p>
<p>çŠ¶æ€å¯ä»¥åµŒå…¥æ–‡æ¡£ä¸­ï¼Œå¹¶ç”±å®¢æˆ·ç«¯æ›´æ–°ã€‚è¿™ä½¿å¾—è¡¨å•ã€è®¡æ•°å™¨ã€åˆ‡æ¢å¼€å…³å’Œå…¶ä»–äº¤äº’å…ƒç´ æˆä¸ºå¯èƒ½ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Creation side: Define interactive widget</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">QuantitySelector</span><span class="hljs-params">(initialQuantity: <span class="hljs-type">Int</span>)</span></span> {
    <span class="hljs-keyword">var</span> quantity <span class="hljs-keyword">by</span> rememberRemoteState(<span class="hljs-string">"quantity"</span>, initialQuantity)

    Row(
        modifier = RemoteModifier.fillMaxWidth(),
        horizontalArrangement = Arrangement.SpaceBetween
    ) {
        IconButton(
            onClick = {
                <span class="hljs-keyword">if</span> (quantity &gt; <span class="hljs-number">1</span>) {
                    quantity--
                    namedAction(<span class="hljs-string">"quantityChanged"</span>, quantity.toString())
                }
            }
        ) {
            Icon(Icons.Minus)
        }

        Text(
            text = quantity.toString(),
            style = MaterialTheme.typography.headlineMedium
        )

        IconButton(
            onClick = {
                quantity++
                namedAction(<span class="hljs-string">"quantityChanged"</span>, quantity.toString())
            }
        ) {
            Icon(Icons.Plus)
        }
    }
}
</code></pre>
<p>æ’­æ”¾å™¨ç«¯é€šè¿‡æ“ä½œå›è°ƒå¤„ç†çŠ¶æ€æ›´æ–°ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Player side: Handle state updates</span>
RemoteDocumentPlayer(
    document = document,
    onNamedAction = { name, value, stateUpdater -&gt;
        <span class="hljs-keyword">when</span> (name) {
            <span class="hljs-string">"quantityChanged"</span> -&gt; {
                <span class="hljs-comment">// Update cart</span>
                cartManager.setQuantity(itemId, value.toInt())

                <span class="hljs-comment">// Optionally update remote state directly</span>
                stateUpdater.updateState { state -&gt;
                    state[<span class="hljs-string">"quantity"</span>] = RcInt(value.toInt())
                }
            }
        }
    }
)
</code></pre>
<p><strong>åŠ¨ç”»æ—¶é—´è·Ÿè¸ª</strong></p>
<p>æ’­æ”¾å™¨è·Ÿè¸ªåŠ¨ç”»æ—¶é—´å¹¶å°†å…¶ä¼ é€’ç»™æ–‡æ¡£ï¼Œä»è€Œæ— éœ€ä»»ä½•å®¢æˆ·ç«¯åŠ¨ç”»ä»£ç å³å¯å®ç°åŸºäºæ—¶é—´çš„åŠ¨ç”»ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Server side: Define animated elements</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">PulsingNotificationBadge</span><span class="hljs-params">(count: <span class="hljs-type">Int</span>)</span></span> {
    <span class="hljs-comment">// Scale pulses between 0.9 and 1.1 over 1 second</span>
    <span class="hljs-keyword">val</span> scale = FloatExpression(<span class="hljs-string">"0.9 + 0.2 * sin(time * 6.28)"</span>)

    <span class="hljs-comment">// Opacity pulses between 0.7 and 1.0</span>
    <span class="hljs-keyword">val</span> opacity = FloatExpression(<span class="hljs-string">"0.7 + 0.3 * sin(time * 6.28)"</span>)

    Box(
        modifier = RemoteModifier
            .scale(scale)
            .alpha(opacity)
            .background(Color.Red, CircleShape)
            .size(<span class="hljs-number">24.</span>dp)
    ) {
        Text(
            text = count.toString(),
            color = Color.White,
            modifier = RemoteModifier.align(Alignment.Center)
        )
    }
}

<span class="hljs-comment">// The player automatically:</span>
<span class="hljs-comment">// 1. Tracks elapsed time since document load</span>
<span class="hljs-comment">// 2. Evaluates expressions each frame</span>
<span class="hljs-comment">// 3. Updates visual properties</span>
<span class="hljs-comment">// No client animation code needed</span>
</code></pre>
<p>è¿™ä½¿å¾—å®Œå…¨åœ¨æ–‡æ¡£æ ¼å¼ä¸­å®šä¹‰çš„æµç•…ã€é«˜æ€§èƒ½åŠ¨ç”»æˆä¸ºå¯èƒ½ã€‚è¡¨è¾¾å¼æ”¯æŒè¯¸å¦‚ <code>sin</code>ã€<code>cos</code>ã€<code>lerp</code> å’Œ <code>clamp</code> ä¹‹ç±»çš„æ•°å­¦å‡½æ•°ï¼Œä»¥åŠç®—æœ¯è¿ç®—ç¬¦å’Œå˜é‡å¼•ç”¨ã€‚</p>
<p><strong>åŒå‘é€šä¿¡</strong></p>
<p>æ“ä½œç³»ç»Ÿæ”¯æŒæ–‡æ¡£ä¸å®¿ä¸»åº”ç”¨ä¹‹é—´çš„åŒå‘é€šä¿¡ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Document triggers actions for various purposes</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ProductDetailPage</span><span class="hljs-params">(product: <span class="hljs-type">Product</span>)</span></span> {
    Column {
        <span class="hljs-comment">// Analytics tracking</span>
        LaunchedEffect(<span class="hljs-built_in">Unit</span>) {
            namedAction(<span class="hljs-string">"analytics"</span>, <span class="hljs-string">"product_viewed:<span class="hljs-subst">${product.id}</span>"</span>)
        }

        ProductImage(product.imageUrl)

        <span class="hljs-comment">// Navigation action</span>
        TextButton(onClick = { namedAction(<span class="hljs-string">"navigate"</span>, <span class="hljs-string">"/reviews/<span class="hljs-subst">${product.id}</span>"</span>) }) {
            Text(<span class="hljs-string">"See all reviews"</span>)
        }

        <span class="hljs-comment">// Cart action with data</span>
        Button(onClick = { namedAction(<span class="hljs-string">"addToCart"</span>, product.id) }) {
            Text(<span class="hljs-string">"Add to Cart"</span>)
        }

        <span class="hljs-comment">// State update action</span>
        <span class="hljs-keyword">var</span> isFavorite <span class="hljs-keyword">by</span> rememberRemoteState(<span class="hljs-string">"favorite"</span>, product.isFavorite)
        IconButton(
            onClick = {
                isFavorite = !isFavorite
                namedAction(<span class="hljs-string">"toggleFavorite"</span>, <span class="hljs-string">"<span class="hljs-subst">${product.id}</span>:<span class="hljs-variable">$isFavorite</span>"</span>)
            }
        ) {
            Icon(<span class="hljs-keyword">if</span> (isFavorite) Icons.Filled.Favorite <span class="hljs-keyword">else</span> Icons.Outlined.Favorite)
        }
    }
}
</code></pre>
<p>å®¿ä¸»åº”ç”¨ç»Ÿä¸€å¤„ç†æ‰€æœ‰æ“ä½œï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Host app handles all actions uniformly</span>
RemoteDocumentPlayer(
    document = document,
    onNamedAction = { name, value, stateUpdater -&gt;
        <span class="hljs-keyword">when</span> (name) {
            <span class="hljs-string">"analytics"</span> -&gt; {
                <span class="hljs-keyword">val</span> (event, id) = value.split(<span class="hljs-string">":"</span>)
                analytics.logEvent(event, mapOf(<span class="hljs-string">"productId"</span> to id))
            }
            <span class="hljs-string">"navigate"</span> -&gt; navController.navigate(value)
            <span class="hljs-string">"addToCart"</span> -&gt; {
                cartManager.add(value)
                <span class="hljs-comment">// Update UI to show confirmation</span>
                stateUpdater.updateState { state -&gt;
                    state[<span class="hljs-string">"cartCount"</span>] = RcInt((state[<span class="hljs-string">"cartCount"</span>] <span class="hljs-keyword">as</span>? RcInt)?.value?.plus(<span class="hljs-number">1</span>) ?: <span class="hljs-number">1</span>)
                }
            }
            <span class="hljs-string">"toggleFavorite"</span> -&gt; {
                <span class="hljs-keyword">val</span> (id, isFavorite) = value.split(<span class="hljs-string">":"</span>)
                favoritesManager.setFavorite(id, isFavorite.toBoolean())
            }
        }
    }
)
</code></pre>
<p>è¿™ç§åŒå‘é€šä¿¡æ„å‘³ç€è¿œç¨‹æ–‡æ¡£å¯ä»¥å®Œå…¨é›†æˆåˆ°ä½ åº”ç”¨çš„å¯¼èˆªã€åˆ†æã€çŠ¶æ€ç®¡ç†å’Œä¸šåŠ¡é€»è¾‘ä¸­ï¼Œè€Œæ–‡æ¡£æœ¬èº«æ— éœ€äº†è§£ä½ çš„å…·ä½“å®ç°ã€‚</p>
<h3 data-id="heading-11"><strong>å®é™…åº”ç”¨æ¶æ„æ¨¡å¼</strong></h3>
<p>è®©æˆ‘ä»¬æ¥æ¢è®¨ä¸€ä¸‹ RemoteCompose å¦‚ä½•èå…¥å®é™…åº”ç”¨æ¶æ„ã€‚</p>
<p><strong>æ¨¡å¼ 1ï¼šæ··åˆæ¶æ„ï¼ˆæ¨èï¼‰</strong></p>
<p>å¤§å¤šæ•°åº”ç”¨éƒ½èƒ½ä»æ··åˆæ¶æ„ä¸­è·ç›Šï¼šå…³é”®é¡µé¢ä½¿ç”¨æœ¬åœ° Compose ä»£ç æ„å»ºï¼Œè€ŒåŠ¨æ€å†…å®¹åŒºåŸŸåˆ™ä½¿ç”¨ RemoteComposeã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Navigation: Local Compose (fast, reliable)</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">AppNavigation</span><span class="hljs-params">()</span></span> {
    NavHost(navController, startDestination = <span class="hljs-string">"home"</span>) {
        composable(<span class="hljs-string">"home"</span>) { HomeScreen() }
        composable(<span class="hljs-string">"product/{id}"</span>) { ProductScreen(it.arguments?.getString(<span class="hljs-string">"id"</span>)) }
        composable(<span class="hljs-string">"cart"</span>) { CartScreen() }
        composable(<span class="hljs-string">"checkout"</span>) { CheckoutScreen() }
    }
}

<span class="hljs-comment">// Home screen: Remote (marketing can update freely)</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">HomeScreen</span><span class="hljs-params">(viewModel: <span class="hljs-type">HomeViewModel</span> = hiltViewModel()</span></span>) {
    <span class="hljs-keyword">val</span> document <span class="hljs-keyword">by</span> viewModel.homeDocument.collectAsState()

    <span class="hljs-keyword">when</span> (<span class="hljs-keyword">val</span> state = document) {
        <span class="hljs-keyword">is</span> Loading -&gt; LoadingIndicator()
        <span class="hljs-keyword">is</span> Success -&gt; RemoteDocumentPlayer(
            document = state.document,
            onNamedAction = { name, value, _ -&gt; handleAction(name, value) }
        )
        <span class="hljs-keyword">is</span> Error -&gt; LocalFallbackHome()  <span class="hljs-comment">// Graceful degradation</span>
    }
}

<span class="hljs-comment">// Product screen: Hybrid (shell is local, content is remote)</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ProductScreen</span><span class="hljs-params">(productId: <span class="hljs-type">String</span>, viewModel: <span class="hljs-type">ProductViewModel</span> = hiltViewModel()</span></span>) {
    <span class="hljs-keyword">val</span> product <span class="hljs-keyword">by</span> viewModel.product.collectAsState()
    <span class="hljs-keyword">val</span> contentDocument <span class="hljs-keyword">by</span> viewModel.contentDocument.collectAsState()

    Scaffold(
        topBar = { ProductTopBar(product) },  <span class="hljs-comment">// Local: consistent navigation</span>
        bottomBar = { AddToCartBar(product) } <span class="hljs-comment">// Local: critical purchase flow</span>
    ) { padding -&gt;
        <span class="hljs-comment">// Remote: Rich product content, can be A/B tested</span>
        contentDocument?.let { doc -&gt;
            RemoteDocumentPlayer(
                document = doc,
                modifier = Modifier.padding(padding)
            )
        }
    }
}
</code></pre>
<p><strong>æ¨¡å¼ 2ï¼šæ–‡æ¡£ç¼“å­˜ä»¥å®ç°ç¦»çº¿æ”¯æŒ</strong></p>
<p>è¿œç¨‹æ–‡æ¡£å¯ä»¥ç¼“å­˜ä»¥ä¾›ç¦»çº¿è®¿é—®ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DocumentRepository</span> <span class="hljs-meta">@Inject</span> <span class="hljs-keyword">constructor</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> api: DocumentApi,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> cache: DocumentCache,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> connectivity: ConnectivityManager
) {
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getDocument</span><span class="hljs-params">(key: <span class="hljs-type">String</span>)</span></span>: CoreDocument {
        <span class="hljs-comment">// Try cache first</span>
        cache.<span class="hljs-keyword">get</span>(key)?.let { cached -&gt;
            <span class="hljs-comment">// Return cached immediately, refresh in background</span>
            refreshInBackground(key)
            <span class="hljs-keyword">return</span> cached
        }

        <span class="hljs-comment">// No cache, must fetch</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> (connectivity.isConnected) {
            fetchAndCache(key)
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">throw</span> OfflineException(<span class="hljs-string">"No cached document and no connectivity"</span>)
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetchAndCache</span><span class="hljs-params">(key: <span class="hljs-type">String</span>)</span></span>: CoreDocument {
        <span class="hljs-keyword">val</span> bytes = api.fetchDocument(key)
        <span class="hljs-keyword">val</span> document = RemoteComposeBuffer.deserialize(bytes)
        cache.store(key, document, ttl = <span class="hljs-number">1.</span>hours)
        <span class="hljs-keyword">return</span> document
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">refreshInBackground</span><span class="hljs-params">(key: <span class="hljs-type">String</span>)</span></span> {
        scope.launch {
            <span class="hljs-keyword">try</span> {
                fetchAndCache(key)
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                <span class="hljs-comment">// Silent failure, cached version is still valid</span>
                Log.w(TAG, <span class="hljs-string">"Background refresh failed"</span>, e)
            }
        }
    }
}
</code></pre>
<p><strong>æ¨¡å¼ 3ï¼šæ–‡æ¡£é¢„åŠ è½½ä»¥å®ç°æµç•…å¯¼èˆª</strong></p>
<p>é¢„åŠ è½½ç”¨æˆ·å¯èƒ½è®¿é—®çš„é¡µé¢çš„æ–‡æ¡£ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DocumentPreloader</span> <span class="hljs-meta">@Inject</span> <span class="hljs-keyword">constructor</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> repository: DocumentRepository
) {
    <span class="hljs-comment">// Preload when user enters a screen</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">preloadForScreen</span><span class="hljs-params">(screen: <span class="hljs-type">Screen</span>)</span></span> {
        <span class="hljs-keyword">val</span> keysToPreload = <span class="hljs-keyword">when</span> (screen) {
            <span class="hljs-keyword">is</span> HomeScreen -&gt; listOf(<span class="hljs-string">"featured"</span>, <span class="hljs-string">"categories"</span>, <span class="hljs-string">"promotions"</span>)
            <span class="hljs-keyword">is</span> CategoryScreen -&gt; screen.subcategories.map { <span class="hljs-string">"category_<span class="hljs-subst">${it.id}</span>"</span> }
            <span class="hljs-keyword">is</span> ProductScreen -&gt; listOf(<span class="hljs-string">"reviews_<span class="hljs-subst">${screen.productId}</span>"</span>, <span class="hljs-string">"related_<span class="hljs-subst">${screen.productId}</span>"</span>)
            <span class="hljs-keyword">else</span> -&gt; emptyList()
        }

        keysToPreload.forEach { key -&gt;
            scope.launch {
                <span class="hljs-keyword">try</span> {
                    repository.getDocument(key)  <span class="hljs-comment">// Caches for later</span>
                } <span class="hljs-keyword">catch</span> (e: Exception) {
                    <span class="hljs-comment">// Preload failure is not critical</span>
                }
            }
        }
    }
}

<span class="hljs-comment">// Usage in navigation</span>
navController.addOnDestinationChangedListener { _, destination, arguments -&gt;
    preloader.preloadForScreen(destination.toScreen(arguments))
}
</code></pre>
<h3 data-id="heading-12"><strong>ç»“è®º</strong></h3>
<p>RemoteCompose ä»£è¡¨äº†æˆ‘ä»¬å¯¹ Android UI å¼€å‘æ€ç»´æ–¹å¼çš„ä¸€æ¬¡èŒƒå¼è½¬å˜ã€‚é€šè¿‡å°† Compose å¸ƒå±€è½¬æ¢ä¸ºå¯ç§»æ¤æ–‡æ¡£æ ¼å¼ï¼ŒRemoteCompose å®ç°äº†æœåŠ¡å™¨é©±åŠ¨çš„ UIã€å³æ—¶ A/B æµ‹è¯•ã€å®æ—¶å†…å®¹æ›´æ–°å’Œè·¨å¹³å°ä¸€è‡´æ€§ï¼ŒåŒæ—¶ä¿æŒäº†åŸç”Ÿæ¸²æŸ“æ€§èƒ½ã€‚</p>
<p>è¯¥æ¡†æ¶æ‹¥æœ‰åŒ…å« 93 ç§ä»¥ä¸Šæ“ä½œçš„å…¨é¢æ“ä½œæ¨¡å‹ï¼Œå……åˆ†å±•ç°äº† Compose çš„è¡¨è¾¾èƒ½åŠ›ï¼ŒåŒ…æ‹¬åŠ¨ç”»ã€çŠ¶æ€å’Œäº¤äº’ã€‚åˆ›å»ºå’Œæ’­æ”¾çš„åˆ†ç¦»ä½¿å¾—éƒ¨ç½²æ¶æ„æ›´åŠ çµæ´»ï¼šåœ¨åç«¯ç”Ÿæˆå…·æœ‰å®Œæ•´ Compose è¡¨è¾¾èƒ½åŠ›çš„æ–‡æ¡£ï¼Œé€šè¿‡ç°æœ‰åŸºç¡€æ¶æ„åˆ†å‘ï¼Œå¹¶åœ¨ä»»ä½• Android è®¾å¤‡ä¸Šè¿›è¡ŒåŸç”Ÿæ¸²æŸ“ã€‚</p>
<p>å…³é”®åœ¨äºæ‰¾åˆ°åˆé€‚çš„å¹³è¡¡ç‚¹ï¼šå¯¹äºåŠ¨æ€ã€é¢‘ç¹å˜åŒ–çš„å†…å®¹åŒºåŸŸï¼Œä½¿ç”¨ RemoteComposeï¼›åŒæ—¶å°†å…³é”®æµç¨‹ä¿ç•™åœ¨æœ¬åœ° Compose ä»£ç ä¸­ã€‚è¿™ç§æ··åˆæ–¹æ³•åœ¨éœ€è¦çµæ´»æ€§çš„åœ°æ–¹æä¾›æœåŠ¡å™¨é©±åŠ¨ UI çš„ä¼˜åŠ¿ï¼Œåœ¨éœ€è¦å¯é æ€§çš„åœ°æ–¹æä¾›ç¼–è¯‘ä»£ç çš„ä¼˜åŠ¿ã€‚</p>
<p>æ— è®ºä½ æ˜¯æ„å»ºéœ€è¦é¢‘ç¹æ›´æ–°å¸ƒå±€çš„å†…å®¹å¯†é›†å‹åº”ç”¨ã€éœ€è¦å¿«é€Ÿ A/B æµ‹è¯•çš„ç”µå­å•†åŠ¡å¹³å°ï¼Œè¿˜æ˜¯éœ€è¦å¿«é€Ÿè¿­ä»£çš„ä¼ä¸šçº§å·¥å…·ï¼ŒRemoteCompose éƒ½èƒ½ä¸ºçœŸæ­£åŠ¨æ€çš„ UI æä¾›æ¶æ„åŸºç¡€ã€‚è¯¥æ¡†æ¶å¤„ç†äº†åºåˆ—åŒ–ã€ä¼ è¾“å’Œæ¸²æŸ“çš„å¤æ‚æ€§ï¼Œå› æ­¤ä½ å¯ä»¥ä¸“æ³¨äºè®¾è®¡å“è¶Šçš„ç”¨æˆ·ä½“éªŒã€‚</p>
<p>ä½ å¯ä»¥è§‚çœ‹ä»–ä»¬æœ€è¿‘å…³äº<a href="https://link.juejin.cn?target=https%3A%2F%2Fspeakerdeck.com%2Fcamaelon%2Fintroducing-remotecompose-break-your-ui-out-of-the-app-sandbox" target="_blank" title="https://speakerdeck.com/camaelon/introducing-remotecompose-break-your-ui-out-of-the-app-sandbox" ref="nofollow noopener noreferrer">RemoteCompose ç®€ä»‹ï¼šå°†ä½ çš„ UI ä»åº”ç”¨ç¨‹åºæ²™ç›’ä¸­è§£æ”¾å‡ºæ¥</a>çš„æ¼”è®²ã€‚</p>
<blockquote>
<p>æ¬¢è¿æœç´¢å¹¶å…³æ³¨ <em>å…¬ä¼—å·<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fqrcode%3Fscene%3D10000004%26size%3D512%26__biz%3DMzU1MDg0NDczNA%3D%3D%26mid%3D2247484417%26idx%3D1%26sn%3D60c15f0d3c4be75e37748c2472a74102" target="_blank" title="https://mp.weixin.qq.com/mp/qrcode?scene=10000004&amp;size=512&amp;__biz=MzU1MDg0NDczNA==&amp;mid=2247484417&amp;idx=1&amp;sn=60c15f0d3c4be75e37748c2472a74102" ref="nofollow noopener noreferrer">ã€Œç¨€æœ‰çŒ¿è¯‰ã€</a></em> è·å–æ›´å¤šçš„ä¼˜è´¨æ–‡ç« ï¼</p>
<p>ä¿æŠ¤åŸåˆ›ï¼Œè¯·å‹¿è½¬è½½ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Redisï¼ˆ164ï¼‰å¦‚ä½•ä½¿ç”¨Rediså®ç°æ’è¡Œæ¦œï¼Ÿ]]></title>    <link>https://juejin.cn/post/7579889969985077299</link>    <guid>https://juejin.cn/post/7579889969985077299</guid>    <pubDate>2025-12-04T22:53:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579889969985077299" data-draft-id="7579832417748746291" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Redisï¼ˆ164ï¼‰å¦‚ä½•ä½¿ç”¨Rediså®ç°æ’è¡Œæ¦œï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-04T22:53:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Redisï¼ˆ164ï¼‰å¦‚ä½•ä½¿ç”¨Rediså®ç°æ’è¡Œæ¦œï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T22:53:39.000Z" title="Thu Dec 04 2025 22:53:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½¿ç”¨Rediså®ç°æ’è¡Œæ¦œæ˜¯ä¸€ç§å¸¸è§çš„åº”ç”¨åœºæ™¯ï¼ŒRedisçš„Sorted Setï¼ˆæœ‰åºé›†åˆï¼‰æ•°æ®ç»“æ„éå¸¸é€‚åˆç”¨äºè¿™ç§åœºæ™¯ã€‚Sorted Setèƒ½å¤Ÿæ ¹æ®æˆå‘˜çš„åˆ†æ•°è¿›è¡Œæ’åºï¼Œå¹¶ä¸”æä¾›äº†ä¸€ç³»åˆ—å‘½ä»¤æ¥æ“ä½œå’ŒæŸ¥è¯¢æ•°æ®ã€‚</p>
<h3 data-id="heading-0">1. åŸºæœ¬æ¦‚å¿µ</h3>
<p>Redisçš„Sorted Setæ˜¯ä¸€ç§å¸¦æœ‰åˆ†æ•°çš„é›†åˆï¼Œæ¯ä¸ªæˆå‘˜éƒ½æœ‰ä¸€ä¸ªå…³è”çš„åˆ†æ•°ï¼ŒRedisæ ¹æ®åˆ†æ•°å¯¹æˆå‘˜è¿›è¡Œæ’åºã€‚Sorted Setä¸­çš„æˆå‘˜æ˜¯å”¯ä¸€çš„ï¼Œä½†åˆ†æ•°å¯ä»¥é‡å¤ã€‚</p>
<h3 data-id="heading-1">2. å®ç°æ­¥éª¤</h3>
<h4 data-id="heading-2">2.1 æ·»åŠ æˆå‘˜å’Œåˆ†æ•°åˆ°æ’è¡Œæ¦œ</h4>
<p>å¯ä»¥ä½¿ç”¨<code>ZADD</code>å‘½ä»¤å°†æˆå‘˜å’Œåˆ†æ•°æ·»åŠ åˆ°Sorted Setä¸­ã€‚å¦‚æœæˆå‘˜å·²ç»å­˜åœ¨ï¼Œå°†æ›´æ–°å…¶åˆ†æ•°ã€‚</p>
<h4 data-id="heading-3">2.2 è·å–æ’è¡Œæ¦œçš„æ’å</h4>
<p>å¯ä»¥ä½¿ç”¨<code>ZRANK</code>å‘½ä»¤è¿”å›æˆå‘˜åœ¨æ’è¡Œæ¦œä¸­çš„æ’åï¼ˆä»0å¼€å§‹ï¼‰ã€‚</p>
<h4 data-id="heading-4">2.3 è·å–æ’è¡Œæ¦œä¸­çš„æˆå‘˜åŠå…¶åˆ†æ•°</h4>
<p>å¯ä»¥ä½¿ç”¨<code>ZRANGE</code>å‘½ä»¤è·å–æ’è¡Œæ¦œä¸­çš„æˆå‘˜ï¼Œå¹¶ä½¿ç”¨<code>WITHSCORES</code>é€‰é¡¹è·å–åˆ†æ•°ã€‚</p>
<h4 data-id="heading-5">2.4 è·å–æˆå‘˜çš„åˆ†æ•°</h4>
<p>å¯ä»¥ä½¿ç”¨<code>ZSCORE</code>å‘½ä»¤è·å–æˆå‘˜çš„åˆ†æ•°ã€‚</p>
<h4 data-id="heading-6">2.5 åˆ é™¤æˆå‘˜</h4>
<p>å¯ä»¥ä½¿ç”¨<code>ZREM</code>å‘½ä»¤ä»æ’è¡Œæ¦œä¸­åˆ é™¤æˆå‘˜ã€‚</p>
<h3 data-id="heading-7">3. ä»£ç ç¤ºä¾‹</h3>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªè¯¦ç»†çš„Javaä»£ç ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨Jedisåº“å®ç°ä¸€ä¸ªç®€å•çš„æ’è¡Œæ¦œã€‚</p>
<h4 data-id="heading-8">3.1 å¼•å…¥ä¾èµ–</h4>
<p>åœ¨Mavené¡¹ç›®ä¸­æ·»åŠ Jedisä¾èµ–ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>redis.clients<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jedis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h4 data-id="heading-9">3.2 æ·»åŠ æˆå‘˜åŠå…¶åˆ†æ•°</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisLeaderboardAdd</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è¿æ¥åˆ°æœ¬åœ°çš„RedisæœåŠ¡</span>
        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);

        <span class="hljs-type">String</span> <span class="hljs-variable">leaderboardKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"leaderboard"</span>;

        <span class="hljs-comment">// æ·»åŠ æˆå‘˜åŠå…¶åˆ†æ•°</span>
        jedis.zadd(leaderboardKey, <span class="hljs-number">100</span>, <span class="hljs-string">"user1"</span>);
        jedis.zadd(leaderboardKey, <span class="hljs-number">200</span>, <span class="hljs-string">"user2"</span>);
        jedis.zadd(leaderboardKey, <span class="hljs-number">150</span>, <span class="hljs-string">"user3"</span>);

        System.out.println(<span class="hljs-string">"Members added to leaderboard"</span>);

        jedis.close();
    }
}
</code></pre>
<h4 data-id="heading-10">3.3 è·å–æˆå‘˜çš„æ’å</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisLeaderboardRank</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è¿æ¥åˆ°æœ¬åœ°çš„RedisæœåŠ¡</span>
        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);

        <span class="hljs-type">String</span> <span class="hljs-variable">leaderboardKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"leaderboard"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">member</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user1"</span>;

        <span class="hljs-comment">// è·å–æˆå‘˜çš„æ’åï¼ˆä»0å¼€å§‹ï¼‰</span>
        <span class="hljs-type">Long</span> <span class="hljs-variable">rank</span> <span class="hljs-operator">=</span> jedis.zrank(leaderboardKey, member);
        System.out.println(<span class="hljs-string">"Rank of "</span> + member + <span class="hljs-string">": "</span> + rank);

        jedis.close();
    }
}
</code></pre>
<h4 data-id="heading-11">3.4 è·å–æ’è¡Œæ¦œä¸­çš„æˆå‘˜åŠå…¶åˆ†æ•°</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;
<span class="hljs-keyword">import</span> redis.clients.jedis.Tuple;

<span class="hljs-keyword">import</span> java.util.Set;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisLeaderboardGet</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è¿æ¥åˆ°æœ¬åœ°çš„RedisæœåŠ¡</span>
        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);

        <span class="hljs-type">String</span> <span class="hljs-variable">leaderboardKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"leaderboard"</span>;

        <span class="hljs-comment">// è·å–æ’è¡Œæ¦œä¸­çš„æˆå‘˜åŠå…¶åˆ†æ•°</span>
        Set&lt;Tuple&gt; leaderboard = jedis.zrangeWithScores(leaderboardKey, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>);
        <span class="hljs-keyword">for</span> (Tuple tuple : leaderboard) {
            System.out.println(<span class="hljs-string">"Member: "</span> + tuple.getElement() + <span class="hljs-string">", Score: "</span> + tuple.getScore());
        }

        jedis.close();
    }
}
</code></pre>
<h4 data-id="heading-12">3.5 è·å–æˆå‘˜çš„åˆ†æ•°</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisLeaderboardScore</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è¿æ¥åˆ°æœ¬åœ°çš„RedisæœåŠ¡</span>
        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);

        <span class="hljs-type">String</span> <span class="hljs-variable">leaderboardKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"leaderboard"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">member</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user1"</span>;

        <span class="hljs-comment">// è·å–æˆå‘˜çš„åˆ†æ•°</span>
        <span class="hljs-type">Double</span> <span class="hljs-variable">score</span> <span class="hljs-operator">=</span> jedis.zscore(leaderboardKey, member);
        System.out.println(<span class="hljs-string">"Score of "</span> + member + <span class="hljs-string">": "</span> + score);

        jedis.close();
    }
}
</code></pre>
<h4 data-id="heading-13">3.6 åˆ é™¤æˆå‘˜</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisLeaderboardRemove</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è¿æ¥åˆ°æœ¬åœ°çš„RedisæœåŠ¡</span>
        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);

        <span class="hljs-type">String</span> <span class="hljs-variable">leaderboardKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"leaderboard"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">member</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user1"</span>;

        <span class="hljs-comment">// åˆ é™¤æˆå‘˜</span>
        jedis.zrem(leaderboardKey, member);
        System.out.println(<span class="hljs-string">"Member "</span> + member + <span class="hljs-string">" removed from leaderboard"</span>);

        jedis.close();
    }
}
</code></pre>
<h3 data-id="heading-14">4. é«˜çº§æ“ä½œ</h3>
<p>é™¤äº†åŸºæœ¬æ“ä½œå¤–ï¼ŒRedisçš„Sorted Setè¿˜æ”¯æŒå¾ˆå¤šé«˜çº§åŠŸèƒ½ï¼Œä¾‹å¦‚æŒ‰åˆ†æ•°èŒƒå›´æŸ¥è¯¢ã€æŒ‰æ’åèŒƒå›´æŸ¥è¯¢ã€è·å–æ’è¡Œæ¦œçš„æˆå‘˜æ•°é‡ç­‰ã€‚</p>
<h4 data-id="heading-15">4.1 è·å–åˆ†æ•°åœ¨æŸä¸ªèŒƒå›´å†…çš„æˆå‘˜</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;
<span class="hljs-keyword">import</span> redis.clients.jedis.Tuple;

<span class="hljs-keyword">import</span> java.util.Set;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisLeaderboardRangeByScore</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è¿æ¥åˆ°æœ¬åœ°çš„RedisæœåŠ¡</span>
        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);

        <span class="hljs-type">String</span> <span class="hljs-variable">leaderboardKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"leaderboard"</span>;

        <span class="hljs-comment">// è·å–åˆ†æ•°åœ¨100åˆ°200ä¹‹é—´çš„æˆå‘˜</span>
        Set&lt;Tuple&gt; leaderboard = jedis.zrangeByScoreWithScores(leaderboardKey, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>);
        <span class="hljs-keyword">for</span> (Tuple tuple : leaderboard) {
            System.out.println(<span class="hljs-string">"Member: "</span> + tuple.getElement() + <span class="hljs-string">", Score: "</span> + tuple.getScore());
        }

        jedis.close();
    }
}
</code></pre>
<h4 data-id="heading-16">4.2 è·å–æŸä¸ªæ’åèŒƒå›´å†…çš„æˆå‘˜</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;
<span class="hljs-keyword">import</span> redis.clients.jedis.Tuple;

<span class="hljs-keyword">import</span> java.util.Set;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisLeaderboardRangeByRank</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è¿æ¥åˆ°æœ¬åœ°çš„RedisæœåŠ¡</span>
        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);

        <span class="hljs-type">String</span> <span class="hljs-variable">leaderboardKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"leaderboard"</span>;

        <span class="hljs-comment">// è·å–æ’ååœ¨0åˆ°1ä¹‹é—´çš„æˆå‘˜</span>
        Set&lt;Tuple&gt; leaderboard = jedis.zrangeWithScores(leaderboardKey, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
        <span class="hljs-keyword">for</span> (Tuple tuple : leaderboard) {
            System.out.println(<span class="hljs-string">"Member: "</span> + tuple.getElement() + <span class="hljs-string">", Score: "</span> + tuple.getScore());
        }

        jedis.close();
    }
}
</code></pre>
<h3 data-id="heading-17">æ€»ç»“</h3>
<p>é€šè¿‡ä½¿ç”¨Redisçš„Sorted Setæ•°æ®ç»“æ„ï¼Œå¯ä»¥éå¸¸å®¹æ˜“åœ°å®ç°ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„æ’è¡Œæ¦œã€‚ä¸Šè¿°ä»£ç ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•åœ¨Javaä¸­ä½¿ç”¨Jedisåº“æ¥æ“ä½œRediså®ç°æ’è¡Œæ¦œï¼ŒåŒ…æ‹¬æ·»åŠ æˆå‘˜ã€è·å–æ’åã€è·å–æˆå‘˜åŠå…¶åˆ†æ•°ã€åˆ é™¤æˆå‘˜ç­‰æ“ä½œï¼Œä»¥åŠä¸€äº›é«˜çº§åŠŸèƒ½å¦‚æŒ‰åˆ†æ•°èŒƒå›´å’Œæ’åèŒƒå›´è·å–æˆå‘˜ã€‚æ ¹æ®å®é™…éœ€æ±‚ï¼Œå¯ä»¥çµæ´»åº”ç”¨è¿™äº›å‘½ä»¤æ¥å®ç°ä¸åŒçš„æ’è¡Œæ¦œåŠŸèƒ½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Redisï¼ˆ165ï¼‰å¦‚ä½•ä½¿ç”¨Rediså®ç°æ¨èç³»ç»Ÿï¼Ÿ]]></title>    <link>https://juejin.cn/post/7579889969985110067</link>    <guid>https://juejin.cn/post/7579889969985110067</guid>    <pubDate>2025-12-04T22:54:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579889969985110067" data-draft-id="7579832417748762675" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Redisï¼ˆ165ï¼‰å¦‚ä½•ä½¿ç”¨Rediså®ç°æ¨èç³»ç»Ÿï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-04T22:54:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Redisï¼ˆ165ï¼‰å¦‚ä½•ä½¿ç”¨Rediså®ç°æ¨èç³»ç»Ÿï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T22:54:32.000Z" title="Thu Dec 04 2025 22:54:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½¿ç”¨Rediså®ç°æ¨èç³»ç»Ÿæ˜¯ä¸€ç§éå¸¸é«˜æ•ˆå’Œçµæ´»çš„æ–¹æ³•ã€‚æ¨èç³»ç»Ÿçš„å®ç°å¯ä»¥æ ¹æ®ä¸åŒçš„éœ€æ±‚å’Œç®—æ³•æ¥å®šåˆ¶ã€‚ä¸‹é¢å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨Redisçš„ä¸åŒåŠŸèƒ½æ¥å®ç°ä¸€ä¸ªåŸºç¡€çš„æ¨èç³»ç»Ÿï¼Œå¹¶ç»“åˆä»£ç ç¤ºä¾‹ã€‚</p>
<h3 data-id="heading-0">1. æ¨èç³»ç»Ÿçš„åŸºæœ¬æ¦‚å¿µ</h3>
<p>æ¨èç³»ç»Ÿé€šå¸¸åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªåŸºæœ¬åŠŸèƒ½ï¼š</p>
<ol>
<li><strong>æ•°æ®æ”¶é›†</strong>ï¼šæ”¶é›†ç”¨æˆ·çš„è¡Œä¸ºæ•°æ®ï¼Œå¦‚æµè§ˆã€ç‚¹å‡»ã€è´­ä¹°ç­‰ã€‚</li>
<li><strong>ç”¨æˆ·ç”»åƒ</strong>ï¼šæ ¹æ®ç”¨æˆ·çš„è¡Œä¸ºæ•°æ®ç”Ÿæˆç”¨æˆ·ç”»åƒã€‚</li>
<li><strong>æ¨èç®—æ³•</strong>ï¼šåŸºäºç”¨æˆ·ç”»åƒå’Œå…¶ä»–æ•°æ®ï¼Œè®¡ç®—æ¨èç»“æœã€‚</li>
<li><strong>æ¨èç»“æœ</strong>ï¼šå°†æ¨èç»“æœåé¦ˆç»™ç”¨æˆ·ã€‚</li>
</ol>
<h3 data-id="heading-1">2. ä½¿ç”¨Rediså®ç°æ¨èç³»ç»Ÿ</h3>
<p>å¯ä»¥ä½¿ç”¨Redisçš„å¤šç§æ•°æ®ç»“æ„ï¼ˆå¦‚Stringsã€Hashesã€Setså’ŒSorted Setsï¼‰æ¥å®ç°æ¨èç³»ç»Ÿçš„ä¸åŒéƒ¨åˆ†ã€‚</p>
<h4 data-id="heading-2">2.1 æ•°æ®æ”¶é›†</h4>
<p>ä½¿ç”¨Redisçš„Hashesæ¥å­˜å‚¨ç”¨æˆ·çš„è¡Œä¸ºæ•°æ®ã€‚</p>
<h5 data-id="heading-3">æ·»åŠ ç”¨æˆ·è¡Œä¸ºæ•°æ®</h5>
<p>å‡è®¾æˆ‘ä»¬è®°å½•ç”¨æˆ·æµè§ˆçš„å•†å“ï¼Œè¿™é‡Œä½¿ç”¨ç”¨æˆ·IDä½œä¸ºé”®ï¼Œå•†å“IDä½œä¸ºå€¼ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisDataCollection</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è¿æ¥åˆ°æœ¬åœ°çš„RedisæœåŠ¡</span>
        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);

        <span class="hljs-type">String</span> <span class="hljs-variable">userId</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user1"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">productId</span> <span class="hljs-operator">=</span> <span class="hljs-string">"product1"</span>;

        <span class="hljs-comment">// è®°å½•ç”¨æˆ·æµè§ˆå•†å“çš„è¡Œä¸º</span>
        jedis.hset(<span class="hljs-string">"user:"</span> + userId, <span class="hljs-string">"viewed"</span>, productId);

        System.out.println(<span class="hljs-string">"User "</span> + userId + <span class="hljs-string">" viewed product "</span> + productId);

        jedis.close();
    }
}
</code></pre>
<h4 data-id="heading-4">2.2 ç”¨æˆ·ç”»åƒ</h4>
<p>ä½¿ç”¨Redisçš„Setsæ¥å­˜å‚¨ç”¨æˆ·çš„å…´è¶£æ ‡ç­¾ï¼ˆTagsï¼‰ï¼ŒSetså¯ä»¥å»é‡å¹¶ä¸”æ”¯æŒé›†åˆæ“ä½œã€‚</p>
<h5 data-id="heading-5">æ·»åŠ ç”¨æˆ·å…´è¶£æ ‡ç­¾</h5>
<p>å‡è®¾æˆ‘ä»¬æ ¹æ®ç”¨æˆ·æµè§ˆçš„å•†å“ä¸ºç”¨æˆ·æ·»åŠ å…´è¶£æ ‡ç­¾ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisUserProfile</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è¿æ¥åˆ°æœ¬åœ°çš„RedisæœåŠ¡</span>
        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);

        <span class="hljs-type">String</span> <span class="hljs-variable">userId</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user1"</span>;
        String[] tags = {<span class="hljs-string">"electronics"</span>, <span class="hljs-string">"gadgets"</span>};

        <span class="hljs-keyword">for</span> (String tag : tags) {
            <span class="hljs-comment">// ä¸ºç”¨æˆ·æ·»åŠ å…´è¶£æ ‡ç­¾</span>
            jedis.sadd(<span class="hljs-string">"user:"</span> + userId + <span class="hljs-string">":tags"</span>, tag);
            System.out.println(<span class="hljs-string">"Added tag "</span> + tag + <span class="hljs-string">" to user "</span> + userId);
        }

        jedis.close();
    }
}
</code></pre>
<h4 data-id="heading-6">2.3 æ¨èç®—æ³•</h4>
<p>ä½¿ç”¨Redisçš„Sorted Setsæ¥å­˜å‚¨å•†å“çš„è¯„åˆ†ï¼ˆå¦‚ç‚¹å‡»ç‡ã€è´­ä¹°ç‡ç­‰ï¼‰ï¼Œå¹¶è¿›è¡Œæ’åºã€‚ç„¶åæ ¹æ®ç”¨æˆ·çš„å…´è¶£æ ‡ç­¾æ¥æ¨èå•†å“ã€‚</p>
<h5 data-id="heading-7">æ·»åŠ å•†å“è¯„åˆ†</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisProductScores</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è¿æ¥åˆ°æœ¬åœ°çš„RedisæœåŠ¡</span>
        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);

        <span class="hljs-type">String</span> <span class="hljs-variable">productId</span> <span class="hljs-operator">=</span> <span class="hljs-string">"product1"</span>;
        <span class="hljs-type">double</span> <span class="hljs-variable">score</span> <span class="hljs-operator">=</span> <span class="hljs-number">10.0</span>;

        <span class="hljs-comment">// ä¸ºå•†å“æ·»åŠ è¯„åˆ†</span>
        jedis.zadd(<span class="hljs-string">"product:scores"</span>, score, productId);

        System.out.println(<span class="hljs-string">"Added score "</span> + score + <span class="hljs-string">" for product "</span> + productId);

        jedis.close();
    }
}
</code></pre>
<h5 data-id="heading-8">æ ¹æ®ç”¨æˆ·å…´è¶£æ ‡ç­¾æ¨èå•†å“</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;
<span class="hljs-keyword">import</span> redis.clients.jedis.Tuple;

<span class="hljs-keyword">import</span> java.util.Set;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisRecommendation</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è¿æ¥åˆ°æœ¬åœ°çš„RedisæœåŠ¡</span>
        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);

        <span class="hljs-type">String</span> <span class="hljs-variable">userId</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user1"</span>;
        Set&lt;String&gt; tags = jedis.smembers(<span class="hljs-string">"user:"</span> + userId + <span class="hljs-string">":tags"</span>);

        System.out.println(<span class="hljs-string">"User "</span> + userId + <span class="hljs-string">" has tags: "</span> + tags);

        <span class="hljs-keyword">for</span> (String tag : tags) {
            <span class="hljs-comment">// å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªSorted Setå­˜å‚¨äº†æ¯ä¸ªæ ‡ç­¾ç›¸å…³çš„å•†å“è¯„åˆ†</span>
            Set&lt;Tuple&gt; topProducts = jedis.zrevrangeWithScores(<span class="hljs-string">"tag:"</span> + tag + <span class="hljs-string">":products"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">9</span>);

            System.out.println(<span class="hljs-string">"Top products for tag "</span> + tag + <span class="hljs-string">":"</span>);
            <span class="hljs-keyword">for</span> (Tuple product : topProducts) {
                System.out.println(<span class="hljs-string">"Product: "</span> + product.getElement() + <span class="hljs-string">", Score: "</span> + product.getScore());
            }
        }

        jedis.close();
    }
}
</code></pre>
<h3 data-id="heading-9">4. ç»¼åˆç¤ºä¾‹ï¼šä»æ•°æ®æ”¶é›†åˆ°æ¨è</h3>
<p>å°†ä¸Šè¿°å„éƒ¨åˆ†ç»“åˆèµ·æ¥ï¼Œå®ç°ä¸€ä¸ªç®€å•çš„æ¨èç³»ç»Ÿã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;
<span class="hljs-keyword">import</span> redis.clients.jedis.Tuple;

<span class="hljs-keyword">import</span> java.util.Set;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisRecommendationSystem</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);

        <span class="hljs-comment">// Step 1: æ•°æ®æ”¶é›† - è®°å½•ç”¨æˆ·è¡Œä¸º</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">userId</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user1"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">productId</span> <span class="hljs-operator">=</span> <span class="hljs-string">"product1"</span>;
        jedis.hset(<span class="hljs-string">"user:"</span> + userId, <span class="hljs-string">"viewed"</span>, productId);
        System.out.println(<span class="hljs-string">"User "</span> + userId + <span class="hljs-string">" viewed product "</span> + productId);

        <span class="hljs-comment">// Step 2: ç”¨æˆ·ç”»åƒ - æ·»åŠ ç”¨æˆ·å…´è¶£æ ‡ç­¾</span>
        String[] tags = {<span class="hljs-string">"electronics"</span>, <span class="hljs-string">"gadgets"</span>};
        <span class="hljs-keyword">for</span> (String tag : tags) {
            jedis.sadd(<span class="hljs-string">"user:"</span> + userId + <span class="hljs-string">":tags"</span>, tag);
            System.out.println(<span class="hljs-string">"Added tag "</span> + tag + <span class="hljs-string">" to user "</span> + userId);
        }

        <span class="hljs-comment">// Step 3: æ¨èç®—æ³• - æ·»åŠ å•†å“è¯„åˆ†</span>
        <span class="hljs-type">double</span> <span class="hljs-variable">score</span> <span class="hljs-operator">=</span> <span class="hljs-number">10.0</span>;
        jedis.zadd(<span class="hljs-string">"tag:electronics:products"</span>, score, productId);
        System.out.println(<span class="hljs-string">"Added score "</span> + score + <span class="hljs-string">" for product "</span> + productId + <span class="hljs-string">" in tag electronics"</span>);

        <span class="hljs-comment">// Step 4: æ¨èç»“æœ - æ ¹æ®ç”¨æˆ·å…´è¶£æ ‡ç­¾æ¨èå•†å“</span>
        Set&lt;String&gt; userTags = jedis.smembers(<span class="hljs-string">"user:"</span> + userId + <span class="hljs-string">":tags"</span>);
        System.out.println(<span class="hljs-string">"User "</span> + userId + <span class="hljs-string">" has tags: "</span> + userTags);

        <span class="hljs-keyword">for</span> (String userTag : userTags) {
            Set&lt;Tuple&gt; topProducts = jedis.zrevrangeWithScores(<span class="hljs-string">"tag:"</span> + userTag + <span class="hljs-string">":products"</span>, <span class="hljs-number">0</span>, <span class="hljs-number">9</span>);
            System.out.println(<span class="hljs-string">"Top products for tag "</span> + userTag + <span class="hljs-string">":"</span>);

            <span class="hljs-keyword">for</span> (Tuple product : topProducts) {
                System.out.println(<span class="hljs-string">"Product: "</span> + product.getElement() + <span class="hljs-string">", Score: "</span> + product.getScore());
            }
        }

        jedis.close();
    }
}
</code></pre>
<h3 data-id="heading-10">æ€»ç»“</h3>
<p>é€šè¿‡ä¸Šé¢çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨Redisçš„ä¸åŒæ•°æ®ç»“æ„æ¥å®ç°ä¸€ä¸ªç®€å•çš„æ¨èç³»ç»Ÿã€‚ä»æ•°æ®æ”¶é›†ã€ç”¨æˆ·ç”»åƒåˆ°æ¨èç®—æ³•åŠç»“æœå±•ç¤ºï¼ŒRediséƒ½æä¾›äº†é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚æ ¹æ®å®é™…éœ€æ±‚ï¼Œå¯ä»¥è¿›ä¸€æ­¥æ‰©å±•å’Œä¼˜åŒ–è¿™äº›åŠŸèƒ½ï¼Œä¾‹å¦‚ä½¿ç”¨æ›´å¤šçš„ç”¨æˆ·è¡Œä¸ºæ•°æ®ã€å¤æ‚çš„æ¨èç®—æ³•å’Œå®æ—¶æ›´æ–°æœºåˆ¶ç­‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Trae Genimi3è·Ÿç€å®˜ç½‘å­¦å®æ—¶é€šä¿¡ Socket.ioæ¡†æ¶]]></title>    <link>https://juejin.cn/post/7579872561674682377</link>    <guid>https://juejin.cn/post/7579872561674682377</guid>    <pubDate>2025-12-04T18:30:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579872561674682377" data-draft-id="7579871631095529498" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Trae Genimi3è·Ÿç€å®˜ç½‘å­¦å®æ—¶é€šä¿¡ Socket.ioæ¡†æ¶"/> <meta itemprop="keywords" content="å‰ç«¯,WebSocket,åç«¯"/> <meta itemprop="datePublished" content="2025-12-04T18:30:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç™¾ä¸‡å‰ç«¯å‘å‰å†²"/> <meta itemprop="url" content="https://juejin.cn/user/641770519804926"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Trae Genimi3è·Ÿç€å®˜ç½‘å­¦å®æ—¶é€šä¿¡ Socket.ioæ¡†æ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/641770519804926/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç™¾ä¸‡å‰ç«¯å‘å‰å†²
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T18:30:44.000Z" title="Thu Dec 04 2025 18:30:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9cfa1300ae34c7aa5e08df098d04720~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765477843&amp;x-signature=ywL65IU%2BJyJ3263Z03Pf%2BEkXs9o%3D" alt="3b74cd598a4f9c785f0fa84024044a3d.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0da532ae373443cd893c679c73f70e83~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765477843&amp;x-signature=QMeI1yUpu4JOujrBV8B1Wx2kXr4%3D" alt="å›¾ç‰‡.png" loading="lazy"/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fsocket.io%2Fzh-CN%2Fdocs%2Fv4%2F" target="_blank" title="https://socket.io/zh-CN/docs/v4/" ref="nofollow noopener noreferrer">socket.io/zh-CN/docs/â€¦</a></p>
<h2 data-id="heading-0">ç¬¬1æ¬¡å¯¹è¯ï¼šAIæ»¡æ„åº¦â­ï¸â­ï¸</h2>
<blockquote>
<p>AIæç¤ºè¯ï¼šå­¦ä¹ socket.io è¯·ä½ æŒ‰ç…§è¿™ä¸ªæ–‡æ¡£ <a href="https://link.juejin.cn?target=https%3A%2F%2Fsocket.io%2Fdocs%2Fv4%2Ftutorial%2Fintroduction" target="_blank" title="https://socket.io/docs/v4/tutorial/introduction" ref="nofollow noopener noreferrer">socket.io/docs/v4/tutâ€¦</a> åˆ›å»ºä¸€ä¸ªä¸­æ–‡ç½‘ç«™ï¼Œå¾ªåºæ¸è¿›çš„å­¦ä¹ ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c2c03247a3de47829346e2ba1c87d8ff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765477843&amp;x-signature=5TmrXmsn%2BBDdvU0z4zC3UJ%2FXrhM%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/052897a651b048a1a2e3918c83c84414~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765477843&amp;x-signature=z1C3Puv4gcxDYXt3mw7yupHDXSk%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<p>å‡ºç°è¿™ä¸ªåŸºäºNode.jsçš„Expressv5.2æ¡†æ¶çš„èŠå¤©å®¤ï¼Œæœ‰ç‚¹å¼±äº†ï¼Œç”¨æˆ·è¿›å…¥æ²¡æœ‰æç¤ºå’Œæ˜µç§°ï¼Œ
æˆ‘çš„å¯¹AIè¡¨ç°çš„æ»¡æ„åº¦æ˜¯ â­ï¸â­ï¸â­ï¸ğŸˆ³ğŸˆ³ï¼Œå¯ä»¥ç»™åŠâ­ï¸ç»™ ç‰ˆæœ¬æ¯”è¾ƒæ–°ã€‚</p>
<p>æˆ‘éœ€è¦çš„æ˜¯ä¸€ä¸ªå­¦ä¹ Socekt.ioçš„ç½‘ç«™</p>
<p>AIç»™æˆ‘ä¸€ä¸ªSocekt.ioå¼€å‘çš„é¡¹ç›®ã€‚</p>
<h2 data-id="heading-1">ç¬¬2æ¬¡å¯¹è¯ï¼šAIæ»¡æ„åº¦â­ï¸â­ï¸â­ï¸â­ï¸</h2>
<blockquote>
<p>æˆ‘éœ€è¦çš„æ˜¯ä¸€ä¸ª HTMLç½‘é¡µæ–‡æ¡£æ¥å­¦ä¹ socket.ioï¼Œå¹¶ä¸æ˜¯è¦ç”¨socket.ioç”Ÿæˆé¡¹ç›®ã€‚ä½¿ç”¨å·¥å…·pnpmï¼Œæ–‡æ¡£å·¦ä¾§åº”è¯¥æœ‰æ¸…æ™°çš„å¯¼èˆªåˆ—è¡¨ã€‚å¦‚æœæ¶‰åŠä»£ç åº”è¯¥å½©è‰²é«˜äº®ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9adc691271ad47c993cc6f332b96f29a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765477843&amp;x-signature=DIJC3RwBt1xfITZGaMkbyQFcxtw%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<h2 data-id="heading-2">ç¬¬3æ¬¡å¯¹è¯ï¼šAIæ»¡æ„åº¦â­ï¸â­ï¸â­ï¸â­ï¸</h2>
<blockquote>
<p>å¯¹ç”¨ socket.on( ) æˆ–è€…io è‡ªå®šä¹‰çš„é€šé“ äº‹ä»¶ã€ å…³é”®å­— éƒ½ç”¨emojiè¡¨æƒ…ä»£æ›¿ ï¼ŒåŒæ—¶ .getElementById  éƒ½ç”¨queryselectorä»£æ›¿ã€‚å¹¶ä¸”åˆ—ä¸¾å‡ºsocket.ioå¸¸ç”¨åŠŸèƒ½æ¸…å• ä»…å¯¹è¿™ä¸ªæ–‡ä»¶ï¼Œå°½å¯èƒ½ç”¨ç›´è§‚çš„ä¸­æ–‡+emoji</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/88e2c6ab9e9843f89daa978eb3cae82f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765477843&amp;x-signature=XuDmHN8LG5%2BdLcFsMpAXDwuIBAg%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d0c539eb1474c7f96af2fbbeb547ace~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765477843&amp;x-signature=%2FYwE01nw8%2BNTJ1rKcyNxTjU9li8%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<h2 data-id="heading-3">AIæ–‡æ¡£æœ€ç»ˆæˆå“æ–‡æ¡£</h2>
<h3 data-id="heading-4">1. ç®€ä»‹</h3>
<p>Socket.IO æ˜¯ä¸€ä¸ªåŸºäºäº‹ä»¶çš„åº“ï¼Œç”¨äºåœ¨æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´å®ç°<strong>å®æ—¶</strong>ã€<strong>åŒå‘</strong>å’Œ<strong>ä½å»¶è¿Ÿ</strong>çš„é€šä¿¡ã€‚</p>
<p><strong>æ ¸å¿ƒç‰¹æ€§ï¼š</strong></p>
<ul>
<li>HTTP é•¿è½®è¯¢ä½œä¸ºå›é€€æœºåˆ¶ï¼ˆä¿è¯è¿æ¥ç¨³å®šæ€§ï¼‰</li>
<li>è‡ªåŠ¨é‡è¿</li>
<li>æ•°æ®åŒ…ç¼“å†²</li>
<li>å¹¿æ’­æœºåˆ¶</li>
</ul>
<h3 data-id="heading-5">2. ç¯å¢ƒæ­å»º (pnpm)</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ Node.js é¡¹ç›®ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ <code>pnpm</code> ä½œä¸ºåŒ…ç®¡ç†å·¥å…·ã€‚</p>
<h4 data-id="heading-6">åˆå§‹åŒ–é¡¹ç›®</h4>
<p>æ‰“å¼€ç»ˆç«¯ï¼Œåˆ›å»ºä¸€ä¸ªæ–°ç›®å½•å¹¶è¿›å…¥ï¼š</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-keyword">mkdir</span> <span class="hljs-keyword">socket</span>-chat-example
cd <span class="hljs-keyword">socket</span>-chat-example
</code></pre>
<p>åˆå§‹åŒ– <code>package.json</code>ï¼š <code>pnpm init</code></p>
<h4 data-id="heading-7">å®‰è£…ä¾èµ–</h4>
<p>åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º <code>package.json</code> æ–‡ä»¶ï¼Œç¡®ä¿ä¾èµ–é¡¹ä½¿ç”¨çš„æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼ˆå¦‚ä¸‹æ‰€ç¤ºï¼‰ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"express"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^5.2.1"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"socket.io"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^4.8.1"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æˆ‘ä»¬éœ€è¦å®‰è£… Express æ¡†æ¶å’Œ Socket.IO åº“ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">pnpm <span class="hljs-keyword">init</span>
</code></pre>
<h3 data-id="heading-8">3. åˆ›å»ºæœåŠ¡å™¨</h3>
<p>åˆ›å»º <code>index.js</code> æ–‡ä»¶å†™å…¥ä»¥ä¸‹ä»£ç ã€‚æˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸ªåŸºæœ¬çš„ Express æœåŠ¡å™¨ï¼Œå¹¶å°† Socket.IO é™„åŠ åˆ°å®ƒä¸Šé¢ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// index.js æ–‡ä»¶ä»£ç </span>
<span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">const</span> { createServer } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'node:http'</span>);
<span class="hljs-keyword">const</span> { join } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'node:path'</span>);
<span class="hljs-keyword">const</span> { <span class="hljs-title class_">Server</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'socket.io'</span>);

<span class="hljs-comment">// 1. åˆ›å»º Express å®ä¾‹</span>
<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();
<span class="hljs-comment">// 2. åˆ›å»º HTTP æœåŠ¡å™¨ (å°† app ä½œä¸ºå¤„ç†å™¨)</span>
<span class="hljs-keyword">const</span> server = <span class="hljs-title function_">createServer</span>(app);
<span class="hljs-comment">// 3. åˆå§‹åŒ– Socket.IO (ä¼ å…¥ server)</span>
<span class="hljs-keyword">const</span> io = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Server</span>(server);

<span class="hljs-comment">// è·¯ç”±ï¼šè¿”å› HTML æ–‡ä»¶</span>
app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  res.<span class="hljs-title function_">sendFile</span>(<span class="hljs-title function_">join</span>(__dirname, <span class="hljs-string">'index.html'</span>));
});

<span class="hljs-comment">// ç›‘å¬è¿æ¥äº‹ä»¶ ğŸ”Œ</span>
io.<span class="hljs-title function_">on</span>(<span class="hljs-string">'connection'</span>, <span class="hljs-function">(<span class="hljs-params">socket</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ‘¤ ä¸€ä¸ªç”¨æˆ·å·²è¿æ¥'</span>);
  
  <span class="hljs-comment">// ç›‘å¬æ–­å¼€è¿æ¥ âŒ</span>
  socket.<span class="hljs-title function_">on</span>(<span class="hljs-string">'disconnect'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ‘‹ ç”¨æˆ·å·²æ–­å¼€è¿æ¥'</span>);
  });
});

<span class="hljs-comment">// å¯åŠ¨æœåŠ¡å™¨</span>
server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸš€ æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:3000'</span>);
});
</code></pre>
<h3 data-id="heading-9">4. åˆ›å»ºå®¢æˆ·ç«¯</h3>
<p>åˆ›å»º <code>index.html</code> æ–‡ä»¶ã€‚è¿™æ˜¯ç”¨æˆ·çœ‹åˆ°çš„èŠå¤©ç•Œé¢ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Socket.IO èŠå¤©å®¤<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-comment">/* ç®€å•çš„æ ·å¼ */</span>
        <span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-number">3rem</span>; <span class="hljs-attribute">font-family</span>: sans-serif; }
        <span class="hljs-selector-id">#form</span> { <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.15</span>); <span class="hljs-attribute">padding</span>: <span class="hljs-number">0.25rem</span>; <span class="hljs-attribute">position</span>: fixed; <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">display</span>: flex; <span class="hljs-attribute">height</span>: <span class="hljs-number">3rem</span>; <span class="hljs-attribute">box-sizing</span>: border-box; backdrop-<span class="hljs-attribute">filter</span>: <span class="hljs-built_in">blur</span>(<span class="hljs-number">10px</span>); }
        <span class="hljs-selector-id">#input</span> { <span class="hljs-attribute">border</span>: none; <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">1rem</span>; <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">1</span>; <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">2rem</span>; <span class="hljs-attribute">margin</span>: <span class="hljs-number">0.25rem</span>; }
        <span class="hljs-selector-id">#input</span><span class="hljs-selector-pseudo">:focus</span> { <span class="hljs-attribute">outline</span>: none; }
        <span class="hljs-selector-id">#form</span> &gt; <span class="hljs-selector-tag">button</span> { <span class="hljs-attribute">background</span>: <span class="hljs-number">#333</span>; <span class="hljs-attribute">border</span>: none; <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">1rem</span>; <span class="hljs-attribute">margin</span>: <span class="hljs-number">0.25rem</span>; <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">3px</span>; <span class="hljs-attribute">outline</span>: none; <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>; }
        <span class="hljs-selector-id">#messages</span> { <span class="hljs-attribute">list-style-type</span>: none; <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>; }
        <span class="hljs-selector-id">#messages</span> &gt; <span class="hljs-selector-tag">li</span> { <span class="hljs-attribute">padding</span>: <span class="hljs-number">0.5rem</span> <span class="hljs-number">1rem</span>; }
        <span class="hljs-selector-id">#messages</span> &gt; <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:nth-child</span>(odd) { <span class="hljs-attribute">background</span>: <span class="hljs-number">#efefef</span>; }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"messages"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"form"</span> <span class="hljs-attr">action</span>=<span class="hljs-string">""</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"input"</span> <span class="hljs-attr">autocomplete</span>=<span class="hljs-string">"off"</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>å‘é€<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h3 data-id="heading-10">5. é›†æˆ Socket.IO</h3>
<p>åœ¨ <code>index.html</code> çš„ <code>&lt;/body&gt;</code> æ ‡ç­¾ä¹‹å‰ï¼Œå¼•å…¥ Socket.IO å®¢æˆ·ç«¯è„šæœ¬å¹¶åˆå§‹åŒ–ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- è‡ªåŠ¨æä¾›çš„ Socket.IO å®¢æˆ·ç«¯åº“ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/socket.io/socket.io.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-comment">// åˆå§‹åŒ–è¿æ¥ ğŸ”—</span>
  <span class="hljs-keyword">const</span> socket = <span class="hljs-title function_">io</span>();
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>è¿™é‡Œçš„ <code>io()</code> é»˜è®¤ä¼šå°è¯•è¿æ¥å½“å‰ä¸»æœºã€‚</p>
<h3 data-id="heading-11">6. å‘é€ä¸æ¥æ”¶æ¶ˆæ¯</h3>
<p>æˆ‘ä»¬éœ€è¦ç›‘å¬è¡¨å•æäº¤ï¼Œå°†æ¶ˆæ¯å‘é€ç»™æœåŠ¡å™¨ã€‚æ³¨æ„è¿™é‡Œä½¿ç”¨äº† <code>querySelector</code> å’Œ Emoji äº‹ä»¶åã€‚</p>
<h4 data-id="heading-12">å®¢æˆ·ç«¯å‘é€ (Emit)</h4>
<p>åœ¨ <code>index.html</code> çš„ script æ ‡ç­¾ä¸­æ·»åŠ ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ä½¿ç”¨ querySelector è·å–å…ƒç´  ğŸ”</span>
<span class="hljs-keyword">const</span> form = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'#form'</span>);
<span class="hljs-keyword">const</span> input = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'#input'</span>);

form.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'submit'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  e.<span class="hljs-title function_">preventDefault</span>(); <span class="hljs-comment">// é˜»æ­¢è¡¨å•é»˜è®¤æäº¤åˆ·æ–°é¡µé¢</span>
  <span class="hljs-keyword">if</span> (input.<span class="hljs-property">value</span>) {
    <span class="hljs-comment">// å‘æœåŠ¡å™¨å‘é€ 'ğŸ’¬ èŠå¤©æ¶ˆæ¯' äº‹ä»¶</span>
    socket.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'ğŸ’¬ èŠå¤©æ¶ˆæ¯'</span>, input.<span class="hljs-property">value</span>);
    input.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>; <span class="hljs-comment">// æ¸…ç©ºè¾“å…¥æ¡†</span>
  }
});
</code></pre>
<h4 data-id="heading-13">æœåŠ¡å™¨æ¥æ”¶</h4>
<p>åœ¨ <code>index.js</code> ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ç›‘å¬è¿™ä¸ª Emoji äº‹ä»¶ï¼š</p>
<pre><code class="hljs language-js" lang="js">io.<span class="hljs-title function_">on</span>(<span class="hljs-string">'connection'</span>, <span class="hljs-function">(<span class="hljs-params">socket</span>) =&gt;</span> {
  <span class="hljs-comment">// ç›‘å¬ 'ğŸ’¬ èŠå¤©æ¶ˆæ¯' äº‹ä»¶</span>
  socket.<span class="hljs-title function_">on</span>(<span class="hljs-string">'ğŸ’¬ èŠå¤©æ¶ˆæ¯'</span>, <span class="hljs-function">(<span class="hljs-params">msg</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ“© æ”¶åˆ°æ¶ˆæ¯: '</span> + msg);
  });
});
</code></pre>
<h3 data-id="heading-14">7. å¹¿æ’­æ¶ˆæ¯</h3>
<p>ç°åœ¨çš„ä»£ç åªèƒ½åœ¨æœåŠ¡å™¨ç«¯æ‰“å°æ¶ˆæ¯ã€‚æˆ‘ä»¬éœ€è¦æŠŠæ¶ˆæ¯å¹¿æ’­ç»™æ‰€æœ‰è¿æ¥çš„å®¢æˆ·ç«¯ã€‚</p>
<h4 data-id="heading-15">æœåŠ¡å™¨ç«¯å¹¿æ’­</h4>
<p>ä¿®æ”¹ <code>index.js</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js">io.<span class="hljs-title function_">on</span>(<span class="hljs-string">'connection'</span>, <span class="hljs-function">(<span class="hljs-params">socket</span>) =&gt;</span> {
  socket.<span class="hljs-title function_">on</span>(<span class="hljs-string">'ğŸ’¬ èŠå¤©æ¶ˆæ¯'</span>, <span class="hljs-function">(<span class="hljs-params">msg</span>) =&gt;</span> {
    <span class="hljs-comment">// io.emit ä¼šå‘é€ç»™æ‰€æœ‰è¿æ¥çš„å®¢æˆ·ç«¯ï¼ŒåŒ…æ‹¬å‘é€è€…è‡ªå·± ğŸ“¢</span>
    io.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'ğŸ’¬ èŠå¤©æ¶ˆæ¯'</span>, msg);
  });
});
</code></pre>
<h4 data-id="heading-16">å®¢æˆ·ç«¯æ˜¾ç¤ºæ¶ˆæ¯</h4>
<p>åœ¨ <code>index.html</code> ä¸­ï¼Œç›‘å¬æœåŠ¡å™¨å‘å›çš„äº‹ä»¶ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> messages = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'#messages'</span>);

<span class="hljs-comment">// ç›‘å¬ 'ğŸ’¬ èŠå¤©æ¶ˆæ¯' äº‹ä»¶</span>
socket.<span class="hljs-title function_">on</span>(<span class="hljs-string">'ğŸ’¬ èŠå¤©æ¶ˆæ¯'</span>, <span class="hljs-function">(<span class="hljs-params">msg</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> item = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'li'</span>);
  item.<span class="hljs-property">textContent</span> = msg;
  messages.<span class="hljs-title function_">appendChild</span>(item);
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">scrollTo</span>(<span class="hljs-number">0</span>, <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">scrollHeight</span>); <span class="hljs-comment">// æ»šåŠ¨åˆ°åº•éƒ¨</span>
});
</code></pre>
<h3 data-id="heading-17">8. Socket.IO å¸¸ç”¨åŠŸèƒ½æ¸…å•</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2cadb06348814b468ee925ccde240e89~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765477843&amp;x-signature=KwO3QTJUOMQSsdBgOpvlS0QzJ9I%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<h3 data-id="heading-18">9. æ€»ç»“</h3>
<p><strong>æ­å–œï¼</strong> ä½ å·²ç»å®Œæˆäº†ä¸€ä¸ªåŸºæœ¬çš„å®æ—¶èŠå¤©åº”ç”¨ã€‚</p>
<p><strong>å…³é”® API å›é¡¾ï¼š</strong></p>
<ul>
<li><code>pnpm add socket.io</code> - å®‰è£…æœåŠ¡ç«¯åº“ã€‚</li>
<li><code>const io = new Server(server)</code> - æœåŠ¡ç«¯åˆå§‹åŒ–ã€‚</li>
<li><code>const socket = io()</code> - å®¢æˆ·ç«¯åˆå§‹åŒ–ã€‚</li>
<li><code>socket.emit('ğŸ’¬ æ¶ˆæ¯', data)</code> - å‘é€æ¶ˆæ¯ã€‚</li>
<li><code>socket.on('ğŸ’¬ æ¶ˆæ¯', callback)</code> - æ¥æ”¶æ¶ˆæ¯ã€‚</li>
<li><code>io.emit('ğŸ’¬ æ¶ˆæ¯', data)</code> - å¹¿æ’­ç»™æ‰€æœ‰äººã€‚</li>
</ul>
<h2 data-id="heading-19">é™„å½•ï¼š</h2>
<p>æ³¨ï¼šå·®ç‚¹ç‚¹äº†è‡ªåŠ¨ç¿»è¯‘ç½‘é¡µï¼Œå®˜ç½‘å…¶å®æœ‰ä¸­æ–‡é€‰é¡¹ï¼Œä½†å­˜åœ¨åˆ‡æ¢BUG(å¤±æ•ˆ)å’Œç¿»è¯‘ä¸å®Œæ•´ç­‰é—®é¢˜ã€‚
<a href="https://link.juejin.cn?target=https%3A%2F%2Fsocket.io%2Fzh-CN%2Fdocs%2Fv4%2Ftutorial%2Fintroduction" target="_blank" title="https://socket.io/zh-CN/docs/v4/tutorial/introduction" ref="nofollow noopener noreferrer">ä½ çœ‹æ•™ç¨‹è¿™é‡Œåˆæ˜¯è‹±æ–‡äº†</a>ã€‚
é‚£ä¹ˆè·Ÿç€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9189b39399fc4209967913ebf260eff1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765477843&amp;x-signature=Wv24zw8p0rcvxUeFmqKCm9ZrlQA%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<p>ç»ˆäºæ‰¾åˆ°ä½ Gemini-3-Proï¼ˆ200Kï¼‰ï¼Œå¾—å–æ¶ˆ Auto Mode å¹¶ä¸”ä¸èƒ½ç”¨ Trae Soloæ¨¡å¼æ‰æœ‰
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38bf455892424b3280b2cf54f4005797~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765477843&amp;x-signature=moJlKUBjpCARjLl6V26RJOEA5WM%3D" alt="fab9b7c0a111a741fb37e9de10cef21a.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025å¹´åº¦æ€»ç»“æŠ¥å‘Š]]></title>    <link>https://juejin.cn/post/7579851956210925620</link>    <guid>https://juejin.cn/post/7579851956210925620</guid>    <pubDate>2025-12-04T17:22:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579851956210925620" data-draft-id="7579813945601409064" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025å¹´åº¦æ€»ç»“æŠ¥å‘Š"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-04T17:22:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Huterox"/> <meta itemprop="url" content="https://juejin.cn/user/2542529912789694"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025å¹´åº¦æ€»ç»“æŠ¥å‘Š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2542529912789694/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Huterox
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T17:22:28.000Z" title="Thu Dec 04 2025 17:22:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä»Šå¤©æ˜¯2025å¹´12æœˆ05æ—¥ï¼Œè·ç¦»2023å¹´12æœˆ05æ—¥å·²ç»è·ç¦»æ•´æ•´ä¸¤å¹´äº†ã€‚ä¸ºä»€ä¹ˆå¯¹è¿™ä¸ªæ—¥æœŸæ•æ„Ÿå˜~ å¾ˆç®€å•ï¼Œå› ä¸ºè¿™ä¸ªæ˜¯æˆ‘å†³å®šæ­£å¼å¯èˆªçš„æ—¥æœŸã€‚ä¹Ÿæ˜¯é‚£å¤©å†³å®šå‡ºæ¥æ··ï¼Œç„¶ååœ¨æœˆåº•æ¥åˆ°äº†æˆ‘çš„æ—…é€”ç¬¬ä¸€ç«™ã€‚é‚£ä¹ˆåœ¨è¿™ä¸ªæ—¶é—´çš„ï¼Œä¹Ÿåˆšå¥½åˆ°å¹´å…³ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥å¯¹è¿‡å»çš„ä¸¤å¹´åšä¸€ä¸ªç®€è¦çš„æ€»ç»“ï¼Œä¹Ÿæ˜¯å¯¹çš„è‡ªå·±ä¸€ä¸ªç®€è¦çš„äº¤ä»£ã€‚æˆ‘ä¹ŸæŒºå¥½å¥‡ï¼Œæˆ‘è¿™æ®µæ—¶é—´ï¼Œæ•´æ•´ä¸¤å¹´çš„æ—¶é—´é‡Œé¢åˆ°åº•åšäº†ä»€ä¹ˆï¼Ÿä»¥åŠæˆ‘ä»¬æ¥ä¸‹æ¥çš„è®¡åˆ’å’Œå¯èƒ½çš„å®‰æ’ã€‚ï¼ˆç¨‹æ¡‘ï¼Œè‹—æ¡‘ï¼Œè¢æ¡‘ï¼Œæˆ‘æ¥å†’æ³¡äº†~ï¼‰</p>
<h2 data-id="heading-1">æŠ€æœ¯æˆé•¿</h2>
<p>è¿™ä¸ªæ˜¯å®Œå…¨ç»•ä¸å¼€çš„è¯é¢˜ï¼Œæ²¡åŠæ³•ï¼Œæ€ä¹ˆè¯´å‘¢ï¼Œå¯¹è¿™ä¸ªç©æ„çš„æ‰§å¿µè¿˜æŒºå¤§ï¼ŒææŠ€æœ¯è¿™ä¸ªä¸œè¥¿ï¼Œå¾ˆå®¹æ˜“ä¸Šå¤´ï¼Œæ˜¯çš„ï¼Œå½“ç„¶å¯¹æˆ‘æ¥è¯´æ˜¯è¿™æ ·çš„ã€‚å› ä¸ºæè¿™ä¸ªç©æ„çš„åé¦ˆéå¸¸å¼ºï¼Œè¿‡ç¨‹å½“ä¸­å¯èƒ½å¾ˆæ›²æŠ˜ï¼Œä½†æ˜¯å¾ˆçˆ½å¾ˆèˆ’æœï¼Œä¸ç„¶ä¹Ÿä¸å¤ªå¯èƒ½åœ¨è¿‡å»çš„æ—¶é—´é‡Œé¢ç§¯ç´¯Nç¯‡åšå®¢ï¼ˆæ˜¯çš„è¿˜æœ‰å¾ˆå¤šå¹²è´§ï¼Œæ²¡å‘ï¼Œå¤šå¤šå°‘å°‘æ˜¯å…ˆå‰è¿è¥çš„é¡¹ç›®ï¼Œæ¶‰åŠéƒ¨åˆ†æŠ€æœ¯æ˜¯å§ï¼Œè‚¯å®šä¸èƒ½å’Œä»¥å‰åšdemoä¸€æ ·äº†éšä¾¿è¯´ï¼‰ã€‚é¦–å…ˆä¸€ä¸ªæ—¶é—´ç‚¹æ˜¯ 2017 å¹´ 7 æœˆä»½ï¼Œå…·ä½“å¤šå°‘å·çœŸå¿˜äº†ï¼Œç¬¬ä¸€ä¸ªpythonçš„ hello world æ­£å¼å¼€å§‹å§ï¼ˆæ˜“è¯­è¨€å°±ç®—äº†ï¼Œé‚£ä¸ªç©æ„æˆ‘è¿˜æ˜¯è§‰å¾—å½“ä½œç¼–è¾‘å™¨åˆé€‚ï¼‰æˆ‘ä»¬çš„æŠ€æœ¯æ ˆä¸»è¦åˆ†ä¸ºå¦‚ä¸‹æ–¹å‘ï¼š</p>
<ol>
<li>å‰ç«¯ç½‘é¡µå¼€å‘</li>
<li>åç«¯å¼€å‘</li>
<li>ç®—æ³•å¼€å‘</li>
<li>æ‚ä¸ƒæ‚å…«</li>
</ol>
<p>é¦–å…ˆå‘¢ï¼Œæ˜¯æˆ‘ä»¬çš„ç½‘é¡µå‰ç«¯å¼€å‘ï¼Œè¿™ä¸ªå¾ˆé—æ†¾ï¼Œå› ä¸ºæˆ‘ç¡®å®ä¸æ˜¯ä¸“ä¸šå‰ç«¯ï¼Œå°¤å…¶æ˜¯å½“AIç¼–ç ç››è¡Œå…¶é“ä¹‹åï¼ˆå†åŠ ä¸Šgradioï¼Œstreamlitè¿™ç§UIå‰ç«¯åº“ï¼Œæˆ‘çš„å‰ç«¯æŠ€èƒ½å‡ ä¹åœæ»ä¸å‰ï¼‰ç›®å‰ä¸ºæ­¢æˆ‘è¿˜æ˜¯ä¸€ä¸ªåªä¼š vue çš„ java/python/go boyã€‚å½“ç„¶ï¼Œä¹Ÿæ²¡é—²ç€ï¼ŒTSå•¥çš„è‚¯å®šè¿˜æ˜¯ä¼šçš„ï¼ŒåŒ…æ‹¬å‰ç«¯çš„è®¾è®¡æ¨¡å¼ç­‰ç­‰ï¼Œåªèƒ½è¯´ï¼Œé…åˆAIç¼–ç çš„æˆ‘ï¼Œè¿™æ–¹é¢èƒ½æ»¡è¶³æ—¥å¸¸çš„ç‹¬ç«‹é¡¹ç›®å¼€å‘éœ€æ±‚~</p>
<p>å…¶æ¬¡æ˜¯åç«¯å¼€å‘ï¼Œè¿™ä¸ªå…¶å®æ²¡ä»€ä¹ˆå¤ªå¥½è¯´çš„ï¼ŒåŸºæœ¬ä¸Šå‘¢å°±æ˜¯é‚£äº›ï¼Œå½“ç„¶å’Œå…ˆå‰çš„åŒºåˆ«åœ¨äºï¼Œä»¥å‰æ˜¯çº¸ä¸Šè°ˆå…µï¼Œç°åœ¨å…¶å®å¾ˆå¤šåœºæ™¯æœ‰è‡ªå·±çš„ç†è§£å’Œæ¥è§¦ï¼Œè‡ªå·±çš„é¡¹ç›®ä¹Ÿå¥½ï¼Œå…¬å¸çš„é¡¹ç›®ä¹Ÿå¥½ã€‚å…³äºåç«¯è¿™ä¸€å—ï¼Œå®è¯å®è¯´ï¼ŒæŒæ¡å¥½è®¾è®¡æ¨¡å¼å’Œ408å¤§æ³•ä¹‹åï¼Œå¾ˆå¤šæ¦‚å¿µä¸œè¥¿å…¶å®æ˜¯å¾ˆå¥½ç†è§£çš„ã€‚å¾ˆå¤šç‚¹å­ï¼ŒåŒ…æ‹¬æˆ‘è‡ªå·±çš„ä¸€äº›é¡¹ç›®çš„æ¶æ„ï¼Œéƒ½æˆ–å¤šæˆ–å°‘å—åˆ°è®¡ç½‘ï¼Œè®¡ç»„çš„å½±å“ï¼Œå»æ€ä¹ˆè®¾è®¡ï¼Œäº¤äº’ã€‚å½“ç„¶è¿˜æœ‰å„è‡ªä¸­é—´ä»¶ï¼Œä¸€äº›æç«¯åœºæ™¯ä¸‹çš„æ–¹æ¡ˆå’Œå¸¸è§„æ–¹æ¡ˆç­‰ç­‰ã€‚è¿™äº›å…¶å®æ²¡å•¥å¥½èŠçš„ï¼Œå¤§ä½“ä¸Šã€‚å¤§éƒ¨åˆ†æ—¥å¸¸çš„å·¥ä½œå…¶å®è¿˜æ˜¯åœ¨å®Œæˆæ ¸å¿ƒåŠŸèƒ½åï¼Œè®©AIå¡«å‘ï¼Œç„¶åæˆ‘å»å¡«AIçš„å‘ï¼Œæˆ‘å’ŒAIéƒ½æœ‰å…‰æ˜çš„æœªæ¥......</p>
<p>ç®—æ³•å¼€å‘æ–¹é¢ï¼Œè¿™é‡Œå°±è¦çœ‹æ˜¯å“ªä¸€ç±»å’¯ï¼Œæ€»ä½“æ¥è¯´æ˜¯åå‘ç®—æ³•ç ”å‘ï¼Œä»¥åŠå·¥ç¨‹è½åœ°æ–¹å‘ã€‚å­¦æœ¯è¿˜æ˜¯ä¸é€‚åˆæˆ‘ï¼Œå½“ç„¶æˆ‘å¯¹äºå‰è¾ˆçš„ä¼˜ç§€ç»éªŒè¿˜æ˜¯ä¿æŒæ•¬æ„ã€‚å¿ƒè·¯å†ç¨‹å¯ä»¥ä»å¦‚ä¸‹æ¦‚å†µï¼šæ»¡æ€€æ•¬æ„--ã€‹é¦–æ¬¡ç§‘ç ”--ã€‹çŒæ°´ä¹‹ä½œ --ã€‹ä¹Ÿå°±è¿™æ ·ï¼Ÿ--ã€‹æ‰¹åˆ¤çœ‹å¾… --ã€‹æœ‰ç‚¹é“ç† --ã€‹çœŸæ˜¯è¿™æ · --ã€‹æ•‘æˆ‘ä¸€å‘½ --ã€‹å¤§ç¥æˆ‘æ˜¯èœé¸¡ã€‚ æ˜¯çš„è¿™ä¸ªå°±æ˜¯æˆ‘çš„ç»å†ï¼Œå°¤å…¶æ˜¯ç‚¼ä¸¹äº†æ•´æ•´ä¸€å¹´åŠä¹‹åï¼Œæ·¦ï¼</p>
<p>æ‚ä¸ƒæ‚å…«ï¼Œè¿™ä¸ªå’‹è¯´å‘¢ï¼Œå°±æ˜¯æœ‰çš„æ²¡çš„ï¼ŒåŒ…æ‹¬ä¸€äº›å¤±è´¥çš„ç»éªŒï¼ˆä¸»è¦æ˜¯å‡ºå­¦æ ¡ä»¥åï¼Œå‚åŠ å·¥ä½œï¼ŒèŒåœºè§é—»ï¼Œåˆ›ä¸šæ„Ÿæ‚Ÿï¼Œå¤±è´¥æ•™è®­å•¥çš„ï¼‰å¤±è´¥äº†ä¸å€¼ä¸€æï¼ˆå“¼ï¼Œä»¥ä¸ºæˆ‘ä¼šåˆ†äº«å‡ºæ¥ï¼Œè®©ä½ å¿…å‘æ˜¯å§~ ä¸ç»™ï¼ï¼‰</p>
<h2 data-id="heading-2">å·¥ä½œå†ç¨‹</h2>
<p>å‡ºæ¥äº†ï¼ŒæŠ€æœ¯ä¸Šçš„äº‹æƒ…ï¼Œå…¶å®çœŸæ²¡å•¥å¥½èŠçš„å•¦ï¼Œä¸€ä»½å·¥ä½œï¼ŒæŠ€èƒ½ï¼Œè€Œä¸”ç½„ç«¹éš¾ä¹¦å“‡ã€‚ä¸å…¶çœ‹æˆ‘å¹æ°´ï¼Œè¿˜ä¸å¦‚è‡ªå·±å»çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œå»é—®é—®AIï¼Œä¸AIè€å¸ˆå…±åŒè¿›æ­¥~ åœ¨å·¥ä½œä¸Šï¼Œæ€»ä½“ä¸Šå…¶å®æ˜¯æ¯”è¾ƒå¹³æ·¡çš„ï¼Œå½“ç„¶å¦‚æœè¯´è§é—»ï¼ŒçœŸçš„è¿˜æ˜¯éå¸¸æ„Ÿè°¢ï¼Œæˆ‘ç¬¬ä¸€å®¶å…¥èŒçš„å…¬å¸çš„å¸¦æˆ‘çš„é¢†å¯¼ã€‚æ˜¯çš„ï¼Œæ²¡æœ‰ä»–ï¼Œå¯èƒ½å°±æ²¡æœ‰æˆ‘å»ä¸»åŠ¨èµšç¬¬ä¸€ç¬”é’±ï¼ˆå½“ç„¶ä¸èƒ½å«ç¬¬ä¸€æ¡¶é‡‘ï¼Œå› ä¸ºä»–è¯´è¿‡ï¼Œè¿™ä¸ªå°é’±é’±ï¼Œå¦‚æœä¸èƒ½ä¿è¯ä½ æœªæ¥ä¸‰å››å¹´è¡£é£Ÿæ— å¿§ï¼Œå°±ä¸ç®—ï¼Œä¸åˆ°è¿™ä¸ªå’–ä½ï¼Œæˆ‘ä¸€æƒ³ä¹Ÿå¯¹ï¼ï¼‰åœ¨é‡åˆ°ä»–ä¹‹å‰ï¼Œæˆ‘æ˜¯æ ‡å‡†çš„æ‰“å·¥äººæ€ç»´ï¼ˆå®é™…ä¸Šï¼Œé‚£ä»½å·¥ä½œå¯¹æˆ‘æ¥è¯´å¹¶ä¸æ˜¯å¾ˆokï¼Œä½†æ˜¯åªèƒ½è¯´è·Ÿç€ä»–èƒ½å­¦ç‚¹ä¸œè¥¿ï¼Œä¹Ÿç¡®å®å› ä¸ºä»–çš„æ–¹å¼ï¼Œè§åˆ°äº†å¾ˆå¤šä¸œè¥¿ï¼Œä¹Ÿèµšäº†ç‚¹ç¡åæ”¶ç›Šã€‚å…¶å®æˆ‘æœ‰è¿‡ä¸€æ®µæ—¶é—´çš„ç„¦è™‘ï¼Œç¨‹æ¡‘å•Šï¼Œæˆ‘çŸ¥é“ä½ å°å­å¤§æ¦‚ç‡èƒ½çœ‹åˆ°æˆ‘çš„åšå®¢ï¼ŒæŒ‡ä¸å®šå“ªé‡Œç›¯ç€å‘¢ã€‚æ˜¯çš„å› ä¸ºä½ ï¼Œè¿˜æœ‰ä½ ï¼Œè‹—å­ï¼Œè–ªèµ„ä¸é«˜ï¼Œåå¤´å‘¢ï¼Œä¹Ÿå°±é‚£æ ·ã€‚æˆ‘æ˜¯çœŸæ€•å“¥ä»¬ä½ æ¯”æˆ‘å…ˆå¼€ä¸Šå®é©¬å•Šï¼ˆå½“ç„¶å¼€ä¸ªç©ç¬‘ï¼Œä½ æ¯”æˆ‘å¼ºï¼Œæˆ‘èººç€é£ï¼Œå½“ç„¶å¿ƒç†è‚¯å®šè§‰å¾—è‡ªå·±å·®ç‚¹ï¼Œä½†æ˜¯æˆ‘ä¼šç”±è¡·çš„å¸Œæœ›ä½ æ¯”æˆ‘å¼ºï¼Œä½†æ˜¯åªèƒ½ä¸€ç‚¹ç‚¹ã€åº•çº¿ï¼ã€‘ï¼‰å½“ç„¶ï¼Œå›åˆ°è¯é¢˜ï¼Œå°±æ˜¯è¿™ä¸ªé¢†å¯¼ï¼Œå¾ˆå¥½ï¼Œæˆ‘å¾ˆå°‘è®¤è€å¤§ï¼Œè¿™ä¸ªæˆ‘æ˜¯ç”±è¡·è®¤çš„ã€‚æ€æƒ³çš„æ‰“å¼€ï¼Œæ¯”æŠ€æœ¯ä»€ä¹ˆçš„ï¼Œå…¶å®å¾€å¾€æ›´é‡è¦ã€‚å¾ˆå¤šä¸œè¥¿ï¼Œä¸æ•¢å»æƒ³ï¼Œä¸æ•¢å»åšï¼Œæ²¡æœ‰è¿™ä¸ªçœ¼ç•Œï¼ŒçœŸçš„è¦Gã€‚åšäº‹æƒ…çš„ç¬¬ä¸€æ­¥æ˜¯å…ˆæƒ³ï¼Œå½“ç„¶åšä¹‹å‰è¦åšå¥½è°ƒç ”ï¼Œæƒ³æ¸…æ¥šè‡ªå·±çš„å®šä½ï¼Œåæœï¼Œè§‰å¾—å†å·®éƒ½èƒ½æ¥å—ï¼Œæˆ‘è§‰å¾—æ²¡æœ‰ç†ç”±ä¸å»åšï¼Œè™½ç„¶ä¸ä¸€å®šä¼šæˆåŠŸï¼Œæ˜¯çš„ï¼Œå¿…ç„¶æœ‰é£é™©ï¼Œä½†æ˜¯è¿˜æ˜¯é‚£å¥è¯ï¼Œè¦èƒ½æ¥å—ä½ å†å»è€ƒè™‘ï¼Œè¿™å’Œå½“èµŒç‹—æ˜¯ä¸ä¸€æ ·çš„ã€‚å·¥ä½œåæ­£è®°ä½ä¸€å¥è¯å°±è¡Œï¼Œä¸ç®¡å¤šç‰›é€¼ï¼Œå°±æ˜¯ä¸€ä¸ªæ‰“å·¥çš„ï¼Œå®‰èº«ç«‹å‘½ä»…æ­¤è€Œå·²ï¼Œonly you get  it by youself is your. æ‰“å·¥ï¼Œå®é™…ä¸Šè¿˜æ˜¯è¢«å®šä¹‰ï¼Œæˆ‘è®¨åŒè¿™æ ·ï¼Œä½†æ˜¯ç›®å‰åˆååéœ€è¦è¿™æ ·å»ç§¯ç´¯åŠ›é‡ã€‚</p>
<h2 data-id="heading-3">åˆ›ä¸š</h2>
<p>å¾ˆå¤§èƒ†ï¼Œæ˜¯çš„ï¼Œæˆ‘è§‰å¾—è‡ªå·±å¯ç‰›é€¼äº†ï¼Œå½“ç„¶å¤±è´¥äº†ã€‚ä½†æ˜¯ï¼Œå’‹è¯´å‘¢ï¼Œå¤±è´¥çš„ç»éªŒè¿˜æ˜¯å®è´µçš„ï¼Œæˆ‘çœ‹åˆ°äº†æˆåŠŸçš„å¸Œæœ›ã€‚è‡³å°‘æˆ‘èŠ±äº†ä¸€å¹´çš„æ—¶é—´ï¼Œåšäº†ä¸€æ¬¡å°è¯•ï¼Œè¿˜è®°å¾—å»å¹´è¿™ä¸ªæ—¶å€™ï¼Œ2024å¹´ï¼Œ12æœˆä»½ï¼Œæˆ‘å»é‚£ä¸ªæ—¶å€™ï¼Œå‹åŠ›å·¨å¤§ï¼ŒçœŸçš„å¥½å¤§ã€‚æˆ‘é‚£ä¸ªæ—¶å€™è§‰å¾—è‡ªå·±å®Œå…¨å–˜ä¸è¿‡æ°”æ¥äº†ï¼Œæ¯å¤©éƒ½æ˜¯å‡Œæ™¨ä¸‰å››ç‚¹ï¼ˆå½“ç„¶é‚£æ®µæ—¶é—´ï¼Œå­¦ä¹ æŠ€èƒ½æ‹‰æ»¡ï¼Œä½ æƒ³è¦åšåˆ°ï¼Œå°±å¿…é¡»ä»˜å‡ºä»£ä»·ï¼Œè¿™ä¸ªå°±æ˜¯ä»£ä»·ï¼Œè¾¹å­¦è¾¹å¹²ã€å°å‚²å¨‡ï¼Œæˆ‘çš„ç¬¬ä¸€å°ç”µè„‘ï¼ˆè‡ªå·±ä¹°çš„ï¼‰ï¼Œæè¿‡æ¥ï¼Œåœ¨ç¬¬ä¸€ä¸ªæœˆä»½å°±å®ç°äº†ç›ˆåˆ©ï¼Œè¿™å°ç”µè„‘=ç™½æ‹¿ï¼ˆè®¡ç®—å…¬å¼ï¼šæ‰€å¾—-æŒ‰ç…§å·¥èµ„æŠ˜ç®—å·¥æ—¶-ç”µè„‘ï¼‰ã€‘ï¼‰é‚£ä¸ªæ—¶å€™å¾ˆæƒ³æ”¾å¼ƒï¼Œä½†æ˜¯ä¹Ÿä¸çŸ¥é“æ˜¯å•¥åŸå› ï¼Œåæ­£å°±æ˜¯ç†¬è¿‡å»äº†ã€‚ï¼ˆä¹Ÿæ˜¯é‚£ä¸ªåŸå› ï¼Œç°åœ¨æ²¡æœ‰ä¸€ä¸¤ç‚¹æ ¹æœ¬ç¡ä¸ç€å•Šï¼ï¼ï¼å½“ç„¶æˆ‘åœ¨å­¦æ ¡å°±å·²ç»å¤©å¤©åäºŒç‚¹äº†ï¼‰ã€‚ç›®å‰å‘¢ï¼Œå¤±è´¥äº†ï¼Œå¾ˆé—æ†¾ï¼Œä½†æ˜¯ä¸å¯æƒœï¼Œç§¯ç´¯åŠ›é‡å’¯ã€‚ä¹è§‚å½“ä¸­ï¼Œå»å¸¦æ‚²è§‚ï¼Œæ‚²è§‚å½“ä¸­è¦å¸¦ä¹è§‚ã€‚äº‹æƒ…åšèµ·æ¥ï¼ŒçœŸçš„ä¸ä¼šè§‰å¾—ç´¯ï¼Œæˆ‘è§‰å¾—æˆ‘å’Œæ¨¡å‹è®­ç»ƒä¸€æ ·ä¸€æ ·çš„ï¼Œæœç€æ¢¯åº¦å¹²ï¼Œæ²¿ç€å¯èƒ½çš„ç›®æ ‡å¹²ï¼Œå½“ç„¶è¿™ä¸ªè¿‡ç¨‹å½“ä½œæ³¢åŠ¨æ˜¯æ­£å¸¸çš„ï¼Œè°çš„ loss ä¸€è·¯é¡ºæ»‘ï¼Œä¸å¾—æ¥ç‚¹æ³¢åŠ¨æ‰¾æ‰¾ä¹å­ã€‚</p>
<h2 data-id="heading-4">åç»­è®¡åˆ’</h2>
<p>æ¥ä¸‹æ¥æ¥åˆ°æˆ‘ä»¬çš„æœ€åä¸€ä¸ªè¯é¢˜ï¼Œåç»­è®¡åˆ’ï¼Œå†™å®Œè¿™ä¸ªä¼°è®¡å†è§é¢å°±æ˜¯æ˜å¹´å’¯ã€‚ä¹Ÿå¯èƒ½ä¸æ˜¯ï¼Œè°çŸ¥é“å‘¢ã€‚å°±åƒæˆ‘å»å¹´ä¸çŸ¥é“ä»Šå¹´æ˜¯åœ¨å“ªé‡Œå†™è¿™ç¯‡åšå®¢ï¼Œåªèƒ½è¯´ä»Šå¹´çš„æ•…äº‹å¾ˆç²¾å½©ï¼Œå¾ˆå……å®ã€‚èƒ½ä¸èƒ½è·ƒé¾™é—¨ï¼Œä¸çŸ¥é“ï¼ŒåŠªåŠ›å‘—ã€‚é‚£ä¹ˆæ¥ä¸‹æ¥ä¸‰å¹´æˆ‘ä»¬åˆ°åº•è¦å¹²ä»€ä¹ˆå‘¢ã€‚
<strong>å¹¿ç§¯ç²®ï¼Œç¼“ç§°ç‹</strong> å…ˆæ²‰æ·€æ²‰æ·€ã€‚ä½†æ˜¯æœ‰ä¸€ç‚¹å¯ä»¥è‚¯å®šçš„æ˜¯ï¼Œä»Šå¹´ï¼Œæ˜å¹´ï¼Œåå¹´ï¼Œå¤§åå¹´ã€‚ä¸‰å¹´åï¼Œæˆ‘å¤§æ¦‚ç‡è¿˜æ˜¯ä¸€ä¸ªäººã€‚è¿™é‡Œä¹Ÿæ˜¯ç»™æˆ‘è‡ªå·±æä¸ªé†’ï¼š</p>
<ol>
<li>ä¸¤è¢–æ¸…é£ä¸æ•¢è¯¯ä½³äºº</li>
<li>äººç”Ÿå¾ˆç²¾å½©ï¼Œpay more time for myself</li>
<li>ä¸å…·å¤‡æ€æƒ³æ¡ä»¶ï¼ˆè‹—å­ï¼Œä½ è¦æ‰¾è‡ªå·±ï¼Œæˆ‘â„¢ä¹Ÿè¦ï¼Œæˆ‘ä¸çŸ¥é“è‡ªå·±åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆç©æ„ã€‚ä¹Ÿå¯èƒ½æ˜¯æˆ‘çš„æ€æƒ³åŒ…è¢±å¤§å§ï¼Œä¹Ÿå¯èƒ½æ˜¯å¸Œæœ›é‚£ä¸ªæ›´ç‰›é€¼çš„è‡ªå·±æ¥å®ç°å§ï¼‰</li>
</ol>
<p>æˆ‘ç»™è‡ªå·±çš„å®šä½æ˜¯ä¸ªåŠæ¯›~ åªæ˜¯è¿™ä¸ªåŠæ¯›æœ‰ç‚¹è‡ªå·±çš„æƒ³æ³•ï¼Œèƒ½ä¸èƒ½å˜çŒ´å“¥èº«ä¸Šçš„æ¯«æ¯›ä¸çŸ¥é“ï¼ˆä¸è¿‡æŒ‰ç…§æˆ‘çš„æ€§æ ¼ï¼Œå˜æˆæ¯«æ¯›ä¹‹åå¤§æ¦‚ç‡æƒ³è¦å˜æˆçŒ´å“¥ï¼‰ã€‚æ­¤è‡´ï¼Œå…±å‹‰ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[TRAE SOLO é©±åŠ¨ï¼šé‡æ„AIæ¨¡æ‹Ÿé¢è¯•äº§å“çš„å¤ç›˜]]></title>    <link>https://juejin.cn/post/7579871631096184858</link>    <guid>https://juejin.cn/post/7579871631096184858</guid>    <pubDate>2025-12-04T17:31:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579871631096184858" data-draft-id="7579811819667505204" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="TRAE SOLO é©±åŠ¨ï¼šé‡æ„AIæ¨¡æ‹Ÿé¢è¯•äº§å“çš„å¤ç›˜"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-04T17:31:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="HiStewie"/> <meta itemprop="url" content="https://juejin.cn/user/1591748568038823"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            TRAE SOLO é©±åŠ¨ï¼šé‡æ„AIæ¨¡æ‹Ÿé¢è¯•äº§å“çš„å¤ç›˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1591748568038823/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    HiStewie
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T17:31:56.000Z" title="Thu Dec 04 2025 17:31:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85191448f83e4d8395115fd486dfb80a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGlTdGV3aWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765474316&amp;x-signature=qda2yBn8X0B0XbVekyCbfNCh8W8%3D" alt="æˆªå±2025-12-05 00.25.44.png" loading="lazy"/></p>
<p>é¢è¯•æ˜¯ä¸€é¡¹æŠ€èƒ½ï¼Œè€Œä»»ä½•æŠ€èƒ½çš„è¿›é˜¶éƒ½ç¦»ä¸å¼€â€œé«˜é¢‘ç»ƒä¹ â€ä¸â€œå³æ—¶åé¦ˆâ€è¿™ä¸¤ä¸ªæ ¸å¿ƒè¦ç´ ã€‚</p>
<p>ä¼ ç»Ÿçš„é¢è¯•å‡†å¤‡å¾€å¾€é™·å…¥ä¸¤ä¸ªæç«¯ï¼šè¦ä¹ˆå¯¹ç€é•œå­è‡ªè¨€è‡ªè¯­ï¼Œç¼ºä¹å®¢è§‚çš„ç¬¬ä¸‰æ–¹è§†è§’ï¼›è¦ä¹ˆèŠ±é‡é‡‘æ‰¾å¯¼å¸ˆæ¨¡æ‹Ÿï¼Œæˆæœ¬é«˜æ˜‚ä¸”éš¾ä»¥å¸¸æ€åŒ–ã€‚æŠ€æœ¯å­˜åœ¨çš„æ„ä¹‰ï¼Œå°±æ˜¯ç”¨ä½è¾¹é™…æˆæœ¬è§£å†³é«˜é¢‘ç—›ç‚¹ã€‚</p>
<p>ä½†è¿™å…¶å®å¹¶ä¸æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å°è¯•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘æ›¾å¼€å‘è¿‡ä¸€ä¸ªåˆç‰ˆå·¥å…·ï¼šï¼ˆ<a href="https://juejin.cn/post/7569035733257715758" target="_blank" title="https://juejin.cn/post/7569035733257715758">QuizPort1.0 è®©æ¯ç¯‡å¥½æ–‡éƒ½æœ‰æµ‹éªŒé™ªè·‘</a>ï¼‰</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/be701d8ea56849558a87ecec43b4d70b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGlTdGV3aWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765474316&amp;x-signature=t25gKlfLQ2bpWWRb22rqyzXAoEQ%3D" alt="5bf7b436a2f245a9a41696d65edc5891~tplv-73owjymdk6-jj-mark-v1_0_0_0_0_5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGlTdGV3aWU=_q75.webp" loading="lazy"/></p>
<p>å½“æ—¶çš„æ€è·¯å¾ˆçº¿æ€§ï¼š<strong>æŠ“å–æŠ€æœ¯æ–‡ç«  <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> AI æç‚¼çŸ¥è¯†ç‚¹ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> ç”Ÿæˆæ–‡å­—é¢è¯•é¢˜</strong>ã€‚</p>
<p>ä½†åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œ<strong>æˆ‘å‘ç°è¿™ç§åšé¢˜æ¨¡å¼æŒºå¼±æ™ºçš„</strong>ï¼Œä¸€æ˜¯ä¿¡æºå¤ªå°‘ï¼Œå°±ä¸€ç¯‡å‚è€ƒæ–‡ç« å‡ºé‚£ç§è®©äººéƒ½é€‰Cçš„åƒåœ¾é¢˜ï¼Œç¬¬äºŒæ˜¯æ— æ³•è§£å†³â€œä¸€å¼€å£å°±ç´§å¼ â€æˆ–è€…â€œæ‡‚åŸç†ä½†è¯´ä¸æ¸…æ¥šâ€çš„ç—›ç‚¹ã€‚</p>
<p>ä¸ºäº†æ‰“ç ´è¿™ç§â€œçº¸ä¸Šè°ˆå…µâ€çš„å±€é™ï¼Œæˆ‘å†³å®šå€ŸåŠ© <strong>TRAE SOLO</strong> å¯¹é¡¹ç›®è¿›è¡Œå½»åº•çš„<strong>é‡æ„</strong>ã€‚è¿™ä¸€æ¬¡ï¼Œæˆ‘å°†äº¤äº’ç»´åº¦ä»â€œæ–‡æœ¬â€å‡çº§ä¸ºâ€œéŸ³è§†é¢‘â€ï¼Œæ‰“é€ ä¸€ä¸ªçœŸæ­£çš„<strong>å®æ—¶æ¨¡æ‹Ÿé¢è¯•</strong>ç¯å¢ƒã€‚</p>
<p>æœ¬æ–‡å°†è·³è¿‡åŸºç¡€çš„ä»£ç ç²˜è´´ï¼Œä»æ¶æ„å†³ç­–ã€æŠ€æœ¯é€‰å‹åˆ°å·¥ç¨‹åŒ–è½åœ°çš„å…¨é“¾è·¯è§†è§’ï¼Œå¤ç›˜æˆ‘æ˜¯å¦‚ä½•åˆ©ç”¨ TRAE SOLO å°†è¿™ä¸ªæ¨¡ç³Šçš„æƒ³æ³•åœ¨<strong>ä»…ä»…ä¸€ä¸ªæ™šä¸Š</strong>çš„æ—¶é—´å†…è½¬åŒ–ä¸ºå¯ç”¨çš„ MVPã€‚</p>
<h2 data-id="heading-0">ä¸€ã€æ¶æ„è®¾è®¡ï¼šä»æŠ½è±¡æ€ç»´åˆ°å…·è±¡è“å›¾</h2>
<p>åœ¨å¼€å‘åˆæœŸï¼Œæœ€å¤§çš„é˜»åŠ›å¾€å¾€ä¸æ˜¯å†™ä»£ç ï¼Œè€Œæ˜¯å¦‚ä½•å°†è„‘æµ·ä¸­å‘æ•£çš„åŠŸèƒ½ç‚¹æ”¶æŸä¸ºæ¸…æ™°çš„ç³»ç»Ÿæ¶æ„ã€‚ä¸€ä¸ªå¥½çš„æ¶æ„è®¾è®¡ï¼Œèƒ½è§„é¿æ‰æœªæ¥å¼€å‘ä¸­ 80% çš„è¿”å·¥é£é™©ã€‚</p>
<p>å€ŸåŠ© TRAE SOLO çš„ SOLO coder åŠŸèƒ½ï¼Œæˆ‘è·³è¿‡äº†ç¹ççš„æ‰‹ç»˜æµç¨‹ã€‚æˆ‘ä»…å‘å®ƒæè¿°äº†â€œç®€å†è§£æã€é¢è¯•äº¤äº’ã€åé¦ˆè¯„ä¼°â€è¿™ä¸‰æ¡æ ¸å¿ƒæ•°æ®æµï¼Œå®ƒä¾¿è¿…é€Ÿç”Ÿæˆäº†å¦‚ä¸‹çš„æ¶æ„é€»è¾‘ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/37ed54330f474207842c4dbe224f21b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGlTdGV3aWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765474316&amp;x-signature=xwONSoeTa1xgtWfMgLkyY3XSTAg%3D" alt="æˆªå±2025-12-05 01.05.40.png" loading="lazy"/></p>
<p>åŸºäºè¿™å¼ è“å›¾ï¼Œç³»ç»Ÿè¢«ç²¾å‡†åˆ‡å‰²ä¸ºäº”ä¸ªç‹¬ç«‹æ¨¡å—ï¼šç®€å†å¤„ç†ã€PromptåŠ¨æ€ç”Ÿæˆã€è¯­éŸ³äº¤äº’ã€AIè¯„ä¼°ä»¥åŠå®¹ç¾æ¨¡å—ã€‚è¿™ç§æ¨¡å—åŒ–çš„æ€ç»´æ–¹å¼ï¼Œè®©åç»­çš„å¼€å‘å˜æˆäº†ç®€å•çš„â€œå¡«ç©ºé¢˜â€ï¼Œè€Œä¸æ˜¯å¤æ‚çš„â€œé—®ç­”é¢˜â€ã€‚</p>
<h2 data-id="heading-1">äºŒã€æ ¸å¿ƒå®ç°ï¼šAI èµ‹èƒ½ä¸‹çš„æŠ€æœ¯æ”»åš</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56aa7d3b3c04436197442aad34f54998~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGlTdGV3aWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765474316&amp;x-signature=sOl2%2BkB1luOCp9WF6426H%2Bz25OQ%3D" alt="æˆªå±2025-12-05 00.41.24.png" loading="lazy"/></p>
<p>åœ¨æ ¸å¿ƒåŠŸèƒ½çš„å®ç°ä¸Šï¼Œæˆ‘å¹¶æ²¡æœ‰ä»é›¶é€ è½®å­ï¼Œè€Œæ˜¯å°† TRAE SOLO ä½œä¸ºæˆ‘çš„â€œæŠ€æœ¯åˆä¼™äººâ€ï¼Œè®©å®ƒè´Ÿè´£å…·ä½“å®ç°çš„ç»†èŠ‚ï¼Œè€Œæˆ‘è´Ÿè´£æŠŠæ§ä¸šåŠ¡é€»è¾‘çš„èµ°å‘ã€‚</p>
<h3 data-id="heading-2">åŠ¨æ€ Prompt ç”Ÿæˆæœºåˆ¶</h3>
<p>å¦‚æœé¢è¯•å®˜å¯¹æ‰€æœ‰å€™é€‰äººéƒ½é—®ä¸€æ ·çš„é—®é¢˜ï¼Œè¿™ä¸ªäº§å“å°±å¤±å»äº†çµé­‚ã€‚çœŸå®çš„é¢è¯•åœºæ™¯è¦æ±‚é—®é¢˜å¿…é¡»å…·å¤‡â€œä¸Šä¸‹æ–‡æ„ŸçŸ¥èƒ½åŠ›â€ã€‚</p>
<p>åˆ©ç”¨ TRAE SOLOï¼Œæˆ‘å¿«é€Ÿæ„å»ºäº†ä¸€å¥—â€œç®€å†è§£æ+æ¨¡æ¿æ³¨å…¥â€çš„æ–¹æ¡ˆã€‚ç³»ç»Ÿé€šè¿‡ <code>pdf-parse</code> æå–ç®€å†ä¸­çš„æŠ€æœ¯æ ˆå…³é”®è¯ï¼Œé…åˆ TRAE SOLO ç”Ÿæˆçš„ç­–ç•¥é€»è¾‘ï¼Œå®ç°äº†é’ˆå¯¹ä¸åŒå²—ä½ï¼ˆå¦‚å‰ç«¯ä¾§é‡æ¡†æ¶åŸç†ï¼Œåç«¯ä¾§é‡é«˜å¹¶å‘ï¼‰çš„å·®å¼‚åŒ–æé—®ã€‚</p>
<p><strong>é™æ€çš„é¢˜åº“æ˜¯æ­»æ°´çš„ï¼ŒåŠ¨æ€çš„ Prompt æ‰æ˜¯æ´»æºã€‚</strong></p>
<h3 data-id="heading-3">è¯­éŸ³è½¬å½•é“¾è·¯çš„å–èˆ</h3>
<p>è¯­éŸ³è½¬å½•çš„å»¶è¿Ÿç›´æ¥å†³å®šäº†ç”¨æˆ·çš„æ²‰æµ¸æ„Ÿã€‚åœ¨æŠ€æœ¯é€‰å‹é˜¶æ®µï¼Œ<strong>æˆ‘é¢ä¸´ WebSocket é•¿è¿æ¥ä¸ REST API çš„æŠ‰æ‹©</strong>ã€‚</p>
<p>TRAE SOLO ç»™å‡ºäº†éå¸¸å®¢è§‚çš„è¯„ä¼°ï¼šè™½ç„¶ WebSocket ç†è®ºå»¶è¿Ÿæ›´ä½ï¼Œä½†åœ¨æµè§ˆå™¨ç«¯çš„å…¼å®¹æ€§å’Œæ–­è¿é‡è¿æœºåˆ¶ä¸Šæå…¶å¤æ‚ï¼Œå®¹æ˜“å¯¼è‡´ MVP é˜¶æ®µçš„ä¸ç¨³å®šã€‚æœ€ç»ˆæˆ‘é‡‡çº³äº†å®ƒçš„å»ºè®®ï¼Œé€‰æ‹©äº† Deepgram çš„ REST API æ–¹æ¡ˆã€‚äº‹å®è¯æ˜ï¼Œåœ¨ MVP é˜¶æ®µï¼Œç¨³å®šæ€§è¿œæ¯”æè‡´çš„ä½å»¶è¿Ÿæ›´é‡è¦ã€‚</p>
<h3 data-id="heading-4">è‡ªé€‚åº”è¿½é—®ç³»ç»Ÿ</h3>
<p>ä¸ºäº†æ¨¡æ‹ŸçœŸäººçš„å‹è¿«æ„Ÿï¼Œæˆ‘è®¾è®¡äº†ä¸€å¥—åŸºäºåˆ†æ•°çš„è¿½é—®çŠ¶æ€æœºã€‚</p>
<p>å½“ç”¨æˆ·å¾—åˆ†è¶…è¿‡80åˆ†æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è§¦å‘â€œæ·±åº¦è¿½é—®â€æ¨¡å¼ï¼›</p>
<p>åä¹‹åˆ™é™çº§éš¾åº¦ã€‚è¿™æ®µå¤æ‚çš„çŠ¶æ€ç®¡ç†é€»è¾‘ï¼Œé€šè¿‡ TRAE SOLO ç”Ÿæˆçš„ä»£ç ç»“æ„æ¸…æ™°ä¸”æ³¨é‡Šå®Œå¤‡ï¼Œæå¤§åœ°é™ä½äº†ç»´æŠ¤æˆæœ¬ã€‚</p>
<p><strong>é‚ªæ¶æƒ³æ³•ï¼šæˆ‘ä¹‹åå‡†å¤‡åŠ ä¸€å¥—å‹åŠ›é¢é€»è¾‘ï¼Œè®©é¢è¯•å®˜ç‹ ç‹ æ‹·æ‰“ç”¨æˆ·</strong></p>
<h2 data-id="heading-5">ä¸‰ã€æŠ€æœ¯æ ˆé€‰å‹ï¼šå¯»æ‰¾â€œåˆé€‚â€è€Œéâ€œæœ€æ–°â€</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd41ddf6dc8b4be79cf74e94063fe029~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGlTdGV3aWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765474316&amp;x-signature=9qbcIWUPUQI5pyoKlN80%2FwoFIjg%3D" alt="æˆªå±2025-12-05 00.25.13.png" loading="lazy"/></p>
<p>æŠ€æœ¯é€‰å‹æ²¡æœ‰é“¶å¼¹ï¼Œåªæœ‰æœ€é€‚åˆå½“å‰åœºæ™¯çš„æƒè¡¡ã€‚åœ¨ TRAE SOLO çš„è¾…åŠ©è¯„ä¼°ä¸‹ï¼Œæˆ‘è¿…é€Ÿç¡®å®šäº†ä»¥ä¸‹æŠ€æœ¯ç»„åˆï¼Œä¸»æ‰“â€œå¿«â€ä¸â€œç¨³â€ï¼š</p>








































<table><thead><tr><th align="left">å±‚çº§</th><th align="left">æŠ€æœ¯</th><th align="left">ç†ç”±</th></tr></thead><tbody><tr><td align="left"><strong>å‰ç«¯</strong></td><td align="left">Next.js 15 + React 18</td><td align="left">App Router æ¶æ„å…ˆè¿›ï¼ŒSSR å¤„ç†ç®€å†è§£ææ›´å®‰å…¨</td></tr><tr><td align="left"><strong>æ ·å¼</strong></td><td align="left">Tailwind CSS 4</td><td align="left">åŸå­åŒ– CSSï¼Œæè‡´çš„å¼€å‘é€Ÿåº¦</td></tr><tr><td align="left"><strong>åŠ¨ç”»</strong></td><td align="left">Framer Motion</td><td align="left">è½»æ¾å®ç°æ‰“å­—æœºæ•ˆæœä¸æµç•…äº¤äº’</td></tr><tr><td align="left"><strong>è¯­éŸ³</strong></td><td align="left">Deepgram API</td><td align="left">ä¸­æ–‡è¯†åˆ«å‡†ç¡®ç‡é«˜ï¼Œæ€§ä»·æ¯”ä¼˜</td></tr><tr><td align="left"><strong>AI</strong></td><td align="left">Groq + OpenAI å…¼å®¹</td><td align="left">Groq æé€Ÿæ¨ç†ä¿è¯å®æ—¶æ€§ï¼ŒOpenAI æ¥å£åšå®¹ç¾å…œåº•</td></tr><tr><td align="left"><strong>PDF</strong></td><td align="left">pdf-parse</td><td align="left">è½»é‡çº§çš„ç®€å†è§£ææ–¹æ¡ˆ</td></tr></tbody></table>
<p><strong>æˆç†Ÿçš„æŠ€æœ¯æ ˆæ˜¯é¡¹ç›®çš„åŸºçŸ³ï¼Œå®ƒèƒ½è®©ä½ æŠŠç²¾åŠ›é›†ä¸­åœ¨ä¸šåŠ¡åˆ›æ–°è€Œéå¡«è¡¥æ¡†æ¶çš„å‘ä¸Šã€‚</strong></p>
<h2 data-id="heading-6">å››ã€é—®é¢˜ä¿®å¤ï¼šDiffView çš„é™ç»´æ‰“å‡»</h2>
<p>å¼€å‘è¿‡ç¨‹ä¸­æœ€è€—æ—¶çš„å¾€å¾€æ˜¯ Debugã€‚TRAE SOLO çš„ DiffView å·¥å…·åœ¨å®šä½å¤æ‚ Bug æ—¶å±•ç°äº†æé«˜çš„æ•ˆç‡ã€‚è¿™äº›bugè®©æˆ‘æ”¹ï¼Œä¼°è®¡å¤´å‘å°±ä¿ä¸ä½äº†ã€‚æŒºå¤šéƒ½æ˜¯é‚£ç§å°ä¼—åˆé’»çš„æŠ¥é”™ï¼Œä¸ç‹ ç‹ çœ‹æ–‡æ¡£åŸºæœ¬æ²¡è¾™çš„ã€‚</p>
<p>ä»¥â€œæ‘„åƒå¤´é»‘å±â€é—®é¢˜ä¸ºä¾‹ï¼Œåœ¨ React ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶ï¼Œ<code>&lt;video&gt;</code> æ ‡ç­¾çš„ DOM èŠ‚ç‚¹å¸¸è¢«æ„å¤–ç§»é™¤ã€‚æˆ‘é€šè¿‡ DiffView å¯¹æ¯”äº†é—®é¢˜å‰åçš„ä»£ç å¿«ç…§ï¼Œè¿…é€Ÿé”å®šäº†æ˜¯åª’ä½“æµå¼•ç”¨ä¸¢å¤±çš„é—®é¢˜ã€‚è§£å†³æ–¹æ¡ˆæ˜¯å°†åª’ä½“æµæ‰˜ç®¡åœ¨ <code>useRef</code> ä¸­ï¼Œå¹¶é€šè¿‡ CSS æ§åˆ¶æ˜¾éšè€Œéé”€æ¯ç»„ä»¶ã€‚</p>
<p><strong>AIæ—¶ä»£çš„å¥½å¤„ï¼Œä¸ç»†çœ‹æ–°API/åº“çš„æ–‡æ¡£ï¼Œä¹Ÿèƒ½å†™åŠŸèƒ½</strong></p>
<h2 data-id="heading-7">äº”ã€ç”¨æˆ·ä½“éªŒï¼šç»†èŠ‚å†³å®šæˆè´¥</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b694142e00614da9b90572e83af5d782~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGlTdGV3aWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765474316&amp;x-signature=mp5khwWvFsWJ%2B1%2B6B4PkaQISZLI%3D" alt="æˆªå±2025-12-05 00.27.05.png" loading="lazy"/></p>
<p>æŠ€æœ¯è·‘é€šåªæ˜¯èµ·ç‚¹ï¼Œä½“éªŒä¼˜åŒ–æ‰æ˜¯ç»ˆç‚¹ã€‚</p>
<p>åœ¨ TRAE SOLO çš„å»ºè®®ä¸‹ï¼Œæˆ‘å¢åŠ äº†â€œè®¾å¤‡é¢„æ£€â€ç¯èŠ‚ï¼Œå¼ºåˆ¶åœ¨é¢è¯•å‰æ£€æµ‹éº¦å…‹é£æƒé™ï¼Œé¿å…äº†ç”¨æˆ·è¿›å…¥é¢è¯•åâ€œå¤±å£°â€çš„å°´å°¬ã€‚åŒæ—¶ï¼Œé’ˆå¯¹ API å¶å‘çš„é™æµé—®é¢˜ï¼Œè®¾è®¡äº†æ¸©å’Œçš„ç­‰å¾…æç¤ºå’Œ Loading åŠ¨æ•ˆã€‚</p>
<p>è¿™äº›çœ‹ä¼¼å¾®ä¸è¶³é“çš„ç»†èŠ‚ï¼Œæ„æˆäº†ç”¨æˆ·å¯¹äº§å“â€œé è°±â€çš„ç¬¬ä¸€å°è±¡ã€‚<strong>ç”¨æˆ·ä½“éªŒä¸æ˜¯ä¸€ä¸ªå•ä¸€çš„åŠŸèƒ½ï¼Œè€Œæ˜¯æ— æ•°ä¸ªå¾®å°ç»†èŠ‚çš„å åŠ ã€‚</strong></p>
<p>è¿˜æœ‰å°±æ˜¯è¯­éŸ³è¯†åˆ«ä¸­è‹±æ–‡æ·· + é”™åˆ«å­—é—®é¢˜ï¼Œæˆ‘çœ‹è®¯é£æœ‰ç±»ä¼¼å¤šè¯­è¨€æ¨¡å‹ï¼Œä½†æ˜¯ä»·æ ¼æŒºé«˜çš„ã€‚å¦‚æœè®¯é£çš„æœ‹å‹çœ‹åˆ°äº†ï¼Œå¯ä»¥è”ç³»æˆ‘ï¼Œèƒ½ä¸èƒ½è°ˆåˆä½œï¼ˆç™½å«–ï¼‰ã€‚æˆ‘å®˜ç½‘ä¸‹é¢æŒ‚ä½ ä»¬çš„åˆä½œé“¾æ¥</p>
<h2 data-id="heading-8">å…­ã€æ€»ç»“ä¸å±•æœ›</h2>
<p>é€šè¿‡<strong>è¿™ä¸€ä¸ªæ™šä¸Š</strong>çš„æé™å¼€å‘ï¼Œæˆ‘ä¸ä»…å®Œæˆäº†ä¸€ä¸ªåŒ…å«ç®€å†è§£æã€å®æ—¶è¯­éŸ³è½¬å½•ã€AI åŠ¨æ€è¯„ä¼°çš„ MVP äº§å“ï¼Œæ›´é‡è¦çš„æ˜¯éªŒè¯äº†ä¸€ç§å…¨æ–°çš„å¼€å‘èŒƒå¼ã€‚</p>
<p>TRAE SOLO åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æ‰®æ¼”çš„ä¸å†æ˜¯ç®€å•çš„ä»£ç ç”Ÿæˆå™¨ï¼Œè€Œæ˜¯ä¸€ä¸ªå…¨é“¾è·¯çš„æ™ºèƒ½åŠ©æ‰‹ã€‚å®ƒè®©å¼€å‘è€…ä»ç¹ççš„è¯­æ³•ç»†èŠ‚ä¸­è§£æ”¾å‡ºæ¥ï¼Œå°†ç²¾åŠ›èšç„¦äºæ¶æ„è®¾è®¡ã€ä¸šåŠ¡é€»è¾‘å’Œç”¨æˆ·ä½“éªŒè¿™äº›æ›´å…·åˆ›é€ æ€§çš„ç¯èŠ‚ã€‚</p>
<p>æœªæ¥ï¼Œè¿™ä¸ªäº§å“è¿˜å¯ä»¥å‘â€œé¢è¯•å½•åƒå›æ”¾â€ã€â€œé¢è¯•ç»“æœæŠ¥å‘Šâ€ã€â€œå“åº”é€Ÿåº¦è°ƒä¼˜â€ã€â€œæ¨¡å‹ä¼˜åŒ–ï¼ˆä½†æ˜¯è´µï¼Œè¦æƒ³å¥½å•†ä¸šæ¨¡å¼ï¼‰â€ç­‰æ–¹å‘æ‰©å±•ã€‚ä½†æ— è®ºåŠŸèƒ½å¦‚ä½•è¿­ä»£ï¼ŒæŠ€æœ¯æœåŠ¡äºäººçš„æ ¸å¿ƒé€»è¾‘ä¸ä¼šå˜ã€‚</p>
<p><strong>é‡æ„ä»£ç åªæ˜¯å¼€å§‹ï¼Œé‡æ„è‡ªæˆ‘æ‰æ˜¯ç»ˆå±€ã€‚åœ¨è¿™ä¸ªæ—¶ä»£ï¼Œ æ¯”â€œé€šè¿‡é¢è¯•â€œæ›´é‡è¦çš„ï¼Œ æ˜¯æ‹¥æœ‰â€œéšæ—¶å°†æƒ³æ³•è½åœ°â€œçš„åº•æ°”ã€‚</strong></p>
<h2 data-id="heading-9">é™„å½•ï¼šä½“éªŒåœ°å€ä¸ç¢ç¢å¿µ</h2>
<p><strong>ğŸ”— ä½“éªŒåœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.quizport.org%2F" target="_blank" title="https://www.quizport.org/" ref="nofollow noopener noreferrer">www.quizport.org/</a></p>
<p><strong>âš ï¸ å‡ ç‚¹å…è´£å£°æ˜ï¼ˆæ±‚è½»å–·ï¼‰ï¼š</strong></p>
<ol>
<li><strong>å…³äºé¢åº¦</strong>ï¼šä¸ºäº†éªŒè¯ MVP çš„ä½æˆæœ¬å¯è¡Œæ€§ï¼Œæˆ‘ç›®å‰æ¥çš„éƒ½æ˜¯ Deepgram å’Œ Groq çš„å…è´¹/å¼€å‘ç‰ˆ APIã€‚å¦‚æœä½ å‘ç°ç‚¹å‡»æ²¡ååº”æˆ–è€…æŠ¥é”™ï¼Œå¤§æ¦‚ç‡æ˜¯ä»Šå¤©çš„å…è´¹é¢åº¦è¢«åˆ·çˆ†äº†â€¦â€¦è¯·å¤šåŒ…æ¶µï¼Œæˆ–è€…æ˜å¤©èµ¶æ—©ã€‚</li>
<li><strong>å…³äºç½‘ç»œ</strong>ï¼šç›®å‰åŸŸåè¿˜æ²¡æ¥å¾—åŠåšå›½å†…çš„ CNAME ä¼˜åŒ–ï¼ˆä¸»è¦æ˜¯ä¸€æ™šä¸Šè‚å®Œå¤ªç´¯äº†ï¼Œçœ¼çš®æ‰“æ¶å®åœ¨é¡¶ä¸ä½å…ˆç¡äº† ğŸ’¤ï¼‰ã€‚å›½å†…ç›´è¿å¯èƒ½ä¼šæœ‰ç‚¹æ…¢æˆ–è€…æ— æ³•è®¿é—®ï¼Œå»ºè®®æŒ‚ä¸ªæ¢¯å­ä½“éªŒï¼Œåç»­æœ‰ç©ºæˆ‘ä¼šä¼˜åŒ–ä¸€ä¸‹çº¿è·¯ã€‚</li>
<li><strong>å…³äºåé¦ˆ</strong>ï¼šè¿™åªæ˜¯ä¸€ä¸ª MVP ç‰ˆæœ¬çš„ Demoï¼ŒåŠŸèƒ½è¿˜å¾ˆç®€é™‹ã€‚å¦‚æœä½ æœ‰ä»»ä½•å»ºè®®ã€Bug åé¦ˆï¼Œæˆ–è€…å•çº¯æƒ³èŠèŠæŠ€æœ¯ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ã€‚</li>
</ol>
<p>Code is cheap, show me the feedback. âœŒï¸</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸è¸©å‘ï¼è‹¹æœå¼€å‘è€…è´¦å·ï¼šå…¬å¸å·å’Œä¸ªäººå·ï¼Œåˆ°åº•è¯¥æ€ä¹ˆé€‰ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7579872561674502153</link>    <guid>https://juejin.cn/post/7579872561674502153</guid>    <pubDate>2025-12-04T15:10:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579872561674502153" data-draft-id="7579659550862852138" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸è¸©å‘ï¼è‹¹æœå¼€å‘è€…è´¦å·ï¼šå…¬å¸å·å’Œä¸ªäººå·ï¼Œåˆ°åº•è¯¥æ€ä¹ˆé€‰ï¼Ÿ"/> <meta itemprop="keywords" content="APP,Apple,uni-app"/> <meta itemprop="datePublished" content="2025-12-04T15:10:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="iOSç ”ç©¶é™¢"/> <meta itemprop="url" content="https://juejin.cn/user/1421041942671774"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸è¸©å‘ï¼è‹¹æœå¼€å‘è€…è´¦å·ï¼šå…¬å¸å·å’Œä¸ªäººå·ï¼Œåˆ°åº•è¯¥æ€ä¹ˆé€‰ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1421041942671774/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    iOSç ”ç©¶é™¢
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T15:10:43.000Z" title="Thu Dec 04 2025 15:10:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>å¯¹Appstoreæ¥è¯´ï¼Œè´¦å·ä¸»è¦åˆ†ä¸º3ç§èº«ä»½ï¼Œæ¯ç§èº«ä»½éƒ½å¯¹åº”ç€ä¸åŒçš„äº§å“éœ€æ±‚ã€‚</p>
<ul>
<li>ä¼ä¸šå¼€å‘è€…è´¦å·</li>
<li>å…¬å¸å¼€å‘è€…è´¦æˆ·</li>
<li>ä¸ªäººå¼€å‘è€…è´¦å·</li>
</ul>
<h3 data-id="heading-1">ä¼ä¸šæ€§è´¨</h3>
<p>ä¼ä¸šæ€§è´¨çš„å¼€å‘è€…è´¦å·ä¹Ÿå°±æ˜¯æ±Ÿæ¹–ä¿—ç§°çš„<strong>ä¼ä¸šç­¾è´¦å·</strong>,æœ€å¤§çš„èŒèƒ½ä½œç”¨å…¬å¸å†…éƒ¨çš„äº§å“åˆ†å‘ï¼Œ<strong>æ— æ³•ä¸Šæ¶AppStore</strong>ã€‚ä¸€èˆ¬å¸¸è§çš„ä¸ºå¤§å‚å†…éƒ¨çš„OAç³»ç»Ÿæˆ–è€…å†…éƒ¨ä»“å‚¨ç®¡ç†ç­‰ã€‚</p>
<p>ä¼ä¸šæ€§è´¨çš„å¼€å‘è´¦å·ï¼Œåœ¨æ±Ÿæ¹–ä¸­é¢‡å…·ç››åã€‚æœ€åˆAppStoreçš„åˆå¿ƒæ˜¯å°†æ­¤æ€§è´¨è´¦å·æä¾›å†…éƒ¨æœåŠ¡ï¼Œä½†æ˜¯ç°çŠ¶ä¸»è¦è¢«ç”¨ä½œæ— æ³•è¿‡å®¡AppStoreçš„äº§å“åˆ†å‘ <strong>ï¼ˆé‚£äº›æœ‰ç€æ»¡è„‘å­éªšæ“ä½œçš„äº§å“ï¼‰</strong>ã€‚</p>
<p>åŒæ—¶ï¼Œä¼ä¸šè´¦æˆ·è¿˜æœ‰ä¸€å¥ä¼ è¯´ï¼š<code>è´¦å·åœ¨æ‰‹ï¼Œåˆ«å¢…é æµ·ï¼</code></p>
<p>å…¶å®ä¸¥æ ¼æ„ä¹‰ä¸Šæ¥è®²å¹¶ä¸è¿‡åˆ†ï¼Œæ—©åœ¨2022å¹´ç”³è¯·ä¼ä¸šæ€§è´¨çš„å¼€å‘è€…è´¦å·å°±<code>éœ€è¦æä¾›5000+å‘˜å·¥çš„åœ¨èŒç¤¾ä¿è¯æ˜</code>ï¼Œä»…æ­¤ä¸€ç‚¹è¶³çŸ£åŠé€€å¤§å¤šæ•°å…¬å¸ã€‚</p>
<p>åœ¨2020å¹´ï¼Œä¼ä¸šè´¦æˆ·å¸‚åœºä»·å¤§æ¦‚åœ¨30wã€‚æˆªæ­¢2023å¹´ï¼Œå”®ä»·å¯é«˜è¾¾80w+ã€‚åŸºæœ¬ä¸Šå¯ä»¥è¯´æ˜¯æœ‰å¸‚æ— ä»·çš„å±€é¢ã€‚</p>
<h3 data-id="heading-2">å…¬å¸æ€§è´¨</h3>
<p>å…¬å¸æ€§è´¨çš„è´¦å·ä¸»è¦ç”¨äºAppStoreäº§å“ä¸Šæ¶å’Œå¤šäººå›¢é˜Ÿç®¡ç†ã€‚</p>
<p>æœ‰æ›´åŠ å®Œå–„çš„èŒèƒ½åˆ’åˆ†ï¼ŒåŒºåˆ†å¼€å‘ã€è¿è¥ã€è´¢åŠ¡ç­‰ä¼—å¤šèº«ä»½ï¼Œä¾¿äºäº§å“æ•°æ®çš„ä¿æŠ¤ä¸å„ä¸ªèŒæƒä¹‹é—´çš„æ•°æ®åˆ†ç¦»ã€‚</p>
<p>æ³¨å†Œéœ€è¦é¢å¤–å‡†å¤‡é‚“ç™½æ°ç¼–ç ï¼Œå¯æ­£å¸¸è®¿é—®çš„å…¬å¸å®˜ç½‘ï¼Œä»¥åŠ688å…ƒçš„å¼€å‘è€…èµ„æ ¼å¹´è´¹ã€‚</p>
<h3 data-id="heading-3">ä¸ªäººæ€§è´¨</h3>
<p>ä¸ªäººæ€§è´¨çš„è´¦å·ï¼ŒåŸºæœ¬ä¸Šæ˜¯ä»¥ç‹¬ç«‹å¼€å‘è€…çš„èº«ä»½é¢å‘AppStoreã€‚</p>
<p>ä½†å…¶å®å¾ˆå¤šå…¬å¸æˆ–ç»„ç»‡ï¼Œä¹Ÿåœ¨ä»¥ä¸ªäººæ€§è´¨ç»´æŠ¤è¿­ä»£äº§å“ã€‚</p>
<p>æ³¨å†Œåªéœ€è¦ä¸€ä¸ªæœªæ³¨å†Œè‹¹æœå¼€å‘è€…çš„äººï¼Œä»¥åŠ688å…ƒçš„å¼€å‘è€…èµ„æ ¼å¹´è´¹ã€‚</p>
<h3 data-id="heading-4">å…¬å¸å’Œä¸ªäººé€‰å“ªä¸ªï¼Ÿ</h3>
<p>å¦ç™½è®²å¯¹äºæ­£è§„å…¬å¸ä¸šåŠ¡æˆ–éœ€è¦ç‰ˆæƒè¦æ±‚çš„ï¼Œå¿…é¡»ä½¿ç”¨å…¬å¸è´¦å·ã€‚<strong>ã€ç‰¹æŒ‡é‡‘èå±æ€§ï¼Œä¾‹å¦‚ï¼šè‚¡ç¥¨ã€æœŸè´§ã€è´·æ¬¾ç­‰ã€‘</strong></p>
<p>å½“ç„¶ï¼Œä¹Ÿæœ‰æ ¹æ®å…¬å¸ä¸šåŠ¡è€æ¿å¿ƒæƒ…ï¼Œ<strong>æ¯”å¦‚è¯´éœ€è¦æ‰“é€ å“ç‰ŒIPæˆ–è€…æœåŠ¡æ”¿åºœé¡¹ç›®</strong>ï¼Œä¹Ÿå»ºè®®é‡‡ç”¨å…¬å¸æ€§è´¨ï¼Œå¯ä»¥å‡å°‘ä¸å¿…è¦çš„éº»çƒ¦å’Œä¿¡ä»»é—®é¢˜ã€‚</p>
<p>è¿˜æœ‰ä¸€ç§æƒ…å†µé‚£å°±æ˜¯è¿è¥è¦æ±‚ï¼Œæ¯”å¦‚æœ‰äº›å¤§å‚çš„æŠ•æ”¾å¹³å°éœ€è¦äº§å“ã€è´¦å·ã€è½¯è‘—ä¸€ä¸€åŒ¹é…ï¼Œå¦åˆ™æ— æ³•æ­£å¸¸æŠ•æ”¾äº§å“æˆ–è€…æ— æ³•å°†è´¦æˆ·ç»‘å®šã€‚</p>
<p>é™¤éä»¥ä¸Šç‰¹æ®Šéœ€æ±‚ï¼Œå…¶å®å»ºè®®å°±ç”¨ä¸ªäººæ€§è´¨è¶³çŸ£ã€‚</p>
<p><strong>æˆ‘è‡ªå·±æ‰‹é‡Œä¸Šæ¶60+äº§å“ï¼Œåˆ†åˆ«å½’å±åœ¨7ä¸ªå¼€å‘è€…è´¦å·ä¸­ï¼Œå‡ä¸ºä¸ªäººæ€§è´¨</strong>ã€‚å› ä¸ºå¯¹äºæˆ‘æ¥è®²ï¼Œå·¥å…·ç±»å’Œå‚è€ƒç±»çš„äº§å“æ²¡æœ‰å¿…è¦ç”¨å…¬å¸ã€‚æ¯•ç«Ÿæ³¨å†Œå…¬å¸çš„æˆæœ¬é«˜ï¼Œæ—¶é—´å‘¨æœŸä¹Ÿé•¿è¿‡äºç¹çã€‚<code>å·¥å…·ç±»çš„äº§å“å¯èƒ½ä¸€å¹´éƒ½èµšä¸åˆ°å¼€å…¬å¸çš„é’±ï¼Œå¤§å¯ä¸å¿…å¢åŠ è¯•é”™æˆæœ¬ã€‚</code></p>
<p>äºç§æ¥è®²ï¼Œå¦‚æœè´¦å·å‡‰äº†è¢«AppStoreåˆ¤å®šè¿è§„å°å·ä¸”å…¬å¸èµ„è´¨ä¸ç”¨äºå®‰å“å¸‚åœºçš„äº§å“ï¼Œé‚£åŸºæœ¬ä¸Šå…¬å¸å°±å¯èµ°æ³¨é”€æµç¨‹äº†ã€‚</p>
<p>äºå…¬æ¥è®²ï¼Œç”¨å…¬å¸è´¦å·æ˜¯æ˜ç‰Œï¼Œæ›´å®¹æ˜“è¢«äººç›¯ä¸Šã€‚æ¯”å¦‚è¯´åç§°ä¾µæƒï¼Œå­—ä½“ä¾µæƒã€‚å…¬å¯¹å…¬çš„å®˜å¸ï¼Œä»£ç†å¾‹å¸ˆå°±å¯ä»¥æå®šï¼Œ<code>å³ä½¿æ˜¯æ— å¿ƒä¹‹ä¸¾ä¹Ÿä¸å¾—ä¸å‰²åœ°èµ”æ¬¾</code>ã€‚</p>
<p>æ‰€ä»¥ï¼Œçˆ±æƒœå¥½è‡ªå·±æ‰‹é‡Œçš„è´¦å·ï¼Œåšä¸€åå¹²å‡€åˆè§„çš„å¼€å‘è€…ã€‚</p>
<p><code>éµå®ˆè§„åˆ™ï¼Œæ–¹å¾—é•¿æ²»ä¹…å®‰</code>ï¼Œæœ€åç¥å¤§å®¶å¤§å‰å¤§åˆ©ï¼Œä»Šæ™šè¿‡å®¡ï¼</p>
<h3 data-id="heading-5">ç›¸å…³æ¨è</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FURmC_4vxQv5ttOg8yYe7Eg" target="_blank" title="https://mp.weixin.qq.com/s/URmC_4vxQv5ttOg8yYe7Eg" ref="nofollow noopener noreferrer"># è‹¹æœå¼€å‘è€…ç»­è´¹å¤§å‘åŠæˆåŠŸç»­è´¹æ–¹æ¡ˆï¼äº²æµ‹æœ‰æ•ˆ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F1bAA90Tzpx03tTHZbdg3aw" target="_blank" title="https://mp.weixin.qq.com/s/1bAA90Tzpx03tTHZbdg3aw" ref="nofollow noopener noreferrer"># AppStoreæ•æ„Ÿè¯æ’æŸ¥æ‰‹å†Œï¼Œå¤šç»´åº¦åˆ†æGuideline 2.3.1éšè—åŠŸèƒ½ï¼Œè½»æ¾è¿‡å®¡ã€‚</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUxMTkxNzAzMw%3D%3D%26mid%3D2247484371%26idx%3D1%26sn%3D33568c58e90a5bf4d2612d803ecb2a27%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUxMTkxNzAzMw==&amp;mid=2247484371&amp;idx=1&amp;sn=33568c58e90a5bf4d2612d803ecb2a27&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer"># è‹¹æœåŠ æ€¥å®¡æ ¸æ˜¯â€œç»¿è‰²é€šé“â€è¿˜æ˜¯â€œæ­»äº¡é™·é˜±â€ï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUxMTkxNzAzMw%3D%3D%26mid%3D2247484362%26idx%3D1%26sn%3Dea61bd42d5ae8b99d2a56cbfb8d91e88%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUxMTkxNzAzMw==&amp;mid=2247484362&amp;idx=1&amp;sn=ea61bd42d5ae8b99d2a56cbfb8d91e88&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer"># è‹¹æœå¼€å‘è€…é‚®ç®±ï¼Œçªç„¶æ”¶åˆ°11.2é€šçŸ¥ä¸¥é‡ä¹ˆï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUxMTkxNzAzMw%3D%3D%26mid%3D2247484413%26idx%3D1%26sn%3D82870d4c8892fa65803a8e05fd5ac938%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUxMTkxNzAzMw==&amp;mid=2247484413&amp;idx=1&amp;sn=82870d4c8892fa65803a8e05fd5ac938&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer"># ä¸æƒ³è¢«è‹¹æœå¡å®¡æœ€å¥½é”™å¼€è¿™ä¸¤ä¸ªæå®¡æ—¶é—´</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUxMTkxNzAzMw%3D%3D%26mid%3D2247484349%26idx%3D1%26sn%3D1c75a6b08cb5de64ddf41a88b61ff108%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUxMTkxNzAzMw==&amp;mid=2247484349&amp;idx=1&amp;sn=1c75a6b08cb5de64ddf41a88b61ff108&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer"># æ‰‹æ’•è‹¹æœå®¡æ ¸4.3æ˜¯ä»£ç é—®é¢˜è¿˜æ˜¯è®¾è®¡é—®é¢˜ï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUxMTkxNzAzMw%3D%3D%26mid%3D2247484344%26idx%3D1%26sn%3D4399eb8d8bf82e9c5df26a18b8564cfb%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUxMTkxNzAzMw==&amp;mid=2247484344&amp;idx=1&amp;sn=4399eb8d8bf82e9c5df26a18b8564cfb&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer"># æœ‰å¹¸å’ŒAppstoreå®¡æ ¸äººå‘˜è¿›è¡Œäº†ä¸€åœºè§†é¢‘ä¼šè®®ç‰¹æ­¤è®°å½•ã€‚</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript æ‹·è´å…¨è§£æï¼šä»æµ…æ‹·è´åˆ°æ·±æ‹·è´çš„å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7579813925996658729</link>    <guid>https://juejin.cn/post/7579813925996658729</guid>    <pubDate>2025-12-04T15:37:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579813925996658729" data-draft-id="7579813925996642345" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScript æ‹·è´å…¨è§£æï¼šä»æµ…æ‹·è´åˆ°æ·±æ‹·è´çš„å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,ECMAScript 6"/> <meta itemprop="datePublished" content="2025-12-04T15:37:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="1024è‚¥å®…"/> <meta itemprop="url" content="https://juejin.cn/user/588993964030574"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScript æ‹·è´å…¨è§£æï¼šä»æµ…æ‹·è´åˆ°æ·±æ‹·è´çš„å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/588993964030574/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    1024è‚¥å®…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T15:37:43.000Z" title="Thu Dec 04 2025 15:37:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0">å¼•è¨€</h4>
<p>åœ¨Javascriptå¼€å‘ä¸­ï¼Œæ•°æ®æ‹·è´æ˜¯æˆ‘ä»¬æ¯å¤©éƒ½ä¼šé‡åˆ°çš„åŸºç¡€æ“ä½œã€‚ç„¶è€Œï¼Œè¿™ä¸ªçœ‹ä¼¼ç®€å•çš„æ¦‚å¿µèƒŒåéšè—ç€è®¸å¤šé™·é˜±å’Œç»†èŠ‚ã€‚é”™è¯¯çš„æ•°æ®æ‹·è´å¯èƒ½å¯¼è‡´éš¾ä»¥è°ƒè¯•çš„bugã€å†…å­˜æ³„æ¼ç”šè‡³ç¨‹åºå´©æºƒã€‚</p>
<p>ä½ æ˜¯å¦æ›¾é‡åˆ°è¿‡:</p>
<ul>
<li>ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡åï¼Œå¦ä¸€ä¸ª"ç‹¬ç«‹"çš„å¯¹è±¡ä¹Ÿè¢«æ„å¤–ä¿®æ”¹?</li>
<li>å°è¯•å¤åˆ¶åŒ…å«å‡½æ•°ã€Dateå¯¹è±¡æˆ–å¾ªç¯å¼•ç”¨çš„æ•°æ®ç»“æ„æ—¶å¤±è´¥?</li>
<li>åœ¨å¤„ç†å¤§å‹æ•°æ®é›†æ—¶ï¼Œæ‹·è´å¯¼è‡´æ€§èƒ½æ€¥å‰§ä¸‹é™ï¼Ÿ</li>
</ul>
<p>æœ¬æ–‡å°†ä»åŸºç¡€æ¦‚å¿µå‡ºå‘ï¼Œæ·±å…¥æ¢è®¨JavaScriptä¸­çš„å„ç§æ‹·è´æŠ€æœ¯ï¼Œæä¾›å®Œæ•´çš„å®ç°æ–¹æ¡ˆï¼Œå¹¶å¸®åŠ©ä½ æ ¹æ®ä¸åŒçš„åœºæ™¯é€‰æ‹©æœ€åˆé€‚çš„æ‹·è´ç­–ç•¥ã€‚</p>
<h4 data-id="heading-1">ä¸€ã€ç†è§£JavaScriptçš„æ•°æ®ç±»å‹</h4>
<p>åœ¨æ·±å…¥æ‹·è´ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆç†è§£JavaScriptçš„æ•°æ®ç±»å‹ï¼Œå› ä¸ºä¸åŒç±»å‹çš„æ•°æ®åœ¨æ‹·è´æ—¶æœ‰æ ¹æœ¬æ€§çš„åŒºåˆ«ã€‚</p>
<h5 data-id="heading-2">1.1 åŸºæœ¬ç±»å‹(Primitive Types)</h5>
<p>JavaScriptæœ‰7ç§åŸºæœ¬æ•°æ®ç±»å‹:</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŸºæœ¬ç±»å‹ - æŒ‰å€¼å­˜å‚¨ï¼Œæ‹·è´æ—¶ç›´æ¥å¤åˆ¶å€¼</span>
<span class="hljs-keyword">const</span> str = <span class="hljs-string">'Hello'</span>;      <span class="hljs-comment">// String</span>
<span class="hljs-keyword">const</span> num = <span class="hljs-number">42</span>;           <span class="hljs-comment">// Number</span>
<span class="hljs-keyword">const</span> bool = <span class="hljs-literal">true</span>;        <span class="hljs-comment">// Boolean</span>
<span class="hljs-keyword">const</span> nullValue = <span class="hljs-literal">null</span>;   <span class="hljs-comment">// Null</span>
<span class="hljs-keyword">const</span> undefinedValue;      <span class="hljs-comment">// Undefined</span>
<span class="hljs-keyword">const</span> sym = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'id'</span>); <span class="hljs-comment">// Symbol(ES6)</span>
<span class="hljs-keyword">const</span> bigInt = <span class="hljs-number">123n</span>;      <span class="hljs-comment">// BigInt(ES2020)</span>
</code></pre>
<h5 data-id="heading-3">1.2 å¼•ç”¨ç±»å‹(Reference Types)</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¼•ç”¨ç±»å‹ - æŒ‰å¼•ç”¨å­˜å‚¨ï¼Œæ‹·è´æ—¶å¤åˆ¶å¼•ç”¨</span>
<span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">name</span>: <span class="hljs-string">'John'</span> }; <span class="hljs-comment">// Object</span>
<span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];        <span class="hljs-comment">// Array</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">func</span> = (<span class="hljs-params"/>) =&gt; {};        <span class="hljs-comment">// Function</span>
<span class="hljs-keyword">const</span> date = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();      <span class="hljs-comment">// Date</span>
<span class="hljs-keyword">const</span> regex = <span class="hljs-regexp">/pattern/gi</span>;    <span class="hljs-comment">// RegExp</span>
<span class="hljs-keyword">const</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();        <span class="hljs-comment">// Map</span>
<span class="hljs-keyword">const</span> set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();        <span class="hljs-comment">// Set</span>
</code></pre>
<h5 data-id="heading-4">1.3 å†…å­˜æ¨¡å‹å›¾è§£</h5>
<pre><code class="hljs language-text" lang="text">// åŸºæœ¬ç±»å‹ - æ ˆå†…å­˜å­˜å‚¨
let a = 10; // æ ˆ: a = 10
let b = a;  // æ ˆ: b = 10 (å€¼çš„æ‹·è´)
b = 20;     // æ ˆ: b = 20, a ä¿æŒä¸å˜

// å¼•ç”¨ç±»å‹ - å †å†…å­˜å­˜å‚¨
let obj1 = { x: 10 }; // æ ˆ: obj1 -&gt; å †åœ°å€1 {x: 10}
let obj2 = obj1;      // æ ˆ: obj2 -&gt; åŒä¸€ä¸ªå †åœ°å€1
obj2.x = 20;          // å †åœ°å€1: {x: 20}, obj1.x ä¹Ÿå˜ä¸º 20
</code></pre>
<p>ç†è§£è¿™ä¸ªåŒºåˆ«æ˜¯æŒæ¡æ‹·è´æŠ€æœ¯çš„åŸºç¡€ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¼€å§‹æ¢è®¨å…·ä½“çš„æ‹·è´æ–¹æ³•ã€‚</p>
<h4 data-id="heading-5">äºŒã€æµ…æ‹·è´(Shallow Copy)</h4>
<p>æµ…æ‹·è´åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¤åˆ¶åŸå§‹å¯¹è±¡çš„æ‰€æœ‰å±æ€§å€¼åˆ°æ–°å¯¹è±¡ã€‚å¦‚æœå±æ€§å€¼æ˜¯åŸºæœ¬ç±»å‹ï¼Œåˆ™å¤åˆ¶å€¼; å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œåˆ™å¤åˆ¶å¼•ç”¨ã€‚</p>
<h5 data-id="heading-6">2.1 å¯¹è±¡æµ…æ‹·è´æ–¹æ³•</h5>
<h6 data-id="heading-7">æ–¹æ³•1: å±•å¼€è¿ç®—ç¬¦(Spread Operator) - ES6+</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> original = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'John'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">30</span>,
  <span class="hljs-attr">hobbies</span>: [<span class="hljs-string">'reading'</span>, <span class="hljs-string">'gaming'</span>],
  <span class="hljs-attr">address</span>: {
    <span class="hljs-attr">city</span>: <span class="hljs-string">'Shang Hai'</span>,
    <span class="hljs-attr">zip</span>: <span class="hljs-string">'120001'</span>
  }
};

<span class="hljs-keyword">const</span> shallowCopy = { ...original };

<span class="hljs-comment">// æµ‹è¯•</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(shallowCopy === original); <span class="hljs-comment">// false - æ˜¯æ–°å¯¹è±¡</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(shallowCopy.<span class="hljs-property">hobbies</span> === original.<span class="hljs-property">hobbies</span>); <span class="hljs-comment">// true - å¼•ç”¨ç›¸åŒ</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(shallowCopy.<span class="hljs-property">address</span> === original.<span class="hljs-property">address</span>); <span class="hljs-comment">// true - å¼•ç”¨ç›¸åŒ</span>

<span class="hljs-comment">// ä¿®æ”¹åµŒå¥—å¯¹è±¡ä¼šå½±å“åŸå¯¹è±¡</span>
shallowCopy.<span class="hljs-property">hobbies</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">"coding"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(original.<span class="hljs-property">hobbies</span>); <span class="hljs-comment">// [ 'reading', 'gaming', 'coding' ] - è¢«å½±å“</span>
</code></pre>
<h6 data-id="heading-8">æ–¹æ³•2: Object.assign() - ES6</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> shallowCopy2 = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, original);

<span class="hljs-comment">// Object.assign å¯ä»¥åˆå¹¶å¤šä¸ªå¯¹è±¡</span>
<span class="hljs-keyword">const</span> obj1 = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> };
<span class="hljs-keyword">const</span> obj2 = { <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> };
<span class="hljs-keyword">const</span> obj3 = { <span class="hljs-attr">c</span>: <span class="hljs-number">3</span> };
<span class="hljs-keyword">const</span> merged = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, obj1, obj2, obj3);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(merged); <span class="hljs-comment">// { a: 1, b: 2, c: 3 }</span>
</code></pre>
<h6 data-id="heading-9">æ–¹æ³•3: æ‰‹åŠ¨å®ç°æµ…æ‹·è´</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">shallowCopy</span>(<span class="hljs-params">obj</span>) {
  <span class="hljs-comment">// å¤„ç† null å’Œ undefined</span>
  <span class="hljs-keyword">if</span> (obj === <span class="hljs-literal">null</span> || <span class="hljs-keyword">typeof</span> obj !== <span class="hljs-string">"object"</span>) {
    <span class="hljs-keyword">return</span> obj;
  }

  <span class="hljs-comment">// å¤„ç†æ•°ç»„</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(obj)) {
    <span class="hljs-keyword">return</span> [...obj];
  }

  <span class="hljs-comment">// å¤„ç†å¯¹è±¡</span>
  <span class="hljs-keyword">const</span> copy = {};
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">in</span> obj) {
    <span class="hljs-comment">// åªæ‹·è´å¯¹è±¡è‡ªèº«çš„å±æ€§(ä¸åŒ…æ‹¬åŸå‹é“¾ä¸Šçš„å±æ€§)</span>
    <span class="hljs-keyword">if</span> (obj.<span class="hljs-title function_">hasOwnProperty</span>(key)) {
      copy[key] = obj[key];
    }
  }

  <span class="hljs-keyword">return</span> copy;
}

<span class="hljs-comment">// æµ‹è¯•</span>
<span class="hljs-keyword">const</span> testObj = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: { <span class="hljs-attr">c</span>: <span class="hljs-number">2</span> } };
<span class="hljs-keyword">const</span> copied = <span class="hljs-title function_">shallowCopy</span>(testObj);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(copied.<span class="hljs-property">b</span> === testObj.<span class="hljs-property">b</span>); <span class="hljs-comment">// true - æµ…æ‹·è´</span>
</code></pre>
<h6 data-id="heading-10">æ–¹æ³•4: ä½¿ç”¨ Object.create() (åŸå‹é“¾æ‹·è´)</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¿™ç§æ–¹æ³•ä¼šä¿æŒåŸå‹é“¾</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">shallowCopyWithPrototype</span>(<span class="hljs-params">obj</span>) {
  <span class="hljs-keyword">if</span> (obj === <span class="hljs-literal">null</span> || <span class="hljs-keyword">typeof</span> obj !== <span class="hljs-string">"object"</span>) {
    <span class="hljs-keyword">return</span> obj;
  }

  <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œç»§æ‰¿åŸå¯¹è±¡çš„åŸå‹</span>
  <span class="hljs-keyword">const</span> copy = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(obj));

  <span class="hljs-comment">// æ‹·è´è‡ªæœ‰å±æ€§</span>
  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyNames</span>(obj).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">prop</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> descriptor = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyDescriptor</span>(obj, prop);
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(copy, prop, descriptor);
  });

  <span class="hljs-keyword">return</span> copy;
}

<span class="hljs-comment">// æµ‹è¯•</span>
<span class="hljs-keyword">const</span> protoObj = { <span class="hljs-attr">inherited</span>: <span class="hljs-string">"from prototype"</span> };
<span class="hljs-keyword">const</span> objWithProto = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(protoObj);
objWithProto.<span class="hljs-property">own</span> = <span class="hljs-string">"own prototype"</span>;

<span class="hljs-keyword">const</span> copiedWithProto = <span class="hljs-title function_">shallowCopyWithPrototype</span>(objWithProto);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(copiedWithProto.<span class="hljs-property">inherited</span>); <span class="hljs-comment">// from prototype - ç»§æ‰¿åŸå‹</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(copiedWithProto.<span class="hljs-property">own</span>); <span class="hljs-comment">// own prototype</span>
</code></pre>
<h5 data-id="heading-11">2.2 æ•°ç»„æµ…æ‹·è´æ–¹æ³•</h5>
<h6 data-id="heading-12">æ–¹æ³•1: å±•å¼€è¿ç®—ç¬¦</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> originalArray = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, { <span class="hljs-attr">x</span>: <span class="hljs-number">4</span> }];
<span class="hljs-keyword">const</span> shallowArray = [...originalArray];

<span class="hljs-comment">// ä¿®æ”¹åŸºæœ¬ç±»å‹ä¸ä¼šå½±å“åŸæ•°ç»„</span>
shallowArray[<span class="hljs-number">0</span>] = <span class="hljs-number">100</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(originalArray[<span class="hljs-number">0</span>]); <span class="hljs-comment">// 1 - ä¸å—å½±å“</span>

<span class="hljs-comment">// ä¿®æ”¹å¼•ç”¨ç±»å‹ä¼šå½±å“åŸæ•°ç»„</span>
shallowArray[<span class="hljs-number">3</span>].<span class="hljs-property">x</span> = <span class="hljs-number">400</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(originalArray[<span class="hljs-number">3</span>].<span class="hljs-property">x</span>); <span class="hljs-comment">// 400 - å—å½±å“!</span>
</code></pre>
<h6 data-id="heading-13">æ–¹æ³•2: slice()æ–¹æ³•</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> shallowArray2 = originalArray.<span class="hljs-title function_">slice</span>();
<span class="hljs-comment">// æ•ˆæœä¸å±•å¼€è¿ç®—ç¬¦ç›¸åŒ</span>
</code></pre>
<h6 data-id="heading-14">æ–¹æ³•3: concat()æ–¹æ³•</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> shallowArray3 = originalArray.<span class="hljs-title function_">concat</span>();
<span class="hljs-comment">// æ•ˆæœä¸å±•å¼€è¿ç®—ç¬¦ç›¸åŒ</span>
</code></pre>
<h6 data-id="heading-15">æ–¹æ³•4: Array.from() - ES6</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> shallowArray4 = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(originalArray);
</code></pre>
<h6 data-id="heading-16">æ–¹æ³•5: æ‰‹åŠ¨å®ç°æ•°ç»„æµ…æ‹·è´</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">shallowCopyArray</span>(<span class="hljs-params">arr</span>) {
  <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(arr)) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">"Excepted an array"</span>);
  }

  <span class="hljs-keyword">const</span> copy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(arr.<span class="hljs-property">length</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; arr.<span class="hljs-property">length</span>; i++) {
    copy[i] = arr[i];
  }
  <span class="hljs-keyword">return</span> copy;
}
</code></pre>
<h5 data-id="heading-17">2.3 æµ…æ‹·è´çš„å±€é™æ€§</h5>
<p>æµ…æ‹·è´çš„ä¸»è¦é—®é¢˜æ˜¯:</p>
<ol>
<li><strong>åµŒå¥—å¯¹è±¡é—®é¢˜:</strong> åªæ‹·è´ä¸€å±‚ï¼ŒåµŒå¥—çš„å¯¹è±¡ä»ç„¶æ˜¯å…±äº«çš„</li>
<li><strong>å¯¹è±¡å…±äº«é—®é¢˜:</strong> ä¿®æ”¹æµ…æ‹·è´å¯¹è±¡çš„å¼•ç”¨ç±»å‹å±æ€§ä¼šå½±å“åŸå¯¹è±¡</li>
<li><strong>ç‰¹æ®Šå¯¹è±¡çš„å¼•ç”¨å…±äº«:</strong> å¯¹äºDateã€RegExpç­‰ç‰¹æ®Šå¯¹è±¡, æµ…æ‹·è´åªå¤åˆ¶å¼•ç”¨, ä¸ä¼šåˆ›å»ºæ–°å®ä¾‹</li>
</ol>
<h4 data-id="heading-18">ä¸‰ã€æ·±æ‹·è´(Deep Copy)</h4>
<p>æ·±æ‹·è´ä¼šåˆ›å»ºä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„æ–°å¯¹è±¡, é€’å½’å¤åˆ¶æ‰€æœ‰åµŒå¥—çš„å¯¹è±¡å’Œæ•°ç»„, ä½¿æ–°å¯¹è±¡ä¸åŸå¯¹è±¡å®Œå…¨åˆ†ç¦»ã€‚</p>
<h5 data-id="heading-19">3.1 ä½¿ç”¨ JSON æ–¹æ³•(æœ€ç®€å•ä½†æœ‰é™åˆ¶)</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> deepCopyWithJSON = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(original));

<span class="hljs-comment">// æµ‹è¯•</span>
<span class="hljs-keyword">const</span> obj = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"John"</span>,
  <span class="hljs-attr">date</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(),
  <span class="hljs-attr">func</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"hello"</span>),
  <span class="hljs-attr">undef</span>: <span class="hljs-literal">undefined</span>,
  <span class="hljs-attr">symbol</span>: <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">"id"</span>),
  <span class="hljs-attr">infinity</span>: <span class="hljs-title class_">Infinity</span>,
  <span class="hljs-attr">nan</span>: <span class="hljs-title class_">NaN</span>,
  <span class="hljs-attr">regex</span>: <span class="hljs-regexp">/pattern/gi</span>,
  <span class="hljs-attr">set</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]),
  <span class="hljs-attr">map</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([[<span class="hljs-string">"key"</span>, <span class="hljs-string">"value"</span>]]),
  <span class="hljs-attr">nested</span>: { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> },
};

<span class="hljs-keyword">const</span> jsonCopy = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(obj));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(jsonCopy);
<span class="hljs-comment">// è¾“å‡º:</span>
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   name: 'John',</span>
<span class="hljs-comment">//   date: '2025-12-04T14:13:18.238Z', // Date å˜æˆäº†å­—ç¬¦ä¸²</span>
<span class="hljs-comment">//   func ä¸å­˜åœ¨ // å‡½æ•°è¢«çœç•¥</span>
<span class="hljs-comment">//   undef ä¸å­˜åœ¨ // undefined è¢«çœç•¥</span>
<span class="hljs-comment">//   symbol ä¸å­˜åœ¨ // Symbol è¢«çœç•¥</span>
<span class="hljs-comment">//   infinity: null, // Infinity å˜æˆäº† null</span>
<span class="hljs-comment">//   nan: null, // NaN å˜æˆäº† null</span>
<span class="hljs-comment">//   regex: {}, // RegExp å˜æˆäº†ç©ºå¯¹è±¡</span>
<span class="hljs-comment">//   set: {}, // Set å˜æˆäº†ç©ºå¯¹è±¡</span>
<span class="hljs-comment">//   map: {}, // Map å˜æˆäº†ç©ºå¯¹è±¡</span>
<span class="hljs-comment">//   nested: { a: 1 }</span>
<span class="hljs-comment">// }</span>
</code></pre>
<p>JSONæ–¹æ³•çš„é™åˆ¶:</p>
<ul>
<li>æ— æ³•æ‹·è´å‡½æ•°</li>
<li>æ— æ³•æ‹·è´<code>undefined</code></li>
<li>æ— æ³•æ‹·è´<code>Symbol</code></li>
<li>æ— æ³•æ‹·è´å¾ªç¯å¼•ç”¨</li>
<li>ç‰¹æ®Šå¯¹è±¡(Dateã€RegExpã€Setã€Mapç­‰)ä¼šè¢«é”™è¯¯å¤„ç†</li>
<li>ä¼šå¿½ç•¥åŸå‹é“¾</li>
</ul>
<h5 data-id="heading-20">3.2 é€’å½’å®ç°æ·±æ‹·è´</h5>
<p>åŸºç¡€é€’å½’å®ç°</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">deepClone</span>(<span class="hljs-params">obj, hash = <span class="hljs-keyword">new</span> <span class="hljs-built_in">WeakMap</span>()</span>) {
  <span class="hljs-comment">// å¤„ç†åŸºæœ¬ç±»å‹å’Œ null/undefined</span>
  <span class="hljs-keyword">if</span> (obj === <span class="hljs-literal">null</span> || <span class="hljs-keyword">typeof</span> obj !== <span class="hljs-string">"object"</span>) {
    <span class="hljs-keyword">return</span> obj;
  }

  <span class="hljs-comment">// å¤„ç† Date å¯¹è±¡</span>
  <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Date</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(obj.<span class="hljs-title function_">getTime</span>());
  }

  <span class="hljs-comment">// å¤„ç†æ­£åˆ™è¡¨è¾¾å¼</span>
  <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">RegExp</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(obj.<span class="hljs-property">source</span>, obj.<span class="hljs-property">flags</span>);
  }

  <span class="hljs-comment">// å¤„ç†æ•°ç»„</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(obj)) {
    <span class="hljs-keyword">return</span> obj.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> <span class="hljs-title function_">deepClone</span>(item, hash));
  }

  <span class="hljs-comment">// å¤„ç†æ™®é€šå¯¹è±¡ - æ£€æŸ¥å¾ªç¯å¼•ç”¨</span>
  <span class="hljs-keyword">if</span> (hash.<span class="hljs-title function_">has</span>(obj)) {
    <span class="hljs-keyword">return</span> hash.<span class="hljs-title function_">get</span>(obj);
  }

  <span class="hljs-keyword">const</span> clone = {};
  hash.<span class="hljs-title function_">set</span>(obj, clone);

  <span class="hljs-comment">// æ‹·è´æ‰€æœ‰å±æ€§, åŒ…æ‹¬ä¸å¯æšä¸¾å±æ€§(å¯é€‰)</span>
  <span class="hljs-keyword">const</span> props = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyNames</span>(obj);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> prop <span class="hljs-keyword">of</span> props) {
    clone[prop] = <span class="hljs-title function_">deepClone</span>(obj[prop], hash);
  }

  <span class="hljs-keyword">return</span> clone;
}

<span class="hljs-comment">// æµ‹è¯•åŸºç¡€åŠŸèƒ½</span>
<span class="hljs-keyword">const</span> testObj = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"Test"</span>,
  <span class="hljs-attr">date</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(),
  <span class="hljs-attr">regex</span>: <span class="hljs-regexp">/test/gi</span>,
  <span class="hljs-attr">arr</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, { <span class="hljs-attr">nested</span>: <span class="hljs-literal">true</span> }],
  <span class="hljs-attr">nested</span>: {
    <span class="hljs-attr">level1</span>: {
      <span class="hljs-attr">level2</span>: <span class="hljs-string">"deep"</span>,
    },
  },
};

<span class="hljs-keyword">const</span> cloned = <span class="hljs-title function_">deepClone</span>(testObj);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cloned.<span class="hljs-property">date</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Date</span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cloned.<span class="hljs-property">regex</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">RegExp</span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cloned.<span class="hljs-property">arr</span>[<span class="hljs-number">2</span>] === testObj.<span class="hljs-property">arr</span>[<span class="hljs-number">2</span>]); <span class="hljs-comment">// false - æ·±æ‹·è´æˆåŠŸ</span>
</code></pre>
<p>æ”¯æŒæ›´å¤šæ•°æ®ç±»å‹çš„å®Œæ•´å®ç°</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">deepCloneComplete</span>(<span class="hljs-params">target, map = <span class="hljs-keyword">new</span> <span class="hljs-built_in">WeakMap</span>()</span>) {
  <span class="hljs-comment">// åŸºæœ¬ç±»å‹ç›´æ¥è¿”å›</span>
  <span class="hljs-keyword">if</span> (target === <span class="hljs-literal">null</span> || <span class="hljs-keyword">typeof</span> target !== <span class="hljs-string">"object"</span>) {
    <span class="hljs-keyword">return</span> target;
  }

  <span class="hljs-comment">// æ£€æŸ¥å¾ªç¯å¼•ç”¨</span>
  <span class="hljs-keyword">if</span> (map.<span class="hljs-title function_">has</span>(target)) {
    <span class="hljs-keyword">return</span> map.<span class="hljs-title function_">get</span>(target);
  }

  <span class="hljs-comment">// å…‹éš†ç‰¹æ®Šå¯¹è±¡ç±»å‹</span>
  <span class="hljs-comment">// Date</span>
  <span class="hljs-keyword">if</span> (target <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Date</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(target);
  }

  <span class="hljs-comment">// RegExp</span>
  <span class="hljs-keyword">if</span> (target <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">RegExp</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(target.<span class="hljs-property">source</span>, target.<span class="hljs-property">flags</span>);
  }

  <span class="hljs-comment">// Map</span>
  <span class="hljs-keyword">if</span> (target <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Map</span>) {
    <span class="hljs-keyword">const</span> clone = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    map.<span class="hljs-title function_">set</span>(target, clone);
    target.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">value, key</span>) =&gt;</span> {
      clone.<span class="hljs-title function_">set</span>(<span class="hljs-title function_">deepCloneComplete</span>(key, map), <span class="hljs-title function_">deepCloneComplete</span>(value, map));
    });
    <span class="hljs-keyword">return</span> clone;
  }

  <span class="hljs-comment">// Set</span>
  <span class="hljs-keyword">if</span> (target <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Set</span>) {
    <span class="hljs-keyword">const</span> clone = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
    map.<span class="hljs-title function_">set</span>(target, clone);
    target.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> {
      clone.<span class="hljs-title function_">add</span>(<span class="hljs-title function_">deepCloneComplete</span>(value, map));
    });
    <span class="hljs-keyword">return</span> clone;
  }

  <span class="hljs-comment">// ArrayBuffer</span>
  <span class="hljs-keyword">if</span> (target <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">ArrayBuffer</span>) {
    <span class="hljs-keyword">return</span> target.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>);
  }

  <span class="hljs-comment">// TypedArrat (Int8Array, Uint8Array, etc.)</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-title class_">ArrayBuffer</span>.<span class="hljs-title function_">isView</span>(target)) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> target.<span class="hljs-title function_">constructor</span>(<span class="hljs-params">target</span>);
  }

  <span class="hljs-comment">// Array</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(target)) {
    <span class="hljs-keyword">const</span> arrClone = [];
    map.<span class="hljs-title function_">set</span>(target, arrClone);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; target.<span class="hljs-property">length</span>; i++) {
      arrClone[i] = <span class="hljs-title function_">deepCloneComplete</span>(target[i], map);
    }
    <span class="hljs-keyword">return</span> arrClone;
  }

  <span class="hljs-comment">// æ™®é€šå¯¹è±¡</span>
  <span class="hljs-keyword">const</span> objClone = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(target));
  map.<span class="hljs-title function_">set</span>(target, objClone);

  <span class="hljs-comment">// è·å–æ‰€æœ‰å±æ€§(åŒ…æ‹¬ Symbol)</span>
  <span class="hljs-keyword">const</span> allKeys = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">ownKeys</span>(target);

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">of</span> allKeys) {
    <span class="hljs-keyword">const</span> descriptor = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyDescriptor</span>(target, key);

    <span class="hljs-keyword">if</span> (descriptor) {
      <span class="hljs-keyword">if</span> (descriptor.<span class="hljs-title function_">hasOwnProperty</span>(<span class="hljs-string">"value"</span>)) {
        <span class="hljs-comment">// æ•°æ®å±æ€§</span>
        objClone[key] = <span class="hljs-title function_">deepCloneComplete</span>(target[key], map);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// è®¿é—®å™¨å±æ€§ (getter/setter)</span>
        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(objClone, key, descriptor);
      }
    }
  }

  <span class="hljs-keyword">return</span> objClone;
}

<span class="hljs-comment">// æµ‹è¯•å®Œæ•´åŠŸèƒ½</span>
<span class="hljs-keyword">const</span> complexObj = {
  <span class="hljs-attr">string</span>: <span class="hljs-string">"hello"</span>,
  <span class="hljs-attr">number</span>: <span class="hljs-number">42</span>,
  <span class="hljs-attr">boolean</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">null</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-attr">undefined</span>: <span class="hljs-literal">undefined</span>,
  <span class="hljs-attr">symbol</span>: <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">"test"</span>),
  <span class="hljs-attr">date</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(),
  <span class="hljs-attr">regex</span>: <span class="hljs-regexp">/test/gi</span>,
  <span class="hljs-attr">array</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, { <span class="hljs-attr">nested</span>: <span class="hljs-literal">true</span> }],
  <span class="hljs-attr">map</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([[<span class="hljs-string">"key"</span>, { <span class="hljs-attr">value</span>: <span class="hljs-string">"map value"</span> }]]),
  <span class="hljs-attr">set</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]),
  <span class="hljs-attr">buffer</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>),
  <span class="hljs-attr">uintArray</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]),
  <span class="hljs-attr">object</span>: {
    <span class="hljs-attr">nested</span>: {
      <span class="hljs-attr">deeply</span>: <span class="hljs-string">"nested value"</span>,
    },
  },
  <span class="hljs-keyword">get</span> <span class="hljs-title function_">computed</span>() {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">string</span>.<span class="hljs-title function_">toUpperCase</span>();
  },
  <span class="hljs-title function_">method</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">string</span>;
  },
};

<span class="hljs-comment">// æ·»åŠ å¾ªç¯å¼•ç”¨</span>
complexObj.<span class="hljs-property">self</span> = complexObj;
complexObj.<span class="hljs-property">circular</span> = { <span class="hljs-attr">parent</span>: complexObj };

<span class="hljs-keyword">const</span> completeClone = <span class="hljs-title function_">deepCloneComplete</span>(complexObj);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(completeClone.<span class="hljs-property">date</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Date</span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(completeClone.<span class="hljs-property">regex</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">RegExp</span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(completeClone.<span class="hljs-property">map</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Map</span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(completeClone.<span class="hljs-property">uintArray</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Uint8Array</span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(completeClone.<span class="hljs-property">computed</span>); <span class="hljs-comment">// 'HELLO'</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(completeClone.<span class="hljs-title function_">method</span>()); <span class="hljs-comment">// 'hello'</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(completeClone.<span class="hljs-property">self</span> === completeClone); <span class="hljs-comment">// true - å¾ªç¯å¼•ç”¨æ­£ç¡®å¤„ç†</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(completeClone.<span class="hljs-property">circular</span>.<span class="hljs-property">parent</span> === completeClone); <span class="hljs-comment">// true</span>
</code></pre>
<h5 data-id="heading-21">3.3 ä½¿ç”¨ structuredClone API(ç°ä»£æµè§ˆå™¨)</h5>
<p>HTML5è§„èŒƒå¼•å…¥äº†<code>structuredClone()</code>æ–¹æ³•, æä¾›äº†ä¸€ç§æ ‡å‡†åŒ–çš„æ·±æ‹·è´æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æµè§ˆå™¨ç¯å¢ƒä¸­çš„ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> original = {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'John'</span>,
    <span class="hljs-attr">date</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(),
    <span class="hljs-attr">array</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>],
    <span class="hljs-attr">nested</span>: { <span class="hljs-attr">value</span>: <span class="hljs-string">'test'</span> }
};

<span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> cloned = <span class="hljs-title function_">structuredClone</span>(original);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cloned.<span class="hljs-property">date</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Date</span>); <span class="hljs-comment">// true</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cloned.<span class="hljs-property">nested</span> === original.<span class="hljs-property">nested</span>); <span class="hljs-comment">// false</span>
} <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'structuredClone not supported:'</span>, err);
}

<span class="hljs-comment">// Node.js ä¸­çš„ä½¿ç”¨ï¼ˆv17+ï¼‰</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> structuredClone === <span class="hljs-string">'function'</span>) {
    <span class="hljs-keyword">const</span> cloned = <span class="hljs-title function_">structuredClone</span>(original);
}

<span class="hljs-comment">// structuredClone æ”¯æŒçš„æ•°æ®ç±»å‹ï¼š</span>
<span class="hljs-comment">// - åŸºæœ¬ç±»å‹ï¼ˆé™¤ Symbolï¼‰</span>
<span class="hljs-comment">// - Booleanã€Numberã€String å¯¹è±¡</span>
<span class="hljs-comment">// - Date</span>
<span class="hljs-comment">// - RegExp</span>
<span class="hljs-comment">// - ArrayBufferã€TypedArray</span>
<span class="hljs-comment">// - Mapã€Set</span>
<span class="hljs-comment">// - Arrayã€Object</span>
<span class="hljs-comment">// - å¾ªç¯å¼•ç”¨</span>

<span class="hljs-comment">// ä¸æ”¯æŒï¼š</span>
<span class="hljs-comment">// - å‡½æ•°</span>
<span class="hljs-comment">// - DOM èŠ‚ç‚¹</span>
<span class="hljs-comment">// - Error å¯¹è±¡</span>
<span class="hljs-comment">// - åŸå‹é“¾</span>
</code></pre>
<h5 data-id="heading-22">3.4 ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“</h5>
<p>å¯¹äºç”Ÿäº§ç¯å¢ƒ, ä½¿ç”¨æˆç†Ÿçš„ç¬¬ä¸‰æ–¹åº“é€šå¸¸æ˜¯æ›´å¥½çš„é€‰æ‹©:
<strong>Lodash</strong>çš„<code>_.cloneDeep</code></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨ Lodash</span>
<span class="hljs-keyword">const</span> _ = <span class="hljs-built_in">require</span>(<span class="hljs-string">'lodash'</span>);

<span class="hljs-keyword">const</span> obj = {
    <span class="hljs-attr">date</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(),
    <span class="hljs-attr">regex</span>: <span class="hljs-regexp">/test/gi</span>,
    <span class="hljs-attr">func</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'hi'</span>),
    <span class="hljs-attr">nested</span>: { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> }
};

<span class="hljs-keyword">const</span> cloned = _.<span class="hljs-title function_">cloneDeep</span>(obj);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cloned.<span class="hljs-property">date</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Date</span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cloned.<span class="hljs-property">regex</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">RegExp</span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> cloned.<span class="hljs-property">func</span>); <span class="hljs-comment">// 'function' - å‡½æ•°è¢«ä¿ç•™</span>
</code></pre>
<p>è‡ªå·±å®ç°ç±»ä¼¼<strong>Lodash</strong>çš„<code>cloneDeep</code></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">cloneDeep</span>(<span class="hljs-params">value, stack = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>()</span>) {
    <span class="hljs-comment">// åŸºæœ¬ç±»å‹ç›´æ¥è¿”å›</span>
    <span class="hljs-keyword">if</span> (value === <span class="hljs-literal">null</span> || <span class="hljs-keyword">typeof</span> value !== <span class="hljs-string">'object'</span>) {
        <span class="hljs-keyword">return</span> value;
    }
    
    <span class="hljs-comment">// æ£€æŸ¥å¾ªç¯å¼•ç”¨</span>
    <span class="hljs-keyword">if</span> (stack.<span class="hljs-title function_">has</span>(value)) {
        <span class="hljs-keyword">return</span> stack.<span class="hljs-title function_">get</span>(value);
    }
    
    <span class="hljs-keyword">let</span> clone;
    
    <span class="hljs-comment">// å¤„ç†ç‰¹æ®Šå¯¹è±¡</span>
    <span class="hljs-keyword">if</span> (value <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Date</span>) {
        clone = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(value.<span class="hljs-title function_">getTime</span>());
        stack.<span class="hljs-title function_">set</span>(value, clone);
        <span class="hljs-keyword">return</span> clone;
    }
    
    <span class="hljs-keyword">if</span> (value <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">RegExp</span>) {
        clone = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(value.<span class="hljs-property">source</span>, value.<span class="hljs-property">flags</span>);
        stack.<span class="hljs-title function_">set</span>(value, clone);
        <span class="hljs-keyword">return</span> clone;
    }
    
    <span class="hljs-keyword">if</span> (value <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Map</span>) {
        clone = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
        stack.<span class="hljs-title function_">set</span>(value, clone);
        value.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">val, key</span>) =&gt;</span> {
            clone.<span class="hljs-title function_">set</span>(<span class="hljs-title function_">cloneDeep</span>(key, stack), <span class="hljs-title function_">cloneDeep</span>(val, stack));
        });
        <span class="hljs-keyword">return</span> clone;
    }
    
    <span class="hljs-keyword">if</span> (value <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Set</span>) {
        clone = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
        stack.<span class="hljs-title function_">set</span>(value, clone);
        value.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">val</span> =&gt;</span> {
            clone.<span class="hljs-title function_">add</span>(<span class="hljs-title function_">cloneDeep</span>(val, stack));
        });
        <span class="hljs-keyword">return</span> clone;
    }
    
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(value)) {
        clone = [];
        stack.<span class="hljs-title function_">set</span>(value, clone);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; value.<span class="hljs-property">length</span>; i++) {
            clone[i] = <span class="hljs-title function_">cloneDeep</span>(value[i], stack);
        }
        <span class="hljs-keyword">return</span> clone;
    }
    
    <span class="hljs-comment">// å¤„ç†æ™®é€šå¯¹è±¡</span>
    clone = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(value));
    stack.<span class="hljs-title function_">set</span>(value, clone);
    
    <span class="hljs-comment">// æ‹·è´æ‰€æœ‰å±æ€§</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">in</span> value) {
        <span class="hljs-keyword">if</span> (value.<span class="hljs-title function_">hasOwnProperty</span>(key)) {
            clone[key] = <span class="hljs-title function_">cloneDeep</span>(value[key], stack);
        }
    }
    
    <span class="hljs-keyword">return</span> clone;
}
</code></pre>
<h4 data-id="heading-23">å››ã€ç‰¹æ®Šåœºæ™¯å’Œè¾¹ç¼˜æƒ…å†µ</h4>
<h5 data-id="heading-24">4.1 å¾ªç¯å¼•ç”¨å¤„ç†</h5>
<p>å¾ªç¯å¼•ç”¨æ˜¯æ·±æ‹·è´ä¸­æœ€æ£˜æ‰‹çš„é—®é¢˜ä¹‹ä¸€, å¤„ç†ä¸å½“ä¼šå¯¼è‡´æ— é™é€’å½’å’Œæ ˆæº¢å‡º</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¾ªç¯å¼•ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> circularObj = { <span class="hljs-attr">name</span>: <span class="hljs-string">'Circular'</span> };
circularObj.<span class="hljs-property">self</span> = circularObj;
circularObj.<span class="hljs-property">ref</span> = { <span class="hljs-attr">parent</span>: circularObj };

<span class="hljs-comment">// å¤„ç†å¾ªç¯å¼•ç”¨çš„æ·±æ‹·è´å®ç°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">cloneDeepWithCircular</span>(<span class="hljs-params">obj, cache = <span class="hljs-keyword">new</span> <span class="hljs-built_in">WeakMap</span>()</span>) {
    <span class="hljs-comment">// éå¯¹è±¡ç›´æ¥è¿”å›</span>
    <span class="hljs-keyword">if</span> (obj === <span class="hljs-literal">null</span> || <span class="hljs-keyword">typeof</span> obj !== <span class="hljs-string">'object'</span>) {
        <span class="hljs-keyword">return</span> obj;
    }
    
    <span class="hljs-comment">// æ£€æŸ¥ç¼“å­˜ä¸­æ˜¯å¦å·²æœ‰è¯¥å¯¹è±¡çš„æ‹·è´</span>
    <span class="hljs-keyword">if</span> (cache.<span class="hljs-title function_">has</span>(obj)) {
        <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">get</span>(obj);
    }
    
    <span class="hljs-comment">// æ ¹æ®å¯¹è±¡ç±»å‹åˆ›å»ºç›¸åº”çš„ç©ºç»“æ„</span>
    <span class="hljs-keyword">let</span> clone;
    <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Date</span>) {
        clone = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(obj);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">RegExp</span>) {
        clone = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(obj.<span class="hljs-property">source</span>, obj.<span class="hljs-property">flags</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Map</span>) {
        clone = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Set</span>) {
        clone = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(obj)) {
        clone = [];
    } <span class="hljs-keyword">else</span> {
        clone = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(obj));
    }
    
    <span class="hljs-comment">// å°†ç©ºç»“æ„å­˜å…¥ç¼“å­˜ï¼ˆåœ¨é€’å½’å‰å­˜å…¥ï¼Œé˜²æ­¢æ— é™é€’å½’ï¼‰</span>
    cache.<span class="hljs-title function_">set</span>(obj, clone);
    
    <span class="hljs-comment">// é€’å½’æ‹·è´</span>
    <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Map</span>) {
        obj.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">value, key</span>) =&gt;</span> {
            clone.<span class="hljs-title function_">set</span>(
                <span class="hljs-title function_">cloneDeepWithCircular</span>(key, cache),
                <span class="hljs-title function_">cloneDeepWithCircular</span>(value, cache)
            );
        });
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Set</span>) {
        obj.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> {
            clone.<span class="hljs-title function_">add</span>(<span class="hljs-title function_">cloneDeepWithCircular</span>(value, cache));
        });
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(obj)) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; obj.<span class="hljs-property">length</span>; i++) {
            clone[i] = <span class="hljs-title function_">cloneDeepWithCircular</span>(obj[i], cache);
        }
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">in</span> obj) {
            <span class="hljs-keyword">if</span> (obj.<span class="hljs-title function_">hasOwnProperty</span>(key)) {
                clone[key] = <span class="hljs-title function_">cloneDeepWithCircular</span>(obj[key], cache);
            }
        }
    }
    
    <span class="hljs-keyword">return</span> clone;
}

<span class="hljs-comment">// æµ‹è¯•å¾ªç¯å¼•ç”¨</span>
<span class="hljs-keyword">const</span> testCircular = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> };
testCircular.<span class="hljs-property">b</span> = testCircular;
testCircular.<span class="hljs-property">c</span> = { <span class="hljs-attr">ref</span>: testCircular };

<span class="hljs-keyword">const</span> clonedCircular = <span class="hljs-title function_">cloneDeepWithCircular</span>(testCircular);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(clonedCircular.<span class="hljs-property">b</span> === clonedCircular); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(clonedCircular.<span class="hljs-property">c</span>.<span class="hljs-property">ref</span> === clonedCircular); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(clonedCircular !== testCircular); <span class="hljs-comment">// true - ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡</span>
</code></pre>
<h5 data-id="heading-25">4.2 å‡½æ•°æ‹·è´</h5>
<p>å‡½æ•°æ‹·è´æ˜¯ä¸€ä¸ªæœ‰äº‰è®®çš„è¯é¢˜ï¼Œå› ä¸ºå‡½æ•°å¯èƒ½ä¾èµ–äºé—­åŒ…ä¸­çš„å¤–éƒ¨å˜é‡ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å‡½æ•°æ‹·è´çš„å‡ ç§æ–¹æ³•</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">cloneFunction</span>(<span class="hljs-params">func</span>) {
    <span class="hljs-comment">// æ–¹æ³•1ï¼šä½¿ç”¨ evalï¼ˆä¸æ¨èï¼Œå®‰å…¨é—®é¢˜ï¼‰</span>
    <span class="hljs-keyword">const</span> funcString = func.<span class="hljs-title function_">toString</span>();
    
    <span class="hljs-comment">// æ–¹æ³•2ï¼šä½¿ç”¨ Function æ„é€ å‡½æ•°</span>
    <span class="hljs-keyword">const</span> clonedFunc = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Function</span>(<span class="hljs-string">'return '</span> + funcString)();
    
    <span class="hljs-comment">// æ‹·è´å‡½æ•°å±æ€§</span>
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyNames</span>(func).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">prop</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (prop !== <span class="hljs-string">'length'</span> &amp;&amp; prop !== <span class="hljs-string">'name'</span> &amp;&amp; prop !== <span class="hljs-string">'prototype'</span>) {
            <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(clonedFunc, prop, 
                <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyDescriptor</span>(func, prop));
        }
    });
    
    <span class="hljs-comment">// æ‹·è´åŸå‹</span>
    clonedFunc.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = func.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;
    
    <span class="hljs-keyword">return</span> clonedFunc;
}

<span class="hljs-comment">// å®é™…ä½¿ç”¨ä¸­ï¼Œé€šå¸¸ä¸æ‹·è´å‡½æ•°ï¼Œè€Œæ˜¯ä¿ç•™å¼•ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">cloneDeepWithFunction</span>(<span class="hljs-params">obj, cache = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>()</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> obj === <span class="hljs-string">'function'</span>) {
        <span class="hljs-keyword">return</span> obj; <span class="hljs-comment">// ç›´æ¥è¿”å›å‡½æ•°å¼•ç”¨</span>
    }
    
    <span class="hljs-comment">// ... å…¶ä»–ç±»å‹çš„å¤„ç†</span>
}

<span class="hljs-comment">// æµ‹è¯•</span>
<span class="hljs-keyword">const</span> objWithFunc = {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Test'</span>,
    <span class="hljs-attr">sayHello</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hello, <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>);
    },
    <span class="hljs-attr">arrowFunc</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Arrow'</span>)
};

<span class="hljs-keyword">const</span> clonedWithFunc = <span class="hljs-title function_">cloneDeepWithFunction</span>(objWithFunc);
clonedWithFunc.<span class="hljs-property">name</span> = <span class="hljs-string">'Cloned'</span>;
clonedWithFunc.<span class="hljs-title function_">sayHello</span>(); <span class="hljs-comment">// Hello, Cloned</span>
</code></pre>
<h5 data-id="heading-26">4.3 DOMå…ƒç´ æ‹·è´</h5>
<p>DOMå…ƒç´ æœ‰ç‰¹æ®Šçš„æ‹·è´éœ€æ±‚:</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">cloneDOMElement</span>(<span class="hljs-params">element, deep = <span class="hljs-literal">true</span></span>) {
    <span class="hljs-comment">// ä½¿ç”¨ cloneNode æ–¹æ³•</span>
    <span class="hljs-keyword">const</span> cloned = element.<span class="hljs-title function_">cloneNode</span>(deep);
    
    <span class="hljs-comment">// å¤„ç†äº‹ä»¶ç›‘å¬å™¨</span>
    <span class="hljs-comment">// æ³¨æ„ï¼šcloneNode ä¸ä¼šæ‹·è´äº‹ä»¶ç›‘å¬å™¨</span>
    
    <span class="hljs-comment">// å¤„ç†æ•°æ®å±æ€§</span>
    <span class="hljs-keyword">if</span> (element.<span class="hljs-property">dataset</span>) {
        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(cloned.<span class="hljs-property">dataset</span>, element.<span class="hljs-property">dataset</span>);
    }
    
    <span class="hljs-comment">// å¤„ç†è‡ªå®šä¹‰å±æ€§</span>
    <span class="hljs-keyword">const</span> attributes = element.<span class="hljs-property">attributes</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; attributes.<span class="hljs-property">length</span>; i++) {
        <span class="hljs-keyword">const</span> attr = attributes[i];
        <span class="hljs-keyword">if</span> (attr.<span class="hljs-property">name</span>.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'data-'</span>) || attr.<span class="hljs-property">name</span>.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'aria-'</span>)) {
            cloned.<span class="hljs-title function_">setAttribute</span>(attr.<span class="hljs-property">name</span>, attr.<span class="hljs-property">value</span>);
        }
    }
    
    <span class="hljs-keyword">return</span> cloned;
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-comment">// const originalDiv = document.getElementById('original');</span>
<span class="hljs-comment">// const clonedDiv = cloneDOMElement(originalDiv, true);</span>
<span class="hljs-comment">// document.body.appendChild(clonedDiv);</span>
</code></pre>
<h5 data-id="heading-27">4.4 æ€§èƒ½ä¼˜åŒ–æŠ€å·§</h5>
<p>æ·±æ‹·è´å¯èƒ½æˆä¸ºæ€§èƒ½ç“¶é¢ˆï¼Œç‰¹åˆ«æ˜¯å¤„ç†å¤§å‹å¯¹è±¡æ—¶ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ€§èƒ½ä¼˜åŒ–çš„æ·±æ‹·è´</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">fastDeepClone</span>(<span class="hljs-params">obj, cache = <span class="hljs-keyword">new</span> <span class="hljs-built_in">WeakMap</span>()</span>) {
    <span class="hljs-comment">// å¿«é€Ÿè·¯å¾„ï¼šåŸºæœ¬ç±»å‹</span>
    <span class="hljs-keyword">if</span> (obj === <span class="hljs-literal">null</span> || <span class="hljs-keyword">typeof</span> obj !== <span class="hljs-string">'object'</span>) {
        <span class="hljs-keyword">return</span> obj;
    }
    
    <span class="hljs-comment">// æ£€æŸ¥ç¼“å­˜</span>
    <span class="hljs-keyword">if</span> (cache.<span class="hljs-title function_">has</span>(obj)) {
        <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">get</span>(obj);
    }
    
    <span class="hljs-keyword">let</span> clone;
    
    <span class="hljs-comment">// ä½¿ç”¨æ„é€ å‡½æ•°å¿«é€Ÿåˆ›å»ºå¯¹è±¡</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title class_">Ctor</span> = obj.<span class="hljs-property">constructor</span>;
    
    <span class="hljs-keyword">switch</span> (<span class="hljs-title class_">Ctor</span>) {
        <span class="hljs-keyword">case</span> <span class="hljs-title class_">Date</span>:
            clone = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(obj);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-title class_">RegExp</span>:
            clone = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(obj);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-title class_">Map</span>:
            clone = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
            cache.<span class="hljs-title function_">set</span>(obj, clone);
            obj.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">value, key</span>) =&gt;</span> {
                clone.<span class="hljs-title function_">set</span>(<span class="hljs-title function_">fastDeepClone</span>(key, cache), <span class="hljs-title function_">fastDeepClone</span>(value, cache));
            });
            <span class="hljs-keyword">return</span> clone;
        <span class="hljs-keyword">case</span> <span class="hljs-title class_">Set</span>:
            clone = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
            cache.<span class="hljs-title function_">set</span>(obj, clone);
            obj.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> {
                clone.<span class="hljs-title function_">add</span>(<span class="hljs-title function_">fastDeepClone</span>(value, cache));
            });
            <span class="hljs-keyword">return</span> clone;
        <span class="hljs-keyword">case</span> <span class="hljs-title class_">Array</span>:
            clone = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(obj.<span class="hljs-property">length</span>);
            cache.<span class="hljs-title function_">set</span>(obj, clone);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; obj.<span class="hljs-property">length</span>; i++) {
                clone[i] = <span class="hljs-title function_">fastDeepClone</span>(obj[i], cache);
            }
            <span class="hljs-keyword">return</span> clone;
        <span class="hljs-attr">default</span>:
            <span class="hljs-comment">// æ™®é€šå¯¹è±¡</span>
            clone = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(obj));
            cache.<span class="hljs-title function_">set</span>(obj, clone);
    }
    
    <span class="hljs-comment">// å¿«é€Ÿå±æ€§æ‹·è´</span>
    <span class="hljs-keyword">const</span> keys = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(obj);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; keys.<span class="hljs-property">length</span>; i++) {
        <span class="hljs-keyword">const</span> key = keys[i];
        clone[key] = <span class="hljs-title function_">fastDeepClone</span>(obj[key], cache);
    }
    
    <span class="hljs-keyword">return</span> clone;
}

<span class="hljs-comment">// æ€§èƒ½å¯¹æ¯”</span>
<span class="hljs-keyword">const</span> largeObj = {};
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000</span>; i++) {
    largeObj[<span class="hljs-string">`key<span class="hljs-subst">${i}</span>`</span>] = {
        <span class="hljs-attr">nested</span>: { <span class="hljs-attr">value</span>: i },
        <span class="hljs-attr">array</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">10</span>).<span class="hljs-title function_">fill</span>(i)
    };
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">time</span>(<span class="hljs-string">'JSON æ·±æ‹·è´'</span>);
<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(largeObj));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeEnd</span>(<span class="hljs-string">'JSON æ·±æ‹·è´'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">time</span>(<span class="hljs-string">'é€’å½’æ·±æ‹·è´'</span>);
<span class="hljs-title function_">fastDeepClone</span>(largeObj);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeEnd</span>(<span class="hljs-string">'é€’å½’æ·±æ‹·è´'</span>);
</code></pre>
<h4 data-id="heading-28">äº”ã€å®è·µåº”ç”¨å’Œæœ€ä½³å®è·µ</h4>
<h5 data-id="heading-29">5.1 ä½•æ—¶ä½¿ç”¨æµ…æ‹·è´</h5>
<p>é€‚åˆæµ…æ‹·è´çš„åœºæ™¯:</p>
<ol>
<li><strong>ç®€å•æ•°æ®ç»“æ„:</strong> å¯¹è±¡åªæœ‰ä¸€å±‚ï¼Œæ²¡æœ‰åµŒå¥—</li>
<li><strong>æ€§èƒ½æ•æ„Ÿ:</strong> éœ€è¦å¿«é€Ÿæ‹·è´ï¼Œä¸å…³å¿ƒåµŒå¥—å¯¹è±¡çš„ç‹¬ç«‹æ€§</li>
<li><strong>ä¸å¯å˜æ•°æ®:</strong> æ•°æ®ä¸ä¼šè¢«ä¿®æ”¹ï¼Œæˆ–ä¿®æ”¹æ—¶åˆ›å»ºæ–°å¯¹è±¡</li>
<li><strong>é…ç½®å¯¹è±¡:</strong> åªéœ€è¦ä¿®æ”¹é¡¶å±‚é…ç½®</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æµ…æ‹·è´é€‚ç”¨åœºæ™¯</span>
<span class="hljs-keyword">const</span> config = {
    <span class="hljs-attr">apiUrl</span>: <span class="hljs-string">'https://api.example.com'</span>,
    <span class="hljs-attr">timeout</span>: <span class="hljs-number">5000</span>,
    <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
    }
};

<span class="hljs-comment">// åªéœ€è¦ä¿®æ”¹é¡¶å±‚é…ç½®æ—¶</span>
<span class="hljs-keyword">const</span> devConfig = { ...config, <span class="hljs-attr">apiUrl</span>: <span class="hljs-string">'https://dev-api.example.com'</span> };
<span class="hljs-comment">// headers å¯¹è±¡ä»ç„¶æ˜¯å…±äº«çš„ï¼Œä½†è¿™é€šå¸¸æ˜¯å¯ä»¥æ¥å—çš„</span>
</code></pre>
<h5 data-id="heading-30">5.2 ä½•æ—¶ä½¿ç”¨æ·±æ‹·è´</h5>
<p>é€‚åˆæ·±æ‹·è´çš„åœºæ™¯:</p>
<ol>
<li><strong>å¤æ‚åµŒå¥—ç»“æ„:</strong> å¯¹è±¡æœ‰å¤šå±‚åµŒå¥—ï¼Œéœ€è¦å®Œå…¨ç‹¬ç«‹</li>
<li><strong>çŠ¶æ€ç®¡ç†:</strong> åœ¨<code>Redux</code>æˆ–<code>Vuex</code>ä¸­ä¿®æ”¹çŠ¶æ€æ—¶</li>
<li><strong>ä¸å¯å˜æ›´æ–°:</strong> å‡½æ•°å¼ç¼–ç¨‹ä¸­åˆ›å»ºæ–°çŠ¶æ€</li>
<li><strong>æ•°æ®éš”ç¦»:</strong> é˜²æ­¢åŸå§‹æ•°æ®è¢«æ„å¤–ä¿®æ”¹</li>
<li><strong>ç¼“å­˜æ•°æ®:</strong> ä¿å­˜æ•°æ®å¿«ç…§</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ·±æ‹·è´é€‚ç”¨åœºæ™¯ - Redux reducer</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">todoReducer</span>(<span class="hljs-params">state = initialState, action</span>) {
    <span class="hljs-keyword">switch</span> (action.<span class="hljs-property">type</span>) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'ADD_TODO'</span>:
            <span class="hljs-comment">// éœ€è¦æ·±æ‹·è´æ¥åˆ›å»ºæ–°çŠ¶æ€</span>
            <span class="hljs-keyword">return</span> {
                ...state,
                <span class="hljs-attr">todos</span>: [
                    ...state.<span class="hljs-property">todos</span>,
                    {
                        <span class="hljs-attr">id</span>: action.<span class="hljs-property">id</span>,
                        <span class="hljs-attr">text</span>: action.<span class="hljs-property">text</span>,
                        <span class="hljs-attr">completed</span>: <span class="hljs-literal">false</span>
                    }
                ]
            };
        <span class="hljs-keyword">case</span> <span class="hljs-string">'TOGGLE_TODO'</span>:
            <span class="hljs-comment">// æ·±åº¦æ›´æ–°åµŒå¥—å¯¹è±¡</span>
            <span class="hljs-keyword">return</span> {
                ...state,
                <span class="hljs-attr">todos</span>: state.<span class="hljs-property">todos</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span>
                    todo.<span class="hljs-property">id</span> === action.<span class="hljs-property">id</span>
                        ? { ...todo, <span class="hljs-attr">completed</span>: !todo.<span class="hljs-property">completed</span> }
                        : todo
                )
            };
        <span class="hljs-attr">default</span>:
            <span class="hljs-keyword">return</span> state;
    }
}
</code></pre>
<h5 data-id="heading-31">5.3 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h5>
<ol>
<li><strong>æŒ‰éœ€æ‹·è´:</strong> åªæ‹·è´éœ€è¦ä¿®æ”¹çš„éƒ¨åˆ†</li>
<li><strong>ç»“æ„å…±äº«:</strong> ä½¿ç”¨ä¸å¯å˜æ•°æ®ç»“æ„åº“(å¦‚<code>Immutable.js</code>)</li>
<li><strong>å¢é‡æ›´æ–°:</strong> åªæ›´æ–°å˜åŒ–çš„éƒ¨åˆ†</li>
<li><strong>ç¼“å­˜ç»“æœ:</strong> å¯¹äºç›¸åŒè¾“å…¥è¿”å›ç¼“å­˜çš„ç»“æœ</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æŒ‰éœ€æ‹·è´ç¤ºä¾‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">updateUser</span>(<span class="hljs-params">user, updates</span>) {
    <span class="hljs-comment">// åªæ·±æ‹·è´éœ€è¦ä¿®æ”¹çš„éƒ¨åˆ†</span>
    <span class="hljs-keyword">const</span> updatedUser = { ...user };
    
    <span class="hljs-keyword">if</span> (updates.<span class="hljs-property">address</span>) {
        updatedUser.<span class="hljs-property">address</span> = { ...user.<span class="hljs-property">address</span>, ...updates.<span class="hljs-property">address</span> };
    }
    
    <span class="hljs-keyword">if</span> (updates.<span class="hljs-property">preferences</span>) {
        updatedUser.<span class="hljs-property">preferences</span> = { ...user.<span class="hljs-property">preferences</span>, ...updates.<span class="hljs-property">preferences</span> };
    }
    
    <span class="hljs-comment">// å…¶ä»–å±æ€§ç›´æ¥æµ…æ‹·è´</span>
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(updates).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (key !== <span class="hljs-string">'address'</span> &amp;&amp; key !== <span class="hljs-string">'preferences'</span>) {
            updatedUser[key] = updates[key];
        }
    });
    
    <span class="hljs-keyword">return</span> updatedUser;
}

<span class="hljs-comment">// ä½¿ç”¨ä»£ç†å®ç°æƒ°æ€§æ‹·è´</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createLazyCopy</span>(<span class="hljs-params">original</span>) {
    <span class="hljs-keyword">const</span> changes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    <span class="hljs-keyword">const</span> handler = {
        <span class="hljs-title function_">get</span>(<span class="hljs-params">target, prop</span>) {
            <span class="hljs-comment">// å¦‚æœè¯¥å±æ€§æœ‰ä¿®æ”¹ï¼Œè¿”å›ä¿®æ”¹åçš„å€¼</span>
            <span class="hljs-keyword">if</span> (changes.<span class="hljs-title function_">has</span>(prop)) {
                <span class="hljs-keyword">return</span> changes.<span class="hljs-title function_">get</span>(prop);
            }
            
            <span class="hljs-comment">// å¦åˆ™è¿”å›åŸå§‹å€¼</span>
            <span class="hljs-keyword">const</span> value = target[prop];
            
            <span class="hljs-comment">// å¦‚æœæ˜¯å¯¹è±¡ï¼Œåˆ™è¿”å›ä»£ç†</span>
            <span class="hljs-keyword">if</span> (value &amp;&amp; <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">'object'</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(value, handler);
            }
            
            <span class="hljs-keyword">return</span> value;
        },
        <span class="hljs-title function_">set</span>(<span class="hljs-params">target, prop, value</span>) {
            <span class="hljs-comment">// è®°å½•ä¿®æ”¹</span>
            changes.<span class="hljs-title function_">set</span>(prop, value);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    };
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(original, handler);
}
</code></pre>
<h5 data-id="heading-32">5.4 å®‰å…¨æ€§è€ƒè™‘</h5>
<ol>
<li><strong>é¿å…åŸå‹æ±¡æŸ“:</strong> ç¡®ä¿ä¸ä¼šæ‹·è´<code>__proto__</code>ç­‰ç‰¹æ®Šå±æ€§</li>
<li><strong>é˜²æ­¢æ¶æ„å¯¹è±¡:</strong> å¤„ç†å…·æœ‰<code>getter</code>çš„æ‰§è¡Œå¯èƒ½å¼•å‘å‰¯ä½œç”¨çš„å¯¹è±¡</li>
<li><strong>å†…å­˜å®‰å…¨:</strong> é¿å…æ‹·è´ä¼šå¯¼è‡´å†…å­˜æ³„æ¼çš„å¤§å‹å¯¹è±¡</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å®‰å…¨çš„æ·±æ‹·è´å®ç°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">safeDeepClone</span>(<span class="hljs-params">obj, options = {}</span>) {
    <span class="hljs-keyword">const</span> {
        maxDepth = <span class="hljs-number">100</span>,
        maxSize = <span class="hljs-number">10000</span>,
        allowFunctions = <span class="hljs-literal">false</span>,
        allowSymbols = <span class="hljs-literal">true</span>
    } = options;
    
    <span class="hljs-keyword">let</span> size = <span class="hljs-number">0</span>;
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">clone</span>(<span class="hljs-params">current, depth, cache</span>) {
        <span class="hljs-comment">// æ£€æŸ¥æ·±åº¦é™åˆ¶</span>
        <span class="hljs-keyword">if</span> (depth &gt; maxDepth) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Maximum depth exceeded'</span>);
        }
        
        <span class="hljs-comment">// æ£€æŸ¥å¤§å°é™åˆ¶</span>
        <span class="hljs-keyword">if</span> (size &gt; maxSize) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Maximum size exceeded'</span>);
        }
        
        <span class="hljs-comment">// åŸºæœ¬ç±»å‹å¤„ç†</span>
        <span class="hljs-keyword">if</span> (current === <span class="hljs-literal">null</span> || <span class="hljs-keyword">typeof</span> current !== <span class="hljs-string">'object'</span>) {
            <span class="hljs-comment">// æ£€æŸ¥ Symbol</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> current === <span class="hljs-string">'symbol'</span> &amp;&amp; !allowSymbols) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Symbols are not allowed'</span>);
            }
            <span class="hljs-keyword">return</span> current;
        }
        
        <span class="hljs-comment">// æ£€æŸ¥å‡½æ•°</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> current === <span class="hljs-string">'function'</span>) {
            <span class="hljs-keyword">if</span> (!allowFunctions) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Functions are not allowed'</span>);
            }
            <span class="hljs-keyword">return</span> current;
        }
        
        <span class="hljs-comment">// æ£€æŸ¥ç¼“å­˜ï¼ˆé˜²æ­¢å¾ªç¯å¼•ç”¨ï¼‰</span>
        <span class="hljs-keyword">if</span> (cache.<span class="hljs-title function_">has</span>(current)) {
            <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">get</span>(current);
        }
        
        <span class="hljs-comment">// æ ¹æ®ç±»å‹åˆ›å»ºç©ºå¯¹è±¡</span>
        <span class="hljs-keyword">let</span> clone;
        <span class="hljs-keyword">const</span> <span class="hljs-title class_">Ctor</span> = current.<span class="hljs-property">constructor</span>;
        
        <span class="hljs-keyword">switch</span> (<span class="hljs-title class_">Ctor</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-title class_">Date</span>:
                clone = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(current);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-title class_">RegExp</span>:
                clone = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(current);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-title class_">Map</span>:
                clone = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-title class_">Set</span>:
                clone = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-title class_">Array</span>:
                clone = [];
                <span class="hljs-keyword">break</span>;
            <span class="hljs-attr">default</span>:
                <span class="hljs-comment">// æ™®é€šå¯¹è±¡ - é¿å…åŸå‹æ±¡æŸ“</span>
                clone = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-literal">null</span>);
        }
        
        <span class="hljs-comment">// å­˜å…¥ç¼“å­˜</span>
        cache.<span class="hljs-title function_">set</span>(current, clone);
        
        <span class="hljs-comment">// é€’å½’æ‹·è´</span>
        <span class="hljs-keyword">if</span> (current <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Map</span>) {
            current.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">value, key</span>) =&gt;</span> {
                size++;
                clone.<span class="hljs-title function_">set</span>(
                    <span class="hljs-title function_">clone</span>(key, depth + <span class="hljs-number">1</span>, cache),
                    <span class="hljs-title function_">clone</span>(value, depth + <span class="hljs-number">1</span>, cache)
                );
            });
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (current <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Set</span>) {
            current.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> {
                size++;
                clone.<span class="hljs-title function_">add</span>(<span class="hljs-title function_">clone</span>(value, depth + <span class="hljs-number">1</span>, cache));
            });
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(current)) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; current.<span class="hljs-property">length</span>; i++) {
                size++;
                clone[i] = <span class="hljs-title function_">clone</span>(current[i], depth + <span class="hljs-number">1</span>, cache);
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">in</span> current) {
                <span class="hljs-comment">// é¿å…æ‹·è´åŸå‹é“¾ä¸Šçš„å±æ€§</span>
                <span class="hljs-keyword">if</span> (current.<span class="hljs-title function_">hasOwnProperty</span>(key)) {
                    <span class="hljs-comment">// é¿å…ç‰¹æ®Šå±æ€§</span>
                    <span class="hljs-keyword">if</span> (key === <span class="hljs-string">'__proto__'</span> || key === <span class="hljs-string">'constructor'</span> || key === <span class="hljs-string">'prototype'</span>) {
                        <span class="hljs-keyword">continue</span>;
                    }
                    
                    size++;
                    clone[key] = <span class="hljs-title function_">clone</span>(current[key], depth + <span class="hljs-number">1</span>, cache);
                }
            }
        }
        
        <span class="hljs-keyword">return</span> clone;
    }
    
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">clone</span>(obj, <span class="hljs-number">0</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>());
}
</code></pre>
<h4 data-id="heading-33">å…­ã€ç°åœ¨JavaScriptä¸­çš„æ‹·è´æ¨¡å¼</h4>
<h5 data-id="heading-34">6.1 ä¸å¯å˜æ•°æ®æ¨¡å¼</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨ Object.freeze å®ç°æµ…ä¸å¯å˜</span>
<span class="hljs-keyword">const</span> immutableConfig = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>({
    <span class="hljs-attr">apiUrl</span>: <span class="hljs-string">'https://api.example.com'</span>,
    <span class="hljs-attr">timeout</span>: <span class="hljs-number">5000</span>,
    <span class="hljs-attr">headers</span>: <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>({
        <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
    })
});

<span class="hljs-comment">// æ·±åº¦å†»ç»“</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">deepFreeze</span>(<span class="hljs-params">obj</span>) {
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>(obj);
    
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyNames</span>(obj).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">prop</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> value = obj[prop];
        
        <span class="hljs-keyword">if</span> (value &amp;&amp; <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">'object'</span> &amp;&amp; !<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">isFrozen</span>(value)) {
            <span class="hljs-title function_">deepFreeze</span>(value);
        }
    });
    
    <span class="hljs-keyword">return</span> obj;
}

<span class="hljs-comment">// ä½¿ç”¨ Proxy å®ç°ä¸å¯å˜æ¥å£</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createImmutable</span>(<span class="hljs-params">obj</span>) {
    <span class="hljs-keyword">const</span> handler = {
        <span class="hljs-title function_">get</span>(<span class="hljs-params">target, prop</span>) {
            <span class="hljs-keyword">const</span> value = target[prop];
            
            <span class="hljs-comment">// å¦‚æœæ˜¯å¯¹è±¡ï¼Œè¿”å›ä»£ç†</span>
            <span class="hljs-keyword">if</span> (value &amp;&amp; <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">'object'</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-title function_">createImmutable</span>(value);
            }
            
            <span class="hljs-keyword">return</span> value;
        },
        <span class="hljs-title function_">set</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Cannot modify immutable object'</span>);
        },
        <span class="hljs-title function_">deleteProperty</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Cannot delete property from immutable object'</span>);
        }
    };
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(obj, handler);
}
</code></pre>
<h5 data-id="heading-35">6.2 ç»“æ„å…±äº«(Persistent Data Structures)</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€åŒ–çš„ç»“æ„å…±äº«å®ç°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PersistentMap</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">data = {}</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = data;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">version</span> = <span class="hljs-number">0</span>;
    }
    
    <span class="hljs-title function_">set</span>(<span class="hljs-params">key, value</span>) {
        <span class="hljs-comment">// åˆ›å»ºæ–°ç‰ˆæœ¬ï¼Œå…±äº«æœªä¿®æ”¹çš„æ•°æ®</span>
        <span class="hljs-keyword">const</span> newData = { ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> };
        newData[key] = value;
        
        <span class="hljs-keyword">const</span> newMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PersistentMap</span>(newData);
        newMap.<span class="hljs-property">version</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">version</span> + <span class="hljs-number">1</span>;
        
        <span class="hljs-keyword">return</span> newMap;
    }
    
    <span class="hljs-title function_">get</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[key];
    }
    
    <span class="hljs-comment">// æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬æ˜¯å¦ç›¸ç­‰</span>
    <span class="hljs-title function_">equals</span>(<span class="hljs-params">other</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span> === other) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">version</span> !== other.<span class="hljs-property">version</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        
        <span class="hljs-comment">// æ·±åº¦æ¯”è¾ƒï¼ˆç®€åŒ–ç‰ˆï¼‰</span>
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>) === <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(other.<span class="hljs-property">data</span>);
    }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> map1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PersistentMap</span>({ <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> });
<span class="hljs-keyword">const</span> map2 = map1.<span class="hljs-title function_">set</span>(<span class="hljs-string">'c'</span>, <span class="hljs-number">3</span>);
<span class="hljs-keyword">const</span> map3 = map2.<span class="hljs-title function_">set</span>(<span class="hljs-string">'b'</span>, <span class="hljs-number">20</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(map1.<span class="hljs-title function_">get</span>(<span class="hljs-string">'b'</span>)); <span class="hljs-comment">// 2</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(map3.<span class="hljs-title function_">get</span>(<span class="hljs-string">'b'</span>)); <span class="hljs-comment">// 20</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(map1.<span class="hljs-property">data</span> === map2.<span class="hljs-property">data</span>); <span class="hljs-comment">// false</span>
</code></pre>
<h5 data-id="heading-36">6.3 ä½¿ç”¨ç°ä»£API</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨ Object.groupBy å’Œ Map (ES2024)</span>
<span class="hljs-keyword">const</span> users = [
    { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'admin'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Bob'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'user'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Charlie'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'admin'</span> }
];

<span class="hljs-comment">// åˆ†ç»„å¹¶åˆ›å»ºä¸å¯å˜ç»“æ„</span>
<span class="hljs-keyword">const</span> grouped = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">groupBy</span>(users, <span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> user.<span class="hljs-property">group</span>);

<span class="hljs-comment">// è½¬æ¢ä¸ºä¸å¯å˜ Map</span>
<span class="hljs-keyword">const</span> immutableGroups = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(grouped));

<span class="hljs-comment">// æ·±åº¦å†»ç»“</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">deepFreezeMap</span>(<span class="hljs-params">map</span>) {
    map.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (value &amp;&amp; <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">'object'</span>) {
            <span class="hljs-title function_">deepFreeze</span>(value);
        }
    });
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>(map);
}

<span class="hljs-title function_">deepFreezeMap</span>(immutableGroups);

<span class="hljs-comment">// åˆ›å»ºæ–°ç‰ˆæœ¬</span>
<span class="hljs-keyword">const</span> updatedGroups = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(immutableGroups);
updatedGroups.<span class="hljs-title function_">set</span>(<span class="hljs-string">'moderator'</span>, [{ <span class="hljs-attr">id</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'David'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'moderator'</span> }]);
</code></pre>
<h4 data-id="heading-37">ä¸ƒã€æ€»ç»“ä¸æœ€ä½³å®è·µå»ºè®®</h4>
<h5 data-id="heading-38">7.1 æ‹·è´æ–¹æ³•é€‰æ‹©æŒ‡å—</h5>













































<table><thead><tr><th align="left">åœºæ™¯</th><th align="left">æ¨èæ–¹æ³•</th><th align="left">ç†ç”±</th></tr></thead><tbody><tr><td align="left">ç®€å•å¯¹è±¡ï¼Œæ— åµŒå¥—</td><td align="left">æµ…æ‹·è´<code>({...obj})</code></td><td align="left">å¿«é€Ÿã€ç®€å•ã€é«˜æ•ˆ</td></tr><tr><td align="left">é…ç½®å¯¹è±¡ï¼Œå°‘é‡åµŒå¥—</td><td align="left">æµ…æ‹·è´+æ‰‹åŠ¨å¤„ç†åµŒå¥—</td><td align="left">å¹³è¡¡æ€§èƒ½å’Œæ­£ç¡®æ€§</td></tr><tr><td align="left">å¤æ‚åµŒå¥—å¯¹è±¡</td><td align="left">æ·±æ‹·è´(é€’å½’æˆ–<code>sutrcturedClone</code>)</td><td align="left">ç¡®ä¿å®Œå…¨ç‹¬ç«‹</td></tr><tr><td align="left">åŒ…å«ç‰¹æ®Šç±»å‹(Dateã€RegExp)</td><td align="left">è‡ªå®šä¹‰æ·±æ‹·è´æˆ–Lodash</td><td align="left">æ­£ç¡®å¤„ç†ç‰¹æ®Šå¯¹è±¡</td></tr><tr><td align="left">æ€§èƒ½å…³é”®è·¯å¾„</td><td align="left">æŒ‰éœ€æ‹·è´+ç»“æ„å…±äº«</td><td align="left">æœ€å¤§åŒ–æ€§èƒ½</td></tr><tr><td align="left">ä¸å¯å˜æ•°æ®</td><td align="left">æ·±æ‹·è´+<code>Object.freeze</code></td><td align="left">ç¡®ä¿æ•°æ®ä¸å¯å˜</td></tr><tr><td align="left">ç”Ÿäº§ç¯å¢ƒ</td><td align="left">Lodashçš„<code>_.cloneDeep</code></td><td align="left">æˆç†Ÿã€ç¨³å®šã€åŠŸèƒ½å…¨</td></tr></tbody></table>
<h5 data-id="heading-39">7.2 é»„é‡‘æ³•åˆ™</h5>
<ol>
<li><strong>æ˜ç¡®éœ€æ±‚:</strong> å…ˆç¡®å®šæ˜¯å¦éœ€è¦æ·±æ‹·è´ï¼Œå¾ˆå¤šæ—¶å€™æµ…æ‹·è´å°±è¶³å¤Ÿäº†</li>
<li><strong>æµ‹è¯•è¾¹ç•Œæƒ…å†µ:</strong> æ€»æ˜¯æµ‹è¯•å¾ªç¯å¼•ç”¨ã€ç‰¹æ®Šå¯¹è±¡å’Œå¤§å‹æ•°æ®ç»“æ„</li>
<li><strong>è€ƒè™‘æ€§èƒ½:</strong> å¯¹äºé¢‘ç¹æ“ä½œçš„æ•°æ®ï¼Œè€ƒè™‘ä½¿ç”¨ä¸å¯å˜æ•°æ®ç»“æ„</li>
<li><strong>ä¿æŒç®€æ´:</strong> é¿å…è¿‡åº¦å¤æ‚çš„æ‹·è´é€»è¾‘ï¼Œå¿…è¦æ—¶ä½¿ç”¨æˆç†Ÿçš„åº“</li>
<li><strong>å®‰å…¨æ€§ç¬¬ä¸€:</strong> å¤„ç†ç”¨æˆ·è¾“å…¥æ—¶è¦ç‰¹åˆ«å°å¿ƒï¼Œé¿å…åŸå‹æ±¡æŸ“å’Œå…¶ä»–å®‰å…¨é—®é¢˜</li>
</ol>
<h5 data-id="heading-40">7.3 æœªæ¥è¶‹åŠ¿</h5>
<ol>
<li><strong>ç»“æ„åŒ–å…‹éš† API:</strong> <code>structuredClone()</code>å°†æˆä¸ºæ·±æ‹·è´çš„æ ‡å‡†æ–¹å¼</li>
<li><strong>Recordså’ŒTuples:</strong> ESææ¡ˆï¼Œæä¾›åŸç”Ÿä¸å¯å˜æ•°æ®ç»“æ„</li>
<li><strong>æ›´å¿«çš„æ‹·è´ç®—æ³•:</strong> WebAssemblyå’Œæ–°çš„ JavaScript å¼•æ“ä¼˜åŒ–</li>
<li><strong>ç¼–è¯‘æ—¶ä¼˜åŒ–:</strong> é€šè¿‡é™æ€åˆ†æä¼˜åŒ–æ‹·è´æ“ä½œ</li>
</ol>
<h5 data-id="heading-41">7.4 æœ€ç»ˆå»ºè®®ä»£ç </h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒæ¨èçš„æ‹·è´å·¥å…·å‡½æ•°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CloneUtils</span> {
    <span class="hljs-comment">// ç®€å•çš„æ·±æ‹·è´ï¼ˆé€‚åˆå¤§å¤šæ•°åœºæ™¯ï¼‰</span>
    <span class="hljs-keyword">static</span> <span class="hljs-title function_">deepClone</span>(<span class="hljs-params">obj</span>) {
        <span class="hljs-comment">// ä¼˜å…ˆä½¿ç”¨åŸç”Ÿ API</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> structuredClone === <span class="hljs-string">'function'</span>) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-title function_">structuredClone</span>(obj);
            } <span class="hljs-keyword">catch</span> (e) {
                <span class="hljs-comment">// å¦‚æœå¤±è´¥ï¼Œå›é€€åˆ°å…¶ä»–æ–¹æ³•</span>
            }
        }
        
        <span class="hljs-comment">// å›é€€åˆ° JSON æ–¹æ³•ï¼ˆæœ‰é™åˆ¶ï¼‰</span>
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(obj));
        } <span class="hljs-keyword">catch</span> (e) {
            <span class="hljs-comment">// å¦‚æœ JSON æ–¹æ³•å¤±è´¥ï¼Œä½¿ç”¨è‡ªå®šä¹‰å®ç°</span>
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">customDeepClone</span>(obj);
        }
    }
    
    <span class="hljs-comment">// è‡ªå®šä¹‰æ·±æ‹·è´å®ç°</span>
    <span class="hljs-keyword">static</span> <span class="hljs-title function_">customDeepClone</span>(<span class="hljs-params">obj, cache = <span class="hljs-keyword">new</span> <span class="hljs-built_in">WeakMap</span>()</span>) {
        <span class="hljs-comment">// åŸºç¡€ç±»å‹å’Œå‡½æ•°</span>
        <span class="hljs-keyword">if</span> (obj === <span class="hljs-literal">null</span> || <span class="hljs-keyword">typeof</span> obj !== <span class="hljs-string">'object'</span>) {
            <span class="hljs-keyword">return</span> obj;
        }
        
        <span class="hljs-comment">// æ£€æŸ¥ç¼“å­˜</span>
        <span class="hljs-keyword">if</span> (cache.<span class="hljs-title function_">has</span>(obj)) {
            <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">get</span>(obj);
        }
        
        <span class="hljs-comment">// å¤„ç†ç‰¹æ®Šå¯¹è±¡</span>
        <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Date</span>) {
            <span class="hljs-keyword">const</span> cloned = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(obj);
            cache.<span class="hljs-title function_">set</span>(obj, cloned);
            <span class="hljs-keyword">return</span> cloned;
        }
        
        <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">RegExp</span>) {
            <span class="hljs-keyword">const</span> cloned = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(obj);
            cache.<span class="hljs-title function_">set</span>(obj, cloned);
            <span class="hljs-keyword">return</span> cloned;
        }
        
        <span class="hljs-comment">// åˆ›å»ºç©ºå¯¹è±¡/æ•°ç»„</span>
        <span class="hljs-keyword">const</span> cloned = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(obj) ? [] : {};
        cache.<span class="hljs-title function_">set</span>(obj, cloned);
        
        <span class="hljs-comment">// é€’å½’æ‹·è´å±æ€§</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">in</span> obj) {
            <span class="hljs-keyword">if</span> (obj.<span class="hljs-title function_">hasOwnProperty</span>(key)) {
                cloned[key] = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">customDeepClone</span>(obj[key], cache);
            }
        }
        
        <span class="hljs-keyword">return</span> cloned;
    }
    
    <span class="hljs-comment">// å®‰å…¨çš„æµ…æ‹·è´ï¼ˆé˜²æ­¢åŸå‹æ±¡æŸ“ï¼‰</span>
    <span class="hljs-keyword">static</span> <span class="hljs-title function_">safeShallowClone</span>(<span class="hljs-params">obj</span>) {
        <span class="hljs-keyword">if</span> (obj === <span class="hljs-literal">null</span> || <span class="hljs-keyword">typeof</span> obj !== <span class="hljs-string">'object'</span>) {
            <span class="hljs-keyword">return</span> obj;
        }
        
        <span class="hljs-keyword">const</span> cloned = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(obj) ? [] : {};
        
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">in</span> obj) {
            <span class="hljs-keyword">if</span> (obj.<span class="hljs-title function_">hasOwnProperty</span>(key) &amp;&amp; 
                key !== <span class="hljs-string">'__proto__'</span> &amp;&amp; 
                key !== <span class="hljs-string">'constructor'</span> &amp;&amp; 
                key !== <span class="hljs-string">'prototype'</span>) {
                cloned[key] = obj[key];
            }
        }
        
        <span class="hljs-keyword">return</span> cloned;
    }
    
    <span class="hljs-comment">// æ€§èƒ½ä¼˜åŒ–çš„æ‹·è´ï¼ˆåªæ‹·è´éœ€è¦ä¿®æ”¹çš„éƒ¨åˆ†ï¼‰</span>
    <span class="hljs-keyword">static</span> <span class="hljs-title function_">smartClone</span>(<span class="hljs-params">original, modifications</span>) {
        <span class="hljs-keyword">const</span> result = { ...original };
        
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">in</span> modifications) {
            <span class="hljs-keyword">if</span> (modifications.<span class="hljs-title function_">hasOwnProperty</span>(key)) {
                <span class="hljs-keyword">const</span> originalValue = original[key];
                <span class="hljs-keyword">const</span> modifiedValue = modifications[key];
                
                <span class="hljs-keyword">if</span> (originalValue &amp;&amp; <span class="hljs-keyword">typeof</span> originalValue === <span class="hljs-string">'object'</span> &amp;&amp;
                    modifiedValue &amp;&amp; <span class="hljs-keyword">typeof</span> modifiedValue === <span class="hljs-string">'object'</span> &amp;&amp;
                    !<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(originalValue) &amp;&amp; !<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(modifiedValue)) {
                    <span class="hljs-comment">// é€’å½’å¤„ç†åµŒå¥—å¯¹è±¡</span>
                    result[key] = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">smartClone</span>(originalValue, modifiedValue);
                } <span class="hljs-keyword">else</span> {
                    result[key] = modifiedValue;
                }
            }
        }
        
        <span class="hljs-keyword">return</span> result;
    }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> data = {
    <span class="hljs-attr">user</span>: {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'John'</span>,
        <span class="hljs-attr">settings</span>: {
            <span class="hljs-attr">theme</span>: <span class="hljs-string">'dark'</span>,
            <span class="hljs-attr">notifications</span>: <span class="hljs-literal">true</span>
        }
    },
    <span class="hljs-attr">items</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]
};

<span class="hljs-comment">// ç®€å•æ·±æ‹·è´</span>
<span class="hljs-keyword">const</span> cloned1 = <span class="hljs-title class_">CloneUtils</span>.<span class="hljs-title function_">deepClone</span>(data);

<span class="hljs-comment">// æ™ºèƒ½æ‹·è´ï¼ˆåªä¿®æ”¹éƒ¨åˆ†ï¼‰</span>
<span class="hljs-keyword">const</span> cloned2 = <span class="hljs-title class_">CloneUtils</span>.<span class="hljs-title function_">smartClone</span>(data, {
    <span class="hljs-attr">user</span>: {
        <span class="hljs-attr">settings</span>: {
            <span class="hljs-attr">theme</span>: <span class="hljs-string">'light'</span>
        }
    }
});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cloned2.<span class="hljs-property">user</span>.<span class="hljs-property">settings</span>.<span class="hljs-property">theme</span>); <span class="hljs-comment">// 'light'</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cloned2.<span class="hljs-property">user</span>.<span class="hljs-property">settings</span>.<span class="hljs-property">notifications</span>); <span class="hljs-comment">// trueï¼ˆä¿æŒåŸå€¼ï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cloned2.<span class="hljs-property">items</span> === data.<span class="hljs-property">items</span>); <span class="hljs-comment">// trueï¼ˆæœªä¿®æ”¹çš„éƒ¨åˆ†å…±äº«å¼•ç”¨ï¼‰</span>
</code></pre>
<h4 data-id="heading-42">ç»“è¯­</h4>
<p>JavaScriptæ‹·è´æ˜¯ä¸€ä¸ªçœ‹ä¼¼ç®€å•å®åˆ™å¤æ‚çš„è¯é¢˜ã€‚é€šè¿‡æœ¬æ–‡çš„å­¦ä¹ ï¼Œä½ åº”è¯¥èƒ½å¤Ÿ:</p>
<ol>
<li>ç†è§£æµ…æ‹·è´å’Œæ·±æ‹·è´çš„æ ¹æœ¬åŒºåˆ«</li>
<li>æ ¹æ®ä¸åŒçš„åœºæ™¯é€‰æ‹©åˆé€‚çš„æ‹·è´ç­–ç•¥</li>
<li>å®ç°å„ç§æ‹·è´æ–¹æ³•ï¼Œå¤„ç†è¾¹ç•Œæƒ…å†µ</li>
<li>ä¼˜åŒ–æ‹·è´æ€§èƒ½ï¼Œé¿å…å¸¸è§é™·é˜±
è®°ä½ï¼Œæ²¡æœ‰ä¸€ç§æ‹·è´æ–¹æ³•æ˜¯é€‚ç”¨äºæ‰€æœ‰åœºæ™¯çš„ä¸‡èƒ½è§£å†³æ–¹æ¡ˆã€‚æœ€å¥½çš„æ–¹æ³•æ˜¯ç†è§£æ¯ç§æŠ€æœ¯çš„ä¼˜ç¼ºç‚¹ï¼Œæ ¹æ®å…·ä½“éœ€æ±‚åšå‡ºæ˜æ™ºçš„é€‰æ‹©ã€‚</li>
</ol>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œå½“é¢ä¸´æ‹·è´éœ€æ±‚æ—¶ï¼Œå…ˆé—®è‡ªå·±å‡ ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>æˆ‘çœŸçš„éœ€è¦å®Œå…¨ç‹¬ç«‹çš„æ•°æ®å—ï¼Ÿ</li>
<li>æ•°æ®ç»“æ„æœ‰å¤šå¤æ‚ï¼Ÿ</li>
<li>æ€§èƒ½è¦æ±‚æœ‰å¤šé«˜ï¼Ÿ</li>
<li>æ˜¯å¦æœ‰ç‰¹æ®Šç±»å‹çš„å¯¹è±¡éœ€è¦å¤„ç†ï¼Ÿ</li>
</ul>
<p>é€šè¿‡å›ç­”è¿™äº›é—®é¢˜ï¼Œä½ å°†èƒ½å¤Ÿé€‰æ‹©æœ€åˆé€‚çš„æ‹·è´ç­–ç•¥ï¼Œå†™å‡ºæ›´å¥å£®ã€æ›´é«˜æ•ˆçš„ä»£ç ã€‚</p>
<p><strong>æ·±å…¥å­¦ä¹ èµ„æº:</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FWeb_Workers_API%2FStructured_clone_algorithm" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Workers_API/Structured_clone_algorithm" ref="nofollow noopener noreferrer">MDN: ç»“æ„åŒ–å…‹éš†ç®—æ³•</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flodash%2Flodash%2Fblob%2Fmaster%2FcloneDeep.js" target="_blank" title="https://github.com/lodash/lodash/blob/master/cloneDeep.js" ref="nofollow noopener noreferrer">Lodash: cloneDeep æºç åˆ†æ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fv8.dev%2Fblog%2Ffast-properties" target="_blank" title="https://v8.dev/blog/fast-properties" ref="nofollow noopener noreferrer">JavaScript å¼•æ“ä¸­çš„å¯¹è±¡è¡¨ç¤º</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fimmutable-js.com%2F" target="_blank" title="https://immutable-js.com/" ref="nofollow noopener noreferrer">Immutable.js å®˜æ–¹æ–‡æ¡£</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆšåˆšï¼Œè±†åŒ…é‡ç£…å‡çº§ï¼Œä¸Šçº¿Seedream 4.5ï¼5å¤§åœºæ™¯å®æµ‹ï¼ˆé™„æç¤ºè¯ï¼‰]]></title>    <link>https://juejin.cn/post/7579805639435780148</link>    <guid>https://juejin.cn/post/7579805639435780148</guid>    <pubDate>2025-12-04T15:40:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579805639435780148" data-draft-id="7579808521204449314" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆšåˆšï¼Œè±†åŒ…é‡ç£…å‡çº§ï¼Œä¸Šçº¿Seedream 4.5ï¼5å¤§åœºæ™¯å®æµ‹ï¼ˆé™„æç¤ºè¯ï¼‰"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2025-12-04T15:40:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜Xå°é¹¿"/> <meta itemprop="url" content="https://juejin.cn/user/2928754709505608"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆšåˆšï¼Œè±†åŒ…é‡ç£…å‡çº§ï¼Œä¸Šçº¿Seedream 4.5ï¼5å¤§åœºæ™¯å®æµ‹ï¼ˆé™„æç¤ºè¯ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2928754709505608/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜Xå°é¹¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T15:40:13.000Z" title="Thu Dec 04 2025 15:40:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯Xå°é¹¿ï½</p>
<p>è‡ªä¸Šä¸€æ¬¡ã€Œè±†åŒ…ç”Ÿå›¾ 4.0ã€ä¹‹åï¼Œè±†åŒ…ç”Ÿå›¾å’Œ P å›¾èƒ½åŠ›åˆè¿æ¥ä¸€æ¬¡é‡ç£…å‡çº§ã€‚</p>
<p>è¿™å‘¨ï¼Œè±†åŒ…å›¾åƒåˆ›ä½œæ¨¡å‹ Doubao-Seedream-4.5 å‘å¸ƒï¼Œç›®å‰åœ¨è±†åŒ…æ‰‹æœºç«¯å’Œè±†åŒ…ç”µè„‘ç«¯éƒ½å¯ä»¥ä½¿ç”¨äº†ã€‚</p>
<p>ç›¸æ¯”äºä¹‹å‰çš„æ¨¡å‹ï¼ŒSeedream 4.5 åœ¨<code>è®¾è®¡æ’ç‰ˆèƒ½åŠ›</code> ã€<code>å¤šå›¾ç»„åˆèƒ½åŠ›</code>å’Œ<code>åŸå›¾ä¿æŒèƒ½åŠ›</code>ç­‰æ–¹é¢éƒ½æœ‰äº†ä¸€å®šçš„æå‡ã€‚</p>
<p>æ¥çœ‹çœ‹å®æµ‹æ•ˆæœå§ã€‚</p>
<h2 data-id="heading-0">è®¾è®¡æ’ç‰ˆ</h2>
<p>æ–°å‡çº§çš„ Seedream 4.5 æ¨¡å‹ï¼Œåœ¨æ’ç‰ˆæ„å›¾èƒ½åŠ›ä¸Šæœ‰äº†ä¸€å®šæå‡ï¼Œå°å­—ä¹Ÿèƒ½æ¸…æ™°å¯è¾¨ã€‚</p>
<p><strong>äº§å“å®£ä¼ å›¾ï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0e2e64fee71429d86971f44345fbaf3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765467613&amp;x-signature=94tlGu8%2Bi8DhUP3mXgYbYpgNiBU%3D" alt="img" loading="lazy"/></p>
<p><strong>é»‘æ¿æ¿ä¹¦å›¾ï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/408dd119ed8b435b9701b49b3675c3b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765467613&amp;x-signature=Qf%2FbQQBMbXI9%2FE%2FOEHk9G7I6f3c%3D" alt="img" loading="lazy"/></p>
<p>å¤§éƒ¨åˆ†å­—æ˜¾ç¤ºæ­£å¸¸ï¼Œå°å­—ä¹Ÿæ¸…æ™°å¯è¾¨ã€‚</p>
<p>ä½†å¯¹äºä¸€äº›ç¨å¾®å¤æ‚ä¸€ç‚¹çš„æ±‰å­—ï¼Œæ¯”å¦‚ç¬¬å››å¥çš„â€œæ”â€ã€â€œç°ªâ€ï¼Œæ˜¾ç¤ºè¿˜æ˜¯æœ‰äº›é—®é¢˜çš„ã€‚</p>
<p>è€Œä¸”ï¼Œä¹Ÿæ²¡æœ‰ç²‰ç¬”çš„æ•ˆæœã€‚</p>
<h2 data-id="heading-1">å¤šå›¾ç»„åˆ</h2>
<p>ä¹‹å‰çš„ç‰ˆæœ¬åœ¨å¤šå›¾å‚è€ƒæ—¶ï¼Œä¼šæœ‰æ··æ·†çš„æƒ…å†µã€‚</p>
<p>æ¥çœ‹çœ‹è¿™æ¬¡å‡çº§åˆ° Seedream 4.5 åçš„æ•ˆæœã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4bd87b4de803486fa012259bfab4ceaa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765467613&amp;x-signature=LLiE9mBuUKDUiiq6EXb6ivVbQu0%3D" alt="img" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b7ce52f2cf241a998bac8145a2551e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765467613&amp;x-signature=I6Nj1j69JCngUKw3oWgHtw%2BDpeM%3D" alt="img" loading="lazy"/></p>
<p>è¿™ä¸¤ç§åœºæ™¯ä¸‹ï¼Œäººç‰©çš„ä¸€è‡´æ€§å’Œåœºæ™¯ä¿æŒå¾—éƒ½è¿˜ä¸é”™ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0fbdab48accb46439af6f560d476546d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765467613&amp;x-signature=DxnI57rkL26vSnwKFvAFmTYeCzw%3D" alt="img" loading="lazy"/></p>
<p>å·¦å›¾ç¬¦åˆè¦æ±‚ï¼Œä½†å³å›¾ï¼Œè¦æ±‚æ˜¯è®©ä¸¤ä¸ªå°å¥³å­©äº’æ¢è¡£æœï¼Œç»“æœè±†åŒ…ç»™ä¿©äººæ¢äº†ä¸ªä½ç½®ï¼Œä¸ç¬¦åˆè¦æ±‚ã€‚</p>
<h2 data-id="heading-2">å…¶ä»–åœºæ™¯</h2>
<p><strong>ç‰©ç†æ•™å­¦ç¤ºæ„å›¾ï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4ae9752afde84079bf4a702abe47c9c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765467613&amp;x-signature=gXLqDYTAW%2BtBRjY4vrsxQFYKxgs%3D" alt="img" loading="lazy"/></p>
<p>å·¦å›¾æ˜¯ Seedream 4.5 ç”»çš„ï¼Œç”»äº†å‡ æ¬¡ï¼Œéƒ½ä¸å¤ªç†æƒ³ã€‚</p>
<p>åæ¥è¯•äº†ä¸‹ Nano Banana Proï¼ˆå³å›¾ï¼‰ï¼Œå°±å½¢è±¡å¤šäº†ã€‚è¿™ä¸ªåœºæ™¯ä¸‹ï¼ŒNano Banana Pro èƒœã€‚</p>
<p><strong>è§£å­¦è§£é¢˜åœºæ™¯ï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/86ae6abe43b04b45a1e52c39a154c5fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765467613&amp;x-signature=7F8xqWWF6J%2B4ofS8kyKnDg0itcQ%3D" alt="img" loading="lazy"/></p>
<p>ç»“æœæ­£ç¡®ï¼Œæ­¥éª¤ä¹Ÿæ²¡é—®é¢˜ã€‚</p>
<h2 data-id="heading-3">å†™åœ¨æœ€å</h2>
<p>è¿˜æœ‰å¾ˆå¤šåœºæ™¯ï¼Œå¤§å®¶ä¸‹æ¥å¯ä»¥è¯•è¯•ã€‚</p>
<p>Seedream 4.5 ç›®å‰åœ¨è±†åŒ…æ‰‹æœºç«¯å’Œç”µè„‘ç«¯éƒ½å¯ä»¥ä½¿ç”¨ã€‚</p>
<p><strong>ç”µè„‘ç«¯ï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/622d554640e246a4af595cc8f3d650fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765467613&amp;x-signature=JVN7xPD%2BTotQnxs1PGi2gxQPGas%3D" alt="img" loading="lazy"/></p>
<p><strong>æ‰‹æœºç«¯ï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47fb5b6528bf4899b55922aa124c27de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765467613&amp;x-signature=3Z0oiLRZU3rIy94WcpjwGrHzwZ0%3D" alt="img" loading="lazy"/></p>
<p>è±†åŒ…å¯ä»¥è¯´æ˜¯Xå°é¹¿æ—¥å¸¸ç”¨çš„è¾ƒå¤šçš„ AI ç”Ÿå›¾å·¥å…·ä¹‹ä¸€äº†ï¼Œå¥½ç”¨ï¼Œè¿˜å®Œå…¨å…è´¹ï¼</p>
<p>æ„Ÿå…´è¶£å¿«å»è¯•è¯•å§ã€‚</p>
<hr/>
<blockquote>
<p>æˆ‘æ˜¯<a href="https://juejin.cn/user/2928754709505608/posts" title="https://juejin.cn/user/2928754709505608/posts" target="_blank">ç¨‹åºå‘˜Xå°é¹¿</a>ï¼Œå‰äº’è”ç½‘å¤§å‚ç¨‹åºå‘˜ï¼Œä¹Ÿæ˜¯ä¸€å AIGC çˆ±å¥½è€…ï¼ŒæŒç»­åˆ†äº«æ›´å¤šå¥½ç”¨çš„ AI å·¥å…·ï¼Œæ¬¢è¿ä¸€èµ·äº¤æµ~</p>
</blockquote>
<p><strong>æ¨èé˜…è¯»</strong></p>
<p><a href="https://juejin.cn/post/7454501732203610131" title="https://juejin.cn/post/7454501732203610131" target="_blank">2024å¹´ç»ˆAIå·¥å…·æ±‡æ€»ï¼š9å¤§AIé¢†åŸŸï¼Œ70+ç²¾é€‰AIå·¥å…·ï¼Œå…¨éƒ½åœ¨è¿™äº†ï¼(å»ºè®®æ”¶è—)</a></p>
<p>æ›´å¤š AI å·¥å…·è§<a href="https://juejin.cn/column/7284164153576947724" title="https://juejin.cn/column/7284164153576947724" target="_blank">ã€AIå·¥å…·ã€‘</a>ä¸“æ ï¼ŒæŒç»­æ›´æ–°ä¸­ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Kubernetes èŠ‚ç‚¹æ±¡ç‚¹ï¼ˆTaintsï¼‰æ“ä½œéªŒè¯æ‰‹å†Œ]]></title>    <link>https://juejin.cn/post/7579832417748631603</link>    <guid>https://juejin.cn/post/7579832417748631603</guid>    <pubDate>2025-12-04T14:24:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579832417748631603" data-draft-id="7579832417748615219" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Kubernetes èŠ‚ç‚¹æ±¡ç‚¹ï¼ˆTaintsï¼‰æ“ä½œéªŒè¯æ‰‹å†Œ"/> <meta itemprop="keywords" content="Kubernetes"/> <meta itemprop="datePublished" content="2025-12-04T14:24:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Kubernetes èŠ‚ç‚¹æ±¡ç‚¹ï¼ˆTaintsï¼‰æ“ä½œéªŒè¯æ‰‹å†Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T14:24:45.000Z" title="Thu Dec 04 2025 14:24:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>ç‰ˆæœ¬</strong>ï¼šv1.0<br/>
<strong>é€‚ç”¨ Kubernetes ç‰ˆæœ¬</strong>ï¼šv1.20+<br/>
<strong>ç›®æ ‡</strong>ï¼šæŒæ¡æ±¡ç‚¹ï¼ˆTaintï¼‰ä¸å®¹å¿ï¼ˆTolerationï¼‰çš„é…ç½®ã€éªŒè¯ä¸æ’é”™</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯èŠ‚ç‚¹æ±¡ç‚¹ï¼ˆTaintï¼‰ï¼Ÿ</h2>
<p><strong>æ±¡ç‚¹ï¼ˆTaintï¼‰</strong> æ˜¯ Kubernetes èŠ‚ç‚¹ä¸Šçš„ä¸€ç§æ ‡è®°ï¼Œç”¨äº <strong>æ’æ–¥ä¸æ»¡è¶³æ¡ä»¶çš„ Pod</strong>ã€‚åªæœ‰å¸¦æœ‰å¯¹åº” <strong>å®¹å¿ï¼ˆTolerationï¼‰</strong> çš„ Pod æ‰èƒ½è¢«è°ƒåº¦åˆ°è¯¥èŠ‚ç‚¹ã€‚</p>
<h3 data-id="heading-1">æ ¸å¿ƒä½œç”¨ï¼š</h3>
<ul>
<li>é˜²æ­¢æ™®é€š Pod è°ƒåº¦åˆ° Master èŠ‚ç‚¹ï¼ˆé»˜è®¤è¡Œä¸ºï¼‰</li>
<li>ä¸“ç”¨èŠ‚ç‚¹ï¼ˆå¦‚ GPU èŠ‚ç‚¹ã€æ—¥å¿—èŠ‚ç‚¹ï¼‰åªè¿è¡Œç‰¹å®šå·¥ä½œè´Ÿè½½</li>
<li>èŠ‚ç‚¹ç»´æŠ¤æœŸé—´ä¸´æ—¶é©±é€æ–° Pod</li>
</ul>
<h3 data-id="heading-2">æ±¡ç‚¹æ ¼å¼ï¼š</h3>
<pre><code class="hljs language-ruby" lang="ruby">&lt;key&gt;=&lt;value&gt;<span class="hljs-symbol">:&lt;effect&gt;</span>
</code></pre>





















<table><thead><tr><th>Effectï¼ˆæ•ˆæœï¼‰</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>NoSchedule</code></td><td>æ–° Pod ä¸ä¼šè¢«è°ƒåº¦åˆ°è¯¥èŠ‚ç‚¹ï¼ˆå·²è¿è¡Œçš„ä¸å—å½±å“ï¼‰</td></tr><tr><td><code>PreferNoSchedule</code></td><td>å°½é‡ä¸è°ƒåº¦ï¼ˆè½¯ç­–ç•¥ï¼Œéå¼ºåˆ¶ï¼‰</td></tr><tr><td><code>NoExecute</code></td><td><strong>ä¸ä»…æ‹’ç»æ–° Podï¼Œè¿˜ä¼šé©±é€å·²è¿è¡Œçš„ä¸åŒ¹é… Pod</strong></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-3">äºŒã€æ“ä½œå‰å‡†å¤‡</h2>
<h3 data-id="heading-4">ç¯å¢ƒè¦æ±‚ï¼š</h3>
<ul>
<li>å·²éƒ¨ç½² Kubernetes é›†ç¾¤ï¼ˆè‡³å°‘ 1 master + 1 workerï¼‰</li>
<li><code>kubectl</code> å·²é…ç½®å¹¶å…·å¤‡ç®¡ç†å‘˜æƒé™</li>
<li>è‡³å°‘ä¸€ä¸ªå¯æ“ä½œçš„ Worker èŠ‚ç‚¹ï¼ˆå¦‚ <code>worker-01</code>ï¼‰</li>
</ul>
<h3 data-id="heading-5">æŸ¥çœ‹å½“å‰èŠ‚ç‚¹æ±¡ç‚¹ï¼ˆåŸºå‡†çŠ¶æ€ï¼‰ï¼š</h3>
<pre><code class="hljs language-swift" lang="swift">kubectl describe node <span class="hljs-operator">&lt;</span>node<span class="hljs-operator">-</span>name<span class="hljs-operator">&gt;</span> <span class="hljs-operator">|</span> grep <span class="hljs-type">Taints</span>
# æˆ–
kubectl <span class="hljs-keyword">get</span> nodes <span class="hljs-operator">-</span>o jsonpath<span class="hljs-operator">=</span>'{range .items[<span class="hljs-operator">*</span>]}{.metadata.name}{<span class="hljs-string">"<span class="hljs-subst">\t</span>"</span>}{.spec.taints}{<span class="hljs-string">"<span class="hljs-subst">\n</span>"</span>}{end}'
</code></pre>
<blockquote>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒMaster èŠ‚ç‚¹é€šå¸¸æœ‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">node-role.kubernetes.io/control-plane:NoSchedule
</code></pre>
</blockquote>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€æ“ä½œæ­¥éª¤ä¸éªŒè¯</h2>
<hr/>
<h3 data-id="heading-7">âœ… åœºæ™¯ 1ï¼šä¸ºèŠ‚ç‚¹æ·»åŠ æ±¡ç‚¹ï¼ˆNoScheduleï¼‰</h3>
<h4 data-id="heading-8">ç›®æ ‡ï¼šé˜»æ­¢æ™®é€š Pod è°ƒåº¦åˆ° <code>worker-01</code></h4>
<h4 data-id="heading-9">æ­¥éª¤ 1ï¼šæ·»åŠ æ±¡ç‚¹</h4>
<pre><code class="hljs language-ini" lang="ini">kubectl taint node worker-01 <span class="hljs-attr">dedicated</span>=gpu:NoSchedule
</code></pre>
<blockquote>
<p>è¯´æ˜ï¼šç»™ <code>worker-01</code> æ·»åŠ æ±¡ç‚¹ï¼Œkey=<code>dedicated</code>, value=<code>gpu</code>, effect=<code>NoSchedule</code></p>
</blockquote>
<h4 data-id="heading-10">æ­¥éª¤ 2ï¼šéªŒè¯æ±¡ç‚¹å·²ç”Ÿæ•ˆ</h4>
<pre><code class="hljs language-perl" lang="perl">kubectl describe node worker-<span class="hljs-number">01</span> | <span class="hljs-keyword">grep</span> Taints
<span class="hljs-comment"># è¾“å‡ºåº”åŒ…å«ï¼š</span>
<span class="hljs-comment"># Taints:             dedicated=gpu:NoSchedule</span>
</code></pre>
<h4 data-id="heading-11">æ­¥éª¤ 3ï¼šéƒ¨ç½²æ™®é€š Podï¼ˆé¢„æœŸï¼šä¸ä¼šè°ƒåº¦åˆ° worker-01ï¼‰</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># test-pod.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Pod</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">test-pod</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">containers:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">nginx</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">nginx:alpine</span>
  <span class="hljs-attr">restartPolicy:</span> <span class="hljs-string">Never</span>
</code></pre>
<pre><code class="hljs language-arduino" lang="arduino">kubectl apply -f test-pod.yaml
kubectl get pod test-pod -o wide
</code></pre>
<p>âœ… <strong>é¢„æœŸç»“æœ</strong>ï¼š<br/>
Pod è¢«è°ƒåº¦åˆ° <strong>å…¶ä»–æ— æ±¡ç‚¹çš„èŠ‚ç‚¹</strong>ï¼Œ<strong>ä¸ä¼šå‡ºç°åœ¨ <code>worker-01</code></strong></p>
<hr/>
<h3 data-id="heading-12">âœ… åœºæ™¯ 2ï¼šä¸º Pod æ·»åŠ å®¹å¿ï¼ˆTolerationï¼‰</h3>
<h4 data-id="heading-13">ç›®æ ‡ï¼šè®©ç‰¹å®š Pod å¯ä»¥è°ƒåº¦åˆ°å¸¦æ±¡ç‚¹çš„èŠ‚ç‚¹</h4>
<h4 data-id="heading-14">æ­¥éª¤ 1ï¼šåˆ›å»ºå¸¦å®¹å¿çš„ Pod</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># gpu-pod.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Pod</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">gpu-pod</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">containers:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">busybox</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">busybox</span>
    <span class="hljs-attr">command:</span> [<span class="hljs-string">"sleep"</span>, <span class="hljs-string">"3600"</span>]
  <span class="hljs-attr">tolerations:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">key:</span> <span class="hljs-string">"dedicated"</span>
    <span class="hljs-attr">operator:</span> <span class="hljs-string">"Equal"</span>
    <span class="hljs-attr">value:</span> <span class="hljs-string">"gpu"</span>
    <span class="hljs-attr">effect:</span> <span class="hljs-string">"NoSchedule"</span>
  <span class="hljs-attr">restartPolicy:</span> <span class="hljs-string">Never</span>
</code></pre>
<h4 data-id="heading-15">æ­¥éª¤ 2ï¼šéƒ¨ç½²å¹¶éªŒè¯</h4>
<pre><code class="hljs language-arduino" lang="arduino">kubectl apply -f gpu-pod.yaml
kubectl get pod gpu-pod -o wide
</code></pre>
<p>âœ… <strong>é¢„æœŸç»“æœ</strong>ï¼š<br/>
Pod <strong>æˆåŠŸè°ƒåº¦åˆ° <code>worker-01</code></strong></p>
<blockquote>
<p>ğŸ’¡ æ³¨æ„ï¼šå®¹å¿å¿…é¡» <strong>å®Œå…¨åŒ¹é…</strong> keyã€valueã€effectï¼ˆé™¤éä½¿ç”¨ <code>operator: Exists</code>ï¼‰</p>
</blockquote>
<hr/>
<h3 data-id="heading-16">âœ… åœºæ™¯ 3ï¼šæµ‹è¯• NoExecute æ•ˆæœï¼ˆé©±é€å·²è¿è¡Œ Podï¼‰</h3>
<h4 data-id="heading-17">ç›®æ ‡ï¼šéªŒè¯ <code>NoExecute</code> ä¼šé©±é€ä¸åŒ¹é…çš„ç°æœ‰ Pod</h4>
<h4 data-id="heading-18">æ­¥éª¤ 1ï¼šå…ˆåœ¨ <code>worker-01</code> ä¸Šè¿è¡Œä¸€ä¸ªæ™®é€š Pod</h4>
<pre><code class="hljs language-css" lang="css"># å¼ºåˆ¶è°ƒåº¦åˆ° worker-<span class="hljs-number">01</span>ï¼ˆé€šè¿‡ nodeNameï¼‰
kubectl run debug-pod <span class="hljs-attr">--image</span>=busybox <span class="hljs-attr">--command</span> -- sleep <span class="hljs-number">3600</span> <span class="hljs-attr">--dry-run</span>=client -o yaml | \
  kubectl apply -f -
kubectl patch pod debug-pod -<span class="hljs-selector-tag">p</span> '{"spec":{"nodeName":<span class="hljs-string">"worker-01"</span>}}'
</code></pre>
<p>ç¡®è®¤ Pod åœ¨ <code>worker-01</code> ä¸Šè¿è¡Œï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">kubectl get pod debug-pod -o wide
</code></pre>
<h4 data-id="heading-19">æ­¥éª¤ 2ï¼šæ·»åŠ  <code>NoExecute</code> æ±¡ç‚¹</h4>
<pre><code class="hljs language-ini" lang="ini">kubectl taint node worker-01 <span class="hljs-attr">maintenance</span>=<span class="hljs-literal">true</span>:NoExecute
</code></pre>
<h4 data-id="heading-20">æ­¥éª¤ 3ï¼šè§‚å¯Ÿ Pod çŠ¶æ€</h4>
<pre><code class="hljs language-arduino" lang="arduino">kubectl get pod debug-pod -w
</code></pre>
<p>âœ… <strong>é¢„æœŸç»“æœ</strong>ï¼š<br/>
<code>debug-pod</code> åœ¨å‡ ç§’å†…è¢« <strong>ç»ˆæ­¢ï¼ˆTerminatedï¼‰</strong> ï¼ŒçŠ¶æ€å˜ä¸º <code>Evicted</code> æˆ–ç›´æ¥æ¶ˆå¤±ã€‚</p>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šå¦‚æœ Pod æœ‰ <code>tolerationSeconds</code>ï¼Œä¼šå»¶è¿Ÿé©±é€ï¼ˆè§é«˜çº§ç”¨æ³•ï¼‰</p>
</blockquote>
<hr/>
<h3 data-id="heading-21">âœ… åœºæ™¯ 4ï¼šç§»é™¤æ±¡ç‚¹</h3>
<h4 data-id="heading-22">ç›®æ ‡ï¼šæ¢å¤èŠ‚ç‚¹æ­£å¸¸è°ƒåº¦</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># ç§»é™¤æŒ‡å®šæ±¡ç‚¹</span>
kubectl taint node worker-01 <span class="hljs-attr">dedicated</span>=gpu:NoSchedule-

<span class="hljs-comment"># ç§»é™¤æ‰€æœ‰æ±¡ç‚¹ï¼ˆè°¨æ…ï¼ï¼‰</span>
kubectl taint node worker-01 dedicated-
kubectl taint node worker-01 maintenance-
</code></pre>
<blockquote>
<p>ğŸ”‘ è¯­æ³•ï¼šåœ¨æ±¡ç‚¹ååŠ  <code>-</code> è¡¨ç¤ºåˆ é™¤</p>
</blockquote>
<p>éªŒè¯ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">kubectl describe node worker-<span class="hljs-number">01</span> | <span class="hljs-keyword">grep</span> Taints
<span class="hljs-comment"># åº”æ˜¾ç¤ºï¼šTaints: &lt;none&gt;</span>
</code></pre>
<hr/>
<h2 data-id="heading-23">å››ã€é«˜çº§ç”¨æ³•</h2>
<h3 data-id="heading-24">1. å®¹å¿æ‰€æœ‰æ±¡ç‚¹ï¼ˆæ…ç”¨ï¼ï¼‰</h3>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">tolerations:</span>
- <span class="hljs-keyword">operator</span>: <span class="hljs-string">"Exists"</span>
</code></pre>
<blockquote>
<p>è¯¥ Pod å¯è°ƒåº¦åˆ° <strong>ä»»ä½•èŠ‚ç‚¹</strong>ï¼ŒåŒ…æ‹¬ Masterï¼ˆå¸¸ç”¨äº DaemonSet å¦‚ Calicoã€Fluentdï¼‰</p>
</blockquote>
<h3 data-id="heading-25">2. å»¶è¿Ÿé©±é€ï¼ˆtolerationSecondsï¼‰</h3>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">tolerations:</span>
- <span class="hljs-keyword">key</span>: <span class="hljs-string">"node.kubernetes.io/unreachable"</span>
  <span class="hljs-keyword">operator</span>: <span class="hljs-string">"Exists"</span>
  effect: <span class="hljs-string">"NoExecute"</span>
  tolerationSeconds: <span class="hljs-number">300</span>  # èŠ‚ç‚¹å¤±è”å <span class="hljs-number">5</span> åˆ†é’Ÿå†é©±é€
</code></pre>
<h3 data-id="heading-26">3. å¤šæ±¡ç‚¹å®¹å¿</h3>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">tolerations:</span>
- <span class="hljs-keyword">key</span>: <span class="hljs-string">"dedicated"</span>
  value: <span class="hljs-string">"gpu"</span>
  effect: <span class="hljs-string">"NoSchedule"</span>
- <span class="hljs-keyword">key</span>: <span class="hljs-string">"env"</span>
  value: <span class="hljs-string">"prod"</span>
  effect: <span class="hljs-string">"NoExecute"</span>
</code></pre>
<hr/>
<h2 data-id="heading-27">äº”ã€å…¸å‹åº”ç”¨åœºæ™¯</h2>






























<table><thead><tr><th>åœºæ™¯</th><th>æ±¡ç‚¹è®¾ç½®</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><strong>Master èŠ‚ç‚¹ä¿æŠ¤</strong></td><td><code>node-role.kubernetes.io/control-plane:NoSchedule</code></td><td>é˜²æ­¢ä¸šåŠ¡ Pod å ç”¨æ§åˆ¶å¹³é¢èµ„æº</td></tr><tr><td><strong>GPU ä¸“ç”¨èŠ‚ç‚¹</strong></td><td><code>nvidia.com/gpu=true:NoSchedule</code></td><td>åªè¿è¡Œ AI/ML ä»»åŠ¡</td></tr><tr><td><strong>æ—¥å¿—/ç›‘æ§èŠ‚ç‚¹</strong></td><td><code>role=logging:NoSchedule</code></td><td>ä¸“ç”¨äº Fluentdã€Prometheus</td></tr><tr><td><strong>èŠ‚ç‚¹ç»´æŠ¤</strong></td><td><code>maintenance=true:NoExecute</code></td><td>ä¸´æ—¶é©±é€æ‰€æœ‰éå…³é”® Pod</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-28">å…­ã€æ•…éšœæ’æŸ¥æŒ‡å—</h2>
<h3 data-id="heading-29">âŒ é—®é¢˜ 1ï¼šPod ä¸€ç›´ Pendingï¼Œäº‹ä»¶æ˜¾ç¤º â€œ0/3 nodes are available: 3 node(s) had taint...â€</h3>
<p><strong>åŸå› </strong>ï¼šæ‰€æœ‰èŠ‚ç‚¹éƒ½æœ‰æ±¡ç‚¹ï¼Œä½† Pod æ²¡æœ‰å¯¹åº”å®¹å¿ã€‚</p>
<p><strong>è§£å†³</strong>ï¼š</p>
<ul>
<li>æ£€æŸ¥èŠ‚ç‚¹æ±¡ç‚¹ï¼š<code>kubectl describe node</code></li>
<li>ä¸º Pod æ·»åŠ æ­£ç¡® <code>tolerations</code></li>
<li>æˆ–ç§»é™¤ä¸å¿…è¦çš„æ±¡ç‚¹</li>
</ul>
<hr/>
<h3 data-id="heading-30">âŒ é—®é¢˜ 2ï¼šPod è¢«æ„å¤–é©±é€</h3>
<p><strong>åŸå› </strong>ï¼šèŠ‚ç‚¹è¢«æ·»åŠ äº† <code>NoExecute</code> æ±¡ç‚¹ï¼Œä¸” Pod æ— å®¹å¿ã€‚</p>
<p><strong>è§£å†³</strong>ï¼š</p>
<ul>
<li>æ£€æŸ¥è¿‘æœŸæ˜¯å¦æ‰§è¡Œäº† <code>kubectl taint ...:NoExecute</code></li>
<li>ä¸ºå…³é”® Pod æ·»åŠ å®¹å¿ + <code>tolerationSeconds</code></li>
<li>ä½¿ç”¨ <code>kubectl describe pod &lt;name&gt;</code> æŸ¥çœ‹ Events</li>
</ul>
<hr/>
<h3 data-id="heading-31">âŒ é—®é¢˜ 3ï¼šæ±¡ç‚¹æ— æ³•åˆ é™¤</h3>
<p><strong>ç°è±¡</strong>ï¼šæ‰§è¡Œ <code>kubectl taint node xxx key=value:effect-</code> æŠ¥é”™</p>
<p><strong>åŸå› </strong>ï¼švalue æˆ– effect ä¸åŒ¹é…ã€‚</p>
<p><strong>è§£å†³</strong>ï¼š</p>
<ul>
<li>å…ˆ <code>kubectl describe node</code> ç¡®è®¤å®Œæ•´æ±¡ç‚¹å­—ç¬¦ä¸²</li>
<li>åˆ é™¤æ—¶å¿…é¡» <strong>å®Œå…¨ä¸€è‡´</strong>ï¼ˆåŒ…æ‹¬ value å’Œ effectï¼‰</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å¦‚æœæ±¡ç‚¹æ˜¯ï¼šdedicated=gpu:NoSchedule</span>
<span class="hljs-comment"># å¿…é¡»è¿™æ ·åˆ ï¼š</span>
kubectl taint node worker-01 <span class="hljs-attr">dedicated</span>=gpu:NoSchedule-
</code></pre>
<hr/>
<h2 data-id="heading-32">ä¸ƒã€é™„å½•ï¼šå¸¸ç”¨å‘½ä»¤é€ŸæŸ¥</h2>






























<table><thead><tr><th>æ“ä½œ</th><th>å‘½ä»¤</th></tr></thead><tbody><tr><td>æŸ¥çœ‹èŠ‚ç‚¹æ±¡ç‚¹</td><td>`kubectl describe node </td><td>grep Taints`</td></tr><tr><td>æ·»åŠ æ±¡ç‚¹</td><td><code>kubectl taint node &lt;name&gt; key=value:effect</code></td></tr><tr><td>åˆ é™¤æ±¡ç‚¹</td><td><code>kubectl taint node &lt;name&gt; key=value:effect-</code></td></tr><tr><td>åˆ é™¤æ‰€æœ‰æŸ key æ±¡ç‚¹</td><td><code>kubectl taint node &lt;name&gt; key-</code></td></tr><tr><td>æŸ¥çœ‹ Pod å®¹å¿</td><td><code>kubectl get pod &lt;name&gt; -o jsonpath='{.spec.tolerations}'</code></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-33">å…«ã€æ€»ç»“</h2>
<ul>
<li><strong>æ±¡ç‚¹ï¼ˆTaintï¼‰</strong> æ˜¯èŠ‚ç‚¹çš„â€œæ’æ–¥è§„åˆ™â€ï¼Œ<strong>å®¹å¿ï¼ˆTolerationï¼‰</strong> æ˜¯ Pod çš„â€œé€šè¡Œè¯â€ã€‚</li>
<li><code>NoSchedule</code> å½±å“è°ƒåº¦ï¼Œ<code>NoExecute</code> è¿˜ä¼šé©±é€å·²æœ‰ Podã€‚</li>
<li>ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œåˆç†ä½¿ç”¨æ±¡ç‚¹å¯å®ç° <strong>èŠ‚ç‚¹éš”ç¦»ã€èµ„æºä¸“ç”¨ã€å®‰å…¨åŠ å›º</strong>ã€‚</li>
<li>æ“ä½œååŠ¡å¿… <strong>éªŒè¯è°ƒåº¦è¡Œä¸º</strong>ï¼Œé¿å…ä¸šåŠ¡ä¸­æ–­ã€‚</li>
</ul>
<blockquote>
<p>âœ… <strong>æœ€ä½³å®è·µ</strong>ï¼š<br/>
å¯¹ä¸“ç”¨èŠ‚ç‚¹æ‰“æ±¡ç‚¹ + ä¸ºå¯¹åº”å·¥ä½œè´Ÿè½½é…å®¹å¿ï¼Œæ˜¯ Kubernetes èµ„æºç®¡ç†çš„é»„é‡‘ç»„åˆã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[javaæ·±åº¦è°ƒè¯•æŠ€æœ¯ã€ç¬¬å…­ä¸ƒå…«ç« ï¼šå®½å­—èŠ‚ä¸å¤šå­—èŠ‚ã€‘]]></title>    <link>https://juejin.cn/post/7579871631095873562</link>    <guid>https://juejin.cn/post/7579871631095873562</guid>    <pubDate>2025-12-04T14:36:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579871631095873562" data-draft-id="7578922565210783771" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="javaæ·±åº¦è°ƒè¯•æŠ€æœ¯ã€ç¬¬å…­ä¸ƒå…«ç« ï¼šå®½å­—èŠ‚ä¸å¤šå­—èŠ‚ã€‘"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-12-04T14:36:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æå‰é€€ä¼‘çš„javaçŒ¿"/> <meta itemprop="url" content="https://juejin.cn/user/465848660928872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            javaæ·±åº¦è°ƒè¯•æŠ€æœ¯ã€ç¬¬å…­ä¸ƒå…«ç« ï¼šå®½å­—èŠ‚ä¸å¤šå­—èŠ‚ã€‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/465848660928872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æå‰é€€ä¼‘çš„javaçŒ¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T14:36:49.000Z" title="Thu Dec 04 2025 14:36:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    15
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<blockquote>
<p>æˆ‘æ˜¯[<a href="https://juejin.cn/user/465848660928872" title="https://juejin.cn/user/465848660928872" target="_blank">æå‰é€€ä¼‘çš„javaçŒ¿</a>]ï¼Œä¸€å7å¹´javaå¼€å‘ç»éªŒçš„å¼€å‘ç»„é•¿ï¼Œåˆ†äº«å·¥ä½œä¸­çš„å„ç§é—®é¢˜ï¼ï¼ˆæŠ–éŸ³ã€å…¬ä¼—å·åŒå·ï¼‰<br/>
ğŸ”ˆPS: æœ€è¿‘å¤šäº†ä¸€ä¸ªæ–°çš„å†™ä½œæ–¹å‘ï¼Œå°±æ˜¯ä¼šæŠŠå‡ºç‰ˆç¤¾å¯„æ¥çš„ã€javaæ·±åº¦è°ƒè¯•æŠ€æœ¯ã€‘æŒ‰ç…§ä¹¦çš„éª¨æ¶æå–å…¶ä¸­å¹²è´§è¿›è¡Œä¸°ç›ˆå†™æˆåšå®¢ï¼Œå¤§å®¶å¯ä»¥å…³æ³¨æˆ‘çš„æ–°ä¸“æ </p>
</blockquote>
<p>java æ·±åº¦è°ƒè¯•æŠ€æœ¯ç¬¬å…­ä¸ƒå…«ç« åˆ†åˆ«çš„ä¸»é¢˜æ˜¯ ã€å¸¸è§çš„javaé™·é˜±ã€‘ã€ã€å…³äºæ•°æ®åº“ã€‘ã€ã€å­—ç¬¦é›†ä¸ç¼–ç ã€‘è¿™å‡ ç« ä¹¦ä¸­çš„å†…å®¹æ¯”è¾ƒå°‘ï¼Œè€Œä¸”æœ‰äº›JDKçš„ä»‹ç»å‡ ä¹åœ¨å®é™…å¼€å‘ä¸­ï¼ˆwebï¼‰é‡ä¸åˆ°çš„ï¼Œæ¯”å¦‚å¸¸è§çš„javaé™·é˜±ä¸­ä»‹ç»äº†<code>java.swing.Timer</code>. ä¸‹é¢å°±ç®€å•æ¦‚æ‹¬ä¸€ä¸‹ä¹¦ä¸­å†…å®¹ä»¥åŠæœ¬äººçš„ä¸€äº›æ‰©å±•å§ã€‚</p>
<h2 data-id="heading-1">javaæ·±åº¦è°ƒè¯•æŠ€æœ¯ å…­ä¸ƒå…«ç« </h2>
<h3 data-id="heading-2">å¸¸è§çš„javaé™·é˜±</h3>
<p>ä¹¦ä¸­å†™çš„å†…å®¹æ¯”è¾ƒå°‘ï¼Œå†™äº†<code>java.lang.Runtime</code>ã€<code>java.util.Timer</code>ã€<code>java.swing.Timer</code>è¿™å‡ ä¸ªç±»åœ¨å¼€å‘å½“ä¸­å‡ ä¹éƒ½ä¸ä¼šç”¨åˆ°ã€‚Runtime è¿™ä¸ªAPI æ¯”è¾ƒåº•å±‚çš„ä¸€ä¸ªAPIï¼Œå¼€å‘å½“ä¸­æœ€å¤šä¹Ÿæ˜¯ç”¨æ¥è·å–ä¸ªCPUæ ¸æ•°ï¼ŒTImer å®šæ—¶å™¨ä¹Ÿå‡ ä¹ä¸ä¼šç›´æ¥ç”¨åˆ°ã€‚</p>
<p>æ‰€ä»¥è¿™ç« èŠ‚å¯¹å¼€å‘æ¥è¯´å‡ ä¹éƒ½æ²¡å•¥ç”¨ğŸ‘¹å¯èƒ½å¾ˆå¤šå¹´å‰ä¼šç”¨å§ï¼</p>
<p>å¯¹äºjavaé™·é˜±ï¼Œå¯ä»¥çœ‹çœ‹æˆ‘å†™çš„ã€<a href="https://juejin.cn/post/7568859869693837348#heading-3" target="_blank" title="https://juejin.cn/post/7568859869693837348#heading-3">å¹½çµä»£ç </a>ã€‘è¿™ç¯‡æ–‡æ–‡ç« ï¼Œç›®å½•å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ•°æ®åº“çš„æ—¶é—´ç²¾åº¦é—®é¢˜</li>
<li>å¼‚å¸¸çš„å¤„ç†</li>
<li>äº‹åŠ¡é—®é¢˜</li>
<li>æ•°æ®åº“æ“ä½œ</li>
<li>çº¿ç¨‹ä¸Šä¸‹æ–‡å˜é‡åœ¨çº¿ç¨‹æ± ä¸­ä¼ é€’</li>
<li>ç¼“å­˜é—®é¢˜</li>
</ul>
<h3 data-id="heading-3">æ•°æ®åº“æ­»é”</h3>
<p>è¿™ä¸€ç« èŠ‚å†™çš„ä¸œè¥¿ä¹Ÿæ˜¯éå¸¸çš„å°‘ï¼Œä¸å¦‚ç½‘ä¸Šçš„å…«è‚¡æ–‡å§ï¼ä»‹ç»äº†æ­»é”çš„åŸºæœ¬å½¢æˆæ¡ä»¶ï¼Œä»¥åŠå¦‚ä½•å»é¿å…æ­»é”ï¼Œå¦‚ä½•å»æŸ¥è¯¢æ•°æ®é”çš„æƒ…å†µã€‚ è¯´å®è¯è¿˜è¿˜æ˜¯çœ‹æˆ‘è¿™ç¯‡æ–‡ç« å§ã€<a href="https://juejin.cn/post/7572039006529601572" target="_blank" title="https://juejin.cn/post/7572039006529601572">ä¸ºä»€ä¹ˆå¾ˆå°‘é‡åˆ°æ•°æ®åº“æ­»é”</a>ã€‘ï¼Œç›®å½•å¦‚ä¸‹ï¼š</p>
<ul>
<li>MySQLæ•°æ®åº“çš„æ­»é”æ£€æµ‹æœºåˆ¶ å’Œå…³é”®é…ç½®</li>
<li>å¦‚ä½•è§£å†³æ­»é”é—®é¢˜ï¼Œæ˜¯çœ‹æ—¥å¿—è¿˜æ˜¯æŸ¥è¯¢äº‹åŠ¡é˜»å¡ä¿¡æ¯</li>
<li>æ­»é”çš„é¢„é˜²</li>
<li>MySQLä»€ä¹ˆåœºæ™¯ä¸‹æ•°æ®åº“ä¼šå›æ»šéƒ¨åˆ†SQL</li>
</ul>
<h3 data-id="heading-4">å­—ç¬¦é›†ä¸ç¼–ç é›†</h3>
<p>è¿™ä¸€ç« èŠ‚å°±æ˜¯è®²äº†ä¸€äº›åŸºç¡€çš„æ¦‚å¿µï¼Œæ¯”å¦‚ å­—ç¬¦é›†æ˜¯å­—ç¬¦çš„é›†åˆï¼Œç¼–ç æŒ‡çš„æ˜¯å­—ç¬¦åœ¨è®¡ç®—æœºä¸­æ˜¯å¦‚ä½•å­˜æ”¾çš„æ˜¯é‡‡ç”¨å•å­—èŠ‚è¿˜æ˜¯å¤šå­—èŠ‚ã€‚Unicodeæ˜¯å­—ç¬¦é›†åç§°å®šä¹‰äº†æ¯ä¸ªå­—ç¬¦çš„ç¼–å·ï¼ŒUtf-8 åˆ™æ˜¯Unicode å­—ç¬¦é›†å¯¹åº”çš„è®¡ç®—æœºå­˜å‚¨æ ¼å¼ã€‚</p>
<p>è¿˜è®²äº†ä¸€ç¼–ç çš„è½¬æ¢ï¼Œç®—æ˜¯æˆ‘ä¹‹å‰ä¹Ÿæ²¡å¬è¿‡çš„ å¤šå­—èŠ‚å’Œå®½å­—èŠ‚ï¼Œå¤§æ¦‚å°±æ˜¯å†™å…¥ç£ç›˜è½¬æ¢æˆå¤šå­—èŠ‚ï¼ˆå¦‚UTF8 ä¸€ä¸ªå­—ç¬¦å¯èƒ½æ˜¯ä¸€ä¸ªå­—èŠ‚æˆ–è€…ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºï¼‰ï¼Œè¯»å…¥å†…å­˜è½¬æˆå®½å­—èŠ‚ã€‚
ä»Šå¤©å°±ä¸»è¦ä»‹ç»ä¸€ä¸‹è¿™ä¸ªçŸ¥è¯†ç‚¹å§</p>
<h2 data-id="heading-5">æ‰©å±•é˜…è¯»ï¼šå®½å­—èŠ‚ä¸å¤šå­—èŠ‚</h2>
<p>è¦ç†è§£å®½å­—èŠ‚ã€å¤šå­—èŠ‚ï¼Œä»¥åŠæ–‡æœ¬è¯»å†™æ—¶çš„ç¼–ç è½¬æ¢ï¼Œéœ€å…ˆæ˜ç¡®<strong>å­—ç¬¦ç¼–ç </strong>çš„æ ¸å¿ƒé€»è¾‘ï¼šè®¡ç®—æœºä»…èƒ½å­˜å‚¨äºŒè¿›åˆ¶ï¼ˆ0/1ï¼‰ï¼Œâ€œå­—ç¬¦â€ éœ€é€šè¿‡ç¼–ç è§„åˆ™æ˜ å°„ä¸ºäºŒè¿›åˆ¶ï¼Œè€Œ â€œå®½å­—èŠ‚â€â€œå¤šå­—èŠ‚â€ æ˜¯ä¸¤ç§ä¸åŒçš„å­—ç¬¦ç¼–ç è®¾è®¡æ€è·¯ï¼›æ–‡æœ¬åœ¨ â€œç£ç›˜ â†” å†…å­˜â€ çš„æµè½¬è¿‡ç¨‹ä¸­ï¼Œå¿…ç„¶æ¶‰åŠç¼–ç  / è§£ç è½¬æ¢ï¼Œè¿™ä¹Ÿæ˜¯ä¹±ç é—®é¢˜çš„æ ¸å¿ƒæ ¹æºã€‚</p>
<h4 data-id="heading-6">ä¸€. å¤šå­—èŠ‚ç¼–ç ï¼ˆMulti-Byte Encodingï¼‰</h4>
<h5 data-id="heading-7">å®šä¹‰</h5>
<p>ç”¨<strong>1~n ä¸ªå­—èŠ‚</strong>è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦çš„ç¼–ç æ–¹å¼ï¼Œä¸åŒå­—ç¬¦å ç”¨çš„å­—èŠ‚æ•°ä¸åŒï¼š</p>
<ul>
<li>å•å­—èŠ‚å­—ç¬¦ï¼šå¦‚ ASCII å­—ç¬¦ï¼ˆ0-127ï¼‰ï¼Œä»…å  1 å­—èŠ‚ï¼›</li>
<li>å¤šå­—èŠ‚å­—ç¬¦ï¼šå¦‚ä¸­æ–‡ã€æ—¥æ–‡ç­‰ï¼Œå  2~4 å­—èŠ‚ï¼ˆå¦‚ GBK ä¸­æ±‰å­—å  2 å­—èŠ‚ï¼ŒUTF-8 ä¸­æ±‰å­—å  3 å­—èŠ‚ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-8">å…¸å‹ä»£è¡¨</h5>
<ul>
<li>UTF-8ï¼ˆæœ€å¸¸ç”¨ï¼‰ï¼šå…¼å®¹ ASCIIï¼Œå…¨çƒé€šç”¨çš„å¤šå­—èŠ‚ç¼–ç ï¼›</li>
<li>GBK/GB2312ï¼šä¸­æ–‡ä¸“ç”¨å¤šå­—èŠ‚ç¼–ç ï¼Œä»…æ”¯æŒä¸­æ—¥éŸ©å­—ç¬¦ï¼›</li>
<li>Shift_JISï¼šæ—¥æ–‡ä¸“ç”¨å¤šå­—èŠ‚ç¼–ç ã€‚</li>
</ul>
<h5 data-id="heading-9">æ ¸å¿ƒç‰¹ç‚¹</h5>
<ul>
<li>å­—èŠ‚æ•°ä¸å›ºå®šï¼šå­—ç¬¦å ç”¨ 1~4 å­—èŠ‚ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´ï¼ˆASCII å­—ç¬¦ä»… 1 å­—èŠ‚ï¼‰ï¼›</li>
<li>æœ‰ â€œå˜é•¿â€ è§£æè§„åˆ™ï¼šéœ€æŒ‰ç¼–ç è§„åˆ™é€å­—èŠ‚è§£æï¼ˆå¦‚ UTF-8 é å­—èŠ‚é«˜ä½æ ‡è¯†åç»­æ˜¯å¦æœ‰ç»­å­—èŠ‚ï¼‰ï¼›</li>
<li>æ— å­—èŠ‚åºé—®é¢˜ï¼šå•å­—èŠ‚ / å¤šå­—èŠ‚æŒ‰é¡ºåºå­˜å‚¨ï¼Œæ— éœ€åŒºåˆ†å¤§ç«¯ / å°ç«¯ã€‚</li>
</ul>
<h4 data-id="heading-10">äºŒ. å®½å­—èŠ‚ç¼–ç ï¼ˆWide Character Encodingï¼‰</h4>
<h5 data-id="heading-11">å®šä¹‰</h5>
<p>ç”¨<strong>å›ºå®šå­—èŠ‚æ•°</strong>è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦çš„ç¼–ç æ–¹å¼ï¼Œæ— è®ºå­—ç¬¦ç±»å‹ï¼ˆASCII / ä¸­æ–‡ / ç‰¹æ®Šç¬¦å·ï¼‰ï¼Œå‡å ç”¨ç›¸åŒå­—èŠ‚æ•°ï¼ˆé€šå¸¸æ˜¯ 2 æˆ– 4 å­—èŠ‚ï¼‰ã€‚</p>
<h5 data-id="heading-12">å…¸å‹ä»£è¡¨</h5>
<ul>
<li>UTF-16ï¼šå›ºå®š 2 å­—èŠ‚ï¼ˆBMP å­—ç¬¦ï¼Œå¦‚å¸¸ç”¨æ±‰å­—ï¼‰æˆ– 4 å­—èŠ‚ï¼ˆå¢è¡¥å­—ç¬¦ï¼‰ï¼Œæœ¬è´¨æ˜¯ â€œå‡†å›ºå®šé•¿åº¦â€ï¼ŒJava å†…å­˜ä¸­å­—ç¬¦ï¼ˆ<code>char</code>Â ç±»å‹ï¼‰å°±æ˜¯ UTF-16 ç¼–ç çš„å®½å­—èŠ‚ï¼›</li>
<li>UTF-32ï¼šå›ºå®š 4 å­—èŠ‚ï¼Œæ¯ä¸ªå­—ç¬¦å‡å  4 å­—èŠ‚ï¼Œå®Œå…¨å›ºå®šé•¿åº¦ï¼›</li>
<li>UCS-2ï¼šUTF-16 çš„å­é›†ï¼Œä»…æ”¯æŒ BMP å­—ç¬¦ï¼Œå›ºå®š 2 å­—èŠ‚ï¼ˆå·²è¢« UTF-16 å–ä»£ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-13">æ ¸å¿ƒç‰¹ç‚¹</h5>
<ul>
<li>å­—èŠ‚æ•°å›ºå®šï¼šè§£ææ•ˆç‡é«˜ï¼ˆæ— éœ€é€å­—èŠ‚åˆ¤æ–­ï¼‰ï¼Œä½†å­˜å‚¨ç©ºé—´åˆ©ç”¨ç‡ä½ï¼ˆASCII å­—ç¬¦ä¹Ÿå  2/4 å­—èŠ‚ï¼‰ï¼›</li>
<li>æœ‰å­—èŠ‚åºé—®é¢˜ï¼šå¤šå­—èŠ‚å­˜å‚¨æ—¶éœ€åŒºåˆ†å¤§ç«¯ï¼ˆBEï¼‰/ å°ç«¯ï¼ˆLEï¼‰ï¼Œå¦‚ UTF-16BEã€UTF-16LEï¼›</li>
<li>ç›´æ¥æ˜ å°„ Unicode ç ç‚¹ï¼šæ¯ä¸ªå®½å­—èŠ‚ç›´æ¥å¯¹åº”ä¸€ä¸ª Unicode ç ç‚¹ï¼ˆå¦‚ U+4E2D å¯¹åº” â€œä¸­â€ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-14">ä¸‰ã€æ–‡æœ¬è¯»å†™çš„æ ¸å¿ƒï¼šç£ç›˜ â†” å†…å­˜çš„ç¼–ç è½¬æ¢</h3>
<p><strong>ç»“è®ºï¼šç³»ç»Ÿ / ç¨‹åºè¯»å–æ–‡æœ¬åˆ°å†…å­˜ã€ä»å†…å­˜å†™å…¥ç£ç›˜æ—¶ï¼Œå¿…ç„¶å‘ç”Ÿç¼–ç  / è§£ç è½¬æ¢</strong>â€”â€” å› ä¸ºç£ç›˜å­˜å‚¨çš„æ˜¯ â€œå­—èŠ‚æµâ€ï¼ˆå¤šå­—èŠ‚ç¼–ç ï¼Œå¦‚ UTF-8ï¼‰ï¼Œè€Œå†…å­˜ä¸­å¤„ç†çš„æ˜¯ â€œå­—ç¬¦â€ï¼ˆé€šå¸¸æ˜¯å®½å­—èŠ‚ç¼–ç ï¼Œå¦‚ UTF-16ï¼‰ï¼Œä¸¤è€…çš„è½¬æ¢æ˜¯æ–‡æœ¬æ“ä½œçš„æ ¸å¿ƒæ­¥éª¤ã€‚</p>
<h4 data-id="heading-15">1. å®Œæ•´è½¬æ¢æµç¨‹ï¼ˆä»¥ Java ä¸ºä¾‹ï¼‰</h4>
<pre><code class="hljs language-plaintext" lang="plaintext">ç£ç›˜æ–‡ä»¶ï¼ˆUTF-8 å­—èŠ‚æµï¼‰ 
    â†“ è§£ç ï¼ˆDecodeï¼‰ï¼šå­—èŠ‚ â†’ å­—ç¬¦ï¼ˆå®½å­—èŠ‚ï¼‰
å†…å­˜ï¼ˆJava char/å­—ç¬¦ä¸²ï¼ŒUTF-16 å®½å­—èŠ‚ï¼‰
    â†“ ç¼–ç ï¼ˆEncodeï¼‰ï¼šå­—ç¬¦ â†’ å­—èŠ‚ï¼ˆå¤šå­—èŠ‚ï¼‰
ç£ç›˜æ–‡ä»¶ï¼ˆUTF-8 å­—èŠ‚æµï¼‰
</code></pre>
<h5 data-id="heading-16">æ­¥éª¤æ‹†è§£</h5>
<h6 data-id="heading-17">ï¼ˆ1ï¼‰è¯»å–æ–‡æœ¬åˆ°å†…å­˜ï¼ˆè§£ç ï¼šå­—èŠ‚ â†’ å­—ç¬¦ï¼‰</h6>
<ul>
<li>ç£ç›˜ä¸Šçš„æ–‡æœ¬æ–‡ä»¶æ˜¯<strong>å­—èŠ‚åºåˆ—</strong>ï¼ŒæŒ‰æŒ‡å®šå¤šå­—èŠ‚ç¼–ç ï¼ˆå¦‚ UTF-8ï¼‰å­˜å‚¨ï¼›</li>
<li>ç¨‹åºè¯»å–æ—¶ï¼Œéœ€æŒ‡å®š â€œè§£ç è§„åˆ™â€ï¼ˆå¦‚ UTF-8ï¼‰ï¼Œå°†å¯å˜é•¿åº¦çš„å­—èŠ‚åºåˆ—è½¬æ¢ä¸ºå†…å­˜ä¸­å›ºå®šé•¿åº¦çš„å®½å­—èŠ‚å­—ç¬¦ï¼ˆå¦‚ Java çš„ UTF-16Â <code>char</code>ï¼‰ï¼›</li>
<li>è‹¥è§£ç è§„åˆ™ä¸æ–‡ä»¶å®é™…ç¼–ç ä¸ä¸€è‡´ï¼Œä¼šå‡ºç°ä¹±ç ï¼ˆå¦‚ç”¨ GBK è§£æ UTF-8 æ–‡ä»¶ï¼‰ã€‚</li>
</ul>
<h6 data-id="heading-18">ï¼ˆ2ï¼‰å†™å…¥æ–‡æœ¬åˆ°ç£ç›˜ï¼ˆç¼–ç ï¼šå­—ç¬¦ â†’ å­—èŠ‚ï¼‰</h6>
<ul>
<li>å†…å­˜ä¸­çš„å­—ç¬¦æ˜¯å®½å­—èŠ‚ç¼–ç ï¼ˆå¦‚ UTF-16ï¼‰ï¼Œæ— æ³•ç›´æ¥å­˜å‚¨ï¼ˆå­˜å‚¨æ•ˆç‡ä½ï¼‰ï¼›</li>
<li>ç¨‹åºå†™å…¥æ—¶ï¼Œéœ€æŒ‡å®š â€œç¼–ç è§„åˆ™â€ï¼ˆå¦‚ UTF-8ï¼‰ï¼Œå°†å®½å­—èŠ‚å­—ç¬¦è½¬æ¢ä¸ºå¯å˜é•¿åº¦çš„å¤šå­—èŠ‚åºåˆ—ï¼›</li>
<li>è‹¥ç¼–ç è§„åˆ™ä¸è¯»å–æ—¶çš„è§£ç è§„åˆ™ä¸ä¸€è‡´ï¼Œä¹Ÿä¼šå‡ºç°ä¹±ç ï¼ˆå¦‚å†…å­˜å­—ç¬¦ç¼–ç ä¸º UTF-16ï¼Œå†™å…¥æ—¶ç”¨ GBK ç¼–ç ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-19">2. å®æ“ç¤ºä¾‹ï¼šJava ä¸­çš„ç¼–ç è½¬æ¢ï¼ˆé¿å…ä¹±ç å…³é”®ï¼‰</h4>
<h5 data-id="heading-20">åä¾‹ï¼šæœªæŒ‡å®šç¼–ç ï¼ˆä¾èµ–ç³»ç»Ÿé»˜è®¤ç¼–ç ï¼Œæ˜“ä¹±ç ï¼‰</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.FileReader;
<span class="hljs-keyword">import</span> java.io.FileWriter;
<span class="hljs-keyword">import</span> java.io.IOException;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BadEncodingDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-comment">// è¯»å–ï¼šFileReader ç”¨ç³»ç»Ÿé»˜è®¤ç¼–ç ï¼ˆå¦‚ Windows æ˜¯ GBKï¼ŒLinux æ˜¯ UTF-8ï¼‰è§£ç </span>
        <span class="hljs-type">FileReader</span> <span class="hljs-variable">reader</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>(<span class="hljs-string">"test.txt"</span>); <span class="hljs-comment">// è‹¥æ–‡ä»¶æ˜¯ UTF-8ï¼ŒWindows ä¸‹ä¼šä¹±ç </span>
        <span class="hljs-comment">// å†™å…¥ï¼šFileWriter ç”¨ç³»ç»Ÿé»˜è®¤ç¼–ç ç¼–ç ï¼Œè·¨å¹³å°å¿…ä¹±ç </span>
        <span class="hljs-type">FileWriter</span> <span class="hljs-variable">writer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileWriter</span>(<span class="hljs-string">"output.txt"</span>);
    }
}
</code></pre>
<h5 data-id="heading-21">æ­£ä¾‹ï¼šæ˜¾å¼æŒ‡å®šç¼–ç ï¼ˆç»Ÿä¸€ç”¨ UTF-8ï¼‰</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.FileInputStream;
<span class="hljs-keyword">import</span> java.io.FileOutputStream;
<span class="hljs-keyword">import</span> java.io.InputStreamReader;
<span class="hljs-keyword">import</span> java.io.OutputStreamWriter;
<span class="hljs-keyword">import</span> java.io.IOException;
<span class="hljs-keyword">import</span> java.nio.charset.StandardCharsets;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GoodEncodingDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-comment">// è¯»å–ï¼šå­—èŠ‚æµ + æ˜¾å¼æŒ‡å®š UTF-8 è§£ç ï¼ˆå­—èŠ‚â†’å­—ç¬¦ï¼‰</span>
        <span class="hljs-keyword">try</span> (<span class="hljs-type">InputStreamReader</span> <span class="hljs-variable">reader</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">InputStreamReader</span>(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">"test.txt"</span>), StandardCharsets.UTF_8)) {
            <span class="hljs-type">char</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">char</span>[<span class="hljs-number">1024</span>];
            <span class="hljs-type">int</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> reader.read(buffer); <span class="hljs-comment">// è§£ç ï¼šUTF-8 å­—èŠ‚ â†’ UTF-16 å­—ç¬¦</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">content</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(buffer, <span class="hljs-number">0</span>, len);
            System.out.println(<span class="hljs-string">"å†…å­˜ä¸­çš„å­—ç¬¦ï¼ˆUTF-16ï¼‰ï¼š"</span> + content);
        }

        <span class="hljs-comment">// å†™å…¥ï¼šå­—ç¬¦æµ + æ˜¾å¼æŒ‡å®š UTF-8 ç¼–ç ï¼ˆå­—ç¬¦â†’å­—èŠ‚ï¼‰</span>
        <span class="hljs-keyword">try</span> (<span class="hljs-type">OutputStreamWriter</span> <span class="hljs-variable">writer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OutputStreamWriter</span>(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">"output.txt"</span>), StandardCharsets.UTF_8)) {
            <span class="hljs-type">String</span> <span class="hljs-variable">content</span> <span class="hljs-operator">=</span> <span class="hljs-string">"ä½ å¥½ï¼ŒUTF-8ï¼"</span>;
            writer.write(content); <span class="hljs-comment">// ç¼–ç ï¼šUTF-16 å­—ç¬¦ â†’ UTF-8 å­—èŠ‚</span>
        }
    }
}
</code></pre>
<h4 data-id="heading-22">3. å…³é”®ç»†èŠ‚ï¼šä¸åŒç³»ç»Ÿ / è¯­è¨€çš„å†…å­˜ç¼–ç å·®å¼‚</h4>
<ul>
<li><strong>Java</strong>ï¼šå†…å­˜ä¸­å­—ç¬¦ä¸²ï¼ˆ<code>String</code>ï¼‰å’Œå­—ç¬¦ï¼ˆ<code>char</code>ï¼‰å‡ä¸º UTF-16 å®½å­—èŠ‚ç¼–ç ï¼Œæ— è®ºè¾“å…¥è¾“å‡ºï¼Œéƒ½éœ€åœ¨ â€œå­—èŠ‚â†”å­—ç¬¦â€ è½¬æ¢æ—¶æŒ‡å®šç¼–ç ï¼›</li>
<li><strong>C/C++ï¼ˆWindowsï¼‰</strong> ï¼š<code>wchar_t</code>Â æ˜¯å®½å­—èŠ‚ï¼ˆUTF-16ï¼Œ2 å­—èŠ‚ï¼‰ï¼Œ<code>char</code>Â æ˜¯å¤šå­—èŠ‚ï¼ˆç³»ç»Ÿé»˜è®¤ç¼–ç ï¼Œå¦‚ GBK/UTF-8ï¼‰ï¼›</li>
<li><strong>C/C++ï¼ˆLinuxï¼‰</strong> ï¼š<code>wchar_t</code>Â æ˜¯ UTF-32ï¼ˆ4 å­—èŠ‚ï¼‰ï¼Œ<code>char</code>Â æ˜¯å¤šå­—èŠ‚ï¼ˆé€šå¸¸ UTF-8ï¼‰ï¼›</li>
<li><strong>Python</strong>ï¼šå†…å­˜ä¸­å­—ç¬¦ä¸²æ˜¯ Unicode ç ç‚¹ï¼ˆé€»è¾‘ä¸Šçš„å®½å­—èŠ‚ï¼‰ï¼Œå†™å…¥æ—¶éœ€ç¼–ç ä¸º UTF-8/GBK ç­‰å¤šå­—èŠ‚ã€‚</li>
</ul>
<h4 data-id="heading-23">4. æ— è½¬æ¢çš„ç‰¹æ®Šåœºæ™¯ï¼ˆæå°‘ï¼‰</h4>
<p>åªæœ‰å½“å†…å­˜ç¼–ç ä¸ç£ç›˜ç¼–ç å®Œå…¨ä¸€è‡´ï¼Œä¸”ç¨‹åºç›´æ¥æŒ‰ â€œå­—èŠ‚æµâ€ è¯»å†™æ—¶ï¼Œæ‰æ— ç¼–ç è½¬æ¢ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å­—èŠ‚æµè¯»å†™ï¼šä»…å¤åˆ¶å­—èŠ‚ï¼Œä¸åšç¼–ç è½¬æ¢ï¼ˆé€‚åˆéæ–‡æœ¬æ–‡ä»¶ï¼Œå¦‚å›¾ç‰‡/äºŒè¿›åˆ¶ï¼‰</span>
<span class="hljs-keyword">import</span> java.io.FileInputStream;
<span class="hljs-keyword">import</span> java.io.FileOutputStream;
<span class="hljs-keyword">import</span> java.io.IOException;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ByteStreamDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-comment">// è¯»å–ï¼šç›´æ¥è¯»å­—èŠ‚ï¼Œæ— è§£ç ï¼ˆå†…å­˜ä¸­æ˜¯å­—èŠ‚æ•°ç»„ï¼Œä¸æ˜¯å­—ç¬¦ï¼‰</span>
        <span class="hljs-keyword">try</span> (<span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">"test.txt"</span>)) {
            <span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];
            <span class="hljs-type">int</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> fis.read(buffer);
            <span class="hljs-comment">// å†™å…¥ï¼šç›´æ¥å†™å­—èŠ‚ï¼Œæ— ç¼–ç </span>
            <span class="hljs-keyword">try</span> (<span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">fos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">"output.txt"</span>)) {
                fos.write(buffer, <span class="hljs-number">0</span>, len);
            }
        }
    }
}
</code></pre>
<p>âš ï¸ æ³¨æ„ï¼šè¯¥æ–¹å¼ä»…é€‚ç”¨äº â€œå¤åˆ¶æ–‡ä»¶â€ï¼Œè‹¥å°è¯•å°†å­—èŠ‚æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼ˆå¦‚Â <code>new String(buffer)</code>ï¼‰ï¼Œä»ä¼šè§¦å‘ç¼–ç è½¬æ¢ï¼ˆç”¨ç³»ç»Ÿé»˜è®¤ç¼–ç ï¼‰ï¼Œææ˜“ä¹±ç ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[PMP/ä¿¡æ¯ç³»ç»Ÿé¡¹ç›®ç®¡ç†å¸ˆ 9 å¼  æ€ç»´å¯¼å›¾ã€è€ƒè¯•å¿…å¤‡ã€‘]]></title>    <link>https://juejin.cn/post/7579659550862737450</link>    <guid>https://juejin.cn/post/7579659550862737450</guid>    <pubDate>2025-12-04T13:03:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579659550862737450" data-draft-id="7579846685070590006" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="PMP/ä¿¡æ¯ç³»ç»Ÿé¡¹ç›®ç®¡ç†å¸ˆ   9 å¼  æ€ç»´å¯¼å›¾ã€è€ƒè¯•å¿…å¤‡ã€‘"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-04T13:03:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœ›é“åŒå­¦"/> <meta itemprop="url" content="https://juejin.cn/user/553809589570109"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            PMP/ä¿¡æ¯ç³»ç»Ÿé¡¹ç›®ç®¡ç†å¸ˆ   9 å¼  æ€ç»´å¯¼å›¾ã€è€ƒè¯•å¿…å¤‡ã€‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/553809589570109/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœ›é“åŒå­¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T13:03:35.000Z" title="Thu Dec 04 2025 13:03:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b92dff991804ee7bb154d9548007a76~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyb6YGT5ZCM5a2m:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765458339&amp;x-signature=outmMDFYfS89U%2Bp1J8Xwzy5GaqI%3D" alt="po_diagram.png" loading="lazy"/></p>
<p>åœ¨å¤‡è€ƒ PMPï¼ˆProject Management Professionalï¼‰æˆ–ä¿¡æ¯ç³»ç»Ÿé¡¹ç›®ç®¡ç†å¸ˆï¼ˆè½¯è€ƒé«˜çº§ï¼‰çš„è¿‡ç¨‹ä¸­ï¼Œé¢å¯¹åºæ‚çš„çŸ¥è¯†ä½“ç³»å’Œç¹å¤šçš„æµç¨‹ç»†èŠ‚ï¼Œè®¸å¤šè€ƒç”Ÿå¸¸å¸¸æ„Ÿåˆ°æ— ä»ä¸‹æ‰‹ã€‚</p>
<p>å…¶å®ï¼Œé¡¹ç›®ç®¡ç†çš„æ ¸å¿ƒçŸ¥è¯†é«˜åº¦ç»“æ„åŒ–ï¼Œè€Œ<strong>æ€ç»´å¯¼å›¾</strong>æ­£æ˜¯å°†è¿™äº›å¤æ‚å†…å®¹å¯è§†åŒ–ã€ç³»ç»ŸåŒ–çš„é«˜æ•ˆå·¥å…·ã€‚</p>
<p>å°å¼Ÿä¸æ‰ï¼Œæ¢³ç†äº†è¦†ç›–ä¸¤å¤§è®¤è¯è€ƒè¯•æ ¸å¿ƒå†…å®¹çš„ <strong>9 å¼ å…³é”®æ€ç»´å¯¼å›¾</strong>ï¼Œå¸®åŠ©å¤§å®¶å¿«é€Ÿæ„å»ºçŸ¥è¯†æ¡†æ¶ã€å¼ºåŒ–è®°å¿†é€»è¾‘ã€æå‡åº”è¯•æ•ˆç‡ã€‚</p>
<p>æ— è®ºä½ æ˜¯åˆæ¬¡å¤‡è€ƒè¿˜æ˜¯å†²åˆºå¤ç›˜ï¼Œè¿™9å¼ å›¾éƒ½å°†æˆä¸ºä½ é€šå…³è·¯ä¸Šçš„â€œå¯¼èˆªåœ°å›¾â€ã€‚</p>
<h2 data-id="heading-0">1. é¡¹ç›®æ•´åˆç®¡ç†</h2>
<p>æ¶µç›–åˆ¶å®šé¡¹ç›®ç« ç¨‹ã€é¡¹ç›®ç®¡ç†è®¡åˆ’ã€æŒ‡å¯¼ä¸ç®¡ç†æ‰§è¡Œã€ç›‘æ§å˜æ›´ã€ç»“æŸé¡¹ç›®ç­‰å…¨è¿‡ç¨‹ï¼Œå¼ºè°ƒâ€œæ•´åˆâ€æ˜¯é¡¹ç›®ç»ç†çš„æ ¸å¿ƒèŒè´£ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d10b8d31a514f6992c7f11cf49a6295~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyb6YGT5ZCM5a2m:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765458339&amp;x-signature=hnaM4yL2JvHi%2FrxCfOGVZh0iPSQ%3D" alt="é¡¹ç›®æ•´åˆç®¡ç†.jpg" loading="lazy"/></p>
<h2 data-id="heading-1">2. é¡¹ç›®èŒƒå›´ç®¡ç†</h2>
<p>èšç„¦å¦‚ä½•å®šä¹‰å’Œæ§åˆ¶â€œåšå“ªäº›äº‹ã€ä¸åšå“ªäº›äº‹â€ï¼ŒåŒ…æ‹¬éœ€æ±‚æ”¶é›†ã€WBSåˆ†è§£ã€èŒƒå›´ç¡®è®¤ä¸æ§åˆ¶ï¼Œæ˜¯é˜²æ­¢â€œèŒƒå›´è”“å»¶â€çš„å…³é”®é˜²çº¿ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3faf7cf87e4142969cd778beed14d171~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyb6YGT5ZCM5a2m:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765458339&amp;x-signature=pVb3W00rGrrSgyAZX1nb%2FYAXAoM%3D" alt="é¡¹ç›®èŒƒå›´ç®¡ç†.png" loading="lazy"/></p>
<h2 data-id="heading-2">3. é¡¹ç›®è¿›åº¦ç®¡ç†</h2>
<p>è¯¦è§£æ´»åŠ¨å®šä¹‰ã€æ’åºã€ä¼°ç®—ã€å…³é”®è·¯å¾„æ³•ï¼ˆCPMï¼‰ã€è¿›åº¦å‹ç¼©ï¼ˆèµ¶å·¥/å¿«é€Ÿè·Ÿè¿›ï¼‰ç­‰æŠ€æœ¯ï¼ŒåŠ©ä½ æŒæ¡æ—¶é—´ç®¡ç†çš„æ ¸å¿ƒå·¥å…·ä¸è®¡ç®—é¢˜è§£æ³•ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dcbd2f0a3a114076a18783c11bf05cc0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyb6YGT5ZCM5a2m:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765458339&amp;x-signature=EtDF31618sC2GXczUtV%2B8W6R7Lc%3D" alt="é¡¹ç›®è¿›åº¦ç®¡ç†.png" loading="lazy"/></p>
<h2 data-id="heading-3">4. é¡¹ç›®æˆæœ¬ç®¡ç†</h2>
<p>å›´ç»•ä¼°ç®—æˆæœ¬ã€åˆ¶å®šé¢„ç®—ã€æ§åˆ¶æˆæœ¬ä¸‰å¤§è¿‡ç¨‹ï¼Œé‡ç‚¹è®²è§£æŒ£å€¼ç®¡ç†ï¼ˆEVMï¼‰æŒ‡æ ‡ï¼ˆPVã€EVã€ACã€CVã€SVã€CPIã€SPIï¼‰åŠå…¶åº”ç”¨ï¼Œæ˜¯è®¡ç®—é¢˜å¿…è€ƒæ¨¡å—ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/327b01c6eb8b453aa1206d64e0fb4df8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyb6YGT5ZCM5a2m:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765458339&amp;x-signature=U%2Fn7Ed9Cl1%2BQCJyzcI3%2BrISC%2Bck%3D" alt="é¡¹ç›®æˆæœ¬ç®¡ç†.png" loading="lazy"/></p>
<h2 data-id="heading-4">5. é¡¹ç›®è´¨é‡ç®¡ç†</h2>
<p>ä»‹ç»è´¨é‡è§„åˆ’ã€è´¨é‡ä¿è¯ä¸æ§åˆ¶çš„æ–¹æ³•ï¼Œå¦‚ä¸ƒç§åŸºæœ¬è´¨é‡å·¥å…·ï¼ˆè€ä¸ƒç§ï¼‰ã€PDCAå¾ªç¯ã€æˆæœ¬æ•ˆç›Šåˆ†æç­‰ï¼Œå¼ºè°ƒâ€œé¢„é˜²èƒœäºæ£€æŸ¥â€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/508a8a1b2c2a4038b70edb719cc8e13b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyb6YGT5ZCM5a2m:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765458339&amp;x-signature=IAy2eFqdrnjxZABmg1jSJ3CtEVs%3D" alt="é¡¹ç›®è´¨é‡ç®¡ç†.png" loading="lazy"/></p>
<h2 data-id="heading-5">6. é¡¹ç›®èµ„æºç®¡ç†</h2>
<p>æ•´åˆäººåŠ›èµ„æºï¼ˆå›¢é˜Ÿç»„å»ºã€æ¿€åŠ±ç†è®ºï¼‰ä¸æ²Ÿé€šç®¡ç†ï¼ˆæ²Ÿé€šæ¨¡å‹ã€æ¸ é“è®¡ç®—ã€ä¿¡æ¯åˆ†å‘ï¼‰ï¼Œçªå‡ºâ€œäººâ€åœ¨é¡¹ç›®ä¸­çš„æ ¸å¿ƒä½œç”¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b4d2138503cd49c190a82cabf7889d45~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyb6YGT5ZCM5a2m:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765458339&amp;x-signature=1pEnS1%2FzhpDOpDtAK%2BbAYA%2FckQA%3D" alt="é¡¹ç›®èµ„æºç®¡ç†.png" loading="lazy"/></p>
<h2 data-id="heading-6">7. é¡¹ç›®é£é™©ç®¡ç†</h2>
<p>ä»é£é™©è¯†åˆ«ã€å®šæ€§/å®šé‡åˆ†æåˆ°åº”å¯¹ç­–ç•¥ï¼ˆè§„é¿ã€è½¬ç§»ã€å‡è½»ã€æ¥å—ï¼‰ï¼Œæ„å»ºå®Œæ•´çš„é£é™©ç®¡æ§é—­ç¯ï¼Œæ˜¯æ¡ˆä¾‹åˆ†æé¢˜å¸¸å®¢ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/69ed676a82404e55bb816e0468f0dbfc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyb6YGT5ZCM5a2m:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765458339&amp;x-signature=JHi6fsYxzDkDg4TuLzorEQ%2BiTMA%3D" alt="é¡¹ç›®é£é™©ç®¡ç†.png" loading="lazy"/></p>
<h2 data-id="heading-7">8. é¡¹ç›®æ²Ÿé€šç®¡ç†</h2>
<p>è®²è§£å¦‚ä½•è¯†åˆ«å¹²ç³»äººã€åˆ†æå…¶å½±å“åŠ›ï¼Œå¹¶åˆ¶å®šå‚ä¸ç­–ç•¥ï¼›åŒæ—¶æ¶µç›–PMPå’Œè½¯è€ƒå…±åŒå¼ºè°ƒçš„èŒä¸šè´£ä»»ä¸è¡Œä¸ºå‡†åˆ™ï¼Œç¡®ä¿â€œåˆè§„â€ä¸â€œå…±èµ¢â€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/98e822abdf5347dab265a5285356beae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyb6YGT5ZCM5a2m:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765458339&amp;x-signature=z5Rsti7PuIOQ4uAbks4ucVszva4%3D" alt="é¡¹ç›®æ²Ÿé€šç®¡ç†.png" loading="lazy"/></p>
<h2 data-id="heading-8">9. é¡¹ç›®é‡‡è´­ç®¡ç†</h2>
<p>è¯¦è§£ä»è§„åˆ’é‡‡è´­ã€å®æ–½é‡‡è´­åˆ°æ§åˆ¶é‡‡è´­çš„å…¨è¿‡ç¨‹ï¼Œé‡ç‚¹æŒæ¡<strong>åˆåŒç±»å‹</strong>ï¼ˆæ€»ä»·åˆåŒã€æˆæœ¬è¡¥å¿åˆåŒã€å·¥æ–™åˆåŒï¼‰ã€<strong>ä¾›æ–¹é€‰æ‹©æ ‡å‡†</strong>ã€<strong>ç´¢èµ”ç®¡ç†</strong>åŠ<strong>é‡‡è´­å·¥ä½œè¯´æ˜ä¹¦ï¼ˆSOWï¼‰</strong> ç­‰æ ¸å¿ƒæ¦‚å¿µï¼Œæ˜¯PMPè®¡ç®—é¢˜ä¸è½¯è€ƒæ¡ˆä¾‹åˆ†æçš„å¸¸è€ƒæ¨¡å—ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21580accbe02469c9b9f9821a178505a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyb6YGT5ZCM5a2m:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765458339&amp;x-signature=vCuSXdqqlvpD7f6HwTiZizSbXNY%3D" alt="é¡¹ç›®é‡‡è´­ç®¡ç†.png" loading="lazy"/></p>
<h2 data-id="heading-9">æ€»ç»“</h2>
<p>é€šè¿‡è¿™9å¼ æ€ç»´å¯¼å›¾çš„ç³»ç»Ÿä¸²è”ï¼Œæˆ‘ä»¬å¯ä»¥å»ºç«‹èµ·æ¸…æ™°ã€å®Œæ•´ã€å¯è¿ç§»çš„é¡¹ç›®ç®¡ç†çŸ¥è¯†ä½“ç³»ï¼Œè½»æ¾åº”å¯¹é€‰æ‹©é¢˜ã€è®¡ç®—é¢˜ä¸æ¡ˆä¾‹åˆ†æã€‚</p>
<p>å»ºè®®ç»“åˆå®˜æ–¹æ•™æåå¤å¯¹ç…§ä½¿ç”¨ï¼Œæ•ˆæœæ›´ä½³ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é‡ç£…ï¼N8Næ–°ç‰ˆ2.0å‘å¸ƒï¼ä¸å†æ”¯æŒMySQLï¼Ÿ]]></title>    <link>https://juejin.cn/post/7579785426267340800</link>    <guid>https://juejin.cn/post/7579785426267340800</guid>    <pubDate>2025-12-04T13:35:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579785426267340800" data-draft-id="7579808521204154402" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" é‡ç£…ï¼N8Næ–°ç‰ˆ2.0å‘å¸ƒï¼ä¸å†æ”¯æŒMySQLï¼Ÿ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-04T13:35:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaä¸­æ–‡ç¤¾ç¾¤"/> <meta itemprop="url" content="https://juejin.cn/user/61228381386487"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             é‡ç£…ï¼N8Næ–°ç‰ˆ2.0å‘å¸ƒï¼ä¸å†æ”¯æŒMySQLï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/61228381386487/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaä¸­æ–‡ç¤¾ç¾¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T13:35:33.000Z" title="Thu Dec 04 2025 13:35:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å…„å¼Ÿä»¬ï¼Œæ—¶éš” 2 å¹´ï¼ŒN8N ç»ˆäºè¿æ¥äº†å¤§ç‰ˆæœ¬æ›´æ–°ï¼Œè¿™æ¬¡ <strong>N8N çš„ 2.0 ç‰ˆæœ¬ç»ˆäºæ¥äº†ï¼</strong></p>
<p>è™½ç„¶å®˜æ–¹ä¹‹å‰é¢„å‘Šè¯´æ˜¯ 12 æœˆ 8 å·ï¼ˆä¸‹å‘¨ä¸€ï¼‰å‘æµ‹è¯•ç‰ˆï¼Œä¸‹ä¸‹å‘¨æ‰å‘æ­£å¼ç‰ˆã€‚ä½†æˆ‘ä»Šå¤©é—²ç€æ²¡äº‹å»é€› N8N ä»“åº“çš„æ—¶å€™ï¼Œå±…ç„¶å‘ç°ï¼š<strong>2.0 çš„ RC ç‰ˆæœ¬ï¼ˆé¢„è§ˆç‰ˆï¼‰ä»Šå¤©å·²ç»æ‚„æ‚„å‘å¸ƒäº†ï¼</strong></p>
<p>æ—¢ç„¶å®˜æ–¹â€œå·è·‘â€äº†ï¼Œé‚£å’±ä»¬å¿…é¡»ç¬¬ä¸€æ—¶é—´è·Ÿä¸Šã€‚æˆ‘ä¹Ÿæ²¡é—²ç€ï¼Œç«‹é©¬åŠ¨æ‰‹å‡çº§ä½“éªŒäº†ä¸€æ³¢ã€‚</p>
<p>åŸæœ¬ä»¥ä¸ºæ˜¯â€œä¸æ»‘å‡çº§â€ï¼Œç»“æœåˆšä¸Šæ¥å°±è¸©äº†ä¸ª<strong>å·¨å¤§çš„å‘</strong>ï¼å¦‚æœä½ çš„ç”Ÿäº§ç¯å¢ƒæ­£å‡†å¤‡å‡çº§ï¼Œè¿™ç¯‡æ–‡ç« ä¸€å®šè¦çœ‹å®Œï¼</p>
<hr/>
<h2 data-id="heading-0">è§†é¢‘å±•ç¤º</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV19h2YBPEiU%2F" target="_blank" title="https://www.bilibili.com/video/BV19h2YBPEiU/" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV19hâ€¦</a></p>
<h2 data-id="heading-1">ğŸ› ï¸ æŠ¢å…ˆä½“éªŒï¼šå®‰è£…ä¸â€œæƒŠé­‚â€ä¸€åˆ»</h2>
<p>å®‰è£…è¿‡ç¨‹å…¶å®å¾ˆç®€å•ï¼Œæˆ‘ç”¨çš„æ˜¯ Node.js çš„æ–¹å¼ï¼ˆè¿™ä¹Ÿæ˜¯æœ€çµæ´»æ–¹ä¾¿çš„ï¼‰ã€‚</p>
<p>ç›´æ¥åœ¨ç»ˆç«¯æ•²å‘½ä»¤ï¼š<br/>
<code>npm install -g n8n@next</code></p>
<p>å®‰è£…é€Ÿåº¦å¾ˆå¿«ï¼Œè™½ç„¶ç½‘ç»œç¨å¾®å¡äº†ä¸€ä¸¤åˆ†é’Ÿï¼Œä½†å…¨ç¨‹æ²¡æœ‰æŠ¥é”™ã€‚æ­£å½“æˆ‘ç¾æ»‹æ»‹åœ°æ•²ä¸‹ <code>n8n</code> å‡†å¤‡å¯åŠ¨æ—¶ï¼Œ<strong>æ„å¤–å‘ç”Ÿäº†ï¼</strong></p>
<h3 data-id="heading-2">âš ï¸ å²è¯—çº§â€œå¤§å‘â€ï¼šMySQL è¿™é‡Œä¸æ”¯æŒäº†ï¼</h3>
<p>å¯åŠ¨ç›´æ¥æŠ¥é”™ï¼Œæ§åˆ¶å°èµ«ç„¶å†™ç€ï¼š</p>
<blockquote>
<p><strong>Error:</strong></p>
<p><strong>MySQL and MariaDB have been removed. Please migrate to PostgreSQL</strong></p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/abc9b8fc51e14ee79f8d9403afd063b3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeS4reaWh-ekvue-pA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765460132&amp;x-signature=riYPGaluKUYJkH1Q3iUHQikgmOI%3D" alt="" loading="lazy"/></p>
<p>å…„å¼Ÿä»¬ï¼Œè¿™å¤ªå‘äº†ï¼æˆ‘ä¹‹å‰çš„ N8N ä¸€ç›´æ˜¯è¿æ¥ <strong>MySQL</strong> æ•°æ®åº“è·‘çš„ï¼Œé‡Œé¢å­˜äº†æˆ‘æ‰€æœ‰çš„å·¥ä½œæµå’Œå†å²æ•°æ®å•Šï¼</p>
<p><strong>åˆ’é‡ç‚¹ï¼š</strong><br/>
<strong>N8N 2.0 æ­£å¼ç§»é™¤äº†å¯¹ MySQL å’Œ MariaDB çš„æ”¯æŒï¼</strong><br/>
<strong>N8N 2.0 æ­£å¼ç§»é™¤äº†å¯¹ MySQL å’Œ MariaDB çš„æ”¯æŒï¼</strong><br/>
<strong>N8N 2.0 æ­£å¼ç§»é™¤äº†å¯¹ MySQL å’Œ MariaDB çš„æ”¯æŒï¼</strong></p>
<p>é‡è¦çš„äº‹æƒ…è¯´ä¸‰éã€‚ç°åœ¨çš„ 2.0 ç‰ˆæœ¬ï¼Œå®˜æ–¹å¼ºåˆ¶è¦æ±‚ä½¿ç”¨ <strong>PostgreSQL</strong>ã€‚å¦‚æœä½ åƒæˆ‘ä¸€æ ·ä¹‹å‰ç”¨çš„æ˜¯ MySQLï¼Œç›´æ¥å‡çº§ä¼šå¯¼è‡´æœåŠ¡æ— æ³•å¯åŠ¨ã€‚</p>
<p>æ²¡åŠæ³•ï¼Œä¸ºäº†å…ˆç»™å¤§å®¶æ¼”ç¤º 2.0 çš„ç•Œé¢ï¼Œæˆ‘åªèƒ½å«æ³ªå…ˆæŠŠç¯å¢ƒå˜é‡é‡Œçš„ <code>DB_TYPE</code> é…ç½®åˆ æ‰ï¼Œè®©å®ƒå›é€€åˆ°é»˜è®¤çš„ <strong>SQLite</strong> æ•°æ®åº“ï¼ˆä¹Ÿå°±æ˜¯æœ¬åœ°æ–‡ä»¶å­˜å‚¨ï¼‰ã€‚</p>
<p><em>ï¼ˆè‡³äºè¿™éƒ¨åˆ†æ—§æ•°æ®æ€ä¹ˆè¿ç§»åˆ° Postgresï¼Œåé¢æˆ‘ä¼šä¸“é—¨ç ”ç©¶ä¸€ä¸‹å†è·Ÿå¤§å®¶åˆ†äº«ï¼Œä»Šå¤©å’±ä»¬å…ˆçœ‹æ–°åŠŸèƒ½ã€‚ï¼‰</em></p>
<hr/>
<h2 data-id="heading-3">ğŸ‘€ ç•Œé¢åˆä½“éªŒï¼šå˜äº†ï¼Œä½†æ²¡å®Œå…¨å˜</h2>
<p>åˆ‡å›é»˜è®¤æ•°æ®åº“åï¼Œç»ˆäºå¯åŠ¨æˆåŠŸäº†ï¼Œè®¿é—® <code>5678</code> ç«¯å£ï¼Œç†Ÿæ‚‰çš„æ³¨å†Œç•Œé¢è¿˜åœ¨ã€‚</p>
<p>è¿›å…¥ç³»ç»Ÿåï¼Œæˆ‘ä»”ç»†å¯¹æ¯”äº†ä¸€ä¸‹ 1.0 å’Œ 2.0 çš„åŒºåˆ«ï¼Œç»™å¤§å®¶æ€»ç»“äº†å‡ ä¸ªå…³é”®ç‚¹ï¼š</p>
<h3 data-id="heading-4">1.åˆ›å»ºå·¥ä½œæµå˜æ–¹ä¾¿äº†</h3>
<p>ä»¥å‰å³ä¸Šè§’åªæœ‰ä¸€ä¸ªå¹²å·´å·´çš„â€œCreateâ€æŒ‰é’®ã€‚ç°åœ¨å¤šäº†ä¸€ä¸ª <strong>â€œä»æ¨¡æ¿é€‰æ‹©â€</strong> çš„å¿«æ·å…¥å£ã€‚è¿™å¯¹æ–°æ‰‹æ¯”è¾ƒå‹å¥½ï¼Œä¸ç”¨æ¯æ¬¡éƒ½ä»é›¶å¼€å§‹ç”»æµç¨‹ã€‚</p>
<h3 data-id="heading-5">2.æ’ä»¶å…¼å®¹æ€§ï¼ˆå¥½æ¶ˆæ¯ï¼ï¼‰</h3>
<p>è¿™æ˜¯å¤§å®¶æœ€æ‹…å¿ƒçš„ç‚¹ï¼š<strong>ç¤¾åŒºæ’ä»¶è¿˜èƒ½ç”¨å—ï¼Ÿ</strong><br/>
æˆ‘å®æµ‹å®‰è£…äº†ä¸€ä¸‹ï¼Œ<strong>å®Œå…¨æ²¡é—®é¢˜ï¼</strong> ç¤¾åŒºæ’ä»¶ä¾ç„¶å¯ä»¥é¡ºåˆ©å®‰è£…å’Œä½¿ç”¨ï¼Œè¿™ç‚¹å¤§å®¶å¯ä»¥æ”¾å¿ƒã€‚</p>
<h3 data-id="heading-6">3.ExecuteCommand ç»„ä»¶æ²¡äº†</h3>
<p>å®˜æ–¹ä¹Ÿå†™äº† 2.0 ä¸»è¦å‡çº§äº†å®‰å…¨æ€§ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥æ‰§è¡Œæœ¬åœ°å‘½ä»¤çš„â€œExecute Commandâ€ç»„ä»¶ä¹Ÿæ²¡å–æ¶ˆäº†ï¼Œæ‰€ä»¥å¦‚æœä½ éœ€è¦ä½¿ç”¨ Execute Command è°ƒç”¨æœ¬åœ°çš„å‘½ä»¤ä¾‹å¦‚ä½¿ç”¨ FFMPeg æ‰§è¡ŒéŸ³è§†é¢‘æ“ä½œï¼ŒæŠ±æ­‰ï¼Œ2.0 å®˜æ–¹ä¸æ”¯æŒäº†ã€‚æ‰€ä»¥å‡çº§ä¹‹å‰ï¼Œä¸€å®šè¦å…ˆè¯„ä¼°éœ€æ±‚å†åšå†³å®šã€‚</p>
<hr/>
<h2 data-id="heading-7">ğŸ”„ äº¤äº’é€»è¾‘å¤§æ”¹ï¼šå‘Šåˆ«â€œActiveâ€å¼€å…³</h2>
<p>åœ¨å·¥ä½œæµç¼–è¾‘å™¨é‡Œï¼Œæœ‰ä¸€ä¸ªéå¸¸æ˜æ˜¾çš„å˜åŒ–ã€‚</p>
<p><strong>ä»¥å‰ 1.0 ç‰ˆæœ¬ï¼š</strong><br/>
å³ä¸Šè§’æ˜¯ä¸€ä¸ªç®€å•çš„ <code>Active</code> å¼€å…³ï¼Œç‚¹ä¸€ä¸‹å°±æ¿€æ´»ï¼Œå¾ˆéšæ„ã€‚</p>
<p><strong>ç°åœ¨ 2.0 ç‰ˆæœ¬ï¼š</strong><br/>
å˜æˆäº†ä¸€ä¸ªæ­£å¼çš„ <strong>â€œPublishâ€ï¼ˆå‘å¸ƒï¼‰æŒ‰é’®</strong>ã€‚<br/>
è€Œä¸”é€»è¾‘å˜ä¸¥è°¨äº†ï¼šä½ ä¸èƒ½éšä¾¿ç‚¹å‘å¸ƒï¼Œå¿…é¡»å…ˆç»™å·¥ä½œæµé…ç½®å¥½åç§°ï¼Œä¿å­˜ä¹‹åï¼Œæ‰èƒ½ç‚¹å‡»å‘å¸ƒã€‚</p>
<p><strong>è¿™ä¸€æ­¥æ“ä½œæ›´æœ‰â€œç”Ÿäº§ç¯å¢ƒâ€çš„æ„Ÿè§‰äº†</strong>ï¼Œé¿å…äº†ä»¥å‰è¯¯è§¦å¼€å…³å¯¼è‡´æµç¨‹ä¸ç®¡æ˜¯æ­»æ˜¯æ´»éƒ½åœ¨è·‘çš„æƒ…å†µã€‚è€Œä¸”åœ¨â€œæ›´å¤šâ€é€‰é¡¹é‡Œï¼Œä¹Ÿå¯¹åº”å¢åŠ äº†â€œUnPublishâ€ï¼ˆå–æ¶ˆå‘å¸ƒï¼‰çš„åŠŸèƒ½ã€‚</p>
<hr/>
<h2 data-id="heading-8">ğŸ“ æ€»ç»“ï¼šå€¼å¾—å‡çº§å—ï¼Ÿ</h2>
<p>ç›®å‰çš„ 2.0.0 RC ç‰ˆæœ¬ï¼Œç»™æˆ‘çš„æ„Ÿè§‰æ˜¯**â€œç¨³ä¸­æ±‚å˜â€**ã€‚</p>
<ul>
<li><strong>å¤–è§‚ä¸Šï¼š</strong> å¹¶æ²¡æœ‰é‚£ç§ç¿»å¤©è¦†åœ°çš„æ•´å®¹å¼æ›´æ–°ï¼Œè€ç”¨æˆ·ä¸Šæ‰‹æ²¡éš¾åº¦ã€‚</li>
<li><strong>å†…æ ¸ä¸Šï¼š</strong> æ‹¥æŠ±äº†åŠŸèƒ½æ›´ä¸°å¯Œçš„ PostgreSQL æ•°æ®åº“ï¼Œå¹¶ä¸”å–æ¶ˆäº†ä¸€äº›å¯èƒ½å­˜åœ¨çš„å®‰å…¨ç»„ä»¶ã€‚</li>
</ul>
<p><strong>ç£Šå“¥å»ºè®®ï¼š</strong>
å¦‚æœä½ æ˜¯ç”Ÿäº§ç¯å¢ƒï¼Œ<strong>åƒä¸‡åˆ«è¿™å‘¨å‡çº§ï¼</strong> å°¤å…¶æ˜¯ç”¨ MySQL çš„å…„å¼Ÿï¼Œç­‰æ­£å¼ç‰ˆå‘å¸ƒï¼Œå¹¶ä¸”åšå¥½æ•°æ®åº“è¿ç§»æ–¹æ¡ˆåå†åŠ¨ã€‚</p>
<p>æˆ‘ä¼šç»§ç»­å…³æ³¨åç»­çš„æ­£å¼ç‰ˆå‘å¸ƒï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰æ›´å¤šéšè—å½©è›‹ã€‚</p>
<p><strong>æˆ‘æ˜¯ç£Šå“¥ï¼Œæ¯å¤©åˆ†äº«ä¸€ä¸ªå¹²è´§å†…å®¹ï¼Œå’±ä»¬ä¸‹æœŸè§ï¼</strong></p>
<blockquote>
<p>æœ¬æ–‡å·²æ”¶å½•åˆ°æˆ‘çš„æŠ€æœ¯å°ç«™ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.javacn.site" target="_blank" title="https://www.javacn.site" ref="nofollow noopener noreferrer">www.javacn.site</a>ï¼Œç½‘ç«™åŒ…å«çš„å†…å®¹æœ‰ï¼š<strong>LangChain/N8N/SpringAI/SpringAIAlibaba/LangChain4j/Dify/Coze/AIå®æˆ˜é¡¹ç›®/AIå¸¸è§é¢è¯•é¢˜</strong>ç­‰æŠ€æœ¯åˆ†äº«ï¼Œæ¬¢è¿å„ä½å¤§ä½¬å…‰ä¸´æŒ‡å¯¼~</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰‘æŒ‡offer-46ã€å­©â¼¦ä»¬çš„æ¸¸æˆ(åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°)]]></title>    <link>https://juejin.cn/post/7579819594271490086</link>    <guid>https://juejin.cn/post/7579819594271490086</guid>    <pubDate>2025-12-04T13:36:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579819594271490086" data-draft-id="7577653509862047794" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" å‰‘æŒ‡offer-46ã€å­©â¼¦ä»¬çš„æ¸¸æˆ(åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°)"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-04T13:36:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SevenCoding"/> <meta itemprop="url" content="https://juejin.cn/user/3261615728242467"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             å‰‘æŒ‡offer-46ã€å­©â¼¦ä»¬çš„æ¸¸æˆ(åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3261615728242467/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SevenCoding
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T13:36:18.000Z" title="Thu Dec 04 2025 13:36:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é¢˜ç›®æè¿°</h2>
<p>æœ‰ä¸ªæ¸¸æˆæ˜¯è¿™æ ·çš„ï¼šâ¾¸å…ˆï¼Œè®© n ä¸ªâ¼©æœ‹å‹ä»¬å›´æˆâ¼€ä¸ªâ¼¤åœˆï¼Œâ¼©æœ‹å‹ä»¬çš„ç¼–å·æ˜¯0~n-1ã€‚ç„¶åï¼ŒéšæœºæŒ‡å®šâ¼€ä¸ªæ•° m ï¼Œè®©ç¼–å·ä¸º0çš„â¼©æœ‹å‹å¼€å§‹æŠ¥æ•°ã€‚æ¯æ¬¡å–Šåˆ° m-1 çš„é‚£ä¸ªâ¼©æœ‹å‹è¦å‡ºåˆ—å”±â¾¸æ­Œï¼Œç„¶åå¯ä»¥åœ¨ç¤¼å“ç®±ä¸­ä»»æ„çš„æŒ‘é€‰ç¤¼ç‰©ï¼Œå¹¶ä¸”ä¸å†å›åˆ°åœˆä¸­ï¼Œä»ä»–çš„ä¸‹â¼€ä¸ªâ¼©æœ‹å‹å¼€å§‹ï¼Œç»§ç»­ 0... m-1æŠ¥æ•°....è¿™æ ·ä¸‹å»....ç›´åˆ°å‰©ä¸‹æœ€åâ¼€ä¸ªâ¼©æœ‹å‹ï¼Œå¯ä»¥ä¸â½¤è¡¨æ¼”ï¼Œå¹¶ä¸”æ‹¿åˆ°â½œå®¢ç¤¼å“ï¼Œè¯·ä½ è¯•ç€æƒ³ä¸‹ï¼Œå“ªä¸ªâ¼©æœ‹å‹ä¼šå¾—åˆ°è¿™ä»½ç¤¼å“å‘¢ï¼Ÿ</p>
<p>ç¤ºä¾‹
è¾“â¼Šï¼š5,3
è¾“å‡ºï¼š2</p>
<h2 data-id="heading-1">æ€è·¯åŠè§£ç­”</h2>
<h3 data-id="heading-2">æ•°ç»„æ¨¡æ‹Ÿ</h3>
<p>é€šè¿‡å¸ƒå°”æ•°ç»„æ ‡è®°å°æœ‹å‹çš„å‡ºå±€çŠ¶æ€</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">lastRemaining</span><span class="hljs-params">(<span class="hljs-type">int</span> n, <span class="hljs-type">int</span> m)</span> {
        <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">0</span> || m &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
        
        <span class="hljs-type">boolean</span>[] out = <span class="hljs-keyword">new</span> <span class="hljs-title class_">boolean</span>[n]; <span class="hljs-comment">// æ ‡è®°æ˜¯å¦å‡ºå±€</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> n;                  <span class="hljs-comment">// å‰©ä½™äººæ•°</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">index</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;                  <span class="hljs-comment">// å½“å‰æŠ¥æ•°ä½ç½®</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">step</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;                   <span class="hljs-comment">// æŠ¥æ•°è®¡æ•°å™¨</span>
        
        <span class="hljs-keyword">while</span> (count &gt; <span class="hljs-number">1</span>) {
            <span class="hljs-comment">// å¦‚æœå½“å‰å°æœ‹å‹æœªå‡ºå±€ï¼Œå‚ä¸æŠ¥æ•°</span>
            <span class="hljs-keyword">if</span> (!out[index]) {
                step++;
                <span class="hljs-comment">// æŠ¥åˆ°m-1çš„å°æœ‹å‹å‡ºå±€</span>
                <span class="hljs-keyword">if</span> (step == m) {
                    out[index] = <span class="hljs-literal">true</span>;  <span class="hljs-comment">// æ ‡è®°å‡ºå±€</span>
                    count--;            <span class="hljs-comment">// å‰©ä½™äººæ•°å‡1</span>
                    step = <span class="hljs-number">0</span>;           <span class="hljs-comment">// é‡ç½®è®¡æ•°å™¨</span>
                }
            }
            <span class="hljs-comment">// ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªä½ç½®ï¼ˆå¾ªç¯ï¼‰</span>
            index = (index + <span class="hljs-number">1</span>) % n;
        }
        
        <span class="hljs-comment">// æ‰¾åˆ°æœ€åä¸€ä¸ªæœªå‡ºå±€çš„å°æœ‹å‹</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; i++) {
            <span class="hljs-keyword">if</span> (!out[i]) {
                <span class="hljs-keyword">return</span> i;
            }
        }
        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
    }
}
</code></pre>
<ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(nÃ—m)ï¼Œæœ€åæƒ…å†µä¸‹æ¯ä¸ªå°æœ‹å‹éƒ½éœ€è¦æŠ¥æ•°mæ¬¡</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(n)ï¼Œéœ€è¦é•¿åº¦ä¸ºnçš„å¸ƒå°”æ•°ç»„</li>
</ul>
<h3 data-id="heading-3">å¾ªç¯é“¾è¡¨</h3>
<p>ä½¿ç”¨å¾ªç¯é“¾è¡¨æ¨¡æ‹Ÿå°æœ‹å‹å›´æˆçš„åœˆï¼Œå°†å°æœ‹å‹å­˜å…¥é“¾è¡¨ï¼Œå¾ªç¯åˆ é™¤ç¬¬mä¸ªå…ƒç´ </p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">lastRemaining</span><span class="hljs-params">(<span class="hljs-type">int</span> n, <span class="hljs-type">int</span> m)</span> {
        <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">0</span> || m &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
        
        List&lt;Integer&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();
        <span class="hljs-comment">// åˆå§‹åŒ–é“¾è¡¨ï¼Œå­˜å…¥æ‰€æœ‰å°æœ‹å‹ç¼–å·</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; i++) {
            list.add(i);
        }
        
        <span class="hljs-type">int</span> <span class="hljs-variable">index</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; <span class="hljs-comment">// å½“å‰æŒ‡é’ˆä½ç½®</span>
        
        <span class="hljs-keyword">while</span> (list.size() &gt; <span class="hljs-number">1</span>) {
            <span class="hljs-comment">// è®¡ç®—è¦åˆ é™¤çš„ä½ç½®ï¼š(å½“å‰ç´¢å¼• + m-1) % å½“å‰å¤§å°</span>
            index = (index + m - <span class="hljs-number">1</span>) % list.size();
            list.remove(index);
            <span class="hljs-comment">// åˆ é™¤åindexè‡ªåŠ¨æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œä¸éœ€è¦ç§»åŠ¨</span>
        }
        
        <span class="hljs-keyword">return</span> list.get(<span class="hljs-number">0</span>);
    }
}
</code></pre>
<ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(nÃ—m)ï¼Œéœ€è¦éå†é“¾è¡¨è¿›è¡Œåˆ é™¤æ“ä½œ</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(n)ï¼Œéœ€è¦å­˜å‚¨nä¸ªèŠ‚ç‚¹</li>
</ul>
<h3 data-id="heading-4">æ•°å­¦å½’çº³æ³•ï¼ˆæ¨èï¼‰</h3>
<p>åˆ†ææ¯æ¬¡è¢«åˆ é™¤çš„æ•°å­—è§„å¾‹ï¼Œç›´æ¥è®¡ç®—å‡ºæœ€åçš„æ•°å­—ï¼Œä¸éœ€è¦æ¨¡æ‹Ÿ</p>
<pre><code class="hljs language-java" lang="java">F(N,M) = ( F(Nâˆ’<span class="hljs-number">1</span>,M) + M ) % N
</code></pre>
<p><strong>é€’æ¨å…¬å¼çš„æ¨å¯¼è¿‡ç¨‹ï¼š</strong></p>
<ol>
<li><strong>ç¬¬ä¸€æ¬¡åˆ é™¤</strong>ï¼šä»0å¼€å§‹æŠ¥æ•°ï¼Œåˆ é™¤ç¬¬(m-1)%nä¸ªå°æœ‹å‹</li>
<li><strong>é‡æ–°ç¼–å·</strong>ï¼šåˆ é™¤åï¼Œä»ç¬¬m%nä¸ªå°æœ‹å‹å¼€å§‹é‡æ–°ç¼–å·ï¼š
<ul>
<li>æ—§ç¼–å·ï¼šm%n, m%n+1, ..., n-1, 0, 1, ..., m%n-1</li>
<li>æ–°ç¼–å·ï¼š0, 1, 2, ..., n-2</li>
</ul>
</li>
<li><strong>æ˜ å°„å…³ç³»</strong>ï¼šæ–°ç¼–å·xå¯¹åº”çš„æ—§ç¼–å·ä¸º(x + m) % n</li>
</ol>
<p><strong>ç¤ºä¾‹éªŒè¯ï¼ˆn=5, m=3ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-text" lang="text">åŸå§‹ç¼–å·: 0, 1, 2, 3, 4
ç¬¬ä¸€æ¬¡åˆ é™¤ç¼–å·2 â†’ å‰©ä½™: 0, 1, 3, 4
é‡æ–°ç¼–å·: 3â†’0, 4â†’1, 0â†’2, 1â†’3
f(5,3) = (f(4,3) + 3) % 5
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">LastRemaining_Solution</span><span class="hljs-params">(<span class="hljs-type">int</span> n, <span class="hljs-type">int</span> m)</span> {
        <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">0</span> || m &lt;= <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
        }
        <span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>; i &lt;= n; i++) {
            result = (result + m) % n;
        }
        <span class="hljs-keyword">return</span> result;
    }
}
</code></pre>
<ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(n)ï¼Œéœ€è¦næ¬¡é€’å½’è°ƒç”¨</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(n)ï¼Œé€’å½’è°ƒç”¨æ ˆæ·±åº¦</li>
</ul>
<h3 data-id="heading-5">è¿­ä»£ä¼˜åŒ–</h3>
<p>å°†é€’å½’è½¬ä¸ºè¿­ä»£ï¼Œé¿å…æ ˆæº¢å‡ºé£é™©ï¼Œæ˜¯ç”Ÿäº§ç¯å¢ƒçš„æœ€ä½³é€‰æ‹©</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">lastRemaining</span><span class="hljs-params">(<span class="hljs-type">int</span> n, <span class="hljs-type">int</span> m)</span> {
        <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">0</span> || m &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
        
        <span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; <span class="hljs-comment">// f(1, m) = 0</span>
        
        <span class="hljs-comment">// ä»2ä¸ªäººæƒ…å†µå¼€å§‹ï¼Œé€æ­¥è®¡ç®—åˆ°nä¸ªäºº</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>; i &lt;= n; i++) {
            result = (result + m) % i;
        }
        
        <span class="hljs-keyword">return</span> result;
    }
}
</code></pre>
<ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(n)ï¼Œåªéœ€ä¸€æ¬¡å¾ªç¯</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(1)ï¼Œåªä½¿ç”¨å¸¸æ•°ç©ºé—´</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LangChain + LangGraph å®æˆ˜ï¼šæ„å»ºç”Ÿäº§çº§å¤šæ¨¡æ€ WorkflowAgent çš„å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7579832417748451379</link>    <guid>https://juejin.cn/post/7579832417748451379</guid>    <pubDate>2025-12-04T13:33:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579832417748451379" data-draft-id="7579832417748303923" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LangChain + LangGraph å®æˆ˜ï¼šæ„å»ºç”Ÿäº§çº§å¤šæ¨¡æ€ WorkflowAgent çš„å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="Python,Agent,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-04T13:33:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¼–ç¨‹å¹²è´§é“º"/> <meta itemprop="url" content="https://juejin.cn/user/52383084474680"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LangChain + LangGraph å®æˆ˜ï¼šæ„å»ºç”Ÿäº§çº§å¤šæ¨¡æ€ WorkflowAgent çš„å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/52383084474680/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¼–ç¨‹å¹²è´§é“º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T13:33:04.000Z" title="Thu Dec 04 2025 13:33:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e43c2959f94848118ece1011f15b283f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yW56iL5bmy6LSn6ZO6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765460432&amp;x-signature=A%2F3XIGomhBCVDjWhMrtL4chMog0%3D" alt="image.png" loading="lazy"/>
åœ¨å¤šæ¨¡æ€ AI åº”ç”¨å¼€å‘ä¸­ï¼Œå¼€å‘è€…å¸¸é¢ä¸´ä¸‰å¤§æ ¸å¿ƒç—›ç‚¹ï¼š<strong>å·¥å…·è°ƒç”¨é¡ºåºæ··ä¹±</strong>ã€<strong>æ­¥éª¤ç»“æœæ— æ³•ä¼ é€’</strong>ã€<strong>æ¶æ„é›†æˆå¤æ‚</strong>ã€‚ä¼ ç»Ÿçš„åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„ <code>BaseAgent</code> å› å…¶éšæœºå†³ç­–çš„ç‰¹æ€§ï¼Œéš¾ä»¥ä¿éšœå¤æ‚ä»»åŠ¡çš„å¯é æ‰§è¡Œã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨å¦‚ä½•ç»“åˆ <code>LangChain</code>ï¼ˆèƒ½åŠ›ç»„ä»¶åº“ï¼‰ä¸ <code>LangGraph</code>ï¼ˆæµç¨‹æ“ä½œç³»ç»Ÿï¼‰ï¼Œè®¾è®¡ä¸€ä¸ªå¯é—­ç¯é›†æˆåˆ°ç°æœ‰æ¶æ„çš„ <strong><code>WorkflowAgent</code></strong>ï¼Œä»¥è§£å†³ä¸Šè¿°ç—›ç‚¹ï¼Œå¹¶é€šè¿‡å®æˆ˜æ¡ˆä¾‹å±•ç¤ºå…¶ä»è®¾è®¡åˆ°è½åœ°çš„å…¨è¿‡ç¨‹ã€‚</p>
<h4 data-id="heading-0"><strong>ä¸€ã€æ¡†æ¶æ ¸å¿ƒå®šä½ï¼šä»â€œèƒ½åŠ›ç»„ä»¶â€åˆ°â€œæµç¨‹æ“ä½œç³»ç»Ÿâ€</strong></h4>
<p><code>LangChain</code> ä¸ <code>LangGraph</code> å½¢æˆäº†äº’è¡¥çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li><strong><code>LangChain</code></strong>ï¼šæä¾›å·¥å…·å°è£…ï¼ˆæ–‡æœ¬/å›¾åƒ/æ–‡æ¡£/è¯­éŸ³ï¼‰ã€LLMé€‚é…ã€è®°å¿†ç»„ä»¶ï¼Œæ˜¯**â€œèƒ½åŠ›ç»„ä»¶åº“â€**ã€‚</li>
<li><strong><code>LangGraph</code></strong>ï¼šé€šè¿‡çŠ¶æ€å›¾ï¼ˆStateGraphï¼‰å®ç°å¤šæ­¥éª¤æµç¨‹æ§åˆ¶ã€çŠ¶æ€æŒä¹…åŒ–ã€åˆ†æ”¯ä¸å¾ªç¯ï¼Œæ˜¯**â€œæµç¨‹æ“ä½œç³»ç»Ÿâ€**ã€‚</li>
</ul>
<p>äºŒè€…ååŒï¼Œä»æ ¹æœ¬ä¸Šè§£å†³äº† <code>BaseAgent</code> çš„å¤©ç„¶ç¼ºé™·ï¼š</p>

























<table><thead><tr><th align="left">å¯¹æ¯”ç»´åº¦</th><th align="left">BaseAgent (çº¯LLMé©±åŠ¨)</th><th align="left">WorkflowAgent (LangChain+LangGraph)</th></tr></thead><tbody><tr><td align="left"><strong>å·¥å…·è°ƒç”¨é¡ºåº</strong></td><td align="left">LLMéšæœºå†³ç­–ï¼Œæ— æ³•ä¿è¯ä¾èµ–ï¼ˆå¦‚â€œå†™è¯—é…å›¾â€å¯èƒ½å…ˆè°ƒå›¾ï¼‰</td><td align="left">ä¸¥æ ¼æŒ‰â€œæ„ŸçŸ¥â†’è§„åˆ’â†’æ‰§è¡Œâ€å®šä¹‰é¡ºåºï¼Œæ”¯æŒæ­¥éª¤ä¾èµ–</td></tr><tr><td align="left"><strong>çŠ¶æ€ç®¡ç†</strong></td><td align="left">æ— å…±äº«çŠ¶æ€ï¼Œæ­¥éª¤ç»“æœæ— æ³•ä¼ é€’ï¼ˆå¦‚è¯—æ— æ³•ç»™é…å›¾å·¥å…·ç”¨ï¼‰</td><td align="left">å…¨å±€çŠ¶æ€é€šé“å­˜å‚¨ç»“æœï¼ŒèŠ‚ç‚¹é—´å¯ç›´æ¥è¯»å–</td></tr><tr><td align="left"><strong>æ¶æ„é›†æˆ</strong></td><td align="left">éœ€æ‰‹åŠ¨å¯¹æ¥å·¥å…·ä¸å­˜å‚¨ï¼Œæ— ç»Ÿä¸€è§„èŒƒ</td><td align="left">å¤ç”¨ç°æœ‰å·¥å…·å°è£…ä¸æ•°æ®åº“é€»è¾‘ï¼Œå½¢æˆå®Œæ•´é—­ç¯</td></tr></tbody></table>
<h4 data-id="heading-1"><strong>äºŒã€å¤šæ¨¡æ€ WorkflowAgent å®æˆ˜æ¡ˆä¾‹</strong></h4>
<p><strong>æ¡ˆä¾‹1ï¼šæ–‡æœ¬ç”Ÿæˆ + å›¾åƒç”Ÿæˆï¼ˆå†™è¯—é…å›¾ï¼‰</strong>
<strong>éœ€æ±‚</strong>ï¼šç”¨æˆ·è¾“å…¥â€œå†™ä¸€é¦–å…³äºæ˜¥å¤©çš„è¯—ï¼Œç„¶åä¸ºè¿™é¦–è¯—é…ä¸€å¼ å›¾â€ï¼Œéœ€ç¡®ä¿é¡ºåºï¼ˆå…ˆæ–‡åå›¾ï¼‰ä¸ç»“æœä¼ é€’ã€‚
<strong>æ¶æ„èŒƒå¼</strong>ï¼šPerceiveï¼ˆæ„å›¾è¯†åˆ«ï¼‰â†’ Planï¼ˆæ­¥éª¤æ‹†åˆ†ï¼‰â†’ Executeï¼ˆå·¥å…·è°ƒç”¨ï¼‰ã€‚</p>
<p><strong>1. æ ¸å¿ƒä»£ç å®ç°</strong></p>
<p><strong>(1) ç±»å®šä¹‰ä¸çŠ¶æ€åˆå§‹åŒ–</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">WorkflowAgent</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options = {}</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">userId</span> = options.<span class="hljs-property">userId</span>; <span class="hljs-comment">// å¯¹æ¥ç°æœ‰ç”¨æˆ·ä½“ç³»</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">sessionId</span> = options.<span class="hljs-property">sessionId</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">llm</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DoubaoLLM</span>({ <span class="hljs-attr">streaming</span>: <span class="hljs-literal">true</span> }); <span class="hljs-comment">// å¤ç”¨LLMé€‚é…å™¨</span>
    <span class="hljs-comment">// å…¨å±€çŠ¶æ€é€šé“ï¼šèŠ‚ç‚¹é—´å…±äº«æ•°æ®</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = {
      <span class="hljs-attr">input</span>: <span class="hljs-literal">null</span>,        <span class="hljs-comment">// ç”¨æˆ·åŸå§‹è¾“å…¥</span>
      <span class="hljs-attr">perceived</span>: <span class="hljs-literal">null</span>,    <span class="hljs-comment">// æ„ŸçŸ¥åçš„æ„å›¾</span>
      <span class="hljs-attr">plan</span>: <span class="hljs-literal">null</span>,         <span class="hljs-comment">// æ‰§è¡Œè®¡åˆ’</span>
      <span class="hljs-attr">result</span>: <span class="hljs-literal">null</span>,       <span class="hljs-comment">// æœ€ç»ˆç»“æœ</span>
      <span class="hljs-attr">tools</span>: [],          <span class="hljs-comment">// å·²è°ƒç”¨å·¥å…·åˆ—è¡¨ï¼ˆæ—¥å¿—ï¼‰</span>
      <span class="hljs-attr">stepResults</span>: {}     <span class="hljs-comment">// æ­¥éª¤ç»“æœï¼ˆä¾èµ–ä¼ é€’ï¼‰</span>
    };
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">graph</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createGraph</span>(); <span class="hljs-comment">// åˆå§‹åŒ–çŠ¶æ€å›¾</span>
  }
}
</code></pre>
<p><strong>(2) LangGraph çŠ¶æ€å›¾åˆ›å»ºï¼ˆæ ¸å¿ƒæµç¨‹æ§åˆ¶ï¼‰</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">createGraph</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> workflow = <span class="hljs-keyword">new</span> <span class="hljs-title class_">StateGraph</span>({
    <span class="hljs-attr">channels</span>: {
      <span class="hljs-attr">input</span>: { <span class="hljs-attr">reducer</span>: <span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> y || x },
      <span class="hljs-attr">perceived</span>: { <span class="hljs-attr">reducer</span>: <span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> y || x },
      <span class="hljs-attr">plan</span>: { <span class="hljs-attr">reducer</span>: <span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> y || x },
      <span class="hljs-attr">result</span>: { <span class="hljs-attr">reducer</span>: <span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> y || x },
      <span class="hljs-attr">tools</span>: { <span class="hljs-attr">reducer</span>: <span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> [...(x || []), ...(y || [])] },
      <span class="hljs-attr">stepResults</span>: { <span class="hljs-attr">reducer</span>: <span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> ({ ...x, ...y }) }
    }
  });

  <span class="hljs-comment">// æ·»åŠ æ ¸å¿ƒèŠ‚ç‚¹</span>
  workflow.<span class="hljs-title function_">addNode</span>(<span class="hljs-string">'perceive'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">perceiveNode</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>));
  workflow.<span class="hljs-title function_">addNode</span>(<span class="hljs-string">'plan'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">planNode</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>));
  workflow.<span class="hljs-title function_">addNode</span>(<span class="hljs-string">'execute'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">executeNode</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>));

  <span class="hljs-comment">// å®šä¹‰çº¿æ€§æµè½¬è·¯å¾„</span>
  workflow.<span class="hljs-title function_">setEntryPoint</span>(<span class="hljs-string">'perceive'</span>);
  workflow.<span class="hljs-title function_">addEdge</span>(<span class="hljs-string">'perceive'</span>, <span class="hljs-string">'plan'</span>);
  workflow.<span class="hljs-title function_">addEdge</span>(<span class="hljs-string">'plan'</span>, <span class="hljs-string">'execute'</span>);
  workflow.<span class="hljs-title function_">addEdge</span>(<span class="hljs-string">'execute'</span>, <span class="hljs-variable constant_">END</span>);

  <span class="hljs-keyword">return</span> workflow.<span class="hljs-title function_">compile</span>();
}
</code></pre>
<p><strong>(3) ä¸‰å¤§æ ¸å¿ƒèŠ‚ç‚¹å®ç°</strong></p>
<ul>
<li><strong>æ„ŸçŸ¥èŠ‚ç‚¹ (Perceive)</strong>ï¼šè§£ææ„å›¾ä¸æ‰€éœ€å·¥å…·ã€‚
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-title function_">perceiveNode</span>(<span class="hljs-params">state</span>) {
  <span class="hljs-keyword">const</span> prompt = <span class="hljs-string">`åˆ†æç”¨æˆ·è¾“å…¥ï¼Œè¿”å›JSONæ ¼å¼æ„å›¾ï¼š
  ç”¨æˆ·è¾“å…¥ï¼š<span class="hljs-subst">${state.input}</span>
  è¾“å‡ºå­—æ®µï¼šintentã€task_typeã€required_tools`</span>;
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">llm</span>.<span class="hljs-title function_">invoke</span>(prompt);
  <span class="hljs-keyword">const</span> perceived = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(response.<span class="hljs-property">content</span>.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\{[\s\S]*\}/</span>)[<span class="hljs-number">0</span>]);
  <span class="hljs-keyword">return</span> { perceived }; <span class="hljs-comment">// æ›´æ–°çŠ¶æ€</span>
}
<span class="hljs-comment">// ç»“æœç¤ºä¾‹: { intent: "åˆ›ä½œè¯—æ­Œå¹¶é…å›¾", task_type: "multi", required_tools: ["text_generator", "image_generator"] }</span>
</code></pre>
</li>
<li><strong>è§„åˆ’èŠ‚ç‚¹ (Plan)</strong>ï¼šæ‹†åˆ†æ­¥éª¤ä¸ä¾èµ–ã€‚
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-title function_">planNode</span>(<span class="hljs-params">state</span>) {
  <span class="hljs-keyword">const</span> { perceived } = state;
  <span class="hljs-keyword">const</span> prompt = <span class="hljs-string">`åŸºäºæ„å›¾åˆ¶å®šæ­¥éª¤è®¡åˆ’ï¼ˆJSONæ•°ç»„ï¼‰ï¼š
  æ„å›¾ï¼š<span class="hljs-subst">${perceived.intent}</span>ï¼Œå·¥å…·ï¼š<span class="hljs-subst">${perceived.required_tools.join(<span class="hljs-string">','</span>)}</span>
  è¦æ±‚ï¼šæ ‡è®°depends_onï¼Œå‚æ•°å«use_previous_result`</span>;
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">llm</span>.<span class="hljs-title function_">invoke</span>(prompt);
  <span class="hljs-keyword">let</span> plan = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(response.<span class="hljs-property">content</span>.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\[([\s\S]*)\]/</span>)[<span class="hljs-number">0</span>]);
  <span class="hljs-keyword">return</span> { plan };
}
<span class="hljs-comment">// ç»“æœç¤ºä¾‹: [</span>
<span class="hljs-comment">//   { step: 1, action: "ç”Ÿæˆæ˜¥å¤©ä¸»é¢˜è¯—æ­Œ", tool: "text_generator", params: { topic: "æ˜¥å¤©" }, depends_on: null },</span>
<span class="hljs-comment">//   { step: 2, action: "åŸºäºè¯—æ­Œç”Ÿæˆé…å›¾", tool: "image_generator", params: { use_previous_result: true }, depends_on: 1 }</span>
<span class="hljs-comment">// ]</span>
</code></pre>
</li>
<li><strong>æ‰§è¡ŒèŠ‚ç‚¹ (Execute)</strong>ï¼šè°ƒç”¨å·¥å…·ä¸ä¼ é€’ç»“æœã€‚
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-title function_">executeNode</span>(<span class="hljs-params">state</span>) {
  <span class="hljs-keyword">const</span> { plan } = state;
  <span class="hljs-keyword">const</span> results = []; <span class="hljs-keyword">const</span> toolsUsed = []; <span class="hljs-keyword">const</span> stepResults = {};
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> step <span class="hljs-keyword">of</span> plan) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// å¤„ç†æ­¥éª¤ä¾èµ–</span>
      <span class="hljs-keyword">if</span> (step.<span class="hljs-property">depends_on</span>) step.<span class="hljs-property">params</span>.<span class="hljs-property">previous_result</span> = state.<span class="hljs-property">stepResults</span>[step.<span class="hljs-property">depends_on</span>];
      <span class="hljs-comment">// è°ƒç”¨å·¥å…·ï¼ˆå¤ç”¨LangChainå°è£…ï¼‰</span>
      <span class="hljs-keyword">switch</span> (step.<span class="hljs-property">tool</span>) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">"text_generator"</span>:
          <span class="hljs-keyword">const</span> textTool = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextGeneratorTool</span>();
          stepResult = <span class="hljs-keyword">await</span> textTool.<span class="hljs-title function_">_call</span>({ <span class="hljs-attr">prompt</span>: step.<span class="hljs-property">params</span>.<span class="hljs-property">topic</span>, <span class="hljs-attr">userId</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">userId</span>, <span class="hljs-attr">sessionId</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">sessionId</span> });
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">"image_generator"</span>:
          <span class="hljs-keyword">const</span> imageTool = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageGeneratorTool</span>();
          stepResult = <span class="hljs-keyword">await</span> imageTool.<span class="hljs-title function_">_call</span>({ <span class="hljs-attr">prompt</span>: <span class="hljs-string">`åŸºäºæ–‡æœ¬ç”Ÿæˆå›¾åƒï¼š<span class="hljs-subst">${step.params.previous_result}</span>`</span>, <span class="hljs-attr">size</span>: <span class="hljs-string">"1024x1024"</span>, <span class="hljs-attr">userId</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">userId</span>, <span class="hljs-attr">sessionId</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">sessionId</span> });
          <span class="hljs-keyword">break</span>;
      }
      stepResults[step.<span class="hljs-property">step</span>] = stepResult;
      results.<span class="hljs-title function_">push</span>(<span class="hljs-string">`æ­¥éª¤<span class="hljs-subst">${step.step}</span>ï¼š<span class="hljs-subst">${stepResult}</span>`</span>);
      toolsUsed.<span class="hljs-title function_">push</span>(step.<span class="hljs-property">tool</span>);
    } <span class="hljs-keyword">catch</span> (error) { results.<span class="hljs-title function_">push</span>(<span class="hljs-string">`æ­¥éª¤<span class="hljs-subst">${step.step}</span>å¤±è´¥ï¼š<span class="hljs-subst">${error.message}</span>`</span>); }
  }
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">result</span>: results.<span class="hljs-title function_">join</span>(<span class="hljs-string">'\n'</span>), <span class="hljs-attr">tools</span>: toolsUsed, stepResults };
}
</code></pre>
</li>
</ul>
<p><strong>2. æ‰§è¡Œæµç¨‹ä¸ç»“æœ</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">await</span> agent.<span class="hljs-title function_">run</span>(<span class="hljs-string">"å†™ä¸€é¦–å…³äºæ˜¥å¤©çš„è¯—ï¼Œç„¶åä¸ºè¿™é¦–è¯—é…ä¸€å¼ å›¾"</span>)
</code></pre>
<p><strong>çŠ¶æ€æµè½¬</strong>ï¼š<code>åˆå§‹çŠ¶æ€ â†’ æ„ŸçŸ¥èŠ‚ç‚¹ â†’ è§„åˆ’èŠ‚ç‚¹ â†’ æ‰§è¡ŒèŠ‚ç‚¹ â†’ ç»“æŸ</code>
<strong>æœ€ç»ˆç»“æœ</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"input"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å†™ä¸€é¦–å…³äºæ˜¥å¤©çš„è¯—..."</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"perceived"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"intent"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"åˆ›ä½œè¯—æ­Œå¹¶é…å›¾"</span><span class="hljs-punctuation">,</span> ... <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"plan"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>æ­¥éª¤<span class="hljs-number">1</span><span class="hljs-punctuation">,</span> æ­¥éª¤<span class="hljs-number">2</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"result"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ­¥éª¤1ï¼šæ˜¥é£å¹ç»¿äº†å¤§åœ°...\næ­¥éª¤2ï¼šå›¾åƒURL: /uploads/xxx.jpg"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"tools"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"text_generator"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"image_generator"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"stepResults"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"1"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ˜¥é£å¹ç»¿äº†å¤§åœ°..."</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"2"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/uploads/xxx.jpg"</span> <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>æ¡ˆä¾‹2ï¼šæ–‡æ¡£è§£æ + è¯­éŸ³åˆæˆï¼ˆæ–‡æ¡£è½¬è¯­éŸ³ï¼‰</strong>
<strong>éœ€æ±‚</strong>ï¼šç”¨æˆ·ä¸Šä¼ PDFï¼Œå…ˆè§£ææ–‡æœ¬ï¼Œå†åˆæˆè¯­éŸ³ï¼Œéœ€æ”¯æŒæµå¼åé¦ˆã€‚
<strong>æ¶æ„é€‚é…</strong>ï¼šåœ¨åŸæœ‰æ¡†æ¶ä¸Šæ‰©å±•å·¥å…· (<code>document_parser</code>, <code>audio_synthesizer</code>) å¹¶å®ç°æµå¼æ¥å£ã€‚</p>
<p><strong>1. æ ¸å¿ƒä»£ç é€‚é…</strong></p>
<ul>
<li><strong>æ„ŸçŸ¥èŠ‚ç‚¹æ‰©å±•</strong>ï¼šè¯†åˆ«æ–‡æ¡£ä¸è¯­éŸ³å·¥å…·ã€‚</li>
<li><strong>æ‰§è¡ŒèŠ‚ç‚¹æ‰©å±•</strong>ï¼š
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">switch</span> (step.<span class="hljs-property">tool</span>) {
  <span class="hljs-keyword">case</span> <span class="hljs-string">"document_parser"</span>:
    <span class="hljs-keyword">const</span> docTool = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DocumentParserTool</span>();
    stepResult = <span class="hljs-keyword">await</span> docTool.<span class="hljs-title function_">_call</span>({ <span class="hljs-attr">fileUrl</span>: step.<span class="hljs-property">params</span>.<span class="hljs-property">fileUrl</span>, <span class="hljs-attr">userId</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">userId</span>, <span class="hljs-attr">sessionId</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">sessionId</span> });
    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-string">"audio_synthesizer"</span>:
    <span class="hljs-keyword">const</span> audioTool = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AudioSynthesizerTool</span>();
    stepResult = <span class="hljs-keyword">await</span> audioTool.<span class="hljs-title function_">_call</span>({ <span class="hljs-attr">text</span>: step.<span class="hljs-property">params</span>.<span class="hljs-property">previous_result</span>, <span class="hljs-attr">voiceType</span>: <span class="hljs-string">"female"</span>, <span class="hljs-attr">userId</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">userId</span>, <span class="hljs-attr">sessionId</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">sessionId</span> });
    <span class="hljs-keyword">break</span>;
}
</code></pre>
</li>
</ul>
<p><strong>2. æµå¼æ‰§è¡Œä¸å‰ç«¯åé¦ˆ</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åç«¯æµå¼æ¥å£</span>
<span class="hljs-keyword">async</span> *<span class="hljs-title function_">stream</span>(<span class="hljs-params">input</span>) {
  <span class="hljs-keyword">const</span> stream = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">graph</span>.<span class="hljs-title function_">stream</span>({ input });
  <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> chunk <span class="hljs-keyword">of</span> stream) {
    <span class="hljs-keyword">yield</span> chunk; <span class="hljs-comment">// é€èŠ‚ç‚¹è¿”å›çŠ¶æ€</span>
  }
}
<span class="hljs-comment">// å‰ç«¯è°ƒç”¨ (SSE)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">callDocToAudioAgent</span>(<span class="hljs-params">message, fileUrl</span>) {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/agent/workflow'</span>, { <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>, <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ message, fileUrl }) });
  <span class="hljs-keyword">const</span> reader = response.<span class="hljs-property">body</span>.<span class="hljs-title function_">getReader</span>();
  <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
    <span class="hljs-keyword">const</span> { done, value } = <span class="hljs-keyword">await</span> reader.<span class="hljs-title function_">read</span>();
    <span class="hljs-keyword">if</span> (done) <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">const</span> chunk = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TextDecoder</span>().<span class="hljs-title function_">decode</span>(value));
    <span class="hljs-comment">// å®æ—¶æ›´æ–°UI: if (chunk.perceive) showProgress("å·²è¯†åˆ«éœ€æ±‚...");</span>
  }
}
</code></pre>
<h4 data-id="heading-2"><strong>ä¸‰ã€ä¸ç°æœ‰æ¶æ„çš„å®Œæ•´é—­ç¯ä½“ç³»</strong></h4>
<p><strong>1. å·¥å…·å°è£…é—­ç¯ï¼šå¤ç”¨ LangChain å·¥å…·å±‚</strong>
æ‰€æœ‰å·¥å…·åŸºäºç°æœ‰<code>Tool</code>åŸºç±»å°è£…ï¼Œè°ƒç”¨è§„èŒƒç»Ÿä¸€ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ImageGeneratorTool</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Tool</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">_call</span>(<span class="hljs-params">input</span>) {
    <span class="hljs-comment">// å¯¹æ¥ç°æœ‰å›¾åƒæœåŠ¡</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">generateSeedreamImages</span>({
      <span class="hljs-attr">userId</span>: input.<span class="hljs-property">userId</span>,
      <span class="hljs-attr">sessionId</span>: input.<span class="hljs-property">sessionId</span>,
      <span class="hljs-attr">prompt</span>: input.<span class="hljs-property">prompt</span>
    });
  }
}
<span class="hljs-comment">// WorkflowAgentä¸­æ— æ„ŸçŸ¥è°ƒç”¨</span>
<span class="hljs-keyword">const</span> tool = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageGeneratorTool</span>();
<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> tool.<span class="hljs-title function_">_call</span>({...});
</code></pre>
<p><strong>é—­ç¯é“¾è·¯</strong>ï¼š<code>WorkflowAgent â†’ LangChain å·¥å…· â†’ ç°æœ‰æœåŠ¡å±‚ â†’ æ•°æ®åº“</code></p>
<p><strong>2. æ§åˆ¶å™¨ä¸è·¯ç”±é›†æˆï¼ˆå¯¹æ¥ç°æœ‰æ¥å£ï¼‰</strong>
åˆ›å»ºæ§åˆ¶å™¨ï¼Œå¤ç”¨ç”¨æˆ·è®¤è¯ä¸æ—¥å¿—å­˜å‚¨ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// workflowAgentController.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">chat</span>: <span class="hljs-keyword">async</span> (req, res) =&gt; {
    <span class="hljs-keyword">const</span> { message, session_id } = req.<span class="hljs-property">body</span>;
    <span class="hljs-keyword">const</span> userId = req.<span class="hljs-property">user</span>.<span class="hljs-property">user_id</span>; <span class="hljs-comment">// ç°æœ‰è®¤è¯ä½“ç³»</span>
    res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>, { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'text/event-stream'</span> });

    <span class="hljs-keyword">const</span> agent = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WorkflowAgent</span>({ userId, <span class="hljs-attr">sessionId</span>: session_id });
    <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> chunk <span class="hljs-keyword">of</span> agent.<span class="hljs-title function_">stream</span>({ message })) {
      res.<span class="hljs-title function_">write</span>(<span class="hljs-string">`data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(chunk)}</span>\n\n`</span>); <span class="hljs-comment">// æµå¼æ¨é€</span>
    }
    <span class="hljs-comment">// å¤ç”¨ç°æœ‰æ—¥å¿—å­˜å‚¨</span>
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">saveChatRecord</span>({ <span class="hljs-attr">user_id</span>: userId, session_id, <span class="hljs-attr">request_text</span>: message, <span class="hljs-attr">model</span>: <span class="hljs-string">'workflow-agent'</span> });
    res.<span class="hljs-title function_">end</span>();
  }
};
<span class="hljs-comment">// é›†æˆåˆ°ç°æœ‰è·¯ç”±</span>
router.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/workflow'</span>, workflowAgentController.<span class="hljs-property">chat</span>);
</code></pre>
<p><strong>3. ä¸ BaseAgent çš„åœºæ™¯åˆ†å·¥</strong></p>





























<table><thead><tr><th align="left">ä»»åŠ¡ç±»å‹</th><th align="left">æ¨è Agent</th><th align="left">å·¥å…·è°ƒç”¨æ•°</th><th align="left">æµç¨‹æ§åˆ¶éœ€æ±‚</th></tr></thead><tbody><tr><td align="left">å•æ¨¡æ€ç®€å•ä»»åŠ¡ï¼ˆå¦‚â€œç”Ÿæˆæ—¥è½å›¾â€ï¼‰</td><td align="left">BaseAgent</td><td align="left">1</td><td align="left">æ— éœ€é¡ºåºæ§åˆ¶</td></tr><tr><td align="left">å¤šæ¨¡æ€å¤šæ­¥éª¤ä»»åŠ¡ï¼ˆå¦‚å†™è¯—é…å›¾ï¼‰</td><td align="left">WorkflowAgent</td><td align="left">â‰¥2</td><td align="left">éœ€æ­¥éª¤ä¾èµ–ä¸é¡ºåºæ§åˆ¶</td></tr><tr><td align="left">ä¼ä¸šçº§åˆè§„ä»»åŠ¡ï¼ˆå¦‚å¸¦å®¡æ ¸çš„å†…å®¹ç”Ÿæˆï¼‰</td><td align="left">WorkflowAgentï¼ˆåŠ å®¡æ ¸èŠ‚ç‚¹ï¼‰</td><td align="left">â‰¥2</td><td align="left">éœ€åˆ†æ”¯ä¸äººå·¥å¹²é¢„</td></tr></tbody></table>
<h4 data-id="heading-3"><strong>å››ã€ç”Ÿäº§çº§æ‰©å±•ä¸æœ€ä½³å®è·µ</strong></h4>
<p><strong>4.1 é”™è¯¯å¤„ç†å¢å¼ºï¼šç”Ÿäº§çº§å¯é æ€§ä¿éšœ</strong>
é€šè¿‡ <strong>é‡è¯•ç­–ç•¥ã€é”™è¯¯é™çº§ã€æ—¥å¿—ä¸ŠæŠ¥</strong> ä¸‰é‡æœºåˆ¶ï¼Œå°†ä»»åŠ¡æˆåŠŸç‡æå‡è‡³95%ä»¥ä¸Šã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-title function_">executeNode</span>(<span class="hljs-params">state</span>) {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> step <span class="hljs-keyword">of</span> plan) {
    <span class="hljs-keyword">let</span> retryCount = <span class="hljs-number">0</span>, maxRetry = <span class="hljs-number">3</span>, stepSuccess = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">while</span> (retryCount &lt; maxRetry &amp;&amp; !stepSuccess) {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// 1. ä¾èµ–æ ¡éªŒ</span>
        <span class="hljs-keyword">if</span> (step.<span class="hljs-property">depends_on</span> &amp;&amp; !stepResults[step.<span class="hljs-property">depends_on</span>]) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`ä¾èµ–æ­¥éª¤æœªæˆåŠŸ`</span>);
        <span class="hljs-comment">// 2. å‚æ•°æ ¡éªŒ</span>
        <span class="hljs-keyword">if</span> (step.<span class="hljs-property">tool</span> === <span class="hljs-string">"image_generator"</span> &amp;&amp; !step.<span class="hljs-property">params</span>.<span class="hljs-property">previous_result</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"å‚æ•°ä¸å®Œæ•´"</span>);
        <span class="hljs-comment">// 3. å·¥å…·è°ƒç”¨ï¼ˆå¸¦è¶…æ—¶ï¼‰</span>
        stepResult = <span class="hljs-keyword">await</span> tool.<span class="hljs-title function_">_call</span>({ ..., <span class="hljs-attr">timeout</span>: <span class="hljs-number">10000</span> });
        stepSuccess = <span class="hljs-literal">true</span>; <span class="hljs-comment">// æˆåŠŸ</span>
      } <span class="hljs-keyword">catch</span> (error) {
        retryCount++;
        <span class="hljs-comment">// 4. æŒ‡æ•°é€€é¿é‡è¯•</span>
        <span class="hljs-keyword">if</span> (retryCount &lt; maxRetry) <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">1000</span> * retryCount));
      }
    }
    <span class="hljs-comment">// 5. å¤šæ¬¡é‡è¯•å¤±è´¥ï¼šæ‰§è¡Œé™çº§</span>
    <span class="hljs-keyword">if</span> (!stepSuccess) {
      <span class="hljs-keyword">if</span> (step.<span class="hljs-property">tool</span> === <span class="hljs-string">"text_generator"</span>) stepResult = <span class="hljs-string">"é»˜è®¤æ˜¥å¤©ä¸»é¢˜è¯—æ­Œ..."</span>;
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (step.<span class="hljs-property">tool</span> === <span class="hljs-string">"image_generator"</span>) stepResult = <span class="hljs-string">"/static/fallback/spring.jpg"</span>;
    }
    <span class="hljs-comment">// 6. é”™è¯¯æ—¥å¿—ä¸ŠæŠ¥ï¼ˆå¯¹æ¥ELKç­‰ç›‘æ§ï¼‰</span>
    <span class="hljs-keyword">if</span> (errorLogs.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) <span class="hljs-keyword">await</span> <span class="hljs-title function_">reportErrorLogs</span>({ <span class="hljs-attr">userId</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">userId</span>, <span class="hljs-attr">logs</span>: errorLogs });
  }
}
</code></pre>
<p><strong>4.2 æ”¯æŒæ¡ä»¶åˆ†æ”¯ä¸å¾ªç¯ï¼ˆä¼ä¸šçº§åˆè§„éœ€æ±‚ï¼‰</strong>
åº”å¯¹â€œäººå·¥å®¡æ ¸â€ã€â€œå¤šè½®ä¼˜åŒ–â€ç­‰åŠ¨æ€æµç¨‹ï¼Œä»¥â€œå†™è¯—é…å›¾+äººå·¥å®¡æ ¸â€ä¸ºä¾‹ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">createGraph</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ... åŸæœ‰èŠ‚ç‚¹ ...</span>
  workflow.<span class="hljs-title function_">addNode</span>(<span class="hljs-string">'review'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">reviewNode</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>)); <span class="hljs-comment">// æ–°å¢å®¡æ ¸èŠ‚ç‚¹</span>
  workflow.<span class="hljs-title function_">addEdge</span>(<span class="hljs-string">'execute'</span>, <span class="hljs-string">'review'</span>);
  <span class="hljs-comment">// æ¡ä»¶è¾¹ï¼šæ ¹æ®å®¡æ ¸ç»“æœå†³å®šåç»­æµç¨‹</span>
  workflow.<span class="hljs-title function_">addConditionalEdges</span>(
    <span class="hljs-string">'review'</span>,
    <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> status = state.<span class="hljs-property">reviewStatus</span>;
      <span class="hljs-keyword">if</span> (status === <span class="hljs-string">"approved"</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">"end"</span>;
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (status === <span class="hljs-string">"rejected"</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">"replan"</span>; <span class="hljs-comment">// é©³å›åˆ™é‡æ–°è§„åˆ’</span>
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-string">"review"</span>; <span class="hljs-comment">// å¾…å®¡æ ¸åˆ™å¾ªç¯ç­‰å¾…</span>
    },
    { <span class="hljs-string">'end'</span>: <span class="hljs-variable constant_">END</span>, <span class="hljs-string">'replan'</span>: <span class="hljs-string">'plan'</span>, <span class="hljs-string">'review'</span>: <span class="hljs-string">'review'</span> }
  );
}
<span class="hljs-comment">// å®¡æ ¸é©³å›åï¼Œè§„åˆ’èŠ‚ç‚¹èå…¥å®¡æ ¸æ„è§é‡æ–°ç”Ÿæˆè®¡åˆ’</span>
<span class="hljs-keyword">async</span> <span class="hljs-title function_">planNode</span>(<span class="hljs-params">state</span>) {
  <span class="hljs-keyword">const</span> { perceived, reviewStatus, reviewComment } = state;
  <span class="hljs-keyword">const</span> reviewInfo = reviewStatus === <span class="hljs-string">"rejected"</span> ? <span class="hljs-string">`ï¼ˆå®¡æ ¸é©³å›åŸå› ï¼š<span class="hljs-subst">${reviewComment}</span>ï¼‰`</span> : <span class="hljs-string">""</span>;
  <span class="hljs-keyword">const</span> prompt = <span class="hljs-string">`åŸºäºæ„å›¾åˆ¶å®šæ­¥éª¤è®¡åˆ’...æ„å›¾ï¼š<span class="hljs-subst">${perceived.intent}</span> <span class="hljs-subst">${reviewInfo}</span>`</span>;
  <span class="hljs-comment">// ... ç”Ÿæˆæ–°è®¡åˆ’</span>
}
</code></pre>
<p><strong>4.3 æ€§èƒ½ä¼˜åŒ–ï¼šé«˜å¹¶å‘åœºæ™¯ä¸‹çš„æ•ˆç‡æå‡</strong>
ä» <strong>å¹¶è¡Œæ‰§è¡Œã€çŠ¶æ€ç¼“å­˜ã€èµ„æºå¤ç”¨</strong> ä¸‰æ–¹é¢ä¼˜åŒ–ã€‚</p>
<ul>
<li><strong>æ— ä¾èµ–æ­¥éª¤å¹¶è¡Œ</strong>ï¼š
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-title function_">executeNode</span>(<span class="hljs-params">state</span>) {
  <span class="hljs-keyword">const</span> independentSteps = plan.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">step</span> =&gt;</span> step.<span class="hljs-property">depends_on</span> === <span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> dependentSteps = plan.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">step</span> =&gt;</span> step.<span class="hljs-property">depends_on</span> !== <span class="hljs-literal">null</span>);
  <span class="hljs-comment">// å¹¶è¡Œæ‰§è¡Œæ— ä¾èµ–æ­¥éª¤</span>
  <span class="hljs-keyword">if</span> (independentSteps.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">const</span> parallelPromises = independentSteps.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">step</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">executeSingleStep</span>(step, ...));
    <span class="hljs-keyword">const</span> parallelResults = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(parallelPromises);
    <span class="hljs-comment">// ...å¤„ç†ç»“æœ</span>
  }
  <span class="hljs-comment">// ä¸²è¡Œæ‰§è¡Œä¾èµ–æ­¥éª¤</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> step <span class="hljs-keyword">of</span> dependentSteps.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a.<span class="hljs-property">step</span> - b.<span class="hljs-property">step</span>)) {
    <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">executeSingleStep</span>(step, ...);
  }
}
</code></pre>
</li>
<li><strong>é‡å¤ä»»åŠ¡çŠ¶æ€ç¼“å­˜</strong>ï¼š
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-title function_">executeNode</span>(<span class="hljs-params">state</span>) {
  <span class="hljs-keyword">const</span> cacheKey = <span class="hljs-string">`user:<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.userId}</span>:task:<span class="hljs-subst">${md5(input)}</span>`</span>;
  <span class="hljs-keyword">const</span> cachedResult = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">get</span>(cacheKey); <span class="hljs-comment">// Redisç¼“å­˜</span>
  <span class="hljs-keyword">if</span> (cachedResult) <span class="hljs-keyword">return</span> { ...parsedCache, <span class="hljs-attr">fromCache</span>: <span class="hljs-literal">true</span> }; <span class="hljs-comment">// å‘½ä¸­ç¼“å­˜</span>
  <span class="hljs-comment">// ... æ‰§è¡Œä»»åŠ¡</span>
  <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">set</span>(cacheKey, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result), <span class="hljs-string">"EX"</span>, <span class="hljs-number">3600</span>); <span class="hljs-comment">// å†™å…¥ç¼“å­˜</span>
  <span class="hljs-keyword">return</span> { ...result, <span class="hljs-attr">fromCache</span>: <span class="hljs-literal">false</span> };
}
</code></pre>
</li>
</ul>
<h4 data-id="heading-4"><strong>äº”ã€å­¦ä¹ è·¯å¾„ï¼šä»å…¥é—¨åˆ°å®æˆ˜</strong></h4>
<ol>
<li><strong>å…¥é—¨é˜¶æ®µ</strong>ï¼šæŒæ¡æ ¸å¿ƒç»„ä»¶ã€‚
<ul>
<li><strong>ç¯å¢ƒæ­å»º</strong>ï¼šå®‰è£… <code>langchain</code>, <code>langgraph</code>, <code>redis</code>ï¼Œé…ç½®LLMã€‚</li>
<li><strong>åŸºç¡€ç»ƒä¹ </strong>ï¼šç”¨LangChainå°è£…ä¸€ä¸ªè‡ªå®šä¹‰å·¥å…·ï¼›ç”¨LangGraphå®ç°â€œå•æ­¥éª¤æ–‡æœ¬ç”Ÿæˆâ€æµç¨‹ã€‚</li>
</ul>
</li>
<li><strong>è¿›é˜¶é˜¶æ®µ</strong>ï¼šæ”»å…‹å¤æ‚æµç¨‹ã€‚
<ul>
<li><strong>æ ¸å¿ƒèƒ½åŠ›</strong>ï¼šå®ç°â€œé”™è¯¯é‡è¯•+é™çº§â€ï¼›å¼€å‘â€œæ¡ä»¶åˆ†æ”¯+å¾ªç¯â€ï¼ˆä»¥æ–‡æ¡£è½¬è¯­éŸ³ä¸ºæ¡ˆä¾‹ï¼‰ã€‚</li>
<li><strong>æµå¼å¤„ç†</strong>ï¼šåŸºäº <code>agent.stream()</code> å®ç°å‰ç«¯å®æ—¶è¿›åº¦å±•ç¤ºï¼Œè°ƒè¯•SSEè¿æ¥ã€‚</li>
</ul>
</li>
<li><strong>å®æˆ˜é˜¶æ®µ</strong>ï¼šæ„å»ºå®Œæ•´ç³»ç»Ÿã€‚
<ul>
<li><strong>ç»¼åˆé¡¹ç›®</strong>ï¼šå¼€å‘â€œæ™ºèƒ½å†…å®¹ç”Ÿäº§ç³»ç»Ÿâ€ï¼šæ–‡æ¡£â†’è§£æâ†’æ‘˜è¦â†’é…å›¾â†’åˆæˆè¯­éŸ³ã€‚</li>
<li><strong>æ¶æ„é—­ç¯</strong>ï¼šå¤ç”¨ç°æœ‰ç”¨æˆ·ã€æ—¥å¿—ã€å·¥å…·æœåŠ¡ï¼›è¿›è¡Œå‹æµ‹ä¼˜åŒ–ï¼Œé€šè¿‡ç¼“å­˜å’Œå¹¶è¡Œé™ä½å“åº”æ—¶é—´ã€‚</li>
</ul>
</li>
</ol>
<h4 data-id="heading-5"><strong>å…­ã€æ€»ç»“ï¼šæ ¸å¿ƒä»·å€¼ä¸è½åœ°å»ºè®®</strong></h4>
<ul>
<li><strong>æ¡†æ¶ååŒä»·å€¼</strong>ï¼š
<ul>
<li><code>LangChain</code> è§£å†³ <strong>â€œå·¥å…·å¤ç”¨â€</strong> å’Œ <strong>â€œèƒ½åŠ›æ‰©å±•â€</strong>ã€‚</li>
<li><code>LangGraph</code> è§£å†³ <strong>â€œæµç¨‹æ§åˆ¶â€</strong> å’Œ <strong>â€œçŠ¶æ€ç®¡ç†â€</strong>ã€‚</li>
<li>äºŒè€…ç»“åˆå®ç°ä»â€œå·¥å…·è°ƒç”¨â€åˆ°â€œæ™ºèƒ½ç³»ç»Ÿâ€çš„è·¨è¶Šã€‚</li>
</ul>
</li>
<li><strong>æ¶æ„é—­ç¯å…³é”®</strong>ï¼š
<ul>
<li><strong>ç»„ä»¶å¤ç”¨</strong>ï¼šæ‰€æœ‰å·¥å…·åŸºäºç°æœ‰åŸºç±»å°è£…ã€‚</li>
<li><strong>çŠ¶æ€é€æ˜</strong>ï¼šå…¨å±€çŠ¶æ€é€šé“ä¾¿äºæ’æŸ¥ä¸æ•°æ®åˆ†æã€‚</li>
<li><strong>åœºæ™¯é€‚é…</strong>ï¼šæ˜ç¡® <code>BaseAgent</code> ä¸ <code>WorkflowAgent</code> åˆ†å·¥ï¼Œé¿å…è¿‡åº¦è®¾è®¡ã€‚</li>
</ul>
</li>
<li><strong>è½åœ°æ³¨æ„äº‹é¡¹</strong>ï¼š
<ul>
<li><strong>é”™è¯¯å¤„ç†åˆ†çº§</strong>ï¼šå…³é”®æ­¥éª¤ä¸­æ–­ï¼Œéå…³é”®æ­¥éª¤é™çº§ã€‚</li>
<li><strong>æ€§èƒ½ä¼˜å…ˆ</strong>ï¼šå¤§æ–‡ä»¶ä»»åŠ¡æ‹†åˆ†å¹¶è¡Œï¼Œé«˜é¢‘ä»»åŠ¡åŠ ç¼“å­˜ã€‚</li>
<li><strong>å¯è§‚æµ‹æ€§</strong>ï¼šè®°å½•å·¥å…·è€—æ—¶ä¸é”™è¯¯ç‡ï¼Œåˆ©ç”¨LangSmithç­‰å·¥å…·ä¼˜åŒ–æµç¨‹ã€‚</li>
</ul>
</li>
</ul>
<p>é€šè¿‡æœ¬æ–‡çš„æ¡ˆä¾‹ä¸è®¾è®¡ï¼Œå¼€å‘è€…å¯å°†å¤šæ¨¡æ€AIåº”ç”¨ä»â€œDemoçº§â€å¯é åœ°å‡çº§ä¸ºâ€œç”Ÿäº§çº§â€ï¼Œæœ‰æ•ˆè§£å†³æµç¨‹å¤±æ§çš„ç—›ç‚¹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ä¸ªå…è´¹ä¸”å®ç”¨çš„ GitHub å·¥å…·ï¼Œå¯å°† GitHub çš„ README ç¿»è¯‘æˆå¤šç§è¯­è¨€ï¼]]></title>    <link>https://juejin.cn/post/7579871631095693338</link>    <guid>https://juejin.cn/post/7579871631095693338</guid>    <pubDate>2025-12-04T13:42:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579871631095693338" data-draft-id="7579798332778430473" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ä¸ªå…è´¹ä¸”å®ç”¨çš„ GitHub å·¥å…·ï¼Œå¯å°† GitHub çš„ README ç¿»è¯‘æˆå¤šç§è¯­è¨€ï¼"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2025-12-04T13:42:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿½é€æ—¶å…‰è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2770425031690333"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ä¸ªå…è´¹ä¸”å®ç”¨çš„ GitHub å·¥å…·ï¼Œå¯å°† GitHub çš„ README ç¿»è¯‘æˆå¤šç§è¯­è¨€ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2770425031690333/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿½é€æ—¶å…‰è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T13:42:29.000Z" title="Thu Dec 04 2025 13:42:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ZDoc å·¥å…·ä»‹ç»</h2>
<p>ZDoc æ˜¯ä¸€ä¸ªå…è´¹ä¸”å®ç”¨çš„åœ¨çº¿å·¥å…·ï¼Œå…¶æ ¸å¿ƒåŠŸèƒ½æ˜¯å°† GitHub ä»“åº“ä¸­çš„ README è‡ªåŠ¨ç¿»è¯‘æˆå¤šç§è¯­è¨€ï¼Œå¸®åŠ©å¼€å‘è€…è½»æ¾å°† GitHub é¡¹ç›® README ä»‹ç»ç¿»è¯‘æˆå¤šç§è¯­è¨€ï¼Œé™ä½ç†è§£æˆæœ¬ï¼Œæå‡åä½œæ•ˆç‡ã€‚</p>
<ul>
<li><strong>åœ¨çº¿è®¿é—®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zdoc.app%2Fzh" target="_blank" title="https://www.zdoc.app/zh" ref="nofollow noopener noreferrer">www.zdoc.app/zh</a></strong></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bdd9944ed5df48cdb37cc4d5ef3616cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765460549&amp;x-signature=vmCdccCOeBD3oa7Rn%2FOiMBfzOXs%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">æ”¯æŒè¯­è¨€</h2>
<p>ä¸­æ–‡ã€ä¿„è¯­ã€å¾·è¯­ã€è‹±è¯­ã€è¥¿ç­ç‰™è¯­ã€æ³•è¯­ã€æ—¥è¯­ã€éŸ©è¯­ã€è‘¡è„ç‰™è¯­ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ff10a347bc141d5a30b3320645c3eb9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765460549&amp;x-signature=s0DcpNqSrLVE4S6OgLkR%2FmqGZ1w%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">å¿«é€Ÿä½¿ç”¨</h2>
<ul>
<li>æ‰¾åˆ°ä¸€ä¸ªçº¯è‹±æ–‡æè¿° README GitHub å¼€æºé¡¹ç›®ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmicrosoft%2Fagent-framework" target="_blank" title="https://github.com/microsoft/agent-framework" ref="nofollow noopener noreferrer">github.com/microsoft/aâ€¦</a></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a2c8f86245fc47288c664171f18a2484~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765460549&amp;x-signature=rtgMw39M1E98Y73EHh0simMOlig%3D" alt="" loading="lazy"/></p>
<p><strong>ä½¿ç”¨ ZDoc å¿«é€ŸæŠŠ README ç¿»è¯‘æˆä¸­æ–‡ï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a8390231ddd4c5db94e4bd9cb20b169~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765460549&amp;x-signature=IcQI4hBMCNW0sUj4Gwbfnw5E3m0%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df8779ac34cd43e292cc05fa6f5c5722~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765460549&amp;x-signature=JAidhtsCHKds5X1hNPAmgivpVJs%3D" alt="" loading="lazy"/></p>
<p><strong>ä¸‹è½½ä¸­æ–‡ README Markdown æ–‡ä»¶ï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/86fe4c5255954a40958239afb212fa58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765460549&amp;x-signature=IlFbOfiKZZoC7Bgi4ArJVcNJbuI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">æ›´å¤š GitHub ä½¿ç”¨æŒ‡å—</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FYSGStudyHards%2FDotNetGuide" target="_blank" title="https://github.com/YSGStudyHards/DotNetGuide" ref="nofollow noopener noreferrer">github.com/YSGStudyHarâ€¦</a></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/65301710fd304c489c6ae1a4031d474d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765460549&amp;x-signature=vsjqQdIsulIFMFXCC9TxChvPCkw%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Alias Assistantï¼šæ–°ä¸€ä»£ macOS Shell åˆ«åç®¡ç†è§£å†³æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7579846221167165494</link>    <guid>https://juejin.cn/post/7579846221167165494</guid>    <pubDate>2025-12-04T14:00:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579846221167165494" data-draft-id="7579846221167132726" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Alias Assistantï¼šæ–°ä¸€ä»£ macOS Shell åˆ«åç®¡ç†è§£å†³æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="å‰ç«¯,å‰ç«¯å·¥ç¨‹åŒ–"/> <meta itemprop="datePublished" content="2025-12-04T14:00:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°é‘«åŒå­¦"/> <meta itemprop="url" content="https://juejin.cn/user/3966693685871694"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Alias Assistantï¼šæ–°ä¸€ä»£ macOS Shell åˆ«åç®¡ç†è§£å†³æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3966693685871694/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°é‘«åŒå­¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T14:00:18.000Z" title="Thu Dec 04 2025 14:00:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>å†…å®¹æ¥è‡ªï¼šNotebookLM å¯¹ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FOSpoon%2Falias-assistant" target="_blank" title="https://github.com/OSpoon/alias-assistant" ref="nofollow noopener noreferrer">Alias-Assistant</a> é¡¹ç›®åˆ†æåè‡ªåŠ¨ç”Ÿæˆ</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55db3d453aba4df59d730d44493c1e77~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6ZGr5ZCM5a2m:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765461618&amp;x-signature=9EmqCMs8fw4u%2BT934uwtE%2BAG6tE%3D" alt="unnamed.png" loading="lazy"/></p>
<h2 data-id="heading-0">1.0 å¼•è¨€ï¼šæå‡å‘½ä»¤è¡Œæ•ˆç‡çš„ç°ä»£åŒ–é€”å¾„</h2>
<p>åœ¨ç°ä»£è½¯ä»¶å¼€å‘ã€ç³»ç»Ÿè¿ç»´ä¸æ•°æ®ç§‘å­¦é¢†åŸŸï¼Œå‘½ä»¤è¡Œï¼ˆShellï¼‰å§‹ç»ˆæ˜¯ä¸å¯æˆ–ç¼ºçš„æ ¸å¿ƒå·¥å…·ã€‚å®ƒä¸ºä¸“ä¸šæŠ€æœ¯äººå‘˜æä¾›äº†æ— ä¸ä¼¦æ¯”çš„å¼ºå¤§èƒ½åŠ›ä¸çµæ´»æ€§ã€‚ä¸ºäº†è¿›ä¸€æ­¥æå‡æ•ˆç‡ï¼Œå¼€å‘è€…æ™®éé‡‡ç”¨ Shell åˆ«åï¼ˆaliasï¼‰æœºåˆ¶ï¼Œå°†å†—é•¿ã€å¤æ‚çš„å‘½ä»¤ç®€åŒ–ä¸ºæ˜“äºè®°å¿†çš„çŸ­è¯­ã€‚ç„¶è€Œï¼Œéšç€é¡¹ç›®å¤æ‚åº¦çš„å¢åŠ å’Œå·¥å…·é“¾çš„æ‰©å±•ï¼Œåˆ«åçš„æ•°é‡æ€¥å‰§å¢é•¿ï¼Œä¼ ç»Ÿçš„ç®¡ç†æ–¹å¼å·²æˆä¸ºåˆ¶çº¦å¼€å‘è€…æ•ˆç‡çš„æ˜¾è‘—ç“¶é¢ˆã€‚å¼€å‘è€…æ™®éé¢ä¸´ç€è®°å¿†æˆæœ¬é«˜ã€ç®¡ç†æµç¨‹ç¹çã€è·¨è®¾å¤‡åŒæ­¥å›°éš¾ç­‰æŒ‘æˆ˜ã€‚</p>
<p>ä¸ºäº†åº”å¯¹è¿™äº›ç—›ç‚¹ï¼ŒAlias Assistant åº”è¿è€Œç”Ÿã€‚å®ƒæ˜¯ä¸€æ¬¾ä¸“ä¸º macOSï¼ˆApple Siliconï¼‰å¹³å°è®¾è®¡çš„ç°ä»£åŒ– Shell åˆ«åç®¡ç†è§£å†³æ–¹æ¡ˆã€‚å®ƒé€šè¿‡ç›´è§‚çš„å›¾å½¢ç”¨æˆ·ç•Œé¢ã€é«˜æ•ˆçš„æ“ä½œæµç¨‹ä»¥åŠå°†æ•°æ®æ§åˆ¶æƒå®Œå…¨äº¤è¿˜ç»™ç”¨æˆ·çš„è®¾è®¡ç†å¿µï¼Œæ—¨åœ¨ä»æ ¹æœ¬ä¸Šé©æ–°å¼€å‘è€…ç®¡ç†å’Œä½¿ç”¨ Shell åˆ«åçš„æ–¹å¼ï¼Œä½¿å…¶æˆä¸ºä¸€ç§å®‰å…¨ã€é«˜æ•ˆä¸”æ„‰æ‚¦çš„ä½“éªŒã€‚</p>
<p>ä¸‹ä¸€ç« èŠ‚å°†æ·±å…¥å‰–æä¼ ç»Ÿåˆ«åç®¡ç†æ–¹å¼æ‰€å›ºæœ‰çš„å…·ä½“é—®é¢˜ï¼Œä»¥å‡¸æ˜¾å¼•å…¥æ–°å‹è§£å†³æ–¹æ¡ˆçš„å¿…è¦æ€§ã€‚</p>
<h2 data-id="heading-1">2.0 æŒ‘æˆ˜ï¼šä¼ ç»Ÿ Shell åˆ«åç®¡ç†çš„å›ºæœ‰ç“¶é¢ˆ</h2>
<p>åœ¨å¼•å…¥æ–°å·¥å…·ä¹‹å‰ï¼Œå®¡è§†å¹¶ç†è§£ç°æœ‰å·¥ä½œæµç¨‹ä¸­çš„ä¸è¶³è‡³å…³é‡è¦ã€‚è¿™ä¸ä»…èƒ½æ­ç¤ºå˜é©çš„å¿…è¦æ€§ï¼Œä¹Ÿèƒ½ä¸ºè¯„ä¼°è§£å†³æ–¹æ¡ˆçš„ä»·å€¼æä¾›æ¸…æ™°çš„åŸºå‡†ã€‚ä¼ ç»Ÿçš„ Shell åˆ«åç®¡ç†ï¼Œé€šå¸¸ä¾èµ–äºå¼€å‘è€…æ‰‹åŠ¨ç¼–è¾‘ <code>.zshrc</code>ã€<code>.bash_profile</code> ç­‰çº¯æ–‡æœ¬é…ç½®æ–‡ä»¶ï¼Œè¿™ä¸€å®è·µè™½ç„¶åŸºç¡€ï¼Œå´æ½œè—ç€å››å¤§æ ¸å¿ƒç—›ç‚¹ï¼š</p>
<ul>
<li><strong>é«˜å­¦ä¹ ä¸è®°å¿†æˆæœ¬</strong> å½“åˆ«åæ•°é‡ç´¯ç§¯åˆ°æ•°åç”šè‡³ä¸Šç™¾ä¸ªæ—¶ï¼Œå®Œå…¨ä¾èµ–äººè„‘è®°å¿†å˜å¾—ä¸åˆ‡å®é™…ã€‚å¼€å‘è€…éœ€è¦é¢‘ç¹åœ°æ‰“å¼€é…ç½®æ–‡ä»¶æŸ¥æ‰¾æˆ–å›é¡¾ï¼Œè¿™ä¸ä»…æ‰“æ–­äº†å·¥ä½œå¿ƒæµï¼Œä¹Ÿå¯¹è®¤çŸ¥é€ æˆäº†æŒç»­çš„è´Ÿæ‹…ï¼Œå°¤å…¶å¯¹äºæ–°åŠ å…¥å›¢é˜Ÿçš„æˆå‘˜è€Œè¨€ï¼Œå­¦ä¹ å’Œé€‚åº”è¿™å¥—â€œéšæ€§çŸ¥è¯†â€çš„æˆæœ¬æ›´é«˜ã€‚</li>
<li><strong>ä½æ•ˆçš„ç®¡ç†æµç¨‹</strong> åœ¨çº¯æ–‡æœ¬æ–‡ä»¶ä¸­è¿›è¡Œåˆ«åçš„å¢ã€åˆ ã€æ”¹ã€æŸ¥æ“ä½œï¼Œæµç¨‹æä¸ºç¹çä¸”å®¹æ˜“å‡ºé”™ã€‚ç¼ºä¹ç»“æ„åŒ–çš„è§†å›¾å’Œæœç´¢åŠŸèƒ½ï¼Œä½¿å¾—å®šä½ç‰¹å®šåˆ«åå¦‚åŒå¤§æµ·æé’ˆã€‚åŒæ—¶ï¼Œæ‰‹åŠ¨ç¼–è¾‘ææ˜“å¼•å…¥è¯­æ³•é”™è¯¯ï¼Œå¯èƒ½å¯¼è‡´æ•´ä¸ª Shell ç¯å¢ƒåŠ è½½å¤±è´¥ï¼Œä¸ºæ’æŸ¥é—®é¢˜å¸¦æ¥é¢å¤–çš„æ—¶é—´å¼€é”€ã€‚</li>
<li><strong>ç¼ºä¹å¯ç§»æ¤æ€§</strong> åœ¨å¤šå°è®¾å¤‡ï¼ˆä¾‹å¦‚å…¬å¸çš„ Mac å’Œä¸ªäººç¬”è®°æœ¬ï¼‰ä¹‹é—´ä¿æŒåˆ«åé…ç½®çš„åŒæ­¥æ˜¯ä¸€é¡¹è‰°å·¨çš„æŒ‘æˆ˜ã€‚å¼€å‘è€…é€šå¸¸éœ€è¦é€šè¿‡æ‰‹åŠ¨å¤åˆ¶ç²˜è´´ã€ç‰ˆæœ¬æ§åˆ¶å·¥å…·æˆ–å…¶ä»–åŒæ­¥æœåŠ¡æ¥ç»´æŠ¤ä¸€è‡´æ€§ï¼Œè¿™äº›æ–¹æ³•ä¸ä»…æ“ä½œå¤æ‚ï¼Œè€Œä¸”éš¾ä»¥ä¿è¯å®æ—¶æ€§å’Œå‡†ç¡®æ€§ï¼Œå¸¸å¸¸å¯¼è‡´ç¯å¢ƒä¸ä¸€è‡´çš„é—®é¢˜ã€‚</li>
<li><strong>æ½œåœ¨çš„å®‰å…¨é£é™©</strong> é…ç½®æ–‡ä»¶æ˜¯ Shell ç¯å¢ƒå®‰å…¨çš„å…³é”®ä¸€ç¯ã€‚è‹¥æƒé™ç®¡ç†ä¸å½“ï¼Œå¯èƒ½è¢«æ¶æ„ç¨‹åºç¯¡æ”¹ï¼›è€Œæ¥è·¯ä¸æ˜çš„é…ç½®è„šæœ¬æˆ–åˆ«åç‰‡æ®µï¼Œåˆ™å¯èƒ½åŒ…å«æ‰§è¡Œæ¶æ„ä»£ç çš„å‘½ä»¤ï¼Œç»™ç”¨æˆ·ç³»ç»Ÿå’Œæ•°æ®å¸¦æ¥å®‰å…¨éšæ‚£ã€‚</li>
</ul>
<p>è¿™äº›æ ¹æ·±è’‚å›ºçš„ç“¶é¢ˆï¼Œå…±åŒé™åˆ¶äº†å‘½ä»¤è¡Œå·¥å…·çš„æ•ˆç‡æ½œåŠ›ã€‚æ­£æ˜¯ä¸ºäº†ç³»ç»Ÿæ€§åœ°è§£å†³è¿™äº›é—®é¢˜ï¼ŒAlias Assistant æä¾›äº†å…¨æ–°çš„æ€è·¯ä¸æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-2">3.0 è§£å†³æ–¹æ¡ˆï¼šAlias Assistant æ ¸å¿ƒä»·å€¼ä¸»å¼ </h2>
<p>Alias Assistant çš„æ ¸å¿ƒè®¾è®¡ç†å¿µæ˜¯ç›´é¢ä¼ ç»Ÿåˆ«åç®¡ç†çš„æŒ‘æˆ˜ï¼Œé€šè¿‡ç°ä»£åŒ–çš„è½¯ä»¶å·¥ç¨‹å®è·µï¼Œæä¾›ä¸€ä¸ªé›†é«˜æ•ˆã€å®‰å…¨ã€ä¾¿æ·äºä¸€ä½“çš„è§£å†³æ–¹æ¡ˆã€‚å®ƒå¹¶éç®€å•åœ°æ›¿ä»£æ–‡æœ¬ç¼–è¾‘ï¼Œè€Œæ˜¯ä»æ ¹æœ¬ä¸Šé‡å¡‘äº†åˆ«åç®¡ç†çš„å·¥ä½œæµã€‚å…¶æ ¸å¿ƒä»·å€¼ä¸»å¼ ä½“ç°åœ¨ä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢ï¼š</p>
<p><code>æ•ˆç‡æå‡ä¸å·¥ä½œæµç®€åŒ–</code> Alias Assistant å°†ç¹ççš„æ–‡æœ¬ç¼–è¾‘æ“ä½œè½¬å˜ä¸ºç›´è§‚çš„å›¾å½¢åŒ–ç•Œé¢äº¤äº’ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡å¿«é€Ÿæœç´¢åŠŸèƒ½åœ¨æ•°ç§’å†…å®šä½åˆ°æ‰€éœ€åˆ«åï¼Œé€šè¿‡â€œä¸€é”®å¤åˆ¶â€æˆ–â€œæ‰“å¼€æ–°ç»ˆç«¯â€ç­‰åŠŸèƒ½ï¼Œæå¤§åœ°å‡å°‘äº†ä»â€œæƒ³åˆ°â€åˆ°â€œæ‰§è¡Œâ€çš„è·¯å¾„ã€‚è¿™ç§æ— ç¼çš„ä½“éªŒæœ€å¤§é™åº¦åœ°å‡å°‘äº†ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œè®©å¼€å‘è€…èƒ½å°†æ›´å¤šç²¾åŠ›èšç„¦äºæ ¸å¿ƒä»»åŠ¡æœ¬èº«ï¼Œä»è€Œæ˜¾è‘—æå‡æ—¥å¸¸å·¥ä½œæ•ˆç‡ã€‚</p>
<p><code>æ•°æ®ä¸»æƒä¸å®‰å…¨æ€§</code> åœ¨ä¼ä¸šç¯å¢ƒä¸­ï¼Œæ•°æ®å®‰å…¨ä¸éšç§æ˜¯ä¸å¯é€¾è¶Šçš„çº¢çº¿ã€‚Alias Assistant çš„ä¸€ä¸ªå…³é”®ç‰¹æ€§æ˜¯<strong>æœ¬åœ°å­˜å‚¨</strong>ã€‚æ‰€æœ‰åˆ«åæ•°æ®å‡å®‰å…¨åœ°å­˜å‚¨åœ¨ç”¨æˆ·æœ¬åœ°è®¾å¤‡ä¸Šï¼Œåº”ç”¨æœ¬èº«ä¸è¿›è¡Œä»»ä½•å½¢å¼çš„ç½‘ç»œæ•°æ®ä¼ è¾“æˆ–äº‘ç«¯åŒæ­¥ã€‚è¿™æ„å‘³ç€ç”¨æˆ·å¯¹è‡ªå·±çš„æ•°æ®æ‹¥æœ‰ç»å¯¹çš„æ§åˆ¶æƒï¼Œå®Œå…¨æœç»äº†å› äº‘æœåŠ¡æ•…éšœæˆ–æ•°æ®æ³„éœ²è€Œå¸¦æ¥çš„é£é™©ï¼Œå®Œç¾å¥‘åˆä¼ä¸šå¯¹æ•°æ®å®‰å…¨ä¸åˆè§„æ€§çš„ä¸¥æ ¼è¦æ±‚ã€‚</p>
<p><code>ä¾¿æ·çš„è¿ç§»ä¸å¤‡ä»½</code> é’ˆå¯¹ä¼ ç»Ÿæ–¹å¼ä¸­é…ç½®éš¾ä»¥ç§»æ¤çš„ç—›ç‚¹ï¼ŒAlias Assistant æä¾›äº†ç®€å•æ˜“ç”¨çš„å¯¼å…¥ä¸å¯¼å‡ºåŠŸèƒ½ã€‚ç”¨æˆ·å¯ä»¥éšæ—¶å°†æ‰€æœ‰åˆ«åé…ç½®å¯¼å‡ºä¸ºä¸€ä¸ªæ ‡å‡†çš„ <code>.sh</code> æ–‡ä»¶è¿›è¡Œå¤‡ä»½ï¼Œæˆ–åœ¨å¤šå°è®¾å¤‡é—´è½»æ¾è¿ç§»ã€‚è¿™ä¸€åŠŸèƒ½å¯¹äºå›¢é˜Ÿå®ç°æ ‡å‡†åŒ–é…ç½®ã€æ–°å‘˜å·¥å¿«é€Ÿå…¥èŒä»¥åŠç³»ç»Ÿé‡è£…åçš„ç¯å¢ƒæ¢å¤ç­‰åœºæ™¯ï¼Œéƒ½å…·æœ‰æé«˜çš„å®ç”¨ä»·å€¼ã€‚</p>
<p>ç»¼ä¸Šæ‰€è¿°ï¼ŒAlias Assistant å°†è‡ªèº«å®šä½ä¸ºä¸€ä¸ªä¸“æ³¨äºæå‡å‘½ä»¤è¡Œæ•ˆç‡ã€åŒæ—¶é«˜åº¦é‡è§†æ•°æ®å®‰å…¨çš„ä¸“ä¸šå·¥å…·ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è§£æå…¶åº•å±‚æŠ€æœ¯æ¶æ„ï¼Œä»¥å±•ç¤ºå…¶å¯é æ€§çš„æ ¹åŸºã€‚</p>
<h2 data-id="heading-3">4.0 æŠ€æœ¯æ¶æ„è§£æ</h2>
<p>ç†è§£ä¸€æ¬¾å·¥å…·çš„æŠ€æœ¯æ¶æ„ï¼Œæ˜¯è¯„ä¼°å…¶æ€§èƒ½ã€å®‰å…¨æ€§ä¸é•¿æœŸå¯ç»´æŠ¤æ€§çš„å…³é”®ã€‚Alias Assistant é‡‡ç”¨äº†ç»è¿‡éªŒè¯çš„ç°ä»£åŒ–æŠ€æœ¯æ ˆï¼Œæ—¨åœ¨å®ç°åŸç”Ÿåº”ç”¨çš„æ€§èƒ½ä½“éªŒä¸ Web æŠ€æœ¯çš„å¼€å‘æ•ˆç‡ä¹‹é—´çš„æœ€ä½³å¹³è¡¡ã€‚</p>
<p>å…¶æ ¸å¿ƒæŠ€æœ¯ç»„ä»¶åŠå…¶åœ¨åº”ç”¨ä¸­æ‰®æ¼”çš„è§’è‰²å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>





















<table><thead><tr><th>æŠ€æœ¯ç»„ä»¶</th><th>æ ¸å¿ƒä½œç”¨ä¸ä¼˜åŠ¿</th></tr></thead><tbody><tr><td><strong>Tauri (Rust åç«¯)</strong></td><td>ä½œä¸ºåº”ç”¨çš„æ ¸å¿ƒæ¡†æ¶ï¼ŒTauri åˆ©ç”¨ Rust è¯­è¨€æ„å»ºåº”ç”¨çš„åç«¯é€»è¾‘ã€‚è¿™å¸¦æ¥äº†ä¸¤å¤§æ ¸å¿ƒä¼˜åŠ¿ï¼šé¦–å…ˆï¼ŒRust çš„å†…å­˜å®‰å…¨ä¿éšœæœºåˆ¶ä»æ ¹æœ¬ä¸Šæœç»äº†è®¸å¤šå¸¸è§çš„å®‰å…¨æ¼æ´ï¼›å…¶æ¬¡ï¼Œç¼–è¯‘åçš„åº”ç”¨å®ç°äº†æ¥è¿‘åŸç”Ÿçš„æ€§èƒ½ï¼Œèµ„æºå ç”¨æä½ï¼Œç¡®ä¿äº†æµç•…çš„ç”¨æˆ·ä½“éªŒã€‚</td></tr><tr><td><strong>Vue + TypeScript (å‰ç«¯)</strong></td><td>åº”ç”¨çš„ç”¨æˆ·ç•Œé¢ç”±ä¸šç•Œä¸»æµçš„ Vue.js æ¡†æ¶å’Œ TypeScript è¯­è¨€æ„å»ºã€‚Vue æä¾›äº†é«˜æ•ˆçš„ç»„ä»¶åŒ–å¼€å‘èƒ½åŠ›ï¼Œè€Œ TypeScript åˆ™é€šè¿‡é™æ€ç±»å‹æ£€æŸ¥ï¼Œç¡®ä¿äº†ä»£ç çš„å¥å£®æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œå…±åŒæ‰“é€ äº†ä¸€ä¸ªå“åº”è¿…é€Ÿä¸”ç±»å‹å®‰å…¨çš„ç”¨æˆ·ç•Œé¢ã€‚</td></tr><tr><td><strong>Tailwind CSS</strong></td><td>é€šè¿‡å…¶åŸå­åŒ–çš„ CSS ç±»ï¼Œå®ç°äº†é«˜åº¦å¯å®šåˆ¶ã€ä¸€è‡´æ€§å¼ºä¸”å“åº”å¼çš„ç•Œé¢è®¾è®¡ã€‚å®ƒæå¤§åœ°æå‡äº† UI å¼€å‘æ•ˆç‡ï¼Œæ˜¯ Alias Assistant æ‹¥æœ‰ç®€æ´ã€ç°ä»£åŒ–è§†è§‰é£æ ¼çš„å…³é”®æŠ€æœ¯ã€‚</td></tr></tbody></table>
<p>é¡¹ç›®çš„ä»£ç åº“æ„æˆï¼Œä¹Ÿä»é‡åŒ–è§’åº¦éªŒè¯äº†è¿™ä¸€æŠ€æœ¯é€‰å‹ã€‚å…¶ä¸­ï¼ŒVue å æ¯” 45.5%ï¼ŒTypeScript å æ¯” 9.5%ï¼Œå…±åŒæ„æˆäº†åŠŸèƒ½ä¸°å¯Œçš„ç°ä»£åŒ–å‰ç«¯ï¼›è€Œå æ¯” 17.3% çš„ Rust ä»£ç ï¼Œåˆ™ä»£è¡¨äº†å…¶åšå®ä¸”æ€§èƒ½æ”¸å…³çš„åç«¯æ ¸å¿ƒã€‚è¿™ä¸€åˆ†å¸ƒæ¸…æ™°åœ°å±•ç°äº†ä¸€ä¸ªä»¥å‰ç«¯ä½“éªŒä¸ºå¯¼å‘ã€ä»¥åç«¯å®‰å…¨æ€§èƒ½ä¸ºä¿éšœçš„æˆç†Ÿæ¶æ„ã€‚</p>
<p><strong>æ¶æ„æ€»ç»“</strong></p>
<p>è¯¥æŠ€æœ¯é€‰å‹ä½“ç°äº†å¯¹æ€§èƒ½ã€å®‰å…¨å’Œå¼€å‘ä½“éªŒçš„å…¨é¢è€ƒé‡ã€‚Tauri ä¸ Rust çš„ç»„åˆä¸ºåº”ç”¨æä¾›äº†åšå®ã€å®‰å…¨çš„åŸç”Ÿåº•å±‚ï¼Œè€Œ Vueã€TypeScript å’Œ Tailwind CSS åˆ™ä¿è¯äº†å‰ç«¯ç•Œé¢çš„ç°ä»£åŒ–ä¸é«˜è´¨é‡ã€‚è¿™ç§æ¶æ„å…±åŒæ„å»ºäº†ä¸€ä¸ªå¯é ã€é«˜æ•ˆä¸”æ˜“äºç»´æŠ¤çš„è§£å†³æ–¹æ¡ˆï¼Œèƒ½å¤Ÿä¸ºç”¨æˆ·æä¾›ç¨³å®šã€æµç•…çš„é•¿æœŸæœåŠ¡ã€‚</p>
<p>åœ¨äº†è§£äº†å…¶åšå®çš„æŠ€æœ¯æ¶æ„ä¹‹åï¼Œä¸‹ä¸€ç« èŠ‚å°†è¯¦ç»†å±•ç¤ºå…¶ä¸ºç”¨æˆ·å¸¦æ¥çš„ä¸°å¯ŒåŠŸèƒ½ä¸ä¸šåŠ¡ä»·å€¼ã€‚</p>
<h2 data-id="heading-4">5.0 æ ¸å¿ƒåŠŸèƒ½ä¸ä¸šåŠ¡ä»·å€¼åˆ†æ</h2>
<p>æœ¬ç« èŠ‚å°†æ·±å…¥åˆ†æ Alias Assistant çš„å„é¡¹æ ¸å¿ƒåŠŸèƒ½ï¼Œå¹¶å°†å…¶ä¸ä¼ä¸šå’Œå¼€å‘è€…åœ¨å®é™…å·¥ä½œä¸­è·å¾—çš„å…·ä½“ä¸šåŠ¡ä»·å€¼ç›¸å…³è”ï¼Œè€Œéç®€å•åœ°ç½—åˆ—åŠŸèƒ½æ¸…å•ã€‚</p>
<h3 data-id="heading-5">é«˜æ•ˆçš„åˆ«åæ“ä½œ</h3>
<ul>
<li>
<p><strong>ä¸€é”®å¤åˆ¶ä¸ç»ˆç«¯é›†æˆ</strong></p>
<ul>
<li><strong>åŠŸèƒ½æè¿°</strong>ï¼šç”¨æˆ·åªéœ€å•å‡»åˆ—è¡¨ä¸­çš„ä»»æ„åˆ«åé¡¹ï¼Œå…¶åç§°ä¾¿ä¼šè‡ªåŠ¨å¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚ç‚¹å‡»æ—è¾¹çš„ "Terminal" æŒ‰é’®ï¼Œåˆ™ä¼šç›´æ¥æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯çª—å£å¹¶ç²˜è´´è¯¥åˆ«åï¼Œå‡†å¤‡æ‰§è¡Œã€‚</li>
<li><strong>ä¸šåŠ¡ä»·å€¼</strong>ï¼šæ­¤åŠŸèƒ½æå¤§åœ°å‡å°‘äº†ç”¨æˆ·çš„æ“ä½œæ­¥éª¤å’Œåœ¨ä¸åŒçª—å£é—´çš„åˆ‡æ¢ã€‚å®ƒå°†å‘½ä»¤æŸ¥æ‰¾ä¸æ‰§è¡Œä¸¤ä¸ªç¯èŠ‚æ— ç¼è¡”æ¥ï¼Œå®ç°äº†çœŸæ­£æ„ä¹‰ä¸Šçš„â€œå³æœå³ç”¨â€ï¼Œåœ¨å¤„ç†é«˜é¢‘é‡å¤æ€§ä»»åŠ¡æ—¶èƒ½èŠ‚çœå¤§é‡æ—¶é—´ã€‚</li>
</ul>
</li>
<li>
<p><strong>å®æ—¶å¿«é€Ÿæœç´¢</strong></p>
<ul>
<li><strong>åŠŸèƒ½æè¿°</strong>ï¼šé¡¶éƒ¨çš„æœç´¢æ¡†æä¾›å®æ—¶è¿‡æ»¤åŠŸèƒ½ã€‚ç”¨æˆ·åªéœ€è¾“å…¥å…³é”®è¯ï¼Œåˆ«ååˆ—è¡¨ä¼šå³æ—¶å“åº”ï¼Œä»…æ˜¾ç¤ºåŒ¹é…çš„ç»“æœã€‚</li>
<li><strong>ä¸šåŠ¡ä»·å€¼</strong>ï¼šå½“åˆ«ååº“å¢é•¿åˆ°ä¸€å®šè§„æ¨¡æ—¶ï¼Œè¯¥åŠŸèƒ½æˆä¸ºæå‡æ•ˆç‡çš„å…³é”®ã€‚å®ƒå°†åŸæœ¬éœ€è¦åœ¨æ–‡æœ¬æ–‡ä»¶ä¸­æ»šåŠ¨æŸ¥æ‰¾çš„ä½æ•ˆè¡Œä¸ºï¼Œè½¬å˜ä¸ºç²¾ç¡®ã€ç¬æ—¶çš„å®šä½æ“ä½œï¼Œç¡®ä¿å¼€å‘è€…æ€»èƒ½ä»¥æœ€å¿«é€Ÿåº¦æ‰¾åˆ°æ‰€éœ€å‘½ä»¤ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-6">ä¾¿æ·çš„é…ç½®ç®¡ç†</h3>
<ul>
<li>
<p><strong>å¯¼å…¥/å¯¼å‡ºåŠŸèƒ½</strong></p>
<ul>
<li><strong>åŠŸèƒ½æè¿°</strong>ï¼šæ”¯æŒå°†æ‰€æœ‰åˆ«åå¯¼å‡ºä¸ºæ ‡å‡†çš„ <code>.sh</code> æ–‡ä»¶ï¼Œä¹Ÿæ”¯æŒä» <code>.sh</code> æ–‡ä»¶å¯¼å…¥é…ç½®ã€‚å¯¼å…¥æ—¶ï¼Œå¦‚æœé‡åˆ°åŒååˆ«åï¼Œæ–°å¯¼å…¥çš„é…ç½®ä¼šè¦†ç›–ç°æœ‰é…ç½®ã€‚</li>
<li><strong>ä¸šåŠ¡ä»·å€¼</strong>ï¼šæ­¤åŠŸèƒ½å…·æœ‰é‡è¦çš„æˆ˜ç•¥ä»·å€¼ã€‚å¯¹äºå›¢é˜Ÿè€Œè¨€ï¼Œå®ƒå¯ä»¥ä½œä¸ºåˆ†å‘å’ŒåŒæ­¥æ ‡å‡†æ“ä½œè§„èŒƒï¼ˆSOPï¼‰çš„è½½ä½“ï¼Œç¡®ä¿å›¢é˜Ÿæˆå‘˜ä½¿ç”¨ç»Ÿä¸€çš„å‘½ä»¤é›†ï¼›å¯¹äºæ–°å‘˜å·¥å…¥èŒæˆ–æ›´æ¢è®¾å¤‡ç­‰åœºæ™¯ï¼Œå®ƒèƒ½å®ç°ä¸€é”®å¼ç¯å¢ƒè¿ç§»ï¼Œå¤§å¹…é™ä½é…ç½®æˆæœ¬ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¯è§†åŒ–å¢åˆ </strong></p>
<ul>
<li><strong>åŠŸèƒ½æè¿°</strong>ï¼šé€šè¿‡ç•Œé¢å³ä¸‹è§’çš„ "+" æŒ‰é’®å’Œæ¯è¡Œåˆ«ååçš„ "Delete" æŒ‰é’®ï¼Œç”¨æˆ·å¯ä»¥ç›´è§‚åœ°æ·»åŠ æˆ–åˆ é™¤åˆ«åï¼Œæ— éœ€æ¥è§¦ä»»ä½•é…ç½®æ–‡ä»¶ã€‚</li>
<li><strong>ä¸šåŠ¡ä»·å€¼</strong>ï¼šä¸ä¼ ç»Ÿçš„å‘½ä»¤è¡Œæˆ–æ–‡æœ¬ç¼–è¾‘ç›¸æ¯”ï¼ŒGUI æ“ä½œçš„ä½“éªŒæ›´å‹å¥½ï¼Œå‡ºé”™ç‡æ›´ä½ã€‚è¿™é™ä½äº†ä½¿ç”¨é—¨æ§›ï¼Œå³ä½¿æ˜¯å¯¹ Shell é…ç½®ä¸å¤ªç†Ÿæ‚‰çš„ç”¨æˆ·ä¹Ÿèƒ½è½»æ¾ç®¡ç†è‡ªå·±çš„åˆ«åï¼Œæå‡äº†å·¥å…·çš„æ™®é€‚æ€§ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-7">ä¸ªæ€§åŒ–ä¸ç”¨æˆ·ä½“éªŒ</h3>
<ul>
<li>
<p><strong>å¤šä¸»é¢˜åˆ‡æ¢</strong></p>
<ul>
<li><strong>åŠŸèƒ½æè¿°</strong>ï¼šåº”ç”¨å†…ç½® 4 æ¬¾ä¸åŒé£æ ¼çš„ä¸»é¢˜ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®ä¸ªäººåå¥½åœ¨è®¾ç½®ä¸­éšæ—¶åˆ‡æ¢ï¼Œé€‰æ‹©ä¼šè‡ªåŠ¨ä¿å­˜ã€‚</li>
<li><strong>ä¸šåŠ¡ä»·å€¼</strong>ï¼šè™½ç„¶è¿™æ˜¯ä¸€ä¸ªä½“éªŒå±‚é¢çš„åŠŸèƒ½ï¼Œä½†å®ƒä½“ç°äº†äº§å“å¯¹ç”¨æˆ·ä¸ªæ€§åŒ–éœ€æ±‚çš„å°Šé‡ã€‚ä¸€ä¸ªèˆ’é€‚çš„è§†è§‰ç¯å¢ƒæœ‰åŠ©äºæå‡ç”¨æˆ·çš„é•¿æ—¶é—´ä½¿ç”¨æ„æ„¿å’Œå·¥ä½œæ»¡æ„åº¦ã€‚</li>
</ul>
</li>
<li>
<p><strong>åº”ç”¨å†…æ›´æ–°æ£€æŸ¥</strong></p>
<ul>
<li><strong>åŠŸèƒ½æè¿°</strong>ï¼šç”¨æˆ·å¯ä»¥åœ¨è®¾ç½®ä¸­æ‰‹åŠ¨æ£€æŸ¥åº”ç”¨æ›´æ–°ï¼Œå¹¶ä¸€é”®å®Œæˆæ–°ç‰ˆæœ¬çš„å®‰è£…ã€‚</li>
<li><strong>ä¸šåŠ¡ä»·å€¼</strong>ï¼šè¿™ç®€åŒ–äº†è½¯ä»¶çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚ç”¨æˆ·æ— éœ€é¢‘ç¹è®¿é—®é¡¹ç›®ä¸»é¡µæˆ–æ‰‹åŠ¨ä¸‹è½½å®‰è£…åŒ…ï¼Œç¡®ä¿èƒ½åŠæ—¶è·å–æœ€æ–°çš„åŠŸèƒ½æ”¹è¿›å’Œé‡è¦çš„å®‰å…¨ä¿®å¤ï¼Œé™ä½äº†åº”ç”¨çš„ç»´æŠ¤æˆæœ¬ã€‚</li>
</ul>
</li>
</ul>
<p>è¿™äº›ç²¾å¿ƒè®¾è®¡çš„åŠŸèƒ½å…±åŒæ„æˆäº†ä¸€ä¸ªæ— ç¼ã€é«˜æ•ˆçš„å·¥ä½œæµã€‚åœ¨ç¡®ä¿æè‡´æ•ˆç‡çš„åŒæ—¶ï¼Œä¼ä¸šç”¨æˆ·æœ€ä¸ºå…³å¿ƒçš„å®‰å…¨æ€§é—®é¢˜ï¼ŒAlias Assistant ä¹Ÿç»™å‡ºäº†æ˜ç¡®çš„ç­”æ¡ˆã€‚</p>
<h2 data-id="heading-8">6.0 å®‰å…¨æ€§ä¸æ•°æ®å¯æ§æ€§åˆ†æ</h2>
<p>å¯¹äºä»»ä½•å¸Œæœ›åœ¨ä¼ä¸šç¯å¢ƒä¸­éƒ¨ç½²çš„å·¥å…·è€Œè¨€ï¼Œå…¶å®‰å…¨æ€§å’Œæ•°æ®çš„å¯æ§æ€§æ˜¯è¯„ä¼°ä¸é‡‡çº³å†³ç­–çš„é¦–è¦æ ‡å‡†ã€‚Alias Assistant åœ¨è®¾è®¡ä¹‹åˆå°±å°†è¿™äº›è¦ç´ ç½®äºæœ€é«˜ä¼˜å…ˆçº§ï¼Œä¸ºä¼ä¸šç”¨æˆ·æä¾›äº†åšå®å¯é çš„å®‰å…¨ä¿éšœã€‚</p>
<h4 data-id="heading-9">æœ¬åœ°å­˜å‚¨ï¼Œæ•°æ®å®Œå…¨æŒæ§</h4>
<p>Alias Assistant çš„æ ¸å¿ƒå®‰å…¨åŸºçŸ³åœ¨äºå…¶çº¯ç²¹çš„<strong>æœ¬åœ°å­˜å‚¨æ¨¡å‹</strong>ã€‚æ‰€æœ‰çš„åˆ«åæ•°æ®ï¼ŒåŒ…æ‹¬åç§°å’Œå¯¹åº”çš„å‘½ä»¤ï¼Œéƒ½ä»…å­˜å‚¨åœ¨ç”¨æˆ·è‡ªå·±çš„è®¾å¤‡æ–‡ä»¶ç³»ç»Ÿä¸­ã€‚åº”ç”¨åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¸ä¼šå‘èµ·ä»»ä½•å°†ç”¨æˆ·æ•°æ®ä¸Šä¼ è‡³å¤–éƒ¨æœåŠ¡å™¨çš„ç½‘ç»œè¯·æ±‚ã€‚è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li><strong>æ— æ•°æ®æ³„éœ²é£é™©</strong>ï¼šç”±äºæ•°æ®ä»æœªç¦»å¼€ç”¨æˆ·çš„è®¾å¤‡ï¼Œå› æ­¤ä»æ ¹æœ¬ä¸Šæœç»äº†å› äº‘æœåŠ¡å•†å®‰å…¨æ¼æ´ã€ç½‘ç»œä¼ è¾“è¢«çªƒå¬æˆ–æœåŠ¡å™¨é…ç½®é”™è¯¯å¯¼è‡´çš„æ•°æ®æ³„éœ²é£é™©ã€‚</li>
<li><strong>ç»å¯¹çš„æ•°æ®ä¸»æƒ</strong>ï¼šç”¨æˆ·å¯¹è‡ªå·±çš„æ•°æ®æ‹¥æœ‰ 100% çš„æ§åˆ¶æƒï¼Œå¯ä»¥éšæ—¶å¤‡ä»½ã€è¿ç§»æˆ–å½»åº•åˆ é™¤ï¼Œæ— éœ€ä¾èµ–ä»»ä½•ç¬¬ä¸‰æ–¹æœåŠ¡ã€‚</li>
<li><strong>æ»¡è¶³åˆè§„æ€§è¦æ±‚</strong>ï¼šå¯¹äºé‡‘èã€åŒ»ç–—ç­‰å—ä¸¥æ ¼æ•°æ®ç›‘ç®¡çš„è¡Œä¸šï¼Œè¿™ç§æœ¬åœ°åŒ–æ¨¡å‹èƒ½å¤Ÿè½»æ¾æ»¡è¶³å…¶å¯¹æ•°æ®é©»ç•™å’Œéšç§ä¿æŠ¤çš„åˆè§„æ€§è¦æ±‚ã€‚</li>
</ul>
<p>ä¸ä¾èµ–äº‘åŒæ­¥çš„è§£å†³æ–¹æ¡ˆç›¸æ¯”ï¼ŒAlias Assistant çš„æœ¬åœ°å­˜å‚¨æ¨¡å‹åœ¨æ•°æ®éšç§å’Œç³»ç»Ÿå¯é æ€§æ–¹é¢æ‹¥æœ‰æ— å¯æ¯”æ‹Ÿçš„ä¼˜åŠ¿ï¼Œé¿å…äº†å› ç½‘ç»œä¸­æ–­æˆ–äº‘æœåŠ¡æ•…éšœå¯¼è‡´çš„å•ç‚¹æ•…éšœé—®é¢˜ã€‚</p>
<h4 data-id="heading-10">å•†ä¸šå‹å¥½çš„å¼€æºè®¸å¯</h4>
<p>Alias Assistant é‡‡ç”¨ <strong>MIT è®¸å¯è¯</strong>è¿›è¡Œå¼€æºã€‚å¯¹äºä¼ä¸šç”¨æˆ·è€Œè¨€ï¼ŒMIT è®¸å¯è¯æ„å‘³ç€æé«˜çš„è‡ªç”±åº¦å’Œå•†ä¸šå‹å¥½æ€§ã€‚å®ƒå…è®¸ä¼ä¸šï¼š</p>
<ul>
<li>è‡ªç”±åœ°ä½¿ç”¨ã€å¤åˆ¶ã€ä¿®æ”¹å’Œåˆ†å‘è½¯ä»¶ã€‚</li>
<li>å°†è¯¥å·¥å…·é›†æˆåˆ°å†…éƒ¨å·¥ä½œæµæˆ–å•†ä¸šäº§å“ä¸­ï¼Œè€Œæ— éœ€æ‹…å¿ƒå¤æ‚çš„è®¸å¯é™åˆ¶æˆ–ç‰ˆç¨è¦æ±‚ã€‚</li>
</ul>
<p>è¿™ç§å¼€æ”¾é€æ˜çš„æ¨¡å¼ï¼Œä¸ä»…è®©ä¼ä¸šå¯ä»¥è‡ªç”±å®¡æŸ¥æºä»£ç ä»¥ç¡®ä¿å®‰å…¨æ€§ï¼Œä¹Ÿä¸ºè¿›è¡Œå†…éƒ¨å®šåˆ¶å’ŒäºŒæ¬¡å¼€å‘æä¾›äº†æ³•å¾‹ä¸Šçš„ä¿éšœã€‚</p>
<p>ç»¼ä¸Šæ‰€è¿°ï¼ŒAlias Assistant çš„æ¶æ„è®¾è®¡å’Œå¼€æºç­–ç•¥å……åˆ†è€ƒè™‘äº†ä¼ä¸šçš„æ ¸å¿ƒå®‰å…¨å…³åˆ‡ï¼Œä½¿å…¶æˆä¸ºä¸€ä¸ªå€¼å¾—ä¿¡èµ–çš„é€‰æ‹©ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é€šè¿‡å‡ ä¸ªå…¸å‹åœºæ™¯ï¼Œå±•ç¤ºå…¶åœ¨å®é™…å·¥ä½œä¸­çš„åº”ç”¨ä»·å€¼ã€‚</p>
<h2 data-id="heading-11">7.0 å…¸å‹åº”ç”¨åœºæ™¯</h2>
<p>ä¸ºäº†æ›´å¥½åœ°ç†è§£ Alias Assistant åœ¨ä¸åŒå·¥ä½œç¯å¢ƒä¸‹çš„å®é™…ä»·å€¼ï¼Œæœ¬èŠ‚å°†æç»˜å…¶åœ¨ä¸‰ä¸ªå…¸å‹ä¸“ä¸šè§’è‰²å’Œå›¢é˜Ÿåä½œä¸­çš„å…·ä½“åº”ç”¨æƒ…æ™¯ã€‚</p>
<ul>
<li><code>ä¸ªäººå¼€å‘è€…æ•ˆç‡æå‡</code> ä¸€ä½ macOS å¼€å‘è€…æ­£åœ¨åŒæ—¶ç»´æŠ¤å¤šä¸ªé¡¹ç›®ã€‚ä»–ä½¿ç”¨ Alias Assistant ç®¡ç†ç€ä¸€ç³»åˆ—å¤æ‚çš„åˆ«åï¼šç”¨äºä¸€é”®å¯åŠ¨å‰ç«¯å’Œåç«¯æœåŠ¡çš„ <code>start-dev</code>ï¼Œç”¨äºè¿è¡Œä»£ç æ ¼å¼åŒ–ä¸é™æ€æ£€æŸ¥çš„ <code>lint-fix</code>ï¼Œä»¥åŠç”¨äºç®€åŒ– Git å¤æ‚æ“ä½œçš„å¿«æ·å‘½ä»¤ï¼Œå¦‚ <code>glog</code>ï¼ˆæ˜¾ç¤ºç¾åŒ–çš„æäº¤å†å²ï¼‰ã€‚é€šè¿‡ Alias Assistant çš„å¿«é€Ÿæœç´¢å’Œç»ˆç«¯é›†æˆï¼Œä»–æ— éœ€å†è®°å¿†è¿™äº›ç¹ççš„å‘½ä»¤ï¼Œä»è€Œèƒ½å¤Ÿå°†æ³¨æ„åŠ›å®Œå…¨é›†ä¸­åœ¨ç¼–ç é€»è¾‘ä¸Šï¼Œå¤§å¹…å‡å°‘äº†æ—¥å¸¸é‡å¤è¾“å…¥æ‰€è€—è´¹çš„æ—¶é—´ã€‚</li>
<li><code>DevOps å›¢é˜Ÿæ ‡å‡†åŒ–æ“ä½œ</code> ä¸€ä¸ª DevOps å›¢é˜Ÿè´Ÿè´£ç®¡ç†å…¬å¸çš„äº‘åŸºç¡€è®¾æ–½ã€‚ä¸ºäº†ç¡®ä¿æ“ä½œçš„ä¸€è‡´æ€§å’Œè§„èŒƒæ€§ï¼Œå›¢é˜Ÿè´Ÿè´£äººé¢„å…ˆå®šä¹‰äº†ä¸€å¥—æ ‡å‡†çš„åˆ«åé…ç½®ï¼Œå¹¶å°†å…¶å¯¼å‡ºä¸º <code>.sh</code> æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶åŒ…å«äº†ç”¨äºå®‰å…¨ç™»å½•ä¸åŒç¯å¢ƒæœåŠ¡å™¨ã€å¿«é€ŸæŸ¥è¯¢ Kubernetes é›†ç¾¤æ—¥å¿—ã€æ‰§è¡Œè‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬ç­‰ä¸€ç³»åˆ—æ ‡å‡†å‘½ä»¤ã€‚æ¯å½“æœ‰æ–°æˆå‘˜åŠ å…¥ï¼Œåªéœ€é€šè¿‡ Alias Assistant å¯¼å…¥è¯¥æ–‡ä»¶ï¼Œå³å¯åœ¨å‡ ç§’é’Ÿå†…å®Œæˆæ‰€æœ‰æ ‡å‡†æ“ä½œåˆ«åçš„é…ç½®ï¼Œæœ‰æ•ˆé™ä½äº†è¯¯æ“ä½œé£é™©ï¼Œå¹¶ç»Ÿä¸€äº†å›¢é˜Ÿçš„å·¥ä½œæµç¨‹ã€‚</li>
<li><code>ä¼ä¸š IT æ”¯æŒä¸è‡ªåŠ¨åŒ–</code> æŸå…¬å¸çš„ IT æ”¯æŒéƒ¨é—¨ä¸ºå‡å°‘é‡å¤æ€§çš„æ”¯æŒå·¥ä½œï¼Œåˆ©ç”¨ Alias Assistant åˆ›å»ºäº†ä¸€å¥—é¢å‘å…¨ä½“å‘˜å·¥çš„â€œåˆ«åå·¥å…·åŒ…â€ã€‚è¿™ä¸ªå·¥å…·åŒ…åŒ…å«äº†ä¸€ç³»åˆ—ç”¨äºå¸¸è§é—®é¢˜çš„è‡ªåŠ©è¯Šæ–­å‘½ä»¤ï¼Œå¦‚ç½‘ç»œè¿é€šæ€§æµ‹è¯•ã€æ¸…é™¤ç³»ç»Ÿç¼“å­˜ã€å¿«é€Ÿå®‰è£…å…¬å¸æ ‡å‡†è½¯ä»¶ç­‰ã€‚IT éƒ¨é—¨å¯ä»¥å°†è¿™ä¸ªé¢„ç½®çš„ <code>.sh</code> é…ç½®æ–‡ä»¶é›†æˆåˆ°æ–°å‘˜å·¥çš„è®¾å¤‡åˆå§‹åŒ–æµç¨‹ä¸­ï¼Œé€šè¿‡å¯¼å…¥åŠŸèƒ½å¿«é€Ÿéƒ¨ç½²ã€‚è¿™ä¸ä»… empowers å‘˜å·¥è§£å†³ç®€å•é—®é¢˜ï¼Œä¹Ÿæ˜¾è‘—é™ä½äº† IT éƒ¨é—¨çš„æ”¯æŒæˆæœ¬å’Œå“åº”æ—¶é—´ã€‚</li>
</ul>
<p>è¿™äº›åœºæ™¯çš„å…±åŒç‚¹åœ¨äºï¼ŒAlias Assistant ä½œä¸ºä¸€ä¸ªçµæ´»ä¸”é€‚åº”æ€§å¼ºçš„æ•ˆç‡å·¥å…·ï¼Œèƒ½å¤Ÿæ— ç¼èå…¥å¤šç§å·¥ä½œæµï¼Œä¸ºä¸åŒè§’è‰²çš„ä¸“ä¸šäººå£«å¸¦æ¥åˆ‡å®çš„ä»·å€¼ã€‚</p>
<h2 data-id="heading-12">8.0 ç»“è®º</h2>
<p>ä¼ ç»Ÿçš„ Shell åˆ«åç®¡ç†æ–¹å¼ï¼Œå› å…¶ä¾èµ–æ‰‹åŠ¨ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œé•¿æœŸä»¥æ¥å­˜åœ¨ç€è®°å¿†æˆæœ¬é«˜ã€ç®¡ç†æ•ˆç‡ä½ä¸‹ã€ç¼ºä¹å¯ç§»æ¤æ€§ç­‰å›ºæœ‰å±€é™ï¼Œå·²æ— æ³•æ»¡è¶³ç°ä»£é«˜æ•ˆå·¥ä½œæµçš„éœ€æ±‚ã€‚</p>
<p>Alias Assistant é€šè¿‡å…¶ç°ä»£åŒ–çš„è®¾è®¡ç†å¿µå’Œå¼ºå¤§çš„åŠŸèƒ½é›†ï¼Œä¸ºè¿™äº›ç—›ç‚¹æä¾›äº†å…¨é¢è€Œä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚å…¶ç›´è§‚çš„å›¾å½¢åŒ–ç®¡ç†ç•Œé¢ã€å®æ—¶å¿«é€Ÿæœç´¢ã€ä¾¿æ·çš„å¯¼å…¥å¯¼å‡ºåŠŸèƒ½ï¼Œä»æ ¹æœ¬ä¸Šç®€åŒ–äº†åˆ«åçš„åˆ›å»ºã€ä½¿ç”¨å’Œè¿ç§»è¿‡ç¨‹ã€‚è€ŒåŸºäº Tauri å’Œ Rust çš„åšå®æŠ€æœ¯æ¶æ„ï¼Œåˆ™ä¸ºåº”ç”¨çš„æ€§èƒ½ä¸å®‰å…¨æ€§æä¾›äº†å¯é ä¿éšœã€‚</p>
<p>æœ€é‡è¦çš„æ˜¯ï¼ŒAlias Assistant å§‹ç»ˆåšæŒâ€œ<strong>æœ¬åœ°å­˜å‚¨</strong>â€å’Œâ€œ<strong>æ•°æ®å®Œå…¨å¯æ§</strong>â€çš„æ ¸å¿ƒå®‰å…¨åŸåˆ™ï¼Œå°†æ•°æ®ä¸»æƒå®Œå…¨äº¤è¿˜ç»™ç”¨æˆ·ã€‚è¿™ä¸€ç‰¹æ€§ä½¿å…¶ä¸ä»…æ˜¯ä¸ªäººå¼€å‘è€…çš„æ•ˆç‡åˆ©å™¨ï¼Œæ›´æ˜¯é«˜åº¦å…³æ³¨æ•°æ®å®‰å…¨ä¸åˆè§„æ€§çš„ä¼ä¸šæŠ€æœ¯å†³ç­–è€…å’Œ IT éƒ¨é—¨çš„ç†æƒ³é€‰æ‹©ã€‚å¯¹äºä»»ä½•å¸Œæœ›åœ¨æå‡å›¢é˜Ÿç”Ÿäº§åŠ›çš„åŒæ—¶ï¼Œç¡®ä¿æ•°æ®å®‰å…¨æ— è™çš„ç»„ç»‡è€Œè¨€ï¼ŒAlias Assistant æ˜¯ç¡®ä¿å›¢é˜Ÿç”Ÿäº§åŠ›ä¸æ•°æ®å®‰å…¨åŒé‡ç›®æ ‡çš„æˆ˜ç•¥æ€§é€‰æ‹©ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ«äººçš„C#çœ‹ç€éš¾å—ï¼Ÿå¯èƒ½æ˜¯ä½ ä¸æ¸…æ¥šè¿™äº›è¯­æ³•ç³–]]></title>    <link>https://juejin.cn/post/7579871631095447578</link>    <guid>https://juejin.cn/post/7579871631095447578</guid>    <pubDate>2025-12-04T12:52:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579871631095447578" data-draft-id="7579871631095431194" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ«äººçš„C#çœ‹ç€éš¾å—ï¼Ÿå¯èƒ½æ˜¯ä½ ä¸æ¸…æ¥šè¿™äº›è¯­æ³•ç³–"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-04T12:52:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ«äººçš„C#çœ‹ç€éš¾å—ï¼Ÿå¯èƒ½æ˜¯ä½ ä¸æ¸…æ¥šè¿™äº›è¯­æ³•ç³–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T12:52:19.000Z" title="Thu Dec 04 2025 12:52:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»23åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å½“ä½ åœ¨çœ‹ç°ä»£C#ä»£ç æ—¶ï¼Œæ˜¯å¦ç»å¸¸è¢« <code>user?.Address?.City</code>ã€<code>$"ä½ å¥½ï¼Œ{name}"</code> æˆ–æ˜¯ä¸€è¡Œå°±æå®šæ•´ä¸ªç±»çš„ <code>public record Person(string Name, int Age);</code> æå¾—ä¸€å¤´é›¾æ°´ï¼Ÿåˆ«æ‹…å¿ƒï¼Œè¿™åªæ˜¯å› ä¸ºä½ è¿˜ä¸ç†Ÿæ‚‰C#çš„â€œè¯­æ³•ç³–â€ã€‚</p>
</blockquote>
<p>è¯­æ³•ç³–æ˜¯ç¼–ç¨‹è¯­è¨€ä¸­ä¸€ç§æ›´ç®€æ´ã€æ›´æ˜“è¯»çš„è¯­æ³•å½¢å¼ï¼Œå®ƒä¸ä¼šç»™è¯­è¨€å¢åŠ æ–°åŠŸèƒ½ï¼Œä½†èƒ½è®©ä½ å†™å¾—æ›´å¿«ï¼Œè¯»å¾—æ›´è½»æ¾ã€‚è‡ª2002å¹´è¯ç”Ÿä»¥æ¥ï¼ŒC#å‡ ä¹æ¯ä¸ªç‰ˆæœ¬éƒ½åœ¨æ·»åŠ æ–°çš„è¯­æ³•ç³–ï¼Œè®©ä»£ç å˜å¾—è¶Šæ¥è¶Šâ€œç”œâ€ã€‚æœ¬æ–‡å°†ä¸ºä½ ç³»ç»Ÿæ¢³ç†C#ä»2.0åˆ°12.0ç‰ˆæœ¬çš„æ ¸å¿ƒè¯­æ³•ç³–ï¼Œé€šè¿‡<strong>å¯¹æ¯”åŸå§‹å†™æ³•å’Œè¯­æ³•ç³–å†™æ³•</strong>ï¼Œå¸®ä½ å½»åº•è¯»æ‡‚ç°ä»£C#ä»£ç ã€‚</p>
<p>ä¸ºäº†è®©æ‚¨å¯¹C#è¯­æ³•ç³–çš„æ¼”å˜æœ‰ä¸€ä¸ªå…¨å±€è®¤è¯†ï¼Œæˆ‘é¦–å…ˆå°†å„ç‰ˆæœ¬çš„æ ¸å¿ƒè¯­æ³•ç³–æ±‡æ€»å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-0">C# å„ç‰ˆæœ¬è¯­æ³•ç³–æ¦‚è§ˆ</h3>

































































<table><thead><tr><th align="left">C# ç‰ˆæœ¬</th><th align="left">å¼•å…¥çš„æ ¸å¿ƒè¯­æ³•ç³–ç‰¹æ€§</th><th align="left">è¦è§£å†³çš„ç—›ç‚¹/è®¾è®¡ç›®çš„</th></tr></thead><tbody><tr><td align="left"><strong>C# 2.0</strong></td><td align="left">æ³›å‹ã€å¯ç©ºç±»å‹(<code>Nullable&lt;T&gt;</code>)ã€åŒ¿åæ–¹æ³•ã€è¿­ä»£å™¨(<code>yield</code>)</td><td align="left">å¢å¼ºç±»å‹å®‰å…¨ä¸å¤ç”¨æ€§ï¼›ä¼˜é›…å¤„ç†å€¼ç±»å‹çš„ç©ºå€¼ï¼›ç®€åŒ–å§”æ‰˜ã€‚</td></tr><tr><td align="left"><strong>C# 3.0</strong></td><td align="left">éšå¼ç±»å‹(<code>var</code>)ã€è‡ªåŠ¨å±æ€§ã€å¯¹è±¡/é›†åˆåˆå§‹åŒ–å™¨ã€Lambdaè¡¨è¾¾å¼ã€æ‰©å±•æ–¹æ³•</td><td align="left"><strong>é©å‘½æ€§ç®€åŒ–</strong>ï¼šå‡å°‘æ ·æ¿ä»£ç ï¼›å¼•å…¥LINQï¼Œç»Ÿä¸€æ•°æ®æŸ¥è¯¢èŒƒå¼ã€‚</td></tr><tr><td align="left"><strong>C# 4.0</strong></td><td align="left">å‘½åå‚æ•°ä¸å¯é€‰å‚æ•°ã€åŠ¨æ€ç±»å‹(<code>dynamic</code>)</td><td align="left">æå‡APIè°ƒç”¨çµæ´»æ€§ï¼›æ”¹è¿›ä¸COM/åŠ¨æ€è¯­è¨€çš„äº’æ“ä½œæ€§ã€‚</td></tr><tr><td align="left"><strong>C# 5.0</strong></td><td align="left"><strong><code>async</code> / <code>await</code></strong></td><td align="left">å°†å¤æ‚çš„å¼‚æ­¥ç¼–ç¨‹å˜å¾—å¦‚åŒæ­¥ä»£ç èˆ¬ç›´è§‚ã€‚</td></tr><tr><td align="left"><strong>C# 6.0</strong></td><td align="left">ç©ºæ¡ä»¶è¿ç®—ç¬¦(<code>?.</code>)ã€å­—ç¬¦ä¸²æ’å€¼(<code>$</code>)ã€è¡¨è¾¾å¼ä½“æˆå‘˜ã€<code>nameof</code></td><td align="left">ç»ˆç»“â€œç©ºå¼•ç”¨å¼‚å¸¸â€ææƒ§ï¼›ç»ˆç»“æ··ä¹±çš„å­—ç¬¦ä¸²æ‹¼æ¥ï¼›ç®€åŒ–æ–¹æ³•å£°æ˜ã€‚</td></tr><tr><td align="left"><strong>C# 7.0</strong></td><td align="left">å…ƒç»„ä¸è§£æ„ã€<code>out</code>å˜é‡å£°æ˜ã€æ¨¡å¼åŒ¹é…(<code>is</code>)ã€æœ¬åœ°å‡½æ•°</td><td align="left">æ–¹ä¾¿åœ°è¿”å›å’Œå¤„ç†å¤šä¸ªå€¼ï¼›ç®€åŒ–<code>out</code>å‚æ•°ä½¿ç”¨ï¼›å¢å¼ºæµç¨‹æ§åˆ¶ã€‚</td></tr><tr><td align="left"><strong>C# 8.0</strong></td><td align="left"><code>using</code>å£°æ˜ã€å¯ç©ºå¼•ç”¨ç±»å‹ã€é»˜è®¤æ¥å£æ–¹æ³•ã€å¼‚æ­¥æµ</td><td align="left">ç®€åŒ–èµ„æºç®¡ç†ï¼›å°†ç©ºå®‰å…¨èå…¥ç±»å‹ç³»ç»Ÿï¼›å®‰å…¨åœ°æ¼”è¿›æ¥å£ã€‚</td></tr><tr><td align="left"><strong>C# 9.0</strong></td><td align="left"><strong>è®°å½•ç±»å‹(<code>record</code>)</strong>ã€é¡¶çº§è¯­å¥ã€<code>init</code>è®¿é—®å™¨</td><td align="left">ç”¨ä¸€è¡Œä»£ç å®šä¹‰ä¸å¯å˜æ•°æ®æ¨¡å‹ï¼›ä¸ºå°ç¨‹åºå»é™¤ä»ªå¼åŒ–ä»£ç ã€‚</td></tr><tr><td align="left"><strong>C# 10.0</strong></td><td align="left">æ–‡ä»¶èŒƒå›´å‘½åç©ºé—´ã€å…¨å±€<code>using</code>æŒ‡ä»¤</td><td align="left">å‡å°‘ä¸å¿…è¦çš„ç¼©è¿›ï¼›æ¶ˆé™¤é¡¹ç›®å†…é‡å¤çš„<code>using</code>æŒ‡ä»¤ã€‚</td></tr><tr><td align="left"><strong>C# 11.0</strong></td><td align="left">åŸå§‹å­—ç¬¦ä¸²å­—é¢é‡(<code>"""</code>)ã€<code>required</code>æˆå‘˜</td><td align="left">ä¼˜é›…åµŒå…¥JSON/XML/SQLï¼›å¼ºåˆ¶åˆå§‹åŒ–å¥‘çº¦ï¼Œç¡®ä¿å¯¹è±¡å®Œæ•´æ€§ã€‚</td></tr><tr><td align="left"><strong>C# 12.0</strong></td><td align="left">ä¸»æ„é€ å‡½æ•°ã€é›†åˆè¡¨è¾¾å¼(<code>[]</code>)ã€å†…è”æ•°ç»„</td><td align="left">æ›´å£°æ˜å¼åœ°å®šä¹‰ç±»ï¼›ç»Ÿä¸€é›†åˆåˆå§‹åŒ–è¯­æ³•ï¼›ä¸ºé«˜æ€§èƒ½åœºæ™¯æä¾›æ”¯æŒã€‚</td></tr></tbody></table>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æŒ‰ç…§ç‰ˆæœ¬é¡ºåºï¼Œå¯¹æ¯ä¸€ä¸ªé‡è¦çš„è¯­æ³•ç³–è¿›è¡Œâ€œç¼–è¯‘è¿˜åŸâ€ï¼Œå±•ç¤ºå…¶åŸå§‹å†™æ³•å’Œè¯­æ³•ç³–å†™æ³•ï¼Œå¹¶è§£é‡Šå…¶æœ¬è´¨ã€‚</p>
<h3 data-id="heading-1">C# 2.0ï¼šç°ä»£C#çš„åŸºçŸ³</h3>
<h4 data-id="heading-2">1. å¯ç©ºå€¼ç±»å‹ (Nullable Value Types)</h4>
<p>åœ¨C# 2.0ä¹‹å‰ï¼Œ<code>int</code>ã€<code>bool</code>ç­‰å€¼ç±»å‹ä¸èƒ½è¡¨ç¤ºâ€œæ²¡æœ‰å€¼â€çš„çŠ¶æ€ã€‚
<strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">int</span>? age = <span class="hljs-literal">null</span>; <span class="hljs-comment">// æ¸…æ™°è¡¨ç¤ºå¹´é¾„å¯èƒ½æœªçŸ¥</span>
<span class="hljs-keyword">if</span> (age.HasValue) {
    Console.WriteLine(age.Value);
}
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">Nullable&lt;<span class="hljs-built_in">int</span>&gt; age = <span class="hljs-literal">null</span>; <span class="hljs-comment">// ä½¿ç”¨æ³›å‹ç»“æ„ä½“Nullable&lt;T&gt;</span>
<span class="hljs-keyword">if</span> (age.HasValue) {
    Console.WriteLine(age.Value);
}
</code></pre>
<p><strong>æœ¬è´¨</strong>ï¼š<code>int?</code> æ˜¯ <code>System.Nullable&lt;int&gt;</code> çš„è¯­æ³•ç³–ã€‚ç¼–è¯‘å™¨åœ¨åº•å±‚ä»ç„¶ä½¿ç”¨è¿™ä¸ªæ³›å‹ç»“æ„ä½“ï¼Œå®ƒåŒ…å«ä¸€ä¸ªå¸ƒå°”å­—æ®µæ ‡è¯†æ˜¯å¦æœ‰å€¼ï¼Œä»¥åŠä¸€ä¸ªå€¼ç±»å‹çš„å­—æ®µå­˜å‚¨å®é™…æ•°æ®ã€‚</p>
<h4 data-id="heading-3">2. åŒ¿åæ–¹æ³•</h4>
<p>ç®€åŒ–äº†å§”æ‰˜çš„å®ä¾‹åŒ–è¿‡ç¨‹ï¼Œå…è®¸å°†ä»£ç å—ç›´æ¥ä¼ é€’ç»™å§”æ‰˜ã€‚
<strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">button.Click += <span class="hljs-built_in">delegate</span> { Console.WriteLine(<span class="hljs-string">"Clicked!"</span>); };
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// éœ€è¦å…ˆå®šä¹‰ä¸€ä¸ªå…·åæ–¹æ³•</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Button_ClickHandler</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, EventArgs e</span>)</span> {
    Console.WriteLine(<span class="hljs-string">"Clicked!"</span>);
}
button.Click += <span class="hljs-keyword">new</span> EventHandler(Button_ClickHandler);
</code></pre>
<p><strong>æœ¬è´¨</strong>ï¼šç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªåŒ…å«è¯¥ä»£ç å—çš„ç§æœ‰æ–¹æ³•ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæŒ‡å‘è¯¥æ–¹æ³•çš„å§”æ‰˜å®ä¾‹ã€‚</p>
<h3 data-id="heading-4">C# 3.0ï¼šLINQé©å‘½ä¸æ•ˆç‡é£è·ƒ</h3>
<h4 data-id="heading-5">1. éšå¼ç±»å‹å±€éƒ¨å˜é‡ (<code>var</code>)</h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> list = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;(); <span class="hljs-comment">// ç¼–è¯‘å™¨æ¨æ–­listä¸ºList&lt;string&gt;</span>
<span class="hljs-keyword">var</span> number = <span class="hljs-number">10</span>; <span class="hljs-comment">// ç¼–è¯‘å™¨æ¨æ–­numberä¸ºint</span>
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">List&lt;<span class="hljs-built_in">string</span>&gt; list = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;();
<span class="hljs-built_in">int</span> number = <span class="hljs-number">10</span>;
</code></pre>
<p><strong>æœ¬è´¨</strong>ï¼š<code>var</code> æ˜¯ä¸€ä¸ªç¼–è¯‘æ—¶å ä½ç¬¦ã€‚ç¼–è¯‘å™¨ä¼šæ ¹æ®èµ‹å€¼ç¬¦å·å³ä¾§çš„è¡¨è¾¾å¼æ¨å¯¼å‡ºç¡®åˆ‡çš„ç±»å‹ï¼Œç„¶åæ›¿æ¢æ‰ <code>var</code>ã€‚å®ƒ<strong>ä¸æ˜¯</strong>åŠ¨æ€ç±»å‹ï¼Œå˜é‡ç±»å‹åœ¨ç¼–è¯‘åå°±è¢«å›ºå®šäº†ã€‚</p>
<h4 data-id="heading-6">2. è‡ªåŠ¨å±æ€§</h4>
<p>å½»åº•ç®€åŒ–äº†å°è£…å­—æ®µçš„å±æ€§å£°æ˜ã€‚
<strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-string">"Unknown"</span>; <span class="hljs-comment">// å¸¦é»˜è®¤å€¼</span>
<span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Id { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; } <span class="hljs-comment">// é™åˆ¶setè®¿é—®æƒé™</span>
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">private</span> <span class="hljs-built_in">string</span> _name = <span class="hljs-string">"Unknown"</span>;
<span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name {
    <span class="hljs-keyword">get</span> { <span class="hljs-keyword">return</span> _name; }
    <span class="hljs-keyword">set</span> { _name = <span class="hljs-keyword">value</span>; }
}
<span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> _id;
<span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Id {
    <span class="hljs-keyword">get</span> { <span class="hljs-keyword">return</span> _id; }
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span> { _id = <span class="hljs-keyword">value</span>; }
}
</code></pre>
<p><strong>æœ¬è´¨</strong>ï¼šç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªéšè—çš„ç§æœ‰åå¤‡å­—æ®µï¼ˆåç§°é€šå¸¸ç±»ä¼¼ <code>&lt;Name&gt;k__BackingField</code>ï¼‰ï¼Œå¹¶ç”Ÿæˆå®Œæ•´çš„ <code>get</code> å’Œ <code>set</code> è®¿é—®å™¨æ–¹æ³•ã€‚</p>
<h4 data-id="heading-7">3. å¯¹è±¡ä¸é›†åˆåˆå§‹åŒ–å™¨</h4>
<p><strong>è¯­æ³•ç³–å†™æ³•ï¼ˆå¯¹è±¡ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> Person { Name = <span class="hljs-string">"Alice"</span>, Age = <span class="hljs-number">25</span> };
</code></pre>
<p><strong>åŸå§‹å†™æ³•ï¼ˆå¯¹è±¡ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> Person();
person.Name = <span class="hljs-string">"Alice"</span>;
person.Age = <span class="hljs-number">25</span>;
</code></pre>
<p><strong>è¯­æ³•ç³–å†™æ³•ï¼ˆé›†åˆï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> numbers = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">int</span>&gt; { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span> };
</code></pre>
<p><strong>åŸå§‹å†™æ³•ï¼ˆé›†åˆï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> numbers = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">int</span>&gt;();
numbers.Add(<span class="hljs-number">1</span>);
numbers.Add(<span class="hljs-number">2</span>);
numbers.Add(<span class="hljs-number">3</span>);
numbers.Add(<span class="hljs-number">4</span>);
numbers.Add(<span class="hljs-number">5</span>);
</code></pre>
<p><strong>æœ¬è´¨</strong>ï¼šå¯¹äºå¯¹è±¡ï¼Œç¼–è¯‘å™¨å°†åˆå§‹åŒ–å™¨è½¬æ¢ä¸ºåœ¨åˆ›å»ºå¯¹è±¡åçš„ä¸€ç³»åˆ—å±æ€§èµ‹å€¼è¯­å¥ã€‚å¯¹äºé›†åˆï¼Œç¼–è¯‘å™¨è½¬æ¢ä¸ºå¯¹ <code>Add</code> æ–¹æ³•çš„è¿ç»­è°ƒç”¨ã€‚</p>
<h4 data-id="heading-8">4. Lambdaè¡¨è¾¾å¼</h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">Func&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>&gt; square = x =&gt; x * x;
list.ForEach(i =&gt; Console.WriteLine(i));
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ä½¿ç”¨åŒ¿åæ–¹æ³•</span>
Func&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>&gt; square = <span class="hljs-built_in">delegate</span>(<span class="hljs-built_in">int</span> x) { <span class="hljs-keyword">return</span> x * x; };
<span class="hljs-comment">// æˆ–ä½¿ç”¨å…·åæ–¹æ³•</span>
list.ForEach(<span class="hljs-keyword">new</span> Action&lt;<span class="hljs-built_in">int</span>&gt;(PrintItem));
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">PrintItem</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> i</span>)</span> { Console.WriteLine(i); }
</code></pre>
<p><strong>æœ¬è´¨</strong>ï¼šLambdaè¡¨è¾¾å¼æ˜¯åŒ¿åæ–¹æ³•çš„è¿›ä¸€æ­¥ç®€åŒ–ã€‚ç¼–è¯‘å™¨ä¼šå°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªåŒ¿åæ–¹æ³•ï¼Œæˆ–è€…åœ¨æŸäº›æƒ…å†µä¸‹ï¼ˆå¦‚è¡¨è¾¾å¼æ ‘ <code>Expression&lt;Func&lt;T&gt;&gt;</code>ï¼‰è½¬æ¢ä¸ºä¸€ä¸ªæè¿°æ“ä½œçš„æ•°æ®ç»“æ„ã€‚</p>
<h4 data-id="heading-9">5. æ‰©å±•æ–¹æ³•</h4>
<p>å…è®¸å‘ç°æœ‰ç±»å‹â€œæ·»åŠ â€æ–°æ–¹æ³•ï¼Œè€Œæ— éœ€ä¿®æ”¹åŸå§‹ç±»å‹æˆ–åˆ›å»ºæ´¾ç”Ÿç±»ã€‚
<strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> s = <span class="hljs-string">"123"</span>;
<span class="hljs-built_in">bool</span> isNumeric = s.IsNumber(); <span class="hljs-comment">// å°±åƒstringåŸç”Ÿæ–¹æ³•ä¸€æ ·</span>
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> s = <span class="hljs-string">"123"</span>;
<span class="hljs-built_in">bool</span> isNumeric = StringExt.IsNumber(s); <span class="hljs-comment">// é™æ€æ–¹æ³•è°ƒç”¨</span>
<span class="hljs-comment">// éœ€è¦å®šä¹‰é™æ€ç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">StringExt</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">IsNumber</span>(<span class="hljs-params"><span class="hljs-keyword">this</span> <span class="hljs-built_in">string</span> input</span>)</span> { ... }
}
</code></pre>
<p><strong>æœ¬è´¨</strong>ï¼šæ‰©å±•æ–¹æ³•æ˜¯ä¸€ç§ç‰¹æ®Šçš„é™æ€æ–¹æ³•ã€‚ç¬¬ä¸€ä¸ªå‚æ•°ä½¿ç”¨ <code>this</code> ä¿®é¥°ç¬¦ã€‚è°ƒç”¨æ—¶ï¼Œç¼–è¯‘å™¨ä¼šå°† <code>obj.Method(args)</code> è½¬æ¢ä¸º <code>StaticClass.Method(obj, args)</code>ã€‚</p>
<h3 data-id="heading-10">C# 4.0ï¼šçµæ´»æ€§ä¸äº’æ“ä½œæ€§</h3>
<h4 data-id="heading-11">1. å‘½åå‚æ•°ä¸å¯é€‰å‚æ•°</h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Register</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> name, <span class="hljs-built_in">int</span> age = <span class="hljs-number">18</span>, <span class="hljs-built_in">string</span> city = <span class="hljs-string">"Beijing"</span></span>)</span> { }
<span class="hljs-comment">// è°ƒç”¨</span>
Register(<span class="hljs-string">"Bob"</span>, city: <span class="hljs-string">"Shanghai"</span>); <span class="hljs-comment">// ä½¿ç”¨å‘½åå‚æ•°è·³è¿‡ageï¼Œä½¿ç”¨é»˜è®¤å€¼</span>
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ä¸ºäº†å®ç°é»˜è®¤å€¼ï¼Œéœ€è¦ä½¿ç”¨æ–¹æ³•é‡è½½</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Register</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> name, <span class="hljs-built_in">int</span> age, <span class="hljs-built_in">string</span> city</span>)</span> { }
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Register</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> name, <span class="hljs-built_in">string</span> city</span>)</span> {
    Register(name, <span class="hljs-number">18</span>, city); <span class="hljs-comment">// è°ƒç”¨é‡è½½ï¼Œä¼ å…¥é»˜è®¤å¹´é¾„</span>
}
<span class="hljs-comment">// è°ƒç”¨</span>
Register(<span class="hljs-string">"Bob"</span>, <span class="hljs-string">"Shanghai"</span>);
</code></pre>
<p><strong>æœ¬è´¨</strong>ï¼šå¯é€‰å‚æ•°åœ¨ç¼–è¯‘æ—¶ï¼Œè°ƒç”¨å¤„çš„ç¼ºå¤±å‚æ•°ä¼šè¢«å¡«å……ä¸Šé»˜è®¤å€¼ã€‚å‘½åå‚æ•°åˆ™å…è®¸ç¼–è¯‘å™¨æ ¹æ®å‚æ•°åè¿›è¡ŒåŒ¹é…ï¼Œè€Œä¸æ˜¯ä¸¥æ ¼ä¾èµ–é¡ºåºã€‚</p>
<h3 data-id="heading-12">C# 5.0ï¼šå¼‚æ­¥ç¼–ç¨‹çš„é©å‘½</h3>
<h4 data-id="heading-13">1. <code>async</code> / <code>await</code></h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;<span class="hljs-built_in">string</span>&gt; <span class="hljs-title">GetWebPageAsync</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> url</span>)</span> {
    <span class="hljs-keyword">using</span> <span class="hljs-keyword">var</span> client = <span class="hljs-keyword">new</span> HttpClient();
    <span class="hljs-built_in">string</span> content = <span class="hljs-keyword">await</span> client.GetStringAsync(url);
    <span class="hljs-keyword">return</span> content.ToUpper();
}
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ä½¿ç”¨ä¼ ç»Ÿçš„å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹ï¼ˆAPMï¼‰æˆ–ä»»åŠ¡å¹¶è¡Œåº“ï¼ˆTPLï¼‰ä¼šå¤æ‚å¾—å¤šï¼Œæ¶‰åŠå›è°ƒã€ContinueWithç­‰ã€‚</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> Task&lt;<span class="hljs-built_in">string</span>&gt; <span class="hljs-title">GetWebPageAsync</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> url</span>)</span> {
    <span class="hljs-keyword">var</span> client = <span class="hljs-keyword">new</span> HttpClient();
    <span class="hljs-keyword">return</span> client.GetStringAsync(url)
                 .ContinueWith(t =&gt; t.Result.ToUpper());
    <span class="hljs-comment">// é”™è¯¯å¤„ç†ã€èµ„æºé‡Šæ”¾ç­‰é€»è¾‘ä¼šå˜å¾—éå¸¸å†—é•¿å’Œéš¾ä»¥ç»´æŠ¤ã€‚</span>
}
</code></pre>
<p><strong>æœ¬è´¨</strong>ï¼šè¿™æ˜¯C#å†å²ä¸Šæœ€é‡è¦çš„è¯­æ³•ç³–ä¹‹ä¸€ã€‚ç¼–è¯‘å™¨ä¼šå°† <code>async</code>/<code>await</code> æ–¹æ³•é‡å†™ä¸ºä¸€ä¸ªå¤æ‚çš„çŠ¶æ€æœºç±»ã€‚<code>await</code> å¤„ä¼šæˆä¸ºçŠ¶æ€æœºçš„åˆ‡ç‚¹ï¼Œå½“å¼‚æ­¥æ“ä½œå®Œæˆåï¼ŒçŠ¶æ€æœºä¼šä»åˆ‡ç‚¹æ¢å¤æ‰§è¡Œï¼Œè€Œæ‰€æœ‰è¿™ä¸€åˆ‡éƒ½éšè—åœ¨äº†ç®€æ´çš„è¯­æ³•ä¹‹ä¸‹ã€‚</p>
<h3 data-id="heading-14">C# 6.0ï¼šç»†èŠ‚ä¹‹å¤„çš„æ•ˆç‡é©å‘½</h3>
<h4 data-id="heading-15">1. ç©ºæ¡ä»¶è¿ç®—ç¬¦ (<code>?.</code>)</h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> cityName = user?.Address?.City; <span class="hljs-comment">// ä»»æ„ä¸€ç¯ä¸ºnullï¼Œåˆ™æ•´ä¸ªè¡¨è¾¾å¼ç»“æœä¸ºnull</span>
<span class="hljs-built_in">int</span>? length = user?.Name?.Length; <span class="hljs-comment">// å®‰å…¨è·å–å¯èƒ½ä¸ºnullçš„å±æ€§</span>
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> cityName = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">if</span> (user != <span class="hljs-literal">null</span> &amp;&amp; user.Address != <span class="hljs-literal">null</span>) {
    cityName = user.Address.City;
}
<span class="hljs-built_in">int</span>? length = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">if</span> (user != <span class="hljs-literal">null</span> &amp;&amp; user.Name != <span class="hljs-literal">null</span>) {
    length = user.Name.Length;
}
</code></pre>
<p><strong>æœ¬è´¨</strong>ï¼šç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åœ¨æ¯æ¬¡ <code>.</code> æ“ä½œå‰æ’å…¥ç©ºå€¼æ£€æŸ¥ã€‚å¦‚æœæ£€æŸ¥åˆ° <code>null</code>ï¼Œåˆ™æ•´ä¸ªè¡¨è¾¾å¼ç›´æ¥çŸ­è·¯è¿”å› <code>null</code>ã€‚</p>
<h4 data-id="heading-16">2. å­—ç¬¦ä¸²æ’å€¼ (<code>$</code>)</h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> info = <span class="hljs-string">$"Name: <span class="hljs-subst">{name}</span>, Age: <span class="hljs-subst">{age + <span class="hljs-number">1</span>}</span>"</span>; <span class="hljs-comment">// ç›´æ¥åµŒå…¥å˜é‡å’Œè¡¨è¾¾å¼</span>
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> info = <span class="hljs-built_in">string</span>.Format(<span class="hljs-string">"Name: {0}, Age: {1}"</span>, name, age + <span class="hljs-number">1</span>);
</code></pre>
<p><strong>æœ¬è´¨</strong>ï¼šç¼–è¯‘å™¨ä¼šå°†æ’å€¼å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹ <code>string.Format</code> æ–¹æ³•çš„è°ƒç”¨ï¼Œå¹¶æŒ‰é¡ºåºå°†è¡¨è¾¾å¼çš„ç»“æœä½œä¸ºå‚æ•°ä¼ å…¥ã€‚</p>
<h4 data-id="heading-17">3. è¡¨è¾¾å¼ä½“æˆå‘˜</h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> FullName =&gt; <span class="hljs-string">$"<span class="hljs-subst">{FirstName}</span> <span class="hljs-subst">{LastName}</span>"</span>; <span class="hljs-comment">// åªè¯»å±æ€§</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-built_in">string</span> <span class="hljs-title">ToString</span>()</span> =&gt; FullName; <span class="hljs-comment">// æ–¹æ³•</span>
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> FullName {
    <span class="hljs-keyword">get</span> { <span class="hljs-keyword">return</span> <span class="hljs-string">$"<span class="hljs-subst">{FirstName}</span> <span class="hljs-subst">{LastName}</span>"</span>; }
}
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-built_in">string</span> <span class="hljs-title">ToString</span>()</span> {
    <span class="hljs-keyword">return</span> FullName;
}
</code></pre>
<p><strong>æœ¬è´¨</strong>ï¼šå¯¹äºå•è¡Œçš„æ–¹æ³•ã€å±æ€§ã€ç´¢å¼•å™¨æˆ–è¿ç®—ç¬¦ï¼Œç¼–è¯‘å™¨å°†å…¶ <code>{ return ...; }</code> çš„å—ç»“æ„ç®€åŒ–ä¸º <code>=&gt; expression</code> çš„å½¢å¼ã€‚</p>
<h3 data-id="heading-18"><strong>C# 7.0 è¯­æ³•ç³–</strong></h3>
<h4 data-id="heading-19"><strong>1. å…ƒç»„ (Tuples)</strong></h4>
<p>è¯­æ³•ç³–å†™æ³•è®©è¿”å›å¤šä¸ªå€¼å˜å¾—å¼‚å¸¸ç®€æ´ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•</span>
<span class="hljs-keyword">public</span> (<span class="hljs-built_in">string</span> Name, <span class="hljs-built_in">int</span> Age) GetPersonInfo() {
    <span class="hljs-keyword">return</span> (<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">25</span>);
}
<span class="hljs-keyword">var</span> info = GetPersonInfo();
Console.WriteLine(<span class="hljs-string">$"å§“å: <span class="hljs-subst">{info.Name}</span>, å¹´é¾„: <span class="hljs-subst">{info.Age}</span>"</span>); <span class="hljs-comment">// å¯ç›´æ¥è®¿é—®å…·åå…ƒç´ </span>
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•ï¼šä½¿ç”¨æ—§çš„ System.Tuple ç±»</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> Tuple&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt; <span class="hljs-title">GetPersonInfo</span>()</span> {
    <span class="hljs-keyword">return</span> Tuple.Create(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">25</span>);
}
<span class="hljs-keyword">var</span> info = GetPersonInfo();
Console.WriteLine(<span class="hljs-string">$"å§“å: <span class="hljs-subst">{info.Item1}</span>, å¹´é¾„: <span class="hljs-subst">{info.Item2}</span>"</span>); <span class="hljs-comment">// åªèƒ½è®¿é—®Item1, Item2</span>
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šC# 7.0å¼•å…¥äº†æ–°çš„å€¼ç±»å‹å…ƒç»„ï¼ˆ<code>System.ValueTuple</code>ï¼‰ï¼Œæ”¯æŒé€šè¿‡å£°æ˜æ€§å‘½åï¼ˆå¦‚<code>Name</code>, <code>Age</code>ï¼‰è®¿é—®å…ƒç´ ï¼Œæå¤§åœ°æå‡äº†ä»£ç çš„å¯è¯»æ€§ï¼Œè€Œæ—§å†™æ³•åªèƒ½ä½¿ç”¨æ— æ„ä¹‰çš„<code>Item1</code>ã€<code>Item2</code>ã€‚</p>
<h4 data-id="heading-20"><strong>2. å…ƒç»„è§£æ„ (Deconstruction)</strong></h4>
<p>è¯­æ³•ç³–å†™æ³•å¯ä»¥å°†å…ƒç»„æˆ–å¯¹è±¡çš„æˆå‘˜å¿«é€Ÿè§£æ„åˆ°å•ç‹¬çš„å˜é‡ä¸­ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•ï¼šè§£æ„å…ƒç»„</span>
<span class="hljs-keyword">var</span> (name, age) = GetPersonInfo();
<span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•ï¼šä¸ºè‡ªå®šä¹‰ç±»æ·»åŠ è§£æ„åŠŸèƒ½</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Point</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> X { <span class="hljs-keyword">get</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Y { <span class="hljs-keyword">get</span>; }
    <span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªDeconstructæ–¹æ³•å³å¯æ”¯æŒè§£æ„</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Deconstruct</span>(<span class="hljs-params"><span class="hljs-keyword">out</span> <span class="hljs-built_in">int</span> x, <span class="hljs-keyword">out</span> <span class="hljs-built_in">int</span> y</span>)</span> {
        x = X; y = Y;
    }
}
<span class="hljs-keyword">var</span> point = <span class="hljs-keyword">new</span> Point(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);
<span class="hljs-keyword">var</span> (x, y) = point; <span class="hljs-comment">// ç›´æ¥è§£æ„å¯¹è±¡</span>
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•ï¼šæ‰‹åŠ¨æå–æ¯ä¸ªå€¼</span>
<span class="hljs-keyword">var</span> info = GetPersonInfo();
<span class="hljs-built_in">string</span> name = info.Item1;
<span class="hljs-built_in">int</span> age = info.Item2;
<span class="hljs-comment">// å¯¹äºè‡ªå®šä¹‰ç±»ï¼Œéœ€è¦åˆ†åˆ«è®¿é—®å±æ€§</span>
<span class="hljs-keyword">var</span> point = <span class="hljs-keyword">new</span> Point(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);
<span class="hljs-built_in">int</span> x = point.X;
<span class="hljs-built_in">int</span> y = point.Y;
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šè§£æ„è¯­æ³•åœ¨ç¼–è¯‘æ—¶ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºè°ƒç”¨å¯¹è±¡çš„<code>Deconstruct</code>æ–¹æ³•ï¼ˆå¯¹äºå…ƒç»„åˆ™æ˜¯å†…ç½®æ”¯æŒï¼‰ï¼Œå°†å¤šä¸ªèµ‹å€¼æ­¥éª¤åˆå¹¶ä¸ºä¸€è¡Œç®€æ´çš„ä»£ç ã€‚</p>
<h4 data-id="heading-21"><strong>3. <code>out</code>å˜é‡å£°æ˜ (Out Variables)</strong></h4>
<p>è¯­æ³•ç³–å†™æ³•å…è®¸åœ¨ä½¿ç”¨<code>out</code>å‚æ•°æ—¶ç›´æ¥å†…è”å£°æ˜å˜é‡ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•</span>
<span class="hljs-keyword">if</span> (<span class="hljs-built_in">int</span>.TryParse(inputString, <span class="hljs-keyword">out</span> <span class="hljs-built_in">int</span> result)) {
    <span class="hljs-comment">// å¯ä»¥ç›´æ¥ä½¿ç”¨result</span>
    Console.WriteLine(result);
}
<span class="hljs-comment">// resultå˜é‡åœ¨ifä½œç”¨åŸŸå¤–ä»å¯è®¿é—®ï¼ˆC# 7.0èµ·ï¼‰</span>
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•ï¼šå¿…é¡»é¢„å…ˆå£°æ˜å˜é‡</span>
<span class="hljs-built_in">int</span> result; <span class="hljs-comment">// å…ˆå£°æ˜</span>
<span class="hljs-keyword">if</span> (<span class="hljs-built_in">int</span>.TryParse(inputString, <span class="hljs-keyword">out</span> result)) {
    Console.WriteLine(result);
}
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šè¯¥ç‰¹æ€§ç®€åŒ–äº†<code>out</code>å˜é‡çš„ä½¿ç”¨æµç¨‹ï¼Œå°†å£°æ˜å’Œä¼ å‚åˆäºŒä¸ºä¸€ï¼Œå¹¶æ‹“å®½äº†å˜é‡çš„ä½œç”¨åŸŸï¼Œä½¿ä»£ç æ›´ç´§å‡‘ã€‚</p>
<h4 data-id="heading-22"><strong>4. æ¨¡å¼åŒ¹é… (Pattern Matching)</strong></h4>
<p>è¯­æ³•ç³–å†™æ³•æä¾›äº†æ›´å¼ºå¤§çš„ç±»å‹æ£€æŸ¥å’Œè½¬æ¢èƒ½åŠ›ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•ï¼š`is`ç±»å‹æ¨¡å¼</span>
<span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">is</span> <span class="hljs-built_in">string</span> s &amp;&amp; s.Length &gt; <span class="hljs-number">5</span>) {
    Console.WriteLine(s.ToUpper());
}
<span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•ï¼š`switch`è¡¨è¾¾å¼ï¼ˆC# 8.0åŠ å¼ºï¼Œæ­¤å¤„å±•ç¤ºåŸºç¡€ï¼‰</span>
<span class="hljs-keyword">switch</span> (shape) {
    <span class="hljs-keyword">case</span> Circle c:
        Console.WriteLine(<span class="hljs-string">$"åœ†å½¢ï¼ŒåŠå¾„: <span class="hljs-subst">{c.Radius}</span>"</span>);
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> Rectangle r <span class="hljs-keyword">when</span> r.Width == r.Height:
        Console.WriteLine(<span class="hljs-string">$"æ­£æ–¹å½¢ï¼Œè¾¹é•¿: <span class="hljs-subst">{r.Width}</span>"</span>);
        <span class="hljs-keyword">break</span>;
    <span class="hljs-literal">default</span>:
        Console.WriteLine(<span class="hljs-string">"æœªçŸ¥å½¢çŠ¶"</span>);
        <span class="hljs-keyword">break</span>;
}
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•ï¼šéœ€è¦é¢å¤–çš„ç±»å‹è½¬æ¢</span>
<span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">is</span> <span class="hljs-built_in">string</span>) {
    <span class="hljs-built_in">string</span> s = (<span class="hljs-built_in">string</span>)obj; <span class="hljs-comment">// å¼ºåˆ¶è½¬æ¢</span>
    <span class="hljs-keyword">if</span> (s.Length &gt; <span class="hljs-number">5</span>) {
        Console.WriteLine(s.ToUpper());
    }
}
<span class="hljs-comment">// switchè¯­å¥ä¸­ï¼Œcaseå—æ— æ³•ç›´æ¥å£°æ˜å˜é‡å’Œé™„åŠ æ¡ä»¶</span>
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼š<code>is</code>æ¨¡å¼åŒ¹é…å°†ç±»å‹æ£€æŸ¥ã€è½¬æ¢å’Œèµ‹å€¼åˆå¹¶ä¸ºä¸€æ­¥ï¼ŒåŒæ—¶é¿å…äº†æ— æ•ˆçš„è½¬æ¢æ“ä½œã€‚<code>switch</code>çš„æ¨¡å¼åŒ¹é…åˆ™è®©<code>case</code>åˆ†æ”¯æ›´å¼ºå¤§ã€æ›´å®‰å…¨ã€‚</p>
<h4 data-id="heading-23"><strong>5. æ•°å­—åˆ†éš”ç¬¦ (Digit Separators)</strong></h4>
<p>è¯­æ³•ç³–å†™æ³•ç”¨ä¸‹åˆ’çº¿æé«˜é•¿æ•°å­—çš„å¯è¯»æ€§ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•</span>
<span class="hljs-built_in">long</span> oneBillion = <span class="hljs-number">1</span>_000_000_000;
<span class="hljs-built_in">double</span> pi = <span class="hljs-number">3.141</span>_592_653_589_793;
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•</span>
<span class="hljs-built_in">long</span> oneBillion = <span class="hljs-number">1000000000</span>;
<span class="hljs-built_in">double</span> pi = <span class="hljs-number">3.141592653589793</span>;
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šä¸‹åˆ’çº¿åœ¨ç¼–è¯‘æ—¶ä¼šè¢«å¿½ç•¥ï¼Œçº¯ç²¹ä¸ºäº†å¼€å‘è€…é˜…è¯»æ–¹ä¾¿ï¼Œå°¤å…¶é€‚ç”¨äºé“¶è¡Œå¡å·ã€å¸¸é‡æ©ç ç­‰åœºæ™¯ã€‚</p>
<h3 data-id="heading-24"><strong>C# 8.0 è¯­æ³•ç³–</strong></h3>
<h4 data-id="heading-25"><strong>1. <code>using</code>å£°æ˜ (Using Declarations)</strong></h4>
<p>è¯­æ³•ç³–å†™æ³•ç®€åŒ–äº†å®ç°äº†<code>IDisposable</code>æ¥å£çš„èµ„æºçš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•ï¼šä½œç”¨åŸŸç»“æŸæ—¶è‡ªåŠ¨é‡Šæ”¾</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">var</span> file = <span class="hljs-keyword">new</span> StreamWriter(<span class="hljs-string">"test.txt"</span>);
file.WriteLine(<span class="hljs-string">"Hello"</span>);
<span class="hljs-comment">// æ­¤å¤„ï¼Œfileä¼šè‡ªåŠ¨è°ƒç”¨Disposeæ–¹æ³•</span>
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•ï¼šéœ€è¦æ˜¾å¼çš„usingä»£ç å—</span>
<span class="hljs-keyword">using</span> (<span class="hljs-keyword">var</span> file = <span class="hljs-keyword">new</span> StreamWriter(<span class="hljs-string">"test.txt"</span>)) {
    file.WriteLine(<span class="hljs-string">"Hello"</span>);
}
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šæ–°çš„<code>using</code>å£°æ˜ä¼šåœ¨å˜é‡æ‰€åœ¨ä½œç”¨åŸŸï¼ˆé€šå¸¸æ˜¯æ–¹æ³•ï¼‰ç»“æŸæ—¶è‡ªåŠ¨é‡Šæ”¾èµ„æºï¼Œå‡å°‘äº†ä»£ç åµŒå¥—ï¼Œæ›´é€‚ç”¨äºç®¡ç†å•ä¸€èµ„æºçš„æƒ…å†µã€‚</p>
<h4 data-id="heading-26"><strong>2. å¼‚æ­¥æµ (Async Streams)</strong></h4>
<p>è¯­æ³•ç³–å†™æ³•å…è®¸ä½¿ç”¨<code>await foreach</code>æ¥æ¶ˆè´¹å¼‚æ­¥æšä¸¾çš„æ•°æ®æµã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> IAsyncEnumerable&lt;<span class="hljs-built_in">int</span>&gt; <span class="hljs-title">FetchAsyncData</span>()</span> {
    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
        <span class="hljs-keyword">await</span> Task.Delay(<span class="hljs-number">100</span>); <span class="hljs-comment">// æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œ</span>
        <span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> i; <span class="hljs-comment">// å¼‚æ­¥æµä¸­ä½¿ç”¨yield return</span>
    }
}
<span class="hljs-comment">// æ¶ˆè´¹å¼‚æ­¥æµ</span>
<span class="hljs-keyword">await</span> <span class="hljs-keyword">foreach</span> (<span class="hljs-function"><span class="hljs-keyword">var</span> number <span class="hljs-keyword">in</span> <span class="hljs-title">FetchAsyncData</span>())</span> {
    Console.WriteLine(number);
}
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•ï¼šæ²¡æœ‰åŸç”Ÿæ”¯æŒï¼Œæ‰‹åŠ¨ç»„åˆå¼‚æ­¥å’Œè¿­ä»£éå¸¸å¤æ‚</span>
<span class="hljs-comment">// é€šå¸¸éœ€è¦è‡ªå®šä¹‰å®ç°å¼‚æ­¥è¿­ä»£å™¨ï¼Œæ¶‰åŠå¤§é‡çŠ¶æ€ç®¡ç†ã€å›è°ƒç­‰ç¹çä»£ç ã€‚</span>
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šå¼‚æ­¥æµï¼ˆ<code>IAsyncEnumerable&lt;T&gt;</code>ï¼‰ç»“åˆäº†è¿­ä»£å™¨ï¼ˆ<code>yield return</code>ï¼‰å’Œå¼‚æ­¥ï¼ˆ<code>async/await</code>ï¼‰æ¨¡å¼ï¼Œä¸ºå¤„ç†æ•°æ®æµï¼ˆå¦‚å®æ—¶æ•°æ®ã€åˆ†é¡µæŸ¥è¯¢ï¼‰æä¾›äº†ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h4 data-id="heading-27"><strong>3. å¯ç©ºå¼•ç”¨ç±»å‹ (Nullable Reference Types)</strong></h4>
<p>è¯­æ³•ç³–å†™æ³•é€šè¿‡åœ¨ç±»å‹åæ·»åŠ <code>?</code>ï¼Œè®©ç¼–è¯‘å™¨å¯¹å¼•ç”¨ç±»å‹çš„ç©ºå€¼è¿›è¡Œé™æ€æµåˆ†æï¼Œæä¾›è­¦å‘Šã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•ï¼šå¯ç”¨#nullableä¸Šä¸‹æ–‡å</span>
<span class="hljs-built_in">string</span> name = <span class="hljs-literal">null</span>; <span class="hljs-comment">// ç¼–è¯‘å™¨è­¦å‘Šï¼šå¯èƒ½å°† null å¼•ç”¨èµ‹ç»™ä¸å¯ä¸º null çš„å®ä½“ã€‚</span>
<span class="hljs-built_in">string</span>? nullableName = <span class="hljs-literal">null</span>; <span class="hljs-comment">// æ­£ç¡®ï¼Œæ˜ç¡®å£°æ˜å¯ä¸ºnull</span>
Console.WriteLine(nullableName.Length); <span class="hljs-comment">// è­¦å‘Šï¼šå¯èƒ½å–æ¶ˆå¼•ç”¨ nullã€‚</span>
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•ï¼šæ‰€æœ‰å¼•ç”¨ç±»å‹éƒ½éšå¼å¯ä¸ºnullï¼Œæ²¡æœ‰ç¼–è¯‘æ—¶æ£€æŸ¥ã€‚</span>
<span class="hljs-built_in">string</span> name = <span class="hljs-literal">null</span>; <span class="hljs-comment">// æ— è­¦å‘Šï¼Œè¿è¡Œæ—¶å¯èƒ½æŠ›å‡ºNullReferenceException</span>
Console.WriteLine(name.Length); <span class="hljs-comment">// æ— è­¦å‘Šï¼Œç›´åˆ°è¿è¡Œæ—¶å‡ºé”™</span>
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šæ­¤ç‰¹æ€§å¹¶éä¼ ç»Ÿè¯­æ³•ç³–ï¼Œè€Œæ˜¯ä¸€é¡¹é‡å¤§çš„ç±»å‹ç³»ç»Ÿå¢å¼ºã€‚å®ƒé€šè¿‡ç¼–è¯‘å™¨è­¦å‘Šå°†æ½œåœ¨çš„<code>NullReferenceException</code>ä»è¿è¡Œæ—¶æå‰åˆ°ç¼–è¯‘æ—¶ï¼Œæå¤§åœ°æå‡äº†ä»£ç çš„å¥å£®æ€§ã€‚</p>
<h4 data-id="heading-28"><strong>4. åªè¯»ç»“æ„ä½“æˆå‘˜ (Readonly Members)</strong></h4>
<p>è¯­æ³•ç³–å†™æ³•å…è®¸åœ¨ç»“æ„ä½“çš„ç‰¹å®šæˆå‘˜ä¸Šæ ‡è®°<code>readonly</code>ï¼Œè¡¨æ˜è¯¥æˆå‘˜ä¸ä¼šä¿®æ”¹ç»“æ„ä½“çŠ¶æ€ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">struct</span> Point {
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">double</span> X { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">double</span> Y { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-comment">// å£°æ˜æ­¤æ–¹æ³•ä¸ä¼šä¿®æ”¹ç»“æ„ä½“</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">double</span> Distance =&gt; Math.Sqrt(X * X + Y * Y);
}
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•ï¼šæ— æ³•åœ¨æˆå‘˜çº§åˆ«å£°æ˜åªè¯»ã€‚è‹¥æƒ³ç¡®ä¿ä¸ä¿®æ”¹çŠ¶æ€ï¼Œéœ€å°†æ•´ä¸ªç»“æ„ä½“å£°æ˜ä¸ºreadonlyï¼Œé™åˆ¶è¾ƒå¤§ã€‚</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">struct</span> Point {
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">double</span> X { <span class="hljs-keyword">get</span>; } <span class="hljs-comment">// æ‰€æœ‰å­—æ®µ/å±æ€§éƒ½å¿…é¡»æ˜¯åªè¯»çš„</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">double</span> Y { <span class="hljs-keyword">get</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">double</span> Distance =&gt; Math.Sqrt(X * X + Y * Y);
}
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šæ›´ç»†ç²’åº¦çš„<code>readonly</code>ä¿®é¥°ç¬¦æå‡äº†æ€§èƒ½ï¼ˆå¸®åŠ©ç¼–è¯‘å™¨è¿›è¡Œä¼˜åŒ–ï¼‰å’Œè®¾è®¡æ„å›¾çš„æ¸…æ™°åº¦ã€‚</p>
<h3 data-id="heading-29"><strong>C# 9.0 è¯­æ³•ç³–</strong></h3>
<h4 data-id="heading-30"><strong>1. è®°å½•ç±»å‹ (Record Types)</strong></h4>
<p>è¯­æ³•ç³–å†™æ³•ç”¨äºå®šä¹‰ä¸å¯å˜çš„æ•°æ®è½½ä½“ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆå€¼ç›¸ç­‰æ€§æ¯”è¾ƒã€<code>ToString()</code>ç­‰æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•ï¼šä½¿ç”¨`record`å…³é”®å­—</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title">Person</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> FirstName, <span class="hljs-built_in">string</span> LastName</span>)</span>;
<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">var</span> person1 = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">"å¼ "</span>, <span class="hljs-string">"ä¸‰"</span>);
<span class="hljs-keyword">var</span> person2 = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">"å¼ "</span>, <span class="hljs-string">"ä¸‰"</span>);
Console.WriteLine(person1 == person2); <span class="hljs-comment">// è¾“å‡ºï¼šTrueï¼ŒåŸºäºå€¼çš„æ¯”è¾ƒ</span>
Console.WriteLine(person1); <span class="hljs-comment">// è¾“å‡ºï¼šPerson { FirstName = å¼ , LastName = ä¸‰ }</span>
<span class="hljs-comment">// éç ´åæ€§ä¿®æ”¹ï¼ˆwithè¡¨è¾¾å¼ï¼‰</span>
<span class="hljs-keyword">var</span> person3 = person1 <span class="hljs-keyword">with</span> { LastName = <span class="hljs-string">"å››"</span> };
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•ï¼šéœ€è¦æ‰‹åŠ¨ç¼–å†™å¤§é‡æ ·æ¿ä»£ç </span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> : <span class="hljs-title">IEquatable</span>&lt;<span class="hljs-title">Person</span>&gt; {
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> FirstName { <span class="hljs-keyword">get</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> LastName { <span class="hljs-keyword">get</span>; }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Person</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> firstName, <span class="hljs-built_in">string</span> lastName</span>)</span> {
        FirstName = firstName;
        LastName = lastName;
    }
    <span class="hljs-comment">// éœ€è¦æ‰‹åŠ¨é‡å†™Equals, GetHashCode, ToString, å®ç°è§£æ„æ–¹æ³•ç­‰ï¼Œä»£ç é‡æå¤§ã€‚</span>
    <span class="hljs-comment">// å®ç°å€¼ç›¸ç­‰æ€§æ¯”è¾ƒéå¸¸ç¹çã€‚</span>
    <span class="hljs-comment">// ä¸æ”¯æŒ`with`è¡¨è¾¾å¼ï¼Œä¿®æ”¹éœ€è¦åˆ›å»ºæ–°å¯¹è±¡å¹¶æ‰‹åŠ¨å¤åˆ¶æ‰€æœ‰å­—æ®µã€‚</span>
}
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼š<code>record</code>æ˜¯ä¸“ä¸ºä¸å¯å˜æ•°æ®å»ºæ¨¡è®¾è®¡çš„è¯­æ³•ç³–ï¼Œè‡ªåŠ¨å®ç°åŸºäºå€¼çš„è¯­ä¹‰ï¼Œæå¤§åœ°å‡å°‘äº†æ ·æ¿ä»£ç ï¼Œæ˜¯æ•°æ®ä¼ è¾“å¯¹è±¡ï¼ˆDTOï¼‰å’Œå€¼å¯¹è±¡çš„ç†æƒ³é€‰æ‹©ã€‚</p>
<h4 data-id="heading-31"><strong>2. æ¨¡å¼åŒ¹é…å¢å¼º (Enhanced Pattern Matching)</strong></h4>
<p>è¯­æ³•ç³–å†™æ³•å¼•å…¥äº†æ›´ç®€æ´çš„å…³ç³»æ¨¡å¼å’Œé€»è¾‘æ¨¡å¼ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•ï¼šå…³ç³»æ¨¡å¼ï¼ˆ&gt;, &lt;, &gt;=, &lt;=ï¼‰å’Œé€»è¾‘æ¨¡å¼ï¼ˆand, or, notï¼‰</span>
<span class="hljs-keyword">if</span> (temperature <span class="hljs-keyword">is</span> &gt; <span class="hljs-number">20</span> <span class="hljs-keyword">and</span> &lt; <span class="hljs-number">30</span>) {
    Console.WriteLine(<span class="hljs-string">"å®œäºº"</span>);
}
<span class="hljs-comment">// å±æ€§æ¨¡å¼</span>
<span class="hljs-keyword">if</span> (user <span class="hljs-keyword">is</span> { Age: &gt;= <span class="hljs-number">18</span>, Address.City: <span class="hljs-string">"åŒ—äº¬"</span> }) {
    Console.WriteLine(<span class="hljs-string">"åŒ—äº¬æˆå¹´ç”¨æˆ·"</span>);
}
<span class="hljs-comment">// åœ¨switchè¡¨è¾¾å¼ä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">var</span> category = age <span class="hljs-keyword">switch</span> {
    &lt; <span class="hljs-number">13</span> =&gt; <span class="hljs-string">"å„¿ç«¥"</span>,
    &gt;= <span class="hljs-number">13</span> <span class="hljs-keyword">and</span> &lt; <span class="hljs-number">18</span> =&gt; <span class="hljs-string">"é’å°‘å¹´"</span>,
    _ =&gt; <span class="hljs-string">"æˆäºº"</span>
};
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•ï¼šå¤šé‡æ¡ä»¶åˆ¤æ–­ï¼Œå†—é•¿ä¸”å®¹æ˜“å‡ºé”™</span>
<span class="hljs-keyword">if</span> (temperature &gt; <span class="hljs-number">20</span> &amp;&amp; temperature &lt; <span class="hljs-number">30</span>) {
    Console.WriteLine(<span class="hljs-string">"å®œäºº"</span>);
}
<span class="hljs-keyword">if</span> (user != <span class="hljs-literal">null</span> &amp;&amp; user.Age &gt;= <span class="hljs-number">18</span> &amp;&amp; user.Address != <span class="hljs-literal">null</span> &amp;&amp; user.Address.City == <span class="hljs-string">"åŒ—äº¬"</span>) {
    Console.WriteLine(<span class="hljs-string">"åŒ—äº¬æˆå¹´ç”¨æˆ·"</span>);
}
<span class="hljs-built_in">string</span> category;
<span class="hljs-keyword">if</span> (age &lt; <span class="hljs-number">13</span>) {
    category = <span class="hljs-string">"å„¿ç«¥"</span>;
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (age &lt; <span class="hljs-number">18</span>) {
    category = <span class="hljs-string">"é’å°‘å¹´"</span>;
} <span class="hljs-keyword">else</span> {
    category = <span class="hljs-string">"æˆäºº"</span>;
}
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šè¿™äº›å¢å¼ºä½¿æ¨¡å¼åŒ¹é…çš„è¯­æ³•æ›´ç¬¦åˆäººç±»ç›´è§‰ï¼Œèƒ½ç›´æ¥è¡¨è¾¾å¤æ‚æ¡ä»¶ï¼Œå°†åŸæœ¬éœ€è¦å¤šè¡ŒåµŒå¥—çš„<code>if</code>è¯­å¥å‹ç¼©ä¸ºæ¸…æ™°çš„ä¸€è¡Œã€‚</p>
<h4 data-id="heading-32"><strong>3. <code>init</code>è®¿é—®å™¨ (Init-only Setters)</strong></h4>
<p>è¯­æ³•ç³–å†™æ³•å…è®¸åœ¨å¯¹è±¡åˆå§‹åŒ–ï¼ˆæ„é€ æˆ–å¯¹è±¡åˆå§‹åŒ–å™¨ï¼‰æ—¶è®¾ç½®å±æ€§ï¼Œä¹‹åå˜ä¸ºåªè¯»ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> FirstName { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">init</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> LastName { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">init</span>; }
}
<span class="hljs-comment">// åªèƒ½åœ¨åˆå§‹åŒ–æ—¶èµ‹å€¼</span>
<span class="hljs-keyword">var</span> p = <span class="hljs-keyword">new</span> Person { FirstName = <span class="hljs-string">"å¼ "</span>, LastName = <span class="hljs-string">"ä¸‰"</span> };
<span class="hljs-comment">// p.FirstName = "æ"; // ç¼–è¯‘é”™è¯¯ï¼šinitè®¿é—®å™¨åªèƒ½åœ¨å¯¹è±¡åˆå§‹åŒ–æœŸé—´èµ‹å€¼ã€‚</span>
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•ï¼šé€šè¿‡ç§æœ‰setterå’Œæ„é€ å‡½æ•°å®ç°ï¼Œä¸å¤Ÿçµæ´»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> FirstName { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> LastName { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Person</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> firstName, <span class="hljs-built_in">string</span> lastName</span>)</span> {
        FirstName = firstName;
        LastName = lastName;
    }
}
<span class="hljs-comment">// æˆ–è€…ä½¿ç”¨åªè¯»å±æ€§é…åˆå†—é•¿çš„æ„é€ å‡½æ•°ã€‚</span>
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼š<code>init</code>è®¿é—®å™¨åœ¨çµæ´»çš„å¯¹è±¡åˆå§‹åŒ–è¯­æ³•å’Œåˆ›å»ºåçš„ä¸å¯å˜æ€§ä¹‹é—´å–å¾—äº†å®Œç¾å¹³è¡¡ï¼Œæ˜¯å®ç°ä¸å¯å˜å¯¹è±¡çš„å¦ä¸€ç§ç®€æ´æ–¹å¼ã€‚</p>
<h3 data-id="heading-33"><strong>C# 10.0 è¯­æ³•ç³–</strong></h3>
<h4 data-id="heading-34"><strong>1. æ–‡ä»¶èŒƒå›´å‘½åç©ºé—´ (File-scoped Namespaces)</strong></h4>
<p>è¯­æ³•ç³–å†™æ³•å°†æ•´ä¸ªæ–‡ä»¶éƒ½ç½®äºä¸€ä¸ªå‘½åç©ºé—´ä¸‹ï¼Œå‡å°‘ä¸€çº§ç¼©è¿›ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">MyCompany.MyProject</span>;
<span class="hljs-comment">// ä»æ­¤å¤„å¼€å§‹ï¼Œæ‰€æœ‰ç±»å‹éƒ½å±äº MyCompany.MyProject</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyClass</span> { }
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">MyCompany.MyProject</span> {
    <span class="hljs-comment">// æ•´ä¸ªæ–‡ä»¶å†…å®¹éœ€è¦ç¼©è¿›</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyClass</span> { }
}
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šå¯¹äºå¤§å¤šæ•°åªæœ‰ä¸€ä¸ªå‘½åç©ºé—´çš„æ–‡ä»¶ï¼Œæ­¤ç‰¹æ€§æ¶ˆé™¤äº†ä¸å¿…è¦çš„ç¼©è¿›ï¼Œä½¿ä»£ç æ›´ç®€æ´ï¼Œå°¤å…¶å¯¹åŒ…å«å¤§é‡ä»£ç çš„æ–‡ä»¶æ•ˆæœæ˜¾è‘—ã€‚</p>
<h4 data-id="heading-35"><strong>2. å…¨å±€<code>using</code>æŒ‡ä»¤ (Global Using Directives)</strong></h4>
<p>è¯­æ³•ç³–å†™æ³•å…è®¸åœ¨é¡¹ç›®çº§æˆ–ç¼–è¯‘å•å…ƒçº§å…¨å±€å¼•å…¥å‘½åç©ºé—´ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•ï¼šåœ¨æŸä¸ªæ–‡ä»¶ï¼ˆå¦‚GlobalUsings.csï¼‰ä¸­å£°æ˜</span>
<span class="hljs-keyword">global</span> <span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">global</span> <span class="hljs-keyword">using</span> System.Collections.Generic;
<span class="hljs-comment">// æ­¤åï¼Œé¡¹ç›®ä¸­çš„æ‰€æœ‰æ–‡ä»¶éƒ½æ— éœ€å†é‡å¤ç¼–å†™ä¸Šè¿°usingè¯­å¥</span>
<span class="hljs-comment">// åœ¨å¦ä¸€ä¸ªæ–‡ä»¶ä¸­</span>
<span class="hljs-keyword">var</span> list = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;(); <span class="hljs-comment">// ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€`using System.Collections.Generic;`</span>
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•ï¼šå¿…é¡»åœ¨æ¯ä¸ª.csæ–‡ä»¶çš„é¡¶éƒ¨é‡å¤æ·»åŠ usingæŒ‡ä»¤</span>
<span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Collections.Generic;
<span class="hljs-keyword">namespace</span> <span class="hljs-title">MyNamespace</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyClass</span> {
        <span class="hljs-keyword">var</span> list = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;();
    }
}
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šå‡å°‘äº†æ¯ä¸ªæ–‡ä»¶çš„é‡å¤ä»£ç ï¼Œç‰¹åˆ«æœ‰åˆ©äºå¤§å‹é¡¹ç›®å’Œå…±äº«é€šç”¨ä¾èµ–ã€‚</p>
<h3 data-id="heading-36"><strong>C# 11.0 è¯­æ³•ç³–</strong></h3>
<h4 data-id="heading-37"><strong>1. åŸå§‹å­—ç¬¦ä¸²å­—é¢é‡ (Raw String Literals)</strong></h4>
<p>è¯­æ³•ç³–å†™æ³•ç”¨äºå¤„ç†åŒ…å«å¤§é‡å¼•å·ã€æ¢è¡Œç¬¦å’Œè½¬ä¹‰å­—ç¬¦çš„å­—ç¬¦ä¸²ï¼ˆå¦‚JSONã€XMLã€SQLï¼‰ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•ï¼šä½¿ç”¨è‡³å°‘ä¸‰ä¸ªå¼•å·"""å¼€å¤´å’Œç»“å°¾</span>
<span class="hljs-built_in">string</span> json = <span class="hljs-string">""</span><span class="hljs-string">"
    {
        "</span>name<span class="hljs-string">": "</span>å¼ ä¸‰<span class="hljs-string">",
        "</span>age<span class="hljs-string">": 25,
        "</span>address<span class="hljs-string">": "</span>åŒ—äº¬å¸‚<span class="hljs-string">"
    }
    "</span><span class="hljs-string">""</span>;
<span class="hljs-comment">// å­—ç¬¦ä¸²å†…çš„å¼•å·å’Œæ¢è¡Œç¬¦ä¼šè¢«åŸæ ·ä¿ç•™ï¼Œæ— éœ€è½¬ä¹‰ã€‚</span>
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•ï¼šéœ€è¦å¤§é‡è½¬ä¹‰ï¼Œå¯è¯»æ€§æå·®</span>
<span class="hljs-built_in">string</span> json = <span class="hljs-string">"{\n    \"name\": \"å¼ ä¸‰\",\n    \"age\": 25,\n    \"address\": \"åŒ—äº¬å¸‚\"\n}"</span>;
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šæå¤§åœ°æ”¹å–„äº†å¤šè¡Œå­—ç¬¦ä¸²å’ŒåµŒå…¥å¼æ–‡æœ¬çš„ç¼–å†™ä½“éªŒï¼Œä½¿ä»£ç çœ‹èµ·æ¥å’Œæœ€ç»ˆè¾“å‡ºçš„æ–‡æœ¬æ ¼å¼å‡ ä¹ä¸€è‡´ï¼Œä¸æ˜“å‡ºé”™ã€‚</p>
<h4 data-id="heading-38"><strong>2. åˆ—è¡¨æ¨¡å¼ (List Patterns)</strong></h4>
<p>è¯­æ³•ç³–å†™æ³•å…è®¸åœ¨æ¨¡å¼åŒ¹é…ä¸­åŒ¹é…åˆ—è¡¨æˆ–æ•°ç»„çš„åºåˆ—ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•</span>
<span class="hljs-built_in">int</span>[] numbers = { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span> };
<span class="hljs-keyword">if</span> (numbers <span class="hljs-keyword">is</span> [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, .. <span class="hljs-keyword">var</span> rest]) {
    Console.WriteLine(<span class="hljs-string">$"å‰ä¸‰ä¸ªæ˜¯1,2,3ï¼Œå‰©ä½™<span class="hljs-subst">{rest.Length}</span>ä¸ªå…ƒç´ "</span>);
}
<span class="hljs-comment">// ä½¿ç”¨åˆ‡ç‰‡æ¨¡å¼ `..` åŒ¹é…å‰©ä½™éƒ¨åˆ†</span>
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•ï¼šéœ€è¦æ‰‹åŠ¨æ£€æŸ¥é•¿åº¦å’Œæ¯ä¸ªå…ƒç´ </span>
<span class="hljs-keyword">if</span> (numbers.Length &gt;= <span class="hljs-number">3</span> &amp;&amp; numbers[<span class="hljs-number">0</span>] == <span class="hljs-number">1</span> &amp;&amp; numbers[<span class="hljs-number">1</span>] == <span class="hljs-number">2</span> &amp;&amp; numbers[<span class="hljs-number">2</span>] == <span class="hljs-number">3</span>) {
    <span class="hljs-keyword">var</span> rest = numbers.Skip(<span class="hljs-number">3</span>).ToArray();
    Console.WriteLine(<span class="hljs-string">$"å‰ä¸‰ä¸ªæ˜¯1,2,3ï¼Œå‰©ä½™<span class="hljs-subst">{rest.Length}</span>ä¸ªå…ƒç´ "</span>);
}
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šå°†åºåˆ—åŒ¹é…èƒ½åŠ›é›†æˆåˆ°æ¨¡å¼åŒ¹é…ä½“ç³»ä¸­ï¼Œä¸ºå¤„ç†æ•°ç»„å’Œåˆ—è¡¨æä¾›äº†å£°æ˜å¼ä¸”å¼ºå¤§çš„æ–°å·¥å…·ã€‚</p>
<h3 data-id="heading-39"><strong>C# 12.0 è¯­æ³•ç³–</strong></h3>
<h4 data-id="heading-40"><strong>1. ä¸»æ„é€ å‡½æ•° (Primary Constructors)</strong></h4>
<p>è¯­æ³•ç³–å†™æ³•å…è®¸åœ¨ç±»æˆ–ç»“æ„ä½“å£°æ˜ä¸­ç›´æ¥å®šä¹‰æ„é€ å‡½æ•°å‚æ•°ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•ï¼šå‚æ•°ç›´æ¥æˆä¸ºç±»çš„éšå¼ä½œç”¨åŸŸ</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> firstName, <span class="hljs-built_in">string</span> lastName</span>)</span> {
    <span class="hljs-comment">// å¯ä»¥åœ¨ç±»ä½“å†…ç›´æ¥ä½¿ç”¨firstNameå’ŒlastName</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> FullName =&gt; <span class="hljs-string">$"<span class="hljs-subst">{firstName}</span> <span class="hljs-subst">{lastName}</span>"</span>;
    <span class="hljs-comment">// ä¹Ÿå¯ä»¥é€‰æ‹©å°†å…¶å…¬å¼€ä¸ºå±æ€§</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> FirstName =&gt; firstName;
}
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">string</span> _firstName;
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">string</span> _lastName;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Person</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> firstName, <span class="hljs-built_in">string</span> lastName</span>)</span> {
        _firstName = firstName;
        _lastName = lastName;
    }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> FullName =&gt; <span class="hljs-string">$"<span class="hljs-subst">{_firstName}</span> <span class="hljs-subst">{_lastName}</span>"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> FirstName =&gt; _firstName;
}
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šè¿›ä¸€æ­¥å‡å°‘äº†ä»…ç”¨äºåˆå§‹åŒ–å­—æ®µçš„æ„é€ å‡½æ•°æ‰€éœ€çš„æ ·æ¿ä»£ç ï¼Œä½¿ç±»å®šä¹‰æ›´åŠ ç´§å‡‘å’Œå£°æ˜å¼ã€‚</p>
<h4 data-id="heading-41"><strong>2. é›†åˆè¡¨è¾¾å¼ (Collection Expressions)</strong></h4>
<p>è¯­æ³•ç³–å†™æ³•æä¾›äº†ä¸€ç§ç»Ÿä¸€ã€ç®€æ´çš„è¯­æ³•æ¥åˆå§‹åŒ–å„ç§é›†åˆç±»å‹ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•ï¼šä½¿ç”¨æ–¹æ‹¬å·[]</span>
<span class="hljs-built_in">int</span>[] array = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
List&lt;<span class="hljs-built_in">int</span>&gt; list = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>];
Span&lt;<span class="hljs-built_in">int</span>&gt; span = [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>];
<span class="hljs-comment">// æ”¯æŒå±•å¼€è¿ç®—ç¬¦ `..`</span>
<span class="hljs-built_in">int</span>[] combined = [.. array, .. list, <span class="hljs-number">10</span>];
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•ï¼šä¸åŒç±»å‹è¯­æ³•ä¸åŒï¼Œä¸”åˆå¹¶é›†åˆç¹ç</span>
<span class="hljs-built_in">int</span>[] array = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>[] { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> };
List&lt;<span class="hljs-built_in">int</span>&gt; list = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">int</span>&gt;() { <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span> };
<span class="hljs-comment">// åˆå¹¶é›†åˆ</span>
List&lt;<span class="hljs-built_in">int</span>&gt; combined = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">int</span>&gt;();
combined.AddRange(array);
combined.AddRange(list);
combined.Add(<span class="hljs-number">10</span>);
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šç”¨<code>[]</code>è¿™ä¸€ç§è¯­æ³•ç»Ÿä¸€äº†å‡ ä¹æ‰€æœ‰é›†åˆç±»å‹çš„åˆå§‹åŒ–æ–¹å¼ï¼Œå¹¶ç®€åŒ–äº†é›†åˆåˆå¹¶æ“ä½œï¼Œæ˜¯è¯­æ³•ç®€æ´æ€§å’Œä¸€è‡´æ€§çš„é‡å¤§æå‡ã€‚</p>
<h4 data-id="heading-42"><strong>3. å†…è”æ•°ç»„ (Inline Arrays)</strong></h4>
<p>è¯­æ³•ç³–å†™æ³•å…è®¸å¼€å‘è€…å®šä¹‰å›ºå®šå¤§å°çš„ç»“æ„ä½“æ•°ç»„ï¼Œè¿™æ˜¯ä¸€ç§åº•å±‚æ€§èƒ½ä¼˜åŒ–ç‰¹æ€§ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•ï¼šä½¿ç”¨[System.Runtime.CompilerServices.InlineArray]ç‰¹æ€§</span>
[<span class="hljs-meta">System.Runtime.CompilerServices.InlineArray(10)</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">struct</span> Buffer10 {
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> _element0; <span class="hljs-comment">// åªéœ€å®šä¹‰ä¸€ä¸ªç§æœ‰å­—æ®µ</span>
}

<span class="hljs-comment">// ä½¿ç”¨èµ·æ¥å°±åƒä¸€ä¸ªæ™®é€šçš„æ•°ç»„</span>
<span class="hljs-keyword">var</span> buffer = <span class="hljs-keyword">new</span> Buffer10();
<span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
    buffer[i] = i; <span class="hljs-comment">// åƒæ•°ç»„ä¸€æ ·ç´¢å¼•è®¿é—®</span>
}
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•ï¼šä½¿ç”¨å›ºå®šå¤§å°çš„æ•°ç»„ï¼ˆfixed arrayï¼‰ï¼Œéœ€è¦ä¸å®‰å…¨ä¸Šä¸‹æ–‡(unsafe)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">unsafe</span> <span class="hljs-keyword">struct</span> Buffer10 {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">fixed</span> <span class="hljs-built_in">int</span> Data[<span class="hljs-number">10</span>]; <span class="hljs-comment">// åœ¨ç»“æ„ä½“ä¸­å£°æ˜å›ºå®šå¤§å°çš„ç¼“å†²åŒº</span>
}

<span class="hljs-comment">// ä½¿ç”¨èµ·æ¥ä¸ä¾¿ä¸”ä¸å®‰å…¨</span>
<span class="hljs-keyword">var</span> buffer = <span class="hljs-keyword">new</span> Buffer10();
<span class="hljs-keyword">unsafe</span> {
    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
        buffer.Data[i] = i;
    }
}
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šå†…è”æ•°ç»„æ˜¯å®‰å…¨ä»£ç ä¸­å¯¹å›ºå®šå¤§å°ç¼“å†²åŒºçš„é«˜æ€§èƒ½æ›¿ä»£æ–¹æ¡ˆã€‚å®ƒé¿å…äº†å›ºå®šç¼“å†²åŒºçš„å¤æ‚æ€§å’Œä¸å®‰å…¨ä¸Šä¸‹æ–‡ï¼ŒåŒæ—¶ä»èƒ½æä¾›ç±»ä¼¼çš„æ€§èƒ½ä¼˜åŠ¿ï¼Œä¸»è¦ç”¨äºé«˜çº§åœºæ™¯ï¼ˆå¦‚æ¸¸æˆå¼•æ“ã€é«˜æ€§èƒ½è®¡ç®—ï¼‰ã€‚</p>
<h4 data-id="heading-43"><strong>4. Lambdaè¡¨è¾¾å¼å‚æ•°é»˜è®¤å€¼</strong></h4>
<p>è¯­æ³•ç³–å†™æ³•å…è®¸ä¸ºLambdaè¡¨è¾¾å¼çš„å‚æ•°æŒ‡å®šé»˜è®¤å€¼ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•</span>
<span class="hljs-keyword">var</span> <span class="hljs-keyword">add</span> = (<span class="hljs-built_in">int</span> x, <span class="hljs-built_in">int</span> y = <span class="hljs-number">5</span>) =&gt; x + y;
Console.WriteLine(<span class="hljs-keyword">add</span>(<span class="hljs-number">10</span>));     <span class="hljs-comment">// è¾“å‡º15 (10+5)</span>
Console.WriteLine(<span class="hljs-keyword">add</span>(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>)); <span class="hljs-comment">// è¾“å‡º30 (10+20)</span>
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•ï¼šå¿…é¡»ä½¿ç”¨å…·åæ–¹æ³•æ‰èƒ½å®ç°å‚æ•°é»˜è®¤å€¼</span>
<span class="hljs-function"><span class="hljs-built_in">int</span> <span class="hljs-title">Add</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> x, <span class="hljs-built_in">int</span> y = <span class="hljs-number">5</span></span>)</span> =&gt; x + y;
<span class="hljs-keyword">var</span> <span class="hljs-keyword">add</span> = <span class="hljs-keyword">new</span> Func&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>&gt;(Add);
<span class="hljs-comment">// æˆ–è€…ä½¿ç”¨å§”æ‰˜åŒ…è£¹</span>
<span class="hljs-keyword">var</span> <span class="hljs-keyword">add</span> = <span class="hljs-keyword">new</span> Func&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>&gt;((x, y) =&gt; Add(x, y));
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šè¿™ä¸€ç‰¹æ€§è®©Lambdaè¡¨è¾¾å¼çš„åŠŸèƒ½æ›´æ¥è¿‘å¸¸è§„æ–¹æ³•ï¼Œæé«˜äº†è¡¨è¾¾å¼çš„çµæ´»æ€§ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦éƒ¨åˆ†åº”ç”¨å‚æ•°æˆ–åˆ›å»ºçµæ´»å›è°ƒçš„åœºæ™¯ä¸­ã€‚</p>
<h4 data-id="heading-44"><strong>5. å®éªŒæ€§ç‰¹æ€§ï¼šæ‹¦æˆªå™¨ (Interceptors)</strong></h4>
<p>è¿™æ˜¯ä¸€ä¸ªåœ¨C# 12ä¸­é¦–æ¬¡å¼•å…¥çš„å®éªŒæ€§ç‰¹æ€§ï¼Œå…è®¸åœ¨ç¼–è¯‘æ—¶é‡å®šå‘æ–¹æ³•è°ƒç”¨ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•/æ¦‚å¿µç¤ºæ„ï¼ˆå®é™…ä½¿ç”¨éœ€ç‰¹æ®Šé…ç½®ï¼‰</span>
<span class="hljs-comment">// å‡è®¾æˆ‘ä»¬æ‹¦æˆªå¯¹Console.WriteLineçš„è°ƒç”¨</span>
<span class="hljs-comment">// åœ¨å¦ä¸€ä¸ªæ–‡ä»¶ä¸­ä½¿ç”¨æ‹¦æˆªå™¨</span>
Console.WriteLine(<span class="hljs-string">"Hello"</span>); <span class="hljs-comment">// è¿™è¡Œä»£ç åœ¨ç¼–è¯‘æ—¶å¯èƒ½è¢«é‡å®šå‘åˆ°å…¶ä»–å®ç°</span>
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•ï¼šè¦å®ç°ç±»ä¼¼åŠŸèƒ½ï¼Œéœ€è¦ä½¿ç”¨è£…é¥°å™¨æ¨¡å¼ã€ä»£ç†æ¨¡å¼æˆ–AOPæ¡†æ¶</span>
<span class="hljs-comment">// ä¾‹å¦‚ä½¿ç”¨è£…é¥°å™¨</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">LoggingConsoleWriter</span> : <span class="hljs-title">IConsoleWriter</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IConsoleWriter _inner;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">WriteLine</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> message</span>)</span> {
        Log.Info(<span class="hljs-string">$"About to write: <span class="hljs-subst">{message}</span>"</span>);
        _inner.WriteLine(message);
    }
}
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šæ‹¦æˆªå™¨æ˜¯ä¸€ä¸ªé«˜çº§çš„ç¼–è¯‘æ—¶å…ƒç¼–ç¨‹ç‰¹æ€§ï¼Œå®ƒå…è®¸åº“ä½œè€…åœ¨ä¸ä¿®æ”¹ç”¨æˆ·æºä»£ç çš„æƒ…å†µä¸‹ï¼Œåœ¨ç¼–è¯‘æ—¶æ”¹å˜ç‰¹å®šæ–¹æ³•è°ƒç”¨çš„è¡Œä¸ºã€‚<strong>æ³¨æ„</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªå®éªŒæ€§ç‰¹æ€§ï¼Œä¸»è¦ç”¨äºæºç”Ÿæˆå™¨ç­‰é«˜çº§åœºæ™¯ï¼Œæ™®é€šåº”ç”¨ç¨‹åºå¼€å‘ä¸­ä¸æ¨èä½¿ç”¨ã€‚</p>
<h3 data-id="heading-45"><strong>C# 13.0 é¢„è§ˆè¯­æ³•ç³–</strong></h3>
<p>ä»¥ä¸‹æ˜¯æ ¹æ®C#è¯­è¨€å‘å±•è·¯çº¿å›¾å·²å…¬å¸ƒçš„éƒ¨åˆ†ç‰¹æ€§ï¼ˆæˆªè‡³2024å¹´ï¼‰ï¼Œè¿™äº›ç‰¹æ€§å¯èƒ½åœ¨C# 13.0æˆ–æ›´é«˜ç‰ˆæœ¬ä¸­æ­£å¼æ¨å‡ºã€‚</p>
<h4 data-id="heading-46"><strong>1. æ‰©å±•ä¸€åˆ‡ (Extension Everything)</strong></h4>
<p>è¯­æ³•ç³–å†™æ³•å¯èƒ½å…è®¸ä¸ºæ›´å¤šç±»å‹ï¼ˆå¦‚å€¼ç±»å‹ã€å§”æ‰˜ç­‰ï¼‰å®šä¹‰æ‰©å±•æ–¹æ³•ï¼Œç”šè‡³å¯èƒ½æ”¯æŒæ‰©å±•å±æ€§ç­‰ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•ï¼ˆå‡è®¾è¯­æ³•ï¼‰</span>
<span class="hljs-comment">// æ‰©å±•å±æ€§</span>
<span class="hljs-keyword">public</span> extension property <span class="hljs-built_in">string</span>.StringStats <span class="hljs-keyword">for</span> <span class="hljs-built_in">string</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> IsPalindrome =&gt; <span class="hljs-keyword">this</span>.SequenceEqual(<span class="hljs-keyword">this</span>.Reverse());
}

<span class="hljs-comment">// æ‰©å±•å€¼ç±»å‹æ–¹æ³•</span>
<span class="hljs-keyword">public</span> extension method <span class="hljs-built_in">int</span>.Double() <span class="hljs-keyword">for</span> <span class="hljs-built_in">int</span> =&gt; <span class="hljs-keyword">this</span> * <span class="hljs-number">2</span>;
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•ï¼šç›®å‰åªèƒ½ä¸ºå¼•ç”¨ç±»å‹å®šä¹‰æ‰©å±•æ–¹æ³•</span>
<span class="hljs-comment">// æ— æ³•ä¸ºstringå®šä¹‰æ‰©å±•å±æ€§</span>
<span class="hljs-comment">// æ£€æŸ¥å›æ–‡éœ€è¦å®šä¹‰ä¸€ä¸ªæ‰©å±•æ–¹æ³•</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">IsPalindrome</span>(<span class="hljs-params"><span class="hljs-keyword">this</span> <span class="hljs-built_in">string</span> str</span>)</span> {
    <span class="hljs-keyword">return</span> str.SequenceEqual(str.Reverse());
}
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šè¿™å°†å¤§å¤§å¢å¼ºæ‰©å±•æ–¹æ³•çš„èƒ½åŠ›ï¼Œå…è®¸æ›´ä¸°å¯Œçš„APIè®¾è®¡å’Œæ›´æµç•…çš„ç¼–ç¨‹ä½“éªŒã€‚</p>
<h4 data-id="heading-47"><strong>2. è§’è‰²å’Œæ‰©å±•æ¥å£ (Roles and Extensions)</strong></h4>
<p>è¿™æ˜¯ä¸€ä¸ªæ›´æ·±å…¥çš„æ‰©å±•æ€§ææ¡ˆï¼Œå¯èƒ½å…è®¸æ¥å£æœ‰é»˜è®¤å®ç°ã€ä¸ºç°æœ‰ç±»å‹æ·»åŠ æ¥å£å®ç°ç­‰ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•ï¼ˆå‡è®¾è¯­æ³•ï¼‰</span>
<span class="hljs-comment">// ä¸ºç°æœ‰ç±»å‹æ·»åŠ æ¥å£å®ç°</span>
<span class="hljs-keyword">public</span> extension role MyList&lt;T&gt; : IReadOnlyList&lt;T&gt; <span class="hljs-keyword">for</span> List&lt;T&gt; {
    <span class="hljs-comment">// å®ç°æ¥å£æˆå‘˜</span>
}

<span class="hljs-comment">// æ¥å£ä¸­çš„é»˜è®¤å®ç°å¢å¼º</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IRepository</span>&lt;<span class="hljs-title">T</span>&gt; {
    <span class="hljs-function">T <span class="hljs-title">GetById</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> id</span>)</span> =&gt; <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NotImplementedException();
}
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹å†™æ³•ï¼šéœ€è¦ä½¿ç”¨é€‚é…å™¨æ¨¡å¼åŒ…è£…ç°æœ‰ç±»å‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyListAdapter</span>&lt;<span class="hljs-title">T</span>&gt; : <span class="hljs-title">IReadOnlyList</span>&lt;<span class="hljs-title">T</span>&gt; {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> List&lt;T&gt; _inner;
    <span class="hljs-comment">// åŒ…è£…æ‰€æœ‰List&lt;T&gt;çš„æ–¹æ³•å’ŒIReadOnlyList&lt;T&gt;çš„å®ç°</span>
}
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šè¿™ä¸€ç‰¹æ€§æ—¨åœ¨è§£å†³C#ä¸­é•¿æœŸå­˜åœ¨çš„"è„†å¼±åŸºç±»"é—®é¢˜ï¼Œå¹¶å…è®¸æ›´çµæ´»çš„ä»£ç å¤ç”¨å’ŒAPIè®¾è®¡ã€‚</p>
<h4 data-id="heading-48"><strong>3. å‚æ•°ç©ºå€¼æ£€æŸ¥çš„è¿›ä¸€æ­¥ç®€åŒ–</strong></h4>
<p>è¯­æ³•ç³–å†™æ³•å¯èƒ½æä¾›æ›´ç®€æ´çš„æ–¹å¼æ¥è¿›è¡Œå‚æ•°ç©ºå€¼æ£€æŸ¥ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è¯­æ³•ç³–å†™æ³•ï¼ˆå‡è®¾è¯­æ³•ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ProcessUser</span>(<span class="hljs-params">User! user</span>)</span> { <span class="hljs-comment">// !è¡¨ç¤ºå‚æ•°ä¸å¯ä¸ºnull</span>
    <span class="hljs-comment">// ç¼–è¯‘å™¨è‡ªåŠ¨æ’å…¥ç©ºå€¼æ£€æŸ¥</span>
}
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// å½“å‰å†™æ³•</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ProcessUser</span>(<span class="hljs-params">User user</span>)</span> {
    ArgumentNullException.ThrowIfNull(user);
    <span class="hljs-comment">// æˆ–è€…</span>
    <span class="hljs-keyword">if</span> (user <span class="hljs-keyword">is</span> <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(<span class="hljs-keyword">nameof</span>(user));
    }
}
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šè¿™ä¸€ç‰¹æ€§å°†è¿›ä¸€æ­¥ç®€åŒ–ç©ºå€¼æ£€æŸ¥çš„ä»£ç ï¼Œç‰¹åˆ«æ˜¯ç»“åˆå¯ç©ºå¼•ç”¨ç±»å‹ç‰¹æ€§ï¼Œä½¿ç©ºå®‰å…¨ä»£ç æ›´åŠ ç®€æ´ã€‚</p>
<h3 data-id="heading-49"><strong>è¯­æ³•ç³–ä½¿ç”¨çš„æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹</strong></h3>
<p>é€šè¿‡äº†è§£è¿™ä¹ˆå¤šè¯­æ³•ç³–ï¼Œä»¥ä¸‹å‡ ç‚¹æœ€ä½³å®è·µå¯ä»¥å¸®åŠ©ä½ æ›´å¥½åœ°è¿ç”¨å®ƒä»¬ï¼š</p>
<ol>
<li>
<p><strong>æ¸è¿›å¼é‡‡ç”¨</strong>ï¼šä¸éœ€è¦ä¸€æ¬¡æ€§æŒæ¡æ‰€æœ‰ç‰¹æ€§ã€‚å¯ä»¥ä»æœ€å¸¸ç”¨ã€å¯¹ä»£ç è´¨é‡æå‡æœ€æ˜æ˜¾çš„ç‰¹æ€§å¼€å§‹ï¼ˆå¦‚ç©ºæ¡ä»¶è¿ç®—ç¬¦ã€å­—ç¬¦ä¸²æ’å€¼ã€è®°å½•ç±»å‹ï¼‰ï¼Œé€æ­¥åº”ç”¨åˆ°é¡¹ç›®ä¸­ã€‚</p>
</li>
<li>
<p><strong>ä¿æŒä»£ç å¯è¯»æ€§</strong>ï¼šè¯­æ³•ç³–çš„ç›®çš„æ˜¯è®©ä»£ç æ›´ç®€æ´ï¼Œä½†è¿‡åº¦ä½¿ç”¨æˆ–åµŒå¥—å¯èƒ½å¯¼è‡´ä»£ç éš¾ä»¥ç†è§£ã€‚ä¾‹å¦‚ï¼Œåº”è°¨æ…ä½¿ç”¨æ·±å±‚åµŒå¥—çš„?.é“¾æˆ–è¿‡äºå¤æ‚çš„æ¨¡å¼åŒ¹é…è¡¨è¾¾å¼ã€‚</p>
</li>
<li>
<p><strong>äº†è§£ç¼–è¯‘åçš„æœ¬è´¨</strong>ï¼šäº†è§£è¯­æ³•ç³–èƒŒåçš„ç¼–è¯‘æœºåˆ¶æœ‰åŠ©äºä½ ç†è§£å…¶æ€§èƒ½ç‰¹æ€§ã€‚ä¾‹å¦‚ï¼Œè®°å½•ç±»å‹ï¼ˆrecordï¼‰è™½ç„¶è¯­æ³•ç®€æ´ï¼Œä½†å®ƒç”Ÿæˆçš„ä»£ç å¹¶ä¸ç®€å•ï¼Œç¼–è¯‘å™¨ä¸ºå…¶ç”Ÿæˆäº†å¤§é‡æ ·æ¿ä»£ç ã€‚</p>
</li>
<li>
<p><strong>å›¢é˜Ÿä¸€è‡´æ€§</strong>ï¼šåœ¨å›¢é˜Ÿé¡¹ç›®ä¸­ï¼Œåº”ä¸å›¢é˜Ÿæˆå‘˜åå•†ç¡®å®šå“ªäº›è¯­æ³•ç³–å¯ä»¥å¹¿æ³›ä½¿ç”¨ï¼Œå“ªäº›éœ€è¦é™åˆ¶ä½¿ç”¨ï¼Œä»¥ä¿æŒä»£ç åº“çš„ä¸€è‡´æ€§ã€‚</p>
</li>
<li>
<p><strong>è€ƒè™‘å‘åå…¼å®¹æ€§</strong>ï¼šå¦‚æœä½ çš„é¡¹ç›®éœ€è¦æ”¯æŒæ—§ç‰ˆæœ¬çš„.NET Frameworkæˆ–æ—§ç‰ˆç¼–è¯‘å™¨ï¼Œéœ€è¦æ³¨æ„æŸäº›è¯­æ³•ç³–å¯èƒ½ä¸å¯ç”¨ã€‚C# 9.0+çš„è®¸å¤šç‰¹æ€§éœ€è¦.NET 5+è¿è¡Œæ—¶æ”¯æŒã€‚</p>
</li>
<li>
<p><strong>å–„ç”¨IDEæ”¯æŒ</strong>ï¼šç°ä»£IDEï¼ˆå¦‚Visual Studioã€Riderã€VS Code with C#æ’ä»¶ï¼‰å¯¹C#è¯­æ³•ç³–æœ‰å¾ˆå¥½çš„æ”¯æŒï¼ŒåŒ…æ‹¬ä»£ç è½¬æ¢å»ºè®®ã€è¯­æ³•é«˜äº®å’Œé‡æ„å·¥å…·ï¼Œè¿™æœ‰åŠ©äºå­¦ä¹ å’Œåº”ç”¨è¿™äº›ç‰¹æ€§ã€‚</p>
</li>
<li>
<p><strong>é¿å…"ç‚«æŠ€"ç¼–ç </strong>ï¼šè¯­æ³•ç³–æ˜¯å·¥å…·ï¼Œä¸æ˜¯ç›®çš„ã€‚ä½¿ç”¨è¯­æ³•ç³–åº”è¯¥ä»¥æå‡ä»£ç æ¸…æ™°åº¦ã€å¯ç»´æŠ¤æ€§å’Œå¼€å‘æ•ˆç‡ä¸ºç›®æ ‡ï¼Œè€Œä¸æ˜¯ä¸ºäº†å±•ç¤ºæŠ€æœ¯èƒ½åŠ›ã€‚</p>
</li>
</ol>
<h3 data-id="heading-50"><strong>æ€»ç»“</strong></h3>
<p>ä»C# 2.0åˆ°æœªæ¥çš„13.0ï¼ŒC#è¯­è¨€æ­£åœ¨æœç€æ›´å£°æ˜å¼ã€æ›´å®‰å…¨ã€æ›´é«˜æ•ˆçš„æ–¹å‘å‘å±•ã€‚è¯­æ³•ç³–ä¸ä»…ä»…æ˜¯è®©ä»£ç "å˜ç”œ"çš„è¡¨é¢ä¿®é¥°ï¼Œå®ƒä»¬åæ˜ äº†è¯­è¨€è®¾è®¡è€…å¯¹å¼€å‘è€…ç—›ç‚¹çš„æ·±åˆ»ç†è§£å’Œè§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li><strong>å‡å°‘æ ·æ¿ä»£ç </strong>ï¼šè®°å½•ç±»å‹ã€ä¸»æ„é€ å‡½æ•°ã€usingå£°æ˜ç­‰ç‰¹æ€§å¤§å¹…å‡å°‘äº†ä¸å¾—ä¸å†™çš„æ¨¡æ¿ä»£ç ã€‚</li>
<li><strong>æå‡ä»£ç å®‰å…¨æ€§</strong>ï¼šå¯ç©ºå¼•ç”¨ç±»å‹ã€æ¨¡å¼åŒ¹é…ç­‰ç‰¹æ€§åœ¨ç¼–è¯‘æœŸæ•è·æ›´å¤šæ½œåœ¨é”™è¯¯ã€‚</li>
<li><strong>æ”¹å–„è¡¨è¾¾åŠ›</strong>ï¼šLambdaè¡¨è¾¾å¼ã€æ‰©å±•æ–¹æ³•ã€é›†åˆè¡¨è¾¾å¼ç­‰è®©ä»£ç æ„å›¾æ›´åŠ æ¸…æ™°ã€‚</li>
<li><strong>æ‹¥æŠ±æ–°èŒƒå¼</strong>ï¼šasync/awaitã€å¼‚æ­¥æµç­‰ç‰¹æ€§è®©å¼‚æ­¥ç¼–ç¨‹å’Œæµå¤„ç†æ›´åŠ è‡ªç„¶ã€‚</li>
</ul>
<p>ç†è§£è¿™äº›è¯­æ³•ç³–ä¸ä»…è®©ä½ èƒ½è¯»æ‡‚åˆ«äººçš„ç°ä»£C#ä»£ç ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œå®ƒè®©ä½ èƒ½å¤Ÿä»¥æ›´é«˜æ•ˆã€æ›´å®‰å…¨çš„æ–¹å¼è¡¨è¾¾è‡ªå·±çš„ç¼–ç¨‹æ€æƒ³ã€‚éšç€C#è¯­è¨€çš„æŒç»­è¿›åŒ–ï¼ŒæŒæ¡è¿™äº›ç‰¹æ€§å°†æˆä¸ºæ¯ä¸€ä½C#å¼€å‘è€…çš„æ ¸å¿ƒç«äº‰åŠ›ã€‚</p>
<p>è®°ä½ï¼Œæœ€å¥½çš„ä»£ç ä¸æ˜¯ä½¿ç”¨äº†æœ€å¤šè¯­æ³•ç³–çš„ä»£ç ï¼Œè€Œæ˜¯æœ€æ¸…æ™°åœ°è¡¨è¾¾äº†ç¨‹åºè®¾è®¡æ„å›¾çš„ä»£ç ã€‚è¯­æ³•ç³–æ˜¯è¾¾æˆè¿™ä¸€ç›®æ ‡çš„å¼ºå¤§å·¥å…·ï¼Œä½†å§‹ç»ˆè¦ä¸ºä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§æœåŠ¡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C++11åˆ°C++23è¯­æ³•ç³–ä¸‡å­—è¯¦è§£]]></title>    <link>https://juejin.cn/post/7579961957194072114</link>    <guid>https://juejin.cn/post/7579961957194072114</guid>    <pubDate>2025-12-04T12:54:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579961957194072114" data-draft-id="7579832186880262194" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C++11åˆ°C++23è¯­æ³•ç³–ä¸‡å­—è¯¦è§£"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-04T12:54:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C++11åˆ°C++23è¯­æ³•ç³–ä¸‡å­—è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T12:54:49.000Z" title="Thu Dec 04 2025 12:54:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»25åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä½ æ˜¯å¦æ›¾é¢å¯¹åŒäº‹çš„ç°ä»£C++ä»£ç ï¼Œçœ‹åˆ°æ»¡å±çš„<code>auto</code>ã€å¥‡æ€ªçš„Lambdaè¡¨è¾¾å¼<code>[](){}</code>ã€çœ‹ä¸æ‡‚çš„<code>std::move</code>è€Œæ„Ÿåˆ°å›°æƒ‘ï¼Ÿæˆ–è€…è§‰å¾—ç°ä»£C++ä»£ç çœ‹èµ·æ¥å’Œâ€œä¼ ç»ŸC++â€å®Œå…¨ä¸åŒï¼Œéš¾ä»¥å¿«é€Ÿç†è§£ï¼Ÿåˆ«æ‹…å¿ƒï¼Œè¿™å¾ˆå¯èƒ½åªæ˜¯å› ä¸ºä½ è¿˜ä¸ç†Ÿæ‚‰C++11ä»¥æ¥å¼•å…¥çš„å¤§é‡â€œè¯­æ³•ç³–â€ã€‚</p>
</blockquote>
<p>è¯­æ³•ç³–æ˜¯ç¼–ç¨‹è¯­è¨€ä¸­ä¸ºå¸¸è§æ¨¡å¼æä¾›çš„ç®€æ´è¯­æ³•ï¼Œå®ƒä»¬ä¸å¢åŠ æ–°åŠŸèƒ½ï¼Œä½†è®©ä»£ç æ›´æ˜“å†™ã€æ˜“è¯»ã€‚ä»C++11å¼€å§‹ï¼ŒC++ç»å†äº†é©å‘½æ€§å˜åŒ–ï¼Œå¼•å…¥äº†å¤§é‡ä½¿ä»£ç æ›´ç®€æ´ã€å®‰å…¨ã€é«˜æ•ˆçš„æ–°ç‰¹æ€§ã€‚æœ¬æ–‡å°†è¯¦ç»†è§£æè¿™äº›è¯­æ³•ç³–ï¼Œå¯¹æ¯”æ–°æ—§å†™æ³•ï¼Œå¸®åŠ©ä½ è½»æ¾æŒæ¡ç°ä»£C++ã€‚</p>
<p>ä¸‹é¢çš„è¡¨æ ¼å±•ç¤ºäº†ç°ä»£C++å„ç‰ˆæœ¬çš„æ ¸å¿ƒè¯­æ³•ç³–ï¼Œå¸®åŠ©ä½ å¿«é€Ÿäº†è§£å®ƒä»¬ä½•æ—¶å‡ºç°ã€æœ‰ä½•ç”¨é€”ï¼š</p>



































<table><thead><tr><th>C++ç‰ˆæœ¬</th><th>æ ¸å¿ƒè¯­æ³•ç³–ç‰¹æ€§</th><th>ä¸»è¦ç”¨é€”ä¸ä¼˜åŠ¿</th></tr></thead><tbody><tr><td><strong>C++11</strong></td><td>autoç±»å‹æ¨å¯¼ã€èŒƒå›´forå¾ªç¯ã€Lambdaè¡¨è¾¾å¼ã€nullptrã€åˆ—è¡¨åˆå§‹åŒ–ã€usingåˆ«åã€å§”æ‰˜æ„é€ å‡½æ•°</td><td>ç®€åŒ–ç±»å‹å£°æ˜ã€ä¾¿æ·éå†å®¹å™¨ã€åˆ›å»ºåŒ¿åå‡½æ•°ã€å®‰å…¨ç©ºæŒ‡é’ˆã€ç»Ÿä¸€åˆå§‹åŒ–è¯­æ³•</td></tr><tr><td><strong>C++14</strong></td><td>æ³›å‹Lambdaã€autoå‡½æ•°è¿”å›ç±»å‹æ¨å¯¼ã€æ•°å­—å­—é¢é‡åˆ†éš”ç¬¦</td><td>å¢å¼ºLambdaçµæ´»æ€§ã€ç®€åŒ–å‡½æ•°å£°æ˜ã€æé«˜æ•°å­—å¯è¯»æ€§</td></tr><tr><td><strong>C++17</strong></td><td>ç»“æ„åŒ–ç»‘å®šã€if/switchåˆå§‹åŒ–è¯­å¥ã€ç±»æ¨¡æ¿å‚æ•°æ¨å¯¼ã€å†…è”å˜é‡ã€std::string_viewã€<code>if constexpr</code></td><td>ç®€åŒ–å¤šè¿”å›å€¼å¤„ç†ã€é™åˆ¶å˜é‡ä½œç”¨åŸŸã€ç®€åŒ–æ¨¡æ¿ä»£ç ã€é«˜æ•ˆå­—ç¬¦ä¸²è§†å›¾ã€ç¼–è¯‘æœŸæ¡ä»¶åˆ¤æ–­</td></tr><tr><td><strong>C++20</strong></td><td>æ¦‚å¿µ(Concepts)ã€ä¸‰è·¯æ¯”è¾ƒè¿ç®—ç¬¦ã€åç¨‹ã€èŒƒå›´åº“(Ranges)ã€æ¨¡å—(Modules)</td><td>çº¦æŸæ¨¡æ¿ç±»å‹ã€ç®€åŒ–æ¯”è¾ƒè¿ç®—ç¬¦ã€å¼‚æ­¥ç¼–ç¨‹ã€å£°æ˜å¼é›†åˆå¤„ç†ã€æå‡ç¼–è¯‘é€Ÿåº¦</td></tr><tr><td><strong>C++23</strong></td><td><code>if consteval</code>ã€std::expectedã€Lambdaå¢å¼ºã€æ‰©å±•Ranges</td><td>ç¼–è¯‘æ—¶/è¿è¡Œæ—¶åˆ†æ”¯ã€æ”¹è¿›é”™è¯¯å¤„ç†ã€æ›´çµæ´»Lambdaã€å®Œå–„èŒƒå›´æ“ä½œ</td></tr></tbody></table>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†é€ä¸€è®²è§£~</p>
<h3 data-id="heading-0"><strong>C++11ï¼šç°ä»£C++çš„åŸºçŸ³</strong></h3>
<p>C++11æ˜¯C++è¯­è¨€çš„åˆ†æ°´å²­ï¼Œå¼•å…¥äº†å¤§é‡æ”¹å˜ç¼–ç¨‹èŒƒå¼çš„è¯­æ³•ç³–ã€‚</p>
<h4 data-id="heading-1"><strong>1. auto ç±»å‹æ¨å¯¼</strong></h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">auto</span> x = <span class="hljs-number">5</span>;            <span class="hljs-comment">// x æ¨å¯¼ä¸º int</span>
<span class="hljs-keyword">auto</span> ptr = std::<span class="hljs-built_in">make_unique</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">10</span>);  <span class="hljs-comment">// ptr æ¨å¯¼ä¸º std::unique_ptr&lt;int&gt;</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; item : container) { ... }  <span class="hljs-comment">// è‡ªåŠ¨æ¨å¯¼å®¹å™¨å…ƒç´ ç±»å‹</span>
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-type">int</span> x = <span class="hljs-number">5</span>;
<span class="hljs-function">std::unique_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">ptr</span><span class="hljs-params">(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>(<span class="hljs-number">10</span>))</span></span>;
<span class="hljs-keyword">for</span> (std::vector&lt;<span class="hljs-type">int</span>&gt;::iterator it = container.<span class="hljs-built_in">begin</span>(); 
     it != container.<span class="hljs-built_in">end</span>(); ++it) {
    <span class="hljs-type">int</span>&amp; item = *it;
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<p><strong>è¯¦ç»†è§£é‡Š</strong>ï¼š</p>
<ul>
<li><code>auto</code>è®©ç¼–è¯‘å™¨æ ¹æ®åˆå§‹åŒ–è¡¨è¾¾å¼è‡ªåŠ¨æ¨å¯¼å˜é‡ç±»å‹</li>
<li>ç‰¹åˆ«é€‚ç”¨äºå¤æ‚çš„æ¨¡æ¿ç±»å‹ï¼ˆå¦‚è¿­ä»£å™¨ã€æ™ºèƒ½æŒ‡é’ˆï¼‰</li>
<li>æ³¨æ„ï¼š<code>auto</code>æ¨å¯¼ä¼šå¿½ç•¥å¼•ç”¨å’Œé¡¶å±‚constï¼Œéœ€è¦ä½¿ç”¨<code>auto&amp;</code>æˆ–<code>const auto&amp;</code>ä¿ç•™</li>
</ul>
<p><strong>ç¼–è¯‘åçš„æœ¬è´¨</strong>ï¼š
ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶å®Œæˆç±»å‹æ¨å¯¼ï¼Œç”Ÿæˆçš„äºŒè¿›åˆ¶ä»£ç ä¸æ˜¾å¼å£°æ˜ç±»å‹å®Œå…¨ç›¸åŒï¼Œé›¶è¿è¡Œæ—¶å¼€é”€ã€‚</p>
<h4 data-id="heading-2"><strong>2. èŒƒå›´forå¾ªç¯ (Range-based for loop)</strong></h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp">std::vector&lt;<span class="hljs-type">int</span>&gt; vec = {<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>};
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> value : vec) {
    std::cout &lt;&lt; value &lt;&lt; <span class="hljs-string">" "</span>;
}
<span class="hljs-comment">// ä½¿ç”¨autoæ›´ç®€æ´</span>
<span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; value : vec) {
    std::cout &lt;&lt; value &lt;&lt; <span class="hljs-string">" "</span>;
}
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp">std::vector&lt;<span class="hljs-type">int</span>&gt; vec = {<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>};
<span class="hljs-keyword">for</span> (std::vector&lt;<span class="hljs-type">int</span>&gt;::iterator it = vec.<span class="hljs-built_in">begin</span>(); 
     it != vec.<span class="hljs-built_in">end</span>(); ++it) {
    <span class="hljs-type">int</span> value = *it;
    std::cout &lt;&lt; value &lt;&lt; <span class="hljs-string">" "</span>;
}
</code></pre>
<p><strong>è¯¦ç»†è§£é‡Š</strong>ï¼š</p>
<ul>
<li>è¯­æ³•ï¼š<code>for (declaration : range)</code></li>
<li>æ”¯æŒä»»ä½•æä¾›<code>begin()</code>å’Œ<code>end()</code>æ–¹æ³•çš„å®¹å™¨</li>
<li>æ¯”ä¼ ç»Ÿforå¾ªç¯æ›´ç®€æ´ï¼Œä¸æ˜“å‡ºé”™ï¼ˆæ— éœ€æ‰‹åŠ¨ç®¡ç†è¿­ä»£å™¨ï¼‰</li>
</ul>
<p><strong>ç­‰ä»·å±•å¼€</strong>ï¼š
ç¼–è¯‘å™¨å°†èŒƒå›´forå¾ªç¯å±•å¼€ä¸ºåŸºäºè¿­ä»£å™¨çš„ä¼ ç»Ÿå¾ªç¯ã€‚</p>
<h4 data-id="heading-3"><strong>3. Lambda è¡¨è¾¾å¼</strong></h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// åŸºç¡€Lambda</span>
<span class="hljs-keyword">auto</span> add = [](<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b) { <span class="hljs-keyword">return</span> a + b; };
<span class="hljs-type">int</span> result = <span class="hljs-built_in">add</span>(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>); <span class="hljs-comment">// 7</span>

<span class="hljs-comment">// å¸¦æ•è·åˆ—è¡¨çš„Lambda</span>
<span class="hljs-type">int</span> x = <span class="hljs-number">10</span>;
<span class="hljs-keyword">auto</span> multiplier = [x](<span class="hljs-type">int</span> y) { <span class="hljs-keyword">return</span> x * y; };

<span class="hljs-comment">// åœ¨STLç®—æ³•ä¸­ä½¿ç”¨</span>
std::vector&lt;<span class="hljs-type">int</span>&gt; nums = {<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>};
std::<span class="hljs-built_in">sort</span>(nums.<span class="hljs-built_in">begin</span>(), nums.<span class="hljs-built_in">end</span>(), 
          [](<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b) { <span class="hljs-keyword">return</span> a &gt; b; });
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// éœ€è¦å®šä¹‰å‡½æ•°å¯¹è±¡ç±»</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">AddFunctor</span> {
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> <span class="hljs-type">const</span> </span>{
        <span class="hljs-keyword">return</span> a + b;
    }
};
AddFunctor add;
<span class="hljs-type">int</span> result = <span class="hljs-built_in">add</span>(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>);

<span class="hljs-comment">// å¸¦çŠ¶æ€çš„å‡½æ•°å¯¹è±¡</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MultiplierFunctor</span> {
    <span class="hljs-type">int</span> factor;
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">MultiplierFunctor</span>(<span class="hljs-type">int</span> f) : <span class="hljs-built_in">factor</span>(f) {}
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(<span class="hljs-type">int</span> y)</span> <span class="hljs-type">const</span> </span>{
        <span class="hljs-keyword">return</span> factor * y;
    }
};
<span class="hljs-function">MultiplierFunctor <span class="hljs-title">multiplier</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>;
</code></pre>
<p><strong>è¯¦ç»†è§£é‡Š</strong>ï¼š</p>
<ul>
<li>Lambdaè¡¨è¾¾å¼æ„æˆï¼š<code>[capture](parameters) -&gt; return_type { body }</code></li>
<li>æ•è·åˆ—è¡¨<code>[capture]</code>ï¼š
<ul>
<li><code>[]</code>ï¼šä¸æ•è·ä»»ä½•å˜é‡</li>
<li><code>[=]</code>ï¼šä»¥å€¼æ•è·æ‰€æœ‰å˜é‡</li>
<li><code>[&amp;]</code>ï¼šä»¥å¼•ç”¨æ•è·æ‰€æœ‰å˜é‡</li>
<li><code>[x, &amp;y]</code>ï¼šæ··åˆæ•è·</li>
</ul>
</li>
<li>è¿”å›ç±»å‹å¯çœç•¥ï¼ˆç¼–è¯‘å™¨è‡ªåŠ¨æ¨å¯¼ï¼‰</li>
<li>å¯è½¬æ¢ä¸º<code>std::function</code>æˆ–å‡½æ•°æŒ‡é’ˆ</li>
</ul>
<p><strong>ç¼–è¯‘åçš„æœ¬è´¨</strong>ï¼š
ç¼–è¯‘å™¨ä¸ºæ¯ä¸ªLambdaç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„åŒ¿åç±»ï¼ˆé—­åŒ…ç±»å‹ï¼‰ï¼Œæ•è·çš„å˜é‡æˆä¸ºè¯¥ç±»çš„æˆå‘˜ã€‚</p>
<h4 data-id="heading-4"><strong>4. æ™ºèƒ½æŒ‡é’ˆ (Smart Pointers)</strong></h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// unique_ptrï¼šç‹¬å æ‰€æœ‰æƒ</span>
<span class="hljs-keyword">auto</span> ptr1 = std::<span class="hljs-built_in">make_unique</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">42</span>);

<span class="hljs-comment">// shared_ptrï¼šå…±äº«æ‰€æœ‰æƒ</span>
<span class="hljs-keyword">auto</span> ptr2 = std::<span class="hljs-built_in">make_shared</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">42</span>);
<span class="hljs-keyword">auto</span> ptr3 = ptr2; <span class="hljs-comment">// å¼•ç”¨è®¡æ•°+1</span>

<span class="hljs-comment">// weak_ptrï¼šè§‚å¯Ÿshared_pträ½†ä¸å¢åŠ è®¡æ•°</span>
std::weak_ptr&lt;<span class="hljs-type">int</span>&gt; weak = ptr2;
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æ‰‹åŠ¨å†…å­˜ç®¡ç†</span>
<span class="hljs-type">int</span>* raw_ptr = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">42</span>);
<span class="hljs-comment">// ... ä½¿ç”¨</span>
<span class="hljs-keyword">delete</span> raw_ptr; <span class="hljs-comment">// å®¹æ˜“å¿˜è®°å¯¼è‡´å†…å­˜æ³„æ¼</span>

<span class="hljs-comment">// å¼•ç”¨è®¡æ•°æ‰‹åŠ¨å®ç°ï¼ˆå¤æ‚ä¸”æ˜“é”™ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">RefCountedInt</span> {
    <span class="hljs-type">int</span>* data;
    <span class="hljs-type">int</span>* ref_count;
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">RefCountedInt</span>(<span class="hljs-type">int</span> value) : <span class="hljs-built_in">data</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(value)), 
                               <span class="hljs-built_in">ref_count</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">1</span>)) {}
    <span class="hljs-comment">// éœ€è¦å®ç°æ‹·è´æ„é€ ã€èµ‹å€¼ã€ææ„ç­‰ç®¡ç†å¼•ç”¨è®¡æ•°</span>
    <span class="hljs-comment">// çº¦50è¡Œä»£ç ...</span>
};
</code></pre>
<p><strong>è¯¦ç»†è§£é‡Š</strong>ï¼š</p>
<ul>
<li><code>std::unique_ptr</code>ï¼šç‹¬å æ‰€æœ‰æƒï¼Œä¸å¯æ‹·è´ï¼Œå¯ç§»åŠ¨</li>
<li><code>std::shared_ptr</code>ï¼šå…±äº«æ‰€æœ‰æƒï¼Œä½¿ç”¨å¼•ç”¨è®¡æ•°</li>
<li><code>std::weak_ptr</code>ï¼šè§£å†³shared_ptrå¾ªç¯å¼•ç”¨é—®é¢˜</li>
<li>ä¼˜å…ˆä½¿ç”¨<code>make_unique</code>å’Œ<code>make_shared</code>ï¼ˆæ›´é«˜æ•ˆã€å¼‚å¸¸å®‰å…¨ï¼‰</li>
</ul>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿</strong>ï¼š
è‡ªåŠ¨ç®¡ç†å†…å­˜ç”Ÿå‘½å‘¨æœŸï¼Œé¿å…å†…å­˜æ³„æ¼ã€åŒé‡é‡Šæ”¾ç­‰é—®é¢˜ã€‚</p>
<h4 data-id="heading-5"><strong>5. å³å€¼å¼•ç”¨å’Œç§»åŠ¨è¯­ä¹‰</strong></h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyVector</span> {
    <span class="hljs-type">int</span>* data;
    <span class="hljs-type">size_t</span> size;
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// ç§»åŠ¨æ„é€ å‡½æ•°</span>
    <span class="hljs-built_in">MyVector</span>(MyVector&amp;&amp; other) <span class="hljs-keyword">noexcept</span> 
        : <span class="hljs-built_in">data</span>(other.data), <span class="hljs-built_in">size</span>(other.size) {
        other.data = <span class="hljs-literal">nullptr</span>; <span class="hljs-comment">// è½¬ç§»æ‰€æœ‰æƒ</span>
        other.size = <span class="hljs-number">0</span>;
    }
    
    <span class="hljs-comment">// ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦</span>
    MyVector&amp; <span class="hljs-keyword">operator</span>=(MyVector&amp;&amp; other) <span class="hljs-keyword">noexcept</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> != &amp;other) {
            <span class="hljs-keyword">delete</span>[] data;
            data = other.data;
            size = other.size;
            other.data = <span class="hljs-literal">nullptr</span>;
            other.size = <span class="hljs-number">0</span>;
        }
        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;
    }
};

<span class="hljs-comment">// ä½¿ç”¨ç§»åŠ¨è¯­ä¹‰</span>
<span class="hljs-function">MyVector <span class="hljs-title">createVector</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-function">MyVector <span class="hljs-title">v</span><span class="hljs-params">(<span class="hljs-number">1000</span>)</span></span>;
    <span class="hljs-comment">// ... å¡«å……æ•°æ®</span>
    <span class="hljs-keyword">return</span> v; <span class="hljs-comment">// è°ƒç”¨ç§»åŠ¨æ„é€ ï¼Œæ— æ‹·è´å¼€é”€</span>
}
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æ²¡æœ‰ç§»åŠ¨è¯­ä¹‰æ—¶ï¼Œåªèƒ½æ·±åº¦æ‹·è´</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyVector</span> {
    <span class="hljs-comment">// ... æˆå‘˜åŒä¸Š</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// æ‹·è´æ„é€ å‡½æ•°ï¼ˆæ€§èƒ½å¼€é”€å¤§ï¼‰</span>
    <span class="hljs-built_in">MyVector</span>(<span class="hljs-type">const</span> MyVector&amp; other) 
        : <span class="hljs-built_in">data</span>(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[other.size]), <span class="hljs-built_in">size</span>(other.size) {
        std::<span class="hljs-built_in">copy</span>(other.data, other.data + size, data);
    }
};

<span class="hljs-function">MyVector <span class="hljs-title">createVector</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-function">MyVector <span class="hljs-title">v</span><span class="hljs-params">(<span class="hljs-number">1000</span>)</span></span>;
    <span class="hljs-comment">// ... å¡«å……æ•°æ®</span>
    <span class="hljs-keyword">return</span> v; <span class="hljs-comment">// è°ƒç”¨æ‹·è´æ„é€ ï¼Œéœ€è¦å¤åˆ¶æ‰€æœ‰æ•°æ®</span>
}
</code></pre>
<p><strong>è¯¦ç»†è§£é‡Š</strong>ï¼š</p>
<ul>
<li>å³å€¼å¼•ç”¨ï¼š<code>T&amp;&amp;</code>ï¼Œå¯ç»‘å®šåˆ°ä¸´æ—¶å¯¹è±¡ï¼ˆå³å€¼ï¼‰</li>
<li><code>std::move</code>ï¼šå°†å·¦å€¼è½¬æ¢ä¸ºå³å€¼å¼•ç”¨ï¼Œå…è®¸ç§»åŠ¨</li>
<li>ç§»åŠ¨è¯­ä¹‰é¿å…ä¸å¿…è¦çš„æ•°æ®å¤åˆ¶ï¼Œæå‡æ€§èƒ½</li>
<li><code>noexcept</code>ï¼šå‘ç¼–è¯‘å™¨ä¿è¯ä¸æŠ›å‡ºå¼‚å¸¸ï¼Œä½¿ç§»åŠ¨æ›´é«˜æ•ˆ</li>
</ul>
<p><strong>å®é™…åº”ç”¨</strong>ï¼š</p>
<ul>
<li>å®¹å™¨é‡æ–°åˆ†é…å†…å­˜æ—¶ç§»åŠ¨å…ƒç´ è€Œéæ‹·è´</li>
<li>å·¥å‚å‡½æ•°è¿”å›å¤§å¯¹è±¡</li>
<li>å®ç°åªç§»ç±»å‹ï¼ˆå¦‚<code>unique_ptr</code>ï¼‰</li>
</ul>
<h3 data-id="heading-6"><strong>C++14ï¼šC++11çš„å®Œå–„ä¸å¢å¼º</strong></h3>
<p>C++14åœ¨C++11åŸºç¡€ä¸Šè¿›è¡Œäº†ä¼˜åŒ–å’Œè¡¥å……ï¼Œè®©è¯­æ³•ç³–æ›´ç”œã€‚</p>
<h4 data-id="heading-7"><strong>1. æ³›å‹Lambda (Generic Lambdas)</strong></h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä½¿ç”¨autoå‚æ•°</span>
<span class="hljs-keyword">auto</span> print = [](<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; arg) {
    std::cout &lt;&lt; arg &lt;&lt; std::endl;
};

<span class="hljs-built_in">print</span>(<span class="hljs-number">42</span>);        <span class="hljs-comment">// int</span>
<span class="hljs-built_in">print</span>(<span class="hljs-number">3.14</span>);      <span class="hljs-comment">// double</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"hello"</span>);   <span class="hljs-comment">// const char*</span>

<span class="hljs-comment">// å¤šä¸ªautoå‚æ•°</span>
<span class="hljs-keyword">auto</span> add = [](<span class="hljs-keyword">auto</span> a, <span class="hljs-keyword">auto</span> b) {
    <span class="hljs-keyword">return</span> a + b;  <span class="hljs-comment">// ç±»å‹ç”±ç¼–è¯‘å™¨æ¨å¯¼</span>
};
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// éœ€è¦ä¸ºä¸åŒç±»å‹å®šä¹‰å¤šä¸ªLambdaæˆ–ä½¿ç”¨æ¨¡æ¿</span>
<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-type">void</span> <span class="hljs-title">print_template</span><span class="hljs-params">(<span class="hljs-type">const</span> T&amp; arg)</span> </span>{
    std::cout &lt;&lt; arg &lt;&lt; std::endl;
}

<span class="hljs-comment">// æˆ–è€…å®šä¹‰æ¨¡æ¿å‡½æ•°å¯¹è±¡</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">GenericPrint</span> {
    <span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
    <span class="hljs-type">void</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(<span class="hljs-type">const</span> T&amp; arg)</span> <span class="hljs-type">const</span> </span>{
        std::cout &lt;&lt; arg &lt;&lt; std::endl;
    }
};
</code></pre>
<p><strong>è¯¦ç»†è§£é‡Š</strong>ï¼š</p>
<ul>
<li>Lambdaå‚æ•°ä½¿ç”¨<code>auto</code>ï¼Œå®é™…æ˜¯æ¨¡æ¿å‚æ•°</li>
<li>ç¼–è¯‘å™¨ä¸ºæ¯ç§è°ƒç”¨ç±»å‹å®ä¾‹åŒ–ä¸€ä¸ªç‰ˆæœ¬</li>
<li>ä½¿Lambdaæ›´åŠ çµæ´»ï¼Œå¯ç”¨äºé€šç”¨ç®—æ³•</li>
</ul>
<h4 data-id="heading-8"><strong>2. å‡½æ•°è¿”å›ç±»å‹æ¨å¯¼</strong></h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// è‡ªåŠ¨æ¨å¯¼è¿”å›ç±»å‹</span>
<span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> </span>{
    <span class="hljs-keyword">return</span> a + b;  <span class="hljs-comment">// æ¨å¯¼ä¸ºint</span>
}

<span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">createVector</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> std::vector&lt;<span class="hljs-type">int</span>&gt;{<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>};  <span class="hljs-comment">// æ¨å¯¼ä¸ºstd::vector&lt;int&gt;</span>
}

<span class="hljs-comment">// æ”¯æŒå¤šè¿”å›è¯­å¥ï¼Œä½†ç±»å‹å¿…é¡»ä¸€è‡´</span>
<span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">max</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> </span>{
    <span class="hljs-keyword">if</span> (a &gt; b) <span class="hljs-keyword">return</span> a;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> b;  <span class="hljs-comment">// ä¸¤ä¸ªreturnéƒ½è¿”å›int</span>
}
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// å¿…é¡»æ˜¾å¼å£°æ˜è¿”å›ç±»å‹</span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> </span>{
    <span class="hljs-keyword">return</span> a + b;
}

<span class="hljs-function">std::vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">createVector</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> std::vector&lt;<span class="hljs-type">int</span>&gt;{<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>};
}
</code></pre>
<p><strong>è¯¦ç»†è§£é‡Š</strong>ï¼š</p>
<ul>
<li>ç¼–è¯‘å™¨æ ¹æ®å‡½æ•°ä½“ä¸­çš„returnè¯­å¥æ¨å¯¼è¿”å›ç±»å‹</li>
<li>æ‰€æœ‰returnè¯­å¥å¿…é¡»è¿”å›ç›¸åŒç±»å‹</li>
<li>é€’å½’å‡½æ•°ä»éœ€æ˜¾å¼å£°æ˜è¿”å›ç±»å‹</li>
</ul>
<h4 data-id="heading-9"><strong>3. å˜é‡æ¨¡æ¿ (Variable Templates)</strong></h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">constexpr</span> T pi = <span class="hljs-built_in">T</span>(<span class="hljs-number">3.1415926535897932385</span>);

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-type">float</span> area_f = pi&lt;<span class="hljs-type">float</span>&gt; * r * r;
<span class="hljs-type">double</span> area_d = pi&lt;<span class="hljs-type">double</span>&gt; * r * r;
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä½¿ç”¨æ¨¡æ¿å‡½æ•°æˆ–é™æ€æˆå‘˜</span>
<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
T <span class="hljs-title">get_pi</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-built_in">T</span>(<span class="hljs-number">3.1415926535897932385</span>); }

<span class="hljs-comment">// æˆ–</span>
<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">PiConstant</span> {
    <span class="hljs-type">static</span> <span class="hljs-keyword">constexpr</span> T value = <span class="hljs-built_in">T</span>(<span class="hljs-number">3.1415926535897932385</span>);
};

<span class="hljs-type">float</span> area_f = PiConstant&lt;<span class="hljs-type">float</span>&gt;::value * r * r;
</code></pre>
<p><strong>è¯¦ç»†è§£é‡Š</strong>ï¼š</p>
<ul>
<li>å…è®¸æ¨¡æ¿åŒ–å˜é‡ï¼Œç±»ä¼¼äºæ¨¡æ¿å‡½æ•°</li>
<li>ä¸»è¦ç”¨äºæ•°å­¦å¸¸æ•°ã€é…ç½®å‚æ•°ç­‰</li>
<li><code>constexpr</code>ç¡®ä¿ç¼–è¯‘æ—¶å¸¸é‡</li>
</ul>
<h3 data-id="heading-10"><strong>å¯¹æ¯”æ€»ç»“ï¼šC++11/14å¸¦æ¥çš„æ”¹å˜</strong></h3>
<p>ä¸ºäº†æ›´ç›´è§‚åœ°å±•ç¤ºC++11/14è¯­æ³•ç³–çš„å¨åŠ›ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­ï¼š</p>
<p><strong>C++98/03é£æ ¼</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DataProcessor</span> {
    std::vector&lt;<span class="hljs-type">double</span>&gt;* data;
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">DataProcessor</span>(<span class="hljs-type">const</span> std::vector&lt;<span class="hljs-type">double</span>&gt;&amp; input) {
        data = <span class="hljs-keyword">new</span> std::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">double</span>&gt;(input); <span class="hljs-comment">// æ‰‹åŠ¨å†…å­˜ç®¡ç†</span>
    }
    
    ~<span class="hljs-built_in">DataProcessor</span>() {
        <span class="hljs-keyword">delete</span> data; <span class="hljs-comment">// å¿…é¡»è®°å¾—é‡Šæ”¾</span>
    }
    
    <span class="hljs-built_in">DataProcessor</span>(<span class="hljs-type">const</span> DataProcessor&amp; other) {
        data = <span class="hljs-keyword">new</span> std::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">double</span>&gt;(*other.data); <span class="hljs-comment">// æ·±æ‹·è´</span>
    }
    
    <span class="hljs-function">std::vector&lt;<span class="hljs-type">double</span>&gt; <span class="hljs-title">process</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{
        std::vector&lt;<span class="hljs-type">double</span>&gt; result;
        <span class="hljs-keyword">for</span> (std::vector&lt;<span class="hljs-type">double</span>&gt;::const_iterator it = data-&gt;<span class="hljs-built_in">begin</span>();
             it != data-&gt;<span class="hljs-built_in">end</span>(); ++it) {
            result.<span class="hljs-built_in">push_back</span>(*it * <span class="hljs-number">2.0</span>);
        }
        std::<span class="hljs-built_in">sort</span>(result.<span class="hljs-built_in">begin</span>(), result.<span class="hljs-built_in">end</span>());
        <span class="hljs-keyword">return</span> result;
    }
};
</code></pre>
<p><strong>C++11/14é£æ ¼</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DataProcessor</span> {
    std::unique_ptr&lt;std::vector&lt;<span class="hljs-type">double</span>&gt;&gt; data; <span class="hljs-comment">// è‡ªåŠ¨å†…å­˜ç®¡ç†</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">DataProcessor</span>(std::vector&lt;<span class="hljs-type">double</span>&gt; input) 
        : <span class="hljs-built_in">data</span>(std::make_unique&lt;std::vector&lt;<span class="hljs-type">double</span>&gt;&gt;(std::<span class="hljs-built_in">move</span>(input))) {}
    
    <span class="hljs-comment">// è‡ªåŠ¨ç”Ÿæˆç§»åŠ¨æ“ä½œï¼Œæ— éœ€æ‰‹åŠ¨å®ç°</span>
    <span class="hljs-built_in">DataProcessor</span>(DataProcessor&amp;&amp;) = <span class="hljs-keyword">default</span>;
    DataProcessor&amp; <span class="hljs-keyword">operator</span>=(DataProcessor&amp;&amp;) = <span class="hljs-keyword">default</span>;
    
    <span class="hljs-comment">// ç¦æ­¢æ‹·è´ï¼ˆç‹¬å æ‰€æœ‰æƒï¼‰</span>
    <span class="hljs-built_in">DataProcessor</span>(<span class="hljs-type">const</span> DataProcessor&amp;) = <span class="hljs-keyword">delete</span>;
    DataProcessor&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> DataProcessor&amp;) = <span class="hljs-keyword">delete</span>;
    
    <span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">process</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{
        std::vector&lt;<span class="hljs-type">double</span>&gt; result;
        <span class="hljs-comment">// èŒƒå›´forå¾ªç¯</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; value : *data) {
            result.<span class="hljs-built_in">push_back</span>(value * <span class="hljs-number">2.0</span>);
        }
        <span class="hljs-comment">// Lambdaè¡¨è¾¾å¼</span>
        std::<span class="hljs-built_in">sort</span>(result.<span class="hljs-built_in">begin</span>(), result.<span class="hljs-built_in">end</span>(), 
                  [](<span class="hljs-type">double</span> a, <span class="hljs-type">double</span> b) { <span class="hljs-keyword">return</span> a &gt; b; });
        <span class="hljs-keyword">return</span> result; <span class="hljs-comment">// è¿”å›å€¼ä¼˜åŒ– + ç§»åŠ¨è¯­ä¹‰</span>
    }
};
</code></pre>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬ä»<strong>C++11/14</strong>çš„åŸºçŸ³ç‰¹æ€§ï¼Œè¿›å…¥åˆ°æ›´åŠ ç°ä»£åŒ–å’ŒåŠŸèƒ½ä¸°å¯Œçš„<strong>C++17ã€20åŠ23</strong>æ—¶ä»£ã€‚å¦‚æœä½ è§‰å¾—åŒäº‹çš„ä»£ç é‡Œå……æ–¥ç€çœ‹ä¸æ‡‚çš„ <code>if</code> åˆå§‹åŒ–ã€ç¥å¥‡çš„ <code>&lt;=&gt;</code> æ“ä½œç¬¦æˆ–é™Œç”Ÿçš„ <code>std::format</code>ï¼Œé‚£ä¹ˆæœ¬æ–‡å°†ä¸ºä½ ä¸€ä¸€â€œè§£å¯†â€ã€‚</p>
<h3 data-id="heading-11"><strong>C++17ï¼šæˆç†Ÿä¸å®ç”¨ä¸»ä¹‰</strong></h3>
<p>C++17å¹¶éé©å‘½æ€§ç‰ˆæœ¬ï¼Œä½†æä¾›äº†å¤§é‡æå‡ä»£ç ç®€æ´æ€§ã€å®‰å…¨æ€§å’Œæ€§èƒ½çš„â€œå®ç”¨å·¥å…·â€ã€‚</p>
<h4 data-id="heading-12"><strong>1. ç»“æ„åŒ–ç»‘å®š</strong></h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼šç›´æ¥å°†<code>tuple</code>ã€<code>pair</code>ã€æ•°ç»„æˆ–ç»“æ„ä½“çš„æˆå‘˜è§£åŒ…åˆ°å˜é‡ä¸­ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// è§£æ„pair (å¦‚éå†map)</span>
std::map&lt;<span class="hljs-type">int</span>, std::string&gt; m = {{<span class="hljs-number">1</span>, <span class="hljs-string">"one"</span>}, {<span class="hljs-number">2</span>, <span class="hljs-string">"two"</span>}};
<span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; [key, value] : m) { <span class="hljs-comment">// ç›´æ¥ç»‘å®škeyå’Œvalue</span>
    std::cout &lt;&lt; key &lt;&lt; <span class="hljs-string">": "</span> &lt;&lt; value &lt;&lt; std::endl;
}

<span class="hljs-comment">// è§£æ„tuple</span>
<span class="hljs-keyword">auto</span> [name, id, score] = std::<span class="hljs-built_in">make_tuple</span>(<span class="hljs-string">"Alice"</span>s, <span class="hljs-number">101</span>, <span class="hljs-number">95.5</span>);

<span class="hljs-comment">// è§£æ„æ•°ç»„</span>
<span class="hljs-type">int</span> arr[<span class="hljs-number">3</span>] = {<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>};
<span class="hljs-keyword">auto</span> [a, b, c] = arr;
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼šéœ€è¦æ‰‹åŠ¨è®¿é—®<code>first</code>/<code>second</code>æˆ–<code>std::get</code>ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// éå†map</span>
<span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; item : m) {
    <span class="hljs-type">int</span> key = item.first;
    std::string value = item.second;
    <span class="hljs-comment">// ... ä½¿ç”¨</span>
}
<span class="hljs-comment">// ä½¿ç”¨tuple</span>
<span class="hljs-keyword">auto</span> t = std::<span class="hljs-built_in">make_tuple</span>(<span class="hljs-string">"Alice"</span>s, <span class="hljs-number">101</span>, <span class="hljs-number">95.5</span>);
std::string name = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-number">0</span>&gt;(t);
<span class="hljs-type">int</span> id = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-number">1</span>&gt;(t);
<span class="hljs-type">double</span> score = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-number">2</span>&gt;(t);
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªéšè—çš„åŒ¿åå¯¹è±¡æ¥æŒæœ‰åŸå¯¹è±¡ï¼ˆæˆ–å¼•ç”¨ï¼‰ï¼Œå¹¶å°†å„ä¸ªç»‘å®šåå­—æ˜ å°„åˆ°è¯¥å¯¹è±¡çš„æˆå‘˜ä¸Šã€‚è¿™æå¤§åœ°ç®€åŒ–äº†å¤šè¿”å›å€¼å¤„ç†å’Œå®¹å™¨éå†ã€‚</p>
<h4 data-id="heading-13"><strong>2. <code>if</code> / <code>switch</code> åˆå§‹åŒ–è¯­å¥</strong></h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼šåœ¨æ¡ä»¶åˆ¤æ–­å†…éƒ¨å£°æ˜å¹¶åˆå§‹åŒ–å˜é‡ï¼Œé™åˆ¶å…¶ä½œç”¨åŸŸã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// if with initializer</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">auto</span> it = m.<span class="hljs-built_in">find</span>(key); it != m.<span class="hljs-built_in">end</span>()) { <span class="hljs-comment">// itä»…åœ¨ifå’Œelseå—ä¸­å¯è§</span>
    std::cout &lt;&lt; <span class="hljs-string">"Found: "</span> &lt;&lt; it-&gt;second &lt;&lt; std::endl;
} <span class="hljs-keyword">else</span> {
    std::cout &lt;&lt; <span class="hljs-string">"Key not found."</span> &lt;&lt; std::endl;
}
<span class="hljs-comment">// it æ­¤å¤„å·²ä¸å¯ç”¨ï¼Œä½œç”¨åŸŸç»“æŸ</span>

<span class="hljs-comment">// switch with initializer</span>
<span class="hljs-keyword">switch</span> (<span class="hljs-keyword">auto</span> status = <span class="hljs-built_in">GetConnectionStatus</span>(); status) {
    <span class="hljs-keyword">case</span> Status::Connected: <span class="hljs-comment">/* ... */</span> <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> Status::Disconnected: <span class="hljs-comment">/* ... */</span> <span class="hljs-keyword">break</span>;
}
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼šå˜é‡éœ€åœ¨å¤–éƒ¨å£°æ˜ï¼Œä½œç”¨åŸŸæ›´å®½ï¼Œå¯èƒ½å¯¼è‡´è¯¯ç”¨ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// å˜é‡æ±¡æŸ“å¤–éƒ¨ä½œç”¨åŸŸ</span>
<span class="hljs-keyword">auto</span> it = m.<span class="hljs-built_in">find</span>(key);
<span class="hljs-keyword">if</span> (it != m.<span class="hljs-built_in">end</span>()) {
    <span class="hljs-comment">// ...</span>
}
<span class="hljs-comment">// it åœ¨æ­¤å¤„ä»ç„¶å¯è§ä¸”å¯èƒ½è¢«è¯¯ç”¨</span>
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šè¯¥è¯­æ³•å°†å˜é‡çš„ç”Ÿå‘½å‘¨æœŸä¸¥æ ¼é™åˆ¶åœ¨æ¡ä»¶è¯­å¥å—å†…ï¼Œæå‡äº†ä»£ç çš„æ¸…æ™°åº¦å’Œå®‰å…¨æ€§ï¼Œå¯¹äºé”ï¼ˆ<code>std::lock_guard</code>ï¼‰ã€è¿­ä»£å™¨ç­‰èµ„æºç®¡ç†å°¤å…¶æœ‰ç”¨ã€‚</p>
<h4 data-id="heading-14"><strong>3. å†…è”å˜é‡</strong></h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼šåœ¨å¤´æ–‡ä»¶ä¸­ç›´æ¥å®šä¹‰ï¼ˆè€Œéä»…å£°æ˜ï¼‰å…¨å±€å˜é‡ï¼Œé¿å…éœ€è¦å•ç‹¬çš„<code>.cpp</code>æ–‡ä»¶ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// my_header.h</span>
<span class="hljs-keyword">inline</span> <span class="hljs-type">const</span> std::string AppName = <span class="hljs-string">"MyModernApp"</span>;
<span class="hljs-keyword">inline</span> <span class="hljs-type">int</span> GlobalCounter = <span class="hljs-number">0</span>;
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼šéœ€è¦åœ¨å¤´æ–‡ä»¶ä¸­å£°æ˜ï¼Œåœ¨æŸä¸ªæºæ–‡ä»¶ä¸­å•ç‹¬å®šä¹‰ï¼Œå®¹æ˜“å¿˜è®°å¯¼è‡´é“¾æ¥é”™è¯¯ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// my_header.h</span>
<span class="hljs-keyword">extern</span> <span class="hljs-type">const</span> std::string AppName; <span class="hljs-comment">// å£°æ˜</span>
<span class="hljs-keyword">extern</span> <span class="hljs-type">int</span> GlobalCounter; <span class="hljs-comment">// å£°æ˜</span>

<span class="hljs-comment">// my_source.cpp</span>
<span class="hljs-type">const</span> std::string AppName = <span class="hljs-string">"MyModernApp"</span>; <span class="hljs-comment">// å®šä¹‰</span>
<span class="hljs-type">int</span> GlobalCounter = <span class="hljs-number">0</span>; <span class="hljs-comment">// å®šä¹‰</span>
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼š<code>inline</code>å…³é”®å­—å…è®¸å˜é‡åœ¨å¤šä¸ªç¿»è¯‘å•å…ƒä¸­é‡å¤å®šä¹‰ï¼Œé“¾æ¥å™¨ä¼šé€‰æ‹©å…¶ä¸­ä¸€ä¸ªã€‚è¿™ç®€åŒ–äº†å…¨å±€å¸¸é‡å’Œå•ä¾‹æ¨¡å¼çš„å®ç°ã€‚</p>
<h4 data-id="heading-15"><strong>4. ç±»æ¨¡æ¿å‚æ•°æ¨å¯¼</strong></h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼šæ„é€ æ¨¡æ¿ç±»å¯¹è±¡æ—¶ï¼Œå¯çœç•¥æ¨¡æ¿å‚æ•°ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">std::pair <span class="hljs-title">p</span><span class="hljs-params">(<span class="hljs-number">1</span>, <span class="hljs-number">3.14</span>)</span></span>; <span class="hljs-comment">// æ¨å¯¼ä¸º std::pair&lt;int, double&gt;</span>
std::vector v = {<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>}; <span class="hljs-comment">// æ¨å¯¼ä¸º std::vector&lt;int&gt;</span>
std::mutex mtx;
<span class="hljs-function">std::lock_guard <span class="hljs-title">lck</span><span class="hljs-params">(mtx)</span></span>; <span class="hljs-comment">// æ¨å¯¼ä¸º std::lock_guard&lt;std::mutex&gt;</span>
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼šå¿…é¡»æ˜¾å¼æŒ‡å®šæ¨¡æ¿å‚æ•°ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">std::pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">double</span>&gt; <span class="hljs-title">p</span><span class="hljs-params">(<span class="hljs-number">1</span>, <span class="hljs-number">3.14</span>)</span></span>;
std::vector&lt;<span class="hljs-type">int</span>&gt; v = {<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>};
<span class="hljs-function">std::lock_guard&lt;std::mutex&gt; <span class="hljs-title">lck</span><span class="hljs-params">(mtx)</span></span>;
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šç¼–è¯‘å™¨æ ¹æ®æ„é€ å‡½æ•°çš„å®å‚è‡ªåŠ¨æ¨å¯¼æ¨¡æ¿ç±»å‹ï¼Œè®©ä»£ç æ›´ç®€æ´ï¼Œç±»ä¼¼äºå‡½æ•°æ¨¡æ¿çš„æ¨å¯¼ã€‚</p>
<h4 data-id="heading-16"><strong>5. <code>std::string_view</code></strong></h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼šä½¿ç”¨è½»é‡çº§çš„ã€éå æœ‰çš„å­—ç¬¦ä¸²è§†å›¾ï¼Œé¿å…ä¸å¿…è¦çš„æ‹·è´ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ProcessText</span><span class="hljs-params">(std::string_view sv)</span> </span>{ <span class="hljs-comment">// æ¥å—stringã€charæ•°ç»„ã€å­ä¸²éƒ½æ— éœ€æ‹·è´</span>
    std::cout &lt;&lt; <span class="hljs-string">"Length: "</span> &lt;&lt; sv.<span class="hljs-built_in">length</span>() &lt;&lt; std::endl;
    <span class="hljs-keyword">auto</span> substr = sv.<span class="hljs-built_in">substr</span>(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>); <span class="hljs-comment">// åˆ›å»ºæ–°çš„string_viewï¼Œæ— æ‹·è´</span>
}
<span class="hljs-comment">// è°ƒç”¨</span>
std::string str = <span class="hljs-string">"Hello, Modern C++"</span>;
<span class="hljs-built_in">ProcessText</span>(str); <span class="hljs-comment">// OKï¼Œ æ— æ‹·è´</span>
<span class="hljs-built_in">ProcessText</span>(<span class="hljs-string">"C-string"</span>); <span class="hljs-comment">// OKï¼Œ æ— æ‹·è´</span>
<span class="hljs-built_in">ProcessText</span>(str.<span class="hljs-built_in">substr</span>(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>)); <span class="hljs-comment">// OKï¼Œ é¿å…å­ä¸²çš„ä¸´æ—¶stringå¯¹è±¡</span>
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼šä½¿ç”¨<code>const std::string&amp;</code>å¯èƒ½å¼•å‘ä¸´æ—¶å¯¹è±¡çš„æ„é€ ï¼›ä½¿ç”¨<code>const char*</code>åˆ™ä¸¢å¤±é•¿åº¦ä¿¡æ¯ï¼Œæ“ä½œä¸ä¾¿ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ProcessText</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; str)</span> </span>{
    <span class="hljs-comment">// å¦‚æœä¼ å…¥å­—é¢å€¼"C-string"ï¼Œä¼šæ„é€ ä¸€ä¸ªä¸´æ—¶std::stringå¯¹è±¡</span>
}
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ProcessText</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* cstr)</span> </span>{
    <span class="hljs-comment">// éœ€è¦æ‰‹åŠ¨è®¡ç®—é•¿åº¦ï¼Œæ“ä½œå­ä¸²å›°éš¾</span>
}
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼š<code>std::string_view</code>åŒ…å«ä¸€ä¸ªæŒ‡é’ˆå’Œé•¿åº¦ï¼Œåƒä¸€ä¸ªåªè¯»çš„â€œçª—å£â€ï¼Œè§‚å¯Ÿä½†ä¸æ‹¥æœ‰å­—ç¬¦ä¸²æ•°æ®ï¼Œæ€§èƒ½ä¼˜åŠ¿åœ¨å¤„ç†å­ä¸²å’Œå­—ç¬¦ä¸²å­—é¢é‡æ—¶éå¸¸æ˜æ˜¾ã€‚</p>
<h4 data-id="heading-17"><strong>6. <code>std::optional</code></strong></h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼šæ˜ç¡®è¡¨ç¤ºä¸€ä¸ªâ€œå¯èƒ½å­˜åœ¨â€çš„å€¼ï¼Œæ›¿ä»£ç”¨ç‰¹æ®Šå€¼ï¼ˆå¦‚-1ã€<code>nullptr</code>ï¼‰è¡¨ç¤ºç©ºçŠ¶æ€çš„æ¨¡å¼ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">std::optional&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">FindNumber</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; name)</span> </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-comment">/* æ‰¾åˆ° */</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">42</span>;
    <span class="hljs-keyword">return</span> std::<span class="hljs-literal">nullopt</span>; <span class="hljs-comment">// æ˜ç¡®è¡¨ç¤ºâ€œç©ºâ€</span>
}
<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">auto</span> num = <span class="hljs-built_in">FindNumber</span>(<span class="hljs-string">"answer"</span>);
<span class="hljs-keyword">if</span> (num) { <span class="hljs-comment">// ä¸Šä¸‹æ–‡è½¬æ¢åˆ°bool</span>
    std::cout &lt;&lt; <span class="hljs-string">"Found: "</span> &lt;&lt; *num &lt;&lt; std::endl; <span class="hljs-comment">// è§£å¼•ç”¨è·å–å€¼</span>
    std::cout &lt;&lt; <span class="hljs-string">"Found: "</span> &lt;&lt; num.<span class="hljs-built_in">value</span>() &lt;&lt; std::endl; <span class="hljs-comment">// æˆ–ä½¿ç”¨value()</span>
}
std::cout &lt;&lt; <span class="hljs-string">"Not Found, default: "</span> &lt;&lt; num.<span class="hljs-built_in">value_or</span>(<span class="hljs-number">0</span>) &lt;&lt; std::endl; <span class="hljs-comment">// æä¾›é»˜è®¤å€¼</span>
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼šéœ€è¦ç‰¹å®šå“¨å…µå€¼æˆ–é¢å¤–çš„boolå˜é‡ï¼Œå®¹æ˜“å‡ºé”™ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">FindNumber</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; name, <span class="hljs-type">bool</span>&amp; found)</span> </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-comment">/* æ‰¾åˆ° */</span>) { found = <span class="hljs-literal">true</span>; <span class="hljs-keyword">return</span> <span class="hljs-number">42</span>; }
    found = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>; <span class="hljs-comment">// æ— æ„ä¹‰çš„å€¼</span>
}
<span class="hljs-comment">// æˆ–è€…</span>
<span class="hljs-function"><span class="hljs-type">int</span>* <span class="hljs-title">FindNumber</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; name)</span> </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-comment">/* æ‰¾åˆ° */</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">42</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>; <span class="hljs-comment">// æ¨¡ç³Šæ‰€æœ‰æƒ</span>
}
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼š<code>std::optional</code>å°†å€¼å’ŒçŠ¶æ€åŒ…è£…åœ¨ä¸€èµ·ï¼Œç±»å‹å®‰å…¨ï¼Œæ„å›¾æ¸…æ™°ï¼Œæ˜¯å·¥å‚å‡½æ•°ã€å¯èƒ½å¤±è´¥çš„è®¡ç®—çš„ç†æƒ³è¿”å›å€¼ç±»å‹ã€‚</p>
<h3 data-id="heading-18"><strong>C++20ï¼šé‡å¤§å˜é©ä¸æŠ½è±¡æå‡</strong></h3>
<p>C++20æ˜¯ç»§C++11åæœ€å…·å˜é©æ€§çš„ç‰ˆæœ¬ï¼Œå¼•å…¥äº†æ”¹å˜ç¼–ç¨‹èŒƒå¼çš„é‡ç£…ç‰¹æ€§ã€‚</p>
<h4 data-id="heading-19"><strong>1. æ¦‚å¿µ</strong></h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼šä½¿ç”¨<code>requires</code>æˆ–ç®€å†™è¯­æ³•å¯¹æ¨¡æ¿ç±»å‹å‚æ•°æ–½åŠ çº¦æŸã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªâ€œå¯åŠ â€çš„æ¦‚å¿µ</span>
<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">concept</span> Addable = <span class="hljs-built_in">requires</span>(T a, T b) {
    { a + b } -&gt; std::convertible_to&lt;T&gt;;
};

<span class="hljs-comment">// ä½¿ç”¨æ¦‚å¿µçº¦æŸå‡½æ•°æ¨¡æ¿</span>
<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;Addable T&gt;
T <span class="hljs-title">Sum</span><span class="hljs-params">(T a, T b)</span> </span>{ <span class="hljs-keyword">return</span> a + b; }

<span class="hljs-comment">// æ›´ç®€æ´çš„ç”¨æ³•ï¼šautoå‚æ•°+æ¦‚å¿µ</span>
<span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">Increment</span><span class="hljs-params">(std::integral <span class="hljs-keyword">auto</span> x)</span> </span>{ <span class="hljs-keyword">return</span> x + <span class="hljs-number">1</span>; }
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼šä½¿ç”¨å¤æ‚çš„SFINAEæŠ€æœ¯æˆ–é™æ€æ–­è¨€ï¼Œä»£ç å†—é•¿æ™¦æ¶©ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä½¿ç”¨SFINAE (C++17ä»¥å‰)</span>
<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> = std::<span class="hljs-type">void_t</span>&lt;&gt;&gt;
<span class="hljs-keyword">struct</span> is_addable : std::false_type {};
<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">is_addable</span>&lt;T, std::<span class="hljs-type">void_t</span>&lt;<span class="hljs-keyword">decltype</span>(std::<span class="hljs-built_in">declval</span>&lt;T&amp;&gt;() + std::<span class="hljs-built_in">declval</span>&lt;T&amp;&gt;())&gt;&gt; : std::true_type {};

<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> = std::<span class="hljs-type">enable_if_t</span>&lt;is_addable&lt;T&gt;::value&gt;&gt;
T <span class="hljs-built_in">Sum</span>(T a, T b) { <span class="hljs-keyword">return</span> a + b; }
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šæ¦‚å¿µï¼ˆConceptsï¼‰ä¸ºæ¨¡æ¿ç¼–ç¨‹æä¾›äº†è¯­ä¹‰åŒ–çš„çº¦æŸï¼Œ<strong>ä½¿ç¼–è¯‘å™¨é”™è¯¯ä¿¡æ¯ä»å‡ åé¡µæ¨¡æ¿å±•å¼€å˜å¾—æ¸…æ™°å¯è¯»</strong>ï¼Œå¹¶æå‡äº†é‡è½½è§£æçš„ç²¾åº¦ã€‚</p>
<h4 data-id="heading-20"><strong>2. ä¸‰è·¯æ¯”è¾ƒè¿ç®—ç¬¦</strong></h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼šåªéœ€å®šä¹‰<code>&lt;=&gt;</code>ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆå…¨éƒ¨6ä¸ªæ¯”è¾ƒè¿ç®—ç¬¦ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Point</span> {
    <span class="hljs-type">int</span> x, y;
    <span class="hljs-comment">// ä½¿ç”¨é»˜è®¤çš„æŒ‰æˆå‘˜å­—å…¸åºæ¯”è¾ƒ</span>
    <span class="hljs-keyword">auto</span> <span class="hljs-built_in">operator</span>&lt;=&gt;(<span class="hljs-type">const</span> Point&amp;) <span class="hljs-type">const</span> = <span class="hljs-keyword">default</span>;
};
<span class="hljs-comment">// ç°åœ¨Pointæ”¯æŒ ==, !=, &lt;, &lt;=, &gt;, &gt;=</span>
Point a{<span class="hljs-number">1</span>,<span class="hljs-number">2</span>}, b{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>};
<span class="hljs-type">bool</span> lt = (a &lt; b); <span class="hljs-comment">// trueï¼Œå› ä¸º a.y (2) &lt; b.y (3)</span>
<span class="hljs-type">bool</span> eq = (a == b); <span class="hljs-comment">// false</span>
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼šéœ€è¦æ‰‹åŠ¨é‡è½½æ¯ä¸€ä¸ªæ¯”è¾ƒè¿ç®—ç¬¦ï¼Œæ¯ç‡¥ä¸”æ˜“å‡ºé”™ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Point</span> {
    <span class="hljs-type">int</span> x, y;
    <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>==(<span class="hljs-type">const</span> Point&amp; other) <span class="hljs-type">const</span> { <span class="hljs-keyword">return</span> x==other.x &amp;&amp; y==other.y;}
    <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>!=(<span class="hljs-type">const</span> Point&amp; other) <span class="hljs-type">const</span> { <span class="hljs-keyword">return</span> !(*<span class="hljs-keyword">this</span> == other);}
    <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-type">const</span> Point&amp; other) <span class="hljs-type">const</span> {
        <span class="hljs-keyword">if</span> (x != other.x) <span class="hljs-keyword">return</span> x &lt; other.x;
        <span class="hljs-keyword">return</span> y &lt; other.y;
    }
    <span class="hljs-comment">// ... è¿˜éœ€è¦é‡è½½ &lt;=, &gt;, &gt;=</span>
};
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼š<code>operator&lt;=&gt;</code>ï¼ˆé£èˆ¹è¿ç®—ç¬¦/å¤ªç©ºèˆ¹è¿ç®—ç¬¦ï¼‰è¿”å›<code>std::strong_ordering</code>ç­‰ç±»åˆ«ç±»å‹ï¼Œæè¿°å°äºã€ç­‰äºæˆ–å¤§äºçš„å…³ç³»ã€‚ç¼–è¯‘å™¨æ®æ­¤è‡ªåŠ¨åˆæˆå…¶ä»–æ¯”è¾ƒæ“ä½œï¼Œæå¤§ç®€åŒ–äº†è‡ªå®šä¹‰ç±»å‹çš„æ¯”è¾ƒå®šä¹‰ã€‚</p>
<h4 data-id="heading-21"><strong>3. åç¨‹</strong></h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼šä½¿ç”¨<code>co_await</code>, <code>co_yield</code>, <code>co_return</code>ç¼–å†™ç±»ä¼¼åŒæ­¥ä»£ç çš„å¼‚æ­¥æ“ä½œã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä¸€ä¸ªç®€å•çš„ç”Ÿæˆå™¨åç¨‹</span>
<span class="hljs-function">std::generator&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">Sequence</span><span class="hljs-params">(<span class="hljs-type">int</span> start, <span class="hljs-type">int</span> step)</span> </span>{
    <span class="hljs-type">int</span> value = start;
    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
        <span class="hljs-keyword">co_yield</span> value; <span class="hljs-comment">// äº§å‡ºå€¼ï¼Œå¹¶æš‚åœ</span>
        value += step;
    }
}
<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> num : <span class="hljs-built_in">Sequence</span>(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>)) {
    <span class="hljs-keyword">if</span> (num &gt; <span class="hljs-number">20</span>) <span class="hljs-keyword">break</span>;
    std::cout &lt;&lt; num &lt;&lt; <span class="hljs-string">' '</span>; <span class="hljs-comment">// è¾“å‡º 0 5 10 15 20</span>
}
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼šéœ€è¦æ‰‹åŠ¨å®ç°çŠ¶æ€æœºã€å›è°ƒå‡½æ•°æˆ–ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚Boost.Asioï¼‰ï¼Œä»£ç ç»“æ„å¤æ‚ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä¼ ç»Ÿå›è°ƒæˆ–åŸºäºFutureçš„å¼‚æ­¥ä»£ç ï¼Œé€»è¾‘è¢«æ‹†æ•£ï¼Œéš¾ä»¥ç†è§£å’Œç»´æŠ¤ã€‚</span>
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šåç¨‹æ˜¯<strong>å¯æš‚åœå’Œæ¢å¤çš„å‡½æ•°</strong>ã€‚ç¼–è¯‘å™¨å°†åç¨‹å‡½æ•°è½¬æ¢ä¸ºä¸€ä¸ªåŒ…å«çŠ¶æ€ã€å±€éƒ¨å˜é‡å’Œæ¢å¤ç‚¹çš„å¤æ‚å¯¹è±¡ã€‚å®ƒå½»åº•é©æ–°äº†C++çš„å¼‚æ­¥å’Œæƒ°æ€§ç”Ÿæˆå™¨ç¼–ç¨‹æ¨¡å‹ï¼Œä½†<strong>ç›®å‰æ ‡å‡†åº“åªæä¾›äº†æœ€åŸºç¡€çš„è®¾æ–½</strong>ï¼Œæ›´å¤šåŠŸèƒ½éœ€æ¡†æ¶æ”¯æŒã€‚</p>
<h4 data-id="heading-22"><strong>4. æ ¼å¼åŒ–åº“</strong></h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼šä½¿ç”¨ç±»å‹å®‰å…¨ã€æ›´ä¼˜é›…çš„<code>std::format</code>æ›¿ä»£<code>printf</code>å’Œæµæ“ä½œã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// C++20 std::format</span>
std::string msg = std::format(<span class="hljs-string">"Hello, {}! The answer is {:.2f}."</span>, name, <span class="hljs-number">42.123</span>);
std::cout &lt;&lt; std::format(<span class="hljs-string">"{:&gt;10} {:08x}"</span>, <span class="hljs-string">"Label"</span>, <span class="hljs-number">255</span>); <span class="hljs-comment">// å¯¹é½ã€åå…­è¿›åˆ¶æ ¼å¼åŒ–</span>
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// Cé£æ ¼printf (ç±»å‹ä¸å®‰å…¨ï¼Œæ˜“å‡ºé”™)</span>
<span class="hljs-type">char</span> buffer[<span class="hljs-number">100</span>];
<span class="hljs-built_in">sprintf</span>(buffer, <span class="hljs-string">"Hello, %s! The answer is %.2f."</span>, name.<span class="hljs-built_in">c_str</span>(), <span class="hljs-number">42.123</span>);

<span class="hljs-comment">// C++ iostreams (å†—é•¿ï¼Œæ ¼å¼åŒ–æ§åˆ¶ä¸ä¾¿)</span>
std::cout &lt;&lt; <span class="hljs-string">"Hello, "</span> &lt;&lt; name &lt;&lt; <span class="hljs-string">"! The answer is "</span> &lt;&lt; std::fixed &lt;&lt; std::<span class="hljs-built_in">setprecision</span>(<span class="hljs-number">2</span>) &lt;&lt; <span class="hljs-number">42.123</span> &lt;&lt; <span class="hljs-string">"."</span>;
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼š<code>std::format</code>ç»“åˆäº†<code>printf</code>çš„æ ¼å¼åŒ–è¡¨è¾¾åŠ›å’Œæµæ“ä½œçš„ç±»å‹å®‰å…¨æ€§ï¼Œä½¿ç”¨<code>{}</code>ä½œä¸ºå ä½ç¬¦ï¼Œæ”¯æŒä½ç½®å‚æ•°ã€æ ¼å¼è¯´æ˜ç¬¦ï¼Œæ€§èƒ½é€šå¸¸ä¼˜äºæµæ“ä½œã€‚</p>
<h4 data-id="heading-23"><strong>5. èŒƒå›´åº“</strong></h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼šæä¾›å£°æ˜å¼çš„ã€å¯é“¾å¼è°ƒç”¨çš„è§†å›¾å’Œç®—æ³•ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;ranges&gt;</span></span>
<span class="hljs-keyword">namespace</span> views = std::views;

std::vector&lt;<span class="hljs-type">int</span>&gt; nums = {<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>};
<span class="hljs-comment">// åˆ›å»ºç®¡é“ï¼šè¿‡æ»¤å¶æ•° -&gt; å¹³æ–¹ -&gt; å–å‰ä¸‰ä¸ª</span>
<span class="hljs-keyword">auto</span> result = nums | views::<span class="hljs-built_in">filter</span>([](<span class="hljs-type">int</span> n){ <span class="hljs-keyword">return</span> n % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>; })
                   | views::<span class="hljs-built_in">transform</span>([](<span class="hljs-type">int</span> n){ <span class="hljs-keyword">return</span> n * n; })
                   | views::<span class="hljs-built_in">take</span>(<span class="hljs-number">3</span>);
<span class="hljs-comment">// result æ˜¯ä¸€ä¸ªæƒ°æ€§æ±‚å€¼çš„è§†å›¾</span>
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> n : result) { <span class="hljs-comment">// è§¦å‘è®¡ç®—</span>
    std::cout &lt;&lt; n &lt;&lt; <span class="hljs-string">' '</span>; <span class="hljs-comment">// è¾“å‡º 4 16 36</span>
}
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼šä½¿ç”¨ä¼ ç»Ÿçš„STLç®—æ³•ç»„åˆï¼Œéœ€è¦ä¸­é—´å˜é‡ï¼Œä¸”æ„å›¾ä¸å¤Ÿæ¸…æ™°ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp">std::vector&lt;<span class="hljs-type">int</span>&gt; temp;
std::<span class="hljs-built_in">copy_if</span>(nums.<span class="hljs-built_in">begin</span>(), nums.<span class="hljs-built_in">end</span>(), std::<span class="hljs-built_in">back_inserter</span>(temp),
             [](<span class="hljs-type">int</span> n){ <span class="hljs-keyword">return</span> n % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>; });
std::<span class="hljs-built_in">transform</span>(temp.<span class="hljs-built_in">begin</span>(), temp.<span class="hljs-built_in">end</span>(), temp.<span class="hljs-built_in">begin</span>(),
               [](<span class="hljs-type">int</span> n){ <span class="hljs-keyword">return</span> n * n; });
<span class="hljs-function">std::vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">result</span><span class="hljs-params">(temp.begin(), temp.begin() + std::min(<span class="hljs-number">3</span>, (<span class="hljs-type">int</span>)temp.size()))</span></span>;
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šèŒƒå›´åº“å¼•å…¥äº†<strong>è§†å›¾</strong>ï¼ˆæƒ°æ€§æ±‚å€¼ã€ä¸æ‹¥æœ‰æ•°æ®ï¼‰å’Œ<strong>èŒƒå›´ç®—æ³•</strong>ï¼Œé€šè¿‡ç®¡é“è¿ç®—ç¬¦<code>|</code>ç»„åˆï¼Œå½¢æˆç±»ä¼¼å‡½æ•°å¼ç¼–ç¨‹çš„é£æ ¼ï¼Œä»£ç æ›´ç®€æ´ã€è¡¨è¾¾åŠ›æ›´å¼ºã€‚</p>
<h3 data-id="heading-24"><strong>C++23ï¼šæŒç»­ç²¾è¿›</strong></h3>
<p>C++23è¿›ä¸€æ­¥å¡«å……å’Œå®Œå–„äº†ç°ä»£C++çš„ç”Ÿæ€ã€‚</p>
<h4 data-id="heading-25"><strong>1. <code>std::expected</code></strong></h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼šè¡¨ç¤ºä¸€ä¸ªå¯èƒ½ä¸ºå€¼æˆ–é”™è¯¯çš„é¢„æœŸç»“æœï¼Œæ¯”<code>std::optional</code>æºå¸¦æ›´å¤šé”™è¯¯ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">std::expected&lt;<span class="hljs-type">int</span>, std::string&gt; <span class="hljs-title">SafeDivide</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> </span>{
    <span class="hljs-keyword">if</span> (b == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> std::<span class="hljs-built_in">unexpected</span>(<span class="hljs-string">"Division by zero"</span>);
    <span class="hljs-keyword">return</span> a / b;
}
<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">auto</span> result = <span class="hljs-built_in">SafeDivide</span>(<span class="hljs-number">10</span>, <span class="hljs-number">2</span>);
<span class="hljs-keyword">if</span> (result) {
    std::cout &lt;&lt; <span class="hljs-string">"Result: "</span> &lt;&lt; *result &lt;&lt; std::endl;
} <span class="hljs-keyword">else</span> {
    std::cerr &lt;&lt; <span class="hljs-string">"Error: "</span> &lt;&lt; result.<span class="hljs-built_in">error</span>() &lt;&lt; std::endl;
}
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼šéœ€è¦è‡ªå®šä¹‰ç»“æ„ä½“æˆ–ä½¿ç”¨<code>std::variant&lt;std::pair&lt;int, Error&gt;&gt;</code>ç­‰å¤æ‚ç»„åˆã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Result</span> {
    <span class="hljs-type">int</span> value;
    std::string error;
    <span class="hljs-type">bool</span> hasError;
};
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼š<code>std::expected&lt;T, E&gt;</code>æ˜¯<strong>Sum Type</strong>ï¼Œè¦ä¹ˆåŒ…å«ä¸€ä¸ªç±»å‹ä¸º<code>T</code>çš„å€¼ï¼Œè¦ä¹ˆåŒ…å«ä¸€ä¸ªç±»å‹ä¸º<code>E</code>çš„é”™è¯¯ã€‚å®ƒä¸ºå‡½æ•°æä¾›äº†æ¯”å¼‚å¸¸æ›´è½»é‡ã€æ¯”é”™è¯¯ç æ›´ç»“æ„åŒ–çš„é”™è¯¯å¤„ç†æœºåˆ¶ã€‚</p>
<h4 data-id="heading-26"><strong>2. å¤šç»´ä¸‹æ ‡æ“ä½œç¬¦</strong></h4>
<p><strong>è¯­æ³•ç³–å†™æ³•</strong>ï¼šé‡è½½æ¥å—ä»»æ„æ•°é‡å‚æ•°çš„<code>operator[]</code>ï¼Œç”¨äºå¤šç»´è®¿é—®ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Matrix</span> {
    std::vector&lt;<span class="hljs-type">double</span>&gt; data;
    <span class="hljs-type">size_t</span> rows, cols;
<span class="hljs-keyword">public</span>:
    <span class="hljs-type">double</span>&amp; <span class="hljs-keyword">operator</span>[](<span class="hljs-type">size_t</span> i, <span class="hljs-type">size_t</span> j) { <span class="hljs-comment">// C++23 å¤šç»´ä¸‹æ ‡</span>
        <span class="hljs-keyword">return</span> data[i * cols + j];
    }
};
<span class="hljs-function">Matrix <span class="hljs-title">mat</span><span class="hljs-params">(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)</span></span>;
mat[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>] = <span class="hljs-number">3.14</span>; <span class="hljs-comment">// æ›´è‡ªç„¶çš„è¯­æ³•</span>
</code></pre>
<p><strong>åŸå§‹å†™æ³•</strong>ï¼šä½¿ç”¨å‡½æ•°è°ƒç”¨æˆ–è¿ç»­çš„ä¸€ç»´ä¸‹æ ‡æ“ä½œã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä½¿ç”¨å‡½æ•°</span>
<span class="hljs-function"><span class="hljs-type">double</span>&amp; <span class="hljs-title">at</span><span class="hljs-params">(<span class="hljs-type">size_t</span> i, <span class="hljs-type">size_t</span> j)</span> </span>{ <span class="hljs-keyword">return</span> data[i * cols + j]; }
mat.<span class="hljs-built_in">at</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>) = <span class="hljs-number">3.14</span>;

<span class="hljs-comment">// æˆ–è¿”å›ä»£ç†å¯¹è±¡</span>
<span class="hljs-keyword">auto</span> <span class="hljs-keyword">operator</span>[](<span class="hljs-type">size_t</span> i) { <span class="hljs-keyword">return</span> <span class="hljs-built_in">RowProxy</span>(data, i, cols); }
mat[<span class="hljs-number">1</span>][<span class="hljs-number">2</span>] = <span class="hljs-number">3.14</span>;
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šåŸç”Ÿæ”¯æŒå¤šç»´ä¸‹æ ‡ä½¿æ•°å­¦ã€å›¾å½¢ç­‰é¢†åŸŸåº“çš„æ¥å£æ›´åŠ ç›´è§‚å’Œé«˜æ•ˆã€‚</p>
<p>å­¦å®Œä»¥ä¸ŠåŸºç¡€çŸ¥è¯†ï¼Œä¸‹é¢å°†é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„ç°ä»£C++é¡¹ç›®æ¡ˆä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ç»¼åˆè¿ç”¨C++11åˆ°C++23çš„ç‰¹æ€§ï¼Œå¹¶æ·±å…¥è§£æä¸€äº›å…³é”®è¯­æ³•ç³–çš„åº•å±‚åŸç†ã€‚å½“ä½ èƒ½ç†è§£è¿™äº›ç»¼åˆåº”ç”¨å’Œåº•å±‚å®ç°æ—¶ï¼Œé‚£äº›æ›¾ç»ä»¤äººå›°æƒ‘çš„ç°ä»£C++ä»£ç å°†å˜å¾—æ¸…æ™°æ˜äº†ã€‚</p>
<h3 data-id="heading-27"><strong>å®æˆ˜é¡¹ç›®ï¼šç°ä»£é…ç½®æ–‡ä»¶è§£æå™¨</strong></h3>
<p>è®©æˆ‘ä»¬è®¾è®¡ä¸€ä¸ªé…ç½®æ–‡ä»¶è§£æå™¨ï¼Œæ”¯æŒè¯»å–JSON/YAMLé£æ ¼çš„é…ç½®ï¼Œè¦æ±‚å…·å¤‡ï¼š</p>
<ol>
<li>ç±»å‹å®‰å…¨çš„é…ç½®è®¿é—®</li>
<li>æ”¯æŒåµŒå¥—ç»“æ„</li>
<li>è‰¯å¥½çš„é”™è¯¯å¤„ç†</li>
<li>é«˜æ€§èƒ½ï¼ˆé›¶æ‹·è´è§£æï¼‰</li>
</ol>
<h4 data-id="heading-28"><strong>C++98/03é£æ ¼å®ç°ï¼ˆçº¦150è¡Œï¼‰</strong></h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä¼ ç»Ÿå®ç°å……æ»¡äº†æ‰‹åŠ¨å†…å­˜ç®¡ç†ã€åŸå§‹æŒ‡é’ˆå’Œå†—é•¿çš„é”™è¯¯æ£€æŸ¥</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ConfigValue</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">Type</span> { INT, DOUBLE, STRING, ARRAY, OBJECT };
    
<span class="hljs-keyword">private</span>:
    Type type_;
    <span class="hljs-keyword">union</span> {
        <span class="hljs-type">int</span> int_val_;
        <span class="hljs-type">double</span> double_val_;
        std::string* string_val_;
        std::vector&lt;ConfigValue*&gt;* array_val_;
        std::map&lt;std::string, ConfigValue*&gt;* object_val_;
    };
    
    <span class="hljs-comment">// æ‰‹åŠ¨å®ç°å¤åˆ¶æ§åˆ¶ï¼ˆRule of Threeï¼‰</span>
    <span class="hljs-built_in">ConfigValue</span>(<span class="hljs-type">const</span> ConfigValue&amp; other); <span class="hljs-comment">// éœ€è¦æ·±æ‹·è´</span>
    ConfigValue&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> ConfigValue&amp; other);
    ~<span class="hljs-built_in">ConfigValue</span>();
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// å„ç§æ„é€ å‡½æ•°å’Œè®¿é—®æ–¹æ³•...</span>
    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">is_int</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> type_ == INT; }
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">get_int</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{
        <span class="hljs-keyword">if</span> (type_ != INT) <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">"Type mismatch"</span>);
        <span class="hljs-keyword">return</span> int_val_;
    }
    <span class="hljs-comment">// ç±»ä¼¼çš„å…¶ä»–è®¿é—®å™¨...</span>
    
    <span class="hljs-comment">// è§£æå‡½æ•°</span>
    <span class="hljs-function"><span class="hljs-type">static</span> ConfigValue* <span class="hljs-title">parse</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* json)</span></span>;
};

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
ConfigValue* config = ConfigValue::<span class="hljs-built_in">parse</span>(json_text);
<span class="hljs-keyword">if</span> (config) {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-type">int</span> timeout = config-&gt;<span class="hljs-built_in">get_object</span>()[<span class="hljs-string">"timeout"</span>]-&gt;<span class="hljs-built_in">get_int</span>();
    } <span class="hljs-built_in">catch</span> (...) {
        <span class="hljs-comment">// å¤„ç†å¼‚å¸¸</span>
    }
    <span class="hljs-keyword">delete</span> config; <span class="hljs-comment">// å¿…é¡»è®°å¾—åˆ é™¤</span>
}
</code></pre>
<h4 data-id="heading-29"><strong>ç°ä»£C++é£æ ¼å®ç°ï¼ˆC++17/20ï¼Œçº¦80è¡Œï¼‰</strong></h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;variant&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;map&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;expected&gt;</span> <span class="hljs-comment">// C++23</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;format&gt;</span>   <span class="hljs-comment">// C++20</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string_view&gt;</span></span>

<span class="hljs-keyword">namespace</span> config {
    <span class="hljs-comment">// ä½¿ç”¨variantè¡¨ç¤ºç±»å‹å®‰å…¨çš„è”åˆä½“ï¼ˆC++17ï¼‰</span>
    <span class="hljs-keyword">using</span> value = std::variant&lt;
        std::monostate,        <span class="hljs-comment">// ç©ºå€¼</span>
        <span class="hljs-type">int64_t</span>,               <span class="hljs-comment">// æ•´æ•°</span>
        <span class="hljs-type">double</span>,                <span class="hljs-comment">// æµ®ç‚¹æ•°</span>
        std::string,           <span class="hljs-comment">// å­—ç¬¦ä¸²</span>
        std::vector&lt;value&gt;,    <span class="hljs-comment">// æ•°ç»„</span>
        std::map&lt;std::string, value&gt; <span class="hljs-comment">// å¯¹è±¡</span>
    &gt;;
    
    <span class="hljs-comment">// ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆè‡ªåŠ¨ç®¡ç†ç”Ÿå‘½å‘¨æœŸï¼ˆC++11ï¼‰</span>
    <span class="hljs-keyword">using</span> object_ptr = std::shared_ptr&lt;value&gt;;
    
    <span class="hljs-comment">// é”™è¯¯ç±»å‹å®šä¹‰</span>
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">parse_error</span> {
        <span class="hljs-type">size_t</span> position;
        std::string message;
        
        <span class="hljs-comment">// ä½¿ç”¨formatè¿›è¡Œé”™è¯¯æ ¼å¼åŒ–ï¼ˆC++20ï¼‰</span>
        <span class="hljs-function">std::string <span class="hljs-title">to_string</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{
            <span class="hljs-keyword">return</span> std::format(<span class="hljs-string">"Parse error at position {}: {}"</span>, position, message);
        }
    };
    
    <span class="hljs-comment">// ä½¿ç”¨expectedä½œä¸ºè¿”å›å€¼ï¼ˆC++23ï¼‰</span>
    <span class="hljs-keyword">using</span> parse_result = std::expected&lt;value, parse_error&gt;;
    
    <span class="hljs-comment">// è§£æå‡½æ•°å£°æ˜</span>
    <span class="hljs-function">parse_result <span class="hljs-title">parse</span><span class="hljs-params">(std::string_view json)</span> <span class="hljs-keyword">noexcept</span></span>;
    
    <span class="hljs-comment">// å®‰å…¨çš„é…ç½®è®¿é—®å™¨</span>
    <span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
    std::optional&lt;T&gt; <span class="hljs-title">get_as</span><span class="hljs-params">(<span class="hljs-type">const</span> value&amp; val)</span> </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-type">const</span> T* ptr = std::<span class="hljs-built_in">get_if</span>&lt;T&gt;(&amp;val)) {
            <span class="hljs-keyword">return</span> *ptr;
        }
        <span class="hljs-keyword">return</span> std::<span class="hljs-literal">nullopt</span>; <span class="hljs-comment">// C++17</span>
    }
    
    <span class="hljs-comment">// ä½¿ç”¨conceptçº¦æŸæ¨¡æ¿ï¼ˆC++20ï¼‰</span>
    <span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
    <span class="hljs-keyword">concept</span> ConfigValueType = std::same_as&lt;T, <span class="hljs-type">int64_t</span>&gt; || 
                              std::same_as&lt;T, <span class="hljs-type">double</span>&gt; || 
                              std::same_as&lt;T, std::string&gt;;
    
    <span class="hljs-function"><span class="hljs-keyword">template</span>&lt;ConfigValueType T&gt;
    T <span class="hljs-title">get_or_default</span><span class="hljs-params">(<span class="hljs-type">const</span> value&amp; val, T default_val)</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">get_as</span>&lt;T&gt;(val).<span class="hljs-built_in">value_or</span>(default_val);
    }
}

<span class="hljs-comment">// ç®€åŒ–åçš„ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">auto</span> result = config::<span class="hljs-built_in">parse</span>(json_text);
<span class="hljs-keyword">if</span> (result) {
    <span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; config = *result;
    
    <span class="hljs-comment">// å®‰å…¨è®¿é—®ï¼Œç±»å‹æ˜ç¡®</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">auto</span> timeout = config::<span class="hljs-built_in">get_as</span>&lt;<span class="hljs-type">int64_t</span>&gt;(config[<span class="hljs-string">"timeout"</span>])) {
        std::cout &lt;&lt; std::format(<span class="hljs-string">"Timeout: {}ms"</span>, *timeout); <span class="hljs-comment">// C++20</span>
    }
    
    <span class="hljs-comment">// é“¾å¼è®¿é—®ï¼Œç©ºå®‰å…¨</span>
    std::string db_name = config[<span class="hljs-string">"database"</span>]
        .<span class="hljs-built_in">and_then</span>([](<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; db) { <span class="hljs-keyword">return</span> config::<span class="hljs-built_in">get_as</span>&lt;std::string&gt;(db[<span class="hljs-string">"name"</span>]); })
        .<span class="hljs-built_in">value_or</span>(<span class="hljs-string">"default_db"</span>);
    
    <span class="hljs-comment">// ç»“æ„åŒ–ç»‘å®šéå†ï¼ˆC++17ï¼‰</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>* obj = std::<span class="hljs-built_in">get_if</span>&lt;config::object_map&gt;(&amp;config)) {
        <span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; [key, val] : *obj) {
            std::cout &lt;&lt; std::format(<span class="hljs-string">"{} = {}"</span>, key, val);
        }
    }
} <span class="hljs-keyword">else</span> {
    std::cerr &lt;&lt; result.<span class="hljs-built_in">error</span>().<span class="hljs-built_in">to_string</span>();
}
<span class="hljs-comment">// æ— éœ€æ‰‹åŠ¨é‡Šæ”¾å†…å­˜ï¼</span>
</code></pre>
<h3 data-id="heading-30"><strong>å…³é”®è¯­æ³•ç³–çš„æ·±åº¦è§£æ</strong></h3>
<h4 data-id="heading-31"><strong>1. Lambdaè¡¨è¾¾å¼çš„å®Œæ•´ç¼–è¯‘è¿‡ç¨‹</strong></h4>
<p>è®©æˆ‘ä»¬æ·±å…¥çœ‹çœ‹è¿™ä¸ªLambdaæ˜¯å¦‚ä½•è¢«ç¼–è¯‘å™¨è½¬æ¢çš„ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æºä»£ç </span>
<span class="hljs-keyword">auto</span> multiplier = [factor = <span class="hljs-number">2</span>](<span class="hljs-type">int</span> x) <span class="hljs-keyword">mutable</span> { 
    factor *= <span class="hljs-number">2</span>; 
    <span class="hljs-keyword">return</span> x * factor; 
};

<span class="hljs-comment">// ç¼–è¯‘å™¨ç”Ÿæˆçš„å¤§è‡´ç­‰ä»·ç±»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">__lambda_1</span> {
<span class="hljs-keyword">private</span>:
    <span class="hljs-type">int</span> factor; <span class="hljs-comment">// æ•è·çš„å˜é‡</span>
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// æ„é€ å‡½æ•°åˆå§‹åŒ–æ•è·çš„å˜é‡</span>
    <span class="hljs-keyword">explicit</span> __lambda_1(<span class="hljs-type">int</span> init_factor) : <span class="hljs-built_in">factor</span>(init_factor) {}
    
    <span class="hljs-comment">// å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦</span>
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> </span>{
        factor *= <span class="hljs-number">2</span>;
        <span class="hljs-keyword">return</span> x * factor;
    }
};

<span class="hljs-comment">// å®ä¾‹åŒ–</span>
<span class="hljs-function">__lambda_1 <span class="hljs-title">multiplier</span><span class="hljs-params">(<span class="hljs-number">2</span>)</span></span>;

<span class="hljs-comment">// è°ƒç”¨</span>
<span class="hljs-type">int</span> result = <span class="hljs-built_in">multiplier</span>(<span class="hljs-number">5</span>); <span class="hljs-comment">// å®é™…è°ƒç”¨ multiplier.operator()(5)</span>
</code></pre>
<p><strong>é‡è¦ç»†èŠ‚</strong>ï¼š</p>
<ul>
<li>æ•è·åˆ—è¡¨<code>[=]</code>æˆ–<code>[&amp;]</code>ä¼šè¢«å±•å¼€ä¸ºå…·ä½“å˜é‡</li>
<li><code>mutable</code>å…³é”®å­—å†³å®šäº†<code>operator()</code>æ˜¯å¦è¢«æ ‡è®°ä¸º<code>const</code></li>
<li>è¿”å›ç±»å‹å¯ä»¥é€šè¿‡å°¾ç½®è¿”å›ç±»å‹æˆ–è‡ªåŠ¨æ¨å¯¼</li>
</ul>
<h4 data-id="heading-32"><strong>2. èŒƒå›´forå¾ªç¯çš„å®Œæ•´å±•å¼€</strong></h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æºä»£ç </span>
std::vector&lt;<span class="hljs-type">int</span>&gt; vec = {<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>};
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span>&amp; item : vec) {
    item *= <span class="hljs-number">2</span>;
}

<span class="hljs-comment">// ç¼–è¯‘å™¨å±•å¼€å</span>
{
    <span class="hljs-keyword">auto</span>&amp;&amp; __range = vec;
    <span class="hljs-keyword">auto</span> __begin = __range.<span class="hljs-built_in">begin</span>();
    <span class="hljs-keyword">auto</span> __end = __range.<span class="hljs-built_in">end</span>();
    <span class="hljs-keyword">for</span> (; __begin != __end; ++__begin) {
        <span class="hljs-type">int</span>&amp; item = *__begin;
        item *= <span class="hljs-number">2</span>;
    }
}

<span class="hljs-comment">// å¦‚æœä½¿ç”¨auto&amp;&amp;</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp;&amp; item : vec) {
    <span class="hljs-comment">// å±•å¼€ä¸º</span>
    <span class="hljs-keyword">auto</span>&amp;&amp; item = *__begin;
}
</code></pre>
<h4 data-id="heading-33"><strong>3. ç»“æ„åŒ–ç»‘å®šçš„å¤šç§æ¨¡å¼</strong></h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// 1. æ•°ç»„è§£æ„</span>
<span class="hljs-type">int</span> arr[<span class="hljs-number">3</span>] = {<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>};
<span class="hljs-keyword">auto</span>&amp; [a, b, c] = arr; <span class="hljs-comment">// a,b,cæ˜¯arr[0],arr[1],arr[2]çš„å¼•ç”¨</span>

<span class="hljs-comment">// 2. tuple-likeç±»å‹</span>
<span class="hljs-function">std::tuple&lt;<span class="hljs-type">int</span>, std::string, <span class="hljs-type">double</span>&gt; <span class="hljs-title">tup</span><span class="hljs-params">(<span class="hljs-number">1</span>, <span class="hljs-string">"test"</span>, <span class="hljs-number">3.14</span>)</span></span>;
<span class="hljs-keyword">auto</span> [id, name, value] = tup; <span class="hljs-comment">// å¤åˆ¶åˆ°æ–°å˜é‡</span>

<span class="hljs-comment">// 3. ç»“æ„ä½“</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Point</span> { <span class="hljs-type">int</span> x; <span class="hljs-type">int</span> y; };
Point p{<span class="hljs-number">10</span>, <span class="hljs-number">20</span>};
<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; [px, py] = p; <span class="hljs-comment">// px,pyæ˜¯constå¼•ç”¨</span>

<span class="hljs-comment">// ç¼–è¯‘å™¨ä¸ºç»“æ„ä½“ç”Ÿæˆçš„ä»£ç å¤§è‡´æ˜¯ï¼š</span>
<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; __e = p;
<span class="hljs-keyword">auto</span>&amp; px = __e.x;
<span class="hljs-keyword">auto</span>&amp; py = __e.y;
</code></pre>
<h4 data-id="heading-34"><strong>4. æ¦‚å¿µï¼ˆConceptsï¼‰çš„ç¼–è¯‘æœŸæ£€æŸ¥æœºåˆ¶</strong></h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">concept</span> Addable = <span class="hljs-built_in">requires</span>(T a, T b) {
    { a + b } -&gt; std::same_as&lt;T&gt;;
    { a += b } -&gt; std::same_as&lt;T&amp;&gt;;
};

<span class="hljs-comment">// ä½¿ç”¨æ—¶</span>
<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;Addable T&gt;
T <span class="hljs-title">sum</span><span class="hljs-params">(T a, T b)</span> </span>{ <span class="hljs-keyword">return</span> a + b; }

<span class="hljs-comment">// ç¼–è¯‘å™¨æ£€æŸ¥å¤±è´¥æ—¶çš„é”™è¯¯ä¿¡æ¯ï¼ˆä¼ ç»Ÿæ¨¡æ¿ vs æ¦‚å¿µï¼‰</span>

<span class="hljs-comment">// ä¼ ç»Ÿæ¨¡æ¿çš„é”™è¯¯ï¼ˆéš¾ä»¥ç†è§£ï¼‰ï¼š</span>
<span class="hljs-comment">// error: invalid operands to binary expression ('MyClass' and 'MyClass')</span>
<span class="hljs-comment">// note: candidate template ignored: substitution failure [...]</span>

<span class="hljs-comment">// æ¦‚å¿µçš„é”™è¯¯ï¼ˆæ¸…æ™°æ˜äº†ï¼‰ï¼š</span>
<span class="hljs-comment">// error: constraints not satisfied</span>
<span class="hljs-comment">// note: within 'template&lt;class T&gt; concept Addable' [...]</span>
<span class="hljs-comment">// note: the required expression '(a + b)' would be ill-formed</span>
</code></pre>
<h4 data-id="heading-35"><strong>5. åç¨‹çŠ¶æ€æœºçš„å®ç°åŸç†</strong></h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ç®€å•ç”Ÿæˆå™¨åç¨‹</span>
<span class="hljs-function">std::generator&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">range</span><span class="hljs-params">(<span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = start; i &lt; end; ++i) {
        <span class="hljs-keyword">co_yield</span> i; <span class="hljs-comment">// æš‚åœç‚¹</span>
    }
    <span class="hljs-keyword">co_return</span>;
}

<span class="hljs-comment">// ç¼–è¯‘å™¨ç”Ÿæˆçš„çŠ¶æ€æœºä¼ªä»£ç </span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">__range_frame</span> {
    <span class="hljs-type">int</span> __start;
    <span class="hljs-type">int</span> __end;
    <span class="hljs-type">int</span> __i;
    <span class="hljs-type">int</span> __current_value;
    <span class="hljs-type">int</span> __resume_point = <span class="hljs-number">0</span>;
    
    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">move_next</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">switch</span> (__resume_point) {
            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>: 
                __i = __start;
                <span class="hljs-keyword">goto</span> loop_start;
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
                <span class="hljs-keyword">goto</span> loop_increment;
        }
        
        loop_start:
        <span class="hljs-keyword">if</span> (__i &lt; __end) {
            __current_value = __i;
            __resume_point = <span class="hljs-number">1</span>; <span class="hljs-comment">// ä¸‹æ¬¡ä»case 1æ¢å¤</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// æœ‰å€¼</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// ç»“æŸ</span>
        
        loop_increment:
        ++__i;
        <span class="hljs-keyword">goto</span> loop_start;
    }
    
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">current_value</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> __current_value; }
};
</code></pre>
<h3 data-id="heading-36"><strong>ç°ä»£C++ç¼–ç å‡†åˆ™ä¸æœ€ä½³å®è·µ</strong></h3>
<h4 data-id="heading-37"><strong>1. RAIIï¼ˆèµ„æºè·å–å³åˆå§‹åŒ–ï¼‰æ˜¯æ ¸å¿ƒ</strong></h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä¸å¥½ï¼šæ‰‹åŠ¨ç®¡ç†èµ„æº</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">process_file</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* filename)</span> </span>{
    FILE* f = <span class="hljs-built_in">fopen</span>(filename, <span class="hljs-string">"r"</span>);
    <span class="hljs-keyword">if</span> (!f) <span class="hljs-keyword">return</span>;
    <span class="hljs-comment">// ... ä½¿ç”¨f</span>
    <span class="hljs-keyword">if</span> (error_occurred) {
        <span class="hljs-built_in">fclose</span>(f); <span class="hljs-comment">// å¿…é¡»è®°å¾—å…³é—­</span>
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-built_in">fclose</span>(f); <span class="hljs-comment">// å¿…é¡»è®°å¾—å…³é—­</span>
}

<span class="hljs-comment">// å¥½ï¼šä½¿ç”¨RAIIåŒ…è£…å™¨ï¼ˆC++11ï¼‰</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">process_file</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; filename)</span> </span>{
    <span class="hljs-function">std::ifstream <span class="hljs-title">file</span><span class="hljs-params">(filename)</span></span>; <span class="hljs-comment">// æ„é€ å‡½æ•°æ‰“å¼€</span>
    <span class="hljs-keyword">if</span> (!file.<span class="hljs-built_in">is_open</span>()) <span class="hljs-keyword">return</span>;
    <span class="hljs-comment">// ... ä½¿ç”¨file</span>
    <span class="hljs-comment">// æ— éœ€æ‰‹åŠ¨å…³é—­ï¼Œææ„å‡½æ•°è‡ªåŠ¨å¤„ç†</span>
}

<span class="hljs-comment">// æ›´å¥½ï¼šè‡ªå®šä¹‰RAIIåŒ…è£…å™¨ï¼ˆC++11/14ï¼‰</span>
<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> Deleter = std::default_delete&lt;T&gt;&gt;
<span class="hljs-keyword">class</span> scoped_resource {
    T* ptr;
    Deleter deleter;
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">scoped_resource</span><span class="hljs-params">(T* p)</span> : ptr(p) {</span>}
    ~<span class="hljs-built_in">scoped_resource</span>() { <span class="hljs-keyword">if</span> (ptr) <span class="hljs-built_in">deleter</span>(ptr); }
    <span class="hljs-comment">// ç¦ç”¨æ‹·è´ï¼Œå…è®¸ç§»åŠ¨</span>
    <span class="hljs-built_in">scoped_resource</span>(<span class="hljs-type">const</span> scoped_resource&amp;) = <span class="hljs-keyword">delete</span>;
    scoped_resource&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> scoped_resource&amp;) = <span class="hljs-keyword">delete</span>;
    <span class="hljs-built_in">scoped_resource</span>(scoped_resource&amp;&amp; other) 
        : <span class="hljs-built_in">ptr</span>(other.ptr) { other.ptr = <span class="hljs-literal">nullptr</span>; }
    
    <span class="hljs-function">T* <span class="hljs-title">get</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> ptr; }
    T&amp; <span class="hljs-keyword">operator</span>*() <span class="hljs-type">const</span> { <span class="hljs-keyword">return</span> *ptr; }
    T* <span class="hljs-keyword">operator</span>-&gt;() <span class="hljs-type">const</span> { <span class="hljs-keyword">return</span> ptr; }
};
</code></pre>
<h4 data-id="heading-38"><strong>2. ç±»å‹å®‰å…¨ä¼˜äºåŸå§‹ç±»å‹</strong></h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä¸å¥½ï¼šä½¿ç”¨åŸå§‹ç±»å‹å’Œå®</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX_RETRIES 3</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> INVALID_ID -1</span>

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">find_user</span><span class="hljs-params">(<span class="hljs-type">int</span> user_id)</span> </span>{
    <span class="hljs-keyword">if</span> (user_id == INVALID_ID) <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
    <span class="hljs-comment">// ...</span>
}

<span class="hljs-comment">// å¥½ï¼šä½¿ç”¨å¼ºç±»å‹ï¼ˆC++11/17ï¼‰</span>
<span class="hljs-keyword">enum class</span> <span class="hljs-title class_">UserId</span> : <span class="hljs-type">int64_t</span> {
    Invalid = <span class="hljs-number">-1</span>
};

<span class="hljs-keyword">constexpr</span> <span class="hljs-type">int</span> max_retries = <span class="hljs-number">3</span>; <span class="hljs-comment">// C++11 constexpr</span>

<span class="hljs-function">std::optional&lt;User&gt; <span class="hljs-title">find_user</span><span class="hljs-params">(UserId id)</span> </span>{ <span class="hljs-comment">// C++17 optional</span>
    <span class="hljs-keyword">if</span> (id == UserId::Invalid) <span class="hljs-keyword">return</span> std::<span class="hljs-literal">nullopt</span>;
    <span class="hljs-comment">// ...</span>
    <span class="hljs-keyword">return</span> user;
}
</code></pre>
<h4 data-id="heading-39"><strong>3. å‡½æ•°å¼é£æ ¼ä¸ç®—æ³•ç»„åˆ</strong></h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä¼ ç»Ÿå‘½ä»¤å¼é£æ ¼</span>
<span class="hljs-function">std::vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">filter_and_transform</span><span class="hljs-params">(<span class="hljs-type">const</span> std::vector&lt;<span class="hljs-type">int</span>&gt;&amp; input)</span> </span>{
    std::vector&lt;<span class="hljs-type">int</span>&gt; result;
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> x : input) {
        <span class="hljs-keyword">if</span> (x &gt; <span class="hljs-number">0</span> &amp;&amp; x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) {
            result.<span class="hljs-built_in">push_back</span>(x * x);
        }
    }
    std::<span class="hljs-built_in">sort</span>(result.<span class="hljs-built_in">begin</span>(), result.<span class="hljs-built_in">end</span>());
    <span class="hljs-keyword">return</span> result;
}

<span class="hljs-comment">// ç°ä»£å‡½æ•°å¼é£æ ¼ï¼ˆC++20èŒƒå›´ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">filter_and_transform</span><span class="hljs-params">(<span class="hljs-type">const</span> std::vector&lt;<span class="hljs-type">int</span>&gt;&amp; input)</span> </span>{
    <span class="hljs-keyword">return</span> input 
        | std::views::<span class="hljs-built_in">filter</span>([](<span class="hljs-type">int</span> x){ <span class="hljs-keyword">return</span> x &gt; <span class="hljs-number">0</span> &amp;&amp; x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>; })
        | std::views::<span class="hljs-built_in">transform</span>([](<span class="hljs-type">int</span> x){ <span class="hljs-keyword">return</span> x * x; })
        | std::ranges::<span class="hljs-built_in">to</span>&lt;std::vector&gt;(); <span class="hljs-comment">// C++23</span>
        <span class="hljs-comment">// æˆ–ä½¿ç”¨ std::vector&lt;int&gt;(begin, end)</span>
}
</code></pre>
<h4 data-id="heading-40"><strong>4. é”™è¯¯å¤„ç†çš„ç°ä»£åŒ–æ¼”è¿›</strong></h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// å±‚çº§1ï¼šå¼‚å¸¸ï¼ˆåŸºç¡€ï¼‰</span>
<span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">auto</span> config = <span class="hljs-built_in">parse_config</span>(file);
    <span class="hljs-built_in">use</span>(config);
} <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> parse_error&amp; e) {
    <span class="hljs-built_in">log_error</span>(e.<span class="hljs-built_in">what</span>());
}

<span class="hljs-comment">// å±‚çº§2ï¼šoptionalï¼ˆç®€å•å¯é€‰å€¼ï¼ŒC++17ï¼‰</span>
<span class="hljs-keyword">auto</span> parse_result = <span class="hljs-built_in">try_parse</span>(config_str);
<span class="hljs-keyword">if</span> (parse_result) {
    <span class="hljs-built_in">use</span>(*parse_result);
}

<span class="hljs-comment">// å±‚çº§3ï¼šexpectedï¼ˆæºå¸¦é”™è¯¯ä¿¡æ¯ï¼ŒC++23ï¼‰</span>
<span class="hljs-keyword">auto</span> parse_result = <span class="hljs-built_in">parse_config</span>(config_str);
<span class="hljs-keyword">if</span> (!parse_result) {
    <span class="hljs-comment">// å¯ä»¥è®¿é—®è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯</span>
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">handle_error</span>(parse_result.<span class="hljs-built_in">error</span>());
}
<span class="hljs-built_in">use</span>(*parse_result);

<span class="hljs-comment">// å±‚çº§4ï¼šResultç±»å‹ä¸ç»„åˆå™¨ï¼ˆå‡½æ•°å¼é£æ ¼ï¼‰</span>
<span class="hljs-built_in">parse_config</span>(config_str)
    .<span class="hljs-built_in">and_then</span>(validate_config)    <span class="hljs-comment">// é“¾å¼éªŒè¯</span>
    .<span class="hljs-built_in">and_then</span>(apply_defaults)     <span class="hljs-comment">// åº”ç”¨é»˜è®¤å€¼</span>
    .<span class="hljs-built_in">transform</span>(serialize)         <span class="hljs-comment">// è½¬æ¢ç»“æœ</span>
    .<span class="hljs-built_in">or_else</span>(log_and_recover);    <span class="hljs-comment">// é”™è¯¯æ¢å¤</span>
</code></pre>
<h3 data-id="heading-41"><strong>è°ƒè¯•ä¸ç†è§£ç°ä»£C++ä»£ç çš„æŠ€å·§</strong></h3>
<ol>
<li>
<p><strong>ä½¿ç”¨ç¼–è¯‘å™¨çš„ä¸­é—´è¡¨ç¤º</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># GCCå¯ä»¥è¾“å‡ºé¢„å¤„ç†åçš„ä»£ç </span>
g++ -E source.cpp -o source.ii

<span class="hljs-comment"># æŸ¥çœ‹æ¨¡æ¿å®ä¾‹åŒ–</span>
g++ -fdump-tree-original source.cpp
</code></pre>
</li>
<li>
<p><strong>åˆ©ç”¨typeidå’Œdecltypeè°ƒè¯•</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;typeinfo&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>

<span class="hljs-keyword">auto</span> lambda = [](<span class="hljs-keyword">auto</span> x) { <span class="hljs-keyword">return</span> x * <span class="hljs-number">2</span>; };
std::cout &lt;&lt; <span class="hljs-built_in">typeid</span>(lambda).<span class="hljs-built_in">name</span>() &lt;&lt; std::endl;
std::cout &lt;&lt; <span class="hljs-built_in">typeid</span>(<span class="hljs-keyword">decltype</span>(<span class="hljs-built_in">lambda</span>(<span class="hljs-number">42</span>))).<span class="hljs-built_in">name</span>() &lt;&lt; std::endl;
</code></pre>
</li>
<li>
<p><strong>é™æ€æ–­è¨€éªŒè¯ç±»å‹</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-type">void</span> <span class="hljs-title">process</span><span class="hljs-params">(T value)</span> </span>{
    <span class="hljs-built_in">static_assert</span>(std::is_integral_v&lt;T&gt;, 
                 <span class="hljs-string">"T must be an integral type"</span>);
    <span class="hljs-comment">// ...</span>
}
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨conceptçº¦æŸæ—¶çš„è°ƒè¯•</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">concept</span> MyConcept = <span class="hljs-built_in">requires</span>(T t) {
    { t.<span class="hljs-built_in">some_method</span>() } -&gt; std::same_as&lt;<span class="hljs-type">int</span>&gt;;
};

<span class="hljs-comment">// ç¼–è¯‘é”™è¯¯æ—¶ä¼šæ˜¾ç¤ºå…·ä½“å“ªä¸ªçº¦æŸä¸æ»¡è¶³</span>
</code></pre>
</li>
</ol>
<h3 data-id="heading-42"><strong>æ€»ç»“</strong></h3>
<p>ç°ä»£C++çš„è¿™äº›è¯­æ³•ç³–ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸ºäº†è§£å†³ç‰¹å®šé—®é¢˜è€Œç”Ÿçš„å·¥å…·ï¼š</p>
<ol>
<li><strong><code>auto</code>å’Œç±»å‹æ¨å¯¼</strong>ï¼šè§£å†³æ¨¡æ¿ç±»å‹å†—é•¿çš„é—®é¢˜</li>
<li><strong>Lambdaå’Œå‡½æ•°å¯¹è±¡</strong>ï¼šè§£å†³éœ€è¦ä¼ é€’å°æ®µä»£ç çš„é—®é¢˜</li>
<li><strong>æ™ºèƒ½æŒ‡é’ˆå’ŒRAII</strong>ï¼šè§£å†³èµ„æºç®¡ç†æ˜“é”™çš„é—®é¢˜</li>
<li><strong>èŒƒå›´forå’Œç»“æ„åŒ–ç»‘å®š</strong>ï¼šè§£å†³å®¹å™¨éå†ç¹ççš„é—®é¢˜</li>
<li><strong>æ¦‚å¿µå’Œçº¦æŸ</strong>ï¼šè§£å†³æ¨¡æ¿é”™è¯¯ä¿¡æ¯æ™¦æ¶©çš„é—®é¢˜</li>
<li><strong>åç¨‹å’Œå¼‚æ­¥</strong>ï¼šè§£å†³å›è°ƒåœ°ç‹±å’Œå¼‚æ­¥ä»£ç å¤æ‚çš„é—®é¢˜</li>
</ol>
<p>æŒæ¡è¿™äº›è¯­æ³•ç³–çš„å…³é”®ä¸æ˜¯è®°å¿†è¯­æ³•ï¼Œè€Œæ˜¯ç†è§£å®ƒä»¬<strong>è¦è§£å†³ä»€ä¹ˆé—®é¢˜</strong>å’Œ<strong>ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡</strong>ã€‚å½“ä½ çœ‹åˆ°ä¸€æ®µç°ä»£C++ä»£ç æ—¶ï¼Œå°è¯•é—®è‡ªå·±ï¼š</p>
<ol>
<li>è¿™æ®µä»£ç æƒ³è§£å†³ä»€ä¹ˆæ ¸å¿ƒé—®é¢˜ï¼Ÿ</li>
<li>ä½¿ç”¨äº†å“ªäº›ç°ä»£ç‰¹æ€§æ¥ç®€åŒ–è§£å†³æ–¹æ¡ˆï¼Ÿ</li>
<li>å¦‚æœä¸ä½¿ç”¨è¿™äº›ç‰¹æ€§ï¼Œä»£ç ä¼šå˜æˆä»€ä¹ˆæ ·å­ï¼Ÿ</li>
</ol>
<p>é€šè¿‡è¿™ç§å¯¹æ¯”æ€è€ƒï¼Œä½ ä¸ä»…èƒ½ç†è§£åˆ«äººçš„ä»£ç ï¼Œè¿˜èƒ½é€æ¸å½¢æˆè‡ªå·±çš„ç°ä»£C++ç¼–ç¨‹æ€ç»´ã€‚ç°ä»£C++ä¸æ˜¯å¯¹ä¼ ç»Ÿçš„é¢ è¦†ï¼Œè€Œæ˜¯åœ¨ä¿æŒé›¶æˆæœ¬æŠ½è±¡åŸåˆ™ä¸‹çš„è‡ªç„¶æ¼”è¿›ã€‚æ¯ä¸€ä¸ªè¯­æ³•ç³–èƒŒåï¼Œéƒ½æ˜¯C++ç¤¾åŒºæ•°åå¹´çš„ç»éªŒç§¯ç´¯å’Œå¯¹æ›´å®‰å…¨ã€æ›´é«˜æ•ˆä»£ç çš„ä¸æ‡ˆè¿½æ±‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[éœ‡æƒŠï¼Open AIæŠŠTransformerè®­ç»ƒæˆäº†â€œå‡ ä¹å…¨éƒ¨å½’é›¶â€ï¼]]></title>    <link>https://juejin.cn/post/7579871631095496730</link>    <guid>https://juejin.cn/post/7579871631095496730</guid>    <pubDate>2025-12-04T12:58:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579871631095496730" data-draft-id="7579798332778266633" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="éœ‡æƒŠï¼Open AIæŠŠTransformerè®­ç»ƒæˆäº†â€œå‡ ä¹å…¨éƒ¨å½’é›¶â€ï¼"/> <meta itemprop="keywords" content="LLM"/> <meta itemprop="datePublished" content="2025-12-04T12:58:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ™ºæ³ŠAI"/> <meta itemprop="url" content="https://juejin.cn/user/3572727470361578"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            éœ‡æƒŠï¼Open AIæŠŠTransformerè®­ç»ƒæˆäº†â€œå‡ ä¹å…¨éƒ¨å½’é›¶â€ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3572727470361578/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ™ºæ³ŠAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T12:58:40.000Z" title="Thu Dec 04 2025 12:58:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>OpenAI æŒ‘æˆ˜äº†ä¸€é¡¹è¢«è§†ä¸ºä¸å¯èƒ½çš„ä»»åŠ¡ï¼šé€šè¿‡å°†Transformerçš„æƒé‡åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å‹ç¼©è‡³æ¥è¿‘ç»å¯¹é›¶å€¼ï¼Œå¼ºåˆ¶æ¨¡å‹ä»…ä¾èµ–æå°‘æ•°è¿æ¥æ‰§è¡Œå…¨éƒ¨è®¡ç®—ã€‚</p>
<p>è¿™ä¸€æç«¯æ¡ä»¶ä¸‹ï¼Œæ¨¡å‹å†…éƒ¨è´Ÿè´£é€»è¾‘æ¨ç†çš„"è®¡ç®—ç”µè·¯"é¦–æ¬¡å®ç°äº†å¯åˆ†ç¦»ã€å¯éªŒè¯çš„æ˜¾æ€§åŒ–å‘ˆç°ã€‚</p>
<p>è¿™å ªç§°äººç±»è¿„ä»Šä¸ºæ­¢å¯¹Transformerå·¥ä½œæœºåˆ¶æœ€æ·±åˆ»çš„æ´å¯Ÿçªç ´ã€‚</p>
<p>åœ¨å¤§å‹æ¨¡å‹ä¸»å¯¼çš„æ—¶ä»£ï¼ŒTransformerçš„ä¸å¯è§£é‡Šæ€§å·²æˆä¸ºæ™®éè®¤çŸ¥ã€‚æ— è®ºæ˜¯æ³¨æ„åŠ›å¤´åˆ†æã€æ¿€æ´»æ¨¡å¼è¿½è¸ªï¼Œè¿˜æ˜¯åäº‹å®æ ·æœ¬æ„å»ºï¼Œä¼ ç»Ÿç ”ç©¶æ–¹æ³•åœ¨dense Transformerçš„å±‚é—´äº¤ç»‡ä¸­å‡é­é‡ç“¶é¢ˆâ€”â€”æ•°ä¸‡æ¡é€šé“çš„å¯†é›†äº¤äº’ä½¿å¾—å†…åœ¨ç»“æ„éš¾ä»¥è¾¨è¯†ã€‚</p>
<p>OpenAIçš„ã€ŠWeight-sparse Transformers Have Interpretable Circuitsã€‹ç ”ç©¶é‡‡å–äº†æˆªç„¶ç›¸åçš„æ€è·¯ï¼šå¹¶éå¯¹denseæ¨¡å‹è¿›è¡Œäº‹åè§£æï¼Œè€Œæ˜¯åœ¨è®­ç»ƒåˆæœŸå°±æŠ‘åˆ¶å…¶denseåŒ–å€¾å‘ã€‚</p>
<p>é€šè¿‡ç»´æŒè®­ç»ƒå…¨ç¨‹çš„æ¥è¿‘é›¶æƒé‡çŠ¶æ€ï¼Œæ¨¡å‹è¢«è¿«åœ¨æœ€å°è¿æ¥é›†å†…å®Œæˆè®¡ç®—ä»»åŠ¡ã€‚å½“å†—ä½™è·¯å¾„è¢«æè‡´å‹ç¼©åï¼Œé‚£æ¡æ”¯æ’‘æ¨ç†çš„æ ¸å¿ƒå› æœé“¾â€”â€”å³è®ºæ–‡ä¸­å®šä¹‰çš„"è®¡ç®—ç”µè·¯"(circuit)â€”â€”ä¾¿ä»¥æ¸…æ™°å¯è¿½æº¯çš„å½¢æ€æµ®ç°ã€‚</p>
<p>æ›´å…·çªç ´æ€§çš„æ˜¯ï¼Œè¿™äº›ç”µè·¯ä¸ä»…èƒ½å¤Ÿå®Œæ•´æ˜ å°„è®¡ç®—æµç¨‹ï¼Œå…¶å› æœæœ‰æ•ˆæ€§è¿˜å¯é€šè¿‡å®éªŒéªŒè¯ã€‚ç ”ç©¶è€…èƒ½å¤Ÿç‹¬ç«‹è°ƒæ§ç”µè·¯èŠ‚ç‚¹ã€é¢„åˆ¤dense Transformerçš„å¤±æ•ˆæƒ…å½¢ï¼Œç”šè‡³å¼•å¯¼denseæ¨¡å‹äº§ç”Ÿä¸ç¨€ç–ç”µè·¯ä¸€è‡´çš„å“åº”ã€‚</p>
<p>è¯¥ç ”ç©¶æ­ç¤ºäº†ä¸€ä¸ªé¢ è¦†æ€§è§‚ç‚¹ï¼šTransformerçš„ä¸å¯è§£é‡Šæ€§å¹¶éå…¶å›ºæœ‰å±æ€§ï¼Œè€Œæ˜¯æºäºä¼ ç»Ÿè®­ç»ƒæ–¹æ³•æœªèƒ½æä¾›å¯è§£é‡Šçš„æˆé•¿è·¯å¾„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0652d74b317e42eabbbbb18139cb0b44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765457920&amp;x-signature=nIbqiJZ5kxyMN40skFtGS7zyqJ4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è®ºæ–‡æ ‡é¢˜ï¼š</p>
<p>Weight-sparse transformers have interpretable circuits</p>
<p><strong>01</strong></p>
<p><strong>æ–¹æ³•</strong></p>
<p>è‹¥å°†dense Transformeræ¯”ä½œä¸€ä¸ªè·¯ç½‘å¯†å¸ƒçš„è¶…çº§éƒ½ä¼šï¼ŒOpenAIçš„ç­–ç•¥åˆ™æ˜¯åœ¨è®­ç»ƒåˆæœŸå°é—­ç»å¤§å¤šæ•°æ”¯çº¿ï¼Œä»…ä¿ç•™ä¸»å¹²é“ã€‚æ‰€æœ‰è®¡ç®—å¿…é¡»æ²¿è¿™äº›æ ¸å¿ƒé€šé“æµåŠ¨ï¼Œè€Œæ‰¿æ‹…å…³é”®ä»»åŠ¡çš„è·¯å¾„ä¹Ÿå› æ­¤è¢«å‡¸æ˜¾å‡ºæ¥ã€‚</p>
<p>è¯¥æ–¹æ³•å¯åˆ†è§£ä¸ºä¸‰ä¸ªæ ¸å¿ƒæ­¥éª¤ï¼šâ€Œè®­ç»ƒåˆæœŸç»´æŒæç¨€ç–æ€§â€Œã€â€Œå¼•å¯¼ç”µè·¯ç»“æ„è‡ªç„¶æµ®ç°â€Œï¼Œæœ€ç»ˆå®ç°â€Œå¯¹denseæ¨¡å‹çš„é€†å‘è§£æâ€Œã€‚</p>
<p>æ›´å¤šAIå¤§æ¨¡å‹å­¦ä¹ è§†é¢‘åŠèµ„æºï¼Œéƒ½åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fyuan.zhipoai.cn%2F" target="_blank" title="https://yuan.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</p>
<p><strong>1.1 è®­ç»ƒæ—¶å¼ºåˆ¶ç¨€ç–ï¼šä»æºå¤´ä¸Šé¿å… dense</strong></p>
<p>OpenAI æ‘’å¼ƒäº†ä¼ ç»Ÿ"å…ˆå¯†é›†è®­ç»ƒåå‰ªæ"çš„å¸¸è§„è·¯å¾„ï¼Œåˆ›æ–°æ€§åœ°è®¾å®šï¼šæ‰€æœ‰æƒé‡çŸ©é˜µåœ¨è®­ç»ƒå…¨å‘¨æœŸå†…å‡ç»´æŒå›ºå®šæ•°é‡çš„éé›¶å‚æ•°ã€‚</p>
<p>è¿™ç§æœºåˆ¶ä½¿ç½‘ç»œå±‚æŒç»­æ‰§è¡Œä¸‰ä¸ªæ ‡å‡†åŒ–æ“ä½œï¼š</p>
<p>â€Œforwardä¼ æ’­â€Œï¼šæ‰§è¡Œæ ‡å‡†çŸ©é˜µè¿ç®—</p>
<p>â€Œåå‘ä¼ æ’­â€Œï¼šæŒ‰æ¢¯åº¦æ›´æ–°å‚æ•°</p>
<p>â€Œå‚æ•°æŠ•å½±â€Œï¼šä»…ä¿ç•™ç»å¯¹å€¼æœ€å¤§çš„kä¸ªæƒé‡ï¼Œå…¶ä½™å¼ºåˆ¶ç½®é›¶</p>
<p>æ•´ä¸ªæ¨¡å‹å§‹ç»ˆä¿æŒé«˜åº¦ç¨€ç–ç‰¹æ€§ï¼Œç”±æ­¤äº§ç”Ÿä¸‰ä¸ªæ˜¾è‘—ä¼˜åŠ¿ï¼š</p>
<p>æŠ‘åˆ¶å†—ä½™ç¥ç»è¿æ¥çš„ç”Ÿé•¿</p>
<p>é™ä½ç‰¹å¾åŠŸèƒ½çš„ç›¸äº’å¹²æ‰°</p>
<p>ä¿ƒä½¿ç‰¹å®šä»»åŠ¡èšç„¦äºæœ‰é™æ¿€æ´»é€šè·¯</p>
<p>è¯¥è®­ç»ƒæ¡†æ¶åœ¨è®ºæ–‡ä¸­é€šè¿‡å¯è§†åŒ–æµç¨‹å›¾è¿›è¡Œäº†ç³»ç»Ÿé˜è¿°ï¼Œå…¶ç»“æ„æ¸…æ™°å±•ç¤ºäº†ä¸Šè¿°åŠ¨æ€è¿‡ç¨‹çš„æ ¸å¿ƒé€»è¾‘ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40d2ffd27f124a2da2b3edf50f470d46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765457920&amp;x-signature=n9wjQCvul%2FH6BiMC6tesp8wN2SI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾1. ä»ç¨€ç–è®­ç»ƒåˆ°æŠ½å–æœ€å°è®¡ç®—ç”µè·¯çš„æ•´ä½“æµç¨‹ã€‚æ¨¡å‹åœ¨å…¨ç¨‹ä¿æŒæç«¯ç¨€ç–ï¼Œé€šè¿‡èŠ‚ç‚¹å‰ªæå¾—åˆ°å®Œæˆä»»åŠ¡æ‰€éœ€çš„æœ€å°ç»“æ„ã€‚</p>
<p><strong>1.2 è®©æ¨¡å‹è‡ªå·±æš´éœ²å…³é”®èŠ‚ç‚¹</strong></p>
<p>ä¸ºæ­ç¤ºæœ€å°ç”µè·¯çš„å·¥ä½œæœºåˆ¶ï¼Œç ”ç©¶è€…åœ¨residual channelã€attentionè¾“å…¥è¾“å‡ºç­‰å…³é”®èŠ‚ç‚¹å¼•å…¥gateç»“æ„ã€‚è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ¨¡å‹ä¼šè‡ªä¸»æ¿€æ´»éƒ¨åˆ†gateè€Œå…³é—­å…¶ä½™éƒ¨åˆ†ï¼Œè¿™ä¸€åŠ¨æ€è¿‡ç¨‹æ¸…æ™°è¡¨æ˜ï¼šæ‰§è¡Œè¯¥ä»»åŠ¡æ—¶ï¼Œä»…éœ€ä¾èµ–ç‰¹å®šè·¯å¾„å³å¯å®Œæˆã€‚</p>
<p>gate çš„å½¢å¼å†™æˆï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39635bfda0414b739005565b2bbe31e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765457920&amp;x-signature=lMd6csMjJfSoUFek%2B4J8AgI2eRs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç»†èŠ‚ä¸å¿…æ·±ç©¶ï¼Œåªéœ€çŸ¥é“ï¼šæœ€ç»ˆè¢« gate æ¿€æ´»çš„èŠ‚ç‚¹ï¼Œå°±æ˜¯æ¨¡å‹çœŸæ­£ç”¨åˆ°çš„å› æœå•å…ƒã€‚</p>
<p>åœ¨å­—ç¬¦ä¸²é—­åˆå¼•å·ä»»åŠ¡ä¸­ï¼Œç¨€ç–æ¨¡å‹æœ€ç»ˆåªç•™ä¸‹ 12 ä¸ªèŠ‚ç‚¹å’Œ 9 æ¡è¾¹ï¼ˆè§ä¸‹å›¾ï¼‰ï¼Œæ•´ä¸ªæ¨ç†é“¾åƒè“å›¾ä¸€æ ·å¹²å‡€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b035e503bf4f4ff6b5712168b68eeacd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765457920&amp;x-signature=ITHjVuZQ0%2BVy3Snj%2BbGeMniBJkY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾2. å­—ç¬¦ä¸²é—­åˆå¼•å·ä»»åŠ¡æ‰€æŠ½å–çš„è®¡ç®—ç”µè·¯</p>
<p><strong>1.3 æ›´å¤æ‚çš„æ¨ç†ï¼šåµŒå¥—æ‹¬å·æ·±åº¦</strong></p>
<p>åµŒå¥—æ‹¬å·çš„å¤„ç†å¤æ‚åº¦æ˜¾è‘—é«˜äºå¼•å·ï¼Œç„¶è€Œç¨€ç–æ¨¡å‹ç”Ÿæˆçš„ç”µè·¯ç»“æ„å§‹ç»ˆä¿æŒæœ‰åºã€‚å½“æ£€æµ‹åˆ°å­—ç¬¦"[ "æ—¶ï¼Œæ¨¡å‹ä¼šåˆå§‹åŒ–ä¸€ä¸ª"å¼€æ‹¬å·ç‰¹å¾"ï¼Œéšåé€šè¿‡å•ä¸€æ³¨æ„åŠ›å¤´å¯¹è¯¥ç‰¹å¾çš„å†å²å€¼è¿›è¡Œå…¨å±€å¹³å‡èšåˆã€‚èšåˆç»“æœçš„å·®å¼‚å¯¹åº”ä¸åŒçš„åµŒå¥—å±‚çº§ï¼Œæœ€ç»ˆè¾“å‡ºä½ç½®å°†ä¾æ®å±‚çº§åˆ¤æ–­ç”Ÿæˆ"]"æˆ–"]]"ã€‚</p>
<p>åœ¨denseæ¨¡å‹ä¸­ï¼Œæ­¤ç±»æœºåˆ¶ä¼šåˆ†æ•£è‡³å¤šä¸ªæ³¨æ„åŠ›å¤´ä¸å¤§é‡æ®‹å·®é€šé“ä¸­ï¼Œç›¸äº’äº¤ç»‡éš¾ä»¥è¾¨è¯†ï¼›è€Œåœ¨ç¨€ç–æ¨¡å‹ä¸­ï¼Œè¯¥è¿‡ç¨‹å‘ˆç°ä¸ºä¸€æ¡æ¸…æ™°ä¸”ç¨³å®šçš„è·¯å¾„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d2fc7767dcce4e888ee36da243e3c0a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765457920&amp;x-signature=rA9K0hpLIARoE1%2BbZURNTmq8K2Y%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾3. ç¨€ç–æ¨¡å‹è®¡ç®—æ‹¬å·æ·±åº¦çš„ç”µè·¯ç¤ºæ„</p>
<p><strong>1.4 Bridgeï¼šè®©ç¨€ç–æ¨¡å‹è§£é‡Š dense Transformer</strong></p>
<p>ç¨€ç–æ¨¡å‹å› å…¶ç»“æ„é€æ˜æ€§è€Œæ˜“äºç†è§£ï¼Œç„¶è€Œåœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œdenseæ¨¡å‹æ‰æ˜¯æˆ‘ä»¬å…³æ³¨çš„æ ¸å¿ƒç›®æ ‡ã€‚Bridgeçš„è®¾è®¡åˆè¡·æ­£æ˜¯å»ºç«‹ä¸¤è€…é—´çš„å…³è”ï¼Œä½¿ç¨€ç–ç”µè·¯èƒ½å¤Ÿä½œä¸ºdenseæ¨¡å‹çš„"å¯è§£é‡Šæ€§æ¥å£"ã€‚</p>
<p>è¯¥å®ç°æµç¨‹åŒ…å«ä¸¤ä¸ªå…³é”®é˜¶æ®µï¼š</p>
<p>é€†å‘è½¬æ¢ï¼šå°†denseæ¨¡å‹å„å±‚æ¿€æ´»å€¼å¯¹åº”åˆ°ç¨€ç–è¡¨ç¤ºç©ºé—´ï¼ˆdense â†’ sparseï¼‰</p>
<p>æ­£å‘è½¬æ¢ï¼šå°†ç¨€ç–ç©ºé—´çš„æ¿€æ´»ç»“æœé‡æ–°æ˜ å°„å›denseæ¨¡å‹ï¼ˆsparse â†’ denseï¼‰</p>
<p>å¹¶ç”¨ NMSE loss å¯¹é½ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02879d480fb94cf7ba5bafd21781ae29~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765457920&amp;x-signature=SGjsDz%2FgtD3rADpyqr4h5t8drd8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¯¹åº”ç»“æ„åœ¨ä¸‹å›¾ä¸­ç»™å‡ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/465f56fa26904fb4ae0fed8a6182bef7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765457920&amp;x-signature=TMd785U%2BS2VcB0wUtEfBuQM2hjw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾4. Bridge ä½¿ç”¨çº¿æ€§æ˜ å°„å¯¹é½ sparse ä¸ dense çš„ä¸­é—´æ¿€æ´»ï¼Œä½¿å¾—ä¸¤è€…å¯ä»¥äº’ç›¸è½¬æ¢å¹¶ä¿æŒæ··åˆè·¯å¾„çš„æ€§èƒ½ã€‚</p>
<p><strong>02</strong></p>
<p><strong>å®éªŒ</strong></p>
<p>å½“ç”µè·¯è¢«æå–å®Œæˆåï¼Œä¸€ä¸ªå…³é”®é—®é¢˜ç«‹å³æµ®ç°ï¼šè¯¥è·¯å¾„æ˜¯å¦ç¡®ä¸ºæ¨¡å‹çš„å®é™…ä¾èµ–è·¯å¾„ï¼Ÿåç»­å®éªŒçš„æ ¸å¿ƒç›®æ ‡æ­£æ˜¯å¯¹è¿™ä¸€é—®é¢˜çš„å…¨é¢éªŒè¯ã€‚</p>
<p><strong>2.1 ç”µè·¯è§„æ¨¡çš„è§„å¾‹æ€§</strong></p>
<p>dense Transformeræå–çš„æœ€å°ç”µè·¯å°ºå¯¸æ³¢åŠ¨æ˜¾è‘—ï¼Œé’ˆå¯¹ç›¸åŒä»»åŠ¡æ—¶æ•°å€¼å·®å¼‚æå¤§ï¼Œç¼ºä¹æ˜æ˜¾è§„å¾‹æ€§ã€‚ç ”ç©¶ä¸­å°†denseæ¨¡å‹ä¸ç¨€ç–æ¨¡å‹çš„è§„æ¨¡æ•°æ®ç»˜åˆ¶äºåŒä¸€å›¾è¡¨ä¸­ã€‚denseæ¨¡å‹çš„æ•°æ®ç‚¹åˆ†å¸ƒè¾ƒä¸ºåˆ†æ•£ï¼Œè€Œç¨€ç–æ¨¡å‹çš„æ•°æ®ç‚¹åˆ™é«˜åº¦é›†ä¸­ï¼Œè¿‘ä¼¼æ²¿ä¸€æ¡ç¨³å®šçš„å¸¦çŠ¶åŒºåŸŸåˆ†å¸ƒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/65edf6c154db49d2a8cee4e7af5ee135~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765457920&amp;x-signature=FGCsKlWsYRzvW1xSiKH%2Bx2XH7%2Fw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾5. ç¨€ç–æ¨¡å‹åœ¨æ‰€æœ‰ä»»åŠ¡ä¸Šçš„æœ€å°ç”µè·¯è§„æ¨¡æ˜¾è‘—æ›´å°ï¼Œåœ¨ç›¸åŒæŸå¤±ä¸‹çº¦æ¯” dense æ¨¡å‹å° 16 å€ã€‚</p>
<p>ç¨€ç–ç»“æ„ä¸ä»…å‡å°‘å‚æ•°ï¼Œä¹Ÿè®©ä»»åŠ¡åˆ†å·¥æ›´ç¨³å®šã€‚</p>
<p><strong>2.2 æ¨¡å‹è¶Šå¤§ï¼Œç”µè·¯åè€Œæ›´å°</strong></p>
<p>ç¨€ç–æ¨¡å‹éšè§„æ¨¡æ‰©å±•å‘ˆç°æ€§èƒ½æå‡è¶‹åŠ¿ï¼Œè€Œæœ€å°ç”µè·¯è§„æ¨¡æŒç»­å‡å°ï¼›denseæ¨¡å‹åˆ™ç›¸åï¼šè§„æ¨¡æ‰©å¢ä¼´éšç»“æ„å¤æ‚åŒ–ç¨‹åº¦åŠ å‰§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6969e53bd54b4e17831ffc8b1574e530~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765457920&amp;x-signature=1F43y%2BfwhAbgxb6sBnjx3xBnwRI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾6. æ›´å¤§çš„ç¨€ç–æ¨¡å‹æ‹¥æœ‰æ›´å°çš„è®¡ç®—ç”µè·¯ä¸æ›´é«˜æ€§èƒ½</p>
<p>è¿™ç»„ç»“æœè¯´æ˜ï¼šå¯è§£é‡Šæ€§ä¸èƒ½åŠ›å¹¶éä¸€å®šå¯¹ç«‹ï¼Œæœ‰å¯èƒ½åŒæ—¶æå‡ã€‚</p>
<p><strong>2.3 ç¨€ç–ç”µè·¯èƒ½æ¨æ–­ dense æ¨¡å‹çš„é”™è¯¯</strong></p>
<p>åœ¨åµŒå¥—æ‹¬å·ä»»åŠ¡ä¸­ï¼Œç¨€ç–ç”µè·¯çš„ç ”ç©¶è¡¨æ˜ï¼šæ¨¡å‹é€šè¿‡å¹³å‡æ³¨æ„åŠ›æœºåˆ¶å¯¹å…¨éƒ¨[è¿›è¡Œèšåˆè®¡ç®—ã€‚å½“è¾“å…¥åºåˆ—é•¿åº¦å¢åŠ æ—¶ï¼Œå¹³å‡å€¼çš„ç»Ÿè®¡æ•ˆåº”ä¼šå‡å¼±ï¼Œå¯¼è‡´æ·±å±‚ç‰¹å¾ä¿¡æ¯é€æ¸è¡°å‡ã€‚åŸºäºæ­¤è§‚å¯Ÿï¼Œç¨€ç–ç”µè·¯ç†è®ºæ¨æµ‹ï¼šä¼ ç»Ÿdenseæ¨¡å‹åœ¨å¤„ç†é•¿åºåˆ—æ—¶ï¼Œå¯èƒ½å°†å®é™…æ·±åº¦ä¸º2çš„ç»“æ„è¯¯åˆ¤ä¸ºæ·±åº¦1çš„ç‰¹å¾è¡¨ç¤ºã€‚</p>
<p>ä¸ºéªŒè¯è¿™ä¸€å‡è®¾ï¼ŒOpenAIè®¾è®¡äº†é’ˆå¯¹é•¿åºåˆ—çš„å¯¹æŠ—æ€§æµ‹è¯•å®éªŒã€‚å®éªŒæ•°æ®æ˜¾ç¤ºï¼Œdenseæ¨¡å‹çš„è¯†åˆ«é”™è¯¯ç‡ä¼šéšç€åºåˆ—é•¿åº¦å¢é•¿è€Œæ˜¾è‘—æé«˜ï¼Œè¯¥ç»“æœä¸ç¨€ç–ç”µè·¯çš„ç†è®ºé¢„æµ‹é«˜åº¦å»åˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83750a87f05d4a609c833d2c217ad017~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765457920&amp;x-signature=j1MYx4iagkRZahGKF2e%2BKZL8wC8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾7. dense æ¨¡å‹åœ¨é•¿åºåˆ—ä¸Šå‡ºç°ä¸ç¨€ç–ç”µè·¯é¢„æµ‹ä¸€è‡´çš„ context dilution é”™è¯¯æ¨¡å¼ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªå¾ˆå…¸å‹çš„ä¾‹å­ï¼šç»“æ„åŒ–è§£é‡Šå¯ä»¥æ¨æ–­æ¨¡å‹çš„å¤±è´¥ã€‚</p>
<p><strong>2.4 ç”µè·¯å¯ä»¥å½±å“ dense æ¨¡å‹</strong></p>
<p>æœ€ç»ˆå®éªŒéªŒè¯äº†æ›´æ˜¾è‘—çš„æ•ˆæœï¼šé€šè¿‡Bridgeæœºåˆ¶ï¼Œç»è¿‡å¯¹é½çš„ç¨€ç–ç”µè·¯èƒ½å¤Ÿå¯¹dense Transformerçš„è¾“å‡ºäº§ç”Ÿç›´æ¥è°ƒæ§ä½œç”¨ã€‚</p>
<p>åœ¨å•åŒå¼•å·ï¼ˆ'ä¸"ï¼‰çš„åŒºåˆ†ä»»åŠ¡ä¸­ï¼Œç ”ç©¶äººå‘˜é€šè¿‡ä¿®æ”¹ç¨€ç–æ¨¡å‹ä¸­è¡¨å¾å¼•å·å·®å¼‚çš„é€šé“æ¿€æ´»çŠ¶æ€ï¼Œå¹¶å°†å…¶å‚æ•°é‡æ–°æ³¨å…¥denseæ¨¡å‹ï¼Œè§‚å¯Ÿåˆ°denseæ¨¡å‹çš„è¾“å‡ºæ¦‚ç‡å‘ˆç°è¿ç»­ä¸”ç¨³å®šçš„å˜åŒ–è¶‹åŠ¿ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1f91a3d16b3c4d31ba91dc427f7fc829~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765457920&amp;x-signature=idrIZWT3Is68aomsMQ33SPNsOaA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾8. é€šè¿‡ Bridgeï¼Œå¯¹ç¨€ç–æ¨¡å‹çš„å¯è§£é‡Šæ¿€æ´»è¿›è¡Œè°ƒæ•´åï¼Œå¯è¿ç»­å½±å“ dense æ¨¡å‹çš„è¾“å‡ºæ¦‚ç‡ã€‚</p>
<p>è¿™è¯´æ˜ç”µè·¯ä¸ä»…èƒ½è§£é‡Š dense è¡Œä¸ºï¼Œè¿˜èƒ½é©±åŠ¨ dense è¡Œä¸ºã€‚</p>
<p><strong>03</strong></p>
<p><strong>ç»“è¯­</strong></p>
<p>è¿™ç¯‡è®ºæ–‡æå‡ºäº†ä¸€ç§åˆ›æ–°çš„å¯è§£é‡Šæ€§æ–¹æ³•è®ºï¼šâ€Œå¹¶éå¯¹dense Transformerè¿›è¡Œäº‹åè§£æâ€Œï¼Œè€Œæ˜¯é€šè¿‡è®­ç»ƒæœºåˆ¶ä½¿å…¶â€Œè‡ªå‘å½¢æˆå¯è§£é‡Šçš„å†…åœ¨æ¶æ„â€Œã€‚</p>
<p>åœ¨æç«¯ç¨€ç–çš„æƒé‡é™åˆ¶æ¡ä»¶ä¸‹ï¼ŒTransformerçš„åŠŸèƒ½åˆ†å¸ƒä»å…¨å±€æ‰©æ•£è½¬å˜ä¸ºèšç„¦äºâ€Œæœ‰é™å…³é”®è·¯å¾„â€Œã€‚è¿™äº›è·¯å¾„â€”â€”å³è®¡ç®—ç”µè·¯â€”â€”å…·å¤‡ä¸‰å¤§ç‰¹æ€§ï¼š</p>
<p>â€Œå¯æå–æ€§â€Œï¼šèƒ½å¤Ÿè¢«å®Œæ•´åˆ†ç¦»</p>
<p>â€Œå¯ç†è§£æ€§â€Œï¼šé€»è¾‘å…³ç³»å¯è¢«äººç±»è®¤çŸ¥</p>
<p>â€Œå¯å¹²é¢„æ€§â€Œï¼šå¯åå‘è°ƒæ§denseæ¨¡å‹çš„å†³ç­–è¡Œä¸º</p>
<p>å®éªŒéªŒè¯è¡¨æ˜ï¼Œé€šè¿‡ç¨€ç–è®­ç»ƒè·å¾—çš„è®¡ç®—ç”µè·¯ï¼š</p>
<p>å‘ˆç°â€Œç¨³å®šçš„å› æœå…³è”â€Œ</p>
<p>èƒ½å‡†ç¡®é¢„åˆ¤denseæ¨¡å‹çš„è¡Œä¸ºæ¨¡å¼</p>
<p>å…·å¤‡â€ŒåŒå‘è°ƒæ§èƒ½åŠ›â€Œï¼ˆæ—¢å¯é¢„æµ‹åˆå¯ä¿®æ­£è¾“å‡ºï¼‰</p>
<p>è¯¥ç ”ç©¶ä¸ºAIå‘å±•å¼€è¾Ÿäº†æ–°è·¯å¾„ï¼šåœ¨æ¨¡å‹è§„æ¨¡æŒç»­æ‰©å¤§çš„è¶‹åŠ¿ä¸‹ï¼Œæˆ‘ä»¬åº”å½“åŒæ­¥æ¢ç´¢â€Œç»“æ„åŒ–ç»„ç»‡â€Œã€â€Œå¯æ§æ€§â€Œå’Œâ€Œå¯éªŒè¯æ€§â€Œçš„å†…åœ¨æœºåˆ¶ï¼Œè€Œéå•çº¯è¿½æ±‚å‚æ•°å¯†åº¦çš„æå‡ã€‚</p>
<p>Transformeræ¶æ„é¦–æ¬¡æ˜¾éœ²å‡ºäº†å…¶â€Œå†…åœ¨ç»“æ„çš„å¯è¾¨è¯†æ€§â€Œï¼Œè¿™ä¸€çªç ´ä¸ºåç»­ç ”ç©¶æä¾›äº†é‡è¦åŸºç¡€ã€‚</p>
<p>æ›´å¤šAIå¤§æ¨¡å‹å­¦ä¹ è§†é¢‘åŠèµ„æºï¼Œéƒ½åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fyuan.zhipoai.cn%2F" target="_blank" title="https://yuan.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>