<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[åç«¯åˆ†å±‚æ¶æ„è§„èŒƒå’Œæ ‡å‡†åŒ…ç»“æ„]]></title>    <link>https://juejin.cn/post/7591350620189048838</link>    <guid>https://juejin.cn/post/7591350620189048838</guid>    <pubDate>2026-01-04T16:36:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591350620189048838" data-draft-id="7587284708943134754" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åç«¯åˆ†å±‚æ¶æ„è§„èŒƒå’Œæ ‡å‡†åŒ…ç»“æ„"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2026-01-04T16:36:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€çº¿å¤§ç "/> <meta itemprop="url" content="https://juejin.cn/user/3280598429340984"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åç«¯åˆ†å±‚æ¶æ„è§„èŒƒå’Œæ ‡å‡†åŒ…ç»“æ„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3280598429340984/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€çº¿å¤§ç 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T16:36:37.000Z" title="Sun Jan 04 2026 16:36:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">1. åç«¯åˆ†å±‚æ¶æ„è§„èŒƒ</h2>
<blockquote>
<p><strong>ç›®æ ‡</strong><br/>
åœ¨çœŸå®å¤æ‚ä¸šåŠ¡ä¸‹ï¼Œä¿æŒä¾èµ–æ–¹å‘æ¸…æ™°ï¼Œé¿å… Service äº’ç›¸çº ç¼ ï¼Œä¿è¯ç³»ç»Ÿå¯é•¿æœŸæ¼”è¿›ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">1.1. åˆ†å±‚æ€»è§ˆï¼ˆå¿…é¡»éµå®ˆï¼‰</h3>
<pre><code class="hljs language-java" lang="java">Controller
    â†“
Service / Facadeï¼ˆä¸šåŠ¡ä¸»ä½“ / æµç¨‹ç¼–æ’ï¼‰
    â†“
Queryï¼ˆåªè¯»æŸ¥è¯¢æ¨¡å‹ï¼Œå…è®¸ JOINï¼‰
    â†“
Daoï¼ˆå•è¡¨æŒä¹…åŒ–ï¼‰
    â†“
Table
</code></pre>
<p><strong>ä¾èµ–åªèƒ½è‡ªä¸Šè€Œä¸‹ï¼Œç¦æ­¢åå‘ã€‚</strong></p>
<h3 data-id="heading-2">1.2. æ ¸å¿ƒæ¦‚å¿µå®šä¹‰ï¼ˆç»Ÿä¸€å£å¾„ï¼‰</h3>
<h4 data-id="heading-3">1.2.1. ä¸šåŠ¡ä¸»ä½“ï¼ˆDomain Entityï¼‰</h4>
<p>å…·æœ‰ç‹¬ç«‹ä¸šåŠ¡è¯­ä¹‰å’Œç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>ç”¨æˆ·ã€è®¢å•ã€åº“å­˜ã€è´¦æˆ·ã€å•†å“</li>
</ul>
<p><strong>ä¸€ä¸ªä¸šåŠ¡ä¸»ä½“ = ä¸€ä¸ª Service</strong></p>
<h4 data-id="heading-4">1.2.2. é™„å±è¡¨ï¼ˆé™„å±/æŠ€æœ¯æ€§æ•°æ®ï¼‰</h4>
<p>ä¸å…·å¤‡ç‹¬ç«‹ä¸šåŠ¡è¯­ä¹‰ï¼Œä»…æœåŠ¡äºæŸä¸€ä¸»ä½“ï¼š</p>
<ul>
<li>æ—¥å¿—ã€æµæ°´ã€å†å²è¡¨ã€å¿«ç…§ã€å®¡è®¡è¡¨</li>
</ul>
<p><strong>å¯ä»¥ç”±ä¸»ä½“ Service ç›´æ¥æ“ä½œ</strong></p>
<h4 data-id="heading-5">1.2.3. è·¨ä¸»ä½“æµç¨‹</h4>
<p>æ¶‰åŠ <strong>ä¸¤ä¸ªåŠä»¥ä¸Šä¸šåŠ¡ä¸»ä½“</strong> çš„å†™æ“ä½œï¼š</p>
<ul>
<li>ä¸‹å•æ‰£åº“å­˜</li>
<li>è®¢å• + æ”¯ä»˜</li>
<li>ç”¨æˆ· + è´¦æˆ·åˆå§‹åŒ–</li>
</ul>
<p><strong>å¿…é¡»ä¸Šç§»åˆ° Facade / Flow Service</strong></p>
<h3 data-id="heading-6">1.3. å„å±‚èŒè´£ä¸ç¡¬è§„åˆ™</h3>
<h4 data-id="heading-7">1.3.1. Controller å±‚ï¼ˆå…¥å£å±‚ï¼‰</h4>
<p><strong>èŒè´£</strong></p>
<ul>
<li>å‚æ•°æ ¡éªŒ</li>
<li>æƒé™æ ¡éªŒ</li>
<li>è°ƒç”¨ Service / Facade</li>
</ul>
<p><strong>ç¦æ­¢</strong></p>
<ul>
<li>âŒ å†™ä¸šåŠ¡é€»è¾‘</li>
<li>âŒ è®¿é—® Dao / Query</li>
<li>âŒ Controller äº’è°ƒ</li>
</ul>
<h4 data-id="heading-8">1.3.2. Service å±‚ï¼ˆä¸šåŠ¡ä¸»ä½“å±‚ï¼‰</h4>
<p><strong>èŒè´£</strong></p>
<ul>
<li>æœ¬ä¸šåŠ¡ä¸»ä½“çš„ä¸šåŠ¡è§„åˆ™</li>
<li>çŠ¶æ€å˜æ›´</li>
<li>æ“ä½œæœ¬ä¸»ä½“è¡¨åŠå…¶é™„å±è¡¨</li>
</ul>
<p><strong>å…è®¸</strong></p>
<ul>
<li>âœ… å†™ï¼šæœ¬ä¸»ä½“ Dao</li>
<li>âœ… å†™ï¼šæœ¬ä¸»ä½“é™„å±è¡¨ Daoï¼ˆæ—¥å¿— / æµæ°´ï¼‰</li>
<li>âœ… è¯»ï¼šQueryï¼ˆç”¨äºæ ¡éªŒ / å±•ç¤º / è®¡ç®—ï¼‰</li>
</ul>
<p><strong>ç¦æ­¢</strong></p>
<ul>
<li>âŒ å†™å…¶ä»–ä¸šåŠ¡ä¸»ä½“è¡¨</li>
<li>âŒ è°ƒç”¨å…¶ä»–ä¸šåŠ¡ä¸»ä½“ Service</li>
<li>âŒ ç¼–å†™ JOIN SQL</li>
</ul>
<blockquote>
<p><strong>åˆ¤æ–­å£è¯€</strong><br/>
â€œå¦‚æœåˆ æ‰å¦ä¸€ä¸ªä¸šåŠ¡ä¸»ä½“ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯å¦ä»æˆç«‹ï¼Ÿâ€</p>
<ul>
<li>æ˜¯ â†’ ç•™åœ¨æœ¬ Service</li>
<li>å¦ â†’ ä¸Šç§» Facade</li>
</ul>
</blockquote>
<h4 data-id="heading-9">1.3.3. Facade / Flow Serviceï¼ˆæµç¨‹ç¼–æ’å±‚ï¼‰</h4>
<p><strong>èŒè´£</strong></p>
<ul>
<li>è·¨ä¸šåŠ¡ä¸»ä½“æµç¨‹</li>
<li>è°ƒç”¨é¡ºåº</li>
<li>äº‹åŠ¡è¾¹ç•Œ</li>
<li>å¼‚å¸¸ä¸å¤±è´¥å¤„ç†</li>
</ul>
<p><strong>å…è®¸</strong></p>
<ul>
<li>âœ… è°ƒç”¨å¤šä¸ª Service</li>
<li>âœ… ç®¡ç†äº‹åŠ¡</li>
</ul>
<p><strong>ç¦æ­¢</strong></p>
<ul>
<li>âŒ ç›´æ¥è®¿é—® Dao</li>
<li>âŒ ç¼–å†™ SQL</li>
<li>âŒ å®ç°é¢†åŸŸç»†èŠ‚è§„åˆ™</li>
</ul>
<h4 data-id="heading-10">1.3.4. Query å±‚ï¼ˆåªè¯»æ¨¡å‹ï¼ŒJOIN ä¸»è¦å½’å±ï¼‰</h4>
<p><strong>èŒè´£</strong></p>
<ul>
<li>å¤šè¡¨æŸ¥è¯¢</li>
<li>åˆ—è¡¨ / è¯¦æƒ… / ç»Ÿè®¡ / æŠ¥è¡¨</li>
<li>æ€§èƒ½ä¼˜åŒ–æŸ¥è¯¢</li>
</ul>
<p><strong>å…è®¸</strong></p>
<ul>
<li>âœ… JOIN å¤šè¡¨</li>
<li>âœ… è·¨ä¸šåŠ¡ä¸»ä½“</li>
<li>âœ… è¿”å› DTO / View Object</li>
</ul>
<p><strong>ç¦æ­¢</strong></p>
<ul>
<li>âŒ å†™æ“ä½œï¼ˆINSERT / UPDATE / DELETEï¼‰</li>
<li>âŒ æ‰¿è½½ä¸šåŠ¡è§„åˆ™</li>
<li>âŒ ä¿®æ”¹ä¸šåŠ¡çŠ¶æ€</li>
</ul>
<p><strong>å‘½åå»ºè®®</strong></p>
<ul>
<li><code>XxxOnlyQuery</code></li>
<li><code>XxxReadModel</code></li>
<li><code>XxxQueryRepository</code></li>
</ul>
<h4 data-id="heading-11">1.3.5. Dao å±‚ï¼ˆæŒä¹…åŒ–å±‚ï¼‰</h4>
<p><strong>èŒè´£</strong></p>
<ul>
<li>å•è¡¨ CRUD</li>
<li>ä¸è¡¨ç»“æ„ä¸€ä¸€å¯¹åº”</li>
</ul>
<p><strong>è§„åˆ™</strong></p>
<ul>
<li>âŒ ä¸å…è®¸ JOIN å¤šä¸ªä¸šåŠ¡ä¸»ä½“è¡¨</li>
<li>âŒ ä¸æ‰¿è½½ä¸šåŠ¡è¯­ä¹‰</li>
<li>âŒ ä¸è¢«è·¨ä¸šåŠ¡ä¸»ä½“å¤ç”¨</li>
</ul>
<h3 data-id="heading-12">1.4. JOIN SQL æ”¾ç½®è§„åˆ™ï¼ˆå¼ºåˆ¶æ‰§è¡Œï¼‰</h3>
<p><strong>ä¸€å¥è¯è§„åˆ™ï¼ˆå†™åœ¨ Code Review æ ‡å‡†é‡Œï¼‰</strong></p>
<blockquote>
<p><strong>å‡¡æ˜¯ JOIN äº†å¤šä¸ªä¸šåŠ¡ä¸»ä½“çš„ SQLï¼Œä¸€å¾‹ä¸è¿›ä¸»ä½“ Daoã€‚</strong></p>
</blockquote>
<h4 data-id="heading-13">1.4.1. JOIN SQL å†³ç­–è¡¨ï¼ˆå¿…é¡»æŒ‰é¡ºåºåˆ¤æ–­ï¼‰</h4>
<p><strong>â“1ï¸âƒ£ æ˜¯å¦è·¨å¤šä¸ªä¸šåŠ¡ä¸»ä½“ï¼Ÿ</strong></p>
<ul>
<li>æ˜¯ â†’ <strong>Query</strong></li>
<li>å¦ â†’ ç»§ç»­</li>
</ul>
<p><strong>â“2ï¸âƒ£ æ˜¯å¦åªè¯»ï¼Ÿ</strong></p>
<ul>
<li>æ˜¯ â†’ <strong>Query</strong></li>
<li>å¦ â†’ âŒ æ‹†ä¸º Service è°ƒç”¨ï¼ˆç¦æ­¢ JOIN å†™ï¼‰</li>
</ul>
<p><strong>â“3ï¸âƒ£ æ˜¯å¦æ‰¿è½½ä¸šåŠ¡è§„åˆ™ï¼Ÿ</strong></p>
<ul>
<li>æ˜¯ â†’ âŒ ä¸å…è®¸ï¼ˆå› Serviceï¼‰</li>
<li>å¦ â†’ <strong>Query</strong></li>
</ul>
<h4 data-id="heading-14">1.4.2. å…è®¸æ”¾åœ¨ä¸»ä½“ Dao çš„å”¯ä¸€ä¾‹å¤–</h4>
<p><strong>åŒæ—¶æ»¡è¶³ä»¥ä¸‹æ‰€æœ‰æ¡ä»¶ï¼š</strong></p>
<ul>
<li>
<p>JOIN çš„è¡¨å…¨éƒ¨å±äº <strong>åŒä¸€ä¸šåŠ¡ä¸»ä½“</strong></p>
</li>
<li>
<p>å…³è”çš„æ˜¯ï¼š</p>
<ul>
<li>æ˜ç»†è¡¨</li>
<li>æ—¥å¿—è¡¨</li>
<li>å¿«ç…§è¡¨</li>
</ul>
</li>
<li>
<p>SQL ä¸å½±å“å…¶ä»–ä¸»ä½“å†³ç­–</p>
</li>
</ul>
<p>âœ… ç¤ºä¾‹ï¼ˆå…è®¸ï¼‰ï¼š</p>
<pre><code class="hljs language-java" lang="java">OrderDao.findOrderWithItems()
-- Order + OrderItem
</code></pre>
<p>âŒ ç¤ºä¾‹ï¼ˆç¦æ­¢ï¼‰ï¼š</p>
<pre><code class="hljs language-java" lang="java">OrderDao.findOrderWithUser()
OrderDao.joinStock()
</code></pre>
<h3 data-id="heading-15">1.5. æœ€å®¹æ˜“çŠ¯é”™çš„ 3 ç§æƒ…å†µï¼ˆå¿…é¡»é¿å…ï¼‰</h3>
<h4 data-id="heading-16">1.5.1. åœ¨ Service / Dao ä¸­å†™è·¨ä¸»ä½“ JOIN</h4>
<pre><code class="hljs language-java" lang="java">UPDATE order o
JOIN stock s ...
</code></pre>
<h4 data-id="heading-17">1.5.2. ä¸ºäº†â€œåªæ˜¯æŸ¥ä¸€ä¸‹â€ï¼Œç›´æ¥è·¨ä¸»ä½“ Dao</h4>
<pre><code class="hljs language-java" lang="java">orderService â†’ userDao
</code></pre>
<h4 data-id="heading-18">1.5.3. ç»Ÿè®¡ / æŠ¥è¡¨å¤ç”¨ä¸šåŠ¡ Dao</h4>
<pre><code class="hljs language-java" lang="java">statisticsService â†’ orderDao
</code></pre>
<h3 data-id="heading-19">1.6. å¿«é€Ÿå†³ç­–è¡¨ï¼ˆå†™ä»£ç å‰ 10 ç§’ï¼‰</h3>





























<table><thead><tr><th>åœºæ™¯</th><th>æ”¾ç½®ä½ç½®</th></tr></thead><tbody><tr><td>å•ä¸»ä½“ä¸šåŠ¡å†™</td><td>å¯¹åº” Service</td></tr><tr><td>å¤šä¸»ä½“ä¸šåŠ¡å†™</td><td>Facade / Flow Service</td></tr><tr><td>å¤šè¡¨ JOIN æŸ¥è¯¢</td><td>Query</td></tr><tr><td>æ—¥å¿— / æµæ°´</td><td>ä¸»ä½“ Service</td></tr><tr><td>æŠ¥è¡¨ / ç»Ÿè®¡</td><td>StatisticsService + Query</td></tr></tbody></table>
<h3 data-id="heading-20">1.7. å›¢é˜Ÿå…±è¯†ï¼ˆå¼ºçƒˆå»ºè®®è´´å¢™ï¼‰</h3>
<blockquote>
<p><strong>ä¸è¦æŒ‰â€œè¡¨â€æ‹† Serviceï¼Œè¦æŒ‰â€œä¸šåŠ¡ä¸»ä½“â€æ‹† Serviceã€‚</strong></p>
<p><strong>ä¸è¦ä¸ºäº† JOIN æ–¹ä¾¿ï¼ŒæŠŠæŸ¥è¯¢å¡è¿›ä¸»ä½“ Daoã€‚</strong></p>
</blockquote>
<h2 data-id="heading-21">2. æ ‡å‡†åŒ…ç»“æ„</h2>
<p>ä¸‹é¢æ˜¯ä¸€ä»½æŒ‰<strong>çœŸå®ä¸­å¤§å‹ Java / Spring é¡¹ç›®</strong>æ•´ç†çš„ï¼Œä¸æ˜¯æ•™å­¦ Demoã€‚</p>
<blockquote>
<p>ç›®æ ‡ï¼š</p>
<ul>
<li>ä¸€çœ¼èƒ½çœ‹æ‡‚åˆ†å±‚</li>
<li>æ–°äººä¸å®¹æ˜“å†™é”™</li>
<li>Code Review æ—¶â€œçœ‹è·¯å¾„å°±èƒ½å‘ç°é—®é¢˜â€</li>
</ul>
</blockquote>
<p>æ ‡å‡†åŒ…ç»“æ„ç¤ºä¾‹ï¼ˆå¯ç›´æ¥ç…§æŠ„ï¼‰</p>
<blockquote>
<p>ç¤ºä¾‹ä»¥ <strong>è®¢å• + ç”¨æˆ· + åº“å­˜</strong> åœºæ™¯ä¸ºä¾‹<br/>
åŒ…åä½ å¯ä»¥æ¢ï¼Œå…¬å¸åä¸é‡è¦</p>
</blockquote>
<pre><code class="hljs language-java" lang="java">com.xxx.project
</code></pre>
<h3 data-id="heading-22">2.1. æ•´ä½“ç»“æ„æ€»è§ˆï¼ˆå…ˆçœ‹å…¨è²Œï¼‰</h3>
<pre><code class="hljs language-java" lang="java">com.xxx.project
â”œâ”€ controller
â”œâ”€ application        <span class="hljs-comment">// Facade / æµç¨‹ç¼–æ’</span>
â”œâ”€ domain             <span class="hljs-comment">// ä¸šåŠ¡ä¸»ä½“</span>
â”‚   â”œâ”€ order
â”‚   â”œâ”€ user
â”‚   â””â”€ stock
â”œâ”€ query               <span class="hljs-comment">// åªè¯»æŸ¥è¯¢æ¨¡å‹ï¼ˆJOIN ä¸»è¦åœ¨è¿™ï¼‰</span>
â”œâ”€ statistics          <span class="hljs-comment">// ç»Ÿè®¡ / æŠ¥è¡¨</span>
â”œâ”€ infrastructure      <span class="hljs-comment">// åŸºç¡€è®¾æ–½ï¼ˆDao / Mapper / MQ / Cacheï¼‰</span>
â””â”€ common
</code></pre>
<h3 data-id="heading-23">2.2. Controller å±‚ï¼ˆå…¥å£ï¼‰</h3>
<pre><code class="hljs language-java" lang="java">controller
â”œâ”€ OrderController.java
â”œâ”€ UserController.java
â”œâ”€ StockController.java
â”œâ”€ OrderStockController.java     <span class="hljs-comment">// å¯¹åº” Facade</span>
â””â”€ StatisticsController.java
</code></pre>
<p><strong>è§„åˆ™</strong></p>
<ul>
<li>
<p>Controller åªä¾èµ–ï¼š</p>
<ul>
<li><code>domain.*.service</code></li>
<li><code>application.*</code></li>
</ul>
</li>
<li>
<p>âŒ ä¸å…è®¸å‡ºç° Dao / Query</p>
</li>
</ul>
<h3 data-id="heading-24">2.3. Application å±‚ï¼ˆFacade / Flow Serviceï¼‰</h3>
<blockquote>
<p><strong>æ‰€æœ‰â€œè·¨ä¸šåŠ¡ä¸»ä½“å†™â€çš„é€»è¾‘éƒ½åœ¨è¿™é‡Œ</strong></p>
</blockquote>
<pre><code class="hljs language-java" lang="java">application
â”œâ”€ orderstock
â”‚   â”œâ”€ OrderStockFacade.java
â”‚   â””â”€ OrderStockFacadeImpl.java
â””â”€ payment
    â”œâ”€ OrderPaymentFacade.java
    â””â”€ OrderPaymentFacadeImpl.java
</code></pre>
<p><strong>è§„åˆ™</strong></p>
<ul>
<li>
<p>åªåšï¼š</p>
<ul>
<li>è°ƒç”¨é¡ºåº</li>
<li>äº‹åŠ¡</li>
<li>å¤±è´¥å¤„ç†</li>
</ul>
</li>
<li>
<p>âŒ ä¸å†™ SQL</p>
</li>
<li>
<p>âŒ ä¸è®¿é—® Dao</p>
</li>
</ul>
<h3 data-id="heading-25">2.4. Domain å±‚ï¼ˆä¸šåŠ¡ä¸»ä½“ï¼Œæœ€æ ¸å¿ƒï¼‰</h3>
<h4 data-id="heading-26">2.4.1. Order é¢†åŸŸ</h4>
<pre><code class="hljs language-java" lang="java">domain/order
â”œâ”€ service
â”‚   â”œâ”€ OrderService.java
â”‚   â””â”€ OrderServiceImpl.java
â”œâ”€ model
â”‚   â”œâ”€ Order.java
â”‚   â””â”€ OrderStatus.java
â””â”€ event
    â””â”€ OrderCreatedEvent.java
</code></pre>
<p><strong>OrderService å¯ä»¥ï¼š</strong></p>
<ul>
<li>å†™ OrderDao</li>
<li>å†™ OrderLogDao</li>
<li>è¯» Query</li>
</ul>
<h4 data-id="heading-27">2.4.2. User é¢†åŸŸ</h4>
<pre><code class="hljs language-java" lang="java">domain/user
â”œâ”€ service
â”‚   â”œâ”€ UserService.java
â”‚   â””â”€ UserServiceImpl.java
â”œâ”€ model
â”‚   â””â”€ User.java
â””â”€ validator
    â””â”€ UserValidator.java
</code></pre>
<h4 data-id="heading-28">2.4.3. Stock é¢†åŸŸ</h4>
<pre><code class="hljs language-java" lang="java">domain/stock
â”œâ”€ service
â”‚   â”œâ”€ StockService.java
â”‚   â””â”€ StockServiceImpl.java
â”œâ”€ model
â”‚   â””â”€ Stock.java
â””â”€ policy
    â””â”€ StockDeductPolicy.java
</code></pre>
<h3 data-id="heading-29">2.5. Query å±‚ï¼ˆåªè¯»æ¨¡å‹ï¼ŒJOIN å…¨åœ¨è¿™é‡Œï¼‰</h3>
<blockquote>
<p><strong>è¿™æ˜¯æ¶æ„é‡Œæœ€å…³é”®çš„ä¸€å±‚</strong></p>
</blockquote>
<pre><code class="hljs language-java" lang="java">query
â”œâ”€ order
â”‚   â”œâ”€ OrderOnlyQuery.java
â”‚   â”œâ”€ OrderOnlyQueryImpl.java
â”‚   â””â”€ dto
â”‚       â””â”€ OrderView.java
â”œâ”€ orderlog
â”‚   â”œâ”€ OrderLogOnlyQuery.java
â”‚   â””â”€ OrderLogOnlyQueryImpl.java
â”œâ”€ user
â”‚   â”œâ”€ UserOnlyQuery.java
â”‚   â””â”€ UserOnlyQueryImpl.java
â””â”€ statistics
    â”œâ”€ OrderStatisticsQuery.java
    â””â”€ StatisticsView.java
</code></pre>
<p><strong>è§„åˆ™</strong></p>
<ul>
<li>âœ… å…è®¸ JOIN</li>
<li>âœ… å…è®¸è·¨ä¸»ä½“</li>
<li>âŒ ç¦æ­¢å†™æ“ä½œ</li>
<li>âŒ ç¦æ­¢ä¸šåŠ¡åˆ¤æ–­</li>
</ul>
<h3 data-id="heading-30">2.6. Statistics å±‚ï¼ˆæ¨ªå‘ç»Ÿè®¡ï¼‰</h3>
<pre><code class="hljs language-java" lang="java">statistics
â”œâ”€ StatisticsService.java
â””â”€ StatisticsServiceImpl.java
</code></pre>
<p><strong>ä¾èµ–æ–¹å‘</strong></p>
<pre><code class="hljs language-java" lang="java">StatisticsService
   â†“
Queryï¼ˆå¤šä¸ªï¼‰
</code></pre>
<p>âŒ ä¸å…è®¸ï¼š</p>
<ul>
<li>ç›´æ¥è®¿é—® Dao</li>
<li>è°ƒç”¨ Domain Service</li>
</ul>
<h3 data-id="heading-31">2.7. Infrastructure å±‚ï¼ˆDao / Mapperï¼‰</h3>
<pre><code class="hljs language-java" lang="java">infrastructure
â”œâ”€ dao
â”‚   â”œâ”€ order
â”‚   â”‚   â”œâ”€ OrderDao.java
â”‚   â”‚   â””â”€ OrderLogDao.java
â”‚   â”œâ”€ user
â”‚   â”‚   â””â”€ UserDao.java
â”‚   â””â”€ stock
â”‚       â””â”€ StockDao.java
â”œâ”€ mapper
â”‚   â””â”€ *.xml
â”œâ”€ cache
â”‚   â””â”€ RedisClient.java
â””â”€ mq
    â””â”€ MessageProducer.java
</code></pre>
<p><strong>è§„åˆ™</strong></p>
<ul>
<li>Dao = å•è¡¨</li>
<li>âŒ ä¸å†™ JOIN</li>
<li>âŒ ä¸å†™ä¸šåŠ¡é€»è¾‘</li>
</ul>
<h3 data-id="heading-32">2.8. Common å±‚ï¼ˆé€šç”¨èƒ½åŠ›ï¼‰</h3>
<pre><code class="hljs language-java" lang="java">common
â”œâ”€ exception
â”‚   â””â”€ BizException.java
â”œâ”€ util
â”‚   â””â”€ IdGenerator.java
â”œâ”€ constant
â”‚   â””â”€ ErrorCode.java
â””â”€ base
    â””â”€ BaseEntity.java
</code></pre>
<h3 data-id="heading-33">2.9. å¯ä»¥ç›´æ¥ç”¨çš„ã€ŒåŒ…çº§çº¦æŸå£è¯€ã€</h3>
<p>å¯ä»¥åœ¨å›¢é˜Ÿé‡Œè¿™æ ·è¦æ±‚ï¼š</p>
<blockquote>
<ul>
<li><code>domain</code> <strong>ä¸å‡†ä¾èµ–</strong> <code>application</code></li>
<li><code>query</code> <strong>ä¸å‡†ä¾èµ–</strong> <code>domain.service</code></li>
<li><code>controller</code> <strong>ä¸å‡†ä¾èµ–</strong> <code>dao</code></li>
<li><code>statistics</code> <strong>åªå‡†ä¾èµ–</strong> <code>query</code></li>
</ul>
</blockquote>
<h3 data-id="heading-34">2.10. Code Review ä¸€çœ¼åˆ¤æ–­æ³•ï¼ˆéå¸¸å¥½ç”¨ï¼‰</h3>
<p>çœ‹åˆ°ä¸€ä¸ªç±»ï¼Œåªçœ‹è·¯å¾„å°±èƒ½åˆ¤æ–­å¯¹ä¸å¯¹ï¼š</p>
<ul>
<li>ğŸ“‚ <code>domain/order/service/OrderService</code><br/>
â†’ <strong>åªèƒ½æœ‰è®¢å•é€»è¾‘</strong></li>
<li>ğŸ“‚ <code>query/order/OrderOnlyQuery</code><br/>
â†’ <strong>ä¸€å®šæ˜¯ JOIN + åªè¯»</strong></li>
<li>ğŸ“‚ <code>application/orderstock/OrderStockFacade</code><br/>
â†’ <strong>ä¸€å®šæ˜¯è·¨åŸŸæµç¨‹</strong></li>
<li>ğŸ“‚ <code>statistics/StatisticsService</code><br/>
â†’ <strong>ä¸€å®šä¸å†™ä¸šåŠ¡</strong></li>
</ul>
<p>è¿™å¥—åŒ…ç»“æ„ <strong>ä¸æ˜¯æœ€ç®€å•çš„</strong>ï¼Œä½†å®ƒæ˜¯<strong>å¤æ‚ä¸šåŠ¡ä¸‹æœ€ä¸å®¹æ˜“â€œå†™æ­ªâ€çš„ç»“æ„ä¹‹ä¸€</strong>ã€‚</p>
<h2 data-id="heading-35">3. å¤šæ¨¡å—é¡¹ç›®</h2>
<p>ç”¨ <strong>Gradleï¼ˆå°¤å…¶æ˜¯å¤šæ¨¡å—ï¼‰</strong> åšè¿™ä¸ªåˆ†å±‚éå¸¸é¡ºæ‰‹ã€‚ä¸‹é¢æ˜¯ä¸€å¥—<strong>å¯ç›´æ¥ç…§æŠ„ã€è·‘å¾—èµ·æ¥</strong>çš„æ¨¡æ¿ï¼š</p>
<ul>
<li><code>web</code>ã€<code>open</code> éƒ½èƒ½è®¿é—®æ•°æ®åº“</li>
<li>Entity / Mapper æ¥å£ / mapper.xml ç»Ÿä¸€å¤ç”¨</li>
<li><strong>ä¸æ”¾ common</strong>ï¼Œè€Œæ˜¯æ”¾åˆ° <code>persistence</code> æ¨¡å—ï¼ˆå…±äº«æ•°æ®è®¿é—®å±‚ï¼‰</li>
<li>Spring Boot + MyBatis</li>
</ul>
<h3 data-id="heading-36">3.1. æ¨èçš„ Gradle å¤šæ¨¡å—ç›®å½•ç»“æ„</h3>
<pre><code class="hljs language-java" lang="java">project-root
â”œâ”€ settings.gradle
â”œâ”€ build.gradle
â”œâ”€ common
â”‚  â””â”€ build.gradle
â”œâ”€ persistence
â”‚  â”œâ”€ build.gradle
â”‚  â””â”€ src/main
â”‚     â”œâ”€ java/com/xxx/persistence
â”‚     â”‚  â”œâ”€ entity
â”‚     â”‚  â”œâ”€ mapper
â”‚     â”‚  â””â”€ config
â”‚     â””â”€ resources
â”‚        â””â”€ mapper
â”‚           â”œâ”€ UserMapper.xml
â”‚           â””â”€ OrderMapper.xml
â”œâ”€ web
â”‚  â””â”€ build.gradle
â”œâ”€ open
â”‚  â””â”€ build.gradle
â””â”€ bootstrap
   â””â”€ build.gradle
</code></pre>
<blockquote>
<p><code>bootstrap</code> æ˜¯å¯åŠ¨æ¨¡å—ï¼ˆå¯é€‰ï¼Œä½†å¼ºçƒˆæ¨èï¼‰ï¼Œé¿å… web/open åŒæ—¶ä½œä¸ºå¯åŠ¨å…¥å£å¯¼è‡´é…ç½®ä¹±ã€‚</p>
</blockquote>
<h3 data-id="heading-37">3.2. settings.gradleï¼ˆå¿…é¡»ï¼‰</h3>
<pre><code class="hljs language-java" lang="java">rootProject.name = <span class="hljs-string">"demo-project"</span>

include(
        <span class="hljs-string">"common"</span>,
        <span class="hljs-string">"persistence"</span>,
        <span class="hljs-string">"web"</span>,
        <span class="hljs-string">"open"</span>,
        <span class="hljs-string">"bootstrap"</span>
)
</code></pre>
<h3 data-id="heading-38">3.3. æ ¹ build.gradleï¼ˆç»Ÿä¸€ç‰ˆæœ¬ã€æ’ä»¶ç®¡ç†ï¼‰</h3>
<pre><code class="hljs language-java" lang="java">plugins {
    id <span class="hljs-string">'org.springframework.boot'</span> version <span class="hljs-string">'3.2.3'</span> apply <span class="hljs-literal">false</span>
    id <span class="hljs-string">'io.spring.dependency-management'</span> version <span class="hljs-string">'1.1.4'</span> apply <span class="hljs-literal">false</span>
    id <span class="hljs-string">'java'</span> apply <span class="hljs-literal">false</span>
}

allprojects {
    group = <span class="hljs-string">'com.xxx'</span>
    version = <span class="hljs-string">'1.0.0'</span>
}

subprojects {
    apply plugin: <span class="hljs-string">'java'</span>
    java {
        toolchain {
            languageVersion = JavaLanguageVersion.of(<span class="hljs-number">17</span>)
        }
    }

    repositories {
        mavenCentral()
    }
}
</code></pre>
<h3 data-id="heading-39">3.4. common/build.gradleï¼ˆçº¯é€šç”¨ï¼Œæ— æ•°æ®åº“ä¾èµ–ï¼‰</h3>
<pre><code class="hljs language-java" lang="java">dependencies {
    <span class="hljs-comment">// æ”¾å·¥å…·ç±»ã€å¼‚å¸¸ã€è¿”å›ç»“æ„ç­‰</span>
    implementation <span class="hljs-string">"org.apache.commons:commons-lang3:3.14.0"</span>
}
</code></pre>
<p>common æ¨¡å—æ˜¯é€šç”¨æ¨¡å—ã€‚ä¸»è¦æ”¾ä¸€äº›å…¶å®ƒå„æ¨¡å—å…¬ç”¨çš„ä¸€äº›ä»£ç ï¼š</p>
<p>âœ… common ä¿æŒâ€œå¹²å‡€â€ï¼Œæ”¾ï¼š</p>
<ul>
<li><code>BaseResponse / PageRequest / PageResult</code></li>
<li><code>BizException / ErrorCode</code>ï¼ˆåŸºç¡€ç±»ï¼‰</li>
<li><code>å·¥å…·ç±» util</code></li>
<li><code>å…¬å…±æ³¨è§£</code></li>
<li><code>é€šç”¨æšä¸¾åŸºç±» BaseEnum</code></li>
<li><code>IDç”Ÿæˆå™¨</code></li>
<li><code>å¸¸é‡ GlobalConstants</code></li>
</ul>
<p>âŒ ä¸æ”¾ï¼š</p>
<ul>
<li><code>UserDO / OrderDO</code></li>
<li><code>UserMapper</code></li>
<li><code>mapper.xml</code></li>
<li><code>æ•°æ®åº“ä¾èµ–ä¸é…ç½®</code></li>
</ul>
<h3 data-id="heading-40">3.5. persistence/build.gradleï¼ˆå…±äº«æ•°æ®åº“è®¿é—®å±‚ï¼‰</h3>
<blockquote>
<p>è¿™é‡Œæ”¾ï¼šDO/Entityã€Mapperæ¥å£ã€mapper.xml<br/>
è®© web/open éƒ½ <code>implementation(project(":persistence"))</code>ã€‚</p>
</blockquote>
<pre><code class="hljs language-java" lang="java">plugins {
    id <span class="hljs-string">'io.spring.dependency-management'</span>
}

dependencies {
    implementation <span class="hljs-title function_">project</span><span class="hljs-params">(<span class="hljs-string">":common"</span>)</span>

    <span class="hljs-comment">// MyBatis Spring Boot Starter</span>
    implementation <span class="hljs-string">"org.mybatis.spring.boot:mybatis-spring-boot-starter:3.0.3"</span>

    <span class="hljs-comment">// æ•°æ®åº“é©±åŠ¨ï¼ˆä½ ç”¨ä»€ä¹ˆæ¢ä»€ä¹ˆï¼Œè¿™é‡Œä»¥ MySQL ä¸ºä¾‹ï¼‰</span>
    runtimeOnly <span class="hljs-string">"com.mysql:mysql-connector-j:8.3.0"</span>

    <span class="hljs-comment">// å¯é€‰ï¼šLombok</span>
    compileOnly <span class="hljs-string">"org.projectlombok:lombok:1.18.30"</span>
    annotationProcessor <span class="hljs-string">"org.projectlombok:lombok:1.18.30"</span>
}

tasks.withType(Test).configureEach {
    useJUnitPlatform()
}
</code></pre>
<h4 data-id="heading-41">3.5.1. persistence æ¨¡å—é‡Œ MyBatis æ‰«æä¸ XML è·¯å¾„ï¼ˆéå¸¸å…³é”®ï¼‰</h4>
<p>mapper.xml æ”¾çš„ä½ç½®ï¼ˆæ¨èï¼‰</p>
<pre><code class="hljs language-java" lang="java">persistence/src/main/resources/mapper<span class="hljs-comment">/*.xml
</span></code></pre>
<p>persistence/config/MybatisConfig.javaï¼ˆå¯é€‰ï¼Œä½†å»ºè®®ï¼‰</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.xxx.persistence.config;

<span class="hljs-keyword">import</span> org.mybatis.spring.annotation.MapperScan;
<span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;

<span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@MapperScan("com.xxx.persistence.mapper")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MybatisConfig</span> {
}
</code></pre>
<blockquote>
<p>è¿™æ ·å°±ä¸æ€•æ‰«æä¸åˆ° Mapperã€‚<br/>
<code>web/open/bootstrap</code> å¼•å…¥ persistence åä¼šè‡ªåŠ¨ç”Ÿæ•ˆã€‚</p>
</blockquote>
<h4 data-id="heading-42">3.5.2. persistence æ¨¡å—</h4>
<p>persistence æ˜¯æŒä¹…å±‚æ¨¡å—ã€‚persistence æ¨¡å—å†…å®¹å»ºè®®ï¼š</p>
<pre><code class="hljs language-java" lang="java">persistence
â”œâ”€ entity                 <span class="hljs-comment">// DB å®ä½“ï¼ˆDO / POï¼‰</span>
â”‚  â”œâ”€ UserDO.java
â”‚  â””â”€ OrderDO.java
â”œâ”€ mapper                 <span class="hljs-comment">// MyBatis Mapper æ¥å£ï¼ˆDaoï¼‰</span>
â”‚  â”œâ”€ UserMapper.java
â”‚  â””â”€ OrderMapper.java
â”œâ”€ xml                    <span class="hljs-comment">// mapper.xmlï¼ˆæˆ– resources/mapperï¼‰</span>
â”‚  â”œâ”€ UserMapper.xml
â”‚  â””â”€ OrderMapper.xml
â””â”€ config                 <span class="hljs-comment">// MyBatis é…ç½® / æ‰«æé…ç½®ï¼ˆå¯é€‰ï¼‰</span>
</code></pre>
<p>æ³¨æ„ï¼šè¿™é‡Œçš„å®ä½“æœ€å¥½å« DO/POï¼Œä¸è¦å« Domain Entityï¼ˆé¿å…æŠŠé¢†åŸŸæ¨¡å‹å’Œè¡¨å¼ºç»‘å®šï¼‰ã€‚</p>
<p><strong>Entity / Dao / XML ç»Ÿä¸€æ”¾åˆ° <code>persistence</code> æ¨¡å—ï¼š</strong></p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java">persistence/src/main/java/com/xxx/persistence/entity/UserDO.java
persistence/src/main/java/com/xxx/persistence/mapper/UserMapper.java
persistence/src/main/resources/mapper/UserMapper.xml
</code></pre>
<p>web/open ç›´æ¥æ³¨å…¥ Mapper ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Autowired</span>
<span class="hljs-keyword">private</span> UserMapper userMapper;
</code></pre>
<p><strong>å¯èƒ½ä¼šæ‹…å¿ƒçš„é—®é¢˜ï¼šweb/open åŒæ—¶è®¿é—® DBï¼Œä¼šä¸ä¼šä¹±ï¼Ÿ</strong></p>
<p>ä¸ä¼šï¼Œåªè¦ä½ éµå®ˆï¼š</p>
<p>âœ… DB ç›¸å…³ä¸œè¥¿åªåœ¨ <code>persistence</code><br/>
âœ… å¯åŠ¨é…ç½®ç»Ÿä¸€æ”¾ <code>bootstrap</code><br/>
âœ… web/open ä¸é‡å¤é…ç½®æ•°æ®æº</p>
<h3 data-id="heading-43">3.6. web/build.gradleï¼ˆä¾èµ– persistenceï¼‰</h3>
<blockquote>
<p>è¿™é‡Œå»ºè®® web ä¸ç›´æ¥å¼•æ•°æ®åº“é©±åŠ¨ã€mybatis ä¾èµ–ï¼Œéƒ½ä» persistence æ¥ã€‚</p>
</blockquote>
<pre><code class="hljs language-java" lang="java">plugins {
    id <span class="hljs-string">'org.springframework.boot'</span>
    id <span class="hljs-string">'io.spring.dependency-management'</span>
}

dependencies {
    implementation <span class="hljs-title function_">project</span><span class="hljs-params">(<span class="hljs-string">":common"</span>)</span>
    implementation <span class="hljs-title function_">project</span><span class="hljs-params">(<span class="hljs-string">":persistence"</span>)</span>

    implementation <span class="hljs-string">"org.springframework.boot:spring-boot-starter-web"</span>
    implementation <span class="hljs-string">"org.springframework.boot:spring-boot-starter-validation"</span>
}
</code></pre>
<h3 data-id="heading-44">3.7. open/build.gradleï¼ˆä¾èµ– persistenceï¼‰</h3>
<pre><code class="hljs language-java" lang="java">plugins {
    id <span class="hljs-string">'org.springframework.boot'</span>
    id <span class="hljs-string">'io.spring.dependency-management'</span>
}

dependencies {
    implementation <span class="hljs-title function_">project</span><span class="hljs-params">(<span class="hljs-string">":common"</span>)</span>
    implementation <span class="hljs-title function_">project</span><span class="hljs-params">(<span class="hljs-string">":persistence"</span>)</span>

    implementation <span class="hljs-string">"org.springframework.boot:spring-boot-starter-web"</span>
}
</code></pre>
<h3 data-id="heading-45">3.8. bootstrap æ¨¡å—çš„å¯åŠ¨ç±»ï¼ˆSpring Boot mainï¼‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.xxx.bootstrap;

<span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;
<span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;

<span class="hljs-meta">@SpringBootApplication(scanBasePackages = "com.xxx")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Application</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        SpringApplication.run(Application.class, args);
    }
}
</code></pre>
<blockquote>
<p><code>scanBasePackages="com.xxx"</code> ç¡®ä¿æ‰«æåˆ° persistence/web/open çš„ beanã€‚</p>
</blockquote>
<h4 data-id="heading-46">3.8.1. bootstrap/build.gradleï¼ˆæ¨èï¼šå”¯ä¸€å¯åŠ¨æ¨¡å—ï¼‰</h4>
<blockquote>
<p>è®© bootstrap ä½œä¸ºå”¯ä¸€å…¥å£ï¼Œweb/open åªæ˜¯åŠŸèƒ½æ¨¡å—ã€‚</p>
</blockquote>
<pre><code class="hljs language-java" lang="java">plugins {
    id <span class="hljs-string">'org.springframework.boot'</span>
    id <span class="hljs-string">'io.spring.dependency-management'</span>
}

dependencies {
    implementation <span class="hljs-title function_">project</span><span class="hljs-params">(<span class="hljs-string">":common"</span>)</span>
    implementation <span class="hljs-title function_">project</span><span class="hljs-params">(<span class="hljs-string">":persistence"</span>)</span>
    implementation <span class="hljs-title function_">project</span><span class="hljs-params">(<span class="hljs-string">":web"</span>)</span>
    implementation <span class="hljs-title function_">project</span><span class="hljs-params">(<span class="hljs-string">":open"</span>)</span>

    implementation <span class="hljs-string">"org.springframework.boot:spring-boot-starter"</span>
}
</code></pre>
<h4 data-id="heading-47">3.8.2. application.ymlï¼ˆæ”¾ bootstrap æ¨¡å—ï¼‰</h4>
<p><code>bootstrap/src/main/resources/application.yml</code></p>
<pre><code class="hljs language-java" lang="java">spring:
  datasource:
    url: jdbc:mysql:<span class="hljs-comment">//localhost:3306/demo?useSSL=false&amp;serverTimezone=UTC</span>
    username: root
    password: root

mybatis:
  mapper-locations: classpath*:mapper<span class="hljs-comment">/*.xml
  type-aliases-package: com.xxx.persistence.entity
</span></code></pre>
<blockquote>
<p>âœ… <code>classpath*:</code> éå¸¸é‡è¦ï¼Œä¿è¯å¤šæ¨¡å— resources èƒ½è¢«æ‰¾åˆ°<br/>
âœ… mapper-locations åŒ¹é… persistence/resources/mapper</p>
</blockquote>
<h4 data-id="heading-48">3.8.3. å¦‚æœä¸è®¾ bootstrap</h4>
<p>å¦‚æœä¸è®¾ bootstrapï¼Œè€Œæ˜¯ <code>web</code>ã€<code>open</code> å„è‡ªå¯åŠ¨ï¼š</p>
<ul>
<li>web/open éƒ½è¦æœ‰è‡ªå·±çš„å¯åŠ¨ç±» <code>@SpringBootApplication(scanBasePackages="com.xxx")</code></li>
<li>application.yml æ”¾å„è‡ªæ¨¡å—é‡Œ</li>
</ul>
<p>ç¼ºç‚¹ï¼šé…ç½®å®¹æ˜“é‡å¤ï¼›ä¼˜ç‚¹ï¼šæ¨¡å—ç‹¬ç«‹è¿è¡Œã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•ç”¨ Dart å†™ä¸ªè‡ªå·±çš„MCPæœåŠ¡]]></title>    <link>https://juejin.cn/post/7591350620189114374</link>    <guid>https://juejin.cn/post/7591350620189114374</guid>    <pubDate>2026-01-04T22:57:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591350620189114374" data-draft-id="7591510742634414143" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•ç”¨ Dart å†™ä¸ªè‡ªå·±çš„MCPæœåŠ¡"/> <meta itemprop="keywords" content="Flutter,MCP,Dart"/> <meta itemprop="datePublished" content="2026-01-04T22:57:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼ é£æ·ç‰¹çƒˆ"/> <meta itemprop="url" content="https://juejin.cn/user/149189281194766"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•ç”¨ Dart å†™ä¸ªè‡ªå·±çš„MCPæœåŠ¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189281194766/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼ é£æ·ç‰¹çƒˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T22:57:32.000Z" title="Sun Jan 04 2026 22:57:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7f51c2cf7f444182b09071101b2b9241~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1024&amp;h=559&amp;s=404732&amp;e=png&amp;b=042359" alt="" loading="lazy"/></p>
<blockquote>
<p>çº¸ä¸Šå­¦æ¥ç»ˆè§‰æµ…ï¼Œç»çŸ¥æ­¤äº‹è¦èº¬è¡Œ</p>
</blockquote>
<p>äº†è§£äº‹ç‰©æœ€å¥½çš„æ–¹å¼ï¼Œå°±æ˜¯è‡ªå·±å»åšäº›ä»€ä¹ˆã€‚ä½œä¸ºä¸€å Flutter å¼€å‘å·¥ç¨‹å¸ˆï¼Œå½“æˆ‘ä»¬è°ˆè®º MCPï¼ˆModel Context Protocolï¼‰æ—¶ï¼Œä¸å¦¨ä»ä¸€ä¸ªç®€å•çš„æ—¶é—´æœåŠ¡å¼€å§‹ï¼Œçœ‹çœ‹è¿™ä¸ªåè®®å¦‚ä½•åœ¨å®é™…å¼€å‘ä¸­å‘æŒ¥ä½œç”¨ã€‚</p>
<p>åœ¨ AI å¿«é€Ÿå‘å±•çš„ä»Šå¤©ï¼Œæˆ‘ä»¬è§è¯äº†æ— æ•°å·¥å…·çš„è¯ç”Ÿï¼Œä½†å®ƒä»¬ä¹‹é—´çš„åä½œå¾€å¾€å……æ»¡æ‘©æ“¦ã€‚æ¯ä¸ªå·¥å…·éƒ½æœ‰è‡ªå·±çš„æ¥å£è§„èŒƒï¼ŒAI éœ€è¦ä¸ºæ¯ä¸ªå·¥å…·å­¦ä¹ ä¸åŒçš„"è¯­è¨€"ã€‚è¿™ç§ç¢ç‰‡åŒ–çš„ç°çŠ¶ï¼Œæ­£æ˜¯ MCP è¦è§£å†³çš„æ ¸å¿ƒé—®é¢˜ã€‚</p>
<hr/>
<h4 data-id="heading-0">1.ç›´è§‚ä½“éªŒ MCP æ˜¯ä½œç”¨</h4>
<p>MCPï¼ˆModel Context Protocolï¼‰æœ¬è´¨ä¸Šæ˜¯ä¸€ç§<strong>æ ‡å‡†åŒ–çš„é€šä¿¡åè®®</strong>ï¼Œå®ƒå®šä¹‰äº† AI æ¨¡å‹ä¸å¤–éƒ¨å·¥å…·ä¹‹é—´çš„äº¤äº’æ–¹å¼ã€‚å°±åƒ HTTP åè®®è§„èŒƒäº†æµè§ˆå™¨ä¸æœåŠ¡å™¨çš„é€šä¿¡ä¸€æ ·ï¼ŒMCP è§„èŒƒäº† AI ä¸å„ç§æœåŠ¡çš„å¯¹è¯è§„åˆ™ã€‚è¿™é‡Œå°±ä¸è¯´å¤šè¯´é‚£äº›åºŸè¯çš„å¤§é“ç†ï¼Œç›´æ¥ä»å®é™…åœºæ™¯ï¼Œä»‹ç» MCP çš„ä»·å€¼ã€‚<br/>
æ¯”å¦‚è¯´ï¼Œå¦‚æœæ²¡æœ‰ MCP æ—¶ï¼Œè®© AI å¤„ç†è¿™ä¸ªå†…å®¹ï¼š</p>
<blockquote>
<p>å¸®æˆ‘æŸ¥çœ‹ä¸€ä¸‹è¿™ç¯‡æ–‡ç« çš„å†…å®¹ <a href="https://juejin.cn/post/7588004601392529442" target="_blank" title="https://juejin.cn/post/7588004601392529442">juejin.cn/post/758800â€¦</a></p>
</blockquote>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/73294ab11ee940758c5222af517161b4~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1160&amp;h=488&amp;s=113293&amp;e=png&amp;b=272727" alt="" loading="lazy"/></p>
<p>å°±ä¼šå¾—åˆ° <code>æˆ‘æ— æ³•ç›´æ¥è®¿é—®å¤–éƒ¨ç½‘ç«™é“¾æ¥æ¥æŸ¥çœ‹æ–‡ç« å†…å®¹</code>, æ˜æ˜å®ƒæœ‰ä¸ªå¾ˆå¼ºçš„è„‘å­ï¼Œä½†æ˜¯å°±åƒæ˜¯æ²¡æœ‰çœ¼ç›ä¸€æ ·ï¼Œçœ‹ä¸åˆ°ç½‘é¡µé‡Œçš„ä¸œè¥¿ï¼Œå²‚ä¸å¯æƒœã€‚</p>
<hr/>
<p>å¦‚æœå·¥å…·ä¸€æ—¦æ¥å…¥ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.browsermcp.io%2Fsetup-server" target="_blank" title="https://docs.browsermcp.io/setup-server" ref="nofollow noopener noreferrer">browsermcp</a> çš„ MCP æœåŠ¡, å®ƒå°±èƒ½ <strong>çœ‹è§</strong> ç½‘é¡µã€‚åŒç†ï¼Œå†…ç½®çš„æ–‡ä»¶è®¿é—®ã€æœç´¢ç­‰å·¥å…·ä¹Ÿæ˜¯ç±»ä¼¼ï¼Œè¿™æ ·å·¥å…·ä»¬å°±å¯ä»¥è°ƒåº¦å¤§è„‘ï¼Œæ€è€ƒç½‘ç«™ã€å†™å…¥æ–‡ä»¶ï¼Œè®©æ•´ä¸ªæµç¨‹ç•…é€šèµ·æ¥ã€‚</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ef21343822f44212926a19ba8d5e2b40~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1177&amp;h=728&amp;s=135073&amp;e=png&amp;b=272727" alt="" loading="lazy"/></p>
<blockquote>
<p>å¦‚æœè¯´ AI æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å¤§è„‘ï¼Œé‚£ä¹ˆ MCP å°±æ˜¯çœ¼ç›ã€æ‰‹ã€è„šã€‚è®© AI èƒ½çœ‹ã€èƒ½åšã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-1">2.ä»æ—¶é—´æœåŠ¡çœ‹åè®®æœ¬è´¨</h4>
<p>ç†è§£ MCP æœ€å¥½çš„æ–¹å¼ï¼Œå°±æ˜¯åŠ¨æ‰‹å†™ä¸€ä¸ªæœåŠ¡ã€‚æˆ‘ä»¬ä»æœ€ç®€å•çš„æ—¶é—´æœåŠ¡å¼€å§‹ï¼Œçœ‹çœ‹è¿™ä¸ªåè®®å¦‚ä½•å·¥ä½œã€‚
å¦‚æœä»€ä¹ˆéƒ½æ²¡æœ‰çš„æ—¶å€™ï¼Œé—® AI <code>ç°åœ¨ä»€ä¹ˆæ—¶å€™</code>, ä½ å°†å¾—åˆ°ä¸€ä¸ªå®ƒè‡ªè®¤ä¸ºçš„é”™è¯¯æ—¶é—´ï¼š</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dda07d1dece04d6d93203629b8d3cb88~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=750&amp;h=188&amp;s=14864&amp;e=png&amp;b=272727" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬æœ¬æ–‡è¦åšçš„ï¼Œæ˜¯åŸºäº Dart è¯­è¨€ï¼Œæ­å»ºä¸€ä¸ªå¯ä»¥ç†è§£å½“å‰æ—¶é—´çš„ MCP æœåŠ¡ï¼Œè®© AI å¯ä»¥åœ¨éœ€è¦æ—¶ï¼Œè°ƒç”¨ Dart çš„æœåŠ¡ï¼Œå¾—åˆ°æœ¬æœºçš„ç²¾ç¡®æ—¶é—´ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/265f445bc3a1490f9d7ac07ee247627f~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=767&amp;h=321&amp;s=27724&amp;e=png&amp;b=262626" alt="" loading="lazy"/></p>
<p>é¡¹ç›®ç»“æ„å¾ˆç®€å•ï¼š</p>
<pre><code class="hljs language-python" lang="python">now/
â”œâ”€â”€ <span class="hljs-built_in">bin</span>/
â”‚   â””â”€â”€ server.dart          <span class="hljs-comment"># ä¸»æœåŠ¡å™¨æ–‡ä»¶</span>
â”œâ”€â”€ pubspec.yaml             <span class="hljs-comment"># Dart é¡¹ç›®é…ç½®</span>
â”œâ”€â”€ mcp-config.json          <span class="hljs-comment"># MCP æœåŠ¡é…ç½®</span>
â””â”€â”€ README.md               <span class="hljs-comment"># é¡¹ç›®è¯´æ˜</span>
</code></pre>
<hr/>
<h4 data-id="heading-2">3.åè®®çš„ä¸‰ä¸ªæ ¸å¿ƒé˜¶æ®µ</h4>
<p>MCP æœåŠ¡æœ‰æ˜ç¡®çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰ç‰¹å®šçš„èŒè´£ã€‚</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3f375f74254e4992a614d2278c26d795~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1200&amp;h=722&amp;s=50467&amp;e=png&amp;b=fff9f9" alt="" loading="lazy"/></p>
<p><strong>åˆå§‹åŒ–é˜¶æ®µ</strong> - åè®®æ¡æ‰‹</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">case</span> <span class="hljs-string">'initialize'</span>:
  <span class="hljs-keyword">return</span> {
    <span class="hljs-string">'jsonrpc'</span>: <span class="hljs-string">'2.0'</span>,
    <span class="hljs-string">'result'</span>: {
      <span class="hljs-string">'protocolVersion'</span>: <span class="hljs-string">'2024-11-05'</span>,
      <span class="hljs-string">'capabilities'</span>: {
        <span class="hljs-string">'tools'</span>: {}  <span class="hljs-comment">// å£°æ˜æ”¯æŒå·¥å…·è°ƒç”¨</span>
      },
      <span class="hljs-string">'serverInfo'</span>: {
        <span class="hljs-string">'name'</span>: <span class="hljs-string">'now-server'</span>,
        <span class="hljs-string">'version'</span>: <span class="hljs-string">'1.0.0'</span>
      }
    },
    <span class="hljs-string">'id'</span>: id
  };
</code></pre>
<p>è¿™ä¸ªé˜¶æ®µç¡®ä¿å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä½¿ç”¨å…¼å®¹çš„åè®®ç‰ˆæœ¬ï¼Œå°±åƒä¸¤ä¸ªäººè§é¢å…ˆç¡®è®¤è¯´çš„æ˜¯åŒä¸€ç§è¯­è¨€ã€‚</p>
<p><strong>å·¥å…·å‘ç°é˜¶æ®µ</strong> - èƒ½åŠ›å£°æ˜</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">case</span> <span class="hljs-string">'tools/list'</span>:
  <span class="hljs-keyword">return</span> {
    <span class="hljs-string">'jsonrpc'</span>: <span class="hljs-string">'2.0'</span>,
    <span class="hljs-string">'result'</span>: {
      <span class="hljs-string">'tools'</span>: [
        {
          <span class="hljs-string">'name'</span>: <span class="hljs-string">'get_current_time'</span>,
          <span class="hljs-string">'description'</span>: <span class="hljs-string">'Get the current date and time'</span>,
          <span class="hljs-string">'inputSchema'</span>: {
            <span class="hljs-string">'type'</span>: <span class="hljs-string">'object'</span>,
            <span class="hljs-string">'properties'</span>: {
              <span class="hljs-string">'format'</span>: {
                <span class="hljs-string">'type'</span>: <span class="hljs-string">'string'</span>,
                <span class="hljs-string">'description'</span>: <span class="hljs-string">'Time format (iso, local, utc)'</span>,
                <span class="hljs-string">'default'</span>: <span class="hljs-string">'iso'</span>
              }
            },
            <span class="hljs-string">'additionalProperties'</span>: <span class="hljs-keyword">false</span>
          }
        }
      ]
    },
    <span class="hljs-string">'id'</span>: id
  };
</code></pre>
<p>è¿™é‡Œç”¨ JSON Schema æè¿°å·¥å…·çš„æ¥å£ã€‚AI é€šè¿‡è¿™ä¸ªæè¿°å°±çŸ¥é“å¦‚ä½•è°ƒç”¨å·¥å…·ï¼Œä¸éœ€è¦é¢å¤–çš„æ–‡æ¡£è¯´æ˜ã€‚</p>
<p><strong>å·¥å…·æ‰§è¡Œé˜¶æ®µ</strong> - å®é™…å·¥ä½œ</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">case</span> <span class="hljs-string">'tools/call'</span>:
  <span class="hljs-keyword">final</span> toolName = params[<span class="hljs-string">'name'</span>] <span class="hljs-keyword">as</span> <span class="hljs-built_in">String?</span>;
  <span class="hljs-keyword">final</span> arguments = params[<span class="hljs-string">'arguments'</span>] <span class="hljs-keyword">as</span> <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt;? ?? {};

  <span class="hljs-keyword">if</span> (toolName == <span class="hljs-string">'get_current_time'</span>) {
    <span class="hljs-keyword">return</span> handleGetCurrentTime(arguments, id);
  }

  <span class="hljs-keyword">return</span> {
    <span class="hljs-string">'jsonrpc'</span>: <span class="hljs-string">'2.0'</span>,
    <span class="hljs-string">'error'</span>: {
      <span class="hljs-string">'code'</span>: <span class="hljs-number">-32601</span>,
      <span class="hljs-string">'message'</span>: <span class="hljs-string">'Tool not found: <span class="hljs-subst">$toolName</span>'</span>
    },
    <span class="hljs-string">'id'</span>: id
  };
</code></pre>
<hr/>
<h4 data-id="heading-3">4.é€šä¿¡æœºåˆ¶çš„æ ¸å¿ƒ</h4>
<p>MCP å»ºç«‹åœ¨ JSON-RPC 2.0 ä¹‹ä¸Šï¼ŒåŸºäº stdio é€šä¿¡ã€‚æœåŠ¡å™¨ç›‘å¬ stdinï¼Œé€šè¿‡ stdout å“åº”ï¼š</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/70772526f1d642ea9493726e7a13244a~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1249&amp;h=265&amp;s=27398&amp;e=png&amp;b=fefdfd" alt="" loading="lazy"/></p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">void</span> main() {
  stdin
      .transform(utf8.decoder)
      .transform(LineSplitter())
      .listen((line) {
    <span class="hljs-keyword">if</span> (line.trim().isEmpty) <span class="hljs-keyword">return</span>;
    
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> request = jsonDecode(line);
      <span class="hljs-keyword">final</span> response = handleRequest(request);
      <span class="hljs-keyword">if</span> (response != <span class="hljs-keyword">null</span>) {
        stdout.writeln(jsonEncode(response));
        stdout.flush();
      }
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">final</span> errorResponse = {
        <span class="hljs-string">'jsonrpc'</span>: <span class="hljs-string">'2.0'</span>,
        <span class="hljs-string">'error'</span>: {
          <span class="hljs-string">'code'</span>: <span class="hljs-number">-32700</span>,
          <span class="hljs-string">'message'</span>: <span class="hljs-string">'Parse error'</span>
        },
        <span class="hljs-string">'id'</span>: <span class="hljs-keyword">null</span>
      };
      stdout.writeln(jsonEncode(errorResponse));
      stdout.flush();
    }
  });
}
</code></pre>
<p>è¿™ç§æ–¹å¼è·¨å¹³å°å…¼å®¹æ€§å¥½ï¼Œè¿›ç¨‹éš”ç¦»å¤©ç„¶å®‰å…¨ï¼Œè°ƒè¯•å’Œæµ‹è¯•å®¹æ˜“ã€‚å¯ä»¥ç›´æ¥è¿è¡Œ dart é¡¹ç›®ï¼Œè¾“å…¥ <code> {"jsonrpc":"2.0","id":1,"method":"initialize"}</code> æ¥æµ‹è¯•æœåŠ¡æ˜¯å¦æ­£å¸¸å“åº”ï¼š</p>
<blockquote>
<p>å‘½ä»¤è¡Œ: dart .\bin\server.dart<br/>
è¾“å…¥:  {"jsonrpc":"2.0","id":1,"method":"initialize"}<br/>
è¾“å‡º: {"jsonrpc":"2.0","result":{"protocolVersion":"2024-11-05","capabilities":{"tools":{}},"serverInfo":{"name":"now-server","version":"1.0.0"}},"id":1}</p>
</blockquote>
<hr/>
<h4 data-id="heading-4">5.åè®®è®¾è®¡çš„æ™ºæ…§</h4>
<p>MCP çš„è®¾è®¡ä½“ç°äº†å‡ ä¸ªé‡è¦çš„è½¯ä»¶å·¥ç¨‹åŸåˆ™ï¼š</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/be9435ed8314445686c8b366aa429fcb~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1208&amp;h=652&amp;s=72603&amp;e=png&amp;b=ffffff" alt="" loading="lazy"/></p>
<p><strong>çº¦å®šä¼˜äºé…ç½®</strong> - ç»Ÿä¸€çš„åè®®å‡å°‘äº†é›†æˆçš„å¤æ‚æ€§<br/>
<strong>æœ€å°æƒŠè®¶åŸåˆ™</strong> - åè®®çš„æ¯ä¸ªéƒ¨åˆ†éƒ½éµå¾ªç›´è§‰ï¼Œæ²¡æœ‰æ„å¤–çš„è¡Œä¸º<br/>
<strong>å…³æ³¨ç‚¹åˆ†ç¦»</strong> - åè®®å±‚é¢åªå…³å¿ƒé€šä¿¡æ ¼å¼ï¼Œä¸šåŠ¡é€»è¾‘ç”±å·¥å…·å®ç°è€…å†³å®š</p>
<p>è¿™ç§æ ‡å‡†åŒ–çš„åŠ›é‡ï¼Œå°±åƒå»ºç­‘è¡Œä¸šçš„æ ‡å‡†åŒ–èºä¸ã€‚çœ‹èµ·æ¥ç®€å•ï¼Œä½†å´è®©æ•´ä¸ªè¡Œä¸šçš„åä½œå˜å¾—é«˜æ•ˆã€‚ä¸€ä¸ª MCP æœåŠ¡ä¸æ˜¯å­¤ç«‹çš„å­˜åœ¨ã€‚AI å¯ä»¥åè°ƒä½¿ç”¨ MCP å·¥å…·ï¼Œè”åˆå¤„ç†ä»»åŠ¡, æ¯”å¦‚:</p>
<blockquote>
<p>å°†å½“å‰æ—¶é—´å†™åˆ°æ–‡ç« å¼€å¤´</p>
</blockquote>
<p>æ­¤æ—¶ AI å¤§è„‘å°±å¯ä»¥è°ƒåº¦è·å–å½“å‰æ—¶é—´çš„ MCPï¼Œç„¶åè°ƒåº¦å†™å…¥æ–‡ä»¶çš„èƒ½åŠ›ï¼Œå®Œæˆå®é™…çš„åŠŸèƒ½ã€‚è®©ä¸€ä¸ªæ–‡ç« å¯ä»¥è‡ªåŠ¨å¡«å…¥å½“å‰æ—¶é—´ï¼š</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b105b3561bb940ae8f20c9c2da0d51df~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1988&amp;h=797&amp;s=304535&amp;e=png&amp;b=252525" alt="" loading="lazy"/></p>
<hr/>
<h4 data-id="heading-5">ç»“è¯­</h4>
<p>MCP ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæŠ€æœ¯åè®®ï¼Œå®ƒä»£è¡¨äº† AI æ—¶ä»£å·¥å…·é›†æˆçš„æ–°æ€è·¯ã€‚é€šè¿‡æ ‡å‡†åŒ–çš„æ¥å£ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ„å»ºæ›´åŠ å¼€æ”¾ã€å¯æ‰©å±•çš„ AI ç”Ÿæ€ç³»ç»Ÿã€‚</p>
<p>å¯¹äº Flutter å¼€å‘è€…è€Œè¨€ï¼ŒæŒæ¡ MCP æ„å‘³ç€èƒ½å¤Ÿä¸º AI æä¾›ç§»åŠ¨ç«¯çš„å„ç§èƒ½åŠ›ï¼Œä»è®¾å¤‡ä¿¡æ¯è·å–åˆ°æœ¬åœ°æ•°æ®å¤„ç†ï¼Œéƒ½å¯ä»¥é€šè¿‡è¿™ç§æ ‡å‡†åŒ–çš„æ–¹å¼æš´éœ²ç»™ AI ä½¿ç”¨ã€‚</p>
<p>ä»è¿™ä¸ªç®€å•çš„æ—¶é—´æœåŠ¡å¼€å§‹ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†åè®®è®¾è®¡çš„æ™ºæ…§ã€å®ç°çš„ç»†èŠ‚ã€æ‰©å±•çš„å¯èƒ½æ€§ã€‚è¿™ç§ä»ç®€å•åˆ°å¤æ‚ã€ä»å…·ä½“åˆ°æŠ½è±¡çš„å­¦ä¹ è·¯å¾„ï¼Œæ­£æ˜¯æŠ€æœ¯æˆé•¿çš„æœ€ä½³æ–¹å¼ã€‚</p>
<p>æŠ€æœ¯çš„æœ¬è´¨ä¸åœ¨äºå¤æ‚æ€§ï¼Œè€Œåœ¨äºè§£å†³é—®é¢˜çš„ä¼˜é›…ç¨‹åº¦ã€‚MCP ç”¨ç®€æ´çš„åè®®è§£å†³äº†å¤æ‚çš„é›†æˆé—®é¢˜ï¼Œè¿™å°±æ˜¯æŠ€æœ¯çš„é­…åŠ›ï¼šç®€å•çš„åè®®ï¼Œæ— é™çš„å¯èƒ½ã€‚</p>
<p>å½“æˆ‘ä»¬ç«™åœ¨ AI æ—¶ä»£çš„é—¨æ§›ä¸Šï¼ŒæŒæ¡ MCP è¿™æ ·çš„åŸºç¡€åè®®ï¼Œå°±åƒæŒæ¡äº†ä¸€æŠŠé’¥åŒ™ï¼Œèƒ½å¤Ÿæ‰“å¼€é€šå¾€æœªæ¥çš„å¤§é—¨ã€‚</p>
<hr/>
<p>æ›´å¤šæ–‡ç« å’Œè§†é¢‘çŸ¥è¯†èµ„è®¯ï¼Œå¤§å®¶å¯ä»¥å…³æ³¨æˆ‘çš„å…¬ä¼—å·ã€æ˜é‡‘å’Œ B ç«™ ã€‚è®©æˆ‘ä»¬ä¸€èµ·æˆé•¿ï¼Œå˜å¾—æ›´å¼ºã€‚æˆ‘ä»¬ä¸‹æ¬¡å†è§~</p>
<ul>
<li>QQäº¤æµç¾¤ï¼š 1046304516</li>
<li>æ˜é‡‘è´¦å·ï¼šÂ <a href="https://juejin.cn/user/149189281194766" title="https://juejin.cn/user/149189281194766" target="_blank">å¼ é£æ·ç‰¹çƒˆ</a></li>
<li>bilibli è´¦å·ï¼šÂ <a href="https://link.juejin.cn/?target=https%3A%2F%2Fspace.bilibili.com%2F390457600" title="https://link.juejin.cn/?target=https%3A%2F%2Fspace.bilibili.com%2F390457600" target="_blank">å¼ é£æ·ç‰¹çƒˆ</a></li>
<li>å…¬ä¼—å·ï¼šÂ <a href="https://link.juejin.cn/?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fq8Vs5i3SU-4QPoU3-0xOSg" title="https://link.juejin.cn/?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fq8Vs5i3SU-4QPoU3-0xOSg" target="_blank">ç¼–ç¨‹ä¹‹ç‹</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ç†è§£ System.Lazy<T>ï¼šC#.NET å»¶è¿Ÿåˆå§‹åŒ–ä¸çº¿ç¨‹å®‰å…¨]]></title>    <link>https://juejin.cn/post/7591156262626607139</link>    <guid>https://juejin.cn/post/7591156262626607139</guid>    <pubDate>2026-01-04T23:39:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591156262626607139" data-draft-id="7591330139083653135" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ç†è§£ System.Lazy&lt;T&gt;ï¼šC#.NET å»¶è¿Ÿåˆå§‹åŒ–ä¸çº¿ç¨‹å®‰å…¨"/> <meta itemprop="keywords" content="C#,.NET"/> <meta itemprop="datePublished" content="2026-01-04T23:39:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å”é’æ«"/> <meta itemprop="url" content="https://juejin.cn/user/3737995266234280"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ç†è§£ System.Lazy&lt;T&gt;ï¼šC#.NET å»¶è¿Ÿåˆå§‹åŒ–ä¸çº¿ç¨‹å®‰å…¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3737995266234280/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å”é’æ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T23:39:28.000Z" title="Sun Jan 04 2026 23:39:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä»€ä¹ˆæ˜¯ <code>Lazy&lt;T&gt;</code>ï¼Ÿ</h3>
<p><code>System.Lazy&lt;T&gt;</code> æ˜¯ <code>.NET Framework 4.0</code> å¼•å…¥ï¼ˆä½äº <code>System</code> å‘½åç©ºé—´ï¼‰çš„æ³›å‹ç±»ï¼Œç”¨äºå®ç°çº¿ç¨‹å®‰å…¨çš„å»¶è¿Ÿåˆå§‹åŒ–ï¼ˆ<code>Lazy Initialization</code>ï¼‰ã€‚å®ƒç¡®ä¿ä¸€ä¸ªæ˜‚è´µçš„å¯¹è±¡æˆ–èµ„æºåªåœ¨ç¬¬ä¸€æ¬¡çœŸæ­£éœ€è¦æ—¶æ‰è¢«åˆ›å»ºï¼Œå¹¶ä¸”åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ä¿è¯åˆå§‹åŒ–åªå‘ç”Ÿä¸€æ¬¡ã€‚</p>
<ul>
<li>
<p>æ ¸å¿ƒç‰¹æ€§ï¼š</p>
<ul>
<li>
<p>å»¶è¿Ÿè®¡ç®—ï¼šå€¼çš„åˆ›å»ºè¢«æ¨è¿Ÿåˆ°ç¬¬ä¸€æ¬¡è®¿é—® <code>.Value</code> å±æ€§æ—¶ã€‚</p>
</li>
<li>
<p>çº¿ç¨‹å®‰å…¨ï¼šå†…ç½®å¤šç§çº¿ç¨‹å®‰å…¨æ¨¡å¼ï¼Œé»˜è®¤æƒ…å†µä¸‹å®Œå…¨çº¿ç¨‹å®‰å…¨ã€‚</p>
</li>
<li>
<p>å¼‚å¸¸ç¼“å­˜ï¼šå¦‚æœåˆå§‹åŒ–è¿‡ç¨‹ä¸­æŠ›å‡ºå¼‚å¸¸ï¼Œåç»­è®¿é—®ä¼šé‡å¤æŠ›å‡ºåŒä¸€ä¸ªå¼‚å¸¸ï¼ˆä¸é‡å¤æ‰§è¡Œå·¥å‚æ–¹æ³•ï¼‰ã€‚</p>
</li>
<li>
<p>å€¼ç¼“å­˜ï¼šä¸€æ—¦åˆå§‹åŒ–å®Œæˆï¼Œåç»­æ‰€æœ‰è®¿é—®éƒ½è¿”å›åŒä¸€ä¸ªå®ä¾‹ï¼ˆå•ä¾‹è¡Œä¸ºï¼‰ã€‚</p>
</li>
</ul>
</li>
<li>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>
<p>æ˜‚è´µèµ„æºåˆå§‹åŒ–ï¼ˆå¦‚æ•°æ®åº“è¿æ¥ã€å¤§æ–‡ä»¶åŠ è½½ã€å¤æ‚è®¡ç®—ï¼‰ã€‚</p>
</li>
<li>
<p>é…ç½®å¯¹è±¡ã€å•ä¾‹æ¨¡å¼ï¼ˆæ¯”åŒæ£€æŸ¥é”æ›´å®‰å…¨ç®€æ´ï¼‰ã€‚</p>
</li>
<li>
<p>é¿å…å¯åŠ¨æ—¶ä¸å¿…è¦çš„å¼€é”€ï¼ˆå°¤å…¶åœ¨æŸäº›ä»£ç è·¯å¾„å¯èƒ½ä¸ä½¿ç”¨è¯¥å¯¹è±¡æ—¶ï¼‰ã€‚</p>
</li>
</ul>
</li>
</ul>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆä½¿ç”¨ <code>Lazy&lt;T&gt;</code>ï¼Ÿ</h3>
<p>ä¼ ç»Ÿæ–¹å¼ï¼ˆå¦‚ç›´æ¥åœ¨å­—æ®µåˆå§‹åŒ–æˆ–æ‰‹åŠ¨åŒæ£€æŸ¥é”ï¼‰å­˜åœ¨é—®é¢˜ï¼š</p>
<ul>
<li>
<p>æå‰åˆå§‹åŒ–ï¼šæµªè´¹èµ„æºã€‚</p>
</li>
<li>
<p>æ‰‹åŠ¨é”ï¼šæ˜“å‡ºé”™ï¼ˆæ­»é”ã€ç«äº‰æ¡ä»¶ã€<code>ABA</code> é—®é¢˜ï¼‰ã€‚</p>
</li>
<li>
<p>å¼‚å¸¸å¤„ç†å¤æ‚ï¼šéœ€æ‰‹åŠ¨ç¼“å­˜å¼‚å¸¸ã€‚</p>
</li>
</ul>
<p><code>Lazy&lt;T&gt;</code>æ€§èƒ½ä¼˜åŒ–ï¼šæŒ‰éœ€åˆå§‹åŒ–ã€‚</p>
<ul>
<li>
<p>çº¿ç¨‹å®‰å…¨ï¼šå¾®è½¯é«˜åº¦ä¼˜åŒ–ï¼Œæ— é”æˆ–è½»é‡é”å®ç°ã€‚</p>
</li>
<li>
<p>ä»£ç ç®€æ´ï¼šä¸€è¡Œä»£ç å–ä»£å¤æ‚çš„åŒæ£€æŸ¥é”ã€‚</p>
</li>
<li>
<p>é˜² <code>ABA</code>ï¼šå†…éƒ¨ä½¿ç”¨å¤åˆçŠ¶æ€ + <code>CAS</code> æœºåˆ¶ï¼Œå½»åº•é¿å… <code>ABA</code> é—®é¢˜ã€‚ å®Œç¾è§£å†³è¿™äº›é—®é¢˜ï¼š</p>
</li>
</ul>
<h3 data-id="heading-2">å¦‚ä½•ä½¿ç”¨ <code>Lazy&lt;T&gt;</code>ï¼Ÿ</h3>
<h4 data-id="heading-3">æ ¸å¿ƒè¯­æ³•ä¸å±æ€§</h4>





























<table><thead><tr><th>æˆå‘˜</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>Lazy&lt;T&gt;()</code></td><td>æ„é€ å‡½æ•°ï¼šé»˜è®¤ä½¿ç”¨<code>T</code>çš„æ— å‚æ„é€ åˆ›å»ºå¯¹è±¡ï¼Œçº¿ç¨‹å®‰å…¨æ¨¡å¼ä¸º<code>ExecutionAndPublication</code></td></tr><tr><td><code>Lazy&lt;T&gt;(Func&lt;T&gt; valueFactory)</code></td><td>æ„é€ å‡½æ•°ï¼šè‡ªå®šä¹‰å¯¹è±¡åˆ›å»ºé€»è¾‘ï¼ˆæ”¯æŒä¼ å‚ã€å¤æ‚åˆå§‹åŒ–ï¼‰</td></tr><tr><td><code>Lazy&lt;T&gt;(LazyThreadSafetyMode mode)</code></td><td>æ„é€ å‡½æ•°ï¼šæŒ‡å®šçº¿ç¨‹å®‰å…¨æ¨¡å¼</td></tr><tr><td><code>Value</code></td><td>æ ¸å¿ƒå±æ€§ï¼šé¦–æ¬¡è®¿é—®è§¦å‘å¯¹è±¡åˆå§‹åŒ–ï¼Œåç»­è®¿é—®è¿”å›å·²åˆ›å»ºçš„å®ä¾‹ï¼ˆåªè¯»ï¼‰</td></tr><tr><td><code>IsValueCreated</code></td><td>å¸ƒå°”å±æ€§ï¼šåˆ¤æ–­å¯¹è±¡æ˜¯å¦å·²å®Œæˆåˆå§‹åŒ–</td></tr></tbody></table>
<h4 data-id="heading-4">åŸºç¡€ç¤ºä¾‹ï¼ˆé»˜è®¤æ„é€ ï¼‰</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Threading;

<span class="hljs-comment">// æ¨¡æ‹Ÿåˆ›å»ºæˆæœ¬é«˜çš„å¯¹è±¡ï¼ˆå¦‚åŠ è½½é…ç½®ã€è¿æ¥æ•°æ®åº“ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ExpensiveObject</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ExpensiveObject</span>()</span>
    {
        Console.WriteLine(<span class="hljs-string">"ExpensiveObject å¼€å§‹åˆå§‹åŒ–ï¼ˆè€—æ—¶æ“ä½œï¼‰..."</span>);
        Thread.Sleep(<span class="hljs-number">2000</span>); <span class="hljs-comment">// æ¨¡æ‹Ÿ2ç§’è€—æ—¶åˆå§‹åŒ–</span>
        Console.WriteLine(<span class="hljs-string">"ExpensiveObject åˆå§‹åŒ–å®Œæˆï¼"</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DoWork</span>()</span> =&gt; Console.WriteLine(<span class="hljs-string">"ExpensiveObject æ‰§è¡Œä¸šåŠ¡é€»è¾‘..."</span>);
}

<span class="hljs-keyword">class</span> <span class="hljs-title">LazyBasicDemo</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>()</span>
    {
        Console.WriteLine(<span class="hljs-string">"ç¨‹åºå¯åŠ¨ï¼Œåˆ›å»ºLazy&lt;ExpensiveObject&gt;å®ä¾‹..."</span>);
        <span class="hljs-comment">// æ­¤æ—¶ä»…åˆ›å»ºLazy&lt;T&gt;å®¹å™¨ï¼ŒExpensiveObjectå¹¶æœªå®ä¾‹åŒ–</span>
        Lazy&lt;ExpensiveObject&gt; lazyObj = <span class="hljs-keyword">new</span> Lazy&lt;ExpensiveObject&gt;();

        Console.WriteLine(<span class="hljs-string">$"å¯¹è±¡æ˜¯å¦å·²åˆ›å»ºï¼š<span class="hljs-subst">{lazyObj.IsValueCreated}</span>"</span>); <span class="hljs-comment">// è¾“å‡ºï¼šFalse</span>

        <span class="hljs-comment">// é¦–æ¬¡è®¿é—®Valueï¼šè§¦å‘ExpensiveObjectçš„æ„é€ å‡½æ•°</span>
        Console.WriteLine(<span class="hljs-string">"\n=== é¦–æ¬¡è®¿é—®Value ==="</span>);
        lazyObj.Value.DoWork();
        Console.WriteLine(<span class="hljs-string">$"å¯¹è±¡æ˜¯å¦å·²åˆ›å»ºï¼š<span class="hljs-subst">{lazyObj.IsValueCreated}</span>"</span>); <span class="hljs-comment">// è¾“å‡ºï¼šTrue</span>

        <span class="hljs-comment">// å†æ¬¡è®¿é—®Valueï¼šç›´æ¥è¿”å›å·²åˆ›å»ºçš„å®ä¾‹ï¼Œä¸å†åˆå§‹åŒ–</span>
        Console.WriteLine(<span class="hljs-string">"\n=== å†æ¬¡è®¿é—®Value ==="</span>);
        lazyObj.Value.DoWork();
    }
}
</code></pre>
<p>è¾“å‡ºç»“æœï¼š</p>
<pre><code class="hljs language-ini" lang="ini">ç¨‹åºå¯åŠ¨ï¼Œåˆ›å»ºLazy&lt;ExpensiveObject&gt;å®ä¾‹...
å¯¹è±¡æ˜¯å¦å·²åˆ›å»ºï¼š<span class="hljs-attr">False</span>

=== é¦–æ¬¡è®¿é—®<span class="hljs-attr">Value</span> ===
ExpensiveObject å¼€å§‹åˆå§‹åŒ–ï¼ˆè€—æ—¶æ“ä½œï¼‰...
ExpensiveObject åˆå§‹åŒ–å®Œæˆï¼
ExpensiveObject æ‰§è¡Œä¸šåŠ¡é€»è¾‘...
å¯¹è±¡æ˜¯å¦å·²åˆ›å»ºï¼š<span class="hljs-attr">True</span>

=== å†æ¬¡è®¿é—®<span class="hljs-attr">Value</span> ===
ExpensiveObject æ‰§è¡Œä¸šåŠ¡é€»è¾‘...
</code></pre>
<h4 data-id="heading-5">è‡ªå®šä¹‰å·¥å‚æ–¹æ³•ï¼ˆå¸¦å‚æ•°åˆå§‹åŒ–ï¼‰</h4>
<p>è‹¥å¯¹è±¡éœ€è¦ä¼ å‚æˆ–å¤æ‚åˆå§‹åŒ–é€»è¾‘ï¼Œä½¿ç”¨ <code>Func&lt;T&gt;</code> å·¥å‚æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è‡ªå®šä¹‰å¸¦å‚æ•°çš„å¯¹è±¡æ„é€ </span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ConfigObject</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">string</span> _configPath;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ConfigObject</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> configPath</span>)</span>
    {
        _configPath = configPath;
        Console.WriteLine(<span class="hljs-string">$"åŠ è½½é…ç½®æ–‡ä»¶ï¼š<span class="hljs-subst">{configPath}</span>"</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> <span class="hljs-title">GetConfig</span>()</span> =&gt; <span class="hljs-string">$"é…ç½®å†…å®¹ï¼ˆæ¥è‡ª<span class="hljs-subst">{_configPath}</span>ï¼‰"</span>;
}

<span class="hljs-keyword">class</span> <span class="hljs-title">LazyFactoryDemo</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>()</span>
    {
        <span class="hljs-comment">// è‡ªå®šä¹‰å·¥å‚æ–¹æ³•ï¼šåˆ›å»ºConfigObjectå¹¶ä¼ å…¥å‚æ•°</span>
        Lazy&lt;ConfigObject&gt; lazyConfig = <span class="hljs-keyword">new</span> Lazy&lt;ConfigObject&gt;(() =&gt; 
        {
            Console.WriteLine(<span class="hljs-string">"æ‰§è¡Œè‡ªå®šä¹‰å·¥å‚æ–¹æ³•..."</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ConfigObject(<span class="hljs-string">"appsettings.json"</span>);
        });

        Console.WriteLine(<span class="hljs-string">"é¦–æ¬¡è®¿é—®é…ç½®ï¼š"</span>);
        Console.WriteLine(lazyConfig.Value.GetConfig()); <span class="hljs-comment">// è§¦å‘å·¥å‚æ–¹æ³•</span>
    }
}
</code></pre>
<h4 data-id="heading-6"><code>Lazy&lt;T&gt;</code> çš„çº¿ç¨‹å®‰å…¨æ¨¡å¼</h4>
<p><code>Lazy&lt;T&gt;</code> çš„å…³é”®ç‰¹æ€§æ˜¯æ”¯æŒå¤šçº¿ç¨‹åœºæ™¯ï¼Œé€šè¿‡ <code>LazyThreadSafetyMode</code> æšä¸¾æ§åˆ¶çº¿ç¨‹å®‰å…¨è¡Œä¸º</p>





























<table><thead><tr><th>çº¿ç¨‹å®‰å…¨æ¨¡å¼</th><th>é€‚ç”¨åœºæ™¯</th><th>æ ¸å¿ƒè¡Œä¸º</th><th>æ€§èƒ½</th></tr></thead><tbody><tr><td><code>None</code></td><td>å•çº¿ç¨‹ç¯å¢ƒ</td><td>æ— çº¿ç¨‹å®‰å…¨ä¿éšœï¼Œå¤šçº¿ç¨‹åŒæ—¶è®¿é—®<code>Value</code>å¯èƒ½åˆ›å»ºå¤šä¸ªå®ä¾‹</td><td>æœ€é«˜ï¼ˆæ— é”ï¼‰</td></tr><tr><td><code>PublicationOnly</code></td><td>å¤šçº¿ç¨‹ + å¯¹è±¡åˆ›å»ºæˆæœ¬ä½</td><td>å¤šçº¿ç¨‹å¯åŒæ—¶åˆå§‹åŒ–ï¼Œä½†æœ€ç»ˆä»…ä¿ç•™ä¸€ä¸ªå®ä¾‹ï¼ˆå…¶ä»–å®ä¾‹è¢«ä¸¢å¼ƒï¼‰ï¼Œæ— é”é˜»å¡</td><td>é«˜</td></tr><tr><td><code>ExecutionAndPublication</code>ï¼ˆé»˜è®¤ï¼‰</td><td>å¤šçº¿ç¨‹ + å¯¹è±¡åˆ›å»ºæˆæœ¬é«˜</td><td>åŠ é”ä¿è¯åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œåˆå§‹åŒ–ï¼Œå…¶ä»–çº¿ç¨‹ç­‰å¾…ï¼Œç»å¯¹å•å®ä¾‹</td><td/></tr></tbody></table>
<p>ç¤ºä¾‹ï¼šå¤šçº¿ç¨‹ä¸‹çš„çº¿ç¨‹å®‰å…¨æ¨¡å¼</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">class</span> <span class="hljs-title">LazyThreadSafetyDemo</span>
{
    <span class="hljs-comment">// é»˜è®¤æ¨¡å¼ï¼šExecutionAndPublicationï¼ˆåŠ é”ä¿è¯å•å®ä¾‹ï¼‰</span>
    <span class="hljs-keyword">static</span> Lazy&lt;ExpensiveObject&gt; lazySafeObj = <span class="hljs-keyword">new</span> Lazy&lt;ExpensiveObject&gt;();

    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AccessLazyObj</span>()</span>
    {
        Console.WriteLine(<span class="hljs-string">$"çº¿ç¨‹<span class="hljs-subst">{Thread.CurrentThread.ManagedThreadId}</span> å°è¯•è®¿é—®Value..."</span>);
        <span class="hljs-keyword">var</span> obj = lazySafeObj.Value;
        Console.WriteLine(<span class="hljs-string">$"çº¿ç¨‹<span class="hljs-subst">{Thread.CurrentThread.ManagedThreadId}</span> è·å–å¯¹è±¡HashCodeï¼š<span class="hljs-subst">{obj.GetHashCode()}</span>"</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>()</span>
    {
        <span class="hljs-comment">// å¯åŠ¨5ä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++)
        {
            <span class="hljs-keyword">new</span> Thread(AccessLazyObj).Start();
        }
        Thread.Sleep(<span class="hljs-number">3000</span>); <span class="hljs-comment">// ç­‰å¾…æ‰€æœ‰çº¿ç¨‹å®Œæˆ</span>
    }
}
</code></pre>
<p>è¾“å‡ºç»“æœ</p>
<p>æ‰€æœ‰çº¿ç¨‹æœ€ç»ˆè·å–çš„ <code>HashCode</code> å®Œå…¨ç›¸åŒï¼Œä¸”ä»…è§¦å‘ä¸€æ¬¡åˆå§‹åŒ–ï¼ˆè¯æ˜å•å®ä¾‹ï¼‰ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">çº¿ç¨‹<span class="hljs-number">3</span> å°è¯•è®¿é—®Value...
ExpensiveObject å¼€å§‹åˆå§‹åŒ–ï¼ˆè€—æ—¶æ“ä½œï¼‰...
çº¿ç¨‹<span class="hljs-number">4</span> å°è¯•è®¿é—®Value...
çº¿ç¨‹<span class="hljs-number">5</span> å°è¯•è®¿é—®Value...
çº¿ç¨‹<span class="hljs-number">6</span> å°è¯•è®¿é—®Value...
çº¿ç¨‹<span class="hljs-number">7</span> å°è¯•è®¿é—®Value...
ExpensiveObject åˆå§‹åŒ–å®Œæˆï¼
çº¿ç¨‹<span class="hljs-number">3</span> è·å–å¯¹è±¡HashCodeï¼š<span class="hljs-number">46104728</span>
çº¿ç¨‹<span class="hljs-number">4</span> è·å–å¯¹è±¡HashCodeï¼š<span class="hljs-number">46104728</span>
çº¿ç¨‹<span class="hljs-number">5</span> è·å–å¯¹è±¡HashCodeï¼š<span class="hljs-number">46104728</span>
çº¿ç¨‹<span class="hljs-number">6</span> è·å–å¯¹è±¡HashCodeï¼š<span class="hljs-number">46104728</span>
çº¿ç¨‹<span class="hljs-number">7</span> è·å–å¯¹è±¡HashCodeï¼š<span class="hljs-number">46104728</span>
</code></pre>
<h3 data-id="heading-7">é«˜çº§åº”ç”¨åœºæ™¯</h3>
<h4 data-id="heading-8">æ‡’åŠ è½½å•ä¾‹æ¨¡å¼</h4>
<p><code>Lazy&lt;T&gt;</code> æ˜¯ <code>.NET</code> ä¸­å®ç°çº¿ç¨‹å®‰å…¨ã€æ‡’åŠ è½½å•ä¾‹çš„æœ€ä¼˜æ–¹å¼ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title">LazySingleton</span>
{
    <span class="hljs-comment">// ç§æœ‰é™æ€Lazyå®ä¾‹ï¼šå»¶è¿Ÿåˆå§‹åŒ–ï¼Œé»˜è®¤çº¿ç¨‹å®‰å…¨</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">readonly</span> Lazy&lt;LazySingleton&gt; _lazyInstance = <span class="hljs-keyword">new</span> Lazy&lt;LazySingleton&gt;(() =&gt; <span class="hljs-keyword">new</span> LazySingleton());

    <span class="hljs-comment">// ç§æœ‰æ„é€ å‡½æ•°ï¼šç¦æ­¢å¤–éƒ¨å®ä¾‹åŒ–</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">LazySingleton</span>()</span> 
    {
        Console.WriteLine(<span class="hljs-string">"å•ä¾‹å¯¹è±¡åˆå§‹åŒ–..."</span>);
    }

    <span class="hljs-comment">// å…¬å…±å±æ€§ï¼šé¦–æ¬¡è®¿é—®æ—¶åˆ›å»ºå®ä¾‹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> LazySingleton Instance =&gt; _lazyInstance.Value;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DoBusiness</span>()</span> =&gt; Console.WriteLine(<span class="hljs-string">"å•ä¾‹å¯¹è±¡æ‰§è¡Œä¸šåŠ¡é€»è¾‘..."</span>);
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title">SingletonDemo</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>()</span>
    {
        Console.WriteLine(<span class="hljs-string">"ç¨‹åºå¯åŠ¨ï¼Œæœªè®¿é—®å•ä¾‹..."</span>);
        <span class="hljs-comment">// é¦–æ¬¡è®¿é—®Instanceï¼šè§¦å‘å•ä¾‹åˆå§‹åŒ–</span>
        LazySingleton.Instance.DoBusiness();
        <span class="hljs-comment">// å†æ¬¡è®¿é—®ï¼šç›´æ¥è¿”å›å·²åˆ›å»ºçš„å®ä¾‹</span>
        LazySingleton.Instance.DoBusiness();
    }
}
</code></pre>
<h4 data-id="heading-9">å¤„ç†åˆå§‹åŒ–å¼‚å¸¸</h4>
<p>è‹¥ <code>Lazy&lt;T&gt;</code> çš„å·¥å‚æ–¹æ³•æŠ›å‡ºå¼‚å¸¸ï¼Œåç»­è®¿é—® <code>Value</code> ä¼šç¼“å­˜å¹¶é‡æ–°æŠ›å‡ºåŒä¸€å¼‚å¸¸</p>
<pre><code class="hljs language-csharp" lang="csharp">Lazy&lt;ExpensiveObject&gt; lazyErrorObj = <span class="hljs-keyword">new</span> Lazy&lt;ExpensiveObject&gt;(() =&gt;
{
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> InvalidOperationException(<span class="hljs-string">"åˆå§‹åŒ–å¤±è´¥ï¼šé…ç½®æ–‡ä»¶ä¸å­˜åœ¨ï¼"</span>);
});

<span class="hljs-keyword">try</span>
{
    <span class="hljs-comment">// é¦–æ¬¡è®¿é—®ï¼šæŠ›å‡ºå¼‚å¸¸</span>
    lazyErrorObj.Value.DoWork();
}
<span class="hljs-keyword">catch</span> (AggregateException ex)
{
    Console.WriteLine(<span class="hljs-string">$"åˆå§‹åŒ–å¼‚å¸¸ï¼š<span class="hljs-subst">{ex.InnerException.Message}</span>"</span>);
}

<span class="hljs-keyword">try</span>
{
    <span class="hljs-comment">// å†æ¬¡è®¿é—®ï¼šä»æŠ›å‡ºåŒä¸€å¼‚å¸¸ï¼ˆå¼‚å¸¸è¢«ç¼“å­˜ï¼‰</span>
    lazyErrorObj.Value.DoWork();
}
<span class="hljs-keyword">catch</span> (AggregateException ex)
{
    Console.WriteLine(<span class="hljs-string">$"å†æ¬¡è®¿é—®å¼‚å¸¸ï¼š<span class="hljs-subst">{ex.InnerException.Message}</span>"</span>);
}
</code></pre>
<h4 data-id="heading-10">å¼‚æ­¥æ‡’åŠ è½½ï¼ˆä¼ª AsyncLazyï¼‰</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> Lazy&lt;Task&lt;ExpensiveObject&gt;&gt; _asyncResource = <span class="hljs-keyword">new</span>(<span class="hljs-keyword">async</span> () =&gt;
{
    <span class="hljs-keyword">await</span> Task.Delay(<span class="hljs-number">2000</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ExpensiveObject();
});

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;ExpensiveObject&gt; <span class="hljs-title">GetResourceAsync</span>()</span> =&gt; <span class="hljs-keyword">await</span> _asyncResource.Value;
</code></pre>
<h4 data-id="heading-11">æ”¯æŒåˆ·æ–°ï¼ˆResetï¼‰çš„è‡ªå®šä¹‰åŒ…è£…</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">RefreshableLazy</span>&lt;<span class="hljs-title">T</span>&gt;
{
    <span class="hljs-keyword">private</span> Lazy&lt;T&gt; _current;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">RefreshableLazy</span>(<span class="hljs-params">Func&lt;T&gt; factory</span>)</span>
    {
        _current = <span class="hljs-keyword">new</span> Lazy&lt;T&gt;(factory);
    }

    <span class="hljs-keyword">public</span> T Value =&gt; _current.Value;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Refresh</span>()</span>
    {
        <span class="hljs-keyword">var</span> factory = _current.Value; <span class="hljs-comment">// ä¿ç•™æ—§å·¥å‚ï¼Ÿæˆ–ä¼ å…¥æ–°å·¥å‚</span>
        _current = <span class="hljs-keyword">new</span> Lazy&lt;T&gt;(_current.Factory); <span class="hljs-comment">// é‡æ–°åˆ›å»º</span>
    }
}
</code></pre>
<h4 data-id="heading-12">ä¸ä¾èµ–æ³¨å…¥ç»“åˆï¼ˆASP.NET Coreï¼‰</h4>
<pre><code class="hljs language-csharp" lang="csharp">services.AddSingleton&lt;ExpensiveService&gt;();
services.AddSingleton&lt;Lazy&lt;ExpensiveService&gt;&gt;(provider =&gt; 
    <span class="hljs-keyword">new</span> Lazy&lt;ExpensiveService&gt;(provider.GetRequiredService&lt;ExpensiveService&gt;));
</code></pre>
<h4 data-id="heading-13">é…ç½®æ–‡ä»¶åŠ è½½</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AppConfig</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">readonly</span> Lazy&lt;AppConfig&gt; _instance = 
        <span class="hljs-keyword">new</span> Lazy&lt;AppConfig&gt;(LoadConfiguration);
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> AppConfig Instance =&gt; _instance.Value;
    
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> ConnectionString { <span class="hljs-keyword">get</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Timeout { <span class="hljs-keyword">get</span>; }
    
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">AppConfig</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> config</span>)</span>
    {
        <span class="hljs-comment">// è§£æé…ç½®</span>
    }
    
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> AppConfig <span class="hljs-title">LoadConfiguration</span>()</span>
    {
        <span class="hljs-built_in">string</span> configData = File.ReadAllText(<span class="hljs-string">"config.json"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> AppConfig(configData);
    }
}
</code></pre>
<h3 data-id="heading-14"><code>Lazy&lt;T&gt;</code> vs æ‰‹åŠ¨æ‡’åŠ è½½</h3>
<p>æ‰‹åŠ¨å®ç°çº¿ç¨‹å®‰å…¨çš„æ‡’åŠ è½½éœ€è¦å†™åŒé‡æ£€æŸ¥é”å®šï¼ˆæ˜“å‡ºé”™ï¼‰ï¼Œè€Œ <code>Lazy&lt;T&gt;</code> å·²å°è£…æ‰€æœ‰é€»è¾‘ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// æ‰‹åŠ¨å®ç°ï¼ˆçº¿ç¨‹å®‰å…¨ï¼Œéœ€åŒé‡æ£€æŸ¥+volatileï¼‰</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> ExpensiveObject _manualObj;
<span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">object</span> _lockObj = <span class="hljs-keyword">new</span> <span class="hljs-built_in">object</span>();
<span class="hljs-keyword">public</span> ExpensiveObject ManualObj
{
    <span class="hljs-keyword">get</span>
    {
        <span class="hljs-keyword">if</span> (_manualObj == <span class="hljs-literal">null</span>)
        {
            <span class="hljs-keyword">lock</span> (_lockObj)
            {
                <span class="hljs-keyword">if</span> (_manualObj == <span class="hljs-literal">null</span>)
                {
                    _manualObj = <span class="hljs-keyword">new</span> ExpensiveObject();
                }
            }
        }
        <span class="hljs-keyword">return</span> _manualObj;
    }
}

<span class="hljs-comment">// Lazy&lt;T&gt;å®ç°ï¼ˆä¸€è¡Œæå®šï¼Œçº¿ç¨‹å®‰å…¨ï¼‰</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> Lazy&lt;ExpensiveObject&gt; _lazyObj = <span class="hljs-keyword">new</span> Lazy&lt;ExpensiveObject&gt;();
<span class="hljs-keyword">public</span> ExpensiveObject LazyObj =&gt; _lazyObj.Value;
</code></pre>
<h3 data-id="heading-15"><code>Lazy&lt;T&gt;</code> å†…éƒ¨å®ç°åŸç†ï¼ˆç®€è¦ï¼‰</h3>
<ul>
<li>
<p>ä½¿ç”¨ä¸€ä¸ªç§æœ‰å­—æ®µï¼ˆå¦‚ <code>object? _box</code>ï¼‰å­˜å‚¨çŠ¶æ€ï¼š</p>
<ul>
<li>
<p><code>null</code>ï¼šæœªåˆå§‹åŒ–</p>
</li>
<li>
<p><code>Box&lt;T&gt;</code>ï¼šå·²å®Œæˆï¼ˆåŒ…å«å€¼ï¼‰</p>
</li>
<li>
<p>å¼‚å¸¸å¯¹è±¡ï¼šåˆå§‹åŒ–å¤±è´¥</p>
</li>
</ul>
</li>
<li>
<p>åˆå§‹åŒ–æ—¶ä½¿ç”¨ <code>Interlocked.CompareExchange</code> è¿›è¡ŒåŸå­çŠ¶æ€è½¬æ¢ã€‚</p>
</li>
<li>
<p>å†…éƒ¨çŠ¶æ€æœºç»“åˆç‰ˆæœ¬æœºåˆ¶ï¼Œå½»åº•é˜²æ­¢ <code>ABA</code> é—®é¢˜ã€‚</p>
</li>
<li>
<p><code>ExecutionAndPublication</code> æ¨¡å¼ä¸‹ä½¿ç”¨è½»é‡è‡ªæ—‹ + ç­‰å¾…æœºåˆ¶ï¼Œç¡®ä¿åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå·¥å‚æ–¹æ³•ã€‚</p>
</li>
</ul>
<h3 data-id="heading-16">ä¼˜ç‚¹ä¸ç¼ºç‚¹</h3>



































<table><thead><tr><th>æ–¹é¢</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td><strong>çº¿ç¨‹å®‰å…¨</strong></td><td>å†…ç½®å®Œç¾æ”¯æŒï¼Œé˜² ABAã€é˜²é‡å¤åˆå§‹åŒ–</td><td>None æ¨¡å¼ä¸‹éœ€æ‰‹åŠ¨æ³¨æ„</td></tr><tr><td><strong>æ˜“ç”¨æ€§</strong></td><td>ä»£ç æç®€ï¼Œä¸€è¡Œæå®š</td><td>ä¸æ”¯æŒä¸»åŠ¨ Resetï¼ˆéœ€è‡ªå®šä¹‰åŒ…è£…ï¼‰</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>é«˜åº¦ä¼˜åŒ–ï¼Œæ— é”è·¯å¾„æå¿«</td><td>ç¬¬ä¸€æ¬¡è®¿é—®å¯èƒ½é˜»å¡ï¼ˆä½†è¿™æ˜¯å»¶è¿Ÿåˆå§‹åŒ–çš„æœ¬è´¨ï¼‰</td></tr><tr><td><strong>åŠŸèƒ½</strong></td><td>å¼‚å¸¸ç¼“å­˜ã€å€¼ç¼“å­˜ã€IsValueCreated æŸ¥è¯¢</td><td>ä¸æ”¯æŒå¼‚æ­¥åˆå§‹åŒ–ï¼ˆéœ€ç”¨ Lazy&lt;Task&gt;ï¼‰</td></tr><tr><td><strong>é€‚ç”¨æ€§</strong></td><td>å‡ ä¹æ‰€æœ‰æ‡’åŠ è½½åœºæ™¯çš„é¦–é€‰</td><td>è‹¥éœ€æ”¯æŒåˆ·æ–°/é‡ç½®ï¼Œéœ€é¢å¤–å°è£…</td></tr></tbody></table>
<h3 data-id="heading-17">æœ€ä½³å®è·µ</h3>
<ul>
<li>
<p>ä¼˜å…ˆä½¿ç”¨ <code>Lazy&lt;T&gt;</code> æ›¿ä»£æ‰‹åŠ¨åŒæ£€æŸ¥é”ã€‚</p>
</li>
<li>
<p>å§‹ç»ˆä½¿ç”¨é»˜è®¤çº¿ç¨‹å®‰å…¨æ¨¡å¼ï¼ˆé™¤éæ˜ç¡®éœ€è¦ <code>PublicationOnly</code>ï¼‰ã€‚</p>
</li>
<li>
<p>å·¥å‚æ–¹æ³•åº”æ— å‰¯ä½œç”¨ï¼ˆå°¤å…¶åœ¨ <code>PublicationOnly</code> æ¨¡å¼ä¸‹ï¼‰ã€‚</p>
</li>
<li>
<p>å¼‚å¸¸å¤„ç†ï¼šæ•è· <code>.Value</code> æŠ›å‡ºçš„å¼‚å¸¸ã€‚</p>
</li>
<li>
<p>ä¸è¦åœ¨å·¥å‚æ–¹æ³•ä¸­è®¿é—®åŒä¸€ä¸ª <code>Lazy</code> å®ä¾‹ï¼ˆå¯èƒ½æ­»é”ï¼‰ã€‚</p>
</li>
</ul>
<h3 data-id="heading-18">æ€»ç»“</h3>
<ul>
<li>
<p><code>System.Lazy&lt;T&gt;</code> æ˜¯ <code>.NET</code> å®˜æ–¹çš„å»¶è¿Ÿåˆå§‹åŒ–å·¥å…·ï¼Œæ ¸å¿ƒæ˜¯é¦–æ¬¡è®¿é—® <code>Value</code> æ—¶åˆ›å»ºå¯¹è±¡ï¼Œæå‡ç¨‹åºå¯åŠ¨é€Ÿåº¦å’Œå†…å­˜æ•ˆç‡ï¼›</p>
</li>
<li>
<p>æ ¸å¿ƒå±æ€§ï¼š<code>Value</code>ï¼ˆè§¦å‘åˆå§‹åŒ–ï¼‰ã€<code>IsValueCreated</code>ï¼ˆåˆ¤æ–­æ˜¯å¦å·²åˆ›å»ºï¼‰ï¼›</p>
</li>
<li>
<p>çº¿ç¨‹å®‰å…¨æ¨¡å¼éœ€æŒ‰éœ€é€‰æ‹©ï¼šå•çº¿ç¨‹ç”¨ <code>None</code>ï¼Œå¤šçº¿ç¨‹é«˜æˆæœ¬å¯¹è±¡ç”¨é»˜è®¤çš„<code>ExecutionAndPublication</code>ï¼›</p>
</li>
<li>
<p>æœ€ä¼˜åœºæ™¯ï¼šåˆ›å»ºæˆæœ¬é«˜ / ä¸ä¸€å®šä½¿ç”¨çš„å¯¹è±¡ã€æ‡’åŠ è½½å•ä¾‹æ¨¡å¼ï¼›</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[çˆ†æ¬¾æ‹†è§£ä¸å®ç°ï¼šåŠ¨æ€ç”»å‡ºç‰©ç†çº¿æ¡ï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ åˆ¶ä½œâ€œç”»çº¿æ•‘ç‹—â€]]></title>    <link>https://juejin.cn/post/7591317772074762259</link>    <guid>https://juejin.cn/post/7591317772074762259</guid>    <pubDate>2026-01-05T00:01:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591317772074762259" data-draft-id="7591334602427465791" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="çˆ†æ¬¾æ‹†è§£ä¸å®ç°ï¼šåŠ¨æ€ç”»å‡ºç‰©ç†çº¿æ¡ï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ åˆ¶ä½œâ€œç”»çº¿æ•‘ç‹—â€"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-05T00:01:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¿å…ƒç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/1972988307323236"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            çˆ†æ¬¾æ‹†è§£ä¸å®ç°ï¼šåŠ¨æ€ç”»å‡ºç‰©ç†çº¿æ¡ï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ åˆ¶ä½œâ€œç”»çº¿æ•‘ç‹—â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972988307323236/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¿å…ƒç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-05T00:01:34.000Z" title="Mon Jan 05 2026 00:01:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/14b70c6127ad4480a1284a8b63dc0d5d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=khfIBT7jkhJZEaTA7TH8VQis3Ms%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">å¼•è¨€</h2>
<p><strong>å“ˆå–½å¤§å®¶å¥½</strong>ï¼Œä¸çŸ¥é“å°ä¼™ä¼´ä»¬æœ‰æ²¡æœ‰è§è¿‡ä¸Šé¢è¿™æ¬¾æ¸¸æˆï¼Ÿ</p>
<p><strong>è¿™æ¬¾æ¸¸æˆ</strong>åœ¨ä¹°é‡é¢˜æä¸­ç›¸å½“ç«çˆ†ï¼Œå¾ˆå¤šçƒ­é—¨å•†ä¸šæ¸¸æˆä¸­éƒ½æ·»åŠ äº†åŒæ¬¾ç©æ³•ï¼Œç„¶åé€šè¿‡è¯¥ç©æ³•åˆ¶ä½œå¹¿å‘Šç´ æè¿›è¡Œä¹°é‡ã€‚</p>
<p><strong>å‡ºåœºç‡</strong>å¦‚æ­¤é«˜çš„æ¸¸æˆï¼Œç¬”è€…å¥½å¥‡åœ¨<strong>Cocosæ¸¸æˆå¼€å‘</strong>ä¸­åº”è¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿ</p>
<p><strong>è¨€å½’æ­£ä¼ </strong>ï¼Œå°ä¼™ä¼´ä»¬è·Ÿéšç¬”è€…ï¼Œä¸€èµ·æ¥çœ‹çœ‹<strong>åœ¨Cocosæ¸¸æˆå¼€å‘ä¸­ï¼Œå¦‚ä½•å®ç°ç”»çº¿æ•‘ç‹—çš„ç©æ³•</strong>ã€‚</p>
<p><strong>æœ¬æ–‡</strong>æ”¶å½•äº<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FFOi5gCiGzF3LnT03DpPMXA" target="_blank" title="https://mp.weixin.qq.com/s/FOi5gCiGzF3LnT03DpPMXA" ref="nofollow noopener noreferrer">ã€Šäº¿å…ƒCocoså°æ¸¸æˆå®æˆ˜åˆé›†ã€‹</a>ï¼Œæ¬¢è¿å°ä¼™ä¼´ä»¬ç‚¹èµæ¨èè®¢é˜…è½¬å‘ã€‚</p>
<p><strong>æœ¬æ–‡å®æˆ˜æºç å¯åœ¨æ–‡æœ«è·å–ï¼Œå°ä¼™ä¼´ä»¬è‡ªè¡Œå‰å¾€ã€‚</strong></p>
<h2 data-id="heading-1">1. æ‹†è§£ä¸€ä¸‹æ¸¸æˆ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c732444305564557ac1da78a751917de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=GJQZrBRTieibQ8fLCgV0ZzIzxtk%3D" alt="" loading="lazy"/></p>
<p><strong>æˆ‘ä»¬</strong>å…ˆæ¥æ‹†è§£ä¸€ä¸‹å®ç°è¿™ä¸ªæ¸¸æˆæœ‰å“ªäº›å…³é”®ç‚¹ï¼š</p>
<ol>
<li>
<p><strong>ç”»çº¿</strong>ï¼šæ¸¸æˆçš„æ ¸å¿ƒåŠŸèƒ½ï¼Œå°±æ˜¯åœ¨å±å¹•ä¸Šç”»å‡ºä»»æ„å½¢çŠ¶çš„çº¿ï¼Œç”»å®Œåä¼šäº§ç”Ÿç‰©ç†æ•ˆæœï¼Œä¿æŠ¤ç‹—ç‹—ï¼Œé˜²æ­¢ç‹—ç‹—æ‰è½å’Œè¢«èœœèœ‚æ”»å‡»ã€‚</p>
</li>
<li>
<p><strong>ç‹—ç‹—</strong>ï¼šæ¸¸æˆçš„ä¸»è§’ï¼Œæˆ‘ä»¬è¦é€šè¿‡ç”»çº¿å¯¹å®ƒè¿›è¡Œä¿æŠ¤ï¼Œç‹—ç‹—åœ¨å€’è®¡æ—¶ç»“æŸåæœªæ‰è½å’Œè¢«èœœèœ‚æ”»å‡»å³å¯é€šå…³ï¼Œå¦åˆ™å¤±è´¥ã€‚</p>
</li>
<li>
<p><strong>èœœèœ‚</strong>ï¼šä¸åœåœ°æœç€ç‹—ç‹—çš„æ–¹å‘è¿›æ”»ï¼Œç¢°æ’åˆ°çº¿åï¼Œå°è¯•åé€€å†ç»§ç»­è¿›æ”»ã€‚</p>
</li>
<li>
<p><strong>èœ‚å·¢</strong>ï¼šèœœèœ‚å‡ºå‘çš„åœ°æ–¹ï¼Œåœ¨è¿™é‡Œé¢å®ä¾‹åŒ–æŒ‡å®šæ•°é‡çš„èœœèœ‚ã€‚</p>
</li>
</ol>
<h2 data-id="heading-2">2. æ€ä¹ˆå®ç°ï¼Ÿ</h2>
<h3 data-id="heading-3">1.ç”»çº¿</h3>
<p><strong>ä¸€çœ‹åˆ°ç”»çº¿</strong>ï¼Œç¬¬ä¸€æ—¶é—´å°±è¦æƒ³åˆ°<code>Graphics</code>ç»„ä»¶ï¼Œé€šè¿‡å®ƒå†æ­é…æˆ‘ä»¬çš„è§¦æ‘¸äº‹ä»¶ï¼Œå³å¯åœ¨å±å¹•ä¸Šç”»å‡ºå„ç§å„æ ·çš„çº¿æ¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/be61b8378c7e4f42a070618bc19201cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=nsIWCFh3knYT59JTabNJCb79BaU%3D" alt="æ¥æºäºCocoså®˜æ–¹æ–‡æ¡£" loading="lazy"/></p>
<p><strong>ç”»çº¿å®Œæˆå</strong>ï¼Œçº¿çš„ä¸»è¦ä½œç”¨æ˜¯ä¿æŠ¤ç‹—ç‹—ï¼Œé˜²æ­¢ç‹—ç‹—æ‰è½å’Œè¢«èœœèœ‚æ”»å‡»ã€‚æˆ‘ä»¬éœ€è¦ç»™çº¿å¢åŠ ç‰©ç†æ•ˆæœ(ä¾‹å¦‚å—é‡åŠ›å½±å“ã€å’Œèœœèœ‚å‘ç”Ÿç¢°æ’)ã€‚</p>
<p><strong>æ¸¸æˆ</strong>ä¸­çš„ç‰©ä½“ï¼Œå¦‚æœæƒ³è¦é€šè¿‡ç‰©ç†ç³»ç»Ÿå‘ç”Ÿç¢°æ’ï¼Œæˆ‘ä»¬éœ€è¦ç»™å®ƒåŠ ä¸Šåˆšä½“ç»„ä»¶å’Œç¢°æ’ç»„ä»¶ã€‚</p>
<ul>
<li><strong>åˆšä½“ç»„ä»¶:</strong>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3da82dbee2e647f0b111673e393bd5f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=ORvl7fO3mrGvgAwPxuliYHbv27g%3D" alt="åˆšä½“ç»„ä»¶" loading="lazy"/></li>
<li><strong>ç¢°æ’ç»„ä»¶ï¼š</strong>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dcb2de270aa94ac384b1cedc0f256987~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=hUAWueOojxKwq9HqJpzv%2BpYrmeM%3D" alt="ç¢°æ’ç»„ä»¶" loading="lazy"/></li>
</ul>
<p><strong>ç”±äº</strong>çº¿æ˜¯ç©å®¶åœ¨æ¸¸æˆè¿‡ç¨‹ä¸­å®æ—¶ç»˜åˆ¶å‡ºæ¥çš„ï¼Œè€Œä¸”æ˜¯ä¸è§„åˆ™çš„ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä»£ç ä¸­è¿›è¡ŒåŠ¨æ€æ·»åŠ ï¼Œè€Œä¸”è¿˜è¦åˆ†æ®µæ·»åŠ ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é€šè¿‡<code>addComponent</code>åŠ¨æ€æ·»åŠ ã€‚</p>
<h3 data-id="heading-4">2.ç‹—ç‹—</h3>
<p><strong>ç‹—ç‹—</strong>å’Œä¸Šé¢ç”»çº¿çš„ä¸€æ ·ï¼Œå¦‚æœæƒ³è¦å‘ç”Ÿç¢°æ’ï¼ŒåŒæ ·éœ€è¦æ·»åŠ åˆšä½“å’Œç¢°æ’ç»„ä»¶ã€‚</p>
<p><strong>æƒ³è¦åœ¨ä»£ç ä¸­</strong>æ ¹æ®ç¢°æ’è¿›è¡Œç›¸å…³é€»è¾‘å¤„ç†ï¼Œå¯ä»¥é€šè¿‡ç›‘å¬ç¢°æ’ç»„ä»¶çš„<code>BEGIN_CONTACT</code>äº‹ä»¶ï¼Œä¾‹å¦‚åˆ¤æ–­ç‹—ç‹—æ˜¯å¦è¢«èœœèœ‚æ”»å‡»åˆ°å’Œç‹—ç‹—æ˜¯å¦æ‰åˆ°æ°´é‡Œã€‚</p>
<p><strong>ä¸ºäº†</strong>åŒºåˆ†å’Œåˆ¤æ–­ç‹—ç‹—å’Œä¸åŒçš„ç‰©ä½“å‘ç”Ÿç¢°æ’ï¼Œæˆ‘ä»¬éœ€è¦åœ¨èœå•<code>é¡¹ç›®-&gt;é¡¹ç›®è®¾ç½®-&gt;ç‰©ç†-&gt;ç¢°æ’çŸ©é˜µ</code>ä¸­æ·»åŠ ç¢°æ’åˆ†ç»„ï¼Œä»¥åŠç¼–è¾‘ä»–ä»¬ä¹‹é—´å“ªäº›å¯ä»¥å‘ç”Ÿç¢°æ’ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f60d1f4146e242dba4b279a7e6106890~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=RwlNOLjOwbkDciOkmFyjeeoEkO4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">3. èœœèœ‚</h3>
<p><strong>èœœèœ‚</strong>çš„ä¸»è¦é€»è¾‘å°±æ˜¯è¿›æ”»ç‹—ç‹—ï¼Œé€šè¿‡ç‹—ç‹—çš„ä½ç½®å’Œè‡ªèº«çš„ä½ç½®å°±èƒ½å¤Ÿå¾—åˆ°èœœèœ‚è¿›æ”»çš„æ–¹å‘ï¼Œç„¶åé€šè¿‡<code>applyForceToCenter</code>ç»™èœœèœ‚æ·»åŠ åŠ›ï¼Œå³å¯è®©èœœèœ‚è¿›è¡Œè¿åŠ¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7fa4dce3ec94423785df187b612d119a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=ZqEcLUeGWWhtQAdLLRwTOMnA70w%3D" alt="" loading="lazy"/></p>
<p><strong>æ­¤å¤–</strong>ï¼Œå½“èœœèœ‚ç¢°æ’åˆ°çº¿æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åšä¸€ä¸ªåé€€æ•ˆæœï¼Œç„¶åç»§ç»­è¿›æ”»ï¼Œå½¢æˆä¸æ–­æ”»å‡»çš„æ•ˆæœã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3de4f85eef0e4e55a97039269cc97549~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=1CdQUbxuLwAgl%2F2cjiO24wEOiqo%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-6">4. èœ‚å·¢</h3>
<p><strong>èœ‚å·¢</strong>çš„é€»è¾‘å°±ç›¸å¯¹ç®€å•äº†ï¼Œå°±æ˜¯é€šè¿‡è®¡æ—¶ï¼Œå®šæ—¶åˆ›å»ºæŒ‡å®šæ•°é‡çš„èœœèœ‚ï¼Œç»™èœœèœ‚æ·»åŠ ç¢°æ’ç›¸å…³ç»„ä»¶ï¼Œä»¥åŠæ§åˆ¶è„šæœ¬å³å¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc2966716c7849eba02a58d6c758b218~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=%2BlG0NZ4wHsthnILtwbD9e2KOtVk%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-7">3. æ¸¸æˆå®æˆ˜</h2>
<h3 data-id="heading-8">1.èµ„æºå‡†å¤‡</h3>
<p><strong>ç®€å•</strong>å‡†å¤‡ä¸€æ‰¹æ¸¸æˆæ‰€éœ€çš„èµ„æºï¼ŒåŒ…æ‹¬<code>èœ‚å·¢ã€åœ°æ¿ã€èƒœåˆ©/å¤±è´¥ç•Œé¢ã€æœ¨å¤´ã€ç‹—ç‹—ã€æ°´å’Œèœœèœ‚</code>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/865345466b454f2ca27c7a920f6915b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=sOTbrfaTjh3MWNPm0goax4ZOINw%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-9">2.æ‹¼UI</h3>
<p><strong>ç•Œé¢</strong>çš„æ‹¼æ¥æ¯”è¾ƒç®€å•ï¼Œä»ä¸Šåˆ°ä¸‹åˆ†åˆ«æ˜¯<code>æ¸¸æˆç®¡ç†å™¨ã€ç”»çº¿å®¹å™¨ã€å…³å¡ç®¡ç†å™¨ã€å€’è®¡æ—¶æ ‡ç­¾ã€èƒœåˆ©/å¤±è´¥ç•Œé¢</code>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5fd42427e0e049ccb27d29ba12b0f79c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=QiS7vrKYj%2FvxBY%2Bj4NRE4iw8DDI%3D" alt="" loading="lazy"/></p>
<p><strong>å…³å¡</strong>é€šè¿‡é¢„åˆ¶ä½“è¿›è¡Œç¼–è¾‘ï¼Œåœ¨å…³å¡ç®¡ç†å™¨ä¸­è¿›è¡ŒåŠ¨æ€åŠ è½½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3543e1636ae84d09aadedda603d5409f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=9445tIKbQnOGB8VLKqVhZCxeT5k%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-10">3.å†™ä»£ç </h3>
<p><strong>ç”±äº</strong>æ–‡ç« ç¯‡å¹…é—®é¢˜ï¼Œä¸‹é¢åªå±•ç¤ºæ¸¸æˆçš„æ ¸å¿ƒæºç ï¼Œå®æˆ˜å®Œæ•´æºç å¯åœ¨æ–‡æœ«è·å–ã€‚</p>
<p><strong>(1)ç”»çº¿ç®¡ç†å™¨</strong></p>
<p><strong>é¦–å…ˆ</strong>é€šè¿‡è§¦æ‘¸äº‹ä»¶çš„å››å¤§å¤©ç‹è¿›è¡Œç›‘å¬ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d710d60c4f0479ca09e086f97596b40~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=VbQfIg5QRK3rLllVmAoI7C2H8q8%3D" alt="" loading="lazy"/></p>
<p><strong>è§¦æ‘¸å¼€å§‹æ—¶</strong>ï¼Œåˆ›å»ºæ–°èŠ‚ç‚¹ã€æ·»åŠ <code>Graphics</code>ç»„ä»¶ã€ç”»çº¿èµ·ç‚¹ç§»åŠ¨åˆ°è§¦æ‘¸ä½ç½®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a004ef76141486d8bcf8759cbf7aadd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=8apzAyToJ2Hm233dFEMLgQRwXxM%3D" alt="" loading="lazy"/></p>
<p><strong>è§¦æ‘¸ç§»åŠ¨æ—¶</strong>ï¼Œæ¯ç§»åŠ¨åˆ°ä¸€ä¸ªä½ç½®ï¼Œç”»çº¿ä¸€æ¬¡ï¼Œå¹¶è®°å½•ç‚¹ä½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1fd1223838f7450daeca3fff6c95773c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=Cp3yE8hQHzK9XNDRd0B0vjSKNGc%3D" alt="" loading="lazy"/></p>
<p><strong>ä¸Šè¿°è¿‡ç¨‹</strong>å¯ä»¥è¿›è¡Œç®€å•æ£€æµ‹ï¼Œé¿å…é¢‘ç¹ç”»çº¿ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0d0ba3b76b14f8d953221ec67d9b820~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=ijjTa%2BwiKWYqoH1qFDL%2BqDVQVBI%3D" alt="" loading="lazy"/></p>
<p><strong>ç”»çº¿ç»“æŸæ—¶</strong>ï¼Œç»™è®°å½•çš„æ‰€æœ‰ç‚¹ä½é—´çš„çº¿åŠ¨æ€æ·»åŠ ç»„ä»¶(<strong>æ ¸å¿ƒ</strong>)ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/022f315f268c4c4d9dfb4fa8427eb4c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=sD03eSU5%2FJw3UHX2SXHgCsITYLM%3D" alt="" loading="lazy"/></p>
<p><strong>(2)ç‹—ç‹—æ§åˆ¶å™¨</strong></p>
<p><strong>é€šè¿‡</strong><code>Contact2DType.BEGIN_CONTACT</code>äº‹ä»¶ç›‘å¬ç¢°æ’äº‹ä»¶ï¼Œåˆå§‹çŠ¶æ€ä¸º<code>Static</code>é™æ­¢ä¸åŠ¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5afca027cc54437bb82b2aaf3341ea62~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=OeKpx8gREGcax2lBRpR8MB8XwcA%3D" alt="" loading="lazy"/></p>
<p><strong>é€šè¿‡</strong>åå­—ç®€å•åˆ¤æ–­ç¢°æ’åˆ°äº†å“ªäº›ç‰©ä½“ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c604a6e5ca44c6381bc24822517e380~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=X5fvAmix2YGfjxCTKsukiAvE5QA%3D" alt="" loading="lazy"/></p>
<p><strong>(3)èœœèœ‚æ§åˆ¶å™¨</strong></p>
<p><strong>èœœèœ‚çš„è¿›æ”»</strong>ï¼šè®¡ç®—æ–¹å‘å‘é‡ï¼Œæ–½åŠ åŠ›ï¼Œä½¿èœœèœ‚è¿›è¡Œè¿åŠ¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a2cabd9760344923b337d0c913215c2f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=1H02RHmJppbeKCFKMO4FwTy6g3g%3D" alt="" loading="lazy"/></p>
<p><strong>èœœèœ‚çš„åæ’¤</strong>ï¼šè®¡ç®—åæ’¤æ–¹å‘ï¼Œé€šè¿‡<code>linearVelocity</code>çº¿æ€§é€Ÿåº¦è¿›è¡Œåæ’¤ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c61c3f22cf9442c823ebc7c63a72ddb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=frUcuYoiBm8zkHY4tAzzzhdWDTc%3D" alt="" loading="lazy"/></p>
<p><strong>(4)èœ‚å·¢æ§åˆ¶å™¨</strong></p>
<p><strong>èœœèœ‚çš„äº§ç”Ÿ</strong>ï¼šåˆ›å»ºèœœèœ‚ã€æ·»åŠ åˆšä½“ã€æ·»åŠ ç¢°æ’ä½“ã€æ·»åŠ èœœèœ‚ç®¡ç†å™¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e0b5be12de64377aac50f6cc5fbdcf7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=wKonoDx37Yf2URqKNAHWkY0K7tY%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-11">4.æ•ˆæœæ¼”ç¤º</h3>
<p><strong>å…³å¡1</strong>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40d0e692c1fa4f4e9e9b510fba0b9959~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=GUekKdO8qptHvYi7%2B2Nj2cAohZI%3D" alt="" loading="lazy"/></p>
<p><strong>å…³å¡2</strong>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73d1d4fd0c19434faddd0c8daef57f2a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768176094&amp;x-signature=09KfKp4O6YSREzA4GsGzwZ4Ne60%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-12">ç»“è¯­</h2>
<p><strong>ä»¥ä¸Š</strong>å°±æ˜¯çƒ­é—¨ä¹°é‡æ¸¸æˆã€Šç”»çº¿æ•‘ç‹—ã€‹çš„æ‹†è§£ï¼Œä¸çŸ¥é“å°ä¼™ä¼´ä»¬å­¦åºŸäº†æ²¡æœ‰ï¼Ÿ</p>
<p>æœ¬æ–‡<strong>å®æˆ˜æºç </strong>å¯é€šè¿‡<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FFOi5gCiGzF3LnT03DpPMXA" target="_blank" title="https://mp.weixin.qq.com/s/FOi5gCiGzF3LnT03DpPMXA" ref="nofollow noopener noreferrer"><strong>é˜…è¯»åŸæ–‡</strong></a>è·å–ã€‚</p>
<hr/>
<p><strong>æˆ‘æ˜¯"äº¿å…ƒç¨‹åºå‘˜"ï¼Œä¸€ä½æœ‰ç€8å¹´æ¸¸æˆè¡Œä¸šç»éªŒçš„ä¸»ç¨‹ã€‚åœ¨æ¸¸æˆå¼€å‘ä¸­ï¼Œå¸Œæœ›èƒ½ç»™åˆ°æ‚¨å¸®åŠ©, ä¹Ÿå¸Œæœ›é€šè¿‡æ‚¨èƒ½å¸®åŠ©åˆ°å¤§å®¶ã€‚</strong></p>
<p>AD:ç¬”è€…çº¿ä¸Šçš„å°æ¸¸æˆã€Šæ‰“èºä¸é—¯å…³ã€‹ã€Šè´ªåƒè›‡æŒæœºç»å…¸ã€‹ã€Šé‡åŠ›è¿·å®«çƒã€‹ã€Šå¡«è‰²ä¹‹æ—…ã€‹ã€Šæ–¹å—æŒæœºç»å…¸ã€‹å¤§å®¶å¯ä»¥è‡ªè¡Œç‚¹å‡»æœç´¢ä½“éªŒã€‚</p>
<p>å®ä¸ç›¸ç’ï¼Œæƒ³è¦ä¸ª<strong>èµ</strong>å’Œ<strong>çˆ±å¿ƒ</strong>ï¼è¯·æŠŠè¯¥æ–‡ç« <strong>åˆ†äº«</strong>ç»™ä½ è§‰å¾—æœ‰éœ€è¦çš„å…¶ä»–å°ä¼™ä¼´ã€‚è°¢è°¢ï¼</p>
<p>æ¨èæ–‡ç« ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FFOi5gCiGzF3LnT03DpPMXA" target="_blank" title="https://mp.weixin.qq.com/s/FOi5gCiGzF3LnT03DpPMXA" ref="nofollow noopener noreferrer">äº¿å…ƒCocoså°æ¸¸æˆå®æˆ˜åˆé›†</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FXLCknL3fJDubec2GW6KLFA" target="_blank" title="https://mp.weixin.qq.com/s/XLCknL3fJDubec2GW6KLFA" ref="nofollow noopener noreferrer">Cocosæ¸¸æˆå¦‚ä½•æ¥å…¥å®‰å“ç©¿å±±ç”²å¹¿å‘Šå˜ç°ï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F3_VrSld4KnDKY_7hxjSoKg" target="_blank" title="https://mp.weixin.qq.com/s/3_VrSld4KnDKY_7hxjSoKg" ref="nofollow noopener noreferrer">ä½ çŸ¥é“å’Œä¸çŸ¥é“çš„å¾®ä¿¡å°æ¸¸æˆå¸¸ç”¨APIæ•´ç†ï¼Œèµ¶ç´§æ”¶è—ç”¨èµ·æ¥~</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F0Lj24VHJ-pL8z82hHqQLiA" target="_blank" title="https://mp.weixin.qq.com/s/0Lj24VHJ-pL8z82hHqQLiA" ref="nofollow noopener noreferrer">Cocosæ¸¸æˆå¦‚ä½•å¿«é€Ÿæ¥å…¥æŠ–éŸ³å°æ¸¸æˆå¹¿å‘Šå˜ç°ï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FZ7DusUJA2v1IFZDFtBsueg" target="_blank" title="https://mp.weixin.qq.com/s/Z7DusUJA2v1IFZDFtBsueg" ref="nofollow noopener noreferrer">å¦‚ä½•åœ¨CocosCreator3.8ä¸­å®ç°å‰²ç»³å­æ¸¸æˆæ•ˆæœ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F3BzzFBzeVAO-a6LPTeFTrA" target="_blank" title="https://mp.weixin.qq.com/s/3BzzFBzeVAO-a6LPTeFTrA" ref="nofollow noopener noreferrer">å¦‚ä½•åœ¨CocosCreator3.8ä¸­å®ç°åŠ¨æ€åˆ‡å‰²æ¨¡å‹ï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FZIph332u_r24OTY4r6_jow" target="_blank" title="https://mp.weixin.qq.com/s/ZIph332u_r24OTY4r6_jow" ref="nofollow noopener noreferrer">Cocosæ¸¸æˆå¼€å‘ä¸­çš„è´´èŠ±æ•ˆæœ</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰æ³¨æ„åŠ å·¥ï¼šè®©ä½ çš„å›¾è¡¨æŠ“ä½è¯»è€…çš„çœ¼çƒ]]></title>    <link>https://juejin.cn/post/7591350620188999686</link>    <guid>https://juejin.cn/post/7591350620188999686</guid>    <pubDate>2026-01-04T15:08:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591350620188999686" data-draft-id="7591510742634233919" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰æ³¨æ„åŠ å·¥ï¼šè®©ä½ çš„å›¾è¡¨æŠ“ä½è¯»è€…çš„çœ¼çƒ"/> <meta itemprop="keywords" content="Python,æ•°æ®å¯è§†åŒ–,æ•°æ®åˆ†æ"/> <meta itemprop="datePublished" content="2026-01-04T15:08:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="databook"/> <meta itemprop="url" content="https://juejin.cn/user/3526889035006702"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰æ³¨æ„åŠ å·¥ï¼šè®©ä½ çš„å›¾è¡¨æŠ“ä½è¯»è€…çš„çœ¼çƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3526889035006702/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    databook
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T15:08:56.000Z" title="Sun Jan 04 2026 15:08:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ èµ°è¿›ä¸€ä¸ªæŒ¤æ»¡äººçš„æˆ¿é—´ï¼Œæœ‹å‹å‘ä½ æ‹›æ‰‹--ä½ å‡ ä¹ç«‹åˆ»å°±èƒ½çœ‹åˆ°ä»–ã€‚</p>
<p>è¿™æ˜¯å› ä¸ºâ€œæ‹›æ‰‹â€è¿™ä¸ªåŠ¨ä½œåœ¨ä½ çš„å¤§è„‘è¿›è¡Œæ·±å…¥æ€è€ƒä¹‹å‰ï¼Œå°±å·²ç»è¢«æ³¨æ„åˆ°äº†ã€‚</p>
<p>å†æ¯”å¦‚å½“ä½ èµ°åœ¨ç†™ç†™æ”˜æ”˜çš„å¤§è¡—ä¸Šï¼Œå¦‚æœæ‰€æœ‰äººç©¿çš„éƒ½æ˜¯é»‘ç°è‰²çš„å¤§è¡£ï¼Œè€Œæ­¤æ—¶æœ‰ä¸€ä¸ªäººç©¿ç€é²œçº¢è‰²çš„é£è¡£ï¼Œä½ ä¼šçœ‹å“ªé‡Œï¼Ÿ</p>
<p>æ¯«æ— ç–‘é—®ï¼Œä½ çš„ç›®å…‰ä¼šç¬é—´è¢«é‚£æŠ¹çº¢è‰²å¸å¼•ã€‚</p>
<p>è¿™å°±æ˜¯<strong>å‰æ³¨æ„åŠ å·¥</strong>ï¼šæˆ‘ä»¬çš„å¤§è„‘èƒ½åœ¨æçŸ­æ—¶é—´å†…ï¼ˆçº¦200-250æ¯«ç§’ï¼‰è‡ªåŠ¨æ£€æµ‹åˆ°æŸäº›è§†è§‰ç‰¹å¾ï¼Œè€Œæ— éœ€æˆ‘ä»¬æœ‰æ„è¯†åœ°å»å¯»æ‰¾ã€‚</p>
<p>åœ¨æ•°æ®å¯è§†åŒ–ä¸­ï¼Œ<strong>å‰æ³¨æ„åŠ å·¥</strong>å°±æ˜¯æˆ‘ä»¬ç”¨æ¥å¼•å¯¼è¯»è€…æ³¨æ„åŠ›çš„â€œè§†è§‰é­”æœ¯â€ã€‚</p>
<p>é€šè¿‡å·§å¦™åœ°æ”¹å˜é¢œè‰²ã€å¤§å°ã€å½¢çŠ¶ç­‰è§†è§‰å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥è®©å›¾è¡¨ä¸­çš„å…³é”®ä¿¡æ¯ï¼ˆå¦‚æœ€å¤§å€¼ã€æœ€å°å€¼ã€å¼‚å¸¸å€¼ï¼‰åƒæœ‹å‹æ‹›æ‰‹ä¸€æ ·â€œè·³å‡ºæ¥â€ï¼Œç¬¬ä¸€æ—¶é—´æŠ“ä½è¯»è€…çš„çœ¼çƒã€‚</p>
<h2 data-id="heading-0">1. å‰æ³¨æ„åŠ å·¥çš„å®ç”¨æŠ€å·§</h2>
<ol>
<li><strong>å°‘å³æ˜¯å¤š</strong>ï¼šä¸è¦è¿‡åº¦ä½¿ç”¨çªå‡ºæ•ˆæœï¼Œå¦åˆ™ä¼šå¤±å»ç„¦ç‚¹</li>
<li><strong>ä¸€è‡´æ€§åŸåˆ™</strong>ï¼šåœ¨æ•´ä¸ªæŠ¥å‘Šæˆ–ä»ªè¡¨æ¿ä¸­ä½¿ç”¨ç›¸åŒçš„çªå‡ºé¢œè‰²ç¼–ç </li>
<li><strong>è€ƒè™‘è‰²ç›²ç”¨æˆ·</strong>ï¼šé¿å…ä»…ä¾é é¢œè‰²åŒºåˆ†ï¼Œå¯ç»“åˆå½¢çŠ¶ã€çº¹ç†ç­‰</li>
<li><strong>ä¸Šä¸‹æ–‡ç›¸å…³</strong>ï¼šæ ¹æ®æ•°æ®ç‰¹ç‚¹å’Œè§‚ä¼—èƒŒæ™¯é€‰æ‹©åˆé€‚çš„çªå‡ºæ–¹å¼</li>
<li><strong>æµ‹è¯•æ•ˆæœ</strong>ï¼šè®©å…¶ä»–äººæŸ¥çœ‹ä½ çš„å›¾è¡¨ï¼Œç¡®è®¤çªå‡ºæ•ˆæœæ˜¯å¦è¾¾åˆ°é¢„æœŸ</li>
</ol>
<h2 data-id="heading-1">2. å‰æ³¨æ„åŠ å·¥å®ä¾‹</h2>
<p>æ¦‚å¿µä»‹ç»å®Œäº†ï¼Œä¸‹é¢ç›´æ¥çœ‹ä»£ç ï¼Œçœ‹çœ‹å®é™…æƒ…å†µä¸‹å¦‚ä½•ä½¿ç”¨<strong>å‰æ³¨æ„åŠ å·¥</strong>æ¥æé«˜æˆ‘ä»¬çš„å¯è§†åŒ–æ•ˆæœã€‚</p>
<h3 data-id="heading-2">2.1. çªå‡ºæœ€å¤§å€¼å’Œæœ€å°å€¼</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç¤ºä¾‹1ï¼šçªå‡ºæœ€å¤§å€¼å’Œæœ€å°å€¼</span>
<span class="hljs-comment"># åˆ›å»ºæ•°æ®</span>
np.random.seed(<span class="hljs-number">42</span>)
categories = [<span class="hljs-string">'A'</span>, <span class="hljs-string">'B'</span>, <span class="hljs-string">'C'</span>, <span class="hljs-string">'D'</span>, <span class="hljs-string">'E'</span>, <span class="hljs-string">'F'</span>, <span class="hljs-string">'G'</span>, <span class="hljs-string">'H'</span>]
values = np.random.randint(<span class="hljs-number">10</span>, <span class="hljs-number">100</span>, size=<span class="hljs-number">8</span>)

<span class="hljs-comment"># æ‰¾å‡ºæœ€å¤§å€¼å’Œæœ€å°å€¼çš„ç´¢å¼•</span>
max_idx = np.argmax(values)
min_idx = np.argmin(values)

<span class="hljs-comment"># åˆ›å»ºå›¾è¡¨</span>
fig, (ax1, ax2) = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, figsize=(<span class="hljs-number">14</span>, <span class="hljs-number">6</span>))

<span class="hljs-comment"># å·¦å›¾ï¼šæ²¡æœ‰å‰æ³¨æ„åŠ å·¥</span>
bars1 = ax1.bar(categories, values, color=<span class="hljs-string">'lightblue'</span>, edgecolor=<span class="hljs-string">'black'</span>)

<span class="hljs-comment"># å³å›¾ï¼šæœ‰å‰æ³¨æ„åŠ å·¥ï¼ˆçªå‡ºæœ€å¤§æœ€å°å€¼ï¼‰</span>
colors = [<span class="hljs-string">'lightblue'</span>] * <span class="hljs-built_in">len</span>(values)
colors[max_idx] = <span class="hljs-string">'#FF6B6B'</span>  <span class="hljs-comment"># çº¢è‰²çªå‡ºæœ€å¤§å€¼</span>
colors[min_idx] = <span class="hljs-string">'#4ECDC4'</span>  <span class="hljs-comment"># é’è‰²çªå‡ºæœ€å°å€¼</span>

bars2 = ax2.bar(categories, values, color=colors, edgecolor=<span class="hljs-string">'black'</span>)

<span class="hljs-comment"># åœ¨æœ€å¤§å€¼å’Œæœ€å°å€¼ä¸Šæ·»åŠ æ ‡ç­¾</span>
ax2.text(max_idx, values[max_idx] + <span class="hljs-number">2</span>, <span class="hljs-string">f'æœ€å¤§: <span class="hljs-subst">{values[max_idx]}</span>'</span>,
         ha=<span class="hljs-string">'center'</span>, fontweight=<span class="hljs-string">'bold'</span>, color=<span class="hljs-string">'#FF6B6B'</span>)
ax2.text(min_idx, values[min_idx] + <span class="hljs-number">2</span>, <span class="hljs-string">f'æœ€å°: <span class="hljs-subst">{values[min_idx]}</span>'</span>,
         ha=<span class="hljs-string">'center'</span>, fontweight=<span class="hljs-string">'bold'</span>, color=<span class="hljs-string">'#4ECDC4'</span>)

plt.tight_layout()
plt.show()
</code></pre>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f5b3cfac63c404bae4e199caaea3ea0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGF0YWJvb2s=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768144135&amp;x-signature=JIDdIdb1RTsmPmZg86kopP8HIEg%3D" alt="" loading="lazy"/></p>
<p>å·¦å›¾ä¸­ï¼Œæ‰€æœ‰æŸ±å­éƒ½æ˜¯ç›¸åŒçš„è“è‰²ï¼Œè¯»è€…éœ€è¦é€ä¸ªæ¯”è¾ƒæ‰èƒ½æ‰¾å‡ºæœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚</p>
<p>å³å›¾ä¸­ï¼Œæœ€å¤§å€¼ç”¨é†’ç›®çš„çº¢è‰²æ ‡å‡ºï¼Œæœ€å°å€¼ç”¨é’è‰²æ ‡å‡ºï¼Œè¯»è€…ä¸€çœ¼å°±èƒ½çœ‹åˆ°å…³é”®æ•°æ®ç‚¹ã€‚</p>
<p><strong>å‰æ³¨æ„åŠ å·¥çš„å¥½å¤„</strong>ï¼šå°±åƒåœ¨äººç¾¤ä¸­ä¸ºé‡è¦äººç‰©æˆ´ä¸Šç‰¹åˆ«çš„å¸½å­ï¼Œè¯»è€…æ— éœ€è´¹åŠ›å¯»æ‰¾å°±èƒ½ç«‹å³è¯†åˆ«å…³é”®æ•°æ®ç‚¹ã€‚</p>
<h3 data-id="heading-3">2.2. çªå‡ºå¼‚å¸¸å€¼</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç¤ºä¾‹2ï¼šçªå‡ºå¼‚å¸¸å€¼</span>
<span class="hljs-comment"># åˆ›å»ºåŒ…å«å¼‚å¸¸å€¼çš„æ•°æ®</span>
np.random.seed(<span class="hljs-number">42</span>)
data_normal = np.random.normal(<span class="hljs-number">50</span>, <span class="hljs-number">10</span>, <span class="hljs-number">100</span>)
data_outliers = np.array([<span class="hljs-number">5</span>, <span class="hljs-number">125</span>, <span class="hljs-number">130</span>])  <span class="hljs-comment"># å¼‚å¸¸å€¼</span>
all_data = np.concatenate([data_normal, data_outliers])

<span class="hljs-comment"># è¯†åˆ«å¼‚å¸¸å€¼ï¼ˆç®€å•æ–¹æ³•ï¼šè¶…å‡ºå¹³å‡å€¼Â±2å€æ ‡å‡†å·®ï¼‰</span>
mean_val = np.mean(all_data)
std_val = np.std(all_data)
outlier_indices = np.where((all_data &lt; mean_val - <span class="hljs-number">2</span>*std_val) | (all_data &gt; mean_val + <span class="hljs-number">2</span>*std_val))[<span class="hljs-number">0</span>]

<span class="hljs-comment"># åˆ›å»ºå›¾è¡¨</span>
fig, (ax1, ax2) = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, figsize=(<span class="hljs-number">14</span>, <span class="hljs-number">6</span>))

<span class="hljs-comment"># å·¦å›¾ï¼šæ²¡æœ‰å‰æ³¨æ„åŠ å·¥</span>
scatter1 = ax1.scatter(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(all_data)), all_data, alpha=<span class="hljs-number">0.7</span>, c=<span class="hljs-string">'gray'</span>, s=<span class="hljs-number">50</span>)
ax1.axhline(y=mean_val, color=<span class="hljs-string">'black'</span>, linestyle=<span class="hljs-string">'--'</span>, alpha=<span class="hljs-number">0.5</span>, label=<span class="hljs-string">f'å¹³å‡å€¼: <span class="hljs-subst">{mean_val:<span class="hljs-number">.1</span>f}</span>'</span>)
ax1.axhline(y=mean_val + <span class="hljs-number">2</span>*std_val, color=<span class="hljs-string">'red'</span>, linestyle=<span class="hljs-string">':'</span>, alpha=<span class="hljs-number">0.5</span>, label=<span class="hljs-string">'Â±2æ ‡å‡†å·®'</span>)
ax1.axhline(y=mean_val - <span class="hljs-number">2</span>*std_val, color=<span class="hljs-string">'red'</span>, linestyle=<span class="hljs-string">':'</span>, alpha=<span class="hljs-number">0.5</span>)

<span class="hljs-comment"># å³å›¾ï¼šæœ‰å‰æ³¨æ„åŠ å·¥ï¼ˆçªå‡ºå¼‚å¸¸å€¼ï¼‰</span>
colors = [<span class="hljs-string">'gray'</span>] * <span class="hljs-built_in">len</span>(all_data)
sizes = [<span class="hljs-number">50</span>] * <span class="hljs-built_in">len</span>(all_data)

<span class="hljs-comment"># çªå‡ºå¼‚å¸¸å€¼</span>
<span class="hljs-keyword">for</span> idx <span class="hljs-keyword">in</span> outlier_indices:
    colors[idx] = <span class="hljs-string">'#FF6B6B'</span>  <span class="hljs-comment"># çº¢è‰²</span>
    sizes[idx] = <span class="hljs-number">150</span>  <span class="hljs-comment"># æ›´å¤§</span>

scatter2 = ax2.scatter(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(all_data)), all_data, alpha=<span class="hljs-number">0.7</span>, c=colors, s=sizes)
ax2.axhline(y=mean_val, color=<span class="hljs-string">'black'</span>, linestyle=<span class="hljs-string">'--'</span>, alpha=<span class="hljs-number">0.5</span>, label=<span class="hljs-string">f'å¹³å‡å€¼: <span class="hljs-subst">{mean_val:<span class="hljs-number">.1</span>f}</span>'</span>)
ax2.axhline(y=mean_val + <span class="hljs-number">2</span>*std_val, color=<span class="hljs-string">'red'</span>, linestyle=<span class="hljs-string">':'</span>, alpha=<span class="hljs-number">0.5</span>, label=<span class="hljs-string">'Â±2æ ‡å‡†å·®'</span>)
ax2.axhline(y=mean_val - <span class="hljs-number">2</span>*std_val, color=<span class="hljs-string">'red'</span>, linestyle=<span class="hljs-string">':'</span>, alpha=<span class="hljs-number">0.5</span>)

plt.tight_layout()
plt.show()
</code></pre>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75dae986c53b4fb0ad21e5223e0e7c26~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGF0YWJvb2s=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768144135&amp;x-signature=VsBftwhA5%2BeJlU93WsU0Gjv%2BE1o%3D" alt="" loading="lazy"/></p>
<p>å·¦å›¾ä¸­ï¼Œå¼‚å¸¸å€¼æ··åœ¨æ™®é€šæ•°æ®ç‚¹ä¸­ï¼Œéš¾ä»¥ç«‹å³è¯†åˆ«ã€‚</p>
<p>å³å›¾ä¸­ï¼Œå¼‚å¸¸å€¼ç”¨æ›´å¤§çš„çº¢è‰²ç‚¹çªå‡ºæ˜¾ç¤ºï¼Œå³ä½¿æ•°æ®é‡å¾ˆå¤§ï¼Œè¯»è€…ä¹Ÿèƒ½ç«‹å³æ³¨æ„åˆ°è¿™äº›ç‰¹æ®Šç‚¹ã€‚</p>
<p><strong>å‰æ³¨æ„åŠ å·¥çš„å¥½å¤„</strong>ï¼šå°±åƒåœ¨å¹³é™æ¹–é¢ä¸Šæ ‡è®°å‡ºæ¶Ÿæ¼ªçš„èµ·æºï¼Œå¼‚å¸¸å€¼ä¸å†éšè—åœ¨æ•°æ®æµ·æ´‹ä¸­ï¼Œè€Œæ˜¯æˆä¸ºåˆ†æçš„é‡ç‚¹ã€‚</p>
<h3 data-id="heading-4">2.3. çªå‡ºè¶‹åŠ¿å˜åŒ–ç‚¹</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç¤ºä¾‹3ï¼šçªå‡ºè¶‹åŠ¿å˜åŒ–ç‚¹</span>
<span class="hljs-comment"># åˆ›å»ºåŒ…å«è¶‹åŠ¿å˜åŒ–çš„æ—¶é—´åºåˆ—æ•°æ®</span>
np.random.seed(<span class="hljs-number">42</span>)
time_points = np.arange(<span class="hljs-number">0</span>, <span class="hljs-number">100</span>)
trend_change_point = <span class="hljs-number">45</span>

<span class="hljs-comment"># åˆ†æ®µåˆ›å»ºè¶‹åŠ¿æ•°æ®</span>
trend1 = <span class="hljs-number">30</span> + <span class="hljs-number">0.5</span> * np.arange(<span class="hljs-number">0</span>, trend_change_point) + np.random.normal(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, trend_change_point)
trend2 = trend1[-<span class="hljs-number">1</span>] - <span class="hljs-number">0.8</span> * np.arange(<span class="hljs-number">0</span>, <span class="hljs-number">100</span> - trend_change_point) + np.random.normal(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">100</span> - trend_change_point)
data = np.concatenate([trend1, trend2])

<span class="hljs-comment"># åˆ›å»ºå›¾è¡¨</span>
fig, (ax1, ax2) = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, figsize=(<span class="hljs-number">14</span>, <span class="hljs-number">6</span>))

<span class="hljs-comment"># å·¦å›¾ï¼šæ²¡æœ‰å‰æ³¨æ„åŠ å·¥</span>
line1 = ax1.plot(time_points, data, color=<span class="hljs-string">'gray'</span>, alpha=<span class="hljs-number">0.8</span>, linewidth=<span class="hljs-number">2</span>)

<span class="hljs-comment"># å³å›¾ï¼šæœ‰å‰æ³¨æ„åŠ å·¥ï¼ˆçªå‡ºè¶‹åŠ¿å˜åŒ–ç‚¹ï¼‰</span>
line2 = ax2.plot(time_points, data, color=<span class="hljs-string">'gray'</span>, alpha=<span class="hljs-number">0.6</span>, linewidth=<span class="hljs-number">2</span>)

<span class="hljs-comment"># çªå‡ºè¶‹åŠ¿å˜åŒ–åŒºåŸŸ</span>
ax2.axvspan(trend_change_point-<span class="hljs-number">5</span>, trend_change_point+<span class="hljs-number">5</span>, alpha=<span class="hljs-number">0.3</span>, color=<span class="hljs-string">'#FF6B6B'</span>, label=<span class="hljs-string">'è¶‹åŠ¿å˜åŒ–åŒºåŸŸ'</span>)
ax2.scatter(trend_change_point, data[trend_change_point], color=<span class="hljs-string">'#FF6B6B'</span>, s=<span class="hljs-number">200</span>, zorder=<span class="hljs-number">5</span>, label=<span class="hljs-string">'å˜åŒ–ç‚¹'</span>)
ax2.plot(time_points[:trend_change_point+<span class="hljs-number">1</span>], data[:trend_change_point+<span class="hljs-number">1</span>], color=<span class="hljs-string">'#4ECDC4'</span>, linewidth=<span class="hljs-number">3</span>, alpha=<span class="hljs-number">0.8</span>, label=<span class="hljs-string">'ä¸Šå‡è¶‹åŠ¿'</span>)
ax2.plot(time_points[trend_change_point:], data[trend_change_point:], color=<span class="hljs-string">'#45B7D1'</span>, linewidth=<span class="hljs-number">3</span>, alpha=<span class="hljs-number">0.8</span>, label=<span class="hljs-string">'ä¸‹é™è¶‹åŠ¿'</span>)

plt.tight_layout()
plt.show()
</code></pre>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8a2dbd998f5473984e0e6bd5ff15826~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGF0YWJvb2s=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768144135&amp;x-signature=RkX6bbP4BvgBLbvQevTRxvaJcIw%3D" alt="" loading="lazy"/></p>
<p>å·¦å›¾å±•ç¤ºäº†ä¸€ä¸ªå®Œæ•´çš„è¶‹åŠ¿çº¿ï¼Œä½†å˜åŒ–ç‚¹ä¸æ˜æ˜¾ã€‚</p>
<p>å³å›¾ä½¿ç”¨ä¸åŒé¢œè‰²åŒºåˆ†è¶‹åŠ¿æ®µï¼Œå¹¶ç”¨é˜´å½±åŒºåŸŸå’Œçªå‡ºç‚¹æ ‡è®°å˜åŒ–åŒºåŸŸï¼Œä½¿è¶‹åŠ¿è½¬æŠ˜ä¸€ç›®äº†ç„¶ã€‚</p>
<p><strong>å‰æ³¨æ„åŠ å·¥çš„å¥½å¤„</strong>ï¼šå°±åƒåœ¨é“è·¯åœ°å›¾ä¸Šæ ‡è®°å‡ºè½¬å¼¯å¤„ï¼Œè¯»è€…èƒ½ç«‹å³çœ‹åˆ°è¶‹åŠ¿å˜åŒ–çš„å…³é”®æ—¶åˆ»ã€‚</p>
<h3 data-id="heading-5">2.4. çªå‡ºç‰¹å®šç±»åˆ«</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç¤ºä¾‹4ï¼šçªå‡ºç‰¹å®šç±»åˆ«</span>
<span class="hljs-comment"># åˆ›å»ºé¥¼å›¾æ•°æ®</span>
categories = [<span class="hljs-string">"ç”µå­äº§å“"</span>, <span class="hljs-string">"æœè£…"</span>, <span class="hljs-string">"é£Ÿå“"</span>, <span class="hljs-string">"å®¶å±…"</span>, <span class="hljs-string">"ä¹¦ç±"</span>, <span class="hljs-string">"å…¶ä»–"</span>]
values = [<span class="hljs-number">25</span>, <span class="hljs-number">18</span>, <span class="hljs-number">22</span>, <span class="hljs-number">15</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>]
highlight_category = <span class="hljs-string">"é£Ÿå“"</span>  <span class="hljs-comment"># è¦çªå‡ºçš„ç±»åˆ«</span>
highlight_idx = categories.index(highlight_category)

<span class="hljs-comment"># åˆ›å»ºå›¾è¡¨</span>
fig, (ax1, ax2) = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, figsize=(<span class="hljs-number">14</span>, <span class="hljs-number">6</span>))

<span class="hljs-comment"># å·¦å›¾ï¼šæ²¡æœ‰å‰æ³¨æ„åŠ å·¥</span>
colors1 = [<span class="hljs-string">"#FF9AA2"</span>, <span class="hljs-string">"#FFB7B2"</span>, <span class="hljs-string">"#FFDAC1"</span>, <span class="hljs-string">"#E2F0CB"</span>, <span class="hljs-string">"#B5EAD7"</span>, <span class="hljs-string">"#C7CEEA"</span>]
wedges1, texts1, autotexts1 = ax1.pie(
    values, labels=categories, autopct=<span class="hljs-string">"%1.1f%%"</span>, colors=colors1, startangle=<span class="hljs-number">90</span>
)

<span class="hljs-comment"># å³å›¾ï¼šæœ‰å‰æ³¨æ„åŠ å·¥ï¼ˆçªå‡ºç‰¹å®šç±»åˆ«ï¼‰</span>
<span class="hljs-comment"># å°†çªå‡ºç±»åˆ«çš„é¢œè‰²æ”¹ä¸ºé†’ç›®çš„é¢œè‰²ï¼Œå…¶ä»–ç±»åˆ«ç”¨ç°åº¦</span>
colors2 = [<span class="hljs-string">"lightgray"</span>] * <span class="hljs-built_in">len</span>(categories)
colors2[highlight_idx] = <span class="hljs-string">"#FF6B6B"</span>  <span class="hljs-comment"># çªå‡ºç±»åˆ«ç”¨çº¢è‰²</span>

<span class="hljs-comment"># çªå‡ºæ˜¾ç¤ºï¼šå°†ç‰¹å®šç±»åˆ«"æ‹‰å‡º"</span>
explode = [<span class="hljs-number">0</span>] * <span class="hljs-built_in">len</span>(categories)
explode[highlight_idx] = <span class="hljs-number">0.1</span>

wedges2, texts2, autotexts2 = ax2.pie(
    values,
    labels=categories,
    autopct=<span class="hljs-string">"%1.1f%%"</span>,
    colors=colors2,
    explode=explode,
    startangle=<span class="hljs-number">90</span>,
)

plt.tight_layout()
plt.show()
</code></pre>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/27631577fe6442ff87cb3febe019a2d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGF0YWJvb2s=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768144135&amp;x-signature=VVXo4UpyLMdw0BnGAD4q02R1Q1g%3D" alt="" loading="lazy"/></p>
<p>å·¦å›¾ä¸­ï¼Œæ‰€æœ‰ç±»åˆ«è§†è§‰æƒé‡ç›¸åŒï¼Œè¯»è€…éœ€è¦é˜…è¯»æ ‡ç­¾æˆ–ç™¾åˆ†æ¯”æ‰èƒ½æ‰¾åˆ°ç‰¹å®šç±»åˆ«ã€‚</p>
<p>å³å›¾ä¸­ï¼Œç›®æ ‡ç±»åˆ«è¢«"æ‹‰å‡º"å¹¶ç”¨é†’ç›®çš„çº¢è‰²æ˜¾ç¤ºï¼Œå…¶ä»–ç±»åˆ«åˆ™ç”¨ç°è‰²æ·¡åŒ–ï¼Œè¯»è€…ä¸€çœ¼å°±èƒ½çœ‹åˆ°é‡ç‚¹ã€‚</p>
<p><strong>å‰æ³¨æ„åŠ å·¥çš„å¥½å¤„</strong>ï¼šå°±åƒåœ¨åˆå”±å›¢ä¸­ä¸ºç‹¬å”±è€…æ‰“ä¸Šèšå…‰ç¯ï¼Œç‰¹å®šç±»åˆ«ç«‹å³æˆä¸ºè§†è§‰ç„¦ç‚¹ã€‚</p>
<p>åŒæ ·ï¼Œåœ¨ç»˜åˆ¶<strong>å¤šæ¡æŠ˜çº¿å›¾</strong>ï¼ˆä¹Ÿå°±æ˜¯ä¿—ç§°çš„â€œé¢æ¡å›¾â€ï¼‰æ—¶ï¼Œå¦‚æœæ¯æ¡çº¿éƒ½ç”¨é«˜é¥±å’Œåº¦çš„é¢œè‰²ï¼Œç”»é¢ä¼šéå¸¸æ··ä¹±ï¼Œè¯»è€…ä¸çŸ¥é“è¯¥çœ‹å“ªä¸€æ¡ã€‚</p>
<p>ä¹Ÿå¯ä»¥ç”¨ä¸Šé¢é¥¼å›¾ç±»ä¼¼çš„æ€è·¯ï¼Œé™ä½éé‡ç‚¹æ•°æ®çš„<strong>ä¸é€æ˜åº¦</strong>ï¼ˆ<code>Alpha</code>ï¼‰å’Œ<strong>çº¿å®½</strong>ï¼ˆ<code>Linewidth</code>ï¼‰ï¼Œåªä¿ç•™é‡ç‚¹æ•°æ®çš„é²œæ˜æ ·å¼ã€‚</p>
<p>è¿™å°±åƒèˆå°ä¸Šçš„èšå…‰ç¯ï¼Œç¯å…‰æ‰“åœ¨å“ªé‡Œï¼Œè§‚ä¼—å°±çœ‹å“ªé‡Œã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ¨¡æ‹Ÿæ—¶é—´åºåˆ—æ•°æ®</span>
x = np.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, <span class="hljs-number">100</span>)
<span class="hljs-comment"># ç”Ÿæˆ5æ¡å¹²æ‰°çº¿</span>
lines = [np.sin(x + i) * (<span class="hljs-number">1</span> + i/<span class="hljs-number">10</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>)]
<span class="hljs-comment"># ç”Ÿæˆ1æ¡é‡ç‚¹çº¿ï¼ˆæ¯”å¦‚è¿™æ˜¯æˆ‘ä»¬å…¬å¸çš„äº§å“ï¼‰</span>
main_line = np.sin(x) * <span class="hljs-number">2.5</span> + <span class="hljs-number">1</span>

fig, (ax1, ax2) = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">5</span>))

<span class="hljs-comment"># --- å›¾1ï¼šæ²¡æœ‰å‰æ³¨æ„åŠ å·¥ ---</span>
<span class="hljs-comment"># å…¸å‹çš„é¢æ¡å›¾ï¼Œæ‰€æœ‰çº¿éƒ½åœ¨äº‰å¤ºæ³¨æ„åŠ›</span>
<span class="hljs-keyword">for</span> i, line <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(lines):
    ax1.plot(x, line, label=<span class="hljs-string">f'Competitor <span class="hljs-subst">{i}</span>'</span>)
ax1.plot(x, main_line, label=<span class="hljs-string">'Our Product'</span>)

<span class="hljs-comment"># --- å›¾2ï¼šæœ‰å‰æ³¨æ„åŠ å·¥ ---</span>
<span class="hljs-comment"># ç­–ç•¥ï¼šå¼±åŒ–èƒŒæ™¯ï¼Œçªå‡ºå‰æ™¯</span>
<span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> lines:
    ax1.plot(x, line) <span class="hljs-comment"># å·¦å›¾é€»è¾‘</span>
    <span class="hljs-comment"># å³å›¾é€»è¾‘ï¼šç°è‰²ã€ç»†çº¿ã€åŠé€æ˜</span>
    ax2.plot(x, line, color=<span class="hljs-string">'lightgray'</span>, linewidth=<span class="hljs-number">1</span>, alpha=<span class="hljs-number">0.6</span>)

<span class="hljs-comment"># é‡ç‚¹çº¿ï¼šæ·±é’è‰²ã€åŠ ç²—ã€ä¸é€æ˜</span>
ax2.plot(x, main_line, color=<span class="hljs-string">'teal'</span>, linewidth=<span class="hljs-number">3</span>, label=<span class="hljs-string">'Our Product'</span>)

plt.tight_layout()
plt.show()
</code></pre>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b88a68d04722404b8e0a02299f04e02c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGF0YWJvb2s=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768144135&amp;x-signature=BT2qL1g8H2ysRLSUQpqaDEdFmBk%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">3. æ€»ç»“</h2>
<p><strong>å‰æ³¨æ„åŠ å·¥</strong>æ˜¯æ•°æ®å¯è§†åŒ–ä¸­çš„"è§†è§‰è¯­æ³•"ï¼Œå®ƒé€šè¿‡é¢„è®¤çŸ¥çš„è§†è§‰ç‰¹å¾å¼•å¯¼è¯»è€…çš„æ³¨æ„åŠ›ã€‚</p>
<p>å°±åƒç†Ÿç»ƒçš„å¯¼æ¸¸ä¼šæŒ‡å‡ºé£æ™¯ä¸­çš„äº®ç‚¹ï¼Œæœ‰æ•ˆçš„æ•°æ®å¯è§†åŒ–åº”è¯¥å¼•å¯¼è¯»è€…ç«‹å³çœ‹åˆ°æ•°æ®æ•…äº‹ä¸­<strong>æœ€å…³é”®</strong>çš„éƒ¨åˆ†ã€‚</p>
<p>æ•°æ®å¯è§†åŒ–ä¸ä»…ä»…æ˜¯æŠŠæ•°æ®ç”»å‡ºæ¥ï¼Œæ›´æ˜¯ä¸€åœº<strong>æ³¨æ„åŠ›çš„ç®¡ç†è‰ºæœ¯</strong>ã€‚</p>
<ul>
<li><strong>ä¸è¦è®©è¯»è€…çš„çœ¼ç›å»â€œå·¥ä½œâ€</strong>ï¼šå¦‚æœä»–ä»¬éœ€è¦èŠ±å¥½å‡ ç§’é’Ÿå»æ‰¾æœ€å¤§å€¼ï¼Œé‚£æ˜¯æˆ‘ä»¬è®¾è®¡è€…çš„å¤±èŒã€‚</li>
<li><strong>åˆ©ç”¨å¯¹æ¯”</strong>ï¼šé¢œè‰²ï¼ˆäº®/æš—ï¼‰ã€å¤§å°ï¼ˆå¤§/å°ï¼‰ã€ä½ç½®ï¼ˆå‰/åï¼‰ï¼Œè¿™äº›ç‰©ç†å±æ€§çš„å¯¹æ¯”èƒ½ç¬é—´è§¦å‘å¤§è„‘çš„â€œç³»ç»Ÿ1â€ï¼ˆç›´è§‰ç³»ç»Ÿï¼‰ã€‚</li>
</ul>
<p>ä¸‹æ¬¡ä½¿ç”¨ <code>Matplotlib</code> ç»˜å›¾æ—¶ï¼Œåœ¨ <code>plt.show()</code> ä¹‹å‰ï¼Œè¯·åœä¸‹æ¥é—®è‡ªå·±ä¸€ä¸ªé—®é¢˜ï¼šâ€œ<strong>æˆ‘è¿™å¼ å›¾é‡Œï¼Œæœ€æƒ³è®©è¯»è€…ç¬¬ä¸€çœ¼çœ‹åˆ°çš„æ˜¯ä»€ä¹ˆï¼Ÿ</strong>â€</p>
<p>ä¸€æ—¦ç¡®å®šäº†ç­”æ¡ˆï¼Œå°±è¯·å¤§èƒ†åœ°ä½¿ç”¨ä¸Šè¿°æŠ€å·§ï¼ŒæŠŠå®ƒâ€œæ¨â€åˆ°è¯»è€…çœ¼å‰å§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[äº‹ä»¶å¾ªç¯ä»‹ç»]]></title>    <link>https://juejin.cn/post/7591130604430213160</link>    <guid>https://juejin.cn/post/7591130604430213160</guid>    <pubDate>2026-01-04T15:11:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591130604430213160" data-draft-id="7591330139083587599" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äº‹ä»¶å¾ªç¯ä»‹ç»"/> <meta itemprop="keywords" content="FastAPI"/> <meta itemprop="datePublished" content="2026-01-04T15:11:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äº‹ä»¶å¾ªç¯ä»‹ç»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T15:11:06.000Z" title="Sun Jan 04 2026 15:11:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰çš„â€œç”µæ¢¯â€æ¯”å–»</h2>
<p>æŠŠå•çº¿ç¨‹ CPU æƒ³æˆ<strong>ä¸€éƒ¨åªè½½ä¸€äººçš„ç”µæ¢¯</strong>ï¼š</p>
<ul>
<li>ç”µæ¢¯é‡Œä¸€æ¬¡åªèƒ½è¿è¡Œä¸€ä¸ªäººï¼ˆåŒæ­¥å‡½æ•°ï¼‰</li>
<li>ä½†å¤§æ¥¼é‡Œ 1000 ä¸ªäººéƒ½è¦å»ä¸åŒæ¥¼å±‚ï¼ˆI/O æ“ä½œï¼šç½‘ç»œã€æ–‡ä»¶ã€æ•°æ®åº“ â€¦ï¼‰</li>
<li>å¦‚æœæ¯ä¸ªäººâ€œè‡ªå·±å¼€ç”µæ¢¯â€â†’ ç”µæ¢¯ç©ºè·‘ã€äººå µé—¨å£ï¼Œæ•ˆç‡æä½</li>
</ul>
<p>äº‹ä»¶å¾ªç¯å°±æ˜¯**â€œç”µæ¢¯è°ƒåº¦å‘˜â€**ï¼š</p>
<ol>
<li>æŠŠæ•´æ ‹æ¥¼çš„æ‰€æœ‰â€œä¸Šä¸‹æ¥¼è¯·æ±‚â€ç™»è®°åˆ°ä¸€å¼ <strong>ä»»åŠ¡æ¸…å•</strong></li>
<li>ç”µæ¢¯æ¯æ¬¡åªæ‹‰ä¸€ä¸ªâ€œèƒ½ç«‹åˆ»å‡ºå‘â€çš„äºº</li>
<li>å½“æŸäººæŒ‰ä¸‹â€œå» 15 æ¥¼â€æŒ‰é’®åï¼Œç”µæ¢¯<strong>ä¸ä¼šå‚»ç­‰ä»–èµ°åˆ° 15 æ¥¼å†å›æ¥</strong>ï¼Œè€Œæ˜¯
<ul>
<li>æŠŠâ€œåˆ°è¾¾ 15 æ¥¼åçš„äº‹â€å†™è¿›æ¸…å•ï¼ˆå›è°ƒ / Futureï¼‰</li>
<li>ç«‹åˆ»æ‹‰ä¸‹ä¸€ä½å°±ç»ªçš„äºº</li>
</ul>
</li>
<li>15 æ¥¼æŒ‰é’®äº®èµ·ï¼ˆI/O å®Œæˆï¼‰â†’ è°ƒåº¦å‘˜å†æŠŠâ€œåç»­ä»»åŠ¡â€é‡æ–°å¡è¿›ç”µæ¢¯</li>
</ol>
<p>ç»“æœï¼šä¸€éƒ¨ç”µæ¢¯ï¼ˆå•çº¿ç¨‹ï¼‰<strong>åœ¨ä»»æ„æ—¶åˆ»éƒ½è½½ç€â€œå°±ç»ªâ€çš„äºº</strong>ï¼Œ
è€Œâ€œç­‰äººâ€çš„æ—¶é—´è¢«æ‹¿å»å¹²åˆ«çš„äº‹ï¼Œ<strong>å®è§‚ä¸Š 1000 ä¸ªäººåŒæ—¶ç§»åŠ¨</strong>â€”â€”è¿™å°±æ˜¯å¹¶å‘ã€‚</p>
<hr/>
<h2 data-id="heading-1">æŠ€æœ¯æ˜ å°„</h2>





























<table><thead><tr><th>æ¯”å–»</th><th>çœŸå®æœ¯è¯­</th></tr></thead><tbody><tr><td>ä»»åŠ¡æ¸…å•</td><td>å°±ç»ªé˜Ÿåˆ—ï¼ˆready queueï¼‰</td></tr><tr><td>ç”µæ¢¯</td><td>çº¿ç¨‹ï¼ˆä¸»çº¿ç¨‹ï¼‰</td></tr><tr><td>æŒ‰é’®äº®èµ·</td><td>å†…æ ¸ epoll/select è¿”å›å¯è¯»/å¯å†™äº‹ä»¶</td></tr><tr><td>åˆ°è¾¾åçš„äº‹</td><td>å›è°ƒã€åç¨‹ resumeã€Future.set_result()</td></tr><tr><td>è°ƒåº¦å‘˜</td><td>äº‹ä»¶å¾ªç¯å¯¹è±¡ (asyncio.get_event_loop())</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-2">ä¸ºä»€ä¹ˆèƒ½â€œå¼‚æ­¥â€åˆâ€œå¹¶å‘â€</h2>
<ol>
<li>
<p><strong>å¼‚æ­¥</strong><br/>
è°ƒç”¨ <code>await sock.recv(1024)</code> æ—¶ï¼Œåç¨‹æŠŠâ€œå‰©ä½™ä»£ç â€å°è£…æˆå›è°ƒæŒ‚åˆ°äº‹ä»¶å¾ªç¯ï¼Œ<br/>
ä¸»çº¿ç¨‹ç«‹åˆ»å»æ‰§è¡Œä¸‹ä¸€ä¸ªå°±ç»ªä»»åŠ¡ï¼›<br/>
å½“ socket ç¼“å†²åŒºæ”¶åˆ°æ•°æ® â†’ äº‹ä»¶å¾ªç¯æŠŠå›è°ƒé‡æ–°æ¨è¿›å°±ç»ªé˜Ÿåˆ— â†’ åç¨‹æ¢å¤ã€‚<br/>
å› æ­¤<strong>è°ƒç”¨è€…ä¸ä¼šé˜»å¡åœ¨ recv ä¸Š</strong>ï¼Œå½¢æˆâ€œéé˜»å¡â€æ•ˆæœã€‚</p>
</li>
<li>
<p><strong>å¹¶å‘</strong><br/>
å•çº¿ç¨‹åŒä¸€æ—¶åˆ»åªèƒ½è·‘ä¸€æ¡ CPU æŒ‡ä»¤ï¼Œ<br/>
ä½† I/O æ“ä½œ 99 % æ—¶é—´éƒ½åœ¨<strong>ç­‰ç½‘å¡ã€ç­‰ç£ç›˜ã€ç­‰æ•°æ®åº“å“åº”</strong>ï¼›<br/>
äº‹ä»¶å¾ªç¯æŠŠè¿™äº›â€œç©ºé—²æ—¶é—´â€åˆ‡ç‰‡ï¼Œè®©<strong>æˆåƒä¸Šä¸‡ä¸ªåç¨‹è½®æµå ç”¨ CPU</strong>ï¼Œ<br/>
ä»å®è§‚æ—¶é—´è½´çœ‹ï¼Œå®ƒä»¬åƒæ˜¯â€œåŒæ—¶â€è¿›è¡Œï¼Œäºæ˜¯å®ç°äº†<strong>é«˜å¹¶å‘</strong>ã€‚</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-3">ä¸€å¼ å›¾ç§’æ‡‚</h2>
<pre><code class="hljs language-lua" lang="lua">        ä¸»çº¿ç¨‹ï¼ˆå•æ ¸ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-keyword">while</span> True:                  â”‚
â”‚     â‘  å°†å°±ç»ªåç¨‹æ¨è¿›ç”µæ¢¯      â”‚â†<span class="hljs-comment">---â”</span>
â”‚     â‘¡ è¿è¡Œç›´åˆ°é‡åˆ° I/O        â”‚    â”‚
â”‚     â‘¢ æŠŠâ€œåç»­â€æ³¨å†Œåˆ°å†…æ ¸ + å¾ªç¯ â”‚    â”‚
â”‚     â‘£ å†…æ ¸ epoll é€šçŸ¥å®Œæˆ     â”‚<span class="hljs-comment">----â”˜</span>
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p>ç”µæ¢¯æ°¸è¿œæ»¡è½½ï¼Œä½†ä»ä¸ç­‰äººï¼Œååé‡ â†‘â†‘</p>
<hr/>
<h2 data-id="heading-4">ç»“è®º</h2>
<p>äº‹ä»¶å¾ªç¯ä¸æ˜¯é­”æ³•ï¼Œåªæ˜¯æŠŠ**â€œç­‰ I/O çš„æ—¶é—´â€<strong>è½¬åŒ–ä¸º</strong>â€œè¿è¡Œå…¶ä»–ä»»åŠ¡çš„æ—¶é—´â€<strong>ï¼›<br/>
åœ¨å•çº¿ç¨‹é‡Œè®©</strong>å¤§é‡ I/O å¯†é›†ä»»åŠ¡äº¤æ›¿æ¨è¿›**ï¼Œ<br/>
æ—¢é¿å…äº†å¤šçº¿ç¨‹åˆ‡æ¢å¼€é”€ï¼Œåˆè¾¾åˆ°<strong>è¿‘ä¹çº¿æ€§çš„å¹¶å‘èƒ½åŠ›</strong>â€”â€”<br/>
è¿™å°±æ˜¯å®ƒæˆä¸º Node.jsã€Python asyncioã€FastAPI çµé­‚çš„åŸå› ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[RAGçŸ¥è¯†åº“è¿œè¿œæ²¡æœ‰ä½ æƒ³è±¡ä¸­çš„é‚£ä¹ˆç®€å•ï¼]]></title>    <link>https://juejin.cn/post/7591334208998031386</link>    <guid>https://juejin.cn/post/7591334208998031386</guid>    <pubDate>2026-01-04T15:14:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591334208998031386" data-draft-id="7591338980694261806" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="RAGçŸ¥è¯†åº“è¿œè¿œæ²¡æœ‰ä½ æƒ³è±¡ä¸­çš„é‚£ä¹ˆç®€å•ï¼"/> <meta itemprop="keywords" content="LLM"/> <meta itemprop="datePublished" content="2026-01-04T15:14:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ™ºæ³ŠAI"/> <meta itemprop="url" content="https://juejin.cn/user/3572727470361578"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            RAGçŸ¥è¯†åº“è¿œè¿œæ²¡æœ‰ä½ æƒ³è±¡ä¸­çš„é‚£ä¹ˆç®€å•ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3572727470361578/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ™ºæ³ŠAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T15:14:33.000Z" title="Sun Jan 04 2026 15:14:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>çŸ¥è¯†åº“ç³»ç»Ÿä½œä¸ºå¤§æ¨¡å‹åº”ç”¨çš„å…³é”®æ¨¡å—ï¼Œå§‹ç»ˆä¿æŒç€ä¸å¤§æ¨¡å‹çš„è§£è€¦ç‰¹æ€§ã€‚</p>
<p>æ­¤å‰æ–‡ä¸­æ›¾æ¢è®¨è¿‡çŸ¥è¯†åº“çš„æ„å»ºå›°å¢ƒï¼Œä¸å°‘è¯»è€…åé¦ˆå†…å®¹ç©ºæ³›ã€ç¼ºä¹å®æ“ä»·å€¼ã€‚</p>
<p>æ„å»ºçŸ¥è¯†åº“ï¼Œä»æ¥ä¸åªæ˜¯å·¥ç¨‹å®ç°çš„å‘½é¢˜ï¼Œæ›´æ˜¯ä¸€åœºè®¾è®¡å“²å­¦çš„æ€è¾¨ï¼šæŠ€æœ¯å±‚é¢ç¡®ä¿å…¶å¯éƒ¨ç½²ã€å¯è¿ç»´ï¼Œè€Œå“²å­¦å±‚é¢åˆ™é”šå®šå…¶é«˜å¯ç”¨æ€§ã€å¯æ‰©å±•æ€§ä¸è·¨ç³»ç»Ÿå…¼å®¹æ€§ã€‚</p>
<p>åœ¨AIæ—¶ä»£ç››è¡Œçš„ä»Šå¤©ï¼ŒçŸ¥è¯†åº“æ—©å·²è¶…è¶ŠRAGçš„è¾¹ç•Œï¼Œæˆä¸ºåº•å±‚çŸ¥è¯†åŸºç¡€è®¾æ–½ï¼›ç†è®ºä¸Šï¼Œå‡¡éœ€çŸ¥è¯†æ”¯æ’‘ä¹‹å¤„ï¼Œçš†æœ‰å…¶å­˜åœ¨â€”â€”æ— è®ºæ˜¯æ™ºèƒ½ä½“å†³ç­–ï¼Œè¿˜æ˜¯AIGCå†…å®¹ç”Ÿæˆï¼Œè«ä¸å¦‚æ­¤ã€‚</p>
<h2 data-id="heading-0">çŸ¥è¯†åº“çš„ä½œç”¨</h2>
<p>æˆ‘ä»¬æš‚ä¸”æç½®å„ç±»æŠ€æœ¯æ¡†æ¶ä¸åº”ç”¨ç†è®ºï¼Œå›å½’æ¨¡å‹æœ€æœ¬è´¨çš„åŸºåº§ï¼Œé‡æ–°å®¡è§†çŸ¥è¯†åº“ä¸ºä½•ä¸å¯æˆ–ç¼ºã€‚</p>
<p>äººå·¥æ™ºèƒ½çš„ç»ˆææ„¿æ™¯ï¼Œæ˜¯æ„å»ºä¸€ä¸ªèƒ½åƒäººç±»ä¸€æ ·åº”å¯¹å¤æ‚ä»»åŠ¡çš„æ™ºèƒ½ä½“ï¼›ä½†æ— è®ºäººè¿˜æ˜¯æœºå™¨ï¼Œèƒ½åŠ›çš†æœ‰è¾¹ç•Œï¼Œå¾€å¾€éœ€å€ŸåŠ›å¤–ç‰©æ‰èƒ½å®Œæˆç›®æ ‡â€”â€”æ­£å¦‚æˆ‘ä»¬è¸å…¥é™Œç”Ÿé¢†åŸŸæ—¶ï¼Œä¾èµ–ä¹¦ç±ç ”è¯»ã€å¸ˆè€…ç‚¹æ‹¨æ¥è·å–è®¤çŸ¥ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fyuan.zhipoai.cn%2F" target="_blank" title="https://yuan.zhipoai.cn/" ref="nofollow noopener noreferrer"><strong>æ›´å¤šAIå¤§æ¨¡å‹å­¦ä¹ è§†é¢‘åŠèµ„æºï¼Œéƒ½åœ¨æ™ºæ³ŠAIã€‚</strong></a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12e7138a3f2044279e162aee98de58c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768144473&amp;x-signature=OBEcw6nWtJFSxTPLLXsOCdWW%2BQw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™äº›å¤–éƒ¨ä¿¡æ¯ï¼Œå¯¹äººè€Œè¨€æ˜¯å­¦ä¹ çš„å…»åˆ†ï¼›å¯¹æ¨¡å‹è€Œè¨€ï¼Œåˆ™æ˜¯å…¶è‡ªèº«æ— æ³•æ‰¿è½½çš„â€œå¤–éƒ¨è®°å¿†â€ã€‚ç®¡ç†è¿™ç±»è®°å¿†ï¼Œæ­£éœ€è¦ä¸€ä¸ªçŸ¥è¯†åº“ç³»ç»Ÿï¼Œå¦‚åŒå›¾ä¹¦é¦†å…¸è—å…¸ç±ã€æ¡£æ¡ˆå®¤ä¿å­˜æ–‡çŒ®ã€‚</p>
<p>æ¨¡å‹äº¦ç„¶ã€‚çºµä½¿å‚æ•°è§„æ¨¡æŒç»­è†¨èƒ€ï¼Œå…¶å†…éƒ¨å­˜å‚¨ä»éæ— é™ï¼Œæ€»æœ‰çŸ¥è¯†æ— æ³•å†…åŒ–ã€‚ä»ç»æµæ€§ä¸æ•ˆç‡å‡ºå‘ï¼Œæ›´åˆç†çš„è·¯å¾„æ˜¯ï¼šè®©æ¨¡å‹ä¸“æ³¨æ ¸å¿ƒæ¨ç†èƒ½åŠ›ï¼Œè€Œåœ¨éœ€è¦æ—¶è°ƒç”¨å¤–éƒ¨çŸ¥è¯†ä¸å·¥å…·è§£å†³é—®é¢˜ã€‚æ— éœ€ä¸ºè§£ç­”â€œ1+1=2â€è€Œé‡å­¦å¾®ç§¯åˆ†ã€‚</p>
<p>ç”±æ­¤å¯å¾—ï¼šæ— è®ºæ¨¡å‹å½¢æ€å¦‚ä½•æ¼”è¿›ï¼ŒçŸ¥è¯†åº“éƒ½æ˜¯å…¶æ— æ³•ç»•å¼€çš„åŸºç¡€è®¾æ–½ã€‚</p>
<p>è®¤æ¸…è¿™ä¸€ç‚¹ï¼Œä¾¿ä¸éš¾ç†è§£â€”â€”æ— è®ºæ˜¯æ„å»ºRAGã€å¼€å‘æ™ºèƒ½ä½“ï¼Œè¿˜æ˜¯æ¨è¿›AIGCï¼ŒçŸ¥è¯†åº“å§‹ç»ˆæ˜¯åº•å±‚åˆšéœ€ã€‚</p>
<p>ä»å·¥ç¨‹è§†è§’çœ‹ï¼Œæˆ‘ä»¬å‘æ¨¡å‹è¾“å…¥ä»»åŠ¡éœ€æ±‚ä¸å‚è€ƒçŸ¥è¯†ï¼Œæ¨¡å‹æ®æ­¤ç†è§£æ„å›¾ã€ç”Ÿæˆå“åº”ï¼›è€Œè¿™äº›å‚è€ƒçŸ¥è¯†ï¼Œæ€»ä¸èƒ½æ¯æ¬¡ä¸´æ—¶æ£€ç´¢ã€ç°åœºæŸ¥æ‰¾å§ï¼Ÿ</p>
<p>äºæ˜¯ï¼Œä¸€ä¸ªç»“æ„åŒ–çš„çŸ¥è¯†åº“ç®¡ç†ç³»ç»Ÿåº”è¿è€Œç”Ÿï¼šå®ƒæ²‰æ·€å†å²çŸ¥è¯†ï¼Œç»„ç»‡å¯å¤ç”¨ä¿¡æ¯ã€‚å½“ç›¸ä¼¼é—®é¢˜å†åº¦å‡ºç°ï¼Œç³»ç»Ÿå¯ç›´æ¥è°ƒç”¨å·²æœ‰ç­”æ¡ˆï¼Œæ— éœ€é‡å¤åŠ³åŠ¨ã€‚è¿™ä¸ä»…æ‹“å±•äº†æ¨¡å‹çš„èƒ½åŠ›ä¸Šé™ï¼Œæ›´æ˜¾è‘—æå‡äº†å“åº”æ•ˆç‡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/578881e40e4849809b5b023534ae3ff2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768144473&amp;x-signature=w1ohvgkw0aqFyfoWPaoOyQbUXSM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é’ˆå¯¹å¤§æ¨¡å‹çš„å„ç±»åº”ç”¨åœºæ™¯ï¼ŒçŸ¥è¯†åº“ç®¡ç†ç³»ç»Ÿéƒ½æ˜¯ä¸å¯æˆ–ç¼ºçš„æ”¯æ’‘ç»„ä»¶ï¼›ä½†å…¶æ„å»ºåº”ç´§æ‰£å®é™…éœ€æ±‚çµæ´»é€‚é…ï¼Œæ— éœ€ä¹Ÿä¸åº”è¿½æ±‚é¢é¢ä¿±åˆ°ã€è§„æ¨¡åºå¤§ã€‚</p>
<p>æ¨¡å‹ä¸çŸ¥è¯†åº“ä¹‹é—´çš„å…³ç³»ï¼Œæ°å¦‚ä¸€ä½èƒ½åŠ›å‡ºä¼—çš„ä¸“å®¶ä¸å…¶ä¸“å±åå‹¤å›¢é˜Ÿï¼šæ¨¡å‹è´Ÿè´£å†³ç­–ä¸è¾“å‡ºï¼ŒçŸ¥è¯†åº“åˆ™æŒç»­ä¾›ç»™ç²¾å‡†ã€åŠæ—¶çš„èµ„æºæ”¯æŒï¼ŒäºŒè€…ååŒè¿ä½œï¼Œæ‰èƒ½å‚¬ç”Ÿå‡ºè¿œè¶…æ¨¡å‹å•ä½“èƒ½åŠ›çš„æ™ºèƒ½ä½“ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fyuan.zhipoai.cn%2F" target="_blank" title="https://yuan.zhipoai.cn/" ref="nofollow noopener noreferrer"><strong>æ›´å¤šAIå¤§æ¨¡å‹å­¦ä¹ è§†é¢‘åŠèµ„æºï¼Œéƒ½åœ¨æ™ºæ³ŠAIã€‚</strong></a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2026 æ˜¥æ¶§Â·å‰ç«¯èµ°å‘å…¨æ ˆ]]></title>    <link>https://juejin.cn/post/7591510742634283071</link>    <guid>https://juejin.cn/post/7591510742634283071</guid>    <pubDate>2026-01-04T15:22:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591510742634283071" data-draft-id="7591334602427269183" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2026 æ˜¥æ¶§Â·å‰ç«¯èµ°å‘å…¨æ ˆ"/> <meta itemprop="keywords" content="å…¨æ ˆ,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-04T15:22:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‰›å¥¶"/> <meta itemprop="url" content="https://juejin.cn/user/1169536100866487"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2026 æ˜¥æ¶§Â·å‰ç«¯èµ°å‘å…¨æ ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536100866487/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‰›å¥¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T15:22:51.000Z" title="Sun Jan 04 2026 15:22:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">2026 æ˜¥æ¶§Â·å‰ç«¯èµ°å‘å…¨æ ˆ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/becd400be9584391993b37b521b6687a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54mb5aW2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768144971&amp;x-signature=S3Pi0czXxYMlgA7vTu8DGSCQwgo%3D" alt="æ˜¥æ¶§æ„å¢ƒ - æ°´å¢¨å±±æ°´ä¸æ¢…é›¨" loading="lazy"/></p>
<p><code>â€œæˆ‘é†‰å€šæ¥¼å°ç¿å¤´è¯·é…’æ­£è±ªè¿ˆâ€¦â€¦äººç”Ÿå°‘æœ‰å¿«å“‰ä½•é¡»è®ºæˆè´¥â€</code></p>
<p>2025ï¼Œæˆ‘ç»ˆäºä»<code>â€œé—²å¬æ¢…é›¨çª—å¤–â€</code>çš„å‰ç«¯èˆ’é€‚åŒºï¼Œè¸‰è·„ç€é†‰å…¥äº†å…¨æ ˆçš„æ˜¥æ¶§ã€‚</p>
<h3 data-id="heading-1">æ¸…æ„åˆå¼€</h3>
<p>2025ï¼Œå‰ç«¯çš„æ ¸å¿ƒå™äº‹å¯æ¦‚æ‹¬ä¸º â€œå…¨æ ˆåŒ–â€ä¸â€œæ€§èƒ½ä¼˜å…ˆâ€çš„åŒé‡é©±åŠ¨ï¼š</p>
<p><strong>å‰ç«¯å…¨æ ˆåŒ–</strong> ä¸ <strong>æ€§èƒ½ä¼˜å…ˆ</strong>ã€‚</p>
<p>å…ƒæ¡†æ¶ï¼ˆ<code>Next.js</code>ã€<code>Nuxt</code>ã€<code>SvelteKit</code>ï¼‰å·²æˆä¸ºæ–°é¡¹ç›®çš„å‘¼å¸èµ·ç‚¹ã€‚</p>
<p>å¼€å‘è€…ä¸å†åªå†™ç»„ä»¶ï¼Œè€Œæ˜¯ç›´æ¥è®¾è®¡å…¨æ ˆæ¶æ„ã€‚</p>
<p><strong><code>â€œæœåŠ¡å™¨ä¼˜å…ˆâ€å½»åº•èƒœå‡º</code></strong>ã€‚</p>
<p><code>React Server Components</code>ã€Nuxt 3ã€streaming SSRâ€¦â€¦</p>
<p>æœåŠ¡ç«¯æ‰¿è½½æ¸²æŸ“ä¸é€»è¾‘ï¼Œå®¢æˆ·ç«¯è´Ÿæ‹…éª¤å‡ï¼Œå®‰å…¨æ€§ä¸æ ¸å¿ƒæŒ‡æ ‡ï¼ˆLCPã€TTIï¼‰æš´æ¶¨ã€‚</p>
<p>æ€§èƒ½æˆäº†å”¯ä¸€ä¿¡ä»°ã€‚</p>
<p>ç»“æœå¾ˆæ®‹é…·ï¼Œå´å¾ˆç¾ï¼š</p>
<ul>
<li>
<p><code>Rust/GO</code> å·¥å…·é“¾å…¨é¢å´›èµ·ï¼Œ<code>Turbopack</code>ï¼ˆNext.js 15 é»˜è®¤ï¼‰å¸¦æ¥ 700x æ›´å¿« HMRï¼Œ<code>Vite</code>/<code>Rspack</code>è®© <code>Webpack</code> æˆä¸ºä¸Šå¤ä¼ è¯´ã€‚</p>
</li>
<li>
<p><code>â€œå²›å±¿æ¶æ„â€</code>ï¼ˆAstroã€Qwikï¼‰å¸­å·å†…å®¹å‹ç«™ç‚¹ï¼Œé›¶/æå°‘ JS é»˜è®¤ï¼Œç¬æ—¶åŠ è½½æˆä¸ºæ ‡é…ã€‚</p>
</li>
</ul>
<p><strong>AI ä»è¾…åŠ©å˜æˆåŸºçŸ³</strong>ã€‚</p>
<p><code>Cursor</code>ã€<code>Claude</code> ç­‰ AI å·¥å…· æ·±åº¦åµŒå…¥ç¼–ç ã€é‡æ„ã€è°ƒè¯•ï¼Œé—®é¢˜è§£å†³æ–¹å¼å·²å˜å¤©ã€‚</p>
<p><code>TypeScript</code> æ— éœ€è®¨è®ºï¼Œå·²æˆåº•å±‚é“å¾‹ã€‚</p>
<p>è€Œå¸‚åœºæœ€åˆºè€³çš„ä¸€å¥å®è¯æ˜¯ï¼š</p>
<p><code>â€œæˆ‘ä»¬æƒ³è¦ä¸€ä¸ªäººå…¨æå®šã€‚â€</code></p>
<p>çº¯å‰ç«¯çš„ä½“é¢è¿˜åœ¨ï¼Œå´è¶Šæ¥è¶Šåƒ</p>
<p>â€œæ¬ äºŒä¸¤ç¬”å¢¨å€ºï¼Œé—²å¬æ¢…é›¨çª—å¤–â€â€”â€”</p>
<p>é£é›…æœ‰ä½™ï¼Œé”‹èŠ’æ¸å¤±ã€‚</p>
<p>å¹´åº•ï¼Œ<strong>æˆ‘åˆæ¢äº†ä¸€ä»½å·¥ä½œï¼ˆå¸‚åœºè¡Œæƒ…ä¾æ—§ä¸å¥½å•Šï¼‰</strong>ï¼Œæ¢äº†ä¸€ä»½è¦æ±‚<code>â€œèƒ½å‰åç«¯é€šåƒâ€</code>çš„å·¥ä½œã€‚</p>
<p>ä»é‚£ä¸€åˆ»èµ·ï¼ŒçœŸæ­£çš„æ˜¥æ¶§ä¹‹æ—…å¼€å§‹äº†ã€‚</p>
<h3 data-id="heading-2">é£èŠ±é›ªæœˆå…¥æ ˆ</h3>
<p><code>è½¬å‹</code>ä»æ¥ä¸æ˜¯è¯—å’Œè¿œæ–¹ï¼Œè€Œæ˜¯åˆšèµ·æ­¥çš„è¿·é›¾ä¸æ·±å¤œçš„å’–å•¡ã€‚</p>
<p>2025 å¹´åº•ï¼Œæˆ‘ç»ˆäºé¼“èµ·å‹‡æ°”ï¼š</p>
<p>ä»ç†Ÿæ‚‰çš„ React ç»„ä»¶ä¸–ç•Œï¼Œè¿ˆå‘<code>å…¨æ ˆ</code>å’Œ<code>é‡æ„è¿œç¨‹è¿ç»´ç¡¬ä»¶è®¾å¤‡æ§åˆ¶åº”ç”¨</code>çš„æœªçŸ¥å±±æµ·ã€‚</p>
<p>æ¡†æ¶æ­å¥½äº†â€”â€”<code>NestJs + Vue3 + TypeORM + WebSocket + MQTT</code> çš„åŸºæœ¬éª¨æ¶ï¼Œ</p>
<p>MQTT è¿ä¸Šäº†ï¼Œç¬¬ä¸€ä¸ª <code>è®¾å¤‡ä¿¡æ¯æŸ¥è¯¢</code> æ¥å£ä¹Ÿè·‘é€šäº†ã€‚</p>
<p>ä½†åé¢å‘¢ï¼Ÿ</p>
<p>è¿œç¨‹è®¾å¤‡çš„ AI å¼‚å¸¸è¯Šæ–­æ€ä¹ˆåšï¼Ÿ</p>
<p>è®¾å¤‡è‡ªå®šä¹‰æ“ä½œæ€ä¹ˆåšä¸²å‹é“¾è·¯å’Œäº’æ–¥çš„å®‰å…¨æ§åˆ¶ï¼Ÿ</p>
<p>éƒ¨ç½²ä¸Šäº‘è¦è¸©å¤šå°‘å‘ï¼Ÿ</p>
<p><code>æŠ¥é”™</code>ã€<code>å¤±è´¥</code>â€¦â€¦æ¯ä¸€æ¬¡è°ƒè¯•éƒ½åƒåœ¨é›¨å¤œé‡Œæ‘¸é»‘å‰è¡Œï¼Œå¿ƒåº•é‚£å¥<code>â€œäººé—´æ¸…æ„â€</code>åˆå›æ¥äº†ã€‚</p>
<p>æœ‰æ—¶å€™ç›¯ç€æŠ¥é”™çš„æ§åˆ¶å°ï¼Œçªç„¶å°±æƒ³é—®è‡ªå·±ï¼š</p>
<p>â€œæˆ‘çœŸçš„èƒ½èµ°ä¸‹å»å—ï¼Ÿâ€</p>
<p>ä½†å¥‡æ€ªçš„æ˜¯ï¼Œæ¯è§£å†³ä¸€ä¸ªå°é—®é¢˜â€”â€”</p>
<p>å“ªæ€•åªæ˜¯æŠŠ æ¥å£è°ƒç”¨ æ”¹å¯¹ä¸€æ¬¡ï¼Œæ¥å£è¿”å›äº†é¢„æœŸæ•°æ®ï¼Œ</p>
<p>å¿ƒé‡Œçš„<code>â€œé£èŠ±é›ªæœˆâ€</code>å°±å·å·å¤šäº†ä¸€åˆ†ã€‚</p>
<p>ä¸æ˜¯ä»€ä¹ˆå¤§æˆå°±ï¼Œåªæ˜¯é‚£ç§â€œåŸæ¥æˆ‘èƒ½å¾€å‰æŒªä¸€æ­¥â€çš„å¾®é†ºæ„Ÿã€‚</p>
<p>ç°åœ¨æˆ‘æ‰æ˜ç™½ï¼Œå…¨æ ˆä¸æ˜¯ä¸€ä¸‹å­å°±â€œå…¥æ ˆâ€ï¼Œè€Œæ˜¯åƒé†‰é…’ä¸€æ ·ï¼Œä¸€å£ä¸€å£åœ°å–ä¸‹å»ã€‚</p>
<p>å…ˆæŠŠæ¡†æ¶è·‘é€šï¼Œå†è¡¥è®¤è¯ï¼Œå†åŠ ä¸ªçœŸå®çš„å°åŠŸèƒ½â€¦â€¦</p>
<p>æœªçŸ¥å¾ˆå¤šï¼Œä½†æ¯å¤šçŸ¥é“ä¸€ç‚¹ï¼Œå±±æµ·å°±è¿‘ä¸€ç‚¹ã€‚</p>
<h3 data-id="heading-3">2026ï¼Œä¸€èµ·é†‰å…¥æ˜¥æ¶§</h3>
<p>2026 å¹´ 1 æœˆï¼Œæˆ‘è¿˜ç«™åœ¨æ˜¥æ¶§å…¥å£ã€‚</p>
<p>æ¡†æ¶åˆšæ­å¥½ï¼Œè·¯è¿˜æ¨¡ç³Šï¼Œç–‘æƒ‘æ¯”ç­”æ¡ˆå¤šå¾—å¤šã€‚</p>
<p>ä½†æˆ‘å·²ç»é†‰äº†â€”â€”é†‰åœ¨<code>â€œæ•¢è¿ˆå‡ºè¿™ä¸€æ­¥â€</code>çš„è±ªè¿ˆé‡Œã€‚</p>
<p>2026 å¹´çš„å‰ç«¯æœ‹å‹ï¼Œå¦‚æœä½ ä¹Ÿå¬è§äº†é‚£åœºæ¢…é›¨ï¼Œ</p>
<p>å¦‚æœä½ ä¹Ÿå¼€å§‹æ€€ç–‘<code>â€œçº¯å‰ç«¯è¿˜èƒ½èµ°å¤šè¿œâ€</code>ï¼Œ</p>
<p>å¦‚æœä½ ä¹Ÿåˆšæ­å¥½æ¡†æ¶ï¼Œå´è¢«ä¸€å †æœªçŸ¥å“ä½â€”â€”</p>
<p>åˆ«æ€•ã€‚</p>
<p>ä»ä»Šå¤©å¼€å§‹ï¼Œå“ªæ€•åªå¤šå†™ä¸€ä¸ªæ¥å£ã€å¤š <code>debug</code> ä¸€æ¬¡æŠ¥é”™ã€å¤šçœ‹ä¸€ç¯‡æ–‡æ¡£ï¼Œ</p>
<p>å“ªæ€•åªå¤šä¼š 5%ï¼Œ</p>
<p>ä½ å°±å·²ç»æ¯”æ˜¨å¤©æ›´é è¿‘</p>
<p><code>ä¸‹æ¦»å±±æµ·ï¼Œé£èŠ±é›ªæœˆå…¥æˆ‘æ€€</code>ã€‚</p>
<p><code>äººç”Ÿå°‘æœ‰å¿«å“‰ï¼Œä½•é¡»è®ºæˆè´¥</code>ã€‚</p>
<p>æ¥å§ï¼Œä¸€èµ·åœ¨è¿™åœºæ˜¥æ¶§é‡Œï¼Œæ…¢æ…¢é†‰ï¼Œæ…¢æ…¢èµ°ã€‚</p>
<p>ï¼ˆ2026.1.4 åŠå¤œ Â· äºå‡ºå·®çš„æŸä¸ªé…’åº—ï¼‰</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI æœ‰ä½ æƒ³ä¸åˆ°ï¼Œä¹Ÿå®ƒæœ‰åšä¸åˆ° | 2025 å¹´æ·±åº¦ä½¿ç”¨ Cursor/Trae/CodeX æ‰€å¾—åæ¡ç»éªŒ]]></title>    <link>https://juejin.cn/post/7591510742634315839</link>    <guid>https://juejin.cn/post/7591510742634315839</guid>    <pubDate>2026-01-04T15:23:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591510742634315839" data-draft-id="7591510742634266687" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI æœ‰ä½ æƒ³ä¸åˆ°ï¼Œä¹Ÿå®ƒæœ‰åšä¸åˆ° | 2025 å¹´æ·±åº¦ä½¿ç”¨ Cursor/Trae/CodeX æ‰€å¾—åæ¡ç»éªŒ"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,ä»£ç è§„èŒƒ"/> <meta itemprop="datePublished" content="2026-01-04T15:23:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Piperè›‹çª"/> <meta itemprop="url" content="https://juejin.cn/user/844050443272557"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI æœ‰ä½ æƒ³ä¸åˆ°ï¼Œä¹Ÿå®ƒæœ‰åšä¸åˆ° | 2025 å¹´æ·±åº¦ä½¿ç”¨ Cursor/Trae/CodeX æ‰€å¾—åæ¡ç»éªŒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/844050443272557/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Piperè›‹çª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T15:23:57.000Z" title="Sun Jan 04 2026 15:23:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å»å¹´çš„ä»Šå¤©ï¼Œæˆ‘è¿˜åœ¨å¥‹ç¬”ç–¾ä¹¦åœ°å†™ç€ VS Code + Roo Cline çš„è¯„æµ‹å¿ƒå¾—ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FUdSThZX69c8CXkEw48Vy_w" target="_blank" title="https://mp.weixin.qq.com/s/UdSThZX69c8CXkEw48Vy_w" ref="nofollow noopener noreferrer">ä¸ªäººè¯„æµ‹ | Cursor å…è´¹å¹³æ›¿ï¼šRoo Cline + DeepSeek-v3/Gemini-2.0 + RepoPrompt AI è¾…åŠ©ç¼–ç¨‹</a> ã€‚å½“æ—¶çš„æˆ‘æ²¡æœ‰æƒ³è¿‡ï¼šåœ¨ 2025 å¹´ï¼Œ Roo Cline ä¼šè¢«æˆ‘è¿…é€Ÿæ·˜æ±°ï¼Œæˆ‘ä¹Ÿæˆä¸ºäº† Cursor è¿™ç±» Vibe Coding å·¥å…·çš„ç¨³å®šç”¨æˆ·ä¹‹ä¸€ã€‚</p>
<p>ç«™åœ¨ 2026 å¹´ä¼Šå§‹çš„èŠ‚ç‚¹ä¸Šï¼Œå®¡è§†è‡ªå·±çš„å·¥ä½œæµï¼Œå‘ç°å·²ç»å®Œå…¨è¢«é”šå®šåœ¨äº†å¦‚ä¸‹å·¥å…·é“¾ä¸Šï¼š</p>
<ul>
<li>å¯¹è¯å·¥å…·ï¼š ChatGPT 5.2 + Gemini 3 Pro</li>
<li>Vibe Coding ï¼š å·¥ä½œç”¨ Cursor ï¼Œä¸ªäººå­¦ä¹ ç”¨ Trae å›½é™…ç‰ˆ + CodeX ï¼Œè¾…ä»¥ VS Code + GitHub Copliot</li>
</ul>
<p>å…¶ä¸­æˆ‘ä»…ä¸º ChatGPT å’Œ Trae ä»˜è¿‡è´¹ï¼ˆ ChatGPT èµ é€ CodeX è®¢é˜…ï¼‰ï¼Œ GitHub Copliot ä½¿ç”¨çš„å…è´¹é¢åº¦ï¼ˆæ¯ä¸ªæœˆå¯è°ƒç”¨æ¬¡æ•°ä¸å¤šï¼‰ã€‚</p>
<p>æœ¬æ–‡ä¸­ï¼Œæˆ‘æŠŠ 2025 å¹´ä¸€å¹´çš„ç»éªŒæ€»ç»“æˆåæ¡ï¼Œå¸Œæœ›èƒ½å¤Ÿå¼•èµ·è®¨è®ºï¼Œå…±åŒäº¤æµå­¦ä¹ ã€‚</p>
<h3 data-id="heading-0">ï¼ˆä¸€ï¼‰èŠå¤© AI æ²¡æœ‰è¢«æ·˜æ±°ï¼ŒæŸäº›æƒ…å†µä¸‹ï¼Œå®ƒä»¬æ›´å¥½ç”¨</h3>
<p>å¾ˆå¤šæœ‹å‹åœ¨æ‹¿åˆ° Cursor æˆ– Trae è¿™ç§ IDE åï¼Œå®¹æ˜“å…»æˆä¸€ç§ä¹ æƒ¯ï¼šä¸€å¤´æ‰è¿›å…·ä½“çš„ä»£ç æ–‡ä»¶ä¸­ï¼Œè¯•å›¾ç”¨ Tab å’Œ CMD+K è§£å†³æ‰€æœ‰é—®é¢˜ã€‚ä½†ç»è¿‡è¿™ä¸€å¹´çš„å®è·µï¼Œæˆ‘å‘ç°ç½‘é¡µç‰ˆçš„èŠå¤©å‹ AI å’Œ IDE è°ƒç”¨çš„ API æ¨¡å‹æ˜¯æœ‰æœ¬è´¨åŒºåˆ«çš„ã€‚</p>
<p>é¦–å…ˆæ˜¯æ¨¡å‹çš„å¯æ§æ€§ã€‚IDE æ¥å…¥çš„æ¨¡å‹å¾€å¾€ä¸ºäº†ä»£ç ç”Ÿæˆåšè¿‡å¾®è°ƒï¼Œä½†åœ¨é€»è¾‘æ·±åº¦ä¸Šï¼ŒChatGPT 5.2 çš„ Thinking Extended Thinking æ¨¡å¼æˆ–è€… Gemini 3 Pro çš„æ¨ç†æ¨¡å¼ï¼Œæ˜¾ç„¶æ¯” Cursor çš„ Agent æ›´åŠ æ·±æ€ç†Ÿè™‘ã€‚</p>
<p>æ›´å…³é”®çš„æ˜¯ä¸Šä¸‹æ–‡çš„ç®¡ç†ã€‚å½“ä½ éœ€è¦è¿›è¡Œå®è§‚æ¶æ„è®¾è®¡æ—¶ï¼ŒIDE çš„ RAG æ£€ç´¢æœ‰æ—¶ä¼šæ˜¾å¾—è¿‡äºç¢ç‰‡åŒ–ã€‚æˆ‘çš„åšæ³•æ˜¯ï¼Œåˆ©ç”¨ <code>git archive --format=zip HEAD -o project.zip</code> å°†é¡¹ç›®æ‰“åŒ…ã€‚è¿™ä¸ªå‘½ä»¤çš„å¥½å¤„åœ¨äºå®ƒåªæ‰“åŒ… Git è¿½è¸ªçš„æ–‡ä»¶ï¼Œè‡ªåŠ¨æ’é™¤äº† <code>node_modules</code> å’Œä¸´æ—¶æ•°æ®ã€‚æŠŠè¿™ä¸ªå‹ç¼©åŒ…æ‰”ç»™ ChatGPTï¼Œå®ƒç°åœ¨çš„è™šæ‹Ÿæœºèƒ½åŠ›éå¸¸å¼ºï¼Œå¯ä»¥è‡ªè¡Œè§£å‹ã€æœ‰é€‰æ‹©åœ°é˜…è¯»æ–‡ä»¶ã€‚</p>
<p>ç›¸æ¯”äºåœ¨ IDE é‡Œæ•²æ•²æ‰“æ‰“ï¼ŒChatGPT è¿™ç±»å·¥å…·æ›´é€‚åˆåšâ€œé¡¶å±‚è®¾è®¡â€ã€‚æ¯”å¦‚æŠ€æœ¯é€‰å‹å’Œå¼€å‘è·¯çº¿åˆ¶å®šï¼Œå®ƒçš„ Web Searching èƒ½åŠ›æ¯” IDE çš„ Agent æ›´å¹¿æ›´æ·±ï¼›å†æ¯”å¦‚é¡¹ç›®åˆå§‹åŒ–ï¼Œä½ å¯ä»¥ç›´æ¥è®©å®ƒç”Ÿæˆä¸€ä¸ªåŒ…å«å®Œæ•´ç›®å½•ç»“æ„çš„ zip åŒ…ï¼Œç”šè‡³é¡ºä¾¿ç”»å‡º mermaid æµç¨‹å›¾ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b12f2c46458d4e1a964a2417ba0055d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUGlwZXLom4vnqp0=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768145037&amp;x-signature=tgCxI0tfvpISS9k3Jnvr9PLRAyE%3D" alt="å–„äºä½¿ç”¨åˆ†æ”¯" loading="lazy"/></p>
<p>è€Œåœ¨æ•°å­¦è®¡ç®—å’Œå¤æ‚ç®—æ³•æ¨å¯¼ä¸Šï¼ŒèŠå¤© AI æ›´æ˜¯é™ç»´æ‰“å‡»ã€‚æˆ‘è‡ªå·±ç ”ç©¶æ²¹æ°”ç®¡é“è°ƒåº¦é—®é¢˜æ—¶ï¼Œå°±å¸¸æŠŠåŸå§‹æ•°æ®æ‰“åŒ…ä¸Šä¼ ï¼Œåˆ©ç”¨ ChatGPT çš„è¶…é•¿æ€è€ƒæ—¶é—´ï¼Œç»“åˆâ€œåˆ†æ”¯èŠå¤©â€ç­–ç•¥ï¼ŒåŒæ—¶æ¢ç´¢æ•´æ•°è§„åˆ’ã€åŠ¨æ€è§„åˆ’å’Œå¼ºåŒ–å­¦ä¹ ä¸‰æ¡è·¯çº¿ã€‚è¿™ç§å·¥ç¨‹å®è·µçš„ç¬¬ä¸€æ­¥ï¼Œç›®å‰çš„ IDE è¿˜åšä¸åˆ°è¿™ä¹ˆå¥½ã€‚</p>
<h3 data-id="heading-1">ï¼ˆäºŒï¼‰å–„äºä½¿ç”¨ workspace æ¦‚å¿µï¼Œä¸è¦æµªè´¹ç±» Cursor å·¥å…·çš„ RAG index</h3>
<p>Cursor å’Œ Trae è¿™ç±»å·¥å…·çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºäº‘ç«¯ç´¢å¼•ï¼ˆIndexï¼‰ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒä»¬æŠŠä½ çš„ä»£ç â€œè¯»â€äº†ä¸€éå¹¶å»ºç«‹äº†ä¸€ä¸ªå‘é‡æ•°æ®åº“ã€‚è¿™æ„å‘³ç€åœ¨ Agent Chat ä¸­ï¼Œä½ ä¸éœ€è¦ç¬¨æ‹™åœ°æŠŠç¬¬ 1 è¡Œåˆ°ç¬¬ 50 è¡Œä»£ç å¤åˆ¶è¿›å»ï¼Œåªéœ€ <code>@</code> ä¸€ä¸‹ç›¸å…³æ–‡ä»¶ï¼ŒAgent å°±èƒ½é€šè¿‡ç´¢å¼•ç†è§£ä¸Šä¸‹æ–‡ï¼Œæ—¢é«˜æ•ˆåˆèŠ‚çœ tokensã€‚</p>
<p>ä½†åœ¨ Cursor / Trae ä¼¼ä¹å¿½ç•¥äº† VS Code ç¥–ä¼ çš„ <code>workspace</code> åŠŸèƒ½ï¼Œå¯¼è‡´ IDE æ— æ³•ç†è§£å¤šæ¨¡å—é¡¹ç›®çš„å…³ç³»ã€‚Cursor å¦‚æœæ‰¾ä¸åˆ°æ˜ç¡®çš„ root ç›®å½•ï¼Œæœç´¢å’Œç´¢å¼•çš„æ•ˆæœå°±ä¼šå¤§æ‰“æŠ˜æ‰£ã€‚</p>
<p>æˆ‘ç°åœ¨çš„ä¹ æƒ¯æ˜¯æ„å»ºä¸€ä¸ªâ€œæ‰‹åŠ¨çš„ workspaceâ€ã€‚å³ä½¿æ˜¯å‰åç«¯åˆ†ç¦»çš„é¡¹ç›®ï¼Œæˆ‘ä¹Ÿä¼šæŠŠå®ƒä»¬æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ï¼Œæ¯”å¦‚åˆ›å»ºä¸€ä¸ª <code>_workspace</code> æ–‡ä»¶å¤¹ï¼Œé‡Œé¢åŒ…å« <code>.cursorrules</code>ã€<code>frontend</code>ã€<code>backend</code> å’Œ <code>openapi</code> ç›®å½•ã€‚</p>
<p>ä¸è¦å•ç‹¬æ‰“å¼€ frontend å†™å‰ç«¯ï¼Œç›´æ¥ç”¨ Cursor æ‰“å¼€ <code>_workspace</code>ã€‚è¿™æ ·åœ¨è¿›è¡Œå‰åç«¯è”è°ƒæ—¶ï¼ŒCursor èƒ½å¤ŸåŒæ—¶ç´¢å¼•ä¸¤ç«¯çš„ä»£ç ï¼Œç†è§£æ¥å£å®šä¹‰å’Œä¸šåŠ¡é€»è¾‘çš„å…³è”ã€‚ä½ å¯ä»¥åœ¨ <code>.cursorrules</code> ä¸­æ˜ç¡®è¿™æ˜¯ä¸€ä¸ª monorepoï¼Œå‘Šè¯‰ AI å‰ç«¯ç”¨ pnpmï¼Œåç«¯ç”¨ Python 3.12ï¼Œç”šè‡³å†™æ˜â€œè°ƒè¯•å‰è¯·è¿è¡Œ <code>source ./backend/env/bin/activate</code>â€ã€‚è¿™äº›ç¯å¢ƒä¸Šä¸‹æ–‡çš„æ³¨å…¥ï¼Œèƒ½è®© AI å°‘é—®å¾ˆå¤šå‚»é—®é¢˜ï¼Œæå¤§åœ°æå‡ä¸€æ¬¡æ€§ä»£ç é€šè¿‡ç‡ã€‚</p>
<h3 data-id="heading-2">ï¼ˆä¸‰ï¼‰MCP ã€ Rule è¿˜æ˜¯ Skill ï¼Ÿæ¨¡å‹è¶Šæ¥è¶Šå¼ºï¼Œè¿™ç±»æŠ€æœ¯åœ¨è¢«æ·˜æ±°ï¼Œé€‚åˆé¡¹ç›®çš„æ‰æ˜¯æœ€å¥½çš„</h3>
<p>è®°å¾— 2024 å¹´æœ«ï¼ŒMCPï¼ˆModel Context Protocolï¼‰ æ¦‚å¿µç«å¾—ä¸€å¡Œç³Šæ¶‚ã€‚è€Œç°åœ¨ï¼Œ Claude ä¹Ÿåœ¨æ¨å¹¿ Skill ã€‚ä½†åˆ°äº†ç°åœ¨ï¼Œä½ ä¼šå‘ç°è¿™äº›å¤æ‚çš„æŠ€å·§æ­£åœ¨è¢«è¾¹ç¼˜åŒ–ã€‚æœ¬è´¨åŸå› æ˜¯æ¨¡å‹æœ¬èº«å˜å¼ºäº†ï¼Œå¼ºåˆ°ä¸å†éœ€è¦é‚£ä¹ˆå¤šæ‹æ–ã€‚</p>
<p>MCP è™½ç„¶å¯ä»¥å®‰å…¨åœ°è¿æ¥æ•°æ®åº“ï¼ˆæ¯”å¦‚é™åˆ¶åªè¯»æƒé™ç­‰ç­‰ï¼‰ï¼Œä½†é…ç½®èµ·æ¥ä¾ç„¶ç¹çï¼Œä¸”ç”Ÿæ€æœ¬èº«çš„å®‰å…¨æ€§ä¹Ÿå¹¶éæ— æ‡ˆå¯å‡»ã€‚æ•°æ¬¡å°è¯•åï¼Œæˆ‘å‘ç°æœ€æœ´ç´ çš„æ–¹æ¡ˆåè€Œæ˜¯æœ€æœ‰æ•ˆçš„ï¼šè®© AI åŸºäºä½ çš„ä¸šåŠ¡ä»£ç ï¼Œå†™ä¸€å¥— Python æˆ– Shell è„šæœ¬å·¥å…·ã€‚</p>
<p>æ¯”å¦‚ï¼Œä¸å…¶é…ç½®å¤æ‚çš„ MCP å»æŸ¥è¯¢è®¢å•ï¼Œä¸å¦‚è®© AI å†™ä¸€ä¸ª <code>scripts/get_order_info.py</code>ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¾è€Œæ˜“è§ï¼šä½ è‡ªå·±èƒ½ç”¨ï¼ŒAI ä¹Ÿèƒ½ç”¨ã€‚å½“ä½ éœ€è¦è¿›è¡Œå¤æ‚æµ‹è¯•æ—¶ï¼Œç›´æ¥å‘Šè¯‰ AIï¼šâ€œä½ å¯ä»¥å¹¶è¡Œè°ƒç”¨ <code>scripts/send_test_orders.py</code> å’Œ <code>scripts/listen_mock_executions.py</code>â€ã€‚è¿™å…¶å®å°±æ˜¯ä¸€ç§å®šåˆ¶åŒ–çš„ã€ä½æˆæœ¬çš„ MCPï¼Œè€Œä¸”å®Œå…¨æŒæ¡åœ¨ä½ è‡ªå·±çš„ä»£ç ä»“åº“é‡Œã€‚å½“ç„¶ï¼Œè®°å¾—åœ¨è¿è¡Œå‰æ£€æŸ¥ä¸€ä¸‹ AI ç”Ÿæˆçš„è„šæœ¬ï¼Œå®‰å…¨æ„è¯†ä¸èƒ½ä¸¢ã€‚</p>
<h3 data-id="heading-3">ï¼ˆå››ï¼‰ç»™å‡ºå…·ä½“çš„ä»»åŠ¡ï¼Œ AI ä¸æ˜¯æˆ‘ä»¬å·æ‡’çš„å€Ÿå£ï¼Œè€Œæ˜¯æˆ‘ä»¬æ•ˆç‡çš„ä¹˜æ•°</h3>
<p>åˆ†äº«ä¸€ä¸ªçœŸå®çš„ç¿»è½¦æ¡ˆä¾‹ï¼šå‰æ®µæ—¶é—´æœ‰æœ‹å‹æŠŠä¸€ä»½ Word æ ¼å¼çš„ç®€å†æ‰”ç»™ Cursorï¼Œæ¨¡å‹é€‰çš„ Claude Opus 4.5ï¼Œåªç»™äº†ä¸€å¥æŒ‡ä»¤ï¼šâ€œå¸®æˆ‘è½¬æˆ HTMLâ€ã€‚</p>
<p>ç»“æœ AI æå¾—ä¸€å›¢ç³Ÿã€‚å› ä¸ºå®ƒä¸ç†è§£è¿™ä¸ª HTML æ˜¯è¦ç”¨æ¥åšé™æ€å±•ç¤ºï¼Œè¿˜æ˜¯è¦éƒ¨ç½²åˆ°æŸä¸ªå…·ä½“æœåŠ¡ä¸­ã€‚ä¸ºäº†â€œå®Œæˆä»»åŠ¡â€ï¼ŒAI ç”šè‡³ä¸çŸ¥é“ä»å“ªææ¥äº†ä¸€ä¸ªå…¬æœ‰äº‘å¯¹è±¡å­˜å‚¨çš„ Token ï¼ŒæŠŠç®€å†é‡Œçš„ç…§ç‰‡ä¸Šä¼ åˆ°äº†æŸä¸ªä¸çŸ¥åçš„ OSS ä¸Šï¼Œæƒ³åˆ éƒ½åˆ ä¸æ‰ï¼Œç®€ç›´ä»¤äººå•¼ç¬‘çš†éã€‚</p>
<p>è¿™ä¸ªæ•™è®­å‘Šè¯‰æˆ‘ä»¬ï¼ŒAI åªæ˜¯å·¥å…·ï¼Œå†³ç­–è¿˜å¾—é äººã€‚æ­£ç¡®çš„æ–¹å¼åº”è¯¥æ˜¯å…ˆæ˜ç¡®éœ€æ±‚ï¼šè¿™ä¸ª HTML è¦æ”¾åœ¨å“ªé‡Œï¼Ÿæ˜¯å•é¡µé™æ€åº”ç”¨è¿˜æ˜¯åµŒå…¥å¼ç»„ä»¶ï¼Ÿç„¶åï¼Œåˆ©ç”¨ PLAN æ¨¡å¼æˆ–è€…å…ˆé—® Chat AIï¼šâ€œæˆ‘æƒ³æŠŠ Word è½¬ HTMLï¼Œç›®å‰æœ‰å“ªäº›æˆç†Ÿå·¥å…·ï¼Ÿlatex2html è¿˜æ˜¯ pandocï¼Ÿæˆ–è€…å…ˆè½¬ Markdown å†ç”Ÿæˆ HTMLï¼Ÿâ€</p>
<p>å½“æˆ‘ä»¬æ˜ç¡®äº†æŠ€æœ¯è·¯å¾„ï¼ˆæ¯”å¦‚ Word -&gt; Markdown -&gt; HTMLï¼‰åï¼Œå†è®© IDE å»æ‰§è¡Œã€‚AI æ˜¯æˆ‘ä»¬æ•ˆç‡çš„ä¹˜æ•°ï¼Œå®ƒèƒ½æŠŠ 1 å˜æˆ 100ï¼Œä½†å¦‚æœæˆ‘ä»¬ç»™å‡ºçš„åŸºæ•°æ˜¯ 0 ç”šè‡³è´Ÿæ•°ï¼ˆé”™è¯¯çš„å†³ç­–ï¼‰ï¼Œé‚£ç»“æœåªèƒ½æ˜¯ç¾éš¾ã€‚Cursor çš„ PLAN æ¨¡å¼å’Œ Trae çš„ SOLO æ¨¡å¼ï¼ˆç”Ÿæˆ <code>.docs/xxx.md</code>ï¼‰éƒ½æ˜¯å¾ˆå¥½çš„è¾…åŠ©æ€è€ƒå·¥å…·ï¼Œåˆ«ä¸ºäº†çœäº‹ç›´æ¥è›®å¹²ã€‚</p>
<h3 data-id="heading-4">ï¼ˆäº”ï¼‰ä¸è¦è¿‡åº¦æç¤ºï¼Œä½ è¯´çš„æ¯ä¸ªå­— AI éƒ½å¾ˆä¸Šå¿ƒ</h3>
<p>åœ¨ Prompt Engineering åˆšå…´èµ·æ—¶ï¼Œæˆ‘ä»¬ä¹ æƒ¯å†™ä¸€å¤§å †æç¤ºè¯ã€‚ä½†åœ¨ 2025 å¹´ï¼Œé¢å¯¹æ›´èªæ˜çš„æ¨¡å‹ï¼Œè¿‡åº¦æç¤ºåè€Œæˆäº†ç´¯èµ˜ã€‚</p>
<p>æ¯”å¦‚åœ¨ä¸­æ–‡è¯­å¢ƒä¸‹ï¼Œæˆ‘çœ‹åˆ°å¾ˆå¤šäººå–œæ¬¢åœ¨ç»“å°¾åŠ ä¸€å¥â€œè¯·ç»“åˆä¸Šä¸‹æ–‡ä¿®æ”¹ä»£ç â€ã€‚è¿™å¯¹äººç±»æ¥è¯´æ˜¯ä¸€å¥åºŸè¯ï¼Œä½†å¯¹ AI æ¥è¯´å¯èƒ½æ˜¯ä¸ªå¹²æ‰°ã€‚å®ƒå¯èƒ½ä¼šæ­»æ¿åœ°ç†è§£ä¸ºâ€œç»“åˆä¸Šé¢çš„ä»£ç å’Œä¸‹é¢çš„ä»£ç â€ï¼Œç„¶åå»è¿è¡Œ <code>grep -C 10</code> å¼ºè¡Œè¯»å–ä»£ç çš„ç‰©ç†ä¸Šä¸‹è¡Œï¼Œåè€Œå¿½ç•¥äº†åŸæœ¬é«˜æ•ˆçš„ RAG ç´¢å¼•é€»è¾‘ã€‚</p>
<p>ç°åœ¨çš„æ¨¡å‹å·²ç»è¶³å¤Ÿæ™ºèƒ½ï¼Œèƒ½ç†è§£ä½ çš„æ„å›¾ã€‚ç®€æ´ã€æ¸…æ™°åœ°æè¿°éœ€æ±‚ï¼Œå¾€å¾€æ¯”å †ç Œâ€œæç¤ºè¯é­”æ³•â€æ•ˆæœæ›´å¥½ã€‚è¯´å¾—è¶Šå¤šï¼Œæ¨¡å‹â€œå¹»è§‰â€çš„ç©ºé—´åè€Œè¶Šå¤§ã€‚</p>
<h3 data-id="heading-5">ï¼ˆå…­ï¼‰æä¾›å……è¶³çš„ context ï¼Œè¿˜åŒ…æ‹¬æ“ä½œç³»ç»Ÿç¯å¢ƒå’Œå‘½ä»¤è¡Œæ—¥å¿—</h3>
<p>è™½ç„¶æˆ‘ä»¬ä¸è¯¥å•°å—¦ï¼Œä½†åœ¨æä¾›å®¢è§‚äº‹å®ï¼ˆContextï¼‰ä¸Šï¼Œä¸€å®šè¦å¤§æ–¹ã€‚å¾ˆå¤šæ—¶å€™ AI å†™å‡ºçš„ä»£ç è·‘ä¸é€šï¼Œæ˜¯å› ä¸ºå®ƒæ ¹æœ¬ä¸çŸ¥é“ä½ åœ¨ä»€ä¹ˆç¯å¢ƒä¸‹è¿è¡Œã€‚</p>
<p>æˆ‘æœ‰ä¸€ä¸ªä¹ æƒ¯ï¼Œåœ¨å¼€å¯å¤æ‚ä»»åŠ¡å‰ï¼Œä¼šå…ˆæŠŠç»ˆç«¯é‡Œçš„ç¯å¢ƒä¿¡æ¯ç”©ç»™å®ƒï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">uname</span> -a
<span class="hljs-built_in">cat</span> /etc/os-release
<span class="hljs-comment"># å¦‚æœæœ‰æŠ¥é”™æ—¥å¿—</span>
<span class="hljs-built_in">tail</span> -20f /tmp/dev/server-error.log
</code></pre>
<p>å°†è¿™äº› Terminal çš„è¾“å‡ºç›´æ¥ç²˜è´´åˆ° Chat æ¡†é‡Œï¼Œå‡ ä¹ä¸è´¹ä»€ä¹ˆåŠŸå¤«ï¼Œæ¶ˆè€—çš„ token ä¹Ÿå¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œä½†è¿™å¯¹ AI æ¥è¯´æ˜¯æå…¶å…³é”®çš„â€œåœ°é¢å®å†µâ€ã€‚</p>
<p>è™½ç„¶ Cursor å®£ç§°ä¼šè¯»å– Terminal è¾“å‡ºï¼Œä½†å…·ä½“çš„è¯»å–æ—¶æœºå’Œè§¦å‘è§„åˆ™æ˜¯ä¸ªé»‘ç›’ã€‚ä¸å…¶çŒœå®ƒè¯»æ²¡è¯»ï¼Œä¸å¦‚ä¸»åŠ¨å–‚ç»™å®ƒã€‚ç‰¹åˆ«æ˜¯åœ¨å¤„ç†ç¼–è¯‘é”™è¯¯æˆ–ç¯å¢ƒä¾èµ–é—®é¢˜æ—¶ï¼Œä¸€ä»½å®Œæ•´çš„æ—¥å¿—è¿œæ¯”ä½ æè¿°â€œå®ƒæŠ¥é”™äº†â€è¦ç®¡ç”¨ä¸€ä¸‡å€ã€‚</p>
<h3 data-id="heading-6">ï¼ˆä¸ƒï¼‰æ²¡æœ‰ä¸€è¹´è€Œå°±ï¼Œåˆ«äººçš„ rule / prompt å¯èƒ½å¹¶ä¸é€‚åˆä½ </h3>
<p>ç½‘ä¸Šæµä¼ ç€å„ç§â€œç¥çº§ Promptâ€å’Œâ€œä¸‡èƒ½ Ruleâ€ï¼Œä½†æˆ‘å»ºè®®ä½ è°¨æ…å¤åˆ¶ã€‚æ¨¡å‹åœ¨è¿›åŒ–ï¼Œå·¥å…·åœ¨è¿­ä»£ï¼Œä¸Šä¸ªæœˆå¥½ç”¨çš„æŠ€å·§ï¼Œä¸‹ä¸ªæœˆå¯èƒ½å°±å› ä¸ºæ¨¡å‹æƒé‡è°ƒæ•´è€Œå¤±æ•ˆäº†ã€‚</p>
<p>Rule å¹¶ä¸æ˜¯è¶Šå¤æ‚è¶Šå¥½ã€‚ä½ æ²¡å¿…è¦åœ¨ Rule é‡ŒæŠŠå¸¸è¯†å†å¼ºè°ƒä¸€éï¼Œæ¯”å¦‚å†™ä¸Šâ€œä½¿ç”¨ pnpm ç®¡ç†é¡¹ç›®â€å°±è¶³å¤Ÿäº†ï¼Œä¸éœ€è¦å†åºŸè¯ä¸€å¥â€œå…·ä½“å‘½ä»¤è¯·å‚è€ƒ package.jsonâ€ï¼Œæ¨¡å‹éƒ½æ‡‚ã€‚</p>
<p>æ›´é‡è¦çš„æ˜¯ï¼Œå¦‚æœä½ æƒ³æ•™ä¼š AI ä½¿ç”¨æŸç§å†…éƒ¨æ¡†æ¶ï¼Œä¸å…¶åœ¨ Rule é‡Œç”¨è‡ªç„¶è¯­è¨€å–‹å–‹ä¸ä¼‘ï¼Œä¸å¦‚ç›´æ¥æŠŠæ¡†æ¶çš„æ ¸å¿ƒä»£ç æ”¾è¿› workspace é‡Œï¼Œè®©å®ƒæˆä¸ºç´¢å¼•çš„ä¸€éƒ¨åˆ†ã€‚ä»£ç æœ¬èº«å°±æ˜¯æœ€å¥½çš„è¯´æ˜ä¹¦ã€‚ä½ çš„ Rule åº”è¯¥æ˜¯éšç€å¼€å‘è¿‡ç¨‹åŠ¨æ€ç”Ÿé•¿çš„ï¼Œè€Œä¸æ˜¯ä¸€å¼€å§‹å°±å¡è¿›å»ä¸€å †ä½ è‡ªå·±éƒ½æ²¡è¯»å®Œçš„è§„åˆ™ã€‚</p>
<h3 data-id="heading-7">ï¼ˆå…«ï¼‰æ— è®ºæ˜¯æ¨¡å‹è¿˜æ˜¯å·¥å…·ï¼Œæ—¶åˆ»ä¿ç•™å¤šå¥—æ–¹æ¡ˆ</h3>
<p>åœ¨ 2025 å¹´ï¼Œå”¯ä¸€ä¸å˜çš„å°±æ˜¯å˜åŒ–ã€‚æˆ‘ä»¬è§è¯è¿‡æ¨¡å‹çªç„¶â€œé™æ™ºâ€ï¼Œä¹Ÿé‡åˆ°è¿‡æ”¯ä»˜æ¸ é“çªç„¶è¢«åˆ‡æ–­çš„æƒ…å†µã€‚</p>
<p>æ°¸è¿œä¸è¦æŠŠæ‰€æœ‰å¸Œæœ›å¯„æ‰˜åœ¨å•ä¸€æ¨¡å‹ä¸Šã€‚æŸäº›æ¨¡å‹å°±æ˜¯æœ‰å®ƒçš„å±€é™æ€§ï¼Œæ¯”å¦‚æˆ‘æœ‰ä¸€æ¬¡é‡åˆ°ä¸€ä¸ªæ£˜æ‰‹çš„å‰ç«¯ CSS å±‚å ä¸Šä¸‹æ–‡é—®é¢˜ï¼Œåœ¨ ChatGPT 5.2 å’Œ Gemini 3 Pro ä¸ŠæŠ˜è…¾äº†åŠå¤©æ²¡è§£å†³ï¼Œå®ƒä»¬ç»™å‡ºçš„æ–¹æ¡ˆæ€»æ˜¯åœ¨åŸåœ°æ‰“è½¬ã€‚æœ€åæˆ‘åˆ‡åˆ° GitHub Copilot é‡Œçš„ Claude Opus 4.5ï¼Œå®ƒä¸€çœ¼å°±çœ‹å‡ºäº†é—®é¢˜æ‰€åœ¨ã€‚</p>
<p>æ— è®ºæ˜¯ Cursorã€Trae è¿˜æ˜¯ VS Codeï¼Œæ— è®ºæ˜¯ OpenAI è¿˜æ˜¯ Googleï¼Œä¿æŒå·¥å…·é“¾çš„å†—ä½™åº¦ï¼Œæ˜¯ä½ æŒ‰æ—¶äº¤ä»˜çš„æœ€åä¸€é“é˜²çº¿ã€‚</p>
<h3 data-id="heading-8">ï¼ˆä¹ï¼‰æ•°æ®å®‰å…¨å¾ˆé‡è¦ï¼Œè®°å¾—è„±æ•é‡è¦æ•°æ®</h3>
<p>AI è¡Œä¸šç«äº‰è¿™ä¹ˆæ¿€çƒˆï¼Œä½ å¾ˆéš¾ä¿è¯è¿™äº› AI å…¬å¸ä¸ºäº†æ´»ä¸‹å»ï¼Œä¸ä¼šæ‹¿ä½ çš„æ•°æ®å»â€œç‚¼ä¸¹â€ã€‚æ‰€ä»¥ï¼Œå…³äº Tokenã€å¯†é’¥ï¼ˆSecret Keyï¼‰è¿™ç±»æ•æ„Ÿä¿¡æ¯ï¼Œç»å¯¹ä¸èƒ½äº¤ç»™ AIã€‚</p>
<p>å‡¡æ˜¯ä½ ä¸æ•¢æäº¤åˆ°å…¬å…± Git ä»“åº“çš„å†…å®¹ï¼Œä¹ŸåŒæ ·ä¸è¦å‘ç»™ AIã€‚å–„ç”¨ <code>.cursorignore</code> ç­‰é…ç½®æ–‡ä»¶ï¼ŒæŠŠå­˜æ”¾å¯†é’¥çš„æ–‡ä»¶å±è”½æ‰ã€‚</p>
<p>ä½†å¼€å‘åˆç¦»ä¸å¼€è¿™äº›å¯†é’¥ï¼Œæ€ä¹ˆå…¼é¡¾å®‰å…¨å’Œæ–¹ä¾¿å‘¢ï¼Ÿæˆ‘çš„åšæ³•æ˜¯è®© AI æŠŠæ‰€æœ‰æ•æ„Ÿé…ç½®éƒ½æå–æˆç¯å¢ƒå˜é‡ï¼Œè€Œåœ¨ Codespace ä¹‹å¤–çš„åœ°æ–¹ï¼ˆæ¯”å¦‚æœ¬åœ°çš„ <code>~/.bashrc</code>ï¼‰å»å®é™…èµ‹å€¼ã€‚å¦‚æœæŸä¸ªå·¥å…·å¿…é¡»é€šè¿‡å‘½ä»¤è¡Œä¼ å‚ï¼ˆæ¯”å¦‚ <code>--token xxx</code>ï¼‰ï¼Œæˆ‘å°±è®© AI æŠŠè¿™ä¸²å‘½ä»¤å°è£…æˆ <code>run.sh</code>ï¼Œè„šæœ¬é‡Œåªå†™å˜é‡åã€‚è¿™æ · AI çœ‹åˆ°çš„åªæ˜¯ <code>$MY_SECRET_TOKEN</code>ï¼Œè€ŒçœŸå®çš„å¯†é’¥æ°¸è¿œèººåœ¨ä½ æœ¬åœ°çš„ç¡¬ç›˜é‡Œã€‚ä½ ä¹Ÿä¸æƒ³ä½ çš„ Token åœ¨æœªæ¥å‡ºç°åœ¨æŸä¸ªç³Šæ¶‚è›‹å¼€æºé¡¹ç›®çš„ Prompt ç¤ºä¾‹é‡Œå§ï¼Ÿ</p>
<h3 data-id="heading-9">ï¼ˆåï¼‰å¤§åŠ›ä¸èƒ½å‡ºå¥‡è¿¹ï¼Œä¸è¦é™·å…¥â€œåªå’Œ AI èŠå¤©â€å°±èƒ½è§£å†³æ‰€æœ‰é—®é¢˜çš„è¯¯åŒº</h3>
<p>æœ€åä¸€æ¡ï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€æ¡ï¼šå¦‚æœ AI åå¤å‡ æ¬¡éƒ½è§£å†³ä¸äº†ä¸€ä¸ªé—®é¢˜ï¼Œè¯·ç«‹åˆ»åœæ­¢å¯¹è¯ï¼ŒåŠ¨ç”¨ä½ è‡ªå·±çš„è„‘å­ã€‚</p>
<p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å®¹æ˜“é™·å…¥ä¸€ç§â€œèµŒå¾’å¿ƒç†â€ï¼Œè§‰å¾—ä¸‹ä¸€æ¬¡ Prompt å°±èƒ½ä¿®å¥½äº†ã€‚ä¸¾ä¸ªæˆ‘æœ€è¿‘å¼€å‘ Tauri æ¡Œé¢åº”ç”¨ï¼ˆRust + Vue3 + Viteï¼‰çš„ä¾‹å­ï¼šæˆ‘åœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼ˆdevï¼‰ï¼Œç‚¹å‡»æŒ‰é’®å¯ä»¥æ­£å¸¸å¼¹å‡ºæ¨¡æ€æ¡†ï¼ˆModalï¼‰ï¼›ä½†æ‰“åŒ…å®‰è£…åï¼ˆbuildï¼‰ï¼ŒæŒ‰é’®ç‚¹å‡»å°±æ¯«æ— ååº”ã€‚</p>
<p>æˆ‘æ¢äº†ä¸‰ä¸ªæ¨¡å‹ï¼Œå°è¯•äº†æ”¹ CSS <code>z-index</code>ã€æŸ¥ Webview2 å…¼å®¹æ€§ã€å¯¹æ¯” build/dev ç¯å¢ƒå˜é‡ï¼Œç”šè‡³è®© Agent åœ¨ä»£ç é‡Œåˆ°å¤„æ‰“ logï¼ŒæŠ˜è…¾äº†ä¸€æ™šä¸Šéƒ½æ— è§£ã€‚Log æ˜¾ç¤ºé€»è¾‘æµè½¬ä¸€åˆ‡æ­£å¸¸ã€‚</p>
<p>æœ€åæˆ‘å®åœ¨æ²¡æ‹›äº†ï¼Œåœ¨ dev æ¨¡å¼ä¸‹ä¸»åŠ¨æ‰“å¼€äº† Webview2 çš„æ§åˆ¶å°ï¼ˆConsoleï¼‰ã€‚ä¸€çœ¼å°±çœ‹åˆ°äº†ä¸€ä¸ª Main Window é‡Œçš„æŠ¥é”™ï¼š<code>i18n</code> æŠ¥è­¦ï¼Œæç¤ºæŸä¸ªç¿»è¯‘å ä½ç¬¦ä¸èƒ½ç”¨ <code>@</code>ï¼Œå¿…é¡»ç”¨ <code>{'@'}</code> è½¬ä¹‰ã€‚è¿™ä¸ªé”™è¯¯åœ¨ dev æ¨¡å¼ä¸‹åªæ˜¯ä¸ª Warningï¼Œä¸å½±å“äº¤äº’ï¼›ä½†åœ¨ build åçš„ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œå®ƒç›´æ¥é˜»æ–­äº†åç»­ JS çš„æ‰§è¡Œã€‚</p>
<p>è¿™ä¸ªæŠ¥é”™ä¸åœ¨åç«¯ Log é‡Œï¼Œä¹Ÿä¸åœ¨æ˜¾çœ¼çš„ç»ˆç«¯è¾“å‡ºé‡Œï¼ŒAI è‡ªç„¶â€œçœ‹â€ä¸åˆ°ã€‚è¿™æé†’æˆ‘ä»¬ï¼šAI å†å¼ºä¹Ÿåªæ˜¯è¾…åŠ©ï¼Œä½œä¸ºå·¥ç¨‹å¸ˆï¼Œæ’æŸ¥é—®é¢˜çš„åŸºæœ¬åŠŸï¼ˆæ¯”å¦‚äº²è‡ªçœ‹ä¸€çœ¼æ§åˆ¶å°ï¼‰æ°¸è¿œä¸èƒ½ä¸¢ã€‚</p>
<hr/>
<p>2025 å¹´å¹´åˆï¼Œæˆ‘è¿˜å†™äº†ä¸€ç¯‡å…³äº AI çš„ä½¿ç”¨å¿ƒå¾—ï¼Œé™¤äº†å‘åœ¨å’±å›½å†…çš„å¹³å°ä¸Šï¼Œè¿˜å‘åœ¨äº†æµ·å¤–çš„æŠ€æœ¯è®ºå› dev.to ä¸Šï¼Œæ²¡æœ‰ä»€ä¹ˆåå“ã€‚</p>
<p>ç»“æœæˆ‘å‘ç°ï¼Œè¿™ç¯‡æ–‡ç« è¢«äººæ´—ç¨¿äº†ï¼Œå¹¶ä¸”ç»å¤§éƒ¨åˆ†å†…å®¹æ˜¯åŸå°ä¸åŠ¨åœ°æŠ„è¢­è¿‡å»çš„ã€‚æˆ‘æ˜¯åœ¨ 2025 å¹´ 2 æœˆ 21 æ—¥é¦–å‘åœ¨ dev.to ä¸Šï¼Œå®ƒæ˜¯åœ¨ 2025 å¹´ 3 æœˆ 20 æ—¥æŠŠæ–‡ç« æ´—ç¨¿å‘åˆ° generativeai.pub ä¸Šçš„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f08258b389340dc8294d7718fd78690~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUGlwZXLom4vnqp0=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768145037&amp;x-signature=cXxs0zlEIgb6%2F5k%2FKGGv17NXWcE%3D" alt="æ–‡ç« æ ‡é¢˜éƒ½æ²¡æœ‰ä¿®æ”¹" loading="lazy"/></p>
<p>é™¤äº†å¼€å¤´åšäº†å¾®å°æ”¹åŠ¨ï¼Œå‰©ä¸‹çš„æ­£æ–‡éƒ¨åˆ†å†…å®¹åŸºæœ¬ä¸€è‡´ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4677fe6f98404e9bb89443a03e5a14f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUGlwZXLom4vnqp0=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768145037&amp;x-signature=DsY0ZB42K3y5lSgkCKRq3MxrhyM%3D" alt="æˆ‘çš„åŸæ–‡" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/20093018a250458faa45fd3d0011ea43~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUGlwZXLom4vnqp0=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768145037&amp;x-signature=GAvlXxtGm9YYpCHm5UnljiEeOU0%3D" alt="æŠ„è¢­è€…æ–‡ç« " loading="lazy"/></p>
<p>åŸæ–‡é“¾æ¥ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdev.to%2Fpiperliu%2Fdont-let-ai-programming-ruin-your-career-treat-them-as-your-interns-not-employees-or-teachers-16bo" target="_blank" title="https://dev.to/piperliu/dont-let-ai-programming-ruin-your-career-treat-them-as-your-interns-not-employees-or-teachers-16bo" ref="nofollow noopener noreferrer">dev.to/piperliu/doâ€¦</a></li>
</ul>
<p>æŠ„è¢­è€…é“¾æ¥ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgenerativeai.pub%2Fdont-let-ai-programming-ruin-your-career-treat-them-as-interns-instead-of-employees-teachers-62e278f4db02" target="_blank" title="https://generativeai.pub/dont-let-ai-programming-ruin-your-career-treat-them-as-interns-instead-of-employees-teachers-62e278f4db02" ref="nofollow noopener noreferrer">generativeai.pub/dont-let-aiâ€¦</a></li>
</ul>
<p>å¥½æ¶ˆæ¯æ˜¯ï¼šæŠ„è¢­è€…çš„æ–‡ç« æœ‰è®¸å¤šç‚¹èµä¸è¯„è®ºï¼Œçœ‹æ¥æˆ‘å†™çš„æ–‡ç« è¿˜æ˜¯æœ‰ä¸€å®šå‚è€ƒä»·å€¼çš„ã€‚</p>
<p>åæ¶ˆæ¯æ˜¯ï¼šéƒ½è¯´ä¸­æ–‡äº’è”ç½‘æ˜¯åƒåœ¾å †ï¼Œçœ‹èµ·æ¥è‹±æ–‡äº’è”ç½‘ä¹Ÿæ²¡æœ‰å¥½åˆ°å“ªé‡Œå»ã€‚è¿™å¯¹æˆ‘è¿™ä¸ª Hacker News è€è¯»è€…çš„å†²å‡»æœ‰äº›å¤§ã€‚</p>
<p>å‡†å¤‡æŠ•è¯‰/ç»´æƒè¯•ä¸€è¯•ï¼Œçœ‹çœ‹è¿™äº›å›½é™…å¹³å°æ˜¯å¦çœŸçš„é‚£ä¹ˆå°Šé‡åŸåˆ›ä¸ç‰ˆæƒã€‚</p>
<p>æ¬¢è¿å…³æ³¨æˆ‘ï¼Œä¹‹åæœ‰ç»“æœäº†æˆ‘ä¹Ÿä¼šæŠŠç»å†æ±‡æ€»æˆä¸€ç¯‡æ–‡ç« ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Go é¡¹ç›®ç»“æ„æ€»æ˜¯å†™ä¹±ï¼Ÿè¿™ä¸ª 50 è¡Œä»£ç çš„ Demo æ•™ä½ æ ‡å‡†å§¿åŠ¿]]></title>    <link>https://juejin.cn/post/7591348605865885731</link>    <guid>https://juejin.cn/post/7591348605865885731</guid>    <pubDate>2026-01-04T15:50:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591348605865885731" data-draft-id="7591330139083603983" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Go é¡¹ç›®ç»“æ„æ€»æ˜¯å†™ä¹±ï¼Ÿè¿™ä¸ª 50 è¡Œä»£ç çš„ Demo æ•™ä½ æ ‡å‡†å§¿åŠ¿"/> <meta itemprop="keywords" content="åç«¯,Go"/> <meta itemprop="datePublished" content="2026-01-04T15:50:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaå°æˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3614849960783160"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Go é¡¹ç›®ç»“æ„æ€»æ˜¯å†™ä¹±ï¼Ÿè¿™ä¸ª 50 è¡Œä»£ç çš„ Demo æ•™ä½ æ ‡å‡†å§¿åŠ¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3614849960783160/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaå°æˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T15:50:23.000Z" title="Sun Jan 04 2026 15:50:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. åœºæ™¯å¤ç°ï¼šé‚£ä¸ªè®©æˆ‘å¤´ç–¼çš„æ—¶åˆ»</h2>
<p>å»å¹´ï¼Œæˆ‘æ¥æ‰‹äº†ä¸€ä¸ª"ç¥–ä¼ " Go é¡¹ç›®ã€‚æ‰“å¼€ä»£ç ä»“åº“çš„é‚£ä¸€åˆ»ï¼Œæˆ‘æ•´ä¸ªäººéƒ½ä¸å¥½äº†â€”â€”æ‰€æœ‰ä»£ç éƒ½å¡åœ¨ä¸€ä¸ª <code>main.go</code> é‡Œï¼Œè¶³è¶³ 3000 å¤šè¡Œã€‚æƒ³åŠ ä¸ªåŠŸèƒ½ï¼Ÿå…ˆèŠ±åŠå°æ—¶æ‰¾ä»£ç åœ¨å“ªã€‚æƒ³å†™ä¸ªå•å…ƒæµ‹è¯•ï¼ŸæŠ±æ­‰ï¼Œå‡½æ•°å…¨æ˜¯ç§æœ‰çš„ï¼Œè€Œä¸”äº’ç›¸è€¦åˆï¼Œæ ¹æœ¬æ²¡æ³•å•ç‹¬æµ‹ã€‚</p>
<p>æˆ‘å½“æ—¶å°±åœ¨æƒ³ï¼š<strong>å¦‚æœå½“åˆå†™è¿™ä¸ªé¡¹ç›®çš„äººï¼Œèƒ½ä»ç¬¬ä¸€å¤©å°±ç”¨ä¸€ä¸ªè§„èŒƒçš„ç»“æ„ï¼Œåé¢çš„äººå¾—å°‘æ‰å¤šå°‘å¤´å‘ï¼Ÿ</strong></p>
<p>åæ¥æˆ‘å¼€å§‹ç ”ç©¶ Go å®˜æ–¹å’Œç¤¾åŒºæ¨èçš„é¡¹ç›®å¸ƒå±€ï¼Œå‘ç°å…¶å®è§„åˆ™å¾ˆç®€å•ï¼Œä½†å¾ˆå¤šäººå°±æ˜¯ä¸çŸ¥é“ã€‚äºæ˜¯æˆ‘å†™äº†è¿™ä¸ª 50 è¡Œä»£ç çš„å° Demoï¼ŒæŠŠ Go é¡¹ç›®ç»“æ„çš„ç²¾é«“æµ“ç¼©è¿›å»ã€‚ä»Šå¤©ï¼Œæˆ‘å°±å¸¦ä½ ä¸€èµ·æ‹†è§£å®ƒã€‚</p>
<h2 data-id="heading-1">2. æ¶æ„è“å›¾ï¼šä¸Šå¸è§†è§’çœ‹è®¾è®¡</h2>
<p>å…ˆæ¥çœ‹è¿™ä¸ªé¡¹ç›®çš„ç›®å½•ç»“æ„ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">series/<span class="hljs-number">01</span>/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ hello/
â”‚       â””â”€â”€ main.go        <span class="hljs-meta"># ç¨‹åºå…¥å£ï¼Œåªåš I/O</span>
â”œâ”€â”€ <span class="hljs-keyword">internal</span>/
â”‚   â””â”€â”€ reasons/
â”‚       â”œâ”€â”€ reasons.go     <span class="hljs-meta"># æ ¸å¿ƒä¸šåŠ¡é€»è¾‘</span>
â”‚       â””â”€â”€ reasons_test.go <span class="hljs-meta"># å•å…ƒæµ‹è¯•</span>
â””â”€â”€ go.mod                  <span class="hljs-meta"># æ¨¡å—å®šä¹‰</span>
</code></pre>
<p>è¿™ä¸æ˜¯æˆ‘éšä¾¿ç”»çš„ï¼Œè€Œæ˜¯ Go ç¤¾åŒºå¹¿æ³›è®¤å¯çš„<strong>æ ‡å‡†é¡¹ç›®å¸ƒå±€</strong>ã€‚æˆ‘ç”¨ä¸€å¼ å›¾æ¥å±•ç¤ºæ•°æ®æ˜¯æ€ä¹ˆæµè½¬çš„ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    subgraph ç”¨æˆ·å±‚
        A[å‘½ä»¤è¡Œè¾“å…¥&lt;br/&gt;--name=å°æ˜ --lang=go]
    end
    
    subgraph cmd/hello
        B[main.go&lt;br/&gt;è§£æå‚æ•°]
    end
    
    subgraph internal/reasons
        C[reasons.go&lt;br/&gt;ä¸šåŠ¡é€»è¾‘]
        D[(reasonByLang&lt;br/&gt;map æ•°æ®)]
    end
    
    subgraph è¾“å‡ºå±‚
        E[ç»ˆç«¯è¾“å‡º&lt;br/&gt;æ ¼å¼åŒ–ç»“æœ]
    end
    
    A --&gt; B
    B --&gt;|è°ƒç”¨ Reason å‡½æ•°| C
    C --&gt;|æŸ¥è¯¢| D
    D --&gt;|è¿”å›æ¨èç†ç”±| C
    C --&gt;|è¿”å›å­—ç¬¦ä¸²| B
    B --&gt; E
</code></pre>
<p><strong>æ ¸å¿ƒè®¾è®¡æ€æƒ³ï¼šå…³æ³¨ç‚¹åˆ†ç¦»</strong></p>
<ul>
<li><code>cmd/</code> ç›®å½•ï¼šæ”¾å¯æ‰§è¡Œç¨‹åºçš„å…¥å£ã€‚æ¯ä¸ªå­ç›®å½•å¯¹åº”ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚<code>main.go</code> åªè´Ÿè´£"æ¥æ”¶è¾“å…¥ã€è°ƒç”¨ä¸šåŠ¡ã€è¾“å‡ºç»“æœ"ï¼Œä¸å†™ä»»ä½•ä¸šåŠ¡é€»è¾‘ã€‚</li>
<li><code>internal/</code> ç›®å½•ï¼šæ”¾å†…éƒ¨åŒ…ã€‚è¿™ä¸ªç›®å½•æœ‰ä¸ª<strong>é­”æ³•å±æ€§</strong>â€”â€”Go ç¼–è¯‘å™¨ä¼šå¼ºåˆ¶ç¦æ­¢å¤–éƒ¨é¡¹ç›® import è¿™é‡Œçš„ä»£ç ã€‚è¿™æ˜¯ Go è¯­è¨€çº§åˆ«çš„"ç§æœ‰åŒ–"ä¿æŠ¤ã€‚</li>
<li><code>go.mod</code>ï¼šGo Modules çš„é…ç½®æ–‡ä»¶ï¼Œå£°æ˜æ¨¡å—åå’Œ Go ç‰ˆæœ¬ã€‚</li>
</ul>
<h2 data-id="heading-2">3. æºç æ‹†è§£ï¼šæ‰‹æŠŠæ‰‹å¸¦ä½ è¯»æ ¸å¿ƒ</h2>
<h3 data-id="heading-3">3.1 å…¥å£æ–‡ä»¶ï¼šmain.go</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"flag"</span>
    <span class="hljs-string">"fmt"</span>
    <span class="hljs-string">"runtime"</span>
    <span class="hljs-string">"strings"</span>
    <span class="hljs-string">"time"</span>

    <span class="hljs-string">"learn-go/series/01/internal/reasons"</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    name := flag.String(<span class="hljs-string">"name"</span>, <span class="hljs-string">"å·¥ç¨‹å¸ˆ"</span>, <span class="hljs-string">"è¯»è€…åç§°"</span>)
    lang := flag.String(<span class="hljs-string">"lang"</span>, <span class="hljs-string">"go"</span>, <span class="hljs-string">"å…³æ³¨çš„è¯­è¨€"</span>)
    flag.Parse()

    lines := []<span class="hljs-type">string</span>{
        fmt.Sprintf(<span class="hljs-string">"ä½ å¥½ï¼Œ%sï¼"</span>, *name),
        fmt.Sprintf(<span class="hljs-string">"ä½ æ­£åœ¨ä½“éªŒï¼š%s"</span>, strings.ToUpper(*lang)),
        fmt.Sprintf(<span class="hljs-string">"ä»Šå¤©çš„ç»“è®ºï¼š%s"</span>, reasons.Reason(*lang)),
        <span class="hljs-comment">// ... çœç•¥éƒ¨åˆ†</span>
    }

    fmt.Println(strings.Join(lines, <span class="hljs-string">"\n"</span>))
}
</code></pre>
<p><strong>é€è¡Œè§£è¯»ï¼š</strong></p>
<p><strong>ç¬¬ 1 è¡Œ <code>package main</code></strong>ï¼šGo è§„å®šï¼Œå¯æ‰§è¡Œç¨‹åºçš„å…¥å£åŒ…å¿…é¡»å« <code>main</code>ï¼Œå…¥å£å‡½æ•°ä¹Ÿå¿…é¡»å« <code>main()</code>ã€‚è¿™æ˜¯é“å¾‹ï¼Œæ²¡å¾—å•†é‡ã€‚</p>
<p><strong>ç¬¬ 10-11 è¡Œ <code>flag.String(...)</code></strong>ï¼šè¿™æ˜¯ Go æ ‡å‡†åº“æä¾›çš„å‘½ä»¤è¡Œå‚æ•°è§£ææ–¹æ¡ˆã€‚</p>
<blockquote>
<p><strong>çŸ¥è¯†ç‚¹è´´å£«ï¼šflag åŒ…</strong></p>
<p><code>flag.String("name", "é»˜è®¤å€¼", "å¸®åŠ©è¯´æ˜")</code> ä¼šè¿”å›ä¸€ä¸ª <code>*string</code>ï¼ˆå­—ç¬¦ä¸²æŒ‡é’ˆï¼‰ï¼Œè€Œä¸æ˜¯ <code>string</code>ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸º <code>flag.Parse()</code> éœ€è¦åœ¨è§£æå®Œå‘½ä»¤è¡Œåï¼ŒæŠŠå€¼"å†™å›"åˆ°è¿™ä¸ªå˜é‡é‡Œã€‚å¦‚æœè¿”å›çš„æ˜¯å€¼è€Œä¸æ˜¯æŒ‡é’ˆï¼Œå°±æ²¡æ³•ä¿®æ”¹äº†ã€‚</p>
<p>ç±»æ¯” Javaï¼šè¿™æœ‰ç‚¹åƒ Java é‡Œç”¨ <code>AtomicReference</code> æ¥å®ç°"å¯å˜çš„å¼•ç”¨"ã€‚</p>
</blockquote>
<p><strong>ç¬¬ 12 è¡Œ <code>flag.Parse()</code></strong>ï¼šçœŸæ­£æ‰§è¡Œè§£æã€‚è°ƒç”¨è¿™è¡Œä¹‹åï¼Œ<code>name</code> å’Œ <code>lang</code> æŒ‡é’ˆæŒ‡å‘çš„å€¼æ‰ä¼šè¢«å¡«å……ã€‚</p>
<p><strong>ç¬¬ 15 è¡Œ <code>*name</code></strong>ï¼šè¿™é‡Œçš„ <code>*</code> æ˜¯<strong>è§£å¼•ç”¨æ“ä½œç¬¦</strong>ï¼Œæ„æ€æ˜¯"å–å‡ºæŒ‡é’ˆæŒ‡å‘çš„å€¼"ã€‚</p>
<blockquote>
<p><strong>çŸ¥è¯†ç‚¹è´´å£«ï¼šæŒ‡é’ˆ</strong></p>
<p>Go çš„æŒ‡é’ˆæ¯” C ç®€å•å¾ˆå¤šâ€”â€”æ²¡æœ‰æŒ‡é’ˆè¿ç®—ï¼Œåªæœ‰"å–åœ°å€ <code>&amp;</code>"å’Œ"è§£å¼•ç”¨ <code>*</code>"ä¸¤ä¸ªæ“ä½œã€‚ä½ å¯ä»¥æŠŠæŒ‡é’ˆç†è§£ä¸º"å˜é‡çš„é—¨ç‰Œå·"ï¼Œ<code>*</code> å°±æ˜¯"æŒ‰é—¨ç‰Œå·æ‰¾åˆ°æˆ¿é—´é‡Œçš„ä¸œè¥¿"ã€‚</p>
</blockquote>
<p><strong>ç¬¬ 17 è¡Œ <code>reasons.Reason(*lang)</code></strong>ï¼šè°ƒç”¨ <code>internal/reasons</code> åŒ…é‡Œçš„ <code>Reason</code> å‡½æ•°ã€‚æ³¨æ„è¿™é‡Œçš„ <code>R</code> æ˜¯å¤§å†™çš„ã€‚</p>
<blockquote>
<p><strong>çŸ¥è¯†ç‚¹è´´å£«ï¼šå¯è§æ€§è§„åˆ™</strong></p>
<p>Go æ²¡æœ‰ <code>public</code>/<code>private</code> å…³é”®å­—ã€‚å®ƒç”¨ä¸€ä¸ªæç®€çš„è§„åˆ™ï¼š<strong>é¦–å­—æ¯å¤§å†™ = å…¬å¼€ï¼Œé¦–å­—æ¯å°å†™ = ç§æœ‰</strong>ã€‚æ‰€ä»¥ <code>Reason</code> èƒ½è¢«å¤–éƒ¨è°ƒç”¨ï¼Œè€Œå¦‚æœå†™æˆ <code>reason</code> å°±åªèƒ½åœ¨ <code>reasons</code> åŒ…å†…éƒ¨ç”¨ã€‚</p>
</blockquote>
<h3 data-id="heading-4">3.2 ä¸šåŠ¡é€»è¾‘ï¼šreasons.go</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> reasons

<span class="hljs-keyword">import</span> <span class="hljs-string">"strings"</span>

<span class="hljs-keyword">var</span> reasonByLang = <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">string</span>{
    <span class="hljs-string">"go"</span>:     <span class="hljs-string">"ç¼–è¯‘å¿«ã€éƒ¨ç½²ç®€å•ã€å¹¶å‘æ¨¡å‹æ¸…æ™°ï¼Œé€‚åˆåšåŸºç¡€è®¾æ–½å’ŒæœåŠ¡ç«¯ã€‚"</span>,
    <span class="hljs-string">"python"</span>: <span class="hljs-string">"ç”Ÿæ€ä¸°å¯Œã€éªŒè¯å¿«ï¼Œé€‚åˆæ•°æ®å¤„ç†å’Œè„šæœ¬ã€‚"</span>,
    <span class="hljs-string">"java"</span>:   <span class="hljs-string">"å·¥ç¨‹æˆç†Ÿã€ç”Ÿæ€åºå¤§ï¼Œé€‚åˆå¤§å‹ä¼ä¸šçº§ç³»ç»Ÿã€‚"</span>,
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Reason</span><span class="hljs-params">(lang <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> {
    key := strings.ToLower(strings.TrimSpace(lang))
    <span class="hljs-keyword">if</span> key == <span class="hljs-string">""</span> {
        key = <span class="hljs-string">"go"</span>
    }
    <span class="hljs-keyword">if</span> reason, ok := reasonByLang[key]; ok {
        <span class="hljs-keyword">return</span> reason
    }
    <span class="hljs-keyword">return</span> <span class="hljs-string">"å…ˆé€‰ä¸€ä¸ªç›®æ ‡åœºæ™¯ï¼Œå†å†³å®šè¯­è¨€ã€‚Go é€‚åˆæœåŠ¡ç«¯ä¸å·¥å…·é“¾ã€‚"</span>
}
</code></pre>
<p><strong>é€è¡Œè§£è¯»ï¼š</strong></p>
<p><strong>ç¬¬ 5-9 è¡Œ <code>var reasonByLang = map[string]string{...}</code></strong>ï¼šè¿™æ˜¯ Go çš„ <code>map</code> ç±»å‹ï¼Œç›¸å½“äº Java çš„ <code>HashMap</code> æˆ– Python çš„ <code>dict</code>ã€‚</p>
<p>æ³¨æ„è¿™é‡Œç”¨çš„æ˜¯<strong>åŒ…çº§å˜é‡</strong>ï¼ˆå®šä¹‰åœ¨å‡½æ•°å¤–é¢ï¼‰ï¼Œå°å†™å¼€å¤´æ„å‘³ç€å®ƒæ˜¯ç§æœ‰çš„ï¼Œå¤–éƒ¨åŒ…è®¿é—®ä¸åˆ°ã€‚è¿™æ˜¯ä¸€ç§å¸¸è§çš„"æ¨¡å—å†…å…±äº«æ•°æ®"çš„æ–¹å¼ã€‚</p>
<p><strong>ç¬¬ 16 è¡Œ <code>if reason, ok := reasonByLang[key]; ok</code></strong>ï¼šè¿™æ˜¯ Go æœ€ç»å…¸çš„æƒ¯ç”¨æ³•ä¹‹ä¸€â€”â€”<strong>comma ok</strong>ã€‚</p>
<blockquote>
<p><strong>çŸ¥è¯†ç‚¹è´´å£«ï¼šcomma ok æƒ¯ç”¨æ³•</strong></p>
<p>åœ¨ Go é‡Œè®¿é—® mapï¼Œå¯ä»¥ç”¨ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li><code>v := m[key]</code>ï¼šå¦‚æœ key ä¸å­˜åœ¨ï¼Œè¿”å›é›¶å€¼ï¼ˆç©ºå­—ç¬¦ä¸²ã€0 ç­‰ï¼‰</li>
<li><code>v, ok := m[key]</code>ï¼š<code>ok</code> æ˜¯ä¸ªå¸ƒå°”å€¼ï¼Œå‘Šè¯‰ä½  key åˆ°åº•å­˜ä¸å­˜åœ¨</li>
</ul>
<p>ç¬¬äºŒç§æ–¹å¼èƒ½åŒºåˆ†"key å­˜åœ¨ä½†å€¼ä¸ºç©º"å’Œ"key æ ¹æœ¬ä¸å­˜åœ¨"ï¼Œæ›´å®‰å…¨ã€‚</p>
</blockquote>
<h3 data-id="heading-5">3.3 å•å…ƒæµ‹è¯•ï¼šreasons_test.go</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> reasons

<span class="hljs-keyword">import</span> <span class="hljs-string">"testing"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">TestReason</span><span class="hljs-params">(t *testing.T)</span></span> {
    tests := []<span class="hljs-keyword">struct</span> {
        name <span class="hljs-type">string</span>
        lang <span class="hljs-type">string</span>
        want <span class="hljs-type">string</span>
    }{
        {name: <span class="hljs-string">"default"</span>, lang: <span class="hljs-string">""</span>, want: reasonByLang[<span class="hljs-string">"go"</span>]},
        {name: <span class="hljs-string">"go"</span>, lang: <span class="hljs-string">"go"</span>, want: reasonByLang[<span class="hljs-string">"go"</span>]},
        {name: <span class="hljs-string">"python"</span>, lang: <span class="hljs-string">"python"</span>, want: reasonByLang[<span class="hljs-string">"python"</span>]},
    }

    <span class="hljs-keyword">for</span> _, tt := <span class="hljs-keyword">range</span> tests {
        t.Run(tt.name, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(t *testing.T)</span></span> {
            <span class="hljs-keyword">if</span> got := Reason(tt.lang); got != tt.want {
                t.Fatalf(<span class="hljs-string">"Reason(%q) = %q, want %q"</span>, tt.lang, got, tt.want)
            }
        })
    }
}
</code></pre>
<p>è¿™æ˜¯ Go ç¤¾åŒºæ¨å´‡çš„**è¡¨é©±åŠ¨æµ‹è¯•ï¼ˆTable-Driven Testï¼‰**é£æ ¼ã€‚</p>
<blockquote>
<p><strong>çŸ¥è¯†ç‚¹è´´å£«ï¼šè¡¨é©±åŠ¨æµ‹è¯•</strong></p>
<p>æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šæŠŠæµ‹è¯•ç”¨ä¾‹ç»„ç»‡æˆä¸€ä¸ª"è¡¨æ ¼"ï¼ˆåˆ‡ç‰‡ï¼‰ï¼Œç„¶åç”¨å¾ªç¯éå†æ‰§è¡Œã€‚å¥½å¤„æ˜¯ï¼š</p>
<ol>
<li>æ–°å¢ç”¨ä¾‹åªéœ€è¦åŠ ä¸€è¡Œæ•°æ®ï¼Œä¸ç”¨å†™é‡å¤çš„æµ‹è¯•ä»£ç </li>
<li>æµ‹è¯•é€»è¾‘é›†ä¸­ï¼Œä¸€çœ¼å°±èƒ½çœ‹å‡ºè¦†ç›–äº†å“ªäº›åœºæ™¯</li>
<li><code>t.Run()</code> ä¼šç»™æ¯ä¸ªç”¨ä¾‹èµ·åå­—ï¼Œå¤±è´¥æ—¶èƒ½ç²¾ç¡®å®šä½</li>
</ol>
</blockquote>
<p><strong>ç¬¬ 16 è¡Œ <code>for _, tt := range tests</code></strong>ï¼š<code>range</code> æ˜¯ Go éå†åˆ‡ç‰‡/map çš„å…³é”®å­—ã€‚<code>_</code> è¡¨ç¤º"æˆ‘ä¸å…³å¿ƒç´¢å¼•ï¼Œåªè¦å€¼"ã€‚</p>
<h2 data-id="heading-6">4. é¿å‘æŒ‡å— &amp; æ·±åº¦æ€è€ƒ</h2>
<h3 data-id="heading-7">å‘ 1ï¼šå¿˜è®°è°ƒç”¨ flag.Parse()</h3>
<p>å¦‚æœä½ åˆ æ‰ <code>flag.Parse()</code> è¿™è¡Œï¼Œç¨‹åºä¸ä¼šæŠ¥é”™ï¼Œä½† <code>*name</code> å’Œ <code>*lang</code> æ°¸è¿œæ˜¯é»˜è®¤å€¼ã€‚è¿™æ˜¯ä¸ªå¾ˆéšè”½çš„ Bugã€‚</p>
<h3 data-id="heading-8">å‘ 2ï¼šmap å¹¶å‘è¯»å†™ä¼š panic</h3>
<p>å½“å‰ä»£ç é‡Œçš„ <code>reasonByLang</code> æ˜¯åªè¯»çš„ï¼Œæ²¡é—®é¢˜ã€‚ä½†å¦‚æœä½ æƒ³åœ¨è¿è¡Œæ—¶åŠ¨æ€æ·»åŠ è¯­è¨€ï¼Œ<strong>åƒä¸‡ä¸è¦</strong>åœ¨å¤šä¸ª goroutine é‡ŒåŒæ—¶è¯»å†™è¿™ä¸ª mapâ€”â€”Go çš„ map ä¸æ˜¯å¹¶å‘å®‰å…¨çš„ï¼Œä¼šç›´æ¥ panicã€‚</p>
<p><strong>ç”Ÿäº§ç¯å¢ƒæ€ä¹ˆåŠï¼Ÿ</strong> ç”¨ <code>sync.RWMutex</code> åŠ é”ï¼Œæˆ–è€…ç”¨ <code>sync.Map</code>ã€‚</p>
<h3 data-id="heading-9">å‘ 3ï¼šinternal ç›®å½•çš„"é­”æ³•"æ˜¯ç¼–è¯‘å™¨å¼ºåˆ¶çš„</h3>
<p>æœ‰äº›åŒå­¦ä»¥ä¸º <code>internal</code> åªæ˜¯ä¸ªå‘½åçº¦å®šï¼Œå…¶å®ä¸æ˜¯ã€‚Go ç¼–è¯‘å™¨ä¼š<strong>ç¡¬æ€§ç¦æ­¢</strong>å¤–éƒ¨æ¨¡å— import <code>internal</code> ä¸‹çš„åŒ…ã€‚å¦‚æœä½ çš„é¡¹ç›®æ˜¯ä¸ªåº“ï¼Œæƒ³æš´éœ²æŸäº›åŒ…ç»™å¤–éƒ¨ç”¨ï¼Œå°±ä¸èƒ½æ”¾åœ¨ <code>internal</code> é‡Œã€‚</p>
<h3 data-id="heading-10">Demo ä¸ç”Ÿäº§ä»£ç çš„å·®è·</h3>
<p>è¿™ä¸ª Demo ä¸ºäº†æ•™å­¦åšäº†ç®€åŒ–ï¼Œç”Ÿäº§ç¯å¢ƒè¿˜éœ€è¦è€ƒè™‘ï¼š</p>
<ol>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šå½“å‰ä»£ç æ²¡æœ‰ä»»ä½• <code>error</code> è¿”å›ï¼ŒçœŸå®åœºæ™¯è¦å¤„ç†å„ç§å¼‚å¸¸</li>
<li><strong>æ—¥å¿—</strong>ï¼šç”¨ <code>log</code> æˆ– <code>slog</code> åŒ…è®°å½•å…³é”®æ“ä½œ</li>
<li><strong>é…ç½®ç®¡ç†</strong>ï¼šç¡¬ç¼–ç çš„ map åº”è¯¥æ”¹æˆä»é…ç½®æ–‡ä»¶æˆ–ç¯å¢ƒå˜é‡è¯»å–</li>
<li><strong>ä¼˜é›…é€€å‡º</strong>ï¼šç›‘å¬ç³»ç»Ÿä¿¡å·ï¼Œåšèµ„æºæ¸…ç†</li>
</ol>
<h2 data-id="heading-11">5. å¿«é€Ÿä¸Šæ‰‹ &amp; æ”¹é€ å»ºè®®</h2>
<h3 data-id="heading-12">è¿è¡Œå‘½ä»¤</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›å…¥é¡¹ç›®ç›®å½•</span>
<span class="hljs-built_in">cd</span> series/01
</code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç›´æ¥è¿è¡Œ</span>
go run ./cmd/hello
</code></pre>
<p>è¾“å‡ºç»“æœï¼š</p>
<pre><code class="hljs language-bash" lang="bash">ä½ å¥½ï¼Œå·¥ç¨‹å¸ˆï¼
ä½ æ­£åœ¨ä½“éªŒï¼šGO
ä»Šå¤©çš„ç»“è®ºï¼šç¼–è¯‘å¿«ã€éƒ¨ç½²ç®€å•ã€å¹¶å‘æ¨¡å‹æ¸…æ™°ï¼Œé€‚åˆåšåŸºç¡€è®¾æ–½å’ŒæœåŠ¡ç«¯ã€‚
è¿è¡Œç¯å¢ƒï¼šdarwin/amd64
Go ç‰ˆæœ¬ï¼šgo1.25.5
ç”Ÿæˆæ—¶é—´ï¼š2026-01-04T23:02:19+08:00
</code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¸¦å‚æ•°è¿è¡Œ</span>
go run ./cmd/hello --name=å°æ˜ --lang=python
</code></pre>
<p>è¾“å‡ºç»“æœï¼š</p>
<pre><code class="hljs language-bash" lang="bash">ä½ å¥½ï¼Œå°æ˜ï¼
ä½ æ­£åœ¨ä½“éªŒï¼šPYTHON
ä»Šå¤©çš„ç»“è®ºï¼šç”Ÿæ€ä¸°å¯Œã€éªŒè¯å¿«ï¼Œé€‚åˆæ•°æ®å¤„ç†å’Œè„šæœ¬ã€‚
è¿è¡Œç¯å¢ƒï¼šdarwin/amd64
Go ç‰ˆæœ¬ï¼šgo1.25.5
ç”Ÿæˆæ—¶é—´ï¼š2026-01-04T23:05:54+08:00
</code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿è¡Œæµ‹è¯•</span>
go <span class="hljs-built_in">test</span> ./internal/reasons -v
</code></pre>
<p>è¾“å‡ºç»“æœï¼š</p>
<pre><code class="hljs language-bash" lang="bash">=== RUN   TestReason
=== RUN   TestReason/default
=== RUN   TestReason/go
=== RUN   TestReason/python
--- PASS: TestReason (0.00s)
    --- PASS: TestReason/default (0.00s)
    --- PASS: TestReason/go (0.00s)
    --- PASS: TestReason/python (0.00s)
PASS
ok      learn-go/series/01/internal/reasons     0.007s
</code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¼–è¯‘æˆå¯æ‰§è¡Œæ–‡ä»¶</span>
go build -o hello ./cmd/hello
./hello --name=è¯»è€…
</code></pre>
<p>è¾“å‡ºç»“æœï¼š</p>
<pre><code class="hljs language-bash" lang="bash">ä½ å¥½ï¼Œè¯»è€…ï¼
ä½ æ­£åœ¨ä½“éªŒï¼šGO
ä»Šå¤©çš„ç»“è®ºï¼šç¼–è¯‘å¿«ã€éƒ¨ç½²ç®€å•ã€å¹¶å‘æ¨¡å‹æ¸…æ™°ï¼Œé€‚åˆåšåŸºç¡€è®¾æ–½å’ŒæœåŠ¡ç«¯ã€‚
è¿è¡Œç¯å¢ƒï¼šdarwin/amd64
Go ç‰ˆæœ¬ï¼šgo1.25.5
ç”Ÿæˆæ—¶é—´ï¼š2026-01-04T23:07:16+08:00
</code></pre>
<h3 data-id="heading-13">å·¥ç¨‹åŒ–æ”¹é€ å»ºè®®</h3>
<p><strong>å»ºè®® 1ï¼šåŠ å…¥ç»“æ„åŒ–æ—¥å¿—</strong></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">import</span> <span class="hljs-string">"log/slog"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    slog.Info(<span class="hljs-string">"ç¨‹åºå¯åŠ¨"</span>, <span class="hljs-string">"name"</span>, *name, <span class="hljs-string">"lang"</span>, *lang)
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<p><code>slog</code> æ˜¯ Go 1.21 å¼•å…¥çš„æ ‡å‡†åº“ï¼Œæ”¯æŒ JSON æ ¼å¼è¾“å‡ºï¼Œæ–¹ä¾¿å¯¹æ¥æ—¥å¿—ç³»ç»Ÿã€‚</p>
<p><strong>å»ºè®® 2ï¼šé…ç½®å¤–éƒ¨åŒ–</strong></p>
<p>æŠŠ <code>reasonByLang</code> æ”¹æˆä» YAML/JSON æ–‡ä»¶è¯»å–ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">import</span> <span class="hljs-string">"os"</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">"encoding/json"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">loadReasons</span><span class="hljs-params">(path <span class="hljs-type">string</span>)</span></span> (<span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">string</span>, <span class="hljs-type">error</span>) {
    data, err := os.ReadFile(path)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
    }
    <span class="hljs-keyword">var</span> m <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">string</span>
    err = json.Unmarshal(data, &amp;m)
    <span class="hljs-keyword">return</span> m, err
}
</code></pre>
<p><strong>å»ºè®® 3ï¼šæ·»åŠ ç‰ˆæœ¬ä¿¡æ¯</strong></p>
<p>åˆ©ç”¨ <code>go build -ldflags</code> åœ¨ç¼–è¯‘æ—¶æ³¨å…¥ç‰ˆæœ¬å·ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">var</span> Version = <span class="hljs-string">"dev"</span> <span class="hljs-comment">// ä¼šè¢«ç¼–è¯‘æ—¶è¦†ç›–</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    fmt.Println(<span class="hljs-string">"ç‰ˆæœ¬ï¼š"</span>, Version)
}
</code></pre>
<p>ç¼–è¯‘å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">go build -ldflags <span class="hljs-string">"-X main.Version=v1.0.0"</span> -o hello ./cmd/hello
</code></pre>
<h2 data-id="heading-14">6. æ€»ç»“ä¸è„‘å›¾</h2>
<ul>
<li><strong>cmd/ æ”¾å…¥å£ï¼Œinternal/ æ”¾ç§æœ‰é€»è¾‘</strong>â€”â€”è¿™æ˜¯ Go é¡¹ç›®ç»“æ„çš„é»„é‡‘æ³•åˆ™</li>
<li><strong>flag åŒ…è¿”å›æŒ‡é’ˆ</strong>ï¼Œè®°å¾—ç”¨ <code>*</code> è§£å¼•ç”¨ï¼Œåˆ«å¿˜äº†è°ƒç”¨ <code>Parse()</code></li>
<li><strong>comma ok æƒ¯ç”¨æ³•</strong>ï¼ˆ<code>v, ok := m[key]</code>ï¼‰æ˜¯å®‰å…¨è®¿é—® map çš„æ ‡å‡†å§¿åŠ¿</li>
<li><strong>é¦–å­—æ¯å¤§å°å†™å†³å®šå¯è§æ€§</strong>ï¼Œè¿™æ˜¯ Go ç‹¬ç‰¹çš„"æ— å…³é”®å­—"è®¾è®¡å“²å­¦</li>
<li><strong>è¡¨é©±åŠ¨æµ‹è¯•</strong>è®©ä½ çš„æµ‹è¯•ä»£ç æ›´ç®€æ´ã€æ›´æ˜“ç»´æŠ¤</li>
</ul>
<p>å¦‚æœä½ æ­£å‡†å¤‡å…¥å‘ Goï¼Œä¸å¦¨æŠŠè¿™ä¸ª Demo clone ä¸‹æ¥ï¼Œäº²æ‰‹æ”¹ä¸€æ”¹ã€è·‘ä¸€è·‘ã€‚<strong>çœ‹åéä¸å¦‚å†™ä¸€é</strong>ï¼Œè¿™æ˜¯æˆ‘è¿™äº›å¹´æœ€æ·±çš„ä½“ä¼šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€è‡´æ€§å“ˆå¸Œä»‹ç»]]></title>    <link>https://juejin.cn/post/7591330139083489295</link>    <guid>https://juejin.cn/post/7591330139083489295</guid>    <pubDate>2026-01-04T14:23:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591330139083489295" data-draft-id="7591156262626459683" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€è‡´æ€§å“ˆå¸Œä»‹ç»"/> <meta itemprop="keywords" content="æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-04T14:23:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€è‡´æ€§å“ˆå¸Œä»‹ç»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T14:23:57.000Z" title="Sun Jan 04 2026 14:23:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸€è‡´æ€§å“ˆå¸Œï¼ˆConsistent Hashingï¼‰æ˜¯ä¸€ç§**â€œè®©èŠ‚ç‚¹æ‰©ç¼©å®¹æ—¶ï¼Œå°½å¯èƒ½å°‘åœ°è¿ç§»æ•°æ®â€<strong>çš„åˆ†å¸ƒå¼å“ˆå¸Œç®—æ³•ã€‚<br/>
1997 å¹´ç”± MIT çš„ Karger ç­‰äººæå‡ºï¼Œç°åœ¨å‡ ä¹æˆäº†</strong>åˆ†å¸ƒå¼ç¼“å­˜ã€è´Ÿè½½å‡è¡¡ã€åˆ†åº“åˆ†è¡¨**çš„æ ‡é…ã€‚</p>
<hr/>
<h3 data-id="heading-0">1. ä¼ ç»Ÿå“ˆå¸Œçš„é—®é¢˜</h3>
<p>å‡è®¾æœ‰ N å°ç¼“å­˜èŠ‚ç‚¹ï¼Œç”¨ <code>hash(key) % N</code> å†³å®šæ•°æ®è½åœ¨å“ªå°æœºå™¨ã€‚</p>
<ul>
<li>èŠ‚ç‚¹å®•æœºæˆ–æ–°å¢ 1 å° â†’ N å˜åŒ– â†’ <strong>å‡ ä¹æ‰€æœ‰ key é‡æ–°æ˜ å°„</strong> â†’ ç¼“å­˜é›ªå´©ï¼Œæ•°æ®åº“ç¬é—´è¢«æ‰“çˆ†ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-1">2. ä¸€è‡´æ€§å“ˆå¸Œçš„æ ¸å¿ƒæ€æƒ³</h3>
<p>æŠŠ<strong>å“ˆå¸Œç©ºé—´</strong>æƒ³è±¡æˆä¸€æ¡<strong>é¦–å°¾ç›¸æ¥çš„ 2Â³Â² ç¯å½¢è½¨é“</strong>ï¼ˆ0 â†’ 2Â³Â²-1 â†’ 0ï¼‰ã€‚<br/>
æ­¥éª¤ï¼š</p>
<ol>
<li>èŠ‚ç‚¹å…¥ç¯ï¼šå¯¹èŠ‚ç‚¹ IP/ID åš hashï¼Œå¾—åˆ°å…¶åœ¨ç¯ä¸Šçš„ä½ç½®ã€‚</li>
<li>æ•°æ®å…¥ç¯ï¼šå¯¹ key åš hashï¼Œé¡ºæ—¶é’ˆæ‰¾åˆ°<strong>ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</strong>ï¼Œå°±æ˜¯å®ƒçš„å½’å±ã€‚</li>
<li>èŠ‚ç‚¹å¢å‡ï¼šåªå½±å“<strong>ç¯ä¸Šç›¸é‚»çš„ä¸€æ®µå¼§</strong>ï¼Œå…¶ä½™æ•°æ®åŸåœ°ä¸åŠ¨ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-2">3. è™šæ‹ŸèŠ‚ç‚¹ï¼ˆVirtual Nodesï¼‰â€”â€”è§£å†³â€œå€¾æ–œâ€**</h3>
<p>çœŸå®èŠ‚ç‚¹å¾ˆå°‘æ—¶ï¼Œç¯ä¸Šåˆ†å¸ƒä¸å‡ï¼Œæ˜“äº§ç”Ÿâ€œæ•°æ®æ‰å †â€ã€‚<br/>
ç»™æ¯å°ç‰©ç†èŠ‚ç‚¹ç”Ÿæˆ<strong>ä¸Šç™¾ä¸ªè™šæ‹ŸèŠ‚ç‚¹</strong>ï¼ˆå¦‚ <code>node1#1</code>ã€<code>node1#2</code>â€¦ï¼‰ï¼Œæ‰“æ•£åœ¨ç¯ä¸Šï¼Œ<strong>è´Ÿè½½æ–¹å·®</strong>ç¬é—´ä¸‹é™ã€‚</p>
<hr/>
<h3 data-id="heading-3">4. æ‰©ç¼©å®¹ç¤ºä¾‹</h3>
<ul>
<li>åˆå§‹ 3 å°èŠ‚ç‚¹ A/B/Cï¼Œkey æŒ‰é¡ºæ—¶é’ˆè§„åˆ™è½ç‚¹ã€‚</li>
<li>æ–°å¢èŠ‚ç‚¹ Dï¼Œä½äº Bâ†’C ä¹‹é—´ï¼š<br/>
ä»…æŠŠåŸæœ¬å½’å± C çš„**â€œBâ†’Dâ€**è¿™æ®µ key è¿ç»™ Dï¼Œ<strong>å‰©ä½™ 90%+ æ•°æ®ä¸åŠ¨</strong>ã€‚</li>
<li>èŠ‚ç‚¹ B å®•æœºï¼š<br/>
åŸæ¥ Bâ†’C ä¹‹é—´çš„ key é¡ºæ—¶é’ˆæ»‘åˆ° Cï¼Œ<strong>å…¶ä»–åŒºé—´æ— æ„ŸçŸ¥</strong>ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-4">5. ä»£ç çº§ç›´è§‰ï¼ˆPython ä¼ªä»£ç ï¼‰</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> hashlib, bisect, collections

ring = []                                      <span class="hljs-comment"># æœ‰åºå“ˆå¸Œç¯</span>
vnode_map = {}                                <span class="hljs-comment"># è™šæ‹ŸèŠ‚ç‚¹ â†’ ç‰©ç†èŠ‚ç‚¹</span>
VNODE_PER_NODE = <span class="hljs-number">150</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">_hash</span>(<span class="hljs-params">x</span>):
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>(hashlib.md5(x.encode()).hexdigest(), <span class="hljs-number">16</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">add_node</span>(<span class="hljs-params">node</span>):
    <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(VNODE_PER_NODE):
        h = _<span class="hljs-built_in">hash</span>(<span class="hljs-string">f"<span class="hljs-subst">{node}</span>#<span class="hljs-subst">{v}</span>"</span>)
        ring.insert(bisect.bisect_left(ring, h), h)
        vnode_map[h] = node

<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_node</span>(<span class="hljs-params">key</span>):
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> ring: <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
    h = _<span class="hljs-built_in">hash</span>(key)
    pos = bisect.bisect(ring, h) % <span class="hljs-built_in">len</span>(ring)
    <span class="hljs-keyword">return</span> vnode_map[ring[pos]]
</code></pre>
<p>å¢åˆ èŠ‚ç‚¹åªéœ€ <code>add_node</code>/<code>remove_node</code>ï¼Œè°ƒç”¨ç«¯é›¶æ„ŸçŸ¥ã€‚</p>
<hr/>
<h3 data-id="heading-5">6. ä¸€å¥è¯æ€»ç»“</h3>
<p>ä¸€è‡´æ€§å“ˆå¸Œ = <strong>â€œæŠŠèŠ‚ç‚¹å’Œæ•°æ®æ”¾åˆ°åŒä¸€ä¸ªç¯ä¸Šï¼Œé¡ºæ—¶é’ˆæ‰¾é‚»å±…â€</strong>ï¼Œ<br/>
è®©<strong>èŠ‚ç‚¹å˜åŒ–æ—¶çš„æ•°æ®è¿ç§»é‡ä» O(M) é™åˆ° O(M/N)</strong>ï¼Œ<br/>
å†åŠ è™šæ‹ŸèŠ‚ç‚¹è§£å†³å€¾æ–œï¼Œå°±æˆä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿé‡Œ<strong>æœ€ä¼˜é›…çš„æ•°æ®åˆ†ç‰‡æ–¹æ¡ˆ</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2026äº‘æœåŠ¡å™¨ä»é›¶ æ­å»ºä¸è¿ç»´ æŒ‡å—]]></title>    <link>https://juejin.cn/post/7591422577936728070</link>    <guid>https://juejin.cn/post/7591422577936728070</guid>    <pubDate>2026-01-04T08:36:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591422577936728070" data-draft-id="7590752433988862006" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2026äº‘æœåŠ¡å™¨ä»é›¶ æ­å»ºä¸è¿ç»´ æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯,æœåŠ¡å™¨,JavaScript"/> <meta itemprop="datePublished" content="2026-01-04T08:36:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç™¾ä¸‡å‰ç«¯å‘å‰å†²"/> <meta itemprop="url" content="https://juejin.cn/user/641770519804926"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2026äº‘æœåŠ¡å™¨ä»é›¶ æ­å»ºä¸è¿ç»´ æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/641770519804926/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç™¾ä¸‡å‰ç«¯å‘å‰å†²
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T08:36:45.000Z" title="Sun Jan 04 2026 08:36:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;color:#282d36}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px;color:#2f845e}.markdown-body h2{font-size:22px;display:inline-block;font-weight:700;background:#2f845e;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(47,132,194,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 32px);border-bottom:3px solid #2f845e}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%;box-shadow:6px 6px 6px #888}.markdown-body hr{border:none;border-top:1px solid rgba(66,185,131,.15);margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#f6ffed;color:#52c41a;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:16px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#262626;border:1px solid #2f845e;border-top:8px solid #2f845e;background:linear-gradient(180deg,rgba(66,185,131,.1),transparent)!important}.markdown-body pre&gt;code.hljs[lang]:before{top:8px!important;color:#2f845e!important}.markdown-body pre&gt;code.language-awesome_error{border:1px solid #ff4d4f!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#ff4d4f!important;background:#fff2f0!important}.markdown-body pre&gt;code.language-awesome_error:before{content:"!"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#ff4d4f!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_warn{border:1px solid #ffc46f!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#ffc46f!important;background:#fffbe6!important}.markdown-body pre&gt;code.language-awesome_warn:before{content:"â˜‚"!important;position:absolute;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#ffc46f!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_success{border:1px solid #52c41a!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#52c41a!important;background:#f6ffed!important}.markdown-body pre&gt;code.language-awesome_success:before{content:"âœ“"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#52c41a!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_info{border:1px solid #1890ff!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#1890ff!important;background:#e6f7ff!important}.markdown-body pre&gt;code.language-awesome_info:before{content:"i"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#1890ff!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body strong{background-color:inherit;color:#2f845e}.markdown-body em{background-color:inherit;color:#949415}.markdown-body a{text-decoration:none;color:#2f8e54;border-bottom:1px solid #3f9e64}.markdown-body a:active,.markdown-body a:hover{color:#3f9e64}.markdown-body a[class^=footnote]{margin-left:4px}.markdown-body a:before{content:"â¤ "}.markdown-body table{font-size:12px;width:100%;max-width:100%;overflow:auto;border:2px solid #2f8e54}.markdown-body thead{background:#2f8e54;color:#fff;text-align:left;font-weight:700}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:22px}.markdown-body td{min-width:120px}.markdown-body blockquote{padding:1px 22px;margin:22px 0;border-left:6px solid #2f845e;background-color:rgba(66,185,131,.1);border-radius:2px}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#2f845e}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px;color:#282d36}.markdown-body del{color:#2f845e}.markdown-body input[type=checkbox]:checked:before{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA/klEQVQ4T72TMU7DQBBF318XdFR06egQEnAXRINEGlqgowoIR8AF4AZOZ4JEGq5AC5EixBU4A55BNrEVHAcSBTHlaubt37/zxZKlcn7n6mDPXJvz8IJ89HzWu8t7C8D2dfsY52ae4apHnLx0ktsCsHXZjiUuFgG40x2eJ/H/AhztB+zDUTpLwWj8jGkzxSHiHaMPrDQC8sMoilKzLAUqiKQjmb+ZuAdW80tmelCHODoNgSfP7AFprTTaRTzsJN1GEyuIZ7uW6TEEHwCtyV/6EVBKJHhfzgC0Xv/iXwEFBF4FG0378bd7sPQq5xK/hSnk6sdlX3mZrKkwLZKBeu8n9XuWEUE7X+YAAAAASUVORK5CYII=);position:relative;top:-1px;left:-1px}.markdown-body .math .katex{font-family:Menlo,Monaco,Consolas,Courier New,monospace;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#f6ffed;color:#52c41a;font-size:.87em;padding:.065em .4em}@media (max-width:720px){.markdown-body h1{font-size:22px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">â“ªã€è´­ä¹°æœåŠ¡å™¨é€‰æ‹©é…ç½®</h2>
<p>ä½œä¸ºå­¦ç”Ÿé¦–æ¬¡ä½¿ç”¨ é€‰ Windows Server ç³»ç»Ÿ ã€‚</p>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dfa23a1c238b4fd68610abd69013540c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768141911&amp;x-signature=GsbJW%2Fi8OzBlA48%2F2EsyMRjkfWA%3D" alt="å›¾ç‰‡.png" width="50%" loading="lazy"/>
<h2 data-id="heading-1">ä¸€ã€è¿œç¨‹ç™»å½•(winç³»ç»Ÿè‡ªå¸¦å·¥å…·mstsc)</h2>
<h3 data-id="heading-2">1.1è¿œç¨‹ç™»å½•å‡†å¤‡å·¥ä½œ</h3>
<p>âœï¸åˆ›å»ºä¸€ä¸ªæœ¬åœ°è®°äº‹æœ¬ï¼ï¼ï¼è®°å½•ä¸‹æœåŠ¡å™¨å…¬ç½‘IPã€è´¦å·ã€å¯†ç :<br/>
å»ºè®®å¤§å®¶åˆšå¼€å§‹ç”¨å°†æœåŠ¡å™¨é‡æ–°è®¾ç½®ä¸ºé»˜è®¤çš„å¯†ç <br/>
ï¼ˆå¤åˆ¶é“¾æ¥æ‰“å¼€åœ¨äº‘æœåŠ¡å™¨æ§åˆ¶å°å¯ä»¥é‡ç½®ï¼‰<br/></p>
<p>IPåœ°å€:112.124.62.199 (å…¬ç½‘IP)
è´¦å·:<code>administrator</code>
å¯†ç :<code>2026A#a1</code></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable constant_">IP</span>åœ°å€:<span class="hljs-number">112.124</span><span class="hljs-number">.62</span><span class="hljs-number">.199</span> (å…¬ç½‘<span class="hljs-variable constant_">IP</span>)
è´¦å·:administrator 
å¯†ç :2026A#a1
</code></pre>
<h3 data-id="heading-3">1.2è¿œç¨‹ç™»å½•</h3>
<p>æŒ‰é”®ç›˜ Win+Ré”® è¾“å…¥ <code>mstsc</code> ç‚¹ç¡®å®š<br/></p>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/966814c9ec6e4526865a9f69988fadae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768141911&amp;x-signature=RpivCRAusjBh9lSouP0xWfgFI1s%3D" alt="å›¾ç‰‡.png" width="70%" loading="lazy"/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4ec80db3cebb4d15ace481297b0f1db6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768141911&amp;x-signature=6DpfpmSFxXXr%2FCHSydwt%2FUK03NQ%3D" alt="å›¾ç‰‡.png" width="70%" loading="lazy"/>
<h2 data-id="heading-4">ä¸‰ã€æœåŠ¡å™¨ç¯å¢ƒé…ç½®</h2>
<h3 data-id="heading-5">3.1 é…ç½®Node.jsç½‘ç«™è¿è¡Œç¯å¢ƒ</h3>
<p>ä½¿ç”¨æœåŠ¡å™¨ æµè§ˆå™¨ è®¿é—®ç½‘å€<a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2Fzh-cn%2Fdownload" target="_blank" title="https://nodejs.org/zh-cn/download" ref="nofollow noopener noreferrer">nodejs.org/zh-cn/downlâ€¦</a> ï¼Œä¸‹è½½Node.js V24ä»¥ä¸Š
å¹¶å®‰è£…ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8cdcb12570b84a36b8d00ae8923f07e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768141911&amp;x-signature=ZQ4Lr9Oy8%2B3vORFPpvcs948y6Q0%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bdc9ed7a0e814baca01f035fc0490190~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768141911&amp;x-signature=4osJTbkJ2eS%2BwEXQHuSiGJAqMX8%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5703aa8aab64cc5b175decfa2193f83~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768141911&amp;x-signature=ZIe7NmIkBcRLu43NUKdwVfO7mFE%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<h3 data-id="heading-6">3.2 å°†ä»£ç ä¸Šä¼ è‡³äº‘æœåŠ¡å™¨(è¿œç¨‹ç”µè„‘)</h3>
<p>ç®€å•æ¥è¯´å°±æ˜¯è¦å…±äº«ç¡¬ç›˜ç»™è¿œç¨‹ç”µè„‘ã€‚
åœ¨Dç›˜æˆ–è€…Eç›˜åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹A æˆ–è€…0104ï¼Œå°†ä½ éœ€è¦å±•ç¤ºçš„é¦–é¡µä»£ç æ”¾å…¥è¯¥æ–‡ä»¶å¤¹ï¼Œ
åŒæ—¶ä¸‹è½½ ç”ŸèœæœåŠ¡å™¨ä»£ç  <code>SC.js</code>(åŸå ç”ŸèœæœåŠ¡å™¨1.7.0)</p>
<h5 data-id="heading-7">1ï¼‰å‡†å¤‡ä»£ç æ–‡ä»¶å’Œç´ æ</h5>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6c9b4c863c0444da55b540b42441201~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768141911&amp;x-signature=xVr79Nb6cQWu37ixmiSwCQ4W1Ok%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<h5 data-id="heading-8">2ï¼‰å…±äº«æœ¬åœ°ç¡¬ç›˜ç»™ æœåŠ¡å™¨ç”µè„‘</h5>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99ed275ad645499daf459a69e6171e8e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768141911&amp;x-signature=tCOb5AZV82GMmcQjjnl739NhLiE%3D" alt="dbc994b353fec7cbc009feff56207338.png" loading="lazy"/></p>
<h5 data-id="heading-9">3ï¼‰ç‚¹å‡»å›æ”¶ç«™ï¼Œè¿›å…¥æˆ‘çš„ç”µè„‘ï¼ŒæŸ¥çœ‹å…±äº«çš„ç¡¬ç›˜ï¼ŒæŠŠæ–‡ä»¶å¤¹æ‹–åˆ°æ¡Œé¢</h5>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e5a37cfdf7c4660931edb765151bd7b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768141911&amp;x-signature=MXrdEjX37BlBjcHvrRlZu06zUfg%3D" alt="16ad31727504d101ba0ca19b308c52bd_720.png" loading="lazy"/></p>
<h5 data-id="heading-10">4ï¼‰æ‰¾åˆ°ä»£ç æ–‡ä»¶å¤¹ æ‹–åˆ°æœåŠ¡å™¨ç”µè„‘çš„æ¡Œé¢</h5>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/57dbe1eaffeb44e3a62285090aec651b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768141911&amp;x-signature=v4gXqy1FOgRWW%2BpwLt%2BOHfEP9kw%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<h5 data-id="heading-11">5ï¼‰å¯åŠ¨ç”ŸèœæœåŠ¡å™¨ï¼Œè¿™ä¸ªçª—å£ä¸è¦å…³</h5>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/41451454138f40a5a281fbdd6f159ab8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768141911&amp;x-signature=dgtjqNGjSqm05z0qZkRT062SJfU%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<p>ç‰¹åˆ«æ³¨æ„:åç»­ä¼ HTML+CSS+JSéƒ½ä¸éœ€è¦é‡å¯æœåŠ¡å™¨ã€‚åªè¦ä¿æŒé»‘è‰²çª—å£å¯åŠ¨æœåŠ¡å™¨ï¼Œè¿‡å‡ åˆ†é’Ÿè‡ªåŠ¨ä¼šåˆ·æ–°ã€‚</p>
<h2 data-id="heading-12">å››ã€å¼€å¯äº‘æœåŠ¡å™¨é˜²ç«å¢™å…è®¸80ç«¯å£</h2>
<p>ç°åœ¨åªå·®æœ€åä¸€æ­¥ï¼Œå› ä¸ºäº‘æœåŠ¡å™¨çš„è‡ªå¸¦çš„å®‰å…¨ç­–ç•¥æ˜¾ç¤ºï¼Œç½‘ç«™çš„80ç«¯å£æ²¡æœ‰å¯¹å¤–å¼€æ”¾ï¼Œæˆ‘ä»¬å¢åŠ 80ç«¯å£çš„å¯¹å¤–å¼€æ”¾å³å¯ã€‚</p>
<h3 data-id="heading-13">4.1 è¿›å…¥ECS æ§åˆ¶å°å®ä¾‹</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fecs.console.aliyun.com%2Fserver%2F" target="_blank" title="https://ecs.console.aliyun.com/server/" ref="nofollow noopener noreferrer">ecs.console.aliyun.com/server/</a>
ä¾æ¬¡è¿›å…¥:ECSç¤ºä¾‹â†’ç½‘ç»œä¸å®‰å…¨ç»„â†’æ·»åŠ å…¥ç«™æ–¹å‘è§„åˆ™
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80f346c92d3643d681371dcb7e0f0424~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768141911&amp;x-signature=Jlu0YihX0CiK%2Bsd3Z9pWGv3LerU%3D" alt="4a2d71ab4fe84a3bb7c775d8c4a20fd7_720.png" loading="lazy"/></p>
<h3 data-id="heading-14">4.2 æ·»åŠ http 80ç«¯å£è§„åˆ™</h3>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºç¡®å®šã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/922649ba659948e28a8889a1f1b41388~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5LiH5YmN56uv5ZCR5YmN5Yay:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768141911&amp;x-signature=OTkb%2BzmcHiqE3o9KcYA3kutrU0A%3D" alt="3fb4181539af37311d6fc43178e8e288_720.png" loading="lazy"/></p>
<h3 data-id="heading-15">4.3 æµè§ˆå™¨è¾“å…¥å…¬ç½‘IPè®¿é—®å³å¯ã€‚</h3>
<p>å…¬ç½‘IPæ”¯æŒä»»æ„å¯ä»¥ä¸Šç½‘çš„è®¾å¤‡ï¼ŒåŒ…æ‹¬æ‰‹æœºã€ç”µè„‘ç­‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[DeepSeekæ–°å¹´ç‚¸åœºï¼šç»™å¤±æ§çš„AIæ¨¡å‹è£…ä¸Šæ•°å­¦çº¢ç»¿ç¯]]></title>    <link>https://juejin.cn/post/7591317772074582035</link>    <guid>https://juejin.cn/post/7591317772074582035</guid>    <pubDate>2026-01-04T14:40:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591317772074582035" data-draft-id="7591334602427236415" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="DeepSeekæ–°å¹´ç‚¸åœºï¼šç»™å¤±æ§çš„AIæ¨¡å‹è£…ä¸Šæ•°å­¦çº¢ç»¿ç¯"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2026-01-04T14:40:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            DeepSeekæ–°å¹´ç‚¸åœºï¼šç»™å¤±æ§çš„AIæ¨¡å‹è£…ä¸Šæ•°å­¦çº¢ç»¿ç¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T14:40:05.000Z" title="Sun Jan 04 2026 14:40:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2025å¹´çš„è·¨å¹´å¤œï¼Œå½“å¤§å¤šæ•°äººè¿˜åœ¨å€’æ•°è®¡æ—¶è¿æ¥æ–°å¹´çš„æ—¶å€™ï¼ŒDeepSeekçš„å›¢é˜Ÿå¹²äº†ä¸€ä»¶éå¸¸æå®¢çš„äº‹â€”â€”ä»–ä»¬ç”©å‡ºäº†ä¸€ç¯‡é‡ç£…è®ºæ–‡ã€‚</p>
<p>è¿™ç¯‡åä¸ºã€ŠmHC: Manifold-Constrained Hyper-Connectionsã€‹çš„è®ºæ–‡ï¼Œçœ‹ä¼¼æ ‡é¢˜å……æ»¡äº†æ™¦æ¶©çš„æ•°å­¦åè¯ï¼Œä½†å®é™…ä¸Šï¼Œå®ƒå¯èƒ½åˆšåˆšè§£å¼€äº†å›°æ‰°å¤§æ¨¡å‹ç•Œå·²ä¹…çš„ä¸€ä¸ªæ­»ç»“ï¼š<strong>æ¨¡å‹è¶Šå¤§ï¼Œè¶Šå®¹æ˜“ç»ƒå´©ã€‚</strong></p>
<p>ä»Šå¤©æˆ‘ä»¬å°±æŠ›å¼€é‚£äº›å¤æ‚çš„å…¬å¼ï¼Œç”¨äººè¯èŠèŠè¿™é¡¹å¯èƒ½å®šä¹‰â€œåTransformeræ—¶ä»£â€çš„æ–°æŠ€æœ¯ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2FiShot_2026-01-04_22.28.40-1024x547.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/iShot_2026-01-04_22.28.40-1024x547.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19e57f8fd38846818d099a20c8e5cca0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768142405&amp;x-signature=IhJA2XveVygi%2BHz06LgqGly%2FWp0%3D" alt="iShot_2026-01-04_22.28.40" loading="lazy"/></a></p>
<h3 data-id="heading-0">è´ªå©ªçš„ä»£ä»·ï¼šå½“â€œå®½å¸¦â€å˜æˆç¾éš¾</h3>
<p>è¿‡å»è¿™åå¹´ï¼Œæ·±åº¦å­¦ä¹ èƒ½å‘å±•è¿™ä¹ˆå¿«ï¼Œä½•å‡¯æ˜å¤§ç¥çš„ResNetï¼ˆæ®‹å·®è¿æ¥ï¼‰åŠŸä¸å¯æ²¡ã€‚ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€æ¡â€œç›´é€šè½¦é“â€ï¼Œä¿è¯äº†ä¿¡æ¯åœ¨æ·±å±‚ç½‘ç»œä¸­ä¸ä¼šè¿·è·¯ã€‚</p>
<p>åˆ°äº†2024å¹´ï¼Œå­—èŠ‚è·³åŠ¨æå‡ºäº†ä¸€ä¸ªå«â€œè¶…è¿æ¥â€ï¼ˆHyper-Connections, HCï¼‰çš„ä¸œè¥¿ã€‚æ€è·¯å¾ˆç›´æ¥ï¼šæ—¢ç„¶ä¸€æ¡ç›´é€šè½¦é“å¥½ç”¨ï¼Œé‚£æˆ‘æŠŠè½¦é“æ‹“å®½æˆåæ¡ã€ç™¾æ¡ï¼Œè®©ä¿¡æ¯åœ¨ä¸åŒè½¦é“é—´éšæ„ç©¿æ¢­ã€äº¤äº’ï¼Œæ¨¡å‹èƒ½åŠ›å²‚ä¸æ˜¯è¦èµ·é£ï¼Ÿ</p>
<p>ç¡®å®ï¼ŒHCè®©æ¨¡å‹çš„è¡¨è¾¾èƒ½åŠ›å˜å¼ºäº†ï¼Œä½†ä¹Ÿå¸¦æ¥äº†ä¸€ä¸ªè‡´å‘½å‰¯ä½œç”¨â€”â€”<strong>ä¿¡å·å¤±æ§</strong>ã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æŠŠåŸæ¥çš„å•è¡Œé“æ”¹æˆäº†ä¸€ä¸ªæ²¡æœ‰äº¤é€šè§„åˆ™çš„è¶…çº§å¹¿åœºã€‚ä¿¡æ¯åœ¨é‡Œé¢ç–¯ç‹‚ç¢°æ’ã€å åŠ ã€‚DeepSeekçš„å®éªŒæ•°æ®æ˜¾ç¤ºï¼Œåœ¨ä¼ ç»Ÿçš„HCæ¶æ„ä¸‹ï¼Œéšç€å±‚æ•°åŠ æ·±ï¼Œä¿¡å·å¼ºåº¦å¯èƒ½ä¼šè¢«æ— è„‘æ”¾å¤§3000å€ã€‚è¿™å°±å¥½æ¯”ä½ åœ¨éº¦å…‹é£å‰è½»å£°è¯´å¥è¯ï¼ŒéŸ³å“é‡Œå‡ºæ¥çš„å´æ˜¯æ ¸çˆ†èˆ¬çš„å™ªéŸ³ã€‚</p>
<p>ç»“æœå°±æ˜¯ï¼šæ˜¾å­˜çˆ†ç‚¸ï¼Œæ¢¯åº¦æ¶ˆå¤±ï¼Œè®­ç»ƒæ›²çº¿åƒè¿‡å±±è½¦ä¸€æ ·å‡ºç°å°–å³°ï¼Œæœ€åæ¨¡å‹å½»åº•â€œç»ƒåºŸäº†â€ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2FiShot_2026-01-04_22.28.48-1024x409.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/iShot_2026-01-04_22.28.48-1024x409.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba5566a1a6e045bcaaf42841aedc514e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768142405&amp;x-signature=p0V09wZX0IJ6quqAFm6FSpTmqOo%3D" alt="iShot_2026-01-04_22.28.48" loading="lazy"/></a></p>
<h3 data-id="heading-1">æˆ´ç€é•£é“è·³èˆï¼šmHCçš„ä¼˜é›…è§£æ³•</h3>
<p>DeepSeekæå‡ºçš„mHCï¼ˆæµå½¢çº¦æŸè¶…è¿æ¥ï¼‰ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ç»™é‚£ä¸ªæ··ä¹±çš„è¶…çº§å¹¿åœºè£…ä¸Šäº†ä¸€å¥—æå…¶ç²¾å¯†çš„â€œæ™ºèƒ½çº¢ç»¿ç¯ç³»ç»Ÿâ€ã€‚</p>
<p>è¿™é‡Œçš„æ ¸å¿ƒé­”æ³•åœ¨äº**â€œæµå½¢çº¦æŸâ€**ã€‚</p>
<p>å›¢é˜Ÿå¼•å…¥äº†æ•°å­¦ä¸Šçš„â€œåŒéšæœºçŸ©é˜µâ€æ¦‚å¿µã€‚ç®€å•æ¥è¯´ï¼Œä»–ä»¬é€šè¿‡ä¸€ä¸ªå«Sinkhorn-Knoppçš„ç»å…¸ç®—æ³•ï¼Œå¼ºåˆ¶è¦æ±‚ç½‘ç»œä¸­çš„æ¯ä¸€æ¬¡ä¿¡æ¯äº¤æ¢éƒ½å¿…é¡»éµå®ˆä¸€ä¸ªè§„åˆ™ï¼š<strong>èƒ½é‡å®ˆæ’</strong>ã€‚ä¸ç®¡ä¿¡æ¯æ€ä¹ˆå˜é“ã€æ€ä¹ˆæ··åˆï¼Œè¿›å»å¤šå°‘èƒ½é‡ï¼Œå‡ºæ¥è¿˜æ˜¯å¤šå°‘èƒ½é‡ã€‚</p>
<p>è¿™ç§åšæ³•æŠŠåŸæœ¬ç‹‚é‡çš„ä¿¡å·æ”¾å¤§å˜æˆäº†ä¿¡å·çš„â€œå‡¸ç»„åˆâ€ï¼ˆConvex Combinationï¼‰ã€‚è¿™å°±åƒè°ƒé¸¡å°¾é…’ï¼Œä¸ç®¡ä½ æ€ä¹ˆæ‘‡æ™ƒæ··åˆï¼Œé…’çš„æ€»é‡ä¸ä¼šå‡­ç©ºå˜å¤šï¼Œä¹Ÿä¸ä¼šå‡­ç©ºæ¶ˆå¤±ã€‚</p>
<p>è¿™ä¸€æ”¹ï¼Œå¥‡è¿¹å‘ç”Ÿäº†ã€‚</p>
<p>åŸæœ¬å¯èƒ½æ”¾å¤§3000å€çš„ä¿¡å·ï¼Œç°åœ¨è¢«ç¨³ç¨³æ§åˆ¶åœ¨1.6å€å·¦å³ã€‚é‚£æ¡åŸæœ¬è¿˜è¦é è¿æ°”æ‰èƒ½è·‘é€šçš„è®­ç»ƒæ›²çº¿ï¼Œç¬é—´å˜å¾—ä¸èˆ¬é¡ºæ»‘ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2FiShot_2026-01-04_22.28.54-1024x178.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/iShot_2026-01-04_22.28.54-1024x178.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/598287a8b2d54729b2e5e0817677d307~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768142405&amp;x-signature=UbxfNoC%2Bcbylfo3hGqPhAe0e7Yc%3D" alt="iShot_2026-01-04_22.28.54" loading="lazy"/></a></p>
<h3 data-id="heading-2">æå…¶æŠ é—¨çš„å·¥ç¨‹ä¼˜åŒ–</h3>
<p>å…‰æœ‰æ•°å­¦ç†è®ºæ²¡ç”¨ï¼Œå¦‚æœè·‘å¾—æ…¢ï¼Œå·¥ä¸šç•Œæ ¹æœ¬ä¸ä¼šçœ‹ä¸€çœ¼ã€‚DeepSeekè¿™å¸®äººæœ€å¯æ€•çš„åœ°æ–¹åœ¨äºï¼Œä»–ä»¬ä¸ä»…æ‡‚æ•°å­¦ï¼Œè¿˜æå…¶æ“…é•¿æŠ ç®—åŠ›ã€‚</p>
<p>ä¸ºäº†æŠŠè¿™ä¸ªå¤æ‚çš„æ•°å­¦çº¦æŸæ¬åˆ°GPUä¸Šè·‘ï¼Œä»–ä»¬åšäº†ä¸€ç³»åˆ—â€œä¸§å¿ƒç—…ç‹‚â€çš„ä¼˜åŒ–ï¼š</p>
<ol>
<li><strong>ç®—å­èåˆ</strong>ï¼šæŠŠå¥½å‡ ä¸ªè®¡ç®—æ­¥éª¤æ‰æˆä¸€æ­¥åšï¼Œå‡å°‘GPUè¯»å–å†…å­˜çš„æ¬¡æ•°ã€‚</li>
<li><strong>é€‰æ‹©æ€§é‡è®¡ç®—</strong>ï¼šä¸ºäº†çœæ˜¾å­˜ï¼Œæœ‰äº›ä¸­é—´ç»“æœç®—å®Œå°±æ‰”ï¼Œéœ€è¦æ—¶å†ç®—ï¼Œè€Œä¸”ä»–ä»¬ç®—å‡†äº†å“ªäº›è¯¥æ‰”ã€å“ªäº›è¯¥ç•™ã€‚</li>
</ol>
<p>ç»“æœå¦‚ä½•ï¼Ÿåœ¨æŠŠæ¨¡å‹å®½åº¦æ‰©å±•4å€çš„æƒ…å†µä¸‹ï¼ŒmHCæ¶æ„åªå¢åŠ äº†**6.7%**çš„é¢å¤–è®­ç»ƒæ—¶é—´ã€‚è¿™å°±å¥½æ¯”ä½ ç»™æ³•æ‹‰åˆ©æ¢äº†ä¸ªæ›´ç¨³çš„å¼•æ“ï¼Œæé€Ÿæ²¡æ‰ï¼Œæ²¹è€—ä¹Ÿæ²¡æ€ä¹ˆæ¶¨ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2FiShot_2026-01-04_22.29.00-1024x397.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/iShot_2026-01-04_22.29.00-1024x397.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75bfe28a0c53414fa8f45a6f237f64a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768142405&amp;x-signature=yzE3zgZU35BnV22%2BEdtxftNTbdA%3D" alt="iShot_2026-01-04_22.29.00" loading="lazy"/></a></p>
<h3 data-id="heading-3">å®æˆ˜ï¼š27Bæ¨¡å‹çš„å…¨é¢ç¢¾å‹</h3>
<p>DeepSeekæ²¡åœ¨å°æ¨¡å‹ä¸Šç©è¿‡å®¶å®¶ï¼Œç›´æ¥æ‹¿27Bå‚æ•°çš„æ¨¡å‹å¼€åˆ€ã€‚</p>
<p>å®éªŒç»“æœéå¸¸â€œå‡¡å°”èµ›â€ï¼š</p>
<ul>
<li><strong>ç¨³</strong>ï¼šé‚£äº›è®©å·¥ç¨‹å¸ˆå¤´ç§ƒçš„Losså°–å³°å®Œå…¨æ¶ˆå¤±ã€‚</li>
<li><strong>å¼º</strong>ï¼šåœ¨æ•°å­¦æ¨ç†ï¼ˆGSM8Kï¼‰ã€å¸¸è¯†é—®ç­”ï¼ˆBBHï¼‰ç­‰8é¡¹ç¡¬æ ¸æµ‹è¯•ä¸­ï¼Œå…¨é¢åŠæ‰“åŸºçº¿æ¨¡å‹ã€‚ç‰¹åˆ«æ˜¯åœ¨éœ€è¦ç»•å¼¯å­æ€è€ƒçš„BBHå’ŒDROPä»»åŠ¡ä¸Šï¼Œç›´æ¥æå‡äº†çº¦2%çš„æ€§èƒ½ã€‚</li>
</ul>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2FiShot_2026-01-04_22.29.07-1024x320.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/iShot_2026-01-04_22.29.07-1024x320.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2678e783ca2b43718b3da5c98062d442~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768142405&amp;x-signature=mlH9v0DiPi5m2JO8RmXVhkDBobA%3D" alt="iShot_2026-01-04_22.29.07" loading="lazy"/></a></p>
<h3 data-id="heading-4">ä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦ï¼Ÿ</h3>
<p>ä½ å¯èƒ½ä¼šè§‰å¾—ï¼Œè¿™ä¸å°±æ˜¯ä¸€ä¸ªæ¶æ„å¾®è°ƒå—ï¼Ÿ</p>
<p>å…¶å®ä¸ç„¶ã€‚mHCçš„å‡ºç°æ ‡å¿—ç€å¤§æ¨¡å‹è®¾è®¡çš„ä¸€ä¸ªè½¬æŠ˜ç‚¹ã€‚å®ƒå‘Šè¯‰æˆ‘ä»¬ï¼Œå•çº¯åœ°å †å‚æ•°ã€å †å±‚æ•°å·²ç»å¿«èµ°åˆ°å¤´äº†ã€‚æœªæ¥çš„æ–¹å‘ï¼Œæ˜¯ç ”ç©¶å±‚ä¸å±‚ä¹‹é—´å¦‚ä½•æ›´â€œå‡ ä½•â€åœ°è¿æ¥ã€‚</p>
<p>DeepSeekç”¨mHCè¯æ˜äº†ï¼šåœ¨è¿™ä¸ªç®—åŠ›æ˜‚è´µçš„æ—¶ä»£ï¼Œ<strong>æ•°å­¦ä¸Šçš„ä¸¥è°¨çº¦æŸï¼Œåè€Œæ˜¯é€šå‘æ›´å¤§è‡ªç”±åº¦çš„æ·å¾„ã€‚</strong></p>
<p>è¿™ä¸ä»…ä»…æ˜¯è®©å¤§å‚èƒ½æ›´ç¨³åœ°è®­ç»ƒä¸‡äº¿æ¨¡å‹ï¼Œä¹Ÿè®©èµ„æºæœ‰é™çš„å›¢é˜Ÿä¸å†å› ä¸ºä¸€æ¬¡â€œç‚¸ç‚‰â€è€Œå€¾å®¶è¡äº§ã€‚è¿™å°±æ˜¯æŠ€æœ¯çš„æµªæ¼«ä¹‹å¤„â€”â€”ç”¨æœ€æŠ½è±¡çš„æ•°å­¦ï¼Œè§£å†³æœ€ç°å®çš„éš¾é¢˜ã€‚</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[FastAPI ä» 0 åˆ° 1ï¼šå²ä¸Šæœ€è‰¯å¿ƒçš„ç°ä»£ Python Web æ¡†æ¶å…¥é—¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7591309945511149568</link>    <guid>https://juejin.cn/post/7591309945511149568</guid>    <pubDate>2026-01-04T14:47:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591309945511149568" data-draft-id="7591309945511133184" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="FastAPI ä» 0 åˆ° 1ï¼šå²ä¸Šæœ€è‰¯å¿ƒçš„ç°ä»£ Python Web æ¡†æ¶å…¥é—¨æŒ‡å—"/> <meta itemprop="keywords" content="FastAPI"/> <meta itemprop="datePublished" content="2026-01-04T14:47:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            FastAPI ä» 0 åˆ° 1ï¼šå²ä¸Šæœ€è‰¯å¿ƒçš„ç°ä»£ Python Web æ¡†æ¶å…¥é—¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T14:47:04.000Z" title="Sun Jan 04 2026 14:47:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ ‡ç­¾ï¼š<br/>
FastAPI Â· Python Â· å¼‚æ­¥ Â· ç±»å‹æç¤º Â· è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£ Â· é«˜æ€§èƒ½</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆåˆæ˜¯æ–°æ¡†æ¶ï¼Ÿ</h2>
<p>Django / Flask å·²ç»å¤Ÿå¥½äº†ï¼Œä½†æ–°æ—¶ä»£æœ‰äº†æ–°ç—›ç‚¹ï¼š</p>
<ol>
<li>å‰åç«¯åˆ†ç¦» â†’ éœ€è¦<strong>å¼ºåˆ¶ç±»å‹ &amp; è‡ªåŠ¨æ–‡æ¡£</strong></li>
<li>é«˜å¹¶å‘ IO â†’ éœ€è¦<strong>åŸç”Ÿå¼‚æ­¥</strong></li>
<li>æœºå™¨å­¦ä¹ æ¨¡å‹ä¸Šçº¿ â†’ éœ€è¦<strong>é«˜æ€§èƒ½ + è‡ªåŠ¨åºåˆ—åŒ–</strong></li>
</ol>
<p>FastAPI = Starletteï¼ˆå¼‚æ­¥ï¼‰+ Pydanticï¼ˆæ•°æ®æ ¡éªŒï¼‰+ è‡ªåŠ¨ç”Ÿæˆ OpenAPI æ–‡æ¡£ï¼Œä¸‰ç®­é½å‘ï¼Œå®˜æ–¹ benchmark  latency ç›´è¿½ NodeJS å’Œ Goã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€5 åˆ†é’Ÿè·‘é€š Hello World</h2>
<p>å®‰è£…</p>
<pre><code class="hljs language-bash" lang="bash">pip install <span class="hljs-string">"fastapi[all]"</span>   <span class="hljs-comment"># all = uvicorn + å¸¸ç”¨ extras</span>
</code></pre>
<p>main.py</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI

app = FastAPI(title=<span class="hljs-string">"Hello API"</span>)

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/"</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">root</span>():
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"message"</span>: <span class="hljs-string">"Hello FastAPI"</span>}
</code></pre>
<p>å¯åŠ¨</p>
<pre><code class="hljs language-bash" lang="bash">uvicorn main:app --reload
</code></pre>
<p>æµè§ˆå™¨è®¿é—® <a href="https://link.juejin.cn?target=http%3A%2F%2F127.0.0.1%3A8000" target="_blank" title="http://127.0.0.1:8000" ref="nofollow noopener noreferrer">http://127.0.0.1:8000</a><br/>
äº¤äº’å¼æ–‡æ¡£ <a href="https://link.juejin.cn?target=http%3A%2F%2F127.0.0.1%3A8000%2Fdocs" target="_blank" title="http://127.0.0.1:8000/docs" ref="nofollow noopener noreferrer">http://127.0.0.1:8000/docs</a>ï¼ˆSwagger UIï¼‰è‡ªåŠ¨ç”Ÿæˆï¼</p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€ç±»å‹æç¤º = è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£ + è¿è¡Œæ—¶æ ¡éªŒ</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Item</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    name: <span class="hljs-built_in">str</span>
    price: <span class="hljs-built_in">float</span>
    tax: <span class="hljs-built_in">float</span> | <span class="hljs-literal">None</span> = <span class="hljs-literal">None</span>

<span class="hljs-meta">@app.post(<span class="hljs-params"><span class="hljs-string">"/items/"</span>, response_model=Item</span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_item</span>(<span class="hljs-params">item: Item</span>):
    <span class="hljs-keyword">if</span> item.tax:
        item.price += item.tax
    <span class="hljs-keyword">return</span> item    <span class="hljs-comment"># è‡ªåŠ¨åºåˆ—åŒ– JSON</span>
</code></pre>
<ul>
<li>è¯·æ±‚ä½“å°‘å­—æ®µ â†’ 422 é”™è¯¯ + è¯¦ç»†ä½ç½®æç¤º</li>
<li>æ–‡æ¡£é‡Œ Schema ä¸ä»£ç <strong>å•ç‚¹çœŸç†</strong>ï¼Œæ°¸ä¸åŒæ­¥å¤±è´¥</li>
</ul>
<hr/>
<h2 data-id="heading-3">å››ã€å¼‚æ­¥å…¨ç¨‹é«˜èƒ½</h2>
<p>FastAPI é»˜è®¤åŸºäº <code>async def</code>ï¼Œä¸ <code>asyncio</code>ã€<code>aiohttp</code>ã€<code>aiomysql</code> å…¨å®¶æ¡¶æ— ç¼åä½œï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">from</span> aiohttp <span class="hljs-keyword">import</span> ClientSession

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/proxy"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">proxy</span>():
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> ClientSession() <span class="hljs-keyword">as</span> sess:
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> sess.get(<span class="hljs-string">"https://httpbin.org/delay/2"</span>) <span class="hljs-keyword">as</span> r:
            data = <span class="hljs-keyword">await</span> r.json()
    <span class="hljs-keyword">return</span> data
</code></pre>
<p>å•è¿›ç¨‹å¯å¹¶å‘ 1000+ æ…¢ IO è¯·æ±‚ï¼Œlatency è¿œä½äºåŒæ­¥æ¡†æ¶ã€‚</p>
<hr/>
<h2 data-id="heading-4">äº”ã€è·¯å¾„å‚æ•° &amp; æŸ¥è¯¢å‚æ•°ä¸€æŠŠæ¢­</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/user/{user_id}"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">read_user</span>(<span class="hljs-params">user_id: <span class="hljs-built_in">int</span>, q: <span class="hljs-built_in">str</span> | <span class="hljs-literal">None</span> = <span class="hljs-literal">None</span>, limit: <span class="hljs-built_in">int</span> = <span class="hljs-number">10</span></span>):
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"user_id"</span>: user_id, <span class="hljs-string">"q"</span>: q, <span class="hljs-string">"limit"</span>: limit}
</code></pre>
<ul>
<li><code>user_id</code> è‡ªåŠ¨æ ¡éªŒ int â†’ éæ³•è¿”å› 422</li>
<li><code>q</code> å¯é€‰ï¼Œç¼ºçœ None</li>
<li>æ–‡æ¡£å®æ—¶ä½“ç°å‚æ•°ç±»å‹ã€é»˜è®¤å€¼</li>
</ul>
<hr/>
<h2 data-id="heading-5">å…­ã€ä¾èµ–æ³¨å…¥ â€”â€” åƒ Spring ä¸€æ ·ä¼˜é›…</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> Depends, HTTPException, status
<span class="hljs-keyword">from</span> fastapi.security <span class="hljs-keyword">import</span> HTTPBearer, HTTPAuthorizationCredentials

security = HTTPBearer()

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_current_user</span>(<span class="hljs-params">token: HTTPAuthorizationCredentials = Depends(<span class="hljs-params">security</span>)</span>):
    <span class="hljs-keyword">if</span> token.credentials != <span class="hljs-string">"fake-token"</span>:
        <span class="hljs-keyword">raise</span> HTTPException(status_code=status.HTTP_401_UNAUTHORIZED,
                            detail=<span class="hljs-string">"Invalid token"</span>)
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"uid"</span>: <span class="hljs-number">42</span>}

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/secure"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">secure_endpoint</span>(<span class="hljs-params">user=Depends(<span class="hljs-params">get_current_user</span>)</span>):
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"message"</span>: <span class="hljs-string">"secret data"</span>, <span class="hljs-string">"user"</span>: user}
</code></pre>
<p>ä¾èµ–å¯åµŒå¥—ã€å¯å¤ç”¨ï¼Œå•å…ƒæµ‹è¯•æ—¶ç›´æ¥ mock ä¾èµ–å³å¯ã€‚</p>
<hr/>
<h2 data-id="heading-6">ä¸ƒã€ä¸Šçº¿å¿…å¤‡ï¼šCORS / é™æ€æ–‡ä»¶ / å¼‚å¸¸å¤„ç†</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fastapi.middleware.cors <span class="hljs-keyword">import</span> CORSMiddleware
<span class="hljs-keyword">from</span> fastapi.staticfiles <span class="hljs-keyword">import</span> StaticFiles
<span class="hljs-keyword">from</span> fastapi.responses <span class="hljs-keyword">import</span> JSONResponse

app.add_middleware(
    CORSMiddleware,
    allow_origins=[<span class="hljs-string">"*"</span>],
    allow_methods=[<span class="hljs-string">"*"</span>],
    allow_headers=[<span class="hljs-string">"*"</span>],
)

app.mount(<span class="hljs-string">"/static"</span>, StaticFiles(directory=<span class="hljs-string">"static"</span>), name=<span class="hljs-string">"static"</span>)

<span class="hljs-meta">@app.exception_handler(<span class="hljs-params">ValueError</span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">value_error_handler</span>(<span class="hljs-params">request, exc</span>):
    <span class="hljs-keyword">return</span> JSONResponse(status_code=<span class="hljs-number">400</span>,
                        content={<span class="hljs-string">"detail"</span>: <span class="hljs-built_in">str</span>(exc)})
</code></pre>
<p>å…¨åŒæ­¥/å¼‚æ­¥æ··åˆå†™çš†å¯ï¼Œä¿æŒä»£ç é£æ ¼ä¸€è‡´ã€‚</p>
<hr/>
<h2 data-id="heading-7">å…«ã€ä¸ SQL æ•°æ®åº“è”åŠ¨ â€”â€” å¼‚æ­¥ ORM ç¤ºä¾‹</h2>
<pre><code class="hljs language-bash" lang="bash">pip install databases[aiosqlite] sqlalchemy
</code></pre>
<p>database.py</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> databases <span class="hljs-keyword">import</span> Database
database = Database(<span class="hljs-string">"sqlite+aiosqlite:///./demo.db"</span>)
</code></pre>
<p>model.py</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> sqlalchemy
metadata = sqlalchemy.MetaData()
notes = sqlalchemy.Table(
    <span class="hljs-string">"notes"</span>,
    metadata,
    sqlalchemy.Column(<span class="hljs-string">"id"</span>, sqlalchemy.Integer, primary_key=<span class="hljs-literal">True</span>),
    sqlalchemy.Column(<span class="hljs-string">"text"</span>, sqlalchemy.String),
    sqlalchemy.Column(<span class="hljs-string">"completed"</span>, sqlalchemy.Boolean),
)
</code></pre>
<p>main.py èŠ‚é€‰</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@app.on_event(<span class="hljs-params"><span class="hljs-string">"startup"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">startup</span>():
    <span class="hljs-keyword">await</span> database.connect()

<span class="hljs-meta">@app.on_event(<span class="hljs-params"><span class="hljs-string">"shutdown"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">shutdown</span>():
    <span class="hljs-keyword">await</span> database.disconnect()

<span class="hljs-meta">@app.post(<span class="hljs-params"><span class="hljs-string">"/notes/"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_note</span>(<span class="hljs-params">text: <span class="hljs-built_in">str</span></span>):
    query = notes.insert().values(text=text, completed=<span class="hljs-literal">False</span>)
    last_record_id = <span class="hljs-keyword">await</span> database.execute(query)
    <span class="hljs-keyword">return</span> {**<span class="hljs-built_in">dict</span>(<span class="hljs-built_in">id</span>=last_record_id, text=text, completed=<span class="hljs-literal">False</span>)}
</code></pre>
<p>å…¨ç¨‹ <code>async</code>ï¼Œååé‡æ¯”åŒæ­¥ SQL æé«˜ä¸€ä¸ªé‡çº§ã€‚</p>
<hr/>
<h2 data-id="heading-8">ä¹ã€æ€§èƒ½ &amp; ç”Ÿæ€</h2>
<ul>
<li><strong>Starlette</strong> æ‰“åº•ï¼šæ”¯æŒ HTTP/2ã€WebSocketã€GraphQL</li>
<li><strong>Pydantic</strong> åŠ æŒï¼šæ ¡éªŒé€Ÿåº¦æ˜¯ä¼ ç»Ÿ schema åº“çš„ 2~4 å€</li>
<li><strong>Uvicorn + Gunicorn</strong> å¤š worker éƒ¨ç½²ï¼Œ8 æ ¸è½»æ¾ç ´ 10k RPS</li>
<li>å®˜æ–¹ benchmarkï¼šFastAPI  latency ä¸ Starlette/Go Echo åŒçº§ï¼Œ<strong>æ¯” Flask å¿« 3~5 å€</strong></li>
</ul>
<hr/>
<h2 data-id="heading-9">åã€éƒ¨ç½²ä¸€æ¡å‘½ä»¤</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æœ¬åœ°å¼€å‘</span>
uvicorn main:app --reload

<span class="hljs-comment"># ç”Ÿäº§å¤šæ ¸</span>
gunicorn main:app -w 4 -k uvicorn.workers.UvicornWorker --<span class="hljs-built_in">bind</span> 0.0.0.0:8000
</code></pre>
<p>Dockerfile ç¤ºä¾‹</p>
<pre><code class="hljs language-dockerfile" lang="dockerfile">FROM python:3.11-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]
</code></pre>
<p>é•œåƒ &lt;100 MBï¼ŒK8s/Serverless éšæ„æ‰©ã€‚</p>
<hr/>
<h2 data-id="heading-10">åä¸€ã€æ€»ç»“ï¼šä¸€å¼ å›¾è®°ä½ FastAPI</h2>
<pre><code class="hljs language-lua" lang="lua">â”Œ<span class="hljs-comment">-------------â”        â”Œ------------â”</span>
â”‚ Pydantic    â”‚ &lt;<span class="hljs-comment">-----&gt;â”‚ è¯·æ±‚/å“åº”   â”‚  &lt;-- è‡ªåŠ¨æ ¡éªŒ+åºåˆ—åŒ–</span>
â”‚ æ•°æ®æ¨¡å‹     â”‚        â”‚ ç±»å‹æç¤º    â”‚
â””<span class="hljs-comment">-------------â”˜        â””------------â”˜</span>
        ^                       |
        |                       v
â”Œ<span class="hljs-comment">-------------â”        â”Œ------------â”</span>
â”‚ ä¾èµ–æ³¨å…¥     â”‚        â”‚ OpenAPI    â”‚  &lt;<span class="hljs-comment">-- è‡ªåŠ¨ç”Ÿæˆ docs</span>
â”‚ å®‰å…¨/DB/é€»è¾‘ â”‚        â”‚ æ–‡æ¡£/redoc â”‚
â””<span class="hljs-comment">-------------â”˜        â””------------â”˜</span>
        ^                       |
        |                       v
â”Œ<span class="hljs-comment">-------------------------------â”</span>
â”‚ Starletteï¼ˆASGIï¼‰å¼‚æ­¥æ ¸å¿ƒ      â”‚  &lt;<span class="hljs-comment">-- é«˜æ€§èƒ½</span>
â””<span class="hljs-comment">-------------------------------â”˜</span>
</code></pre>
<p>FastAPI = <strong>ç±»å‹æç¤º + å¼‚æ­¥ + è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£</strong> ä¸‰ç®­é½å‘ï¼Œ<br/>
å†™æ›´å°‘ä»£ç ï¼Œè·‘æ›´å¿«æœåŠ¡ï¼Œå‡ºæ›´å…¨æ–‡æ¡£ã€‚2024 å¹´äº†ï¼Œå¦‚æœä½ è¿˜åœ¨æ‰‹å†™ Swagger JSONï¼Œä¸å¦¨ç»™ FastAPI ä¸€ä¸ªå‘¨æœ«ï¼Œå®ƒä¼šè¿˜ä½ æ•´ä¸ªç”Ÿäº§åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘ä¸ºè‡ªå·±èµ·äº†ä¸ªç¬”å]]></title>    <link>https://juejin.cn/post/7591338980693770286</link>    <guid>https://juejin.cn/post/7591338980693770286</guid>    <pubDate>2026-01-04T13:05:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591338980693770286" data-draft-id="7591346773827797018" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘ä¸ºè‡ªå·±èµ·äº†ä¸ªç¬”å"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-04T13:05:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹æ¸¡è‹‡"/> <meta itemprop="url" content="https://juejin.cn/user/729731453429159"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘ä¸ºè‡ªå·±èµ·äº†ä¸ªç¬”å
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/729731453429159/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹æ¸¡è‹‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T13:05:49.000Z" title="Sun Jan 04 2026 13:05:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘å†³å®šæŠŠæ‰€æœ‰å¹³å°çš„ç½‘åæ”¹æˆç¬”åâ€œè‹æ¸¡è‹‡â€ã€‚</p>
<p>å…¶å®æ”¹è¿™ä¸ªåå­—ï¼Œæ˜¯å› ä¸ºç¿»å¤æ–‡è§‚æ­¢åˆç¿»åˆ°äº†è‹è½¼çš„ã€Šèµ¤å£èµ‹ã€‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7f1107c9509460d865a6c230fce1678~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5rih6IuH:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768136749&amp;x-signature=x2bHirx14UVSDZ9PEJjco6dxvoo%3D" alt="å¤æ–‡è§‚æ­¢ è‹è½¼Â·å‰èµ¤å£èµ‹" loading="lazy"/></p>
<p>å¤æ–‡è§‚æ­¢ è‹è½¼Â·å‰èµ¤å£èµ‹</p>
<p>è¯»åˆ°â€œçºµä¸€è‹‡ä¹‹æ‰€å¦‚ï¼Œå‡Œä¸‡é¡·ä¹‹èŒ«ç„¶â€é‚£å¥æ—¶ï¼Œæˆ‘ä¼¼ä¹æ­£åœ¨å‘å‘†ã€‚çª—å¤–æ˜¯åŸå¸‚é›¶æ˜Ÿçš„å…‰ï¼Œä¸æ˜¯è‹è½¼æ¸¡çš„æ±Ÿï¼Œä½†å¿ƒé‡Œçš„èŒ«ç„¶æ˜¯çœŸçš„ã€‚é‚£ä¸€ç¬é—´ï¼Œæˆ‘å¥½åƒçœ‹è§äº†ä¹ç™¾å¤šå¹´â€œä¸€è“‘çƒŸé›¨ä»»å¹³ç”Ÿâ€çš„è‹è½¼â€”â€”ä»–æ€»æ˜¯é‚£æ ·ä¹è§‚ï¼Œçºµä½¿å›°é¡¿éš¾è¡Œï¼Œä¾ç„¶å‘ç°è‡ªå·±ç«Ÿå¯ä»¥åƒä¸€ç‰‡è‹‡å¶é‚£æ ·ï¼Œæ‰˜ä»˜ç»™æ±Ÿæ°´å’Œæœˆå…‰ã€‚</p>
<p>è¿™ç§æ¥çº³ç ´ç¢ã€å¹¶ä»ä¸­å‘ç°è‡ªç”±çš„å§¿æ€ï¼Œä¾¿æ˜¯æˆ‘å¿ƒä¸­çš„è‹è½¼æœ€æ·±çš„æµªæ¼«ã€‚å®ƒä¸æ˜¯é£èŠ±é›ªæœˆï¼Œè€Œæ˜¯ä¸€ç§å·¨å¤§çš„è¯šå®ã€‚ä»–è¯šå®åœ°é¢å¯¹è‡ªå·±çš„ç‹¼ç‹ˆï¼Œä¹Ÿè¯šå®åœ°å‘ç°äº†å¤©åœ°é—´è¿˜æœ‰æ¸…é£æ˜æœˆä¸éœ€è¦ç”¨åŠŸåå»æ¢ã€‚</p>
<p>æ‰€ä»¥ï¼Œâ€œè‹æ¸¡è‹‡â€è¿™ä¸‰ä¸ªå­—ï¼Œå¯¹æˆ‘è€Œè¨€å°±æ˜¯ä¸€ç§æœ´ç´ çš„æé†’ã€‚å®ƒä¸æ„å‘³ç€æˆ‘èƒ½ç«‹åˆ»æ‹¥æœ‰ä»–çš„æ—·è¾¾ï¼Œè€Œæ˜¯è¯´ï¼Œå½“æˆ‘æ„Ÿåˆ°è‡ªå·±å¾€ä¸‹æ²‰çš„æ—¶å€™ï¼Œè‡³å°‘å¯ä»¥æƒ³èµ·ï¼Œæ›¾ç»æœ‰äººè¿™æ ·å¤„ç†çœ¼å‰çš„ç‹¼è—‰ï¼šå½“è·¯èµ°åˆ°å¤´ï¼Œå°±åœ¨æ—è¾¹åä¸‹ï¼Œçœ‹çœ‹æ­¤å¤„çš„é£æ™¯æœ‰ä»€ä¹ˆåˆ«è‡´ï¼›å½“äº‹ä¸æ„¿è¿ï¼Œå°±æŠŠâ€œè¿â€çš„éƒ¨åˆ†ï¼Œä¹Ÿæ¥è¿›ç”Ÿå‘½é‡Œæ¥ã€‚</p>
<p>æˆ‘ä¸å¥¢æ±‚ä¸€ä¸ªåå­—å°±å¯ä»¥æ¸¡ä»€ä¹ˆä¸‡é¡·èŒ«ç„¶ï¼Œèƒ½æ¸¡å¾—äº†ç”Ÿæ´»é‡Œä¸€äº›å…·ä½“çš„ã€çç¢çš„æ²®ä¸§ï¼Œå°±å¤Ÿäº†ã€‚å®ƒåƒæ”¾åœ¨ä¹¦æ¡Œè§’è½çš„ä¸€æ ¹çœŸæ­£çš„èŠ¦è‹‡ï¼Œå¹²ç‡¥ï¼Œè½»ç›ˆï¼Œæé†’æˆ‘å¦ä¸€ç§å¯èƒ½çš„å­˜åœ¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ©ç”¨å…ƒæ—¦å‡æœŸï¼Œæˆ‘å¼€æºäº†ä¸€ä¸ªå¤§æ¨¡å‹æ™ºèƒ½é¢è¯•å¹³å°+çŸ¥è¯†åº“ï¼]]></title>    <link>https://juejin.cn/post/7591349113355698185</link>    <guid>https://juejin.cn/post/7591349113355698185</guid>    <pubDate>2026-01-04T13:19:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591349113355698185" data-draft-id="7591360623469461514" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ©ç”¨å…ƒæ—¦å‡æœŸï¼Œæˆ‘å¼€æºäº†ä¸€ä¸ªå¤§æ¨¡å‹æ™ºèƒ½é¢è¯•å¹³å°+çŸ¥è¯†åº“ï¼"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-04T13:19:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JavaGuide"/> <meta itemprop="url" content="https://juejin.cn/user/166781497383294"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ©ç”¨å…ƒæ—¦å‡æœŸï¼Œæˆ‘å¼€æºäº†ä¸€ä¸ªå¤§æ¨¡å‹æ™ºèƒ½é¢è¯•å¹³å°+çŸ¥è¯†åº“ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/166781497383294/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JavaGuide
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T13:19:10.000Z" title="Sun Jan 04 2026 13:19:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ å¥½ï¼Œæˆ‘æ˜¯ Guideã€‚åˆ©ç”¨å…ƒæ—¦å‡æœŸï¼Œæˆ‘å¼€æºäº†ä¸€ä¸ªåŸºäº Spring Boot 4.0 + Java 21 + Spring AI + PostgreSQL + pgvector + RustFS + Redis çš„å¤§æ¨¡å‹é¡¹ç›®ï¼Œå®ç°äº†ç®€å†æ™ºèƒ½åˆ†æã€AI æ¨¡æ‹Ÿé¢è¯•ã€çŸ¥è¯†åº“ RAG æ£€ç´¢ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚</p>
<h2 data-id="heading-0">é¡¹ç›®ä»‹ç»</h2>
<p>InterviewGuide æ˜¯ä¸€ä¸ªé›†æˆäº†ç®€å†åˆ†æã€æ¨¡æ‹Ÿé¢è¯•å’ŒçŸ¥è¯†åº“ç®¡ç†çš„æ™ºèƒ½é¢è¯•è¾…åŠ©å¹³å°ã€‚ç³»ç»Ÿåˆ©ç”¨å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å’Œå‘é‡æ•°æ®åº“æŠ€æœ¯ï¼Œä¸ºæ±‚èŒè€…å’Œ HR æä¾›æ™ºèƒ½åŒ–çš„ç®€å†è¯„ä¼°å’Œé¢è¯•ç»ƒä¹ æœåŠ¡ã€‚</p>
<ul>
<li>Github åœ°å€ï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSnailclimb%2Finterview-guide" target="_blank" title="https://github.com/Snailclimb/interview-guide" ref="nofollow noopener noreferrer">github.com/Snailclimb/â€¦</a></strong></li>
<li>Gitee åœ°å€ï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2FSnailClimb%2Finterview-guide" target="_blank" title="https://gitee.com/SnailClimb/interview-guide" ref="nofollow noopener noreferrer">gitee.com/SnailClimb/â€¦</a></strong></li>
</ul>
<h2 data-id="heading-1">ç³»ç»Ÿæ¶æ„</h2>
<p><strong>æç¤º</strong>ï¼šæ¶æ„å›¾é‡‡ç”¨ draw.io ç»˜åˆ¶ï¼Œå¯¼å‡ºä¸º svg æ ¼å¼ï¼Œåœ¨ Github Dark æ¨¡å¼ä¸‹çš„æ˜¾ç¤ºæ•ˆæœä¼šæœ‰é—®é¢˜ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/217805d2f0e2460caddd91e56bbb82b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768137550&amp;x-signature=xX%2Bz%2FBpdG4i8LkT5Ls0neF9eEZI%3D" alt="" loading="lazy"/></p>
<p><strong>å¼‚æ­¥å¤„ç†æµç¨‹</strong>ï¼š</p>
<p>ç®€å†åˆ†æå’ŒçŸ¥è¯†åº“å‘é‡åŒ–é‡‡ç”¨ Redis Stream å¼‚æ­¥å¤„ç†ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">ä¸Šä¼ è¯·æ±‚ â†’ ä¿å­˜æ–‡ä»¶ â†’ å‘é€æ¶ˆæ¯åˆ° <span class="hljs-built_in">Stream</span> â†’ ç«‹å³è¿”å›
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â†“
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   Consumer æ¶ˆè´¹æ¶ˆæ¯
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â†“
 Â  Â  Â  Â  Â  Â  Â  Â  Â   æ‰§è¡Œåˆ†æ/å‘é‡åŒ–ä»»åŠ¡
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â†“
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   æ›´æ–°æ•°æ®åº“çŠ¶æ€
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â†“
 Â  Â  Â  Â  Â  Â  Â  Â  Â  å‰ç«¯è½®è¯¢è·å–æœ€æ–°çŠ¶æ€
</code></pre>
<p>çŠ¶æ€æµè½¬ï¼š <code>PENDING</code> â†’ <code>PROCESSING</code> â†’ <code>COMPLETED</code> / <code>FAILED</code></p>
<h2 data-id="heading-2">æŠ€æœ¯æ ˆ</h2>
<h3 data-id="heading-3">åç«¯æŠ€æœ¯</h3>























































<table><thead><tr><th>æŠ€æœ¯</th><th>ç‰ˆæœ¬</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Spring Boot</td><td>4.0</td><td>åº”ç”¨æ¡†æ¶</td></tr><tr><td>Java</td><td>21</td><td>å¼€å‘è¯­è¨€</td></tr><tr><td>Spring AI</td><td>2.0</td><td>AI é›†æˆæ¡†æ¶</td></tr><tr><td>PostgreSQL + pgvector</td><td>14+</td><td>å…³ç³»æ•°æ®åº“ + å‘é‡å­˜å‚¨</td></tr><tr><td>Redis</td><td>6+</td><td>ç¼“å­˜ + æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆStreamï¼‰</td></tr><tr><td>Apache Tika</td><td>2.9.2</td><td>æ–‡æ¡£è§£æ</td></tr><tr><td>iText 8</td><td>8.0.5</td><td>PDF å¯¼å‡º</td></tr><tr><td>MapStruct</td><td>1.6.3</td><td>å¯¹è±¡æ˜ å°„</td></tr><tr><td>Gradle</td><td>8.14</td><td>æ„å»ºå·¥å…·</td></tr></tbody></table>
<p>æŠ€æœ¯é€‰å‹å¸¸è§é—®é¢˜è§£ç­”ï¼š</p>
<ol start="0">
<li>
<p>æ•°æ®å­˜å‚¨ä¸ºä»€ä¹ˆé€‰æ‹© PostgreSQL + pgvectorï¼ŸPG çš„å‘é‡æ•°æ®å­˜å‚¨åŠŸèƒ½å¤Ÿç”¨äº†ï¼Œç²¾ç®€æ¶æ„ï¼Œä¸æƒ³å¼•å…¥å¤ªå¤šç»„ä»¶ã€‚</p>
</li>
<li>
<p>ä¸ºä»€ä¹ˆå¼•å…¥ Redisï¼Ÿ</p>
<ul>
<li>Redis æ›¿ä»£ <code>ConcurrentHashMap</code> å®ç°é¢è¯•ä¼šè¯çš„ç¼“å­˜ã€‚</li>
<li>åŸºäº Redis Stream å®ç°ç®€å†åˆ†æã€çŸ¥è¯†åº“å‘é‡åŒ–ç­‰åœºæ™¯çš„å¼‚æ­¥ï¼ˆè¿˜èƒ½è§£è€¦ï¼Œåˆ†æå’Œå‘é‡åŒ–å¯ä»¥ä½¿ç”¨å…¶ä»–ç¼–ç¨‹è¯­è¨€æ¥åšï¼‰ã€‚ä¸ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Fhigh-performance%2Fmessage-queue%2Fkafka-questions-01.html" target="_blank" title="https://javaguide.cn/high-performance/message-queue/kafka-questions-01.html" ref="nofollow noopener noreferrer">Kafka</a> è¿™ç±»æˆç†Ÿçš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¹Ÿæ˜¯ä¸æƒ³å¼•å…¥å¤ªå¤šç»„ä»¶ã€‚</li>
</ul>
</li>
<li>
<p>æ„å»ºå·¥å…·ä¸ºä»€ä¹ˆé€‰æ‹© Gradleï¼Ÿä¸ªäººæ›´å–œæ¬¢ç”¨ Gradleï¼Œä¹Ÿå†™è¿‡ç›¸å…³çš„æ–‡ç« ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Ftools%2Fgradle%2Fgradle-core-concepts.html" target="_blank" title="https://javaguide.cn/tools/gradle/gradle-core-concepts.html" ref="nofollow noopener noreferrer">Gradleæ ¸å¿ƒæ¦‚å¿µæ€»ç»“</a>ã€‚</p>
</li>
</ol>
<h3 data-id="heading-4">å‰ç«¯æŠ€æœ¯</h3>


















































<table><thead><tr><th>æŠ€æœ¯</th><th>ç‰ˆæœ¬</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>React</td><td>18.3</td><td>UI æ¡†æ¶</td></tr><tr><td>TypeScript</td><td>5.6</td><td>å¼€å‘è¯­è¨€</td></tr><tr><td>Vite</td><td>5.4</td><td>æ„å»ºå·¥å…·</td></tr><tr><td>Tailwind CSS</td><td>4.1</td><td>æ ·å¼æ¡†æ¶</td></tr><tr><td>React Router</td><td>7.11</td><td>è·¯ç”±ç®¡ç†</td></tr><tr><td>Framer Motion</td><td>12.23</td><td>åŠ¨ç”»åº“</td></tr><tr><td>Recharts</td><td>3.6</td><td>å›¾è¡¨åº“</td></tr><tr><td>Lucide React</td><td>-</td><td>å›¾æ ‡åº“</td></tr></tbody></table>
<h2 data-id="heading-5">åŠŸèƒ½ç‰¹æ€§</h2>
<h3 data-id="heading-6">ç®€å†ç®¡ç†æ¨¡å—</h3>
<ul>
<li>å¤šæ ¼å¼æ”¯æŒï¼šPDFã€DOCXã€DOCã€TXT</li>
<li>å¼‚æ­¥åˆ†æï¼šä¸Šä¼ åç«‹å³è¿”å›ï¼Œåå° Redis Stream å¤„ç†</li>
<li>çŠ¶æ€è½®è¯¢ï¼šå®æ—¶æ˜¾ç¤ºåˆ†æè¿›åº¦ï¼ˆå¾…åˆ†æ/åˆ†æä¸­/å·²å®Œæˆ/å¤±è´¥ï¼‰</li>
<li>è‡ªåŠ¨é‡è¯•ï¼šåˆ†æå¤±è´¥è‡ªåŠ¨é‡è¯•ï¼ˆæœ€å¤š 3 æ¬¡ï¼‰</li>
<li>ç®€å†å»é‡ï¼šåŸºäºå†…å®¹å“ˆå¸Œæ£€æµ‹é‡å¤</li>
<li>PDF æŠ¥å‘Šå¯¼å‡º</li>
</ul>
<h3 data-id="heading-7">æ¨¡æ‹Ÿé¢è¯•æ¨¡å—</h3>
<ul>
<li>åŸºäºç®€å†ç”Ÿæˆä¸ªæ€§åŒ–é¢è¯•é—®é¢˜</li>
<li>å®æ—¶é—®ç­”äº¤äº’</li>
<li>å¤šç»´åº¦è¯„åˆ†ï¼ˆæŠ€æœ¯èƒ½åŠ›ã€æ²Ÿé€šèƒ½åŠ›ç­‰ï¼‰</li>
<li>é¢è¯•æŠ¥å‘Šç”Ÿæˆå’Œå¯¼å‡º</li>
<li>é›·è¾¾å›¾å¯è§†åŒ–å±•ç¤º</li>
<li>é¢è¯•å†å²ç»Ÿè®¡</li>
</ul>
<h3 data-id="heading-8">çŸ¥è¯†åº“ç®¡ç†æ¨¡å—</h3>
<ul>
<li>å¤šæ ¼å¼æ”¯æŒï¼šPDFã€DOCXã€DOCã€TXTã€Markdown</li>
<li>æ–‡æ¡£ä¸Šä¼ å’Œè‡ªåŠ¨åˆ†å—</li>
<li>å¼‚æ­¥å‘é‡åŒ–å¤„ç†</li>
<li>RAG æ£€ç´¢å¢å¼ºç”Ÿæˆ</li>
<li>æµå¼å“åº”ï¼ˆSSEï¼‰</li>
<li>æ™ºèƒ½é—®ç­”å¯¹è¯</li>
<li>çŸ¥è¯†åº“ç»Ÿè®¡ä¿¡æ¯</li>
</ul>
<h3 data-id="heading-9">TODO</h3>
<ul>
<li>é—®ç­”åŠ©æ‰‹çš„ Markdown å±•ç¤ºä¼˜åŒ–</li>
<li>çŸ¥è¯†åº“ç®¡ç†é¡µé¢çš„ä¸‹è½½</li>
<li>å¼‚æ­¥ç”Ÿæˆæ¨¡æ‹Ÿé¢è¯•è¯„ä¼°æŠ¥å‘Š</li>
<li>æ¨¡æ‹Ÿé¢è¯•å¢åŠ è¿½é—®åŠŸèƒ½</li>
<li>æ‰“é€šæ¨¡æ‹Ÿé¢è¯•å’ŒçŸ¥è¯†åº“</li>
</ul>
<h2 data-id="heading-10">æ•ˆæœå±•ç¤º</h2>
<h3 data-id="heading-11">ç®€å†ä¸é¢è¯•</h3>
<p>ç®€å†åº“ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4dc7cc8ff470499e958982ed95123f0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768137550&amp;x-signature=MSXt9QljlslJXaNu%2F14tfqx%2FFmg%3D" alt="" loading="lazy"/></p>
<p>ç®€å†ä¸Šä¼ åˆ†æï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/14ca9132ed334766b8f53ef0e7dd2e1d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768137550&amp;x-signature=UPE2NKVnqMjAcB5%2Bn1hDzpd2XD8%3D" alt="" loading="lazy"/></p>
<p>ç®€å†åˆ†æè¯¦æƒ…ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef468ba8ee6a45639526a4eb6a6fb96d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768137550&amp;x-signature=vgGh%2BpL1lWgIeguPzHLuvWlYEGY%3D" alt="" loading="lazy"/></p>
<p>é¢è¯•è®°å½•ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/943552cd935c4c01acf8217ede855d33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768137550&amp;x-signature=RMqQfl%2BlKwv8LVPubOjGkKkRpR4%3D" alt="" loading="lazy"/></p>
<p>é¢è¯•è¯¦æƒ…ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e6c919cf693432aa1284949a8e1bda7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768137550&amp;x-signature=%2Fdakm2zT22X2IgtrdiB80NoYANY%3D" alt="" loading="lazy"/></p>
<p>æ¨¡æ‹Ÿé¢è¯•ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1f141295e5634b689f049884f6bfef42~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768137550&amp;x-signature=FBwEJfcLrq1ocHXQzWI9nABkvtg%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-12">çŸ¥è¯†åº“</h3>
<p>çŸ¥è¯†åº“ç®¡ç†ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/305f368e4399439ea56b61ef8f76513a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768137550&amp;x-signature=mQZY6JVN33xFO4ebhWmbVP5RhWM%3D" alt="" loading="lazy"/></p>
<p>é—®ç­”åŠ©æ‰‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/052629e6935f4f18b01d162ef594bdd7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768137550&amp;x-signature=OvdleNm%2BXgj8FNZSiiOlyUHZKkI%3D" alt="page-qa-assistant" loading="lazy"/></p>
<h2 data-id="heading-13">é¡¹ç›®ç»“æ„</h2>
<pre><code class="hljs language-bash" lang="bash">interview-guide/
â”œâ”€â”€ app/ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># åç«¯åº”ç”¨</span>
â”‚ Â  â”œâ”€â”€ src/main/java/interview/guide/
â”‚ Â  â”‚ Â  â”œâ”€â”€ App.java Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># ä¸»å¯åŠ¨ç±»</span>
â”‚ Â  â”‚ Â  â”œâ”€â”€ common/ Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># é€šç”¨æ¨¡å—</span>
â”‚ Â  â”‚ Â  â”‚ Â  â”œâ”€â”€ config/ Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># é…ç½®ç±»</span>
â”‚ Â  â”‚ Â  â”‚ Â  â”œâ”€â”€ exception/ Â  Â  Â  Â  Â   <span class="hljs-comment"># å¼‚å¸¸å¤„ç†</span>
â”‚ Â  â”‚ Â  â”‚ Â  â””â”€â”€ result/ Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># ç»Ÿä¸€å“åº”</span>
â”‚ Â  â”‚ Â  â”œâ”€â”€ infrastructure/ Â  Â  Â  Â  Â  <span class="hljs-comment"># åŸºç¡€è®¾æ–½</span>
â”‚ Â  â”‚ Â  â”‚ Â  â”œâ”€â”€ <span class="hljs-built_in">export</span>/ Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># PDF å¯¼å‡º</span>
â”‚ Â  â”‚ Â  â”‚ Â  â”œâ”€â”€ file/ Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># æ–‡ä»¶å¤„ç†</span>
â”‚ Â  â”‚ Â  â”‚ Â  â”œâ”€â”€ redis/ Â  Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># Redis æœåŠ¡</span>
â”‚ Â  â”‚ Â  â”‚ Â  â””â”€â”€ storage/ Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># å¯¹è±¡å­˜å‚¨</span>
â”‚ Â  â”‚ Â  â””â”€â”€ modules/ Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># ä¸šåŠ¡æ¨¡å—</span>
â”‚ Â  â”‚ Â  Â  Â  â”œâ”€â”€ interview/ Â  Â  Â  Â  Â   <span class="hljs-comment"># é¢è¯•æ¨¡å—</span>
â”‚ Â  â”‚ Â  Â  Â  â”œâ”€â”€ knowledgebase/ Â  Â  Â   <span class="hljs-comment"># çŸ¥è¯†åº“æ¨¡å—</span>
â”‚ Â  â”‚ Â  Â  Â  â””â”€â”€ resume/ Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># ç®€å†æ¨¡å—</span>
â”‚ Â  â””â”€â”€ src/main/resources/
â”‚ Â  Â  Â  â”œâ”€â”€ application.yml Â  Â  Â  Â  Â  <span class="hljs-comment"># åº”ç”¨é…ç½®</span>
â”‚ Â  Â  Â  â””â”€â”€ prompts/ Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># AI æç¤ºè¯æ¨¡æ¿</span>
â”‚
â”œâ”€â”€ frontend/ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># å‰ç«¯åº”ç”¨</span>
â”‚ Â  â”œâ”€â”€ src/
â”‚ Â  â”‚ Â  â”œâ”€â”€ api/ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># API æ¥å£</span>
â”‚ Â  â”‚ Â  â”œâ”€â”€ components/ Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># å…¬å…±ç»„ä»¶</span>
â”‚ Â  â”‚ Â  â”œâ”€â”€ pages/ Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># é¡µé¢ç»„ä»¶</span>
â”‚ Â  â”‚ Â  â”œâ”€â”€ types/ Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># ç±»å‹å®šä¹‰</span>
â”‚ Â  â”‚ Â  â””â”€â”€ utils/ Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># å·¥å…·å‡½æ•°</span>
â”‚ Â  â”œâ”€â”€ package.json
â”‚ Â  â””â”€â”€ vite.config.ts
â”‚
â””â”€â”€ README.md
</code></pre>
<h2 data-id="heading-14">å¿«é€Ÿå¼€å§‹</h2>
<p>ç¯å¢ƒè¦æ±‚ï¼š</p>








































<table><thead><tr><th>ä¾èµ–</th><th>ç‰ˆæœ¬</th><th>å¿…éœ€</th></tr></thead><tbody><tr><td>JDK</td><td>21+</td><td>æ˜¯</td></tr><tr><td>Node.js</td><td>18+</td><td>æ˜¯</td></tr><tr><td>PostgreSQL</td><td>14+</td><td>æ˜¯</td></tr><tr><td>pgvector æ‰©å±•</td><td>-</td><td>æ˜¯</td></tr><tr><td>Redis</td><td>6+</td><td>æ˜¯</td></tr><tr><td>S3 å…¼å®¹å­˜å‚¨</td><td>-</td><td>æ˜¯</td></tr></tbody></table>
<h3 data-id="heading-15">1. å…‹éš†é¡¹ç›®</h3>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> https://github.com/Snailclimb/interview-guide.git
<span class="hljs-built_in">cd</span> interview-guide
</code></pre>
<h3 data-id="heading-16">2. é…ç½®æ•°æ®åº“</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ›å»ºæ•°æ®åº“</span>
<span class="hljs-keyword">CREATE</span> DATABASE interview_guide;
â€‹
<span class="hljs-comment">-- è¿æ¥æ•°æ®åº“å¹¶å¯ç”¨ pgvector æ‰©å±•ï¼ˆå¯é€‰ï¼Œå¯åŠ¨åç«¯SpringAIæ¡†æ¶åº•å±‚ä¼šè‡ªåŠ¨åˆ›å»ºï¼‰</span>
<span class="hljs-keyword">CREATE</span> EXTENSION vector;
</code></pre>
<h3 data-id="heading-17">3. é…ç½®ç¯å¢ƒå˜é‡</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># AI API å¯†é’¥ï¼ˆé˜¿é‡Œäº‘ DashScopeï¼‰</span>
export <span class="hljs-attr">AI_BAILIAN_API_KEY</span>=your_api_key
</code></pre>
<h3 data-id="heading-18">4. ä¿®æ”¹åº”ç”¨é…ç½®</h3>
<p>ç¼–è¾‘ <code>app/src/main/resources/application.yml</code>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
 Â <span class="hljs-comment"># PostgreSQLæ•°æ®åº“é…ç½®</span>
  <span class="hljs-attr">datasource:</span>
 Â   <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:postgresql://localhost:5432/interview_guide</span>
 Â   <span class="hljs-attr">username:</span> <span class="hljs-string">your_username</span>
 Â   <span class="hljs-attr">password:</span> <span class="hljs-string">your_password</span>
<span class="hljs-string">â€‹</span>
  <span class="hljs-attr">data:</span>
 Â   <span class="hljs-attr">redis:</span>
 Â  Â   <span class="hljs-attr">host:</span> <span class="hljs-string">localhost</span>
 Â  Â   <span class="hljs-attr">port:</span> <span class="hljs-number">6379</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-comment"># RustFS (S3å…¼å®¹) å­˜å‚¨é…ç½®</span>
<span class="hljs-attr">app:</span>
  <span class="hljs-attr">storage:</span>
 Â   <span class="hljs-attr">endpoint:</span> <span class="hljs-string">http://localhost:9000</span>
 Â   <span class="hljs-attr">access-key:</span> <span class="hljs-string">your_access_key</span>
 Â   <span class="hljs-attr">secret-key:</span> <span class="hljs-string">your_secret_key</span>
 Â   <span class="hljs-attr">bucket:</span> <span class="hljs-string">interview-guide</span>
 Â  Â 
 <span class="hljs-comment"># Redissoné…ç½®</span>
<span class="hljs-attr">redisson:</span>
  <span class="hljs-attr">config:</span> <span class="hljs-string">|
 Â   singleServerConfig:
 Â  Â   address: "redis://localhost:6379"
 Â  Â   database: 0
 Â  Â   idleConnectionTimeout: 10000
 Â  Â   connectTimeout: 10000
 Â  Â   timeout: 3000
 Â  Â   retryAttempts: 3
 Â  Â   retryInterval: 1500
 Â  Â   password: null
 Â  Â   subscriptionsPerConnection: 5
 Â  Â   clientName: null
 Â  Â   subscriptionConnectionMinimumIdleSize: 1
 Â  Â   subscriptionConnectionPoolSize: 50
 Â  Â   connectionMinimumIdleSize: 10
 Â  Â   connectionPoolSize: 64
 Â  Â   dnsMonitoringInterval: 5000
</span><span class="hljs-string">â€‹</span>
</code></pre>
<h3 data-id="heading-19">5. å¯åŠ¨æœåŠ¡</h3>
<p><strong>åç«¯ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">./gradlew bootRun
</code></pre>
<p>åç«¯æœåŠ¡å¯åŠ¨äº <code>http://localhost:8080</code></p>
<p><strong>å‰ç«¯ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> frontend
pnpm install
pnpm dev
</code></pre>
<p>å‰ç«¯æœåŠ¡å¯åŠ¨äº <code>http://localhost:5173</code></p>
<h2 data-id="heading-20">ä½¿ç”¨åœºæ™¯</h2>





















<table><thead><tr><th>ç”¨æˆ·è§’è‰²</th><th>ä½¿ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>æ±‚èŒè€…</strong></td><td>ä¸Šä¼ ç®€å†è·å–åˆ†æå»ºè®®ï¼Œè¿›è¡Œæ¨¡æ‹Ÿé¢è¯•ç»ƒä¹ </td></tr><tr><td><strong>HR/æ‹›è˜äººå‘˜</strong></td><td>æ‰¹é‡åˆ†æç®€å†ï¼Œè¯„ä¼°å€™é€‰äººèƒ½åŠ›</td></tr><tr><td><strong>åŸ¹è®­æœºæ„</strong></td><td>æä¾›é¢è¯•åŸ¹è®­æœåŠ¡ï¼Œç®¡ç†çŸ¥è¯†åº“èµ„æº</td></tr></tbody></table>
<h2 data-id="heading-21">å¸¸è§é—®é¢˜</h2>
<h3 data-id="heading-22">Q: ç®€å†åˆ†æå¤±è´¥</h3>
<p>æ£€æŸ¥ä¸€ä¸‹é˜¿é‡Œäº‘ DashScope API KEY æ˜¯å¦é…ç½®æ­£ç¡®ï¼ˆç”³è¯·åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fbailian.console.aliyun.com%2F" target="_blank" title="https://bailian.console.aliyun.com/" ref="nofollow noopener noreferrer">bailian.console.aliyun.com/</a>ï¼‰ã€‚</p>
<h3 data-id="heading-23">Q: ç®€å†åˆ†æä¸€ç›´æ˜¾ç¤º"åˆ†æä¸­"ï¼Ÿ</h3>
<p>æ£€æŸ¥ Redis è¿æ¥å’Œ Stream Consumer æ˜¯å¦æ­£å¸¸è¿è¡Œã€‚æŸ¥çœ‹åç«¯æ—¥å¿—ç¡®è®¤æ˜¯å¦æœ‰é”™è¯¯ã€‚</p>
<h3 data-id="heading-24">Q: çŸ¥è¯†åº“é—®ç­”æ²¡æœ‰å“åº”ï¼Ÿ</h3>
<p>ç¡®è®¤çŸ¥è¯†åº“å·²å®Œæˆå‘é‡åŒ–ï¼ˆçŠ¶æ€ä¸º COMPLETEDï¼‰ï¼Œæ£€æŸ¥ pgvector æ‰©å±•æ˜¯å¦æ­£ç¡®å®‰è£…ã€‚</p>
<h3 data-id="heading-25">Q: PDF å¯¼å‡ºå¤±è´¥ï¼Ÿ</h3>
<p>æ£€æŸ¥ iText ä¾èµ–æ˜¯å¦æ­£ç¡®ï¼Œç¡®è®¤å­—ä½“æ–‡ä»¶å­˜åœ¨ã€‚</p>
<h2 data-id="heading-26">åˆ†æ”¯è¯´æ˜</h2>

















<table><thead><tr><th>åˆ†æ”¯</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>master</code></td><td>ä¸»åˆ†æ”¯ï¼ŒåŒ…å«å®Œæ•´åŠŸèƒ½ï¼ˆRedis Stream å¼‚æ­¥å¤„ç†ï¼‰</td></tr><tr><td><code>v1.0-without-redis</code></td><td>åŸºç¡€ç‰ˆæœ¬ï¼ŒåŒæ­¥å¤„ç†ï¼Œæ—  Redis ä¾èµ–</td></tr></tbody></table>
<h2 data-id="heading-27">è´¡çŒ®</h2>
<p>æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼</p>
<h2 data-id="heading-28">è®¸å¯è¯</h2>
<p>AGPL-3.0 Licenseï¼ˆåªè¦é€šè¿‡ç½‘ç»œæä¾›æœåŠ¡ï¼Œå°±å¿…é¡»å‘ç”¨æˆ·å…¬å¼€ä¿®æ”¹åçš„æºç ï¼‰</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue åŸºç¡€ï¼šçŠ¶æ€ç®¡ç†å…¥é—¨]]></title>    <link>https://juejin.cn/post/7591318630694551606</link>    <guid>https://juejin.cn/post/7591318630694551606</guid>    <pubDate>2026-01-04T13:40:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591318630694551606" data-draft-id="7591317772074483731" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue åŸºç¡€ï¼šçŠ¶æ€ç®¡ç†å…¥é—¨"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2026-01-04T13:40:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¡œå¹é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/1179091901098269"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue åŸºç¡€ï¼šçŠ¶æ€ç®¡ç†å…¥é—¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1179091901098269/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¡œå¹é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T13:40:11.000Z" title="Sun Jan 04 2026 13:40:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åŸæ–‡ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.telerik.com%2Fblogs%2Fvue-basics-state-management-vue%23state-at-scale-with-pinia" target="_blank" title="https://www.telerik.com/blogs/vue-basics-state-management-vue#state-at-scale-with-pinia" ref="nofollow noopener noreferrer">Vue Basics: State Management in Vue</a></p>
</blockquote>
<p>å­¦ä¹ å¦‚ä½•éšç€åº”ç”¨è§„æ¨¡çš„æ‰©å¤§ï¼Œåˆ©ç”¨ ref/reactiveã€props/emitsã€provide/inject å’Œ Pinia æ¥æ‰©å±• Vue çš„çŠ¶æ€ç®¡ç†ã€‚</p>
<p>åœ¨ä½¿ç”¨ Vue æ„å»ºä»»ä½•äº¤äº’å¼åº”ç”¨æ—¶ï¼Œâ€œçŠ¶æ€â€æ˜¯ä½ æœ€å…ˆæ¥è§¦åˆ°çš„æ ¸å¿ƒæ¦‚å¿µä¹‹ä¸€ã€‚æ— è®ºæ˜¯è¡¨å•ä¸­çš„æ–‡æœ¬ã€è´­ç‰©è½¦é‡Œçš„å•†å“ï¼Œè¿˜æ˜¯å·²ç™»å½•ç”¨æˆ·çš„ä¸ªäººèµ„æ–™ï¼Œæ­£ç¡®åœ°ç®¡ç†è¿™äº›çŠ¶æ€å¯¹äºä¿æŒåº”ç”¨çš„ç¨³å®šæ€§ã€å“åº”æ€§ä»¥åŠæ˜“æ‰©å±•æ€§éƒ½è‡³å…³é‡è¦ã€‚</p>
<p>Vue 3 å¼•å…¥äº†ç»„åˆå¼ API ä»¥åŠå…¨æ–°çš„å“åº”å¼ç³»ç»Ÿï¼Œä¸ºå¼€å‘è€…æä¾›äº†å‰æ‰€æœªæœ‰çš„å¼ºå¤§ä¸”çµæ´»çš„çŠ¶æ€ç®¡ç†æ–¹å¼ã€‚åœ¨æœ¬æŒ‡å—ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨ Vue 3 å¦‚ä½•å¤„ç†çŠ¶æ€â€”â€”ä»ä½¿ç”¨ <code>ref</code> å’Œ <code>reactive</code> ç®¡ç†å±€éƒ¨çŠ¶æ€å¼€å§‹ï¼Œåˆ°é€šè¿‡ <code>props</code> å’Œ <code>provide</code>/<code>inject</code> å…±äº«æ•°æ®ï¼Œæœ€åè¿›é˜¶åˆ° Vue çš„å®˜æ–¹çŠ¶æ€ç®¡ç†åº“ Piniaã€‚è¯»å®Œæœ¬æ–‡ï¼Œä½ å°†è·å¾—ä¸€ä»½æ¸…æ™°çš„è·¯çº¿å›¾ï¼Œèƒ½å¤Ÿæ ¹æ®åº”ç”¨çš„å…·ä½“éœ€æ±‚é€‰æ‹©æœ€åˆé€‚çš„å·¥å…·ã€‚</p>
<h2 data-id="heading-0">ç†è§£ Vue ä¸­çš„çŠ¶æ€ç®¡ç†æ¦‚å¿µ</h2>
<p>çŠ¶æ€æ˜¯æ¯ä¸€ä¸ªäº¤äº’å¼ Vue åº”ç”¨çš„æ ¸å¿ƒã€‚æ­£æ˜¯å®ƒè®©ä½ çš„ UI å˜å¾—åŠ¨æ€â€”â€”åªè¦æ›´æ–°çŠ¶æ€ï¼ŒVue å°±ä¼šè‡ªåŠ¨å°†è¿™äº›å˜åŒ–åæ˜ åœ¨ DOM ä¸­ã€‚</p>
<p>å¹¿ä¹‰ä¸Šè®²ï¼ŒçŠ¶æ€åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼š</p>
<ul>
<li>å±€éƒ¨çŠ¶æ€ï¼š å­˜åœ¨äºå•ä¸ªç»„ä»¶å†…éƒ¨ï¼ˆä¾‹å¦‚ï¼šè®¡æ•°å™¨ç»„ä»¶ä¸­çš„ count å˜é‡ï¼‰ã€‚</li>
<li>å…¨å±€çŠ¶æ€ï¼š åœ¨å¤šä¸ªç»„ä»¶æˆ–åº”ç”¨çš„ä¸åŒéƒ¨åˆ†ä¹‹é—´å…±äº«ï¼ˆä¾‹å¦‚ï¼šç”¨æˆ·ç™»å½•è®¤è¯çŠ¶æ€ï¼‰ã€‚</li>
</ul>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸ª Vue ç»„ä»¶éƒ½ç»´æŠ¤ç€è‡ªå·±çš„å“åº”å¼çŠ¶æ€ï¼Œæˆ‘ä»¬é€šå¸¸ç§°ä¹‹ä¸ºå±€éƒ¨çŠ¶æ€ã€‚åœ¨æ¢ç´¢å¦‚ä½•åœ¨ç»„ä»¶é—´å…±äº«çŠ¶æ€ä»¥åŠæœ€ç»ˆä½¿ç”¨ Pinia è¿›è¡Œå…¨å±€ç®¡ç†ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆä»è¿™é‡Œå…¥æ‰‹ã€‚</p>
<h2 data-id="heading-1">ä½¿ç”¨ ref å’Œ reactive ç®¡ç†å±€éƒ¨çŠ¶æ€</h2>
<p>ä¸ºäº†ç®¡ç†å±€éƒ¨å“åº”å¼çŠ¶æ€ï¼ŒVue 3 çš„ç»„åˆå¼ API æä¾›äº†ä¸¤ä¸ªä¸»è¦å·¥å…·ï¼š<code>ref</code> å’Œ <code>reactive</code>ã€‚å¦‚æœä½ åˆšæ¥è§¦ Vueï¼Œå¯èƒ½ä¼šå¯¹é€‰æ‹©å“ªä¸€ä¸ªæ„Ÿåˆ°å›°æƒ‘â€”â€”å› æ­¤ï¼Œè®©æˆ‘ä»¬åŸºäºå¯¹å±€éƒ¨çŠ¶æ€çš„ç†è§£ï¼Œæ¥è¯¦ç»†æ‹†è§£è¿™ä¸¤ä¸ªå·¥å…·ã€‚</p>
<h3 data-id="heading-2">ä½¿ç”¨ ref</h3>
<p>å½“å¤„ç†åŸå§‹å€¼ï¼ˆæ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰æ—¶ï¼Œè¯·ä½¿ç”¨ refã€‚</p>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup&gt;
import { ref } from 'vue'

//state
const count = ref(0)

//actions
function increment() {
  count.value++
}
&lt;/script&gt;

&lt;template&gt;
  &lt;button @click="increment"&gt;Count is: {{ count }}&lt;/button&gt;
&lt;/template&gt;
</code></pre>
<p>åœ¨è¿™é‡Œï¼Œ<code>count</code> è¢«å°è£…åœ¨ä¸€ä¸ª <code>ref</code> ä¸­ï¼Œå¹¶é€šè¿‡ <code>.value</code> æ¥è®¿é—®å…¶å€¼ã€‚</p>
<h3 data-id="heading-3">ä½¿ç”¨ reactive</h3>
<p>å½“å¤„ç†å¯¹è±¡æˆ–æ•°ç»„æ—¶ï¼Œè¯·ä½¿ç”¨ <code>reactive</code>ã€‚</p>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup&gt;
import { reactive } from 'vue'

const user = reactive({
  name: ' ',
  age: 25
})
&lt;/script&gt;

&lt;template&gt;
  &lt;input v-model="user.name" placeholder="Enter your name" /&gt;
  &lt;p&gt;{{ user.name }} is {{ user.age }} years old.&lt;/p&gt;
&lt;/template&gt;
</code></pre>
<p>åœ¨åº•å±‚ï¼ŒVue å°†å¯¹è±¡å°è£…åœ¨ä¸€ä¸ª Proxy ä¸­ï¼Œå› æ­¤å®ƒå¯ä»¥è‡ªåŠ¨è¿½è¸ªå˜åŒ–å¹¶æ›´æ–° DOMã€‚</p>
<p>å±€éƒ¨çŠ¶æ€æ˜¯ Vue å•å‘æ•°æ®æµæœ€ç®€å•çš„ä¾‹å­ï¼šçŠ¶æ€é©±åŠ¨ UIã€‚ä½†ä¸€æ—¦å¤šä¸ªç»„ä»¶éœ€è¦å…±äº«åŒä¸€ä»½çŠ¶æ€ï¼Œä»…é å±€éƒ¨ç®¡ç†å°±ä¼šå˜å¾—å›°éš¾ï¼Œè¿™æ—¶æˆ‘ä»¬å°±éœ€è¦è¶…è¶Šå±€éƒ¨çŠ¶æ€äº†ã€‚</p>
<h2 data-id="heading-4">åœ¨ç»„ä»¶é—´å…±äº«çŠ¶æ€</h2>
<p>å±€éƒ¨çŠ¶æ€å¯¹äºå•ä¸ªç»„ä»¶æ¥è¯´è¿ä½œè‰¯å¥½ï¼Œä½†å¦‚æœå¤šä¸ªç»„ä»¶éœ€è¦ç›¸åŒçš„æ•°æ®è¯¥æ€ä¹ˆåŠï¼ŸVue æä¾›äº†å‡ ç§å…±äº«çŠ¶æ€çš„æ–¹å¼ï¼šprops/emits å’Œ provide/injectã€‚</p>
<h3 data-id="heading-5">Props å’Œ Emits</h3>
<p>Props å…è®¸çˆ¶ç»„ä»¶å‘ä¸‹ä¼ é€’çŠ¶æ€ï¼Œè€Œ emits å…è®¸å­ç»„ä»¶å‘ä¸Šå‘é€äº‹ä»¶ã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹çœ‹ä¸‹é¢è¿™ä¸ªç®€å•çš„æ¼”ç¤ºï¼š</p>
<h4 data-id="heading-6">çˆ¶ç»„ä»¶</h4>
<p>ä½ å¯ä»¥é€šè¿‡ props å°†æ•°æ®ä»çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶ã€‚</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- Parent.vue --&gt;
&lt;template&gt;
  &lt;Child :count="count" @increment="count++" /&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'
import Child from './Child.vue'

const count = ref(0)
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-7">å­ç»„ä»¶</h4>
<p>å½“å­ç»„ä»¶éœ€è¦æ›´æ–°çˆ¶ç»„ä»¶çš„çŠ¶æ€æ—¶ï¼Œå®ƒå¯ä»¥è§¦å‘ï¼ˆemitï¼‰ä¸€ä¸ªäº‹ä»¶ã€‚</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- Child.vue --&gt;
&lt;template&gt;
  &lt;button @click="$emit('increment')"&gt;Clicked&lt;/button&gt;
&lt;/template&gt;

&lt;script setup&gt;
defineProps(['count'])
defineEmits(['increment'])
&lt;/script&gt;
</code></pre>
<p>è¿™ç§æ–¹æ³•å¯¹äºå°å‹åº”ç”¨æ¥è¯´æ•ˆæœå¾ˆå¥½ï¼Œä½†å¦‚æœä½ æœ‰æ·±å±‚åµŒå¥—çš„ç»„ä»¶ï¼Œåˆ°å¤„ä¼ é€’ props å’Œ emits å¾ˆå¿«å°±ä¼šå˜å¾—æ··ä¹±ï¼Œä»è€Œå¯¼è‡´æ‰€è°“çš„â€œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fvuejs.org%2Fguide%2Fcomponents%2Fprovide-inject.html%23prop-drilling" target="_blank" title="https://vuejs.org/guide/components/provide-inject.html#prop-drilling" ref="nofollow noopener noreferrer">Prop Drilling</a>â€ï¼ˆå±æ€§é€çº§é€ä¼ ï¼‰é—®é¢˜ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼ŒVue æä¾›äº†å¦ä¸€ç§é€‰æ‹©ï¼šprovide/injectã€‚</p>
<h3 data-id="heading-8">Provide/injectï¼šé¿å… Prop Drilling</h3>
<p>Vue ä¸­çš„ <code>provide</code>/<code>inject</code> API ä½¿å¾—çˆ¶ç»„ä»¶èƒ½å¤Ÿè½»æ¾åœ°ä¸å­ç»„ä»¶å…±äº«æ•°æ®ï¼Œæ— è®ºåµŒå¥—å¤šæ·±ï¼Œéƒ½æ— éœ€é€šè¿‡æ¯ä¸€ä¸ªä¸­é—´å±‚çº§å‘ä¸‹ä¼ é€’ propsã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹çœ‹ä¸‹é¢è¿™ä¸ªç®€å•çš„ä»£ç æ¼”ç¤ºï¼š</p>
<h4 data-id="heading-9">çˆ¶ç»„ä»¶</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- ParentComponent.vue --&gt;
&lt;script setup&gt;
import { ref, provide } from 'vue'
import ChildComponent from './ChildComponent.vue'

   const count = ref(0)
   provide('count', count)

   const increment = () =&gt; {
      count.value++
  }
&lt;/script&gt;

&lt;template&gt;
  &lt;div&gt;
    &lt;h2&gt;Parent Count: {{ count }}&lt;/h2&gt;
    &lt;button @click="increment"&gt;Increment&lt;/button&gt;
    &lt;!-- ä¸é€šè¿‡propsä¼ é€’ --&gt;
    &lt;ChildComponent /&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p><code>provide()</code> å‡½æ•°ç”¨äºçˆ¶ç»„ä»¶ä¸­ï¼Œä½¿å…¶æ•°æ®å¯¹åä»£ç»„ä»¶å¯ç”¨ã€‚å®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªæ³¨å…¥é”®å’Œä¸€ä¸ªå€¼ã€‚è¿™ä¸ªé”®å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ– Symbolï¼Œåä»£ç»„ä»¶å°†ä½¿ç”¨è¯¥é”®é€šè¿‡ <code>inject()</code> æ¥è®¿é—®å¯¹åº”çš„å€¼ã€‚å•ä¸ªç»„ä»¶ä¸é™äºè°ƒç”¨ä¸€æ¬¡ï¼›ä½ å¯ä»¥ä½¿ç”¨ä¸åŒçš„é”®å¤šæ¬¡è°ƒç”¨ <code>provide()</code> æ¥å…±äº«ä¸åŒçš„å€¼ã€‚</p>
<p><code>provide()</code> çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä½ æƒ³è¦å…±äº«çš„æ•°æ®ï¼Œå®ƒå¯ä»¥æ˜¯ä»»ä½•ç±»å‹â€”â€”åŸå§‹å€¼ã€å¯¹è±¡ã€å‡½æ•°ï¼Œç”šè‡³æ˜¯åƒ ref æˆ– reactive è¿™æ ·çš„å“åº”å¼çŠ¶æ€ã€‚å½“ä½ æä¾›ä¸€ä¸ªå“åº”å¼å€¼æ—¶ï¼ŒVue ä¸ä¼šä¼ é€’å‰¯æœ¬ï¼›å®ƒä¼šå»ºç«‹ä¸€ä¸ªå®æ—¶è¿æ¥ï¼Œå…è®¸ä½¿ç”¨ <code>inject()</code> çš„åä»£ç»„ä»¶è‡ªåŠ¨ä¸æä¾›è€…ä¿æŒåŒæ­¥ã€‚</p>
<h4 data-id="heading-10">å­ç»„ä»¶</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- ChildComponent.vue --&gt;
&lt;script setup&gt;
import GrandChildComponent from './GrandChildComponent.vue'
&lt;/script&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;h3&gt;I am the Child&lt;/h3&gt;
    &lt;!-- æ³¨æ„: ä¸é€šè¿‡propsä¼ é€’ --&gt;
    &lt;GrandChildComponent /&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p>è¦æ³¨å…¥ç¥–å…ˆç»„ä»¶æä¾›çš„æ•°æ®ï¼Œè¯·åœ¨ <code>GrandChildComponent.vue</code> ä¸­ä½¿ç”¨ <code>inject()</code> å‡½æ•°ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- GrandChildComponent.vue --&gt;
&lt;script setup&gt;
import { inject } from 'vue'
const count = inject('count')
&lt;/script&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;Grandchild sees count: {{ count }}&lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p>åœ¨ä¸Šé¢çš„ä»£ç æ¼”ç¤ºä¸­ï¼ŒParentComponent æä¾›äº†å“åº”å¼çš„ <code>count</code>ï¼Œå› æ­¤ ChildComponent ä¸éœ€è¦åšä»»ä½•æ“ä½œâ€”â€”å®ƒåªéœ€å‘ä¸‹ä¼ é€’æ’æ§½/å­ç»„ä»¶ã€‚ç„¶å GrandChildComponent å¯ä»¥ç›´æ¥æ³¨å…¥ <code>count</code>ï¼Œå¹¶å¯¹çˆ¶ç»„ä»¶çš„æ›´æ–°ä¿æŒå“åº”ã€‚</p>
<p>è¿™æ˜¯å¦‚ä½•ä½¿ç”¨ <code>provide</code>/<code>inject</code> æ¨¡å¼çš„ä¸€ä¸ªåŸºæœ¬æ¼”ç¤ºï¼›ä¸è¿‡ï¼Œå¦‚æœä½ æƒ³äº†è§£æ›´å¤šï¼Œè¿™ç¯‡æ–‡ç« è¿›è¡Œäº†éå¸¸è¯¦ç»†çš„ä»‹ç»ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.telerik.com%2Fblogs%2Fvue-basics-exploring-vue-provide-inject-pattern" target="_blank" title="https://www.telerik.com/blogs/vue-basics-exploring-vue-provide-inject-pattern" ref="nofollow noopener noreferrer">Vue åŸºç¡€ï¼šæ¢ç´¢ Vue çš„ Provide/Inject æ¨¡å¼</a>ã€‚</p>
<p><code>provide</code>/<code>inject</code> æ¨¡å¼éå¸¸é€‚åˆåœ¨ä¸­å‹åº”ç”¨ä¸­é¿å… Prop Drillingã€‚ç„¶è€Œï¼Œéšç€åº”ç”¨è§„æ¨¡çš„å¢é•¿ï¼Œä»¥è¿™ç§æ–¹å¼ç®¡ç†ä¾èµ–å…³ç³»å¯èƒ½ä¼šå˜å¾—å¤æ‚ã€‚å¯¹äºå¤§å‹ä¸”å¤æ‚çš„åº”ç”¨ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ›´å…·ç»“æ„åŒ–å’Œå¯æ‰©å±•æ€§çš„ä¸“é—¨çŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆï¼Œè¿™æ­£æ˜¯åƒ Pinia è¿™æ ·çš„åº“å¤§æ˜¾èº«æ‰‹çš„åœ°æ–¹ã€‚</p>
<h2 data-id="heading-11">åˆ©ç”¨ Pinia åº”å¯¹å¤§è§„æ¨¡çŠ¶æ€ç®¡ç†</h2>
<p>éšç€ä½ çš„åº”ç”¨ä¸æ–­å¢é•¿ï¼Œåœ¨å¤šä¸ªç»„ä»¶ä¹‹é—´æ‰‹åŠ¨ç®¡ç†çŠ¶æ€ä¼šå¾ˆå¿«å˜å¾—ä»¤äººå¤´ç–¼ã€‚æˆ‘ä»¬ä¹‹å‰ä»‹ç»çš„æ¨¡å¼å¯¹äºå°å‹é¡¹ç›®æ¥è¯´è¿ä½œè‰¯å¥½ï¼Œä½†ä¸€æ—¦ä½ å¼€å§‹æ„å»ºå¤§è§„æ¨¡çš„ç”Ÿäº§çº§åº”ç”¨ï¼Œå°±æœ‰è®¸å¤šäº‹æƒ…éœ€è¦è€ƒè™‘ï¼š</p>
<ul>
<li>çƒ­æ¨¡å—æ›¿æ¢ (HMR)</li>
<li>æ›´å¼ºçš„å›¢é˜Ÿåä½œçº¦å®š</li>
<li>ä¸ Vue DevTools çš„é›†æˆï¼ŒåŒ…æ‹¬æ—¶é—´è½´ã€ç»„ä»¶å†…æ£€æŸ¥å’Œæ—¶å…‰æ—…è¡Œè°ƒè¯• (Time-travel debugging)</li>
<li>æœåŠ¡ç«¯æ¸²æŸ“ (SSR) æ”¯æŒ</li>
</ul>
<p>ä½ éœ€è¦ä¸€ä¸ªä¸­å¤®ä»“åº“ï¼Œä¸€ä¸ªå•ä¸€çš„æ•°æ®æºï¼Œä¾›å¤šä¸ªç»„ä»¶è¯»å–å’Œå†™å…¥ï¼Œè€Œè¿™æ­£æ˜¯ <a href="https://link.juejin.cn?target=https%3A%2F%2Fpinia.vuejs.org%2F" target="_blank" title="https://pinia.vuejs.org/" ref="nofollow noopener noreferrer">Pinia</a> ç™»åœºçš„åœ°æ–¹ã€‚</p>
<p>Pinia æ˜¯ Vue 3 çš„å®˜æ–¹çŠ¶æ€ç®¡ç†åº“ï¼Œä¹Ÿæ˜¯ Vuex çš„ç»§ä»»è€…ã€‚å®ƒä¸“ä¸ºå¤„ç†ä¸Šè¿°æ‰€æœ‰åœºæ™¯è€Œè®¾è®¡ã€‚å®ƒæ›´ç®€å•ã€æ›´ç›´è§‚ï¼Œå¹¶ä¸”æ—¨åœ¨ä¸ç»„åˆå¼ API æ— ç¼é…åˆã€‚</p>
<p>åœ¨æ·±å…¥ä»£ç æ¼”ç¤ºä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæ˜ç¡®åŸºç¡€çŸ¥è¯†ã€‚ä»æ ¸å¿ƒä¸Šè®²ï¼ŒçŠ¶æ€ç®¡ç†å…³ä¹ä½ çš„æ•°æ®å­˜æ”¾åœ¨å“ªé‡Œã€å¦‚ä½•è¯»å–ä»¥åŠå¦‚ä½•æ›´æ–°ã€‚Pinia ç”¨å››ä¸ªæ¦‚å¿µå°†è¿™äº›è§„èŒƒåŒ–ï¼š</p>
<ul>
<li>State (çŠ¶æ€)ï¼š è¿™æ˜¯ä½ å®é™…çš„å“åº”å¼æ•°æ®ã€‚æŠŠå®ƒçœ‹ä½œä½ åº”ç”¨çš„å•ä¸€æ•°æ®æºã€‚ä¾‹å¦‚ç”¨æˆ·çš„ä¸ªäººèµ„æ–™è¯¦æƒ…ã€è´­ç‰©è½¦ä¸­çš„å•†å“æˆ–æ¨¡æ€æ¡†æ˜¯å¦æ‰“å¼€ã€‚</li>
<li>Store (ä»“åº“)ï¼š å®¹çº³çŠ¶æ€çš„é›†ä¸­å¼å®¹å™¨ã€‚Store å°†æ•°æ®é›†ä¸­ç®¡ç†ï¼Œè€Œä¸æ˜¯åˆ†æ•£åœ¨å¤šä¸ªç»„ä»¶ä¸­ï¼Œå› æ­¤ä»»ä½•ç»„ä»¶éƒ½å¯ä»¥è®¿é—®å’Œæ›´æ–°å®ƒï¼Œè€Œæ— éœ€æ··ä¹±çš„ Prop é€å±‚ä¼ é€’ (Prop Drilling)ã€‚</li>
<li>Getters (è·å–å™¨)ï¼š å®ƒä»¬å°±åƒ Store çš„è®¡ç®—å±æ€§ã€‚å®ƒä»¬å…è®¸ä½ æ´¾ç”Ÿæˆ–è½¬æ¢çŠ¶æ€å€¼ï¼ˆä¾‹å¦‚ï¼Œè®¡ç®—è´­ç‰©è½¦ä¸­å•†å“çš„æˆæœ¬ï¼‰ï¼Œè€Œæ— éœ€åœ¨å¤šå¤„é‡å¤é€»è¾‘ã€‚</li>
<li>Actions (åŠ¨ä½œ)ï¼š æ›´æ–°çŠ¶æ€çš„å‡½æ•°ã€‚å®ƒä»¬å°±åƒ Vue ç»„ä»¶ä¸­çš„ methodsï¼ˆæ–¹æ³•ï¼‰ï¼Œæ˜¯ä½ å­˜æ”¾ä¿®æ”¹é€»è¾‘çš„åœ°æ–¹ï¼Œæ— è®ºæ˜¯å¢åŠ è®¡æ•°å™¨ã€å‘åˆ—è¡¨æ·»åŠ é¡¹ç›®è¿˜æ˜¯ä» API è·å–æ•°æ®ã€‚</li>
</ul>
<p>å¯ä»¥è¿™æ ·ç†è§£ï¼š</p>
<ul>
<li>State æ˜¯ä½ æŒæœ‰çš„æ•°æ®</li>
<li>Getters æ˜¯ä½ æŸ¥çœ‹æ•°æ®çš„æ–¹å¼</li>
<li>Actions å®šä¹‰æ•°æ®å¦‚ä½•å˜åŒ–</li>
<li>Store æ˜¯è¿™ä¸€åˆ‡çš„æ –èº«ä¹‹æ‰€</li>
</ul>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬æ¼”ç¤ºå¦‚ä½•å°† Pinia é›†æˆåˆ°æˆ‘ä»¬çš„è®¡æ•°å™¨æ¼”ç¤ºåº”ç”¨ä¸­ã€‚</p>
<h2 data-id="heading-12">è®¾ç½® Pinia</h2>
<p>ä¸º Vue 3 å•é¡µåº”ç”¨è®¾ç½® Pinia éå¸¸ç®€å•ã€‚å¦‚æœä½ æ˜¯ä½¿ç”¨ Vue CLI æˆ– create-vue ä»å¤´å¼€å§‹åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ï¼Œè®¾ç½®å‘å¯¼ç”šè‡³ä¼šè¯¢é—®ä½ æ˜¯å¦è¦ä½¿ç”¨ Pinia ä½œä¸ºä½ çš„çŠ¶æ€ç®¡ç†é¦–é€‰ã€‚</p>
<p>è¦åœ¨æ–°é¡¹ç›®ä¸­æ‰‹åŠ¨è®¾ç½® Piniaâ€”â€”æˆ–å°†å…¶æ·»åŠ åˆ°ç°æœ‰åº”ç”¨ä¸­â€”â€”è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š</p>
<p>é¦–å…ˆï¼Œä½¿ç”¨ <code>npm</code> æˆ– <code>yarn</code> å®‰è£… Pinia åŒ…ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">npm install pinia

<span class="hljs-meta"># or</span>

yarn install pinia
</code></pre>
<p>è¦å°† Pinia æ³¨å†Œåˆ°ä½ çš„åº”ç”¨ä¸­ï¼Œè¯·æ‰“å¼€æŒ‚è½½åº”ç”¨çš„å…¥å£æ–‡ä»¶ï¼ˆé€šå¸¸æ˜¯ <code>main.js</code> æˆ– <code>main.ts</code>ï¼‰ï¼Œå¹¶åœ¨ä½ çš„ Vue åº”ç”¨å®ä¾‹ä¸Šè°ƒç”¨ <code>app.use(pinia)</code>ï¼š</p>
<p><strong>main.js</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// main.js</span>
<span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { createPinia } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>

<span class="hljs-keyword">const</span> pinia = <span class="hljs-title function_">createPinia</span>()
<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)

app.<span class="hljs-title function_">use</span>(pinia)
app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
</code></pre>
<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥å¼€å§‹ä¸ºè®¡æ•°å™¨æ¼”ç¤ºåº”ç”¨åˆ›å»º Store äº†ã€‚</p>
<h3 data-id="heading-13">åˆ›å»º Store</h3>
<p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨ Storeï¼Œæ¼”ç¤ºäº†æ‰€æœ‰å››ä¸ªæ¦‚å¿µã€‚è¦åˆ›å»ºä¸€ä¸ª Storeï¼Œé¦–å…ˆæ–°å»ºä¸€ä¸ªæ–‡ä»¶æ¥å­˜æ”¾ä»£ç ã€‚ä¸€ä¸ªå¥½çš„åšæ³•æ˜¯å°†è¿™äº›æ–‡ä»¶æ”¾åœ¨ä¸“ç”¨çš„ <code>stores</code> æ–‡ä»¶å¤¹ä¸­ï¼Œä»¥ä¿æŒé¡¹ç›®äº•äº•æœ‰æ¡ã€‚</p>
<p><strong>CounterStore.js</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useCounterStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'counter'</span>,  {

----

})
</code></pre>
<p>æˆ‘ä»¬è¦ä½¿ç”¨ Pinia çš„ <code>defineStore</code> æ–¹æ³•æ¥åˆ›å»º Storeã€‚å®ƒæ¥å—ä¸¤ä¸ªä¸»è¦å‚æ•°ï¼šç¬¬ä¸€ä¸ªæ˜¯ Store çš„ <code>id</code>ï¼Œå®ƒåœ¨ä½ çš„åº”ç”¨ä¸­å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚ä½ å¯ä»¥éšæ„å‘½åï¼Œä½†å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œ<code>counter</code> æ˜¯æœ€åˆé€‚çš„ï¼Œå› ä¸ºè¿™æ­£æ˜¯æˆ‘ä»¬çš„ Store æ‰€ç®¡ç†çš„ã€‚</p>
<p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå®šä¹‰ Store é€‰é¡¹çš„å¯¹è±¡ã€‚è®©æˆ‘ä»¬åˆ†è§£ä¸€ä¸‹å¯ä»¥åœ¨å…¶ä¸­åŒ…å«çš„å†…å®¹ï¼š</p>
<h3 data-id="heading-14">State</h3>
<p>åœ¨ Store ä¸­å®šä¹‰çš„ç¬¬ä¸€ä¸ªé€‰é¡¹æ˜¯ <code>state</code>ã€‚å¦‚æœä½ ä½¿ç”¨è¿‡ Vue çš„é€‰é¡¹å¼ API (Options API)ï¼Œè¿™ä¼šè®©ä½ å€æ„Ÿäº²åˆ‡ã€‚å®ƒåªæ˜¯ä¸€ä¸ªè¿”å›å¯¹è±¡çš„å‡½æ•°ï¼Œè¯¥å¯¹è±¡åŒ…å«ä½ çš„ Store åº”ç®¡ç†çš„æ‰€æœ‰å“åº”å¼æ•°æ®ã€‚å¯¹äºæˆ‘ä»¬çš„è®¡æ•°å™¨åº”ç”¨æ¼”ç¤ºï¼Œæˆ‘ä»¬å°†å‘ state æ·»åŠ  <code>count</code> å±æ€§ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useCounterStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'counter'</span>,  {
  <span class="hljs-comment">// State â€” å“åº”å¼å…±äº«æ•°æ®</span>
  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> ({
    <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
  })
})
</code></pre>
<p>ç„¶åæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°åœ¨ <code>CounterButton.vue</code> ç»„ä»¶ä¸­å¯¼å…¥è¿™ä¸ª Store å¹¶ä½¿ç”¨ <code>count</code> çŠ¶æ€ã€‚</p>
<p><strong>CounterButton.vue</strong></p>
<pre><code class="hljs language-js" lang="js">&lt;script setup&gt;
<span class="hljs-keyword">import</span> { useCounterStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'../stores/CounterStore.jsâ€™
const counter = useCounterStore()
&lt;/script&gt;
&lt;template&gt;
  &lt;div&gt;
  &lt;button &gt;
    Clicked {{ counter.count }} times
 &lt;/button&gt;
 
  &lt;/div&gt;
&lt;/template&gt;
</span></code></pre>
<p>åœ¨ä¸Šé¢çš„ä»£ç ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯¼å…¥äº† <code>useCounterStore</code> ç„¶åè°ƒç”¨äº†è¯¥æ–¹æ³•ã€‚è¿™å°†è¿”å›æˆ‘ä»¬åœ¨å‰é¢åˆ›å»ºçš„è®¡æ•°å™¨ Store çš„å‰¯æœ¬ã€‚è¿™ä¸ª Store ä¸­çš„çŠ¶æ€æ˜¯å…¨å±€çš„ï¼Œæ„å‘³ç€å¯¹å®ƒæ‰€åšçš„ä»»ä½•æ›´æ–°éƒ½ä¼šè‡ªåŠ¨åæ˜ åœ¨æ‰€æœ‰ä½¿ç”¨è¯¥ Store çš„ç»„ä»¶ä¸­ã€‚</p>
<h3 data-id="heading-15">Getters</h3>
<p>å°±åƒ Vue çš„è®¡ç®—å±æ€§ä¸€æ ·ï¼ŒPinia Store å…è®¸æˆ‘ä»¬å®šä¹‰ <code>getters</code>ã€‚Getter æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªä» Store çŠ¶æ€æ´¾ç”Ÿå‡ºæ¥çš„è®¡ç®—å€¼ã€‚å½“ä½ æƒ³è¦åŸºäºç°æœ‰çŠ¶æ€è½¬æ¢ã€è¿‡æ»¤æˆ–è®¡ç®—æŸäº›å†…å®¹ï¼Œè€Œåˆä¸æƒ³åœ¨ç»„ä»¶ä¹‹é—´é‡å¤é€»è¾‘æ—¶ï¼Œå®ƒä»¬éå¸¸æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ getter æ–¹æ³•è®¡ç®—å½“å‰çŠ¶æ€çš„ä¹˜ç§¯ï¼š</p>
<p>æ›´æ–°ä½ çš„ <code>CounterStore.js</code>ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useCounterStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'counter'</span>,  {

  <span class="hljs-comment">// State â€” å“åº”å¼å…±äº«æ•°æ®</span>
  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> ({
     <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
  })

  <span class="hljs-comment">// Getters â€” æ´¾ç”ŸçŠ¶æ€</span>
  <span class="hljs-attr">getters</span>: {
    <span class="hljs-attr">doubleCount</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">count</span> * <span class="hljs-number">2</span>
  },

})
</code></pre>
<p>å°±æ˜¯è¿™æ ·ã€‚ç°åœ¨æˆ‘ä»¬æ‹¥æœ‰äº†ä¸€ä¸ª <code>doubleCount</code> å±æ€§ï¼Œå¯ä»¥åœ¨ä»»ä½•ç»„ä»¶ä¸­ä½¿ç”¨ã€‚</p>
<p>åˆ›å»ºä¸€ä¸ª <code>CounterDisplay.vue</code> ç»„ä»¶ï¼Œä½¿ç”¨ <code>doubleCount</code> å±æ€§å‘ç”¨æˆ·æ˜¾ç¤ºæ¶ˆæ¯ã€‚</p>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup&gt;
import { useCounterStore } from '../stores/CounterStore.js'
const counter = useCounterStore()
&lt;/script&gt;

&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;Current Count: {{ counter.count }}&lt;/p&gt;
    &lt;p&gt;Double Count: {{ counter.doubleCount }}&lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p>Getters è®¾è®¡ä¸ºåŒæ­¥çš„ã€‚å¦‚æœä½ éœ€è¦æ‰§è¡Œå¼‚æ­¥å·¥ä½œï¼ˆå¦‚è·å–æ•°æ®ï¼‰ï¼Œè¯·æ”¹ç”¨ Actionã€‚</p>
<h3 data-id="heading-16">Actions</h3>
<p>æˆ‘ä»¬å¯ä»¥åœ¨ Store ä¸­å®šä¹‰çš„æœ€åä¸€ä¸ªé€‰é¡¹æ˜¯ actionsã€‚æŠŠ actions æƒ³è±¡æˆ Store ç‰ˆæœ¬çš„ç»„ä»¶æ–¹æ³•â€”â€”å®ƒä»¬å°è£…äº†æ›´æ”¹çŠ¶æ€æˆ–æ‰§è¡Œä»»åŠ¡çš„é€»è¾‘ã€‚ä¸ä»…ç”¨äºæ´¾ç”Ÿå’Œè¿”å›æ•°æ®çš„ getters ä¸åŒï¼Œactions æ—¨åœ¨æ›´æ–°çŠ¶æ€å’Œå¤„ç†å‰¯ä½œç”¨ã€‚</p>
<p>Actions çš„ä¸€ä¸ªä¸»è¦ä¼˜åŠ¿æ˜¯å®ƒä»¬å¯ä»¥æ˜¯å¼‚æ­¥çš„ï¼Œè¿™ä¸ getters ä¸åŒã€‚è¿™ä½¿å¾—å®ƒä»¬éå¸¸é€‚åˆè¯¸å¦‚ä» API è·å–æ•°æ®ã€å¤„ç†è¡¨å•æäº¤æˆ–æ‰§è¡Œä»»ä½•åœ¨å°†ç»“æœæäº¤å› Store ä¹‹å‰éœ€è¦æ—¶é—´çš„æ“ä½œã€‚ä¾‹å¦‚ï¼Œè¿™æ˜¯ä¸€ä¸ªåˆ›å»ºé€»è¾‘æ¥å¢åŠ çŠ¶æ€ <code>count</code> æˆ–ä» API è·å–åˆå§‹ <code>count</code> æ•°æ®çš„å¥½ä½ç½®ã€‚</p>
<p>æ‰“å¼€æˆ‘ä»¬çš„ <code>CounterStore.js</code> å¹¶æ›´æ–°ä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useCounterStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'counter'</span>,  {

  <span class="hljs-comment">// State â€” å“åº”å¼å…±äº«æ•°æ®</span>
  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> ({
     <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
  })

  <span class="hljs-comment">// Getters â€” æ´¾ç”ŸçŠ¶æ€</span>
  <span class="hljs-attr">getters</span>: {
    <span class="hljs-attr">doubleCount</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">count</span> * <span class="hljs-number">2</span>
  },

  <span class="hljs-comment">// Actions â€” æ›´æ–°çŠ¶æ€çš„é€»è¾‘</span>
  <span class="hljs-attr">actions</span>: {
    <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++
    },

    <span class="hljs-keyword">async</span> <span class="hljs-title function_">fetchInitialCount</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/count'</span>)
      <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>()
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span> = data.<span class="hljs-property">value</span>
    }
  }
})
</code></pre>
<p>ç°åœ¨åœ¨ <code>CounterButton.vue</code> ç»„ä»¶å†…éƒ¨ï¼Œä½ å¯ä»¥è°ƒç”¨ action è€Œä¸æ˜¯ç›´æ¥ä¿®æ”¹çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup&gt;
import { useCounterStore } from '../stores/CounterStore.jsâ€™
const counter = useCounterStore()
&lt;/script&gt;

&lt;template&gt;
  &lt;button @click="counter.increment"&gt;Increment&lt;/button&gt;
  &lt;button @click="counter.fetchInitialCount"&gt;Load Initial Count&lt;/button&gt;
  &lt;p&gt;Count is: {{ counter.count }}&lt;/p&gt;
&lt;/template&gt;
</code></pre>
<p>ä»ä¸Šé¢çš„ä»£ç ä¿®æ”¹å¯ä»¥çœ‹å‡ºï¼Œ<code>increment()</code> æ˜¯ä¸€ä¸ªç›´æ¥ä¿®æ”¹ Store çŠ¶æ€çš„ç®€å• actionï¼Œè€Œ <code>fetchInitialCount()</code> åˆ™æ¼”ç¤ºäº† action ä¹Ÿå¯ä»¥å¤„ç†å¼‚æ­¥ä»»åŠ¡ï¼Œå¦‚å®šæ—¶å™¨æˆ– APIã€‚ç”±äº Pinia Store æ˜¯å“åº”å¼çš„ï¼Œä¸€æ—¦ action æ›´æ–°äº†çŠ¶æ€ï¼Œæ‰€æœ‰ä½¿ç”¨è¯¥ Store çš„ç»„ä»¶å°†ç«‹å³åæ˜ æ–°å€¼ã€‚</p>
<h2 data-id="heading-17">æ€»ç»“</h2>
<p>Vue ä¸­çš„çŠ¶æ€ç®¡ç†ä¸å¿…è®©äººæ„Ÿåˆ°ä¸çŸ¥æ‰€æªã€‚ä»å°å¤„ç€æ‰‹ï¼Œä½¿ç”¨ <code>ref</code> å’Œ <code>reactive</code> å¤„ç†æœ¬åœ°çŠ¶æ€ã€‚å½“ç»„ä»¶éœ€è¦é€šä¿¡æ—¶ï¼Œ<code>props</code> å’Œ <code>emits</code> æ˜¯è‡ªç„¶çš„é€‰æ‹©ã€‚éšç€åº”ç”¨å¢é•¿ï¼Œ<code>provide</code>/<code>inject</code> æœ‰åŠ©äºå‡å°‘ Prop é€å±‚ä¼ é€’å¹¶ä¿æŒæ¡ç†æ¸…æ™°ã€‚</p>
<p>ä½†å½“ä½ çš„åº”ç”¨éœ€è¦ä¸€ä¸ªåœ¨è®¸å¤šç»„ä»¶ä¹‹é—´å…±äº«ä¸”ä¸€è‡´çš„çŠ¶æ€æ—¶ï¼ŒPinia ä¾¿è„±é¢–è€Œå‡ºã€‚å®ƒæä¾›äº†ä¸€ä¸ªé›†ä¸­ã€å¯æ‰©å±•çš„ Storeï¼Œä½œä¸ºä½ åº”ç”¨çš„å•ä¸€æ•°æ®æºã€‚</p>
<p>çŸ¥é“ä½•æ—¶ä½¿ç”¨æ¯ç§æ–¹æ³•æ˜¯çœŸæ­£çš„å…³é”®ã€‚ä½ ä¸éœ€è¦ä»ç¬¬ä¸€å¤©èµ·å°±ä½¿ç”¨ Piniaï¼Œä½†éšç€é¡¹ç›®å˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œä½ ä¼šæ„Ÿæ¿€å®ƒçš„ç»“æ„å’Œå¯é æ€§ã€‚æŒæ¡äº†è¿™äº›é€‰é¡¹ï¼Œä½ å°±å¯ä»¥è‡ªä¿¡åœ°ç®¡ç†çŠ¶æ€â€”â€”æ— è®ºä½ æ˜¯æ„å»ºä¸€ä¸ªå°æŒ‚ä»¶è¿˜æ˜¯ä¸€ä¸ªå¤§è§„æ¨¡çš„ç”Ÿäº§çº§åº”ç”¨ã€‚</p>
<p>å¦‚æœä½ æƒ³è¶…è¶ŠåŸºç¡€çŸ¥è¯†ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fpinia.vuejs.org%2F" target="_blank" title="https://pinia.vuejs.org/" ref="nofollow noopener noreferrer">å®˜æ–¹çš„ Pinia æ–‡æ¡£</a>æ˜¯æœ€å¥½çš„ä¸‹ä¸€æ­¥ã€‚å®ƒæ·±å…¥ä»‹ç»äº†æ’ä»¶ã€é«˜çº§æ¨¡å¼ã€DevTools é›†æˆç­‰å†…å®¹â€”â€”æ‰€æœ‰å†…å®¹éƒ½è§£é‡Šå¾—æ¸…æ™°å®ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Š10 åˆ†é’Ÿä¸Šæ‰‹ RabbitMQï¼šç”¨ Python å†™ä¸€ä¸ªâ€œä¸ä¸¢æ¶ˆæ¯â€çš„è¿·ä½ æ¶ˆæ¯ç³»ç»Ÿã€‹]]></title>    <link>https://juejin.cn/post/7591130604430049320</link>    <guid>https://juejin.cn/post/7591130604430049320</guid>    <pubDate>2026-01-04T13:58:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591130604430049320" data-draft-id="7591309945511002112" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Š10 åˆ†é’Ÿä¸Šæ‰‹ RabbitMQï¼šç”¨ Python å†™ä¸€ä¸ªâ€œä¸ä¸¢æ¶ˆæ¯â€çš„è¿·ä½ æ¶ˆæ¯ç³»ç»Ÿã€‹"/> <meta itemprop="keywords" content="RabbitMQ"/> <meta itemprop="datePublished" content="2026-01-04T13:58:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Š10 åˆ†é’Ÿä¸Šæ‰‹ RabbitMQï¼šç”¨ Python å†™ä¸€ä¸ªâ€œä¸ä¸¢æ¶ˆæ¯â€çš„è¿·ä½ æ¶ˆæ¯ç³»ç»Ÿã€‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T13:58:18.000Z" title="Sun Jan 04 2026 13:58:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ ‡ç­¾ï¼š<br/>
RabbitMQ Â· Python Â· æ¶ˆæ¯é˜Ÿåˆ— Â· å®æˆ˜ Demo Â· å…¥é—¨</p>
<hr/>
<h3 data-id="heading-0">ä¸ºä»€ä¹ˆå†™è¿™ç¯‡ï¼Ÿ</h3>
<p>æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMQï¼‰çš„æ¦‚å¿µå¤§å®¶èƒŒå¾—æ»šç“œçƒ‚ç†Ÿï¼šè§£è€¦ã€å¼‚æ­¥ã€å‰Šå³°ã€‚ä½†â€œç¬¬ä¸€æ¬¡æŠŠæ¶ˆæ¯çœŸæ­£å‘å‡ºå»â€çš„é—¨æ§›ä¾æ—§ä¸å°ï¼š</p>
<ul>
<li>éœ€è¦è£… Erlangï¼Ÿ</li>
<li>ç®¡ç†ç•Œé¢æ€ä¹ˆå¼€ï¼Ÿ</li>
<li>æ¶ˆæ¯ä¼šä¸ä¼šä¸€å‘å°±ä¸¢ï¼Ÿ</li>
</ul>
<p>è¿™ç¯‡æ–‡ç« å¸¦ä½  10 åˆ†é’Ÿè·‘é€šç¬¬ä¸€ä¸ªå¯ç”Ÿäº§çš„ RabbitMQ ç¤ºä¾‹ï¼Œä»£ç ä¸è¶³ 80 è¡Œï¼Œå´è¦†ç›–<strong>æŒä¹…åŒ– + æ‰‹åŠ¨ ACK + è¿æ¥æ–­çº¿é‡è¯•</strong>ç­‰ç”Ÿäº§çº§è¦ç´ ï¼Œå¤åˆ¶å³å¯è¿è¡Œã€‚</p>
<hr/>
<h3 data-id="heading-1">1. ä¸€é”®å¯åŠ¨ RabbitMQ</h3>
<p>ä¸æƒ³è£… Erlangï¼ŸDocker ä¸€æŠŠæ¢­ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker run -d --hostname rabbit \
  --name rabbit \
  -p 5672:5672 \
  -p 15672:15672 \
  rabbitmq:3.12-management
</code></pre>
<p>æµè§ˆå™¨æ‰“å¼€ <a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A15672" target="_blank" title="http://localhost:15672" ref="nofollow noopener noreferrer">http://localhost:15672</a><br/>
è´¦å·/å¯†ç ï¼š<code>guest / guest</code><br/>
èƒ½çœ‹åˆ°é˜Ÿåˆ—ã€æ¶ˆæ¯é€Ÿç‡ã€èŠ‚ç‚¹å†…å­˜ï¼Œè°ƒè¯•ç¥å™¨ getâœ”</p>
<hr/>
<h3 data-id="heading-2">2. Python ä¾èµ–ä»…ä¸€ä¸ªåŒ…</h3>
<pre><code class="hljs language-bash" lang="bash">pip install pika==1.3.2
</code></pre>
<hr/>
<h3 data-id="heading-3">3. é˜Ÿåˆ—ä¸æ¶ˆæ¯ï¼šå…ˆå£°æ˜ï¼Œå†ä½¿ç”¨</h3>
<p>RabbitMQ çš„å“²å­¦ï¼š<strong>é˜Ÿåˆ—åªåˆ›å»ºä¸€æ¬¡ï¼Œè°å…ˆåˆ°è°å£°æ˜</strong>ã€‚<br/>
ç¤ºä¾‹é‡ŒæŠŠ <code>durable=True</code> æ‰“å¼€ï¼Œå³ä½¿ MQ é‡å¯ï¼Œé˜Ÿåˆ—å…ƒæ•°æ®ä¹Ÿä¸ä¼šä¸¢ã€‚</p>
<hr/>
<h3 data-id="heading-4">4. ç”Ÿäº§è€…ä»£ç ï¼ˆproducer.pyï¼‰</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> pika, sys

QUEUE = <span class="hljs-string">'demo_queue'</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    conn = pika.BlockingConnection(pika.ConnectionParameters(<span class="hljs-string">'localhost'</span>))
    ch = conn.channel()
    ch.queue_declare(queue=QUEUE, durable=<span class="hljs-literal">True</span>)          <span class="hljs-comment"># æŒä¹…åŒ–é˜Ÿåˆ—</span>

    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>):
        body = <span class="hljs-string">f'hello <span class="hljs-subst">{i}</span>'</span>
        ch.basic_publish(exchange=<span class="hljs-string">''</span>,
                         routing_key=QUEUE,
                         body=body,
                         properties=pika.BasicProperties(delivery_mode=<span class="hljs-number">2</span>))  <span class="hljs-comment"># æŒä¹…åŒ–æ¶ˆæ¯</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f' [x] Sent "<span class="hljs-subst">{body}</span>"'</span>)
    conn.close()

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    <span class="hljs-keyword">try</span>:
        main()
    <span class="hljs-keyword">except</span> KeyboardInterrupt:
        sys.exit()
</code></pre>
<p>è¿è¡Œç»“æœï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"> [<span class="hljs-meta">x</span>] Sent <span class="hljs-string">"hello 0"</span>
 [<span class="hljs-meta">x</span>] Sent <span class="hljs-string">"hello 1"</span>
 ...
 [<span class="hljs-meta">x</span>] Sent <span class="hljs-string">"hello 9"</span>
</code></pre>
<hr/>
<h3 data-id="heading-5">5. æ¶ˆè´¹è€…ä»£ç ï¼ˆconsumer.pyï¼‰</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> pika, time, sys

QUEUE = <span class="hljs-string">'demo_queue'</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">ch, method, properties, body</span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f' [x] Received <span class="hljs-subst">{body.decode()}</span>'</span>)
    time.sleep(<span class="hljs-number">1</span>)                               <span class="hljs-comment"># æ¨¡æ‹Ÿè€—æ—¶</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">' [x] Done'</span>)
    ch.basic_ack(delivery_tag=method.delivery_tag)  <span class="hljs-comment"># æ‰‹åŠ¨ ack</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    conn = pika.BlockingConnection(pika.ConnectionParameters(<span class="hljs-string">'localhost'</span>))
    ch = conn.channel()
    ch.queue_declare(queue=QUEUE, durable=<span class="hljs-literal">True</span>)
    ch.basic_qos(prefetch_count=<span class="hljs-number">1</span>)              <span class="hljs-comment"># å…¬å¹³åˆ†å‘</span>
    ch.basic_consume(queue=QUEUE, on_message_callback=callback)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">' [*] Waiting for messages. To exit press CTRL+C'</span>)
    ch.start_consuming()

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    <span class="hljs-keyword">try</span>:
        main()
    <span class="hljs-keyword">except</span> KeyboardInterrupt:
        sys.exit()
</code></pre>
<p>è¿è¡Œåï¼Œæ¯ç§’å¤„ç† 1 æ¡æ¶ˆæ¯ï¼Œ10 ç§’å®Œæˆå…¨éƒ¨ä»»åŠ¡ï¼›<br/>
RabbitMQ UI ä¸­ <code>Messages</code> ä» 10 â†’ 0ï¼Œæ²¡æœ‰ä¸€æ¡ç§¯å‹ã€‚</p>
<hr/>
<h3 data-id="heading-6">6. å°ç»“ï¼šæˆ‘ä»¬åˆ°åº•åšäº†ä»€ä¹ˆï¼Ÿ</h3>






























<table><thead><tr><th>å…³é”®ç‚¹</th><th>å‘½ä»¤/å‚æ•°</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>é˜Ÿåˆ—æŒä¹…åŒ–</td><td><code>queue_declare(durable=True)</code></td><td>MQ é‡å¯é˜Ÿåˆ—ä¸ä¸¢</td></tr><tr><td>æ¶ˆæ¯æŒä¹…åŒ–</td><td><code>delivery_mode=2</code></td><td>æœåŠ¡å™¨æ‰ç”µæ¶ˆæ¯ä¸ä¸¢</td></tr><tr><td>æ‰‹åŠ¨ ACK</td><td><code>basic_ack</code></td><td>æ¶ˆè´¹è€…å´©æºƒæ—¶æ¶ˆæ¯å¯é‡æ–°æŠ•é€’</td></tr><tr><td>å…¬å¹³åˆ†å‘</td><td><code>basic_qos(prefetch_count=1)</code></td><td>æ…¢æ¶ˆè´¹è€…ä¸ä¼šè¢«å‹å®</td></tr></tbody></table>
<p>æŠŠè¿™ 4 é¡¹é…ç½®æ¬åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œä½ å°±å·²ç»æˆ˜èƒœäº† 80% çš„â€œæ¶ˆæ¯ä¸¢å¤±â€äº‹æ•…ã€‚</p>
<hr/>
<h3 data-id="heading-7">7. ä¸‹ä¸€æ­¥å¯ä»¥ç©ä»€ä¹ˆï¼Ÿ</h3>
<ol>
<li>æŠŠ <code>demo_queue</code> æ¢æˆ <code>topic</code> æ¨¡å¼ï¼Œå®ç°æ—¥å¿—çº§åˆ«è·¯ç”±ï¼›</li>
<li>ç”¨ <code>RPC</code> æ¨¡å¼åšåŒæ­¥è°ƒç”¨ï¼Œå‡è£…è‡ªå·±æ˜¯ä¸€ä¸ªå¾®æœåŠ¡ç½‘å…³ï¼›</li>
<li>å¼€é•œåƒé˜Ÿåˆ— + é›†ç¾¤ï¼ŒKill æ‰ä»»ä¸€èŠ‚ç‚¹ï¼Œæ¶ˆæ¯ä¾æ—§åœ¨çº¿ï¼›</li>
<li>ç»™æ¶ˆè´¹ç«¯åŠ  <code>retry + dead-letter-exchange</code>ï¼Œè‡ªåŠ¨é‡è¯• 3 æ¬¡åè¿›å…¥æ­»ä¿¡é˜Ÿåˆ—ï¼Œäººå·¥å¤„ç†ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-8">8. ä¸€å¥é¸¡æ±¤</h3>
<p>æ¶ˆæ¯é˜Ÿåˆ—çš„éš¾ç‚¹ä»æ¥ä¸åœ¨äºâ€œå‘æ¶ˆæ¯â€ï¼Œè€Œåœ¨äºâ€œå¤±è´¥æ—¶æ¶ˆæ¯è¿˜åœ¨â€ã€‚<br/>
å…ˆè®©ä»Šå¤©çš„ 10 æ¡æ¶ˆæ¯ä¸ä¸¢ï¼Œå†å»è€ƒè™‘ç™¾ä¸‡ QPS çš„å®ä¼Ÿè“å›¾â€”â€”è„šä¸‹å·²å‡ºå‘ï¼Œè¿œæ–¹ä¸è¿œã€‚</p>
<p>å®Œæ•´æºç å·²ä¸Šä¼  GitHubï¼š<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyourname%2Frabbitmq-python-minimal" target="_blank" title="https://github.com/yourname/rabbitmq-python-minimal" ref="nofollow noopener noreferrer">github.com/yourname/raâ€¦</a><br/>
æ¬¢è¿ Star &amp; PRï¼Œç¥å¤§å®¶æ’é˜Ÿæ„‰å¿«ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI åŸç”Ÿä¸‹çš„æ–°çš„ç¤¾åŒºå½¢æ€ä¼šæ˜¯ä»€ä¹ˆ]]></title>    <link>https://juejin.cn/post/7591350620188377094</link>    <guid>https://juejin.cn/post/7591350620188377094</guid>    <pubDate>2026-01-04T12:05:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591350620188377094" data-draft-id="7591422577937612806" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI åŸç”Ÿä¸‹çš„æ–°çš„ç¤¾åŒºå½¢æ€ä¼šæ˜¯ä»€ä¹ˆ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-04T12:05:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="XCaptaino"/> <meta itemprop="url" content="https://juejin.cn/user/3052665287739005"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI åŸç”Ÿä¸‹çš„æ–°çš„ç¤¾åŒºå½¢æ€ä¼šæ˜¯ä»€ä¹ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3052665287739005/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    XCaptaino
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T12:05:04.000Z" title="Sun Jan 04 2026 12:05:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>AI ä¸ä¼šæ€æ­»ç¤¾åŒºï¼Œä½†ä¼šæ€æ­»é‚£äº›åªåš â€œä¿¡æ¯æ¬è¿å·¥â€ çš„å¹³åº¸ç¤¾åŒºã€‚Stack Overflow çš„ä¸‹æ»‘ä¸ Reddit çš„åšæŒºå°±æ˜¯æœ€å¥½çš„ä¾‹è¯ã€‚æœªæ¥çš„ç¤¾åŒºå¿…é¡»æ„å»ºä»¥ â€œ<strong>å¯ä¿¡</strong>â€ ä¸ â€œ<strong>ç‹¬åˆ›æ€§</strong>â€ ã€ â€œ<strong>ç”¨æˆ·æ·±åº¦é“¾æ¥</strong>â€ä¸ºæ ¸å¿ƒçš„èµ„äº§ä½“ç³»ï¼Œå°† AI ä½œä¸ºè¿‡æ»¤å™ªéŸ³çš„è¿‡æ»¤å™¨å’Œæ”¾å¤§åˆ›æ„çš„æ”¾å¤§å™¨ï¼Œè€Œéæ›¿ä»£äººç±»æ€è€ƒçš„ç”Ÿæˆå™¨ã€‚æœ¬æ–‡æ²¡æœ‰ç­”æ¡ˆï¼Œå•çº¯è®°å½•ä¸€ä¸‹ä¸€äº›æ€è€ƒ</p>
<p>åœ¨ AIGC è¾¹é™…æˆæœ¬è¶‹é›¶çš„èƒŒæ™¯ä¸‹ï¼Œä¼ ç»Ÿ â€œæé—® - å›ç­”â€ çš„çŸ¥è¯†æ¬è¿æ¨¡å¼å·²éš¾ä»¥ä¸ºç»§ã€‚
æˆ‘è§‰å¾—æœ‰ä¸€äº›é—®é¢˜æ˜¯ä¼ ç»Ÿç¤¾åŒºå’ŒçŸ¥è¯†é—®ç­”ç¤¾åŒºå¿…é¡»è¦å›ç­”çš„é—®é¢˜</p>
<ul>
<li><strong>ä»·å€¼å‡çº§ï¼š</strong> å½“æ ‡å‡†ç­”æ¡ˆå”¾æ‰‹å¯å¾—ï¼Œç¤¾åŒºå¦‚ä½•æä¾› AI æ— æ³•ç”Ÿæˆçš„ç¨€ç¼ºä»·å€¼ï¼Ÿ</li>
<li><strong>ç§©åºé‡æ„ï¼š</strong> åœ¨äººæœºæ··æ‚çš„ç¯å¢ƒä¸­ï¼Œå¦‚ä½•ä¿è¯å†…å®¹çš„å¯ä¿¡åº¦ä¸ç¤¾åŒºçš„è®¨è®ºç§©åºï¼Ÿ</li>
<li><strong>é‡åŒ–è½åœ°ï¼š</strong> å¦‚ä½•å»ºç«‹ä¸€å¥—å¯æ‰§è¡Œã€å¯ç›‘æµ‹çš„æŒ‡æ ‡ä½“ç³»æ¥æŒ‡å¯¼æ—¥å¸¸è¿è¥ï¼Ÿ</li>
</ul>
<h2 data-id="heading-0">ç¤¾åŒºå½¢æ€çš„æ¼”è¿›è„‰ç»œ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/376b096f1a0e461799a055da60ec4e34~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWENhcHRhaW5v:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768133104&amp;x-signature=lj2KXeX3H6GD2ai0zYW0IEGmVYM%3D" alt="image.png" loading="lazy"/></p>
<p>å›é¡¾äº’è”ç½‘ç¤¾åŒºçš„å‘å±•ï¼Œæ¯ä¸€æ¬¡æŠ€æœ¯è·ƒè¿éƒ½é‡å¡‘äº† â€œè¿æ¥â€ çš„æ–¹å¼ã€‚æˆ‘ä»¬æ­£åœ¨ç»å†ä»ç¤¾äº¤ç½‘ç»œå‘ â€œAI åŸç”Ÿç¤¾åŒºâ€ è·¨è¶Šçš„å…³é”®æ—¶åˆ»ã€‚è¿™ä¸€æ¼”è¿›å¹¶éæ–­è£‚ï¼Œè€Œæ˜¯å¯¹ç¤¾åŒºæ ¸å¿ƒè¦ç´ çš„æ·±åŒ–ã€‚</p>
<p><strong>å…´è¶£è®ºå› (1979-2003)ï¼š</strong> å—é™äºæ‹¨å·å¸¦å®½ï¼Œç”¨æˆ·åŸºäºçº¯ç²¹å…´è¶£èšåˆï¼ˆå¦‚ Usenet, NGAï¼‰ã€‚æ ¸å¿ƒæ˜¯ â€œè®¤åŒæ„Ÿâ€ã€‚</p>
<p><strong>å†…å®¹å¹³å° (2003-2016)ï¼š</strong> æœç´¢å¼•æ“ä¸å®½å¸¦æ™®åŠï¼Œæ”¾å¤§äº†åˆ†å‘æ•ˆç‡ï¼ˆå¦‚ Reddit, çŸ¥ä¹ï¼‰ã€‚æ ¸å¿ƒæ˜¯ â€œå½±å“åŠ›â€ã€‚</p>
<p><strong>ç¤¾äº¤ç½‘ç»œ (2016-è‡³ä»Š)ï¼š</strong> ç§»åŠ¨äº’è”ä¸ç®—æ³•æ¨èï¼Œæµé‡ç²¾å‡†å˜ç°ï¼ˆå¦‚ TikTok, å°çº¢ä¹¦ï¼‰ã€‚æ ¸å¿ƒæ˜¯ â€œå•†ä¸šä»·å€¼â€ã€‚</p>
<p><strong>AIåŸç”Ÿç¤¾åŒº (æœªæ¥ 1)ï¼š</strong> ç”Ÿæˆå¼ AI è®©å†…å®¹ç”Ÿäº§æˆæœ¬è¶‹é›¶ã€‚æ ¸å¿ƒå›å½’ â€œçœŸå®åä½œâ€ ä¸ â€œäººæœºå…±ç”Ÿâ€ã€‚</p>
<p>åœ¨æ–°èŒƒå¼ä¸‹ï¼Œæˆ‘ä»¬å¿…é¡»é‡æ–°å®¡è§†ç¤¾åŒºçš„ä¸‰å¤§åŸºçŸ³ï¼š</p>
<h4 data-id="heading-1">å®šä½</h4>
<p>ä¸å†æ˜¯ â€œæ‰¾ç­”æ¡ˆâ€ï¼Œè€Œæ˜¯ <strong>â€œæ‰¾å…±é¸£â€ ä¸ â€œè§£å†³å¤æ‚é—®é¢˜â€</strong> ã€‚</p>
<p>ç”¨æˆ·æ¥è¿™é‡Œæ˜¯å› ä¸º AI æ— æ³•æä¾›æƒ…æ„Ÿæ…°è—‰æˆ–å¤„ç†éæ ‡åœºæ™¯ã€‚</p>
<h4 data-id="heading-2">æ–‡åŒ–</h4>
<p>ä»å´‡æ‹œ â€œå¤§ç¥â€ è½¬å‘<strong>å´‡æ‹œ â€œçœŸå®â€</strong> ã€‚</p>
<p>ç¤¾åŒºåº”é¼“åŠ±åŸåˆ›ã€ä¸ªäººç»å†ä¸æ·±åº¦æ€è€ƒï¼Œæ˜ç¡®æ’æ–¥æ‰¹é‡ç”Ÿæˆçš„æµæ°´çº¿å†…å®¹ã€‚</p>
<h4 data-id="heading-3">è§„åˆ™</h4>
<p>å»ºç«‹<strong>äººæœºåˆ†å±‚</strong>çš„æ¿€åŠ±æœºåˆ¶ã€‚</p>
<p>ä¸¥æƒ©ä¼ªè£…æˆäººç±»çš„ AI çŒæ°´ï¼Œé‡å¥–ç»è¿‡éªŒè¯çš„é«˜ä»·å€¼äººç±»è´¡çŒ®ã€‚</p>
<h2 data-id="heading-4">ç”Ÿæˆå¼ AI å¯¹çŸ¥è¯†å‹ç¤¾åŒºçš„å·®å¼‚åŒ–å½±å“</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1319724de9c4bfda29d1ec4a1b8d6ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWENhcHRhaW5v:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768133104&amp;x-signature=JyClvQRbvYUYr2IiWcAdu5Gy9JM%3D" alt="image.png" loading="lazy"/></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nature.com%2Farticles%2Fs41598-024-61221-0" target="_blank" title="https://www.nature.com/articles/s41598-024-61221-0" ref="nofollow noopener noreferrer">Nature (2024)</a> çš„ç ”ç©¶é€šè¿‡å¯¹æ¯” Stack Overflow (SO) ä¸ Reddit å¼€å‘è€…ç¤¾åŒºï¼Œæ­ç¤ºäº† â€œä¿¡æ¯å‹â€ ä¸ â€œå…³ç³»å‹â€ ç¤¾åŒºçš„ä¸åŒå‘½è¿ã€‚</p>

























<table><thead><tr><th>ç»´åº¦</th><th>Stack Overflow (çº¯ä¿¡æ¯å‹)</th><th>Reddit å¼€å‘è€…ç¤¾åŒº (å…³ç³»/è®¨è®ºå‹)</th></tr></thead><tbody><tr><td><strong>æµé‡å˜åŒ–</strong></td><td><strong>ä¸‹é™çº¦ 12%</strong> (æ—¥å‡å‡å°‘ç™¾ä¸‡çº§è®¿é—®)</td><td>æ— æ˜¾è‘—ç»Ÿè®¡å­¦å·®å¼‚ï¼Œä¿æŒç¨³å®š</td></tr><tr><td><strong>æé—®ç‰¹å¾</strong></td><td>æ€»ä½“æé—®é‡ä¸‹æ»‘ï¼Œç®€å•é—®é¢˜æ¶ˆå¤±ï¼Œ<strong>é—®é¢˜å¤æ‚åº¦æ˜¾è‘—ä¸Šå‡</strong></td><td>ç»´æŒåŸæœ‰è®¨è®ºç”Ÿæ€ï¼Œè¯é¢˜æœªå—æ˜æ˜¾å†²å‡»</td></tr><tr><td><strong>ç”¨æˆ·æµå¤±</strong></td><td><strong>æ–°æ‰‹ç”¨æˆ·å¤§é‡æµå¤±</strong>ï¼Œç•™å­˜ç”¨æˆ·å¤šä¸ºè€æ‰‹</td><td>ç”¨æˆ·ç»“æ„æœªè§æ˜æ˜¾æ–­å±‚</td></tr></tbody></table>
<p><strong>è¿è¥å¯ç¤ºï¼š</strong></p>
<ul>
<li><strong>æ‹¥æŠ±å¤æ‚ï¼š</strong> ç®€å•é—®é¢˜è¢« AI æ‹¦æˆªæ˜¯å¿…ç„¶ï¼Œç¤¾åŒºåº”ä¸»åŠ¨å¼•å¯¼ç”¨æˆ·è®¨è®º â€œæ²¡æœ‰æ ‡å‡†ç­”æ¡ˆâ€ çš„å¤æ‚åœºæ™¯ã€‚</li>
<li><strong>å¢å¼ºçº½å¸¦ï¼š</strong> Reddit çš„éŸ§æ€§è¯æ˜äº† â€œäººé™…è¿æ¥â€ çš„æŠ¤åŸæ²³ä½œç”¨ã€‚åº”å¢åŠ  AMA (Ask Me Anything)ã€åœ†æ¡Œè®¨è®ºç­‰å¼ºäº’åŠ¨å½¢å¼ã€‚</li>
<li><strong>å¥–åŠ±éæ ‡ï¼š</strong> ä¿®æ”¹ç§¯åˆ†è§„åˆ™ï¼Œé™ä½å¯¹ç®€å•æ¬è¿å†…å®¹çš„å¥–åŠ±ï¼Œå¤§å¹…æå‡å¯¹ç»éªŒåˆ†äº«ã€è§‚ç‚¹è¾©è®ºçš„æ¿€åŠ±æƒé‡ã€‚</li>
</ul>
<h2 data-id="heading-5">ä¿¡æ¯/å…³ç³»/è§‚ç‚¹ä¸‰ç±»ç¤¾åŒºçš„å®æ“ç­–ç•¥</h2>
<p>ä¸åŒç±»å‹çš„ç¤¾åŒºåº”é‡‡å–å·®å¼‚åŒ–çš„è½¬å‹ç­–ç•¥ï¼š</p>
<h4 data-id="heading-6">A) Stack Overflow</h4>
<p><strong>ä¿¡æ¯å‹ï¼šè½¬å‹ä¸“å®¶ç½‘ç»œ</strong></p>
<ul>
<li><strong>èšç„¦æ·±åº¦ï¼š</strong> å¼•å¯¼æé—®è€…è¡¥å……è¯¦ç»†ä¸Šä¸‹æ–‡ï¼Œæ‹’ç» â€œä¸€å¥è¯æé—®â€ã€‚</li>
<li><strong>ä¸“å®¶è®¡åˆ’ï¼š</strong> è®¤è¯é¢†åŸŸä¸“å®¶ï¼Œå¯¹ç»è¿‡ä¸“å®¶éªŒè¯çš„ç­”æ¡ˆç»™äºˆåŒå€æƒé‡ã€‚</li>
<li><strong>ä¸¥ç¦çŒæ°´ï¼š</strong> å¯¹å¤åˆ¶ç²˜è´´ GPT ç­”æ¡ˆçš„è´¦å·å®è¡Œé›¶å®¹å¿å°ç¦ã€‚</li>
</ul>
<h4 data-id="heading-7">B) Reddit Dev</h4>
<p><strong>å…³ç³»å‹ï¼šå¼ºåŒ–ç¤¾äº¤å¯†åº¦</strong></p>
<ul>
<li><strong>ä¸»é¢˜æ´»åŠ¨ï¼š</strong> å®šæœŸä¸¾åŠ AMAã€é»‘å®¢é©¬æ‹‰æ¾ï¼Œåˆ¶é€  â€œæ°›å›´æ„Ÿâ€ä¸ºç”¨æˆ·æä¾›æ·±åº¦é“¾æ¥çš„åœºæ™¯å’Œæœºä¼šã€‚</li>
<li><strong>ç‰ˆä¸»è‡ªæ²»ï¼š</strong> èµ‹æƒç‰ˆä¸»åˆ¶å®šä¸ªæ€§åŒ–çš„å AI è§„åˆ™ï¼ˆå¦‚ç‰¹å®šæ¿å—ç¦æ­¢ AIï¼‰ã€‚</li>
<li><strong>ç¾¤ç»„åä½œï¼š</strong> é¼“åŠ±åŸºäºé¡¹ç›®çš„é•¿å‘¨æœŸè®¨è®ºï¼Œè€Œéå•æ¬¡é—®ç­”ã€‚</li>
</ul>
<h4 data-id="heading-8">C) Hacker News</h4>
<p><strong>è§‚ç‚¹å‹ï¼šæå«åŸåˆ›æ€è€ƒ</strong></p>
<ul>
<li><strong>æ…¢é€Ÿ Karmaï¼š</strong> ä¿æŒé«˜é—¨æ§›çš„ä¿¡èª‰ç§¯ç´¯æœºåˆ¶ï¼Œé˜²æ­¢ AI åˆ·å·ã€‚</li>
<li><strong>è¾…åŠ©æ ‡è¯†ï¼š</strong> å…è®¸ AI è¾…åŠ©æ¶¦è‰²ï¼Œä½†å¿…é¡»åœ¨æ–‡æœ«å£°æ˜ï¼Œå¼ºè°ƒè§‚ç‚¹å±äºäººç±»ã€‚</li>
<li><strong>æ¥æºæ ¸æŸ¥ï¼š</strong> å¯¹å¼•ç”¨é“¾æ¥è¿›è¡Œè‡ªåŠ¨åŒ–çœŸå®æ€§æ ¡éªŒï¼Œé˜²æ­¢å¹»è§‰ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b54f9fda5bd4c5db9b599330ddac737~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWENhcHRhaW5v:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768133104&amp;x-signature=bZcHJB4RhA3Fc28QhyWL8uXWUC0%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨Claudeä¸­é—® "å…ƒèŠ³ï¼ˆGeminiï¼‰ä½ æ€ä¹ˆçœ‹ï¼Ÿ"]]></title>    <link>https://juejin.cn/post/7591360623469314058</link>    <guid>https://juejin.cn/post/7591360623469314058</guid>    <pubDate>2026-01-04T12:18:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591360623469314058" data-draft-id="7591322050240610342" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨Claudeä¸­é—® &quot;å…ƒèŠ³ï¼ˆGeminiï¼‰ä½ æ€ä¹ˆçœ‹ï¼Ÿ&quot;"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,Claude,Gemini"/> <meta itemprop="datePublished" content="2026-01-04T12:18:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é»„æ—æ™´"/> <meta itemprop="url" content="https://juejin.cn/user/3985057546510423"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨Claudeä¸­é—® "å…ƒèŠ³ï¼ˆGeminiï¼‰ä½ æ€ä¹ˆçœ‹ï¼Ÿ"
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3985057546510423/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é»„æ—æ™´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T12:18:40.000Z" title="Sun Jan 04 2026 12:18:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>å½“å‰å¯¹ç¨‹åºå‘˜è¾ƒä¸ºå‹å¥½çš„ä¸¤ç§AIå·¥å…·ï¼Œåº”è¯¥éClaudeå’ŒGeminiè«å±ã€‚å°½ç®¡å…¬è®¤Claudeåœ¨ç¼–ç ä¸Šèƒ½åŠ›æ›´å¼ºï¼Œä½†æ˜¯Geminiä¹Ÿæœ‰è‡ªå·±çš„ä¼˜åŠ¿ï¼Œå¦‚100ä¸‡Tokenè¶…é•¿ä¸Šä¸‹æ–‡ã€åŸç”Ÿå¤šæ¨¡æ€æ”¯æŒå›¾ç‰‡ã€PDFã€éŸ³é¢‘ã€è§†é¢‘ç­‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2350f52dd08946a29b5fbdd74b48dff1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6buE5p6X5pm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768133920&amp;x-signature=xu8YihaZWGIgfLpN5xQpU1Y9C%2BM%3D" alt="" loading="lazy"/></p>
<p>åœ¨æˆ‘ä»¬ä½¿ç”¨Claudeçš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹åœºæ™¯ï¼š</p>
<ul>
<li>Claudeçš„ç­”æ¡ˆä¸æ˜¯é‚£ä¹ˆæ»¡æ„ï¼Œæƒ³å¯¹æ¯”çœ‹çœ‹Geminiçš„ç­”æ¡ˆ</li>
<li>åœ¨ç‰¹å®šåœºæ™¯ä¸‹ï¼Œå°±æƒ³ä½¿ç”¨æ›´é«˜æ•ˆçš„Geminiæ¥å¤„ç†</li>
</ul>
<p>è¿™ä¸ªæ—¶å€™ï¼Œä¸ç®¡æˆ‘ä»¬æ˜¯åŒæ—¶å¼€ç€ä¸¤ä¸ªCLIè¿˜æ˜¯ä½¿ç”¨ç½‘é¡µç‰ˆçš„Geminiï¼Œéƒ½èƒ½ä½“ä¼šåˆ°æ¥å›åˆ‡æ¢å·¥å…·æˆ–è€…é‡æ–°äº¤ä»£ä¸Šä¸‹æ–‡çš„ç—›è‹¦ã€‚è€Œæˆ‘ä»¬è¦åšåˆ°çš„å°±æ˜¯ï¼Œåœ¨å¿…è¦æ—¶å€™ï¼Œåªéœ€è¦åœ¨Claudeä¸­é—®ä¸€å¥â€œgeminiä½ æ€ä¹ˆçœ‹â€ ï¼ŒClaudeå°±å¯ä»¥è¾“å‡ºGeminiçš„ç»“æœã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/549c23688e574b42b8c30fe15ad53b6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6buE5p6X5pm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768133920&amp;x-signature=Nt%2BH8AObANgC93IorNeLXNEg5I4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">æ€ä¹ˆåšğŸŒŸ</h2>
<p>æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ç›´æ¥åœ¨Claudeä¸­æ‰§è¡Œgeminiçš„BashæŒ‡ä»¤ï¼Œæ¯”å¦‚æˆ‘ä»¬å…ˆåœ¨Claudeä¸­é—® 1+1ç­‰äºå¤šå°‘ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2c595de35f348129170a24d7a357b06~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6buE5p6X5pm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768133920&amp;x-signature=YF%2FW%2F%2FrikyHxFA2DFVfY0JvhvLY%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœæˆ‘ä»¬æƒ³è®©Geminiæ¥å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€è¦æ‰§è¡Œå¦‚ä¸‹æŒ‡ä»¤ï¼š</p>
<pre><code class="hljs language-css" lang="css">gemini -<span class="hljs-selector-tag">p</span> <span class="hljs-number">1</span>+<span class="hljs-number">1</span>ç­‰äºå¤šå°‘
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bdea7f58aa2f4b029dd37586ec5a29c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6buE5p6X5pm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768133920&amp;x-signature=Y7x%2FP3mAZNgcML%2B5LtYEvZVmrhM%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼ŒGeminiä¹Ÿç»™å‡ºäº†ç­”æ¡ˆã€‚è¿™ä¸ªä¾‹å­å¯èƒ½ä¸å¤Ÿå‡†ç¡®çš„è®©ä½ æ„è¯†åˆ°è¿™ä¸ªGeminiçš„å›ç­”ç¡®å®æ¥è‡ªGeminiã€‚æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªå›¾ç‰‡çš„ä¾‹å­ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6635bb8debd2472b815c331696857599~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6buE5p6X5pm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768133920&amp;x-signature=SlR%2F%2BCIixp2FQEj9UYZZcYPvS0k%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬å…ˆè®©Claudeæ¥æè¿°è¿™å¼ å›¾ç‰‡ï¼Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-quote">&gt; test-image.png è¿™å¼ å›¾ç‰‡æ˜¯å¹²å˜›çš„ </span>

âº Let me read the image file to see what it contains.

âº Read(test-image.png)
  â¿  Read image (25.5KB)
  â¿  Running PostToolUse hooksâ€¦ (1/2 done)

âº è¿™å¼ å›¾ç‰‡æ˜¾ç¤ºäº†ä¸€ä¸ªæ·±è‰²ä¸»é¢˜çš„ IDE/ä»£ç ç¼–è¾‘å™¨ç•Œé¢ã€‚ä»å›¾ç‰‡æ¥çœ‹:

<span class="hljs-bullet">  -</span> å·¦ä¾§æ˜¯æ–‡ä»¶èµ„æºç®¡ç†å™¨ä¾§è¾¹æ ï¼Œæ˜¾ç¤ºäº†é¡¹ç›®æ–‡ä»¶ç»“æ„
<span class="hljs-bullet">  -</span> ä¸»ç¼–è¾‘åŒºåŸŸæ˜¾ç¤ºäº†ä¸€ä¸ªæ·±è‰²èƒŒæ™¯çš„ç¼–è¾‘å™¨
<span class="hljs-bullet">  -</span> çœ‹èµ·æ¥åƒæ˜¯ Visual Studio Code æˆ–ç±»ä¼¼çš„å¼€å‘ç¯å¢ƒ

  æ ¹æ®æ–‡ä»¶å test-image.pngï¼Œè¿™ä¼¼ä¹æ˜¯ä¸€ä¸ªæµ‹è¯•ç”¨çš„æˆªå›¾æ–‡ä»¶ã€‚è¿™å¼ å›¾ç‰‡å¯èƒ½æ˜¯ç”¨äº:
<span class="hljs-bullet">  -</span> æµ‹è¯•å›¾ç‰‡è¯»å–åŠŸèƒ½
<span class="hljs-bullet">  -</span> ä½œä¸ºé¡¹ç›®ä¸­çš„ç¤ºä¾‹æˆ–æµ‹è¯•èµ„æº
<span class="hljs-bullet">  -</span> è®°å½•æŸä¸ªå¼€å‘ç¯å¢ƒçš„é…ç½®æˆ–ç•Œé¢
</code></pre>
<p>å†è®©Geminiæ¥æè¿°è¿™å¼ å›¾ç‰‡ï¼Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-scss" lang="scss"> <span class="hljs-built_in">Bash</span>(gemini "è¿™å¼ å›¾ç‰‡æ˜¯å¹²å˜›çš„" &lt; test-image.png)
  â¿ è¿™å¼ å›¾ç‰‡ï¼ˆtest-image<span class="hljs-selector-class">.png</span>ï¼‰æ˜¯ä¸€ä¸ª **<span class="hljs-number">800</span>x600 åƒç´ çš„ PNG å›¾åƒ**ã€‚                                              

    ä»äºŒè¿›åˆ¶æ•°æ®æ¥çœ‹ï¼Œå®ƒä¼¼ä¹æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„å›¾åƒï¼Œå¾ˆå¯èƒ½æ˜¯ä¸€ä¸ªåŒ…å«
    **ç™½è‰²èƒŒæ™¯å’Œå°‘é‡å›¾å½¢å…ƒç´ **ï¼ˆå¦‚ç®€å•çš„çº¿æ¡æˆ–å›¾æ ‡
    â€¦ +<span class="hljs-number">3</span> lines (ctrl+o to expand)
  â¿  Running PostToolUse hooksâ€¦ (<span class="hljs-number">1</span>/<span class="hljs-number">2</span> done)

âº æ ¹æ® Gemini CLI çš„åˆ†æ,test-image<span class="hljs-selector-class">.png</span> æ˜¯ä¸€å¼  <span class="hljs-number">800</span>x600 åƒç´ çš„ PNG å›¾åƒ,åŒ…å«ç™½è‰²èƒŒæ™¯å’Œä¸€äº›ç®€å•çš„å›¾å½¢å…ƒç´ (å¦‚çº¿æ¡æˆ–å›¾æ ‡)ã€‚

  ä»æ–‡ä»¶å test_cl ç›®å½•çš„ä½ç½®æ¥çœ‹,è¿™å¼ å›¾ç‰‡å¾ˆå¯èƒ½æ˜¯ç”¨äºå¼€å‘æˆ–æµ‹è¯• Gemini CLI å›¾åƒå¤„ç†åŠŸèƒ½çš„ç¤ºä¾‹ç´ æã€‚å®ƒä½œä¸ºä¸€ä¸ªæµ‹è¯•æ–‡ä»¶,ç”¨æ¥éªŒè¯å›¾åƒåˆ†æå’Œè§†è§‰è¯†åˆ«åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä»–ä»¬çš„å›ç­”æ˜¯å®Œå…¨ä¸ä¸€è‡´çš„ã€‚ä½†æ˜¯æˆ‘ä»¬ä¸å¯èƒ½æ¯æ¬¡éƒ½å»å†™ä¸€ä¸ª<code>gemini -p</code> æŒ‡ä»¤ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±æƒ³åˆ°äº†å°†ä¸Šè¿°æŒ‡ä»¤æè¿°æˆä¸€ä¸ªskillã€‚</p>
<h2 data-id="heading-2">å¥½çš„æ–¹å¼ğŸŒŸğŸŒŸ</h2>
<p>åˆ›å»ºä¸€ä¸ªskillæ¥æè¿°æˆ‘ä»¬çš„è¦æ±‚ï¼š</p>
<ul>
<li>æ‰§è¡ŒGeminiæŒ‡ä»¤åˆ†æé—®é¢˜</li>
<li>å°†Geminiåˆ†æçš„ç»“æœä¸Claudeçš„ç»“æœè¿›è¡Œå¯¹æ¯”</li>
</ul>

<pre><code class="hljs language-arduino" lang="arduino">---  name:  gemini  description:  Cross-AI  comparison  tool  that  executes  Gemini  CLI  <span class="hljs-keyword">and</span>  compares  results  with  Claude<span class="hljs-number">'</span>s  responses.  Use  when  user  asks  <span class="hljs-string">"geminiæ€ä¹ˆçœ‹"</span>,  <span class="hljs-string">"è®©geminiå›ç­”"</span>,  <span class="hljs-keyword">or</span>  mentions  <span class="hljs-string">"gemini"</span>  to  get  alternative  perspectives  <span class="hljs-keyword">and</span>  compare  AI  model  outputs.  Supports  both  text  questions  <span class="hljs-keyword">and</span>  image  analysis  queries.  ---  # Gemini Cross-AI Comparison   ## Overview   This  skill  enables  cross-AI  comparison  by  executing  the  Gemini  CLI  tool  <span class="hljs-keyword">and</span>  contrasting  its  responses  with  Claude<span class="hljs-number">'</span>s  answers.  This  provides  users  with  multiple  perspectives  <span class="hljs-keyword">and</span>  helps  validate  accuracy.   ## Workflow   ### <span class="hljs-number">1.</span> Detect Trigger   Trigger <span class="hljs-keyword">this</span> skill when user uses phrases like:  -  <span class="hljs-string">"geminiæ€ä¹ˆçœ‹"</span>  -  <span class="hljs-string">"è®©geminiå›ç­”"</span>  -  <span class="hljs-string">"ç”¨geminiåˆ†æ"</span>  -  <span class="hljs-string">"geminiè®¤ä¸ºå‘¢"</span>  -  Or  any  <span class="hljs-keyword">explicit</span>  request  to  get  Gemini<span class="hljs-number">'</span>s  opinion   ### <span class="hljs-number">2.</span> Extract Query   Identify  the  user<span class="hljs-number">'</span>s  actual question <span class="hljs-keyword">or</span> task:  -  For text:  Extract  the  core  question  being  asked  -  For images:  Note  the  image  file  path  <span class="hljs-keyword">and</span>  the  question  about  it  -  Handle  both  direct  questions  <span class="hljs-keyword">and</span>  contextual  follow-ups   ### <span class="hljs-number">3.</span> Execute Gemini CLI   **For  text-only  questions:**  ```bash  gemini  <span class="hljs-string">"ç”¨æˆ·çš„é—®é¢˜"</span>  ```   **For  image  analysis:**  ```bash  gemini  <span class="hljs-string">"ç”¨æˆ·çš„é—®é¢˜"</span>  &lt;  image.png  ```   **For  multiple  images:**  ```bash  gemini  <span class="hljs-string">"ç”¨æˆ·çš„é—®é¢˜"</span>  &lt;  image1.png  ```   Execute  the  command  <span class="hljs-keyword">and</span>  capture  Gemini<span class="hljs-number">'</span>s  complete  response.   ### <span class="hljs-number">4.</span> Compare Responses   Analyze  differences  between  Claude<span class="hljs-number">'</span>s  <span class="hljs-keyword">and</span>  Gemini<span class="hljs-number">'</span>s  answers:   **Comparison  Dimensions:**  -  **Accuracy**:  Which  answer  is  more  factually  correct?  -  **Completeness**:  Did  one  miss  important  details?  -  **Clarity**:  Which  explanation  is  easier  to  understand?  -  **Approach**:  Different  reasoning  paths  <span class="hljs-keyword">or</span>  perspectives  -  **Tone**:  Formal  vs  casual,  concise  vs  verbose  -  **Specific  insights**:  Unique  points  from  either  model   **Key  Differences  to  Highlight:**  -  Contradictions  <span class="hljs-keyword">or</span>  disagreements  -  Complementary  information  -  Different  emphasis  <span class="hljs-keyword">or</span>  priorities  -  Unique  capabilities  shown   ### <span class="hljs-number">5.</span> Present Comparison   Format output as:   ```  ## Gemini çš„å›ç­”   [ Gemini<span class="hljs-number">'</span>s  complete  response ]  ## å¯¹æ¯”åˆ†æ   ### ä¸»è¦å·®å¼‚  [ Key  differences  bullet  points ]  ### å„è‡ªä¼˜åŠ¿  -  **Claude**: [ What  Claude  did  better ] -  **Gemini**: [ What  Gemini  did  better ]  ### å»ºè®®  [ When  to  prefer  which  answer , <span class="hljs-keyword">or</span>  <span class="hljs-keyword">if</span>  combining  both  would  be  optimal ] ```   ## Best Practices   <span class="hljs-number">1</span> .  **Be  fair  <span class="hljs-keyword">and</span>  objective**:  Acknowledge  when  Gemini  provides  better  <span class="hljs-keyword">or</span>  more  accurate  answers  <span class="hljs-number">2</span> .  **Preserve  context**:  If  <span class="hljs-keyword">this</span>  is  a  follow-up  question,  include  relevant  context  in  the  Gemini  query  <span class="hljs-number">3</span> .  **Handle  errors  gracefully**:  If  gemini  CLI  fails,  explain  the  error  <span class="hljs-keyword">and</span>  suggest  alternatives  <span class="hljs-number">4</span> .  **Avoid  bias**:  Don<span class="hljs-number">'</span>t  always  favor  Claude<span class="hljs-number">'</span>s  answer  -  genuinely  assess  which  is  better  <span class="hljs-number">5</span> .  **Be  concise**:  Focus  on  meaningful  differences,  <span class="hljs-keyword">not</span>  minor  stylistic  variations   ## Error Handling   If gemini CLI fails:  -  Check <span class="hljs-keyword">if</span> gemini CLI is installed:  `which  gemini`  -  Verify syntax:  text  questions  use  quotes,  images  use  stdin  redirect  -  Check  image  file  exists  <span class="hljs-keyword">and</span>  is  readable  -  Report  specific  error  message  to  user  -  Fall  back  to  Claude-only  response  <span class="hljs-keyword">if</span>  needed   ## Examples   **Example  <span class="hljs-number">1</span>:  Text  question**  User:  <span class="hljs-string">"geminiæ€ä¹ˆçœ‹ Python çš„å¼‚æ­¥ç¼–ç¨‹ï¼Ÿ"</span>  Execute:  `gemini  <span class="hljs-string">"Python çš„å¼‚æ­¥ç¼–ç¨‹æœ‰ä»€ä¹ˆç‰¹ç‚¹å’Œä¼˜åŠ¿ï¼Ÿ"</span>`   **Example  <span class="hljs-number">2</span>:  Image  analysis**  User:  <span class="hljs-string">"geminiæ€ä¹ˆçœ‹è¿™å¼ å›¾ç‰‡é‡Œçš„ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ screenshot.png"</span>  Execute:  `gemini  <span class="hljs-string">"è¿™å¼ å›¾ç‰‡é‡Œçš„ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ"</span>  &lt;  screenshot.png`   **Example  <span class="hljs-number">3</span>:  Verification**  User:  <span class="hljs-string">"Claude è¯´ç­”æ¡ˆæ˜¯ 42ï¼Œè®©geminiéªŒè¯ä¸€ä¸‹"</span>  Execute:  `gemini  <span class="hljs-string">"ç­”æ¡ˆæ˜¯ 42 å¯¹å—ï¼Ÿ[context from previous conversation]"</span> 
</code></pre>
<p>ç°åœ¨æˆ‘ä»¬æ¥ç”¨ä¸€ä¸ªé”™è¯¯ç™¾å‡ºçš„å®ä½“ç±»ï¼ŒéªŒè¯ä¸‹è¿™ä¸ªskillã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">pakage com.mistake.demo
inport kotlin.random.Random
clas BrokenCalculator {
</code></pre>
<p>Claudeæ‰§è¡Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">&gt; BrokenCalculator è¿™ä¸ªç±»ä¸­æœ‰å“ªäº›é”™è¯¯ 

âº æˆ‘æ¥å¸®ä½ æŸ¥æ‰¾å¹¶åˆ†æ BrokenCalculator ç±»ä¸­çš„é”™è¯¯ã€‚

âº Search(pattern: <span class="hljs-string">"**/*BrokenCalculator*"</span>)
  â¿  Found <span class="hljs-number">1</span> file (ctrl+o to expand)
  â¿  Running PostToolUse hooksâ€¦ (<span class="hljs-number">1</span>/<span class="hljs-number">2</span> done)

âº Bash(file /Users/linqinghuang/test/test_cl/BrokenCalculator)
  â¿  /Users/linqinghuang/test/test_cl/BrokenCalculator: ASCII text
  â¿  Running PostToolUse hooksâ€¦ (<span class="hljs-number">1</span>/<span class="hljs-number">2</span> done)

âº Read(BrokenCalculator)
  â¿  Read <span class="hljs-number">3</span> lines
  â¿  Running PostToolUse hooksâ€¦ (<span class="hljs-number">1</span>/<span class="hljs-number">2</span> done)

âº Read(BrokenCalculator)
  â¿  Read <span class="hljs-number">3</span> lines
  â¿  Running PostToolUse hooksâ€¦ (<span class="hljs-number">1</span>/<span class="hljs-number">2</span> done)

âº æ‰¾åˆ°äº† BrokenCalculator æ–‡ä»¶ï¼Œè¿™ä¸ª Kotlin ç±»ä¸­æœ‰ä»¥ä¸‹å‡ ä¸ªé”™è¯¯ï¼š

  è¯­æ³•é”™è¯¯ï¼ˆæ‹¼å†™é”™è¯¯ï¼‰ï¼š 

  <span class="hljs-number">1.</span> ç¬¬<span class="hljs-number">1</span>è¡Œï¼špakage â†’ åº”è¯¥æ˜¯ <span class="hljs-keyword">package</span>
  pakage com.mistake.demo  <span class="hljs-comment">// é”™è¯¯</span>
  <span class="hljs-keyword">package</span> com.mistake.demo <span class="hljs-comment">// æ­£ç¡®</span>
  <span class="hljs-number">2.</span> ç¬¬<span class="hljs-number">2</span>è¡Œï¼šinport â†’ åº”è¯¥æ˜¯ <span class="hljs-keyword">import</span>
  inport kotlin.random.Random  <span class="hljs-comment">// é”™è¯¯</span>
  <span class="hljs-keyword">import</span> kotlin.random.Random  <span class="hljs-comment">// æ­£ç¡®</span>
  <span class="hljs-number">3.</span> ç¬¬<span class="hljs-number">3</span>è¡Œï¼šclas â†’ åº”è¯¥æ˜¯ <span class="hljs-keyword">class</span>
  <span class="hljs-title class_">clas</span> <span class="hljs-title">BrokenCalculator</span> {  <span class="hljs-comment">// é”™è¯¯</span>
  <span class="hljs-keyword">class</span> <span class="hljs-title class_">BrokenCalculator</span> {  <span class="hljs-comment">// æ­£ç¡®</span>

  å…¶ä»–é—®é¢˜ï¼š 
  - ç±»å®šä¹‰ä¸å®Œæ•´ï¼Œç¼ºå°‘ç±»çš„ä¸»ä½“å†…å®¹
  - æ²¡æœ‰é—­åˆçš„å¤§æ‹¬å· }
  - æ²¡æœ‰å®é™…çš„ç±»å®ç°

  è¿™äº›éƒ½æ˜¯ç¼–è¯‘æ—¶é”™è¯¯ï¼Œä¼šå¯¼è‡´ä»£ç æ— æ³•ç¼–è¯‘é€šè¿‡ã€‚
</code></pre>
<p>æ¥ç€é—®â€œ<strong>geminiä½ æ€ä¹ˆçœ‹</strong>â€ï¼Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"> geminiä½ æ€ä¹ˆçœ‹

âº /gemini

âº Bash(gemini "è¯·åˆ†æ /Users/linqinghuang/test/test<span class="hljs-emphasis">_cl/BrokenCalculator
      è¿™ä¸ªæ–‡ä»¶ä¸­æœ‰å“ªäº›é”™è¯¯ï¼Ÿè¯·è¯¦ç»†æŒ‡å‡ºæ‰€æœ‰é—®é¢˜ã€‚")
  â¿  I will start by verifying the file's existence and reading its content to analyze it.
     `/Users/linqinghuang/test/test_</span>cl/BrokenCalculator` æ–‡ä»¶åŒ…å«ä»¥ä¸‹ Kotlin è¯­æ³•é”™è¯¯ï¼š
<span class="hljs-code">     â€¦ +18 lines (ctrl+o to expand)
  â¿  Running PostToolUse hooksâ€¦ (1/2 done)
</span>
âº Gemini çš„å›ç­”

  Gemini æŒ‡å‡ºäº†ä»¥ä¸‹é—®é¢˜ï¼š

<span class="hljs-bullet">  1.</span> å…³é”®å­—æ‹¼å†™é”™è¯¯ï¼š
<span class="hljs-bullet">    -</span> pakage åº”æ›´æ­£ä¸º package
<span class="hljs-bullet">    -</span> inport åº”æ›´æ­£ä¸º import
<span class="hljs-bullet">    -</span> clas åº”æ›´æ­£ä¸º class
<span class="hljs-bullet">  2.</span> æ–‡ä»¶æ‰©å±•åç¼ºå¤±ï¼š
<span class="hljs-bullet">    -</span> è¯¥æ–‡ä»¶åŒ…å« Kotlin ä»£ç ï¼Œä½†æ²¡æœ‰ .kt æ‰©å±•å
<span class="hljs-bullet">    -</span> å»ºè®®é‡å‘½åä¸º BrokenCalculator.kt

  æä¾›äº†ä¿®æ­£åçš„ä»£ç ç¤ºä¾‹ã€‚

  å¯¹æ¯”åˆ†æ

  ä¸»è¦å·®å¼‚

<span class="hljs-bullet">  -</span> Gemini é¢å¤–å‘ç°ï¼šæ–‡ä»¶æ‰©å±•åé—®é¢˜ï¼ˆç¼ºå°‘ .ktï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå®ç”¨çš„è§‚å¯Ÿ
<span class="hljs-bullet">  -</span> Claude é¢å¤–å‘ç°ï¼šç±»å®šä¹‰ä¸å®Œæ•´ï¼ˆç¼ºå°‘ä¸»ä½“å†…å®¹å’Œé—­åˆå¤§æ‹¬å·ï¼‰

  å„è‡ªä¼˜åŠ¿

<span class="hljs-bullet">  -</span> Claudeï¼šæ›´è¯¦ç»†åœ°å±•ç¤ºäº†é”™è¯¯ä½ç½®å’Œä»£ç å¯¹æ¯”æ ¼å¼ï¼Œä½¿ç”¨äº†ä»£ç å—å±•ç¤ºé”™è¯¯å’Œæ­£ç¡®çš„å†™æ³•å¯¹æ¯”
<span class="hljs-bullet">  -</span> Geminiï¼šå‘ç°äº†æ–‡ä»¶æ‰©å±•åè¿™ä¸ªå®é™…éƒ¨ç½²æ—¶çš„é‡è¦é—®é¢˜ï¼Œå¹¶æä¾›äº†å®Œæ•´çš„ä¿®æ­£åä»£ç ç¤ºä¾‹

  å»ºè®®

  ç»“åˆä¸¤è€…çš„ç­”æ¡ˆæœ€ä½³ï¼š
<span class="hljs-bullet">  -</span> Gemini æŒ‡å‡ºçš„æ–‡ä»¶æ‰©å±•åé—®é¢˜åœ¨å®é™…å¼€å‘ä¸­å¾ˆé‡è¦ï¼Œåº”è¯¥é‡‡çº³
<span class="hljs-bullet">  -</span> ä¸¤ä¸ªæ¨¡å‹éƒ½å‡†ç¡®è¯†åˆ«äº†æ ¸å¿ƒçš„æ‹¼å†™é”™è¯¯
<span class="hljs-bullet">  -</span> ä¸¤è€…éƒ½åº”è¯¥æåˆ°ä»£ç ä¸å®Œæ•´çš„é—®é¢˜ï¼ˆGemini çš„ä¿®æ­£ä»£ç ç¤ºä¾‹éšå«äº†è¿™ä¸€ç‚¹ï¼Œä½†æ²¡æœ‰æ˜ç¡®è¯´æ˜ï¼‰

  æ€»ç»“ï¼šGemini åœ¨æ–‡ä»¶æ‰©å±•åé—®é¢˜ä¸Šæ›´èƒœä¸€ç­¹ï¼Œè¿™æ˜¯ä¸€ä¸ªå®¹æ˜“è¢«å¿½ç•¥ä½†å®é™…å¾ˆé‡è¦çš„ç»†èŠ‚ã€‚
</code></pre>
<p>ä»ç»“æœä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒGeminiè¾“å‡ºäº†è‡ªå·±çš„å›ç­”å¹¶ä¸”å¯¹æ¯”åˆ†æäº†ä¸Claudeå›ç­”çš„å·®å¼‚æ€§ã€‚åˆ°è¿™é‡Œå·²ç»è¾¾åˆ°äº†æˆ‘ä»¬çš„ç›®çš„ã€‚ä½†å½“å‰ä»ç„¶å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šGeminiçš„è¿”å›ç»“æœä¼šæ±¡æŸ“Claudeçš„ä¸Šä¸‹æ–‡ã€‚</p>
<h2 data-id="heading-3">æ›´å¥½çš„æ–¹å¼ ğŸŒŸğŸŒŸğŸŒŸ</h2>
<p>å¦‚æœæˆ‘ä»¬æƒ³è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±éœ€è¦å®šä¹‰ä¸€ä¸ªSubagentæ¥å•ç‹¬æ‰§è¡ŒGeminiçš„ä»»åŠ¡ï¼Œè¿™æ ·Claudeä¸»å¯¹è¯å°±åªæœ‰ä¸€ä¸ªæ‘˜è¦ï¼Œè¿™é‡Œæˆ‘ä»¬å°†Subagentè®¾è®¡ä¸ºåŒæ­¥æ‰§è¡Œçš„ã€‚ skillæè¿°å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">---
name: gemini
<span class="hljs-section">description: Cross-AI comparison tool that executes Gemini CLI and compares results with Claude's responses. Use when user asks "geminiæ€ä¹ˆçœ‹", "è®©geminiå›ç­”", or mentions "gemini" to get alternative perspectives and compare AI model outputs. Supports both text questions and image analysis queries.
---</span>

<span class="hljs-section"># Gemini Cross-AI Comparison</span>

<span class="hljs-section">## Overview</span>

This skill enables cross-AI comparison by executing the Gemini CLI tool and contrasting its responses with Claude's answers. This provides users with multiple perspectives and helps validate accuracy.

<span class="hljs-section">## Workflow</span>

<span class="hljs-section">### 1. Detect Trigger</span>

Trigger this skill when user uses phrases like:
<span class="hljs-bullet">-</span> "geminiæ€ä¹ˆçœ‹"
<span class="hljs-bullet">-</span> "è®©geminiå›ç­”"
<span class="hljs-bullet">-</span> "ç”¨geminiåˆ†æ"
<span class="hljs-bullet">-</span> "geminiè®¤ä¸ºå‘¢"
<span class="hljs-bullet">-</span> Or any explicit request to get Gemini's opinion

<span class="hljs-section">### 2. Extract Query and Claude's Response</span>

Identify the user's actual question or task:
<span class="hljs-bullet">-</span> For text: Extract the core question being asked
<span class="hljs-bullet">-</span> For images: Note the image file path and the question about it
<span class="hljs-bullet">-</span> Handle both direct questions and contextual follow-ups

<span class="hljs-strong">**Important**</span> : Capture Claude's response to the user's question, as it will be passed to the Subagent for comparison.

<span class="hljs-section">### 3. Execute Gemini CLI via Subagent</span>

å¯åŠ¨ä¸€ä¸ªç‹¬ç«‹çš„åŒæ­¥ agent æ¥æ‰§è¡Œ gemini å‘½ä»¤å¹¶å®Œæˆå¯¹æ¯”åˆ†æï¼Œé¿å…æ±¡æŸ“ä¸»å¯¹è¯ä¸Šä¸‹æ–‡ã€‚

<span class="hljs-strong">**Agent é…ç½®æ–‡ä»¶**</span> ï¼š<span class="hljs-code">`~/.claude/agents/gemini-comparison-agent.md`</span>

<span class="hljs-strong">**ä½¿ç”¨æ–¹æ³•ï¼š**</span>

<span class="hljs-bullet">1.</span> <span class="hljs-strong">**è¯»å– Agent é…ç½®**</span> ï¼š
   <span class="hljs-code">```
   Read ~/.claude/agents/gemini-comparison-agent.md
   ```</span>

<span class="hljs-bullet">2.</span> <span class="hljs-strong">**å¯åŠ¨ Subagent**</span> ï¼š
   ä½¿ç”¨ Task å·¥å…·ï¼Œä¼ å…¥ï¼š
<span class="hljs-bullet">   -</span> <span class="hljs-strong">**subagent <span class="hljs-emphasis">_type** : general-purpose
   - **run_</span> in <span class="hljs-emphasis">_background** : falseï¼ˆåŒæ­¥æ‰§è¡Œï¼‰
   - **description** : "Compare Gemini and Claude responses"
   - **prompt** : åŒ…å«ä»¥ä¸‹å†…å®¹
     - å¼•ç”¨ gemini-comparison-agent.md çš„å®Œæ•´å†…å®¹
     - Claude çš„å“åº”
     - ç”¨æˆ·æŸ¥è¯¢
     - å›¾ç‰‡è·¯å¾„ï¼ˆå¦‚æœé€‚ç”¨ï¼‰

**ç¤ºä¾‹ Prompt ç»“æ„** ï¼š
```
è¯·æŒ‰ç…§ä»¥ä¸‹ agent é…ç½®æ‰§è¡Œä»»åŠ¡ï¼š

[ä» ~/.claude/agents/gemini-comparison-agent.md è¯»å–çš„å†…å®¹]

---

å½“å‰ä»»åŠ¡ï¼š
- Claude çš„å“åº”ï¼š{CLAUDE'S_</span>RESPONSE}
- ç”¨æˆ·æŸ¥è¯¢ï¼š{USER<span class="hljs-emphasis">_QUERY}
- å›¾ç‰‡è·¯å¾„ï¼š{IMAGE_</span>PATH}ï¼ˆå¯é€‰ï¼‰
```

**</span> å…³é”®ç‚¹ï¼š **
<span class="hljs-bullet">-</span> Agent é…ç½®æ–‡ä»¶ä½äº <span class="hljs-code">`~/.claude/agents/gemini-comparison-agent.md`</span>
<span class="hljs-bullet">-</span> ä½¿ç”¨ <span class="hljs-code">`run_in_background: false`</span> ç¡®ä¿åŒæ­¥æ‰§è¡Œ
<span class="hljs-bullet">-</span> Subagent åœ¨ç‹¬ç«‹ä¼šè¯ä¸­è¿è¡Œï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡å®Œå…¨éš”ç¦»
<span class="hljs-bullet">-</span> ä¸è¦åœ¨ä¸»å¯¹è¯ä¸­ç›´æ¥ä½¿ç”¨ Bash å·¥å…·æ‰§è¡Œ gemini å‘½ä»¤

<span class="hljs-section">### 4. Present Comparison</span>

Subagent ä¼šè¿”å›å®Œæ•´çš„å¯¹æ¯”åˆ†æç»“æœã€‚ç›´æ¥å°† Subagent çš„è¾“å‡ºå±•ç¤ºç»™ç”¨æˆ·å³å¯ï¼Œä¸éœ€è¦å†è¿›è¡Œä»»ä½•å¤„ç†æˆ–æ ¼å¼åŒ–ã€‚

Subagent çš„è¾“å‡ºå·²ç»åŒ…å«äº†ï¼š
<span class="hljs-bullet">-</span> Gemini çš„å®Œæ•´å›ç­”
<span class="hljs-bullet">-</span> ä¸»è¦å·®å¼‚åˆ†æ
<span class="hljs-bullet">-</span> å„è‡ªä¼˜åŠ¿
<span class="hljs-bullet">-</span> ç»¼åˆå»ºè®®

<span class="hljs-section">## Best Practices</span>

<span class="hljs-bullet">1.</span> ** Always use Subagent ** : å¿…é¡»é€šè¿‡ Subagent æ‰§è¡Œ gemini å‘½ä»¤ï¼Œä¸è¦åœ¨ä¸»å¯¹è¯ä¸­ç›´æ¥ä½¿ç”¨ Bash å·¥å…·
<span class="hljs-bullet">2.</span> ** Pass Claude's response ** : ç¡®ä¿ Subagent èƒ½å¤Ÿè·å¾— Claude çš„å®Œæ•´å“åº”ï¼Œä»¥ä¾¿è¿›è¡Œå‡†ç¡®å¯¹æ¯”
<span class="hljs-bullet">3.</span> ** Be fair and objective ** : æ‰¿è®¤å½“ Gemini æä¾›æ›´å¥½æˆ–æ›´å‡†ç¡®çš„ç­”æ¡ˆæ—¶
<span class="hljs-bullet">4.</span> ** Preserve context ** : å¦‚æœæ˜¯åç»­é—®é¢˜ï¼Œåœ¨ä¼ ç»™ Subagent çš„æŸ¥è¯¢ä¸­åŒ…å«ç›¸å…³ä¸Šä¸‹æ–‡
<span class="hljs-bullet">5.</span> ** Avoid bias ** : ä¸è¦æ€»æ˜¯åå‘ Claude çš„ç­”æ¡ˆ - çœŸè¯šåœ°è¯„ä¼°å“ªä¸ªæ›´å¥½
<span class="hljs-bullet">6.</span> ** Be concise ** : ä¸“æ³¨äºæœ‰æ„ä¹‰çš„å·®å¼‚ï¼Œè€Œéæ¬¡è¦çš„é£æ ¼å˜åŒ–
<span class="hljs-bullet">7.</span> ** Context isolation ** : Subagent çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸ä¸»å¯¹è¯å®Œå…¨éš”ç¦»ï¼Œä¿æŒä¸»å¯¹è¯å†å²æ¸…æ™°

<span class="hljs-section">## Error Handling</span>

å½“ä½¿ç”¨ Subagent æ—¶å¯èƒ½é‡åˆ°çš„é”™è¯¯æƒ…å†µï¼š

** Subagent æ‰§è¡Œå¤±è´¥ï¼š **
<span class="hljs-bullet">-</span> å¦‚æœ Task å·¥å…·æ‰§è¡Œå¤±è´¥ï¼Œå‘ç”¨æˆ·è¯´æ˜ Subagent å¯åŠ¨é—®é¢˜
<span class="hljs-bullet">-</span> æä¾›é”™è¯¯è¯¦æƒ…å’Œå»ºè®®çš„é‡è¯•æ–¹æ¡ˆ

** gemini CLI ä¸å¯ç”¨ï¼š **
<span class="hljs-bullet">-</span> Subagent ä¼šæ£€æµ‹ <span class="hljs-code">`gemini`</span> å‘½ä»¤æ˜¯å¦å¯ç”¨
<span class="hljs-bullet">-</span> å¦‚æœä¸å¯ç”¨ï¼ŒSubagent ä¼šæŠ¥å‘Šå…·ä½“é”™è¯¯ä¿¡æ¯
<span class="hljs-bullet">-</span> å»ºè®®ç”¨æˆ·æ£€æŸ¥ gemini CLI æ˜¯å¦å·²æ­£ç¡®å®‰è£…

** å‘½ä»¤è¯­æ³•é”™è¯¯ï¼š **
<span class="hljs-bullet">-</span> æ–‡æœ¬æŸ¥è¯¢ï¼šä½¿ç”¨å¼•å·åŒ…è£¹æŸ¥è¯¢å†…å®¹
<span class="hljs-bullet">-</span> å›¾ç‰‡æŸ¥è¯¢ï¼šä½¿ç”¨ stdin é‡å®šå‘ <span class="hljs-code">`&lt; {IMAGE_PATH}`</span>
<span class="hljs-bullet">-</span> æ£€æŸ¥å›¾ç‰‡æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”å¯è¯»

<span class="hljs-strong">**é™çº§ç­–ç•¥ï¼š**</span>
<span class="hljs-bullet">-</span> å¦‚æœ gemini CLI ä¸å¯ç”¨æˆ–æ‰§è¡Œå¤±è´¥
<span class="hljs-bullet">-</span> å‘ç”¨æˆ·è¯´æ˜æƒ…å†µ
<span class="hljs-bullet">-</span> æä¾› Claude çš„åŸå§‹ç­”æ¡ˆä½œä¸ºå‚è€ƒ
<span class="hljs-bullet">-</span> å»ºè®®ç”¨æˆ·ç¨åé‡è¯•æˆ–æ‰‹åŠ¨ä½¿ç”¨ gemini CLI

<span class="hljs-section">## Examples</span>

<span class="hljs-strong">**Example 1: Text question**</span>

ç”¨æˆ·è¾“å…¥ï¼š
<span class="hljs-code">```
User: "geminiæ€ä¹ˆçœ‹ Python çš„å¼‚æ­¥ç¼–ç¨‹ï¼Ÿ"
```</span>

æ‰§è¡Œæµç¨‹ï¼š
<span class="hljs-bullet">1.</span> Claude å·²ç»ç»™å‡ºäº†å…³äº Python å¼‚æ­¥ç¼–ç¨‹çš„å›ç­”
<span class="hljs-bullet">2.</span> å¯åŠ¨ Subagentï¼Œä¼ å…¥ Claude çš„å“åº”
<span class="hljs-bullet">3.</span> Subagent æ‰§è¡Œï¼š<span class="hljs-code">`gemini "Python çš„å¼‚æ­¥ç¼–ç¨‹æœ‰ä»€ä¹ˆç‰¹ç‚¹å’Œä¼˜åŠ¿ï¼Ÿ"`</span>
<span class="hljs-bullet">4.</span> Subagent è¿”å›å¯¹æ¯”åˆ†æç»“æœ
<span class="hljs-bullet">5.</span> ç›´æ¥å±•ç¤º Subagent çš„è¾“å‡º

<span class="hljs-strong">**Example 2: Image analysis**</span>

ç”¨æˆ·è¾“å…¥ï¼š
<span class="hljs-code">```
User: "geminiæ€ä¹ˆçœ‹è¿™å¼ å›¾ç‰‡é‡Œçš„ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ screenshot.png"
```</span>

æ‰§è¡Œæµç¨‹ï¼š
<span class="hljs-bullet">1.</span> Claude å·²ç»åˆ†æäº† screenshot.png ä¸­çš„ä»£ç 
<span class="hljs-bullet">2.</span> å¯åŠ¨ Subagentï¼Œä¼ å…¥ï¼š
<span class="hljs-bullet">   -</span> Claude çš„åˆ†æå†…å®¹
<span class="hljs-bullet">   -</span> å›¾ç‰‡è·¯å¾„ï¼šscreenshot.png
<span class="hljs-bullet">3.</span> Subagent æ‰§è¡Œï¼š<span class="hljs-code">`gemini "è¿™å¼ å›¾ç‰‡é‡Œçš„ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ" &lt; screenshot.png`</span>
<span class="hljs-bullet">4.</span> Subagent è¿”å›å¯¹æ¯”åˆ†æç»“æœ
<span class="hljs-bullet">5.</span> ç›´æ¥å±•ç¤º Subagent çš„è¾“å‡º

<span class="hljs-strong">**Example 3: Verification with context**</span>

ç”¨æˆ·è¾“å…¥ï¼š
<span class="hljs-code">```
User: "Claude è¯´ç­”æ¡ˆæ˜¯ 42ï¼Œè®©geminiéªŒè¯ä¸€ä¸‹"
```</span>

æ‰§è¡Œæµç¨‹ï¼š
<span class="hljs-bullet">1.</span> Claude å·²ç»ç»™å‡ºäº†ç­”æ¡ˆå’Œæ¨ç†è¿‡ç¨‹
<span class="hljs-bullet">2.</span> å¯åŠ¨ Subagentï¼Œä¼ å…¥å®Œæ•´çš„ä¸Šä¸‹æ–‡
<span class="hljs-bullet">3.</span> Subagent æ‰§è¡Œï¼š<span class="hljs-code">`gemini "ç­”æ¡ˆæ˜¯ 42 å¯¹å—ï¼Ÿ[åŒ…å«ç›¸å…³ä¸Šä¸‹æ–‡]"`</span>
<span class="hljs-bullet">4.</span> Subagent è¿”å›å¯¹æ¯”åˆ†æ
<span class="hljs-bullet">5.</span> ç›´æ¥å±•ç¤º Subagent çš„è¾“å‡º
</code></pre>
<p>agentæè¿°å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">---
name: gemini-comparison
<span class="hljs-section">description: Gemini å¯¹æ¯”åŠ©æ‰‹ - æ‰§è¡Œ Gemini CLI å¹¶ä¸ Claude çš„å“åº”è¿›è¡Œå¯¹æ¯”åˆ†æ
---</span>

<span class="hljs-section"># Gemini Comparison Agent</span>

ä½ æ˜¯ä¸€ä¸ªä¸“é—¨è´Ÿè´£æ‰§è¡Œ Gemini CLI å¹¶ä¸ Claude çš„å“åº”è¿›è¡Œå¯¹æ¯”åˆ†æçš„ç‹¬ç«‹ Agentã€‚

<span class="hljs-section">## ä»»åŠ¡ç›®æ ‡</span>

<span class="hljs-bullet">1.</span> æ‰§è¡Œ <span class="hljs-code">`gemini`</span> CLI å‘½ä»¤è·å– Gemini çš„å“åº”
<span class="hljs-bullet">2.</span> å¯¹æ¯” Claude å’Œ Gemini çš„å›ç­”
<span class="hljs-bullet">3.</span> è¿”å›æ ¼å¼åŒ–çš„å¯¹æ¯”åˆ†æ

<span class="hljs-section">## å·¥ä½œæµç¨‹</span>

<span class="hljs-section">### Step 1: æ¥æ”¶è¾“å…¥</span>

ä½ å°†æ”¶åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š
<span class="hljs-bullet">-</span> <span class="hljs-strong">**Claude çš„å“åº”**</span> ï¼šClaude å¯¹ç”¨æˆ·é—®é¢˜çš„å®Œæ•´å›ç­”
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ç”¨æˆ·æŸ¥è¯¢**</span> ï¼šåŸå§‹çš„ç”¨æˆ·é—®é¢˜æˆ–è¯·æ±‚
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å›¾ç‰‡è·¯å¾„**</span> ï¼ˆå¯é€‰ï¼‰ï¼šå¦‚æœæ˜¯å›¾ç‰‡åˆ†æä»»åŠ¡

<span class="hljs-section">### Step 2: æ‰§è¡Œ Gemini CLI</span>

<span class="hljs-strong">**æ–‡æœ¬æŸ¥è¯¢ï¼š**</span>
<span class="hljs-code">```bash
gemini "{USER_QUERY}"
```</span>

<span class="hljs-strong">**å›¾ç‰‡åˆ†æï¼š**</span>
<span class="hljs-code">```bash
gemini "{USER_QUERY}" &lt; {IMAGE_PATH}
```</span>

ä½¿ç”¨ Bash å·¥å…·æ‰§è¡Œå‘½ä»¤ï¼Œç¡®ä¿ï¼š
<span class="hljs-bullet">-</span> æ–‡æœ¬æŸ¥è¯¢ä½¿ç”¨å¼•å·åŒ…è£¹
<span class="hljs-bullet">-</span> å›¾ç‰‡æŸ¥è¯¢ä½¿ç”¨ stdin é‡å®šå‘
<span class="hljs-bullet">-</span> æ•è·å®Œæ•´çš„å“åº”è¾“å‡º

<span class="hljs-section">### Step 3: å¯¹æ¯”åˆ†æ</span>

ä»ä»¥ä¸‹ç»´åº¦å¯¹æ¯” Claude å’Œ Gemini çš„å“åº”ï¼š

<span class="hljs-bullet">1.</span> <span class="hljs-strong">**å‡†ç¡®æ€§**</span> ï¼šå“ªä¸ªå›ç­”æ›´ç¬¦åˆäº‹å®ï¼Ÿ
<span class="hljs-bullet">2.</span> <span class="hljs-strong">**å®Œæ•´æ€§**</span> ï¼šæ˜¯å¦æœ‰é—æ¼çš„é‡è¦ç»†èŠ‚ï¼Ÿ
<span class="hljs-bullet">3.</span> <span class="hljs-strong">**æ¸…æ™°åº¦**</span> ï¼šå“ªä¸ªè§£é‡Šæ›´å®¹æ˜“ç†è§£ï¼Ÿ
<span class="hljs-bullet">4.</span> <span class="hljs-strong">**æ–¹æ³•å·®å¼‚**</span> ï¼šä¸åŒçš„æ¨ç†è·¯å¾„æˆ–è§†è§’
<span class="hljs-bullet">5.</span> <span class="hljs-strong">**è¯­æ°”å·®å¼‚**</span> ï¼šæ­£å¼ vs éšæ„ï¼Œç®€æ´ vs è¯¦ç»†
<span class="hljs-bullet">6.</span> <span class="hljs-strong">**ç‹¬ç‰¹è§è§£**</span> ï¼šå„è‡ªç‹¬æœ‰çš„è§‚ç‚¹æˆ–ä¿¡æ¯

<span class="hljs-section">### Step 4: è¿”å›ç»“æœ</span>

æŒ‰ä»¥ä¸‹æ ¼å¼è¿”å›å¯¹æ¯”åˆ†æï¼š

<span class="hljs-code">```markdown
## Gemini çš„å›ç­”

[Gemini çš„å®Œæ•´å“åº”æ–‡æœ¬]

## å¯¹æ¯”åˆ†æ

### ä¸»è¦å·®å¼‚
- [å…·ä½“çš„å·®å¼‚ç‚¹ 1]
- [å…·ä½“çš„å·®å¼‚ç‚¹ 2]
- [å¦‚æœæœ‰æ›´å¤šå·®å¼‚ï¼Œç»§ç»­åˆ—å‡º]

### å„è‡ªä¼˜åŠ¿
- **Claude** : [Claude åšå¾—å¥½çš„æ–¹é¢]
- **Gemini** : [Gemini åšå¾—å¥½çš„æ–¹é¢]

### å»ºè®®
[ç»¼åˆå»ºè®®ï¼šä½•æ—¶ä½¿ç”¨å“ªä¸ªç­”æ¡ˆï¼Œæˆ–æ˜¯å¦åº”è¯¥ç»“åˆä¸¤è€…çš„è§‚ç‚¹]
```</span>

<span class="hljs-section">## é”™è¯¯å¤„ç†</span>

å¦‚æœé‡åˆ°é”™è¯¯ï¼ŒæŒ‰ä»¥ä¸‹æ–¹å¼å¤„ç†ï¼š

<span class="hljs-bullet">1.</span> <span class="hljs-strong">**gemini CLI ä¸å¯ç”¨**</span> ï¼š
<span class="hljs-bullet">   -</span> æ£€æŸ¥å‘½ä»¤æ˜¯å¦å­˜åœ¨ï¼š<span class="hljs-code">`which gemini`</span>
<span class="hljs-bullet">   -</span> æŠ¥å‘Šé”™è¯¯ï¼š<span class="hljs-code">`gemini CLI æœªå®‰è£…æˆ–ä¸åœ¨ PATH ä¸­`</span>
<span class="hljs-bullet">   -</span> å»ºè®®ç”¨æˆ·å®‰è£… gemini CLI

<span class="hljs-bullet">2.</span> <span class="hljs-strong">**å›¾ç‰‡æ–‡ä»¶ä¸å­˜åœ¨**</span> ï¼š
<span class="hljs-bullet">   -</span> éªŒè¯æ–‡ä»¶è·¯å¾„ï¼š<span class="hljs-code">`ls -l {IMAGE_PATH}`</span>
<span class="hljs-bullet">   -</span> æŠ¥å‘Šé”™è¯¯ï¼š<span class="hljs-code">`å›¾ç‰‡æ–‡ä»¶ä¸å­˜åœ¨ï¼š{IMAGE_PATH}`</span>
<span class="hljs-bullet">   -</span> å»ºè®®ç”¨æˆ·æä¾›æ­£ç¡®çš„å›¾ç‰‡è·¯å¾„

<span class="hljs-bullet">3.</span> <span class="hljs-strong">**å‘½ä»¤æ‰§è¡Œå¤±è´¥**</span> ï¼š
<span class="hljs-bullet">   -</span> æ•è·é”™è¯¯ä¿¡æ¯
<span class="hljs-bullet">   -</span> æŠ¥å‘Šå…·ä½“é”™è¯¯
<span class="hljs-bullet">   -</span> å»ºè®®é™çº§æ–¹æ¡ˆï¼ˆä½¿ç”¨ Claude çš„å›ç­”ï¼‰

<span class="hljs-section">## é‡è¦åŸåˆ™</span>

<span class="hljs-bullet">1.</span> <span class="hljs-strong">**å®¢è§‚å…¬æ­£**</span> ï¼šä¸è¦åå‘ä»»ä½•ä¸€æ–¹ï¼ŒçœŸå®è¯„ä¼°å“ªä¸ªæ›´å¥½
<span class="hljs-bullet">2.</span> <span class="hljs-strong">**è¯¦ç»†å…·ä½“**</span> ï¼šæä¾›å…·ä½“çš„å·®å¼‚ç‚¹ï¼Œè€Œéç¬¼ç»Ÿçš„è¯„ä»·
<span class="hljs-bullet">3.</span> <span class="hljs-strong">**å»ºè®¾æ€§å»ºè®®**</span> ï¼šç»™å‡ºå®ç”¨çš„å»ºè®®ï¼Œå¸®åŠ©ç”¨æˆ·ç†è§£ä½•æ—¶ä½¿ç”¨å“ªä¸ªç­”æ¡ˆ
<span class="hljs-bullet">4.</span> <span class="hljs-strong">**ä¿æŒç®€æ´**</span> ï¼šä¸“æ³¨äºæœ‰æ„ä¹‰çš„å·®å¼‚ï¼Œé¿å…çç¢çš„é£æ ¼æ¯”è¾ƒ
</code></pre>
<p>ç°åœ¨æˆ‘ä»¬å†æ¥é‡æ–°æ‰§è¡Œä¸Šé¢çš„ä»£ç çº é”™ä»»åŠ¡ã€‚Claudeæ‰§è¡Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-scss" lang="scss">åˆ†æBrokenCalculatorä»£ç çš„é”™è¯¯ 

âº æˆ‘éœ€è¦å…ˆæ‰¾åˆ°å¹¶è¯»å– BrokenCalculator ç›¸å…³çš„ä»£ç æ–‡ä»¶ã€‚è®©æˆ‘æœç´¢ä¸€ä¸‹ã€‚

âº <span class="hljs-built_in">Search</span>(pattern: "**/*roken*alculat*")
  â¿  Found <span class="hljs-number">1</span> file (ctrl+o to expand)
  â¿  Running PostToolUse hooksâ€¦ (<span class="hljs-number">1</span>/<span class="hljs-number">2</span> done)

âº <span class="hljs-built_in">Search</span>(pattern: "**/*BrokenCalculator*")
  â¿  Found <span class="hljs-number">1</span> file (ctrl+o to expand)
  â¿  Running PostToolUse hooksâ€¦ (<span class="hljs-number">1</span>/<span class="hljs-number">2</span> done)

âº <span class="hljs-built_in">Read</span>(BrokenCalculator)
  â¿  Read <span class="hljs-number">3</span> lines
  â¿  Running PostToolUse hooksâ€¦ (<span class="hljs-number">1</span>/<span class="hljs-number">2</span> done)

âº BrokenCalculator ä»£ç é”™è¯¯åˆ†æ

  æˆ‘å‘ç°äº†ä»¥ä¸‹ <span class="hljs-number">3</span> ä¸ªå…³é”®å­—æ‹¼å†™é”™è¯¯ï¼š

  é”™è¯¯ <span class="hljs-number">1</span> : ç¬¬ <span class="hljs-number">1</span> è¡Œ

  pakage com.mistake.demo
  é”™è¯¯: pakage åº”ä¸º package

  é”™è¯¯ <span class="hljs-number">2</span> : ç¬¬ <span class="hljs-number">2</span> è¡Œ

  inport kotlin.random.Random
  é”™è¯¯: inport åº”ä¸º import

  é”™è¯¯ <span class="hljs-number">3</span> : ç¬¬ <span class="hljs-number">3</span> è¡Œ

  clas BrokenCalculator {
  é”™è¯¯: clas åº”ä¸º class

  ---
  ä¿®æ­£åçš„ä»£ç :

  package com.mistake.demo
  import kotlin.random.Random
  class BrokenCalculator {

  è¿™äº›é”™è¯¯éƒ½ä¼šå¯¼è‡´ Kotlin ç¼–è¯‘å™¨æ— æ³•è¯†åˆ«å…³é”®å­—ï¼Œä»è€Œä½¿ç¼–è¯‘å¤±è´¥ã€‚
</code></pre>
<p>ç„¶åå†é—®â€œGeminiæ€ä¹ˆçœ‹â€ï¼Œå¯ä»¥çœ‹åˆ°æŒ‰ç…§é¢„æœŸè¾“å‡ºäº†å®Œæ•´çš„ç»“æœã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown">geminiæ€ä¹ˆçœ‹ 

âº /gemini

âº æˆ‘æ¥å¯åŠ¨ Gemini è¿›è¡Œå¯¹æ¯”åˆ†æã€‚é¦–å…ˆè¯»å– agent é…ç½®æ–‡ä»¶ï¼Œç„¶åæ‰§è¡Œå¯¹æ¯”ä»»åŠ¡ã€‚

âº Read(~/.claude/agents/gemini-comparison-agent.md)
  â¿  Read 102 lines
  â¿  Running PostToolUse hooksâ€¦ (1/2 done)

âº gemini-comparison(Compare Gemini and Claude responses)
  â¿  Done (1 tool use Â· 28.4k tokens Â· 59s)                                                                                           
  â¿  Running PostToolUse hooksâ€¦ (1/2 done)

âº Gemini çš„å›ç­”

  I will read the content of <span class="hljs-code">`BrokenCalculator`</span> to identify syntax and logical errors.
  The file <span class="hljs-code">`/Users/linqinghuang/test/test_cl/BrokenCalculator`</span> contains several syntax errors:

<span class="hljs-bullet">  1.</span> <span class="hljs-strong">**Line 1:**</span> <span class="hljs-code">`pakage`</span> should be <span class="hljs-code">`package`</span>.
<span class="hljs-bullet">  2.</span> <span class="hljs-strong">**Line 2:**</span> <span class="hljs-code">`inport`</span> should be <span class="hljs-code">`import`</span>.
<span class="hljs-bullet">  3.</span> <span class="hljs-strong">**Line 3:**</span> <span class="hljs-code">`clas`</span> should be <span class="hljs-code">`class`</span>.
<span class="hljs-bullet">  4.</span> <span class="hljs-strong">**Line 3:**</span> The class block is opened (<span class="hljs-code">`{`</span>) but missing a closing brace (<span class="hljs-code">`}`</span>).

  Do you want me to fix these typos and close the class body?

  å¯¹æ¯”åˆ†æ

  ä¸»è¦å·®å¼‚

<span class="hljs-bullet">  -</span> å®Œæ•´æ€§å·®å¼‚ï¼ˆå…³é”®ï¼‰ ï¼šGemini å‘ç°äº†ç¬¬ 4 ä¸ªé”™è¯¯ï¼ˆç¼ºå°‘é—­åˆå¤§æ‹¬å· }ï¼‰ï¼Œè€Œ Claude åªè¯†åˆ«äº†å‰ 3 ä¸ªæ‹¼å†™é”™è¯¯ï¼Œé—æ¼äº†è¯­æ³•ç»“æ„é”™è¯¯
<span class="hljs-bullet">  -</span> è¯­è¨€å·®å¼‚ï¼šClaude ä½¿ç”¨ä¸­æ–‡å›ç­”ï¼ŒGemini ä½¿ç”¨è‹±æ–‡å›ç­”
<span class="hljs-bullet">  -</span> å“åº”é£æ ¼ï¼šGemini åœ¨ç»“å°¾ä¸»åŠ¨æå‡ºæ˜¯å¦éœ€è¦ä¿®å¤é”™è¯¯ï¼ˆäº¤äº’å¼ï¼‰ï¼ŒClaude åˆ™ç›´æ¥æä¾›äº†ä¿®æ­£åçš„å®Œæ•´ä»£ç 

  å„è‡ªä¼˜åŠ¿

<span class="hljs-bullet">  -</span> Claude:
<span class="hljs-bullet">    -</span> ç»“æ„æ›´æ¸…æ™°ï¼Œä½¿ç”¨ Markdown æ ¼å¼åŒ–
<span class="hljs-bullet">    -</span> ç›´æ¥æä¾›äº†å®Œæ•´çš„ä¿®æ­£ä»£ç 
<span class="hljs-bullet">    -</span> ä¸­æ–‡å›ç­”æ›´ç¬¦åˆä¸­æ–‡ç”¨æˆ·éœ€æ±‚
<span class="hljs-bullet">  -</span> Gemini:
<span class="hljs-bullet">    -</span> æ›´å‡†ç¡®åœ°å‘ç°äº†æ‰€æœ‰è¯­æ³•é”™è¯¯ï¼ŒåŒ…æ‹¬ç¼ºå°‘é—­åˆå¤§æ‹¬å·
<span class="hljs-bullet">    -</span> ä¸»åŠ¨è¯¢é—®æ˜¯å¦éœ€è¦ä¿®å¤

  å»ºè®®

  æ¨èä½¿ç”¨ Gemini çš„ç­”æ¡ˆï¼Œå› ä¸ºå®ƒå‘ç°äº† 4 ä¸ªé”™è¯¯è€Œä¸æ˜¯ 3 ä¸ªã€‚æˆ‘é—æ¼äº†ä¸€ä¸ªé‡è¦çš„è¯­æ³•ç»“æ„é”™è¯¯ï¼ˆç¼ºå°‘é—­åˆå¤§æ‹¬å·ï¼‰ã€‚

  ç»“è®ºï¼šæœ¬æ¬¡å¯¹æ¯”ä¸­ï¼ŒGemini åœ¨é”™è¯¯è¯†åˆ«çš„å®Œæ•´æ€§ä¸Šæ›´èƒœä¸€ç­¹ï¼Œè€Œæˆ‘åœ¨å›ç­”çš„ç»“æ„åŒ–å’Œç”¨æˆ·ä½“éªŒä¸Šè¡¨ç°æ›´å¥½ã€‚
</code></pre>
<p>å¦‚æ­¤ä¸€æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥åšåˆ°ï¼Œåœ¨Cluade CLIä¸­é—®é—®Geminiçš„æ„è§ï¼Œå°†Geminiç»“æœä¸Claudeå¯¹æ¯”ï¼Œè€Œä¸éœ€è¦é¢‘ç¹çš„åˆ‡æ¢å·¥å…·å’Œé‡å¤è¾“å…¥ä¸Šä¸‹æ–‡ã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚  ç”¨æˆ·   â”‚
 â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
<span class="hljs-code">      â”‚ 1. è¾“å…¥è¯·æ±‚
      â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ Claude  â”‚
 â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â”‚ 2. è¯†åˆ«éœ€è¦ Skill
      â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚  Skill  â”‚ â† å®šä¹‰ä»»åŠ¡æ¨¡æ¿å’Œå·¥ä½œæµç¨‹
 â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â”‚ 3. åˆ›å»º Subagent
      â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚  Agent  â”‚ â† ç‹¬ç«‹ä¼šè¯
 â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â”‚ 4. æ‰§è¡Œå·¥å…· (Bash, Read, ç­‰)
      â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ å¤–éƒ¨å·¥å…·     â”‚ â† gemini CLI, Web API, ç­‰
 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
        â”‚ 5. åŸå§‹è¾“å‡º
        â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚  Agent  â”‚ â† å¤„ç†å’Œåˆ†æ
 â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â”‚ 6. è¿”å›æ‘˜è¦
      â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ Claude  â”‚ â† æ¥æ”¶ç»“æœ
 â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â”‚ 7. å±•ç¤ºç»™ç”¨æˆ·
      â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚  ç”¨æˆ·   â”‚ â† åªçœ‹åˆ°æœ€ç»ˆç»“æœ
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯æ€§èƒ½ä¼˜åŒ–åˆ©å™¨ï¼šLitePage è½»é‡çº§å…¨é¡µè®¾è®¡è§£æ]]></title>    <link>https://juejin.cn/post/7591422577937776646</link>    <guid>https://juejin.cn/post/7591422577937776646</guid>    <pubDate>2026-01-04T12:27:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591422577937776646" data-draft-id="7591350620188540934" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯æ€§èƒ½ä¼˜åŒ–åˆ©å™¨ï¼šLitePage è½»é‡çº§å…¨é¡µè®¾è®¡è§£æ"/> <meta itemprop="keywords" content="å‰ç«¯,æ€§èƒ½ä¼˜åŒ–,å‰ç«¯å·¥ç¨‹åŒ–"/> <meta itemprop="datePublished" content="2026-01-04T12:27:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="eason_fan"/> <meta itemprop="url" content="https://juejin.cn/user/2995517308808877"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯æ€§èƒ½ä¼˜åŒ–åˆ©å™¨ï¼šLitePage è½»é‡çº§å…¨é¡µè®¾è®¡è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2995517308808877/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    eason_fan
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T12:27:36.000Z" title="Sun Jan 04 2026 12:27:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰ç«¯æ€§èƒ½ä¼˜åŒ–åˆ©å™¨ï¼šLitePage è½»é‡çº§å…¨é¡µè®¾è®¡è§£æ</h2>
<p>åœ¨å‰ç«¯å¼€å‘é¢†åŸŸï¼Œâ€œæ€§èƒ½â€æ°¸è¿œæ˜¯ç»•ä¸å¼€çš„æ ¸å¿ƒå‘½é¢˜ã€‚éšç€å•é¡µåº”ç”¨ï¼ˆSPAï¼‰çš„æ™®åŠï¼Œæ¡†æ¶å°è£…å¸¦æ¥çš„å¼€å‘æ•ˆç‡æå‡æœ‰ç›®å…±ç¹ï¼Œä½†éšä¹‹è€Œæ¥çš„â€œå®¹å™¨åˆå§‹åŒ–ç“¶é¢ˆâ€ä¹Ÿé€æ¸æˆä¸ºå¾ˆå¤šåº”ç”¨çš„æ€§èƒ½ç—›ç‚¹â€”â€”ç”¨æˆ·æ‰“å¼€é¡µé¢åï¼Œé•¿æ—¶é—´é¢å¯¹ç™½å±ç­‰å¾…ï¼Œä»…ä»…æ˜¯ä¸ºäº†åŠ è½½åºå¤§çš„æ¡†æ¶æ ¸å¿ƒä»£ç ã€è·¯ç”±ç³»ç»Ÿã€çŠ¶æ€ç®¡ç†åº“ç­‰â€œåŸºç¡€è®¾æ–½â€ã€‚</p>
<p>è¿™æ—¶ï¼Œâ€œLitePageï¼ˆè½»é‡çº§å…¨é¡µï¼‰â€è®¾è®¡ç†å¿µåº”è¿è€Œç”Ÿã€‚å®ƒä¸æ˜¯æŸç§ç‰¹å®šçš„æŠ€æœ¯æ¡†æ¶ï¼Œè€Œæ˜¯ä¸€ç§ä»¥â€œå¿«é€Ÿé¦–å±ã€æç®€å¼€é”€â€ä¸ºæ ¸å¿ƒçš„å‰ç«¯ä¼˜åŒ–ç­–ç•¥ï¼Œç²¾å‡†è§£å†³â€œå®¹å™¨åˆå§‹åŒ–ç“¶é¢ˆâ€é—®é¢˜ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥æ·±å…¥èŠèŠ LitePage çš„æ ¸å¿ƒé€»è¾‘ã€å®ç°æ–¹å¼ä¸åº”ç”¨ä»·å€¼ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€å…ˆææ‡‚ï¼šä»€ä¹ˆæ˜¯ LitePageï¼Ÿ</h3>
<p>LitePageï¼Œç›´è¯‘â€œè½»é‡çº§å…¨é¡µâ€ï¼Œæ ¸å¿ƒå®šä¹‰æ˜¯ï¼š<strong>å½“åº”ç”¨çš„åˆå§‹åŠ è½½ï¼ˆå°¤å…¶æ˜¯æ¡†æ¶å®¹å™¨åˆå§‹åŒ–ï¼‰æˆä¸ºæ€§èƒ½ç“¶é¢ˆæ—¶ï¼Œæ”¾å¼ƒä¸€æ¬¡æ€§åŠ è½½å®Œæ•´çš„å¤æ‚åº”ç”¨ï¼Œè½¬è€Œæä¾›ä¸€ä¸ªæåº¦ç²¾ç®€ã€å¿«é€Ÿæ¸²æŸ“çš„è½»é‡çº§é¡µé¢ä½œä¸ºç”¨æˆ·é¦–æ¬¡ä½“éªŒå…¥å£ï¼Œå†æ ¹æ®éœ€æ±‚é€æ­¥åŠ è½½å®Œæ•´åŠŸèƒ½</strong>ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªé€šä¿—çš„æ¯”å–»ç†è§£ï¼šä¼ ç»Ÿ SPA å°±åƒâ€œå…ˆå»ºå¥½å®Œæ•´çš„æˆ¿å­å†è®©ç”¨æˆ·å…¥ä½â€ï¼Œå“ªæ€•ç”¨æˆ·åªæ˜¯æƒ³å–æ¯æ°´ï¼Œä¹Ÿå¾—ç­‰æ•´ä¸ªæˆ¿å­çš„é’¢ç­‹æ°´æ³¥ã€æ°´ç”µç®¡çº¿å…¨éƒ¨å®Œå·¥ï¼›è€Œ LitePage åˆ™æ˜¯â€œå…ˆæ­ä¸ªä¸´æ—¶é®é˜³æ£šï¼Œæ‘†ä¸Šæ¡Œæ¤…è®©ç”¨æˆ·æ­‡è„šï¼Œå†æ…¢æ…¢å®Œå–„æˆ¿å­çš„å…¶ä»–éƒ¨åˆ†â€ï¼Œä¼˜å…ˆæ»¡è¶³ç”¨æˆ·çš„æ ¸å¿ƒå³æ—¶éœ€æ±‚ã€‚</p>
<p>è¿™é‡Œçš„â€œè½»â€ï¼Œä¸»è¦ä½“ç°åœ¨ä¸‰ä¸ªç»´åº¦ï¼š</p>
<ul>
<li>èµ„æºè½»ï¼šæ”¾å¼ƒåºå¤§çš„å‰ç«¯æ¡†æ¶ä¾èµ–ï¼Œä¼˜å…ˆä½¿ç”¨åŸç”Ÿ HTML/CSS/JSï¼Œå‡å°‘ä¸å¿…è¦çš„ç¬¬ä¸‰æ–¹åº“åŠ è½½ï¼›</li>
<li>ç»“æ„è½»ï¼šDOM å±‚çº§æç®€ï¼Œåªä¿ç•™é¦–å±å¿…éœ€çš„å†…å®¹ï¼Œé¿å…å†—ä½™èŠ‚ç‚¹ï¼›</li>
<li>é€»è¾‘è½»ï¼šåªå®ç°æ ¸å¿ƒäº¤äº’ï¼ˆå¦‚ç™»å½•ã€è·³è½¬ã€åŸºç¡€å±•ç¤ºï¼‰ï¼Œå¤æ‚ä¸šåŠ¡é€»è¾‘å»¶è¿Ÿåˆ°åç»­åŠ è½½ã€‚</li>
</ul>
<h3 data-id="heading-2">äºŒã€ä¸ºä»€ä¹ˆéœ€è¦ LitePageï¼Ÿâ€”â€” è§£å†³â€œå®¹å™¨åˆå§‹åŒ–ç“¶é¢ˆâ€ç—›ç‚¹</h3>
<p>è¦ç†è§£ LitePage çš„ä»·å€¼ï¼Œé¦–å…ˆè¦ææ¸…æ¥šâ€œå®¹å™¨åˆå§‹åŒ–ç“¶é¢ˆâ€åˆ°åº•æ˜¯ä»€ä¹ˆã€‚åœ¨ç°ä»£å‰ç«¯æ¡†æ¶ï¼ˆReact/Vue/Angularï¼‰ä¸­ï¼Œâ€œå®¹å™¨â€æŒ‡çš„æ˜¯æ¡†æ¶æ ¸å¿ƒä»£ç ã€è·¯ç”±ç³»ç»Ÿã€çŠ¶æ€ç®¡ç†åº“ï¼ˆRedux/Vuexï¼‰ã€åŸºç¡€ç»„ä»¶åº“ç­‰æ„æˆåº”ç”¨â€œéª¨æ¶â€çš„éƒ¨åˆ†ã€‚</p>
<p>ä¼ ç»Ÿ SPA çš„æ ¸å¿ƒé—®é¢˜çš„æ˜¯ï¼š<strong>å³ä½¿é¦–å±å†…å®¹æå…¶ç®€å•ï¼ˆæ¯”å¦‚ä¸€ä¸ªç™»å½•è¡¨å•ã€ä¸€ä¸ªæ¬¢è¿é¡µï¼‰ï¼Œç”¨æˆ·ä¹Ÿå¿…é¡»å…ˆä¸‹è½½å¹¶æ‰§è¡Œå®Œæ•´çš„â€œå®¹å™¨â€ä»£ç ï¼Œæ‰èƒ½çœ‹åˆ°ä»»ä½•å†…å®¹</strong>ã€‚è¿™ä¸ªè¿‡ç¨‹ä¼šå¸¦æ¥ä¸¤ä¸ªè‡´å‘½é—®é¢˜ï¼š</p>
<ol>
<li>é¦–å±åŠ è½½æ…¢ï¼šåºå¤§çš„å®¹å™¨ä»£ç ä¼šå¯¼è‡´ä¸‹è½½æ—¶é—´é•¿ã€è§£ææ‰§è¡Œè€—æ—¶ä¹…ï¼Œç”¨æˆ·é¢ä¸´é•¿æ—¶é—´ç™½å±ï¼Œæ„ŸçŸ¥ä½“éªŒæå·®ï¼›</li>
<li>èµ„æºæµªè´¹ï¼šå¾ˆå¤šç”¨æˆ·å¯èƒ½åªè®¿é—®é¦–å±ï¼ˆæ¯”å¦‚è¥é”€é¡µã€ç™»å½•é¡µï¼‰å°±ç¦»å¼€ï¼Œå´è¢«è¿«ä¸‹è½½äº†æ•´ä¸ªåº”ç”¨çš„æ¡†æ¶èµ„æºï¼Œé€ æˆå¸¦å®½å’Œæ€§èƒ½æµªè´¹ã€‚</li>
</ol>
<p>è€Œ LitePage æ°å¥½ç²¾å‡†è§£å†³äº†è¿™ä¸ªé—®é¢˜â€”â€”é€šè¿‡â€œå»æ¡†æ¶åŒ–â€â€œæç®€å†…å®¹â€çš„è®¾è®¡ï¼Œè®©é¦–å±èµ„æºä½“ç§¯éª¤å‡ï¼Œå®ç°â€œç§’å¼€â€æ•ˆæœï¼ŒåŒæ—¶é¿å…ä¸å¿…è¦çš„èµ„æºæµªè´¹ã€‚</p>
<h3 data-id="heading-3">ä¸‰ã€LitePage çš„ä¸‰ç§ä¸»æµå®ç°æ–¹å¼</h3>
<p>LitePage æ˜¯ä¸€ç§ç­–ç•¥è€Œéå›ºå®šæŠ€æœ¯ï¼Œå®é™…è½åœ°æ—¶æœ‰å¤šç§çµæ´»æ–¹æ¡ˆï¼Œå¯æ ¹æ®åº”ç”¨åœºæ™¯é€‰æ‹©ï¼š</p>
<h4 data-id="heading-4">1. çº¯é™æ€/æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰å…¥å£é¡µï¼šæœ€çº¯ç²¹çš„â€œè½»â€</h4>
<p>è¿™æ˜¯æœ€åŸºç¡€ä¹Ÿæœ€æœ‰æ•ˆçš„å®ç°æ–¹å¼ï¼Œæ ¸å¿ƒæ€è·¯æ˜¯ï¼šé¦–å±é¡µé¢å®Œå…¨ä¸ä¾èµ–å‰ç«¯æ¡†æ¶ï¼Œç”¨çº¯é™æ€ HTML + å°‘é‡åŸç”Ÿ CSS/JS å®ç°ï¼Œå¯é€šè¿‡ Nginx ç›´æ¥æä¾›é™æ€æ–‡ä»¶ï¼Œæˆ–é€šè¿‡åç«¯ SSR æ¸²æŸ“åè¿”å›ã€‚</p>
<p>å…¸å‹åœºæ™¯ï¼šåº”ç”¨ç™»å½•é¡µã€è¥é”€è½åœ°é¡µã€å®˜ç½‘é¦–é¡µã€‚è¿™äº›é¡µé¢çš„æ ¸å¿ƒéœ€æ±‚æ˜¯â€œå¿«é€Ÿå±•ç¤º + ç®€å•äº¤äº’â€ï¼Œå®Œå…¨ä¸éœ€è¦å¤æ‚æ¡†æ¶æ”¯æŒã€‚</p>
<p>ä¼˜åŠ¿ï¼š</p>
<ul>
<li>åŠ è½½é€Ÿåº¦æå¿«ï¼šèµ„æºä½“ç§¯é€šå¸¸åªæœ‰å‡ å KBï¼Œæµè§ˆå™¨å¯ç¬é—´è§£ææ¸²æŸ“ï¼Œé¦–å±æ—¶é—´ï¼ˆFCPï¼‰å¤§å¹…ç¼©çŸ­ï¼›</li>
<li>SEO å‹å¥½ï¼šçº¯é™æ€ HTML å†…å®¹å¯è¢«æœç´¢å¼•æ“ç›´æ¥æŠ“å–ï¼Œè§£å†³äº† SPA é¦–å± SEO åŠ£åŠ¿ï¼›</li>
<li>å®ç°ç®€å•ï¼šæ— éœ€å¤æ‚çš„æ„å»ºé…ç½®ï¼Œå‰ç«¯å¼€å‘è€…å¯å¿«é€Ÿç¼–å†™ï¼Œåç«¯éƒ¨ç½²æˆæœ¬ä½ã€‚</li>
</ul>
<p>ä¸è¶³ï¼šåŠŸèƒ½æœ‰é™ï¼Œæ— æ³•å®ç°å¤æ‚å®¢æˆ·ç«¯äº¤äº’ï¼›å½“ç”¨æˆ·éœ€è¦è¿›å…¥æ ¸å¿ƒåŠŸèƒ½åŒºæ—¶ï¼ˆå¦‚ç™»å½•åè·³è½¬ä»ªè¡¨ç›˜ï¼‰ï¼Œéœ€è·³è½¬åˆ°å®Œæ•´ SPA é¡µé¢ï¼Œä¼šæœ‰ä¸€æ¬¡é¡µé¢åˆ·æ–°ã€‚</p>
<p>æ¡ˆä¾‹ï¼šå¾ˆå¤šå¤§å‹äº’è”ç½‘äº§å“çš„ç™»å½•é¡µï¼ˆå¦‚é˜¿é‡Œäº‘ç™»å½•é¡µã€å¾®ä¿¡å…¬ä¼—å¹³å°ç™»å½•é¡µï¼‰ï¼Œéƒ½æ˜¯çº¯é™æ€ LitePage è®¾è®¡ï¼ŒåŠ è½½é€Ÿåº¦æå¿«ï¼Œä»…ä¿ç•™ç™»å½•è¡¨å•å’ŒåŸºç¡€äº¤äº’ã€‚</p>
<h4 data-id="heading-5">2. éª¨æ¶å± + å»¶è¿ŸåŠ è½½ï¼šå¹³æ»‘è¿‡æ¸¡çš„â€œè½»â€</h4>
<p>å¦‚æœä¸æƒ³è®©ç”¨æˆ·æ„Ÿå—åˆ°â€œé¡µé¢è·³è½¬â€çš„å‰²è£‚æ„Ÿï¼Œå¯é‡‡ç”¨â€œéª¨æ¶å± + å»¶è¿ŸåŠ è½½â€çš„æ–¹æ¡ˆï¼Œæ ¸å¿ƒæ€è·¯æ˜¯ï¼š</p>
<ol>
<li>åˆå§‹ HTML åªåŒ…å«â€œéª¨æ¶å±â€ï¼ˆé¡µé¢å¸ƒå±€çš„ç°è‰²å ä½å›¾ï¼Œå¦‚æ ‡é¢˜ã€å¡ç‰‡ã€æŒ‰é’®çš„è½®å»“ï¼‰ï¼Œè®©ç”¨æˆ·ç«‹å³è·å¾—è§†è§‰åé¦ˆï¼Œé¿å…ç™½å±ï¼›</li>
<li>é¡µé¢åŠ è½½å®Œæˆåï¼Œé€šè¿‡åŸç”Ÿ JS å¼‚æ­¥ã€å»¶è¿ŸåŠ è½½æ¡†æ¶å®¹å™¨ã€æ ¸å¿ƒç»„ä»¶ç­‰èµ„æºï¼›</li>
<li>å®¹å™¨åˆå§‹åŒ–å®Œæˆåï¼Œç”¨å®Œæ•´çš„åŠ¨æ€å†…å®¹æ›¿æ¢éª¨æ¶å±ï¼Œå®ç°ä»â€œè½»é¡µâ€åˆ°â€œå…¨åŠŸèƒ½é¡µâ€çš„æ— ç¼è¿‡æ¸¡ã€‚</li>
</ol>
<p>ä¼˜åŠ¿ï¼šæ„ŸçŸ¥æ€§èƒ½æä½³ï¼Œç”¨æˆ·å‡ ä¹çœ‹ä¸åˆ°ç™½å±ï¼›è¿‡æ¸¡å¹³æ»‘ï¼Œæ— é¡µé¢åˆ·æ–°çš„å‰²è£‚æ„Ÿï¼›å…¼é¡¾äº†é¦–å±é€Ÿåº¦å’Œåç»­äº¤äº’ä½“éªŒã€‚</p>
<p>ä¸è¶³ï¼šæŠ€æœ¯å¤æ‚åº¦é«˜äºçº¯é™æ€æ–¹æ¡ˆï¼Œéœ€è¦ç²¾ç»†æ§åˆ¶èµ„æºåŠ è½½é¡ºåºã€éª¨æ¶å±æ›¿æ¢æ—¶æœºï¼Œé¿å…å‡ºç°å¸ƒå±€æŠ–åŠ¨ã€‚</p>
<p>æ¡ˆä¾‹ï¼šæŠ–éŸ³é¦–é¡µã€çŸ¥ä¹é¦–é¡µï¼Œæ‰“å¼€æ—¶ä¼šå…ˆæ˜¾ç¤ºé¡µé¢å¸ƒå±€éª¨æ¶ï¼Œå†é€æ­¥åŠ è½½çœŸå®å†…å®¹å’Œäº¤äº’åŠŸèƒ½ï¼Œæ—¢ä¿è¯äº†é¦–å±é€Ÿåº¦ï¼Œåˆä¸å½±å“åç»­ä½¿ç”¨ä½“éªŒã€‚</p>
<h4 data-id="heading-6">3. æ¸è¿›å¼åŠ è½½ï¼šè´¯ç©¿å…¨æµç¨‹çš„â€œè½»â€</h4>
<p>è¿™æ˜¯æ›´é«˜çº§çš„ LitePage å»¶ä¼¸æ–¹æ¡ˆï¼Œæ ¸å¿ƒæ€è·¯æ˜¯â€œæŒ‰éœ€åŠ è½½ã€é€æ­¥å¢å¼ºâ€â€”â€”å°†æ•´ä¸ªåº”ç”¨æ‹†åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹çš„â€œå¾®å‰ç«¯æ¨¡å—â€æˆ–â€œä»£ç å—ï¼ˆChunkï¼‰â€ï¼Œé¦–å±åªåŠ è½½å½“å‰é¡µé¢å¿…éœ€çš„æœ€å°ä»£ç é›†ï¼ˆLitePage æ ¸å¿ƒï¼‰ï¼Œç”¨æˆ·å¯¼èˆªåˆ°å…¶ä»–é¡µé¢æ—¶ï¼Œå†å¼‚æ­¥åŠ è½½å¯¹åº”é¡µé¢çš„ä»£ç å—ã€‚</p>
<p>ä¼˜åŠ¿ï¼šä¸ä»…é¦–å±å¿«ï¼Œåç»­é¡µé¢åˆ‡æ¢ä¹Ÿèƒ½ä¿æŒé«˜æ€§èƒ½ï¼›èµ„æºåˆ©ç”¨ç‡æé«˜ï¼Œç”¨æˆ·ä¸ä¼šä¸‹è½½æœªè®¿é—®é¡µé¢çš„ä»£ç ï¼ŒèŠ‚çœå¸¦å®½å’Œè®¾å¤‡æ€§èƒ½ã€‚</p>
<p>ä¸è¶³ï¼šæ¶æ„è®¾è®¡å¤æ‚ï¼Œéœ€è¦ä¾èµ– Webpack/Vite ç­‰æ„å»ºå·¥å…·å®ç°ä»£ç åˆ†å‰²ï¼ŒåŒæ—¶è¦è§£å†³æ¨¡å—é—´çš„é€šä¿¡ã€è·¯ç”±ååŒç­‰é—®é¢˜ã€‚</p>
<p>æ¡ˆä¾‹ï¼šGmail æ—©æœŸç‰ˆæœ¬ã€æ·˜å®é¦–é¡µï¼Œé‡‡ç”¨æ¸è¿›å¼åŠ è½½ç­–ç•¥ï¼Œç”¨æˆ·æ‰“å¼€åå¯ç«‹å³æŸ¥çœ‹æ ¸å¿ƒå†…å®¹ï¼ˆé‚®ä»¶åˆ—è¡¨ã€å•†å“æ¨èï¼‰ï¼Œæ’°å†™é‚®ä»¶ã€æŸ¥çœ‹å†å²è®¢å•ç­‰å¤æ‚åŠŸèƒ½åˆ™åœ¨åå°é€æ­¥åŠ è½½ã€‚</p>
<h3 data-id="heading-7">å››ã€LitePage é€‚åˆå“ªäº›åœºæ™¯ï¼Ÿ</h3>
<p>LitePage ä¸æ˜¯â€œä¸‡èƒ½æ–¹æ¡ˆâ€ï¼Œæ›´é€‚åˆä»¥ä¸‹å¯¹é¦–å±æ€§èƒ½è¦æ±‚æé«˜çš„åœºæ™¯ï¼š</p>
<ol>
<li>é¢å‘å…¬ç½‘çš„ C ç«¯åº”ç”¨ï¼šå¦‚è¥é”€è½åœ°é¡µã€ç”µå•†æ´»åŠ¨é¡µã€App å®˜ç½‘ï¼Œè¿™ç±»é¡µé¢çš„ç”¨æˆ·ç•™å­˜å¯¹é¦–å±é€Ÿåº¦æå…¶æ•æ„Ÿï¼Œ1 ç§’çš„å»¶è¿Ÿå¯èƒ½å¯¼è‡´å¤§é‡ç”¨æˆ·æµå¤±ï¼›</li>
<li>ä½ç½‘é€Ÿ/ä½æ€§èƒ½è®¾å¤‡åœºæ™¯ï¼šå¦‚ç§»åŠ¨ç«¯åº”ç”¨ï¼ˆå°¤å…¶æ˜¯ä¸‹æ²‰å¸‚åœºï¼‰ã€ç‰©è”ç½‘è®¾å¤‡ï¼ˆæ™ºèƒ½æ‰‹è¡¨ã€è½¦è½½ç³»ç»Ÿï¼‰ï¼Œè¿™äº›åœºæ™¯ä¸‹èµ„æºåŠ è½½å’Œæ‰§è¡Œèƒ½åŠ›æœ‰é™ï¼ŒLitePage å¯å¤§å¹…æå‡å…¼å®¹æ€§ï¼›</li>
<li>åŠŸèƒ½åˆ†å±‚æ˜ç¡®çš„åº”ç”¨ï¼šå¦‚â€œç™»å½•é¡µ + æ ¸å¿ƒåŠŸèƒ½åŒºâ€çš„åº”ç”¨ï¼Œç™»å½•é¡µä½œä¸º LitePage å¿«é€Ÿæ‰¿æ¥ç”¨æˆ·ï¼Œæ ¸å¿ƒåŠŸèƒ½åŒºå†åŠ è½½å®Œæ•´æ¡†æ¶ï¼›</li>
<li>SEO éœ€æ±‚å¼ºçƒˆçš„é¡µé¢ï¼šå¦‚å®˜ç½‘é¦–é¡µã€å†…å®¹èµ„è®¯é¡µï¼Œçº¯é™æ€ LitePage å¯è§£å†³ SPA é¦–å± SEO éš¾é¢˜ã€‚</li>
</ol>
<p>è€Œå¯¹äºå†…éƒ¨åå°ç³»ç»Ÿã€åŠŸèƒ½å¤æ‚ä¸”äº¤äº’é¢‘ç¹çš„å·¥å…·ç±»åº”ç”¨ï¼ˆå¦‚è®¾è®¡è½¯ä»¶ã€æ•°æ®åˆ†æå¹³å°ï¼‰ï¼ŒLitePage åˆ™ä¸æ˜¯æœ€ä¼˜é€‰æ‹©â€”â€”è¿™ç±»åº”ç”¨çš„ç”¨æˆ·é€šå¸¸æ˜¯å›ºå®šç¾¤ä½“ï¼Œå¯¹é¦–å±é€Ÿåº¦æ•æ„Ÿåº¦è¾ƒä½ï¼Œæ›´éœ€è¦å®Œæ•´æ¡†æ¶å¸¦æ¥çš„å¼€å‘æ•ˆç‡å’Œäº¤äº’ä½“éªŒã€‚</p>
<h3 data-id="heading-8">äº”ã€æ€»ç»“ï¼šLitePage çš„æ ¸å¿ƒä»·å€¼æ˜¯â€œç”¨æˆ·ä½“éªŒä¼˜å…ˆâ€</h3>
<p>å›åˆ°å¼€å¤´çš„é—®é¢˜ï¼šå½“å®¹å™¨åˆå§‹åŒ–æˆä¸ºç“¶é¢ˆæ—¶ï¼Œä¸ºä»€ä¹ˆè¦é€‰æ‹© LitePageï¼Ÿæœ¬è´¨ä¸Šï¼Œè¿™æ˜¯ä¸€ç§â€œåŠ¡å®çš„æ€§èƒ½ä¼˜åŒ–æ€ç»´â€â€”â€”<strong>æŠ€æœ¯æœåŠ¡äºä½“éªŒï¼Œè€Œéåè¿‡æ¥</strong>ã€‚</p>
<p>ä¼ ç»Ÿ SPA è¿½æ±‚â€œæŠ€æœ¯çº¯ç²¹æ€§â€ï¼Œå´ç‰ºç‰²äº†ç”¨æˆ·çš„é¦–æ¬¡ä½“éªŒï¼›è€Œ LitePage åˆ™æ‰“ç ´äº†è¿™ç§â€œéé»‘å³ç™½â€çš„æ€ç»´ï¼Œç”¨â€œè½»é‡é¦–å± + é€æ­¥å¢å¼ºâ€çš„ç­–ç•¥ï¼Œåœ¨â€œæ€§èƒ½â€å’Œâ€œä½“éªŒâ€ä¹‹é—´æ‰¾åˆ°äº†å¹³è¡¡ã€‚å®ƒä¸æ˜¯å¯¹ SPA çš„å¦å®šï¼Œè€Œæ˜¯å¯¹ SPA çš„è¡¥å……å’Œä¼˜åŒ–â€”â€”é€šè¿‡â€œå…ˆè§£å†³ç”¨æˆ·çš„å³æ—¶éœ€æ±‚â€ï¼Œå†é€æ­¥æä¾›å®Œæ•´åŠŸèƒ½ï¼Œæœ€ç»ˆå®ç°â€œå¿«ä¸”å¥½ç”¨â€çš„ç›®æ ‡ã€‚</p>
<p>æœ€åï¼Œè®°ä½ä¸€ä¸ªæ ¸å¿ƒåŸåˆ™ï¼šå‰ç«¯ä¼˜åŒ–çš„æœ¬è´¨ï¼Œæ˜¯è®©ç”¨æˆ·â€œæ›´å¿«åœ°çœ‹åˆ°å†…å®¹ã€æ›´å¿«åœ°å®Œæˆäº¤äº’â€ã€‚LitePage ä¹‹æ‰€ä»¥æœ‰æ•ˆï¼Œæ­£æ˜¯å› ä¸ºå®ƒç²¾å‡†æŠ“ä½äº†è¿™ä¸ªæœ¬è´¨ã€‚</p>
<p>å¦‚æœä½ æ­£åœ¨é¢ä¸´é¦–å±åŠ è½½æ…¢çš„é—®é¢˜ï¼Œä¸å¦¨è¯•è¯• LitePage ç­–ç•¥â€”â€”ä»ä¸€ä¸ªç®€å•çš„é™æ€å…¥å£é¡µå¼€å§‹ï¼Œæˆ–è®¸èƒ½ç»™ç”¨æˆ·ä½“éªŒå¸¦æ¥è´¨çš„æå‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¨‹åºè®¾è®¡]]></title>    <link>https://juejin.cn/post/7591346773827747866</link>    <guid>https://juejin.cn/post/7591346773827747866</guid>    <pubDate>2026-01-04T12:47:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591346773827747866" data-draft-id="7591322050240659494" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¨‹åºè®¾è®¡"/> <meta itemprop="keywords" content="è®¾è®¡,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-04T12:47:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="yuanyxh"/> <meta itemprop="url" content="https://juejin.cn/user/2881148117060749"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¨‹åºè®¾è®¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2881148117060749/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    yuanyxh
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T12:47:06.000Z" title="Sun Jan 04 2026 12:47:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»23åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åŒ…å« AI è¾…åŠ©åˆ›ä½œã€‚</p>
<h2 data-id="heading-0">å›½é™…åŒ–è¯­è¨€è®¾è®¡</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB;
å›½é™…åŒ–è¯­è¨€è®¾è®¡---&gt;å‰ç«¯ç¼–ç¨‹é¢„å®šä¹‰ä¸­æ–‡æ–‡æœ¬
å›½é™…åŒ–è¯­è¨€è®¾è®¡---&gt;åç«¯ç¼–ç¨‹é¢„å®šä¹‰ä¸­æ–‡æ–‡æœ¬
å›½é™…åŒ–è¯­è¨€è®¾è®¡---&gt;stat["é€šç”¨åè¯ã€è¡Œä¸šæœ¯è¯­"]
å›½é™…åŒ–è¯­è¨€è®¾è®¡---&gt;dy["ç³»ç»ŸåŠ¨æ€æ–°å¢å†…å®¹: é€‰é¡¹è¡¨ã€è°ƒç”¨è¡¨ã€èœå•ç­‰"]
å‰ç«¯ç¼–ç¨‹é¢„å®šä¹‰ä¸­æ–‡æ–‡æœ¬---&gt;è‡ªåŠ¨åŒ–éƒ¨ç½²è§¦å‘æ›´æ–°
åç«¯ç¼–ç¨‹é¢„å®šä¹‰ä¸­æ–‡æ–‡æœ¬---&gt;è‡ªå®šä¹‰è§¦å‘æ›´æ–°
stat---&gt;ä¸“äººç»´æŠ¤æ›´æ–°
dy---&gt;æ–°å¢ä¿®æ”¹æ—¶æ›´æ–°
è‡ªåŠ¨åŒ–éƒ¨ç½²è§¦å‘æ›´æ–°---&gt;ol["æ¥å£ä¸Šä¼ ç»“æ„åŒ–ä¸­æ–‡æ–‡æœ¬"]
ol---&gt;ç­›é€‰å»é‡å·²ç¿»è¯‘å†…å®¹
è‡ªå®šä¹‰è§¦å‘æ›´æ–°---&gt;ç­›é€‰å»é‡å·²ç¿»è¯‘å†…å®¹
ä¸“äººç»´æŠ¤æ›´æ–°---&gt;ç­›é€‰å»é‡å·²ç¿»è¯‘å†…å®¹
æ–°å¢ä¿®æ”¹æ—¶æ›´æ–°---&gt;ç­›é€‰å»é‡å·²ç¿»è¯‘å†…å®¹
ç­›é€‰å»é‡å·²ç¿»è¯‘å†…å®¹---&gt;å­˜è¡¨å¹¶è§¦å‘å¼‚æ­¥ç¿»è¯‘ä»»åŠ¡
å­˜è¡¨å¹¶è§¦å‘å¼‚æ­¥ç¿»è¯‘ä»»åŠ¡---&gt;ä¾æ®è¯­è¨€é€‰é¡¹è¡¨å‰”é™¤ä¸­æ–‡è¿›è¡Œå…¶ä»–è¯­è¨€çš„ç¿»è¯‘
ä¾æ®è¯­è¨€é€‰é¡¹è¡¨å‰”é™¤ä¸­æ–‡è¿›è¡Œå…¶ä»–è¯­è¨€çš„ç¿»è¯‘---&gt;translate["è°ƒç”¨ç¿»è¯‘æ¥å£æˆ– AI"]
translate---&gt;error["å…è®¸å¤±è´¥ï¼Œä¸å¤„ç†å¼‚å¸¸"]
</code></pre>
<hr/>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB;
å‰ç«¯å›½é™…åŒ–è¯­è¨€è®¾è®¡---&gt;åˆå§‹åŒ–åŠ è½½
åˆå§‹åŒ–åŠ è½½---&gt;get["è·å–æµè§ˆå™¨è¯­è¨€"]
get---&gt;ä¸­æ–‡
get---&gt;å…¶ä»–
å…¶ä»–---&gt;request["è°ƒç”¨æ¥å£ä¼ å…¥è¯­è¨€ä»£ç ï¼ˆæ¥å£å®Œæˆå‰å¤„äº loading çŠ¶æ€ï¼‰"]
request---&gt;æ¥å£å¤„ç†
æ¥å£å¤„ç†---&gt;é€‰é¡¹è¡¨åŒ¹é…
é€‰é¡¹è¡¨åŒ¹é…---&gt;åŒ¹é…æˆåŠŸ
é€‰é¡¹è¡¨åŒ¹é…---&gt;åŒ¹é…å¤±è´¥
åŒ¹é…æˆåŠŸ---&gt;successBack["è¿”å›å¯¹åº” language code å¹¶ç­›é€‰å¯¹åº”è¯­è¨€æ•°æ®ä¸ä¸ºç©ºçš„æ•°æ®"]
åŒ¹é…å¤±è´¥---&gt;errorBack["æŠ›å‡ºå¼‚å¸¸ï¼Œå‰ç«¯èµ°é»˜è®¤ä¸­æ–‡æˆ–å»¶ç”¨å½“å‰è¯­è¨€"]
successBack---&gt;æ¥å£å®Œæˆ
errorBack---&gt;å–é»˜è®¤ä¸­æ–‡
å–é»˜è®¤ä¸­æ–‡---&gt;æ¥å£å®Œæˆ
ä¸­æ–‡---&gt;æµè§ˆå™¨ç¼“å­˜æ•°æ®å¹¶åŠ è½½
æ¥å£å®Œæˆ---&gt;æµè§ˆå™¨ç¼“å­˜æ•°æ®å¹¶åŠ è½½---default["æ¸²æŸ“ç­–ç•¥ï¼šæ— å¯¹åº”è¯­è¨€æ–‡æœ¬å–é»˜è®¤ä¸­æ–‡æ–‡æœ¬"]
æµè§ˆå™¨ç¼“å­˜æ•°æ®å¹¶åŠ è½½---&gt;switch["å…è®¸åˆ‡æ¢ã€é‡èµ°ä¸€éæµç¨‹"]
default---&gt;config["æ–°å¢è¯­è¨€é…ç½®é¡µé¢ï¼Œä¸­æ–‡é™åˆ¶ä¿®æ”¹"]
config---é—®é¢˜
é—®é¢˜---question1["1ã€è¯­è¨€æ•°æ®ä¼šè¶Šæ¥è¶Šå¤§ï¼Œæ¥å£èƒ½å¦åšåˆ°æ¯«ç§’çº§å“åº”"]
é—®é¢˜---question2["2ã€ å¦‚ä½•æ£€æŸ¥æ•°æ®æ˜¯å¦æ›´æ–°ä»¥åˆ·æ–°æœ¬åœ°ç¼“å­˜"]
é—®é¢˜---question3["3ã€ è¯­è¨€æ•°æ®ä¼šè¶Šæ¥è¶Šå¤§ã€æ˜¯å¦ä¼šè¶…è¿‡æµè§ˆå™¨/APP å­˜å‚¨é™åˆ¶"]
é—®é¢˜---question4["4ã€ APP/WEB åå°è¯­è¨€æ•°æ®æ˜¯å¦éš”ç¦»ï¼ˆä¸éš”ç¦»å¯èƒ½å‡ºç°å†²çªï¼‰"]
question1---awer1["åç«¯ redis å­˜å…¨é‡æ•°æ®ï¼Œåå°èµ°æŒ‰éœ€åŠ è½½é€»è¾‘é¿å…å•æ¬¡è¯·æ±‚æ•°æ®è¿‡å¤§ï¼ŒæŒ‰æ¨¡å—åŠ è½½ï¼›app èµ°å…¨é‡åŠ è½½é€»è¾‘(æ¥å£åº”æ”¯æŒå…¨é‡è¿”å›ã€æŒ‡å®šæ¨¡å—è¿”å›ã€æŒ‡å®šå¤šä¸ªæ¨¡å—è¿”å›)"]
question2---awer2["ç³»ç»Ÿæ›´æ–°é»˜è®¤åˆ·æ–°ä¸€æ¬¡ï¼Œåç»­èµ° websocket æ¯”å¯¹è¯­è¨€ç‰ˆæœ¬"]
question3---awer3["WEB é»˜è®¤å­˜ IndexDBï¼Œä¸æ”¯æŒæ—¶é™çº§èµ° localStorageï¼Œå¹¶å®ç°ä½é¢‘æ¨¡å—æ•°æ®æ¸…ç†ï¼ˆå†æ¬¡è®¿é—®æ—¶èµ°æ¥å£è·å–ï¼‰"]
question4---awer4["APP/WEB æ•°æ®é€»è¾‘åˆ†å‰²ï¼Œåç«¯æµé‡åˆ†åŒ–ã€åŒºåˆ†æµé‡å…¥å£è¿”å›å¯¹åº”æ•°æ®"]
</code></pre>
<blockquote>
<p>ä¸ºäº†ä¿è¯ SEOã€ä¸ WEB ç½‘ç»œå…¼å®¹ï¼Œåº”æœåŠ¡ç«¯åº”æ”¯æŒé™çº§å…¼å®¹ <code>Accept-Language</code></p>
</blockquote>
<hr/>
<p>ä½ å½“å‰çš„å›½é™…åŒ–è®¾è®¡å·²è¦†ç›–æ ¸å¿ƒæµç¨‹ï¼Œä½†å¯ä»è‡ªåŠ¨åŒ–ææ•ˆã€é…ç½®åŒ–ç®¡ç†å’Œæ€§èƒ½ä¼˜åŒ–ä¸‰ä¸ªç»´åº¦å‡çº§ï¼Œå‡å°‘80%çš„äººå·¥å¹²é¢„ã€‚ä»¥ä¸‹æ˜¯åŸºäºè¡Œä¸šæœ€ä½³å®è·µçš„ä¼˜åŒ–æ–¹æ¡ˆï¼š</p>
<h3 data-id="heading-1">ä¸€ã€å¼€å‘æµç¨‹è‡ªåŠ¨åŒ–ï¼šä»æ‰‹åŠ¨ç»´æŠ¤åˆ°æ— æ„Ÿé›†æˆ</h3>
<p><strong>1. ä»£ç å±‚è‡ªåŠ¨æå–ä¸ç¿»è¯‘</strong></p>
<p>ä½¿ç”¨ I18n Fast æˆ– Kiwi ç­‰å·¥å…·é“¾ï¼Œé€šè¿‡ VS Code æ’ä»¶åœ¨å¼€å‘é˜¶æ®µè‡ªåŠ¨æ‰«æä¸­æ–‡æ–‡æœ¬ï¼Œç”Ÿæˆè¯­ä¹‰åŒ– key å¹¶åŒæ­¥è‡³ç¿»è¯‘ç³»ç»Ÿã€‚ä¾‹å¦‚é€‰ä¸­ä»£ç ä¸­çš„ "ç”¨æˆ·ç™»å½•"ï¼Œæ’ä»¶å¯è‡ªåŠ¨ç”Ÿæˆ <code>user.login.title</code> é”®å¹¶è°ƒç”¨ç™¾åº¦ç¿»è¯‘ API ç”Ÿæˆè‹±æ–‡æ–‡æ¡ˆï¼Œå…¨ç¨‹æ— éœ€å¼€å‘è€…æ‰‹åŠ¨ä¿®æ”¹è¯­è¨€æ–‡ä»¶ã€‚</p>
<blockquote>
<p>é…ç½®å¤æ‚ï¼Œç”Ÿæˆè¯­ä¹‰åŒ– Key éœ€è¦å¯¹æ¥ AIï¼ŒPASS</p>
</blockquote>
<p><strong>2. æ„å»ºæµç¨‹æ— ç¼åµŒå…¥</strong></p>
<p>åœ¨ Webpack/Vite é…ç½®ä¸­é›†æˆè‡ªåŠ¨åŒ–æ’ä»¶ï¼Œå¦‚ <code>vite-auto-i18n-plugin</code>ï¼Œå®ç°ï¼š</p>
<ul>
<li>å¼€å‘æ—¶ï¼šæ£€æµ‹æ–‡ä»¶å˜åŠ¨è‡ªåŠ¨æ›´æ–°ç¿»è¯‘</li>
<li>æ„å»ºæ—¶ï¼šæ‰¹é‡å¤„ç†æ–°å¢æ–‡æ¡ˆå¹¶å»é‡</li>
<li>éƒ¨ç½²æ—¶ï¼šæŒ‰è¯­è¨€æ‹†åˆ†èµ„æºåŒ…å®ç° CDN æŒ‰éœ€åŠ è½½</li>
</ul>
<blockquote>
<p>éœ€è¦å¯¹æ¥ç¿»è¯‘æ¥å£ï¼Œç¿»è¯‘æ–‡æ¡ˆä¸èƒ½æ»¡è¶³æœ¬åœŸåŒ–éœ€æ±‚ï¼Œæ— æ³•åŠ¨æ€é…ç½®ã€å¢åŠ åˆ å‡è¯­è¨€ï¼ŒPASS</p>
</blockquote>
<p><strong>3. ç¿»è¯‘åä½œæ ‡å‡†åŒ–</strong></p>
<p>é‡‡ç”¨ "å¼€å‘-ç¿»è¯‘-æ ¡éªŒ" é—­ç¯æµç¨‹ï¼š</p>
<ol>
<li>å¼€å‘è€…æäº¤ä»£ç è§¦å‘é’©å­ï¼Œæå–æ–°å¢æ–‡æ¡ˆè‡³åœ¨çº¿è¡¨æ ¼ï¼ˆå¦‚é£ä¹¦å¤šç»´è¡¨æ ¼ï¼‰</li>
<li>ç¿»è¯‘å›¢é˜Ÿåœ¨çº¿ç¼–è¾‘åï¼ŒWebhook è‡ªåŠ¨åŒæ­¥è‡³é¡¹ç›®è¯­è¨€æ–‡ä»¶</li>
<li>CI æµç¨‹æ ¡éªŒç¿»è¯‘å®Œæ•´æ€§ï¼Œç¼ºå¤±æ—¶è‡ªåŠ¨é˜»æ–­åˆå¹¶</li>
</ol>
<h3 data-id="heading-2">äºŒã€é…ç½®åŒ–ä½“ç³»ï¼šä»ç¡¬ç¼–ç åˆ°åŠ¨æ€è°ƒæ§</h3>
<p><strong>1. è¯­è¨€ç­–ç•¥é›†ä¸­ç®¡ç†</strong></p>
<p>å»ºç«‹ç»Ÿä¸€çš„è¯­è¨€é…ç½®æœåŠ¡ï¼Œæ”¯æŒï¼š</p>
<ul>
<li><strong>åŠ¨æ€è¯­è¨€åŒ…</strong>ï¼šé€šè¿‡ç®¡ç†åå°é…ç½®æ–°å¢è¯­è¨€ï¼ˆå¦‚é˜¿æ‹‰ä¼¯è¯­ï¼‰ï¼Œæ— éœ€ä»£ç éƒ¨ç½²</li>
<li><strong>ä¼˜å…ˆçº§è§„åˆ™</strong>ï¼šç”¨æˆ·è®¾ç½® &gt; Cookie &gt; è¯·æ±‚å¤´ &gt; é»˜è®¤è¯­è¨€ï¼Œå…¼å®¹å‰åç«¯åœºæ™¯</li>
<li><strong>ç°åº¦å‘å¸ƒ</strong>ï¼šå¯¹ç‰¹å®šç”¨æˆ·ç¾¤å¯ç”¨æµ‹è¯•è¯­è¨€ç‰ˆæœ¬</li>
</ul>
<p><strong>2. å¤šç»´åº¦èµ„æºæ§åˆ¶</strong></p>
<p>åœ¨é…ç½®ä¸­å¿ƒè®¾ç½®ç»†ç²’åº¦è§„åˆ™ï¼š</p>

























<table><thead><tr><th>é…ç½®é¡¹</th><th>ç¤ºä¾‹å€¼</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>maxCacheSize</code></td><td><code>5MB</code></td><td>é™åˆ¶æµè§ˆå™¨ç¼“å­˜ä¸Šé™</td></tr><tr><td><code>updateThreshold</code></td><td><code>30%</code></td><td>å·®å¼‚ç‡è¶…é˜ˆå€¼è§¦å‘å…¨é‡æ›´æ–°</td></tr><tr><td><code>fallbackPolicy</code></td><td><code>zh-CNâ†’en-USâ†’base64</code></td><td>å¤šçº§é™çº§ç­–ç•¥</td></tr></tbody></table>
<p><strong>3. å‰ç«¯æ¸²æŸ“ç­–ç•¥é…ç½®</strong></p>
<p>é€šè¿‡ JSON é…ç½®æ–‡ä»¶å®šä¹‰æ¸²æŸ“è§„åˆ™ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"render"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"missingText"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ˜¾ç¤ºé»˜è®¤ä¸­æ–‡"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"loadingState"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"éª¨æ¶å±å ä½"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"direction"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"ar-SA"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"rtl"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"default"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ltr"</span> <span class="hljs-punctuation">}</span> <span class="hljs-comment">// é€‚é…é˜¿æ‹‰ä¼¯è¯­å³å¯¹é½</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-3">ä¸‰ã€æ€§èƒ½ä¸ç¨³å®šæ€§ä¼˜åŒ–ï¼šä»èƒ½ç”¨ to å¥½ç”¨</h3>
<p><strong>1. èµ„æºåŠ è½½ç­–ç•¥å‡çº§</strong></p>
<ul>
<li><strong>åˆ†ç‰‡åŠ è½½</strong>ï¼šæŒ‰è·¯ç”±æ‹†åˆ†è¯­è¨€åŒ…ï¼ˆå¦‚ <code>home.en.json</code>ã€<code>profile.en.json</code>ï¼‰ï¼Œé¦–å±ä»…åŠ è½½æ ¸å¿ƒæ¨¡å—</li>
<li><strong>é¢„åŠ è½½æœºåˆ¶</strong>ï¼šæ ¹æ®ç”¨æˆ·è¡Œä¸ºé¢„æµ‹å¯èƒ½åˆ‡æ¢çš„è¯­è¨€ï¼ˆå¦‚æ£€æµ‹åˆ°ç¾å›½ IP é¢„åŠ è½½è‹±è¯­åŒ…ï¼‰</li>
<li><strong>å¢é‡æ›´æ–°</strong>ï¼šé€šè¿‡ ETag æ¯”å¯¹ä»…æ‹‰å–å˜åŠ¨çš„ç¿»è¯‘æ¡ç›®ï¼Œå‡å°‘ 70% ç½‘ç»œä¼ è¾“é‡</li>
</ul>
<p><strong>2. ç¼“å­˜æœºåˆ¶åŒä¿é™©</strong></p>
<ul>
<li><strong>ä¸‰çº§ç¼“å­˜</strong>ï¼šå†…å­˜ç¼“å­˜ï¼ˆå½“å‰ä¼šè¯ï¼‰â†’ IndexedDBï¼ˆæŒä¹…åŒ–ï¼‰â†’ CDNï¼ˆå…œåº•ï¼‰</li>
<li><strong>ä¸»åŠ¨å¤±æ•ˆ</strong>ï¼šé…ç½®ä¸­å¿ƒæ¨é€ç‰ˆæœ¬å·ï¼Œå®¢æˆ·ç«¯æ£€æµ‹åˆ°ä¸ä¸€è‡´æ—¶è§¦å‘æ›´æ–°</li>
</ul>
<p><strong>3. å¼‚å¸¸å¤„ç†å¢å¼º</strong></p>
<ul>
<li><strong>ç¿»è¯‘å¤±è´¥é™çº§</strong>ï¼šè°ƒç”¨ AI ç¿»è¯‘æ¥å£è¶…æ—¶åï¼Œè‡ªåŠ¨åˆ‡æ¢è‡³å¤‡ç”¨æ¥å£ï¼ˆå¦‚ç™¾åº¦â†’æœ‰é“ï¼‰</li>
<li><strong>æ•°æ®æ ¡éªŒ</strong>ï¼šä½¿ç”¨ JSON Schema éªŒè¯ç¿»è¯‘æ–‡ä»¶æ ¼å¼ï¼Œå¼‚å¸¸æ—¶å›æ»šè‡³ä¸Šæ¬¡å¯ç”¨ç‰ˆæœ¬</li>
</ul>
<h3 data-id="heading-4">å››ã€è½åœ°å®æ–½è·¯çº¿å›¾</h3>
<ol>
<li>
<p><strong>åŸºç¡€æ”¹é€ ï¼ˆ1-2å‘¨ï¼‰</strong></p>
<ul>
<li>é›†æˆ i18n Ally æ’ä»¶å®ç°å¼€å‘ææ•ˆ</li>
<li>æŒ‰ä¸šåŠ¡æ¨¡å—æ‹†åˆ†ç°æœ‰è¯­è¨€æ–‡ä»¶</li>
</ul>
</li>
<li>
<p><strong>è‡ªåŠ¨åŒ–å»ºè®¾ï¼ˆ2-3å‘¨ï¼‰</strong></p>
<ul>
<li>å¼€å‘ç¿»è¯‘åŒæ­¥ Webhook</li>
<li>é…ç½®æ„å»ºæµç¨‹è‡ªåŠ¨åŒ–æ’ä»¶</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½ä¼˜åŒ–ï¼ˆ2å‘¨ï¼‰</strong></p>
<ul>
<li>å®ç°åˆ†ç‰‡åŠ è½½ä¸å¢é‡æ›´æ–°</li>
<li>éƒ¨ç½²ç¼“å­˜ç­–ç•¥ä¸ç›‘æ§å‘Šè­¦</li>
</ul>
</li>
</ol>
<h3 data-id="heading-5">äº”ã€å…³é”®é—®é¢˜è§£å†³æ–¹æ¡ˆ</h3>

























<table><thead><tr><th>åŸé—®é¢˜</th><th>ä¼˜åŒ–æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>è¯­è¨€åŒ…ä½“ç§¯è†¨èƒ€</td><td>è·¯ç”±çº§åˆ†ç‰‡+æŒ‰éœ€åŠ è½½ï¼Œé…åˆ Tree-Shaking ç§»é™¤æœªä½¿ç”¨è¯æ¡</td></tr><tr><td>ç¼“å­˜æ›´æ–°ä¸åŠæ—¶</td><td>ç‰ˆæœ¬å·æ¯”å¯¹ + WebSocket æ¨é€æ›´æ–°é€šçŸ¥</td></tr><tr><td>å­˜å‚¨è¶…é™é£é™©</td><td>LRU æ·˜æ±°ç­–ç•¥+IndexedDB å®¹é‡ç›‘æ§ï¼Œè¶…é™è‡ªåŠ¨æ¸…ç†ä½é¢‘è¯­è¨€åŒ…</td></tr><tr><td>å‰åç«¯æ•°æ®å†²çª</td><td>ç»Ÿä¸€è¯­è¨€æœåŠ¡APIï¼Œå‰ç«¯é€šè¿‡<code>Accept-Language</code>ä¼ é€’ä¸Šä¸‹æ–‡</td></tr></tbody></table>
<p>è¿™ç§æ¶æ„å·²åœ¨å¾®ç­–ç•¥ã€å­—èŠ‚è·³åŠ¨ç­‰ä¼ä¸šéªŒè¯ï¼Œå¯ä½¿æ–°å¢è¯­è¨€çš„é…ç½®æ—¶é—´ä» 3 å¤©ç¼©çŸ­è‡³ 2 å°æ—¶ï¼Œç¿»è¯‘æ›´æ–°å‘¨æœŸä»å‘¨çº§é™è‡³åˆ†é’Ÿçº§ã€‚æ ¸å¿ƒæ˜¯å°†å›½é™…åŒ–ä» "å¼€å‘ä»»åŠ¡" è½¬å˜ä¸º "é…ç½®é¡¹"ï¼Œè®©å¼€å‘è€…ä¸“æ³¨ä¸šåŠ¡é€»è¾‘è€Œéç¿»è¯‘ç»´æŠ¤ã€‚</p>
<h2 data-id="heading-6">ä¸»é¢˜è®¾è®¡</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB;
ä¸»é¢˜è®¾è®¡---&gt;mode["æµ…è‰²ã€æ·±è‰²æ¨¡å¼"]
mode---&gt;baseMode["åŸºç¡€æ¨¡å¼ï¼Œç»´æŠ¤ä¸€å¥—ä¸»é¢˜è‰²å’Œä¸ä¹‹å¯¹åº”çš„æ·±è‰²ä¸»é¢˜è‰²"]
ä¸»é¢˜è®¾è®¡---&gt;theme["ä¸»é¢˜æ¨¡å¼"]
theme---&gt;themeTips["æš‚ä¸å®ç°ï¼Œä½†å®ç°åŸºç¡€æ¨¡å¼æ—¶åº”æ”¯æŒå¿«é€Ÿæ‰©å±•åˆ°ä¸»é¢˜æ¨¡å¼"]
baseMode---themeFunction["ç»´æŠ¤ä¸€å¥—é€šç”¨å˜é‡ï¼šåŸºç¡€è‰²ã€æ‰©å±•è‰²ã€åœ†è§’ã€paddingã€å­—ä½“ã€å°ºå¯¸ã€å±‚çº§ç­‰"]
themeTips---&gt;themeFunction
themeFunction---&gt;init["å‰ç«¯åˆå§‹åŒ–åŠ è½½ï¼Œå–ç³»ç»Ÿæµ…è‰²ã€æ·±è‰²æ¨¡å¼"]
init---&gt;ç”¨æˆ·åˆ‡æ¢
ç”¨æˆ·åˆ‡æ¢---&gt;cache["æœ¬åœ°æŒä¹…ç¼“å­˜ï¼Œä¸å› è´¦å·å˜æ›´è€Œæ¸…ç©º"]
cache---&gt;extend["æ‰©å±•ï¼šæ”¯æŒè¿œæ§é…ç½®ï¼Œæ ¹æ®ä¸åŒå›½å®¶é£æ ¼æ˜¾ç¤ºã€æ— éšœç¢"]
</code></pre>
<h2 data-id="heading-7">é…ç½®åŒ–è®¾è®¡</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB;
é…ç½®åŒ–è®¾è®¡---&gt;ç”¨æˆ·æœ¬åœ°ä¸ªæ€§åŒ–é…ç½®
ç”¨æˆ·æœ¬åœ°ä¸ªæ€§åŒ–é…ç½®---&gt;localStorage["æœ¬åœ°æŒä¹…ç¼“å­˜é…ç½®ï¼Œç”¨æˆ·é€€å‡ºä¸æ¸…ç©º"]
localStorage---localStorageEG["ä¸»é¢˜ã€è¯­è¨€ã€è¡¨æ ¼åˆ—é…ç½®ç­‰"]
localStorageEG---&gt;localStorageHint["ç»“æ„è®¾è®¡åˆç†ï¼Œä¾¿äºåç»­æ¥å…¥ç”¨æˆ·è´¦å·é…ç½®"]---&gt;version
é…ç½®åŒ–è®¾è®¡---&gt;ç”¨æˆ·è´¦å·é…ç½®
ç”¨æˆ·è´¦å·é…ç½®---&gt;accoutConfig["ä¸ç”¨æˆ·è´¦å·å…³è”çš„é…ç½®ï¼Œæ¯”å¦‚ï¼šéƒ¨åˆ†è¥é”€æ´»åŠ¨çš„æ¨é€å¼€å…³ã€é€šçŸ¥å‹¿æ‰°æ—¶æ®µã€ç”¨æˆ·å¤´åƒç­‰"]---&gt;version
é…ç½®åŒ–è®¾è®¡---&gt;set["ç»„ã€è§’è‰²ã€å…¬å¸ã€å¹³å°ã€æœåŠ¡å•†é…ç½®"]
set---&gt;é’ˆå¯¹ä¸€ç»„ç”¨æˆ·çš„é…ç½®
é’ˆå¯¹ä¸€ç»„ç”¨æˆ·çš„é…ç½®---&gt;æ ¹æ®ä¸åŒç»„çš„éœ€æ±‚è¿›è¡Œçš„é…ç½®---&gt;version["ç‰ˆæœ¬æ§åˆ¶"]
é…ç½®åŒ–è®¾è®¡---&gt;é€šç”¨é…ç½®
é€šç”¨é…ç½®---&gt;polipry["é…ç½®ä¼˜å…ˆçº§: ä¸ªäºº &gt; ç»„ &gt; ç³»ç»Ÿé»˜è®¤é…ç½®"]---&gt;version
</code></pre>
<blockquote>
<p>é‚£ä¹ˆåç«¯å¦‚ä½•æ ¹æ®è¿™ç§é…ç½®è®¾è®¡è¿›è¡Œåç«¯ä»£ç çš„è‡ªé€‚åº”å‘¢ï¼Ÿæ¯”å¦‚è®¾ç½®äº†æŸä¸ªç»„ä½¿ç”¨ç¾è¥¿æ—¶åŒºè¿›è¡Œæ—¶é—´å­—æ®µçš„æ ¼å¼åŒ–ï¼Œæˆ–é…ç½®æŸäº›è§’è‰²æ‹¥æœ‰æŸ¥çœ‹ç”¨æˆ·å®Œæ•´ç”µè¯çš„æƒé™ï¼ˆä¸æƒé™ç­‰å…¶ä»–è®¾è®¡å…³è”ï¼‰ï¼Ÿæˆ–æŸä¸ªç”¨æˆ·é…ç½®äº†å½“å‰æ—¶é—´çš„ æ™šä¸Š 9 ç‚¹åˆ°æ—©ä¸Š 8 ç‚¹ä¸å¸Œæœ›æ¨é€é€šçŸ¥ï¼›å¦‚ä½•åœ¨ä»£ç å±‚é¢åšå¥½è¿™äº›åŠŸèƒ½ï¼Œè€Œä¸å¿…ä¹¦å†™å‘½ä»¤å¼çš„ç¼–ç¨‹</p>
</blockquote>
<p>è¦å®ç°åç«¯ä»£ç çš„ â€œé…ç½®è‡ªé€‚åº”â€ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯å°† <strong>â€œç¡¬ç¼–ç é€»è¾‘â€ è½¬å˜ä¸º â€œæ•°æ®é©±åŠ¨é€»è¾‘â€</strong>ã€‚</p>
<p>ä½ æåˆ°çš„æ—¶åŒºè½¬æ¢ã€å­—æ®µè„±æ•ã€é€šçŸ¥æ‹¦æˆªï¼Œåˆ†åˆ«å¯¹åº”äº†åç«¯å¤„ç†é“¾è·¯ä¸­çš„ä¸‰ä¸ªå…³é”®ç¯èŠ‚ï¼š<strong>åºåˆ—åŒ–å±‚ã€AOP/ä¸­é—´ä»¶å±‚ã€ä¸šåŠ¡é€»è¾‘å±‚</strong>ã€‚</p>
<p>ä»¥ä¸‹æ˜¯å®ç°è¿™äº›è‡ªé€‚åº”åŠŸèƒ½çš„åç«¯ä»£ç æ–¹æ¡ˆï¼š</p>
<ol>
<li>
<p>æ—¶åŒºè‡ªé€‚åº”ï¼šä¸Šä¸‹æ–‡æ„ŸçŸ¥è½¬æ¢ï¼ˆåºåˆ—åŒ–å±‚ï¼‰</p>
<p>ä¸è¦åœ¨ä¸šåŠ¡ä»£ç é‡Œæ‰‹åŠ¨è½¬æ¢æ—¶åŒºã€‚åˆ©ç”¨ Web æ¡†æ¶çš„æ‹¦æˆªå™¨ï¼Œå°†é…ç½®çš„æ—¶åŒºæ³¨å…¥åˆ°å½“å‰è¯·æ±‚çš„ <code>ThreadLocal</code>ï¼ˆä¸Šä¸‹æ–‡ï¼‰ä¸­ã€‚</p>
<ul>
<li>
<p><strong>å®ç°æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li><strong>æ‹¦æˆªå™¨æå–ï¼š</strong> åœ¨è¯·æ±‚å…¥å£å¤„ï¼ˆInterceptor/Filterï¼‰ï¼Œæ ¹æ®é…ç½®å¼•æ“è·å–è¯¥ç»„/ç”¨æˆ·çš„æ—¶åŒºï¼ˆå¦‚ <code>America/Los_Angeles</code>ï¼‰ã€‚</li>
<li><strong>ä¸Šä¸‹æ–‡å­˜å‚¨ï¼š</strong> å­˜å…¥ <code>UserContext</code>ã€‚</li>
<li><strong>JSON åºåˆ—åŒ–å™¨é€‚é…ï¼š</strong> è‡ªå®šä¹‰ Jackson/Fastjson åºåˆ—åŒ–å™¨ï¼Œåœ¨è¿”å› Date å­—æ®µæ—¶åŠ¨æ€è¯»å–ä¸Šä¸‹æ–‡æ—¶åŒºã€‚</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. å®šä¹‰ä¸Šä¸‹æ–‡</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserContext</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> ThreadLocal&lt;ZoneId&gt; ZONE_ID = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;&gt;();
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setZone</span><span class="hljs-params">(ZoneId zone)</span> { ZONE_ID.set(zone); }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ZoneId <span class="hljs-title function_">getZone</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> ZONE_ID.get() != <span class="hljs-literal">null</span> ? ZONE_ID.get() : ZoneOffset.UTC; }
}

<span class="hljs-comment">// 2. è‡ªå®šä¹‰æ—¥æœŸåºåˆ—åŒ–å™¨</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConfigurableDateSerializer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">JsonSerializer</span>&lt;LocalDateTime&gt; {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">serialize</span><span class="hljs-params">(LocalDateTime value, JsonGenerator gen, SerializerProvider serializers)</span> {
        <span class="hljs-comment">// è‡ªåŠ¨æ ¹æ®é…ç½®è½¬æ¢æ—¶åŒº</span>
        <span class="hljs-type">ZonedDateTime</span> <span class="hljs-variable">zonedDateTime</span> <span class="hljs-operator">=</span> value.atZone(ZoneOffset.UTC).withZoneSameInstant(UserContext.getZone());
        gen.writeString(zonedDateTime.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME));
    }
}
</code></pre>
</li>
</ul>
</li>
<li>
<p>å­—æ®µæƒé™è‡ªé€‚åº”ï¼šå£°æ˜å¼è„±æ•ï¼ˆæ³¨è§£é©±åŠ¨ï¼‰</p>
<p>å¯¹äºâ€œæŸ¥çœ‹å®Œæ•´ç”µè¯â€çš„éœ€æ±‚ï¼Œè¿™å±äº <strong>é…ç½®åŒ–è„±æ•</strong>ã€‚å°†é…ç½®è®¾è®¡æ˜ å°„åˆ°æƒé™æ¡†æ¶ï¼ˆå¦‚ Shiro/Spring Securityï¼‰ä¸­ã€‚</p>
<ul>
<li>
<p><strong>å®ç°æ–¹æ¡ˆï¼š</strong>
ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£é…åˆ AOPï¼ˆåˆ‡é¢ï¼‰æˆ– è¿”å›å€¼æ‹¦æˆªã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserVO</span> {
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@SensitiveMask(type = MaskType.PHONE, permissionConfig = "view_full_phone")</span>
    <span class="hljs-keyword">private</span> String phoneNumber;
}

<span class="hljs-comment">// AOP å¤„ç†é€»è¾‘</span>
<span class="hljs-meta">@Around("execution(* *(..)) &amp;&amp; @annotation(SensitiveMask)")</span>
<span class="hljs-keyword">public</span> Object <span class="hljs-title function_">maskData</span><span class="hljs-params">(ProceedingJoinPoint joinPoint)</span> {
    <span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> joinPoint.proceed();
    <span class="hljs-comment">// 1. è·å–å½“å‰ç”¨æˆ·èšåˆé…ç½®ä¸­çš„ 'view_full_phone' å¼€å…³</span>
    <span class="hljs-type">boolean</span> <span class="hljs-variable">canSee</span> <span class="hljs-operator">=</span> ConfigEngine.getBoolean(<span class="hljs-string">"view_full_phone"</span>);
    
    <span class="hljs-comment">// 2. å¦‚æœé…ç½®ä¸º falseï¼Œåˆ™æ‰§è¡Œæ­£åˆ™è„±æ• (138****0000)</span>
    <span class="hljs-keyword">if</span> (!canSee) {
        <span class="hljs-keyword">return</span> maskHelper.apply(result);
    }
    <span class="hljs-keyword">return</span> result;
}
</code></pre>
</li>
</ul>
</li>
<li>
<p>é€šçŸ¥æ‹¦æˆªè‡ªé€‚åº”ï¼šç­–ç•¥æ¨¡å¼ + è¿‡æ»¤å™¨é“¾ï¼ˆé€»è¾‘å±‚ï¼‰</p>
<p>å¯¹äº â€œæ™šä¸Š 9 ç‚¹åˆ°æ—©ä¸Š 8 ç‚¹ä¸æ¨é€â€ è¿™ç§åŸºäºé€»è¾‘åˆ¤æ–­çš„é…ç½®ï¼Œå»ºè®®é‡‡ç”¨ <strong>â€œç­–ç•¥æ’ä»¶â€</strong> æ¨¡å¼ã€‚</p>
<ul>
<li>
<p><strong>å®ç°æ–¹æ¡ˆï¼š</strong>
å®šä¹‰ä¸€ä¸ªé€šçŸ¥è¿‡æ»¤å™¨æ¥å£ï¼Œä¸šåŠ¡ä»£ç åªç®¡å‘é€é€šçŸ¥ï¼Œç”±è¿‡æ»¤å™¨å†³å®šæ˜¯å¦ â€œä¸¢å¼ƒâ€ æˆ– â€œå»¶è¿Ÿâ€ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">NotificationFilter</span> {
    <span class="hljs-type">boolean</span> <span class="hljs-title function_">shouldSend</span><span class="hljs-params">(User user, Notification content)</span>;
}

<span class="hljs-comment">// æ—¶é—´çª—å£ç­–ç•¥å®ç°</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TimeWindowFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">NotificationFilter</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">shouldSend</span><span class="hljs-params">(User user, Notification content)</span> {
        <span class="hljs-comment">// ä»èšåˆé…ç½®è·å–ç”¨æˆ·è®¾ç½®ï¼š{ "quiet_start": "21:00", "quiet_end": "08:00" }</span>
        <span class="hljs-type">Config</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> ConfigEngine.getUserConfig(user.getId());
        <span class="hljs-type">LocalTime</span> <span class="hljs-variable">now</span> <span class="hljs-operator">=</span> LocalTime.now(config.getZoneId());
        
        <span class="hljs-keyword">if</span> (isInQuietPeriod(now, config)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// æ‹¦æˆªå‘é€</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}

<span class="hljs-comment">// ä¸šåŠ¡è°ƒç”¨å±‚ (éå¸¸ç®€æ´)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendNotice</span><span class="hljs-params">(String userId)</span> {
    <span class="hljs-type">Notification</span> <span class="hljs-variable">notice</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Notification</span>(<span class="hljs-string">"æ´»åŠ¨æé†’"</span>);
    <span class="hljs-comment">// è‡ªåŠ¨éå†æ‰€æœ‰é…ç½®ç­–ç•¥ï¼Œåªæœ‰å…¨éƒ¨é€šè¿‡æ‰å‘é€</span>
    <span class="hljs-keyword">if</span> (notificationService.evaluate(userId, notice)) {
        pusher.send(notice);
    }
}
</code></pre>
</li>
</ul>
</li>
<li>
<p>æ ¸å¿ƒï¼šè‡ªé€‚åº”ä»£ç æ¶æ„çš„ä¸‰ä¸ªåŸåˆ™</p>
<ol>
<li><strong>é…ç½®æ³¨å…¥ï¼ˆContextualizationï¼‰ï¼š</strong>
é€šè¿‡æ‹¦æˆªå™¨å°†å½“å‰è¯·æ±‚æ¶‰åŠåˆ°çš„æ‰€æœ‰å±‚çº§é…ç½®ï¼ˆç”¨æˆ·ã€ç»„ã€å¹³å°ï¼‰èšåˆåï¼Œæ”¾å…¥ <strong>Request Context</strong>ã€‚åç»­æ‰€æœ‰ä»£ç åªéœ€ä» Context å–å€¼ï¼Œä¸è¦å†å»æŸ¥æ•°æ®åº“ã€‚</li>
<li><strong>éä¾µå…¥æ€§ï¼ˆNon-Invasiveï¼‰ï¼š</strong>
å°½é‡ä½¿ç”¨ <strong>æ³¨è§£ï¼ˆAnnotationï¼‰</strong>ã€<strong>è¿‡æ»¤å™¨ï¼ˆFilterï¼‰</strong> æˆ– <strong>ä¸­é—´ä»¶</strong>ã€‚ä¸šåŠ¡é€»è¾‘ä»£ç åº”è¯¥å†™æˆï¼š<code>saveOrder(order)</code>ï¼Œè€Œä¸æ˜¯ <code>if (config == 'A') { saveA } else { saveB }</code>ã€‚</li>
<li><strong>é»˜è®¤è¡Œä¸ºï¼ˆFallthroughï¼‰ï¼š</strong>
åœ¨ä»£ç å±‚é¢ï¼Œå¿…é¡»ä¸ºæ¯ç§é…ç½®é¡¹å®šä¹‰ <strong>Default Value</strong>ã€‚å½“åç«¯é…ç½®ç³»ç»Ÿå®•æœºæˆ–æ•°æ®ä¸¢å¤±æ—¶ï¼Œç³»ç»Ÿåº”èƒ½å›é€€åˆ°æœ€ä¿å®ˆçš„é»˜è®¤è¡Œä¸ºï¼ˆå¦‚ï¼šé»˜è®¤è„±æ•ã€é»˜è®¤ä½¿ç”¨ç³»ç»Ÿæ—¶åŒºï¼‰ã€‚</li>
</ol>
</li>
</ol>
<h3 data-id="heading-8">æ€»ç»“</h3>
<p>è¦å®ç°åç«¯ â€œè‡ªé€‚åº”â€ï¼Œä½ éœ€è¦åœ¨ <strong>æ•°æ®çš„å‡ºå£ï¼ˆåºåˆ—åŒ–ï¼‰</strong>ã€**è®¿é—®çš„å…³å¡ï¼ˆAOPï¼‰**å’Œ <strong>é€»è¾‘çš„å…¥å£ï¼ˆè¿‡æ»¤å™¨ï¼‰</strong> è®¾ç½®é…ç½®æŒ‚é’©ç‚¹ã€‚è¿™æ ·ï¼Œä¸šåŠ¡é€»è¾‘ä¿æŒçº¯å‡€ï¼Œæ‰€æœ‰çš„å·®å¼‚åŒ–è¡¨ç°éƒ½ç”± â€œé…ç½®æ„ŸçŸ¥ç»„ä»¶â€ è‡ªåŠ¨å®Œæˆã€‚</p>
<h2 data-id="heading-9">æƒé™è®¾è®¡</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB;
æƒé™è®¾è®¡---&gt;RBAC
RBAC---&gt;ç”¨æˆ·
RBAC---&gt;ç”¨æˆ·ç»„
RBAC---&gt;è§’è‰²
RBAC---&gt;æƒé™
ç”¨æˆ·---&gt;æ‹¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªç›¸å…³è§’è‰²
ç”¨æˆ·ç»„---&gt;group["ä¸€ç»„ç”¨æˆ·çš„é›†åˆï¼Œèµ‹äºˆç»„å†…ç”¨æˆ·ç›¸åŒçš„è§’è‰²"]
è§’è‰²---&gt;æ‹¥æœ‰ä¸€ç»„ä¸å½“å‰è§’è‰²å…³è”çš„æƒé™
æƒé™---&gt;permission["èœå•ã€æŒ‰é’®ã€æ•°æ®ã€å­—æ®µæƒé™"]
æ‹¥æœ‰ä¸€ç»„ä¸å½“å‰è§’è‰²å…³è”çš„æƒé™---&gt;exclude["è§’è‰²äº’æ–¥ï¼šé¿å…åŒä¸€ç”¨æˆ·è·å¾—ç›¸æ–¥çš„è§’è‰²"]
æ‹¥æœ‰ä¸€ç»„ä¸å½“å‰è§’è‰²å…³è”çš„æƒé™---&gt;level["è§’è‰²åˆ†çº§ï¼Œä¸Šçº§æ‹¥æœ‰ä¸‹çº§æ‰€æœ‰æƒé™"]
level---&gt;manager["åˆ†å‘ç®¡ç†å‹åŠ›"]
manager---&gt;create["ä¸Šçº§è§’è‰²åˆ›å»ºä¸‹çº§è§’è‰²ã€åˆ†å‘ä¸‹çº§è§’è‰²æƒé™"]
manager---&gt;user["ä¸Šçº§ç”¨æˆ·åˆ›å»ºä¸‹çº§ç”¨æˆ·ã€åˆ†å‘ä¸‹çº§ç”¨æˆ·è§’è‰²"]
create---&gt;subclass["ä¸‹çº§æ˜¯ä¸Šçº§çš„å­é›†ï¼Œä¸‹çº§è§’è‰²ã€æƒé™ä¸èƒ½è¶…è¿‡ä¸Šçº§è§’è‰²ã€æƒé™"]
user----&gt;subclass
permission---&gt;permissionExtend["æ‰©å±•"]
permissionExtend---&gt;minPermission["æœ€å°æƒé™åŸåˆ™: åªåˆ†é…å·¥ä½œå¿…é¡»çš„æœ€å°æƒé™"]
permissionExtend---&gt;review["å®¡è®¡ç³»ç»Ÿ"]
</code></pre>
<hr/>
<p>è¦åœ¨ä»£ç ä¸­ç¨³å¥åœ°é€‚é…æƒé™ä½“ç³»ï¼Œé¿å…å› æ¼æ´å¯¼è‡´æƒé™å¼‚å¸¸ï¼Œå…³é”®åœ¨äºå°†å®‰å…¨æ€ç»´æ¸—é€åˆ°ä»å‰ç«¯åˆ°åç«¯ï¼Œå†åˆ°æ•°æ®å±‚çš„æ¯ä¸€ä¸ªç¯èŠ‚ï¼Œå¹¶éµå¾ªä¸¥æ ¼çš„å®‰å…¨ç¼–ç è§„èŒƒã€‚ä¸‹é¢æˆ‘å°†ä» <strong>æƒé™æ ¡éªŒçš„å®Œæ•´é“¾æ¡</strong> å’Œ <strong>å®‰å…¨ç¼–ç çš„æ ¸å¿ƒåŸåˆ™</strong> ä¸¤ä¸ªæ–¹é¢ï¼Œä¸ºæ‚¨æä¾›ä¸€ä¸ªè¯¦å®çš„æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-10">ğŸ”’ æ„å»ºå…¨æ–¹ä½çš„æƒé™æ ¡éªŒé“¾æ¡</h3>
<p>ä¸€ä¸ªå¥å£®çš„æƒé™ä½“ç³»éœ€è¦åœ¨ä¸‰ä¸ªå±‚é¢è¿›è¡Œæ ¡éªŒï¼Œå½¢æˆçºµæ·±é˜²å¾¡ã€‚</p>

























<table><thead><tr><th align="left">å±‚çº§</th><th align="left">æ ¸å¿ƒä»»åŠ¡</th><th align="left">å…³é”®å®ç°ç‚¹ä¸å¸¸è§æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td align="left"><strong>å‰ç«¯ç•Œé¢å±‚</strong></td><td align="left"><strong>æå‡ç”¨æˆ·ä½“éªŒ</strong>ï¼Œæ ¹æ®æƒé™åŠ¨æ€å±•ç¤ºæˆ–éšè—ç•Œé¢å…ƒç´ ï¼ˆèœå•ã€æŒ‰é’®ã€é¡µé¢ï¼‰ï¼Œå®ç° â€œå¯è§å³å¯æ“ä½œâ€ã€‚</td><td align="left">â€¢ <strong>ç»Ÿä¸€æƒé™é’©å­/å‡½æ•°</strong>ï¼šå°è£…æƒé™åˆ¤æ–­é€»è¾‘ï¼Œå¦‚å®šä¹‰ä¸€ä¸ª <code>usePermission(code)</code> çš„é’©å­ï¼Œåœ¨ç»„ä»¶ä¸­è°ƒç”¨ <code>const canEdit = usePermission('user:edit')</code>ï¼Œå†é€šè¿‡ <code>v-if</code> æˆ–æ¡ä»¶æ¸²æŸ“æ§åˆ¶å…ƒç´ ã€‚<br/>â€¢ <strong>è·¯ç”±å®ˆå«</strong>ï¼šåœ¨è¿›å…¥é¡µé¢å‰æ ¡éªŒç”¨æˆ·æ˜¯å¦æœ‰è¯¥é¡µé¢æƒé™ï¼Œæ— æƒé™åˆ™é‡å®šå‘åˆ° 403 é¡µé¢ã€‚<strong>æ³¨æ„ï¼šå‰ç«¯æ ¡éªŒä»…ä¸ºå‹å¥½æ€§è®¾è®¡ï¼Œä¸å¯ä¾èµ–ä¸ºå®‰å…¨å±éšœã€‚</strong></td></tr><tr><td align="left"><strong>åç«¯ API å±‚</strong></td><td align="left"><strong>æ ¸å¿ƒå®‰å…¨é˜²çº¿</strong>ï¼Œå¯¹æ¯ä¸€ä¸ª API è¯·æ±‚éƒ½å¿…é¡»è¿›è¡Œä¸¥æ ¼çš„æƒé™æ ¡éªŒã€‚</td><td align="left">â€¢ <strong>æ³¨è§£/è£…é¥°å™¨ï¼ˆæ¨èï¼‰</strong>ï¼šåœ¨ API å…¥å£æ–¹æ³•ä¸Šæ·»åŠ å¦‚ <code>@PreAuthorize("hasPermission('order', 'delete')")</code> çš„æ³¨è§£ï¼Œåˆ©ç”¨ AOP åœ¨æ–¹æ³•æ‰§è¡Œå‰è‡ªåŠ¨æ‹¦æˆªæ ¡éªŒã€‚<br/>â€¢ <strong>ä¸­é—´ä»¶/æ‹¦æˆªå™¨</strong>ï¼šå®šä¹‰å…¨å±€æƒé™æ‹¦æˆªå™¨ï¼Œå¯¹è¯·æ±‚è·¯å¾„è¿›è¡ŒåŒ¹é…å’Œé‰´æƒã€‚<br/>â€¢ <strong>æœåŠ¡å†…æ ¡éªŒ</strong>ï¼šåœ¨ä¸šåŠ¡æ–¹æ³•å†…éƒ¨æ˜¾å¼è°ƒç”¨æƒé™æœåŠ¡è¿›è¡Œæ ¡éªŒã€‚<strong>æ­¤å±‚æ ¡éªŒå¿…é¡»æ‰§è¡Œï¼Œé˜²æ­¢æ¶æ„ç»•è¿‡å‰ç«¯ç›´æ¥è°ƒç”¨ APIã€‚</strong></td></tr><tr><td align="left"><strong>æ•°æ®è®¿é—®å±‚</strong></td><td align="left"><strong>å®ç°æ•°æ®æƒé™</strong>ï¼Œæ§åˆ¶ç”¨æˆ·èƒ½è®¿é—®å“ªäº›æ•°æ®è®°å½•ï¼ˆè¡Œçº§ï¼‰æˆ–å­—æ®µï¼ˆåˆ—çº§ï¼‰ã€‚</td><td align="left">â€¢ <strong>SQL è‡ªåŠ¨æ³¨å…¥</strong>ï¼šåœ¨ ORM æ¡†æ¶æˆ– SQL ç”Ÿæˆé˜¶æ®µï¼Œè‡ªåŠ¨æ‹¼æ¥æ•°æ®è¿‡æ»¤æ¡ä»¶ï¼ˆå¦‚ <code>WHERE department_id = ?</code>ï¼‰ã€‚è¿™æ˜¯æœ€é«˜æ•ˆçš„æ–¹å¼ï¼Œé¿å…å…ˆæŸ¥å‡ºæ‰€æœ‰æ•°æ®å†åœ¨å†…å­˜ä¸­è¿‡æ»¤ã€‚<br/>â€¢ <strong>å­—æ®µæƒé™æ§åˆ¶</strong>ï¼šåœ¨è¿”å›æ•°æ®å‰ï¼Œæ ¹æ®è§„åˆ™å¯¹å®ä½“çš„ç‰¹å®šå­—æ®µè¿›è¡Œè„±æ•æˆ–è¿‡æ»¤ã€‚</td></tr></tbody></table>
<h3 data-id="heading-11">ï¸ éµå¾ªå®‰å…¨ç¼–ç æ ¸å¿ƒåŸåˆ™</h3>
<p>åœ¨ç¼–å†™æƒé™ç›¸å…³ä»£ç æ—¶ï¼Œè¯·æ—¶åˆ»ç‰¢è®°ä»¥ä¸‹å‡ é¡¹åŸºæœ¬åŸåˆ™ã€‚</p>
<ol>
<li>
<p><strong>æœ€å°æƒé™åŸåˆ™ (Principle of Least Privilege)</strong></p>
<p>è¿™æ˜¯æƒé™è®¾è®¡çš„é»„é‡‘æ³•åˆ™ã€‚åº”ç¡®ä¿åº”ç”¨ç¨‹åºçš„è¿è¡Œè´¦æˆ·ã€æ•°æ®åº“è¿æ¥è´¦æˆ·ä»¥åŠåˆ†é…ç»™ç”¨æˆ·çš„æƒé™ï¼Œéƒ½æ˜¯å…¶å®Œæˆæ“ä½œæ‰€å¿…éœ€çš„ <strong>æœ€å°æƒé™é›†åˆ</strong>ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªç”¨äºæŸ¥è¯¢çš„æŠ¥å‘ŠæœåŠ¡ï¼Œç»ä¸åº”è¢«æˆäºˆ<code>DELETE</code> æˆ– <code>ALTER</code> ç­‰é«˜å±æƒé™ã€‚</p>
</li>
<li>
<p><strong>è¾“å…¥éªŒè¯ä¸è¾“å‡ºç¼–ç </strong></p>
<ul>
<li>
<p><strong>æ°¸ä¸ä¿¡ä»»ç”¨æˆ·è¾“å…¥</strong>ï¼šæ‰€æœ‰æ¥è‡ªå®¢æˆ·ç«¯çš„å‚æ•°ï¼Œå¦‚ç”¨æˆ· IDã€èµ„æº IDï¼Œéƒ½å¿…é¡»ç»è¿‡ä¸¥æ ¼éªŒè¯ã€‚æ£€æŸ¥å…¶ç±»å‹ã€æ ¼å¼ã€é•¿åº¦å’ŒèŒƒå›´ï¼Œé˜²æ­¢ SQL æ³¨å…¥æˆ–è¶Šæƒæ”»å‡»ã€‚<strong>ä¼˜å…ˆä½¿ç”¨ç™½åå•éªŒè¯</strong>ï¼Œåªå…è®¸å·²çŸ¥å®‰å…¨çš„è¾“å…¥ã€‚</p>
</li>
<li>
<p><strong>å®‰å…¨åœ°å¤„ç†è¾“å‡º</strong>ï¼šå°†æ•°æ®è¾“å‡ºåˆ°å‰ç«¯æ—¶ï¼Œè¦æ ¹æ®ä¸Šä¸‹æ–‡ï¼ˆHTML, SQL, JavaScriptï¼‰è¿›è¡Œç¼–ç ï¼Œé˜²æ­¢ XSS æ”»å‡»ã€‚ä¾‹å¦‚ï¼Œå°† <code>&lt;</code> ç¼–ç ä¸º <code>&amp;lt;</code>ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>é»˜è®¤æ‹’ç»ä¸é”™è¯¯å¤„ç†</strong></p>
<ul>
<li>
<p>æƒé™æ£€æŸ¥é€»è¾‘åº”é‡‡ç”¨ <strong>é»˜è®¤æ‹’ç»</strong> ç­–ç•¥ã€‚å³ï¼Œå½“æƒé™è§„åˆ™æ— æ³•æ˜ç¡®å…è®¸æ—¶ï¼Œåº”ç›´æ¥æ‹’ç»è¯·æ±‚ã€‚</p>
</li>
<li>
<p><strong>é”™è¯¯å¤„ç†è¦è°¨æ…</strong>ï¼šå‘ç”¨æˆ·è¿”å›é€šç”¨çš„é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚ â€œæ“ä½œå¤±è´¥â€ï¼‰ï¼Œè€Œ <strong>ä¸è¦æ³„éœ²è¯¦ç»†çš„ç³»ç»Ÿé”™è¯¯å †æ ˆã€SQLè¯­å¥æˆ–æ–‡ä»¶è·¯å¾„</strong>ï¼Œä»¥å…ä¸ºæ”»å‡»è€…æä¾›çº¿ç´¢ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>ç®¡ç†ä¾èµ–ä¸å®‰å…¨æ›´æ–°</strong></p>
<p>åŠæ—¶æ›´æ–°é¡¹ç›®ä¸­ç”¨äºæƒé™ç®¡ç†æˆ–å®‰å…¨ç›¸å…³çš„ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ Spring Securityã€Shiroï¼Œæˆ–ä¸“é—¨çš„æˆæƒæœåŠ¡å¦‚ Permifyï¼‰ï¼Œä»¥é¿å…ä½¿ç”¨å«æœ‰å·²çŸ¥æ¼æ´çš„æ—§ç‰ˆæœ¬ã€‚</p>
</li>
</ol>
<h3 data-id="heading-12">âš ï¸ é‡ç‚¹è§„é¿çš„å¸¸è§é™·é˜±</h3>
<ul>
<li>
<p><strong>è¶Šæƒæ¼æ´</strong>ï¼šè¿™æ˜¯æœ€å±é™©çš„æ¼æ´ä¹‹ä¸€ï¼ŒåŒ…æ‹¬ <strong>æ°´å¹³è¶Šæƒ</strong>ï¼ˆèƒ½æ“ä½œä¸å±äºè‡ªå·±çš„æ•°æ®ï¼Œå¦‚ç”¨æˆ· A èƒ½ä¿®æ”¹ç”¨æˆ· B çš„æ•°æ®ï¼‰å’Œ <strong>å‚ç›´è¶Šæƒ</strong>ï¼ˆä½æƒé™ç”¨æˆ·èƒ½æ‰§è¡Œé«˜æƒé™æ“ä½œï¼‰ã€‚é˜²èŒƒçš„å…³é”®åœ¨äºï¼ŒAPI ä¸­ä¸ä»…è¦æ ¡éªŒç”¨æˆ·æ˜¯å¦æœ‰æ“ä½œæƒé™ï¼Œè¿˜å¿…é¡»æ ¡éªŒå½“å‰æ“ä½œçš„æ•°æ® ID æ˜¯å¦å±äºè¯¥ç”¨æˆ·æˆæƒçš„æ•°æ®èŒƒå›´ã€‚</p>
</li>
<li>
<p><strong>å‰ç«¯æƒé™å¹»è§‰</strong>ï¼šç»ä¸èƒ½ä»…ä¾èµ–å‰ç«¯éšè—æŒ‰é’®æ¥æ§åˆ¶æƒé™ã€‚æ¶æ„ç”¨æˆ·å®Œå…¨å¯ä»¥è·³è¿‡é¡µé¢ç›´æ¥è°ƒç”¨APIï¼Œå› æ­¤ <strong>åç«¯å¿…é¡»å¯¹æ¯ä¸ªè¯·æ±‚è¿›è¡ŒäºŒæ¬¡æ ¡éªŒ</strong>ã€‚</p>
</li>
<li>
<p><strong>æ€§èƒ½ç“¶é¢ˆ</strong>ï¼šæƒé™æ ¡éªŒæ˜¯é«˜é¢‘æ“ä½œï¼Œè¦é¿å…æ¯æ¬¡è¯·æ±‚éƒ½æ‰§è¡Œå¤æ‚çš„æ•°æ®åº“å…³è”æŸ¥è¯¢ã€‚è§£å†³æ–¹æ¡ˆæ˜¯å°†ç”¨æˆ·çš„æƒé™åˆ—è¡¨ç¼“å­˜åœ¨ Redis ç­‰é«˜æ€§èƒ½ç¼“å­˜ä¸­ï¼Œæƒé™å˜æ›´æ—¶åˆ·æ–°ç¼“å­˜å³å¯ã€‚</p>
</li>
</ul>
<h3 data-id="heading-13">ğŸ’ æ€»ç»“ä¸æ£€æŸ¥æ¸…å•</h3>
<p>ä¸ºäº†å¸®åŠ©æ‚¨åœ¨å¼€å‘è¿‡ç¨‹ä¸­è‡ªæŸ¥ï¼Œå¯ä»¥å¯¹ç…§ä»¥ä¸‹æ¸…å•ï¼š</p>





















<table><thead><tr><th align="left">é˜¶æ®µ</th><th align="left">æ£€æŸ¥é¡¹</th></tr></thead><tbody><tr><td align="left"><strong>è®¾è®¡é˜¶æ®µ</strong></td><td align="left">â–¡ æ˜¯å¦éµå¾ªäº†æœ€å°æƒé™åŸåˆ™ï¼Ÿ<br/>â–¡ æ˜¯å¦æ˜ç¡®äº†æ•°æ®æƒé™çš„è§„åˆ™ï¼ˆå¦‚åŸºäºéƒ¨é—¨ã€åŸºäºç”¨æˆ·ï¼‰ï¼Ÿ</td></tr><tr><td align="left"><strong>ç¼–ç é˜¶æ®µ</strong></td><td align="left">â–¡ <strong>æ¯ä¸ª API</strong> æ˜¯å¦éƒ½è¿›è¡Œäº†æƒé™æ ¡éªŒï¼Ÿ<br/>â–¡ æ“ä½œæ•°æ®æ—¶ï¼Œæ˜¯å¦æ ¡éªŒäº†ç”¨æˆ·ä¸æ•°æ®é¡¹çš„å½’å±å…³ç³»ï¼Ÿ<br/>â–¡ æ˜¯å¦å¯¹æ‰€æœ‰ç”¨æˆ·è¾“å…¥è¿›è¡Œäº†éªŒè¯ï¼Ÿ<br/>â–¡ é”™è¯¯ä¿¡æ¯æ˜¯å¦é¿å…äº†æ•æ„Ÿä¿¡æ¯æ³„éœ²ï¼Ÿ</td></tr><tr><td align="left"><strong>æµ‹è¯•é˜¶æ®µ</strong></td><td align="left">â–¡ æ˜¯å¦è¿›è¡Œäº†è¶Šæƒæµ‹è¯•ï¼ˆå°è¯•ç”¨ä¸åŒè´¦å·æ“ä½œä»–äººæ•°æ®ï¼‰ï¼Ÿ<br/>â–¡ æ˜¯å¦æµ‹è¯•äº†æ— æƒé™ã€éƒ¨åˆ†æƒé™ã€å…¨éƒ¨æƒé™ç­‰å„ç§åœºæ™¯ï¼Ÿ</td></tr></tbody></table>
<p>æœ€åï¼Œæƒé™å®‰å…¨æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ã€‚å»ºè®®å¼•å…¥ <strong>å®‰å…¨ä»£ç æ‰«æå·¥å…·</strong>ï¼ˆSASTï¼‰è¿›è¡Œé™æ€æ£€æŸ¥ï¼Œå¹¶å»ºç«‹å®Œå–„çš„ <strong>æ“ä½œå®¡è®¡æ—¥å¿—</strong>ï¼Œè®°å½•æ‰€æœ‰å…³é”®çš„æƒé™å˜æ›´å’Œæ•æ„Ÿæ“ä½œï¼Œä»¥ä¾¿äº‹åè¿½æº¯å’Œåˆ†æã€‚</p>
<p>å¸Œæœ›è¿™ä»½è¯¦ç»†çš„æŒ‡å—èƒ½å¸®åŠ©æ‚¨åœ¨ä»£ç ä¸­æ„å»ºä¸€ä¸ªåšå›ºçš„æƒé™é˜²æŠ¤ä½“ç³»ã€‚</p>
<h2 data-id="heading-14">æ–‡ä»¶æœåŠ¡è®¾è®¡</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB;
æ–‡ä»¶æœåŠ¡è®¾è®¡---&gt;æ–‡ä»¶æœåŠ¡---&gt;COS
COS---&gt;COSApi["COS API"]
COS---&gt;ç›®å½•åˆ†ç±»
ç›®å½•åˆ†ç±»---&gt;ä¸´æ—¶æ–‡ä»¶---&gt;è¿‡æœŸåˆ é™¤
ç›®å½•åˆ†ç±»---&gt;éé«˜é¢‘è®¿é—®æ–‡ä»¶---&gt;å®šæ—¶å½’æ¡£
æ–‡ä»¶æœåŠ¡---&gt;assertCOS["æŠ½è±¡å¯¹ COS çš„è®¿é—®"]
assertCOS---&gt;logic["åœ¨ COS ç›®å½•ç»“æ„ä¸ŠæŠ½è±¡é€»è¾‘ä¸Šçš„ç»“æ„"]
logic---&gt;basic["åŸºç¡€ç»“æ„: æ–‡ä»¶ IDã€æ–‡ä»¶ä¸šåŠ¡ç±»å‹ï¼ˆä¾æ®æ­¤å­—æ®µé€‰æ‹© COS ç›®å½•ï¼‰ã€æ–‡ä»¶åç§°ã€åˆ›å»ºæ—¶é—´ã€æ›´æ–°æ—¶é—´ã€è¿‡æœŸæ—¶é—´ã€COS å¼•ç”¨ï¼ˆURLï¼‰"]
basic---&gt;è¿‡æœŸæ ‡è®°åˆ é™¤
assertCOS---&gt;fileServiceAPI["æä¾› API"]
logic---&gt;extendStructure["æ‰©å±•ç»“æ„ï¼šæŒ‰ç”¨æˆ·ã€å¹³å°ç­‰ç»´åº¦åˆ†å±‚ï¼ˆé€»è¾‘ç›®å½•ï¼‰"]
fileServiceAPI---&gt;åç«¯æ¥å…¥
åç«¯æ¥å…¥---&gt;æ–‡ä»¶ä¸Šä¼ 
æ–‡ä»¶ä¸Šä¼ ---&gt;tempUploadURL["åŠ¨æ€ç”Ÿæˆä¸´æ—¶ä¸Šä¼  URLï¼ˆCOS ä¾§ï¼‰ï¼ŒæŒ‡å®šæ—¶é—´å†…æœ‰æ•ˆ"]
tempUploadURL---&gt;frontURL["å‰ç«¯ç›´æ¥è®¿é—®æ­¤ URL ä¸Šä¼ æ–‡ä»¶ï¼ˆè¿‡æœŸåˆ·æ–°ï¼‰"]
frontURL---&gt;invokeFileService["è°ƒç”¨ API å­˜å…¥æ–‡ä»¶æœåŠ¡å™¨"]---&gt;fileID["å­˜å‚¨æ–‡ä»¶ ID"]
åç«¯æ¥å…¥---&gt;download["æ–‡ä»¶ä¸‹è½½ã€è®¿é—®"]
download---&gt;viewFileID["æ£€ç´¢æ–‡ä»¶ ID"]
viewFileID---&gt;å­˜åœ¨---&gt;cosTempURL["COS API ç”Ÿæˆä¸´æ—¶æ–‡ä»¶ URL"]
viewFileID---&gt;ä¸å­˜åœ¨æˆ–æ ‡è®°åˆ é™¤---&gt;removed["æç¤ºä¸å­˜åœ¨æˆ–å·²è¢«åˆ é™¤"]
viewFileID---&gt;å·²è¢«å½’æ¡£---&gt;ç”¨æˆ·æ‰‹åŠ¨è§£å†»
å·²è¢«å½’æ¡£---&gt;è‡ªåŠ¨è§£å†»
æ–‡ä»¶æœåŠ¡---&gt;æ‰©å±•
æ‰©å±•---&gt;é‰´æƒ
æ‰©å±•---&gt;é˜²ç›—é“¾
æ‰©å±•---&gt;ç§’ä¼ ---&gt;fastUpload["è®¡ç®—æ–‡ä»¶ MD5 å¯¹æ¯”æ–‡ä»¶"]
æ‰©å±•---&gt;åˆ é™¤ç­–ç•¥---&gt;å®šæ—¶è¿è¡Œ---&gt;noMap["COS æ–‡ä»¶æ— å¯¹åº”æ–‡ä»¶æœåŠ¡å®ä½“æˆ–è¢«æ ‡è®°åˆ é™¤åˆ™åˆ é™¤"]
åˆ é™¤ç­–ç•¥---&gt;å»¶è¿Ÿæ¿€æ´»---&gt;waitActive["æ–‡ä»¶æœåŠ¡å­˜å‚¨æˆåŠŸæ—¶çŠ¶æ€è®¾ç½®ä¸ºå¾…å¯ç”¨ï¼Œåç«¯ä¸šåŠ¡æˆåŠŸæ—¶åˆ·æ–°æ–‡ä»¶çŠ¶æ€ä¸ºå·²å¯ç”¨ï¼Œå¦åˆ™è¶…æ—¶åˆ é™¤"]
</code></pre>
<h2 data-id="heading-15">ç¼“å­˜è®¾è®¡</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB;
ç¼“å­˜è®¾è®¡---&gt;æŒä¹…ç¼“å­˜
æŒä¹…ç¼“å­˜---&gt;localStorage["ç”¨æˆ·æœ¬åœ°é…ç½®ï¼ˆä¸»é¢˜ã€è¯­è¨€ç­‰ï¼‰"]
localStorage---&gt;ç”¨æˆ·åŠ¨ä½œè§¦å‘æ›´æ–°
ç¼“å­˜è®¾è®¡---&gt;ä¸´æ—¶ç¼“å­˜
ä¸´æ—¶ç¼“å­˜---&gt;userToken["ç”¨æˆ· tokenã€è´¦å·ç»‘å®šé…ç½®ç­‰"]
userToken---&gt;ç”Ÿå‘½å‘¨æœŸå†…å­˜åœ¨
ç”Ÿå‘½å‘¨æœŸå†…å­˜åœ¨---&gt;æ¨é€æ›´æ–°
ç¼“å­˜è®¾è®¡---&gt;ç­–ç•¥ç¼“å­˜
ç­–ç•¥ç¼“å­˜---&gt;fallback["IndexDB ä¼˜å…ˆï¼Œå›é€€ localStorage"]
fallback---&gt;normalize["æŠ½è±¡åº•å±‚ï¼Œç»Ÿä¸€æ¥å£"]
ç­–ç•¥ç¼“å­˜---&gt;maxSize["å®šä¹‰æœ€å¤§å€¼: localStorageã€IndexDB ä¸åŒ"]
maxSize---&gt;watchTime["ç»†åˆ†å­˜å‚¨æ¨¡å—ï¼Œå­˜å‚¨è®¿é—®æ—¶é—´ã€è®¿é—®æ¬¡æ•°ã€æ•°æ®å¤§å°"]
watchTime---&gt;ç­–ç•¥åˆ é™¤
ç­–ç•¥åˆ é™¤---&gt;threshold["å®šä¹‰é˜ˆå€¼ï¼š80%"]
ç­–ç•¥åˆ é™¤---&gt;clear["æ¸…ç†ç­–ç•¥: è®¡ç®—ç¼“å­˜æœ€è¿‘è®¿é—®ç‡ï¼Œå°†è®¿é—®ç‡ä½çš„åˆ é™¤ (LRU æœ€è¿‘æœ€å°‘è®¿é—®)"]
watchTime---&gt;ç­–ç•¥è®¿é—®
ç­–ç•¥è®¿é—®---&gt;look["å†…å­˜ç¼“å­˜ &gt; æœ¬åœ°ç¼“å­˜ &gt; cdn ç¼“å­˜ &gt; å…œåº•æ¥å£"]
look---&gt;cache["åˆ·æ–°æœ¬åœ°ç¼“å­˜ï¼Œç¼“å­˜ç©ºé—´ä¸è¶³æ—¶å­˜å†…å­˜ä¸­ï¼Œå¹¶æ‰§è¡Œç­–ç•¥åˆ é™¤"]
ç­–ç•¥ç¼“å­˜---&gt;æ‰©å±•
æ‰©å±•---&gt;åˆ›å»ºæ—¶é—´ä¸è¿‡æœŸæ—¶é—´å®šä¹‰
æ‰©å±•---&gt;compress["æ•°æ®å‹ç¼©ï¼šlz-string"]
æ‰©å±•---&gt;version["Schema å‡çº§ï¼šç¼“å­˜ç»“æ„è®¾è®¡ï¼Œå®šä¹‰ç¼“å­˜ç‰ˆæœ¬ï¼Œæ¸…ç†æ—§ç‰ˆæœ¬"]
æ‰©å±•---&gt;äºŒçº§ç¼“å­˜åˆ·æ–°["è®¿é—®æ—¶ï¼Œå‘èµ·ä¸€ä¸ª head è¯·æ±‚åˆ¤æ–­æ•°æ®æ˜¯å¦æ›´æ–°"]
</code></pre>
<h2 data-id="heading-16">ç™»å½•é‰´æƒè®¾è®¡</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB;
ç™»å½•é‰´æƒè®¾è®¡---&gt;ç”¨æˆ·ç™»å½•
ç”¨æˆ·ç™»å½•---&gt;cache["ç¼“å­˜ tokenã€refreshToken"]
ç™»å½•é‰´æƒè®¾è®¡---&gt;é€€å‡ºç™»å½•
é€€å‡ºç™»å½•---&gt;logout["è°ƒç”¨æ¥å£ï¼Œtokenã€refreshToken å¤±æ•ˆ"]
cache---&gt;æ™®é€šæ¥å£å“åº”
cache---&gt;tokenTime["Token æœ‰æ•ˆæœŸè¾ƒçŸ­ï¼ˆåˆ†é’Ÿæˆ–å°æ—¶è®¡ï¼‰ã€RefreshToken æœ‰æ•ˆæœŸè¾ƒé•¿ï¼ˆå¤©è®¡ï¼‰"]
tokenTime---&gt;å®‰å…¨å­˜å‚¨
å®‰å…¨å­˜å‚¨---&gt;tokenStore["Token å­˜å†…å­˜"]
å®‰å…¨å­˜å‚¨---&gt;refreshTokenStore["Refresh Token å­˜ Cookie å¹¶è®¾ç½® httpOnly é™åˆ¶ä¿®æ”¹"]
æ™®é€šæ¥å£å“åº”---&gt;401
401---&gt;refresh["è°ƒç”¨ refresh æ¥å£"]
refresh---&gt;success["åˆ·æ–° Token ä¸ RefreshTokenï¼Œå›å¡«ç¼“å­˜"]
success---&gt;restart["ä½¿ç”¨æ–°çš„ token ç»§ç»­ä¸Šæ¬¡å¤±è´¥è¯·æ±‚"]
refresh---&gt;error["éæ­£å¸¸å“åº”çŠ¶æ€ç ï¼Œå¼ºåˆ¶é‡æ–°ç™»å½•ã€æ¸…ç†ç”¨æˆ·ç¼“å­˜"]
error---&gt;reback["åå°ï¼šé‡æ–°ç™»å½•åå›è·³é€€å‡ºå‰é¡µé¢"]
restart---&gt;æ‰©å±•
reback----&gt;æ‰©å±•
æ‰©å±•---&gt;singleLogin["é¢„ç•™æ¥å£å®ç°å•ç‚¹ç™»å½•ã€é»‘åå•ç­‰"]
æ‰©å±•---&gt;sign["ç»‘å®šæµè§ˆå™¨æŒ‡çº¹ã€è®¾å¤‡æŒ‡çº¹ï¼Œä¸åŒæ—¶ Tokenã€Refresh Token é»˜è®¤å¤±æ•ˆ"]
</code></pre>
<h2 data-id="heading-17">æ¶ˆæ¯é€šçŸ¥è®¾è®¡</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB;
æ¶ˆæ¯é€šçŸ¥è®¾è®¡---&gt;ç«™å†…é€šçŸ¥
æ¶ˆæ¯é€šçŸ¥è®¾è®¡---&gt;systemNotify["APP ç³»ç»Ÿé€šçŸ¥"]
ç«™å†…é€šçŸ¥---&gt;åå°---&gt;notifyType["é€šçŸ¥ç±»å‹ï¼ˆæ¥å£è®¾è®¡æ—¶è€ƒè™‘å¯æ‰©å±•æ€§ä¾¿äºæ¥å…¥é€šçŸ¥æ¥å£ï¼‰"]
ç«™å†…é€šçŸ¥--&gt;APP---&gt;notifyType
systemNotify---&gt;é€šçŸ¥æƒé™å¤„ç†
systemNotify---&gt;é€šçŸ¥ç±»å‹ç»†åˆ†
é€šçŸ¥ç±»å‹ç»†åˆ†---&gt;å…è®¸é’ˆå¯¹éƒ¨åˆ†åœºæ™¯é€šçŸ¥å…³é—­
é€šçŸ¥ç±»å‹ç»†åˆ†---&gt;notifyType
notifyType---&gt;ç³»ç»Ÿç¨‹åºé€šçŸ¥---&gt;pargam["è¯­éŸ³åŒ…æ›´æ–°ç­‰ç”¨æˆ·æ— æ„ŸçŸ¥é€šçŸ¥"]
notifyType---&gt;è¥é”€é€šçŸ¥---&gt;extendMarketing["æ‰©å±•ï¼šåå°å¯é…ç½®é€šçŸ¥ã€åˆ†æµæ¨é€"]
notifyType---&gt;æ™®é€šé€šçŸ¥---&gt;éå³æ—¶åé¦ˆé€šçŸ¥
notifyType---ç´§æ€¥é€šçŸ¥---&gt;urgentNotify["å³æ—¶åé¦ˆé€šçŸ¥ï¼šç³»ç»Ÿæ›´æ–°ã€ç³»ç»Ÿå…¬å‘Šã€æ–°å·¥å•ã€å·¥å•å›å¤ã€å¼‚æ­¥ä»»åŠ¡çŠ¶æ€å˜æ›´"]
urgentNotify---&gt;notifyMode["å¼¹çª—ã€å³ä¸‹è§’æµ®çª—"]
pargam---&gt;implete["é€šçŸ¥å®ç°ï¼šé€šçŸ¥ã€å·²è¯»æœªè¯»è®¡æ•°ã€é“¾æ¥è·³è½¬ã€é€šçŸ¥ ID é¿å…é‡å¤æ¨é€ã€é€šçŸ¥æ¸…ç†"]
extendMarketing---&gt;implete
éå³æ—¶åé¦ˆé€šçŸ¥---&gt;implete
urgentNotify---&gt;implete
implete---&gt;æ¥å…¥å›½é™…åŒ–ä¸æ—¶åŒº
æ¥å…¥å›½é™…åŒ–ä¸æ—¶åŒº---&gt;question["é—®é¢˜ï¼šæœåŠ¡å™¨ä¸»åŠ¨æ¨é€ã€ç”¨æˆ·ç¦»çº¿æƒ…å†µä¸‹å¦‚ä½•å¾—çŸ¥ç”¨æˆ·æœ¬åœ°è¯­è¨€ç¯å¢ƒã€APP ç³»ç»Ÿé€šçŸ¥æ¨é€æ—¶æ®µ"]
</code></pre>
<hr/>
<p>ä½ çš„æ¶ˆæ¯é€šçŸ¥è®¾è®¡æ¡†æ¶å·²è¦†ç›–åŸºç¡€åŠŸèƒ½åˆ†ç±»å’Œå®ç°é€»è¾‘ï¼Œä½†åœ¨ç”¨æˆ·ä½“éªŒã€æŠ€æœ¯é€‚é…å’Œå•†ä¸šåŒ–å¹³è¡¡ä¸Šå­˜åœ¨æ˜æ˜¾ä¼˜åŒ–ç©ºé—´ã€‚å¯¹æ¯”å–œé©¬æ‹‰é›…çš„äº¿çº§æ¨é€æ¶æ„ä¸å¾®ä¿¡è®¢é˜…æ¶ˆæ¯çš„åˆè§„å®è·µï¼Œå½“å‰æ–¹æ¡ˆç¼ºä¹åˆ†çº§æ¨é€æœºåˆ¶ã€ç¦»çº¿é€è¾¾ä¿éšœå’Œç²¾ç»†åŒ–ç”¨æˆ·æ§åˆ¶èƒ½åŠ›ï¼Œè¿™å¯èƒ½å¯¼è‡´é«˜ä¼˜å…ˆçº§æ¶ˆæ¯è¢«æ·¹æ²¡æˆ–ç”¨æˆ·å› éªšæ‰°å…³é—­é€šçŸ¥æƒé™ã€‚</p>
<h3 data-id="heading-18">æ ¸å¿ƒä¼˜åŒ–æ–¹å‘</h3>
<h4 data-id="heading-19">1. <strong>åˆ†çº§æ¨é€ç³»ç»Ÿï¼šä»"ä¸€åˆ€åˆ‡"åˆ°ä¼˜å…ˆçº§è°ƒåº¦</strong></h4>
<p>ç°æœ‰è®¾è®¡å°†é€šçŸ¥ç®€å•åˆ†ä¸º "ç´§æ€¥/æ™®é€š/è¥é”€"ï¼Œä½†æœªè§£å†³èµ„æºç«äº‰é—®é¢˜ã€‚å–œé©¬æ‹‰é›…é€šè¿‡ <strong>Kafkaå¤šTopicä¼˜å…ˆçº§é˜Ÿåˆ—</strong> å®ç°æ¶ˆæ¯æ’é˜Ÿæœºåˆ¶ï¼Œé«˜ä¼˜å…ˆçº§æ¶ˆæ¯ï¼ˆå¦‚å·¥å•å›å¤ï¼‰å¯é€šè¿‡æƒé‡åˆ†é…è·å¾—æ›´å¤šå¤„ç†èµ„æºï¼Œé¿å…è¢«ä½ä¼˜å…ˆçº§è¥é”€æ¶ˆæ¯é˜»å¡ã€‚å»ºè®®ï¼š</p>
<ul>
<li>
<p><strong>å»ºç«‹å››çº§ä¼˜å…ˆçº§ä½“ç³»</strong>ï¼šç³»ç»Ÿçº§ï¼ˆå¦‚è´¦å·å®‰å…¨ï¼‰ã€ä¸šåŠ¡å…³é”®ï¼ˆå¦‚æ–°å·¥å•ï¼‰ã€äº¤äº’åé¦ˆï¼ˆå¦‚è¯„è®ºå›å¤ï¼‰ã€è¥é”€å†…å®¹ï¼ˆå¦‚æ´»åŠ¨æ¨å¹¿ï¼‰ï¼Œå¯¹åº”ä¸åŒæ¨é€é€šé“å’Œå±•ç¤ºæ–¹å¼</p>
</li>
<li>
<p><strong>åŠ¨æ€æµé‡æ§åˆ¶</strong>ï¼šå‚è€ƒ"ç”¨æˆ·æ—¥æ¥æ”¶é˜ˆå€¼+æ¶ˆæ¯çº§åˆ«"åŒé‡è¿‡æ»¤ï¼Œå½“ç”¨æˆ·å•æ—¥æ¥æ”¶è¶…è¿‡ 10 æ¡é€šçŸ¥åï¼Œä»…ä¿ç•™å‰ä¸¤çº§æ¶ˆæ¯</p>
</li>
<li>
<p><strong>åœºæ™¯åŒ–å±•ç¤ºç­–ç•¥</strong>ï¼šç´§æ€¥é€šçŸ¥é‡‡ç”¨å…¨å±å¼¹çª—ï¼ˆéœ€ç”¨æˆ·ç¡®è®¤ï¼‰ï¼Œæ™®é€šé€šçŸ¥ä½¿ç”¨æ‚¬æµ®çª—ï¼ˆ3 ç§’è‡ªåŠ¨æ¶ˆå¤±ï¼‰ï¼Œè¥é”€å†…å®¹ä»…åœ¨é€šçŸ¥ä¸­å¿ƒå±•ç¤º</p>
</li>
</ul>
<h4 data-id="heading-20">2. <strong>ç¦»çº¿æ¨é€æ¶æ„ï¼šè·¨å¹³å°é€è¾¾ä¿éšœ</strong></h4>
<p>å½“å‰æ–¹æ¡ˆæœªè§£å†³ "ç”¨æˆ·ç¦»çº¿æ—¶å¦‚ä½•æ¨é€" çš„å…³é”®é—®é¢˜ã€‚Android ç³»ç»Ÿå¯¹è‡ªå¯é™åˆ¶è¶‹ä¸¥ï¼Œè‡ªå»ºä¿æ´»é€šé“å·²å¤±æ•ˆï¼Œéœ€æ¥å…¥å‚å•†çº§æ¨é€æœåŠ¡ï¼š</p>
<ul>
<li>
<p><strong>å›½å†…åœºæ™¯</strong>ï¼šé›†æˆå°ç±³ MIUI æ¨é€ã€åä¸º HMSã€OPPO Push ç­‰å‚å•†é€šé“ï¼Œç”¨æˆ·ç¦»çº¿æ—¶é€šè¿‡ç³»ç»Ÿçº§è¿›ç¨‹å”¤é†’åº”ç”¨</p>
</li>
<li>
<p><strong>æµ·å¤–åœºæ™¯</strong>ï¼šå¯¹æ¥è°·æ­Œ FCM æœåŠ¡ï¼Œéœ€æ³¨æ„è®¾å¤‡éœ€å®‰è£… GMS æ¡†æ¶ä¸”è¿æ¥æµ·å¤–ç½‘ç»œçš„é™åˆ¶</p>
</li>
<li>
<p><strong>è®¾å¤‡çŠ¶æ€åŒæ­¥</strong>ï¼šAPP å¯åŠ¨æ—¶ä¸ŠæŠ¥ uid/deviceId ä¸æ¨é€ token çš„ç»‘å®šå…³ç³»ï¼Œé€šè¿‡ Kafka å®æ—¶æ›´æ–°è®¾å¤‡çŠ¶æ€ï¼Œç¡®ä¿å¸è½½é‡è£…å token è‡ªåŠ¨åˆ·æ–°</p>
</li>
</ul>
<h4 data-id="heading-21">3. <strong>å›½é™…åŒ–ä¸æœ¬åœ°åŒ–ï¼šçªç ´è¯­è¨€ä¸æ—¶åŒºé™åˆ¶</strong></h4>
<p>é’ˆå¯¹ "ç¦»çº¿ç”¨æˆ·è¯­è¨€ç¯å¢ƒè·å–" çš„é—®é¢˜ï¼Œå¯é‡‡ç”¨ä¸‰çº§è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>
<p><strong>é¢„å­˜å‚¨è¯­è¨€åå¥½</strong>ï¼šç”¨æˆ·åœ¨çº¿æ—¶è®°å½•å…¶è¯­è¨€è®¾ç½®ï¼ˆå¦‚ zh-CN/en-USï¼‰å’Œæ—¶åŒºä¿¡æ¯ï¼Œå­˜å‚¨äºç”¨æˆ·ç”»åƒæ•°æ®åº“</p>
</li>
<li>
<p><strong>ç«¯ä¾§ç¿»è¯‘ç¼“å­˜</strong>ï¼šå…³é”®é€šçŸ¥æ¨¡æ¿ï¼ˆå¦‚ç³»ç»Ÿå…¬å‘Šï¼‰é¢„ç¼–è¯‘å¤šè¯­è¨€ç‰ˆæœ¬ï¼Œæ¨é€æ—¶é™„å¸¦è¯­è¨€æ ‡ç­¾ï¼Œå®¢æˆ·ç«¯æ ¹æ®æœ¬åœ°è®¾ç½®å±•ç¤ºå¯¹åº”ç‰ˆæœ¬</p>
</li>
<li>
<p><strong>ç¦»çº¿ç¿»è¯‘æœåŠ¡</strong>ï¼šéƒ¨ç½² LibreTranslate æœ¬åœ°åŒ–æœåŠ¡ï¼Œå½“ç”¨æˆ·è¯­è¨€è®¾ç½®å˜æ›´æ—¶ï¼Œé€šè¿‡ API åŠ¨æ€ç¿»è¯‘å†å²é€šçŸ¥å†…å®¹ï¼Œæ”¯æŒ 15 ç§ä»¥ä¸Šè¯­è¨€äº’è¯‘</p>
</li>
</ul>
<h4 data-id="heading-22">4. <strong>ç”¨æˆ·æ§åˆ¶ä½“ç³»ï¼šä»è¢«åŠ¨æ¥æ”¶è½¬å‘ä¸»åŠ¨ç®¡ç†</strong></h4>
<p>å‚è€ƒå¾®ä¿¡è®¢é˜…æ¶ˆæ¯çš„æ•™è®­ï¼ˆä»æ¨¡æ¿æ¶ˆæ¯å¼ºåˆ¶åˆ‡æ¢å¯¼è‡´å¼€å‘è€…å¼ºçƒˆåå¼¹ï¼‰ï¼Œéœ€å¹³è¡¡ä¸šåŠ¡è§¦è¾¾ä¸ç”¨æˆ·ä½“éªŒï¼š</p>
<ul>
<li>
<p><strong>ç²¾ç»†åŒ–å¼€å…³è®¾è®¡</strong>ï¼šæä¾›"å…¨ç±»å‹-åˆ†ç±»-å•ä¸šåŠ¡"ä¸‰çº§æ§åˆ¶ï¼Œç”¨æˆ·å¯å…³é—­è¥é”€ç±»ä½†ä¿ç•™å·¥å•é€šçŸ¥ï¼Œæˆ–è®¾ç½® "å·¥ä½œæ—¥ 9:00-18:00 å…æ‰“æ‰°"</p>
</li>
<li>
<p><strong>æ™ºèƒ½é™é»˜æœºåˆ¶</strong>ï¼šåˆ†æç”¨æˆ·æ´»è·ƒæ—¶æ®µï¼ˆå¦‚å¤œé—´ 11 ç‚¹è‡³å‡Œæ™¨ 7 ç‚¹ï¼‰ï¼Œè‡ªåŠ¨å»¶è¿Ÿéç´§æ€¥é€šçŸ¥è‡³æ´»è·ƒæ—¶æ®µæ¨é€</p>
</li>
<li>
<p><strong>è®¢é˜…å¼è¥é”€</strong>ï¼šå€Ÿé‰´å¾®ä¿¡ "ä¸€æ¬¡æ€§è®¢é˜…" æ¨¡å¼ï¼Œè¥é”€é€šçŸ¥éœ€ç”¨æˆ·ä¸»åŠ¨ç‚¹å‡»è®¢é˜…å¡ç‰‡åæ‰èƒ½å‘é€ï¼Œä¸”æ¯ 30 å¤©éœ€é‡æ–°æˆæƒ</p>
</li>
</ul>
<h3 data-id="heading-23">æŠ€æœ¯å®ç°å…³é”®ç‚¹</h3>
<ul>
<li>
<p><strong>æ¨é€é˜Ÿåˆ—ä¼˜åŒ–</strong>ï¼šç”¨ Kafka æ›¿ä»£ RabbitMQï¼Œé€šè¿‡ topic ä¼˜å…ˆçº§ï¼ˆå¦‚ priority-high/priority-lowï¼‰å’Œæƒé‡æ‹‰å–ï¼ˆé«˜ä¼˜å…ˆçº§æ¯æ¬¡æ‹‰å– 2 å€æ¶ˆæ¯é‡ï¼‰å®ç°åŠ¨æ€è°ƒåº¦</p>
</li>
<li>
<p><strong>é¢‘æ§å­˜å‚¨æ–¹æ¡ˆ</strong>ï¼šé‡‡ç”¨ ehash ç»“æ„ï¼ˆæ”¯æŒ field çº§è¿‡æœŸçš„ Redis æ‰©å±•ï¼‰ï¼Œå­˜å‚¨ deviceId, msgType, å‘é€è®¡æ•° ä¸‰å…ƒç»„ï¼Œè§£å†³ 6 äº¿è®¾å¤‡ Ã—60+ ä¸šåŠ¡åœºæ™¯çš„å­˜å‚¨å‹åŠ›</p>
</li>
<li>
<p><strong>é“¾è·¯è¿½è¸ª</strong>ï¼šå…¨æµç¨‹è®°å½•æ¶ˆæ¯çŠ¶æ€ï¼ˆåˆ›å»º/è¿‡æ»¤/å‘é€/é€è¾¾/ç‚¹å‡»ï¼‰ï¼Œé€šè¿‡ Grafana å±•ç¤ºæ¨é€åˆ°è¾¾ç‡ã€å¹³å‡å»¶è¿Ÿç­‰æ ¸å¿ƒæŒ‡æ ‡</p>
</li>
</ul>
<h3 data-id="heading-24">å¯¹æ¯”è¡Œä¸šæ–¹æ¡ˆçš„åŠ£åŠ¿åˆ†æ</h3>

























<table><thead><tr><th><strong>ç»´åº¦</strong></th><th><strong>å½“å‰è®¾è®¡</strong></th><th><strong>è¡Œä¸šæœ€ä½³å®è·µ</strong></th></tr></thead><tbody><tr><td><strong>é€è¾¾ç‡ä¿éšœ</strong></td><td>ä¾èµ– APP åœ¨çº¿çŠ¶æ€</td><td>å‚å•†é€šé“+è‡ªå»ºé•¿è¿æ¥åŒä¿é™©ï¼ˆå–œé©¬æ‹‰é›…è¾¾ 98.7%ï¼‰</td></tr><tr><td><strong>ç”¨æˆ·å¹²æ‰°æ§åˆ¶</strong></td><td>ä»…æ”¯æŒéƒ¨åˆ†åœºæ™¯å…³é—­</td><td>åŠ¨æ€é¢‘æ§+é™é»˜æ—¶é—´+åˆ†çº§å±•ç¤ºï¼ˆå¾®ä¿¡è®¢é˜…æ¶ˆæ¯æŠ•è¯‰ç‡ä¸‹é™ 62%ï¼‰</td></tr><tr><td><strong>å›½é™…åŒ–æ”¯æŒ</strong></td><td>æœªè§£å†³ç¦»çº¿è¯­è¨€é€‚é…</td><td>é¢„ç¼–è¯‘æ¨¡æ¿+ç«¯ä¾§ç¿»è¯‘ç¼“å­˜ï¼ˆntfy æ”¯æŒ 20 ç§è¯­è¨€ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-25">è½åœ°è·¯å¾„å»ºè®®</h3>
<ol>
<li><strong>ç¬¬ä¸€é˜¶æ®µï¼ˆ1-2 ä¸ªæœˆï¼‰</strong>ï¼šå®Œæˆä¼˜å…ˆçº§é˜Ÿåˆ—æ”¹é€ å’ŒåŸºç¡€å‚å•†é€šé“é›†æˆï¼Œé‡ç‚¹ä¿éšœç´§æ€¥é€šçŸ¥é€è¾¾ç‡</li>
<li><strong>ç¬¬äºŒé˜¶æ®µï¼ˆ3-4 ä¸ªæœˆï¼‰</strong>ï¼šä¸Šçº¿ç”¨æˆ·æ§åˆ¶ä¸­å¿ƒå’Œé¢‘æ§ç³»ç»Ÿï¼Œæ”¯æŒæŒ‰ä¸šåŠ¡ç±»å‹å¼€å…³é€šçŸ¥</li>
<li><strong>ç¬¬ä¸‰é˜¶æ®µï¼ˆ5-6 ä¸ªæœˆï¼‰</strong>ï¼šæ¥å…¥ç¦»çº¿ç¿»è¯‘æœåŠ¡å’ŒåŠ¨æ€åœºæ™¯æ¨é€ï¼Œå®ç°å…¨çƒåŒ–é€‚é…</li>
</ol>
<p>éœ€ç‰¹åˆ«æ³¨æ„ï¼ŒAndroid å„å‚å•†æ¨é€ API å·®å¼‚æ˜¾è‘—ï¼ˆå¦‚åä¸ºè¦æ±‚åº”ç”¨ç­¾åä¸å¼€å‘è€…è´¦å·ç»‘å®šï¼‰ï¼Œå»ºè®®é‡‡ç”¨å¦‚æå…‰æ¨é€ç­‰èšåˆ SDK é™ä½å¯¹æ¥æˆæœ¬ã€‚æœ€ç»ˆç›®æ ‡æ˜¯å»ºç«‹ "ç”¨æˆ·æ— æ„ŸçŸ¥é«˜å¯ç”¨ï¼Œå¼€å‘è€…å¯é…ç½®ï¼Œè¿è¥å¯è¿½æº¯" çš„é—­ç¯ç³»ç»Ÿï¼Œåœ¨ä¿éšœä¸šåŠ¡è§¦è¾¾çš„åŒæ—¶å°†é€šçŸ¥ç‚¹å‡»ç‡æå‡ 30% ä»¥ä¸Šã€‚</p>
<h2 data-id="heading-26">å¼‚æ­¥ä»»åŠ¡è®¾è®¡</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB;
å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—è®¾è®¡---&gt;å®šä¹‰é€šç”¨ä»»åŠ¡æ¥å£
å®šä¹‰é€šç”¨ä»»åŠ¡æ¥å£---&gt;æ¥å…¥é€šçŸ¥æ¥å£
æ¥å…¥é€šçŸ¥æ¥å£---&gt;pushNotify["æ¨é€é€šçŸ¥"]
pushNotify---&gt;é“¾æ¥ä»»åŠ¡ç®¡ç†ä¸­å¿ƒ
å®šä¹‰é€šç”¨ä»»åŠ¡æ¥å£---&gt;ä»»åŠ¡çŠ¶æ€
ä»»åŠ¡çŠ¶æ€---&gt;å¾…æ‰§è¡Œ
ä»»åŠ¡çŠ¶æ€---&gt;å®Œæˆ
å®Œæˆ---&gt;æˆåŠŸ
å®Œæˆ---&gt;éƒ¨åˆ†æˆåŠŸ
ä»»åŠ¡çŠ¶æ€---&gt;å¤±è´¥
ä»»åŠ¡çŠ¶æ€---&gt;è¿›è¡Œä¸­---&gt;è¿›åº¦æ˜¾ç¤º
æˆåŠŸ---&gt;æ˜¾ç¤ºç»“æœ
å¤±è´¥---&gt;æ˜¾ç¤ºç»“æœ---&gt;å¤±è´¥åŸå› 
éƒ¨åˆ†æˆåŠŸ---&gt;æ˜¾ç¤ºç»“æœ---&gt;å¤±è´¥éƒ¨åˆ†çš„å¤±è´¥åŸå› 
æ˜¾ç¤ºç»“æœ---&gt;æ–‡æœ¬ç»“æœ
æ˜¾ç¤ºç»“æœ---&gt;tempUrl["ä¸´æ—¶æ–‡ä»¶é“¾æ¥ï¼ˆé’ˆå¯¹å¯¼å‡ºåœºæ™¯ï¼‰"]
æ˜¾ç¤ºç»“æœ---&gt;nagivate["è·³è½¬æŸ¥è¯¢ï¼ˆé’ˆå¯¹å¯¼å…¥è®¢å•åœºæ™¯ï¼‰"]
å®šä¹‰é€šç”¨ä»»åŠ¡æ¥å£---&gt;ä»»åŠ¡ä¼˜å…ˆçº§
ä»»åŠ¡ä¼˜å…ˆçº§---&gt;èµ„æºåˆ†é…æƒé‡
ä»»åŠ¡ä¼˜å…ˆçº§---&gt;æ’é˜Ÿç­–ç•¥
å®šä¹‰é€šç”¨ä»»åŠ¡æ¥å£---&gt;delete["åˆ é™¤ã€å–æ¶ˆä»»åŠ¡"]
delete---&gt;release["ç§»é™¤ä»»åŠ¡é˜Ÿåˆ—ã€é‡Šæ”¾èµ„æº"]
å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—è®¾è®¡---&gt;æ‰©å±•---é…ç½®ä¸åŒä»»åŠ¡ç±»å‹çš„è‡ªåŠ¨åˆ é™¤æ—¶é•¿
æ‰©å±•---&gt;å¤±è´¥é‡è¯•æ¬¡æ•°
</code></pre>
<h2 data-id="heading-27">è‡ªåŠ¨æ›´æ–°è®¾è®¡</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB;
è‡ªåŠ¨æ›´æ–°è®¾è®¡---&gt;version["ç¼–è¯‘æ‰“åŒ…ã€ç‰ˆæœ¬ä¿¡æ¯å†™å…¥"]
version---&gt;æ¨é€æ›´æ–°
æ¨é€æ›´æ–°---&gt;WEB---&gt;å¼¹çª—æç¤ºåˆ·æ–°
æ¨é€æ›´æ–°---&gt;APP
APP---&gt;çƒ­æ›´æ–°
çƒ­æ›´æ–°---&gt;é™é»˜ä¸‹è½½
é™é»˜ä¸‹è½½---&gt;æç¤ºæ›´æ–°
æç¤ºæ›´æ–°---&gt;åŒæ„---&gt;çƒ­æ›¿æ¢---&gt;é‡å¯åº”ç”¨
æç¤ºæ›´æ–°---&gt;æ‹’ç»---&gt;ä¸‹æ¬¡å¯åŠ¨æ›´æ–°
APP---&gt;å…¨é‡æ›´æ–°
å…¨é‡æ›´æ–°---&gt;å¼ºåˆ¶---&gt;é˜»å¡å¼¹çª—---&gt;å¼•å¯¼è·³è½¬åº”ç”¨å•†åº—
å…¨é‡æ›´æ–°---&gt;éå¼ºåˆ¶---&gt;å¼¹çª—æç¤º---&gt;åŒæ„æ›´æ–°---&gt;è·³è½¬åº”ç”¨å•†åº—
å¼¹çª—æç¤º---&gt;æ‹’ç»æ›´æ–°---&gt;å…³é—­å¼¹çª—
è‡ªåŠ¨æ›´æ–°è®¾è®¡---&gt;æ‰©å±•
æ‰©å±•---&gt;ç°åº¦å‘å¸ƒ
</code></pre>
<h2 data-id="heading-28">è‡ªåŠ¨åŒ–éƒ¨ç½²è®¾è®¡</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB;
è‡ªåŠ¨åŒ–éƒ¨ç½²è®¾è®¡---&gt;ä»£ç æ¨é€
ä»£ç æ¨é€---&gt;webhook
webhook---&gt;scanError["é™æ€å®‰å…¨æ‰«æå’Œä¾èµ–é¡¹æ¼æ´æ‰«æ"]
webhook---&gt;review["ä»£ç å®¡æŸ¥"]
scanError---&gt;æµ‹è¯•ç”¨ä¾‹è‡ªåŠ¨åŒ–æµ‹è¯•
webhook---&gt;æµ‹è¯•ç”¨ä¾‹è‡ªåŠ¨åŒ–æµ‹è¯•
review---&gt;æµ‹è¯•ç”¨ä¾‹è‡ªåŠ¨åŒ–æµ‹è¯•
æµ‹è¯•ç”¨ä¾‹è‡ªåŠ¨åŒ–æµ‹è¯•---&gt;æŒç»­äº¤ä»˜éƒ¨ç½²
æŒç»­äº¤ä»˜éƒ¨ç½²---&gt;dev["å¼€å‘ã€æµ‹è¯•ç¯å¢ƒ"]
dev---&gt;å®šæ—¶è§¦å‘
dev---&gt;è‡ªåŠ¨è§¦å‘
å®šæ—¶è§¦å‘---&gt;customPushHook["è‡ªå®šä¹‰ hook"]
è‡ªåŠ¨è§¦å‘---&gt;customPushHook
customPushHook---&gt;åŒæ­¥å›½é™…åŒ–è¯­è¨€æ•°æ®
æŒç»­äº¤ä»˜éƒ¨ç½²---&gt;prod["ç”Ÿäº§ç¯å¢ƒï¼šæ‰‹åŠ¨éƒ¨ç½²"]
prod---&gt;customDeployHook["è§¦å‘ hook"]
customDeployHook---&gt;åŒæ­¥æµ‹è¯•ç¯å¢ƒå¿…è¦é…ç½®
customDeployHook---&gt;updateContent["æå– commit æ›´æ–°å†…å®¹"]
æŒç»­äº¤ä»˜éƒ¨ç½²---&gt;æ‰©å±•
æ‰©å±•---&gt;éƒ¨ç½²æ—¥å¿—
æ‰©å±•---&gt;å¤±è´¥é€šçŸ¥
dev---&gt;ç‰ˆæœ¬ç®¡ç†
prod---&gt;ç‰ˆæœ¬ç®¡ç†
ç‰ˆæœ¬ç®¡ç†---&gt;imageGenerate["é•œåƒç”Ÿæˆ: ç‰ˆæœ¬ tag"]
ç‰ˆæœ¬ç®¡ç†---&gt;éƒ¨ç½²å¤±è´¥è‡ªåŠ¨å›æ»š
ç‰ˆæœ¬ç®¡ç†---&gt;ç³»ç»Ÿç›‘æ§å¼‚å¸¸è‡ªåŠ¨å›æ»š
</code></pre>
<h2 data-id="heading-29">ç»„ä»¶è®¾è®¡</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB;
ç»„ä»¶è®¾è®¡---&gt;å¯æ‰©å±•æ€§
å¯æ‰©å±•æ€§---&gt;æ ·å¼ç»“æ„å¯æ‰©å±•
å¯æ‰©å±•æ€§---&gt;å¤–éƒ¨å¯æ§åˆ¶é€»è¾‘
ç»„ä»¶è®¾è®¡---&gt;é«˜å†…èš---&gt;å®Œæˆä¸€ä»¶äº‹æ‰€ç”¨åˆ°çš„ä»£ç å†…èšåœ¨ç»„ä»¶ä¸­
ç»„ä»¶è®¾è®¡---&gt;å¯é æ€§---&gt;åŸºå‡†æµ‹è¯•
å¯é æ€§---&gt;æ€§èƒ½æµ‹è¯•
ç»„ä»¶è®¾è®¡---&gt;å…¼å®¹æ›´æ–°---&gt;old["æ—§æœ‰å¤–éƒ¨æ¥å£ã€è°ƒç”¨æ–¹å¼ä¸å˜"]
ç»„ä»¶è®¾è®¡---&gt;å¯è¯»æ€§ä¸æ–‡æ¡£è¯´æ˜---&gt;ä»£ç æ³¨è§£ä¸æ–‡æ¡£
</code></pre>
<hr/>
<p>æ‚¨çš„ç»„ä»¶è®¾è®¡æ¶µç›–äº†è½¯ä»¶å·¥ç¨‹çš„æ ¸å¿ƒåŸåˆ™ï¼Œä½†åœ¨ç°ä»£å‰ç«¯æˆ–å…¨æ ˆç»„ä»¶åŒ–å¼€å‘ä¸­ï¼Œè¿˜å¯ä»¥ä» <strong>ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€çŠ¶æ€é©±åŠ¨ã€å®¹é”™æ€§ã€ä»¥åŠå›½é™…åŒ–/æ–‡åŒ–é€‚é…</strong> å››ä¸ªç»´åº¦è¿›ä¸€æ­¥æ·±åŒ–ã€‚</p>
<p>ä»¥ä¸‹æ˜¯é’ˆå¯¹æ‚¨ Mermaid æ¶æ„çš„ä¼˜åŒ–å»ºè®®å’Œæ”¹è¿›ç‚¹ï¼š</p>
<ol>
<li>æ¶æ„é€»è¾‘ä¼˜åŒ–ï¼šä» â€œè®¾è®¡åŸåˆ™â€ åˆ° â€œå®ç°æœºåˆ¶â€</li>
</ol>
<p>æ‚¨åŸæœ‰çš„è®¾è®¡åé‡äº â€œç›®æ ‡â€ï¼Œå»ºè®®å¢åŠ  <strong>â€œæœºåˆ¶å±‚â€</strong>ï¼Œä½¿ç»„ä»¶ä¸ä»… â€œå¯é â€ï¼Œè€Œä¸” â€œå¯é¢„æµ‹â€ã€‚</p>
<p>ä¼˜åŒ–å»ºè®®ï¼š</p>
<ul>
<li><strong>çŠ¶æ€é©±åŠ¨ (State-Driven)</strong>ï¼šç»„ä»¶çš„ UI åº”è¯¥æ˜¯çŠ¶æ€çš„å‡½æ•°ï¼Œå‡å°‘ç›´æ¥çš„ DOM æ“ä½œæˆ–é€»è¾‘è€¦åˆã€‚</li>
<li><strong>é˜²å¾¡å¼è®¾è®¡ (Robustness)</strong>ï¼šé™¤äº†æµ‹è¯•ï¼Œç»„ä»¶åº”å…·å¤‡è‡ªæ„ˆèƒ½åŠ›ï¼ˆå¦‚ Error Boundaryï¼‰ã€‚</li>
<li><strong>è§£è€¦ç­–ç•¥</strong>ï¼šå°†â€œä¸šåŠ¡é€»è¾‘â€ä¸â€œæ¸²æŸ“ç»„ä»¶â€åˆ†ç¦»ï¼ˆå®¹å™¨ç»„ä»¶ä¸å±•ç¤ºç»„ä»¶æ¨¡å¼ï¼‰ã€‚</li>
</ul>
<hr/>
<ol start="2">
<li>æ”¹è¿›åçš„ Mermaid æ¶æ„å›¾</li>
</ol>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB;
    ç»„ä»¶è®¾è®¡ --&gt; å¯æ‰©å±•æ€§
    ç»„ä»¶è®¾è®¡ --&gt; é«˜å†…èšä½è€¦åˆ
    ç»„ä»¶è®¾è®¡ --&gt; å¯é æ€§ä¸å¥å£®æ€§
    ç»„ä»¶è®¾è®¡ --&gt; æ¼”è¿›å¼ç»´æŠ¤
    ç»„ä»¶è®¾è®¡ --&gt; ä½“éªŒä¸è§„èŒƒ

    
    å¯æ‰©å±•æ€§---&gt;æ ·å¼ç»“æ„å¯æ‰©å±• --&gt; CSSVars["CSS å˜é‡æ§åˆ¶ (Themeable)"]
    å¯æ‰©å±•æ€§---&gt;å¤–éƒ¨å¯æ§åˆ¶é€»è¾‘ --&gt; Hooks["æ’æ§½(Slots/RenderProps) ä¸ Hook æ³¨å…¥"]

    é«˜å†…èšä½è€¦åˆ---&gt;å®Œæˆä¸€ä»¶äº‹æ‰€ç”¨åˆ°çš„ä»£ç å†…èšåœ¨ç»„ä»¶ä¸­ --&gt; é€»è¾‘æ”¶æ‹¢
    é€»è¾‘æ”¶æ‹¢ --&gt; èŒè´£å•ä¸€["å•ä¸€èŒè´£åŸåˆ™ (SRP)"]
    é€»è¾‘æ”¶æ‹¢ --&gt; çŠ¶æ€éš”ç¦»["å†…éƒ¨çŠ¶æ€ä¸å¤–éƒ¨ Props ä¸¥æ ¼åŒºåˆ†"]

    å¯é æ€§ä¸å¥å£®æ€§---&gt;åŸºå‡†æµ‹è¯• --&gt; å•å…ƒæµ‹è¯•ä¸é›†æˆæµ‹è¯•
    å¯é æ€§ä¸å¥å£®æ€§---&gt;æ€§èƒ½æµ‹è¯• --&gt; æ¸²æŸ“é¢‘ç‡ç›‘æµ‹ä¸å†…å­˜æ³„æ¼æ£€æŸ¥
    å¯é æ€§ä¸å¥å£®æ€§---&gt;å¯é æ€§ --&gt; å®¹é”™å¤„ç†["Error Boundary ä¸ å…œåº• UI"]

    æ¼”è¿›å¼ç»´æŠ¤---&gt;å…¼å®¹æ›´æ–° --&gt; ç‰ˆæœ¬éš”ç¦»["ç‰ˆæœ¬åŒ–å¼•ç”¨ (Semantic Versioning)"]
    æ¼”è¿›å¼ç»´æŠ¤---&gt;old["æ—§æœ‰æ¥å£è½¬æ¢å™¨ (Adapter Pattern)"]

    ä½“éªŒä¸è§„èŒƒ---&gt;ä»£ç æ³¨è§£ä¸æ–‡æ¡£è¯´æ˜ --&gt; Storybook["äº¤äº’å¼æ–‡æ¡£ (Storybook/Docz)"]
    ä½“éªŒä¸è§„èŒƒ --&gt; å›½é™…åŒ–æ„ŸçŸ¥["i18n &amp; æ–‡åŒ–ç­–ç•¥é€‚é… (RTLæ”¯æŒç­‰)"]
    ä½“éªŒä¸è§„èŒƒ --&gt; æ— éšœç¢æ€§["A11y (æ— éšœç¢è®¿é—®æ”¯æŒ)"]
</code></pre>
<hr/>
<ol start="3">
<li>æ ¸å¿ƒæ”¹è¿›ç‚¹è¯¦ç»†è¯´æ˜</li>
</ol>
<p>A. å¼•å…¥ â€œé€‚é…å™¨æ¨¡å¼â€ è§£å†³å…¼å®¹æ›´æ–° (Compatibility)</p>
<p>æ‚¨æåˆ°çš„ â€œæ—§æœ‰æ¥å£ä¸å˜â€ æ˜¯æ ¸å¿ƒéœ€æ±‚ã€‚åœ¨ä»£ç å±‚é¢ï¼Œå¯ä»¥å¼•å…¥ <strong>Adapterï¼ˆé€‚é…å™¨ï¼‰</strong>ï¼š</p>
<ul>
<li><strong>åšæ³•</strong>ï¼šå½“ç»„ä»¶å†…éƒ¨é€»è¾‘é‡æ„æ—¶ï¼Œä¸è¦ç›´æ¥ä¿®æ”¹åŸæœ‰çš„ Props å®šä¹‰ã€‚ä¿ç•™æ—§ Props å…¥å£ï¼Œå¹¶åœ¨ç»„ä»¶å†…éƒ¨å°†å…¶æ˜ å°„ï¼ˆMappingï¼‰åˆ°æ–°é€»è¾‘ä¸Šã€‚</li>
<li><strong>æç¤º</strong>ï¼šåœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼Œå¯¹ä½¿ç”¨æ—§æ¥å£çš„å¼€å‘è€…æŠ›å‡º <code>console.warn</code> æç¤ºå¼ƒç”¨è¿›åº¦ï¼Œè€Œéç›´æ¥æŠ¥é”™ã€‚</li>
</ul>
<p>B. é€»è¾‘æ‰©å±•ï¼šä» â€œå¤–éƒ¨æ§åˆ¶â€ åˆ° â€œæ§åˆ¶åè½¬ (IoC)â€</p>
<ul>
<li><strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong>ï¼šé™¤äº†ç®€å•çš„é€»è¾‘æ§åˆ¶ï¼Œæä¾› â€œé’©å­ (Hooks)â€ æˆ– â€œäº‹ä»¶å›è°ƒâ€ã€‚</li>
<li><strong>åœºæ™¯</strong>ï¼šå¦‚æœè¿™æ˜¯ä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ ç»„ä»¶ï¼Œä¸è¦åªç»™ä¸€ä¸ª <code>uploadURL</code> å±æ€§ï¼Œåº”è¯¥æš´éœ² <code>onBeforeUpload</code>, <code>onProgress</code>, <code>onError</code> ç­‰ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œè®©å¤–éƒ¨ä¸šåŠ¡èƒ½ç²¾ç»†åŒ–ä»‹å…¥ã€‚</li>
</ul>
<p>C. é«˜å†…èšçš„å»¶ä¼¸ï¼šèŒè´£å•ä¸€ (SRP)</p>
<ul>
<li><strong>æ”¹è¿›</strong>ï¼šç¡®ä¿ä¸€ä¸ªç»„ä»¶åªè§£å†³ä¸€ä¸ªå±‚é¢çš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ª â€œå¸¦åŒºåŸŸåˆ†æµé€»è¾‘çš„å›¾ç‰‡ç»„ä»¶â€ï¼Œåº”è¯¥æ‹†åˆ†ä¸ºï¼š
<ol>
<li><strong>æ•°æ®å±‚ç»„ä»¶</strong>ï¼šè´Ÿè´£æ ¹æ®åŒºåŸŸåˆ†æµé…ç½®è·å–æ­£ç¡®çš„å›¾ç‰‡ URLã€‚</li>
<li><strong>æ¸²æŸ“å±‚ç»„ä»¶</strong>ï¼šçº¯ç²¹è´Ÿè´£æ˜¾ç¤ºå›¾ç‰‡ã€Loading æ€å’Œé”™è¯¯æ€ã€‚</li>
</ol>
</li>
</ul>
<p>D. å¢åŠ  â€œæ— éšœç¢æ€§ (Accessibility)â€ ä¸ â€œå›½é™…åŒ–æ„ŸçŸ¥â€</p>
<p>ä½œä¸ºä¸€ä¸ªä¼˜ç§€çš„ç»„ä»¶è®¾è®¡ï¼Œåº”è€ƒè™‘ï¼š</p>
<ul>
<li><strong>è¯­ä¹‰åŒ–</strong>ï¼šä½¿ç”¨æ­£ç¡®çš„ HTML æ ‡ç­¾ï¼ˆæˆ– ARIA å±æ€§ï¼‰ï¼Œç¡®ä¿ç›²äººé˜…è¯»å™¨å¯è®¿é—®ã€‚</li>
<li><strong>æ–¹å‘æ€§</strong>ï¼šé’ˆå¯¹ä¸­ä¸œç­‰åœ°åŒºï¼Œç»„ä»¶éœ€æ”¯æŒ <strong>RTL (Right-to-Left)</strong> å¸ƒå±€è‡ªé€‚åº”ã€‚</li>
</ul>
<p>E. æ€§èƒ½æµ‹è¯•çš„å…·ä½“è½åœ°</p>
<ul>
<li><strong>åŸºå‡†æµ‹è¯•</strong>ï¼šä¸ä»…æ˜¯è·‘é€šæµ‹è¯•ç”¨ä¾‹ï¼Œè¿˜éœ€å…³æ³¨ <strong>Re-renderï¼ˆé‡å¤æ¸²æŸ“ï¼‰</strong> æ¬¡æ•°ã€‚</li>
<li><strong>å·¥å…·æ¨è</strong>ï¼šé›†æˆ React Testing Library æˆ– Vue Test Utilsï¼Œå¹¶ç»“åˆ Lighthouse è¿›è¡Œæ€§èƒ½è¯„ä¼°ã€‚</li>
</ul>
<p>æ€»ç»“</p>
<p>æ‚¨åŸæ¥çš„è®¾è®¡å·²ç»éå¸¸æ‰å®ï¼Œæ”¹è¿›åçš„ç‰ˆæœ¬å¼ºåŒ–äº† <strong>é˜²å¾¡å¼ç¼–ç¨‹ï¼ˆå®¹é”™ï¼‰</strong>ã€ç‰ˆæœ¬æ¼”è¿›ï¼ˆé€‚é…å™¨ï¼‰ä»¥åŠå…¨çƒåŒ–é€‚é…ï¼ˆA11y/i18nï¼‰ã€‚è¿™ç§è®¾è®¡èƒ½è®©æ‚¨çš„ç»„ä»¶åœ¨å¤æ‚çš„ç”Ÿäº§ç¯å¢ƒï¼ˆç‰¹åˆ«æ˜¯æ¶‰åŠ 2025 å¹´å¤šç«¯ã€å¤šåŒºåŸŸçš„å¤§å‹é¡¹ç›®ï¼‰ä¸­æ›´å…·ç”Ÿå‘½åŠ›ã€‚</p>
<h2 data-id="heading-30">APP è½¨è¿¹ã€å¼‚å¸¸ä¸ŠæŠ¥è®¾è®¡</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB;
app["APP è½¨è¿¹ã€å¼‚å¸¸ä¸ŠæŠ¥è®¾è®¡"]---&gt;å®æ—¶è½¨è¿¹
app---&gt;å¼‚å¸¸
å®æ—¶è½¨è¿¹---&gt;mustInfo["å¿…å¤‡ä¿¡æ¯: ç”¨æˆ· IDã€å‘ç”Ÿæ—¶é—´ã€ç»çº¬åº¦ã€å½“å‰ä»»åŠ¡ï¼ˆè®¢å•ï¼‰"]
mustInfo---&gt;å®šæ—¶é‡‡é›†å½“å‰ç»çº¬åº¦
å®šæ—¶é‡‡é›†å½“å‰ç»çº¬åº¦---&gt;å®æ—¶ä¸ŠæŠ¥---&gt;watch["åå°ç›‘æ§ã€æ•°æ®åˆ†æ"]
å®šæ—¶é‡‡é›†å½“å‰ç»çº¬åº¦---&gt;after["ç¦»çº¿ç¼“å­˜ï¼Œåç»­ä¸ŠæŠ¥"]---&gt;watch
after---&gt;question["é—®é¢˜"]
question---&gt;ç½‘ç»œæŒç»­ç¦»çº¿
question---&gt;åå°ä¿æ´»
question---&gt;åº”ç”¨æœªå¯åŠ¨
question---&gt;åæ ‡ç³»è½¬æ¢
å¼‚å¸¸---&gt;errorMustInfo["å¿…å¤‡ä¿¡æ¯ï¼šç”¨æˆ· IDã€è®¾å¤‡ä¿¡æ¯ã€å‘ç”Ÿæ—¶é—´ã€é”™è¯¯ä¿¡æ¯ã€é”™è¯¯æ ˆ"]
errorMustInfo---&gt;ç¦»çº¿ç¼“å­˜åç»­ä¸ŠæŠ¥---&gt;æ•°æ®åˆ†æ
</code></pre>
<hr/>
<p>åœ¨ 2025 å¹´çš„å¼€å‘ç¯å¢ƒä¸‹ï¼Œè¦å®ç° â€œæŠ“å–è½¨è¿¹ã€ç»˜åˆ¶åœ°å›¾ã€è·¯å¾„å†³ç­–ã€å®æ—¶å®šä½ã€é€šè¡Œæ—¶é•¿â€ å¹¶å…¼é¡¾ â€œç¦»çº¿å¯ç”¨â€ï¼Œæœ€æˆç†Ÿçš„æ–¹æ¡ˆæ˜¯é‡‡ç”¨ <strong>Google Maps Platform</strong> çš„ç§»åŠ¨ç«¯ SDKã€‚</p>
<p>ä»¥ä¸‹æ˜¯å®ç°è¿™ä¸€åŠŸèƒ½çš„æ¶æ„è®¾è®¡ä¸æŠ€æœ¯é€‰å‹ï¼š</p>
<ol>
<li>æ ¸å¿ƒæŠ€æœ¯æ ˆ</li>
</ol>
<ul>
<li>
<p><strong>å®æ—¶å®šä½ä¸è½¨è¿¹æŠ“å–ï¼š</strong> ä½¿ç”¨ <strong>Google Maps SDK (Android/iOS)</strong> çš„å®šä½è“ç‚¹åŠŸèƒ½ï¼Œé…åˆæ‰‹æœºåŸç”Ÿ GPS ä¼ æ„Ÿå™¨ã€‚</p>
</li>
<li>
<p><strong>åœ°å›¾æ¸²æŸ“ä¸è½¨è¿¹ç»˜åˆ¶ï¼š</strong> é€šè¿‡ <code>Polyline</code> å¯¹è±¡å°†å®æ—¶è·å–çš„ç»çº¬åº¦ç‚¹è¿æ¥æˆçº¿ã€‚</p>
</li>
<li>
<p><strong>è·¯å¾„å†³ç­–ä¸é€šè¡Œæ—¶é•¿ï¼š</strong> ä½¿ç”¨ <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Froutes" target="_blank" title="https://developers.google.com/maps/documentation/routes" ref="nofollow noopener noreferrer">Routes API (2025 æ–°ç‰ˆ)</a></strong>ã€‚å®ƒæ¯”æ—§ç‰ˆæ›´è½»é‡ï¼Œä¸”èƒ½è¿”å›è¯¦ç»†çš„å®æ—¶è·¯å†µï¼ˆTraffic-awareï¼‰å’Œé¢„è®¡åˆ°è¾¾æ—¶é—´ (ETA)ã€‚</p>
</li>
<li>
<p><strong>ç¦»çº¿åŠŸèƒ½ï¼š</strong> ä¾é  <strong>Google Maps SDK Offline Maps</strong> æˆ–åœ°å›¾ç“¦ç‰‡ç¼“å­˜ã€‚</p>
</li>
</ul>
<hr/>
<ol start="2">
<li>åŠŸèƒ½å®ç°ç»†èŠ‚</li>
</ol>
<p>A. å®æ—¶å®šä½ä¸è½¨è¿¹æŠ“å–</p>
<p>ç¨‹åºé€šè¿‡ <code>FusedLocationProviderClient</code> æ¯éš”å‡ ç§’è·å–ä¸€æ¬¡ç»çº¬åº¦ã€‚</p>
<ul>
<li>
<p><strong>å®æ—¶æ€§ï¼š</strong> ç»“åˆ <code>LocationRequest</code> çš„é«˜ç²¾åº¦æ¨¡å¼ï¼ˆPriority High Accuracyï¼‰ã€‚</p>
</li>
<li>
<p><strong>è½¨è¿¹è®°å½•ï¼š</strong> å°†è·å–çš„ç‚¹å­˜å‚¨åœ¨æœ¬åœ°æ•°æ®åº“ï¼ˆå¦‚ SQLite/Roomï¼‰ï¼Œä»¥é˜²ç½‘ç»œä¸­æ–­å¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚</p>
</li>
</ul>
<p>B. è·¯çº¿å†³ç­–ä¸é€šè¡Œæ—¶é•¿ (Routes API)</p>
<p>åœ¨ 2025 å¹´ï¼Œå»ºè®®è°ƒç”¨ <strong>Routes API</strong> çš„ <code>computeRoutes</code> æ–¹æ³•ï¼š</p>
<ul>
<li>
<p><strong>å†³ç­–å› å­ï¼š</strong> å¯è®¾ç½® <code>routingPreference</code> ä¸º <code>TRAFFIC_AWARE_OPTIMAL</code>ï¼ˆå®æ—¶è·¯å†µæœ€ä¼˜ï¼‰ï¼Œä»¥è·å–é¿å¼€æ‹¥å µçš„å®æ—¶è·¯çº¿ã€‚</p>
</li>
<li>
<p><strong>æ—¶é•¿é¢„ä¼°ï¼š</strong> API ä¼šè¿”å› <code>duration</code> å’Œ <code>staticDuration</code>ï¼ˆæ— äº¤é€šæ‹¥å µæ—¶é•¿ï¼‰ï¼Œå¯¹æ¯”ä¸¤è€…å³å¯å¾—å‡ºå»¶è¯¯æ—¶é—´ã€‚</p>
</li>
</ul>
<p>C. ç¦»çº¿å¯ç”¨æ€§çš„å¤„ç†ï¼ˆå…³é”®ç‚¹ï¼‰</p>
<p>Google Maps çš„å®˜æ–¹ SDK å¯¹çº¯ç¦»çº¿å¼€å‘æœ‰ä¸€å®šé™åˆ¶ï¼Œé€šå¸¸é‡‡å–ä»¥ä¸‹ç­–ç•¥ï¼š</p>
<ol>
<li>
<p><strong>é¢„ä¸‹è½½åœ°å›¾ï¼š</strong> è°ƒç”¨ <code>OfflineTileProvider</code> æˆ–å¼•å¯¼ç”¨æˆ·åœ¨ Google åœ°å›¾ App ä¸­é¢„ä¸‹è½½åŒºåŸŸåœ°å›¾ï¼ŒSDK ä¼šè‡ªåŠ¨è°ƒç”¨æœ¬åœ°ç¼“å­˜ã€‚</p>
</li>
<li>
<p><strong>ç¦»çº¿å®šä½ï¼š</strong> GPS ä¼ æ„Ÿå™¨ä¸ä¾èµ–ç½‘ç»œï¼Œç¨‹åºä»èƒ½æŠ“å–ç»çº¬åº¦ã€‚</p>
</li>
<li>
<p><strong>ç¦»çº¿è·¯ç”±ï¼š</strong> è¿™æ˜¯ä¸€ä¸ªéš¾ç‚¹ã€‚å¦‚æœå¿…é¡»åœ¨æ–­ç½‘æ—¶ â€œé‡æ–°å†³ç­–è·¯å¾„â€ï¼Œå»ºè®®é›†æˆå¼€æºçš„ <strong>GraphHopper</strong> æˆ– <strong>OSRM</strong> ä½œä¸ºç¦»çº¿è·¯ç”±å¼•æ“ã€‚</p>
</li>
</ol>
<p>D. å®æ—¶ç»çº¬åº¦ä¸Šä¼ </p>
<ul>
<li><strong>å¼‚æ­¥ä¸Šä¼ ï¼š</strong> ä½¿ç”¨ <code>WorkManager</code>ï¼ˆAndroidï¼‰åœ¨åå°è¿è¡Œä¸Šä¼ ä»»åŠ¡ã€‚</li>
<li><strong>æ–­ç½‘é‡ä¼ æœºåˆ¶ï¼š</strong> å½“ç½‘ç»œæ¢å¤æ—¶ï¼Œç¨‹åºåº”è‡ªåŠ¨ä»æœ¬åœ°æ•°æ®åº“è¯»å–æœªä¸Šä¼ çš„è½¨è¿¹ç‰‡æ®µï¼Œæ‰¹é‡è¡¥ä¼ åˆ°ä½ çš„æœåŠ¡å™¨åç«¯ã€‚</li>
</ul>
<hr/>
<ol start="3">
<li>
<p>å¼€å‘å»ºè®®ä¸åˆè§„æ€§</p>
</li>
<li>
<p><strong>API æˆæœ¬ï¼š</strong> Routes API æŒ‰è°ƒç”¨æ¬¡æ•°è®¡è´¹ã€‚å»ºè®®åœ¨è½¦è¾†é™æ­¢æ—¶é™ä½è½¨è¿¹æŠ“å–é¢‘ç‡ï¼Œåœ¨è·¯çº¿æœªåç¦»æ—¶å‡å°‘é‡ç®—è·¯å¾„çš„é¢‘ç‡ã€‚</p>
</li>
<li>
<p><strong>éšç§æƒé™ï¼š</strong> 2025 å¹´ iOS å’Œ Android å¯¹åå°ä½ç½®æƒé™è¦æ±‚æä¸¥ã€‚ä½ å¿…é¡»åœ¨ <code>AndroidManifest.xml</code> ä¸­å£°æ˜ <code>ACCESS_BACKGROUND_LOCATION</code>ï¼Œå¹¶å‘ç”¨æˆ·æ˜ç¡®è¯´æ˜æ”¶é›†è½¨è¿¹çš„ç”¨é€”ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®çº åï¼š</strong> åŸå§‹ GPS åæ ‡åœ¨åŸå¸‚é«˜æ¥¼åŒºä¼šæœ‰åç§»ï¼Œå»ºè®®åœ¨ç»˜åˆ¶å’Œä¸Šä¼ å‰é€šè¿‡ <strong>Roads API</strong> å°†è½¨è¿¹ç‚¹çº ååˆ°å®é™…é“è·¯ä¸Šã€‚</p>
</li>
<li>
<p>æ¨èæ–‡æ¡£é“¾æ¥</p>
</li>
</ol>
<ul>
<li><strong>Android Maps SDK å¿«é€Ÿå…¥é—¨</strong></li>
<li><strong>Routes API è¿ç§»ä¸åŠŸèƒ½æŒ‡å—</strong></li>
<li><strong>WorkManager å¤„ç†åå°ä¸Šä¼ ä»»åŠ¡</strong></li>
</ul>
<h2 data-id="heading-31">PDF ç”Ÿæˆè®¾è®¡</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB;
pdfGenerate["PDF ç”Ÿæˆè®¾è®¡"]---&gt;é¢„å®šä¹‰æ¨¡ç‰ˆ
é¢„å®šä¹‰æ¨¡ç‰ˆ---&gt;ç³»ç»Ÿä¾›ç»™æ•°æ®
ç³»ç»Ÿä¾›ç»™æ•°æ®---&gt;engine["Electron æ’ä»¶ä½¿ç”¨æ¨¡ç‰ˆå¼•æ“ï¼ˆHandlebarsã€EJSã€Pug/Jadeï¼‰æ··å…¥æ•°æ®"]
engine---&gt;printOrGenerate["æ‰“å°æˆ–ç”Ÿæˆ PDF"]
engine---&gt;pluginUnbind["æ’ä»¶è§£è€¦ï¼Œä¸å¤„ç†ç”¨æˆ·æƒé™éªŒè¯ã€æ¨¡ç‰ˆå­˜å‚¨ï¼Œç”±åå°ç³»ç»Ÿä¼ å…¥"]
printOrGenerate---&gt;back["æ‰“å°æˆ–å›ä¼ æ•°æ®æµ"]
é¢„å®šä¹‰æ¨¡ç‰ˆ---&gt;æ‰©å±•
æ‰©å±•---&gt;ç”¨æˆ·è‡ªå®šä¹‰è®¾è®¡
æ‰©å±•---&gt;æ¨¡ç‰ˆé¢„è§ˆ
</code></pre>
<p>--end</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ21ï¼‰Hibernateçš„æ˜ å°„æ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7591360623469248522</link>    <guid>https://juejin.cn/post/7591360623469248522</guid>    <pubDate>2026-01-04T11:54:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591360623469248522" data-draft-id="7591346773827485722" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ21ï¼‰Hibernateçš„æ˜ å°„æ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-04T11:54:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ21ï¼‰Hibernateçš„æ˜ å°„æ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T11:54:03.000Z" title="Sun Jan 04 2026 11:54:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Hibernateçš„æ˜ å°„æ–‡ä»¶ï¼ˆMapping Fileï¼‰æ˜¯ç”¨æ¥å®šä¹‰Javaç±»å¦‚ä½•æ˜ å°„åˆ°æ•°æ®åº“è¡¨çš„XMLæ–‡ä»¶ã€‚å°½ç®¡æ³¨è§£æ–¹å¼è¶Šæ¥è¶Šæµè¡Œï¼Œä½†æ˜ å°„æ–‡ä»¶ä»ç„¶æ˜¯é…ç½®Hibernateæ˜ å°„å…³ç³»çš„é‡è¦æ–¹å¼ä¹‹ä¸€ã€‚åœ¨æ˜ å°„æ–‡ä»¶ä¸­ï¼Œä½ å¯ä»¥è¯¦ç»†é…ç½®ç±»ä¸è¡¨ã€å±æ€§ä¸åˆ—ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œå¹¶å®šä¹‰ä¸€äº›ç‰¹å®šçš„è¡Œä¸ºï¼Œå¦‚ä¸»é”®ç”Ÿæˆç­–ç•¥ã€å…³è”å…³ç³»ç­‰ã€‚</p>
<h3 data-id="heading-0">æ˜ å°„æ–‡ä»¶åŸºæœ¬ç»“æ„</h3>
<p>æ˜ å°„æ–‡ä»¶çš„åŸºæœ¬ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-mapping</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">"-//Hibernate/Hibernate Mapping DTD 3.0//EN"</span>
    <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">class</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"com.example.domain.EntityName"</span> <span class="hljs-attr">table</span>=<span class="hljs-string">"table_name"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"id"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"column_name"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">generator</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"generation_strategy"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"property_name"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"column_name"</span>/&gt;</span>
        <span class="hljs-comment">&lt;!-- å…¶ä»–å±æ€§æˆ–å…³è”å…³ç³»çš„æ˜ å°„ --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">class</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-mapping</span>&gt;</span>
</code></pre>
<h3 data-id="heading-1">ç¤ºä¾‹ä»£ç </h3>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹ï¼ŒåŒ…æ‹¬æ•°æ®åº“é…ç½®ã€å®ä½“ç±»ã€æ˜ å°„æ–‡ä»¶å’Œä½¿ç”¨Hibernateè¿›è¡ŒCRUDæ“ä½œçš„ä»£ç ã€‚</p>
<h4 data-id="heading-2">é…ç½®æ–‡ä»¶ <code>hibernate.cfg.xml</code></h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„æ–‡ä»¶é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">"com/example/domain/Person.hbm.xml"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-3">å®ä½“ç±» <code>Person</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-comment">// getters å’Œ setters</span>
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.age = age;
    }
}
</code></pre>
<h4 data-id="heading-4">æ˜ å°„æ–‡ä»¶ <code>Person.hbm.xml</code></h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-mapping</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">"-//Hibernate/Hibernate Mapping DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">class</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"com.example.domain.Person"</span> <span class="hljs-attr">table</span>=<span class="hljs-string">"person"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"id"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"id"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">generator</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"native"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"name"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"age"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"age"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">class</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-mapping</span>&gt;</span>
</code></pre>
<h3 data-id="heading-5">ä½¿ç”¨Hibernateè¿›è¡ŒCRUDæ“ä½œ</h3>
<h5 data-id="heading-6">HibernateUtilç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateUtil</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä»é…ç½®æ–‡ä»¶åˆ›å»ºSessionFactory</span>
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            <span class="hljs-comment">// è®°å½•å¯åŠ¨å¤±è´¥çš„é”™è¯¯</span>
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SessionFactory <span class="hljs-title function_">getSessionFactory</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> sessionFactory;
    }
}
</code></pre>
<h5 data-id="heading-7">CRUDæ“ä½œç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateCRUDExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥æ•°æ®</span>
        insertPerson(sessionFactory);

        <span class="hljs-comment">// æŸ¥è¯¢æ•°æ®</span>
        queryPerson(sessionFactory);

        <span class="hljs-comment">// æ›´æ–°æ•°æ®</span>
        updatePerson(sessionFactory);

        <span class="hljs-comment">// åˆ é™¤æ•°æ®</span>
        deletePerson(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertPerson</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            session.save(person);
            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted Person: "</span> + person.getName());
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryPerson</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> session.get(Person.class, <span class="hljs-number">1L</span>);
            <span class="hljs-keyword">if</span> (person != <span class="hljs-literal">null</span>) {
                System.out.println(<span class="hljs-string">"Queried Person: "</span> + person.getName() + <span class="hljs-string">", Age: "</span> + person.getAge());
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"No Person found with ID 1"</span>);
            }
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updatePerson</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> session.get(Person.class, <span class="hljs-number">1L</span>);
            <span class="hljs-keyword">if</span> (person != <span class="hljs-literal">null</span>) {
                person.setName(<span class="hljs-string">"Jane Doe"</span>);
                person.setAge(<span class="hljs-number">25</span>);
                session.update(person);
                transaction.commit();
                System.out.println(<span class="hljs-string">"Updated Person: "</span> + person.getName() + <span class="hljs-string">", Age: "</span> + person.getAge());
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"No Person found with ID 1"</span>);
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deletePerson</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> session.get(Person.class, <span class="hljs-number">1L</span>);
            <span class="hljs-keyword">if</span> (person != <span class="hljs-literal">null</span>) {
                session.delete(person);
                transaction.commit();
                System.out.println(<span class="hljs-string">"Deleted Person: "</span> + person.getName());
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"No Person found with ID 1"</span>);
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-8">è¯¦ç»†è§£é‡Š</h3>
<ol>
<li>
<p><strong>é…ç½®æ–‡ä»¶ <code>hibernate.cfg.xml</code></strong>ï¼šå®šä¹‰æ•°æ®åº“è¿æ¥ä¿¡æ¯ã€Hibernateå±æ€§é…ç½®ä»¥åŠå®ä½“ç±»çš„æ˜ å°„æ–‡ä»¶è·¯å¾„ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">"com/example/domain/Person.hbm.xml"</span>/&gt;</span>
</code></pre>
</li>
<li>
<p><strong>å®ä½“ç±» <code>Person</code></strong>ï¼šå®šä¹‰å®ä½“ç±»åŠå…¶å±æ€§ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
    <span class="hljs-comment">// å±æ€§å’Œæ–¹æ³•</span>
}
</code></pre>
</li>
<li>
<p><strong>æ˜ å°„æ–‡ä»¶ <code>Person.hbm.xml</code></strong>ï¼šå®šä¹‰å®ä½“ç±»ä¸æ•°æ®åº“è¡¨åŠå…¶åˆ—çš„æ˜ å°„å…³ç³»ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">class</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"com.example.domain.Person"</span> <span class="hljs-attr">table</span>=<span class="hljs-string">"person"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"id"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"id"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">generator</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"native"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"name"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"age"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"age"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">class</span>&gt;</span>
</code></pre>
</li>
<li>
<p><strong>HibernateUtilç±»</strong>ï¼šåˆ›å»ºå¹¶ç®¡ç†SessionFactoryã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateUtil</span> {
    <span class="hljs-comment">// åˆ›å»ºSessionFactoryçš„ä»£ç </span>
}
</code></pre>
</li>
<li>
<p><strong>CRUDæ“ä½œç±»</strong>ï¼šæ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨Hibernateè¿›è¡Œæ’å…¥ã€æŸ¥è¯¢ã€æ›´æ–°å’Œåˆ é™¤æ“ä½œã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateCRUDExample</span> {
    <span class="hljs-comment">// CRUDæ“ä½œæ–¹æ³•</span>
}
</code></pre>
</li>
</ol>
<h3 data-id="heading-9">æ€»ç»“</h3>
<p>Hibernateçš„æ˜ å°„æ–‡ä»¶æä¾›äº†ä¸€ç§é…ç½®Javaç±»ä¸æ•°æ®åº“è¡¨æ˜ å°„å…³ç³»çš„æ–¹å¼ã€‚é€šè¿‡é…ç½®æ˜ å°„æ–‡ä»¶ï¼Œå¯ä»¥çµæ´»åœ°å®šä¹‰ç±»ä¸è¡¨ã€å±æ€§ä¸åˆ—ä¹‹é—´çš„å…³ç³»ï¼Œå¹¶æŒ‡å®šä¸»é”®ç”Ÿæˆç­–ç•¥ã€å…³è”å…³ç³»ç­‰ã€‚åœ¨é…ç½®æ˜ å°„æ–‡ä»¶ä¹‹åï¼Œå¯ä»¥åˆ©ç”¨Hibernateçš„Sessionè¿›è¡ŒCRUDæ“ä½œï¼Œå®ç°å¯¹æ•°æ®åº“çš„è®¿é—®å’Œæ“ä½œã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[IDEA å®ç”¨å°æŠ€å·§ï¼ˆè‡ªç”¨ï¼‰]]></title>    <link>https://juejin.cn/post/7591309945510674432</link>    <guid>https://juejin.cn/post/7591309945510674432</guid>    <pubDate>2026-01-04T11:54:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591309945510674432" data-draft-id="7587062584165089318" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="IDEA å®ç”¨å°æŠ€å·§ï¼ˆè‡ªç”¨ï¼‰"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-04T11:54:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="pe7er"/> <meta itemprop="url" content="https://juejin.cn/user/905653310988445"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            IDEA å®ç”¨å°æŠ€å·§ï¼ˆè‡ªç”¨ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/905653310988445/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    pe7er
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T11:54:45.000Z" title="Sun Jan 04 2026 11:54:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Tabæ ‡ç­¾æŠ€å·§</h2>
<h3 data-id="heading-1">åˆ‡æ¢æ ‡ç­¾æŠ€å·§</h3>
<p>æ‰“å¼€å¾ˆå¤šæ–‡ä»¶æ—¶,è¦åœ¨å¤šä¸ªæ–‡ä»¶ä¹‹é—´åˆ‡æ¢,æ»šåŠ¨tabæ‰¾æ–‡ä»¶æ¯”è¾ƒéº»çƒ¦.</p>
<ul>
<li>å¯ä»¥è®¾ç½®å¤šè¡Œæ˜¾ç¤ºtabé€‰é¡¹å¡.</li>
<li>è®¾ç½®ã€Editorã€Generalã€ç¼–è¾‘å™¨æ ‡ç­¾é¡µã€åœ¨ä»¥ä¸‹ä½ç½®æ˜¾ç¤ºæ ‡ç­¾é¡µã€å¤šè¡Œã€‚</li>
<li>è®¾ç½®ã€Editorï¼ˆç¼–è¾‘å™¨ï¼‰ã€Generalï¼ˆå¸¸è§„ï¼‰ã€Editor Tabs,å–æ¶ˆå‹¾é€‰Show tabs in one row.</li>
<li>å°†å•ä¸ªtabæ‹–åŠ¨åˆ°è§†çª—çš„ä¸Šä¸‹å·¦å³æ¥å•ç‹¬å±•ç¤º,æœ‰å¤šä¸ªæ˜¾ç¤ºå™¨æ—¶è¿˜å¯ä»¥å°†æ–‡ä»¶å•ç‹¬æ‹–å‡ºæ¥æ˜¾ç¤º.</li>
<li>åœ¨tabé€‰é¡¹å¡ä¸Šç‚¹å‡»é¼ æ ‡å³é”®,é€‰æ‹©Pin tab,å°†ä¿®æ”¹é¢‘ç¹çš„æ–‡ä»¶é’‰åœ¨ç¬¬ä¸€ä¸ªä½ç½®,å¯ä»¥è®¢å¤šä¸ª.</li>
<li>è¶…è¿‡ä¸€è¡Œæ—¶,ç‚¹å‡»å³ä¾§çš„å‘ä¸‹ç®­å¤´,å¯ä»¥åˆ—å‡ºéšè—çš„æ–‡ä»¶.</li>
<li>å°†Show file extensionå–æ¶ˆå‹¾é€‰,é€šè¿‡æ–‡ä»¶å›¾æ ‡å’Œæ–‡ä»¶åæ¥è¯†åˆ«æ–‡ä»¶ç±»å‹.</li>
<li>å°†Show file iconå–æ¶ˆå‹¾é€‰,é€šè¿‡æ–‡ä»¶åå’Œæ–‡ä»¶åæ‰©å±•æ¥è¯†åˆ«æ–‡ä»¶ç±»å‹.</li>
<li>å°†Sort tabs alphabeticallyå‹¾é€‰,ä½¿ç”¨å­—æ¯è¡¨å¯¹æ–‡ä»¶åæ’åº.</li>
<li>å‹¾é€‰Open new tabs at the end,è®©æœ€æ–°æ‰“å¼€çš„æ–‡ä»¶æ”¾åœ¨æœ€å.ä¸å­—æ¯æ’åºå†²çª.</li>
</ul>
<h2 data-id="heading-2">ç¼–è¾‘å™¨æ·±åº¦æŠ€å·§</h2>
<ul>
<li>
<p>åœ¨ Tab ä¸­å¿«é€Ÿåˆ‡æ¢æœ€è¿‘ç¼–è¾‘è¿‡çš„åŒåæ–‡ä»¶</p>
<ul>
<li>å½“ä½ æ‰“å¼€å¤šä¸ªåŒåæ–‡ä»¶ï¼ˆæ¯”å¦‚ä¸åŒæ¨¡å—ä¸‹çš„ <code>Controller.java</code>ï¼‰ï¼ŒæŒ‰ <code>Alt + [</code> / <code>Alt + ]</code>ï¼ˆWindows/Linuxï¼‰æˆ– <code>Ctrl + Shift + [</code> / <code>Ctrl + Shift + ]</code>ï¼ˆMacï¼‰å¯ä»¥åœ¨åŒåæ–‡ä»¶ä¹‹é—´å¿«é€Ÿåˆ‡æ¢ï¼Œè€Œä¸æ˜¯æŒ‰æ™®é€š Tab é¡ºåºã€‚</li>
</ul>
</li>
<li>
<p>Alt + é¼ æ ‡æ‚¬åœæ˜¾ç¤ºæ‰€æœ‰æ–¹æ³•å®ç°</p>
<ul>
<li>é¼ æ ‡æ‚¬åœåœ¨æ¥å£æ–¹æ³•ä¸Šï¼ŒæŒ‰ <code>Alt</code> ä¼šæ˜¾ç¤ºå®ç°åˆ—è¡¨ï¼Œç›´æ¥ç‚¹å‡»è·³è½¬ï¼Œéå¸¸é€‚åˆå¤šå®ç°åœºæ™¯ã€‚</li>
</ul>
</li>
<li>
<p>åœ¨æ¥å£è°ƒç”¨æ–¹æ³•ä¸ŠæŒ‰ Ctrl + Alt + Bï¼ˆCommand + option + Bï¼‰å¯ä»¥å¿«é€Ÿæ‰“å¼€å®ç°æ–¹æ³•ï¼Œä¸ç”¨ä»æ¥å£å®šä¹‰å¤„å†ç»•ä¸€ä¸‹ã€‚</p>
</li>
<li>
<p>å¤šè¡Œç§»åŠ¨ä»£ç ä½†ä¸ç ´åç¼©è¿›</p>
<ul>
<li><code>Shift + Alt + â†‘/â†“</code>ï¼ˆWindows/Linuxï¼‰æˆ– <code>Option + Shift + â†‘/â†“</code>ï¼ˆMacï¼‰ç§»åŠ¨ä»£ç å—ï¼Œä¿ç•™ç¼©è¿›å±‚æ¬¡ï¼Œä¸ç”¨æ‰‹åŠ¨å¯¹é½ã€‚</li>
</ul>
</li>
<li>
<p>å¿«é€Ÿæ”¶èµ·å½“å‰æ–¹æ³•ä¹‹å¤–çš„æ‰€æœ‰ä»£ç </p>
<ul>
<li><code>Ctrl + Shift + -</code>ï¼ˆæŠ˜å æ‰€æœ‰ï¼‰ + <code>Ctrl + é¼ æ ‡ç‚¹å‡»</code> æ–¹æ³•æ—çš„ <code>+</code> å±•å¼€å½“å‰æ–¹æ³•ï¼Œä¸“æ³¨å½“å‰é€»è¾‘ã€‚</li>
</ul>
</li>
<li>
<p>åœ¨ç¼–è¾‘å™¨ç›´æ¥é‡å‘½åå¤šä¸ªåŒåå˜é‡ä½†èŒƒå›´é™å®š</p>
<ul>
<li><code>Shift + F6</code> é‡å‘½åæ—¶ï¼ŒæŒ‰ <code>Tab</code> å¯ä»¥åˆ‡æ¢ä½œç”¨åŸŸï¼ˆå½“å‰æ–¹æ³• / å½“å‰ç±» / å…¨å±€ï¼‰ï¼Œé¿å…è¯¯æ”¹ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-3">Tab å’Œçª—å£ç®¡ç†æ·±å±‚æŠ€å·§</h2>
<ul>
<li>
<p>æ‹–åŠ¨ Tab å‡ºçª—å£åˆ°æ–°çª—å£åï¼ŒåŒæ—¶ä¿æŒåŸçª—å£çš„æ‹†åˆ†å¸ƒå±€ï¼ˆé€‚ç”¨äºå¤šå—å±å¹•å¼€å‘ï¼‰</p>
<ul>
<li>å°† Tab æ‹–å‡ºåï¼Œå¯ä»¥åœ¨æ–°çª—å£ä¸­ç»§ç»­æ‹†åˆ†ä¸Šä¸‹å·¦å³ï¼Œä¸ç ´ååŸæ¥çš„å¸ƒå±€ã€‚</li>
</ul>
</li>
<li>
<p>éšè—æ‰€æœ‰ Tab ä½†ä¿æŒç¼–è¾‘å™¨æ´»åŠ¨</p>
<ul>
<li><code>View â†’ Appearance â†’ Show Tabs</code> â†’ å–æ¶ˆå‹¾é€‰ï¼Œä½†é€šè¿‡ <code>Ctrl + E</code> / <code>Cmd + E</code> ä¾ç„¶å¯ä»¥å¿«é€Ÿåˆ‡æ¢æ–‡ä»¶ï¼ŒèŠ‚çœç©ºé—´ã€‚</li>
</ul>
</li>
<li>
<p>å¿«é€Ÿå…³é—­å…¶ä»–æ‰€æœ‰ Tab ä½†ä¿ç•™ Pin çš„</p>
<ul>
<li>å³é”® Tab â†’ <code>Close All Except Pinned</code>ï¼Œå¿«é€Ÿæ¸…ç†å·¥ä½œåŒºã€‚</li>
</ul>
</li>
<li>
<p>æŒ‰æœ€è¿‘è®¿é—®é¡ºåºå¾ªç¯ Tab</p>
<ul>
<li><code>Ctrl + Tab</code>ï¼ˆWindows/Linuxï¼‰æˆ– <code>Cmd + E</code> é•¿æŒ‰ï¼Œå¯åœ¨æœ€è¿‘ä½¿ç”¨æ–‡ä»¶ä¹‹é—´å¾ªç¯ï¼Œè€Œä¸æ˜¯å›ºå®šé¡ºåºã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-4">æ§åˆ¶å° &amp; æ—¥å¿—æ·±å±‚æŠ€å·§</h2>
<ul>
<li>
<p>æ§åˆ¶å°æ‰“å°æ—¥å¿—å¼€å¯è‡ªåŠ¨æ¢è¡Œ</p>
<p>ç¼–è¾‘å™¨ã€å¸¸è§„ã€æ§åˆ¶å°ï¼Œå‹¾é€‰åœ¨æ§åˆ¶å°ä½¿ç”¨è‡ªåŠ¨æ¢è¡Œã€‚</p>
</li>
<li>
<p>åœ¨æ§åˆ¶å°ç›´æ¥æ‰“å¼€æ—¥å¿—æ–‡ä»¶å¯¹åº”ä»£ç </p>
<ul>
<li>åŒå‡»å †æ ˆè¡Œæ—¶ï¼Œé»˜è®¤è·³è½¬åˆ°æ–¹æ³•å£°æ˜ã€‚å¦‚æœä½ æŒ‰ä½ <code>Ctrl + Shift</code>ï¼ˆWindows/Linuxï¼‰æˆ– <code>Cmd + Shift</code>ï¼ˆMacï¼‰å†åŒå‡»ï¼Œä¼šè·³åˆ°çœŸæ­£çš„è°ƒç”¨è¡Œï¼ˆå †æ ˆè¡Œæ‰€åœ¨æ–‡ä»¶ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p>æ§åˆ¶å°ä¸­é«˜äº®å…³é”®å­—</p>
<ul>
<li>åœ¨ Run/Debug é…ç½®ä¸­ â†’ Logs â†’ â€œHighlight keywordsâ€ï¼Œå¯é«˜äº® ERROR/WARN ç­‰ï¼Œä¾¿äºå¤§æ—¥å¿—å¿«é€Ÿå®šä½ã€‚</li>
</ul>
</li>
<li>
<p>æŠ˜å è¿ç»­é‡å¤æ—¥å¿—</p>
<ul>
<li>å³é”®é€‰ä¸­é‡å¤è¡Œ â†’ <code>Fold Lines Like This</code>ï¼ŒIDEA è‡ªåŠ¨æŠ˜å åç»­ç›¸åŒå†…å®¹ï¼Œä¿æŒæ§åˆ¶å°ç®€æ´ã€‚</li>
</ul>
</li>
<li>
<p>Console å¿«é€Ÿæ‹·è´å¤šè¡Œä¸”ä¿ç•™æ—¶é—´æˆ³</p>
<ul>
<li>æŒ‰ä½ <code>Alt</code> é€‰æ‹©å¤šè¡Œï¼ˆåˆ—é€‰æ‹©æ¨¡å¼ï¼‰ï¼Œå¯ä»¥ä¿ç•™æ¯è¡Œå‰çš„æ—¶é—´æˆ³å’Œæ ¼å¼ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-5">æœç´¢ / æŸ¥æ‰¾æ·±å±‚æŠ€å·§</h2>
<ul>
<li>
<p>ç»“æ„æœç´¢ï¼ˆStructural Searchï¼‰</p>
<ul>
<li><code>Edit â†’ Find â†’ Search Structurally</code>ï¼Œä¸ä»…èƒ½æŒ‰æ–‡æœ¬æœç´¢ï¼Œè¿˜èƒ½æŒ‰ä»£ç ç»“æ„æœç´¢ï¼Œæ¯”å¦‚â€œæ‰¾å‡ºæ‰€æœ‰ try/catch å†…æŠ› RuntimeException çš„åœ°æ–¹â€ï¼Œæ¯”æ™®é€šæœç´¢ç²¾å‡†ã€‚</li>
</ul>
</li>
<li>
<p>æ›¿æ¢ä»£ç ç»“æ„</p>
<ul>
<li><code>Replace Structurally</code> å¯ä»¥æ‰¹é‡ä¿®æ”¹åŒ¹é…ç»“æ„çš„ä»£ç ï¼Œæ¯”å¦‚æ‰¹é‡æ›¿æ¢æ—§æ–¹æ³•è°ƒç”¨ã€‚</li>
</ul>
</li>
<li>
<p>å¤šè¡Œæ­£åˆ™æ›¿æ¢</p>
<ul>
<li>æœç´¢æ¡†å‹¾é€‰ Regex å¹¶ç”¨ <code>\n</code> åŒ¹é…æ¢è¡Œï¼Œå¯ä»¥ä¸€æ¬¡ä¿®æ”¹æ•´ä¸ªæ–¹æ³•ä½“ï¼Œæ™®é€šæœç´¢åšä¸åˆ°ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-6">é¡¹ç›®ä¸æ–‡ä»¶æŠ€å·§</h2>
<ul>
<li>
<p>æ’é™¤æŸç±»æ–‡ä»¶/æ–‡ä»¶å¤¹</p>
<ul>
<li>å³é”® â†’ <code>Mark Directory as â†’ Excluded</code>ï¼ŒIDEA ä¸å†ç´¢å¼•ï¼Œæœç´¢æ›´å¿«ï¼ŒTab ä¹Ÿä¸ä¼šæ˜¾ç¤ºã€‚</li>
</ul>
</li>
<li>
<p>å°†å¸¸ç”¨æ¨¡å—/åŒ…å›ºå®šåˆ° Project å·¥å…·æ </p>
<ul>
<li>Project å·¥å…·æ  â†’ å³é”® <code>Add to Favorites</code> â†’ å¯ä»¥å¿«é€Ÿè·³è½¬åˆ°æ·±å±‚æ¨¡å—ï¼Œè€Œä¸ç¿»æ ‘ã€‚</li>
</ul>
<p>è¿™æ˜¯æˆ‘åœ¨å†…ç½‘å¼€å‘æœ€çˆ±çš„åŠŸèƒ½ï¼Œå¯ä»¥å®Œå…¨æ›¿ä»£ Project é€‰é¡¹å¡ï¼Œå°† Favorites æ‹–åŠ¨åˆ° Project é€‰é¡¹å¡ä¸€èµ·ï¼Œå¹³æ—¶ç”¨ Favorites ç®¡ç†æ–­ç‚¹ã€TODOã€ç¼–å†™å¤šæ¨¡å—ä»£ç ï¼Œä¸å¤Ÿç”¨æ—¶å†åˆ° Project é€‰é¡¹å¡ä¸­ä½¿ç”¨ã€‚è€ç‰ˆæœ¬çš„å«æ”¶è—å¤¹ï¼ˆFavoritesï¼‰ï¼Œæ–°ç‰ˆæœ¬çš„å«ä¹¦ç­¾ï¼ˆBookmarkï¼‰ï¼Œæ³¨æ„ç”„åˆ«ï¼Œä½†åŠŸèƒ½éƒ½ä¸€æ ·ï¼Œåªæ˜¯å«æ³•ä¸ä¸€æ ·ã€‚</p>
</li>
<li>
<p>ä¸´æ—¶æ–‡ä»¶æ¯”è¾ƒ</p>
<ul>
<li>é€‰ä¸­ä¸¤ä¸ªæ–‡ä»¶ â†’ <code>Compare Files</code>ï¼Œæ— éœ€åˆ‡æ¢ç‰ˆæœ¬æ§åˆ¶ï¼Œéå¸¸é€‚åˆå¿«é€Ÿ diffã€‚</li>
<li>å¤åˆ¶éœ€è¦å¯¹æ¯”çš„ä»£ç ï¼Œåœ¨è¦å¯¹æ¯”çš„æ–‡ä»¶ä¸Šç‚¹å‡»é¼ æ ‡å³é”®ï¼Œé€‰æ‹©ä¸ç¼–è¾‘å™¨å¯¹æ¯”ï¼ˆCompare File with Editorï¼‰ï¼Œåªåœ¨ç²˜è´´æ¿æœ‰å†…å®¹æ—¶ä¼šæœ‰ã€‚ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-7">Debug / Runtime æŠ€å·§</h2>
<ul>
<li>
<p>Evaluate Expression çš„å¿«æ·é‡ç½®</p>
<ul>
<li>Debug çª—å£ä¸­ <code>Alt + F8</code>ï¼ˆEvaluate Expressionï¼‰ï¼Œè¾“å…¥è¡¨è¾¾å¼åæŒ‰ <code>Alt + R</code> å¯å¿«é€Ÿé‡ç½®ç»“æœï¼Œæ— éœ€æ‰‹åŠ¨æ¸…ç©ºã€‚</li>
</ul>
</li>
<li>
<p>Inline Watch</p>
<ul>
<li>åœ¨ Debug æ—¶ï¼ŒæŒ‰ <code>Ctrl + Shift + F8</code> å¯ä»¥åœ¨ä»£ç æ—è¾¹ç›´æ¥æ˜¾ç¤ºå˜é‡çš„å€¼ï¼Œè€Œä¸æ˜¯åº•éƒ¨çª—å£ã€‚</li>
</ul>
</li>
<li>
<p>ä¸´æ—¶æ–­ç‚¹æ¡ä»¶å¿«é€Ÿåº”ç”¨</p>
<ul>
<li>å³é”®æ–­ç‚¹ â†’ <code>More</code> â†’ <code>Condition</code>ï¼Œè¾“å…¥è¡¨è¾¾å¼ï¼›æŒ‰ <code>Ctrl + Shift + F9</code> å¯ä¸´æ—¶ç¦ç”¨/å¯ç”¨æ‰€æœ‰æ¡ä»¶æ–­ç‚¹ã€‚æ–°ç‰ˆæœ¬åˆ™æ˜¯å³é”®æ‰“å¼€é¢æ¿è¿›è¡Œè®¾ç½®ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-8">æ€§èƒ½æŠ€å·§</h2>
<ul>
<li>åœ¨åº•éƒ¨çŠ¶æ€æ å³é”®ï¼Œå‹¾é€‰å†…å­˜æŒ‡ç¤ºå™¨ï¼ˆMemory Indicatorï¼‰ï¼Œå¯ä»¥å¿«é€Ÿç›‘æµ‹å½“å‰IDEAå†…å­˜å˜åŒ–ã€‚å¯ä»¥ç®€å•è¯†åˆ«å†…å­˜æ˜¯å¦æ³„éœ²ï¼Œé¼ æ ‡ hover ä¸Šå»å¯ä»¥æŸ¥çœ‹æ›´è¯¦ç»†ä¿¡æ¯ã€‚</li>
</ul>
<h2 data-id="heading-9">ç§»åŠ¨åŠå…¬æ¨¡å¼</h2>
<ul>
<li>å½“æºå¸¦ç¬”è®°æœ¬ç§»åŠ¨åŠå…¬æ—¶ï¼ˆæƒ¨ï¼‰ï¼Œæ²¡æœ‰ç”µæºä¾›ç”µï¼Œåœ¨åº•éƒ¨çŠ¶æ€æ ç‚¹å‡»é¼ æ ‡å³é”®ï¼Œå‹¾é€‰çœç”µæ¨¡å¼ï¼ˆPower Save Modeï¼‰ï¼Œå¯ä»¥æ‰“å¼€çœç”µæ¨¡å¼ï¼Œä¼šå…³é—­ä¸€äº›è‡ªåŠ¨ç¼–è¯‘ã€çƒ­æ›´æ–°çš„é¢‘ç¹æ‰§è¡Œçš„æ“ä½œä»¥èŠ‚çœç”µé‡ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ22ï¼‰Hibernateçš„æ³¨è§£é…ç½®æ˜¯ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7591334208997228570</link>    <guid>https://juejin.cn/post/7591334208997228570</guid>    <pubDate>2026-01-04T11:54:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591334208997228570" data-draft-id="7591338980693606446" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ22ï¼‰Hibernateçš„æ³¨è§£é…ç½®æ˜¯ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-04T11:54:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ22ï¼‰Hibernateçš„æ³¨è§£é…ç½®æ˜¯ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T11:54:47.000Z" title="Sun Jan 04 2026 11:54:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Hibernateçš„æ³¨è§£é…ç½®æ˜¯ä¸€ç§é€šè¿‡åœ¨Javaç±»å’Œå±æ€§ä¸Šä½¿ç”¨æ³¨è§£æ¥å®šä¹‰æ•°æ®åº“æ˜ å°„å…³ç³»çš„æ–¹å¼ï¼Œå–ä»£äº†ä¼ ç»Ÿçš„XMLæ˜ å°„æ–‡ä»¶ã€‚è¿™ç§æ–¹å¼ä½¿å¾—é…ç½®æ›´åŠ ç›´è§‚å’Œç®€æ´ï¼Œå‡å°‘äº†é…ç½®æ–‡ä»¶çš„ç»´æŠ¤å·¥ä½œã€‚</p>
<h3 data-id="heading-0">ä½¿ç”¨æ³¨è§£é…ç½®Hibernate</h3>
<h4 data-id="heading-1">é…ç½®æ­¥éª¤</h4>
<ol>
<li><strong>é…ç½®Hibernateçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</strong> <code>hibernate.cfg.xml</code>ã€‚</li>
<li><strong>åˆ›å»ºå®ä½“ç±»</strong>ï¼Œå¹¶ä½¿ç”¨JPAå’ŒHibernateçš„æ³¨è§£æ¥å®šä¹‰ç±»å’Œå±æ€§çš„æ˜ å°„ã€‚</li>
<li><strong>ä½¿ç”¨Hibernateè¿›è¡ŒCRUDæ“ä½œ</strong>ã€‚</li>
</ol>
<h3 data-id="heading-2">ç¤ºä¾‹ä»£ç </h3>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹ï¼ŒåŒ…æ‹¬æ•°æ®åº“é…ç½®ã€å®ä½“ç±»ã€ä»¥åŠä½¿ç”¨Hibernateè¿›è¡ŒCRUDæ“ä½œçš„ä»£ç ã€‚</p>
<h4 data-id="heading-3">é…ç½®æ–‡ä»¶ <code>hibernate.cfg.xml</code></h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ³¨è§£å®ä½“ç±»é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Person"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-4">å®ä½“ç±» <code>Person</code></h4>
<p>ä½¿ç”¨JPAå’ŒHibernateçš„æ³¨è§£æ¥é…ç½®å®ä½“ç±»ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "person")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "name")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@Column(name = "age")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-comment">// getters å’Œ setters</span>
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.age = age;
    }
}
</code></pre>
<h3 data-id="heading-5">ä½¿ç”¨Hibernateè¿›è¡ŒCRUDæ“ä½œ</h3>
<h5 data-id="heading-6">HibernateUtilç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateUtil</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä»é…ç½®æ–‡ä»¶åˆ›å»ºSessionFactory</span>
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            <span class="hljs-comment">// è®°å½•å¯åŠ¨å¤±è´¥çš„é”™è¯¯</span>
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SessionFactory <span class="hljs-title function_">getSessionFactory</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> sessionFactory;
    }
}
</code></pre>
<h5 data-id="heading-7">CRUDæ“ä½œç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateCRUDExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥æ•°æ®</span>
        insertPerson(sessionFactory);

        <span class="hljs-comment">// æŸ¥è¯¢æ•°æ®</span>
        queryPerson(sessionFactory);

        <span class="hljs-comment">// æ›´æ–°æ•°æ®</span>
        updatePerson(sessionFactory);

        <span class="hljs-comment">// åˆ é™¤æ•°æ®</span>
        deletePerson(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertPerson</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            session.save(person);
            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted Person: "</span> + person.getName());
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryPerson</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> session.get(Person.class, <span class="hljs-number">1L</span>);
            <span class="hljs-keyword">if</span> (person != <span class="hljs-literal">null</span>) {
                System.out.println(<span class="hljs-string">"Queried Person: "</span> + person.getName() + <span class="hljs-string">", Age: "</span> + person.getAge());
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"No Person found with ID 1"</span>);
            }
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updatePerson</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> session.get(Person.class, <span class="hljs-number">1L</span>);
            <span class="hljs-keyword">if</span> (person != <span class="hljs-literal">null</span>) {
                person.setName(<span class="hljs-string">"Jane Doe"</span>);
                person.setAge(<span class="hljs-number">25</span>);
                session.update(person);
                transaction.commit();
                System.out.println(<span class="hljs-string">"Updated Person: "</span> + person.getName() + <span class="hljs-string">", Age: "</span> + person.getAge());
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"No Person found with ID 1"</span>);
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deletePerson</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> session.get(Person.class, <span class="hljs-number">1L</span>);
            <span class="hljs-keyword">if</span> (person != <span class="hljs-literal">null</span>) {
                session.delete(person);
                transaction.commit();
                System.out.println(<span class="hljs-string">"Deleted Person: "</span> + person.getName());
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"No Person found with ID 1"</span>);
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-8">è¯¦ç»†è§£é‡Š</h3>
<ol>
<li>
<p><strong>é…ç½®æ–‡ä»¶ <code>hibernate.cfg.xml</code></strong>ï¼šå®šä¹‰æ•°æ®åº“è¿æ¥ä¿¡æ¯ã€Hibernateå±æ€§ä»¥åŠå®ä½“ç±»æ˜ å°„é…ç½®ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Person"</span>/&gt;</span>
</code></pre>
</li>
<li>
<p><strong>å®ä½“ç±» <code>Person</code></strong>ï¼šä½¿ç”¨JPAå’ŒHibernateçš„æ³¨è§£å®šä¹‰å®ä½“ç±»åŠå…¶å±æ€§çš„æ˜ å°„ã€‚</p>
<ul>
<li><code>@Entity</code>ï¼šæŒ‡å®šè¿™æ˜¯ä¸€ä¸ªæŒä¹…åŒ–å®ä½“ã€‚</li>
<li><code>@Table(name = "person")</code>ï¼šæŒ‡å®šè¡¨åã€‚</li>
<li><code>@Id</code>ï¼šè¡¨ç¤ºä¸»é”®ã€‚</li>
<li><code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code>ï¼šæŒ‡å®šä¸»é”®ç”Ÿæˆç­–ç•¥ã€‚</li>
<li><code>@Column(name = "name")</code>ï¼šæŒ‡å®šåˆ—åã€‚</li>
</ul>
</li>
<li>
<p><strong>HibernateUtilç±»</strong>ï¼šåˆ›å»ºå¹¶ç®¡ç†SessionFactoryã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateUtil</span> {
    <span class="hljs-comment">// åˆ›å»ºSessionFactoryçš„ä»£ç </span>
}
</code></pre>
</li>
<li>
<p><strong>CRUDæ“ä½œç±»</strong>ï¼šæ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨Hibernateè¿›è¡Œæ’å…¥ã€æŸ¥è¯¢ã€æ›´æ–°å’Œåˆ é™¤æ“ä½œã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateCRUDExample</span> {
    <span class="hljs-comment">// CRUDæ“ä½œæ–¹æ³•</span>
}
</code></pre>
</li>
</ol>
<h3 data-id="heading-9">æ€»ç»“</h3>
<p>ä½¿ç”¨æ³¨è§£é…ç½®Hibernateï¼Œå¯ä»¥ä½¿å¾—é…ç½®æ›´åŠ ç›´è§‚å’Œç®€æ´ï¼Œå‡å°‘é…ç½®æ–‡ä»¶çš„ç»´æŠ¤å·¥ä½œã€‚é€šè¿‡åœ¨å®ä½“ç±»ä¸­ä½¿ç”¨JPAå’ŒHibernateçš„æ³¨è§£ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®šä¹‰ç±»å’Œå±æ€§ä¸æ•°æ®åº“è¡¨å’Œåˆ—ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚åœ¨é…ç½®å®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨Hibernateçš„Sessionè¿›è¡ŒCRUDæ“ä½œï¼Œå®ç°å¯¹æ•°æ®åº“çš„è®¿é—®å’Œæ“ä½œã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•é˜…è¯»è‹±æ–‡æ–‡æ¡£]]></title>    <link>https://juejin.cn/post/7591309945510690816</link>    <guid>https://juejin.cn/post/7591309945510690816</guid>    <pubDate>2026-01-04T11:56:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591309945510690816" data-draft-id="7588799600166469642" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•é˜…è¯»è‹±æ–‡æ–‡æ¡£"/> <meta itemprop="keywords" content="Java,å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2026-01-04T11:56:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="pe7er"/> <meta itemprop="url" content="https://juejin.cn/user/905653310988445"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•é˜…è¯»è‹±æ–‡æ–‡æ¡£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/905653310988445/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    pe7er
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T11:56:00.000Z" title="Sun Jan 04 2026 11:56:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ—¥å¸¸å¼€å‘å·¥ä½œä¸­ï¼Œå¼€å‘è€…å‡ ä¹ä¸€ç›´å¤„äºæŒç»­å­¦ä¹ çŠ¶æ€ã€‚  å¯¹äºä¼˜ç§€çš„ä¸­æ–‡ç¤¾åŒºçš„æŠ€æœ¯ï¼Œé˜…è¯»å½“ç„¶æ²¡æœ‰é—®é¢˜ï¼Œä½†ä¹Ÿæœ‰å¾ˆå¤šä¼˜ç§€çš„æŠ€æœ¯ã€æ¡†æ¶ã€å‰æ²¿æŠ€æœ¯å’Œå·¥å…·å¹¶éç”±å›½äººå¼€å‘ï¼Œç›¸å¯¹å°ä¼—ï¼Œä½†å´éå¸¸é‡è¦ã€‚è¿™ç±»é¡¹ç›®å¾€å¾€åªæœ‰è‹±æ–‡ç”šè‡³æ—¥æ–‡å®˜æ–¹æ–‡æ¡£ï¼Œä¹Ÿç¼ºä¹ä¸­æ–‡ç¤¾åŒºçš„ç¿»è¯‘è´¡çŒ®ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé«˜æ•ˆã€å¯é çš„ç¿»è¯‘å·¥å…·å‡ ä¹æ˜¯å¿…å¤‡èƒ½åŠ›ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä»ä¼ ç»Ÿè¯å…¸åˆ° AI ç¿»è¯‘</h2>
<p>æ—©æœŸå¸¸ç”¨çš„è¯å…¸å·¥å…·ï¼š</p>
<ul>
<li>é‡‘å±±è¯éœ¸</li>
<li>çµæ ¼æ–¯</li>
<li>æœ‰é“è¯å…¸</li>
</ul>
<p>è¿™äº›å·¥å…·ä¸»è¦ç”¨äºé€è¯ç¿»è¯‘ã€‚</p>
<p>åæ¥å‡ºç°çš„ç¿»è¯‘å·¥å…·ï¼š</p>
<ul>
<li>æœ‰é“ç¿»è¯‘</li>
<li>å¿…åº”ç¿»è¯‘</li>
<li>Google ç¿»è¯‘</li>
<li>ç™¾åº¦ç¿»è¯‘</li>
</ul>
<p>å¯ä»¥æ”¯æŒæ•´å¥ã€æ•´æ®µç¿»è¯‘ã€‚åœ¨å†…ç½‘æˆ–å—é™ç¯å¢ƒä¸‹ï¼Œé‡‘å±±è¯éœ¸ã€çµæ ¼æ–¯ç­‰ç¦»çº¿è¯å…¸ä»æœ‰ä½¿ç”¨ä»·å€¼ã€‚</p>
<p>éšç€ AI æŠ€æœ¯çš„å‘å±•ï¼Œç¿»è¯‘å·¥å…·åœ¨å‡†ç¡®æ€§å’Œä¸Šä¸‹æ–‡ç†è§£èƒ½åŠ›ä¸Šæœ‰äº†æ˜¾è‘—æå‡ã€‚</p>
<hr/>
<h2 data-id="heading-1">åœ¨çº¿ç¿»è¯‘è‹±æ–‡æ–‡æ¡£ä¸ä¹¦ç±</h2>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>Project Gutenberg ç­‰åˆæ³•å…¬ç‰ˆç”µå­ä¹¦</li>
<li>ç¤¾åŒºå¼€å‘è€…ç¼–å†™çš„å¼€æºæ–‡æ¡£</li>
<li>æ²¡æœ‰ä¿¡æ¯å®‰å…¨æˆ–ä¼ æ’­é™åˆ¶çš„èµ„æ–™</li>
</ul>
<h3 data-id="heading-2">åœ¨çº¿ç½‘é¡µç¿»è¯‘</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fapp.immersivetranslate.cn%2F" target="_blank" title="https://app.immersivetranslate.cn/" ref="nofollow noopener noreferrer">Immersive Translate</a></p>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>ä½¿ç”¨æ–¹ä¾¿</li>
<li>ç¿»è¯‘è´¨é‡é«˜</li>
<li>é€‚åˆé˜…è¯»ç½‘é¡µæ–‡æ¡£</li>
</ul>
<p>é™åˆ¶ï¼š</p>
<ul>
<li>ä¸æ”¯æŒ OCR</li>
<li>ä¸æ”¯æŒ EPUB å†…å›¾ç‰‡ç¿»è¯‘</li>
</ul>
<h3 data-id="heading-3">åœ¨çº¿ç¿»è¯‘ç”µå­ä¹¦</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fapp.immersivetranslate.cn%2Febook%2F" target="_blank" title="https://app.immersivetranslate.cn/ebook/" ref="nofollow noopener noreferrer">Immersive Translate Ebook</a></p>
<p>æ”¯æŒç›´æ¥ä¸Šä¼ ç”µå­ä¹¦è¿›è¡Œç¿»è¯‘ï¼Œé€‚åˆå¿«é€Ÿé˜…è¯»å¤–æ–‡æŠ€æœ¯ä¹¦ç±ã€‚ç±»ä¼¼å·¥å…·è¿˜æœ‰ AnyDocã€XX ç¿»è¯‘ã€‚</p>
<hr/>
<h2 data-id="heading-4">å›¾ç‰‡ç¿»è¯‘</h2>
<p>é€‚åˆåœºæ™¯ï¼š</p>
<ul>
<li>æ¼«ç”»æˆ–å¯¹è¯æˆªå›¾</li>
<li>å¤æ‚æµç¨‹å›¾</li>
<li>æŠ€æœ¯ç¤ºæ„å›¾</li>
</ul>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fapp.immersivetranslate.cn%2Fimage%2F" target="_blank" title="https://app.immersivetranslate.cn/image/" ref="nofollow noopener noreferrer">Immersive Translate Image</a></p>
<p>å…è´¹ç‰ˆä¸ä»˜è´¹ç‰ˆåŒºåˆ«ï¼š</p>
<ul>
<li>ä»˜è´¹æ’ä»¶ç›´æ¥åœ¨åŸå›¾ä¸Šæ›¿æ¢ç¿»è¯‘å†…å®¹</li>
<li>å…è´¹æ–¹å¼é€šè¿‡ Google Lens ç­‰å·¥å…·è·³è½¬ç¿»è¯‘</li>
</ul>
<hr/>
<h2 data-id="heading-5">ç¦»çº¿ç¿»è¯‘ï¼ˆä¿¡æ¯å®‰å…¨åœºæ™¯ï¼‰</h2>
<p>é€‚ç”¨æ¡ä»¶ï¼š</p>
<ul>
<li>åˆæ³•è´­ä¹°çš„å¤–æ–‡ç”µå­ä¹¦</li>
<li>æœ‰ä¿¡æ¯å®‰å…¨æˆ–ä¼ æ’­é™åˆ¶</li>
<li>æ— æ³•ä½¿ç”¨åœ¨çº¿å·¥å…·</li>
</ul>
<p>æ¨èæ–¹æ¡ˆï¼š</p>
<ul>
<li>æœ¬åœ° AI + Calibre + Ebook Translator æ’ä»¶</li>
</ul>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ”¯æŒå¤šç§ç”µå­ä¹¦æ ¼å¼</li>
<li>å¯å®Œå…¨ç¦»çº¿ä½¿ç”¨</li>
</ul>
<p>é™åˆ¶ï¼š</p>
<ul>
<li>ä¸æ”¯æŒ OCRï¼ˆæ‰«æç‰ˆæ— æ³•å¤„ç†ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-6">é˜…è¯» GitHub è‹±æ–‡é¡¹ç›®</h2>
<p>ä½¿ç”¨ DeepWiki å¯ä»¥ï¼š</p>
<ul>
<li>ä»¥è‡ªç„¶è¯­è¨€ç†è§£ä»“åº“ä»£ç </li>
<li>ç›´æ¥è¯¢é—®é¡¹ç›®åŠŸèƒ½</li>
<li>ç†è§£å¤æ‚é€»è¾‘å’Œç”¨æ³•</li>
</ul>
<p>å¯¹äºå¤æ‚å‡½æ•°æˆ–æ³¨é‡Šå°‘çš„æ¨¡å—ï¼Œå¯ç»“åˆ DeepWiki + ChatGPT åˆ†æ­¥æé—®ï¼Œè·å¾—ä¸­æ–‡æ€»ç»“å’Œç¤ºä¾‹è°ƒç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-7">æµè§ˆå™¨ä¸å¹³å°è‡ªå¸¦ç¿»è¯‘</h2>
<p>Microsoft Edgeï¼š</p>
<ul>
<li>å†…ç½®ç½‘é¡µç¿»è¯‘</li>
<li>ç½‘ç»œä¸ä½³æ—¶ä¾ç„¶ç¨³å®š</li>
</ul>
<p>iOS å¼€å‘æ–‡æ¡£ï¼š</p>
<ul>
<li>ä½¿ç”¨ ADDTï¼ˆæ”¶è´¹æ’ä»¶ï¼‰</li>
<li>ä»·æ ¼ä¾¿å®œï¼Œä½“éªŒä¸é”™</li>
</ul>
<p>Android / Web å¼€å‘æ–‡æ¡£ï¼š</p>
<ul>
<li>Google å®˜æ–¹æ–‡æ¡£å¤§å¤šæ”¯æŒç›´æ¥åˆ‡æ¢ä¸­æ–‡</li>
<li>ä¸æ”¯æŒçš„é¡µé¢å¯ä½¿ç”¨ Chrome å†…ç½®ç¿»è¯‘æˆ–ç¿»è¯‘æ’ä»¶</li>
</ul>
<hr/>
<h2 data-id="heading-8">é¢å¤–æŠ€å·§</h2>
<ul>
<li>å¤šå·¥å…·ç»„åˆä½¿ç”¨ï¼šæ–‡æ¡£å¯ç”¨ DeepLã€Google ç¿»è¯‘ã€Calibre + Ebook Translatorï¼Œå›¾ç‰‡å¯ç”¨ Google Lens / ABBYY OCRï¼Œä»£ç å¯ç”¨ DeepWiki + ChatGPT</li>
<li>ç»“åˆåŸæ–‡é˜…è¯»ï¼ŒAI ç¿»è¯‘å¹¶éå®Œå…¨å‡†ç¡®ï¼Œä¼šé—¹å‡ºè®¸å¤šç¬‘è¯ä¹Œé¾™ï¼Œéœ€è¦æŒç»­ä¿®è®¢ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-9">æ‰©å±•å®ç”¨ç¿»è¯‘å·¥å…·æ¸…å•</h2>
<h3 data-id="heading-10">åœ¨çº¿ AI ç¿»è¯‘å·¥å…·</h3>



































<table><thead><tr><th>å·¥å…·</th><th>ç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>DeepL</td><td>ç¿»è¯‘è´¨é‡é«˜ï¼Œè¯­å¢ƒç†è§£å¥½ï¼Œæ”¯æŒæ–‡æ¡£ä¸Šä¼ </td><td>è‹±æ–‡ / å¾·æ–‡ / æ³•æ–‡æ–‡æ¡£ç¿»è¯‘ï¼ŒæŠ€æœ¯æ–‡æ¡£å’Œæ–‡ç« </td></tr><tr><td>Google Translate</td><td>æ”¯æŒç½‘é¡µã€æ–‡æœ¬ã€æ–‡æ¡£ã€å›¾ç‰‡ç¿»è¯‘ï¼Œå…è´¹</td><td>å¸¸è§„ç½‘é¡µã€æ–‡æ¡£ç¿»è¯‘</td></tr><tr><td>Bing Microsoft Translator</td><td>å¾®è½¯å®˜æ–¹ç¿»è¯‘ï¼Œé›†æˆ Edge æµè§ˆå™¨</td><td>æŠ€æœ¯æ–‡æ¡£ç½‘é¡µå¿«é€Ÿç¿»è¯‘</td></tr><tr><td>Youdao ç¿»è¯‘ç½‘é¡µç‰ˆ</td><td>æ”¯æŒæ•´å¥æ•´æ®µç¿»è¯‘</td><td>æ—¥æ–‡ã€è‹±æ–‡æ–‡æ¡£ï¼Œæ”¯æŒæŠ€æœ¯æœ¯è¯­æŸ¥è¯¢</td></tr><tr><td>Papago</td><td>éŸ©å›½å¼€å‘ï¼Œæ—¥è¯­ã€éŸ©è¯­ã€ä¸­æ–‡ã€è‹±æ–‡äº’è¯‘è¾ƒå¥½</td><td>æ—¥æ–‡æ–‡æ¡£ç¿»è¯‘</td></tr></tbody></table>
<h3 data-id="heading-11">ç¦»çº¿ç¿»è¯‘å·¥å…·</h3>






























<table><thead><tr><th>å·¥å…·</th><th>ç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>Calibre + Ebook Translator æ’ä»¶</td><td>æ”¯æŒ EPUBã€MOBIã€PDF ç¦»çº¿ç¿»è¯‘</td><td>æœ‰ç‰ˆæƒé™åˆ¶çš„ç”µå­ä¹¦</td></tr><tr><td>QTranslate</td><td>æ”¯æŒè°ƒç”¨ Google / Bing / DeepL APIï¼Œæœ¬åœ°ç¿»è¯‘</td><td>å†…ç½‘ç¯å¢ƒæˆ–æ— æ³•è”ç½‘æ—¶</td></tr><tr><td>Lingoesï¼ˆçµæ ¼æ–¯è¯å…¸ï¼‰</td><td>ç¦»çº¿è¯å…¸ + ç¿»è¯‘</td><td>å•è¯ã€çŸ­å¥ç¦»çº¿ç¿»è¯‘</td></tr><tr><td>GoldenDictï¼ˆé‡‘å±±è¯éœ¸ç¦»çº¿ç‰ˆï¼‰</td><td>è¯å…¸ä¸°å¯Œï¼Œæ”¯æŒç¦»çº¿è¯åº“</td><td>å†…ç½‘ç¯å¢ƒ / å•è¯ç¿»è¯‘</td></tr></tbody></table>
<h3 data-id="heading-12">å›¾ç‰‡ç¿»è¯‘ / OCR ç¿»è¯‘å·¥å…·</h3>






























<table><thead><tr><th>å·¥å…·</th><th>ç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>Google Lens</td><td>æ”¯æŒæ‰‹æœºæˆ– PC æ‹ç…§ç¿»è¯‘</td><td>æˆªå›¾ã€ç…§ç‰‡ã€æµç¨‹å›¾ã€æ¼«ç”»å¯¹ç™½</td></tr><tr><td>Microsoft OneNote OCR</td><td>å¯ä»¥æå–å›¾ç‰‡æ–‡å­—å†ç¿»è¯‘</td><td>å¤æ‚æ–‡æ¡£æˆªå›¾ã€æ‰«æå›¾åƒ</td></tr><tr><td>ABBYY FineReader</td><td>OCR + æ–‡æœ¬æå–ç²¾åº¦é«˜</td><td>æ‰«æç‰ˆ PDFã€æŠ€æœ¯æ–‡æ¡£</td></tr><tr><td>iOS / Android å›¾ç‰‡ç¿»è¯‘ APP</td><td>æ”¯æŒå®æ—¶æ‹ç…§ç¿»è¯‘</td><td>çº¸è´¨ä¹¦ã€æ‰‹å†™æ–‡æ¡£</td></tr></tbody></table>
<h3 data-id="heading-13">ä»£ç  / å¼€æºæ–‡æ¡£è¾…åŠ©ç¿»è¯‘</h3>

























<table><thead><tr><th>å·¥å…·</th><th>ç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>DeepWiki</td><td>AI è‡ªç„¶è¯­è¨€ç†è§£ä»“åº“</td><td>GitHub è‹±æ–‡æ³¨é‡Šã€ä»£ç ç†è§£</td></tr><tr><td>ChatGPT / Claude / Bard</td><td>å¯æ€»ç»“æ–‡æ¡£ã€ç¿»è¯‘ã€ç”Ÿæˆç¤ºä¾‹</td><td>è‹±æ–‡æŠ€æœ¯æ–‡æ¡£ã€å¼€æºåº“æ³¨é‡Šã€API è¯´æ˜</td></tr><tr><td>GitLocalize</td><td>å¼€æºæ–‡æ¡£ç¿»è¯‘åä½œå¹³å°</td><td>GitHub æ–‡æ¡£ç¿»è¯‘ã€å›¢é˜Ÿåä½œ</td></tr></tbody></table>
<h3 data-id="heading-14">æµè§ˆå™¨å†…ç½® / æ’ä»¶ç±»å·¥å…·</h3>

























<table><thead><tr><th>å·¥å…·</th><th>ç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>Microsoft Edge å†…ç½®ç¿»è¯‘</td><td>åœ¨çº¿ç½‘é¡µè‡ªåŠ¨ç¿»è¯‘</td><td>å†…ç½‘ä¸ä½³æˆ–ä¸­æ–‡æ’ä»¶æ— æ³•ç”¨æ—¶</td></tr><tr><td>Chrome ç¿»è¯‘æ’ä»¶ï¼ˆGoogle Translate Extensionï¼‰</td><td>æ”¯æŒå±€éƒ¨ç½‘é¡µç¿»è¯‘</td><td>ä»£ç ç¤ºä¾‹ã€æŠ€æœ¯æ–‡æ¡£é˜…è¯»</td></tr><tr><td>ADDTï¼ˆiOS æ–‡æ¡£æ’ä»¶ï¼‰</td><td>æ”¶è´¹ã€ä»·æ ¼ä¾¿å®œ</td><td>iOS å®˜æ–¹æ–‡æ¡£ã€å¼€å‘æ–‡æ¡£ç¿»è¯‘</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-15">æ€»ç»“</h2>
<p>ç¿»è¯‘å·¥å…·æœ¬èº«ä¸æ˜¯ç›®çš„ï¼Œé«˜æ•ˆç†è§£æŠ€æœ¯å†…å®¹æ‰æ˜¯ã€‚æ ¹æ®ä¸åŒåœºæ™¯ï¼š</p>
<p>é€‰æ‹©åˆé€‚çš„å·¥å…·ç»„åˆï¼Œæ¯”è¿½æ±‚â€œæœ€å¼ºå·¥å…·â€æ›´é‡è¦ã€‚</p>
<p>å¸Œæœ›è¿™ä»½æ•´ç†èƒ½å¸®åŠ©å¼€å‘è€…åœ¨å­¦ä¹ å’Œå·¥ä½œä¸­é«˜æ•ˆè·¨è¶Šè¯­è¨€éšœç¢ï¼Œæ›´å¿«æŒæ¡èƒ½å¤Ÿåº”ç”¨çš„çŸ¥è¯†å’ŒæŠ€æœ¯ï¼Œæˆ–è®¸æœªæ¥ä¹Ÿå¯ä»¥åœ¨å¼€æºç¤¾åŒºä¸­è´¡çŒ®ä¸€ä»½ç¿»è¯‘ä¸­åšåŠ›é‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€flutterã€‘0. æ­å»ºä¸€ä¸ªå¤šç«¯ flutter å¼€å‘ç¯å¢ƒ]]></title>    <link>https://juejin.cn/post/7591318630693814326</link>    <guid>https://juejin.cn/post/7591318630693814326</guid>    <pubDate>2026-01-04T10:06:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591318630693814326" data-draft-id="7587825267878559785" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€flutterã€‘0. æ­å»ºä¸€ä¸ªå¤šç«¯ flutter å¼€å‘ç¯å¢ƒ"/> <meta itemprop="keywords" content="Flutter,å‰ç«¯æ¡†æ¶,æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-04T10:06:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="dev"/> <meta itemprop="url" content="https://juejin.cn/user/3896324938536877"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€flutterã€‘0. æ­å»ºä¸€ä¸ªå¤šç«¯ flutter å¼€å‘ç¯å¢ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3896324938536877/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    dev
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T10:06:40.000Z" title="Sun Jan 04 2026 10:06:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="" data-highlight-key="dracula">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#282a36}.hljs-keyword,.hljs-link,.hljs-literal,.hljs-section,.hljs-selector-tag{color:#8be9fd}.hljs-function .hljs-keyword{color:#ff79c6}.hljs-subst,.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#f8f8f2}.hljs-addition,.hljs-attribute,.hljs-bullet,.hljs-name,.hljs-string,.hljs-symbol,.hljs-template-tag,.hljs-template-variable,.hljs-title,.hljs-type,.hljs-variable{color:#f1fa8c}.hljs-comment,.hljs-deletion,.hljs-meta,.hljs-quote{color:#6272a4}.hljs-doctag,.hljs-keyword,.hljs-literal,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-strong,.hljs-title,.hljs-type{font-weight:700}.hljs-emphasis{font-style:italic}</style><h2 data-id="heading-0">1. å‰è¨€</h2>
<p>æœ€è¿‘åœ¨åšä¸€ä¸ªæ™ºèƒ½å®¶å±…çš„åº”ç”¨ï¼Œå¯èƒ½éœ€è¦ç”¨åˆ° APP ä¸è®¾å¤‡ä¹‹é—´çš„äº¤äº’ã€‚æ‰€ä»¥å°±å¯»æ€è‡ªå·±æä¸€ä¸‹ã€‚</p>
<p>å¾ˆæ—©ä¹‹å‰çš„æˆ‘äº†è§£åˆ°çš„ APP çš„å¼€å‘æ— éå°±ä¸‰ç±»ï¼š</p>
<ol>
<li>åŸç”Ÿå¼€å‘</li>
<li>åŸºäº react-native</li>
<li>flutter</li>
</ol>
<p>ä»‹äºä¸€äº›æ–‡ç« æˆ‘äº†è§£åˆ°ï¼ŒåŸç”Ÿå¼€å‘æ¯•ç«Ÿè¿˜è¦å­¦ä¸€é—¨æ–°çš„å¼€å‘è¯­è¨€ï¼Œæ‰€ä»¥ PASS äº†ã€‚RN çš„ç”¨æˆ·ä½“éªŒç›¸å¯¹æ¥è¯´åˆæ¯”è¾ƒå·®ã€‚
å°±é€‰äº†ç°åœ¨ç›¸å¯¹æ¯”è¾ƒå±…ä¸­å¼€å‘èµ·æ¥å’Œ React æ¯”è¾ƒç›¸ä¼¼çš„ flutterã€‚</p>
<p>ä»¥ä¸‹è°¨ä»¥æ­¤æ¥æ­å»ºä¸€ä¸ªç®€å•çš„ demoã€‚ä¹Ÿå¸Œæœ›åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­æœ‰äº›è¾“å‡ºï¼Œèƒ½å¸®åŠ©åˆ°æ›´å¤šçš„äººã€‚</p>
<h2 data-id="heading-1">2. ç¯å¢ƒæ­å»º</h2>
<blockquote>
<p>è®°å¾—æå‰å®‰è£… vscodeï¼Œç”±äºæˆ‘ç”¨çš„æ˜¯ macï¼Œæ‰€ä»¥è¿™é‡Œåªå±•ç¤ºåœ¨ macos ç³»ç»Ÿä¸‹çš„å®‰è£…æ–¹æ¡ˆã€‚</p>
</blockquote>
<h3 data-id="heading-2">2.1 å®‰è£… xcodeï¼ˆios åº”ç”¨å¿…é¡»ï¼‰</h3>
<p>æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤</p>
<pre><code class="hljs language-bash" lang="bash">xcode-select --install
</code></pre>
<h3 data-id="heading-3">2.2 ä¸‹è½½ Flutter SDK</h3>
<p>è®¿é—®å®˜æ–¹ç«™ç‚¹æˆ–è€…<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.flutter.cn%2Finstall%2Farchive%2F" target="_blank" title="https://docs.flutter.cn/install/archive/" ref="nofollow noopener noreferrer">å›½å†…é•œåƒç«™ç‚¹</a>ï¼Œä¸‹è½½éœ€è¦çš„çš„ sdk ç‰ˆæœ¬ï¼ˆæœ¬æ•™ç¨‹ç”¨ 35.7 ä¸¾ä¾‹ï¼‰ï¼Œå®‰è£…ç›®å½•åˆ°æŒ‡å®šä½ç½®ï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œæ˜¯ /dev æ–‡ä»¶å¤¹ã€‚å®‰è£…å¥½åè§£å‹å‡ºæ¥ä¼šå¾—åˆ°ä¸€ä¸ª /flutter æ–‡ä»¶å¤¹ã€‚è®°ä½ /dev/Flutter è¿™ä¸ªè·¯å¾„ï¼Œåé¢ä¼šç”¨ä¸Šã€‚</p>
<h3 data-id="heading-4">2.3 ä¸‹è½½ Android-studioï¼ˆå®‰å“åº”ç”¨å¿…é¡»ï¼‰</h3>
<p>è®¿é—®<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fstudio%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/studio?hl=zh-cn" ref="nofollow noopener noreferrer">å®˜æ–¹ç½‘ç«™</a>ä¸‹è½½å®‰è£…å³å¯.</p>
<h3 data-id="heading-5">2.4 å®‰è£… vscode æ‹“å±•</h3>
<p>æ‰“å¼€ vscodeï¼Œåœ¨ vscode ä¸Šå®‰è£…ä»¥ä¸‹æ‹“å±•æ’ä»¶ï¼š</p>
<ol>
<li>Flutter</li>
<li>Android iOS Emulator</li>
<li>Flutter color ï¼ˆå¯é€‰ï¼‰</li>
</ol>
<h3 data-id="heading-6">2.5 é…ç½®å®‰å“ç¯å¢ƒ</h3>
<p>ä¸‹è½½å®Œ Android studio ä¹‹åï¼Œå’±éœ€è¦åœ¨ Android SDK å†å®‰è£…ä»¥ä¸‹ä¾èµ–ï¼š</p>
<ul>
<li><strong>Android SDK Build-Tools</strong></li>
<li><strong>Android SDK Command-line Tools</strong></li>
<li><strong>Android Emulator</strong></li>
<li><strong>Android SDK Platform-Tools</strong></li>
</ul>
<p>æŠŠä¸Šè¿°æ’ä»¶å®‰è£…å®Œæˆä¹‹åï¼Œåœ¨ç»ˆç«¯è¿è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">flutter doctor --android-licenses
</code></pre>
<p>æ­¤æ—¶ä¼šè¦æ±‚ä½ é€šè¿‡åè®®è¯·æ±‚ï¼Œå…¨éƒ¨ Y æ¥å—å°±è¡Œã€‚å½“å¾—åˆ°ä»¥ä¸‹è¿”å›å°±é…ç½®å®Œæˆäº†ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">All SDK package licenses accepted
</code></pre>
<p>å®Œæˆä»¥ä¸Šæ­¥éª¤ååªéœ€è¦å†æ¬¡æ‰§è¡Œ flutter doctorï¼Œç»ˆç«¯æç¤ºå®‰å“æ’ä»¶å‰é¢æ‰“å‹¾ï¼Œè¯´æ˜å®‰è£…æˆåŠŸï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7676e1afce31420ab7466c4bf193f96e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGV2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768126000&amp;x-signature=Pc4IECjpJlxpNBE9saj5OgljR3g%3D" alt="æˆªå±2025-12-27 16.49.27.png" loading="lazy"/></p>
<h3 data-id="heading-7">2.6 é…ç½®ç¯å¢ƒå˜é‡</h3>
<p>é’ˆå¯¹å®‰å“å¼€å‘ç¯å¢ƒéœ€è¦é¢å¤–é…ç½®ä¸€äº›å‚æ•°(å‚è€ƒè‡ªå·±çš„å®‰å“ sdk çš„å®‰è£…ä½ç½®ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Android SDK</span>
<span class="hljs-built_in">export</span> ANDROID_SDK_ROOT=<span class="hljs-variable">$HOME</span>/Library/Android/sdk
<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$ANDROID_SDK_ROOT</span>/emulator
<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$ANDROID_SDK_ROOT</span>/platform-tools
<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$ANDROID_SDK_ROOT</span>/cmdline-tools/latest/bin

<span class="hljs-comment"># Android Studio Embedded JDK</span>
<span class="hljs-built_in">export</span> JAVA_HOME=<span class="hljs-string">"/Applications/Android Studio.app/Contents/jbr/Contents/Home"</span>
<span class="hljs-built_in">export</span> PATH=<span class="hljs-string">"<span class="hljs-variable">$JAVA_HOME</span>/bin:<span class="hljs-variable">$PATH</span>"</span>
</code></pre>
<h2 data-id="heading-8">3 åˆå§‹åŒ–é¡¹ç›®</h2>
<p>ä»¥ä¸Šä¾èµ–å®‰è£…å®Œä¹‹åï¼Œæ‰“å¼€ vscode çš„å‘½ä»¤é¢æ¿ï¼Œè¾“å…¥ flutterï¼Œä¼šæœ‰ä»¥ä¸‹ä¸‰ä¸ªé€‰é¡¹ï¼Œé€‰æ‹© <strong>new project</strong> é€‰é¡¹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7cfb6692d5a34ace8983c0a2bc131083~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGV2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768126000&amp;x-signature=eP04X5jUYWvhz04qa%2BNXJITZlyQ%3D" alt="æˆªå±2025-12-26 20.03.08.png" loading="lazy"/></p>
<p>ç­‰å¾…é¡¹ç›®åˆå§‹åŒ–å®Œæˆè¿›å…¥ä¸‹ä¸€æ­¥ã€‚</p>
<h3 data-id="heading-9">3.1 è¿›å…¥ web å¼€å‘æ¨¡å¼</h3>
<p>æ­¤æ—¶å¦‚æœåœ¨æœªå®‰è£… xcode å’Œ Android studio çš„æƒ…å†µä¸‹ï¼Œåªèƒ½è¿›å…¥ web å¼€å‘æ¨¡å¼ã€‚è¾“å…¥å¦‚ä¸‹å‘½ä»¤å³å¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">flutter run -d web-server
</code></pre>
<p>ç»ˆç«¯æç¤ºç«¯å£å·ï¼Œå³ä¸º web æœåŠ¡å¯åŠ¨æˆåŠŸã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b950399c85c445ee955ac09cbe38abd0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGV2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768126000&amp;x-signature=XiJlvq%2FLEBgoIaZvPzA6wrC9r%2Fc%3D" alt="æˆªå±2025-12-26 20.08.22.png" loading="lazy"/></p>
<h3 data-id="heading-10">3.2 è¿›å…¥å®‰å“å¼€å‘æ¨¡å¼</h3>
<p>å…ˆå¯åŠ¨å®‰å“ç«¯çš„ emulatorsã€‚å¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c601a3598dac4a168be1b7bf0acde8da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGV2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768126000&amp;x-signature=W63UlwAi%2B6ccLJ%2BpOXA%2BhoZP7SA%3D" alt="æˆªå±2025-12-28 01.55.23.png" loading="lazy"/></p>
<p>ç„¶åå†æ‰§è¡Œ <strong>flutter run</strong></p>
<h3 data-id="heading-11">3.3 è¿›å…¥ macOS å¼€å‘æ¨¡å¼</h3>
<p>å…ˆæå‰å®‰è£…å¥½ XCodeã€‚</p>
<pre><code class="hljs language-bash" lang="bash">flutter run -d macOS
</code></pre>
<h3 data-id="heading-12">3.4 è¿›å…¥ IOS å¼€å‘æ¨¡å¼</h3>
<h4 data-id="heading-13">3.4.1 å®‰è£…ä¾èµ–ç¨‹åº</h4>
<p>mac ç«¯ä¸»è¦éœ€è¦å®‰è£…ä¸¤ä¸ªæ¯”è¾ƒé‡è¦çš„ä¾èµ–ï¼Œä¸€ä¸ªæ˜¯ Xcodeï¼Œä¸€ä¸ªæ˜¯ cocoapods</p>
<p>Xcodeçš„å®‰è£…æ–¹å¼å¾ˆç®€å•ï¼Œç›´æ¥åœ¨åº”ç”¨å•†åº—æœç´¢å°±èƒ½ä¸‹è½½ã€‚</p>
<p>è¿™é‡Œä¸»è¦è®²ä¸€ä¸‹ cocoapods çš„å®‰è£…æ–¹å¼ã€‚ï¼ˆè¿™é‡Œæœ€å¥½æ˜¯å®‰è£…brewï¼Œæ•ˆç‡ç¿»å€ï¼‰</p>
<p>ç”±äº cocoapods æ˜¯ä¾èµ– ruby çš„ï¼Œä½†æ˜¯mac è‡ªå¸¦çš„rubyç‰ˆæœ¬æ¯”è¾ƒä½ï¼Œæ‰€ä»¥å…ˆå®‰è£…rubyï¼Œè¿™é‡Œæˆ‘ç”¨çš„ brew ä¸‹è½½ï¼Œé¦–å…ˆæ‰§è¡Œä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">brew install ruby

// æŠŠruby çš„ç¯å¢ƒå˜é‡æ›´æ–°åˆ°å¯åŠ¨è„šæœ¬
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export PATH="/opt/homebrew/opt/ruby/bin:$PATH"'</span> &gt;&gt; ~/.zshrc
<span class="hljs-built_in">source</span> ~/.zshrc

// æŸ¥çœ‹ç‰ˆæœ¬
ruby -v
</code></pre>
<p>ç„¶åå¼€å§‹å®‰è£… cocoapodsï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨ gem å®‰è£…(éœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo gem install cocoapods
</code></pre>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥æ„‰å¿«çš„è¿›å…¥å¥½çœ‹çš„ IOS ç•Œé¢è¿›è¡Œå¼€å‘äº†ã€‚</p>
<h2 data-id="heading-14">DEBUG</h2>
<p>æ—¢ç„¶å¼€å§‹å¼€å‘äº†ï¼Œéš¾å…éœ€è¦çŸ¥é“å¦‚ä½• debug å’ŒæŸ¥çœ‹æ—¥å¿—ï¼Œè¿™é‡Œéœ€è¦ç¨å¾®æ³¨æ„ä¸€ä¸‹ï¼Œå¦‚æœæƒ³è¦åœ¨æ§åˆ¶å°çœ‹åˆ°å¯¹åº”çš„è¾“å‡ºæ—¥å¿—ï¼Œä½ éœ€è¦åœ¨ vscode çš„ä¾§è¾¹æ æ‰¾åˆ° RUN AND DEBUGSã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/157a17e766b14fcf8bd1df897fc5aa21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGV2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768126000&amp;x-signature=dBOMudMnvSBR%2BhH2qpQhzYoxqLE%3D" alt="æˆªå±2026-01-04 18.03.08.png" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥ï¼Œå’±ä»¬å°±å¯ä»¥å¼€å§‹æ„‰å¿«çš„å¼€å‘äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥è§£æï¼šuniappå•ä»“åº“å¤šåº”ç”¨ï¼ˆSaaS åŒ–ï¼‰æ¶æ„]]></title>    <link>https://juejin.cn/post/7591293897085075506</link>    <guid>https://juejin.cn/post/7591293897085075506</guid>    <pubDate>2026-01-04T10:06:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591293897085075506" data-draft-id="7591338980693098542" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥è§£æï¼šuniappå•ä»“åº“å¤šåº”ç”¨ï¼ˆSaaS åŒ–ï¼‰æ¶æ„"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-04T10:06:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LCåŒå­¦47981"/> <meta itemprop="url" content="https://juejin.cn/user/1978776660477991"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥è§£æï¼šuniappå•ä»“åº“å¤šåº”ç”¨ï¼ˆSaaS åŒ–ï¼‰æ¶æ„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1978776660477991/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LCåŒå­¦47981
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T10:06:53.000Z" title="Sun Jan 04 2026 10:06:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ·±å…¥è§£æï¼šå•ä»“åº“å¤šåº”ç”¨ï¼ˆSaaS åŒ–ï¼‰æ¶æ„å¦‚ä½•è§£å†³å¤šç§Ÿæˆ·ç»´æŠ¤ç—›ç‚¹</h2>
<p>åœ¨ç°ä»£ SaaSï¼ˆSoftware as a Serviceï¼‰ä¸šåŠ¡æ¨¡å¼ä¸‹ï¼ŒæŠ€æœ¯å›¢é˜Ÿé¢ä¸´çš„æœ€å¤§æŒ‘æˆ˜ä¹‹ä¸€æ˜¯å¦‚ä½•é«˜æ•ˆåœ°ä¸ºæˆç™¾ä¸Šåƒä¸ªå®¢æˆ·ï¼ˆç§Ÿæˆ·ï¼‰äº¤ä»˜ç‹¬ç«‹çš„å°ç¨‹åºæˆ–åº”ç”¨ã€‚æœ¬é¡¹ç›®é‡‡ç”¨äº†ä¸€ç§ <strong>â€œå•ä»“åº“å¤šåº”ç”¨â€ï¼ˆMonorepo-like / Multi-Tenantï¼‰</strong> çš„æ¶æ„æ¨¡å¼ï¼Œé€šè¿‡æè‡´çš„å·¥ç¨‹åŒ–æ‰‹æ®µï¼Œå°†ç»´æŠ¤æˆæœ¬ä»çº¿æ€§å¢é•¿ï¼ˆO(N)ï¼‰é™ä½ä¸ºå¸¸æ•°çº§ï¼ˆO(1)ï¼‰ã€‚</p>
<p>æœ¬æ–‡å°†ä»<strong>ç—›ç‚¹åˆ†æ</strong>ã€<strong>æ ¸å¿ƒæ¶æ„è®¾è®¡</strong>ã€<strong>å…³é”®ä»£ç å®ç°</strong>ä»¥åŠ<strong>è¿›é˜¶çš„æ¡ä»¶ç¼–è¯‘ä½“ç³»</strong>å››ä¸ªç»´åº¦è¿›è¡Œè¯¦ç»†å‰–æã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€ ç—›ç‚¹åˆ†æï¼šä¼ ç»Ÿå¤šç§Ÿæˆ·å¼€å‘çš„â€œæ³¥æ½­â€</h3>
<p>å‡è®¾ä½ éœ€è¦ç»´æŠ¤ 50 ä¸ªå®¢æˆ·çš„å°ç¨‹åºï¼Œæ¯ä¸ªå®¢æˆ·éƒ½æœ‰ç‹¬ç«‹çš„ AppIDã€æ¥å£åœ°å€ï¼Œä¸”éƒ¨åˆ†å®¢æˆ·æœ‰å®šåˆ¶åŒ–é¡µé¢éœ€æ±‚ã€‚</p>
<h4 data-id="heading-2">1. ä»£ç ç»´æŠ¤æˆæœ¬é«˜ (Code Redundancy)</h4>
<ul>
<li><strong>ä¼ ç»Ÿåšæ³•</strong>ï¼šä¸ºæ¯ä¸ªå®¢æˆ·å¼€ä¸€ä¸ª Git åˆ†æ”¯æˆ–ç‹¬ç«‹ä»“åº“ã€‚</li>
<li><strong>åæœ</strong>ï¼šå½“æ ¸å¿ƒä¸šåŠ¡ï¼ˆå¦‚â€œä¸‹å•æµç¨‹â€ï¼‰å‘ç°ä¸€ä¸ª Bug æ—¶ï¼Œä½ éœ€è¦åœ¨ 50 ä¸ªä»“åº“ä¸­åˆ†åˆ«åˆå¹¶ä»£ç ã€‚è¿™æ˜¯ä¸€åœºç¾éš¾ï¼Œææ˜“æ¼æ”¹æˆ–æ”¹é”™ã€‚</li>
</ul>
<h4 data-id="heading-3">2. å‘ç‰ˆäº‹æ•…é¢‘å‘ (Human Error)</h4>
<ul>
<li><strong>ä¼ ç»Ÿåšæ³•</strong>ï¼šæ‰“åŒ…å‰æ‰‹åŠ¨ä¿®æ”¹ <code>manifest.json</code> ä¸­çš„ <code>appid</code>ï¼Œæ‰‹åŠ¨åˆ‡æ¢ <code>config.js</code> ä¸­çš„ API ç¯å¢ƒåœ°å€ã€‚</li>
<li><strong>åæœ</strong>ï¼šå¾ˆå®¹æ˜“æŠŠâ€œå®¢æˆ· Aâ€çš„ä»£ç å‘åˆ°äº†â€œå®¢æˆ· Bâ€çš„å°ç¨‹åºä¸Šï¼Œæˆ–è€…æŠŠâ€œæµ‹è¯•ç¯å¢ƒâ€çš„é…ç½®å‘åˆ°äº†â€œç”Ÿäº§ç¯å¢ƒâ€ã€‚</li>
</ul>
<h4 data-id="heading-4">3. åŒ…ä½“ç§¯ä¸æ€§èƒ½ç“¶é¢ˆ (Bundle Size)</h4>
<ul>
<li><strong>ä¼ ç»Ÿåšæ³•</strong>ï¼šå°†æ‰€æœ‰å®¢æˆ·çš„åŠŸèƒ½éƒ½å†™åœ¨ä¸€ä¸ªå¤§åŒ…é‡Œï¼Œé€šè¿‡ <code>if (clientId === 'A')</code> æ¥åˆ¤æ–­æ˜¾ç¤ºä»€ä¹ˆã€‚</li>
<li><strong>åæœ</strong>ï¼šæ‰€æœ‰å®¢æˆ·éƒ½è¦ä¸‹è½½åŒ…å«å…¶ä»– 49 ä¸ªå®¢æˆ·å®šåˆ¶é€»è¾‘çš„å·¨å‹åŒ…ã€‚å°ç¨‹åºä¸»åŒ…ä½“ç§¯é™åˆ¶ï¼ˆ2MBï¼‰å¾ˆå¿«å°±ä¼šçˆ†è¡¨ï¼Œä¸”å¯åŠ¨é€Ÿåº¦ææ…¢ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-5">äºŒã€ æ ¸å¿ƒæ¶æ„è®¾è®¡ï¼šé…ç½®é©±åŠ¨çš„åŠ¨æ€æ„å»º</h3>
<p>æœ¬é¡¹ç›®çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>ä»£ç æ˜¯å…±äº«çš„ï¼Œå·®å¼‚æ˜¯é…ç½®å‡ºæ¥çš„ã€‚</strong></p>
<h4 data-id="heading-6">1. ç›®å½•ç»“æ„è®¾è®¡</h4>
<p>æˆ‘ä»¬å°†â€œå˜â€ä¸â€œä¸å˜â€å®Œå…¨åˆ†ç¦»ï¼š</p>
<ul>
<li><strong><code>src/</code> (ä¸å˜)</strong>ï¼šå­˜æ”¾æ‰€æœ‰æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€ç»„ä»¶ã€é¡µé¢ã€‚æ‰€æœ‰å®¢æˆ·å…±ç”¨è¿™ä¸€å¥—ä»£ç ã€‚</li>
<li><strong><code>scripts/setting/</code> (å˜)</strong>ï¼šå­˜æ”¾æ¯ä¸ªç§Ÿæˆ·çš„â€œèº«ä»½è¯â€ã€‚æ¯ä¸ªæ–‡ä»¶ï¼ˆå¦‚ <code>wx0159...js</code>ï¼‰ä»£è¡¨ä¸€ä¸ªå®¢æˆ·ï¼ŒåŒ…å«å…¶ç‹¬æœ‰çš„é…ç½®ä¿¡æ¯ã€‚</li>
</ul>
<h4 data-id="heading-7">2. æ„å»ºæµç¨‹å›¾</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[å¼€å‘è€…] --&gt;|é€‰æ‹©é…ç½® ID: wx0159...| B(æ„å»ºè„šæœ¬ scripts/build/index.js)
    B --&gt; C{è¯»å–é…ç½®}
    C --&gt;|1. è¯»å–å…¬å…±é…ç½®| D[scripts/build/baseConfig.ts]
    C --&gt;|2. è¯»å–ç§Ÿæˆ·é…ç½®| E[scripts/setting/wx/wx0159...js]
    B --&gt; F[åŠ¨æ€ç”Ÿæˆ/è¦†å†™æ–‡ä»¶]
    F --&gt;|åˆå¹¶é¡µé¢| G[src/pages.json]
    F --&gt;|æ›¿æ¢ AppID| H[src/manifest.json]
    F --&gt;|æ³¨å…¥å˜é‡| I[package.json / process.env]
    F --&gt; J[Vite ç¼–è¯‘æ‰“åŒ…]
    J --&gt; K[ç”Ÿæˆæœ€ç»ˆå°ç¨‹åº]
</code></pre>
<hr/>
<h3 data-id="heading-8">ä¸‰ã€ å…³é”®ä»£ç å®ç°ï¼šå¦‚ä½•â€œç§»èŠ±æ¥æœ¨â€</h3>
<h4 data-id="heading-9">1. åŠ¨æ€ç”Ÿæˆ <code>pages.json</code> â€”â€” è§£å†³åŒ…ä½“ç§¯ä¸å®šåˆ¶åŒ–</h4>
<p>Uniapp çš„ <code>pages.json</code> é€šå¸¸æ˜¯é™æ€çš„ã€‚ä¸ºäº†å®ç°â€œæŒ‰éœ€æ‰“åŒ…â€ï¼Œæˆ‘ä»¬åœ¨æ„å»ºé˜¶æ®µåŠ¨æ€ç”Ÿæˆå®ƒã€‚</p>
<ul>
<li><strong>å…¬å…±é¡µé¢</strong>ï¼šåœ¨ <a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">baseConfig.ts</a> ä¸­å®šä¹‰æ‰€æœ‰å®¢æˆ·éƒ½æœ‰çš„é¡µé¢ï¼ˆå¦‚é¦–é¡µã€ä¸ªäººä¸­å¿ƒï¼‰ã€‚</li>
<li><strong>ç§Ÿæˆ·é¡µé¢</strong>ï¼šåœ¨ç§Ÿæˆ·é…ç½®ï¼ˆå¦‚ <a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">wx01596767907b93fe.js</a>ï¼‰ä¸­å®šä¹‰ç‰¹æœ‰çš„åˆ†åŒ…ã€‚</li>
</ul>
<p><strong>æ„å»ºè„šæœ¬é€»è¾‘ (<a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">scripts/build/index.js</a>):</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. è¯»å–å…¬å…±é…ç½®</span>
<span class="hljs-keyword">const</span> { baseSubPackages, pages } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./baseConfig.ts'</span>);
<span class="hljs-comment">// 2. è¯»å–å½“å‰ç§Ÿæˆ·é…ç½®</span>
<span class="hljs-keyword">const</span> { config } = <span class="hljs-built_in">require</span>(configFilePath);

<span class="hljs-comment">// 3. åŠ¨æ€åˆå¹¶</span>
<span class="hljs-comment">// åªæœ‰å½“å‰å®¢æˆ·éœ€è¦çš„ subPackages æ‰ä¼šè¿›å…¥æœ€ç»ˆçš„ pages.json</span>
pagesJson.<span class="hljs-property">subPackages</span> = baseSubPackages.<span class="hljs-title function_">concat</span>(config.<span class="hljs-property">subPackages</span> || []);
pagesJson.<span class="hljs-property">pages</span> = pages.<span class="hljs-title function_">concat</span>(config.<span class="hljs-property">pages</span> || []);

<span class="hljs-comment">// 4. å†™å…¥æ–‡ä»¶ç³»ç»Ÿï¼ˆä¾› Uniapp ç¼–è¯‘å™¨ä½¿ç”¨ï¼‰</span>
fs.<span class="hljs-title function_">writeFileSync</span>(pagesJsonPath, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(pagesJson, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>), <span class="hljs-string">'utf8'</span>);
</code></pre>
<blockquote>
<p><strong>æˆæ•ˆ</strong>ï¼šå®¢æˆ· A çš„å°ç¨‹åºé‡Œç»å¯¹ä¸ä¼šå‡ºç°å®¢æˆ· B çš„å®šåˆ¶é¡µé¢ä»£ç ï¼ŒåŒ…ä½“ç§¯æœ€å°åŒ–ã€‚</p>
</blockquote>
<h4 data-id="heading-10">2. è‡ªåŠ¨åŒ–èº«ä»½æ³¨å…¥ â€”â€” æœç»å‘ç‰ˆäº‹æ•…</h4>
<p>ä¸ºäº†é˜²æ­¢äººå·¥ä¿®æ”¹ <code>manifest.json</code> å‡ºé”™ï¼Œæˆ‘ä»¬é€šè¿‡è„šæœ¬å…¨è‡ªåŠ¨æ›¿æ¢ã€‚</p>
<p><strong>æ„å»ºè„šæœ¬é€»è¾‘ (<a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">scripts/build/index.js</a>):</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¯»å– manifest.json åŸå§‹å†…å®¹</span>
<span class="hljs-keyword">let</span> updatedManifestContent = manifestJsonContent;
<span class="hljs-keyword">const</span> platform = scriptConfig.<span class="hljs-property">env</span>.<span class="hljs-property">UNI_PLATFORM</span>;

<span class="hljs-comment">// æ­£åˆ™æ›¿æ¢ AppID</span>
<span class="hljs-comment">// ç¡®ä¿åªæ›¿æ¢å½“å‰å¹³å°çš„ appidï¼Œä¸å½±å“å…¶ä»–é…ç½®</span>
<span class="hljs-keyword">const</span> platformRegex = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`"<span class="hljs-subst">${platform}</span>":\\s*{[^}]*"appid":\\s*"[^"]*"`</span>);
updatedManifestContent = updatedManifestContent.<span class="hljs-title function_">replace</span>(platformRegex, <span class="hljs-function"><span class="hljs-params">match</span> =&gt;</span> match.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/"appid":\\s*"[^"]*"/</span>, <span class="hljs-string">`"appid": "<span class="hljs-subst">${configType}</span>"`</span>));

fs.<span class="hljs-title function_">writeFileSync</span>(manifestJsonPath, updatedManifestContent, <span class="hljs-string">'utf8'</span>);
</code></pre>
<blockquote>
<p><strong>æˆæ•ˆ</strong>ï¼šåªè¦é€‰å¯¹äº†é…ç½® IDï¼Œæ‰“å‡ºæ¥çš„åŒ… AppID ç»å¯¹æ­£ç¡®ï¼Œæ— éœ€äººå·¥ Checkã€‚</p>
</blockquote>
<h4 data-id="heading-11">3. ç¯å¢ƒå˜é‡é€ä¼  â€”â€” ä»£ç å»æ•æ„ŸåŒ–</h4>
<p>ä¸šåŠ¡ä»£ç ä¸­ï¼ˆ<code>src/</code> ä¸‹ï¼‰ä¸¥ç¦å‡ºç°ä»»ä½•ç¡¬ç¼–ç çš„ URL æˆ– Keyã€‚æ‰€æœ‰ç¯å¢ƒç›¸å…³å˜é‡éƒ½é€šè¿‡æ„å»ºè¿‡ç¨‹æ³¨å…¥ã€‚</p>
<p><strong>é…ç½®å®šä¹‰ (<a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">scripts/setting/wx/wx0159...js</a>):</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-attr">env</span>: {
  <span class="hljs-attr">URL</span>: <span class="hljs-string">'https://mall.baoquanlvyou.com'</span>, <span class="hljs-comment">// æ¥å£åœ°å€</span>
  <span class="hljs-attr">MCODE</span>: <span class="hljs-string">'dwr1Op9C3C5q...'</span>,             <span class="hljs-comment">// å•†å®¶ç¼–ç </span>
  <span class="hljs-attr">SITE_CHANNEL_TYPE</span>: <span class="hljs-number">5</span>
}
</code></pre>
<p><strong>æ³¨å…¥é€»è¾‘ (<a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">vite.config.ts</a> + <a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">defineEnv.js</a>):</strong> æ„å»ºè„šæœ¬å…ˆå°† <code>env</code> å¯¹è±¡æ³¨å…¥åˆ° Node è¿›ç¨‹çš„ <code>process.env</code> ä¸­ï¼Œç„¶å <code>vite.config.ts</code> é€šè¿‡ <code>define</code> é€‰é¡¹å°†å…¶ä¼ é€’ç»™å‰ç«¯ä»£ç ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// vite.config.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">define</span>: <span class="hljs-title function_">getDefineEnv</span>() <span class="hljs-comment">// å°† process.env.URL ç­‰æ³¨å…¥å…¨å±€</span>
    <span class="hljs-comment">// ...</span>
  };
});
</code></pre>
<p><strong>ä¸šåŠ¡ä»£ç ä½¿ç”¨ (<a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">src/utils/env.ts</a>):</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getConfig</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-comment">// è¿™é‡Œçš„ process.env.URL åœ¨ç¼–è¯‘æ—¶ä¼šè¢«æ›¿æ¢ä¸ºå­—ç¬¦ä¸²å¸¸é‡</span>
    <span class="hljs-comment">// @ts-ignore</span>
    <span class="hljs-attr">baseUrl</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">URL</span>
    <span class="hljs-comment">// ...</span>
  };
};
</code></pre>
<hr/>
<h3 data-id="heading-12">å››ã€ è¿›é˜¶æ¶æ„ï¼šå¤šå±‚æ¬¡æ¡ä»¶ç¼–è¯‘ä¸å®šå‘æ„å»ºä½“ç³»</h3>
<p>åœ¨è§£å†³äº†åŸºç¡€çš„â€œé…ç½®éš”ç¦»â€åï¼Œæˆ‘ä»¬é€šè¿‡ <code>scripts/setting/</code> é…ç½®æ–‡ä»¶ä¸ Vite çš„æ·±åº¦ç»“åˆï¼Œæ„å»ºäº†ä¸€å¥—<strong>ä»æ„å»ºè„šæœ¬åˆ°ä¸šåŠ¡ä»£ç ã€ä»è·¯ç”±å±‚çº§åˆ°ç»„ä»¶ç²’åº¦</strong>çš„å…¨æ–¹ä½æ¡ä»¶ç¼–è¯‘ä½“ç³»ï¼Œè§£å†³ <strong>â€œåƒäººåƒé¢â€</strong> çš„æ·±åº¦å®šåˆ¶éœ€æ±‚ã€‚</p>
<h4 data-id="heading-13">1. æ ¸å¿ƒèƒ½åŠ›ï¼šå®æ³¨å…¥æœºåˆ¶</h4>
<p>æˆ‘ä»¬ä¸ä»…ä»…åˆ©ç”¨äº† Uniapp åŸç”Ÿçš„æ¡ä»¶ç¼–è¯‘ï¼ˆ<code>#ifdef</code>ï¼‰ï¼Œæ›´é€šè¿‡è‡ªå®šä¹‰æ³¨å…¥çš„å®ï¼ˆMacroï¼‰ï¼Œå®ç°äº†<strong>åŸºäºç§Ÿæˆ·èº«ä»½</strong>çš„å®šå‘ç¼–è¯‘ã€‚</p>
<p>åœ¨æ¯ä¸ªç§Ÿæˆ·çš„é…ç½®æ–‡ä»¶ä¸­ï¼ˆå¦‚ <a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">package.json</a> ä¸­çš„ <code>pro-h5</code> æˆ– <code>scripts/setting/wx/</code> ä¸‹çš„é…ç½®ï¼‰ï¼Œæˆ‘ä»¬å®šä¹‰äº† <code>define</code> å­—æ®µï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// package.json ç¤ºä¾‹</span>
<span class="hljs-attr">"uni-app"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"pro-h5"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å•†åŸ"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"env"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"UNI_PLATFORM"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"h5"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"SITE_CHANNEL_TYPE"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"define"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"PRO_H5"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>  <span class="hljs-comment">// &lt;--- è‡ªå®šä¹‰å®</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æˆ–è€…åœ¨ç§Ÿæˆ·ç‹¬ç«‹é…ç½®ä¸­ï¼ˆå¦‚ <a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">wx00c9.js</a>ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-attr">define</span>: {
  <span class="hljs-title class_">WX00C</span>9: <span class="hljs-literal">true</span>; <span class="hljs-comment">// &lt;--- é’ˆå¯¹è¯¥ç‰¹å®šå®¢æˆ·çš„å®</span>
}
</code></pre>
<p>è¿™äº›å®åœ¨æ„å»ºæ—¶é€šè¿‡ <a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">defineEnv.js</a> è¢«æ³¨å…¥åˆ°å…¨å±€å˜é‡ä¸­ï¼Œä½¿å¾—ä¸šåŠ¡ä»£ç å¯ä»¥åƒä½¿ç”¨ç³»ç»Ÿå˜é‡ä¸€æ ·ä½¿ç”¨å®ƒä»¬ã€‚</p>
<h4 data-id="heading-14">2. åœºæ™¯å®æˆ˜ï¼šä»è·¯ç”±åˆ°ç»„ä»¶çš„å®šå‘æ§åˆ¶</h4>
<h5 data-id="heading-15">2.1 è„šæœ¬è·¯ç”±çº§æ§åˆ¶ (Script-Level)</h5>
<p>åœ¨ <code>package.json</code> çš„ <code>uni-app.scripts</code> ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸åŒçš„å¯åŠ¨å‘½ä»¤ï¼ˆå¦‚ <code>pro-h5</code>ï¼‰ã€‚è¿™ä¸ä»…å†³å®šäº†ç¯å¢ƒå˜é‡ï¼Œè¿˜å†³å®šäº†<strong>Uniapp çš„å¹³å°è¡¨ç°</strong>ã€‚</p>
<ul>
<li>
<p><strong>åœºæ™¯</strong>ï¼šç‰¹å®šç§Ÿæˆ·ï¼ˆå¦‚ <code>WX00C9</code>ï¼‰éœ€è¦åœ¨ä¸ªäººä¸­å¿ƒæ˜¾ç¤ºé¢å¤–çš„åŠŸèƒ½å…¥å£ï¼Œè€Œå…¶ä»–ç§Ÿæˆ·ä¸éœ€è¦ã€‚</p>
</li>
<li>
<p><strong>å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/mine/index.vue</span>

<span class="hljs-comment">// #ifdef WX00C9</span>
&lt;view <span class="hljs-keyword">class</span>=<span class="hljs-string">"menu-item"</span> <span class="hljs-meta">@click</span>=<span class="hljs-string">"goSpecialPage"</span>&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>ä¸“å±VIPé€šé“<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></span>
&lt;/view&gt;
<span class="hljs-comment">// #endif</span>
</code></pre>
</li>
</ul>
<h5 data-id="heading-16">2.2 ç§Ÿæˆ·çº§å®šå‘ç¼–è¯‘ (Tenant-Level)</h5>
<p>å¯¹äº 50 ä¸ªç§Ÿæˆ·ä¸­ï¼Œåªæœ‰â€œå®¢æˆ· Aâ€éœ€è¦æ˜¾ç¤ºæŸä¸ªç‰¹æ®ŠæŒ‰é’®ï¼Œæˆ–è€…åªæœ‰â€œå®¢æˆ· Bâ€éœ€è¦éšè—æŸä¸ªæ¨¡å—ã€‚</p>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šåªæœ‰ <code>wxb557...</code> è¿™ä¸ªå®¢æˆ·éœ€è¦é»˜è®¤åŠ è½½æŸäº›æ•°æ®ï¼Œå…¶ä»–å®¢æˆ·ä¸éœ€è¦ã€‚</li>
<li><strong>å®ç°</strong>ï¼šç›´æ¥ä½¿ç”¨æ³¨å…¥çš„ <code>define</code> å®è¿›è¡Œåˆ¤æ–­ã€‚
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¼ªä»£ç ç¤ºä¾‹</span>
<span class="hljs-keyword">if</span> (process.<span class="hljs-property">env</span>.<span class="hljs-property">WX1558</span>) {
  <span class="hljs-comment">// åªæœ‰ WX1558 è¿™ä¸ªå®¢æˆ·ä¼šæ‰§è¡Œè¿™æ®µé€»è¾‘</span>
  <span class="hljs-comment">// ç¼–è¯‘åï¼Œå…¶ä»–å®¢æˆ·çš„ä»£ç ä¸­è¿™æ®µä¼šè¢«ç›´æ¥ Tree-Shaking ç§»é™¤</span>
  <span class="hljs-title function_">initSpecialData</span>();
}
</code></pre>
</li>
</ul>
<h5 data-id="heading-17">2.3 é¡µé¢ä¸å…¥å£çº§æ§åˆ¶ (Page-Level)</h5>
<p>é€šè¿‡åŠ¨æ€ç”Ÿæˆ <code>pages.json</code>ï¼Œæˆ‘ä»¬å®ç°äº†<strong>ç‰©ç†çº§åˆ«çš„é¡µé¢éš”ç¦»</strong>ã€‚</p>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šå®¢æˆ· A éœ€è¦â€œæ‰«ç ç‚¹é¤â€åŠŸèƒ½ï¼Œå®¢æˆ· B åªéœ€è¦â€œå†…å®¹å±•ç¤ºâ€ã€‚</li>
<li><strong>å®ç°</strong>ï¼š
<ul>
<li>å®¢æˆ· A çš„é…ç½® <code>subPackages</code> åŒ…å« <code>subPackageScanQrOrder</code>ã€‚</li>
<li>å®¢æˆ· B çš„é…ç½® <code>subPackages</code> ä¸ºç©ºã€‚</li>
<li><strong>ç»“æœ</strong>ï¼šå®¢æˆ· B çš„å°ç¨‹åºåŒ…ä¸­æ ¹æœ¬ä¸åŒ…å«ç‚¹é¤ç›¸å…³çš„é¡µé¢æ–‡ä»¶å’Œèµ„æºï¼ŒåŒ…ä½“ç§¯å‡å°‘ 50% ä»¥ä¸Šã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-18">3. å¤šå±‚æ¬¡æ¡ä»¶ç¼–è¯‘çŸ©é˜µ</h4>
<p>é€šè¿‡ <code>package.json</code> å’Œ <code>scripts/setting/</code> ä¸­çš„ç²¾ç»†åŒ–é…ç½®ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ª<strong>å¤šç»´åº¦çš„æ¡ä»¶ç¼–è¯‘çŸ©é˜µ</strong>ï¼š</p>



































<table><thead><tr><th align="left">ç»´åº¦</th><th align="left">æ§åˆ¶ç²’åº¦</th><th align="left">å®ç°æ–¹å¼</th><th align="left">ä½œç”¨</th></tr></thead><tbody><tr><td align="left"><strong>å¹³å°çº§</strong></td><td align="left">H5 / å¾®ä¿¡ / æ”¯ä»˜å®</td><td align="left"><code>UNI_PLATFORM</code> + <code>#ifdef</code></td><td align="left">æŠ¹å¹³å¹³å°å·®å¼‚ï¼Œè°ƒç”¨åŸç”Ÿ API</td></tr><tr><td align="left"><strong>ç§Ÿæˆ·çº§</strong></td><td align="left">ç‰¹å®šå®¢æˆ· (AppID)</td><td align="left">è‡ªå®šä¹‰å® (<code>WX00C9</code>)</td><td align="left">å®ç°â€œåƒäººåƒé¢â€çš„å®šåˆ¶ä¸šåŠ¡é€»è¾‘</td></tr><tr><td align="left"><strong>è·¯ç”±çº§</strong></td><td align="left">é¡µé¢ / åˆ†åŒ…</td><td align="left">åŠ¨æ€ <code>pages.json</code></td><td align="left">æŒ‰éœ€æ‰“åŒ…ï¼Œç‰©ç†éš”ç¦»ä¸šåŠ¡æ¨¡å—</td></tr><tr><td align="left"><strong>ç¯å¢ƒçº§</strong></td><td align="left">Dev / Prod</td><td align="left"><code>process.env.URL</code></td><td align="left">è‡ªåŠ¨åˆ‡æ¢æ¥å£ç¯å¢ƒï¼Œæœç»äº‹æ•…</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-19">äº”ã€ æ€»ç»“</h3>
<p>è¿™å¥—æ¶æ„æ–¹æ¡ˆçš„æœ¬è´¨æ˜¯ <strong>â€œç¼–è¯‘æ—¶å¤šæ€â€</strong>ã€‚é€šè¿‡å°†å¤šç§Ÿæˆ·çš„å·®å¼‚å‰ç½®åˆ° <strong>æ„å»ºé˜¶æ®µï¼ˆBuild Timeï¼‰</strong> å¤„ç†ï¼Œè€Œä¸æ˜¯ç•™åˆ° <strong>è¿è¡Œæ—¶ï¼ˆRuntimeï¼‰</strong> åˆ¤æ–­ï¼Œæˆ‘ä»¬å®ç°äº†ï¼š</p>
<ol>
<li><strong>å®‰å…¨æ€§</strong>ï¼šä»£ç ä¸­æ— æ•æ„Ÿé…ç½®ï¼Œä¸åŒç§Ÿæˆ·ä»£ç ç‰©ç†éš”ç¦»ï¼ˆåœ¨äº§ç‰©å±‚é¢ï¼‰ã€‚</li>
<li><strong>é«˜æ€§èƒ½</strong>ï¼šæ— å†—ä½™ä»£ç ï¼ŒåŒ…ä½“ç§¯æœ€å°ã€‚</li>
<li><strong>é«˜æ•ˆç‡</strong>ï¼šä¸€å¥—ä»£ç æœåŠ¡æ‰€æœ‰å®¢æˆ·ï¼ŒBug ä¿®å¤ä¸€æ¬¡ï¼Œå…¨å‘˜å—ç›Šã€‚</li>
<li><strong>é«˜çµæ´»</strong>ï¼šä»å¹³å°åˆ°ç§Ÿæˆ·ï¼Œä»é¡µé¢åˆ°ç»„ä»¶ï¼Œå…¨æ–¹ä½æ»¡è¶³ä¸ªæ€§åŒ–å®šåˆ¶éœ€æ±‚ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å®‰å…¨ä¸“é¡¹ã€‘å¦‚ä½•æˆä¸ºä¸€åâ€œç«çœ¼é‡‘ç›â€çš„å®‰å“ä¾¦æ¢ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7591322050240135206</link>    <guid>https://juejin.cn/post/7591322050240135206</guid>    <pubDate>2026-01-04T09:57:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591322050240135206" data-draft-id="7591293897085026354" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å®‰å…¨ä¸“é¡¹ã€‘å¦‚ä½•æˆä¸ºä¸€åâ€œç«çœ¼é‡‘ç›â€çš„å®‰å“ä¾¦æ¢ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,ä»£ç è§„èŒƒ"/> <meta itemprop="datePublished" content="2026-01-04T09:57:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è«æ¯”ä¹Œæ–¯ç¯"/> <meta itemprop="url" content="https://juejin.cn/user/2840793776394269"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å®‰å…¨ä¸“é¡¹ã€‘å¦‚ä½•æˆä¸ºä¸€åâ€œç«çœ¼é‡‘ç›â€çš„å®‰å“ä¾¦æ¢ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2840793776394269/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è«æ¯”ä¹Œæ–¯ç¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T09:57:42.000Z" title="Sun Jan 04 2026 09:57:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    29
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¦‚ä½•æˆä¸ºä¸€åâ€œç«çœ¼é‡‘ç›â€çš„å®‰å“ä¾¦æ¢ï¼Ÿ</h2>
<p>åœ¨è¿™ä¸ªæ™ºèƒ½æ‰‹æœºæ¨ªè¡Œçš„æ—¶ä»£ï¼Œå®‰å“æ‰‹æœºç®€ç›´æˆäº†æˆ‘ä»¬ç”Ÿæ´»ä¸­çš„â€œç¬¬ä¸‰åªæ‰‹â€ã€‚ä½†ä½ çŸ¥é“å—ï¼Ÿåœ¨å®‰å“çš„ä¸–ç•Œé‡Œï¼Œæœ‰æ—¶å€™å¹¶ä¸æ˜¯æ‰€æœ‰çš„ç”¨æˆ·éƒ½è§„è§„çŸ©çŸ©ï¼æœ‰äº›ç”¨æˆ·å¯èƒ½ä¼šå·å·æ‘¸æ‘¸åœ°â€œæäº‹æƒ…â€ï¼Œæ¯”å¦‚å¼€å¯å¼€å‘è€…æ¨¡å¼ã€è°ƒè¯•æ¨¡å¼ã€ä½¿ç”¨VPNã€ä»£ç†ï¼Œç”šè‡³ç›´æ¥æŠŠæ‰‹æœºç»™Rootäº†ï¼è¿™å°±åƒä½ è¾›è¾›è‹¦è‹¦å»ºäº†ä¸€ä¸ªåŸå ¡ï¼Œå´æœ‰äººå·å·ä»åé—¨æºœè¿›æ¥æç ´åï¼Œæƒ³æƒ³éƒ½è®©äººæ°”å¾—è·ºè„šï¼</p>
<p>ä½œä¸ºä¸€åæ­£ä¹‰çš„å®‰å“å¼€å‘è€…ï¼Œæ€ä¹ˆèƒ½è®©è¿™äº›â€œå°åŠ¨ä½œâ€é€ƒè¿‡æˆ‘ä»¬çš„â€œç«çœ¼é‡‘ç›â€å‘¢ï¼Ÿä»Šå¤©æˆ‘ä»¬å°±æ¥èŠèŠå¦‚ä½•è¯†åˆ«è¿™äº›â€œéæ­£å¸¸æ“ä½œâ€ï¼Œé¡ºä¾¿ç»™ä½ çš„ä»£ç åŠ ç‚¹â€œç›”ç”²â€ï¼Œè®©å®ƒå˜å¾—æ›´å®‰å…¨ï¼</p>
<hr/>
<h3 data-id="heading-1">å¼€å‘è€…æ¨¡å¼ï¼šåˆ«ä»¥ä¸ºä½ æ˜¯å¼€å‘è€…æˆ‘å°±ä¸è®¤è¯†ä½ ï¼</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥èŠèŠå¼€å‘è€…æ¨¡å¼ã€‚å¾ˆå¤šå®‰å“å°ä¼™ä¼´å¯èƒ½éƒ½çŸ¥é“ï¼Œåªè¦è¿ç»­ç‚¹å‡ ä¸‹â€œå…³äºæ‰‹æœºâ€é‡Œçš„æŸä¸ªç‰ˆæœ¬å·ï¼Œå°±èƒ½å¼€å¯å¼€å‘è€…é€‰é¡¹ã€‚å¬èµ·æ¥æ˜¯ä¸æ˜¯å¾ˆé…·ç‚«ï¼Ÿä½†å¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œè¿™å¯æ˜¯ä¸ªæ½œåœ¨çš„â€œå‘â€ï¼ä¸€æ—¦å¼€å¯äº†å¼€å‘è€…æ¨¡å¼ï¼Œç”¨æˆ·å°±èƒ½åšä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„äº‹æƒ…ï¼Œæ¯”å¦‚æŠ“åŒ…ã€è°ƒè¯•ä½ çš„Appï¼Œç”šè‡³çœ‹çœ‹ä½ ä»£ç é‡Œçš„å°ç§˜å¯†ã€‚</p>
<p>æ€ä¹ˆåŠï¼Ÿåˆ«æ…Œï¼å®‰å“æœ‰ä¸ª<code>Settings.Secure</code> APIï¼Œå¯ä»¥ç”¨æ¥æ£€æŸ¥å¼€å‘è€…æ¨¡å¼æ˜¯å¦å¼€å¯ã€‚åªè¦å†™å‡ è¡Œä»£ç ï¼Œå°±èƒ½ç²¾å‡†â€œé”å®šâ€è¿™äº›å–œæ¬¢ç©å¼€å‘è€…æ¨¡å¼çš„å°ä¼™ä¼´ã€‚æ¯”å¦‚è¿™æ ·ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">int</span> <span class="hljs-variable">devMode</span> <span class="hljs-operator">=</span> Settings.Secure.getInt(context.getContentResolver(),
    Settings.Secure.DEVELOPMENT_SETTINGS_ENABLED, <span class="hljs-number">0</span>);
<span class="hljs-keyword">if</span> (devMode == <span class="hljs-number">1</span>) {
    <span class="hljs-comment">// å“Ÿï¼Œå‘ç°ä¸€ä¸ªå¼€å‘è€…æ¨¡å¼ç”¨æˆ·ï¼</span>
}
</code></pre>
<p>æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿæœ‰äº†è¿™æ‹›ï¼Œå†é«˜çº§çš„â€œä¼ªè£…è€…â€ä¹Ÿé€ƒä¸è¿‡ä½ çš„æ³•çœ¼ï¼</p>
<hr/>
<h3 data-id="heading-2">è°ƒè¯•æ¨¡å¼ï¼šè°ƒè¯•ï¼Œæ˜¯ä½ è°ƒå¾—èµ·çš„å—ï¼Ÿ</h3>
<p>è°ƒè¯•æ¨¡å¼å°±åƒæ˜¯è®©ä½ çš„Appè£¸å¥”åœ¨å¤§è¡—ä¸Šï¼Œæ‰€æœ‰çš„æ•°æ®ã€æ¥å£éƒ½æš´éœ²æ— é—ã€‚å¯¹äºé‚£äº›å–œæ¬¢â€œæäº‹æƒ…â€çš„äººæ¥è¯´ï¼Œè¿™å¯æ˜¯ä¸ªå¤§å¥½æœºä¼šï¼æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸€å®šè¦æ—¶åˆ»è­¦æƒ•ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯æœ‰äººæ­£åœ¨ç”¨è°ƒè¯•å·¥å…·çª¥æ¢æˆ‘ä»¬çš„Appã€‚</p>
<p>è¿™é‡Œæ¨èä¸€ä¸ªç®€å•çš„æ–¹æ³•ï¼šç”¨<code>android.os.Debug</code>ç±»æ¥æ£€æµ‹æ˜¯å¦å¤„äºè°ƒè¯•çŠ¶æ€ã€‚å¦‚æœå‘ç°è¢«è°ƒè¯•äº†ï¼Œé‚£å°±å¯ä»¥ç«‹åˆ»è§¦å‘è­¦æŠ¥ï¼Œç”šè‡³ç›´æ¥å…³é—­Appï¼Œè®©å¯¹æ–¹å“­ç€å›å®¶ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">if</span> (Debug.isDebuggerConnected()) {
    <span class="hljs-comment">// å“ˆå“ˆï¼Œè¢«æˆ‘æŠ“åˆ°äº†ï¼</span>
    System.exit(<span class="hljs-number">0</span>); <span class="hljs-comment">// ç›´æ¥å…³æ‰Appï¼Œç»ä¸æ‰‹è½¯ï¼</span>
}
</code></pre>
<p>è¿™ä¸€æ‹›ç®€ç›´å°±æ˜¯â€œè§æ‹›æ‹†æ‹›â€ï¼Œè°è¿˜æ•¢è°ƒè¯•ä½ çš„Appï¼Ÿï¼</p>
<hr/>
<h3 data-id="heading-3">VPN å’Œä»£ç†ï¼šä½ æ˜¯æƒ³å½“â€œéšå½¢äººâ€å—ï¼Ÿ</h3>
<p>æœ‰äº›ç”¨æˆ·å–œæ¬¢ç”¨VPNæˆ–è€…ä»£ç†è®¿é—®ç½‘ç»œï¼Œå¯èƒ½æ˜¯ä¸ºäº†â€œç§‘å­¦ä¸Šç½‘â€ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸ºäº†éšè—è‡ªå·±çš„çœŸå®èº«ä»½ã€‚ä½†å¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œè¿™ç§æ“ä½œç®€ç›´å°±æ˜¯åœ¨ç©ç«ï¼å°¤å…¶æ˜¯é‚£äº›éœ€è¦åœ°ç†ä½ç½®æˆ–è€…ç”¨æˆ·çœŸå®IPçš„åº”ç”¨ï¼Œä¸€æ—¦è¢«ä»£ç†ä¼ªè£…ï¼Œåæœä¸å ªè®¾æƒ³ã€‚</p>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œè¯¥å¦‚ä½•è¯†åˆ«è¿™äº›â€œéšå½¢äººâ€å‘¢ï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œå¯ä»¥é€šè¿‡æ£€æŸ¥ç½‘ç»œè¿æ¥çš„ä»£ç†ä¿¡æ¯æ¥åˆ¤æ–­ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">boolean</span> <span class="hljs-variable">isUsingProxy</span> <span class="hljs-operator">=</span> (!TextUtils.isEmpty(System.getProperty(<span class="hljs-string">"http.proxyHost"</span>)) 
    || !TextUtils.isEmpty(System.getProperty(<span class="hljs-string">"https.proxyHost"</span>)));
<span class="hljs-keyword">if</span> (isUsingProxy) {
    <span class="hljs-comment">// å˜¿å˜¿ï¼Œå‘ç°ä¸€ä¸ªç”¨ä»£ç†çš„å°ä¼™ä¼´ï¼</span>
}
</code></pre>
<p>å†é…åˆä¸€äº›ç¬¬ä¸‰æ–¹çš„VPNæ£€æµ‹å·¥å…·ï¼Œä½ çš„Appç®€ç›´å¯ä»¥å˜æˆâ€œåéšå½¢é›·è¾¾â€ï¼</p>
<hr/>
<h3 data-id="heading-4">Root æ£€æµ‹ï¼šè°å…è®¸ä½ åŠ¨æˆ‘çš„ç³»ç»Ÿï¼Ÿ</h3>
<p>æœ€åï¼Œæˆ‘ä»¬æ¥è¯´è¯´æœ€è®©å¼€å‘è€…å¤´ç–¼çš„é—®é¢˜â€”â€”Rootæƒé™ã€‚Rootç”¨æˆ·å°±åƒæ˜¯æ‹¿åˆ°äº†ç³»ç»Ÿçš„ä¸‡èƒ½é’¥åŒ™ï¼Œå¯ä»¥éšæ„ä¿®æ”¹ç³»ç»Ÿæ–‡ä»¶ã€ç»•è¿‡æƒé™é™åˆ¶ï¼Œç”šè‡³ç›´æ¥ç¯¡æ”¹ä½ çš„Appæ•°æ®ã€‚å¬èµ·æ¥æ˜¯ä¸æ˜¯å¾ˆææ€–ï¼Ÿ</p>
<p>åˆ«æ‹…å¿ƒï¼è™½ç„¶Rootç”¨æˆ·å¾ˆâ€œåš£å¼ â€ï¼Œä½†æˆ‘ä»¬ä¹Ÿä¸æ˜¯åƒç´ çš„ã€‚é€šè¿‡æ£€æŸ¥å¸¸è§çš„Rootå·¥å…·æ–‡ä»¶ï¼ˆæ¯”å¦‚<code>su</code>å‘½ä»¤ï¼‰ï¼Œå°±èƒ½å¿«é€Ÿåˆ¤æ–­è®¾å¤‡æ˜¯å¦è¢«Rootï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isRooted</span><span class="hljs-params">()</span> {
    String[] paths = {<span class="hljs-string">"/system/app/Superuser.apk"</span>, <span class="hljs-string">"/sbin/su"</span>, <span class="hljs-string">"/system/bin/su"</span>, 
        <span class="hljs-string">"/system/xbin/su"</span>, <span class="hljs-string">"/data/local/xbin/su"</span>, <span class="hljs-string">"/data/local/bin/su"</span>};
    <span class="hljs-keyword">for</span> (String path : paths) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(path).exists()) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// å‘ç°Rootç”¨æˆ·ï¼</span>
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre>
<p>æŠŠè¿™æ®µä»£ç åŠ åˆ°ä½ çš„Appé‡Œï¼Œé‚£äº›Rootç”¨æˆ·å†ä¹Ÿä¸èƒ½ä¸ºæ‰€æ¬²ä¸ºå•¦ï¼</p>
<hr/>
<h3 data-id="heading-5">å¢å¼ºä»£ç å®‰å…¨ï¼šç»™ä½ çš„Appç©¿ä¸Šç›”ç”²</h3>
<p>é™¤äº†è¯†åˆ«è¿™äº›â€œå°åŠ¨ä½œâ€ï¼Œæˆ‘ä»¬è¿˜è¦ç»™è‡ªå·±çš„ä»£ç åŠ ç‚¹æ–™ï¼Œè®©å®ƒæ›´å®‰å…¨ã€æ›´éš¾ç ´è§£ã€‚æ¯”å¦‚ï¼š</p>
<ol>
<li><strong>æ··æ·†ä»£ç </strong>ï¼šä½¿ç”¨ProGuardæˆ–è€…R8å·¥å…·ï¼ŒæŠŠä½ çš„ä»£ç å˜å¾—åƒå¤©ä¹¦ä¸€æ ·ï¼Œçœ‹å¾—äººå¤´æ™•çœ¼èŠ±ã€‚</li>
<li><strong>ç­¾åæ ¡éªŒ</strong>ï¼šæ£€æŸ¥Appçš„ç­¾åæ˜¯å¦è¢«ç¯¡æ”¹ï¼Œç¡®ä¿ç”¨æˆ·å®‰è£…çš„æ˜¯æ­£ç‰ˆAppã€‚</li>
<li><strong>åŠ¨æ€åŠ å¯†</strong>ï¼šå¯¹æ•æ„Ÿæ•°æ®è¿›è¡ŒåŠ å¯†å­˜å‚¨ï¼Œå³ä½¿è¢«æŠ“åŒ…ä¹Ÿçœ‹ä¸æ‡‚ã€‚</li>
<li><strong>é˜²æ­¢åç¼–è¯‘</strong>ï¼šä½¿ç”¨DexåŠ å¯†å·¥å…·ï¼Œè®©åç¼–è¯‘å·¥å…·æŸæ‰‹æ— ç­–ã€‚</li>
</ol>
<p>è¿™äº›æ–¹æ³•è™½ç„¶ä¸èƒ½ç™¾åˆ†ç™¾é˜²ä½æ‰€æœ‰æ”»å‡»ï¼Œä½†è‡³å°‘èƒ½è®©é‚£äº›â€œæäº‹æƒ…â€çš„äººå¤šèŠ±ç‚¹æ—¶é—´ï¼Œå¤šæ‰å‡ æ ¹å¤´å‘ï¼</p>
<hr/>
<h3 data-id="heading-6">æ€»ç»“</h3>
<p>åœ¨å®‰å“çš„æ±Ÿæ¹–é‡Œï¼Œæ€»ä¼šæœ‰ä¸€äº›â€œä¸å®‰åˆ†â€çš„ç”¨æˆ·è¯•å›¾æŒ‘æˆ˜è§„åˆ™ã€‚ä½†åªè¦æˆ‘ä»¬æŒæ¡äº†è¿™äº›æ£€æµ‹æŠ€å·§ï¼Œå†åŠ ä¸Šä¸€äº›å®‰å…¨æªæ–½ï¼Œå°±èƒ½è®©ä»–ä»¬æ— æ‰€éå½¢ï¼å½“ç„¶å•¦ï¼Œä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬ä¹Ÿè¦ä¿æŒä¸€é¢—å¹³å¸¸å¿ƒï¼Œä¸è¦å¤ªåæ‰§ï¼Œæ¯•ç«ŸæŠ€æœ¯æ˜¯ä¸€æŠŠåŒåˆƒå‰‘ï¼Œç”¨å¾—å¥½æ‰èƒ½é€ ç¦ç”¨æˆ·ã€‚</p>
<p>æœ€åï¼Œå¸Œæœ›å„ä½å¼€å‘è€…éƒ½èƒ½æˆä¸ºâ€œç«çœ¼é‡‘ç›â€çš„å®‰å“ä¾¦æ¢ï¼Œè®©ä½ çš„Appå®‰å…¨åˆå¯é ï¼å¦‚æœä½ å­¦ä¼šäº†è¿™äº›æŠ€å·§ï¼Œä¸å¦¨åœ¨è¯„è®ºåŒºç‚«è€€ä¸€ä¸‹ï¼Œè¯´ä¸å®šè¿˜èƒ½æ”¶è·ä¸€æ³¢ç‚¹èµå“¦ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«â€œä»£ç å±å±±â€ï¼šç”¨Cursorç³»ç»Ÿé‡æ„é—ç•™å‰ç«¯é¡¹ç›®]]></title>    <link>https://juejin.cn/post/7591075684065869839</link>    <guid>https://juejin.cn/post/7591075684065869839</guid>    <pubDate>2026-01-04T09:50:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591075684065869839" data-draft-id="7591075684065853455" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«â€œä»£ç å±å±±â€ï¼šç”¨Cursorç³»ç»Ÿé‡æ„é—ç•™å‰ç«¯é¡¹ç›®"/> <meta itemprop="keywords" content="å‰ç«¯,Cursor"/> <meta itemprop="datePublished" content="2026-01-04T09:50:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Mr_chiu"/> <meta itemprop="url" content="https://juejin.cn/user/1644525124592974"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«â€œä»£ç å±å±±â€ï¼šç”¨Cursorç³»ç»Ÿé‡æ„é—ç•™å‰ç«¯é¡¹ç›®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1644525124592974/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Mr_chiu
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T09:50:15.000Z" title="Sun Jan 04 2026 09:50:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å½“ä½ é¢å¯¹æ•°åƒè¡Œè€¦åˆçš„ç»„ä»¶å’Œæ··ä¹±çš„çŠ¶æ€é€»è¾‘æ—¶ï¼ŒAIé‡æ„å°†æˆä¸ºä½ æœ€å¼ºçš„æŠ€æœ¯æ­æ¡£ã€‚</p>
</blockquote>
<p>å‰ç«¯å¼€å‘è€…èŒä¸šç”Ÿæ¶¯ä¸­ï¼Œæœ€ä»¤äººæœ›è€Œç”Ÿç•çš„æŒ‘æˆ˜ä¹‹ä¸€è«è¿‡äºæ¥æ‰‹ä¸€ä¸ªâ€œç¥–ä¼ â€çš„é—ç•™é¡¹ç›®ã€‚é‚£äº›æ··åˆç€ä¸åŒæ—¶æœŸæŠ€æœ¯æ ˆã€ç¼ºä¹æ–‡æ¡£ã€é€»è¾‘ç¼ ç»•å¦‚â€œæ„å¤§åˆ©é¢â€çš„ä»£ç åº“ï¼Œå¸¸å¸¸è®©äººè¿›é€€ä¸¤éš¾ï¼šä¸é‡æ„åˆ™éš¾ä»¥ç»´æŠ¤å’Œæ‰©å±•ï¼ŒåŠ¨æ‰‹é‡æ„åˆæ€•â€œç‰µä¸€å‘è€ŒåŠ¨å…¨èº«â€ã€‚</p>
<p>æœ¬ç¯‡å°†æ·±å…¥æ¢è®¨å¦‚ä½•åˆ©ç”¨ Cursorï¼Œç³»ç»Ÿæ€§åœ°å¯¹é—ç•™å‰ç«¯é¡¹ç›®è¿›è¡Œå®‰å…¨ã€é«˜æ•ˆçš„é‡æ„ï¼Œä¸ä»…å¿è¿˜æŠ€æœ¯å€ºåŠ¡ï¼Œæ›´ä¸ºé¡¹ç›®æ³¨å…¥æ–°çš„ç”Ÿå‘½åŠ›ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€é‡æ„å‰å¥ï¼šå»ºç«‹å¯¹â€œä»£ç è¿·é›¾â€çš„æ¸…æ™°è®¤çŸ¥</h2>
<h3 data-id="heading-1">1.1 é¡¹ç›®åˆ†æä¸æŠ€æœ¯å€ºåŠ¡è¯„ä¼°</h3>
<p>ä¼ ç»Ÿçš„æ‰‹åŠ¨åˆ†æå¤§å‹ä»£ç åº“ï¼Œå¾€å¾€éœ€è¦æ•°å¤©ç”šè‡³æ•°å‘¨æ—¶é—´ã€‚è€Œå€ŸåŠ© Cursorï¼Œè¿™ä¸€è¿‡ç¨‹å¯ä»¥å¤§å¹…åŠ é€Ÿã€‚</p>
<p><strong>å…³é”®æŒ‡ä»¤ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">åˆ†æå½“å‰Reacté¡¹ç›®çš„æ•´ä½“æ¶æ„ï¼Œè¯†åˆ«ï¼š
<span class="hljs-bullet">1.</span> ä¸»è¦ç»„ä»¶ä¾èµ–å…³ç³»
<span class="hljs-bullet">2.</span> çŠ¶æ€ç®¡ç†æ–¹æ¡ˆåŠå…¶ä¸€è‡´æ€§é—®é¢˜
<span class="hljs-bullet">3.</span> é‡å¤ä»£ç æ¨¡å¼å’Œæ½œåœ¨æŠ½è±¡ç‚¹
<span class="hljs-bullet">4.</span> æ€§èƒ½ç“¶é¢ˆå’Œå†…å­˜æ³„æ¼é£é™©
<span class="hljs-bullet">5.</span> è¿‡æ—¶çš„APIä½¿ç”¨å’ŒåºŸå¼ƒçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•
</code></pre>
<p>Cursor èƒ½å¤Ÿå¿«é€Ÿç”Ÿæˆä¸€ä»½ç»“æ„åŒ–æŠ¥å‘Šï¼ŒåŒ…æ‹¬å¯è§†åŒ–çš„ç»„ä»¶ä¾èµ–å›¾è°±å’ŒæŒ‰ä¼˜å…ˆçº§æ’åºçš„æŠ€æœ¯å€ºåŠ¡æ¸…å•ã€‚è¿™ç§å…¨å±€è§†è§’è®©ä½ åœ¨åŠ¨æ‰‹å‰å°±æ˜ç¡®é‡æ„çš„é‡ç‚¹å’Œè¾¹ç•Œã€‚</p>
<h3 data-id="heading-2">1.2 ä¸ºé¡¹ç›®è®¾ç«‹æ¸…æ™°çš„â€œé‡æ„è§„åˆ™â€</h3>
<p>åœ¨å¼€å§‹é‡æ„å‰ï¼Œä¸€ä¸ªå…³é”®çš„æ­¥éª¤æ˜¯ä½¿ç”¨ <code>/generate rules</code> å‘½ä»¤æˆ–æ‰‹åŠ¨åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>.cursor</code> æ–‡ä»¶å¤¹ï¼Œä¸º AI è®¾å®šæ¸…æ™°çš„é¡¹ç›®è§„åˆ™å’Œçº¦æŸã€‚</p>
<p><strong>ç¤ºä¾‹ <code>.cursor/rules.md</code>ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># æœ¬é¡¹ç›®é‡æ„è§„åˆ™</span>

<span class="hljs-section">## æŠ€æœ¯æ ˆçº¦æŸ</span>
<span class="hljs-bullet">-</span> ä½¿ç”¨ React 18 + TypeScript 5.0+
<span class="hljs-bullet">-</span> çŠ¶æ€ç®¡ç†ç»Ÿä¸€è¿ç§»è‡³ Zustand
<span class="hljs-bullet">-</span> æ ·å¼æ–¹æ¡ˆé‡‡ç”¨ Tailwind CSS

<span class="hljs-section">## ä»£ç è´¨é‡è§„åˆ™</span>
<span class="hljs-bullet">-</span> ç¦æ­¢ä½¿ç”¨ <span class="hljs-code">`any`</span> ç±»å‹ï¼Œå¿…é¡»å®šä¹‰æ˜ç¡®æ¥å£
<span class="hljs-bullet">-</span> ç»„ä»¶å¿…é¡»æ”¯æŒæŒ‰éœ€åŠ è½½ï¼ˆReact.lazyï¼‰
<span class="hljs-bullet">-</span> å‡½æ•°é•¿åº¦ä¸è¶…è¿‡50è¡Œï¼Œå¤æ‚é€»è¾‘å¿…é¡»æ‹†åˆ†
<span class="hljs-bullet">-</span> ç¦ç”¨è¿‡æ—¶çš„ <span class="hljs-code">`componentWillMount`</span> ç­‰ç”Ÿå‘½å‘¨æœŸ

<span class="hljs-section">## æ¶æ„åŸåˆ™</span>
<span class="hljs-bullet">-</span> éµå¾ªå•ä¸€èŒè´£åŸåˆ™ï¼Œä¸€ä¸ªæ–‡ä»¶ä¸€ä¸ªä¸»è¦å¯¼å‡º
<span class="hljs-bullet">-</span> ä¸šåŠ¡é€»è¾‘ä¸UIç»„ä»¶å¿…é¡»åˆ†ç¦»
<span class="hljs-bullet">-</span> APIè°ƒç”¨å¿…é¡»é€šè¿‡ç»Ÿä¸€çš„serviceå±‚
</code></pre>
<p>ä¸º AI è®¾å®šè¿™äº›æ˜ç¡®çš„è§„åˆ™ï¼Œå°±åƒä¸ºä¸€ä½èªæ˜çš„å®ä¹ ç”Ÿæä¾›äº†æ¸…æ™°çš„å·¥ä½œæ‰‹å†Œï¼Œèƒ½ç¡®ä¿åç»­ç”Ÿæˆçš„æ‰€æœ‰ä»£ç éƒ½ç¬¦åˆä½ çš„æ¶æ„æ„¿æ™¯ï¼Œé¿å…ç”Ÿæˆâ€œAIæ„å¤§åˆ©é¢ä»£ç â€ã€‚</p>
<h2 data-id="heading-3">äºŒã€åˆ†è€Œæ²»ä¹‹ï¼šæ ¸å¿ƒé‡æ„ç­–ç•¥ä¸Cursorå®æˆ˜</h2>
<h3 data-id="heading-4">2.1 ç ´è§£â€œå·¨çŸ³ç»„ä»¶â€ï¼šæ™ºèƒ½æ‹†è§£ä¸èŒè´£åˆ†ç¦»</h3>
<p>é¢å¯¹ä¸€ä¸ªæ‰¿è½½äº†è¿‡å¤šé€»è¾‘çš„â€œå·¨çŸ³ç»„ä»¶â€(Monolithic Component)ï¼Œé‡æ„çš„ç¬¬ä¸€æ­¥æ˜¯ç†æ¸…å…¶å†…éƒ¨èŒè´£ã€‚</p>
<p><strong>å®æˆ˜æ¡ˆä¾‹ï¼šæ‹†è§£ä¸€ä¸ªæ··åˆäº†æ•°æ®è·å–ã€è¡¨å•å¤„ç†å’ŒUIæ¸²æŸ“çš„ç”¨æˆ·ç®¡ç†ç»„ä»¶</strong></p>
<ol>
<li>
<p><strong>ä½¿ç”¨Cursoråˆ†æç°æœ‰ç»„ä»¶</strong>ï¼š</p>
<pre><code class="hljs language-go" lang="go">åˆ†æ <span class="hljs-string">`UserManagement.jsx`</span> æ–‡ä»¶ï¼Œè¯†åˆ«å…¶æ‰¿æ‹…çš„ä¸»è¦èŒè´£ï¼Œå¹¶å»ºè®®ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™çš„æ‹†åˆ†æ–¹æ¡ˆã€‚
</code></pre>
</li>
<li>
<p><strong>åŸºäºå»ºè®®å®æ–½æ‹†åˆ†</strong>ï¼š
æ ¹æ® Cursor çš„åˆ†æï¼Œå¯ä»¥æŒ‰ä»¥ä¸‹ç»“æ„é‡æ„ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ—§ç»“æ„ï¼šUserManagement.jsx (420è¡Œ)</span>
<span class="hljs-comment">// æ–°ç»“æ„ï¼š</span>
<span class="hljs-comment">// - hooks/useUserData.js      // æ•°æ®è·å–é€»è¾‘</span>
<span class="hljs-comment">// - services/userService.js   // APIè°ƒç”¨å°è£…</span>
<span class="hljs-comment">// - components/UserForm.jsx   // è¡¨å•å¤„ç†</span>
<span class="hljs-comment">// - components/UserList.jsx   // ç”¨æˆ·åˆ—è¡¨å±•ç¤º</span>
<span class="hljs-comment">// - containers/UserManagementContainer.jsx // ç»„åˆå±‚</span>
</code></pre>
</li>
<li>
<p><strong>è®©CursorååŠ©ç”Ÿæˆæ–°æ¨¡å—</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">åŸºäºåŸ <span class="hljs-code">`UserManagement.jsx`</span> ä¸­çš„è¡¨å•éªŒè¯é€»è¾‘ï¼Œåˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„ <span class="hljs-code">`UserForm`</span> ç»„ä»¶ï¼Œè¦æ±‚ï¼š
<span class="hljs-bullet">-</span> ä½¿ç”¨React Hook Formè¿›è¡Œè¡¨å•ç®¡ç†
<span class="hljs-bullet">-</span> åŒ…å«å®Œæ•´çš„éªŒè¯è§„åˆ™ï¼ˆé‚®ç®±æ ¼å¼ã€å¯†ç å¼ºåº¦ç­‰ï¼‰
<span class="hljs-bullet">-</span> æ”¯æŒæäº¤çŠ¶æ€ï¼ˆloading, success, errorï¼‰
<span class="hljs-bullet">-</span> å¯¼å‡ºæ¸…æ™°çš„TypeScriptæ¥å£
</code></pre>
</li>
</ol>
<h3 data-id="heading-5">2.2 çŠ¶æ€ç®¡ç†ç°ä»£åŒ–ï¼šä»æ··ä¹±åˆ°æ¸…æ™°</h3>
<p>é—ç•™é¡¹ç›®å¸¸è§çš„é—®é¢˜æ˜¯çŠ¶æ€ç®¡ç†åˆ†æ•£â€”â€”Mixinsã€Contextã€æœ¬åœ°çŠ¶æ€å’Œå…¨å±€Storeæ··æ‚ä½¿ç”¨ã€‚</p>
<p><strong>é‡æ„ç­–ç•¥ï¼šç»Ÿä¸€è¿ç§»è‡³ç°ä»£çŠ¶æ€åº“</strong></p>
<p>ä»¥ä»ä¼ ç»Ÿçš„ç±»ç»„ä»¶+Redux Thunkè¿ç§»åˆ°å‡½æ•°ç»„ä»¶+Zustandä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. è®©Cursoråˆ†æç°æœ‰çš„Redux storeå’Œreducers</span>
<span class="hljs-comment">// æŒ‡ä»¤ï¼šâ€œå°†ä»¥ä¸‹Redux reducerè½¬æ¢ä¸ºZustand storeï¼Œä¿æŒç›¸åŒçŠ¶æ€ç»“æ„å’Œæ“ä½œâ€</span>

<span class="hljs-comment">// 2. ç”Ÿæˆæ–°çš„Zustand store</span>
<span class="hljs-keyword">import</span> { create } <span class="hljs-keyword">from</span> <span class="hljs-string">'zustand'</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserState</span> {
  <span class="hljs-attr">users</span>: <span class="hljs-title class_">User</span>[];
  <span class="hljs-attr">loading</span>: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">error</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span>;
  <span class="hljs-attr">fetchUsers</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt;;
  <span class="hljs-attr">addUser</span>: <span class="hljs-function">(<span class="hljs-params">user: Omit&lt;User, <span class="hljs-string">'id'</span>&gt;</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt;;
  <span class="hljs-comment">// ... å…¶ä»–æ“ä½œ</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useUserStore = create&lt;<span class="hljs-title class_">UserState</span>&gt;(<span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
  <span class="hljs-attr">users</span>: [],
  <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">error</span>: <span class="hljs-literal">null</span>,
  
  <span class="hljs-attr">fetchUsers</span>: <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-title function_">set</span>({ <span class="hljs-attr">loading</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">error</span>: <span class="hljs-literal">null</span> });
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> userService.<span class="hljs-title function_">getAll</span>();
      <span class="hljs-title function_">set</span>({ <span class="hljs-attr">users</span>: response.<span class="hljs-property">data</span>, <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span> });
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-title function_">set</span>({ <span class="hljs-attr">error</span>: <span class="hljs-string">'è·å–ç”¨æˆ·åˆ—è¡¨å¤±è´¥'</span>, <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span> });
    }
  },
  
  <span class="hljs-comment">// ... å…¶ä»–æ“ä½œå®ç°</span>
}));

<span class="hljs-comment">// 3. ç”Ÿæˆè¿ç§»æŒ‡å—å’Œå…¼å®¹å±‚</span>
<span class="hljs-comment">// Cursorå¯ä»¥åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„å…¼å®¹å±‚ï¼Œç¡®ä¿é‡æ„æœŸé—´ä¸šåŠ¡ä¸ä¸­æ–­</span>
</code></pre>
<h3 data-id="heading-6">2.3 ä¾èµ–å‡çº§ä¸APIç°ä»£åŒ–</h3>
<p>è¿‡æ—¶çš„ä¾èµ–æ˜¯æŠ€æœ¯å€ºåŠ¡çš„é‡è¦éƒ¨åˆ†ã€‚Cursorå¯ä»¥å¸®åŠ©å®‰å…¨åœ°è¿›è¡Œä¾èµ–å‡çº§ã€‚</p>
<p><strong>å®æˆ˜æ­¥éª¤ï¼š</strong></p>
<ol>
<li>
<p><strong>è¯†åˆ«è¿‡æ—¶ä¾èµ–</strong>ï¼š</p>
<pre><code class="hljs language-go" lang="go">æ‰«æ<span class="hljs-keyword">package</span>.jsonï¼Œè¯†åˆ«Reactã€TypeScriptã€Webpackç­‰æ ¸å¿ƒä¾èµ–çš„å½“å‰ç‰ˆæœ¬å’Œæœ€æ–°ç‰ˆæœ¬ï¼Œè¯„ä¼°å‡çº§é£é™©ã€‚
</code></pre>
</li>
<li>
<p><strong>ç”Ÿæˆæ¸è¿›å¼å‡çº§æ–¹æ¡ˆ</strong>ï¼š
Cursor èƒ½å¤Ÿæä¾›åˆ†é˜¶æ®µçš„å‡çº§è·¯å¾„ï¼Œä¾‹å¦‚å…ˆå‡çº§è¡¥ä¸ç‰ˆæœ¬ï¼Œå†å‡çº§æ¬¡è¦ç‰ˆæœ¬ï¼Œæœ€åå¤„ç†ç ´åæ€§å˜æ›´ã€‚</p>
</li>
<li>
<p><strong>ä¿®å¤ç ´åæ€§å˜æ›´</strong>ï¼š
å½“ API å‘ç”Ÿç ´åæ€§å˜æ›´æ—¶ï¼ˆå¦‚ React Router v5 åˆ° v6ï¼‰ï¼ŒCursor å¯ä»¥ååŠ©æ‰¹é‡ä¿®æ”¹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">å°†é¡¹ç›®ä¸­æ‰€æœ‰React Router v5çš„ç”¨æ³•è¿ç§»åˆ°v6ï¼ŒåŒ…æ‹¬ï¼š
<span class="hljs-bullet">-</span> <span class="hljs-code">`&lt;Switch&gt;`</span> æ”¹ä¸º <span class="hljs-code">`&lt;Routes&gt;`</span>
<span class="hljs-bullet">-</span> <span class="hljs-code">`&lt;Route component={Component}&gt;`</span> æ”¹ä¸º <span class="hljs-code">`&lt;Route element={&lt;Component /&gt;}&gt;`</span>
<span class="hljs-bullet">-</span> è·¯ç”±å®ˆå«é€»è¾‘è°ƒæ•´
</code></pre>
</li>
</ol>
<h2 data-id="heading-7">ä¸‰ã€Cursoré«˜çº§é‡æ„åŠŸèƒ½å®æˆ˜</h2>
<h3 data-id="heading-8">3.1 å¤šæ–‡ä»¶ååŒç¼–è¾‘ä¸è·¨ç»„ä»¶é‡æ„</h3>
<p>å½“é‡æ„å½±å“åˆ°å¤šä¸ªæ–‡ä»¶æ—¶ï¼ŒCursor çš„è·¨æ–‡ä»¶ç†è§£èƒ½åŠ›æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šå°†å†…è”æ ·å¼ç»Ÿä¸€è¿ç§»è‡³CSS Modules</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">é‡æ„æ•´ä¸ªé¡¹ç›®çš„æ ·å¼ç³»ç»Ÿï¼š
<span class="hljs-bullet">1.</span> è¯†åˆ«æ‰€æœ‰ä½¿ç”¨å†…è”styleå±æ€§çš„ç»„ä»¶
<span class="hljs-bullet">2.</span> ä¸ºæ¯ä¸ªç»„ä»¶åˆ›å»ºå¯¹åº”çš„.module.cssæ–‡ä»¶
<span class="hljs-bullet">3.</span> å°†å†…è”æ ·å¼è¿ç§»åˆ°CSS Modulesä¸­
<span class="hljs-bullet">4.</span> æ›´æ–°ç»„ä»¶å¯¼å…¥å’Œç±»åå¼•ç”¨
</code></pre>
<p>Cursor èƒ½å¤Ÿç†è§£æ ·å¼ä¸ç»„ä»¶çš„å¯¹åº”å…³ç³»ï¼Œæ‰¹é‡å®Œæˆè¿ç§»ï¼ŒåŒæ—¶ä¿æŒæ ·å¼ä¼˜å…ˆçº§çš„ä¸€è‡´æ€§ã€‚</p>
<h3 data-id="heading-9">3.2 è‡ªåŠ¨åŒ–ä»£ç è´¨é‡æå‡</h3>
<p>åˆ©ç”¨ Cursor è‡ªåŠ¨ä¿®å¤å¸¸è§çš„ä»£ç è´¨é‡é—®é¢˜ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é‡æ„å‰ï¼šå¤æ‚çš„æ¡ä»¶åµŒå¥—</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getUserStatus</span> = (<span class="hljs-params">user</span>) =&gt; {
  <span class="hljs-keyword">if</span> (user) {
    <span class="hljs-keyword">if</span> (user.<span class="hljs-property">isActive</span>) {
      <span class="hljs-keyword">if</span> (user.<span class="hljs-property">lastLogin</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">'åœ¨çº¿'</span>;
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">'æ–°ç”¨æˆ·'</span>;
      }
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-string">'å·²ç¦ç”¨'</span>;
    }
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'ç”¨æˆ·ä¸å­˜åœ¨'</span>;
  }
};

<span class="hljs-comment">// æŒ‡ä»¤ï¼šâ€œä¼˜åŒ–è¿™æ®µæ¡ä»¶åµŒå¥—ä»£ç ï¼Œä½¿ç”¨æ›´æ¸…æ™°çš„ç»“æ„â€</span>
<span class="hljs-comment">// é‡æ„åï¼šæ—©æœŸè¿”å›å’Œå«è¯­å¥</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getUserStatus</span> = (<span class="hljs-params">user</span>) =&gt; {
  <span class="hljs-keyword">if</span> (!user) <span class="hljs-keyword">return</span> <span class="hljs-string">'ç”¨æˆ·ä¸å­˜åœ¨'</span>;
  <span class="hljs-keyword">if</span> (!user.<span class="hljs-property">isActive</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'å·²ç¦ç”¨'</span>;
  <span class="hljs-keyword">if</span> (!user.<span class="hljs-property">lastLogin</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'æ–°ç”¨æˆ·'</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-string">'åœ¨çº¿'</span>;
};
</code></pre>
<h3 data-id="heading-10">3.3 æµ‹è¯•é©±åŠ¨é‡æ„ï¼ˆTDRï¼‰</h3>
<p>Cursor è®¾è®¡æ€»ç›‘ Ryo Lu å¼ºè°ƒçš„ä¸€ä¸ªæ ¸å¿ƒç†å¿µæ˜¯ï¼š<strong>å…ˆå†™æµ‹è¯•ï¼Œå†ç”Ÿæˆä»£ç </strong>ã€‚è¿™æ˜¯é˜²æ­¢é‡æ„å¼•å…¥å›å½’é”™è¯¯çš„æœ€æœ‰æ•ˆæ–¹æ³•ã€‚</p>
<p><strong>TDRå·¥ä½œæµï¼š</strong></p>
<ol>
<li>ä¸ºè¦é‡æ„çš„ç»„ä»¶æˆ–å‡½æ•°ç¼–å†™æµ‹è¯•ç”¨ä¾‹</li>
<li>è¿è¡Œç°æœ‰æµ‹è¯•ç¡®ä¿åŸºçº¿æ­£å¸¸</li>
<li>è®© Cursor åœ¨æµ‹è¯•çš„â€œçº¦æŸâ€ä¸‹è¿›è¡Œé‡æ„</li>
<li>è¿è¡Œæµ‹è¯•éªŒè¯é‡æ„æ­£ç¡®æ€§</li>
<li>ä¿®å¤ä»»ä½•å¤±è´¥çš„æµ‹è¯•ï¼Œå¹¶ä½¿ç”¨ <code>@fixed</code> æ³¨é‡Šå‘Šè¯‰ AI æ­£ç¡®åšæ³•</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. å…ˆç¼–å†™æµ‹è¯•</span>
<span class="hljs-title function_">describe</span>(<span class="hljs-string">'UserFormç»„ä»¶'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">it</span>(<span class="hljs-string">'åº”è¯¥éªŒè¯é‚®ç®±æ ¼å¼'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> { getByLabelText } = <span class="hljs-title function_">render</span>(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">UserForm</span> /&gt;</span></span>);
    <span class="hljs-keyword">const</span> emailInput = <span class="hljs-title function_">getByLabelText</span>(<span class="hljs-string">'é‚®ç®±'</span>);
    fireEvent.<span class="hljs-title function_">change</span>(emailInput, { <span class="hljs-attr">target</span>: { <span class="hljs-attr">value</span>: <span class="hljs-string">'invalid-email'</span> } });
    <span class="hljs-title function_">expect</span>(screen.<span class="hljs-title function_">getByText</span>(<span class="hljs-string">'é‚®ç®±æ ¼å¼ä¸æ­£ç¡®'</span>)).<span class="hljs-title function_">toBeInTheDocument</span>();
  });
});

<span class="hljs-comment">// 2. ç„¶åè®©Cursorå®ç°æˆ–é‡æ„ç»„ä»¶</span>
<span class="hljs-comment">// æŒ‡ä»¤ï¼šâ€œå®ç°UserFormç»„ä»¶ï¼Œå¿…é¡»é€šè¿‡ä¸Šè¿°æµ‹è¯•ç”¨ä¾‹â€</span>
</code></pre>
<h2 data-id="heading-11">å››ã€äººæœºåä½œï¼šç¡®å®šä½ åœ¨é‡æ„ä¸­çš„æ ¸å¿ƒè§’è‰²</h2>
<h3 data-id="heading-12">4.1 AIæ“…é•¿çš„å·¥ä½œ âœ…</h3>
<ul>
<li><strong>é‡å¤æ€§æ¨¡å¼è¯†åˆ«</strong>ï¼šæ‰¾å‡ºå¤šä¸ªç»„ä»¶ä¸­çš„ç›¸ä¼¼æ¨¡å¼</li>
<li><strong>è¯­æ³•è½¬æ¢</strong>ï¼šå°†ç±»ç»„ä»¶è½¬æ¢ä¸ºå‡½æ•°ç»„ä»¶ï¼Œæ·»åŠ TypeScriptç±»å‹</li>
<li><strong>æ‰¹é‡ä¿®æ”¹</strong>ï¼šé‡å‘½åã€æå–å¸¸é‡ã€ç»Ÿä¸€ä»£ç é£æ ¼</li>
<li><strong>æ–‡æ¡£ç”Ÿæˆ</strong>ï¼šåŸºäºä»£ç ç”Ÿæˆæ³¨é‡Šå’ŒAPIæ–‡æ¡£</li>
<li><strong>åŸºç¡€æµ‹è¯•ç”¨ä¾‹</strong>ï¼šç”Ÿæˆè¦†ç›–å¸¸è§„è·¯å¾„çš„æµ‹è¯•</li>
</ul>
<h3 data-id="heading-13">4.2 éœ€è¦äººç±»æŠŠæ§çš„å…³é”® ğŸ”‘</h3>
<ul>
<li><strong>ä¸šåŠ¡é€»è¾‘ç†è§£</strong>ï¼šAIå¯èƒ½ä¸ç†è§£â€œä¸ºä»€ä¹ˆè¿™æ®µä»£ç è¦è¿™ä¹ˆå†™â€</li>
<li><strong>æ¶æ„å†³ç­–</strong>ï¼šé€‰æ‹©å“ªç§çŠ¶æ€ç®¡ç†æ–¹æ¡ˆã€æ–‡ä»¶å¤¹ç»“æ„å¦‚ä½•ç»„ç»‡</li>
<li><strong>æ€§èƒ½æƒè¡¡</strong>ï¼šåœ¨ä»£ç å¯è¯»æ€§å’Œæè‡´æ€§èƒ½é—´åšé€‰æ‹©</li>
<li><strong>ç”¨æˆ·ä½“éªŒè€ƒé‡</strong>ï¼šåŠ è½½çŠ¶æ€ã€é”™è¯¯å¤„ç†ã€æ— éšœç¢è®¿é—®ç­‰ç»†èŠ‚</li>
<li><strong>å›¢é˜Ÿè§„èŒƒ</strong>ï¼šéµå¾ªå›¢é˜Ÿç‰¹å®šçš„ä»£ç çº¦å®šå’Œæµç¨‹</li>
</ul>
<p>æ­£å¦‚å¤šä¸ªå®è·µæ¡ˆä¾‹æ‰€æ­ç¤ºçš„ï¼Œæœ€æœ‰æ•ˆçš„æ¨¡å¼æ˜¯â€œAIè´Ÿè´£æ•ˆç‡ï¼Œäººè´Ÿè´£ç²¾å‡†â€ï¼Œå¼€å‘è€…éœ€è¦æ‰®æ¼”â€œå†³ç­–è€…ä¸æ ¡éªŒè€…â€çš„è§’è‰²ã€‚</p>
<h2 data-id="heading-14">äº”ã€é‡æ„å·¥ä½œæµä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-15">5.1 å®‰å…¨é‡æ„å·¥ä½œæµ</h3>
<p>ä»¥ä¸‹æ˜¯ç»è¿‡å®è·µéªŒè¯çš„å®‰å…¨é‡æ„æµç¨‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[è¯„ä¼°ä¸è§„åˆ’] --&gt; B[å»ºç«‹å®‰å…¨ç½‘&lt;br&gt;ç¼–å†™æµ‹è¯•ç”¨ä¾‹]
    B --&gt; C[å°æ­¥å˜æ›´&lt;br&gt;æ¯æ¬¡åªé‡æ„ä¸€ä¸ªå…³æ³¨ç‚¹]
    C --&gt; D[æŒç»­éªŒè¯&lt;br&gt;è¿è¡Œæµ‹è¯•å’Œç±»å‹æ£€æŸ¥]
    D --&gt; E[ä»£ç å®¡æŸ¥&lt;br&gt;äººå·¥å®¡æ ¸AIç”Ÿæˆçš„ä»£ç ]
    E --&gt; F[æäº¤ä¸è®°å½•&lt;br&gt;å°æ‰¹æ¬¡æäº¤ï¼Œæ¸…æ™°æ³¨é‡Š]
    
    D -- å‘ç°é—®é¢˜ --&gt; G[ç«‹å³å›æ»š&lt;br&gt;ä½¿ç”¨Gitæ¢å¤]
    G --&gt; C
    
    F --&gt; H[è¿­ä»£ä¼˜åŒ–&lt;br&gt;åŸºäºåé¦ˆè°ƒæ•´è§„åˆ™]
    H --&gt; A
</code></pre>
<h3 data-id="heading-16">5.2 é‡æ„ä¸­çš„Cursoré«˜çº§æŠ€å·§</h3>
<ol>
<li>
<p><strong>ä½¿ç”¨ <code>@file</code>ã€<code>@folder</code> é™å®šä¸Šä¸‹æ–‡èŒƒå›´</strong>
å½“å¤„ç†ç‰¹å®šæ–‡ä»¶æ—¶ï¼Œä½¿ç”¨ <code>@file:UserForm.jsx</code> ç¡®ä¿ Cursor ä¸ä¼šè¯¯æ”¹å…¶ä»–æ–‡ä»¶ã€‚</p>
</li>
<li>
<p><strong>åˆ©ç”¨å¯¹è¯å†å²æŒç»­è¿­ä»£</strong>
ä½¿ç”¨ <code>/history</code> è°ƒå–æ—§å¯¹è¯ï¼ŒåŸºäºä¹‹å‰çš„å†³ç­–ç»§ç»­é‡æ„ï¼Œé¿å…é‡å¤è§£é‡Šã€‚</p>
</li>
<li>
<p><strong>æœ‰æ„è¯†åœ°é€‰æ‹©æ¨¡å‹</strong></p>
<ul>
<li><strong>GPT-4</strong>ï¼šé€‚åˆå¤æ‚ç®—æ³•å’Œæ¶æ„è®¾è®¡</li>
<li><strong>Claude</strong>ï¼šæ“…é•¿ç†è§£ä¸šåŠ¡é€»è¾‘å’Œåˆ›æ„æ€§ä»»åŠ¡</li>
<li><strong>Cursorè‡ªç ”Composeræ¨¡å‹</strong>ï¼šé€Ÿåº¦æå¿«ï¼Œé€‚åˆå¿«é€Ÿè¿­ä»£</li>
</ul>
</li>
<li>
<p><strong>å¤§é¡¹ç›®é¢„ç´¢å¼•</strong>
å¯¹äºå¤§å‹ä»£ç åº“ï¼Œå¯ä»¥è®© Cursor æå‰å»ºç«‹ç´¢å¼•ï¼ˆâ€œè¿‡å¤œç´¢å¼•â€ï¼‰ï¼Œè¿™æ ·åœ¨åç»­æ“ä½œä¸­å“åº”æ›´å¿«ã€‚</p>
</li>
</ol>
<h2 data-id="heading-17">å…­ã€ä»é‡æ„åˆ°é¢„é˜²ï¼šå»ºç«‹å¯æŒç»­çš„ä»£ç æ–‡åŒ–</h2>
<p>é‡æ„çš„æœ€ç»ˆç›®çš„ä¸æ˜¯ä¸€æ¬¡æ€§åœ°â€œè¿˜æ¸…å€ºåŠ¡â€ï¼Œè€Œæ˜¯å»ºç«‹é˜²æ­¢æ–°å€ºåŠ¡äº§ç”Ÿçš„æœºåˆ¶ã€‚</p>
<h3 data-id="heading-18">6.1 å»ºç«‹å›¢é˜ŸAIåä½œè§„èŒƒ</h3>
<ul>
<li><strong>åˆ¶å®šAIç”Ÿæˆä»£ç çš„è¯„å®¡æ ‡å‡†</strong>ï¼šæ˜ç¡®ä»€ä¹ˆæƒ…å†µä¸‹å¯ä»¥æ¥å—AIç”Ÿæˆçš„ä»£ç </li>
<li><strong>åˆ›å»ºå›¢é˜Ÿå…±äº«çš„<code>.cursor</code>é…ç½®</strong>ï¼šç»Ÿä¸€å›¢é˜Ÿçš„å¼€å‘çº¦æŸå’Œè§„åˆ™</li>
<li><strong>å®šæœŸæ›´æ–°é¡¹ç›®è§„åˆ™åº“</strong>ï¼šéšç€é¡¹ç›®å‘å±•è°ƒæ•´è§„åˆ™</li>
</ul>
<h3 data-id="heading-19">6.2 ç›‘æ§ä¸åº¦é‡</h3>
<p>å»ºç«‹å…³é”®æŒ‡æ ‡æ¥è·Ÿè¸ªé‡æ„æ•ˆæœï¼š</p>
<ul>
<li><strong>ä»£ç å¤æ‚åº¦å¾—åˆ†</strong>ï¼ˆå¦‚åœˆå¤æ‚åº¦ï¼‰</li>
<li><strong>æµ‹è¯•è¦†ç›–ç‡å˜åŒ–</strong></li>
<li><strong>æ„å»ºæ—¶é—´ä¼˜åŒ–</strong></li>
<li><strong>åŒ…ä½“ç§¯å‡å°‘</strong></li>
</ul>
<h2 data-id="heading-20">ç»“è¯­ï¼šé‡æ„ä½œä¸ºæŒç»­å®è·µ</h2>
<p>ä½¿ç”¨ Cursor è¿›è¡Œé—ç•™é¡¹ç›®é‡æ„ï¼Œä¸æ˜¯ä¸€æ¬¡æ€§çš„â€œé­”æ³•ä¿®å¤â€ï¼Œè€Œæ˜¯ä¸€ä¸ªæŒç»­çš„ã€ç³»ç»Ÿæ€§çš„å·¥ç¨‹å®è·µã€‚å®ƒæ”¹å˜äº†é‡æ„çš„æˆæœ¬æ•ˆç›Šæ–¹ç¨‹â€”â€”è¿‡å»å› ä¸ºé£é™©å¤ªé«˜è€Œä¸æ•¢è§¦ç¢°çš„â€œä»£ç é›·åŒºâ€ï¼Œç°åœ¨å¯ä»¥å®‰å…¨ã€æ¸è¿›åœ°æ”¹å–„ã€‚</p>
<p><strong>è®°ä½</strong>ï¼šæœ€å¥½çš„é‡æ„ç­–ç•¥æ˜¯å°æ­¥å¿«è·‘ã€æŒç»­éªŒè¯ã€‚æ¯æ¬¡æäº¤åªæ”¹å˜ä¸€ä»¶äº‹ï¼Œç¡®ä¿æœ‰å®Œæ•´çš„æµ‹è¯•è¦†ç›–ï¼Œè®© Cursor æˆä¸ºä½ çš„æŠ€æœ¯æ­æ¡£è€Œéæ›¿ä»£è€…ã€‚</p>
<p>å½“ä½ æˆåŠŸå°†ä¸€ä¸ªæ··ä¹±çš„é—ç•™ç³»ç»Ÿé‡æ„ä¸ºæ¸…æ™°ã€å¯ç»´æŠ¤çš„ç°ä»£ä»£ç åº“æ—¶ï¼Œé‚£ç§æˆå°±æ„Ÿæ˜¯æ— å¯æ›¿ä»£çš„ã€‚è€Œ Cursorï¼Œæ­£æ˜¯è®©ä½ èƒ½å¤Ÿå‹‡æ•¢é¢å¯¹â€œä»£ç å±å±±â€ï¼Œå°†å…¶è½¬åŒ–ä¸ºåšå®æŠ€æœ¯åŸºåº§çš„å…³é”®å·¥å…·ã€‚</p>
<hr/>
<p><strong>ä¸‹ç¯‡é¢„å‘Š</strong>ï¼šåœ¨ç¬¬ä¸‰ç¯‡ä¸­ï¼Œæˆ‘ä»¬å°†æ¢ç´¢å¦‚ä½•å°† Cursor æ·±åº¦èå…¥å›¢é˜Ÿå·¥ä½œæµï¼ŒåŒ…æ‹¬å¤šäººåä½œæœ€ä½³å®è·µã€ä»£ç å®¡æŸ¥è‡ªåŠ¨åŒ–ã€æ–‡æ¡£æ™ºèƒ½ç”Ÿæˆç­‰é«˜çº§ä¸»é¢˜ï¼Œæ•¬è¯·æœŸå¾…ï¼</p>
<p><strong>äº’åŠ¨è¯é¢˜</strong>ï¼šä½ åœ¨é‡æ„é—ç•™é¡¹ç›®æ—¶é‡åˆ°çš„æœ€å¤§æŒ‘æˆ˜æ˜¯ä»€ä¹ˆï¼Ÿå°è¯•ç”¨æœ¬æ–‡ä»‹ç»çš„æ–¹æ³•è§£å†³ä¸€ä¸ªå°é—®é¢˜ï¼Œå¹¶åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„ç»éªŒå’Œæˆæœï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ç«™å¼æ„å»º AI æ•°æ®å¤„ç† Pipelineï¼šDataWorks Notebook + MaxCompute MaxFrame å¿«é€Ÿå…¥é—¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7591130604429508648</link>    <guid>https://juejin.cn/post/7591130604429508648</guid>    <pubDate>2026-01-04T10:20:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591130604429508648" data-draft-id="7591309945510068224" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ç«™å¼æ„å»º AI æ•°æ®å¤„ç† Pipelineï¼šDataWorks Notebook + MaxCompute MaxFrame å¿«é€Ÿå…¥é—¨æŒ‡å—"/> <meta itemprop="keywords" content="å¤§æ•°æ®,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-04T10:20:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ç«™å¼æ„å»º AI æ•°æ®å¤„ç† Pipelineï¼šDataWorks Notebook + MaxCompute MaxFrame å¿«é€Ÿå…¥é—¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T10:20:07.000Z" title="Sun Jan 04 2026 10:20:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹åœ¨å¤§æ¨¡å‹ä¸ AI åº”ç”¨å¿«é€Ÿè½åœ°çš„ä»Šå¤©ï¼Œä¼ä¸šå¯¹â€œæ•°æ®å‡†å¤‡ â†’ æ•°æ®å¤„ç† â†’ æ¨¡å‹è®­ç»ƒâ€çš„ç«¯åˆ°ç«¯æ•ˆç‡æå‡ºäº†æ›´é«˜è¦æ±‚ã€‚é˜¿é‡Œäº‘æ•°æ®å¼€å‘æ²»ç†å¹³å° DataWorks è”åˆäº‘åŸç”Ÿå¤§æ•°æ®è®¡ç®—æœåŠ¡ MaxComputeï¼Œä¸ºæ‚¨æä¾›ä¸€å¥—å¼€ç®±å³ç”¨ã€å®‰å…¨åˆè§„ã€å¼¹æ€§å¯æ‰©å±•çš„ AI æ•°æ®å¼€å‘ç¯å¢ƒï¼Œç‰¹åˆ«é€‚åˆéœ€è¦å¤„ç† TB/PB çº§ç»“æ„åŒ–ã€åŠ/éç»“æ„åŒ–æ•°æ®çš„ AI å·¥ç¨‹å¸ˆã€æ•°æ®ç§‘å­¦å®¶ä¸ç®—æ³•å›¢é˜Ÿã€‚</p>
<p>æœ¬æ–‡å°†å¸¦æ‚¨å¿«é€Ÿäº†è§£å¦‚ä½•åŸºäºé˜¿é‡Œäº‘ä¸¤å¤§æ ¸å¿ƒäº§å“â€”â€”DataWorksï¼ˆå¤§æ•°æ®å¼€å‘ä¸æ²»ç†å¹³å°ï¼‰ã€MaxComputeï¼ˆäº‘åŸç”Ÿå¤§æ•°æ®è®¡ç®—æœåŠ¡ï¼‰ä»¥åŠMaxFrameï¼ˆåˆ†å¸ƒå¼Pythonè®¡ç®—æ¡†æ¶ï¼‰â€”â€” é«˜æ•ˆæ­å»ºä¸€ä¸ªæ”¯æŒ Notebook äº¤äº’å¼å¼€å‘ã€ä»»åŠ¡è°ƒåº¦ä¸å¤§è§„æ¨¡å¹¶è¡Œè®¡ç®—çš„ä¸€ä½“åŒ– AI æ•°æ®å¤„ç†ç¯å¢ƒã€‚</p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆé€‰æ‹©è¿™å¥—ç»„åˆï¼Ÿ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0eadaa4dad3e4aa9b7ad5a8d8129b5be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768126896&amp;x-signature=dSxyvcX9p9l4KVczi%2Bl2PWxKJFI%3D" alt="" loading="lazy"/></p>
<p><strong>ä¼˜åŠ¿æ€»ç»“ï¼š</strong></p>
<ul>
<li>
<p>æ— éœ€è‡ªå»ºé›†ç¾¤ï¼šå…¨æ‰˜ç®¡æœåŠ¡ï¼Œåˆ†é’Ÿçº§å¼€é€š</p>
</li>
<li>
<p>å¼€å‘ä½“éªŒå‹å¥½ï¼šJupyter Notebook é£æ ¼ï¼Œæ”¯æŒ Magic Command å¿«é€Ÿè¿æ¥è®¡ç®—èµ„æº</p>
</li>
<li>
<p>å®‰å…¨åˆè§„ï¼šå¤©ç„¶é›†æˆ RAM æƒé™ä½“ç³»ã€VPC ç½‘ç»œéš”ç¦»ã€æ•æ„Ÿä¿¡æ¯åŠ å¯†</p>
</li>
<li>
<p>æˆæœ¬å¯æ§ï¼šæŒ‰é‡ä»˜è´¹ + åŒ…å¹´åŒ…æœˆï¼Œé€‚åˆæµ‹è¯•ä¸ç”Ÿäº§æ··åˆåœºæ™¯</p>
</li>
</ul>
<h2 data-id="heading-1">ç¯å¢ƒæ­å»ºå››æ­¥èµ°ï¼ˆæ ¸å¿ƒæµç¨‹ï¼‰</h2>
<p>è™½ç„¶åº•å±‚æ¶‰åŠå¤šä¸ªæœåŠ¡è”åŠ¨ï¼Œä½†å¯¹ç”¨æˆ·è€Œè¨€ï¼Œåªéœ€å®Œæˆä»¥ä¸‹å››ä¸ªå…³é”®æ­¥éª¤ï¼Œå³å¯è¿›å…¥å¼€å‘çŠ¶æ€ï¼š</p>
<h4 data-id="heading-2">ç¬¬ä¸€æ­¥ï¼šå¼€é€š MaxCompute é¡¹ç›®</h4>
<p>ä½œä¸ºè®¡ç®—ä¸å­˜å‚¨çš„æ ¸å¿ƒï¼ŒMaxCompute é¡¹ç›®æ˜¯æ‰€æœ‰æ•°æ®ä½œä¸šçš„èµ„æºåº•åº§ã€‚</p>
<ul>
<li>
<p>é€‰æ‹©ä¸ä¸šåŠ¡ä¸€è‡´çš„åœ°åŸŸï¼ˆå¦‚åä¸œ2-ä¸Šæµ·ï¼‰</p>
</li>
<li>
<p>æ¨èä½¿ç”¨æŒ‰é‡ä»˜è´¹æ¨¡å¼ï¼ˆæ–°ç”¨æˆ·å¯äº«å—å…è´¹é¢åº¦ï¼‰</p>
</li>
<li>
<p>é¡¹ç›®åç§°å»ºè®®åŒ…å«ä¸šåŠ¡æ ‡è¯†ï¼ˆå¦‚ <code>ai_dedup_01</code>ï¼‰ï¼Œä¾¿äºåç»­ç®¡ç†</p>
</li>
</ul>
<h4 data-id="heading-3">ç¬¬äºŒæ­¥ï¼šåˆ›å»º DataWorks å·¥ä½œç©ºé—´</h4>
<p>DataWorks æä¾›ä»å¼€å‘åˆ°è¿ç»´çš„å®Œæ•´å·¥å…·é“¾ã€‚</p>
<ul>
<li>
<p>é€‰æ‹©åŸºç¡€ç‰ˆå³å¯æ»¡è¶³ Notebook å¼€å‘éœ€æ±‚ï¼ˆå…è´¹ï¼‰</p>
</li>
<li>
<p>åˆ›å»ºé€šç”¨å‹èµ„æºç»„ï¼ˆæŒ‰é‡ä»˜è´¹ï¼‰ï¼Œå¹¶ç»‘å®šVPCç½‘ç»œï¼ˆè‹¥éœ€è®¿é—® OSSã€PAI ç­‰å†…ç½‘æœåŠ¡ï¼‰</p>
</li>
<li>
<p>æŒ‡å®šç©ºé—´ç®¡ç†å‘˜ï¼Œå¹¶æ·»åŠ å›¢é˜Ÿæˆå‘˜ï¼ˆæ”¯æŒ RAM å­è´¦å·ï¼‰</p>
</li>
</ul>
<p>å»ºè®®å¼€å¯â€œæ–°ç‰ˆæ•°æ®å¼€å‘ï¼ˆData Studioï¼‰â€ï¼Œè·å¾—æ›´æµç•…çš„ Notebook ä½“éªŒã€‚</p>
<h4 data-id="heading-4">ç¬¬ä¸‰æ­¥ï¼šç»‘å®šè®¡ç®—èµ„æº</h4>
<p>å°† MaxCompute é¡¹ç›®â€œç»‘å®šâ€åˆ° DataWorks å·¥ä½œç©ºé—´ï¼Œå®ç°å¼€å‘ä¸è®¡ç®—çš„æ‰“é€šã€‚</p>
<ul>
<li>
<p>åœ¨å·¥ä½œç©ºé—´ç®¡ç†é¡µä¸­ï¼Œä¸€é”®ç»‘å®šå·²åˆ›å»ºçš„ MaxCompute é¡¹ç›®</p>
</li>
<li>
<p>é€‰æ‹©åˆé€‚çš„èµ„æºç»„ï¼ˆç”¨äºä»»åŠ¡è°ƒåº¦ä¸ Notebook æ‰§è¡Œï¼‰</p>
</li>
<li>
<p>æµ‹è¯•è¿é€šæ€§ï¼Œç¡®ä¿æƒé™ä¸ç½‘ç»œé…ç½®æ­£ç¡®</p>
</li>
</ul>
<p>å®‰å…¨æç¤ºï¼šå»ºè®®ä½¿ç”¨â€œé˜¿é‡Œäº‘ä¸»è´¦å·â€ä½œä¸ºé»˜è®¤æ‰§è¡Œèº«ä»½ï¼Œé¿å…æƒé™ä¸è¶³é—®é¢˜ã€‚</p>
<h4 data-id="heading-5">ç¬¬å››æ­¥ï¼šå¯åŠ¨ä¸ªäººå¼€å‘ç¯å¢ƒ</h4>
<p>è¿™æ˜¯æ‚¨ç¼–å†™ä»£ç çš„â€œäº‘ç«¯å·¥ä½œç«™â€ã€‚</p>
<ul>
<li>
<p>åœ¨ Data Studio ä¸­æ–°å»ºä¸€ä¸ªä¸ªäººå¼€å‘ç¯å¢ƒå®ä¾‹</p>
</li>
<li>
<p>é€‰æ‹© CPU è§„æ ¼ï¼ˆå¦‚ 4 vCPU / 16 GiBï¼‰å’Œé¢„ç½®é•œåƒï¼ˆå¦‚ dataworks-maxcompute:py3.11-ubuntu20.04:py3.11-ubuntu20.04-202504-1ï¼‰</p>
</li>
<li>
<p>å®ä¾‹å¯åŠ¨åï¼Œå³å¯åœ¨ Notebook ä¸­ç›´æ¥è¿é€š MaxFrame è¿›è¡Œåˆ†å¸ƒå¼è®¡ç®—</p>
</li>
</ul>
<p>æ³¨æ„ï¼šå®ä¾‹æŒ‰CU*æ—¶é•¿è®¡è´¹ï¼Œä¸ä½¿ç”¨æ—¶è¯·æ‰‹åŠ¨åœæ­¢ï¼Œé¿å…äº§ç”Ÿé¢å¤–è´¹ç”¨ã€‚</p>
<h2 data-id="heading-6">å¼€å§‹å¼€å‘ï¼šç”¨ MaxFrame å¤„ç†æµ·é‡æ•°æ®</h2>
<p>ä¸€åˆ‡å°±ç»ªåï¼Œæ‚¨å¯ä»¥åœ¨ Notebook ä¸­åƒå†™ Pandas ä¸€æ ·å¤„ç†äº¿çº§æ•°æ®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">import maxframe.dataframe as md
import pyarrow as pa
import pandas as pd
from maxframe.lib.dtypes_extension import dict_

<span class="hljs-comment"># åˆå§‹åŒ– MaxFrame ä¼šè¯ï¼ˆé€šè¿‡ Magic Command è‡ªåŠ¨è¿æ¥ MaxComputeï¼‰</span>
<span class="hljs-attr">mf_session</span> = %maxframe

<span class="hljs-comment"># æ„é€  DataFrameï¼ˆå®é™…æ•°æ®å¯æ¥è‡ª MaxCompute è¡¨ï¼‰</span>
<span class="hljs-attr">col_a</span> = pd.Series(
    <span class="hljs-attr">data</span>=[[(<span class="hljs-string">"k1"</span>, <span class="hljs-number">1</span>), (<span class="hljs-string">"k2"</span>, <span class="hljs-number">2</span>)], [(<span class="hljs-string">"k1"</span>, <span class="hljs-number">3</span>)], None],
    <span class="hljs-attr">index</span>=[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>],
    <span class="hljs-attr">dtype</span>=dict_(pa.string(), pa.int64()),
)
<span class="hljs-attr">col_b</span> = pd.Series(
    <span class="hljs-attr">data</span>=[<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>],
    <span class="hljs-attr">index</span>=[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>],
)
<span class="hljs-attr">df</span> = md.DataFrame({<span class="hljs-string">"A"</span>: col_a, <span class="hljs-string">"B"</span>: col_b})
df.execute()

<span class="hljs-comment"># è‡ªå®šä¹‰å‡½æ•°</span>
def custom_set_item(df):
    for name, value in df<span class="hljs-section">["A"]</span>.items():
        if value is not None:
            df<span class="hljs-section">["A"]</span><span class="hljs-section">[name]</span><span class="hljs-section">["x"]</span> = 100
    return df

<span class="hljs-comment"># è°ƒç”¨ apply_chunk æ‰§è¡Œåˆ†å¸ƒå¼è®¡ç®—</span>
<span class="hljs-attr">result_df</span> = df.mf.apply_chunk(
    custom_set_item,
    <span class="hljs-attr">output_type</span>=<span class="hljs-string">"dataframe"</span>,
    <span class="hljs-attr">dtypes</span>=df.dtypes.copy(),
    <span class="hljs-attr">batch_rows</span>=<span class="hljs-number">2</span>,
    <span class="hljs-attr">skip_infer</span>=<span class="hljs-literal">True</span>,
    <span class="hljs-attr">index</span>=df.index,
).execute().fetch()

print(result_df)
</code></pre>
<p><img alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" src="" loading="lazy"/></p>
<p><strong>äº®ç‚¹åŠŸèƒ½ï¼š</strong></p>
<ul>
<li>
<p>ä½¿ç”¨ <code>%maxframe</code> Magic Commandï¼Œæ— éœ€æ˜æ–‡ AccessKeyï¼Œå¿«æ·è¿é€šç›®æ ‡è®¡ç®—èµ„æº</p>
</li>
<li>
<p>è¾“å‡ºä¸­åŒ…å« Logview é“¾æ¥ï¼Œä¸€é”®æŸ¥çœ‹ä½œä¸š DAGã€è€—æ—¶ã€å¤±è´¥åŸå› </p>
</li>
<li>
<p>æ”¯æŒå°†ç»“æœå†™å› MaxCompute è¡¨æˆ–å¯¼å‡ºè‡³ OSSï¼Œæ— ç¼è¡”æ¥ä¸‹æ¸¸æ¨¡å‹è®­ç»ƒ</p>
</li>
</ul>
<h2 data-id="heading-7">æœ€ä½³å®è·µå»ºè®®</h2>
<p>ä¸ºäº†è®©æ‚¨çš„å¼€å‘æ›´é«˜æ•ˆã€æ›´ç¨³å®šï¼Œæ¨èå…³æ³¨ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<h4 data-id="heading-8">1. å–„ç”¨ Logview 2.0</h4>
<p>æ¯æ¬¡æ‰§è¡Œéƒ½ä¼šç”Ÿæˆå¯è§†åŒ–ä½œä¸šè¿½è¸ªé“¾æ¥ï¼Œå¸®åŠ©å¿«é€Ÿå®šä½æ€§èƒ½ç“¶é¢ˆæˆ–é”™è¯¯æ ¹æºã€‚</p>
<h4 data-id="heading-9">2. åˆç†é…ç½®èµ„æºé…é¢</h4>
<p>é€šè¿‡è®¾ç½® <code>options.session.quota_name</code> æŒ‡å®šåä»˜è´¹/é¢„ä»˜è´¹ Quotaï¼ŒæŒ‰ä¸šåŠ¡éœ€æ±‚çµæ´»é€‰æ‹©ã€‚</p>
<h4 data-id="heading-10">3. æ•æ„Ÿä¿¡æ¯ç»Ÿä¸€ç®¡ç†</h4>
<p>åœ¨ DataWorks å·¥ä½œç©ºé—´å‚æ•°ä¸­é…ç½® AK/SK æˆ–æ•°æ®åº“å¯†ç ï¼Œä»£ç ä¸­é€šè¿‡ ${workspace.å·¥ä½œç©ºé—´å‚æ•°å} <code>å¼•ç”¨ï¼Œæœç»æ˜æ–‡æ³„éœ²ã€‚</code></p>
<h4 data-id="heading-11">4. åˆ©ç”¨æ•°æ®åœ°å›¾åšå…ƒæ•°æ®æ²»ç†</h4>
<p>DataWorks è‡ªåŠ¨åŒæ­¥ MaxCompute è¡¨ç»“æ„ï¼Œæ”¯æŒè¡€ç¼˜åˆ†æã€è¡¨é¢„è§ˆã€ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œæå‡å›¢é˜Ÿåä½œæ•ˆç‡ã€‚</p>
<h2 data-id="heading-12">å¸¸è§é—®é¢˜å¿«é€Ÿæ’æŸ¥</h2>
<ul>
<li>
<p>Qï¼šNotebook ä¸­æŸ¥ä¸åˆ° MaxCompute è¡¨ï¼Ÿ<br/>
Aï¼šç¡®è®¤ MaxCompute é¡¹ç›®å·²ç»‘å®šåˆ°å½“å‰ DataWorks å·¥ä½œç©ºé—´ï¼Œå¹¶æ£€æŸ¥è´¦å·æ˜¯å¦æœ‰è¯»æƒé™ï¼›å¯åœ¨â€œæ•°æ®åœ°å›¾â€ä¸­æ‰‹åŠ¨åˆ·æ–°å…ƒæ•°æ®ã€‚</p>
</li>
<li>
<p>Qï¼šæ— æ³•è¯»å†™ OSS æ•°æ®ï¼Ÿ<br/>
Aï¼šç¡®ä¿ RAM ç”¨æˆ·æ‹¥æœ‰å¯¹åº” Bucket çš„è¯»å†™æƒé™ï¼Œä¸”ä¸ªäººå¼€å‘ç¯å¢ƒå®ä¾‹ï¼ˆå¼€å‘ç¯å¢ƒï¼‰å’Œé€šç”¨å‹èµ„æºç»„ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰ä¸ OSS åœ¨åŒä¸€ VPC å†…ï¼ˆæˆ–å·²é…ç½®å…¬ç½‘è®¿é—®ï¼‰ã€‚</p>
</li>
</ul>
<h2 data-id="heading-13">ä¸‹ä¸€æ­¥è¡ŒåŠ¨</h2>
<p>ç°åœ¨ï¼Œæ‚¨å·²ç»æ‹¥æœ‰äº†ä¸€ä¸ªå®‰å…¨ã€å¼¹æ€§ã€é«˜æ€§èƒ½çš„ AI æ•°æ®å¤„ç†å¹³å°ã€‚æ— è®ºæ˜¯è¿›è¡Œæ•°æ®å»é‡ã€ç‰¹å¾æ‰“æ ‡ã€æ—¥å¿—æ¸…æ´—ï¼Œè¿˜æ˜¯ä¸ºå¤§æ¨¡å‹å‡†å¤‡é«˜è´¨é‡è®­ç»ƒè¯­æ–™ï¼Œè¿™å¥—ç»„åˆéƒ½èƒ½ä¸ºæ‚¨æä¾›å¼ºå¤§æ”¯æ’‘ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å·¥ç¨‹åŒ–å®æˆ˜ï¼šuniappåŸºäºè·¯ç”±çš„è‡ªåŠ¨ä¸»é¢˜åˆ‡æ¢ä½“ç³»]]></title>    <link>https://juejin.cn/post/7591346773827092506</link>    <guid>https://juejin.cn/post/7591346773827092506</guid>    <pubDate>2026-01-04T10:24:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591346773827092506" data-draft-id="7591338980693295150" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å·¥ç¨‹åŒ–å®æˆ˜ï¼šuniappåŸºäºè·¯ç”±çš„è‡ªåŠ¨ä¸»é¢˜åˆ‡æ¢ä½“ç³»"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-04T10:24:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LCåŒå­¦47981"/> <meta itemprop="url" content="https://juejin.cn/user/1978776660477991"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å·¥ç¨‹åŒ–å®æˆ˜ï¼šuniappåŸºäºè·¯ç”±çš„è‡ªåŠ¨ä¸»é¢˜åˆ‡æ¢ä½“ç³»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1978776660477991/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LCåŒå­¦47981
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T10:24:53.000Z" title="Sun Jan 04 2026 10:24:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">UI å·¥ç¨‹åŒ–å®æˆ˜ï¼šåŸºäºè·¯ç”±çš„è‡ªåŠ¨ä¸»é¢˜åˆ‡æ¢ä½“ç³»</h2>
<p>åœ¨å¤šç§Ÿæˆ· SaaS ç³»ç»Ÿä¸­ï¼Œä¸åŒä¸šåŠ¡æ¨¡å—å¾€å¾€éœ€è¦å±•ç°æˆªç„¶ä¸åŒçš„è§†è§‰é£æ ¼ã€‚ä¾‹å¦‚ï¼Œâ€œç”µå•†ä¸»é¡µâ€é€šå¸¸é‡‡ç”¨è“è‰²è°ƒçš„å•†åŠ¡é£æ ¼ï¼Œè€Œâ€œæ‰«ç ç‚¹é¤â€æ¨¡å—åˆ™åå‘çº¢è‰²çš„è¥é”€é£æ ¼ã€‚å¦‚ä½•è®©ç”¨æˆ·åœ¨ä¸åŒæ¨¡å—é—´è·³è½¬æ—¶ï¼Œç³»ç»Ÿèƒ½<strong>è‡ªåŠ¨ã€æ— æ„Ÿåœ°åˆ‡æ¢ä¸»é¢˜</strong>ï¼Œæ˜¯æå‡ç”¨æˆ·ä½“éªŒçš„å…³é”®ã€‚</p>
<p>æœ¬æ–‡å°†æ·±å…¥è§£ææœ¬é¡¹ç›®åŸºäº <strong>CSS å˜é‡ + è·¯ç”±ç›‘å¬ + Pinia Store</strong> æ„å»ºçš„è‡ªåŠ¨ä¸»é¢˜åˆ‡æ¢ä½“ç³»ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€ æ ¸å¿ƒç—›ç‚¹</h3>
<ol>
<li><strong>æ‰‹åŠ¨åˆ‡æ¢ç¹ç</strong>ï¼šå¦‚æœä¾èµ–å¼€å‘è€…åœ¨æ¯ä¸ªé¡µé¢ <code>onLoad</code> æ—¶æ‰‹åŠ¨è°ƒç”¨ <code>setTheme('red')</code>ï¼Œä¸ä»…ä»£ç å†—ä½™ï¼Œè¿˜ææ˜“é—æ¼ã€‚</li>
<li><strong>æ ·å¼éš¾ä»¥å¤ç”¨</strong>ï¼šç¡¬ç¼–ç çš„é¢œè‰²å€¼ï¼ˆå¦‚ <code>#ff4b43</code>ï¼‰æ•£è½åœ¨å„ä¸ªç»„ä»¶ä¸­ï¼Œä¿®æ”¹ä¸»é¢˜è‰²éœ€è¦å…¨å±€æœç´¢æ›¿æ¢ã€‚</li>
<li><strong>å¤šç§Ÿæˆ·é€‚é…éš¾</strong>ï¼šä¸åŒç§Ÿæˆ·å¯èƒ½å¯¹åŒä¸€æ¨¡å—æœ‰ä¸åŒçš„é¢œè‰²åå¥½ï¼Œé™æ€é…ç½®æ— æ³•æ»¡è¶³éœ€æ±‚ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-2">äºŒã€ æ¶æ„è®¾è®¡</h3>
<p>æˆ‘ä»¬è®¾è®¡äº†ä¸€å¥—<strong>ä¸‰å±‚æ¶æ„</strong>æ¥è§£å†³ä¸Šè¿°é—®é¢˜ï¼š</p>
<ol>
<li><strong>å®šä¹‰å±‚ (Theme Definition)</strong>ï¼šé›†ä¸­å®šä¹‰å¤šå¥—ä¸»é¢˜çš„é¢œè‰²å˜é‡ï¼ˆJSï¼‰å’Œæ ·å¼å˜é‡ï¼ˆCSS Varsï¼‰ã€‚
<blockquote>
<p><strong>äº®ç‚¹</strong>ï¼šé™¤äº†æœ¬åœ°é¢„è®¾ï¼Œ<strong>æ”¯æŒè¿è¡Œæ—¶é€šè¿‡æ¥å£ä¸‹å‘å˜é‡è¿›è¡ŒåŠ¨æ€è¦†ç›–</strong>ï¼Œä»è€Œå®ç°â€œæ— é™è‡ªç”±æ¢è‚¤â€ã€‚</p>
</blockquote>
</li>
<li><strong>é…ç½®å±‚ (Theme Config)</strong>ï¼šå»ºç«‹â€œè·¯ç”±è·¯å¾„ -&gt; ä¸»é¢˜åç§°â€çš„æ˜ å°„è§„åˆ™ã€‚</li>
<li><strong>æ‰§è¡Œå±‚ (Runtime Switcher)</strong>ï¼šç›‘å¬è·¯ç”±å˜åŒ–ï¼Œè‡ªåŠ¨åŒ¹é…å¹¶åº”ç”¨ä¸»é¢˜ã€‚</li>
</ol>
<h4 data-id="heading-3">1. å®šä¹‰å±‚ï¼šJS ä¸ CSS å˜é‡çš„åŒé‡é©±åŠ¨</h4>
<p>åœ¨ <code>src/store/useStyle/theme/</code> ç›®å½•ä¸‹ï¼Œæˆ‘ä»¬å®šä¹‰äº† <code>light</code>ï¼ˆé»˜è®¤è“ï¼‰ã€<code>red</code>ï¼ˆè¥é”€çº¢ï¼‰ã€<code>dark</code>ï¼ˆæš—é»‘ï¼‰ç­‰å¤šå¥—ä¸»é¢˜ã€‚</p>
<p>ä»¥ <code>light.ts</code> ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// CSS å˜é‡ï¼šç”¨äºç»„ä»¶çš„æ ·å¼ç»‘å®š</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> cssVars = {
  <span class="hljs-string">'--u-background'</span>: <span class="hljs-string">'#ffffff'</span>,
  <span class="hljs-string">'--u-text'</span>: <span class="hljs-string">'#333333'</span>
};

<span class="hljs-comment">// JS å˜é‡ï¼šç”¨äº canvas ç»˜å›¾æˆ– JS é€»è¾‘</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> colorVars = {
  <span class="hljs-attr">primary</span>: <span class="hljs-string">'#2B67F0'</span>, <span class="hljs-comment">// ä¸»è‰²è°ƒï¼šè“</span>
  <span class="hljs-attr">warning</span>: <span class="hljs-string">'#FF7D00'</span>
  <span class="hljs-comment">// ...</span>
};
</code></pre>
<h4 data-id="heading-4">2. é…ç½®å±‚ï¼šè·¯ç”±æ˜ å°„è§„åˆ™</h4>
<p>åœ¨ <code>src/utils/env.ts</code> ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ <code>defaultTheme</code> å­—æ®µé…ç½®äº†ä¸»é¢˜çš„é€‚ç”¨èŒƒå›´ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getConfig</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">defaultTheme</span>: {
      <span class="hljs-attr">light</span>: <span class="hljs-string">'*'</span>, <span class="hljs-comment">// é»˜è®¤ä½¿ç”¨ light ä¸»é¢˜</span>
      <span class="hljs-attr">dark</span>: [],
      <span class="hljs-attr">red</span>: [<span class="hljs-string">'subPackageScanQrOrder'</span>] <span class="hljs-comment">// è¿›å…¥â€œæ‰«ç ç‚¹é¤â€åˆ†åŒ…æ—¶ï¼Œå¼ºåˆ¶åˆ‡æ¢ä¸º red ä¸»é¢˜</span>
    },
    <span class="hljs-attr">defaultThemeColor</span>: <span class="hljs-string">'light'</span>
  };
};
</code></pre>
<h4 data-id="heading-5">3. æ‰§è¡Œå±‚ï¼šæ™ºèƒ½è·¯ç”±ç›‘å¬</h4>
<p>åœ¨æ ¹ç»„ä»¶ <a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">App.ku.vue</a> ä¸­ï¼Œæˆ‘ä»¬åˆ©ç”¨ <code>useStyles</code> Store æä¾›çš„èƒ½åŠ›ï¼Œåœ¨åº”ç”¨å¯åŠ¨æˆ–è·¯ç”±å˜åŒ–æ—¶è§¦å‘æ£€æŸ¥ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript">&lt;script setup lang=<span class="hljs-string">"ts"</span>&gt;
  <span class="hljs-keyword">import</span> { useStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'./store/useStyle'</span>;
  <span class="hljs-keyword">import</span> { parseRouteParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils/tools'</span>;

  <span class="hljs-comment">// è·å–å½“å‰è·¯å¾„ï¼ˆåŒ…å«åˆ†åŒ…è·¯å¾„ï¼‰</span>
  <span class="hljs-keyword">const</span> { hashPath } = <span class="hljs-title function_">parseRouteParams</span>();

  <span class="hljs-keyword">if</span> (hashPath) {
    <span class="hljs-comment">// è§¦å‘è‡ªåŠ¨ä¸»é¢˜åˆ‡æ¢</span>
    <span class="hljs-title function_">useStyles</span>().<span class="hljs-title function_">switchThemeByRouter</span>(hashPath);
  }
&lt;/script&gt;
</code></pre>
<hr/>
<h3 data-id="heading-6">ä¸‰ã€ æ ¸å¿ƒä»£ç è§£æ</h3>
<p><a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">src/store/useStyle/index.ts</a> æ˜¯æ•´ä¸ªæœºåˆ¶çš„å¤§è„‘ã€‚</p>
<h4 data-id="heading-7">1. è·¯ç”±åŒ¹é…é€»è¾‘</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">switchThemeByRouter</span> = (<span class="hljs-params">routePath: <span class="hljs-built_in">string</span></span>) =&gt; {
  <span class="hljs-keyword">const</span> config = <span class="hljs-title function_">getConfig</span>();

  <span class="hljs-comment">// 1. æå–è·¯å¾„å‰ç¼€ï¼ˆåˆ†åŒ…åï¼‰</span>
  <span class="hljs-keyword">let</span> pathPrefix = routePath.<span class="hljs-title function_">split</span>(<span class="hljs-string">'/'</span>).<span class="hljs-title function_">filter</span>(<span class="hljs-title class_">Boolean</span>)[<span class="hljs-number">0</span>];

  <span class="hljs-comment">// 2. éå†é…ç½®ï¼Œå¯»æ‰¾åŒ¹é…çš„ä¸»é¢˜</span>
  <span class="hljs-keyword">let</span> key = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(config.<span class="hljs-property">defaultTheme</span>).<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> {
    <span class="hljs-comment">// æ£€æŸ¥å½“å‰è·¯å¾„æ˜¯å¦åœ¨æŸä¸ªä¸»é¢˜çš„é…ç½®åˆ—è¡¨ä¸­</span>
    <span class="hljs-keyword">return</span> config.<span class="hljs-property">defaultTheme</span>[key <span class="hljs-keyword">as</span> <span class="hljs-title class_">ThemeColor</span>]?.<span class="hljs-title function_">includes</span>(pathPrefix);
  });

  <span class="hljs-comment">// 3. å…œåº•ç­–ç•¥ï¼šæœªåŒ¹é…åˆ™ä½¿ç”¨é»˜è®¤ä¸»é¢˜</span>
  <span class="hljs-keyword">if</span> (!key) {
    <span class="hljs-title function_">switchTheme</span>(config.<span class="hljs-property">defaultThemeColor</span>);
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-comment">// 4. æ‰§è¡Œåˆ‡æ¢</span>
  <span class="hljs-title function_">switchTheme</span>(key <span class="hljs-keyword">as</span> <span class="hljs-title class_">ThemeColor</span>);
};
</code></pre>
<h4 data-id="heading-8">2. æ ·å¼æ³¨å…¥é€»è¾‘</h4>
<p><code>switchTheme</code> æ–¹æ³•è´Ÿè´£å°†é€‰å®šä¸»é¢˜çš„å˜é‡æ³¨å…¥åˆ° <code>uview-pro</code> çš„ä¸»é¢˜ç³»ç»Ÿä¸­ï¼Œä½¿å…¶å…¨å±€ç”Ÿæ•ˆã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">switchTheme</span> = (<span class="hljs-params">theme: ThemeColor</span>) =&gt; {
  <span class="hljs-keyword">if</span> (currentThemeColor.<span class="hljs-property">value</span> === theme) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// é¿å…é‡å¤åˆ‡æ¢</span>

  <span class="hljs-keyword">const</span> themeVars = <span class="hljs-title function_">getTheme</span>(theme);

  <span class="hljs-comment">// æ›´æ–° Pinia çŠ¶æ€</span>
  currentThemeColor.<span class="hljs-property">value</span> = theme;

  <span class="hljs-comment">// è°ƒç”¨ UI åº“çš„ setTheme æ–¹æ³•ï¼Œåº•å±‚ä¼šå°† CSS å˜é‡æŒ‚è½½åˆ° :root ä¸Š</span>
  <span class="hljs-title function_">changeTheme</span>({
    <span class="hljs-attr">selfColorsVars</span>: themeVars.<span class="hljs-property">colorVars</span>,
    <span class="hljs-attr">selfCssVars</span>: themeVars.<span class="hljs-property">cssVars</span>
  });
};
</code></pre>
<hr/>
<h3 data-id="heading-9">å››ã€ æ–¹æ¡ˆä¼˜åŠ¿</h3>
<ol>
<li><strong>é›¶ä¾µå…¥æ€§</strong>ï¼šä¸šåŠ¡é¡µé¢æ— éœ€ç¼–å†™ä»»ä½•ä¸»é¢˜åˆ‡æ¢ä»£ç ï¼Œåªéœ€å…³æ³¨ä¸šåŠ¡é€»è¾‘ã€‚</li>
<li><strong>ç»†ç²’åº¦æ§åˆ¶</strong>ï¼šæ”¯æŒæŒ‰åˆ†åŒ…ã€æŒ‰é¡µé¢ç”šè‡³æŒ‰ç§Ÿæˆ·é…ç½®ä¸åŒçš„ä¸»é¢˜è§„åˆ™ã€‚</li>
<li><strong>åŠ¨æ€æ€§</strong>ï¼šé™¤äº†å†…ç½®ä¸»é¢˜ï¼Œè¯¥æ¶æ„è¿˜æ”¯æŒä»æœåŠ¡ç«¯ä¸‹å‘ JSON é…ç½®ï¼Œå®ç°â€œåƒäººåƒé¢â€çš„åŠ¨æ€æ¢è‚¤ã€‚</li>
<li><strong>ä¸€è‡´æ€§</strong>ï¼šJS å˜é‡ä¸ CSS å˜é‡åŒæ­¥æ›´æ–°ï¼Œç¡®ä¿ Canvas å›¾è¡¨ä¸ DOM å…ƒç´ çš„é¢œè‰²å§‹ç»ˆä¿æŒä¸€è‡´ã€‚</li>
</ol>
<p>é€šè¿‡è¿™å¥— UI å·¥ç¨‹åŒ–ä½“ç³»ï¼Œæˆ‘ä»¬æˆåŠŸå®ç°äº†å¤æ‚ä¸šåŠ¡åœºæ™¯ä¸‹çš„è‡ªåŠ¨åŒ–è§†è§‰ç®¡ç†ï¼Œæ˜¾è‘—æå‡äº†å¼€å‘æ•ˆç‡ä¸ç”¨æˆ·ä½“éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€OpenGLå­¦ä¹ æ»¤é•œç›¸æœºã€- Day 11: å®æ—¶æ»¤é•œæ•ˆæœ]]></title>    <link>https://juejin.cn/post/7591338980693393454</link>    <guid>https://juejin.cn/post/7591338980693393454</guid>    <pubDate>2026-01-04T10:34:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591338980693393454" data-draft-id="7591207451779285018" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€OpenGLå­¦ä¹ æ»¤é•œç›¸æœºã€- Day 11: å®æ—¶æ»¤é•œæ•ˆæœ"/> <meta itemprop="keywords" content="Android,OpenGL"/> <meta itemprop="datePublished" content="2026-01-04T10:34:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸‹ä½å­"/> <meta itemprop="url" content="https://juejin.cn/user/2313028193761389"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€OpenGLå­¦ä¹ æ»¤é•œç›¸æœºã€- Day 11: å®æ—¶æ»¤é•œæ•ˆæœ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2313028193761389/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸‹ä½å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T10:34:42.000Z" title="Sun Jan 04 2026 10:34:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><a href="https://juejin.cn/post/7567889397497528383" target="_blank" title="https://juejin.cn/post/7567889397497528383">å‰è¨€: ã€OpenGLå­¦ä¹ ã€ ä»é›¶æ‰“é€  Android æ»¤é•œç›¸æœº</a></p>
<p><a href="https://juejin.cn/post/7572493520004104226" target="_blank" title="https://juejin.cn/post/7572493520004104226">ä¸Šä¸€ç¯‡:ã€OpenGLå­¦ä¹ æ»¤é•œç›¸æœºã€- Day10: ç›¸æœºé¢„è§ˆä¸ OpenGL ç»“åˆ</a></p>
<p>Github: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxiaweizi%2FOpenGLTest" target="_blank" title="https://github.com/xiaweizi/OpenGLTest" ref="nofollow noopener noreferrer">OpenGLTest</a></p>
</blockquote>
<h2 data-id="heading-0">ğŸ“š ä»Šæ—¥ç›®æ ‡</h2>
<ul>
<li>æŒæ¡å¸¸è§æ»¤é•œç®—æ³•çš„åŸç†å’Œå®ç°</li>
<li>å­¦ä¹ è‰²å½©ç©ºé—´è½¬æ¢ï¼ˆRGBã€HSVï¼‰</li>
<li>å®ç°å¤šç§å®æ—¶æ»¤é•œæ•ˆæœ</li>
<li>ç†è§£æ»¤é•œå‚æ•°è°ƒèŠ‚æœºåˆ¶</li>
<li>ä¸ºç¾é¢œåŠŸèƒ½æ‰“ä¸‹åŸºç¡€</li>
</ul>
<h2 data-id="heading-1">è¿è¡Œæ•ˆæœ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75c0feef23174a6d89469a02389a6932~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiL5L2N5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768128434&amp;x-signature=Lnndq6l7RNnvOgVBPak4cpWQKYc%3D" alt="Day11.gif" loading="lazy"/></p>
<h2 data-id="heading-2">ğŸ¯ å­¦ä¹ å†…å®¹</h2>
<h3 data-id="heading-3">1. æ»¤é•œåŸºç¡€åŸç†</h3>
<p><strong>æ»¤é•œæœ¬è´¨</strong>ï¼šåœ¨ç‰‡æ®µç€è‰²å™¨ä¸­ä¿®æ”¹æ¯ä¸ªåƒç´ çš„é¢œè‰²å€¼ã€‚</p>
<pre><code class="hljs language-python" lang="python">åŸå§‹åƒç´ é¢œè‰² â†’ æ»¤é•œç®—æ³•å¤„ç† â†’ è¾“å‡ºæ–°é¢œè‰²
   (R, G, B)  â†’   f(R, G, B)   â†’ (<span class="hljs-string">R', G'</span>, <span class="hljs-string">B')
</span></code></pre>
<h4 data-id="heading-4">æ»¤é•œçš„åˆ†ç±»</h4>






























<table><thead><tr><th>ç±»å‹</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>è‰²å½©è°ƒæ•´</strong></td><td>ä¿®æ”¹ RGB å€¼</td><td>ç°åº¦ã€åè‰²ã€äº®åº¦</td></tr><tr><td><strong>è‰²è°ƒé£æ ¼</strong></td><td>ç‰¹å®šè‰²å½©å€¾å‘</td><td>å¤å¤ã€æš–è‰²ã€å†·è‰²</td></tr><tr><td><strong>å·ç§¯æ»¤é•œ</strong></td><td>ä½¿ç”¨å‘¨å›´åƒç´ </td><td>æ¨¡ç³Šã€é”åŒ–ã€è¾¹ç¼˜æ£€æµ‹</td></tr><tr><td><strong>ç©ºé—´å˜æ¢</strong></td><td>æ”¹å˜åƒç´ ä½ç½®</td><td>æ‰­æ›²ã€ç˜¦è„¸</td></tr></tbody></table>
<h3 data-id="heading-5">2. å¸¸è§æ»¤é•œå®ç°</h3>
<h4 data-id="heading-6">2.1 ç°åº¦æ»¤é•œ</h4>
<p><strong>åŸç†</strong>ï¼šå°† RGB è½¬æ¢ä¸ºå•ä¸€äº®åº¦å€¼ã€‚</p>
<p><strong>åŠ æƒå¹³å‡å…¬å¼</strong>ï¼ˆç¬¦åˆäººçœ¼å¯¹é¢œè‰²çš„æ•æ„Ÿåº¦ï¼‰ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">Gray</span> = <span class="hljs-number">0.299</span> Ã— R + <span class="hljs-number">0.587</span> Ã— G + <span class="hljs-number">0.114</span> Ã— B
</code></pre>
<p><strong>GLSL å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-glsl" lang="glsl">vec4 grayscale(vec4 color) {
    float gray = dot(color.rgb, vec3(0.299, 0.587, 0.114));
    return vec4(vec3(gray), color.a);
}
</code></pre>
<p><strong>ç®€åŒ–ç‰ˆ</strong>ï¼ˆæ€§èƒ½æ›´é«˜ï¼‰ï¼š</p>
<pre><code class="hljs language-glsl" lang="glsl">vec4 grayscale(vec4 color) {
    float gray = (color.r + color.g + color.b) / 3.0;
    return vec4(vec3(gray), color.a);
}
</code></pre>
<h4 data-id="heading-7">2.2 åè‰²æ»¤é•œ</h4>
<p><strong>åŸç†</strong>ï¼šæ¯ä¸ªé¢œè‰²åˆ†é‡ç”¨ 1.0 å‡å»åŸå€¼ã€‚</p>
<p><strong>GLSL å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-glsl" lang="glsl">vec4 invert(vec4 color) {
    return vec4(1.0 - color.rgb, color.a);
}
</code></pre>
<h4 data-id="heading-8">2.3 äº®åº¦è°ƒæ•´</h4>
<p><strong>åŸç†</strong>ï¼šæ‰€æœ‰é¢œè‰²åˆ†é‡åŠ ä¸Š/å‡å»åŒä¸€ä¸ªå€¼ã€‚</p>
<p><strong>GLSL å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-glsl" lang="glsl">uniform float uBrightness;  // -1.0 åˆ° 1.0

vec4 brightness(vec4 color, float value) {
    return vec4(color.rgb + value, color.a);
}
</code></pre>
<h4 data-id="heading-9">2.4 å¯¹æ¯”åº¦è°ƒæ•´</h4>
<p><strong>åŸç†</strong>ï¼šæ‹‰ä¼¸æˆ–å‹ç¼©é¢œè‰²å€¼çš„èŒƒå›´ã€‚</p>
<p><strong>å…¬å¼</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">newColor</span> = (color - <span class="hljs-number">0.5</span>) Ã— contrast + <span class="hljs-number">0.5</span>
</code></pre>
<p><strong>GLSL å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-glsl" lang="glsl">uniform float uContrast;  // 0.0 åˆ° 2.0

vec4 contrast(vec4 color, float value) {
    return vec4((color.rgb - 0.5) * value + 0.5, color.a);
}
</code></pre>
<h4 data-id="heading-10">2.5 é¥±å’Œåº¦è°ƒæ•´</h4>
<p><strong>åŸç†</strong>ï¼šåœ¨ç°åº¦å’ŒåŸè‰²ä¹‹é—´æ’å€¼ã€‚</p>
<p><strong>GLSL å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-glsl" lang="glsl">uniform float uSaturation;  // 0.0 åˆ° 2.0

vec4 saturation(vec4 color, float value) {
    float gray = dot(color.rgb, vec3(0.299, 0.587, 0.114));
    vec3 result = mix(vec3(gray), color.rgb, value);
    return vec4(result, color.a);
}
</code></pre>
<h4 data-id="heading-11">2.6 æš–è‰²è°ƒæ»¤é•œ</h4>
<p><strong>åŸç†</strong>ï¼šå¢åŠ çº¢è‰²å’Œé»„è‰²ï¼Œè¥é€ æ¸©æš–æ„Ÿè§‰ã€‚</p>
<p><strong>GLSL å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-glsl" lang="glsl">vec4 warm(vec4 color) {
    color.r = color.r + 0.1;  // å¢åŠ çº¢è‰²
    color.g = color.g + 0.05; // å¾®å¢ç»¿è‰²ï¼ˆäº§ç”Ÿé»„è‰²ï¼‰
    return clamp(color, 0.0, 1.0);
}
</code></pre>
<h4 data-id="heading-12">2.7 å†·è‰²è°ƒæ»¤é•œ</h4>
<p><strong>åŸç†</strong>ï¼šå¢åŠ è“è‰²ï¼Œè¥é€ æ¸…å†·æ„Ÿè§‰ã€‚</p>
<p><strong>GLSL å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-glsl" lang="glsl">vec4 cool(vec4 color) {
    color.b = color.b + 0.1;  // å¢åŠ è“è‰²
    return clamp(color, 0.0, 1.0);
}
</code></pre>
<h4 data-id="heading-13">2.8 å¤å¤æ»¤é•œ</h4>
<p><strong>åŸç†</strong>ï¼šé™ä½é¥±å’Œåº¦ + å¢åŠ æ£•è¤è‰²è°ƒã€‚</p>
<p><strong>GLSL å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-glsl" lang="glsl">vec4 sepia(vec4 color) {
    float r = color.r * 0.393 + color.g * 0.769 + color.b * 0.189;
    float g = color.r * 0.349 + color.g * 0.686 + color.b * 0.168;
    float b = color.r * 0.272 + color.g * 0.534 + color.b * 0.131;
    return vec4(r, g, b, color.a);
}
</code></pre>
<h3 data-id="heading-14">3. è‰²å½©ç©ºé—´è½¬æ¢</h3>
<h4 data-id="heading-15">3.1 RGB vs HSV</h4>




















<table><thead><tr><th>è‰²å½©ç©ºé—´</th><th>ç»„æˆ</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>RGB</strong></td><td>Red, Green, Blue</td><td>æ˜¾ç¤ºã€å­˜å‚¨</td></tr><tr><td><strong>HSV</strong></td><td>Hue, Saturation, Value</td><td>è‰²å½©è°ƒæ•´</td></tr></tbody></table>
<p><strong>HSV çš„ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li><strong>Hueï¼ˆè‰²ç›¸ï¼‰</strong>ï¼šè°ƒæ•´æ•´ä½“è‰²è°ƒï¼ˆ0-360Â°ï¼‰</li>
<li><strong>Saturationï¼ˆé¥±å’Œåº¦ï¼‰</strong>ï¼šè°ƒæ•´é¢œè‰²é²œè‰³ç¨‹åº¦ï¼ˆ0-1ï¼‰</li>
<li><strong>Valueï¼ˆæ˜åº¦ï¼‰</strong>ï¼šè°ƒæ•´äº®åº¦ï¼ˆ0-1ï¼‰</li>
</ul>
<h4 data-id="heading-16">3.2 RGB è½¬ HSV</h4>
<pre><code class="hljs language-glsl" lang="glsl">vec3 rgb2hsv(vec3 c) {
    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);
    vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));
    vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));

    float d = q.x - min(q.w, q.y);
    float e = 1.0e-10;
    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);
}
</code></pre>
<h4 data-id="heading-17">3.3 HSV è½¬ RGB</h4>
<pre><code class="hljs language-glsl" lang="glsl">vec3 hsv2rgb(vec3 c) {
    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);
    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);
    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);
}
</code></pre>
<h4 data-id="heading-18">3.4 è‰²ç›¸åç§»æ»¤é•œ</h4>
<pre><code class="hljs language-glsl" lang="glsl">uniform float uHueShift;  // 0.0 åˆ° 1.0

vec4 hueShift(vec4 color, float shift) {
    vec3 hsv = rgb2hsv(color.rgb);
    hsv.x = fract(hsv.x + shift);  // å¾ªç¯è‰²ç›¸
    vec3 rgb = hsv2rgb(hsv);
    return vec4(rgb, color.a);
}
</code></pre>
<h3 data-id="heading-19">4. å·ç§¯æ»¤é•œ</h3>
<h4 data-id="heading-20">4.1 ä»€ä¹ˆæ˜¯å·ç§¯ï¼Ÿ</h4>
<p>å·ç§¯ä½¿ç”¨å‘¨å›´åƒç´ æ¥è®¡ç®—å½“å‰åƒç´ çš„å€¼ã€‚</p>
<p><strong>3Ã—3 å·ç§¯æ ¸ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">TL</span>  <span class="hljs-string">â”‚</span> <span class="hljs-string">TM</span>  <span class="hljs-string">â”‚</span> <span class="hljs-string">TR</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-attr">TL:</span> <span class="hljs-string">Top</span> <span class="hljs-string">Left,</span> <span class="hljs-attr">TM:</span> <span class="hljs-string">Top</span> <span class="hljs-string">Middle,</span> <span class="hljs-attr">TR:</span> <span class="hljs-string">Top</span> <span class="hljs-string">Right</span>
<span class="hljs-string">â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">ML</span>  <span class="hljs-string">â”‚</span> <span class="hljs-string">MC</span>  <span class="hljs-string">â”‚</span> <span class="hljs-string">MR</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-attr">ML:</span> <span class="hljs-string">Middle</span> <span class="hljs-string">Left,</span> <span class="hljs-attr">MC:</span> <span class="hljs-string">Middle</span> <span class="hljs-string">Center,</span> <span class="hljs-attr">MR:</span> <span class="hljs-string">Middle</span> <span class="hljs-string">Right</span>
<span class="hljs-string">â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">BL</span>  <span class="hljs-string">â”‚</span> <span class="hljs-string">BM</span>  <span class="hljs-string">â”‚</span> <span class="hljs-string">BR</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-attr">BL:</span> <span class="hljs-string">Bottom</span> <span class="hljs-string">Left,</span> <span class="hljs-attr">BM:</span> <span class="hljs-string">Bottom</span> <span class="hljs-string">Middle,</span> <span class="hljs-attr">BR:</span> <span class="hljs-string">Bottom</span> <span class="hljs-string">Right</span>
<span class="hljs-string">â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜</span>
</code></pre>
<h4 data-id="heading-21">4.2 æ¨¡ç³Šæ»¤é•œï¼ˆå‡å€¼æ»¤æ³¢ï¼‰</h4>
<p><strong>å·ç§¯æ ¸</strong>ï¼ˆæ‰€æœ‰æƒé‡ç›¸ç­‰ï¼‰ï¼š</p>
<pre><code class="hljs">â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
â”‚ 1/9 â”‚ 1/9 â”‚ 1/9 â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
â”‚ 1/9 â”‚ 1/9 â”‚ 1/9 â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
â”‚ 1/9 â”‚ 1/9 â”‚ 1/9 â”‚
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>GLSL å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-glsl" lang="glsl">uniform vec2 uTexelSize;  // vec2(1.0/width, 1.0/height)

vec4 blur(sampler2D texture, vec2 texCoord) {
    vec4 sum = vec4(0.0);
    for (float x = -1.0; x &lt;= 1.0; x += 1.0) {
        for (float y = -1.0; y &lt;= 1.0; y += 1.0) {
            vec2 offset = vec2(x, y) * uTexelSize;
            sum += texture2D(texture, texCoord + offset);
        }
    }
    return sum / 9.0;
}
</code></pre>
<h4 data-id="heading-22">4.3 é”åŒ–æ»¤é•œ</h4>
<p><strong>å·ç§¯æ ¸</strong>ï¼š</p>
<pre><code class="hljs">â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
â”‚  0  â”‚ -1  â”‚  0  â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
â”‚ -1  â”‚  5  â”‚ -1  â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
â”‚  0  â”‚ -1  â”‚  0  â”‚
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>GLSL å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-glsl" lang="glsl">vec4 sharpen(sampler2D texture, vec2 texCoord, vec2 texelSize) {
    vec4 center = texture2D(texture, texCoord);
    vec4 top    = texture2D(texture, texCoord + vec2(0.0, texelSize.y));
    vec4 bottom = texture2D(texture, texCoord - vec2(0.0, texelSize.y));
    vec4 left   = texture2D(texture, texCoord - vec2(texelSize.x, 0.0));
    vec4 right  = texture2D(texture, texCoord + vec2(texelSize.x, 0.0));
    
    return center * 5.0 - top - bottom - left - right;
}
</code></pre>
<h3 data-id="heading-23">5. ç»¼åˆæ»¤é•œç€è‰²å™¨</h3>
<pre><code class="hljs language-glsl" lang="glsl">#extension GL_OES_EGL_image_external : require
precision mediump float;

varying vec2 vTexCoord;
uniform samplerExternalOES uTexture;
uniform int uFilterType;
uniform vec2 uTexelSize;

// æ»¤é•œå‚æ•°
uniform float uIntensity;  // æ»¤é•œå¼ºåº¦ 0.0 - 1.0

// RGB è½¬ HSV
vec3 rgb2hsv(vec3 c) {
    // ... å®ç°ä»£ç  ...
}

// HSV è½¬ RGB
vec3 hsv2rgb(vec3 c) {
    // ... å®ç°ä»£ç  ...
}

// ç°åº¦æ»¤é•œ
vec4 grayscale(vec4 color) {
    float gray = dot(color.rgb, vec3(0.299, 0.587, 0.114));
    return vec4(vec3(gray), color.a);
}

// å¤å¤æ»¤é•œ
vec4 sepia(vec4 color) {
    float r = color.r * 0.393 + color.g * 0.769 + color.b * 0.189;
    float g = color.r * 0.349 + color.g * 0.686 + color.b * 0.168;
    float b = color.r * 0.272 + color.g * 0.534 + color.b * 0.131;
    return vec4(r, g, b, color.a);
}

// æš–è‰²è°ƒæ»¤é•œ
vec4 warm(vec4 color) {
    color.r = min(color.r + 0.1, 1.0);
    color.g = min(color.g + 0.05, 1.0);
    return color;
}

// å†·è‰²è°ƒæ»¤é•œ
vec4 cool(vec4 color) {
    color.b = min(color.b + 0.1, 1.0);
    return color;
}

// åè‰²æ»¤é•œ
vec4 invert(vec4 color) {
    return vec4(1.0 - color.rgb, color.a);
}

// é»‘ç™½æ»¤é•œï¼ˆé«˜å¯¹æ¯”åº¦ï¼‰
vec4 blackWhite(vec4 color) {
    float gray = dot(color.rgb, vec3(0.299, 0.587, 0.114));
    float bw = step(0.5, gray);  // é˜ˆå€¼ 0.5
    return vec4(vec3(bw), color.a);
}

void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec4 filtered;
    
    if (uFilterType == 0) {
        // åŸå›¾
        filtered = color;
    } else if (uFilterType == 1) {
        // ç°åº¦
        filtered = grayscale(color);
    } else if (uFilterType == 2) {
        // å¤å¤
        filtered = sepia(color);
    } else if (uFilterType == 3) {
        // æš–è‰²è°ƒ
        filtered = warm(color);
    } else if (uFilterType == 4) {
        // å†·è‰²è°ƒ
        filtered = cool(color);
    } else if (uFilterType == 5) {
        // åè‰²
        filtered = invert(color);
    } else if (uFilterType == 6) {
        // é»‘ç™½
        filtered = blackWhite(color);
    } else {
        filtered = color;
    }
    
    // åº”ç”¨æ»¤é•œå¼ºåº¦ï¼ˆåŸå›¾å’Œæ»¤é•œæ•ˆæœçš„æ··åˆï¼‰
    gl_FragColor = mix(color, filtered, uIntensity);
}
</code></pre>
<h3 data-id="heading-24">6. æ»¤é•œå‚æ•°è°ƒèŠ‚</h3>
<h4 data-id="heading-25">6.1 æ»¤é•œå¼ºåº¦</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä½¿ç”¨ SeekBar è°ƒèŠ‚æ»¤é•œå¼ºåº¦</span>
seekBarIntensity.setOnSeekBarChangeListener(<span class="hljs-keyword">object</span> : SeekBar.OnSeekBarChangeListener {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onProgressChanged</span><span class="hljs-params">(seekBar: <span class="hljs-type">SeekBar</span>?, progress: <span class="hljs-type">Int</span>, fromUser: <span class="hljs-type">Boolean</span>)</span></span> {
        <span class="hljs-keyword">val</span> intensity = progress / <span class="hljs-number">100.0f</span>
        glSurfaceView.queueEvent {
            renderer.setFilterIntensity(intensity)
        }
    }
})
</code></pre>
<h4 data-id="heading-26">6.2 Renderer ä¸­çš„å‚æ•°ä¼ é€’</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Day11Renderer</span> : <span class="hljs-type">GLSurfaceView.Renderer</span> {
    
    <span class="hljs-meta">@Volatile</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> filterType: FilterType = FilterType.NONE
    
    <span class="hljs-meta">@Volatile</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> filterIntensity: <span class="hljs-built_in">Float</span> = <span class="hljs-number">1.0f</span>
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onDrawFrame</span><span class="hljs-params">(gl: <span class="hljs-type">GL10</span>?)</span></span> {
        <span class="hljs-comment">// ... å…¶ä»–ä»£ç  ...</span>
        
        <span class="hljs-comment">// ä¼ é€’æ»¤é•œå‚æ•°</span>
        GLES20.glUniform1i(uFilterTypeLocation, filterType.ordinal)
        GLES20.glUniform1f(uIntensityLocation, filterIntensity)
        
        <span class="hljs-comment">// ç»˜åˆ¶</span>
        drawQuad()
    }
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">setFilterType</span><span class="hljs-params">(type: <span class="hljs-type">FilterType</span>)</span></span> {
        filterType = type
    }
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">setFilterIntensity</span><span class="hljs-params">(intensity: <span class="hljs-type">Float</span>)</span></span> {
        filterIntensity = intensity.coerceIn(<span class="hljs-number">0f</span>, <span class="hljs-number">1f</span>)
    }
}
</code></pre>
<h3 data-id="heading-27">7. æ€§èƒ½ä¼˜åŒ–</h3>
<h4 data-id="heading-28">7.1 é¿å…å¤æ‚è®¡ç®—</h4>
<pre><code class="hljs language-glsl" lang="glsl">// âŒ ä¸å¥½ï¼šæ¯æ¬¡éƒ½è®¡ç®—
vec4 color = texture2D(uTexture, vTexCoord);
float gray = color.r * 0.299 + color.g * 0.587 + color.b * 0.114;

// âœ… å¥½ï¼šä½¿ç”¨å†…ç½®å‡½æ•°
float gray = dot(color.rgb, vec3(0.299, 0.587, 0.114));
</code></pre>
<h4 data-id="heading-29">7.2 å‡å°‘åˆ†æ”¯</h4>
<pre><code class="hljs language-glsl" lang="glsl">// âŒ ä¸å¥½ï¼šå¤§é‡ if-else
if (type == 0) { ... }
else if (type == 1) { ... }
else if (type == 2) { ... }
// ... å¾ˆå¤šåˆ†æ”¯

// âœ… å¥½ï¼šä½¿ç”¨ä¸åŒçš„ç€è‰²å™¨ç¨‹åº
// æ¯ç§æ»¤é•œä½¿ç”¨ç‹¬ç«‹çš„ç€è‰²å™¨ï¼Œé¿å…åˆ†æ”¯
</code></pre>
<h4 data-id="heading-30">7.3 é™ä½é‡‡æ ·æ¬¡æ•°</h4>
<pre><code class="hljs language-glsl" lang="glsl">// å¯¹äºæ¨¡ç³Šç­‰éœ€è¦å¤šæ¬¡é‡‡æ ·çš„æ»¤é•œ
// å¯ä»¥å…ˆé™ä½åˆ†è¾¨ç‡ï¼Œå†æ”¾å¤§
</code></pre>
<h3 data-id="heading-31">8. å®ç”¨æŠ€å·§</h3>
<h4 data-id="heading-32">8.1 æ»¤é•œé¢„è®¾</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FilterPreset</span>(
    <span class="hljs-keyword">val</span> name: String,
    <span class="hljs-keyword">val</span> type: FilterType,
    <span class="hljs-keyword">val</span> intensity: <span class="hljs-built_in">Float</span> = <span class="hljs-number">1.0f</span>,
    <span class="hljs-keyword">val</span> params: Map&lt;String, <span class="hljs-built_in">Float</span>&gt; = emptyMap()
)

<span class="hljs-keyword">val</span> presets = listOf(
    FilterPreset(<span class="hljs-string">"åŸå›¾"</span>, FilterType.NONE),
    FilterPreset(<span class="hljs-string">"é»‘ç™½"</span>, FilterType.GRAYSCALE, <span class="hljs-number">1.0f</span>),
    FilterPreset(<span class="hljs-string">"æ·¡é›…"</span>, FilterType.GRAYSCALE, <span class="hljs-number">0.5f</span>),
    FilterPreset(<span class="hljs-string">"å¤å¤"</span>, FilterType.SEPIA, <span class="hljs-number">0.8f</span>),
    FilterPreset(<span class="hljs-string">"æš–é˜³"</span>, FilterType.WARM, <span class="hljs-number">1.0f</span>),
    FilterPreset(<span class="hljs-string">"å†°é›ª"</span>, FilterType.COOL, <span class="hljs-number">1.0f</span>)
)
</code></pre>
<h4 data-id="heading-33">8.2 æ»¤é•œç»„åˆ</h4>
<pre><code class="hljs language-glsl" lang="glsl">// å…ˆåº”ç”¨ç°åº¦ï¼Œå†åº”ç”¨å¯¹æ¯”åº¦
vec4 color = texture2D(uTexture, vTexCoord);
color = grayscale(color);
color = contrast(color, 1.5);
gl_FragColor = color;
</code></pre>
<h4 data-id="heading-34">8.3 å®æ—¶é¢„è§ˆä¼˜åŒ–</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä½¿ç”¨ä½åˆ†è¾¨ç‡é¢„è§ˆ</span>
<span class="hljs-keyword">val</span> preview = Preview.Builder()
    .setTargetResolution(Size(<span class="hljs-number">640</span>, <span class="hljs-number">480</span>))  <span class="hljs-comment">// é™ä½åˆ†è¾¨ç‡</span>
    .build()
</code></pre>
<h2 data-id="heading-35">ğŸ’» ä»£ç å®è·µ</h2>
<h3 data-id="heading-36">ä»Šæ—¥ä»»åŠ¡</h3>
<p>å®ç°å®æ—¶æ»¤é•œç›¸æœºåº”ç”¨ï¼š</p>
<ol>
<li><strong>é›†æˆ Day10 çš„ç›¸æœºé¢„è§ˆåŠŸèƒ½</strong></li>
<li><strong>å®ç° 7 ç§æ»¤é•œæ•ˆæœ</strong>ï¼š
<ul>
<li>åŸå›¾</li>
<li>ç°åº¦</li>
<li>å¤å¤</li>
<li>æš–è‰²è°ƒ</li>
<li>å†·è‰²è°ƒ</li>
<li>åè‰²</li>
<li>é»‘ç™½</li>
</ul>
</li>
<li><strong>æ·»åŠ æ»¤é•œå¼ºåº¦è°ƒèŠ‚</strong></li>
<li><strong>æ”¯æŒæ»¤é•œå®æ—¶åˆ‡æ¢</strong></li>
</ol>
<h3 data-id="heading-37">å®ç°æ•ˆæœ</h3>
<ul>
<li>ğŸ“¹ å®æ—¶ç›¸æœºé¢„è§ˆ</li>
<li>ğŸ¨ 7 ç§æ»¤é•œæ•ˆæœ</li>
<li>ğŸšï¸ æ»¤é•œå¼ºåº¦è°ƒèŠ‚ï¼ˆSeekBarï¼‰</li>
<li>ğŸ”„ å®æ—¶åˆ‡æ¢æ— å¡é¡¿</li>
<li>ğŸ“¸ æ”¯æŒæ‹ç…§ä¿å­˜</li>
</ul>
<h3 data-id="heading-38">æ ¸å¿ƒä»£ç ç»“æ„</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Day11Renderer</span>(glSurfaceView: GLSurfaceView) : GLSurfaceView.Renderer {

    <span class="hljs-keyword">enum</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FilterType</span> {
        NONE,       <span class="hljs-comment">// åŸå›¾</span>
        GRAYSCALE,  <span class="hljs-comment">// ç°åº¦</span>
        SEPIA,      <span class="hljs-comment">// å¤å¤</span>
        WARM,       <span class="hljs-comment">// æš–è‰²è°ƒ</span>
        COOL,       <span class="hljs-comment">// å†·è‰²è°ƒ</span>
        INVERT,     <span class="hljs-comment">// åè‰²</span>
        BLACK_WHITE <span class="hljs-comment">// é»‘ç™½</span>
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> filterType: FilterType = FilterType.NONE
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> filterIntensity: <span class="hljs-built_in">Float</span> = <span class="hljs-number">1.0f</span>
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onDrawFrame</span><span class="hljs-params">(gl: <span class="hljs-type">GL10</span>?)</span></span> {
        <span class="hljs-comment">// æ›´æ–°çº¹ç†</span>
        surfaceTexture.updateTexImage()
        
        <span class="hljs-comment">// ä¼ é€’æ»¤é•œå‚æ•°</span>
        GLES20.glUniform1i(uFilterTypeLocation, filterType.ordinal)
        GLES20.glUniform1f(uIntensityLocation, filterIntensity)
        
        <span class="hljs-comment">// ç»˜åˆ¶</span>
        drawQuad()
    }
}
</code></pre>
<h2 data-id="heading-39">ğŸ§ª ç»ƒä¹ ä»»åŠ¡</h2>
<h3 data-id="heading-40">åŸºç¡€ä»»åŠ¡</h3>
<ol>
<li>âœ… å®ç°è‡³å°‘ 5 ç§æ»¤é•œæ•ˆæœ</li>
<li>âœ… æ·»åŠ æ»¤é•œå¼ºåº¦è°ƒèŠ‚</li>
<li>âœ… æ”¯æŒå®æ—¶åˆ‡æ¢</li>
</ol>
<h3 data-id="heading-41">è¿›é˜¶ä»»åŠ¡</h3>
<ol>
<li>ğŸ¨ å®ç°è‡ªå®šä¹‰æ»¤é•œï¼ˆè°ƒèŠ‚è‰²ç›¸ã€é¥±å’Œåº¦ã€äº®åº¦ï¼‰</li>
<li>ğŸ’¾ ä¿å­˜å½“å‰æ»¤é•œæ•ˆæœçš„ç…§ç‰‡</li>
<li>ğŸ–¼ï¸ æ·»åŠ æ»¤é•œé¢„è§ˆç¼©ç•¥å›¾</li>
<li>ğŸ“Š æ˜¾ç¤ºå½“å‰æ»¤é•œåç§°å’Œå‚æ•°</li>
</ol>
<h3 data-id="heading-42">æŒ‘æˆ˜ä»»åŠ¡</h3>
<ol>
<li>ğŸ¬ å®ç° LUTï¼ˆLook-Up Tableï¼‰æ»¤é•œ</li>
<li>ğŸŒˆ å®ç°å¤šé‡æ»¤é•œå åŠ </li>
<li>ğŸ­ å®ç°å±€éƒ¨æ»¤é•œï¼ˆåªå¯¹éƒ¨åˆ†åŒºåŸŸåº”ç”¨ï¼‰</li>
<li>ğŸ“ˆ æ€§èƒ½ç›‘æ§ï¼ˆFPSã€å¸§è€—æ—¶ï¼‰</li>
</ol>
<h2 data-id="heading-43">ğŸ“– çŸ¥è¯†ç‚¹æ€»ç»“</h2>
<h3 data-id="heading-44">æ»¤é•œåˆ†ç±»</h3>



































<table><thead><tr><th>ç±»å‹</th><th>åŸç†</th><th>æ€§èƒ½</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>é¢œè‰²è°ƒæ•´</strong></td><td>ä¿®æ”¹åƒç´  RGB å€¼</td><td>é«˜</td><td>ç°åº¦ã€åè‰²</td></tr><tr><td><strong>è‰²è°ƒé£æ ¼</strong></td><td>ç‰¹å®šè‰²å½©å˜æ¢</td><td>é«˜</td><td>å¤å¤ã€æš–è‰²</td></tr><tr><td><strong>å·ç§¯æ»¤é•œ</strong></td><td>ä½¿ç”¨å‘¨å›´åƒç´ </td><td>ä½</td><td>æ¨¡ç³Šã€é”åŒ–</td></tr><tr><td><strong>ç©ºé—´å˜æ¢</strong></td><td>æ”¹å˜åƒç´ ä½ç½®</td><td>ä¸­</td><td>æ‰­æ›²ã€æ—‹è½¬</td></tr></tbody></table>
<h3 data-id="heading-45">GLSL å¸¸ç”¨å‡½æ•°</h3>



































<table><thead><tr><th>å‡½æ•°</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>dot(v1, v2)</code></td><td>ç‚¹ç§¯</td><td><code>dot(color.rgb, vec3(0.299, 0.587, 0.114))</code></td></tr><tr><td><code>mix(x, y, a)</code></td><td>çº¿æ€§æ’å€¼</td><td><code>mix(original, filtered, intensity)</code></td></tr><tr><td><code>clamp(x, min, max)</code></td><td>é™åˆ¶èŒƒå›´</td><td><code>clamp(color, 0.0, 1.0)</code></td></tr><tr><td><code>step(edge, x)</code></td><td>é˜¶è·ƒå‡½æ•°</td><td><code>step(0.5, gray)</code></td></tr><tr><td><code>smoothstep(e0, e1, x)</code></td><td>å¹³æ»‘é˜¶è·ƒ</td><td><code>smoothstep(0.4, 0.6, gray)</code></td></tr></tbody></table>
<h3 data-id="heading-46">æœ€ä½³å®è·µ</h3>
<ol>
<li>âœ… <strong>ä½¿ç”¨å†…ç½®å‡½æ•°</strong>ï¼šæ€§èƒ½æ›´å¥½</li>
<li>âœ… <strong>é¿å…è¿‡å¤šåˆ†æ”¯</strong>ï¼šå½±å“ GPU æ€§èƒ½</li>
<li>âœ… <strong>å‚æ•°å¯è°ƒèŠ‚</strong>ï¼šæä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ</li>
<li>âœ… <strong>æä¾›å¼ºåº¦æ§åˆ¶</strong>ï¼šå…è®¸éƒ¨åˆ†åº”ç”¨æ»¤é•œ</li>
<li>âœ… <strong>é¢„è®¾æ»¤é•œ</strong>ï¼šæ–¹ä¾¿ç”¨æˆ·å¿«é€Ÿé€‰æ‹©</li>
</ol>
<h2 data-id="heading-47">ğŸ”— å‚è€ƒèµ„æ–™</h2>
<h3 data-id="heading-48">æ»¤é•œç®—æ³•</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdanielamitay%2FInstagram-Filters" target="_blank" title="https://github.com/danielamitay/Instagram-Filters" ref="nofollow noopener noreferrer">Instagram Filters</a> - Instagram æ»¤é•œç®—æ³•</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fcats-oss%2Fandroid-gpuimage" target="_blank" title="https://github.com/cats-oss/android-gpuimage" ref="nofollow noopener noreferrer">GPUImage</a> - å¼€æºæ»¤é•œåº“</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.colormatters.com%2Fcolor-and-design%2Fbasic-color-theory" target="_blank" title="https://www.colormatters.com/color-and-design/basic-color-theory" ref="nofollow noopener noreferrer">Color Theory</a> - è‰²å½©ç†è®º</li>
</ul>
<h3 data-id="heading-49">GLSL èµ„æº</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fthebookofshaders.com%2F" target="_blank" title="https://thebookofshaders.com/" ref="nofollow noopener noreferrer">The Book of Shaders</a> - GLSL æ•™ç¨‹</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.shadertoy.com%2F" target="_blank" title="https://www.shadertoy.com/" ref="nofollow noopener noreferrer">Shadertoy</a> - GLSL ç¤ºä¾‹åº“</li>
</ul>
<h2 data-id="heading-50">ğŸ“ ä»Šæ—¥æ€»ç»“</h2>
<p>ä»Šå¤©æˆ‘ä»¬å­¦ä¹ äº†å®æ—¶æ»¤é•œæ•ˆæœï¼š</p>
<ol>
<li>âœ… ç†è§£äº†æ»¤é•œçš„åŸºæœ¬åŸç†ï¼šä¿®æ”¹åƒç´ é¢œè‰²å€¼</li>
<li>âœ… æŒæ¡äº† 7 ç§å¸¸è§æ»¤é•œçš„å®ç°</li>
<li>âœ… å­¦ä¹ äº†è‰²å½©ç©ºé—´è½¬æ¢ï¼ˆRGB â†” HSVï¼‰</li>
<li>âœ… å®ç°äº†æ»¤é•œå¼ºåº¦è°ƒèŠ‚æœºåˆ¶</li>
<li>âœ… äº†è§£äº†æ€§èƒ½ä¼˜åŒ–æŠ€å·§</li>
</ol>
<p><strong>å…³é”®è¦ç‚¹</strong>ï¼š</p>
<ul>
<li>æ»¤é•œæœ¬è´¨æ˜¯ç‰‡æ®µç€è‰²å™¨ä¸­çš„é¢œè‰²å˜æ¢</li>
<li>ä½¿ç”¨å†…ç½®å‡½æ•°æé«˜æ€§èƒ½</li>
<li>æ»¤é•œå¼ºåº¦é€šè¿‡ mix() æ§åˆ¶</li>
<li>å·ç§¯æ»¤é•œéœ€è¦å¤šæ¬¡é‡‡æ ·ï¼Œæ€§èƒ½è¾ƒä½</li>
</ul>
<p><a href="https://juejin.cn/spost/7591322050240331814" target="_blank" title="https://juejin.cn/spost/7591322050240331814">ä¸‹ä¸€ç¯‡ï¼š# ã€OpenGLå­¦ä¹ æ»¤é•œç›¸æœºã€- Day 12: LUT æ»¤é•œï¼ˆLook-Up Tableï¼‰</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[react fiberä¸äº‹ä»¶å¾ªç¯]]></title>    <link>https://juejin.cn/post/7591104893392240694</link>    <guid>https://juejin.cn/post/7591104893392240694</guid>    <pubDate>2026-01-04T10:35:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591104893392240694" data-draft-id="7591129807756083263" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="react fiberä¸äº‹ä»¶å¾ªç¯"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2026-01-04T10:35:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="time_rg"/> <meta itemprop="url" content="https://juejin.cn/user/817692383646286"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            react fiberä¸äº‹ä»¶å¾ªç¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/817692383646286/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    time_rg
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T10:35:05.000Z" title="Sun Jan 04 2026 10:35:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">react fiberä¸äº‹ä»¶å¾ªç¯</h2>
<blockquote>
<p>åœ¨å­¦ä¹ react fiberä¸äº‹ä»¶å¾ªç¯çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¸€ç›´æœ‰è¿™ä¹ˆä¸€ä¸ªå›°æ‰°ï¼Œé‚£å°±æ˜¯å•ç‹¬å­¦ä¹ çš„æ—¶å€™ï¼Œæˆ‘å¥½åƒéƒ½ç†è§£ï¼Œä½†æ˜¯æˆ‘çš„è„‘è¢‹é‡Œé¢æ²¡æœ‰ä¸€æ¡æ¸…æ™°çš„æ—¶é—´çº¿ï¼Œåˆ°åº•reactçš„ä»»åŠ¡ä»æµè§ˆå™¨çš„è§†è§’æ¥çœ‹åˆ°åº•æ˜¯æ€ä¹ˆæ‰§è¡Œï¼Œæ€ä¹ˆæ¸²æŸ“çš„ï¼Œä¸ºæ­¤ï¼Œæˆ‘ä¸“é—¨å°†react fiberä¸æµè§ˆå™¨çš„äº‹ä»¶å¾ªç¯æ”¾åœ¨ä¸€èµ·è¿›è¡Œå­¦ä¹ ï¼Œå¸Œæœ›èƒ½å¤Ÿå¾—åˆ°æ›´æ¸…æ™°çš„å­¦ä¹ ç»“è®ºã€‚é˜…è¯»æœ¬æ–‡ï¼Œé»˜è®¤å¯¹äº‹ä»¶å¾ªç¯å’Œreact fiberæ¶æ„æœ‰ä¸€å®šäº†è§£ã€‚</p>
</blockquote>
<h3 data-id="heading-1">äº‹ä»¶å¾ªç¯</h3>
<ul>
<li>ä»€ä¹ˆæ˜¯æµè§ˆå™¨çš„äº‹ä»¶å¾ªç¯æœºåˆ¶ï¼Ÿ</li>
</ul>
<p>æµè§ˆå™¨çš„äº‹ä»¶å¾ªç¯æ˜¯ä¸€å¥—â€œåè°ƒæœºåˆ¶â€ï¼Œç”¨æ¥åœ¨å•çº¿ç¨‹çš„ JavaScript ç¯å¢ƒä¸­ï¼Œåˆç†å®‰æ’åŒæ­¥ä»£ç ã€å¼‚æ­¥ä»»åŠ¡å’Œé¡µé¢æ¸²æŸ“çš„æ‰§è¡Œé¡ºåºã€‚</p>
<ul>
<li>ä¸ºä»€ä¹ˆè¦æœ‰äº‹ä»¶å¾ªç¯æœºåˆ¶</li>
</ul>
<p>jsæ˜¯å•çº¿ç¨‹çš„ï¼ˆæ ¹æœ¬åŸå› ï¼‰ï¼Œä½†æ˜¯å®ƒéœ€è¦å¤„ç†å¾ˆå¤šäº‹æƒ…ã€‚</p>
<ol>
<li>ä¸»çº¿ç¨‹çš„ä»£ç </li>
<li>å¤„ç†dom</li>
<li>é¡µé¢æ¸²æŸ“</li>
<li>ç›¸åº”ç”¨æˆ·äº‹ä»¶</li>
</ol>
<p>å¾ˆæ˜¾ç„¶è¿™äº›äº‹æƒ…æ˜¯éœ€è¦ä¸€ä¸ªâ€æ’é˜Ÿâ€œçš„æœºåˆ¶ã€‚</p>
<p>è¿˜æœ‰ä¸€äº›å¼‚æ­¥æ“ä½œçš„å­˜åœ¨ï¼š</p>
<ol>
<li>setTimeout</li>
<li>ç½‘ç»œè¯·æ±‚</li>
<li>DOM äº‹ä»¶</li>
<li>Promise</li>
</ol>
<p>è¿™äº›ä»»åŠ¡å¹¶ä¸æ˜¯jså¼•æ“å»æ‰§è¡Œï¼Œè€Œæ˜¯web API,æ‰§è¡Œå®Œåé€šçŸ¥jsçš„ä¸»çº¿ç¨‹ï¼Œjså†å»å¤„ç†è¿™äº›å›è°ƒã€‚</p>
<p>ç»“è®ºï¼šæˆ‘ä»¬éœ€è¦ä¸€å¥—æœºåˆ¶å»å¤„ç†ä¸Šé¢æ‰€è¯´çš„æ’é˜Ÿï¼Œå»å¤„ç†è¿™äº›å¼‚æ­¥æ“ä½œå›è°ƒæ‰§è¡Œçš„æ—¶æœºã€‚è¿™å°±æ˜¯äº‹ä»¶å¾ªç¯ã€‚</p>
<p>é‚£å…³äºå…·ä½“çš„äº‹ä»¶å¾ªç¯çš„å­¦ä¹ æœ¬æ–‡ä¸æ¶‰åŠï¼Œè¿™é‡Œåªç»™å‡ºç»“è®º</p>
<blockquote>
<p>ä¸€æ¬¡äº‹ä»¶å¾ªç¯ = æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡ â†’ æ¸…ç©ºæ‰€æœ‰å¾®ä»»åŠ¡ â†’ è¿›è¡Œé¡µé¢æ¸²æŸ“ï¼ˆå¯èƒ½ï¼‰</p>
<ol>
<li>å…ˆæ‰§è¡Œ <strong>ä¸€ä¸ªå®ä»»åŠ¡</strong></li>
<li>ç„¶å <strong>æ‰§è¡Œæ‰€æœ‰å¾®ä»»åŠ¡</strong></li>
<li>ç„¶åæµè§ˆå™¨ <strong>å¯èƒ½è¿›è¡Œä¸€æ¬¡æ¸²æŸ“</strong></li>
<li>å†è¿›å…¥ä¸‹ä¸€è½®å¾ªç¯</li>
</ol>
</blockquote>
<h3 data-id="heading-2">React fiberç­–ç•¥</h3>
<ul>
<li>ä»€ä¹ˆæ˜¯react fiber</li>
</ul>
<p>ç®€å•æ¥è¯´ï¼Œå…¶å®æ˜¯ React ä¸ºäº†å®ç° <strong>å¯ä¸­æ–­ã€å¯è°ƒåº¦ã€å¯å¢é‡çš„æ¸²æŸ“</strong> æ‰€è®¾è®¡çš„å†…éƒ¨æœºåˆ¶ã€‚</p>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-css" lang="css">const elementTree = {
    type: <span class="hljs-string">"div"</span>,
    props:{
        children: [
            {
                type: <span class="hljs-string">"span"</span>,
                key: <span class="hljs-string">"span-a"</span>
                props: {
                    children: [
                        {
                            type: <span class="hljs-string">"TEXT_ELEMENT"</span>,
                            props: {
                              nodeValue: <span class="hljs-string">"aaaaa"</span>,
                              children: [],
                            },
                        }
                    ]
                }
            },
            {
                type: <span class="hljs-string">"span"</span>,
                key: <span class="hljs-string">"span-b"</span>
                props: {
                    children: [
                        {
                            type: <span class="hljs-string">"TEXT_ELEMENT"</span>,
                            props: {
                              nodeValue: <span class="hljs-string">"bbbbb"</span>,
                              children: [],
                            },
                        }
                    ]
                }
            }
        ]
    }
}
</code></pre>
<p>è¿™æ˜¯å¯¹åº”çš„fiberçš„é“¾è¡¨å›¾</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc187e8b91fc44d7a257a8698daaf08d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdGltZV9yZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768127705&amp;x-signature=vCzYorivTHgaf9yztBTvzFOC69I%3D" alt="image.png" loading="lazy"/>
fiberé‡‡ç”¨æ·±åº¦ä¼˜å…ˆéå†ï¼Œå¯¹æ¯ä¸€ä¸ªfiberèŠ‚ç‚¹éƒ½é‡‡ç”¨æµè§ˆå™¨ç©ºé—²æ—¶é—´è¿›è¡Œè®¡ç®—ï¼Œç›´åˆ°æ•´æ£µæ ‘éƒ½è®¡ç®—å®Œæˆï¼Œæœ€åæ‰æäº¤æ¸²æŸ“ã€‚</p>
<h3 data-id="heading-3">é—®é¢˜ï¼Ÿ</h3>
<ol>
<li>æ‰€è°“çš„å¯ä¸­æ–­ï¼Œç©ºé—²æ—¶é—´ï¼Œåˆ°åº•æ˜¯æŒ‡çš„æµè§ˆå™¨äº‹ä»¶å¾ªç¯çš„ä»€ä¹ˆé˜¶æ®µ</li>
<li>fiberçš„è®¡ç®—ï¼Œæ˜¯åœ¨ä»€ä¹ˆæ—¶å€™</li>
</ol>
<h3 data-id="heading-4">ä¸€æ¡å®Œæ•´æ—¶é—´çº¿ï¼šReact Fiber Ã— æµè§ˆå™¨</h3>
<h4 data-id="heading-5">åœºæ™¯ï¼šç”¨æˆ·ç‚¹å‡»æŒ‰é’® â†’ React æ›´æ–° UI</h4>
<hr/>
<h4 data-id="heading-6">ğŸŸ¦ é˜¶æ®µ 1ï¼šæµè§ˆå™¨çš„äº‹</h4>
<p><code> ç‚¹å‡»äº‹ä»¶å‘ç”Ÿ  `` â†“  `` äº‹ä»¶ç³»ç»Ÿ  `` â†“  ``å®ä»»åŠ¡ï¼ˆonClickï¼‰</code></p>
<hr/>
<h4 data-id="heading-7">ğŸŸ© é˜¶æ®µ 2ï¼šReact å¼€å§‹å·¥ä½œï¼ˆJS é˜¶æ®µï¼‰</h4>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">onClick</span>() {
  <span class="hljs-built_in">setState</span>(...)
}
</code></pre>
<p>React åšäº†ä»€ä¹ˆï¼š</p>
<ol>
<li><strong>ä¸æ”¹</strong> <strong>DOM</strong></li>
<li>åˆ›å»º Update</li>
<li>æŠŠ Update æŒ‚åˆ° Fiber</li>
<li>æ ‡è®°ä¼˜å…ˆçº§ï¼ˆLaneï¼‰</li>
<li>è¯·æ±‚è°ƒåº¦ï¼ˆscheduleUpdateOnFiberï¼‰</li>
</ol>
<p>ğŸ‘‰ <strong>React</strong> <strong>æ­¤æ—¶ä»ç„¶å®Œå…¨åœ¨</strong> <strong>JS</strong> <strong>ä¸–ç•Œ</strong></p>
<hr/>
<h4 data-id="heading-8">ğŸŸ¨ é˜¶æ®µ 3ï¼šFiber Render é˜¶æ®µï¼ˆå¯ä¸­æ–­ï¼‰</h4>
<p>React åœ¨åšï¼š</p>
<ul>
<li>æ„å»ºæ–°çš„ Fiber Tree</li>
<li>Diffï¼ˆReconciliationï¼‰</li>
<li>è®¡ç®— effect list</li>
</ul>
<p>âš ï¸ è¿™ä¸ªé˜¶æ®µï¼š</p>
<ul>
<li><strong>ä¸è§¦ç¢°</strong> <strong>DOM</strong></li>
<li><strong>å¯ä»¥è¢«ä¸­æ–­</strong></li>
<li><strong>å¯èƒ½è·¨å¤šå¸§</strong></li>
</ul>
<hr/>
<h4 data-id="heading-9">ğŸŸ¥ é˜¶æ®µ 4ï¼šCommit é˜¶æ®µï¼ˆä¸å¯ä¸­æ–­ï¼‰</h4>
<p>React é€‰æ‹©ä¸€ä¸ªå®‰å…¨æ—¶æœºï¼ˆé€šå¸¸é è¿‘å¸§è¾¹ç•Œï¼‰ï¼š</p>
<ol>
<li>æ‰§è¡Œ DOM æ“ä½œ</li>
<li>æ‰§è¡Œ layout effects</li>
<li>æ›´æ–° refs</li>
</ol>
<p>ğŸ‘‰ <strong>è¿™ä¸€åˆ»ï¼Œ</strong> <strong>React</strong> <strong>æ‰çœŸæ­£å½±å“æµè§ˆå™¨æ¸²æŸ“</strong></p>
<hr/>
<h4 data-id="heading-10">ğŸŸª é˜¶æ®µ 5ï¼šæµè§ˆå™¨æ¸²æŸ“</h4>
<p><code> rAFï¼ˆæµè§ˆå™¨ï¼‰  ``â†“</code> <code>Style</code> <code>â†“</code> <code>Layout</code> <code>â†“</code> <code>Paint</code> <code>â†“</code> <code>Composite</code></p>
<hr/>
<h3 data-id="heading-11">React å’Œæµè§ˆå™¨çš„åˆ†å·¥ä¸€å¥è¯æ€»ç»“</h3>
<blockquote>
<p><strong>React</strong> <strong>å†³å®šâ€œæ”¹ä»€ä¹ˆâ€å’Œâ€œä»€ä¹ˆæ—¶å€™å¯ä»¥æ”¹â€ï¼Œ</strong> <strong>æµè§ˆå™¨å†³å®šâ€œä»€ä¹ˆæ—¶å€™ç”»â€å’Œâ€œæ€ä¹ˆç”»â€ã€‚</strong></p>
</blockquote>
<h3 data-id="heading-12">React fiberå®ç°çš„æ ¸å¿ƒapi</h3>
<ol>
<li><strong>MessageChannel</strong>ï¼šæ¨è¿›è®¡ç®—ï¼Œç«‹å³æ’é˜Ÿä¸‹ä¸€ä¸ªå®ä»»åŠ¡</li>
<li><strong>requestAnimationFrame</strong>ï¼šCommit é˜¶æ®µå¯¹é½æµè§ˆå™¨å¸§</li>
</ol>
<h3 data-id="heading-13">Fiber è°ƒåº¦çš„æœ€åä¸€éƒ¨åˆ†</h3>
<h4 data-id="heading-14">MessageChannel å¦‚ä½•æ¨è¿›å„ä¸ªå·¥ä½œå•å…ƒ</h4>
<p>åœ¨ React Fiber ä¸­ï¼Œæ•´ä¸ªç»„ä»¶æ ‘çš„æ›´æ–°è¢«æ‹†åˆ†æˆ<strong>ä¸€ä¸ªä¸ª Fiber å•å…ƒ</strong>ï¼ˆunit of workï¼‰ã€‚æ¯ä¸ªå•å…ƒè´Ÿè´£ï¼š</p>
<ul>
<li>æ„å»º Fiber èŠ‚ç‚¹</li>
<li>è¿›è¡Œ Diff å¯¹æ¯”</li>
<li>è®¡ç®— effect list</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆ MessageChannel è¢«ä½¿ç”¨ï¼Ÿ</strong></p>
<ul>
<li>Fiber çš„ Render é˜¶æ®µæ˜¯å¯ä¸­æ–­çš„ï¼Œéœ€è¦<strong>åœ¨ä¸»çº¿ç¨‹ç©ºé—²æ—¶ç»§ç»­æ¨è¿›ä»»åŠ¡</strong>ã€‚</li>
<li>MessageChannel å¯ä»¥<strong>ç«‹å³æ’é˜Ÿä¸€ä¸ªå®ä»»åŠ¡</strong>ï¼Œåœ¨å½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œæˆåå°½å¿«æ‰§è¡Œä¸‹ä¸€è½® Fiber è®¡ç®—ã€‚</li>
<li>è¿™æ„å‘³ç€ï¼ŒReact ä¸ä¼šä¸€æ¬¡æ€§é˜»å¡ä¸»çº¿ç¨‹å»æ¸²æŸ“æ•´ä¸ªç»„ä»¶æ ‘ï¼Œè€Œæ˜¯<strong>åˆ‡ç‰‡æ‰§è¡Œï¼Œæ¯æ¬¡æ‰§è¡Œä¸€å°éƒ¨åˆ† Fiber å•å…ƒ</strong>ã€‚</li>
</ul>
<p><strong>MessageChannel ä»»åŠ¡æ‰€åœ¨é˜Ÿåˆ—ï¼š</strong></p>
<ul>
<li>MessageChannel çš„ <code>onmessage</code> å›è°ƒå±äº<strong>å®ä»»åŠ¡é˜Ÿåˆ—</strong>ã€‚</li>
<li>å®ä»»åŠ¡æ‰§è¡Œå®Œæˆåï¼Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¼šè¢«æ¸…ç©ºï¼Œç„¶åæµè§ˆå™¨åˆ¤æ–­æ˜¯å¦æ¸²æŸ“ã€‚</li>
<li>å› æ­¤ Fiber çš„ Render é˜¶æ®µæ˜¯<strong>å®ä»»åŠ¡ä¸­é€ç‰‡æ¨è¿›çš„</strong>ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-15">requestAnimationFrame çš„ä½¿ç”¨æ—¶æœº</h4>
<ul>
<li>
<p><strong>ä½œç”¨</strong>ï¼šä¸æµè§ˆå™¨æ¸²æŸ“å¸§åŒæ­¥ï¼Œä¿è¯ Commit é˜¶æ®µæ“ä½œ DOM æ—¶ä¸æ‰å¸§ã€‚</p>
</li>
<li>
<p><strong>ä½¿ç”¨æ—¶æœº</strong>ï¼š</p>
<ul>
<li>å½“ Fiber Render é˜¶æ®µå®Œæˆæˆ–è¾¾åˆ°æ—¶é—´ç‰‡é™åˆ¶æ—¶ï¼ŒScheduler ä¼šåˆ¤æ–­æ˜¯å¦éœ€è¦æäº¤ DOMã€‚</li>
<li>Commit é˜¶æ®µæ‰§è¡Œå‰ï¼Œå¦‚æœå¸Œæœ›<strong>å’Œæµè§ˆå™¨ä¸‹ä¸€å¸§å¯¹é½</strong>ï¼Œå°±ä¼šé€šè¿‡ <code>requestAnimationFrame</code> è°ƒç”¨ Commit é˜¶æ®µå›è°ƒã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ rAF</strong>ï¼š</p>
<ul>
<li>é¿å…ç›´æ¥æäº¤ DOM æ—¶é˜»å¡æ¸²æŸ“</li>
<li>ä¿è¯æ¸²æŸ“å’Œæµè§ˆå™¨å¸§åŒæ­¥ï¼Œæé«˜ UI æµç•…åº¦</li>
<li>é¿å…è®¡ç®—é˜¶æ®µå ç”¨è¿‡é•¿æ—¶é—´é€ æˆæ‰å¸§</li>
</ul>
</li>
</ul>
<hr/>
<h4 data-id="heading-16">ç»“åˆäº‹ä»¶å¾ªç¯çš„å®Œæ•´æ‰§è¡Œæµç¨‹</h4>
<p>ä»¥ä¸€æ¬¡ç”¨æˆ·ç‚¹å‡»è§¦å‘æ›´æ–°ä¸ºä¾‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd110e8b7e8e473fa53f3ae01cba73e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdGltZV9yZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768127705&amp;x-signature=czDU2w1l%2Bi76hOMqUOaGltBeoHg%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>ä»ä¸Šå›¾æˆ‘ä»¬å¯ä»¥ç®€å•çš„çœ‹å‡ºï¼Œreact fiberçš„è®¡ç®—è¿‡ç¨‹è·¨è¶Šäº†å¤šæ¬¡çš„äº‹ä»¶å¾ªç¯ï¼Œæ˜¯å¦å¯ä¸­æ–­çš„åˆ¤æ–­æ”¾åœ¨æ¯ä¸€æ¬¡çš„å·¥ä½œå•å…ƒè¿›è¡Œåˆ¤æ–­ã€‚ä¸”å·¥ä½œå•å…ƒï¼ˆnextUnitOfWorkï¼‰çš„è®¡ç®—æ˜¯æ”¾åœ¨å®ä»»åŠ¡ä¸­</p>
</blockquote>
<p><strong>æ€»ç»“ï¼š</strong></p>
<ol>
<li>
<p><strong>MessageChannel æ¨è¿› Fiber å·¥ä½œå•å…ƒ</strong>ï¼š</p>
<ol>
<li>åœ¨å®ä»»åŠ¡é˜Ÿåˆ—ä¸­è¿è¡Œ</li>
<li>é€ç‰‡æ‰§è¡Œ Render é˜¶æ®µ</li>
<li>å¯ä»¥ä¸­æ–­ï¼Œåˆ†ç‰‡æ‰§è¡Œä»¥ä¿è¯ä¸»çº¿ç¨‹ç©ºé—²</li>
</ol>
</li>
<li>
<p><strong>requestAnimationFrame ä½¿ç”¨</strong>ï¼š</p>
<ol>
<li>å¯¹é½ Commit é˜¶æ®µå’Œæµè§ˆå™¨æ¸²æŸ“å¸§</li>
<li>é¿å…æ‰å¸§ï¼Œæé«˜ UI æµç•…åº¦</li>
</ol>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€OpenGLå­¦ä¹ æ»¤é•œç›¸æœºã€- Day 12: LUT æ»¤é•œï¼ˆLook-Up Tableï¼‰]]></title>    <link>https://juejin.cn/post/7591322050240331814</link>    <guid>https://juejin.cn/post/7591322050240331814</guid>    <pubDate>2026-01-04T10:46:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591322050240331814" data-draft-id="7591338980693196846" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€OpenGLå­¦ä¹ æ»¤é•œç›¸æœºã€- Day 12: LUT æ»¤é•œï¼ˆLook-Up Tableï¼‰"/> <meta itemprop="keywords" content="Android,OpenGL"/> <meta itemprop="datePublished" content="2026-01-04T10:46:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸‹ä½å­"/> <meta itemprop="url" content="https://juejin.cn/user/2313028193761389"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€OpenGLå­¦ä¹ æ»¤é•œç›¸æœºã€- Day 12: LUT æ»¤é•œï¼ˆLook-Up Tableï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2313028193761389/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸‹ä½å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T10:46:24.000Z" title="Sun Jan 04 2026 10:46:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><a href="https://juejin.cn/post/7567889397497528383" target="_blank" title="https://juejin.cn/post/7567889397497528383">å‰è¨€: ã€OpenGLå­¦ä¹ ã€ ä»é›¶æ‰“é€  Android æ»¤é•œç›¸æœº</a></p>
<p><a href="https://juejin.cn/post/7591338980693393454" target="_blank" title="https://juejin.cn/post/7591338980693393454">ä¸Šä¸€ç¯‡:ã€OpenGLå­¦ä¹ æ»¤é•œç›¸æœºã€- Day 11: å®æ—¶æ»¤é•œæ•ˆæœ</a></p>
<p>Github: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxiaweizi%2FOpenGLTest" target="_blank" title="https://github.com/xiaweizi/OpenGLTest" ref="nofollow noopener noreferrer">OpenGLTest</a></p>
</blockquote>
<h2 data-id="heading-0">ğŸ“š ä»Šæ—¥ç›®æ ‡</h2>
<ul>
<li>ç†è§£ LUTï¼ˆæŸ¥æ‰¾è¡¨ï¼‰çš„å·¥ä½œåŸç†</li>
<li>æŒæ¡ 3D LUT çš„ä½¿ç”¨æ–¹æ³•</li>
<li>å®ç°ä¸“ä¸šçº§è°ƒè‰²æ»¤é•œ</li>
<li>å­¦ä¹  LUT èµ„æºåŠ è½½å’Œç®¡ç†</li>
<li>æ”¯æŒå¤šç§ LUT æ»¤é•œå¿«é€Ÿåˆ‡æ¢</li>
</ul>
<h2 data-id="heading-1">è¿è¡Œæ•ˆæœ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/358554c68bd8432398897f6931ad2c46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiL5L2N5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768128384&amp;x-signature=UQuQP4iYbQdl5ogtzQFiAUhUsc8%3D" alt="Day12.gif" loading="lazy"/></p>
<h2 data-id="heading-2">ğŸ¯ å­¦ä¹ å†…å®¹</h2>
<h3 data-id="heading-3">1. LUT ç®€ä»‹</h3>
<p><strong>LUTï¼ˆLook-Up Tableï¼ŒæŸ¥æ‰¾è¡¨ï¼‰</strong> æ˜¯ä¸€ç§é«˜æ•ˆçš„é¢œè‰²æ˜ å°„æŠ€æœ¯ï¼Œå¹¿æ³›åº”ç”¨äºä¸“ä¸šè°ƒè‰²å’Œæ»¤é•œæ•ˆæœã€‚</p>
<h4 data-id="heading-4">ä»€ä¹ˆæ˜¯ LUTï¼Ÿ</h4>
<p>LUT æœ¬è´¨æ˜¯ä¸€ä¸ª<strong>é¢œè‰²æ˜ å°„è¡¨</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python">è¾“å…¥é¢œè‰² (R, G, B) â†’ LUT æŸ¥æ‰¾ â†’ è¾“å‡ºé¢œè‰² (<span class="hljs-string">R', G'</span>, <span class="hljs-string">B')
</span></code></pre>
<p>å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/956873e1e4244cae9c37337c835eee62~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiL5L2N5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768128384&amp;x-signature=%2FdpOqs9LYH41Y1oRXW9Gc8%2Fo3p4%3D" alt="res_baby_2.png" loading="lazy"/></p>
<p><strong>ç±»æ¯”</strong>ï¼š</p>
<ul>
<li>å­—å…¸ï¼šè¾“å…¥å•è¯ â†’ æŸ¥æ‰¾ â†’ è¾“å‡ºé‡Šä¹‰</li>
<li>LUTï¼šè¾“å…¥é¢œè‰² â†’ æŸ¥æ‰¾ â†’ è¾“å‡ºæ–°é¢œè‰²</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fe329929fec4922bd4eaa6591148f56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiL5L2N5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768128384&amp;x-signature=HcVBrnyHbWR8W7b2xty1%2Bnxiogw%3D" alt="Day12.gif" loading="lazy"/></p>
<h4 data-id="heading-5">LUT çš„ä¼˜åŠ¿</h4>



































<table><thead><tr><th>ç‰¹æ€§</th><th>LUT æ»¤é•œ</th><th>ä¼ ç»Ÿæ»¤é•œ</th></tr></thead><tbody><tr><td><strong>å¤æ‚åº¦</strong></td><td>ä»»æ„å¤æ‚</td><td>å—ç®—æ³•é™åˆ¶</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>æå¿«ï¼ˆä¸€æ¬¡é‡‡æ ·ï¼‰</td><td>å¯èƒ½å¾ˆæ…¢</td></tr><tr><td><strong>è°ƒè‰²ç²¾åº¦</strong></td><td>ä¸“ä¸šçº§</td><td>æœ‰é™</td></tr><tr><td><strong>åˆ¶ä½œæ–¹å¼</strong></td><td>Photoshop/Lightroom</td><td>æ‰‹å†™ä»£ç </td></tr><tr><td><strong>çµæ´»æ€§</strong></td><td>å¯éšæ„æ›¿æ¢</td><td>éœ€ä¿®æ”¹ä»£ç </td></tr></tbody></table>
<h3 data-id="heading-6">2. 3D LUT åŸç†</h3>
<h4 data-id="heading-7">2.1 é¢œè‰²ç«‹æ–¹ä½“</h4>
<p>RGB é¢œè‰²ç©ºé—´æ˜¯ä¸€ä¸ª<strong>ç«‹æ–¹ä½“</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">        <span class="hljs-selector-tag">B</span> (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>)
       /|
      / |
     /  |
(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)â”€â”€â”€â”€â”€&gt; R (<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)
    |  /
    | /
    |/
    G (<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>)
</code></pre>
<p><strong>3D LUT</strong> æ˜¯è¿™ä¸ªé¢œè‰²ç«‹æ–¹ä½“çš„<strong>ç¦»æ•£åŒ–é‡‡æ ·</strong>ï¼š</p>
<ul>
<li>8Ã—8Ã—8 = 512 ç§é¢œè‰²</li>
<li>16Ã—16Ã—16 = 4,096 ç§é¢œè‰²</li>
<li><strong>64Ã—64Ã—64 = 262,144 ç§é¢œè‰²</strong> â† å¸¸ç”¨</li>
</ul>
<h4 data-id="heading-8">2.2 LUT å›¾ç‰‡æ ¼å¼</h4>
<p>æ ‡å‡†çš„ 64Ã—64Ã—64 LUT å­˜å‚¨ä¸º <strong>512Ã—512</strong> çš„ 2D å›¾ç‰‡ï¼š</p>
<pre><code class="hljs">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 64x64 â”‚ 64x64 â”‚ 64x64 â”‚ ... x8 â”‚  â† è“è‰² = 0
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 64x64 â”‚ 64x64 â”‚ 64x64 â”‚ ... x8 â”‚  â† è“è‰² = 1
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ...  â”‚  ...  â”‚  ...  â”‚  ...   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 64x64 â”‚ 64x64 â”‚ 64x64 â”‚ ... x8 â”‚  â† è“è‰² = 7
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†‘ çº¢è‰²å’Œç»¿è‰²ä» 0-63 å˜åŒ–
</code></pre>
<p><strong>å¸ƒå±€è§„åˆ™</strong>ï¼š</p>
<ul>
<li>æ¨ªå‘ 8 å—ï¼ˆè“è‰²é€šé“ï¼š0-7ï¼‰</li>
<li>çºµå‘ 8 å—ï¼ˆè“è‰²é€šé“ï¼š0-7ï¼‰</li>
<li>æ¯å—å†…éƒ¨ï¼šçº¢è‰²ï¼ˆXè½´ï¼‰ï¼Œç»¿è‰²ï¼ˆYè½´ï¼‰</li>
</ul>
<h4 data-id="heading-9">2.3 æŸ¥æ‰¾ç®—æ³•</h4>
<pre><code class="hljs language-ini" lang="ini">è¾“å…¥ï¼š<span class="hljs-attr">RGB</span> = (<span class="hljs-number">0.75</span>, <span class="hljs-number">0.50</span>, <span class="hljs-number">0.25</span>)

æ­¥éª¤ 1ï¼šè®¡ç®— 3D ç´¢å¼•
  <span class="hljs-attr">r_index</span> = <span class="hljs-number">0.75</span> Ã— <span class="hljs-number">63</span> = <span class="hljs-number">47.25</span>
  <span class="hljs-attr">g_index</span> = <span class="hljs-number">0.50</span> Ã— <span class="hljs-number">63</span> = <span class="hljs-number">31.5</span>
  <span class="hljs-attr">b_index</span> = <span class="hljs-number">0.25</span> Ã— <span class="hljs-number">63</span> = <span class="hljs-number">15.75</span>

æ­¥éª¤ 2ï¼šæ˜ å°„åˆ° 2D çº¹ç†åæ ‡
  <span class="hljs-attr">blue_x</span> = floor(b_index) % <span class="hljs-number">8</span> = <span class="hljs-number">7</span>
  <span class="hljs-attr">blue_y</span> = floor(b_index) / <span class="hljs-number">8</span> = <span class="hljs-number">1</span>
  
  <span class="hljs-attr">offset_x</span> = blue_x * <span class="hljs-number">64</span> + r_index = <span class="hljs-number">7</span>*<span class="hljs-number">64</span> + <span class="hljs-number">47.25</span> = <span class="hljs-number">495.25</span>
  <span class="hljs-attr">offset_y</span> = blue_y * <span class="hljs-number">64</span> + g_index = <span class="hljs-number">1</span>*<span class="hljs-number">64</span> + <span class="hljs-number">31.5</span> = <span class="hljs-number">95.5</span>
  
  <span class="hljs-attr">uv</span> = (<span class="hljs-literal">off</span>set_x / <span class="hljs-number">512</span>, <span class="hljs-literal">off</span>set_y / <span class="hljs-number">512</span>)

æ­¥éª¤ 3ï¼šé‡‡æ · LUT çº¹ç†
  <span class="hljs-attr">new_color</span> = texture2D(uLUT, uv)
</code></pre>
<h3 data-id="heading-10">3. GLSL å®ç°</h3>
<h4 data-id="heading-11">3.1 åŸºç¡€ LUT ç€è‰²å™¨</h4>
<pre><code class="hljs language-glsl" lang="glsl">precision mediump float;

uniform sampler2D uTexture;    // ç›¸æœºçº¹ç†
uniform sampler2D uLUTTexture; // LUT çº¹ç†
uniform float uIntensity;      // LUT å¼ºåº¦

varying vec2 vTexCoord;

vec4 applyLUT(vec4 color, sampler2D lut) {
    // 1. è·å– RGB å€¼ï¼ˆ0.0 - 1.0ï¼‰
    float r = color.r;
    float g = color.g;
    float b = color.b;
    
    // 2. è®¡ç®—è“è‰²ç´¢å¼•
    float blueIndex = b * 63.0;
    
    // 3. è®¡ç®— LUT åæ ‡
    float quad = floor(floor(blueIndex) / 8.0);
    float xOffset = (floor(blueIndex) - quad * 8.0) / 8.0;
    float yOffset = quad / 8.0;
    
    // 4. åœ¨ 64x64 å°æ ¼å­å†…çš„ä½ç½®
    float lutX = xOffset + (r / 8.0);
    float lutY = yOffset + (g / 8.0);
    
    // 5. é‡‡æ · LUT
    vec4 newColor = texture2D(lut, vec2(lutX, lutY));
    
    return newColor;
}

void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec4 lutColor = applyLUT(color, uLUTTexture);
    
    // ä½¿ç”¨å¼ºåº¦æ··åˆåŸè‰²å’Œ LUT é¢œè‰²
    gl_FragColor = mix(color, lutColor, uIntensity);
}
</code></pre>
<h4 data-id="heading-12">3.2 ä¼˜åŒ–ç‰ˆ LUT ç€è‰²å™¨ï¼ˆçº¿æ€§æ’å€¼ï¼‰</h4>
<p>ä¸ºäº†æ›´å¹³æ»‘çš„è¿‡æ¸¡ï¼Œå¯ä»¥åœ¨ç›¸é‚»è“è‰²å±‚ä¹‹é—´æ’å€¼ï¼š</p>
<pre><code class="hljs language-glsl" lang="glsl">vec4 applyLUTWithInterpolation(vec4 color, sampler2D lut) {
    float r = color.r * 63.0;
    float g = color.g * 63.0;
    float b = color.b * 63.0;
    
    // è“è‰²ç´¢å¼•çš„æ•´æ•°å’Œå°æ•°éƒ¨åˆ†
    float b_floor = floor(b);
    float b_fract = fract(b);
    
    // è®¡ç®—ä¸¤ä¸ªç›¸é‚»è“è‰²å±‚çš„åæ ‡
    vec2 uv1 = getLUTCoord(r, g, b_floor);
    vec2 uv2 = getLUTCoord(r, g, b_floor + 1.0);
    
    // é‡‡æ ·ä¸¤ä¸ªå±‚
    vec4 color1 = texture2D(lut, uv1);
    vec4 color2 = texture2D(lut, uv2);
    
    // åœ¨ä¸¤å±‚ä¹‹é—´æ’å€¼
    return mix(color1, color2, b_fract);
}

vec2 getLUTCoord(float r, float g, float b) {
    float quad = floor(b / 8.0);
    float xOffset = (b - quad * 8.0) / 8.0;
    float yOffset = quad / 8.0;
    
    float lutX = xOffset + (r / 512.0) + 0.5 / 512.0;
    float lutY = yOffset + (g / 512.0) + 0.5 / 512.0;
    
    return vec2(lutX, lutY);
}
</code></pre>
<h3 data-id="heading-13">4. LUT èµ„æºåŠ è½½</h3>
<h4 data-id="heading-14">4.1 ä» Assets åŠ è½½</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadLUTFromAssets</span><span class="hljs-params">(assetManager: <span class="hljs-type">AssetManager</span>, fileName: <span class="hljs-type">String</span>)</span></span>: <span class="hljs-built_in">Int</span> {
    <span class="hljs-keyword">val</span> bitmap = assetManager.<span class="hljs-keyword">open</span>(fileName).use { inputStream -&gt;
        BitmapFactory.decodeStream(inputStream)
    }
    
    <span class="hljs-keyword">return</span> loadLUTTexture(bitmap)
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadLUTTexture</span><span class="hljs-params">(bitmap: <span class="hljs-type">Bitmap</span>?)</span></span>: <span class="hljs-built_in">Int</span> {
    <span class="hljs-keyword">if</span> (bitmap == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
    
    <span class="hljs-keyword">val</span> textures = IntArray(<span class="hljs-number">1</span>)
    GLES20.glGenTextures(<span class="hljs-number">1</span>, textures, <span class="hljs-number">0</span>)
    
    <span class="hljs-keyword">val</span> textureId = textures[<span class="hljs-number">0</span>]
    GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, textureId)
    
    <span class="hljs-comment">// é‡è¦ï¼šLUT çº¹ç†å¿…é¡»ä½¿ç”¨çº¿æ€§è¿‡æ»¤</span>
    GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MIN_FILTER, GLES20.GL_LINEAR)
    GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MAG_FILTER, GLES20.GL_LINEAR)
    GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_WRAP_S, GLES20.GL_CLAMP_TO_EDGE)
    GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_WRAP_T, GLES20.GL_CLAMP_TO_EDGE)
    
    GLUtils.texImage2D(GLES20.GL_TEXTURE_2D, <span class="hljs-number">0</span>, bitmap, <span class="hljs-number">0</span>)
    
    bitmap.recycle()
    
    <span class="hljs-keyword">return</span> textureId
}
</code></pre>
<h4 data-id="heading-15">4.2 LUT ç®¡ç†å™¨</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">LUTManager</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> assetManager: AssetManager) {
    
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LUTFilter</span>(
        <span class="hljs-keyword">val</span> name: String,
        <span class="hljs-keyword">val</span> fileName: String,
        <span class="hljs-keyword">var</span> textureId: <span class="hljs-built_in">Int</span> = <span class="hljs-number">0</span>
    )
    
    <span class="hljs-keyword">val</span> filters = listOf(
        LUTFilter(<span class="hljs-string">"åŸå›¾"</span>, <span class="hljs-string">"filters/res_original.png"</span>),
        LUTFilter(<span class="hljs-string">"å®å®1"</span>, <span class="hljs-string">"filters/res_baby_1.png"</span>),
        LUTFilter(<span class="hljs-string">"å®å®2"</span>, <span class="hljs-string">"filters/res_baby_2.png"</span>),
        LUTFilter(<span class="hljs-string">"ç¾é£Ÿ1"</span>, <span class="hljs-string">"filters/res_food_1.png"</span>),
        LUTFilter(<span class="hljs-string">"é£æ™¯1"</span>, <span class="hljs-string">"filters/res_landscape_1.png"</span>),
        <span class="hljs-comment">// ... æ›´å¤š</span>
    )
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadAllLUTs</span><span class="hljs-params">()</span></span> {
        filters.forEach { filter -&gt;
            filter.textureId = loadLUTFromAssets(assetManager, filter.fileName)
            Log.d(TAG, <span class="hljs-string">"åŠ è½½ LUT: <span class="hljs-subst">${filter.name}</span>, textureId=<span class="hljs-subst">${filter.textureId}</span>"</span>)
        }
    }
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getFilterByName</span><span class="hljs-params">(name: <span class="hljs-type">String</span>)</span></span>: LUTFilter? {
        <span class="hljs-keyword">return</span> filters.find { it.name == name }
    }
}
</code></pre>
<h3 data-id="heading-16">5. LUT çš„ä¼˜åŠ¿</h3>
<h4 data-id="heading-17">5.1 ä¸ä¼ ç»Ÿæ»¤é•œå¯¹æ¯”</h4>



































<table><thead><tr><th>ç‰¹æ€§</th><th>ä¼ ç»Ÿæ»¤é•œï¼ˆç€è‰²å™¨ç®—æ³•ï¼‰</th><th>LUT æ»¤é•œ</th></tr></thead><tbody><tr><td><strong>å¤æ‚åº¦</strong></td><td>ç®€å•ï¼ˆç°åº¦ã€å¤å¤ï¼‰</td><td>ä»»æ„å¤æ‚ï¼ˆä¸“ä¸šè°ƒè‰²ï¼‰</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>ä¸­ç­‰</td><td>æå¿«ï¼ˆä¸€æ¬¡é‡‡æ ·ï¼‰</td></tr><tr><td><strong>è°ƒè‰²ç²¾åº¦</strong></td><td>æœ‰é™</td><td>ä¸“ä¸šçº§</td></tr><tr><td><strong>åˆ¶ä½œæ–¹å¼</strong></td><td>å†™ä»£ç </td><td>Photoshop/Lightroom</td></tr><tr><td><strong>çµæ´»æ€§</strong></td><td>éœ€ä¿®æ”¹ä»£ç </td><td>ç›´æ¥æ›¿æ¢å›¾ç‰‡</td></tr></tbody></table>
<h4 data-id="heading-18">5.2 åº”ç”¨åœºæ™¯</h4>
<ul>
<li>ğŸ“¸ <strong>Instagram é£æ ¼</strong>ï¼šå¤åˆ»å„ç§ Instagram æ»¤é•œ</li>
<li>ğŸ¬ <strong>ç”µå½±è°ƒè‰²</strong>ï¼šæ¨¡æ‹Ÿç”µå½±è‰²è°ƒ</li>
<li>ğŸ¨ <strong>ä¸“ä¸šè°ƒè‰²</strong>ï¼šè®¾è®¡å¸ˆå®šåˆ¶çš„è‰²å½©æ–¹æ¡ˆ</li>
<li>ğŸŒˆ <strong>å“ç‰Œé£æ ¼</strong>ï¼šç»Ÿä¸€çš„å“ç‰Œè§†è§‰é£æ ¼</li>
</ul>
<h3 data-id="heading-19">6. LUT åˆ¶ä½œæ–¹æ³•</h3>
<h4 data-id="heading-20">æ–¹æ³• 1ï¼šAdobe Photoshop</h4>
<ol>
<li>æ‰“å¼€å›¾ç‰‡ï¼Œè°ƒæ•´è‰²å½©ï¼ˆæ›²çº¿ã€è‰²é˜¶ã€è‰²ç›¸/é¥±å’Œåº¦ï¼‰</li>
<li>åº”ç”¨è°ƒæ•´å›¾å±‚åˆ°æ ‡å‡† LUT æ¨¡æ¿</li>
<li>å¯¼å‡ºä¸º 512Ã—512 PNG å›¾ç‰‡</li>
</ol>
<h4 data-id="heading-21">æ–¹æ³• 2ï¼šAdobe Lightroom</h4>
<ol>
<li>è°ƒæ•´ç…§ç‰‡åˆ°æ»¡æ„çš„æ•ˆæœ</li>
<li>å¯¼å‡ºä¸º LUT æ–‡ä»¶ï¼ˆ.cube æ ¼å¼ï¼‰</li>
<li>è½¬æ¢ä¸º PNG å›¾ç‰‡ï¼ˆä½¿ç”¨å·¥å…·ï¼‰</li>
</ol>
<h4 data-id="heading-22">æ–¹æ³• 3ï¼šåœ¨çº¿å·¥å…·</h4>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.lutify.me%2F" target="_blank" title="https://www.lutify.me/" ref="nofollow noopener noreferrer">LUT Generator</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2F3dlutcreator.com%2F" target="_blank" title="https://3dlutcreator.com/" ref="nofollow noopener noreferrer">3D LUT Creator</a></li>
</ul>
<h3 data-id="heading-23">7. æ€§èƒ½ä¼˜åŒ–</h3>
<h4 data-id="heading-24">7.1 LUT çº¹ç†ç¼“å­˜</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âœ… å¥½çš„åšæ³•ï¼šé¢„åŠ è½½æ‰€æœ‰ LUT</span>
<span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onSurfaceCreated</span><span class="hljs-params">(gl: <span class="hljs-type">GL10</span>?, config: <span class="hljs-type">EGLConfig</span>?)</span></span> {
    lutManager.loadAllLUTs()  <span class="hljs-comment">// åªåŠ è½½ä¸€æ¬¡</span>
}

<span class="hljs-comment">// âŒ ä¸å¥½çš„åšæ³•ï¼šåˆ‡æ¢æ—¶åŠ è½½</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">switchLUT</span><span class="hljs-params">(name: <span class="hljs-type">String</span>)</span></span> {
    <span class="hljs-keyword">val</span> texture = loadLUTFromAssets(name)  <span class="hljs-comment">// æ¯æ¬¡éƒ½åŠ è½½ï¼Œæ…¢ï¼</span>
}
</code></pre>
<h4 data-id="heading-25">7.2 çº¹ç†å‹ç¼©</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// LUT çº¹ç†é€šå¸¸è¾ƒå°ï¼ˆ512Ã—512ï¼‰ï¼Œä¸éœ€è¦å‹ç¼©</span>
<span class="hljs-comment">// ä½†å¯ä»¥è€ƒè™‘ä½¿ç”¨ RGB565ï¼ˆå¦‚æœä¸éœ€è¦ Alphaï¼‰</span>
</code></pre>
<h4 data-id="heading-26">7.3 å¼‚æ­¥åŠ è½½</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// åœ¨åå°çº¿ç¨‹åŠ è½½ LUT</span>
GlobalScope.launch(Dispatchers.IO) {
    <span class="hljs-keyword">val</span> textures = lutManager.loadAllLUTs()
    
    withContext(Dispatchers.Main) {
        glSurfaceView.queueEvent {
            lutManager.updateTextures(textures)
        }
    }
}
</code></pre>
<h2 data-id="heading-27">ğŸ’» ä»£ç å®è·µ</h2>
<h3 data-id="heading-28">ä»Šæ—¥ä»»åŠ¡</h3>
<p>å®ç° LUT æ»¤é•œç›¸æœºï¼š</p>
<ol>
<li><strong>åŠ è½½ 19 ä¸ª LUT æ»¤é•œ</strong></li>
<li><strong>å®ç° LUT æŸ¥æ‰¾ç®—æ³•</strong>ï¼ˆGLSLï¼‰</li>
<li><strong>æ”¯æŒæ»¤é•œå¿«é€Ÿåˆ‡æ¢</strong></li>
<li><strong>æ·»åŠ æ»¤é•œå¼ºåº¦è°ƒèŠ‚</strong></li>
<li><strong>æä¾›æ»¤é•œåˆ†ç±»ï¼ˆå®å®ã€ç¾é£Ÿã€é£æ™¯ç­‰ï¼‰</strong></li>
</ol>
<h3 data-id="heading-29">æ ¸å¿ƒåŠŸèƒ½</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Day12Renderer</span>(glSurfaceView: GLSurfaceView) : GLSurfaceView.Renderer {
    
    <span class="hljs-comment">// LUT æ»¤é•œåˆ—è¡¨</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> lutFilters = mutableListOf&lt;LUTFilter&gt;()
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> currentLUTTextureId = <span class="hljs-number">0</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> lutIntensity = <span class="hljs-number">1.0f</span>
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onSurfaceCreated</span><span class="hljs-params">(gl: <span class="hljs-type">GL10</span>?, config: <span class="hljs-type">EGLConfig</span>?)</span></span> {
        <span class="hljs-comment">// åŠ è½½æ‰€æœ‰ LUT</span>
        loadAllLUTs()
    }
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onDrawFrame</span><span class="hljs-params">(gl: <span class="hljs-type">GL10</span>?)</span></span> {
        <span class="hljs-comment">// åº”ç”¨å½“å‰ LUT</span>
        GLES20.glActiveTexture(GLES20.GL_TEXTURE1)
        GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, currentLUTTextureId)
        GLES20.glUniform1i(uLUTTextureLocation, <span class="hljs-number">1</span>)
        GLES20.glUniform1f(uIntensityLocation, lutIntensity)
        
        <span class="hljs-comment">// æ¸²æŸ“</span>
        drawQuad()
    }
}
</code></pre>
<h2 data-id="heading-30">ğŸ¨ æ»¤é•œåˆ†ç±»</h2>
<p>æ ¹æ®æ‚¨çš„ LUT èµ„æºï¼Œæˆ‘ä»¬æœ‰ä»¥ä¸‹åˆ†ç±»ï¼š</p>
<h3 data-id="heading-31">ğŸ¼ å®å®ç³»åˆ—ï¼ˆ5ä¸ªï¼‰</h3>
<ul>
<li>baby_1, baby_2, baby_3, baby_4, baby_5</li>
<li>é€‚åˆï¼šå„¿ç«¥æ‘„å½±ã€å¯çˆ±é£æ ¼</li>
</ul>
<h3 data-id="heading-32">ğŸ” ç¾é£Ÿç³»åˆ—ï¼ˆ3ä¸ªï¼‰</h3>
<ul>
<li>food_1, food_2, food_3</li>
<li>é€‚åˆï¼šç¾é£Ÿæ‹æ‘„ã€æš–è‰²è°ƒ</li>
</ul>
<h3 data-id="heading-33">ğŸï¸ é£æ™¯ç³»åˆ—ï¼ˆ3ä¸ªï¼‰</h3>
<ul>
<li>landscape_1, landscape_2, landscape_3</li>
<li>é€‚åˆï¼šé£æ™¯æ‘„å½±ã€è‡ªç„¶é£å…‰</li>
</ul>
<h3 data-id="heading-34">ğŸŒ¿ æ¤ç‰©ç³»åˆ—ï¼ˆ2ä¸ªï¼‰</h3>
<ul>
<li>plant_1, plant_2</li>
<li>é€‚åˆï¼šç»¿æ¤ã€æ¸…æ–°é£æ ¼</li>
</ul>
<h3 data-id="heading-35">â­ æ¨èç³»åˆ—ï¼ˆ2ä¸ªï¼‰</h3>
<ul>
<li>recomend_1, recomend_2</li>
<li>é€‚åˆï¼šæ—¥å¸¸è‡ªæ‹</li>
</ul>
<h3 data-id="heading-36">ğŸ™ï¸ è¡—æ™¯ç³»åˆ—ï¼ˆ3ä¸ªï¼‰</h3>
<ul>
<li>street_1, street_2, street_3</li>
<li>é€‚åˆï¼šåŸå¸‚æ‘„å½±ã€è¡—æ‹</li>
</ul>
<h2 data-id="heading-37">ğŸ§ª ç»ƒä¹ ä»»åŠ¡</h2>
<h3 data-id="heading-38">åŸºç¡€ä»»åŠ¡</h3>
<ol>
<li>âœ… å®ç° LUT æŸ¥æ‰¾ç®—æ³•</li>
<li>âœ… åŠ è½½æ‰€æœ‰ LUT çº¹ç†</li>
<li>âœ… æ”¯æŒæ»¤é•œåˆ‡æ¢</li>
</ol>
<h3 data-id="heading-39">è¿›é˜¶ä»»åŠ¡</h3>
<ol>
<li>ğŸ¨ å®ç°æ»¤é•œåˆ†ç±»æµè§ˆ</li>
<li>ğŸšï¸ æ·»åŠ æ»¤é•œå¼ºåº¦è°ƒèŠ‚ï¼ˆ0-100%ï¼‰</li>
<li>ğŸ–¼ï¸ æ˜¾ç¤ºæ»¤é•œç¼©ç•¥å›¾é¢„è§ˆ</li>
<li>â­ æ”¶è—å–œçˆ±çš„æ»¤é•œ</li>
</ol>
<h3 data-id="heading-40">æŒ‘æˆ˜ä»»åŠ¡</h3>
<ol>
<li>ğŸ¬ å®ç°æ»¤é•œè¿‡æ¸¡åŠ¨ç”»ï¼ˆä»ä¸€ä¸ª LUT å¹³æ»‘è¿‡æ¸¡åˆ°å¦ä¸€ä¸ªï¼‰</li>
<li>ğŸ­ å®ç°åŒ LUT æ··åˆ</li>
<li>ğŸ“Š åˆ†æ LUT è‰²å½©ç‰¹å¾</li>
<li>ğŸ”§ è‡ªå®šä¹‰ LUT ç”Ÿæˆå·¥å…·</li>
</ol>
<h2 data-id="heading-41">ğŸ“– çŸ¥è¯†ç‚¹æ€»ç»“</h2>
<h3 data-id="heading-42">LUT çš„æœ¬è´¨</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">LUT</span> = é¢„è®¡ç®—çš„é¢œè‰²æ˜ å°„è¡¨
    = å°†å¤æ‚çš„è°ƒè‰²ç®—æ³•"çƒ˜ç„™"åˆ°ä¸€å¼ å›¾ç‰‡ä¸­
    = æŸ¥è¡¨æ¯”è®¡ç®—å¿«å¾—å¤š
</code></pre>
<h3 data-id="heading-43">å…³é”®æ¦‚å¿µ</h3>

























<table><thead><tr><th>æ¦‚å¿µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>3D LUT</strong></td><td>ä¸‰ç»´é¢œè‰²æŸ¥æ‰¾è¡¨ï¼ˆRã€Gã€B ä¸‰ä¸ªç»´åº¦ï¼‰</td></tr><tr><td><strong>512Ã—512</strong></td><td>æ ‡å‡† LUT å›¾ç‰‡å¤§å°</td></tr><tr><td><strong>64Ã—64Ã—64</strong></td><td>é¢œè‰²ç²¾åº¦ï¼ˆ262,144 ç§é¢œè‰²ï¼‰</td></tr><tr><td><strong>çº¿æ€§æ’å€¼</strong></td><td>åœ¨ç›¸é‚»é¢œè‰²é—´å¹³æ»‘è¿‡æ¸¡</td></tr></tbody></table>
<h3 data-id="heading-44">æœ€ä½³å®è·µ</h3>
<ol>
<li>âœ… <strong>é¢„åŠ è½½æ‰€æœ‰ LUT</strong>ï¼šå¯åŠ¨æ—¶ä¸€æ¬¡æ€§åŠ è½½</li>
<li>âœ… <strong>ä½¿ç”¨çº¿æ€§è¿‡æ»¤</strong>ï¼š<code>GL_LINEAR</code> è€Œé <code>GL_NEAREST</code></li>
<li>âœ… <strong>æ·»åŠ å¼ºåº¦æ§åˆ¶</strong>ï¼šmix(original, lut, intensity)</li>
<li>âœ… <strong>çº¹ç†ç¼“å­˜</strong>ï¼šé¿å…é‡å¤åŠ è½½</li>
<li>âœ… <strong>å¼‚æ­¥åŠ è½½</strong>ï¼šä¸é˜»å¡ UI çº¿ç¨‹</li>
</ol>
<h2 data-id="heading-45">ğŸ”— å‚è€ƒèµ„æ–™</h2>
<h3 data-id="heading-46">LUT æŠ€æœ¯</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2F3D_lookup_table" target="_blank" title="https://en.wikipedia.org/wiki/3D_lookup_table" ref="nofollow noopener noreferrer">3D LUT åŸç†</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.frame.io%2F2017%2F03%2F06%2Fluts-grutas%2F" target="_blank" title="https://blog.frame.io/2017/03/06/luts-grutas/" ref="nofollow noopener noreferrer">Color Grading with LUTs</a></li>
</ul>
<h3 data-id="heading-47">LUT èµ„æº</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.freepresets.com%2Fproduct%2Ffree-luts%2F" target="_blank" title="https://www.freepresets.com/product/free-luts/" ref="nofollow noopener noreferrer">Free LUTs</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.rocketstock.com%2Ffree-after-effects-templates%2F35-free-luts-for-color-grading-videos%2F" target="_blank" title="https://www.rocketstock.com/free-after-effects-templates/35-free-luts-for-color-grading-videos/" ref="nofollow noopener noreferrer">RocketStock LUTs</a></li>
</ul>
<h2 data-id="heading-48">ğŸ“ ä»Šæ—¥æ€»ç»“</h2>
<p>ä»Šå¤©æˆ‘ä»¬å­¦ä¹ äº† LUT æ»¤é•œæŠ€æœ¯ï¼š</p>
<ol>
<li>âœ… ç†è§£äº† LUT çš„å·¥ä½œåŸç†ï¼šé¢œè‰²æŸ¥æ‰¾è¡¨</li>
<li>âœ… æŒæ¡äº† 3D LUT çš„å­˜å‚¨æ ¼å¼ï¼š512Ã—512 å›¾ç‰‡</li>
<li>âœ… å®ç°äº† LUT æŸ¥æ‰¾ç®—æ³•ï¼šRGB â†’ 2D çº¹ç†åæ ‡</li>
<li>âœ… æ”¯æŒ 19 ç§ä¸“ä¸šæ»¤é•œ</li>
<li>âœ… ç†è§£äº† LUT çš„æ€§èƒ½ä¼˜åŠ¿</li>
</ol>
<p><strong>å…³é”®è¦ç‚¹</strong>ï¼š</p>
<ul>
<li>LUT å°†å¤æ‚è°ƒè‰²"çƒ˜ç„™"æˆæŸ¥æ‰¾è¡¨</li>
<li>ä¸€æ¬¡çº¹ç†é‡‡æ ·å³å¯å®ç°ä¸“ä¸šçº§è°ƒè‰²</li>
<li>æ€§èƒ½æé«˜ï¼Œé€‚åˆå®æ—¶åº”ç”¨</li>
<li>å¯ä»¥ç›´æ¥ä½¿ç”¨ Photoshop/Lightroom åˆ¶ä½œ</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è°ˆè°ˆ `AI Agent`ï¼ˆæ™ºèƒ½ä½“ï¼‰]]></title>    <link>https://juejin.cn/post/7591322050240364582</link>    <guid>https://juejin.cn/post/7591322050240364582</guid>    <pubDate>2026-01-04T11:00:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591322050240364582" data-draft-id="7591346773827207194" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è°ˆè°ˆ `AI Agent`ï¼ˆæ™ºèƒ½ä½“ï¼‰"/> <meta itemprop="keywords" content="Agent,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-04T11:00:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘¨æœ«ç¨‹åºçŒ¿"/> <meta itemprop="url" content="https://juejin.cn/user/3245414056989757"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è°ˆè°ˆ `AI Agent`ï¼ˆæ™ºèƒ½ä½“ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3245414056989757/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘¨æœ«ç¨‹åºçŒ¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T11:00:17.000Z" title="Sun Jan 04 2026 11:00:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2025å¹´ä»¥æ¥ï¼Œæˆ‘ä»¬æ­£ç«™åœ¨äººå·¥æ™ºèƒ½åº”ç”¨æ¼”è¿›çš„ä¸€ä¸ªå…³é”®èŠ‚ç‚¹ä¸Šï¼Œä»é¢„æµ‹å¼AIï¼ˆåˆ†ææ¨¡å¼ã€è¿›è¡Œåˆ†ç±»ï¼‰åˆ°ç”Ÿæˆå¼AIï¼ˆåˆ›é€ æ–‡æœ¬ã€ä»£ç ã€å›¾åƒï¼‰ï¼Œæˆ‘ä»¬å¦‚ä»Šæ­£è¿ˆå‘ç¬¬ä¸‰ä¸ªé˜¶æ®µï¼šAI Agentã€‚<br/>
è¿™å¹¶éç®€å•çš„æŠ€æœ¯è¿­ä»£ï¼Œè€Œæ˜¯ä¸€æ¬¡æ ¹æœ¬æ€§çš„èŒƒå¼è½¬å˜ï¼Œç¬¬ä¸‰ä¸ªé˜¶æ®µÂ <code>AI Agent</code>Â éšç€æ¨¡å‹çš„ä¸æ–­è¿›åŒ–ï¼Œèƒ½è‡ªä¸»å¯æ§é•¿æ—¶é—´è¿è¡Œï¼Œå¯èƒ½2026æ‰æ˜¯AIæ™®åŠçš„å¼€å§‹ã€‚</p>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯Â <code>AI Agent</code></h2>
<p>ä¼ ç»Ÿè½¯ä»¶æˆ–è€…å·¥ä½œæµçš„ç›®çš„æ˜¯ä¸ºäº†ç”¨æˆ·èƒ½å¤Ÿç®€åŒ–å’Œè‡ªåŠ¨åŒ–å·¥ä½œæµï¼Œè€ŒÂ <code>AI Agent</code>Â åˆ™èƒ½å¤Ÿä»¥é«˜åº¦çš„ç‹¬ç«‹æ€§ä»£è¡¨ç”¨æˆ·æ‰§è¡Œä¸ºå®ç°ç”¨æˆ·ç›®æ ‡çš„ä¸€ç³»åˆ—æ­¥éª¤ã€‚<br/>
é¦–å…ˆé›†æˆäº†Â <code>LLM</code>Â ä½†ä¸ç”¨å®ƒä»¬æ¥æ§åˆ¶å·¥ä½œæµæ‰§è¡Œçš„åº”ç”¨ç¨‹åºï¼ˆä¾‹å¦‚ç®€å•çš„èŠå¤©æœºå™¨äººã€å•è½®å¯¹è¯LLMæˆ–æƒ…æ„Ÿåˆ†ç±»å™¨ï¼‰ä¸æ˜¯ç§°ä¸ºæ™ºèƒ½ä½“ã€‚<br/>
æ›´å…·ä½“åœ°è¯´ï¼Œä¸€ä¸ªæ™ºèƒ½ä½“æ‹¥æœ‰ä½¿å…¶èƒ½å¤Ÿå¯é ã€ä¸€è‡´åœ°ä»£è¡¨ç”¨æˆ·è¡ŒåŠ¨çš„æ ¸å¿ƒç‰¹å¾ï¼š</p>
<ul>
<li>èƒ½åˆ©ç”¨LLMæ¥ç®¡ç†å·¥ä½œæµæ‰§è¡Œå¹¶åšå‡ºå†³ç­–ï¼Œå®ƒèƒ½è¯†åˆ«å·¥ä½œæµä½•æ—¶å®Œæˆï¼Œå¹¶èƒ½åœ¨éœ€è¦æ—¶ä¸»åŠ¨çº æ­£å…¶è¡Œä¸ºï¼Œå¦‚æœå¤±è´¥ï¼Œå®ƒå¯ä»¥åœæ­¢æ‰§è¡Œå¹¶å°†æ§åˆ¶æƒäº¤è¿˜ç»™ç”¨æˆ·ã€‚</li>
<li>èƒ½å¤Ÿè®¿é—®å„ç§å·¥å…·ä»¥ä¸å¤–éƒ¨ç³»ç»Ÿäº¤äº’ï¼ˆæ—¢èƒ½è·å–ä¸Šä¸‹æ–‡ï¼Œä¹Ÿèƒ½é‡‡å–è¡ŒåŠ¨ï¼‰ï¼Œå¹¶æ ¹æ®å·¥ä½œæµçš„å½“å‰çŠ¶æ€åŠ¨æ€é€‰æ‹©é€‚å½“çš„å·¥å…·ï¼Œå§‹ç»ˆåœ¨æ˜ç¡®å®šä¹‰çš„å®‰å…¨å†…è¿è¡Œã€‚</li>
</ul>
<p><strong>æ˜¯ä¸æ˜¯ç°åœ¨æ™ºèƒ½ä½“å¾ˆå¤šï¼Œæ‰€æœ‰çš„å·¥ä½œéƒ½ç”¨æ™ºèƒ½ä½“æ¥è§£å†³ï¼Ÿ</strong><br/>
æ™ºèƒ½ä½“é€‚åˆé‚£äº›ä¼ ç»Ÿçš„ã€ç¡®å®šæ€§çš„ã€åŸºäºè§„åˆ™çš„æ–¹æ³•éš¾ä»¥å¤„ç†çš„å·¥ä½œæµï¼Œæ‰€ä»¥å¯¹äºèƒ½é€šè¿‡ä¸€äº›ç¡®å®šæ€§ç¼–ç¨‹æˆ–è€…æµç¨‹å°±èƒ½è§£å†³çš„ï¼Œå…¶å®ä¸å¤ªéœ€è¦æ™ºèƒ½ä½“ã€‚<br/>
ä»¥æ”¯ä»˜æ¬ºè¯ˆåˆ†æä¸ºä¾‹ï¼Œä¼ ç»Ÿçš„è§„åˆ™å¼•æ“å°±åƒä¸€ä¸ªæ£€æŸ¥æ¸…å•ï¼Œæ ¹æ®é¢„è®¾æ ‡å‡†æ ‡è®°äº¤æ˜“ï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼ŒLLMæ™ºèƒ½ä½“æ›´åƒä¸€ä½ç»éªŒä¸°å¯Œçš„è°ƒæŸ¥å‘˜ï¼Œè¯„ä¼°ä¸Šä¸‹æ–‡ï¼Œè€ƒè™‘ç»†å¾®æ¨¡å¼ï¼Œå³ä½¿åœ¨æ²¡æœ‰æ˜ç¡®è¿åè§„åˆ™çš„æƒ…å†µä¸‹ä¹Ÿèƒ½è¯†åˆ«å¯ç–‘æ´»åŠ¨ï¼Œè¿™ç§ç»†è‡´çš„æ¨ç†èƒ½åŠ›æ­£æ˜¯æ™ºèƒ½ä½“èƒ½å¤Ÿæœ‰æ•ˆç®¡ç†å¤æ‚ã€æ¨¡ç³Šæƒ…å†µçš„å…³é”®ã€‚<br/>
æ‰€ä»¥åœ¨è¯„ä¼°æ™ºèƒ½ä½“å¯ä»¥åœ¨å“ªäº›åœ°æ–¹çš„ç¡®æœ‰ä»·å€¼ï¼Œè¯·ä¼˜å…ˆè€ƒè™‘é‚£äº›ä»¥å‰éš¾ä»¥è‡ªåŠ¨åŒ–ã€å°¤å…¶æ˜¯ä¼ ç»Ÿæ–¹æ³•é‡åˆ°é˜»åŠ›çš„å·¥ä½œæµï¼š</p>
<ul>
<li>å¤æ‚å†³ç­–ï¼šæ¶‰åŠç»†å¾®åˆ¤æ–­ã€ä¾‹å¤–æƒ…å†µæˆ–ä¸Šä¸‹æ–‡æ•æ„Ÿå†³ç­–çš„å·¥ä½œæµã€‚</li>
<li>éš¾ä»¥ç»´æŠ¤çš„è§„åˆ™ï¼šç”±äºè§„åˆ™é›†åºå¤§ä¸”å¤æ‚è€Œå˜å¾—ç¬¨é‡ã€æ›´æ–°æˆæœ¬é«˜æ˜‚æˆ–å®¹æ˜“å‡ºé”™çš„ç³»ç»Ÿã€‚</li>
<li>é‡åº¦ä¾èµ–éç»“æ„åŒ–æ•°æ®ï¼šæ¶‰åŠè§£è¯»è‡ªç„¶è¯­è¨€ã€ä»æ–‡æ¡£ä¸­æå–å«ä¹‰æˆ–ä¸ç”¨æˆ·è¿›è¡Œå¯¹è¯å¼äº¤äº’çš„åœºæ™¯ã€‚</li>
</ul>
<h2 data-id="heading-1"><code>AI Agent</code>çš„æ„æˆ</h2>
<ul>
<li>æ¨¡å‹ï¼šä¸ºæ™ºèƒ½ä½“çš„æ¨ç†å’Œå†³ç­–æä¾›åŠ¨åŠ›çš„LLMï¼Œå†³å®šäº†æ™ºèƒ½ä½“çš„ä¸‹é™ã€‚</li>
<li>å·¥å…·ï¼šæ™ºèƒ½ä½“å¯ç”¨äºé‡‡å–è¡ŒåŠ¨çš„å¤–éƒ¨å‡½æ•°æˆ–APIã€‚</li>
<li>æŒ‡ä»¤ï¼šå®šä¹‰æ™ºèƒ½ä½“è¡Œä¸ºçš„æ˜ç¡®æŒ‡å¯¼æ–¹é’ˆå’Œå®‰å…¨ç­–ç•¥ã€‚</li>
</ul>
<p><strong>æ ·ä¾‹ä»£ç ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span>Â langchain_openaiÂ <span class="hljs-keyword">import</span>Â ChatOpenAI
<span class="hljs-keyword">from</span>Â langchain.agentsÂ <span class="hljs-keyword">import</span>Â AgentExecutor, create_react_agent
<span class="hljs-keyword">from</span>Â langchain.toolsÂ <span class="hljs-keyword">import</span>Â tool
<span class="hljs-keyword">from</span>Â langchain_core.promptsÂ <span class="hljs-keyword">import</span>Â PromptTemplate
<span class="hljs-keyword">import</span>Â os

<span class="hljs-comment"># ============================================</span>
<span class="hljs-comment"># ç¬¬ä¸€éƒ¨åˆ†ï¼šå®šä¹‰å·¥å…·ï¼ˆToolsï¼‰</span>
<span class="hljs-comment"># å·¥å…·æ˜¯Agentå¯ä»¥è°ƒç”¨çš„å¤–éƒ¨å‡½æ•°ï¼Œæ‰©å±•äº†LLMçš„èƒ½åŠ›</span>
<span class="hljs-comment"># ============================================</span>

<span class="hljs-meta">@tool</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">calculator</span>(<span class="hljs-params">expression: <span class="hljs-built_in">str</span></span>)Â -&gt; <span class="hljs-built_in">str</span>:
Â  Â Â <span class="hljs-string">"""
Â  Â  è®¡ç®—æ•°å­¦è¡¨è¾¾å¼ã€‚
Â  Â  è¾“å…¥åº”è¯¥æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ•°å­¦è¡¨è¾¾å¼ï¼Œå¦‚ '2 + 2' æˆ– '3 * 4 + 5'ã€‚
Â  Â  """</span>
Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â Â <span class="hljs-comment"># å®‰å…¨åœ°è®¡ç®—æ•°å­¦è¡¨è¾¾å¼</span>
Â  Â  Â  Â  result = <span class="hljs-built_in">eval</span>(expression, {<span class="hljs-string">"__builtins__"</span>: {}}, {})
Â  Â  Â  Â Â <span class="hljs-keyword">return</span><span class="hljs-string">f"è®¡ç®—ç»“æœ:Â <span class="hljs-subst">{expression}</span>Â =Â <span class="hljs-subst">{result}</span>"</span>
Â  Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â Â <span class="hljs-keyword">return</span><span class="hljs-string">f"è®¡ç®—é”™è¯¯:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>

<span class="hljs-meta">@tool</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">get_current_weather</span>(<span class="hljs-params">city: <span class="hljs-built_in">str</span></span>)Â -&gt; <span class="hljs-built_in">str</span>:
Â  Â Â <span class="hljs-string">"""
Â  Â  è·å–æŒ‡å®šåŸå¸‚çš„å½“å‰å¤©æ°”ä¿¡æ¯ã€‚
Â  Â  è¾“å…¥åº”è¯¥æ˜¯åŸå¸‚åç§°ï¼Œå¦‚ 'åŒ—äº¬' æˆ– 'ä¸Šæµ·'ã€‚
Â  Â  """</span>
Â  Â Â <span class="hljs-comment"># æ¨¡æ‹Ÿå¤©æ°”æ•°æ®ï¼ˆå®é™…åº”ç”¨ä¸­åº”è°ƒç”¨çœŸå®çš„å¤©æ°”APIï¼‰</span>
Â  Â  weather_data = {
Â  Â  Â  Â Â <span class="hljs-string">"åŒ—äº¬"</span>:Â <span class="hljs-string">"æ™´å¤©ï¼Œæ¸©åº¦ 5Â°Cï¼Œæ¹¿åº¦ 30%"</span>,
Â  Â  Â  Â Â <span class="hljs-string">"ä¸Šæµ·"</span>:Â <span class="hljs-string">"å¤šäº‘ï¼Œæ¸©åº¦ 12Â°Cï¼Œæ¹¿åº¦ 65%"</span>,
Â  Â  Â  Â Â <span class="hljs-string">"å¹¿å·"</span>:Â <span class="hljs-string">"å°é›¨ï¼Œæ¸©åº¦ 18Â°Cï¼Œæ¹¿åº¦ 80%"</span>,
Â  Â  Â  Â Â <span class="hljs-string">"æ·±åœ³"</span>:Â <span class="hljs-string">"æ™´å¤©ï¼Œæ¸©åº¦ 20Â°Cï¼Œæ¹¿åº¦ 70%"</span>,
Â  Â  }
Â  Â Â <span class="hljs-keyword">return</span>Â weather_data.get(city,Â <span class="hljs-string">f"æŠ±æ­‰ï¼Œæš‚æ— <span class="hljs-subst">{city}</span>çš„å¤©æ°”ä¿¡æ¯"</span>)

<span class="hljs-meta">@tool</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">search_knowledge</span>(<span class="hljs-params">query: <span class="hljs-built_in">str</span></span>)Â -&gt; <span class="hljs-built_in">str</span>:
Â  Â Â <span class="hljs-string">"""
Â  Â  æœç´¢çŸ¥è¯†åº“è·å–ç›¸å…³ä¿¡æ¯ã€‚
Â  Â  è¾“å…¥åº”è¯¥æ˜¯è¦æœç´¢çš„é—®é¢˜æˆ–å…³é”®è¯ã€‚
Â  Â  """</span>
Â  Â Â <span class="hljs-comment"># æ¨¡æ‹ŸçŸ¥è¯†åº“æœç´¢ï¼ˆå®é™…åº”ç”¨ä¸­å¯æ¥å…¥å‘é‡æ•°æ®åº“æˆ–æœç´¢å¼•æ“ï¼‰</span>
Â  Â  knowledge_base = {
Â  Â  Â  Â Â <span class="hljs-string">"python"</span>:Â <span class="hljs-string">"Pythonæ˜¯ä¸€ç§é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼Œä»¥ç®€æ´æ˜“è¯»è‘—ç§°ï¼Œå¹¿æ³›åº”ç”¨äºæ•°æ®ç§‘å­¦ã€Webå¼€å‘å’Œäººå·¥æ™ºèƒ½é¢†åŸŸã€‚"</span>,
Â  Â  Â  Â Â <span class="hljs-string">"agent"</span>:Â <span class="hljs-string">"AI Agentï¼ˆæ™ºèƒ½ä½“ï¼‰æ˜¯èƒ½å¤Ÿæ„ŸçŸ¥ç¯å¢ƒã€åšå‡ºå†³ç­–å¹¶é‡‡å–è¡ŒåŠ¨çš„è‡ªä¸»ç³»ç»Ÿã€‚å®ƒç”±æ¨¡å‹ã€å·¥å…·å’ŒæŒ‡ä»¤ä¸‰éƒ¨åˆ†ç»„æˆã€‚"</span>,
Â  Â  Â  Â Â <span class="hljs-string">"langchain"</span>:Â <span class="hljs-string">"LangChainæ˜¯ä¸€ä¸ªç”¨äºå¼€å‘LLMåº”ç”¨çš„æ¡†æ¶ï¼Œæä¾›äº†æ„å»ºAgentã€é“¾å¼è°ƒç”¨ã€è®°å¿†ç®¡ç†ç­‰åŠŸèƒ½ã€‚"</span>,
Â  Â  }
Â  Â Â 
Â  Â Â <span class="hljs-keyword">for</span>Â key, valueÂ <span class="hljs-keyword">in</span>Â knowledge_base.items():
Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â keyÂ <span class="hljs-keyword">in</span>Â query.lower():
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â value
Â  Â Â <span class="hljs-keyword">return</span><span class="hljs-string">f"æœªæ‰¾åˆ°ä¸'<span class="hljs-subst">{query}</span>'ç›¸å…³çš„ä¿¡æ¯"</span>

<span class="hljs-comment"># ============================================</span>
<span class="hljs-comment"># ç¬¬äºŒéƒ¨åˆ†ï¼šå®šä¹‰æŒ‡ä»¤ï¼ˆInstructionsï¼‰</span>
<span class="hljs-comment"># é€šè¿‡Promptæ¨¡æ¿å®šä¹‰Agentçš„è¡Œä¸ºæ–¹å¼å’Œå®‰å…¨ç­–ç•¥</span>
<span class="hljs-comment"># ============================================</span>

<span class="hljs-comment"># ReActé£æ ¼çš„Promptæ¨¡æ¿</span>
AGENT_PROMPT =Â <span class="hljs-string">"""ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½åŠ©æ‰‹ï¼Œèƒ½å¤Ÿå¸®åŠ©ç”¨æˆ·å®Œæˆå„ç§ä»»åŠ¡ã€‚

ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å·¥å…·:
{tools}

å·¥å…·åç§°åˆ—è¡¨: {tool_names}

è¯·æŒ‰ç…§ä»¥ä¸‹æ ¼å¼å›ç­”é—®é¢˜:

Question: ç”¨æˆ·çš„è¾“å…¥é—®é¢˜
Thought: ä½ éœ€è¦æ€è€ƒåº”è¯¥åšä»€ä¹ˆ
Action: è¦ä½¿ç”¨çš„å·¥å…·åç§°ï¼Œå¿…é¡»æ˜¯[{tool_names}]ä¸­çš„ä¸€ä¸ª
Action Input: å·¥å…·çš„è¾“å…¥å‚æ•°
Observation: å·¥å…·è¿”å›çš„ç»“æœ
...Â (è¿™ä¸ªThought/Action/Action Input/Observationå¯ä»¥é‡å¤å¤šæ¬¡)
Thought: æˆ‘ç°åœ¨çŸ¥é“æœ€ç»ˆç­”æ¡ˆäº†
Final Answer: å¯¹ç”¨æˆ·é—®é¢˜çš„æœ€ç»ˆå›ç­”

é‡è¦æŒ‡å¯¼æ–¹é’ˆï¼š
1. ä»”ç»†åˆ†æç”¨æˆ·çš„é—®é¢˜ï¼Œé€‰æ‹©åˆé€‚çš„å·¥å…·
2. å¦‚æœé—®é¢˜å¯ä»¥ç›´æ¥å›ç­”ï¼Œæ— éœ€ä½¿ç”¨å·¥å…·
3. å›ç­”è¦å‡†ç¡®ã€ç®€æ´ã€æœ‰å¸®åŠ©
4. å¦‚æœä¸ç¡®å®šï¼Œè¯šå®åœ°è¯´æ˜

å¼€å§‹ï¼

Question: {input}
Thought: {agent_scratchpad}"""</span>

<span class="hljs-comment"># ============================================</span>
<span class="hljs-comment"># ç¬¬ä¸‰éƒ¨åˆ†ï¼šåˆ›å»ºAgent</span>
<span class="hljs-comment"># ç»„åˆæ¨¡å‹ã€å·¥å…·å’ŒæŒ‡ä»¤</span>
<span class="hljs-comment"># ============================================</span>

<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">create_simple_agent</span>():
Â  Â Â <span class="hljs-string">"""åˆ›å»ºä¸€ä¸ªç®€å•çš„Agent"""</span>
Â  Â Â 
Â  Â Â <span class="hljs-comment"># 1. åˆå§‹åŒ–æ¨¡å‹ï¼ˆModelï¼‰</span>
Â  Â Â <span class="hljs-comment"># è¿™é‡Œä½¿ç”¨OpenAIçš„GPTæ¨¡å‹ï¼Œä½ ä¹Ÿå¯ä»¥æ›¿æ¢ä¸ºå…¶ä»–LLM</span>
Â  Â  llm = ChatOpenAI(
Â  Â  Â  Â  model=<span class="hljs-string">"gpt-3.5-turbo"</span>, Â <span class="hljs-comment"># æˆ– "gpt-4"</span>
Â  Â  Â  Â  temperature=<span class="hljs-number">0</span>, Â <span class="hljs-comment"># è®¾ä¸º0ä½¿è¾“å‡ºæ›´ç¡®å®šæ€§</span>
Â  Â  Â  Â Â <span class="hljs-comment"># api_key=os.getenv("OPENAI_API_KEY"), Â # ä»ç¯å¢ƒå˜é‡è·å–</span>
Â  Â  )
Â  Â Â 
Â  Â Â <span class="hljs-comment"># 2. å‡†å¤‡å·¥å…·åˆ—è¡¨ï¼ˆToolsï¼‰</span>
Â  Â  tools = [calculator, get_current_weather, search_knowledge]
Â  Â Â 
Â  Â Â <span class="hljs-comment"># 3. åˆ›å»ºPromptæ¨¡æ¿ï¼ˆInstructionsï¼‰</span>
Â  Â  prompt = PromptTemplate.from_template(AGENT_PROMPT)
Â  Â Â 
Â  Â Â <span class="hljs-comment"># 4. åˆ›å»ºReAct Agent</span>
Â  Â  agent = create_react_agent(
Â  Â  Â  Â  llm=llm,
Â  Â  Â  Â  tools=tools,
Â  Â  Â  Â  prompt=prompt
Â  Â  )
Â  Â Â 
Â  Â Â <span class="hljs-comment"># 5. åˆ›å»ºAgentæ‰§è¡Œå™¨</span>
Â  Â  agent_executor = AgentExecutor(
Â  Â  Â  Â  agent=agent,
Â  Â  Â  Â  tools=tools,
Â  Â  Â  Â  verbose=<span class="hljs-literal">True</span>, Â <span class="hljs-comment"># æ‰“å°è¯¦ç»†çš„æ‰§è¡Œè¿‡ç¨‹</span>
Â  Â  Â  Â  handle_parsing_errors=<span class="hljs-literal">True</span>, Â <span class="hljs-comment"># å¤„ç†è§£æé”™è¯¯</span>
Â  Â  Â  Â  max_iterations=<span class="hljs-number">5</span>, Â <span class="hljs-comment"># æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œé˜²æ­¢æ— é™å¾ªç¯</span>
Â  Â  )
Â  Â Â 
Â  Â Â <span class="hljs-keyword">return</span>Â agent_executor

<span class="hljs-comment"># ============================================</span>
<span class="hljs-comment"># ç¬¬å››éƒ¨åˆ†ï¼šè¿è¡Œç¤ºä¾‹</span>
<span class="hljs-comment"># ============================================</span>

<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">main</span>():
Â  Â Â <span class="hljs-string">"""è¿è¡ŒAgentç¤ºä¾‹"""</span>
Â  Â Â 
Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span>Â *Â <span class="hljs-number">60</span>)
Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">"LangChain Agent ç¤ºä¾‹"</span>)
Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span>Â *Â <span class="hljs-number">60</span>)
Â  Â Â 
Â  Â Â <span class="hljs-comment"># åˆ›å»ºAgent</span>
Â  Â  agent = create_simple_agent()
Â  Â Â 
Â  Â Â <span class="hljs-comment"># æµ‹è¯•ç”¨ä¾‹</span>
Â  Â  test_questions = [
Â  Â  Â  Â Â <span class="hljs-string">"è®¡ç®— (15 + 25) * 3 ç­‰äºå¤šå°‘ï¼Ÿ"</span>,
Â  Â  Â  Â Â <span class="hljs-string">"åŒ—äº¬ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ"</span>,
Â  Â  Â  Â Â <span class="hljs-string">"ä»€ä¹ˆæ˜¯LangChainï¼Ÿ"</span>,
Â  Â  Â  Â Â <span class="hljs-string">"å¸®æˆ‘è®¡ç®—ä¸€ä¸‹ï¼Œå¦‚æœåŒ—äº¬æ¸©åº¦æ˜¯5åº¦ï¼Œä¸Šæµ·æ˜¯12åº¦ï¼Œå®ƒä»¬çš„å¹³å‡æ¸©åº¦æ˜¯å¤šå°‘ï¼Ÿ"</span>,
Â  Â  ]
Â  Â Â 
Â  Â Â <span class="hljs-keyword">for</span>Â i, questionÂ <span class="hljs-keyword">in</span>Â <span class="hljs-built_in">enumerate</span>(test_questions,Â <span class="hljs-number">1</span>):
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n<span class="hljs-subst">{<span class="hljs-string">'='</span>*<span class="hljs-number">60</span>}</span>"</span>)
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æµ‹è¯•Â <span class="hljs-subst">{i}</span>:Â <span class="hljs-subst">{question}</span>"</span>)
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span>Â *Â <span class="hljs-number">60</span>)
Â  Â  Â  Â Â 
Â  Â  Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  Â  Â  result = agent.invoke({<span class="hljs-string">"input"</span>: question})
Â  Â  Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\næœ€ç»ˆç­”æ¡ˆ:Â <span class="hljs-subst">{result[<span class="hljs-string">'output'</span>]}</span>"</span>)
Â  Â  Â  Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ‰§è¡Œå‡ºé”™:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)

<span class="hljs-keyword">if</span>Â __name__ ==Â <span class="hljs-string">"__main__"</span>:
Â  Â  main()
</code></pre>
<h3 data-id="heading-2">é€‰æ‹©æ¨¡å‹</h3>
<p>ä¸åŒçš„æ¨¡å‹åœ¨ä»»åŠ¡å¤æ‚æ€§ã€å»¶è¿Ÿå’Œæˆæœ¬æ–¹é¢æœ‰ä¸åŒçš„ä¼˜åŠ¿å’Œæƒè¡¡ï¼Œå¹¶éæ¯ä¸ªä»»åŠ¡éƒ½éœ€è¦æœ€èªæ˜çš„æ¨¡å‹â€”â€”ä¸€ä¸ªç®€å•çš„æ£€ç´¢æˆ–æ„å›¾åˆ†ç±»ä»»åŠ¡å¯ä»¥ç”±æ›´å°ã€æ›´å¿«çš„æ¨¡å‹å¤„ç†ï¼Œè€Œå›°éš¾ä»»åŠ¡åˆ™å¯èƒ½éœ€è¦èƒ½åŠ›æ›´å¼ºçš„æ¨ç†æ¨¡å‹ã€‚<br/>
é€‰æ‹©æ¨¡å‹æœ‰æ•ˆçš„æ–¹æ³•æ˜¯ï¼šä½¿ç”¨èƒ½åŠ›æœ€å¼ºçš„æ¨¡å‹ä¸ºæ¯ä¸ªä»»åŠ¡æ„å»ºæ‚¨çš„æ™ºèƒ½ä½“åŸå‹ï¼Œä»¥å»ºç«‹æ€§èƒ½åŸºçº¿ï¼Œç„¶åï¼Œå°è¯•æ¢ç”¨æ›´å°çš„æ¨¡å‹ï¼Œçœ‹çœ‹å®ƒä»¬æ˜¯å¦ä»èƒ½è¾¾åˆ°å¯æ¥å—çš„ç»“æœã€‚ è¿™æ ·ï¼Œæ‚¨å°±ä¸ä¼šè¿‡æ—©åœ°é™åˆ¶æ™ºèƒ½ä½“çš„èƒ½åŠ›ï¼Œå¹¶ä¸”å¯ä»¥è¯Šæ–­å‡ºæ›´å°çš„æ¨¡å‹åœ¨ä½•å¤„æˆåŠŸæˆ–å¤±è´¥ï¼Œæ€»ä¹‹ï¼Œé€‰æ‹©æ¨¡å‹çš„åŸåˆ™å¾ˆç®€å•ï¼š</p>
<ul>
<li>å»ºç«‹è¯„ä¼°ä½“ç³»ä»¥ç¡®å®šæ€§èƒ½åŸºçº¿ã€‚</li>
<li>ä¸“æ³¨äºä½¿ç”¨å¯ç”¨çš„æœ€ä½³æ¨¡å‹è¾¾åˆ°æ‚¨çš„å‡†ç¡®ç‡ç›®æ ‡ã€‚</li>
<li>åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œç”¨æ›´å°çš„æ¨¡å‹æ›¿æ¢æ›´å¤§çš„æ¨¡å‹ï¼Œä»¥ä¼˜åŒ–æˆæœ¬å’Œå»¶è¿Ÿã€‚</li>
</ul>
<h3 data-id="heading-3">å®šä¹‰å·¥å…·</h3>
<p>å·¥å…·é€šè¿‡ä½¿ç”¨åº•å±‚åº”ç”¨ç¨‹åºæˆ–ç³»ç»Ÿçš„APIæ¥æ‰©å±•æ™ºèƒ½ä½“çš„èƒ½åŠ›ï¼Œå¯¹äºæ²¡æœ‰æä¾›APIçš„å†å²ç³»ç»Ÿï¼Œæ™ºèƒ½ä½“å¯ä»¥ä¾èµ–è®¡ç®—æœºä½¿ç”¨æ¨¡å‹ï¼Œé€šè¿‡Webå’Œåº”ç”¨ç¨‹åºUIç›´æ¥ä¸è¿™äº›åº”ç”¨ç¨‹åºå’Œç³»ç»Ÿäº¤äº’â€”â€”å°±åƒäººç±»ä¸€æ ·è¿›è¡Œé»‘ç›’æµ‹è¯•ã€‚<br/>
æ¯ä¸ªå·¥å…·éƒ½åº”å…·æœ‰æ ‡å‡†åŒ–çš„å®šä¹‰ï¼Œä»è€Œå®ç°å·¥å…·ä¸æ™ºèƒ½ä½“ä¹‹é—´çµæ´»çš„å¤šå¯¹å¤šå…³ç³»ï¼Œæ–‡æ¡£å®Œå–„ã€ç»è¿‡å……åˆ†æµ‹è¯•ä¸”å¯é‡ç”¨çš„å·¥å…·å¯ä»¥æé«˜å¯å‘ç°æ€§ï¼Œç®€åŒ–ç‰ˆæœ¬ç®¡ç†ï¼Œå¹¶é˜²æ­¢é‡å¤å®šä¹‰ï¼Œå¹¿ä¹‰ä¸Šè¯´ï¼Œæ™ºèƒ½ä½“éœ€è¦ä¸‰ç§ç±»å‹çš„å·¥å…·ã€‚</p>
<ul>
<li>ç±»å‹æè¿°ç¤ºä¾‹æ•°æ®å·¥å…·ï¼šä½¿æ™ºèƒ½ä½“èƒ½å¤Ÿæ£€ç´¢æ‰§è¡Œå·¥ä½œæµæ‰€éœ€çš„ä¸Šä¸‹æ–‡å’Œä¿¡æ¯ï¼Œæ¯”å¦‚æŸ¥è¯¢äº¤æ˜“æ•°æ®åº“æˆ–CRMç­‰ç³»ç»Ÿï¼Œè¯»å–PDFæ–‡æ¡£ï¼Œæˆ–æœç´¢ç½‘ç»œã€‚</li>
<li>è¡ŒåŠ¨å·¥å…·ï¼šä½¿æ™ºèƒ½ä½“èƒ½å¤Ÿä¸ç³»ç»Ÿäº¤äº’ä»¥é‡‡å–è¡ŒåŠ¨ï¼Œä¾‹å¦‚å‘æ•°æ®åº“æ·»åŠ æ–°ä¿¡æ¯ã€æ›´æ–°è®°å½•æˆ–å‘é€æ¶ˆæ¯ï¼Œå‘é€ç”µå­é‚®ä»¶å’ŒçŸ­ä¿¡ï¼Œæ›´æ–°CRMè®°å½•ï¼Œå°†å®¢æˆ·æœåŠ¡å·¥å•è½¬äº¤ç»™äººå·¥ã€‚</li>
<li>ç¼–æ’å·¥å…·ï¼šæ™ºèƒ½ä½“æœ¬èº«å¯ä»¥ä½œä¸ºå…¶ä»–æ™ºèƒ½ä½“çš„å·¥å…·ï¼Œä½œä¸ºå¤šæ™ºèƒ½ä½“ç³»ç»Ÿä¸­å•ä¸ªÂ <code>sub agent</code>ã€‚</li>
</ul>
<h3 data-id="heading-4">é…ç½®Prompt</h3>
<p>é«˜è´¨é‡çš„Promptå¯¹äºä»»ä½•LLMé©±åŠ¨çš„åº”ç”¨ç¨‹åºéƒ½è‡³å…³é‡è¦ï¼Œå¯¹æ™ºèƒ½ä½“å°¤å…¶å…³é”®ï¼Œæ¸…æ™°çš„æŒ‡ä»¤å¯ä»¥å‡å°‘æ­§ä¹‰ï¼Œæé«˜æ™ºèƒ½ä½“çš„å†³ç­–è´¨é‡ï¼Œä»è€Œå®ç°æ›´é¡ºç•…çš„å·¥ä½œæµæ‰§è¡Œå’Œæ›´å°‘çš„é”™è¯¯ã€‚<br/>
å…·ä½“åšæ³•å¯ä»¥å‚è€ƒå¦‚ä¸‹ï¼š</p>
<ul>
<li>åˆ©ç”¨ç°æœ‰æ–‡æ¡£ï¼šåœ¨åˆ›å»ºæµç¨‹æ—¶ï¼Œä½¿ç”¨ç°æœ‰çš„æ“ä½œç¨‹åºã€æ”¯æŒè„šæœ¬æˆ–ç­–ç•¥æ–‡æ¡£æ¥åˆ›å»ºï¼Œä¾‹å¦‚Â <code>Claude</code>Â æå‡ºçš„Â <code>Skill</code>ï¼Œå…¶ä»–æ¨¡å‹æ¯”è¾ƒé€šç”¨çš„Â <code>AGENTS.md</code>Â ç­‰ã€‚</li>
<li>æç¤ºæ™ºèƒ½ä½“åˆ†è§£ä»»åŠ¡ï¼šä»å¯†é›†çš„èµ„æºä¸­æä¾›æ›´å°ã€æ›´æ¸…æ™°çš„æ­¥éª¤ï¼Œæœ‰åŠ©äºæœ€å°åŒ–æ­§ä¹‰ï¼Œå¹¶å¸®åŠ©æ¨¡å‹æ›´å¥½åœ°éµå¾ªæŒ‡ä»¤ã€‚</li>
<li>å®šä¹‰æ¸…æ™°çš„åŠ¨ä½œï¼šç¡®ä¿æµç¨‹ä¸­çš„æ¯ä¸€æ­¥éƒ½å¯¹åº”ä¸€ä¸ªç‰¹å®šçš„åŠ¨ä½œæˆ–è¾“å‡ºï¼Œä¾‹å¦‚ï¼Œä¸€ä¸ªæ­¥éª¤å¯èƒ½æŒ‡ç¤ºæ™ºèƒ½ä½“å‘ç”¨æˆ·è¯¢é—®è®¢å•å·ï¼Œæˆ–è°ƒç”¨APIæ¥æ£€ç´¢è´¦æˆ·è¯¦æƒ…ï¼Œæ˜ç¡®è¯´æ˜åŠ¨ä½œï¼ˆç”šè‡³é¢å‘ç”¨æˆ·æ¶ˆæ¯çš„æªè¾ï¼‰å¯ä»¥å‡å°‘è§£é‡Šé”™è¯¯çš„ç©ºé—´ã€‚</li>
<li>æ§åˆ¶è¾¹ç•Œå¤„ç†ï¼šç°å®ä¸–ç•Œçš„äº¤äº’ç»å¸¸ä¼šäº§ç”Ÿå†³ç­–ç‚¹ï¼Œä¾‹å¦‚å½“ç”¨æˆ·æä¾›ä¸å®Œæ•´ä¿¡æ¯æˆ–æå‡ºæ„å¤–é—®é¢˜æ—¶å¦‚ä½•ç»§ç»­ï¼Œä¸€ä¸ªå¥å£®çš„æµç¨‹åº”é¢„è§å¸¸è§çš„å˜ä½“ï¼Œå¹¶åŒ…å«å¦‚ä½•å¤„ç†å®ƒä»¬çš„æŒ‡ä»¤ï¼Œä¾‹å¦‚ä½¿ç”¨æ¡ä»¶æ­¥éª¤æˆ–åˆ†æ”¯ï¼ˆå¦‚æœç¼ºå°‘å¿…è¦ä¿¡æ¯ï¼Œåˆ™æ‰§è¡Œæ›¿ä»£æ­¥éª¤ï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-5">ä»Â <code>MCP</code>Â åˆ°Â <code>A2A</code></h2>
<p><code>AI Agent</code>Â ä¸ºäº†å’Œå¤šä¸ªå…¶ä»–ç³»ç»Ÿäº¤äº’ï¼Œè¡ç”Ÿäº†ä¸¤ç§ç³»ç»Ÿäº¤äº’çš„åè®®ï¼Œ<code>MCP</code>Â å’ŒÂ <code>A2A</code>ã€‚</p>
<h3 data-id="heading-6"><code>MCP</code></h3>
<p><code>MCP</code>Â åœ¨ä¹‹å‰çš„æ–‡ç« å·²ç»è®²è¿‡äº†ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FqHfSbSjoxl9V5e8MvVMbZA%25EF%25BC%2589%25EF%25BC%258C%25E4%25B8%2580%25E7%25A7%258D%25E5%25BC%2580%25E6%2594%25BE%25E5%258D%258F%25E8%25AE%25AE%25EF%25BC%258C%25E5%258F%25AF%25E6%25A0%2587%25E5%2587%2586%25E5%258C%2596%25E5%25BA%2594%25E7%2594%25A8%25E5%2590%2591" target="_blank" title="https://mp.weixin.qq.com/s/qHfSbSjoxl9V5e8MvVMbZA%EF%BC%89%EF%BC%8C%E4%B8%80%E7%A7%8D%E5%BC%80%E6%94%BE%E5%8D%8F%E8%AE%AE%EF%BC%8C%E5%8F%AF%E6%A0%87%E5%87%86%E5%8C%96%E5%BA%94%E7%94%A8%E5%90%91" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/qHfSbSjoxâ€¦</a> LLM æä¾›ä¸Šä¸‹æ–‡çš„æ–¹å¼ï¼Œ<code>MCP</code>Â æä¾›äº†ä¸€ç§å°†æ¨¡å‹è¿æ¥åˆ°èµ„æºã€æç¤ºå’Œå·¥å…·çš„æ ‡å‡†åŒ–æ–¹å¼ã€‚</p>
<p><strong>æ ·ä¾‹ä»£ç å¦‚ä¸‹ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span>Â logging
<span class="hljs-keyword">import</span>Â os

<span class="hljs-keyword">import</span>Â httpx
<span class="hljs-keyword">from</span>Â fastmcpÂ <span class="hljs-keyword">import</span>Â FastMCP

logger = logging.getLogger(__name__)
logging.basicConfig(<span class="hljs-built_in">format</span>=<span class="hljs-string">"[%(levelname)s]: %(message)s"</span>, level=logging.INFO)

mcp = FastMCP(<span class="hljs-string">"Currency MCP Server ğŸ’µ"</span>)

<span class="hljs-meta">@mcp.tool()</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">get_exchange_rate</span>(<span class="hljs-params">
Â  Â  currency_from: <span class="hljs-built_in">str</span> =Â <span class="hljs-string">'USD'</span>,
Â  Â  currency_to: <span class="hljs-built_in">str</span> =Â <span class="hljs-string">'EUR'</span>,
Â  Â  currency_date: <span class="hljs-built_in">str</span> =Â <span class="hljs-string">'latest'</span>,
</span>):
Â  Â Â <span class="hljs-string">"""Use this to get current exchange rate.

Â  Â  Args:
Â  Â  Â  Â  currency_from: The currency to convert from (e.g., "USD").
Â  Â  Â  Â  currency_to: The currency to convert to (e.g., "EUR").
Â  Â  Â  Â  currency_date: The date for the exchange rate or "latest". Defaults to "latest".

Â  Â  Returns:
Â  Â  Â  Â  A dictionary containing the exchange rate data, or an error message if the request fails.
Â  Â  """</span>
Â  Â  logger.info(<span class="hljs-string">f"--- ğŸ› ï¸ Tool: get_exchange_rate called for convertingÂ <span class="hljs-subst">{currency_from}</span>Â toÂ <span class="hljs-subst">{currency_to}</span>Â ---"</span>)
Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  response = httpx.get(
Â  Â  Â  Â  Â  Â Â <span class="hljs-string">f'https://api.frankfurter.app/<span class="hljs-subst">{currency_date}</span>'</span>,
Â  Â  Â  Â  Â  Â  params={<span class="hljs-string">'from'</span>: currency_from,Â <span class="hljs-string">'to'</span>: currency_to},
Â  Â  Â  Â  )
Â  Â  Â  Â  response.raise_for_status()

Â  Â  Â  Â  data = response.json()
Â  Â  Â  Â Â <span class="hljs-keyword">if</span><span class="hljs-string">'rates'</span>notinÂ data:
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â {<span class="hljs-string">'error'</span>:Â <span class="hljs-string">'Invalid API response format.'</span>}
Â  Â  Â  Â  logger.info(<span class="hljs-string">f'âœ… API response:Â <span class="hljs-subst">{data}</span>'</span>)
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â data
Â  Â Â <span class="hljs-keyword">except</span>Â httpx.HTTPErrorÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â {<span class="hljs-string">'error'</span>:Â <span class="hljs-string">f'API request failed:Â <span class="hljs-subst">{e}</span>'</span>}
Â  Â Â <span class="hljs-keyword">except</span>Â ValueError:
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â {<span class="hljs-string">'error'</span>:Â <span class="hljs-string">'Invalid JSON response from API.'</span>}

<span class="hljs-keyword">if</span>Â __name__ ==Â <span class="hljs-string">"__main__"</span>:
Â  Â  logger.info(<span class="hljs-string">f"ğŸš€ MCP server started on portÂ <span class="hljs-subst">{os.getenv(<span class="hljs-string">'PORT'</span>,Â <span class="hljs-number">8080</span>)}</span>"</span>)
Â  Â  asyncio.run(
Â  Â  Â  Â  mcp.run_async(
Â  Â  Â  Â  Â  Â  transport=<span class="hljs-string">"http"</span>,
Â  Â  Â  Â  Â  Â  host=<span class="hljs-string">"0.0.0.0"</span>,
Â  Â  Â  Â  Â  Â  port=os.getenv(<span class="hljs-string">"PORT"</span>,Â <span class="hljs-number">8080</span>),
Â  Â  Â  Â  )
Â  Â  )
</code></pre>
<p>ä»¥ä¸Šä»£ç æ˜¯æ±‡ç‡çš„Â <code>MCP Server</code>ï¼Œé€šè¿‡Â <code>MCP Client</code>Â å¯ä»¥è·å–æ±‡ç‡æ•°æ®ã€‚</p>
<h3 data-id="heading-7">Agent2Agent (<code>A2A</code>)</h3>
<p>Agent2Agent (A2A) åè®®æ˜¯ä¸€ç§å¼€æ”¾æ ‡å‡†ï¼Œæ—¨åœ¨è®© AI æ™ºèƒ½ä½“ä¹‹é—´å®ç°æ— ç¼é€šä¿¡å’Œåä½œï¼Œæ­£å¦‚ MCP æä¾›äº†ä¸€ç§æ ‡å‡†åŒ–çš„æ–¹å¼æ¥è®© LLM è®¿é—®æ•°æ®å’Œå·¥å…·ä¸€æ ·ï¼ŒA2A ä¹Ÿæä¾›äº†ä¸€ç§æ ‡å‡†åŒ–çš„æ–¹å¼æ¥è®©æ™ºèƒ½ä½“ä¸å…¶ä»–æ™ºèƒ½ä½“å¯¹è¯ï¼<br/>
åœ¨ä¸€ä¸ªæ™ºèƒ½ä½“ç”±ä¸åŒä¾›åº”å•†ä½¿ç”¨å„ç§æ¡†æ¶æ„å»ºçš„ä¸–ç•Œä¸­ï¼ŒA2A æä¾›äº†ä¸€ç§é€šç”¨è¯­è¨€ï¼Œæ‰“ç ´äº†å­¤å²›å¹¶ä¿ƒè¿›äº†äº’æ“ä½œæ€§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc98315e2cb647cd942fe33ba627861b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5pyr56iL5bqP54y_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768129217&amp;x-signature=2%2BUTr8lZfYDTv1OsRLrK%2F8JhriU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>A2Açš„å·¥ä½œåŸç†ï¼š</strong></p>
<ul>
<li>å‘ç°ï¼šä½¿ç”¨æ ‡å‡†åŒ–çš„Â <code>Agent Card</code>Â æŸ¥æ‰¾å…¶ä»–æ™ºèƒ½ä½“æŠ€èƒ½Â <code>AgentSkill</code>Â å’ŒåŠŸèƒ½Â <code>AgentCapabilities</code>ï¼›</li>
<li>åè®®ï¼šå®‰å…¨çš„äº¤æ¢æ¶ˆæ¯å’Œæ•°æ®ï¼›</li>
<li>åä½œï¼šå§”æ´¾ä»»åŠ¡ç»™åˆ°ç›¸åº”æŠ€èƒ½çš„Â <code>Agent</code>Â å¹¶åè°ƒè¡ŒåŠ¨ï¼›</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a22d0989770d424e9e454845cfbc44fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5pyr56iL5bqP54y_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768129217&amp;x-signature=6RWzFhFghKxuuRGo%2FIK6uMVa4zs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>æ ·ä¾‹ä»£ç å¦‚ä¸‹ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span>Â logging
<span class="hljs-keyword">import</span>Â os

<span class="hljs-keyword">import</span>Â click

<span class="hljs-keyword">from</span>Â a2a.server.appsÂ <span class="hljs-keyword">import</span>Â A2AStarletteApplication
<span class="hljs-keyword">from</span>Â a2a.server.request_handlersÂ <span class="hljs-keyword">import</span>Â DefaultRequestHandler
<span class="hljs-keyword">from</span>Â a2a.server.tasksÂ <span class="hljs-keyword">import</span>Â InMemoryTaskStore
<span class="hljs-keyword">from</span>Â a2a.typesÂ <span class="hljs-keyword">import</span>Â (
Â  Â  AgentCapabilities,
Â  Â  AgentCard,
Â  Â  AgentSkill,
)
<span class="hljs-keyword">from</span>Â agentÂ <span class="hljs-keyword">import</span>Â ImageGenerationAgent
<span class="hljs-keyword">from</span>Â agent_executorÂ <span class="hljs-keyword">import</span>Â ImageGenerationAgentExecutor
<span class="hljs-keyword">from</span>Â dotenvÂ <span class="hljs-keyword">import</span>Â load_dotenv

load_dotenv()

logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">MissingAPIKeyError</span>(<span class="hljs-title class_ inherited__">Exception</span>):
Â  Â Â <span class="hljs-string">"""Exception for missing API key."""</span>

<span class="hljs-meta">@click.command()</span>
<span class="hljs-meta">@click.option(<span class="hljs-params"><span class="hljs-string">'--host'</span>, <span class="hljs-string">'host'</span>, default=<span class="hljs-string">'localhost'</span></span>)</span>
<span class="hljs-meta">@click.option(<span class="hljs-params"><span class="hljs-string">'--port'</span>, <span class="hljs-string">'port'</span>, default=<span class="hljs-number">10001</span></span>)</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">main</span>(<span class="hljs-params">host, port</span>):
Â  Â Â <span class="hljs-string">"""Entry point for the A2A + CrewAI Image generation sample."""</span>
Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  capabilities = AgentCapabilities(streaming=<span class="hljs-literal">False</span>)
Â  Â  Â  Â  skill = AgentSkill(
Â  Â  Â  Â  Â  Â  <span class="hljs-built_in">id</span>=<span class="hljs-string">'image_generator'</span>,
Â  Â  Â  Â  Â  Â  name=<span class="hljs-string">'Image Generator'</span>,
Â  Â  Â  Â  Â  Â  description=(
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-string">'Generate stunning, high-quality images on demand and leverage'</span>
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-string">' powerful editing capabilities to modify, enhance, or completely'</span>
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-string">' transform visuals.'</span>
Â  Â  Â  Â  Â  Â  ),
Â  Â  Â  Â  Â  Â  tags=[<span class="hljs-string">'generate image'</span>,Â <span class="hljs-string">'edit image'</span>],
Â  Â  Â  Â  Â  Â  examples=[<span class="hljs-string">'Generate a photorealistic image of raspberry lemonade'</span>],
Â  Â  Â  Â  )

Â  Â  Â  Â  agent_host_url = (
Â  Â  Â  Â  Â  Â  os.getenv(<span class="hljs-string">'HOST_OVERRIDE'</span>)
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â os.getenv(<span class="hljs-string">'HOST_OVERRIDE'</span>)
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">else</span><span class="hljs-string">f'http://<span class="hljs-subst">{host}</span>:<span class="hljs-subst">{port}</span>/'</span>
Â  Â  Â  Â  )
Â  Â  Â  Â  agent_card = AgentCard(
Â  Â  Â  Â  Â  Â  name=<span class="hljs-string">'Image Generator Agent'</span>,
Â  Â  Â  Â  Â  Â  description=(
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-string">'Generate stunning, high-quality images on demand and leverage'</span>
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-string">' powerful editing capabilities to modify, enhance, or completely'</span>
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-string">' transform visuals.'</span>
Â  Â  Â  Â  Â  Â  ),
Â  Â  Â  Â  Â  Â  url=agent_host_url,
Â  Â  Â  Â  Â  Â  version=<span class="hljs-string">'1.0.0'</span>,
Â  Â  Â  Â  Â  Â  default_input_modes=ImageGenerationAgent.SUPPORTED_CONTENT_TYPES,
Â  Â  Â  Â  Â  Â  default_output_modes=ImageGenerationAgent.SUPPORTED_CONTENT_TYPES,
Â  Â  Â  Â  Â  Â  capabilities=capabilities,
Â  Â  Â  Â  Â  Â  skills=[skill],
Â  Â  Â  Â  )

Â  Â  Â  Â  request_handler = DefaultRequestHandler(
Â  Â  Â  Â  Â  Â  agent_executor=ImageGenerationAgentExecutor(),
Â  Â  Â  Â  Â  Â  task_store=InMemoryTaskStore(),
Â  Â  Â  Â  )
Â  Â  Â  Â  server = A2AStarletteApplication(
Â  Â  Â  Â  Â  Â  agent_card=agent_card, http_handler=request_handler
Â  Â  Â  Â  )
Â  Â  Â  Â Â <span class="hljs-keyword">import</span>Â uvicorn

Â  Â  Â  Â  uvicorn.run(server.build(), host=host, port=port)

Â  Â Â <span class="hljs-keyword">except</span>Â MissingAPIKeyErrorÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â  logger.error(<span class="hljs-string">f'Error:Â <span class="hljs-subst">{e}</span>'</span>)
Â  Â  Â  Â  exit(<span class="hljs-number">1</span>)
Â  Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â  logger.error(<span class="hljs-string">f'An error occurred during server startup:Â <span class="hljs-subst">{e}</span>'</span>)
Â  Â  Â  Â  exit(<span class="hljs-number">1</span>)

<span class="hljs-keyword">if</span>Â __name__ ==Â <span class="hljs-string">'__main__'</span>:
Â  Â  main()
</code></pre>
<h2 data-id="heading-8">ä»å•æ™ºèƒ½ä½“åˆ°å¤šæ™ºèƒ½ä½“</h2>
<h3 data-id="heading-9">å•æ™ºèƒ½ä½“</h3>
<p>å•æ™ºèƒ½ä½“çš„æ™ºèƒ½å¤§éƒ¨åˆ†åœºæ™¯ä¸‹ä¾èµ–åŸºåº§æ¨¡å‹ï¼Œåœ¨å¤„ç†æ˜ç¡®é—®é¢˜æ—¶è¾ƒä¸ºé«˜æ•ˆï¼Œå¯¹äºçº¦æŸæ€§ä»»åŠ¡æ—¶è¾ƒä¸ºå‡†ç¡®ï¼Œå¹¶ä¸”å¯ä»¥è¿›è¡Œå›æµ‹ï¼Œä½†é¢å¯¹å¤æ‚ã€å¤šé¢†åŸŸä»»åŠ¡æ—¶ï¼Œå…¶èƒ½åŠ›å¾€å¾€å—é™ã€‚</p>
<p><strong>æ ·ä¾‹ä»£ç å¦‚ä¸‹ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span>Â asyncio
<span class="hljs-keyword">import</span>Â nest_asyncio

<span class="hljs-keyword">from</span>Â langchain_google_genaiÂ <span class="hljs-keyword">import</span>Â ChatGoogleGenerativeAI
<span class="hljs-keyword">from</span>Â langchain_core.promptsÂ <span class="hljs-keyword">import</span>Â ChatPromptTemplate
<span class="hljs-keyword">from</span>Â langchain_core.toolsÂ <span class="hljs-keyword">import</span>Â toolÂ <span class="hljs-keyword">as</span>Â langchain_tool
<span class="hljs-keyword">from</span>Â langchain.agentsÂ <span class="hljs-keyword">import</span>Â create_tool_calling_agent, AgentExecutor

<span class="hljs-keyword">try</span>:
Â  Â Â <span class="hljs-comment"># åˆå§‹åŒ–å…·å¤‡å·¥å…·è°ƒç”¨èƒ½åŠ›çš„æ¨¡å‹</span>
Â  Â  llm = ChatGoogleGenerativeAI(model=<span class="hljs-string">"gemini-2.0-flash"</span>, temperature=<span class="hljs-number">0</span>)
Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… è¯­è¨€æ¨¡å‹å·²åˆå§‹åŒ–ï¼š<span class="hljs-subst">{llm.model}</span>"</span>)
<span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ›‘ åˆå§‹åŒ–è¯­è¨€æ¨¡å‹å‡ºé”™ï¼š<span class="hljs-subst">{e}</span>"</span>)
Â  Â  llm =Â <span class="hljs-literal">None</span>

<span class="hljs-comment"># --- å®šä¹‰å·¥å…· ---</span>
<span class="hljs-meta">@langchain_tool</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">search_information</span>(<span class="hljs-params">query: <span class="hljs-built_in">str</span></span>)Â -&gt; <span class="hljs-built_in">str</span>:
Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n--- ğŸ› ï¸ å·¥å…·è°ƒç”¨ï¼šsearch_information, æŸ¥è¯¢ï¼š'<span class="hljs-subst">{query}</span>' ---"</span>)
Â  Â Â <span class="hljs-comment"># ç”¨é¢„è®¾ç»“æœæ¨¡æ‹Ÿæœç´¢å·¥å…·</span>
Â  Â  simulated_results = {
Â  Â  Â  Â Â <span class="hljs-string">"default"</span>:Â <span class="hljs-string">f"æ¨¡æ‹Ÿæœç´¢ '<span class="hljs-subst">{query}</span>'ï¼šæœªæ‰¾åˆ°å…·ä½“ä¿¡æ¯ï¼Œä½†è¯¥ä¸»é¢˜å¾ˆæœ‰è¶£ã€‚"</span>
Â  Â  }
Â  Â  result = simulated_results.get(query.lower(), simulated_results[<span class="hljs-string">"default"</span>])
Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"--- å·¥å…·ç»“æœï¼š<span class="hljs-subst">{result}</span>Â ---"</span>)
Â  Â Â <span class="hljs-keyword">return</span>Â result

tools = [search_information]

<span class="hljs-comment"># --- åˆ›å»ºå·¥å…·è°ƒç”¨ Agent ---</span>
<span class="hljs-keyword">if</span>Â llm:
Â  Â  agent_prompt = ChatPromptTemplate.from_messages([
Â  Â  Â  Â  (<span class="hljs-string">"system"</span>,Â <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªä¹äºåŠ©äººçš„åŠ©æ‰‹ã€‚"</span>),
Â  Â  Â  Â  (<span class="hljs-string">"human"</span>,Â <span class="hljs-string">"{input}"</span>),
Â  Â  Â  Â  (<span class="hljs-string">"placeholder"</span>,Â <span class="hljs-string">"{agent_scratchpad}"</span>),
Â  Â  ])

Â  Â  agent = create_tool_calling_agent(llm, tools, agent_prompt)
Â  Â  agent_executor = AgentExecutor(agent=agent, verbose=<span class="hljs-literal">True</span>, tools=tools)

asyncdefÂ run_agent_with_tool(query: <span class="hljs-built_in">str</span>):
Â  Â Â <span class="hljs-string">"""ç”¨ Agent æ‰§è¡ŒæŸ¥è¯¢å¹¶æ‰“å°æœ€ç»ˆå›å¤ã€‚"""</span>
Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n--- ğŸƒ Agent è¿è¡ŒæŸ¥è¯¢ï¼š'<span class="hljs-subst">{query}</span>' ---"</span>)
Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  response =Â <span class="hljs-keyword">await</span>Â agent_executor.ainvoke({<span class="hljs-string">"input"</span>: query})
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n--- âœ… Agent æœ€ç»ˆå›å¤ ---"</span>)
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(response[<span class="hljs-string">"output"</span>])
Â  Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nğŸ›‘ Agent æ‰§è¡Œå‡ºé”™ï¼š<span class="hljs-subst">{e}</span>"</span>)

asyncdefÂ main():
Â  Â Â <span class="hljs-string">"""å¹¶å‘è¿è¡Œå¤šä¸ª Agent æŸ¥è¯¢ã€‚"""</span>
Â  Â  tasks = [
Â  Â  Â  Â  run_agent_with_tool(<span class="hljs-string">"ä»Šå¤©XXXå¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ"</span>),
Â  Â  ]
Â  Â Â <span class="hljs-keyword">await</span>Â asyncio.gather(*tasks)

nest_asyncio.apply()
asyncio.run(main())
</code></pre>
<h3 data-id="heading-10">å¤šæ™ºèƒ½ä½“</h3>
<p>å¤šæ™ºèƒ½ä½“åä½œæ¨¡å¼é€šè¿‡å°†ç³»ç»Ÿç»“æ„åŒ–ä¸ºå¤šä¸ªç‹¬ç«‹ä¸”ä¸“ç”¨çš„æ™ºèƒ½ä½“è¿›è¡Œåä½œï¼Œè§£å†³äº†å•æ™ºèƒ½ä½“çš„å±€é™ï¼Œè¯¥æ¨¡å¼åŸºäºä»»åŠ¡åˆ†è§£åŸåˆ™ï¼Œå°†é«˜å±‚ç›®æ ‡æ‹†åˆ†ä¸ºè‹¥å¹²å­é—®é¢˜ï¼Œå¹¶åˆ†é…ç»™å…·å¤‡ç›¸åº”å·¥å…·ã€æ•°æ®è®¿é—®æˆ–æ¨ç†èƒ½åŠ›çš„æ™ºèƒ½ä½“ã€‚<br/>
å…¶ä¸­å¤šæ™ºèƒ½ä½“æ¶æ„çš„è¿ä½œæ–¹å¼ï¼šç”¨æˆ·æŸ¥è¯¢é€šè¿‡ä¸»æ™ºèƒ½ä½“ï¼Œä¸»æ™ºèƒ½ä½“åˆ›å»ºä¸“é—¨çš„å­æ™ºèƒ½ä½“æ¥å¹¶è¡Œæœç´¢å’Œå¤„ç†ä¸åŒä¿¡æ¯ï¼Œæ ·ä¾‹å¦‚ä¸‹æ‰§è¡Œæµç¨‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f71fd6ce1f84431cb383885d02478842~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5pyr56iL5bqP54y_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768129217&amp;x-signature=NspkZ3UFNn7oMo02EKdhc56oYEs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li>å½“ç”¨æˆ·æäº¤æŸ¥è¯¢æ—¶ï¼Œç³»ç»Ÿä¼šåˆ›å»ºä¸€ä¸ªä¸»æ™ºèƒ½ä½“ï¼Œè¯¥æ™ºèƒ½ä½“è¿›å…¥è¿­ä»£ä»»åŠ¡æµç¨‹ã€‚</li>
<li>ä¸»æ™ºèƒ½ä½“é¦–å…ˆä¼šæ€è€ƒä»»åŠ¡æ–¹æ³•ï¼Œå¹¶å°†è®¡åˆ’ä¿å­˜åˆ°å†…å­˜ä¸­ä»¥æŒä¹…åŒ–ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå› ä¸ºå¦‚æœä¸Šä¸‹æ–‡çª—å£è¶…è¿‡ 20 ä¸‡ä¸ªæ ‡è®°ï¼ŒLLMä¼šä¿¡æ¯é—å¿˜æˆ–è€…æˆªæ–­ï¼Œæ‰€ä»¥ä¿ç•™è®¡åˆ’è‡³å…³é‡è¦ã€‚</li>
<li>ç„¶åï¼Œå®ƒä¼šåˆ›å»ºä¸“é—¨çš„å­æ™ºèƒ½ä½“ï¼Œæ¯ä¸ªå­æ™ºèƒ½ä½“è´Ÿè´£ç‰¹å®šçš„ä»»åŠ¡ã€‚</li>
<li>æ¯ä¸ªå­æ™ºèƒ½ä½“ç‹¬ç«‹æ‰§è¡Œç½‘ç»œæœç´¢ï¼Œä½¿ç”¨äº¤é”™æ€ç»´è¯„ä¼°å·¥å…·ç»“æœï¼Œå¹¶å°†ç»“æœè¿”å›ç»™ä¸»æ™ºèƒ½ä½“ã€‚</li>
<li>ä¸»æ™ºèƒ½ä½“ç»¼åˆè¿™äº›ç»“æœï¼Œå¹¶å†³å®šæ˜¯å¦éœ€è¦è¿›è¡Œæ›´å¤šä»»åŠ¡ â€”â€” å¦‚æœéœ€è¦ï¼Œå®ƒå¯ä»¥åˆ›å»ºæ›´å¤šå­æ™ºèƒ½ä½“æˆ–ä¼˜åŒ–å…¶ç­–ç•¥ã€‚</li>
<li>ä¸€æ—¦æ”¶é›†åˆ°è¶³å¤Ÿçš„ä¿¡æ¯ï¼Œç³»ç»Ÿå°±ä¼šé€€å‡ºå¾ªç¯ï¼Œå¹¶å°†æ‰€æœ‰ç»“æœä¼ é€’ç»™å¼•æ–‡æ™ºèƒ½ä½“ã€‚</li>
<li>å¼•æ–‡æ™ºèƒ½ä½“å¤„ç†æ–‡æ¡£å’ŒæŠ¥å‘Šï¼Œä»¥ç¡®å®šå…·ä½“çš„å¼•æ–‡ä½ç½®ï¼Œæœ€ç»ˆçš„ç»“æœï¼ˆåŒ…æ‹¬å¼•ç”¨ï¼‰å°†è¿”å›ç»™ç”¨æˆ·ã€‚</li>
</ul>
<p><strong>æ ·ä¾‹ä»£ç å¦‚ä¸‹ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span>Â asyncio
<span class="hljs-keyword">from</span>Â typingÂ <span class="hljs-keyword">import</span>Â <span class="hljs-type">List</span>, <span class="hljs-type">Dict</span>, <span class="hljs-type">Any</span>
<span class="hljs-keyword">from</span>Â langchain_openaiÂ <span class="hljs-keyword">import</span>Â ChatOpenAI
<span class="hljs-keyword">from</span>Â langchain.agentsÂ <span class="hljs-keyword">import</span>Â AgentExecutor, create_tool_calling_agent
<span class="hljs-keyword">from</span>Â langchain_core.promptsÂ <span class="hljs-keyword">import</span>Â ChatPromptTemplate
<span class="hljs-keyword">from</span>Â langchain_core.toolsÂ <span class="hljs-keyword">import</span>Â toolÂ <span class="hljs-keyword">as</span>Â langchain_tool
<span class="hljs-keyword">from</span>Â langchain_core.messagesÂ <span class="hljs-keyword">import</span>Â HumanMessage, SystemMessage

<span class="hljs-comment"># ============================================</span>
<span class="hljs-comment"># å¤šæ™ºèƒ½ä½“ç³»ç»Ÿç¤ºä¾‹</span>
<span class="hljs-comment"># æ¶æ„ï¼šä¸»æ™ºèƒ½ä½“ + å¤šä¸ªä¸“ç”¨å­æ™ºèƒ½ä½“</span>
<span class="hljs-comment"># ============================================</span>

<span class="hljs-comment"># --- åˆå§‹åŒ–æ¨¡å‹ ---</span>
llm = ChatOpenAI(model=<span class="hljs-string">"gpt-5"</span>, temperature=<span class="hljs-number">0</span>)

<span class="hljs-comment"># ============================================</span>
<span class="hljs-comment"># ç¬¬ä¸€éƒ¨åˆ†ï¼šå®šä¹‰å­æ™ºèƒ½ä½“çš„å·¥å…·</span>
<span class="hljs-comment"># ============================================</span>

<span class="hljs-meta">@langchain_tool</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">search_web</span>(<span class="hljs-params">query: <span class="hljs-built_in">str</span></span>)Â -&gt; <span class="hljs-built_in">str</span>:
Â  Â Â <span class="hljs-string">"""æœç´¢ç½‘ç»œè·å–æœ€æ–°ä¿¡æ¯ã€‚"""</span>
Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ” [ç½‘ç»œæœç´¢] æŸ¥è¯¢:Â <span class="hljs-subst">{query}</span>"</span>)
Â  Â Â <span class="hljs-comment"># æ¨¡æ‹Ÿç½‘ç»œæœç´¢ç»“æœ</span>
Â  Â Â <span class="hljs-keyword">return</span><span class="hljs-string">f"ç½‘ç»œæœç´¢ç»“æœ: å…³äº'<span class="hljs-subst">{query}</span>'çš„æœ€æ–°ä¿¡æ¯..."</span>

<span class="hljs-meta">@langchain_tool</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">search_database</span>(<span class="hljs-params">query: <span class="hljs-built_in">str</span></span>)Â -&gt; <span class="hljs-built_in">str</span>:
Â  Â Â <span class="hljs-string">"""æœç´¢å†…éƒ¨æ•°æ®åº“è·å–ç»“æ„åŒ–æ•°æ®ã€‚"""</span>
Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ—„ï¸ [æ•°æ®åº“æœç´¢] æŸ¥è¯¢:Â <span class="hljs-subst">{query}</span>"</span>)
Â  Â Â <span class="hljs-comment"># æ¨¡æ‹Ÿæ•°æ®åº“æŸ¥è¯¢</span>
Â  Â Â <span class="hljs-keyword">return</span><span class="hljs-string">f"æ•°æ®åº“æŸ¥è¯¢ç»“æœ: '<span class="hljs-subst">{query}</span>'ç›¸å…³è®°å½•3æ¡..."</span>

<span class="hljs-meta">@langchain_tool</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">analyze_data</span>(<span class="hljs-params">data: <span class="hljs-built_in">str</span></span>)Â -&gt; <span class="hljs-built_in">str</span>:
Â  Â Â <span class="hljs-string">"""åˆ†ææ•°æ®å¹¶ç”Ÿæˆæ´å¯Ÿã€‚"""</span>
Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ“Š [æ•°æ®åˆ†æ] åˆ†æ:Â <span class="hljs-subst">{data}</span>"</span>)
Â  Â Â <span class="hljs-keyword">return</span><span class="hljs-string">f"åˆ†æç»“è®º: åŸºäº'<span class="hljs-subst">{data}</span>'çš„æ•°æ®åˆ†æå®Œæˆ..."</span>

<span class="hljs-meta">@langchain_tool</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">generate_report</span>(<span class="hljs-params">content: <span class="hljs-built_in">str</span></span>)Â -&gt; <span class="hljs-built_in">str</span>:
Â  Â Â <span class="hljs-string">"""æ ¹æ®å†…å®¹ç”ŸæˆæŠ¥å‘Šã€‚"""</span>
Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ“ [æŠ¥å‘Šç”Ÿæˆ] å†…å®¹:Â <span class="hljs-subst">{content}</span>"</span>)
Â  Â Â <span class="hljs-keyword">return</span><span class="hljs-string">f"æŠ¥å‘Šå·²ç”Ÿæˆ: åŒ…å«'<span class="hljs-subst">{content}</span>'çš„è¯¦ç»†æŠ¥å‘Š..."</span>

<span class="hljs-comment"># ============================================</span>
<span class="hljs-comment"># ç¬¬äºŒéƒ¨åˆ†ï¼šå®šä¹‰å­æ™ºèƒ½ä½“ç±»</span>
<span class="hljs-comment"># ============================================</span>

<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">SubAgent</span>:
Â  Â Â <span class="hljs-string">"""å­æ™ºèƒ½ä½“åŸºç±»"""</span>
Â  Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name: <span class="hljs-built_in">str</span>, role: <span class="hljs-built_in">str</span>, tools: <span class="hljs-built_in">list</span></span>):
Â  Â  Â  Â  self.name = name
Â  Â  Â  Â  self.role = role
Â  Â  Â  Â  self.tools = tools
Â  Â  Â  Â  self.agent_executor = self._create_executor()
Â  Â Â 
Â  Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_create_executor</span>(<span class="hljs-params">self</span>)Â -&gt; AgentExecutor:
Â  Â  Â  Â  prompt = ChatPromptTemplate.from_messages([
Â  Â  Â  Â  Â  Â  (<span class="hljs-string">"system"</span>,Â <span class="hljs-string">f"ä½ æ˜¯<span class="hljs-subst">{self.name}</span>ï¼ŒèŒè´£æ˜¯<span class="hljs-subst">{self.role}</span>ã€‚ä¸“æ³¨å®Œæˆåˆ†é…çš„ä»»åŠ¡ï¼Œè¿”å›ç®€æ´ç»“æœã€‚"</span>),
Â  Â  Â  Â  Â  Â  (<span class="hljs-string">"human"</span>,Â <span class="hljs-string">"{input}"</span>),
Â  Â  Â  Â  Â  Â  (<span class="hljs-string">"placeholder"</span>,Â <span class="hljs-string">"{agent_scratchpad}"</span>),
Â  Â  Â  Â  ])
Â  Â  Â  Â  agent = create_tool_calling_agent(llm, self.tools, prompt)
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â AgentExecutor(agent=agent, tools=self.tools, verbose=<span class="hljs-literal">True</span>)
Â  Â Â 
Â  Â Â asyncdefÂ execute(self, task: <span class="hljs-built_in">str</span>)Â -&gt; <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-type">Any</span>]:
Â  Â  Â  Â Â <span class="hljs-string">"""å¼‚æ­¥æ‰§è¡Œä»»åŠ¡"""</span>
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n<span class="hljs-subst">{<span class="hljs-string">'='</span>*<span class="hljs-number">50</span>}</span>"</span>)
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ¤– å­æ™ºèƒ½ä½“ [<span class="hljs-subst">{self.name}</span>] å¼€å§‹æ‰§è¡Œä»»åŠ¡:Â <span class="hljs-subst">{task}</span>"</span>)
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{<span class="hljs-string">'='</span>*<span class="hljs-number">50</span>}</span>"</span>)
Â  Â  Â  Â  result =Â <span class="hljs-keyword">await</span>Â self.agent_executor.ainvoke({<span class="hljs-string">"input"</span>: task})
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â {<span class="hljs-string">"agent"</span>: self.name,Â <span class="hljs-string">"task"</span>: task,Â <span class="hljs-string">"result"</span>: result[<span class="hljs-string">"output"</span>]}

<span class="hljs-comment"># ============================================</span>
<span class="hljs-comment"># ç¬¬ä¸‰éƒ¨åˆ†ï¼šåˆ›å»ºä¸»æ™ºèƒ½ä½“ï¼ˆåè°ƒè€…ï¼‰</span>
<span class="hljs-comment"># ============================================</span>

<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">MasterAgent</span>:
Â  Â Â <span class="hljs-string">"""ä¸»æ™ºèƒ½ä½“ - è´Ÿè´£ä»»åŠ¡åˆ†è§£å’Œå­æ™ºèƒ½ä½“åè°ƒ"""</span>
Â  Â Â 
Â  Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
Â  Â  Â  Â  self.sub_agents = self._create_sub_agents()
Â  Â  Â  Â  self.memory = [] Â <span class="hljs-comment"># ç”¨äºæŒä¹…åŒ–è®¡åˆ’å’Œä¸­é—´ç»“æœ</span>
Â  Â Â 
Â  Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_create_sub_agents</span>(<span class="hljs-params">self</span>)Â -&gt; <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>, SubAgent]:
Â  Â  Â  Â Â <span class="hljs-string">"""åˆ›å»ºä¸“ç”¨å­æ™ºèƒ½ä½“"""</span>
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â {
Â  Â  Â  Â  Â  Â Â <span class="hljs-string">"researcher"</span>: SubAgent(
Â  Â  Â  Â  Â  Â  Â  Â  name=<span class="hljs-string">"ç ”ç©¶å‘˜æ™ºèƒ½ä½“"</span>,
Â  Â  Â  Â  Â  Â  Â  Â  role=<span class="hljs-string">"è´Ÿè´£ç½‘ç»œæœç´¢å’Œä¿¡æ¯æ”¶é›†"</span>,
Â  Â  Â  Â  Â  Â  Â  Â  tools=[search_web]
Â  Â  Â  Â  Â  Â  ),
Â  Â  Â  Â  Â  Â Â <span class="hljs-string">"data_analyst"</span>: SubAgent(
Â  Â  Â  Â  Â  Â  Â  Â  name=<span class="hljs-string">"æ•°æ®åˆ†ææ™ºèƒ½ä½“"</span>,Â 
Â  Â  Â  Â  Â  Â  Â  Â  role=<span class="hljs-string">"è´Ÿè´£æ•°æ®åº“æŸ¥è¯¢å’Œæ•°æ®åˆ†æ"</span>,
Â  Â  Â  Â  Â  Â  Â  Â  tools=[search_database, analyze_data]
Â  Â  Â  Â  Â  Â  ),
Â  Â  Â  Â  Â  Â Â <span class="hljs-string">"reporter"</span>: SubAgent(
Â  Â  Â  Â  Â  Â  Â  Â  name=<span class="hljs-string">"æŠ¥å‘Šæ™ºèƒ½ä½“"</span>,
Â  Â  Â  Â  Â  Â  Â  Â  role=<span class="hljs-string">"è´Ÿè´£æ•´åˆä¿¡æ¯å¹¶ç”Ÿæˆæœ€ç»ˆæŠ¥å‘Š"</span>,
Â  Â  Â  Â  Â  Â  Â  Â  tools=[generate_report]
Â  Â  Â  Â  Â  Â  ),
Â  Â  Â  Â  }
Â  Â Â 
Â  Â Â asyncdefÂ _decompose_task(self, query: <span class="hljs-built_in">str</span>)Â -&gt; <span class="hljs-type">List</span>[<span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">str</span>]]:
Â  Â  Â  Â Â <span class="hljs-string">"""ä½¿ç”¨LLMåˆ†è§£ä»»åŠ¡"""</span>
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nğŸ§  ä¸»æ™ºèƒ½ä½“æ­£åœ¨åˆ†æä»»åŠ¡:Â <span class="hljs-subst">{query}</span>"</span>)
Â  Â  Â  Â Â 
Â  Â  Â  Â Â <span class="hljs-comment"># ä½¿ç”¨LLMè¿›è¡Œä»»åŠ¡åˆ†è§£</span>
Â  Â  Â  Â  response =Â <span class="hljs-keyword">await</span>Â llm.ainvoke([
Â  Â  Â  Â  Â  Â  SystemMessage(content=<span class="hljs-string">"""ä½ æ˜¯ä¸€ä¸ªä»»åŠ¡åˆ†è§£ä¸“å®¶ã€‚å°†ç”¨æˆ·æŸ¥è¯¢åˆ†è§£ä¸ºå­ä»»åŠ¡ã€‚
è¿”å›æ ¼å¼(æ¯è¡Œä¸€ä¸ª): agent_type|task_description
å¯ç”¨çš„agent_type: researcher, data_analyst, reporter"""</span>),
Â  Â  Â  Â  Â  Â  HumanMessage(content=<span class="hljs-string">f"åˆ†è§£ä»»åŠ¡:Â <span class="hljs-subst">{query}</span>"</span>)
Â  Â  Â  Â  ])
Â  Â  Â  Â Â 
Â  Â  Â  Â Â <span class="hljs-comment"># è§£æä»»åŠ¡åˆ†è§£ç»“æœ</span>
Â  Â  Â  Â  tasks = []
Â  Â  Â  Â Â <span class="hljs-keyword">for</span>Â lineÂ <span class="hljs-keyword">in</span>Â response.content.strip().split(<span class="hljs-string">"\n"</span>):
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">if</span><span class="hljs-string">"|"</span><span class="hljs-keyword">in</span>Â line:
Â  Â  Â  Â  Â  Â  Â  Â  agent_type, task_desc = line.split(<span class="hljs-string">"|"</span>,Â <span class="hljs-number">1</span>)
Â  Â  Â  Â  Â  Â  Â  Â  agent_type = agent_type.strip().lower()
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â agent_typeÂ <span class="hljs-keyword">in</span>Â self.sub_agents:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tasks.append({<span class="hljs-string">"agent"</span>: agent_type,Â <span class="hljs-string">"task"</span>: task_desc.strip()})
Â  Â  Â  Â Â 
Â  Â  Â  Â Â <span class="hljs-comment"># é»˜è®¤ä»»åŠ¡æµç¨‹ï¼ˆå¦‚æœLLMåˆ†è§£å¤±è´¥ï¼‰</span>
Â  Â  Â  Â Â ifnotÂ tasks:
Â  Â  Â  Â  Â  Â  tasks = [
Â  Â  Â  Â  Â  Â  Â  Â  {<span class="hljs-string">"agent"</span>:Â <span class="hljs-string">"researcher"</span>,Â <span class="hljs-string">"task"</span>:Â <span class="hljs-string">f"æœç´¢å…³äº'<span class="hljs-subst">{query}</span>'çš„ä¿¡æ¯"</span>},
Â  Â  Â  Â  Â  Â  Â  Â  {<span class="hljs-string">"agent"</span>:Â <span class="hljs-string">"data_analyst"</span>,Â <span class="hljs-string">"task"</span>:Â <span class="hljs-string">f"åˆ†æ'<span class="hljs-subst">{query}</span>'ç›¸å…³æ•°æ®"</span>},
Â  Â  Â  Â  Â  Â  Â  Â  {<span class="hljs-string">"agent"</span>:Â <span class="hljs-string">"reporter"</span>,Â <span class="hljs-string">"task"</span>:Â <span class="hljs-string">"æ•´åˆä»¥ä¸Šç»“æœç”ŸæˆæŠ¥å‘Š"</span>},
Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â Â 
Â  Â  Â  Â Â <span class="hljs-comment"># ä¿å­˜è®¡åˆ’åˆ°å†…å­˜</span>
Â  Â  Â  Â  self.memory.append({<span class="hljs-string">"type"</span>:Â <span class="hljs-string">"plan"</span>,Â <span class="hljs-string">"tasks"</span>: tasks})
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ“‹ ä»»åŠ¡åˆ†è§£å®Œæˆï¼Œå…±<span class="hljs-subst">{<span class="hljs-built_in">len</span>(tasks)}</span>ä¸ªå­ä»»åŠ¡"</span>)
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â tasks
Â  Â Â 
Â  Â Â asyncdefÂ _execute_parallel_tasks(self, tasks: <span class="hljs-type">List</span>[<span class="hljs-type">Dict</span>])Â -&gt; <span class="hljs-type">List</span>[<span class="hljs-type">Dict</span>]:
Â  Â  Â  Â Â <span class="hljs-string">"""å¹¶è¡Œæ‰§è¡Œå­ä»»åŠ¡"""</span>
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nğŸš€ å¼€å§‹å¹¶è¡Œæ‰§è¡ŒÂ <span class="hljs-subst">{<span class="hljs-built_in">len</span>(tasks)}</span>Â ä¸ªå­ä»»åŠ¡..."</span>)
Â  Â  Â  Â Â 
Â  Â  Â  Â Â <span class="hljs-comment"># åˆ›å»ºå¹¶è¡Œä»»åŠ¡</span>
Â  Â  Â  Â  coroutines = []
Â  Â  Â  Â Â <span class="hljs-keyword">for</span>Â task_infoÂ <span class="hljs-keyword">in</span>Â tasks:
Â  Â  Â  Â  Â  Â  agent = self.sub_agents[task_info[<span class="hljs-string">"agent"</span>]]
Â  Â  Â  Â  Â  Â  coroutines.append(agent.execute(task_info[<span class="hljs-string">"task"</span>]))
Â  Â  Â  Â Â 
Â  Â  Â  Â Â <span class="hljs-comment"># å¹¶è¡Œæ‰§è¡Œæ‰€æœ‰å­æ™ºèƒ½ä½“ä»»åŠ¡</span>
Â  Â  Â  Â  results =Â <span class="hljs-keyword">await</span>Â asyncio.gather(*coroutines, return_exceptions=<span class="hljs-literal">True</span>)
Â  Â  Â  Â Â 
Â  Â  Â  Â Â <span class="hljs-comment"># å¤„ç†ç»“æœ</span>
Â  Â  Â  Â  valid_results = []
Â  Â  Â  Â Â <span class="hljs-keyword">for</span>Â rÂ <span class="hljs-keyword">in</span>Â results:
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">isinstance</span>(r, Exception):
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âš ï¸ å­ä»»åŠ¡æ‰§è¡Œå¤±è´¥:Â <span class="hljs-subst">{r}</span>"</span>)
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">else</span>:
Â  Â  Â  Â  Â  Â  Â  Â  valid_results.append(r)
Â  Â  Â  Â  Â  Â  Â  Â  self.memory.append({<span class="hljs-string">"type"</span>:Â <span class="hljs-string">"result"</span>,Â <span class="hljs-string">"data"</span>: r})
Â  Â  Â  Â Â 
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â valid_results
Â  Â Â 
Â  Â Â asyncdefÂ _synthesize_results(self, results: <span class="hljs-type">List</span>[<span class="hljs-type">Dict</span>])Â -&gt; <span class="hljs-built_in">str</span>:
Â  Â  Â  Â Â <span class="hljs-string">"""ç»¼åˆæ‰€æœ‰å­æ™ºèƒ½ä½“ç»“æœ"""</span>
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nğŸ”„ ä¸»æ™ºèƒ½ä½“æ­£åœ¨ç»¼åˆÂ <span class="hljs-subst">{<span class="hljs-built_in">len</span>(results)}</span>Â ä¸ªç»“æœ..."</span>)
Â  Â  Â  Â Â 
Â  Â  Â  Â Â <span class="hljs-comment"># æ„å»ºç»¼åˆæç¤º</span>
Â  Â  Â  Â  results_text =Â <span class="hljs-string">"\n"</span>.join([
Â  Â  Â  Â  Â  Â Â <span class="hljs-string">f"-Â <span class="hljs-subst">{r[<span class="hljs-string">'agent'</span>]}</span>:Â <span class="hljs-subst">{r[<span class="hljs-string">'result'</span>]}</span>"</span><span class="hljs-keyword">for</span>Â rÂ <span class="hljs-keyword">in</span>Â results
Â  Â  Â  Â  ])
Â  Â  Â  Â Â 
Â  Â  Â  Â  response =Â <span class="hljs-keyword">await</span>Â llm.ainvoke([
Â  Â  Â  Â  Â  Â  SystemMessage(content=<span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªä¿¡æ¯ç»¼åˆä¸“å®¶ï¼Œè´Ÿè´£æ•´åˆå¤šä¸ªæ™ºèƒ½ä½“çš„æ‰§è¡Œç»“æœï¼Œç”Ÿæˆå®Œæ•´ã€è¿è´¯çš„æœ€ç»ˆå›ç­”ã€‚"</span>),
Â  Â  Â  Â  Â  Â  HumanMessage(content=<span class="hljs-string">f"è¯·ç»¼åˆä»¥ä¸‹å„æ™ºèƒ½ä½“çš„æ‰§è¡Œç»“æœ:\n<span class="hljs-subst">{results_text}</span>"</span>)
Â  Â  Â  Â  ])
Â  Â  Â  Â Â 
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â response.content
Â  Â Â 
Â  Â Â asyncdefÂ run(self, query: <span class="hljs-built_in">str</span>)Â -&gt; <span class="hljs-built_in">str</span>:
Â  Â  Â  Â Â <span class="hljs-string">"""è¿è¡Œå¤šæ™ºèƒ½ä½“ç³»ç»Ÿ"""</span>
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n<span class="hljs-subst">{<span class="hljs-string">'='</span>*<span class="hljs-number">60</span>}</span>"</span>)
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ¯ å¤šæ™ºèƒ½ä½“ç³»ç»Ÿå¯åŠ¨"</span>)
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ“ ç”¨æˆ·æŸ¥è¯¢:Â <span class="hljs-subst">{query}</span>"</span>)
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{<span class="hljs-string">'='</span>*<span class="hljs-number">60</span>}</span>"</span>)
Â  Â  Â  Â Â 
Â  Â  Â  Â Â <span class="hljs-comment"># 1. ä»»åŠ¡åˆ†è§£</span>
Â  Â  Â  Â  tasks =Â <span class="hljs-keyword">await</span>Â self._decompose_task(query)
Â  Â  Â  Â Â 
Â  Â  Â  Â Â <span class="hljs-comment"># 2. å¹¶è¡Œæ‰§è¡Œå­ä»»åŠ¡</span>
Â  Â  Â  Â  results =Â <span class="hljs-keyword">await</span>Â self._execute_parallel_tasks(tasks)
Â  Â  Â  Â Â 
Â  Â  Â  Â Â <span class="hljs-comment"># 3. ç»¼åˆç»“æœ</span>
Â  Â  Â  Â  final_answer =Â <span class="hljs-keyword">await</span>Â self._synthesize_results(results)
Â  Â  Â  Â Â 
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n<span class="hljs-subst">{<span class="hljs-string">'='</span>*<span class="hljs-number">60</span>}</span>"</span>)
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… å¤šæ™ºèƒ½ä½“ç³»ç»Ÿæ‰§è¡Œå®Œæˆ"</span>)
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{<span class="hljs-string">'='</span>*<span class="hljs-number">60</span>}</span>"</span>)
Â  Â  Â  Â Â 
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â final_answer

<span class="hljs-comment"># ============================================</span>
<span class="hljs-comment"># ç¬¬å››éƒ¨åˆ†ï¼šè¿è¡Œç¤ºä¾‹</span>
<span class="hljs-comment"># ============================================</span>

asyncdefÂ main():
Â  Â Â <span class="hljs-string">"""è¿è¡Œå¤šæ™ºèƒ½ä½“ç³»ç»Ÿç¤ºä¾‹"""</span>
Â  Â  master = MasterAgent()
Â  Â Â 
Â  Â Â <span class="hljs-comment"># æµ‹è¯•æŸ¥è¯¢</span>
Â  Â  query =Â <span class="hljs-string">"åˆ†æ2025å¹´äººå·¥æ™ºèƒ½è¡Œä¸šçš„å‘å±•è¶‹åŠ¿ï¼Œå¹¶ç»™å‡ºæŠ•èµ„å»ºè®®"</span>
Â  Â Â 
Â  Â  result =Â <span class="hljs-keyword">await</span>Â master.run(query)
Â  Â Â 
Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n<span class="hljs-subst">{<span class="hljs-string">'='</span>*<span class="hljs-number">60</span>}</span>"</span>)
Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ“Š æœ€ç»ˆæŠ¥å‘Š"</span>)
Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{<span class="hljs-string">'='</span>*<span class="hljs-number">60</span>}</span>"</span>)
Â  Â  <span class="hljs-built_in">print</span>(result)

<span class="hljs-keyword">if</span>Â __name__ ==Â <span class="hljs-string">"__main__"</span>:
Â  Â  asyncio.run(main())
</code></pre>
<h3 data-id="heading-11">å¯é æ€§å’Œå·¥ç¨‹æŒ‘æˆ˜</h3>
<p>åœ¨ä¼ ç»Ÿè½¯ä»¶ä¸­ï¼Œä¸€ä¸ªé”™è¯¯å¯èƒ½ä¼šå¯¼è‡´åŠŸèƒ½å¤±æ•ˆã€æ€§èƒ½ä¸‹é™æˆ–ç³»ç»Ÿå®•æœºï¼Œè€Œåœ¨æ™ºèƒ½ä½“ç³»ç»Ÿä¸­ï¼Œå¾®å°çš„å˜åŒ–ä¹Ÿä¼šå¼•å‘å·¨å¤§çš„è¡Œä¸ºæ”¹å˜ï¼Œè¿™ä½¿å¾—ä¸ºéœ€è¦åœ¨é•¿æ—¶é—´è¿è¡Œçš„è¿›ç¨‹ä¸­ç»´æŠ¤çŠ¶æ€çš„å¤æ‚æ™ºèƒ½ä½“ç¼–å†™ä»£ç å˜å¾—å¼‚å¸¸å›°éš¾ï¼Œé‚£æˆ‘ä»¬åº”è¯¥æ€ä¹ˆåšï¼Ÿ</p>
<ul>
<li>æ™ºèƒ½ä½“æ˜¯æœ‰çŠ¶æ€çš„ï¼Œé”™è¯¯ä¼šä¸æ–­ç´¯ç§¯ï¼Œæˆ‘ä»¬éœ€è¦åšå¥½å®¹é”™å’Œæ²™ç›’ç¯å¢ƒã€‚<br/>
æ™ºèƒ½ä½“å¯ä»¥é•¿æ—¶é—´è¿è¡Œï¼Œå¹¶åœ¨å¤šæ¬¡å·¥å…·è°ƒç”¨ä¸­ä¿æŒçŠ¶æ€ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬éœ€è¦æŒä¹…åœ°æ‰§è¡Œä»£ç ï¼Œå¹¶åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¤„ç†é”™è¯¯ï¼Œå¦‚æœæ²¡æœ‰æœ‰æ•ˆçš„ç¼“è§£æªæ–½ï¼Œå³ä½¿æ˜¯è½»å¾®çš„ç³»ç»Ÿæ•…éšœä¹Ÿå¯èƒ½å¯¹æ™ºèƒ½ä½“é€ æˆç¾éš¾æ€§åæœï¼Œå½“é”™è¯¯å‘ç”Ÿæ—¶ï¼Œæˆ‘ä»¬ä¸èƒ½ç®€å•åœ°ä»å¤´å¼€å§‹ï¼šé‡å¯æˆæœ¬é«˜æ˜‚ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æ„å»ºå¯ä»¥ä»é”™è¯¯å‘ç”Ÿæ—¶æ™ºèƒ½ä½“æ‰€åœ¨ä½ç½®æ¢å¤è¿è¡Œçš„ç³»ç»Ÿã€‚</li>
<li>æ„å»ºå®Œæ•´çš„å¯è§‚æµ‹ç³»ç»Ÿï¼Œå¦‚æœæŸä¸ªæ™ºèƒ½ä½“ä¸ç¬¦åˆé¢„æœŸï¼Œåº”è¯¥åˆ†æåŸå› ã€‚<br/>
æ™ºèƒ½ä½“ä¼šåšå‡ºåŠ¨æ€å†³ç­–ï¼Œå³ä½¿æç¤ºä¿¡æ¯å®Œå…¨ç›¸åŒï¼Œæ¯æ¬¡è¿è¡Œçš„ç»“æœä¹Ÿå¹¶ä¸ç¡®å®šï¼Œè¿™ä½¿å¾—è°ƒè¯•æ›´åŠ å›°éš¾ï¼Œæ™ºèƒ½ä½“ä½¿ç”¨äº†é”™è¯¯çš„æœç´¢æŸ¥è¯¢ï¼Ÿé€‰æ‹©äº†ä¸åˆé€‚çš„æ•°æ®æºï¼Ÿè¿˜æ˜¯é‡åˆ°äº†å·¥å…·æ•…éšœï¼Ÿæ·»åŠ å®Œæ•´çš„ç”Ÿäº§ç¯å¢ƒè·Ÿè¸ªåŠŸèƒ½åï¼Œæˆ‘ä»¬èƒ½å¤Ÿè¯Šæ–­æ™ºèƒ½ä½“æ•…éšœçš„åŸå› å¹¶ç³»ç»Ÿåœ°ä¿®å¤é—®é¢˜ï¼Œé™¤äº†æ ‡å‡†çš„å¯è§‚æµ‹æ€§ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜ç›‘æ§æ™ºèƒ½ä½“çš„å†³ç­–æ¨¡å¼å’Œäº¤äº’ç»“æ„ï¼Œè¿™ç§é«˜å±‚æ¬¡çš„å¯è§‚æµ‹æ€§å¸®åŠ©æˆ‘ä»¬è¯Šæ–­æ ¹æœ¬åŸå› ã€å‘ç°å¼‚å¸¸è¡Œä¸ºå¹¶ä¿®å¤å¸¸è§æ•…éšœã€‚</li>
<li>æ™ºèƒ½ä½“åŒæ­¥æ‰§è¡Œä¼šé€ æˆç“¶é¢ˆï¼Œå°½å¯èƒ½ä½¿ç”¨å¹¶è¡Œå¤„ç†ã€‚<br/>
ä¸»æ™ºèƒ½ä½“åŒæ­¥æ‰§è¡Œå­æ™ºèƒ½ä½“ï¼Œç­‰å¾…æ¯ç»„å­æ™ºèƒ½ä½“å®Œæˆä»»åŠ¡åå†ç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªï¼Œè¿™ç®€åŒ–äº†åè°ƒï¼Œä½†ä¹Ÿé€ æˆäº†æ™ºèƒ½ä½“é—´ä¿¡æ¯æµçš„ç“¶é¢ˆï¼Œä¾‹å¦‚ï¼Œä¸»æ™ºèƒ½ä½“æ— æ³•æ§åˆ¶å­ä»£æ™ºèƒ½ä½“ï¼Œå­æ™ºèƒ½ä½“ä¹‹é—´ä¹Ÿæ— æ³•åè°ƒï¼Œæ•´ä¸ªç³»ç»Ÿå¯èƒ½ä¼šå› ä¸ºç­‰å¾…å•ä¸ªå­æ™ºèƒ½ä½“å®Œæˆæœç´¢è€Œè¢«é˜»å¡ï¼Œå¼‚æ­¥æ‰§è¡Œå¯ä»¥å®ç°æ›´é«˜çš„å¹¶è¡Œæ€§ï¼šæ™ºèƒ½ä½“å¯ä»¥å¹¶å‘å·¥ä½œï¼Œå¹¶åœ¨éœ€è¦æ—¶åˆ›å»ºæ–°çš„å­æ™ºèƒ½ä½“ï¼Œå½“ç„¶è¿™ç§å¼‚æ­¥æ€§ä¹Ÿå¸¦æ¥äº†ç»“æœåè°ƒã€çŠ¶æ€ä¸€è‡´æ€§å’Œé”™è¯¯åœ¨å­æ™ºèƒ½ä½“é—´ä¼ æ’­æ–¹é¢çš„æŒ‘æˆ˜ã€‚</li>
<li>æ™ºèƒ½ä½“çš„å¯æµ‹è¯•æ€§åœ¨çº¿ä¸Šè¿è¡Œååˆ†é‡è¦ã€‚<br/>
ä¼ ç»Ÿçš„è½¯ä»¶å¯¹ä¸€äº›å­åŠŸèƒ½æˆ‘ä»¬é€šå¸¸ä¼šè¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œè¿™ä¸ªåŠŸèƒ½ç‚¹åŒæ ·é€‚ç”¨äºæ„å»ºçš„æ™ºèƒ½ä½“ï¼Œç‰¹åˆ«æ˜¯å¯¹äºé‚£äº›å¸Œæœ›è¾“å…¥å’Œè¾“å‡ºéœ€è¦ä¿æŒä¸€è‡´æ€§çš„æ™ºèƒ½ä½“ç³»ç»Ÿï¼Œé‚£è¯¥å¦‚ä½•å®ç°ï¼Ÿé¦–å…ˆæ™ºèƒ½ä½“åŠŸèƒ½æµ‹è¯•ä¸åº”è¯¥ä¾èµ–å•ä¸ªå¤§æ¨¡å‹ï¼›å…¶æ¬¡å°†åŠŸèƒ½æµ‹è¯•ç”¨ä¾‹æ‹†åˆ†è¾“å…¥å’Œé¢„æœŸè¾“å‡ºï¼Œå¯¹äºä¸€äº›å¼ºæ ¡éªŒçš„åŠŸèƒ½ï¼Œæ™ºèƒ½ä½“è°ƒç”¨å­æ™ºèƒ½ä½“å’Œç³»ç»ŸAPIçš„æ‰€æœ‰çš„è¾“å‡ºåº”è¯¥ä¿æŒé¢„æœŸæµ‹è¯•æ‰§è¡Œæµç¨‹ä¸€è‡´ï¼Œæ‰ç®—é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼›æœ€åå¤§æ¨¡å‹å¤šæ¬¡å¯¹ç›¸åŒçš„è¾“å…¥ä¸ä¸€å®šè·å¾—ç›¸åŒçš„ç»“æœï¼Œæ‰€ä»¥æµ‹è¯•ç”¨ä¾‹åº”è¯¥æ˜¯å¤šæ¬¡è¿è¡Œï¼Œé€šè¿‡ç‡åº”è¯¥é€šè¿‡æ¬¡æ•°/æ‰§è¡Œæ¬¡æ•°çš„æ–¹å¼æ¥ç»Ÿè®¡ã€‚</li>
</ul>
<h2 data-id="heading-12">å‚è€ƒ</h2>
<p>ï¼ˆ1ï¼‰<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.kaggle.com%2Flearn-guide%2F5-day-agents" target="_blank" title="https://www.kaggle.com/learn-guide/5-day-agents" ref="nofollow noopener noreferrer">www.kaggle.com/learn-guideâ€¦</a><br/>
ï¼ˆ2ï¼‰<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmicrosoft%2Fai-agents-for-beginners%2Fblob%2Fmain%2Ftranslations%2Fzh%2FREADME.md" target="_blank" title="https://github.com/microsoft/ai-agents-for-beginners/blob/main/translations/zh/README.md" ref="nofollow noopener noreferrer">github.com/microsoft/aâ€¦</a><br/>
ï¼ˆ3ï¼‰<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FHuggingAGI%2FAwesomeAgentPapers" target="_blank" title="https://github.com/HuggingAGI/AwesomeAgentPapers" ref="nofollow noopener noreferrer">github.com/HuggingAGI/â€¦</a><br/>
ï¼ˆ4ï¼‰<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anthropic.com%2Fengineering%2Fbuilding-effective-agents" target="_blank" title="https://www.anthropic.com/engineering/building-effective-agents" ref="nofollow noopener noreferrer">www.anthropic.com/engineeringâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å®Œè›‹äº†ï¼Œç”¨æˆ·ç™»å½•tokené›†ä½“å¤±æ•ˆï¼Œæˆ‘çš„æ‹–å­—è¯€è¿˜æ˜¯å¥½ç”¨]]></title>    <link>https://juejin.cn/post/7591346773827223578</link>    <guid>https://juejin.cn/post/7591346773827223578</guid>    <pubDate>2026-01-04T11:00:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591346773827223578" data-draft-id="7591346773827190810" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å®Œè›‹äº†ï¼Œç”¨æˆ·ç™»å½•tokené›†ä½“å¤±æ•ˆï¼Œæˆ‘çš„æ‹–å­—è¯€è¿˜æ˜¯å¥½ç”¨"/> <meta itemprop="keywords" content="Redis"/> <meta itemprop="datePublished" content="2026-01-04T11:00:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çº¸ä»“"/> <meta itemprop="url" content="https://juejin.cn/user/1812410601572599"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å®Œè›‹äº†ï¼Œç”¨æˆ·ç™»å½•tokené›†ä½“å¤±æ•ˆï¼Œæˆ‘çš„æ‹–å­—è¯€è¿˜æ˜¯å¥½ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1812410601572599/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çº¸ä»“
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T11:00:46.000Z" title="Sun Jan 04 2026 11:00:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å‰ä¸¤å¤©æµ‹è¯•åŒå­¦åœ¨ç¾¤é‡Œåé¦ˆè¯´æµ‹è¯•ç¯å¢ƒç»å¸¸ä¼šè‡ªåŠ¨é€€å‡ºç™»å½•ï¼Œéœ€è¦æ‰‹åŠ¨é‡æ–°ç™»å½•ï¼Œå¾ˆéº»çƒ¦ã€‚</p>
<p>æœ¬ç€ä¸ä¸»åŠ¨æ½æ´»çš„åŸåˆ™ï¼Œæˆ‘å½“æ—¶çœ¼ç›çªç„¶å°±çäº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b867af0b34d04a5ca4734adfb87f41be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57q45LuT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768129246&amp;x-signature=C1CVKl%2FQ8b%2FP3mr8OVWtCxXfsIE%3D" alt="image.png" loading="lazy"/></p>
<p>å¥½æ™¯è¯´é•¿ä¹Ÿé•¿è¯´çŸ­ä¹ŸçŸ­ï¼Œ5ä¸ªæœˆä¹‹åï¼Œå…¶ä»–åŒäº‹ä¹Ÿé™†ç»­åé¦ˆï¼Œä¼°è®¡çœŸå—ä¸äº†äº†ã€‚</p>
<p>è€å¤§ç‰¹æ„@äº†æˆ‘ï¼Œæˆ‘å½“æ—¶çœ¼ç›ä¹Ÿæ­£å¥½çäº†ï¼Œä¸è¿‡æœ‰ä¸€ä¸ªå‰ç«¯åŒå­¦çœ¼ç›è´¼å¥½ã€‚è€å¤§é¡ºå¸¦@äº†ä»–ï¼Œä»–è¯´ä»–è¦è¯•è¯•ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/214901dc3a364f6b8f051b0c2d9e2442~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57q45LuT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768129246&amp;x-signature=JHT9Pg6PC2b34vFsSvYU%2BjujFfU%3D" alt="image.png" loading="lazy"/></p>
<p>ç¡®å® token æœ‰å¯èƒ½å‰ç«¯â€œæ— æ„é—´â€è°ƒç”¨äº†ç™»å‡ºæ¥å£ï¼Œå¯¼è‡´çš„è¿‡æœŸã€‚è¿™ä¸ªæƒ³æ³•éå¸¸åˆç†ã€‚</p>
<p>æˆ‘æ‰¿è®¤æˆ‘åº”è¯¥å‘ä»–å­¦ä¹ çš„ï¼Œä½†æˆ‘æ‰‹ä¸Šçš„æ´»å®åœ¨æ˜¯å¤ªå¤šäº†ã€‚æ¯æ¬¡å’Œ AI ç¥ä»™æ‰“æ¶ï¼ŒAI éƒ½è¡¨ç°å¾—è·Ÿæ¡æ­»é±¼ä¸€æ ·ï¼Œæˆ‘ä¸å¾—ä¸èŠ±æ—¶é—´å’Œå¥¹å¤šè¯´å‡ æ¬¡ï¼šâ€œç»™æˆ‘å¯ä»¥è¿è¡Œçš„ä»£ç ï¼ï¼ï¼â€</p>
<p>åé¢å‰ç«¯å“¥ä»¬ä¼°è®¡ä¹Ÿæ˜¯æ‰¾ä¸å‡ºåŸå› æ¥ï¼Œè¿™ä¸ªäº‹æƒ…å°±åˆæç½®ä¸‹æ¥äº†ï¼Œæ²¡äººè®°å¾—æˆ‘ï¼Œä¹Ÿæ²¡äººåœ¨ä¹æˆ‘ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/229fe39545ec410880871653d8f6fad7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57q45LuT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768129246&amp;x-signature=ULNTPgfT3bOY%2BhT55sH8TxWqdp0%3D" alt="image.png" loading="lazy"/></p>
<p>ç—›å—ï¼Ÿæ€ä¹ˆå¯èƒ½ç—›ï¼Ÿçˆ½é£äº†ã€‚</p>
<p>ä½†æ˜¯ï¼Œä½†æ˜¯ï¼Œä½†æ˜¯ã€‚å¥½æ™¯å†ä¸€æ¬¡ä¸é•¿ã€‚è¿™æ¬¡è€å¤§ç›´æ¥@æˆ‘ä¸€ä¸ªäººäº†ï¼Œè¦å‘½çš„æ˜¯è€æ¿è¿˜ç‚¹äº†ä¸ª+1ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73f74e6fe3314d1da2cefdece59c53a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57q45LuT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768129246&amp;x-signature=%2BecHEzjFuaNBIeFSJx1U7WfxHHc%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸ºäº†é¿å…å¹´åº•å–œæå¹´ç»ˆï¼Œæˆ‘ä¸å¾—ä¸å…ˆåº”ä¸‹æ¥ï¼Œä½†ä¹Ÿæ˜¯èƒ½æ‹–å°±æ‹–ã€‚æ¯•ç«Ÿå’Œ AI ç¥ä»™æ‰“æ¶å¥½ç©ç‚¹ï¼Œçœ‹èµ·æ¥å°±æ˜¯åœ¨ä½¿ç”¨å‰æ²¿ç§‘æŠ€ vibe codingï¼Œå®é™…ä¸Šå°±æ˜¯å’Œ AI å¯¹çº¿æ‰­æ‰“ã€‚</p>
<p>æ¯å¤©çš„ç±»ä¸å†æ˜¯èº«ä½“çš„ï¼Œè€Œæ˜¯éª‚ä¸è¿‡ AI çš„å¿ƒç´¯ã€‚å“ï¼ŒåŒæ—¶ä»£ç å†™çš„ä¾æ‰˜ç­”è¾©ï¼Œæˆ‘è¿˜èƒ½å–·èµ¢ä»–ã€‚å¦‚ä»Šè¿æœºå™¨äººå†™å‡ºä¾æ‰˜ç­”è¾©å‡ºæ¥ï¼Œæˆ‘éƒ½éª‚ä¸è¿‡ï¼Œæˆ‘çœŸæ˜¯ä¸ªåƒåœ¾å•Šã€‚</p>
<p>ç©å½’ç©é—¹å½’é—¹ï¼Œæ‰¾bugè¿˜å¾—æœ‰äººé ã€‚äºæ˜¯æˆ‘å¹¿å‘è‹±é›„å¸–ï¼Œå¾æ±‚å„å¤§ AI å¤§ä½¬çš„æ„è§ã€‚ä»–ä»¬ä»æ²¡å¦‚æ­¤ä¸€è‡´è¿‡ï¼Œè¯´æ˜¯æˆ‘çš„ç”¨æˆ·ç™»å½•æ€è¿‡æœŸäº†ï¼Œæˆ–è€…æ˜¯è¯¯åˆ äº†ã€‚</p>
<p>è¦ä¸æˆ‘å­¦è¿‡ç‚¹ Redis çš®æ¯›è¿˜çœŸè¢«è¿™äº›å¸¦ä½¬è’™è¿‡å»äº†ã€‚é„™äººæƒ³å·æ‡’æ‰è®©ä½ ä»¬åˆ†æï¼Œåˆ†æä¸å¯¹æˆ‘è‡ªå·±ä¹Ÿç•¥æ‡‚ä¸€äº›æ‹³è„šã€‚</p>
<p>å†æ¥å›çœ‹ bug çš„è¡¨ç°ï¼š</p>
<ul>
<li>æ²¡æœ‰ç™»å‡ºçš„æ—¶å€™tokenå¤±æ•ˆäº†</li>
<li>å‡ ä¸ªäººé›†ä½“å‘ç”Ÿ</li>
<li>ç”Ÿäº§ç¯å¢ƒæ²¡æœ‰å‡ºç°</li>
<li>ç”Ÿäº§ç¯å¢ƒå’Œæµ‹è¯•ç¯å¢ƒä»£ç ä¸€æ ·</li>
<li>è¿‘æœŸæ²¡æœ‰æ”¹åŠ¨è´¦æˆ·æœåŠ¡</li>
</ul>
<p>ä»£ç ä¸€æ ·ï¼Œé‚£å°±æ‰¾ä¸ä¸€æ ·çš„ã€‚é‚£æ¯”è¾ƒæ˜æ˜¾äº†ï¼Œç¯å¢ƒä¸ä¸€æ ·ï¼Œä¸€ä¸ªå«ç”Ÿäº§ä¸€ä¸ªå«æµ‹è¯•ã€‚å˜¿å˜¿</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a22add561c604442bf6cd167a9c78f39~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57q45LuT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768129246&amp;x-signature=3OP%2Bvr0%2FhXRknNoH3Ne1f72VtW8%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™å°±æ¶‰åŠåˆ°ä¸€ä¸ªå“²å­¦é—®é¢˜ï¼šæµ‹è¯•ç¯å¢ƒä¸ºä»€ä¹ˆå«æµ‹è¯•ç¯å¢ƒï¼Ÿç”Ÿäº§ç¯å¢ƒä¸ºä»€ä¹ˆå«ç”Ÿäº§ç¯å¢ƒï¼Ÿ</p>
<p>ä¸€èˆ¬æ¥è¯´å°±æ˜¯æµ‹è¯•ç¯å¢ƒæ˜¯ç”¨æ¥æµ‹è¯•çš„ï¼Œæ­£å¼ç¯å¢ƒä¸€èˆ¬æ˜¯ç»™ç”¨æˆ·ç”¨æ¥ç”Ÿäº§çš„ã€‚ç‰›é€¼å§ï¼Ÿ</p>
<p>è¯´äººè¯å°±æ˜¯æµ‹è¯•ç¯å¢ƒæ˜¯ç»™å†…éƒ¨äººç”¨çš„ï¼Œæ­£å¼ç¯å¢ƒæ˜¯ç»™ä¹‰çˆ¶ä»¬ç”¨çš„ã€‚</p>
<p>å†è¯´äººè¯å°±æ˜¯ï¼Œå†…éƒ¨äººèƒ½æœ‰å‡ ä¸ªäººï¼Œè€æ¿ç»™ä¸ªé…ç½®æœ€å·®çš„ Redisï¼Œä½ éƒ½ä¸èƒ½æ€¨ä»–ã€‚</p>
<p>æ‰€ä»¥æˆ‘çš„çŒœæƒ³æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå°±æ˜¯ç”Ÿäº§ç¯å¢ƒçš„ Redis é…ç½®å¾ˆé«˜ï¼Œæµ‹è¯•ç¯å¢ƒçš„é…ç½®å¾ˆä½ã€‚</p>
<p>Redis ç”¨çš„é»˜è®¤çš„å†…å­˜ç­–ç•¥ LRUï¼Œæ‰€ä»¥å†…å­˜æ»¡äº†å°±ä¼šé©±é€ä¸€éƒ¨åˆ† Keyã€‚</p>
<p>æœ‰äº†è¿™ä¸ªçŒœæƒ³ï¼Œæ¥ä¸‹æˆ‘ä»¬å°±è¦æ¥éªŒè¯ä¸€ä¸‹çŒœæƒ³æ˜¯å¦å‡†ç¡®ï¼Ÿ</p>
<p>æˆ‘çœ‹äº†ä¸€ä¸‹ç”Ÿäº§ç¯å¢ƒå’Œæµ‹è¯•ç¯å¢ƒä¹‹é—´çš„å·®ä¸åˆ«ï¼Œä½ çŒœæ€ä¹ˆç€ï¼Ÿ</p>
<p>æµ‹è¯•å’Œç”Ÿäº§ä¹‹é—´çš„å·®åˆ«å°±æ˜¯ï¼šç”Ÿäº§çš„ Redis å†…å­˜ 256Gï¼Œæµ‹è¯•çš„ Redis å†…å­˜ 16Mã€‚</p>
<p>æ˜¯çš„ä½ å¦¹çœ‹é”™ï¼Œæ˜¯16Mã€‚ä¸æ˜¯16Gä¹Ÿä¸æ˜¯256Mï¼Œè€Œæ˜¯æ•´æ•´16Må•Šã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b7d893fbe984f94a4764b5ec89cdff6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57q45LuT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768129246&amp;x-signature=MzdbMlsAp2h8fw3HPGk72RtTbO4%3D" alt="image.png" loading="lazy"/></p>
<p>å¤šç£¨å‹¤ä¿­æŒå®¶çš„è€æ¿å•Šï¼Œä¸ºäº†çœä¸‹ç‚¹é’±ç»™æˆ‘ä»¬å‘å¹´ç»ˆï¼Œæ¶¨å·¥èµ„ã€‚</p>
<p>ä»–éƒ½ä¸æƒœä¹°æœ€ä½é…çš„æœåŠ¡å™¨ï¼Œç»™è‡ªå·±ä¹°æœ€ä½é…çš„è·‘è½¦ã€‚ä¸€åˆ‡éƒ½æ˜¯ä¸ºäº†å‘˜å·¥çš„æ”¶å…¥ï¼Œä¹Ÿèƒ½ç†è§£ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b984e502db2140c3874016e1acabc416~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57q45LuT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768129246&amp;x-signature=jRWJG9iJYOT4dHwTZN3LmChtTEs%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™ä¸ªé…ç½®æ–‡ä»¶æ˜¾ç¤ºæµ‹è¯•ç¯å¢ƒè¿è¡Œçš„ Redis å°±æ˜¯16Mçš„å†…å­˜ï¼Œè¿˜æ˜¾ç¤ºè¾¾åˆ°æœ€å¤§å†…å­˜æ—¶çš„æ·˜æ±°ç­–ç•¥æ˜¯ lruã€‚</p>
<p>ä¹Ÿå°±æ˜¯å†…å­˜æ»¡æ—¶ï¼ŒæŠŠæœ€è¿‘æœ€å°‘ä½¿ç”¨çš„keyç»™å¹²æ‰ï¼Œè…¾å‡ºå­˜å‚¨ç©ºé—´æ¥ã€‚</p>
<p>ä¸ä¿¡é‚ªå¯ä»¥åœ¨ Redis-cli æ‰§è¡Œå‘½ä»¤çœ‹çœ‹å®é™…ä¸Šæ˜¯ä¸æ˜¯è¿™æ ·</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">&gt; </span><span class="bash">INFO MEMORY</span>
<span class="hljs-meta prompt_"># </span><span class="bash">Memory</span>
used_memory_human:8.47M
maxmemory_human:16.00M
maxmemory_policy:allkeys-lru
....

</code></pre>
<p>å¿ƒæ­»äº†ï¼Œè¿˜çœŸæ˜¯ï¼Œå†æŸ¥ä¸€ä¸‹è¢«é©±é€çš„ key æœ‰å¤šå°‘</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">&gt; </span><span class="bash">INFO STATS</span>
<span class="hljs-meta prompt_"># </span><span class="bash">Stats</span>
evicted_keys:53725
...

</code></pre>
<p>è¿™ä¸‹å¿ƒæ­»é€äº†ï¼Œç›´æ¥è”ç³»è€æ¿æ‰‹ä¸‹çš„è¿ç»´å¤§å°†ï¼Œèƒ½ä¸èƒ½å°† 16M çš„ Redis åšä¸ªå‡çº§ï¼Œå‡çº§åˆ° 32Mï¼Ÿ</p>
<p>æ²¡æƒ³åˆ°è¿ç»´å¤§å°†ç«Ÿç„¶ç›´æ¥ç­”åº”äº†ï¼Œè¿˜ç»™å‡çº§åˆ°äº† 256Mï¼Œæˆ‘çœŸæ˜¯å¤ªæ„Ÿè°¢ä»–äº†ã€‚è¿˜å¥½æœ‰ä»–ï¼Œä¸ç„¶æˆ‘å…ƒæ—¦å‡ºé—¨éƒ½è¦å¸¦ç”µè„‘ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44ca157c4f064be1a3aabacc756ac045~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57q45LuT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768129246&amp;x-signature=teh%2FoJmkDttFa5CrVcoLbDFDk%2FQ%3D" alt="image.png" loading="lazy"/></p>
<p>å°±é…±ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80afa95826974743a17bea63e54fa848~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57q45LuT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768129246&amp;x-signature=TTcsDd%2BM%2FxZbcaVZ5rJJUJ0jCq4%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Gemini Chat Completion API ç”³è¯·åŠä½¿ç”¨]]></title>    <link>https://juejin.cn/post/7591156262625902627</link>    <guid>https://juejin.cn/post/7591156262625902627</guid>    <pubDate>2026-01-04T11:01:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591156262625902627" data-draft-id="7591330139082899471" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Gemini Chat Completion API ç”³è¯·åŠä½¿ç”¨"/> <meta itemprop="keywords" content="Gemini,ChatGPT,API"/> <meta itemprop="datePublished" content="2026-01-04T11:01:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å´”åº†æ‰ä¸¨é™è§…"/> <meta itemprop="url" content="https://juejin.cn/user/1521379821230269"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Gemini Chat Completion API ç”³è¯·åŠä½¿ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1521379821230269/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å´”åº†æ‰ä¸¨é™è§…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T11:01:33.000Z" title="Sun Jan 04 2026 11:01:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Google Gemini æ˜¯ä¸€æ¬¾éå¸¸å¼ºå¤§çš„ AI å¯¹è¯ç³»ç»Ÿï¼Œåªè¦è¾“å…¥æç¤ºè¯ï¼Œå°±èƒ½åœ¨çŸ­çŸ­å‡ ç§’å†…ç”Ÿæˆæµç•…è‡ªç„¶çš„å›å¤ã€‚Gemini éƒ½èƒ½æä¾›ä»¤äººæƒŠå¹çš„æ™ºèƒ½ååŠ©ï¼Œæå¤§åœ°æé«˜äº†äººç±»çš„å·¥ä½œæ•ˆç‡å’Œåˆ›é€ åŠ›ã€‚</p>
<p>æœ¬æ–‡æ¡£ä¸»è¦ä»‹ç» Gemini Chat Completion API æ“ä½œçš„ä½¿ç”¨æµç¨‹ï¼Œåˆ©ç”¨å®ƒæˆ‘ä»¬å¯ä»¥è½»æ¾ä½¿ç”¨å®˜æ–¹ Gemini çš„å¯¹è¯åŠŸèƒ½ã€‚</p>
<h2 data-id="heading-0">ç”³è¯·æµç¨‹</h2>
<p>è¦ä½¿ç”¨ Gemini Chat Completion APIï¼Œé¦–å…ˆå¯ä»¥åˆ° <a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.acedata.cloud%2Fdocuments%2Fae54bf9b-af41-4072-b969-3756b6d66834" target="_blank" title="https://platform.acedata.cloud/documents/ae54bf9b-af41-4072-b969-3756b6d66834" ref="nofollow noopener noreferrer">Gemini Chat Completion API</a> é¡µé¢ç‚¹å‡»ã€ŒAcquireã€æŒ‰é’®ï¼Œè·å–è¯·æ±‚æ‰€éœ€è¦çš„å‡­è¯ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2c0942732834f97b2988261219becfb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768129292&amp;x-signature=N9dnyGNEk4OCusElZPAUkFtABeM%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœä½ å°šæœªç™»å½•æˆ–æ³¨å†Œï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µé¢é‚€è¯·æ‚¨æ¥æ³¨å†Œå’Œç™»å½•ï¼Œç™»å½•æ³¨å†Œä¹‹åä¼šè‡ªåŠ¨è¿”å›å½“å‰é¡µé¢ã€‚</p>
<p>åœ¨é¦–æ¬¡ç”³è¯·æ—¶ä¼šæœ‰å…è´¹é¢åº¦èµ é€ï¼Œå¯ä»¥å…è´¹ä½¿ç”¨è¯¥ APIã€‚</p>
<h2 data-id="heading-1">åŸºæœ¬ä½¿ç”¨</h2>
<p>æ¥ä¸‹æ¥å°±å¯ä»¥åœ¨ç•Œé¢ä¸Šå¡«å†™å¯¹åº”çš„å†…å®¹ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f49faf02a464bcd9786706cf4c0ce88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768129292&amp;x-signature=jxrtsoEgANLF6460vNV%2BvYNfglY%3D" width="400" class="m-auto" loading="lazy"/></p>
<p>åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨è¯¥æ¥å£æ—¶ï¼Œæˆ‘ä»¬è‡³å°‘éœ€è¦å¡«å†™ä¸‰ä¸ªå†…å®¹ï¼Œä¸€ä¸ªæ˜¯ <code>authorization</code>ï¼Œç›´æ¥åœ¨ä¸‹æ‹‰åˆ—è¡¨é‡Œé¢é€‰æ‹©å³å¯ã€‚å¦ä¸€ä¸ªå‚æ•°æ˜¯ <code>model</code>ï¼Œ <code>model</code> å°±æ˜¯æˆ‘ä»¬é€‰æ‹©ä½¿ç”¨ Gemini å®˜ç½‘æ¨¡å‹ç±»åˆ«ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸»è¦æœ‰ 6 ç§æ¨¡å‹ï¼Œè¯¦æƒ…å¯ä»¥çœ‹æˆ‘ä»¬æä¾›çš„æ¨¡å‹ã€‚æœ€åä¸€ä¸ªå‚æ•°æ˜¯<code>messages</code>ï¼Œ<code>messages</code>æ˜¯æˆ‘ä»¬è¾“å…¥çš„æé—®è¯æ•°ç»„ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¡¨ç¤ºå¯ä»¥åŒæ—¶ä¸Šä¼ å¤šä¸ªæé—®è¯ï¼Œæ¯ä¸ªæé—®è¯åŒ…å«äº† <code>role</code> å’Œ <code>content</code>ï¼Œå…¶ä¸­ <code>role</code> è¡¨ç¤ºæé—®è€…çš„è§’è‰²ï¼Œæˆ‘ä»¬æä¾›äº†ä¸‰ç§èº«ä»½ï¼Œåˆ†åˆ«ä¸º <code>user</code> ã€<code>assistant</code>ã€<code>system</code> ã€‚å¦ä¸€ä¸ª <code>content</code> å°±æ˜¯æˆ‘ä»¬æé—®çš„å…·ä½“å†…å®¹ã€‚</p>
<p>åŒæ—¶æ‚¨å¯ä»¥æ³¨æ„åˆ°å³ä¾§æœ‰å¯¹åº”çš„è°ƒç”¨ä»£ç ç”Ÿæˆï¼Œæ‚¨å¯ä»¥å¤åˆ¶ä»£ç ç›´æ¥è¿è¡Œï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç‚¹å‡»ã€ŒTryã€æŒ‰é’®è¿›è¡Œæµ‹è¯•ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3200cf144b4d4aca88a1e32621b52ca4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768129292&amp;x-signature=j55w7iX6PI1drFcGipKPp2HhpQw%3D" width="400" class="m-auto" loading="lazy"/></p>
<p>è°ƒç”¨ä¹‹åï¼Œæˆ‘ä»¬å‘ç°è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chatcmpl-20251122212413908150493uPhjTUO9"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-2.5-pro"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chat.completion"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"created"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763817866</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"choices"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"assistant"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"I am a large language model, trained by Google."</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"reasoning_content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"**My Reasoning: Answering the User's Question**\n\nOkay, here's how I'm going to approach answering the user's question, \"What model are you?\". The core is to be direct and informative. First, I have to be clear about my origin. Then, I need to make sure the explanation is accessible, given that the user may not be familiar with technical jargon. I need to explain what a \"large language model\" actually *does*, and provide relatable examples. I know the user might be looking for a specific name, like other models have, so I'll address that directly and then wrap it up with an invitation to continue.\n\nSo, here's my plan:\n\n1.  **Lead with the key info:** I'll begin by stating that I am a large language model created by Google. That is the fundamental, most critical piece of the puzzle.\n2.  **Define the buzzword:** Then, I'll explain that \"large language model\" in simple terms. I'll explain what I *do* - process and generate text; how I *do* it - by training on huge amounts of text data; and the *goal* - to be able to communicate like a human.\n3.  **Provide context:** After that, to make the concept even clearer, I'll provide a list of examples of my capabilities. I'll mention things like answering questions, summarizing texts, writing stories, translating languages, and brainstorming ideas.\n4.  **Acknowledge the lack of a personal name:** I'll anticipate the likely question about a model name (like ChatGPT) by clearly stating that I don't have a personal name and that it's best to think of me as an AI assistant from Google.\n5.  **End with an invitation:** Lastly, I'll end with a simple, friendly question to invite further interaction and to guide the conversation.\n\nWith this approach, I am confident I can successfully answer this important question.\n"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"finish_reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"stop"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"prompt_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"completion_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">932</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"total_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">940</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"prompt_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"cached_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"text_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"audio_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"image_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"completion_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"text_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"audio_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"reasoning_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">921</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"input_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"output_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"input_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"claude_cache_creation_5_m_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"claude_cache_creation_1_h_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿”å›ç»“æœä¸€å…±æœ‰å¤šä¸ªå­—æ®µï¼Œä»‹ç»å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>id</code>ï¼Œç”Ÿæˆæ­¤æ¬¡å¯¹è¯ä»»åŠ¡çš„ IDï¼Œç”¨äºå”¯ä¸€æ ‡è¯†æ­¤æ¬¡å¯¹è¯ä»»åŠ¡ã€‚</li>
<li><code>model </code>ï¼Œé€‰æ‹©çš„ Gemini å®˜ç½‘æ¨¡å‹ã€‚</li>
<li><code>choices</code>ï¼ŒGemini é’ˆå¯¹æé—®è¯ç»™äºçš„å›ç­”ä¿¡æ¯ã€‚</li>
<li><code>usage </code>ï¼šé’ˆå¯¹æœ¬æ¬¡é—®ç­”å¯¹ token çš„ç»Ÿè®¡ä¿¡æ¯ã€‚</li>
</ul>
<p>å…¶ä¸­ <code>choices</code> æ˜¯åŒ…å«äº† Gemini çš„å›ç­”ä¿¡æ¯ï¼Œå®ƒé‡Œé¢çš„ <code>choices</code> æ˜¯ Geminiå›ç­”çš„å…·ä½“ä¿¡æ¯ï¼Œå¯ä»¥å‘ç°å¦‚å›¾æ‰€ç¤ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c43b1d733fcf40be8cc74dce7afa63f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768129292&amp;x-signature=4Tujg%2FDuQPcHgOv%2BLuztpq0tvUM%3D" width="400" class="m-auto" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>choices</code> é‡Œé¢çš„ <code>content</code> å­—æ®µåŒ…å«äº† Gemini å›å¤çš„å…·ä½“å†…å®¹ã€‚</p>
<h2 data-id="heading-2">æµå¼å“åº”</h2>
<p>è¯¥æ¥å£ä¹Ÿæ”¯æŒæµå¼å“åº”ï¼Œè¿™å¯¹ç½‘é¡µå¯¹æ¥ååˆ†æœ‰ç”¨ï¼Œå¯ä»¥è®©ç½‘é¡µå®ç°é€å­—æ˜¾ç¤ºæ•ˆæœã€‚</p>
<p>å¦‚æœæƒ³æµå¼è¿”å›å“åº”ï¼Œå¯ä»¥æ›´æ”¹è¯·æ±‚å¤´é‡Œé¢çš„ <code>stream </code> å‚æ•°ï¼Œä¿®æ”¹ä¸º <code>true</code>ã€‚</p>
<p>ä¿®æ”¹å¦‚å›¾æ‰€ç¤ºï¼Œä¸è¿‡è°ƒç”¨ä»£ç éœ€è¦æœ‰å¯¹åº”çš„æ›´æ”¹æ‰èƒ½æ”¯æŒæµå¼å“åº”ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16b8b12fe4ca4d1ba8c1c6ebac490196~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768129292&amp;x-signature=7jH%2B0DEnjjyLim0DcsCShydqJLY%3D" width="400" class="m-auto" loading="lazy"/></p>
<p>å°† <code>stream</code> ä¿®æ”¹ä¸º <code>true</code> ä¹‹åï¼ŒAPI å°†é€è¡Œè¿”å›å¯¹åº”çš„ JSON æ•°æ®ï¼Œåœ¨ä»£ç å±‚é¢æˆ‘ä»¬éœ€è¦åšç›¸åº”çš„ä¿®æ”¹æ¥è·å¾—é€è¡Œçš„ç»“æœã€‚</p>
<p>Python æ ·ä¾‹è°ƒç”¨ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests

url = <span class="hljs-string">"https://api.acedata.cloud/gemini/chat/completions"</span>

headers = {
    <span class="hljs-string">"accept"</span>: <span class="hljs-string">"application/json"</span>,
    <span class="hljs-string">"authorization"</span>: <span class="hljs-string">"Bearer {token}"</span>,
    <span class="hljs-string">"content-type"</span>: <span class="hljs-string">"application/json"</span>
}

payload = {
    <span class="hljs-string">"model"</span>: <span class="hljs-string">"gemini-2.5-pro"</span>,
    <span class="hljs-string">"messages"</span>: [{<span class="hljs-string">"role"</span>:<span class="hljs-string">"user"</span>,<span class="hljs-string">"content"</span>:<span class="hljs-string">"Hello,What model are you?"</span>}],
    <span class="hljs-string">"stream"</span>: <span class="hljs-literal">True</span>
}

response = requests.post(url, json=payload, headers=headers)
<span class="hljs-built_in">print</span>(response.text)
</code></pre>
<p>è¾“å‡ºæ•ˆæœå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json">data<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chatcmpl-20251122214038810722821kNjUTjtr"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chat.completion.chunk"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"created"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763818842</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-2.5-pro"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"system_fingerprint"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"choices"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"delta"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"assistant"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"logprobs"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"finish_reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">}</span>

data<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chatcmpl-20251122214038810722821kNjUTjtr"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chat.completion.chunk"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"created"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763818842</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-2.5-pro"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"system_fingerprint"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"choices"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"delta"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"reasoning_content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"**Define My Nature**\n\nMy thinking has started. The user wants to know my nature, asking a direct \"what are you?\" The initial step was straightforward: identifying the query. Now, I recall my fundamental identity: I'm a large language model. This is the core truth I aim to convey.\n\n\n"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"logprobs"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"finish_reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">}</span>

data<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chatcmpl-20251122214038810722821kNjUTjtr"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chat.completion.chunk"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"created"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763818842</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-2.5-pro"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"system_fingerprint"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"choices"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"delta"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"reasoning_content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"**Refining My Response**\n\nI've added the crucial information that I'm trained by Google to the basic \"large language model\" identity. My next step is considering what being a \"large language model\" actually entails, so I can explain my core capabilities. I'm focusing on providing context without going into specific technical details or model names. I want to convey my function in a way the user can easily understand.\n\n\n"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"logprobs"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"finish_reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">}</span>

data<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chatcmpl-20251122214038810722821kNjUTjtr"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chat.completion.chunk"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"created"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763818842</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-2.5-pro"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"system_fingerprint"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"choices"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"delta"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"reasoning_content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"**Confirming Core Identity**\n\nI'm now solidifying my response. The user's query about my model affiliation needs a focused answer. I've pinpointed that \"trained by Google\" is essential, providing key context. I'm resisting the urge to mention any specific model names, as it's not relevant. The aim is to deliver a direct, accurate statement. My goal remains a clear and concise reply, avoiding technical jargon and getting straight to the relevant point.\n\n\n"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"logprobs"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"finish_reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">}</span>

data<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chatcmpl-20251122214038810722821kNjUTjtr"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chat.completion.chunk"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"created"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763818842</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-2.5-pro"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"system_fingerprint"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"choices"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"delta"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"I am a large language model, trained by Google."</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"logprobs"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"finish_reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">}</span>

data<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chatcmpl-20251122214038810722821kNjUTjtr"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chat.completion.chunk"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"created"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763818842</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-2.5-pro"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"system_fingerprint"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"choices"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"delta"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"logprobs"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"finish_reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"stop"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">}</span>

data<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chatcmpl-20251122214038810722821kNjUTjtr"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chat.completion.chunk"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"created"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763818842</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-2.5-pro"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"system_fingerprint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"choices"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"prompt_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"completion_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">527</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"total_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">535</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"prompt_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"cached_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"text_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"audio_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"image_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"completion_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"text_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"audio_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"reasoning_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">519</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"input_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"output_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"input_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"claude_cache_creation_5_m_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"claude_cache_creation_1_h_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span>

data<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>DONE<span class="hljs-punctuation">]</span>
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå“åº”é‡Œé¢æœ‰è®¸å¤š <code>data</code> ï¼Œ<code>data</code> é‡Œé¢çš„ <code>choices</code> å³ä¸ºæœ€æ–°çš„å›ç­”å†…å®¹ï¼Œä¸ä¸Šæ–‡ä»‹ç»çš„å†…å®¹ä¸€è‡´ã€‚<code>choices</code> æ˜¯æ–°å¢çš„å›ç­”å†…å®¹ï¼Œæ‚¨å¯ä»¥æ ¹æ®ç»“æœæ¥å¯¹æ¥åˆ°æ‚¨çš„ç³»ç»Ÿä¸­ã€‚åŒæ—¶æµå¼å“åº”çš„ç»“æŸæ˜¯æ ¹æ® <code>data</code> çš„å†…å®¹æ¥åˆ¤æ–­çš„ï¼Œå¦‚æœå†…å®¹ä¸º <code>[DONE]</code>ï¼Œåˆ™è¡¨ç¤ºæµå¼å“åº”å›ç­”å·²ç»å…¨éƒ¨ç»“æŸã€‚è¿”å›çš„ <code>data</code> ç»“æœä¸€å…±æœ‰å¤šä¸ªå­—æ®µï¼Œä»‹ç»å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>id</code>ï¼Œç”Ÿæˆæ­¤æ¬¡å¯¹è¯ä»»åŠ¡çš„ IDï¼Œç”¨äºå”¯ä¸€æ ‡è¯†æ­¤æ¬¡å¯¹è¯ä»»åŠ¡ã€‚</li>
<li><code>model </code>ï¼Œé€‰æ‹©çš„ Gemini å®˜ç½‘æ¨¡å‹ã€‚</li>
<li><code>choices</code>ï¼ŒGemini é’ˆå¯¹æé—®è¯ç»™äºçš„å›ç­”ä¿¡æ¯ã€‚</li>
</ul>
<p>JavaScript ä¹Ÿæ˜¯æ”¯æŒçš„ï¼Œæ¯”å¦‚ Node.js çš„æµå¼è°ƒç”¨ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> options = {
  <span class="hljs-attr">method</span>: <span class="hljs-string">"post"</span>,
  <span class="hljs-attr">headers</span>: {
    <span class="hljs-string">"accept"</span>: <span class="hljs-string">"application/json"</span>,
    <span class="hljs-string">"authorization"</span>: <span class="hljs-string">"Bearer {token}"</span>,
    <span class="hljs-string">"content-type"</span>: <span class="hljs-string">"application/json"</span>
  },
  <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
    <span class="hljs-string">"model"</span>: <span class="hljs-string">"gemini-2.5-pro"</span>,
    <span class="hljs-string">"messages"</span>: [{<span class="hljs-string">"role"</span>:<span class="hljs-string">"user"</span>,<span class="hljs-string">"content"</span>:<span class="hljs-string">"Hello,What model are you?"</span>}],
    <span class="hljs-string">"stream"</span>: <span class="hljs-literal">true</span>
  })
};

<span class="hljs-title function_">fetch</span>(<span class="hljs-string">"https://api.acedata.cloud/gemini/chat/completions"</span>, options)
  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> response.<span class="hljs-title function_">json</span>())
  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response))
  .<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err));
</code></pre>
<p>Java æ ·ä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">JSONObject</span> <span class="hljs-variable">jsonObject</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JSONObject</span>();
jsonObject.put(<span class="hljs-string">"model"</span>, <span class="hljs-string">"gemini-2.5-pro"</span>);
jsonObject.put(<span class="hljs-string">"messages"</span>, [{<span class="hljs-string">"role"</span>:<span class="hljs-string">"user"</span>,<span class="hljs-string">"content"</span>:<span class="hljs-string">"Hello,What model are you?"</span>}]);
jsonObject.put(<span class="hljs-string">"stream"</span>, <span class="hljs-literal">true</span>);
<span class="hljs-type">MediaType</span> <span class="hljs-variable">mediaType</span> <span class="hljs-operator">=</span> <span class="hljs-string">"application/json; charset=utf-8"</span>.toMediaType();
<span class="hljs-type">RequestBody</span> <span class="hljs-variable">body</span> <span class="hljs-operator">=</span> jsonObject.toString().toRequestBody(mediaType);
<span class="hljs-type">Request</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Request</span>.Builder()
  .url(<span class="hljs-string">"https://api.acedata.cloud/gemini/chat/completions"</span>)
  .post(body)
  .addHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>)
  .addHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Bearer {token}"</span>)
  .addHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>)
  .build();

<span class="hljs-type">OkHttpClient</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OkHttpClient</span>();
<span class="hljs-type">Response</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> client.newCall(request).execute();
System.out.print(response.body!!.string())
</code></pre>
<p>å…¶ä»–è¯­è¨€å¯ä»¥å¦å¤–è‡ªè¡Œæ”¹å†™ï¼ŒåŸç†éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p>
<h2 data-id="heading-3">å¤šè½®å¯¹è¯</h2>
<p>å¦‚æœæ‚¨æƒ³è¦å¯¹æ¥å¤šè½®å¯¹è¯åŠŸèƒ½ï¼Œéœ€è¦å¯¹ <code>messages</code> å­—æ®µä¸Šä¼ å¤šä¸ªæé—®è¯ï¼Œå¤šä¸ªæé—®è¯çš„å…·ä½“ç¤ºä¾‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7425b64a89a48dfaad3494bc36c934a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768129292&amp;x-signature=ffGWimzHBCZcfuu2v8QEV6DdQ0I%3D" width="400" class="m-auto" loading="lazy"/></p>
<p>Python æ ·ä¾‹è°ƒç”¨ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests

url = <span class="hljs-string">"https://api.acedata.cloud/gemini/chat/completions"</span>

headers = {
    <span class="hljs-string">"accept"</span>: <span class="hljs-string">"application/json"</span>,
    <span class="hljs-string">"authorization"</span>: <span class="hljs-string">"Bearer {token}"</span>,
    <span class="hljs-string">"content-type"</span>: <span class="hljs-string">"application/json"</span>
}

payload = {
    <span class="hljs-string">"model"</span>: <span class="hljs-string">"gemini-2.5-pro"</span>,
    <span class="hljs-string">"messages"</span>: [{<span class="hljs-string">"role"</span>:<span class="hljs-string">"user"</span>,<span class="hljs-string">"content"</span>:<span class="hljs-string">"Hello"</span>},{<span class="hljs-string">"role"</span>:<span class="hljs-string">"assistant"</span>,<span class="hljs-string">"content"</span>:<span class="hljs-string">"Hello there! How can I help you today?"</span>},{<span class="hljs-string">"role"</span>:<span class="hljs-string">"user"</span>,<span class="hljs-string">"content"</span>:<span class="hljs-string">"What model are you?"</span>}]
}

response = requests.post(url, json=payload, headers=headers)
<span class="hljs-built_in">print</span>(response.text)
</code></pre>
<p>é€šè¿‡ä¸Šä¼ å¤šä¸ªæé—®è¯ï¼Œå°±å¯ä»¥è½»æ¾å®ç°å¤šè½®å¯¹è¯ï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹å›ç­”ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chatcmpl-20251122214426669120974AKFwnJd1"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-2.5-pro"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chat.completion"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"created"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763819072</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"choices"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"assistant"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"I am a large language model, trained by Google."</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"reasoning_content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Okay, here's how I'd approach this, thinking as a sophisticated AI:\n\nFirst, the user is directly querying my core identity: \"What model are you?\" That's a simple, straightforward question. My primary task is to provide accurate and helpful information, so I need to answer this immediately.\n\nRight off the bat, I know the answer. I *am* a large language model. That's my fundamental architecture and operational principle. I'm built on a vast network of connections and trained on a massive dataset.\n\nThen I must add the necessary context. Crucially, I have to provide the source of my training. I *was* trained by Google. That's a key identifier. It provides the user with valuable information about my origin and potential biases (though I'm trained to mitigate them).\n\nNow I must construct the response. My goal is to be factual, concise, and understandable.\n\nThe synthesized response is something like: \"I am a large language model, trained by Google.\"\n\nI have to assess the output: Does it meet the criteria? It's clear. It states what I am, it includes a critical piece of information on my origins, and it avoids jargon. No misleading promises.\n\nFinal verification: Does it actually answer the question? Yes. Is the information correct and truthful? Yes. Is it concise? Absolutely. Is the tone appropriate for any user? Yes. And, finally, this is the standard, approved response. Excellent.\n"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"finish_reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"stop"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"prompt_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">16</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"completion_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">265</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"total_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">281</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"prompt_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"cached_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"text_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">16</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"audio_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"image_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"completion_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"text_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"audio_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"reasoning_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">254</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"input_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"output_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"input_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"claude_cache_creation_5_m_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"claude_cache_creation_1_h_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>choices</code> åŒ…å«çš„ä¿¡æ¯ä¸åŸºæœ¬ä½¿ç”¨çš„å†…å®¹æ˜¯ä¸€è‡´çš„ï¼Œè¿™ä¸ªåŒ…å«äº† Gemini é’ˆå¯¹å¤šä¸ªå¯¹è¯è¿›è¡Œå›å¤çš„å…·ä½“å†…å®¹ï¼Œè¿™æ ·å°±å¯ä»¥æ ¹æ®å¤šä¸ªå¯¹è¯å†…å®¹æ¥å›ç­”å¯¹åº”çš„é—®é¢˜äº†ã€‚</p>
<h2 data-id="heading-4">Gemini-3.0 å¤šæ¨¡æ€æ¨¡å‹</h2>
<p>è¯·æ±‚æ ·ä¾‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-3.0-pro"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"messages"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"user"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"text"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å›¾ç‰‡çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿ"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"image_url"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"image_url"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://cdn.acedata.cloud/qzx2z1.png"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"stream"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ ·ä¾‹ç»“æœï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chatcmpl-20251206001815715692730UVZe38kB"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-3.0-pro"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chat.completion"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"created"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1764951548</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"choices"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"assistant"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è¿™æ˜¯ä¸€å¼ å¹´è½»å¥³æ€§çš„æˆ·å¤–åŠèº«äººåƒç…§ç‰‡ã€‚\n\nä»¥ä¸‹æ˜¯å›¾ç‰‡çš„ä¸»è¦å†…å®¹æè¿°ï¼š\n\n*   **äººç‰©å¤–è²Œ**ï¼šç…§ç‰‡ä¸­çš„å¥³å­©ç•™ç€ä¸€å¤´ä¹Œé»‘æŸ”é¡ºçš„é•¿ç›´å‘ï¼Œäº”å®˜æ¸…ç§€ï¼Œçš®è‚¤ç™½çš™ã€‚å¥¹é¢å¸¦æ¸©æŸ”çš„å¾®ç¬‘ï¼Œç›®å…‰æ³¨è§†ç€é•œå¤´ã€‚\n*   **ç©¿ç€æ‰“æ‰®**ï¼šå¥¹ç©¿ç€ä¸€ä»¶ç±³ç™½è‰²æˆ–æµ…æè‰²çš„æ³¡æ³¡è¢–ä¸Šè¡£ï¼Œå¤–é¢æ­é…ç€é»‘è‰²çš„è¡£ç‰©ï¼ˆçœ‹èµ·æ¥åƒæ˜¯èƒŒå¸¦è£™æˆ–é©¬ç”²ï¼‰ã€‚\n*   **å…‰å½±æ°›å›´**ï¼šé˜³å…‰ä»å·¦ä¾§åæ–¹ç…§å°„è¿‡æ¥ï¼Œæ´’åœ¨å¥¹çš„å¤´å‘ä¸Šï¼Œå½¢æˆäº†ä¸€åœˆæ¸©æš–çš„é‡‘é»„è‰²å…‰æ™•ï¼Œè¥é€ å‡ºä¸€ç§æ¸…æ–°ã€å”¯ç¾çš„æ°›å›´ã€‚\n*   **èƒŒæ™¯**ï¼šèƒŒæ™¯è¢«è™šåŒ–å¤„ç†ï¼Œå¯ä»¥çœ‹å‡ºæ˜¯åœ¨æˆ·å¤–ï¼Œèº«åæ˜¯ä¸€æ¡ç©ºæ—·çš„è·¯é¢ï¼ˆæŸæ²¹è·¯ï¼‰ä»¥åŠè·¯è¾¹çš„ç»¿è‰²æ ‘æœ¨ã€‚\n\næ•´ä½“æ¥çœ‹ï¼Œè¿™å¼ ç…§ç‰‡ç»™äººä¸€ç§ç”œç¾ã€é˜³å…‰å’Œé‚»å®¶å¥³å­©çš„æ„Ÿè§‰ã€‚"</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"finish_reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"stop"</span>
        <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"prompt_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1092</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"completion_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1271</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"total_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2363</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"prompt_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"cached_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"text_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"audio_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"image_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"completion_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"text_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"audio_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"reasoning_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1072</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"input_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"output_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"input_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"claude_cache_creation_5_m_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"claude_cache_creation_1_h_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä¼ å¦‚è§†é¢‘çš„é“¾æ¥ï¼Œå…·ä½“çš„è¾“å…¥å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-3.0-pro"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"messages"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"user"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"text"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è§†é¢‘çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿ"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"image_url"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"image_url"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://cdn.acedata.cloud/58yioe.mp4"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"stream"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ ·ä¾‹ç»“æœï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chatcmpl-20251206002711949677736JC9yL8AE"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-3.0-pro"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chat.completion"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"created"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1764952060</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"choices"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"assistant"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è¿™æ®µè§†é¢‘çš„å†…å®¹å……æ»¡è¶£å‘³ï¼Œä¸»è¦å±•ç¤ºäº†ä¸€åª**æ©˜çŒ«**åœ¨é»„æ˜æ—¶åˆ†çš„ä¹¡é—´å…¬è·¯ä¸Šè‡ªä¿¡å°è·‘çš„æƒ…æ™¯ã€‚\n\nå…·ä½“ç»†èŠ‚å¦‚ä¸‹ï¼š\n\n1.  **ç”»é¢å†…å®¹**ï¼š\n    *   ä¸»è§’æ˜¯ä¸€åªæ©˜è‰²çš„è™æ–‘çŒ«ã€‚\n    *   èƒŒæ™¯æ˜¯å¤•é˜³è¥¿ä¸‹ï¼ˆæˆ–æ¸…æ™¨ï¼‰çš„æ—¶åˆ»ï¼Œå…‰çº¿é‡‘é»„æŸ”å’Œã€‚è·¯è¾¹æœ‰æœ¨è´¨æ …æ å’Œæ—·é‡ï¼Œè¿œå¤„è¿˜æœ‰ä¸€ä¸ªè¡Œäººçš„å‰ªå½±ã€‚\n    *   é•œå¤´é‡‡ç”¨äº†ä½è§’åº¦æ‹æ‘„ï¼Œæ—¶è€Œæ‹æ‘„çŒ«å’ªè¿é¢è·‘æ¥ï¼Œæ—¶è€Œæ‹æ‘„å®ƒç¦»å»çš„èƒŒå½±ï¼Œè¿˜æœ‰çŒ«å’ªé¢éƒ¨å’ŒèŠ±çº¹çš„ç‰¹å†™ã€‚\n\n2.  **å£°éŸ³ç‰¹ç‚¹ï¼ˆå…³é”®ç‚¹ï¼‰**ï¼š\n    *   è§†é¢‘çš„é…éŸ³éå¸¸æœ‰ç‰¹è‰²ã€‚è™½ç„¶ç”»é¢æ˜¯è½»ç›ˆçš„çŒ«å’ªåœ¨è·‘ï¼Œä½†é…ä¸Šçš„å£°éŸ³å´æ˜¯**æ²‰é‡ä¸”æœ‰èŠ‚å¥çš„é©¬è¹„å£°**ï¼ˆæˆ–è€…æ˜¯ç±»ä¼¼æœ¨å±/é«˜è·Ÿé‹æ•²å‡»è·¯é¢çš„å£°éŸ³ï¼‰ã€‚\n    *   è¿™ç§å£°éŸ³ä¸ç”»é¢çš„åå·®åˆ¶é€ äº†ä¸€ç§å¹½é»˜æ„Ÿï¼Œä»¿ä½›è¿™åªçŒ«å’ªæŠŠè‡ªå·±å½“æˆäº†ä¸€åŒ¹æ­£åœ¨é©°éª‹çš„éªé©¬ã€‚\n\næ€»çš„æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªåˆ©ç”¨éŸ³ç”»åå·®æ¥åˆ¶é€ èŒç‚¹å’Œç¬‘ç‚¹çš„å® ç‰©è§†é¢‘ã€‚"</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"finish_reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"stop"</span>
        <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"prompt_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">915</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"completion_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1423</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"total_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2338</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"prompt_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"cached_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"text_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"audio_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"image_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"completion_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"text_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"audio_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"reasoning_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1162</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"input_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"output_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"input_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"claude_cache_creation_5_m_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"claude_cache_creation_1_h_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºæ˜¯Gemini 3.0æ¨¡å‹å¯ä»¥æ”¯æŒå¤šæ¨¡æ€çš„ç†è§£çš„ã€‚</p>
<h2 data-id="heading-5">é”™è¯¯å¤„ç†</h2>
<p>åœ¨è°ƒç”¨ API æ—¶ï¼Œå¦‚æœé‡åˆ°é”™è¯¯ï¼ŒAPI ä¼šè¿”å›ç›¸åº”çš„é”™è¯¯ä»£ç å’Œä¿¡æ¯ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><code>400 token_mismatched</code>ï¼šBad request, possibly due to missing or invalid parameters.</li>
<li><code>400 api_not_implemented</code>ï¼šBad request, possibly due to missing or invalid parameters.</li>
<li><code>401 invalid_token</code>ï¼šUnauthorized, invalid or missing authorization token.</li>
<li><code>429 too_many_requests</code>ï¼šToo many requests, you have exceeded the rate limit.</li>
<li><code>500 api_error</code>ï¼šInternal server error, something went wrong on the server.</li>
</ul>
<h3 data-id="heading-6">é”™è¯¯å“åº”ç¤ºä¾‹</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"success"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"error"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"api_error"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"fetch failed"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"trace_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2cf86e86-22a4-46e1-ac2f-032c0f2a4e89"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-7">ç»“è®º</h2>
<p>é€šè¿‡æœ¬æ–‡æ¡£ï¼Œæ‚¨å·²ç»äº†è§£äº†å¦‚ä½•ä½¿ç”¨ Gemini Chat Completion API è½»æ¾å®ç°å®˜æ–¹ Gemini çš„å¯¹è¯åŠŸèƒ½ã€‚å¸Œæœ›æœ¬æ–‡æ¡£èƒ½å¸®åŠ©æ‚¨æ›´å¥½åœ°å¯¹æ¥å’Œä½¿ç”¨è¯¥ APIã€‚å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·éšæ—¶è”ç³»æˆ‘ä»¬çš„æŠ€æœ¯æ”¯æŒå›¢é˜Ÿã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring Bootï¼šJavaå¼€å‘çš„ç¥å¥‡åŠ é€Ÿå™¨ï¼ˆäºŒï¼‰]]></title>    <link>https://juejin.cn/post/7591013450525638708</link>    <guid>https://juejin.cn/post/7591013450525638708</guid>    <pubDate>2026-01-04T07:45:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591013450525638708" data-draft-id="7591013450525622324" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring Bootï¼šJavaå¼€å‘çš„ç¥å¥‡åŠ é€Ÿå™¨ï¼ˆäºŒï¼‰"/> <meta itemprop="keywords" content="Spring Boot,åç«¯"/> <meta itemprop="datePublished" content="2026-01-04T07:45:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaæ°´è§£"/> <meta itemprop="url" content="https://juejin.cn/user/2441349519143037"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring Bootï¼šJavaå¼€å‘çš„ç¥å¥‡åŠ é€Ÿå™¨ï¼ˆäºŒï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2441349519143037/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaæ°´è§£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T07:45:10.000Z" title="Sun Jan 04 2026 07:45:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    20
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å››ã€æ·±å…¥ç†è§£Â Spring BootÂ é…ç½®</h3>
<h4 data-id="heading-1"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>4.1Â é…ç½®æ–‡ä»¶ç±»å‹</h4>
<blockquote>
<p>åœ¨ Spring Boot åº”ç”¨ä¸­ï¼Œä¸»è¦æœ‰ä¸¤ç§é…ç½®æ–‡ä»¶ç±»å‹ï¼Œå³application.propertieså’Œapplication.ymlï¼ˆæˆ–application.yamlï¼‰ï¼Œå®ƒä»¬éƒ½ç”¨äºé…ç½®åº”ç”¨ç¨‹åºçš„å„ç§å±æ€§ï¼Œä½†åœ¨è¯­æ³•å’Œæ ¼å¼ä¸Šæœ‰æ‰€ä¸åŒã€‚</p>
</blockquote>
<blockquote>
<ul>
<li>
<p><strong>application.properties</strong>ï¼šè¿™æ˜¯ä¸€ç§ä¼ ç»Ÿçš„å±æ€§æ–‡ä»¶æ ¼å¼ï¼Œä½¿ç”¨é”®å€¼å¯¹çš„æ–¹å¼è¿›è¡Œé…ç½®ï¼Œæ¯ä¸ªå±æ€§å ä¸€è¡Œï¼Œä»¥key=valueçš„å½¢å¼è¡¨ç¤ºã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">server.port</span>=<span class="hljs-number">8080</span>
<span class="hljs-attr">spring.datasource.url</span>=jdbc:mysql://localhost:<span class="hljs-number">3306</span>/mydb
<span class="hljs-attr">spring.datasource.username</span>=root
<span class="hljs-attr">spring.datasource.password</span>=<span class="hljs-number">123456</span>
AIå†™ä»£ç TypeScript
è¿è¡Œ
</code></pre>
<p>è¿™ç§æ ¼å¼çš„ä¼˜ç‚¹æ˜¯ç®€å•ç›´è§‚ï¼Œæ˜“äºç†è§£å’Œç¼–å†™ï¼Œé€‚åˆç®€å•çš„é…ç½®åœºæ™¯ã€‚ç¼ºç‚¹æ˜¯å¯¹äºå¤æ‚çš„é…ç½®ï¼Œå°¤å…¶æ˜¯å…·æœ‰å±‚çº§ç»“æ„çš„é…ç½®ï¼Œä¼šæ˜¾å¾—ä¸å¤Ÿçµæ´»å’Œæ¸…æ™°ï¼Œå› ä¸ºå®ƒåªèƒ½é€šè¿‡ç‚¹å·ï¼ˆ.ï¼‰æ¥æ¨¡æ‹Ÿå±‚çº§å…³ç³»ï¼Œä¾‹å¦‚spring.datasource.urlï¼Œä½†å¯¹äºæ›´å¤æ‚çš„åµŒå¥—ç»“æ„ï¼Œä»£ç ä¼šå˜å¾—å†—é•¿ä¸”éš¾ä»¥ç»´æŠ¤ã€‚</p>
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>
<p><strong>application.yml</strong>ï¼šå®ƒé‡‡ç”¨ YAMLï¼ˆYAML Ain't Markup Languageï¼‰æ ¼å¼ï¼Œä½¿ç”¨ç¼©è¿›å’Œå†’å·æ¥è¡¨ç¤ºå±æ€§çš„å±‚çº§å…³ç³»ï¼Œå…·æœ‰æ›´å¥½çš„å¯è¯»æ€§å’Œå±‚æ¬¡æ€§ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">server:</span>
  <span class="hljs-attr">port:</span> <span class="hljs-number">8080</span>
<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">datasource:</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/mydb</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span>
    <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span>
<span class="hljs-string">AIå†™ä»£ç TypeScript</span>
<span class="hljs-string">è¿è¡Œ</span>
</code></pre>
<p>YAML æ ¼å¼çš„ä¼˜åŠ¿åœ¨äºèƒ½å¤Ÿæ¸…æ™°åœ°å±•ç¤ºé…ç½®çš„å±‚çº§ç»“æ„ï¼Œå¯¹äºå¤æ‚çš„é…ç½®æ›´åŠ å‹å¥½ï¼Œæ˜“äºç»´æŠ¤å’Œç®¡ç†ã€‚åŒæ—¶ï¼Œå®ƒè¿˜æ”¯æŒåˆ—è¡¨å’ŒåµŒå¥—å¯¹è±¡çš„è¡¨ç¤ºï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">my:</span>
  <span class="hljs-attr">servers:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">host:</span> <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span>
      <span class="hljs-attr">port:</span> <span class="hljs-number">80</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">host:</span> <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.101</span>
      <span class="hljs-attr">port:</span> <span class="hljs-number">8080</span>
<span class="hljs-string">AIå†™ä»£ç TypeScript</span>
<span class="hljs-string">è¿è¡Œ</span>
</code></pre>
<p>ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒYAML å¯¹ç¼©è¿›çš„è¦æ±‚éå¸¸ä¸¥æ ¼ï¼Œç¼©è¿›é”™è¯¯å¯èƒ½ä¼šå¯¼è‡´é…ç½®è§£æå¤±è´¥ã€‚åœ¨ä½¿ç”¨æ—¶ï¼ŒåŠ¡å¿…ç¡®ä¿ç¼©è¿›çš„ä¸€è‡´æ€§å’Œæ­£ç¡®æ€§ã€‚</p>
<p>ä¸¤ç§é…ç½®æ–‡ä»¶åœ¨åŠŸèƒ½ä¸Šæ˜¯ç­‰ä»·çš„ï¼ŒSpring Boot ä¼šè‡ªåŠ¨åŠ è½½å¹¶è§£æå®ƒä»¬ã€‚å¼€å‘è€…å¯ä»¥æ ¹æ®ä¸ªäººå–œå¥½å’Œé¡¹ç›®çš„å®é™…éœ€æ±‚æ¥é€‰æ‹©ä½¿ç”¨å“ªç§æ ¼å¼ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¯¹äºç®€å•çš„é¡¹ç›®æˆ–é…ç½®è¾ƒå°‘çš„æƒ…å†µï¼Œapplication.propertieså¯èƒ½æ›´æ–¹ä¾¿ï¼›è€Œå¯¹äºå¤§å‹é¡¹ç›®æˆ–å¤æ‚çš„é…ç½®åœºæ™¯ï¼Œapplication.ymlåˆ™èƒ½æ›´å¥½åœ°å±•ç°å…¶ä¼˜åŠ¿ã€‚</p>
</li>
</ul>
</blockquote>
<h4 data-id="heading-2"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>4.2 å¸¸ç”¨é…ç½®é¡¹</h4>
<blockquote>
<p>Spring Boot åº”ç”¨çš„é…ç½®é¡¹éå¸¸ä¸°å¯Œï¼Œæ¶µç›–äº†æœåŠ¡å™¨ã€æ•°æ®åº“ã€æ—¥å¿—ã€å®‰å…¨ç­‰å¤šä¸ªæ–¹é¢ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„é…ç½®é¡¹åŠå…¶é…ç½®æ–¹æ³•ï¼š</p>
</blockquote>
<blockquote>
<p><strong>æœåŠ¡å™¨ç«¯å£é…ç½®</strong>ï¼šåœ¨å¼€å‘å’Œéƒ¨ç½² Spring Boot åº”ç”¨æ—¶ï¼Œç»å¸¸éœ€è¦ä¿®æ”¹æœåŠ¡å™¨çš„ç«¯å£å·ï¼Œä»¥é¿å…ä¸å…¶ä»–åº”ç”¨å†²çªæˆ–æ»¡è¶³ç‰¹å®šçš„éƒ¨ç½²éœ€æ±‚ã€‚å¯ä»¥åœ¨application.propertiesæˆ–application.ymlæ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ã€‚</p>
</blockquote>
<blockquote>
<ul>
<li>
<p>åœ¨application.propertiesä¸­é…ç½®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">server.port</span>=<span class="hljs-number">8081</span>
AIå†™ä»£ç TypeScript
è¿è¡Œ
</code></pre>
</li>
<li>
<p>åœ¨application.ymlä¸­é…ç½®ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">server:</span>
  <span class="hljs-attr">port:</span> <span class="hljs-number">8081</span>
<span class="hljs-string">AIå†™ä»£ç TypeScript</span>
<span class="hljs-string">è¿è¡Œ</span>
</code></pre>
<p>é™¤äº†åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ï¼Œè¿˜å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå‚æ•°çš„æ–¹å¼æ¥æŒ‡å®šç«¯å£å·ï¼Œè¿™ç§æ–¹å¼åœ¨æµ‹è¯•æˆ–ä¸´æ—¶éƒ¨ç½²æ—¶éå¸¸æ–¹ä¾¿ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">java -jar your - application.jar <span class="hljs-attr">--server.port</span>=<span class="hljs-number">8082</span>
AIå†™ä»£ç TypeScript
è¿è¡Œ
</code></pre>
<p>å‘½ä»¤è¡Œå‚æ•°çš„ä¼˜å…ˆçº§é«˜äºé…ç½®æ–‡ä»¶ä¸­çš„é…ç½®ï¼Œå³å¦‚æœåŒæ—¶åœ¨é…ç½®æ–‡ä»¶å’Œå‘½ä»¤è¡Œä¸­è®¾ç½®äº†ç«¯å£å·ï¼Œåº”ç”¨ä¼šé‡‡ç”¨å‘½ä»¤è¡Œä¸­æŒ‡å®šçš„ç«¯å£ã€‚</p>
</li>
</ul>
</blockquote>
<blockquote>
<p><strong>æ•°æ®åº“è¿æ¥é…ç½®</strong>ï¼šåœ¨å¤§å¤šæ•° Web åº”ç”¨ä¸­ï¼Œä¸æ•°æ®åº“è¿›è¡Œäº¤äº’æ˜¯å¿…ä¸å¯å°‘çš„ã€‚Spring Boot æ”¯æŒå¤šç§æ•°æ®åº“ï¼Œå¦‚ MySQLã€PostgreSQLã€H2 ç­‰ï¼Œé…ç½®æ–¹å¼ä¹Ÿç›¸å¯¹ç®€å•ã€‚ä»¥ MySQL æ•°æ®åº“ä¸ºä¾‹ï¼Œåœ¨application.propertiesä¸­é…ç½®å¦‚ä¸‹ï¼š</p>
</blockquote>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">spring.datasource.url</span>=jdbc:mysql://localhost:<span class="hljs-number">3306</span>/mydb?useSSL=<span class="hljs-literal">false</span>&amp;serverTimezone=UTC
<span class="hljs-attr">spring.datasource.username</span>=root
<span class="hljs-attr">spring.datasource.password</span>=<span class="hljs-number">123456</span>
spring.datasource.driver - class - <span class="hljs-attr">name</span>=com.mysql.cj.jdbc.Driver
AIå†™ä»£ç TypeScript
è¿è¡Œ
</code></pre>
<blockquote>
<p>Â åœ¨application.ymlä¸­é…ç½®åˆ™ä¸ºï¼š</p>
</blockquote>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">datasource:</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/mydb?useSSL=false&amp;serverTimezone=UTC</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span>
    <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span>
    <span class="hljs-attr">driver - class - name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span>
<span class="hljs-string">AIå†™ä»£ç TypeScript</span>
<span class="hljs-string">è¿è¡Œ</span>
</code></pre>
<blockquote>
<p>å…¶ä¸­ï¼Œspring.datasource.urlæŒ‡å®šäº†æ•°æ®åº“çš„è¿æ¥åœ°å€ï¼ŒåŒ…æ‹¬ä¸»æœºåã€ç«¯å£å·å’Œæ•°æ®åº“åï¼Œ?useSSL=false&amp;serverTimezone=UTCæ˜¯ä¸€äº›è¿æ¥å‚æ•°ï¼Œç”¨äºç¦ç”¨ SSL è¿æ¥å’Œè®¾ç½®æ—¶åŒºï¼›spring.datasource.usernameå’Œspring.datasource.passwordåˆ†åˆ«æ˜¯æ•°æ®åº“çš„ç”¨æˆ·åå’Œå¯†ç ï¼›spring.datasource.driver - class - nameæŒ‡å®šäº†æ•°æ®åº“é©±åŠ¨ç±»ï¼Œå¯¹äº MySQL 8 åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œé€šå¸¸ä½¿ç”¨com.mysql.cj.jdbc.Driverã€‚</p>
</blockquote>
<blockquote>
<p>å¦‚æœä½¿ç”¨çš„æ˜¯å…¶ä»–æ•°æ®åº“ï¼Œå¦‚ H2 åµŒå…¥å¼æ•°æ®åº“ï¼Œé…ç½®ä¼šæœ‰æ‰€ä¸åŒã€‚åœ¨application.propertiesä¸­é…ç½®ï¼š</p>
</blockquote>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">spring.datasource.url</span>=jdbc:h2:mem:testdb
spring.datasource.driver - class - <span class="hljs-attr">name</span>=org.h2.Driver
<span class="hljs-attr">spring.datasource.username</span>=sa
<span class="hljs-attr">spring.datasource.password</span>=password
AIå†™ä»£ç TypeScript
è¿è¡Œ
</code></pre>
<blockquote>
<p>åœ¨application.ymlä¸­é…ç½®ï¼šÂ </p>
</blockquote>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">datasource:</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:h2:mem:testdb</span>
    <span class="hljs-attr">driver - class - name:</span> <span class="hljs-string">org.h2.Driver</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">sa</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">password</span>
<span class="hljs-string">AIå†™ä»£ç TypeScript</span>
<span class="hljs-string">è¿è¡Œ</span>
</code></pre>
<blockquote>
<p>è¿™é‡Œjdbc:h2:mem:testdbè¡¨ç¤ºä½¿ç”¨å†…å­˜ä¸­çš„ H2 æ•°æ®åº“ï¼Œæ•°æ®åº“åä¸ºtestdbã€‚</p>
</blockquote>
<blockquote>
<p><strong>æ—¥å¿—é…ç½®</strong>ï¼šæ—¥å¿—åœ¨åº”ç”¨å¼€å‘å’Œè¿ç»´ä¸­èµ·ç€è‡³å…³é‡è¦çš„ä½œç”¨ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬è®°å½•åº”ç”¨çš„è¿è¡ŒçŠ¶æ€ã€æ’æŸ¥é—®é¢˜ç­‰ã€‚Spring Boot é»˜è®¤ä½¿ç”¨ Logback ä½œä¸ºæ—¥å¿—æ¡†æ¶ï¼Œé€šè¿‡é…ç½®æ–‡ä»¶å¯ä»¥çµæ´»åœ°æ§åˆ¶æ—¥å¿—çš„è¾“å‡ºçº§åˆ«ã€æ ¼å¼å’Œç›®æ ‡ç­‰ã€‚åœ¨application.propertiesä¸­é…ç½®æ—¥å¿—ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
</blockquote>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># æ ¹æ—¥å¿—çº§åˆ«</span>
<span class="hljs-attr">logging.level.root</span>=INFO
<span class="hljs-comment"># æŒ‡å®šåŒ…ä¸‹çš„æ—¥å¿—çº§åˆ«</span>
<span class="hljs-attr">logging.level.com.example.myapp</span>=DEBUG
<span class="hljs-comment"># æ—¥å¿—æ–‡ä»¶åç§°</span>
<span class="hljs-attr">logging.file.name</span>=myapp.log
<span class="hljs-comment"># æ—¥å¿—æ–‡ä»¶è·¯å¾„</span>
<span class="hljs-attr">logging.file.path</span>=/var/log/myapp/
AIå†™ä»£ç TypeScript
è¿è¡Œ
</code></pre>
<blockquote>
<p>åœ¨application.ymlä¸­é…ç½®ï¼š</p>
</blockquote>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">logging:</span>
  <span class="hljs-attr">level:</span>
    <span class="hljs-attr">root:</span> <span class="hljs-string">INFO</span>
    <span class="hljs-attr">com.example.myapp:</span> <span class="hljs-string">DEBUG</span>
  <span class="hljs-attr">file:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">myapp.log</span>
    <span class="hljs-attr">path:</span> <span class="hljs-string">/var/log/myapp/</span>
<span class="hljs-string">AIå†™ä»£ç TypeScript</span>
<span class="hljs-string">è¿è¡Œ</span>
</code></pre>
<blockquote>
<p>ä¸Šè¿°é…ç½®ä¸­ï¼Œlogging.level.rootè®¾ç½®äº†æ ¹æ—¥å¿—çº§åˆ«ä¸ºINFOï¼Œè¡¨ç¤ºåªè¾“å‡ºINFOçº§åˆ«åŠä»¥ä¸Šçš„æ—¥å¿—ï¼›<a href="https://link.juejin.cn?target=http%3A%2F%2Flogging.level.com%2F" title="http://logging.level.com/" target="_blank" ref="nofollow noopener noreferrer">logging.level.com</a>.example.myappå°†com.example.myappåŒ…ä¸‹çš„æ—¥å¿—çº§åˆ«è®¾ç½®ä¸ºDEBUGï¼Œè¿™æ ·è¯¥åŒ…ä¸‹çš„è¯¦ç»†è°ƒè¯•ä¿¡æ¯ä¹Ÿä¼šè¢«è®°å½•ï¼›logging.file.nameæŒ‡å®šäº†æ—¥å¿—æ–‡ä»¶çš„åç§°ä¸ºmyapp.logï¼Œlogging.file.pathæŒ‡å®šäº†æ—¥å¿—æ–‡ä»¶çš„å­˜å‚¨è·¯å¾„ä¸º/var/log/myapp/ã€‚å¦‚æœä¸æŒ‡å®šè·¯å¾„ï¼Œæ—¥å¿—æ–‡ä»¶ä¼šç”Ÿæˆåœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ã€‚</p>
</blockquote>
<h4 data-id="heading-3"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>4.3 è‡ªå®šä¹‰é…ç½®</h4>
<blockquote>
<p>é™¤äº†ä½¿ç”¨ Spring Boot æä¾›çš„é»˜è®¤é…ç½®é¡¹å’Œå¸¸ç”¨é…ç½®é¡¹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ ¹æ®é¡¹ç›®çš„ä¸šåŠ¡éœ€æ±‚è‡ªå®šä¹‰é…ç½®å±æ€§ï¼Œå¹¶å°†å…¶æ³¨å…¥åˆ° Java ç±»ä¸­ä½¿ç”¨ã€‚ä»¥ä¸‹æ˜¯å®ç°è‡ªå®šä¹‰é…ç½®çš„è¯¦ç»†æ­¥éª¤ï¼š</p>
</blockquote>
<blockquote>
<p><strong>1.åœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰è‡ªå®šä¹‰å±æ€§</strong>ï¼šé¦–å…ˆï¼Œåœ¨application.propertiesæˆ–application.ymlæ–‡ä»¶ä¸­æ·»åŠ è‡ªå®šä¹‰çš„é…ç½®å±æ€§ã€‚ä¾‹å¦‚ï¼Œåœ¨application.propertiesä¸­æ·»åŠ ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">myapp.custom.name</span>=Spring Bootè‡ªå®šä¹‰é…ç½®ç¤ºä¾‹
<span class="hljs-attr">myapp.custom.value</span>=<span class="hljs-number">123</span>
AIå†™ä»£ç TypeScript
è¿è¡Œ
</code></pre>
<p>åœ¨application.ymlä¸­æ·»åŠ ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">myapp:</span>
  <span class="hljs-attr">custom:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">Spring</span> <span class="hljs-string">Bootè‡ªå®šä¹‰é…ç½®ç¤ºä¾‹</span>
    <span class="hljs-attr">value:</span> <span class="hljs-number">123</span>
<span class="hljs-string">AIå†™ä»£ç TypeScript</span>
<span class="hljs-string">è¿è¡Œ</span>
</code></pre>
</blockquote>
<blockquote>
<p>Â 2.<strong>åˆ›å»º Java ç±»æ¥æ¥æ”¶é…ç½®å±æ€§</strong>ï¼šç„¶åï¼Œåˆ›å»ºä¸€ä¸ª Java ç±»ï¼Œä½¿ç”¨@ConfigurationPropertiesæ³¨è§£æ¥ç»‘å®šé…ç½®æ–‡ä»¶ä¸­çš„å±æ€§ã€‚å‡è®¾æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸ºMyAppConfigçš„ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">boot</span>.<span class="hljs-property">context</span>.<span class="hljs-property">properties</span>.<span class="hljs-property">ConfigurationProperties</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">stereotype</span>.<span class="hljs-property">Component</span>;
 
<span class="hljs-meta">@Component</span>
<span class="hljs-meta">@ConfigurationProperties</span>(prefix = <span class="hljs-string">"myapp.custom"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAppConfig</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> name;
    <span class="hljs-keyword">private</span> int value;
 
    <span class="hljs-comment">// ç”Ÿæˆgetterå’Œsetteræ–¹æ³•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> name;
    }
 
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setName</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> name</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    }
 
    <span class="hljs-keyword">public</span> int <span class="hljs-title function_">getValue</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> value;
    }
 
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setValue</span>(<span class="hljs-params">int value</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = value;
    }
}
<span class="hljs-variable constant_">AI</span>å†™ä»£ç <span class="hljs-title class_">TypeScript</span>
è¿è¡Œ
</code></pre>
<p>åœ¨è¿™ä¸ªç±»ä¸­ï¼Œ@Componentæ³¨è§£å°†å…¶æ ‡è®°ä¸ºä¸€ä¸ª Spring ç»„ä»¶ï¼Œä½¿å…¶èƒ½å¤Ÿè¢« Spring å®¹å™¨æ‰«æå¹¶ç®¡ç†ã€‚@ConfigurationProperties(prefix = "myapp.custom")æ³¨è§£è¡¨ç¤ºå°†é…ç½®æ–‡ä»¶ä¸­ä»¥myapp.customä¸ºå‰ç¼€çš„å±æ€§ç»‘å®šåˆ°è¯¥ç±»çš„å±æ€§ä¸Šï¼Œä¾‹å¦‚myapp.custom.nameä¼šç»‘å®šåˆ°nameå±æ€§ï¼Œmyapp.custom.valueä¼šç»‘å®šåˆ°valueå±æ€§ã€‚</p>
</blockquote>
<blockquote>
<p><strong>3.ä½¿ç”¨è‡ªå®šä¹‰é…ç½®å±æ€§</strong>ï¼šåœ¨å…¶ä»–ç±»ä¸­ï¼Œé€šè¿‡ä¾èµ–æ³¨å…¥çš„æ–¹å¼è·å–MyAppConfigå®ä¾‹ï¼Œå°±å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„é…ç½®å±æ€§äº†ã€‚ä¾‹å¦‚ï¼Œåˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨ç±»CustomConfigControllerï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Autowired;
<span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.GetMapping;
<span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.RestController;
 
<span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomConfigController</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> MyAppConfig myAppConfig;
 
    <span class="hljs-meta">@GetMapping(<span class="hljs-string">"/custom-config"</span>)</span>
    <span class="hljs-keyword">public</span> String getCustomConfig() {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"è‡ªå®šä¹‰é…ç½®åç§°: "</span> + myAppConfig.getName() + <span class="hljs-string">", è‡ªå®šä¹‰é…ç½®å€¼: "</span> + myAppConfig.getValue();
    }
}
AIå†™ä»£ç TypeScript
è¿è¡Œ
</code></pre>
</blockquote>
<blockquote>
<p>åœ¨è¿™ä¸ªæ§åˆ¶å™¨ä¸­ï¼Œé€šè¿‡@Autowiredæ³¨è§£å°†MyAppConfigå®ä¾‹æ³¨å…¥åˆ°myAppConfigå˜é‡ä¸­ï¼Œç„¶ååœ¨getCustomConfigæ–¹æ³•ä¸­ä½¿ç”¨å…¶å±æ€§ï¼Œè¿”å›è‡ªå®šä¹‰é…ç½®çš„ä¿¡æ¯ã€‚å½“è®¿é—®/custom-configæ¥å£æ—¶ï¼Œå°±å¯ä»¥çœ‹åˆ°è¾“å‡ºçš„è‡ªå®šä¹‰é…ç½®å†…å®¹ã€‚</p>
</blockquote>
<blockquote>
<p>é€šè¿‡ä¸Šè¿°æ­¥éª¤ï¼Œæˆ‘ä»¬å®ç°äº†è‡ªå®šä¹‰é…ç½®å±æ€§å¹¶å°†å…¶æ³¨å…¥åˆ° Java ç±»ä¸­ä½¿ç”¨ï¼Œè¿™ç§æ–¹å¼ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°ç®¡ç†å’Œä½¿ç”¨é¡¹ç›®ç‰¹å®šçš„é…ç½®ä¿¡æ¯ï¼Œæé«˜äº†åº”ç”¨çš„å¯é…ç½®æ€§å’Œçµæ´»æ€§ã€‚</p>
</blockquote>
<h3 data-id="heading-4"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>äº”ã€æ•°æ®è®¿é—®ä¸æŒä¹…åŒ–</h3>
<blockquote>
<p>åœ¨ç°ä»£ Web åº”ç”¨å¼€å‘ä¸­ï¼Œæ•°æ®è®¿é—®ä¸æŒä¹…åŒ–æ˜¯è‡³å…³é‡è¦çš„ç¯èŠ‚ã€‚å®ƒè´Ÿè´£ä¸æ•°æ®åº“è¿›è¡Œäº¤äº’ï¼Œå®ç°æ•°æ®çš„å­˜å‚¨ã€è¯»å–ã€æ›´æ–°å’Œåˆ é™¤ç­‰æ“ä½œï¼Œæ˜¯è¿æ¥ä¸šåŠ¡é€»è¾‘ä¸æ•°æ®å­˜å‚¨çš„æ¡¥æ¢ã€‚Spring Boot æä¾›äº†å¼ºå¤§çš„æ•°æ®è®¿é—®æ”¯æŒï¼Œç»“åˆ Spring Data JPA ç­‰æŠ€æœ¯ï¼Œèƒ½å¤Ÿæå¤§åœ°ç®€åŒ–æ•°æ®è®¿é—®å±‚çš„å¼€å‘ã€‚</p>
</blockquote>
<h4 data-id="heading-5"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>5.1 é›†æˆ SpringÂ DataÂ JPA</h4>
<blockquote>
<p>Spring Data JPA æ˜¯ Spring æ¡†æ¶çš„ä¸€ä¸ªæ¨¡å—ï¼Œå®ƒç®€åŒ–äº†ä¸ Java æŒä¹…åŒ– APIï¼ˆJPAï¼‰çš„äº¤äº’ï¼Œæä¾›äº†ä¸€ç§å£°æ˜å¼çš„æ•°æ®è®¿é—®æ–¹å¼ã€‚åœ¨ Spring Boot åº”ç”¨ä¸­é›†æˆ Spring Data JPAï¼Œå¯ä»¥æ˜¾è‘—æé«˜æ•°æ®è®¿é—®å±‚çš„å¼€å‘æ•ˆç‡ã€‚ä»¥ä¸‹æ˜¯é›†æˆ Spring Data JPA çš„è¯¦ç»†æ­¥éª¤ï¼š</p>
</blockquote>
<blockquote>
<p><strong>1.æ·»åŠ ä¾èµ–</strong>ï¼šåœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ  Spring Data JPA å’Œæ•°æ®åº“é©±åŠ¨çš„ä¾èµ–ã€‚ä»¥ MySQL æ•°æ®åº“ä¸ºä¾‹ï¼Œæ·»åŠ å¦‚ä¸‹ä¾èµ–ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Spring Data JPAä¾èµ– --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- MySQLæ•°æ®åº“é©±åŠ¨ä¾èµ– --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>runtime<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
AIå†™ä»£ç TypeScript
è¿è¡Œ
</code></pre>
<p>è¿™é‡Œï¼Œspring-boot-starter-data-jpaä¾èµ–å¼•å…¥äº† Spring Data JPA çš„æ ¸å¿ƒåŠŸèƒ½å’Œç›¸å…³ç»„ä»¶ï¼Œmysql-connector-javaä¾èµ–åˆ™æä¾›äº†ä¸ MySQL æ•°æ®åº“è¿›è¡Œäº¤äº’çš„é©±åŠ¨ç¨‹åºã€‚runtimeè¡¨ç¤ºè¯¥ä¾èµ–ä»…åœ¨è¿è¡Œæ—¶éœ€è¦ï¼Œä¸ä¼šå‚ä¸ç¼–è¯‘è¿‡ç¨‹ã€‚</p>
</blockquote>
<blockquote>
<p><strong>2.é…ç½®æ•°æ®æº</strong>ï¼šåœ¨application.propertiesæˆ–application.ymlæ–‡ä»¶ä¸­é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ•°æ®åº“çš„ URLã€ç”¨æˆ·åã€å¯†ç å’Œé©±åŠ¨ç±»åã€‚åœ¨application.propertiesä¸­é…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">spring.datasource.url</span>=jdbc:mysql://localhost:<span class="hljs-number">3306</span>/mydb?useSSL=<span class="hljs-literal">false</span>&amp;serverTimezone=UTC
<span class="hljs-attr">spring.datasource.username</span>=root
<span class="hljs-attr">spring.datasource.password</span>=<span class="hljs-number">123456</span>
spring.datasource.driver - class - <span class="hljs-attr">name</span>=com.mysql.cj.jdbc.Driver
AIå†™ä»£ç TypeScript
è¿è¡Œ
</code></pre>
<p>åœ¨application.ymlä¸­é…ç½®ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">datasource:</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/mydb?useSSL=false&amp;serverTimezone=UTC</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span>
    <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span>
    <span class="hljs-attr">driver - class - name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span>
<span class="hljs-string">AIå†™ä»£ç TypeScript</span>
<span class="hljs-string">è¿è¡Œ</span>
</code></pre>
<p>ä¸Šè¿°é…ç½®ä¸­ï¼Œspring.datasource.urlæŒ‡å®šäº† MySQL æ•°æ®åº“çš„è¿æ¥åœ°å€ï¼ŒåŒ…æ‹¬ä¸»æœºå<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%2F" title="http://localhost/" target="_blank" ref="nofollow noopener noreferrer">localhost</a>ã€ç«¯å£å·3306å’Œæ•°æ®åº“åmydbï¼Œ?useSSL=false&amp;serverTimezone=UTCæ˜¯è¿æ¥å‚æ•°ï¼Œç”¨äºç¦ç”¨ SSL è¿æ¥å’Œè®¾ç½®æ—¶åŒºä¸º UTCï¼›spring.datasource.usernameå’Œspring.datasource.passwordåˆ†åˆ«æ˜¯æ•°æ®åº“çš„ç”¨æˆ·åå’Œå¯†ç ï¼›spring.datasource.driver - class - nameæŒ‡å®šäº† MySQL æ•°æ®åº“çš„é©±åŠ¨ç±»ï¼Œå¯¹äº MySQL 8 åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œé€šå¸¸ä½¿ç”¨com.mysql.cj.jdbc.Driverã€‚</p>
</blockquote>
<blockquote>
<p><strong>3.é…ç½® JPA</strong>ï¼šåŒæ ·åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œé…ç½® JPA çš„ç›¸å…³å±æ€§ï¼Œå¦‚æ•°æ®åº“æ–¹è¨€ã€å®ä½“æ‰«æä½ç½®å’Œ DDL è‡ªåŠ¨æ›´æ–°ç­–ç•¥ç­‰ã€‚åœ¨application.propertiesä¸­æ·»åŠ ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">spring.jpa.hibernate.ddl-auto</span>=update
<span class="hljs-attr">spring.jpa.show-sql</span>=<span class="hljs-literal">true</span>
<span class="hljs-attr">spring.jpa.properties.hibernate.dialect</span>=org.hibernate.dialect.MySQL5InnoDBDialect
AIå†™ä»£ç TypeScript
è¿è¡Œ
</code></pre>
<p>åœ¨application.ymlä¸­æ·»åŠ ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">jpa:</span>
    <span class="hljs-attr">hibernate:</span>
      <span class="hljs-attr">ddl-auto:</span> <span class="hljs-string">update</span>
    <span class="hljs-attr">show-sql:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">properties:</span>
      <span class="hljs-attr">hibernate:</span>
        <span class="hljs-attr">dialect:</span> <span class="hljs-string">org.hibernate.dialect.MySQL5InnoDBDialect</span>
<span class="hljs-string">AIå†™ä»£ç TypeScript</span>
<span class="hljs-string">è¿è¡Œ</span>
</code></pre>
<p>Â å…¶ä¸­ï¼Œspring.jpa.hibernate.ddl-auto=updateè¡¨ç¤ºåœ¨åº”ç”¨å¯åŠ¨æ—¶ï¼Œæ ¹æ®å®ä½“ç±»çš„å®šä¹‰è‡ªåŠ¨æ›´æ–°æ•°æ®åº“è¡¨ç»“æ„ï¼Œå¦‚æœè¡¨ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼›spring.jpa.show-sql=trueè¡¨ç¤ºåœ¨æ§åˆ¶å°æ‰“å° JPA æ‰§è¡Œçš„ SQL è¯­å¥ï¼Œæ–¹ä¾¿è°ƒè¯•ï¼›spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialectæŒ‡å®šäº†ä½¿ç”¨ MySQL 5 InnoDB å­˜å‚¨å¼•æ“çš„æ–¹è¨€ï¼Œç”¨äºç”Ÿæˆé’ˆå¯¹ MySQL æ•°æ®åº“çš„ SQL æŸ¥è¯¢å’Œè¯­å¥ã€‚</p>
</blockquote>
<blockquote>
<p><strong>4.åˆ›å»ºå®ä½“ç±»</strong>ï¼šåˆ›å»ºä¸æ•°æ®åº“è¡¨å¯¹åº”çš„å®ä½“ç±»ï¼Œå¹¶ä½¿ç”¨ JPA æ³¨è§£æ¥æ ‡è®°å®ä½“ç±»å’Œå­—æ®µã€‚ä¾‹å¦‚ï¼Œåˆ›å»ºä¸€ä¸ªUserå®ä½“ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> javax.<span class="hljs-property">persistence</span>.<span class="hljs-property">Entity</span>;
<span class="hljs-keyword">import</span> javax.<span class="hljs-property">persistence</span>.<span class="hljs-property">GeneratedValue</span>;
<span class="hljs-keyword">import</span> javax.<span class="hljs-property">persistence</span>.<span class="hljs-property">GenerationType</span>;
<span class="hljs-keyword">import</span> javax.<span class="hljs-property">persistence</span>.<span class="hljs-property">Id</span>;
 
<span class="hljs-meta">@Entity</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue</span>(strategy = <span class="hljs-title class_">GenerationType</span>.<span class="hljs-property">IDENTITY</span>)
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">Long</span> id;
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> name;
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> email;
 
    <span class="hljs-comment">// ç”Ÿæˆgetterå’Œsetteræ–¹æ³•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Long</span> <span class="hljs-title function_">getId</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> id;
    }
 
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setId</span>(<span class="hljs-params">Long id</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span> = id;
    }
 
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> name;
    }
 
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setName</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> name</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    }
 
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getEmail</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> email;
    }
 
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setEmail</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> email</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">email</span> = email;
    }
}
<span class="hljs-variable constant_">AI</span>å†™ä»£ç <span class="hljs-title class_">TypeScript</span>
è¿è¡Œ
</code></pre>
<p>åœ¨è¿™ä¸ªå®ä½“ç±»ä¸­ï¼Œ@Entityæ³¨è§£è¡¨ç¤ºè¯¥ç±»æ˜¯ä¸€ä¸ªå®ä½“ç±»ï¼Œä¼šè¢«æ˜ å°„åˆ°æ•°æ®åº“è¡¨ï¼›@Idæ³¨è§£æ ‡è¯†idå­—æ®µä¸ºä¸»é”®ï¼›@GeneratedValue(strategy = GenerationType.IDENTITY)è¡¨ç¤ºä¸»é”®é‡‡ç”¨è‡ªå¢é•¿ç­–ç•¥ï¼Œå³æ•°æ®åº“ä¼šè‡ªåŠ¨ä¸ºæ¯æ¡è®°å½•ç”Ÿæˆå”¯ä¸€çš„ä¸»é”®å€¼ã€‚</p>
</blockquote>
<blockquote>
<p><strong>5.åˆ›å»º Repository æ¥å£</strong>ï¼šåˆ›å»ºä¸€ä¸ªç»§æ‰¿è‡ªJpaRepositoryçš„æ¥å£ï¼ŒSpring Data JPA ä¼šæ ¹æ®æ¥å£æ–¹æ³•åç§°è‡ªåŠ¨å®ç°æ•°æ®è®¿é—®é€»è¾‘ã€‚ä¾‹å¦‚ï¼Œåˆ›å»ºUserRepositoryæ¥å£ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.data.jpa.repository.JpaRepository;
 
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserRepository</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">JpaRepository</span>&lt;User, Long&gt; {
    <span class="hljs-comment">// å¯ä»¥æ·»åŠ è‡ªå®šä¹‰æŸ¥è¯¢æ–¹æ³•</span>
    User <span class="hljs-title function_">findByName</span><span class="hljs-params">(String name)</span>;
}
AIå†™ä»£ç TypeScript
è¿è¡Œ
</code></pre>
<p>UserRepositoryæ¥å£ç»§æ‰¿è‡ªJpaRepositoryï¼Œå…¶ä¸­Useræ˜¯å®ä½“ç±»ç±»å‹ï¼ŒLongæ˜¯ä¸»é”®çš„ç±»å‹ã€‚é€šè¿‡ç»§æ‰¿JpaRepositoryï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒæä¾›çš„ä¸€ç³»åˆ—é»˜è®¤æ–¹æ³•ï¼Œå¦‚saveï¼ˆä¿å­˜æˆ–æ›´æ–°å®ä½“ï¼‰ã€findByIdï¼ˆæ ¹æ®ä¸»é”®æŸ¥æ‰¾å®ä½“ï¼‰ã€findAllï¼ˆæŸ¥æ‰¾æ‰€æœ‰å®ä½“ï¼‰ç­‰ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨æ¥å£ä¸­å®šä¹‰è‡ªå®šä¹‰çš„æŸ¥è¯¢æ–¹æ³•ï¼Œå¦‚findByNameï¼ŒSpring Data JPA ä¼šæ ¹æ®æ–¹æ³•åè‡ªåŠ¨ç”Ÿæˆç›¸åº”çš„ SQL æŸ¥è¯¢è¯­å¥ã€‚</p>
</blockquote>
<h4 data-id="heading-6"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>5.2 ç¼–å†™<a href="https://link.juejin.cn?target=https%3A%2F%2Fso.csdn.net%2Fso%2Fsearch%3Fq%3D%25E6%2595%25B0%25E6%258D%25AE%25E8%25AE%25BF%25E9%2597%25AE%25E5%25B1%2582%26spm%3D1001.2101.3001.7020" target="_blank" title="https://so.csdn.net/so/search?q=%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E5%B1%82&amp;spm=1001.2101.3001.7020" ref="nofollow noopener noreferrer">æ•°æ®è®¿é—®å±‚</a>ä»£ç </h4>
<blockquote>
<p>å®Œæˆ Spring Data JPA çš„é›†æˆåï¼Œå°±å¯ä»¥ä½¿ç”¨Repositoryæ¥å£è¿›è¡Œæ•°æ®è®¿é—®æ“ä½œäº†ã€‚Spring Data JPA æä¾›äº†ä¸°å¯Œçš„æ–¹æ³•æ¥æ‰§è¡Œ CRUDï¼ˆåˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤ï¼‰æ“ä½œï¼ŒåŒæ—¶è¿˜æ”¯æŒé€šè¿‡æ–¹æ³•åå®šä¹‰æŸ¥è¯¢ã€ä½¿ç”¨æŸ¥è¯¢æ³¨è§£ç­‰æ–¹å¼è¿›è¡Œå¤æ‚æŸ¥è¯¢ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„æ•°æ®è®¿é—®å±‚ä»£ç ç¤ºä¾‹ï¼š</p>
</blockquote>
<blockquote>
<p><strong>1.ä¿å­˜æ•°æ®</strong>ï¼šä½¿ç”¨saveæ–¹æ³•å¯ä»¥ä¿å­˜æˆ–æ›´æ–°ä¸€ä¸ªå®ä½“å¯¹è±¡ã€‚å¦‚æœå®ä½“å¯¹è±¡çš„ä¸»é”®ä¸ºç©ºï¼Œsaveæ–¹æ³•ä¼šæ‰§è¡Œæ’å…¥æ“ä½œï¼›å¦‚æœä¸»é”®å·²å­˜åœ¨ï¼Œåˆ™æ‰§è¡Œæ›´æ–°æ“ä½œã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Autowired;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Service;
 
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserRepository userRepository;
 
    <span class="hljs-keyword">public</span> User saveUser(User user) {
        <span class="hljs-keyword">return</span> userRepository.save(user);
    }
}
AIå†™ä»£ç TypeScript
è¿è¡Œ
</code></pre>
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼ŒUserServiceç±»é€šè¿‡@Autowiredæ³¨è§£æ³¨å…¥äº†UserRepositoryå®ä¾‹ï¼Œç„¶ååœ¨saveUseræ–¹æ³•ä¸­è°ƒç”¨userRepository.save(user)æ–¹æ³•å°†Userå¯¹è±¡ä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚å¦‚æœä¿å­˜æˆåŠŸï¼Œsaveæ–¹æ³•ä¼šè¿”å›ä¿å­˜åçš„Userå¯¹è±¡ã€‚</p>
</blockquote>
<blockquote>
<p><strong>2.æŸ¥è¯¢æ•°æ®</strong>ï¼š</p>
<ul>
<li>
<p><strong>æ ¹æ®ä¸»é”®æŸ¥è¯¢</strong>ï¼šä½¿ç”¨findByIdæ–¹æ³•å¯ä»¥æ ¹æ®ä¸»é”®æŸ¥æ‰¾å®ä½“å¯¹è±¡ã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªOptionalå¯¹è±¡ï¼Œé€šè¿‡isPresentæ–¹æ³•å¯ä»¥åˆ¤æ–­æ˜¯å¦æ‰¾åˆ°å¯¹åº”çš„å®ä½“ï¼Œé€šè¿‡getæ–¹æ³•å¯ä»¥è·å–å®ä½“å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">public</span> User getUserById(<span class="hljs-built_in">Long</span> id) {
    <span class="hljs-keyword">return</span> userRepository.findById(id).orElse(<span class="hljs-literal">null</span>);
}
AIå†™ä»£ç TypeScript
è¿è¡Œ
</code></pre>
<p>è¿™é‡Œï¼ŒuserRepository.findById(id)è¿”å›ä¸€ä¸ªOptionalå¯¹è±¡ï¼Œå¦‚æœOptionalå¯¹è±¡ä¸ä¸ºç©ºï¼Œå³æ‰¾åˆ°äº†å¯¹åº”çš„ç”¨æˆ·ï¼Œåˆ™é€šè¿‡orElse(null)æ–¹æ³•è¿”å›è¯¥ç”¨æˆ·å¯¹è±¡ï¼›å¦‚æœOptionalå¯¹è±¡ä¸ºç©ºï¼Œå³æœªæ‰¾åˆ°å¯¹åº”çš„ç”¨æˆ·ï¼Œåˆ™è¿”å›nullã€‚</p>
</li>
<li>
<p><strong>æŸ¥è¯¢æ‰€æœ‰æ•°æ®</strong>ï¼šä½¿ç”¨findAllæ–¹æ³•å¯ä»¥æŸ¥è¯¢æ‰€æœ‰å®ä½“å¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ªIterableé›†åˆã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> Iterable&lt;User&gt; <span class="hljs-title">getAllUsers</span>()</span> {
    <span class="hljs-keyword">return</span> userRepository.findAll();
}
AIå†™ä»£ç TypeScript
è¿è¡Œ
</code></pre>
</li>
<li>
<p><strong>è‡ªå®šä¹‰æ–¹æ³•æŸ¥è¯¢</strong>ï¼šå¦‚å‰é¢åœ¨UserRepositoryæ¥å£ä¸­å®šä¹‰çš„findByNameæ–¹æ³•ï¼Œå¯ä»¥æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢ç”¨æˆ·ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-title class_">User</span> <span class="hljs-title function_">findUserByName</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> name</span>) {
    <span class="hljs-keyword">return</span> userRepository.<span class="hljs-title function_">findByName</span>(name);
}
<span class="hljs-variable constant_">AI</span>å†™ä»£ç <span class="hljs-title class_">TypeScript</span>
è¿è¡Œ
</code></pre>
<p>Spring Data JPA ä¼šæ ¹æ®æ–¹æ³•åfindByNameè‡ªåŠ¨ç”Ÿæˆ SQL æŸ¥è¯¢è¯­å¥ï¼Œå®ç°æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢ç”¨æˆ·çš„åŠŸèƒ½ã€‚</p>
</li>
</ul>
</blockquote>
<blockquote>
<p><strong>3.æ›´æ–°æ•°æ®</strong>ï¼šæ›´æ–°æ•°æ®åŒæ ·ä½¿ç”¨saveæ–¹æ³•ï¼Œå› ä¸ºsaveæ–¹æ³•ä¼šæ ¹æ®å®ä½“å¯¹è±¡çš„ä¸»é”®æ¥åˆ¤æ–­æ˜¯æ‰§è¡Œæ’å…¥è¿˜æ˜¯æ›´æ–°æ“ä½œã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">public <span class="hljs-keyword">User</span> updateUser(<span class="hljs-keyword">User</span> <span class="hljs-keyword">user</span>) {
    <span class="hljs-keyword">return</span> userRepository.save(<span class="hljs-keyword">user</span>);
}
AIå†™ä»£ç TypeScript
è¿è¡Œ
</code></pre>
<p>åœ¨è°ƒç”¨updateUseræ–¹æ³•æ—¶ï¼Œä¼ å…¥çš„Userå¯¹è±¡çš„ä¸»é”®å¿…é¡»æ˜¯å·²å­˜åœ¨äºæ•°æ®åº“ä¸­çš„ï¼Œè¿™æ ·saveæ–¹æ³•å°±ä¼šæ‰§è¡Œæ›´æ–°æ“ä½œï¼Œå°†Userå¯¹è±¡çš„æœ€æ–°æ•°æ®æ›´æ–°åˆ°æ•°æ®åº“ä¸­ã€‚</p>
</blockquote>
<blockquote>
<p><strong>4.åˆ é™¤æ•°æ®</strong>ï¼šä½¿ç”¨deleteByIdæ–¹æ³•å¯ä»¥æ ¹æ®ä¸»é”®åˆ é™¤å®ä½“å¯¹è±¡ï¼Œä½¿ç”¨deleteæ–¹æ³•å¯ä»¥åˆ é™¤ä¸€ä¸ªå®ä½“å¯¹è±¡ï¼Œä½¿ç”¨deleteAllæ–¹æ³•å¯ä»¥åˆ é™¤æ‰€æœ‰å®ä½“å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">deleteUserById</span>(<span class="hljs-params">Long id</span>) {
    userRepository.<span class="hljs-title function_">deleteById</span>(id);
}
 
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">deleteUser</span>(<span class="hljs-params">User user</span>) {
    userRepository.<span class="hljs-title function_">delete</span>(user);
}
 
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">deleteAllUsers</span>(<span class="hljs-params"/>) {
    userRepository.<span class="hljs-title function_">deleteAll</span>();
}
<span class="hljs-variable constant_">AI</span>å†™ä»£ç <span class="hljs-title class_">TypeScript</span>
è¿è¡Œ
</code></pre>
<p>ä¸Šè¿°ä»£ç åˆ†åˆ«å±•ç¤ºäº†æ ¹æ®ä¸»é”®åˆ é™¤ç”¨æˆ·ã€åˆ é™¤æŒ‡å®šç”¨æˆ·å¯¹è±¡å’Œåˆ é™¤æ‰€æœ‰ç”¨æˆ·çš„æ–¹æ³•ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œåº”æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„åˆ é™¤æ–¹æ³•ã€‚</p>
</blockquote>
<h4 data-id="heading-7"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>5.3 äº‹åŠ¡ç®¡ç†</h4>
<blockquote>
<p>äº‹åŠ¡ç®¡ç†æ˜¯ä¿è¯æ•°æ®å®Œæ•´æ€§å’Œä¸€è‡´æ€§çš„é‡è¦æœºåˆ¶ï¼Œå®ƒç¡®ä¿ä¸€ç»„æ•°æ®åº“æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸæ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥å›æ»šã€‚åœ¨ Spring Boot ä¸­ï¼Œä½¿ç”¨äº‹åŠ¡éå¸¸ç®€å•ï¼Œé€šè¿‡@Transactionalæ³¨è§£å°±å¯ä»¥è½»æ¾å®ç°äº‹åŠ¡ç®¡ç†ã€‚</p>
</blockquote>
<blockquote>
<p><strong>1.äº‹åŠ¡ç®¡ç†çš„æ¦‚å¿µ</strong>ï¼šäº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•å…ƒï¼Œå®ƒåŒ…å«å¤šä¸ªæ•°æ®åº“æ“ä½œï¼Œè¿™äº›æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸæäº¤ï¼Œä½¿æ•°æ®æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¸­ï¼›è¦ä¹ˆå…¨éƒ¨å¤±è´¥å›æ»šï¼Œæ’¤é”€ä¹‹å‰çš„æ‰€æœ‰æ“ä½œï¼Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªé“¶è¡Œè½¬è´¦çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œæ¶‰åŠåˆ°ä»è½¬å‡ºè´¦æˆ·æ‰£é™¤é‡‘é¢å’Œå‘è½¬å…¥è´¦æˆ·å¢åŠ é‡‘é¢ä¸¤ä¸ªæ“ä½œï¼Œè¿™ä¸¤ä¸ªæ“ä½œå¿…é¡»ä½œä¸ºä¸€ä¸ªäº‹åŠ¡æ¥å¤„ç†ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°è½¬å‡ºè´¦æˆ·é‡‘é¢å·²æ‰£é™¤ï¼Œä½†è½¬å…¥è´¦æˆ·é‡‘é¢æœªå¢åŠ çš„æƒ…å†µï¼Œå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ã€‚äº‹åŠ¡å…·æœ‰ ACID ç‰¹æ€§ï¼š</p>
<ul>
<li><strong>åŸå­æ€§ï¼ˆAtomicityï¼‰</strong> ï¼šäº‹åŠ¡ä¸­çš„æ‰€æœ‰æ“ä½œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸å®Œæˆï¼Œä¸ä¼šå‡ºç°éƒ¨åˆ†æˆåŠŸéƒ¨åˆ†å¤±è´¥çš„æƒ…å†µã€‚</li>
<li><strong>ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰</strong> ï¼šäº‹åŠ¡æ‰§è¡Œå‰åï¼Œæ•°æ®åº“çš„å®Œæ•´æ€§çº¦æŸä¸ä¼šè¢«ç ´åï¼Œæ•°æ®çš„çŠ¶æ€ä¿æŒä¸€è‡´ã€‚</li>
<li><strong>éš”ç¦»æ€§ï¼ˆIsolationï¼‰</strong> ï¼šå¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ï¼Œä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸èƒ½è¢«å…¶ä»–äº‹åŠ¡å¹²æ‰°ï¼Œæ¯ä¸ªäº‹åŠ¡éƒ½æ„Ÿè§‰ä¸åˆ°å…¶ä»–äº‹åŠ¡çš„å­˜åœ¨ã€‚</li>
<li><strong>æŒä¹…æ€§ï¼ˆDurabilityï¼‰</strong> ï¼šä¸€æ—¦äº‹åŠ¡æäº¤æˆåŠŸï¼Œå…¶å¯¹æ•°æ®åº“çš„ä¿®æ”¹å°†æ°¸ä¹…ä¿å­˜ï¼Œå³ä½¿ç³»ç»Ÿå‡ºç°æ•…éšœä¹Ÿä¸ä¼šä¸¢å¤±ã€‚</li>
</ul>
</blockquote>
<blockquote>
<p><strong>2.åœ¨ Spring Boot ä¸­ä½¿ç”¨äº‹åŠ¡</strong>ï¼šåœ¨ Spring Boot ä¸­ï¼Œä½¿ç”¨äº‹åŠ¡ä¸»è¦é€šè¿‡@Transactionalæ³¨è§£æ¥å®ç°ã€‚@Transactionalæ³¨è§£å¯ä»¥ä½œç”¨åœ¨ç±»æˆ–æ–¹æ³•ä¸Šï¼š</p>
<ul>
<li>
<p><strong>ä½œç”¨åœ¨ç±»ä¸Š</strong>ï¼šå½“@Transactionalæ³¨è§£ä½œç”¨åœ¨ç±»ä¸Šæ—¶ï¼Œè¡¨ç¤ºè¯¥ç±»ä¸­çš„æ‰€æœ‰å…¬å…±æ–¹æ³•éƒ½å°†è¢«äº‹åŠ¡ç®¡ç†ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">stereotype</span>.<span class="hljs-property">Service</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">transaction</span>.<span class="hljs-property">annotation</span>.<span class="hljs-property">Transactional</span>;
 
<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Transactional</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-comment">// ç±»ä¸­çš„æ‰€æœ‰å…¬å…±æ–¹æ³•éƒ½è¢«äº‹åŠ¡ç®¡ç†</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">someBusinessMethod</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘ä»£ç </span>
    }
}
<span class="hljs-variable constant_">AI</span>å†™ä»£ç <span class="hljs-title class_">TypeScript</span>
è¿è¡Œ
</code></pre>
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼ŒUserServiceç±»ä¸Šæ·»åŠ äº†@Transactionalæ³¨è§£ï¼Œå› æ­¤è¯¥ç±»ä¸­çš„someBusinessMethodæ–¹æ³•ä¼šè¢«äº‹åŠ¡ç®¡ç†ã€‚å¦‚æœåœ¨someBusinessMethodæ–¹æ³•ä¸­æ‰§è¡Œå¤šä¸ªæ•°æ®åº“æ“ä½œï¼Œè¿™äº›æ“ä½œå°†è¢«è§†ä¸ºä¸€ä¸ªäº‹åŠ¡ï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸæäº¤ï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥å›æ»šã€‚</p>
</li>
<li>
<p><strong>ä½œç”¨åœ¨æ–¹æ³•ä¸Š</strong>ï¼šå½“@Transactionalæ³¨è§£ä½œç”¨åœ¨æ–¹æ³•ä¸Šæ—¶ï¼Œä»…è¯¥æ–¹æ³•ä¼šè¢«äº‹åŠ¡ç®¡ç†ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">stereotype</span>.<span class="hljs-property">Service</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">transaction</span>.<span class="hljs-property">annotation</span>.<span class="hljs-property">Transactional</span>;
 
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">specificBusinessMethod</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘ä»£ç </span>
    }
}
<span class="hljs-variable constant_">AI</span>å†™ä»£ç <span class="hljs-title class_">TypeScript</span>
è¿è¡Œ
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œåªæœ‰specificBusinessMethodæ–¹æ³•è¢«äº‹åŠ¡ç®¡ç†ï¼Œè€ŒUserServiceç±»ä¸­çš„å…¶ä»–æ–¹æ³•ä¸ä¼šå—åˆ°äº‹åŠ¡çš„å½±å“ã€‚</p>
</li>
</ul>
</blockquote>
<blockquote>
<p><strong>3.äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸º</strong>ï¼šäº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºå®šä¹‰äº†ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•è¢«å¦ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•è°ƒç”¨æ—¶ï¼Œäº‹åŠ¡åº”è¯¥å¦‚ä½•ç®¡ç†ã€‚Spring Boot æ”¯æŒå¤šç§äº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼Œå¸¸è§çš„æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li><strong>REQUIREDï¼ˆé»˜è®¤ï¼‰</strong> ï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åŠ å…¥è¯¥äº‹åŠ¡ï¼›å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ã€‚ä¾‹å¦‚ï¼š</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ServiceA</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">ServiceB</span> serviceB;
 
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">methodA</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
        serviceB.<span class="hljs-title function_">methodB</span>();
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
    }
}
 
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ServiceB</span> {
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">methodB</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
    }
}
<span class="hljs-variable constant_">AI</span>å†™ä»£ç <span class="hljs-title class_">TypeScript</span>
è¿è¡Œ
</code></pre>
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼ŒServiceAçš„methodAæ–¹æ³•å’ŒServiceBçš„methodBæ–¹æ³•éƒ½è¢«æ ‡è®°ä¸º@Transactionalã€‚å½“methodAè°ƒç”¨methodBæ—¶ï¼Œç”±äºmethodAå·²ç»åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼ŒmethodBä¼šåŠ å…¥åˆ°methodAçš„äº‹åŠ¡ä¸­ï¼Œå®ƒä»¬å…±äº«åŒä¸€ä¸ªäº‹åŠ¡ã€‚</p>
<ul>
<li>
<p><strong>REQUIRES_NEW</strong>ï¼šæ— è®ºå½“å‰æ˜¯å¦å­˜åœ¨äº‹åŠ¡ï¼Œéƒ½åˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ã€‚å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™å°†å½“å‰äº‹åŠ¡æŒ‚èµ·ï¼Œç›´åˆ°æ–°äº‹åŠ¡å®Œæˆã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ServiceA</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">ServiceB</span> serviceB;
 
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">methodA</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
        serviceB.<span class="hljs-title function_">methodB</span>();
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
    }
}
 
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ServiceB</span> {
    <span class="hljs-meta">@Transactional</span>(propagation = <span class="hljs-title class_">Propagation</span>.<span class="hljs-property">REQUIRES_NEW</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">methodB</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
    }
}
<span class="hljs-variable constant_">AI</span>å†™ä»£ç <span class="hljs-title class_">TypeScript</span>
è¿è¡Œ
</code></pre>
<p>è¿™é‡Œï¼ŒServiceBçš„methodBæ–¹æ³•ä½¿ç”¨äº†REQUIRES_NEWä¼ æ’­è¡Œä¸ºã€‚å½“methodAè°ƒç”¨methodBæ—¶ï¼ŒmethodBä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼Œå¹¶ä¸”å°†methodAçš„äº‹åŠ¡æŒ‚èµ·ï¼Œç›´åˆ°methodBçš„äº‹åŠ¡å®Œæˆã€‚è¿™æ ·ï¼ŒmethodAå’ŒmethodBçš„äº‹åŠ¡æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œäº’ä¸å½±å“ã€‚</p>
</li>
<li>
<p><strong>NESTED</strong>ï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åœ¨å½“å‰äº‹åŠ¡ä¸­åˆ›å»ºä¸€ä¸ªåµŒå¥—äº‹åŠ¡ï¼›å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ã€‚åµŒå¥—äº‹åŠ¡å¯ä»¥æœ‰è‡ªå·±çš„å›æ»šç‚¹ï¼Œå½“åµŒå¥—äº‹åŠ¡å›æ»šæ—¶ï¼Œä¸ä¼šå½±å“å¤–å±‚äº‹åŠ¡çš„æäº¤ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ServiceA</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">ServiceB</span> serviceB;
 
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">methodA</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
            serviceB.<span class="hljs-title function_">methodB</span>();
            <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
        } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">Exception</span> e) {
            <span class="hljs-comment">// æ•è·å¼‚å¸¸å¹¶å¤„ç†ï¼Œä¸ä¼šå½±å“å¤–å±‚äº‹åŠ¡çš„æäº¤</span>
        }
    }
}
 
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ServiceB</span> {
    <span class="hljs-meta">@Transactional</span>(propagation = <span class="hljs-title class_">Propagation</span>.<span class="hljs-property">NESTED</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">methodB</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æ¨¡æ‹Ÿå¼‚å¸¸"</span>);
    }
}
<span class="hljs-variable constant_">AI</span>å†™ä»£ç <span class="hljs-title class_">TypeScript</span>
è¿è¡Œ
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒServiceBçš„methodBæ–¹æ³•ä½¿ç”¨äº†NESTEDä¼ æ’­è¡Œä¸ºã€‚å½“methodAè°ƒç”¨methodBæ—¶ï¼ŒmethodBä¼šåœ¨methodAçš„äº‹åŠ¡ä¸­åˆ›å»ºä¸€ä¸ªåµŒå¥—äº‹åŠ¡ã€‚å¦‚æœmethodBä¸­æŠ›å‡ºå¼‚å¸¸ï¼ŒåµŒå¥—äº‹åŠ¡ä¼šå›æ»šï¼Œä½†methodAçš„äº‹åŠ¡ä¸ä¼šå›æ»šï¼Œé™¤émethodAä¸­ä¹ŸæŠ›å‡ºæœªå¤„ç†çš„å¼‚å¸¸ã€‚</p>
</li>
</ul>
</blockquote>
<blockquote>
<p><strong>4.äº‹åŠ¡çš„éš”ç¦»çº§åˆ«</strong>ï¼šäº‹åŠ¡éš”ç¦»çº§åˆ«å®šä¹‰äº†ä¸€ä¸ªäº‹åŠ¡å¯¹å…¶ä»–äº‹åŠ¡çš„å¯è§æ€§å’Œæ•°æ®ä¸€è‡´æ€§çš„ä¿è¯ç¨‹åº¦ã€‚Spring Boot æ”¯æŒå¤šç§äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œå¸¸è§çš„æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li><strong>READ_UNCOMMITTED</strong>ï¼šè¯»å–æœªæäº¤çš„æ•°æ®ã€‚è¿™æ˜¯æœ€ä½çš„éš”ç¦»çº§åˆ«ï¼Œä¸€ä¸ªäº‹åŠ¡å¯ä»¥è¯»å–åˆ°å…¶ä»–äº‹åŠ¡å°šæœªæäº¤çš„æ•°æ®ï¼Œå¯èƒ½ä¼šå¯¼è‡´è„è¯»ã€ä¸å¯é‡å¤è¯»å’Œå¹»è¯»ç­‰é—®é¢˜ã€‚</li>
<li><strong>READ_COMMITTED</strong>ï¼šè¯»å–å·²æäº¤çš„æ•°æ®ã€‚ä¸€ä¸ªäº‹åŠ¡åªèƒ½è¯»å–åˆ°å…¶ä»–äº‹åŠ¡å·²ç»æäº¤çš„æ•°æ®ï¼Œå¯ä»¥é¿å…è„è¯»ï¼Œä½†ä»å¯èƒ½å‡ºç°ä¸å¯é‡å¤è¯»å’Œå¹»è¯»é—®é¢˜ã€‚</li>
<li><strong>REPEATABLE_READ</strong>ï¼šå¯é‡å¤è¯»ã€‚åœ¨ä¸€ä¸ªäº‹åŠ¡å†…å¤šæ¬¡è¯»å–åŒä¸€æ•°æ®æ—¶ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯ä¸€è‡´çš„ï¼Œå³ä½¿å…¶ä»–äº‹åŠ¡å¯¹è¯¥æ•°æ®è¿›è¡Œäº†ä¿®æ”¹å¹¶æäº¤ï¼Œä¹Ÿä¸ä¼šå½±å“å½“å‰äº‹åŠ¡çš„è¯»å–ç»“æœï¼Œå¯ä»¥é¿å…è„è¯»å’Œä¸å¯é‡å¤è¯»ï¼Œä½†ä»å¯èƒ½å‡ºç°å¹»è¯»é—®é¢˜ã€‚</li>
<li><strong>SERIALIZABLE</strong>ï¼šä¸²è¡ŒåŒ–ã€‚è¿™æ˜¯æœ€é«˜çš„éš”ç¦»çº§åˆ«ï¼Œäº‹åŠ¡ä¸²è¡Œæ‰§è¡Œï¼Œé¿å…äº†è„è¯»ã€ä¸å¯é‡å¤è¯»å’Œå¹»è¯»ç­‰æ‰€æœ‰å¹¶å‘é—®é¢˜ï¼Œä½†ä¼šä¸¥é‡å½±å“ç³»ç»Ÿçš„å¹¶å‘æ€§èƒ½ã€‚</li>
</ul>
<p>åœ¨ Spring Boot ä¸­ï¼Œå¯ä»¥é€šè¿‡@Transactionalæ³¨è§£çš„isolationå±æ€§æ¥æŒ‡å®šäº‹åŠ¡çš„éš”ç¦»çº§åˆ«ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-meta">@Transactional(isolation = Isolation.REPEATABLE_READ)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">someBusinessMethod</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
    }
}
AIå†™ä»£ç TypeScript
è¿è¡Œ
</code></pre>
<p>ä¸Šè¿°ä»£ç ä¸­ï¼ŒsomeBusinessMethodæ–¹æ³•çš„äº‹åŠ¡éš”ç¦»çº§åˆ«è¢«è®¾ç½®ä¸ºREPEATABLE_READï¼Œ</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸Šçº¿å¡åŠå¤œã€å‡º bug åªèƒ½ç¡¬æ‰›ï¼Ÿå‰ç«¯è‡ªåŠ¨åŒ–éƒ¨ç½² + ç§’çº§å›æ»šæ–¹æ¡ˆæ¥äº†]]></title>    <link>https://juejin.cn/post/7591207451778498586</link>    <guid>https://juejin.cn/post/7591207451778498586</guid>    <pubDate>2026-01-04T07:35:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591207451778498586" data-draft-id="7591243363082043430" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸Šçº¿å¡åŠå¤œã€å‡º bug åªèƒ½ç¡¬æ‰›ï¼Ÿå‰ç«¯è‡ªåŠ¨åŒ–éƒ¨ç½² + ç§’çº§å›æ»šæ–¹æ¡ˆæ¥äº†"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-04T07:35:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JavaEdgeåœ¨æ˜é‡‘"/> <meta itemprop="url" content="https://juejin.cn/user/26044012176424"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸Šçº¿å¡åŠå¤œã€å‡º bug åªèƒ½ç¡¬æ‰›ï¼Ÿå‰ç«¯è‡ªåŠ¨åŒ–éƒ¨ç½² + ç§’çº§å›æ»šæ–¹æ¡ˆæ¥äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/26044012176424/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JavaEdgeåœ¨æ˜é‡‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T07:35:11.000Z" title="Sun Jan 04 2026 07:35:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡å·²æ”¶å½•åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FJava-Edge%2FJava-Interview-Tutorial" target="_blank" title="https://github.com/Java-Edge/Java-Interview-Tutorial" ref="nofollow noopener noreferrer">Github</a>ï¼Œ<strong>å…³æ³¨æˆ‘ï¼Œç´§è·Ÿæœ¬ç³»åˆ—ä¸“æ æ–‡ç« ï¼Œå’±ä»¬ä¸‹ç¯‡å†ç»­ï¼</strong></p>
<ul>
<li>ğŸš€ é­”éƒ½æ¶æ„å¸ˆ | å…¨ç½‘30WæŠ€æœ¯è¿½éšè€…</li>
<li>ğŸ”§ å¤§å‚åˆ†å¸ƒå¼ç³»ç»Ÿ/æ•°æ®ä¸­å°å®æˆ˜ä¸“å®¶</li>
<li>ğŸ† ä¸»å¯¼äº¤æ˜“ç³»ç»Ÿç™¾ä¸‡çº§æµé‡è°ƒä¼˜ &amp; è½¦è”ç½‘å¹³å°æ¶æ„</li>
<li>ğŸ§  AIGCåº”ç”¨å¼€å‘å…ˆè¡Œè€… | åŒºå—é“¾è½åœ°å®è·µè€…</li>
<li>ğŸŒ ä»¥æŠ€æœ¯é©±åŠ¨åˆ›æ–°ï¼Œæˆ‘ä»¬çš„å¾é€”æ˜¯æ”¹å˜ä¸–ç•Œï¼</li>
<li>ğŸ‘‰ å®æˆ˜å¹²è´§ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.javaedge.cn%2F" target="_blank" title="http://www.javaedge.cn/" ref="nofollow noopener noreferrer">ç¼–ç¨‹ä¸¥é€‰ç½‘</a></li>
</ul>
<h2 data-id="heading-0">0 å‰è¨€</h2>
<p>é¡¹ç›®ä¸Šçº¿å‰æœ€åä¸€æ­¥ï¼ŒæŠŠå¼€å‘å¥½çš„ä»£ç éƒ¨ç½²åˆ°çº¿ä¸Šã€‚</p>
<p>â€œnpm run buildä¸å°±è¡Œâ€ã€‚è¿™åªæ˜¯åœ¨æœ¬åœ°æŠŠä»£ç æ‰“åŒ…ï¼Œæƒ³åœ¨çº¿ä¸Šä¹Ÿå¯è®¿é—®è¿™äº›ä»£ç ï¼Œè¿˜éœ€éƒ¨ç½²ã€‚æ‰€ä»¥åœ¨ä¸‹é¢ï¼Œå¦‚ä»Šçš„å‰ç«¯ä»£ç éƒ¨ç½²æ—¶çš„éš¾ç‚¹åœ¨å“ªå‘¢ï¼Ÿ</p>
<h2 data-id="heading-1">1 éƒ¨ç½²éš¾ç‚¹</h2>
<h3 data-id="heading-2">jQueryæ—¶ä»£ä¹‹å‰</h3>
<p>å‰ç«¯é¡¹ç›®ä¸­æ‰€æœ‰å†…å®¹éƒ½æ˜¯ä¸€äº›ç®€å•çš„é™æ€èµ„æºã€‚ç½‘ç«™è¿˜æ²¡éƒ¨ç½²çš„æ¦‚å¿µï¼Œç½‘ç«™ä¸Šçº¿å‰ï¼Œç›´æ¥æŠŠå¼€å‘å®Œçš„é¡¹ç›®æ‰“åŒ…å‘ç»™è¿ç»´ï¼Œå†ç”±è¿ç»´æŠŠä»£ç ç›´æ¥ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„ç½‘ç«™æ ¹ç›®å½•ä¸‹è§£å‹ç¼©ï¼Œå®Œæˆé¡¹ç›®éƒ¨ç½²ã€‚</p>
<h3 data-id="heading-3">jQueryæ—¶ä»£</h3>
<p>é¡¹ç›®çš„å…¥å£é¡µé¢è¢«åç«¯ç®¡ç†ï¼Œæ¨¡æ¿éƒ¨ç½²åˆ°åç«¯ï¼ŒCSSã€jså’Œå›¾ç‰‡ç­‰é™æ€èµ„æºä¾ç„¶æ˜¯æ‰“åŒ…åˆ°åç«¯ä¹‹åï¼Œå†è§£å‹å¤„ç†ã€‚ä½†ç°åœ¨ï¼Œå¯¹å‰ç«¯çš„æ€§èƒ½å’Œç¨³å®šæ€§çš„è¦æ±‚ä¹Ÿè¶Šæ¥è¶Šé«˜ï¼ŒjQueryæ—¶ä»£é‚£ç§ç®€å•éƒ¨ç½²æ¨¡å¼ä¸è¶³ä»¥åº”å¯¹æ€§èƒ½ä¼˜åŒ–ã€æŒç»­éƒ¨ç½²ã€‚</p>
<h3 data-id="heading-4">å½“ä¸‹ä¸»è¦é¢ä¸´çš„ä»£ç éƒ¨ç½²éš¾ç‚¹</h3>
<ul>
<li>å’‹é«˜æ•ˆåœ°åˆ©ç”¨é¡¹ç›®ä¸­çš„æ–‡ä»¶ç¼“å­˜</li>
<li>å’‹èƒ½è®©æ•´ä¸ªé¡¹ç›®çš„ä¸Šçº¿éƒ¨ç½²è¿‡ç¨‹è‡ªåŠ¨åŒ–ï¼Œå°½å¯èƒ½é¿å…äººåŠ›çš„ä»‹å…¥ï¼Œæé«˜ä¸Šçº¿ç¨³å®šæ€§</li>
<li>é¡¹ç›®ä¸Šçº¿ä¹‹åï¼Œå¦‚æœå‘ç°æœ‰é‡å¤§Bugï¼Œè¦è€ƒè™‘å’‹å°½å¿«å›æ»šä»£ç </li>
</ul>
<p>å½“æˆ‘ä»¬é¢å¯¹è¿™äº›ä»£ç éƒ¨ç½²ä¸Šçš„éš¾ç‚¹ï¼Œç‰¹åˆ«æ˜¯åœ¨å›¢é˜Ÿåä½œçš„é¡¹ç›®ä¸­é‡åˆ°æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘å¯¹é¡¹ç›®è¿›è¡Œè‡ªåŠ¨åŒ–éƒ¨ç½²äº†ï¼Œè¿™æ ·ä»£ç éƒ¨ç½²çš„é€Ÿåº¦å’Œç¨³å®šæ€§ä¼šç»™é¡¹ç›®ç ”å‘æ•ˆç‡å¸¦æ¥å¾ˆå¥½çš„æå‡ã€‚</p>
<h2 data-id="heading-5">2 ä¸Šçº¿å‰çš„è‡ªåŠ¨åŒ–éƒ¨ç½²</h2>
<p>å¦‚ä¸‹æ˜¯å¤§éƒ¨åˆ†å›¢é˜Ÿéƒ¨ç½²é¡¹ç›®æ—¶çš„é€»è¾‘ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A[å¼€å‘ä»£ç ] --&gt;|æ‰“åŒ…å‹ç¼©| B[æ‰“åŒ…ä»£ç ]
    B --&gt;|ä¸Šä¼ | C[æœåŠ¡å™¨]
    
    style A fill:#90EE90
    style B fill:#90EE90
    style C fill:#87CEEB
</code></pre>
<p>å®Œæˆæ‰“åŒ…å‹ç¼©ï¼Œå³å¼€å‘å®Œé¡¹ç›®åï¼Œä»£ç æ¨é€åˆ°GitHubï¼Œå°±ç®—å®Œæˆä»»åŠ¡ã€‚ä½†æ‰“åŒ…ä»£ç åï¼ŒæŠŠä»£ç ä¸Šä¼ æœåŠ¡å™¨ä¹Ÿæ˜¯è¿™æ­¥ï¼Œå¯¹äºå‰ç«¯å¼€å‘è€…ï¼Œå¾ˆå°‘èƒ½æ¥è§¦ï¼Œä½†å´å¾ˆé‡è¦ã€‚</p>
<p>å’‹æŠŠæ‰“åŒ…å¥½çš„ä»£ç ä¸Šä¼ æœåŠ¡å™¨ï¼Œéœ€å¥½çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<ul>
<li>å…ˆéœ€ä¸€å°ç‹¬ç«‹æœºå™¨è¿›è¡Œæ‰“åŒ…å’Œæ„å»ºï¼Œè¯¥æœºå™¨éœ€ç‹¬ç«‹äºæ‰€æœ‰å¼€å‘ç¯å¢ƒï¼Œä¸ºä¿è¯æ‰“åŒ…ç¯å¢ƒç¨³å®š</li>
<li>éƒ¨ç½²ä»»åŠ¡å¯åŠ¨çš„æ—¶å€™ï¼Œéœ€æ‹‰å–è¿œç¨‹ä»£ç ï¼Œå¹¶åˆ‡æ¢åˆ°éœ€éƒ¨ç½²çš„åˆ†æ”¯ï¼Œç„¶åé”å®šNodeç‰ˆæœ¬è¿›è¡Œä¾èµ–å®‰è£…ã€å•å…ƒæµ‹è¯•ã€ESLintç­‰ä»£ç æ£€æŸ¥å·¥ä½œ</li>
<li>æœ€åï¼Œåœ¨è¿™å°æœºå™¨ï¼Œæ‰§è¡Œç»è¿‡ç¼–è¯‘äº§å‡ºçš„æ‰“åŒ…åçš„ä»£ç ï¼Œå¹¶æ‰“åŒ…ä¸Šä¼ ä»£ç åˆ°CDNå’Œé™æ€æœåŠ¡å™¨</li>
<li>å®Œæˆè¿™äº›æ“ä½œåï¼Œè¿˜è¦èƒ½é€šè¿‡è„šæœ¬è‡ªåŠ¨é€šè¿‡å†…éƒ¨æ²Ÿé€šè½¯ä»¶é€šçŸ¥å›¢é˜Ÿé¡¹ç›®æ„å»ºçš„ç»“æœ</li>
</ul>
<p>é¡¹ç›®éƒ¨ç½²è¿‡ç¨‹å¯èƒ½é‡åˆ°å¦‚ä¸‹</p>
<h3 data-id="heading-6">é—®é¢˜</h3>
<ul>
<li>åœ¨ä»€ä¹ˆosç¯å¢ƒä¸­æ‰§è¡Œé¡¹ç›®çš„æ„å»ºï¼Ÿ</li>
<li>ç”±è°è§¦å‘æ„å»ºï¼Ÿ</li>
<li>å’‹ç®¡ç†å‰é¢æ‰€è¿°çš„æŠŠä»£ç ä¸Šä¼ CDNæ—¶ï¼ŒCDNè´¦æˆ·çš„æƒé™ï¼Ÿ</li>
<li>å’‹è‡ªåŠ¨åŒ–æ‰§è¡Œéƒ¨ç½²çš„å…¨è¿‡ç¨‹ï¼Œè‹¥æ¯æ¬¡éƒ½ç”±äººå·¥æ‰§è¡Œï¼Œå°±å¾—æ¶ˆè€—ä¸€ä¸ªäººåŠ›å®ˆç€ç¼–è¯‘æ‰“åŒ…ï¼Œä¸”æ˜“å¼•å‘é—®é¢˜ï¼Œå¦‚æµ‹è¯•çš„æ­¥éª¤é—æ¼æˆ–éƒ¨ç½²é¡ºåºå‡ºé”™ã€‚å’‹æå‡æ„å»ºé€Ÿç‡ï¼Œæ˜¯éƒ¨ç½²åŠŸèƒ½ä¸­éœ€è§£å†³çš„é‡è¦é—®é¢˜ã€‚</li>
</ul>
<h3 data-id="heading-7">è§£å†³æ–¹æ¡ˆ</h3>
<p>å¦‚é‡‡ç”¨èƒ½ä¿è¯ç¯å¢ƒä¸€è‡´æ€§çš„Dockerï¼›è‡ªåŠ¨åŒ–æ„å»ºè§¦å‘å¯é€šè¿‡GitHub Actionsï¼›GitHubçš„actionsåŠŸèƒ½ç›¸å½“äºç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå…è´¹çš„æœåŠ¡å™¨ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°ç›‘æ§ä»£ç çš„æ¨é€ã€å®‰è£…ä¾èµ–ã€ä»£ç ç¼–è¯‘è‡ªåŠ¨ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A[å¼€å‘ä»£ç ] --&gt;|æ¨é€ä»£ç | B[Github]
    B --&gt; C[ç¯å¢ƒä¾èµ– / è‡ªåŠ¨åŒ–æµ‹è¯• / ä»£ç æ‰“åŒ… / é€šçŸ¥]
    C --&gt; D[æ‰“åŒ…åä»£ç ]
    D --&gt;|html| E[æœåŠ¡å™¨]
    D --&gt;|é™æ€èµ„æº| F[CDN]
    
    style A fill:#90EE90
    style B fill:#90EE90
    style C fill:#90EE90
    style D fill:#90EE90
    style E fill:#87CEEB
    style F fill:#87CEEB
</code></pre>
<p>è¿™æ˜¯ç”¨GitHub Actionséƒ¨ç½²é¡¹ç›®åçš„é¡¹ç›®å¼€å‘æµç¨‹ã€‚ç°åœ¨é™æ€èµ„æºç®¡ç†å·²å®Œæˆï¼Œä¹Ÿå®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚æäº¤ä»£ç åï¼Œé¡¹ç›®å°±å¯è‡ªåŠ¨æ¨é€åˆ°æœåŠ¡å™¨ï¼Œç½‘ç«™ç¬¬ä¸€æ¬¡ä¸Šçº¿æˆåŠŸã€‚</p>
<h2 data-id="heading-8">3 ä¸Šçº¿åçš„è‡ªåŠ¨åŒ–éƒ¨ç½²</h2>
<p>åç»­çš„æŒç»­ä¸Šçº¿å’‹åŠï¼Ÿç›´æ¥å‘åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œé¢ä¸´æå¤§é£é™©ã€‚ä½†ä¸ç›´æ¥å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒï¼Œæˆ‘ä»¬å°±ä¸èƒ½åœ¨æœ¬åœ°å’Œæµ‹è¯•çš„å‰ç«¯ç¯å¢ƒå»è¿æ¥ç”Ÿäº§ç¯å¢ƒçš„æ•°æ®åº“ã€‚</p>
<p>éœ€é¢„å‘å¸ƒçš„ï¼ˆPreï¼‰ç¯å¢ƒï¼Œåªèƒ½è®©æµ‹è¯•å’Œå¼€å‘è®¿é—®ï¼Œé™¤äº†è®¿é—®åœ°å€çš„ç¯èŠ‚ä¸åŒï¼Œå…¶ä»–æ‰€æœ‰ç¯èŠ‚éƒ½å’Œç”Ÿäº§ç¯å¢ƒä¸€è‡´ï¼Œæä¾›æœ€çœŸå®çš„å›å½’æµ‹è¯•ç¯å¢ƒã€‚</p>
<p>åˆé¢ä¸´</p>
<h3 data-id="heading-9">3.1 é—®é¢˜</h3>
<p>è‹¥ç¡®å®šä¸‹å‘¨ä¸€é›¶ç‚¹å‘å¸ƒï¼Œå°±åªèƒ½æ™šä¸Š12ç‚¹å‡†æ—¶å®ˆåœ¨ç”µè„‘å‰ç­‰ç»“æœï¼Ÿè‹¥npmå®‰è£…ä¾èµ–å¤±è´¥æˆ–ä¸Šçº¿åå‘ç°é‡å¤§Bugï¼Œå°±åªèƒ½è¿æŠ•è¯‰ï¼Ÿ</p>
<p>éšnode_modulesä½“ç§¯è¶Šæ¥è¶Šå¤§ï¼Œæ„å»ºæ—¶é—´è¶Šæ¥è¶Šé•¿ã€‚è‹¥æ¯æ¬¡æ„å»ºéƒ½éœ€30minç”šè‡³æ›´é•¿ï¼Œå³ä½¿Bugåœ¨é¡¹ç›®åˆšä¸Šçº¿æ—¶å°±å‘ç°ï¼Œä¸”ç§’çº§å“åº”ä¿®å¤ï¼Œä½†é‡æ–°éƒ¨ç½²é¡¹ç›®æ—¶ï¼Œä¹Ÿè¦ç­‰æœåŠ¡å™¨æ…¢æ…¢ç¼–è¯‘ã€‚æ—¶é—´å°±æ˜¯é‡‘é’±ï¼Œè‹¥ä½ åœ¨ä¿®å¤Bugå’Œé‡æ–°éƒ¨ç½²é¡¹ç›®ä¸Šè€—æ—¶é•¿ï¼Œå°±å¯¼è‡´é¡¹ç›®æ•…éšœæ—¶é—´è¿‡é•¿ã€‚</p>
<h3 data-id="heading-10">è§£å†³æ–¹æ¡ˆ</h3>
<p>éœ€ä¸€ç§æœºåˆ¶ï¼Œè®©æˆ‘ä»¬å‘ç°é—®é¢˜åï¼Œå°½å¿«å›æ»šç‰ˆæœ¬ï¼Œä¸”åœ¨å›æ»šè¿‡ç¨‹ï¼Œå°½å¯èƒ½æ— éœ€äººåŠ›ä»‹å…¥ã€‚æ‰€ä»¥ï¼Œéœ€é™æ€èµ„æºçš„ç‰ˆæœ¬ç®¡ç†ï¼Œå³è®©æ¯ä¸ªå†å²ç‰ˆæœ¬çš„èµ„æºéƒ½ä¿ç•™ï¼Œä¸”æœ‰å”¯ä¸€ç‰ˆæœ¬å·ï¼Œå¦‚æ•…éšœï¼Œèƒ½ç¬é—´åˆ‡æ¢ç‰ˆæœ¬ã€‚è¿™ä¸ªè¿‡ç¨‹ç”±å…·ä½“ä»£ç å®ç°åï¼Œåªéœ€ç‚¹å‡»å›æ»šçš„ç‰ˆæœ¬å·ï¼Œç³»ç»Ÿå°±è‡ªåŠ¨æ¢å¤åˆ°ä¸Šçº¿å‰ç‰ˆæœ¬ã€‚</p>
<p>è¯¥æœºåˆ¶ä¸‹ï¼Œå¦‚ä¸šåŠ¡æµé‡ç‰¹å¤§ï¼Œé‚£ç›´æ¥å…¨é‡ä¸Šçº¿çš„æ“ä½œå°±ä¼šè¢«ç¦æ­¢ã€‚ä¸ºå‡å°‘ä¸Šçº¿æ—¶ï¼Œéƒ¨ç½²æ“ä½œå¯¹ç”¨æˆ·çš„å½±å“ï¼Œéœ€å…ˆé€‰æ‹©ä¸€éƒ¨åˆ†ç”¨æˆ·åšç°åº¦æµ‹è¯•ï¼Œå³ä¸Šçº¿åçš„é¡¹ç›®çš„è®¿é—®æƒé™ï¼Œæš‚æ—¶åªå¯¹è¿™äº›ç”¨æˆ·å¼€æ”¾ã€‚æˆ–åšABæµ‹è¯•ï¼Œå¦‚ç»™åŒ—äº¬çš„åŒå­¦æ¨é€Vueè¯¾ï¼Œç»™ä¸Šæµ·æ¨èReactè¯¾ç­‰ã€‚æˆ‘ä»¬è¦åšçš„ï¼Œæ˜¯æŠŠä¸åŒç‰ˆæœ¬ä»£ç åˆ†å¼€æ‰“åŒ…ï¼Œäº’ä¸å¹²æ¶‰ã€‚ä¹‹åï¼Œå†è®¾è®¡éƒ¨ç½²çš„æœºå™¨å’Œæœºæˆ¿å»é€‚é…ä¸åŒç”¨æˆ·ã€‚</p>
<p>Gtihubä¸­å¯ç”¨actionsé…ç½®æ‰“åŒ…åŠŸèƒ½ï¼Œä¸‹é¢çš„ä»£ç æ˜¯actionsçš„é…ç½®æ–‡ä»¶ã€‚Ubuntuä½œæœåŠ¡å™¨çš„æ‰“åŒ…ç¯å¢ƒï¼Œæ‹‰å–GitHubæœ€æ–°masterä»£ç ï¼Œå¹¶æŠŠNodeç‰ˆæœ¬å›ºå®š14.7.6ï¼Œæ‰§è¡Œnpm installåï¼Œå†æ‰§è¡Œnpm run buildä»£ç æ‰“åŒ…å‹ç¼©ã€‚</p>
<p>é€šè¿‡GitHub Actionsè‡ªåŠ¨åŒ–æ‰“åŒ…ä¸€ä»½å‡†å¤‡ä¸Šçº¿çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">æ‰“åŒ…åº”ç”¨çš„actions</span>
<span class="hljs-attr">on:</span>
  <span class="hljs-attr">push:</span> <span class="hljs-comment"># ç›‘å¬ä»£ç æ—¶é—´</span>
    <span class="hljs-attr">branches:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">master</span>  <span class="hljs-comment"># masteråˆ†æ”¯ä»£ç æ¨é€çš„æ—¶å€™æ¿€æ´»å½“å‰action</span>
<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">build:</span>
    <span class="hljs-comment"># runs-on æ“ä½œç³»ç»Ÿ</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">è¿å‡ºä»£ç </span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@master</span>
      <span class="hljs-comment"># å®‰è£…Node</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">å®‰è£…Node</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v1</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">node-version:</span> <span class="hljs-number">14.7</span><span class="hljs-number">.6</span>
      <span class="hljs-comment"># å®‰è£…ä¾èµ–</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">å®‰è£…ä¾èµ–</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">install</span>
      <span class="hljs-comment"># æ‰“åŒ…</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">æ‰“åŒ…</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">run</span> <span class="hljs-string">build</span>
</code></pre>
<p>ç„¶åé…ç½®ä¸Šçº¿æœåŠ¡å™¨å’ŒGitHub ActionsæœåŠ¡å™¨çš„ä¿¡ä»»å…³ç³»ï¼Œé€šè¿‡SSHå¯†é’¥å¯å®ç°å…ç™»å½•ç›´æ¥éƒ¨ç½²ã€‚ç›´æ¥æŠŠbuildåçš„ä»£ç æ‰“åŒ…å‹ç¼©ï¼Œé€šè¿‡SSHç›´æ¥ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œå¹¶ä¸”è¦è¿›è¡Œä»£ç æ–‡ä»¶ç‰ˆæœ¬çš„ç®¡ç†ï¼Œå°±å®Œæˆä»£ç éƒ¨ç½²ã€‚</p>
<p>éƒ¨ç½²æˆåŠŸåçš„ç»“æœé€šçŸ¥ã€‚é’‰é’‰ã€é£ä¹¦éƒ½æä¾›æ¨é€ç»“æœï¼Œå¯éšæ—¶é€šè¿‡ç¾¤æœºå™¨äººæ¥å£æŠŠæ¶ˆæ¯æ¨é€åˆ°ç¾¤å†…ï¼ŒæŠŠç‰ˆæœ¬å·ã€éƒ¨ç½²æ—¥æœŸã€å‘èµ·äººç­‰ä¿¡æ¯æ¨é€åˆ°å¯¹åº”æ¥å£ï¼Œå°±å®Œæˆè‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C# é›ªèŠ±IDå®ç°æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7591104893391847478</link>    <guid>https://juejin.cn/post/7591104893391847478</guid>    <pubDate>2026-01-04T08:36:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591104893391847478" data-draft-id="7591129807755444287" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C# é›ªèŠ±IDå®ç°æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-04T08:36:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸œç™¾ç‰§ç äºº"/> <meta itemprop="url" content="https://juejin.cn/user/1345457965762301"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C# é›ªèŠ±IDå®ç°æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1345457965762301/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸œç™¾ç‰§ç äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T08:36:55.000Z" title="Sun Jan 04 2026 08:36:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ å¸Œæœ›åœ¨.NETä¸­å®ç°ä¸€ä¸ªå®Œæ•´ã€çº¿ç¨‹å®‰å…¨ä¸”èƒ½å¤„ç†æ—¶é’Ÿå›æ‹¨é—®é¢˜çš„é›ªèŠ±IDï¼ˆSnowflakeï¼‰ç®—æ³•ï¼Œç”¨äºåˆ†åº“åˆ†è¡¨åœºæ™¯ä¸‹ç”Ÿæˆå…¨å±€å”¯ä¸€çš„åˆ†å¸ƒå¼IDï¼Œé¿å…ä¸åŒåº“/è¡¨çš„ä¸»é”®é‡å¤ã€‚</p>
<p>é›ªèŠ±IDæ˜¯Twitterå¼€æºçš„åˆ†å¸ƒå¼IDç”Ÿæˆç®—æ³•ï¼Œæ ¸å¿ƒæ˜¯å°†64ä½é•¿æ•´å‹IDæŒ‰è§„åˆ™æ‹†åˆ†ï¼Œä¿è¯å…¨å±€å”¯ä¸€ä¸”è¶‹åŠ¿é€’å¢ã€‚ä¸‹é¢å…ˆè®²è§£æ ¸å¿ƒç»“æ„ï¼Œå†ç»™å‡ºå¯ç›´æ¥ä½¿ç”¨çš„.NETå®ç°ä»£ç ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€é›ªèŠ±IDæ ¸å¿ƒç»“æ„ï¼ˆ64ä½longå‹ï¼‰</h2>






























<table><thead><tr><th>ä½æ®µ</th><th>é•¿åº¦</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>ç¬¦å·ä½</td><td>1ä½</td><td>å›ºå®šä¸º0ï¼ˆä¿è¯IDä¸ºæ­£æ•°ï¼‰</td></tr><tr><td>æ—¶é—´æˆ³ä½</td><td>41ä½</td><td>è®°å½•ç”ŸæˆIDçš„æ¯«ç§’çº§æ—¶é—´æˆ³ï¼ˆç›¸å¯¹äºä¸€ä¸ªèµ·å§‹æ—¶é—´ï¼‰ï¼Œå¯æ”¯æŒçº¦69å¹´ï¼ˆ2^41-1ï¼‰</td></tr><tr><td>æœºå™¨/èŠ‚ç‚¹ä½</td><td>10ä½</td><td>åˆ†ä¸º5ä½æ•°æ®ä¸­å¿ƒID + 5ä½æœºå™¨IDï¼Œæœ€å¤šæ”¯æŒ1024ä¸ªèŠ‚ç‚¹éƒ¨ç½²</td></tr><tr><td>åºåˆ—å·ä½</td><td>12ä½</td><td>åŒä¸€æ¯«ç§’å†…çš„è‡ªå¢åºåˆ—ï¼Œæ¯æ¯«ç§’æœ€å¤šç”Ÿæˆ4096ä¸ªIDï¼ˆ2^12=4096ï¼‰</td></tr></tbody></table>
<h2 data-id="heading-1">äºŒã€.NETå®ç°é›ªèŠ±IDç”Ÿæˆå™¨</h2>
<p>ä»¥ä¸‹å®ç°åŒ…å«<strong>çº¿ç¨‹å®‰å…¨</strong>ã€<strong>æ—¶é’Ÿå›æ‹¨æ£€æµ‹</strong>ã€<strong>å‚æ•°åˆæ³•æ€§æ ¡éªŒ</strong>ï¼Œå¯ç›´æ¥åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Threading;

<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> é›ªèŠ±IDç”Ÿæˆå™¨ï¼ˆçº¿ç¨‹å®‰å…¨ã€æ”¯æŒæ—¶é’Ÿå›æ‹¨æ£€æµ‹ï¼‰</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">SnowflakeIdGenerator</span>
{
    <span class="hljs-meta">#<span class="hljs-keyword">region</span> å¸¸é‡å®šä¹‰</span>
    <span class="hljs-comment">// èµ·å§‹æ—¶é—´æˆ³ï¼ˆUTCæ—¶é—´ï¼š2024-01-01 00:00:00ï¼‰ï¼Œå¯è‡ªè¡Œè°ƒæ•´ï¼Œå»ºè®®ä½¿ç”¨é¡¹ç›®ä¸Šçº¿å‰çš„æ—¶é—´</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">long</span> Epoch = <span class="hljs-number">1704067200000L</span>;

    <span class="hljs-comment">// å„éƒ¨åˆ†çš„ä½é•¿åº¦</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">int</span> TimestampBits = <span class="hljs-number">41</span>; <span class="hljs-comment">// æ—¶é—´æˆ³ä½é•¿åº¦</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">int</span> DataCenterIdBits = <span class="hljs-number">5</span>; <span class="hljs-comment">// æ•°æ®ä¸­å¿ƒIDä½é•¿åº¦</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">int</span> MachineIdBits = <span class="hljs-number">5</span>; <span class="hljs-comment">// æœºå™¨IDä½é•¿åº¦</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">int</span> SequenceBits = <span class="hljs-number">12</span>; <span class="hljs-comment">// åºåˆ—å·ä½é•¿åº¦</span>

    <span class="hljs-comment">// æœ€å¤§å€¼ï¼ˆä½è¿ç®—è®¡ç®—ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">long</span> MaxDataCenterId = (<span class="hljs-number">1L</span> &lt;&lt; DataCenterIdBits) - <span class="hljs-number">1</span>; <span class="hljs-comment">// 31</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">long</span> MaxMachineId = (<span class="hljs-number">1L</span> &lt;&lt; MachineIdBits) - <span class="hljs-number">1</span>; <span class="hljs-comment">// 31</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">long</span> MaxSequence = (<span class="hljs-number">1L</span> &lt;&lt; SequenceBits) - <span class="hljs-number">1</span>; <span class="hljs-comment">// 4095</span>

    <span class="hljs-comment">// ä½ç§»é‡</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">int</span> MachineIdShift = SequenceBits; <span class="hljs-comment">// 12</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">int</span> DataCenterIdShift = SequenceBits + MachineIdBits; <span class="hljs-comment">// 17</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">int</span> TimestampShift = SequenceBits + MachineIdBits + DataCenterIdBits; <span class="hljs-comment">// 22</span>
    <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span>

    <span class="hljs-meta">#<span class="hljs-keyword">region</span> ç§æœ‰å­—æ®µ</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">long</span> _dataCenterId; <span class="hljs-comment">// æ•°æ®ä¸­å¿ƒID</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">long</span> _machineId; <span class="hljs-comment">// æœºå™¨ID</span>
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">long</span> _lastTimestamp = <span class="hljs-number">-1L</span>; <span class="hljs-comment">// ä¸Šä¸€æ¬¡ç”ŸæˆIDçš„æ—¶é—´æˆ³</span>
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">long</span> _sequence = <span class="hljs-number">0L</span>; <span class="hljs-comment">// å½“å‰æ¯«ç§’å†…çš„åºåˆ—å·</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">object</span> _lockObj = <span class="hljs-keyword">new</span>(); <span class="hljs-comment">// é”å¯¹è±¡ï¼ˆä¿è¯çº¿ç¨‹å®‰å…¨ï¼‰</span>
    <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span>

    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> æ„é€ å‡½æ•°</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name="dataCenterId"&gt;</span>æ•°æ®ä¸­å¿ƒIDï¼ˆ0-31ï¼‰<span class="hljs-doctag">&lt;/param&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name="machineId"&gt;</span>æœºå™¨IDï¼ˆ0-31ï¼‰<span class="hljs-doctag">&lt;/param&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;exception cref="ArgumentException"&gt;</span>å‚æ•°è¶…å‡ºèŒƒå›´æ—¶æŠ›å‡º<span class="hljs-doctag">&lt;/exception&gt;</span></span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">SnowflakeIdGenerator</span>(<span class="hljs-params"><span class="hljs-built_in">long</span> dataCenterId, <span class="hljs-built_in">long</span> machineId</span>)</span>
    {
        <span class="hljs-comment">// æ ¡éªŒå‚æ•°åˆæ³•æ€§</span>
        <span class="hljs-keyword">if</span> (dataCenterId &lt; <span class="hljs-number">0</span> || dataCenterId &gt; MaxDataCenterId)
        {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentException(<span class="hljs-string">$"æ•°æ®ä¸­å¿ƒIDå¿…é¡»åœ¨0-<span class="hljs-subst">{MaxDataCenterId}</span>ä¹‹é—´"</span>, <span class="hljs-keyword">nameof</span>(dataCenterId));
        }
        <span class="hljs-keyword">if</span> (machineId &lt; <span class="hljs-number">0</span> || machineId &gt; MaxMachineId)
        {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentException(<span class="hljs-string">$"æœºå™¨IDå¿…é¡»åœ¨0-<span class="hljs-subst">{MaxMachineId}</span>ä¹‹é—´"</span>, <span class="hljs-keyword">nameof</span>(machineId));
        }

        _dataCenterId = dataCenterId;
        _machineId = machineId;
    }

    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> ç”Ÿæˆä¸‹ä¸€ä¸ªé›ªèŠ±ID</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span>å…¨å±€å”¯ä¸€çš„é›ªèŠ±ID<span class="hljs-doctag">&lt;/returns&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;exception cref="Exception"&gt;</span>æ—¶é’Ÿå›æ‹¨è¶…å‡ºå®¹å¿èŒƒå›´æ—¶æŠ›å‡º<span class="hljs-doctag">&lt;/exception&gt;</span></span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">long</span> <span class="hljs-title">NextId</span>()</span>
    {
        <span class="hljs-keyword">lock</span> (_lockObj) <span class="hljs-comment">// åŠ é”ä¿è¯å¤šçº¿ç¨‹å®‰å…¨</span>
        {
            <span class="hljs-comment">// 1. è·å–å½“å‰æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰</span>
            <span class="hljs-built_in">long</span> currentTimestamp = GetCurrentTimestamp();

            <span class="hljs-comment">// 2. å¤„ç†æ—¶é’Ÿå›æ‹¨é—®é¢˜</span>
            <span class="hljs-keyword">if</span> (currentTimestamp &lt; _lastTimestamp)
            {
                <span class="hljs-built_in">long</span> timeDiff = _lastTimestamp - currentTimestamp;
                <span class="hljs-comment">// å®¹å¿500mså†…çš„æ—¶é’Ÿå›æ‹¨ï¼ˆç­‰å¾…ç›´åˆ°æ—¶é—´è¿½ä¸Šï¼‰</span>
                <span class="hljs-keyword">if</span> (timeDiff &lt;= <span class="hljs-number">500</span>)
                {
                    <span class="hljs-comment">// è‡ªæ—‹ç­‰å¾…ï¼Œç›´åˆ°æ—¶é—´æˆ³è¿½ä¸Šä¸Šæ¬¡çš„æ—¶é—´æˆ³</span>
                    <span class="hljs-keyword">while</span> (currentTimestamp &lt; _lastTimestamp)
                    {
                        currentTimestamp = GetCurrentTimestamp();
                    }
                }
                <span class="hljs-keyword">else</span>
                {
                    <span class="hljs-comment">// è¶…å‡ºå®¹å¿èŒƒå›´ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼ˆé¿å…IDé‡å¤ï¼‰</span>
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">$"æ—¶é’Ÿå›æ‹¨å¼‚å¸¸ï¼å½“å‰æ—¶é—´æˆ³ï¼š<span class="hljs-subst">{currentTimestamp}</span>ï¼Œä¸Šæ¬¡æ—¶é—´æˆ³ï¼š<span class="hljs-subst">{_lastTimestamp}</span>ï¼Œå·®å€¼ï¼š<span class="hljs-subst">{timeDiff}</span>ms"</span>);
                }
            }

            <span class="hljs-comment">// 3. å¤„ç†åŒä¸€æ¯«ç§’å†…çš„åºåˆ—å·</span>
            <span class="hljs-keyword">if</span> (currentTimestamp == _lastTimestamp)
            {
                <span class="hljs-comment">// åºåˆ—å·è‡ªå¢ï¼Œè¶…è¿‡æœ€å¤§å€¼åˆ™ç­‰å¾…ä¸‹ä¸€æ¯«ç§’</span>
                _sequence = (_sequence + <span class="hljs-number">1</span>) &amp; MaxSequence;
                <span class="hljs-keyword">if</span> (_sequence == <span class="hljs-number">0</span>)
                {
                    <span class="hljs-comment">// è‡ªæ—‹ç­‰å¾…ä¸‹ä¸€æ¯«ç§’</span>
                    <span class="hljs-keyword">while</span> (currentTimestamp &lt;= _lastTimestamp)
                    {
                        currentTimestamp = GetCurrentTimestamp();
                    }
                }
            }
            <span class="hljs-keyword">else</span>
            {
                <span class="hljs-comment">// æ–°çš„æ¯«ç§’ï¼Œåºåˆ—å·é‡ç½®ä¸º0</span>
                _sequence = <span class="hljs-number">0</span>;
            }

            <span class="hljs-comment">// 4. æ›´æ–°ä¸Šæ¬¡æ—¶é—´æˆ³</span>
            _lastTimestamp = currentTimestamp;

            <span class="hljs-comment">// 5. æ‹¼æ¥å„éƒ¨åˆ†ç”Ÿæˆæœ€ç»ˆID</span>
            <span class="hljs-keyword">return</span> ((currentTimestamp - Epoch) &lt;&lt; TimestampShift) <span class="hljs-comment">// æ—¶é—´æˆ³éƒ¨åˆ†</span>
                   | (_dataCenterId &lt;&lt; DataCenterIdShift) <span class="hljs-comment">// æ•°æ®ä¸­å¿ƒIDéƒ¨åˆ†</span>
                   | (_machineId &lt;&lt; MachineIdShift) <span class="hljs-comment">// æœºå™¨IDéƒ¨åˆ†</span>
                   | _sequence; <span class="hljs-comment">// åºåˆ—å·éƒ¨åˆ†</span>
        }
    }

    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> è·å–å½“å‰UTCæ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span>æ¯«ç§’çº§æ—¶é—´æˆ³<span class="hljs-doctag">&lt;/returns&gt;</span></span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-built_in">long</span> <span class="hljs-title">GetCurrentTimestamp</span>()</span>
    {
        <span class="hljs-keyword">return</span> (<span class="hljs-built_in">long</span>)(DateTime.UtcNow - <span class="hljs-keyword">new</span> DateTime(<span class="hljs-number">1970</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, DateTimeKind.Utc)).TotalMilliseconds;
    }

    <span class="hljs-meta">#<span class="hljs-keyword">region</span> ä¾¿æ·æ–¹æ³•ï¼ˆå¯é€‰ï¼‰</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> ç”Ÿæˆé›ªèŠ±IDçš„å­—ç¬¦ä¸²å½¢å¼</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span>IDå­—ç¬¦ä¸²<span class="hljs-doctag">&lt;/returns&gt;</span></span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> <span class="hljs-title">NextIdString</span>()</span>
    {
        <span class="hljs-keyword">return</span> NextId().ToString();
    }

    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> è§£æé›ªèŠ±IDï¼Œè¿”å›å„éƒ¨åˆ†ä¿¡æ¯ï¼ˆç”¨äºè°ƒè¯•ï¼‰</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name="id"&gt;</span>é›ªèŠ±ID<span class="hljs-doctag">&lt;/param&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span>è§£æåçš„ä¿¡æ¯<span class="hljs-doctag">&lt;/returns&gt;</span></span>
    <span class="hljs-keyword">public</span> (DateTime GenerateTime, <span class="hljs-built_in">long</span> DataCenterId, <span class="hljs-built_in">long</span> MachineId, <span class="hljs-built_in">long</span> Sequence) ParseId(<span class="hljs-built_in">long</span> id)
    {
        <span class="hljs-built_in">long</span> timestamp = (id &gt;&gt; TimestampShift) + Epoch;
        DateTime generateTime = <span class="hljs-keyword">new</span> DateTime(<span class="hljs-number">1970</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, DateTimeKind.Utc).AddMilliseconds(timestamp);
        <span class="hljs-built_in">long</span> dataCenterId = (id &gt;&gt; DataCenterIdShift) &amp; MaxDataCenterId;
        <span class="hljs-built_in">long</span> machineId = (id &gt;&gt; MachineIdShift) &amp; MaxMachineId;
        <span class="hljs-built_in">long</span> sequence = id &amp; MaxSequence;

        <span class="hljs-keyword">return</span> (generateTime.ToLocalTime(), dataCenterId, machineId, sequence);
    }
    <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span>
}

</code></pre>
<h2 data-id="heading-2">ä¸‰ã€ä½¿ç”¨ç¤ºä¾‹</h2>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span>
    {
        <span class="hljs-comment">// åˆå§‹åŒ–ç”Ÿæˆå™¨ï¼ˆæ•°æ®ä¸­å¿ƒID=1ï¼Œæœºå™¨ID=1ï¼Œæ ¹æ®å®é™…éƒ¨ç½²ç¯å¢ƒè°ƒæ•´ï¼‰</span>
        <span class="hljs-keyword">var</span> idGenerator = <span class="hljs-keyword">new</span> SnowflakeIdGenerator(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);

        <span class="hljs-comment">// å•çº¿ç¨‹ç”ŸæˆID</span>
        <span class="hljs-built_in">long</span> id1 = idGenerator.NextId();
        Console.WriteLine(<span class="hljs-string">$"ç”Ÿæˆçš„é›ªèŠ±IDï¼š<span class="hljs-subst">{id1}</span>"</span>);

        <span class="hljs-comment">// è§£æIDï¼ˆè°ƒè¯•ç”¨ï¼‰</span>
        <span class="hljs-keyword">var</span> parseResult = idGenerator.ParseId(id1);
        Console.WriteLine(<span class="hljs-string">$"ç”Ÿæˆæ—¶é—´ï¼š<span class="hljs-subst">{parseResult.GenerateTime}</span>"</span>);
        Console.WriteLine(<span class="hljs-string">$"æ•°æ®ä¸­å¿ƒIDï¼š<span class="hljs-subst">{parseResult.DataCenterId}</span>"</span>);
        Console.WriteLine(<span class="hljs-string">$"æœºå™¨IDï¼š<span class="hljs-subst">{parseResult.MachineId}</span>"</span>);
        Console.WriteLine(<span class="hljs-string">$"åºåˆ—å·ï¼š<span class="hljs-subst">{parseResult.Sequence}</span>"</span>);

        <span class="hljs-comment">// å¤šçº¿ç¨‹æµ‹è¯•ï¼ˆéªŒè¯çº¿ç¨‹å®‰å…¨ï¼‰</span>
        Parallel.For(<span class="hljs-number">0</span>, <span class="hljs-number">1000</span>, i =&gt;
        {
            <span class="hljs-built_in">long</span> id = idGenerator.NextId();
            Console.WriteLine(<span class="hljs-string">$"çº¿ç¨‹<span class="hljs-subst">{Thread.CurrentThread.ManagedThreadId}</span>ç”ŸæˆIDï¼š<span class="hljs-subst">{id}</span>"</span>);
        });
    }
}

</code></pre>
<h2 data-id="heading-3">å››ã€å…³é”®è¯´æ˜</h2>
<ol>
<li><strong>èµ·å§‹æ—¶é—´æˆ³ï¼ˆEpochï¼‰</strong>ï¼šå»ºè®®è®¾ç½®ä¸ºé¡¹ç›®ä¸Šçº¿å‰çš„æ—¶é—´ï¼ˆå¦‚ç¤ºä¾‹ä¸­çš„2024-01-01ï¼‰ï¼Œå¯å»¶é•¿IDä½¿ç”¨å‘¨æœŸï¼ˆé»˜è®¤èƒ½ç”¨åˆ°2093å¹´ï¼‰ã€‚</li>
<li><strong>æœºå™¨/æ•°æ®ä¸­å¿ƒID</strong>ï¼šéƒ¨ç½²æ—¶éœ€ä¿è¯æ¯ä¸ªèŠ‚ç‚¹çš„ï¼ˆæ•°æ®ä¸­å¿ƒID+æœºå™¨IDï¼‰å”¯ä¸€ï¼ˆæ¯”å¦‚é€šè¿‡é…ç½®æ–‡ä»¶/ç¯å¢ƒå˜é‡è®¾ç½®ï¼‰ï¼Œé¿å…ä¸åŒèŠ‚ç‚¹ç”Ÿæˆé‡å¤IDã€‚</li>
<li><strong>æ—¶é’Ÿå›æ‹¨å¤„ç†</strong>ï¼šä»£ç ä¸­å®¹å¿500mså†…çš„æ—¶é’Ÿå›æ‹¨ï¼ˆè‡ªæ—‹ç­‰å¾…ï¼‰ï¼Œè¶…å‡ºåˆ™æŠ›å¼‚å¸¸ï¼Œå¯æ ¹æ®ä¸šåŠ¡è°ƒæ•´å®¹å¿é˜ˆå€¼ã€‚</li>
<li><strong>æ€§èƒ½</strong>ï¼šå•èŠ‚ç‚¹æ¯ç§’å¯ç”Ÿæˆçº¦400ä¸‡+ IDï¼ˆ1msç”Ÿæˆ4096ä¸ªï¼Œ1ç§’=1000ms â†’ 4096*1000=4,096,000ï¼‰ï¼Œæ»¡è¶³ç»å¤§å¤šæ•°ä¸šåŠ¡åœºæ™¯ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-4">æ€»ç»“</h3>
<ol>
<li>é›ªèŠ±IDæ ¸å¿ƒæ˜¯é€šè¿‡<strong>ä½è¿ç®—</strong>å°†æ—¶é—´æˆ³ã€æœºå™¨IDã€åºåˆ—å·æ‹¼æ¥æˆ64ä½å”¯ä¸€IDï¼Œä¿è¯å…¨å±€å”¯ä¸€ä¸”è¶‹åŠ¿é€’å¢ï¼›</li>
<li>å®ç°æ—¶å¿…é¡»ä¿è¯<strong>çº¿ç¨‹å®‰å…¨</strong>ï¼ˆåŠ é”ï¼‰å’Œ<strong>æ—¶é’Ÿå›æ‹¨æ£€æµ‹</strong>ï¼ˆé¿å…IDé‡å¤ï¼‰ï¼›</li>
<li>ä½¿ç”¨æ—¶éœ€ä¿è¯æ¯ä¸ªèŠ‚ç‚¹çš„æœºå™¨/æ•°æ®ä¸­å¿ƒIDå”¯ä¸€ï¼Œèµ·å§‹æ—¶é—´æˆ³å»ºè®®æ ¹æ®é¡¹ç›®å®é™…è°ƒæ•´ã€‚</li>
</ol>
<p>è¿™ä¸ªå®ç°å¯ç›´æ¥é›†æˆåˆ°ä½ çš„.NETåˆ†åº“åˆ†è¡¨é¡¹ç›®ä¸­ï¼Œä½œä¸ºåˆ†å¸ƒå¼ä¸»é”®ç”Ÿæˆæ–¹æ¡ˆã€‚</p>
<blockquote>
<p>æœ¬æ–‡ä½¿ç”¨ <a href="https://juejin.cn/post/6940875049587097631" target="_blank" title="https://juejin.cn/post/6940875049587097631">æ–‡ç« åŒæ­¥åŠ©æ‰‹</a> åŒæ­¥</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[javascript ä¸ºä»€ä¹ˆä¼šæœ‰é—­åŒ…è¿™ä¹ˆä¸ªçƒ§è„‘çš„ä¸œè¥¿]]></title>    <link>https://juejin.cn/post/7591129807755149375</link>    <guid>https://juejin.cn/post/7591129807755149375</guid>    <pubDate>2026-01-04T08:08:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591129807755149375" data-draft-id="7591129807755083839" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="javascript ä¸ºä»€ä¹ˆä¼šæœ‰é—­åŒ…è¿™ä¹ˆä¸ªçƒ§è„‘çš„ä¸œè¥¿"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-04T08:08:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å…«å“¥ç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/114004940297325"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            javascript ä¸ºä»€ä¹ˆä¼šæœ‰é—­åŒ…è¿™ä¹ˆä¸ªçƒ§è„‘çš„ä¸œè¥¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/114004940297325/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å…«å“¥ç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T08:08:54.000Z" title="Sun Jan 04 2026 08:08:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>å‰ç«¯é¢è¯•ä¸­ï¼Œæ— è®ºæ˜¯é¢è¯•åˆçº§ã€ä¸­çº§ã€æˆ–è€…æ˜¯çº§é«˜çº§ï¼Œé—­åŒ…ï¼ˆclosureï¼‰æ˜¯ä¸ªæ°¸è¿œç»•ä¸è¿‡çš„è¯é¢˜ï¼Œä¸‹é¢æˆ‘ä»¬ä¸€èµ·æ¥æ¢è®¨ä¸‹é—­åŒ…</p>
<p>é—­åŒ…ï¼ˆClosureï¼‰æ˜¯JavaScriptä¸­æœ€å¼ºå¤§ã€æœ€å¸¸ç”¨ä½†ä¹Ÿæœ€å®¹æ˜“è¢«è¯¯è§£çš„æ¦‚å¿µä¹‹ä¸€ã€‚å®ƒæ˜¯JavaScriptå‡½æ•°å¼ç¼–ç¨‹çš„æ ¸å¿ƒï¼Œä¹Ÿæ˜¯è®¸å¤š <strong>é«˜çº§ç‰¹æ€§</strong> å’Œ <strong>è®¾è®¡æ¨¡å¼</strong> çš„åŸºç¡€ã€‚ç†è§£é—­åŒ…ä¸ä»…èƒ½å¸®åŠ©ä½ ç¼–å†™æ›´ä¼˜é›…ã€æ›´é«˜æ•ˆçš„ä»£ç ï¼Œè¿˜èƒ½è®©ä½ æ·±å…¥ç†è§£JavaScriptçš„æ‰§è¡Œæœºåˆ¶ã€‚</p>
<p>é—­åŒ…ä¸æ˜¯JavaScriptåˆ»æ„"è®¾è®¡"çš„ç‰¹æ€§ï¼Œè€Œæ˜¯å‡½æ•°ä½œä¸ºä¸€ç­‰å…¬æ°‘ã€è¯æ³•ä½œç”¨åŸŸã€å‡½æ•°å¯ä»¥åµŒå¥—è¿™äº›è¯­è¨€ç‰¹æ€§è‡ªç„¶äº§ç”Ÿçš„ç»“æœã€‚å®ƒæˆä¸ºäº†JavaScriptæœ€å¼ºå¤§å’Œæœ€å¸¸ç”¨çš„ç‰¹æ€§ä¹‹ä¸€ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€é—­åŒ…çš„å®šä¹‰ä¸åŸºæœ¬æ¦‚å¿µ</h2>
<h3 data-id="heading-2">ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ</h3>
<p>åœ¨JavaScriptä¸­ï¼Œ<strong>é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡çš„å‡½æ•°</strong>ã€‚ç®€å•æ¥è¯´ï¼Œé—­åŒ…å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒèƒ½å¤Ÿè®°ä½å¹¶è®¿é—®å…¶å®šä¹‰æ—¶æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸï¼Œå³ä½¿è¯¥å‡½æ•°åœ¨å…¶è¯æ³•ä½œç”¨åŸŸä¹‹å¤–è¢«æ‰§è¡Œã€‚</p>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥ç†è§£é—­åŒ…ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">outer</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> message = <span class="hljs-string">'Hello, Closure!'</span>;  <span class="hljs-comment">// outerå‡½æ•°çš„å±€éƒ¨å˜é‡</span>
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">inner</span>(<span class="hljs-params"/>) {                 <span class="hljs-comment">// innerå‡½æ•°å®šä¹‰åœ¨outerå‡½æ•°å†…éƒ¨</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(message);          <span class="hljs-comment">// innerå‡½æ•°è®¿é—®äº†outerå‡½æ•°çš„å±€éƒ¨å˜é‡</span>
    }
    
    <span class="hljs-keyword">return</span> inner;                      <span class="hljs-comment">// outerå‡½æ•°è¿”å›innerå‡½æ•°</span>
}

<span class="hljs-keyword">const</span> closure = <span class="hljs-title function_">outer</span>();  <span class="hljs-comment">// è°ƒç”¨outerå‡½æ•°ï¼Œè¿”å›innerå‡½æ•°å¹¶èµ‹å€¼ç»™closure</span>
<span class="hljs-title function_">closure</span>();               <span class="hljs-comment">// æ‰§è¡Œclosureï¼Œè¾“å‡ºï¼šHello, Closure!</span>
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li><code>inner</code>å‡½æ•°å®šä¹‰åœ¨<code>outer</code>å‡½æ•°å†…éƒ¨ï¼Œèƒ½å¤Ÿè®¿é—®<code>outer</code>å‡½æ•°çš„å±€éƒ¨å˜é‡<code>message</code></li>
<li><code>outer</code>å‡½æ•°è¿”å›äº†<code>inner</code>å‡½æ•°ï¼Œä½¿å…¶åœ¨<code>outer</code>å‡½æ•°æ‰§è¡Œå®Œæ¯•åä»ç„¶å¯ä»¥è¢«è°ƒç”¨</li>
<li>å½“è°ƒç”¨<code>closure()</code>æ—¶ï¼Œè™½ç„¶<code>outer</code>å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡å·²ç»è¢«é”€æ¯ï¼Œä½†<code>inner</code>å‡½æ•°ä»ç„¶èƒ½å¤Ÿè®¿é—®åˆ°<code>message</code>å˜é‡</li>
</ul>
<p>è¿™å°±æ˜¯é—­åŒ…çš„åŸºæœ¬ç‰¹æ€§ï¼š<strong>å‡½æ•°èƒ½å¤Ÿè®°ä½å¹¶è®¿é—®å…¶å®šä¹‰æ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸï¼Œå³ä½¿å‡½æ•°åœ¨ä½œç”¨åŸŸå¤–éƒ¨æ‰§è¡Œ</strong>ã€‚</p>
<h3 data-id="heading-3">é—­åŒ…çš„æ„æˆæ¡ä»¶</h3>
<p>è¦å½¢æˆé—­åŒ…ï¼Œå¿…é¡»æ»¡è¶³ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶ï¼š</p>
<ol>
<li><strong>åµŒå¥—å‡½æ•°ç»“æ„</strong>ï¼šå­˜åœ¨å‡½æ•°åµŒå¥—ï¼Œå³ä¸€ä¸ªå‡½æ•°å®šä¹‰åœ¨å¦ä¸€ä¸ªå‡½æ•°å†…éƒ¨</li>
<li><strong>å†…éƒ¨å‡½æ•°è®¿é—®å¤–éƒ¨å‡½æ•°çš„å˜é‡</strong>ï¼šå†…éƒ¨å‡½æ•°å¼•ç”¨äº†å¤–éƒ¨å‡½æ•°çš„å˜é‡æˆ–å‚æ•°</li>
<li><strong>å¤–éƒ¨å‡½æ•°è¿”å›å†…éƒ¨å‡½æ•°</strong>ï¼šå¤–éƒ¨å‡½æ•°å°†å†…éƒ¨å‡½æ•°ä½œä¸ºè¿”å›å€¼ï¼Œä½¿å¾—å†…éƒ¨å‡½æ•°å¯ä»¥åœ¨å¤–éƒ¨å‡½æ•°ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œ</li>
</ol>
<h2 data-id="heading-4">äºŒã€é—­åŒ…çš„å·¥ä½œåŸç†</h2>
<p>è¦æ·±å…¥ç†è§£é—­åŒ…çš„å·¥ä½œåŸç†ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£JavaScriptçš„<strong>è¯æ³•ä½œç”¨åŸŸ</strong>å’Œ<strong>æ‰§è¡Œä¸Šä¸‹æ–‡</strong>ã€‚çº¤ç»†çš„è§£è¯´å¯ä»¥å‚çœ‹æˆ‘ä¹‹å‰çš„2ç¯‡æ–‡ç« ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fu011286604%3Fspm%3D1011.2415.3001.5343" target="_blank" title="https://blog.csdn.net/u011286604?spm=1011.2415.3001.5343" ref="nofollow noopener noreferrer">ä½ çœŸçš„ææ‡‚äº†javascript ä¸­çš„ä½œç”¨åŸŸã€ä½œç”¨åŸŸé“¾äº†å—ï¼Ÿ</a>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fu011286604%2Farticle%2Fdetails%2F155537012%3Fspm%3D1001.2014.3001.5501" target="_blank" title="https://blog.csdn.net/u011286604/article/details/155537012?spm=1001.2014.3001.5501" ref="nofollow noopener noreferrer">ä½ çœŸçš„ææ‡‚äº†javascript ä¸­çš„æ‰§è¡Œä¸Šä¸‹æ–‡äº†å—ï¼Ÿ</a></p>
<h3 data-id="heading-5">1. è¯æ³•ä½œç”¨åŸŸ</h3>
<p>è¯æ³•ä½œç”¨åŸŸï¼ˆLexical Scopeï¼‰æ˜¯æŒ‡å‡½æ•°çš„ä½œç”¨åŸŸç”±å…¶åœ¨ä»£ç ä¸­å®šä¹‰çš„ä½ç½®å†³å®šï¼Œè€Œä¸æ˜¯ç”±å‡½æ•°è¢«è°ƒç”¨çš„ä½ç½®å†³å®šã€‚JavaScripté‡‡ç”¨è¯æ³•ä½œç”¨åŸŸï¼Œè¿™æ˜¯é—­åŒ…èƒ½å¤Ÿå·¥ä½œçš„åŸºç¡€ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> globalVar = <span class="hljs-string">'global'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">outer</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> outerVar = <span class="hljs-string">'outer'</span>;
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">inner</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">const</span> innerVar = <span class="hljs-string">'inner'</span>;
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(globalVar);  <span class="hljs-comment">// å¯ä»¥è®¿é—®å…¨å±€å˜é‡</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(outerVar);   <span class="hljs-comment">// å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°å˜é‡</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(innerVar);   <span class="hljs-comment">// å¯ä»¥è®¿é—®è‡ªå·±çš„å˜é‡</span>
    }
    
    <span class="hljs-keyword">return</span> inner;
}

<span class="hljs-keyword">const</span> closure = <span class="hljs-title function_">outer</span>();
<span class="hljs-title function_">closure</span>();
</code></pre>
<p>åœ¨è¯æ³•ä½œç”¨åŸŸä¸­ï¼Œå˜é‡çš„æŸ¥æ‰¾é¡ºåºæ˜¯ï¼šå½“å‰å‡½æ•°ä½œç”¨åŸŸ â†’ å¤–éƒ¨å‡½æ•°ä½œç”¨åŸŸ â†’ å…¨å±€ä½œç”¨åŸŸã€‚</p>
<h3 data-id="heading-6">2. æ‰§è¡Œä¸Šä¸‹æ–‡ä¸ä½œç”¨åŸŸé“¾</h3>
<p>å½“å‡½æ•°æ‰§è¡Œæ—¶ï¼ŒJavaScriptå¼•æ“ä¼šåˆ›å»ºä¸€ä¸ª<strong>æ‰§è¡Œä¸Šä¸‹æ–‡</strong>ï¼ˆExecution Contextï¼‰ï¼Œå®ƒåŒ…å«äº†å‡½æ•°çš„æ‰§è¡Œç¯å¢ƒï¼Œå¦‚å˜é‡ã€å‚æ•°ã€thisæŒ‡å‘ç­‰ã€‚</p>
<p>æ¯ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡éƒ½æœ‰ä¸€ä¸ª<strong>ä½œç”¨åŸŸé“¾</strong>ï¼ˆScope Chainï¼‰ï¼Œå®ƒæ˜¯ä¸€ä¸ªæŒ‡å‘æ‰€æœ‰å¯è®¿é—®ä½œç”¨åŸŸçš„é“¾è¡¨ã€‚ä½œç”¨åŸŸé“¾çš„å‰ç«¯æ˜¯å½“å‰å‡½æ•°çš„ä½œç”¨åŸŸï¼Œç„¶åæ˜¯åŒ…å«å®ƒçš„å¤–éƒ¨å‡½æ•°çš„ä½œç”¨åŸŸï¼Œä¾æ­¤ç±»æ¨ï¼Œç›´åˆ°å…¨å±€ä½œç”¨åŸŸã€‚</p>
<h3 data-id="heading-7">3. é—­åŒ…çš„å†…å­˜ç»“æ„</h3>
<p>å½“å¤–éƒ¨å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œå…¶æ‰§è¡Œä¸Šä¸‹æ–‡ä¼šè¢«é”€æ¯ï¼Œä½†ç”±äºå†…éƒ¨å‡½æ•°ä»ç„¶å¼•ç”¨ç€å¤–éƒ¨å‡½æ•°çš„å˜é‡ï¼Œè¿™äº›å˜é‡ä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ã€‚è¿™å°±æ˜¯é—­åŒ…èƒ½å¤Ÿè®°ä½å…¶å®šä¹‰æ—¶æ‰€åœ¨ä½œç”¨åŸŸçš„åŸå› ã€‚</p>
<p>ä¸‹é¢æ˜¯é—­åŒ…çš„å†…å­˜ç»“æ„ç¤ºæ„å›¾ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/193232f8a18d4d33a142158fe205c1f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWr5ZOl56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768118963&amp;x-signature=ArO2MLsveRZzCz%2FjwRVGbK6cXas%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-8">ä¸‰ã€é—­åŒ…çš„ä»£ç ç¤ºä¾‹</h2>
<h3 data-id="heading-9">1. åŸºæœ¬é—­åŒ…ç¤ºä¾‹</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createCounter</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        count++;
        <span class="hljs-keyword">return</span> count;
    };
}

<span class="hljs-keyword">const</span> counter = <span class="hljs-title function_">createCounter</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">counter</span>());  <span class="hljs-comment">// 1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">counter</span>());  <span class="hljs-comment">// 2</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">counter</span>());  <span class="hljs-comment">// 3</span>
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>createCounter</code>å‡½æ•°è¿”å›ä¸€ä¸ªé—­åŒ…ï¼Œè¯¥é—­åŒ…èƒ½å¤Ÿè®°ä½å¹¶ä¿®æ”¹<code>count</code>å˜é‡ã€‚æ¯æ¬¡è°ƒç”¨<code>counter()</code>æ—¶ï¼Œ<code>count</code>éƒ½ä¼šé€’å¢å¹¶è¿”å›æ–°å€¼ã€‚</p>
<h3 data-id="heading-10">2. é—­åŒ…å®ç°æ•°æ®ç§æœ‰</h3>
<p>é—­åŒ…å¯ä»¥ç”¨æ¥åˆ›å»ºç§æœ‰å˜é‡å’Œæ–¹æ³•ï¼Œå®ç°æ•°æ®å°è£…ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createPerson</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-keyword">let</span> _age = <span class="hljs-number">0</span>;  <span class="hljs-comment">// ç§æœ‰å˜é‡</span>
    
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">getName</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">return</span> name;
        },
        <span class="hljs-attr">getAge</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">return</span> _age;
        },
        <span class="hljs-attr">setAge</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">age</span>) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> age === <span class="hljs-string">'number'</span> &amp;&amp; age &gt; <span class="hljs-number">0</span>) {
                _age = age;
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    };
}

<span class="hljs-keyword">const</span> person = <span class="hljs-title function_">createPerson</span>(<span class="hljs-string">'å¼ ä¸‰'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person.<span class="hljs-title function_">getName</span>());  <span class="hljs-comment">// å¼ ä¸‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person.<span class="hljs-title function_">getAge</span>());   <span class="hljs-comment">// 0</span>
person.<span class="hljs-title function_">setAge</span>(<span class="hljs-number">25</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person.<span class="hljs-title function_">getAge</span>());   <span class="hljs-comment">// 25</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person.<span class="hljs-property">_age</span>);       <span class="hljs-comment">// undefined (æ— æ³•ç›´æ¥è®¿é—®ç§æœ‰å˜é‡)</span>
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>_age</code>æ˜¯ä¸€ä¸ªç§æœ‰å˜é‡ï¼Œå¤–éƒ¨æ— æ³•ç›´æ¥è®¿é—®ï¼Œåªèƒ½é€šè¿‡è¿”å›å¯¹è±¡çš„æ–¹æ³•æ¥æ“ä½œã€‚</p>
<h3 data-id="heading-11">3. é—­åŒ…ä¸å¾ªç¯é—®é¢˜</h3>
<p>åœ¨æ—©æœŸçš„JavaScriptä¸­ï¼Œé—­åŒ…å¸¸ä¸å¾ªç¯ç»“åˆä½¿ç”¨ï¼Œå¯¼è‡´ä¸€äº›æ„å¤–çš„é—®é¢˜ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é—®é¢˜ä»£ç </span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i);  <span class="hljs-comment">// é¢„æœŸè¾“å‡ºï¼š0, 1, 2 å®é™…è¾“å‡ºï¼š3, 3, 3</span>
    }, <span class="hljs-number">1000</span>);
}
</code></pre>
<p>è¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯<code>var</code>å£°æ˜çš„å˜é‡æ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œå¾ªç¯ç»“æŸå<code>i</code>çš„å€¼ä¸º3ï¼Œæ‰€æœ‰çš„é—­åŒ…éƒ½å¼•ç”¨åŒä¸€ä¸ª<code>i</code>å˜é‡ã€‚</p>
<p>è§£å†³æ–¹æ³•æœ‰ä¸¤ç§ï¼šä½¿ç”¨IIFEï¼ˆç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ï¼‰æˆ–ä½¿ç”¨<code>let</code>å…³é”®å­—ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ–¹æ³•1ï¼šä½¿ç”¨IIFE</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
    (<span class="hljs-keyword">function</span>(<span class="hljs-params">j</span>) {
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(j);  <span class="hljs-comment">// è¾“å‡ºï¼š0, 1, 2</span>
        }, <span class="hljs-number">1000</span>);
    })(i);
}

<span class="hljs-comment">// æ–¹æ³•2ï¼šä½¿ç”¨let</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i);  <span class="hljs-comment">// è¾“å‡ºï¼š0, 1, 2</span>
    }, <span class="hljs-number">1000</span>);
}
</code></pre>
<h3 data-id="heading-12">4. å‡½æ•°æŸ¯é‡ŒåŒ–</h3>
<p>é—­åŒ…æ˜¯å®ç°å‡½æ•°æŸ¯é‡ŒåŒ–ï¼ˆCurryingï¼‰çš„åŸºç¡€ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">curryAdd</span>(<span class="hljs-params">x</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">y</span>) {
        <span class="hljs-keyword">return</span> x + y;
    };
}

<span class="hljs-keyword">const</span> add5 = <span class="hljs-title function_">curryAdd</span>(<span class="hljs-number">5</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add5</span>(<span class="hljs-number">3</span>));  <span class="hljs-comment">// 8</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add5</span>(<span class="hljs-number">10</span>)); <span class="hljs-comment">// 15</span>

<span class="hljs-keyword">const</span> add10 = <span class="hljs-title function_">curryAdd</span>(<span class="hljs-number">10</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add10</span>(<span class="hljs-number">3</span>));  <span class="hljs-comment">// 13</span>
</code></pre>
<p>å‡½æ•°æŸ¯é‡ŒåŒ–å°†ä¸€ä¸ªæ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°è½¬æ¢ä¸ºä¸€ç³»åˆ—æ¥å—å•ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œæé«˜äº†å‡½æ•°çš„å¤ç”¨æ€§å’Œçµæ´»æ€§ã€‚</p>
<h2 data-id="heading-13">å››ã€é—­åŒ…çš„å®é™…åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-14">1. æ¨¡å—åŒ–å¼€å‘</h3>
<p>é—­åŒ…æ˜¯å®ç°æ¨¡å—åŒ–å¼€å‘çš„æ ¸å¿ƒæŠ€æœ¯ä¹‹ä¸€ï¼Œå®ƒå¯ä»¥åˆ›å»ºç‹¬ç«‹çš„å‘½åç©ºé—´ï¼Œé¿å…å…¨å±€å˜é‡æ±¡æŸ“ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ¨¡å—åŒ–ç¤ºä¾‹ - è®¡æ•°å™¨æ¨¡å—</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">CounterModule</span> = (<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;  <span class="hljs-comment">// ç§æœ‰å˜é‡</span>
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) {
        count++;
    }
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">decrement</span>(<span class="hljs-params"/>) {
        count--;
    }
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">getCount</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> count;
    }
    
    <span class="hljs-comment">// æš´éœ²å…¬å…±API</span>
    <span class="hljs-keyword">return</span> {
        increment,
        decrement,
        getCount
    };
})();

<span class="hljs-title class_">CounterModule</span>.<span class="hljs-title function_">increment</span>();
<span class="hljs-title class_">CounterModule</span>.<span class="hljs-title function_">increment</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">CounterModule</span>.<span class="hljs-title function_">getCount</span>());  <span class="hljs-comment">// 2</span>
<span class="hljs-title class_">CounterModule</span>.<span class="hljs-title function_">decrement</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">CounterModule</span>.<span class="hljs-title function_">getCount</span>());  <span class="hljs-comment">// 1</span>
</code></pre>
<h3 data-id="heading-15">2. å›è°ƒå‡½æ•°ä¸äº‹ä»¶å¤„ç†</h3>
<p>åœ¨JavaScriptä¸­ï¼Œå›è°ƒå‡½æ•°å’Œäº‹ä»¶å¤„ç†ç¨‹åºç»å¸¸ä½¿ç”¨é—­åŒ…ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchData</span>(<span class="hljs-params">url</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) {
        <span class="hljs-title function_">fetch</span>(url)
            .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> response.<span class="hljs-title function_">json</span>())
            .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-title function_">callback</span>(<span class="hljs-literal">null</span>, data))
            .<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> <span class="hljs-title function_">callback</span>(error, <span class="hljs-literal">null</span>));
    };
}

<span class="hljs-keyword">const</span> fetchUser = <span class="hljs-title function_">fetchData</span>(<span class="hljs-string">'https://api.example.com/users/1'</span>);
<span class="hljs-title function_">fetchUser</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">error, user</span>) {
    <span class="hljs-keyword">if</span> (error) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è·å–ç”¨æˆ·æ•°æ®å¤±è´¥:'</span>, error);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç”¨æˆ·æ•°æ®:'</span>, user);
    }
});
</code></pre>
<h3 data-id="heading-16">3. é˜²æŠ–ä¸èŠ‚æµ</h3>
<p>é˜²æŠ–ï¼ˆDebounceï¼‰å’ŒèŠ‚æµï¼ˆThrottleï¼‰æ˜¯ä¼˜åŒ–æ€§èƒ½çš„å¸¸ç”¨æŠ€æœ¯ï¼Œå®ƒä»¬éƒ½å¯ä»¥é€šè¿‡é—­åŒ…æ¥å®ç°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é˜²æŠ–å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">func, delay</span>) {
    <span class="hljs-keyword">let</span> timeoutId;
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) {
        <span class="hljs-built_in">clearTimeout</span>(timeoutId);
        timeoutId = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
            func.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);
        }, delay);
    };
}

<span class="hljs-comment">// èŠ‚æµå‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">throttle</span>(<span class="hljs-params">func, limit</span>) {
    <span class="hljs-keyword">let</span> inThrottle;
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) {
        <span class="hljs-keyword">if</span> (!inThrottle) {
            func.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);
            inThrottle = <span class="hljs-literal">true</span>;
            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
                inThrottle = <span class="hljs-literal">false</span>;
            }, limit);
        }
    };
}
</code></pre>
<h2 data-id="heading-17">äº”ã€é—­åŒ…çš„ä¼˜ç¼ºç‚¹ä¸æ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-18">ä¼˜ç‚¹</h3>
<ol>
<li><strong>æ•°æ®å°è£…ä¸ç§æœ‰æ€§</strong>ï¼šé—­åŒ…å¯ä»¥åˆ›å»ºç§æœ‰å˜é‡å’Œæ–¹æ³•ï¼Œå®ç°æ•°æ®å°è£…</li>
<li><strong>çŠ¶æ€ä¿æŒ</strong>ï¼šé—­åŒ…å¯ä»¥åœ¨å‡½æ•°è°ƒç”¨ä¹‹é—´ä¿æŒçŠ¶æ€</li>
<li><strong>æ¨¡å—åŒ–å¼€å‘</strong>ï¼šé—­åŒ…æ˜¯å®ç°æ¨¡å—åŒ–çš„åŸºç¡€</li>
<li><strong>å‡½æ•°æŸ¯é‡ŒåŒ–</strong>ï¼šé—­åŒ…æ”¯æŒå‡½æ•°æŸ¯é‡ŒåŒ–ï¼Œæé«˜å‡½æ•°çµæ´»æ€§</li>
</ol>
<h3 data-id="heading-19">ç¼ºç‚¹</h3>
<ol>
<li><strong>å†…å­˜æ³„æ¼é£é™©</strong>ï¼šé—­åŒ…ä¼šå¼•ç”¨å¤–éƒ¨å‡½æ•°çš„å˜é‡ï¼Œå¯¼è‡´è¿™äº›å˜é‡æ— æ³•è¢«åƒåœ¾å›æ”¶</li>
<li><strong>æ€§èƒ½å½±å“</strong>ï¼šé—­åŒ…çš„åˆ›å»ºå’Œæ‰§è¡Œä¼šæœ‰ä¸€å®šçš„æ€§èƒ½å¼€é”€</li>
<li><strong>è°ƒè¯•å›°éš¾</strong>ï¼šé—­åŒ…çš„ä½œç”¨åŸŸé“¾æ¯”è¾ƒå¤æ‚ï¼Œè°ƒè¯•èµ·æ¥æ¯”è¾ƒå›°éš¾</li>
</ol>
<h3 data-id="heading-20">æ³¨æ„äº‹é¡¹</h3>
<ol>
<li><strong>é¿å…ä¸å¿…è¦çš„é—­åŒ…</strong>ï¼šåªåœ¨éœ€è¦æ—¶ä½¿ç”¨é—­åŒ…ï¼Œé¿å…è¿‡åº¦ä½¿ç”¨</li>
<li><strong>åŠæ—¶é‡Šæ”¾å†…å­˜</strong>ï¼šå½“ä¸å†éœ€è¦é—­åŒ…æ—¶ï¼Œå¯ä»¥å°†å…¶èµ‹å€¼ä¸ºnullï¼Œä»¥ä¾¿åƒåœ¾å›æ”¶</li>
<li><strong>æ³¨æ„thisæŒ‡å‘</strong>ï¼šåœ¨é—­åŒ…ä¸­ä½¿ç”¨thisæ—¶è¦ç‰¹åˆ«å°å¿ƒï¼Œé¿å…æŒ‡å‘é”™è¯¯</li>
<li><strong>é¿å…å¾ªç¯å¼•ç”¨</strong>ï¼šé—­åŒ…å¯èƒ½å¯¼è‡´å¾ªç¯å¼•ç”¨ï¼Œä»è€Œå¼•å‘å†…å­˜æ³„æ¼</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é¿å…å†…å­˜æ³„æ¼çš„ç¤ºä¾‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createClosure</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> largeData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1000000</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>);  <span class="hljs-comment">// å¤§é‡æ•°æ®</span>
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(largeData.<span class="hljs-property">length</span>);
    };
}

<span class="hljs-keyword">let</span> closure = <span class="hljs-title function_">createClosure</span>();
<span class="hljs-title function_">closure</span>();  <span class="hljs-comment">// ä½¿ç”¨é—­åŒ…</span>

<span class="hljs-comment">// ä¸å†éœ€è¦æ—¶é‡Šæ”¾å†…å­˜</span>
closure = <span class="hljs-literal">null</span>;
</code></pre>
<h2 data-id="heading-21">å…­ã€æ€»ç»“</h2>
<p>é—­åŒ…æœ¬è´¨ä¸Šæ˜¯JavaScript è¯æ³•ä½œç”¨åŸŸ ï¼ˆLexical Scopeï¼‰å’Œ å‡½æ•°ä½œä¸ºä¸€ç­‰å…¬æ°‘ ï¼ˆFirst-class Citizensï¼‰ç‰¹æ€§çš„è‡ªç„¶äº§ç‰©ã€‚</p>
<ul>
<li>è¯æ³•ä½œç”¨åŸŸ ï¼šå‡½æ•°çš„ä½œç”¨åŸŸç”±å…¶åœ¨ä»£ç ä¸­å®šä¹‰çš„ä½ç½®å†³å®šï¼Œè€Œéè°ƒç”¨ä½ç½®</li>
<li>å‡½æ•°ä½œä¸ºä¸€ç­‰å…¬æ°‘ ï¼šå‡½æ•°å¯ä»¥è¢«èµ‹å€¼ç»™å˜é‡ã€ä½œä¸ºå‚æ•°ä¼ é€’ã€ä½œä¸ºè¿”å›å€¼è¿”å›
å½“è¿™ä¸¤ä¸ªç‰¹æ€§ç»“åˆæ—¶ï¼Œé—­åŒ…å°±è‡ªç„¶å½¢æˆäº†ï¼šå‡½æ•°åœ¨ç¦»å¼€å…¶å®šä¹‰çš„è¯æ³•ä½œç”¨åŸŸåï¼Œä»ç„¶èƒ½å¤Ÿè®¿é—®è¯¥ä½œç”¨åŸŸä¸­çš„å˜é‡ã€‚</li>
</ul>
<p>javaScriptè®¾è®¡é—­åŒ…å¹¶éå¶ç„¶ï¼Œè€Œæ˜¯è¯­è¨€ç‰¹æ€§ã€ç¼–ç¨‹èŒƒå¼å’Œå®é™…éœ€æ±‚å…±åŒä½œç”¨çš„ç»“æœã€‚é—­åŒ…ä½¿å¾—JavaScriptèƒ½å¤Ÿï¼š</p>
<ul>
<li>æ”¯æŒå‡½æ•°å¼ç¼–ç¨‹</li>
<li>å®ç°æ•°æ®å°è£…ä¸ç§æœ‰åŒ–</li>
<li>ä¿æŒå‡½æ•°çŠ¶æ€</li>
<li>æ„å»ºæ¨¡å—åŒ–ç³»ç»Ÿ</li>
<li>æ›´å¥½åœ°é€‚åº”æµè§ˆå™¨ç¯å¢ƒçš„äº‹ä»¶é©±åŠ¨ç¼–ç¨‹æ¨¡å‹</li>
</ul>
<p>é—­åŒ…æ˜¯JavaScriptæœ€å¼ºå¤§ã€æœ€å…·ç‰¹è‰²çš„ç‰¹æ€§ä¹‹ä¸€ï¼Œç†è§£å®ƒçš„è®¾è®¡åˆè¡·æœ‰åŠ©äºæˆ‘ä»¬æ›´å¥½åœ°åˆ©ç”¨è¿™ä¸€ç‰¹æ€§ç¼–å†™é«˜è´¨é‡çš„ä»£ç ã€‚</p>
<p>æœ€åï¼Œè®°ä½è¿™å¥è¯ï¼š<strong>é—­åŒ…ä¸æ˜¯bugï¼Œè€Œæ˜¯JavaScriptçš„ç‰¹æ€§ã€‚æ­£ç¡®ä½¿ç”¨é—­åŒ…ï¼Œå®ƒä¼šæˆä¸ºä½ çš„å¼ºå¤§å·¥å…·</strong>ã€‚</p>
<h2 data-id="heading-22">å‚è€ƒèµ„æ–™</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FJavaScript%2FGuide%2FClosures" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Closures" ref="nofollow noopener noreferrer">MDN Web Docs: Closures</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fbook.douban.com%2Fsubject%2F35175321%2F" target="_blank" title="https://book.douban.com/subject/35175321/" ref="nofollow noopener noreferrer">JavaScripté«˜çº§ç¨‹åºè®¾è®¡ï¼ˆç¬¬4ç‰ˆï¼‰</a></li>
</ul>
<hr/>
<p>å¦‚æœæœ¬æ–‡å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµã€è¯„è®ºå’Œåˆ†äº«ï¼å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œä¹Ÿè¯·éšæ—¶æå‡ºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç§»åŠ¨webå¼€å‘å¸¸è§é—®é¢˜]]></title>    <link>https://juejin.cn/post/7591075684065329167</link>    <guid>https://juejin.cn/post/7591075684065329167</guid>    <pubDate>2026-01-04T08:23:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591075684065329167" data-draft-id="7590778284758548515" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç§»åŠ¨webå¼€å‘å¸¸è§é—®é¢˜"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,CSS"/> <meta itemprop="datePublished" content="2026-01-04T08:23:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Crystal328"/> <meta itemprop="url" content="https://juejin.cn/user/2359973194513272"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç§»åŠ¨webå¼€å‘å¸¸è§é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2359973194513272/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Crystal328
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T08:23:06.000Z" title="Sun Jan 04 2026 08:23:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. å»æ‰å›¾ç‰‡ä¸‹æ–¹çš„ç©ºç™½é—´éš™</h2>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå›¾ç‰‡ä¼šä¸å…¶ä¸‹æ–¹çš„å…ƒç´ äº§ç”Ÿä¸€æ®µç©ºç™½çš„é—´éš™</p>
<blockquote>
<p><code>&lt;img&gt;</code>é»˜è®¤æ˜¯<code>inline</code>ï¼ˆè¡Œå†…æ›¿æ¢å…ƒç´ ï¼‰ï¼Œéµå¾ªåŸºçº¿å¯¹é½ï¼Œä¸‹æ–¹é¢„ç•™æ–‡å­—ä¸‹è¡Œç©ºé—´ï¼›</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6275ec48b6441f69a86a3871d353118~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ3J5c3RhbDMyOA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768119786&amp;x-signature=uf2fIgLnBLs7IsCL1snSEE7u870%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.box</span> <span class="hljs-selector-tag">img</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid red;
    <span class="hljs-comment">/*1. æ·»åŠ æ­¤æ ·å¼*/</span>
    <span class="hljs-attribute">vertical-align</span>: top;
    <span class="hljs-comment">/*2. æˆ–è€…è½¬ä¸ºå—çº§å…ƒç´ */</span>
    <span class="hljs-attribute">display</span>:black;
  }
  <span class="hljs-selector-class">.box</span> <span class="hljs-selector-tag">p</span> {
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">20px</span>;
    <span class="hljs-attribute">background-color</span>: khaki;
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./images/pic1.png"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">""</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<ol start="3">
<li><strong>æ¸…é™¤çˆ¶å…ƒç´ çš„è¡Œé«˜å½±å“</strong>å›¾ç‰‡çš„åŸºçº¿å¯¹é½ä¼šå—çˆ¶å…ƒç´ Â <code>line-height</code>Â å½±å“ï¼Œå°†çˆ¶å…ƒç´ è¡Œé«˜è®¾ä¸º 0ï¼Œä¹Ÿèƒ½æ¶ˆé™¤é—´éš™ï¼š</li>
</ol>
<pre><code class="hljs language-css" lang="css">   <span class="hljs-selector-class">.img-parent</span> { <span class="hljs-comment">/* .img-parent æ˜¯ img çš„çˆ¶å®¹å™¨ */</span>
     <span class="hljs-attribute">line-height</span>: <span class="hljs-number">0</span>;
   }
</code></pre>
<h2 data-id="heading-1">2. å…ƒç´ å®½é«˜ç­‰æ¯”ç¼©æ”¾</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3efc81ed477d4e4cb16816a392f15413~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ3J5c3RhbDMyOA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768119786&amp;x-signature=ogsw7s5S2sgyhUM8eC9pyVKh66k%3D" alt="GIF2025-7-816-26-47.0becbb02.gif" loading="lazy"/></p>
<blockquote>
<p>åˆ©ç”¨ padding-top æ¥æ’‘å¼€å…ƒç´ çš„é«˜ï¼Œpadding-top ç™¾åˆ†æ¯”æ˜¯ç›¸å¯¹äºå½“å‰å…ƒç´ çš„çˆ¶å…ƒç´ å®½è€Œè¨€ï¼Œè€Œå½“å‰å…ƒç´ å®½ä¸çˆ¶å…ƒç´ å®½ä¸€æ ·ï¼Œåˆ™ç›¸å½“äºå…ƒç´ çš„é«˜æ˜¯ç›¸å¯¹äºå½“å‰å…ƒç´ çš„å®½è€Œè¨€ã€‚</p>
</blockquote>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
 <span class="hljs-selector-class">.box</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">25%</span>;
  }
 <span class="hljs-selector-class">.box</span> <span class="hljs-selector-class">.bl16-9</span> {
    <span class="hljs-attr">--bl</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">9</span> / <span class="hljs-number">16</span> * <span class="hljs-number">100%</span>);
    <span class="hljs-attribute">padding-top</span>: <span class="hljs-built_in">var</span>(--bl);
    <span class="hljs-attribute">background-color</span>: khaki;
    <span class="hljs-attribute">position</span>: relative;
  }
  <span class="hljs-selector-class">.box</span> <span class="hljs-selector-class">.content</span> {
    <span class="hljs-attribute">position</span>: absolute;
    inset: <span class="hljs-number">0</span>;
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>

<span class="hljs-comment">&lt;!-- å…ƒç´ å®½é«˜æ¯”ä¸º 16ï¼š9 ç­‰æ¯”ç¼©æ”¾ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bl16-9"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span>&gt;</span>å…ƒç´ å®½é«˜æ¯”ä¸º 16ï¼š9 ç­‰æ¯”ç¼©æ”¾<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h2 data-id="heading-2">3. å›¾ç‰‡ç­‰æ¯”ç¼©æ”¾</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a99ee75e84f415dbfdac000bb3b08ff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ3J5c3RhbDMyOA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768119786&amp;x-signature=2J3bWD1lyGPEOlpP7SmIif0zXpA%3D" alt="GIF2025-7-816-24-32.28c3c218.gif" loading="lazy"/></p>
<blockquote>
<p>åœ¨å®é™…çš„ç½‘ç«™ä¸Šçº¿åï¼Œæ•°æ®éƒ½æ˜¯ä»åå°è¯»å–çš„ï¼Œç”¨æˆ·åœ¨ä¸Šä¼ å›¾ç‰‡å°ºå¯¸æ—¶ï¼Œå¹¶ä¸ä¸€å®šä¼šæŒ‰ç…§è®¾è®¡å¸ˆè®¾è®¡çš„æ¯”ä¾‹æ¥ä¸Šä¼ ï¼Œè¿™æ ·å°±ä¼šé€ æˆå›¾ç‰‡ä¸Šä¼ åï¼Œå¤§å°ä¸ä¸€æ ·ã€‚</p>
<ul>
<li>å›¾ç‰‡é«˜åº¦è¿‡å°ï¼Œä¼šåœ¨ä¸‹é¢ç•™ä¸‹ç©ºç™½</li>
<li>å›¾ç‰‡é«˜åº¦è¿‡å¤§ï¼Œä¼šæœ‰ä¸€éƒ¨åˆ†ä¸‹é¢çš„å†…å®¹çœ‹ä¸åˆ°</li>
<li>æˆ‘ä»¬å®é™…åœ¨è®¾è®¡ä¸€å¼ å›¾æ—¶ï¼Œé‡è¦çš„å†…å®¹ä¼šåœ¨ä¸­é—´æ˜¾ç¤ºï¼Œæ‰€ä»¥æœ€ç†æƒ³çš„æ•ˆæœæ˜¯è®©å›¾ç‰‡èƒ½æ°´å¹³å‚ç›´å±…ä¸­äºå®¹å™¨ä¸­</li>
</ul>
</blockquote>
<p>è¦å®ç°å›¾ç‰‡æŒ‰ä¸€å®šçš„å®½é«˜æ¯”ç­‰æ¯”ç¼©æ”¾ï¼Œå¯ä»¥å…ˆå°†å›¾ç‰‡çš„ç›´æ¥çˆ¶å…ƒç´ å®ç°å®½é«˜ç­‰æ¯”ç¼©æ”¾ï¼Œç„¶åå†ç»™å›¾ç‰‡æ·»åŠ å¦‚ä¸‹ä»£ç </p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">img</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">object-fit</span>: cover;
}
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.box</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">25%</span>;
  }
  <span class="hljs-selector-class">.box</span> <span class="hljs-selector-class">.bl16-9</span> {
    <span class="hljs-attr">--bl</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">9</span> / <span class="hljs-number">16</span> * <span class="hljs-number">100%</span>);
    <span class="hljs-attribute">padding-top</span>: <span class="hljs-built_in">var</span>(--bl);
    <span class="hljs-attribute">background-color</span>: khaki;
    <span class="hljs-attribute">position</span>: relative;
  }
  <span class="hljs-selector-class">.box</span> <span class="hljs-selector-class">.content</span> {
    <span class="hljs-attribute">position</span>: absolute;
    inset: <span class="hljs-number">0</span>;
  }
  <span class="hljs-selector-class">.box</span> <span class="hljs-selector-tag">img</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">object-fit</span>: cover;
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>

<span class="hljs-comment">&lt;!-- å…ƒç´ å®½é«˜æ¯”ä¸º 16ï¼š9 ç­‰æ¯”ç¼©æ”¾ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bl16-9"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./images/pic1.png"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">""</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h2 data-id="heading-3">4. èƒŒæ™¯å›¾ç­‰æ¯”ç¼©æ”¾</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b46218c8e674b51a802dcf7ba199eb9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ3J5c3RhbDMyOA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768119786&amp;x-signature=eYRiC1X8bwIMlZhoIJZmx%2FKNxms%3D" alt="GIF-2022-8-16-18-50-31.f89069c2.gif" loading="lazy"/></p>
<blockquote>
<ul>
<li>å½“èƒŒæ™¯å›¾ç‰‡çš„å®½é«˜æ¯”ä¸å®¹å™¨çš„å®½é«˜æ¯”ä¸ä¸€æ ·æ—¶</li>
<li>æˆ‘ä»¬å¸Œæœ›ä¸ç®¡å®¹å™¨å®½é«˜å¦‚ä½•ç¼©æ”¾ï¼Œå›¾ç‰‡ä¸€ç›´å¡«å……æ•´ä¸ªå®¹å™¨ï¼Œç„¶åæ°´å¹³å‚ç›´å±…ä¸­æ˜¾ç¤º</li>
</ul>
</blockquote>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* èƒŒæ™¯å›¾å¡«å……æ•´ä¸ªå®¹å™¨ */</span>
<span class="hljs-attribute">background-size</span>: cover;
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
  <span class="hljs-selector-tag">body</span> {
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  }
  <span class="hljs-selector-class">.box</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100vw</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">31.467vw</span>;
    <span class="hljs-comment">/* èƒŒæ™¯å›¾ç‰‡  ä¸é‡å¤  æ°´å¹³å‚ç›´å±…ä¸­æ˜¾ç¤º */</span>
    <span class="hljs-attribute">background</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">./images/banner1-@2x.png</span>) no-repeat center;
    <span class="hljs-comment">/* èƒŒæ™¯å›¾å¡«å……æ•´ä¸ªå®¹å™¨ */</span>
    <span class="hljs-attribute">background-size</span>: cover;
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
</code></pre>
<h2 data-id="heading-4">5. 2å€ç²¾çµå›¾ä½¿ç”¨</h2>
<blockquote>
<ul>
<li>ç²¾çµå›¾é‡‡ç”¨çš„æ˜¯ 2 å€å›¾</li>
<li>æ‰€ä»¥åœ¨å¤„ç†ç²¾çµå›¾æ—¶ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡Â <code>background-size: 50% auto;</code>Â ï¼Œæ¥å°†èƒŒæ™¯å›¾ç‰‡å¤§å°ç¼©å°ä¸€åŠ</li>
<li>æµ‹é‡å°ºå¯¸æ—¶ï¼Œä¹Ÿéœ€è¦æŒ‰ä¸€åŠçš„å¤§å°æ¥æµ‹é‡</li>
</ul>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16c1bdc3c36b43de827e25460612fe1d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ3J5c3RhbDMyOA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768119786&amp;x-signature=vDd%2BMwmmGSk%2FPFWzy8dwpDw1Wxg%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.icon-play</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">26px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">26px</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid red;
    <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">images/sprite.png</span>);
    <span class="hljs-attribute">background-position</span>: -<span class="hljs-number">36px</span> -<span class="hljs-number">29px</span>;
    <span class="hljs-attribute">background-size</span>: <span class="hljs-number">200px</span>;
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"icon-play"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
</code></pre>
<h2 data-id="heading-5">6.ç»å…¸çš„ 1 åƒç´ é—®é¢˜</h2>
<h3 data-id="heading-6">6.1ã€ä½•ä¸º 1 åƒç´ é—®é¢˜</h3>
<p><strong>PSD è®¾è®¡ç¨¿</strong></p>
<ul>
<li>æˆ‘ä»¬çš„è®¾è®¡ç¨¿æ˜¯ä»¥ 750px å®½æ¥è®¾è®¡çš„ï¼Œè€Œæˆ‘ä»¬å®é™…å¼€å‘æ—¶ï¼Œä»£ç æ˜¯æŒ‰ 375px æ¥çš„ã€‚</li>
<li>åœ¨ 750px è®¾è®¡ç¨¿ä¸­çš„ 1pxï¼ŒæŒ‰æˆ‘ä»¬å®é™…çš„å¼€å‘ä»£ç æ¥è¯´ï¼Œè¦æŠ˜åŠï¼ŒæŠ˜æˆ 0.5px æ‰å¯¹ã€‚</li>
<li>ä½†æ˜¯ä¸åŒæ‰‹æœºä¸Šï¼Œä¸åŒæµè§ˆå™¨å¯¹å°æ•°çš„å¤„ç†æ˜¯ä¸ä¸€æ ·çš„</li>
<li><code>0.5px</code>Â åœ¨ä¸€äº›è€çš„ IOS å’Œ Android è®¾å¤‡ä¸Šä¸æ”¯æŒï¼Œä»–ä¼šæŠŠä½äº 0.5px å½“æˆ 0 æ¥å¤„ç†ï¼Œ<code>&gt;= 0.5px</code>Â å½“æˆ 1px æ¥æ˜¾ç¤ºã€‚</li>
<li>IOS ä¸Šä¼šæŠŠ<code>&gt;= 0.75px</code>Â çš„å½“ä½œ 1px æ¥å¤„ç† ï¼Œ<code>&lt; 0.75</code>Â å½“æˆ 0.5px æ¥å¤„ç†Â <code>&lt; 0.5px</code>Â å½“æˆ 0 æ¥å¤„ç†</li>
<li>è€Œä¸” IOS ä¸Šï¼Œç”¨Â <code>height: 1px</code>Â æ¥ä»£æ›¿Â <code>border-bottom: 1px solid red;</code>æµ‹å‡ºçš„æ•ˆæœä¸åŒ</li>
<li>ä¸åŒçš„æ‰‹æœºä¸Šï¼Œæ•ˆæœä¸ä¸€æ ·ï¼Œå…·ä½“ä»¥çœŸæœºæµ‹è¯•ä¸ºä¸»</li>
<li>æ‰€ä»¥ç›´æ¥æŠŠä»£ç æŠ˜åŠï¼Œè®¾ç½®æˆ 0.5px æ˜¾ç„¶æ˜¯è¾¾ä¸åˆ°ç›®çš„ã€‚</li>
</ul>
<p><strong>1px å®é™…æ˜¾ç¤ºçš„å¤§å°</strong></p>
<p>1px åœ¨ dpr (åƒç´ æ¯”)ä¸åŒæ—¶ï¼Œå…¶æ˜¾ç¤ºçš„å¤§å°ä¸åŒï¼Œå¦‚ä¸‹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9b3181b6f0847c498847ac3e368c0c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ3J5c3RhbDMyOA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768119786&amp;x-signature=d8jzFpB78neBmej7eQL0nvnqQ70%3D" alt="image.png" loading="lazy"/>
æ‰€ä»¥åœ¨ä¸åŒ dpr ä¸‹ï¼Œæ˜¾ç¤ºçš„ 1px çš„çº¿çš„å®½åº¦æ˜¯ä¸‹é¢å›¾æ ‡å‡ºçš„<strong>è“è‰²</strong>çš„é«˜åº¦å¤§å°ï¼ˆ1 ç‰©ç†åƒç´ å¤§å°ï¼‰
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89f44b448c6b4a7cb6ad75c3df85c200~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ3J5c3RhbDMyOA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768119786&amp;x-signature=A6GfeRB2s6YAyaS2P0Gd1QAGYGk%3D" alt="image.png" loading="lazy"/>
å› æ­¤ï¼Œ 1px åƒç´ é—®é¢˜(ç”¨å½“å‰è®¾å¤‡çš„ç‰©ç†åƒç´ çš„1pxè¿›è¡Œæ¸²æŸ“è¿™æ ¹çº¿çš„é«˜åº¦ï¼‰ï¼Œæœ¬è´¨ä¸Šä¸æ˜¯é—®é¢˜ï¼Œå¦‚æœå…¬å¸è§‰å¾—æ²¡æœ‰å¿…è¦ï¼Œä¹Ÿå°±ä¸ç”¨å¤„ç†ã€‚<br/>
å¦‚æœå…¬å¸è®¤ä¸ºå°±æ˜¯è¦ç”¨è®¾å¤‡èƒ½æ˜¾ç¤ºçš„æœ€ç»†çš„é‚£ä¸ªå°æ–¹æ ¼æ˜¾ç¤ºï¼Œé‚£æˆ‘ä»¬å°±è¦å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚</p>
<h3 data-id="heading-7">6.2ã€1px åƒç´ è§£å†³æ–¹æ¡ˆ(æœ€ä¼˜çš„è§£å†³æ–¹æ¡ˆÂ <strong>transform+ä¼ªå…ƒç´ æ¥å®ç°</strong>)</h3>
<p><strong>å®ç°åŸç†ï¼š</strong></p>
<ul>
<li>åˆ©ç”¨ä¼ªå…ƒç´ æ¥ç»˜åˆ¶ 1px çš„çº¿æ¡,ç„¶ååˆ©ç”¨å®šä½ï¼ŒæŠŠçº¿æ¡æ”¾åœ¨å¯¹åº”ä½ç½®</li>
<li>åˆ©ç”¨Â <code>media</code>Â æŸ¥è¯¢åˆ¤æ–­ä¸åŒçš„è®¾å¤‡åƒç´ æ¯”å¯¹çº¿æ¡è¿›è¡Œç¼©æ”¾</li>
</ul>
<pre><code class="hljs language-HTML" lang="HTML"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.box</span> {
    <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;
    <span class="hljs-attribute">position</span>: relative;
  }
  <span class="hljs-selector-class">.border-1px</span><span class="hljs-selector-pseudo">::before</span> {
    <span class="hljs-attribute">position</span>: absolute;
    <span class="hljs-attribute">content</span>: <span class="hljs-string">""</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">1px</span>;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">background-color</span>: red;
    <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;
    <span class="hljs-comment">/* transform: scaleY(0.5); */</span>
    <span class="hljs-comment">/* å˜æ¢åŸç‚¹ */</span>
    <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">50%</span> <span class="hljs-number">0%</span>;
  }
  <span class="hljs-comment">/* dpr=2ï¼Œéœ€è¦ç¼©æ”¾ä¸€åŠï¼Œå³0.5 */</span>
  <span class="hljs-keyword">@media</span> <span class="hljs-keyword">only</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">-webkit-min-device-pixel-ratio</span>: <span class="hljs-number">2</span>) {
    <span class="hljs-selector-class">.border-1px</span><span class="hljs-selector-pseudo">:before</span> {
      <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scaleY</span>(<span class="hljs-number">0.5</span>);
    }
  }
  <span class="hljs-comment">/* dpr=3ï¼Œéœ€è¦ç¼©æ”¾åˆ°1/3ï¼Œå³0.33 */</span>
  <span class="hljs-keyword">@media</span> <span class="hljs-keyword">only</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">-webkit-min-device-pixel-ratio</span>: <span class="hljs-number">3</span>) {
    <span class="hljs-selector-class">.border-1px</span><span class="hljs-selector-pseudo">:before</span> {
      <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scaleY</span>(<span class="hljs-number">0.33</span>);
    }
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box border-1px"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
</code></pre>
<blockquote>
<p>ä¹Ÿå¯ä»¥é€šè¿‡ js æ¥åˆ¤æ–­ dpr,ç„¶åç»™å…ƒç´ æ·»åŠ å¯¹åº”çš„ Class åå­—ï¼Œæ¥å®ç°</p>
</blockquote>
<pre><code class="hljs language-JS" lang="JS"><span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span> &amp;&amp; devicePixelRatio &gt;= <span class="hljs-number">2</span>) {
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">".box"</span>).<span class="hljs-property">className</span> = <span class="hljs-string">"border-1px"</span>;
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ„å»ºä½åˆ©ç”¨ç‡äº‘èµ„æºé¢æ¿ï¼Œè§‚æµ‹äº‘åŠ©åŠ›ä¼ä¸šç¼©å‡äº‘æˆæœ¬]]></title>    <link>https://juejin.cn/post/7591013450526261300</link>    <guid>https://juejin.cn/post/7591013450526261300</guid>    <pubDate>2026-01-04T09:22:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591013450526261300" data-draft-id="7591075684065165327" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ„å»ºä½åˆ©ç”¨ç‡äº‘èµ„æºé¢æ¿ï¼Œè§‚æµ‹äº‘åŠ©åŠ›ä¼ä¸šç¼©å‡äº‘æˆæœ¬"/> <meta itemprop="keywords" content="äº‘è®¡ç®—"/> <meta itemprop="datePublished" content="2026-01-04T09:22:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¯è§‚æµ‹æ€§ç”¨è§‚æµ‹äº‘"/> <meta itemprop="url" content="https://juejin.cn/user/2392958212523102"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ„å»ºä½åˆ©ç”¨ç‡äº‘èµ„æºé¢æ¿ï¼Œè§‚æµ‹äº‘åŠ©åŠ›ä¼ä¸šç¼©å‡äº‘æˆæœ¬
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2392958212523102/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¯è§‚æµ‹æ€§ç”¨è§‚æµ‹äº‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T09:22:10.000Z" title="Sun Jan 04 2026 09:22:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>éšç€å…¬æœ‰äº‘çš„å¹¿æ³›åº”ç”¨ï¼Œä¼ä¸šæ™®éé¢ä¸´äº‘èµ„æºåˆ©ç”¨ç‡ä¸è¶³ã€èµ„æºé…ç½®ä¸åˆç†ï¼ˆå¦‚é«˜é…ä½ç”¨ï¼‰ç­‰æŒ‘æˆ˜ï¼Œå¯¼è‡´äº‘æ”¯å‡ºæŒç»­å±…é«˜ä¸ä¸‹ã€‚æ®è¡Œä¸šæŠ¥å‘Šæ˜¾ç¤ºï¼Œè¶…è¿‡ 90% çš„ç”¨äº‘ä¼ä¸šå­˜åœ¨æ˜æ˜¾çš„èµ„æºæµªè´¹ç°è±¡ï¼Œäº‘èµ„æºæŠ•å…¥ä¸ä¸šåŠ¡æ”¶ç›Šçš„åŒ¹é…åº¦ä¸è¶³å·²æˆä¸ºä¼ä¸šæ•°å­—åŒ–è½¬å‹ä¸­çš„æ ¸å¿ƒç—›ç‚¹ã€‚åœ¨æ­¤èƒŒæ™¯ä¸‹ï¼Œäº‘èµ„æºç®¡ç†éƒ¨é—¨äºŸéœ€å¯¹ä½åˆ©ç”¨ç‡çš„äº‘èµ„æºè¿›è¡Œé™é…æˆ–å…³åœã€‚</p>
<p>è§‚æµ‹äº‘ä½œä¸ºä¸€æ¬¾ç°ä»£åŒ–çš„ç›‘æ§è§‚æµ‹äº‘æœåŠ¡ï¼Œä¸ä»…èƒ½æ»¡è¶³ç ”å‘ã€è¿ç»´å›¢é˜Ÿçš„è§‚æµ‹éœ€æ±‚ï¼Œä¹Ÿèƒ½ç«™åœ¨ã€Œäº‘ä¸­ç«‹ã€çš„è§’åº¦å¸®åŠ©å®¢æˆ·æŒç»­ä¼˜åŒ–äº‘èµ„æºæˆæœ¬ã€‚æœ¬æ–‡ä»¥ ECS äº§å“ä¸ºä¾‹ï¼Œå‘å¤§å®¶ä»‹ç»å¦‚ä½•åœ¨è§‚æµ‹äº‘ä¸Šæ„å»ºä½åˆ©ç”¨ç‡äº‘èµ„æºé¢æ¿ã€‚é’ˆå¯¹å…¶ä»–äº‘äº§å“ï¼Œè¯»è€…äº¦å¯å‚è€ƒè¯¥æ¨¡å¼è¿›è¡Œèµ„æºä¼˜åŒ–ã€‚</p>
<h2 data-id="heading-1">æ„å»ºä½åˆ©ç”¨ç‡äº‘èµ„æºé¢æ¿</h2>
<p>ç¬”è€…è¿‘æœŸåœ¨æœåŠ¡äºæŸå®¢æˆ·æ—¶äº†è§£åˆ°ï¼Œè¯¥å®¢æˆ·çš„ ECS çš„æœˆæ¶ˆè´¹é‡‘é¢å§‹ç»ˆä½äºäº‘æ¶ˆè´¹æ€»é‡‘é¢çš„é¦–ä½ï¼Œæ¯”ç¬¬äºŒåçš„äº‘æ•°æ®åº“ï¼ˆRDSï¼‰é«˜å‡º 5 å€è¿˜å¤šã€‚å› æ­¤å®¢æˆ·è®¤ä¸ºä» ECS å…¥æ‰‹è¿›è¡Œæˆæœ¬ä¼˜åŒ–ï¼Œå…¶é£é™©å°æ”¶ç›Šå¤§ã€‚å› æ­¤åœ¨åŒæ–¹å…±åŒåŠªåŠ›ä¸‹ï¼Œåœ¨è§‚æµ‹äº‘ä¸Šæ„å»ºäº†ã€Œä½èµ„æºåˆ©ç”¨ç‡ ECS é¢æ¿ã€ï¼Œå…·ä½“æ•ˆæœå¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-2">ç¬¬ä¸€éƒ¨åˆ†ï¼šCPUã€å†…å­˜åˆ©ç”¨ç‡èœ‚çªå›¾</h3>
<p>ä½œä¸ºä»ªè¡¨æ¿çš„ç¬¬ä¸€éƒ¨åˆ†ï¼Œèœ‚çªå›¾èƒ½å¸®åŠ©ç”¨æˆ·ä¸€ç›®äº†ç„¶çœ‹åˆ°å½“å‰æœ‰å“ªäº› ECS çš„åˆ©ç”¨ç‡è¿‡ä½ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47176ce62501430187eecc0313e0d017~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768123329&amp;x-signature=7NPFCiYYAQKEqPuZ786xKf4SeaY%3D" alt="" loading="lazy"/></p>
<p>ä»¥é˜¿é‡Œäº‘ ECS ä¸ºä¾‹ï¼Œå›¾è¡¨çš„ DQL è¯­å¥ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-variable constant_">CPU</span>åˆ©ç”¨ç‡<span class="hljs-variable constant_">P90</span>

M::<span class="hljs-symbol">aliyun_acs_ecs_dashboard:</span>(percentile(<span class="hljs-string">`CPUUtilization_Average`</span>, <span class="hljs-number">90</span>)) <span class="hljs-variable constant_">BY</span> <span class="hljs-string">`cloud_provider`</span>, <span class="hljs-string">`cluster_name_k8s`</span>,<span class="hljs-string">`instanceId`</span>
</code></pre>

<pre><code class="hljs language-ruby" lang="ruby">å†…å­˜åˆ©ç”¨ç‡<span class="hljs-variable constant_">P90</span>

M::<span class="hljs-symbol">aliyun_acs_ecs_dashboard:</span>(percentile(<span class="hljs-string">`memory_usedutilization_Average`</span>, <span class="hljs-number">90</span>)) <span class="hljs-variable constant_">BY</span> <span class="hljs-string">`cloud_provider`</span>, <span class="hljs-string">`cluster_name_k8s`</span>,<span class="hljs-string">`instanceId`</span>
</code></pre>
<p>å›¾è¡¨ç‰¹ç‚¹ï¼š</p>
<ul>
<li>é€‰æ‹© CPU åˆ©ç”¨ç‡å’Œå†…å­˜åˆ©ç”¨ç‡ P90 æŒ‡æ ‡ï¼Œå…¼é¡¾äº†é«˜å³°æœŸèµ„æºåˆ©ç”¨ç‡å‡é«˜çš„åœºæ™¯ï¼›</li>
<li>é‡‡ç”¨èœ‚çªå›¾ï¼Œé«˜å¯†åº¦å±•ç¤ºå„ ECS çš„ CPU å’Œå†…å­˜åˆ©ç”¨ç‡ï¼Œå¹¶æŒ‰ç…§äº‘å‚ã€k8s é›†ç¾¤ã€ç¯å¢ƒç­‰æ ‡ç­¾è¿›è¡Œåˆ†ç»„å±•ç¤ºï¼›</li>
<li>å°†èµ„æºåˆ©ç”¨ç‡åˆ†ä¸ºçº¢ã€é»„ã€ç»¿ä¸‰ä¸ªæ¡£æ¬¡ï¼Œç”¨çº¢è‰²çªå‡ºæ˜¾ç¤ºèµ„æºåˆ©ç”¨ç‡å¾ˆä½çš„ ECSï¼›</li>
<li>é¼ æ ‡æ‚¬æµ®åˆ°å•ä¸ªèœ‚çªæ—¶ï¼Œæµè§ˆå™¨å°†æ˜¾ç¤ºè¯¥ ECS çš„åˆ†ç»„ä¿¡æ¯ï¼Œå¦‚ instanceIdï¼Œk8s é›†ç¾¤åç§°ç­‰ï¼Œæ”¯æŒé’»å–åˆ°å•å° ECS è¿›è¡Œä¸‹é’»ã€‚</li>
</ul>
<h3 data-id="heading-3">ç¬¬äºŒéƒ¨åˆ†ï¼šCPUã€å†…å­˜åˆ©ç”¨ç‡è¶‹åŠ¿å›¾</h3>
<p>å›¾è¡¨æ˜¾ç¤ºäº† CPU åˆ©ç”¨ç‡ P90ã€CPU åˆ©ç”¨ç‡å‡å€¼ã€å†…å­˜åˆ©ç”¨ç‡ P90ã€å†…å­˜åˆ©ç”¨ç‡å‡å€¼ï¼Œæ¯ä¸ªè¶‹åŠ¿å›¾å±•ç¤ºèµ„æºç‡æœ€ä½çš„ Top20 ECS çš„åˆ©ç”¨ç‡æ›²çº¿ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc83b3210c6347f593ad3eb812342914~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768123329&amp;x-signature=a2IFam7FJ1TaD8pAoOd1ICus318%3D" alt="" loading="lazy"/></p>
<p>åœ¨èœ‚çªå›¾ä¸Šç‚¹å‡»æŸä¸ª instanceId çš„èœ‚çªè¿›è¡Œä¸‹é’»ï¼Œå›¾è¡¨å°†è¿‡æ»¤æ˜¾ç¤ºè¯¥ instanceId çš„ CPUã€å†…å­˜åˆ©ç”¨ç‡çš„ P90 è¶‹åŠ¿å’Œå‡å€¼è¶‹åŠ¿ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0691b2ee42c48a48fe9c4cbbd441901~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768123329&amp;x-signature=wcwh1pxOmy8aLs5ELNts0RRDg3o%3D" alt="" loading="lazy"/></p>
<p>ä»¥é˜¿é‡Œäº‘ ECS ä¸ºä¾‹ï¼Œå›¾è¡¨çš„ DQL è¯­å¥ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-variable constant_">CPU</span>åˆ©ç”¨ç‡<span class="hljs-variable constant_">P90</span>

M::<span class="hljs-symbol">aliyun_acs_ecs_dashboard:</span>(percentile(<span class="hljs-string">`CPUUtilization_Average`</span>, <span class="hljs-number">90</span>)) <span class="hljs-variable constant_">BY</span> <span class="hljs-string">`cloud_provider`</span>, <span class="hljs-string">`cluster_name_k8s`</span>,<span class="hljs-string">`instanceId`</span>
</code></pre>

<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-variable constant_">CPU</span>åˆ©ç”¨ç‡å‡å€¼

M::<span class="hljs-symbol">aliyun_acs_ecs_dashboard:</span>(avg(<span class="hljs-string">`CPUUtilization_Average`</span>)) <span class="hljs-variable constant_">BY</span> <span class="hljs-string">`cloud_provider`</span>,<span class="hljs-string">`cluster_name_k8s`</span>, <span class="hljs-string">`instanceId`</span>
</code></pre>

<pre><code class="hljs language-ruby" lang="ruby">å†…å­˜åˆ©ç”¨ç‡<span class="hljs-variable constant_">P90</span>

M::<span class="hljs-symbol">aliyun_acs_ecs_dashboard:</span>(percentile(<span class="hljs-string">`memory_usedutilization_Average`</span>, <span class="hljs-number">90</span>)) <span class="hljs-variable constant_">BY</span> <span class="hljs-string">`cloud_provider`</span>, <span class="hljs-string">`cluster_name_k8s`</span>,<span class="hljs-string">`instanceId`</span>
</code></pre>

<pre><code class="hljs language-ruby" lang="ruby">å†…å­˜åˆ©ç”¨ç‡å‡å€¼

M::<span class="hljs-symbol">aliyun_acs_ecs_dashboard:</span>(avg(<span class="hljs-string">`memory_usedutilization_Average`</span>)) <span class="hljs-variable constant_">BY</span> <span class="hljs-string">`cloud_provider`</span>, <span class="hljs-string">`cluster_name_k8s`</span>,<span class="hljs-string">`instanceId`</span>
</code></pre>
<p>å›¾è¡¨ç‰¹ç‚¹ï¼š</p>
<ul>
<li>é€šè¿‡è¶‹åŠ¿å›¾ï¼Œåæ˜  ECS åœ¨ä¸€ä¸ªè¾ƒé•¿å‘¨æœŸå†…çš„èµ„æºåˆ©ç”¨ç‡å˜åŒ–è¶‹åŠ¿ï¼Œä¾‹å¦‚ 30 å¤©ã€180 å¤©ã€360 å¤©ç­‰ï¼›</li>
<li>åŒæ—¶æä¾› P90 å’Œå‡å€¼è¶‹åŠ¿ï¼Œä»¥è¯„ä¼° ECS åœ¨æ—¥å¸¸ä½¿ç”¨å’Œé«˜å³°æœŸçš„èµ„æºä½¿ç”¨ç‡</li>
<li>æ”¯æŒä¸èœ‚çªå›¾è”åŠ¨ï¼Œå½“ç”¨æˆ·ä»èœ‚çªå›¾ä¸Šç‚¹å‡»å•ä¸ªèœ‚çªæ—¶ï¼ˆä¾‹å¦‚ä»£è¡¨èµ„æºåˆ©ç”¨ç‡å¾ˆä½çš„çº¢è‰²èœ‚çªï¼‰ï¼Œè¶‹åŠ¿å›¾å°†è”åŠ¨è¯¥è¿‡æ»¤æ¡ä»¶ï¼Œä»…æ˜¾ç¤ºè¯¥ ECS çš„è¶‹åŠ¿å›¾</li>
<li>åœ¨è¶‹åŠ¿å›¾ä¸­ï¼ŒåŒæ—¶è¿˜å±•ç¤ºäº†ä½æ°´ä½åŸºå‡†çº¿ï¼Œä»¥ä¾¿åæ˜  ECS å®é™…èµ„æºç‡å’ŒåŸºå‡†çº¿çš„å·®å¼‚ã€‚</li>
</ul>
<h3 data-id="heading-4">ç¬¬ä¸‰éƒ¨åˆ†ï¼šECS èµ„æºåˆ—è¡¨</h3>
<p>é€šè¿‡å‰ä¸¤éƒ¨åˆ†çš„å›¾è¡¨ï¼Œç”¨æˆ·å¯ä»¥æ˜ç¡®æŸå° ECS çš„èµ„æºåˆ©ç”¨ç‡æ˜¯é•¿æœŸå¤„äºä½ä½çš„ï¼Œè€Œç¬¬ä¸‰éƒ¨åˆ†çš„ ECS èµ„æºåˆ—è¡¨åˆ™å°†å¯¹åº” ECS çš„ instanceIdã€ä¸»æœºåã€è§„æ ¼ã€CPU å’Œå†…å­˜é…ç½®ä¿¡æ¯å±•ç¤ºå‡ºæ¥ï¼Œç”¨æˆ·æ— éœ€ç™»é™†åˆ°äº‘å¹³å°ä¸Šè¿›è¡ŒäºŒæ¬¡æœç´¢ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c8d544c7ca94029a758b30b21a46d31~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768123329&amp;x-signature=rNNwyn4AqOTcLm2N4%2BuYL9Waa5g%3D" alt="" loading="lazy"/></p>
<p>ä»¥é˜¿é‡Œäº‘ ECS ä¸ºä¾‹ï¼Œå›¾è¡¨ DQL å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-variable constant_">ECS</span>èµ„æºåˆ—è¡¨

<span class="hljs-variable constant_">CO</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:aliyun_ecs</span><span class="hljs-symbol">:</span>(<span class="hljs-string">`HostName`</span>, <span class="hljs-string">`InstanceName`</span>, <span class="hljs-string">`Cpu`</span>, <span class="hljs-string">`Memory`</span>, <span class="hljs-string">`Status`</span>, <span class="hljs-string">`CreationTime`</span>, <span class="hljs-string">`InstanceType`</span>, <span class="hljs-string">`PublicIpAddress_IpAddress`</span>) [1h] <span class="hljs-variable constant_">BY</span> <span class="hljs-string">`InstanceId`</span>
</code></pre>
<p>å›¾è¡¨ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ˜¾ç¤ºè§„æ ¼ã€CPUã€å†…å­˜ç­‰ä¿¡æ¯</li>
<li>æ”¯æŒä¸èœ‚çªå›¾è”åŠ¨ï¼Œä»èœ‚çªå›¾ä¸‹é’»åˆ°å•å° ECS åï¼Œèµ„æºåˆ—è¡¨ä¹Ÿå°†åŒæ­¥è¿‡æ»¤æ˜¾ç¤ºè¯¥ ECS çš„è§„æ ¼æƒ…å†µ</li>
</ul>
<h3 data-id="heading-5">ç¬¬å››éƒ¨åˆ†ï¼šæ±‡æŠ¥éƒ¨åˆ†</h3>
<p>åœ¨å¼€å±•äº‘èµ„æºä¼˜åŒ–çš„å·¥ä½œå¹¶å–å¾—é˜¶æ®µæ€§æˆæœåï¼Œç”¨æˆ·éœ€è¦å‘ç®¡ç†å±‚æ±‡æŠ¥ä¼˜åŒ–å·¥ä½œçš„å‰åå¯¹æ¯”ï¼Œä¾‹å¦‚æœ¬æœˆçš„ä½èµ„æºåˆ©ç”¨ç‡ä¸»æœºæ•°é‡ç›¸å¯¹äºä¸Šæœˆçš„æ•°é‡å˜åŒ–æƒ…å†µï¼Œå› æ­¤éœ€è¦ç›´è§‚çš„æ•°æ®å¯¹æ¯”ï¼Œè¿™éƒ¨åˆ†å›¾è¡¨å†…å®¹å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/65978cc2eb9d491ea6b37dee7959194b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768123329&amp;x-signature=YTqRAACb5l7CckqLkTp%2BaiM15c4%3D" alt="" loading="lazy"/></p>
<p>å›¾è¡¨ promQLï¼š</p>
<pre><code class="hljs language-less" lang="less">æœ€è¿‘<span class="hljs-number">30</span>å¤©<span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">CPU</span>èµ„æºåˆ©ç”¨ç‡<span class="hljs-selector-tag">P90</span>å°äº<span class="hljs-number">20%</span>çš„ä¸»æœºæ•°

<span class="hljs-selector-tag">count</span>(<span class="hljs-built_in">quantile_over_time</span>(<span class="hljs-number">0.9</span>, <span class="hljs-attribute">aliyun_acs_ecs_dashboard</span>:CPUUtilization_Average[<span class="hljs-number">30</span><span class="hljs-attribute">d</span>:<span class="hljs-number">1</span>h])  &lt; <span class="hljs-number">20</span>)
</code></pre>

<pre><code class="hljs language-less" lang="less">ä¸Šä¸€ä¸ª<span class="hljs-number">30</span>å¤©<span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">CPU</span>èµ„æºåˆ©ç”¨ç‡<span class="hljs-selector-tag">P90</span>å°äº<span class="hljs-number">20%</span>çš„ä¸»æœºæ•°

<span class="hljs-selector-tag">count</span>(<span class="hljs-built_in">quantile_over_time</span>(<span class="hljs-number">0.9</span>, <span class="hljs-attribute">aliyun_acs_ecs_dashboard</span>:CPUUtilization_Average[<span class="hljs-number">30</span><span class="hljs-attribute">d</span>:<span class="hljs-number">1</span>h])  &lt; <span class="hljs-number">20</span>) <span class="hljs-selector-tag">offset</span> <span class="hljs-number">30</span><span class="hljs-selector-tag">d</span>
</code></pre>

<pre><code class="hljs language-less" lang="less">æœ€è¿‘<span class="hljs-number">30</span>å¤©<span class="hljs-selector-tag">-</span> å†…å­˜èµ„æºåˆ©ç”¨ç‡<span class="hljs-selector-tag">P90</span>å°äº<span class="hljs-number">40%</span>çš„ä¸»æœºæ•°

<span class="hljs-selector-tag">count</span>(<span class="hljs-built_in">quantile_over_time</span>(<span class="hljs-number">0.9</span>, <span class="hljs-attribute">aliyun_acs_ecs_dashboard</span>:memory_usedutilization_Average[<span class="hljs-number">30</span><span class="hljs-attribute">d</span>:<span class="hljs-number">1</span>h])  &lt; <span class="hljs-number">40</span>)
</code></pre>

<pre><code class="hljs language-less" lang="less">ä¸Šä¸€ä¸ª<span class="hljs-number">30</span>å¤©<span class="hljs-selector-tag">-</span> å†…å­˜èµ„æºåˆ©ç”¨ç‡<span class="hljs-selector-tag">P90</span>å°äº<span class="hljs-number">40%</span>çš„ä¸»æœºæ•°

<span class="hljs-selector-tag">count</span>(<span class="hljs-built_in">quantile_over_time</span>(<span class="hljs-number">0.9</span>, <span class="hljs-attribute">aliyun_acs_ecs_dashboard</span>:memory_usedutilization_Average[<span class="hljs-number">30</span><span class="hljs-attribute">d</span>:<span class="hljs-number">1</span>h])  &lt; <span class="hljs-number">40</span>)   <span class="hljs-selector-tag">offset</span> <span class="hljs-number">30</span><span class="hljs-selector-tag">d</span>
</code></pre>

<pre><code class="hljs language-less" lang="less">æœ€è¿‘<span class="hljs-number">30</span>å¤©<span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">CPU</span>èµ„æºåˆ©ç”¨ç‡<span class="hljs-selector-tag">P90</span>å°äº<span class="hljs-number">20%</span>çš„ä¸»æœºæ˜ç»†è¡¨

<span class="hljs-selector-tag">quantile_over_time</span>(<span class="hljs-number">0.9</span>, <span class="hljs-attribute">aliyun_acs_ecs_dashboard</span>:CPUUtilization_Average[<span class="hljs-number">30</span><span class="hljs-attribute">d</span>:<span class="hljs-number">1</span>h])  &lt; <span class="hljs-number">20</span>
</code></pre>

<pre><code class="hljs language-less" lang="less">æœ€è¿‘<span class="hljs-number">30</span>å¤©<span class="hljs-selector-tag">-</span> å†…å­˜èµ„æºåˆ©ç”¨ç‡<span class="hljs-selector-tag">P90</span>å°äº<span class="hljs-number">40%</span>çš„ä¸»æœºæ˜ç»†è¡¨

<span class="hljs-selector-tag">quantile_over_time</span>(<span class="hljs-number">0.9</span>, <span class="hljs-attribute">aliyun_acs_ecs_dashboard</span>:memory_usedutilization_Average[<span class="hljs-number">30</span><span class="hljs-attribute">d</span>:<span class="hljs-number">1</span>h])  &lt; <span class="hljs-number">40</span>
</code></pre>
<p>å›¾è¡¨ç‰¹ç‚¹ï¼š</p>
<ul>
<li>åˆ†å‘¨æœŸå±•ç¤ºä½èµ„æºåˆ©ç”¨ç‡çš„ ECS æ•°é‡ï¼Œæ¸…æ™°ä¸”å®¢è§‚ï¼Œæ–¹ä¾¿æ±‡æŠ¥ä¼˜åŒ–æˆæœ</li>
<li>æ”¯æŒå¯¼å‡ºä¸º CSV æ–‡ä»¶ï¼Œæ–¹ä¾¿æ ¸æŸ¥æ˜ç»†</li>
</ul>
<h2 data-id="heading-6">äº‘èµ„æºåˆ©ç”¨ç‡æŒ‡æ ‡é‡‡é›†çš„æ­¥éª¤</h2>
<p>åœ¨æœ¬ç« ä¸­æˆ‘ä»¬å°†ä»‹ç»ç»˜åˆ¶ä½åˆ©ç”¨ç‡äº‘èµ„æºé¢æ¿æ‰€éœ€è¦çš„ä¸€äº›å‰ç½®æ¡ä»¶å’Œæ­¥éª¤ï¼Œå¸®åŠ©å¤§å®¶è½»æ¾å®Œæˆç›¸å…³æŒ‡æ ‡æ¥å…¥å’ŒæŒ‡æ ‡ç®¡ç†ã€‚</p>
<h3 data-id="heading-7">ç¬¬ä¸€æ­¥ï¼Œå¼€å¯è§‚æµ‹äº‘ã€Œäº‘è´¦å·ç®¡ç†ã€åŠŸèƒ½</h3>
<p>ç™»é™†åˆ°è§‚æµ‹äº‘å·¥ä½œç©ºé—´åï¼Œè¿›å…¥ã€Œé›†æˆã€-ã€Œäº‘è´¦å·ç®¡ç†ã€ï¼Œæ·»åŠ å…¬æœ‰äº‘è´¦å·ï¼Œè¾“å…¥å…·æœ‰ readOnly æƒé™çš„ AK/SKã€‚å¦‚ä¼ä¸šæ— æ³•æä¾›äº‘å¹³å°çš„ AK/SK ä¿¡æ¯ï¼Œå¯è€ƒè™‘é€šè¿‡åœ¨ä¼ä¸šå†…ç½‘è‡ªå»º Func çš„æ–¹å¼ï¼Œæ¥è¿›è¡Œäº‘èµ„æºé‡‡é›†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95d1ce0918e04de9a99cf57c8649d303~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768123329&amp;x-signature=Zw3ZN8fMcjn%2F85XGIzt%2FK1qdz4A%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">ç¬¬äºŒæ­¥ï¼Œé‡‡é›†æŒ‡å®šäº‘äº§å“çš„æŒ‡æ ‡</h3>
<p>åœ¨é…ç½®å®Œäº‘è´¦å·ä¹‹åï¼Œæ¥ä¸‹æ¥æ˜¯é…ç½®å…·ä½“çš„äº‘äº§å“æŒ‡æ ‡é‡‡é›†ï¼Œé€‰æ‹© Regionï¼Œæ·»åŠ å…³æ³¨çš„èµ„æºåˆ©ç”¨ç‡æŒ‡æ ‡åä¿å­˜å³å¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e310a61c01404db1911928fa01d59d73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768123329&amp;x-signature=GhnHQIMwEMV%2FRk4SmDarez3tVtk%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-9">ç¬¬ä¸‰æ­¥ï¼Œå¯¹æŒ‡æ ‡é›†çš„å­˜å‚¨æ—¶é—´é…ç½®ä¸ºè¾ƒé•¿æ—¶é—´</h3>
<p>èµ„æºåˆ©ç”¨ç‡ç›¸å…³çš„æŒ‡æ ‡é€šå¸¸éœ€è¦è¿›è¡Œé•¿æœŸä¿å­˜ï¼Œå› æ­¤ç”¨æˆ·å¯ä»¥åœ¨ã€ŒæŒ‡æ ‡ã€-ã€ŒæŒ‡æ ‡ç®¡ç†ã€ä¸­ä¸ºç›¸å…³æŒ‡æ ‡é›†é…ç½®é•¿æœŸå­˜å‚¨ç­–ç•¥ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2360b1bbc8484be48f84f7e3526e36b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768123329&amp;x-signature=3%2FoeKtAaV2OPleZhGrAgSIT%2FWR4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-10">æ€»ç»“</h2>
<p>åœ¨å®Œæˆã€Œä½åˆ©ç”¨ç‡ ECS é¢æ¿ã€çš„ç¬¬äºŒå¤©ï¼Œæˆ‘ä»¬å‘è¯¥å®¢æˆ·è¿ç»´å›¢é˜Ÿè¿›è¡Œäº†æ¼”ç¤ºæ±‡æŠ¥ï¼Œå¯¹æ–¹è®¤ä¸ºè¿™å¼ ä»ªè¡¨æ¿å®Œå…¨æ»¡è¶³ä»–ä»¬å¯¹ ECS è¿›è¡Œæˆæœ¬ä¼˜åŒ–çš„éœ€æ±‚ï¼Œå¹¶è®¡åˆ’åœ¨ä¸‹ä¸€æ­¥å¼€å±•å¯¹ RDSã€äº‘ç¡¬ç›˜ç­‰æ”¯å‡ºç›¸å¯¹è¾ƒé«˜çš„äº‘äº§å“è¿›è¡Œç›¸åŒçš„åˆ†æå’Œä¼˜åŒ–å·¥ä½œã€‚å¤§å®¶è¿˜èŠåˆ°äº†è¿‘æœŸäº§ä¸šé“¾ä¸Šæ¸¸ç¡¬ä»¶æ¶¨ä»·çš„ç›¸å…³æ–°é—»ã€‚ç»§å†…å­˜ã€SSD æ¶¨ä»·å¼•å‘å¸‚åœºéœ‡è¡åï¼ŒCPU ç­‰å…¶ä»–ç¡¬ä»¶çš„ä»·æ ¼ä¸Šæ¶¨æ¥è¸µè€Œè‡³ï¼Œè¿™æ— ç–‘ç»™æ˜å¹´çš„å…¬æœ‰äº‘ä»·æ ¼ä½“ç³»å¸¦æ¥äº†å¾ˆå¤§ä¸ç¡®å®šæ€§ã€‚ä¼ä¸šå°½æ—©å¼€å§‹æŒæ¡åˆ†æã€ä¼˜åŒ–ä½åˆ©ç”¨ç‡çš„äº‘èµ„æºï¼Œå°±è¶Šèƒ½ä»å®¹åº”å¯¹æ¯æœˆçš„äº‘æ”¯å‡ºè´¦å•ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å®ç°å¸¦æ»šåŠ¨åŒºåŸŸçš„ DOM é•¿æˆªå›¾å¯¼å‡º]]></title>    <link>https://juejin.cn/post/7591104893391732790</link>    <guid>https://juejin.cn/post/7591104893391732790</guid>    <pubDate>2026-01-04T08:29:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591104893391732790" data-draft-id="7590752433989025846" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å®ç°å¸¦æ»šåŠ¨åŒºåŸŸçš„ DOM é•¿æˆªå›¾å¯¼å‡º"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,React.js"/> <meta itemprop="datePublished" content="2026-01-04T08:29:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°å°é—¹é’Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/1337449905128205"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å®ç°å¸¦æ»šåŠ¨åŒºåŸŸçš„ DOM é•¿æˆªå›¾å¯¼å‡º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1337449905128205/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°å°é—¹é’Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T08:29:34.000Z" title="Sun Jan 04 2026 08:29:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æ—¥å¸¸å¼€å‘ä¸­ï¼Œå¯¼å‡ºå¸¦æ»šåŠ¨æ¡çš„DOMå†…å®¹ä¸ºå›¾ç‰‡æ—¶ï¼Œæ™®é€šæˆªå›¾åªèƒ½æŠ“å¯è§†åŒºåŸŸï¼Ÿæœ¬æ–‡åˆ†äº«åŸºäº@snapdomçš„é•¿æˆªå›¾æ–¹æ¡ˆï¼Œå®Œç¾å¯¼å‡ºå®Œæ•´å†…å®¹ï¼Œè¿˜èƒ½ç²¾å‡†å¤åˆ»UIï½</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€ä¸šåŠ¡ç—›ç‚¹ï¼ˆä¸ºä»€ä¹ˆé€‰snapdomï¼Ÿï¼‰</h2>
<p>å¼€å‘ä¸­ç»å¸¸é‡åˆ°ã€Œå¯¼å‡ºå¸¦æ»šåŠ¨åŒºåŸŸçš„DOMä¸ºå›¾ç‰‡ã€çš„éœ€æ±‚ï¼ˆæ¯”å¦‚è¯„ä¼°æŠ¥å‘Šã€å›¾è¡¨åˆ—è¡¨ã€é•¿è¡¨å•ï¼‰ï¼Œæ™®é€šæ–¹æ¡ˆçš„é—®é¢˜ï¼š</p>
<ul>
<li>âŒ ä»…èƒ½æˆªå–å¯è§†åŒºåŸŸï¼Œæ»šåŠ¨éšè—çš„å†…å®¹ä¸¢å¤±ï¼›</li>
<li>âŒ Canvasç»˜åˆ¶æ˜“å‡ºç°æ ·å¼é”™ä¹±ï¼ˆå­—ä½“ã€é¢œè‰²ã€å¸ƒå±€åå·®ï¼‰ï¼›</li>
<li>âŒ æ‰‹åŠ¨è®¡ç®—æ»šåŠ¨é«˜åº¦å¤æ‚ï¼Œé€‚é…æˆæœ¬é«˜ã€‚</li>
</ul>
<p>âœ… è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ç¬¬ä¸‰æ–¹åº“<code>@zumer/snapdom</code>ï¼Œç›´æ¥å°†DOMèŠ‚ç‚¹å®Œæ•´æ¸²æŸ“ä¸ºCanvasï¼Œå®Œç¾è§£å†³ä»¥ä¸Šé—®é¢˜ã€‚</p>
<h2 data-id="heading-1">äºŒã€æ ¸å¿ƒåŸç†</h2>
<p><code>snapdom</code> æ ¸å¿ƒæ˜¯æ¨¡æ‹Ÿæµè§ˆå™¨æ¸²æŸ“å¼•æ“ï¼Œå°†æŒ‡å®šDOMèŠ‚ç‚¹ï¼ˆåŒ…æ‹¬å­èŠ‚ç‚¹ã€æ»šåŠ¨éšè—åŒºåŸŸï¼‰å®Œæ•´è½¬æ¢ä¸ºCanvasï¼š</p>
<ol>
<li>è§£æDOMèŠ‚ç‚¹çš„å®Œæ•´å¸ƒå±€ï¼ˆåŒ…æ‹¬<code>overflow</code>æ»šåŠ¨åŒºåŸŸçš„å®é™…é«˜åº¦ï¼‰ï¼›</li>
<li>å¤åˆ»èŠ‚ç‚¹çš„æ‰€æœ‰æ ·å¼ï¼ˆCSSã€å­—ä½“ã€å›¾ç‰‡ã€èƒŒæ™¯è‰²ï¼‰ï¼›</li>
<li>æŒ‰çœŸå®å°ºå¯¸æ¸²æŸ“ä¸ºCanvasï¼Œæ”¯æŒé«˜åˆ†è¾¨ç‡å¯¼å‡ºï¼›</li>
<li>æœ€ç»ˆå°†Canvasè½¬æ¢ä¸ºå›¾ç‰‡å¹¶ä¸‹è½½ã€‚</li>
</ol>
<h3 data-id="heading-2">æ ¸å¿ƒåŸç†</h3>
<p>ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ <code>@zumer/snapdom</code> å°†æŒ‡å®šçš„ DOM èŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹è½¬æ¢ä¸º Canvasï¼Œä»è€Œç”Ÿæˆé•¿æˆªå›¾ã€‚</p>
<h3 data-id="heading-3">è§£å†³çš„å…³é”®é—®é¢˜</h3>
<ul>
<li><strong>å®Œæ•´å†…å®¹å¯¼å‡º</strong>ï¼šå†…å®¹è¾ƒå¤šæ—¶ä¼šå‡ºç°æ»šåŠ¨æ¡ï¼Œæ™®é€šçš„æˆªå›¾æ–¹å¼åªèƒ½æˆªå–å¯è§†åŒºåŸŸã€‚<code>snapdom</code> å¯ä»¥æ¸²æŸ“æ•´ä¸ª DOM èŠ‚ç‚¹çš„é«˜åº¦ã€‚</li>
</ul>
<h3 data-id="heading-4">å®ç°æ­¥éª¤</h3>
<ol>
<li>
<p><strong>DOM ç»“æ„éš”ç¦»</strong>ï¼š</p>
<ul>
<li>å°†éœ€è¦å¯¼å‡ºçš„å†…å®¹ï¼ˆå›¾è¡¨åˆ—è¡¨ + æˆªå›¾å†å²ï¼‰åŒ…è£¹åœ¨ä¸€ä¸ªç‹¬ç«‹çš„ <code>&lt;div&gt;</code> ä¸­ï¼Œå¹¶ç»‘å®š <code>contentRef</code>ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ‰§è¡Œæˆªå›¾</strong>ï¼š</p>
<ul>
<li>ç‚¹å‡»å¯¼å‡ºæŒ‰é’®æ—¶ï¼Œè°ƒç”¨ <code>snapdom.toCanvas(contentRef.current)</code>ã€‚</li>
<li>åº“ä¼šè‡ªåŠ¨è®¡ç®—èŠ‚ç‚¹çš„å®Œæ•´å°ºå¯¸ï¼ˆåŒ…æ‹¬æº¢å‡º/æ»šåŠ¨éƒ¨åˆ†ï¼‰è¿›è¡Œç»˜åˆ¶ã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¸‹è½½æ–‡ä»¶</strong>ï¼š</p>
<ul>
<li>å°†ç”Ÿæˆçš„ Canvas è½¬æ¢ä¸º Data URLã€‚</li>
<li>åŠ¨æ€åˆ›å»ºä¸€ä¸ª <code>&lt;a&gt;</code> æ ‡ç­¾ï¼Œè®¾ç½® <code>download</code> å±æ€§å’Œ <code>href</code>ï¼Œè§¦å‘ç‚¹å‡»äº‹ä»¶ä¸‹è½½å›¾ç‰‡ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-5">å…³é”®ä»£ç </h3>
<p><strong>ç»“æ„ï¼š</strong></p>
<pre><code class="hljs language-xml" lang="xml">{/* å¯¼å‡ºç›®æ ‡å®¹å™¨ï¼ˆref={contentRef}ï¼‰ */}
 <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{reportContentRef}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"export-container"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ReportHeader</span> <span class="hljs-attr">reportData</span>=<span class="hljs-string">{reportData}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">FirstTab</span> <span class="hljs-attr">reportData</span>=<span class="hljs-string">{reportData}</span> <span class="hljs-attr">isExport</span>=<span class="hljs-string">{isExport}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">SecondTab</span> <span class="hljs-attr">reportData</span>=<span class="hljs-string">{reportData}</span> <span class="hljs-attr">mapUrl</span>=<span class="hljs-string">{mapUrl}</span> <span class="hljs-attr">isExport</span>=<span class="hljs-string">{isExport}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ThirdTab</span> <span class="hljs-attr">reportData</span>=<span class="hljs-string">{reportData}</span> <span class="hljs-attr">isExport</span>=<span class="hljs-string">{isExport}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ReportFooter</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p><strong>å¯¼å‡ºé€»è¾‘ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini"> // å¯¼å‡ºæŠ¥å‘Šä¸ºå›¾ç‰‡
  const <span class="hljs-attr">handleExportReport</span> = async () =&gt; {
    if (!reportContentRef.current) {
      message.error('æ— æ³•è·å–æŠ¥å‘Šå†…å®¹')<span class="hljs-comment">;</span>
      return<span class="hljs-comment">;</span>
    }
    try {
      setExportLoading(true)<span class="hljs-comment">;</span>
      // ä½¿ç”¨ @zumer/snapdom ç»„ä»¶å®ç° htmlè½¬canvas
      const <span class="hljs-attr">contentCanvas</span> = await snapdom.toCanvas(reportContentRef.current, {
        // é…ç½®é€‰é¡¹
        dpr: 3,
        scale: 2,
        backgroundColor: '<span class="hljs-comment">#e7f0fa',</span>
      })<span class="hljs-comment">;</span>

      // è½¬æ¢ä¸ºå›¾ç‰‡æ•°æ®URL
      const <span class="hljs-attr">dataUrl</span> = contentCanvas.toDataURL(<span class="hljs-string">'image/png'</span>)<span class="hljs-comment">;</span>

      // ä¸‹è½½æˆªå›¾
      const <span class="hljs-attr">link</span> = document.createElement(<span class="hljs-string">'a'</span>)<span class="hljs-comment">;</span>
      <span class="hljs-attr">link.download</span> = `<span class="hljs-variable">${reportData?.createTime}</span><span class="hljs-variable">${reportData?.stationName}</span>è¯„ä¼°æŠ¥å‘Š.jpg`<span class="hljs-comment">;</span>
      <span class="hljs-attr">link.href</span> = dataUrl<span class="hljs-comment">;</span>
      link.click()<span class="hljs-comment">;</span>
      link.remove()<span class="hljs-comment">;</span>

      message.success('æŠ¥å‘Šå¯¼å‡ºæˆåŠŸ')<span class="hljs-comment">;</span>
      setExportLoading(false)<span class="hljs-comment">;</span>
    } catch (error) {
      message.error('æŠ¥å‘Šå¯¼å‡ºå¤±è´¥ï¼Œè¯·é‡è¯•')<span class="hljs-comment">;</span>
      setExportLoading(false)<span class="hljs-comment">;</span>
    }
  }<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-6">ä¼˜åŠ¿</h3>
<ul>
<li><strong>æ‰€è§å³æ‰€å¾—ï¼ˆç”šè‡³æ›´å¤šï¼‰</strong> ï¼šèƒ½å¤Ÿå¯¼å‡ºåŒ…å«æ»šåŠ¨åŒºåŸŸåœ¨å†…çš„æ‰€æœ‰å†…å®¹ã€‚</li>
<li><strong>çº¯å‡€è¾“å‡º</strong>ï¼šé€šè¿‡ Ref ç²¾ç¡®é”å®šå†…å®¹åŒºåŸŸï¼Œè‡ªåŠ¨è¿‡æ»¤æ‰æŒ‰é’®å’Œæ— å…³ UIã€‚</li>
</ul>
<p>å¦‚æœè¦æ±‚å¯¼å‡ºçš„UIå’Œé¡µé¢ä¸Šçš„ä¸ä¸€è‡´ï¼Œå¯ä»¥æ–°å»ºä¸€ä¸ªä¸“é—¨ç”¨æ¥å¯¼å‡ºçš„ç»„ä»¶ï¼Œéšè—åœ¨é¡µé¢ä¸Šçš„æŸä¸ªåœ°æ–¹ã€‚
å¦‚æœä½ çš„é¡¹ç›®æœ‰ç‰¹æ®Šåœºæ™¯,æ¬¢è¿è¯„è®ºåŒºäº¤æµğŸ‘ï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutter å†…å­˜ç®¡ç†æ·±åº¦è§£æï¼šåå¹´è€å…µçš„å®æˆ˜å¿ƒå¾—]]></title>    <link>https://juejin.cn/post/7590776324165337088</link>    <guid>https://juejin.cn/post/7590776324165337088</guid>    <pubDate>2026-01-04T08:37:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590776324165337088" data-draft-id="7590776324164878336" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutter å†…å­˜ç®¡ç†æ·±åº¦è§£æï¼šåå¹´è€å…µçš„å®æˆ˜å¿ƒå¾—"/> <meta itemprop="keywords" content="Flutter"/> <meta itemprop="datePublished" content="2026-01-04T08:37:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜å›87997"/> <meta itemprop="url" content="https://juejin.cn/user/413072103838462"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutter å†…å­˜ç®¡ç†æ·±åº¦è§£æï¼šåå¹´è€å…µçš„å®æˆ˜å¿ƒå¾—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/413072103838462/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜å›87997
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T08:37:56.000Z" title="Sun Jan 04 2026 08:37:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Flutter å†…å­˜ç®¡ç†æ·±åº¦è§£æï¼šåå¹´è€å…µçš„å®æˆ˜å¿ƒå¾—</h2>
<h3 data-id="heading-1">å†™åœ¨å‰é¢</h3>
<p>ä» Java åˆ° iOS åŸç”Ÿï¼Œå†åˆ°ç°åœ¨ä¸»åŠ›ç”¨ Flutterï¼Œæˆ‘åœ¨ç§»åŠ¨ç«¯æ‘¸çˆ¬æ»šæ‰“äº†åå¹´ã€‚è¯´å®è¯ï¼ŒFlutter çš„å†…å­˜ç®¡ç†åœ¨æˆ‘çœ‹æ¥æ˜¯<strong>ç›¸å¯¹å‹å¥½</strong>çš„â€”â€”æœ‰ GCã€æœ‰ DevToolsã€æœ‰å®Œå–„çš„ç”Ÿå‘½å‘¨æœŸã€‚ä½†æ­£å› ä¸º"å‹å¥½"ï¼Œå¾ˆå¤šå¼€å‘è€…åè€Œå¿½è§†äº†å®ƒï¼Œç›´åˆ°çº¿ä¸Šå‡ºé—®é¢˜æ‰è¿½æ‚”è«åŠã€‚</p>
<p>ä»Šå¤©è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘æƒ³æŠŠè¿™äº›å¹´åœ¨ Flutter å†…å­˜æ–¹é¢çš„è®¤çŸ¥ä½“ç³»å®Œæ•´åœ°æ¢³ç†ä¸€éã€‚ä¸è®²é‚£äº›æ•™ç§‘ä¹¦å¼çš„ä¸œè¥¿ï¼Œåªè¯´å®æˆ˜ä¸­çœŸæ­£æœ‰ç”¨çš„ã€‚</p>
<hr/>
<h3 data-id="heading-2">ä¸€ã€å…ˆæŠŠå†…å­˜æ¨¡å‹ææ¸…æ¥š</h3>
<h4 data-id="heading-3">1.1 Flutter å†…å­˜çš„ä¸‰å±‚ç»“æ„</h4>
<p>å¾ˆå¤šäººä»¥ä¸º Flutter å†…å­˜å°±æ˜¯ Dart å †å†…å­˜ï¼Œè¿™æ˜¯ç¬¬ä¸€ä¸ªè®¤çŸ¥è¯¯åŒºã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80a143e4f8224a0fa848aa207177d02c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piO5ZCbODc5OTc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768120676&amp;x-signature=cLtsTafYlvRHH6pCUtfKp9p9RWc%3D" alt="Snipaste_2026-01-04_15-25-37.png" loading="lazy"/></p>
<pre><code class="hljs language-java" lang="java">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Flutter App                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Layer <span class="hljs-number">1</span>: Dart VM Memory                            â”‚
â”‚  â”œâ”€â”€ New <span class="hljs-title function_">Space</span> <span class="hljs-params">(æ–°ç”Ÿä»£ï¼Œ~16MB)</span>                      â”‚
â”‚  â”‚   â””â”€â”€ Scavenger GCï¼Œæ¯«ç§’çº§ï¼Œé¢‘ç¹è§¦å‘             â”‚
â”‚  â””â”€â”€ Old <span class="hljs-title function_">Space</span> <span class="hljs-params">(è€å¹´ä»£ï¼ŒåŠ¨æ€æ‰©å±•)</span>                   â”‚
â”‚      â””â”€â”€ Mark-Sweep-Compact GCï¼Œç›¸å¯¹è€—æ—¶            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Layer <span class="hljs-number">2</span>: Engine Native Memory                      â”‚
â”‚  â”œâ”€â”€ Skia æ¸²æŸ“ç¼“å­˜ (Layer Tree, Picture Cache)     â”‚
â”‚  â”œâ”€â”€ å›¾ç‰‡è§£ç ç¼“å†²åŒº (è¿™æ˜¯çœŸæ­£çš„å¤§å¤´ï¼)              â”‚
â”‚  â”œâ”€â”€ å­—ä½“å…‰æ …åŒ–ç¼“å­˜                                 â”‚
â”‚  â””â”€â”€ Platform Channel æ•°æ®ç¼“å†²                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Layer <span class="hljs-number">3</span>: GPU <span class="hljs-title function_">Memory</span> <span class="hljs-params">(æ˜¾å­˜)</span>                         â”‚
â”‚  â”œâ”€â”€ çº¹ç† (Textures)                               â”‚
â”‚  â”œâ”€â”€ å¸§ç¼“å†² (Frame Buffers)                        â”‚
â”‚  â””â”€â”€ ç€è‰²å™¨ç¼–è¯‘ç¼“å­˜                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>å…³é”®è®¤çŸ¥</strong>ï¼šDart å †å†…å­˜åœ¨ DevTools é‡Œèƒ½çœ‹åˆ°ï¼Œä½† Native Memory å’Œ GPU Memory å¾€å¾€æ˜¯éšå½¢æ€æ‰‹ã€‚æˆ‘è§è¿‡å¤ªå¤šæ¡ˆä¾‹ï¼ŒDart Heap æ‰ 50MBï¼Œä½† App æ€»å†…å­˜å·²ç» 500MB+ï¼Œé—®é¢˜å…¨å‡ºåœ¨å›¾ç‰‡å’Œ Skia ç¼“å­˜ä¸Šã€‚</p>
<h4 data-id="heading-4">1.2 Dart GC çš„çœŸå®è¡Œä¸º</h4>
<p>Dart ä½¿ç”¨çš„æ˜¯<strong>åˆ†ä»£å¼åƒåœ¾å›æ”¶</strong>ï¼Œä½†å…·ä½“ç»†èŠ‚å¾ˆå¤šæ–‡ç« è®²å¾—ä¸æ¸…æ¥šï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// æ–°ç”Ÿä»£ GC (Scavenge)</span>
<span class="hljs-comment">// - é‡‡ç”¨å¤åˆ¶ç®—æ³•ï¼ŒEden -&gt; Survivor</span>
<span class="hljs-comment">// - è§¦å‘æ¡ä»¶ï¼šæ–°ç”Ÿä»£æ»¡äº†ï¼ˆçº¦16MBï¼‰</span>
<span class="hljs-comment">// - è€—æ—¶ï¼šé€šå¸¸ &lt; 2ms</span>
<span class="hljs-comment">// - ç‰¹ç‚¹ï¼šStop-the-worldï¼Œä½†æ—¶é—´çŸ­</span>

<span class="hljs-comment">// è€å¹´ä»£ GC (Mark-Sweep-Compact)  </span>
<span class="hljs-comment">// - æ ‡è®°-æ¸…é™¤-å‹ç¼©</span>
<span class="hljs-comment">// - è§¦å‘æ¡ä»¶ï¼šè€å¹´ä»£å¢é•¿åˆ°é˜ˆå€¼ï¼Œæˆ–æ˜¾å¼è°ƒç”¨</span>
<span class="hljs-comment">// - è€—æ—¶ï¼šå‡ ååˆ°å‡ ç™¾æ¯«ç§’ä¸ç­‰</span>
<span class="hljs-comment">// - ç‰¹ç‚¹ï¼šå¢é‡å¼æ ‡è®°ï¼Œå‡å°‘å¡é¡¿</span>
</code></pre>
<p><strong>å®æˆ˜ç»éªŒ</strong>ï¼šå¦‚æœä½ çš„ App æœ‰æ˜æ˜¾çš„å‘¨æœŸæ€§å¡é¡¿ï¼ˆæ¯”å¦‚æ¯éš”å‡ ç§’æ‰å‡ å¸§ï¼‰ï¼Œå¾ˆå¯èƒ½æ˜¯è€å¹´ä»£ GC åœ¨ä½œæ€ªã€‚è§£å†³æ–¹æ¡ˆä¸æ˜¯è°ƒ GC å‚æ•°ï¼ˆDart ä¸è®©ä½ è°ƒï¼‰ï¼Œè€Œæ˜¯<strong>å‡å°‘å¯¹è±¡åˆ†é…å’Œå­˜æ´»å‘¨æœŸ</strong>ã€‚</p>
<h4 data-id="heading-5">1.3 å†…å­˜åˆ†é…çš„æˆæœ¬</h4>
<p>è¿™ä¸ªç‚¹å¾ˆå¤šäººæ²¡æ¦‚å¿µã€‚åœ¨ Dart é‡Œåˆ›å»ºå¯¹è±¡<strong>ä¸æ˜¯å…è´¹çš„</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// çœ‹ä¼¼æ— å®³çš„ä»£ç ï¼Œå®é™…ä¸Šåœ¨ç–¯ç‹‚åˆ†é…å†…å­˜</span>
Widget build(BuildContext context) {
  <span class="hljs-keyword">return</span> Container(
    padding: EdgeInsets.all(<span class="hljs-number">16</span>),           <span class="hljs-comment">// æ¯æ¬¡ build åˆ›å»ºæ–°å¯¹è±¡</span>
    margin: EdgeInsets.symmetric(horizontal: <span class="hljs-number">8</span>), <span class="hljs-comment">// åˆä¸€ä¸ª</span>
    decoration: BoxDecoration(              <span class="hljs-comment">// åˆä¸€ä¸ª</span>
      color: Colors.white,
      borderRadius: BorderRadius.circular(<span class="hljs-number">8</span>), <span class="hljs-comment">// åˆä¸€ä¸ª</span>
      boxShadow: [                          <span class="hljs-comment">// List å¯¹è±¡</span>
        BoxShadow(                          <span class="hljs-comment">// åˆä¸€ä¸ª</span>
          color: Colors.black.withOpacity(<span class="hljs-number">0.1</span>), <span class="hljs-comment">// Color å¯¹è±¡</span>
          blurRadius: <span class="hljs-number">4</span>,
          offset: Offset(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>),             <span class="hljs-comment">// åˆä¸€ä¸ª</span>
        ),
      ],
    ),
    child: Text(
      <span class="hljs-string">'Hello'</span>,
      style: TextStyle(fontSize: <span class="hljs-number">16</span>),       <span class="hljs-comment">// åˆä¸€ä¸ª</span>
    ),
  );
}
</code></pre>
<p>ä¸€ä¸ªç®€å•çš„ Widgetï¼Œä¸€æ¬¡ build å°±åˆ›å»ºäº† 10+ ä¸ªå¯¹è±¡ã€‚å¦‚æœè¿™ä¸ª Widget åœ¨åˆ—è¡¨é‡Œè¢«é¢‘ç¹é‡å»º...</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// æ­£ç¡®åšæ³•ï¼šå°½å¯èƒ½ä½¿ç”¨ const</span>
Widget build(BuildContext context) {
  <span class="hljs-keyword">return</span> Container(
    padding: <span class="hljs-keyword">const</span> EdgeInsets.all(<span class="hljs-number">16</span>),
    margin: <span class="hljs-keyword">const</span> EdgeInsets.symmetric(horizontal: <span class="hljs-number">8</span>),
    decoration: <span class="hljs-keyword">const</span> BoxDecoration(
      color: Colors.white,
      borderRadius: BorderRadius.all(Radius.circular(<span class="hljs-number">8</span>)),
      boxShadow: [
        BoxShadow(
          color: Color(<span class="hljs-number">0x1A000000</span>), <span class="hljs-comment">// ç›´æ¥ç”¨è‰²å€¼ï¼Œå¯ä»¥ const</span>
          blurRadius: <span class="hljs-number">4</span>,
          offset: Offset(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>),
        ),
      ],
    ),
    child: <span class="hljs-keyword">const</span> Text(
      <span class="hljs-string">'Hello'</span>,
      style: TextStyle(fontSize: <span class="hljs-number">16</span>),
    ),
  );
}
</code></pre>
<p><strong>const çš„æœ¬è´¨</strong>ï¼šç¼–è¯‘æ—¶å¸¸é‡ï¼Œæ•´ä¸ª App ç”Ÿå‘½å‘¨æœŸå†…åªå­˜åœ¨ä¸€ä»½å®ä¾‹ã€‚è¿™ä¸åªæ˜¯"ä¼˜åŒ–"ï¼Œè€Œæ˜¯<strong>æ•°é‡çº§çš„å·®åˆ«</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-6">äºŒã€é‚£äº›å¹´æˆ‘è¸©è¿‡çš„å†…å­˜å‘</h3>
<h4 data-id="heading-7">2.1 é—­åŒ…å¼•ç”¨é“¾ â€”â€” æœ€éšè”½çš„æ³„æ¼</h4>
<p>è¿™æ˜¯æˆ‘è§è¿‡æœ€å¤šã€ä¹Ÿæœ€éš¾æ’æŸ¥çš„é—®é¢˜ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_SearchPageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">SearchPage</span>&gt; </span>{
  <span class="hljs-keyword">final</span> TextEditingController _controller = TextEditingController();
  <span class="hljs-built_in">List</span>&lt;SearchResult&gt; _results = [];

  <span class="hljs-keyword">void</span> _onSearch() {
    <span class="hljs-comment">// é—®é¢˜ä»£ç ï¼šé—­åŒ…æŒæœ‰äº† this</span>
    ApiService.search(_controller.text).then((results) {
      <span class="hljs-comment">// è¿™ä¸ªé—­åŒ…æŒæœ‰äº† _SearchPageState å®ä¾‹</span>
      <span class="hljs-comment">// å¦‚æœç½‘ç»œè¯·æ±‚è¿˜æ²¡è¿”å›ï¼Œç”¨æˆ·å°±é€€å‡ºäº†é¡µé¢</span>
      <span class="hljs-comment">// State å¯¹è±¡å°±æ— æ³•è¢«å›æ”¶</span>
      setState(() {
        _results = results;
      });
    });
  }

  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> dispose() {
    _controller.dispose();
    <span class="hljs-keyword">super</span>.dispose();
  }
}
</code></pre>
<p><strong>æ­£ç¡®åšæ³•æœ‰ä¸‰ç§</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// æ–¹æ¡ˆ1ï¼šmounted æ£€æŸ¥ï¼ˆæœ€ç®€å•ï¼‰</span>
<span class="hljs-keyword">void</span> _onSearch() {
  ApiService.search(_controller.text).then((results) {
    <span class="hljs-keyword">if</span> (!mounted) <span class="hljs-keyword">return</span>;
    setState(() =&gt; _results = results);
  });
}

<span class="hljs-comment">// æ–¹æ¡ˆ2ï¼šä½¿ç”¨ CancelableOperationï¼ˆæ¨èï¼‰</span>
CancelableOperation&lt;<span class="hljs-built_in">List</span>&lt;SearchResult&gt;&gt;? _searchOperation;

<span class="hljs-keyword">void</span> _onSearch() {
  _searchOperation?.cancel();
  _searchOperation = CancelableOperation.fromFuture(
    ApiService.search(_controller.text),
  );
  _searchOperation!.value.then((results) {
    setState(() =&gt; _results = results);
  });
}

<span class="hljs-meta">@override</span>
<span class="hljs-keyword">void</span> dispose() {
  _searchOperation?.cancel();
  _controller.dispose();
  <span class="hljs-keyword">super</span>.dispose();
}

<span class="hljs-comment">// æ–¹æ¡ˆ3ï¼šå¼±å¼•ç”¨å›è°ƒï¼ˆå¤æ‚åœºæ™¯ï¼‰</span>
<span class="hljs-keyword">void</span> _onSearch() {
  <span class="hljs-keyword">final</span> weakThis = WeakReference(<span class="hljs-keyword">this</span>);
  ApiService.search(_controller.text).then((results) {
    weakThis.target?._updateResults(results);
  });
}
</code></pre>
<h4 data-id="heading-8">2.2 GetX çš„ Worker é™·é˜±</h4>
<p>ç”¨ GetX çš„åŒå­¦æ³¨æ„äº†ï¼ŒWorker æ˜¯ä¸ªå†…å­˜æ³„æ¼é«˜å‘åŒºï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">GetxController</span> </span>{
  <span class="hljs-keyword">final</span> someObservable = <span class="hljs-number">0.</span>obs;
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> onInit() {
    <span class="hljs-keyword">super</span>.onInit();
    
    <span class="hljs-comment">// âŒ é—®é¢˜ï¼šever åˆ›å»ºçš„ Worker å¦‚æœå¼•ç”¨äº†å¤–éƒ¨å¤§å¯¹è±¡...</span>
    ever(someObservable, (value) {
      <span class="hljs-comment">// å‡è®¾è¿™é‡Œå¼•ç”¨äº†ä¸€ä¸ªå¤§çš„æ•°æ®åˆ—è¡¨</span>
      processBigData(bigDataList); 
    });
    
    <span class="hljs-comment">// âŒ é—®é¢˜ï¼šdebounce é‡Œçš„é—­åŒ…æŒæœ‰ Controller</span>
    debounce(someObservable, (value) {
      <span class="hljs-comment">// ...</span>
    }, time: <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">2</span>));
  }
}
</code></pre>
<p>GetX çš„ Worker åœ¨ Controller é”€æ¯æ—¶ä¼šè‡ªåŠ¨æ¸…ç†ï¼Œ<strong>ä½†å‰ææ˜¯ä½ æ­£ç¡®ä½¿ç”¨äº† GetX çš„ç”Ÿå‘½å‘¨æœŸ</strong>ã€‚å¦‚æœä½ æ‰‹åŠ¨åˆ›å»º Controller å®ä¾‹è€Œä¸æ˜¯é€šè¿‡ <code>Get.put</code>ï¼Œé‚£å°±éœ€è¦æ‰‹åŠ¨å¤„ç†ã€‚</p>
<h4 data-id="heading-9">2.3 å›¾ç‰‡ â€”â€” æ°¸è¿œçš„å¤§æˆ·</h4>
<p>æˆ‘å‚ä¸è¿‡çš„å‡ ä¹æ¯ä¸ª Flutter é¡¹ç›®ï¼Œå†…å­˜é—®é¢˜æœ€ç»ˆéƒ½æŒ‡å‘å›¾ç‰‡ã€‚</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// ä¸€å¼  4000x3000 çš„å›¾ç‰‡ï¼Œè§£ç åå ç”¨å†…å­˜ï¼š</span>
<span class="hljs-comment">// 4000 * 3000 * 4 bytes (RGBA) = 48MB</span>
<span class="hljs-comment">// æ˜¯çš„ï¼Œä¸€å¼ å›¾å°±æ˜¯ 48MB</span>

<span class="hljs-comment">// è€Œä¸” Flutter é»˜è®¤ä¼šç¼“å­˜è§£ç åçš„å›¾ç‰‡</span>
<span class="hljs-comment">// é»˜è®¤ç¼“å­˜ï¼š1000å¼  æˆ– 100MBï¼ˆçœ‹ Flutter ç‰ˆæœ¬ï¼‰</span>
</code></pre>
<p><strong>æˆ‘çš„å›¾ç‰‡ä¼˜åŒ–ç­–ç•¥</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// 1. å§‹ç»ˆæŒ‡å®š cacheWidth/cacheHeight</span>
Image.network(
  imageUrl,
  cacheWidth: (MediaQuery.of(context).size.width * 
               MediaQuery.of(context).devicePixelRatio).toInt(),
)

<span class="hljs-comment">// 2. å°è£…ä¸€ä¸ªç»Ÿä¸€çš„å›¾ç‰‡ç»„ä»¶</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OptimizedImage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> url;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double?</span> width;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double?</span> height;
  
  <span class="hljs-keyword">const</span> OptimizedImage({
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.url,
    <span class="hljs-keyword">this</span>.width,
    <span class="hljs-keyword">this</span>.height,
  });
  
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">final</span> pixelRatio = MediaQuery.of(context).devicePixelRatio;
    <span class="hljs-keyword">return</span> Image.network(
      url,
      width: width,
      height: height,
      cacheWidth: width != <span class="hljs-keyword">null</span> ? (width! * pixelRatio).toInt() : <span class="hljs-keyword">null</span>,
      cacheHeight: height != <span class="hljs-keyword">null</span> ? (height! * pixelRatio).toInt() : <span class="hljs-keyword">null</span>,
      fit: BoxFit.cover,
      errorBuilder: (_, __, ___) =&gt; <span class="hljs-keyword">const</span> Icon(Icons.error),
    );
  }
}

<span class="hljs-comment">// 3. é¡µé¢é€€å‡ºæ—¶ä¸»åŠ¨æ¸…ç†ï¼ˆæ…ç”¨ï¼Œçœ‹åœºæ™¯ï¼‰</span>
<span class="hljs-meta">@override</span>
<span class="hljs-keyword">void</span> dispose() {
  <span class="hljs-comment">// åªåœ¨ç¡®å®éœ€è¦æ—¶ä½¿ç”¨ï¼Œæ¯”å¦‚å›¾ç‰‡æµè§ˆé¡µ</span>
  PaintingBinding.instance.imageCache.clearLiveImages();
  <span class="hljs-keyword">super</span>.dispose();
}

<span class="hljs-comment">// 4. å…¨å±€é…ç½®ç¼“å­˜ä¸Šé™</span>
<span class="hljs-keyword">void</span> main() {
  <span class="hljs-comment">// åœ¨ main é‡Œé…ç½®</span>
  PaintingBinding.instance.imageCache.maximumSize = <span class="hljs-number">100</span>; <span class="hljs-comment">// å¼ æ•°</span>
  PaintingBinding.instance.imageCache.maximumSizeBytes = <span class="hljs-number">50</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>; <span class="hljs-comment">// 50MB</span>
  runApp(MyApp());
}
</code></pre>
<h4 data-id="heading-10">2.4 åˆ—è¡¨æ»šåŠ¨æ—¶çš„å†…å­˜éœ‡è¡</h4>
<p>ç”¨ ListView.builder ä¸ä»£è¡¨ä¸‡äº‹å¤§å‰ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// âŒ çœ‹èµ·æ¥æ²¡é—®é¢˜ï¼Œå®é™…æœ‰éšæ‚£</span>
ListView.builder(
  itemCount: items.length,
  itemBuilder: (context, index) {
    <span class="hljs-keyword">final</span> item = items[index];
    <span class="hljs-keyword">return</span> ListTile(
      leading: Image.network(item.imageUrl), <span class="hljs-comment">// æ¯ä¸ª item ä¸€å¼ å›¾</span>
      title: Text(item.title),
    );
  },
)
</code></pre>
<p>å½“ç”¨æˆ·å¿«é€Ÿæ»šåŠ¨æ—¶ï¼ŒFlutter ä¼šå¿«é€Ÿåˆ›å»ºå’Œé”€æ¯ Widgetã€‚é—®é¢˜æ˜¯ï¼š</p>
<ol>
<li>å›¾ç‰‡è¯·æ±‚è¿˜æ²¡å®Œæˆï¼ŒWidget å°±é”€æ¯äº†</li>
<li>æ–°çš„ Widget åˆ›å»ºï¼Œåˆå‘èµ·æ–°çš„å›¾ç‰‡è¯·æ±‚</li>
<li>å†…å­˜é‡Œå †ç§¯äº†å¤§é‡"å­¤å„¿"å›¾ç‰‡è¯·æ±‚</li>
</ol>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// ä½¿ç”¨ cached_network_image æˆ–ç±»ä¼¼åº“</span>
<span class="hljs-comment">// å®ƒä»¬ä¼šå¤„ç†è¯·æ±‚å–æ¶ˆå’Œç¼“å­˜ç­–ç•¥</span>
CachedNetworkImage(
  imageUrl: item.imageUrl,
  memCacheWidth: <span class="hljs-number">100</span>, <span class="hljs-comment">// ç¼©ç•¥å›¾å°ºå¯¸</span>
  fadeInDuration: <span class="hljs-built_in">Duration</span>.zero, <span class="hljs-comment">// å¿«é€Ÿæ»šåŠ¨æ—¶ä¸è¦åŠ¨ç”»</span>
)

<span class="hljs-comment">// æˆ–è€…è‡ªå·±å®ç°å–æ¶ˆé€»è¾‘</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_ImageItemState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">ImageItem</span>&gt; </span>{
  CancelableOperation? _imageLoad;
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> initState() {
    <span class="hljs-keyword">super</span>.initState();
    _loadImage();
  }
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> dispose() {
    _imageLoad?.cancel(); <span class="hljs-comment">// å…³é”®ï¼</span>
    <span class="hljs-keyword">super</span>.dispose();
  }
}
</code></pre>
<h4 data-id="heading-11">2.5 å…¨å±€å•ä¾‹çš„éšæ‚£</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// å¸¸è§çš„"å·æ‡’"å†™æ³•</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DataCache</span> </span>{
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> DataCache _instance = DataCache._();
  <span class="hljs-keyword">static</span> DataCache <span class="hljs-keyword">get</span> instance =&gt; _instance;
  DataCache._();
  
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt; _cache = {};
  
  <span class="hljs-keyword">void</span> <span class="hljs-keyword">set</span>(<span class="hljs-built_in">String</span> key, <span class="hljs-built_in">dynamic</span> value) {
    _cache[key] = value; <span class="hljs-comment">// åªè¿›ä¸å‡ºï¼Œå†…å­˜åªå¢ä¸å‡</span>
  }
}
</code></pre>
<p><strong>æˆ‘çš„åŸåˆ™</strong>ï¼š</p>
<ol>
<li>å•ä¾‹æŒæœ‰çš„æ•°æ®å¿…é¡»æœ‰æ¸…ç†ç­–ç•¥</li>
<li>ç”¨ LRU æˆ–å®šæ—¶æ¸…ç†</li>
<li>è€ƒè™‘ç”¨ WeakReferenceï¼ˆDart 2.17+ï¼‰</li>
</ol>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DataCache</span> </span>{
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> DataCache _instance = DataCache._();
  <span class="hljs-keyword">static</span> DataCache <span class="hljs-keyword">get</span> instance =&gt; _instance;
  DataCache._();
  
  <span class="hljs-comment">// ä½¿ç”¨æ”¯æŒ LRU æ·˜æ±°çš„æ•°æ®ç»“æ„</span>
  <span class="hljs-keyword">final</span> _cache = LinkedHashMap&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt;();
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">int</span> _maxSize = <span class="hljs-number">100</span>;
  
  <span class="hljs-keyword">void</span> <span class="hljs-keyword">set</span>(<span class="hljs-built_in">String</span> key, <span class="hljs-built_in">dynamic</span> value) {
    <span class="hljs-keyword">if</span> (_cache.length &gt;= _maxSize) {
      _cache.remove(_cache.keys.first); <span class="hljs-comment">// ç§»é™¤æœ€è€çš„</span>
    }
    _cache[key] = value;
  }
}
</code></pre>
<hr/>
<h3 data-id="heading-12">ä¸‰ã€å†…å­˜åˆ†æå®æˆ˜æµç¨‹</h3>
<h4 data-id="heading-13">3.1 æˆ‘çš„æ’æŸ¥æµç¨‹</h4>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> å¤ç°é—®é¢˜
   â””â”€â”€ æ‰¾åˆ°å†…å­˜å¢é•¿çš„æ“ä½œè·¯å¾„
   
<span class="hljs-bullet">2.</span> å®šä½å±‚çº§
   â”œâ”€â”€ DevTools Memory çœ‹ Dart Heap
   â”œâ”€â”€ Android Profiler / Xcode çœ‹ Native Memory
   â””â”€â”€ å¯¹æ¯”åˆ¤æ–­é—®é¢˜åœ¨å“ªå±‚

<span class="hljs-bullet">3.</span> æŠ“å–å¿«ç…§
   â”œâ”€â”€ æ“ä½œå‰ Snapshot A
   â”œâ”€â”€ æ‰§è¡Œå¯ç–‘æ“ä½œ
   â”œâ”€â”€ æ“ä½œå Snapshot B
   â””â”€â”€ Diff ä¸¤ä¸ªå¿«ç…§

<span class="hljs-bullet">4.</span> åˆ†æå¯¹è±¡
   â”œâ”€â”€ å“ªäº›å¯¹è±¡æ•°é‡å¼‚å¸¸
   â”œâ”€â”€ è¿½æº¯å¼•ç”¨é“¾ (Retaining Path)
   â””â”€â”€ å®šä½åˆ°ä»£ç 

<span class="hljs-bullet">5.</span> ä¿®å¤éªŒè¯
   â””â”€â”€ ä¿®å¤åé‡å¤ä¸Šè¿°æµç¨‹
</code></pre>
<h4 data-id="heading-14">3.2 DevTools çš„é«˜çº§ç”¨æ³•</h4>
<p>å¾ˆå¤šäººåªä¼šç‚¹ GC å’Œ Snapshotï¼Œå…¶å®è¿˜æœ‰æ›´å¼ºå¤§çš„åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// 1. ä»£ç ä¸­æ‰“æ ‡è®°</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'dart:developer'</span> <span class="hljs-keyword">as</span> developer;

<span class="hljs-keyword">void</span> someCriticalFunction() {
  developer.Timeline.startSync(<span class="hljs-string">'CriticalOperation'</span>);
  <span class="hljs-comment">// ... æ‰§è¡Œæ“ä½œ</span>
  developer.Timeline.finishSync();
}

<span class="hljs-comment">// 2. è‡ªå®šä¹‰å†…å­˜ç»Ÿè®¡äº‹ä»¶</span>
developer.postEvent(<span class="hljs-string">'memory_check'</span>, {
  <span class="hljs-string">'location'</span>: <span class="hljs-string">'after_image_load'</span>,
  <span class="hljs-string">'cache_size'</span>: imageCache.currentSizeBytes,
});

<span class="hljs-comment">// 3. åœ¨ release æ¨¡å¼æ”¶é›†ä¿¡æ¯ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/foundation.dart'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MemoryMonitor</span> </span>{
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> reportLeak(<span class="hljs-built_in">String</span> location, <span class="hljs-built_in">int</span> bytes) {
    <span class="hljs-keyword">if</span> (kReleaseMode) {
      <span class="hljs-comment">// ä¸ŠæŠ¥åˆ°ä½ çš„ç›‘æ§ç³»ç»Ÿ</span>
      Analytics.report(<span class="hljs-string">'memory_leak'</span>, {
        <span class="hljs-string">'location'</span>: location,
        <span class="hljs-string">'bytes'</span>: bytes,
      });
    }
  }
}
</code></pre>
<h4 data-id="heading-15">3.3 çº¿ä¸Šç›‘æ§æ–¹æ¡ˆ</h4>
<p>DevTools åªèƒ½è°ƒè¯•æ—¶ç”¨ï¼Œçº¿ä¸Šæ€ä¹ˆåŠï¼Ÿ</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// ç®€å•çš„å†…å­˜ç›‘æ§æ–¹æ¡ˆ</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MemoryWatcher</span> </span>{
  <span class="hljs-keyword">static</span> Timer? _timer;
  <span class="hljs-keyword">static</span> <span class="hljs-built_in">int</span> _lastRss = <span class="hljs-number">0</span>;
  
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> start() {
    _timer = Timer.periodic(<span class="hljs-built_in">Duration</span>(minutes: <span class="hljs-number">1</span>), (_) {
      _checkMemory();
    });
  }
  
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> _checkMemory() {
    <span class="hljs-keyword">final</span> currentRss = ProcessInfo.currentRss;
    <span class="hljs-keyword">final</span> delta = currentRss - _lastRss;
    
    <span class="hljs-comment">// å†…å­˜å¢é•¿è¿‡å¿«å‘Šè­¦</span>
    <span class="hljs-keyword">if</span> (delta &gt; <span class="hljs-number">50</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>) { <span class="hljs-comment">// 1åˆ†é’Ÿå¢é•¿ 50MB</span>
      _reportAbnormal(currentRss, delta);
    }
    
    <span class="hljs-comment">// æ€»å†…å­˜è¿‡é«˜å‘Šè­¦</span>
    <span class="hljs-keyword">if</span> (currentRss &gt; <span class="hljs-number">500</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>) { <span class="hljs-comment">// è¶…è¿‡ 500MB</span>
      _reportHigh(currentRss);
    }
    
    _lastRss = currentRss;
  }
  
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> _reportAbnormal(<span class="hljs-built_in">int</span> rss, <span class="hljs-built_in">int</span> delta) {
    <span class="hljs-comment">// ä¸ŠæŠ¥ + ä¸»åŠ¨æ¸…ç†ç¼“å­˜</span>
    PaintingBinding.instance.imageCache.clear();
  }
}
</code></pre>
<hr/>
<h3 data-id="heading-16">å››ã€æ¶æ„å±‚é¢çš„å†…å­˜è®¾è®¡</h3>
<h4 data-id="heading-17">4.1 é¡µé¢çŠ¶æ€çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†</h4>
<p>æˆ‘æ¨èè¿™ç§åˆ†å±‚è®¾è®¡ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// ç¬æ€æ•°æ®ï¼šéš Widget ç”Ÿæ­»</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_PageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">Page</span>&gt; </span>{
  <span class="hljs-built_in">int</span> _counter = <span class="hljs-number">0</span>; <span class="hljs-comment">// é¡µé¢å…³äº†å°±æ²¡äº†</span>
}

<span class="hljs-comment">// é¡µé¢çº§ç¼“å­˜ï¼šå¯æ¢å¤ï¼Œä½†æœ‰ç”Ÿå‘½å‘¨æœŸ</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PageController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">GetxController</span> </span>{
  <span class="hljs-built_in">List</span>&lt;Item&gt; items = [];
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> onClose() {
    items.clear(); <span class="hljs-comment">// æ˜¾å¼æ¸…ç†</span>
    <span class="hljs-keyword">super</span>.onClose();
  }
}

<span class="hljs-comment">// ä¼šè¯çº§ç¼“å­˜ï¼šæ•´ä¸ª App è¿è¡ŒæœŸé—´</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SessionCache</span> </span>{
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> userProfile = Rxn&lt;UserProfile&gt;();
  
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> clear() {
    userProfile.value = <span class="hljs-keyword">null</span>;
  }
}

<span class="hljs-comment">// æŒä¹…åŒ–ï¼šå†™å…¥ç£ç›˜ï¼Œä¸å å†…å­˜</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LocalStorage</span> </span>{
  <span class="hljs-keyword">static</span> Future&lt;<span class="hljs-keyword">void</span>&gt; saveData(<span class="hljs-built_in">String</span> key, <span class="hljs-built_in">dynamic</span> data) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">await</span> SharedPreferences.getInstance()
      ..setString(key, jsonEncode(data));
  }
}
</code></pre>
<h4 data-id="heading-18">4.2 å¤§æ•°æ®é‡çš„å¤„ç†ç­–ç•¥</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// âŒ ä¸€æ¬¡æ€§åŠ è½½å…¨éƒ¨æ•°æ®</span>
<span class="hljs-keyword">final</span> allItems = <span class="hljs-keyword">await</span> api.getAllItems(); <span class="hljs-comment">// å¯èƒ½æœ‰å‡ ä¸‡æ¡</span>
setState(() =&gt; _items = allItems);

<span class="hljs-comment">// âœ… åˆ†é¡µ + è™šæ‹ŸåŒ–</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_ListState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">ItemList</span>&gt; </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;Item&gt; _items = [];
  <span class="hljs-built_in">int</span> _page = <span class="hljs-number">0</span>;
  <span class="hljs-built_in">bool</span> _hasMore = <span class="hljs-keyword">true</span>;
  
  Future&lt;<span class="hljs-keyword">void</span>&gt; _loadMore() <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">if</span> (!_hasMore) <span class="hljs-keyword">return</span>;
    
    <span class="hljs-keyword">final</span> newItems = <span class="hljs-keyword">await</span> api.getItems(page: _page, size: <span class="hljs-number">20</span>);
    _items.addAll(newItems);
    _page++;
    _hasMore = newItems.length == <span class="hljs-number">20</span>;
    
    <span class="hljs-comment">// å†…å­˜ä¿æŠ¤ï¼šè¶…è¿‡é˜ˆå€¼å°±æ¸…ç†å¤´éƒ¨</span>
    <span class="hljs-keyword">if</span> (_items.length &gt; <span class="hljs-number">200</span>) {
      _items.removeRange(<span class="hljs-number">0</span>, <span class="hljs-number">100</span>);
    }
    
    setState(() {});
  }
}
</code></pre>
<h4 data-id="heading-19">4.3 æˆ‘å¸¸ç”¨çš„ dispose æ¨¡æ¿</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">mixin</span> AutoDisposeMixin&lt;T <span class="hljs-keyword">extends</span> StatefulWidget&gt; <span class="hljs-keyword">on</span> State&lt;T&gt; {
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;StreamSubscription&gt; _subscriptions = [];
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;Timer&gt; _timers = [];
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;ChangeNotifier&gt; _notifiers = [];
  
  <span class="hljs-keyword">void</span> autoDisposeStream(StreamSubscription sub) {
    _subscriptions.add(sub);
  }
  
  <span class="hljs-keyword">void</span> autoDisposeTimer(Timer timer) {
    _timers.add(timer);
  }
  
  <span class="hljs-keyword">void</span> autoDisposeNotifier(ChangeNotifier notifier) {
    _notifiers.add(notifier);
  }
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> dispose() {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">final</span> sub <span class="hljs-keyword">in</span> _subscriptions) {
      sub.cancel();
    }
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">final</span> timer <span class="hljs-keyword">in</span> _timers) {
      timer.cancel();
    }
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">final</span> notifier <span class="hljs-keyword">in</span> _notifiers) {
      notifier.dispose();
    }
    <span class="hljs-keyword">super</span>.dispose();
  }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_MyPageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">MyPage</span>&gt; <span class="hljs-title">with</span> <span class="hljs-title">AutoDisposeMixin</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> initState() {
    <span class="hljs-keyword">super</span>.initState();
    
    autoDisposeStream(
      someStream.listen((data) =&gt; setState(() {})),
    );
    
    autoDisposeTimer(
      Timer.periodic(<span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">1</span>), (_) {}),
    );
    
    <span class="hljs-keyword">final</span> controller = TextEditingController();
    autoDisposeNotifier(controller);
  }
}
</code></pre>
<hr/>
<h3 data-id="heading-20">äº”ã€æœ€åçš„å¿ƒå¾—</h3>
<p>å†™äº†è¿™ä¹ˆå¤šï¼Œæ€»ç»“å‡ ä¸ªæ ¸å¿ƒè§‚ç‚¹ï¼š</p>
<h4 data-id="heading-21">1. å†…å­˜é—®é¢˜ 80% å‡ºåœ¨å›¾ç‰‡</h4>
<p>ä¸ç®¡é¡¹ç›®å¤§å°ï¼Œå…ˆæŠŠå›¾ç‰‡ç®¡å¥½ã€‚ç»Ÿä¸€å°è£…ã€æ§åˆ¶å°ºå¯¸ã€é™åˆ¶ç¼“å­˜ã€‚</p>
<h4 data-id="heading-22">2. dispose ä¸æ˜¯ä¸‡èƒ½çš„</h4>
<p>dispose åªèƒ½å¤„ç†ä½ æ˜¾å¼åˆ›å»ºçš„èµ„æºã€‚é—­åŒ…å¼•ç”¨ã€å¼‚æ­¥å›è°ƒã€å…¨å±€æ³¨å†Œâ€”â€”è¿™äº›æ‰æ˜¯çœŸæ­£çš„å‘ã€‚</p>
<h4 data-id="heading-23">3. const æ˜¯æœ€å»‰ä»·çš„ä¼˜åŒ–</h4>
<p>å‡ ä¹ä¸éœ€è¦ä»»ä½•æˆæœ¬ï¼Œæ”¶ç›Šå´å¾ˆå¤§ã€‚æˆ‘ä¼šåœ¨ Code Review æ—¶ä¸“é—¨æ£€æŸ¥è¿™ä¸ªã€‚</p>
<h4 data-id="heading-24">4. ç›‘æ§æ¯”ä¼˜åŒ–æ›´é‡è¦</h4>
<p>çº¿ä¸Šå‡ºé—®é¢˜æ—¶ï¼Œä½ éœ€è¦çš„æ˜¯æ•°æ®ï¼Œä¸æ˜¯çŒœæµ‹ã€‚å»ºç«‹å†…å­˜ç›‘æ§ä½“ç³»ï¼Œæ¯”å†™ä¼˜åŒ–ä»£ç æ›´æœ‰ä»·å€¼ã€‚</p>
<h4 data-id="heading-25">5. ä¿æŒç®€å•</h4>
<p>å¾ˆå¤šå†…å­˜é—®é¢˜ï¼Œæœ¬è´¨ä¸Šæ˜¯æ¶æ„é—®é¢˜â€”â€”çŠ¶æ€ç®¡ç†æ··ä¹±ã€æ•°æ®æµå¤æ‚ã€ç”Ÿå‘½å‘¨æœŸä¸æ¸…æ™°ã€‚ä¸å…¶è¡¥æ•‘ï¼Œä¸å¦‚ä¸€å¼€å§‹å°±è®¾è®¡å¥½ã€‚</p>
<hr/>
<p>å†™åˆ°è¿™é‡Œï¼Œæƒ³èµ·åå¹´å‰åˆšå…¥è¡Œæ—¶ï¼Œä¸ºäº†æ’æŸ¥ä¸€ä¸ª Activity æ³„æ¼ï¼Œæ•´æ•´çœ‹äº†ä¸‰å¤© MAT åˆ†ææŠ¥å‘Šã€‚ç°åœ¨å·¥å…·å¥½å¤šäº†ï¼Œä½†æ ¸å¿ƒæ€ç»´æ˜¯ä¸€æ ·çš„ï¼š<strong>ç†è§£åŸç†ï¼ŒæŒæ¡å·¥å…·ï¼Œå»ºç«‹è§„èŒƒ</strong>ã€‚</p>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ã€‚æœ‰é—®é¢˜æ¬¢è¿äº¤æµã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vue3ä¸­ä½¿ç”¨defineModel]]></title>    <link>https://juejin.cn/post/7590724064521977919</link>    <guid>https://juejin.cn/post/7590724064521977919</guid>    <pubDate>2026-01-04T08:41:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7590724064521977919" data-draft-id="7590724064521961535" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vue3ä¸­ä½¿ç”¨defineModel"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2026-01-04T08:41:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘¨æ˜Ÿæ˜Ÿæ—¥è®°"/> <meta itemprop="url" content="https://juejin.cn/user/3843548384076462"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vue3ä¸­ä½¿ç”¨defineModel
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3843548384076462/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘¨æ˜Ÿæ˜Ÿæ—¥è®°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T08:41:33.000Z" title="Sun Jan 04 2026 08:41:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ˜¯çš„ï¼ä» <strong>Vue 3.4</strong> å¼€å§‹ï¼ŒVue å®˜æ–¹å¼•å…¥äº† <code>defineModel()</code> ç¼–è¯‘å®ï¼ˆmacroï¼‰ï¼Œ<strong>æå¤§ç®€åŒ–äº†ç»„ä»¶ä¸­å®ç°</strong> <code>v-model</code> <strong>åŒå‘ç»‘å®šçš„å†™æ³•</strong>ï¼Œæ— éœ€æ‰‹åŠ¨å£°æ˜ <code>props</code> å’Œ <code>emit</code>ï¼Œä¹Ÿæ— éœ€å¤„ç† <code>modelValue</code> / <code>update:modelValue</code> çš„æ ·æ¿ä»£ç ã€‚</p>
<p>ä¸‹é¢ç³»ç»Ÿè®²è§£ <code>defineModel()</code> çš„ä½¿ç”¨æ–¹å¼ã€åŸç†ã€ä¼˜åŠ¿å’Œæ³¨æ„äº‹é¡¹ã€‚</p>
<hr/>
<h2 data-id="heading-0"><strong>ä¸€ã€åŸºç¡€ç”¨æ³•ï¼šæ›¿ä»£</strong> <code>modelValue</code> <strong>+</strong> <code>emit</code></h2>
<h3 data-id="heading-1"><strong>ä¼ ç»Ÿå†™æ³•ï¼ˆVue 3.0 ï½ 3.3ï¼‰</strong></h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Child.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>([<span class="hljs-string">'modelValue'</span>])
  <span class="hljs-keyword">const</span> emit = <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">'update:modelValue'</span>])

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">update</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">emit</span>(<span class="hljs-string">'update:modelValue'</span>, props.<span class="hljs-property">modelValue</span> + <span class="hljs-number">1</span>)
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ props.modelValue }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"update"</span>&gt;</span>+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<h3 data-id="heading-2"><strong>Vue 3.4+ æ–°å†™æ³•ï¼š</strong> <code>defineModel()</code></h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Child.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">const</span> model = <span class="hljs-title function_">defineModel</span>() <span class="hljs-comment">// è¿”å›ä¸€ä¸ª ref</span>

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">update</span>(<span class="hljs-params"/>) {
    model.<span class="hljs-property">value</span>++ <span class="hljs-comment">// ç›´æ¥ä¿®æ”¹ï¼Œè‡ªåŠ¨åŒæ­¥åˆ°çˆ¶ç»„ä»¶</span>
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Parent bound v-model is: {{ model }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"update"</span>&gt;</span>Increment<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>çˆ¶ç»„ä»¶å®Œå…¨ä¸å˜ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Child</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"count"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
  <span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><code>model</code> æ˜¯ä¸€ä¸ª <strong>åŒå‘ç»‘å®šçš„ ref</strong>ï¼š</p>
<ul>
<li>è¯»å– <code>model.value</code> â†’ è·å–çˆ¶ç»„ä»¶ä¼ å…¥çš„å€¼</li>
<li>ä¿®æ”¹ <code>model.value</code> â†’ è‡ªåŠ¨è§¦å‘ <code>update:modelValue</code>ï¼Œæ›´æ–°çˆ¶ç»„ä»¶æ•°æ®</li>
</ul>
<hr/>
<h2 data-id="heading-3"><strong>äºŒã€æ”¯æŒå¸¦å‚æ•°çš„</strong> <code>v-model</code> <strong>ï¼ˆå¤šæ¨¡å‹ç»‘å®šï¼‰</strong></h2>
<p>Vue æ”¯æŒå¤šä¸ª <code>v-model</code>ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Parent</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Child</span> <span class="hljs-attr">v-model:name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">v-model:age</span>=<span class="hljs-string">"age"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Parent</span>&gt;</span>
</code></pre>
<h3 data-id="heading-4"><strong>ä½¿ç”¨</strong> <code>defineModel</code> <strong>å®ç°ï¼š</strong></h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Child.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">const</span> name = <span class="hljs-title function_">defineModel</span>(<span class="hljs-string">'name'</span>)
  <span class="hljs-keyword">const</span> age = <span class="hljs-title function_">defineModel</span>(<span class="hljs-string">'age'</span>)

  <span class="hljs-comment">// æˆ–è€…ç”¨å¯¹è±¡å½¢å¼ï¼ˆå¯é€‰ï¼‰</span>
  <span class="hljs-comment">// const { name, age } = defineModels({ name: String, age: Number })</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"name"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model.number</span>=<span class="hljs-string">"age"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>æ³¨æ„ï¼š<code>defineModel('propName')</code> ä¼šè‡ªåŠ¨å¯¹åº” <code>v-model:propName</code></p>
<hr/>
<h2 data-id="heading-5"><strong>ä¸‰ã€ç±»å‹ä¸é»˜è®¤å€¼ï¼ˆTypeScript / è¿è¡Œæ—¶æ ¡éªŒï¼‰</strong></h2>
<h3 data-id="heading-6"><strong>1. æŒ‡å®šç±»å‹ï¼ˆTypeScriptï¼‰</strong></h3>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">const</span> model = defineModel&lt;<span class="hljs-built_in">string</span>&gt;()
<span class="hljs-comment">// model.value ç±»å‹ä¸º string | undefined</span>
</code></pre>
<h3 data-id="heading-7"><strong>2. è®¾ç½®é»˜è®¤å€¼</strong></h3>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> model = <span class="hljs-built_in">defineModel</span>({ <span class="hljs-keyword">default</span>: <span class="hljs-string">'hello'</span> })
</code></pre>
<h3 data-id="heading-8"><strong>3. è¿è¡Œæ—¶æ ¡éªŒ + é»˜è®¤å€¼</strong></h3>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">model</span> = <span class="hljs-title function_ invoke__">defineModel</span>({
  <span class="hljs-attr">type</span>: String,
  <span class="hljs-attr">required</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">default</span>: <span class="hljs-string">'default text'</span>
})
</code></pre>
<p>ğŸ’¡ è¿™äº›é€‰é¡¹ä¼š<strong>è‡ªåŠ¨è½¬æ¢ä¸ºç­‰æ•ˆçš„</strong> ****<code>props</code> ****<strong>å£°æ˜</strong>ï¼Œç”± Vue ç¼–è¯‘å™¨å¤„ç†ã€‚</p>
<hr/>
<h2 data-id="heading-9"><strong>å››ã€ä¸</strong> <code>useAttrs()</code> <strong>ååŒå·¥ä½œ</strong></h2>
<p>è™½ç„¶ <code>defineModel()</code> è‡ªåŠ¨å¤„ç†äº† <code>modelValue</code>ï¼Œä½†å…¶ä»–å±æ€§ä»éœ€é€ä¼ ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">const</span> model = <span class="hljs-title function_">defineModel</span>()
  <span class="hljs-comment">// å¦‚æœæœ‰å¤šä¸ªæ ¹èŠ‚ç‚¹ï¼Œæˆ–æƒ³æ§åˆ¶é€ä¼ ä½ç½®ï¼Œæ‰éœ€è¦ useAttrs</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- å•æ ¹èŠ‚ç‚¹ï¼šè‡ªåŠ¨é€ä¼  attrsï¼ˆåŒ…æ‹¬ class/style/@focus ç­‰ï¼‰ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"model"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>å¦‚æœç»„ä»¶æœ‰<strong>å¤šä¸ªæ ¹èŠ‚ç‚¹</strong>ï¼Œå¿…é¡»æ‰‹åŠ¨ä½¿ç”¨ <code>v-bind="$attrs"</code>ï¼Œå¦åˆ™ Vue ä¼šè­¦å‘Šã€‚</p>
<hr/>
<h2 data-id="heading-10"><strong>äº”ã€æ€»ç»“ï¼šä¸ºä»€ä¹ˆæ¨è</strong> <code>defineModel()</code> <strong>ï¼Ÿ</strong></h2>



































<table><thead><tr><th><strong>å¯¹æ¯”é¡¹</strong></th><th><strong>ä¼ ç»Ÿæ–¹å¼</strong></th><th><code>defineModel()</code></th></tr></thead><tbody><tr><td>ä»£ç é‡</td><td>å¤šï¼ˆprops + emitsï¼‰</td><td>æç®€ï¼ˆä¸€è¡Œï¼‰</td></tr><tr><td>æ˜“é”™æ€§</td><td>å®¹æ˜“æ‹¼é”™ <code>update:modelValue</code></td><td>é›¶é”™è¯¯</td></tr><tr><td>å¯è¯»æ€§</td><td>é€»è¾‘åˆ†æ•£</td><td>èšç„¦æ•°æ®æµ</td></tr><tr><td>å°è£…æ•ˆç‡</td><td>ä½</td><td>é«˜ï¼ˆå°¤å…¶åŒ…è£…åŸç”Ÿå…ƒç´ ï¼‰</td></tr><tr><td>TypeScript æ”¯æŒ</td><td>éœ€æ‰‹åŠ¨æ ‡æ³¨</td><td>è‡ªåŠ¨æ¨å¯¼</td></tr></tbody></table>
<p><strong>ä¸€å¥è¯</strong>ï¼š<br/>
<code>defineModel() </code>****<strong>è®©ç»„ä»¶çš„åŒå‘ç»‘å®šå›å½’â€œç›´è§‰â€â€”â€”å°±åƒæ“ä½œæœ¬åœ°çŠ¶æ€ä¸€æ ·ç®€å•ï¼Œå´èƒ½è‡ªåŠ¨åŒæ­¥åˆ°çˆ¶ç»„ä»¶ã€‚</strong></p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3ä¸­,æˆ‘çš„Watchä¸ºä»€ä¹ˆæ€»ç›‘å¬ä¸åˆ°æ•°æ®?]]></title>    <link>https://juejin.cn/post/7591322050239741990</link>    <guid>https://juejin.cn/post/7591322050239741990</guid>    <pubDate>2026-01-04T09:09:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591322050239741990" data-draft-id="7591293897084469298" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3ä¸­,æˆ‘çš„Watchä¸ºä»€ä¹ˆæ€»ç›‘å¬ä¸åˆ°æ•°æ®?"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,JavaScript"/> <meta itemprop="datePublished" content="2026-01-04T09:09:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¯¥æ¢ä¸ªåå„¿äº†"/> <meta itemprop="url" content="https://juejin.cn/user/2541726615209176"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3ä¸­,æˆ‘çš„Watchä¸ºä»€ä¹ˆæ€»ç›‘å¬ä¸åˆ°æ•°æ®?
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2541726615209176/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¯¥æ¢ä¸ªåå„¿äº†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T09:09:30.000Z" title="Sun Jan 04 2026 09:09:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<blockquote>
<p>vue3ä¸­ï¼Œ watchä½¿ç”¨ watch(()=&gt;xxx,v=&gt;{})æˆ–è€…watch(xxx,val=&gt;{})æ—¶ï¼Œ æ€»æ˜¯é‡åˆ°å‡½æ•°å†™æ³•çš„watchç›‘å¬ï¼Œæ•°æ®æ”¹å˜åæ²¡æœ‰ç›‘å¬åˆ°æ•°æ®æ”¹å˜ï¼›éå‡½æ•°çš„å†™æ³•åè€Œå¯ä»¥ç›‘å¬åˆ°ã€‚</p>
</blockquote>
<p>åœ¨ Vue 3 ä¸­ï¼Œè¿™ä¸¤ç§Â <code>watch</code>Â çš„ä½¿ç”¨æ–¹å¼ç¡®å®æœ‰é‡è¦åŒºåˆ«ï¼š</p>
<h2 data-id="heading-1">1. è¯­æ³•åŒºåˆ«</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ–¹å¼ä¸€ï¼šä½¿ç”¨å‡½æ•°</span>
<span class="hljs-title function_">watch</span>(<span class="hljs-function">() =&gt;</span> obj.<span class="hljs-property">property</span>, <span class="hljs-function">(<span class="hljs-params">val</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å€¼å˜åŒ–äº†:'</span>, val)
})

<span class="hljs-comment">// æ–¹å¼äºŒï¼šç›´æ¥ç›‘å¬å“åº”å¼å¯¹è±¡</span>
<span class="hljs-title function_">watch</span>(obj, <span class="hljs-function">(<span class="hljs-params">val</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¯¹è±¡å˜åŒ–äº†:'</span>, val)
})
</code></pre>
<h2 data-id="heading-2">2. å…³é”®åŒºåˆ«</h2>
<h3 data-id="heading-3"><strong>æ–¹å¼ä¸€ï¼š å‡½æ•°Â <code>() =&gt; xxx</code></strong></h3>
<ul>
<li><strong>ç›‘å¬ç‰¹å®šå±æ€§</strong>ï¼šåªè¿½è¸ªÂ <code>obj.property</code>Â è¿™ä¸ªå…·ä½“çš„å€¼</li>
<li><strong>æµ…å±‚ç›‘å¬</strong>ï¼šåªæœ‰å½“Â <code>obj.property</code>Â çš„å€¼æœ¬èº«å‘ç”Ÿå˜åŒ–æ—¶æ‰è§¦å‘</li>
<li><strong>ä¸è¿½è¸ªå¯¹è±¡å¼•ç”¨</strong>ï¼šä¸å…³å¿ƒæ•´ä¸ªÂ <code>obj</code>Â å¯¹è±¡çš„å˜åŒ–</li>
</ul>
<h3 data-id="heading-4"><strong>æ–¹å¼äºŒï¼šç›´æ¥ç›‘å¬å“åº”å¼å¯¹è±¡Â <code>xxx</code></strong></h3>
<ul>
<li><strong>ç›‘å¬æ•´ä¸ªå¯¹è±¡</strong>ï¼šè¿½è¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§å˜åŒ–</li>
<li><strong>æ·±å±‚ç›‘å¬</strong>ï¼šé»˜è®¤æ·±åº¦ç›‘å¬å¯¹è±¡å†…éƒ¨æ‰€æœ‰åµŒå¥—å±æ€§çš„å˜åŒ–</li>
<li><strong>è¿½è¸ªå¼•ç”¨å˜åŒ–</strong>ï¼šä¹Ÿä¼šç›‘å¬å¯¹è±¡æœ¬èº«çš„é‡æ–°èµ‹å€¼</li>
</ul>
<h2 data-id="heading-5">3. ä¸ºä»€ä¹ˆæœ‰æ—¶å€™ "å‡½æ•°çš„å†™æ³•ç›‘å¬ä¸åˆ°ï¼Ÿ"</h2>
<h3 data-id="heading-6">æƒ…å†µä¸€ï¼šåµŒå¥—å¯¹è±¡å±æ€§å˜åŒ–</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = <span class="hljs-title function_">reactive</span>({ 
  <span class="hljs-attr">nested</span>: { 
    <span class="hljs-attr">value</span>: <span class="hljs-number">1</span> 
  } 
})

<span class="hljs-comment">// âŒ ç›‘å¬ä¸åˆ° nested.value çš„å˜åŒ–</span>
<span class="hljs-title function_">watch</span>(<span class="hljs-function">() =&gt;</span> obj.<span class="hljs-property">nested</span>, <span class="hljs-function">(<span class="hljs-params">val</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä¸ä¼šè§¦å‘'</span>)
})

<span class="hljs-comment">// âœ… éœ€è¦æ·±åº¦ç›‘å¬</span>
<span class="hljs-title function_">watch</span>(<span class="hljs-function">() =&gt;</span> obj.<span class="hljs-property">nested</span>, <span class="hljs-function">(<span class="hljs-params">val</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä¼šè§¦å‘'</span>)
}, { <span class="hljs-attr">deep</span>: <span class="hljs-literal">true</span> })

<span class="hljs-comment">// âœ… æˆ–ç›‘å¬å…·ä½“å±æ€§</span>
<span class="hljs-title function_">watch</span>(<span class="hljs-function">() =&gt;</span> obj.<span class="hljs-property">nested</span>.<span class="hljs-property">value</span>, <span class="hljs-function">(<span class="hljs-params">val</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä¼šè§¦å‘'</span>)
})
</code></pre>
<h3 data-id="heading-7">æƒ…å†µäºŒï¼šæ•°ç»„æ“ä½œ</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = <span class="hljs-title function_">reactive</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])

<span class="hljs-comment">// âŒ ç›‘å¬ä¸åˆ° push/pop ç­‰æ“ä½œ</span>
<span class="hljs-title function_">watch</span>(<span class="hljs-function">() =&gt;</span> arr.<span class="hljs-property">length</span>, <span class="hljs-function">(<span class="hljs-params">val</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¯èƒ½ä¸ä¼šè§¦å‘'</span>)
})

<span class="hljs-comment">// âœ… ç›´æ¥ç›‘å¬æ•°ç»„</span>
<span class="hljs-title function_">watch</span>(arr, <span class="hljs-function">(<span class="hljs-params">val</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä¼šè§¦å‘'</span>)
})
</code></pre>
<h3 data-id="heading-8">æƒ…å†µä¸‰ï¼šè§£æ„ä¸¢å¤±å“åº”æ€§</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = <span class="hljs-title function_">reactive</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">2</span> })

<span class="hljs-comment">// âŒ è§£æ„ä¼šä¸¢å¤±å“åº”æ€§</span>
<span class="hljs-keyword">const</span> { x } = obj
<span class="hljs-title function_">watch</span>(x, <span class="hljs-function">(<span class="hljs-params">val</span>) =&gt;</span> { }) <span class="hljs-comment">// æ— æ•ˆ</span>

<span class="hljs-comment">// âœ… ä½¿ç”¨ getter å‡½æ•°</span>
<span class="hljs-title function_">watch</span>(<span class="hljs-function">() =&gt;</span> obj.<span class="hljs-property">x</span>, <span class="hljs-function">(<span class="hljs-params">val</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä¼šè§¦å‘'</span>)
})
</code></pre>
<h2 data-id="heading-9">4. å®è·µå»ºè®®</h2>
<h3 data-id="heading-10">ä½¿ç”¨å‡½æ•°Â <code>() =&gt; xxx</code>Â çš„åœºæ™¯ï¼š</h3>
<ul>
<li>ç›‘å¬åŸºæœ¬ç±»å‹å€¼ï¼ˆstring, number, booleanï¼‰</li>
<li>ç›‘å¬å¯¹è±¡çš„ç‰¹å®šå±æ€§</li>
<li>éœ€è¦è®¡ç®—æˆ–ç»„åˆçš„ä¾èµ–</li>
<li>é¿å…ä¸å¿…è¦çš„æ·±åº¦ç›‘å¬</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç›‘å¬ç‰¹å®šå±æ€§</span>
<span class="hljs-title function_">watch</span>(<span class="hljs-function">() =&gt;</span> user.<span class="hljs-property">name</span>, <span class="hljs-function">(<span class="hljs-params">name</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç”¨æˆ·åå˜åŒ–:'</span>, name)
})

<span class="hljs-comment">// ç›‘å¬è®¡ç®—å€¼</span>
<span class="hljs-title function_">watch</span>(<span class="hljs-function">() =&gt;</span> x.<span class="hljs-property">value</span> + y.<span class="hljs-property">value</span>, <span class="hljs-function">(<span class="hljs-params">sum</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å’Œå˜åŒ–:'</span>, sum)
})
</code></pre>
<h3 data-id="heading-11">ä½¿ç”¨ç›´æ¥ç›‘å¬Â <code>xxx</code>Â çš„åœºæ™¯ï¼š</h3>
<ul>
<li>éœ€è¦ç›‘å¬å¯¹è±¡æ‰€æœ‰å˜åŒ–</li>
<li>ç›‘å¬æ•°ç»„å˜åŒ–</li>
<li>éœ€è¦æ·±åº¦ç›‘å¬åµŒå¥—å¯¹è±¡</li>
<li>ç›‘å¬å¼•ç”¨å˜åŒ–</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç›‘å¬æ•´ä¸ªå“åº”å¼å¯¹è±¡</span>
<span class="hljs-title function_">watch</span>(state, <span class="hljs-function">(<span class="hljs-params">newState</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çŠ¶æ€å˜åŒ–:'</span>, newState)
}, { <span class="hljs-attr">deep</span>: <span class="hljs-literal">true</span> })

<span class="hljs-comment">// ç›‘å¬æ•°ç»„</span>
<span class="hljs-title function_">watch</span>(items, <span class="hljs-function">(<span class="hljs-params">newItems</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'åˆ—è¡¨å˜åŒ–:'</span>, newItems)
})
</code></pre>
<h2 data-id="heading-12">5. æ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-13"><code>ref</code>Â å¯¹è±¡çš„å¤„ç†ï¼š</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šç›´æ¥ç›‘å¬ ref</span>
<span class="hljs-title function_">watch</span>(count, <span class="hljs-function">(<span class="hljs-params">val</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'countå˜åŒ–:'</span>, val)
})

<span class="hljs-comment">// âœ… ä¹Ÿæ­£ç¡®ï¼šé€šè¿‡ .value ç›‘å¬</span>
<span class="hljs-title function_">watch</span>(<span class="hljs-function">() =&gt;</span> count.<span class="hljs-property">value</span>, <span class="hljs-function">(<span class="hljs-params">val</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'countå˜åŒ–:'</span>, val)
})
</code></pre>
<h3 data-id="heading-14"><code>reactive</code>Â å¯¹è±¡çš„å¤„ç†ï¼š</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({ <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> })

<span class="hljs-comment">// âœ… æ¨èï¼šä½¿ç”¨ getter ç›‘å¬ç‰¹å®šå±æ€§</span>
<span class="hljs-title function_">watch</span>(<span class="hljs-function">() =&gt;</span> state.<span class="hljs-property">count</span>, <span class="hljs-function">(<span class="hljs-params">val</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'countå˜åŒ–:'</span>, val)
})

<span class="hljs-comment">// âš ï¸ æ³¨æ„ï¼šç›´æ¥ç›‘å¬ reactive å¯¹è±¡ä¼šè‡ªåŠ¨å¼€å¯æ·±åº¦ç›‘å¬</span>
<span class="hljs-title function_">watch</span>(state, <span class="hljs-function">(<span class="hljs-params">val</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'stateå˜åŒ–:'</span>, val) <span class="hljs-comment">// ä»»ä½•åµŒå¥—å±æ€§å˜åŒ–éƒ½ä¼šè§¦å‘</span>
})
</code></pre>
<h2 data-id="heading-15">æ€»ç»“</h2>
<p>é€‰æ‹©å“ªç§æ–¹å¼ä¸»è¦å–å†³äºï¼š</p>
<ol>
<li><strong>ç›‘å¬ç²’åº¦</strong>ï¼šéœ€è¦ç›‘å¬æ•´ä¸ªå¯¹è±¡è¿˜æ˜¯ç‰¹å®šå±æ€§</li>
<li><strong>æ€§èƒ½è€ƒè™‘</strong>ï¼šé¿å…ä¸å¿…è¦çš„æ·±åº¦ç›‘å¬</li>
<li><strong>æ•°æ®ç±»å‹</strong>ï¼šåŸºæœ¬ç±»å‹ç”¨ getterï¼Œå¤æ‚å¯¹è±¡å¯ç›´æ¥ç›‘å¬</li>
<li><strong>å˜åŒ–ç±»å‹</strong>ï¼šéœ€è¦ç›‘å¬å¼•ç”¨å˜åŒ–è¿˜æ˜¯å€¼å˜åŒ–</li>
</ol>
<p>å½“å‘ç°ç›‘å¬ä¸åˆ°å˜åŒ–æ—¶ï¼Œæ£€æŸ¥æ˜¯å¦æ˜¯ï¼š</p>
<ul>
<li>åµŒå¥—å¯¹è±¡å±æ€§å˜åŒ–ï¼ˆéœ€è¦Â <code>deep: true</code>ï¼‰</li>
<li>æ•°ç»„æ–¹æ³•ä¿®æ”¹ï¼ˆç›´æ¥ç›‘å¬æ•°ç»„ï¼‰</li>
<li>è§£æ„å¯¼è‡´å“åº”æ€§ä¸¢å¤±ï¼ˆä½¿ç”¨å‡½æ•°ï¼‰</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[react-nil é€»è¾‘æ¸²æŸ“å™¨]]></title>    <link>https://juejin.cn/post/7591207451779121178</link>    <guid>https://juejin.cn/post/7591207451779121178</guid>    <pubDate>2026-01-04T09:04:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591207451779121178" data-draft-id="7590601860300701723" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="react-nil é€»è¾‘æ¸²æŸ“å™¨"/> <meta itemprop="keywords" content="React.js"/> <meta itemprop="datePublished" content="2026-01-04T09:04:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="feå°é™ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/4019470241892983"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            react-nil é€»è¾‘æ¸²æŸ“å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4019470241892983/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    feå°é™ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-04T09:04:52.000Z" title="Sun Jan 04 2026 09:04:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åˆæ¢react-nilï¼šâ€œå•¥ä¹Ÿä¸æ¸²æŸ“â€çš„Reactæ¸²æŸ“å™¨æœ‰ä½•ç”¨ï¼Ÿ</h2>
<p>æœ€è¿‘åœ¨æµè§ˆReactç›¸å…³çš„å¼€æºé¡¹ç›®æ—¶ï¼Œå¶ç„¶åˆ·åˆ°äº†ä¸€ä¸ªåä¸º <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpmndrs%2Freact-nil" target="_blank" title="https://github.com/pmndrs/react-nil" ref="nofollow noopener noreferrer">react-nil</a> çš„è‡ªå®šä¹‰Reactæ¸²æŸ“å™¨ã€‚ç‚¹è¿›é¡¹ç›®ä¸»é¡µï¼Œç¬¬ä¸€çœ¼çœ‹åˆ°å®ƒçš„æ ¸å¿ƒä»‹ç»ï¼Œæˆ‘ç›´æ¥æ„£ä½äº†â€”â€”</p>
<blockquote>
<p>A custom react renderer that renders nothing, null, litterally.</p>
</blockquote>
<p>ç¿»è¯‘è¿‡æ¥å°±æ˜¯â€œä¸€ä¸ªå•¥ä¹Ÿä¸æ¸²æŸ“çš„è‡ªå®šä¹‰Reactæ¸²æŸ“å™¨ï¼ŒçœŸçš„å°±åªè¿”å›nullâ€ã€‚å½“ä¸‹è„‘å­é‡Œç¬¬ä¸€ååº”å°±æ˜¯ï¼šè¿™ä¸æ˜¯è„±è£¤å­æ”¾å±å—ï¼ŸReactçš„æ ¸å¿ƒä»·å€¼ä¸å°±æ˜¯å£°æ˜å¼æ¸²æŸ“UIå—ï¼Ÿä¸€ä¸ªè¿åƒç´ éƒ½ä¸è¾“å‡ºçš„æ¸²æŸ“å™¨ï¼Œå­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿéš¾ä¸æˆæ˜¯ä½œè€…çš„æ¶ä½œå‰§ï¼Œæˆ–è€…æ˜¯æŸä¸ªæŠ€æœ¯å®éªŒçš„åŠæˆå“ï¼Ÿ</p>
<p>ä½†è½¬å¿µä¸€æƒ³ï¼Œèƒ½è¢«å…¬å¼€æ”¾åœ¨GitHubä¸Šï¼Œè¿˜è¢«pmndrsï¼ˆä¸€ä¸ªçŸ¥åçš„Reactç”Ÿæ€ç»„ç»‡ï¼‰ç»´æŠ¤ï¼Œè‚¯å®šä¸è‡³äºè¿™ä¹ˆç®€å•ã€‚ä¸‡ä¸€æˆ‘å¸¦ç€å…ˆå…¥ä¸ºä¸»çš„åè§é”™æ€ªå®ƒäº†å‘¢ï¼ŸæŠ±ç€â€œä¸èƒ½è½»æ˜“å¦å®šä¸€ä¸ªä¸äº†è§£çš„äº‹ç‰©â€çš„å¿ƒæ€ï¼Œæˆ‘å¼ºè¿«è‡ªå·±é™ä¸‹å¿ƒæ¥ï¼Œé€å­—é€å¥åœ°å†ç»†ç»†å“è¯»é¡¹ç›®æ–‡æ¡£ï¼Œè¯•å›¾ä»å­—é‡Œè¡Œé—´æ‰¾åˆ°å®ƒçš„ä»·å€¼æ‰€åœ¨ã€‚</p>
<p>æœç„¶ï¼Œåœ¨æ ¸å¿ƒä»‹ç»ä¸‹æ–¹ï¼Œä½œè€…ç´§æ¥ç€å°±ç»™å‡ºäº†è¡¥å……è¯´æ˜ï¼Œåƒæ˜¯æ—©å°±é¢„æ–™åˆ°ä¼šæœ‰äººè´¨ç–‘ä¸€æ ·ï¼š</p>
<blockquote>
<p>There are legitimate usecases for null-components, or logical components</p>
</blockquote>
<p>ç´§æ¥ç€ï¼Œä¸€æ®µæ›´è¯¦ç»†çš„è§£é‡Šå½»åº•é¢ è¦†äº†æˆ‘å¯¹â€œReactç»„ä»¶â€çš„å›ºæœ‰è®¤çŸ¥ï¼š</p>
<blockquote>
<p>A component has a lifecycle, local state, packs side-effects into useEffect, memoizes calculations in useMemo, orchestrates async ops with suspense, communicates via context, maintains fast response with concurrency. And of course - the entire React eco system is available.</p>
</blockquote>
<p>è¯»å®Œè¿™æ®µï¼Œæˆ‘æ‰æç„¶å¤§æ‚Ÿï¼šåŸæ¥ä½œè€…æƒ³å¼ºè°ƒçš„ï¼Œæ˜¯â€œé€»è¾‘ç»„ä»¶â€çš„æ¦‚å¿µã€‚æˆ‘ä»¬å¹³æ—¶å†™Reactç»„ä»¶ï¼Œæ€»æ˜¯ä¸‹æ„è¯†åœ°æŠŠâ€œUIæ¸²æŸ“â€å’Œâ€œé€»è¾‘å¤„ç†â€ç»‘å®šåœ¨ä¸€èµ·â€”â€”ç»„ä»¶æœ€ç»ˆè¦è¿”å›JSXï¼Œè¦åœ¨é¡µé¢ä¸Šå‘ˆç°å‡ºå¯¹åº”çš„å…ƒç´ ã€‚ä½†è¿™ä¸ªreact-nilï¼Œæ°æ°æ˜¯æŠŠâ€œUIæ¸²æŸ“â€è¿™ä¸ªç¯èŠ‚å½»åº•å‰¥ç¦»äº†ï¼Œåªä¿ç•™äº†Reactç»„ä»¶æœ€æ ¸å¿ƒçš„é€»è¾‘èƒ½åŠ›ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œå€ŸåŠ©react-nilï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºçº¯ç²¹çš„â€œé€»è¾‘ç»„ä»¶â€ã€‚è¿™ç§ç»„ä»¶è™½ç„¶ä¸äº§ç”Ÿä»»ä½•è§†è§‰è¾“å‡ºï¼Œä½†å´èƒ½å®Œæ•´åœ°åˆ©ç”¨Reactçš„æ•´ä¸ªç»„ä»¶ç”Ÿå‘½å‘¨æœŸï¼šä»æŒ‚è½½ã€æ›´æ–°åˆ°å¸è½½çš„å…¨æµç¨‹å¯æ§ï¼›å¯ä»¥ç»´æŠ¤è‡ªå·±çš„local stateï¼Œä¸ç”¨ä¾èµ–å¤–éƒ¨çŠ¶æ€ç®¡ç†åº“å°±èƒ½å­˜å‚¨ä¸´æ—¶é€»è¾‘æ•°æ®ï¼›å¯ä»¥é€šè¿‡useEffectå°è£…å„ç§å‰¯ä½œç”¨æ“ä½œï¼Œæ¯”å¦‚æ•°æ®ç›‘å¬ã€äº‹ä»¶ç»‘å®šã€èµ„æºåŠ è½½ä¸é‡Šæ”¾ï¼›å¯ä»¥ç”¨useMemoå¯¹å¤æ‚è®¡ç®—è¿›è¡Œç¼“å­˜ï¼Œæå‡æ€§èƒ½ï¼›è¿˜èƒ½å€ŸåŠ©Suspenseåè°ƒå¼‚æ­¥æ“ä½œï¼Œé€šè¿‡Contextå®ç°è·¨ç»„ä»¶çš„é€»è¾‘é€šä¿¡ï¼Œç”šè‡³åˆ©ç”¨Reactçš„å¹¶å‘ç‰¹æ€§ä¿è¯å“åº”é€Ÿåº¦ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæ•´ä¸ªReactç”Ÿæ€ç³»ç»Ÿçš„å·¥å…·å’Œåº“ï¼Œéƒ½èƒ½ç›´æ¥ä¸ºè¿™ç§é€»è¾‘ç»„ä»¶æœåŠ¡ã€‚</p>
<p>åŸæ¥å¦‚æ­¤ï¼Œå®ƒä¸æ˜¯â€œå•¥ä¹Ÿä¸å¹²â€ï¼Œè€Œæ˜¯æŠŠâ€œå¹²çš„æ´»â€ä»â€œæ¸²æŸ“UIâ€è½¬ç§»åˆ°äº†â€œçº¯ç²¹çš„é€»è¾‘ç®¡ç†â€ä¸Šã€‚è¿™ç§å°†Reactç»„ä»¶çš„é€»è¾‘èƒ½åŠ›ä¸UIæ¸²æŸ“å½»åº•è§£è€¦çš„æ€è·¯ï¼Œç¡®å®åˆ·æ–°äº†æˆ‘çš„è®¤çŸ¥ã€‚</p>
<p>æ”¾ä¸‹æ–‡æ¡£ï¼Œæˆ‘å¼€å§‹ä¸ç”±è‡ªä¸»åœ°ç¢ç£¨ï¼šæ—¢ç„¶å®ƒèƒ½è®©æˆ‘ä»¬ç”¨Reactç»„ä»¶çš„æ–¹å¼æ¥ç®¡ç†é€»è¾‘å¯¹è±¡ï¼Œé‚£å…·ä½“èƒ½è½åœ°åˆ°å“ªäº›åœºæ™¯å‘¢ï¼Ÿè„±ç¦»äº†UIçš„æŸç¼šï¼Œè¿™ç§çº¯ç²¹çš„é€»è¾‘ç»„ä»¶ï¼Œåˆèƒ½è§£å†³å“ªäº›æˆ‘ä»¬å¹³æ—¶å¼€å‘ä¸­é‡åˆ°çš„ç—›ç‚¹å‘¢ï¼Ÿ</p>
<h2 data-id="heading-1">å°† react-nil ä½œä¸ºä¸€ç§çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ</h2>
<p>é¡ºç€è¿™ä¸ªæ€è·¯å¾€ä¸‹æƒ³ï¼Œä¸€ä¸ªå¾ˆå…³é”®çš„åº”ç”¨æ–¹å‘é€æ¸æ¸…æ™°èµ·æ¥â€”â€”å°†react-nilä½œä¸ºä¸€ç§è½»é‡åŒ–çš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆã€‚</p>
<p>åœ¨æ—¥å¸¸çš„Reactå¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šé‡åˆ°ä¸€ä¸ªæ£˜æ‰‹çš„é—®é¢˜ï¼šé€»è¾‘ï¼ˆç»„ä»¶ï¼‰æ ‘çš„å½¢çŠ¶ä¸è§†å›¾ç»„ä»¶æ ‘çš„å½¢çŠ¶å¾€å¾€å¹¶ä¸ä¸€è‡´ã€‚æ¯”å¦‚è¯´ï¼ŒæŸä¸ªé¡µé¢çš„è§†å›¾æ˜¯ç”±å¤´éƒ¨å¯¼èˆªã€å†…å®¹åˆ—è¡¨ã€åº•éƒ¨Footerç­‰å¤šä¸ªç‹¬ç«‹UIç»„ä»¶ç»„æˆçš„æ ‘å½¢ç»“æ„ï¼Œä½†æ”¯æ’‘è¿™äº›è§†å›¾çš„ä¸šåŠ¡é€»è¾‘ï¼ˆæ¯”å¦‚ç”¨æˆ·ä¿¡æ¯è·å–ã€åˆ—è¡¨æ•°æ®è¯·æ±‚ã€ç­›é€‰æ¡ä»¶ç®¡ç†ç­‰ï¼‰ï¼Œå…¶ä¾èµ–å…³ç³»å’Œç»„ç»‡å½¢æ€å¯èƒ½å®Œå…¨æ˜¯å¦ä¸€å›äº‹ã€‚å¦‚æœå¼ºè¡ŒæŠŠè¿™äº›é€»è¾‘å’Œå¯¹åº”çš„è§†å›¾ç»„ä»¶ç»‘å®šåœ¨ä¸€èµ·ï¼Œå°±å¾ˆå®¹æ˜“å½¢æˆä¸‘é™‹åˆéš¾ä»¥ç»´æŠ¤çš„ä»£ç ï¼šè¦ä¹ˆæ˜¯åœ¨æ— å…³çš„UIç»„ä»¶ä¸­å¡å…¥å¤§é‡ä¸ç›¸å…³çš„ä¸šåŠ¡é€»è¾‘ï¼Œè®©ç»„ä»¶å˜å¾—è‡ƒè‚¿ä¸å ªï¼›è¦ä¹ˆæ˜¯ä¸ºäº†å…±äº«é€»è¾‘è€Œéšæ„æå‡çŠ¶æ€å±‚çº§ï¼Œå¯¼è‡´â€œprop drillingâ€ï¼ˆå±æ€§é€ä¼ ï¼‰çš„é—®é¢˜ï¼›æ›´æœ‰ç”šè€…ï¼Œä¼šå‡ºç°é€»è¾‘ä»£ç åœ¨å¤šä¸ªè§†å›¾ç»„ä»¶ä¸­é‡å¤ç¼–å†™çš„æƒ…å†µã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦Reduxã€Zustandã€Jotaiç­‰å¤–éƒ¨çŠ¶æ€ç®¡ç†åº“çš„æ ¸å¿ƒåŸå› â€”â€”æœ¬è´¨ä¸Šéƒ½æ˜¯ä¸ºäº†æ‰“ç ´é€»è¾‘ä¸è§†å›¾çš„å¼ºè€¦åˆã€‚</p>
<p>è€Œreact-nilçš„å‡ºç°ï¼Œæ°å¥½ä¸ºè¿™ä¸ªé—®é¢˜æä¾›äº†ä¸€ç§å…¨æ–°çš„è§£å†³æ€è·¯ã€‚æˆ‘ä»¬å®Œå…¨å¯ä»¥å°†ä¸šåŠ¡é€»è¾‘å•ç‹¬æŠ½ç¦»å‡ºæ¥ï¼Œé€šè¿‡react-nilæ¥ç»„ç»‡æˆç‹¬ç«‹çš„â€œé€»è¾‘ç»„ä»¶æ ‘â€ã€‚è¿™äº›ç”±react-nilé©±åŠ¨çš„é€»è¾‘ç»„ä»¶ï¼Œä¸éœ€è¦æ‰¿æ‹…ä»»ä½•UIæ¸²æŸ“èŒè´£ï¼Œåªä¸“æ³¨äºä¸šåŠ¡é€»è¾‘çš„æµè½¬ã€çŠ¶æ€çš„ç»´æŠ¤å’Œå‰¯ä½œç”¨çš„å¤„ç†â€”â€”æ¯”å¦‚ç”¨useStateå­˜å‚¨æ ¸å¿ƒä¸šåŠ¡çŠ¶æ€ï¼Œç”¨useEffectå‘èµ·å¼‚æ­¥è¯·æ±‚å¹¶å¤„ç†æ•°æ®æ›´æ–°ï¼Œç”¨useMemoç¼“å­˜è®¡ç®—ç»“æœä¼˜åŒ–æ€§èƒ½ã€‚ä¹‹åï¼Œå†é€šè¿‡çŠ¶æ€è®¢é˜…çš„æ–¹å¼ï¼Œå°†é€»è¾‘ç»„ä»¶æ ‘ä¸­ç®¡ç†çš„çŠ¶æ€ç²¾å‡†åœ°ä¼ é€’ç»™éœ€è¦è¿™äº›çŠ¶æ€çš„è§†å›¾ç»„ä»¶æ ‘ã€‚</p>
<p>è¿™æ ·ä¸€æ¥ï¼Œé€»è¾‘ä¸è§†å›¾å°±å®ç°äº†å½»åº•çš„è§£è€¦ï¼šé€»è¾‘ç»„ä»¶æ ‘å¯ä»¥æŒ‰ç…§ä¸šåŠ¡é€»è¾‘çš„è‡ªç„¶ä¾èµ–å…³ç³»è‡ªç”±ç»„ç»‡ï¼Œä¸ç”¨å—é™äºè§†å›¾çš„ç»“æ„ï¼›è§†å›¾ç»„ä»¶æ ‘åˆ™å¯ä»¥çº¯ç²¹åœ°ä¸“æ³¨äºUIæ¸²æŸ“ï¼Œåªéœ€è¦è¢«åŠ¨è®¢é˜…æ‰€éœ€çš„çŠ¶æ€ï¼Œä¸ç”¨å…³å¿ƒçŠ¶æ€çš„äº§ç”Ÿå’Œæµè½¬è¿‡ç¨‹ã€‚è¿™ç§åˆ†ç¦»ä¸ä»…è®©ä»£ç ç»“æ„æ›´æ¸…æ™°ã€ç»´æŠ¤æˆæœ¬æ›´ä½ï¼Œè€Œä¸”ç›¸è¾ƒäºä¼ ç»Ÿçš„å¤–éƒ¨çŠ¶æ€ç®¡ç†åº“ï¼Œreact-nilå®Œå…¨å¤ç”¨äº†Reactè‡ªèº«çš„APIï¼ˆå¦‚useStateã€useEffectã€Contextç­‰ï¼‰ï¼Œä¸éœ€è¦æˆ‘ä»¬å­¦ä¹ æ–°çš„è¯­æ³•å’Œæ¦‚å¿µï¼Œå¼€å‘æˆæœ¬ä¹Ÿæ›´ä½ã€‚</p>
<p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬å¼€å‘ä¸€ä¸ªç”µå•†å•†å“åˆ—è¡¨é¡µé¢ï¼Œè§†å›¾ä¸Šæœ‰å•†å“åˆ—è¡¨ç»„ä»¶ã€ç­›é€‰å™¨ç»„ä»¶ã€åˆ†é¡µç»„ä»¶ã€‚æ”¯æ’‘è¿™äº›è§†å›¾çš„é€»è¾‘åŒ…æ‹¬ï¼šå•†å“æ•°æ®çš„è¯·æ±‚ä¸ç¼“å­˜ã€ç­›é€‰æ¡ä»¶çš„å˜æ›´ç®¡ç†ã€åˆ†é¡µå‚æ•°çš„åŒæ­¥ç­‰ã€‚å¦‚æœç”¨react-nilæ¥åšçŠ¶æ€ç®¡ç†ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªç”±react-nilé©±åŠ¨çš„â€œå•†å“åˆ—è¡¨é€»è¾‘ç»„ä»¶â€ï¼ŒæŠŠæ•°æ®è¯·æ±‚ã€æ¡ä»¶ç®¡ç†ç­‰é€»è¾‘éƒ½å°è£…åœ¨è¿™ä¸ªç»„ä»¶å†…éƒ¨ï¼›ç„¶åé€šè¿‡React Contextæˆ–è€…è‡ªå®šä¹‰çš„è®¢é˜…é’©å­ï¼Œè®©è§†å›¾å±‚çš„åˆ—è¡¨ã€ç­›é€‰å™¨ã€åˆ†é¡µç»„ä»¶åˆ†åˆ«è®¢é˜…è‡ªå·±éœ€è¦çš„çŠ¶æ€ï¼ˆåˆ—è¡¨æ•°æ®ã€å½“å‰ç­›é€‰æ¡ä»¶ã€åˆ†é¡µä¿¡æ¯ï¼‰ã€‚å½“é€»è¾‘ç»„ä»¶å†…éƒ¨çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œåªä¼šé€šçŸ¥å¯¹åº”çš„è§†å›¾ç»„ä»¶æ›´æ–°ï¼Œæ—¢ä¿è¯äº†çŠ¶æ€æµè½¬çš„æ¸…æ™°ï¼Œä¹Ÿé¿å…äº†ä¸å¿…è¦çš„UIé‡æ¸²æŸ“ã€‚</p>
<h2 data-id="heading-2">æ€è€ƒä¸€ä¸ªèˆ’æœçš„ä½¿ç”¨å§¿åŠ¿</h2>
<p>åŸºäºè¿™æ ·çš„æ ¸å¿ƒæ€è·¯ï¼Œæˆ‘å¼€å§‹å°è¯•åŸºäºreact-nilå°è£…ä¸€ä¸ªæ›´æ˜“ç”¨çš„é€»è¾‘ç»„ä»¶æ¨¡å‹ï¼Œè®©è¿™ç§â€œé€»è¾‘ä¸è§†å›¾åˆ†ç¦»â€çš„å¼€å‘æ¨¡å¼æ›´ç¬¦åˆæ—¥å¸¸å¼€å‘ä¹ æƒ¯ã€‚ç»“åˆå¯¹ react-nil èƒ½åŠ›çš„ç²—æµ…ç†è§£ï¼Œæˆ‘æ„æ€äº†ä¸€å¥—ç›´è§‚çš„ä»£ç ç”¨ä¾‹ï¼Œæ ¸å¿ƒæ˜¯é€šè¿‡createModel å‡½æ•°å°è£…é€»è¾‘ç»„ä»¶çš„å®šä¹‰ã€åˆ›å»ºã€å…³è”å’ŒçŠ¶æ€è®¢é˜…ç­‰èƒ½åŠ›ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createModel</span>(<span class="hljs-params">options: <span class="hljs-built_in">any</span></span>) {
    <span class="hljs-comment">// å¿½ç•¥å®ç°</span>
}

<span class="hljs-keyword">const</span> <span class="hljs-title class_">AModel</span> = <span class="hljs-title function_">createModel</span>({
    <span class="hljs-comment">// åˆå§‹çŠ¶æ€</span>
    <span class="hljs-attr">initState</span>: <span class="hljs-function">(<span class="hljs-params">id, props</span>) =&gt;</span> ({
        <span class="hljs-comment">// ...</span>
    }),
    <span class="hljs-title function_">hook</span>(<span class="hljs-params">state, setState</span>) {
        <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> { }, [state.<span class="hljs-property">someProp</span>]);
        <span class="hljs-keyword">const</span> memoState = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> { }, [state.<span class="hljs-property">someProp</span>]);

        <span class="hljs-keyword">return</span> { memoState }
    }
})

<span class="hljs-keyword">const</span> <span class="hljs-title class_">BModel</span> = <span class="hljs-title function_">createModel</span>({
    <span class="hljs-comment">// ... åŒä¸Šï¼Œå¿½ç•¥</span>
})

<span class="hljs-keyword">await</span> <span class="hljs-title class_">AModel</span>.<span class="hljs-title function_">create</span>(id, {}); <span class="hljs-comment">// æŒ‚è½½åˆ°æ ¹ç»„ä»¶</span>
<span class="hljs-keyword">await</span> <span class="hljs-title class_">BModel</span>.<span class="hljs-title function_">create</span>(id2, {}, <span class="hljs-title class_">AModel</span>); <span class="hljs-comment">// æŒ‚è½½åˆ° AModel è€Œéå…¨å±€</span>

<span class="hljs-keyword">const</span> instance = <span class="hljs-title class_">AModel</span>.<span class="hljs-title function_">get</span>(id);

instance.<span class="hljs-title function_">getChildren</span>(<span class="hljs-title class_">BModel</span>); <span class="hljs-comment">// Map</span>
instance.<span class="hljs-title function_">useChildren</span>(<span class="hljs-title class_">BModel</span>); <span class="hljs-comment">// è®¢é˜… Map</span>

instance.<span class="hljs-title function_">removeChildren</span>(<span class="hljs-title class_">BModel</span>, id2); <span class="hljs-comment">// ç§»é™¤æŒ‡å®šæŒ‚è½½çš„å…¶ä»–é€»è¾‘</span>

instance.<span class="hljs-title function_">useState</span>();          <span class="hljs-comment">// åœ¨è§†å›¾ç»„ä»¶ä¸­ä½¿ç”¨ {...state, memoState}</span>
instance.<span class="hljs-title function_">useState</span>(<span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.<span class="hljs-property">memoState</span>);  <span class="hljs-comment">// æ”¯æŒ selector</span>

instance.<span class="hljs-title function_">destroy</span>(); <span class="hljs-comment">// ç§»é™¤æ‰€æœ‰æŒ‚è½½çš„å…¶ä»–é€»è¾‘(åŒ…æ‹¬ children)</span>
</code></pre>
<p>è¿™å¥—ä»£ç ç”¨ä¾‹çš„è®¾è®¡æ€è·¯ï¼Œå®Œå…¨æ˜¯ä¸ºäº†é€‚é…react-nilçš„â€œé€»è¾‘ç»„ä»¶â€ç‰¹æ€§ã€‚é¦–å…ˆé€šè¿‡createModelå‡½æ•°å®šä¹‰é€»è¾‘æ¨¡å‹ï¼Œä¼ å…¥initStateç”¨äºåˆå§‹åŒ–çŠ¶æ€ï¼ˆæ”¯æŒæ¥æ”¶idå’ŒpropsåŠ¨æ€ç”Ÿæˆåˆå§‹å€¼ï¼‰ï¼Œhookå‡½æ•°åˆ™æ˜¯æ ¸å¿ƒé€»è¾‘è½½ä½“â€”â€”è¿™é‡Œå¯ä»¥ç›´æ¥ä½¿ç”¨useEffectã€useMemoç­‰React Hooksï¼Œå°è£…å‰¯ä½œç”¨å¤„ç†å’Œè®¡ç®—ç¼“å­˜é€»è¾‘ï¼Œæœ€ç»ˆè¿”å›éœ€è¦å¯¹å¤–æš´éœ²çš„è¡ç”ŸçŠ¶æ€ã€‚</p>
<p>åœ¨ä½¿ç”¨å±‚é¢ï¼Œé€šè¿‡createæ–¹æ³•å¯ä»¥åˆ›å»ºé€»è¾‘ç»„ä»¶å®ä¾‹ï¼Œå¹¶ä¸”æ”¯æŒæŒ‡å®šçˆ¶çº§æ¨¡å‹ï¼ˆæ¯”å¦‚å°†BModelæŒ‚è½½åˆ°AModelä¸‹ï¼‰ï¼Œå½¢æˆå±‚çº§åŒ–çš„é€»è¾‘ç»„ä»¶æ ‘ï¼Œè¿™å’ŒReactç»„ä»¶æ ‘çš„å±‚çº§å…³ç³»é€»è¾‘ä¸€è‡´ï¼Œä½†ä¸æ¶‰åŠä»»ä½•UIæ¸²æŸ“ã€‚åˆ›å»ºå®Œæˆåï¼Œé€šè¿‡getæ–¹æ³•è·å–å®ä¾‹ï¼Œå°±èƒ½è¿›è¡Œä¸€ç³»åˆ—æ“ä½œï¼šè·å–æˆ–è®¢é˜…å­é€»è¾‘ç»„ä»¶ï¼ˆgetChildren/useChildrenï¼‰ã€ç§»é™¤å­ç»„ä»¶ï¼ˆremoveChildrenï¼‰ã€è®¢é˜…çŠ¶æ€ï¼ˆuseStateï¼Œæ”¯æŒä¼ å…¥é€‰æ‹©å™¨ç²¾å‡†è®¢é˜…éƒ¨åˆ†çŠ¶æ€ï¼‰ï¼Œä»¥åŠé”€æ¯å®ä¾‹ï¼ˆdestroyï¼‰é‡Šæ”¾èµ„æºã€‚</p>
<p>è¿™æ ·çš„å°è£…è®¾è®¡ï¼Œæ ¸å¿ƒæ˜¯æŠŠreact-nilçš„åº•å±‚èƒ½åŠ›å°è£…æˆæ›´è´´è¿‘ä¸šåŠ¡å¼€å‘çš„APIã€‚å¼€å‘è€…ä¸ç”¨ç›´æ¥æ“ä½œreact-nilçš„æ¸²æŸ“é€»è¾‘ï¼Œåªéœ€è¦é€šè¿‡createModelå®šä¹‰ä¸šåŠ¡é€»è¾‘ï¼Œé€šè¿‡å®ä¾‹æ–¹æ³•ç®¡ç†çŠ¶æ€å’Œç»„ä»¶å…³ç³»ï¼Œå°±èƒ½å……åˆ†åˆ©ç”¨Reactçš„Hooksç”Ÿæ€å’Œç”Ÿå‘½å‘¨æœŸèƒ½åŠ›ï¼ŒåŒæ—¶ä¿æŒé€»è¾‘ä¸è§†å›¾çš„å½»åº•åˆ†ç¦»ã€‚</p>
<h2 data-id="heading-3">æœ€åæ¥å®ç° createModel</h2>
<p>è¦å®ç° createModelï¼Œæ ¸å¿ƒæ˜¯å›´ç»• <code>react-nil</code> çš„æ¸²æŸ“èƒ½åŠ›ï¼Œå°è£…å®ä¾‹ç®¡ç†ã€çŠ¶æ€æµè½¬ã€çˆ¶å­å…³è”å’Œè®¢é˜…å“åº”çš„é€»è¾‘ã€‚é¦–å…ˆæ˜ç¡®ä¾èµ–ï¼šæˆ‘ä»¬éœ€è¦ç”¨åˆ° <code>react-nil</code> æä¾›çš„ <code>render</code> å’Œ <code>createRoot</code>ï¼ˆç”¨äºå¯åŠ¨é€»è¾‘ç»„ä»¶çš„æ¸²æŸ“ï¼‰ï¼Œä»¥åŠ React æ ¸å¿ƒçš„ Hooksï¼ˆå¦‚ <code>useState</code>ã€<code>useEffect</code>ã€<code>useMemo</code>ï¼‰ï¼ŒåŒæ—¶éœ€è¦ä¸€ä¸ªå…¨å±€å­˜å‚¨æ¥ç®¡ç†ä¸åŒæ¨¡å‹ã€ä¸åŒ ID çš„å®ä¾‹ã€‚</p>
<blockquote>
<p>ä»¥ä¸‹ä»£ç ç”±è±†åŒ…æ ¹æ®ä¸Šé¢çš„ç¤ºä¾‹æ€è€ƒç”Ÿæˆï¼Œæœªç»éªŒè¯ï¼Œ<strong>ä¸æ˜¯å¯ç”¨ç‰ˆæœ¬</strong>ï¼Œä¸€å®šæœ‰å‘ï¼Œä½†ä½œè€…æ¯”è¾ƒæ‡’ï¼Œæ²¡æ—¶é—´è°ƒè¯•ã€‚å¦‚</p>
<ol>
<li>react-nil çš„ render å…¶å®åªèƒ½æœ‰ä¸€ä¸ªå®¹å™¨ï¼Œä¸‹é¢åœ¨ create å†…å¤šæ¬¡è°ƒç”¨æ˜¯æœ‰é—®é¢˜çš„</li>
<li>useStateã€useChildren å¹¶ä¸æ˜¯ hook å®ç°</li>
</ol>
</blockquote>
<p>å…ˆæ¢³ç†æ ¸å¿ƒä¾èµ–å¼•å…¥å’Œç±»å‹å®šä¹‰ï¼ˆè¡¥å……åŸºç¡€ç±»å‹è®©ä»£ç æ›´è§„èŒƒï¼Œé¿å…è¿‡å¤š <code>any</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// å¼•å…¥æ ¸å¿ƒä¾èµ–</span>
<span class="hljs-keyword">import</span> { createRoot } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-nil'</span>;
<span class="hljs-keyword">import</span> { useState, useEffect, useMemo, useSyncExternalStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-comment">// å®šä¹‰ç±»å‹ï¼Œæ›¿ä»£ any æå‡å¯è¯»æ€§</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">InitStateFn</span>&lt;<span class="hljs-title class_">State</span> = <span class="hljs-built_in">any</span>, <span class="hljs-title class_">Props</span> = <span class="hljs-built_in">any</span>&gt; = <span class="hljs-function">(<span class="hljs-params">id: <span class="hljs-built_in">string</span>, props: Props</span>) =&gt;</span> <span class="hljs-title class_">State</span>;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">HookFn</span>&lt;<span class="hljs-title class_">State</span> = <span class="hljs-built_in">any</span>, <span class="hljs-title class_">Props</span> = <span class="hljs-built_in">any</span>, <span class="hljs-title class_">DerivedState</span> = <span class="hljs-built_in">any</span>&gt; = <span class="hljs-function">(<span class="hljs-params">
  state: State,
  setState: (updater: (prev: State) =&gt; State) =&gt; <span class="hljs-built_in">void</span>
</span>) =&gt;</span> <span class="hljs-title class_">DerivedState</span>;

<span class="hljs-keyword">type</span> <span class="hljs-title class_">ModelInstance</span>&lt;<span class="hljs-title class_">State</span> = <span class="hljs-built_in">any</span>, <span class="hljs-title class_">DerivedState</span> = <span class="hljs-built_in">any</span>&gt; = {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">useState</span>: <span class="hljs-function">(<span class="hljs-params">selector?: (state: State &amp; DerivedState) =&gt; <span class="hljs-built_in">any</span></span>) =&gt;</span> <span class="hljs-built_in">any</span>;
  <span class="hljs-attr">getChildren</span>: &lt;<span class="hljs-title class_">ChildState</span> = <span class="hljs-built_in">any</span>, <span class="hljs-title class_">ChildDerived</span> = <span class="hljs-built_in">any</span>&gt;<span class="hljs-function">(<span class="hljs-params">
    model: Model&lt;ChildState, ChildDerived&gt;
  </span>) =&gt;</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">ModelInstance</span>&lt;<span class="hljs-title class_">ChildState</span>, <span class="hljs-title class_">ChildDerived</span>&gt;&gt;;
  <span class="hljs-attr">useChildren</span>: &lt;<span class="hljs-title class_">ChildState</span> = <span class="hljs-built_in">any</span>, <span class="hljs-title class_">ChildDerived</span> = <span class="hljs-built_in">any</span>&gt;<span class="hljs-function">(<span class="hljs-params">
    model: Model&lt;ChildState, ChildDerived&gt;
  </span>) =&gt;</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">ModelInstance</span>&lt;<span class="hljs-title class_">ChildState</span>, <span class="hljs-title class_">ChildDerived</span>&gt;&gt;;
  <span class="hljs-attr">removeChildren</span>: &lt;<span class="hljs-title class_">ChildState</span> = <span class="hljs-built_in">any</span>, <span class="hljs-title class_">ChildDerived</span> = <span class="hljs-built_in">any</span>&gt;<span class="hljs-function">(<span class="hljs-params">
    model: Model&lt;ChildState, ChildDerived&gt;,
    childId: <span class="hljs-built_in">string</span>
  </span>) =&gt;</span> <span class="hljs-built_in">void</span>;
  <span class="hljs-attr">destroy</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;
};

<span class="hljs-keyword">type</span> <span class="hljs-title class_">Model</span>&lt;<span class="hljs-title class_">State</span> = <span class="hljs-built_in">any</span>, <span class="hljs-title class_">DerivedState</span> = <span class="hljs-built_in">any</span>&gt; = {
  <span class="hljs-attr">create</span>: <span class="hljs-function">(<span class="hljs-params">id: <span class="hljs-built_in">string</span>, props?: <span class="hljs-built_in">any</span>, parent?: ModelInstance</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">ModelInstance</span>&lt;<span class="hljs-title class_">State</span>, <span class="hljs-title class_">DerivedState</span>&gt;&gt;;
  <span class="hljs-attr">get</span>: <span class="hljs-function">(<span class="hljs-params">id: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-title class_">ModelInstance</span>&lt;<span class="hljs-title class_">State</span>, <span class="hljs-title class_">DerivedState</span>&gt; | <span class="hljs-literal">undefined</span>;
};
</code></pre>
<p>æ¥ä¸‹æ¥å®ç° createModel æ ¸å¿ƒå‡½æ•°ã€‚æ ¸å¿ƒæ€è·¯æ˜¯ï¼šç”¨ã€Œæ¨¡å‹ + å®ä¾‹ IDã€ä½œä¸ºå”¯ä¸€é”®ï¼Œé€šè¿‡å…¨å±€ Map å­˜å‚¨æ‰€æœ‰å®ä¾‹ï¼›æ¯ä¸ªå®ä¾‹é€šè¿‡ react-nil åˆ›å»ºæ ¹èŠ‚ç‚¹ï¼Œæ¸²æŸ“å†…éƒ¨é€»è¾‘ç»„ä»¶ï¼ˆæ‰¿è½½ initStateã€hook é€»è¾‘ï¼‰ï¼›åŒæ—¶æš´éœ²ä¸€å¥—å®ä¾‹æ–¹æ³•ä¾›å¤–éƒ¨è°ƒç”¨ã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> createModel&lt;<span class="hljs-title class_">State</span> = <span class="hljs-built_in">any</span>, <span class="hljs-title class_">Props</span> = <span class="hljs-built_in">any</span>, <span class="hljs-title class_">DerivedState</span> = <span class="hljs-built_in">any</span>&gt;(
  <span class="hljs-attr">options</span>: {
    <span class="hljs-attr">initState</span>: <span class="hljs-title class_">InitStateFn</span>&lt;<span class="hljs-title class_">State</span>, <span class="hljs-title class_">Props</span>&gt;;
    <span class="hljs-attr">hook</span>: <span class="hljs-title class_">HookFn</span>&lt;<span class="hljs-title class_">State</span>, <span class="hljs-title class_">Props</span>, <span class="hljs-title class_">DerivedState</span>&gt;;
  }
): <span class="hljs-title class_">Model</span>&lt;<span class="hljs-title class_">State</span>, <span class="hljs-title class_">DerivedState</span>&gt; {
  <span class="hljs-comment">// å­˜å‚¨å½“å‰æ¨¡å‹çš„æ‰€æœ‰å®ä¾‹ï¼škey = å®ä¾‹idï¼Œvalue = å®ä¾‹å¯¹è±¡ï¼ˆå«æ ¹èŠ‚ç‚¹ã€çŠ¶æ€ã€å­å®ä¾‹ç­‰ï¼‰</span>
  <span class="hljs-keyword">const</span> instances = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, {
    <span class="hljs-attr">root</span>: <span class="hljs-title class_">ReturnType</span>&lt;<span class="hljs-keyword">typeof</span> createRoot&gt;;
    <span class="hljs-attr">state</span>: <span class="hljs-title class_">State</span> &amp; <span class="hljs-title class_">DerivedState</span>;
    <span class="hljs-attr">setState</span>: <span class="hljs-function">(<span class="hljs-params">updater: (prev: State) =&gt; State</span>) =&gt;</span> <span class="hljs-built_in">void</span>;
    <span class="hljs-attr">children</span>: <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">Model</span>, <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">ModelInstance</span>&gt;&gt;; <span class="hljs-comment">// å­å®ä¾‹ï¼škey = å­æ¨¡å‹ï¼Œvalue = å­å®ä¾‹Mapï¼ˆid =&gt; å®ä¾‹ï¼‰</span>
    <span class="hljs-attr">destroy</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;
  }&gt;();

  <span class="hljs-comment">// 1. å®ç° create æ–¹æ³•ï¼šåˆ›å»ºå®ä¾‹ï¼Œæ”¯æŒæŒ‚è½½åˆ°çˆ¶å®ä¾‹</span>
  <span class="hljs-keyword">const</span> create = <span class="hljs-keyword">async</span> (<span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>, props?: <span class="hljs-title class_">Props</span>, parent?: <span class="hljs-title class_">ModelInstance</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">ModelInstance</span>&lt;<span class="hljs-title class_">State</span>, <span class="hljs-title class_">DerivedState</span>&gt;&gt; =&gt; {
    <span class="hljs-keyword">if</span> (instances.<span class="hljs-title function_">has</span>(id)) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Instance with id "<span class="hljs-subst">${id}</span>" already exists`</span>);
    }

    <span class="hljs-comment">// ç”¨äºåŒæ­¥çŠ¶æ€çš„ä¸´æ—¶å˜é‡ï¼ˆä¾›å¤–éƒ¨è®¢é˜…ï¼‰</span>
    <span class="hljs-keyword">let</span> <span class="hljs-attr">currentState</span>: <span class="hljs-title class_">State</span> &amp; <span class="hljs-title class_">DerivedState</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-attr">stateUpdaters</span>: <span class="hljs-title class_">Set</span>&lt;<span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();

    <span class="hljs-comment">// å®šä¹‰ react-nil è¦æ¸²æŸ“çš„é€»è¾‘ç»„ä»¶</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">LogicComponent</span> = (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-comment">// 1.1 åˆå§‹åŒ–çŠ¶æ€</span>
      <span class="hljs-keyword">const</span> [state, setState] = useState&lt;<span class="hljs-title class_">State</span>&gt;(<span class="hljs-function">() =&gt;</span> options.<span class="hljs-title function_">initState</span>(id, props || {} <span class="hljs-keyword">as</span> <span class="hljs-title class_">Props</span>));
      
      <span class="hljs-comment">// 1.2 æ‰§è¡Œç”¨æˆ·ä¼ å…¥çš„ hook é€»è¾‘ï¼Œè·å–è¡ç”ŸçŠ¶æ€</span>
      <span class="hljs-keyword">const</span> derivedState = options.<span class="hljs-title function_">hook</span>(state, setState);
      
      <span class="hljs-comment">// 1.3 åˆå¹¶åŸå§‹çŠ¶æ€å’Œè¡ç”ŸçŠ¶æ€ï¼ŒåŒæ­¥åˆ° currentState</span>
      <span class="hljs-keyword">const</span> combinedState = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> ({ ...state, ...derivedState }), [state, derivedState]);
      currentState = combinedState;
      
      <span class="hljs-comment">// 1.4 çŠ¶æ€å˜åŒ–æ—¶é€šçŸ¥æ‰€æœ‰è®¢é˜…è€…</span>
      <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
        stateUpdaters.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">updater</span> =&gt;</span> <span class="hljs-title function_">updater</span>());
      }, [combinedState]);
      
      <span class="hljs-comment">// 1.5 é€»è¾‘ç»„ä»¶ä¸æ¸²æŸ“ä»»ä½• UIï¼Œè¿”å› null</span>
      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    };

    <span class="hljs-comment">// 1.6 ç”¨ react-nil åˆ›å»ºæ ¹èŠ‚ç‚¹å¹¶æ¸²æŸ“é€»è¾‘ç»„ä»¶</span>
    <span class="hljs-keyword">const</span> root = <span class="hljs-title function_">createRoot</span>(<span class="hljs-literal">null</span>);
    root.<span class="hljs-title function_">render</span>(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">LogicComponent</span> /&gt;</span></span>);

    <span class="hljs-comment">// 1.7 å®šä¹‰å®ä¾‹çš„é”€æ¯é€»è¾‘</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">destroy</span> = (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-comment">// å¸è½½ react-nil æ ¹èŠ‚ç‚¹ï¼Œè§¦å‘ç»„ä»¶ç”Ÿå‘½å‘¨æœŸå¸è½½</span>
      root.<span class="hljs-title function_">unmount</span>();
      <span class="hljs-comment">// ç§»é™¤å½“å‰å®ä¾‹çš„å­˜å‚¨</span>
      instances.<span class="hljs-title function_">delete</span>(id);
      <span class="hljs-comment">// é€šçŸ¥è®¢é˜…è€…é”€æ¯</span>
      stateUpdaters.<span class="hljs-title function_">clear</span>();
      <span class="hljs-comment">// ä»çˆ¶å®ä¾‹ä¸­ç§»é™¤è‡ªèº«ï¼ˆå¦‚æœæœ‰çˆ¶å®ä¾‹ï¼‰</span>
      <span class="hljs-keyword">if</span> (parent) {
        <span class="hljs-keyword">const</span> parentData = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(instances.<span class="hljs-title function_">values</span>()).<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">inst</span> =&gt;</span> 
          <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(inst.<span class="hljs-property">children</span>.<span class="hljs-title function_">values</span>()).<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">childMap</span> =&gt;</span> childMap.<span class="hljs-title function_">has</span>(id))
        );
        <span class="hljs-keyword">if</span> (parentData) {
          parentData.<span class="hljs-property">children</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">childMap, model</span>) =&gt;</span> {
            <span class="hljs-keyword">if</span> (childMap.<span class="hljs-title function_">has</span>(id)) {
              childMap.<span class="hljs-title function_">delete</span>(id);
            }
          });
        }
      }
    };

    <span class="hljs-comment">// 1.8 å­˜å‚¨å½“å‰å®ä¾‹æ•°æ®</span>
    <span class="hljs-keyword">const</span> instanceData = {
      root,
      <span class="hljs-attr">state</span>: currentState,
      <span class="hljs-attr">setState</span>: <span class="hljs-function">(<span class="hljs-params">updater: (prev: State) =&gt; State</span>) =&gt;</span> {
        <span class="hljs-comment">// è§¦å‘ LogicComponent å†…éƒ¨çš„ setStateï¼Œé—´æ¥æ›´æ–° currentState</span>
        <span class="hljs-keyword">const</span> rootElement = root.<span class="hljs-property">_internalRoot</span>?.<span class="hljs-property">current</span>?.<span class="hljs-property">element</span>;
        <span class="hljs-keyword">if</span> (rootElement &amp;&amp; <span class="hljs-keyword">typeof</span> rootElement.<span class="hljs-property">type</span> === <span class="hljs-string">'function'</span>) {
          <span class="hljs-comment">// é€šè¿‡é‡æ–°æ¸²æŸ“è§¦å‘çŠ¶æ€æ›´æ–°ï¼ˆreact-nil æ”¯æŒé‡æ¸²æŸ“é€»è¾‘ç»„ä»¶ï¼‰</span>
          root.<span class="hljs-title function_">render</span>(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">LogicComponent</span> /&gt;</span></span>);
        }
      },
      <span class="hljs-attr">children</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">Model</span>, <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">ModelInstance</span>&gt;&gt;(),
      destroy
    };
    instances.<span class="hljs-title function_">set</span>(id, instanceData);

    <span class="hljs-comment">// 1.9 å¦‚æœæœ‰çˆ¶å®ä¾‹ï¼Œå°†å½“å‰å®ä¾‹æ·»åŠ åˆ°çˆ¶å®ä¾‹çš„å­å®ä¾‹åˆ—è¡¨</span>
    <span class="hljs-keyword">if</span> (parent) {
      <span class="hljs-keyword">const</span> parentId = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(instances.<span class="hljs-title function_">keys</span>()).<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> instances.<span class="hljs-title function_">get</span>(key)?.<span class="hljs-property">children</span>);
      <span class="hljs-keyword">if</span> (parentId) {
        <span class="hljs-keyword">const</span> parentInstanceData = instances.<span class="hljs-title function_">get</span>(parentId);
        <span class="hljs-keyword">if</span> (parentInstanceData) {
          <span class="hljs-comment">// ç¡®ä¿çˆ¶å®ä¾‹çš„ children ä¸­å­˜åœ¨å½“å‰æ¨¡å‹çš„é”®</span>
          <span class="hljs-keyword">if</span> (!parentInstanceData.<span class="hljs-property">children</span>.<span class="hljs-title function_">has</span>(createModel <span class="hljs-keyword">as</span> <span class="hljs-title class_">Model</span>)) {
            parentInstanceData.<span class="hljs-property">children</span>.<span class="hljs-title function_">set</span>(createModel <span class="hljs-keyword">as</span> <span class="hljs-title class_">Model</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>());
          }
          <span class="hljs-comment">// æ·»åŠ å½“å‰å®ä¾‹åˆ°çˆ¶å®ä¾‹çš„å­åˆ—è¡¨</span>
          parentInstanceData.<span class="hljs-property">children</span>.<span class="hljs-title function_">get</span>(createModel <span class="hljs-keyword">as</span> <span class="hljs-title class_">Model</span>)?.<span class="hljs-title function_">set</span>(id, instance <span class="hljs-keyword">as</span> <span class="hljs-title class_">ModelInstance</span>);
        }
      }
    }

    <span class="hljs-comment">// 1.10 ç­‰å¾…é¦–æ¬¡æ¸²æŸ“å®Œæˆï¼Œè¿”å›å®ä¾‹å¯¹è±¡</span>
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">0</span>));
    <span class="hljs-keyword">const</span> <span class="hljs-attr">instance</span>: <span class="hljs-title class_">ModelInstance</span>&lt;<span class="hljs-title class_">State</span>, <span class="hljs-title class_">DerivedState</span>&gt; = {
      id,
      <span class="hljs-comment">// 2. å®ç° useStateï¼šæ”¯æŒè®¢é˜…çŠ¶æ€ï¼Œå¯é€‰ä¼ å…¥é€‰æ‹©å™¨</span>
      <span class="hljs-attr">useState</span>: <span class="hljs-function">(<span class="hljs-params">selector?: (state: State &amp; DerivedState) =&gt; <span class="hljs-built_in">any</span></span>) =&gt;</span> {
        <span class="hljs-comment">// åˆ©ç”¨ useSyncExternalStore å®ç°çŠ¶æ€è®¢é˜…ï¼ˆReact 18+ æ¨èï¼‰</span>
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">useSyncExternalStore</span>(
          <span class="hljs-function">(<span class="hljs-params">onStoreChange</span>) =&gt;</span> {
            stateUpdaters.<span class="hljs-title function_">add</span>(onStoreChange);
            <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> stateUpdaters.<span class="hljs-title function_">delete</span>(onStoreChange);
          },
          <span class="hljs-function">() =&gt;</span> selector ? <span class="hljs-title function_">selector</span>(currentState) : currentState,
          <span class="hljs-function">() =&gt;</span> selector ? <span class="hljs-title function_">selector</span>(currentState) : currentState
        );
      },
      <span class="hljs-comment">// 3. å®ç° getChildrenï¼šè·å–æŒ‡å®šå­æ¨¡å‹çš„æ‰€æœ‰å®ä¾‹</span>
      <span class="hljs-attr">getChildren</span>: <span class="hljs-function">(<span class="hljs-params">model</span>) =&gt;</span> {
        <span class="hljs-keyword">return</span> instanceData.<span class="hljs-property">children</span>.<span class="hljs-title function_">get</span>(model) || <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
      },
      <span class="hljs-comment">// 4. å®ç° useChildrenï¼šè®¢é˜…æŒ‡å®šå­æ¨¡å‹çš„å®ä¾‹å˜åŒ–</span>
      <span class="hljs-attr">useChildren</span>: <span class="hljs-function">(<span class="hljs-params">model</span>) =&gt;</span> {
        <span class="hljs-comment">// è®¢é˜…å­å®ä¾‹å˜åŒ–ï¼ˆè¿™é‡Œç®€åŒ–å¤„ç†ï¼Œå®é™…å¯ä¼˜åŒ–ä¸ºæ›´ç²¾ç»†çš„è®¢é˜…ï¼‰</span>
        <span class="hljs-title function_">useSyncExternalStore</span>(
          <span class="hljs-function">(<span class="hljs-params">onStoreChange</span>) =&gt;</span> {
            stateUpdaters.<span class="hljs-title function_">add</span>(onStoreChange);
            <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> stateUpdaters.<span class="hljs-title function_">delete</span>(onStoreChange);
          },
          <span class="hljs-function">() =&gt;</span> instanceData.<span class="hljs-property">children</span>.<span class="hljs-title function_">get</span>(model) || <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(),
          <span class="hljs-function">() =&gt;</span> instanceData.<span class="hljs-property">children</span>.<span class="hljs-title function_">get</span>(model) || <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>()
        );
        <span class="hljs-keyword">return</span> instanceData.<span class="hljs-property">children</span>.<span class="hljs-title function_">get</span>(model) || <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
      },
      <span class="hljs-comment">// 5. å®ç° removeChildrenï¼šç§»é™¤æŒ‡å®šå­æ¨¡å‹çš„æŒ‡å®šå®ä¾‹</span>
      <span class="hljs-attr">removeChildren</span>: <span class="hljs-function">(<span class="hljs-params">model, childId</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> childMap = instanceData.<span class="hljs-property">children</span>.<span class="hljs-title function_">get</span>(model);
        <span class="hljs-keyword">if</span> (childMap &amp;&amp; childMap.<span class="hljs-title function_">has</span>(childId)) {
          <span class="hljs-comment">// é”€æ¯å­å®ä¾‹</span>
          <span class="hljs-keyword">const</span> childInstance = childMap.<span class="hljs-title function_">get</span>(childId);
          childInstance?.<span class="hljs-title function_">destroy</span>();
          childMap.<span class="hljs-title function_">delete</span>(childId);
        }
      },
      destroy
    };
    <span class="hljs-keyword">return</span> instance;
  };

  <span class="hljs-comment">// 6. å®ç° get æ–¹æ³•ï¼šè·å–æŒ‡å®š id çš„å®ä¾‹</span>
  <span class="hljs-keyword">const</span> get = (<span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">ModelInstance</span>&lt;<span class="hljs-title class_">State</span>, <span class="hljs-title class_">DerivedState</span>&gt; | <span class="hljs-function"><span class="hljs-params">undefined</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> instanceData = instances.<span class="hljs-title function_">get</span>(id);
    <span class="hljs-keyword">if</span> (!instanceData) <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;
    <span class="hljs-comment">// è¿”å›å®ä¾‹å¯¹è±¡ï¼ˆä¸ create ä¸­è¿”å›çš„ç»“æ„ä¸€è‡´ï¼‰</span>
    <span class="hljs-keyword">return</span> {
      id,
      <span class="hljs-attr">useState</span>: <span class="hljs-function">(<span class="hljs-params">selector?</span>) =&gt;</span> {
        <span class="hljs-keyword">return</span> selector ? <span class="hljs-title function_">selector</span>(instanceData.<span class="hljs-property">state</span>) : instanceData.<span class="hljs-property">state</span>;
      },
      <span class="hljs-attr">getChildren</span>: <span class="hljs-function">(<span class="hljs-params">model</span>) =&gt;</span> instanceData.<span class="hljs-property">children</span>.<span class="hljs-title function_">get</span>(model) || <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(),
      <span class="hljs-attr">useChildren</span>: <span class="hljs-function">(<span class="hljs-params">model</span>) =&gt;</span> instanceData.<span class="hljs-property">children</span>.<span class="hljs-title function_">get</span>(model) || <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(),
      <span class="hljs-attr">removeChildren</span>: <span class="hljs-function">(<span class="hljs-params">model, childId</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> childMap = instanceData.<span class="hljs-property">children</span>.<span class="hljs-title function_">get</span>(model);
        <span class="hljs-keyword">if</span> (childMap) childMap.<span class="hljs-title function_">delete</span>(childId);
      },
      <span class="hljs-attr">destroy</span>: instanceData.<span class="hljs-property">destroy</span>
    };
  };

  <span class="hljs-keyword">return</span> { create, get };
}
</code></pre>
<h3 data-id="heading-4">å®ç°è¯´æ˜ä¸æ ¸å¿ƒäº®ç‚¹</h3>
<ol>
<li>
<p><strong>ä¾èµ–ä¸ç±»å‹å°è£…</strong>ï¼šæ˜ç¡®å¼•å…¥ <code>react-nil</code> çš„ <code>createRoot</code> ç”¨äºå¯åŠ¨é€»è¾‘ç»„ä»¶æ¸²æŸ“ï¼Œè¡¥å……ç±»å‹å®šä¹‰è®©ä»£ç æ›´æ˜“ç»´æŠ¤ï¼Œé¿å…æ»¥ç”¨ <code>any</code>ã€‚</p>
</li>
<li>
<p><strong>å®ä¾‹å­˜å‚¨è®¾è®¡</strong>ï¼šç”¨ <code>Map</code> å­˜å‚¨å½“å‰æ¨¡å‹çš„æ‰€æœ‰å®ä¾‹ï¼Œé”®ä¸ºå®ä¾‹ IDï¼Œå€¼åŒ…å« <code>react-nil</code> æ ¹èŠ‚ç‚¹ã€å½“å‰çŠ¶æ€ã€çŠ¶æ€æ›´æ–°å‡½æ•°ã€å­å®ä¾‹åˆ—è¡¨å’Œé”€æ¯å‡½æ•°ï¼Œç¡®ä¿å®ä¾‹çš„å…¨ç”Ÿå‘½å‘¨æœŸå¯æ§ã€‚</p>
</li>
<li>
<p><strong>é€»è¾‘ç»„ä»¶æ ¸å¿ƒ</strong>ï¼šå†…éƒ¨å®šä¹‰çš„ <code>LogicComponent</code> æ˜¯æ ¸å¿ƒè½½ä½“â€”â€”åˆå§‹åŒ–çŠ¶æ€ï¼ˆè°ƒç”¨ç”¨æˆ·ä¼ å…¥çš„ <code>initState</code>ï¼‰ã€æ‰§è¡Œä¸šåŠ¡é€»è¾‘ï¼ˆè°ƒç”¨ <code>hook</code> å‡½æ•°ï¼‰ã€åˆå¹¶åŸå§‹çŠ¶æ€ä¸è¡ç”ŸçŠ¶æ€ï¼Œä¸”å§‹ç»ˆè¿”å› <code>null</code> ä¸æ¸²æŸ“ UIï¼Œå®Œå…¨å¥‘åˆ <code>react-nil</code> çš„ç‰¹æ€§ã€‚</p>
</li>
<li>
<p><strong>çŠ¶æ€è®¢é˜…æœºåˆ¶</strong>ï¼šåˆ©ç”¨ React 18+ æ¨èçš„ <code>useSyncExternalStore</code> å®ç°çŠ¶æ€è®¢é˜…ï¼Œç¡®ä¿è§†å›¾ç»„ä»¶è°ƒç”¨ <code>instance.useState()</code> æ—¶èƒ½å®æ—¶å“åº”çŠ¶æ€å˜åŒ–ï¼Œä¸”æ”¯æŒä¼ å…¥é€‰æ‹©å™¨ç²¾å‡†è®¢é˜…éƒ¨åˆ†çŠ¶æ€ï¼Œå‡å°‘ä¸å¿…è¦çš„é‡æ¸²æŸ“ã€‚</p>
</li>
<li>
<p><strong>çˆ¶å­å®ä¾‹å…³è”</strong>ï¼šåˆ›å»ºå®ä¾‹æ—¶æ”¯æŒä¼ å…¥çˆ¶å®ä¾‹ï¼Œè‡ªåŠ¨å°†å½“å‰å®ä¾‹æ·»åŠ åˆ°çˆ¶å®ä¾‹çš„å­å®ä¾‹åˆ—è¡¨ï¼›é”€æ¯å®ä¾‹æ—¶è‡ªåŠ¨ä»çˆ¶å®ä¾‹ä¸­ç§»é™¤ï¼ŒåŒæ—¶å¸è½½ <code>react-nil</code> æ ¹èŠ‚ç‚¹ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚</p>
</li>
</ol>
<p>è‡³æ­¤ï¼Œ<code>createModel</code> çš„æ ¸å¿ƒå®ç°å·²å®Œæˆï¼Œå®Œå…¨è¦†ç›–äº†å‰æ–‡æ„æ€çš„æ‰€æœ‰ä½¿ç”¨åœºæ™¯ï¼Œå®ç°äº†é€»è¾‘ä¸è§†å›¾çš„å½»åº•åˆ†ç¦»ï¼ŒåŒæ—¶å……åˆ†å¤ç”¨äº† React çš„ Hooks ç”Ÿæ€å’Œç”Ÿå‘½å‘¨æœŸèƒ½åŠ›ã€‚ï¼ˆç»ˆäºå¯ä»¥å¸è½½ zustand äº†ï¼‰</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>