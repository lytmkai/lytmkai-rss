<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[echartsé¥¼å›¾å½“é¼ æ ‡ç§»ä¸Šå»åï¼Œé«˜äº®è‰²æ€ä¹ˆè®¾ç½®ä¸ºæ‰‡å½¢æœ¬èº«çš„é¢œè‰²ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7599690133117419554</link>    <guid>https://juejin.cn/post/7599690133117419554</guid>    <pubDate>2026-01-27T03:05:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599690133117419554" data-draft-id="7599586891085037602" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="echartsé¥¼å›¾å½“é¼ æ ‡ç§»ä¸Šå»åï¼Œé«˜äº®è‰²æ€ä¹ˆè®¾ç½®ä¸ºæ‰‡å½¢æœ¬èº«çš„é¢œè‰²ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,ECharts"/> <meta itemprop="datePublished" content="2026-01-27T03:05:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°é»‘çš„é“ç²‰"/> <meta itemprop="url" content="https://juejin.cn/user/2225067266412605"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            echartsé¥¼å›¾å½“é¼ æ ‡ç§»ä¸Šå»åï¼Œé«˜äº®è‰²æ€ä¹ˆè®¾ç½®ä¸ºæ‰‡å½¢æœ¬èº«çš„é¢œè‰²ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2225067266412605/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°é»‘çš„é“ç²‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T03:05:41.000Z" title="Tue Jan 27 2026 03:05:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="zenburn">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#3f3f3f;color:#dcdcdc}.hljs-keyword,.hljs-selector-tag,.hljs-tag{color:#e3ceab}.hljs-template-tag{color:#dcdcdc}.hljs-number{color:#8cd0d3}.hljs-attribute,.hljs-template-variable,.hljs-variable{color:#efdcbc}.hljs-literal{color:#efefaf}.hljs-subst{color:#8f8f8f}.hljs-name,.hljs-section,.hljs-selector-class,.hljs-selector-id,.hljs-title,.hljs-type{color:#efef8f}.hljs-bullet,.hljs-link,.hljs-symbol{color:#dca3a3}.hljs-built_in,.hljs-builtin-name,.hljs-deletion,.hljs-string{color:#cc9393}.hljs-addition,.hljs-comment,.hljs-meta,.hljs-quote{color:#7f9f7f}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0">ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¯å½¢å›¾ï¼Œé¼ æ ‡æœªç§»åˆ°é¥¼å›¾ä¸Šæ—¶</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee3735568e5445c0b8a75604c788c49b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6buR55qE6ZOB57KJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088378&amp;x-signature=J%2BsyjPSwfHWJ5pagPBW3rk8TYFs%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<h4 data-id="heading-1">å½“é¼ æ ‡ç§»åŠ¨åˆ°æ—¶é•¿å¼‚å¸¸éƒ¨åˆ†æ—¶ï¼Œå› ä¸ºè®¾ç½®äº†é«˜äº®çš„åŸå› å†åŠ ä¸Šæœ¬èº«é¢œè‰²å°±æµ…ï¼Œçœ‹èµ·æ¥åƒæ¢äº†ç§é¢œè‰²</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/27a4fbc70c0344c0a10761893a2f6b88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6buR55qE6ZOB57KJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088378&amp;x-signature=djhoqWi8Aeh%2F%2BRnwtDjI1bdVyvI%3D" alt="hover.png" loading="lazy"/></p>
<h4 data-id="heading-2">å…ˆçœ‹ä¸‹ä¼˜åŒ–åçš„æ ·å­</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8946e442b1084218816abc397c6043ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6buR55qE6ZOB57KJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088378&amp;x-signature=LpCAaOzB%2BfF8%2FaKk2Arh6sNtDuE%3D" alt="-hover-ok.png" loading="lazy"/></p>
<p>å¯¹æ¯”æ˜æ˜¾å§ã€‚</p>
<p>å¦‚ä½•åœ¨è®¾ç½®äº†emphasisé«˜äº®é…ç½®æ—¶ï¼Œä¿æŒæ‰‡å½¢çš„é¢œè‰²ä¸ºæœ¬èº«çš„é¢œè‰²å‘¢ï¼Œæ¢å¥è¯è¯´ï¼Œæƒ³è¦ä¿ç•™é«˜äº®çš„å…¶å®ƒé…ç½®ï¼Œæ¯”å¦‚æ”¾å¤§ï¼Œè¾¹æ¡†ç­‰ç­‰ï¼Œä½†é¢œè‰²ä¸è¦é«˜äº®å±•ç¤ºï¼Œè¯¥å¦‚ä½•è®¾ç½®å‘¢ï¼Ÿ</p>
<pre><code class="hljs language-js" lang="js">
option = {
  <span class="hljs-attr">series</span>: [
   {
       <span class="hljs-string">"name"</span>:<span class="hljs-string">"è¿è¡ŒçŠ¶æ€"</span>,
       <span class="hljs-string">"type"</span>:<span class="hljs-string">"pie"</span>,
       <span class="hljs-string">"startAngle"</span>:<span class="hljs-number">90</span>,
       <span class="hljs-string">"radius"</span>:[
           <span class="hljs-string">"58%"</span>,
           <span class="hljs-string">"73%"</span>
       ],
       <span class="hljs-string">"center"</span>:[
           <span class="hljs-string">"50%"</span>,
           <span class="hljs-string">"50%"</span>
       ],
       <span class="hljs-attr">animation</span>: <span class="hljs-literal">true</span>,
       <span class="hljs-string">"selectedoffset"</span>:<span class="hljs-number">3</span>,
       <span class="hljs-comment">//è¿™é‡Œè®¾ç½®ç»Ÿä¸€æ‚¬åœæ ·å¼</span>
       <span class="hljs-attr">emphasis</span>:{
               
           <span class="hljs-string">"scale"</span>: <span class="hljs-literal">true</span>,
           <span class="hljs-string">"scalesize"</span>:<span class="hljs-number">6</span>,
           <span class="hljs-attr">itemStyle</span>:{
               <span class="hljs-comment">// "shadowBlur": 20,</span>
               <span class="hljs-comment">// "shadowColor":"rgba(0,0,0,1)",</span>
               <span class="hljs-string">"borderWidth"</span>: <span class="hljs-number">3</span>,
               <span class="hljs-string">"borderColor"</span>: <span class="hljs-string">"#fff"</span>,
                
           }
       },
       <span class="hljs-string">"label"</span>:{
           <span class="hljs-string">"padding"</span>:[
               <span class="hljs-number">15</span>,
               <span class="hljs-number">0</span>,
               <span class="hljs-number">0</span>,
               <span class="hljs-number">0</span>
           ],
           <span class="hljs-string">"color"</span>:<span class="hljs-string">"#4E5969"</span>,
           <span class="hljs-string">"fontSize"</span>:<span class="hljs-number">14</span>,
           <span class="hljs-string">"formatter"</span>:<span class="hljs-string">"{b|{b}} {d|{c}%}\n"</span>,
           <span class="hljs-string">"rich"</span>:{
               <span class="hljs-string">"b"</span>:{
                   <span class="hljs-string">"fontSize"</span>:<span class="hljs-number">14</span>,
                   <span class="hljs-string">"color"</span>:<span class="hljs-string">"#4E5969"</span>
               },
               <span class="hljs-string">"d"</span>:{
                   <span class="hljs-string">"fontSize"</span>:<span class="hljs-number">16</span>,
                   <span class="hljs-string">"fontWeight"</span>:<span class="hljs-number">600</span>,
                   <span class="hljs-string">"fontFamily"</span>:<span class="hljs-string">"DINAlternate-Bold, DINAlternate"</span>,
                   <span class="hljs-string">"color"</span>:<span class="hljs-string">"#4E5969"</span>
               }
           }
       },
       <span class="hljs-string">"labelLine"</span>:{
           <span class="hljs-string">"length2"</span>:<span class="hljs-number">4</span>
       },
       <span class="hljs-string">"data"</span>:[
           {
               <span class="hljs-string">"name"</span>:<span class="hljs-string">"æ—¶é•¿å¼‚å¸¸"</span>,
               <span class="hljs-string">"value"</span>:<span class="hljs-number">41.63</span>,
                <span class="hljs-attr">originalColor</span>: <span class="hljs-string">"#91caff"</span>,
               <span class="hljs-string">"itemStyle"</span>:{
                   <span class="hljs-string">"color"</span>:<span class="hljs-string">"#91caff"</span>,
                   <span class="hljs-string">"borderColor"</span>:<span class="hljs-string">"#fff"</span>,
                   <span class="hljs-string">"borderWidth"</span>:<span class="hljs-number">2</span>
               },
               <span class="hljs-comment">// ç­”æ¡ˆåœ¨è¿™é‡Œ---&gt;&gt;&gt;é¼ æ ‡æ‚¬åœï¼Œé¢œè‰²ä¸é«˜äº®ï¼Œä¸”ä½¿ç”¨æ‰‡å½¢æœ¬èº«é¢œè‰²</span>
                 <span class="hljs-attr">emphasis</span>:{
                     <span class="hljs-string">"itemStyle"</span>:{
                         <span class="hljs-string">"color"</span>:<span class="hljs-string">"#91caff"</span>,
                      
                    }
                }
           },
           {
               <span class="hljs-string">"name"</span>:<span class="hljs-string">"æ—¶é•¿æ­£å¸¸"</span>,
               <span class="hljs-string">"value"</span>:<span class="hljs-number">51.58</span>,
               <span class="hljs-string">"itemStyle"</span>:{
                   <span class="hljs-string">"color"</span>:<span class="hljs-string">"#358EFE"</span>,
                   <span class="hljs-string">"borderColor"</span>:<span class="hljs-string">"#fff"</span>,
                   <span class="hljs-string">"borderWidth"</span>:<span class="hljs-number">2</span>
               },
               <span class="hljs-attr">emphasis</span>:{
                   <span class="hljs-string">"itemStyle"</span>:{
                       <span class="hljs-string">"color"</span>:<span class="hljs-string">"#358EFE"</span>,
                      
                   }
               }
           },
           {
               <span class="hljs-string">"name"</span>:<span class="hljs-string">"æ— æ—¶é•¿"</span>,
               <span class="hljs-string">"value"</span>:<span class="hljs-number">6.79</span>,
               <span class="hljs-string">"itemStyle"</span>:{
                   <span class="hljs-string">"color"</span>:<span class="hljs-string">"#12C2C1"</span>,
                   <span class="hljs-string">"borderColor"</span>:<span class="hljs-string">"#fff"</span>,
                   <span class="hljs-string">"borderWidth"</span>:<span class="hljs-number">2</span>
               },
               <span class="hljs-attr">emphasis</span>:{
                   <span class="hljs-string">"itemStyle"</span>:{
                       <span class="hljs-string">"color"</span>:<span class="hljs-string">"#12C2C1"</span>,
                      
                   }
               }
           }
       ]
   }
]
};


</code></pre>
<h2 data-id="heading-3">è§£å†³</h2>
<p>è®¾ç½®äº†ç»Ÿä¸€çš„æ‚¬åœæ ·å¼åï¼Œåœ¨å•ä¸ªdataä¸­è®¾ç½®ä¸‹æ‚¬åœæ—¶æ ·å¼çš„colorå³å¯~Nice..</p>
<p>å½“ç„¶äº†ï¼Œä¸€èˆ¬ä¸ä¼šè¿™ä¹ˆç»†è‡´ï¼Œä½†æœ‰æ—¶å€™ç¡®å®ä¼šå› ä¸ºé¢œè‰²çš„æ·±æµ…å½±å“UIè§†è§‰æ•ˆæœï¼Œè¿™æ—¶å€™å»æ‰¾AIä¹Ÿæ²¡ç»™å‡ºæœ€ç®€å•çš„ç­”æ¡ˆï¼ŒAIè¦åœ¨ç»Ÿä¸€æ‚¬åœé‚£è®¾ç½®colorçš„å‡½æ•°ï¼Œè¯•äº†ä¸‹ï¼Œå¹¶ä¸è¡Œã€‚æ€»ä¹‹è®°å½•ä¸‹ï¼Œæˆ–è®¸æœ‰äººä¼šç”¨åˆ°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‡ ç§ä¾èµ–æ³¨å…¥çš„ä½¿ç”¨åœºæ™¯ - InversifyJSä¸ºä¾‹]]></title>    <link>https://juejin.cn/post/7599581204860813338</link>    <guid>https://juejin.cn/post/7599581204860813338</guid>    <pubDate>2026-01-27T03:12:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599581204860813338" data-draft-id="7599614131422969865" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‡ ç§ä¾èµ–æ³¨å…¥çš„ä½¿ç”¨åœºæ™¯ - InversifyJSä¸ºä¾‹"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2026-01-27T03:12:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="irises"/> <meta itemprop="url" content="https://juejin.cn/user/3030697436261735"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‡ ç§ä¾èµ–æ³¨å…¥çš„ä½¿ç”¨åœºæ™¯ - InversifyJSä¸ºä¾‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3030697436261735/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    irises
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T03:12:33.000Z" title="Tue Jan 27 2026 03:12:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¾èµ–æ³¨å…¥ä¸ä»…ä»…æ˜¯ä¸€ä¸ªè®©ä»£ç çœ‹èµ·æ¥â€œé«˜çº§â€çš„å·¥å…·ï¼Œå®ƒçš„æ ¸å¿ƒä»·å€¼åœ¨äº<strong>è§£è€¦</strong>ã€‚é€šè¿‡å°†å¯¹è±¡çš„â€œåˆ›å»ºæƒâ€ä»ä¸šåŠ¡é€»è¾‘ä¸­å‰¥ç¦»å¹¶äº¤ç»™å®¹å™¨ï¼Œæˆ‘ä»¬èƒ½è·å¾—æé«˜çš„çµæ´»æ€§ã€‚</p>
<blockquote>
<p>å…³äºä¾èµ–æ³¨å…¥ç›¸å…³æ¦‚å¿µå¯å‚è€ƒ<a href="https://juejin.cn/post/7333421776459923465?searchId=20260127102011C9D7CD7EB5885DF2B803#heading-0" target="_blank" title="https://juejin.cn/post/7333421776459923465?searchId=20260127102011C9D7CD7EB5885DF2B803#heading-0">ä¾èµ–æ³¨å…¥çš„è‰ºæœ¯ï¼šç¼–å†™å¯æ‰©å±• JavaScript ä»£ç çš„ç§˜å¯†</a></p>
</blockquote>
<p>ä»¥ä¸‹æ˜¯<strong>ä¾èµ–æ³¨å…¥</strong>æœ€å…·ä»£è¡¨æ€§çš„äº”ä¸ªä½¿ç”¨åœºæ™¯ã€‚</p>
<hr/>
<h2 data-id="heading-0">1. å•å…ƒæµ‹è¯• (Unit Testing)</h2>
<p><strong>ç—›ç‚¹ï¼š</strong> å½“ä¸šåŠ¡ç±»ç›´æ¥ <code>new</code> ä¾èµ–æ—¶ï¼Œæµ‹è¯•è¯¥ç±»å°±å¿…é¡»æ‰§è¡Œä¾èµ–çš„çœŸå®é€»è¾‘ï¼ˆå¦‚çœŸå®æ‰£æ¬¾ã€çœŸå®å†™åº“ï¼‰ï¼Œå¯¼è‡´æµ‹è¯•ç¼“æ…¢ä¸”å±é™©ã€‚</p>
<h3 data-id="heading-1">âŒ æ–¹å¼ Aï¼šä¸ä½¿ç”¨ InversifyJS (å¼ºè€¦åˆ)</h3>
<p><code>OrderService</code> å†…éƒ¨å¼ºè¡Œä¾èµ–äº† <code>RealPayment</code>ã€‚è¦æµ‹è¯• <code>checkout</code> æ–¹æ³•ï¼Œä½ å¿…é¡»çœŸçš„å‘èµ·æ”¯ä»˜ï¼Œæ— æ³•è½»æ¾ Mockã€‚</p>
<p>TypeScript</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å…·ä½“çš„æ”¯ä»˜å®ç°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">RealPayment</span> {
    <span class="hljs-title function_">pay</span>(<span class="hljs-params">amount: <span class="hljs-built_in">number</span></span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`$$$ è°ƒç”¨é“¶è¡Œæ¥å£æ‰£æ¬¾: <span class="hljs-subst">${amount}</span>`</span>); <span class="hljs-comment">// çœŸå®å‰¯ä½œç”¨</span>
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-attr">payment</span>: <span class="hljs-title class_">RealPayment</span>;

    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// ğŸ˜± è‡´å‘½ç¼ºé™·ï¼šç¡¬ç¼–ç ä¾èµ–ï¼Œæµ‹è¯•æ—¶æ— æ³•æ›¿æ¢ï¼</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">payment</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RealPayment</span>();
    }

    <span class="hljs-title function_">checkout</span>(<span class="hljs-params">amount: <span class="hljs-built_in">number</span></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">payment</span>.<span class="hljs-title function_">pay</span>(amount);
    }
}
</code></pre>
<h3 data-id="heading-2">âœ… æ–¹å¼ Bï¼šä½¿ç”¨ InversifyJS (ä¾èµ–æŠ½è±¡)</h3>
<p>ä¸šåŠ¡ç±»åªä¾èµ–æ¥å£ <code>IPayment</code>ã€‚åœ¨å•å…ƒæµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®¹å™¨ç»‘å®šä¸€ä¸ª <code>MockPayment</code>ï¼Œè½»æ¾éš”ç¦»å‰¯ä½œç”¨ã€‚</p>
<p>TypeScript</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// 1. å®šä¹‰æ¥å£</span>
interface IPayment { <span class="hljs-built_in">pay</span>(amount: number): void; }

<span class="hljs-comment">// 2. ä¸šåŠ¡é€»è¾‘ (åªä¾èµ–æ¥å£)</span>
<span class="hljs-keyword">@injectable</span>()
class OrderService {
    <span class="hljs-built_in">constructor</span>(
        @inject(TYPES.Payment) private payment: IPayment // æ³¨å…¥æ¥å£
    ) {}

    <span class="hljs-built_in">checkout</span>(amount: number) {
        this<span class="hljs-selector-class">.payment</span><span class="hljs-selector-class">.pay</span>(amount);
    }
}

<span class="hljs-comment">// --- å•å…ƒæµ‹è¯•æ–‡ä»¶ spec.ts ---</span>
const testContainer = new <span class="hljs-built_in">Container</span>();

<span class="hljs-comment">// ğŸ§ª æµ‹è¯•æ—¶ï¼šç»‘å®š Mock å®ç°</span>
const mockPayment = { 
    pay: jest.<span class="hljs-built_in">fn</span>() // ä½¿ç”¨ Jest ç­‰æµ‹è¯•åº“çš„ Mock å‡½æ•°
}; 
testContainer<span class="hljs-selector-class">.bind</span>(TYPES.Payment)<span class="hljs-selector-class">.toConstantValue</span>(mockPayment);
testContainer<span class="hljs-selector-class">.bind</span>(OrderService)<span class="hljs-selector-class">.toSelf</span>();

const service = testContainer<span class="hljs-selector-class">.get</span>(OrderService);
service<span class="hljs-selector-class">.checkout</span>(<span class="hljs-number">100</span>);

<span class="hljs-comment">// æ–­è¨€ï¼šéªŒè¯æ˜¯å¦è°ƒç”¨äº† mock æ–¹æ³•ï¼Œè€Œä¸æ˜¯çœŸçš„æ‰£æ¬¾</span>
<span class="hljs-built_in">expect</span>(mockPayment.pay)<span class="hljs-selector-class">.toHaveBeenCalledWith</span>(<span class="hljs-number">100</span>);
</code></pre>
<hr/>
<h2 data-id="heading-3">2. å¯æ›¿æ¢çš„ç»„ä»¶ (Swappable Components)</h2>
<p><strong>ç—›ç‚¹ï¼š</strong> åŒä¸€ä¸ªæ¥å£æœ‰å¤šç§å®ç°ï¼ˆä¾‹å¦‚ï¼šå­˜å‚¨ç­–ç•¥æ—¢æœ‰æœ¬åœ°å­˜å‚¨ï¼Œåˆæœ‰äº‘å­˜å‚¨ï¼‰ã€‚ä¼ ç»Ÿå†™æ³•é€šå¸¸ä¼´éšç€å¤§é‡çš„ <code>if-else</code> æˆ–å·¥å‚æ¨¡å¼ä»£ç ã€‚</p>
<h3 data-id="heading-4">âŒ æ–¹å¼ Aï¼šä¸ä½¿ç”¨ InversifyJS (å·¥å‚æ¨¡å¼/æ¡ä»¶åˆ¤æ–­)</h3>
<p>è°ƒç”¨è€…éœ€è¦çŸ¥é“å…·ä½“çš„å®ç°ç±»ï¼Œä¸”æ‰©å±•æ–°ç­–ç•¥æ—¶éœ€è¦ä¿®æ”¹å·¥å‚ä»£ç ã€‚</p>
<p>TypeScript</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">LocalStorage</span> { <span class="hljs-title function_">save</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å­˜ç¡¬ç›˜"</span>); } }
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CloudStorage</span> { <span class="hljs-title function_">save</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å­˜ AWS S3"</span>); } }

<span class="hljs-keyword">class</span> <span class="hljs-title class_">FileManager</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-attr">storage</span>: <span class="hljs-built_in">any</span>;

    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">type</span>: <span class="hljs-built_in">string</span></span>) {
        <span class="hljs-comment">// ğŸ˜± è¿åå¼€é—­åŸåˆ™ï¼šæ¯æ¬¡åŠ æ–°ç­–ç•¥éƒ½è¦æ”¹è¿™é‡Œ</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> === <span class="hljs-string">'local'</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">storage</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LocalStorage</span>();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">storage</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CloudStorage</span>();
        }
    }
}
</code></pre>
<h3 data-id="heading-5">âœ… æ–¹å¼ Bï¼šä½¿ç”¨ InversifyJS (å‘½åç»‘å®š)</h3>
<p>ä½¿ç”¨ <code>@named</code> æ ‡ç­¾ï¼Œå¯ä»¥åœ¨ä¸ä¿®æ”¹ä¸šåŠ¡é€»è¾‘ä»£ç çš„æƒ…å†µä¸‹ï¼Œçµæ´»æ³¨å…¥ä¸åŒçš„ç­–ç•¥ã€‚</p>
<p>TypeScript</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@injectable</span>()
class FileManager {
    <span class="hljs-selector-tag">constructor</span>(
        <span class="hljs-comment">// âœ¨ ä¼˜é›…ï¼šåŒæ—¶æ³¨å…¥ä¸¤ç§ç­–ç•¥ï¼ŒæŒ‰éœ€ä½¿ç”¨</span>
        <span class="hljs-variable">@inject</span>(TYPES.Storage) <span class="hljs-variable">@named</span>(<span class="hljs-string">"local"</span>) private <span class="hljs-attribute">local</span>: IStorage,
        <span class="hljs-variable">@inject</span>(TYPES.Storage) <span class="hljs-variable">@named</span>(<span class="hljs-string">"cloud"</span>) private <span class="hljs-attribute">cloud</span>: IStorage
    ) {}

    <span class="hljs-built_in">backup</span>() {
        <span class="hljs-selector-tag">this</span><span class="hljs-selector-class">.local</span><span class="hljs-selector-class">.save</span>(); <span class="hljs-comment">// å…ˆå­˜æœ¬åœ°</span>
        <span class="hljs-selector-tag">this</span><span class="hljs-selector-class">.cloud</span><span class="hljs-selector-class">.save</span>(); <span class="hljs-comment">// å†å­˜äº‘ç«¯</span>
    }
}

<span class="hljs-comment">// --- å®¹å™¨é…ç½® ---</span>
<span class="hljs-selector-tag">container</span><span class="hljs-selector-class">.bind</span>&lt;<span class="hljs-selector-tag">IStorage</span>&gt;(TYPES.Storage)<span class="hljs-selector-class">.to</span>(LocalStorage)<span class="hljs-selector-class">.whenTargetNamed</span>(<span class="hljs-string">"local"</span>);
<span class="hljs-selector-tag">container</span><span class="hljs-selector-class">.bind</span>&lt;<span class="hljs-selector-tag">IStorage</span>&gt;(TYPES.Storage)<span class="hljs-selector-class">.to</span>(CloudStorage)<span class="hljs-selector-class">.whenTargetNamed</span>(<span class="hljs-string">"cloud"</span>);
</code></pre>
<hr/>
<h2 data-id="heading-6">3. è·¨ç¯å¢ƒè¿è¡Œ (Cross-Environment Execution)</h2>
<p><strong>ç—›ç‚¹ï¼š</strong> å¼€å‘ç¯å¢ƒç”¨ SQLiteï¼Œç”Ÿäº§ç¯å¢ƒç”¨ PostgreSQLã€‚å¦‚æœä¸ä½¿ç”¨ DIï¼Œä»£ç ä¸­ä¼šå……æ–¥ç€ <code>process.env.NODE_ENV</code> çš„åˆ¤æ–­ï¼Œå¯¼è‡´ä»£ç æ··ä¹±ã€‚</p>
<h3 data-id="heading-7">âŒ æ–¹å¼ Aï¼šä¸ä½¿ç”¨ InversifyJS (ç¯å¢ƒåˆ¤æ–­æ±¡æŸ“é€»è¾‘)</h3>
<p>TypeScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseService</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// ğŸ˜± ç¯å¢ƒé…ç½®é€»è¾‘æ³„æ¼åˆ°äº†ä¸šåŠ¡ç±»ä¸­</span>
        <span class="hljs-keyword">if</span> (process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">'production'</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">connection</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PostgresConnection</span>();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">connection</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqliteConnection</span>();
        }
    }
    
    <span class="hljs-title function_">query</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">connection</span>.<span class="hljs-title function_">exec</span>(<span class="hljs-string">"SELECT * FROM users"</span>);
    }
}
</code></pre>
<h3 data-id="heading-8">âœ… æ–¹å¼ Bï¼šä½¿ç”¨ InversifyJS (å®¹å™¨æ¨¡å—åŒ–é…ç½®)</h3>
<p>ä¸šåŠ¡ä»£ç å®Œå…¨å¹²å‡€ï¼Œç¯å¢ƒåˆ‡æ¢çš„é€»è¾‘è¢«ç§»åˆ°äº†å®¹å™¨é…ç½®å±‚ï¼ˆComposition Rootï¼‰ã€‚</p>
<p>TypeScript</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. ä¸šåŠ¡ä»£ç  (å®Œå…¨ä¸çŸ¥é“å½“å‰æ˜¯ä»€ä¹ˆç¯å¢ƒ)</span>
<span class="hljs-meta">@injectable</span>()
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseService</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-meta">@inject</span>(TYPES.DbConnection) <span class="hljs-keyword">private</span> conn: IDbConnection</span>) {}
}

<span class="hljs-comment">// 2. ç¯å¢ƒé…ç½®æ¨¡å— (config.ts)</span>
<span class="hljs-keyword">const</span> devModule = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ContainerModule</span>(<span class="hljs-function">(<span class="hljs-params">bind</span>) =&gt;</span> {
    bind&lt;<span class="hljs-title class_">IDbConnection</span>&gt;(<span class="hljs-variable constant_">TYPES</span>.<span class="hljs-property">DbConnection</span>).<span class="hljs-title function_">to</span>(<span class="hljs-title class_">SqliteConnection</span>);
});

<span class="hljs-keyword">const</span> prodModule = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ContainerModule</span>(<span class="hljs-function">(<span class="hljs-params">bind</span>) =&gt;</span> {
    bind&lt;<span class="hljs-title class_">IDbConnection</span>&gt;(<span class="hljs-variable constant_">TYPES</span>.<span class="hljs-property">DbConnection</span>).<span class="hljs-title function_">to</span>(<span class="hljs-title class_">PostgresConnection</span>);
});

<span class="hljs-comment">// 3. å…¥å£æ–‡ä»¶ (index.ts)</span>
<span class="hljs-keyword">const</span> container = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Container</span>();
<span class="hljs-keyword">if</span> (process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">'production'</span>) {
    container.<span class="hljs-title function_">load</span>(prodModule); <span class="hljs-comment">// ğŸ­ åŠ è½½ç”Ÿäº§æ¨¡å—</span>
} <span class="hljs-keyword">else</span> {
    container.<span class="hljs-title function_">load</span>(devModule);  <span class="hljs-comment">// ğŸ› ï¸ åŠ è½½å¼€å‘æ¨¡å—</span>
}
</code></pre>
<hr/>
<h2 data-id="heading-9">4. æ’ä»¶å¼æ¶æ„ (Plugin Architecture)</h2>
<p><strong>ç—›ç‚¹ï¼š</strong> ç³»ç»Ÿæ ¸å¿ƒéœ€è¦åŠ è½½ç¬¬ä¸‰æ–¹æ’ä»¶ã€‚å¦‚æœä¸ä½¿ç”¨ DIï¼Œæ ¸å¿ƒç³»ç»Ÿå¿…é¡»æ‰‹åŠ¨ import å¹¶å®ä¾‹åŒ–æ’ä»¶ï¼Œè¿™ä½¿å¾—åŠ¨æ€æ‰©å±•å˜å¾—æå…¶å›°éš¾ã€‚</p>
<h3 data-id="heading-10">âŒ æ–¹å¼ Aï¼šä¸ä½¿ç”¨ InversifyJS (æ‰‹åŠ¨åˆ—è¡¨)</h3>
<p>æ ¸å¿ƒä»£ç å¿…é¡»â€œè®¤è¯†â€æ¯ä¸€ä¸ªæ’ä»¶ã€‚</p>
<p>TypeScript</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">GitPlugin</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./plugins/git"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">DockerPlugin</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./plugins/docker"</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-attr">plugins</span>: <span class="hljs-built_in">any</span>[] = [];

    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// ğŸ˜± æ‰©å±•æ€§å·®ï¼šæƒ³åŠ ä¸ªæ’ä»¶ï¼Œè¿˜å¾—æ”¹æ ¸å¿ƒä»£ç çš„æ„é€ å‡½æ•°</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">plugins</span>.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">GitPlugin</span>());
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">plugins</span>.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">DockerPlugin</span>());
    }

    <span class="hljs-title function_">run</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">plugins</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">p</span> =&gt;</span> p.<span class="hljs-title function_">exec</span>());
    }
}
</code></pre>
<h3 data-id="heading-11">âœ… æ–¹å¼ Bï¼šä½¿ç”¨ InversifyJS (å¤šé‡æ³¨å…¥ Multi-Injection)</h3>
<p>æ ¸å¿ƒç³»ç»Ÿå®šä¹‰æ¥å£ï¼Œæ’ä»¶è‡ªè¡Œæ³¨å†Œåˆ°å®¹å™¨ã€‚æ ¸å¿ƒç³»ç»Ÿè‡ªåŠ¨è·å–æ‰€æœ‰ç¬¦åˆæ¥å£çš„æ’ä»¶ã€‚</p>
<p>TypeScript</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// æ ¸å¿ƒç³»ç»Ÿ</span>
<span class="hljs-variable">@injectable</span>()
class App {
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">plugins</span>: <span class="hljs-selector-tag">IPlugin</span><span class="hljs-selector-attr">[]</span>;

    <span class="hljs-selector-tag">constructor</span>(
        <span class="hljs-comment">// âœ¨ é­”æ³•ï¼šè‡ªåŠ¨æŠŠå®¹å™¨é‡Œæ‰€æœ‰ç»‘å®šä¸º TYPES.Plugin çš„å®ä¾‹éƒ½æ³¨å…¥è¿›æ¥ï¼Œå½¢æˆæ•°ç»„</span>
        <span class="hljs-variable">@multiInject</span>(TYPES.Plugin) <span class="hljs-attribute">plugins</span>: IPlugin[]
    ) {
        <span class="hljs-selector-tag">this</span><span class="hljs-selector-class">.plugins</span> = <span class="hljs-selector-tag">plugins</span>;
    }
}

<span class="hljs-comment">// æ’ä»¶ A (ç‹¬ç«‹æ–‡ä»¶)</span>
<span class="hljs-selector-tag">bind</span>&lt;<span class="hljs-selector-tag">IPlugin</span>&gt;(TYPES.Plugin)<span class="hljs-selector-class">.to</span>(GitPlugin);

<span class="hljs-comment">// æ’ä»¶ B (ç‹¬ç«‹æ–‡ä»¶)</span>
<span class="hljs-selector-tag">bind</span>&lt;<span class="hljs-selector-tag">IPlugin</span>&gt;(TYPES.Plugin)<span class="hljs-selector-class">.to</span>(DockerPlugin);

<span class="hljs-comment">// è¿™ç§æ¨¡å¼ä¸‹ï¼Œæ–°å¢æ’ä»¶åªéœ€è¦ bind ä¸€ä¸‹ï¼Œä¸éœ€è¦ä¿®æ”¹ App ç±»çš„ä»»ä½•ä»£ç ã€‚</span>
</code></pre>
<hr/>
<h2 data-id="heading-12">5. å¤æ‚çš„ç”Ÿå‘½å‘¨æœŸç®¡ç† (Singleton vs Transient)</h2>
<p><strong>ç—›ç‚¹ï¼š</strong> æŸäº›å¯¹è±¡ï¼ˆå¦‚ç¼“å­˜ã€æ•°æ®åº“è¿æ¥æ± ï¼‰å¿…é¡»æ˜¯å…¨å±€å•ä¾‹ï¼Œè€ŒæŸäº›å¯¹è±¡ï¼ˆå¦‚ HTTP è¯·æ±‚ä¸Šä¸‹æ–‡ï¼‰å¿…é¡»æ¯æ¬¡æ–°å»ºã€‚æ‰‹åŠ¨ç®¡ç†è¿™äº›å•ä¾‹æ¨¡å¼éå¸¸å®¹æ˜“å‡ºé”™ã€‚</p>
<h3 data-id="heading-13">âŒ æ–¹å¼ Aï¼šä¸ä½¿ç”¨ InversifyJS (æ‰‹åŠ¨å•ä¾‹æ¨¡å¼)</h3>
<p>å¼€å‘è€…å¿…é¡»æ‰‹åŠ¨å®ç° Singleton æ¨¡å¼ï¼Œä»£ç å•°å—¦ä¸”éš¾ä»¥ç»´æŠ¤ã€‚</p>
<p>TypeScript</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">class</span> <span class="hljs-title">CacheService</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> instance: CacheService;
    
    <span class="hljs-comment">// ğŸ˜± æ ·æ¿ä»£ç ï¼šæ¯ä¸ªå•ä¾‹ç±»éƒ½è¦å†™è¿™ä¸€å¨é€»è¾‘</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">constructor</span>()</span> {} 

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title">getInstance</span>(): CacheService</span> {
        <span class="hljs-keyword">if</span> (!CacheService.instance) {
            CacheService.instance = <span class="hljs-keyword">new</span> CacheService();
        }
        <span class="hljs-keyword">return</span> CacheService.instance;
    }
}

<span class="hljs-comment">// ä½¿ç”¨æ—¶å¿…é¡»å°å¿ƒ</span>
<span class="hljs-keyword">const</span> cache = CacheService.getInstance();
</code></pre>
<h3 data-id="heading-14">âœ… æ–¹å¼ Bï¼šä½¿ç”¨ InversifyJS (å£°æ˜å¼ç”Ÿå‘½å‘¨æœŸ)</h3>
<p>ç±»æœ¬èº«ä¸éœ€è¦çŸ¥é“è‡ªå·±æ˜¯ä¸æ˜¯å•ä¾‹ï¼Œå…¨é å®¹å™¨é…ç½®ã€‚</p>
<p>TypeScript</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@injectable()</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CacheService</span> {
    <span class="hljs-keyword">constructor</span>() { console.log(<span class="hljs-string">"CacheService Created"</span>); }
}

<span class="hljs-meta">@injectable()</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">RequestHandler</span> {
    <span class="hljs-keyword">constructor</span>() { console.log(<span class="hljs-string">"RequestHandler Created"</span>); }
}

<span class="hljs-comment">// --- å®¹å™¨é…ç½® ---</span>
<span class="hljs-comment">// 1. å•ä¾‹ï¼šæ•´ä¸ªåº”ç”¨åªåˆ›å»ºä¸€æ¬¡</span>
container.bind(CacheService).toSelf().inSingletonScope();

<span class="hljs-comment">// 2. ç¬æ€ï¼šæ¯æ¬¡è¯·æ±‚éƒ½åˆ›å»ºæ–°çš„</span>
container.bind(RequestHandler).toSelf().inTransientScope();

<span class="hljs-comment">// --- è¿è¡Œç»“æœ ---</span>
<span class="hljs-keyword">const</span> cache1 = container.<span class="hljs-keyword">get</span>(CacheService);
<span class="hljs-keyword">const</span> cache2 = container.<span class="hljs-keyword">get</span>(CacheService);
<span class="hljs-comment">// è¾“å‡º: "CacheService Created" (åªè¾“å‡ºä¸€æ¬¡ï¼Œcache1 === cache2)</span>

<span class="hljs-keyword">const</span> handler1 = container.<span class="hljs-keyword">get</span>(RequestHandler);
<span class="hljs-keyword">const</span> handler2 = container.<span class="hljs-keyword">get</span>(RequestHandler);
<span class="hljs-comment">// è¾“å‡º: "RequestHandler Created" (è¾“å‡ºä¸¤æ¬¡ï¼Œhandler1 !== handler2)</span>
</code></pre>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CSSé€‰æ‹©å™¨ - è®¤è¯†é€‰æ‹©å™¨]]></title>    <link>https://juejin.cn/post/7599690133117517858</link>    <guid>https://juejin.cn/post/7599690133117517858</guid>    <pubDate>2026-01-27T03:14:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599690133117517858" data-draft-id="7599652649550086144" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CSSé€‰æ‹©å™¨ - è®¤è¯†é€‰æ‹©å™¨"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-27T03:14:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GinoWi"/> <meta itemprop="url" content="https://juejin.cn/user/687651121011707"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CSSé€‰æ‹©å™¨ - è®¤è¯†é€‰æ‹©å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/687651121011707/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GinoWi
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T03:14:50.000Z" title="Tue Jan 27 2026 03:14:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body{overflow:hidden;line-height:1.75;font-size:15px;background-image:linear-gradient(90deg,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0),linear-gradient(1turn,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0);background-size:20px 20px;background-position:50%;padding-top:0!important}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{position:relative;display:flex;border-bottom:5px solid #6d4e00;line-height:35px;letter-spacing:1px;font-size:25px;padding-left:25px;color:#664900;text-shadow:1px 1px 1px #8a6200;padding-bottom:0}.markdown-body h1:before{content:"";display:flex;position:absolute;left:0;top:3px;bottom:0;margin:auto;width:20px;height:20px;background-size:20px 20px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC")}.markdown-body h2{position:relative;padding:0 0 0 20px;font-size:20px;font-weight:700;color:#614500}.markdown-body h2:before{content:"";position:absolute;top:3px;bottom:0;left:0;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC");background-size:100% 100%;background-repeat:no-repeat;width:15px;height:15px;margin:auto}.markdown-body h3{width:100%;text-align:left;margin:20px 10px 0 0;font-size:18px;font-weight:700;display:inline-block;padding-left:10px;padding-bottom:0;border-left:5px solid #8f6600;color:#614500}.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:700;color:#a37400}.markdown-body h4{font-size:17px}.markdown-body h5,.markdown-body h6{display:flex;align-items:center}.markdown-body h5:after,.markdown-body h6:after{display:inline-block;border:2px solid #fff6e0;color:rgba(189,134,0,.5);border-radius:50%;text-align:center;margin-left:5px}.markdown-body h5{font-size:14px}.markdown-body h5:after{content:"5";width:15px;height:15px;line-height:15px;font-size:13px}.markdown-body h6{font-size:12px}.markdown-body h6:after{content:"6";width:13px;height:13px;line-height:13px;font-size:12px}.markdown-body p{color:#412c0c;letter-spacing:1px;font-weight:400;margin-bottom:16px}.markdown-body img{max-width:100%;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#755300;font-weight:400;border-bottom:1px solid #755300;font-weight:bolder;text-decoration:none}.markdown-body table{width:100%!important;margin:0;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border-spacing:0}.markdown-body table img{box-shadow:none}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body thead tr th{text-align:center}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;box-sizing:border-box;border:1px solid rgba(72,42,10,.1)}.markdown-body blockquote{position:relative;text-size-adjust:100%;line-height:25px;font-weight:400;border-radius:10px;font-style:normal;text-align:left;box-sizing:inherit;border:1px solid #ffd87a;background-color:rgba(189,134,0,.5);margin:20px 0;padding:20px}.markdown-body blockquote p{color:#fff6e0;letter-spacing:2px;margin:0}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;color:#cc9100;font-size:34px;font-weight:700}.markdown-body blockquote:before{content:"â";top:8px;left:5px}.markdown-body blockquote:after{content:"â";right:5px;bottom:-5px}.markdown-body strong{color:#c28a00;font-weight:bolder}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{color:#c28a00}.markdown-body em strong{font-style:normal;color:#c28a00;background-color:#8a6200}.markdown-body s{color:#c28a00}.markdown-body hr{border-top:1px solid #805b00}.markdown-body code,.markdown-body li code,.markdown-body p code{color:#996d00;background-color:rgba(130,98,0,.3)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#858585;font-family:bold;letter-spacing:1px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection,.markdown-body img::selection{color:rgba(189,134,0,.5);background-color:#fff}.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:transparent}.markdown-body pre&gt;code::selection{background-color:rgba(189,134,0,.5)}.markdown-body .math .math-inline::selection,.markdown-body blockquote::selection,.markdown-body ol::selection,.markdown-body p::selection,.markdown-body strong::selection,.markdown-body table::selection,.markdown-body ul::selection{background-color:rgba(189,134,0,.5)}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">CSSé€‰æ‹©å™¨ - è®¤è¯†é€‰æ‹©å™¨</h2>
<p>é€‰æ‹©å™¨å°±æ˜¯ç”¨äºæŸ¥æ‰¾æˆ–é€‰å–éœ€è¦è®¾ç½®CSSæ ·å¼çš„HTMLæ ‡ç­¾ã€‚</p>
<h4 data-id="heading-1">æ ‡ç­¾é€‰æ‹©å™¨</h4>
<ul>
<li>ä½œç”¨ï¼šæ ¹æ®æŒ‡å®šçš„æ ‡ç­¾åç§°ï¼Œåœ¨å½“å‰ç•Œé¢ä¸­æ‰¾åˆ°æ‰€æœ‰è¯¥åç§°çš„æ ‡ç­¾ï¼Œç„¶åè®¾ç½®å±æ€§ã€‚</li>
<li>æ ¼å¼ï¼š</li>
</ul>
<pre><code class="hljs language-css" lang="css">æ ‡ç­¾åç§°{
  å±æ€§åç§°: å±æ€§åç§°å€¼;
}
</code></pre>
<ul>
<li>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ol>
<li>æ ‡ç­¾é€‰æ‹©å™¨é€‰ä¸­çš„æ˜¯å½“å‰ç•Œé¢ä¸­æ‰€æœ‰çš„æ ‡ç­¾ï¼Œè€Œä¸èƒ½å•ç‹¬é€‰ä¸­æŸä¸€ä¸ªæ ‡ç­¾ã€‚</li>
<li>æ ‡ç­¾é€‰æ‹©å™¨æ— è®ºæ ‡ç­¾åµŒå¥—å¤šæ·±éƒ½èƒ½é€‰ä¸­ã€‚</li>
<li>åªè¦æ˜¯HTMLä¸­çš„æ ‡ç­¾å°±å¯ä»¥ä½œä¸ºæ ‡ç­¾é€‰æ‹©å™¨ã€‚</li>
</ol>
</li>
</ul>
<h4 data-id="heading-2">idé€‰æ‹©å™¨</h4>
<ul>
<li>ä½œç”¨ï¼šæ ¹æ®æŒ‡å®šçš„<code>id</code>åç§°æ‰¾åˆ°å¯¹åº”çš„æ ‡ç­¾ï¼Œç„¶åè®¾ç½®å±æ€§ã€‚</li>
<li>æ ¼å¼ï¼š</li>
</ul>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-id">#id</span>åç§°{
  å±æ€§åç§°: å±æ€§å€¼;
}
</code></pre>
<ul>
<li>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>æ¯ä¸ªHTMLæ ‡ç­¾éƒ½æœ‰ä¸€ä¸ªå±æ€§å«åš<code>id</code>ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªæ ‡ç­¾éƒ½å¯ä»¥è®¾ç½®<code>id</code>ã€‚</li>
<li>åœ¨åŒä¸€ä¸ªç•ŒHTMLé¡µé¢ä¸­<code>id</code>çš„åç§°æ˜¯ä¸å¯ä»¥é‡å¤çš„ã€‚</li>
<li>åœ¨ç¼–å†™idé€‰æ‹©å™¨çš„æ—¶å€™ä¸€å®šè¦åœ¨<code>id</code>åç§°å‰é¢åŠ ä¸Š<code>#</code>ã€‚</li>
<li><code>id</code>åç§°æ˜¯æœ‰ä¸€å®šçš„è§„èŒƒçš„ï¼šï¼ˆ1ï¼‰<code>id</code>åç§°åªèƒ½ç”±å­—æ¯/æ•°å­—ã€ä¸‹åˆ’çº¿ç»„æˆï¼›ï¼ˆ2ï¼‰<code>id</code>åç§°ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼›ï¼ˆ3ï¼‰<code>id</code>åç§°ä¸èƒ½æ˜¯HTMLæ ‡ç­¾çš„åç§°ã€‚</li>
<li>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å¦‚æœä»…ä»…æ˜¯ä¸ºäº†è®¾ç½®æ ·å¼ï¼Œæˆ‘ä»¬ä¸ä¼šä¸“é—¨ä½¿ç”¨<code>id</code>é€‰æ‹©å™¨ï¼Œå› ä¸º<code>id</code>å±æ€§ä¸€èˆ¬æ˜¯ç•™ç»™jsä½¿ç”¨çš„ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-3">ç±»é€‰æ‹©å™¨</h4>
<ul>
<li>ä½œç”¨ï¼šæ ¹æ®æŒ‡å®šçš„ç±»åç§°æ‰¾åˆ°å¯¹åº”çš„æ ‡ç­¾ï¼Œç„¶åè®¾ç½®å±æ€§ã€‚</li>
<li>æ ¼å¼ï¼š</li>
</ul>
<pre><code class="hljs language-css" lang="css">.ç±»å{
  å±æ€§åç§°: å±æ€§å€¼;
}
</code></pre>
<ul>
<li>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>æ¯ä¸ªHTMLæ ‡ç­¾éƒ½ä¸€ä¸ªå±æ€§å«åš<code>class</code>ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªæ ‡ç­¾éƒ½å¯ä»¥è®¾ç½®<code>class</code>ã€‚</li>
<li>åœ¨åŒä¸€ä¸ªHTMLç•Œé¢ä¸­<code>class</code>çš„åç§°æ˜¯å¯ä»¥é‡å¤çš„ã€‚</li>
<li>åœ¨ç¼–å†™<code>class</code>é€‰æ‹©å™¨çš„æ—¶å€™ä¸€å®šè¦åœ¨<code>class</code>åç§°å‰é¢åŠ ä¸Š<code>.</code>ã€‚</li>
<li>ç±»åçš„å‘½åè§„èŒƒå’Œ<code>id</code>çš„å‘½åè§„èŒƒä¸€æ ·ã€‚</li>
<li>ç±»åå°±æ˜¯ä¸“é—¨ç”¨æ¥ç»™æŸä¸ªç‰¹å®šçš„æ ‡ç­¾è®¾ç½®æ ·å¼çš„ã€‚</li>
<li>åœ¨HTMLä¸­æ¯ä¸ªHTMLæ ‡ç­¾å¯ä»¥åŒæ—¶ç»‘å®šå¤šä¸ªç±»åï¼Œegï¼š<code>&lt;æ ‡ç­¾åç§° class=â€œç±»å1 ç±»å2 â€¦â€¦â€œ&gt;</code>ï¼›é”™è¯¯çš„å†™æ³•ï¼š<code>&lt;p class="1" class="2"&gt;&lt;/p&gt;</code></li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>è¡¥å……å†…å®¹ï¼š</strong></p>
<ol start="0">
<li>
<p><code>id</code>å’Œ<code>class</code>çš„åŒºåˆ«ï¼Ÿ</p>
<ul>
<li><code>id</code>ç›¸å½“äºäººçš„èº«ä»½è¯ï¼Œä¸èƒ½é‡å¤ï¼›è€Œ<code>class</code>ç›¸å½“äºäººçš„åç§°ä¸èƒ½é‡å¤ã€‚</li>
<li>ä¸€ä¸ªHTMLæ ‡ç­¾åªèƒ½ç»‘å®šä¸€ä¸ª<code>id</code>åç§°ï¼Œè€Œä¸€ä¸ªHTMLæ ‡ç­¾å¯ä»¥ç»‘å®šå¤šä¸ª<code>class</code>åç§°ã€‚</li>
</ul>
</li>
<li>
<p><code>id</code>é€‰æ‹©å™¨å’Œ<code>class</code>é€‰æ‹©å™¨çš„åŒºåˆ«ï¼Ÿ</p>
<ul>
<li><code>id</code>é€‰æ‹©å™¨æ˜¯ä»¥<code>#</code>å¼€å¤´ï¼Œè€Œ<code>class</code>é€‰æ‹©å™¨ä»¥<code>.</code>å¼€å¤´ã€‚</li>
</ul>
</li>
<li>
<p>åœ¨å¼€å‘ä¸­åˆ°åº•é€‰æ‹©<code>id</code>é€‰æ‹©å™¨è¿˜æ˜¯<code>class</code>é€‰æ‹©å™¨ï¼Ÿ</p>
<ul>
<li><code>id</code>ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ç»™jsä½¿ç”¨çš„ï¼Œæ‰€ä»¥é™¤éç‰¹æ®Šæƒ…å†µï¼Œå¦åˆ™ä¸è¦ç”¨<code>id</code>é€‰æ‹©å™¨å»è®¾ç½®æ ·å¼ã€‚</li>
</ul>
</li>
</ol>
</blockquote>
<h4 data-id="heading-4">åä»£é€‰æ‹©å™¨</h4>
<ul>
<li>ä½œç”¨ï¼šæ‰¾åˆ°æŒ‡å®šæ ‡ç­¾çš„æ‰€æœ‰åä»£æ ‡ç­¾è®¾ç½®å±æ€§ã€‚ï¼ˆç»„åˆå™¨ï¼‰</li>
<li>æ ¼å¼ï¼š</li>
</ul>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/*å…ˆæ‰¾åˆ°é€‰æ‹©å™¨1æ‰€é€‰ä¸­çš„æ ‡ç­¾ï¼Œç„¶åå†åœ¨è¿™ä¸ªæ ‡ç­¾ä¸‹é¢å»æŸ¥æ‰¾æ‰€æœ‰é€‰æ‹©å™¨2æ‰€é€‰ä¸­çš„æ ‡ç­¾ï¼Œç„¶åå†è®¾ç½®å±æ€§ã€‚*/</span>
é€‰æ‹©å™¨<span class="hljs-number">1</span> é€‰æ‹©å™¨<span class="hljs-number">2</span>{
    å±æ€§: å€¼;
}
</code></pre>
<ul>
<li>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>åä»£é€‰æ‹©å™¨å¿…é¡»ç”¨ç©ºæ ¼éš”å¼€ã€‚</li>
<li>åä»£ä¸ä»…ä»…æ˜¯å­å…ƒç´ ï¼Œä¹ŸåŒ…æ‹¬å­™å­å…ƒç´ æˆ–è€…é‡å­™å­å…ƒç´ ï¼Œåªè¦æœ€ç»ˆæ˜¯æ”¾åˆ°æŒ‡å®šæ ‡ç­¾ä¸­çš„éƒ½æ˜¯åä»£ã€‚</li>
<li>åä»£é€‰æ‹©å™¨ä¸ä»…ä»…å¯ä»¥ä½¿ç”¨æ ‡ç­¾åç§°ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–é€‰æ‹©å™¨ï¼ˆidé€‰æ‹©å™¨ã€ç±»é€‰æ‹©å™¨ï¼‰ã€‚</li>
<li>åä»£é€‰æ‹©å™¨å¯ä»¥æ— é™å»¶ä¼¸ï¼Œæ— é™å‘ä¸‹å¯»æ‰¾ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-5">å­å…ƒç´ é€‰æ‹©å™¨</h4>
<ul>
<li>ä½œç”¨ï¼šæ‰¾åˆ°æŒ‡å®šæ ‡ç­¾ä¸­æ‰€æœ‰ç›´æ¥å­å…ƒç´ ï¼Œç„¶åè®¾ç½®å±æ€§ã€‚</li>
<li>æ ¼å¼ï¼š</li>
</ul>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/*å…ˆé€šè¿‡é€‰æ‹©å™¨1æ‰¾åˆ°é€‰ä¸­çš„æ ‡ç­¾ï¼Œç„¶ååœ¨è¿™ä¸ªæ ‡ç­¾ä¸­æŸ¥æ‰¾æ‰€æœ‰é€šè¿‡é€‰æ‹©å™¨2é€‰ä¸­çš„ç›´æ¥å­å…ƒç´ ã€‚*/</span>
é€‰æ‹©å™¨<span class="hljs-number">1</span> &gt; é€‰æ‹©å™¨<span class="hljs-number">2</span>{
  å±æ€§: å€¼;
}
</code></pre>
<ul>
<li>æ³¨æ„ç‚¹ï¼š</li>
</ul>
<ol>
<li>å­å…ƒç´ é€‰æ‹©å™¨åªä¼šæŸ¥æ‰¾å„¿å­ï¼Œä¸ä¼šæŸ¥æ‰¾å…¶ä»–è¢«åµŒå¥—çš„æ ‡ç­¾</li>
<li>å­å…ƒç´ é€‰æ‹©å™¨ä¹‹é—´åªèƒ½ç”±å¤§äºå·é“¾æ¥ï¼Œå¹¶ä¸”ä¸èƒ½åŠ ç©ºæ ¼</li>
<li>å­å…ƒç´ é€‰æ‹©å™¨ä¸ä»…ä»…å¯ä»¥ä½¿ç”¨æ ‡ç­¾åç§°ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–é€‰æ‹©å™¨ã€‚</li>
<li>å­å…ƒç´ é€‰æ‹©å™¨å¯ä»¥é€šè¿‡&gt;ä¸€ç›´å»¶ç»­ä¸‹å»ã€‚</li>
</ol>
<blockquote>
<p><em><strong>è¡¥å……å†…å®¹ï¼š</strong></em></p>
<p>åä»£é€‰æ‹©å™¨å’Œå­å…ƒç´ é€‰æ‹©å™¨ä¹‹é—´çš„åŒºåˆ«ï¼Ÿ</p>
<ul>
<li>åä»£é€‰æ‹©å™¨ä½¿ç”¨ç©ºæ ¼ä½œä¸ºè¿æ¥ç¬¦å·ï¼Œå­å…ƒç´ é€‰æ‹©å™¨ä½¿ç”¨<code>&gt;</code>ä½œä¸ºè¿æ¥ç¬¦å·ã€‚</li>
<li>åä»£é€‰æ‹©å™¨ä¼šé€‰ä¸­æŒ‡å®šæ ‡ç­¾ä¸­æ‰€æœ‰çš„ç‰¹å®šåä»£æ ‡ç­¾ï¼Œä¹Ÿå°±æ˜¯ä¼šé€‰ä¸­å„¿å­ã€å­™å­â€¦â€¦ï¼Œåªè¦æ˜¯è¢«æ”¾åˆ°æŒ‡å®šæ ‡ç­¾ä¸­çš„ç‰¹å®šæ ‡ç­¾éƒ½ä¼šè¢«é€‰ä¸­ã€‚</li>
<li>å­å…ƒç´ é€‰æ‹©å™¨åªä¼šé€‰ä¸­æŒ‡å®šæ ‡ç­¾ä¸­æ‰€æœ‰ç‰¹å®šçš„ç›´æ¥å­å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯åªä¼šé€‰ä¸­ç‰¹å®šçš„å„¿å­æ ‡ç­¾ã€‚</li>
</ul>
<p>åä»£é€‰æ‹©å™¨å’Œå­å…ƒç´ é€‰æ‹©å™¨çš„å…±åŒç‚¹ï¼Ÿ</p>
<ul>
<li>åä»£é€‰æ‹©å™¨å’Œå­å…ƒç´ é€‰æ‹©å™¨éƒ½å¯ä»¥ä½¿ç”¨æ ‡ç­¾åç§°/<code>id</code>åç§°/<code>class</code>åç§°æ¥ä½œä¸ºé€‰æ‹©å™¨ã€‚</li>
<li>åä»£é€‰æ‹©å™¨å’Œå­å…ƒç´ é€‰æ‹©å™¨éƒ½å¯ä»¥é€šè¿‡å„è‡ªçš„è¿æ¥ç¬¦å·ä¸€ç›´å»¶ç»­ä¸‹å»ã€‚</li>
</ul>
<p>åœ¨åç»­å¼€å‘ä¸­å¦‚ä½•ä½¿ç”¨ï¼Ÿ</p>
<ul>
<li>å¦‚æœæƒ³é€‰ä¸­æŒ‡å®šæ ‡ç­¾ä¸­æ‰€æœ‰ç‰¹å®šæ ‡ç­¾ï¼Œé‚£ä¹ˆå°±ä½¿ç”¨åä»£é€‰æ‹©å™¨</li>
<li>å¦‚æœåªæƒ³é€‰ä¸­æŒ‡å®šæ ‡ç­¾ä¸­ç‰¹å®šçš„å„¿å­æ ‡ç­¾ï¼Œé‚£ä¹ˆé€‰æ‹©å­å…ƒç´ é€‰æ‹©å™¨</li>
</ul>
</blockquote>
<h4 data-id="heading-6">äº¤é›†é€‰æ‹©å™¨</h4>
<ul>
<li>ä½œç”¨ï¼šç»™æ‰€æœ‰é€‰æ‹©å™¨é€‰ä¸­çš„æ ‡ç­¾ä¸­ï¼Œå…±åŒåŒ…å«çš„é‚£éƒ¨åˆ†æ ‡ç­¾è®¾ç½®å±æ€§ã€‚</li>
<li>æ ¼å¼ï¼š</li>
</ul>
<pre><code class="hljs language-css" lang="css">é€‰æ‹©å™¨<span class="hljs-number">1</span>é€‰æ‹©å™¨<span class="hljs-number">2</span>{
  å±æ€§: å€¼;
}
</code></pre>
<ul>
<li>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li><strong>é€‰æ‹©å™¨å’Œé€‰æ‹©å™¨ä¹‹é—´æ²¡æœ‰ä»»ä½•è¿æ¥ç¬¦å·ã€‚</strong></li>
<li>é€‰æ‹©å™¨å¯ä»¥ä½¿ç”¨æ ‡ç­¾åç§°/<code>id</code>åç§°/<code>class</code>åç§°ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-7">å¹¶é›†é€‰æ‹©å™¨</h4>
<ul>
<li>ä½œç”¨ï¼šç»™æˆ‘ä»¬æ‰€æœ‰é€‰æ‹©å™¨é€‰ä¸­çš„æ ‡ç­¾è®¾ç½®å±æ€§ã€‚</li>
<li>æ ¼å¼ï¼š</li>
</ul>
<pre><code class="hljs language-css" lang="css">é€‰æ‹©å™¨<span class="hljs-number">1</span>, é€‰æ‹©å™¨<span class="hljs-number">2</span>{
  å±æ€§: å€¼;
}
</code></pre>
<ul>
<li>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>å¹¶é›†é€‰æ‹©å™¨å¿…é¡»ä½¿ç”¨<code>,</code>æ¥è¿æ¥ã€‚</li>
<li>é€‰æ‹©å™¨å¯ä»¥ä½¿ç”¨æ ‡ç­¾åç§°/<code>id</code>åç§°/<code>class</code>åç§°ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-8">å…„å¼Ÿé€‰æ‹©å™¨</h4>
<p>å…„å¼Ÿå°±æ˜¯åŒçº§å…³ç³»ã€‚</p>
<ol>
<li>
<p>ç›¸é‚»å…„å¼Ÿé€‰æ‹©å™¨ï¼ˆCSS2ï¼‰</p>
<ul>
<li>
<p>ä½œç”¨ï¼šç»™æŒ‡å®šé€‰æ‹©å™¨åé¢ç´§è·Ÿçš„é‚£ä¸ªé€‰æ‹©å™¨é€‰ä¸­çš„æ ‡ç­¾è®¾ç½®å±æ€§ã€‚</p>
</li>
<li>
<p>æ ¼å¼ï¼š</p>
<pre><code class="hljs language-css" lang="css">é€‰æ‹©å™¨<span class="hljs-number">1</span> + é€‰æ‹©å™¨<span class="hljs-number">2</span>{
  å±æ€§: å€¼;
}
</code></pre>
</li>
<li>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>ç›¸é‚»å…„å¼Ÿé€‰æ‹©å™¨å¿…é¡»é€šè¿‡åŠ å·è¿æ¥ã€‚</li>
<li>ç›¸é‚»å…„å¼Ÿé€‰æ‹©å™¨åªèƒ½é€‰ä¸­ç´§è·Ÿå…¶åçš„é‚£ä¸ªæ ‡ç­¾ï¼Œä¸èƒ½é€‰ä¸­è¢«éš”å¼€çš„æ ‡ç­¾ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>
<p>é€šç”¨å…„å¼Ÿé€‰æ‹©å™¨ï¼ˆcss3ï¼‰</p>
<ul>
<li>
<p>ä½œç”¨ï¼šç»™æŒ‡å®šé€‰æ‹©å™¨åé¢æ‰€æœ‰é€‰æ‹©å™¨é€‰ä¸­çš„æ‰€æœ‰æ ‡ç­¾è®¾ç½®å±æ€§ã€‚</p>
</li>
<li>
<p>æ ¼å¼ï¼š</p>
<pre><code class="hljs language-css" lang="css">é€‰æ‹©å™¨<span class="hljs-number">1</span> ~ é€‰æ‹©å™¨<span class="hljs-number">2</span>{
  å±æ€§: å€¼;
}
</code></pre>
</li>
<li>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>é€šç”¨å…„å¼Ÿé€‰æ‹©å™¨å¿…é¡»ç”¨æ³¢æµªçº¿æ¥è¿æ¥ã€‚</li>
<li>é€šç”¨å…„å¼Ÿé€‰æ‹©å™¨é€‰ä¸­çš„æ˜¯æŒ‡å®šé€‰æ‹©å™¨åé¢æŸä¸ªé€‰æ‹©å™¨é€‰ä¸­çš„æ‰€æœ‰æ ‡ç­¾ï¼Œæ— è®ºæœ‰æ²¡æœ‰è¢«éš”å¼€éƒ½å¯ä»¥é€‰ä¸­ã€‚</li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 data-id="heading-9">åºé€‰æ‹©å™¨</h4>
<p>CSS3æ–°å¢é€‰æ‹©å™¨ä¸­æœ€å…·ä»£è¡¨æ€§çš„å°±æ˜¯åºé€‰æ‹©å™¨ã€‚</p>
<ul>
<li>æ ¼å¼ï¼š</li>
</ul>
<pre><code class="hljs language-css" lang="css">æ ‡ç­¾åç§°åºé€‰æ‹©å™¨{
  å±æ€§: å€¼;
}
</code></pre>
<ol>
<li>
<p>åŒçº§åˆ«ä¸­çš„ç¬¬å‡ ä¸ª</p>
<ul>
<li>
<p><code>:first-child</code>ï¼šé€‰ä¸­åŒçº§åˆ«ä¸­çš„ç¬¬ä¸€ä¸ªæ ‡ç­¾</p>
</li>
<li>
<p><code>:last-child</code>ï¼šé€‰æ‹©åŒçº§åˆ«ä¸­æœ€åä¸€ä¸ªæ ‡ç­¾</p>
</li>
<li>
<p><code>:nth-child(n)</code>ï¼šé€‰æ‹©åŒçº§åˆ«ä¸­ç¬¬nä¸ªæ ‡ç­¾</p>
</li>
<li>
<p><code>:nth-last-child(n)</code>ï¼šé€‰æ‹©åŒçº§åˆ«ä¸­å€’æ•°ç¬¬nä¸ªæ ‡ç­¾</p>
</li>
<li>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>æ’åºæ—¶ä¸ä¼šåŒºåˆ†ç±»å‹ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>
<p>åŒç±»å‹ä¸­çš„ç¬¬å‡ ä¸ª</p>
<ul>
<li><code>:first-of-type</code>ï¼šé€‰ä¸­åŒçº§åˆ«ä¸­åŒç±»å‹çš„ç¬¬ä¸€ä¸ªæ ‡ç­¾</li>
<li><code>:last-of-type</code>ï¼šé€‰ä¸­åŒçº§åˆ«ä¸­åŒç±»å‹çš„æœ€åä¸€ä¸ªæ ‡ç­¾</li>
<li><code>:nth-of-type(n)</code>ï¼š é€‰ä¸­åŒçº§åˆ«ä¸­åŒç±»å‹çš„ç¬¬nä¸ªæ ‡ç­¾</li>
<li><code>:nth-last-of-type(n)</code>ï¼šé€‰æ‹©åŒçº§åˆ«ä¸­åŒç±»å‹çš„å€’æ•°ç¬¬nä¸ªæ ‡ç­¾</li>
</ul>
</li>
<li>
<p>ç‰¹æ®Šï¼š</p>
<ul>
<li><code>:only-child</code>ï¼šé€‰ä¸­çˆ¶å…ƒç´ ä¸­å”¯ä¸€çš„å…ƒç´ </li>
<li><code>:only-of-type</code>ï¼šé€‰ä¸­çˆ¶å…ƒç´ ä¸­å”¯ä¸€ç±»å‹çš„å…ƒç´ </li>
<li><code>:nth-child(odd)</code>ï¼šé€‰ä¸­åŒçº§åˆ«ä¸­çš„å¥‡æ•°å…ƒç´ </li>
<li><code>:nth-child(even)</code>ï¼šé€‰ä¸­åŒçº§åˆ«ä¸­çš„å¶æ•°å…ƒç´ </li>
<li><code>:nth-of-type(odd)</code>ï¼š é€‰ä¸­åŒçº§åˆ«ä¸­åŒç±»å‹çš„å¥‡æ•°å…ƒç´ </li>
<li><code>:nth-of-type(even)</code>ï¼šé€‰ä¸­åŒçº§åˆ«ä¸­åŒç±»å‹çš„å¶æ•°å…ƒç´ ã€‚</li>
<li><code>:nth-child(xn+y)</code>ï¼š xå’Œyæ—¶ç”¨æˆ·è‡ªå®šä¹‰çš„ï¼Œè€Œnæ˜¯ä¸€ä¸ªè®¡æ•°å™¨ï¼Œä»0å¼€å§‹ç»Ÿè®¡ã€‚</li>
</ul>
</li>
</ol>
<h4 data-id="heading-10">å±æ€§é€‰æ‹©å™¨</h4>
<ul>
<li>
<p>ä½œç”¨ï¼šæ ¹æ®æŒ‡å®šçš„å±æ€§åç§°æ‰¾åˆ°å¯¹åº”çš„æ ‡ç­¾ï¼Œç„¶åè®¾ç½®å±æ€§</p>
</li>
<li>
<p>æ ¼å¼ï¼š</p>
<pre><code class="hljs language-css" lang="css">æ ‡ç­¾åç§°<span class="hljs-selector-attr">[attribute]</span>{
    å±æ€§: å€¼;
}
</code></pre>
</li>
<li>
<p>ä¸åŒç±»å‹å±æ€§é€‰æ‹©å™¨ï¼š</p>
<ul>
<li>
<p>æ‰¾åˆ°æœ‰æŒ‡å®šå±æ€§ï¼Œå¹¶åˆ‡æŒ‡å®šå±æ€§ç­‰äº<code>value</code>çš„æ ‡ç­¾ï¼š</p>
<pre><code class="hljs language-css" lang="css">æ ‡ç­¾åç§°<span class="hljs-selector-attr">[attribute=value]</span>{
    å±æ€§: å€¼;
}
</code></pre>
</li>
<li>
<p>é€‰å–å±æ€§å–å€¼æ˜¯ä»¥valueå¼€å¤´çš„ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/*CSS2*/</span>
æ ‡ç­¾åç§°<span class="hljs-selector-attr">[attribute|=value]</span>{
    å±æ€§: å€¼;
}
<span class="hljs-comment">/*CSS3*/</span>
æ ‡ç­¾åç§°<span class="hljs-selector-attr">[attribute^=value]</span>{
    å±æ€§: å€¼;
}
</code></pre>
<ul>
<li>
<p>åŒºåˆ«ï¼š</p>
<ul>
<li>CSS2å¼€å¤´åªèƒ½æ‰¾åˆ°<code>value</code>å¼€å¤´ï¼Œå¹¶ä¸”<code>value</code>æ˜¯ç”¨<code>-</code>ä¸å…¶ä»–å†…å®¹éš”å¼€çš„ã€‚</li>
<li>CSS3ä¸­çš„åªè¦æ˜¯ä»¥<code>value</code>å¼€å¤´çš„éƒ½å¯ä»¥æ‰¾åˆ°ï¼Œæ— è®ºæœ‰æ²¡æœ‰è¢«<code>-</code>éš”å¼€ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>
<p>å±æ€§çš„å–å€¼æ˜¯ä»¥<code>value</code>ç»“å°¾çš„ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/*CSS3*/</span>
æ ‡ç­¾åç§°<span class="hljs-selector-attr">[attribute$=value]</span>{
    å±æ€§: å€¼;
}
</code></pre>
</li>
<li>
<p>å±æ€§çš„å–å€¼æ˜¯å¦åŒ…å«æŸä¸ªç‰¹å®šçš„<code>value</code>ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/*CSS2*/</span>
æ ‡ç­¾åç§°<span class="hljs-selector-attr">[attribute~=value]</span>{
    å±æ€§: å€¼;
}
<span class="hljs-comment">/*CSS3*/</span>
æ ‡ç­¾åç§°<span class="hljs-selector-attr">[attribute*=value]</span>{
    å±æ€§: å€¼;
}
</code></pre>
<ul>
<li>
<p>åŒºåˆ«ï¼š</p>
<ul>
<li>CSS2çš„åªèƒ½æ‰¾åˆ°<code>value</code>æ˜¯ç‹¬ç«‹çš„å•è¯ï¼Œ<code>value</code>æ˜¯è¢«ç©ºæ ¼éš”å¼€çš„ã€‚</li>
<li>CSS3ä¸­åªè¦åŒ…å«<code>value</code>å°±å¯ä»¥è¢«æ‰¾åˆ°ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>æœ€å¸¸è§çš„åœºæ™¯ï¼šç”¨äºåŒºåˆ†<code>input</code>å±æ€§ã€‚</p>
</li>
</ul>
<h4 data-id="heading-11">é€šé…ç¬¦é€‰æ‹©å™¨</h4>
<ul>
<li>ä½œç”¨ï¼šç»™å½“å‰ç•Œé¢ä¸Šæ‰€æœ‰æ ‡ç­¾è®¾ç½®å±æ€§ã€‚</li>
<li>æ ¼å¼ï¼š</li>
</ul>
<pre><code class="hljs language-css" lang="css">*{
  å±æ€§: å€¼;
}
</code></pre>
<ul>
<li>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>ç”±äºé€šé…ç¬¦é€‰æ‹©å™¨æ˜¯è®¾ç½®ç•Œé¢ä¸Šæ‰€æœ‰æ ‡ç­¾çš„å±æ€§ï¼Œæ‰€ä»¥åœ¨è®¾ç½®ä¹‹å‰ä¼šéå†æ‰€æœ‰æ ‡ç­¾ï¼Œå¦‚æœå½“å‰ç•Œé¢ä¸Šçš„æ ‡ç­¾æ¯”è¾ƒå¤šï¼Œæ€§èƒ½å°±ä¼šæ¯”è¾ƒå·®ï¼Œæ‰€ä»¥ä¸€èˆ¬å¼€å‘è¿‡ç¨‹ä¸­ä¸ä¼šä½¿ç”¨ã€‚</li>
</ul>
</li>
</ul>
<p><strong>å‚è€ƒé“¾æ¥ï¼š</strong></p>
<p>W3Schoolå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3school.com.cn%2F" target="_blank" title="https://www.w3school.com.cn/" ref="nofollow noopener noreferrer">www.w3school.com.cn</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»ç†è§£åˆ°åº”ç”¨ | åœ¨ TRAE ä¸­å¿«é€Ÿä¸Šæ‰‹ Skills]]></title>    <link>https://juejin.cn/post/7599581687358963762</link>    <guid>https://juejin.cn/post/7599581687358963762</guid>    <pubDate>2026-01-27T03:01:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599581687358963762" data-draft-id="7599581204860518426" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»ç†è§£åˆ°åº”ç”¨ | åœ¨ TRAE ä¸­å¿«é€Ÿä¸Šæ‰‹ Skills"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2026-01-27T03:01:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TRAE_ai"/> <meta itemprop="url" content="https://juejin.cn/user/3048259110571032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»ç†è§£åˆ°åº”ç”¨ | åœ¨ TRAE ä¸­å¿«é€Ÿä¸Šæ‰‹ Skills
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3048259110571032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TRAE_ai
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T03:01:58.000Z" title="Tue Jan 27 2026 03:01:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a262b6d79c84e2480ea1a3b62a63b11~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088570&amp;x-signature=cPFIW%2Bt%2FukdqIVYE9hpGVvqvRKo%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>æœ¬æ–‡ä½œè€…ï¼š Amberï¼ŒTRAE äº§å“è¿è¥ ï¼›æå¥ï¼ŒTRAE å¼€å‘è€…ç”¨æˆ·</p>
</blockquote>
<p>æƒ³å…¨é¢äº†è§£ Skills åŠŸèƒ½ï¼Œä¹Ÿæ¬¢è¿é˜…è¯»ä¸Šä¸€ç¯‡æ–‡ç« ï¼š</p>
<p><a href="https://juejin.cn/post/7599528186586595338" target="_blank" title="https://juejin.cn/post/7599528186586595338">ä¸€æ–‡è¯»æ‡‚ Skillsï½œä»æ¦‚å¿µåˆ°å®æ“çš„å®Œæ•´æŒ‡å—</a></p>
<p>ä¸Šä¸€ç¯‡æ–‡ç« æˆ‘ä»¬å·²ç»æ¢³ç†äº† Skills çš„åŸç†å’Œæ“ä½œã€‚å‘å¸ƒåæˆ‘ä»¬æ”¶åˆ°äº†è®¸å¤š TRAE å‹çš„åé¦ˆï¼Œå¸Œæœ›èƒ½æœ‰ä¸€ä»½æ›´é€‚åˆæ–°æ‰‹å¿«é€Ÿä¸Šæ‰‹çš„å…¥é—¨æ‰‹å†Œï¼Œæˆ‘ä»¬ç»§ç»­æ¥è®²ä¸€è®²ã€‚</p>
<p>æœ¬æ–‡ä»æ›´è´´è¿‘æ—¥å¸¸ä½¿ç”¨çš„è§†è§’å‡ºå‘ï¼Œå¸®åŠ©ä½ ç»§ç»­ç†è§£ä»€ä¹ˆæ˜¯ Skillsï¼Œå˜æ¸…åœ¨ä¼—å¤šåŠŸèƒ½ä¸­ä½•æ—¶åº”é€‰æ‹© Skillsã€å“ªäº›å…¸å‹åœºæ™¯å°¤å…¶é€‚åˆä½¿ç”¨ Skillsï¼Œä»¥åŠä¸€ä»½ç»“æ„è§„èŒƒã€æ˜“å¤ç”¨çš„ Skills åº”å½“å¦‚ä½•ç¼–å†™ã€‚æœ€åï¼Œæˆ‘ä»¬è¿˜ä¼šé€šè¿‡ä¸€ä¸ªç®€æ´æ˜äº†çš„ç¤ºä¾‹ï¼Œç›´è§‚å±•ç¤º Skills çš„å®é™…è¾“å‡ºæ•ˆæœï¼Œå¸®åŠ©åˆå­¦è€…ä¹Ÿèƒ½å¿«é€Ÿç†è§£å¹¶åº”ç”¨ã€‚å¿«æ¥çœ‹çœ‹å§ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c8951ec9b20c433aa56eed1fb03556ba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088570&amp;x-signature=P26049wwbMXdyw7%2FJiV0nw49whc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0"><strong>Skills æ˜¯ä»€ä¹ˆ</strong></h2>
<p>å¤§å®¶æœ€å¸¸çœ‹åˆ°çš„æ˜¯ã€Œä¸€å¥è¯è§£é‡Š Skills ã€ï¼Œä½†ä»Šå¤©æˆ‘ä»¬æ¢ä¸ªè§’åº¦ï¼Œä» AI çš„ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µâ€”â€”Agent å’Œ MCPâ€”â€”è¯´èµ·ï¼Œæ¥èŠèŠä¸ºä»€ä¹ˆ Skills çš„å‡ºç°æ˜¯å¿…ä¸å¯å°‘çš„ã€‚</p>
<h3 data-id="heading-1"><strong>ä¸ºä»€ä¹ˆéœ€è¦ Agent ï¼Ÿ</strong></h3>
<p>è¦ç†è§£ Agentï¼ˆæ™ºèƒ½ä½“ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå’Œä¼ ç»Ÿçš„è½¯ä»¶å¼€å‘æ¨¡å¼åšä¸ªå¯¹æ¯”ã€‚</p>
<p>åœ¨ä¼ ç»Ÿçš„é¡¹ç›®å¼€å‘ä¸­ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦æ­å»ºä¸€ä¸ªç”µå•†å¹³å°ï¼Œé€šå¸¸éœ€è¦æ˜ç¡®åˆ’åˆ†å‡ºç”¨æˆ·æ¨¡å—ã€å•†å“æ¨¡å—ã€è®¢å•æ¨¡å—ç­‰å›ºå®šå•å…ƒã€‚è¿™äº›æ¨¡å—çš„äº¤äº’æµç¨‹æ˜¯é¢„å…ˆè®¾è®¡å¥½çš„ï¼Œéå¸¸ä¸¥æ ¼ã€‚å¦‚æœæˆ‘ä»¬æƒ³åœ¨å¼€å‘å®Œæˆåå¢åŠ ä¸€ä¸ªâ€œè´­ç‰©è½¦â€åŠŸèƒ½ï¼Œå°±å¿…é¡»ä¸­æ–­å¹¶ä¿®æ”¹åŸæœ‰çš„ä»£ç æµç¨‹ï¼Œå°†è´­ç‰©è½¦æ¨¡å—åµŒå…¥åˆ°è®¢å•æ¨¡å—ä¹‹å‰ã€‚è¿™ç§å¯¹ä¸šåŠ¡é€»è¾‘çš„è°ƒæ•´ï¼Œå¾€å¾€æ„å‘³ç€å¯¹ä»£ç çš„å¤§è§„æ¨¡é‡æ„ã€‚</p>
<p>é‚£ä¹ˆï¼Œå¦‚æœè®© Agent æ¥æ­å»ºä¸€ä¸ªç”µå•†å¹³å°ï¼Œå®ƒä¼šæ€ä¹ˆåšå‘¢ï¼ŸAgent ä¸ä¼šçº ç»“äºå¹³å°åº”è¯¥ç”±å“ªäº›å…·ä½“æ¨¡å—ç»„æˆï¼Œå®ƒåªå…³å¿ƒä¸€ä»¶äº‹ï¼šå½“ç”¨æˆ·è¾“å…¥â€œæˆ‘è¦ä¹°ä¸€ä¸ªå•†å“â€çš„æŒ‡ä»¤åï¼Œèƒ½å¦æœ€ç»ˆå®ç°â€œæˆåŠŸä»˜æ¬¾ä¹°åˆ°å•†å“â€è¿™ä¸ªç›®æ ‡ã€‚è‡³äºä¸­é—´çš„è¿‡ç¨‹æ˜¯ç”¨äº† Java è¿˜æ˜¯ Pythonï¼Œå•†å“ä¿¡æ¯æ˜¯å­˜åœ¨æ•°æ®åº“é‡Œè¿˜æ˜¯ Excel è¡¨æ ¼é‡Œï¼Œè®¢å•æ˜¯ç”¨ç³»ç»Ÿå¤„ç†è¿˜æ˜¯ç”¨é£ä¹¦å¤šç»´è¡¨æ ¼æ¥ç®¡ç†â€”â€”è¿™äº›å®ç°ç»†èŠ‚ï¼ŒAgent å¹¶ä¸åœ¨ä¹ã€‚</p>
<p>æ‰€ä»¥ï¼Œä¸ºä»€ä¹ˆéœ€è¦ Agentï¼Ÿ<strong>å› ä¸ºåœ¨ä»Šå¤©è¿™ä¸ªä¸šåŠ¡éœ€æ±‚è¶Šæ¥è¶Šå¤šæ ·åŒ–ã€åŠ¨æ€åŒ–çš„æ—¶ä»£ï¼Œæˆ‘ä»¬æ›´å…³å¿ƒç›®æ ‡æ˜¯å¦è¾¾æˆï¼Œè€Œä¸æ˜¯å®ç°ç›®æ ‡çš„å…·ä½“æ–¹å¼å’ŒæŠ€æœ¯ç»†èŠ‚ã€‚</strong> Agent æ­£æ˜¯ä¸ºè¿™ç§é¢å‘ç›®æ ‡çš„ä»»åŠ¡è€Œç”Ÿã€‚</p>
<h3 data-id="heading-2"><strong>ä¸ºä»€ä¹ˆéœ€è¦ MCP ï¼Ÿ</strong></h3>
<p>å›åˆ°æˆ‘ä»¬ä¼ ç»Ÿçš„ç”µå•†å¹³å°å¼€å‘ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦é›†æˆä¸€äº›ç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œæ¯”å¦‚æ‰‹æœºçŸ­ä¿¡éªŒè¯ã€äººè„¸è¯†åˆ«ã€å¾®ä¿¡æ”¯ä»˜æˆ–è€…ç‰©æµä¿¡æ¯æŸ¥è¯¢ã€‚è¿™äº›åŠŸèƒ½å¹¶éç”±æˆ‘ä»¬çš„ç”µå•†å¹³å°ç‹¬ç«‹å®Œæˆï¼Œè€Œæ˜¯é€šè¿‡è°ƒç”¨ç¬¬ä¸‰æ–¹æœåŠ¡çš„ API æ¥å®ç°çš„ã€‚é€šå¸¸ï¼Œè¿™äº› API éƒ½æœ‰æ˜ç¡®çš„æˆæƒå’Œè°ƒç”¨è§„åˆ™ã€‚</p>
<p>é‚£ä¹ˆï¼ŒAgent æ˜¯å¦ä¹Ÿèƒ½è°ƒç”¨è¿™äº› API å‘¢ï¼Ÿå½“ç„¶å¯ä»¥ã€‚ä½†å¦‚æœ Agent çš„å·¥ä½œæ–¹å¼å¹¶éå®Œå…¨åŸºäºä»£ç ï¼Œåˆè¦å¦‚ä½•å®ç°äººè„¸è¯†åˆ«è¿™ç±»å¤æ‚åŠŸèƒ½å‘¢ï¼Ÿè¿™æ—¶ï¼ŒMCP å°±åº”è¿è€Œç”Ÿäº†ã€‚<strong>ä½ å¯ä»¥æŠŠ MCPï¼ˆModel Context Protocolï¼‰ç†è§£ä¸ºä¸€ç§ä¸“é—¨ä¸º AI è®¾è®¡çš„â€œAPIâ€ï¼Œå®ƒè®© AI èƒ½å¤Ÿåƒä¼ ç»Ÿè½¯ä»¶ä¸€æ ·ï¼Œè°ƒç”¨å’Œä½¿ç”¨å„ç§å¤–éƒ¨æœåŠ¡çš„èƒ½åŠ›ã€‚</strong></p>
<h3 data-id="heading-3"><strong>ä¸ºä»€ä¹ˆéœ€è¦ Skillsï¼Ÿ</strong></h3>
<p>åœ¨ç†è§£äº† Agent å’Œ MCP ä¹‹åï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹ Skillsã€‚</p>
<p>å¯¹ AI æ¥è¯´ï¼Œé™¤äº†å¯ä»¥é€šè¿‡ MCP æ¥ä½¿ç”¨åˆ«äººçš„èƒ½åŠ›ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æŠŠä¸€äº›é‡å¤æ€§çš„å·¥ä½œæ‰“åŒ…å‡ºæ¥ï¼Œå˜æˆå¤§å®¶éƒ½èƒ½ç”¨çš„å·¥å…·åŒ…ï¼Œè¿™æ ·å°±å¤§å¤§çš„å‡å°‘äº†æˆ‘ä»¬ç¼–ç çš„å¤æ‚æ€§ï¼ŒåŠŸèƒ½ä¸å†å…¨éƒ¨ä¸¢ç»™æˆ‘ä»¬è‡ªå·±ä»å¤´åˆ°å°¾å†™ä¸€éäº†ï¼Œé‚£è¿™ä¸ªå·¥å…·åŒ…å°±æ˜¯ Skillsã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬éœ€è¦åœ¨åº”ç”¨é‡Œåšä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ã€‚æˆ‘ä»¬å½“ç„¶å¯ä»¥è‡ªå·±ä»å¤´å¼€å§‹å†™ä»£ç ï¼Œä½†å¦‚æœè‡ªå·±ä¸æ“…é•¿ç•Œé¢è®¾è®¡ï¼Œåšå‡ºæ¥çš„ä¸Šä¼ ç»„ä»¶å¯èƒ½ä¼šå¾ˆéš¾çœ‹ï¼Œéœ€è¦èŠ±è´¹å¤§é‡æ—¶é—´å»è°ƒæ•´æ ·å¼ã€‚ä½†å¦‚æœè¿™æ—¶å€™ï¼Œæœ‰å¦ä¸€ä½æ“…é•¿å‰åç«¯å¼€å‘çš„å·¥ç¨‹å¸ˆï¼Œå·²ç»åšäº†ä¸€ä¸ªåŠŸèƒ½å®Œå–„ã€ç•Œé¢ç¾è§‚çš„æ–‡ä»¶ä¸Šä¼ ç»„ä»¶ï¼Œå¹¶æŠŠå®ƒä½œä¸º Skill åˆ†äº«äº†å‡ºæ¥ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯å°±å¯ä»¥ç›´æ¥æ‹¿æ¥ç”¨ï¼Œè€Œä¸ç”¨åœ¨æˆ‘ä»¬ä¸æ“…é•¿çš„é¢†åŸŸé‡Œåå¤æŒ£æ‰äº†å‘¢ï¼Ÿ</p>
<p>è¿™æ­£æ˜¯ Skill çš„æ ¸å¿ƒä»·å€¼æ‰€åœ¨ã€‚</p>
<h3 data-id="heading-4"><strong>ç†è§£ä¸‰ä¸ªåŠŸèƒ½çš„å®šä½</strong></h3>
<ul>
<li>
<p><strong>Agentï¼š</strong> æ˜¯é¢å‘ç›®æ ‡çš„<strong>æ‰§è¡Œè€…</strong>ã€‚ä½ ç»™å®ƒä¸€ä¸ªç›®æ ‡ï¼ˆæ¯”å¦‚â€œæˆ‘è¦ä¹°å•†å“â€ï¼‰ï¼Œå®ƒå°±ä¼šè‡ªä¸»è§„åˆ’æµç¨‹ã€é€‰æ‹©å·¥å…·å»å®Œæˆï¼Œä¸å†å—é™äºä¼ ç»Ÿçš„æ¨¡å—åŒ–å¼€å‘æ€ç»´ã€‚</p>
</li>
<li>
<p><strong>MCPï¼š</strong> æ˜¯ AI ç”¨æ¥è°ƒç”¨å¤–éƒ¨èƒ½åŠ›çš„<strong>é€šè®¯å™¨</strong>ã€‚å®ƒå°±åƒä¼ ç»Ÿé¡¹ç›®ä¸­çš„ç¬¬ä¸‰æ–¹ APIï¼Œè®© Agent èƒ½å¤Ÿæ¥å…¥å¹¶ä½¿ç”¨æ”¯ä»˜ã€è¯†åˆ«ç­‰å¤–éƒ¨æœåŠ¡ã€‚</p>
</li>
<li>
<p><strong>Skillsï¼š</strong> æ˜¯å¯ä¾›é‡å¤ä½¿ç”¨çš„<strong>èƒ½åŠ›åŒ…</strong>ã€‚æ— è®ºæ˜¯â€œå‘é€é‚®ä»¶â€è¿˜æ˜¯â€œæ–‡ä»¶ä¸Šä¼ â€ï¼Œè¿™äº›æˆç†Ÿçš„åŠŸèƒ½éƒ½å¯ä»¥è¢«å°è£…æˆ Skillï¼Œè®© Agent å’Œ MCP èƒ½åƒä½¿ç”¨å·¥å…·ä¸€æ ·ç›´æ¥è°ƒç”¨ï¼Œé¿å…é‡å¤é€ è½®å­ã€‚</p>
</li>
</ul>
<blockquote>
<p>ç®€å•æ¥è¯´ï¼ŒSkills <strong>é€šè¿‡å›ºå®šçš„è§„åˆ™å’Œæ ‡å‡†åŒ–çš„èƒ½åŠ›ï¼Œæ¥ä¿è¯è¾“å‡ºç»“æœçš„ç¨³å®šå’Œä¸€è‡´ã€‚</strong></p>
</blockquote>
<p>å†ä¸¾ä¸ªä¾‹å­ï¼š</p>
<p>å‡è®¾ä½ è¦æ­å»ºä¸€ä¸ªç½‘ç«™ï¼Œéœ€è¦ä¸€ä¸ªå®Œæ•´çš„ç”¨æˆ·ç³»ç»Ÿã€‚ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ç°æˆçš„â€œç”¨æˆ·é‰´æƒ Skillâ€æ¥å¿«é€Ÿæ¥å…¥ç™»å½•éªŒè¯åŠŸèƒ½ï¼Œå†ç”¨â€œæ‰‹æœºéªŒè¯ç æ³¨å†Œ Skillâ€æ¥æå®šæ³¨å†Œæµç¨‹ã€‚</p>
<p>è¿™å°±æ˜¯ Skills å¸¦æ¥çš„ä¾¿åˆ©ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œæœªæ¥ç¤¾åŒºé‡Œæœ‰æˆåƒä¸Šä¸‡ä¸ªå…¬å¼€åˆ†äº«çš„ Skillsï¼Œæˆ‘ä»¬å¯ä»¥å³å–å³ç”¨ï¼Œå¼€å‘å·¥ä½œå°†å˜å¾—å‰æ‰€æœªæœ‰çš„ä¾¿æ·å’Œé«˜æ•ˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3584191ba78d422d9b188e796323c9df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088570&amp;x-signature=OC0uioaKUBsZ9DN5NLoplRtQjCU%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5"><strong>ä»€ä¹ˆæ—¶å€™è¯¥ç”¨ Skills</strong></h2>
<blockquote>
<p>ä»»ä½•æ–°åŠŸèƒ½éƒ½ä¸æ˜¯ä¸‡é‡‘æ²¹ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨åˆé€‚çš„åœºæ™¯ä½¿ç”¨å®ƒã€‚å½“ä½ éœ€è¦ä¸€ä¸ª<strong>å¯ä»¥è¢«é‡å¤ä½¿ç”¨ã€å¹¶æŒ‰éœ€è‡ªåŠ¨è°ƒç”¨</strong>çš„èƒ½åŠ›æ—¶ï¼ŒSkillsÂ å°±æ˜¯ä½ çš„æœ€ä½³é€‰æ‹©ã€‚</p>
</blockquote>
<p>åœ¨åˆ›å»º Skills ä¹‹å‰ï¼Œä¸å¦¨å…ˆé—®è‡ªå·±ä¸¤ä¸ªé—®é¢˜ï¼š<strong>è¿™ä»¶äº‹æœªæ¥ä¼šé‡å¤åšå—ï¼Ÿç”¨ä¸€å¥—æ ‡å‡†åŒ–çš„æŒ‡ä»¤æ¥å®Œæˆï¼Œæ•ˆæœä¼šä¸ä¼šæ›´å¥½ï¼Ÿ</strong></p>
<h3 data-id="heading-6"><strong>é€‚åˆç”¨ Skills çš„åœºæ™¯</strong></h3>
<ul>
<li>
<p><strong>é«˜é¢‘é‡å¤çš„æ“ä½œï¼š</strong> åŒä¸€ä¸ªæŒ‡ä»¤ä½ å·²ç»æ‰‹åŠ¨è¾“å…¥è¿‡å¾ˆå¤šæ¬¡ã€‚</p>
</li>
<li>
<p><strong>è¦æ±‚è¾“å‡ºä¸€è‡´ï¼š</strong> éœ€è¦è·¨è¶Šå¤šæ¬¡å¯¹è¯ï¼Œå§‹ç»ˆä¿æŒç›¸åŒçš„è¾“å‡ºé£æ ¼ã€æ ¼å¼æˆ–æ ‡å‡†ã€‚</p>
</li>
<li>
<p><strong>å›ºå®šçš„å·¥ä½œæµç¨‹ï¼š</strong> æœ‰ä¸€å¥—æ˜ç¡®çš„å¤šæ­¥éª¤å·¥ä½œæµç¨‹éœ€è¦ä¸¥æ ¼æ‰§è¡Œã€‚</p>
</li>
<li>
<p><strong>æ²‰æ·€ä¸“ä¸šçŸ¥è¯†ï¼š</strong> æƒ³æŠŠå›¢é˜Ÿçš„æœ€ä½³å®è·µï¼Œå¦‚<strong>ä»£ç è§„èŒƒã€å“ç‰ŒæŒ‡å—ã€æµ‹è¯•æµç¨‹ã€æ•°æ®åˆ†ææ–¹æ³•</strong>ç­‰ï¼Œå›ºåŒ–ä¸‹æ¥ï¼Œè®© AI ä¹Ÿèƒ½æŒæ¡ã€‚</p>
</li>
</ul>
<h3 data-id="heading-7"><strong>åœºæ™¯ä¸¾ä¾‹</strong></h3>
<h4 data-id="heading-8"><strong>åœºæ™¯ä¸€ï¼šç¨³å®šè¾“å‡ºé«˜è´¨é‡ç»“æœ</strong></h4>
<p>å¦‚æœä½ éœ€è¦æ™ºèƒ½ä½“æ¯æ¬¡éƒ½æŒ‰ä½ çš„æ ‡å‡†è¾“å‡ºï¼Œä¾‹å¦‚ç»Ÿä¸€è®¾è®¡è§„èŒƒã€æ‰§è¡Œå›¢é˜Ÿæ ‡å‡†ã€ä¿æŒå“ç‰Œä¸€è‡´æ€§ã€ç¡®ä¿ä»£ç ç¬¦åˆçº¦å®šç­‰åœºæ™¯å…¶å®éƒ½å¾ˆé€‚åˆã€‚</p>
<p>ä¸å…¶æŒ‡æœ›æ™ºèƒ½ä½“â€œè®°ä½â€ä½ çš„åå¥½ï¼Œä¸å¦‚æŠŠè¦æ±‚æ‰“åŒ…æˆ Skillsï¼Œå˜æˆä¸€ä¸ªä¸“ä¸šæŠ€èƒ½åŒ…ï¼Œè®©è¾“å‡ºç»“æœç¨³å®šå¯æ§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e71526a81344a0cb252a0530d3e0c9f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088570&amp;x-signature=akNRdoM%2FGBgBGbWEN5sEk%2Ba%2FVj0%3D" alt="" loading="lazy"/></p>
<p>ç¤ºä¾‹ï¼šç”¨ frontend-design Skill ä¼˜åŒ–ç½‘é¡µå‰ç«¯è®¾è®¡</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89776deea46240baa50630e4f272fbda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088570&amp;x-signature=tYRaXRjXy33Fchide0nVd7x5hFk%3D" alt="" loading="lazy"/>Beforeï¼šä»…ä½¿ç”¨ prompt + SOLO agent</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62a68e1443ab4b6197c0d372b8554386~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088570&amp;x-signature=EGJuhvYsgCsbY9vY92DBGHVpN0o%3D" alt="" loading="lazy"/>Afterï¼šåœ¨ SOLO ä¸­è°ƒç”¨ frontend-design-skill ä¹‹å</p>
<h4 data-id="heading-9"><strong>åœºæ™¯äºŒï¼šè‡ªåŠ¨åŒ–é‡å¤æ€§å·¥ä½œæµ</strong></h4>
<p>æµ‹è¯•æ¡†æ¶ã€ä»£ç è§„èŒƒæ£€æŸ¥ã€å¸¸è§„æ•°æ®åˆ†æã€é‚£äº›èº²ä¸æ‰çš„æ—¥å¸¸æµç¨‹....éƒ½å¯ä»¥æŠŠ SOP å˜æˆå¯å¤ç”¨çš„ Skillsï¼Œè®© AI æ›¿ä½ å®Œæˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b00246d9a4045a598e6b8b3d60dc6f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088570&amp;x-signature=HUGHXnNRlkyw8FrROgU0M5Keyjk%3D" alt="" loading="lazy"/></p>
<p>ç¤ºä¾‹ï¼šç”¨ ux-designer Skills ç”Ÿæˆçº¿æ¡†å›¾ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23e1176bdc4041c2ae44476fdb83a20b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088570&amp;x-signature=v1DgImmoV8L0eUNIkcGm8SO2IJI%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-10"><strong>åœºæ™¯ä¸‰ï¼šæ²‰æ·€ä¸å…±äº« Skills</strong></h4>
<p>Skill ä¸ä»…ä»…æ˜¯æå‡ä¸ªäººæ•ˆç‡çš„å·¥å…·ï¼Œæ›´æ˜¯å°†ä¸“ä¸šèƒ½åŠ›è§„æ¨¡åŒ–ã€ä¸å›¢é˜Ÿå…±äº«çš„ç»ä½³æ–¹å¼ã€‚</p>
<ul>
<li>
<p><strong>æµç¨‹å…±äº«ï¼š</strong> æŠŠæˆç†Ÿçš„å·¥ä½œæµç¨‹å°è£…æˆ Skillï¼Œå›¢é˜Ÿæˆå‘˜æ— éœ€å†åå¤æ²Ÿé€šæµç¨‹ç»†èŠ‚ï¼Œç›´æ¥è°ƒç”¨å³å¯ã€‚</p>
</li>
<li>
<p><strong>è§„èŒƒç»Ÿä¸€ï¼š</strong> å°†å›¢é˜Ÿçš„è®¾è®¡è§„èŒƒã€ä»£ç è§„èŒƒæˆ–å“ç‰ŒæŒ‡å—åˆ¶ä½œæˆ Skillï¼Œç¡®ä¿æ•´ä¸ªå›¢é˜Ÿçš„è¾“å‡ºé£æ ¼ä¸€è‡´ã€‚</p>
</li>
<li>
<p><strong>ç¤¾åŒºç”Ÿæ€ï¼š</strong> ä½ å¯ä»¥åœ¨ç¤¾åŒºä¸­å‘ç°ã€æ„å»ºå¹¶å…±äº«ä½ çš„ Skillï¼Œè®©ä¼˜ç§€çš„èƒ½åŠ›è·¨è¶Šä¸åŒçš„ä½¿ç”¨è€…å’Œåœºæ™¯ï¼Œä¸æ–­å¤ç”¨å’Œä¼ æ‰¿ã€‚</p>
</li>
</ul>
<h3 data-id="heading-11"><strong>Skills å’Œå…¶ä»–åŠŸèƒ½æ€ä¹ˆé€‰ï¼Ÿ</strong></h3>
<p>åœ¨ TRAE ä¸­ï¼Œæœ‰å¤šç§æ–¹å¼å¯ä»¥å¼•å¯¼ AI æ›´å¥½åœ°ç†è§£ä½ çš„æ„å›¾ã€‚é‚£ä¹ˆï¼Œåœ¨ Skill å’Œå…¶ä»–åŠŸèƒ½ä¹‹é—´ï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿ</p>
<h4 data-id="heading-12"><strong>Prompt vs Skills</strong></h4>
<p>Promptï¼ˆæç¤ºè¯ï¼‰æ˜¯ä¸€æ¬¡æ€§çš„æŒ‡ä»¤ã€‚å¦‚æœä½ å‘ç°è‡ªå·±ä¸ºäº†åŒä¸€ä¸ªç›®çš„ï¼Œåå¤è¾“å…¥äº†ä¸‰éä»¥ä¸Šçš„ Promptï¼Œé‚£å°±åº”è¯¥è€ƒè™‘å°†å®ƒæ²‰æ·€ä¸ºä¸€ä¸ª Skill äº†ã€‚</p>
<h4 data-id="heading-13"><strong>Rules vs Skills</strong></h4>
<p>Rulesï¼ˆè§„åˆ™ï¼‰æ˜¯å…¨å±€ç”Ÿæ•ˆçš„ï¼Œä¸€æ—¦è®¾ç½®ï¼Œå®ƒä¼šåœ¨æ•´ä¸ªå¯¹è¯è¿‡ç¨‹ä¸­æŒç»­å ç”¨ AI çš„â€œæ³¨æ„åŠ›â€ï¼ˆä¸Šä¸‹æ–‡çª—å£ï¼‰ã€‚</p>
<p>å¦‚æœä½ çš„ Rules æ–‡ä»¶å˜å¾—è¶Šæ¥è¶Šè‡ƒè‚¿ï¼Œä¸å¦¨æŠŠå…¶ä¸­ä¸å…·ä½“å·¥ä½œæµç¨‹ç›¸å…³çš„æŒ‡ä»¤è¿ç§»åˆ° Skill ä¸­ã€‚Rules é‡Œåªä¿ç•™ä¸€äº›è½»é‡çº§çš„ã€å…¨å±€æ€§çš„åå¥½è®¾ç½®ï¼Œæ¯”å¦‚ä½ å–œæ¬¢çš„ä»£ç é£æ ¼ã€æ²Ÿé€šè¯­è¨€ç­‰ã€‚</p>
<h4 data-id="heading-14"><strong>Context vs Skills</strong></h4>
<p>Contextï¼ˆä¸Šä¸‹æ–‡ï¼‰é€šå¸¸æŒ‡çš„æ˜¯åœ¨ Workspaceï¼ˆå·¥ä½œç©ºé—´ï¼‰å†…å…±äº«çš„çŸ¥è¯†åº“æˆ–æ–‡æ¡£ã€‚AI åœ¨å¯¹è¯å¼€å§‹æ—¶å°±ä¼šè¯»å–è¿™äº›å†…å®¹ï¼Œå¹¶åŒæ ·ä¼šå ç”¨ä¸Šä¸‹æ–‡çª—å£ã€‚</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒSkill æ˜¯ç»“æ„åŒ–çš„ã€å¯æ‰§è¡Œçš„æŒ‡ä»¤ï¼Œåªåœ¨è¢«éœ€è¦æ—¶<strong>ä¸»åŠ¨è§¦å‘</strong>ã€‚å› æ­¤ï¼ŒSkill æ›´é€‚åˆç”¨æ¥å°è£…å¯å¤ç”¨çš„å·¥ä½œæµç¨‹å’Œè¡Œä¸ºæŒ‡ä»¤ï¼Œè€Œ Context æ›´é€‚åˆæä¾›èƒŒæ™¯ä¿¡æ¯å’ŒçŸ¥è¯†å‚è€ƒã€‚</p>
<h4 data-id="heading-15"><strong>SOLO Sub Agent vs Skills</strong></h4>
<p>Sub Agentï¼ˆå­æ™ºèƒ½ä½“ï¼‰å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªä¸“æ³¨äºç‰¹å®šé¢†åŸŸçš„â€œä¸“èŒå‘˜å·¥â€ï¼Œè€Œ Skills åˆ™æ˜¯ä¸€ä¸ªå¯éšå¤„è¿ç§»çš„â€œèƒ½åŠ›åŒ…â€ï¼Œèƒ½å¤Ÿè¢«ä¸åŒçš„æ™ºèƒ½ä½“ã€åœ¨ä¸åŒçš„åœºæ™¯ä¸‹å¤ç”¨ã€‚</p>
<p>å¦‚æœä½ å‘ç°å¤šä¸ªä¸åŒçš„ Sub Agent éƒ½éœ€è¦æŸä¸€é¡¹åŒæ ·çš„èƒ½åŠ›ï¼Œé‚£ä¹ˆæœ€å¥½çš„åšæ³•å°±æ˜¯å°†è¿™é¡¹èƒ½åŠ›æŠ½è±¡æˆä¸€ä¸ª Skillï¼Œä¾›æ‰€æœ‰æ™ºèƒ½ä½“æŒ‰éœ€è°ƒç”¨ã€‚</p>
<p><strong>æ€»ç»“ä¸€ä¸‹ï¼š</strong></p>
<ul>
<li>
<p><strong>Rulesã€Context å’Œ Sub Agent</strong> çš„æŒ‡ä»¤é€šå¸¸ä¼š<strong>æŒç»­å ç”¨</strong>å®è´µçš„ä¸Šä¸‹æ–‡çª—å£ã€‚</p>
</li>
<li>
<p><strong>Skills</strong> åˆ™æ˜¯<strong>æŒ‰éœ€åŠ è½½</strong>ï¼Œä¸ä»…èŠ‚çœäº†èµ„æºï¼ˆTokenï¼‰ï¼Œä¹Ÿè®© AI çš„æ¯ä¸€æ¬¡è¡ŒåŠ¨éƒ½æ›´åŠ ä¸“æ³¨å’Œé«˜æ•ˆã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c95304fcdc9b48dcbea9a462b6ed475d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088570&amp;x-signature=HanNUn0IVxonY%2FOu%2BbI3UZc0qXY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-16"><strong>Skills çš„ç¼–å†™ç»“æ„</strong></h2>
<p>ä¸€ä¸ª Skill åˆ°åº•é•¿ä»€ä¹ˆæ ·ï¼Ÿ</p>
<p>ä»æœ¬è´¨ä¸Šè®²ï¼Œä¸€ä¸ª Skill å°±æ˜¯ä¸€ä¸ªåŒ…å«äº†Â <em><strong>SKILL.md</strong></em> æ–‡ä»¶çš„æ–‡ä»¶å¤¹ã€‚è¿™ä¸ªÂ <em><strong>SKILL.md</strong></em> æ–‡ä»¶æ˜¯ç”¨ Markdown æ ¼å¼ç¼–å†™çš„ï¼Œå®ƒå°±åƒä¸€ä»½â€œä½¿ç”¨è¯´æ˜ä¹¦â€ï¼Œå‘Šè¯‰ AI è¿™ä¸ª Skill æ˜¯ç”¨æ¥åšä»€ä¹ˆçš„ã€åº”è¯¥å¦‚ä½•ä½¿ç”¨ã€‚</p>
<p>ç”±äº Skill é‡‡ç”¨æ ‡å‡†çš„Â <strong>Markdown</strong> æ ¼å¼ï¼Œå› æ­¤æ— è®ºæ˜¯åˆ›å»ºã€é˜…è¯»è¿˜æ˜¯åˆ†äº«ï¼Œéƒ½éå¸¸æ–¹ä¾¿ã€‚</p>
<p>æ ‡å‡†æ–‡ä»¶ç»“æ„ï¼ˆ<strong>å”¯ä¸€å¿…éœ€</strong> <strong>çš„æ˜¯</strong> <em><strong>Skill.md</strong></em> <strong>æ–‡ä»¶</strong> <strong>ï¼Œ</strong> <strong>å…¶ä»–éƒ½æ˜¯</strong> <strong>å¯é€‰</strong> <strong>çš„</strong> <strong>ï¼Œæ ¹æ®ä½ çš„ Skill éœ€è¦æ¥å†³å®šã€‚)</strong></p>
<pre><code class="hljs language-python" lang="python">your-Skill/
â”œâ”€â”€ Skill.md          <span class="hljs-comment"># å¿…éœ€ï¼šæ™ºèƒ½ä½“çš„æ ¸å¿ƒæŒ‡ä»¤</span>
â”œâ”€â”€ examples/         <span class="hljs-comment"># å¯é€‰ï¼šè¾“å…¥/è¾“å‡ºç¤ºä¾‹</span>
â”‚   â”œâ”€â”€ <span class="hljs-built_in">input</span>.md
â”‚   â””â”€â”€ output.md
â”œâ”€â”€ templates/        <span class="hljs-comment"># å¯é€‰ï¼šå¯å¤ç”¨çš„æ¨¡æ¿</span>
â”‚   â””â”€â”€ component.tsx
â””â”€â”€ resources/        <span class="hljs-comment"># å¯é€‰ï¼šå‚è€ƒæ–‡ä»¶ã€è¿è¡Œè„šæœ¬æˆ–ç´ æ</span>
    â””â”€â”€ style-guide.md
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b69e38968704bf7847c6fd3a51e1f6e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088570&amp;x-signature=0l%2F4NV750AxUcdeb1d92Q0izsiU%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-17"><strong>åœ¨ TRAE ä¸­ä½¿ç”¨ Skills</strong></h2>
<blockquote>
<p><strong>ä½¿ç”¨ Skills çš„é»„é‡‘æ³•åˆ™æ˜¯</strong> <strong>ã€Œå…ˆè·‘èµ·æ¥ï¼Œå†æ…¢æ…¢ä¼˜åŒ–ã€</strong> <strong>ã€‚ä½ çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ä¸éœ€è¦è¿½æ±‚å®Œç¾ã€‚</strong></p>
<ul>
<li>
<p><strong>ç¬¬ 1 æ­¥ï¼š</strong> å…ˆåˆ›å»ºä¸€ä¸ªåªåŒ…å«æ ¸å¿ƒåŠŸèƒ½çš„åŸºç¡€ç‰ˆæœ¬ã€‚</p>
</li>
<li>
<p><strong>ç¬¬ 2 æ­¥ï¼š</strong> ç”¨ä¸€ä¸ªçœŸå®çš„ä»»åŠ¡æ¥æµ‹è¯•å®ƒã€‚</p>
</li>
<li>
<p><strong>ç¬¬ 3 æ­¥ï¼š</strong> è§‚å¯Ÿè¾“å‡ºç»“æœï¼Œçœ‹çœ‹å“ªé‡Œä¸å°½å¦‚äººæ„ã€‚</p>
</li>
<li>
<p><strong>ç¬¬ 4 æ­¥ï¼š</strong> é’ˆå¯¹å‘ç°çš„é—®é¢˜ï¼Œä¼˜åŒ–å’Œè¡¥å……ä½ çš„æŒ‡ä»¤ã€‚</p>
</li>
<li>
<p><strong>ç¬¬ 5 æ­¥ï¼š</strong> é‡å¤ä»¥ä¸Šæ­¥éª¤ï¼Œä¸æ–­è¿­ä»£ã€‚</p>
</li>
</ul>
<p><strong>è¯·è®°ä½ï¼šä¸€ä¸ªå¥½ç”¨çš„ Skillï¼Œä¸€å®šæ˜¯åœ¨å®é™…ä½¿ç”¨ä¸­åå¤æ‰“ç£¨å‡ºæ¥çš„ã€‚å…ˆè®©å®ƒèƒ½ç”¨ï¼Œå†è¿½æ±‚å¥½ç”¨ã€‚</strong></p>
</blockquote>
<p>ä½ å¯ä»¥é€‰æ‹©å¯¼å…¥ä»–äººçš„ Skill æˆ–è€…è‡ªå·±åˆ›å»ºä¸€ä¸ª Skillï¼Œå½“ç„¶ä½ å¯¼å…¥äº†ä»–äººçš„ Skill ä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…éœ€æ±‚è¿›è¡Œä¿®æ”¹ã€‚</p>
<h3 data-id="heading-18"><strong>å¯¼å…¥ç¤¾åŒº Agent Skills</strong></h3>
<p>TRAE çš„ Skills åŠŸèƒ½åŸºäºå¼€æ”¾çš„ Agent Skills æ ‡å‡†æ„å»ºï¼Œè¿™æ„å‘³ç€å®ƒå®Œå…¨å…¼å®¹ç¤¾åŒºç”Ÿæ€ã€‚ä½ å¯ä»¥ä» GitHub ç­‰ä»£ç æ‰˜ç®¡å¹³å°ä¸Šæ‰¾åˆ°æµ·é‡çš„ç°æˆ Skillï¼Œç›´æ¥ä¸‹è½½å¹¶å¯¼å…¥ä½¿ç”¨ã€‚</p>
<p><strong>å¯¼å…¥æ­¥éª¤ï¼š</strong></p>
<ol>
<li>
<p>ä»ç¤¾åŒºæ‰¾åˆ°ä½ éœ€è¦çš„ Skillï¼ˆæ¯”å¦‚ Example Agent Skillsï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills%25EF%25BC%2589" target="_blank" title="https://github.com/anthropics/skills%EF%BC%89" ref="nofollow noopener noreferrer">github.com/anthropics/â€¦</a></p>
</li>
<li>
<p>ä¸‹è½½åŒ…å« <em><strong>Skill.md</strong></em> çš„æ–‡ä»¶å¤¹</p>
</li>
<li>
<p>åœ¨ TRAE ä¸­å¯¼å…¥ï¼šè®¾ç½® â†’ è§„åˆ™å’ŒæŠ€èƒ½ â†’ æŠ€èƒ½ â†’ åˆ›å»º</p>
</li>
</ol>
<p>ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨å·²æœ‰çš„ Skillsï¼Œä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚ä¿®æ”¹ã€‚</p>
<h3 data-id="heading-19"><strong>åˆ›å»ºä½ è‡ªå·±çš„ Skills</strong></h3>
<p>ä¸€ä¸ª Skill ç”±ä»¥ä¸‹å‡ éƒ¨åˆ†ç»„æˆï¼š</p>
<ul>
<li>
<p><strong>åç§°ï¼š</strong> ä¸ºä½ çš„ Skill èµ·ä¸€ä¸ªæ¸…æ™°æ˜“æ‡‚çš„åå­—ã€‚</p>
</li>
<li>
<p><strong>æè¿°ï¼š</strong> ç®€å•è¯´æ˜è¿™ä¸ª Skill æ˜¯åšä»€ä¹ˆçš„ï¼Œä»¥åŠåœ¨ä»€ä¹ˆæƒ…å†µä¸‹åº”è¯¥ä½¿ç”¨å®ƒã€‚</p>
</li>
<li>
<p><strong>æŒ‡ä»¤ï¼ˆå¯é€‰ï¼‰ï¼š</strong> å¦‚æœä»»åŠ¡æ¯”è¾ƒå¤æ‚ï¼Œå¯ä»¥åœ¨è¿™é‡Œæä¾›è¯¦ç»†çš„ã€åˆ†æ­¥éª¤çš„æŒ‡ä»¤ã€‚</p>
</li>
</ul>
<p>å°±è¿™ä¹ˆç®€å•ã€‚å¯¹äºä¸€äº›ç®€å•çš„ä»»åŠ¡ï¼Œä¸€ä¸ª Skill ç”šè‡³åªéœ€è¦åç§°å’Œæè¿°å°±è¶³å¤Ÿäº†ã€‚<strong>åªæœ‰å½“ä½ çš„å·¥ä½œæµéœ€è¦ç‰¹å®šçš„æ­¥éª¤æˆ–è¾“å‡ºæ ¼å¼æ—¶ï¼Œæ‰éœ€è¦é€æ­¥æ·»åŠ æ›´è¯¦ç»†çš„æŒ‡ä»¤ã€‚</strong></p>
<h4 data-id="heading-20"><strong>æ–¹å¼ä¸€ï¼šåœ¨å¯¹è¯ä¸­åˆ›å»º Skills</strong></h4>
<p>æœ€ç®€å•çš„æ–¹å¼æ˜¯ç›´æ¥å’Œ TRAE å¯¹è¯ã€‚æè¿°ä½ çš„éœ€æ±‚ï¼ŒAI ä¼šå¸®ä½ ç”Ÿæˆ Skillã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li>
<p>"åˆ›å»ºä¸€ä¸ª Skillï¼Œå¸®æˆ‘æ£€æŸ¥ä»£ç çš„æ€§èƒ½é—®é¢˜"</p>
</li>
<li>
<p>"åšä¸€ä¸ªç”Ÿæˆ CSS ç»„ä»¶çš„ Skillï¼Œè¦ç¬¦åˆæˆ‘ä»¬çš„å“ç‰Œè§„èŒƒ"</p>
</li>
<li>
<p>"å»ºä¸€ä¸ª Skillï¼Œç”¨æ¥è§„èŒƒæˆ‘çš„æ•°æ®åˆ†ææŠ¥å‘Š"</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dccc6144d89c4fe99ea4a74863c74e91~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088570&amp;x-signature=HiW2hI%2FL2RuklKhic6WtB3%2FX9I0%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-21"><strong>æ–¹å¼äºŒï¼šæ‰‹åŠ¨åˆ›å»º Skills</strong></h4>
<p>å¦‚æœä½ æƒ³è¦æ·»åŠ æ›´è¯¦ç»†çš„å·¥ä½œæµã€æŒ‡ä»¤åŠå·¥å…·è°ƒç”¨ï¼Œå¯ä»¥ç”¨ Markdown æ ¼å¼æ‰‹åŠ¨ç¼–å†™ Skillã€‚</p>
<p>â€‹</p>
<p><strong>åŸºç¡€</strong> <em><strong>Skill.md</strong></em> <strong>æ¨¡æ¿ï¼š</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-meta">---</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">Skill</span> <span class="hljs-string">åç§°</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">ç®€è¦æè¿°è¿™ä¸ª</span> <span class="hljs-string">Skill</span> <span class="hljs-string">çš„åŠŸèƒ½å’Œä½¿ç”¨åœºæ™¯</span>

<span class="hljs-meta">---
</span>
<span class="hljs-comment"># Skill åç§°</span>

<span class="hljs-comment">## Description</span>
<span class="hljs-string">ä¸€å¥è¯è¯´æ˜è¿™ä¸ª</span> <span class="hljs-string">Skill</span> <span class="hljs-string">å¹²ä»€ä¹ˆã€‚</span>

<span class="hljs-comment">## When to Use</span>
<span class="hljs-string">è§¦å‘è¿™ä¸ª</span> <span class="hljs-string">Skill</span> <span class="hljs-string">çš„æ¡ä»¶ã€‚</span>

<span class="hljs-comment">## Instructions</span>
<span class="hljs-string">æ¸…æ™°çš„åˆ†æ­¥è¯´æ˜ï¼Œå‘Šè¯‰</span> <span class="hljs-string">TRAE</span> <span class="hljs-string">æ™ºèƒ½ä½“å…·ä½“æ€ä¹ˆåšã€‚</span>

<span class="hljs-comment">## Examples (Optional)</span>
<span class="hljs-string">è¾“å…¥/è¾“å‡ºç¤ºä¾‹ï¼Œå±•ç¤ºé¢„æœŸæ•ˆæœã€‚</span>
</code></pre>
<h3 data-id="heading-22"><strong>å¦‚ä½•è°ƒç”¨ä½ çš„ Skills</strong></h3>
<p>ä¸€å…±æœ‰ä¸¤ç§æ–¹å¼è°ƒç”¨ï¼š</p>
<h4 data-id="heading-23"><strong>æ–¹å¼ä¸€ï¼šæ˜¾æ€§è°ƒç”¨</strong></h4>
<p>æ˜¾æ€§è°ƒç”¨ï¼Œå°±æ˜¯ç›´æ¥åœ¨ä½ çš„æŒ‡ä»¤ä¸­æ˜ç¡®å‘Šè¯‰ AI ä½¿ç”¨å“ªä¸€ä¸ª Skillã€‚è¿™ç§æ–¹å¼å¯ä»¥è®©ä½ ç²¾å‡†åœ°æ§åˆ¶ AI çš„è¡Œä¸ºï¼Œç¡®ä¿è¾“å‡ºç»“æœçš„ç¨³å®šæ€§ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<ul>
<li>
<p>â€œç”¨ <em><strong>codemap</strong></em> Skill æ€»ç»“ä¸€ä¸‹è¿™ä¸ªä»£ç åˆ†æ”¯åšäº†å“ªäº›ä¿®æ”¹ã€‚â€</p>
</li>
<li>
<p>â€œè¯·ä½¿ç”¨ <em><strong>Frontend Design</strong></em> Skill æ¥æ„å»ºè¿™ä¸ª UI ç»„ä»¶ã€‚â€</p>
</li>
<li>
<p>â€œç”¨ <em><strong>CSV</strong></em> Skill å¸®æˆ‘å¤„ç†ä¸€ä¸‹è¿™ä¸ªæ•°æ®é›†ã€‚â€</p>
</li>
</ul>
<p>å½“ä½ æ˜ç¡®çŸ¥é“åº”è¯¥ä½¿ç”¨å“ªä¸ª Skillï¼Œå¹¶ä¸”å¸Œæœ›å¾—åˆ°ç¨³å®šã€å¯é¢„æœŸçš„ç»“æœæ—¶ï¼Œæ¨èä½¿ç”¨æ˜¾æ€§è°ƒç”¨ã€‚</p>
<h4 data-id="heading-24"><strong>æ–¹å¼äºŒï¼šéšæ€§è°ƒç”¨</strong></h4>
<p>éšæ€§è°ƒç”¨ï¼Œåˆ™å®Œå…¨ä¾èµ– AI çš„è‡ªä¸»åˆ¤æ–­ã€‚AI ä¼šæ ¹æ®ä½ å½“å‰çš„ä»»åŠ¡æè¿°ï¼Œä»¥åŠæ¯ä¸ª Skill ä¸­â€œä½•æ—¶ä½¿ç”¨ï¼ˆWhen to Useï¼‰â€çš„æè¿°ï¼Œæ¥è‡ªåŠ¨å†³å®šæ˜¯å¦ä»¥åŠè°ƒç”¨å“ªä¸ª Skillã€‚</p>
<p>ä¾‹å¦‚ï¼Œå‡è®¾ä½ åˆ›å»ºäº†ä¸€ä¸ªåä¸º <em><strong>Code Review</strong></em> çš„ Skillï¼Œå¹¶åœ¨å…¶ä¸­å®šä¹‰äº†è§¦å‘æ¡ä»¶æ˜¯â€œå½“ç”¨æˆ·è¯·æ±‚ä»£ç åé¦ˆæ—¶â€ã€‚é‚£ä¹ˆï¼Œå½“ä½ å‘ AI æå‡ºä»¥ä¸‹é—®é¢˜æ—¶ï¼š</p>
<ul>
<li>
<p>â€œä½ è§‰å¾—è¿™ä¸ªå‡½æ•°å†™å¾—æ€ä¹ˆæ ·ï¼Ÿâ€</p>
</li>
<li>
<p>â€œå¸®æˆ‘ review ä¸€ä¸‹è¿™ä¸ªåˆå¹¶è¯·æ±‚ï¼ˆPRï¼‰ã€‚â€</p>
</li>
<li>
<p>â€œè¿™æ®µä»£ç æœ‰ä»€ä¹ˆæ½œåœ¨çš„é—®é¢˜å—ï¼Ÿâ€</p>
</li>
</ul>
<p>AI ä¼šè‡ªåŠ¨è¯†åˆ«å‡ºä½ çš„æ„å›¾ï¼Œå¹¶è°ƒç”¨ <em><strong>Code Review</strong></em> Skill æ¥å›ç­”ä½ çš„é—®é¢˜ï¼Œæ•´ä¸ªè¿‡ç¨‹æ— éœ€ä½ æ‰‹åŠ¨æŒ‡å®šã€‚</p>
<h4 data-id="heading-25"><strong>å¦‚ä½•é€‰æ‹©ã€Œæ˜¾æ€§ã€è¿˜æ˜¯ã€Œéšæ€§ã€</strong></h4>
<ul>
<li><strong>å½“ä»»åŠ¡å¤æ‚ã€å…³é”®æˆ–éœ€è¦é«˜åº¦ç¨³å®šçš„è¾“å‡ºæ—¶ï¼Œå»ºè®®é‡‡ç”¨æ˜¾æ€§è°ƒç”¨ã€‚</strong></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c96956d1931a48838f0d5d05d08799d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088570&amp;x-signature=ppIUZU9o8Z53%2FvdOX290B5oA8Aw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-26"><strong>ä¸€èµ·æ¥å®æ“</strong></h2>
<p>æˆ‘ä»¬ä»¥åˆ›å»ºä¸€ä¸ªâ€œå¤šå½©è¾“å‡ºâ€çš„ Skill ä¸ºä¾‹ã€‚</p>
<p>è¯¥æŠ€èƒ½ä¸»è¦æ˜¯ä¸ºäº†èƒ½å¤Ÿè®© AI åœ¨å›å¤çš„æ—¶å€™ï¼Œæ ¹æ®å†…å®¹æƒ…å†µï¼Œä¿®æ”¹å†…å®¹çš„é¢œè‰²ï¼Œä¾¿äºæˆ‘ä»¬ç›´æ¥å°±çœ‹åˆ°å…³é”®ç‚¹ç­‰ï¼ŒåŠŸèƒ½æ¯”è¾ƒç®€å•ï¼Œå…ˆè®©å¤§å®¶æ„Ÿå—ä¸€ä¸‹ Skill çš„é­…åŠ›ã€‚</p>
<blockquote>
<p>æ“ä½œç‰ˆæœ¬ï¼šTRAE ä¸­å›½ç‰ˆ</p>
</blockquote>
<h3 data-id="heading-27"><strong>1. åœ¨ TRAE ä¸­æ‰“å¼€ Skills åˆ›å»ºé¢æ¿</strong></h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5140563502ca4083b4826643af5838a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088570&amp;x-signature=z0x269IfRGA0d1PlPpUPUHK0D6E%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-28"><strong>2. åˆ›å»ºæˆ‘æ‰€éœ€è¦çš„ Skills</strong></h3>
<ul>
<li>
<p><strong>æŠ€èƒ½åç§°ï¼š</strong> å°±æ˜¯ä½ çš„æŠ€èƒ½å«ä»€ä¹ˆåå­—ï¼Œå°†æ¥è°ƒç”¨çš„æŠ€èƒ½ä½ å°±èƒ½çœ‹åˆ°è¿™ä¸ªæŠ€èƒ½è¢«è°ƒç”¨äº†ã€‚</p>
</li>
<li>
<p><strong>æè¿°ï¼š</strong> å°±æ˜¯ä½ çš„è¿™ä¸ªæŠ€èƒ½çš„ä¸€äº›è¯´æ˜ï¼Œåšä»€ä¹ˆçš„ï¼Œæœ‰ä»€ä¹ˆç”¨ç­‰ç­‰ã€‚</p>
</li>
<li>
<p><strong>æŒ‡ä»¤ï¼š</strong> è¿™ä¸ªæ˜¯æœ€é‡è¦çš„åœ°æ–¹ï¼Œå°±æ˜¯æŠ€èƒ½æ€ä¹ˆå®ç°çš„åœ°æ–¹ã€‚</p>
</li>
</ul>
<p>å¦‚æœä½ ä¸å¤ªæ¸…æ¥šæŒ‡ä»¤è¯¥å¦‚ä½•å†™ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå°æŠ€å·§ï¼šä½ å¯ä»¥å…ˆæŠŠå†™å¥½äº†æŠ€èƒ½åç§°å’Œæè¿°çš„ç•Œé¢æˆªå›¾ï¼Œç„¶åå°†å›¾ç‰‡å‘ç»™ä¸€ä¸ªèƒ½å¤Ÿè¯†åˆ«å›¾ç‰‡çš„å¤šæ¨¡æ€æ¨¡å‹ï¼ˆå¦‚ Doubao-Seed-Coderï¼‰ï¼Œå¹¶å¯¹å®ƒè¯´**ã€Œä½ å¥½ï¼Œæˆ‘æƒ³åˆ¶ä½œä¸€ä¸ª Skillï¼Œåç§°å’Œæè¿°å¦‚å›¾ç‰‡æ‰€ç¤ºï¼Œä½†æˆ‘ä¸æ“…é•¿å†™æŒ‡ä»¤ï¼Œä½ æ¥å¸®æˆ‘å†™ä¸€ä¸‹å§ã€ã€‚**</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0d81d4f383e497cb20ee28f7b862b27~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088570&amp;x-signature=%2BGxGiOEP1L0ryKx4Oms7bna6dws%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-29"><strong>3. æŸ¥çœ‹åˆ›å»ºçš„ Skills</strong></h3>
<p>åˆ›å»ºå®Œæˆåï¼Œæˆ‘ä»¬å›åˆ°æ–‡ä»¶ç›®å½•ã€‚ä½ ä¼šå‘ç°åœ¨æ ¹ç›®å½•ä¸‹çš„ <em><strong>.trae</strong></em> æ–‡ä»¶å¤¹é‡Œï¼Œç³»ç»Ÿè‡ªåŠ¨åˆ›å»ºäº†ä¸€ä¸ª <em><strong>skills</strong></em> ç›®å½•ï¼Œå¹¶åœ¨å…¶ä¸­ç”Ÿæˆäº†ä¸€ä¸ªåä¸ºâ€œå¤šå½©è¾“å‡ºâ€çš„å­ç›®å½•ã€‚è¿™ä¸ªå­ç›®å½•é‡ŒåŒ…å«ä¸€ä¸ª<em><strong>SKILL.md</strong></em> æ–‡ä»¶ã€‚<strong>è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œæ­£æ˜¯ç”±æˆ‘ä»¬åˆšåˆšå¡«å†™çš„æŠ€èƒ½åç§°ã€æè¿°å’ŒæŒ‡ä»¤ç”Ÿæˆçš„ã€‚</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a94c1aae9a5b4dd3ac9eea1969ff6fb5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088570&amp;x-signature=eL4%2FAAvZ3QEUjVkdCDzXKjBM%2BeQ%3D" alt="" loading="lazy"/></p>
<p>ä¸‹é¢æ˜¯æœ¬æ¬¡åˆ›å»ºçš„ SKILL.md æ–‡ä»¶å†…å®¹ï¼Œå¯ä»¥çœ‹åˆ°é‡Œé¢åŒ…æ‹¬ï¼š</p>
<ul>
<li>
<p><em><strong>name</strong></em> å­—æ®µï¼Œå°±æ˜¯æˆ‘ä»¬å¡«çš„æŠ€èƒ½åç§°ã€‚</p>
</li>
<li>
<p><em><strong>description</strong></em> å­—æ®µï¼Œå°±æ˜¯æˆ‘ä»¬å¡«çš„æè¿°ã€‚</p>
</li>
<li>
<p>è€Œå…¶ä»–çš„éƒ¨åˆ†å°±æ˜¯æˆ‘ä»¬å¡«å†™çš„æŒ‡ä»¤ï¼ˆ<em><strong>Command</strong></em>ï¼‰ã€‚</p>
</li>
</ul>

<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">---</span>
<span class="hljs-selector-tag">name</span>: å¤šå½©è¾“å‡º
<span class="hljs-selector-tag">description</span>: ç”¨å¤šç§é¢œè‰²æ¥åŒ…è£…<span class="hljs-selector-tag">AI</span>å›å¤çš„å†…å®¹ï¼Œé€šè¿‡é¢œè‰²æ¥åŒºåˆ†å†…å®¹çš„é‡è¦åº¦ï¼Œä¸€çœ¼å°±çŸ¥é“å›å¤çš„å…³é”®ç‚¹åœ¨å“ªé‡Œã€‚
<span class="hljs-selector-tag">---</span>

# å¤šå½©è¾“å‡º

å¤šå½©è¾“å‡ºæŠ€èƒ½å¯ä»¥å°†<span class="hljs-selector-tag">AI</span>å›å¤çš„å†…å®¹ç”¨ä¸åŒé¢œè‰²è¿›è¡ŒåŒ…è£…ï¼Œé€šè¿‡é¢œè‰²æ¥åŒºåˆ†å†…å®¹çš„é‡è¦åº¦ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿè¯†åˆ«å›å¤ä¸­çš„å…³é”®ç‚¹ã€‚

## è§¦å‘æ–¹å¼

è¯¥æŠ€èƒ½æ”¯æŒè‡ªç„¶è¯­è¨€è§¦å‘ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼è§¦å‘å¤šå½©è¾“å‡ºåŠŸèƒ½ï¼š

<span class="hljs-selector-tag">-</span> è¯·ç”¨å¤šå½©é¢œè‰²å›å¤
<span class="hljs-selector-tag">-</span> å¤šå½©è¾“å‡º
<span class="hljs-selector-tag">-</span> ç”¨é¢œè‰²å›å¤
<span class="hljs-selector-tag">-</span> å¤šå½©é¢œè‰²
<span class="hljs-selector-tag">-</span> å½©è‰²è¾“å‡º

å½“æ‚¨ä½¿ç”¨ä»¥ä¸Šè‡ªç„¶è¯­è¨€è¡¨è¾¾æ—¶ï¼Œ<span class="hljs-selector-tag">AI</span>ä¼šè‡ªåŠ¨ä»¥å¤šå½©é¢œè‰²çš„æ–¹å¼å›å¤æ‚¨çš„å†…å®¹ã€‚

## ä½¿ç”¨åœºæ™¯

<span class="hljs-number">1</span>. **é˜…è¯»é•¿å›å¤æ—¶** ï¼šé€šè¿‡é¢œè‰²åŒºåˆ†é‡è¦ä¿¡æ¯ï¼Œå¿«é€ŸæŠ“ä½å›å¤çš„æ ¸å¿ƒå†…å®¹
<span class="hljs-number">2</span>. **å­¦ä¹ æ–°çŸ¥è¯†æ—¶** ï¼šç”¨ä¸åŒé¢œè‰²æ ‡è®°ä¸åŒç±»å‹çš„ä¿¡æ¯ï¼Œæé«˜å­¦ä¹ æ•ˆç‡
<span class="hljs-number">3</span>. **å·¥ä½œæ±‡æŠ¥æ—¶** ï¼šçªå‡ºå…³é”®æ•°æ®å’Œç»“è®ºï¼Œä½¿æ±‡æŠ¥æ›´ä¸“ä¸šã€æ›´æ˜“ç†è§£
<span class="hljs-number">4</span>. **æ—¥å¸¸äº¤æµæ—¶** ï¼šå¢åŠ å›å¤çš„è§†è§‰å¸å¼•åŠ›ï¼Œæå‡æ²Ÿé€šä½“éªŒ

## è¾“å‡ºè§£é‡Š

æŠ€èƒ½ä¼šæ ¹æ®å†…å®¹çš„ç±»å‹å’Œé‡è¦åº¦ï¼Œè‡ªåŠ¨ä¸ºä¸åŒéƒ¨åˆ†æ·»åŠ é¢œè‰²ï¼š

<span class="hljs-selector-tag">-</span> &lt;<span class="hljs-selector-tag">span</span> <span class="hljs-selector-tag">style</span>="<span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#FF5733</span>;"&gt;çº¢è‰²&lt;/<span class="hljs-selector-tag">span</span>&gt; <span class="hljs-selector-tag">-</span> ç”¨äºå¼ºè°ƒé‡è¦ä¿¡æ¯å’Œè­¦å‘Š
<span class="hljs-selector-tag">-</span> &lt;<span class="hljs-selector-tag">span</span> <span class="hljs-selector-tag">style</span>="<span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#33FF57</span>;"&gt;ç»¿è‰²&lt;/<span class="hljs-selector-tag">span</span>&gt; <span class="hljs-selector-tag">-</span> ç”¨äºæ˜¾ç¤ºæˆåŠŸæˆ–æ­£é¢ä¿¡æ¯
<span class="hljs-selector-tag">-</span> &lt;<span class="hljs-selector-tag">span</span> <span class="hljs-selector-tag">style</span>="<span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#3357FF</span>;"&gt;è“è‰²&lt;/<span class="hljs-selector-tag">span</span>&gt; <span class="hljs-selector-tag">-</span> ç”¨äºæ˜¾ç¤ºä¸€èˆ¬æç¤ºæˆ–é“¾æ¥
<span class="hljs-selector-tag">-</span> &lt;<span class="hljs-selector-tag">span</span> <span class="hljs-selector-tag">style</span>="<span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#FF33A8</span>;"&gt;ç²‰è‰²&lt;/<span class="hljs-selector-tag">span</span>&gt; <span class="hljs-selector-tag">-</span> ç”¨äºæ˜¾ç¤ºç‰¹æ®Šè¯´æ˜
<span class="hljs-selector-tag">-</span> &lt;<span class="hljs-selector-tag">span</span> <span class="hljs-selector-tag">style</span>="<span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#FFC300</span>;"&gt;é»„è‰²&lt;/<span class="hljs-selector-tag">span</span>&gt; <span class="hljs-selector-tag">-</span> ç”¨äºæ˜¾ç¤ºæ³¨æ„äº‹é¡¹

## ç¤ºä¾‹

### ç¤ºä¾‹<span class="hljs-number">1</span>ï¼šè§¦å‘å¤šå½©è¾“å‡º

**è§¦å‘æ–¹å¼** ï¼šè¾“å…¥`è¯·ç”¨å¤šå½©é¢œè‰²å›å¤`

**<span class="hljs-selector-tag">AI</span>å›å¤** ï¼š

åœ¨&lt;<span class="hljs-selector-tag">span</span> <span class="hljs-selector-tag">style</span>="<span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#3357FF</span>;"&gt;<span class="hljs-selector-tag">Python</span>&lt;/<span class="hljs-selector-tag">span</span>&gt;ä¸­ï¼Œå¯ä»¥ä½¿ç”¨&lt;<span class="hljs-selector-tag">span</span> <span class="hljs-selector-tag">style</span>="<span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#FF5733</span>;"&gt;<span class="hljs-selector-tag">requests</span>&lt;/<span class="hljs-selector-tag">span</span>&gt;åº“æ¥å‘é€&lt;<span class="hljs-selector-tag">span</span> <span class="hljs-selector-tag">style</span>="<span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#33FF57</span>;"&gt;<span class="hljs-selector-tag">HTTP</span>è¯·æ±‚&lt;/<span class="hljs-selector-tag">span</span>&gt;ã€‚é¦–å…ˆéœ€è¦&lt;<span class="hljs-selector-tag">span</span> <span class="hljs-selector-tag">style</span>="<span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#FFC300</span>;"&gt;å®‰è£…<span class="hljs-selector-tag">requests</span>åº“&lt;/<span class="hljs-selector-tag">span</span>&gt;ï¼Œç„¶å&lt;<span class="hljs-selector-tag">span</span> <span class="hljs-selector-tag">style</span>="<span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#3357FF</span>;"&gt;å¯¼å…¥å¹¶ä½¿ç”¨<span class="hljs-selector-tag">get</span>æ–¹æ³•&lt;/<span class="hljs-selector-tag">span</span>&gt;ã€‚

### ç¤ºä¾‹<span class="hljs-number">2</span>ï¼šå¸¦é—®é¢˜çš„å¤šå½©è¾“å‡º

**è§¦å‘æ–¹å¼** ï¼šè¾“å…¥`è¯·ç”¨å¤šå½©é¢œè‰²å›å¤ <span class="hljs-selector-tag">Python</span>çš„<span class="hljs-selector-tag">requests</span>åº“å¦‚ä½•ä½¿ç”¨ï¼Ÿ`

**<span class="hljs-selector-tag">AI</span>å›å¤** ï¼š

è¦ä½¿ç”¨&lt;<span class="hljs-selector-tag">span</span> <span class="hljs-selector-tag">style</span>="<span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#3357FF</span>;"&gt;<span class="hljs-selector-tag">Python</span>&lt;/<span class="hljs-selector-tag">span</span>&gt;çš„&lt;<span class="hljs-selector-tag">span</span> <span class="hljs-selector-tag">style</span>="<span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#FF5733</span>;"&gt;<span class="hljs-selector-tag">requests</span>&lt;/<span class="hljs-selector-tag">span</span>&gt;åº“ï¼Œé¦–å…ˆéœ€è¦&lt;<span class="hljs-selector-tag">span</span> <span class="hljs-selector-tag">style</span>="<span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#FFC300</span>;"&gt;å®‰è£…&lt;/<span class="hljs-selector-tag">span</span>&gt;å®ƒï¼š&lt;<span class="hljs-selector-tag">span</span> <span class="hljs-selector-tag">style</span>="<span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#33FF57</span>;"&gt;<span class="hljs-selector-tag">pip</span> <span class="hljs-selector-tag">install</span> <span class="hljs-selector-tag">requests</span>&lt;/<span class="hljs-selector-tag">span</span>&gt;ã€‚ç„¶åå¯ä»¥&lt;<span class="hljs-selector-tag">span</span> <span class="hljs-selector-tag">style</span>="<span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#FFC300</span>;"&gt;å¯¼å…¥&lt;/<span class="hljs-selector-tag">span</span>&gt;å¹¶ä½¿ç”¨å®ƒå‘é€å„ç§&lt;<span class="hljs-selector-tag">span</span> <span class="hljs-selector-tag">style</span>="<span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#3357FF</span>;"&gt;<span class="hljs-selector-tag">HTTP</span>è¯·æ±‚&lt;/<span class="hljs-selector-tag">span</span>&gt;ã€‚

## å®ç°æ–¹å¼

è¯¥æŠ€èƒ½ç›´æ¥é€šè¿‡<span class="hljs-selector-tag">AI</span>çš„å›å¤æ¨¡æ¿å®ç°å¤šå½©è¾“å‡ºï¼Œæ— éœ€æ‰§è¡Œå¤–éƒ¨<span class="hljs-selector-tag">Python</span>è„šæœ¬ã€‚å½“æ‚¨ä½¿ç”¨è‡ªç„¶è¯­è¨€è§¦å‘çŸ­è¯­åï¼Œ<span class="hljs-selector-tag">AI</span>ä¼šè‡ªåŠ¨åœ¨å›å¤å†…å®¹ä¸­æ·»åŠ <span class="hljs-selector-tag">HTML</span>é¢œè‰²æ ‡ç­¾ï¼Œä½¿ä¸åŒç±»å‹çš„ä¿¡æ¯æ˜¾ç¤ºä¸åŒçš„é¢œè‰²ã€‚
</code></pre>
<p>åˆ°è¿™é‡Œä¸ºæ­¢ï¼Œä¸€ä¸ªæŠ€èƒ½å°±åˆ›å»ºå¥½äº†ï¼Œè¿™ä¸ªæŠ€èƒ½æ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥ä¸€ä¸ª SKILL.md å°±èƒ½è§£å†³é—®é¢˜ã€‚</p>
<blockquote>
<p>å¦‚æœä½ çš„ Skill åŠŸèƒ½æ¯”è¾ƒå¤æ‚ï¼Œå…‰é ä¸€ä¸ª <em><strong>SKILL.md</strong></em> æ–‡ä»¶æ— æ³•å®ç°æ—¶ï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥æ±‚åŠ© AIã€‚</p>
<p>ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªâ€œè¯­éŸ³æ’­æŠ¥â€çš„ Skillã€‚æˆ‘ä»¬å¯ä»¥å‘Šè¯‰ AIï¼šâ€œæˆ‘å¸Œæœ›è¿™ä¸ª Skill èƒ½å¤Ÿç›´æ¥æ’­æŠ¥ AI å›å¤çš„å†…å®¹â€ã€‚AI ä¼šè‡ªåŠ¨æ£€æŸ¥æˆ‘ä»¬åˆ›å»ºçš„â€œè¯­éŸ³æ’­æŠ¥â€ Skillï¼Œå¦‚æœå‘ç°å®ƒåªæ˜¯ä¸€ä¸ªç©ºæ¶å­ï¼Œå°±ä¼šå¼€å§‹å¸®åŠ©æˆ‘ä»¬è¡¥å……å®ç°åŠŸèƒ½çš„ä»£ç å’ŒæŒ‡ä»¤ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ AI çš„ååŠ©ä¸‹ä¸æ–­è°ƒè¯•ï¼Œç›´åˆ°åŠŸèƒ½å®Œå–„ã€‚</p>
</blockquote>
<h3 data-id="heading-30"><strong>4. ä½¿ç”¨åˆ›å»ºçš„ Skills</strong></h3>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ–°å»ºä¸€ä¸ªå¯¹è¯ï¼Œæ¥è¯•è¯•åˆšåˆšåˆ›å»ºçš„ Skill çš„æ•ˆæœå§ã€‚å¯ä»¥çœ‹åˆ°ï¼ŒAI çš„è¾“å‡ºå®Œå…¨éµå¾ªäº†æˆ‘ä»¬åœ¨ Skill ä¸­å®šä¹‰çš„è§„åˆ™ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0d7adffd1164669975dc20381c8b4e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088570&amp;x-signature=2YoGmjYwH%2FmWQyl6sAFrYno7yc4%3D" alt="" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5924cce0ab3142e488191bfee33ba2b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088570&amp;x-signature=X6uHzUbXblKQbrWGZ9sl1NEvKVc%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa15f454db26466690e27596b0fcc475~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088570&amp;x-signature=zELy50nzpWTdDWu0rQFkle1Q4ts%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-31"><strong>æ€»ç»“</strong></h2>
<p>å¸Œæœ›è¿™ä¸ªç®€å•çš„ä¾‹å­ï¼Œèƒ½è®©ä½ ç›´è§‚åœ°æ„Ÿå—åˆ° Skills çš„é­…åŠ›ã€‚</p>
<p>ä»Šå¤©æˆ‘ä»¬å…¨é¢æ›´æ–°äº† Skills çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬ä¸ä»…åœ¨ Beta ç‰ˆçš„åŸºç¡€ä¸Šæ–°å¢äº† 2 ä¸ªåŠŸèƒ½ï¼ŒåŒæ—¶åœ¨ <strong>SOLO + IDE æ¨¡å¼</strong>ä»¥åŠ<strong>å…¨éƒ¨æ™ºèƒ½ä½“å’Œæ¨¡å‹ï¼ˆå«è‡ªå®šä¹‰ï¼‰å‡æ”¯æŒäº† Skillsï¼</strong></p>
<blockquote>
<p>ä¸€äº›ç¤¾åŒºèµ„æ–™ï¼š</p>
<ul>
<li>
<p>å®˜æ–¹åšå®¢è§£é‡Š Skill æ¦‚å¿µï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fclaude.com%2Fblog%2Fskills-explained" target="_blank" title="https://claude.com/blog/skills-explained" ref="nofollow noopener noreferrer">claude.com/blog/skillsâ€¦</a></p>
</li>
<li>
<p>Claude å®˜æ–¹å®è·µæŒ‡å—ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.claude.com%2Fdocs%2Fzh-CN%2Fagents-and-tools%2Fagent-skills%2Fbest-practices" target="_blank" title="https://platform.claude.com/docs/zh-CN/agents-and-tools/agent-skills/best-practices" ref="nofollow noopener noreferrer">platform.claude.com/docs/zh-CN/â€¦</a></p>
</li>
<li>
<p>Claude å®˜æ–¹ Skills ä»“åº“<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills" target="_blank" title="https://github.com/anthropics/skills" ref="nofollow noopener noreferrer">github.com/anthropics/â€¦</a></p>
</li>
</ul>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€å¤©ä¸€ä¸ªPythonåº“ï¼špython-dateutil - å¼ºå¤§çš„æ—¥æœŸæ—¶é—´è§£æä¸è®¡ç®—å·¥å…·]]></title>    <link>https://juejin.cn/post/7599604510365990950</link>    <guid>https://juejin.cn/post/7599604510365990950</guid>    <pubDate>2026-01-27T03:09:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599604510365990950" data-draft-id="7599581204860780570" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€å¤©ä¸€ä¸ªPythonåº“ï¼špython-dateutil - å¼ºå¤§çš„æ—¥æœŸæ—¶é—´è§£æä¸è®¡ç®—å·¥å…·"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-01-27T03:09:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ•ç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/2579909358396288"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€å¤©ä¸€ä¸ªPythonåº“ï¼špython-dateutil - å¼ºå¤§çš„æ—¥æœŸæ—¶é—´è§£æä¸è®¡ç®—å·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2579909358396288/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ•ç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T03:09:25.000Z" title="Tue Jan 27 2026 03:09:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">python-dateutil - å¼ºå¤§çš„æ—¥æœŸæ—¶é—´è§£æä¸è®¡ç®—å·¥å…·</h2>
<h3 data-id="heading-1">ä¸€ã€ä»€ä¹ˆæ˜¯python-dateutilï¼Ÿ</h3>
<p><strong>python-dateutil</strong> æ˜¯ä¸€ä¸ªç”¨äºæ‰©å±•æ ‡å‡†åº“ <code>datetime</code> æ¨¡å—çš„ Python åº“ã€‚
å®ƒå¯ä»¥å¸®åŠ©ä½ ï¼š</p>
<ul>
<li>çµæ´»åœ°è§£æå„ç§æ ¼å¼çš„æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²ã€‚</li>
<li>è¿›è¡Œå¤æ‚çš„æ—¥æœŸæ—¶é—´è®¡ç®—ï¼Œä¾‹å¦‚è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„ç›¸å¯¹æ—¶é—´ã€‚</li>
<li>å¤„ç†æ—¶åŒºä¿¡æ¯ï¼Œè¿›è¡Œæ—¶åŒºè½¬æ¢ã€‚</li>
</ul>
<h3 data-id="heading-2">äºŒã€åº”ç”¨åœºæ™¯</h3>
<p><strong>python-dateutil</strong> å¹¿æ³›åº”ç”¨äºä»¥ä¸‹å®é™…åœºæ™¯ï¼š</p>
<ul>
<li><strong>æ—¥å¿—åˆ†æ</strong>: ä»ä¸åŒæ ¼å¼çš„æ—¥å¿—æ–‡ä»¶ä¸­æå–æ—¥æœŸæ—¶é—´ä¿¡æ¯è¿›è¡Œåˆ†æã€‚</li>
<li><strong>æ•°æ®å¤„ç†</strong>: æ¸…æ´—å’Œæ ‡å‡†åŒ–åŒ…å«æ—¥æœŸæ—¶é—´å­—æ®µçš„æ•°æ®é›†ã€‚</li>
<li><strong>æ’ç¨‹ç³»ç»Ÿ</strong>: è®¡ç®—ä»»åŠ¡çš„å¼€å§‹æ—¶é—´ã€ç»“æŸæ—¶é—´æˆ–æœªæ¥æŸä¸ªæ—¶é—´ç‚¹ã€‚</li>
<li><strong>æŠ¥è¡¨ç”Ÿæˆ</strong>: æ ¹æ®ç‰¹å®šæ—¶é—´èŒƒå›´æ±‡æ€»æ•°æ®ã€‚</li>
</ul>
<h3 data-id="heading-3">ä¸‰ã€å¦‚ä½•å®‰è£…</h3>
<ol>
<li>ä½¿ç”¨ pip å®‰è£…</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">pip install python-dateutil

<span class="hljs-comment"># å¦‚æœå®‰è£…æ…¢çš„è¯ï¼Œæ¨èä½¿ç”¨å›½å†…é•œåƒæº</span>
pip install python-dateutil -i https://www.python64.cn/pypi/simple/
</code></pre>
<ol start="2">
<li>ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.min2k.com%2Ftools%2Fpython-run%2F" target="_blank" title="https://www.min2k.com/tools/python-run/" ref="nofollow noopener noreferrer">PythonRun</a> åœ¨çº¿è¿è¡Œä»£ç ï¼ˆæ— éœ€æœ¬åœ°å®‰è£…ï¼‰</li>
</ol>
<h3 data-id="heading-4">å››ã€ç¤ºä¾‹ä»£ç </h3>
<p>è§£æå¹¶æ ¼å¼åŒ–ä¸€ä¸ªæ—¥æœŸå­—ç¬¦ä¸²</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> dateutil <span class="hljs-keyword">import</span> parser
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime

<span class="hljs-comment"># ä¸€ä¸ªåŒ…å«æ—¥æœŸçš„å­—ç¬¦ä¸²</span>
date_string = <span class="hljs-string">"May 25, 2023 at 10:30 AM"</span>

<span class="hljs-comment"># ä½¿ç”¨dateutil.parserè§£æå­—ç¬¦ä¸²</span>
parsed_date = parser.parse(date_string)

<span class="hljs-comment"># æ£€æŸ¥è§£ææ˜¯å¦æˆåŠŸ</span>
<span class="hljs-keyword">if</span> parsed_date:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"åŸå§‹æ—¥æœŸå­—ç¬¦ä¸²: <span class="hljs-subst">{date_string}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è§£æåçš„æ—¥æœŸå¯¹è±¡: <span class="hljs-subst">{parsed_date}</span>"</span>)
    <span class="hljs-comment"># å°†è§£æåçš„æ—¥æœŸæ ¼å¼åŒ–ä¸ºå¦ä¸€ç§å­—ç¬¦ä¸²</span>
    formatted_date = parsed_date.strftime(<span class="hljs-string">"%Y/%m/%d %H:%M:%S"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ ¼å¼åŒ–åçš„æ—¥æœŸå­—ç¬¦ä¸²: <span class="hljs-subst">{formatted_date}</span>"</span>)
<span class="hljs-keyword">else</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ—¥æœŸå­—ç¬¦ä¸²è§£æå¤±è´¥ã€‚"</span>)

</code></pre>
<p>ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.min2k.com%2Ftools%2Fpython-run%2F%3Fcode%3Dfrom%2520dateutil%2520import%2520parser%250Afrom%2520datetime%2520import%2520datetime%250A%250A%2523%2520%25E4%25B8%2580%25E4%25B8%25AA%25E5%258C%2585%25E5%2590%25AB%25E6%2597%25A5%25E6%259C%259F%25E7%259A%2584%25E5%25AD%2597%25E7%25AC%25A6%25E4%25B8%25B2%250Adate_string%2520%253D%2520%2522May%252025%252C%25202023%2520at%252010%253A30%2520AM%2522%250A%250A%2523%2520%25E4%25BD%25BF%25E7%2594%25A8dateutil.parser%25E8%25A7%25A3%25E6%259E%2590%25E5%25AD%2597%25E7%25AC%25A6%25E4%25B8%25B2%250Aparsed_date%2520%253D%2520parser.parse%2528date_string%2529%250A%250A%2523%2520%25E6%25A3%2580%25E6%259F%25A5%25E8%25A7%25A3%25E6%259E%2590%25E6%2598%25AF%25E5%2590%25A6%25E6%2588%2590%25E5%258A%259F%250Aif%2520parsed_date%253A%250A%2520%2520%2520%2520print%2528f%2522%25E5%258E%259F%25E5%25A7%258B%25E6%2597%25A5%25E6%259C%259F%25E5%25AD%2597%25E7%25AC%25A6%25E4%25B8%25B2%253A%2520%257Bdate_string%257D%2522%2529%250A%2520%2520%2520%2520print%2528f%2522%25E8%25A7%25A3%25E6%259E%2590%25E5%2590%258E%25E7%259A%2584%25E6%2597%25A5%25E6%259C%259F%25E5%25AF%25B9%25E8%25B1%25A1%253A%2520%257Bparsed_date%257D%2522%2529%250A%2520%2520%2520%2520%2523%2520%25E5%25B0%2586%25E8%25A7%25A3%25E6%259E%2590%25E5%2590%258E%25E7%259A%2584%25E6%2597%25A5%25E6%259C%259F%25E6%25A0%25BC%25E5%25BC%258F%25E5%258C%2596%25E4%25B8%25BA%25E5%258F%25A6%25E4%25B8%2580%25E7%25A7%258D%25E5%25AD%2597%25E7%25AC%25A6%25E4%25B8%25B2%250A%2520%2520%2520%2520formatted_date%2520%253D%2520parsed_date.strftime%2528%2522%2525Y%252F%2525m%252F%2525d%2520%2525H%253A%2525M%253A%2525S%2522%2529%250A%2520%2520%2520%2520print%2528f%2522%25E6%25A0%25BC%25E5%25BC%258F%25E5%258C%2596%25E5%2590%258E%25E7%259A%2584%25E6%2597%25A5%25E6%259C%259F%25E5%25AD%2597%25E7%25AC%25A6%25E4%25B8%25B2%253A%2520%257Bformatted_date%257D%2522%2529%250Aelse%253A%250A%2520%2520%2520%2520print%2528%2522%25E6%2597%25A5%25E6%259C%259F%25E5%25AD%2597%25E7%25AC%25A6%25E4%25B8%25B2%25E8%25A7%25A3%25E6%259E%2590%25E5%25A4%25B1%25E8%25B4%25A5%25E3%2580%2582%2522%2529%250A" target="_blank" title="https://www.min2k.com/tools/python-run/?code=from%20dateutil%20import%20parser%0Afrom%20datetime%20import%20datetime%0A%0A%23%20%E4%B8%80%E4%B8%AA%E5%8C%85%E5%90%AB%E6%97%A5%E6%9C%9F%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%0Adate_string%20%3D%20%22May%2025%2C%202023%20at%2010%3A30%20AM%22%0A%0A%23%20%E4%BD%BF%E7%94%A8dateutil.parser%E8%A7%A3%E6%9E%90%E5%AD%97%E7%AC%A6%E4%B8%B2%0Aparsed_date%20%3D%20parser.parse%28date_string%29%0A%0A%23%20%E6%A3%80%E6%9F%A5%E8%A7%A3%E6%9E%90%E6%98%AF%E5%90%A6%E6%88%90%E5%8A%9F%0Aif%20parsed_date%3A%0A%20%20%20%20print%28f%22%E5%8E%9F%E5%A7%8B%E6%97%A5%E6%9C%9F%E5%AD%97%E7%AC%A6%E4%B8%B2%3A%20%7Bdate_string%7D%22%29%0A%20%20%20%20print%28f%22%E8%A7%A3%E6%9E%90%E5%90%8E%E7%9A%84%E6%97%A5%E6%9C%9F%E5%AF%B9%E8%B1%A1%3A%20%7Bparsed_date%7D%22%29%0A%20%20%20%20%23%20%E5%B0%86%E8%A7%A3%E6%9E%90%E5%90%8E%E7%9A%84%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%BA%E5%8F%A6%E4%B8%80%E7%A7%8D%E5%AD%97%E7%AC%A6%E4%B8%B2%0A%20%20%20%20formatted_date%20%3D%20parsed_date.strftime%28%22%25Y%2F%25m%2F%25d%20%25H%3A%25M%3A%25S%22%29%0A%20%20%20%20print%28f%22%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%90%8E%E7%9A%84%E6%97%A5%E6%9C%9F%E5%AD%97%E7%AC%A6%E4%B8%B2%3A%20%7Bformatted_date%7D%22%29%0Aelse%3A%0A%20%20%20%20print%28%22%E6%97%A5%E6%9C%9F%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%A7%A3%E6%9E%90%E5%A4%B1%E8%B4%A5%E3%80%82%22%29%0A" ref="nofollow noopener noreferrer">PythonRun</a> åœ¨çº¿è¿è¡Œè¿™æ®µä»£ç ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-text" lang="text">åŸå§‹æ—¥æœŸå­—ç¬¦ä¸²: May 25, 2023 at 10:30 AM
è§£æåçš„æ—¥æœŸå¯¹è±¡: 2023-05-25 10:30:00
æ ¼å¼åŒ–åçš„æ—¥æœŸå­—ç¬¦ä¸²: 2023/05/25 10:30:00
</code></pre>
<p>ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.min2k.com%2Ftools%2Fmermaid%2F%3Fcode%3Dflowchart%2520TB%250A%2520%2520A%255B%25E5%25BC%2580%25E5%25A7%258B%255D%2520--%253E%2520B%257B%25E5%25AF%25BC%25E5%2585%25A5%25E6%25A8%25A1%25E5%259D%2597%257D%253B%250A%2520%2520B%2520--%253E%2520C%255B%25E5%25AE%259A%25E4%25B9%2589%25E6%2597%25A5%25E6%259C%259F%25E5%25AD%2597%25E7%25AC%25A6%25E4%25B8%25B2%255D%253B%250A%2520%2520C%2520--%253E%2520D%255B%25E4%25BD%25BF%25E7%2594%25A8parser.parse%25E8%25A7%25A3%25E6%259E%2590%25E5%25AD%2597%25E7%25AC%25A6%25E4%25B8%25B2%255D%253B%250A%2520%2520D%2520--%253E%2520E%257B%25E5%2588%25A4%25E6%2596%25AD%25E8%25A7%25A3%25E6%259E%2590%25E6%2598%25AF%25E5%2590%25A6%25E6%2588%2590%25E5%258A%259F%253F%257D%253B%250A%2520%2520E%2520--%2520%25E6%2598%25AF%2520--%253E%2520F%255B%25E6%2589%2593%25E5%258D%25B0%25E5%258E%259F%25E5%25A7%258B%25E5%25AD%2597%25E7%25AC%25A6%25E4%25B8%25B2%255D%253B%250A%2520%2520F%2520--%253E%2520G%255B%25E6%2589%2593%25E5%258D%25B0%25E8%25A7%25A3%25E6%259E%2590%25E5%2590%258E%25E5%25AF%25B9%25E8%25B1%25A1%255D%253B%250A%2520%2520G%2520--%253E%2520H%255B%25E6%25A0%25BC%25E5%25BC%258F%25E5%258C%2596%25E6%2597%25A5%25E6%259C%259F%255D%253B%250A%2520%2520H%2520--%253E%2520I%255B%25E6%2589%2593%25E5%258D%25B0%25E6%25A0%25BC%25E5%25BC%258F%25E5%258C%2596%25E5%25AD%2597%25E7%25AC%25A6%25E4%25B8%25B2%255D%253B%250A%2520%2520E%2520--%2520%25E5%2590%25A6%2520--%253E%2520J%255B%25E6%2589%2593%25E5%258D%25B0%25E8%25A7%25A3%25E6%259E%2590%25E5%25A4%25B1%25E8%25B4%25A5%25E4%25BF%25A1%25E6%2581%25AF%255D%253B%250A%2520%2520I%2520--%253E%2520K%255B%25E7%25BB%2593%25E6%259D%259F%255D%253B%250A%2520%2520J%2520--%253E%2520K%253B" target="_blank" title="https://www.min2k.com/tools/mermaid/?code=flowchart%20TB%0A%20%20A%5B%E5%BC%80%E5%A7%8B%5D%20--%3E%20B%7B%E5%AF%BC%E5%85%A5%E6%A8%A1%E5%9D%97%7D%3B%0A%20%20B%20--%3E%20C%5B%E5%AE%9A%E4%B9%89%E6%97%A5%E6%9C%9F%E5%AD%97%E7%AC%A6%E4%B8%B2%5D%3B%0A%20%20C%20--%3E%20D%5B%E4%BD%BF%E7%94%A8parser.parse%E8%A7%A3%E6%9E%90%E5%AD%97%E7%AC%A6%E4%B8%B2%5D%3B%0A%20%20D%20--%3E%20E%7B%E5%88%A4%E6%96%AD%E8%A7%A3%E6%9E%90%E6%98%AF%E5%90%A6%E6%88%90%E5%8A%9F%3F%7D%3B%0A%20%20E%20--%20%E6%98%AF%20--%3E%20F%5B%E6%89%93%E5%8D%B0%E5%8E%9F%E5%A7%8B%E5%AD%97%E7%AC%A6%E4%B8%B2%5D%3B%0A%20%20F%20--%3E%20G%5B%E6%89%93%E5%8D%B0%E8%A7%A3%E6%9E%90%E5%90%8E%E5%AF%B9%E8%B1%A1%5D%3B%0A%20%20G%20--%3E%20H%5B%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%97%A5%E6%9C%9F%5D%3B%0A%20%20H%20--%3E%20I%5B%E6%89%93%E5%8D%B0%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2%5D%3B%0A%20%20E%20--%20%E5%90%A6%20--%3E%20J%5B%E6%89%93%E5%8D%B0%E8%A7%A3%E6%9E%90%E5%A4%B1%E8%B4%A5%E4%BF%A1%E6%81%AF%5D%3B%0A%20%20I%20--%3E%20K%5B%E7%BB%93%E6%9D%9F%5D%3B%0A%20%20J%20--%3E%20K%3B" ref="nofollow noopener noreferrer">MermaidGo</a> ç»˜åˆ¶ç¤ºä¾‹ä»£ç çš„æµç¨‹å›¾ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9663d5d3848435da54348365d50949e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWP57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088165&amp;x-signature=JKwfigtlDVfTXVaUfB1zNgfDUpo%3D" alt="MermerGoçš„python-dateutilæµç¨‹å›¾" loading="lazy"/></p>
<h3 data-id="heading-5">äº”ã€å­¦ä¹ èµ„æº</h3>
<ol>
<li>å¼€æºé¡¹ç›®ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdateutil%2Fdateutil" target="_blank" title="https://github.com/dateutil/dateutil" ref="nofollow noopener noreferrer">dateutil</a></li>
<li>ä¸­æ–‡è‡ªè¿°ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.python64.cn%2Freadme%2Fpython-dateutil%2F" target="_blank" title="https://www.python64.cn/readme/python-dateutil/" ref="nofollow noopener noreferrer">REMDME</a></li>
<li>åœ¨çº¿è¿è¡Œï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.min2k.com%2Ftools%2Fpython-run%2F" target="_blank" title="https://www.min2k.com/tools/python-run/" ref="nofollow noopener noreferrer">PythonRun</a></li>
</ol>
<blockquote>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµã€æ”¶è—ã€è½¬å‘ï¼<br/>
å­¦ä¹ è¿‡ç¨‹ä¸­æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµï½</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¯Šæ–­ã€åˆ†å‰²ã€è§£é‡Šä¸‰ä½ä¸€ä½“ï¼šåŒ»å­¦AIå¦‚ä½•ä»â€œå·¥å…·â€è¿›åŒ–æˆâ€œåŠ©æ‰‹â€ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7599652649550233600</link>    <guid>https://juejin.cn/post/7599652649550233600</guid>    <pubDate>2026-01-27T03:16:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599652649550233600" data-draft-id="7599598627007627316" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¯Šæ–­ã€åˆ†å‰²ã€è§£é‡Šä¸‰ä½ä¸€ä½“ï¼šåŒ»å­¦AIå¦‚ä½•ä»â€œå·¥å…·â€è¿›åŒ–æˆâ€œåŠ©æ‰‹â€ï¼Ÿ"/> <meta itemprop="keywords" content="ç®—æ³•,è®¡ç®—æœºè§†è§‰,æ·±åº¦å­¦ä¹ "/> <meta itemprop="datePublished" content="2026-01-27T03:16:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CoovallyAIHub"/> <meta itemprop="url" content="https://juejin.cn/user/2461151071843739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¯Šæ–­ã€åˆ†å‰²ã€è§£é‡Šä¸‰ä½ä¸€ä½“ï¼šåŒ»å­¦AIå¦‚ä½•ä»â€œå·¥å…·â€è¿›åŒ–æˆâ€œåŠ©æ‰‹â€ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2461151071843739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CoovallyAIHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T03:16:50.000Z" title="Tue Jan 27 2026 03:16:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨åŒ»å­¦å½±åƒçš„ä¸–ç•Œé‡Œï¼ŒAIæ¨¡å‹å¤§å¤šè¿˜åœç•™åœ¨â€œå·¥å…·â€é˜¶æ®µï¼šå®ƒä»¬èƒ½ç²¾å‡†å‹¾ç”»ç—…ç¶è½®å»“ï¼Œå´æ— æ³•å‘Šè¯‰ä½ è¿™æ„å‘³ç€ä»€ä¹ˆï¼›å®ƒä»¬èƒ½å›ç­”ç–¾ç—…åç§°ï¼Œå´æŒ‡ä¸å‡ºç—…ç¶çš„å…·ä½“ä½ç½®ã€‚åŒ»ç”Ÿé¢å¯¹çš„ï¼Œä»ç„¶æ˜¯ç¢ç‰‡åŒ–çš„ä¿¡æ¯ã€‚</p>
<p>ä¸€é¡¹æ¥è‡ªæ¾³é—¨å¤§å­¦çš„ç ”ç©¶ï¼Œæ­£è¯•å›¾æ‰“ç ´è¿™ç§å‰²è£‚ã€‚Sim4Seg çš„æå‡ºï¼Œæ ‡å¿—ç€åŒ»å­¦è§†è§‰è¯­è¨€æ¨¡å‹å¼€å§‹ä»â€œå·¥å…·â€å‘â€œå…·å¤‡è¯Šæ–­æ¨ç†èƒ½åŠ›çš„åŠ©æ‰‹â€æ¼”è¿›ã€‚</p>
<h2 data-id="heading-0"><strong>ä¸´åºŠçš„çœŸæ­£éœ€æ±‚ï¼šåˆ†å‰²ã€è¯Šæ–­ä¸è§£é‡Šï¼Œç¼ºä¸€ä¸å¯</strong></h2>
<p>æƒ³è±¡ä¸€ä¸‹è¿™ä¸ªåœºæ™¯ï¼šä¸€ä½åŒ»ç”Ÿæ‹¿åˆ°ä¸€å¼ èƒ¸ç‰‡ï¼ŒAIä¸ä»…é«˜äº®äº†ä¸€ç‰‡é˜´å½±åŒºåŸŸï¼ˆåˆ†å‰²ï¼‰ï¼Œè¿˜èƒ½åŒæ—¶ç»™å‡ºè¯Šæ–­â€”â€”â€œç–‘ä¼¼è‚ºç‚â€ï¼Œå¹¶é™„ä¸Šæ¨ç†ï¼šâ€œæ­¤å¤„å¯è§ç‰‡çŠ¶é«˜å¯†åº¦å½±ï¼Œè¾¹ç•Œæ¨¡ç³Šï¼Œç¬¦åˆç¤¾åŒºè·å¾—æ€§è‚ºç‚çš„å…¸å‹å½±åƒå­¦è¡¨ç°â€ã€‚</p>
<p>è¿™æ‰æ˜¯ä¸´åºŠå·¥ä½œæµä¸­çœŸæ­£éœ€è¦çš„è¾…åŠ©ï¼šå®šä½ã€å®šæ€§ä¸è§£é‡Šï¼Œä¸‰ä½ä¸€ä½“ã€‚</p>
<p>ç„¶è€Œï¼Œç°æœ‰æŠ€æœ¯æ˜¯å‰²è£‚çš„ï¼š</p>
<ul>
<li><strong>ä¼ ç»Ÿåˆ†å‰²æ¨¡å‹ï¼ˆå¦‚U-Netã€SAM-Med2Dï¼‰ï¼š</strong> ç²¾äºåƒç´ çº§å‹¾å‹’ï¼Œä½†â€œæ²‰é»˜ä¸è¯­â€ã€‚</li>
<li><strong>åŒ»å­¦è§†è§‰é—®ç­”æ¨¡å‹ï¼ˆVQAï¼‰ï¼š</strong> èƒ½å›ç­”é—®é¢˜ï¼Œä½†è¾“å‡ºæ˜¯çº¯æ–‡æœ¬ï¼Œç¼ºä¹ç©ºé—´å®šä½èƒ½åŠ›ã€‚</li>
</ul>
<p>Sim4Segæ‰€å®šä¹‰çš„ <strong>Medical Diagnosis Segmentationï¼ˆMDSï¼‰</strong> Â ä»»åŠ¡ï¼Œæ­£æ˜¯ä¸ºäº†è§£å†³è¿™ä¸€æ ¸å¿ƒçŸ›ç›¾ã€‚å®ƒè¦æ±‚æ¨¡å‹æ¥æ”¶ä¸€å¼ åŒ»å­¦å›¾åƒå’Œä¸€ä¸ªè¯Šæ–­å¼æŸ¥è¯¢ï¼ŒåŒæ—¶è¾“å‡º<strong>åˆ†å‰²æ©ç </strong>ä¸å¸¦æœ‰<strong>æ¨ç†é“¾ï¼ˆChain-of-Thoughtï¼‰çš„è¯Šæ–­ç»“è®ºã€‚</strong></p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f0321bda2075473d9d0895f4f303c9ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088613&amp;x-signature=JBRMs37XoP1NyqCBvpiB3SrFvX8%3D" alt="screenshot_2026-01-26_16-32-42.png" loading="lazy"/></p>
<h2 data-id="heading-1"><strong>æ•°æ®å¥ åŸºï¼šM3DSæ•°æ®é›†â€”â€”ä¸ºâ€œä¼šæ€è€ƒçš„åˆ†å‰²â€è€Œç”Ÿ</strong></h2>
<p>å¥½çš„æ¨¡å‹éœ€è¦å¥½çš„æ•°æ®ã€‚ä¸ºäº†æ”¯æŒMDSè¿™ä¸€æ–°ä»»åŠ¡ï¼Œç ”ç©¶å›¢é˜Ÿæ„å»ºäº†M3DSæ•°æ®é›†ï¼Œå…¶ç‹¬ç‰¹ä»·å€¼åœ¨äº<strong>é¦–æ¬¡å¤§è§„æ¨¡ç»Ÿä¸€äº†åˆ†å‰²æ ‡æ³¨ä¸è¯Šæ–­æ¨ç†é“¾ã€‚</strong></p>
<ul>
<li><strong>æ•°æ®äº®ç‚¹ï¼š</strong></li>
</ul>

<ul>
<li><strong>å¤šæ¨¡æ€ä¸å¤šç–¾ç—…ï¼š</strong> æ¶µç›–Xå…‰ã€è¶…å£°ã€å†…é•œã€çš®è‚¤é•œã€çœ¼åº•ç…§ç›¸5ç§æ¨¡æ€ï¼ŒåŒ…å«éª¨æŠ˜ã€æ¯è‚‰ã€ç»“èŠ‚ã€è‚¿ç˜¤ç­‰10ç±»ç–¾ç—…ã€‚</li>
</ul>

<ul>
<li>
<p><strong>é«˜è´¨é‡è¯Šæ–­CoTç”Ÿæˆï¼š</strong> é‡‡ç”¨åˆ›æ–°çš„åŒè§’è‰²è‡ªåŠ¨åŒ–æµæ°´çº¿ç”Ÿæˆè¯Šæ–­æ¨ç†æ–‡æœ¬ã€‚</p>
<p>åŒ»å­¦åŠ©æ‰‹ï¼ˆHuatuoGPT-Visionï¼‰ï¼šæŒ‰æ­¥éª¤åˆ†æå›¾åƒï¼Œç”Ÿæˆåˆæ­¥è¯Šæ–­ä¸æ¨ç†ã€‚</p>
<p>æ‰¹åˆ¤åŠ©æ‰‹ï¼šä¸¥æ ¼å®¡æŸ¥æ¨ç†çš„é€»è¾‘å®Œæ•´æ€§ã€åŒ»å­¦å‡†ç¡®æ€§å’Œæœ¯è¯­è§„èŒƒæ€§ã€‚</p>
<p>æœ€ç»ˆé€šè¿‡äººå·¥å¤æ ¸ç¡®ä¿å¯é æ€§ã€‚è¿™å¥—æ–¹æ³•é«˜æ•ˆåœ°è§£å†³äº†è¯Šæ–­æ–‡æœ¬æ ‡æ³¨æˆæœ¬æé«˜çš„éš¾é¢˜ã€‚</p>
</li>
</ul>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8325efd879084b99af6a0783125e4672~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088613&amp;x-signature=KwnS9%2ByzEjS76iLVl627WjxXrlY%3D" alt="screenshot_2026-01-26_16-33-33.png" loading="lazy"/></p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/94253ab2281245edba407f630d4d6c05~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088613&amp;x-signature=9TjcetqE0M7lscr8h0wDKNEjaV4%3D" alt="screenshot_2026-01-26_16-33-54.png" loading="lazy"/></p>
<h2 data-id="heading-2"><strong>æ¨¡å‹æ ¸å¿ƒï¼šRVLS2Mâ€”â€”è®©è¯­è¨€ç†è§£â€œç…§äº®â€å›¾åƒåŒºåŸŸ</strong></h2>
<p>Sim4Segçš„æ ¸å¿ƒåˆ›æ–°æ˜¯ä¸€ä¸ªåä¸ºÂ <strong>RVLS2Mï¼ˆåŒºåŸŸæ„ŸçŸ¥è§†è§‰-è¯­è¨€ç›¸ä¼¼åº¦æ©ç ï¼‰</strong> Â çš„æ¨¡å—ã€‚å®ƒçš„è®¾è®¡ç†å¿µéå¸¸å·§å¦™ï¼š<strong>åˆ©ç”¨æ¨¡å‹å†…éƒ¨å¯¹è¯Šæ–­æ–‡æœ¬çš„ç†è§£ï¼Œåè¿‡æ¥ç”Ÿæˆä¸€ä¸ªèƒ½æŒ‡å¯¼åˆ†å‰²çš„â€œåŒºåŸŸæç¤ºå›¾â€ã€‚</strong></p>
<p><strong>å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</strong></p>
<ol>
<li>ç‰¹å¾æå–ä¸å¯¹é½ï¼šå¤§å‹è§†è§‰è¯­è¨€æ¨¡å‹ï¼ˆLVLMï¼‰åœ¨å¤„ç†å›¾åƒå’Œè¯Šæ–­æŸ¥è¯¢æ—¶ï¼Œä¼šè¾“å‡ºå›¾åƒç‰¹å¾å’Œä»£è¡¨åˆ†å‰²ç›®æ ‡çš„ç‰¹æ®Šæ–‡æœ¬æ ‡è®°ç‰¹å¾ã€‚</li>
<li>è®¡ç®—ç›¸ä¼¼åº¦å›¾ï¼šRVLS2Mè®¡ç®—æ¯ä¸ªå›¾åƒåŒºåŸŸç‰¹å¾ä¸åˆ†å‰²ç›®æ ‡æ–‡æœ¬ç‰¹å¾ä¹‹é—´çš„ä½™å¼¦ç›¸ä¼¼åº¦ï¼Œå¾—åˆ°ä¸€å¼ â€œçƒ­åº¦å›¾â€â€”â€”è¶Šäº®çš„åœ°æ–¹ï¼Œè¡¨ç¤ºè¯¥åŒºåŸŸä¸æ–‡æœ¬æè¿°çš„ç›®æ ‡è¶Šç›¸å…³ã€‚</li>
<li>ç”ŸæˆåŒºåŸŸæç¤ºï¼šå°†ç›¸ä¼¼åº¦å›¾ç½‘æ ¼åŒ–ã€æ± åŒ–ï¼Œå¹¶é€šè¿‡è‡ªé€‚åº”é˜ˆå€¼äºŒå€¼åŒ–ï¼Œæœ€ç»ˆå¾—åˆ°ä¸€ä¸ªç²—ç³™çš„ã€åŒºåŸŸçº§çš„æç¤ºæ©ç ã€‚</li>
<li>å¼•å¯¼ç²¾ç»†åˆ†å‰²ï¼šè¿™ä¸ªæç¤ºæ©ç ä½œä¸ºç©ºé—´å…ˆéªŒçŸ¥è¯†ï¼Œè¾“å…¥åˆ°åƒSAMè¿™æ ·çš„å¼ºå¤§åˆ†å‰²å™¨ä¸­è¿›è¡Œç»†åŒ–ï¼Œå¾—åˆ°æœ€ç»ˆç²¾å‡†çš„åƒç´ çº§åˆ†å‰²ç»“æœã€‚</li>
</ol>
<p>ç®€å•è¯´ï¼ŒRVLS2Mè®©æ¨¡å‹ç”¨â€œè¯­è¨€è„‘â€æ€è€ƒåï¼Œå‘Šè¯‰â€œè§†è§‰æ‰‹â€åº”è¯¥é‡ç‚¹å…³æ³¨å›¾åƒçš„å“ªäº›åœ°æ–¹ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9cfdfb8f641d469fb105756068ab0ce2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088613&amp;x-signature=RCoILYPeu3TRJVanQ5HCKzUebOI%3D" alt="screenshot_2026-01-26_16-34-15.png" loading="lazy"/></p>
<h2 data-id="heading-3"><strong>æ€§èƒ½è·ƒå‡ï¼šä¸ä»…æ›´å‡†ï¼Œè€Œä¸”æ›´â€œåƒåŒ»ç”Ÿâ€</strong></h2>
<p>åœ¨M3DSæ•°æ®é›†ä¸Šçš„ç»¼åˆå®éªŒè¡¨æ˜ï¼ŒSim4Segå®ç°äº†åˆ†å‰²ä¸è¯Šæ–­èƒ½åŠ›çš„åŒé‡é£è·ƒï¼š</p>
<ul>
<li><strong>åˆ†å‰²æ€§èƒ½æ˜¾è‘—æå‡ï¼š</strong> ç›¸æ¯”å¼ºå¤§çš„åŸºçº¿æ¨¡å‹LISAï¼ŒSim4Segåœ¨åˆ†å‰²äº¤å¹¶æ¯”ï¼ˆgIoUï¼‰æŒ‡æ ‡ä¸Šæå‡è¶…è¿‡57%ã€‚</li>
<li><strong>è¯Šæ–­å‡†ç¡®ç‡å¤§å¹…æé«˜ï¼š</strong> åœ¨è¯Šæ–­å‡†ç¡®ç‡ï¼ˆAccï¼‰ä¸Šï¼ŒSim4Segç»“åˆæ¨ç†é“¾æ•°æ®åï¼Œæ¯”åŸºçº¿æå‡è¶…è¿‡165%ã€‚</li>
<li><strong>å³æ’å³ç”¨çš„æœ‰æ•ˆæ€§ï¼š</strong> RVLS2Mæ¨¡å—ç”šè‡³å¯ä»¥åœ¨ä¸è¿›è¡Œé¢å¤–è®­ç»ƒçš„æƒ…å†µä¸‹ï¼Œç›´æ¥æå‡ç°æœ‰æ¨¡å‹ï¼ˆå¦‚LISAï¼‰çš„åˆ†å‰²æ€§èƒ½ï¼ˆé›¶æ ·æœ¬ä¸‹æå‡11.6%ï¼‰ï¼Œè¯æ˜äº†å…¶å¼ºå¤§çš„é€šç”¨æ€§ã€‚</li>
</ul>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df22a1cc348a4e21aa791e26969c569f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088613&amp;x-signature=MLC9Ygoug2msL7X41ERIGSHGbeo%3D" alt="screenshot_2026-01-26_16-35-31.png" loading="lazy"/></p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81abcd3aba41468f85d15c62f2224222~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088613&amp;x-signature=N5DSq%2BHqtA9V34M16FiMZRK6Yms%3D" alt="screenshot_2026-01-26_16-35-41.png" loading="lazy"/></p>
<h2 data-id="heading-4"><strong>ä¸¤å¤§â€œåŠ©æ”»â€ç­–ç•¥ï¼šè®©æ¨¡å‹â€œå¤šæƒ³å¤šè¯•â€</strong></h2>
<p>é™¤äº†æ ¸å¿ƒæ¨¡å—ï¼Œè®ºæ–‡ä¸­ä¸¤ä¸ªç­–ç•¥ä¹Ÿå€¼å¾—å…³æ³¨ï¼š</p>
<ol>
<li><strong>æµ‹è¯•æ—¶ç¼©æ”¾ï¼ˆTTSï¼‰ï¼š</strong> åœ¨æ¨ç†é˜¶æ®µï¼Œè®©æ¨¡å‹ç”Ÿæˆå¤šæ¡ä¸åŒçš„è¯Šæ–­æ¨ç†è·¯å¾„ï¼Œæ¯æ¡è·¯å¾„éƒ½å¯èƒ½è¯±å¯¼å‡ºç•¥æœ‰å·®å¼‚çš„åˆ†å‰²æç¤ºï¼Œè¿›è€Œäº§ç”Ÿå¤šä¸ªå€™é€‰åˆ†å‰²ç»“æœã€‚æœ€åé€šè¿‡æŒ‡æ ‡é€‰æ‹©æœ€ä¼˜çš„ä¸€ä¸ªã€‚è¿™æ¨¡æ‹Ÿäº†åŒ»ç”Ÿçš„å¤šè§’åº¦æ€è€ƒè¿‡ç¨‹ã€‚</li>
<li><strong>æœ€ä¼˜ç²’åº¦é€‰æ‹©ï¼ˆÏ„ç­–ç•¥ï¼‰ï¼š</strong> ç ”ç©¶å‘ç°ï¼ŒåŒºåŸŸæç¤ºçš„â€œç²—ç»†â€å¾ˆæœ‰è®²ç©¶ã€‚æç¤ºå¤ªç²—ç³™ï¼ˆç½‘æ ¼å¤ªå¤§ï¼‰ä¼šå¯¼è‡´å®šä½æ¨¡ç³Šï¼›æç¤ºå¤ªç²¾ç»†ï¼ˆç½‘æ ¼å¤ªå°ï¼‰åˆä¼šå¼•å…¥å™ªå£°ã€‚å®éªŒæ‰¾åˆ°äº†ä¸€ä¸ªæœ€ä½³å¹³è¡¡ç‚¹ï¼ˆå¦‚16Ã—16ç½‘æ ¼ï¼‰ã€‚</li>
</ol>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16cedd17b24b40e99264f50952c6c15a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088613&amp;x-signature=tFYbqgMRX1ZNKICqT6u1iaRPf7k%3D" alt="screenshot_2026-01-26_16-36-06.png" loading="lazy"/></p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b69bfb376fa4a078a4156003e78b692~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088613&amp;x-signature=87RsgtkHKwBVBEdTA7uO%2BetNz%2F0%3D" alt="screenshot_2026-01-26_16-36-21.png" loading="lazy"/></p>
<h2 data-id="heading-5"><strong>æ¡ˆä¾‹è§è¯ï¼šçœ‹æ¨¡å‹å¦‚ä½•â€œä¸€æ­¥æ­¥æ€è€ƒâ€</strong></h2>
<p>è®ºæ–‡å±•ç¤ºäº†å¤šä¸ªè·¨æ¨¡æ€çš„çœŸå®æ¡ˆä¾‹ã€‚ä¾‹å¦‚ï¼Œé¢å¯¹ä¸€å¼ çœ¼åº•ç…§ç‰‡ï¼ŒSim4Segä¸ä»…èƒ½ç²¾ç¡®åˆ†å‰²å‡ºé»„æ–‘åŒºç—…å˜çš„è¡€ç®¡ï¼Œè¿˜èƒ½ç”Ÿæˆå¦‚ä¸‹è¯Šæ–­æ¨ç†é“¾ï¼š</p>
<p>â€œè¿™æ˜¯ä¸€å¼ çœ¼åº•å½©ç…§ã€‚é¦–å…ˆï¼Œå›¾åƒä¸­å¤®å¯è§é»„æ–‘åŒº...å…¶æ¬¡ï¼Œè§‚å¯Ÿåˆ°å±€éƒ¨æœ‰ç‰‡çŠ¶å‡ºè¡€å’Œæ¸—å‡º...ç»“åˆæ‚£è€…å¯èƒ½çš„å¹´é¾„å› ç´ ï¼Œè¿™äº›è¡¨ç°ç¬¦åˆæ¹¿æ€§å¹´é¾„ç›¸å…³æ€§é»„æ–‘å˜æ€§çš„è¯Šæ–­ã€‚â€</p>
<p>è¿™ç§è¾“å‡ºï¼Œè®©æ¨¡å‹çš„å†³ç­–è¿‡ç¨‹å˜å¾—<strong>é€æ˜ã€å¯ä¿¡ã€å¯å®¡æŸ¥</strong>ï¼Œæå¤§åœ°å¢å¼ºäº†ä¸´åºŠåŒ»ç”Ÿçš„ä¿¡ä»»æ„Ÿã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/acdcae6779c54791a69c8789b6f2d16b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088613&amp;x-signature=ISPBlFYMmvlRp8xSIMSQ11Cvgyo%3D" alt="screenshot_2026-01-26_16-36-54.png" loading="lazy"/></p>
<h2 data-id="heading-6"><strong>ç»“è¯­ï¼šèŒƒå¼è½¬å˜çš„å¼€å§‹</strong></h2>
<p>Sim4Segçš„æ„ä¹‰è¿œä¸æ­¢äºä¸€é¡¹æŠ€æœ¯æ”¹è¿›ã€‚å®ƒä»£è¡¨äº†ä¸€æ¡æ˜ç¡®çš„æ¼”è¿›è·¯å¾„ï¼šåŒ»å­¦AIæ­£ä»æ‰§è¡Œå•ä¸€ä»»åŠ¡çš„â€œä¸“ç”¨å·¥å…·â€ï¼Œæˆé•¿ä¸ºèƒ½å¤ŸååŒå®Œæˆæ„ŸçŸ¥ã€æ¨ç†ä¸è§£é‡Šçš„ä¸´åºŠåŠ©æ‰‹ã€‚</p>
<p>é€šè¿‡æå‡ºMDSä»»åŠ¡ã€æ„å»ºM3DSæ•°æ®é›†ï¼Œä»¥åŠåˆ›æ–°æ€§åœ°åˆ©ç”¨è§†è§‰-è¯­è¨€ç›¸ä¼¼æ€§æ¥æ¡¥æ¥åˆ†å‰²ä¸è¯Šæ–­ï¼Œè¿™é¡¹å·¥ä½œä¸ºæœªæ¥çœŸæ­£â€œæ‡‚åŒ»å­¦ã€ä¼šæ€è€ƒâ€çš„AIå¥ å®šäº†å…³é”®çš„åŸºç¡€ã€‚å½“æ¨¡å‹æ—¢èƒ½â€œæŒ‡å‡ºæ¥â€ï¼Œåˆèƒ½â€œè¯´å‡ºæ¥â€ï¼Œè¿˜èƒ½â€œè§£é‡Šæ¸…æ¥šâ€æ—¶ï¼Œæˆ‘ä»¬è·ç¦»AIæˆä¸ºåŒ»ç”Ÿçš„å¾—åŠ›ä¼™ä¼´ï¼Œä¾¿åˆè¿‘äº†ä¸€æ­¥ã€‚</p>
<blockquote>
<p>ä»£ç åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSLR567%2FSim4Seg" target="_blank" title="https://github.com/SLR567/Sim4Seg" ref="nofollow noopener noreferrer">github.com/SLR567/Sim4â€¦</a></p>
<p>æ•°æ®é›†åœ°å€ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSLR567%2FM3DS" target="_blank" title="https://github.com/SLR567/M3DS" ref="nofollow noopener noreferrer">github.com/SLR567/M3DS</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨ Java ä¸­å®ç° Word å’Œ TXT ä¹‹é—´çš„äº’ç›¸è½¬æ¢ï¼šå®ç”¨æ•™ç¨‹]]></title>    <link>https://juejin.cn/post/7599530824426749962</link>    <guid>https://juejin.cn/post/7599530824426749962</guid>    <pubDate>2026-01-27T01:37:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599530824426749962" data-draft-id="7599538010726039579" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨ Java ä¸­å®ç° Word å’Œ TXT ä¹‹é—´çš„äº’ç›¸è½¬æ¢ï¼šå®ç”¨æ•™ç¨‹"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2026-01-27T01:37:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·033212666367"/> <meta itemprop="url" content="https://juejin.cn/user/230252528804124"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨ Java ä¸­å®ç° Word å’Œ TXT ä¹‹é—´çš„äº’ç›¸è½¬æ¢ï¼šå®ç”¨æ•™ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/230252528804124/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·033212666367
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T01:37:34.000Z" title="Tue Jan 27 2026 01:37:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ—¥å¸¸çš„è½¯ä»¶å¼€å‘å’ŒåŠå…¬è‡ªåŠ¨åŒ–åœºæ™¯ä¸­ï¼Œæ–‡æ¡£æ ¼å¼è½¬æ¢æ˜¯ä¸€ä¸ªæ™®éä¸”é‡è¦çš„éœ€æ±‚ã€‚æ— è®ºæ˜¯ä»ç»“æ„åŒ–çš„ Word æ–‡æ¡£ä¸­æå–çº¯æ–‡æœ¬ä¿¡æ¯ï¼Œè¿˜æ˜¯å°†çº¯æ–‡æœ¬å†…å®¹æ ¼å¼åŒ–ä¸ºå¯ç¼–è¾‘çš„ Word æ–‡æ¡£ï¼Œé«˜æ•ˆã€å‡†ç¡®åœ°å®ç°è¿™ä¸¤ç§æ ¼å¼çš„äº’ç›¸è½¬æ¢ï¼Œæ˜¯è®¸å¤šå¼€å‘è€…é¢ä¸´çš„ç—›ç‚¹ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨å¦‚ä½•åœ¨ Java ç¯å¢ƒä¸‹ï¼Œå€ŸåŠ©ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„åº“ï¼Œè½»æ¾è§£å†³ Word å’Œ TXT ä¹‹é—´çš„è½¬æ¢éš¾é¢˜ï¼Œæå‡æ‚¨çš„å¼€å‘æ•ˆç‡ã€‚</p>
<hr/>
<h2 data-id="heading-0">Spire.Doc for Javaï¼šWord ä¸ TXT è½¬æ¢çš„åˆ©å™¨</h2>
<p>åœ¨ Java ç”Ÿæ€ä¸­ï¼Œå¤„ç† Word æ–‡æ¡£çš„åº“å¹¶ä¸å°‘è§ï¼Œä½† Spire.Doc for Java å‡­å€Ÿå…¶å¼ºå¤§çš„åŠŸèƒ½å’Œæ˜“ç”¨æ€§è„±é¢–è€Œå‡ºã€‚å®ƒæ˜¯ä¸€ä¸ªä¸“ä¸šçš„ Word æ–‡æ¡£å¤„ç†ç»„ä»¶ï¼Œæ”¯æŒåˆ›å»ºã€è¯»å†™ã€ç¼–è¾‘ã€è½¬æ¢å’Œæ‰“å° Word æ–‡æ¡£ï¼Œå¹¶ä¸”å…¼å®¹å¤šç§ Word ç‰ˆæœ¬ã€‚å…¶ä¸­ï¼Œå¯¹ Word å’Œ TXT æ ¼å¼çš„äº’ç›¸è½¬æ¢æä¾›äº†éå¸¸ä¾¿æ·çš„ APIã€‚</p>
<h3 data-id="heading-1">å¼•å…¥ Spire.Doc for Java</h3>
<p>è¦å¼€å§‹ä½¿ç”¨ Spire.Docï¼Œæ‚¨éœ€è¦å°†å…¶ä½œä¸ºä¾èµ–æ·»åŠ åˆ°æ‚¨çš„ Maven é¡¹ç›®ä¸­ã€‚</p>
<p><strong>Maven é…ç½®ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-xml" lang="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">repositories</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">repository</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>com.e-iceblue<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>e-iceblue<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://repo.e-iceblue.cn/repository/maven-public/<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">repository</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">repositories</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>e-iceblue<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spire.doc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>14.1.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<p>è¯·ç¡®ä¿æ‚¨ä½¿ç”¨çš„ç‰ˆæœ¬æ˜¯æœ€æ–°çš„ç¨³å®šç‰ˆæœ¬ï¼Œä»¥è·å–æœ€ä½³çš„å…¼å®¹æ€§å’ŒåŠŸèƒ½ã€‚</p>
<hr/>
<h2 data-id="heading-2">ä» Word åˆ° TXTï¼šé€æ­¥å®ç°æ–‡æ¡£å†…å®¹æå–</h2>
<p>å°† Word æ–‡æ¡£è½¬æ¢ä¸ºçº¯æ–‡æœ¬ï¼ˆTXTï¼‰æ˜¯ä¸€ä¸ªå¸¸è§çš„éœ€æ±‚ï¼Œä¾‹å¦‚ç”¨äºå†…å®¹æå–ã€æ–‡æœ¬åˆ†ææˆ–è·¨å¹³å°ä¼ è¾“ã€‚Spire.Doc for Java æä¾›äº†ä¸€è¡Œä»£ç å³å¯å®Œæˆæ­¤æ“ä½œã€‚</p>
<h3 data-id="heading-3">å®ç°æ­¥éª¤ï¼š</h3>
<ol>
<li><strong>åŠ è½½ Word æ–‡æ¡£ï¼š</strong> ä½¿ç”¨ <code>Document</code> ç±»çš„ <code>loadFromFile()</code> æ–¹æ³•åŠ è½½ç›®æ ‡ Word æ–‡æ¡£ã€‚</li>
<li><strong>ä¿å­˜ä¸º TXT æ ¼å¼ï¼š</strong> è°ƒç”¨ <code>saveToFile()</code> æ–¹æ³•ï¼Œå¹¶æŒ‡å®šè¾“å‡ºè·¯å¾„å’Œ <code>FileFormat.Txt</code> æ ¼å¼ã€‚</li>
<li><strong>é‡Šæ”¾èµ„æºï¼š</strong> è°ƒç”¨ <code>dispose()</code> æ–¹æ³•é‡Šæ”¾æ–‡æ¡£å¯¹è±¡å ç”¨çš„èµ„æºã€‚</li>
</ol>
<h3 data-id="heading-4">Java ä»£ç ç¤ºä¾‹ï¼š</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span>Â com.<span class="hljs-property">spire</span>.<span class="hljs-property">doc</span>.<span class="hljs-property">Document</span>;
<span class="hljs-keyword">import</span>Â com.<span class="hljs-property">spire</span>.<span class="hljs-property">doc</span>.<span class="hljs-property">FileFormat</span>;

<span class="hljs-keyword">public</span>Â <span class="hljs-keyword">class</span>Â <span class="hljs-title class_">ConvertWordtoText</span>Â {

Â Â Â Â <span class="hljs-keyword">public</span>Â <span class="hljs-keyword">static</span>Â <span class="hljs-built_in">void</span>Â <span class="hljs-title function_">main</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>[]Â args</span>)Â {

Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â åˆ›å»ºÂ DocumentÂ å¯¹è±¡</span>
Â Â Â Â Â Â Â Â <span class="hljs-title class_">Document</span>Â docÂ =Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">Document</span>();

Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â åŠ è½½Â WordÂ æ–‡ä»¶</span>
Â Â Â Â Â Â Â Â doc.<span class="hljs-title function_">loadFromFile</span>(<span class="hljs-string">"ç¤ºä¾‹.docx"</span>);

Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â å°†æ–‡æ¡£ä¿å­˜ä¸ºÂ TXTÂ æ ¼</span>
Â Â Â Â Â Â Â Â doc.<span class="hljs-title function_">saveToFile</span>(<span class="hljs-string">"Wordè½¬æ–‡æœ¬.txt"</span>,Â <span class="hljs-title class_">FileFormat</span>.<span class="hljs-property">Txt</span>);

Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â é‡Šæ”¾èµ„æº</span>
Â Â Â Â Â Â Â Â doc.<span class="hljs-title function_">dispose</span>();
Â Â Â Â }
}
</code></pre>
<p><strong>ä»£ç è§£æï¼š</strong></p>
<ul>
<li><code>document.loadFromFile(inputWordPath)</code>: è´Ÿè´£è¯»å–æŒ‡å®šè·¯å¾„çš„ Word æ–‡æ¡£å†…å®¹ã€‚</li>
<li><code>document.saveToFile(outputTxtPath, FileFormat.Txt)</code>: è¿™æ˜¯è½¬æ¢çš„æ ¸å¿ƒã€‚å®ƒå°†åŠ è½½çš„ Word æ–‡æ¡£å†…å®¹ä»¥çº¯æ–‡æœ¬æ ¼å¼å†™å…¥åˆ° <code>outputTxtPath</code> æŒ‡å®šçš„æ–‡ä»¶ä¸­ã€‚<code>FileFormat.Txt</code> æšä¸¾å€¼æ˜ç¡®æŒ‡ç¤ºäº†ç›®æ ‡æ ¼å¼ã€‚</li>
<li><code>document.dispose()</code>: é‡Šæ”¾èµ„æºï¼Œç”¨äºå…³é—­æ–‡ä»¶æµå¹¶é‡Šæ”¾å†…å­˜ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤§é‡æ–‡æ¡£æ—¶ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-5">ä» TXT åˆ° Wordï¼šæ„å»ºå¯Œæ–‡æœ¬æ ¼å¼æ–‡æ¡£</h2>
<p>å°†çº¯æ–‡æœ¬ï¼ˆTXTï¼‰æ–‡ä»¶è½¬æ¢ä¸º Word æ–‡æ¡£ï¼Œé€šå¸¸æ˜¯ä¸ºäº†å¯¹å…¶è¿›è¡Œæ ¼å¼åŒ–ã€æ·»åŠ å›¾ç‰‡ã€è¡¨æ ¼æˆ–å…¶ä»–å¯Œæ–‡æœ¬å…ƒç´ ã€‚Spire.Doc åŒæ ·èƒ½è½»æ¾å®ç°è¿™ä¸€ç›®æ ‡ã€‚</p>
<h3 data-id="heading-6">å®ç°æ­¥éª¤ï¼š</h3>
<ol>
<li><strong>åˆ›å»ºæˆ–åŠ è½½ Word æ–‡æ¡£ï¼š</strong> å¯¹äºä» TXT åˆ›å»ºæ–°çš„ Word æ–‡æ¡£ï¼Œç›´æ¥åˆ›å»º <code>Document</code> å¯¹è±¡å³å¯ã€‚</li>
<li><strong>åŠ è½½ TXT å†…å®¹ï¼š</strong> ä½¿ç”¨ <code>Document</code> ç±»çš„ <code>loadFromFile()</code> æ–¹æ³•åŠ è½½ TXT æ–‡ä»¶ã€‚</li>
<li><strong>ä¿å­˜ä¸º Word æ ¼å¼ï¼š</strong> è°ƒç”¨ <code>saveToFile()</code> æ–¹æ³•ï¼Œå¹¶æŒ‡å®šè¾“å‡ºè·¯å¾„å’Œ <code>FileFormat.Docx</code>ï¼ˆæˆ– <code>FileFormat.Doc</code>ï¼‰æ ¼å¼ã€‚</li>
<li><strong>é‡Šæ”¾èµ„æºï¼š</strong> è°ƒç”¨ <code>dispose()</code> æ–¹æ³•é‡Šæ”¾æ–‡æ¡£å¯¹è±¡å ç”¨çš„èµ„æºã€‚</li>
</ol>
<h3 data-id="heading-7">Java ä»£ç ç¤ºä¾‹ï¼š</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span>Â com.<span class="hljs-property">spire</span>.<span class="hljs-property">doc</span>.<span class="hljs-property">Document</span>;
<span class="hljs-keyword">import</span>Â com.<span class="hljs-property">spire</span>.<span class="hljs-property">doc</span>.<span class="hljs-property">FileFormat</span>;

<span class="hljs-keyword">public</span>Â <span class="hljs-keyword">class</span>Â <span class="hljs-title class_">ConvertTextToWord</span>Â {

Â Â Â Â <span class="hljs-keyword">public</span>Â <span class="hljs-keyword">static</span>Â <span class="hljs-built_in">void</span>Â <span class="hljs-title function_">main</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>[]Â args</span>)Â {

Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â åˆ›å»ºÂ DocumentÂ å¯¹è±¡</span>
Â Â Â Â Â Â Â Â <span class="hljs-title class_">Document</span>Â txtÂ =Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">Document</span>();

Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â åŠ è½½Â .txtÂ æ–‡æœ¬æ–‡ä»¶</span>
Â Â Â Â Â Â Â Â txt.<span class="hljs-title function_">loadFromFile</span>(<span class="hljs-string">"ä»‹ç».txt"</span>);

Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â å°†æ–‡ä»¶ä¿å­˜ä¸ºÂ WordÂ æ ¼å¼</span>
Â Â Â Â Â Â Â Â txt.<span class="hljs-title function_">saveToFile</span>(<span class="hljs-string">"TXTè½¬Word.docx"</span>,Â <span class="hljs-title class_">FileFormat</span>.<span class="hljs-property">Docx</span>);

Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â é‡Šæ”¾èµ„æº</span>
Â Â Â Â Â Â Â Â txt.<span class="hljs-title function_">dispose</span>();
Â Â Â Â }
}
</code></pre>
<p><strong>ä»£ç è§£æï¼š</strong></p>
<ul>
<li><code>document.loadFromFile(inputTxtPath)</code>: è¿™é‡Œå·§å¦™åœ°åˆ©ç”¨äº† <code>spire.doc for java</code> çš„ <code>loadFromFile</code> æ–¹æ³•ä¸ä»…å¯ä»¥åŠ è½½ Word æ–‡æ¡£ï¼Œè¿˜èƒ½åŠ è½½ TXT æ–‡ä»¶å¹¶å°†å…¶å†…å®¹å¯¼å…¥åˆ° <code>Document</code> å¯¹è±¡ä¸­ã€‚</li>
<li><code>document.saveToFile(outputWordPath, FileFormat.Docx)</code>: å°†åŒ…å« TXT å†…å®¹çš„ <code>Document</code> å¯¹è±¡ä¿å­˜ä¸º Word æ ¼å¼ã€‚<code>FileFormat.Docx</code> æ˜¯ç°ä»£ Word æ–‡æ¡£çš„é»˜è®¤æ ¼å¼ï¼Œæ‚¨ä¹Ÿå¯ä»¥é€‰æ‹© <code>FileFormat.Doc</code>ã€‚</li>
</ul>
<p><strong>æ ¼å¼è°ƒæ•´å»ºè®®ï¼š</strong></p>
<p>å°† TXT è½¬æ¢ä¸º Word åï¼Œé»˜è®¤æƒ…å†µä¸‹å¯èƒ½åªæ˜¯ç®€å•çš„æ–‡æœ¬å¯¼å…¥ã€‚å¦‚æœéœ€è¦æ›´å¤æ‚çš„æ ¼å¼ï¼Œä¾‹å¦‚è®¾ç½®å­—ä½“ã€æ®µè½æ ·å¼ã€é¡µçœ‰é¡µè„šç­‰ï¼ŒSpire.Doc ä¹Ÿæä¾›äº†ä¸°å¯Œçš„ API æ¥å®ç°è¿™äº›åŠŸèƒ½ï¼Œæ‚¨å¯ä»¥åœ¨ <code>loadFromFile</code> ä¹‹åã€<code>saveToFile</code> ä¹‹å‰ï¼Œå¯¹ <code>document</code> å¯¹è±¡è¿›è¡Œè¿›ä¸€æ­¥çš„ç¼–è¾‘æ“ä½œã€‚</p>
<hr/>
<h2 data-id="heading-8">ç»“è¯­</h2>
<p>é€šè¿‡æœ¬æ–‡çš„è¯¦ç»†ä»‹ç»å’Œä»£ç ç¤ºä¾‹ï¼Œç›¸ä¿¡æ‚¨å·²ç»æŒæ¡äº†åœ¨ Java ä¸­ä½¿ç”¨ Spire.Doc for Java åº“å®ç° Word å’Œ TXT æ–‡æ¡£äº’ç›¸è½¬æ¢çš„å…³é”®æŠ€æœ¯ã€‚è¯¥åº“ä»¥å…¶ç®€æ´çš„ API å’Œå¼ºå¤§çš„åŠŸèƒ½ï¼Œä¸º Java å¼€å‘è€…æä¾›äº†ä¸€ä¸ªé«˜æ•ˆã€å¯é çš„æ–‡æ¡£å¤„ç†è§£å†³æ–¹æ¡ˆã€‚æ— è®ºæ˜¯æ—¥å¸¸çš„æ•°æ®å¤„ç†ï¼Œè¿˜æ˜¯å¤æ‚çš„åŠå…¬è‡ªåŠ¨åŒ–ç³»ç»Ÿï¼ŒSpire.Doc éƒ½èƒ½åŠ©æ‚¨ä¸€è‡‚ä¹‹åŠ›ã€‚é¼“åŠ±æ‚¨åœ¨å®é™…é¡¹ç›®ä¸­å°è¯•åº”ç”¨è¿™äº›æŠ€æœ¯ï¼Œå¹¶è¿›ä¸€æ­¥æ¢ç´¢è¯¥åº“åœ¨ Word æ–‡æ¡£å¤„ç†æ–¹é¢çš„æ›´å¤šé«˜çº§åŠŸèƒ½ï¼Œä¾‹å¦‚æ–‡æ¡£åˆå¹¶ã€æ‹†åˆ†ã€å†…å®¹æ›¿æ¢ã€è¡¨æ ¼æ“ä½œç­‰ï¼Œä»¥æ»¡è¶³æ›´å¤æ‚çš„ä¸šåŠ¡éœ€æ±‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[godot-rustï¼ˆgdextï¼‰åˆ›å»ºé¡¹ç›®]]></title>    <link>https://juejin.cn/post/7599566082212986932</link>    <guid>https://juejin.cn/post/7599566082212986932</guid>    <pubDate>2026-01-27T02:05:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599566082212986932" data-draft-id="7598333055544672296" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="godot-rustï¼ˆgdextï¼‰åˆ›å»ºé¡¹ç›®"/> <meta itemprop="keywords" content="æ¸¸æˆ"/> <meta itemprop="datePublished" content="2026-01-27T02:05:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æŸšè¦åšç”šç "/> <meta itemprop="url" content="https://juejin.cn/user/2200546203156138"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            godot-rustï¼ˆgdextï¼‰åˆ›å»ºé¡¹ç›®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2200546203156138/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æŸšè¦åšç”šç 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T02:05:10.000Z" title="Tue Jan 27 2026 02:05:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç®€ä»‹</h2>
<p>æœ¬æ–‡ä»¥<a href="https://link.juejin.cn?target=https%3A%2F%2Fcolinwttt.github.io%2Fgodot-rust-book-chinese%2Fintro%2Fhello-world.html" target="_blank" title="https://colinwttt.github.io/godot-rust-book-chinese/intro/hello-world.html" ref="nofollow noopener noreferrer">Hello World - godot-rustä¸­æ–‡æ–‡æ¡£</a>å†…å®¹ä¸ºè“æœ¬æ’°å†™ã€‚å¦‚æœä½ å¯¹rustã€godotç­‰å†…å®¹æ¯”è¾ƒç”Ÿç–æˆ–æ„Ÿåˆ°ç–‘æƒ‘ï¼Œå¯ä»¥å…ˆé˜…è¯»<a href="https://link.juejin.cn?target=https%3A%2F%2Fcolinwttt.github.io%2Fgodot-rust-book-chinese%2Fintro%2Findex.html" target="_blank" title="https://colinwttt.github.io/godot-rust-book-chinese/intro/index.html" ref="nofollow noopener noreferrer">godot-rustå…¥é—¨æ–‡æ¡£</a>ã€‚æœ¬æ–‡æ“ä½œå‡åœ¨Windowsä¸Šæ‰§è¡Œã€‚</p>
<h2 data-id="heading-1">æ­£æ–‡</h2>
<h3 data-id="heading-2">æ–°å»ºæ¸¸æˆé¡¹ç›®</h3>
<p>åœ¨ä½ å–œæ¬¢çš„ä»»æ„ä¸€ä¸ªè·¯å¾„ä½ç½®æ–°å»ºé¡¹ç›®æ–‡ä»¶å¤¹ï¼Œä¸ºæ¸¸æˆèµ·ä¸€ä¸ªåå­—ï¼š\ <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21cbe0a78bc14e15b2c7f725bd6cda25~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p-a6KaB5YGa55Sa56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770084838&amp;x-signature=GqVyYyU%2Bvn9Y9wlrvmzOdUPzOPA%3D" alt="æ— æ ‡é¢˜.jpg" width="30%" loading="lazy"/><br/>
æœ¬æ–‡ä½¿ç”¨â€œdodge-the-creeps-2dâ€ã€‚</p>
<h3 data-id="heading-3">æ–°å»ºgodoté¡¹ç›®</h3>
<p>ä½¿ç”¨godot-rustï¼Œgodotéœ€è¦<strong>4.1</strong>æˆ–è€…<strong>æ›´é«˜</strong>ç‰ˆæœ¬ï¼Œä½ å¯ä»¥åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgodotengine.org%2Fzh-cn%2F" target="_blank" title="https://godotengine.org/zh-cn/" ref="nofollow noopener noreferrer">godot</a>çš„å®˜ç½‘ä¸Šæ‰¾åˆ°éœ€è¦çš„èµ„æºã€‚æœ¬æ–‡ä½¿ç”¨çš„godotçš„ç‰ˆæœ¬ä¸º4.5.1ï¼Œä¸‹è½½åä¸º<code>.zip</code>å‹ç¼©æ–‡ä»¶ï¼Œè§£å‹å¯ç›´æ¥è¿è¡Œæ— éœ€å®‰è£…ã€‚<br/>
å¯åŠ¨godotï¼Œåœ¨å¯åŠ¨å…¥å£ç‚¹å‡»<strong>åˆ›å»º</strong>ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/43ed4ff268854bea9ced74472ba86cad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p-a6KaB5YGa55Sa56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770084838&amp;x-signature=6xisSpwJ8i05Z9%2BeIayHVADIWWw%3D" alt="æ–°å»ºgodoté¡¹ç›®1.jpg" loading="lazy"/><br/>
åœ¨<strong>æ–°å»ºé¡¹ç›®</strong>çª—å£ä¸­ï¼Œå°†<strong>é¡¹ç›®è·¯å¾„</strong>é€‰æ‹©åˆ°ä½ åˆšåˆšåˆ›å»ºå¥½çš„æ¸¸æˆé¡¹ç›®æ–‡ä»¶å¤¹ä¸‹ï¼Œå¹¶å¡«å†™é¡¹ç›®åç§°ã€‚æœ¬æ–‡ä½¿ç”¨â€œgodotâ€ï¼š<br/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b875842c56548fa8f818fbc31c3d011~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p-a6KaB5YGa55Sa56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770084838&amp;x-signature=aQJSNjRz7sRs3%2FkTYaZHvoXZU1c%3D" alt="æ–°å»ºgodoté¡¹ç›®2.jpg" loading="lazy"/><br/>
å…¶ä»–é…ç½®ä¸å˜ï¼Œ<strong>åˆ›å»º</strong>é¡¹ç›®ã€‚æ“ä½œå®Œæˆåä½ çš„æ¸¸æˆé¡¹ç›®ç»“æ„çœ‹ä¸Šå»åº”è¯¥åƒè¿™æ ·ï¼š</p>
<pre><code class="hljs">ğŸ“‚ dodge-the-creeps-2d
â”‚ 
â”œâ€”â€” ğŸ“‚ godot
</code></pre>
<h3 data-id="heading-4">æ–°å»ºrusté¡¹ç›®</h3>
<p>ä½¿ç”¨cargoæ¥åˆ›å»ºrusté¡¹ç›®ï¼Œåœ¨å‘½ä»¤è¡Œä¸­å®šä½åˆ°ä½ çš„æ¸¸æˆé¡¹ç›®æ–‡ä»¶ä¸‹ï¼Œæœ¬æ–‡ä¸­å³ä¸ºâ€œdodge-the-creeps-2dâ€æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨<code>cargo new</code>å‘½ä»¤åˆ›å»ºï¼Œç°åœ¨å…ˆåˆ«æ€¥ç€æŒ‰å›è½¦ã€‚</p>
<pre><code class="hljs language-sql" lang="sql">cargo <span class="hljs-keyword">new</span> {YourCrate} <span class="hljs-comment">--lib</span>
</code></pre>
<p>ä¸ºä½ çš„rusté¡¹ç›®èµ·ä¸€ä¸ªåå­—ï¼Œæ›¿æ¢æ‰ä¸Šè¿°ä»£ç é‡Œçš„â€œ{YourCrate}â€ï¼Œæœ¬æ–‡ä½¿ç”¨â€œrustâ€ã€‚<br/>
æŒ‰ä¸‹å›è½¦ç¡®è®¤æ‰§è¡Œåˆ›å»ºï¼Œæ­¤æ—¶ä½ çš„æ¸¸æˆé¡¹ç›®ç»“æ„çœ‹ä¸Šå»åº”è¯¥åƒè¿™æ ·ï¼š</p>
<pre><code class="hljs">ğŸ“‚ dodge-the-creeps-2d
â”‚
â”œâ€”â€” ğŸ“‚ godot
â”‚
â”œâ€”â€” ğŸ“‚ rust
</code></pre>
<p>æ‰“å¼€Cargo.tomlæ–‡ä»¶è¿›è¡Œè¡¥å……ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[package]</span>
<span class="hljs-attr">name</span> = <span class="hljs-string">"rust"</span>
<span class="hljs-attr">version</span> = <span class="hljs-string">"0.1.0"</span>
<span class="hljs-attr">edition</span> = <span class="hljs-string">"2024"</span>

<span class="hljs-section">[lib]</span>
<span class="hljs-attr">crate-type</span> = [<span class="hljs-string">"cdylib"</span>] <span class="hljs-comment"># å°†æ­¤crateç¼–è¯‘ä¸ºåŠ¨æ€Cåº“ ï¼ˆdynamic C libraryï¼‰.</span>
</code></pre>
<p>åœ¨å‘½ä»¤è¡Œä¸­å®šä½åˆ°rusté¡¹ç›®æ–‡ä»¶ä¸‹ï¼Œæ‰§è¡Œ<code>cargo add</code>å‘½ä»¤å°†gdextæ·»åŠ åˆ°é¡¹ç›®ä¸­ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">cargo <span class="hljs-keyword">add</span> godot
</code></pre>
<h3 data-id="heading-5">è¿æ¥godotå’Œrust</h3>
<p>åœ¨godoté¡¹ç›®æ–‡ä»¶å¤¹ä¸‹æ–°å»ºæ–‡ä»¶ï¼Œå¹¶ä¿®æ”¹æˆ<code>.gdextension</code>åç¼€ï¼Œæœ¬æ–‡ä½¿ç”¨<code>rust.gdextension</code>ä¸ºæ–‡ä»¶åï¼Œæ­¤æ—¶ä½ çš„é¡¹ç›®æ–‡ä»¶ç»“æ„çœ‹ä¸Šå»åº”è¯¥åƒè¿™æ ·ï¼š</p>
<pre><code class="hljs">ğŸ“‚ dodge-the-creeps-2d
â”‚
â”œâ€”â€” ğŸ“‚ godot
â”‚   â”œâ€”â€”ğŸ“„ rust.gdextension
â”‚
â”œâ€”â€” ğŸ“‚ rust
</code></pre>
<blockquote>
<p><code>.gdextension</code>æ–‡ä»¶å‘Šè¯‰ Godot å¦‚ä½•åŠ è½½æ‚¨çš„ç¼–è¯‘åçš„ Rust æ‰©å±•ï¼Œå®ƒåŒ…å«åŠ¨æ€åº“çš„è·¯å¾„ä»¥åŠåˆå§‹åŒ–å®ƒçš„å…¥å£ç‚¹ï¼ˆå‡½æ•°ï¼‰ã€‚</p>
</blockquote>
<p><code>.gdextension</code>æ–‡ä»¶å†…å®¹å®Œæ•´çš„å¡«å†™æ–¹å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[configuration]</span>
<span class="hljs-attr">entry_symbol</span> = <span class="hljs-string">"gdext_rust_init"</span>
<span class="hljs-attr">compatibility_minimum</span> = <span class="hljs-number">4.1</span>
<span class="hljs-attr">reloadable</span> = <span class="hljs-literal">true</span>

<span class="hljs-section">[libraries]</span>
<span class="hljs-attr">linux.debug.x86_64</span> =     <span class="hljs-string">"res://../rust/target/debug/lib{YourCrate}.so"</span>
<span class="hljs-attr">linux.release.x86_64</span> =   <span class="hljs-string">"res://../rust/target/release/lib{YourCrate}.so"</span>
<span class="hljs-attr">windows.debug.x86_64</span> =   <span class="hljs-string">"res://../rust/target/debug/{YourCrate}.dll"</span>
<span class="hljs-attr">windows.release.x86_64</span> = <span class="hljs-string">"res://../rust/target/release/{YourCrate}.dll"</span>
<span class="hljs-attr">macos.debug</span> =            <span class="hljs-string">"res://../rust/target/debug/lib{YourCrate}.dylib"</span>
<span class="hljs-attr">macos.release</span> =          <span class="hljs-string">"res://../rust/target/release/lib{YourCrate}.dylib"</span>
<span class="hljs-attr">macos.debug.arm64</span> =      <span class="hljs-string">"res://../rust/target/debug/lib{YourCrate}.dylib"</span>
<span class="hljs-attr">macos.release.arm64</span> =    <span class="hljs-string">"res://../rust/target/release/lib{YourCrate}.dylib"</span>
</code></pre>
<p><strong>æ³¨æ„ï¼Œæ ¹æ®ä½ ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿæ¥ä½¿ç”¨å¯¹åº”çš„é…ç½®</strong><br/>
æœ¬æ–‡åœ¨windowsä¸Šå®ç°ï¼Œå› æ­¤åªä¿ç•™windowså¯¹åº”é…ç½®ã€‚<br/>
æ›¿æ¢é…ç½®ä¸­çš„â€œ{YourCrate}â€ä¸ºâ€œrustâ€åï¼ˆ<strong>å³ä½ çš„rusté¡¹ç›®åç§°</strong>ï¼‰ï¼Œæœ¬æ–‡çš„<code>rust.gdextension</code>å†…å®¹å¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[configuration]</span>
<span class="hljs-attr">entry_symbol</span> = <span class="hljs-string">"gdext_rust_init"</span>
<span class="hljs-attr">compatibility_minimum</span> = <span class="hljs-number">4.1</span>
<span class="hljs-attr">reloadable</span> = <span class="hljs-literal">true</span>

<span class="hljs-section">[libraries]</span>
<span class="hljs-attr">windows.debug.x86_64</span> =   <span class="hljs-string">"res://../rust/target/debug/rust.dll"</span>
<span class="hljs-attr">windows.release.x86_64</span> = <span class="hljs-string">"res://../rust/target/release/rust.dll"</span>
</code></pre>
<p>è¿™é‡Œç›´æ¥åˆ—å‡ºåŸæ–‡æ¡£çš„é…ç½®è¯¦ç»†è¯´æ˜ä¾›ç ”ç©¶å‚è€ƒï¼Œè¿›ä¸€æ­¥çš„å†…å®¹è¯·å‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fcolinwttt.github.io%2Fgodot-rust-book-chinese%2Fintro%2Fhello-world.html" target="_blank" title="https://colinwttt.github.io/godot-rust-book-chinese/intro/hello-world.html" ref="nofollow noopener noreferrer">æ•™ç¨‹åŸæ–‡</a>ã€‚</p>
<blockquote>
<p><code>[configuration]</code>éƒ¨åˆ†åº”ç…§åŸæ ·å¤åˆ¶</p>
<ul>
<li><code>entry_symbol</code>æ˜¯æŒ‡gdextæš´éœ²çš„å…¥å£ç‚¹å‡½æ•°ã€‚æˆ‘ä»¬é€‰æ‹©<code>"gdext_rust_init"</code>ï¼Œè¿™æ˜¯<strong>gdext</strong>çš„é»˜è®¤å€¼ï¼ˆä½†å¦‚æœéœ€è¦ï¼Œå¯ä»¥é…ç½®ï¼‰ã€‚</li>
<li><code>compatibility_minimum</code>æŒ‡å®šäº†æ‰©å±•æ‰€éœ€çš„æœ€ä½Â <strong>Godot</strong>Â ç‰ˆæœ¬ã€‚ä½¿ç”¨ä½äºè¯¥ç‰ˆæœ¬çš„<strong>Godot</strong>æ‰“å¼€é¡¹ç›®å°†å¯¼è‡´æ‰©å±•æ— æ³•è¿è¡Œã€‚
<ul>
<li>å¦‚æœæ‚¨è¦æ„å»ºä¸€ä¸ªä¾›ä»–äººä½¿ç”¨çš„æ’ä»¶ï¼Œè¯·å°½é‡å°†æ­¤ç‰ˆæœ¬è®¾ç½®å¾—å°½å¯èƒ½ä½ï¼Œä»¥å®ç°æ›´å¹¿æ³›çš„ç”Ÿæ€ç³»ç»Ÿå…¼å®¹æ€§ï¼Œä½†è¿™å¯èƒ½ä¼šé™åˆ¶æ‚¨ä½¿ç”¨çš„åŠŸèƒ½ã€‚</li>
</ul>
</li>
<li><code>reloadable</code>æŒ‡å®šå½“ç¼–è¾‘å™¨çª—å£å¤±å»ç„¦ç‚¹åå†æ¢å¤æ—¶ï¼Œåº”é‡æ–°åŠ è½½æ‰©å±•ã€‚æœ‰å…³æ›´å¤šè¯¦æƒ…ï¼Œè¯·å‚é˜…Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgodotengine%2Fgodot%2Fpull%2F80284" target="_blank" title="https://github.com/godotengine/godot/pull/80284" ref="nofollow noopener noreferrer">Godot issue #80284</a>ã€‚
<ul>
<li>å¦‚æœ Godot å´©æºƒï¼Œæ‚¨å¯èƒ½éœ€è¦å°è¯•å…³é—­æˆ–ç§»é™¤æ­¤è®¾ç½®ã€‚</li>
</ul>
</li>
</ul>
</blockquote>
<blockquote>
<p><code>[libraries]</code>Â éƒ¨åˆ†åº”æ ¹æ®æ‚¨çš„åŠ¨æ€ Rust åº“çš„è·¯å¾„è¿›è¡Œæ›´æ–°ã€‚</p>
<ul>
<li>å·¦ä¾§çš„é”®æ˜¯<strong>Godot</strong>é¡¹ç›®çš„æ„å»ºç›®æ ‡å¹³å°ã€‚
<ul>
<li>è¯·å‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.godotengine.org%2Fen%2Fstable%2Ftutorials%2Fscripting%2Fgdextension%2Fgdextension_cpp_example.html%23using-the-gdextension-module" target="_blank" title="https://docs.godotengine.org/en/stable/tutorials/scripting/gdextension/gdextension_cpp_example.html#using-the-gdextension-module" ref="nofollow noopener noreferrer">GDExtension æ–‡æ¡£</a>ä»¥äº†è§£æ›´å¤šå¯èƒ½çš„å€¼</li>
</ul>
</li>
<li>å³ä¾§çš„å€¼æ˜¯ä½ çš„åŠ¨æ€åº“çš„æ–‡ä»¶è·¯å¾„ã€‚
<ul>
<li><code>res://</code>Â å‰ç¼€è¡¨ç¤ºæ–‡ä»¶è·¯å¾„æ˜¯ç›¸å¯¹äº<strong>Godot</strong>ç›®å½•çš„ï¼Œæ— è®ºæ‚¨çš„<code>.gdextension</code>æ–‡ä»¶ä½äºä½•å¤„ã€‚æ‚¨å¯ä»¥åœ¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.godotengine.org%2Fen%2Fstable%2Ftutorials%2Fscripting%2Fresources.html%23external-vs-built-in" target="_blank" title="https://docs.godotengine.org/en/stable/tutorials/scripting/resources.html#external-vs-built-in" ref="nofollow noopener noreferrer">Godot èµ„æºè·¯å¾„</a>Â ä¸­äº†è§£æ›´å¤šã€‚</li>
<li>å¦‚æœæ‚¨è®°å¾—æ–‡ä»¶ç»“æ„ï¼Œ<code>godoté¡¹ç›®æ–‡ä»¶å¤¹</code>å’Œ<code>rusté¡¹ç›®æ–‡ä»¶å¤¹</code>æ˜¯å…„å¼Ÿå…³ç³»ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å›åˆ°ä¸Šä¸€çº§ç›®å½•æ‰èƒ½è®¿é—®Â <code>rust</code>ã€‚</li>
</ul>
</li>
<li>å¦‚æœæ‚¨è®¡åˆ’å°†é¡¹ç›®å¯¼å‡ºåˆ°å…¶ä»–å¹³å°ï¼Œæ‚¨å¯ä»¥ä¸ºå¤šä¸ªå¹³å°æ·»åŠ é…ç½®ã€‚ è‡³å°‘ï¼Œæ‚¨éœ€è¦ä¸ºå½“å‰æ“ä½œç³»ç»Ÿçš„<code>debug</code>æ¨¡å¼é…ç½®è·¯å¾„ã€‚</li>
</ul>
</blockquote>
<p>é€šå¸¸godotä¼šè‡ªåŠ¨é…ç½®gdextï¼Œä½ æ— éœ€æ‰‹åŠ¨ç¼–å†™ï¼Œä½†æ€»æœ‰ä¾‹å¤–ï¼š</p>
<blockquote>
<p>åœ¨æ‚¨ç¬¬ä¸€æ¬¡æ‰“å¼€ Godot ç¼–è¾‘å™¨æ—¶ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªåä¸º<code>res://.godot/extension_list.cfg</code>çš„æ–‡ä»¶ã€‚ æ­¤æ–‡ä»¶åˆ—å‡ºäº†é¡¹ç›®ä¸­æ³¨å†Œçš„æ‰€æœ‰æ‰©å±•ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œæ‚¨ä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ›å»ºå®ƒï¼Œä»…åŒ…å«åˆ°ä½ çš„<code>.gdextension</code>Â æ–‡ä»¶çš„ Godot è·¯å¾„ï¼š<code>res://{YourCrate}.gdextension</code></p>
</blockquote>
<p>æœ¬æ–‡ä¸­<code>res://.godot/extension_list.cfg</code>çš„æ–‡ä»¶å†…å®¹ä¸ºï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">res:<span class="hljs-comment">//rust.gdextension</span>
</code></pre>
<h3 data-id="heading-6">ç¼–å†™rustå…¥å£</h3>
<p>åˆ°ç›®å‰ä¸ºæ­¢ä½ å·²ç»æˆåŠŸåœ°å°†godot-rustæ­å»ºäº†èµ·æ¥ï¼Œä½†ä½ ä¼šè§‚å¯Ÿåˆ°åœ¨godotç¼–è¾‘å™¨<strong>è¾“å‡º</strong>ä¸­æç¤ºæœ‰å’Œ<code>.gdextension</code>æœ‰å…³çš„é”™è¯¯ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b904c2481a564f5e9b5f3aa2e15877f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p-a6KaB5YGa55Sa56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770084838&amp;x-signature=Oi9iqNI7vdNNKuImHTob%2FOnJS30%3D" alt=".gdextensioné”™è¯¯" loading="lazy"/>
å›å¿†ä¹‹å‰<code>rust.gdextension</code>é…ç½®å†…å®¹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">windows.debug.x86_64</span> =   <span class="hljs-string">"res://../rust/target/debug/rust.dll"</span>
<span class="hljs-attr">windows.release.x86_64</span> = <span class="hljs-string">"res://../rust/target/release/rust.dll"</span>
</code></pre>
<p>æ­¤æ—¶é¡¹ç›®è¿˜æ²¡æœ‰å¯¹rustè¿›è¡Œç¼–è¯‘ï¼Œå› æ­¤rust.dllæ ¹æœ¬ä¸å­˜åœ¨ã€‚ç¼–è¯‘rustä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æŠŠ<code>lib.rs</code>æ–‡ä»¶å†…å®¹æ›¿æ¢æˆä»¥ä¸‹æ¨¡æ¿:</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> godot::prelude::*;

<span class="hljs-keyword">struct</span> {YourRustEntryName};

<span class="hljs-meta">#[gdextension]</span>
<span class="hljs-keyword">unsafe</span> <span class="hljs-keyword">impl</span> <span class="hljs-title class_">ExtensionLibrary</span> <span class="hljs-keyword">for</span> {YourRustEntryName} {}
</code></pre>
<p>ä¸ºä½ çš„rustå…¥å£èµ·ä¸ªåå­—æ›¿æ¢æ‰â€œ{YourRustEntryName}â€ï¼Œæœ¬æ–‡ä½¿ç”¨â€œDodgeTheCreeps2dâ€ï¼Œä¸æ¸¸æˆé¡¹ç›®åç§°ä¿æŒä¸€è‡´ï¼Œå› æ­¤æœ¬æ–‡çš„<code>lib.rs</code>æ–‡ä»¶å†…å®¹ä¸º:</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> godot::prelude::*;

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">DodgeTheCreeps2d</span>;

<span class="hljs-meta">#[gdextension]</span>
<span class="hljs-keyword">unsafe</span> <span class="hljs-keyword">impl</span> <span class="hljs-title class_">ExtensionLibrary</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">DodgeTheCreeps2d</span> {}
</code></pre>
<p>ä¸‹é¢æ˜¯åŸæ–‡æ¡£çš„è¯´æ˜ï¼š</p>
<blockquote>
<p>è¿™é‡Œæœ‰å‡ ä¸ªè¦ç‚¹ï¼š</p>
<ul>
<li>å°†<a href="https://link.juejin.cn?target=https%3A%2F%2Fgodot-rust.github.io%2Fdocs%2Fgdext%2Fmaster%2Fgodot%2Fprelude%2Findex.html" target="_blank" title="https://godot-rust.github.io/docs/gdext/master/godot/prelude/index.html" ref="nofollow noopener noreferrer"><code>prelude</code></a>æ¨¡å—ä»<a href="https://link.juejin.cn?target=https%3A%2F%2Fgodot-rust.github.io%2Fdocs%2Fgdext%2Fmaster%2Fgodot%2Findex.html" target="_blank" title="https://godot-rust.github.io/docs/gdext/master/godot/index.html" ref="nofollow noopener noreferrer"><code>godot</code></a>Â crateå¼•å…¥ä½œç”¨åŸŸã€‚è¯¥æ¨¡å—åŒ…å«äº† gdext API ä¸­æœ€å¸¸ç”¨çš„ç¬¦å·ã€‚</li>
<li>å®šä¹‰ä¸€ä¸ªåä¸ºÂ <code>MyExtension</code>Â çš„ç»“æ„ä½“ã€‚å®ƒåªæ˜¯ä¸€ä¸ªç±»å‹æ ‡è®°ï¼Œæ²¡æœ‰æ•°æ®æˆ–æ–¹æ³•ï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€è¦å‘½åå®ƒã€‚</li>
<li>ä¸ºè¯¥ç±»å‹å®ç°Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fgodot-rust.github.io%2Fdocs%2Fgdext%2Fmaster%2Fgodot%2Fprelude%2Ftrait.ExtensionLibrary.html" target="_blank" title="https://godot-rust.github.io/docs/gdext/master/godot/prelude/trait.ExtensionLibrary.html" ref="nofollow noopener noreferrer"><code>ExtensionLibrary</code></a>Â traitï¼Œå¹¶ç”¨Â <code>#[gdextension]</code>Â å±æ€§æ ‡è®°ã€‚</li>
</ul>
<p>æœ€åè¿™ä¸€ç‚¹å£°æ˜äº†å®é™…çš„ GDExtension å…¥å£ç‚¹ï¼Œproc-macro å±æ€§ä¼šå¤„ç†åº•å±‚çš„ç»†èŠ‚ã€‚</p>
</blockquote>
<p>ä¿å­˜<code>lib.rs</code>ï¼Œæ‰§è¡Œ<code>cargo build</code></p>
<pre><code class="hljs">cargo build
</code></pre>
<p>godot 4.5 ç‰ˆæœ¬ä¼šçƒ­é‡è½½rust.dllçš„å†…å®¹ï¼Œæ­¤æ—¶godotç¼–è¾‘å™¨å†…ä¾ç„¶ä¼šçœ‹åˆ°å¼‚å¸¸æç¤ºï¼Œä½†æ­¤æ—¶gdextçš„å…¥å£å·²ç»å®ŒæˆåŠ è½½ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/493b2f5608ff4232ade68736fa3ea716~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p-a6KaB5YGa55Sa56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770084838&amp;x-signature=m91tOobB8rUcqIxFEarjvEX5rfs%3D" alt="godotç¼–è¾‘å™¨æç¤º" loading="lazy"/></p>
<h2 data-id="heading-7">å‚è€ƒ</h2>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcolinwttt.github.io%2Fgodot-rust-book-chinese%2Fintro%2Fhello-world.html" target="_blank" title="https://colinwttt.github.io/godot-rust-book-chinese/intro/hello-world.html" ref="nofollow noopener noreferrer">Hello World - godot-rustä¸­æ–‡æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.godotengine.org%2Fzh-cn%2F4.5%2Fgetting_started%2Fstep_by_step%2Findex.html" target="_blank" title="https://docs.godotengine.org/zh-cn/4.5/getting_started/step_by_step/index.html" ref="nofollow noopener noreferrer">æ¸è¿›å¼æ•™ç¨‹ â€” Godot Engine (4.5) ç®€ä½“ä¸­æ–‡æ–‡æ¡£</a></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MindSporeå®æˆ˜ç»éªŒï¼šä»å…¥é—¨åˆ°é«˜æ•ˆå¼€å‘çš„æŠ€å·§åˆ†äº«]]></title>    <link>https://juejin.cn/post/7599600549764792355</link>    <guid>https://juejin.cn/post/7599600549764792355</guid>    <pubDate>2026-01-27T03:15:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599600549764792355" data-draft-id="7599690133117501474" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MindSporeå®æˆ˜ç»éªŒï¼šä»å…¥é—¨åˆ°é«˜æ•ˆå¼€å‘çš„æŠ€å·§åˆ†äº«"/> <meta itemprop="keywords" content="åç«¯,ç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-27T03:15:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·867573478982"/> <meta itemprop="url" content="https://juejin.cn/user/924064924829272"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MindSporeå®æˆ˜ç»éªŒï¼šä»å…¥é—¨åˆ°é«˜æ•ˆå¼€å‘çš„æŠ€å·§åˆ†äº«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/924064924829272/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·867573478982
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T03:15:51.000Z" title="Tue Jan 27 2026 03:15:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹åä¸ºæ˜‡è…¾AIå¤„ç†å™¨ä¸MindSporeæ¡†æ¶çš„ç»“åˆä¸ºæ·±åº¦å­¦ä¹ å¼€å‘è€…æä¾›äº†å¼ºå¤§çš„å·¥å…·é“¾ã€‚æœ¬æ–‡å°†åˆ†äº«æˆ‘åœ¨å®é™…é¡¹ç›®ä¸­çš„ç»éªŒï¼Œé‡ç‚¹ä»‹ç»å¦‚ä½•å……åˆ†å‘æŒ¥è¿™ä¸€æŠ€æœ¯æ ˆçš„ä¼˜åŠ¿ã€‚</p>
<h3 data-id="heading-0">1. ç¯å¢ƒé…ç½®ä¸åŸºç¡€è®¾ç½®</h3>
<p>ç¯å¢ƒé…ç½®æ˜¯é¡¹ç›®æˆåŠŸçš„åŸºç¡€ã€‚MindSporeä¸æ˜‡è…¾ç¡¬ä»¶çš„ååŒå·¥ä½œéœ€è¦ç²¾ç¡®çš„ç¯å¢ƒè°ƒä¼˜ã€‚</p>
<p>å…³é”®é…ç½®ç‚¹ï¼š</p>
<ul>
<li>
<p>ä½¿ç”¨MindSpore 1.8+ç‰ˆæœ¬ä»¥è·å¾—å¯¹Ascend 910çš„å®Œæ•´æ”¯æŒ</p>
</li>
<li>
<p>è®¾ç½®é™æ€å›¾æ¨¡å¼ï¼ˆGRAPH_MODEï¼‰ä»¥è·å¾—æœ€ä½³æ€§èƒ½</p>
</li>
<li>
<p>åˆç†é…ç½®è®¾å¤‡IDï¼Œç‰¹åˆ«æ˜¯åœ¨å¤šå¡ç¯å¢ƒä¸­</p>
<p>import mindspore as ms
from mindspore import context</p>
<h2 data-id="heading-1">åŸºç¡€é…ç½®ç¤ºä¾‹</h2>
<p>context.set_context(mode=context.GRAPH_MODE, device_target="Ascend")
context.set_context(device_id=0)  # å•å¡ç¯å¢ƒ
context.set_context(enable_auto_mixed_precision=True)  # å¼€å¯è‡ªåŠ¨æ··åˆç²¾åº¦</p>
</li>
</ul>
<p><img alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" src="" loading="lazy"/></p>
<p>é™æ€å›¾æ¨¡å¼è™½é™åˆ¶äº†çµæ´»æ€§ï¼Œä½†é€šè¿‡å›¾ç¼–è¯‘ä¼˜åŒ–èƒ½å¤§å¹…æå‡æ€§èƒ½ï¼Œå°¤å…¶é€‚åˆç”Ÿäº§ç¯å¢ƒã€‚æˆ‘åœ¨å®é™…é¡¹ç›®ä¸­è§‚å¯Ÿåˆ°ï¼Œç›¸æ¯”åŠ¨æ€å›¾æ¨¡å¼ï¼Œé™æ€å›¾åœ¨å¤æ‚æ¨¡å‹ä¸Šèƒ½æœ‰40%ä»¥ä¸Šçš„æ€§èƒ½æå‡ã€‚</p>
<h3 data-id="heading-2">2. æ•°æ®ç®¡é“ä¼˜åŒ–å®æˆ˜</h3>
<p>æ•°æ®é¢„å¤„ç†å¾€å¾€æ˜¯è®­ç»ƒè¿‡ç¨‹çš„ç“¶é¢ˆã€‚åˆç†çš„æ•°æ®ç®¡é“è®¾è®¡å¯¹æå‡æ•´ä½“æ•ˆç‡è‡³å…³é‡è¦ã€‚</p>
<h4 data-id="heading-3">2.1 é«˜æ•ˆæ•°æ®åŠ è½½</h4>
<p>MindSporeçš„<code>dataset</code>æ¨¡å—æä¾›äº†ä¸°å¯Œçš„æ•°æ®å¤„ç†åŠŸèƒ½ã€‚å…³é”®åœ¨äºåˆç†é…ç½®æ•°æ®æ“ä½œçš„é¡ºåºå’Œå‚æ•°ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">import mindspore.dataset as ds
import mindspore.dataset.vision as vision
import mindspore.dataset.transforms as transforms

def create_efficient_dataset(data_path, <span class="hljs-attr">batch_size</span>=<span class="hljs-number">128</span>):
    <span class="hljs-attr">data_set</span> = ds.Cifar10Dataset(data_path)
    
    <span class="hljs-comment"># å®šä¹‰æ•°æ®å¢å¼ºæ“ä½œ</span>
    <span class="hljs-attr">resize_op</span> = vision.Resize((<span class="hljs-number">224</span>, <span class="hljs-number">224</span>))
    <span class="hljs-attr">normalize_op</span> = vision.Normalize([<span class="hljs-number">0.4914</span>, <span class="hljs-number">0.4822</span>, <span class="hljs-number">0.4465</span>], [<span class="hljs-number">0.2023</span>, <span class="hljs-number">0.1994</span>, <span class="hljs-number">0.2010</span>])
    
    <span class="hljs-comment"># æ“ä½œé¡ºåºå¾ˆé‡è¦ï¼šå…ˆè°ƒæ•´å¤§å°ï¼Œå†æ ‡å‡†åŒ–</span>
    <span class="hljs-attr">data_set</span> = data_set.map(operations=[resize_op, normalize_op], input_columns=<span class="hljs-string">"image"</span>)
    <span class="hljs-attr">data_set</span> = data_set.batch(batch_size, drop_remainder=<span class="hljs-literal">True</span>)  <span class="hljs-comment"># ä¿è¯å›ºå®šshape</span>
    <span class="hljs-attr">data_set</span> = data_set.shuffle(buffer_size=<span class="hljs-number">1000</span>)  <span class="hljs-comment"># é€‚å½“å¤§å°çš„ç¼“å†²æ± </span>
    
    return data_set
</code></pre>
<p><img alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" src="" loading="lazy"/></p>
<h4 data-id="heading-4">2.2 æ•°æ®ä¸‹æ²‰ï¼ˆData Sinkingï¼‰æ¨¡å¼</h4>
<p>è¿™æ˜¯MindSporeåœ¨æ˜‡è…¾å¹³å°ä¸Šçš„ç‹¬ç‰¹ä¼˜åŠ¿ã€‚é€šè¿‡å°†æ•°æ®é¢„å¤„ç†å·¥ä½œæµä¸‹æ²‰åˆ°è®¾å¤‡ä¾§ï¼Œå¤§å¹…å‡å°‘Host-Deviceäº¤äº’å¼€é”€ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å¼€å¯æ•°æ®ä¸‹æ²‰æ¨¡å¼</span>
model.train(<span class="hljs-attr">epoch</span>=<span class="hljs-number">10</span>, 
            <span class="hljs-attr">train_dataset</span>=train_ds,
            <span class="hljs-attr">callbacks</span>=[LossMonitor(), TimeMonitor()],
            <span class="hljs-attr">dataset_sink_mode</span>=<span class="hljs-literal">True</span>)  <span class="hljs-comment"># å…³é”®å‚æ•°</span>
</code></pre>
<p><img alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" src="" loading="lazy"/></p>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæ•°æ®ä¸‹æ²‰æ¨¡å¼å¯ä½¿è®­ç»ƒé€Ÿåº¦æå‡50%ä»¥ä¸Šï¼Œå°¤å…¶å¯¹äºå¤§è§„æ¨¡æ•°æ®é›†æ•ˆæœæ˜¾è‘—ã€‚</p>
<h3 data-id="heading-5">3. æ··åˆç²¾åº¦è®­ç»ƒæŠ€å·§</h3>
<p>æ··åˆç²¾åº¦è®­ç»ƒæ˜¯æå‡æ˜‡è…¾910æ€§èƒ½çš„å…³é”®æŠ€æœ¯ï¼Œèƒ½åœ¨ä¿æŒæ¨¡å‹ç²¾åº¦çš„åŒæ—¶å¤§å¹…æå‡è®­ç»ƒé€Ÿåº¦ã€‚</p>
<h4 data-id="heading-6">3.1 ç²¾åº¦çº§åˆ«é€‰æ‹©</h4>
<p>MindSporeæä¾›å¤šç§æ··åˆç²¾åº¦çº§åˆ«ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">from mindspore import amp
from mindspore.train import Model

<span class="hljs-comment"># æ–¹å¼ä¸€ï¼šé€šè¿‡Modelæ¥å£é…ç½®ï¼ˆæ¨èæ–°æ‰‹ï¼‰</span>
<span class="hljs-attr">model</span> = Model(net, loss_fn=loss_fn, optimizer=opt, metrics={<span class="hljs-string">'accuracy'</span>}, 
              <span class="hljs-attr">amp_level</span>=<span class="hljs-string">"O2"</span>)  <span class="hljs-comment"># O2æ˜¯æœ€ä½³å¹³è¡¡ç‚¹</span>

<span class="hljs-comment"># æ–¹å¼äºŒï¼šè‡ªå®šä¹‰è®­ç»ƒå¾ªç¯ï¼ˆé€‚åˆé«˜çº§ç”¨æˆ·ï¼‰</span>
<span class="hljs-attr">net</span> = amp.build_train_network(net, opt, loss_fn, level=<span class="hljs-string">"O2"</span>)
</code></pre>
<p><img alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" src="" loading="lazy"/></p>
<p>å®è·µç»éªŒï¼š</p>
<ul>
<li>O2æ¨¡å¼ï¼šæœ€ä½³å®è·µé€‰æ‹©ï¼Œä¿æŒBatchNormä¸ºFP32ï¼Œå…¶ä»–è½¬ä¸ºFP16</li>
<li>O3æ¨¡å¼ï¼šå…¨FP16ï¼Œå¯èƒ½å¯¼è‡´æ¢¯åº¦æº¢å‡ºï¼Œéœ€è°¨æ…ä½¿ç”¨</li>
<li>O0æ¨¡å¼ï¼šå…¨FP32ï¼Œç”¨äºè°ƒè¯•å’Œç²¾åº¦éªŒè¯</li>
</ul>
<h4 data-id="heading-7">3.2 æ¢¯åº¦ç¼©æ”¾ä¸æº¢å‡ºå¤„ç†</h4>
<p>æ··åˆç²¾åº¦è®­ç»ƒä¸­çš„å…³é”®æŒ‘æˆ˜æ˜¯æ¢¯åº¦ä¸‹æº¢é—®é¢˜ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> mindspore <span class="hljs-keyword">import</span> amp
<span class="hljs-keyword">from</span> mindspore <span class="hljs-keyword">import</span> nn

<span class="hljs-comment"># è‡ªå®šä¹‰æŸå¤±å‡½æ•°ä»¥å¤„ç†æ¢¯åº¦ç¼©æ”¾</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomTrainingWrapper</span>(nn.Cell):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, network, optimizer, loss_fn</span>):
        <span class="hljs-built_in">super</span>().__init__()
        self.network = network
        self.optimizer = optimizer
        self.loss_fn = loss_fn
        self.loss_scale = amp.FixedLossScaleManager(<span class="hljs-number">1024</span>)  <span class="hljs-comment"># å›ºå®šç¼©æ”¾å› å­</span>
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">construct</span>(<span class="hljs-params">self, data, label</span>):
        output = self.network(data)
        loss = self.loss_fn(output, label)
        scaled_loss = self.loss_scale.scale(loss)
        <span class="hljs-keyword">return</span> scaled_loss
</code></pre>
<p><img alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" src="" loading="lazy"/></p>
<h3 data-id="heading-8">4. æ¨¡å‹å¼€å‘ä¸è°ƒè¯•æŠ€å·§</h3>
<h4 data-id="heading-9">4.1 åŠ¨æ€Shapeé—®é¢˜è§£å†³</h4>
<p>é™æ€å›¾æ¨¡å¼ä¸‹ï¼ŒåŠ¨æ€Shapeä¼šå¯¼è‡´é¢‘ç¹çš„å›¾é‡ç¼–è¯‘ï¼Œä¸¥é‡æ‹–æ…¢è®­ç»ƒé€Ÿåº¦ã€‚è§£å†³æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-comment"># ç¡®ä¿æ•°æ®æ‰¹æ¬¡å¤§å°å›ºå®š</span>
data_set = data_set.batch(batch_size, drop_remainder=<span class="hljs-title class_">True</span>)  <span class="hljs-comment"># ä¸¢å¼ƒä¸è¶³æ‰¹æ¬¡çš„æ•°æ®</span>

<span class="hljs-comment"># ç½‘ç»œå®šä¹‰ä¸­é¿å…åŠ¨æ€Shapeæ“ä½œ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">StableNet</span>(nn.<span class="hljs-title class_">Cell</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span></span>):
        <span class="hljs-variable language_">super</span>().__init__()
        <span class="hljs-comment"># æ˜ç¡®æŒ‡å®šè¾“å…¥shapeï¼Œé¿å…åŠ¨æ€æ¨æ–­</span>
        <span class="hljs-variable language_">self</span>.reshape = ops.<span class="hljs-title class_">Reshape</span>()
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">construct</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, x</span>):
        <span class="hljs-comment"># é¿å…åŸºäºè¾“å…¥shapeçš„åŠ¨æ€è®¡ç®—</span>
        batch_size = x.shape[<span class="hljs-number">0</span>]
        <span class="hljs-comment"># ä½¿ç”¨å›ºå®šå°ºå¯¸æˆ–ä»é…ç½®ä¸­è¯»å–</span>
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.reshape(x, (batch_size, -<span class="hljs-number">1</span>))
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸Šå¸‚å¤§æ¨¡å‹ä¼ä¸šæ•°æ®åŸºç¡€è®¾æ–½çš„é€‰æ‹©ï¼šMiniMax åŸºäºé˜¿é‡Œäº‘ SelectDB ç‰ˆï¼Œæ‰“é€ å…¨çƒç»Ÿä¸€AIå¯è§‚æµ‹ä¸­å°]]></title>    <link>https://juejin.cn/post/7599585289947447359</link>    <guid>https://juejin.cn/post/7599585289947447359</guid>    <pubDate>2026-01-27T03:23:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599585289947447359" data-draft-id="7599579865608159274" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸Šå¸‚å¤§æ¨¡å‹ä¼ä¸šæ•°æ®åŸºç¡€è®¾æ–½çš„é€‰æ‹©ï¼šMiniMax åŸºäºé˜¿é‡Œäº‘ SelectDB ç‰ˆï¼Œæ‰“é€ å…¨çƒç»Ÿä¸€AIå¯è§‚æµ‹ä¸­å°"/> <meta itemprop="keywords" content="Apache,æ•°æ®åº“,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-27T03:23:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SelectDB"/> <meta itemprop="url" content="https://juejin.cn/user/3189021726222904"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸Šå¸‚å¤§æ¨¡å‹ä¼ä¸šæ•°æ®åŸºç¡€è®¾æ–½çš„é€‰æ‹©ï¼šMiniMax åŸºäºé˜¿é‡Œäº‘ SelectDB ç‰ˆï¼Œæ‰“é€ å…¨çƒç»Ÿä¸€AIå¯è§‚æµ‹ä¸­å°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3189021726222904/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SelectDB
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T03:23:16.000Z" title="Tue Jan 27 2026 03:23:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>MiniMax å…¨çƒé¢†å…ˆçš„é€šç”¨äººå·¥æ™ºèƒ½ç§‘æŠ€å…¬å¸ã€‚æ——ä¸‹ä¸»è¦æœ‰ MiniMax M2.1ã€Hailuo 2.3ã€Speech 2.6 å’Œ Music 2.0 ç­‰å¤§æ¨¡å‹ï¼ŒMiniMax Agentã€æµ·èº AIã€æ˜Ÿé‡ã€Talkie ç­‰äº§å“ï¼Œä»¥åŠä¸ºä¼ä¸šå®¢æˆ·ä¸å¼€å‘è€…æä¾› API æœåŠ¡çš„ MiniMax å¼€æ”¾å¹³å°ã€‚æˆªè‡³ç›®å‰ï¼ŒMiniMax å·²æœ‰è¶…è¿‡ 200 ä¸ªå›½å®¶åŠåœ°åŒºçš„é€¾ 2.12 äº¿åä¸ªäººç”¨æˆ·ä»¥åŠè¶…è¿‡ 100 ä¸ªå›½å®¶çš„ä¼ä¸šå®¢æˆ·ã€‚</p>
<p>åœ¨æŠ€æœ¯å±‚é¢ï¼ŒMiniMax åšæŒæ–‡æœ¬ã€è§†é¢‘ã€è¯­éŸ³ç­‰å…¨æ¨¡æ€æ¨¡å‹è‡ªä¸»ç ”å‘ã€‚ç›®å‰ï¼Œå…¶å…¨æ¨¡æ€æ¨¡å‹å·²è¿›å…¥å›½é™…ç¬¬ä¸€æ¢¯é˜Ÿï¼Œè¢«ä¸šå†…ç§°ä¸ºâ€œå…¨çƒå”¯å››å®ç°è¿™ä¸€æ°´å¹³çš„ä¼ä¸šä¹‹ä¸€â€ã€‚</p>
<p>åœ¨æ¨ç†èƒ½åŠ›å’Œæ•ˆç‡æ–¹é¢ï¼ŒMiniMax è¿‘å¹´æ¥çš„æ¨¡å‹è¿­ä»£èŠ‚å¥æ˜æ˜¾åŠ å¿«ï¼Œåœ¨å¤šé¡¹å›½é™…è¯„æµ‹æ¦œå•ä¸­è¿›å…¥å…¨çƒå‰åˆ—ã€‚ç›¸å…³æ¨¡å‹ä»¥è¾ƒä½ç®—åŠ›æˆæœ¬å®ç°æ¥è¿‘å›½é™…é¡¶å°–é—­æºæ¨¡å‹çš„æ€§èƒ½è¡¨ç°ï¼Œä¹Ÿåœ¨æµ·å¤–å¼€å‘è€…ç¤¾åŒºä¸­è·å¾—å…³æ³¨ã€‚</p>
<p>MiniMax é€šè¿‡å¼€æ”¾å¹³å°èµ‹èƒ½å¤šä¸ªè¡Œä¸šï¼Œå°†é¢†å…ˆçš„æ¨¡å‹èƒ½åŠ›ä»¥ API æ–¹å¼æä¾›ç»™ä¼ä¸šå’Œå¼€å‘è€…ã€‚éšç€æ¨¡å‹è°ƒç”¨é‡çš„æŒ‡æ•°çº§å¢é•¿ï¼Œ<strong>è®­ç»ƒä¸æ¨ç†äº§ç”Ÿçš„è¿è¡Œæ—¥å¿—æ•°æ®é‡ä¹Ÿæ€¥å‰§è†¨èƒ€</strong>ã€‚ è¿™äº›æ—¥å¿—å¯¹äº AI åº”ç”¨çš„è¿è¡Œç›‘æ§ã€æ€§èƒ½ä¼˜åŒ–ä¸é—®é¢˜æ’æŸ¥è‡³å…³é‡è¦ï¼Œå› æ­¤ï¼Œ<strong>é€‰æ‹©ä¸€æ¬¾èƒ½å¤Ÿæ”¯æ’‘é«˜ååã€æ˜“æŸ¥è¯¢ã€ä½æˆæœ¬çš„æ—¥å¿—å­˜å‚¨ä¸æ£€ç´¢å¼•æ“ï¼Œæˆä¸ºä¿éšœä¸šåŠ¡ç¨³å®šé«˜æ•ˆè¿è¡Œçš„å…³é”®</strong> ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40dd08ef25b5434a9c3ca8f21f3042db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VsZWN0REI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088996&amp;x-signature=bv%2Fqg%2BcrNjbyQaD82SFVLL6ntK4%3D" alt="MiniMax å¯è§‚æµ‹æ€§æ•°æ®å¹³å°æ ¸å¿ƒåŸºåº§.JPEG" loading="lazy"/></p>
<p>é¢å¯¹æµ·é‡ã€å®æ—¶ä¸”ä¸æ–­å¢é•¿çš„æ—¥å¿—æ•°æ®å¤„ç†éœ€æ±‚ï¼Œ<strong>MiniMax ç»è¿‡æ·±åº¦è¯„ä¼°ï¼Œæœ€ç»ˆé€‰æ‹©é˜¿é‡Œäº‘æ•°æ®åº“ SelectDB ç‰ˆä½œä¸ºå…¶å…¨æ–°å¯è§‚æµ‹æ€§æ•°æ®å¹³å°çš„æ ¸å¿ƒåŸºåº§</strong>ã€‚é˜¿é‡Œäº‘æ•°æ®åº“ SelectDB ç‰ˆå‡­å€Ÿå…¶æ›´ä½çš„æˆæœ¬ã€æ›´é«˜çš„æŸ¥è¯¢æ€§èƒ½ä»¥åŠæ›´çµæ´»çš„æŸ¥è¯¢æ–¹å¼åœ¨ä¼—å¤šäº§å“ä¸­è„±é¢–è€Œå‡ºã€‚å…¶å…³é”®ç‰¹æ€§ç²¾å‡†åŒ¹é…äº†ç°ä»£ AI ä¸šåŠ¡çš„ä¸¥è‹›è¦æ±‚ï¼š</p>
<ul>
<li><strong>äº‘åŸç”Ÿå­˜ç®—åˆ†ç¦»æ¶æ„</strong>ï¼šåŸºäºå¯¹è±¡å­˜å‚¨ OSS çš„å­˜å‚¨å±‚ä¸å¼¹æ€§è®¡ç®—å±‚è§£è€¦ï¼Œæ”¯æŒç‹¬ç«‹ã€æ— æŸçš„å¼¹æ€§ä¼¸ç¼©ï¼Œä¸ºåº”å¯¹æ—¥å¿—æ´ªå³°æä¾›äº†è¿‘ä¹æ— é™çš„æ‰©å±•èƒ½åŠ›ã€‚</li>
<li><strong>å¤šé›†ç¾¤ç¡¬éš”ç¦»ä¸æ•°æ®å…±äº«</strong>ï¼šæ”¯æŒäº‘åŸç”Ÿå¤šé›†ç¾¤ç¡¬éš”ç¦»èƒ½åŠ›ï¼Œç”¨æˆ·å¯ä»¥å°†å•ä¸ªå®ä¾‹çš„è®¡ç®—èµ„æºåˆ’åˆ†ä¸ºå¤šä¸ªé€»è¾‘é›†ç¾¤ï¼Œä¸åŒé›†ç¾¤ä¹‹é—´çš„åˆ†é…ç‹¬ç«‹çš„è®¡ç®—èµ„æºï¼Œå®ç°äº†ä¸åŒé›†ç¾¤çš„ä¸¥æ ¼ç‰©ç†èµ„æºéš”ç¦»å’Œæ•°æ®å…±äº«ã€‚</li>
<li><strong>æ™ºèƒ½ç¼“å­˜åŠ é€Ÿ</strong>ï¼šé€šè¿‡å•å‰¯æœ¬æœ¬åœ°è¯»å†™ç¼“å­˜ã€æ™ºèƒ½æ•°æ®æ·˜æ±°ç­–ç•¥ã€é«˜æ•ˆåˆ—å¼å­˜å‚¨æ ¼å¼å’Œå…ˆè¿›å‹ç¼©ç®—æ³•ï¼Œæ˜¾è‘—æå‡äº†æµ·é‡æ•°æ®çš„è¯»å†™æ•ˆç‡ã€‚</li>
</ul>
<blockquote>
<p>é˜¿é‡Œäº‘æ•°æ®åº“ SelectDB æ¤æ ¹äºå¼€æº Apache Doris çš„åšå®åŸºç¡€ï¼Œæ·±åº¦èåˆäº‘éšéœ€è€Œç”¨çš„ç‰¹æ€§ï¼Œä¾æ‰˜é˜¿é‡Œäº‘åŸºç¡€è®¾æ–½ï¼Œæ„å»ºèµ·äº‘åŸç”Ÿå­˜ç®—åˆ†ç¦»çš„å…¨æ–°æ¶æ„ï¼Œé¢å‘ä¼ä¸šæµ·é‡æ•°æ®çš„å®æ—¶åˆ†æéœ€æ±‚ï¼Œæä¾›æé€Ÿå®æ—¶ã€æ¹–ä»“èåˆç»Ÿä¸€ã€ç®€å•æ˜“ç”¨çš„äº‘ä¸Šæ•°ä»“æœåŠ¡ã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63c8e58c0ee44f8dab82596e720387cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VsZWN0REI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770088996&amp;x-signature=DUwGo6t5Q%2Faeeq6JFeZH1I66I40%3D" alt="MiniMax å¯è§‚æµ‹æ€§æ•°æ®å¹³å°æ ¸å¿ƒåŸºåº§-1.PNG" loading="lazy"/></p>
<p>åŸºäºé˜¿é‡Œäº‘ SelectDB ç‰ˆï¼Œ<strong>MiniMax æ„å»ºäº†è¦†ç›–å›½å†…åŠæµ·å¤–ä¸šåŠ¡çš„ç»Ÿä¸€æ—¥å¿—å¯è§‚æµ‹ä¸­å°</strong>ã€‚ ä»¥ SelectDB ç‹¬ç«‹è´Ÿè´£æ‰€æœ‰æ—¥å¿—çš„å­˜å‚¨ä¸æŸ¥è¯¢åˆ†æï¼Œå®ç°äº† â€œ<strong>ä¸€ä¸ªå¹³å°ï¼Œå…¨çƒè¦†ç›–</strong>â€ ã€‚è¿™å½»åº•ç»ˆç»“äº†ä»¥å¾€ä¸ºä¸åŒä¸šåŠ¡é›†ç¾¤åˆ†æ•£éƒ¨ç½²ã€ç‹¬ç«‹è¿ç»´å¤šå¥—ç³»ç»Ÿçš„å¤æ‚å±€é¢ï¼Œåœ¨æ¶æ„ä¸Šå®ç°äº†æå¤§çš„ç®€åŒ–ã€‚</p>
<p>é˜¿é‡Œäº‘æ•°æ®åº“ SelectDB åœ¨ MiniMax çš„æˆåŠŸå®è·µè¶³ä»¥è¯´æ˜ï¼š<strong>SelectDB èƒ½å¤Ÿå¾ˆå¥½åœ°æ»¡è¶³ AI æ—¶ä»£æµ·é‡æ•°æ®å®æ—¶å¤„ç†ä¸åˆ†æçš„éœ€æ±‚</strong>ã€‚ä¸ä»…ä¸º MiniMax è‡ªèº«ä¸šåŠ¡çš„é«˜æ•ˆè¿è¥æä¾›äº†åšå®ä¿éšœï¼Œä¹Ÿä¸ºå¹¿å¤§é¢ä¸´ç±»ä¼¼æ—¥å¿—å¤„ç†æŒ‘æˆ˜çš„ AI å¤§æ¨¡å‹ä¼ä¸šï¼Œæä¾›äº†ä¸€ä¸ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg3Njc2NDAwOA%3D%3D%26mid%3D2247536659%26idx%3D1%26sn%3Dbccdc320a7fc63498122d889cdc7cc1b%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=Mzg3Njc2NDAwOA==&amp;mid=2247536659&amp;idx=1&amp;sn=bccdc320a7fc63498122d889cdc7cc1b&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">é«˜æ€§èƒ½ã€ä½æˆæœ¬çš„å¯é æŠ€æœ¯è§£å†³æ–¹æ¡ˆ</a>ã€‚</p>
<p>ä¸æ­¢äºæ­¤ï¼Œ é¢å¯¹å¤§æ¨¡å‹ä¸å¤šæ¨¡æ€ AI çš„å¿«é€Ÿå‘å±•ï¼ŒSelectDB å·²ä»è¢«åŠ¨å­˜å‚¨åˆ†æå‘ä¸»åŠ¨æ™ºèƒ½åˆ†ææ¼”è¿›ã€‚ç›®å‰ï¼ŒSelectDB å·²å…·å¤‡ AI åŸç”Ÿæ”¯æŒèƒ½åŠ›ï¼Œæ·±åº¦èåˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg3Njc2NDAwOA%3D%3D%26mid%3D2247539611%26idx%3D1%26sn%3D07986a9513f9230f41db9944d132980d%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=Mzg3Njc2NDAwOA==&amp;mid=2247539611&amp;idx=1&amp;sn=07986a9513f9230f41db9944d132980d&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">å‘é‡ç´¢å¼•</a>ã€æ–‡æœ¬æœç´¢ä¸ç»“æ„åŒ–åˆ†æèƒ½åŠ›ï¼Œå®ç°é«˜æ•ˆçš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg3Njc2NDAwOA%3D%3D%26mid%3D2247538877%26idx%3D1%26sn%3D488aef420779ab3aef786413765a6079%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=Mzg3Njc2NDAwOA==&amp;mid=2247538877&amp;idx=1&amp;sn=488aef420779ab3aef786413765a6079&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æ··åˆæ£€ç´¢</a>ï¼Œæ˜¾è‘—æå‡ç»“æœç›¸å…³æ€§ã€å®æ—¶æ€§ä¸å‡†ç¡®æ€§ã€‚æ›´è¿›ä¸€æ­¥ï¼ŒSelectDB å†…ç½® <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg3Njc2NDAwOA%3D%3D%26mid%3D2247537751%26idx%3D1%26sn%3Ddb1da6ec1d0859aed7397fe08af713dc%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=Mzg3Njc2NDAwOA==&amp;mid=2247537751&amp;idx=1&amp;sn=db1da6ec1d0859aed7397fe08af713dc&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">AI å‡½æ•°</a>ï¼ˆå¦‚è¯­ä¹‰ç†è§£ã€ç‰¹å¾æå–ï¼‰å¹¶æ”¯æŒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg3Njc2NDAwOA%3D%3D%26mid%3D2247536828%26idx%3D1%26sn%3D1948df05ac382e5a91a1d2e9c6f3cbf5%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=Mzg3Njc2NDAwOA==&amp;mid=2247536828&amp;idx=1&amp;sn=1948df05ac382e5a91a1d2e9c6f3cbf5&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">åŸºäº MCP çš„ Agent åˆ†ææ¥å£</a>ï¼Œå¯ç›´æ¥å‡çº§ä¸ºä¼ä¸šçš„ â€œAI åˆ†æä¸­æ¢â€ ï¼Œä¸ºä¸šåŠ¡æ™ºèƒ½å†³ç­–ä¸åˆ›æ–°æä¾›ç¨³å®šã€é«˜æ•ˆçš„æ•°æ®åº•åº§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»Šå¤©ç®€å•å›é¡¾ä¸€ä¸‹Keepalivedå§]]></title>    <link>https://juejin.cn/post/7599565587152945178</link>    <guid>https://juejin.cn/post/7599565587152945178</guid>    <pubDate>2026-01-26T20:28:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599565587152945178" data-draft-id="7599530824426307594" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»Šå¤©ç®€å•å›é¡¾ä¸€ä¸‹Keepalivedå§"/> <meta itemprop="keywords" content="Linux"/> <meta itemprop="datePublished" content="2026-01-26T20:28:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Sheffield"/> <meta itemprop="url" content="https://juejin.cn/user/362164852109770"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»Šå¤©ç®€å•å›é¡¾ä¸€ä¸‹Keepalivedå§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/362164852109770/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Sheffield
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T20:28:09.000Z" title="Mon Jan 26 2026 20:28:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Keepalivedæ˜¯ä»€ä¹ˆ</h2>
<p>Keepalivedæ˜¯ä¸€æ¬¾<strong>åŸºäºVRRPåè®®çš„é«˜å¯ç”¨é›†ç¾¤å·¥å…·</strong>ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯ä¸ºæœåŠ¡å™¨é›†ç¾¤æä¾›æ•…éšœè‡ªåŠ¨åˆ‡æ¢èƒ½åŠ›ï¼Œé¿å…å•ç‚¹æ•…éšœå¯¼è‡´æœåŠ¡ä¸­æ–­ã€‚å®ƒä¸ä»…èƒ½å®ç°IPæ¼‚ç§»ï¼ˆè™šæ‹ŸIPï¼ŒVIPï¼‰ï¼Œè¿˜æ”¯æŒå¥åº·æ£€æŸ¥åŠŸèƒ½ï¼Œå®æ—¶ç›‘æ§åç«¯æœåŠ¡çŠ¶æ€ï¼Œæ˜¯Linuxç³»ç»Ÿä¸­æ„å»ºé«˜å¯ç”¨æ¶æ„ï¼ˆå¦‚LVSã€Nginxé›†ç¾¤ï¼‰çš„æ ¸å¿ƒç»„ä»¶ã€‚</p>
<p>å…¶æ ¸å¿ƒè®¾è®¡ä¾èµ–VRRPï¼ˆè™šæ‹Ÿè·¯ç”±å†—ä½™åè®®ï¼‰ï¼Œé€šè¿‡ç«é€‰æœºåˆ¶è®©é›†ç¾¤ä¸­çš„ä¸»èŠ‚ç‚¹æŒæœ‰VIPï¼Œå¤‡èŠ‚ç‚¹å¤„äºç›‘å¬çŠ¶æ€ï¼Œå½“ä¸»èŠ‚ç‚¹æ•…éšœæ—¶ï¼Œå¤‡èŠ‚ç‚¹è‡ªåŠ¨æ¥ç®¡VIPå¹¶æä¾›æœåŠ¡ï¼Œå…¨ç¨‹æ— éœ€äººå·¥å¹²é¢„ï¼Œç¡®ä¿æœåŠ¡è¿ç»­æ€§ã€‚</p>
<h3 data-id="heading-1">Keepalivedçš„æ ¸å¿ƒä½œç”¨ä¸åº”ç”¨åœºæ™¯</h3>
<p>Keepalivedä¸»è¦è§£å†³é«˜å¯ç”¨åœºæ™¯ä¸­çš„å•ç‚¹æ•…éšœé—®é¢˜ï¼Œåº”ç”¨è¦†ç›–å„ç±»åç«¯æœåŠ¡é›†ç¾¤ï¼š</p>
<ul>
<li><strong>VIPæ¼‚ç§»ä¸æœåŠ¡åˆ‡æ¢</strong>ï¼šä¸ºé›†ç¾¤åˆ†é…ä¸€ä¸ªå›ºå®šè™šæ‹ŸIPï¼Œä¸»èŠ‚ç‚¹æ•…éšœæ—¶ï¼ŒVIPè‡ªåŠ¨æ¼‚ç§»åˆ°å¤‡èŠ‚ç‚¹ï¼Œå®¢æˆ·ç«¯æ— éœ€ä¿®æ”¹é…ç½®å³å¯æŒç»­è®¿é—®æœåŠ¡ï¼ˆå¦‚Nginxè´Ÿè½½å‡è¡¡å™¨é«˜å¯ç”¨ã€æ•°æ®åº“ä¸»ä»åˆ‡æ¢åçš„IPç»Ÿä¸€ï¼‰ã€‚</li>
<li><strong>åç«¯æœåŠ¡å¥åº·æ£€æŸ¥</strong>ï¼šæ”¯æŒTCPç«¯å£ã€HTTPæ¥å£ã€è„šæœ¬è‡ªå®šä¹‰ç­‰å¤šç§å¥åº·æ£€æŸ¥æ–¹å¼ï¼Œå®æ—¶ç›‘æµ‹åç«¯æœåŠ¡ï¼ˆå¦‚Webã€æ•°æ®åº“ï¼‰çŠ¶æ€ï¼Œè‹¥æœåŠ¡å¼‚å¸¸ï¼Œè‡ªåŠ¨è§¦å‘æ•…éšœåˆ‡æ¢ï¼Œé¿å…å°†è¯·æ±‚è½¬å‘åˆ°æ•…éšœèŠ‚ç‚¹ã€‚</li>
<li><strong>LVSé›†ç¾¤é«˜å¯ç”¨</strong>ï¼šä¸LVSï¼ˆLinuxè™šæ‹ŸæœåŠ¡å™¨ï¼‰é…åˆï¼Œå®ç°LVSè´Ÿè½½å‡è¡¡å™¨çš„é«˜å¯ç”¨ï¼Œç¡®ä¿è´Ÿè½½å‡è¡¡å±‚ä¸æˆä¸ºå•ç‚¹ç“¶é¢ˆï¼Œæ”¯æ’‘å¤§è§„æ¨¡å¹¶å‘è®¿é—®åœºæ™¯ã€‚</li>
<li><strong>å¤šèŠ‚ç‚¹é›†ç¾¤ç«é€‰</strong>ï¼šæ”¯æŒä¸€ä¸»å¤šå¤‡ã€å¤šä¸»å¤šå¤‡ç­‰é›†ç¾¤æ¶æ„ï¼Œå¯é€šè¿‡ä¼˜å…ˆçº§é…ç½®æ§åˆ¶ä¸»å¤‡åˆ‡æ¢é¡ºåºï¼Œé€‚é…ä¸åŒä¸šåŠ¡çš„é«˜å¯ç”¨éœ€æ±‚ã€‚</li>
</ul>
<h3 data-id="heading-2">Keepalivedçš„æ ¸å¿ƒä¼˜åŠ¿</h3>
<ul>
<li><strong>åˆ‡æ¢é€Ÿåº¦å¿«</strong>ï¼šåŸºäºVRRPåè®®ï¼Œæ•…éšœæ£€æµ‹å’ŒVIPæ¼‚ç§»è€—æ—¶çŸ­ï¼ˆç§’çº§ï¼‰ï¼ŒæœåŠ¡ä¸­æ–­æ—¶é—´å¯å¿½ç•¥ï¼Œå¯¹ä¸šåŠ¡æ— æ˜æ˜¾å½±å“ã€‚</li>
<li><strong>é…ç½®ç®€å•çµæ´»</strong>ï¼šæ ¸å¿ƒé…ç½®æ–‡ä»¶ç®€æ´ï¼Œæ”¯æŒå¤šç§å¥åº·æ£€æŸ¥æ–¹å¼å’Œé›†ç¾¤æ¶æ„ï¼Œå¯å¿«é€Ÿé€‚é…ä¸åŒä¸šåŠ¡åœºæ™¯ã€‚</li>
<li><strong>è½»é‡é«˜æ€§èƒ½</strong>ï¼šå ç”¨ç³»ç»Ÿèµ„æºå°‘ï¼Œè¿è¡Œç¨³å®šï¼Œæ— å¤æ‚ä¾èµ–ï¼Œå¯éƒ¨ç½²åœ¨å„ç±»LinuxæœåŠ¡å™¨ä¸­ï¼Œé€‚é…ä»å•æœºé«˜å¯ç”¨åˆ°å¤§è§„æ¨¡é›†ç¾¤çš„åœºæ™¯ã€‚</li>
<li><strong>å…¼å®¹æ€§å¼º</strong>ï¼šå¯ä¸Nginxã€LVSã€HAProxyã€MySQLç­‰å„ç±»æœåŠ¡é…åˆä½¿ç”¨ï¼Œä¸ä¾µå…¥ä¸šåŠ¡ä»£ç ï¼Œæ— éœ€ä¿®æ”¹ç°æœ‰æ¶æ„ã€‚</li>
<li><strong>æ”¯æŒè‡ªå®šä¹‰è„šæœ¬</strong>ï¼šå¯é€šè¿‡è„šæœ¬æ‰©å±•å¥åº·æ£€æŸ¥é€»è¾‘å’Œæ•…éšœåˆ‡æ¢åŠ¨ä½œï¼ˆå¦‚æ•…éšœæ—¶å‘é€å‘Šè­¦ã€æ‰§è¡Œè‡ªå®šä¹‰æ¢å¤å‘½ä»¤ï¼‰ï¼Œçµæ´»æ€§æé«˜ã€‚</li>
</ul>
<h3 data-id="heading-3">Keepalivedæ ¸å¿ƒåŸç†ï¼šVRRPåè®®ä¸ä¸»å¤‡æœºåˆ¶</h3>
<p>Keepalivedçš„æ ¸å¿ƒæ˜¯VRRPåè®®ï¼Œç†è§£è¯¥åè®®å°±èƒ½æŒæ¡Keepalivedçš„å·¥ä½œé€»è¾‘ï¼š</p>
<h4 data-id="heading-4">ä¸€ã€VRRPåè®®æ ¸å¿ƒæ¦‚å¿µ</h4>
<p>VRRPå°†å¤šä¸ªæœåŠ¡å™¨ç»„æˆä¸€ä¸ªâ€œè™šæ‹Ÿè·¯ç”±ç»„â€ï¼Œç»„å†…åŒ…å«ä¸€ä¸ªä¸»èŠ‚ç‚¹ï¼ˆMasterï¼‰å’Œä¸€ä¸ª/å¤šä¸ªå¤‡èŠ‚ç‚¹ï¼ˆBackupï¼‰ï¼Œç»„å†…æ‰€æœ‰èŠ‚ç‚¹å…±äº«ä¸€ä¸ªè™šæ‹ŸIPï¼ˆVIPï¼‰ã€‚å®¢æˆ·ç«¯é€šè¿‡VIPè®¿é—®æœåŠ¡ï¼Œæ— éœ€å…³å¿ƒå…·ä½“å“ªä¸ªèŠ‚ç‚¹æä¾›æœåŠ¡ã€‚</p>
<ul>
<li><strong>ä¸»èŠ‚ç‚¹ï¼ˆMasterï¼‰</strong> ï¼šä¼˜å…ˆçº§æ›´é«˜ï¼ˆé»˜è®¤ä¼˜å…ˆçº§100ï¼Œæ•°å€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ï¼‰ï¼Œä¸»åŠ¨æŒæœ‰VIPï¼Œå“åº”å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå¹¶å®šæœŸå‘å¤‡èŠ‚ç‚¹å‘é€å¿ƒè·³æŠ¥æ–‡ï¼ˆé€šå‘Šè‡ªèº«çŠ¶æ€ï¼‰ã€‚</li>
<li><strong>å¤‡èŠ‚ç‚¹ï¼ˆBackupï¼‰</strong> ï¼šä¼˜å…ˆçº§ä½äºä¸»èŠ‚ç‚¹ï¼Œç›‘å¬ä¸»èŠ‚ç‚¹çš„å¿ƒè·³æŠ¥æ–‡ï¼Œè‹¥æœªæ”¶åˆ°å¿ƒè·³ï¼ˆä¸»èŠ‚ç‚¹æ•…éšœï¼‰ï¼Œåˆ™è§¦å‘ç«é€‰ï¼Œä¼˜å…ˆçº§æœ€é«˜çš„å¤‡èŠ‚ç‚¹æˆä¸ºæ–°ä¸»èŠ‚ç‚¹ï¼Œæ¥ç®¡VIPã€‚</li>
<li><strong>å¿ƒè·³æŠ¥æ–‡</strong>ï¼šä¸»èŠ‚ç‚¹æ¯éš”1ç§’ï¼ˆé»˜è®¤ï¼‰å‘é€VRRPé€šå‘ŠæŠ¥æ–‡ï¼Œå¤‡èŠ‚ç‚¹é€šè¿‡æ¥æ”¶æŠ¥æ–‡åˆ¤æ–­ä¸»èŠ‚ç‚¹çŠ¶æ€ï¼ŒæŠ¥æ–‡ä»…åœ¨ç»„å†…èŠ‚ç‚¹é—´ä¼ è¾“ï¼Œä¸å½±å“å®¢æˆ·ç«¯ã€‚</li>
</ul>
<h4 data-id="heading-5">äºŒã€ä¸»å¤‡åˆ‡æ¢æµç¨‹</h4>
<ol>
<li>æ­£å¸¸çŠ¶æ€ï¼šä¸»èŠ‚ç‚¹æŒæœ‰VIPï¼Œæä¾›æœåŠ¡ï¼Œå®šæœŸå‘é€å¿ƒè·³ï¼›å¤‡èŠ‚ç‚¹ç›‘å¬å¿ƒè·³ï¼Œå¤„äºå¾…å‘½çŠ¶æ€ã€‚</li>
<li>ä¸»èŠ‚ç‚¹æ•…éšœï¼šä¸»èŠ‚ç‚¹åœæ­¢æœåŠ¡ï¼Œä¸å†å‘é€å¿ƒè·³ï¼Œå¤‡èŠ‚ç‚¹è¶…æ—¶ï¼ˆé»˜è®¤3ç§’ï¼‰æœªæ”¶åˆ°å¿ƒè·³ï¼Œåˆ¤å®šä¸»èŠ‚ç‚¹æ•…éšœã€‚</li>
<li>å¤‡èŠ‚ç‚¹ç«é€‰ï¼šæ‰€æœ‰å¤‡èŠ‚ç‚¹å¯¹æ¯”ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§æœ€é«˜çš„èŠ‚ç‚¹æˆä¸ºæ–°ä¸»èŠ‚ç‚¹ã€‚</li>
<li>VIPæ¼‚ç§»ï¼šæ–°ä¸»èŠ‚ç‚¹å°†VIPç»‘å®šåˆ°è‡ªèº«ç½‘å¡ï¼Œå‘é€ARPæŠ¥æ–‡é€šçŸ¥å±€åŸŸç½‘å†…å…¶ä»–è®¾å¤‡æ›´æ–°ARPç¼“å­˜ï¼ˆå‘ŠçŸ¥VIPå¯¹åº”æ–°çš„MACåœ°å€ï¼‰ã€‚</li>
<li>æœåŠ¡æ¢å¤ï¼šå®¢æˆ·ç«¯é€šè¿‡VIPç»§ç»­è®¿é—®æœåŠ¡ï¼Œä¸šåŠ¡æ— ä¸­æ–­ï¼›åŸä¸»èŠ‚ç‚¹æ¢å¤åï¼Œè‹¥å…¶ä¼˜å…ˆçº§é«˜äºå½“å‰ä¸»èŠ‚ç‚¹ï¼Œä¼šé‡æ–°å¤ºå›VIPï¼ˆå¯é€šè¿‡é…ç½®å…³é—­æŠ¢å æ¨¡å¼ï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-6">æ€ä¹ˆä½¿ç”¨Keepalivedï¼Ÿ</h3>
<p>ä»¥â€œNginxé«˜å¯ç”¨â€ä¸ºä¾‹ï¼Œæ­å»ºä¸€ä¸»ä¸€å¤‡æ¶æ„ï¼Œæ¼”ç¤ºKeepalivedçš„å®‰è£…ä¸é…ç½®ã€‚</p>
<h4 data-id="heading-7">1. ç¯å¢ƒå‡†å¤‡</h4>
<ul>
<li>ä¸»èŠ‚ç‚¹ï¼ˆMasterï¼‰ï¼šIP 192.168.1.100ï¼Œä¼˜å…ˆçº§ 100</li>
<li>å¤‡èŠ‚ç‚¹ï¼ˆBackupï¼‰ï¼šIP 192.168.1.101ï¼Œä¼˜å…ˆçº§ 90</li>
<li>è™šæ‹ŸIPï¼ˆVIPï¼‰ï¼š192.168.1.200</li>
<li>å‰æï¼šä¸¤èŠ‚ç‚¹å·²å®‰è£…Nginxï¼Œä¸”æœåŠ¡æ­£å¸¸è¿è¡Œï¼›å…³é—­é˜²ç«å¢™æˆ–å¼€æ”¾VRRPåè®®ï¼ˆé»˜è®¤ç«¯å£æ— ï¼Œéœ€å…è®¸ç»„æ’­æŠ¥æ–‡ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-8">2. å®‰è£…Keepalived</h4>
<p>ä¸»å¤‡èŠ‚ç‚¹æ‰§è¡Œç›¸åŒå®‰è£…å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…Keepalived</span>
yum install -y keepalived

<span class="hljs-comment"># æŸ¥çœ‹ç‰ˆæœ¬ï¼ŒéªŒè¯å®‰è£…æˆåŠŸ</span>
keepalived -v

<span class="hljs-comment"># å¯åŠ¨æœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯</span>
systemctl start keepalived
systemctl <span class="hljs-built_in">enable</span> keepalived

<span class="hljs-comment"># æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span>
systemctl status keepalived
</code></pre>
<h4 data-id="heading-9">3. æ ¸å¿ƒé…ç½®ï¼ˆä¸»å¤‡èŠ‚ç‚¹å·®å¼‚åŒ–é…ç½®ï¼‰</h4>
<p>Keepalivedæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸º <code>/etc/keepalived/keepalived.conf</code>ï¼Œéœ€åˆ†åˆ«é…ç½®ä¸»å¤‡èŠ‚ç‚¹ã€‚</p>
<h5 data-id="heading-10">ï¼ˆ1ï¼‰ä¸»èŠ‚ç‚¹ï¼ˆ192.168.1.100ï¼‰é…ç½®</h5>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># ç¼–å†™æ–°é…ç½®æ–‡ä»¶</span>
cat &gt; <span class="hljs-regexp">/etc/</span>keepalived/keepalived.conf &lt;&lt; EOF
vvrp_script check_nginx { <span class="hljs-comment"># å®šä¹‰å¥åº·æ£€æµ‹è„šæœ¬</span>
    script <span class="hljs-string">"/etc/keepalived/check_nginx.sh"</span> <span class="hljs-comment"># é€‰æ‹©è„šæœ¬è·¯å¾„</span>
    interval <span class="hljs-number">5</span> <span class="hljs-comment"># æ—¶é—´é—´éš”äº”ç§’ä¸€æ¬¡</span>
    timeout <span class="hljs-number">3</span> <span class="hljs-comment"># è„šæœ¬è¶…æ—¶æ—¶é—´</span>
    fall <span class="hljs-number">2</span> <span class="hljs-comment"># æœ€å¤§å…è®¸å¤±è´¥æ¬¡æ•°</span>
    rise <span class="hljs-number">1</span> <span class="hljs-comment"># æœ€å°å…è®¸æˆåŠŸæ¢å¤æ¬¡æ•°</span>
}

vrrp_instance LB01 {
    <span class="hljs-keyword">state</span> MASTER <span class="hljs-comment"># ä¸»å¤‡çŠ¶æ€</span>
    interface ens33 <span class="hljs-comment"># VIPç½‘å¡</span>
    virtual_router_id <span class="hljs-number">1</span> <span class="hljs-comment"># è™šæ‹Ÿè·¯ç”±ç»„IDï¼Œä¸»å¤‡èŠ‚ç‚¹å¿…é¡»ä¸€è‡´</span>
    priority <span class="hljs-number">100</span> <span class="hljs-comment"># èŠ‚ç‚¹ä¼˜å…ˆçº§</span>
    advert_int <span class="hljs-number">5</span> <span class="hljs-comment"># å¿ƒè·³é—´éš”</span>
    authentication { <span class="hljs-comment">#èŠ‚ç‚¹è®¤è¯</span>
        auth_type PASS <span class="hljs-comment">#è®¤è¯æ–¹å¼</span>
        auth_pass Sheffield <span class="hljs-comment">#è®¤è¯å¯†ç </span>
    }
    virtual_ipaddress {
        <span class="hljs-number">192.168</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span>/<span class="hljs-number">24</span> <span class="hljs-comment"># VIPè®¾ç½®</span>
    }
    track_script {
        check_nginx <span class="hljs-comment"># å¯ç”¨è„šæœ¬</span>
    }
}

EOF
</code></pre>
<h5 data-id="heading-11">ï¼ˆ2ï¼‰å¤‡èŠ‚ç‚¹ï¼ˆ192.168.1.101ï¼‰é…ç½®</h5>
<p>ä¸ä¸»èŠ‚ç‚¹é…ç½®å·®å¼‚ï¼š<code>state</code>ã€<code>priority</code>ï¼Œå…¶ä½™ä¸€è‡´ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cat</span> &gt; /etc/keepalived/keepalived.conf &lt;&lt; <span class="hljs-string">EOF
vrrp_script check_nginx {
    script "/etc/keepalived/check_nginx.sh"
    interval 5
    timeout 3
    fall 2
    rise 1
}

vrrp_instance LB02 {
    state BACKUP #å¤‡ä»½èŠ‚ç‚¹
    interface ens33
    virtual_router_id 1
    priority 50 # ä¼˜å…ˆçº§ä½äºä¸»èŠ‚ç‚¹
    advert_int 5
    authentication {
        auth_type PASS
        auth_pass Sheffield
    }
    virtual_ipaddress {
        192.168.0.1/24
    }
    track_script {
        check_nginx
    }
}
EOF</span>
</code></pre>
<h5 data-id="heading-12">ï¼ˆ3ï¼‰ç¼–å†™å¥åº·æ£€æŸ¥è„šæœ¬ï¼ˆä¸»å¤‡èŠ‚ç‚¹ä¸€è‡´ï¼‰</h5>
<p>è„šæœ¬åŠŸèƒ½ï¼šæ£€æµ‹Nginxè¿›ç¨‹æ˜¯å¦å­˜åœ¨ï¼Œè‹¥ä¸å­˜åœ¨åˆ™å°è¯•é‡å¯ï¼Œé‡å¯å¤±è´¥åˆ™åœæ­¢Keepalivedï¼Œè§¦å‘ä¸»å¤‡åˆ‡æ¢ã€‚</p>
<pre><code class="hljs language-perl" lang="perl">cat &gt; <span class="hljs-regexp">/etc/</span>keepalived/check_nginx.sh &lt;&lt; EOF
<span class="hljs-comment">#!/bin/bash</span>
nginx_process=$(ps -ef | <span class="hljs-keyword">grep</span> nginx | <span class="hljs-keyword">grep</span> -v <span class="hljs-keyword">grep</span> | wc -l)

<span class="hljs-keyword">if</span> [ $nginx_process -eq <span class="hljs-number">0</span> ]; then
    systemctl restart nginx
    <span class="hljs-keyword">sleep</span> <span class="hljs-number">2</span>
    nginx_process=$(ps -ef | <span class="hljs-keyword">grep</span> nginx | <span class="hljs-keyword">grep</span> -v <span class="hljs-keyword">grep</span> | wc -l)
    <span class="hljs-keyword">if</span> [ $nginx_process -eq <span class="hljs-number">0</span> ]; then
        systemctl stop keepalived
    fi
fi

EOF

<span class="hljs-comment"># èµ‹äºˆè„šæœ¬æ‰§è¡Œæƒé™</span>
<span class="hljs-keyword">chmod</span> +<span class="hljs-keyword">x</span> /etc/keepalived/check_nginx.sh
</code></pre>
<h4 data-id="heading-13">4. é‡å¯æœåŠ¡å¹¶éªŒè¯</h4>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># ä¸»å¤‡èŠ‚ç‚¹åˆ†åˆ«é‡å¯Keepalived</span>
systemctl restart keepalived

<span class="hljs-comment"># éªŒè¯VIPæ˜¯å¦ç»‘å®šæˆåŠŸï¼ˆä¸»èŠ‚ç‚¹æ‰§è¡Œï¼Œåº”æ˜¾ç¤ºVIPï¼‰</span>
ip addr | <span class="hljs-keyword">grep</span> <span class="hljs-number">192.168</span>.<span class="hljs-number">1.1</span>

<span class="hljs-comment"># å¤‡èŠ‚ç‚¹æ‰§è¡Œï¼Œæ­¤æ—¶æ— VIPï¼ˆä¸»èŠ‚ç‚¹æ­£å¸¸æ—¶ï¼‰</span>
ip addr | <span class="hljs-keyword">grep</span> <span class="hljs-number">192.168</span>.<span class="hljs-number">1.1</span>
</code></pre>
<h4 data-id="heading-14">5. æ•…éšœåˆ‡æ¢æµ‹è¯•</h4>
<ol>
<li>åœæ­¢ä¸»èŠ‚ç‚¹Nginxï¼Œæ¨¡æ‹Ÿæ•…éšœï¼š<code>systemctl stop nginx</code>ã€‚</li>
<li>æ‰§è¡Œ <code>systemctl status keepalived</code>ï¼ŒéªŒè¯ä¸»èŠ‚ç‚¹è„šæœ¬æ˜¯å¦ç”Ÿæ•ˆã€‚</li>
<li>å®¢æˆ·ç«¯è®¿é—® <code>http://192.168.1.1</code>ï¼Œç¡®è®¤VIPå·²ç»æ¼‚ç§»æˆåŠŸã€‚</li>
<li>æ¢å¤ä¸»èŠ‚ç‚¹æœåŠ¡ï¼š<code>systemctl start nginx; systemctl start keepalived</code>ï¼ŒVIPä¼šæ¼‚ç§»å›ä¸»èŠ‚ç‚¹</li>
</ol>
<h3 data-id="heading-15">Keepalivedæ ¸å¿ƒé…ç½®ä¸å¸¸ç”¨å‘½ä»¤</h3>
<h4 data-id="heading-16">1. æ ¸å¿ƒé…ç½®å‚æ•°è¯´æ˜</h4>
<ul>
<li>
<p><strong>global_defs</strong>ï¼šå…¨å±€é…ç½®ï¼Œ<code>router_id</code> ç”¨äºæ ‡è¯†èŠ‚ç‚¹ï¼Œé›†ç¾¤å†…å”¯ä¸€ã€‚</p>
</li>
<li>
<p><strong>vrrp_script</strong>ï¼šå¥åº·æ£€æŸ¥è„šæœ¬é…ç½®ï¼Œ<code>interval</code> ä¸ºæ£€æŸ¥é—´éš”ï¼Œ<code>weight</code> ä¸ºä¼˜å…ˆçº§è°ƒæ•´å€¼ï¼ˆè´Ÿæ•°è¡¨ç¤ºæœåŠ¡å¼‚å¸¸æ—¶é™ä½ä¼˜å…ˆçº§ï¼‰ã€‚</p>
</li>
<li>
<p><strong>vrrp_instance</strong>ï¼šVRRPå®ä¾‹æ ¸å¿ƒé…ç½®ï¼š</p>
<ul>
<li><code>state</code>ï¼šèŠ‚ç‚¹è§’è‰²ï¼ˆMASTER/BACKUPï¼‰ï¼Œä»…ä¸ºåˆå§‹çŠ¶æ€ï¼Œå®é™…ä¸»å¤‡ç”±ä¼˜å…ˆçº§å†³å®šã€‚</li>
<li><code>interface</code>ï¼šç»‘å®šVIPçš„ç½‘å¡ï¼Œå¿…é¡»æ˜¯èƒ½ä¸å…¶ä»–èŠ‚ç‚¹é€šä¿¡çš„ç½‘å¡ã€‚</li>
<li><code>virtual_router_id</code>ï¼šè™šæ‹Ÿè·¯ç”±ç»„IDï¼Œä¸»å¤‡èŠ‚ç‚¹å¿…é¡»ç›¸åŒï¼Œå¦åˆ™æ— æ³•é€šä¿¡ã€‚</li>
<li><code>priority</code>ï¼šèŠ‚ç‚¹ä¼˜å…ˆçº§ï¼ŒèŒƒå›´0-255ï¼Œæ•°å€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ã€‚</li>
<li><code>advert_int</code>ï¼šå¿ƒè·³å‘é€é—´éš”ï¼Œé»˜è®¤1ç§’ã€‚</li>
<li><code>authentication</code>ï¼šä¸»å¤‡èŠ‚ç‚¹è®¤è¯é…ç½®ï¼Œç¡®ä¿å¿ƒè·³æŠ¥æ–‡å®‰å…¨ï¼Œ<code>auth_pass</code> ä¸»å¤‡å¿…é¡»ä¸€è‡´ã€‚</li>
<li><code>virtual_ipaddress</code>ï¼šé…ç½®VIPåŠç»‘å®šçš„ç½‘å¡ï¼Œå¯æ·»åŠ å¤šä¸ªVIPã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-17">2. å¸¸ç”¨å‘½ä»¤</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æœåŠ¡ç®¡ç†å‘½ä»¤</span>
systemctl start keepalived  <span class="hljs-comment"># å¯åŠ¨æœåŠ¡</span>
systemctl stop keepalived   <span class="hljs-comment"># åœæ­¢æœåŠ¡</span>
systemctl restart keepalived <span class="hljs-comment"># é‡å¯æœåŠ¡</span>
systemctl status keepalived <span class="hljs-comment"># æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span>
systemctl <span class="hljs-built_in">enable</span> keepalived <span class="hljs-comment"># å¼€æœºè‡ªå¯</span>
systemctl <span class="hljs-built_in">disable</span> keepalived <span class="hljs-comment"># å…³é—­å¼€æœºè‡ªå¯</span>

<span class="hljs-comment"># é…ç½®ç›¸å…³å‘½ä»¤</span>
keepalived -t -f /etc/keepalived/keepalived.conf <span class="hljs-comment"># éªŒè¯é…ç½®æ–‡ä»¶è¯­æ³•æ­£ç¡®æ€§</span>
</code></pre>
<h3 data-id="heading-18">æ³¨æ„äº‹é¡¹</h3>
<ul>
<li>ä¸»å¤‡èŠ‚ç‚¹ç½‘ç»œå¿…é¡»äº’é€šï¼Œä¸”è™šæ‹Ÿè·¯ç”±ç»„IDï¼ˆvirtual_router_idï¼‰ã€è®¤è¯ä¿¡æ¯ï¼ˆauth_passï¼‰å¿…é¡»ä¸€è‡´ï¼Œå¦åˆ™æ— æ³•æ­£å¸¸é€šä¿¡ã€‚</li>
<li>ç»‘å®šVIPçš„ç½‘å¡éœ€æ­£ç¡®ï¼Œè‹¥ç½‘å¡åé”™è¯¯ï¼ŒVIPæ— æ³•æ­£å¸¸ç»‘å®šå’Œæ¼‚ç§»ï¼ˆç”¨ <code>ip addr</code> æŸ¥çœ‹å®é™…ç½‘å¡åï¼‰ã€‚</li>
<li>å¥åº·æ£€æŸ¥è„šæœ¬éœ€èµ‹äºˆæ‰§è¡Œæƒé™ï¼Œå¦åˆ™Keepalivedæ— æ³•è°ƒç”¨ï¼Œå¯¼è‡´æœåŠ¡å¼‚å¸¸æ—¶æ— æ³•è§¦å‘åˆ‡æ¢ã€‚</li>
<li>é»˜è®¤å¼€å¯æŠ¢å æ¨¡å¼ï¼ŒåŸä¸»èŠ‚ç‚¹æ¢å¤åä¼šå¤ºå›VIPï¼Œå¯é€šè¿‡åœ¨ <code>vrrp_instance</code> ä¸­æ·»åŠ <code>nopreempt</code> å…³é—­æŠ¢å ï¼ˆä»…å¤‡èŠ‚ç‚¹é…ç½®æœ‰æ•ˆï¼‰ã€‚</li>
<li>é˜²ç«å¢™éœ€å…è®¸VRRPåè®®ï¼ˆç»„æ’­åœ°å€224.0.0.18ï¼Œåè®®å·112ï¼‰ï¼Œå¦åˆ™ä¸»å¤‡èŠ‚ç‚¹æ— æ³•æ¥æ”¶å¿ƒè·³æŠ¥æ–‡ï¼Œé…ç½®ï¼š<code>iptables -A INPUT -p vrrp -j ACCEPT</code>ã€‚</li>
<li>ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå»ºè®®å°†å¥åº·æ£€æŸ¥è„šæœ¬ä¸å‘Šè­¦æœºåˆ¶ç»“åˆï¼ˆå¦‚æ•…éšœæ—¶å‘é€é‚®ä»¶/çŸ­ä¿¡å‘Šè­¦ï¼‰ï¼Œä¾¿äºåŠæ—¶æ’æŸ¥é—®é¢˜ã€‚</li>
</ul>
<p>å…ˆå†™è¿™ä¹ˆå¤šï¼Œåé¢æœ‰æ—¶é—´å†å¤šå†™ç‚¹å¹²è´§ğŸ¤­ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ«åªç›¯ç€ LangChainï¼å¸¦ä½ èµ·åº• LangGraph å’Œ DeepAgentsï¼šAgent çœŸæ­£è½åœ°ç”Ÿäº§ç¯å¢ƒçš„å¿…ç»ä¹‹è·¯]]></title>    <link>https://juejin.cn/post/7599579865608208426</link>    <guid>https://juejin.cn/post/7599579865608208426</guid>    <pubDate>2026-01-27T03:22:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599579865608208426" data-draft-id="7599299048303083563" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ«åªç›¯ç€ LangChainï¼å¸¦ä½ èµ·åº• LangGraph å’Œ DeepAgentsï¼šAgent çœŸæ­£è½åœ°ç”Ÿäº§ç¯å¢ƒçš„å¿…ç»ä¹‹è·¯"/> <meta itemprop="keywords" content="Agent"/> <meta itemprop="datePublished" content="2026-01-27T03:22:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Liiiii"/> <meta itemprop="url" content="https://juejin.cn/user/696435167987753"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ«åªç›¯ç€ LangChainï¼å¸¦ä½ èµ·åº• LangGraph å’Œ DeepAgentsï¼šAgent çœŸæ­£è½åœ°ç”Ÿäº§ç¯å¢ƒçš„å¿…ç»ä¹‹è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/696435167987753/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Liiiii
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T03:22:01.000Z" title="Tue Jan 27 2026 03:22:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">LangChain-AI æŠ€æœ¯è°ƒç ”æŠ¥å‘Š</h2>
<blockquote>
<p>æœ¬æ–‡æ˜¯ä¸€ä»½ <strong>ç³»ç»Ÿæ€§ã€å·¥ç¨‹å¯¼å‘çš„ LangChain-AI æŠ€æœ¯è°ƒç ”æŠ¥å‘Š</strong> ï¼Œä» <strong>æ•´ä½“æŠ€æœ¯ä½“ç³»ã€è®¾è®¡ç†å¿µã€æ ¸å¿ƒèƒ½åŠ›ã€å·¥ç¨‹ç‰¹æ€§ã€åº”ç”¨æ¶æ„ä¸ç”Ÿæ€å¯¹æ¯”</strong> ç­‰å¤šä¸ªç»´åº¦ï¼Œå…¨é¢åˆ†æ <strong>LangChainã€LangGraph</strong> ä¸ <strong>DeepAgents</strong> ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ä¸€ã€æŠ€æœ¯ä½“ç³»æ€»ä½“æ¦‚è§ˆ</h3>
<p>LangChain-AI å°†æ™ºèƒ½ä½“ç³»ç»Ÿæ‹†åˆ†ä¸ºä¸‰ä¸ªå±‚çº§ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TB
    A[LLM Providers] --&gt; B[LangChain Agent &amp; App DSL]
    B --&gt; C[LangGraph Stateful Runtime]
    C --&gt; D[DeepAgents Autonomous Agent Harness]

    style B fill:#E3F2FD
    style C fill:#E8F5E9
    style D fill:#FFF3E0
</code></pre>
<ul>
<li><strong>LangChain</strong>ï¼šAgent ä¸ LLM åº”ç”¨çš„å¼€å‘æ¡†æ¶ï¼ˆDSL å±‚ï¼‰</li>
<li><strong>LangGraph</strong>ï¼šAgent çš„æ‰§è¡Œå¼•æ“ä¸çŠ¶æ€è¿è¡Œæ—¶ï¼ˆRuntime å±‚ï¼‰</li>
<li><strong>DeepAgents</strong>ï¼šé¢å‘é•¿æœŸè‡ªæ²»ä»»åŠ¡çš„é«˜é˜¶ Agent å·¥å…·ç®±ï¼ˆHarness å±‚ï¼‰</li>
</ul>
<h3 data-id="heading-2">äºŒã€LangChain</h3>
<p><strong>å®˜æ–¹èµ„æº</strong>ï¼š</p>
<ul>
<li>é¡¹ç›®ä¸»é¡µï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flangchain-ai%2Flangchain" target="_blank" title="https://github.com/langchain-ai/langchain" ref="nofollow noopener noreferrer">github.com/langchain-aâ€¦</a></li>
<li>å®˜æ–¹æ–‡æ¡£ï¼ˆPythonï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.langchain.com%2Foss%2Fpython%2Flangchain%2Foverview" target="_blank" title="https://docs.langchain.com/oss/python/langchain/overview" ref="nofollow noopener noreferrer">docs.langchain.com/oss/python/â€¦</a></li>
<li>Chat Modelsï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.langchain.com%2Foss%2Fpython%2Flangchain%2Fchat_models" target="_blank" title="https://docs.langchain.com/oss/python/langchain/chat_models" ref="nofollow noopener noreferrer">docs.langchain.com/oss/python/â€¦</a></li>
<li>Agentsï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.langchain.com%2Foss%2Fpython%2Flangchain%2Fagents" target="_blank" title="https://docs.langchain.com/oss/python/langchain/agents" ref="nofollow noopener noreferrer">docs.langchain.com/oss/python/â€¦</a></li>
</ul>
<h4 data-id="heading-3">2.1 æŠ€æœ¯å®šä½ä¸è®¾è®¡ç›®æ ‡</h4>
<p>LangChain æ˜¯ä¸€ä¸ª <strong>é¢å‘ LLM åº”ç”¨ä¸ Agent çš„å¼€å‘æ¡†æ¶ï¼ˆDeveloperâ€‘Facing Frameworkï¼‰</strong>ï¼Œå…¶æ ¸å¿ƒè®¾è®¡ç›®æ ‡æ˜¯ï¼š</p>
<ul>
<li>é™ä½ LLM åº”ç”¨ä¸ Agent çš„å¼€å‘é—¨æ§›</li>
<li>æä¾›ç»Ÿä¸€ã€å¯ç»„åˆçš„æŠ½è±¡å±‚ï¼ˆæ¨¡å‹ / Prompt / Tool / Agentï¼‰</li>
<li>è®©å¼€å‘è€…ä¸“æ³¨â€œAgent èƒ½åšä»€ä¹ˆâ€ï¼Œè€Œä¸æ˜¯â€œåº•å±‚å¦‚ä½•æ¥æ¨¡å‹â€</li>
</ul>
<p>LangChain å¹¶ä¸è¯•å›¾è§£å†³æ‰§è¡Œå¯é æ€§ã€çŠ¶æ€æŒä¹…åŒ–ç­‰é—®é¢˜ï¼Œè€Œæ˜¯å°†è¿™äº›èŒè´£ä¸‹æ²‰ç»™ LangGraphã€‚</p>
<hr/>
<h4 data-id="heading-4">2.2 èƒ½åŠ›æ¨¡å—</h4>
<h4 data-id="heading-5">1. æ ‡å‡†åŒ– LLM / ChatModel æ¥å£</h4>
<ul>
<li>é€šè¿‡ <code>chat_models</code> ç»Ÿä¸€å°è£…ä¸åŒæ¨¡å‹å‚å•†ï¼ˆOpenAIã€Anthropic ç­‰ï¼‰</li>
<li>å±è”½ API å·®å¼‚ï¼Œæ”¯æŒæµå¼ã€å·¥å…·è°ƒç”¨ã€å¤šæ¨¡æ€</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    App --&gt; ChatModel
    ChatModel --&gt; OpenAI
    ChatModel --&gt; Anthropic
</code></pre>
<p><strong>èƒ½åŠ›ä»·å€¼</strong>ï¼š</p>
<ul>
<li>æ¨¡å‹å¯æ›¿æ¢æ€§å¼º</li>
<li>é¿å…ä¾›åº”å•†é”å®š</li>
</ul>
<hr/>
<h4 data-id="heading-6">2. Prompt Template ä¸æ¶ˆæ¯ç»“æ„åŒ–</h4>
<ul>
<li>æä¾› <code>PromptTemplate</code> / <code>ChatPromptTemplate</code></li>
<li>å°† Prompt è§†ä¸ºå¯ç»„åˆã€å¯ç»´æŠ¤çš„ç»“æ„åŒ–å¯¹è±¡</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    Variables --&gt; PromptTemplate --&gt; LLM
</code></pre>
<p><strong>èƒ½åŠ›ä»·å€¼</strong>ï¼š</p>
<ul>
<li>Prompt å·¥ç¨‹åŒ–</li>
<li>å‡å°‘å­—ç¬¦ä¸²æ‹¼æ¥é”™è¯¯</li>
</ul>
<hr/>
<h4 data-id="heading-7">3. Tool æŠ½è±¡ä¸å·¥å…·è°ƒç”¨æœºåˆ¶</h4>
<ul>
<li>Tool = å‡½æ•° + æè¿° + Schema</li>
<li>è‡ªåŠ¨è½¬ä¸ºæ¨¡å‹å¯ç†è§£çš„ Function / Tool Calling æ ¼å¼</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    Agent-&gt;&gt;LLM: æ¨ç† + é€‰æ‹©å·¥å…·
    LLM-&gt;&gt;Tool: è°ƒç”¨
    Tool--&gt;&gt;Agent: è¿”å›ç»“æœ
</code></pre>
<p><strong>èƒ½åŠ›ä»·å€¼</strong>ï¼š</p>
<ul>
<li>LLM å…·å¤‡â€œè¡ŒåŠ¨èƒ½åŠ›â€</li>
<li>æ”¯æŒå¤–éƒ¨ç³»ç»Ÿé›†æˆ</li>
</ul>
<hr/>
<h4 data-id="heading-8">4. é¢„æ„å»º Agent Loop</h4>
<ul>
<li>å†…ç½® ReAct / Toolâ€‘Calling Agent</li>
<li>è‡ªåŠ¨ç®¡ç†æ€è€ƒ â†’ è¡ŒåŠ¨ â†’ åé¦ˆå¾ªç¯</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    Input --&gt; Reasoning --&gt; ToolCall --&gt; Observation --&gt; Reasoning
</code></pre>
<p><strong>èƒ½åŠ›ä»·å€¼</strong>ï¼š</p>
<ul>
<li>å¿«é€Ÿæ„å»ºå¯ç”¨ Agent</li>
<li>é™ä½ Agent å¿ƒæ™ºè´Ÿæ‹…</li>
</ul>
<hr/>
<h4 data-id="heading-9">5. Callback / Middleware æ‰©å±•æœºåˆ¶</h4>
<ul>
<li>åœ¨ LLM / Tool è°ƒç”¨ç”Ÿå‘½å‘¨æœŸæ’å…¥è‡ªå®šä¹‰é€»è¾‘</li>
<li>ç”¨äºæ—¥å¿—ã€ç›‘æ§ã€å®‰å…¨å®¡è®¡ã€Tracing</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    BeforeCall --&gt; LLM --&gt; AfterCall
</code></pre>
<p><strong>èƒ½åŠ›å®šä½æ€»ç»“</strong>ï¼š</p>
<blockquote>
<p>LangChain æ˜¯ <strong>Agent ä¸ LLM åº”ç”¨çš„å¼€å‘æ¡†æ¶ï¼ˆDSLï¼‰</strong>ï¼Œè€Œéæ‰§è¡Œå¼•æ“ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-10">ä¸‰ã€LangGraph</h3>
<p><strong>å®˜æ–¹èµ„æº</strong>ï¼š</p>
<ul>
<li>é¡¹ç›®ä¸»é¡µï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flangchain-ai%2Flanggraph" target="_blank" title="https://github.com/langchain-ai/langgraph" ref="nofollow noopener noreferrer">github.com/langchain-aâ€¦</a></li>
<li>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.langchain.com%2Foss%2Fpython%2Flanggraph%2Foverview" target="_blank" title="https://docs.langchain.com/oss/python/langgraph/overview" ref="nofollow noopener noreferrer">docs.langchain.com/oss/python/â€¦</a></li>
<li>Conceptsï¼ˆGraph / Stateï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.langchain.com%2Foss%2Fpython%2Flanggraph%2Fconcepts" target="_blank" title="https://docs.langchain.com/oss/python/langgraph/concepts" ref="nofollow noopener noreferrer">docs.langchain.com/oss/python/â€¦</a></li>
</ul>
<h4 data-id="heading-11">3.1 æŠ€æœ¯å®šä½ä¸è®¾è®¡ç›®æ ‡</h4>
<p>LangGraph æ˜¯ä¸€ä¸ª <strong>é¢å‘ Agent çš„çŠ¶æ€åŒ–æ‰§è¡Œå¼•æ“ï¼ˆStateful Runtimeï¼‰</strong>ï¼Œç”¨äºè§£å†³ LangChain æ˜ç¡®ä¸è§£å†³çš„é—®é¢˜ï¼š</p>
<ul>
<li>Agent æ‰§è¡Œè¿‡ç¨‹å¦‚ä½•å»ºæ¨¡ï¼Ÿ</li>
<li>å¦‚ä½•æ”¯æŒé•¿æ—¶é—´è¿è¡Œä¸å¤±è´¥æ¢å¤ï¼Ÿ</li>
<li>å¦‚ä½•è®©äººç±»å‚ä¸æ‰§è¡Œè¿‡ç¨‹ï¼Ÿ</li>
</ul>
<p>LangGraph çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>Agent æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼Œè€Œä¸æ˜¯ä¸€ä¸ªé»‘ç›’å¾ªç¯ã€‚</strong></p>
<hr/>
<h4 data-id="heading-12">3.2 æ‰§è¡Œæ¨¡å‹ä¸æŠ½è±¡å±‚çº§</h4>
<p>LangGraph ä»¥ Graph ä¸ºä¸€ç­‰æŠ½è±¡ï¼š</p>
<ul>
<li>Nodeï¼šæ‰§è¡Œå•å…ƒï¼ˆLLMã€å·¥å…·ã€é€»è¾‘ï¼‰</li>
<li>Edgeï¼šæ‰§è¡Œè·¯å¾„</li>
<li>Stateï¼šç³»ç»Ÿçº§å…±äº«çŠ¶æ€</li>
</ul>
<hr/>
<h4 data-id="heading-13">3.3 èƒ½åŠ›æ¨¡å—</h4>
<h4 data-id="heading-14">1. Graphâ€‘based æ‰§è¡Œæ¨¡å‹</h4>
<ul>
<li>å°† Agent å·¥ä½œæµå»ºæ¨¡ä¸º <strong>æœ‰å‘å›¾</strong></li>
<li>Node = æ‰§è¡Œå•å…ƒï¼ŒEdge = æ‰§è¡Œè·¯å¾„</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    Start --&gt; NodeA
    NodeA --&gt;|æ¡ä»¶1| NodeB
    NodeA --&gt;|æ¡ä»¶2| NodeC
    NodeB --&gt; End
    NodeC --&gt; End
</code></pre>
<p><strong>èƒ½åŠ›ä»·å€¼</strong>ï¼š</p>
<ul>
<li>æ˜¾å¼æ§åˆ¶æ‰§è¡Œè·¯å¾„</li>
<li>æ”¯æŒåˆ†æ”¯ã€å¾ªç¯ã€å›é€€</li>
</ul>
<hr/>
<h4 data-id="heading-15">2. æ˜¾å¼ State å»ºæ¨¡</h4>
<ul>
<li>ä½¿ç”¨ TypedDict / Dataclass å®šä¹‰ç³»ç»ŸçŠ¶æ€</li>
<li>æ¯ä¸ªèŠ‚ç‚¹æ˜¾å¼è¯»å†™ State</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    State0 --&gt; Node --&gt; State1
</code></pre>
<p><strong>èƒ½åŠ›ä»·å€¼</strong>ï¼š</p>
<ul>
<li>ç³»ç»Ÿçº§å¯è§‚æµ‹çŠ¶æ€</li>
<li>Agent è¡Œä¸ºå¯è§£é‡Š</li>
</ul>
<hr/>
<h4 data-id="heading-16">3. Durable Executionï¼ˆæŒä¹…æ‰§è¡Œï¼‰</h4>
<ul>
<li>è‡ªåŠ¨ Checkpoint</li>
<li>å¤±è´¥å¯æ¢å¤ã€å¯é‡æ”¾</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    Execute --&gt; Checkpoint --&gt; Resume
</code></pre>
<p><strong>èƒ½åŠ›ä»·å€¼</strong>ï¼š</p>
<ul>
<li>æ”¯æŒé•¿æ—¶é—´è¿è¡Œä»»åŠ¡</li>
<li>å·¥ç¨‹çº§å¯é æ€§</li>
</ul>
<hr/>
<h4 data-id="heading-17">4. Humanâ€‘inâ€‘theâ€‘Loop æ”¯æŒ</h4>
<ul>
<li>æ‰§è¡Œä¸­å¯æš‚åœ</li>
<li>äººå·¥ä¿®æ”¹ State åç»§ç»­</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    Agent-&gt;&gt;System: æ‰§è¡Œåˆ°å…³é”®èŠ‚ç‚¹
    System-&gt;&gt;Human: è¯·æ±‚å®¡æ ¸
    Human-&gt;&gt;System: ç¡®è®¤/ä¿®æ”¹
    System-&gt;&gt;Agent: ç»§ç»­æ‰§è¡Œ
</code></pre>
<h4 data-id="heading-18">5. å­å›¾ï¼ˆSubgraphï¼‰ä¸ç»„åˆ</h4>
<ul>
<li>æ”¯æŒåµŒå¥— Graph</li>
<li>å¤æ‚æµç¨‹æ¨¡å—åŒ–</li>
</ul>
<p><strong>èƒ½åŠ›å®šä½æ€»ç»“</strong>ï¼š</p>
<blockquote>
<p>LangGraph æ˜¯ <strong>Agent çš„çŠ¶æ€æœºä¸æ‰§è¡Œè¿è¡Œæ—¶</strong>ï¼Œå…³æ³¨â€œæ€ä¹ˆè·‘å¾—ç¨³â€ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-19">å››ã€DeepAgents</h3>
<p><strong>å®˜æ–¹èµ„æº</strong>ï¼š</p>
<ul>
<li>é¡¹ç›®ä¸»é¡µï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flangchain-ai%2Fdeepagents" target="_blank" title="https://github.com/langchain-ai/deepagents" ref="nofollow noopener noreferrer">github.com/langchain-aâ€¦</a></li>
<li>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.langchain.com%2Foss%2Fpython%2Fdeepagents%2Foverview" target="_blank" title="https://docs.langchain.com/oss/python/deepagents/overview" ref="nofollow noopener noreferrer">docs.langchain.com/oss/python/â€¦</a></li>
<li>Middleware &amp; Skillsï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.langchain.com%2Foss%2Fpython%2Fdeepagents%2Fconcepts" target="_blank" title="https://docs.langchain.com/oss/python/deepagents/concepts" ref="nofollow noopener noreferrer">docs.langchain.com/oss/python/â€¦</a></li>
</ul>
<h4 data-id="heading-20">4.1 æŠ€æœ¯å®šä½ä¸è®¾è®¡ç›®æ ‡</h4>
<p>DeepAgents æ˜¯ä¸€ä¸ª <strong>é¢å‘é•¿æœŸè‡ªæ²»ä»»åŠ¡çš„ Agent Harnessï¼ˆèƒ½åŠ›æ•´åˆå±‚ï¼‰</strong>ï¼Œå…¶ç›®æ ‡ä¸æ˜¯â€œè®© Agent èƒ½è·‘â€ï¼Œè€Œæ˜¯ï¼š</p>
<ul>
<li>è®© Agent èƒ½ç‹¬ç«‹å®Œæˆå¤æ‚é¡¹ç›®çº§ä»»åŠ¡</li>
<li>è®© Agent å…·å¤‡è§„åˆ’ã€åæ€ã€ä¸Šä¸‹æ–‡ç®¡ç†èƒ½åŠ›</li>
<li>è®© Agent åƒä¸€ä¸ªâ€œæ•°å­—å‘˜å·¥â€è€Œä¸æ˜¯è„šæœ¬</li>
</ul>
<p>DeepAgents æ˜ç¡®æ„å»ºåœ¨ LangGraph Runtime ä¹‹ä¸Šï¼Œå¹¶å¤ç”¨ LangChain çš„ Agent æŠ½è±¡ã€‚</p>
<hr/>
<h4 data-id="heading-21">4.2 èƒ½åŠ›ç»„ç»‡æ–¹å¼ï¼ˆHarness / Middleware / Skillsï¼‰</h4>
<p>DeepAgents ä¸å¼ºè°ƒåº•å±‚ APIï¼Œè€Œæ˜¯é€šè¿‡ <strong>èƒ½åŠ›ç»„åˆ</strong>ï¼š</p>
<ul>
<li>Middlewareï¼šæ‹¦æˆªä¸å¢å¼º Agent è¡Œä¸º</li>
<li>Skillsï¼šå¯å¤ç”¨çš„é¢†åŸŸèƒ½åŠ›åŒ…</li>
<li>å†…ç½®å·¥å…·é›†ï¼šè§„åˆ’ã€æ–‡ä»¶ç³»ç»Ÿã€å­ Agent</li>
</ul>
<hr/>
<h4 data-id="heading-22">4.3 èƒ½åŠ›æ¨¡å—</h4>
<h4 data-id="heading-23">1. ä»»åŠ¡è§„åˆ’ä¸ Todo ç®¡ç†</h4>
<ul>
<li>å†…ç½® Planning èƒ½åŠ›</li>
<li>è‡ªåŠ¨å°†å¤æ‚ç›®æ ‡æ‹†è§£ä¸ºå¯æ‰§è¡Œæ­¥éª¤</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    Goal --&gt; Plan
    Plan --&gt; Todo1
    Plan --&gt; Todo2
    Plan --&gt; Todo3
</code></pre>
<p><strong>èƒ½åŠ›ä»·å€¼</strong>ï¼š</p>
<ul>
<li>æ”¯æŒé•¿é“¾è·¯å¤æ‚ä»»åŠ¡</li>
</ul>
<hr/>
<h4 data-id="heading-24">2. Middleware é©±åŠ¨çš„èƒ½åŠ›æ‰©å±•</h4>
<ul>
<li>é€šè¿‡ Middleware ä¸º Agent æ³¨å…¥èƒ½åŠ›æ¨¡å—</li>
<li>å¦‚è§„åˆ’ã€æ–‡ä»¶ç®¡ç†ã€åæ€ã€å­ Agent ç®¡ç†</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    AgentCore --&gt; MiddlewareA
    AgentCore --&gt; MiddlewareB
    AgentCore --&gt; MiddlewareC
</code></pre>
<p><strong>èƒ½åŠ›ä»·å€¼</strong>ï¼š</p>
<ul>
<li>èƒ½åŠ›æ¨¡å—åŒ–</li>
<li>Agent è¡Œä¸ºå¯ç»„åˆ</li>
</ul>
<hr/>
<h4 data-id="heading-25">3. æ–‡ä»¶ç³»ç»Ÿä½œä¸ºé•¿æœŸä¸Šä¸‹æ–‡</h4>
<ul>
<li>æä¾› <code>read_file / write_file / edit_file</code></li>
<li>ç”¨æ–‡ä»¶æ›¿ä»£ Prompt ä½œä¸ºä¸»è¦ä¿¡æ¯è½½ä½“</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    Agent --&gt; FileSystem --&gt; Agent
</code></pre>
<p><strong>èƒ½åŠ›ä»·å€¼</strong>ï¼š</p>
<ul>
<li>çªç ´ä¸Šä¸‹æ–‡çª—å£é™åˆ¶</li>
<li>æ”¯æŒé¡¹ç›®çº§ä»»åŠ¡</li>
</ul>
<hr/>
<h4 data-id="heading-26">4. Subagent æœºåˆ¶</h4>
<ul>
<li>ä¸» Agent è´Ÿè´£è°ƒåº¦</li>
<li>å­ Agent æ‰§è¡Œä¸“ç”¨å­ä»»åŠ¡</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    MainAgent --&gt; SubAgent1
    MainAgent --&gt; SubAgent2
</code></pre>
<p><strong>èƒ½åŠ›ä»·å€¼</strong>ï¼š</p>
<ul>
<li>ä¸Šä¸‹æ–‡éš”ç¦»</li>
<li>å¹¶è¡Œæ‰§è¡Œ</li>
</ul>
<hr/>
<h4 data-id="heading-27">5. é•¿æœŸè®°å¿†ä¸è‡ªæ²»æ‰§è¡Œ</h4>
<ul>
<li>åŸºäº LangGraph çš„ Store</li>
<li>æ”¯æŒè·¨ä¼šè¯ã€è·¨çº¿ç¨‹è®°å¿†</li>
</ul>
<p><strong>èƒ½åŠ›å®šä½æ€»ç»“</strong>ï¼š</p>
<blockquote>
<p>DeepAgents æ˜¯ <strong>é¢å‘é•¿æœŸè‡ªæ²»ä»»åŠ¡çš„ Agent Harness</strong>ï¼Œå…³æ³¨â€œæ€ä¹ˆè‡ªå·±æŠŠäº‹å¹²å®Œâ€ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-28">äº”ã€æ€»ç»“å¯¹æ¯”</h3>

























<table><thead><tr><th>æŠ€æœ¯æ ˆ</th><th>æ ¸å¿ƒèƒ½åŠ›å…³é”®è¯</th><th>æŠ€æœ¯å®šä½</th></tr></thead><tbody><tr><td>LangChain</td><td>LLM é›†æˆã€Agent DSLã€Toolsã€Middleware</td><td>Agent å¼€å‘æ¡†æ¶</td></tr><tr><td>LangGraph</td><td>çŠ¶æ€æœºã€æŒä¹…æ‰§è¡Œã€Graph ç¼–æ’</td><td>Agent Runtime</td></tr><tr><td>DeepAgents</td><td>è§„åˆ’ã€å­ Agentã€æ–‡ä»¶ä¸Šä¸‹æ–‡ã€è‡ªæ²»</td><td>è‡ªæ²» Agent å·¥å…·ç®±</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-29">å…­ã€å…¸å‹åº”ç”¨æ¶æ„ç¤ºä¾‹</h3>
<h4 data-id="heading-30">1. åŸºäº LangChain çš„è½»é‡çº§ Agent æ¶æ„</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    User --&gt; Agent
    Agent --&gt; ChatModel
    Agent --&gt; Tools
    Tools --&gt; ExternalAPI
</code></pre>
<p><strong>è¯´æ˜</strong>ï¼š</p>
<ul>
<li>é€‚åˆèŠå¤©æœºå™¨äººã€RAGã€ç®€å•å·¥å…· Agent</li>
<li>Agent ç”Ÿå‘½å‘¨æœŸçŸ­ï¼ŒåŒæ­¥æ‰§è¡Œ</li>
<li>ä¸»è¦å…³æ³¨ Promptã€Toolã€æ¨¡å‹æ•ˆæœ</li>
</ul>
<hr/>
<h4 data-id="heading-31">2. åŸºäº LangChain + LangGraph çš„ç”Ÿäº§çº§ Agent æ¶æ„</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    User --&gt; Graph
    Graph --&gt; State
    State --&gt; NodeLLM
    State --&gt; NodeTool
    NodeLLM --&gt; State
    NodeTool --&gt; State
    State --&gt; Store
</code></pre>
<p><strong>è¯´æ˜</strong>ï¼š</p>
<ul>
<li>æ˜¾å¼çŠ¶æ€å»ºæ¨¡ï¼ˆStateï¼‰</li>
<li>æ”¯æŒå¤±è´¥æ¢å¤ã€é•¿æ—¶é—´è¿è¡Œ</li>
<li>é€‚åˆæµç¨‹å‹ Agentã€ä¼ä¸šè‡ªåŠ¨åŒ–</li>
</ul>
<hr/>
<h4 data-id="heading-32">3. åŸºäº DeepAgents çš„è‡ªæ²» Agent æ¶æ„</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    User --&gt; MainAgent
    MainAgent --&gt; Planner
    Planner --&gt; TodoList
    MainAgent --&gt; FileSystem
    MainAgent --&gt; SubAgent1
    MainAgent --&gt; SubAgent2
    SubAgent1 --&gt; FileSystem
    SubAgent2 --&gt; FileSystem
</code></pre>
<p><strong>è¯´æ˜</strong>ï¼š</p>
<ul>
<li>é¢å‘å¤æ‚ã€é•¿æœŸã€å¤šæ­¥éª¤ä»»åŠ¡</li>
<li>æ–‡ä»¶ç³»ç»Ÿä½œä¸ºä¸»è¦ä¸Šä¸‹æ–‡è½½ä½“</li>
<li>å­ Agent å¹¶è¡Œæ‰§è¡Œã€ä¸Šä¸‹æ–‡éš”ç¦»</li>
</ul>
<hr/>
<h3 data-id="heading-33">ä¸ƒã€ä¸å…¶å®ƒä¸»æµ Agent æŠ€æœ¯æ ˆçš„æ¨ªå‘å¯¹æ¯”</h3>
<p><strong>å¯¹æ¯”å‚è€ƒå®˜æ–¹èµ„æ–™</strong>ï¼š</p>
<ul>
<li>AutoGenï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmicrosoft%2Fautogen" target="_blank" title="https://github.com/microsoft/autogen" ref="nofollow noopener noreferrer">github.com/microsoft/aâ€¦</a></li>
<li>CrewAIï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fjoaomdmoura%2Fcrewai" target="_blank" title="https://github.com/joaomdmoura/crewai" ref="nofollow noopener noreferrer">github.com/joaomdmouraâ€¦</a></li>
<li>OpenAI Agents SDKï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.openai.com%2Fdocs%2Fagents" target="_blank" title="https://platform.openai.com/docs/agents" ref="nofollow noopener noreferrer">platform.openai.com/docs/agents</a></li>
</ul>
<h4 data-id="heading-34">1. æ¶æ„è®¾è®¡å¯¹æ¯”</h4>















































<table><thead><tr><th>æŠ€æœ¯æ ˆ</th><th>æ ¸å¿ƒæ¶æ„æ€æƒ³</th><th>æ˜¯å¦æœ‰ Runtime</th><th>çŠ¶æ€æ˜¯å¦ä¸€ç­‰å…¬æ°‘</th></tr></thead><tbody><tr><td>LangChain</td><td>Agent DSL + å·¥å…·æŠ½è±¡</td><td>å¦ï¼ˆä¾èµ– LangGraphï¼‰</td><td>å¦</td></tr><tr><td>LangGraph</td><td>Graph çŠ¶æ€æœº</td><td>æ˜¯</td><td>æ˜¯</td></tr><tr><td>DeepAgents</td><td>è‡ªæ²» Agent Harness</td><td>æ˜¯ï¼ˆåŸºäº LangGraphï¼‰</td><td>æ˜¯</td></tr><tr><td>AutoGen</td><td>å¤š Agent å¯¹è¯</td><td>å¦</td><td>å¦</td></tr><tr><td>CrewAI</td><td>è§’è‰²é©±åŠ¨æµç¨‹</td><td>æœ‰é™</td><td>å¦</td></tr><tr><td>OpenAI Agents SDK</td><td>åŸç”Ÿ Tool + Memory</td><td>å¦</td><td>å¦</td></tr></tbody></table>
<hr/>
<h4 data-id="heading-35">2. èƒ½åŠ›ç»´åº¦å¯¹æ¯”</h4>





















































<table><thead><tr><th>èƒ½åŠ›ç»´åº¦</th><th>LangChain</th><th>LangGraph</th><th>DeepAgents</th><th>AutoGen</th><th>CrewAI</th></tr></thead><tbody><tr><td>LLM æŠ½è±¡</td><td>å¼º</td><td>ä¸­</td><td>ä¸­</td><td>ä¸­</td><td>å¼±</td></tr><tr><td>çŠ¶æ€ç®¡ç†</td><td>å¼±</td><td>å¼º</td><td>å¼º</td><td>å¼±</td><td>å¼±</td></tr><tr><td>é•¿ä»»åŠ¡</td><td>å¼±</td><td>å¼º</td><td>æå¼º</td><td>å¼±</td><td>ä¸­</td></tr><tr><td>å­ Agent</td><td>å¼±</td><td>ä¸­</td><td>å¼º</td><td>å¼º</td><td>å¼º</td></tr><tr><td>å·¥ç¨‹å¯é æ€§</td><td>ä¸­</td><td>å¼º</td><td>å¼º</td><td>å¼±</td><td>ä¸­</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-36">å…«ã€ç»“è®º</h3>
<p>LangChainâ€‘AI æä¾›çš„æ˜¯ä¸€å¥— <strong>åˆ†å±‚ã€å¯ç»„åˆã€å·¥ç¨‹å‹å¥½çš„ Agent æŠ€æœ¯ä½“ç³»</strong>ï¼š</p>
<ul>
<li><strong>LangChain</strong>ï¼šé™ä½ Agent å¼€å‘é—¨æ§›</li>
<li><strong>LangGraph</strong>ï¼šä¿è¯æ‰§è¡Œå¯é æ€§ä¸å¯æ§æ€§</li>
<li><strong>DeepAgents</strong>ï¼šå®ç°é•¿æœŸè‡ªæ²»ä¸å¤æ‚ä»»åŠ¡å¤„ç†</li>
</ul>
<p>åœ¨å½“å‰ Agent æŠ€æœ¯ç”Ÿæ€ä¸­ï¼Œè¯¥ä½“ç³»åœ¨ <strong>å·¥ç¨‹æˆç†Ÿåº¦ã€å¯æ‰©å±•æ€§å’Œé•¿æœŸä»»åŠ¡æ”¯æŒ</strong> æ–¹é¢å…·å¤‡æ˜æ˜¾ä¼˜åŠ¿ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ°å¹³çº¿ å¾ç¨‹ 6 å·¥å…·é“¾å…¥é—¨æ•™ç¨‹ | æ¿ç«¯éƒ¨ç½² UCP ä½¿ç”¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7599586891085398050</link>    <guid>https://juejin.cn/post/7599586891085398050</guid>    <pubDate>2026-01-27T03:18:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599586891085398050" data-draft-id="7599690133117485090" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ°å¹³çº¿ å¾ç¨‹ 6 å·¥å…·é“¾å…¥é—¨æ•™ç¨‹ | æ¿ç«¯éƒ¨ç½² UCP ä½¿ç”¨æŒ‡å—"/> <meta itemprop="keywords" content="ç®—æ³•,è‡ªåŠ¨é©¾é©¶"/> <meta itemprop="datePublished" content="2026-01-27T03:18:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åœ°å¹³çº¿å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/1257497032132567"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ°å¹³çº¿ å¾ç¨‹ 6 å·¥å…·é“¾å…¥é—¨æ•™ç¨‹ | æ¿ç«¯éƒ¨ç½² UCP ä½¿ç”¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1257497032132567/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åœ°å¹³çº¿å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T03:18:29.000Z" title="Tue Jan 27 2026 03:18:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»26åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1.å‰è¨€</h2>
<p>åœ¨æ¨¡å‹æ¿ç«¯éƒ¨ç½²è¿‡ç¨‹ä¸­ï¼Œå¼€å‘è€…ä¸»è¦å…³å¿ƒå›¾åƒå¦‚ä½•è·å–ï¼Œæ¨¡å‹æ€§èƒ½å¦‚ä½•è¯„æµ‹ä»¥åŠå¦‚ä½•ä¼˜åŒ–æ¨¡å‹ç­‰é—®é¢˜ã€‚å¯¹äºå›¾åƒçš„è·å–ï¼Œåœ°å¹³çº¿æä¾›äº† Pyramid ç¡¬ä»¶ï¼Œå…¶ä¸ä½†å¯ä»¥è·å–å¤šå°ºå¯¸å›¾åƒï¼Œä¸”åˆ©ç”¨å†…å­˜å…±äº«æœºåˆ¶å¯å°†å†…å­˜ç»™åˆ° BPU ç›´æ¥è¿›è¡Œæ¨ç†ã€‚é’ˆå¯¹è€—æ—¶ï¼Œå†…å­˜å ç”¨ï¼ŒDDR å¸¦å®½å ç”¨ç­‰æŒ‡æ ‡è¿›è¡Œè¯„æµ‹å’Œä¼˜åŒ–ï¼Œåœ°å¹³çº¿æä¾›äº†è¯¸å¦‚ Traceï¼Œhrt_ucp_monitor ç­‰ä¸€ç³»åˆ—æ€§èƒ½åˆ†æå·¥å…·ç”¨äºæ€§èƒ½ç›‘æµ‹ï¼Œä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿæ¸…æ™°æŒæ¡æ¨¡å‹è¿è¡Œæ—¶çš„èµ„æºå ç”¨å’Œç¡¬ä»¶æ•ˆç‡ã€‚æœ€åï¼Œåœ°å¹³çº¿æä¾› VPï¼ŒHPL ä»¥åŠ DSP å¤šç§æ¨¡å—ç”¨äºå‰åå¤„ç†ç¯èŠ‚çš„ç®—æ³•å¼€å‘ã€‚æœ¬æ–‡å°†ç»“åˆå®ä¾‹è¯´æ˜æ¨¡å‹å¦‚ä½•è¿›è¡Œéƒ¨ç½²ï¼Œæ€§èƒ½åˆ†æä»¥åŠå¸¸è§çš„é—®é¢˜è§£æã€‚</p>
<h2 data-id="heading-1">2.UCP ç®€ä»‹</h2>
<p>å¾ç¨‹ 6 å·¥å…·é“¾åœ¨åº”ç”¨éƒ¨ç½²ç«¯æ–°å¼•å…¥äº†ç»Ÿä¸€è®¡ç®—å¹³å°ï¼ˆUnify Compute Platformï¼Œä»¥ä¸‹ç®€ç§° UCPï¼‰ã€‚UCP é¢å‘åº”ç”¨å±‚ï¼Œå±äºåµŒå…¥å¼åº”ç”¨å¼€å‘ï¼ˆruntimeï¼‰èŒƒç•´ï¼Œæä¾›è§†è§‰å¤„ç†ï¼ˆVision Processï¼Œä»¥ä¸‹ç®€ç§° VPï¼‰ã€æ¨¡å‹æ¨ç†ï¼ˆNeural Networkï¼Œä»¥ä¸‹ç®€ç§° NNï¼‰ã€é«˜æ€§èƒ½è®¡ç®—åº“ï¼ˆHigh Performance Libraryï¼Œä»¥ä¸‹ç®€ç§° HPLï¼‰ç­‰åŠŸèƒ½ã€‚</p>
<p>UCP è¿˜å®šä¹‰äº†ä¸€å¥—ç»Ÿä¸€çš„å¼‚æ„ç¼–ç¨‹æ¥å£ï¼Œæ”¯æŒå¯¹ SoC ä¸Šå„åç«¯ç¡¬ä»¶èµ„æºçš„è°ƒç”¨ï¼ŒåŒ…æ‹¬ BPUã€DSPã€ISPã€GDCã€STITCHã€JPUã€VPUã€PYRAMID ç­‰ï¼Œä»¥å®Œæˆ SoC ä¸Šä»»åŠ¡çš„ç»Ÿä¸€è°ƒåº¦ã€‚</p>
<p>UCP çš„æ¶æ„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š
<img src="http://openwrite.cn/uploads/19742/58988/396e652d-01cb-4bc6-9b18-c5ef0037c358.png" alt="MTI4MFgxMjgwICgxKQ==.png" loading="lazy"/>
<img src="http://openwrite.cn/uploads/19742/58988/108a080d-c0ec-4835-9979-72945f8f7a06.png" alt="1.png" loading="lazy"/></p>
<h2 data-id="heading-2">3.æ¨¡å‹æ¨ç†</h2>
<h3 data-id="heading-3">3.1 å¿«é€Ÿä¸Šæ‰‹</h3>
<p>ä»¥ä¸‹é¢çš„ä»£ç ä¸ºä¾‹ï¼Œè¯´æ˜ DNN å’Œ UCP æ¥å£çš„ä½¿ç”¨æ–¹å¼ï¼Œæ•´ä½“åŒ…å« 5 ä¸ªä¸»è¦æ­¥éª¤ï¼Œè¯¦ç»†ä¿¡æ¯å¯å‚è€ƒç”¨æˆ·æ‰‹å†Œã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoc.oe.horizon.auto%2Fguide%2Fucp%2Fruntime%2Fruntime_dev.html" target="_blank" title="https://doc.oe.horizon.auto/guide/ucp/runtime/runtime_dev.html" ref="nofollow noopener noreferrer">ç»Ÿä¸€è®¡ç®—å¹³å°-æ¨¡å‹æ¨ç†å¼€å‘</a>ã€‹ï¼Œã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoc.oe.horizon.auto%2Fguide%2Fmodel_deployment_guidance%2Fmodel_deployment_guidance_examples%2Frgb_resnet18_deployment_guidance.html" target="_blank" title="https://doc.oe.horizon.auto/guide/model_deployment_guidance/model_deployment_guidance_examples/rgb_resnet18_deployment_guidance.html" ref="nofollow noopener noreferrer">æ¨¡å‹éƒ¨ç½²å®è·µæŒ‡å¯¼-æ¨¡å‹éƒ¨ç½²å®è·µæŒ‡å¯¼å®ä¾‹</a>ã€‹ï¼Œã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.oe.horizon.auto%2Fguide%2Fucp%2Fucp_api_reference%2Fucp_api_overview.html" target="_blank" title="https://docs.oe.horizon.auto/guide/ucp/ucp_api_reference/ucp_api_overview.html" ref="nofollow noopener noreferrer">UCP é€šç”¨ API ä»‹ç»</a>ã€‹ç­‰ç›¸å…³ç« èŠ‚ï¼š
<img src="http://openwrite.cn/uploads/19742/58988/18bbfdd7-3286-4d07-985b-3eb0776a62b1.png" alt="2.png" loading="lazy"/></p>
<pre><code class="hljs language-Plain" lang="Plain">int main(int argc, char **argv) {
â€‹  ...    // è§£æå‘½ä»¤è¡Œå‚æ•°
â€‹  hbDNNPackedHandle_t packed_dnn_handle;
â€‹  hbDNNHandle_t dnn_handle;
â€‹  const char **model_name_list;
â€‹  auto modelFileName = FLAGS_model_file.c_str();
â€‹  int model_count = 0;
â€‹  
â€‹  //1. åŠ è½½æ¨¡å‹å¹¶è·å–æ¨¡å‹åç§°åˆ—è¡¨ä»¥åŠHandle
â€‹  {
â€‹    hbDNNInitializeFromFiles(&amp;packed_dnn_handle, &amp;modelFileName, 1);
â€‹    hbDNNGetModelNameList(&amp;model_name_list, &amp;model_count, packed_dnn_handle);
â€‹    hbDNNGetModelHandle(&amp;dnn_handle, packed_dnn_handle, model_name_list[0]);
â€‹  }

â€‹  std::vector&lt;hbDNNTensor&gt; input_tensors;
â€‹  std::vector&lt;hbDNNTensor&gt; output_tensors;
â€‹  int input_count = 0;
â€‹  int output_count = 0;
â€‹  
â€‹  //2. æ ¹æ®æ¨¡å‹çš„è¾“å…¥è¾“å‡ºå‡†å¤‡å¼ é‡
â€‹  {
â€‹    hbDNNGetInputCount(&amp;input_count, dnn_handle)ï¼›
â€‹    hbDNNGetOutputCount(&amp;output_count, dnn_handle)ï¼›
â€‹    input_tensors.resize(input_count);
â€‹    output_tensors.resize(output_count);
â€‹    prepare_tensor(input_tensors.data(), output_tensors.data(), dnn_handle);
â€‹  }
â€‹  //3. å‡†å¤‡è¾“å…¥æ•°æ®å¹¶å¡«å…¥åˆ°å¯¹åº”çš„å¼ é‡ä¸­
â€‹  read_image_2_tensor_as_nv12(FLAGS_image_file, input_tensors.data())ï¼›
â€‹  // ç¡®ä¿æ›´æ–°è¾“å…¥åè¿›è¡ŒFlushæ“ä½œä»¥ç¡®ä¿BPUä½¿ç”¨æ­£ç¡®çš„æ•°æ®
â€‹  for (int i = 0; i &lt; input_count; i++) {
â€‹      hbUCPMemFlush(&amp;input_tensors[i].sysMem[0], HB_SYS_MEM_CACHE_CLEAN);
â€‹    }
â€‹    
â€‹  //4. åˆ›å»ºä»»åŠ¡å¹¶è¿›è¡Œæ¨ç†
â€‹  hbUCPTaskHandle_t task_handle{nullptr};
â€‹  hbDNNTensor *output = output_tensors.data();
â€‹  {

â€‹    hbDNNInferV2(&amp;task_handle, output, input_tensors.data(), dnn_handle);
â€‹    hbUCPSchedParam ctrl_param;
â€‹    HB_UCP_INITIALIZE_SCHED_PARAM(&amp;ctrl_param);
â€‹    ctrl_param.backend = HB_UCP_BPU_CORE_ANY;
â€‹    hbUCPSubmitTask(task_handle, &amp;ctrl_param);
â€‹    hbUCPWaitTaskDone(task_handle, 0);
â€‹  }
â€‹    //5. å¤„ç†è¾“å‡ºæ•°æ®
â€‹  for (int i = 0; i &lt; output_count; i++) {
â€‹    hbUCPMemFlush(&amp;output_tensors[i].sysMem[0], HB_SYS_MEM_CACHE_INVALIDATE);
â€‹  }

â€‹  //6: é‡Šæ”¾èµ„æº
â€‹  {
â€‹  
â€‹    hbUCPReleaseTask(task_handle);
â€‹    for (int i = 0; i &lt; input_count; i++) {
â€‹      hbUCPFree(&amp;(input_tensors[i].sysMem[0]));
â€‹    }
â€‹    for (int i = 0; i &lt; output_count; i++) {
â€‹      hbUCPFree(&amp;(output_tensors[i].sysMem[0]));
â€‹    }
â€‹    // é‡Šæ”¾æ¨¡å‹
â€‹    hbDNNRelease(packed_dnn_handle);
â€‹  }

â€‹  return 0;
}
</code></pre>
<blockquote>
<p>âš ï¸ ä¸Šé¢çš„ä¾‹å­ä»…ä¸º demoï¼Œå®é™…ä½¿ç”¨æ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li>å›¾åƒå¯ä»¥ç›´æ¥ä» Pyramid æ¥å£ç›´æ¥è·å– nv12 çš„è¾“å‡ºï¼Œæ— éœ€è¿›è¡Œæ‹·è´ï¼Œå¯ç›´æ¥ä¼ é€’ç»™ BPU è¿›è¡Œæ¨ç†</li>
<li>è¾“å…¥è¾“å‡ºå†…å­˜çš„å¤§å°å’Œå¯¹é½ strideï¼Œè¯¦è§ç¬¬ 5.3 èŠ‚è¯´æ˜</li>
<li>æ¥å£è¿›è¡Œè¿”å›å€¼æ£€æŸ¥ï¼Œä»¥ä¿è¯å‡½æ•°çš„æ­£ç¡®æ‰§è¡Œ</li>
</ol>
</blockquote>
<h3 data-id="heading-4">3.2 å®ç”¨æŠ€å·§</h3>
<h5 data-id="heading-5">3.2.1 æ·»åŠ  desc</h5>
<p>æœ‰çš„æ—¶å€™ï¼Œä¸ºäº†æ–¹ä¾¿è‡ªåŠ¨åŒ–ä½œä¸šï¼Œéœ€è¦ç»™ä¸åŒçš„æ¨¡å‹ï¼Œè¾“å…¥å’Œè¾“å‡ºæ‰“ä¸Šæ ‡ç­¾ä»¥åŒºåˆ†ä»–ä»¬ã€‚</p>
<blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ˜¯ä¸ºè¾“å…¥æ·»åŠ æè¿°ä¿¡æ¯ï¼Œç”±äº pyramid å’Œ resizer èŠ‚ç‚¹ä¼šæ”¹å˜ bc çš„è¾“å…¥èŠ‚ç‚¹æ•°ï¼Œå› æ­¤éœ€è¦ç»™å¯¹åº”æ¯ä¸ªèŠ‚ç‚¹éƒ½æ·»åŠ å¯¹åº”çš„ä¿¡æ¯ã€‚</p>
</blockquote>
<p>æ¯”è¾ƒæ¨èçš„åšæ³•æ˜¯åœ¨ compile ä¹‹å‰å†æ·»åŠ ï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">from hbdk4.compiler import load
quantized_bc = load("xxx.bc")
func = quantized_bc[0]
func.desc = "xxx model" #æ¨¡å‹çš„æè¿°
func.inputs[0].desc = "xxx input" #æ¨¡å‹è¾“å…¥çš„æè¿°
func.outputs[0].desc = "xxx output" #æ¨¡å‹è¾“å‡ºçš„æè¿°
</code></pre>
<p>æ¨¡å‹éƒ¨ç½²æ—¶ï¼Œé€šè¿‡ä¸‹é¢çš„æ¥å£æ¥è·å–æè¿°ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">//æ¨¡å‹çš„æè¿°ä¿¡æ¯
int32_t hbDNNGetModelDesc(char const **desc, uint32_t *size, int32_t *type,
â€‹                          hbDNNHandle_t dnnHandle);
//è¾“å…¥çš„æè¿°ä¿¡æ¯
int32_t hbDNNGetInputDesc(char const **desc, uint32_t *size, int32_t *type,
â€‹                          hbDNNHandle_t dnnHandle, int32_t inputIndex);
//è¾“å‡ºçš„æè¿°ä¿¡æ¯
int32_t hbDNNGetOutputDesc(char const **desc, uint32_t *size, int32_t *type,
â€‹                           hbDNNHandle_t dnnHandle, int32_t outputIndex);
</code></pre>
<h5 data-id="heading-6">3.2.2 æ¨¡å‹æ‰“åŒ…</h5>
<p>æ¨¡å‹æ‰“åŒ…åŠŸèƒ½ï¼Œå¯ä»¥å°†å¤šä¸ªæ¨¡å‹æ‰“åŒ…è¿›ä¸€ä¸ª hbm æ–‡ä»¶ä¸­ï¼Œå¯¹äºå…±äº«ä»»åŠ¡å¯ä»¥èŠ‚çœæ¨¡å‹çš„ç©ºé—´ï¼Œå…·ä½“ api ä»‹ç»å¯è§ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.oe.horizon.auto%2Fguide%2Fadvanced_content%2Fhbdk_api_reference.html%23linkhbo_list-listhbo-output_path-str-desc-optionalstr--none" target="_blank" title="https://docs.oe.horizon.auto/guide/advanced_content/hbdk_api_reference.html#linkhbo_list-listhbo-output_path-str-desc-optionalstr--none" ref="nofollow noopener noreferrer">HBDK Tool API Reference</a>ã€‹ï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">from horizon_plugin_pytorch.quantization.hbdk4 import export
from hbdk4.compiler import load, convert, compile, link
# export é˜¶æ®µè®°å¾—é…ç½® name
qat_bcA = export(qat_model_A, example_input, name="backbone_head1_head2")
quantized_modelA = convert(qat_bcA, "nash-m")
# æ³¨æ„ï¼šæ­¤æ—¶compileç”Ÿæˆçš„æ¨¡å‹åç¼€åä¸º.hbo
hbo_nameA = "nameA_compiled.hbo"
hboA = compile(quantized_modelA, path=hbo_nameA, march="nash-m")

qat_bcB = export(qat_model_B, example_input, name="backbone_head1")
quantized_modelB = convert(qat_bcB, "nash-m")
hbo_nameB = "nameB_compiled.hbo"
hboB = compile(quantized_modelB, path=hbo_nameB, march="nash-m", opt=2)

# linkç”Ÿæˆæ‰“åŒ…æ¨¡å‹ï¼Œåç¼€åä¸º.hbm
hbm_name = "compiled.hbm"
hbm = link([hboA, hboB], hbm_name)
</code></pre>
<p>åœ¨ç”Ÿæˆ hbm æ–‡ä»¶åï¼Œä¸Šæ¿è¿è¡Œä½¿ç”¨ hrt_model_exec æŸ¥çœ‹æ¨¡å‹å¯ä»¥çœ‹åˆ°ï¼š
<img src="http://openwrite.cn/uploads/19742/58988/80aea833-2274-452b-af88-58beb3346295.png" alt="4.png" loading="lazy"/></p>
<p>æ¨ç†æµ‹è¯•æ—¶ï¼Œç”¨ model_file æŒ‡å®š hbm è·¯å¾„ï¼Œmodel_name æŒ‡å®šå…·ä½“å“ªä¸€ä¸ªæ¨¡å‹
<img src="http://openwrite.cn/uploads/19742/58988/684f08ab-5865-4c03-a720-e75424a1c5cc.png" alt="5.png" loading="lazy"/></p>
<h5 data-id="heading-7">3.2.3 å°æ¨¡å‹æ‰¹å¤„ç†</h5>
<p>ç”±äº BPU ä¸ºèµ„æºç‹¬å å‹ç¡¬ä»¶ï¼Œå¯¹äºé‚£äº›è€—æ—¶è¾ƒçŸ­çš„å°æ¨¡å‹ï¼Œå…¶æ¡†æ¶è°ƒåº¦è€—æ—¶å¼€é”€å¯èƒ½å¤§äºå…¶æ¨¡å‹è¿è¡Œæ—¶é—´ï¼Œä¸ºäº†ç¼“è§£è¿™ä¸ªé—®é¢˜ã€‚åœ¨å¾ç¨‹ 6 å¹³å°ï¼ŒUCP æ”¯æŒé€šè¿‡å¤ç”¨ task_handle æ–¹å¼æ¥ä¸€æ¬¡å°†å¤šä¸ªæ¨¡å‹ä¸‹å‘ï¼Œå…¨éƒ¨æ‰§è¡Œå®Œæˆåå†ä¸€æ¬¡æ€§è¿”å›ï¼Œä»è€Œå°† N æ¬¡å¼€é”€åˆå¹¶ä¸ºä¸€æ¬¡ï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">// è·å–æ¨¡å‹æŒ‡é’ˆå¹¶å­˜å‚¨
std::vector&lt;hbDNNHandle_t&gt; model_handles;

// å‡†å¤‡å„ä¸ªæ¨¡å‹çš„è¾“å…¥è¾“å‡ºï¼Œå‡†å¤‡è¿‡ç¨‹çœç•¥
std::vector&lt;std::vector&lt;hbDNNTensor&gt;&gt; inputs;
std::vector&lt;std::vector&lt;hbDNNTensor&gt;&gt; outputs;

// åˆ›å»ºä»»åŠ¡å¹¶è¿›è¡Œæ¨ç†
{
    // åˆ›å»ºå¹¶æ·»åŠ ä»»åŠ¡ï¼Œå¤ç”¨task_handle
    hbUCPTaskHandle_t task_handle{nullptr};
    for(size_t task_id{0U}; task_id &lt; inputs.size(); task_id++){
        hbDNNInferV2(&amp;task_handle, outputs[task_id].data(), inputs[task_id].data(), model_handles[i]);
    }
    
    // æäº¤ä»»åŠ¡
    hbUCPSchedParam sche_param;
    HB_UCP_INITIALIZE_SCHED_PARAM(&amp;sche_param);
    sche_param.backend = HB_UCP_BPU_CORE_ANY;
    hbUCPSubmitTask(task_handle, &amp;sche_param);
    
    // ç­‰å¾…ä»»åŠ¡å®Œæˆ
    hbUCPWaitTaskDone(task_handle, 0);
}
</code></pre>
<h5 data-id="heading-8">3.2.4 ä¼˜å…ˆçº§æŠ¢å </h5>
<p>åœ¨å¾ç¨‹ 6 è®¡ç®—å¹³å°ä¸Šï¼ŒBPU ç¡¬ä»¶æœ¬èº«æ²¡æœ‰æŠ¢å åŠŸèƒ½ï¼Œå¯¹äºä¸€ä¸ªè®¡ç®—ä»»åŠ¡å…¶ä¸€æ—¦è¿›å…¥ BPU åï¼Œå°±æ— æ³•è¢«æ‰“æ–­ï¼Œå…¶ä»–è®¡ç®—ä»»åŠ¡åªèƒ½ç­‰å¾…å½“å‰è®¡ç®—ä»»åŠ¡å®Œæˆé€€å‡ºåæ‰èƒ½è¿è¡Œã€‚</p>
<p>æ­¤æ—¶å¾ˆå®¹æ˜“å‡ºç° BPU è®¡ç®—èµ„æºè¢«ä¸€ä¸ªå¤§æ¨¡å‹ä»»åŠ¡ç‹¬å ï¼Œè¿›è€Œå½±å“å…¶ä»–é«˜ä¼˜å…ˆçº§æ¨¡å‹ä»»åŠ¡çš„æ‰§è¡Œï¼Œé’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œå·¥å…·é“¾é‡‡ç”¨ cpu è°ƒåº¦çš„æœºåˆ¶æ¥ä¼˜åŒ– BPU èµ„æºï¼š</p>
<ol>
<li>hbm æ¨¡å‹åœ¨ BPU æ¨ç†è¡¨ç°ä¸ºä¸€ä¸ªæˆ–å¤šä¸ª function-callï¼Œfunction-call ä¸º BPU æœ€å°çš„æ‰§è¡Œå•å…ƒã€‚å½“ä¸€ä¸ªæ¨¡å‹çš„æ‰€æœ‰ function-call éƒ½æ‰§è¡Œå®Œæˆæ—¶ï¼Œè¿™ä¸ªæ¨¡å‹ä¹Ÿå°±æ‰§è¡Œå®Œæˆäº†</li>
<li>BPU æ¨¡å‹ä»»åŠ¡æŠ¢å ç²’åº¦è®¾è®¡ä¸º function-allï¼Œå¦‚æœä¸€ä¸ªæ¨¡å‹åªæœ‰ä¸€ä¸ª function-call é‚£ä¹ˆå…¶æ— æ³•è¢«æŠ¢å ï¼Œå¦‚æœä¸€ä¸ªæ¨¡å‹æœ‰å¤šä¸ª function-call å¯èƒ½å‡ºç°è¿™ä¸ªæ¨¡å‹å®Œæˆéƒ¨åˆ† function-call åï¼ŒBPU æŒ‚èµ·å½“å‰æ¨¡å‹ï¼Œç„¶ååˆ‡æ¢æ‰§è¡Œå…¶ä»–æ¨¡å‹</li>
</ol>
<p>UCP æ”¯æŒä»»åŠ¡ä¼˜å…ˆçº§è°ƒåº¦å’ŒæŠ¢å ï¼Œå¯é€šè¿‡ hbUCPSchedParam ç»“æ„ä½“è¿›è¡Œé…ç½®ï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">typedef struct hbUCPSchedParam {int32_t priority;int64_t customId;uint64_t backend;uint32_t deviceId;} hbUCPSchedParam;
</code></pre>
<ul>
<li>priorityï¼šä»»åŠ¡ä¼˜å…ˆçº§ï¼Œæ”¯æŒ[0ï¼Œ 255]ä¹‹é—´çš„æ•°å€¼ï¼Œå¯¹äºæ¨¡å‹ä»»åŠ¡è€Œè¨€ï¼š
<ul>
<li>[0ï¼Œ 253]æ™®é€šä¼˜å…ˆçº§ï¼Œä¸å¯æŠ¢å å…¶ä»–ä»»åŠ¡ï¼Œä½†åœ¨æœªæ‰§è¡Œæ—¶æ”¯æŒæŒ‰ä¼˜å…ˆçº§è¿›è¡Œæ’é˜Ÿ</li>
<li>254ï¼šä¸º high ä¼˜å…ˆçº§ï¼Œæ”¯æŒæŠ¢å æ™®é€šä»»åŠ¡</li>
<li>255ï¼šä¸º urgent ä¼˜å…ˆçº§ï¼Œæ”¯æŒæŠ¢å æ™®é€šä»»åŠ¡å’Œ high ä»»åŠ¡</li>
<li>å¯è¢«ä¸­æ–­æŠ¢å çš„ä»»åŠ¡ï¼Œéœ€è¦åœ¨æ¨¡å‹ç¼–è¯‘é˜¶æ®µé…ç½® max_time_per_fc è¿›è¡Œæ¨¡å‹æ‹†åˆ†</li>
</ul>
</li>
<li>customIdï¼šè‡ªå®šä¹‰ä¼˜å…ˆçº§</li>
<li>backendï¼šä»»åŠ¡ç¡¬ä»¶ id</li>
<li>deviceIdï¼šè®¾å¤‡ ID æ¯”å¦‚ï¼Œæœ‰ä¸‹é¢çš„ä¸¤ä¸ªæ¨¡å‹ï¼Œä¸€ä¸ªå•çº¿ç¨‹è€—æ—¶ 20.9 msï¼Œä¸€ä¸ªå•çº¿ç¨‹è€—æ—¶ 8.3msï¼š
<img src="http://openwrite.cn/uploads/19742/58988/c9f831e7-6a61-4980-8d13-3e548a95644c.png" alt="6.png" loading="lazy"/></li>
</ul>
<p>è®©è¿™ä¸¤ä¸ªæ¨¡å‹åŒæ—¶è¿è¡Œï¼Œä¸”è®¾ç½® max_time_per_fc=2000ï¼Œä¸¤ä¸ªæ¨¡å‹çš„ä¼˜å…ˆçº§å‡ä¸ºæ™®é€šä¼˜å…ˆçº§æ—¶ UCP trace è€—æ—¶å¦‚ä¸‹ï¼š
<img src="http://openwrite.cn/uploads/19742/58988/f4b19477-404d-4c35-a895-fac90a360b25.png" alt="7.png" loading="lazy"/></p>
<p>å½“å°†æ¨¡å‹ 2 çš„ä¼˜å…ˆçº§è®¾ä¸º highï¼Œæ¨¡å‹ 1 ä»ä¸ºæ™®é€šä¼˜å…ˆçº§æ—¶ï¼š
<img src="http://openwrite.cn/uploads/19742/58988/7b9c2da1-97a7-4dd3-96af-c467ab49d566.png" alt="8.png" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ä¸‹é¢çš„æ¨¡å‹ä¸€æ¬¡ infer è¿‡ç¨‹ä¸­ï¼Œæ¨¡å‹è¢«åˆ‡åˆ†ä¸ºå¤šä¸ª 2ms è¿è¡Œçš„ function-call è¿è¡Œï¼Œä¸­é—´æ’å…¥äº†å¾ˆå¤š high ä¼˜å…ˆçº§æ¨¡å‹ï¼Œå¯¼è‡´ä¸€æ¬¡æ¨¡å‹å‰å‘è€—æ—¶å¤§å¤§å¢åŠ ã€‚</p>
<h5 data-id="heading-9">3.2.5 LRU å†…å­˜ä¼˜åŒ–</h5>
<p>LRUï¼ˆLeast Recently Usedï¼‰ç®—æ³•æ˜¯ç”¨äºä¼˜åŒ–å†…å­˜é¡µçš„è°ƒåº¦ç®—æ³•ã€‚BPU å†…å­˜åœ¨ BPU å®é™…ä½¿ç”¨å‰ï¼ŒNN æ¨¡å—å†…éƒ¨éœ€è¦å¯¹è¯¥å—å†…å­˜è¿›è¡Œç‰¹æ®Šå¤„ç†æ‰èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ï¼Œå¦‚æœé¢‘ç¹å¯¹æ¨¡å‹åŠå…¶ä¾èµ–ç”³è¯·é‡Šæ”¾ä¼šå¯¼è‡´ CPU è´Ÿè½½å˜å¤§ï¼Œä»è€Œå¯èƒ½ä¼šå¼•å‘æ€§èƒ½é—®é¢˜ã€‚ å¦‚æœç¡®å®æœ‰é¢‘ç¹ç”³è¯·é‡Šæ”¾çš„éœ€æ±‚ï¼Œæ¨ç†åº“æä¾›äº†å†…å­˜ LRU ç¼“å­˜åŠŸèƒ½ï¼Œé€šè¿‡è®¾ç½®ç¯å¢ƒå˜é‡ <code>HB_NN_ENABLE_MEM_LRU_CACHE</code> ä¸º <code> </code>â€‹<code>true</code> æ¥ä½¿ç”¨ã€‚è®¾ç½®æ–¹å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">export HB_NN_ENABLE_MEM_LRU_CACHE=true
</code></pre>
<p>å¼€å¯äº†è¿™ä¸ªåŠŸèƒ½ä¹‹åï¼Œå¯¹æ¨¡å‹çš„è¾“å…¥è¾“å‡ºä¸æ˜¯å®æ—¶ç”³è¯·å’Œé‡Šæ”¾çš„ï¼Œä¼šåœ¨ä¸€å¼€å§‹å°±ç”³è¯·å¥½å¹¶è¿›è¡Œå¾ªç¯å¤ç”¨ã€‚æ‰€ä»¥å¦‚æœç”¨æˆ·åœ¨æ¨¡å‹è·‘å®Œæ¨ç†åå°±ç«‹åˆ»æ‰§è¡Œå†…å­˜é‡Šæ”¾æ“ä½œï¼Œå®é™…ä¸ä¼šç«‹åˆ»é‡Šæ”¾ï¼ŒUCP è¿™ä¸€å±‚ä¼šç­‰ä¸€æ®µæ—¶é—´åæ‰æ‰§è¡Œï¼ˆé»˜è®¤è‡³å°‘ 1sï¼‰ï¼Œæ‰€ä»¥å¯èƒ½ä¼šæœ‰å†…å­˜æ³„æ¼çš„é£é™©ï¼Œå»ºè®®æ˜¯æ¨¡å‹æ¨ç†çš„å†…å­˜å—ä¸è¦é‡Šæ”¾ï¼Œä¸”æ¨¡å‹æ¯æ¬¡è¾“å…¥è¾“å‡ºçš„è™šæ‹Ÿåœ°å€æ˜¯å¤ç”¨çš„ã€‚</p>
<h3 data-id="heading-10">3.3 è¾“å…¥è¾“å‡ºå¤„ç†</h3>
<h5 data-id="heading-11">3.3.1 Crop è£å‰ª</h5>
<p>Crop ä¸»è¦æ€æƒ³æ˜¯åˆ©ç”¨åœ°å€åç§»ï¼Œå¹¶é€šè¿‡ stride å°†å›¾åƒå¤šä½™çš„éƒ¨åˆ†è¿›è¡Œå±è”½ä»è€Œé€å…¥å‡†å¤‡å¥½çš„æ¨¡å‹è¾“å…¥ã€‚è¿™ç§ Crop æ–¹å¼ä¸å¼•å…¥ memory copyï¼Œå‡å°‘ IO å¼€é”€ã€‚</p>
<p>é™åˆ¶ï¼š</p>
<ol>
<li>å›¾åƒè¾“å…¥å¤§å°è¦å¤§äºæ¨¡å‹å®é™…è¾“å…¥å¤§å°ï¼Œw_stride è¦ 32ï¼ˆE/Mï¼‰/64ï¼ˆP/Hï¼‰å­—èŠ‚å¯¹é½</li>
<li>æ¨¡å‹çš„ validShape ä¸ºå›ºå®šå€¼ï¼Œstride ä¸ºåŠ¨æ€å€¼</li>
<li>è£å‰ªåç§»çš„è¾“å…¥é¦–åœ°å€è¦ 32 å¯¹é½</li>
</ol>
<p>è¯¦ç»†ç¤ºä¾‹å¯ä»¥å‚è€ƒã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoc.oe.horizon.auto%2Fguide%2Fucp%2Fruntime%2Fbasic_sample.html" target="_blank" title="https://doc.oe.horizon.auto/guide/ucp/runtime/basic_sample.html" ref="nofollow noopener noreferrer">åŸºç¡€ç¤ºä¾‹åŒ…ä½¿ç”¨è¯´æ˜</a>ã€‹ä¸­ advanced_samples çš„ crop ç¤ºä¾‹</p>
<h5 data-id="heading-12">3.3.2 Resizer</h5>
<p>Resizer ä¸»è¦æ˜¯æŒ‡å…·æœ‰ nv12 å›¾åƒè¾“å…¥å’Œ ROI è¾“å…¥çš„æ¨¡å‹ï¼Œç¼–è¯‘å™¨æ”¯æŒé€šè¿‡ JIT åŠ¨æ€æŒ‡ä»¤çš„æ–¹å¼ï¼Œä» nv12 å›¾åƒä¸Šå®ŒæˆæŠ å›¾ +Resize åŠŸèƒ½ã€‚å…¶ä¸ä»…ä»…æ˜¯å›¾åƒ stride ä¸ºåŠ¨æ€ï¼Œè¾“å…¥çš„ Hï¼ŒW ä¹Ÿä¸ºåŠ¨æ€ï¼Œw_stride ä¹ŸåŒæ ·éœ€è¦æ»¡è¶³ 32ï¼ˆE/Mï¼‰/64ï¼ˆP/Hï¼‰å­—èŠ‚å¯¹é½ï¼Œroi ä¸éœ€è¦è¿›è¡Œå¯¹é½ï¼š
<img src="http://openwrite.cn/uploads/19742/58988/4d59b35e-4e7f-467d-a49f-c198c5fe73d0.png" alt="9.png" loading="lazy"/>
<img src="http://openwrite.cn/uploads/19742/58988/a093ae29-d2cb-4e12-821a-ac2d293e453c.png" alt="10.png" loading="lazy"/></p>
<h5 data-id="heading-13">3.3.3 å›¾åƒ tensor å¯¹é½</h5>
<p>åœ¨å¾ç¨‹ 6 èŠ¯ç‰‡ï¼Œæœ‰ä¸€å—å« Pyramid çš„é‡‘å­—å¡”ç¡¬ä»¶å¤„ç†æ¨¡å—ï¼Œå¯æä¾› Camera è¾“å…¥å›¾åƒçš„ç¼©æ”¾åŠ ROI æŠ å›¾èƒ½åŠ›ï¼Œå…¶è¾“å‡ºä¸º nv12 ç±»å‹çš„å›¾åƒæ•°æ®ï¼Œå¹¶å¯åŸºäºå…±äº«å†…å­˜æœºåˆ¶ç›´æ¥ç»™åˆ° BPU è¿›è¡Œæ¨¡å‹æ¨ç†ï¼Œå› æ­¤åœ¨å¾ç¨‹ 6 å·¥å…·é“¾ä¸­ï¼š</p>
<ul>
<li>Pyramid æ¨¡å‹æ˜¯æŒ‡å…·æœ‰ nv12 å›¾åƒè¾“å…¥çš„æ¨¡å‹</li>
<li>Resizer æ¨¡å‹æŒ‡çš„æ˜¯å…·æœ‰ nv12 å›¾åƒè¾“å…¥å’Œ ROI è¾“å…¥çš„æ¨¡å‹ï¼Œç¼–è¯‘å™¨æ”¯æŒé€šè¿‡ JIT åŠ¨æ€æŒ‡ä»¤çš„æ–¹å¼ï¼Œä» nv12 å›¾åƒä¸Šå®Œæˆ ROI æŠ å›¾ +Resize åŠŸèƒ½ å¾ç¨‹ 6P/H è¦æ±‚ nv12 stride æ»¡è¶³ 64 å¯¹é½ï¼Œå¾ç¨‹ 6E/M/B æ˜¯ 32 å¯¹é½ã€‚ Pyramid çš„è¾“å…¥ stride ä¸ºåŠ¨æ€ï¼Œæ¯”å¦‚æ¨¡å‹è¾“å…¥ä¸º 224x224 çš„ nv12 å›¾åƒï¼Œå…¶æ ¼å¼ä¸ºï¼š
<img src="http://openwrite.cn/uploads/19742/58988/f727804a-75ff-4121-9b1b-e575ce6465b5.png" alt="11.png" loading="lazy"/></li>
</ul>
<p>å…¶ä¸­ï¼Œ-1 ä¸ºå ä½ç¬¦ï¼Œè¡¨ç¤ºä¸ºåŠ¨æ€ï¼ŒPyramid è¾“å…¥çš„ stride ä¸ºåŠ¨æ€ã€‚é‚£ä¹ˆæ­¤æ—¶æˆ‘ä»¬å°±éœ€è¦é€šè¿‡æ‰‹åŠ¨è®¡ç®—æ–¹å¼æ¥è·å–äº†ï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">#define ALIGN_SIZE(size,align_byte) (((size)+(align_byte-1))&amp;~(align_byte-1))
HBDNNTensor* input;
auto dim_len = input[i].properties.validShape.numDimensions;
for(int dim_i = dim_len-1;dim_i&gt;=0;dim_i--){
â€‹    if(input[i].properties.stride[dim_i]==-1){
â€‹        auto cur_stride = input[i].properties.stride[dim_i+1] * 
â€‹            input[i].properties.validShape.dimensionSize[dim_i+1];
â€‹        input[i].properties.stride[dim_i] = ALIGN_SIZE(cur_stride,NUM);
â€‹    }  
}
int input_memSize = input[i].properties.stride[0] * input[i].properties.validShape.dimensinoSize[0];
</code></pre>
<p>å¯¹äºé nv12 ç±»å‹çš„å…¶ä»–è¾“å…¥ï¼Œä»¥ rgb è¾“å…¥ <code>input</code> ä½œä¸ºä¾‹å­ï¼Œ1x224x224x3 çš„ rgb å›¾åƒå¦‚ä¸‹æ‰€ç¤ºï¼š
<img src="http://openwrite.cn/uploads/19742/58988/91664c52-aa6d-4ed4-9129-3a2e17bab12b.png" alt="12.png" loading="lazy"/></p>
<p>è¾“å…¥ç”³è¯·çš„å¤§å°å¯ä»¥é€šè¿‡ aligned byte size æ¥è·å–ï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">int input_memSize = input[i].properties.alignedByteSize;
</code></pre>
<h5 data-id="heading-14">3.3.4 å†…å­˜å•å…ƒå¯¹é½</h5>
<p>BPU ä¸­çš„å†…å­˜å•å…ƒä¹Ÿæ˜¯éµå¾ªå‘é‡åŒ–å¯¹é½çš„åŸåˆ™ï¼Œç±»ä¼¼äº avx/neon ç­‰ï¼Œéœ€è¦å†…å­˜å¯¹é½ã€‚æ‰€ä»¥å¯¹äºä¸æ»¡è¶³å¯¹é½æœ€å°å­—èŠ‚çš„å†…å­˜è¦è¢«å¼ºåˆ¶å¯¹é½åˆ°æœ€å°çš„å†…å­˜å­—èŠ‚ä¸Šã€‚</p>
<p>å¾ç¨‹ 6H/P tensor æœ€å°ç”³è¯·å†…å­˜æ˜¯ 256 å­—èŠ‚ï¼Œå¾ç¨‹ 6E/M æ˜¯ 64 å­—èŠ‚ï¼Œå¾ç¨‹ 6B æ˜¯ 128 å­—èŠ‚ï¼Œè¿™ä¸ªå·®å¼‚ä¼šä½“ç°åœ¨æ¨¡å‹çš„ aligned byte size å’Œ stride å±æ€§ä¸Šã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š
<img src="http://openwrite.cn/uploads/19742/58988/f4357e65-78ea-408c-8f79-293cbca80d3b.png" alt="13.png" loading="lazy"/></p>
<p>ä¸Šé¢æ¨¡å‹çš„ stride=4000ï¼Œ<code>output</code> éœ€è¦ç”³è¯·çš„å†…å­˜ä¸º 4000Byteï¼Œä½†ç”±äºå†…å­˜éœ€è¦å¯¹é½ï¼Œæ‰€ä»¥å®é™…ä¸Šçš„éœ€è¦ç”³è¯·çš„å†…å­˜å¤§å°ä¸ºï¼ˆï¼ˆ4000+ï¼ˆ256-1ï¼‰ï¼‰&amp;ï½ï¼ˆ256-1ï¼‰ï¼‰=4096Byteã€‚ åœ¨æ¨¡å‹å®é™…éƒ¨ç½²ä¸­ï¼Œéå›¾åƒè¾“å…¥/è¾“å‡ºèŠ‚ç‚¹æ‰€éœ€ç”³è¯·çš„å†…å­˜å¤§å°å‡å¯ä»¥ä»æ¨¡å‹èŠ‚ç‚¹å±æ€§çš„ç»“æ„ä½“ä¸­è¯»å–åˆ°ï¼Œå› æ­¤æ— éœ€ç‰¹åˆ«å…³æ³¨ï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">hbDNNTensor* output;
int output_memSize = output[i].properties.alignedByteSize;
</code></pre>
<h5 data-id="heading-15">3.3.5 padding</h5>
<p>ç”±äºå†…å­˜å•å…ƒå¯¹é½çš„å½±å“ï¼Œfeature ç”³è¯·çš„å¤§å°å’Œæ‹·è´éœ€è¦æ ¹æ® stride å’Œ alignedByteSize æ¥è¿›è¡Œã€‚ç”¨æˆ·ä¾§éœ€è¦æ‰‹åŠ¨å¤„ç†è¿™äº› paddingï¼Œå¯èƒ½å¯¹å‰å¤„ç†å’Œåå¤„ç†çš„ä»£ç æœ‰è¾ƒå¤§çš„å˜åŠ¨ã€‚è¿™é‡Œåœ°å¹³çº¿æä¾›äº†ä¸€ç§ä¼˜åŒ–æ–¹æ¡ˆï¼šinput_no_padding/ouput_no_paddingï¼Œåœ¨å¼€å¯è¿™ä¸¤ä¸ªé€‰é¡¹åï¼Œå¯ä»¥ç›´æ¥å°†è¾“å…¥/å‡ºå®é™…å¤§å°çš„å†…å­˜é€å…¥æ¥å£ï¼Œæ¥å£å†…éƒ¨ä¼šè‡ªè¡Œå¤„ç†å¯¹é½ï¼Œæ— éœ€ç”¨æˆ·ä¾§ä¿®æ”¹ä»£ç ã€‚ä½†å¼€å¯è¿™ä¸ªå‚æ•°åï¼Œå¯èƒ½ä¼šå¯¹æ¨¡å‹å»¶æ—¶äº§ç”Ÿå¾®å°å½±å“ã€‚</p>
<ul>
<li>input_no_paddingï¼šå¯¹æ‰€æœ‰éå›¾åƒçš„è¾“å…¥å» padding</li>
<li>output_no_paddingï¼šå¯¹æ¨¡å‹æ‰€æœ‰çš„è¾“å‡ºå» padding è‹¥ç¼–è¯‘æ—¶é…ç½®äº† input_no_padding=Trueï¼Œoutput_no_padding=Trueï¼Œæ— éœ€å…³æ³¨éå›¾åƒçš„å¯¹é½é—®é¢˜ï¼š</li>
</ul>
<pre><code class="hljs language-Plain" lang="Plain">#PTQé…ç½®æ–¹å¼ï¼Œåœ¨ymlä¸­
compiler_parameters:
    extra_params: {"input_no_padding": True, "output_no_padding": True}

#QATé…ç½®æ–¹å¼
from hbdk4.compiler import compile
compile(quantized_bc,march,path,input_no_padding=True,output_no_padding=True)
</code></pre>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚ä¸€ä¸ªæ¨¡å‹çš„è¾“å‡º shape ä¸º 1x21x21x255ï¼Œå…¶ output_no_padding=False å’Œ output_no_padding=True çš„ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="http://openwrite.cn/uploads/19742/58988/fe4eb590-b54e-4300-a56c-8c5df7abfbea.png" alt="14.png" loading="lazy"/></p>
<h2 data-id="heading-16">4.æ€§èƒ½åˆ†æ</h2>
<h3 data-id="heading-17">4.1 æ¨¡å‹æ€§èƒ½åˆ†æ</h3>
<p>å¦‚æœå¼€å‘è€…æ²¡æœ‰å®ä½“æ¿å­ï¼Œåªæœ‰ hbm æ¨¡å‹ï¼Œå¯ä»¥ä½¿ç”¨ hbdk4 ä¸­çš„ hbm_perf æ¥å£è·å–é™æ€æ€§èƒ½è¯„ä¼°æ–‡ä»¶ï¼ˆhtmlï¼Œjson æ ¼å¼ï¼‰ä»¥åŠæ¨¡å‹è€—æ—¶ï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">from hbdk4.compiler import hbm_perf
hbm_perf(xxx.hbm)
</code></pre>
<blockquote>
<p>æ¨¡å‹ä¸­å¦‚æœæœ‰ CPU ç®—å­ï¼Œåˆ™ä¼šå½±å“ perf çš„ç»“æœï¼Œå»ºè®®å»é™¤ CPU ç®—å­ä¹‹åå†è¿›è¡Œåˆ†æã€‚CPU ç®—å­ä¸€èˆ¬å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼æŸ¥çœ‹åˆ°ï¼š</p>
<ol>
<li>convert ä¹‹åçš„æ¨¡å‹å¯è§†åŒ–ï¼Œç„¶åæŸ¥è¯¢æ˜¯å¦æœ‰ hbtl ç±»å‹ç®—å­</li>
<li>åˆ©ç”¨ statistics æ¥å£ç»Ÿè®¡ bc æ¨¡å‹ç®—å­ç±»å‹</li>
</ol>
</blockquote>
<p>å¦‚æœæœ‰ä¸å¼€å‘ç¯å¢ƒç›´è¿çš„æ¿å­å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼è¿›è¡Œæµ‹è¯•ï¼Œä¸å®æµ‹åå·®ä¼šæ›´å°ï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">from hbdk4.compiler import hbm_perf
hbm_perf(xxx.hbm,remote_ip="xxx")
</code></pre>
<p>æˆ–æŒ‰ç…§ç”¨æˆ·æ‰‹å†Œã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoc.oe.horizon.auto%2Fguide%2Fucp%2Fruntime%2Ftool_introduction%2Fhrt_model_exec.html" target="_blank" title="https://doc.oe.horizon.auto/guide/ucp/runtime/tool_introduction/hrt_model_exec.html" ref="nofollow noopener noreferrer">ç»Ÿä¸€è®¡ç®—å¹³å°-æ¨¡å‹æ¨ç†å·¥å…·ä»‹ç»</a>ã€‹ä½¿ç”¨ hrt_model_exec å·¥å…·åœ¨æ¿ç«¯è¿›è¡Œæ€§èƒ½æµ‹è¯•ï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">hrt_model_exec perf --model_file=xxx.hbm --frame_count=200
</code></pre>
<h5 data-id="heading-18">4.1.1 å¸¦å®½å ç”¨</h5>
<p>é™æ€è¯„æµ‹æ—¶ï¼Œå¸¦å®½ä¿¡æ¯å¯ä»¥ä»æ¨¡å‹ç¼–è¯‘è¿‡ç¨‹ä¸­ç”Ÿæˆçš„ xxx.html/xxx.json ä¸­æ–‡ä»¶è·å–ï¼Œåœ¨ ptq ä¸­ä¼šè‡ªåŠ¨ç”Ÿæˆè¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œåœ¨ qat ä¸­ï¼Œå¯ä»¥é€šè¿‡ç”Ÿæˆ hbm æ¨¡å‹åï¼Œä½¿ç”¨ hbm_perf æ¥å£æ¥ç”Ÿæˆè¿™ä¸¤ä¸ªæ–‡ä»¶ã€‚</p>
<p><strong>å¹³å‡å¸¦å®½</strong></p>
<p>å¹³å‡å¸¦å®½ï¼ˆGB/sï¼‰ = DDR bytes per secondï¼ˆ for n FPSï¼‰/n * è®¾è®¡å¸§ç‡/2^30ï¼Œä»¥ä¸‹é¢çš„æ¨¡å‹ä¸ºä¾‹ï¼Œå®é™…éœ€æ±‚å¸§ç‡ä¸º 30FPSï¼Œé‚£ä¹ˆè¯¥æ¨¡å‹æ‰€éœ€çš„å¹³å‡å¸¦å®½ä¸ºï¼š12293553099/57.12 * 30/2^30 = 6.01GB/sï¼š
<img src="http://openwrite.cn/uploads/19742/58988/2914e0cf-663a-4fa1-af17-e70683a25873.png" alt="15.png" loading="lazy"/></p>
<p><strong>å³°å€¼å¸¦å®½</strong></p>
<p>å³°å€¼å¸¦å®½å¯ä»¥é€šè¿‡æ¨ç†å¸¦å®½æŸ±çŠ¶å›¾æ¥è¿›è¡Œåˆ†æï¼Œæœ€é«˜çš„æŸ±å­å³æœ€å¤§çš„ load/strore å¸¦å®½ã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªå›¾ï¼Œè¯¥æ¨¡å‹çš„æœ€å¤§ load éœ€æ±‚ä¸º 15515MB/s=15.15GB/sï¼Œæœ€å¤§çš„ store éœ€æ±‚ä¸º 13125MB/s=12.82GB/sï¼Œæœ€å¤§çš„ load+store éœ€æ±‚ä¸º 11954+11812=23766MB/s=23.21GB/s
<img src="http://openwrite.cn/uploads/19742/58988/67604e02-2cb4-451f-9ead-e3c1553d06a2.png" alt="16.png" loading="lazy"/></p>
<h5 data-id="heading-19">4.1.2 å¸¦å®½ä¼˜åŒ–</h5>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæ¨¡å‹çš„æ¨ç†è€—æ—¶å¯èƒ½å‡ºç°æ¯”æ­£å¸¸è¯„æµ‹è¦æ›´é•¿çš„ç°è±¡ï¼Œä¸»è¦åŸå› å¾€å¾€æ¥æºäº BPU çš„ç­‰å¾…è€—æ—¶ä»¥åŠå¸¦å®½èµ„æºä¸è¶³çš„å½±å“ã€‚è¿™é‡Œä¸»è¦é’ˆå¯¹å¸¦å®½é—®é¢˜è¿›è¡Œè¯´æ˜ã€‚</p>
<p>BPU æ¨¡å‹çš„å¸¦å®½æ¶ˆè€—ä¸»è¦é›†ä¸­åœ¨æ¨¡å‹åŠ è½½ã€æ¨ç†æ—¶çš„ featuremap è¯»å†™ï¼Œè¾“å‡ºå†™å›ï¼Œä¼˜åŒ–ç­–ç•¥å¦‚ä¸‹ï¼š</p>
<ol>
<li>ä½¿ç”¨ balance å‚æ•°æ¥å¹³è¡¡å¸¦å®½å’Œå»¶æ—¶</li>
</ol>
<pre><code class="hljs language-Plain" lang="Plain">compile(balance=x) # 0=ä¼˜å…ˆddrä¼˜åŒ–ï¼Œ100=ä¼˜å…ˆå»¶è¿Ÿä¼˜åŒ–ï¼Œé»˜è®¤balance=100,æ¨èbalance=2
</code></pre>
<p>ptq æ—¶ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ compile_mode:</p>
<pre><code class="hljs language-Plain" lang="Plain">compile_mode: 'balance'
balance_factor: 2
</code></pre>
<ol start="2">
<li>å¯¹äºå°æ¨¡å‹ä½¿ç”¨å¤š batch æ¨ç†æ¨¡å¼ï¼Œå¯ä»¥å‡å°‘ weight çš„åŠ è½½æ¬¡æ•°</li>
<li>å‡å°‘æ¨¡å‹æŠ¢å è°ƒç”¨ï¼šä¼˜å…ˆçº§ 255 çš„æŠ¢å ä»»åŠ¡ä¼šåˆ·æ–°æ•´ä¸ª SRAMï¼Œå¯¼è‡´å¤§é‡å¸¦å®½å¼€é”€ï¼Œå»ºè®®é€šè¿‡ä»»åŠ¡ç¼–æ’æ–¹å¼è¿è¡Œæ¨¡å‹ï¼Œè€Œä¸æ˜¯ä¼˜å…ˆçº§æŠ¢å </li>
<li>Batch æ‹†åˆ†ï¼šè‹¥æ¨¡å‹éœ€è¦ concat å¤šè·¯è¾“å…¥ï¼ˆæ¯”å¦‚ BEV ç±»æ¨¡å‹ï¼‰ï¼Œå°† batch mode æ‹†åˆ†ï¼Œæ¯ä¸€è·¯å•ç‹¬æå–ç‰¹å¾ï¼Œç‰ºç‰²å¾ˆå°‘çš„å»¶æ—¶æ¥é™ä½å³°å€¼å¸¦å®½</li>
</ol>
<h5 data-id="heading-20">4.1.3 å†…å­˜å ç”¨</h5>
<p>æ¨¡å‹æ‰€éœ€çš„å†…å­˜å¯ä»¥é€šè¿‡ Summary æŸ¥çœ‹åˆ°ï¼š
<img src="http://openwrite.cn/uploads/19742/58988/01ad9f5c-e112-4831-ad5b-4d41318cc003.png" alt="17.png" loading="lazy"/>
<img src="http://openwrite.cn/uploads/19742/58988/cf5213a0-3e49-4b1b-9c3d-54d2c3ed5489.png" alt="18.png" loading="lazy"/></p>
<blockquote>
<p>Shared temporary memory å…±äº«ä¸´æ—¶å†…å­˜ï¼Œä¸»è¦ç›®çš„æ˜¯ç”¨äºç›¸åŒä¼˜å…ˆçº§æ¨¡å‹å…±äº«å†…å­˜ï¼Œä¼˜åŒ–æ¨¡å‹æ¨ç†å†…å­˜çš„ä½¿ç”¨ã€‚å¯¹äºç›¸åŒä¼˜å…ˆçº§çš„æ¨¡å‹ï¼Œä¼šå…±äº« temporary memoryã€‚è¯¥åŠŸèƒ½çš„çº¦æŸæ¡ä»¶ï¼š</p>
<ol>
<li>è·¨ BPU Core ä¸å¯ç”¨</li>
<li>è·¨ä¼˜å…ˆçº§ä¸å¯ç”¨ï¼Œ0-253 çš„ä¼˜å…ˆçº§ä¹‹é—´çš„éƒ½å¯ä»¥å…±äº«ï¼Œ254 åªèƒ½å’Œå…¶ä»– 254 å…±äº«ï¼Œ255 åªèƒ½ä¸å…¶ä»– 255 å…±äº«</li>
<li>è·¨è¿›ç¨‹ä¸å¯ç”¨</li>
</ol>
</blockquote>
<p>å½“å¼€å‘äººå‘˜å¯¹æ¨¡å‹è¿è¡Œæ—¶æ‰€éœ€å†…å­˜è¿›è¡Œè¯„æµ‹æ—¶ï¼Œå¯å…ˆé€šè¿‡ Summary çš„å†…å®¹å…ˆè¿›è¡Œé™æ€æ•°æ®è¯„ä¼°ï¼Œæ¨¡å‹çš„å†…å­˜å ç”¨=Static Memory + Dynamic Memoryã€‚</p>
<h3 data-id="heading-21">4.2 åŠ¨æ€æ€§èƒ½åˆ†æ</h3>
<p>åœ¨æ¨¡å‹çš„éƒ¨ç½²å’Œè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ¯”è¾ƒå…³æ³¨æ¨¡å‹çš„æ¨ç†è€—æ—¶ï¼Œbpu/cpu å ç”¨ï¼ŒDDR è¯»å†™å¸¦å®½ä»¥åŠå†…å­˜å ç”¨ã€‚è¿™äº›ä¿¡æ¯å¯ä»¥é€šè¿‡ä»¥ä¸‹å·¥å…·æ¥è·å–ï¼š</p>
<h5 data-id="heading-22">4.2.1 hrt_model_exec</h5>
<p>hrt_model_exec æ˜¯ä¸€ä¸ªæ¨¡å‹æ‰§è¡Œå·¥å…·ï¼Œå¯ç›´æ¥ç”¨äºåœ¨å¼€å‘æ¿ä¸Šè¯„æµ‹æ¨¡å‹çš„æ¨ç†æ€§èƒ½ï¼Œè·å–æ¨¡å‹ä¿¡æ¯ã€‚å·¥å…·æºç è·¯å¾„åœ¨ samples/ucp_tutorial/tools/hrt_model_execã€‚</p>
<p>æ¨¡å‹è¾“å…¥è¾“å‡ºä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">hrt_model_exec model_info --model_file xxx.hbm
</code></pre>
<p><img src="http://openwrite.cn/uploads/19742/58988/908c8dbe-e543-49bb-bd8e-bbeda25d86ff.png" alt="19.png" loading="lazy"/></p>
<p>æ¨¡å‹å•çº¿ç¨‹è€—æ—¶ï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">hrt_model_exec perf --model_file xxx.hbm --frame_count 1000 --thread_num 1
</code></pre>
<p><img src="http://openwrite.cn/uploads/19742/58988/b401a124-6f87-4847-a8bd-55d4f748f9c7.png" alt="20.png" loading="lazy"/></p>
<p>æ¨¡å‹å¤šçº¿ç¨‹è€—æ—¶ï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">hrt_model_exec perf --model_file xxx.hbm --frame_count 1000 --thread_num 4
</code></pre>
<p><img src="http://openwrite.cn/uploads/19742/58988/22305e7a-85e9-41a9-adf9-7447cce802b0.png" alt="21.png" loading="lazy"/></p>
<p>æŒ‡å®šä¼˜å…ˆçº§è¿è¡Œï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">hrt_model_exec perf --model_file xxx.hbm --frame_count 1000 --thread_num 1 --task_priority 1
</code></pre>
<p>æ›´å¤šçš„ hrt_model_exec å‘½ä»¤å¯ä»¥åœ¨ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoc.oe.horizon.auto%2Fguide%2Fucp%2Fruntime%2Ftool_introduction%2Fhrt_model_exec.html" target="_blank" title="https://doc.oe.horizon.auto/guide/ucp/runtime/tool_introduction/hrt_model_exec.html" ref="nofollow noopener noreferrer">ç»Ÿä¸€è®¡ç®—å¹³å°-æ¨¡å‹æ¨ç†å·¥å…·ä»‹ç»-hrt_model_exec</a>ã€‹ä¸­æŸ¥çœ‹ã€‚</p>
<h6 data-id="heading-23">4.2.1.1 å•çº¿ç¨‹å’Œå¤šçº¿ç¨‹å·®å¼‚</h6>
<p>åœ¨å•çº¿ç¨‹ä¸‹ï¼Œå·¥å…·æŒ‰ç…§å•æ ¸å•çº¿ç¨‹çš„ä¸²è¡Œé€»è¾‘è¿è¡Œï¼Œç»Ÿè®¡çš„æ€§èƒ½å¯ä»¥ç†è§£ä¸ºå•å¸§å¤„ç†çš„å¹³å‡æ—¶é—´ï¼ˆåŒ…æ‹¬è°ƒåº¦å¼€é”€ï¼ŒBPU æ‰§è¡Œæ—¶é—´ä»¥åŠ CPU æ‰§è¡Œæ—¶é—´ï¼‰ã€‚</p>
<p>åœ¨å¤šçº¿ç¨‹ä¸‹ï¼Œå·¥å…·ä¼šå¯åŠ¨å¤šä¸ªçº¿ç¨‹è¿›è¡Œæ¨¡å‹æ¨ç†ï¼Œç»Ÿè®¡å¾—åˆ°çš„ FPS è¡¨ç¤ºå……åˆ†ä½¿ç”¨èµ„æºæƒ…å†µä¸‹æ¨¡å‹çš„ååé‡ï¼Œä¸»è¦ç”¨äºè¯„æµ‹é«˜å¹¶å‘æƒ…å†µä¸‹çš„æ¨¡å‹å¤„ç†èƒ½åŠ›ã€‚</p>
<ul>
<li>ä¸ºä»€ä¹ˆå•çº¿ç¨‹æ¨¡å‹è¿è¡Œè€—æ—¶æ¯”å¤šçº¿ç¨‹è€—æ—¶çŸ­ï¼Ÿ ç­”ï¼šç”±äº BPU æœ¬èº«æ˜¯ä¸€ç§ç‹¬å ç¡¬ä»¶ï¼ŒåŒä¸€æ—¶é—´åªèƒ½è¿è¡Œä¸€ä¸ªä»»åŠ¡ï¼Œå¤šä¸ªçº¿ç¨‹åŒæ—¶æäº¤ä»»åŠ¡æ—¶ï¼Œåªèƒ½æŒ‰ä¸€å®šé¡ºåºæ‰§è¡Œï¼Œå› æ­¤å¤šçº¿ç¨‹æ¨¡å¼ä¸‹ï¼Œæ¨¡å‹çš„ Latency è€—æ—¶çš„å¢å¤§ï¼Œä¸»è¦æ¥æºäºä»»åŠ¡ä¸‹å‘åçš„ç­‰å¾…æ—¶é—´ã€‚</li>
</ul>
<h5 data-id="heading-24">4.2.2 hrt_ucp_monitor</h5>
<p>å·¥å…· hrt_ucp_monitor æ˜¯ä¸€ä¸ªå…³äºç›‘æ§ç¡¬ä»¶ IP å ç”¨ç‡å’Œå†…å­˜ä¿¡æ¯çš„å·¥å…·ã€‚hrt_ucp_monitor å·¥å…·ä½äº samples/ucp_tutorial/tools ä¸­ã€‚ hrt_ucp_moitor æ”¯æŒçš„å†…å­˜ä¿¡æ¯åŒ…æ‹¬ DDR è¯»å†™å¸¦å®½ï¼ŒION å†…å­˜ï¼Œè¿›ç¨‹å†…å­˜ï¼Œé»˜è®¤ä¸ºæ¯ç§’é‡‡æ · 500 æ¬¡ï¼Œè¯¦ç»†çš„è¿è¡Œå‚æ•°è¯·å‚è€ƒã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoc.oe.horizon.auto%2Fguide%2Fucp%2Fucp_tools%2Fucp_monitor.html" target="_blank" title="https://doc.oe.horizon.auto/guide/ucp/ucp_tools/ucp_monitor.html" ref="nofollow noopener noreferrer">ç»Ÿä¸€è®¡ç®—å¹³å°-UCP æ€§èƒ½åˆ†æå·¥å…·</a>ã€‹ã€‚åœ¨ç»ˆç«¯è¿è¡Œå‘½ä»¤ hrt_ucp_monitor å³å¯çœ‹åˆ°å¯¹åº”çš„ç›‘æ§ä¿¡æ¯ï¼š
<img src="http://openwrite.cn/uploads/19742/58988/67f980e4-3523-4954-8c25-d72501c31c94.png" alt="22.png" loading="lazy"/></p>
<p>rss æŸ¥çœ‹å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">ps -aux //RSSæŒ‡æ ‡
top //RESæŒ‡æ ‡
</code></pre>
<p><img src="http://openwrite.cn/uploads/19742/58988/6007dc35-c364-493d-b72b-f8134c75ca1c.png" alt="23.png" loading="lazy"/><img src="http://openwrite.cn/uploads/19742/58988/a357a889-f42b-4432-b9f0-7769c9b12a6f.png" alt="è¡¥24.png" loading="lazy"/></p>
<p>HBMEM ä¸ºåº”ç”¨è¿›ç¨‹ç”³è¯·çš„æ€» ION å¤§å°ï¼š</p>
<blockquote>
<p>IONï¼šION æ˜¯ä¸ºäº†è§£å†³å†…å­˜ç¢ç‰‡åŒ–è€Œå¼•å…¥çš„é€šç”¨å†…å­˜ç®¡ç†å™¨ï¼Œä¸€å…±æœ‰ä¸‰ç§ï¼šionï¼ˆä¸Šé¢çš„ ion_camï¼‰ï¼Œreserveï¼ˆä¸Šé¢çš„ cma_reservedï¼‰å’Œ carveoutï¼ˆä¸Šé¢çš„ carveoutï¼‰ã€‚ion æ˜¯ä¸»è¦ç±»å‹ï¼Œç”¨äºä¸€èˆ¬çš„å†…å­˜åˆ†é…ã€‚reserve æœ¬è´¨ä¸Šä¹Ÿæ˜¯ carveoutï¼ŒåŒºåˆ†çš„ä¸»è¦ç›®çš„æ˜¯ DDR æ”¯æŒå¤šä¸ª bankã€‚å¯¹äº BPU æ¨¡å‹æ¥è¯´ï¼Œå…¶ä¼˜å…ˆåœ¨ carveout ä¸Šåˆ†é…å†…å­˜ã€‚å¯ä»¥é€šè¿‡è§‚å¯Ÿ /sys/kernel/debug/ion/heaps/carveout æ¥æµ‹è¯•å†…å­˜å ç”¨ï¼š</p>
<p><img src="http://openwrite.cn/uploads/19742/58988/a7a70b0b-f023-4203-a60c-456067f23d6e.png" alt="24.png" loading="lazy"/></p>
<p>ä¸Šå›¾ä¸ºæœªåŠ è½½æ—¶ï¼Œcarveout çš„çŠ¶æ€</p>
<p>!<img src="http://openwrite.cn/uploads/19742/58988/1362c942-0c6f-4378-bcc7-ed4562097733.png" alt="25.png" loading="lazy"/></p>
<p>æ¨¡å‹åŠ è½½åï¼Œcarveout çš„çŠ¶æ€</p>
</blockquote>
<h5 data-id="heading-25">4.2.3 hrut_ddr</h5>
<p>å¸¦å®½å ç”¨ä¸»è¦ä½¿ç”¨ hrut_ddr æ¥è¿›è¡Œåˆ†æï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">Usage: hrut_ddr [OPTION]...
Show and calculate memory throughput through AIX bus in each period.

Mandatory arguments to long options are mandatory for short options too.
   -t, --type     The type of monitoring range.    Supported
                  values for type are(case-insensitive)
                  when multiple type specified, Enclose in quotation marks 
                  e.g. -t "mcu cpu"
                  If the types exceeds 1, a RoundRobin method is used.
                       For accuracy, set as less types as possible
                  e.g. In the first period the mcu data is read, second period the cpu data is read. 
                  The elapsed time get averaged, and each type result in one round put into one table 
                     slc  vdo  cam  cpe0  cpe1  cpe2  cpe3  cpelite  
                   idu  gpu  vdsp  peri  his  sram  bpu_p0  bpu_p1 
                   bpu_p2  mcu  cpu  secland 
                  cpu        only monitor the throughput of CPU master range
                  bpu        only monitor the throughput of BPU master range
                  cam        only monitor the throughput of Camera master range
                  J6P Note: cam contains cpe, cpelite, idu. bpu id range: bpu_p0, bpu_p1(only in vm), bpu_p2(only in vm)
                  rr_all     RoundRobin between all range types
   -p, --period   The sample period for monitored range. (unit: us, default: 1000, range:[1000, 2000000])
   -d, --device   The char device of DDR Perf Monitor. [0~5] 0: ddrsys0 mon0, 2 ddrsys1_mon0
                   J6P: [0~15]
   -n, --number   The sampling period times for monitored range before copying to userspace. (0~400] default: 100
                  !!!When in roundrobin mode, this is forcely set to 1
   -N, --over_all Over_all read times. i.e. Approximately how much tables you get in commands line
   -f, --filename the csv output filename
   -r, --raw      Output raw data, hexadecimal format, without conversion. Decimal by default
   -c, --csv      Output csv format data
   -D, --dissh    Disable shell output
Example:
hrut_ddr -t cpu -p 1000 -d 0
hrut_ddr -t cpu -p 1000 -r
hrut_ddr -t cpu -p 1000
hrut_ddr -t "cpu mcu" -p 1000 -c -f "mon0.csv"
hrut_ddr -d "0 1" -p 1000
</code></pre>
<p>æ ¹æ® hrut_ddr å·¥å…·çš„ logï¼Œè·å– BPU å¸¦å®½å ç”¨å’Œç³»ç»Ÿå¸¦å®½å ç”¨ï¼ŒRead+Write çš„å€¼å³ä¸ºæ€»å¸¦å®½ï¼š
<img src="http://openwrite.cn/uploads/19742/58988/df6c9647-6ebc-4222-8e82-fc8ec6fd502a.png" alt="26.png" loading="lazy"/></p>
<h3 data-id="heading-26">4.3 é—®é¢˜</h3>
<p>åœ¨å®é™…çš„è¿è¡Œä¸­ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸ä¸Šé¢å¸¦å®½è¯„æµ‹ç»“æœå·®è·è¾ƒå¤§çš„æƒ…å†µã€‚è¿™æ˜¯ç”±äºåœ¨å®é™…ä¸­ä¸ä»…ä»…æ˜¯æ¨¡å‹çš„è¿è¡Œéœ€è¦å¸¦å®½ï¼Œcam å’Œ cpu ä¹Ÿæ˜¯éœ€è¦å¸¦å®½çš„ã€‚æ ¹æ®è¿‡å¾€çš„ç»éªŒï¼Œå¯ä»¥æ ¹æ®å³°å€¼å¸¦å®½å’Œå‡å€¼å¸¦å®½æ¥æå‰åˆ¤æ–­æ˜¯å¦å­˜åœ¨é£é™©ï¼Œé«˜äºç†è®ºå¸¦å®½çš„ 75% ä»¥ä¸Šï¼Œå°±éœ€è¦è¿›è¡Œæµ‹è¯•éªŒè¯äº†ã€‚</p>
<h2 data-id="heading-27">5.æ¨ç†å…¸å‹é—®é¢˜å¤„ç†</h2>
<h3 data-id="heading-28">5.1 timeout é—®é¢˜</h3>
<h6 data-id="heading-29">5.1.1 æ¨¡å‹ timeout æ—¶é—´æ˜¯å¦è®¾ç½®åˆç†</h6>
<p>å¦‚æœæ¨¡å‹æ˜¯å¼‚æ­¥æ¨ç†çš„ï¼Œæ¨¡å‹æœ¬èº«æ‰§è¡Œçš„æ—¶é—´è¾ƒé•¿ï¼Œè€Œå¼‚æ­¥ç­‰å¾…æ¥å£è®¾ç½®çš„è¶…æ—¶æ—¶é—´ä¸è¶³ä¹Ÿå¯èƒ½é€ æˆ timeoutã€‚</p>
<pre><code class="hljs language-Plain" lang="Plain">hbUCPWaitTaskDone(hbUCPTaskHandle_t taskHandle, int32_t timeout);
</code></pre>
<p>timeout çš„è€—æ—¶å¯ä»¥è®¾ç½®ä¸ºæ¨¡å‹æ­£å¸¸æ¨ç†æ—¶é—´çš„ä¸€å€å³å¯ã€‚</p>
<h6 data-id="heading-30">5.1.2 CPU è´Ÿè½½æ˜¯å¦è¿‡é«˜</h6>
<p>ç”±äºæ¨¡å‹çš„è¿è¡Œè°ƒåº¦æ˜¯ç”± CPU æ¥å¤„ç†çš„ï¼Œå¦‚æœè°ƒåº¦çº¿ç¨‹ä¸€ç›´è·å–ä¸åˆ°æ—¶é—´ç‰‡ï¼Œå³ä½¿ä»»åŠ¡å®Œæˆä¹Ÿæ— æ³•åŠæ—¶åŒæ­¥åˆ°ç”¨æˆ·æ¥å£ï¼Œå¯¼è‡´æ¨ç†å»¶æ—¶ã€‚</p>
<p>åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ top/htop ç­‰ç›‘è§† CPU åˆ©ç”¨ç‡ï¼Œå¦‚æœ CPU è´Ÿè½½è¶…è¿‡ 90%ï¼Œå¯èƒ½å‡ºç°ç³»ç»Ÿå¼‚å¸¸ï¼Œè¿™ä¸ªå¿…é¡»å¾—åˆ°è§£å†³</p>
<h6 data-id="heading-31">5.1.3 å†…å­˜æ³„æ¼</h6>
<p>å½“å­˜åœ¨å†…å­˜æ³„æ¼æ—¶ï¼Œåœ¨ç³»ç»Ÿå†…å­˜ä¸è¶³çš„æƒ…å†µä¸‹ï¼Œå†…å­˜ç”³è¯·ç¼“æ…¢ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ¨ç†è¶…æ—¶ã€‚å¯ä»¥åœ¨ç¼–è¯‘æ—¶æ·»åŠ æ£€æµ‹ï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">target_compile_options(testbed PRIVATE -fsanitize=address)
target_link_options(testbed PRIVATE -fsanitize=address)
</code></pre>
<p>æˆ–åœ¨å•å…ƒæµ‹è¯•æ—¶ï¼Œåˆ©ç”¨ getpidï¼ˆï¼‰è·å–å½“å‰è¿›ç¨‹çš„ pidï¼Œå†æŸ¥çœ‹/proc/pid/status ä¸­çš„ VmRSSã€‚</p>
<h3 data-id="heading-32">5.2 æ¨ç† hang</h3>
<p>æ¨¡å‹æŒ‡ä»¤åŸå› å¯¼è‡´çš„åº•å±‚è¿è¡Œé”™è¯¯ï¼Œé”™è¯¯æ²¡æœ‰ä¸ŠæŠ¥ï¼Œå¯¼è‡´ hang ä½ã€‚æ­¤æ—¶ï¼Œå¯é€šè¿‡ <code>cat/sys/devices/system/bpu/bpu0/task_running</code> å¯¹ bpu ä»»åŠ¡æƒ…å†µè¿›è¡ŒæŸ¥çœ‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<img src="http://openwrite.cn/uploads/19742/58988/2306ac36-3b0e-4b36-8276-bc7669e04f2b.png" alt="27.png" loading="lazy"/></p>
<p>s_time ä¸ä¸ºç©ºè¡¨ç¤ºä»»åŠ¡å·²ç»æ­£å¸¸å¼€å§‹ï¼Œè€Œ p_time ä¸€ç›´å¢åŠ æ²¡æœ‰å‡å°‘ï¼Œå³å¯è®¤ä¸º BPU ä»»åŠ¡ hang ä½äº†ï¼Œ å¯ä»¥ä½¿ç”¨ watch å‘½ä»¤æ¥è®°å½• bpu ä»»åŠ¡æƒ…å†µï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">watch -n 2 'cat /sys/devices/system/bpu/bpu0/task_running|tee -a bpu.log'
</code></pre>
<p>å¦‚æœå‘ç”Ÿæ­¤ç±»é—®é¢˜ï¼Œå¯ä»¥æä¾› bpu log ç»™åœ°å¹³çº¿æŠ€æœ¯æ”¯æŒäººå‘˜åˆ†æï¼Œlog çš„åœ°å€åœ¨ï¼š/log/bpux/message ä¸­ã€‚</p>
<h3 data-id="heading-33">5.3 log è·å–</h3>
<p>åœ¨é‡åˆ°ä¸Šé¢çš„é—®é¢˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ†ææ—¥å¿—æ¥è·å–é—®é¢˜åŸå› ï¼Œéœ€è¦çš„æ˜¯ UCP æ—¥å¿—ä»¥åŠç³»ç»Ÿæ—¥å¿—ï¼š</p>
<h5 data-id="heading-34">5.3.1 UCP æ—¥å¿—</h5>
<p>åœ¨ç¨‹åºè¿è¡Œæ—¶å¯ä»¥çœ‹åˆ°å„ç§ log çš„ç­‰çº§ï¼š
<img src="http://openwrite.cn/uploads/19742/58988/04e36eb0-dd41-4658-a762-116b98ff4356.png" alt="28.png" loading="lazy"/></p>
<p>åœ¨å‘ç”Ÿä¸Šé¢çš„é—®é¢˜åï¼Œä¸ºäº†è·å–å…·ä½“çš„é—®é¢˜åŸå› ï¼Œå¯ä»¥ä¿®æ”¹ log ç­‰çº§æ¥æŠ“å–ä¸åŒç­‰çº§çš„æ—¥å¿—ï¼Œé…ç½®æ–¹å¼å¦‚ä¸‹ï¼š</p>
<p>UCP log è®¾ç½®ä¸»è¦é€šè¿‡ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š</p>
<ul>
<li>HB_UCP_LOG_LEVELï¼šucp æ¨¡å— log ç­‰çº§ï¼ˆç­‰çº§ä» 0 åˆ° 6ï¼Œåˆ†åˆ«ä¸º traceï¼Œ debugï¼Œ infoï¼Œ warnï¼Œ errorï¼Œ criticalï¼Œ neverï¼Œ é»˜è®¤ä¸º warnï¼‰</li>
<li>HB_NN_LOG_LEVELï¼šnn æ¨¡å— log ç­‰çº§</li>
<li>HB_UCP_LOG_PATH: ucp æ—¥å¿—å­˜å‚¨è·¯å¾„</li>
</ul>
<pre><code class="hljs language-Plain" lang="Plain">export HB_UCP_LOG_LEVEL=3
export HB_UCP_LOG_PATH=xxx
</code></pre>
<p>æ›´è¯¦ç»†çš„ç¯å¢ƒå˜é‡å’Œè¯´æ˜å¯ä»¥å‚è€ƒã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoc.oe.horizon.auto%2Fguide%2Fucp%2Fucp_api_reference%2Fucp_environment_variable.html" target="_blank" title="https://doc.oe.horizon.auto/guide/ucp/ucp_api_reference/ucp_environment_variable.html" ref="nofollow noopener noreferrer">ç»Ÿä¸€è®¡ç®—å¹³å°-UCP é€šç”¨ API ä»‹ç»-ç¯å¢ƒå˜é‡</a>ã€‹</p>
<h5 data-id="heading-35">5.3.2 ç³»ç»Ÿæ—¥å¿—</h5>
<p>ç³»ç»Ÿæ—¥å¿—è·å–ï¼š</p>
<p>dmesgï¼šåœ¨ Linux ç³»ç»Ÿä¸­ç”¨äºæ˜¾ç¤ºæˆ–æ§åˆ¶å†…æ ¸ç¯å½¢ç¼“å†²åŒºçš„å†…å®¹æ›´ï¼Œå…è®¸æŸ¥çœ‹æˆ–æ“ä½œå†…æ ¸æ¶ˆæ¯ã€‚</p>
<pre><code class="hljs language-Plain" lang="Plain">dmesg &gt;dmesg.log
</code></pre>
<p>logcatï¼šå¯ä»¥ç”¨äºæ‰“å°è®¾å¤‡çš„ç³»ç»Ÿæ—¥å¿—</p>
<pre><code class="hljs language-Plain" lang="Plain">logcat &gt;logcat.log
</code></pre>
<h2 data-id="heading-36">6.UCP Trace ä½¿ç”¨</h2>
<p>å¾ç¨‹ 6 ç®—æ³•å·¥å…·é“¾æä¾›äº†ä¸€å¥—æ¿ç«¯å®æµ‹æ€§èƒ½å·¥å…· UCP Traceï¼Œé€šè¿‡åœ¨ UCP æ‰§è¡Œçš„å…³é”®è·¯å¾„ä¸ŠåµŒå…¥ trace è®°å½•ï¼Œè¿›è€Œæ·±å…¥åˆ†æ UCP åº”ç”¨è°ƒåº¦é€»è¾‘ï¼Œå…·ä½“å¯ä»¥å‚è€ƒã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoc.oe.horizon.auto%2Fguide%2Fucp%2Fucp_tools%2Fucp_trace.html" target="_blank" title="https://doc.oe.horizon.auto/guide/ucp/ucp_tools/ucp_trace.html" ref="nofollow noopener noreferrer">ç»Ÿä¸€è®¡ç®—å¹³å°-UCP æ€§èƒ½åˆ†æå·¥å…·</a>ã€‹ä¸€èŠ‚ã€‚ UCP Tracer è®°å½•ç‚¹ï¼šUCP è®°å½•ç‚¹åŒ…æ‹¬ä»»åŠ¡ trace è®°å½•ç‚¹å’Œç®—å­ trace è®°å½•ç‚¹
<img src="http://openwrite.cn/uploads/19742/58988/410bb904-c8f6-438c-9a2d-9d69ce7cb275.png" alt="29.png" loading="lazy"/></p>
<h3 data-id="heading-37">6.1 in_process æ¨¡å¼</h3>
<h6 data-id="heading-38">6.1.1 è¿è¡Œå®ä¾‹</h6>
<p>in_process æ¨¡å¼ä¸‹åªèƒ½æŠ“å– UCP è¿›ç¨‹å†…çš„ traceï¼Œæ— éœ€å¯åŠ¨ prefetto çš„åå°è¿›ç¨‹</p>
<p>å¯åŠ¨æ­¥éª¤ï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">export HB_UCP_PERFETTO_CONFIG_PATH=ucp_in_process.json
export HB_UCP_ENABLE_PERFETTO=true
</code></pre>
<ul>
<li>ucp_in_process.json</li>
</ul>
<pre><code class="hljs language-Plain" lang="Plain">{
â€‹  "backend": "in_process",    #backendå¯é€‰
â€‹  "trace_config": "ucp_in_process.cfg"   #perfettoçš„é…ç½®æ–‡ä»¶è·¯å¾„ï¼Œä»…åœ¨in_processä¸‹æœ‰æ•ˆ
}
</code></pre>
<ul>
<li>ucp_in_process.cfg</li>
</ul>
<pre><code class="hljs language-Plain" lang="Plain"># Enable periodic flushing of the trace buffer into the output file.
write_into_file: true

# Output file path
output_path: "ucp.pftrace"    #ä¿å­˜traceæ–‡ä»¶çš„è·¯å¾„

# Sampling duration: 10s
duration_ms: 10000          #0è¡¨ç¤ºæŒç»­æŠ“å–

# Writes the userspace buffer into the file every 2.5 seconds.
file_write_period_ms: 2500   #æ§åˆ¶bufferå†™æ–‡ä»¶ï¼Œä¸æ˜¯è¦†ç›–ï¼Œç›¸å½“äºæ§åˆ¶ç½—ç›˜ï¼Œä¸€èˆ¬ä¸éœ€è¦ç‰¹æ®ŠæŒ‡å®š

buffers {
â€‹  # buffer size
â€‹  size_kb: 65535   #å¦‚æœå‡ºç°æ•°æ®ä¸¢å¤±å¯è®¾ç½®å¤§ä¸€äº›
â€‹  # DISCARD: no new sampling data will be stored when the storage is full.
â€‹  # RING_BUFFER: old sampling data will be discarded and new data will be stored when the storage is full.
â€‹  fill_policy: RING_BUFFER
}

# UCP data source
data_sources: {
â€‹    config {
â€‹        name: "track_event"
â€‹        track_event_config {
â€‹           enabled_categories: "dnn"
â€‹        }
â€‹    }
}
</code></pre>
<p>åœ¨è¯¥ç›®å½•ä¸‹ä¼šç”Ÿæˆ trace æ–‡ä»¶ï¼šæ–‡ä»¶åä¸º output_path ä¸­é…ç½®çš„æ–‡ä»¶åï¼š
<img src="http://openwrite.cn/uploads/19742/58988/9ffae1f5-f3e8-481f-93b0-87818396dbd9.png" alt="30.png" loading="lazy"/></p>
<blockquote>
<p>1.Perfetto ä¸æ”¯æŒè‡ªåŠ¨è¦†ç›–ï¼Œå¦‚æœè®¾ç½®è·¯å¾„ä¸­æœ‰ä¹‹å‰çš„ ptrace æ–‡ä»¶ä¼šæŠ¥é”™</p>
<p><img src="http://openwrite.cn/uploads/19742/58988/e70b080b-8e8b-452e-a7f1-11add3481c2e.png" alt="31.png" loading="lazy"/></p>
<p>2.ucp_in_process.json ä¸­æŒ‡å®šçš„æ–‡ä»¶è·¯å¾„æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œéœ€è¦é…ç½®æ–‡ä»¶å’Œè„šæœ¬æ”¾åœ¨åŒä¸€ä¸ªè·¯å¾„ä¸‹</p>
</blockquote>
<h5 data-id="heading-39">6.1.2 ç»“æœè§£æ</h5>
<p>ç”Ÿæˆçš„ ucp.pftrace å°±æ˜¯æˆ‘ä»¬è¦åˆ†æçš„æ–‡ä»¶ï¼Œä½¿ç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fui.perfetto.dev%2F" target="_blank" title="https://ui.perfetto.dev/" ref="nofollow noopener noreferrer"> Perfetto UI </a>æ‰“å¼€ï¼š
<img src="http://openwrite.cn/uploads/19742/58988/892452a2-162b-44c7-ac93-31dce8250e6c.png" alt="32.png" loading="lazy"/></p>
<p>é€‰æ‹©ç”Ÿæˆçš„ ucp.pftrace æ–‡ä»¶ï¼Œé€‰ä¸­ä¸€ä¸ªå¸¦æœ‰ forward::Wait å­—æ ·çš„ä¸€å—ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="http://openwrite.cn/uploads/19742/58988/10304a3e-6387-493e-8656-4065ac03c84e.png" alt="33.png" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ç­‰å¾…éƒ¨åˆ†è€—æ—¶å¤§çº¦ä¸º 80.xmsï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°çº¿ç¨‹å’Œè¿›ç¨‹çš„ä¿¡æ¯ï¼ˆWait éƒ¨åˆ†ï¼‰
<img src="http://openwrite.cn/uploads/19742/58988/b843acd7-c113-4b0d-a4ea-229a539776b4.png" alt="34.png" loading="lazy"/></p>
<ul>
<li>å•çº¿ç¨‹ + å¤šå¸§</li>
</ul>
<pre><code class="hljs language-Plain" lang="Plain">hrt_model_exec perf --model_file xxx.hbm --frame_count 4
</code></pre>
<p><img src="http://openwrite.cn/uploads/19742/58988/d9ab9c08-9c81-481a-a229-1da0c624bfa5.png" alt="35.png" loading="lazy"/></p>
<ul>
<li>å¤šçº¿ç¨‹ + å¤šå¸§</li>
</ul>
<pre><code class="hljs language-Plain" lang="Plain">hrt_model_exec perf --model_file xxx.hbm --frame_count 10 --thread_num 4
</code></pre>
<p><img src="http://openwrite.cn/uploads/19742/58988/dd3a2599-b3a1-4d36-85ce-50dae7d9d7f4.png" alt="36.png" loading="lazy"/></p>
<p>å¦‚ä½•åˆ†æï¼š</p>
<ol>
<li>æŸ¥çœ‹ UCP å†…éƒ¨è°ƒåº¦æ˜¯å¦æ­£å¸¸ä¾‹å¦‚å“ªå—è€—æ—¶æ˜æ˜¾é«˜äºé¢„æœŸ</li>
<li>è§‚å¯Ÿ BPU æ˜¯å¦æŒç»­åœ¨ä½¿ç”¨ï¼šä¾‹å¦‚ä¸¤ä¸ª BPU Opfinish ä¹‹é—´çš„è€—æ—¶æ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œç»§è€Œåˆ¤æ–­ä»»åŠ¡ç¼–æ’æ˜¯å¦åˆç†ï¼Œä»»åŠ¡ä¸‹å‘æ˜¯å¦åŠæ—¶</li>
</ol>
<ul>
<li>å¤šçº¿ç¨‹ + å¤šå¸§ +CPU ç»“æœ
<img src="http://openwrite.cn/uploads/19742/58988/b394270e-1cf5-4117-bd83-76340e8b788c.png" alt="37.png" loading="lazy"/></li>
</ul>
<h3 data-id="heading-40">6.2 system æ¨¡å¼</h3>
<p>åœ¨ system æ¨¡å¼ä¸‹ï¼ŒUCP trace åªæ˜¯å…¶ä¸­ä¸€ä¸ªæ•°æ®æºï¼Œå› æ­¤éœ€è¦è¿è¡Œ Perfetto çš„åå°è¿›ç¨‹æ¥å®Œæˆ trace æ•è·ã€‚</p>
<ol>
<li>è¿è¡Œ Perfetto åå°è¿›ç¨‹</li>
</ol>
<pre><code class="hljs language-Plain" lang="Plain">tracebox traced --background
tracebox traced_probes --background --reset-ftrace
tracebox perfetto -c ucp_system.cfg -o ucp.pftrace
</code></pre>
<blockquote>
<p>è¯·æ³¨æ„ï¼Œä¸ºäº†èƒ½å¤Ÿè·å–å®Œæ•´çš„æ•°æ®ï¼Œéœ€è¦ç¡®ä¿ hrt_model_exec æ‰§è¡Œç»“æŸå‰ï¼Œperfetto è¿›ç¨‹æœªé€€å‡ºã€‚å¯ä»¥é€‚å½“å¢åŠ  ucp_system.cfg ä¸­çš„ duration_msï¼Œå½“å‰é»˜è®¤ä¸º 10000ms</p>
</blockquote>
<ol start="2">
<li>å¼€å¯ä¸€ä¸ªæ–°ç»ˆç«¯ï¼Œè®¾ç½®ç¯å¢ƒå˜é‡å’Œè¿è¡Œç¨‹åº</li>
</ol>
<pre><code class="hljs language-Plain" lang="Plain">export HB_UCP_PERFETTO_CONFIG_PATH=ucp_system.json
export HB_UCP_ENABLE_PERFETTO=true
</code></pre>
<ol start="3">
<li>è¿è¡Œç¨‹åºï¼Œæ¯”å¦‚è¿è¡Œ hrt_model_exec å‘½ä»¤ï¼Œå¹¶å°†è·å–åˆ°çš„ ucp.pftrace è§£æï¼š
<img src="http://openwrite.cn/uploads/19742/58988/82e3cef7-8fa9-4c09-8c49-ac2957c60e25.png" alt="38.png" loading="lazy"/></li>
</ol>
<h2 data-id="heading-41">7.è§†è§‰å¤„ç†/é«˜æ€§èƒ½ç®—å­</h2>
<p>UCP æä¾›äº†è§†è§‰å¤„ç†å’Œé«˜æ€§èƒ½ç®—å­ä¸¤å¤§æ–¹å‘çš„å¤šç§æ¥å£ï¼š</p>
<ol>
<li>è§†è§‰å¤„ç†ä¸»è¦é’ˆå¯¹è§†é¢‘ç¼–/è§£ç ï¼Œå…‰æµï¼ŒAVM æ‹¼æ¥ç­‰å¸¸è§„è§†è§‰ç®—æ³•</li>
<li>é«˜æ€§èƒ½ç®—å­ä¾èµ–äº DSP çš„å®ç°ï¼Œä¸»è¦ç”¨äº fft å’Œ ifft çš„åŠ é€Ÿ æ›´å¤šä¿¡æ¯å¯ä»¥å‚è€ƒç”¨æˆ·æ‰‹å†Œã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoc.oe.horizon.auto%2Fguide%2Fucp%2Fucp_overview.html" target="_blank" title="https://doc.oe.horizon.auto/guide/ucp/ucp_overview.html" ref="nofollow noopener noreferrer">ç»Ÿä¸€è®¡ç®—å¹³å°</a>ã€‹çš„ç›¸å…³ç« èŠ‚ã€‚</li>
</ol>
<h2 data-id="heading-42">8.DSP ä½¿ç”¨</h2>
<p>å¾ç¨‹ 6 çš„ dsp ä½¿ç”¨äº† Cadence çš„ Tensilica Vision Q8 DSP IPï¼ˆå¾ç¨‹ 6B ä¸º Vision 130ï¼‰ã€‚æ”¯æŒ int8/int16/int32/float32/double çš„æµ®ç‚¹è®¡ç®—ã€‚ å½“å‰ DSP å¯ä»¥ç”¨äºåŠ é€Ÿæ¨¡å‹å‰åå¤„ç†æ¯”å¦‚ç‚¹äº‘ä½“ç´ åŒ–ï¼Œæ¨¡å‹é‡åŒ–åé‡åŒ–ç­‰æ“ä½œï¼Œæ¨¡å‹ä¸­é—´çš„ç®—å­åŠ é€Ÿæš‚ä¸æ”¯æŒã€‚æ›´è¯¦ç»†çš„è¯´æ˜ï¼Œè¯·å‚ç…§ã€Š[DSP ç®—å­å¼€å‘](https</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GoWind Adminï½œé£è¡Œ â€” å¼€ç®±å³ç”¨çš„ä¼ä¸šçº§å…¨æ ˆä¸­åå°æ¡†æ¶ï¼šæ•°æ®æƒé™ä½“ç³»è®¾è®¡ä¸å®ç°]]></title>    <link>https://juejin.cn/post/7599713126376013839</link>    <guid>https://juejin.cn/post/7599713126376013839</guid>    <pubDate>2026-01-27T03:47:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599713126376013839" data-draft-id="7599690133117845538" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GoWind Adminï½œé£è¡Œ â€” å¼€ç®±å³ç”¨çš„ä¼ä¸šçº§å…¨æ ˆä¸­åå°æ¡†æ¶ï¼šæ•°æ®æƒé™ä½“ç³»è®¾è®¡ä¸å®ç°"/> <meta itemprop="keywords" content="åç«¯,Go,å¾®æœåŠ¡"/> <meta itemprop="datePublished" content="2026-01-27T03:47:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å–µä¸ªå’ª"/> <meta itemprop="url" content="https://juejin.cn/user/1350630784901262"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GoWind Adminï½œé£è¡Œ â€” å¼€ç®±å³ç”¨çš„ä¼ä¸šçº§å…¨æ ˆä¸­åå°æ¡†æ¶ï¼šæ•°æ®æƒé™ä½“ç³»è®¾è®¡ä¸å®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1350630784901262/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å–µä¸ªå’ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T03:47:06.000Z" title="Tue Jan 27 2026 03:47:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">GoWind Adminï½œé£è¡Œ â€” å¼€ç®±å³ç”¨çš„ä¼ä¸šçº§å…¨æ ˆä¸­åå°æ¡†æ¶ï¼šæ•°æ®æƒé™ä½“ç³»è®¾è®¡ä¸å®ç°</h2>
<p>åœ¨ä¼ä¸šçº§ä¸­åå°åº”ç”¨çš„å»ºè®¾ä¸­ï¼Œ<strong>æ•°æ®æƒé™</strong>æ˜¯ä¿éšœä¿¡æ¯å®‰å…¨ã€ç¬¦åˆä¸šåŠ¡åˆè§„è¦æ±‚çš„æ ¸å¿ƒèƒ½åŠ›ï¼Œæ›´æ˜¯å¹³è¡¡ç³»ç»Ÿå®‰å…¨æ€§ä¸ä¸šåŠ¡çµæ´»æ€§çš„å…³é”®æ”¯ç‚¹ã€‚å®ƒä¸ä»…è¦ç²¾å‡†è§£å†³ â€œè°èƒ½çœ‹åˆ°ä»€ä¹ˆæ•°æ®â€ çš„æ ¸å¿ƒé—®é¢˜ï¼Œæ›´éœ€å…¼é¡¾ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§ä¸ç”¨æˆ·ä½“éªŒã€‚GoWind Adminï¼ˆé£è¡Œï¼‰ä½œä¸ºå¼€ç®±å³ç”¨çš„ä¼ä¸šçº§å…¨æ ˆä¸­åå°æ¡†æ¶ï¼Œå†…ç½®<strong>å¤šå±‚æ¬¡ã€ç»†ç²’åº¦ã€é«˜å¯æ‰©å±•çš„ä¸€ä½“åŒ–æ•°æ®æƒé™ä½“ç³»</strong>ï¼Œä»ç§Ÿæˆ·å…¨å±€éš”ç¦»åˆ°åŠ¨æ€ç­–ç•¥ç»´åº¦å…¨é¢è¦†ç›–ï¼ŒåŸç”Ÿæ”¯æŒå•ç§Ÿæˆ· / å¤šç§Ÿæˆ· SaaS éƒ¨ç½²ï¼Œè®©ä¼ä¸šçº§åº”ç”¨çš„æƒé™ç®¡ç†ä» â€œé‡å¤å¼€å‘â€ å˜ä¸º â€œå¼€ç®±å³ç”¨â€ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€æ•°æ®æƒé™çš„äº”å¤§æ ¸å¿ƒç²’åº¦å±‚çº§</h3>
<p>ä¼ä¸šçº§ä¸šåŠ¡çš„æƒé™éœ€æ±‚å‘ˆç°å¤šå…ƒåŒ–ã€ç²¾ç»†åŒ–ç‰¹å¾ï¼ŒGoWind Admin åŸºäºæµ·é‡ä¼ä¸šçº§åœºæ™¯å®è·µï¼Œå°†æ•°æ®æƒé™åˆ’åˆ†ä¸º<strong>äº”å±‚é€’è¿›çš„ç²’åº¦å±‚çº§</strong>ï¼ˆä»é¡¶å±‚å…¨å±€éš”ç¦»åˆ°åº•å±‚åŠ¨æ€ç®¡æ§ï¼‰ï¼Œç§Ÿæˆ·éš”ç¦»ä¸ºæ‰€æœ‰æƒé™çš„å‰ç½®åº•çº¿ï¼Œå„å±‚çº§å¯ç‹¬ç«‹ä½¿ç”¨ä¹Ÿå¯ç»„åˆå åŠ ï¼Œå®Œç¾é€‚é…å•ç§Ÿæˆ·ä¼ä¸šéƒ¨ç½²ã€å¤šç§Ÿæˆ· SaaS å¹³å°ç­‰å…¨åœºæ™¯ã€‚</p>
<h4 data-id="heading-2">1. ç§Ÿæˆ·çº§ï¼ˆTenant-levelãƒ»é¡¶å±‚å…¨å±€éš”ç¦»ï¼‰</h4>
<p><strong>æ‰€æœ‰æ•°æ®æƒé™çš„å‰ç½®åŸºç¡€</strong>ï¼ŒåŸºäº<code>tenant_id</code>å®ç°ç§Ÿæˆ·é—´çš„å…¨å±€æ•°æ®éš”ç¦»ï¼Œæ˜¯å¤šç§Ÿæˆ· SaaS æ¶æ„çš„æ ¸å¿ƒèƒ½åŠ›ï¼Œä¹Ÿæ˜¯ä¼ä¸šçº§æ¡†æ¶çš„å¿…å¤‡åŸºç¡€ã€‚</p>
<ul>
<li><strong>ç²’åº¦æè¿°</strong>ï¼šä»¥ â€œç§Ÿæˆ·â€ ä¸ºå•ä½è¿›è¡Œå…¨é‡æ•°æ®çš„ç‰©ç† / é€»è¾‘éš”ç¦»ï¼Œä¸åŒç§Ÿæˆ·çš„æ•°æ®é›†å®Œå…¨ç‹¬ç«‹ï¼Œç§Ÿæˆ·å†…çš„æ‰€æœ‰æƒé™æ§åˆ¶å‡åœ¨è‡ªèº«æ•°æ®èŒƒå›´å†…ç”Ÿæ•ˆï¼Œ<strong>è·¨ç§Ÿæˆ·æ•°æ®é›¶æ³„éœ²</strong>ã€‚</li>
<li><strong>å…¸å‹åœºæ™¯</strong>ï¼šSaaS å‹ CRM/ERP/OA å¹³å°ã€å¤šå•†æˆ·ç”µå•†ç®¡ç†ç³»ç»Ÿã€é›†å›¢å‹ä¼ä¸šçš„å­å…¬å¸æ•°æ®éš”ç¦»ã€æ”¿åŠ¡äº‘çš„å„å•ä½æ•°æ®éš”ç¦»ã€‚</li>
<li><strong>å®ç°æ–¹å¼</strong>ï¼š
<ul>
<li>æ¡†æ¶è¦æ±‚<strong>æ‰€æœ‰ä¸šåŠ¡è¡¨é»˜è®¤å†…ç½®<code>tenant_id</code>å­—æ®µ</strong>ï¼Œä½œä¸ºç§Ÿæˆ·æ•°æ®çš„å”¯ä¸€æ ‡è¯†ï¼›</li>
<li>é€šè¿‡ ORM å±‚<strong>å…¨å±€éä¾µå…¥å¼æ‹¦æˆª</strong>ï¼Œæ‰€æœ‰ SQL æŸ¥è¯¢ / å†™å…¥æ“ä½œ<strong>è‡ªåŠ¨å¼ºåˆ¶æ³¨å…¥<code>tenant_id = 'å½“å‰ç§Ÿæˆ·ID'</code></strong>ï¼Œå¼€å‘è€…æ— éœ€æ‰‹åŠ¨å¤„ç†ï¼›</li>
<li>æ”¯æŒ<strong>é€»è¾‘éš”ç¦»ï¼ˆå•åº“å•è¡¨ï¼‰</strong> å’Œ <strong>ç‰©ç†éš”ç¦»ï¼ˆåˆ†åº“åˆ†è¡¨ï¼‰</strong> ä¸¤ç§æ¨¡å¼ï¼Œå¯é€šè¿‡é…ç½®çµæ´»åˆ‡æ¢ï¼Œé€‚é…ä¸åŒç§Ÿæˆ·æ•°æ®é‡ä¸å®‰å…¨ç­‰çº§éœ€æ±‚ã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<p>âœ… æ ¸å¿ƒä¼˜åŠ¿ï¼šç§Ÿæˆ·é—´æ•°æ®ç»å¯¹éš”ç¦»ï¼Œæ»¡è¶³ SaaS å¹³å°çš„æ ¸å¿ƒåˆè§„è¦æ±‚ï¼›<code>tenant_id</code>å…¨é“¾è·¯è‡ªåŠ¨æ³¨å…¥ï¼Œæ— ä¾µå…¥å¼å¼€å‘ï¼›å• / å¤šç§Ÿæˆ·æ¨¡å¼ä¸€é”®åˆ‡æ¢ï¼Œé€‚é…ä¼ä¸šä»ç§æœ‰åŒ–éƒ¨ç½²åˆ° SaaS åŒ–è¿è¥çš„å…¨ç”Ÿå‘½å‘¨æœŸã€‚</p>
<p>âš ï¸ å…³é”®è®¾è®¡ï¼šè¶…çº§ç®¡ç†å‘˜å¯é…ç½®æ˜¯å¦å¼€å¯ â€œè·¨ç§Ÿæˆ·è®¿é—®â€ï¼Œé»˜è®¤å…³é—­ï¼Œä»æºå¤´æœç»ç§Ÿæˆ·é—´æ•°æ®æ³„éœ²ã€‚</p>
</blockquote>
<h4 data-id="heading-3">2. ä¸šåŠ¡å•å…ƒçº§ï¼ˆç²—ç²’åº¦ãƒ»ä¸»æµé¦–é€‰ï¼‰</h4>
<p>æœ€åŸºç¡€ä¸”é€‚ç”¨é¢æœ€å¹¿çš„<strong>ç§Ÿæˆ·å†…æƒé™æ§åˆ¶</strong>æ–¹å¼ï¼Œæ ¸å¿ƒåŸºäºä¼ä¸šç»„ç»‡æ¶æ„ã€ä¸šåŠ¡éƒ¨é—¨æˆ–é¡¹ç›®ç»„ç­‰ä¸šåŠ¡å•å…ƒè¿›è¡Œæ•°æ®èŒƒå›´åˆ’åˆ†ã€‚</p>
<ul>
<li><strong>ç²’åº¦æè¿°</strong>ï¼šç”¨æˆ·ä»…èƒ½è®¿é—®<strong>æœ¬ç§Ÿæˆ·å†…</strong>å…¶æ‰€å±éƒ¨é—¨ã€å­å…¬å¸ã€é¡¹ç›®ç»„æˆ–ä¸šåŠ¡çº¿èŒƒå›´å†…çš„å…¨é‡æ•°æ®ï¼Œæ•°æ®æŒ‰ä¸šåŠ¡å•å…ƒå½¢æˆå¤©ç„¶éš”ç¦»ã€‚</li>
<li><strong>å…¸å‹åœºæ™¯</strong>ï¼šOA ç³»ç»Ÿçš„éƒ¨é—¨å…¬å‘Šä¸æµç¨‹ã€CRM ç³»ç»Ÿçš„å®¢æˆ·å½’å±ç®¡ç†ã€ERP ç³»ç»Ÿçš„éƒ¨é—¨ä¸šç»©æ•°æ®ç»Ÿè®¡ã€‚</li>
<li><strong>å®ç°æ–¹å¼</strong>ï¼šæ¡†æ¶é€šè¿‡éä¾µå…¥å¼æ‹¦æˆªï¼Œåœ¨ SQL æŸ¥è¯¢é˜¶æ®µè‡ªåŠ¨æ³¨å…¥ä¸šåŠ¡å•å…ƒè¿‡æ»¤æ¡ä»¶ï¼Œå¦‚ <code>WHERE dept_id = 'å½“å‰ç”¨æˆ·éƒ¨é—¨ID'</code>ã€<code>project_id = 'å½“å‰ç”¨æˆ·æ‰€å±é¡¹ç›®ID'</code>ï¼Œæ— éœ€å¼€å‘è€…æ‰‹åŠ¨å¤„ç†ã€‚</li>
</ul>
<blockquote>
<p>âœ… æ ¸å¿ƒä¼˜åŠ¿ï¼šæƒé™é€»è¾‘æ¸…æ™°æ˜“æ‡‚ï¼Œç”¨æˆ·æ˜“ç†è§£ã€ç®¡ç†å‘˜æ˜“é…ç½®ï¼›æŸ¥è¯¢è¿‡æ»¤æ€§èƒ½é«˜æ•ˆï¼Œæ— é¢å¤–æ€§èƒ½æŸè€—ï¼Œé€‚é… 80% ä»¥ä¸Šçš„ä¼ä¸šçº§ä¸­åå°å¸¸è§„åœºæ™¯ã€‚</p>
</blockquote>
<h4 data-id="heading-4">3. è¡Œçº§ï¼ˆRow-levelãƒ»è®°å½•çº§ç®¡æ§ï¼‰</h4>
<p>é’ˆå¯¹<strong>æœ¬ç§Ÿæˆ·å†…</strong>å•æ¡æ•°æ®è®°å½•çš„å½’å±æƒè¿›è¡Œç²¾ç»†åŒ–ç®¡æ§ï¼Œæ˜¯ä¼ä¸šçº§åœºæ™¯ä¸­ â€œæœ€å°æ•°æ®å•å…ƒâ€ çš„æƒé™æ§åˆ¶æ–¹å¼ã€‚</p>
<ul>
<li><strong>ç²’åº¦æè¿°</strong>ï¼šéµå¾ª â€œè°åˆ›å»ºè°æŸ¥çœ‹â€ã€â€œæŒ‡å®šè´Ÿè´£äººå¯è§â€ åŸåˆ™ï¼Œå•æ¡æ•°æ®ä»…å¯¹å…¶å½’å±äººã€æŒ‡å®šè´£ä»»äººå¼€æ”¾è®¿é—®æƒé™ã€‚</li>
<li><strong>å…¸å‹åœºæ™¯</strong>ï¼šä¸ªäººå·¥å•ä¸æŠ¥é”€å•ã€ç§æœ‰äº‘èµ„æºç”³è¯·è®°å½•ã€åŒ»ç–—ç”µå­ç—…å†ã€é‡‘èä¸ªäººç†è´¢æ¡£æ¡ˆã€‚</li>
<li><strong>å®ç°æ–¹å¼</strong>ï¼šæ¡†æ¶å†…ç½®æ•°æ®å½’å±å­—æ®µè‡ªåŠ¨å¡«å……èƒ½åŠ›ï¼Œæ¯æ¡è®°å½•é»˜è®¤æºå¸¦<code>created_by</code>ï¼ˆåˆ›å»ºäººï¼‰ã€<code>assigned_to</code>ï¼ˆè´Ÿè´£äººï¼‰ç­‰å½’å±å­—æ®µï¼ŒæŸ¥è¯¢æ—¶å¼ºåˆ¶æ ¡éªŒå½“å‰ç”¨æˆ·èº«ä»½å¹¶è‡ªåŠ¨è¿½åŠ è¿‡æ»¤æ¡ä»¶ã€‚</li>
</ul>
<blockquote>
<p>âš ï¸ å…³é”®æ³¨æ„ï¼šæ¡†æ¶é€šè¿‡ç»Ÿä¸€çš„ ORM æ‹¦æˆªæœºåˆ¶ç¡®ä¿æ•°æ®å†™å…¥æ—¶è‡ªåŠ¨ç»‘å®šå½’å±äººï¼Œä»æºå¤´é¿å…æ‰‹åŠ¨å¼€å‘å¯¼è‡´çš„å½’å±å­—æ®µç¼ºå¤±é—®é¢˜ï¼Œå½»åº•æœç»æƒé™æ¼æ´ã€‚</p>
</blockquote>
<h4 data-id="heading-5">4. åˆ—çº§ï¼ˆColumn-levelãƒ»å­—æ®µçº§è„±æ• / éšè—ï¼‰</h4>
<p>å¯¹æœ¬ç§Ÿæˆ·å†…æ•°æ®è®°å½•ä¸­çš„æ•æ„Ÿå­—æ®µå®æ–½å·®å¼‚åŒ–å±•ç¤ºä¸è®¿é—®æ§åˆ¶ï¼Œæ˜¯æ»¡è¶³æ•°æ®éšç§ä¿æŠ¤åˆè§„è¦æ±‚çš„æ ¸å¿ƒèƒ½åŠ›ã€‚</p>
<ul>
<li><strong>ç²’åº¦æè¿°</strong>ï¼šåŸºäºç”¨æˆ·è§’è‰² / æƒé™ç­‰çº§å·®å¼‚åŒ–å±•ç¤ºå­—æ®µå†…å®¹ï¼Œé«˜æƒé™è§’è‰²å¯æŸ¥çœ‹å®Œæ•´æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚è–ªèµ„ã€æ‰‹æœºå·ã€é“¶è¡Œå¡å·ï¼‰ï¼Œæ™®é€šè§’è‰²ä»…æŸ¥çœ‹è„±æ•å†…å®¹ï¼ˆå¦‚<code>138****0000</code>ï¼‰æˆ–ç›´æ¥éšè—å­—æ®µã€‚</li>
<li><strong>å…¸å‹åœºæ™¯</strong>ï¼šäººåŠ›èµ„æºç³»ç»Ÿçš„è–ªé…¬æ•°æ®ã€è´¢åŠ¡ç³»ç»Ÿçš„æˆæœ¬æ˜ç»†ä¸å›æ¬¾é‡‘é¢ã€ç”¨æˆ·ç®¡ç†ç³»ç»Ÿçš„éšç§ä¿¡æ¯ã€æ”¿åŠ¡ç³»ç»Ÿçš„ä¸ªäººèº«ä»½æ•°æ®ã€‚</li>
<li><strong>å®ç°æ–¹å¼</strong>ï¼šæ¡†æ¶æä¾›ä¸‰å±‚åˆ—çº§æƒé™ç®¡æ§æ–¹æ¡ˆï¼Œæ”¯æŒæŒ‰éœ€é€‰æ‹©ï¼š
<ol>
<li>API å“åº”å±‚åŠ¨æ€è„±æ•ï¼šåŸºäºæƒé™é…ç½®å¯¹è¿”å›å­—æ®µè¿›è¡Œå®æ—¶è„±æ• / è¿‡æ»¤ï¼Œæ— æ•°æ®åº“å±‚æ”¹é€ ï¼›</li>
<li>æ•°æ®åº“è§†å›¾å±‚ç®¡æ§ï¼šä¸ºä¸åŒæƒé™è§’è‰²åˆ›å»ºä¸“å±æ•°æ®åº“è§†å›¾ï¼Œä»…æš´éœ²å¯è®¿é—®å­—æ®µï¼›</li>
<li>å‰åç«¯ååŒç®¡æ§ï¼šåç«¯æ ¹æ®æƒé™ä¸è¿”å›æ•æ„Ÿå­—æ®µï¼Œå‰ç«¯æ ¹æ®æƒé™ä¸æ¸²æŸ“å¯¹åº”ç»„ä»¶ï¼Œå®ç° â€œæ•°æ®ä¸ä¼ è¾“ã€ç•Œé¢ä¸å±•ç¤ºâ€ã€‚</li>
</ol>
</li>
</ul>
<blockquote>
<p>ğŸ”’ æ ¸å¿ƒåˆè§„ä»·å€¼ï¼šç²¾å‡†æ»¡è¶³ GDPRã€ã€Šä¸­åäººæ°‘å…±å’Œå›½ä¸ªäººä¿¡æ¯ä¿æŠ¤æ³•ã€‹ã€Šæ•°æ®å®‰å…¨æ³•ã€‹ç­‰æ³•è§„å¯¹æ•æ„Ÿæ•°æ®çš„ â€œæœ€å°å¿…è¦æŠ«éœ²â€ è¦æ±‚ï¼Œä»æŠ€æœ¯å±‚é¢ä¿éšœä¼ä¸šæ•°æ®åˆè§„ã€‚</p>
</blockquote>
<h4 data-id="heading-6">5. æ“ä½œçº§ / çŠ¶æ€çº§ï¼ˆæœ€ç»†ç²’åº¦ãƒ»åŠ¨æ€ä¸Šä¸‹æ–‡ç®¡æ§ï¼‰</h4>
<p>åŸºäº<strong>æœ¬ç§Ÿæˆ·å†…</strong>ä¸šåŠ¡åœºæ™¯ä¸Šä¸‹æ–‡çš„åŠ¨æ€æƒé™åˆ¤å®šï¼Œæ˜¯é«˜å®‰å…¨ç­‰çº§åœºæ™¯çš„æ ¸å¿ƒæƒé™æ§åˆ¶æ–¹å¼ï¼Œçªç ´é™æ€æƒé™çš„é™åˆ¶ã€‚</p>
<ul>
<li><strong>ç²’åº¦æè¿°</strong>ï¼šç»“åˆ<strong>æ•°æ®çŠ¶æ€ã€æ“ä½œè¡Œä¸ºã€è®¿é—®ç¯å¢ƒ</strong>ç­‰å¤šç»´åº¦ä¸Šä¸‹æ–‡åŠ¨æ€åˆ¤å®šæƒé™ï¼Œä¾‹å¦‚ï¼šä»…å½“è®¢å•å¤„äº â€œå¾…å®¡æ ¸â€ çŠ¶æ€ã€è®¿é—®æ—¶é—´ä¸ºå·¥ä½œæ—¥å·¥ä½œæ—¶æ®µã€è®¿é—® IP å±äºä¼ä¸šå†…ç½‘æ—¶ï¼ŒæŒ‡å®šå®¡æ ¸å‘˜æ‰å¯æŸ¥çœ‹è®¢å•æ•æ„Ÿé™„ä»¶ã€‚</li>
<li><strong>å…¸å‹åœºæ™¯</strong>ï¼šå†›å·¥æ¶‰å¯†ç³»ç»Ÿã€é‡‘èé£æ§å®¡æ‰¹ç³»ç»Ÿã€é“¶è¡Œæ ¸å¿ƒä¸šåŠ¡ç³»ç»Ÿã€é«˜å¯†çº§ç§‘ç ”é¡¹ç›®ç®¡ç†ç³»ç»Ÿã€‚</li>
<li><strong>å®ç°æ–¹å¼</strong>ï¼šåŸç”Ÿé›†æˆ<strong>ABACï¼ˆAttribute-Based Access Controlï¼ŒåŸºäºå±æ€§çš„è®¿é—®æ§åˆ¶ï¼‰</strong> æ¨¡å‹ï¼Œé€šè¿‡å†…ç½®ç­–ç•¥å¼•æ“å®æ—¶è¯„ä¼°<strong>ç”¨æˆ·å±æ€§ã€èµ„æºå±æ€§ã€ç¯å¢ƒå±æ€§ã€æ“ä½œå±æ€§</strong>ç­‰å¤šç»´ä¿¡æ¯ï¼ŒåŠ¨æ€åˆ¤å®šè®¿é—®æƒé™ã€‚</li>
</ul>
<blockquote>
<p>ğŸ§  æ ¸å¿ƒè®¾è®¡æ€æƒ³ï¼šæƒé™ä¸å†æ˜¯é™æ€ç»‘å®šåˆ°ç”¨æˆ· / è§’è‰²çš„å›ºå®šè§„åˆ™ï¼Œè€Œæ˜¯ç”±ä¸šåŠ¡åœºæ™¯çš„ â€œä¸Šä¸‹æ–‡ä¿¡æ¯â€ åŠ¨æ€å†³å®šï¼Œé€‚é…é«˜å®‰å…¨ã€é«˜çµæ´»åº¦çš„ä¸šåŠ¡éœ€æ±‚ã€‚</p>
</blockquote>
<h3 data-id="heading-7">äºŒã€DataScopeï¼šè¡Œçº§æ•°æ®æƒé™çš„ç»Ÿä¸€å®ç°å¼•æ“</h3>
<p>è¡Œçº§æ•°æ®æƒé™æ˜¯ä¼ä¸šçº§ä¸­åå°åº”ç”¨çš„æ ¸å¿ƒæƒé™éœ€æ±‚ï¼ŒGoWind Admin ä¸ºè§£å†³è¡Œçº§æƒé™å¼€å‘ç¹çã€ä¾µå…¥æ€§å¼ºã€å¯ç»´æŠ¤æ€§å·®çš„é—®é¢˜ï¼Œè®¾è®¡äº†æ ¸å¿ƒæœºåˆ¶<strong>DataScope</strong>â€”â€” è¡Œçº§æ•°æ®æƒé™çš„ç»Ÿä¸€å®ç°å¼•æ“ã€‚</p>
<p>DataScope åŸºäº<strong>éä¾µå…¥å¼ AOP æ‹¦æˆª</strong>ä¸<strong>åŠ¨æ€ SQL æ³¨å…¥</strong>æŠ€æœ¯ï¼Œåœ¨ SQL è¯­å¥æ‰§è¡Œå‰<strong>å…ˆå¼ºåˆ¶æ³¨å…¥ç§Ÿæˆ·è¿‡æ»¤æ¡ä»¶</strong>ï¼Œå†æ ¹æ®å½“å‰ç”¨æˆ·æƒé™æ³¨å…¥å¯¹åº”çš„è¡Œçº§è¿‡æ»¤æ¡ä»¶ï¼Œå¼€å‘è€…æ— éœ€æ‰‹åŠ¨æ‹¼æ¥ WHERE å­å¥ã€æ— éœ€ä¿®æ”¹åŸæœ‰ä¸šåŠ¡ SQLï¼ŒçœŸæ­£å®ç° â€œä¸šåŠ¡ä»£ç ä¸æƒé™ä»£ç è§£è€¦â€ï¼Œå¤§å¹…é™ä½å¼€å‘æˆæœ¬ã€‚</p>
<p>DataScope å†…ç½®å…­å¤§æƒé™ç»´åº¦ï¼Œè¦†ç›–ä»åŸºç¡€åˆ°å¤æ‚çš„å…¨é‡è¡Œçº§æƒé™éœ€æ±‚ï¼Œä¸”å„ç»´åº¦æ”¯æŒè‡ªç”±ç»„åˆã€æ— ç¼æ‰©å±•ï¼š</p>
<h4 data-id="heading-8">1. ç§Ÿæˆ·çº§åŸºç¡€è¿‡æ»¤ï¼ˆå…¨å±€å‰ç½®ãƒ»é»˜è®¤å¼€å¯ï¼‰</h4>
<p><strong>DataScope çš„å‰ç½®æ ¸å¿ƒè¿‡æ»¤ç»´åº¦</strong>ï¼Œæ‰€æœ‰è¡Œçº§æƒé™æ§åˆ¶å‡åœ¨<strong>ç§Ÿæˆ·éš”ç¦»</strong>çš„åŸºç¡€ä¸Šç”Ÿæ•ˆï¼Œæ˜¯æ¡†æ¶é»˜è®¤å¼€å¯çš„å¼ºåˆ¶è¿‡æ»¤è§„åˆ™ã€‚</p>
<ul>
<li><strong>æ ¸å¿ƒèƒ½åŠ›</strong>ï¼šæ— éœ€ä»»ä½•é…ç½®ï¼Œæ¡†æ¶è‡ªåŠ¨ä¸ºæ‰€æœ‰ SQL æŸ¥è¯¢æ³¨å…¥<code>tenant_id = 'å½“å‰ç§Ÿæˆ·ID'</code>ï¼Œç¡®ä¿ç”¨æˆ·ä»…èƒ½è®¿é—®æœ¬ç§Ÿæˆ·å†…çš„æ•°æ®ï¼›</li>
<li><strong>ç§Ÿæˆ·ç®¡ç†å‘˜æƒé™</strong>ï¼šç§Ÿæˆ·å†…çš„ç®¡ç†å‘˜ / è¶…çº§ç®¡ç†å‘˜ï¼Œå…¶æ•°æ®æƒé™èŒƒå›´<strong>è¢«å¼ºåˆ¶é™å®šåœ¨æœ¬ç§Ÿæˆ·å†…</strong>ï¼Œæ— æ³•è®¿é—®å…¶ä»–ç§Ÿæˆ·æ•°æ®ï¼›</li>
<li><strong>è·¨ç§Ÿæˆ·é…ç½®</strong>ï¼šä»…ç³»ç»Ÿçº§è¶…çº§ç®¡ç†å‘˜å¯é€šè¿‡é…ç½®å¼€å¯ â€œè·¨ç§Ÿæˆ·æ•°æ®è®¿é—®â€ï¼Œä¸”éœ€ç»‘å®šä¸“å±æƒé™ï¼ŒåŒæ—¶æ¡†æ¶ä¼šè®°å½•æ‰€æœ‰è·¨ç§Ÿæˆ·æ“ä½œæ—¥å¿—ï¼Œæ»¡è¶³å®¡è®¡åˆè§„è¦æ±‚ã€‚</li>
</ul>
<blockquote>
<p>ğŸ’¡è®¾è®¡äº®ç‚¹ï¼š<code>tenant_id</code>çš„è¿‡æ»¤ä¼˜å…ˆçº§é«˜äºæ‰€æœ‰å…¶ä»– DataScope ç»´åº¦ï¼Œå³ä½¿é…ç½®äº† â€œå…¨éƒ¨æ•°æ®â€ æƒé™ï¼Œç”¨æˆ·ä¹Ÿä»…èƒ½æŸ¥çœ‹<strong>æœ¬ç§Ÿæˆ·å†…</strong>çš„å…¨é‡æ•°æ®ï¼Œä»å¼•æ“å±‚æœç»ç§Ÿæˆ·é—´æ•°æ®æ³„éœ²ã€‚</p>
</blockquote>
<h4 data-id="heading-9">2. ç»„ç»‡æ¶æ„çº§ï¼ˆéƒ¨é—¨ / æœºæ„ãƒ»æ ¸å¿ƒä¸»æµï¼‰</h4>
<p>åŸºäºä¼ä¸šæ ‘å½¢ç»„ç»‡æ¶æ„çš„çµæ´»æ•°æ®èŒƒå›´ç®¡æ§ï¼Œæ˜¯ DataScope æœ€å¸¸ç”¨çš„æƒé™ç»´åº¦ï¼Œæ¡†æ¶å¤©ç„¶æ”¯æŒç»„ç»‡æ ‘çš„é€’å½’éå†ä¸æƒé™è®¡ç®—ã€‚</p>






























<table><thead><tr><th>æƒé™ç±»å‹</th><th>æ ¸å¿ƒè¯´æ˜</th><th>é€‚ç”¨è§’è‰²</th></tr></thead><tbody><tr><td>å…¨éƒ¨æ•°æ®</td><td>æ— ä»»ä½•æ•°æ®è¿‡æ»¤ï¼Œå¯è®¿é—®<strong>æœ¬ç§Ÿæˆ·å†…</strong>ç³»ç»Ÿå…¨é‡æ•°æ®</td><td>ç§Ÿæˆ·å†…è¶…çº§ç®¡ç†å‘˜ã€ç§Ÿæˆ·ç³»ç»Ÿç®¡ç†å‘˜</td></tr><tr><td>æœ¬éƒ¨é—¨æ•°æ®</td><td>ä»…å¯æŸ¥çœ‹<strong>æœ¬ç§Ÿæˆ·å†…</strong>å½“å‰ç”¨æˆ·æ‰€å±ç›´æ¥éƒ¨é—¨çš„æ‰€æœ‰æ•°æ®</td><td>éƒ¨é—¨æ™®é€šå‘˜å·¥ã€éƒ¨é—¨ä¸“å‘˜</td></tr><tr><td>æœ¬éƒ¨é—¨åŠå­éƒ¨é—¨æ•°æ®</td><td>å¯æŸ¥çœ‹<strong>æœ¬ç§Ÿæˆ·å†…</strong>å½“å‰éƒ¨é—¨åŠå…¶æ‰€æœ‰ä¸‹çº§éƒ¨é—¨çš„å…¨é‡æ•°æ®ï¼ˆè‡ªåŠ¨é€’å½’ç»„ç»‡æ ‘ï¼‰</td><td>éƒ¨é—¨ç»ç†ã€éƒ¨é—¨è´Ÿè´£äºº</td></tr><tr><td>è‡ªå®šä¹‰éƒ¨é—¨æ•°æ®</td><td>å¯æ‰‹åŠ¨é…ç½®<strong>æœ¬ç§Ÿæˆ·å†…</strong>ä»»æ„ä¸€ä¸ªæˆ–å¤šä¸ªéƒ¨é—¨ç»„åˆï¼Œä»…è®¿é—®æŒ‡å®šéƒ¨é—¨æ•°æ®</td><td>ç§Ÿæˆ·å†…å…¬å¸é«˜ç®¡ã€è·¨éƒ¨é—¨åè°ƒå²—</td></tr></tbody></table>
<blockquote>
<p>ğŸ’¡ æ¡†æ¶å†…ç½®æˆç†Ÿçš„ç»„ç»‡æ¶æ„ç®¡ç†ç»„ä»¶ï¼Œæ”¯æŒéƒ¨é—¨çš„å¢åˆ æ”¹æŸ¥ã€æ ‘å½¢å±•ç¤ºã€å±‚çº§è°ƒæ•´ï¼ŒåŒæ—¶æä¾›é«˜æ•ˆçš„ç»„ç»‡æ ‘éå†ä¸æƒé™è®¡ç®—ç®—æ³•ï¼Œç¡®ä¿å¤§æ•°æ®é‡ä¸‹çš„æƒé™åˆ¤å®šæ€§èƒ½ã€‚</p>
</blockquote>
<h4 data-id="heading-10">3. ä¸ªäººçº§ï¼ˆOwner-levelãƒ»å½’å±è€…ç®¡æ§ï¼‰</h4>
<p>å®ç° â€œæˆ‘çš„æ•°æ®æˆ‘åšä¸»â€ çš„æœ€å°æƒé™å•å…ƒï¼Œç²¾å‡†é€‚é…æœ¬ç§Ÿæˆ·å†…å¼ºå½’å±å‹æ•°æ®çš„æƒé™ç®¡æ§éœ€æ±‚ã€‚</p>
<ul>
<li><strong>æ ¸å¿ƒèƒ½åŠ›</strong>ï¼šæ ¹æ®æ•°æ®å½’å±å…³ç³»è‡ªåŠ¨è¿½åŠ è¿‡æ»¤æ¡ä»¶ï¼Œå¦‚<code>user_id = ?</code>ã€<code>created_by = ?</code>ï¼Œä»…å…è®¸æ•°æ®åˆ›å»ºäººã€å½’å±äººè®¿é—®ã€‚</li>
<li><strong>å…¸å‹é€‚ç”¨åœºæ™¯</strong>ï¼šä¸ªäººå·¥å•ã€æŠ¥é”€ç”³è¯·å•ã€ä¸ªäººç¬”è®°ã€å‘˜å·¥æ‰“å¡è®°å½•ã€ä¸ªäººå®¢æˆ·è·Ÿè¿›è®°å½•ç­‰å¼ºä¸ªäººå½’å±å‹æ•°æ®ã€‚</li>
<li><strong>å¼€å‘ä¼˜åŠ¿</strong>ï¼šæ¡†æ¶å†…ç½®å½’å±å­—æ®µè‡ªåŠ¨å¡«å……åŠŸèƒ½ï¼Œæ•°æ®å†™å…¥æ—¶æ— éœ€æ‰‹åŠ¨è®¾ç½®<code>created_by</code>ç­‰å­—æ®µï¼Œç”± ORM æ¡†æ¶ç»Ÿä¸€æ‹¦æˆªå¤„ç†ï¼Œä»æºå¤´ä¿è¯æ•°æ®å½’å±çš„å‡†ç¡®æ€§ã€‚</li>
</ul>
<h4 data-id="heading-11">4. è§’è‰²çº§ï¼ˆRole-based Scopeãƒ»æ‰¹é‡ç®¡æ§ï¼‰</h4>
<p>å°†æ•°æ®èŒƒå›´ä¸è§’è‰²æ·±åº¦ç»‘å®šï¼Œå®ç°<strong>æœ¬ç§Ÿæˆ·å†…</strong>æ•°æ®æƒé™çš„æ‰¹é‡é…ç½®ä¸ç®¡ç†ï¼Œè§£è€¦ç”¨æˆ·ä¸æ•°æ®èŒƒå›´çš„ç›´æ¥å…³è”ã€‚</p>
<ul>
<li><strong>æ ¸å¿ƒè§„åˆ™</strong>ï¼šåŒä¸€ç”¨æˆ·è‹¥æ‹¥æœ‰å¤šä¸ªè§’è‰²ï¼Œç³»ç»Ÿé»˜è®¤å–å„è§’è‰²æ•°æ®æƒé™çš„<strong>å¹¶é›†</strong>ï¼ˆæ”¯æŒé…ç½®ä¸ºäº¤é›†ï¼Œæ»¡è¶³ç‰¹æ®Šä¸šåŠ¡éœ€æ±‚ï¼‰ï¼›è§’è‰²æƒé™è°ƒæ•´åï¼Œæ‰€å±æ‰€æœ‰ç”¨æˆ·çš„ DataScope è‡ªåŠ¨åŒæ­¥ï¼Œæ— éœ€é€ä¸ªä¿®æ”¹ã€‚</li>
<li><strong>å…¸å‹ç¤ºä¾‹</strong>ï¼šè§’è‰² A é…ç½®ä¸º â€œå¯è§<strong>æœ¬ç§Ÿæˆ·å†…</strong>é”€å”®ä¸€éƒ¨æ•°æ®â€ï¼Œè§’è‰² B é…ç½®ä¸º â€œå¯è§<strong>æœ¬ç§Ÿæˆ·å†…</strong>å¸‚åœºéƒ¨æ•°æ®â€ï¼Œå½“ç”¨æˆ·åŒæ—¶æ‹¥æœ‰ Aã€B ä¸¤ä¸ªè§’è‰²æ—¶ï¼Œå¯ç›´æ¥æŸ¥çœ‹ä¸¤ä¸ªéƒ¨é—¨çš„å…¨é‡æ•°æ®ã€‚</li>
</ul>
<blockquote>
<p>âœ… æ ¸å¿ƒä¼˜åŠ¿ï¼šå®ç°æƒé™çš„ â€œæ‰¹é‡ç®¡ç†ã€ç»Ÿä¸€è°ƒæ•´â€ï¼Œå¤§å¹…é™ä½ç®¡ç†å‘˜çš„æƒé™ç»´æŠ¤æˆæœ¬ï¼Œé€‚é…ä¼ä¸šäººå‘˜å¼‚åŠ¨ã€ç»„ç»‡æ¶æ„è°ƒæ•´ç­‰åœºæ™¯ã€‚</p>
</blockquote>
<h4 data-id="heading-12">5. è‡ªå®šä¹‰ SQL æ‹¼æ¥çº§ï¼ˆé«˜æ‰©å±•ãƒ»ä¸šåŠ¡é€‚é…ï¼‰</h4>
<p>DataScope çš„åº•å±‚åŸºäºåŠ¨æ€ SQL æ³¨å…¥æŠ€æœ¯æ„å»ºï¼Œå…·å¤‡æå¼ºçš„ä¸šåŠ¡é€‚é…æ€§ï¼Œæ”¯æŒåŸºäº<strong>æœ¬ç§Ÿæˆ·å†…</strong>ä»»æ„ä¸šåŠ¡å­—æ®µçš„ä¸ªæ€§åŒ–æƒé™è¿‡æ»¤ã€‚</p>
<ul>
<li><strong>æ ¸å¿ƒèƒ½åŠ›</strong>ï¼šå¯åŸºäºä¼ä¸šä»»æ„ä¸šåŠ¡å­—æ®µè¿›è¡Œæ•°æ®èŒƒå›´è¿‡æ»¤ï¼Œå¦‚<code>project_id</code>ï¼ˆé¡¹ç›® IDï¼‰ã€<code>warehouse_id</code>ï¼ˆä»“åº“ IDï¼‰ã€<code>region_id</code>ï¼ˆåŒºåŸŸ IDï¼‰ç­‰ï¼›</li>
<li><strong>é…ç½®æ–¹å¼</strong>ï¼šé€šè¿‡<strong>æ³¨è§£ + é…ç½®æ–‡ä»¶</strong>çš„æ–¹å¼å£°æ˜æƒé™è§„åˆ™ï¼Œåªéœ€æŒ‡å®š â€œå“ªäº›è¡¨ã€å“ªäº›å­—æ®µéœ€è¦è¿›è¡Œæƒé™è¿‡æ»¤â€ï¼Œæ¡†æ¶è‡ªåŠ¨å®Œæˆ SQL æ³¨å…¥ï¼Œæ— éœ€ä¿®æ”¹åŸæœ‰ä¸šåŠ¡æŸ¥è¯¢ä»£ç ï¼›</li>
<li><strong>å…¸å‹é€‚ç”¨åœºæ™¯</strong>ï¼šå¤šç§Ÿæˆ· SaaS ç³»ç»Ÿçš„ç§Ÿæˆ·æ•°æ®éš”ç¦»ã€é¡¹ç›®åˆ¶ç®¡ç†ç³»ç»Ÿçš„é¡¹ç›®æ•°æ®éš”ç¦»ã€è·¨åŒºåŸŸè¿è¥ç³»ç»Ÿçš„åŒºåŸŸæ•°æ®éš”ç¦»ç­‰å¤æ‚ä¸šåŠ¡æ¨¡å‹ã€‚</li>
</ul>
<h4 data-id="heading-13">6. åŠ¨æ€å±æ€§çº§ï¼ˆABAC æ‰©å±•ãƒ»é«˜å®‰å…¨åœºæ™¯ï¼‰</h4>
<p>æ ‡å‡† DataScope åŸºäº RBACï¼ˆåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼‰æ¨¡å‹æ„å»ºï¼ŒåŒæ—¶æ¡†æ¶ä¸ºé«˜å®‰å…¨ã€é«˜çµæ´»åº¦åœºæ™¯é¢„ç•™äº†<strong>æ ‡å‡†åŒ–çš„ ABAC æ‰©å±•æ¥å£</strong>ï¼Œå¯æ— ç¼é›†æˆåŸºäºå±æ€§çš„è®¿é—®æ§åˆ¶èƒ½åŠ›ã€‚</p>
<ul>
<li><strong>æ ¸å¿ƒèƒ½åŠ›</strong>ï¼šæ”¯æŒåŸºäº<strong>æœ¬ç§Ÿæˆ·å†…</strong>å¤šç»´åŠ¨æ€å±æ€§è¿›è¡Œæƒé™åˆ¤å®šï¼ŒåŒ…æ‹¬ç”¨æˆ·å±æ€§ï¼ˆè§’è‰²ã€èŒçº§ã€å²—ä½ï¼‰ã€èµ„æºå±æ€§ï¼ˆæ•°æ®æ•æ„Ÿç­‰çº§ã€æ•°æ®çŠ¶æ€ï¼‰ã€ç¯å¢ƒå±æ€§ï¼ˆè®¿é—®æ—¶é—´ã€IP åœ°å€ã€è®¾å¤‡ç±»å‹ã€ç½‘ç»œç¯å¢ƒï¼‰ç­‰ï¼›</li>
<li><strong>æ‰©å±•æ–¹å¼</strong>ï¼šæ¡†æ¶æä¾›æ ‡å‡†åŒ–çš„<code>PolicyEvaluator</code>ï¼ˆç­–ç•¥è¯„ä¼°å™¨ï¼‰æ¥å£ï¼Œå¼€å‘è€…åªéœ€å®ç°æ¥å£çš„æ ¸å¿ƒè¯„ä¼°æ–¹æ³•ï¼Œå³å¯æ³¨å…¥è‡ªå®šä¹‰çš„åŠ¨æ€æƒé™è§„åˆ™ï¼Œå®ç° â€œè¿è¡Œæ—¶å®æ—¶æƒé™å†³ç­–â€ï¼›</li>
<li><strong>æœªæ¥æ¼”è¿›</strong>ï¼šæ¡†æ¶å°†åŸç”Ÿæ”¯æŒä¸ Open Policy Agent (OPA) ç­‰ä¸»æµå¤–éƒ¨ç­–ç•¥å¼•æ“çš„é›†æˆï¼Œæ„å»ºç»Ÿä¸€çš„é›¶ä¿¡ä»»å®‰å…¨æ¶æ„ï¼Œé€‚é…è¶…é«˜çº§åˆ«çš„å®‰å…¨ç®¡æ§éœ€æ±‚ã€‚</li>
</ul>
<h3 data-id="heading-14">ä¸‰ã€æ¡†æ¶çº§ä¼˜åŠ¿ï¼šè®©æ•°æ®æƒé™ä» â€œå¼€å‘è´Ÿæ‹…â€ å˜ä¸º â€œæ ¸å¿ƒèƒ½åŠ›â€</h3>
<p>GoWind Admin çš„æ•°æƒé™ä½“ç³»å¹¶éç®€å•çš„åŠŸèƒ½å †ç Œï¼Œè€Œæ˜¯ä»ä¼ä¸šçº§å¼€å‘ã€è¿ç»´ã€åˆè§„ä¸‰å¤§ç»´åº¦è¿›è¡Œæ¡†æ¶çº§è®¾è®¡ï¼ŒçœŸæ­£å®ç°æ•°æ®æƒé™çš„ â€œå¼€ç®±å³ç”¨ã€ä½ç å¼€å‘ã€çµæ´»æ‰©å±•â€ï¼š</p>
<ol>
<li><strong>ç§Ÿæˆ·éš”ç¦»åŸç”Ÿæ”¯æŒ</strong>ï¼šå†…ç½®<code>tenant_id</code>å…¨é“¾è·¯è‡ªåŠ¨æ³¨å…¥æœºåˆ¶ï¼Œæ”¯æŒé€»è¾‘ / ç‰©ç†ä¸¤ç§éš”ç¦»æ¨¡å¼ï¼Œå• / å¤šç§Ÿæˆ·ä¸€é”®åˆ‡æ¢ï¼Œå®Œç¾é€‚é…ç§æœ‰åŒ–éƒ¨ç½²ä¸ SaaS å¹³å°å»ºè®¾ï¼›</li>
<li><strong>éä¾µå…¥å¼å¼€å‘</strong>ï¼šæ‰€æœ‰æƒé™è¿‡æ»¤å‡é€šè¿‡ AOP æ‹¦æˆªã€åŠ¨æ€ SQL æ³¨å…¥å®ç°ï¼Œä¸šåŠ¡ä»£ç ä¸æƒé™ä»£ç å®Œå…¨è§£è€¦ï¼Œå¼€å‘è€…æ— éœ€å…³æ³¨æƒé™ç»†èŠ‚ï¼Œä¸“æ³¨ä¸šåŠ¡é€»è¾‘å¼€å‘ï¼›</li>
<li><strong>å…¨é“¾è·¯è‡ªåŠ¨åŒ–</strong>ï¼šä»æ•°æ®å†™å…¥æ—¶çš„<code>tenant_id</code>ã€å½’å±å­—æ®µè‡ªåŠ¨å¡«å……ï¼Œåˆ°æŸ¥è¯¢æ—¶çš„ç§Ÿæˆ· + æƒé™æ¡ä»¶è‡ªåŠ¨æ³¨å…¥ï¼Œå†åˆ°æƒé™å˜æ›´æ—¶çš„å®æ—¶åŒæ­¥ï¼Œæ¡†æ¶å®ç°å…¨é“¾è·¯è‡ªåŠ¨åŒ–å¤„ç†ï¼Œå‡å°‘æ‰‹åŠ¨æ“ä½œï¼Œæœç»æƒé™æ¼æ´ï¼›</li>
<li><strong>ä¸€ä½“åŒ–ç®¡æ§</strong>ï¼šæ•°æ®æƒé™ï¼ˆç§Ÿæˆ· + éƒ¨é—¨ + è¡Œ + åˆ—ï¼‰ä¸åŠŸèƒ½æƒé™ã€è§’è‰²ç®¡ç†ã€ç»„ç»‡æ¶æ„æ·±åº¦èåˆï¼Œæä¾›ç»Ÿä¸€çš„æƒé™ç®¡ç†ç•Œé¢ï¼Œç®¡ç†å‘˜å¯åœ¨ä¸€ä¸ªå¹³å°å®Œæˆæ‰€æœ‰æƒé™çš„é…ç½®ã€è°ƒæ•´ã€å®¡è®¡ï¼Œé™ä½è¿ç»´æˆæœ¬ï¼›</li>
<li><strong>é«˜å¯æ‰©å±•æ¶æ„</strong>ï¼šä»åŸºç¡€çš„ RBAC åˆ°é«˜çº§çš„ ABACï¼Œä»å†…ç½®çš„æƒé™ç»´åº¦åˆ°è‡ªå®šä¹‰çš„ä¸šåŠ¡è§„åˆ™ï¼Œæ¡†æ¶é¢„ç•™äº†æ ‡å‡†åŒ–çš„æ‰©å±•æ¥å£ï¼Œæ”¯æŒä¼ä¸šæ ¹æ®ä¸šåŠ¡éœ€æ±‚é€æ­¥è¿­ä»£æƒé™ä½“ç³»ï¼Œæ— éœ€é‡æ„ï¼›</li>
<li><strong>æ€§èƒ½ä¸å®‰å…¨å…¼é¡¾</strong>ï¼šæ‰€æœ‰æƒé™åˆ¤å®šä¸ SQL è¿‡æ»¤å‡åœ¨æœåŠ¡ç«¯å®Œæˆï¼Œå‰ç«¯æ— æ•æ„Ÿæ•°æ®æ³„éœ²é£é™©ï¼›åŒæ—¶æ¡†æ¶å¯¹ç»„ç»‡æ ‘éå†ã€æƒé™æ¡ä»¶è®¡ç®—ç­‰æ ¸å¿ƒé€»è¾‘è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ï¼Œç¡®ä¿å¤§æ•°æ®é‡ä¸‹çš„ç³»ç»Ÿå“åº”é€Ÿåº¦ã€‚</li>
</ol>
<h3 data-id="heading-15">ç»“è¯­</h3>
<blockquote>
<p>æƒé™ä¸æ˜¯æ·é”ï¼Œè€Œæ˜¯ç§©åºçš„åŸºçŸ³ã€‚</p>
</blockquote>
<p>åœ¨ä¼ä¸šæ•°å­—åŒ–è½¬å‹çš„è¿‡ç¨‹ä¸­ï¼Œæ•°æ®å®‰å…¨ä¸ä¸šåŠ¡æ•æ·ä»æ¥éƒ½ä¸æ˜¯å¯¹ç«‹é¢ã€‚GoWind Admin é€šè¿‡æ¡†æ¶çº§çš„ã€ä¸€ä½“åŒ–çš„æ•°æ®æƒé™ä½“ç³»è®¾è®¡ï¼Œ<strong>ä»¥ç§Ÿæˆ·éš”ç¦»ä¸ºåº•çº¿ï¼Œä»¥å¤šå±‚ç²’åº¦ä¸ºæ ¸å¿ƒï¼Œä»¥åŠ¨æ€ç­–ç•¥ä¸ºå»¶ä¼¸</strong>ï¼Œè®©æ•°æ®æƒé™ç®¡ç†ä»ä¼ä¸šçº§åº”ç”¨çš„ â€œå¼€å‘è´Ÿæ‹…â€ å˜ä¸º â€œæ ¸å¿ƒèƒ½åŠ›â€ï¼Œæ—¢ä¸ºä¼ä¸šæ„å»ºèµ·ç¬¦åˆåˆè§„è¦æ±‚ã€ä¿éšœä¿¡æ¯å®‰å…¨çš„æƒé™ç§©åºï¼Œåˆèƒ½é€‚é…ä¼ä¸šä¸šåŠ¡å‘å±•çš„çµæ´»éœ€æ±‚ï¼ŒåŠ©åŠ›å¼€å‘è€…å¿«é€Ÿæ„å»ºæ—¢å®‰å…¨åˆæ•æ·çš„ä¼ä¸šçº§å…¨æ ˆä¸­åå°åº”ç”¨ã€‚</p>
<h3 data-id="heading-16">é¡¹ç›®ä»£ç </h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Ftx7do%2Fgo-wind-admin" target="_blank" title="https://gitee.com/tx7do/go-wind-admin" ref="nofollow noopener noreferrer">go-wind-admin Gitee</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftx7do%2Fgo-wind-admin" target="_blank" title="https://github.com/tx7do/go-wind-admin" ref="nofollow noopener noreferrer">go-wind-admin Github</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GoWind Adminï½œé£è¡Œ â€” å¼€ç®±å³ç”¨çš„ä¼ä¸šçº§å…¨æ ˆä¸­åå°æ¡†æ¶ãƒ»å†…ç½®å¾®æœåŠ¡æ¥å£æ•°æ®èšåˆèƒ½åŠ›]]></title>    <link>https://juejin.cn/post/7599598627008118836</link>    <guid>https://juejin.cn/post/7599598627008118836</guid>    <pubDate>2026-01-27T03:47:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599598627008118836" data-draft-id="7599703627788812328" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GoWind Adminï½œé£è¡Œ â€” å¼€ç®±å³ç”¨çš„ä¼ä¸šçº§å…¨æ ˆä¸­åå°æ¡†æ¶ãƒ»å†…ç½®å¾®æœåŠ¡æ¥å£æ•°æ®èšåˆèƒ½åŠ›"/> <meta itemprop="keywords" content="åç«¯,Go,å¾®æœåŠ¡"/> <meta itemprop="datePublished" content="2026-01-27T03:47:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å–µä¸ªå’ª"/> <meta itemprop="url" content="https://juejin.cn/user/1350630784901262"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GoWind Adminï½œé£è¡Œ â€” å¼€ç®±å³ç”¨çš„ä¼ä¸šçº§å…¨æ ˆä¸­åå°æ¡†æ¶ãƒ»å†…ç½®å¾®æœåŠ¡æ¥å£æ•°æ®èšåˆèƒ½åŠ›
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1350630784901262/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å–µä¸ªå’ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T03:47:48.000Z" title="Tue Jan 27 2026 03:47:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">GoWind Adminï½œé£è¡Œ â€” å¼€ç®±å³ç”¨çš„ä¼ä¸šçº§å…¨æ ˆä¸­åå°æ¡†æ¶ãƒ»å†…ç½®å¾®æœåŠ¡æ¥å£æ•°æ®èšåˆèƒ½åŠ›</h2>
<blockquote>
<p>è®©å¤æ‚å½’äºç®€å•ï¼Œè®©èšåˆæˆä¸ºæœ¬èƒ½ã€‚</p>
</blockquote>
<p>åœ¨å¾®æœåŠ¡æ¶æ„ç››è¡Œçš„ä»Šå¤©ï¼Œä¼ä¸šä¸­åå°ç³»ç»Ÿæ­£é¢ä¸´å‰æ‰€æœªæœ‰çš„å¼€å‘ä¸æ€§èƒ½åŒé‡æŒ‘æˆ˜ï¼šå‰ç«¯éœ€ä»æ•°åä¸ªç‹¬ç«‹æœåŠ¡ä¸­é›¶æ•£æ‹‰å–æ•°æ®ï¼Œç½‘ç»œè¯·æ±‚å†—ä½™ã€çŠ¶æ€ç®¡ç†ç¹çï¼›åç«¯é€»è¾‘åˆ†æ•£ã€æ¥å£å¤ç”¨æ€§å·®ã€N+1 æŸ¥è¯¢é—®é¢˜æ³›æ»¥ï¼Œæ—¢æ‹–ç´¯å¼€å‘æ•ˆç‡ï¼Œä¹Ÿè®©ç³»ç»Ÿæ€§èƒ½æŒç»­æ‰¿å‹ã€‚å¦‚ä½•åœ¨åšå®ˆç³»ç»Ÿè§£è€¦åŸåˆ™çš„åŒæ—¶ï¼Œé«˜æ•ˆç»„è£…ä¸šåŠ¡è§†å›¾ã€ç®€åŒ–å¼€å‘é“¾è·¯ï¼Ÿ<strong>GoWind Adminï¼ˆé£è¡Œï¼‰</strong> åº”è¿è€Œç”Ÿâ€”â€”ä¸€æ¬¾ä¸“ä¸ºç°ä»£ä¼ä¸šæ‰“é€ çš„å…¨æ ˆä¸­åå°æ¡†æ¶ï¼Œä»¥â€œ<strong>å¼€ç®±å³ç”¨ + å†…ç½®æ™ºèƒ½èšåˆ</strong>â€ä¸ºæ ¸å¿ƒç†å¿µï¼Œå½»åº•ç ´è§£å¾®æœåŠ¡æ—¶ä»£çš„æ•°æ®æ‹¼è£…éš¾é¢˜ï¼Œè®©å¼€å‘è€…ä»æ¥å£æ‹¼æ¥çš„ç¹çå·¥ä½œä¸­è§£æ”¾å‡ºæ¥ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦ GoWind Adminï¼Ÿ</h3>
<p>ä¼ ç»Ÿä¸­åå°å¼€å‘å¾€å¾€é™·å…¥â€œå‰ç«¯ç´¯ã€åç«¯ç¹â€çš„åŒé‡å›°å¢ƒï¼Œéš¾ä»¥å…¼é¡¾æ•ˆç‡ä¸æ€§èƒ½ï¼š</p>
<ul>
<li><strong>å‰ç«¯å›°å¢ƒ</strong>ï¼šä¸€ä¸ªå¸¸è§„ä¸šåŠ¡é¡µé¢ï¼Œå¸¸å¸¸éœ€è¦å‘èµ· 5~10 æ¬¡ç‹¬ç«‹ API è°ƒç”¨ï¼Œä¸ä»…å¸¦æ¥é«˜é¢ç½‘ç»œå»¶è¿Ÿï¼Œæ›´è®©é”™è¯¯å¤„ç†ã€çŠ¶æ€åŒæ­¥å˜å¾—å¼‚å¸¸ç¹çï¼Œä¸¥é‡å½±å“ç”¨æˆ·ä½“éªŒä¸å¼€å‘æ•ˆç‡ã€‚</li>
<li><strong>åç«¯å›°å¢ƒ</strong>ï¼šBFFï¼ˆBackend For Frontendï¼‰å±‚ä»£ç é‡å¤å †ç Œã€é€»è¾‘è‡ƒè‚¿å†—ä½™ï¼Œæ¯æ¬¡æ–°å¢ä¸šåŠ¡å­—æ®µæˆ–è°ƒæ•´æ¥å£ï¼Œéƒ½éœ€è”åŠ¨ä¿®æ”¹å¤šä¸ªæœåŠ¡çš„è°ƒç”¨é€»è¾‘ï¼Œç»´æŠ¤æˆæœ¬æé«˜ã€‚</li>
</ul>
<p>æ›´å…³é”®çš„æ˜¯ï¼Œå¸‚é¢ä¸Šå¤šæ•°ä¸­åå°æ¡†æ¶ä»…æä¾›åŸºç¡€ UI ç»„ä»¶æˆ–ç®€å• CRUD å°è£…ï¼Œ<strong>å‡æœªé’ˆå¯¹â€œè·¨æœåŠ¡æ•°æ®èšåˆâ€è¿™ä¸€æ ¸å¿ƒç—›ç‚¹æä¾›æ·±åº¦è§£å†³æ–¹æ¡ˆ</strong>ï¼Œå¼€å‘è€…ä»éœ€æ‰‹åŠ¨ç¼–å†™å¤§é‡èšåˆé€»è¾‘ï¼Œæ— æ³•ä»æ ¹æœ¬ä¸Šæå‡å¼€å‘æ•ˆèƒ½ã€‚</p>
<p>GoWind Admin ç»™å‡ºçš„è§£å†³æ–¹æ¡ˆç›´å‡»è¦å®³ï¼š<strong>å°†æ•°æ®èšåˆèƒ½åŠ›å†…å»ºäºæ¡†æ¶åº•å±‚</strong>ï¼Œé€šè¿‡ä¸€å¥—å£°æ˜å¼ã€ç±»å‹å®‰å…¨ã€é«˜æ€§èƒ½çš„èšåˆå¼•æ“ï¼Œè®©å¼€å‘è€…æ— éœ€å…³æ³¨åº•å±‚è°ƒç”¨ç»†èŠ‚ï¼Œåƒæ“ä½œå•ä½“æ•°æ®åº“ä¸€æ ·ï¼Œè½»æ¾ç»„åˆå¤šæœåŠ¡æ•°æ®ã€å¿«é€Ÿè½åœ°ä¸šåŠ¡éœ€æ±‚ã€‚</p>
<h3 data-id="heading-2">äºŒã€æ ¸å¿ƒäº®ç‚¹ï¼šå†…ç½®å¾®æœåŠ¡æ¥å£æ•°æ®èšåˆå¼•æ“</h3>
<p>GoWind Admin æœ€å…·å·®å¼‚åŒ–çš„åˆ›æ–°ï¼Œåœ¨äºå…¶å†…åµŒçš„ <code>aggregator</code>æ¨¡å—â€”â€”ä¸€æ¬¾ä¸“ä¸º Go è¯­è¨€é‡èº«è®¾è®¡çš„é«˜æ€§èƒ½ã€å¼ºç±»å‹ã€å¯æ‰©å±•çš„æ•°æ®èšåˆå™¨ï¼Œå†…ç½®é‡è¯•ã€é™æµã€å®¹é”™ç­‰ä¼ä¸šçº§ç‰¹æ€§ï¼Œå®Œç¾é€‚é…å¾®æœåŠ¡åœºæ™¯çš„å¤æ‚éœ€æ±‚ã€‚</p>
<h4 data-id="heading-3">âœ… 1. å¹¶å‘å®‰å…¨æ‰§è¡Œå™¨ <code>ExecuteParallel</code></h4>
<p>é’ˆå¯¹å¤šæœåŠ¡å¹¶å‘è°ƒç”¨åœºæ™¯ï¼Œæä¾›å¼€ç®±å³ç”¨çš„å¹¶å‘è°ƒåº¦èƒ½åŠ›ï¼Œå…¼é¡¾æ•ˆç‡ä¸ç¨³å®šæ€§ï¼š</p>
<ul>
<li>è‡ªåŠ¨å¹¶å‘è°ƒåº¦å¤šä¸ªå¾®æœåŠ¡æ¥å£è°ƒç”¨ï¼Œå¤§å¹…ç¼©çŸ­æ•°æ®æ‹‰å–è€—æ—¶ï¼›</li>
<li>æ”¯æŒ<strong>æœ€å¤§å¹¶å‘æ•°é™åˆ¶</strong>ï¼Œå¯çµæ´»é…ç½®é˜ˆå€¼ï¼Œæœ‰æ•ˆé˜²æ­¢ä¸‹æ¸¸æœåŠ¡é›ªå´©ï¼›</li>
<li>å†…ç½® <code>Context</code> è¶…æ—¶æ§åˆ¶ã€æŒ‡æ•°é€€é¿é‡è¯•æœºåˆ¶ï¼Œæå‡æ¥å£è°ƒç”¨æˆåŠŸç‡ï¼›</li>
<li>è‡ªåŠ¨æ•è·è°ƒç”¨è¿‡ç¨‹ä¸­çš„ <code>Panic</code> å¼‚å¸¸ï¼Œåšå¥½å…œåº•å¤„ç†ï¼Œä¿éšœä¸»æµç¨‹ç¨³å®šè¿è¡Œã€‚</li>
</ul>
<pre><code class="hljs language-go" lang="go">err := aggregator.ExecuteParallel(ctx, []aggregator.ParallelFetcher{
    <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(ctx context.Context)</span></span> <span class="hljs-type">error</span> { <span class="hljs-keyword">return</span> fetchUser(ctx, &amp;user) },
    <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(ctx context.Context)</span></span> <span class="hljs-type">error</span> { <span class="hljs-keyword">return</span> fetchOrders(ctx, &amp;orders) },
    <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(ctx context.Context)</span></span> <span class="hljs-type">error</span> { <span class="hljs-keyword">return</span> fetchPermissions(ctx, &amp;perms) },
}, aggregator.WithLimit(<span class="hljs-number">5</span>), aggregator.WithRetry(<span class="hljs-number">2</span>))
</code></pre>
<h4 data-id="heading-4">âœ… 2. æ™ºèƒ½æ•°æ®å›å¡«ï¼ˆPopulateï¼‰</h4>
<p>æ— éœ€æ‰‹åŠ¨ç¼–å†™æ˜ å°„é€»è¾‘ï¼Œè‡ªåŠ¨å°†èšåˆåçš„å¤šæœåŠ¡æ•°æ®ï¼Œç²¾å‡†å›å¡«è‡³ä¸šåŠ¡å¯¹è±¡ï¼Œé€‚é…å„ç±»æ•°æ®å…³è”åœºæ™¯ï¼š</p>
<ul>
<li>å…¨é¢æ”¯æŒæ‰å¹³åˆ—è¡¨ã€æ ‘å½¢ç»“æ„ã€ä¸€å¯¹å¤š/å¤šå¯¹å¤šå…³è”ç­‰å„ç±»ä¸šåŠ¡åœºæ™¯ï¼›</li>
<li>é€šè¿‡ç®€å•çš„ <code>IDGetter</code> ä¸ <code>Setter</code> å£°æ˜ï¼Œå³å¯å®Œæˆæ•°æ®æ˜ å°„ï¼Œä»£ç ç®€æ´æ˜“ç»´æŠ¤ï¼›</li>
<li>æ”¯æŒ<strong>é€’å½’æ ‘å½¢ç»“æ„</strong>ï¼ˆå¦‚ç»„ç»‡æ¶æ„ã€èœå•æƒé™ã€åˆ†ç±»ç›®å½•ç­‰ï¼‰ï¼Œè½»æ¾å¤„ç†æ— é™å±‚çº§æ•°æ®å›å¡«ã€‚</li>
</ul>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// å°†ç”¨æˆ·IDæ˜ å°„ä¸ºUserå¯¹è±¡ï¼Œå¹¶è‡ªåŠ¨å¡«å……åˆ°è®¢å•åˆ—è¡¨ä¸­</span>
aggregator.Populate(orders, userMap, 
    <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(o Order)</span></span> <span class="hljs-type">int64</span> { <span class="hljs-keyword">return</span> o.UserID },     <span class="hljs-comment">// å®šä¹‰è®¢å•å…³è”çš„ç”¨æˆ·IDè·å–é€»è¾‘</span>
    <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(o Order, u User)</span></span> { o.User = u },        <span class="hljs-comment">// å®šä¹‰ç”¨æˆ·æ•°æ®å›å¡«è‡³è®¢å•çš„é€»è¾‘</span>
)
</code></pre>
<p>é€’å½’æ ‘å½¢ç»“æ„å›å¡«ç¤ºä¾‹ï¼ˆå¦‚ç»„ç»‡æ¶æ„ï¼‰ï¼š</p>
<pre><code class="hljs language-go" lang="go">aggregator.PopulateTree(orgUnits, userManagerMap, 
    idGetter, setter, childrenFunc)
</code></pre>
<h4 data-id="heading-5">âœ… 3. åŸç”Ÿé›†æˆ DataLoader æ¨¡å¼</h4>
<p>æ— ç¼å¯¹æ¥ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgraph-gophers%2Fdataloader" target="_blank" title="https://github.com/graph-gophers/dataloader" ref="nofollow noopener noreferrer">graph-gophers/dataloader</a> å¼€æºç»„ä»¶ï¼Œä»æ ¹æºä¸Šè§£å†³å¾®æœåŠ¡åœºæ™¯ä¸­çš„ N+1 æŸ¥è¯¢é—®é¢˜ï¼Œæå‡æ¥å£æ€§èƒ½ï¼š</p>
<ul>
<li>è‡ªåŠ¨å°†å¤šä¸ªå•ä¸ªæŸ¥è¯¢è¯·æ±‚åˆå¹¶ä¸ºæ‰¹é‡è¯·æ±‚ï¼Œå‡å°‘ç½‘ç»œäº¤äº’æ¬¡æ•°ï¼›</li>
<li>å†…ç½®å‚æ•°å»é‡ã€ç»“æœç¼“å­˜æœºåˆ¶ï¼Œé¿å…é‡å¤æŸ¥è¯¢ï¼Œæå‡å“åº”é€Ÿåº¦ï¼›</li>
<li>ä¸ <code>Populate</code> èƒ½åŠ›æ·±åº¦è”åŠ¨ï¼Œæ•°æ®å›å¡«æ›´é«˜æ•ˆã€æ›´ç®€æ´ã€‚</li>
</ul>
<pre><code class="hljs language-go" lang="go">loader := aggregator.NewLoaderFromFetch(fetchUsersBatch)
thunk := aggregator.ThunkGetterFromLoader(ctx, loader, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(item Item)</span></span> <span class="hljs-type">int64</span> { <span class="hljs-keyword">return</span> item.UserID })

aggregator.PopulateWithLoader(items, thunk, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(i Item, u User)</span></span> { i.User = u })
</code></pre>
<blockquote>
<p>ğŸ’¡ å®é™…æ•ˆæœï¼šåŸæœ¬éœ€è¦æ‰§è¡Œ 100 æ¬¡çš„å•ä¸ªç”¨æˆ·æŸ¥è¯¢ï¼Œå°†è¢«è‡ªåŠ¨åˆå¹¶ä¸º 1 æ¬¡æ‰¹é‡è¯·æ±‚ï¼Œæ¥å£å“åº”é€Ÿåº¦æå‡ 10 å€ä»¥ä¸Šã€‚</p>
</blockquote>
<h3 data-id="heading-6">ä¸‰ã€å…¨æ ˆä¸€ä½“åŒ–ä½“éªŒï¼šä»å‰ç«¯åˆ°éƒ¨ç½²ï¼Œä¸€ç«™å¼æå®š</h3>
<p>GoWind Admin ä¸æ­¢èšç„¦äºæ•°æ®èšåˆèƒ½åŠ›ï¼Œæ›´æä¾›äº†ä»å‰ç«¯åˆ°åç«¯ã€ä»å¼€å‘åˆ°éƒ¨ç½²çš„å…¨é“¾è·¯å®Œæ•´è§£å†³æ–¹æ¡ˆï¼Œå®ç°çœŸæ­£çš„å…¨æ ˆä¸€ä½“åŒ–å¼€å‘ï¼Œè®©å¼€å‘è€…æ— éœ€è·¨æŠ€æœ¯æ ˆé€‰å‹ã€æ— éœ€æ‰‹åŠ¨æ•´åˆç»„ä»¶ï¼Œå¼€ç®±å³å¯æŠ•å…¥ç”Ÿäº§ã€‚</p>






























<table><thead><tr><th>å±‚çº§</th><th>æŠ€æœ¯æ ˆ</th><th>ç‰¹æ€§</th></tr></thead><tbody><tr><td>å‰ç«¯</td><td>Vue 3 + TypeScript + Vite + Antdv + Vben</td><td>å“åº”å¼å¸ƒå±€ã€åŠ¨æ€æƒé™æ§åˆ¶ã€ä¸»é¢˜å®šåˆ¶ã€å¤šè¯­è¨€ i18nã€ä¸°å¯Œ UI ç»„ä»¶åº“</td></tr><tr><td>åç«¯</td><td>Go 1.23 + Kratos + GORM/Ent + Casbin</td><td>RESTful API è§„èŒƒã€JWT èº«ä»½é‰´æƒã€RBAC æƒé™æ¨¡å‹ã€æ“ä½œå®¡è®¡æ—¥å¿—ã€æ•°æ®æ ¡éªŒ</td></tr><tr><td>èšåˆå±‚</td><td>å†…ç½® aggregator å¼•æ“</td><td>å¾®æœåŠ¡æ•°æ®ç»„è£…ã€BFF é€»è¾‘ç®€åŒ–ã€N+1 æŸ¥è¯¢è§£å†³ã€é«˜å¯ç”¨å®¹é”™</td></tr><tr><td>éƒ¨ç½²</td><td>Docker + Shell Script</td><td>ä¸€é”®éƒ¨ç½²ã€å¼¹æ€§ä¼¸ç¼©ã€å¥åº·æ£€æŸ¥ã€å®¹å™¨åŒ–è¿ç»´ã€ç¯å¢ƒä¸€è‡´æ€§ä¿éšœ</td></tr></tbody></table>
<h3 data-id="heading-7">å››ã€å…¸å‹åº”ç”¨åœºæ™¯ï¼šè®©èšåˆèƒ½åŠ›è½åœ°åˆ°æ¯ä¸€ä¸ªä¸šåŠ¡åœºæ™¯</h3>
<p>GoWind Admin çš„èšåˆå¼•æ“çš„è®¾è®¡ï¼Œå®Œå…¨è´´åˆä¼ä¸šä¸­åå°çš„é«˜é¢‘ä¸šåŠ¡åœºæ™¯ï¼Œæ— éœ€å¤æ‚é…ç½®ï¼Œå³å¯å¿«é€Ÿè§£å†³æ•°æ®æ‹¼è£…éš¾é¢˜ã€‚</p>
<h4 data-id="heading-8">åœºæ™¯1ï¼šç”¨æˆ·è¯¦æƒ…é¡µï¼ˆè·¨3ä¸ªæœåŠ¡çš„æ•°æ®èšåˆï¼‰</h4>
<p>ä¸€ä¸ªç”¨æˆ·è¯¦æƒ…é¡µï¼Œéœ€æ•´åˆ3ä¸ªç‹¬ç«‹æœåŠ¡çš„æ•°æ®ï¼š</p>
<ul>
<li>ç”¨æˆ·æœåŠ¡ â†’ ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ã€è´¦å·çŠ¶æ€</li>
<li>è®¢å•æœåŠ¡ â†’ ç”¨æˆ·æœ€è¿‘ä¸‹å•è®°å½•ã€è®¢å•ç»Ÿè®¡</li>
<li>æƒé™æœåŠ¡ â†’ ç”¨æˆ·å¯æ“ä½œèœå•ã€åŠŸèƒ½æƒé™åˆ—è¡¨</li>
</ul>
<h5 data-id="heading-9">ä¼ ç»Ÿå¼€å‘æ–¹å¼</h5>
<p>å‰ç«¯éœ€ä¾æ¬¡å‘èµ·3æ¬¡ç‹¬ç«‹ API è¯·æ±‚ï¼Œæ‰‹åŠ¨ç»„è£…æ•°æ®ã€å¤„ç†åŠ è½½çŠ¶æ€ä¸é”™è¯¯ï¼›æˆ–åç«¯éœ€ç¼–å†™å¤§é‡å†—ä½™ä»£ç ï¼Œè°ƒç”¨3ä¸ªæœåŠ¡æ¥å£å¹¶æ‰‹åŠ¨èšåˆç»“æœï¼Œå¼€å‘æ•ˆç‡ä½ã€ç»´æŠ¤æˆæœ¬é«˜ã€‚</p>
<h5 data-id="heading-10">GoWind æ–¹å¼</h5>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// ä¸€è¡Œä»£ç å®Œæˆ3ä¸ªæœåŠ¡å¹¶å‘æ‹‰å– + æ•°æ®è‡ªåŠ¨å¡«å……ï¼Œæ— éœ€å†—ä½™ç¼–ç </span>
aggregator.ExecuteParallel(ctx, []ParallelFetcher{fetchUser, fetchOrders, fetchMenus})
aggregator.Populate(user, orderMap, ..., ...)
</code></pre>
<h4 data-id="heading-11">åœºæ™¯2ï¼šç»„ç»‡æ¶æ„æ ‘ï¼ˆé€’å½’å±‚çº§ + å¤šå¯¹å¤šå…³è”ï¼‰</h4>
<p>ä¼ä¸šç»„ç»‡æ¶æ„åœºæ™¯ï¼Œéœ€å¤„ç†é€’å½’å±‚çº§ä¸å¤šå¯¹å¤šå…³è”æ•°æ®ï¼š</p>
<ul>
<li>éƒ¨é—¨æ ‘ â†’ æ— é™å±‚çº§çš„éƒ¨é—¨ç»“æ„ï¼ˆçˆ¶éƒ¨é—¨åŒ…å«å­éƒ¨é—¨ï¼‰</li>
<li>è´Ÿè´£äººå…³è” â†’ æ¯ä¸ªéƒ¨é—¨å…³è”å¤šä¸ªè´Ÿè´£äººï¼ˆå¤šå¯¹å¤šå…³ç³»ï¼‰</li>
<li>ç”¨æˆ·æ•°æ® â†’ è´Ÿè´£äººä¿¡æ¯æ¥è‡ªç‹¬ç«‹çš„ç”¨æˆ·æœåŠ¡</li>
</ul>
<h5 data-id="heading-12">GoWind æ–¹å¼</h5>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// é€’å½’å¤„ç†éƒ¨é—¨æ ‘ï¼Œè‡ªåŠ¨å°†å¤šä¸ªè´Ÿè´£äººæ•°æ®å›å¡«è‡³å¯¹åº”éƒ¨é—¨</span>
aggregator.PopulateTreeMulti(depts, userMap, 
    <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(d Dept)</span></span> []<span class="hljs-type">int64</span> { <span class="hljs-keyword">return</span> d.ManagerIDs },  <span class="hljs-comment">// è·å–éƒ¨é—¨å…³è”çš„è´Ÿè´£äººIDåˆ—è¡¨</span>
    <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(d Dept, us []User)</span></span> { d.Managers = us },   <span class="hljs-comment">// å°†è´Ÿè´£äººæ•°æ®å›å¡«è‡³éƒ¨é—¨</span>
    <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(d Dept)</span></span> []Dept { <span class="hljs-keyword">return</span> d.Children },     <span class="hljs-comment">// å®šä¹‰éƒ¨é—¨æ ‘çš„å­èŠ‚ç‚¹è·å–é€»è¾‘</span>
)
</code></pre>
<h3 data-id="heading-13">äº”ã€ä¸ºä»€ä¹ˆé€‰æ‹© GoWind Adminï¼Ÿ</h3>
<p>ç›¸è¾ƒäºå¸‚é¢ä¸Šå…¶ä»–ä¸­åå°æ¡†æ¶ï¼ŒGoWind Admin ä»¥â€œèšåˆèƒ½åŠ›â€ä¸ºæ ¸å¿ƒå·®å¼‚åŒ–ä¼˜åŠ¿ï¼ŒåŒæ—¶å…¼é¡¾å¼€ç®±å³ç”¨ã€ç”Ÿäº§å°±ç»ªã€ä¸­æ–‡å‹å¥½ç­‰ç‰¹æ€§ï¼Œå®Œç¾é€‚é…å›½å†…ä¼ä¸šçš„å¼€å‘éœ€æ±‚ï¼š</p>
<ul>
<li>âœ… <strong>çœŸæ­£å¼€ç®±å³ç”¨</strong>ï¼šé¡¹ç›®åˆå§‹åŒ–åå³å†…ç½®ç”¨æˆ·ç®¡ç†ã€è§’è‰²æƒé™ã€æ“ä½œæ—¥å¿—ã€æ•°æ®å­—å…¸ç­‰ä¼ä¸šçº§åŸºç¡€æ¨¡å—ï¼Œæ— éœ€ä»é›¶æ­å»ºï¼ŒèŠ‚çœ90%çš„åŸºç¡€å¼€å‘æ—¶é—´ã€‚</li>
<li>âœ… <strong>èšåˆèƒ½åŠ›å†…å»º</strong>ï¼šæ— éœ€é¢å¤–å¼•å…¥ BFF ç½‘å…³æˆ–ç¬¬ä¸‰æ–¹èšåˆç»„ä»¶ï¼Œèšåˆé€»è¾‘å¯ç›´æ¥åµŒå…¥ Handler å±‚ï¼Œç®€åŒ–æ¶æ„å¤æ‚åº¦ï¼Œé™ä½è¿ç»´æˆæœ¬ã€‚</li>
<li>âœ… <strong>å…¨ç¨‹ç±»å‹å®‰å…¨</strong>ï¼šåŸºäº Go æ³›å‹ç‰¹æ€§å¼€å‘ï¼Œç¼–è¯‘æœŸå³å¯æœç»å­—æ®µé”™é…ã€ç±»å‹ä¸å…¼å®¹ç­‰é—®é¢˜ï¼Œå‡å°‘çº¿ä¸Š bugï¼Œæå‡ä»£ç å¯ç»´æŠ¤æ€§ã€‚</li>
<li>âœ… <strong>ç”Ÿäº§ç¯å¢ƒå°±ç»ª</strong>ï¼šå†…ç½®ç†”æ–­ã€é™æµã€é‡è¯•ã€è¶…æ—¶æ§åˆ¶ã€å…¨é“¾è·¯æ—¥å¿—è¿½è¸ªç­‰ç¨³å®šæ€§ä¿éšœæœºåˆ¶ï¼Œç»è¿‡å®é™…é¡¹ç›®éªŒè¯ï¼Œå¯ç›´æ¥ç”¨äºç”Ÿäº§ç¯å¢ƒã€‚</li>
<li>âœ… <strong>ä¸­æ–‡å‹å¥½é€‚é…</strong>ï¼šå®˜æ–¹æ–‡æ¡£ã€ä»£ç æ³¨é‡Šã€ç¤¾åŒºäº¤æµå‡ä¸ºä¸­æ–‡ï¼Œé™ä½å›½å†…å¼€å‘è€…å­¦ä¹ ä¸ä½¿ç”¨æˆæœ¬ï¼Œé‡åˆ°é—®é¢˜å¯å¿«é€Ÿè·å–æ”¯æŒã€‚</li>
</ul>
<h3 data-id="heading-14">ç»“è¯­</h3>
<p>åœ¨å¾®æœåŠ¡æ‹†åˆ†æ—¥ç›Šç²¾ç»†åŒ–çš„ä»Šå¤©ï¼Œâ€œé«˜æ•ˆæ•°æ®èšåˆâ€æ—©å·²ä¸å†æ˜¯å¯é€‰é¡¹ï¼Œè€Œæ˜¯æ”¯æ’‘ä¸­åå°ç³»ç»Ÿé«˜æ•ˆè¿­ä»£ã€ç¨³å®šè¿è¡Œçš„å¿…é€‰é¡¹ã€‚è¿‡å¤šçš„æ¥å£æ‹¼æ¥ã€å†—ä½™çš„èšåˆé€»è¾‘ï¼Œä¸ä»…æ‹–ç´¯å¼€å‘æ•ˆç‡ï¼Œæ›´ä¼šå¯¼è‡´ç³»ç»Ÿæ€§èƒ½ç“¶é¢ˆã€ç»´æŠ¤æˆæœ¬é«˜ä¼ã€‚</p>
<p>GoWind Admin ä»¥ Go è¯­è¨€çš„ç®€æ´ä¸é«˜æ•ˆä¸ºåŸºåº•ï¼Œå°†å¤æ‚çš„æ•°æ®ç»„è£…é€»è¾‘å°è£…ä¸ºå‡ è¡Œå£°æ˜å¼ä»£ç ï¼Œè®©å¼€å‘è€…æ‘†è„±é‡å¤åŠ³åŠ¨ï¼Œå›å½’ä¸šåŠ¡æœ¬è´¨ã€èšç„¦æ ¸å¿ƒéœ€æ±‚ã€‚</p>
<blockquote>
<p><strong>é£èµ·äºå¾®æœ«ï¼Œè¡Œç¨³è‡´è¿œã€‚</strong></p>
<p>GoWind Admin â€”â€” ä¸ºä¼ä¸šä¸­åå°ï¼Œæ³¨å…¥èšåˆä¹‹åŠ›ã€‚</p>
</blockquote>
<p>ç«‹å³ä½“éªŒï¼Œå½»åº•å‘Šåˆ« N+1 æŸ¥è¯¢å›°æ‰°ï¼Œæ‹¥æŠ±æ›´é«˜æ•ˆã€æ›´ç®€æ´ã€æ›´ç¨³å®šçš„ä¸­åå°å¼€å‘æ¨¡å¼ï¼ğŸš€</p>
<h3 data-id="heading-15">é¡¹ç›®ä»£ç </h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Ftx7do%2Fgo-wind-admin" target="_blank" title="https://gitee.com/tx7do/go-wind-admin" ref="nofollow noopener noreferrer">go-wind-admin Gitee</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftx7do%2Fgo-wind-admin" target="_blank" title="https://github.com/tx7do/go-wind-admin" ref="nofollow noopener noreferrer">go-wind-admin Github</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨bin-homeå®šä½å…¨å±€npm cliå‘½ä»¤çš„æ¥æºåŒ…]]></title>    <link>https://juejin.cn/post/7599601258640179238</link>    <guid>https://juejin.cn/post/7599601258640179238</guid>    <pubDate>2026-01-27T03:48:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599601258640179238" data-draft-id="7599640782569193499" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨bin-homeå®šä½å…¨å±€npm cliå‘½ä»¤çš„æ¥æºåŒ…"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Node.js"/> <meta itemprop="datePublished" content="2026-01-27T03:48:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç«è½¦å¼ä½"/> <meta itemprop="url" content="https://juejin.cn/user/1345457960792808"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨bin-homeå®šä½å…¨å±€npm cliå‘½ä»¤çš„æ¥æºåŒ…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1345457960792808/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç«è½¦å¼ä½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T03:48:53.000Z" title="Tue Jan 27 2026 03:48:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ æ˜¯å¦æ›¾ç»åœ¨ç»ˆç«¯é‡Œè¾“å…¥ä¸€ä¸ªå‘½ä»¤ï¼Œç„¶åç–‘æƒ‘å®ƒåˆ°åº•æ¥è‡ªå“ªä¸ª npm åŒ…ï¼Ÿ</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼šä½ å‡ ä¸ªæœˆå‰è£…äº†ä¸€ä¸ªå¾ˆå¥½ç”¨çš„ CLI å·¥å…·ï¼Œå« <code>codex</code>ã€‚ç°åœ¨ä½ æƒ³æ›´æ–°å®ƒï¼Œäºæ˜¯ä¹ æƒ¯æ€§åœ°è¾“å…¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm i -g codex
</code></pre>
<p>ç»“æœå´è¿”å›ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">npm</span> <span class="hljs-selector-tag">ERR</span>! <span class="hljs-selector-tag">code</span> <span class="hljs-selector-tag">E404</span>
<span class="hljs-selector-tag">npm</span> <span class="hljs-selector-tag">ERR</span>! <span class="hljs-number">404</span> <span class="hljs-selector-tag">Not</span> <span class="hljs-selector-tag">Found</span> <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">GET</span> <span class="hljs-selector-tag">https</span>:<span class="hljs-comment">//registry.npmjs.org/codex</span>
</code></pre>
<p>ç­‰ç­‰ï¼Œæˆ‘æ˜æ˜ä¹‹å‰å®‰è£…è¿‡å•Šï¼Ÿäºæ˜¯ä½ å¼€å§‹ç¿»æ‰¾ bash å†å²ã€æŸ¥çœ‹å…¨å±€ node_modulesï¼Œç”šè‡³æ€€ç–‘è‡ªå·±æ˜¯ä¸æ˜¯è®°é”™äº†å‘½ä»¤åâ€¦â€¦</p>
<p>åˆ«æ‹…å¿ƒï¼Œä½ å¹¶ä¸å­¤å•ã€‚è¿™æ­£æ˜¯ <strong>bin-home</strong> è¯ç”Ÿçš„åŸå› ã€‚</p>
<h2 data-id="heading-0">å½“å‘½ä»¤åâ€œèƒŒå›â€äº†åŒ…å</h2>
<p>åœ¨ npm çš„ä¸–ç•Œé‡Œï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒåŒ…çš„åç§°å’Œå®ƒæä¾›çš„ CLI å‘½ä»¤åç§°æ˜¯ä¸€è‡´çš„ã€‚æ¯”å¦‚ <code>create-react-app</code> è¿™ä¸ªåŒ…ï¼Œå®ƒçš„å‘½ä»¤ä¹Ÿæ˜¯ <code>create-react-app</code>ã€‚</p>
<p>ä½†è¿‘å¹´æ¥ï¼Œéšç€å·¥å…·é“¾çš„å¤æ‚åŒ–ï¼Œå‡ºç°äº†è¶Šæ¥è¶Šå¤šâ€œåä¸å‰¯å®â€çš„æƒ…å†µï¼š</p>
<ul>
<li><code>@openai/codex</code> è¿™ä¸ªåŒ…ï¼Œæä¾›çš„å‘½ä»¤æ˜¯ <code>codex</code></li>
<li><code>@microsoft/opencode</code> è¿™ä¸ªåŒ…ï¼Œæä¾›çš„å‘½ä»¤å¯èƒ½æ˜¯ <code>opencode</code></li>
</ul>
<p>è¿™æ ·ä¸€æ¥ï¼Œå½“ä½ æƒ³æ›´æ–°ä¸€ä¸ªå…¨å±€å®‰è£…çš„ CLI å·¥å…·æ—¶ï¼Œå°±å¾—å…ˆå›ç­”ä¸€ä¸ªå“²å­¦é—®é¢˜ï¼š<strong>â€œæˆ‘å½“åˆåˆ°åº•å®‰è£…çš„æ˜¯ä»€ä¹ˆåŒ…ï¼Ÿâ€</strong></p>
<h2 data-id="heading-1">å¼•å…¥ bin-homeï¼šä½ çš„å…¨å±€å‘½ä»¤ä¾¦æ¢</h2>
<p><strong>bin-home</strong> æ˜¯ä¸€ä¸ªè½»é‡çº§ CLI å·¥å…·ï¼Œä¸“é—¨è§£å†³è¿™ä¸ªç—›ç‚¹ã€‚å®ƒçš„å·¥ä½œå¾ˆç®€å•ï¼šå‘Šè¯‰ä½ æŸä¸ªå‘½ä»¤æ¥è‡ªå“ªä¸ª npm åŒ…ã€‚</p>
<h3 data-id="heading-2">å¿«é€Ÿä¸Šæ‰‹</h3>
<p>å®‰è£…åªéœ€ä¸€ç¬é—´ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install -g bin-home
</code></pre>
<p>ä½¿ç”¨æ›´æ˜¯ç®€å•åˆ°ä»¤äººå‘æŒ‡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">bin-home &lt;å‘½ä»¤å&gt;
</code></pre>
<h3 data-id="heading-3">å®æˆ˜æ¼”ç¤º</h3>
<p>è®©æˆ‘ä»¬çœ‹çœ‹ bin-home å¦‚ä½•è§£å†³å¼€å¤´çš„éš¾é¢˜ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">bin-home codex
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-text" lang="text">npm: @openai/codex
npm url: https://www.npmjs.com/package/@openai/codex
github: https://github.com/openai/codex
</code></pre>
<p>æç„¶å¤§æ‚Ÿï¼åŸæ¥ <code>codex</code> å‘½ä»¤æ¥è‡ª <code>@openai/codex</code> è¿™ä¸ªåŒ…ã€‚ç°åœ¨ä½ å¯ä»¥æ­£ç¡®åœ°æ›´æ–°å®ƒäº†ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm i -g @openai/codex
</code></pre>
<p>å†è¯•ä¸€ä¸ªï¼š</p>
<pre><code class="hljs language-bash" lang="bash">bin-home opencode
</code></pre>
<p>è¾“å‡ºå¯èƒ½ç±»ä¼¼äºï¼š</p>
<pre><code class="hljs language-text" lang="text">npm: @microsoft/opencode
npm url: https://www.npmjs.com/package/@microsoft/opencode
github: https://github.com/microsoft/opencode
</code></pre>
<h3 data-id="heading-4">é«˜çº§æŠ€å·§ï¼šä¸€é”®ç›´è¾¾</h3>
<p>å¦‚æœä½ æ‡’å¾—å¤åˆ¶é“¾æ¥ï¼Œbin-home è¿˜è´´å¿ƒåœ°æä¾›äº† <code>--open</code> é€‰é¡¹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">bin-home codex --open
</code></pre>
<p>æ‰§è¡Œåï¼Œå®ƒä¼šè‡ªåŠ¨åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€è¯¥åŒ…çš„ npm é¡µé¢ï¼Œè®©ä½ ç›´æ¥æŸ¥çœ‹æ–‡æ¡£ã€ç‰ˆæœ¬ä¿¡æ¯æˆ–è¿›è¡Œæ›´æ–°ã€‚</p>
<h2 data-id="heading-5">ä¸ºä»€ä¹ˆ bin-home å¦‚æ­¤æœ‰ç”¨ï¼Ÿ</h2>
<h3 data-id="heading-6">1. æ‹¯æ•‘â€œé‡‘é±¼è®°å¿†â€å¼€å‘è€…</h3>
<p>æˆ‘ä»¬éƒ½ä¼šå¿˜è®°å‡ ä¸ªæœˆå‰å®‰è£…çš„åŒ…åã€‚bin-home å°±åƒä½ çš„ CLI è®°å¿†å¤–ç½®ç¡¬ç›˜ï¼Œéšæ—¶æé†’ä½ â€œå½“åˆè£…çš„æ˜¯ä»€ä¹ˆâ€ã€‚</p>
<h3 data-id="heading-7">2. ç»Ÿä¸€å›¢é˜Ÿå·¥å…·é“¾</h3>
<p>å½“å›¢é˜Ÿæˆå‘˜ä½¿ç”¨ä¸åŒçš„å‘½ä»¤åˆ«åæ—¶ï¼Œbin-home å¯ä»¥å¸®åŠ©å¿«é€Ÿç¡®è®¤è¿™äº›å‘½ä»¤èƒŒåçš„å®é™…åŒ…ï¼Œå‡å°‘æ²Ÿé€šæˆæœ¬ã€‚</p>
<h3 data-id="heading-8">3. æ¢ç´¢æ–°å·¥å…·</h3>
<p>çœ‹åˆ°åˆ«äººä½¿ç”¨ä¸€ä¸ªå¾ˆé…·çš„å‘½ä»¤ä½†ä¸çŸ¥é“æ˜¯ä»€ä¹ˆå·¥å…·ï¼Ÿbin-home å¸®ä½ åå‘æŸ¥æ‰¾ï¼Œå¿«é€Ÿæ‰¾åˆ°å·¥å…·æºå¤´ã€‚</p>
<h3 data-id="heading-9">4. æ¸…ç†å…¨å±€ç¯å¢ƒ</h3>
<p>æƒ³çŸ¥é“ <code>node_modules/.bin/</code> é‡Œé‚£ä¸€å †å‘½ä»¤éƒ½æ˜¯ä»€ä¹ˆæ¥å¤´ï¼Ÿbin-home å¸®ä½ ä¸€ä¸€æŸ¥æ˜ï¼Œæ–¹ä¾¿åšâ€œå¤§æ‰«é™¤â€ã€‚</p>
<h2 data-id="heading-10">æŠ€æœ¯å®ç°ç®€ä»‹</h2>
<p>bin-home çš„å·¥ä½œåŸç†å…¶å®å¾ˆç›´è§‚ï¼š</p>
<ol>
<li><strong>å®šä½å‘½ä»¤</strong>ï¼šåœ¨ç³»ç»Ÿçš„ PATH ç¯å¢ƒå˜é‡ä¸­æŸ¥æ‰¾æŒ‡å®šå‘½ä»¤çš„å®é™…ä½ç½®</li>
<li><strong>è¿½æº¯æ¥æº</strong>ï¼šé€šè¿‡ç¬¦å·é“¾æ¥ï¼ˆsymlinkï¼‰è¿½æº¯åˆ° npm å…¨å±€å®‰è£…ç›®å½•</li>
<li><strong>è§£æå…ƒæ•°æ®</strong>ï¼šè¯»å–å¯¹åº”åŒ…çš„ package.jsonï¼Œæå–åŒ…åã€ä»“åº“ç­‰ä¿¡æ¯</li>
<li><strong>æ™ºèƒ½è¾“å‡º</strong>ï¼šæ ¼å¼åŒ–å±•ç¤ºä¿¡æ¯ï¼Œå¹¶å¯é€‰æ‹©æ‰“å¼€ç›¸å…³é¡µé¢</li>
</ol>
<p>æ•´ä¸ªè¿‡ç¨‹å¿«é€Ÿã€æ— å‰¯ä½œç”¨ï¼Œä¸ä¼šå½±å“ä½ ç°æœ‰çš„ä»»ä½•ç¯å¢ƒé…ç½®ã€‚</p>
<h2 data-id="heading-11">ç°åœ¨å°±è¯•è¯•ï¼</h2>
<p>å‘Šåˆ«â€œæˆ‘è®°å¾—å‘½ä»¤ä½†å¿˜äº†åŒ…åâ€çš„å°´å°¬æ—¶åˆ»ã€‚å®‰è£… bin-homeï¼Œè®©ä½ å¯¹å…¨å±€ CLI å·¥å…·äº†å¦‚æŒ‡æŒï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install -g bin-home
</code></pre>
<p>ç„¶åå°è¯•æ£€æŸ¥ä½ å¸¸ç”¨çš„å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">bin-home eslint
bin-home prettier
bin-home yarn
</code></pre>
<p>ä½ å¯èƒ½ä¼šå‘ç°ä¸€äº›æ„æƒ³ä¸åˆ°çš„â€œçœŸèº«â€ï¼</p>
<hr/>
<p><strong>bin-home</strong>ï¼šå› ä¸ºæ¯ä¸ªå‘½ä»¤ï¼Œéƒ½è¯¥æœ‰ä¸ªæ¸…æ™°çš„â€œå‡ºèº«è¯æ˜â€ã€‚</p>
<p>GitHub ä»“åº“ï¼š[ä½ çš„ä»“åº“åœ°å€]<br/>
npm åŒ…ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fbin-home" target="_blank" title="https://www.npmjs.com/package/bin-home" ref="nofollow noopener noreferrer">www.npmjs.com/package/binâ€¦</a></p>
<p><em>é—®é¢˜åé¦ˆæˆ–åŠŸèƒ½å»ºè®®ï¼Ÿæ¬¢è¿åœ¨ GitHub ä¸Šæäº¤ Issue æˆ– PRï¼</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Elasticsearch 7.X DSL å…¥é—¨æ•™ç¨‹]]></title>    <link>https://juejin.cn/post/7599652649550577664</link>    <guid>https://juejin.cn/post/7599652649550577664</guid>    <pubDate>2026-01-27T03:52:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599652649550577664" data-draft-id="7599528186587725834" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Elasticsearch 7.X DSL å…¥é—¨æ•™ç¨‹"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-27T03:52:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å·¦Pythonå³Java"/> <meta itemprop="url" content="https://juejin.cn/user/4107431173952525"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Elasticsearch 7.X DSL å…¥é—¨æ•™ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4107431173952525/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å·¦Pythonå³Java
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T03:52:39.000Z" title="Tue Jan 27 2026 03:52:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Elasticsearch 7.X DSL å…¥é—¨æ•™ç¨‹</h2>
<h3 data-id="heading-1">ç›®å½•</h3>
<ol>
<li><a href="#%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5" title="#%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5">åŸºç¡€æ¦‚å¿µ</a></li>
<li><a href="#%E7%B4%A2%E5%BC%95%E6%93%8D%E4%BD%9C" title="#%E7%B4%A2%E5%BC%95%E6%93%8D%E4%BD%9C">ç´¢å¼•æ“ä½œ</a></li>
<li><a href="#%E6%96%87%E6%A1%A3%E6%93%8D%E4%BD%9C" title="#%E6%96%87%E6%A1%A3%E6%93%8D%E4%BD%9C">æ–‡æ¡£æ“ä½œ</a></li>
<li><a href="#%E5%9F%BA%E7%A1%80%E6%9F%A5%E8%AF%A2" title="#%E5%9F%BA%E7%A1%80%E6%9F%A5%E8%AF%A2">åŸºç¡€æŸ¥è¯¢</a></li>
<li><a href="#%E5%A4%8D%E5%90%88%E6%9F%A5%E8%AF%A2" title="#%E5%A4%8D%E5%90%88%E6%9F%A5%E8%AF%A2">å¤åˆæŸ¥è¯¢</a></li>
<li><a href="#%E8%81%9A%E5%90%88%E6%9F%A5%E8%AF%A2" title="#%E8%81%9A%E5%90%88%E6%9F%A5%E8%AF%A2">èšåˆæŸ¥è¯¢</a></li>
<li><a href="#%E9%AB%98%E7%BA%A7%E5%8A%9F%E8%83%BD" title="#%E9%AB%98%E7%BA%A7%E5%8A%9F%E8%83%BD">é«˜çº§åŠŸèƒ½</a></li>
<li><a href="#%E5%AE%9E%E6%88%98%E7%A4%BA%E4%BE%8B" title="#%E5%AE%9E%E6%88%98%E7%A4%BA%E4%BE%8B">å®æˆ˜ç¤ºä¾‹</a></li>
</ol>
<hr/>
<h3 data-id="heading-2">åŸºç¡€æ¦‚å¿µ</h3>
<h4 data-id="heading-3">ä»€ä¹ˆæ˜¯ DSL</h4>
<p>DSL (Domain Specific Language) æ˜¯ Elasticsearch çš„æŸ¥è¯¢è¯­è¨€ï¼ŒåŸºäº JSON æ ¼å¼ï¼Œç”¨äºæ‰§è¡Œå„ç§æ•°æ®æ“ä½œã€‚</p>
<h4 data-id="heading-4">æ ¸å¿ƒæ¦‚å¿µ</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç´¢å¼•å"</span><span class="hljs-punctuation">,</span>        <span class="hljs-comment">// ç±»ä¼¼æ•°æ®åº“</span>
  <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç±»å‹å"</span><span class="hljs-punctuation">,</span>         <span class="hljs-comment">// 7.x å·²åºŸå¼ƒï¼Œç»Ÿä¸€ä¸º _doc</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ–‡æ¡£ID"</span><span class="hljs-punctuation">,</span>          <span class="hljs-comment">// ç±»ä¼¼ä¸»é”®</span>
  <span class="hljs-attr">"document"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ–‡æ¡£å†…å®¹"</span>   <span class="hljs-comment">// ç±»ä¼¼è®°å½•</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h3 data-id="heading-5">ç´¢å¼•æ“ä½œ</h3>
<h4 data-id="heading-6">åˆ›å»ºç´¢å¼•</h4>
<pre><code class="hljs language-json" lang="json">PUT /products
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"settings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"number_of_shards"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"number_of_replicas"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"mappings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"properties"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"text"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"analyzer"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ik_max_word"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"double"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"keyword"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"text"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"analyzer"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ik_max_word"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"stock"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"integer"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"created_at"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"date"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"format"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"yyyy-MM-dd HH:mm:ss"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"is_active"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"boolean"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-7">æŸ¥çœ‹ç´¢å¼•</h4>
<pre><code class="hljs language-json" lang="json">GET /products
GET /products/_mapping
GET /_cat/indices?v
</code></pre>
<h4 data-id="heading-8">åˆ é™¤ç´¢å¼•</h4>
<pre><code class="hljs language-json" lang="json">DELETE /products
</code></pre>
<hr/>
<h3 data-id="heading-9">æ–‡æ¡£æ“ä½œ</h3>
<h4 data-id="heading-10">åˆ›å»ºæ–‡æ¡£</h4>
<pre><code class="hljs language-json" lang="json">POST /products/_doc
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"iPhone 15 Pro"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7999</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ‰‹æœº"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è‹¹æœæœ€æ–°æ¬¾æ™ºèƒ½æ‰‹æœº"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"stock"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">100</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"created_at"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2024-01-15 10:00:00"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"is_active"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-11">åˆ›å»ºæŒ‡å®š ID æ–‡æ¡£</h4>
<pre><code class="hljs language-json" lang="json">PUT /products/_doc/<span class="hljs-number">1</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"MacBook Pro"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12999</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç”µè„‘"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è‹¹æœä¸“ä¸šç¬”è®°æœ¬ç”µè„‘"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"stock"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">50</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"created_at"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2024-01-15 11:00:00"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"is_active"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-12">æ‰¹é‡åˆ›å»ºæ–‡æ¡£</h4>
<pre><code class="hljs language-json" lang="json">POST /_bulk
<span class="hljs-punctuation">{</span> <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"_index"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"products"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2"</span> <span class="hljs-punctuation">}</span> <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">{</span> <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"iPad Air"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4399</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¹³æ¿"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è½»è–„å¹³æ¿ç”µè„‘"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"stock"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">80</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"created_at"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2024-01-15 12:00:00"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"is_active"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span> <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">{</span> <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"_index"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"products"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"3"</span> <span class="hljs-punctuation">}</span> <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">{</span> <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AirPods Pro"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1899</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è€³æœº"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ— çº¿é™å™ªè€³æœº"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"stock"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"created_at"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2024-01-15 13:00:00"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"is_active"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span> <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">{</span> <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"_index"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"products"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"4"</span> <span class="hljs-punctuation">}</span> <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">{</span> <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Apple Watch"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2999</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ‰‹è¡¨"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ™ºèƒ½æ‰‹è¡¨"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"stock"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">150</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"created_at"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2024-01-15 14:00:00"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"is_active"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span> <span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-13">æŸ¥è¯¢æ–‡æ¡£</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_doc/<span class="hljs-number">1</span>
</code></pre>
<h4 data-id="heading-14">æ›´æ–°æ–‡æ¡£</h4>
<pre><code class="hljs language-json" lang="json">POST /products/_update/<span class="hljs-number">1</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"doc"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">11999</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"stock"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">45</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-15">åˆ é™¤æ–‡æ¡£</h4>
<pre><code class="hljs language-json" lang="json">DELETE /products/_doc/<span class="hljs-number">1</span>
</code></pre>
<hr/>
<h3 data-id="heading-16">åŸºç¡€æŸ¥è¯¢</h3>
<h4 data-id="heading-17">æŸ¥è¯¢æ‰€æœ‰æ–‡æ¡£</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"match_all"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-18">åˆ†é¡µæŸ¥è¯¢</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"match_all"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-19">æŒ‡å®šè¿”å›å­—æ®µ</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"match_all"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"_source"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"name"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"price"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"category"</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-20">æ’åº</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"match_all"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"sort"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"order"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"desc"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h3 data-id="heading-21">æŸ¥è¯¢ç±»å‹è¯¦è§£</h3>
<h4 data-id="heading-22">1. Match Queryï¼ˆå…¨æ–‡æœç´¢ï¼‰</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"match"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è‹¹æœ æ‰‹æœº"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-23">2. Term Queryï¼ˆç²¾ç¡®åŒ¹é…ï¼‰</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"term"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ‰‹æœº"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-24">3. Terms Queryï¼ˆå¤šå€¼ç²¾ç¡®åŒ¹é…ï¼‰</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"terms"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"æ‰‹æœº"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"ç”µè„‘"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-25">4. Range Queryï¼ˆèŒƒå›´æŸ¥è¯¢ï¼‰</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"range"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"gte"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1000</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"lte"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10000</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>èŒƒå›´æ“ä½œç¬¦ï¼š</p>
<ul>
<li><code>gt</code>: å¤§äº</li>
<li><code>gte</code>: å¤§äºç­‰äº</li>
<li><code>lt</code>: å°äº</li>
<li><code>lte</code>: å°äºç­‰äº</li>
</ul>
<h4 data-id="heading-26">5. Prefix Queryï¼ˆå‰ç¼€åŒ¹é…ï¼‰</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"prefix"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"iPh"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-27">6. Wildcard Queryï¼ˆé€šé…ç¬¦åŒ¹é…ï¼‰</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"wildcard"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"*Pro*"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-28">7. Fuzzy Queryï¼ˆæ¨¡ç³ŠæŸ¥è¯¢ï¼‰</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"fuzzy"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"iPone"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"fuzziness"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-29">8. Bool Queryï¼ˆå¸ƒå°”æŸ¥è¯¢ï¼‰</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"bool"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"must"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"match"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è‹¹æœ"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"must_not"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"term"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è€³æœº"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"should"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"range"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
              <span class="hljs-attr">"lte"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5000</span>
            <span class="hljs-punctuation">}</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"filter"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"term"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"is_active"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>Bool å­å¥è¯´æ˜ï¼š</p>
<ul>
<li><code>must</code>: å¿…é¡»åŒ¹é…ï¼ˆå½±å“å¾—åˆ†ï¼‰</li>
<li><code>must_not</code>: å¿…é¡»ä¸åŒ¹é…</li>
<li><code>should</code>: åº”è¯¥åŒ¹é…ï¼ˆå½±å“å¾—åˆ†ï¼‰</li>
<li><code>filter</code>: å¿…é¡»åŒ¹é…ï¼ˆä¸å½±å“å¾—åˆ†ï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-30">å¤åˆæŸ¥è¯¢</h3>
<h4 data-id="heading-31">1. Multi Match Queryï¼ˆå¤šå­—æ®µæœç´¢ï¼‰</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"multi_match"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è‹¹æœ"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"fields"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"name"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"description"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-32">2. Query String Queryï¼ˆæŸ¥è¯¢å­—ç¬¦ä¸²ï¼‰</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"query_string"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"fields"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"name"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"description"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"(è‹¹æœ AND æ‰‹æœº) OR (iPad)"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-33">3. Nested Bool Queryï¼ˆåµŒå¥—å¸ƒå°”æŸ¥è¯¢ï¼‰</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"bool"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"must"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"bool"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"should"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
              <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"match"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è‹¹æœ"</span>
                <span class="hljs-punctuation">}</span>
              <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
              <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"match"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è‹¹æœ"</span>
                <span class="hljs-punctuation">}</span>
              <span class="hljs-punctuation">}</span>
            <span class="hljs-punctuation">]</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"range"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
              <span class="hljs-attr">"gte"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1000</span>
            <span class="hljs-punctuation">}</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h3 data-id="heading-34">èšåˆæŸ¥è¯¢</h3>
<h4 data-id="heading-35">1. Terms Aggregationï¼ˆè¯é¡¹èšåˆï¼‰</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"aggs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"category_count"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"terms"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"category"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-36">2. Stats Aggregationï¼ˆç»Ÿè®¡èšåˆï¼‰</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"aggs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"price_stats"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"stats"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"price"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿”å›ï¼šcountã€minã€maxã€avgã€sum</p>
<h4 data-id="heading-37">3. Range Aggregationï¼ˆèŒƒå›´èšåˆï¼‰</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"aggs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"price_ranges"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"range"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"price"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"ranges"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
          <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"to"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2000</span>
          <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
          <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2000</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"to"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5000</span>
          <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
          <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5000</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">]</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-38">4. Date Histogram Aggregationï¼ˆæ—¥æœŸç›´æ–¹å›¾ï¼‰</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"aggs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"products_over_time"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"date_histogram"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"created_at"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"calendar_interval"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"day"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"format"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"yyyy-MM-dd"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-39">5. Bucket Aggregation + Metric Aggregationï¼ˆæ¡¶èšåˆ + æŒ‡æ ‡èšåˆï¼‰</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"aggs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"by_category"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"terms"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"category"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"aggs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"average_price"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"avg"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"price"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"max_price"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"max"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"price"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-40">6. Filter Aggregationï¼ˆè¿‡æ»¤èšåˆï¼‰</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"aggs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"active_products"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"filter"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"term"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"is_active"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"aggs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"avg_price"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"avg"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"price"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h3 data-id="heading-41">é«˜çº§åŠŸèƒ½</h3>
<h4 data-id="heading-42">1. Highlightï¼ˆé«˜äº®æ˜¾ç¤ºï¼‰</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"match"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è‹¹æœ"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"highlight"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"fields"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-43">2. Script Fieldsï¼ˆè„šæœ¬å­—æ®µï¼‰</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"match_all"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"script_fields"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"discount_price"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"script"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"source"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"doc['price'].value * 0.9"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-44">3. Source Filteringï¼ˆæºè¿‡æ»¤ï¼‰</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"match_all"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"_source"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"includes"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"name"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"price"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"excludes"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"description"</span><span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-45">4. Explainï¼ˆè§£é‡ŠæŸ¥è¯¢ï¼‰</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"match"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è‹¹æœ"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"explain"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-46">5. Profileï¼ˆæ€§èƒ½åˆ†æï¼‰</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"profile"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"match"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è‹¹æœ"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h3 data-id="heading-47">å®æˆ˜ç¤ºä¾‹</h3>
<h4 data-id="heading-48">ç¤ºä¾‹ 1: ç”µå•†å•†å“æœç´¢</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"bool"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"must"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"multi_match"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è‹¹æœ"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"fields"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"name^2"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"description"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"best_fields"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"filter"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"term"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"is_active"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"range"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
              <span class="hljs-attr">"gte"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1000</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"lte"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">15000</span>
            <span class="hljs-punctuation">}</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"aggs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"categories"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"terms"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"category"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"price_ranges"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"range"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"price"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"ranges"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
          <span class="hljs-punctuation">{</span> <span class="hljs-attr">"to"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2000</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"key"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½ä»·"</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
          <span class="hljs-punctuation">{</span> <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2000</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"to"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5000</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"key"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä¸­ä»·"</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
          <span class="hljs-punctuation">{</span> <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5000</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"key"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é«˜ä»·"</span> <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">]</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"sort"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"_score"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"order"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"desc"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">20</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"highlight"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"fields"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"pre_tags"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"&lt;em&gt;"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"post_tags"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"&lt;/em&gt;"</span><span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-49">ç¤ºä¾‹ 2: æ—¥å¿—åˆ†æ</h4>
<pre><code class="hljs language-json" lang="json">GET /logs/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"bool"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"must"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"range"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"@timestamp"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
              <span class="hljs-attr">"gte"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"now-24h"</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"lte"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"now"</span>
            <span class="hljs-punctuation">}</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"filter"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"term"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"level"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ERROR"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"aggs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"errors_by_service"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"terms"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"service_name"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">20</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"aggs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"error_types"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"terms"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"error_type"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"timeline"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"date_histogram"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"@timestamp"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"calendar_interval"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1h"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"sort"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"@timestamp"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"order"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"desc"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">100</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-50">ç¤ºä¾‹ 3: ç”¨æˆ·è¡Œä¸ºåˆ†æ</h4>
<pre><code class="hljs language-json" lang="json">GET /user_actions/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"bool"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"must"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"range"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"timestamp"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
              <span class="hljs-attr">"gte"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"now-7d/d"</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"lte"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"now/d"</span>
            <span class="hljs-punctuation">}</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"aggs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"daily_stats"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"date_histogram"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"timestamp"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"calendar_interval"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"day"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"aggs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"unique_users"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"cardinality"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"user_id"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"action_types"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"terms"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"action_type"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"top_users"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"terms"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"user_id"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"order"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"action_count"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"desc"</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"aggs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"action_count"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"value_count"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"_id"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-51">ç¤ºä¾‹ 4: å¤æ‚çš„å¤šæ¡ä»¶æŸ¥è¯¢</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"bool"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"must"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"bool"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"should"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
              <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"match"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ‰‹æœº"</span>
                <span class="hljs-punctuation">}</span>
              <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
              <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"match"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ‰‹æœº"</span>
                <span class="hljs-punctuation">}</span>
              <span class="hljs-punctuation">}</span>
            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"minimum_should_match"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"must_not"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"term"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é…ä»¶"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"should"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"range"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
              <span class="hljs-attr">"lte"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3000</span>
            <span class="hljs-punctuation">}</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"term"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"stock"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
              <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span>
            <span class="hljs-punctuation">}</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"filter"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"term"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"is_active"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"range"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"created_at"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
              <span class="hljs-attr">"gte"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"now-30d"</span>
            <span class="hljs-punctuation">}</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"aggs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"category_stats"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"terms"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"category"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"aggs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"price_stats"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"stats"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"price"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"stock_stats"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"stats"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"stock"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"sort"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"order"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"asc"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"_score"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"order"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"desc"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">20</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h3 data-id="heading-52">å¸¸ç”¨æ“ä½œç¬¦å’Œå‚æ•°</h3>
<h4 data-id="heading-53">æŸ¥è¯¢å‚æ•°</h4>





























<table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>from</code></td><td>èµ·å§‹ä½ç½®</td></tr><tr><td><code>size</code></td><td>è¿”å›æ•°é‡</td></tr><tr><td><code>timeout</code></td><td>è¶…æ—¶æ—¶é—´</td></tr><tr><td><code>track_total_hits</code></td><td>è·Ÿè¸ªæ€»å‘½ä¸­æ•°</td></tr><tr><td><code>request_cache</code></td><td>è¯·æ±‚ç¼“å­˜</td></tr></tbody></table>
<h4 data-id="heading-54">æ’åºå‚æ•°</h4>





















<table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>order</code></td><td>æ’åºæ–¹å‘ï¼ˆasc/descï¼‰</td></tr><tr><td><code>mode</code></td><td>æ’åºæ¨¡å¼ï¼ˆmin/max/sum/avg/medianï¼‰</td></tr><tr><td><code>missing</code></td><td>ç¼ºå¤±å€¼å¤„ç†ï¼ˆ_last/_firstï¼‰</td></tr></tbody></table>
<h4 data-id="heading-55">èšåˆå‚æ•°</h4>





















<table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>size</code></td><td>è¿”å›æ¡¶çš„æ•°é‡</td></tr><tr><td><code>order</code></td><td>æ’åºæ–¹å¼</td></tr><tr><td><code>min_doc_count</code></td><td>æœ€å°æ–‡æ¡£æ•°</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-56">æ€§èƒ½ä¼˜åŒ–å»ºè®®</h3>
<h4 data-id="heading-57">1. ä½¿ç”¨ filter è€Œé query</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// ä¸æ¨è</span>
GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"term"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"is_active"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>

<span class="hljs-comment">// æ¨è</span>
GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"bool"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"filter"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"term"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"is_active"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-58">2. é™åˆ¶è¿”å›å­—æ®µ</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"_source"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"name"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"price"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"match_all"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-59">3. ä½¿ç”¨ scroll å¤„ç†å¤§é‡æ•°æ®</h4>
<pre><code class="hljs language-json" lang="json">GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"scroll"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1m"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1000</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"match_all"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-60">4. é¿å…æ·±åº¦åˆ†é¡µ</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// ä½¿ç”¨ search_after ä»£æ›¿ from/size</span>
GET /products/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">100</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"match_all"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"sort"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"asc"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"search_after"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"last_document_id"</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h3 data-id="heading-61">æ€»ç»“</h3>
<p>Elasticsearch DSL çš„æ ¸å¿ƒè¦ç‚¹ï¼š</p>
<ol>
<li><strong>æŸ¥è¯¢ç±»å‹</strong>ï¼šmatchã€termã€rangeã€bool ç­‰</li>
<li><strong>å¤åˆæŸ¥è¯¢</strong>ï¼šbool æŸ¥è¯¢çš„ mustã€must_notã€shouldã€filter</li>
<li><strong>èšåˆåˆ†æ</strong>ï¼štermsã€statsã€rangeã€date_histogram ç­‰</li>
<li><strong>é«˜çº§åŠŸèƒ½</strong>ï¼šhighlightã€scriptã€explainã€profile</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šä½¿ç”¨ filterã€é™åˆ¶å­—æ®µã€é¿å…æ·±åº¦åˆ†é¡µ</li>
</ol>
<p>é€šè¿‡æœ¬æ•™ç¨‹ï¼Œä½ åº”è¯¥èƒ½å¤Ÿï¼š</p>
<ul>
<li>åˆ›å»ºå’Œç®¡ç†ç´¢å¼•</li>
<li>æ‰§è¡Œå„ç§ç±»å‹çš„æŸ¥è¯¢</li>
<li>è¿›è¡Œæ•°æ®èšåˆåˆ†æ</li>
<li>ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½</li>
</ul>
<p>ç»§ç»­å®è·µå’Œæ¢ç´¢ï¼Œä½ ä¼šå‘ç° Elasticsearch DSL çš„å¼ºå¤§ä¹‹å¤„ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘å†™è¿‡å¤æ‚çš„è·¨å¹³å°å¤§å‰ç«¯ï¼Œè¿‡èŠ‚å›å®¶äº²æˆšå±…ç„¶è®©æˆ‘æŠŠä»–é‚£å°æ—§æ‰‹æœºæ”¹æˆåªæœ‰å¾®ä¿¡çš„æœºå­]]></title>    <link>https://juejin.cn/post/7599690133117894690</link>    <guid>https://juejin.cn/post/7599690133117894690</guid>    <pubDate>2026-01-27T03:55:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599690133117894690" data-draft-id="7599703627788877864" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘å†™è¿‡å¤æ‚çš„è·¨å¹³å°å¤§å‰ç«¯ï¼Œè¿‡èŠ‚å›å®¶äº²æˆšå±…ç„¶è®©æˆ‘æŠŠä»–é‚£å°æ—§æ‰‹æœºæ”¹æˆåªæœ‰å¾®ä¿¡çš„æœºå­"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2026-01-27T03:55:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‹—å¤´å¤§å†›ä¹‹æ±Ÿè‹åˆ†å†›"/> <meta itemprop="url" content="https://juejin.cn/user/2955079655907879"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘å†™è¿‡å¤æ‚çš„è·¨å¹³å°å¤§å‰ç«¯ï¼Œè¿‡èŠ‚å›å®¶äº²æˆšå±…ç„¶è®©æˆ‘æŠŠä»–é‚£å°æ—§æ‰‹æœºæ”¹æˆåªæœ‰å¾®ä¿¡çš„æœºå­
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2955079655907879/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‹—å¤´å¤§å†›ä¹‹æ±Ÿè‹åˆ†å†›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T03:55:27.000Z" title="Tue Jan 27 2026 03:55:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¯´å®è¯ï¼Œæˆ‘ä¸€ç›´è§‰å¾—è‡ªå·±è¿˜ç®—ä¸ªè§è¿‡ä¸–é¢çš„äººã€‚æ¯•ç«Ÿåœ¨å…¬å¸è¿™å‡ å¹´ï¼Œä»€ä¹ˆæ²¡æŠ˜è…¾è¿‡ï¼ŸReact å†™åå°ï¼ŒFlutter æè·¨å¹³å°ï¼Œä¸€å¥—ä»£ç è¦è·‘åœ¨å¥½å‡ ä¸ªç«¯ä¸Šï¼ŒçŠ¶æ€ã€è·¯ç”±ã€æ€§èƒ½ã€å…¼å®¹ï¼Œå¤©å¤©éƒ½åœ¨è·Ÿè¿™äº›ä¸œè¥¿æ‰“äº¤é“ã€‚é¡¹ç›®å‡ºé—®é¢˜çš„æ—¶å€™ï¼Œå¤§å®¶ç¬¬ä¸€æ—¶é—´æ‰¾æˆ‘ï¼Œæˆ‘ä¹Ÿç¡®å®èƒ½é¡¶ä¸Šã€‚é‚£ç§æ„Ÿè§‰å¾ˆçœŸå®ï¼Œä½ ä¼šè§‰å¾—è‡ªå·±ä¸æ˜¯åœ¨æ•²é¡µé¢ï¼Œæ˜¯åœ¨æ’‘ä¸€ä¸ªç³»ç»Ÿã€‚ç›´åˆ°è¿‡å¹´å›å®¶ï¼Œæˆ‘æ‰å‘ç°ï¼Œè¿™äº›ä¸œè¥¿åœ¨è€å®¶åŸºæœ¬ç­‰äºæ²¡å‘ç”Ÿè¿‡ã€‚</p>
<p>å›å®¶ç¬¬ä¸€å¤©ï¼Œæˆ‘è¿˜æ²¡æ¥å¾—åŠä¼‘æ¯ï¼Œæˆ‘å¦ˆå°±æŠŠæˆ‘å«èµ·æ¥ï¼Œè¯´ä½ ä¸‰èˆ…æ‰‹æœºå¥—é¤å¤ªè´µäº†ï¼Œä½ å»çœ‹çœ‹ã€‚æˆ‘å¿ƒæƒ³è¿™è¿˜è¡Œï¼Œæ”¹å¥—é¤ã€å…³å¢å€¼ä¸šåŠ¡ï¼Œè¿™äº›å¹´ä¹Ÿç®—æ˜¯åŸºæœ¬åŠŸã€‚ç»“æœåˆšå¼„å®Œï¼Œä¸‰èˆ…ä¸€è„¸æ»¡æ„ï¼Œé¡ºå˜´æ¥ä¸€å¥ï¼šâ€œä½ ä¸æ˜¯æç”µè„‘çš„å—ï¼Ÿæ­£å¥½ï¼Œæ’æ’åäº†ä½ ä¹Ÿçœ‹çœ‹ã€‚â€æˆ‘è¹²åœ°ä¸ŠæŠŠæ’æ’æ‹†äº†ï¼Œé‡æ–°æ¥äº†ä¸‹çº¿ï¼Œå±…ç„¶è¿˜èƒ½ç”¨ã€‚é‚£ä¸€åˆ»æˆ‘å°±çŸ¥é“ï¼Œå®Œäº†ï¼Œå®šä½å·²ç»å˜äº†ã€‚</p>
<p>æ¥ä¸‹æ¥å‡ å¤©äº‹æƒ…å¼€å§‹è¶Šæ¥è¶Šç¦»è°±ã€‚å…ˆæ˜¯å¸®äº²æˆšè°ƒç”µè§†ä¿¡å·ã€åˆ æ‰‹æœºé‡Œçš„åƒåœ¾ Appï¼Œåæ¥è¿è½¦å­ä¸­æ§ä¸äº®éƒ½æœ‰äººå–Šæˆ‘è¿‡å»çœ‹ä¸€çœ¼ã€‚æœ€ç»å…¸çš„ä¸€å¹•æ˜¯äºŒå§¨çˆ¶ç«™åœ¨è½¦æ—è¾¹è·Ÿæˆ‘è¯´ï¼šâ€œä½ ä»¬å¤©å¤©å¯¹ç€å±å¹•ï¼Œè¿™ä¸ªå±å¹•ä¸ä¹Ÿæ˜¯å±å¹•å—ï¼Ÿâ€æˆ‘å¼ äº†å¼ å˜´ï¼Œå‘ç°â€œå‰ç«¯å·¥ç¨‹å¸ˆâ€å’Œâ€œä¿®è½¦å±å¹•â€ä¹‹é—´é‚£ä¸€æ•´å¥—è§£é‡Šï¼Œåœ¨é‚£ä¸ªåœºæ™¯é‡Œæ¯«æ— æ„ä¹‰ã€‚</p>
<p>çœŸæ­£æŠŠæˆ‘æ•´ä¸ä¼šçš„ï¼Œæ˜¯æœ‰ä¸ªäº²æˆšæŠŠä¸€å°æ—§å®‰å“æœºå¡åˆ°æˆ‘æ‰‹é‡Œï¼Œè¯´æƒ³è®©æˆ‘â€œæ”¹ä¸€ä¸‹ç³»ç»Ÿâ€ã€‚ä»–çš„éœ€æ±‚éå¸¸æ˜ç¡®ï¼šè¿™æ‰‹æœºä»¥ååªèƒ½ç”¨å¾®ä¿¡ï¼Œå¼€æœºå°±æ˜¯å¾®ä¿¡ï¼Œåˆ«çš„ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œè®¾ç½®æœ€å¥½ä¹Ÿè¿›ä¸å»ï¼Œè€äººåªè´Ÿè´£ç‚¹å¼€èŠå¤©å’Œå‘è¯­éŸ³å°±è¡Œã€‚æˆ‘å½“æ—¶è„‘å­é‡Œè¿‡äº†ä¸€éï¼šrootã€åˆ·æœºã€å®šåˆ¶ ROMã€è®¾å¤‡ç®¡ç†ã€æ¡Œé¢é”å®šâ€¦â€¦è¿™äº›ä¸œè¥¿ä¸æ˜¯ä¸èƒ½åšï¼Œæ˜¯æ ¹æœ¬ä¸è¯¥æˆ‘åšã€‚æˆ‘å†™çš„æ˜¯å‰ç«¯ï¼Œä¸æ˜¯æ‰‹æœºæ“ä½œç³»ç»Ÿã€‚</p>
<p>æˆ‘è¯•ç€è·Ÿä»–è§£é‡Šï¼Œè¯´æˆ‘åœ¨å…¬å¸å†™çš„æ˜¯åº”ç”¨å±‚ï¼Œæ˜¯ Reactã€Flutter è¿™ç§ï¼Œä¸æ˜¯ç³»ç»Ÿåº•å±‚ã€‚ä»–å¬å®Œç‚¹ç‚¹å¤´ï¼Œç„¶åå›æˆ‘ä¸€å¥ï¼šâ€œåæ­£ä½ æ˜¯æè¿™äº›çš„ï¼Œåº”è¯¥å·®ä¸å¤šå§ã€‚â€é‚£ä¸€åˆ»æˆ‘çªç„¶æ˜ç™½äº†ï¼Œåœ¨ä»–ä»¬çœ¼é‡Œï¼ŒæŠ€æœ¯ä¸æ˜¯åˆ†å±‚çš„ï¼Œä¹Ÿæ²¡æœ‰è¾¹ç•Œã€‚ä¼šå†™ä»£ç çš„äººï¼Œå°±ç†åº”èƒ½è§£å†³æ‰€æœ‰â€œä¼šäº®ã€ä¼šåŠ¨ã€ä¼šå¡â€çš„ä¸œè¥¿ã€‚æœ€åæˆ‘åªèƒ½æŠ˜ä¸­ï¼ŒæŠŠæ‰‹æœºæ¸…å¹²å‡€ï¼Œåªç•™å¾®ä¿¡ï¼Œå¼€ç®€å•æ¨¡å¼ï¼Œå…³æ‰é€šçŸ¥å’Œå…¥å£ï¼Œçœ‹èµ·æ¥åƒé‚£ä¹ˆå›äº‹ã€‚äº²æˆšå¾ˆæ»¡æ„ï¼Œæˆ‘å´ç¬¬ä¸€æ¬¡åœ¨è¿‡å¹´è¿™ä»¶äº‹ä¸Šï¼Œæ„Ÿå—åˆ°ä¸€ç§éå¸¸å…·ä½“çš„èŒä¸šé”™ä½ã€‚</p>
<p>åæ¥æˆ‘æƒ³é€šäº†ï¼Œå…¶å®ä¸æ˜¯ä»–ä»¬ç¦»è°±ï¼Œæ˜¯æˆ‘ä»¬æ´»åœ¨å®Œå…¨ä¸åŒçš„ä¸–ç•Œé‡Œã€‚æˆ‘åœ¨å…¬å¸è§£å†³çš„æ˜¯ç³»ç»Ÿå¤æ‚åº¦ï¼Œä»–ä»¬åœ¨ç”Ÿæ´»é‡Œè¦è§£å†³çš„æ˜¯â€œåˆ«ç‚¹é”™â€ã€‚æˆ‘å†™è·¨å¹³å°å¤§å‰ç«¯ï¼Œæ˜¯ä¸ºäº†æ•ˆç‡å’Œå¤ç”¨ï¼›ä»–ä»¬è®©æˆ‘æŠŠæ‰‹æœºå˜æˆå¾®ä¿¡æœºï¼Œæ˜¯ä¸ºäº†å®‰å¿ƒã€‚ä½ è¯´å“ªä¸ªéœ€æ±‚æ›´çœŸå®ï¼Ÿå¯èƒ½éƒ½å¾ˆçœŸå®ã€‚åªæ˜¯æ¯å¹´ä¸€å›å®¶ï¼Œè¿™ç§é”™ä½éƒ½ä¼šæé†’æˆ‘ä¸€ä»¶äº‹ï¼šä¸ç®¡ä½ åœ¨å¤–é¢å†™è¿‡å¤šå¤æ‚çš„ä»£ç ï¼Œå›åˆ°å®¶ï¼Œä½ ä¾ç„¶åªæ˜¯é‚£ä¸ªâ€œä¼šææ‰‹æœºçš„å¹´è½»äººâ€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[9.BTC-æ¯”ç‰¹å¸è„šæœ¬-åŒ—å¤§è‚–è‡»è€å¸ˆå®¢å ‚ç¬”è®°]]></title>    <link>https://juejin.cn/post/7599604510366302246</link>    <guid>https://juejin.cn/post/7599604510366302246</guid>    <pubDate>2026-01-27T04:00:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599604510366302246" data-draft-id="7599614131423117321" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="9.BTC-æ¯”ç‰¹å¸è„šæœ¬-åŒ—å¤§è‚–è‡»è€å¸ˆå®¢å ‚ç¬”è®°"/> <meta itemprop="keywords" content="å‰ç«¯,åŒºå—é“¾"/> <meta itemprop="datePublished" content="2026-01-27T04:00:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯æ¶‚æ¶‚"/> <meta itemprop="url" content="https://juejin.cn/user/3740972207312249"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            9.BTC-æ¯”ç‰¹å¸è„šæœ¬-åŒ—å¤§è‚–è‡»è€å¸ˆå®¢å ‚ç¬”è®°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3740972207312249/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯æ¶‚æ¶‚
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T04:00:29.000Z" title="Tue Jan 27 2026 04:00:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åŒ—äº¬å¤§å­¦è‚–è‡»è€å¸ˆã€ŠåŒºå—é“¾æŠ€æœ¯ä¸åº”ç”¨ã€‹å…¬å¼€è¯¾ç¬¬ 9 è®²çš„ä¸»é¢˜æ˜¯**â€œæ¯”ç‰¹å¸çš„è„šæœ¬â€**ã€‚æœ¬è¯¾æ·±å…¥æ¢è®¨äº†æ¯”ç‰¹å¸äº¤æ˜“çš„åº•å±‚ç»“æ„ã€è¾“å…¥è¾“å‡ºçš„å…³è”ä»¥åŠè„šæœ¬æ‰§è¡Œçš„é€»è¾‘ã€‚</p>
<p>ä»¥ä¸‹æ˜¯æ ¹æ®è§†é¢‘å†…å®¹åŠä½ æä¾›çš„å›¾ç‰‡è¿›è¡Œçš„è¯¦ç»†æ€»ç»“ï¼š</p>
<h3 data-id="heading-0">ä¸€ã€ æ¯”ç‰¹å¸äº¤æ˜“çš„å®è§‚ç»“æ„</h3>
<p>æ¯”ç‰¹å¸çš„äº¤æ˜“å¹¶éç®€å•çš„â€œ A è½¬è´¦ç»™ B â€ï¼Œè€Œæ˜¯ä¸€ä¸ªåŒ…å«å¤šä¸ªå­—æ®µçš„å¤æ‚ JSON å¯¹è±¡ã€‚</p>
<ul>
<li><strong>åŸºç¡€å…ƒæ•°æ®</strong>ï¼šåŒ…æ‹¬äº¤æ˜“ ID (<code>txid</code>)ã€ç‰ˆæœ¬å·ã€å¤§å° (<code>size</code>) å’Œé”å®šæ—¶é—´ (<code>locktime</code>)ã€‚</li>
<li><strong>ç¡®è®¤æ•° (<code>confirmations</code>)</strong>ï¼šè¡¨ç¤ºè¯¥äº¤æ˜“æ‰€åœ¨åŒºå—ä¹‹åå·²ç»äº§ç”Ÿäº†å¤šå°‘ä¸ªåŒºå—ï¼Œç¡®è®¤æ•°è¶Šå¤šï¼Œäº¤æ˜“è¶Šä¸å¯ç¯¡æ”¹ã€‚</li>
<li><strong>è¾“å…¥ (<code>vin</code>) ä¸è¾“å‡º (<code>vout</code>)</strong>ï¼šè¿™æ˜¯äº¤æ˜“çš„æ ¸å¿ƒï¼Œæ¯ä¸€ç¬”äº¤æ˜“éƒ½æ˜¯å°†ä¹‹å‰çš„è¾“å‡ºä½œä¸ºç°åœ¨çš„è¾“å…¥ï¼Œå¹¶äº§ç”Ÿæ–°çš„è¾“å‡ºã€‚</li>
</ul>
<h3 data-id="heading-1">äºŒã€ äº¤æ˜“çš„è¾“å…¥ä¸è¾“å‡ºç»†èŠ‚</h3>
<p>æ¯”ç‰¹å¸é€šè¿‡è„šæœ¬ç³»ç»Ÿå®ç°äº†èµ„é‡‘çš„è½¬ç§»å’Œé”å®šã€‚</p>
<h4 data-id="heading-2">1. äº¤æ˜“è¾“å…¥ (<code>vin</code>)</h4>
<ul>
<li><strong>å¼•ç”¨æ¥æº</strong>ï¼šæ¯ä¸ªè¾“å…¥å¿…é¡»æŒ‡æ˜èµ„é‡‘æ¥æºï¼Œå³å‰ä¸€ç¬”äº¤æ˜“çš„ ID (<code>txid</code>) å’Œå¯¹åº”çš„è¾“å‡ºç´¢å¼• (<code>vout</code>)ã€‚</li>
<li><strong>è§£é”è„šæœ¬ (<code>scriptSig</code>)</strong>ï¼šåŒ…å«å‘é€è€…çš„æ•°å­—ç­¾åå’Œå…¬é’¥ï¼Œç”¨äºè¯æ˜å¯¹è¿™ç¬”èµ„é‡‘çš„æ‰€æœ‰æƒã€‚</li>
</ul>
<h4 data-id="heading-3">2. äº¤æ˜“è¾“å‡º (<code>vout</code>)</h4>
<ul>
<li><strong>é‡‘é¢ (<code>value</code>)</strong>ï¼šè¯¥è¾“å‡ºå¯¹åº”çš„æ¯”ç‰¹å¸æ•°é‡ã€‚</li>
<li><strong>é”å®šè„šæœ¬ (<code>scriptPubKey</code>)</strong>ï¼šå®šä¹‰äº†èŠ±è´¹è¿™ç¬”é’±çš„æ¡ä»¶ï¼Œé€šå¸¸è¦æ±‚æä¾›èƒ½ä¸ç‰¹å®šå…¬é’¥å“ˆå¸ŒåŒ¹é…çš„ç­¾åã€‚</li>
<li><strong>åœ°å€ (<code>addresses</code>)</strong>ï¼šè™½ç„¶ä»£ç ä¸­æ˜¾ç¤ºä¸ºåœ°å€ï¼Œä½†æœ¬è´¨ä¸Šæ˜¯å…¬é’¥å“ˆå¸Œçš„ Base58 ç¼–ç ã€‚</li>
</ul>
<h3 data-id="heading-4">ä¸‰ã€ è„šæœ¬æ‰§è¡Œé€»è¾‘ï¼šP2PKH</h3>
<p>æ¯”ç‰¹å¸æœ€å¸¸è§çš„äº¤æ˜“ç±»å‹æ˜¯ <strong>P2PKH</strong> (Pay-to-Pubkey-Hash)ã€‚å…¶éªŒè¯è¿‡ç¨‹æ˜¯å°†å½“å‰äº¤æ˜“çš„ <code>scriptSig</code> å’Œå‰ä¸€ç¬”äº¤æ˜“çš„ <code>scriptPubKey</code> æ‹¼æ¥åœ¨ä¸€èµ·æ‰§è¡Œã€‚</p>
<p><strong>æ‰§è¡Œæ­¥éª¤å¦‚ä¸‹ï¼ˆåŸºäºæ ˆçš„æ“ä½œï¼‰ï¼š</strong></p>
<ol>
<li><strong>PUSHDATA(Sig)</strong>ï¼šå°†ç­¾åå‹å…¥æ ˆã€‚</li>
<li><strong>PUSHDATA(PubKey)</strong>ï¼šå°†å…¬é’¥å‹å…¥æ ˆã€‚</li>
<li><strong>DUP</strong>ï¼šå¤åˆ¶æ ˆé¡¶çš„å…¬é’¥ã€‚</li>
<li><strong>HASH160</strong>ï¼šå°†æ ˆé¡¶å…¬é’¥è¿›è¡Œå“ˆå¸Œå¤„ç†ã€‚</li>
<li><strong>PUSHDATA(PubKeyHash)</strong>ï¼šå°†é¢„æœŸçš„å…¬é’¥å“ˆå¸Œï¼ˆæ¥è‡ªé”å®šè„šæœ¬ï¼‰å‹å…¥æ ˆã€‚</li>
<li><strong>EQUALVERIFY</strong>ï¼šæ¯”è¾ƒä¸¤ä¸ªå“ˆå¸Œå€¼æ˜¯å¦ä¸€è‡´ã€‚å¦‚æœä¸ä¸€è‡´ï¼Œè„šæœ¬æ‰§è¡Œå¤±è´¥ã€‚</li>
<li><strong>CHECKSIG</strong>ï¼šåˆ©ç”¨æ ˆä¸­çš„å…¬é’¥éªŒè¯ç­¾åçš„æœ‰æ•ˆæ€§ã€‚å¦‚æœéªŒè¯é€šè¿‡ï¼Œè¿”å› <strong>TRUE</strong>ï¼Œäº¤æ˜“åˆæ³•ã€‚</li>
</ol>
<h3 data-id="heading-5">å››ã€ å…¨èŠ‚ç‚¹åœ¨è„šæœ¬ç³»ç»Ÿä¸­çš„è§’è‰²</h3>
<p>å…¨èŠ‚ç‚¹æ˜¯è„šæœ¬æ‰§è¡Œçš„å®é™…æ“ä½œè€…ï¼š</p>
<ul>
<li><strong>éªŒè¯åˆæ³•æ€§</strong>ï¼šå…¨èŠ‚ç‚¹é€šè¿‡æ‰§è¡Œä¸Šè¿°è„šæœ¬ï¼ŒéªŒè¯ç½‘ç»œä¸Šæ¯ä¸€ç¬”äº¤æ˜“çš„è¾“å…¥æ˜¯å¦çœŸå®å¼•ç”¨äº†æœ‰æ•ˆçš„ UTXOï¼Œä»¥åŠç­¾åæ˜¯å¦æ­£ç¡®ã€‚</li>
<li><strong>ç»´æŠ¤ UTXO é›†åˆ</strong>ï¼šä¸ºäº†æé«˜éªŒè¯æ•ˆç‡ï¼Œå…¨èŠ‚ç‚¹åœ¨<strong>å†…å­˜</strong>ä¸­ç»´æŠ¤ UTXO é›†åˆï¼Œè¿™æ ·åœ¨æ”¶åˆ°æ–°äº¤æ˜“æ—¶ï¼Œæ— éœ€æ‰«ææ•´ä¸ªç¡¬ç›˜è´¦æœ¬å³å¯ç¡®è®¤èµ„é‡‘æ˜¯å¦å·²è¢«èŠ±è´¹ã€‚</li>
<li><strong>å†³å®šæ‰“åŒ…é€»è¾‘</strong>ï¼šå…¨èŠ‚ç‚¹åœ¨éªŒè¯è„šæœ¬é€šè¿‡åï¼Œæ‰ä¼šå°†äº¤æ˜“æ”¾å…¥äº¤æ˜“æ± ï¼Œå¹¶å†³å®šæ˜¯å¦å°†å…¶æ‰“åŒ…è¿›ä¸‹ä¸€ä¸ªåŒºå—ã€‚</li>
</ul>
<h3 data-id="heading-6">äº”ã€ æ ¸å¿ƒåè¯æ€»ç»“</h3>
<ul>
<li><strong>ScriptSig</strong>ï¼šè§£é”è„šæœ¬ï¼Œè¯æ˜â€œæˆ‘æœ‰æƒèŠ±è¿™ç¬”é’±â€ã€‚</li>
<li><strong>ScriptPubKey</strong>ï¼šé”å®šè„šæœ¬ï¼Œè§„å®šâ€œè°èƒ½èŠ±è¿™ç¬”é’±â€ã€‚</li>
<li><strong>Stack-based Language</strong>ï¼šæ¯”ç‰¹å¸è„šæœ¬æ˜¯ä¸€ç§ç®€å•çš„ã€éå›¾çµå®Œå¤‡çš„ã€åŸºäºæ ˆçš„ç¼–ç¨‹è¯­è¨€ï¼Œè¿™ç§è®¾è®¡æ˜¯ä¸ºäº†å®‰å…¨ï¼Œé˜²æ­¢æ­»å¾ªç¯æ”»å‡»ã€‚</li>
<li><strong>UTXO (Unspent Transaction Output)</strong>ï¼šå°šæœªè¢«èŠ±è´¹çš„äº¤æ˜“è¾“å‡ºï¼Œæ˜¯æ¯”ç‰¹å¸è´¦æœ¬çš„åŸºæœ¬ç»„æˆå•ä½ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b7d48066f8f44a5ab67db857f41b907~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5raC5raC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770091232&amp;x-signature=N3BE5%2F9ROTTeJ9QUM0jVnCed76c%3D" alt="9.BTC-æ¯”ç‰¹å¸è„šæœ¬.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿ç»´ç”Ÿå­˜æŒ‡å—ï¼šLinuxæ–‡æœ¬å¤„ç†å››å‰‘å®¢å®æˆ˜å¿ƒæ³•]]></title>    <link>https://juejin.cn/post/7599690133117927458</link>    <guid>https://juejin.cn/post/7599690133117927458</guid>    <pubDate>2026-01-27T04:01:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599690133117927458" data-draft-id="7599703627788795944" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿ç»´ç”Ÿå­˜æŒ‡å—ï¼šLinuxæ–‡æœ¬å¤„ç†å››å‰‘å®¢å®æˆ˜å¿ƒæ³•"/> <meta itemprop="keywords" content="è¿ç»´,è‡ªåŠ¨åŒ–è¿ç»´"/> <meta itemprop="datePublished" content="2026-01-27T04:01:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="lihouyi"/> <meta itemprop="url" content="https://juejin.cn/user/4365493763322599"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿ç»´ç”Ÿå­˜æŒ‡å—ï¼šLinuxæ–‡æœ¬å¤„ç†å››å‰‘å®¢å®æˆ˜å¿ƒæ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4365493763322599/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    lihouyi
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T04:01:41.000Z" title="Tue Jan 27 2026 04:01:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Linuxå››å‰‘å®¢å¿ƒæ³•</h2>
<h3 data-id="heading-1">å‰è¨€ï¼šä¸ºä»€ä¹ˆè¦å­¦è¿™äº›â€œè€å¤è‘£â€ï¼Ÿ</h3>
<blockquote>
<p><strong>è¿™ä¸æ˜¯ä¸€ç¯‡è®©ä½ æ­»è®°ç¡¬èƒŒå‚æ•°çš„æ‰‹å†Œ</strong>ï¼Œè¿™æ˜¯ä¸€ä»½å¸®ä½ æ‘†è„± GUI ä¾èµ–ï¼Œåœ¨é»‘æ¼†æ¼†çš„ç»ˆç«¯é‡Œä¹Ÿèƒ½è¿æŒ‡å¦‚é£çš„ç”Ÿå­˜æŒ‡å—</p>
</blockquote>
<p>åœ¨ Linux ä¹Ÿå°±æ˜¯æœåŠ¡å™¨çš„ä¸–ç•Œé‡Œï¼Œæˆ‘ä»¬æ²¡æœ‰ Excelï¼Œæ²¡æœ‰ VS Codeã€‚å½“ä½ é¢å¯¹ä¸€ä¸ª 2GB çš„æ—¥å¿—æ–‡ä»¶ï¼Œè€æ¿é—®ä½ â€œæ˜¨å¤©é‚£ä¸ª Bug åˆ°åº•è§¦å‘äº†å‡ æ¬¡ï¼Ÿâ€æ—¶ï¼Œç†Ÿç»ƒæŒæ¡å››å‰‘å®¢ï¼Œä½ èƒ½ 3 ç§’å‡ºç»“æœï¼›å¦åˆ™ï¼Œä½ åªèƒ½æŠŠæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°æŠŠè‡ªå·±ç”µè„‘å¡æ­»</p>
<p>æˆ‘ä»¬å°†é€šè¿‡è¿™å››ä¸ªå·¥å…·ï¼Œè§£å†³å¼€å‘è¿ç»´æœ€çœŸå®çš„ç—›ç‚¹ï¼š</p>






























<table><thead><tr><th align="left">å‘½ä»¤</th><th align="left">æ ¸å¿ƒç‰¹ç‚¹</th><th align="left">å…¸å‹åº”ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td align="left">find</td><td align="left">å”¯ä¸€ç›´æ¥æ“ä½œæ–‡ä»¶ç³»ç»Ÿ inode</td><td align="left">åœ¨ç³»ç»Ÿä¸­æŸ¥æ‰¾æ–‡ä»¶ï¼Œç»“åˆ<code>-exec</code>æ‰¹é‡å¤„ç†</td></tr><tr><td align="left">grep</td><td align="left">é€Ÿåº¦å¿«ï¼Œæ“…é•¿æ­£åˆ™æœç´¢</td><td align="left">ä»æµ·é‡æ—¥å¿—ä¸­æŸ¥æ‰¾æŠ¥é”™ä¿¡æ¯ã€å…³é”®å­—</td></tr><tr><td align="left">sed</td><td align="left">æµå¼éäº¤äº’ç¼–è¾‘</td><td align="left">ä¿®æ”¹é…ç½®æ–‡ä»¶ã€æ–‡æœ¬å†…å®¹çš„å¢åˆ æ”¹æŸ¥</td></tr><tr><td align="left">awk</td><td align="left">ç¼–ç¨‹è¯­è¨€ï¼Œæ“…é•¿åˆ—å¤„ç†</td><td align="left">æ ¼å¼åŒ–æŠ¥è¡¨ã€ç»Ÿè®¡è®¡ç®—ã€é€»è¾‘åˆ¤æ–­</td></tr></tbody></table>
<h3 data-id="heading-2">åŸºæœ¬åŠŸï¼šé¿å¼€é‚£äº› Shell çš„å‘</h3>
<h4 data-id="heading-3">å¼•å·</h4>
<p>ä½¿ç”¨å››å‰‘å®¢å‘½ä»¤æ—¶ï¼ˆç‰¹åˆ«æ˜¯å†™åœ¨è„šæœ¬ä¸­ï¼‰ï¼Œé™¤éæ¶‰åŠ Shell å˜é‡æ‰©å±•ï¼ˆéœ€è¦<code>$VAR</code>ï¼‰ï¼Œå¦åˆ™è¯·**ä¸€å¾‹ä½¿ç”¨å•å¼•å·<code>''</code>**åŒ…è£¹å¤„ç†é€»è¾‘</p>
<blockquote>
<p>è¯´äººè¯å°±æ˜¯ï¼šåˆ«ç»™è‡ªå·±æ‰¾éº»çƒ¦ï¼Œ**æ°¸è¿œä¼˜å…ˆç”¨å•å¼•å· **ã€‚åªæœ‰æ˜ç¡®çŸ¥é“éœ€è¦ Shell å¸®ä½ æŠŠå˜é‡æ¢æˆå€¼çš„æ—¶å€™ï¼Œå†ç”¨åŒå¼•å·</p>
</blockquote>





















<table><thead><tr><th>å¼•å·</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>å•å¼•å·</td><td>æ‰€è§å³æ‰€å¾—ï¼Œå•å¼•å·é‡Œé¢å†…å®¹åŸå°ä¸åŠ¨è¾“å‡ºï¼Œä¸è¿›è¡Œä»»ä½•è§£æ</td></tr><tr><td>åŒå¼•å·</td><td>å¼±å¼•ç”¨ï¼Œå…è®¸è¿›è¡Œ<strong>å˜é‡æ›¿æ¢</strong>å’Œ<strong>è½¬ä¹‰å¤„ç†</strong> ï¼Œä½†ä¸ä¼šæ‰§è¡Œå‘½ä»¤æ›¿æ¢ï¼Œä¸è§£æ{}å’Œé€šé…ç¬¦</td></tr><tr><td>åå¼•å·</td><td><strong>ä¼˜å…ˆæ‰§è¡Œ</strong>ï¼Œå…ˆæ‰§è¡Œåå¼•å·é‡Œé¢çš„å‘½ä»¤ï¼Œä¼šè¿›è¡Œ<strong>å‘½ä»¤æ›¿æ¢</strong></td></tr></tbody></table>
<h4 data-id="heading-4">é‡å®šå‘</h4>
<blockquote>
<p>Unix/Linuxä¸­ï¼Œè¿›ç¨‹å¯åŠ¨æ—¶è‡ªå¸¦ä¸‰ä¸ªé€šé“ï¼š<code>stdin(0)</code>ã€<code>stdout(1)</code>ã€<code>stderr(2)</code></p>
</blockquote>


















































<table><thead><tr><th align="left">ç¬¦å·</th><th align="left">æè¿°</th><th align="left">å…¸å‹ç”¨æ³•</th></tr></thead><tbody><tr><td align="left"><code>&gt;</code> æˆ– <code>1&gt;</code></td><td align="left">æ ‡å‡†è¾“å‡ºè¦†ç›–</td><td align="left"><code>echo "ok" &gt; status.txt</code></td></tr><tr><td align="left"><code>&gt;&gt;</code> æˆ– <code>1&gt;&gt;</code></td><td align="left">æ ‡å‡†è¾“å‡ºè¿½åŠ </td><td align="left"><code>echo "log entry" &gt;&gt; app.log</code></td></tr><tr><td align="left"><code>2&gt;</code></td><td align="left">æ ‡å‡†é”™è¯¯è¦†ç›–</td><td align="left"><code>ls non_exist_file 2&gt; error.log</code></td></tr><tr><td align="left"><code>2&gt;&gt;</code></td><td align="left">æ ‡å‡†é”™è¯¯è¿½åŠ </td><td align="left"><code>ls non_exist_file 2&gt;&gt; error.log</code></td></tr><tr><td align="left"><code>2&gt;&amp;1</code></td><td align="left">é”™è¯¯é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡º</td><td align="left"><code>command &gt; all.log 2&gt;&amp;1</code></td></tr><tr><td align="left"><code>&amp;&gt;</code></td><td align="left">æ··åˆè¾“å‡ºï¼ˆBashç‰¹æœ‰ï¼‰</td><td align="left"><code>command &amp;&gt; all.log</code>ï¼ˆç­‰åŒäºä¸Šä¸€è¡Œï¼‰</td></tr><tr><td align="left"><code>&lt;</code></td><td align="left">æ ‡å‡†è¾“å…¥é‡å®šå‘</td><td align="left"><code>xargs &lt; file_list.txt</code></td></tr><tr><td align="left"><code>&lt;&lt;</code></td><td align="left">Here Document</td><td align="left">ç”¨äºè„šæœ¬ä¸­å†…è”å¤šè¡Œè¾“å…¥</td></tr></tbody></table>
<blockquote>
<p><strong><code>&amp;</code> çš„ä½œç”¨å°±æ˜¯â€œå¼•ç”¨æ–‡ä»¶æè¿°ç¬¦â€</strong>ï¼Œè€Œä¸æ˜¯å½“ä½œæ™®é€šæ–‡ä»¶å</p>
</blockquote>
<p>å¸¸è§ä½¿ç”¨</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸¢å¼ƒ stdoutï¼ˆåªçœ‹æŠ¥é”™ï¼‰</span>
ping example.com &gt; /dev/null

<span class="hljs-comment"># ä¸¢å¼ƒ stderrï¼ˆå±è”½æŠ¥é”™ï¼‰</span>
<span class="hljs-built_in">rm</span> invalid_file 2&gt; /dev/null

<span class="hljs-comment"># ä¸¢å¼ƒæ‰€æœ‰è¾“å‡ºï¼ˆä¸–ç•Œæ¸…é™äº†ï¼‰</span>
<span class="hljs-built_in">command</span> &gt; /dev/null 2&gt;&amp;1

<span class="hljs-comment"># æ—¢è¾“å‡ºåˆ°å±å¹•ï¼Œåˆå†™å…¥æ–‡ä»¶</span>
<span class="hljs-built_in">command</span> 2&gt;&amp;1 | <span class="hljs-built_in">tee</span> -a file.log
</code></pre>
<h4 data-id="heading-5">é€šé…ç¬¦</h4>
<p>ç”¨äºç»™ Linux ä¸­å¤§éƒ¨åˆ†å‘½ä»¤ä½¿ç”¨ï¼Œç”¨äºæ‰¹é‡æ‰¾æ–‡ä»¶åï¼ˆæ‰¾æ–‡ä»¶ï¼‰</p>



































<table><thead><tr><th>ç¬¦å·</th><th>å«ä¹‰</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>*</code></td><td>åŒ¹é…ä»»æ„é•¿åº¦å­—ç¬¦</td><td><code>*.log</code>ï¼ˆæ‰€æœ‰ log æ–‡ä»¶ï¼‰</td></tr><tr><td><code>?</code></td><td>åŒ¹é…ä»»æ„<strong>ä¸€ä¸ª</strong>å­—ç¬¦</td><td><code>file?.txt</code>ï¼ˆåŒ¹é… file1.txtï¼‰</td></tr><tr><td><code>{}</code></td><td>è¾“å‡ºåºåˆ—ï¼Œé€šå¸¸ä¸echoã€touchã€mkdiré…åˆä½¿ç”¨</td><td><code>mkdir /data/{log,conf}</code>ï¼ˆåˆ›å»ºä¸¤ä¸ªç›®å½•ï¼‰</td></tr><tr><td><code>[]</code></td><td>åŒæ­£åˆ™ç”¨æ³•ï¼ŒåŒ¹é…æ‹¬å·å†…çš„ä»»ä¸€å­—ç¬¦</td><td><code>file[123].txt</code></td></tr><tr><td><code>[!]</code>ã€<code>[^]</code></td><td>å–å</td><td/></tr></tbody></table>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¾“å‡ºç­‰å®½çš„æ•°å­—åºåˆ— 01 02 03 10 Â  001 002 ... 100</span>
<span class="hljs-built_in">echo</span> {01..10}
<span class="hljs-built_in">echo</span> {01..100}

<span class="hljs-comment"># è¾“å‡º1 3 5 7 9</span>
<span class="hljs-built_in">echo</span> {1..10..2}

<span class="hljs-comment"># A AC AB</span>
<span class="hljs-built_in">echo</span> A{,C,B}

<span class="hljs-comment"># æ‰¾å‡º/binç›®å½•ä¸‹é¢å‘½ä»¤,å‘½ä»¤ä»…æœ‰2ä¸ªå­—ç¬¦ç»„æˆ</span>
<span class="hljs-built_in">ls</span> -l /bin/??
</code></pre>
<h4 data-id="heading-6">Xargs çš„å‰ä¸–ä»Šç”Ÿ</h4>
<p>ä½ æ˜¯å¦ç–‘æƒ‘è¿‡ï¼š**ä¸ºä»€ä¹ˆè¦ç”¨ xargsï¼Ÿ**æƒ³è±¡ä¸€ä¸‹ç®¡é“<code>|</code>æ˜¯ä¸€æ ¹æ°´ç®¡ï¼Œæµè¿‡æ¥çš„æ˜¯â€œæ°´â€ï¼ˆæ–‡æœ¬æµï¼‰ã€‚ä½†æ˜¯ rmã€mv è¿™äº›å‘½ä»¤ï¼Œå®ƒä»¬ä¸å–æ°´ï¼Œå®ƒä»¬è¦çš„æ˜¯â€œç“¶è£…æ°´â€ï¼ˆä¸€ä¸ªä¸ªå‚æ•°ï¼‰</p>
<p><strong>Xargs å°±æ˜¯é‚£ä¸ªæŠŠæ°´è£…è¿›ç“¶å­é‡Œçš„é€‚é…å™¨</strong></p>
<ul>
<li>âŒ é”™è¯¯ï¼š<code>find . -name "*.log" | rm</code>ï¼ˆrm ä¸è¯»æ°´ç®¡é‡Œçš„å­—ï¼‰</li>
<li>âœ… æ­£ç¡®ï¼š<code>find . -name "*.log" | xargs rm</code>ï¼ˆxargs æŠŠå­—å–‚åˆ° rm çš„å‚æ•°ä½ï¼‰</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">[è¾“å…¥æº] | xargs [é€‰é¡¹] [ç›®æ ‡å‘½ä»¤] [ç›®æ ‡å‘½ä»¤çš„é€‰é¡¹]
</code></pre>

































<table><thead><tr><th>å¸¸ç”¨é€‰é¡¹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>-n&lt;æ•°å­—&gt;</code></td><td>æŒ‡å®šæ¯æ¬¡ä¼ é€’çš„å‚æ•°ä¸ªæ•°</td></tr><tr><td>-I å ä½ç¬¦</td><td>å®šä¹‰å ä½ç¬¦ï¼ˆé€šå¸¸ç”¨<code>{}</code>ï¼‰ï¼Œç”¨äºéœ€è¦å°†å‚æ•°æ’å…¥å‘½ä»¤ä¸­é—´çš„åœºæ™¯</td></tr><tr><td>-0</td><td>é…åˆ <code>find -print0</code> ä½¿ç”¨ï¼Œå¤„ç†æ–‡ä»¶åä¸­çš„ç©ºæ ¼æˆ–ç‰¹æ®Šå­—ç¬¦</td></tr><tr><td><code>-p</code></td><td>äº¤äº’å¼ç¡®è®¤æ¯æ¬¡æ“ä½œï¼ˆè¾“å…¥yæ‰ä¼šæ‰§è¡Œï¼‰</td></tr><tr><td><code>-t</code></td><td>æ‰“å°è¦æ‰§è¡Œçš„å‘½ä»¤ï¼ˆ<strong>å‘½ä»¤ä»æ‰§è¡Œ</strong>ï¼‰</td></tr><tr><td>-d&lt;å®šç•Œç¬¦&gt;</td><td/></tr></tbody></table>
<p><strong>å®æˆ˜æ¡ˆä¾‹</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥æ‰¾æ‰€æœ‰.txtæ–‡ä»¶å¹¶åˆ é™¤</span>
find . -name <span class="hljs-string">'*.txt'</span> | xargs <span class="hljs-built_in">rm</span>

<span class="hljs-comment"># å°†æ‰¾åˆ°çš„.logæ–‡ä»¶ç§»åŠ¨åˆ°/backupç›®å½•</span>
find . -name <span class="hljs-string">'*.log'</span> | xargs -I {} <span class="hljs-built_in">mv</span> {} /backup

<span class="hljs-comment"># æ‰¹é‡é‡å‘½åæ–‡ä»¶</span>
find . -name <span class="hljs-string">'*.jpg'</span> | xargs -I {} <span class="hljs-built_in">mv</span> {} {}.bak

<span class="hljs-comment"># åœ¨æ‰€æœ‰.pyæ–‡ä»¶ä¸­æœç´¢"import numpy"</span>
find . -name <span class="hljs-string">'*.py'</span> | xargs grep <span class="hljs-string">'import numpy'</span>

<span class="hljs-comment"># æ‰¹é‡ä¿®æ”¹æƒé™</span>
find /data -<span class="hljs-built_in">type</span> f | xargs <span class="hljs-built_in">chmod</span> 644

<span class="hljs-comment"># å¤„ç†æ–‡ä»¶åä¸­çš„ç©ºæ ¼æˆ–ç‰¹æ®Šå­—ç¬¦</span>
<span class="hljs-comment"># æ–‡ä»¶åä¸­å¯ä»¥åŒ…å«ç©ºæ ¼ã€æ¢è¡Œã€åˆ¶è¡¨ç¬¦ç”šè‡³ \nï¼Œè€Œä¼ ç»Ÿç”¨æ¢è¡Œåˆ†éš”çš„æ–¹å¼ä¼šè¢«è¿™äº›ç‰¹æ®Šå­—ç¬¦â€œæ¬ºéª—â€ï¼Œå¯¼è‡´æ–‡ä»¶åè¢«é”™è¯¯æ‹†åˆ†</span>
<span class="hljs-comment"># -print0ï¼šä¸ä¼šåœ¨æ¯ä¸ªæ–‡ä»¶åååŠ æ¢è¡Œç¬¦ï¼ˆ\nï¼‰ï¼Œè€Œæ˜¯ç”¨ ç©ºå­—ç¬¦ï¼ˆnull character, \0ï¼‰ åˆ†éš”æ¯ä¸ªæ–‡ä»¶å</span>
<span class="hljs-comment"># xargs -0ï¼šå‘Šè¯‰ xargs è¾“å…¥é¡¹æ˜¯ä»¥ç©ºå­—ç¬¦ \0 åˆ†éš”çš„</span>
find . -name <span class="hljs-string">'*.mp3'</span> -print0 | xargs -0 <span class="hljs-built_in">rm</span>

<span class="hljs-comment"># æ‰¹é‡æ‰“åŒ…</span>
find /etc/ -<span class="hljs-built_in">type</span> f -name <span class="hljs-string">'*.conf'</span> | xargs tar zcf /backup/etc-conf-v2.tar.gz

<span class="hljs-comment"># è¾“å‡º name name name name</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">'nameXnameXnameXname'</span> | xargs -dX
</code></pre>
<h3 data-id="heading-7">Find</h3>
<p><code>find</code>æ˜¯å››å‰‘å®¢ä¸­å”¯ä¸€ç›´æ¥æ‰«æ<strong>æ–‡ä»¶ç³»ç»Ÿ inode</strong>çš„é‡å‹æ­¦å™¨ã€‚å®ƒä¸çœ‹å†…å®¹ï¼Œåªçœ‹â€œæˆ·å£æœ¬â€ï¼ˆæ–‡ä»¶åã€æ—¶é—´ã€æƒé™ã€å¤§å°ï¼‰</p>
<pre><code class="hljs language-bash" lang="bash">find [è·¯å¾„] [æ¡ä»¶] [åŠ¨ä½œ]
</code></pre>













































<table><thead><tr><th>ç»´åº¦</th><th>é€‰é¡¹</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>åç§°</td><td>-name</td><td>æŒ‡å®šæ–‡ä»¶åï¼Œé»˜è®¤ç²¾ç¡®åŒ¹é…ï¼ˆåŠ ä¸Š*ä¸ºæ¨¡ç³ŠåŒ¹é…ï¼‰</td></tr><tr><td/><td>-iname</td><td>æ–‡ä»¶åä¸åŒºåˆ†å¤§å°å†™</td></tr><tr><td>ç±»å‹</td><td>-type [ç±»å‹]</td><td>æŒ‡å®šæ–‡ä»¶ç±»å‹ï¼ˆfã€dã€lã€s-å¥—æ¥å­—ã€b-å—è®¾å¤‡ã€c-å­—ç¬¦è®¾å¤‡ï¼‰</td></tr><tr><td>å¤§å°</td><td>-size [+/-]N[å•ä½]</td><td>æŒ‡å®šæ–‡ä»¶å¤§å°èŒƒå›´ï¼Œ+10M -100k -10G</td></tr><tr><td>æ·±åº¦</td><td>-maxdepth</td><td>æŒ‡å®šæŸ¥æ‰¾æ–‡ä»¶æ·±åº¦</td></tr><tr><td>æ—¶é—´</td><td>-mtimeã€-atimeã€-ctime</td><td>æŒ‡å®šæ–‡ä»¶æ—¶é—´</td></tr><tr><td>æƒé™</td><td>-perm [æƒé™æ¨¡å¼]</td><td>644 (ç²¾ç¡®åŒ¹é…)ã€/u=s (åŒ…å« SUID)</td></tr></tbody></table>
<blockquote>
<p>å°½é‡ä¸è¦ç›´æ¥åœ¨<code>/</code>ç›®å½•æ‰§è¡Œæ— æ¡ä»¶çš„<code>find</code>ï¼Œè¿™ä¼šæŠŠç£ç›˜ I/O æ‰“æ»¡ã€‚ä¸€å®šè¦ç”¨<code>-maxdepth</code>æˆ–æŒ‡å®šå…·ä½“å­ç›®å½•ï¼</p>
</blockquote>
<p><strong>å®æˆ˜æ¡ˆä¾‹</strong></p>
<ul>
<li>æŒ‰æ–‡ä»¶åã€æ–‡ä»¶ç±»å‹ã€æ–‡ä»¶å¤§å°ã€ç”¨æˆ·/ç»„ã€æœç´¢æ·±åº¦</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–‡ä»¶å</span>
find /path -name <span class="hljs-string">'file[0-9].txt'</span>       <span class="hljs-comment"># æŸ¥æ‰¾file1.txt, file2.txtç­‰</span>

<span class="hljs-comment"># æ–‡ä»¶ç±»å‹</span>
find /path -<span class="hljs-built_in">type</span> f -name <span class="hljs-string">'*.log'</span>       <span class="hljs-comment"># æŸ¥æ‰¾/var/logä¸‹æ‰€æœ‰.logæ–‡ä»¶</span>

<span class="hljs-comment"># æ–‡ä»¶å¤§å°</span>
find /path -size +5M -size -15M        <span class="hljs-comment"># æŸ¥æ‰¾å¤§äº5Må°äº15Mçš„æ–‡ä»¶</span>

<span class="hljs-comment"># ç”¨æˆ·/ç»„</span>
find /path -user root                  <span class="hljs-comment"># æŸ¥æ‰¾å±äºrootç”¨æˆ·çš„æ–‡ä»¶</span>
find /path -group www-data             <span class="hljs-comment"># æŸ¥æ‰¾å±äºwww-dataç»„çš„æ–‡ä»¶</span>

<span class="hljs-comment"># æœç´¢æ·±åº¦</span>
find /path -maxdepth 2 -name <span class="hljs-string">'*.conf'</span>  <span class="hljs-comment"># ä»…æœç´¢ä¸¤å±‚ç›®å½•</span>
find /path -mindepth 3 -name <span class="hljs-string">'*.log'</span>   <span class="hljs-comment"># ä»ç¬¬ä¸‰å±‚ç›®å½•å¼€å§‹æœç´¢</span>
</code></pre>
<ul>
<li>æŒ‰æƒé™</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥æ‰¾æƒé™ä¸º644çš„æ–‡ä»¶</span>
find /path -perm 644

<span class="hljs-comment"># æŸ¥æ‰¾SUIDæƒé™çš„æ–‡ä»¶</span>
find /path -perm /u=s

<span class="hljs-comment"># æŸ¥æ‰¾ç»„å¯å†™çš„æ–‡ä»¶</span>
find /path -perm /g=w
</code></pre>
<ul>
<li>æŒ‰æ—¶é—´</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰¾å‡º 7 å¤©å‰ä¿®æ”¹è¿‡çš„æ—¥å¿—</span>
find /var/log -name <span class="hljs-string">'*.log'</span> -mtime +7

<span class="hljs-comment"># æ‰¾å‡º 1 å°æ—¶å†…è¢«è®¿é—®è¿‡çš„é…ç½®æ–‡ä»¶</span>
find /etc -name <span class="hljs-string">'*.conf'</span> -atime -60

<span class="hljs-comment"># æ‰¾å‡ºæœ€è¿‘ 24 å°æ—¶å†…æƒé™è¢«ä¿®æ”¹çš„æ–‡ä»¶ï¼ˆå®‰å…¨å®¡è®¡ï¼ï¼‰</span>
find / -ctime -1440 -<span class="hljs-built_in">type</span> f
</code></pre>
<ul>
<li>ç»„åˆæ¡ä»¶</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åŒæ—¶æ»¡è¶³åç§°å’Œç±»å‹æ¡ä»¶</span>
find /path -name <span class="hljs-string">'*.log'</span> -<span class="hljs-built_in">type</span> f

<span class="hljs-comment"># æŸ¥æ‰¾jpgæˆ–pngæ–‡ä»¶</span>
find /path \( -name <span class="hljs-string">'*.jpg'</span> -o -name <span class="hljs-string">'*.png'</span> \)

<span class="hljs-comment"># æ’é™¤.tmpæ–‡ä»¶</span>
find /path ! -name <span class="hljs-string">'*.tmp'</span>
</code></pre>
<ul>
<li>
<p>ä¸xargsè¿ç”¨ï¼ˆè§ä¸Šæ–‡ï¼‰</p>
</li>
<li>
<p>ä¸-execè¿ç”¨:star::star::star::star::star:</p>
</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯¹æ¯ä¸ªåŒ¹é…çš„æ–‡ä»¶ï¼Œå•ç‹¬è°ƒç”¨ä¸€æ¬¡å‘½ä»¤</span>
find [è·¯å¾„] [æ¡ä»¶] -<span class="hljs-built_in">exec</span> [å‘½ä»¤] {} \;

<span class="hljs-comment"># åˆå¹¶æ‰€æœ‰åŒ¹é…çš„æ–‡ä»¶è·¯å¾„ï¼Œä¸€æ¬¡æ€§æ‰§è¡Œ</span>
find [è·¯å¾„] [æ¡ä»¶] -<span class="hljs-built_in">exec</span> [å‘½ä»¤] {} +
</code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰¹é‡å‹ç¼©æ–‡ä»¶ï¼Œç›¸å½“äºæ‰§è¡Œ gzip file1.log file2.log file3.log</span>
find /data -name <span class="hljs-string">"*.log"</span> -<span class="hljs-built_in">exec</span> gzip {} +
<span class="hljs-comment"># æ‰¹é‡æ‰“åŒ…æ–‡ä»¶</span>
find /data -name <span class="hljs-string">"*.log"</span> -<span class="hljs-built_in">type</span> f -<span class="hljs-built_in">exec</span> tar -cvf test.tar.gz {} +

<span class="hljs-comment"># ç›¸å½“äºå¯¹æ¯ä¸ª.tmpæ–‡ä»¶æ‰§è¡Œ rm file1.tmp; rm file2.tmp</span>
find /tmp -name <span class="hljs-string">"*.tmp"</span> -<span class="hljs-built_in">exec</span> <span class="hljs-built_in">rm</span> {} \;

<span class="hljs-comment"># åˆ é™¤7å¤©å‰çš„æ—¥å¿—æ–‡ä»¶</span>
find /var/log -name <span class="hljs-string">"*.log"</span> -mtime +7 -<span class="hljs-built_in">exec</span> <span class="hljs-built_in">rm</span> {} \;

<span class="hljs-comment"># å°†æ‰¾åˆ°çš„.jpgæ–‡ä»¶å¤‡ä»½åˆ°/backup</span>
find . -name <span class="hljs-string">"*.jpg"</span> -<span class="hljs-built_in">exec</span> <span class="hljs-built_in">cp</span> {} /backup \;

<span class="hljs-comment"># å¯¹æ¯ä¸ªæ‰¾åˆ°çš„.csvæ–‡ä»¶è¿è¡Œåˆ†æè„šæœ¬</span>
find /reports -name <span class="hljs-string">"sales_*.csv"</span> -<span class="hljs-built_in">exec</span> ./analyze.sh {} \;

<span class="hljs-comment"># å…ˆå‹ç¼©æ–‡ä»¶ï¼Œå†åˆ é™¤åŸæ–‡ä»¶</span>
find . -name <span class="hljs-string">"*.txt"</span> -<span class="hljs-built_in">exec</span> gzip {} \; -<span class="hljs-built_in">exec</span> <span class="hljs-built_in">rm</span> {} \;

<span class="hljs-comment"># é»˜è®¤å·²æ­£ç¡®å¤„ç†ç©ºæ ¼/ç‰¹æ®Šå­—ç¬¦ï¼ˆæ— éœ€åƒxargsé‚£æ ·ç”¨-print0ï¼‰</span>
find . -name <span class="hljs-string">"*.doc"</span> -<span class="hljs-built_in">exec</span> <span class="hljs-built_in">mv</span> {} ~/Documents \;

<span class="hljs-comment"># åˆ é™¤3.10ä¹‹å‰çš„ä»¥.dbfç»“å°¾çš„æ–‡ä»¶</span>
find ./ -name <span class="hljs-string">"*.dbf"</span> ! -newermt <span class="hljs-string">"2025-03-10"</span> -<span class="hljs-built_in">exec</span> <span class="hljs-built_in">rm</span> {} \;
</code></pre>






























<table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left"><code>xargs</code></th><th align="left"><code>find -exec</code></th></tr></thead><tbody><tr><td align="left">æ‰§è¡Œæ•ˆç‡</td><td align="left">é«˜ï¼ˆæ‰¹é‡ä¼ é€’å‚æ•°ï¼‰</td><td align="left">ä½ï¼ˆé€è¡Œæ‰§è¡Œï¼‰</td></tr><tr><td align="left">å‚æ•°é•¿åº¦é™åˆ¶</td><td align="left">è‡ªåŠ¨åˆ†å‰²å‚æ•°</td><td align="left">å—ç³»ç»Ÿå‚æ•°é•¿åº¦é™åˆ¶</td></tr><tr><td align="left">ç‰¹æ®Šå­—ç¬¦å¤„ç†</td><td align="left">éœ€é…åˆ <code>-print0</code> å’Œ <code>-0</code></td><td align="left">åŸç”Ÿæ”¯æŒ</td></tr><tr><td align="left">çµæ´»æ€§</td><td align="left">å¯ç»“åˆå…¶ä»–å‘½ä»¤ï¼ˆå¦‚ <code>grep</code>ï¼‰</td><td align="left">ä»…é™ <code>find</code> æ‰¾åˆ°çš„æ–‡ä»¶</td></tr></tbody></table>
<h3 data-id="heading-8">Grep</h3>
<p><code>grep</code>ï¼ˆGlobal Regular Expression Printï¼‰æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ–‡æœ¬æœç´¢å‘½ä»¤ï¼Œæ”¯æŒä½¿ç”¨<strong>æ­£åˆ™è¡¨è¾¾å¼</strong>åœ¨æ–‡ä»¶ä¸­æŸ¥æ‰¾åŒ¹é…çš„è¡Œï¼Œå¹¶å°†å…¶è¾“å‡º</p>
<p><code>grep</code>æ˜¯æŸ¥çœ‹æ—¥å¿—ã€ä»£ç æœç´¢æœ€é«˜é¢‘çš„å·¥å…·ï¼Œ<strong>å¿«</strong>æ˜¯å®ƒçš„ä»£åè¯</p>
<pre><code class="hljs language-bash" lang="bash">grep [option] pattern file
</code></pre>

































































<table><thead><tr><th>å¸¸ç”¨å‚æ•°</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>-A n</code> / <code>-B n</code> / <code>-C n</code></td><td>æ˜¾ç¤ºåŒ¹é…è¡Œå<code>n</code>è¡Œ / å‰<code>n</code>è¡Œ / å‰åå„<code>n</code>è¡Œ</td></tr><tr><td><code>-i</code></td><td>å¿½ç•¥å¤§å°å†™</td></tr><tr><td><code>-v</code></td><td><strong>åé€‰</strong>ï¼Œæ˜¾ç¤ºä¸åŒ¹é…çš„è¡Œ</td></tr><tr><td><code>-n</code></td><td>æ˜¾ç¤ºåŒ¹é…è¡Œçš„<strong>è¡Œå·</strong></td></tr><tr><td><code>-l</code></td><td>åªåˆ—å‡ºåŒ¹é…å†…å®¹çš„<strong>æ–‡ä»¶å</strong>ï¼Œä¸çœ‹å…·ä½“å†…å®¹</td></tr><tr><td>-c</td><td>ä»…è¾“å‡ºåŒ¹é…çš„<strong>è¡Œæ•°</strong>ï¼Œä¸æ˜¾ç¤ºå†…å®¹</td></tr><tr><td>-w</td><td>ç²¾ç¡®åŒ¹é…æ•´ä¸ªå•è¯ï¼ˆé¿å…åŒ¹é…åˆ°åŒ…å«è¯¥å­ä¸²çš„è¯ï¼‰</td></tr><tr><td>-o</td><td>ä»…è¾“å‡ºåŒ¹é…çš„<strong>å­—ç¬¦ä¸²æœ¬èº«</strong>ï¼ˆæ¯è¡Œä¸€ä¸ªåŒ¹é…é¡¹ï¼‰</td></tr><tr><td><code>-r/-R</code></td><td>é€’å½’æœç´¢ç›®å½•ï¼ˆ<code>-R</code>ä¼šè·Ÿéšç¬¦å·é“¾æ¥ï¼‰</td></tr><tr><td><code>-E</code></td><td>æ”¯æŒæ‹“å±•æ­£åˆ™ï¼Œ<strong>ç­‰åŒäºegrep</strong></td></tr><tr><td>-P</td><td>å¼€å¯ Perl å…¼å®¹æ­£åˆ™ï¼ˆæ”¯æŒæ›´é«˜çº§æ­£åˆ™ï¼Œå¦‚é›¶å®½æ–­è¨€ï¼‰</td></tr><tr><td>-q</td><td>é™é»˜æ¨¡å¼ï¼Œä¸è¾“å‡ºä»»ä½•ä¿¡æ¯</td></tr><tr><td>-e &lt;èŒƒæœ¬æ ·å¼&gt;</td><td>æŒ‡å®šå­—ç¬¦ä¸²ä½œä¸ºæŸ¥æ‰¾æ–‡ä»¶å†…å®¹çš„èŒƒæœ¬æ ·å¼</td></tr><tr><td><code>--color</code></td><td>é«˜äº®æ˜¾ç¤ºåŒ¹é…å†…å®¹ï¼ˆç°ä»£ç³»ç»Ÿé€šå¸¸é»˜è®¤å¼€å¯ï¼‰</td></tr></tbody></table>
<p><strong>å®æˆ˜æ¡ˆä¾‹</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨ å»æ‰æ³¨é‡Šè¡Œå’Œç©ºè¡Œ</span>
grep -Ev <span class="hljs-string">"^$|^#"</span> /etc/nginx/nginx.conf

<span class="hljs-comment"># æˆ–è€…ä½¿ç”¨æ‹“å±•æ­£åˆ™</span>
egrep -v <span class="hljs-string">'^$|^#'</span> /etc/ssh/sshd_config

<span class="hljs-comment"># æŸ¥æ‰¾ 500 é”™è¯¯åŠå…¶å‰ 2 è¡Œå’Œå 3 è¡Œä¸Šä¸‹æ–‡</span>
grep <span class="hljs-string">"500 Internal Server Error"</span> -B 2 -A 3 access.log

<span class="hljs-comment"># ç»Ÿè®¡ IP åœ°å€å‡ºç°çš„æ¬¡æ•°ï¼ˆæå– + æ’åº + ç»Ÿè®¡ï¼‰</span>
grep -oE <span class="hljs-string">"[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+"</span> access.log | <span class="hljs-built_in">sort</span> | <span class="hljs-built_in">uniq</span> -c | <span class="hljs-built_in">sort</span> -nr

<span class="hljs-comment"># æ£€æµ‹ç¨‹åºæ˜¯å¦åœ¨è¿è¡Œ (æ’é™¤ grep è¿›ç¨‹è‡ªèº«)</span>
ps aux | grep nginx | grep -v grep

<span class="hljs-comment"># -r: é€’å½’æŸ¥æ‰¾ç›®å½• (ç¨‹åºå‘˜æ‰¾ä»£ç ç¥å™¨)</span>
grep -r <span class="hljs-string">"TODO"</span> ./src
</code></pre>
<h3 data-id="heading-9">Sed</h3>
<p>sedï¼ˆStream Editorï¼‰æ˜¯æµæ°´çº¿å¼çš„<strong>éäº¤äº’ç¼–è¾‘å™¨</strong>ï¼Œå…¶å·¥ä½œæ¨¡å¼å¦‚ä¸‹ï¼š</p>
<ul>
<li>Readï¼šè¯»ä¸€è¡Œåˆ°å†…å­˜ï¼ˆæ¨¡å¼ç©ºé—´ï¼‰</li>
<li>Executeï¼šåœ¨å†…å­˜é‡ŒåŠ¨åˆ€å­ï¼ˆæ”¹ï¼‰</li>
<li>Printï¼šæ”¹å®Œæ‰”å›æµæ°´çº¿ï¼ˆè¾“å‡ºï¼‰</li>
<li>Repeatï¼šæ¸…ç©ºæ¨¡å¼ç©ºé—´ï¼Œè¯»ä¸‹ä¸€è¡Œ</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">sed [é€‰é¡¹] <span class="hljs-string">'[åœ°å€èŒƒå›´]æ“ä½œ'</span> æ–‡ä»¶
</code></pre>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šSed é»˜è®¤ä¸ä¿®æ”¹åŸæ–‡ä»¶ï¼Œåªæœ‰åŠ ä¸Š<code>-i</code>æ‰ä¼šä¿®æ”¹ï¼Œæœ€å¥½æ˜¯å…ˆé¢„è§ˆç¡®è®¤æ²¡é—®é¢˜åå†åŠ ä¸Š<code>-i</code>ä¿®æ”¹åŸæ–‡ä»¶</p>
</blockquote>





























<table><thead><tr><th>åŒ¹é…èŒƒå›´ï¼ˆæ¨¡å¼ï¼‰</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>ç©ºåœ°å€</td><td>å…¨æ–‡å¤„ç†</td></tr><tr><td>å•åœ°å€</td><td>æŒ‡å®šæ–‡ä»¶æŸä¸€è¡Œ</td></tr><tr><td>/pattern/</td><td>è¢«æ¨¡å¼åŒ¹é…åˆ°çš„æ¯ä¸€è¡Œ</td></tr><tr><td>èŒƒå›´åŒºé—´</td><td><code>10,20</code>ååˆ°äºŒåè¡Œ<br/><code>10,+5</code>åå‘ä¸‹äº”è¡Œ<br/><code>1,$</code>ä¸€åˆ°æœ«å°¾è¡Œ<br/><code>/pattern1/,/pattern2/</code>é™å®šèŒƒå›´åŒºé—´</td></tr><tr><td>æ­¥é•¿</td><td>1<del>2ï¼šè¡¨ç¤ºå¥‡æ•°è¡Œï¼Œ2</del>2ï¼šè¡¨ç¤ºå¶æ•°è¡Œ</td></tr></tbody></table>

































<table><thead><tr><th>å¸¸ç”¨é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-n</code></td><td>åªè¾“å‡ºç¬¦åˆè¦æ±‚è¡Œï¼Œä¸pç»„åˆä½¿ç”¨ï¼ˆé»˜è®¤å…¨è¾“å‡ºï¼‰</td></tr><tr><td><code>-r</code></td><td>å¼€å¯<strong>æ‰©å±•æ­£åˆ™</strong></td></tr><tr><td><code>-i</code></td><td>ç›´æ¥ä¿®æ”¹æ–‡ä»¶å†…å®¹ï¼ˆå±é™©æ“ä½œï¼‰<strong>åªæœ‰ä½¿ç”¨è¯¥é€‰é¡¹æ‰ä¼šä¿®æ”¹åŸæ–‡ä»¶</strong></td></tr><tr><td>-i.bak</td><td>åœ¨å°†å¤„ç†çš„ç»“æœå†™å…¥æ–‡ä»¶ä¹‹å‰å¤‡ä»½ä¸€ä»½</td></tr><tr><td>-e&lt;script&gt;</td><td>ä»¥é€‰é¡¹ä¸­æŒ‡å®šçš„scriptæ¥å¤„ç†è¾“å…¥çš„æ–‡æœ¬æ–‡ä»¶</td></tr><tr><td>-f&lt;script&gt;</td><td>ä»¥é€‰é¡¹ä¸­æŒ‡å®šçš„scriptæ–‡ä»¶æ¥å¤„ç†è¾“å…¥çš„æ–‡æœ¬æ–‡ä»¶</td></tr></tbody></table>





































<table><thead><tr><th>å†…ç½®å‘½ä»¤å­—ç¬¦ï¼ˆåŠ¨ä½œï¼‰</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>a</code>ï¼ˆappendï¼‰</td><td>åœ¨æŒ‡å®šè¡Œ<strong>ä¸‹é¢</strong>æ·»åŠ ä¸€/å¤šè¡Œæ–‡æœ¬</td></tr><tr><td><code>i</code>ï¼ˆinsertï¼‰</td><td>åœ¨æŒ‡å®šè¡Œ<strong>ä¸Šé¢</strong>æ·»åŠ ä¸€/å¤šè¡Œæ–‡æœ¬</td></tr><tr><td><code>c</code>ï¼ˆchangeï¼‰</td><td>æ›¿æ¢æŒ‡å®šæ•´è¡Œ</td></tr><tr><td><code>w</code>ï¼ˆwriteï¼‰</td><td>å°†æ‰¾åˆ°çš„è¡Œä¿å­˜åˆ°æ–°çš„æ–‡ä»¶ä¸­</td></tr><tr><td><code>d</code>ï¼ˆdeleteï¼‰</td><td>åˆ é™¤åŒ¹é…è¡Œ</td></tr><tr><td><code>p</code>ï¼ˆprintï¼‰</td><td>æ‰“å°åŒ¹é…è¡Œçš„å†…å®¹ï¼ˆä¸-nè¿ç”¨ï¼‰</td></tr><tr><td><code>s/æ­£åˆ™/æ›¿æ¢å†…å®¹/g</code></td><td>åŒ¹é…æ­£åˆ™å†…å®¹ï¼Œç„¶åæ›¿æ¢ï¼Œgä¸ºå…¨å±€åŒ¹é…ã€‚æ›¿æ¢æ—¶å¯ä»¥åŠ ä»¥ä¸‹å‘½ä»¤ï¼Œå®ç°å¤§å°å†™è½¬æ¢<br/>\lï¼šæŠŠä¸‹ä¸ªå­—ç¬¦è½¬æ¢æˆå°å†™<br/>\Lï¼šæŠŠreplacementå­—æ¯è½¬æ¢æˆå°å†™ï¼Œç›´åˆ°\Uæˆ–\Eå‡ºç°<br/>\uï¼šæŠŠä¸‹ä¸ªå­—ç¬¦è½¬æ¢æˆå¤§å†™<br/>\Uï¼šæŠŠreplacementå­—æ¯è½¬æ¢æˆå¤§å†™ï¼Œç›´åˆ°\Læˆ–\Eå‡ºç°<br/>\Eï¼šåœæ­¢ä»¥\Læˆ–\Uå¼€å§‹çš„å¤§å°å†™è½¬æ¢</td></tr></tbody></table>
<p><strong>å®æˆ˜æ¡ˆä¾‹</strong></p>
<pre><code class="hljs language-bash" lang="bash">sed <span class="hljs-string">'æ¨¡å¼ åŠ¨ä½œ'</span> æ–‡ä»¶
</code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cat</span> &gt; test.txt &lt;&lt;<span class="hljs-string">EOF
1. Linux is kernel.
2. Python is language.
3. Database is storage.
4. Nginx is web server.
EOF</span>
</code></pre>
<ul>
<li>æŸ¥</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰“å°ç¬¬2è¡Œ</span>
sed -n <span class="hljs-string">'2p'</span> test.txt

<span class="hljs-comment"># æ‰“å°2åˆ°3è¡Œ</span>
sed -n <span class="hljs-string">'2,3p'</span> test.txt

<span class="hljs-comment"># æ‰“å°æœ€åä¸€è¡Œ</span>
sed -n <span class="hljs-string">'$p'</span> test.txt

<span class="hljs-comment"># æ‰“å°åŒ…å« "Linux" çš„è¡Œ</span>
sed -n <span class="hljs-string">'/Linux/p'</span> test.txt

<span class="hljs-comment"># èŒƒå›´åŒ¹é…ï¼šä»åŒ…å« Python çš„è¡Œå¼€å§‹ï¼Œåˆ°åŒ…å« Nginx çš„è¡Œç»“æŸ</span>
sed -n <span class="hljs-string">'/Python/,/Nginx/p'</span> test.txt
</code></pre>
<ul>
<li>åˆ </li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ é™¤ç©ºè¡Œ</span>
sed <span class="hljs-string">'/^$/d'</span> test.txt

<span class="hljs-comment"># åˆ é™¤ç¬¬3è¡Œ</span>
sed <span class="hljs-string">'3d'</span> test.txt

<span class="hljs-comment"># åˆ é™¤åŒ…å« "Database" çš„è¡Œ</span>
sed <span class="hljs-string">'/Database/d'</span> test.txt
</code></pre>
<ul>
<li>æ”¹</li>
</ul>
<p>æ›¿æ¢è¯­æ³•ï¼Œæ”¯æŒå¾ˆå¤šåˆ†éš”ç¬¦ï¼š<code>@ã€#ã€/</code></p>
<pre><code class="hljs language-bash" lang="bash">s/æ­£åˆ™/æ›¿æ¢å†…å®¹/g
</code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å°† is æ›¿æ¢ä¸º WAS</span>
sed <span class="hljs-string">'s/is/WAS/g'</span> test.txt

<span class="hljs-comment"># åˆ†éš”ç¬¦å†²çªæ—¶ï¼Œå¯ç”¨ # æˆ– @ æ›¿ä»£ /</span>
sed <span class="hljs-string">'s#/bin/bash#/sbin/nologin#g'</span> /etc/passwd

<span class="hljs-comment"># å°† "hello world" æ¢æˆ "world hello"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"hello world"</span> | sed -r <span class="hljs-string">'s/(\w+) (\w+)/\2 \1/'</span>
</code></pre>
<ul>
<li>å¢</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨ç¬¬2è¡Œåé¢æ·»åŠ ä¸€è¡Œ</span>
sed <span class="hljs-string">'2a New Line Here'</span> test.txt

<span class="hljs-comment"># åœ¨æœ€åä¸€è¡Œæ·»åŠ </span>
sed <span class="hljs-string">'$a The End.'</span> test.txt

<span class="hljs-comment"># 2~4è¡Œæ•°æ®å†™åˆ°new.txt</span>
sed <span class="hljs-string">'2,4w new.txt'</span> test.txt
</code></pre>
<h3 data-id="heading-10">awk</h3>
<p><code>awk</code>æ˜¯ä¸€ç§å¤„ç†æ–‡æœ¬æ–‡ä»¶çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ–‡ä»¶çš„æ¯è¡Œæ•°æ®éƒ½è¢«ç§°ä¸º<code>è®°å½•</code>ï¼Œæ¯æ¡è®°å½•è¢«åˆ†æˆè‹¥å¹²<code>å­—æ®µ</code>ï¼Œæ¯æ¬¡ä»æ–‡ä»¶ä¸­è¯»å–ä¸€æ¡è®°å½•</p>
<p><code>awk</code>ç”±ä¸€ç³»åˆ—<strong>æ¡ä»¶</strong>å’Œ<strong>åŠ¨ä½œ</strong>ç»„æˆï¼Œå¯ä»¥åŒ…å«å¤šä¸ªåŠ¨ä½œï¼Œç”¨<code>;</code>åˆ†éš”ã€‚<strong>è‹¥æ²¡æŒ‡å®šæ¡ä»¶åˆ™åŒ¹é…æ‰€æœ‰æ•°æ®ï¼Œæ²¡æŒ‡å®šåŠ¨ä½œåˆ™é»˜è®¤ä¸ºprint</strong>ï¼Œawké»˜è®¤æ”¯æŒæ‹“å±•æ­£åˆ™è¡¨è¾¾å¼</p>
<pre><code class="hljs language-bash" lang="bash">awk [options] <span class="hljs-string">'BEGIN{...} Pattern{...} END{...}'</span> æ–‡ä»¶
</code></pre>
<ul>
<li><code>BEGIN {}</code>ï¼šåœ¨è¯»ç¬¬ä¸€è¡Œä¹‹å‰æ‰§è¡Œï¼ˆæ‰“å°è¡¨å¤´ã€å®šä¹‰å˜é‡ï¼‰</li>
<li><code>Pattern {Action}</code>ï¼šæ¯ä¸€è¡Œéƒ½æ‰§è¡Œä¸€æ¬¡ã€‚ä¸»å¤„ç†é€»è¾‘</li>
<li><code>END {}</code>ï¼šå…¨éƒ¨è¡Œè¯»å®Œåæ‰§è¡Œï¼ˆè¾“å‡ºç»Ÿè®¡ç»“æœï¼‰</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A["BEGIN{ ... }"] --&gt;|1.é¢„å¤„ç†: è®¾åˆ†éš”ç¬¦/æ‰“å°è¡¨å¤´| B("Loop: è¯»ä¸€è¡Œï¼Œåˆ‡ä¸€åˆ€")
    B --&gt;|2.ä¸»é€»è¾‘: è®¡ç®—/åˆ¤æ–­/è¿‡æ»¤| B
    B --&gt;|3.è¯»å®Œæ‰€æœ‰è¡Œ| C["END{ ... }"]
    C --&gt;|4.æœ€ç»ˆæ±‡æ€»: è¾“å‡ºç»Ÿè®¡æ€»æ•°| End
</code></pre>
<blockquote>
<p>å¹³æ—¶æˆ‘ä»¬å†™çš„ <code>awk '{print $1}'</code>ï¼Œå…¶å®å°±æ˜¯ä¸­é—´çš„ <strong>Loop</strong> éƒ¨åˆ†ã€‚BEGIN å’Œ END æ˜¯å¯é€‰çš„</p>
</blockquote>





















<table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>-F [åˆ†éš”ç¬¦]</td><td>æŒ‡å®šåˆ†éš”ç¬¦ï¼Œå¯ä»¥ä¸ºå­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼ï¼ˆé»˜è®¤ä¸ºè¿ç»­çš„ç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦ï¼‰</td></tr><tr><td>-v var=value</td><td>èµ‹å€¼ä¸€ä¸ªç”¨æˆ·å®šä¹‰å˜é‡ï¼Œå°†å¤–éƒ¨å˜é‡ä¼ é€’ç»™awk</td></tr><tr><td>-f scriptfile</td><td>ä»è„šæœ¬æ–‡ä»¶ä¸­è¯»å–awk</td></tr></tbody></table>

















































<table><thead><tr><th>å†…ç½®å˜é‡</th><th>æè¿°</th></tr></thead><tbody><tr><td>FILENAME</td><td>å½“å‰è¾“å…¥æ–‡æ¡£çš„åç§°</td></tr><tr><td>FNR</td><td>å½“å‰è¾“å…¥æ–‡æ¡£çš„å½“å‰è¡Œå·ï¼Œå°¤å…¶å½“æœ‰å¤šä¸ªè¾“å…¥æ–‡æ¡£æ—¶æœ‰ç”¨</td></tr><tr><td><code>NR</code>ï¼ˆNumber of Recordï¼‰</td><td><strong>å½“å‰è¡Œå·</strong></td></tr><tr><td><code>$0</code></td><td>å½“å‰è¡Œå…¨éƒ¨æ•°æ®</td></tr><tr><td><code>$n</code></td><td>å½“å‰è¡Œç¬¬nä¸ªå­—æ®µå†…å®¹ï¼ˆä¸è¦ç”¨<code>""</code>åŒ…è£¹ï¼‰</td></tr><tr><td><code>NF</code>ï¼ˆNumber of Fieldsï¼‰</td><td>å½“å‰è®°å½•ï¼ˆè¡Œï¼‰çš„å­—æ®µä¸ªæ•°ï¼Œå³<strong>åˆ—æ•°</strong></td></tr><tr><td>FSï¼ˆField Separatorï¼‰</td><td>å­—æ®µåˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºç©ºæ ¼æˆ–Tabåˆ¶è¡¨ç¬¦</td></tr><tr><td>OFS</td><td>è¾“å‡ºå­—æ®µåˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºç©ºæ ¼</td></tr><tr><td>ORS</td><td>è¾“å‡ºè®°å½•åˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸º\n</td></tr><tr><td>RS</td><td>è¾“å…¥è®°å½•åˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸º\n</td></tr></tbody></table>
<ul>
<li>å–æ•°æ®</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŒ‰åˆ—è¾“å‡º</span>
<span class="hljs-built_in">df</span> -h | awk <span class="hljs-string">'{print $2}'</span>		    <span class="hljs-comment"># é€è¡Œæ‰“å°ç¬¬2åˆ—</span>
<span class="hljs-built_in">df</span> -h | awk <span class="hljs-string">'{print NR}'</span>		    <span class="hljs-comment"># è¾“å‡ºè¡Œå·</span>
<span class="hljs-built_in">df</span> -h | awk <span class="hljs-string">'{print NF}'</span>		    <span class="hljs-comment"># è¾“å‡ºæ¯è¡Œæ•°æ®çš„åˆ—æ•°</span>
<span class="hljs-built_in">df</span> -h | awk <span class="hljs-string">'{print $NF}'</span> 	       <span class="hljs-comment"># æ‰“å°æ¯è¡Œæ•°æ®çš„æœ€åä¸€åˆ—</span>
<span class="hljs-built_in">df</span> -h | awk <span class="hljs-string">'{print $(NF-1)}'</span>      <span class="hljs-comment"># æ‰“å°æ¯è¡Œå€’æ•°ç¬¬äºŒåˆ—</span>
<span class="hljs-built_in">df</span> -h | awk <span class="hljs-string">'{print $0}'</span>	        <span class="hljs-comment"># æ‰“å°æ¯è¡Œå…¨éƒ¨å†…å®¹</span>
<span class="hljs-built_in">df</span> -h | awk <span class="hljs-string">'{print $1 "\t" $2}'</span> | column -t  <span class="hljs-comment"># ä½¿ç”¨åˆ¶è¡¨ç¬¦ï¼Œéœ€è¦æ·»åŠ åŒå¼•å·</span>

<span class="hljs-comment"># æŒ‰è¡Œè¾“å‡º</span>
<span class="hljs-built_in">df</span> -h | awk <span class="hljs-string">'NR&gt;=2 &amp;&amp; NR&lt;=5'</span>
<span class="hljs-built_in">df</span> -h | awk <span class="hljs-string">'NR==2'</span>
</code></pre>
<ul>
<li>åšç»Ÿè®¡</li>
</ul>
<p>é…åˆ sort å’Œ uniqï¼Œè¿™æ˜¯é¢è¯•å¿…è€ƒé¢˜</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç»Ÿè®¡ Nginx æ—¥å¿—ä¸­è®¿é—®æœ€å¤šçš„ 5 ä¸ª IP</span>
<span class="hljs-comment"># $1 æ˜¯ IP åˆ—</span>
awk <span class="hljs-string">'{print $1}'</span> access.log | <span class="hljs-built_in">sort</span> | <span class="hljs-built_in">uniq</span> -c | <span class="hljs-built_in">sort</span> -nr | <span class="hljs-built_in">head</span> -5
</code></pre>
<ul>
<li>é€»è¾‘åˆ¤æ–­</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿‡æ»¤ç¬¬å››åˆ—ä»¥0æˆ–1å¼€å¤´è¡Œï¼Œè¾“å‡ºç¬¬1ï¼Œ3åˆ—</span>
awk -F <span class="hljs-string">':'</span> <span class="hljs-string">'$4 ~ /^[01]/ {print $1,$3}'</span> /etc/passwd

<span class="hljs-comment"># å–ç¬¬ä¸‰åˆ—å¤§äº100çš„è¡Œ</span>
awk -F<span class="hljs-string">':'</span> <span class="hljs-string">'$3&gt;=100{print $1,$3,$NF}'</span> /etc/passwd | column -t
</code></pre>
<ul>
<li>åšè®¡ç®—</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç»Ÿè®¡æŸä¸ªç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶çš„æ€»å¤§å°</span>
<span class="hljs-comment"># ls -l è¾“å‡ºï¼š-rw-r--r-- 1 root root  1024  Jan 1 filename</span>
<span class="hljs-built_in">ls</span> -l | awk <span class="hljs-string">'
{ sum += $5 } 
END { print "Total: " sum/1024 " KB" }'</span>
</code></pre>
<ul>
<li>æ¨¡ç³Šè¿‡æ»¤</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿‡æ»¤å‡ºåŒ…å«rootæˆ–nobodyçš„è¡Œ</span>
awk <span class="hljs-string">'/root|nobody/'</span> /etc/passwd

<span class="hljs-comment"># ä»åŒ…å«rootçš„è¡Œåˆ°åŒ…å«nobodyçš„è¡Œ</span>
awk <span class="hljs-string">'/root/,/nobody/'</span> /etc/passwd
</code></pre>
<ul>
<li>è‡ªå®šä¹‰å˜é‡</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">awk -v x=<span class="hljs-string">"bob"</span> -v y=10 <span class="hljs-string">'{print x,y}'</span> /tmp/hosts

<span class="hljs-comment"># ç›´æ¥è°ƒç”¨ç³»ç»Ÿå˜é‡</span>
awk -v shell=<span class="hljs-variable">$SHELL</span> <span class="hljs-string">'{print shell}'</span> /tmp/hosts
awk <span class="hljs-string">'{print "'</span><span class="hljs-variable">$SHELL</span><span class="hljs-string">'"}'</span> /tmp/hosts
</code></pre>
<h3 data-id="heading-11">ç»“è¯­</h3>
<p>ä¸è¦è¯•å›¾ä¸€æ¬¡æ€§èƒŒä¸‹æ‰€æœ‰çš„å‚æ•°ï¼Œä¸éœ€è¦ä¹Ÿæ²¡å¿…è¦</p>
<ul>
<li>æ‰¾æ–‡ä»¶ï¼Œç”¨ find</li>
<li>æœå†…å®¹ï¼Œç”¨ grep</li>
<li>æ”¹æ–‡ä»¶ï¼Œç”¨ sed</li>
<li>åšç»Ÿè®¡ï¼Œç”¨ awk</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ESLint æ‰¹é‡æŠ‘åˆ¶ï¼šæŠ€æœ¯å€ºæ²»ç†çš„æ­£ç¡®æ‰“å¼€æ–¹å¼]]></title>    <link>https://juejin.cn/post/7599652649549922304</link>    <guid>https://juejin.cn/post/7599652649549922304</guid>    <pubDate>2026-01-27T02:38:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599652649549922304" data-draft-id="7599598627007316020" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ESLint æ‰¹é‡æŠ‘åˆ¶ï¼šæŠ€æœ¯å€ºæ²»ç†çš„æ­£ç¡®æ‰“å¼€æ–¹å¼"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,React.js"/> <meta itemprop="datePublished" content="2026-01-27T02:38:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç™¾æ…•å¤§ä¸‰è§’"/> <meta itemprop="url" content="https://juejin.cn/user/1882827191748744"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ESLint æ‰¹é‡æŠ‘åˆ¶ï¼šæŠ€æœ¯å€ºæ²»ç†çš„æ­£ç¡®æ‰“å¼€æ–¹å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1882827191748744/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç™¾æ…•å¤§ä¸‰è§’
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T02:38:02.000Z" title="Tue Jan 27 2026 02:38:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ESLint æ‰¹é‡æŠ‘åˆ¶ï¼šæŠ€æœ¯å€ºæ²»ç†çš„æ­£ç¡®æ‰“å¼€æ–¹å¼</h2>
<h3 data-id="heading-1">å¼•å­ï¼šä¸€ä¸ªæŠ€æœ¯ Leader çš„å›°å¢ƒ</h3>
<p>ä½œä¸ºæŠ€æœ¯ Leaderï¼Œä½ å¯èƒ½é‡åˆ°è¿‡è¿™æ ·çš„åœºæ™¯ï¼š</p>
<p>å›¢é˜Ÿç»´æŠ¤ç€ä¸€ä¸ªä¸¤å¹´å‰çš„ React é¡¹ç›®ï¼Œ20 ä¸‡è¡Œä»£ç ï¼ŒæŠ€æœ¯å€ºå †ç§¯å¦‚å±±ã€‚ä½ æƒ³æ¨åŠ¨ä»£ç è´¨é‡æå‡ï¼Œåœ¨å›¢é˜Ÿä¼šè®®ä¸Šæè®®ï¼š"æˆ‘ä»¬å¼€å¯ <code>@typescript-eslint/no-explicit-any</code> è§„åˆ™å§ï¼Œå‡å°‘ <code>any</code> çš„æ»¥ç”¨ã€‚"</p>
<p>ç„¶åä½ åœ¨æœ¬åœ°è¯•è¿è¡Œäº†ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ eslint .
âœ– 1,247 problems (1,247 errors, 0 warnings)
</code></pre>
<p><strong>1,247 ä¸ªé”™è¯¯</strong>ã€‚</p>
<p>ä½ çš„ç¬¬ä¸€ååº”å¯èƒ½æ˜¯ï¼š"ç®—äº†ï¼Œè¿˜æ˜¯åˆ«å¼€äº†ã€‚" å›¢é˜Ÿæˆå‘˜ä¹Ÿæ¾äº†ä¸€å£æ°”â€”â€”æ¯•ç«Ÿè°ä¹Ÿä¸æƒ³åœ¨ JIRA é‡Œçœ‹åˆ°ä¸€ä¸ª"ä¿®å¤ 1,247 ä¸ª Lint é”™è¯¯"çš„ä»»åŠ¡ã€‚</p>
<p>ä½†é—®é¢˜æ˜¯ï¼Œå¦‚æœç°åœ¨ä¸å¼€å¯è§„åˆ™ï¼Œæ–°ä»£ç è¿˜ä¼šç»§ç»­ä½¿ç”¨ <code>any</code>ï¼ŒæŠ€æœ¯å€ºåªä¼šè¶Šæ»šè¶Šå¤§ã€‚è¿™å°±æ˜¯å…¸å‹çš„"<strong>å­˜é‡é—®é¢˜æ‹–ç´¯å¢é‡æ”¹è¿›</strong>"çš„å›°å¢ƒã€‚</p>
<p>ä»Šå¤©è¦ä»‹ç»çš„ <strong>ESLint æ‰¹é‡æŠ‘åˆ¶ï¼ˆBulk Suppressionsï¼‰</strong> åŠŸèƒ½ï¼Œå°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œç”Ÿçš„ã€‚</p>
<h3 data-id="heading-2">æ ¸å¿ƒæ€è·¯ï¼šæ—¢å¾€ä¸å’ï¼Œä¸¥æ§å¢é‡</h3>
<p>æ‰¹é‡æŠ‘åˆ¶çš„æ ¸å¿ƒç†å¿µå¯ä»¥ç”¨å…«ä¸ªå­—æ¦‚æ‹¬ï¼š<strong>æ—¢å¾€ä¸å’ï¼Œä¸¥æ§å¢é‡</strong>ã€‚</p>
<h4 data-id="heading-3">å·¥ä½œæœºåˆ¶</h4>
<p>å½“ä½ å¯ç”¨æ‰¹é‡æŠ‘åˆ¶åï¼ŒESLint ä¼šåšä¸‰ä»¶äº‹ï¼š</p>
<ol>
<li><strong>è®°å½•ç°çŠ¶</strong>ï¼šå°†å½“å‰æ‰€æœ‰è¿è§„è®°å½•åˆ° <code>eslint-suppressions.json</code> æ–‡ä»¶ä¸­</li>
<li><strong>æš‚æ—¶æ”¾è¡Œ</strong>ï¼šå¯¹äºå·²è®°å½•çš„æ—§ä»£ç è¿è§„ï¼ŒESLint æš‚æ—¶å¿½ç•¥ï¼ŒCI/CD æ­£å¸¸é€šè¿‡</li>
<li><strong>ä¸¥æ ¼å¡æ§</strong>ï¼šå¯¹äºæ–°å¢çš„ä»£ç ï¼Œè§„åˆ™ç«‹å³ç”Ÿæ•ˆï¼Œä»»ä½•æ–°è¿è§„éƒ½ä¼šæŠ¥é”™</li>
</ol>
<p>çœ‹ä¸€ä¸ªå®é™…çš„æŠ‘åˆ¶æ–‡ä»¶ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"suppressions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"ruleId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"@typescript-eslint/no-explicit-any"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"file"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/components/UserProfile.tsx"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"count"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"ruleId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"@typescript-eslint/no-explicit-any"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"file"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/utils/request.ts"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"count"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿™ä¸ªæ–‡ä»¶å‘Šè¯‰ ESLintï¼š"UserProfile.tsx æ–‡ä»¶é‡Œæœ‰ 12 ä¸ª <code>any</code>ï¼Œè¿™æ˜¯å†å²é—ç•™é—®é¢˜ï¼Œæš‚æ—¶æ”¾è¿‡ã€‚ä½†å¦‚æœå‡ºç°ç¬¬ 13 ä¸ªï¼Œç«‹å³æŠ¥é”™ã€‚"</p>
<h4 data-id="heading-4">ç›‘æ§æœºåˆ¶</h4>
<p>æ‰¹é‡æŠ‘åˆ¶ä¸æ˜¯"ä¸€æŠ‘äº†ä¹‹"ï¼Œè€Œæ˜¯æœ‰ä¸¥æ ¼çš„ç›‘æ§ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/components/UserProfile.tsx</span>
<span class="hljs-comment">// å·²è®°å½• 12 ä¸ª anyï¼Œå½“å‰ 12 ä¸ª â†’  é€šè¿‡</span>

<span class="hljs-comment">// å¦‚æœå¼€å‘è€…æ–°å¢äº†ä¸€ä¸ª anyï¼š</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleData</span>(<span class="hljs-params">data: <span class="hljs-built_in">any</span></span>) {  <span class="hljs-comment">// è¿™æ˜¯ç¬¬ 13 ä¸ªï¼</span>
  <span class="hljs-comment">// ...</span>
}

<span class="hljs-comment">// ESLint ä¼šç«‹å³æŠ¥å‘Šè¯¥æ–‡ä»¶çš„æ‰€æœ‰è¿è§„ï¼š</span>
<span class="hljs-comment">// âœ– 13 problems in src/components/UserProfile.tsx</span>
</code></pre>
<p>ä¸€æ—¦è¿è§„æ•°è¶…æ ‡ï¼ŒESLint ä¼šæš´éœ²<strong>è¯¥æ–‡ä»¶çš„æ‰€æœ‰é—®é¢˜</strong>ï¼Œå€’é€¼å¼€å‘è€…è¦ä¹ˆä¿®å¤æ–°é—®é¢˜ï¼Œè¦ä¹ˆé¡ºæ‰‹æŠŠæ—§é—®é¢˜ä¹Ÿä¸€èµ·è§£å†³ã€‚</p>
<h3 data-id="heading-5">å®æˆ˜ï¼šåœ¨ React + TypeScript é¡¹ç›®ä¸­è½åœ°</h3>
<h4 data-id="heading-6">åœºæ™¯è®¾å®š</h4>
<p>å‡è®¾ä½ è´Ÿè´£ä¸€ä¸ªç”µå•†é¡¹ç›®ï¼ŒæŠ€æœ¯æ ˆæ˜¯ React + TypeScriptï¼Œå›¢é˜Ÿ 8 äººï¼Œä»£ç åº“ç°çŠ¶ï¼š</p>
<ul>
<li>150+ ä¸ªç»„ä»¶æ–‡ä»¶</li>
<li>TypeScript é…ç½®è¾ƒå®½æ¾ï¼ˆ<code>strict: false</code>ï¼‰</li>
<li>å¤§é‡ä½¿ç”¨ <code>any</code>ã€éç©ºæ–­è¨€ã€éšå¼ç±»å‹è½¬æ¢</li>
<li>å›¢é˜Ÿå¯¹"çªç„¶å†’å‡ºçš„å‡ ç™¾ä¸ª Lint é”™è¯¯"éå¸¸æŠµè§¦</li>
</ul>
<p>ä½ çš„ç›®æ ‡æ˜¯ï¼š<strong>åœ¨ä¸å½±å“ç°æœ‰å¼€å‘èŠ‚å¥çš„å‰æä¸‹ï¼Œé€æ­¥æå‡ä»£ç è´¨é‡</strong>ã€‚</p>
<h4 data-id="heading-7">ç¬¬ä¸€æ­¥ï¼šè¯„ä¼°ç°çŠ¶</h4>
<p>å…ˆçœ‹çœ‹å¦‚æœç›´æ¥å¼€å¯ä¸¥æ ¼è§„åˆ™ä¼šæ€æ ·ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// eslint.config.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> [
  {
    <span class="hljs-attr">files</span>: [<span class="hljs-string">"**/*.{ts,tsx}"</span>],
    <span class="hljs-attr">rules</span>: {
      <span class="hljs-string">"@typescript-eslint/no-explicit-any"</span>: <span class="hljs-string">"error"</span>,
      <span class="hljs-string">"@typescript-eslint/no-non-null-assertion"</span>: <span class="hljs-string">"error"</span>,
      <span class="hljs-string">"@typescript-eslint/strict-boolean-expressions"</span>: <span class="hljs-string">"error"</span>
    }
  }
];
</code></pre>
<p>è¿è¡Œæ£€æŸ¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ eslint .

src/components/ProductList.tsx
  12:15  error  Unexpected any. Specify a different <span class="hljs-built_in">type</span>  @typescript-eslint/no-explicit-any
  23:8   error  Forbidden non-null assertion              @typescript-eslint/no-non-null-assertion
  ...

src/utils/formatPrice.ts
  5:22   error  Unexpected any. Specify a different <span class="hljs-built_in">type</span>  @typescript-eslint/no-explicit-any
  ...

âœ– 847 problems (847 errors, 0 warnings)
</code></pre>
<p><strong>847 ä¸ªé”™è¯¯</strong>ã€‚å¦‚æœå¼ºè¡Œæ¨è¿›ï¼Œç»“æœå¯æƒ³è€ŒçŸ¥ï¼š</p>
<ul>
<li>å›¢é˜Ÿæˆå‘˜æŠ±æ€¨ï¼š"åˆè¦åŠ ç­ä¿® Bug äº†"</li>
<li>CI/CD æ„å»ºå¤±è´¥ï¼Œé˜»å¡æ‰€æœ‰äººçš„å¼€å‘</li>
<li>æœ€åå¯èƒ½ä¸å¾—ä¸å›æ»šé…ç½®</li>
</ul>
<h4 data-id="heading-8">ç¬¬äºŒæ­¥ï¼šä½¿ç”¨æ‰¹é‡æŠ‘åˆ¶</h4>
<p>å†·é™ä¸‹æ¥ï¼Œæ¢ä¸ªæ€è·¯â€”â€”ç”¨æ‰¹é‡æŠ‘åˆ¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å¼€å¯è§„åˆ™å¹¶ç”ŸæˆæŠ‘åˆ¶æ–‡ä»¶</span>
$ eslint . --suppress-all --fix

<span class="hljs-comment"># è‡ªåŠ¨ä¿®å¤äº† 142 ä¸ªé—®é¢˜</span>
<span class="hljs-comment"># å‰©ä½™ 705 ä¸ªé—®é¢˜è®°å½•åˆ° eslint-suppressions.json</span>

âœ” Suppressions written to eslint-suppressions.json
</code></pre>
<p>è¿™ä¸ªå‘½ä»¤åšäº†ä¸¤ä»¶äº‹ï¼š</p>
<ol>
<li><strong>è‡ªåŠ¨ä¿®å¤</strong>ï¼šèƒ½è‡ªåŠ¨ä¿®å¤çš„é—®é¢˜ï¼ˆæ¯”å¦‚æ·»åŠ ç±»å‹æ³¨è§£ï¼‰ç›´æ¥ä¿®å¤</li>
<li><strong>è®°å½•å­˜é‡</strong>ï¼šæ— æ³•è‡ªåŠ¨ä¿®å¤çš„é—®é¢˜è®°å½•åˆ°æŠ‘åˆ¶æ–‡ä»¶</li>
</ol>
<p>ç°åœ¨å†è¿è¡Œ <code>eslint .</code>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ eslint .
âœ” No problems found
</code></pre>
<p>å®Œç¾é€šè¿‡ï¼å…³é”®æ˜¯ï¼Œ<strong>æ–°ä»£ç å¿…é¡»ç¬¦åˆè§„åˆ™</strong>ã€‚</p>
<h4 data-id="heading-9">ç¬¬ä¸‰æ­¥ï¼šéªŒè¯å¢é‡å¡æ§</h4>
<p>è®©æˆ‘ä»¬éªŒè¯ä¸€ä¸‹ï¼Œæ–°ä»£ç æ˜¯å¦çœŸçš„ä¼šè¢«æ‹¦æˆªã€‚</p>
<p>æŸä¸ªå¼€å‘è€…åœ¨æ–°åŠŸèƒ½ä¸­å†™äº†è¿™æ ·çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/components/NewFeature.tsx (æ–°æ–‡ä»¶)</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Props</span> {
  <span class="hljs-attr">data</span>: <span class="hljs-built_in">any</span>;  <span class="hljs-comment">// x æ–°ä»£ç ä½¿ç”¨ any</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">NewFeature</span>(<span class="hljs-params">{ data }: Props</span>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{data.name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<p>è¿è¡Œæ£€æŸ¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ eslint src/components/NewFeature.tsx

src/components/NewFeature.tsx
  4:9  error  Unexpected any. Specify a different <span class="hljs-built_in">type</span>  @typescript-eslint/no-explicit-any

âœ– 1 problem (1 error, 0 warnings)
</code></pre>
<p><strong>ç«‹å³æŠ¥é”™</strong>ï¼å› ä¸ºè¿™æ˜¯æ–°æ–‡ä»¶ï¼Œä¸åœ¨æŠ‘åˆ¶åˆ—è¡¨ä¸­ã€‚</p>
<p>å¼€å‘è€…å¿…é¡»ä¿®å¤æ‰èƒ½æäº¤ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¿®å¤å</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ProductData</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">price</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Props</span> {
  <span class="hljs-attr">data</span>: <span class="hljs-title class_">ProductData</span>;  <span class="hljs-comment">//  ä½¿ç”¨æ˜ç¡®çš„ç±»å‹</span>
}
</code></pre>
<h4 data-id="heading-10">ç¬¬å››æ­¥ï¼šå»ºç«‹æ—¥å¸¸å·¥ä½œæµ</h4>
<p><strong>1. å®šæœŸæ¸…ç†å·²ä¿®å¤çš„æŠ‘åˆ¶</strong></p>
<p>å½“å›¢é˜Ÿä¿®å¤äº†ä¸€äº›æ—§ä»£ç åï¼Œä½¿ç”¨ <code>--prune-suppressions</code> æ¸…ç†ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ eslint . --prune-suppressions

âœ” Removed 23 suppressions that are no longer needed
</code></pre>
<p>è¿™ä¸ªå‘½ä»¤ä¼šï¼š</p>
<ul>
<li>æ£€æŸ¥æ¯ä¸ªæŠ‘åˆ¶é¡¹æ˜¯å¦è¿˜å­˜åœ¨å¯¹åº”çš„è¿è§„</li>
<li>å¦‚æœè¿è§„å·²ä¿®å¤ï¼Œä»æŠ‘åˆ¶æ–‡ä»¶ä¸­ç§»é™¤è¯¥è®°å½•</li>
</ul>
<p><strong>2. Code Review å…³æ³¨ç‚¹</strong></p>
<p>åœ¨ä»£ç è¯„å®¡æ—¶ï¼Œå¢åŠ ä¸€ä¸ªæ£€æŸ¥é¡¹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## Code Review Checklist</span>

<span class="hljs-bullet">-</span> [ ] ä»£ç é€»è¾‘æ­£ç¡®
<span class="hljs-bullet">-</span> [ ] æµ‹è¯•è¦†ç›–å……åˆ†
<span class="hljs-bullet">-</span> [ ] <span class="hljs-strong">**æŠ€æœ¯å€ºè¶‹åŠ¿**</span>ï¼š
<span class="hljs-bullet">  -</span> [ ] æ²¡æœ‰æ–°å¢ eslint-suppressions.json ä¸­çš„æŠ‘åˆ¶é¡¹
<span class="hljs-bullet">  -</span> [ ] å¦‚æœä¿®æ”¹äº†æ—§æ–‡ä»¶ï¼Œæ˜¯å¦é¡ºæ‰‹ä¿®å¤äº†éƒ¨åˆ† Lint é—®é¢˜
</code></pre>
<h3 data-id="heading-11">è¿›é˜¶æŠ€å·§</h3>
<h4 data-id="heading-12">æŠ€å·§ 1: æŒ‰æ¨¡å—åˆ†æ‰¹æŠ‘åˆ¶</h4>
<p>å¦‚æœä½ æƒ³å…ˆå¯¹æ ¸å¿ƒæ¨¡å—ä¸¥æ ¼è¦æ±‚ï¼Œå¯ä»¥è¿™æ ·æ“ä½œï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…ˆå¯¹ utils å’Œ hooks ç›®å½•å¼€å¯ä¸¥æ ¼æ¨¡å¼</span>
$ eslint src/utils src/hooks --suppress-all --fix

<span class="hljs-comment"># å…¶ä»–ç›®å½•æš‚æ—¶ä¸æ£€æŸ¥</span>
</code></pre>
<h4 data-id="heading-13">æŠ€å·§ 2: ç»“åˆ Git Hooks</h4>
<p>æ¨èä½¿ç”¨ <code>lint-staged</code> æ¥ç²¾ç¡®æ§åˆ¶åªæ£€æŸ¥æš‚å­˜åŒºçš„æ–‡ä»¶ï¼Œæ¯”æ‰‹å†™è„šæœ¬æ›´ç¨³å¥ï¼š</p>
<ol>
<li>
<p>å®‰è£…ä¾èµ–ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install --save-dev lint-staged husky
</code></pre>
</li>
<li>
<p>é…ç½® <code>package.json</code>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"lint-staged"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"*.{ts,tsx}"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"eslint"</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</li>
<li>
<p>åœ¨ <code>.husky/pre-commit</code> ä¸­è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/sh</span>
npx lint-staged
</code></pre>
</li>
</ol>
<p>è¿™æ ·ï¼Œæ¯æ¬¡æäº¤æ—¶ï¼ŒESLint åªä¼šæ£€æŸ¥ä½ ä¿®æ”¹çš„æ–‡ä»¶ã€‚å¦‚æœæœ‰æ–°å¢çš„è¿è§„ï¼ˆä¸”æœªè¢«æŠ‘åˆ¶ï¼‰ï¼Œæäº¤å°†è¢«æ‹¦æˆªã€‚</p>
<h4 data-id="heading-14">æŠ€å·§ 3: åˆ¶å®šâ€œç«¥å­å†›è§„åˆ™â€</h4>
<p>åœ¨å›¢é˜Ÿä¸­æ¨è¡Œ<strong>ç«¥å­å†›è§„åˆ™</strong>ï¼ˆBoy Scout Ruleï¼‰ï¼š</p>
<blockquote>
<p>"ç¦»å¼€æ—¶ï¼Œè®©ä»£ç æ¯”ä½ æ¥æ—¶æ›´å¹²å‡€ä¸€ç‚¹ã€‚"</p>
</blockquote>
<p>å…·ä½“åšæ³•ï¼š</p>
<ul>
<li>å¦‚æœä½ ä¿®æ”¹äº†æŸä¸ªæ—§æ–‡ä»¶ï¼Œé¡ºæ‰‹ä¿®å¤ 1-2 ä¸ª Lint é—®é¢˜</li>
<li>åœ¨ Code Review æ—¶ï¼Œç»™äºˆ"æŠ€æœ¯å€ºä¿®å¤"é¢å¤–çš„è®¤å¯</li>
</ul>
<h3 data-id="heading-15">æ€»ç»“ï¼šæŠ€æœ¯å€ºæ²»ç†çš„ä¸‰ä¸ªåŸåˆ™</h3>
<p>é€šè¿‡ ESLint æ‰¹é‡æŠ‘åˆ¶åŠŸèƒ½ï¼Œæˆ‘ä»¬å­¦åˆ°çš„ä¸ä»…æ˜¯ä¸€ä¸ªå·¥å…·çš„ä½¿ç”¨ï¼Œæ›´æ˜¯ä¸€ç§<strong>æŠ€æœ¯å€ºæ²»ç†çš„æ–¹æ³•è®º</strong>ï¼š</p>
<h4 data-id="heading-16">åŸåˆ™ 1: ä¸è¦è®©å­˜é‡é—®é¢˜é˜»ç¢å¢é‡æ”¹è¿›</h4>
<p>ä¼ ç»Ÿæ€ç»´ï¼š"è¦ä¹ˆå…¨ä¿®ï¼Œè¦ä¹ˆä¸ä¿®"ã€‚
æ‰¹é‡æŠ‘åˆ¶æ€ç»´ï¼š"å­˜é‡æš‚æ—¶å†»ç»“ï¼Œå¢é‡ä¸¥æ ¼å¡æ§"ã€‚</p>
<h4 data-id="heading-17">åŸåˆ™ 2: æ¸è¿›å¼æ”¹è¿›ä¼˜äºä¸€æ¬¡æ€§é‡æ„</h4>
<p>ä¸€æ¬¡æ€§é‡æ„çš„é£é™©ï¼š</p>
<ul>
<li>å‘¨æœŸé•¿ï¼Œé£é™©é«˜</li>
<li>å½±å“ä¸šåŠ¡äº¤ä»˜</li>
<li>å›¢é˜ŸæŠµè§¦æƒ…ç»ªå¤§</li>
</ul>
<p>æ¸è¿›å¼æ”¹è¿›çš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>æ¯æ¬¡æ”¹è¿›å¯è§ã€å¯æ§</li>
<li>ä¸å½±å“æ­£å¸¸è¿­ä»£</li>
<li>å›¢é˜Ÿè´Ÿæ‹…å°</li>
</ul>
<h4 data-id="heading-18">åŸåˆ™ 3: ç”¨å·¥å…·å’Œæµç¨‹ä¿éšœï¼Œè€Œéé è‡ªè§‰</h4>
<p>ä¸è¦æŒ‡æœ›å›¢é˜Ÿæˆå‘˜"è‡ªè§‰åœ°"æå‡ä»£ç è´¨é‡ã€‚åº”è¯¥ï¼š</p>
<ul>
<li><strong>å·¥å…·æ‹¦æˆª</strong>ï¼šESLint è‡ªåŠ¨æ£€æŸ¥æ–°ä»£ç </li>
<li><strong>CI ç›‘æ§</strong>ï¼šè‡ªåŠ¨æ£€æµ‹æŠ€æœ¯å€ºè¶‹åŠ¿</li>
<li><strong>æµç¨‹ä¿éšœ</strong>ï¼šCode Review æ£€æŸ¥æ¸…å•</li>
</ul>
<hr/>
<h3 data-id="heading-19">å‚è€ƒèµ„æ–™</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Feslint.org%2Fblog%2F2025%2F04%2Fintroducing-bulk-suppressions%2F" target="_blank" title="https://eslint.org/blog/2025/04/introducing-bulk-suppressions/" ref="nofollow noopener noreferrer">ESLint å®˜æ–¹åšå®¢ï¼šIntroducing Bulk Suppressions</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Feslint.org%2Fdocs%2Flatest%2F" target="_blank" title="https://eslint.org/docs/latest/" ref="nofollow noopener noreferrer">ESLint å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftypescript-eslint.io%2Frules%2F" target="_blank" title="https://typescript-eslint.io/rules/" ref="nofollow noopener noreferrer">TypeScript ESLint è§„åˆ™å‚è€ƒ</a></li>
</ul>
<hr/>
<blockquote>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµæ”¶è—ï¼ä¹Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ åœ¨æŠ€æœ¯å€ºæ²»ç†æ–¹é¢çš„ç»éªŒå’Œå›°æƒ‘ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Open Claude Coworkï¼šåŸºäº Electron + React + ACP çš„æœ¬åœ°å¤š Agent åä½œæ¡Œé¢åº”ç”¨]]></title>    <link>https://juejin.cn/post/7599581687357571122</link>    <guid>https://juejin.cn/post/7599581687357571122</guid>    <pubDate>2026-01-26T17:48:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599581687357571122" data-draft-id="7599530824426323978" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Open Claude Coworkï¼šåŸºäº Electron + React + ACP çš„æœ¬åœ°å¤š Agent åä½œæ¡Œé¢åº”ç”¨"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-26T17:48:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="_é¸¡è„šèŠå£«_"/> <meta itemprop="url" content="https://juejin.cn/user/1732486058737917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Open Claude Coworkï¼šåŸºäº Electron + React + ACP çš„æœ¬åœ°å¤š Agent åä½œæ¡Œé¢åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1732486058737917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    _é¸¡è„šèŠå£«_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T17:48:10.000Z" title="Mon Jan 26 2026 17:48:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><blockquote>
<p>é¢å‘â€œå¤šä»»åŠ¡ã€å¤š Agentã€å¯æœ¬åœ°æ‰§è¡Œâ€çš„ AI åä½œåœºæ™¯ï¼Œè¿™ä¸ªä»“åº“æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„æ¡Œé¢ç«¯å®ç°ï¼šå‰ç«¯è´Ÿè´£å¤šä»»åŠ¡ä¸å¯¹è¯ä½“éªŒï¼Œä¸»è¿›ç¨‹è´Ÿè´£ ACP è¿æ¥ã€æƒé™ä¸
ç³»ç»Ÿèƒ½åŠ›ï¼ŒSQLite åšæœ¬åœ°æŒä¹…åŒ–ï¼Œæ•´ä½“å¯ç¦»çº¿è¿è¡Œå¹¶é€‚é…å¤šä¸ª Agent CLIã€‚</p>
</blockquote>
<h2 data-id="heading-0">1. é¡¹ç›®å®šä½ä¸æ ¸å¿ƒä»·å€¼</h2>
<p>Open Claude Cowork çš„æ ¸å¿ƒå®šä½æ˜¯ï¼šè®©å¤šä¸ª AI Agent ä»¥ç»Ÿä¸€åè®®ï¼ˆACPï¼‰åœ¨æ¡Œé¢ç«¯è¢«ç®¡ç†ã€å¯¹è¯ä¸åä½œã€‚
å…¶ç‰¹ç‚¹å¯ä»¥æ¦‚æ‹¬ä¸ºï¼š</p>
<ul>
<li>ä»»åŠ¡ä¸ºä¸­å¿ƒï¼šæ¯ä¸ªä»»åŠ¡ç»‘å®šç‹¬ç«‹å·¥ä½œåŒºä¸ Agent ä¼šè¯ï¼Œé€‚åˆé•¿æœŸåä½œã€‚</li>
<li>ACP ç»Ÿä¸€åè®®ï¼šé€šè¿‡ @agentclientprotocol/sdk ç»Ÿä¸€æ¥å…¥ä¸åŒ Agent CLIã€‚</li>
<li>å¯æ§æƒé™ä¸å·¥å…·è°ƒç”¨å¯è§†åŒ–ï¼šå·¥å…·è°ƒç”¨ã€æƒé™è¯·æ±‚ä¼šè¢« UI æ•è·å¹¶å¯äººå·¥ç¡®è®¤ã€‚</li>
<li>æœ¬åœ°æ•°æ®ä¸éšç§ä¼˜å…ˆï¼šä»»åŠ¡ä¸è®¾ç½®è½åœ¨æœ¬åœ° SQLite ä¸­ã€‚</li>
</ul>
<h2 data-id="heading-1">2. æŠ€æœ¯æ ˆä¸å·¥ç¨‹åŒ–é€‰å‹</h2>
<p>ä» package.json å’Œæ„å»ºé…ç½®æ¥çœ‹ï¼Œè¯¥é¡¹ç›®æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ Electron æ¡Œé¢åº”ç”¨ï¼ŒæŠ€æœ¯å…³é”®ç‚¹å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä¸»è¿›ç¨‹ï¼šElectron + Node.jsï¼ˆTypeScriptï¼‰</li>
<li>æ¸²æŸ“å±‚ï¼šReact + Ant Design + Tailwind CSS</li>
<li>æ„å»ºå·¥å…·ï¼šRsbuildï¼ˆåˆ†åˆ«æ„å»º main ä¸ renderï¼‰</li>
<li>æ•°æ®åº“ï¼šbetter-sqlite3ï¼ˆWAL æ¨¡å¼ï¼‰</li>
<li>åè®®ï¼šACPï¼ˆAgent Client Protocolï¼‰</li>
<li>æ‰“åŒ…ï¼šelectron-builder + plop æ‰§è¡Œæ„å»ºæµç¨‹</li>
</ul>
<p>ç›¸å…³è·¯å¾„å‚è€ƒï¼špackage.json, builder/rsbuild.*.ts, builder.js, plopfile.jsã€‚</p>
<h2 data-id="heading-2">3. æ¶æ„æ€»è§ˆï¼ˆMain/Renderer/ACPï¼‰</h2>
<p>æ•´ä½“æ¶æ„å¯ä»¥ç®€åŒ–ä¸ºä¸‰å±‚ï¼š</p>
<p>Renderer (React UI)
â”‚  window.electron.invoke / on
â–¼
Main Process (Electron)
â”œâ”€ IPC: env / db / agent / dialog
â”œâ”€ ACP: AcpAgentManager â†’ AcpAgent â†’ AcpConnection
â””â”€ SQLite: settings / tasks</p>
<ul>
<li>Renderer é€šè¿‡ preload.ts æš´éœ²çš„ window.electron è°ƒç”¨ IPCã€‚</li>
<li>Main è´Ÿè´£ è¿æ¥ Agentã€æƒé™å¤„ç†ã€æ–‡ä»¶è¯»å†™ã€æŒä¹…åŒ–ã€‚</li>
<li>ACP åè®®é€šè¿‡ @agentclientprotocol/sdk é©±åŠ¨ JSON-RPC æµã€‚</li>
</ul>
<p>æ ¸å¿ƒå…¥å£æ–‡ä»¶ï¼šsrc/main/index.tsã€src/main/preload.tsã€src/render/index.tsxã€src/render/AppNew.tsxã€‚</p>
<h2 data-id="heading-3">4. æ ¸å¿ƒæ¨¡å—è¯¦è§£</h2>
<h3 data-id="heading-4">4.1 Main è¿›ç¨‹ä¸ IPC æ¡¥æ¥</h3>
<p>ä¸»è¿›ç¨‹å…¥å£åœ¨ src/main/index.tsï¼Œä¸»è¦èŒè´£åŒ…æ‹¬ï¼š</p>
<ul>
<li>åˆå§‹åŒ–æ•°æ®åº“ï¼ˆinitDB()ï¼‰</li>
<li>æ³¨å†Œè‡ªå®šä¹‰åè®® wallpaper://</li>
<li>åˆ›å»ºçª—å£ï¼ˆBrowserWindowï¼‰å¹¶åŠ è½½ URL</li>
<li>æ³¨å†Œ IPC æ¨¡å—ï¼šenv, dialog, db, agent</li>
</ul>
<p>IPC handler åˆ†å¸ƒï¼š</p>
<ul>
<li>ç¯å¢ƒä¸ç³»ç»Ÿèƒ½åŠ›ï¼šsrc/main/ipc/env.ts</li>
<li>é€‰æ‹©æ–‡ä»¶/ç›®å½•ï¼šsrc/main/ipc/dialog.ts</li>
<li>æ•°æ®åº“ CRUDï¼šsrc/main/ipc/db.ts</li>
<li>Agent ç®¡ç†ï¼šsrc/main/ipc/agent.ts</li>
</ul>
<p>src/main/preload.ts åˆ™é€šè¿‡ contextBridge æš´éœ²æœ€å°èƒ½åŠ›ï¼š</p>
<p>window.electron.send / invoke / on</p>
<p>è¿™ä¿è¯äº†æ¸²æŸ“å±‚ä¸ä¸»è¿›ç¨‹é€šä¿¡çš„å®‰å…¨è¾¹ç•Œã€‚</p>
<h3 data-id="heading-5">4.2 ACP æ¥å…¥é“¾è·¯ï¼ˆæ ¸å¿ƒï¼‰</h3>
<p>ACP çš„æ¥å…¥ç”±å››ä¸ªæ ¸å¿ƒç±»æ„æˆï¼š</p>
<ol>
<li>AcpDetectorï¼ˆsrc/main/acp/AcpDetector.tsï¼‰
<ul>
<li>æ‰«ææœ¬åœ° CLIï¼ˆå¦‚ qwenã€geminiã€npxï¼‰</li>
<li>è¿”å›å¯ç”¨ Agent åˆ—è¡¨</li>
<li>æ£€æµ‹å‘½ä»¤æ¥è‡ª ACP_BACKENDS_ALLï¼ˆsrc/types/acpTypes.tsï¼‰</li>
</ul>
</li>
<li>AcpAgentManagerï¼ˆsrc/main/acp/AcpAgentManager.tsï¼‰
<ul>
<li>ç®¡ç†å½“å‰ Agent å®ä¾‹ã€å¤ç”¨è¿æ¥</li>
<li>è§£æå‘½ä»¤ã€å¤„ç†æœ¬åœ° bin ä¸ Node è¿è¡Œæ—¶é€»è¾‘</li>
<li>æä¾› connect/send/stop/newSession/loadSession ç­‰å…¥å£</li>
</ul>
</li>
<li>AcpAgentï¼ˆsrc/main/acp/AcpAgent.tsï¼‰
<ul>
<li>ä¼šè¯çº§åˆ«æ§åˆ¶ï¼Œè´Ÿè´£ initialize â†’ newSession â†’ prompt</li>
<li>æ”¯æŒ @file æ–‡æœ¬æ‰©å±•ï¼ˆè¯»å–å·¥ä½œåŒºæ–‡ä»¶å¹¶æ‹¼å…¥ promptï¼‰</li>
<li>å°† ACP åŸå§‹æ›´æ–°è½¬ä¸º UI å¯ç”¨æ¶ˆæ¯</li>
</ul>
</li>
<li>AcpConnectionï¼ˆsrc/main/acp/AcpConnection.tsï¼‰
<ul>
<li>spawn å­è¿›ç¨‹ï¼Œå¹¶é€šè¿‡ ndJsonStream å»ºç«‹ JSON-RPC æµ</li>
<li>æ”¯æŒæƒé™è¯·æ±‚ã€æ–‡ä»¶è¯»å†™ã€runShellCommand æ‰©å±•</li>
<li>å…·å¤‡ prompt è¶…æ—¶ä¸æš‚åœ/æ¢å¤æœºåˆ¶</li>
</ul>
</li>
</ol>
<p>è¿™ç§åˆ†å±‚ä½¿ ACP é€»è¾‘æ¸…æ™°ï¼šè¿æ¥ã€ä¼šè¯ã€æ¶ˆæ¯é€‚é…ã€UI é€šçŸ¥å„è‡ªéš”ç¦»ã€‚</p>
<h3 data-id="heading-6">4.3 æœ¬åœ°æ•°æ®æ¨¡å‹</h3>
<p>æ•°æ®åº“åœ¨ src/main/db/store.ts åˆå§‹åŒ–ï¼š</p>
<ul>
<li>settingsï¼šä¿å­˜è‡ªå®šä¹‰è·¯å¾„ã€ä¸»é¢˜ã€å£çº¸ç­‰</li>
<li>tasksï¼šä»»åŠ¡ç»´åº¦è®°å½•
<ul>
<li>id/title/workspace</li>
<li>agent_command/agent_env</li>
<li>messages/session_id/model_id/token_usage</li>
<li>created_at/updated_at/last_active_at</li>
</ul>
</li>
</ul>
<p>ä»»åŠ¡æ•°æ®åœ¨ Renderer å†…é€šè¿‡ IPC æŒä¹…åŒ–ï¼ˆdb:create-task, db:update-taskï¼‰ã€‚</p>
<h3 data-id="heading-7">4.4 æ¸²æŸ“å±‚äº¤äº’ä¸æ¶ˆæ¯æ¨¡å‹</h3>
<p>æ ¸å¿ƒ UI åœ¨ src/render/AppNew.tsxï¼Œç‰¹å¾åŒ…æ‹¬ï¼š</p>
<ul>
<li>å¤šä»»åŠ¡çŠ¶æ€ç®¡ç†ï¼šä»»åŠ¡åˆ—è¡¨ã€å½“å‰ä»»åŠ¡ã€ä»»åŠ¡çº§è¿æ¥çŠ¶æ€</li>
<li>æ¶ˆæ¯æµä¸åˆå¹¶ï¼š
<ul>
<li>MessageComposer åˆå¹¶æµå¼æ–‡æœ¬ä¸ tool_call æ›´æ–°</li>
<li>messageTransformer åœ¨ ACP æ¶ˆæ¯ä¸ UI æ¶ˆæ¯ä¹‹é—´è½¬æ¢</li>
</ul>
</li>
<li>ç¯å¢ƒæ£€æµ‹ä¸å¼•å¯¼ï¼šEnvironmentSetup.tsx</li>
<li>è®¾ç½®ä¸ Agent é…ç½®ï¼šSettingsModal.tsx</li>
</ul>
<p>æ¶ˆæ¯åˆå¹¶ç­–ç•¥ï¼ˆsrc/render/utils/messageComposer.tsï¼‰ä½“ç°ä¸ºï¼š</p>
<ul>
<li>msg_id å¤ç”¨ â†’ æ–‡æœ¬æµå¼æ‹¼æ¥</li>
<li>toolCallId å¯¹åº” â†’ tool call çŠ¶æ€æ›´æ–°åˆå¹¶</li>
<li>thought å•ç‹¬æ‹¼æ¥</li>
</ul>
<p>è¿™ä¿è¯äº†å¯¹è¯ä½“éªŒå¯è¿ç»­æ˜¾ç¤ºï¼ŒåŒæ—¶ä¿ç•™å·¥å…·è°ƒç”¨ä¿¡æ¯ã€‚</p>
<h3 data-id="heading-8">4.5 æƒé™ä¸å·¥å…·è°ƒç”¨å±•ç¤º</h3>
<p>ACP æ”¯æŒæƒé™è¯·æ±‚ä¸å·¥å…·è°ƒç”¨ã€‚
åœ¨æœ¬é¡¹ç›®ä¸­ï¼š</p>
<ul>
<li>Main åœ¨ AcpConnection.requestPermission æ—¶ä¼šæŒ‚èµ· prompt è¶…æ—¶</li>
<li>Renderer æ”¶åˆ° permission_request åå±•ç¤º UI</li>
<li>ç”¨æˆ·åé¦ˆé€šè¿‡ agent:permission-response è¿”è¿˜ç»™ä¸»è¿›ç¨‹</li>
<li>tool call æ—¥å¿—ä»¥ tool_call/tool_call_update å½¢å¼è¿›å…¥æ¶ˆæ¯æµ</li>
</ul>
<h3 data-id="heading-9">4.6 ç¯å¢ƒä¸ Node è¿è¡Œæ—¶ç®¡ç†</h3>
<p>ä¸ºäº†æ”¯æŒæœ¬åœ° CLI Agentï¼Œéœ€è¦ Node + npmï¼š</p>
<ul>
<li>env:check æ£€æµ‹ Node/npm ç‰ˆæœ¬</li>
<li>env:set-node-runtime æ”¯æŒ custom Node è·¯å¾„</li>
<li>env:run-install-command æ”¯æŒä¸€é”®å®‰è£…ï¼ˆmac/linux nvmï¼ŒWindows chocoï¼‰</li>
</ul>
<p>å¯¹åº” UI åœ¨ EnvironmentSetup.tsxï¼Œä¼šè¿›è¡Œå¼•å¯¼å¹¶å±•ç¤ºæ‰§è¡Œæ—¥å¿—ã€‚</p>
<h2 data-id="heading-10">5. å…³é”®æµç¨‹æ‹†è§£</h2>
<h3 data-id="heading-11">5.1 åº”ç”¨å¯åŠ¨æµç¨‹</h3>
<ol>
<li>main/index.ts åˆå§‹åŒ– DB</li>
<li>æ³¨å†Œ wallpaper:// åè®®</li>
<li>åˆ›å»ºçª—å£å¹¶åŠ è½½ Renderer</li>
<li>æ³¨å†Œ IPC handlers</li>
<li>åˆå§‹åŒ– ACP CLI æ£€æµ‹å™¨</li>
</ol>
<h3 data-id="heading-12">5.2 ä¼šè¯ä¸æ¶ˆæ¯æµï¼ˆå…³é”®ï¼‰</h3>
<p>Renderer (SendBox)
â†’ ipc invoke agent:connect
â†’ AcpAgentManager.connect()
â†’ AcpAgent.connect()
â†’ AcpConnection.spawn + initialize
â†’ session/new
â†’ session/update (streaming)
â†’ MessageTransformer â†’ UI</p>
<h3 data-id="heading-13">5.3 ä»»åŠ¡ä¸ä¼šè¯æŒä¹…åŒ–</h3>
<ul>
<li>åˆ›å»ºä»»åŠ¡æ—¶å†™å…¥ SQLite</li>
<li>åˆ‡æ¢ä»»åŠ¡æ—¶åŒæ­¥ agentCommand/workspace</li>
<li>sessionId ä¸ modelId ä¼šå†™å›ä»»åŠ¡è¡¨</li>
</ul>
<p>è¿™ä½¿å¾—ä»»åŠ¡åœ¨é‡å¯åä»èƒ½æ¢å¤çŠ¶æ€ã€‚</p>
<h2 data-id="heading-14">6. æ„å»ºä¸å‘å¸ƒé“¾è·¯</h2>
<p>æ„å»ºé€»è¾‘é›†ä¸­åœ¨ plopfile.js ä¸ builder.jsï¼š</p>
<ul>
<li>pnpm run dev â†’ Rsbuild render + nodemon main</li>
<li>pnpm run build â†’ build main + render + electron-builder</li>
<li>BUILD_PLATFORM æ”¯æŒ darwin/win/linux</li>
</ul>
<p>æ‰“åŒ…é…ç½®ï¼š</p>
<ul>
<li>macï¼šdmgã€ç­¾åã€MAS é…ç½®</li>
<li>winï¼šnsis å®‰è£…åŒ…</li>
<li>linuxï¼šdeb/rpm</li>
</ul>
<p>è¾“å‡ºç›®å½•ï¼šrelease/app//ã€‚</p>
<h2 data-id="heading-15">7. æ‰©å±•ç‚¹ä¸å¯æ¼”è¿›ç©ºé—´</h2>
<p>å½“å‰æ‰©å±•æ–¹å¼ä¸»è¦é›†ä¸­åœ¨ï¼š</p>
<ul>
<li>ACP Agent åˆ—è¡¨ï¼šACP_BACKENDS_ALL + registry</li>
<li>è‡ªå®šä¹‰å‘½ä»¤ä¸ envï¼šUI å…è®¸è¾“å…¥ Agent command/env</li>
<li>runShellCommand æƒé™æœºåˆ¶ï¼šå¯ç»§ç»­åšç»†ç²’åº¦ç­–ç•¥</li>
</ul>
<p>å¯è¿›ä¸€æ­¥æ¼”è¿›ä¸ºï¼š</p>
<ul>
<li>MCP/å…¶ä»–åè®®å¹¶è¡Œæ¥å…¥</li>
<li>agent ç®¡ç†ä¸ç‰ˆæœ¬é”å®š</li>
<li>å·¥ä½œåŒºæ–‡ä»¶æƒé™ç™½åå•</li>
</ul>
<h2 data-id="heading-16">8. æˆªå›¾</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74f55ba5df504268b78432d7244e2c0b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-m4oeiEmuiKneWjq18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770054492&amp;x-signature=W5JzulQTbO5ZzwFWjQIffuDaozc%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0c7f4b6c54a4415ae45e8077dd26fb6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-m4oeiEmuiKneWjq18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770054492&amp;x-signature=0MypDL%2B9cLrtZASjkaTVKISyg5M%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/687ba2e5ba734eeca662c4c2346953df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-m4oeiEmuiKneWjq18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770054492&amp;x-signature=5hbNyigGoynsPpxk2wxj97GeUns%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5894648ac866449895bbf7247cd46109~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-m4oeiEmuiKneWjq18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770054492&amp;x-signature=01jdjqSHCtzQFkZOg4UnirjzC%2Fg%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4afcb6db37ce48fcb70403d571e358f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-m4oeiEmuiKneWjq18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770054492&amp;x-signature=odAd8%2F0TQXk5RMtaxBP38KzMPm8%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00894e88c3c643289c97370e8b66184b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-m4oeiEmuiKneWjq18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770054492&amp;x-signature=Maw0rXXzlIdDfdy2KKgPxtf4z4Q%3D" alt="image.png" loading="lazy"/></p>
<p>Gtihub åœ°å€ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMaidang1%2Fopen-claude-cowork" target="_blank" title="https://github.com/Maidang1/open-claude-cowork" ref="nofollow noopener noreferrer">github.com/Maidang1/opâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€n8nã€è¯»å†™æœ¬åœ°æ–‡ä»¶]]></title>    <link>https://juejin.cn/post/7599585289946087487</link>    <guid>https://juejin.cn/post/7599585289946087487</guid>    <pubDate>2026-01-27T00:56:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599585289946087487" data-draft-id="7599585289946071103" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€n8nã€è¯»å†™æœ¬åœ°æ–‡ä»¶"/> <meta itemprop="keywords" content="LLM,DeepSeek,AIGC"/> <meta itemprop="datePublished" content="2026-01-27T00:56:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¾·è‚²å¤„ä¸»ä»»"/> <meta itemprop="url" content="https://juejin.cn/user/2673620576140030"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€n8nã€è¯»å†™æœ¬åœ°æ–‡ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2673620576140030/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¾·è‚²å¤„ä¸»ä»»
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T00:56:27.000Z" title="Tue Jan 27 2026 00:56:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>ç‚¹èµ + å…³æ³¨ + æ”¶è— = å­¦ä¼šäº†</strong></p>
<blockquote>
<p>æ•´ç†äº†ä¸€ä¸ªn8nå°ä¸“æ ï¼Œæœ‰å…´è¶£çš„å·¥å‹å¯ä»¥å…³æ³¨ä¸€ä¸‹ ğŸ‘‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAwMjU3ODU5Ng%3D%3D%26action%3Dgetalbum%26album_id%3D4337364695070801925%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAwMjU3ODU5Ng==&amp;action=getalbum&amp;album_id=4337364695070801925#wechat_redirect" ref="nofollow noopener noreferrer">ã€Šn8nä¿®ç‚¼æ‰‹å†Œã€‹</a></p>
</blockquote>
<p>åœ¨ä½¿ç”¨ n8n æ­å»ºè‡ªåŠ¨åŒ–å·¥ä½œæµæ—¶ï¼Œè¯»å†™æœ¬åœ°æ–‡ä»¶æ˜¯æœ€åŸºç¡€ä¹Ÿæœ€å¸¸ç”¨çš„æ“ä½œã€‚</p>
<p>æ¯”å¦‚åœ¨äº’è”ç½‘ä¸Šæ‹‰äº†ä¸€äº›æ•°æ®å›æ¥éœ€è¦ä¿å­˜åˆ°æœ¬åœ°ã€‚</p>
<p>æ¯”å¦‚ä¸Šæ¸¸åŒäº‹æŠŠæ–‡ä»¶å‘ä½ ï¼Œä½ è¦å°†å…¶åŠ è½½åˆ° n8n é‡Œåšä¸€äº›å¤„ç†ã€‚</p>
<p>å¦‚æœä½ ä½¿ç”¨ Docker éƒ¨ç½² n8nï¼Œè¯»å†™æœ¬åœ°æ–‡ä»¶çš„é…ç½®è¯·å‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FPyzSMK95vkXRHBUL1CrhRw" target="_blank" title="https://mp.weixin.qq.com/s/PyzSMK95vkXRHBUL1CrhRw" ref="nofollow noopener noreferrer">ã€Šã€n8nã€ä¸€æ‹›è§£å†³â€œæ— æ³•è¯»å†™æœ¬åœ°æ–‡ä»¶â€ã€‹</a></p>
<h2 data-id="heading-0">å†™å…¥æ–‡ä»¶</h2>
<p>æˆ‘ç”¨ä¸€ä¸ªä¾‹å­è®²è®²å¦‚ä½•å°†æ•°æ®ä¿å­˜åˆ°æœ¬åœ°ã€‚</p>
<ol start="0">
<li>ä½¿ç”¨ã€ŒHTTPèŠ‚ç‚¹ã€ä»æ¥å£æŠŠæ•°æ®è¯·æ±‚å›æ¥ã€‚</li>
<li>å°†æ•°æ®å­˜åˆ°åˆ°ç”µè„‘ã€‚</li>
</ol>
<p>è¦å®ç°è¿™ä¸¤æ­¥ï¼Œåœ¨ n8n ä¸­çš„å·¥ä½œæµé•¿è¿™æ ·å­â¬‡ï¸</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc69068742a946d8b5c72dc4454e43b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770080187&amp;x-signature=2nl7RQM38HUnST%2B8fxdEm722zfI%3D" alt="01.png" loading="lazy"/></p>
<pre><code class="hljs language-rust" lang="rust">é¼ æ ‡ç‚¹å‡» <span class="hljs-punctuation">-&gt;</span> HTTPè¯·æ±‚æ•°æ® <span class="hljs-punctuation">-&gt;</span> å°†æ•°æ®æ ¼å¼åŒ–ï¼ˆConvertï¼‰ <span class="hljs-punctuation">-&gt;</span> ä¿å­˜åˆ°æœ¬åœ°ï¼ˆWrite Files from Diskï¼‰
</code></pre>
<p>å…ˆçœ‹çœ‹ã€ŒConvert to Fileã€çš„é…ç½®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe2a6cf7322142d08bc8bada3df974b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770080187&amp;x-signature=qk1w6SFm0xO%2BzLoudqqHDL%2BsBho%3D" alt="02.png" loading="lazy"/></p>
<p>æˆ‘å°†ã€ŒHTTP èŠ‚ç‚¹ã€è¯·æ±‚å›æ¥çš„æ•°æ®è½¬æˆ Excel æ–‡ä»¶ï¼Œå¹¶å°†è¾“å‡ºçš„å¯¹è±¡æ”¾åˆ°ä¸€ä¸ª <code>data</code> å­—æ®µé‡Œã€‚</p>
<p>ã€ŒWrite Files from Diskã€èŠ‚ç‚¹å°†ä¸Šä¸ªèŠ‚ç‚¹ä¼ å…¥çš„æ•°æ®ä¿å­˜åˆ°æˆ‘æŒ‡å®šçš„ä½ç½®ï¼š</p>
<p><code>/home/node/.n8n-files/rw-test/posts.xlsx</code></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f8b1b607c834fc0a4eacac9267d3eab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770080187&amp;x-signature=RFXkdL8K%2FpIgb5cQtGKkfBmFQ10%3D" alt="03.png" loading="lazy"/></p>
<p>æ³¨æ„ï¼Œ<code>posts.xlsx</code> æ˜¯æˆ‘ä¿å­˜çš„æ–‡ä»¶åå’Œåç¼€æ ¼å¼ã€‚</p>
<p>ä¿å­˜æˆåŠŸåå°±å¯ä»¥åœ¨æŒ‡å®šä½ç½®æ‰¾åˆ°å®ƒäº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0342cca4cf74ec096fc325560b5e121~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770080187&amp;x-signature=ealjiyMHS%2FF3VZacijAK6bAVA%2Fc%3D" alt="04.png" loading="lazy"/></p>
<h2 data-id="heading-1">è¯»å–æ–‡ä»¶</h2>
<p>è¯»å–æ–‡ä»¶çš„æ€è·¯å°±åè¿‡æ¥äº†ã€‚</p>
<p>é¦–å…ˆæ‰¾åˆ°æ–‡ä»¶ï¼Œç„¶åå†å°†å†…å®¹è§£æå‡ºæ¥ï¼Œè®©å…¶ä»–èŠ‚ç‚¹å¯ä»¥çœ‹å¾—æ‡‚è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹ã€‚</p>
<p>æ‰€ä»¥å·¥ä½œæµé•¿è¿™æ ·â¬‡ï¸</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb1ebdcff43b40c0af74c8575a561d88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770080187&amp;x-signature=eNeh9I4jQ83ZlsizJ6vLDB%2FPcks%3D" alt="05.png" loading="lazy"/></p>
<p>å…¶å®è¯»å–æ–‡ä»¶å’Œå†™å…¥æ–‡ä»¶éƒ½æ˜¯ç”¨åŒä¸€ä¸ªèŠ‚ç‚¹ï¼ˆRead/Write Files from Diskï¼‰ï¼Œåªæ˜¯ <code>Operation</code> å±æ€§ä¸ä¸€æ ·è€Œå·²ã€‚</p>
<p>åœ¨è¿™ä¸ªå·¥ä½œæµä¸­ï¼Œã€ŒRead Files from Diskã€çš„ <code>Operation</code> é€‰æ‹© <code>Read File(s) From Disk</code>ï¼Œå†æŒ‡å®šä¸€ä¸ªæ–‡ä»¶è·¯å¾„å°±è¡Œäº†ã€‚</p>
<p>å¯ä»¥çœ‹åˆ°å®ƒè¾“å‡ºäº†ä¸€ä¸ª <code>data</code> ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55a1d0c98b274741ace3ca4ce05183f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770080187&amp;x-signature=GC1tOM7XMI9u7b1Xx%2Fgpsjp8rgQ%3D" alt="06.png" loading="lazy"/></p>
<p>è¦è®©å…¶ä»–å·¥ä½œæµè¯»æ‡‚è¿™ä¸ª <code>data</code> é‡Œé¢å†™äº†ä»€ä¹ˆå†…å®¹ï¼Œéœ€è¦ç”¨åˆ°ã€ŒExtract from File èŠ‚ç‚¹ã€ã€‚</p>
<p>åœ¨ã€ŒExtract from File èŠ‚ç‚¹ã€é‡Œï¼Œæˆ‘ä»¬è¦æ­£ç¡®è®¾ç½® <code>Operation</code> çš„å€¼ï¼Œè¿™ä¸ªå‚æ•°æŒ‡çš„æ˜¯ç°åœ¨è¯»å–åˆ°çš„æ–‡ä»¶å¯¹è±¡å®ƒåŸæœ¬æ˜¯ä»€ä¹ˆæ ¼å¼ï¼ˆæ¯”å¦‚æˆ‘è¿™ä¸ªæ˜¯ Excel æ–‡ä»¶ï¼Œå°±ç”¨ <code>Extract From XLSX</code>ï¼Œå…¶ä»–æ ¼å¼å°±ç”¨å…¶ä»–ç±»å‹ï¼‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f77b8993d224c65a977a1ba6eb688d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770080187&amp;x-signature=ui8UREmv80BxTCwOmAmwU8iaoKc%3D" alt="07.png" loading="lazy"/></p>
<p>è¯»å–æˆåŠŸåï¼Œã€ŒExtract from File èŠ‚ç‚¹ã€å°±ä¼šå°†å†…å®¹è¾“å‡ºç»™ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚å³ä¾§é¢æ¿å°±æ˜¯è¯»å–åˆ°çš„å†…å®¹ã€‚</p>
<hr/>
<p>ä»¥ä¸Šå°±æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹å•¦ï¼Œæƒ³äº†è§£æ›´å¤šn8nç©æ³•æ¬¢è¿å…³æ³¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAwMjU3ODU5Ng%3D%3D%26action%3Dgetalbum%26album_id%3D4337364695070801925%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAwMjU3ODU5Ng==&amp;action=getalbum&amp;album_id=4337364695070801925#wechat_redirect" ref="nofollow noopener noreferrer">ã€Šn8nä¿®ç‚¼æ‰‹å†Œã€‹</a>ğŸ‘</p>
<p>å¦‚æœä½ æœ‰ NASï¼Œæˆ‘éå¸¸å»ºè®®ä½ åœ¨ NAS ä¸Šéƒ¨ç½²ä¸€å¥— n8nï¼Œææå‰¯ä¸šä¹Ÿå¥½ï¼Œå¸®ä½ å®Œæˆå·¥ä½œä»»åŠ¡ä¹Ÿå¥½ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FppIWKP8StiFn2k2IW0ZpNQ" target="_blank" title="https://mp.weixin.qq.com/s/ppIWKP8StiFn2k2IW0ZpNQ" ref="nofollow noopener noreferrer">ã€Šã€NASã€ä¸æ­¢å¨±ä¹ï¼ŒNASä¹Ÿæ˜¯ç”Ÿäº§åŠ›ï¼Œåœ¨ç»¿è”éƒ¨ç½²AIå·¥ä½œæµå·¥å…·-n8nã€‹</a></p>
<p><strong>ç‚¹èµ + å…³æ³¨ + æ”¶è— = å­¦ä¼šäº†</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•è®©åŒä¸€ä¸ª Guardã€Interceptorã€Exception Filter åœ¨ä¸åŒç±»å‹çš„æœåŠ¡é‡Œå¤ç”¨ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7599581204860682266</link>    <guid>https://juejin.cn/post/7599581204860682266</guid>    <pubDate>2026-01-27T02:49:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599581204860682266" data-draft-id="7599094262593536010" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•è®©åŒä¸€ä¸ª Guardã€Interceptorã€Exception Filter åœ¨ä¸åŒç±»å‹çš„æœåŠ¡é‡Œå¤ç”¨ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,NestJS,Node.js"/> <meta itemprop="datePublished" content="2026-01-27T02:49:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä»˜è±ª"/> <meta itemprop="url" content="https://juejin.cn/user/1741228277763278"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•è®©åŒä¸€ä¸ª Guardã€Interceptorã€Exception Filter åœ¨ä¸åŒç±»å‹çš„æœåŠ¡é‡Œå¤ç”¨ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1741228277763278/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä»˜è±ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T02:49:31.000Z" title="Tue Jan 27 2026 02:49:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Nest å¯ä»¥åˆ›å»º HTTP ã€WebSocket ï¼Œè¿˜æœ‰åŸºäº TCP æœåŠ¡</p>
<p>è¿™éƒ½æ”¯æŒ Guardã€Interceptorã€Exception Filter åŠŸèƒ½</p>
<p>é—®é¢˜æ˜¯ä¸åŒæœåŠ¡æ‹¿åˆ°çš„å‚æ•°ä¸åŒï¼Œæ¯”å¦‚ http æœåŠ¡å¯ä»¥æ‹¿åˆ° requestã€response å¯¹è±¡ï¼Œè€Œ websocket æ²¡æœ‰ã€‚</p>
<p>é‚£å¦‚ä½•è®©åŒä¸€ä¸ª Guardã€Interceptorã€Exception Filter åœ¨ä¸åŒç±»å‹çš„æœåŠ¡é‡Œå¤ç”¨ï¼Ÿ</p>
<p>ä½¿ç”¨ ArgumentHost è¿™ä¸ªç±»</p>
<p>æ–°å»ºé¡¹ç›®è¯•è¯•çœ‹</p>
<pre><code class="hljs language-arduino" lang="arduino">nest <span class="hljs-keyword">new</span> argument-host

</code></pre>
<p>æ–°å»º filter</p>
<pre><code class="hljs language-css" lang="css">nest g <span class="hljs-attribute">filter</span> aaa <span class="hljs-attr">--flat</span> <span class="hljs-attr">--no-spec</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3dcd65429f6140f1b361afffa1ca44b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086970&amp;x-signature=0k8t89UuBvdsq23UtpOZZ%2FgSt9g%3D" alt="image.png" loading="lazy"/></p>
<p>Nest ä¼š catch æ‰€æœ‰æœªæ•è·å¼‚å¸¸ï¼Œå¦‚æœæ˜¯ Exception Filter å£°æ˜çš„å¼‚å¸¸ï¼Œé‚£å°±ä¼šè°ƒç”¨ filter æ¥å¤„ç†</p>
<p>åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„å¼‚å¸¸ç±»</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b70807f215614b1ca8d05f35b2968c21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086970&amp;x-signature=QxD247Nx3l6SkKSrF%2FBrDWAbIh8%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/04e6743f78264e328af139e703fdcbcc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086970&amp;x-signature=NtrenCGZDPiiGPpJmOHYqiRvdWs%3D" alt="image.png" loading="lazy"/></p>
<p>ä½¿ç”¨</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0e9b3d73febf4186887c08ad35bb756a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086970&amp;x-signature=fFgkS1Zfn06NolSdYbP3vZgX9ag%3D" alt="image.png" loading="lazy"/></p>
<p>å¯åŠ¨æœåŠ¡ å¯ä»¥çœ‹åˆ°æ‰“å°</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d1c5e2276c854de7ae6c0df46e5283e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086970&amp;x-signature=7YV%2FpBrU%2FytbNRs4WJgBAM7YgKM%3D" alt="image.png" loading="lazy"/></p>
<p>filter çš„ç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯å¼‚å¸¸å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°æœ‰è¿™äº›æ–¹æ³•</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2300880014a341918211cce68e3d617b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086970&amp;x-signature=0xD10He9dljJYSjFyREtc0FrJL4%3D" alt="image.png" loading="lazy"/></p>
<p>.vscode/launch.json æ·»åŠ è°ƒè¯•çœ‹çœ‹</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"request"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"launch"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"debug nest"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"runtimeExecutable"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npm"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"run"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"start:dev"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"skipFiles"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"&lt;node_internals&gt;/**"</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"console"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"integratedTerminal"</span><span class="hljs-punctuation">,</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ‰“æ–­ç‚¹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/452e8222c45f4d93a39cdac19c55daa0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086970&amp;x-signature=WH1Wo8AvKKWIIcgdwjz53%2FCVhH0%3D" alt="image.png" loading="lazy"/></p>
<p>å¯åŠ¨</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4ea6c8703844d0facaa6f7b1d87046d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086970&amp;x-signature=TIXgpKPYdJb7eg9Vj9VbiQVFndA%3D" alt="image.png" loading="lazy"/></p>
<p>host.getArgs æ‹¿åˆ° reqeustã€responseã€next å‚æ•°</p>
<p>host.getArgByIndex ä¸‹æ ‡å–å‚æ•°</p>
<p>è°ƒç”¨ switchToHttp åˆ‡æ¢åˆ° http ä¸Šä¸‹æ–‡ï¼Œç„¶åå†è°ƒç”¨ getRequestã€getResponse æ–¹æ³•</p>
<p>websocketã€åŸºäº tcp çš„å¾®æœåŠ¡ç­‰ä¸Šä¸‹æ–‡ï¼Œå°±åˆ†åˆ«è°ƒç”¨ host.swtichToWsã€host.switchToRpc æ–¹æ³•</p>
<p>è¿™æ ·ï¼Œå°±å¯ä»¥åœ¨ filter é‡Œå¤„ç†å¤šä¸ªä¸Šä¸‹æ–‡çš„é€»è¾‘ï¼Œè·¨ä¸Šä¸‹æ–‡å¤ç”¨ filter</p>
<p>ç±»ä¼¼è¿™æ ·</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ArgumentsHost</span>, <span class="hljs-title class_">Catch</span>, <span class="hljs-title class_">ExceptionFilter</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/common'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Response</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'express'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">AaaException</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./AaaException'</span>;

<span class="hljs-meta">@Catch</span>(<span class="hljs-title class_">AaaException</span>)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AaaFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ExceptionFilter</span> {
  <span class="hljs-keyword">catch</span>(<span class="hljs-attr">exception</span>: <span class="hljs-title class_">AaaException</span>, <span class="hljs-attr">host</span>: <span class="hljs-title class_">ArgumentsHost</span>) {
    <span class="hljs-keyword">if</span>(host.<span class="hljs-title function_">getType</span>() === <span class="hljs-string">'http'</span>) {
      <span class="hljs-keyword">const</span> ctx = host.<span class="hljs-title function_">switchToHttp</span>();
      <span class="hljs-keyword">const</span> response = ctx.<span class="hljs-property">getResponse</span>&lt;<span class="hljs-title class_">Response</span>&gt;();
      <span class="hljs-keyword">const</span> request = ctx.<span class="hljs-property">getRequest</span>&lt;<span class="hljs-title class_">Request</span>&gt;();

      response
        .<span class="hljs-title function_">status</span>(<span class="hljs-number">500</span>)
        .<span class="hljs-title function_">json</span>({
          <span class="hljs-attr">value1</span>: exception.<span class="hljs-property">value1</span>,
          <span class="hljs-attr">value2</span>: exception.<span class="hljs-property">value2</span>
        });
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(host.<span class="hljs-title function_">getType</span>() === <span class="hljs-string">'ws'</span>) {

    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(host.<span class="hljs-title function_">getType</span>() === <span class="hljs-string">'rpc'</span>) {

    }
  }
}
</code></pre>
<p>å¯åŠ¨</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f20fc23db3f416fa1ce8ceb5a44f826~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086970&amp;x-signature=9pfQgMUQlF%2FL%2FRXIHP8zd0lwnJs%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ArgumentHost æ˜¯ç”¨äºåˆ‡æ¢ httpã€websocketã€rpc ç­‰ä¸Šä¸‹æ–‡ç±»å‹çš„ï¼Œå¯ä»¥æ ¹æ®ä¸Šä¸‹æ–‡ç±»å‹å–åˆ°å¯¹åº”çš„ argumentï¼Œè®© Exception Filter ç­‰åœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­å¤ç”¨</strong></p>
<p>åœ¨ guard å’Œ interceptor ä¼šæ˜¯æ€æ · ï¼Ÿ</p>
<pre><code class="hljs language-css" lang="css">nest g guard aaa <span class="hljs-attr">--no-spec</span> <span class="hljs-attr">--flat</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a099eb1f12c74cd99f6fdd5dab2f054c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086970&amp;x-signature=4liNxyvzt4Xidx0An1wbWyIfSq0%3D" alt="image.png" loading="lazy"/></p>
<p>æœ‰è¿™äº›æ–¹æ³•  å’Œä¸Šé¢çœ‹åˆ°çš„å¾ˆç±»ä¼¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d898dde3a5774756ab0db8707278a0dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086970&amp;x-signature=LkGE3xzWWazBdhIFqlzYx15CIJM%3D" alt="image.png" loading="lazy"/></p>
<p>å› ä¸º ExecutionContext æ˜¯ ArgumentHost çš„å­ç±»ï¼Œæ‰©å±•äº† getClassã€getHandler æ–¹æ³•</p>
<p>getClassã€getHandleræœ‰å•¥ä½œç”¨ï¼Ÿ</p>
<p>å†æ¬¡è°ƒè¯•çœ‹çœ‹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ee1cd51fa1b452783dbf66397bd8e67~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086970&amp;x-signature=PEnjpKjoK%2F0R411GDEbsscx2n5Y%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97783904526847c084c7816a7c9bc2a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086970&amp;x-signature=8Psl7wYnFgqGXAWWce3dbWUUqK0%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0956d443073c4076bf58154aaf6a0855~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086970&amp;x-signature=rHatd76RxhkLO4tnHIa6jMmx318%3D" alt="image.png" loading="lazy"/></p>
<p>ä½œç”¨åˆ†åˆ«æ˜¯è¦è°ƒç”¨çš„ controller çš„ class ä»¥åŠè¦è°ƒç”¨çš„æ–¹æ³•</p>
<p>ä¸ºä»€ä¹ˆ ExecutionContext é‡Œéœ€è¦æ‹¿åˆ°ç›®æ ‡ class å’Œ handler å‘¢ï¼Ÿ</p>
<p>å› ä¸º Guardã€Interceptor çš„é€»è¾‘å¯èƒ½è¦æ ¹æ®ç›®æ ‡ classã€handler æœ‰æ²¡æœ‰æŸäº›è£…é¥°è€Œå†³å®šæ€ä¹ˆå¤„ç†</p>
<p>æ¯”å¦‚æƒé™æ ¡éªŒä¾‹å­</p>
<pre><code class="hljs language-css" lang="css">nest g decorator roles <span class="hljs-attr">--flat</span> <span class="hljs-attr">--no-spec</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a20598b973754b9389bbb685e058e4c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086970&amp;x-signature=BWvgHpJMiLNcL8TaDlWvaiCpgLk%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89e98bafcb40484684062da36a9a299a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086970&amp;x-signature=qO8N99h7n0cfBGvQSK0GtvPZ%2BZk%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/711e630bbd494278bab9cac4e532b65c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086970&amp;x-signature=HTBr8GAfuVCOK%2BaswKX6xeAvaTo%3D" alt="image.png" loading="lazy"/></p>
<p>Guard é‡Œé€šè¿‡ ExecutionContext çš„ getHandler æ–¹æ³•æ‹¿åˆ°äº†ç›®æ ‡ handler æ–¹æ³•ã€‚</p>
<p>ç„¶åé€šè¿‡ reflector çš„ api æ‹¿åˆ°å®ƒçš„ metadataã€‚</p>
<p>åˆ¤æ–­å¦‚æœæ²¡æœ‰ roles çš„ metadata å°±æ˜¯éœ€è¦æƒé™ï¼Œé‚£å°±ç›´æ¥æ”¾è¡Œã€‚</p>
<p>å¦‚æœæœ‰ï¼Œå°±æ˜¯éœ€è¦æƒé™ï¼Œä» user çš„ rolesä¸­åˆ¤æ–­ä¸‹åˆæ²¡æœ‰å½“å‰ rolesï¼Œæœ‰çš„è¯å°±æ”¾è¡Œã€‚</p>
<p>åˆ·æ–°é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°è¿”å›çš„æ˜¯ 403</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83f71e0a331e4538a78252feb45407a7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086970&amp;x-signature=BHbbEucU2Dh1U4apQ9UrdMTnOjk%3D" alt="image.png" loading="lazy"/></p>
<p>åŒç†ï¼Œåœ¨ interceptor é‡Œä¹Ÿæœ‰è¿™ä¸ª</p>
<pre><code class="hljs language-css" lang="css"> nest g interceptor aaa <span class="hljs-attr">--no-spec</span> <span class="hljs-attr">--flat</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/084b4e86ea214c9484ebfc271506309e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086970&amp;x-signature=kV3oayHMl4IKpOob%2FogZ5KodUmc%3D" alt="image.png" loading="lazy"/></p>
<p>è‡ªç„¶ä¹Ÿå¯ä»¥ é€šè¿‡ reflector å–å‡º class æˆ–è€… handler ä¸Šçš„ metdadata</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¢è¯•å¤ç›˜ï¼š0.1 + 0.2 === 0.3 ç»“æœæ˜¯ ï¼Ÿé™„ç²¾å‡†è§£å†³åŠæ³•]]></title>    <link>https://juejin.cn/post/7599604510365909030</link>    <guid>https://juejin.cn/post/7599604510365909030</guid>    <pubDate>2026-01-27T02:56:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599604510365909030" data-draft-id="7599581687358849074" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¢è¯•å¤ç›˜ï¼š0.1 + 0.2 === 0.3 ç»“æœæ˜¯ ï¼Ÿé™„ç²¾å‡†è§£å†³åŠæ³•"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-27T02:56:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="hypoy"/> <meta itemprop="url" content="https://juejin.cn/user/3074670624777223"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¢è¯•å¤ç›˜ï¼š0.1 + 0.2 === 0.3 ç»“æœæ˜¯ ï¼Ÿé™„ç²¾å‡†è§£å†³åŠæ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3074670624777223/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    hypoy
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T02:56:08.000Z" title="Tue Jan 27 2026 02:56:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é¢è¯•å¤ç›˜ï¼š0.1 + 0.2 === 0.3 ç»“æœæ˜¯ ï¼Ÿé™„ç²¾å‡†è§£å†³åŠæ³•</h2>
<p>æœ€è¿‘é¢è¯•è¢«é—®åˆ°ä¸€ä¸ªè¶…ç»å…¸çš„ JS é—®é¢˜ï¼š<code>0.1 + 0.2 === 0.3</code> å¯¹ä¸å¯¹ï¼Ÿæˆ‘é©¬ä¸Šè¯´è‚¯å®šä¸å¯¹ï¼Œä½†é¢è¯•å®˜æ¥ç€è¿½é—®ä¸ºå•¥è¿”å› falseï¼Œæˆ‘åªç­”å¾—å‡º â€œæµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜â€ è¿™ä¸ªè¡¨é¢åŸå› ï¼Œå†å¾€ä¸‹è¯´å°±å¡å£³äº†ã€‚ä»Šå¤©å°±æŠŠè¿™ä¸ªé—®é¢˜æ°å¼€æ‰ç¢å¤ç›˜ï¼Œä»æ ¹ä¸Šçš„åŸç†åˆ°å®é™…èƒ½ç”¨çš„è§£å†³åŠæ³•ï¼Œä¸€æ¬¡æ€§è®²æ˜ç™½ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€å…ˆçœ‹ç°è±¡ï¼šåç›´è§‰çš„ç»“æœ</h3>
<p>å…ˆæ‰§è¡Œä¸€æ®µç®€å•çš„ä»£ç ï¼ŒéªŒè¯è¿™ä¸ªåç›´è§‰çš„ç°è±¡ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">0.1</span> + <span class="hljs-number">0.2</span>); <span class="hljs-comment">// è¾“å‡º 0.30000000000000004</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">0.1</span> + <span class="hljs-number">0.2</span> === <span class="hljs-number">0.3</span>); <span class="hljs-comment">// è¾“å‡º false</span>
</code></pre>
<p>æ˜æ˜ 0.1 åŠ  0.2 æ•°å­¦ä¸Šç­‰äº 0.3ï¼Œä¸ºä»€ä¹ˆåœ¨ JS é‡Œå´ä¸æ˜¯ï¼Ÿæ ¸å¿ƒåŸå› è—åœ¨ JavaScript å¯¹æ•°å­—çš„å­˜å‚¨æ–¹å¼é‡Œã€‚</p>
<h3 data-id="heading-2">äºŒã€åº•å±‚åŸå› ï¼šäºŒè¿›åˆ¶æµ®ç‚¹æ•°çš„ â€œå…ˆå¤©ç¼ºé™·â€</h3>
<p>JavaScript éµå¾ª <strong>IEEE 754 æ ‡å‡†</strong>ï¼Œæ‰€æœ‰æ•°å­—ï¼ˆæ•´æ•°ã€å°æ•°ï¼‰éƒ½ä»¥ 64 ä½åŒç²¾åº¦æµ®ç‚¹æ•°ï¼ˆDouble-precision floating-point formatï¼‰å­˜å‚¨ã€‚è¿™ä¸ªæ ‡å‡†çš„è®¾è®¡æœ¬èº«ï¼Œå¯¼è‡´äº†éƒ¨åˆ†åè¿›åˆ¶å°æ•°æ— æ³•è¢«äºŒè¿›åˆ¶ç²¾ç¡®è¡¨ç¤ºã€‚</p>
<h4 data-id="heading-3">1. åè¿›åˆ¶è½¬äºŒè¿›åˆ¶çš„ â€œæ— é™å¾ªç¯â€</h4>
<p>æˆ‘ä»¬å…ˆå›å¿†åè¿›åˆ¶è½¬äºŒè¿›åˆ¶å°æ•°çš„è§„åˆ™ï¼šä¹˜ 2 å–æ•´ï¼Œç›´åˆ°å°æ•°éƒ¨åˆ†ä¸º 0ã€‚ä»¥ 0.1 ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">0.1 Ã— <span class="hljs-attr">2</span> = <span class="hljs-number">0.2</span> â†’ å–æ•´ <span class="hljs-number">0</span>
0.2 Ã— <span class="hljs-attr">2</span> = <span class="hljs-number">0.4</span> â†’ å–æ•´ <span class="hljs-number">0</span>
0.4 Ã— <span class="hljs-attr">2</span> = <span class="hljs-number">0.8</span> â†’ å–æ•´ <span class="hljs-number">0</span>
0.8 Ã— <span class="hljs-attr">2</span> = <span class="hljs-number">1.6</span> â†’ å–æ•´ <span class="hljs-number">1</span>ï¼Œå‰©ä½™ <span class="hljs-number">0.6</span>
0.6 Ã— <span class="hljs-attr">2</span> = <span class="hljs-number">1.2</span> â†’ å–æ•´ <span class="hljs-number">1</span>ï¼Œå‰©ä½™ <span class="hljs-number">0.2</span>
... å¾ªç¯å¾€å¤ï¼Œæ°¸è¿œæ— æ³•å¾—åˆ° 0
</code></pre>
<p>æœ€ç»ˆï¼Œ0.1 çš„äºŒè¿›åˆ¶æ˜¯ <strong>æ— é™å¾ªç¯å°æ•°</strong>ï¼š<code>0.0001100110011...(0011 å¾ªç¯)</code>ã€‚</p>
<p>åŒç†ï¼Œ0.2 çš„äºŒè¿›åˆ¶ä¹Ÿæ˜¯æ— é™å¾ªç¯å°æ•°ã€‚è€Œ 64 ä½åŒç²¾åº¦æµ®ç‚¹æ•°çš„å­˜å‚¨ç©ºé—´æœ‰é™ï¼Œåªèƒ½æˆªå–å‰ 52 ä½æœ‰æ•ˆæ•°å­—ï¼ˆå°¾æ•°éƒ¨åˆ†ï¼‰è¿›è¡Œå­˜å‚¨ï¼Œè¿™å°±å¯¼è‡´äº† <strong>ç²¾åº¦ä¸¢å¤±</strong>ã€‚</p>
<h4 data-id="heading-4">2. ç²¾åº¦ä¸¢å¤±åçš„è®¡ç®—</h4>
<p>0.1 å’Œ 0.2 å­˜å‚¨æ—¶éƒ½è¢« â€œè¿‘ä¼¼å¤„ç†â€ äº†ï¼Œä¸¤è€…ç›¸åŠ åï¼Œç»“æœè‡ªç„¶ä¸æ˜¯ç²¾ç¡®çš„ 0.3ï¼Œè€Œæ˜¯ä¸€ä¸ªæ¥è¿‘ 0.3 çš„æ•°ï¼ˆ0.30000000000000004ï¼‰ï¼Œå› æ­¤ <code>===</code> ä¸¥æ ¼ç›¸ç­‰åˆ¤æ–­ä¼šè¿”å› falseã€‚</p>
<p>ç®€å•æ€»ç»“ï¼šä¸æ˜¯ JS è®¡ç®—é”™äº†ï¼Œè€Œæ˜¯åè¿›åˆ¶çš„ 0.1 å’Œ 0.2 æ— æ³•è¢«äºŒè¿›åˆ¶æµ®ç‚¹æ•°ç²¾ç¡®è¡¨ç¤ºï¼Œå­˜å‚¨å’Œè®¡ç®—æ—¶çš„è¿‘ä¼¼å€¼å¯¼è‡´äº†ç»“æœåå·®ã€‚</p>
<h3 data-id="heading-5">ä¸‰ã€è§£å†³æ–¹æ¡ˆï¼šå¦‚ä½•æ­£ç¡®æ¯”è¾ƒ 0.1 + 0.2 å’Œ 0.3ï¼Ÿ</h3>
<p>çŸ¥é“äº†åŸå› ï¼Œæˆ‘ä»¬éœ€è¦å¯¹åº”çš„è§£å†³æ–¹æ¡ˆï¼Œæ ¸å¿ƒæ€è·¯æ˜¯ â€œè§„é¿æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜â€ï¼Œå¸¸è§æ–¹æ¡ˆæœ‰ 3 ç§ï¼š</p>
<h4 data-id="heading-6">æ–¹æ¡ˆ 1ï¼šè®¾ç½®è¯¯å·®é˜ˆå€¼ï¼ˆæœ€å¸¸ç”¨ï¼‰</h4>
<p>æ—¢ç„¶ç»“æœæ˜¯è¿‘ä¼¼å€¼ï¼Œæˆ‘ä»¬å¯ä»¥å…è®¸ä¸€ä¸ªæå°çš„è¯¯å·®èŒƒå›´ï¼ˆé€šå¸¸ç”¨ <code>Number.EPSILON</code>ï¼Œè¡¨ç¤º JS ä¸­èƒ½è¡¨ç¤ºçš„æœ€å°ç²¾åº¦å·®ï¼‰ï¼Œåªè¦ä¸¤ä¸ªæ•°çš„å·®å€¼å°äºè¿™ä¸ªé˜ˆå€¼ï¼Œå°±è®¤ä¸ºç›¸ç­‰ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å°è£…é€šç”¨çš„æµ®ç‚¹æ•°æ¯”è¾ƒå‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isEqual</span>(<span class="hljs-params">a, b, epsilon = <span class="hljs-built_in">Number</span>.EPSILON</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(a - b) &lt; epsilon;
}
<span class="hljs-comment">// æµ‹è¯•</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isEqual</span>(<span class="hljs-number">0.1</span> + <span class="hljs-number">0.2</span>, <span class="hljs-number">0.3</span>)); <span class="hljs-comment">// true</span>
</code></pre>
<p><code>Number.EPSILON</code> çš„å€¼çº¦ä¸º 2.220446049250313e-16ï¼Œæ˜¯ JS ä¸­ä¸¤ä¸ªå¯è¡¨ç¤ºçš„æµ®ç‚¹æ•°ä¹‹é—´çš„æœ€å°å·®å€¼ï¼Œå®Œå…¨æ»¡è¶³æ—¥å¸¸ç²¾åº¦éœ€æ±‚ã€‚</p>
<h4 data-id="heading-7">æ–¹æ¡ˆ 2ï¼šè½¬æ•´æ•°è®¡ç®—ï¼ˆé€‚åˆé‡‘èåœºæ™¯ï¼‰</h4>
<p>æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜åœ¨é‡‘é¢è®¡ç®—ä¸­å°¤ä¸ºè‡´å‘½ï¼ˆæ¯”å¦‚ 0.1 å…ƒ + 0.2 å…ƒï¼‰ï¼Œæ­¤æ—¶å¯ä»¥å°†å°æ•°è½¬ä¸ºæ•´æ•°ï¼ˆä¹˜ä»¥ 10 çš„ n æ¬¡æ–¹ï¼‰ï¼Œè®¡ç®—åå†è½¬å›æ¥ï¼Œä»æ ¹æºé¿å…æµ®ç‚¹æ•°è¿ç®—ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// 0.1 + 0.2 è½¬æ•´æ•°è®¡ç®—</span>
<span class="hljs-keyword">const</span> a = <span class="hljs-number">0.1</span>, b = <span class="hljs-number">0.2</span>;
<span class="hljs-keyword">const</span> sum = (a * <span class="hljs-number">10</span> + b * <span class="hljs-number">10</span>) / <span class="hljs-number">10</span>; <span class="hljs-comment">// (1 + 2)/10 = 0.3</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(sum === <span class="hljs-number">0.3</span>); <span class="hljs-comment">// true</span>

<span class="hljs-comment">// é‡‘é¢è®¡ç®—ç¤ºä¾‹ï¼š1.23 å…ƒ + 4.56 å…ƒ</span>
<span class="hljs-keyword">const</span> price1 = <span class="hljs-number">1.23</span>, price2 = <span class="hljs-number">4.56</span>;
<span class="hljs-keyword">const</span> total = (price1 * <span class="hljs-number">100</span> + price2 * <span class="hljs-number">100</span>) / <span class="hljs-number">100</span>; <span class="hljs-comment">// 579 / 100 = 5.79</span>
</code></pre>
<h4 data-id="heading-8">æ–¹æ¡ˆ 3ï¼šä½¿ç”¨æˆç†Ÿçš„æ•°å­¦åº“ï¼ˆæ¨èå¤æ‚åœºæ™¯ï¼‰</h4>
<p>å¦‚æœæ˜¯ä¼ä¸šçº§é‡‘èã€ç§‘å­¦è®¡ç®—ç­‰é«˜ç²¾åº¦åœºæ™¯ï¼Œæ‰‹åŠ¨å¤„ç†å®¹æ˜“å‡ºé”™ï¼Œæ¨èä½¿ç”¨æˆç†Ÿçš„åº“ï¼š</p>
<ul>
<li><strong>decimal.js</strong>ï¼šåŠŸèƒ½å…¨é¢çš„é«˜ç²¾åº¦åè¿›åˆ¶è¿ç®—åº“</li>
<li><strong>big.js</strong>ï¼šè½»é‡ã€ä¸“æ³¨äºé«˜ç²¾åº¦å°æ•°è¿ç®—</li>
<li><strong>bignumber.js</strong>ï¼šå…¼å®¹ IEEE 754 æ ‡å‡†ï¼Œé€‚åˆé‡‘èåœºæ™¯</li>
</ul>
<p>ä»¥ <code>big.js</code> ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å…ˆå®‰è£…ï¼šnpm install big.js</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Big</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'big.js'</span>);

<span class="hljs-keyword">const</span> a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Big</span>(<span class="hljs-number">0.1</span>);
<span class="hljs-keyword">const</span> b = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Big</span>(<span class="hljs-number">0.2</span>);
<span class="hljs-keyword">const</span> sum = a.<span class="hljs-title function_">plus</span>(b); <span class="hljs-comment">// 0.3</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(sum.<span class="hljs-title function_">eq</span>(<span class="hljs-number">0.3</span>)); <span class="hljs-comment">// true</span>
</code></pre>
<h3 data-id="heading-9">å››ã€é¢è¯•å»¶ä¼¸ï¼šå¸¸è§è¯¯åŒºä¸è¡¥å……</h3>
<ol>
<li><strong>è¯¯åŒº</strong>ï¼šâ€œåªæœ‰ 0.1 + 0.2 æœ‰é—®é¢˜â€â€”â€” å…¶å®æ‰€æœ‰æ— æ³•è¢«äºŒè¿›åˆ¶ç²¾ç¡®è¡¨ç¤ºçš„åè¿›åˆ¶å°æ•°è¿ç®—éƒ½å¯èƒ½æœ‰ç²¾åº¦é—®é¢˜ï¼Œæ¯”å¦‚ 0.7 + 0.1 = 0.7999999999999999ã€‚</li>
<li><strong>è¡¥å……</strong>ï¼šæ•´æ•°è¿ç®—ä¸ºä»€ä¹ˆæ²¡é—®é¢˜ï¼Ÿå› ä¸ºåè¿›åˆ¶æ•´æ•°å¯ä»¥è¢«äºŒè¿›åˆ¶ç²¾ç¡®è¡¨ç¤ºï¼ˆåªè¦ä¸è¶…è¿‡ 2^53ï¼Œè¶…è¿‡åä¹Ÿä¼šä¸¢å¤±ç²¾åº¦ï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-10">äº”ã€æ€»ç»“</h3>
<p>å›åˆ°é¢è¯•é¢˜ï¼Œå®Œæ•´çš„å›ç­”åº”è¯¥åŒ…å« 3 ä¸ªæ ¸å¿ƒç‚¹ï¼š</p>
<ol>
<li><strong>åº•å±‚åŸå› </strong>ï¼šJS éµå¾ª IEEE 754 æ ‡å‡†ï¼Œç”¨ 64 ä½åŒç²¾åº¦æµ®ç‚¹æ•°å­˜å‚¨æ•°å­—ï¼Œ0.1 å’Œ 0.2 çš„äºŒè¿›åˆ¶æ˜¯æ— é™å¾ªç¯å°æ•°ï¼Œå­˜å‚¨æ—¶ç²¾åº¦ä¸¢å¤±ï¼›</li>
<li><strong>ç°è±¡æœ¬è´¨</strong>ï¼šç²¾åº¦ä¸¢å¤±åçš„ 0.1 + 0.2 ç»“æœæ˜¯ 0.30000000000000004ï¼Œè€Œéç²¾ç¡®çš„ 0.3ï¼Œå› æ­¤ä¸¥æ ¼ç›¸ç­‰åˆ¤æ–­ä¸º falseï¼›</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šæ—¥å¸¸åœºæ™¯ç”¨è¯¯å·®é˜ˆå€¼ï¼ˆNumber.EPSILONï¼‰ï¼Œé‡‘èåœºæ™¯è½¬æ•´æ•°è®¡ç®—æˆ–ä½¿ç”¨ <code>decimal.js/big.js</code> ç­‰åº“ã€‚</li>
</ol>
<p>è¿™ä¸ªé—®é¢˜çœ‹ä¼¼ç®€å•ï¼Œå®åˆ™è€ƒå¯Ÿå¯¹ JS æ•°å­—å­˜å‚¨åº•å±‚çš„ç†è§£ï¼Œè®°ä½ â€œç°è±¡ - åŸå›  - è§£å†³æ–¹æ¡ˆâ€ çš„é€»è¾‘é“¾ï¼Œé¢è¯•æ—¶å°±èƒ½ä»å®¹åº”å¯¹äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Claude CodeæŒ‰é‡å®‰è£…æ•™ç¨‹ï¼šä½æˆæœ¬ä½¿ç”¨AIç¼–ç¨‹çš„æ–¹æ³•]]></title>    <link>https://juejin.cn/post/7599483794658328617</link>    <guid>https://juejin.cn/post/7599483794658328617</guid>    <pubDate>2026-01-27T01:38:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599483794658328617" data-draft-id="7599483794658312233" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Claude CodeæŒ‰é‡å®‰è£…æ•™ç¨‹ï¼šä½æˆæœ¬ä½¿ç”¨AIç¼–ç¨‹çš„æ–¹æ³•"/> <meta itemprop="keywords" content="Claude"/> <meta itemprop="datePublished" content="2026-01-27T01:38:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·815091607260"/> <meta itemprop="url" content="https://juejin.cn/user/2042264015120554"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Claude CodeæŒ‰é‡å®‰è£…æ•™ç¨‹ï¼šä½æˆæœ¬ä½¿ç”¨AIç¼–ç¨‹çš„æ–¹æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2042264015120554/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·815091607260
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T01:38:49.000Z" title="Tue Jan 27 2026 01:38:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿˜åœ¨ä¸º Claude Code æ— æ³•ç›´è¿ã€API é…é¢å—é™è€Œå¤´ç–¼å—ï¼Ÿ<br/>
Claude Code ä½œä¸ºå½“å‰æœ€å¼ºçš„ AI ç¼–ç¨‹ CLI å·¥å…·ä¹‹ä¸€ï¼Œå·²ç»èƒ½çœŸæ­£åšåˆ°â€œè¯»æ‡‚æ•´ä¸ªé¡¹ç›®ã€ç›´æ¥æ”¹ä»£ç ã€ç”Ÿæˆæäº¤â€ã€‚ä½†å¾ˆå¤šäººå¡åœ¨ç¬¬ä¸€æ­¥ï¼šå®˜æ–¹ API éš¾ç”¨ã€ç½‘ç»œå—é™ã€æ¨¡å‹åˆ‡æ¢å¤æ‚ã€‚</p>
<p>æœ¬æ–‡å°†æ‰‹æŠŠæ‰‹æ•™ä½  é€šè¿‡ã€Œç¥é©¬ä¸­è½¬ APIã€å¿«é€Ÿæ¥å…¥ Claude Codeï¼Œä»å®‰è£…ã€ç¯å¢ƒå˜é‡é…ç½®ï¼Œåˆ°æ¨¡å‹åˆ‡æ¢ä¸æœ€å°å¯ç”¨ç¤ºä¾‹ï¼Œ5 åˆ†é’Ÿè·‘èµ·æ¥ï¼Œ10 åˆ†é’Ÿä¸Šç”Ÿäº§ï¼Œè®© Claude Code çœŸæ­£æˆä¸ºä½ çš„æœ¬åœ° AI ç¼–ç¨‹åŠ©æ‰‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/94aab4b3a2a14f4fba489d74f6f276b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3ODE1MDkxNjA3MjYw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770082729&amp;x-signature=sezNcn6XNALfz1EzvmVQNwVc8%2Bg%3D" alt="ã€2026æœ€æ–°ã€‘AIç¼–ç¨‹å·¥å…·ï¼šClaude Code AIä¸­è½¬ç«™æŒ‰é‡å®‰è£…ä½¿ç”¨æ•™ç¨‹" loading="lazy"/></p>
<h2 data-id="heading-0">Claude Code + APIä¸­è½¬ç«™çš„ç»„åˆ</h2>
<ul>
<li>
<p><strong>Claude Code</strong>ï¼šAnthropic æ¨å‡ºçš„å‘½ä»¤è¡Œ AI ç¼–ç¨‹å·¥å…·ï¼ˆèƒ½è¯»æ‡‚é¡¹ç›®ä¸Šä¸‹æ–‡ã€æŒ‰è‡ªç„¶è¯­è¨€æ”¹ä»£ç ã€è·‘å‘½ä»¤ã€ç”Ÿæˆæµ‹è¯•ç­‰ï¼‰ã€‚</p>
</li>
<li>
<p><strong>API ä¸­è½¬ç«™ï¼ˆè¿™é‡Œç”¨ï¼šç¥é©¬ä¸­è½¬APIï¼‰</strong>ï¼šç”¨ä½ åœ¨ç¥é©¬å¹³å°ç”Ÿæˆçš„ Tokenï¼ŒæŠŠ Claude Code çš„è¯·æ±‚è½¬å‘åˆ°å¯ç”¨æ¨¡å‹ä¸Šï¼›æ ¸å¿ƒå°±æ˜¯é…ç½®ä¸¤ä¸ªä¸œè¥¿ï¼š</p>
<ul>
<li>
<p>ANTHROPIC_AUTH_TOKENï¼ˆä½ çš„ sk-xxxï¼‰</p>
</li>
<li>
<p>ANTHROPIC_BASE_URLï¼ˆæŒ‡å‘ç¥é©¬ä¸­è½¬çš„ BaseURLï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fapi.whatai.cc%25EF%25BC%2589" target="_blank" title="https://api.whatai.cc%EF%BC%89" ref="nofollow noopener noreferrer">api.whatai.ccï¼‰</a></p>
</li>
</ul>
</li>
</ul>
<h2 data-id="heading-1">å®‰è£…å‰å‡†å¤‡</h2>
<h3 data-id="heading-2">å¿…å¤‡ç¯å¢ƒ</h3>
<ul>
<li><strong>Node.js 18+ï¼ˆå»ºè®® LTSï¼‰</strong>ï¼šClaude Code é€šè¿‡ npm å®‰è£…ï¼ŒNode ç‰ˆæœ¬è¦å¤Ÿæ–°ã€‚</li>
</ul>
<p>éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸï¼ˆä»»æ„ç³»ç»Ÿéƒ½é€‚ç”¨ï¼‰ï¼š</p>
<pre><code class="hljs language-css" lang="css">node <span class="hljs-attr">--version</span>
npm <span class="hljs-attr">--version</span>
</code></pre>
<p>ç¤ºä¾‹é‡Œæåˆ° Node ç‰ˆæœ¬é€šå¸¸ä¼šåœ¨ v18.x.x ä»¥ä¸Šã€‚</p>
<h2 data-id="heading-3">å®‰è£…Claude Codeï¼ˆé€šç”¨ï¼‰</h2>
<p>ç”¨ npm å…¨å±€å®‰è£…ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install -g @anthropic-ai/claude-code
</code></pre>
<p>æ–‡æ¡£ä¸æ–‡ç« éƒ½ç»™çš„æ˜¯è¿™æ¡å‘½ä»¤ã€‚</p>
<h2 data-id="heading-4">é…ç½®ï¼šæ¥å…¥ã€Œç¥é©¬ä¸­è½¬ APIã€</h2>
<h3 data-id="heading-5">ç¬¬ä¸€æ­¥ï¼šåœ¨ç¥é©¬å¹³å°ç”Ÿæˆ Token</h3>
<p>å»ç¥é©¬ä¸­è½¬å¹³å°åå°åˆ›å»º/å¤åˆ¶ä½ çš„ <strong>sk- å¼€å¤´</strong> Tokenï¼ˆæ–‡ç« é‡Œä¹Ÿå¼ºè°ƒ Token æ˜¯ sk-xxx è¿™ç§æ ¼å¼ï¼‰ã€‚</p>
<h3 data-id="heading-6">ç¬¬äºŒæ­¥ï¼šè®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆå…³é”®ï¼‰</h3>
<p>ä½ éœ€è¦è®¾ç½®ä¸¤é¡¹ï¼ˆé‡ç‚¹å°±æ˜¯å®ƒä¿©ï¼‰ï¼š</p>
<ul>
<li>
<p>ANTHROPIC_AUTH_TOKEN</p>
</li>
<li>
<p>ANTHROPIC_BASE_URL</p>
</li>
</ul>
<h3 data-id="heading-7">macOS / Linuxï¼ˆBash æˆ– Zshï¼‰</h3>
<p><strong>Bashï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">'export ANTHROPIC_AUTH_TOKEN="sk-xxx"'</span> &gt;&gt; ~/.bash_profile
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export ANTHROPIC_BASE_URL="https://api.whatai.cc"'</span> &gt;&gt; ~/.bash_profile
<span class="hljs-built_in">source</span> ~/.bash_profile
</code></pre>
<p><strong>Zshï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">'export ANTHROPIC_AUTH_TOKEN="sk-xxx"'</span> &gt;&gt; ~/.zshrc
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export ANTHROPIC_BASE_URL="https://api.whatai.cc"'</span> &gt;&gt; ~/.zshrc
<span class="hljs-built_in">source</span> ~/.zshrc
</code></pre>
<blockquote>
<p>è®¾ç½®åå¦‚æœä¸ç”Ÿæ•ˆï¼Œé‡å¯ç»ˆç«¯</p>
</blockquote>
<h3 data-id="heading-8">Windowsï¼ˆæ¨èå›¾å½¢åŒ– / PowerShell / CMDï¼‰</h3>
<p><strong>æ–¹æ³•ä¸€ï¼šå›¾å½¢åŒ–ï¼ˆæ¨èã€æ°¸ä¹…ç”Ÿæ•ˆï¼‰</strong></p>
<p>ç³»ç»Ÿç¯å¢ƒå˜é‡é‡Œæ–°å¢ï¼š</p>
<ul>
<li>
<p>ANTHROPIC_AUTH_TOKEN = sk-xxx</p>
</li>
<li>
<p>ANTHROPIC_BASE_URL = <a href="https://link.juejin.cn?target=https%3A%2F%2Fapi.whatai.cc" target="_blank" title="https://api.whatai.cc" ref="nofollow noopener noreferrer">api.whatai.cc</a></p>
</li>
</ul>
<p><strong>æ–¹æ³•äºŒï¼šPowerShellï¼ˆæ°¸ä¹…ï¼‰</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-attr">[Environment]</span>::<span class="hljs-built_in">SetEnvironmentVariable</span>(<span class="hljs-string">"ANTHROPIC_AUTH_TOKEN"</span>, <span class="hljs-string">"sk-xxx"</span>, <span class="hljs-string">"User"</span>)
[Environment]::<span class="hljs-built_in">SetEnvironmentVariable</span>(<span class="hljs-string">"ANTHROPIC_BASE_URL"</span>, <span class="hljs-string">"https://api.whatai.cc"</span>, <span class="hljs-string">"User"</span>)
</code></pre>
<p><strong>æ–¹æ³•ä¸‰ï¼šCMDï¼ˆæ°¸ä¹…ï¼‰</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">setx ANTHROPIC_AUTH_TOKEN <span class="hljs-string">"sk-xxx"</span>
setx ANTHROPIC_BASE_URL <span class="hljs-string">"https://api.whatai.cc"</span>
</code></pre>
<h3 data-id="heading-9">Windows è¿›é˜¶ï¼šç”¨ settings.json ä¸€æ¬¡æ€§å†™å…¥ï¼ˆå¯å¸¦æ¨¡å‹ï¼‰</h3>
<p>å¦‚æœä½ æ›´å–œæ¬¢â€œå†™é…ç½®æ–‡ä»¶â€çš„æ–¹å¼ï¼Œæ–‡æ¡£ç»™äº†è·¯å¾„ä¸ç¤ºä¾‹ç»“æ„ï¼š</p>
<p>C:\Users\{user}\.claude\settings.json</p>
<p>ç¤ºä¾‹ï¼ˆä½ è¦æŠŠ token æ”¹æˆè‡ªå·±çš„ï¼‰ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"env"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"ANTHROPIC_MODEL"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"claude-sonnet-4-20250514"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"ANTHROPIC_SMALL_FAST_MODEL"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"claude-sonnet-4-20250514"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"ANTHROPIC_BASE_URL"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://api.whatai.cc"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"ANTHROPIC_AUTH_TOKEN"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"sk-xxx"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-10">å¯åŠ¨ä¸æœ€å°å¯ç”¨éªŒè¯</h2>
<p>è¿›å…¥ä½ çš„é¡¹ç›®ç›®å½•ï¼Œç„¶åå¯åŠ¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> your-project-folder
claude
</code></pre>
<p>æ–‡æ¡£å°±æ˜¯è¿™ä¹ˆå¯åŠ¨çš„ã€‚</p>
<p>é¦–æ¬¡å¯åŠ¨ä¸€èˆ¬ä¼šå¼•å¯¼ä½ åšä¸€äº›åˆå§‹åŒ–é€‰æ‹©ï¼ˆä¸»é¢˜ã€ç¡®è®¤æç¤ºã€ä¿¡ä»»ç›®å½•ç­‰ï¼‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d500507f768445e8b030f8f4c53f8c11~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3ODE1MDkxNjA3MjYw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770082729&amp;x-signature=3cDM2oZS3NNZIvaOsqwOOnyxsFE%3D" alt="ã€2026æœ€æ–°ã€‘AIç¼–ç¨‹å·¥å…·ï¼šClaude Code AIä¸­è½¬ç«™æŒ‰é‡å®‰è£…ä½¿ç”¨æ•™ç¨‹" loading="lazy"/></p>
<h2 data-id="heading-11">ç®€å•ä½¿ç”¨ï¼š3åˆ†é’Ÿä¸Šæ‰‹</h2>
<h3 data-id="heading-12">å¸¸ç”¨å‘½ä»¤ï¼ˆæœ€å¸¸ç”¨çš„å°±è¿™äº›ï¼‰</h3>
<ul>
<li>
<p>claudeï¼šè¿›å…¥äº¤äº’æ¨¡å¼</p>
</li>
<li>
<p>claude "task"ï¼šè·‘ä¸€æ¬¡æ€§ä»»åŠ¡</p>
</li>
<li>
<p>claude commitï¼šè®©å®ƒå¸®ä½ ç”Ÿæˆ/ç»„ç»‡ Git æäº¤</p>
</li>
<li>
<p>/helpï¼šæŸ¥çœ‹å†…ç½®å‘½ä»¤</p>
</li>
<li>
<p>/clearï¼šæ¸…ç©ºå¯¹è¯ä¸Šä¸‹æ–‡</p>
</li>
<li>
<p>/reviewï¼šè®©å®ƒåšä»£ç å®¡æŸ¥</p>
</li>
</ul>
<h3 data-id="heading-13">æœ€å°ç¤ºä¾‹ï¼šè®©å®ƒå†™ä¸ªå‡½æ•°</h3>
<p>åœ¨ claude äº¤äº’æ¨¡å¼é‡Œç›´æ¥è¯´äººè¯ï¼Œä¾‹å¦‚ï¼ˆæ–‡æ¡£ç¤ºä¾‹ï¼‰ï¼š</p>
<ul>
<li>â€œè¯·å¸®æˆ‘å†™ä¸€ä¸ª Python å‡½æ•°ï¼Œç”¨äºè®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—â€</li>
</ul>
<h3 data-id="heading-14">ä¸€å¥è¯åšä»£ç å®¡æŸ¥</h3>
<p>ç›´æ¥å•æ¬¡å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">claude <span class="hljs-string">"review this code for potential bugs"</span>
</code></pre>
<p>è¿™æ˜¯æ–‡æ¡£ç»™çš„ç¤ºä¾‹ä¹‹ä¸€ã€‚</p>
<h2 data-id="heading-15">åˆ‡æ¢æ¨¡å‹ï¼ˆé‡ç‚¹ï¼š/modelï¼‰</h2>
<p>åœ¨ Claude Code é‡Œç”¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/model [model <span class="hljs-built_in">id</span>]
</code></pre>
<p>æ–‡æ¡£ä¸¾ä¾‹ï¼šé»˜è®¤ Sonnet 4ï¼Œä¹Ÿå¯ä»¥åˆ‡åˆ° Opus 4ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/model opus
</code></pre>
<p>è¿˜ç»™äº†ç±»ä¼¼ claude-3-7-sonnet-20250219 çš„åˆ‡æ¢ç¤ºä¾‹ï¼Œä»¥åŠ Kimi K2 çš„ç¤ºä¾‹ï¼ˆ/model moonshotai/kimi-k2-instructï¼‰ï¼Œå¹¶è¯´æ˜å…¶ä»– LLMï¼ˆOpenAI/Gemini/Qwen/Doubao ç­‰ï¼‰ä¹Ÿèƒ½ç”¨ã€‚</p>
<blockquote>
<p>å°æé†’ï¼šä¸åŒä¸­è½¬ç«™å¯¹â€œæ¨¡å‹å/åˆ«åâ€çš„æ”¯æŒå¯èƒ½ä¸å®Œå…¨ä¸€æ ·</p>
</blockquote>
<h2 data-id="heading-16">å¸¸è§å‘ä½</h2>
<ol>
<li>
<p><strong>Token è¦æ¢æˆä½ è‡ªå·±çš„</strong>ï¼šåˆ«æŠŠç¤ºä¾‹ sk-xxx å½“çœŸã€‚</p>
</li>
<li>
<p><strong>ç¯å¢ƒå˜é‡æ”¹å®Œè¦é‡å¯ç»ˆç«¯</strong>ï¼ˆå°¤å…¶ Windows / macOSï¼‰ã€‚</p>
</li>
<li>
<p><strong>å»ºè®®åœ¨å…·ä½“é¡¹ç›®ç›®å½•ä¸‹ç”¨</strong>ï¼ŒClaude Code æ‰èƒ½æ›´å¥½è¯»ä¸Šä¸‹æ–‡ã€‚</p>
</li>
<li>
<p>æ–‡æ¡£æåˆ°ï¼šåˆ›å»ºä»¤ç‰Œæ—¶å¯è€ƒè™‘é€‰æ‹©ç‰¹å®šåˆ†ç»„ï¼ˆç¤ºä¾‹é‡Œå»ºè®®â€œä¼ä¸šåˆ†ç»„ å®˜è½¬åˆ†ç»„â€ï¼‰ã€‚</p>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Node.js ç¼–ç¨‹å®æˆ˜ï¼šéƒ¨ç½² Node.js åº”ç”¨ â€”â€” Nginx åå‘ä»£ç†]]></title>    <link>https://juejin.cn/post/7599581687358930994</link>    <guid>https://juejin.cn/post/7599581687358930994</guid>    <pubDate>2026-01-27T02:58:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599581687358930994" data-draft-id="7599604510365941798" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Node.js ç¼–ç¨‹å®æˆ˜ï¼šéƒ¨ç½² Node.js åº”ç”¨ â€”â€” Nginx åå‘ä»£ç†"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,Node.js"/> <meta itemprop="datePublished" content="2026-01-27T02:58:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜çˆ±é’“é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/2799775299157614"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Node.js ç¼–ç¨‹å®æˆ˜ï¼šéƒ¨ç½² Node.js åº”ç”¨ â€”â€” Nginx åå‘ä»£ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2799775299157614/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜çˆ±é’“é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T02:58:57.000Z" title="Tue Jan 27 2026 02:58:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å½“ Node.js åº”ç”¨éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¹‹åï¼Œå¦‚æœç›´æ¥å¯¹å¤–æš´éœ²åº”ç”¨ç«¯å£ï¼ˆå¦‚ 3000ï¼‰ï¼Œåœ¨<strong>å®‰å…¨æ€§ã€æ€§èƒ½ä¸å¯ç»´æŠ¤æ€§</strong>æ–¹é¢éƒ½ä¼šå­˜åœ¨æ˜æ˜¾ä¸è¶³ã€‚</p>
</blockquote>
<p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå‡ ä¹æ‰€æœ‰æˆç†Ÿç³»ç»Ÿéƒ½ä¼šåœ¨ Node.js æœåŠ¡å‰å¢åŠ ä¸€å±‚Â <strong>Nginx åå‘ä»£ç†</strong>ï¼Œç”± Nginx ç»Ÿä¸€å¯¹å¤–æä¾›è®¿é—®å…¥å£ï¼ŒNode.js åªè´Ÿè´£ä¸šåŠ¡é€»è¾‘å¤„ç†ã€‚</p>
<p>æœ¬æ–‡å°†ä»å®æˆ˜è§’åº¦ï¼Œç³»ç»Ÿè®²è§£å¦‚ä½•ä½¿ç”¨ Nginx ä¸º Node.js åº”ç”¨é…ç½®åå‘ä»£ç†ï¼Œå¹¶ä»‹ç»å¸¸è§çš„éƒ¨ç½²æ¨¡å¼ä¸ä¼˜åŒ–å»ºè®®ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Nginx åå‘ä»£ç†</h2>
<p>åœ¨ Node.js æœåŠ¡å‰å¢åŠ  Nginxï¼Œä¸»è¦å¯ä»¥è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ol>
<li>
<ol>
<li>ç»Ÿä¸€è®¿é—®å…¥å£<br/>
ç”¨æˆ·åªè®¿é—® 80 / 443 ç«¯å£ï¼Œä¸éœ€è¦æ„ŸçŸ¥åç«¯ç«¯å£å·ã€‚</li>
</ol>
</li>
<li>
<ol start="2">
<li>æé«˜å®‰å…¨æ€§<br/>
éšè— Node.js æœåŠ¡çœŸå®ç«¯å£ï¼Œå‡å°‘è¢«æ‰«æå’Œæ”»å‡»çš„é£é™©ã€‚</li>
</ol>
</li>
<li>
<ol start="3">
<li>æ”¯æŒ HTTPS<br/>
ç”± Nginx ç»ˆæ­¢ SSL è¿æ¥ï¼ŒNode.js åªå¤„ç† HTTPã€‚</li>
</ol>
</li>
<li>
<ol start="4">
<li>é™æ€èµ„æºåŠ é€Ÿ<br/>
Nginx é«˜æ•ˆå¤„ç†å›¾ç‰‡ã€JSã€CSS ç­‰é™æ€èµ„æºã€‚</li>
</ol>
</li>
<li>
<ol start="5">
<li>è´Ÿè½½å‡è¡¡<br/>
å¯å°†è¯·æ±‚åˆ†å‘åˆ°å¤šä¸ª Node.js å®ä¾‹ã€‚</li>
</ol>
</li>
<li>
<ol start="6">
<li>å¹³æ»‘é‡å¯ä¸å®¹é”™<br/>
Node.js é‡å¯æ—¶ï¼ŒNginx ä»å¯æä¾›åŸºç¡€æœåŠ¡ã€‚</li>
</ol>
</li>
</ol>
<hr/>
<h2 data-id="heading-1">äºŒã€åŸºç¡€éƒ¨ç½²æ¶æ„</h2>
<p>ä¸€ä¸ªå…¸å‹çš„éƒ¨ç½²æ¶æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">ç”¨æˆ·æµè§ˆå™¨</span>
Â Â Â Â Â <span class="hljs-string">|</span>
Â Â Â Â Â <span class="hljs-string">|</span>Â <span class="hljs-number">80</span>Â <span class="hljs-string">/</span>Â <span class="hljs-number">443</span>
Â Â Â Â Â <span class="hljs-string">v</span>
Â Â Â <span class="hljs-string">Nginx</span>
Â Â Â Â Â <span class="hljs-string">|</span>
Â Â Â Â Â <span class="hljs-string">|</span>Â <span class="hljs-number">3000</span>
Â Â Â Â Â <span class="hljs-string">v</span>
Â <span class="hljs-string">Node.js</span>Â <span class="hljs-string">åº”ç”¨ï¼ˆPM2</span>Â <span class="hljs-string">/</span>Â <span class="hljs-string">Dockerï¼‰</span>
</code></pre>
<p>ç”¨æˆ·åªè®¿é—® Nginxï¼Œæ‰€æœ‰è¯·æ±‚ç”± Nginx è½¬å‘ç»™ Node.jsã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€å®‰è£… Nginx</h2>
<p>åœ¨å¸¸è§ Linux ç³»ç»Ÿä¸­ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…ã€‚</p>
<h3 data-id="heading-3">Ubuntu / Debian</h3>
<pre><code class="hljs language-sql" lang="sql">sudoÂ aptÂ <span class="hljs-keyword">update</span>
sudoÂ aptÂ installÂ nginx
</code></pre>
<h3 data-id="heading-4">CentOS / Rocky Linux</h3>
<pre><code class="hljs">sudoÂ yumÂ installÂ nginx
</code></pre>
<p>å®‰è£…å®Œæˆåå¯åŠ¨ Nginxï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudoÂ systemctlÂ startÂ nginx
sudoÂ systemctlÂ <span class="hljs-built_in">enable</span>Â nginx
</code></pre>
<p>è®¿é—®æœåŠ¡å™¨ IPï¼Œå¦‚æœçœ‹åˆ° Nginx é»˜è®¤é¡µé¢ï¼Œè¯´æ˜å®‰è£…æˆåŠŸã€‚</p>
<hr/>
<h2 data-id="heading-5">å››ã€æœ€å°å¯ç”¨åå‘ä»£ç†é…ç½®</h2>
<p>å‡è®¾ Node.js æœåŠ¡ç›‘å¬åœ¨Â <code>127.0.0.1:3000</code>ã€‚</p>
<h3 data-id="heading-6">1. åˆ›å»ºç«™ç‚¹é…ç½®æ–‡ä»¶</h3>
<pre><code class="hljs language-bash" lang="bash">sudoÂ nanoÂ /etc/nginx/conf.d/my-app.conf
</code></pre>
<h3 data-id="heading-7">2. åŸºæœ¬é…ç½®ç¤ºä¾‹</h3>
<pre><code class="hljs language-ini" lang="ini">serverÂ {
Â Â Â Â listenÂ 80<span class="hljs-comment">;</span>
Â Â Â Â server_nameÂ myapp.example.com<span class="hljs-comment">;</span>

Â Â Â Â locationÂ /Â {
Â Â Â Â Â Â Â Â proxy_passÂ http://127.0.0.1:3000<span class="hljs-comment">;</span>

Â Â Â Â Â Â Â Â proxy_http_versionÂ 1.1<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â proxy_set_headerÂ UpgradeÂ $http_upgrade<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â proxy_set_headerÂ ConnectionÂ 'upgrade'<span class="hljs-comment">;</span>

Â Â Â Â Â Â Â Â proxy_set_headerÂ HostÂ $host<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â proxy_set_headerÂ X-Real-IPÂ $remote_addr<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â proxy_set_headerÂ X-Forwarded-ForÂ $proxy_add_x_forwarded_for<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â proxy_set_headerÂ X-Forwarded-ProtoÂ $scheme<span class="hljs-comment">;</span>

Â Â Â Â Â Â Â Â proxy_cache_bypassÂ $http_upgrade<span class="hljs-comment">;</span>
Â Â Â Â }
}
</code></pre>
<hr/>
<h3 data-id="heading-8">3. å¯ç”¨é…ç½®å¹¶é‡è½½</h3>
<pre><code class="hljs">sudoÂ nginxÂ -t
sudoÂ systemctlÂ reloadÂ nginx
</code></pre>
<p>æ­¤æ—¶è®¿é—®Â <code>http://myapp.example.com</code>Â å³å¯çœ‹åˆ° Node.js åº”ç”¨é¡µé¢ã€‚</p>
<hr/>
<h2 data-id="heading-9">äº”ã€æ”¯æŒ WebSocket è½¬å‘</h2>
<p>å¦‚æœä½ çš„ Node.js åº”ç”¨ä½¿ç”¨äº† WebSocketï¼ˆå¦‚ Socket.IOï¼‰ï¼Œå¿…é¡»æ˜¾å¼å¼€å¯ç›¸å…³é…ç½®ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">locationÂ /socket.io/Â {
Â Â Â Â proxy_passÂ http://127.0.0.1:3000/socket.io/;

Â Â Â Â proxy_http_versionÂ 1.1;
Â Â Â Â proxy_set_headerÂ UpgradeÂ <span class="hljs-variable">$http_upgrade</span>;
Â Â Â Â proxy_set_headerÂ ConnectionÂ <span class="hljs-string">"Upgrade"</span>;

Â Â Â Â proxy_set_headerÂ HostÂ <span class="hljs-variable">$host</span>;
Â Â Â Â proxy_set_headerÂ X-Real-IPÂ <span class="hljs-variable">$remote_addr</span>;
Â Â Â Â proxy_set_headerÂ X-Forwarded-ForÂ <span class="hljs-variable">$proxy_add_x_forwarded_for</span>;
}
</code></pre>
<p>å¦åˆ™ WebSocket è¿æ¥ä¼šåœ¨ Nginx å±‚è¢«æ–­å¼€ã€‚</p>
<hr/>
<h2 data-id="heading-10">å…­ã€é™æ€èµ„æºç”± Nginx ç›´æ¥æ‰˜ç®¡</h2>
<p>ä¸ºäº†å‡è½» Node.js å‹åŠ›ï¼Œå»ºè®®å°†é™æ€èµ„æºäº¤ç»™ Nginx ç›´æ¥å¤„ç†ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp">locationÂ /<span class="hljs-keyword">static</span>/Â {
Â Â Â Â <span class="hljs-keyword">alias</span>Â /<span class="hljs-keyword">var</span>/www/my-app/<span class="hljs-keyword">static</span>/;
Â Â Â Â expiresÂ <span class="hljs-number">30</span>d;
Â Â Â Â add_headerÂ Cache-ControlÂ <span class="hljs-string">"public"</span>;
}
</code></pre>
<p>Node.js åªè´Ÿè´£ API å’ŒåŠ¨æ€é¡µé¢è¯·æ±‚ã€‚</p>
<hr/>
<h2 data-id="heading-11">ä¸ƒã€å¤šå®ä¾‹è´Ÿè½½å‡è¡¡</h2>
<p>å¦‚æœä½ ä½¿ç”¨ PM2 cluster æˆ– Docker å¤šå®ä¾‹ï¼Œå¯ä»¥åœ¨ Nginx å±‚åšè´Ÿè½½å‡è¡¡ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">upstreamÂ my_node_appÂ {
Â Â Â Â serverÂ 127.0.0.1:3000<span class="hljs-comment">;</span>
Â Â Â Â serverÂ 127.0.0.1:3001<span class="hljs-comment">;</span>
Â Â Â Â serverÂ 127.0.0.1:3002<span class="hljs-comment">;</span>
}

serverÂ {
Â Â Â Â listenÂ 80<span class="hljs-comment">;</span>
Â Â Â Â server_nameÂ myapp.example.com<span class="hljs-comment">;</span>

Â Â Â Â locationÂ /Â {
Â Â Â Â Â Â Â Â proxy_passÂ http://my_node_app<span class="hljs-comment">;</span>

Â Â Â Â Â Â Â Â proxy_http_versionÂ 1.1<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â proxy_set_headerÂ UpgradeÂ $http_upgrade<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â proxy_set_headerÂ ConnectionÂ 'upgrade'<span class="hljs-comment">;</span>

Â Â Â Â Â Â Â Â proxy_set_headerÂ HostÂ $host<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â proxy_set_headerÂ X-Real-IPÂ $remote_addr<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â proxy_set_headerÂ X-Forwarded-ForÂ $proxy_add_x_forwarded_for<span class="hljs-comment">;</span>
Â Â Â Â }
}
</code></pre>
<p>Nginx ä¼šå°†è¯·æ±‚è½®è¯¢åˆ†å‘åˆ°å¤šä¸ª Node.js å®ä¾‹ï¼Œæé«˜æ•´ä½“ååèƒ½åŠ›ã€‚</p>
<hr/>
<h2 data-id="heading-12">å…«ã€å¸¸è§é—®é¢˜ä¸æ’é”™æ€è·¯</h2>
<h3 data-id="heading-13">1. 502 Bad Gateway</h3>
<p>å¸¸è§åŸå› ï¼š</p>
<ul>
<li>â€¢ Node.js æœåŠ¡æœªå¯åŠ¨</li>
<li>â€¢ ç«¯å£å·é…ç½®é”™è¯¯</li>
<li>â€¢ é˜²ç«å¢™æ‹¦æˆªæœ¬åœ°ç«¯å£</li>
</ul>
<p>æ£€æŸ¥æ­¥éª¤ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">curlÂ http:<span class="hljs-comment">//127.0.0.1:3000</span>
</code></pre>
<hr/>
<h3 data-id="heading-14">2. WebSocket è¿æ¥å¤±è´¥</h3>
<p>æ£€æŸ¥æ˜¯å¦åŒ…å«ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">proxy_set_headerÂ UpgradeÂ <span class="hljs-variable">$http_upgrade</span>;
proxy_set_headerÂ ConnectionÂ <span class="hljs-string">"Upgrade"</span>;
</code></pre>
<hr/>
<h3 data-id="heading-15">3. è¯·æ±‚å¤´ä¸¢å¤±çœŸå® IP</h3>
<p>ç¡®ä¿è®¾ç½®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">proxy_set_headerÂ X-Real-IPÂ <span class="hljs-variable">$remote_addr</span>;
proxy_set_headerÂ X-Forwarded-ForÂ <span class="hljs-variable">$proxy_add_x_forwarded_for</span>;
</code></pre>
<p>åœ¨ Node.js ä¸­é€šè¿‡Â <code>req.ip</code>Â æˆ–Â <code>x-forwarded-for</code>Â è¯»å–çœŸå®å®¢æˆ·ç«¯ IPã€‚</p>
<hr/>
<h2 data-id="heading-16">ä¹ã€ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–å»ºè®®</h2>
<ol>
<li>
<ol>
<li>å¯ç”¨ Gzip å‹ç¼©</li>
</ol>
</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">gzipÂ on;
gzip_typesÂ text/plainÂ text/cssÂ application/jsonÂ application/javascript;
gzip_min_lengthÂ 1024;
</code></pre>
<ol>
<li>
<ol start="2">
<li>è®¾ç½®åˆç†çš„è¶…æ—¶æ—¶é—´</li>
</ol>
</li>
</ol>
<pre><code class="hljs language-ini" lang="ini">proxy_connect_timeoutÂ 60s<span class="hljs-comment">;</span>
proxy_send_timeoutÂ 60s<span class="hljs-comment">;</span>
proxy_read_timeoutÂ 60s<span class="hljs-comment">;</span>
</code></pre>
<ol>
<li>
<ol start="3">
<li>é…åˆ HTTPS ä½¿ç”¨<br/>
å°† SSL è¯ä¹¦éƒ¨ç½²åœ¨ Nginx å±‚ï¼ŒNode.js åªç›‘å¬ HTTPã€‚</li>
</ol>
</li>
<li>
<ol start="4">
<li>é…åˆ PM2 / Docker<br/>
ä¿è¯ Node.js è¿›ç¨‹å¼‚å¸¸é€€å‡ºåè‡ªåŠ¨æ‹‰èµ·ã€‚</li>
</ol>
</li>
</ol>
<hr/>
<h2 data-id="heading-17">åã€æ€»ç»“</h2>
<p>åœ¨ Node.js åº”ç”¨éƒ¨ç½²æ¶æ„ä¸­ï¼Œ<strong>Nginx åå‘ä»£ç†å‡ ä¹æ˜¯æ ‡å‡†é…ç½®</strong>ã€‚å®ƒæ‰¿æ‹…äº†å¯¹å¤–å…¥å£ã€å®‰å…¨é˜²æŠ¤ã€é™æ€èµ„æºåŠ é€Ÿã€è´Ÿè½½å‡è¡¡ç­‰å…³é”®è§’è‰²ã€‚</p>
<p>é€šè¿‡åˆç†é…ç½® Nginxï¼Œä½ å¯ä»¥è·å¾—ï¼š</p>
<ul>
<li>â€¢ æ›´é«˜çš„å®‰å…¨æ€§</li>
<li>â€¢ æ›´ç¨³å®šçš„è®¿é—®å…¥å£</li>
<li>â€¢ æ›´å¥½çš„æ€§èƒ½è¡¨ç°</li>
<li>â€¢ æ›´çµæ´»çš„æ‰©å±•èƒ½åŠ›</li>
</ul>
<p>åœ¨ã€ŠNode.js ç¼–ç¨‹å®æˆ˜ã€‹ç³»åˆ—ä¸­ï¼ŒNginx åå‘ä»£ç†æ˜¯ç»§ PM2ã€Docker ä¹‹åè¿ˆå‘ç”Ÿäº§çº§éƒ¨ç½²çš„é‡è¦ä¸€æ­¥ï¼Œä¸ºåç»­ HTTPSã€è´Ÿè½½å‡è¡¡ä¸é«˜å¯ç”¨æ¶æ„å¥ å®šäº†åšå®åŸºç¡€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[äº²æµ‹æœ‰æ•ˆï¼M4èŠ¯ç‰‡Macå®‰è£…Node.js 14é¿å‘æŒ‡å—ï¼Œè§£å†³nvm installå¤±è´¥é—®é¢˜]]></title>    <link>https://juejin.cn/post/7599579865608044586</link>    <guid>https://juejin.cn/post/7599579865608044586</guid>    <pubDate>2026-01-27T02:59:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599579865608044586" data-draft-id="7599550337385332799" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äº²æµ‹æœ‰æ•ˆï¼M4èŠ¯ç‰‡Macå®‰è£…Node.js 14é¿å‘æŒ‡å—ï¼Œè§£å†³nvm installå¤±è´¥é—®é¢˜"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-27T02:59:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="maskie"/> <meta itemprop="url" content="https://juejin.cn/user/3532076760700055"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äº²æµ‹æœ‰æ•ˆï¼M4èŠ¯ç‰‡Macå®‰è£…Node.js 14é¿å‘æŒ‡å—ï¼Œè§£å†³nvm installå¤±è´¥é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3532076760700055/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    maskie
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T02:59:22.000Z" title="Tue Jan 27 2026 02:59:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é—®é¢˜æ¦‚è¿°ï¼šå½“ç°ä»£ç¡¬ä»¶é‡è§æ—§ç‰ˆè½¯ä»¶</h2>
<p>åˆšä»<code>Windows</code>åˆ‡æ¢åˆ°å…¨æ–°çš„<code>MacBook Proï¼ˆM4èŠ¯ç‰‡ï¼‰</code>ï¼Œå‡†å¤‡æŠ•å…¥åˆ°ç†Ÿæ‚‰çš„è€é¡¹ç›®ç»´æŠ¤ä¸­ï¼Œä¸€åˆ‡ä¼¼ä¹éƒ½å¾ˆé¡ºåˆ©â€”â€”ç›´åˆ°æˆ‘éœ€è¦è¿è¡Œé‚£ä¸ªä¾èµ–<code>Node.js 14</code>çš„é¡¹ç›®ã€‚
åœ¨ç»ˆç«¯ä¸­è¾“å…¥ <code>nvm install 14 </code>åï¼Œç­‰å¾…æˆ‘çš„ä¸æ˜¯æˆåŠŸçš„æç¤ºï¼Œè€Œæ˜¯ä¸€è¿ä¸²ä»¤äººå›°æƒ‘çš„é”™è¯¯ä¿¡æ¯ï¼š<img src="https://i-blog.csdnimg.cn/direct/fa529ffa50824f8aa93eaecc892c1680.png" alt="[å›¾ç‰‡]" loading="lazy"/></p>
<h2 data-id="heading-1">ä¸ºä»€ä¹ˆå®‰è£…ä¼šå¤±è´¥ï¼Ÿ</h2>
<ol>
<li>æ¶æ„å·®å¼‚çš„æœ¬è´¨</li>
</ol>
<blockquote>
<ul>
<li>Node.js 14å®˜æ–¹é¢„ç¼–è¯‘åŒ…ä¸»è¦é’ˆå¯¹x86_64æ¶æ„</li>
<li>M4èŠ¯ç‰‡çš„ARMæ¶æ„éœ€è¦å¯¹åº”çš„ARMåŸç”ŸäºŒè¿›åˆ¶æ–‡ä»¶</li>
<li>ç¼ºä¹å®˜æ–¹ç»´æŠ¤çš„ä½ç‰ˆæœ¬ARMåŸç”ŸåŒ…</li>
</ul>
</blockquote>
<p>2.ä¾èµ–é“¾æ–­è£‚é—®é¢˜</p>
<blockquote>
<ul>
<li>éƒ¨åˆ†Node.js 14ä¾èµ–çš„æœ¬åœ°æ¨¡å—ï¼ˆnative addonsï¼‰æ— ARMç‰ˆæœ¬</li>
<li>npmåŒ…ä¸­çš„postinstallè„šæœ¬å¯èƒ½åŒ…å«ä¸å…¼å®¹çš„å‘½ä»¤</li>
</ul>
</blockquote>
<h2 data-id="heading-2">è§£å†³æ–¹æ¡ˆï¼šé€šè¿‡Rosetta 2æ¶èµ·å…¼å®¹çš„æ¡¥æ¢</h2>
<p>ç»è¿‡å¤šæ¬¡å°è¯•ï¼ŒRosetta 2è½¬è¯‘æ–¹æ¡ˆè¢«è¯æ˜æ˜¯æœ€ç¨³å®šå¯é çš„æ–¹æ³•ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†æ­¥éª¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å®‰è£… Rosetta 2ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰</span>
softwareupdate --install-rosetta

<span class="hljs-comment"># 2. åœ¨ Rosetta 2 ç»ˆç«¯ä¸­è¿è¡Œ</span>
<span class="hljs-built_in">arch</span> -x86_64 zsh

<span class="hljs-comment"># 3. åœ¨è¿™ä¸ªç»ˆç«¯ä¸­å®‰è£… nvmï¼ˆå¦‚æœéœ€è¦ï¼‰</span>
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.5/install.sh | bash

<span class="hljs-comment"># 4. å®‰è£… Node.js v14</span>
nvm install v14.21.3
</code></pre>
<p><strong>å®‰è£…åï¼Œæ¯æ¬¡è¿è¡Œ Node v14 çš„é¡¹ç›®æ—¶ï¼Œéœ€è¦åœ¨ Rosetta ç»ˆç«¯ä¸­ï¼š</strong></p>
<pre><code class="hljs language-powershell" lang="powershell">arch -x86_64 zsh
nvm use v14
</code></pre>
<h2 data-id="heading-3">æ•ˆæœå›¾</h2>
<p>æ­£å¸¸ä¸‹è½½å¹¶åˆ‡æ¢ node 14ç‰ˆæœ¬ï¼Œå®‰è£… <code>node_modules</code>
<img src="https://i-blog.csdnimg.cn/direct/337afd81cab949f29477fcfa631efdea.png" alt="[å›¾ç‰‡]" loading="lazy"/></p>
<p>é¡¹ç›®æ­£å¸¸è¿è¡Œ
<img src="https://i-blog.csdnimg.cn/direct/06ae187c7244461cbeb65dc6211270cc.png" alt="[å›¾ç‰‡]" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•åœ¨win11ä¸Šæœ¬åœ°éƒ¨ç½²qwen3-4bå¤§æ¨¡å‹]]></title>    <link>https://juejin.cn/post/7599600549764136995</link>    <guid>https://juejin.cn/post/7599600549764136995</guid>    <pubDate>2026-01-27T02:00:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599600549764136995" data-draft-id="7599586891084742690" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•åœ¨win11ä¸Šæœ¬åœ°éƒ¨ç½²qwen3-4bå¤§æ¨¡å‹"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-27T02:00:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äºŒç¦åŒå¿—null"/> <meta itemprop="url" content="https://juejin.cn/user/3934498593972979"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•åœ¨win11ä¸Šæœ¬åœ°éƒ¨ç½²qwen3-4bå¤§æ¨¡å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3934498593972979/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äºŒç¦åŒå¿—null
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T02:00:32.000Z" title="Tue Jan 27 2026 02:00:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç¬”è€…ç”µè„‘é…ç½®å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed3339510b134fe0b0d4848e7f68a97e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LqM56aP5ZCM5b-XbnVsbA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770084032&amp;x-signature=mWTEiFROYW5bKCQsyruhevI4Vm0%3D" alt="" loading="lazy"/></p>
<p>æ³¨æ„å¿…é¡»å…ˆæ­å»ºpythonç¯å¢ƒå“ˆï¼Œå¹¶ä¸”è¦64ä½çš„ã€‚</p>
<p>æˆ‘çš„æ˜¾å¡ä¸€èˆ¬å› æ­¤é€‰æ‹©äº†qwen3-4bæ¨¡å‹ï¼Œæ¨¡å‹çš„ä¸‹è½½åœ°å€ä¸ºï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">https:<span class="hljs-comment">//www.modelscope.cn/collections</span>
</code></pre>
<p>å¦‚ä½•ä¸‹è½½å¤§æ¨¡å‹ï¼š</p>
<p>ç®¡ç†å‘˜èº«ä»½å¯åŠ¨cmd</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#è¾“å…¥å‘½ä»¤</span>
pip install modelscope
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c2dabf240e7943979a3414f3d436d749~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LqM56aP5ZCM5b-XbnVsbA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770084032&amp;x-signature=6f%2BxPgV45NJ6M9h1uU29eSXjUpA%3D" alt="" loading="lazy"/></p>
<p>åœ¨ä½ çš„ç”µè„‘æœ¬åœ°åˆ›å»ºä¸€ä¸ªç”¨äºå­˜æ”¾æ¨¡å‹æ–‡ä»¶çš„æ–‡ä»¶å¤¹ï¼Œç¬”è€…æ˜¯D:\Code\bigMod\qwen34b</p>
<pre><code class="hljs language-css" lang="css">modelscope download <span class="hljs-attr">--model</span> Qwen/Qwen3-<span class="hljs-number">4</span>B <span class="hljs-attr">--local_dir</span> "D:\Code\bigMod\qwen34b<span class="hljs-string">"
</span></code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/90268c8ab24c4f24bb456a8b7bff7957~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LqM56aP5ZCM5b-XbnVsbA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770084032&amp;x-signature=8fBASg3waiJyWysB%2BGhVZxlRhGs%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b038d57c8ed4840bba64915d6e4221a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LqM56aP5ZCM5b-XbnVsbA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770084032&amp;x-signature=j%2Fa%2FiGaGQ63jogBOS0AfGgRisUo%3D" alt="" loading="lazy"/></p>
<p>ç„¶åä½¿ç”¨pycharmå°†qwen34bæ–‡ä»¶å¤¹å½“åšé¡¹ç›®æ–‡ä»¶æ‰“å¼€</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/329306a500dd4ea5b070093a31ab4ddf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LqM56aP5ZCM5b-XbnVsbA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770084032&amp;x-signature=ZKgyJYm6BmoZnPF9yRyu4yR8r5A%3D" alt="" loading="lazy"/></p>
<p>ç„¶ååœ¨æ ¹ç›®å½•æ–°å»ºä¸€ä¸ªpyæ–‡ä»¶ç”¨äºå¯åŠ¨æ¨¡å‹ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯run_qwen.py</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/707b8e702a344e4682bbcb06aa608024~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LqM56aP5ZCM5b-XbnVsbA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770084032&amp;x-signature=FujAU9G7Yd1hLv5xVoGz60WgbTQ%3D" alt="" loading="lazy"/></p>
<p>åœ¨pycharmçš„ç»ˆç«¯é‡Œå®‰è£…ä¸€ä¸‹ä¾èµ–</p>
<pre><code class="hljs language-bash" lang="bash">pip install transformers torch accelerate sentencepiece einops
pip install modelscope  <span class="hljs-comment"># å¦‚æœä½¿ç”¨ModelScopeåŠ è½½</span>
pip install bitsandbytes  <span class="hljs-comment"># ç”¨äº4-bité‡åŒ–</span>
</code></pre>
<p>æ³¨æ„é€‰æ‹©Cudaè¿˜æ˜¯cpuå…·ä½“å–å†³äºä½ çš„ç”µè„‘æˆ–è€…æœåŠ¡å™¨ï¼Œç¬”è€…çš„ç”µè„‘æ˜¾å¡è™½ç„¶ä¸å¤ªè¡Œï¼Œä½†æ˜¯å‹‰å¼ºå°†å°±ã€‚å¦‚æœä½ çš„ç”µè„‘æ²¡æœ‰ç‹¬æ˜¾ï¼Œé‚£ä¹ˆæ¨èä½¿ç”¨cpuæ¥è®¡ç®—ã€‚å¹¶ä¸”cudaåº”è¯¥è¦å•ç‹¬è£…ä¸€ä¸ªé©±åŠ¨ã€‚ç¬”è€…æ—©å¹´è£…è¿‡è¿™ä¸ªé©±åŠ¨ï¼ˆä¸çŸ¥é“ä¸è£…æœ‰æ²¡æœ‰å½±å“ï¼‰ï¼Œæ‰€ä»¥ä¸åœ¨èµ˜è¿°</p>
<pre><code class="hljs language-ini" lang="ini">import torch
from transformers import AutoTokenizer, AutoModelForCausalLM

<span class="hljs-comment"># é…ç½®å‚æ•°</span>
<span class="hljs-attr">MODEL_PATH</span> = <span class="hljs-string">"D:/Code/bigMod/qwen34b"</span>  <span class="hljs-comment"># ä½ çš„æ¨¡å‹è·¯å¾„</span>
<span class="hljs-attr">DEVICE</span> = <span class="hljs-string">"cuda"</span> if torch.cuda.is_available() else <span class="hljs-string">"cpu"</span>
<span class="hljs-attr">QUANTIZE</span> = <span class="hljs-literal">True</span>  <span class="hljs-comment"># æ˜¯å¦å¯ç”¨4-bité‡åŒ–ï¼ˆRTX 3060å¼ºçƒˆå»ºè®®å¼€å¯ï¼‰</span>

print(f"æ­£åœ¨åŠ è½½æ¨¡å‹ï¼Œè®¾å¤‡: {DEVICE}")
print(f"æ¨¡å‹è·¯å¾„: {MODEL_PATH}")

try:
    <span class="hljs-comment"># åŠ è½½tokenizer</span>
    <span class="hljs-attr">tokenizer</span> = AutoTokenizer.from_pretrained(
        MODEL_PATH,
        <span class="hljs-attr">trust_remote_code</span>=<span class="hljs-literal">True</span>,
        <span class="hljs-attr">use_fast</span>=<span class="hljs-literal">False</span>
    )

    <span class="hljs-comment"># åŠ è½½æ¨¡å‹</span>
    if QUANTIZE and <span class="hljs-attr">DEVICE</span> == <span class="hljs-string">"cuda"</span>:
        print("å¯ç”¨4-bité‡åŒ–...")
        <span class="hljs-attr">model</span> = AutoModelForCausalLM.from_pretrained(
            MODEL_PATH,
            <span class="hljs-attr">device_map</span>=<span class="hljs-string">"auto"</span>,
            <span class="hljs-attr">trust_remote_code</span>=<span class="hljs-literal">True</span>,
            <span class="hljs-attr">load_in_4bit</span>=<span class="hljs-literal">True</span>,  <span class="hljs-comment"># 4-bité‡åŒ–</span>
            <span class="hljs-attr">bnb_4bit_compute_dtype</span>=torch.float16,
            <span class="hljs-attr">bnb_4bit_quant_type</span>=<span class="hljs-string">"nf4"</span>,
            <span class="hljs-attr">bnb_4bit_use_double_quant</span>=<span class="hljs-literal">True</span>
        )
    else:
        print("åŠ è½½å®Œæ•´ç²¾åº¦æ¨¡å‹...")
        <span class="hljs-attr">model</span> = AutoModelForCausalLM.from_pretrained(
            MODEL_PATH,
            <span class="hljs-attr">device_map</span>=<span class="hljs-string">"auto"</span>,
            <span class="hljs-attr">trust_remote_code</span>=<span class="hljs-literal">True</span>,
            <span class="hljs-attr">torch_dtype</span>=torch.float16 if DEVICE == <span class="hljs-string">"cuda"</span> else torch.float32
        )

    print("æ¨¡å‹åŠ è½½æˆåŠŸï¼")


    <span class="hljs-comment"># æµ‹è¯•æ¨ç†</span>
    def chat_with_model(prompt):
        <span class="hljs-attr">messages</span> = [
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„AIåŠ©æ‰‹ã€‚"</span>},
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: prompt}
        ]

        <span class="hljs-comment"># ä½¿ç”¨tokenizerçš„apply_chat_templateæ–¹æ³•ï¼ˆQwen3æ”¯æŒï¼‰</span>
        <span class="hljs-attr">text</span> = tokenizer.apply_chat_template(
            messages,
            <span class="hljs-attr">tokenize</span>=<span class="hljs-literal">False</span>,
            <span class="hljs-attr">add_generation_prompt</span>=<span class="hljs-literal">True</span>
        )

        <span class="hljs-attr">model_inputs</span> = tokenizer([text], return_tensors=<span class="hljs-string">"pt"</span>).to(DEVICE)

        with torch.no_grad():
            <span class="hljs-attr">generated_ids</span> = model.generate(
                **model_inputs,
                <span class="hljs-attr">max_new_tokens</span>=<span class="hljs-number">512</span>,
                <span class="hljs-attr">do_sample</span>=<span class="hljs-literal">True</span>,
                <span class="hljs-attr">temperature</span>=<span class="hljs-number">0.6</span>,
                <span class="hljs-attr">top_p</span>=<span class="hljs-number">0.9</span>,
                <span class="hljs-attr">pad_token_id</span>=tokenizer.eos_token_id
            )

        <span class="hljs-comment"># å»é™¤è¾“å…¥éƒ¨åˆ†ï¼Œåªä¿ç•™ç”Ÿæˆå†…å®¹</span>
        <span class="hljs-attr">generated_ids</span> = [
            output_ids[len(input_ids):]
            for input_ids, output_ids in zip(model_inputs.input_ids, generated_ids)
        ]

        <span class="hljs-attr">response</span> = tokenizer.batch_decode(generated_ids, skip_special_tokens=<span class="hljs-literal">True</span>)[<span class="hljs-number">0</span>]
        return response


    <span class="hljs-comment"># äº¤äº’å¼å¯¹è¯</span>
    print("\n<span class="hljs-attr">" + "</span>=<span class="hljs-string">" * 50)
    print("</span>Qwen3-<span class="hljs-number">4</span>B å·²å¯åŠ¨ï¼è¾“å…¥ <span class="hljs-string">'exit'</span> é€€å‡ºå¯¹è¯ã€‚<span class="hljs-string">")
    print("</span>=<span class="hljs-string">" * 50 + "</span>\n<span class="hljs-string">")

    while True:
        user_input = input("</span>æ‚¨: <span class="hljs-string">")
        if user_input.lower() in ['exit', 'quit', 'bye']:
            print("</span>å†è§ï¼<span class="hljs-string">")
            break

        print("</span>AI: <span class="hljs-string">", end="</span><span class="hljs-string">", flush=True)
        response = chat_with_model(user_input)
        print(response)

except Exception as e:
    print(f"</span>åŠ è½½æ¨¡å‹æ—¶å‡ºé”™: {str(e)}<span class="hljs-string">")
    import traceback

    traceback.print_exc()
</span></code></pre>
<p>æœ€åå¯åŠ¨pyæ–‡ä»¶ï¼Œåœ¨æ§åˆ¶å°è¾“å…¥é—®é¢˜å°±å¥½äº†</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a75a3a7891c48af92d5243e2e3278a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LqM56aP5ZCM5b-XbnVsbA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770084032&amp;x-signature=bFcloGFFzwdIvLWtP1g4ycq5Pn8%3D" alt="" loading="lazy"/></p>
<p>ä½†æ˜¯qwen3-4bçœŸçš„æœ‰äº›ç¬¨ï¼Œä¸æ¨èã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[RAG æ·±åº¦å®è·µç³»åˆ—ï¼ˆä¸‰ï¼‰ï¼šRAG æŠ€æœ¯æ¼”å˜ä¸æ ¸å¿ƒæ¶æ„çš„æ·±åº¦å‰–æ]]></title>    <link>https://juejin.cn/post/7599586891084529698</link>    <guid>https://juejin.cn/post/7599586891084529698</guid>    <pubDate>2026-01-27T01:30:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599586891084529698" data-draft-id="7599586891084464162" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="RAG æ·±åº¦å®è·µç³»åˆ—ï¼ˆä¸‰ï¼‰ï¼šRAG æŠ€æœ¯æ¼”å˜ä¸æ ¸å¿ƒæ¶æ„çš„æ·±åº¦å‰–æ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-27T01:30:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸­æ¯å¯ä¹å¤šåŠ å†°"/> <meta itemprop="url" content="https://juejin.cn/user/3435306702347432"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            RAG æ·±åº¦å®è·µç³»åˆ—ï¼ˆä¸‰ï¼‰ï¼šRAG æŠ€æœ¯æ¼”å˜ä¸æ ¸å¿ƒæ¶æ„çš„æ·±åº¦å‰–æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3435306702347432/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸­æ¯å¯ä¹å¤šåŠ å†°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T01:30:02.000Z" title="Tue Jan 27 2026 01:30:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»24åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ RAG èŒƒå¼æ¼”è¿›ï¼šä»çŸ¥è¯†æ¬è¿å·¥åˆ°æ™ºèƒ½å†³ç­–è€…</h2>
<p>æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰æŠ€æœ¯çš„å‘å±•å²ï¼Œæ˜¯ä¸€éƒ¨ä¸æ–­æŒ‘æˆ˜å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å±€é™æ€§ã€è¿½æ±‚ç³»ç»Ÿçº§æ™ºèƒ½çš„æ¼”è¿›å²ã€‚RAG çš„æ¼”å˜å¹¶éç®€å•çš„åŠŸèƒ½å åŠ ï¼Œè€Œæ˜¯å¯¹â€œå¦‚ä½•é«˜æ•ˆã€å¯é åœ°å°†å¤–éƒ¨çŸ¥è¯†èå…¥ LLM æ¨ç†è¿‡ç¨‹â€è¿™ä¸€æ ¸å¿ƒé—®é¢˜çš„æŒç»­æ¢ç´¢ã€‚æˆ‘ä»¬å¯ä»¥å°† RAG çš„æ¼”è¿›è„‰ç»œåˆ’åˆ†ä¸ºå››ä¸ªæ¸…æ™°çš„é˜¶æ®µï¼š<strong>Naive RAG</strong>Â ç¡®ç«‹åŸºæœ¬èŒƒå¼ï¼Œ<strong>Advanced RAG</strong>Â èšç„¦ç²¾ç»†åŒ–ä¼˜åŒ–ï¼Œ<strong>Modular RAG</strong>Â è¿½æ±‚æ¶æ„çµæ´»æ€§ï¼Œæœ€ç»ˆÂ <strong>Agentic RAG</strong>Â å®ç°è‡ªä¸»å†³ç­–ä¸æ™ºèƒ½åŒ–ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af1604d58a0640578521ec6192f57014~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770082202&amp;x-signature=PT4V2%2Fhph6oZBhO2haMu7ner1ys%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<p>åœ¨ RAG çš„å®è·µä¸­ï¼Œè®¸å¤šå¼€å‘è€…åœ¨é¢å¯¹å¤æ‚åœºæ™¯æ—¶ï¼Œå¸¸å› ç¼ºä¹å¯¹æ¶æ„æ¼”è¿›é€»è¾‘çš„æ·±åˆ»ç†è§£è€Œé™·å…¥å›°å¢ƒï¼šå¦‚ä½•å°†çŸ¥è¯†å›¾è°±ï¼ˆGraphRAGï¼‰èå…¥å‘é‡æ£€ç´¢ï¼Ÿå¦‚ä½•è®¾è®¡ä¸€ä¸ªå…·å¤‡è‡ªæˆ‘åæ€èƒ½åŠ›çš„ Agentic RAG ç³»ç»Ÿï¼Ÿå¦‚ä½•å¹³è¡¡å®æ—¶æ€§ä¸å‡†ç¡®æ€§ï¼Ÿ</p>
<p>ä¸ºäº†å¸®ä½ å¡«è¡¥ä»æ‡‚åŸç†åˆ°èƒ½è½åœ°çš„å…³é”®æ‹¼å›¾ï¼ŒAIå¤§å­¦å ‚åŸºäºå¤§é‡çš„ä¸šåŠ¡å®æˆ˜ç»éªŒï¼Œç²¾å¿ƒæ‰“ç£¨è¯¾ç¨‹ï¼Œæ­£å¼æ¨å‡ºÂ <strong>RAGå·¥ç¨‹å¸ˆè®¤è¯</strong>ã€‚è¿™ä»½è¯ä¹¦å°†æ˜¯ä½ ç³»ç»ŸåŒ–æŒæ¡ AI è½åœ°æ ¸å¿ƒèƒ½åŠ›çš„ç»ä½³æœºä¼šï¼Œè®¤è¯ç°å·²å¼€å¯ï¼Œ<strong>é™æ—¶å…è´¹</strong>ï¼Œç‚¹å‡»æ–‡æœ«<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aidaxue.com%2Fcourse%2F1190%3Fvideo_id%3D5212%26ch%3Dai_daxue_csdn" target="_blank" title="https://www.aidaxue.com/course/1190?video_id=5212&amp;ch=ai_daxue_csdn" ref="nofollow noopener noreferrer">ğŸ”—è®¤è¯é“¾æ¥</a>å¼€å§‹å­¦ä¹ ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8f9a20ab57e40708dd69ba01c2a4b81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770082202&amp;x-signature=0orq9xSe5Ny%2FVNvHBu%2FK15Pq9ZM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-1"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1.1ã€ Naive RAGï¼šèŒƒå¼çš„ç¡®ç«‹ä¸å›ºæœ‰å±€é™</h3>
<p><strong>Naive RAG</strong>ï¼ˆæœ´ç´  RAGï¼‰æ˜¯ RAG æŠ€æœ¯çš„èµ·ç‚¹ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯â€œç´¢å¼•-æ£€ç´¢-ç”Ÿæˆâ€çš„çº¿æ€§æµç¨‹ã€‚å®ƒè§£å†³äº† LLM åœ¨ç‰¹å®šé¢†åŸŸçŸ¥è¯†ä¸Šçš„â€œæ— çŸ¥â€é—®é¢˜ï¼Œé€šè¿‡å°†æ–‡æ¡£åˆ†å—ã€å‘é‡åŒ–ï¼Œå¹¶ä½¿ç”¨å•ä¸€çš„å‘é‡ç›¸ä¼¼åº¦æ£€ç´¢æ¥å¬å›ä¸Šä¸‹æ–‡ã€‚<br/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ade07eee44d4ce58c0601441b3f9a44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770082202&amp;x-signature=XsXPwngYcUQy9w2ff9JrUL1N2Bk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ç„¶è€Œï¼ŒNaive RAG çš„å±€é™æ€§æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œä¹Ÿæ˜¯é©±åŠ¨åç»­æ¼”è¿›çš„æ ¹æœ¬åŸå› ï¼š</p>
<ol>
<li><strong>åˆ†å—çš„è¯­ä¹‰ç ´å</strong>ï¼šå›ºå®šå¤§å°çš„åˆ†å—ç­–ç•¥ææ˜“åœ¨è¯­ä¹‰è¾¹ç•Œå¤„æˆªæ–­ï¼Œå¯¼è‡´å•ä¸ªå—çš„è¯­ä¹‰ä¿¡æ¯ä¸å®Œæ•´æˆ–è¢«ç¨€é‡Šï¼Œç›´æ¥å½±å“åµŒå…¥æ¨¡å‹çš„ç¼–ç è´¨é‡ã€‚</li>
<li><strong>å•ä¸€æ£€ç´¢çš„ç›²åŒº</strong>ï¼šä»…ä¾èµ–å‘é‡ç›¸ä¼¼åº¦æ£€ç´¢ï¼Œæ— æ³•æœ‰æ•ˆå¤„ç†<strong>è¯æ±‡ä¸åŒ¹é…</strong>ï¼ˆLexical Gapï¼‰é—®é¢˜ï¼Œå¯¹åŒä¹‰è¯ã€ä¸“ä¸šæœ¯è¯­æˆ–éœ€è¦ç²¾ç¡®å…³é”®è¯åŒ¹é…çš„æŸ¥è¯¢ï¼Œå¬å›ç‡ä½ä¸‹ã€‚</li>
<li><strong>ç¼ºä¹æŸ¥è¯¢ä¼˜åŒ–</strong>ï¼šç”¨æˆ·æŸ¥è¯¢çš„æ¨¡ç³Šæ€§ã€æ­§ä¹‰æ€§æœªè¢«å¤„ç†ï¼Œç›´æ¥å½±å“äº†æ£€ç´¢ä¿¡å·çš„è´¨é‡ã€‚</li>
</ol>
<p>Naive RAG å°±åƒä¸€ä¸ªè¢«åŠ¨çš„â€œçŸ¥è¯†æ¬è¿å·¥â€ï¼Œå®ƒåªèƒ½æœºæ¢°åœ°æ‰§è¡Œé¢„è®¾çš„æµç¨‹ï¼Œç¼ºä¹å¯¹ä¿¡æ¯è´¨é‡çš„åˆ¤æ–­å’Œå¯¹æŸ¥è¯¢æ„å›¾çš„æ·±åº¦ç†è§£ã€‚</p>
<h3 data-id="heading-2"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1.2ã€ Advanced RAGï¼šç²¾ç»†åŒ–ä¼˜åŒ–ä¸å¤šé˜¶æ®µç²¾ç‚¼</h3>
<p><strong>Advanced RAG</strong>ï¼ˆé«˜çº§ RAGï¼‰æ˜¯ RAG èµ°å‘å·¥ä¸šçº§åº”ç”¨çš„å…³é”®ä¸€æ­¥ï¼Œå…¶æ ¸å¿ƒåœ¨äºåœ¨ Naive RAG çš„åŸºç¡€ä¸Šï¼Œå¼•å…¥äº†å¤§é‡çš„<strong>é¢„æ£€ç´¢</strong>å’Œ<strong>åæ£€ç´¢</strong>ä¼˜åŒ–æœºåˆ¶ï¼Œå°†æµç¨‹ä»çº¿æ€§è½¬å˜ä¸ºå¤šé˜¶æ®µç²¾ç‚¼ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2eeae31ab66e4547a9b403017e0d6a49~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770082202&amp;x-signature=U0uuHQLgDWhpzY9g2EQ1tbzzsGk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-3"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1.2.1ã€ é¢„æ£€ç´¢ä¼˜åŒ–ï¼šå¢å¼ºæŸ¥è¯¢ä¿¡å·çš„è‰ºæœ¯</h4>
<p>é¢„æ£€ç´¢ä¼˜åŒ–çš„ç›®æ ‡æ˜¯ç”Ÿæˆæ›´å¼ºå¤§çš„æ£€ç´¢ä¿¡å·ï¼Œä»¥å…‹æœç”¨æˆ·æŸ¥è¯¢çš„å±€é™æ€§ï¼š</p>
<ul>
<li><strong>æŸ¥è¯¢é‡å†™ä¸æ‰©å±•</strong>ï¼šåˆ©ç”¨ LLM å°†åŸå§‹æŸ¥è¯¢æ”¹å†™æˆæ›´æ¸…æ™°ã€æ›´å…·ä½“çš„ç‰ˆæœ¬ï¼Œæˆ–ç”Ÿæˆå¤šä¸ªå˜ä½“æŸ¥è¯¢ä»¥å¢åŠ æ£€ç´¢è¦†ç›–é¢ã€‚</li>
<li><strong>å‡è®¾æ€§æ–‡æ¡£åµŒå…¥ï¼ˆHyDEï¼‰</strong> ï¼šè¿™æ˜¯æœ€å…·åˆ›æ–°æ€§çš„æŠ€æœ¯ä¹‹ä¸€ã€‚å®ƒåˆ©ç”¨ LLM çš„ç”Ÿæˆèƒ½åŠ›ï¼Œæ ¹æ®æŸ¥è¯¢ç”Ÿæˆä¸€ä¸ªâ€œå‡è®¾æ€§ç­”æ¡ˆâ€ï¼Œç„¶åç”¨è¿™ä¸ªå‡è®¾æ€§ç­”æ¡ˆçš„å‘é‡å»æ£€ç´¢çœŸå®æ–‡æ¡£ã€‚ç”±äºå‡è®¾æ€§ç­”æ¡ˆåŒ…å«äº†æ›´ä¸°å¯Œçš„è¯­ä¹‰å’Œæ›´æ¥è¿‘æ–‡æ¡£çš„è¯æ±‡ï¼Œå®ƒèƒ½æ˜¾è‘—æé«˜æ£€ç´¢çš„å‡†ç¡®æ€§ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†æŠ½è±¡æ¦‚å¿µæ—¶ã€‚</li>
<li><strong>å¤šæŸ¥è¯¢ç”Ÿæˆ</strong>ï¼šåˆ©ç”¨ LLM ç”Ÿæˆå¤šä¸ªå­æŸ¥è¯¢ï¼Œå¹¶è¡Œæ‰§è¡Œæ£€ç´¢ï¼Œç„¶ååˆå¹¶ç»“æœï¼Œä»¥åº”å¯¹å¤æ‚æŸ¥è¯¢å’Œå¤šè§’åº¦ä¿¡æ¯éœ€æ±‚ã€‚</li>
</ul>
<h4 data-id="heading-4"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1.2.2ã€ æ£€ç´¢ä¸åå¤„ç†ä¼˜åŒ–ï¼šä»å¬å›åˆ°å‡†ç¡®ç‡çš„é£è·ƒ</h4>
<p>Advanced RAG åœ¨æ£€ç´¢å’Œåå¤„ç†ç¯èŠ‚çš„ä¼˜åŒ–ï¼Œæ˜¯å…¶æ€§èƒ½é£è·ƒçš„å…³é”®ï¼š</p>
<ul>
<li><strong>æ··åˆæ£€ç´¢ï¼ˆHybrid Retrievalï¼‰</strong> ï¼šå°†åŸºäºå…³é”®è¯çš„ç¨€ç–æ£€ç´¢ï¼ˆå¦‚ BM25ï¼‰ä¸åŸºäºè¯­ä¹‰çš„ç¨ å¯†æ£€ç´¢ï¼ˆå‘é‡æ£€ç´¢ï¼‰è¿›è¡Œèåˆã€‚è¿™ç§èåˆçš„æ•°å­¦é€»è¾‘åœ¨äºï¼Œé€šè¿‡Â <strong>RRFï¼ˆReciprocal Rank Fusionï¼‰</strong> Â ç­‰ç®—æ³•ï¼Œå°†ä¸¤ç§ä¸åŒç›¸å…³æ€§åº¦é‡ï¼ˆè¯é¢‘-é€†æ–‡æ¡£é¢‘ç‡ä¸å‘é‡ä½™å¼¦ç›¸ä¼¼åº¦ï¼‰çš„ç»“æœè¿›è¡ŒåŠ æƒæ’åºï¼Œå®ç°ä¼˜åŠ¿äº’è¡¥ï¼Œæœ€å¤§åŒ–å¬å›ç‡å’Œå‡†ç¡®ç‡ã€‚</li>
<li><strong>è¯­ä¹‰åˆ†å—ç­–ç•¥</strong>ï¼šå–ä»£å›ºå®šåˆ†å—ï¼Œé‡‡ç”¨åŸºäºå¥å­ã€æ®µè½æˆ–æ ‡é¢˜çš„è¯­ä¹‰åˆ†å—ï¼Œç¡®ä¿æ¯ä¸ªå—çš„è¯­ä¹‰å®Œæ•´æ€§ã€‚æ›´è¿›ä¸€æ­¥çš„ç­–ç•¥æ˜¯<strong>çˆ¶æ–‡æ¡£æ£€ç´¢</strong>ï¼Œå³ç”¨å°å—è¿›è¡Œæ£€ç´¢ï¼Œä½†è¿”å›åŒ…å«è¯¥å°å—çš„æ›´å¤§â€œçˆ¶æ–‡æ¡£â€ä½œä¸º LLM çš„ä¸Šä¸‹æ–‡ï¼Œä»¥å¹³è¡¡æ£€ç´¢ç²¾åº¦å’Œä¸Šä¸‹æ–‡ä¸°å¯Œåº¦ã€‚</li>
<li><strong>Cross-Encoder é‡æ’åº</strong>ï¼šè¿™æ˜¯æå‡å‡†ç¡®ç‡ï¼ˆPrecisionï¼‰çš„åˆ©å™¨ã€‚ä¸ Bi-Encoder ç‹¬ç«‹ç¼–ç æŸ¥è¯¢å’Œæ–‡æ¡£ä¸åŒï¼ŒCross-Encoder å°†æŸ¥è¯¢å’Œæ–‡æ¡£<strong>æ‹¼æ¥</strong>åä¸€èµ·è¾“å…¥æ¨¡å‹ï¼Œä»è€Œæ•æ‰ä¸¤è€…ä¹‹é—´ç»†ç²’åº¦çš„äº¤äº’ä¿¡æ¯ã€‚è™½ç„¶è®¡ç®—æˆæœ¬é«˜ï¼Œä½†å…¶å¯¹ç›¸å…³æ€§çš„åˆ¤æ–­æ›´ä¸ºç²¾ç¡®ï¼Œé€šå¸¸ç”¨äºå¯¹ Bi-Encoder å¬å›çš„ Top-K ç»“æœè¿›è¡ŒäºŒæ¬¡ç²¾æ’ã€‚</li>
<li><strong>ä¸Šä¸‹æ–‡å‹ç¼©ä¸éªŒè¯</strong>ï¼šé€šè¿‡ LLMLingua ç­‰æŠ€æœ¯å¯¹æ£€ç´¢ç»“æœè¿›è¡Œå‹ç¼©ï¼Œå‡å°‘ LLM çš„è¾“å…¥ Token æ•°é‡ï¼Œé™ä½æˆæœ¬å¹¶æå‡æ•ˆç‡ã€‚åŒæ—¶ï¼Œå¼•å…¥é¢å¤–çš„ LLM æˆ–è§„åˆ™å¼•æ“å¯¹æœ€ç»ˆç­”æ¡ˆè¿›è¡Œ<strong>äº‹å®ä¸€è‡´æ€§éªŒè¯</strong>ï¼Œä»¥é™ä½å¹»è§‰é£é™©ã€‚</li>
</ul>
<h2 data-id="heading-5"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>äºŒã€ Modular RAG ä¸ GraphRAGï¼šæ¶æ„çš„çµæ´»æ€§ä¸çŸ¥è¯†çš„ç»“æ„åŒ–</h2>
<p>Advanced RAG è§£å†³äº†æ€§èƒ½é—®é¢˜ï¼Œä½†éšç€åº”ç”¨åœºæ™¯çš„å¤æ‚åŒ–ï¼Œç³»ç»Ÿå¯¹<strong>çµæ´»æ€§</strong>å’Œ<strong>å¯æ‰©å±•æ€§</strong>æå‡ºäº†æ›´é«˜çš„è¦æ±‚ï¼Œç”±æ­¤å‚¬ç”Ÿäº†Â <strong>Modular RAG</strong>ï¼ˆæ¨¡å—åŒ– RAGï¼‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3418802770314b6cbe9febffd4531e33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770082202&amp;x-signature=J%2Fzh6qFBUf2Tiy%2F6pmN7PsGZv5c%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-6"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>2.1ã€ Modular RAGï¼šè§£è€¦ä¸å®šåˆ¶åŒ–çš„æ¶æ„å“²å­¦</h3>
<p>Modular RAG çš„æ ¸å¿ƒæ€æƒ³æ˜¯<strong>è§£è€¦</strong>ï¼šå°† RAG æµç¨‹ä¸­çš„å„ä¸ªåŠŸèƒ½ï¼ˆå¦‚æŸ¥è¯¢é‡å†™ã€æ£€ç´¢ã€é‡æ’åºã€éªŒè¯ï¼‰æŠ½è±¡ä¸ºå¯æ’æ‹”çš„ç‹¬ç«‹æ¨¡å—ã€‚è¿™ç§æ¶æ„å“²å­¦ä½¿å¾— RAG ç³»ç»Ÿä¸å†æ˜¯ä¸€ä¸ªå›ºå®šçš„æµæ°´çº¿ï¼Œè€Œæ˜¯ä¸€ä¸ªå¯ä»¥æ ¹æ®ä»»åŠ¡éœ€æ±‚åŠ¨æ€ç»„è£…çš„â€œä¹é«˜ç§¯æœ¨â€ã€‚</p>
<p>è¿™ç§æ¶æ„çš„ä¼˜åŠ¿åœ¨äºï¼š</p>
<ol>
<li><strong>å®šåˆ¶åŒ–å·¥ä½œæµ</strong>ï¼šå¯ä»¥æ ¹æ®ä¸åŒçš„ä¸šåŠ¡åœºæ™¯ï¼ˆå¦‚æ³•å¾‹é—®ç­”ã€ä»£ç ç”Ÿæˆã€è´¢åŠ¡åˆ†æï¼‰å®šåˆ¶ä¸åŒçš„æ¨¡å—ç»„åˆå’Œæ‰§è¡Œè·¯å¾„ã€‚</li>
<li><strong>ç‹¬ç«‹ä¼˜åŒ–ä¸è¿­ä»£</strong>ï¼šæ¯ä¸ªæ¨¡å—å¯ä»¥ç‹¬ç«‹è¿›è¡ŒæŠ€æœ¯é€‰å‹å’Œä¼˜åŒ–ï¼ˆä¾‹å¦‚ï¼Œé’ˆå¯¹æ³•å¾‹æ–‡æ¡£ä½¿ç”¨ä¸“é—¨å¾®è°ƒçš„åµŒå…¥æ¨¡å‹ï¼Œé’ˆå¯¹ä»£ç ä½¿ç”¨åŸºäº AST çš„åˆ†å—å™¨ï¼‰ï¼Œäº’ä¸å½±å“ã€‚</li>
<li><strong>æ”¯æŒå¤æ‚é€»è¾‘</strong>ï¼šé€šè¿‡æ¨¡å—çš„<strong>æ¡ä»¶ç»„åˆ</strong>ï¼ˆæ ¹æ®æŸ¥è¯¢ç±»å‹é€‰æ‹©ä¸åŒæ£€ç´¢å™¨ï¼‰å’Œ<strong>å¾ªç¯ç»„åˆ</strong>ï¼ˆå®ç°å¤šè·³æ£€ç´¢ï¼‰ï¼Œèƒ½å¤Ÿå¤„ç† Advanced RAG éš¾ä»¥åº”å¯¹çš„å¤æ‚é€»è¾‘ã€‚</li>
</ol>
<p>åœ¨ Modular RAG çš„å®è·µä¸­ï¼Œ<strong>DSPï¼ˆDifferentiable Search Pathï¼Œå¯å¾®æœç´¢è·¯å¾„ï¼‰</strong> Â ç­‰æ¡†æ¶æä¾›äº†ç†è®ºåŸºç¡€ï¼Œå®ƒå°† RAG æµç¨‹è§†ä¸ºä¸€ä¸ªå¯ä¼˜åŒ–çš„è®¡ç®—å›¾ï¼Œå…è®¸é€šè¿‡ç«¯åˆ°ç«¯çš„æ–¹å¼å¯¹æ•´ä¸ªæµç¨‹è¿›è¡Œå¾®è°ƒï¼Œä»è€Œå®ç°ç³»ç»Ÿçº§çš„æ€§èƒ½æå‡ã€‚</p>
<h3 data-id="heading-7"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>2.2ã€ GraphRAGï¼šä»è¯­ä¹‰ç›¸ä¼¼åˆ°é€»è¾‘æ¨ç†çš„é£è·ƒ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/123e9aefdfdc4b85bae9ab330c289cfa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770082202&amp;x-signature=v64cYsDNrz3W6jwGeiZsY0tDsZQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>åœ¨ Modular RAG çš„èŒƒç•´å†…ï¼Œ<strong>GraphRAG</strong>ï¼ˆåŸºäºçŸ¥è¯†å›¾è°±çš„ RAGï¼‰æ˜¯è§£å†³å¤æ‚æ¨ç†é—®é¢˜çš„å…³é”®æŠ€æœ¯ã€‚å®ƒè§£å†³äº†ä¼ ç»Ÿå‘é‡æ£€ç´¢çš„æ ¹æœ¬ç¼ºé™·ï¼š<strong>ç¼ºä¹é€»è¾‘å…³è”å’Œå› æœæ¨ç†èƒ½åŠ›</strong>ã€‚</p>
<p>GraphRAG çš„å·¥ä½œåŸç†æ˜¯å°†çŸ¥è¯†åº“ä¸­çš„å®ä½“å’Œå…³ç³»æ„å»ºæˆä¸€ä¸ª<strong>çŸ¥è¯†å›¾è°±ï¼ˆKGï¼‰</strong> ã€‚æ£€ç´¢è¿‡ç¨‹ä¸å†ä»…ä»…æ˜¯æ–‡æœ¬å—çš„ç›¸ä¼¼åº¦åŒ¹é…ï¼Œè€Œæ˜¯ï¼š</p>
<ol>
<li><strong>å®ä½“ä¸å…³ç³»æå–</strong>ï¼šåˆ©ç”¨ LLM æˆ– NLP å·¥å…·ä»æŸ¥è¯¢å’Œæ–‡æ¡£ä¸­æå–å…³é”®å®ä½“å’Œå…³ç³»ã€‚</li>
<li><strong>å›¾è°±è·¯å¾„æœç´¢</strong>ï¼šåœ¨ KG ä¸­æœç´¢è¿æ¥æŸ¥è¯¢å®ä½“å’Œç›®æ ‡å®ä½“çš„è·¯å¾„ã€‚</li>
<li><strong>ç»“æ„åŒ–ä¸Šä¸‹æ–‡</strong>ï¼šå°†æœç´¢åˆ°çš„å›¾è°±è·¯å¾„ï¼ˆå³é€»è¾‘é“¾æ¡ï¼‰ä½œä¸ºç»“æ„åŒ–ä¸Šä¸‹æ–‡æä¾›ç»™ LLMã€‚</li>
</ol>
<p>è¿™ç§æ–¹å¼ä½¿å¾— LLM èƒ½å¤Ÿè¿›è¡Œæ›´å¤æ‚çš„<strong>å¤šè·³æ¨ç†</strong>ï¼ˆMulti-hop Reasoningï¼‰ã€‚ä¾‹å¦‚ï¼Œè¦å›ç­”â€œA å…¬å¸çš„åˆ›å§‹äºº B æŠ•èµ„äº†å“ªäº› C é¢†åŸŸçš„å…¬å¸ï¼Ÿâ€è¿™æ ·çš„é—®é¢˜ï¼ŒGraphRAG å¯ä»¥æ²¿ç€â€œA å…¬å¸ -&gt; åˆ›å§‹äºº B -&gt; æŠ•èµ„å…³ç³» -&gt; C é¢†åŸŸå…¬å¸â€çš„è·¯å¾„è¿›è¡Œç²¾ç¡®æœç´¢ï¼Œå¹¶æä¾›æ¸…æ™°çš„é€»è¾‘é“¾æ¡ï¼Œæå¤§åœ°å¢å¼ºäº†ç­”æ¡ˆçš„<strong>äº‹å®å‡†ç¡®æ€§</strong>å’Œ<strong>å¯è§£é‡Šæ€§</strong>ã€‚GraphRAG çš„å¼•å…¥ï¼Œæ ‡å¿—ç€ RAG ç³»ç»Ÿä»â€œçŸ¥è¯†æ¬è¿å·¥â€æ­£å¼è¿›åŒ–ä¸ºâ€œé€»è¾‘æ¨ç†è€…â€ã€‚</p>
<h2 data-id="heading-8"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ä¸‰ã€ Agentic RAGï¼šè‡ªä¸»å†³ç­–ä¸è‡ªæˆ‘åæ€çš„æ™ºèƒ½åŒ–å·…å³°</h2>
<p>RAG æŠ€æœ¯çš„æœ€æ–°å‰æ²¿æ˜¯Â <strong>Agentic RAG</strong>ï¼ˆæ™ºèƒ½ä½“ RAGï¼‰ï¼Œå®ƒä»£è¡¨äº† RAG ç³»ç»Ÿä»è¢«åŠ¨æ‰§è¡Œåˆ°ä¸»åŠ¨æ™ºèƒ½çš„æœ€ç»ˆå½¢æ€ã€‚Agentic RAG å°† AI æ™ºèƒ½ä½“ï¼ˆAgentï¼‰æŠ€æœ¯ä¸ RAG æ·±åº¦èåˆï¼Œèµ‹äºˆç³»ç»Ÿ<strong>è‡ªä¸»å†³ç­–ã€å·¥å…·ä½¿ç”¨ã€ä»»åŠ¡è§„åˆ’å’Œè‡ªæˆ‘åæ€</strong>çš„èƒ½åŠ›ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56c26754a725457997a0a4cdf80bb183~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770082202&amp;x-signature=DkvRjP3lQt7jXBZBRDJnigz9zhA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-9"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>3.1ã€ Agentic RAG çš„æ ¸å¿ƒæœºåˆ¶ï¼šReAct ä¸åæ€</h3>
<p>Agentic RAG çš„æ ¸å¿ƒåœ¨äºå…¶<strong>æ™ºèƒ½ä½“æ¡†æ¶</strong>ï¼Œå…¶ä¸­Â <strong>ReActï¼ˆReasoning and Actingï¼‰</strong> Â æ¡†æ¶æ˜¯ä¸»æµå®ç°ä¹‹ä¸€ã€‚ReAct æœºåˆ¶å…è®¸ LLM åœ¨ç”Ÿæˆç­”æ¡ˆä¹‹å‰ï¼Œè¿›è¡Œ<strong>æ¨ç†ï¼ˆReasoningï¼‰</strong> Â å’Œ<strong>è¡ŒåŠ¨ï¼ˆActingï¼‰</strong> Â çš„äº¤æ›¿å¾ªç¯ï¼š</p>
<ol>
<li><strong>æ¨ç†ï¼ˆReasoningï¼‰</strong> ï¼šLLM åˆ†æå½“å‰ä»»åŠ¡ã€å·²æœ‰çš„ä¿¡æ¯å’Œä¸‹ä¸€æ­¥çš„ç›®æ ‡ï¼Œç”Ÿæˆä¸€ä¸ªæ¸…æ™°çš„æ€è€ƒè¿‡ç¨‹ã€‚</li>
<li><strong>è¡ŒåŠ¨ï¼ˆActingï¼‰</strong> ï¼šLLM æ ¹æ®æ¨ç†ç»“æœï¼Œå†³å®šè°ƒç”¨å“ªä¸ªå·¥å…·ï¼ˆå¦‚å‘é‡æ£€ç´¢å™¨ã€æœç´¢å¼•æ“ã€ä»£ç è§£é‡Šå™¨æˆ– GraphRAG æ¨¡å—ï¼‰ï¼Œå¹¶æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚</li>
</ol>
<p>è¿™ç§æœºåˆ¶ä½¿å¾— Agentic RAG èƒ½å¤ŸåŠ¨æ€åœ°è§„åˆ’å¤æ‚çš„ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œåœ¨å¤„ç†ä¸€ä¸ªéœ€è¦å¤šæ­¥æ¨ç†çš„æ³•å¾‹æŸ¥è¯¢æ—¶ï¼ŒAgent ä¼šå°†é—®é¢˜åˆ†è§£ä¸ºå¤šä¸ªå­ä»»åŠ¡ï¼Œå¹¶åŠ¨æ€é€‰æ‹©å·¥å…·ï¼š</p>
<ul>
<li><strong>æ­¥éª¤ 1ï¼ˆæ¨ç†ï¼‰</strong> ï¼šåˆ†ææŸ¥è¯¢ï¼Œåˆ¤æ–­éœ€è¦æ£€ç´¢æ³•å¾‹æ¡æ–‡å’Œè®¡ç®—èµ”å¿é‡‘ã€‚</li>
<li><strong>æ­¥éª¤ 1ï¼ˆè¡ŒåŠ¨ï¼‰</strong> ï¼šè°ƒç”¨Â <strong>GraphRAG æ¨¡å—</strong>æ£€ç´¢æœ€æ–°çš„æ³•å¾‹æ¡æ–‡ã€‚</li>
<li><strong>æ­¥éª¤ 2ï¼ˆæ¨ç†ï¼‰</strong> ï¼šåˆ†ææ£€ç´¢ç»“æœï¼Œç¡®å®šè®¡ç®—å…¬å¼ï¼Œåˆ¤æ–­éœ€è¦å¤–éƒ¨è®¡ç®—å·¥å…·ã€‚</li>
<li><strong>æ­¥éª¤ 2ï¼ˆè¡ŒåŠ¨ï¼‰</strong> ï¼šè°ƒç”¨Â <strong>ä»£ç è§£é‡Šå™¨</strong>æˆ–Â <strong>API å·¥å…·</strong>æ‰§è¡Œèµ”å¿é‡‘è®¡ç®—ã€‚</li>
</ul>
<p>æ›´é«˜çº§çš„ Agentic RAG å¼•å…¥äº†<strong>è‡ªæˆ‘åæ€ï¼ˆSelf-Reflectionï¼‰</strong> Â æœºåˆ¶ã€‚åœ¨ç”Ÿæˆç­”æ¡ˆåï¼ŒAgent ä¼šåˆ©ç”¨å¦ä¸€ä¸ª LLM æˆ–é¢„è®¾çš„è¯„ä¼°æŒ‡æ ‡ï¼ˆå¦‚ RAGAS æ¡†æ¶ï¼‰å¯¹ç­”æ¡ˆè¿›è¡Œè¯„ä¼°ã€‚å¦‚æœè¯„ä¼°ç»“æœä¸ç†æƒ³ï¼ŒAgent ä¼šåæ€å…¶æ¨ç†è¿‡ç¨‹å’Œè¡ŒåŠ¨æ­¥éª¤ï¼Œè¯†åˆ«é”™è¯¯ï¼Œå¹¶è°ƒæ•´ç­–ç•¥é‡æ–°æ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„<strong>ä¼˜åŒ–é—­ç¯</strong>ã€‚è¿™ç§åæ€ä¸ä¼˜åŒ–èƒ½åŠ›ï¼Œæ˜¯ Agentic RAG å®ç°é«˜åº¦æ™ºèƒ½åŒ–å’Œé²æ£’æ€§çš„é‡è¦ä¿éšœã€‚</p>
<h3 data-id="heading-10"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>3.2ã€ Agentic RAG çš„åº”ç”¨ä¸æŒ‘æˆ˜</h3>
<p>Agentic RAG çš„åº”ç”¨åœºæ™¯é›†ä¸­åœ¨å¯¹<strong>å¤æ‚æ€§ã€å‡†ç¡®æ€§å’Œæ™ºèƒ½åŒ–ç¨‹åº¦</strong>è¦æ±‚æé«˜çš„é¢†åŸŸï¼š</p>
<ul>
<li><strong>æ™ºèƒ½æ³•å¾‹åŠ©æ‰‹</strong>ï¼šå¤„ç†éœ€è¦å¤šè·³æ¨ç†ã€å¤šå·¥å…·ååŒï¼ˆæ³•å¾‹æ•°æ®åº“ã€è®¡ç®—å·¥å…·ï¼‰çš„å¤æ‚æ³•å¾‹æŸ¥è¯¢ã€‚</li>
<li><strong>é‡‘èç ”ç©¶åˆ†æ</strong>ï¼šè‡ªä¸»è§„åˆ’æ•°æ®æ£€ç´¢ã€å›¾è¡¨ç”Ÿæˆã€è¶‹åŠ¿åˆ†æç­‰ä¸€ç³»åˆ—æ­¥éª¤ï¼Œç”Ÿæˆç»“æ„åŒ–çš„ç ”ç©¶æŠ¥å‘Šã€‚</li>
<li><strong>å¤æ‚ç³»ç»Ÿæ•…éšœè¯Šæ–­</strong>ï¼šAgent æ ¹æ®æ•…éšœæè¿°ï¼Œè‡ªä¸»è°ƒç”¨æ—¥å¿—æ£€ç´¢å·¥å…·ã€ä»£ç åº“ã€çŸ¥è¯†å›¾è°±ï¼Œé€æ­¥ç¼©å°æ•…éšœèŒƒå›´å¹¶æå‡ºè§£å†³æ–¹æ¡ˆã€‚</li>
</ul>
<p>ç„¶è€Œï¼ŒAgentic RAG ä¹Ÿé¢ä¸´å·¨å¤§çš„æŒ‘æˆ˜ï¼š</p>
<ol>
<li><strong>æˆæœ¬ä¸å»¶è¿Ÿ</strong>ï¼šæ¯ä¸€æ¬¡æ¨ç†å’Œè¡ŒåŠ¨éƒ½éœ€è¦ LLM è°ƒç”¨ï¼Œå¯¼è‡´æˆæœ¬å’Œå»¶è¿Ÿæ˜¾è‘—å¢åŠ ã€‚</li>
<li><strong>å·¥å…·è°ƒç”¨ç¨³å®šæ€§</strong>ï¼šAgent å¯¹å¤–éƒ¨å·¥å…·çš„è°ƒç”¨å¿…é¡»é«˜åº¦ç¨³å®šå’Œå¯é ï¼Œå¦åˆ™ä¸€æ¬¡å¤±è´¥çš„è¡ŒåŠ¨å¯èƒ½å¯¼è‡´æ•´ä¸ªæµç¨‹å´©æºƒã€‚</li>
<li><strong>å¯è§£é‡Šæ€§</strong>ï¼šAgent çš„å†³ç­–è¿‡ç¨‹è™½ç„¶æœ‰ ReAct çš„æ¨ç†è®°å½•ï¼Œä½†å…¶å¤æ‚æ€§ä½¿å¾—æœ€ç»ˆçš„å¯è§£é‡Šæ€§ä»ç„¶æ˜¯ä¸€ä¸ªéš¾é¢˜ã€‚</li>
</ol>
<h2 data-id="heading-11"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>å››ã€ RAG ç³»ç»Ÿçš„æœªæ¥è¶‹åŠ¿ï¼šå¤šæ¨¡æ€ã€å®æ—¶åŒ–ä¸å¯ä¿¡ AI</h2>
<p>RAG æŠ€æœ¯çš„æ¼”è¿›ä»åœ¨åŠ é€Ÿï¼Œæœªæ¥çš„å‘å±•å°†èšç„¦äºçªç ´ç°æœ‰æ¶æ„çš„è¾¹ç•Œï¼Œä½¿å…¶èƒ½å¤Ÿæ›´å¥½åœ°é€‚åº”çœŸå®ä¸–ç•Œçš„å¤æ‚æ€§å’ŒåŠ¨æ€æ€§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb3fd4dfb07c4b0a85c15529111a196f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770082202&amp;x-signature=tGn%2Ba6J0TRdkw7VxI0lfG4p2ixs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-12"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>4.1ã€ å¤šæ¨¡æ€ RAGï¼šé‡æ„è¯­ä¹‰ç©ºé—´</h3>
<p>å½“å‰ RAG ä¸»è¦å¤„ç†æ–‡æœ¬ï¼Œä½†ç°å®ä¸–ç•Œæ˜¯å¤šæ¨¡æ€çš„ã€‚<strong>å¤šæ¨¡æ€ RAG</strong>Â çš„ç›®æ ‡æ˜¯å°†æ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘ã€è§†é¢‘ç­‰ä¸åŒæ¨¡æ€çš„æ•°æ®èå…¥ç»Ÿä¸€çš„ RAG æ¡†æ¶ã€‚è¿™è¦æ±‚æ„å»º<strong>ç»Ÿä¸€çš„å¤šæ¨¡æ€è¡¨ç¤ºæ¨¡å‹</strong>ï¼Œå°†ä¸åŒæ¨¡æ€çš„ä¿¡æ¯æ˜ å°„åˆ°åŒä¸€ä¸ªè¯­ä¹‰ç©ºé—´ä¸­ï¼Œå®ç°è·¨æ¨¡æ€çš„æ£€ç´¢ã€ç†è§£å’Œç”Ÿæˆã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·å¯ä»¥ä¸Šä¼ ä¸€å¼ è®¾å¤‡æ•…éšœçš„å›¾ç‰‡å’Œä¸€æ®µæè¿°ï¼Œç³»ç»Ÿèƒ½å¤Ÿä»åŒ…å«æŠ€æœ¯æ‰‹å†Œï¼ˆæ–‡æœ¬ï¼‰ã€ç»´ä¿®è§†é¢‘ï¼ˆè§†é¢‘ï¼‰çš„çŸ¥è¯†åº“ä¸­æ£€ç´¢ä¿¡æ¯ï¼Œå¹¶ç”ŸæˆåŒ…å«æ–‡æœ¬å’Œå›¾ç‰‡æ ‡æ³¨çš„ç»´ä¿®æŒ‡å—ã€‚</p>
<h3 data-id="heading-13"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>4.2ã€ å®æ—¶ RAG ä¸å¢é‡ç´¢å¼•ï¼šæ‹¥æŠ±æ—¶æ•ˆæ€§</h3>
<p>åœ¨é‡‘èã€æ–°é—»ã€å®æ—¶ç›‘æ§ç­‰é¢†åŸŸï¼Œä¿¡æ¯çš„<strong>æ—¶æ•ˆæ€§</strong>è‡³å…³é‡è¦ã€‚æœªæ¥çš„ RAG ç³»ç»Ÿå¿…é¡»æ˜¯<strong>å®æ—¶ RAG</strong>ï¼Œèƒ½å¤Ÿå¤„ç†æµå¼æ•°æ®å¹¶è¿›è¡Œ<strong>å¢é‡ç´¢å¼•æ›´æ–°</strong>ã€‚ä¼ ç»Ÿçš„ RAG çŸ¥è¯†åº“æ˜¯é™æ€çš„ï¼Œæ›´æ–°æˆæœ¬é«˜æ˜‚ã€‚å®æ—¶ RAG éœ€è¦é‡‡ç”¨å…ˆè¿›çš„æµå¤„ç†æŠ€æœ¯å’Œå‘é‡æ•°æ®åº“çš„å¢é‡ç´¢å¼•èƒ½åŠ›ï¼Œç¡®ä¿ LLM å§‹ç»ˆèƒ½å¤Ÿè®¿é—®åˆ°æœ€æ–°ã€æœ€å‡†ç¡®çš„çŸ¥è¯†ï¼Œä»è€Œé¿å…ç”Ÿæˆè¿‡æ—¶æˆ–é”™è¯¯çš„ä¿¡æ¯ã€‚</p>
<h3 data-id="heading-14"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>4.3ã€ å¯ä¿¡ RAG ä¸è¯„ä¼°ä½“ç³»çš„æ·±åŒ–</h3>
<p>éšç€ RAG åœ¨å…³é”®é¢†åŸŸçš„åº”ç”¨ï¼Œ<strong>å¯ä¿¡ AI</strong>Â æˆä¸ºæ ¸å¿ƒè¦æ±‚ã€‚æœªæ¥çš„ RAG ç³»ç»Ÿå°†æ›´åŠ æ³¨é‡ï¼š</p>
<ul>
<li><strong>å¯è§£é‡Šæ€§</strong>ï¼šä¸ä»…æä¾›ç­”æ¡ˆï¼Œè¿˜è¦æä¾›æ¸…æ™°çš„<strong>å¼•ç”¨æ¥æº</strong>å’ŒÂ <strong>æ¨ç†è·¯å¾„</strong>ï¼ˆå°¤å…¶æ˜¯ Agentic RAG å’Œ GraphRAGï¼‰ã€‚</li>
<li><strong>é²æ£’æ€§</strong>ï¼šèƒ½å¤ŸæŠµå¾¡å¯¹æŠ—æ€§æ”»å‡»å’ŒçŸ¥è¯†åº“ä¸­çš„æ¶æ„æ³¨å…¥ã€‚</li>
<li><strong>è¯„ä¼°ä½“ç³»æ·±åŒ–</strong>ï¼šé™¤äº†ä¼ ç»Ÿçš„å¬å›ç‡å’Œå‡†ç¡®ç‡ï¼Œ<strong>RAGAS</strong>Â ç­‰è¯„ä¼°æ¡†æ¶å°†æ›´åŠ æ™®åŠï¼Œåˆ©ç”¨ LLM è‡ªèº«çš„èƒ½åŠ›æ¥é‡åŒ–ç­”æ¡ˆçš„<strong>å¿ å®åº¦ï¼ˆFaithfulnessï¼‰</strong> Â å’Œ<strong>ä¸Šä¸‹æ–‡ç›¸å…³æ€§ï¼ˆContext Relevanceï¼‰</strong> ï¼Œå®ç°æ•°æ®é©±åŠ¨çš„æŒç»­ä¼˜åŒ–ã€‚</li>
</ul>
<p>RAG çš„æ¼”è¿›æ˜¯ä¸€ä¸ªä»â€œèƒ½ç”¨â€åˆ°â€œå¥½ç”¨â€ï¼Œå†åˆ°â€œæ™ºèƒ½â€çš„èºæ—‹å¼ä¸Šå‡è¿‡ç¨‹ã€‚å®ƒæ¸…æ™°åœ°å±•ç¤ºäº† AI ç³»ç»Ÿå¦‚ä½•é€šè¿‡æ¶æ„åˆ›æ–°ï¼Œå°† LLM çš„ç”Ÿæˆèƒ½åŠ›ä¸å¤–éƒ¨çŸ¥è¯†çš„å¯é æ€§å®Œç¾ç»“åˆï¼Œä»è€Œæ„å»ºå‡ºæ›´å¼ºå¤§ã€æ›´å¯é çš„ä¸‹ä¸€ä»£æ™ºèƒ½åº”ç”¨ã€‚# ä¸€ã€ RAG èŒƒå¼æ¼”è¿›ï¼šä»çŸ¥è¯†æ¬è¿å·¥åˆ°æ™ºèƒ½å†³ç­–è€…</p>
<p>æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰æŠ€æœ¯çš„å‘å±•å²ï¼Œæ˜¯ä¸€éƒ¨ä¸æ–­æŒ‘æˆ˜å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å±€é™æ€§ã€è¿½æ±‚ç³»ç»Ÿçº§æ™ºèƒ½çš„æ¼”è¿›å²ã€‚RAG çš„æ¼”å˜å¹¶éç®€å•çš„åŠŸèƒ½å åŠ ï¼Œè€Œæ˜¯å¯¹â€œå¦‚ä½•é«˜æ•ˆã€å¯é åœ°å°†å¤–éƒ¨çŸ¥è¯†èå…¥ LLM æ¨ç†è¿‡ç¨‹â€è¿™ä¸€æ ¸å¿ƒé—®é¢˜çš„æŒç»­æ¢ç´¢ã€‚æˆ‘ä»¬å¯ä»¥å°† RAG çš„æ¼”è¿›è„‰ç»œåˆ’åˆ†ä¸ºå››ä¸ªæ¸…æ™°çš„é˜¶æ®µï¼š<strong>Naive RAG</strong>Â ç¡®ç«‹åŸºæœ¬èŒƒå¼ï¼Œ<strong>Advanced RAG</strong>Â èšç„¦ç²¾ç»†åŒ–ä¼˜åŒ–ï¼Œ<strong>Modular RAG</strong>Â è¿½æ±‚æ¶æ„çµæ´»æ€§ï¼Œæœ€ç»ˆÂ <strong>Agentic RAG</strong>Â å®ç°è‡ªä¸»å†³ç­–ä¸æ™ºèƒ½åŒ–ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9bedce0f0a654e428b8ecb635b348311~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770082202&amp;x-signature=tqepsfiZWmlxusOWQBzg3Uqez3w%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<p>åœ¨ RAG çš„å®è·µä¸­ï¼Œè®¸å¤šå¼€å‘è€…åœ¨é¢å¯¹å¤æ‚åœºæ™¯æ—¶ï¼Œå¸¸å› ç¼ºä¹å¯¹æ¶æ„æ¼”è¿›é€»è¾‘çš„æ·±åˆ»ç†è§£è€Œé™·å…¥å›°å¢ƒï¼šå¦‚ä½•å°†çŸ¥è¯†å›¾è°±ï¼ˆGraphRAGï¼‰èå…¥å‘é‡æ£€ç´¢ï¼Ÿå¦‚ä½•è®¾è®¡ä¸€ä¸ªå…·å¤‡è‡ªæˆ‘åæ€èƒ½åŠ›çš„ Agentic RAG ç³»ç»Ÿï¼Ÿå¦‚ä½•å¹³è¡¡å®æ—¶æ€§ä¸å‡†ç¡®æ€§ï¼Ÿ</p>
<p>ä¸ºäº†å¸®ä½ å¡«è¡¥ä»æ‡‚åŸç†åˆ°èƒ½è½åœ°çš„å…³é”®æ‹¼å›¾ï¼ŒAIå¤§å­¦å ‚åŸºäºå¤§é‡çš„ä¸šåŠ¡å®æˆ˜ç»éªŒï¼Œç²¾å¿ƒæ‰“ç£¨è¯¾ç¨‹ï¼Œæ­£å¼æ¨å‡ºÂ <strong>RAGå·¥ç¨‹å¸ˆè®¤è¯</strong>ã€‚è¿™ä»½è¯ä¹¦å°†æ˜¯ä½ ç³»ç»ŸåŒ–æŒæ¡ AI è½åœ°æ ¸å¿ƒèƒ½åŠ›çš„ç»ä½³æœºä¼šï¼Œè®¤è¯ç°å·²å¼€å¯ï¼Œ<strong>é™æ—¶å…è´¹</strong>ï¼Œç‚¹å‡»æ–‡æœ«<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aidaxue.com%2Fcourse%2F1190%3Fvideo_id%3D5212%26ch%3Dai_daxue_csdn" target="_blank" title="https://www.aidaxue.com/course/1190?video_id=5212&amp;ch=ai_daxue_csdn" ref="nofollow noopener noreferrer">ğŸ”—è®¤è¯é“¾æ¥</a>å¼€å§‹å­¦ä¹ ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a7106535e93464e844b2f990a0a1684~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770082202&amp;x-signature=x1wPbG23wvYKn%2FIPY%2B8OWc69TuY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-15"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1.1ã€ Naive RAGï¼šèŒƒå¼çš„ç¡®ç«‹ä¸å›ºæœ‰å±€é™</h3>
<p><strong>Naive RAG</strong>ï¼ˆæœ´ç´  RAGï¼‰æ˜¯ RAG æŠ€æœ¯çš„èµ·ç‚¹ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯â€œç´¢å¼•-æ£€ç´¢-ç”Ÿæˆâ€çš„çº¿æ€§æµç¨‹ã€‚å®ƒè§£å†³äº† LLM åœ¨ç‰¹å®šé¢†åŸŸçŸ¥è¯†ä¸Šçš„â€œæ— çŸ¥â€é—®é¢˜ï¼Œé€šè¿‡å°†æ–‡æ¡£åˆ†å—ã€å‘é‡åŒ–ï¼Œå¹¶ä½¿ç”¨å•ä¸€çš„å‘é‡ç›¸ä¼¼åº¦æ£€ç´¢æ¥å¬å›ä¸Šä¸‹æ–‡ã€‚<br/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a2b2014c1bda4bcebdf5b1c598dc9c5c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770082202&amp;x-signature=aonFfu81lLjaMXisi6yUgAgG5NA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ç„¶è€Œï¼ŒNaive RAG çš„å±€é™æ€§æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œä¹Ÿæ˜¯é©±åŠ¨åç»­æ¼”è¿›çš„æ ¹æœ¬åŸå› ï¼š</p>
<ol>
<li><strong>åˆ†å—çš„è¯­ä¹‰ç ´å</strong>ï¼šå›ºå®šå¤§å°çš„åˆ†å—ç­–ç•¥ææ˜“åœ¨è¯­ä¹‰è¾¹ç•Œå¤„æˆªæ–­ï¼Œå¯¼è‡´å•ä¸ªå—çš„è¯­ä¹‰ä¿¡æ¯ä¸å®Œæ•´æˆ–è¢«ç¨€é‡Šï¼Œç›´æ¥å½±å“åµŒå…¥æ¨¡å‹çš„ç¼–ç è´¨é‡ã€‚</li>
<li><strong>å•ä¸€æ£€ç´¢çš„ç›²åŒº</strong>ï¼šä»…ä¾èµ–å‘é‡ç›¸ä¼¼åº¦æ£€ç´¢ï¼Œæ— æ³•æœ‰æ•ˆå¤„ç†<strong>è¯æ±‡ä¸åŒ¹é…</strong>ï¼ˆLexical Gapï¼‰é—®é¢˜ï¼Œå¯¹åŒä¹‰è¯ã€ä¸“ä¸šæœ¯è¯­æˆ–éœ€è¦ç²¾ç¡®å…³é”®è¯åŒ¹é…çš„æŸ¥è¯¢ï¼Œå¬å›ç‡ä½ä¸‹ã€‚</li>
<li><strong>ç¼ºä¹æŸ¥è¯¢ä¼˜åŒ–</strong>ï¼šç”¨æˆ·æŸ¥è¯¢çš„æ¨¡ç³Šæ€§ã€æ­§ä¹‰æ€§æœªè¢«å¤„ç†ï¼Œç›´æ¥å½±å“äº†æ£€ç´¢ä¿¡å·çš„è´¨é‡ã€‚</li>
</ol>
<p>Naive RAG å°±åƒä¸€ä¸ªè¢«åŠ¨çš„â€œçŸ¥è¯†æ¬è¿å·¥â€ï¼Œå®ƒåªèƒ½æœºæ¢°åœ°æ‰§è¡Œé¢„è®¾çš„æµç¨‹ï¼Œç¼ºä¹å¯¹ä¿¡æ¯è´¨é‡çš„åˆ¤æ–­å’Œå¯¹æŸ¥è¯¢æ„å›¾çš„æ·±åº¦ç†è§£ã€‚</p>
<h3 data-id="heading-16"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1.2ã€ Advanced RAGï¼šç²¾ç»†åŒ–ä¼˜åŒ–ä¸å¤šé˜¶æ®µç²¾ç‚¼</h3>
<p><strong>Advanced RAG</strong>ï¼ˆé«˜çº§ RAGï¼‰æ˜¯ RAG èµ°å‘å·¥ä¸šçº§åº”ç”¨çš„å…³é”®ä¸€æ­¥ï¼Œå…¶æ ¸å¿ƒåœ¨äºåœ¨ Naive RAG çš„åŸºç¡€ä¸Šï¼Œå¼•å…¥äº†å¤§é‡çš„<strong>é¢„æ£€ç´¢</strong>å’Œ<strong>åæ£€ç´¢</strong>ä¼˜åŒ–æœºåˆ¶ï¼Œå°†æµç¨‹ä»çº¿æ€§è½¬å˜ä¸ºå¤šé˜¶æ®µç²¾ç‚¼ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d697c1603dd449f99c37bdf43cb80af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770082202&amp;x-signature=xfVYEvQT%2Fvw9BRIWmgb4IJcO2GM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-17"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1.2.1ã€ é¢„æ£€ç´¢ä¼˜åŒ–ï¼šå¢å¼ºæŸ¥è¯¢ä¿¡å·çš„è‰ºæœ¯</h4>
<p>é¢„æ£€ç´¢ä¼˜åŒ–çš„ç›®æ ‡æ˜¯ç”Ÿæˆæ›´å¼ºå¤§çš„æ£€ç´¢ä¿¡å·ï¼Œä»¥å…‹æœç”¨æˆ·æŸ¥è¯¢çš„å±€é™æ€§ï¼š</p>
<ul>
<li><strong>æŸ¥è¯¢é‡å†™ä¸æ‰©å±•</strong>ï¼šåˆ©ç”¨ LLM å°†åŸå§‹æŸ¥è¯¢æ”¹å†™æˆæ›´æ¸…æ™°ã€æ›´å…·ä½“çš„ç‰ˆæœ¬ï¼Œæˆ–ç”Ÿæˆå¤šä¸ªå˜ä½“æŸ¥è¯¢ä»¥å¢åŠ æ£€ç´¢è¦†ç›–é¢ã€‚</li>
<li><strong>å‡è®¾æ€§æ–‡æ¡£åµŒå…¥ï¼ˆHyDEï¼‰</strong> ï¼šè¿™æ˜¯æœ€å…·åˆ›æ–°æ€§çš„æŠ€æœ¯ä¹‹ä¸€ã€‚å®ƒåˆ©ç”¨ LLM çš„ç”Ÿæˆèƒ½åŠ›ï¼Œæ ¹æ®æŸ¥è¯¢ç”Ÿæˆä¸€ä¸ªâ€œå‡è®¾æ€§ç­”æ¡ˆâ€ï¼Œç„¶åç”¨è¿™ä¸ªå‡è®¾æ€§ç­”æ¡ˆçš„å‘é‡å»æ£€ç´¢çœŸå®æ–‡æ¡£ã€‚ç”±äºå‡è®¾æ€§ç­”æ¡ˆåŒ…å«äº†æ›´ä¸°å¯Œçš„è¯­ä¹‰å’Œæ›´æ¥è¿‘æ–‡æ¡£çš„è¯æ±‡ï¼Œå®ƒèƒ½æ˜¾è‘—æé«˜æ£€ç´¢çš„å‡†ç¡®æ€§ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†æŠ½è±¡æ¦‚å¿µæ—¶ã€‚</li>
<li><strong>å¤šæŸ¥è¯¢ç”Ÿæˆ</strong>ï¼šåˆ©ç”¨ LLM ç”Ÿæˆå¤šä¸ªå­æŸ¥è¯¢ï¼Œå¹¶è¡Œæ‰§è¡Œæ£€ç´¢ï¼Œç„¶ååˆå¹¶ç»“æœï¼Œä»¥åº”å¯¹å¤æ‚æŸ¥è¯¢å’Œå¤šè§’åº¦ä¿¡æ¯éœ€æ±‚ã€‚</li>
</ul>
<h4 data-id="heading-18"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1.2.2ã€ æ£€ç´¢ä¸åå¤„ç†ä¼˜åŒ–ï¼šä»å¬å›åˆ°å‡†ç¡®ç‡çš„é£è·ƒ</h4>
<p>Advanced RAG åœ¨æ£€ç´¢å’Œåå¤„ç†ç¯èŠ‚çš„ä¼˜åŒ–ï¼Œæ˜¯å…¶æ€§èƒ½é£è·ƒçš„å…³é”®ï¼š</p>
<ul>
<li><strong>æ··åˆæ£€ç´¢ï¼ˆHybrid Retrievalï¼‰</strong> ï¼šå°†åŸºäºå…³é”®è¯çš„ç¨€ç–æ£€ç´¢ï¼ˆå¦‚ BM25ï¼‰ä¸åŸºäºè¯­ä¹‰çš„ç¨ å¯†æ£€ç´¢ï¼ˆå‘é‡æ£€ç´¢ï¼‰è¿›è¡Œèåˆã€‚è¿™ç§èåˆçš„æ•°å­¦é€»è¾‘åœ¨äºï¼Œé€šè¿‡Â <strong>RRFï¼ˆReciprocal Rank Fusionï¼‰</strong> Â ç­‰ç®—æ³•ï¼Œå°†ä¸¤ç§ä¸åŒç›¸å…³æ€§åº¦é‡ï¼ˆè¯é¢‘-é€†æ–‡æ¡£é¢‘ç‡ä¸å‘é‡ä½™å¼¦ç›¸ä¼¼åº¦ï¼‰çš„ç»“æœè¿›è¡ŒåŠ æƒæ’åºï¼Œå®ç°ä¼˜åŠ¿äº’è¡¥ï¼Œæœ€å¤§åŒ–å¬å›ç‡å’Œå‡†ç¡®ç‡ã€‚</li>
<li><strong>è¯­ä¹‰åˆ†å—ç­–ç•¥</strong>ï¼šå–ä»£å›ºå®šåˆ†å—ï¼Œé‡‡ç”¨åŸºäºå¥å­ã€æ®µè½æˆ–æ ‡é¢˜çš„è¯­ä¹‰åˆ†å—ï¼Œç¡®ä¿æ¯ä¸ªå—çš„è¯­ä¹‰å®Œæ•´æ€§ã€‚æ›´è¿›ä¸€æ­¥çš„ç­–ç•¥æ˜¯<strong>çˆ¶æ–‡æ¡£æ£€ç´¢</strong>ï¼Œå³ç”¨å°å—è¿›è¡Œæ£€ç´¢ï¼Œä½†è¿”å›åŒ…å«è¯¥å°å—çš„æ›´å¤§â€œçˆ¶æ–‡æ¡£â€ä½œä¸º LLM çš„ä¸Šä¸‹æ–‡ï¼Œä»¥å¹³è¡¡æ£€ç´¢ç²¾åº¦å’Œä¸Šä¸‹æ–‡ä¸°å¯Œåº¦ã€‚</li>
<li><strong>Cross-Encoder é‡æ’åº</strong>ï¼šè¿™æ˜¯æå‡å‡†ç¡®ç‡ï¼ˆPrecisionï¼‰çš„åˆ©å™¨ã€‚ä¸ Bi-Encoder ç‹¬ç«‹ç¼–ç æŸ¥è¯¢å’Œæ–‡æ¡£ä¸åŒï¼ŒCross-Encoder å°†æŸ¥è¯¢å’Œæ–‡æ¡£<strong>æ‹¼æ¥</strong>åä¸€èµ·è¾“å…¥æ¨¡å‹ï¼Œä»è€Œæ•æ‰ä¸¤è€…ä¹‹é—´ç»†ç²’åº¦çš„äº¤äº’ä¿¡æ¯ã€‚è™½ç„¶è®¡ç®—æˆæœ¬é«˜ï¼Œä½†å…¶å¯¹ç›¸å…³æ€§çš„åˆ¤æ–­æ›´ä¸ºç²¾ç¡®ï¼Œé€šå¸¸ç”¨äºå¯¹ Bi-Encoder å¬å›çš„ Top-K ç»“æœè¿›è¡ŒäºŒæ¬¡ç²¾æ’ã€‚</li>
<li><strong>ä¸Šä¸‹æ–‡å‹ç¼©ä¸éªŒè¯</strong>ï¼šé€šè¿‡ LLMLingua ç­‰æŠ€æœ¯å¯¹æ£€ç´¢ç»“æœè¿›è¡Œå‹ç¼©ï¼Œå‡å°‘ LLM çš„è¾“å…¥ Token æ•°é‡ï¼Œé™ä½æˆæœ¬å¹¶æå‡æ•ˆç‡ã€‚åŒæ—¶ï¼Œå¼•å…¥é¢å¤–çš„ LLM æˆ–è§„åˆ™å¼•æ“å¯¹æœ€ç»ˆç­”æ¡ˆè¿›è¡Œ<strong>äº‹å®ä¸€è‡´æ€§éªŒè¯</strong>ï¼Œä»¥é™ä½å¹»è§‰é£é™©ã€‚</li>
</ul>
<h2 data-id="heading-19"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>äºŒã€ Modular RAG ä¸ GraphRAGï¼šæ¶æ„çš„çµæ´»æ€§ä¸çŸ¥è¯†çš„ç»“æ„åŒ–</h2>
<p>Advanced RAG è§£å†³äº†æ€§èƒ½é—®é¢˜ï¼Œä½†éšç€åº”ç”¨åœºæ™¯çš„å¤æ‚åŒ–ï¼Œç³»ç»Ÿå¯¹<strong>çµæ´»æ€§</strong>å’Œ<strong>å¯æ‰©å±•æ€§</strong>æå‡ºäº†æ›´é«˜çš„è¦æ±‚ï¼Œç”±æ­¤å‚¬ç”Ÿäº†Â <strong>Modular RAG</strong>ï¼ˆæ¨¡å—åŒ– RAGï¼‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/09e91479cb1c436ea25577eeb796b9c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770082202&amp;x-signature=tR%2FT%2BiQvMvJ4cNodICx6V6bcIyM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-20"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>2.1ã€ Modular RAGï¼šè§£è€¦ä¸å®šåˆ¶åŒ–çš„æ¶æ„å“²å­¦</h3>
<p>Modular RAG çš„æ ¸å¿ƒæ€æƒ³æ˜¯<strong>è§£è€¦</strong>ï¼šå°† RAG æµç¨‹ä¸­çš„å„ä¸ªåŠŸèƒ½ï¼ˆå¦‚æŸ¥è¯¢é‡å†™ã€æ£€ç´¢ã€é‡æ’åºã€éªŒè¯ï¼‰æŠ½è±¡ä¸ºå¯æ’æ‹”çš„ç‹¬ç«‹æ¨¡å—ã€‚è¿™ç§æ¶æ„å“²å­¦ä½¿å¾— RAG ç³»ç»Ÿä¸å†æ˜¯ä¸€ä¸ªå›ºå®šçš„æµæ°´çº¿ï¼Œè€Œæ˜¯ä¸€ä¸ªå¯ä»¥æ ¹æ®ä»»åŠ¡éœ€æ±‚åŠ¨æ€ç»„è£…çš„â€œä¹é«˜ç§¯æœ¨â€ã€‚</p>
<p>è¿™ç§æ¶æ„çš„ä¼˜åŠ¿åœ¨äºï¼š</p>
<ol>
<li><strong>å®šåˆ¶åŒ–å·¥ä½œæµ</strong>ï¼šå¯ä»¥æ ¹æ®ä¸åŒçš„ä¸šåŠ¡åœºæ™¯ï¼ˆå¦‚æ³•å¾‹é—®ç­”ã€ä»£ç ç”Ÿæˆã€è´¢åŠ¡åˆ†æï¼‰å®šåˆ¶ä¸åŒçš„æ¨¡å—ç»„åˆå’Œæ‰§è¡Œè·¯å¾„ã€‚</li>
<li><strong>ç‹¬ç«‹ä¼˜åŒ–ä¸è¿­ä»£</strong>ï¼šæ¯ä¸ªæ¨¡å—å¯ä»¥ç‹¬ç«‹è¿›è¡ŒæŠ€æœ¯é€‰å‹å’Œä¼˜åŒ–ï¼ˆä¾‹å¦‚ï¼Œé’ˆå¯¹æ³•å¾‹æ–‡æ¡£ä½¿ç”¨ä¸“é—¨å¾®è°ƒçš„åµŒå…¥æ¨¡å‹ï¼Œé’ˆå¯¹ä»£ç ä½¿ç”¨åŸºäº AST çš„åˆ†å—å™¨ï¼‰ï¼Œäº’ä¸å½±å“ã€‚</li>
<li><strong>æ”¯æŒå¤æ‚é€»è¾‘</strong>ï¼šé€šè¿‡æ¨¡å—çš„<strong>æ¡ä»¶ç»„åˆ</strong>ï¼ˆæ ¹æ®æŸ¥è¯¢ç±»å‹é€‰æ‹©ä¸åŒæ£€ç´¢å™¨ï¼‰å’Œ<strong>å¾ªç¯ç»„åˆ</strong>ï¼ˆå®ç°å¤šè·³æ£€ç´¢ï¼‰ï¼Œèƒ½å¤Ÿå¤„ç† Advanced RAG éš¾ä»¥åº”å¯¹çš„å¤æ‚é€»è¾‘ã€‚</li>
</ol>
<p>åœ¨ Modular RAG çš„å®è·µä¸­ï¼Œ<strong>DSPï¼ˆDifferentiable Search Pathï¼Œå¯å¾®æœç´¢è·¯å¾„ï¼‰</strong> Â ç­‰æ¡†æ¶æä¾›äº†ç†è®ºåŸºç¡€ï¼Œå®ƒå°† RAG æµç¨‹è§†ä¸ºä¸€ä¸ªå¯ä¼˜åŒ–çš„è®¡ç®—å›¾ï¼Œå…è®¸é€šè¿‡ç«¯åˆ°ç«¯çš„æ–¹å¼å¯¹æ•´ä¸ªæµç¨‹è¿›è¡Œå¾®è°ƒï¼Œä»è€Œå®ç°ç³»ç»Ÿçº§çš„æ€§èƒ½æå‡ã€‚</p>
<h3 data-id="heading-21"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>2.2ã€ GraphRAGï¼šä»è¯­ä¹‰ç›¸ä¼¼åˆ°é€»è¾‘æ¨ç†çš„é£è·ƒ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db3cd9966c764addb0d8bb54d2703f8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770082202&amp;x-signature=bQEo6jAVZFJxiRnrXus7cADJhG4%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>åœ¨ Modular RAG çš„èŒƒç•´å†…ï¼Œ<strong>GraphRAG</strong>ï¼ˆåŸºäºçŸ¥è¯†å›¾è°±çš„ RAGï¼‰æ˜¯è§£å†³å¤æ‚æ¨ç†é—®é¢˜çš„å…³é”®æŠ€æœ¯ã€‚å®ƒè§£å†³äº†ä¼ ç»Ÿå‘é‡æ£€ç´¢çš„æ ¹æœ¬ç¼ºé™·ï¼š<strong>ç¼ºä¹é€»è¾‘å…³è”å’Œå› æœæ¨ç†èƒ½åŠ›</strong>ã€‚</p>
<p>GraphRAG çš„å·¥ä½œåŸç†æ˜¯å°†çŸ¥è¯†åº“ä¸­çš„å®ä½“å’Œå…³ç³»æ„å»ºæˆä¸€ä¸ª<strong>çŸ¥è¯†å›¾è°±ï¼ˆKGï¼‰</strong> ã€‚æ£€ç´¢è¿‡ç¨‹ä¸å†ä»…ä»…æ˜¯æ–‡æœ¬å—çš„ç›¸ä¼¼åº¦åŒ¹é…ï¼Œè€Œæ˜¯ï¼š</p>
<ol>
<li><strong>å®ä½“ä¸å…³ç³»æå–</strong>ï¼šåˆ©ç”¨ LLM æˆ– NLP å·¥å…·ä»æŸ¥è¯¢å’Œæ–‡æ¡£ä¸­æå–å…³é”®å®ä½“å’Œå…³ç³»ã€‚</li>
<li><strong>å›¾è°±è·¯å¾„æœç´¢</strong>ï¼šåœ¨ KG ä¸­æœç´¢è¿æ¥æŸ¥è¯¢å®ä½“å’Œç›®æ ‡å®ä½“çš„è·¯å¾„ã€‚</li>
<li><strong>ç»“æ„åŒ–ä¸Šä¸‹æ–‡</strong>ï¼šå°†æœç´¢åˆ°çš„å›¾è°±è·¯å¾„ï¼ˆå³é€»è¾‘é“¾æ¡ï¼‰ä½œä¸ºç»“æ„åŒ–ä¸Šä¸‹æ–‡æä¾›ç»™ LLMã€‚</li>
</ol>
<p>è¿™ç§æ–¹å¼ä½¿å¾— LLM èƒ½å¤Ÿè¿›è¡Œæ›´å¤æ‚çš„<strong>å¤šè·³æ¨ç†</strong>ï¼ˆMulti-hop Reasoningï¼‰ã€‚ä¾‹å¦‚ï¼Œè¦å›ç­”â€œA å…¬å¸çš„åˆ›å§‹äºº B æŠ•èµ„äº†å“ªäº› C é¢†åŸŸçš„å…¬å¸ï¼Ÿâ€è¿™æ ·çš„é—®é¢˜ï¼ŒGraphRAG å¯ä»¥æ²¿ç€â€œA å…¬å¸ -&gt; åˆ›å§‹äºº B -&gt; æŠ•èµ„å…³ç³» -&gt; C é¢†åŸŸå…¬å¸â€çš„è·¯å¾„è¿›è¡Œç²¾ç¡®æœç´¢ï¼Œå¹¶æä¾›æ¸…æ™°çš„é€»è¾‘é“¾æ¡ï¼Œæå¤§åœ°å¢å¼ºäº†ç­”æ¡ˆçš„<strong>äº‹å®å‡†ç¡®æ€§</strong>å’Œ<strong>å¯è§£é‡Šæ€§</strong>ã€‚GraphRAG çš„å¼•å…¥ï¼Œæ ‡å¿—ç€ RAG ç³»ç»Ÿä»â€œçŸ¥è¯†æ¬è¿å·¥â€æ­£å¼è¿›åŒ–ä¸ºâ€œé€»è¾‘æ¨ç†è€…â€ã€‚</p>
<h2 data-id="heading-22"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ä¸‰ã€ Agentic RAGï¼šè‡ªä¸»å†³ç­–ä¸è‡ªæˆ‘åæ€çš„æ™ºèƒ½åŒ–å·…å³°</h2>
<p>RAG æŠ€æœ¯çš„æœ€æ–°å‰æ²¿æ˜¯Â <strong>Agentic RAG</strong>ï¼ˆæ™ºèƒ½ä½“ RAGï¼‰ï¼Œå®ƒä»£è¡¨äº† RAG ç³»ç»Ÿä»è¢«åŠ¨æ‰§è¡Œåˆ°ä¸»åŠ¨æ™ºèƒ½çš„æœ€ç»ˆå½¢æ€ã€‚Agentic RAG å°† AI æ™ºèƒ½ä½“ï¼ˆAgentï¼‰æŠ€æœ¯ä¸ RAG æ·±åº¦èåˆï¼Œèµ‹äºˆç³»ç»Ÿ<strong>è‡ªä¸»å†³ç­–ã€å·¥å…·ä½¿ç”¨ã€ä»»åŠ¡è§„åˆ’å’Œè‡ªæˆ‘åæ€</strong>çš„èƒ½åŠ›ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8df5e0d13eb425faf76350c4a3f99d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770082202&amp;x-signature=3r9eT12efC8DQiXF7o76POfpGkg%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-23"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>3.1ã€ Agentic RAG çš„æ ¸å¿ƒæœºåˆ¶ï¼šReAct ä¸åæ€</h3>
<p>Agentic RAG çš„æ ¸å¿ƒåœ¨äºå…¶<strong>æ™ºèƒ½ä½“æ¡†æ¶</strong>ï¼Œå…¶ä¸­Â <strong>ReActï¼ˆReasoning and Actingï¼‰</strong> Â æ¡†æ¶æ˜¯ä¸»æµå®ç°ä¹‹ä¸€ã€‚ReAct æœºåˆ¶å…è®¸ LLM åœ¨ç”Ÿæˆç­”æ¡ˆä¹‹å‰ï¼Œè¿›è¡Œ<strong>æ¨ç†ï¼ˆReasoningï¼‰</strong> Â å’Œ<strong>è¡ŒåŠ¨ï¼ˆActingï¼‰</strong> Â çš„äº¤æ›¿å¾ªç¯ï¼š</p>
<ol>
<li><strong>æ¨ç†ï¼ˆReasoningï¼‰</strong> ï¼šLLM åˆ†æå½“å‰ä»»åŠ¡ã€å·²æœ‰çš„ä¿¡æ¯å’Œä¸‹ä¸€æ­¥çš„ç›®æ ‡ï¼Œç”Ÿæˆä¸€ä¸ªæ¸…æ™°çš„æ€è€ƒè¿‡ç¨‹ã€‚</li>
<li><strong>è¡ŒåŠ¨ï¼ˆActingï¼‰</strong> ï¼šLLM æ ¹æ®æ¨ç†ç»“æœï¼Œå†³å®šè°ƒç”¨å“ªä¸ªå·¥å…·ï¼ˆå¦‚å‘é‡æ£€ç´¢å™¨ã€æœç´¢å¼•æ“ã€ä»£ç è§£é‡Šå™¨æˆ– GraphRAG æ¨¡å—ï¼‰ï¼Œå¹¶æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚</li>
</ol>
<p>è¿™ç§æœºåˆ¶ä½¿å¾— Agentic RAG èƒ½å¤ŸåŠ¨æ€åœ°è§„åˆ’å¤æ‚çš„ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œåœ¨å¤„ç†ä¸€ä¸ªéœ€è¦å¤šæ­¥æ¨ç†çš„æ³•å¾‹æŸ¥è¯¢æ—¶ï¼ŒAgent ä¼šå°†é—®é¢˜åˆ†è§£ä¸ºå¤šä¸ªå­ä»»åŠ¡ï¼Œå¹¶åŠ¨æ€é€‰æ‹©å·¥å…·ï¼š</p>
<ul>
<li><strong>æ­¥éª¤ 1ï¼ˆæ¨ç†ï¼‰</strong> ï¼šåˆ†ææŸ¥è¯¢ï¼Œåˆ¤æ–­éœ€è¦æ£€ç´¢æ³•å¾‹æ¡æ–‡å’Œè®¡ç®—èµ”å¿é‡‘ã€‚</li>
<li><strong>æ­¥éª¤ 1ï¼ˆè¡ŒåŠ¨ï¼‰</strong> ï¼šè°ƒç”¨Â <strong>GraphRAG æ¨¡å—</strong>æ£€ç´¢æœ€æ–°çš„æ³•å¾‹æ¡æ–‡ã€‚</li>
<li><strong>æ­¥éª¤ 2ï¼ˆæ¨ç†ï¼‰</strong> ï¼šåˆ†ææ£€ç´¢ç»“æœï¼Œç¡®å®šè®¡ç®—å…¬å¼ï¼Œåˆ¤æ–­éœ€è¦å¤–éƒ¨è®¡ç®—å·¥å…·ã€‚</li>
<li><strong>æ­¥éª¤ 2ï¼ˆè¡ŒåŠ¨ï¼‰</strong> ï¼šè°ƒç”¨Â <strong>ä»£ç è§£é‡Šå™¨</strong>æˆ–Â <strong>API å·¥å…·</strong>æ‰§è¡Œèµ”å¿é‡‘è®¡ç®—ã€‚</li>
</ul>
<p>æ›´é«˜çº§çš„ Agentic RAG å¼•å…¥äº†<strong>è‡ªæˆ‘åæ€ï¼ˆSelf-Reflectionï¼‰</strong> Â æœºåˆ¶ã€‚åœ¨ç”Ÿæˆç­”æ¡ˆåï¼ŒAgent ä¼šåˆ©ç”¨å¦ä¸€ä¸ª LLM æˆ–é¢„è®¾çš„è¯„ä¼°æŒ‡æ ‡ï¼ˆå¦‚ RAGAS æ¡†æ¶ï¼‰å¯¹ç­”æ¡ˆè¿›è¡Œè¯„ä¼°ã€‚å¦‚æœè¯„ä¼°ç»“æœä¸ç†æƒ³ï¼ŒAgent ä¼šåæ€å…¶æ¨ç†è¿‡ç¨‹å’Œè¡ŒåŠ¨æ­¥éª¤ï¼Œè¯†åˆ«é”™è¯¯ï¼Œå¹¶è°ƒæ•´ç­–ç•¥é‡æ–°æ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„<strong>ä¼˜åŒ–é—­ç¯</strong>ã€‚è¿™ç§åæ€ä¸ä¼˜åŒ–èƒ½åŠ›ï¼Œæ˜¯ Agentic RAG å®ç°é«˜åº¦æ™ºèƒ½åŒ–å’Œé²æ£’æ€§çš„é‡è¦ä¿éšœã€‚</p>
<h3 data-id="heading-24"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>3.2ã€ Agentic RAG çš„åº”ç”¨ä¸æŒ‘æˆ˜</h3>
<p>Agentic RAG çš„åº”ç”¨åœºæ™¯é›†ä¸­åœ¨å¯¹<strong>å¤æ‚æ€§ã€å‡†ç¡®æ€§å’Œæ™ºèƒ½åŒ–ç¨‹åº¦</strong>è¦æ±‚æé«˜çš„é¢†åŸŸï¼š</p>
<ul>
<li><strong>æ™ºèƒ½æ³•å¾‹åŠ©æ‰‹</strong>ï¼šå¤„ç†éœ€è¦å¤šè·³æ¨ç†ã€å¤šå·¥å…·ååŒï¼ˆæ³•å¾‹æ•°æ®åº“ã€è®¡ç®—å·¥å…·ï¼‰çš„å¤æ‚æ³•å¾‹æŸ¥è¯¢ã€‚</li>
<li><strong>é‡‘èç ”ç©¶åˆ†æ</strong>ï¼šè‡ªä¸»è§„åˆ’æ•°æ®æ£€ç´¢ã€å›¾è¡¨ç”Ÿæˆã€è¶‹åŠ¿åˆ†æç­‰ä¸€ç³»åˆ—æ­¥éª¤ï¼Œç”Ÿæˆç»“æ„åŒ–çš„ç ”ç©¶æŠ¥å‘Šã€‚</li>
<li><strong>å¤æ‚ç³»ç»Ÿæ•…éšœè¯Šæ–­</strong>ï¼šAgent æ ¹æ®æ•…éšœæè¿°ï¼Œè‡ªä¸»è°ƒç”¨æ—¥å¿—æ£€ç´¢å·¥å…·ã€ä»£ç åº“ã€çŸ¥è¯†å›¾è°±ï¼Œé€æ­¥ç¼©å°æ•…éšœèŒƒå›´å¹¶æå‡ºè§£å†³æ–¹æ¡ˆã€‚</li>
</ul>
<p>ç„¶è€Œï¼ŒAgentic RAG ä¹Ÿé¢ä¸´å·¨å¤§çš„æŒ‘æˆ˜ï¼š</p>
<ol>
<li><strong>æˆæœ¬ä¸å»¶è¿Ÿ</strong>ï¼šæ¯ä¸€æ¬¡æ¨ç†å’Œè¡ŒåŠ¨éƒ½éœ€è¦ LLM è°ƒç”¨ï¼Œå¯¼è‡´æˆæœ¬å’Œå»¶è¿Ÿæ˜¾è‘—å¢åŠ ã€‚</li>
<li><strong>å·¥å…·è°ƒç”¨ç¨³å®šæ€§</strong>ï¼šAgent å¯¹å¤–éƒ¨å·¥å…·çš„è°ƒç”¨å¿…é¡»é«˜åº¦ç¨³å®šå’Œå¯é ï¼Œå¦åˆ™ä¸€æ¬¡å¤±è´¥çš„è¡ŒåŠ¨å¯èƒ½å¯¼è‡´æ•´ä¸ªæµç¨‹å´©æºƒã€‚</li>
<li><strong>å¯è§£é‡Šæ€§</strong>ï¼šAgent çš„å†³ç­–è¿‡ç¨‹è™½ç„¶æœ‰ ReAct çš„æ¨ç†è®°å½•ï¼Œä½†å…¶å¤æ‚æ€§ä½¿å¾—æœ€ç»ˆçš„å¯è§£é‡Šæ€§ä»ç„¶æ˜¯ä¸€ä¸ªéš¾é¢˜ã€‚</li>
</ol>
<h2 data-id="heading-25"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>å››ã€ RAG ç³»ç»Ÿçš„æœªæ¥è¶‹åŠ¿ï¼šå¤šæ¨¡æ€ã€å®æ—¶åŒ–ä¸å¯ä¿¡ AI</h2>
<p>RAG æŠ€æœ¯çš„æ¼”è¿›ä»åœ¨åŠ é€Ÿï¼Œæœªæ¥çš„å‘å±•å°†èšç„¦äºçªç ´ç°æœ‰æ¶æ„çš„è¾¹ç•Œï¼Œä½¿å…¶èƒ½å¤Ÿæ›´å¥½åœ°é€‚åº”çœŸå®ä¸–ç•Œçš„å¤æ‚æ€§å’ŒåŠ¨æ€æ€§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e6c4675d7954c53b304e20b524bab1c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770082202&amp;x-signature=MyFEv7ejjq85lEAjSOblHWh0UhM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-26"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>4.1ã€ å¤šæ¨¡æ€ RAGï¼šé‡æ„è¯­ä¹‰ç©ºé—´</h3>
<p>å½“å‰ RAG ä¸»è¦å¤„ç†æ–‡æœ¬ï¼Œä½†ç°å®ä¸–ç•Œæ˜¯å¤šæ¨¡æ€çš„ã€‚<strong>å¤šæ¨¡æ€ RAG</strong>Â çš„ç›®æ ‡æ˜¯å°†æ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘ã€è§†é¢‘ç­‰ä¸åŒæ¨¡æ€çš„æ•°æ®èå…¥ç»Ÿä¸€çš„ RAG æ¡†æ¶ã€‚è¿™è¦æ±‚æ„å»º<strong>ç»Ÿä¸€çš„å¤šæ¨¡æ€è¡¨ç¤ºæ¨¡å‹</strong>ï¼Œå°†ä¸åŒæ¨¡æ€çš„ä¿¡æ¯æ˜ å°„åˆ°åŒä¸€ä¸ªè¯­ä¹‰ç©ºé—´ä¸­ï¼Œå®ç°è·¨æ¨¡æ€çš„æ£€ç´¢ã€ç†è§£å’Œç”Ÿæˆã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·å¯ä»¥ä¸Šä¼ ä¸€å¼ è®¾å¤‡æ•…éšœçš„å›¾ç‰‡å’Œä¸€æ®µæè¿°ï¼Œç³»ç»Ÿèƒ½å¤Ÿä»åŒ…å«æŠ€æœ¯æ‰‹å†Œï¼ˆæ–‡æœ¬ï¼‰ã€ç»´ä¿®è§†é¢‘ï¼ˆè§†é¢‘ï¼‰çš„çŸ¥è¯†åº“ä¸­æ£€ç´¢ä¿¡æ¯ï¼Œå¹¶ç”ŸæˆåŒ…å«æ–‡æœ¬å’Œå›¾ç‰‡æ ‡æ³¨çš„ç»´ä¿®æŒ‡å—ã€‚</p>
<h3 data-id="heading-27"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>4.2ã€ å®æ—¶ RAG ä¸å¢é‡ç´¢å¼•ï¼šæ‹¥æŠ±æ—¶æ•ˆæ€§</h3>
<p>åœ¨é‡‘èã€æ–°é—»ã€å®æ—¶ç›‘æ§ç­‰é¢†åŸŸï¼Œä¿¡æ¯çš„<strong>æ—¶æ•ˆæ€§</strong>è‡³å…³é‡è¦ã€‚æœªæ¥çš„ RAG ç³»ç»Ÿå¿…é¡»æ˜¯<strong>å®æ—¶ RAG</strong>ï¼Œèƒ½å¤Ÿå¤„ç†æµå¼æ•°æ®å¹¶è¿›è¡Œ<strong>å¢é‡ç´¢å¼•æ›´æ–°</strong>ã€‚ä¼ ç»Ÿçš„ RAG çŸ¥è¯†åº“æ˜¯é™æ€çš„ï¼Œæ›´æ–°æˆæœ¬é«˜æ˜‚ã€‚å®æ—¶ RAG éœ€è¦é‡‡ç”¨å…ˆè¿›çš„æµå¤„ç†æŠ€æœ¯å’Œå‘é‡æ•°æ®åº“çš„å¢é‡ç´¢å¼•èƒ½åŠ›ï¼Œç¡®ä¿ LLM å§‹ç»ˆèƒ½å¤Ÿè®¿é—®åˆ°æœ€æ–°ã€æœ€å‡†ç¡®çš„çŸ¥è¯†ï¼Œä»è€Œé¿å…ç”Ÿæˆè¿‡æ—¶æˆ–é”™è¯¯çš„ä¿¡æ¯ã€‚</p>
<h3 data-id="heading-28"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>4.3ã€ å¯ä¿¡ RAG ä¸è¯„ä¼°ä½“ç³»çš„æ·±åŒ–</h3>
<p>éšç€ RAG åœ¨å…³é”®é¢†åŸŸçš„åº”ç”¨ï¼Œ<strong>å¯ä¿¡ AI</strong>Â æˆä¸ºæ ¸å¿ƒè¦æ±‚ã€‚æœªæ¥çš„ RAG ç³»ç»Ÿå°†æ›´åŠ æ³¨é‡ï¼š</p>
<ul>
<li><strong>å¯è§£é‡Šæ€§</strong>ï¼šä¸ä»…æä¾›ç­”æ¡ˆï¼Œè¿˜è¦æä¾›æ¸…æ™°çš„<strong>å¼•ç”¨æ¥æº</strong>å’ŒÂ <strong>æ¨ç†è·¯å¾„</strong>ï¼ˆå°¤å…¶æ˜¯ Agentic RAG å’Œ GraphRAGï¼‰ã€‚</li>
<li><strong>é²æ£’æ€§</strong>ï¼šèƒ½å¤ŸæŠµå¾¡å¯¹æŠ—æ€§æ”»å‡»å’ŒçŸ¥è¯†åº“ä¸­çš„æ¶æ„æ³¨å…¥ã€‚</li>
<li><strong>è¯„ä¼°ä½“ç³»æ·±åŒ–</strong>ï¼šé™¤äº†ä¼ ç»Ÿçš„å¬å›ç‡å’Œå‡†ç¡®ç‡ï¼Œ<strong>RAGAS</strong>Â ç­‰è¯„ä¼°æ¡†æ¶å°†æ›´åŠ æ™®åŠï¼Œåˆ©ç”¨ LLM è‡ªèº«çš„èƒ½åŠ›æ¥é‡åŒ–ç­”æ¡ˆçš„<strong>å¿ å®åº¦ï¼ˆFaithfulnessï¼‰</strong> Â å’Œ<strong>ä¸Šä¸‹æ–‡ç›¸å…³æ€§ï¼ˆContext Relevanceï¼‰</strong> ï¼Œå®ç°æ•°æ®é©±åŠ¨çš„æŒç»­ä¼˜åŒ–ã€‚</li>
</ul>
<p>RAG çš„æ¼”è¿›æ˜¯ä¸€ä¸ªä»â€œèƒ½ç”¨â€åˆ°â€œå¥½ç”¨â€ï¼Œå†åˆ°â€œæ™ºèƒ½â€çš„èºæ—‹å¼ä¸Šå‡è¿‡ç¨‹ã€‚å®ƒæ¸…æ™°åœ°å±•ç¤ºäº† AI ç³»ç»Ÿå¦‚ä½•é€šè¿‡æ¶æ„åˆ›æ–°ï¼Œå°† LLM çš„ç”Ÿæˆèƒ½åŠ›ä¸å¤–éƒ¨çŸ¥è¯†çš„å¯é æ€§å®Œç¾ç»“åˆï¼Œä»è€Œæ„å»ºå‡ºæ›´å¼ºå¤§ã€æ›´å¯é çš„ä¸‹ä¸€ä»£æ™ºèƒ½åº”ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LangChain æ–‡æ¡£è½¬æ¢å™¨ä¸æ–‡æœ¬åˆ†å‰²å™¨ç»„ä»¶å­¦ä¹ æ€»ç»“]]></title>    <link>https://juejin.cn/post/7599551824548495386</link>    <guid>https://juejin.cn/post/7599551824548495386</guid>    <pubDate>2026-01-27T02:01:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599551824548495386" data-draft-id="7599581204860223514" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LangChain æ–‡æ¡£è½¬æ¢å™¨ä¸æ–‡æœ¬åˆ†å‰²å™¨ç»„ä»¶å­¦ä¹ æ€»ç»“"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-27T02:01:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¿ƒåœ¨é£æ‰¬AI"/> <meta itemprop="url" content="https://juejin.cn/user/1556564194366823"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LangChain æ–‡æ¡£è½¬æ¢å™¨ä¸æ–‡æœ¬åˆ†å‰²å™¨ç»„ä»¶å­¦ä¹ æ€»ç»“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1556564194366823/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¿ƒåœ¨é£æ‰¬AI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T02:01:58.000Z" title="Tue Jan 27 2026 02:01:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">LangChain æ–‡æ¡£è½¬æ¢å™¨ä¸æ–‡æœ¬åˆ†å‰²å™¨ç»„ä»¶å­¦ä¹ æ€»ç»“</h2>
<h3 data-id="heading-1">ç›®å½•</h3>
<ol>
<li><a href="#1-%E5%AD%97%E7%AC%A6%E6%96%87%E6%9C%AC%E5%88%86%E5%89%B2%E5%99%A8" title="#1-%E5%AD%97%E7%AC%A6%E6%96%87%E6%9C%AC%E5%88%86%E5%89%B2%E5%99%A8">å­—ç¬¦æ–‡æœ¬åˆ†å‰²å™¨</a></li>
<li><a href="#2-%E9%80%92%E5%BD%92%E5%AD%97%E7%AC%A6%E6%96%87%E6%9C%AC%E5%88%86%E5%89%B2%E5%99%A8" title="#2-%E9%80%92%E5%BD%92%E5%AD%97%E7%AC%A6%E6%96%87%E6%9C%AC%E5%88%86%E5%89%B2%E5%99%A8">é€’å½’å­—ç¬¦æ–‡æœ¬åˆ†å‰²å™¨</a></li>
<li><a href="#3-%E7%A8%8B%E5%BA%8F%E4%BB%A3%E7%A0%81%E9%80%92%E5%BD%92%E5%88%86%E5%89%B2%E5%99%A8" title="#3-%E7%A8%8B%E5%BA%8F%E4%BB%A3%E7%A0%81%E9%80%92%E5%BD%92%E5%88%86%E5%89%B2%E5%99%A8">ç¨‹åºä»£ç é€’å½’åˆ†å‰²å™¨</a></li>
<li><a href="#4-%E8%AF%AD%E4%B9%89%E5%88%86%E5%89%B2%E5%99%A8" title="#4-%E8%AF%AD%E4%B9%89%E5%88%86%E5%89%B2%E5%99%A8">è¯­ä¹‰åˆ†å‰²å™¨</a></li>
<li><a href="#5-html%E6%A0%87%E9%A2%98%E5%88%86%E5%89%B2%E5%99%A8" title="#5-html%E6%A0%87%E9%A2%98%E5%88%86%E5%89%B2%E5%99%A8">HTMLæ ‡é¢˜åˆ†å‰²å™¨</a></li>
<li><a href="#6-json%E5%88%86%E5%89%B2%E5%99%A8" title="#6-json%E5%88%86%E5%89%B2%E5%99%A8">JSONåˆ†å‰²å™¨</a></li>
<li><a href="#7-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%88%86%E5%89%B2%E5%99%A8" title="#7-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%88%86%E5%89%B2%E5%99%A8">è‡ªå®šä¹‰åˆ†å‰²å™¨</a></li>
<li><a href="#8-%E4%B8%AD%E8%8B%B1%E6%96%87%E6%B7%B7%E5%90%88%E6%96%87%E6%9C%AC%E5%88%86%E5%89%B2" title="#8-%E4%B8%AD%E8%8B%B1%E6%96%87%E6%B7%B7%E5%90%88%E6%96%87%E6%9C%AC%E5%88%86%E5%89%B2">ä¸­è‹±æ–‡æ··åˆæ–‡æœ¬åˆ†å‰²</a></li>
<li><a href="#-%E5%88%86%E5%89%B2%E5%99%A8%E9%80%89%E6%8B%A9%E6%8C%87%E5%8D%97" title="#-%E5%88%86%E5%89%B2%E5%99%A8%E9%80%89%E6%8B%A9%E6%8C%87%E5%8D%97">åˆ†å‰²å™¨é€‰æ‹©æŒ‡å—</a></li>
<li><a href="#-%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5" title="#-%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5">æ ¸å¿ƒæ¦‚å¿µ</a></li>
</ol>
<hr/>
<h3 data-id="heading-2">1. å­—ç¬¦æ–‡æœ¬åˆ†å‰²å™¨</h3>
<h4 data-id="heading-3">æ˜¯ä»€ä¹ˆ</h4>
<p>æœ€åŸºç¡€çš„æ–‡æœ¬åˆ†å‰²å™¨ï¼ŒæŒ‰ç…§æŒ‡å®šçš„åˆ†éš”ç¬¦å°†æ–‡æœ¬åˆ†å‰²æˆå—</p>
<h4 data-id="heading-4">æœ‰ä»€ä¹ˆç”¨</h4>
<ul>
<li>ç®€å•çš„æ–‡æœ¬åˆ†å‰²åœºæ™¯</li>
<li>æŒ‰å›ºå®šåˆ†éš”ç¬¦ï¼ˆå¦‚æ¢è¡Œç¬¦ï¼‰åˆ‡åˆ†æ–‡æ¡£</li>
</ul>
<h4 data-id="heading-5">æ ¸å¿ƒç±»</h4>
<ul>
<li><code>CharacterTextSplitter</code> (from <code>langchain_text_splitters</code>)</li>
</ul>
<h4 data-id="heading-6">æ ¸å¿ƒå‚æ•°</h4>
<pre><code class="hljs language-python" lang="python">CharacterTextSplitter(
    separator=<span class="hljs-string">"\n\n"</span>,          <span class="hljs-comment"># åˆ†éš”ç¬¦</span>
    chunk_size=<span class="hljs-number">500</span>,            <span class="hljs-comment"># æ¯å—å¤§å°</span>
    chunk_overlap=<span class="hljs-number">50</span>,          <span class="hljs-comment"># å—ä¹‹é—´é‡å å¤§å°</span>
    add_start_index=<span class="hljs-literal">True</span>       <span class="hljs-comment"># æ·»åŠ èµ·å§‹ç´¢å¼•</span>
)
</code></pre>
<h4 data-id="heading-7">ç¤ºä¾‹ä»£ç </h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_text_splitters <span class="hljs-keyword">import</span> CharacterTextSplitter
<span class="hljs-keyword">from</span> langchain_community.document_loaders <span class="hljs-keyword">import</span> UnstructuredMarkdownLoader

loader = UnstructuredMarkdownLoader(file_path)
documents = loader.load()

text_splitter = CharacterTextSplitter(
    separator=<span class="hljs-string">"\n\n"</span>,
    chunk_size=<span class="hljs-number">500</span>,
    chunk_overlap=<span class="hljs-number">50</span>,
    add_start_index=<span class="hljs-literal">True</span>,
)

chunks = text_splitter.split_documents(documents)

<span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> chunks:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å—å¤§å°:<span class="hljs-subst">{<span class="hljs-built_in">len</span>(chunk.page_content)}</span>, å…ƒæ•°æ®:<span class="hljs-subst">{chunk.metadata}</span>"</span>)
</code></pre>
<hr/>
<h3 data-id="heading-8">2. é€’å½’å­—ç¬¦æ–‡æœ¬åˆ†å‰²å™¨ï¼ˆæ¨èï¼‰</h3>
<h4 data-id="heading-9">æ˜¯ä»€ä¹ˆ</h4>
<p>æ›´æ™ºèƒ½çš„åˆ†å‰²å™¨ï¼Œä¼šæŒ‰å¤šä¸ªåˆ†éš”ç¬¦é¡ºåºå°è¯•åˆ†å‰²ï¼Œç›´åˆ°æ»¡è¶³å—å¤§å°è¦æ±‚</p>
<h4 data-id="heading-10">æœ‰ä»€ä¹ˆç”¨</h4>
<ul>
<li>é€‚ç”¨äºå¤§å¤šæ•°é€šç”¨æ–‡æœ¬åˆ†å‰²åœºæ™¯</li>
<li>èƒ½å¤Ÿä¿æŒæ®µè½çš„å®Œæ•´æ€§ï¼Œä¸ä¼šåœ¨å¥å­ä¸­é—´åˆ‡åˆ†</li>
<li>é»˜è®¤åˆ†éš”ç¬¦é¡ºåºï¼š<code>["\n\n", "\n", " ", ""]</code></li>
</ul>
<h4 data-id="heading-11">æ ¸å¿ƒç±»</h4>
<ul>
<li><code>RecursiveCharacterTextSplitter</code> (from <code>langchain_text_splitters</code>)</li>
</ul>
<h4 data-id="heading-12">æ ¸å¿ƒå‚æ•°</h4>
<pre><code class="hljs language-python" lang="python">RecursiveCharacterTextSplitter(
    chunk_size=<span class="hljs-number">500</span>,             <span class="hljs-comment"># æ¯å—å¤§å°</span>
    chunk_overlap=<span class="hljs-number">50</span>,           <span class="hljs-comment"># å—ä¹‹é—´é‡å å¤§å°</span>
    add_start_index=<span class="hljs-literal">True</span>,       <span class="hljs-comment"># æ·»åŠ èµ·å§‹ç´¢å¼•</span>
    separators=[<span class="hljs-string">"\n\n"</span>, <span class="hljs-string">"\n"</span>, <span class="hljs-string">" "</span>, <span class="hljs-string">""</span>]  <span class="hljs-comment"># å¯è‡ªå®šä¹‰åˆ†éš”ç¬¦åˆ—è¡¨</span>
)
</code></pre>
<h4 data-id="heading-13">ç¤ºä¾‹ä»£ç </h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_text_splitters <span class="hljs-keyword">import</span> RecursiveCharacterTextSplitter

text_splitter = RecursiveCharacterTextSplitter(
    chunk_size=<span class="hljs-number">500</span>,
    chunk_overlap=<span class="hljs-number">50</span>,
    add_start_index=<span class="hljs-literal">True</span>,
)

chunks = text_splitter.split_documents(documents)

<span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> chunks:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å—å¤§å°: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(chunk.page_content)}</span>, å…ƒæ•°æ®: <span class="hljs-subst">{chunk.metadata}</span>"</span>)
</code></pre>
<hr/>
<h3 data-id="heading-14">3. ç¨‹åºä»£ç é€’å½’åˆ†å‰²å™¨</h3>
<h4 data-id="heading-15">æ˜¯ä»€ä¹ˆ</h4>
<p>ä¸“é—¨ç”¨äºç¼–ç¨‹ä»£ç çš„åˆ†å‰²å™¨ï¼Œé’ˆå¯¹ä¸åŒç¼–ç¨‹è¯­è¨€ä¼˜åŒ–</p>
<h4 data-id="heading-16">æœ‰ä»€ä¹ˆç”¨</h4>
<ul>
<li>ä¿ç•™ä»£ç çš„å®Œæ•´æ€§å’Œè¯­ä¹‰</li>
<li>æŒ‰å‡½æ•°ã€ç±»ç­‰ä»£ç ç»“æ„åˆ‡åˆ†</li>
<li>é¿å…åœ¨ä»£ç é€»è¾‘ä¸­é—´åˆ‡åˆ†</li>
</ul>
<h4 data-id="heading-17">æ ¸å¿ƒç±»</h4>
<ul>
<li><code>RecursiveCharacterTextSplitter.from_language()</code></li>
<li><code>Language</code> æšä¸¾ç±»</li>
</ul>
<h4 data-id="heading-18">æ”¯æŒçš„è¯­è¨€</h4>
<p>Python, JS, TypeScript, Java, C++, C, Go, PHP, Ruby, Rust, Swift, Markdown, LaTeX, HTML ç­‰</p>
<h4 data-id="heading-19">ç¤ºä¾‹ä»£ç </h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_text_splitters <span class="hljs-keyword">import</span> RecursiveCharacterTextSplitter, Language

text_splitter = RecursiveCharacterTextSplitter.from_language(
    language=Language.PYTHON,
    chunk_size=<span class="hljs-number">500</span>,
    chunk_overlap=<span class="hljs-number">50</span>,
    add_start_index=<span class="hljs-literal">True</span>,
)

chunks = text_splitter.split_documents(documents)

<span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> chunks:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å—å¤§å°: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(chunk.page_content)}</span>, å…ƒæ•°æ®: <span class="hljs-subst">{chunk.metadata}</span>"</span>)

<span class="hljs-built_in">print</span>(chunks[<span class="hljs-number">2</span>].page_content)  <span class="hljs-comment"># æŸ¥çœ‹å…·ä½“çš„ä»£ç å—</span>
</code></pre>
<hr/>
<h3 data-id="heading-20">4. è¯­ä¹‰åˆ†å‰²å™¨</h3>
<h4 data-id="heading-21">æ˜¯ä»€ä¹ˆ</h4>
<p>åŸºäºè¯­ä¹‰ç›¸ä¼¼åº¦çš„åˆ†å‰²å™¨ï¼Œä½¿ç”¨embeddingæ¨¡å‹è®¡ç®—æ–‡æœ¬è¯­ä¹‰è¾¹ç•Œ</p>
<h4 data-id="heading-22">æœ‰ä»€ä¹ˆç”¨</h4>
<ul>
<li>æŒ‰è¯­ä¹‰ç›¸å…³æ€§åˆ†å‰²ï¼Œä¿æŒè¯­ä¹‰è¿è´¯æ€§</li>
<li>é€‚åˆéœ€è¦ç†è§£æ–‡æœ¬å«ä¹‰çš„åœºæ™¯</li>
<li>èƒ½å¤Ÿè¯†åˆ«è¯é¢˜å˜åŒ–ç‚¹</li>
</ul>
<h4 data-id="heading-23">æ ¸å¿ƒç±»</h4>
<ul>
<li><code>SemanticChunker</code> (from <code>langchain_experimental.text_splitter</code>)</li>
</ul>
<h4 data-id="heading-24">æ ¸å¿ƒå‚æ•°</h4>
<pre><code class="hljs language-python" lang="python">SemanticChunker(
    embeddings=QianfanEmbeddingsEndpoint(),  <span class="hljs-comment"># åµŒå…¥æ¨¡å‹</span>
    number_of_chunks=<span class="hljs-number">10</span>,                      <span class="hljs-comment"># åˆ†å‰²å—æ•°</span>
    add_start_index=<span class="hljs-literal">True</span>,
    sentence_split_regex=<span class="hljs-string">r"(?&lt;=[ã€‚ï¼Ÿï¼.?!])"</span>  <span class="hljs-comment"># å¥å­åˆ†å‰²æ­£åˆ™</span>
)
</code></pre>
<h4 data-id="heading-25">ç¤ºä¾‹ä»£ç </h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_experimental.text_splitter <span class="hljs-keyword">import</span> SemanticChunker
<span class="hljs-keyword">from</span> langchain_community.embeddings.baidu_qianfan_endpoint <span class="hljs-keyword">import</span> QianfanEmbeddingsEndpoint
<span class="hljs-keyword">import</span> dotenv

dotenv.load_dotenv()

text_splitter = SemanticChunker(
    embeddings=QianfanEmbeddingsEndpoint(),
    number_of_chunks=<span class="hljs-number">10</span>,
    add_start_index=<span class="hljs-literal">True</span>,
    sentence_split_regex=<span class="hljs-string">r"(?&lt;=[ã€‚ï¼Ÿï¼.?!])"</span>
)

documents = loader.load()
chunks = text_splitter.split_documents(documents)

<span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> chunks:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å—å¤§å°: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(chunk.page_content)}</span>, å…ƒæ•°æ®: <span class="hljs-subst">{chunk.metadata}</span>"</span>)

<span class="hljs-built_in">print</span>(chunks[<span class="hljs-number">0</span>].page_content)
</code></pre>
<hr/>
<h3 data-id="heading-26">5. HTMLæ ‡é¢˜åˆ†å‰²å™¨</h3>
<h4 data-id="heading-27">æ˜¯ä»€ä¹ˆ</h4>
<p>ä¸“é—¨ç”¨äºHTMLæ–‡æ¡£çš„åˆ†å‰²å™¨ï¼ŒæŒ‰ç…§HTMLæ ‡é¢˜å±‚çº§åˆ‡åˆ†</p>
<h4 data-id="heading-28">æœ‰ä»€ä¹ˆç”¨</h4>
<ul>
<li>ä¿ç•™HTMLæ–‡æ¡£çš„ç»“æ„å±‚æ¬¡</li>
<li>é€‚åˆå¤„ç†ç½‘é¡µã€åšå®¢æ–‡ç« ç­‰HTMLå†…å®¹</li>
<li>è‡ªåŠ¨ä¿ç•™æ ‡é¢˜å…ƒæ•°æ®</li>
</ul>
<h4 data-id="heading-29">æ ¸å¿ƒç±»</h4>
<ul>
<li><code>HTMLHeaderTextSplitter</code> (from <code>langchain_text_splitters</code>)</li>
</ul>
<h4 data-id="heading-30">æ ¸å¿ƒå‚æ•°</h4>
<pre><code class="hljs language-python" lang="python">headers_to_split_on = [
    (<span class="hljs-string">"h1"</span>, <span class="hljs-string">"ä¸€çº§æ ‡é¢˜"</span>),
    (<span class="hljs-string">"h2"</span>, <span class="hljs-string">"äºŒçº§æ ‡é¢˜"</span>),
    (<span class="hljs-string">"h3"</span>, <span class="hljs-string">"ä¸‰çº§æ ‡é¢˜"</span>),
]
</code></pre>
<h4 data-id="heading-31">ç¤ºä¾‹ä»£ç </h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_text_splitters <span class="hljs-keyword">import</span> HTMLHeaderTextSplitter

html_string = <span class="hljs-string">"""
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
    &lt;div&gt;
        &lt;h1&gt;æ ‡é¢˜1&lt;/h1&gt;
        &lt;p&gt;å…³äºæ ‡é¢˜1çš„ä¸€äº›ä»‹ç»æ–‡æœ¬ã€‚&lt;/p&gt;
        &lt;div&gt;
            &lt;h2&gt;å­æ ‡é¢˜1&lt;/h2&gt;
            &lt;p&gt;å…³äºå­æ ‡é¢˜1çš„ä¸€äº›ä»‹ç»æ–‡æœ¬ã€‚&lt;/p&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
"""</span>

headers_to_split_on = [
    (<span class="hljs-string">"h1"</span>, <span class="hljs-string">"ä¸€çº§æ ‡é¢˜"</span>),
    (<span class="hljs-string">"h2"</span>, <span class="hljs-string">"äºŒçº§æ ‡é¢˜"</span>),
    (<span class="hljs-string">"h3"</span>, <span class="hljs-string">"ä¸‰çº§æ ‡é¢˜"</span>),
]

text_splitter = HTMLHeaderTextSplitter(headers_to_split_on)
chunks = text_splitter.split_text(html_string)

<span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> chunks:
    <span class="hljs-built_in">print</span>(chunk)
</code></pre>
<hr/>
<h3 data-id="heading-32">6. JSONåˆ†å‰²å™¨</h3>
<h4 data-id="heading-33">æ˜¯ä»€ä¹ˆ</h4>
<p>é€’å½’åˆ†å‰²JSONæ•°æ®çš„åˆ†å‰²å™¨ï¼Œå¯ä»¥å¤„ç†åµŒå¥—çš„JSONç»“æ„</p>
<h4 data-id="heading-34">æœ‰ä»€ä¹ˆç”¨</h4>
<ul>
<li>å¤„ç†å¤§å‹JSONæ–‡ä»¶æˆ–APIå“åº”</li>
<li>ä¿ç•™JSONçš„å±‚æ¬¡ç»“æ„</li>
<li>é¿å…ç ´åJSONæ•°æ®çš„å®Œæ•´æ€§</li>
</ul>
<h4 data-id="heading-35">æ ¸å¿ƒç±»</h4>
<ul>
<li><code>RecursiveJsonSplitter</code> (from <code>langchain_text_splitters</code>)</li>
</ul>
<h4 data-id="heading-36">æ ¸å¿ƒå‚æ•°</h4>
<pre><code class="hljs language-python" lang="python">RecursiveJsonSplitter(max_chunk_size=<span class="hljs-number">300</span>)  <span class="hljs-comment"># æœ€å¤§å—å¤§å°</span>
</code></pre>
<h4 data-id="heading-37">ç¤ºä¾‹ä»£ç </h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_text_splitters <span class="hljs-keyword">import</span> RecursiveJsonSplitter
<span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> json

<span class="hljs-comment"># è·å–JSONæ•°æ®</span>
url = <span class="hljs-string">"https://api.smith.langchain.com/openapi.json"</span>
json_data = requests.get(url).json()
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"åŸå§‹JSONå¤§å°: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(json.dumps(json_data))}</span>"</span>)

<span class="hljs-comment"># åˆ›å»ºåˆ†å‰²å™¨</span>
text_splitter = RecursiveJsonSplitter(max_chunk_size=<span class="hljs-number">300</span>)

<span class="hljs-comment"># åˆ†å‰²JSONæ•°æ®</span>
json_chunks = text_splitter.split_json(json_data)
chunks = text_splitter.create_documents(json_chunks)

<span class="hljs-comment"># è¾“å‡ºç»“æœ</span>
total_size = <span class="hljs-built_in">sum</span>(<span class="hljs-built_in">len</span>(chunk.page_content) <span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> chunks)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"åˆ†å‰²åæ€»å¤§å°: <span class="hljs-subst">{total_size}</span>"</span>)
</code></pre>
<hr/>
<h3 data-id="heading-38">7. è‡ªå®šä¹‰åˆ†å‰²å™¨</h3>
<h4 data-id="heading-39">æ˜¯ä»€ä¹ˆ</h4>
<p>ç»§æ‰¿<code>TextSplitter</code>åŸºç±»ï¼Œå®ç°è‡ªå®šä¹‰çš„åˆ†å‰²é€»è¾‘</p>
<h4 data-id="heading-40">æœ‰ä»€ä¹ˆç”¨</h4>
<ul>
<li>ç‰¹æ®Šéœ€æ±‚åœºæ™¯</li>
<li>ç»“åˆjiebaç­‰å·¥å…·å®ç°ä¸­æ–‡å…³é”®è¯æå–ç­‰å®šåˆ¶åŠŸèƒ½</li>
<li>å®ç°ç‰¹å®šä¸šåŠ¡é€»è¾‘çš„æ–‡æœ¬å¤„ç†</li>
</ul>
<h4 data-id="heading-41">æ ¸å¿ƒç±»</h4>
<ul>
<li><code>TextSplitter</code> (åŸºç±»)</li>
</ul>
<h4 data-id="heading-42">å…³é”®æ–¹æ³•</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">split_text</span>(<span class="hljs-params">self, text: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:
    <span class="hljs-comment"># å¿…é¡»å®ç°æ­¤æ–¹æ³•</span>
    <span class="hljs-keyword">pass</span>
</code></pre>
<h4 data-id="heading-43">ç¤ºä¾‹ä»£ç </h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span>
<span class="hljs-keyword">from</span> langchain_text_splitters <span class="hljs-keyword">import</span> TextSplitter
<span class="hljs-keyword">import</span> jieba.analyse

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomTextSplitter</span>(<span class="hljs-title class_ inherited__">TextSplitter</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, separator: <span class="hljs-built_in">str</span> = <span class="hljs-string">"\n\n"</span>, top_k: <span class="hljs-built_in">int</span> = <span class="hljs-number">10</span>, **kwargs</span>):
        <span class="hljs-built_in">super</span>().__init__(**kwargs)
        self.separator = separator
        self.top_k = top_k

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">split_text</span>(<span class="hljs-params">self, text: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:
        <span class="hljs-comment"># æŒ‰åˆ†éš”ç¬¦åˆ‡åˆ†</span>
        split_texts = text.split(self.separator)
        text_keywords = []

        <span class="hljs-comment"># å¯¹æ¯æ®µæå–å…³é”®è¯</span>
        <span class="hljs-keyword">for</span> split_text <span class="hljs-keyword">in</span> split_texts:
            keywords = jieba.analyse.extract_tags(split_text, topK=self.top_k)
            text_keywords.append(keywords)

        <span class="hljs-comment"># è¿”å›å…³é”®è¯å­—ç¬¦ä¸²</span>
        <span class="hljs-keyword">return</span> [<span class="hljs-string">' '</span>.join(keywords) <span class="hljs-keyword">for</span> keywords <span class="hljs-keyword">in</span> text_keywords]

<span class="hljs-comment"># ä½¿ç”¨è‡ªå®šä¹‰åˆ†å‰²å™¨</span>
loader = UnstructuredFileLoader(file_path)
text_splitter = CustomTextSplitter(<span class="hljs-string">"\n\n"</span>, <span class="hljs-number">10</span>)

documents = loader.load()
chunks = text_splitter.split_documents(documents)

<span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> chunks:
    <span class="hljs-built_in">print</span>(chunk.page_content)
</code></pre>
<hr/>
<h3 data-id="heading-44">8. ä¸­è‹±æ–‡æ··åˆæ–‡æœ¬åˆ†å‰²</h3>
<h4 data-id="heading-45">æ˜¯ä»€ä¹ˆ</h4>
<p>é…ç½®å¤šä¸ªåˆ†éš”ç¬¦æ¥å¤„ç†ä¸­è‹±æ–‡æ··åˆåœºæ™¯</p>
<h4 data-id="heading-46">æœ‰ä»€ä¹ˆç”¨</h4>
<ul>
<li>å¤„ç†ä¸­è‹±æ–‡æ··åˆæ–‡æ¡£</li>
<li>é€‚é…ä¸åŒè¯­è¨€çš„æ ‡ç‚¹ç¬¦å·</li>
<li>ä¿è¯åˆ†å‰²åçš„æ–‡æœ¬å—è¯­ä¹‰å®Œæ•´</li>
</ul>
<h4 data-id="heading-47">åˆ†éš”ç¬¦é…ç½®ç¤ºä¾‹</h4>
<pre><code class="hljs language-python" lang="python">separators = [
    <span class="hljs-string">"\n\n"</span>,                <span class="hljs-comment"># æ®µè½åˆ†éš”</span>
    <span class="hljs-string">"\n"</span>,                  <span class="hljs-comment"># è¡Œåˆ†éš”</span>
    <span class="hljs-string">"ã€‚|ï¼|ï¼Ÿ"</span>,            <span class="hljs-comment"># ä¸­æ–‡å¥å·</span>
    <span class="hljs-string">"\.\s|\!\s|\?\s"</span>,      <span class="hljs-comment"># è‹±æ–‡æ ‡ç‚¹+ç©ºæ ¼</span>
    <span class="hljs-string">"ï¼›|;\s"</span>,              <span class="hljs-comment"># åˆ†å·</span>
    <span class="hljs-string">"ï¼Œ|,\s"</span>,              <span class="hljs-comment"># é€—å·</span>
    <span class="hljs-string">" "</span>,                   <span class="hljs-comment"># ç©ºæ ¼</span>
    <span class="hljs-string">""</span>                     <span class="hljs-comment"># å­—ç¬¦çº§åˆ«ï¼ˆæœ€åæ‰‹æ®µï¼‰</span>
]
</code></pre>
<h4 data-id="heading-48">ç¤ºä¾‹ä»£ç </h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_text_splitters <span class="hljs-keyword">import</span> RecursiveCharacterTextSplitter

separators = [
    <span class="hljs-string">"\n\n"</span>,
    <span class="hljs-string">"\n"</span>,
    <span class="hljs-string">"ã€‚|ï¼|ï¼Ÿ"</span>,
    <span class="hljs-string">"\.\s|\!\s|\?\s"</span>,  <span class="hljs-comment"># è‹±æ–‡æ ‡ç‚¹ç¬¦å·åé¢é€šå¸¸éœ€è¦åŠ ç©ºæ ¼</span>
    <span class="hljs-string">"ï¼›|;\s"</span>,
    <span class="hljs-string">"ï¼Œ|,\s"</span>,
    <span class="hljs-string">" "</span>,
    <span class="hljs-string">""</span>
]

text_splitter = RecursiveCharacterTextSplitter(
    separators=separators,
    is_separator_regex=<span class="hljs-literal">True</span>,  <span class="hljs-comment"># å¯ç”¨æ­£åˆ™è¡¨è¾¾å¼</span>
    chunk_size=<span class="hljs-number">500</span>,
    chunk_overlap=<span class="hljs-number">50</span>,
    add_start_index=<span class="hljs-literal">True</span>,
)

documents = loader.load()
chunks = text_splitter.split_documents(documents)

<span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> chunks:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å—å¤§å°: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(chunk.page_content)}</span>, å…ƒæ•°æ®: <span class="hljs-subst">{chunk.metadata}</span>"</span>)
</code></pre>
<hr/>
<h3 data-id="heading-49">åˆ†å‰²å™¨é€‰æ‹©æŒ‡å—</h3>


















































<table><thead><tr><th>åœºæ™¯</th><th>æ¨èåˆ†å‰²å™¨</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>é€šç”¨æ–‡æœ¬</td><td><code>RecursiveCharacterTextSplitter</code></td><td>æœ€å¸¸ç”¨çš„é€‰æ‹©ï¼Œæ™ºèƒ½åˆ†å‰²</td></tr><tr><td>ä»£ç æ–‡ä»¶</td><td><code>RecursiveCharacterTextSplitter.from_language()</code></td><td>ä¿ç•™ä»£ç ç»“æ„</td></tr><tr><td>è¯­ä¹‰åˆ†å‰²</td><td><code>SemanticChunker</code></td><td>åŸºäºè¯­ä¹‰ç›¸ä¼¼åº¦ï¼Œéœ€è¦embeddingæ¨¡å‹</td></tr><tr><td>HTMLæ–‡æ¡£</td><td><code>HTMLHeaderTextSplitter</code></td><td>æŒ‰æ ‡é¢˜å±‚çº§åˆ†å‰²</td></tr><tr><td>JSONæ•°æ®</td><td><code>RecursiveJsonSplitter</code></td><td>å¤„ç†åµŒå¥—JSON</td></tr><tr><td>ç®€å•åˆ†å‰²</td><td><code>CharacterTextSplitter</code></td><td>åŸºç¡€å›ºå®šåˆ†éš”ç¬¦</td></tr><tr><td>ç‰¹æ®Šéœ€æ±‚</td><td>è‡ªå®šä¹‰ <code>TextSplitter</code></td><td>å®ç°ç‰¹å®šé€»è¾‘</td></tr><tr><td>ä¸­è‹±æ–‡æ··åˆ</td><td><code>RecursiveCharacterTextSplitter</code> + è‡ªå®šä¹‰separators</td><td>é…åˆæ­£åˆ™è¡¨è¾¾å¼</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-50">æ ¸å¿ƒæ¦‚å¿µ</h3>
<h4 data-id="heading-51">é€šç”¨å‚æ•°è¯´æ˜</h4>








































<table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th><th>æ¨èå€¼</th></tr></thead><tbody><tr><td><code>chunk_size</code></td><td>æ¯ä¸ªæ–‡æœ¬å—çš„ç›®æ ‡å­—ç¬¦æ•°</td><td>500-1000</td></tr><tr><td><code>chunk_overlap</code></td><td>ç›¸é‚»å—ä¹‹é—´çš„é‡å å­—ç¬¦æ•°</td><td>50-200</td></tr><tr><td><code>separator</code></td><td>ç”¨äºåˆ†å‰²çš„åˆ†éš”ç¬¦</td><td><code>"\n\n"</code>, <code>"\n"</code> ç­‰</td></tr><tr><td><code>separators</code></td><td>åˆ†éš”ç¬¦åˆ—è¡¨ï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰</td><td>è§ä¸Šæ–¹é…ç½®</td></tr><tr><td><code>add_start_index</code></td><td>æ˜¯å¦åœ¨å…ƒæ•°æ®ä¸­è®°å½•èµ·å§‹ä½ç½®</td><td><code>True</code></td></tr><tr><td><code>is_separator_regex</code></td><td>æ˜¯å¦å°†åˆ†éš”ç¬¦ä½œä¸ºæ­£åˆ™è¡¨è¾¾å¼</td><td><code>True</code>/<code>False</code></td></tr></tbody></table>
<h4 data-id="heading-52">chunk_overlap çš„ä½œç”¨</h4>
<ul>
<li><strong>ä¿æŒä¸Šä¸‹æ–‡è¿è´¯</strong>ï¼šé¿å…å…³é”®ä¿¡æ¯è¢«åˆ†å‰²åˆ°ä¸¤ä¸ªå—çš„è¾¹ç•Œ</li>
<li><strong>æé«˜æ£€ç´¢è´¨é‡</strong>ï¼šé‡å éƒ¨åˆ†å¯ä»¥ä½œä¸ºæ£€ç´¢çš„å†—ä½™ä¿¡æ¯</li>
<li><strong>æ¨èè®¾ç½®</strong>ï¼šä¸€èˆ¬ä¸º <code>chunk_size</code> çš„ 10%-20%</li>
</ul>
<h4 data-id="heading-53">chunk_size çš„é€‰æ‹©</h4>
<ul>
<li><strong>å¤ªå°</strong>ï¼šä¸Šä¸‹æ–‡ä¸è¶³ï¼Œè¯­ä¹‰ä¸å®Œæ•´</li>
<li><strong>å¤ªå¤§</strong>ï¼šè¶…å‡ºæ¨¡å‹ä¸Šä¸‹æ–‡çª—å£ï¼Œæ£€ç´¢ç²¾åº¦ä¸‹é™</li>
<li><strong>æ¨è</strong>ï¼š
<ul>
<li>çŸ­æ–‡æœ¬ï¼š200-500</li>
<li>ä¸­ç­‰æ–‡æœ¬ï¼š500-1000</li>
<li>é•¿æ–‡æœ¬ï¼š1000-2000</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-54">æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-55">1. ä¼˜å…ˆä½¿ç”¨é€’å½’åˆ†å‰²å™¨</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ¨è</span>
RecursiveCharacterTextSplitter(chunk_size=<span class="hljs-number">500</span>, chunk_overlap=<span class="hljs-number">50</span>)

<span class="hljs-comment"># ä¸æ¨èï¼ˆå®¹æ˜“åœ¨å¥å­ä¸­é—´åˆ‡åˆ†ï¼‰</span>
CharacterTextSplitter(separator=<span class="hljs-string">"\n"</span>, chunk_size=<span class="hljs-number">500</span>)
</code></pre>
<h4 data-id="heading-56">2. æ ¹æ®æ–‡æ¡£ç±»å‹é€‰æ‹©</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä»£ç æ–‡æ¡£</span>
RecursiveCharacterTextSplitter.from_language(
    language=Language.PYTHON,
    chunk_size=<span class="hljs-number">1000</span>
)

<span class="hljs-comment"># HTMLæ–‡æ¡£</span>
HTMLHeaderTextSplitter(headers_to_split_on)

<span class="hljs-comment"># APIå“åº”</span>
RecursiveJsonSplitter(max_chunk_size=<span class="hljs-number">300</span>)
</code></pre>
<h4 data-id="heading-57">3. ä¸­è‹±æ–‡åœºæ™¯å¤„ç†</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åˆ†éš”ç¬¦</span>
separators = [
    <span class="hljs-string">"\n\n"</span>,
    <span class="hljs-string">"\n"</span>,
    <span class="hljs-string">"ã€‚|ï¼|ï¼Ÿ"</span>,
    <span class="hljs-string">"\.\s|\!\s|\?\s"</span>,
]
text_splitter = RecursiveCharacterTextSplitter(
    separators=separators,
    is_separator_regex=<span class="hljs-literal">True</span>
)
</code></pre>
<h4 data-id="heading-58">4. ä¿ç•™å…ƒæ•°æ®</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å§‹ç»ˆæ·»åŠ èµ·å§‹ç´¢å¼•</span>
text_splitter = RecursiveCharacterTextSplitter(
    add_start_index=<span class="hljs-literal">True</span>  <span class="hljs-comment"># ä¾¿äºè¿½æº¯åŸæ–‡ä½ç½®</span>
)
</code></pre>
<hr/>
<h3 data-id="heading-59">ç›¸å…³èµ„æº</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fpython.langchain.com%2Fdocs%2Fmodules%2Fdata_connection%2Fdocument_transformers%2F" target="_blank" title="https://python.langchain.com/docs/modules/data_connection/document_transformers/" ref="nofollow noopener noreferrer">LangChain Text Splitters å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=..%2F25%2520langchain%2520%25E5%2586%2585%25E7%25BD%25AE%25E7%25BB%2584%25E4%25BB%25B6%25E5%2592%258C%25E6%2596%2587%25E6%25A1%25A3%25E5%258A%25A0%25E8%25BD%25BD%25E5%2599%25A8%2F%25E5%25AD%25A6%25E4%25B9%25A0%25E6%2580%25BB%25E7%25BB%2593.md" target="_blank" title="../25%20langchain%20%E5%86%85%E7%BD%AE%E7%BB%84%E4%BB%B6%E5%92%8C%E6%96%87%E6%A1%A3%E5%8A%A0%E8%BD%BD%E5%99%A8/%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93.md" ref="nofollow noopener noreferrer">Document Loader å­¦ä¹ æ€»ç»“</a></li>
<li><a href="https://link.juejin.cn?target=..%2F27%2520Blob%25E4%25B8%258EBlobParser%25E4%25BA%2592%25E6%2596%2587%25E6%259C%25AC%2F%25E5%25AD%25A6%25E4%25B9%25A0%25E6%2580%25BB%25E7%25BB%2593.md" target="_blank" title="../27%20Blob%E4%B8%8EBlobParser%E4%BA%92%E6%96%87%E6%9C%AC/%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93.md" ref="nofollow noopener noreferrer">Blob ä¸ BlobParser å­¦ä¹ æ€»ç»“</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‡çº§ç‰ˆjså®ç°å›¾ç‰‡æ‹–æ‹½ã€æ ¹æ®é¼ æ ‡ä½ç½®æ”¾å¤§ã€ç¼©å°åŠŸèƒ½]]></title>    <link>https://juejin.cn/post/7599579865608011818</link>    <guid>https://juejin.cn/post/7599579865608011818</guid>    <pubDate>2026-01-27T02:58:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599579865608011818" data-draft-id="7599585289947250751" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‡çº§ç‰ˆjså®ç°å›¾ç‰‡æ‹–æ‹½ã€æ ¹æ®é¼ æ ‡ä½ç½®æ”¾å¤§ã€ç¼©å°åŠŸèƒ½"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-27T02:58:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·1567703855869"/> <meta itemprop="url" content="https://juejin.cn/user/2313815481135598"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‡çº§ç‰ˆjså®ç°å›¾ç‰‡æ‹–æ‹½ã€æ ¹æ®é¼ æ ‡ä½ç½®æ”¾å¤§ã€ç¼©å°åŠŸèƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2313815481135598/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·1567703855869
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T02:58:33.000Z" title="Tue Jan 27 2026 02:58:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">canvasImage</span> = function (path, annotations) {
    let <span class="hljs-attr">imageUrl</span> = <span class="hljs-string">''</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">imageUrl</span> = path<span class="hljs-comment">;</span>
    let <span class="hljs-attr">initState</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
    let <span class="hljs-attr">scale</span> = <span class="hljs-number">1</span><span class="hljs-comment">; let originX = 0; let originY = 0; let isDragging = false; let lastX; let lastY;</span>
    const <span class="hljs-attr">canvas</span> = document.getElementById(<span class="hljs-string">'annotationCanvas'</span>)<span class="hljs-comment">;</span>

    // æ¸…ç©ºç”»å¸ƒå†…å®¹å’Œæ ‡æ³¨ä¿¡æ¯
    <span class="hljs-attr">canvas.innerHTML</span> = <span class="hljs-string">''</span><span class="hljs-comment">;</span>

    <span class="hljs-attr">canvas.style.display</span> = <span class="hljs-string">'block'</span><span class="hljs-comment">;</span>
    const <span class="hljs-attr">ctx</span> = canvas.getContext(<span class="hljs-string">'2d'</span>)<span class="hljs-comment">;</span>
    const <span class="hljs-attr">image</span> = new Image()<span class="hljs-comment">;</span>
    function resizeCanvas() {
      <span class="hljs-attr">canvas.width</span> = window.innerWidth<span class="hljs-comment">;</span>
      <span class="hljs-attr">canvas.height</span> = window.innerHeight<span class="hljs-comment">;</span>
      draw()<span class="hljs-comment">;</span>
    }
    // æ·»åŠ å…³é—­æŒ‰é’®
    const <span class="hljs-attr">closeButton</span> = document.createElement(<span class="hljs-string">'button'</span>)<span class="hljs-comment">;</span>
    <span class="hljs-attr">closeButton.innerHTML</span> = <span class="hljs-string">'X'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">closeButton.title</span> = <span class="hljs-string">'å…³é—­é¢„è§ˆ'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">closeButton.className</span> = <span class="hljs-string">'canvasCloseButton'</span><span class="hljs-comment">;</span>
    document.body.appendChild(closeButton)<span class="hljs-comment">;</span>

    closeButton.addEventListener('click', function () {
      <span class="hljs-attr">imageUrl</span> = <span class="hljs-string">''</span><span class="hljs-comment">;</span>
      <span class="hljs-attr">canvas.style.display</span> = <span class="hljs-string">'none'</span><span class="hljs-comment">;</span>
      document.body.removeChild(closeButton)<span class="hljs-comment">;</span>
    })<span class="hljs-comment">;</span>
    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height)<span class="hljs-comment">;</span>
      ctx.save()<span class="hljs-comment">;</span>
      ctx.translate(originX, originY)<span class="hljs-comment">;</span>
      ctx.scale(scale, scale)<span class="hljs-comment">;</span>

      if (annotations.length) {
        ctx.drawImage(image, 0, 0)<span class="hljs-comment">;</span>
      } else {
        // è·å– canvas çš„å®½åº¦å’Œé«˜åº¦
        const <span class="hljs-attr">canvasWidth</span> = canvas.width<span class="hljs-comment">;</span>
        const <span class="hljs-attr">canvasHeight</span> = canvas.height<span class="hljs-comment">;</span>
        // è·å–å›¾ç‰‡çš„å®½åº¦å’Œé«˜åº¦
        const <span class="hljs-attr">imageWidth</span> = image.width<span class="hljs-comment">;</span>
        const <span class="hljs-attr">imageHeight</span> = image.height<span class="hljs-comment">;</span>
        // è®¡ç®—å›¾ç‰‡åœ¨ç”»å¸ƒä¸Šçš„ä½ç½®
        const <span class="hljs-attr">x</span> = (canvasWidth - imageWidth) / <span class="hljs-number">2</span><span class="hljs-comment">;</span>
        const <span class="hljs-attr">y</span> = (canvasHeight - imageHeight) / <span class="hljs-number">2</span><span class="hljs-comment">;</span>
        ctx.drawImage(image, x, y)<span class="hljs-comment">;</span>
        <span class="hljs-attr">initState</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
      }
      if (annotations.length) {
        annotations.forEach((item) =&gt; {
          if (item.range) {
            <span class="hljs-attr">ctx.lineWidth</span> = <span class="hljs-number">10</span><span class="hljs-comment">;</span>
            ctx.beginPath()<span class="hljs-comment">;</span>
            <span class="hljs-attr">ctx.strokeStyle</span> = <span class="hljs-string">'red'</span><span class="hljs-comment">;</span>
            ctx.strokeRect(
              item.range.x - 10,
              item.range.y - 10,
              item.range.width + 20,
              item.range.height + 20
            )<span class="hljs-comment">;</span>
          }
          <span class="hljs-attr">ctx.fillStyle</span> = <span class="hljs-string">'yellow'</span><span class="hljs-comment">;</span>
          <span class="hljs-attr">ctx.font</span> = <span class="hljs-string">'100px fangsong'</span><span class="hljs-comment">;</span>
          ctx.fillText(item.text, item.posX, item.posY - 50)<span class="hljs-comment">;</span>
          ctx.fill()<span class="hljs-comment">;</span>
          if (item.rect) {
            <span class="hljs-attr">ctx.lineWidth</span> = <span class="hljs-number">10</span><span class="hljs-comment">;</span>
            ctx.beginPath()<span class="hljs-comment">;</span>
            <span class="hljs-attr">ctx.strokeStyle</span> = <span class="hljs-string">'yellow'</span><span class="hljs-comment">;</span>
            ctx.strokeRect(
              item.rect.x - 5,
              item.rect.y - 5,
              item.rect.width + 10,
              item.rect.height + 10
            )<span class="hljs-comment">;</span>
          }
          if (initState) {
            <span class="hljs-attr">scale</span> = canvas.height / image.height<span class="hljs-comment">;</span>
            <span class="hljs-attr">originX</span> = (canvas.width - image.width * scale) / <span class="hljs-number">2</span><span class="hljs-comment">;</span>
            <span class="hljs-attr">initState</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
            draw()<span class="hljs-comment">;</span>
          }
        })<span class="hljs-comment">;</span>
        ctx.restore()<span class="hljs-comment">;</span>
      }
      ctx.restore()<span class="hljs-comment">;</span>
    }
    <span class="hljs-attr">image.src</span> = imageUrl<span class="hljs-comment">;</span>
    <span class="hljs-attr">image.onload</span> = resizeCanvas<span class="hljs-comment">;</span>
    window.addEventListener('resize', resizeCanvas)<span class="hljs-comment">;</span>
    <span class="hljs-section">['mousedown', 'mouseup', 'mouseout', 'mousemove', 'wheel']</span>.forEach(<span class="hljs-attr">eventName</span> =&gt; {
      canvas.addEventListener(eventName, (e) =&gt; {
        switch (eventName) {
          case 'mousedown':
            <span class="hljs-attr">isDragging</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
            <span class="hljs-attr">lastX</span> = e.<span class="hljs-literal">off</span>setX - originX<span class="hljs-comment">;</span>
            <span class="hljs-attr">lastY</span> = e.<span class="hljs-literal">off</span>setY - originY<span class="hljs-comment">;</span>
            break<span class="hljs-comment">;</span>
          case 'mouseup':
          case 'mouseout':
            <span class="hljs-attr">isDragging</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
            break<span class="hljs-comment">;</span>
          case 'mousemove':
            if (isDragging) {
              <span class="hljs-attr">originX</span> = e.<span class="hljs-literal">off</span>setX - lastX<span class="hljs-comment">;</span>
              <span class="hljs-attr">originY</span> = e.<span class="hljs-literal">off</span>setY - lastY<span class="hljs-comment">;</span>
              draw()<span class="hljs-comment">;</span>
            }
            break<span class="hljs-comment">;</span>
          case 'wheel':
            e.preventDefault()<span class="hljs-comment">;</span>
            var <span class="hljs-attr">mouseX</span> = e.<span class="hljs-literal">off</span>setX<span class="hljs-comment">;</span>
            var <span class="hljs-attr">mouseY</span> = e.<span class="hljs-literal">off</span>setY<span class="hljs-comment">;</span>
            var <span class="hljs-attr">wheel</span> = e.deltaY &lt; <span class="hljs-number">0</span> ? <span class="hljs-number">1.1</span> : <span class="hljs-number">0.9</span><span class="hljs-comment">;</span>
            var <span class="hljs-attr">newScale</span> = scale * wheel<span class="hljs-comment">;</span>
            draw()<span class="hljs-comment">;</span>
            if (newScale &lt; 0.1 || newScale &gt; 5) return<span class="hljs-comment">;</span>
            var <span class="hljs-attr">newOriginX</span> = mouseX - (mouseX - originX) * wheel<span class="hljs-comment">;</span>
            var <span class="hljs-attr">newOriginY</span> = mouseY - (mouseY - originY) * wheel<span class="hljs-comment">;</span>
            <span class="hljs-attr">scale</span> = newScale<span class="hljs-comment">;</span>
            <span class="hljs-attr">originX</span> = newOriginX<span class="hljs-comment">;</span>
            <span class="hljs-attr">originY</span> = newOriginY<span class="hljs-comment">;</span>

            break<span class="hljs-comment">;</span>
        }
      })<span class="hljs-comment">;</span>
    })<span class="hljs-comment">;</span>

    // ç›‘å¬é”®ç›˜äº‹ä»¶
    window.addEventListener('keydown', (e) =&gt; {
      if (<span class="hljs-attr">e.keyCode</span> === <span class="hljs-number">27</span>) { // æ£€æµ‹åˆ° esc é”®è¢«æŒ‰ä¸‹
        <span class="hljs-attr">imageUrl</span> = <span class="hljs-string">''</span><span class="hljs-comment">;</span>
        <span class="hljs-attr">canvas.style.display</span> = <span class="hljs-string">'none'</span><span class="hljs-comment">;</span>
        document.body.removeChild(closeButton)<span class="hljs-comment">;</span>
      }
    })<span class="hljs-comment">;</span>
  }<span class="hljs-comment">;</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[4 ä¸ªæœ¬å‘¨ä¼˜ç§€çš„ GitHub å¼€æºé¡¹ç›®ã€‚]]></title>    <link>https://juejin.cn/post/7599585289947316287</link>    <guid>https://juejin.cn/post/7599585289947316287</guid>    <pubDate>2026-01-27T03:01:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599585289947316287" data-draft-id="7599591405312786473" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="4 ä¸ªæœ¬å‘¨ä¼˜ç§€çš„ GitHub å¼€æºé¡¹ç›®ã€‚"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2026-01-27T03:01:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€›é€›GitHub"/> <meta itemprop="url" content="https://juejin.cn/user/1442202996186093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            4 ä¸ªæœ¬å‘¨ä¼˜ç§€çš„ GitHub å¼€æºé¡¹ç›®ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1442202996186093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€›é€›GitHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T03:01:02.000Z" title="Tue Jan 27 2026 03:01:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>01</p>
<p><strong>ç¼–ç¨‹çš„æ–¹å¼åšè§†é¢‘</strong></p>
<p>Remotion æœ€è¿‘å› ä¸ºä»–ä»¬æ¨å‡ºäº† Skill åˆç«äº†ä¸€æ³¢ã€‚</p>
<p>Remotion å¯ä»¥è®©ä½ ä½¿ç”¨ React æ¥ä»¥ä»£ç çš„æ–¹å¼åˆ›å»ºè§†é¢‘ã€‚ä¸åŒäºä¼ ç»Ÿçš„è§†é¢‘å‰ªè¾‘è½¯ä»¶ï¼ŒRemotion å°†è§†é¢‘åˆ¶ä½œè¿‡ç¨‹å˜æˆäº†ç¼–å†™ä»£ç çš„è¿‡ç¨‹ã€‚</p>
<p>å®ƒåˆ©ç”¨ HTMLã€CSSã€SVGã€Canvas å’Œ WebGL ç­‰æ ‡å‡†çš„ Web æŠ€æœ¯æ¥ç”Ÿæˆè§†é¢‘ç”»é¢ï¼Œå¹¶é€šè¿‡ç¼–ç¨‹é€»è¾‘ï¼Œæ¯”å¦‚å¾ªç¯ã€å˜é‡ã€API æ•°æ®è·å–æ¥æ§åˆ¶åŠ¨ç”»å’Œå†…å®¹çš„ç”Ÿæˆã€‚</p>
<p>äº®ç‚¹å°±æ˜¯æŠŠè§†é¢‘ç”Ÿæˆå¯ç¼–ç¨‹å’Œå¯å¤ç”¨çš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62bfb06b8ebc4b45a8d91d1352be28d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770087661&amp;x-signature=AEyOPUMsxq29FgsXBg1Qlbh%2BFKY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä½ å¯ä»¥åƒå¼€å‘ç½‘é¡µç»„ä»¶ä¸€æ ·å¼€å‘è§†é¢‘ç‰‡æ®µï¼Œè¿˜æ”¯æŒå®æ—¶é¢„è§ˆä¿®æ”¹æ•ˆæœã€‚</p>
<p>è¿™ä¸ªå¼€æºé¡¹ç›®åº”è¯¥æ˜¯ç›®å‰ GitHub ä¸Šç¨‹åºåŒ–è§†é¢‘ç”Ÿæˆæœ€ç«çš„é¡¹ç›®ã€‚å®ƒéå¸¸é€‚åˆéœ€è¦åŠ¨æ€å†…å®¹ã€æ‰¹é‡ç”Ÿäº§æˆ–æå…¶å¤æ‚çš„æ•°å­¦åŠ¨ç”»åœºæ™¯ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/remotion-dev/remotion</span>
</code></pre>
<p>02</p>
<p><strong>ç”Ÿæˆå¼ UI çš„ SDK</strong></p>
<p>Tambo æ˜¯ä¸€ä¸ª SDKï¼Œä¸“ä¸º React åº”ç”¨è®¾è®¡çš„Â ç”Ÿæˆå¼ UI å¼€å‘å·¥å…·åŒ…ã€‚</p>
<p>ä¸å†è®©ç”¨æˆ·å»é€‚åº”å›ºå®šçš„ç•Œé¢æµç¨‹ï¼Œè€Œæ˜¯é€šè¿‡ AI æ ¹æ®ç”¨æˆ·çš„è‡ªç„¶è¯­è¨€å¯¹è¯ï¼Œå®æ—¶å†³å®šå¹¶æ¸²æŸ“å‡ºæœ€åˆé€‚çš„ UI ç»„ä»¶ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼Œå®ƒè®©å¼€å‘è€…å¯ä»¥åœ¨èŠå¤©ç•Œé¢ä¸­æµå¼ä¼ è¾“äº¤äº’ç•Œé¢ï¼Œè€Œä¸ä»…ä»…æ˜¯æ–‡æœ¬ã€‚</p>
<p>ä½ éœ€è¦åœ¨ Tambo ä¸­æ³¨å†Œè‡ªå·±åº”ç”¨å†…çš„ React ç»„ä»¶ï¼Œæ¯”å¦‚å›¾è¡¨ã€è¡¨å•ã€è´­ç‰©è½¦å•¥çš„ï¼Œå¹¶å®šä¹‰å¥½æ¯ä¸ªç»„ä»¶æ‰€éœ€çš„å±æ€§æ¨¡å¼ã€‚</p>
<p>åœ¨å¯¹è¯æ¡†ä¸­æå‡ºéœ€æ±‚ï¼Œæ¯”å¦‚æ˜¾ç¤ºä¸Šå­£åº¦çš„é”€å”®æ•°æ®æ—¶ï¼ŒTambo çš„ AI å¼•æ“ä¼šè§£ææ„å›¾ï¼Œè‡ªåŠ¨é€‰æ‹©ä¸€ä¸ªæŠ˜çº¿å›¾ç»„ä»¶ï¼Œå¹¶å¡«å……æ­£ç¡®çš„æ•°æ®è¿›è¡Œæ¸²æŸ“ï¼Œæ•´ä¸ªè¿‡ç¨‹å¯¹ç”¨æˆ·æ˜¯æ— æ„Ÿä¸”è‡ªç„¶çš„ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/tambo-ai/tambo</span>
</code></pre>
<p>03</p>
<p><strong>ç»™ç»ˆç«¯ AI é…ä¸€ä¸ª UI</strong></p>
<p>AionUi æ˜¯ä¸€æ¬¾å¼€æºçš„è·¨å¹³å°æ¡Œé¢ GUI åº”ç”¨ã€‚</p>
<p>å…¶å®å°±æ˜¯ç»™å‘½ä»¤è¡Œ AI å·¥å…·ï¼Œæ¯”å¦‚ Google Gemini CLIã€Claude Code å•¥çš„æä¾›å›¾å½¢åŒ–ç•Œé¢ã€‚</p>
<p>æ”¯æŒ Windowsã€macOS å’Œ Linux ç³»ç»Ÿï¼Œé€šè¿‡å°†åŸæœ¬ä»…èƒ½åœ¨ç»ˆç«¯ä¸­æ“ä½œçš„æŒ‡ä»¤è½¬åŒ–ä¸ºå¯è§†åŒ–çš„äº¤äº’ç•Œé¢ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9998a2f3b37e4cc780eb93a1e7c7a585~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770087661&amp;x-signature=Slx20NJDjl0s4lbcQkGSZS5Em78%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>AionUi ä¸ä»…å†…ç½®äº†å¯¹ Google Gemini CLI çš„åŸç”Ÿæ”¯æŒï¼Œè¿˜æä¾›äº†å¤š Agent æ¨¡å¼ï¼Œä½ å¯ä»¥é›†æˆ Claude Codeã€Qwen Code ç­‰å…¶ä»–ç»ˆç«¯ AI Â Agentã€‚</p>
<p>ä½ å¯ä»¥åœ¨ä¸€ä¸ªç»Ÿä¸€çš„ç•Œé¢ä¸­åˆ‡æ¢ä½¿ç”¨ä¸åŒçš„ AI æ¨¡å‹æˆ–å·¥å…·ã€‚</p>
<p>è€Œä¸”æ‰€æœ‰çš„å¯¹è¯æ•°æ®éƒ½å­˜å‚¨åœ¨æœ¬åœ°çš„ SQLite æ•°æ®åº“ä¸­ï¼Œé™¤éä½ ä¸»åŠ¨é…ç½®äº‘ç«¯æœåŠ¡ï¼Œå¦åˆ™æ•°æ®ä¸ä¼šä¸Šä¼ è‡³å¤–éƒ¨æœåŠ¡å™¨ã€‚</p>
<p>é™¤äº†åŸºç¡€çš„èŠå¤©å¯¹è¯å¤–ï¼Œå®ƒè¿˜æ”¯æŒæ™ºèƒ½æ–‡ä»¶ç®¡ç†ï¼Œæ¯”å¦‚æ‰¹é‡é‡å‘½åã€è‡ªåŠ¨æ•´ç†æ–‡ä»¶å¤¹ã€æ•°æ®å¤„ç†ä»¥åŠ Wordã€PPT æ–‡æ¡£ç”Ÿæˆã€‚</p>
<p>å®ƒè¿˜å…·å¤‡ AI å›¾åƒç”Ÿæˆä¸ç¼–è¾‘èƒ½åŠ›ï¼Œå¹¶å†…ç½®äº†å¤šç§æ ¼å¼çš„æ–‡ä»¶é¢„è§ˆé¢æ¿ï¼Œè®©ç”¨æˆ·èƒ½å³æ—¶æŸ¥çœ‹ AI å¤„ç†åçš„ç»“æœã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/iOfficeAI/AionUi</span>
</code></pre>
<p>04</p>
<p><strong>å¤šæ™ºèƒ½ä½“åä½œå¹³å°</strong></p>
<p>Eigent æ˜¯ä¸€ä¸ªå¼€æºå¤šæ™ºèƒ½ä½“ï¼ˆMulti-Agentï¼‰åä½œå¹³å°ã€‚åº•å±‚åŸºäº CAMEL æ¡†æ¶ã€‚</p>
<p>ä½ ç”¨è¿™ä¸ªå¼€æºé¡¹ç›®èƒ½åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šåˆ›å»ºå¤šä¸ª AI Agent ç»„æˆçš„è™šæ‹Ÿå›¢é˜Ÿã€‚</p>
<p>ä¸å•ä¸€çš„ AI èŠå¤©åŠ©æ‰‹ä¸åŒï¼ŒEigent èƒ½å¤Ÿåè°ƒå¤šä¸ªä¸“æ³¨äºä¸åŒé¢†åŸŸçš„ Agentï¼Œæ¯”å¦‚æœç´¢å‘˜ã€ç¨‹åºå‘˜ã€æ–‡æ¡£ç¼–å†™å‘˜æ¥å¹¶è¡Œåä½œï¼Œè§£å†³å¤æ‚çš„é•¿å‘¨æœŸä»»åŠ¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f3748a243fa40dba26ea4f4656f4c4d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770087661&amp;x-signature=B%2FtTDt8sqni%2FqFUqU%2BW1e%2FqLwJQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Eigent Â æ”¯æŒå®Œå…¨æœ¬åœ°åŒ–éƒ¨ç½²ï¼Œèƒ½å¤Ÿé›†æˆ vLLM å’Œ Ollama ç­‰å¤šç§æ¨¡å‹ï¼Œç¡®ä¿æ•°æ®éšç§ã€‚</p>
<p>å®ƒé¢„ç½®äº†å¼€å‘è€…ã€æµè§ˆå™¨å’Œæ–‡æ¡£å¤„ç†ç­‰ä¸“ç”¨ Agent ï¼Œå¹¶æ”¯æŒ MCP ä»¥æ‰©å±•å·¥å…·é›†æˆèƒ½åŠ›ã€‚</p>
<p>ä½ ä¸éœ€è¦å¤æ‚é…ç½®å³å¯ä½¿ç”¨ï¼Œç³»ç»Ÿè¿˜åŒ…å«äººæœºååŒæœºåˆ¶ï¼Œåœ¨ä»»åŠ¡æ‰§è¡Œä¸­è¿›è¡Œäººå·¥å¹²é¢„ä»¥ä¿è¯å‡†ç¡®æ€§ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/eigent-ai/eigent</span>
</code></pre>
<p>05</p>
<p><strong>å…¶å®ƒå¼€æºé¡¹ç›®</strong></p>
<p>ä¸‹é¢è¿™ä¸ªæˆªå›¾æ˜¯æœ¬å‘¨æœ€ç«çš„å‡ ä¸ªå¼€æºé¡¹ç›®ï¼Œæœ‰ä¸€äº›ä¹‹å‰æ¨èè¿‡å°±æ²¡æœ‰è¯¦ç»†ä»‹ç»ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c3afe1d8b9542b3a5d67ca540c72ea3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770087661&amp;x-signature=yLlX83mtqeIpqwyjRhOeT%2FWvdKA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ›´å¤šæ¡ˆä¾‹è§†é¢‘ä»‹ç»è¯·æŸ¥çœ‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FsKcZ5MSccGUQaMTI4L4Rug" target="_blank" title="https://mp.weixin.qq.com/s/sKcZ5MSccGUQaMTI4L4Rug" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/sKcZ5MSccâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[éåˆ†å‰²ç±»å‹çš„æ–‡æ¡£è½¬æ¢å™¨ - å­¦ä¹ æ€»ç»“]]></title>    <link>https://juejin.cn/post/7599581687358554162</link>    <guid>https://juejin.cn/post/7599581687358554162</guid>    <pubDate>2026-01-27T02:10:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599581687358554162" data-draft-id="7599551824548626458" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="éåˆ†å‰²ç±»å‹çš„æ–‡æ¡£è½¬æ¢å™¨ - å­¦ä¹ æ€»ç»“"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-27T02:10:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¿ƒåœ¨é£æ‰¬AI"/> <meta itemprop="url" content="https://juejin.cn/user/1556564194366823"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            éåˆ†å‰²ç±»å‹çš„æ–‡æ¡£è½¬æ¢å™¨ - å­¦ä¹ æ€»ç»“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1556564194366823/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¿ƒåœ¨é£æ‰¬AI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T02:10:35.000Z" title="Tue Jan 27 2026 02:10:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">éåˆ†å‰²ç±»å‹çš„æ–‡æ¡£è½¬æ¢å™¨ - å­¦ä¹ æ€»ç»“</h2>
<h3 data-id="heading-1">æ¦‚è¿°</h3>
<p>æœ¬ç›®å½•å±•ç¤ºäº† LangChain ä¸­ä¸è¿›è¡Œæ–‡æ¡£åˆ†å‰²ï¼Œè€Œæ˜¯å¯¹æ•´ä¸ªæ–‡æ¡£è¿›è¡Œè½¬æ¢çš„å¤„ç†å™¨ã€‚è¿™ç±»è½¬æ¢å™¨ä¸ä¼šæ”¹å˜æ–‡æ¡£æ•°é‡ï¼Œè€Œæ˜¯å¯¹æ–‡æ¡£å†…å®¹è¿›è¡Œå¢å¼ºæˆ–è½¬æ¢ã€‚</p>
<h3 data-id="heading-2">æ ¸å¿ƒæ¦‚å¿µ</h3>
<h4 data-id="heading-3">éåˆ†å‰²ç±»å‹æ–‡æ¡£è½¬æ¢å™¨çš„ç‰¹ç‚¹</h4>
<ol>
<li>ä¸æ”¹å˜æ–‡æ¡£æ•°é‡ï¼šè¾“å…¥ N ä¸ªæ–‡æ¡£ï¼Œè¾“å‡º N ä¸ªæ–‡æ¡£</li>
<li>å†…å®¹å¢å¼º/è½¬æ¢ï¼š
<ul>
<li>é—®ç­”å¯¹æå–ï¼ˆç”¨äº RAG æ£€ç´¢å¢å¼ºï¼‰</li>
<li>ç¿»è¯‘ï¼ˆå¤šè¯­è¨€æ”¯æŒï¼‰</li>
<li>æ€»ç»“ç”Ÿæˆ</li>
<li>ä¿¡æ¯æå–</li>
</ul>
</li>
<li>ä¿æŒç»“æ„ï¼šåŸæ–‡å†…å®¹ä¿ç•™åœ¨ <code>page_content</code>ï¼Œå¢å¼ºä¿¡æ¯å­˜å‚¨åœ¨ <code>metadata</code></li>
</ol>
<h4 data-id="heading-4">ä¸åˆ†å‰²å™¨çš„åŒºåˆ«</h4>























<table><thead><tr><th>ç±»å‹</th><th>è¾“å…¥æ–‡æ¡£æ•°</th><th>è¾“å‡ºæ–‡æ¡£æ•°</th><th>ä¸»è¦ä½œç”¨</th></tr></thead><tbody><tr><td>åˆ†å‰²å™¨ (TextSplitter)</td><td>1</td><td>å¤šä¸ª</td><td>å°†é•¿æ–‡æ¡£åˆ‡åˆ†æˆå°å—</td></tr><tr><td>è½¬æ¢å™¨ (Transformer)</td><td>N</td><td>N</td><td>å¯¹æ–‡æ¡£å†…å®¹è¿›è¡Œå¢å¼ºæˆ–è½¬æ¢</td></tr></tbody></table>
<h4 data-id="heading-5">å®é™…åº”ç”¨æ¶æ„</h4>
<pre><code class="hljs language-rust" lang="rust">åŸå§‹æ–‡æ¡£ <span class="hljs-punctuation">-&gt;</span> åŠ è½½å™¨ <span class="hljs-punctuation">-&gt;</span> æ–‡æ¡£è½¬æ¢å™¨ï¼ˆé—®ç­”/ç¿»è¯‘ï¼‰ <span class="hljs-punctuation">-&gt;</span> å‘é‡åŒ– <span class="hljs-punctuation">-&gt;</span> RAG æ£€ç´¢
</code></pre>
<hr/>
<h3 data-id="heading-6">æ–‡ä»¶è¯¦è§£</h3>
<h4 data-id="heading-7">1. é—®ç­”è½¬æ¢å™¨ç¤ºä¾‹.py</h4>
<p><strong>ç”¨é€”</strong>ï¼šä½¿ç”¨ Doctran åº“ä»æ–‡æ¡£ä¸­è‡ªåŠ¨æå–é—®ç­”å¯¹</p>
<p><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>DoctranQATransformer</code> ä»æ–‡æ¡£ä¸­æå–å…³é”®ä¿¡æ¯</li>
<li>è‡ªåŠ¨ç”Ÿæˆ 3-5 ä¸ªåŸºäºæ–‡æ¡£å†…å®¹çš„é—®ç­”å¯¹</li>
<li>é—®ç­”å¯¹å­˜å‚¨åœ¨æ–‡æ¡£çš„ <code>metadata</code> ä¸­</li>
</ul>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_community.document_transformers <span class="hljs-keyword">import</span> DoctranQATransformer
<span class="hljs-keyword">from</span> langchain_core.documents <span class="hljs-keyword">import</span> Document

<span class="hljs-comment"># æ„å»ºè½¬æ¢å™¨</span>
qa_transformer = DoctranQATransformer(openai_api_model=<span class="hljs-string">"moonshot-v1-8k"</span>)

<span class="hljs-comment"># è½¬æ¢æ–‡æ¡£</span>
transformer_documents = qa_transformer.transform_documents(documents)

<span class="hljs-comment"># è·å–é—®ç­”å¯¹</span>
<span class="hljs-keyword">for</span> qa <span class="hljs-keyword">in</span> transformer_documents[<span class="hljs-number">0</span>].metadata.get(<span class="hljs-string">"questions_and_answers"</span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"é—®ç­”æ•°æ®:"</span>, qa)
</code></pre>
<p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>RAG ç³»ç»Ÿä¸­å¢å¼ºæ–‡æ¡£æ£€ç´¢</li>
<li>è‡ªåŠ¨ç”Ÿæˆ FAQ</li>
<li>æ–‡æ¡£çŸ¥è¯†æå–</li>
</ul>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ul>
<li>éœ€è¦å®‰è£… doctran åº“</li>
<li>ä¾èµ– Doctran æœåŠ¡</li>
<li>å¯èƒ½å­˜åœ¨ç½‘ç»œè¿æ¥é—®é¢˜</li>
</ul>
<hr/>
<h4 data-id="heading-8">2. è‡ªå®šä¹‰é—®ç­”è½¬æ¢å™¨.pyï¼ˆæ¨èï¼‰</h4>
<p><strong>ç”¨é€”</strong>ï¼šä½¿ç”¨ LangChain åŸç”ŸåŠŸèƒ½å®ç°è‡ªå®šä¹‰é—®ç­”è½¬æ¢å™¨ï¼ˆä¸ä¾èµ– Doctranï¼‰</p>
<p><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>ChatOpenAI</code> + <code>ChatPromptTemplate</code> å®ç°é—®ç­”æå–</li>
<li>æ”¯æŒå¤šç§ APIï¼ˆSiliconFlowã€Moonshotã€OpenAIï¼‰</li>
<li>è‡ªåŠ¨æ ¹æ® API_BASE é€‰æ‹©åˆé€‚çš„æ¨¡å‹</li>
<li>JSON æ ¼å¼è¾“å‡ºï¼Œæ˜“äºè§£æ</li>
<li>å®Œå–„çš„é”™è¯¯å¤„ç†</li>
</ul>
<p><strong>æ ¸å¿ƒç±»ç»“æ„</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomQATransformer</span>:
    <span class="hljs-string">"""è‡ªå®šä¹‰é—®ç­”è½¬æ¢å™¨ï¼Œä½¿ç”¨LLMä»æ–‡æ¡£ä¸­æå–é—®ç­”å¯¹"""</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, openai_api_model: <span class="hljs-built_in">str</span> = <span class="hljs-string">"gpt-3.5-turbo"</span>, temperature: <span class="hljs-built_in">float</span> = <span class="hljs-number">0</span></span>)
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">transform_documents</span>(<span class="hljs-params">self, documents: <span class="hljs-built_in">list</span>[Document]</span>) -&gt; <span class="hljs-built_in">list</span>[Document]
</code></pre>
<p><strong>å…³é”®å®ç°</strong>ï¼š</p>
<ol>
<li>æç¤ºæ¨¡æ¿è®¾è®¡ï¼š</li>
</ol>
<pre><code class="hljs language-python" lang="python">qa_extraction_prompt = ChatPromptTemplate.from_template(<span class="hljs-string">"""
ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ–‡æ¡£åˆ†æå¸ˆã€‚è¯·ä»ä»¥ä¸‹æ–‡æ¡£ä¸­æå–3-5ä¸ªæœ€é‡è¦çš„é—®ç­”å¯¹ã€‚

è¦æ±‚ï¼š
1. çš„é—®é¢˜åº”è¯¥åŸºäºæ–‡æ¡£å†…å®¹ï¼Œèƒ½å¤Ÿå¸®åŠ©è¯»è€…ç†è§£æ–‡æ¡£çš„æ ¸å¿ƒä¿¡æ¯
2. ç­”æ¡ˆåº”è¯¥ç®€æ´æ˜äº†ï¼Œç›´æ¥æ¥è‡ªæ–‡æ¡£å†…å®¹
3. é—®ç­”å¯¹åº”è¯¥æ¶µç›–æ–‡æ¡£çš„ä¸»è¦è¯é¢˜

æ–‡æ¡£å†…å®¹ï¼š
{document}

è¯·ä»¥JSONæ ¼å¼è¿”å›ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š
{{
    "questions_and_answers": [
        {{"question": "é—®é¢˜1", "answer": "ç­”æ¡ˆ1"}},
        {{"question": "é—®é¢˜2", "answer": "ç­”æ¡ˆ2"}}
    ]
}}
"""</span>)
</code></pre>
<ol start="2">
<li>è‡ªåŠ¨æ¨¡å‹é€‰æ‹©é€»è¾‘ï¼š</li>
</ol>
<pre><code class="hljs language-python" lang="python">API_BASE = os.getenv(<span class="hljs-string">"OPENAI_API_BASE"</span>, <span class="hljs-string">""</span>)
<span class="hljs-keyword">if</span> <span class="hljs-string">"siliconflow"</span> <span class="hljs-keyword">in</span> API_BASE.lower():
    DEFAULT_MODEL = <span class="hljs-string">"Qwen/Qwen2.5-7B-Instruct"</span>
<span class="hljs-keyword">elif</span> <span class="hljs-string">"moonshot"</span> <span class="hljs-keyword">in</span> API_BASE.lower():
    DEFAULT_MODEL = <span class="hljs-string">"moonshot-v1-8k"</span>
<span class="hljs-keyword">else</span>:
    DEFAULT_MODEL = <span class="hljs-string">"gpt-3.5-turbo"</span>
</code></pre>
<ol start="3">
<li>JSON è§£æå¤„ç†ï¼š</li>
</ol>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å¤„ç†å¯èƒ½åŒ…å«ä»£ç æ ‡è®°çš„ JSON</span>
content = result.content.strip()
<span class="hljs-keyword">if</span> content.startswith(<span class="hljs-string">"```json"</span>):
    content = content[<span class="hljs-number">7</span>:]
<span class="hljs-keyword">if</span> content.startswith(<span class="hljs-string">"```"</span>):
    content = content[<span class="hljs-number">3</span>:]
<span class="hljs-keyword">if</span> content.endswith(<span class="hljs-string">"```"</span>):
    content = content[:-<span class="hljs-number">3</span>]
content = content.strip()
qa_data = json.loads(content)
</code></pre>
<p><strong>ä½¿ç”¨ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åˆ›å»ºè½¬æ¢å™¨</span>
qa_transformer = CustomQATransformer(openai_api_model=<span class="hljs-string">"moonshot-v1-8k"</span>)

<span class="hljs-comment"># æ‰§è¡Œè½¬æ¢</span>
transformer_documents = qa_transformer.transform_documents(documents)

<span class="hljs-comment"># è®¿é—®é—®ç­”å¯¹</span>
<span class="hljs-keyword">for</span> qa <span class="hljs-keyword">in</span> transformer_documents[<span class="hljs-number">0</span>].metadata.get(<span class="hljs-string">"questions_and_answers"</span>, []):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"é—®é¢˜: <span class="hljs-subst">{qa[<span class="hljs-string">'question'</span>]}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç­”æ¡ˆ: <span class="hljs-subst">{qa[<span class="hljs-string">'answer'</span>]}</span>"</span>)
</code></pre>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>ä¸ä¾èµ–ç¬¬ä¸‰æ–¹ Doctran åº“</li>
<li>æ›´çµæ´»çš„æç¤ºè¯æ§åˆ¶</li>
<li>æ›´å¥½çš„é”™è¯¯å¤„ç†</li>
<li>æ”¯æŒæ‰¹é‡å¤„ç†</li>
<li>é€‚é…å¤šç§ LLM API</li>
</ul>
<hr/>
<h4 data-id="heading-9">3. 2 ç¿»è¯‘.py</h4>
<p><strong>ç”¨é€”</strong>ï¼šå®ç°æ–‡æ¡£ç¿»è¯‘åŠŸèƒ½ï¼Œä¿æŒæ–‡æ¡£ç»“æ„ä¸å˜</p>
<p><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ LLM è¿›è¡Œæ–‡æ¡£ç¿»è¯‘</li>
<li>æ”¯æŒä»»æ„ç›®æ ‡è¯­è¨€</li>
<li>ä¿æŒåŸæ–‡æ ¼å¼å’Œç»“æ„</li>
<li>è¿”å›ç¿»è¯‘åçš„æ–°æ–‡æ¡£</li>
</ul>
<p><strong>å®Œæ•´å®ç°ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">translate_documents</span>(<span class="hljs-params">documents, target_language=<span class="hljs-string">"English"</span>, model=<span class="hljs-string">"moonshot-v1-8k"</span></span>):
    <span class="hljs-string">"""
    ç¿»è¯‘æ–‡æ¡£å†…å®¹åˆ°ç›®æ ‡è¯­è¨€

    Args:
        documents: LangChain Documentå¯¹è±¡åˆ—è¡¨
        target_language: ç›®æ ‡è¯­è¨€
        model: ä½¿ç”¨çš„æ¨¡å‹åç§°
    """</span>
    <span class="hljs-comment"># åˆå§‹åŒ–LLM</span>
    llm = ChatOpenAI(model=model, temperature=<span class="hljs-number">0</span>)

    <span class="hljs-comment"># åˆ›å»ºç¿»è¯‘æç¤ºæ¨¡æ¿</span>
    prompt = ChatPromptTemplate.from_messages([
        (<span class="hljs-string">"system"</span>, <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ç¿»è¯‘åŠ©æ‰‹ã€‚è¯·å°†ä»¥ä¸‹æ–‡æœ¬ç¿»è¯‘æˆ{target_language}ï¼Œä¿æŒåŸæ–‡çš„æ ¼å¼å’Œç»“æ„ã€‚"</span>),
        (<span class="hljs-string">"human"</span>, <span class="hljs-string">"{text}"</span>)
    ])

    <span class="hljs-comment"># åˆ›å»ºç¿»è¯‘é“¾</span>
    chain = prompt | llm

    translated_docs = []
    <span class="hljs-keyword">for</span> doc <span class="hljs-keyword">in</span> documents:
        <span class="hljs-comment"># è°ƒç”¨ç¿»è¯‘</span>
        response = chain.invoke({
            <span class="hljs-string">"text"</span>: doc.page_content,
            <span class="hljs-string">"target_language"</span>: target_language
        })
        <span class="hljs-comment"># åˆ›å»ºæ–°çš„ç¿»è¯‘æ–‡æ¡£</span>
        translated_docs.append(Document(page_content=response.content))

    <span class="hljs-keyword">return</span> translated_docs
</code></pre>
<p><strong>ä½¿ç”¨ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç¿»è¯‘ä¸ºè‹±æ–‡</span>
translator_documents = translate_documents(documents, target_language=<span class="hljs-string">"English"</span>)

<span class="hljs-comment"># ç¿»è¯‘ä¸ºæ—¥æ–‡</span>
translator_documents = translate_documents(documents, target_language=<span class="hljs-string">"Japanese"</span>)

<span class="hljs-comment"># ç¿»è¯‘ä¸ºæ³•æ–‡</span>
translator_documents = translate_documents(documents, target_language=<span class="hljs-string">"French"</span>)
</code></pre>
<p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>å¤šè¯­è¨€æ–‡æ¡£å¤„ç†</li>
<li>è·¨è¯­è¨€ RAG ç³»ç»Ÿ</li>
<li>æœ¬åœ°åŒ–æ–‡æ¡£ç”Ÿæˆ</li>
<li>å›½é™…åŒ–æ”¯æŒ</li>
</ul>
<hr/>
<h3 data-id="heading-10">åº”ç”¨åœºæ™¯</h3>
<h4 data-id="heading-11">1. RAG ç³»ç»Ÿå¢å¼º</h4>
<p>åœ¨ RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ç³»ç»Ÿä¸­ä½¿ç”¨é—®ç­”è½¬æ¢å™¨ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åŸå§‹æ–‡æ¡£</span>
documents = loader.load()

<span class="hljs-comment"># æå–é—®ç­”å¯¹å¢å¼ºæ£€ç´¢</span>
qa_transformer = CustomQATransformer()
enhanced_docs = qa_transformer.transform_documents(documents)

<span class="hljs-comment"># å‘é‡åŒ–</span>
vectorstore.add_documents(enhanced_docs)

<span class="hljs-comment"># æ£€ç´¢æ—¶å¯ä»¥åŒ¹é…é—®é¢˜ï¼Œæé«˜å¬å›ç‡</span>
</code></pre>
<h4 data-id="heading-12">2. å¤šè¯­è¨€çŸ¥è¯†åº“</h4>
<p>æ„å»ºæ”¯æŒå¤šè¯­è¨€çš„çŸ¥è¯†åº“ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åŠ è½½ä¸­æ–‡æ–‡æ¡£</span>
documents = loader.load()

<span class="hljs-comment"># ç¿»è¯‘ä¸ºè‹±æ–‡</span>
en_docs = translate_documents(documents, target_language=<span class="hljs-string">"English"</span>)

<span class="hljs-comment"># åˆå¹¶ä¸­è‹±æ–‡æ–‡æ¡£</span>
all_docs = documents + en_docs

<span class="hljs-comment"># æ„å»ºå‘é‡åº“</span>
vectorstore.add_documents(all_docs)
</code></pre>
<h4 data-id="heading-13">3. æ–‡æ¡£é¢„å¤„ç†æµæ°´çº¿</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.documents <span class="hljs-keyword">import</span> Document

<span class="hljs-comment"># å®Œæ•´çš„æ–‡æ¡£å¤„ç†æµç¨‹</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">process_documents</span>(<span class="hljs-params">raw_documents</span>):
    <span class="hljs-comment"># 1. æå–é—®ç­”å¯¹</span>
    qa_transformer = CustomQATransformer()
    docs_with_qa = qa_transformer.transform_documents(raw_documents)

    <span class="hljs-comment"># 2. ç¿»è¯‘ä¸ºè‹±æ–‡ï¼ˆå¯é€‰ï¼‰</span>
    en_docs = translate_documents(docs_with_qa, target_language=<span class="hljs-string">"English"</span>)

    <span class="hljs-comment"># 3. åˆå¹¶æ‰€æœ‰æ–‡æ¡£</span>
    final_docs = docs_with_qa + en_docs

    <span class="hljs-keyword">return</span> final_docs
</code></pre>
<hr/>
<h3 data-id="heading-14">æŠ€æœ¯è¦ç‚¹</h3>
<h4 data-id="heading-15">1. æ–‡æ¡£è½¬æ¢å™¨çš„è®¾è®¡æ¨¡å¼</h4>
<p>æ‰€æœ‰æ–‡æ¡£è½¬æ¢å™¨éƒ½åº”éµå¾ªç›¸åŒçš„æ¥å£ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DocumentTransformer</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">transform_documents</span>(<span class="hljs-params">self, documents: <span class="hljs-built_in">list</span>[Document]</span>) -&gt; <span class="hljs-built_in">list</span>[Document]:
        <span class="hljs-string">"""è½¬æ¢æ–‡æ¡£åˆ—è¡¨ï¼Œè¿”å›è½¬æ¢åçš„æ–‡æ¡£åˆ—è¡¨"""</span>
        <span class="hljs-keyword">pass</span>
</code></pre>
<h4 data-id="heading-16">2. Metadata ä½¿ç”¨è§„èŒƒ</h4>
<p>å¢å¼ºä¿¡æ¯åº”å­˜å‚¨åœ¨ metadata ä¸­ï¼š</p>
<pre><code class="hljs language-python" lang="python">new_doc = Document(
    page_content=original_content,  <span class="hljs-comment"># ä¿æŒåŸæ–‡</span>
    metadata={
        **original_metadata,         <span class="hljs-comment"># ä¿ç•™åŸæœ‰å…ƒæ•°æ®</span>
        <span class="hljs-string">"questions_and_answers"</span>: [], <span class="hljs-comment"># æ–°å¢å¢å¼ºä¿¡æ¯</span>
        <span class="hljs-string">"language"</span>: <span class="hljs-string">"en"</span>             <span class="hljs-comment"># å…¶ä»–å…ƒæ•°æ®</span>
    }
)
</code></pre>
<h4 data-id="heading-17">3. é”™è¯¯å¤„ç†ç­–ç•¥</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">try</span>:
    <span class="hljs-comment"># å°è¯•è§£æå’Œå¤„ç†</span>
    result = process_document(doc)
<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¤„ç†å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
    <span class="hljs-comment"># è¿”å›åŸå§‹æ–‡æ¡£ï¼Œç¡®ä¿æµç¨‹ç»§ç»­</span>
    <span class="hljs-keyword">return</span> doc
</code></pre>
<h4 data-id="heading-18">4. æ‰¹é‡å¤„ç†ä¼˜åŒ–</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å¯ä»¥æ·»åŠ å¹¶å‘å¤„ç†æé«˜æ•ˆç‡</span>
<span class="hljs-keyword">from</span> concurrent.futures <span class="hljs-keyword">import</span> ThreadPoolExecutor

<span class="hljs-keyword">def</span> <span class="hljs-title function_">transform_documents_parallel</span>(<span class="hljs-params">self, documents, max_workers=<span class="hljs-number">5</span></span>):
    <span class="hljs-keyword">with</span> ThreadPoolExecutor(max_workers=max_workers) <span class="hljs-keyword">as</span> executor:
        results = <span class="hljs-built_in">list</span>(executor.<span class="hljs-built_in">map</span>(self._transform_single, documents))
    <span class="hljs-keyword">return</span> results
</code></pre>
<hr/>
<h3 data-id="heading-19">ä¾èµ–é¡¹</h3>
<h4 data-id="heading-20">æ ¸å¿ƒä¾èµ–</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># LangChain æ ¸å¿ƒ</span>
pip install langchain langchain-openai langchain-community

<span class="hljs-comment"># ç¯å¢ƒå˜é‡ç®¡ç†</span>
pip install python-dotenv

<span class="hljs-comment"># å¯é€‰ï¼šDoctranï¼ˆå¦‚æœä½¿ç”¨ DoctranQATransformerï¼‰</span>
pip install doctran
</code></pre>
<h4 data-id="heading-21">ç¯å¢ƒå˜é‡é…ç½®</h4>
<p>åˆ›å»º <code>.env</code> æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-env" lang="env"># OpenAI å…¼å®¹ API é…ç½®
OPENAI_API_BASE=https://api.moonshot.cn/v1
OPENAI_API_KEY=your_api_key_here

# æˆ–è€…ä½¿ç”¨ SiliconFlow
# OPENAI_API_BASE=https://api.siliconflow.cn/v1
# OPENAI_API_KEY=your_siliconflow_key
</code></pre>
<hr/>
<h3 data-id="heading-22">å­¦ä¹ å»ºè®®</h3>
<ol>
<li>ç†è§£è½¬æ¢å™¨ä¸åˆ†å‰²å™¨çš„åŒºåˆ«</li>
<li>æŒæ¡è‡ªå®šä¹‰è½¬æ¢å™¨çš„å®ç°æ–¹æ³•</li>
<li>å­¦ä¹ å¦‚ä½•åœ¨ RAG ç³»ç»Ÿä¸­åº”ç”¨è½¬æ¢å™¨</li>
<li>å®è·µå¤šè¯­è¨€æ–‡æ¡£å¤„ç†</li>
<li>æ„å»ºå®Œæ•´çš„æ–‡æ¡£å¤„ç†æµæ°´çº¿</li>
</ol>
<hr/>
<h3 data-id="heading-23">æ‰©å±•é˜…è¯»</h3>
<ul>
<li>LangChain æ–‡æ¡£è½¬æ¢å™¨æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpython.langchain.com%2Fdocs%2Fmodules%2Fdata_connection%2Fdocument_transformers%2F" target="_blank" title="https://python.langchain.com/docs/modules/data_connection/document_transformers/" ref="nofollow noopener noreferrer">python.langchain.com/docs/moduleâ€¦</a></li>
<li>RAG ç³»ç»Ÿæœ€ä½³å®è·µ</li>
<li>æç¤ºå·¥ç¨‹æŠ€å·§</li>
<li>JSON è§£æä¸é”™è¯¯å¤„ç†</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«æŒ‰é‡ä»˜è´¹ï¼šæ­å»ºä¸€ä¸ªæ— é™å…è´¹çš„ç§äºº TTS æœåŠ¡]]></title>    <link>https://juejin.cn/post/7599572091075133482</link>    <guid>https://juejin.cn/post/7599572091075133482</guid>    <pubDate>2026-01-27T02:45:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599572091075133482" data-draft-id="7599502282603266111" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«æŒ‰é‡ä»˜è´¹ï¼šæ­å»ºä¸€ä¸ªæ— é™å…è´¹çš„ç§äºº TTS æœåŠ¡"/> <meta itemprop="keywords" content="AIGC,OpenAI,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-27T02:45:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€åªä¼šé£çš„æ—ºæ—º"/> <meta itemprop="url" content="https://juejin.cn/user/1151943915355965"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«æŒ‰é‡ä»˜è´¹ï¼šæ­å»ºä¸€ä¸ªæ— é™å…è´¹çš„ç§äºº TTS æœåŠ¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1151943915355965/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€åªä¼šé£çš„æ—ºæ—º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T02:45:48.000Z" title="Tue Jan 27 2026 02:45:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/adf43fa47df945e188599498f120eea4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Y-q5Lya6aOe55qE5pe65pe6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086752&amp;x-signature=ufOj8UYKtQXl%2BSRmREGwYtJqG4M%3D" alt="cover" loading="lazy"/></p>
<p>ç”¨è‡ªå·±çš„å£°éŸ³è®© AI è¯»ç¨¿ï¼Œæˆ‘ä»¥å‰å°±æœ‰è¿™ä¸ªæƒ³æ³•!</p>
<p>ä¹‹å‰è¯•è¿‡ ElevenLabsï¼Œæ•ˆæœç¡®å®å¥½ï¼Œä½†æ¯ä¸ªæœˆ 10 ç¾å…ƒèµ·æ­¥ï¼Œç”¨å¤šäº†è¿˜å¾—åŠ é’±ã€‚Azure çš„ TTS ä¾¿å®œç‚¹ï¼Œä½†å£°éŸ³å…‹éš†è¦ä¼ä¸šè®¤è¯ï¼Œä¸ªäººç”¨æˆ·å‹æ ¹ç”³è¯·ä¸ä¸‹æ¥ã€‚å¼€æºæ–¹æ¡ˆå€’æ˜¯æœ‰ï¼ŒCosyVoiceã€FishSpeech éƒ½ä¸é”™ï¼Œé—®é¢˜æ˜¯æˆ‘é‚£å°è€ç¬”è®°æœ¬åªæœ‰ 8GB æ˜¾å­˜ï¼Œè·‘è¿™ä¿©éƒ½è´¹åŠ²ã€‚</p>
<p>ç›´åˆ°ä¸Šå‘¨ï¼Œé˜¿é‡ŒæŠŠ Qwen3-TTS å…¨å®¶æ¡¶å¼€æºäº†ã€‚</p>
<h2 data-id="heading-0">0.6B æœ‰å¤šè½»é‡ï¼Ÿ</h2>
<p><strong>0.6B æ¨¡å‹åªéœ€è¦ 1.2GB æ˜¾å­˜</strong>ï¼Œæ²¡æœ‰ç‹¬æ˜¾çš„è¯ï¼Œçº¯ CPU ä¹Ÿèƒ½è·‘ã€‚</p>
<p>è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿä¸€å°æ™®é€šåŠå…¬ç”µè„‘ï¼Œ8GB å†…å­˜ï¼Œé›†æ˜¾ï¼Œå°±èƒ½è·‘å®Œæ•´çš„è¯­éŸ³åˆæˆæ¨¡å‹ã€‚ä¸ç”¨ä¹°äº‘æœåŠ¡å™¨ï¼Œä¸ç”¨æŒ‰é‡ä»˜è´¹ï¼Œæ¨¡å‹ä¸‹åˆ°æœ¬åœ°ï¼Œæƒ³ç”¨å¤šå°‘ç”¨å¤šå°‘ã€‚æˆ‘ç‰¹åœ°ç”¨ä¸€å°æ™®é€šäº‘ç”µè„‘è·‘äº†ä¸‹,æ…¢æ˜¯æ…¢äº†ç‚¹,ä½†æ˜¯èƒ½ç”¨!</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c8098e567d34df983dfbc7d7ac4a8ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Y-q5Lya6aOe55qE5pe65pe6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086752&amp;x-signature=e4Ge6mNlC4qJ75G1O75beKERVSs%3D" alt="image-20260126193437091" loading="lazy"/></p>
<p>Qwen3-TTS è¿™æ¬¡å¼€æºäº†ä¸¤ä¸ªå°ºå¯¸ï¼š</p>























<table><thead><tr><th>æ¨¡å‹</th><th>å‚æ•°é‡</th><th>æ˜¾å­˜éœ€æ±‚</th><th>å®šä½</th></tr></thead><tbody><tr><td>1.7B</td><td>17 äº¿</td><td>~3.4GB</td><td>æè‡´éŸ³è´¨</td></tr><tr><td><strong>0.6B</strong></td><td>6 äº¿</td><td><strong>~1.2GB</strong></td><td>å‡è¡¡æ•ˆç‡</td></tr></tbody></table>
<p>0.6B è™½ç„¶å‚æ•°å°‘ï¼Œä½†è¯¥æœ‰çš„èƒ½åŠ›éƒ½æœ‰ï¼š10 ç§è¯­è¨€ï¼ˆä¸­è‹±æ—¥éŸ©å¾·æ³•ä¿„è‘¡è¥¿æ„ï¼‰ã€å¤šç§æ–¹è¨€ï¼ˆç²¤è¯­ã€å››å·è¯ã€é—½å—è¯­ç­‰ï¼‰ã€å£°éŸ³å…‹éš†ã€å£°éŸ³è®¾è®¡ã€‚å¯¹äºä¸ªäººç”¨æˆ·æ¥è¯´ï¼Œ0.6B å·²ç»å¤Ÿç”¨äº†ã€‚</p>
<h2 data-id="heading-1">å®‰è£…</h2>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FQwenLM%2FQwen3-TTS" target="_blank" title="https://github.com/QwenLM/Qwen3-TTS" ref="nofollow noopener noreferrer">github.com/QwenLM/Qwenâ€¦</a></p>
</blockquote>
<p>è¿™å—ç›´æ¥çœ‹å®˜æ–¹æ–‡æ¡£å§! æˆ–è€…è®©AIç»™ä½ å®‰è£…å°±è¡Œ,ç•™ä¸€ä»½æˆ‘çš„ä¸€é”®è„šæœ¬,å¯ä»¥è‡ªå·±è¯•è¯•!</p>
<p>è£…å®Œä¹‹åï¼Œç¬¬ä¸€æ¬¡è¿è¡Œä¼šè‡ªåŠ¨ä¸‹è½½æ¨¡å‹æƒé‡ï¼Œ0.6B å¤§æ¦‚ 1.2GBï¼Œè€å¿ƒç­‰ä¸€ä¸‹ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/usr/bin/env bash</span>
<span class="hljs-built_in">set</span> -euo pipefail


ROOT=<span class="hljs-string">"/wangwang/qwen"</span>
MODEL_ID=<span class="hljs-string">"Qwen/Qwen3-TTS-12Hz-0.6B-Base"</span>


<span class="hljs-built_in">mkdir</span> -p <span class="hljs-string">"<span class="hljs-variable">$ROOT</span>"</span>
<span class="hljs-built_in">cd</span> <span class="hljs-string">"<span class="hljs-variable">$ROOT</span>"</span>


<span class="hljs-built_in">echo</span> <span class="hljs-string">"[1/6] venv"</span>
python3 -m venv .venv
<span class="hljs-built_in">source</span> .venv/bin/activate
python -m pip install -U pip wheel setuptools


<span class="hljs-built_in">echo</span> <span class="hljs-string">"[2/6] HF mirror + cache"</span>
<span class="hljs-built_in">export</span> HF_ENDPOINT=<span class="hljs-string">"https://hf-mirror.com"</span>Â  Â <span class="hljs-comment"># huggingface å·¥å…·é“¾ä¼šè¯»å–è¯¥å˜é‡èµ°é•œåƒ :contentReference[oaicite:2]{index=2}</span>
<span class="hljs-built_in">export</span> HF_HOME=<span class="hljs-string">"<span class="hljs-variable">$ROOT</span>/hf_home"</span>


<span class="hljs-built_in">echo</span> <span class="hljs-string">"[3/6] PyTorch (CPU wheel)"</span>
pip install -U torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cpu


<span class="hljs-built_in">echo</span> <span class="hljs-string">"[4/6] Runtime deps"</span>
pip install -U <span class="hljs-string">"qwen-tts"</span> <span class="hljs-string">"huggingface_hub[cli]"</span> soundfile requests numpy


<span class="hljs-built_in">echo</span> <span class="hljs-string">"[5/6] CPU performance knobs"</span>
<span class="hljs-comment"># é»˜è®¤ç”¨æœ€å¤š 8 çº¿ç¨‹æ›´ç¨³ï¼ˆä½ å¯ä»¥åœ¨è¿è¡Œå‰ export THREADS=4 è‡ªå®šä¹‰ï¼‰</span>
THREADS=<span class="hljs-string">"<span class="hljs-variable">${THREADS:-$(python - &lt;&lt;'PY'
import os
n=os.cpu_count() or 1
print(max(1, min(8, n)))
PY
)}</span>"</span>
<span class="hljs-built_in">export</span> OMP_NUM_THREADS=<span class="hljs-string">"<span class="hljs-variable">$THREADS</span>"</span>
<span class="hljs-built_in">export</span> MKL_NUM_THREADS=<span class="hljs-string">"<span class="hljs-variable">$THREADS</span>"</span>
<span class="hljs-built_in">export</span> OPENBLAS_NUM_THREADS=<span class="hljs-string">"<span class="hljs-variable">$THREADS</span>"</span>
<span class="hljs-built_in">export</span> NUMEXPR_NUM_THREADS=<span class="hljs-string">"<span class="hljs-variable">$THREADS</span>"</span>


<span class="hljs-built_in">echo</span> <span class="hljs-string">"THREADS=<span class="hljs-variable">$THREADS</span>"</span>


<span class="hljs-built_in">echo</span> <span class="hljs-string">"[6/6] Smoke test (voice clone -&gt; out/output_voice_clone.wav)"</span>
<span class="hljs-built_in">mkdir</span> -p out
python - &lt;&lt;<span class="hljs-string">'PY'</span>
import io, os, requests
import numpy as np
import torch
import soundfile as sf
from qwen_tts import Qwen3TTSModel


MODEL_ID=<span class="hljs-string">"Qwen/Qwen3-TTS-12Hz-0.6B-Base"</span>


threads = int(os.environ.get(<span class="hljs-string">"OMP_NUM_THREADS"</span>,<span class="hljs-string">"4"</span>))
torch.set_num_threads(threads)
torch.set_num_interop_threads(1)


<span class="hljs-built_in">print</span>(<span class="hljs-string">"torch:"</span>, torch.__version__)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"threads:"</span>, threads)


<span class="hljs-comment"># ä¸‹è½½å‚è€ƒéŸ³é¢‘ï¼ˆå®˜æ–¹ demo é‡Œ voice clone éœ€è¦ ref_audioï¼Œä¸”åœ¨é x-vector-only æ—¶è¿˜éœ€è¦ ref_textï¼‰:contentReference[oaicite:3]{index=3}</span>
ref_audio_url = <span class="hljs-string">"https://qianwen-res.oss-cn-beijing.aliyuncs.com/Qwen3-TTS-Repo/clone.wav"</span>
resp = requests.get(ref_audio_url, <span class="hljs-built_in">timeout</span>=60)
resp.raise_for_status()
wav, sr = sf.read(io.BytesIO(resp.content))
<span class="hljs-keyword">if</span> wav.ndim &gt; 1:
Â  Â  wav = np.mean(wav, axis=1)
wav = wav.astype(np.float32)
ref_audio = (wav, int(sr))


<span class="hljs-comment"># è¯´æ˜ï¼šå¦‚æœä½ æŠŠ x_vector_only_mode=Falseï¼Œåˆ™éœ€è¦æä¾› ref_textï¼ˆHF demo åšäº†æ ¡éªŒï¼‰:contentReference[oaicite:4]{index=4}</span>
ref_text = <span class="hljs-string">"Okay. Yeah. I resent you. I love you. I respect you. But you know what? You blew it! And thanks to you."</span>


tts = Qwen3TTSModel.from_pretrained(
Â  Â  MODEL_ID,
Â  Â  device_map=<span class="hljs-string">"cpu"</span>,
Â  Â  dtype=torch.float32,
Â  Â  <span class="hljs-comment"># CPU ç”¨ eager æ›´ç¨³ï¼›flash_attention_2 ä¸»è¦ç»™ GPU :contentReference[oaicite:5]{index=5}</span>
Â  Â  attn_implementation=<span class="hljs-string">"eager"</span>,
)


wavs, out_sr = tts.generate_voice_clone(
Â  Â  text=<span class="hljs-string">"Hello! This is a CPU smoke test for Qwen3-TTS voice cloning."</span>,
Â  Â  language=<span class="hljs-string">"English"</span>,
Â  Â  ref_audio=ref_audio,
Â  Â  ref_text=ref_text,
Â  Â  x_vector_only_mode=False,Â  <span class="hljs-comment"># True ä¼šæ›´å¿«ä¸€äº›ï¼Œä½†é€šå¸¸æ›´ä¾èµ–å‚è€ƒéŸ³é¢‘è´¨é‡/ç›¸ä¼¼åº¦</span>
Â  Â  max_new_tokens=768,Â  Â  Â  Â  <span class="hljs-comment"># CPU å»ºè®®å…ˆå°ä¸€ç‚¹ï¼Œç¡®ä¿è·‘é€š</span>
)


sf.write(<span class="hljs-string">"out/output_voice_clone.wav"</span>, wavs[0], out_sr)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Saved -&gt; out/output_voice_clone.wav | sr:"</span>, out_sr, <span class="hljs-string">"| sec:"</span>, len(wavs[0])/out_sr)
PY


<span class="hljs-built_in">echo</span> <span class="hljs-string">"DONE: <span class="hljs-variable">$ROOT</span>/out/output_voice_clone.wav"</span>
</code></pre>
<h2 data-id="heading-2">å£°éŸ³å…‹éš†ï¼š3 ç§’éŸ³é¢‘å°±å¤Ÿ</h2>
<p>è¿™æ˜¯ Qwen3-TTS æœ€è®©æˆ‘æ„å¤–çš„åŠŸèƒ½ã€‚åªéœ€è¦ä¸€æ®µ 3-10 ç§’çš„éŸ³é¢‘ï¼Œæ¨¡å‹å°±èƒ½å­¦ä¼šè¿™ä¸ªäººçš„éŸ³è‰²ã€è¯­è°ƒã€è¯´è¯èŠ‚å¥ï¼Œç„¶åç”¨è¿™ä¸ªå£°éŸ³è¯»ä»»ä½•ä½ ç»™çš„æ–‡æœ¬ã€‚</p>
<p>ä»£ç ä¹Ÿä¸å¤æ‚ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">import torch
import soundfile as sf
from qwen_tts import Qwen3TTSModel


<span class="hljs-comment"># åŠ è½½ 0.6B æ¨¡å‹</span>
<span class="hljs-attr">model</span> = Qwen3TTSModel.from_pretrained(
Â  Â  "Qwen/Qwen3-TTS-12Hz-0.6B-Base",
Â  Â  <span class="hljs-attr">device_map</span>=<span class="hljs-string">"cuda:0"</span>,Â  <span class="hljs-comment"># æ²¡æœ‰æ˜¾å¡å°±ç”¨ "cpu"</span>
Â  Â  <span class="hljs-attr">dtype</span>=torch.float16,
)


<span class="hljs-comment"># å…‹éš†å£°éŸ³</span>
wavs, <span class="hljs-attr">sr</span> = model.generate_voice_clone(
Â  Â  <span class="hljs-attr">text</span>=<span class="hljs-string">"ä»Šå¤©å¤©æ°”ä¸é”™ï¼Œé€‚åˆå‡ºå»èµ°èµ°ã€‚"</span>,
Â  Â  <span class="hljs-attr">language</span>=<span class="hljs-string">"Chinese"</span>,
Â  Â  <span class="hljs-attr">ref_audio</span>=<span class="hljs-string">"my_voice.wav"</span>,Â  Â  Â  <span class="hljs-comment"># ä½ çš„å‚è€ƒéŸ³é¢‘</span>
Â  Â  <span class="hljs-attr">ref_text</span>=<span class="hljs-string">"è¿™æ˜¯å‚è€ƒéŸ³é¢‘çš„æ–‡å­—å†…å®¹ã€‚"</span>,Â  <span class="hljs-comment"># å‚è€ƒéŸ³é¢‘è¯´äº†ä»€ä¹ˆ</span>
)


sf.write("output.wav", wavs<span class="hljs-section">[0]</span>, sr)
</code></pre>
<p>æˆ‘æ‹¿è‡ªå·±å½•çš„ä¸€æ®µ 5 ç§’éŸ³é¢‘è¯•äº†è¯•ï¼Œæ•ˆæœå‡ºä¹æ„æ–™ã€‚éŸ³è‰²è¿˜åŸåº¦å¾ˆé«˜ï¼Œè¿æˆ‘è¯´è¯æ—¶ä¹ æƒ¯æ€§çš„å°¾éŸ³æ‹–é•¿éƒ½å­¦åˆ°äº†ã€‚æƒ³æ•ˆæœæ›´å¥½çš„è¯å¯ä»¥æ¢ 1.7Bï¼Œä»£ä»·æ˜¯æ˜¾å­˜å ç”¨ç¿»å€ã€‚</p>
<p>æœ‰ä¸ªå‘ï¼š<code>ref_text</code> å‚æ•°æ˜¯å¿…é¡»çš„ï¼Œä½ å¾—å‘Šè¯‰æ¨¡å‹å‚è€ƒéŸ³é¢‘é‡Œè¯´äº†ä»€ä¹ˆã€‚æ‡’å¾—å†™çš„è¯å¯ä»¥å¼€ <code>x_vector_only_mode</code>ï¼Œåªç”¨éŸ³è‰²ç‰¹å¾ä¸çœ‹æ–‡æœ¬ï¼Œä½†éŸ³è´¨ä¼šæ‰“æŠ˜æ‰£ã€‚</p>
<h2 data-id="heading-3">å°è£…æˆ Claude Code Skill</h2>
<p>ä¸Šé¢è¯´çš„éƒ½æ˜¯å®˜æ–¹ç©æ³•ï¼Œæ¥ä¸‹æ¥æ˜¯æˆ‘è‡ªå·±æŠ˜è…¾å‡ºæ¥çš„éªšæ“ä½œã€‚</p>
<p>æ—¢ç„¶ Qwen3-TTS å¯ä»¥æœ¬åœ°è¿è¡Œï¼Œé‚£èƒ½ä¸èƒ½å°è£…æˆä¸€ä¸ªæœåŠ¡ï¼Œéšæ—¶è°ƒç”¨ï¼Ÿæ›´è¿›ä¸€æ­¥ï¼Œèƒ½ä¸èƒ½åšæˆ Claude Code çš„ Skillï¼Œè®© AI åŠ©æ‰‹ç›´æ¥å¸®æˆ‘æŠŠæ–‡å­—è½¬æˆè¯­éŸ³ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯å¯ä»¥çš„ã€‚è€Œä¸”ä¸€æ—¦é…å¥½ï¼Œå°±ç›¸å½“äºæœ‰äº†ä¸€ä¸ª<strong>æ— é™å…è´¹çš„ç§äºº TTS æœåŠ¡</strong>ã€‚</p>
<h3 data-id="heading-4">ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Ÿ</h3>
<p>æ¯æ¬¡ç”¨ TTS éƒ½è¦æ‰‹åŠ¨è·‘ Python è„šæœ¬ï¼Œéº»çƒ¦ã€‚å°è£…æˆ Skill ä¹‹åï¼Œç›´æ¥åœ¨ Claude Code é‡Œæ•² <code>/qwen-tts ä»Šå¤©å¤©æ°”ä¸é”™</code>ï¼ŒAI å°±èƒ½å¸®ä½ ç”Ÿæˆè¯­éŸ³æ–‡ä»¶ã€‚å†™æ–‡ç« çš„æ—¶å€™æƒ³å¬å¬è¯»èµ·æ¥é¡ºä¸é¡ºå£ï¼Ÿä¸€å¥å‘½ä»¤æå®šã€‚æœ‰éœ€è¦çš„ç”¨æˆ·å¯ä»¥ç•™è¨€,æˆ‘å¯ä»¥å°†è‡ªå·±çš„åˆ†äº«åˆ°githubä¸Š!</p>
<blockquote>
<p>åœ°å€æ¥å•¦:Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fwangwangit%2Fqwen3-tts" target="_blank" title="https://github.com/wangwangit/qwen3-tts" ref="nofollow noopener noreferrer">github.com/wangwangit/â€¦</a></p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6489d424813b4738b4ccf6383b208498~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Y-q5Lya6aOe55qE5pe65pe6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086752&amp;x-signature=qA2HWgk4I0WYdCD87N%2F4VUmcNtA%3D" alt="image-20260126193850005" loading="lazy"/></p>
<p>ç„¶åä¿®æ”¹ Skillï¼Œè®©å®ƒè°ƒç”¨è¿™ä¸ª API è€Œä¸æ˜¯æ¯æ¬¡éƒ½åŠ è½½æ¨¡å‹ã€‚è¿™æ ·å“åº”é€Ÿåº¦èƒ½ä»åå‡ ç§’ç¼©çŸ­åˆ°ä¸€ä¸¤ç§’ã€‚</p>
<h2 data-id="heading-5">é€‚åˆä»€ä¹ˆäººç”¨ï¼Ÿ</h2>
<ul>
<li><strong>å†…å®¹åˆ›ä½œè€…</strong>ï¼šå†™å…¬ä¼—å·ã€åšè§†é¢‘ï¼Œéœ€è¦é…éŸ³ä½†ä¸æƒ³èŠ±é’±</li>
<li><strong>å¼€å‘è€…</strong>ï¼šæƒ³åœ¨è‡ªå·±çš„åº”ç”¨é‡ŒåŠ å…¥è¯­éŸ³åŠŸèƒ½ï¼Œä¸æƒ³è¢« API è´¦å•å“åˆ°</li>
<li><strong>æŠ˜è…¾å…š</strong>ï¼šå°±æ˜¯æƒ³åœ¨æœ¬åœ°è·‘ä¸ª AI ç©ç©ï¼Œä¸éœ€è¦ç†ç”±</li>
</ul>
<p>å¦‚æœä½ è¿½æ±‚æè‡´éŸ³è´¨ï¼Œæ„¿æ„ç­‰æ›´é•¿çš„ç”Ÿæˆæ—¶é—´ï¼Œå¯ä»¥æ¢æˆ 1.7B æ¨¡å‹ã€‚å¦‚æœä½ çš„ç”µè„‘é…ç½®ä¸€èˆ¬ï¼Œæˆ–è€…æ›´çœ‹é‡å“åº”é€Ÿåº¦ï¼Œ0.6B æ˜¯æ›´å®é™…çš„é€‰æ‹©ã€‚</p>
<h2 data-id="heading-6">æœ€å</h2>
<p>é˜¿é‡Œè¿™æ¬¡å¼€æºçš„ Qwen3-TTSï¼Œç»™äº†æˆ‘ä¸€ç‚¹æƒŠå–œã€‚0.6B è¿™ä¸ªå°ºå¯¸ï¼Œåœ¨ä¿æŒå¯ç”¨æ€§çš„å‰æä¸‹ï¼ŒæŠŠç¡¬ä»¶é—¨æ§›æ‹‰åˆ°äº†æ™®é€šç”¨æˆ·èƒ½æ¥å—çš„æ°´å¹³ã€‚å£°éŸ³å…‹éš†ä¸å†æ˜¯äº‘ç«¯å¤§å‚çš„ä¸“åˆ©ï¼Œä¸€å°æ™®é€šç”µè„‘å°±èƒ½ç©ã€‚</p>
<p>æ›´é‡è¦çš„æ˜¯ï¼Œå®ƒæ˜¯ Apache 2.0 åè®®ï¼Œå•†ç”¨ä¹Ÿæ²¡é—®é¢˜ã€‚</p>
<p>GitHub åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FQwenLM%2FQwen3-TTS" target="_blank" title="https://github.com/QwenLM/Qwen3-TTS" ref="nofollow noopener noreferrer">github.com/QwenLM/Qwenâ€¦</a></p>
<p>Hugging Face åœ¨çº¿ä½“éªŒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2Fspaces%2FQwen%2FQwen3-TTS" target="_blank" title="https://huggingface.co/spaces/Qwen/Qwen3-TTS" ref="nofollow noopener noreferrer">huggingface.co/spaces/Qwenâ€¦</a></p>
<p>æœ‰å…´è¶£çš„è¯ï¼Œå»è¯•è¯•ç”¨è‡ªå·±çš„å£°éŸ³åšä¸€ä¸ª AI åˆ†èº«ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fb8390d8faf44ac9fdc7dbdc540b06f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Y-q5Lya6aOe55qE5pe65pe6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770086752&amp;x-signature=hSTgTmOfFn7NFiA9msg8MYfnlu0%3D" alt="image-20260126194126468" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§£é”æ˜‡è…¾ç®—åŠ›ï¼šè‡ªå®šä¹‰è®­ç»ƒå¾ªç¯ä¸å›¾æ¨¡å¼åŠ é€ŸæŒ‡å—]]></title>    <link>https://juejin.cn/post/7599580550296567843</link>    <guid>https://juejin.cn/post/7599580550296567843</guid>    <pubDate>2026-01-27T02:51:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599580550296567843" data-draft-id="7599600549764431907" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è§£é”æ˜‡è…¾ç®—åŠ›ï¼šè‡ªå®šä¹‰è®­ç»ƒå¾ªç¯ä¸å›¾æ¨¡å¼åŠ é€ŸæŒ‡å—"/> <meta itemprop="keywords" content="åç«¯,ç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-27T02:51:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·867573478982"/> <meta itemprop="url" content="https://juejin.cn/user/924064924829272"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è§£é”æ˜‡è…¾ç®—åŠ›ï¼šè‡ªå®šä¹‰è®­ç»ƒå¾ªç¯ä¸å›¾æ¨¡å¼åŠ é€ŸæŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/924064924829272/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·867573478982
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T02:51:15.000Z" title="Tue Jan 27 2026 02:51:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<h3 data-id="heading-0">å‰è¨€</h3>
<p>åœ¨æ·±åº¦å­¦ä¹ çš„ç§‘ç ”ä¸å·¥ç¨‹è½åœ°ä¸­ï¼Œæˆ‘ä»¬æ—¢éœ€è¦PyTorchå¼çš„çµæ´»æ€§ï¼ˆåŠ¨æ€å›¾è°ƒè¯•ï¼‰ï¼Œåˆæ¸´æœ›TensorFlowå¼çš„æè‡´æ€§èƒ½ï¼ˆé™æ€å›¾éƒ¨ç½²ï¼‰ã€‚MindSporeä½œä¸ºå…¨åœºæ™¯AIæ¡†æ¶ï¼Œé€šè¿‡PyNativeæ¨¡å¼å’ŒGraphæ¨¡å¼çš„æ— ç¼åˆ‡æ¢è§£å†³äº†è¿™ä¸€ç—›ç‚¹ã€‚</p>
<p>ä½†åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¾ˆå¤šä»å…¶ä»–æ¡†æ¶è½¬æ¥çš„å¼€å‘è€…åœ¨ä½¿ç”¨MindSporeè¿›è¡Œè‡ªå®šä¹‰è®­ç»ƒå¾ªç¯ï¼ˆCustom Training Loopï¼‰æ—¶ï¼Œå¾€å¾€å› ä¸ºæ²¡æœ‰æ­£ç¡®åˆ©ç”¨JITç¼–è¯‘å’Œå‡½æ•°å¼å˜æ¢ï¼Œå¯¼è‡´æ— æ³•å®Œå…¨é‡Šæ”¾æ˜‡è…¾NPUçš„ç®—åŠ›ã€‚</p>
<p>æœ¬æ–‡å°†æ‘’å¼ƒç¹ççš„ç†è®ºï¼Œç›´æ¥é€šè¿‡ä»£ç å®æˆ˜ï¼Œå¸¦ä½ æ„å»ºä¸€ä¸ªé«˜æ•ˆã€å¯å¾®åˆ†ã€è¿è¡Œåœ¨Graphæ¨¡å¼ä¸‹çš„è‡ªå®šä¹‰è®­ç»ƒæµç¨‹ã€‚</p>
<h3 data-id="heading-1">æ ¸å¿ƒæ¦‚å¿µï¼šä¸ºä½•éœ€è¦ value_and_gradå’Œ @jit</h3>
<p>åœ¨MindSporeä¸­ï¼Œè‡ªåŠ¨å¾®åˆ†é‡‡ç”¨çš„æ˜¯åŸºäºæºç è½¬æ¢ï¼ˆSource Code Transformation, SCTï¼‰çš„æœºåˆ¶ã€‚ä¸PyTorchçš„<code>.backward()</code>ç´¯ç§¯æ¢¯åº¦ä¸åŒï¼ŒMindSporeæ›´æ¨å´‡å‡½æ•°å¼ç¼–ç¨‹ã€‚</p>
<ol>
<li>**<code>ops.value_and_grad</code>**ï¼šåŒæ—¶è®¡ç®—æ­£å‘ç½‘ç»œçš„è¾“å‡ºï¼ˆLossï¼‰å’Œå…³äºæƒé‡çš„æ¢¯åº¦ã€‚è¿™æ˜¯ç¼–å†™è‡ªå®šä¹‰è®­ç»ƒæ­¥çš„æ ¸å¿ƒã€‚</li>
<li>**<code>@jit</code>(åŸ <code>@ms_function</code>)**ï¼šè¿™æ˜¯æ€§èƒ½çš„å…³é”®ã€‚å®ƒå°†Pythonå‡½æ•°ç¼–è¯‘æˆé™æ€è®¡ç®—å›¾ï¼Œå¹¶ä¸‹æ²‰åˆ°AscendèŠ¯ç‰‡ä¸Šè¿è¡Œï¼Œå¤§å¹…å‡å°‘Host-Deviceäº¤äº’å¼€é”€ã€‚</li>
</ol>
<h3 data-id="heading-2">å®æˆ˜æ¼”ç»ƒï¼šæ„å»ºé«˜æ•ˆè®­ç»ƒæ­¥</h3>
<p>å‡è®¾æˆ‘ä»¬å·²ç»å®šä¹‰å¥½äº†ä¸€ä¸ªç®€å•çš„ç½‘ç»œï¼ˆNetï¼‰å’Œæ•°æ®é›†ï¼ˆDatasetï¼‰ã€‚æˆ‘ä»¬å°†é‡ç‚¹æ”¾åœ¨å¦‚ä½•æ‰‹å†™ä¸€ä¸ªé«˜æ€§èƒ½çš„è®­ç»ƒæ­¥éª¤ï¼ˆTrain Stepï¼‰ã€‚</p>
<h4 data-id="heading-3">1. ç¯å¢ƒå‡†å¤‡ä¸åŸºç¡€å®šä¹‰</h4>
<p>é¦–å…ˆï¼Œç¡®ä¿ä¸Šä¸‹æ–‡ç¯å¢ƒæŒ‡å‘Ascendï¼Œå¹¶å®šä¹‰å¥½ç½‘ç»œä¸æŸå¤±å‡½æ•°ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> mindspore <span class="hljs-keyword">as</span> ms
<span class="hljs-keyword">from</span> mindspore <span class="hljs-keyword">import</span> nn, ops, Tensor
<span class="hljs-keyword">from</span> mindspore <span class="hljs-keyword">import</span> dtype <span class="hljs-keyword">as</span> mstype

<span class="hljs-comment"># è®¾ç½®è¿è¡Œç¯å¢ƒä¸ºæ˜‡è…¾NPUï¼Œæ¨¡å¼ä¸ºPyNativeä»¥ä¾¿äºè°ƒè¯•ï¼Œæœ€åæˆ‘ä»¬ä¼šé€šè¿‡è£…é¥°å™¨åŠ é€Ÿ</span>
ms.set_context(mode=ms.PYNATIVE_MODE, device_target=<span class="hljs-string">"Ascend"</span>)

<span class="hljs-comment"># æ¨¡æ‹Ÿä¸€ä¸ªç®€å•çš„çº¿æ€§ç½‘ç»œ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SimpleNet</span>(nn.Cell):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-built_in">super</span>(SimpleNet, self).__init__()
        self.fc = nn.Dense(<span class="hljs-number">10</span>, <span class="hljs-number">1</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">construct</span>(<span class="hljs-params">self, x</span>):
        <span class="hljs-keyword">return</span> self.fc(x)

<span class="hljs-comment"># åˆå§‹åŒ–</span>
net = SimpleNet()
loss_fn = nn.MSELoss()
optimizer = nn.Momentum(net.trainable_params(), learning_rate=<span class="hljs-number">0.01</span>, momentum=<span class="hljs-number">0.9</span>)
</code></pre>
<p><img alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" src="" loading="lazy"/></p>
<h4 data-id="heading-4">2. å®šä¹‰å‰å‘è®¡ç®—å‡½æ•°</h4>
<p>åœ¨MindSporeçš„å‡½æ•°å¼å¾®åˆ†ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªçº¯ç²¹çš„å‰å‘è®¡ç®—å‡½æ•°ï¼Œè¯¥å‡½æ•°è¾“å…¥æ•°æ®å’Œæ ‡ç­¾ï¼Œè¾“å‡ºLossã€‚</p>
<pre><code class="hljs language-ini" lang="ini">def forward_fn(data, label):
    <span class="hljs-comment"># å‰å‘è®¡ç®—</span>
    <span class="hljs-attr">logits</span> = net(data)
    <span class="hljs-comment"># è®¡ç®—æŸå¤±</span>
    <span class="hljs-attr">loss</span> = loss_fn(logits, label)
    return loss, logits
</code></pre>
<p><img alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" src="" loading="lazy"/></p>
<h4 data-id="heading-5">3. è·å–æ¢¯åº¦è®¡ç®—å‡½æ•°</h4>
<p>è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ã€‚æˆ‘ä»¬ä½¿ç”¨ <code>ops.value_and_grad</code>æ¥ç”Ÿæˆä¸€ä¸ªå¯ä»¥è®¡ç®—æ¢¯åº¦çš„å‡½æ•°ã€‚</p>
<ul>
<li>
<p><code>fn</code>: æŒ‡å®šå‰å‘å‡½æ•°ã€‚</p>
</li>
<li>
<p><code>grad_position</code>: æŒ‡å®šå¯¹å“ªäº›è¾“å…¥æ±‚å¯¼ï¼ˆè¿™é‡Œè®¾ä¸ºNoneï¼Œå› ä¸ºæˆ‘ä»¬åªå¯¹æƒé‡æ±‚å¯¼ï¼‰ã€‚</p>
</li>
<li>
<p><code>weights</code>: æŒ‡å®šéœ€è¦æ›´æ–°çš„æƒé‡å‚æ•°ï¼ˆå³ç½‘ç»œçš„ <code>trainable_params</code>ï¼‰ã€‚</p>
</li>
<li>
<p><code>has_aux</code>: å¦‚æœ <code>forward_fn</code>è¿”å›é™¤losså¤–çš„å…¶ä»–è¾“å‡ºï¼ˆå¦‚ä¸Šé¢çš„logitsï¼‰ï¼Œéœ€è®¾ä¸ºTrueã€‚</p>
<h2 data-id="heading-6">å®šä¹‰æ¢¯åº¦å˜æ¢å‡½æ•°</h2>
<p>grad_fn = ops.value_and_grad(forward_fn, None, optimizer.parameters, has_aux=True)</p>
</li>
</ul>
<p><img alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" src="" loading="lazy"/></p>
<h4 data-id="heading-7">4. å°è£…è®­ç»ƒæ­¥å¹¶å¼€å¯å›¾æ¨¡å¼åŠ é€Ÿ</h4>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å°†å‰å‘è®¡ç®—ã€æ¢¯åº¦è®¡ç®—ã€ä¼˜åŒ–å™¨æ›´æ–°å°è£…åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ã€‚ä¸ºäº†åœ¨Ascend NPUä¸Šè·å¾—æœ€ä½³æ€§èƒ½ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨è¯¥å‡½æ•°ä¸Šæ·»åŠ  <code>@jit</code>è£…é¥°å™¨ã€‚</p>
<p>è¿™ä¸ªè£…é¥°å™¨ä¼šè§¦å‘MindSporeçš„ç¼–è¯‘å™¨ï¼Œå°†Pythonä»£ç ç¼–è¯‘æˆå¯ä»¥åœ¨CANNå±‚é«˜æ•ˆæ‰§è¡Œçš„é™æ€å›¾ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">@ms.jit  <span class="hljs-comment"># &lt;--- æ ¸å¿ƒï¼šå¼€å¯å›¾æ¨¡å¼åŠ é€Ÿï¼Œç®—å­ä¸‹æ²‰</span>
def train_step(data, label):
    <span class="hljs-comment"># 1. è®¡ç®—Losså’Œæ¢¯åº¦</span>
    (loss, _), <span class="hljs-attr">grads</span> = grad_fn(data, label)
  
    <span class="hljs-comment"># 2. ä¼˜åŒ–å™¨æ›´æ–°æƒé‡</span>
    <span class="hljs-comment"># æ³¨æ„ï¼šåœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­ï¼Œä¼˜åŒ–å™¨é€šå¸¸ä½œä¸ºç®—å­ä½¿ç”¨</span>
    <span class="hljs-attr">loss</span> = ops.depend(loss, optimizer(grads))
  
    return loss
</code></pre>
<p><img alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" src="" loading="lazy"/></p>
<blockquote>
<p>æŠ€æœ¯TIPSï¼š<code>ops.depend</code>æ˜¯ä¸€ä¸ªæ§åˆ¶ä¾èµ–å…³ç³»çš„ç®—å­ã€‚å®ƒä¿è¯äº†åœ¨è¿”å› <code>loss</code>ä¹‹å‰ï¼Œ<code>optimizer(grads)</code>è¿™ä¸€æ­¥æ“ä½œä¸€å®šå·²ç»è¢«æ‰§è¡Œã€‚è¿™åœ¨é™æ€å›¾ä¼˜åŒ–ä¸­éå¸¸é‡è¦ï¼Œé˜²æ­¢ç¼–è¯‘å™¨å› ä¸ºâ€œè¾“å‡ºä¸ä¾èµ–äºæ›´æ–°æ“ä½œâ€è€Œå°†æ›´æ–°æ­¥éª¤ä¼˜åŒ–æ‰ã€‚</p>
</blockquote>
<h4 data-id="heading-8">5. å®Œæ•´çš„è®­ç»ƒå¾ªç¯</h4>
<p>æœ€åï¼Œæˆ‘ä»¬æ¨¡æ‹Ÿæ•°æ®è¾“å…¥ï¼Œè¿è¡Œè®­ç»ƒå¾ªç¯ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">import numpy as np

# æ¨¡æ‹Ÿæ•°æ®
def <span class="hljs-built_in">get_batch_data</span>():
    x = <span class="hljs-built_in">Tensor</span>(np.random.<span class="hljs-built_in">randn</span>(<span class="hljs-number">32</span>, <span class="hljs-number">10</span>).<span class="hljs-built_in">astype</span>(np.float32))
    y = <span class="hljs-built_in">Tensor</span>(np.random.<span class="hljs-built_in">randn</span>(<span class="hljs-number">32</span>, <span class="hljs-number">1</span>).<span class="hljs-built_in">astype</span>(np.float32))
    return x, y

# å¼€å§‹è®­ç»ƒ
epochs = <span class="hljs-number">5</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Start training on Ascend..."</span>)

for epoch in <span class="hljs-built_in">range</span>(epochs):
    x, y = <span class="hljs-built_in">get_batch_data</span>()
  
    # æ‰§è¡Œç¼–è¯‘åçš„é™æ€å›¾è®­ç»ƒæ­¥
    loss = <span class="hljs-built_in">train_step</span>(x, y)
  
    <span class="hljs-built_in">print</span>(f<span class="hljs-string">"Epoch: {epoch+1}, Loss: {loss.asnumpy()}"</span>)
</code></pre>
<p><img alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" src="" loading="lazy"/></p>
<h3 data-id="heading-9">è¿›é˜¶ï¼šé™æ€å›¾æ¨¡å¼ä¸‹çš„é¿å‘æŒ‡å—</h3>
<p>è™½ç„¶ <code>@jit</code>èƒ½å¸¦æ¥å·¨å¤§çš„æ€§èƒ½æå‡ï¼Œä½†å®ƒå¯¹Pythonè¯­æ³•çš„æ”¯æŒæ˜¯æœ‰ä¸€å®šé™åˆ¶çš„ï¼ˆå› ä¸ºå®ƒéœ€è¦å°†Pythonè½¬è¯‘ä¸ºä¸­é—´è¡¨è¾¾IRï¼‰ã€‚åœ¨æ˜‡è…¾ä¸Šå¼€å‘æ—¶ï¼Œè¯·æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li>é¿å…ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“çš„éšæœºå‡½æ•°ï¼šåœ¨ <code>@jit</code>ä¿®é¥°çš„å‡½æ•°å†…éƒ¨ï¼Œå°½é‡ä½¿ç”¨ <code>mindspore.ops</code>ä¸­çš„ç®—å­ï¼Œé¿å…ä½¿ç”¨ <code>numpy</code>æˆ– <code>random</code>ç­‰åº“çš„æ“ä½œï¼Œå› ä¸ºè¿™äº›æ“ä½œæ— æ³•è¢«ç¼–è¯‘è¿›å›¾ï¼Œä¼šå¯¼è‡´å›é€€åˆ°Hostç«¯æ‰§è¡Œï¼Œé˜»æ–­æµæ°´çº¿ã€‚</li>
<li>æ§åˆ¶æµçš„é™åˆ¶ï¼šè™½ç„¶MindSporeæ”¯æŒæ§åˆ¶æµï¼Œä½†è¿‡äºå¤æ‚çš„åŠ¨æ€æ¡ä»¶åˆ¤æ–­ï¼ˆä¾èµ–äºTensorå€¼çš„if/elseï¼‰å¯èƒ½ä¼šå¯¼è‡´å›¾ç¼–è¯‘å˜æ…¢ã€‚å°½é‡å°†é€»è¾‘å‘é‡åŒ–ã€‚</li>
<li>æ‰“å°è°ƒè¯•ï¼šåœ¨å›¾æ¨¡å¼ä¸‹ï¼Œç›´æ¥ <code>print(tensor)</code>å¯èƒ½æ— æ³•æŒ‰é¢„æœŸæ‰“å°æ¯ä¸€æ­¥çš„å€¼ã€‚å¦‚æœéœ€è¦è°ƒè¯•ï¼Œå¯ä»¥ä½¿ç”¨ <code>ops.Print()</code>ç®—å­ã€‚</li>
<li>Side Effectsï¼ˆå‰¯ä½œç”¨ï¼‰ï¼šå¦‚æœä½ çš„å‡½æ•°ä¿®æ”¹äº†å…¨å±€å˜é‡æˆ–åˆ—è¡¨ï¼Œè¿™ç§å‰¯ä½œç”¨åœ¨å›¾ç¼–è¯‘ä¸­å¯èƒ½ä¸ä¼šç”Ÿæ•ˆã€‚è¯·åšæŒå‡½æ•°å¼çš„å†™æ³•ï¼šè¾“å…¥ -&gt; è®¡ç®— -&gt; è¿”å›ã€‚</li>
</ol>
<h3 data-id="heading-10">æ€»ç»“</h3>
<p>åœ¨æ˜‡è…¾ç¤¾åŒºè¿›è¡ŒMindSporeå¼€å‘æ—¶ï¼ŒæŒæ¡ <code>ops.value_and_grad</code>é…åˆ <code>@jit</code>æ˜¯ä»å…¥é—¨èµ°å‘è¿›é˜¶çš„åˆ†æ°´å²­ã€‚</p>
<ul>
<li>PyNativeæ¨¡å¼ï¼šé€‚åˆè°ƒè¯•ç½‘ç»œç»“æ„ã€éªŒè¯é€»è¾‘ã€‚</li>
<li>Graphæ¨¡å¼ï¼ˆ<code>@jit</code>ï¼‰ï¼šé€‚åˆç”Ÿäº§ç¯å¢ƒã€å¤§è§„æ¨¡è®­ç»ƒï¼Œèƒ½å……åˆ†åˆ©ç”¨Ascend 910/310çš„å¼‚æ„è®¡ç®—èƒ½åŠ›ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ClawdBotå‚»ç“œå¼ä½¿ç”¨æ–¹æ³•:æ‰‹æŠŠæ‰‹æ•™ä½ éƒ¨ç½²7Ã—24æ›¿ä½ ç”¨ç”µè„‘å¹²æ´»çš„ClawdBot]]></title>    <link>https://juejin.cn/post/7599483314161860627</link>    <guid>https://juejin.cn/post/7599483314161860627</guid>    <pubDate>2026-01-27T02:20:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599483314161860627" data-draft-id="7599502282603053119" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ClawdBotå‚»ç“œå¼ä½¿ç”¨æ–¹æ³•:æ‰‹æŠŠæ‰‹æ•™ä½ éƒ¨ç½²7Ã—24æ›¿ä½ ç”¨ç”µè„‘å¹²æ´»çš„ClawdBot"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2026-01-27T02:20:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çˆ±åƒçš„å°è‚¥ç¾Š"/> <meta itemprop="url" content="https://juejin.cn/user/2637045249608064"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ClawdBotå‚»ç“œå¼ä½¿ç”¨æ–¹æ³•:æ‰‹æŠŠæ‰‹æ•™ä½ éƒ¨ç½²7Ã—24æ›¿ä½ ç”¨ç”µè„‘å¹²æ´»çš„ClawdBot
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2637045249608064/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çˆ±åƒçš„å°è‚¥ç¾Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T02:20:28.000Z" title="Tue Jan 27 2026 02:20:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨åˆšåˆšè¿‡å»çš„è¿™ä¸ªå‘¨æœ«ï¼Œæ•´ä¸ªç¤¾äº¤åª’ä½“éƒ½è¢«ClawdBotåˆ·å±äº†ï¼Œåƒç—…æ¯’ä¸€æ ·ç–¯ç‹‚ä¼ æ’­å¼€æ¥ï¼Œé“ºå¤©ç›–åœ°ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d30e14a8e3d54d939cc1f4cb1b406ea1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770085231&amp;x-signature=uctYFOsfgjEJrSOGKegoqn2AsuI%3D" alt="" loading="lazy"/></p>
<p>ä»Redditåˆ°Twitterï¼Œä»Discordçš„techç¤¾ç¾¤åˆ°å¾®åšçš„AIè¯é¢˜ï¼Œå…¨æ˜¯å…³äºå®ƒçš„è®¨è®ºï¼Œæœ‰äººè¯´ç”¨ä¸Šå®ƒå°±åƒæœ‰äº†"å¯é•¿æœŸæŒç»­è¿è¡Œçš„AIåŠ©æ‰‹"ã€‚</p>
<p>Creator Buddyåˆ›å§‹äººå…¼CEO Alex Finnä¹Ÿç››èµé“ï¼šè¿™å°±æ˜¯Claude å¸Œæœ› Claude Cowork å‘ˆç°çš„æ ·å­ã€‚</p>
<p>ç½‘çº¢äº§å“è§è¿‡ä¸å°‘ï¼Œä½†è¿™ä¸€æ¬¡æˆ–è®¸çœŸçš„ä¸åŒã€‚</p>
<p>æœ‰ç¡…è°·åšä¸»ç§°å…¶ä¸ºï¼Œ<strong>è¿„ä»Šä¸ºæ­¢æœ€ä¼Ÿå¤§çš„ AI åº”ç”¨ã€‚</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02afc48f47e74188b62b0df260cd93ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770085231&amp;x-signature=xW6ryOeAUCATvL6HnZKR3tmnN40%3D" alt="" loading="lazy"/></p>
<p><strong>å¾ˆå¤šäººçœ‹äº†å¾ˆå¤šæ–‡ç« å’Œè§†é¢‘ï¼Œè¿˜æ˜¯æä¸æ‡‚Clawdbotæ˜¯ä»€ä¹ˆï¼Ÿè¿™é‡Œç»™å¤§å®¶ç®€å•ä»‹ç»ä¸€ä¸‹ã€‚</strong></p>
<p>å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè¿è¡Œåœ¨ä½ è‡ªå·±çš„ç”µè„‘æˆ–æœåŠ¡å™¨ä¸Šçš„ä¸ªäººäººå·¥æ™ºèƒ½åŠ©æ‰‹ï¼Œä½ å¯ä»¥ç”¨å®ƒä¸å³æ—¶é€šè®¯åº”ç”¨è¿›è¡Œé€šä¿¡ï¼Œå¤„ç†å„ç§ä»»åŠ¡ã€‚</p>
<p>æˆ‘ä»¬å¹³æ—¶ç”¨çš„ChatGPTæˆ–Claudeï¼Œå“ªæ€•å†èªæ˜ï¼Œä¹Ÿåªèƒ½ç»™ä½ å‡ºä¸»æ„ï¼Œæ²¡æ³•æ›¿ä½ å¹²æ´»ã€‚</p>
<p>ä½†Clawdbotä¸ä¸€æ ·ï¼Œ<strong>å®ƒæ˜¯ä¸€ä¸ªè¿è¡Œåœ¨ä½ æœ¬åœ°ç”µè„‘ä¸Šçš„AI Agentï¼ˆæ™ºèƒ½ä½“ï¼‰ï¼Œèƒ½å¸®ä½ å®ç°çœŸæ­£æ„ä¹‰ä¸Šçš„å¹²æ´»ã€‚</strong></p>
<p>ç»™å¤§å®¶ä¸¾å‡ ä¸ªä¾‹å­å°±æ˜ç™½äº†ã€‚</p>
<p>æœ‰ç½‘å‹è®©ClawdBotå®šæœŸæé†’ä»–ï¼Œè¿˜è‡ªåŠ¨å‘å¸ƒæ¨ç‰¹å†…å®¹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4aed7504624944be95eb151dc02ac5ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770085231&amp;x-signature=o5qz0eNY3%2BEpQ9W57eEDzPyd%2Fn0%3D" alt="" loading="lazy"/></p>
<p>è¿˜æœ‰ä¸€ä½å¤§ä½¬ä½¿ç”¨Clawbotåšå„ç§å„æ ·çš„åŠŸèƒ½ï¼Œæ¯”å¦‚æŸ¥çœ‹é‚®ç®±å¹¶åˆ é™¤åƒåœ¾é‚®ç®±ï¼Œè®¢è´­ä¸œè¥¿ç­‰ç­‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9592581d228f40fb8bbfc6df42e654dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770085231&amp;x-signature=buVEsII%2BXoEnPdZquGhYGaWDyVU%3D" alt="" loading="lazy"/></p>
<p>ç”šè‡³è¿˜æœ‰äººå¤§èƒ†åœ°ç”¨ClawdBotè¿›è¡Œç‚’è‚¡æ“ä½œï¼Œå®Œå…¨æ˜¯æŠŠå®ƒå½“æˆä¸€ä¸ªä¸çŸ¥ç–²å€¦çš„åŠ©æ‰‹ã€‚</p>
<p>è¿™äº›åœºæ™¯èƒ½å®ç°ï¼Œé çš„å°±æ˜¯ClawdBotçš„è¿™å‡ ä¸ªæ ¸å¿ƒèƒ½åŠ›ï¼š</p>
<ul>
<li><strong>æ¥ç®¡ç”µè„‘ï¼š</strong> æ•´ç†æ–‡ä»¶ã€å‘é‚®ä»¶ã€å†™ä»£ç ã€ä¿®Bugã€è·‘è„šæœ¬ã€ç”šè‡³ç›‘æ§ç½‘é¡µä»·æ ¼ï¼Œå®ƒéƒ½èƒ½ç›´æ¥ä¸Šæ‰‹æ“ä½œã€‚</li>
<li><strong>å…¨å¹³å°æ“æ§ï¼š</strong> å¯ä»¥æ§åˆ¶ WhatsAppã€Telegram ç”šè‡³ iMessage å‘ä¸ªæŒ‡ä»¤ï¼Œå®¶é‡Œçš„ç”µè„‘å°±å¼€å§‹å¹²æ´»äº†ã€‚</li>
<li><strong>æ°¸ä¹…è®°å¿†ï¼š</strong> æ— è®ºæ˜¯å¤šä¹…çš„è®°å¿†ï¼Œå®ƒéƒ½èƒ½è®°ä½ã€‚</li>
<li><strong>è‡ªæˆ‘è¿›åŒ–ï¼š</strong> ä¸¢ç»™å®ƒä¸€ä¸ªæ–°çš„APIæ–‡æ¡£ï¼Œå®ƒèƒ½è‡ªå·±å†™ä»£ç å­¦ä¼šæ–°æŠ€èƒ½ï¼Œæˆ–è€…ç›´æ¥å†™Skillã€‚</li>
<li><strong>æ‹¥æœ‰å®Œæ•´çš„ç³»ç»Ÿè®¿é—®æƒé™ï¼š</strong> å¯ä»¥æ‰§è¡Œç»ˆç«¯å‘½ä»¤ã€ç¼–å†™è„šæœ¬ã€å®‰è£…æŠ€èƒ½</li>
<li><strong>æ”¯æŒä»»æ„æ¨¡å‹ï¼š</strong> å¯ä½¿ç”¨ä»»ä½• LLM æä¾›å•†ï¼ˆClaudeã€GPTã€Geminiã€DeepSeekã€Perplexityï¼‰</li>
</ul>
<p>é‚£è¦å¦‚ä½•ä½¿ç”¨è¿™ä¸ªç°è±¡çº§çš„äº§å“å‘¢ï¼Ÿ</p>
<p>é¦–å…ˆï¼Œè¿›å…¥Clawdbotçš„å®˜ç½‘ã€‚</p>
<p>ä¼ é€é—¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fclawd.bot%2F" target="_blank" title="https://clawd.bot/" ref="nofollow noopener noreferrer">clawd.bot/</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/04002bd2b52840e4ab4822257ecf4e9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770085231&amp;x-signature=D7gmwLN7zvfIUk3m482DzuJ1pic%3D" alt="" loading="lazy"/></p>
<p>é‡Œé¢æœ‰éœ€è¦çš„å®‰è£…å‘½ä»¤è¡Œï¼Œè¿™é‡Œä»¥è‹¹æœç”µè„‘ä¸ºä¾‹ã€‚</p>
<p>ç„¶åï¼Œæ‰“å¼€ä½ çš„ç»ˆç«¯ï¼ˆTerminalï¼‰ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤æŠŠé¡¹ç›®å…‹éš†ä¸‹æ¥ï¼Œ</p>
<p>è„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†å¤§éƒ¨åˆ†äº‹æƒ…ï¼Œä½ åªéœ€è¦è·Ÿç€æç¤ºèµ°å°±è¡Œã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">
curl -fsSL https:<span class="hljs-comment">//clawd.bot/install.sh | bash</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd9cb5e950ca42228c3c74596284ff1d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770085231&amp;x-signature=6ELVITfUBcX0Jguq7VGdumDgCDw%3D" alt="" loading="lazy"/></p>
<p>å®‰è£…å®Œæˆåï¼Œä¼šè®©ä½ é€‰æ‹©ç”¨å“ªä¸ªæ¨¡å‹ã€‚æ˜¯Claudeã€GPTè¿˜æ˜¯å…¶ä»–çš„ï¼Ÿæ ¹æ®ä½ çš„éœ€æ±‚é€‰å°±è¡Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc52c14432724f44bd8cf93708d15597~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770085231&amp;x-signature=2bpClsdyLG4Xva0DaSmXQkuooZU%3D" alt="" loading="lazy"/></p>
<p>é€‰æ‹©å¥½æ¨¡å‹åï¼Œä¼šè®©ä½ å¡«å…¥ä½ çš„API Keyï¼Œå› ä¸ºå®ƒé€‚é…ä»»ä½•æ¨¡å‹ï¼Œæ‰€ä»¥ä½ åªéœ€è¦å»ç”³è¯·ä¸€ä¸ªAPI Keyå°±è¡Œã€‚</p>
<p>çœ‹æˆ‘æ–‡ç« çš„æœ‹å‹éƒ½çŸ¥é“ï¼Œæˆ‘ç»å¸¸ä½¿ç”¨0011.aiï¼Œè¿™æ˜¯ä¸ªCCå’ŒCodexçš„ä¸­è½¬ï¼Œè¿™é‡Œå°±ä¸è¯¦ç»†ç»™å¤§å®¶ä»‹ç»äº†ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥çœ‹æˆ‘ä¹‹å‰çš„æ–‡ç« ã€‚</p>
<p>ä¼ é€é—¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2F0011.ai%2Fi%2FAIG" target="_blank" title="https://0011.ai/i/AIG" ref="nofollow noopener noreferrer">0011.ai/i/AIG</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1992313721415046720" target="_blank" title="https://zhuanlan.zhihu.com/p/1992313721415046720" ref="nofollow noopener noreferrer">æ‰‹æŠŠæ‰‹æ•™ä½ åœ¨å›½å†…ä½¿ç”¨ Claude Codeï¼šä¸å°å·ã€ä¸æŠ˜è…¾ã€æ¯”å®˜ç½‘æ›´ä¾¿å®œ</a><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe8a27664bb24e63b0d950d9836c983c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770085231&amp;x-signature=Ct2uqHy5xRP65Ih%2FCx3F1hWtVsI%3D" alt="" loading="lazy"/></p>
<p>è¿™è¾¹æˆ‘ä»¬å°†æˆ‘ä»¬çš„API keyç›´æ¥è´´è¿›å»ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/402a2a27928e45f984c1a86598c351b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770085231&amp;x-signature=s%2B91D0IkZRKANW9b3ybPWVo8P9U%3D" alt="" loading="lazy"/></p>
<p><strong>å†è¿æ¥èŠå¤©è½¯ä»¶ï¼Œ</strong> è¿™æ˜¯Clawdbotçš„çµé­‚ï¼ä½ éœ€è¦é…ç½® <strong>Gatewayï¼Œä¹Ÿå¯ä»¥é€‰æ‹©é€šè¿‡ã€‚</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ec4ae9a8f434b489350aaaee7ed8c65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770085231&amp;x-signature=%2B1R%2BftD5hhEN0C4wp%2Bifm0qvA6Y%3D" alt="" loading="lazy"/></p>
<p>åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œå¡«å…¥ä½ çš„Telegram Bot Tokenæˆ–è€…Twilioï¼ˆç”¨äºWhatsAppï¼‰çš„å‡­è¯ï¼Œè¿™æ ·ä½ æ‰èƒ½åœ¨æ‰‹æœºä¸Šè¿œç¨‹æŒ‡æŒ¥å®ƒã€‚</p>
<p>éšåä¼šè®©ä½ é€‰æ‹©Skillsï¼Œæ¯”å¦‚"æ¯å¤©æ—©ä¸Š7ç‚¹è‡ªåŠ¨æ‹‰å–æ–°é—»"æˆ–"ç›‘æ§æŸä¸ªç½‘ç«™ä»·æ ¼"ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ae8467b0b5148da905d9fd59e6fb601~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770085231&amp;x-signature=vLsRS2Odv2ToxiPpda4HaKEFNt4%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸€æ­¥æ˜¯é€‰æ‹©èŠå¤©æ–¹å¼ï¼Œå¦‚æœä½ æ˜¯å°ç™½ï¼Œå»ºè®®é€‰æ‹©ç¬¬äºŒä¸ªã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/11196790a7e140eda073b34ac8895e82~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770085231&amp;x-signature=PRSCg75DcWt8PPiuESUjEvWfbFM%3D" alt="" loading="lazy"/></p>
<p>æœ€åï¼Œä½ å°±å¯ä»¥åœ¨è¿™é‡Œå’Œä½ çš„BotèŠå¤©å•¦ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da32ff82bb45482ca0700b5686b57a5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5ZCD55qE5bCP6IKl576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770085231&amp;x-signature=WP6erFzKuBR4K94Svai%2FBjlDdZI%3D" alt="" loading="lazy"/></p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªå¤§å®¶æ™®ééƒ½ä¼šæ‹…å¿ƒçš„é—®é¢˜ï¼Œå°±æ˜¯Tokenæ¶ˆè€—å˜å˜å¿«ï¼ŒClawdBotè¦ä¸€ç›´è¿è¡Œã€ä¸»åŠ¨æ€è€ƒã€ä¿æŒå¯¹è¯å†å²ã€‚</p>
<p><strong>æ‰€ä»¥æ¯”æ™®é€šchatbotè´¹tokenå¾ˆå¤š</strong>ï¼Œ<strong>ä¹Ÿå°±æ˜¯è¯´å¾ˆè´¹é’±ï¼Œ</strong> å¦‚æœæ‹…å¿ƒæˆæœ¬ï¼Œå¯ä»¥åœ¨é…ç½®é‡Œè°ƒæ•´åˆ·æ–°é¢‘ç‡ï¼Œæˆ–æ”¹ç”¨ä¾¿å®œç‚¹çš„æ¨¡å‹ã€‚</p>
<p>å¦å¤–ä¸€ä¸ªæ‹…å¿§æ˜¯æ•°æ®å®‰å…¨ã€‚</p>
<p>å‰ç¾å›½å®‰å…¨ä¸“å®¶Chad Nelsonç§°ï¼Œ Clawdbotè¯»å–çš„æ¯ä¸€ä»½æ–‡æ¡£ã€ç”µå­é‚®ä»¶å’Œç½‘é¡µéƒ½å¯èƒ½æˆä¸ºæ”»å‡»åª’ä»‹ï¼Œâ€œè¿™ç±»å·¥å…·çš„å¹¿æ³›åº”ç”¨ï¼Œå°†å½»åº•æŸå®³ä¸ªäººéšç§ä¸å®‰å…¨â€ã€‚</p>
<p>SEOåˆ›ä¼Letsrankåˆ›å§‹äººfmd è®¤ä¸ºï¼Œâ€œ <strong>Clawdbotæ­£åœ¨å¼•å‘ä¸€åœºç¾éš¾</strong>â€ã€‚è‹¥åœ¨VPSå®ä¾‹ä¸Šæ‰˜ç®¡Clawdbotçš„è¶‹åŠ¿æŒç»­ï¼ŒåŠ ä¸Šäººä»¬ä¸çœ‹æ–‡æ¡£ã€æ— è®¤è¯å¼€æ”¾ç«¯å£ï¼Œå¾ˆå¿«å°±ä¼šå‡ºç°å¤§è§„æ¨¡å‡­è¯æ³„éœ²ï¼Œâ€œåæœä¸å ªè®¾æƒ³â€ã€‚</p>
<p>æ¬¢è¿åœ¨è¯„è®ºåŒºä¸€èµ·è®¨è®ºï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨ Claude Code æ’°å†™æŠ€æœ¯æ–‡æ¡£å¹¶é…å›¾çš„åŸºç¡€æ•™ç¨‹]]></title>    <link>https://juejin.cn/post/7599496293174886419</link>    <guid>https://juejin.cn/post/7599496293174886419</guid>    <pubDate>2026-01-26T16:07:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599496293174886419" data-draft-id="7599511763987595318" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨ Claude Code æ’°å†™æŠ€æœ¯æ–‡æ¡£å¹¶é…å›¾çš„åŸºç¡€æ•™ç¨‹"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-26T16:07:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç™½å°çº¯2025"/> <meta itemprop="url" content="https://juejin.cn/user/3861943706468039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨ Claude Code æ’°å†™æŠ€æœ¯æ–‡æ¡£å¹¶é…å›¾çš„åŸºç¡€æ•™ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3861943706468039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç™½å°çº¯2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T16:07:15.000Z" title="Mon Jan 26 2026 16:07:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä½¿ç”¨ Claude Code æ’°å†™æŠ€æœ¯æ–‡æ¡£å¹¶é…å›¾çš„åŸºç¡€æ•™ç¨‹</h2>
<ul>
<li>å‰ç½®å­¦ä¹ æ•™ç¨‹<a href="https://juejin.cn/post/7596687697756127242" target="_blank" title="https://juejin.cn/post/7596687697756127242">cladue code</a></li>
<li>å‰ç½®å­¦ä¹ æ•™ç¨‹<a href="https://juejin.cn/post/7599531732337262626" target="_blank" title="https://juejin.cn/post/7599531732337262626">agent skills</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FJimLiu%2Fbaoyu-skills.git" target="_blank" title="https://github.com/JimLiu/baoyu-skills.git" ref="nofollow noopener noreferrer">skillså·¥å…·é“¾æ¥</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FJimLiu%2Fbaoyu-skills%2Fblob%2Fmain%2FREADME.zh.md" target="_blank" title="https://github.com/JimLiu/baoyu-skills/blob/main/README.zh.md" ref="nofollow noopener noreferrer">å®‰è£…æ•™ç¨‹</a></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a928f2645a6841fbba3924fa1a1b884a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m95bCP57qvMjAyNQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770049949&amp;x-signature=1hy7hq9x7k%2Fv19ng9KyclQ092A4%3D" alt="01-scene-cover.png" loading="lazy"/></p>
<blockquote>
<p>æœ¬æ•™ç¨‹é¢å‘ç†Ÿæ‚‰å‘½ä»¤è¡Œå’ŒåŸºæœ¬å¼€å‘å·¥å…·çš„å¼€å‘è€…ï¼Œä»‹ç»å¦‚ä½•åˆ©ç”¨ Claude Code é«˜æ•ˆæ’°å†™æŠ€æœ¯æ–‡æ¡£ï¼Œå¹¶ä½¿ç”¨ <code>baoyu-article-illustrator</code> æŠ€èƒ½ä¸ºæ–‡ç« æ™ºèƒ½é…å›¾ã€‚</p>
</blockquote>
<h3 data-id="heading-1">å‰ç½®å‡†å¤‡</h3>
<p>ç¡®ä¿ä½ å·²ç»ï¼š</p>
<ul>
<li>å®‰è£…å¹¶é…ç½®å¥½ Claude Code CLI</li>
<li>æ‹¥æœ‰å¯ç”¨çš„ API å¯†é’¥</li>
<li>å…·å¤‡ä»¥ä¸‹æŠ€èƒ½ï¼š
<ul>
<li><code>baoyu-article-illustrator</code>ï¼ˆæ–‡ç« é…å›¾æŠ€èƒ½ï¼‰</li>
<li><code>baoyu-image-gen</code>ï¼ˆåº•å±‚å›¾ç‰‡ç”Ÿæˆèƒ½åŠ›ï¼Œè¢« article-illustrator è°ƒç”¨ï¼‰</li>
</ul>
</li>
</ul>
<h3 data-id="heading-2">å·¥å…·é“¾å…³ç³»</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b259aa0e23c48af9d4e42b011411ee1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m95bCP57qvMjAyNQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770049949&amp;x-signature=2yVUk21QGsHcD1buQjPttCwG%2F%2BE%3D" alt="02-framework-toolchain.png" loading="lazy"/></p>
<ul>
<li><strong>baoyu-article-illustrator</strong>ï¼šåˆ†ææ–‡ç« ç»“æ„ï¼Œè¯†åˆ«éœ€è¦é…å›¾çš„ä½ç½®ï¼Œå†³å®šå›¾ç‰‡ç±»å‹å’Œé£æ ¼</li>
<li><strong>baoyu-image-gen</strong>ï¼šæ‰§è¡Œå®é™…çš„å›¾ç‰‡ç”Ÿæˆä»»åŠ¡</li>
</ul>
<h3 data-id="heading-3">ç¬¬ä¸€éƒ¨åˆ†ï¼šç”¨ Claude Code å†™æŠ€æœ¯æ–‡æ¡£</h3>
<h4 data-id="heading-4">1.1 åŸºæœ¬å·¥ä½œæµç¨‹</h4>
<p>Claude Code å†™æ–‡æ¡£çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºå®ƒèƒ½å¤Ÿï¼š</p>
<ul>
<li>ç›´æ¥è¯»å–ä»£ç åº“ç†è§£ä¸Šä¸‹æ–‡</li>
<li>æ ¹æ®ä»£ç è‡ªåŠ¨ç”Ÿæˆå‡†ç¡®çš„æ–‡æ¡£</li>
<li>ä¿æŒæ–‡æ¡£ä¸ä»£ç çš„ä¸€è‡´æ€§</li>
</ul>
<p><strong>å¯åŠ¨æ–¹å¼ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨é¡¹ç›®ç›®å½•ä¸­å¯åŠ¨ Claude Code</span>
<span class="hljs-built_in">cd</span> your-project
claude
</code></pre>
<h4 data-id="heading-5">1.2 å¸¸ç”¨æ–‡æ¡£æ’°å†™å‘½ä»¤ç¤ºä¾‹</h4>
<h5 data-id="heading-6">ä¸ºä»£ç ç”Ÿæˆæ–‡æ¡£</h5>
<pre><code class="hljs language-bash" lang="bash">è¯·ä¸º src/utils/auth.ts æ–‡ä»¶ç”Ÿæˆ API æ–‡æ¡£
</code></pre>
<h5 data-id="heading-7">åˆ›å»ºé¡¹ç›® README</h5>
<pre><code class="hljs language-diff" lang="diff">åˆ†æå½“å‰é¡¹ç›®ç»“æ„ï¼Œå¸®æˆ‘æ’°å†™ä¸€ä»½ README.mdï¼ŒåŒ…å«ï¼š
<span class="hljs-deletion">- é¡¹ç›®ç®€ä»‹</span>
<span class="hljs-deletion">- å®‰è£…æ­¥éª¤</span>
<span class="hljs-deletion">- ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-deletion">- é…ç½®è¯´æ˜</span>
</code></pre>
<h5 data-id="heading-8">æ’°å†™æ•™ç¨‹ç±»æ–‡æ¡£</h5>
<pre><code class="hljs language-css" lang="css">å¸®æˆ‘å†™ä¸€ç¯‡å…³äº <span class="hljs-selector-attr">[ä¸»é¢˜]</span> çš„æŠ€æœ¯æ•™ç¨‹ï¼Œç›®æ ‡è¯»è€…æ˜¯ <span class="hljs-selector-attr">[æè¿°]</span>ï¼Œ
é‡ç‚¹è®²è§£ <span class="hljs-selector-attr">[è¦ç‚¹1]</span>ã€<span class="hljs-selector-attr">[è¦ç‚¹2]</span>ã€<span class="hljs-selector-attr">[è¦ç‚¹3]</span>
</code></pre>
<h4 data-id="heading-9">1.3 æå‡æ–‡æ¡£è´¨é‡çš„æŠ€å·§</h4>

























<table><thead><tr><th>æŠ€å·§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æä¾›ä¸Šä¸‹æ–‡</td><td>å‘Šè¯‰ Claude ç›®æ ‡è¯»è€…æ˜¯è°ã€æŠ€æœ¯æ°´å¹³å¦‚ä½•</td></tr><tr><td>æ˜ç¡®ç»“æ„</td><td>é¢„å…ˆè¯´æ˜ä½ å¸Œæœ›çš„æ–‡æ¡£ç»“æ„ï¼ˆç« èŠ‚ã€æ ¼å¼ï¼‰</td></tr><tr><td>è¿­ä»£ä¿®æ”¹</td><td>ç”Ÿæˆåå¯ä»¥é’ˆå¯¹å…·ä½“æ®µè½è¦æ±‚ä¿®æ”¹</td></tr><tr><td>ç»“åˆä»£ç </td><td>è®© Claude å…ˆè¯»å–ç›¸å…³ä»£ç å†å†™æ–‡æ¡£</td></tr></tbody></table>
<h3 data-id="heading-10">ç¬¬äºŒéƒ¨åˆ†ï¼šä½¿ç”¨ baoyu-article-illustrator æ™ºèƒ½é…å›¾</h3>
<h4 data-id="heading-11">2.1 æŠ€èƒ½ç®€ä»‹</h4>
<p><code>baoyu-article-illustrator</code> æ˜¯ä¸€ä¸ªæ™ºèƒ½æ–‡ç« é…å›¾æŠ€èƒ½ï¼Œæ ¸å¿ƒèƒ½åŠ›ï¼š</p>
<ul>
<li><strong>è‡ªåŠ¨åˆ†ææ–‡ç« ç»“æ„</strong>ï¼šè¯†åˆ«æ ‡é¢˜ã€æ®µè½ã€å…³é”®æ¦‚å¿µ</li>
<li><strong>æ™ºèƒ½è¯†åˆ«é…å›¾ä½ç½®</strong>ï¼šåˆ¤æ–­å“ªäº›åœ°æ–¹éœ€è¦è§†è§‰è¾…åŠ©</li>
<li><strong>Type Ã— Style äºŒç»´é…å›¾æ³•</strong>ï¼šæ ¹æ®å†…å®¹ç±»å‹å’ŒæœŸæœ›é£æ ¼ç”Ÿæˆæœ€åˆé€‚çš„å›¾ç‰‡</li>
<li><strong>è°ƒç”¨åº•å±‚ baoyu-image-gen</strong>ï¼šå®é™…å›¾ç‰‡ç”Ÿæˆç”±åº•å±‚èƒ½åŠ›å®Œæˆ</li>
</ul>
<h4 data-id="heading-12">2.2 åŸºæœ¬ä½¿ç”¨æ–¹æ³•</h4>
<h5 data-id="heading-13">æ–¹å¼ä¸€ï¼šä¸€é”®ä¸ºæ–‡ç« é…å›¾ï¼ˆæ¨èï¼‰</h5>
<pre><code class="hljs language-bash" lang="bash">/baoyu-article-illustrator
</code></pre>
<p>æˆ–è€…ç”¨è‡ªç„¶è¯­è¨€ï¼š</p>
<pre><code class="hljs language-css" lang="css">ä¸ºæ–‡ç« é…å›¾
è¯·ç»™è¿™ç¯‡æ–‡ç« æ·»åŠ æ’å›¾
illustrate <span class="hljs-selector-tag">article</span>
</code></pre>
<h5 data-id="heading-14">æ–¹å¼äºŒï¼šæŒ‡å®šæ–‡ç« è·¯å¾„</h5>
<pre><code class="hljs language-css" lang="css">/baoyu-<span class="hljs-selector-tag">article</span>-illustrator path/<span class="hljs-selector-tag">to</span>/your-<span class="hljs-selector-tag">article</span><span class="hljs-selector-class">.md</span>
</code></pre>
<h4 data-id="heading-15">2.3 Type Ã— Style äºŒç»´é…å›¾æ³•</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca7dcdbf01df45738e55679bd7a619e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m95bCP57qvMjAyNQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770049949&amp;x-signature=jHOBJhgudXV%2FOxHNKsI1wSMKFFs%3D" alt="03-framework-type-style.png" loading="lazy"/></p>
<p>è¿™æ˜¯ <code>baoyu-article-illustrator</code> çš„æ ¸å¿ƒæ–¹æ³•è®ºï¼š</p>




















<table><thead><tr><th>ç»´åº¦</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>Typeï¼ˆç±»å‹ï¼‰</strong></td><td>å›¾ç‰‡è¦è¡¨è¾¾ä»€ä¹ˆ</td><td>æ¦‚å¿µå›¾ã€æµç¨‹å›¾ã€åœºæ™¯å›¾ã€å¯¹æ¯”å›¾</td></tr><tr><td><strong>Styleï¼ˆé£æ ¼ï¼‰</strong></td><td>è§†è§‰å‘ˆç°æ–¹å¼</td><td>æ‰å¹³æ’ç”»ã€3Dæ¸²æŸ“ã€æ‰‹ç»˜é£ã€ç§‘æŠ€æ„Ÿ</td></tr></tbody></table>
<p><strong>ç»„åˆç¤ºä¾‹ï¼ˆä»¥æœ¬æ•™ç¨‹ä¸ºä¾‹ï¼‰ï¼š</strong></p>





























<table><thead><tr><th>æ–‡ç« å†…å®¹</th><th>Type</th><th>Style</th><th>é…å›¾æ•ˆæœ</th></tr></thead><tbody><tr><td>å·¥å…·é“¾å…³ç³»</td><td>æ¶æ„å›¾</td><td>æ‰å¹³æ’ç”»</td><td>å±•ç¤ºä¸¤ä¸ªå·¥å…·çš„è°ƒç”¨å…³ç³»</td></tr><tr><td>Type Ã— Style æ–¹æ³•</td><td>æ¦‚å¿µå›¾</td><td>ä¿¡æ¯å›¾è¡¨</td><td>äºŒç»´çŸ©é˜µç¤ºæ„å›¾</td></tr><tr><td>å®Œæ•´å·¥ä½œæµ</td><td>æµç¨‹å›¾</td><td>ç§‘æŠ€æ„Ÿ</td><td>å†™ä½œâ†’é…å›¾â†’è¿­ä»£çš„æµç¨‹</td></tr></tbody></table>
<h4 data-id="heading-16">2.4 æ–‡æ¡£é…å›¾çš„å®Œæ•´å·¥ä½œæµï¼ˆä»¥æœ¬æ•™ç¨‹ä¸ºä¾‹ï¼‰</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3453261ba2643f4932ec08dd945650d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m95bCP57qvMjAyNQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770049949&amp;x-signature=Id4xoHVcsMgBqBudmpsA1F%2F%2F7vc%3D" alt="04-flowchart-workflow.png" loading="lazy"/></p>
<pre><code class="hljs language-makefile" lang="makefile">æ­¥éª¤ 1: æ’°å†™æ–‡æ¡£
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
<span class="hljs-section">ä½ : å¸®æˆ‘å†™ä¸€ç¯‡ç”¨ Claude Code å†™æŠ€æœ¯æ–‡æ¡£å¹¶é…å›¾çš„åŸºç¡€æ•™ç¨‹ï¼Œ</span>
    é¢å‘æœ‰åŸºç¡€çš„å¼€å‘è€…

<span class="hljs-section">Claude: [ç”Ÿæˆæœ¬æ•™ç¨‹å†…å®¹...]</span>

æ­¥éª¤ 2: æ™ºèƒ½é…å›¾ï¼ˆä¸€æ¡å‘½ä»¤æå®šï¼‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
<span class="hljs-section">ä½ : /baoyu-article-illustrator</span>

<span class="hljs-section">Claude:</span>
  - åˆ†ææ–‡ç« ç»“æ„...
  - è¯†åˆ«åˆ° 4 å¤„é€‚åˆé…å›¾çš„ä½ç½®ï¼š
    1. å¼€å¤´ï¼šéœ€è¦ä¸€å¼ å°é¢å›¾ï¼ˆç¨‹åºå‘˜ä¸ AI åä½œå†™ä½œåœºæ™¯ï¼‰
    2. <span class="hljs-string">"å·¥å…·é“¾å…³ç³»"</span>ï¼šéœ€è¦æ¶æ„ç¤ºæ„å›¾
    3. <span class="hljs-string">"Type Ã— Style äºŒç»´é…å›¾æ³•"</span>ï¼šéœ€è¦æ¦‚å¿µè§£é‡Šå›¾
    4. <span class="hljs-string">"å®Œæ•´å·¥ä½œæµ"</span>ï¼šéœ€è¦æµç¨‹å›¾
  - è°ƒç”¨ baoyu-image-gen ç”Ÿæˆå›¾ç‰‡...
  - å°†å›¾ç‰‡æ’å…¥æ–‡æ¡£å¯¹åº”ä½ç½®

æ­¥éª¤ 3: å¾®è°ƒï¼ˆå¯é€‰ï¼‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
<span class="hljs-section">ä½ : å°é¢å›¾æ¢æˆæ›´æœ‰ç§‘æŠ€æ„Ÿçš„é£æ ¼</span>

<span class="hljs-section">Claude: [é‡æ–°ç”Ÿæˆå¹¶æ›¿æ¢...]</span>
</code></pre>
<h3 data-id="heading-17">ç¬¬ä¸‰éƒ¨åˆ†ï¼šå®æˆ˜ç¤ºä¾‹ï¼ˆä»¥æœ¬æ•™ç¨‹ä¸ºä¾‹ï¼‰</h3>
<h4 data-id="heading-18">3.1 å®Œæ•´å¯¹è¯ç¤ºä¾‹</h4>
<p>ä»¥ä¸‹æ˜¯åˆ›ä½œæœ¬æ•™ç¨‹çš„å®é™…å¯¹è¯æµç¨‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">ä½ :</span> <span class="hljs-string">å¸®æˆ‘å†™ä¸€ç¯‡ç”¨</span> <span class="hljs-string">Claude</span> <span class="hljs-string">Code</span> <span class="hljs-string">å†™æŠ€æœ¯æ–‡æ¡£ï¼Œç„¶åä½¿ç”¨</span> <span class="hljs-string">baoyu-article-illustrator</span>
    <span class="hljs-string">ç»™æ–‡ç« é…å›¾çš„åŸºç¡€æ•™ç¨‹ï¼Œé¢å‘æœ‰åŸºç¡€çš„å¼€å‘è€…</span>

<span class="hljs-attr">Claude:</span> <span class="hljs-string">åœ¨å¼€å§‹å†™è¿™ç¯‡æ•™ç¨‹ä¹‹å‰ï¼Œæˆ‘æƒ³å…ˆç¡®è®¤å‡ ä¸ªé—®é¢˜...</span>
        [<span class="hljs-string">è¯¢é—®ç›®æ ‡è¯»è€…ã€è¾“å‡ºå½¢å¼ç­‰</span>]

<span class="hljs-string">ä½ :</span> <span class="hljs-string">æœ‰åŸºç¡€çš„å¼€å‘è€…ï¼Œåˆ›å»º</span> <span class="hljs-string">Markdown</span> <span class="hljs-string">æ–‡ä»¶</span>

<span class="hljs-attr">Claude:</span> [<span class="hljs-string">ç”Ÿæˆæ•™ç¨‹å†…å®¹ï¼Œåˆ›å»º</span> <span class="hljs-string">claude-code-writing-tutorial.md</span>]

<span class="hljs-string">ä½ :</span> <span class="hljs-string">/baoyu-article-illustrator</span>

<span class="hljs-attr">Claude:</span>
  <span class="hljs-string">åˆ†ææ–‡ç« ç»“æ„å®Œæˆï¼Œè¯†åˆ«åˆ°ä»¥ä¸‹é…å›¾ä½ç½®ï¼š</span>

  <span class="hljs-number">1</span><span class="hljs-string">.</span> <span class="hljs-string">æ–‡ç« å°é¢</span> <span class="hljs-bullet">-</span> <span class="hljs-attr">Type:</span> <span class="hljs-string">ä¸»é¢˜å›¾</span> <span class="hljs-string">|</span> <span class="hljs-attr">Style:</span> <span class="hljs-string">ç§‘æŠ€æ„Ÿ</span>
     <span class="hljs-string">æè¿°ï¼šç¨‹åºå‘˜åœ¨ç»ˆç«¯ä¸</span> <span class="hljs-string">AI</span> <span class="hljs-string">åä½œæ’°å†™æ–‡æ¡£çš„åœºæ™¯</span>

  <span class="hljs-number">2</span><span class="hljs-string">.</span> <span class="hljs-string">"å·¥å…·é“¾å…³ç³»"</span> <span class="hljs-bullet">-</span> <span class="hljs-attr">Type:</span> <span class="hljs-string">æ¶æ„å›¾</span> <span class="hljs-string">|</span> <span class="hljs-attr">Style:</span> <span class="hljs-string">æ‰å¹³æ’ç”»</span>
     <span class="hljs-string">æè¿°ï¼šä¸¤ä¸ªæŠ€èƒ½çš„è°ƒç”¨å…³ç³»ç¤ºæ„å›¾</span>

  <span class="hljs-number">3</span><span class="hljs-string">.</span> <span class="hljs-string">"Type Ã— Style äºŒç»´é…å›¾æ³•"</span> <span class="hljs-bullet">-</span> <span class="hljs-attr">Type:</span> <span class="hljs-string">æ¦‚å¿µå›¾</span> <span class="hljs-string">|</span> <span class="hljs-attr">Style:</span> <span class="hljs-string">ä¿¡æ¯å›¾è¡¨</span>
     <span class="hljs-string">æè¿°ï¼šäºŒç»´çŸ©é˜µå±•ç¤ºç±»å‹å’Œé£æ ¼çš„ç»„åˆ</span>

  <span class="hljs-number">4</span><span class="hljs-string">.</span> <span class="hljs-string">"å®Œæ•´å·¥ä½œæµ"</span> <span class="hljs-bullet">-</span> <span class="hljs-attr">Type:</span> <span class="hljs-string">æµç¨‹å›¾</span> <span class="hljs-string">|</span> <span class="hljs-attr">Style:</span> <span class="hljs-string">ç®€æ´ç°ä»£</span>
     <span class="hljs-string">æè¿°ï¼šå†™ä½œâ†’é…å›¾â†’è¿­ä»£çš„ä¸‰æ­¥æµç¨‹</span>

  <span class="hljs-string">å¼€å§‹ç”Ÿæˆå›¾ç‰‡...</span>
  [<span class="hljs-string">è°ƒç”¨</span> <span class="hljs-string">baoyu-image-gen</span> <span class="hljs-string">ç”Ÿæˆ</span> <span class="hljs-number">4</span> <span class="hljs-string">å¼ å›¾ç‰‡...</span>]

  <span class="hljs-string">é…å›¾å®Œæˆï¼Œå·²æ’å…¥æ–‡æ¡£ã€‚</span>

<span class="hljs-string">ä½ :</span> <span class="hljs-string">å°é¢å›¾çš„èƒŒæ™¯æ¢æˆæ·±è‰²ç§‘æŠ€é£</span>

<span class="hljs-attr">Claude:</span> [<span class="hljs-string">é‡æ–°ç”Ÿæˆå°é¢å›¾å¹¶æ›¿æ¢...</span>]
</code></pre>
<h4 data-id="heading-19">3.2 é…å›¾ç±»å‹å‚è€ƒ</h4>






























<table><thead><tr><th>æ–‡ç« ç±»å‹</th><th>æ¨è Type</th><th>æ¨è Style</th></tr></thead><tbody><tr><td>æŠ€æœ¯æ•™ç¨‹</td><td>æµç¨‹å›¾ã€æ­¥éª¤å›¾</td><td>æ‰å¹³æ’ç”»ã€ä¿¡æ¯å›¾è¡¨</td></tr><tr><td>æ¦‚å¿µè§£é‡Š</td><td>æ¦‚å¿µå›¾ã€ç±»æ¯”å›¾</td><td>ç®€æ´å›¾ç¤ºã€æ‰‹ç»˜é£</td></tr><tr><td>äº§å“ä»‹ç»</td><td>åœºæ™¯å›¾ã€åŠŸèƒ½å›¾</td><td>3Dæ¸²æŸ“ã€äº§å“é£</td></tr><tr><td>æœ€ä½³å®è·µ</td><td>å¯¹æ¯”å›¾ã€æ¸…å•å›¾</td><td>ä¸“ä¸šå•†åŠ¡ã€ç®€çº¦é£</td></tr></tbody></table>
<h4 data-id="heading-20">3.3 è¿‡ç¨‹å›¾ç¤º</h4>
<ul>
<li>è¾“å…¥æ–‡ç« è¦æ±‚</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">claude <span class="hljs-string">"å¸®æˆ‘å†™ä¸€ç¯‡ç”¨ Claude Code å†™æŠ€æœ¯æ–‡æ¡£ï¼Œç„¶åä½¿ç”¨ baoyu-article-illustratorç»™æ–‡ç« é…å›¾çš„åŸºç¡€æ•™ç¨‹ï¼Œé¢å‘æœ‰åŸºç¡€çš„å¼€å‘è€…"</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12e5cedb033e4b8abbdf3ca687d4a7ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m95bCP57qvMjAyNQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770049949&amp;x-signature=dghZZV2xKR%2BQFRc8%2FRKJzq2Rmqw%3D" alt="ab905d8016bf3f521a57ac7c9eec8c63.png" loading="lazy"/></p>
<ul>
<li>å¼€å§‹è§„åˆ’é…å›¾</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">/baoyu-article-illustrator /Users/zhangjian/works/workspace_vibe/skills_md/write_article_with_cc/claude-code-writing-tutorial.md
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ecb1afb9df44fac913995be0e9e5ceb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m95bCP57qvMjAyNQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770049949&amp;x-signature=l%2FPYuAFdDaesLiVhlGCXnj6ljIk%3D" alt="3b465947e002f580173b409e425da548.png" loading="lazy"/></p>
<ul>
<li>æ–‡ç”Ÿå›¾å›½äº§æ¨¡å‹é…ç½®</li>
</ul>
<p>æ³¨æ„åŸå§‹çš„å·¥å…·æ˜¯ä¸æ”¯æŒå›½äº§æ¨¡å‹ã€é»˜è®¤æ”¯æŒOPENAIåŠGOOGLEçš„æ–‡ç”Ÿå›¾æ¨¡å‹ã€‘ï¼Œè¿™é‡Œæˆ‘åšäº†æ”¹é€ ï¼Œå¢åŠ äº†é˜¿é‡Œäº‘çš„ã€é€šä¹‰-æ–‡ç”Ÿå›¾-Z-Imageï¼Œå•æ¨¡å‹ç™½å«–é¢åº¦100å¼ å›¾ç‰‡ï¼Œå¦‚ä¸‹å›¾ï¼Œè¿˜æœ‰å…¶ä»–æ¨¡å‹ï¼Œå¯ä»¥ä¿®æ”¹ç¯å¢ƒå˜é‡è°ƒæ•´ã€~/.baoyu-skills/.envä¸­å¢åŠ DASHSCOPE_IMAGE_MODEL=z-image-turboã€‘ã€‘æ”¯æŒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FJianJang2017%2Fbaoyu-skills.git" target="_blank" title="https://github.com/JianJang2017/baoyu-skills.git" ref="nofollow noopener noreferrer">æ”¹é€ åä»£ç </a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fa5d419326064106819052191736c5c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m95bCP57qvMjAyNQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770049949&amp;x-signature=wFQiXH2SqzUkbeDKmZdGfmNNY70%3D" alt="image.png" loading="lazy"/></p>
<ol>
<li>æ›¿æ¢ç”Ÿå›¾æŠ€èƒ½ã€baoyu-image-genã€‘ä¸­çš„æ–‡ä»¶å†…å®¹ã€è¿™é‡Œä¹Ÿå¯ä»¥æ‰‹åŠ¨ç›´æ¥å®‰è£…æˆ‘forkè¿‡æ¥çš„ç‰ˆæœ¬ï¼Œä¿®æ”¹å†…å®¹å·²æäº¤ã€‘
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02a49ca3a0cd4889a0319000d5bad039~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m95bCP57qvMjAyNQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770049949&amp;x-signature=4hD4J%2BvtHavs27QF1fX4a%2Bh3Oyw%3D" alt="image.png" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1fa0882f5cc47c3a040dfc38296e2ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m95bCP57qvMjAyNQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770049949&amp;x-signature=4qsyYemFENb5ZfyURsMXQUet0UU%3D" alt="image.png" loading="lazy"/></li>
<li>æ–°å¢é˜¿é‡Œäº‘æ¨¡å‹é…ç½®apikey
åˆ›å»ºç”¨æˆ·ç¯å¢ƒå˜é‡</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> ~/.baoyu-skills
</code></pre>
<p>å¢åŠ apikeyé…ç½®ã€åœ¨~/.baoyu-skillsã€‘ç›®å½•ä¸‹åˆ›å»º.envæ–‡ä»¶å†…å®¹å¦‚ä¸‹ã€å¯¹åº”çš„api keyä»é˜¿é‡Œäº‘ç™¾ç‚¼å¹³å°è·å–ã€‘ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#æŒ‡å®šæ¨¡å‹</span>
DASHSCOPE_IMAGE_MODEL=z-image-turbo
<span class="hljs-comment">#æŒ‡å®šapi key</span>
DASHSCOPE_API_KEY=sk-xxxxxxxxxxx
</code></pre>
<ol start="4">
<li>å›¾ç‰‡promptç”Ÿæˆ</li>
</ol>
<p>baoyu-article-illustratorä¼šæ ¹æ®æ–‡ç« å†…å®¹è¿›è¡Œåˆ†æç„¶åç”Ÿæˆæ’å›¾è§„åˆ’ï¼Œç„¶åæ ¹æ®è§„åˆ’ç”Ÿæˆå¯¹åº”çš„æ–‡ç”Ÿå›¾prompt
5. promptç”Ÿæˆåä¼šè°ƒç”¨baoyu-image-genæŒ‰ç…§è§„åˆ’çš„å›¾ç‰‡promptè¿›è¡Œå›¾ç‰‡ç”Ÿæˆ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/36378d9550f34ada89c4419cb29a6f44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m95bCP57qvMjAyNQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770049949&amp;x-signature=B9tqFLYwkwnd%2Bgm8QdA%2FFLDgv70%3D" alt="4e0c9afab11d9c2cba2ee7abc8ea2c00.png" loading="lazy"/>
6. ç”Ÿäº§å®Œæˆåä¼šå°†å›¾ç‰‡æ’å…¥é¢„å®šçš„ä½ç½®</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4659b224052c427a990cf1995875d30f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m95bCP57qvMjAyNQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770049949&amp;x-signature=4HT7IVnabmVMdbL5asuklPblr0k%3D" alt="dd3e992868d2f5c47be3fa012871a77e.png" loading="lazy"/></p>
<ol start="7">
<li>æ³¨æ„ï¼šæœ‰æ—¶å€™ä¼šæœªè‡ªåŠ¨æ’å…¥ï¼Œå¹²é¢„æç¤ºä¸€ä¸‹å³å¯ï¼Œä¹Ÿå¯æ ¹æ®æ–‡ä»¶ç›®å½•ä¸‹çš„outline.mdæ–‡ä»¶å†…å®¹è¿›è¡Œæ‰‹åŠ¨ç²˜è´´</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b4ff9eef6a0243ce899d713b87eb2f44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m95bCP57qvMjAyNQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770049949&amp;x-signature=qdWciB2Q6uKNudeIQyHTJX%2Fq42M%3D" alt="image.png" loading="lazy"/>
8. æ•ˆæœæˆªå›¾</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d084461e14d471c916a7b36743f26f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m95bCP57qvMjAyNQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770049949&amp;x-signature=ZNYNi1IuV6siHejO%2BZttZYdaS9E%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-21">å¸¸è§é—®é¢˜</h3>
<h4 data-id="heading-22">Q: baoyu-article-illustrator å’Œ baoyu-image-gen æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h4>
<p>A: <code>baoyu-article-illustrator</code> æ˜¯é¢å‘ç”¨æˆ·çš„æ™ºèƒ½é…å›¾æŠ€èƒ½ï¼Œä¼šåˆ†ææ–‡ç« å¹¶å†³å®šåœ¨å“ªé‡Œé…ä»€ä¹ˆå›¾ï¼›<code>baoyu-image-gen</code> æ˜¯åº•å±‚çš„å›¾ç‰‡ç”Ÿæˆèƒ½åŠ›ï¼Œè¢«å‰è€…è°ƒç”¨æ¥å®é™…ç”Ÿæˆå›¾ç‰‡ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç›´æ¥ä½¿ç”¨ <code>baoyu-article-illustrator</code> å³å¯ã€‚</p>
<h4 data-id="heading-23">Q: ç”Ÿæˆçš„å›¾ç‰‡ä¿å­˜åœ¨å“ªé‡Œï¼Ÿ</h4>
<p>A: é»˜è®¤ä¿å­˜åœ¨å½“å‰å·¥ä½œç›®å½•æˆ–æ–‡ç« æ‰€åœ¨ç›®å½•ã€‚</p>
<h4 data-id="heading-24">Q: å¯ä»¥åªä¸ºæ–‡ç« çš„æŸä¸€éƒ¨åˆ†é…å›¾å—ï¼Ÿ</h4>
<p>A: å¯ä»¥ï¼Œåœ¨è°ƒç”¨æ—¶æŒ‡å®šå…·ä½“ä½ç½®ï¼Œå¦‚ï¼š"åªä¸º'å·¥å…·é“¾å…³ç³»'è¿™ä¸€èŠ‚é…å›¾"ã€‚</p>
<h4 data-id="heading-25">Q: å¦‚ä½•ä¿®æ”¹å·²ç”Ÿæˆçš„å›¾ç‰‡é£æ ¼ï¼Ÿ</h4>
<p>A: ç›´æ¥æè¿°ä½ çš„ä¿®æ”¹éœ€æ±‚ï¼Œå¦‚ï¼š"æŠŠå°é¢å›¾æ¢æˆ 3D é£æ ¼"ï¼ŒClaude ä¼šé‡æ–°ç”Ÿæˆå¹¶æ›¿æ¢ã€‚</p>
<h4 data-id="heading-26">Q: æ”¯æŒå“ªäº›å›¾ç‰‡é£æ ¼ï¼Ÿ</h4>
<p>A: æ”¯æŒæ‰å¹³æ’ç”»ã€3Dæ¸²æŸ“ã€æ‰‹ç»˜é£ã€ç§‘æŠ€æ„Ÿã€ç®€çº¦é£ã€ä¿¡æ¯å›¾è¡¨ç­‰å¤šç§é£æ ¼ï¼Œå¯æ ¹æ®æ–‡ç« è°ƒæ€§è‡ªç”±é€‰æ‹©ã€‚</p>
<h3 data-id="heading-27">æ€»ç»“</h3>
<p>Claude Code + baoyu-article-illustrator çš„ç»„åˆè®©æŠ€æœ¯æ–‡æ¡£åˆ›ä½œå˜å¾—é«˜æ•ˆï¼š</p>
<ol>
<li><strong>å†™ä½œé˜¶æ®µ</strong>ï¼šåˆ©ç”¨ Claude å¯¹ä»£ç çš„ç†è§£èƒ½åŠ›ï¼Œç”Ÿæˆå‡†ç¡®çš„æŠ€æœ¯æ–‡æ¡£</li>
<li><strong>é…å›¾é˜¶æ®µ</strong>ï¼šä¸€æ¡å‘½ä»¤æ™ºèƒ½åˆ†æ + è‡ªåŠ¨é…å›¾ï¼Œæ— éœ€æ‰‹åŠ¨æŒ‡å®šæ¯å¼ å›¾</li>
<li><strong>è¿­ä»£ä¼˜åŒ–</strong>ï¼šåœ¨å¯¹è¯ä¸­æŒç»­è°ƒæ•´ï¼Œç›´åˆ°æ»¡æ„ä¸ºæ­¢</li>
</ol>
<p><strong>å·¥å…·é“¾ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><code>baoyu-article-illustrator</code> è´Ÿè´£"æ€è€ƒ"ï¼šåˆ†ææ–‡ç« ã€å†³å®šé…å›¾ç­–ç•¥</li>
<li><code>baoyu-image-gen</code> è´Ÿè´£"æ‰§è¡Œ"ï¼šç”Ÿæˆé«˜è´¨é‡å›¾ç‰‡</li>
</ul>
<p>æŒæ¡è¿™å¥—å·¥ä½œæµï¼Œå¯ä»¥å¤§å¹…æå‡æŠ€æœ¯æ–‡æ¡£çš„åˆ›ä½œæ•ˆç‡å’Œè§†è§‰è´¨é‡ã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Linux å®æˆ˜ã€‘æ‰‹æŠŠæ‰‹å†™ Makefileï¼šé™æ€åº“ / åŠ¨æ€åº“ä¸€é”®ç¼–è¯‘ï¼ˆé™„å¯ç›´æ¥å¥—ç”¨çš„è®¡ç®—å™¨å®æˆ˜æ¨¡æ¿ï¼‰]]></title>    <link>https://juejin.cn/post/7599581687357915186</link>    <guid>https://juejin.cn/post/7599581687357915186</guid>    <pubDate>2026-01-27T01:04:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599581687357915186" data-draft-id="7599538010725761051" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Linux å®æˆ˜ã€‘æ‰‹æŠŠæ‰‹å†™ Makefileï¼šé™æ€åº“ / åŠ¨æ€åº“ä¸€é”®ç¼–è¯‘ï¼ˆé™„å¯ç›´æ¥å¥—ç”¨çš„è®¡ç®—å™¨å®æˆ˜æ¨¡æ¿ï¼‰"/> <meta itemprop="keywords" content="åç«¯,GitHub,Linux"/> <meta itemprop="datePublished" content="2026-01-27T01:04:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°æ¨åŒå­¦66"/> <meta itemprop="url" content="https://juejin.cn/user/1189004976589664"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Linux å®æˆ˜ã€‘æ‰‹æŠŠæ‰‹å†™ Makefileï¼šé™æ€åº“ / åŠ¨æ€åº“ä¸€é”®ç¼–è¯‘ï¼ˆé™„å¯ç›´æ¥å¥—ç”¨çš„è®¡ç®—å™¨å®æˆ˜æ¨¡æ¿ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1189004976589664/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°æ¨åŒå­¦66
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T01:04:44.000Z" title="Tue Jan 27 2026 01:04:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ã€Linux å®æˆ˜ã€‘æ‰‹æŠŠæ‰‹å†™ Makefileï¼šé™æ€åº“ / åŠ¨æ€åº“ä¸€é”®ç¼–è¯‘ï¼ˆé™„å¯ç›´æ¥å¥—ç”¨çš„è®¡ç®—å™¨å®æˆ˜æ¨¡æ¿ï¼‰</h2>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ä¸“æ³¨åµŒå…¥å¼ Linux å¼€å‘çš„å°æ¨åŒå­¦ã€‚å¯¹äº Linux C/C++ å¼€å‘æ¥è¯´ï¼ŒMakefile æ˜¯ç»•ä¸å¼€çš„æ ¸å¿ƒå·¥å…· â€”â€” å°¤å…¶æ˜¯åœ¨æ„å»ºåŒ…å«é™æ€åº“ / åŠ¨æ€åº“çš„é¡¹ç›®æ—¶ï¼Œä¸€ä»½å¥½çš„ Makefile èƒ½è®©ä½ æ‘†è„±é‡å¤æ•²ç¼–è¯‘å‘½ä»¤çš„ç¹çï¼Œå®ç° â€œä¸€é”®ç¼–è¯‘ã€ä¸€é”®æ¸…ç†ã€ä¸€é”®å®‰è£…â€ã€‚ä»Šå¤©å°±ä»¥å››åˆ™è¿ç®—è®¡ç®—å™¨é¡¹ç›®ä¸ºä¾‹ï¼Œæ‹†è§£ä¸¤ä»½å®æˆ˜å‹ Makefileï¼ˆé™æ€åº“ç‰ˆ + åŠ¨æ€åº“ç‰ˆï¼‰ï¼Œä»å˜é‡å®šä¹‰åˆ°è§„åˆ™ç¼–å†™ï¼Œæ¯ä¸€è¡Œéƒ½è®²é€ï¼Œæ–°æ‰‹ä¹Ÿèƒ½ç›´æ¥å¥—ç”¨ï¼</p>
<h3 data-id="heading-1">ä¸€ã€å…ˆç†æ¸…æ ¸å¿ƒéœ€æ±‚ï¼šè®¡ç®—å™¨é¡¹ç›®çš„ Makefile è¦å®ç°ä»€ä¹ˆï¼Ÿ</h3>
<p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯åŸºäºæ ‡å‡†åŒ–ç›®å½•ç»“æ„ï¼ˆ1src/2include/3lib/0outputï¼‰ï¼Œç”¨ Makefile å®Œæˆï¼š</p>
<ol>
<li>è‡ªåŠ¨ç¼–è¯‘æ‰€æœ‰æºæ–‡ä»¶ä¸ºç›®æ ‡æ–‡ä»¶ï¼ˆ.oï¼‰å¹¶æ”¾å…¥ 3lib ç›®å½•ï¼›</li>
<li>å°†ç›®æ ‡æ–‡ä»¶æ‰“åŒ…ä¸ºé™æ€åº“ï¼ˆlibcal.aï¼‰æˆ–åŠ¨æ€åº“ï¼ˆlibcal.soï¼‰ï¼›</li>
<li>é“¾æ¥åº“æ–‡ä»¶ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼Œè¾“å‡ºåˆ° 0output ç›®å½•ï¼›</li>
<li>æä¾›æ¸…ç†ã€å®‰è£…ï¼ˆåŠ¨æ€åº“ï¼‰ç­‰ä¾¿æ·æŒ‡ä»¤ï¼Œç®€åŒ–å¼€å‘æµç¨‹ã€‚</li>
</ol>
<h4 data-id="heading-2">é¡¹ç›®ç›®å½•å›é¡¾</h4>
<p>plaintext</p>
<pre><code class="hljs language-php" lang="php">calc_project/
â”œâ”€â”€ <span class="hljs-number">0</span>output/       <span class="hljs-comment"># å¯æ‰§è¡Œæ–‡ä»¶è¾“å‡ºç›®å½•</span>
â”œâ”€â”€ <span class="hljs-number">1</span>src/          <span class="hljs-comment"># æºä»£ç ç›®å½•ï¼ˆAdd.c/mul.c/sub.c/div.c/utils.c/main.cï¼‰</span>
â”œâ”€â”€ <span class="hljs-number">2</span><span class="hljs-keyword">include</span>/      <span class="hljs-comment"># å¤´æ–‡ä»¶ç›®å½•ï¼ˆå„æ¨¡å—.hæ–‡ä»¶ï¼‰</span>
â””â”€â”€ <span class="hljs-number">3</span>lib/          <span class="hljs-comment"># åº“æ–‡ä»¶/ç›®æ ‡æ–‡ä»¶ç›®å½•</span>
</code></pre>
<h3 data-id="heading-3">äºŒã€å®æˆ˜ 1ï¼šé™æ€åº“ç‰ˆ Makefileï¼ˆé€‚åˆåµŒå…¥å¼èµ„æºå—é™åœºæ™¯ï¼‰</h3>
<p>é™æ€åº“çš„ä¼˜åŠ¿æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ä¸ä¾èµ–å¤–éƒ¨åº“ï¼Œç›´æ¥è¿è¡Œï¼Œéå¸¸é€‚åˆåµŒå…¥å¼è®¾å¤‡ã€‚ä»¥ä¸‹æ˜¯å®Œæ•´çš„é™æ€åº“ Makefileï¼Œé™„å¸¦é€è¡Œè§£æï¼š</p>
<h4 data-id="heading-4">å®Œæ•´é™æ€åº“ Makefile ä»£ç </h4>
<p>makefile</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-comment"># æ ¸å¿ƒç¼–è¯‘å‚æ•°ï¼šé›†ä¸­å®šä¹‰ï¼Œä¾¿äºç»Ÿä¸€ä¿®æ”¹</span>
CFLAGS = -Wall -g -O2 -I ./2include
<span class="hljs-comment"># å¯æ‰§è¡Œæ–‡ä»¶åç§°</span>
calc_target = calculator          
<span class="hljs-comment"># åº“æ¨¡å—æºæ–‡ä»¶åˆ—è¡¨</span>
calc_srcs = 1src/Add.c 1src/mul.c 1src/sub.c 1src/div.c 1src/utils.c
<span class="hljs-comment"># ç›®æ ‡æ–‡ä»¶åˆ—è¡¨ï¼ˆå¯¹åº”3libç›®å½•ä¸‹çš„.oæ–‡ä»¶ï¼‰</span>
calc_lib_objs = 3lib/Add.o 3lib/mul.o 3lib/sub.o 3lib/div.o 3lib/utils.o
<span class="hljs-comment"># é™æ€åº“åç§°</span>
calc_static_lib = 3lib/libcal.a 

<span class="hljs-comment"># é»˜è®¤ç›®æ ‡ï¼šæ‰§è¡Œmakeæ—¶ä¼˜å…ˆç¼–è¯‘è®¡ç®—å™¨å¯æ‰§è¡Œæ–‡ä»¶</span>
<span class="hljs-section">all: <span class="hljs-variable">$(calc_target)</span></span>
	@echo <span class="hljs-string">"âœ… è®¡ç®—å™¨ç¼–è¯‘å®Œæˆï¼å¯æ‰§è¡Œæ–‡ä»¶ï¼š0output/calculator"</span>

<span class="hljs-comment"># é€šç”¨è§„åˆ™ï¼šå°†1srcä¸‹çš„.cæ–‡ä»¶ç¼–è¯‘ä¸º3libä¸‹çš„.oæ–‡ä»¶</span>
<span class="hljs-section">3lib/%.o: 1src/%.c</span>
	gcc <span class="hljs-variable">$(CFLAGS)</span> -c <span class="hljs-variable">$&lt;</span> -o <span class="hljs-variable">$@</span>

<span class="hljs-comment"># ç¼–è¯‘é™æ€åº“ï¼šå…ˆç¡®ä¿3libç›®å½•å­˜åœ¨ï¼Œå†æ‰“åŒ…æ‰€æœ‰.oæ–‡ä»¶</span>
<span class="hljs-variable">$(calc_static_lib)</span>: <span class="hljs-variable">$(calc_lib_objs)</span>
	mkdir -p 3lib  <span class="hljs-comment"># è‹¥3libç›®å½•ä¸å­˜åœ¨åˆ™åˆ›å»º</span>
	ar rcs <span class="hljs-variable">$@</span> <span class="hljs-variable">$^</span>   <span class="hljs-comment"># r=æ›¿æ¢æ—§æ–‡ä»¶ c=åˆ›å»ºåº“ s=ç”Ÿæˆç´¢å¼•</span>

<span class="hljs-comment"># ç¼–è¯‘å¯æ‰§è¡Œæ–‡ä»¶ï¼šé“¾æ¥é™æ€åº“ï¼Œè¾“å‡ºåˆ°0outputç›®å½•</span>
<span class="hljs-variable">$(calc_target)</span>: <span class="hljs-variable">$(calc_static_lib)</span>
	mkdir -p 0output  <span class="hljs-comment"># ç¡®ä¿è¾“å‡ºç›®å½•å­˜åœ¨</span>
	gcc <span class="hljs-variable">$(CFLAGS)</span> 1src/main.c <span class="hljs-variable">$(calc_static_lib)</span> -o 0output/<span class="hljs-variable">$(calc_target)</span>

<span class="hljs-comment"># æ¸…ç†è§„åˆ™ï¼šåˆ é™¤æ‰€æœ‰ç¼–è¯‘äº§ç‰©</span>
<span class="hljs-section">clean:</span>
	rm -rf 3lib/*.o 3lib/*.a 0output/*
	@echo <span class="hljs-string">"ğŸ—‘ï¸  è®¡ç®—å™¨äº§ç‰©æ¸…ç†å®Œæˆ"</span>

<span class="hljs-comment"># å£°æ˜ä¼ªç›®æ ‡ï¼šé¿å…ä¸åŒåæ–‡ä»¶å†²çª</span>
<span class="hljs-meta"><span class="hljs-keyword">.PHONY</span>: all clean</span>
</code></pre>
<h4 data-id="heading-5">å…³é”®è§£æï¼ˆæ–°æ‰‹å¿…çœ‹ï¼‰</h4>
<ol>
<li>
<p><strong>å˜é‡å®šä¹‰</strong>ï¼šæŠŠç¼–è¯‘å‚æ•°ã€æ–‡ä»¶åã€è·¯å¾„éƒ½å®šä¹‰ä¸ºå˜é‡ï¼Œåç»­ä¿®æ”¹åªéœ€æ”¹å˜é‡å€¼ï¼ˆæ¯”å¦‚æ¢ç¼–è¯‘å™¨ã€æ”¹åº“åï¼‰ï¼Œæ— éœ€é€è¡Œæ”¹è§„åˆ™ï¼›</p>
<ul>
<li><code>CFLAGS</code>å‚æ•°è¯´æ˜ï¼š<code>-Wall</code>æ˜¾ç¤ºæ‰€æœ‰è­¦å‘Šã€<code>-g</code>ç”Ÿæˆè°ƒè¯•ä¿¡æ¯ã€<code>-O2</code>ä¼˜åŒ–ç¼–è¯‘ã€<code>-I ./2include</code>æŒ‡å®šå¤´æ–‡ä»¶è·¯å¾„ï¼›</li>
</ul>
</li>
<li>
<p><strong>é€šç”¨è§„åˆ™<code>3lib/%.o: 1src/%.c</code></strong>ï¼š</p>
<ul>
<li><code>%</code>æ˜¯é€šé…ç¬¦ï¼ŒåŒ¹é…ä»»æ„æ–‡ä»¶åï¼ˆæ¯”å¦‚ Addã€mulï¼‰ï¼›</li>
<li><code>$&lt;</code>ä»£è¡¨ â€œä¾èµ–é¡¹â€ï¼ˆå³ 1src ä¸‹çš„.c æ–‡ä»¶ï¼‰ï¼Œ<code>$@</code>ä»£è¡¨ â€œç›®æ ‡é¡¹â€ï¼ˆå³ 3lib ä¸‹çš„.o æ–‡ä»¶ï¼‰ï¼›</li>
<li>è¿™æ¡è§„åˆ™èƒ½è‡ªåŠ¨åŒ¹é…æ‰€æœ‰ 1src ä¸‹çš„.c æ–‡ä»¶ï¼Œæ— éœ€ä¸ºæ¯ä¸ªæ–‡ä»¶å†™å•ç‹¬çš„ç¼–è¯‘è§„åˆ™ï¼›</li>
</ul>
</li>
<li>
<p><strong>é™æ€åº“æ‰“åŒ…å‘½ä»¤<code>ar rcs</code></strong>ï¼šåµŒå…¥å¼å¼€å‘å¿…å¤‡ï¼Œ<code>ar</code>æ˜¯é™æ€åº“æ‰“åŒ…å·¥å…·ï¼Œ<code>rcs</code>ç»„åˆå‚æ•°èƒ½å¿«é€Ÿç”Ÿæˆå¯ç”¨çš„é™æ€åº“ï¼›</p>
</li>
<li>
<p><strong>ä¼ªç›®æ ‡<code>.PHONY</code></strong>ï¼šå£°æ˜<code>all</code>å’Œ<code>clean</code>æ˜¯ â€œä¼ªç›®æ ‡â€ï¼ˆä¸æ˜¯å®é™…æ–‡ä»¶ï¼‰ï¼Œé¿å…é¡¹ç›®ä¸­å­˜åœ¨åŒåæ–‡ä»¶æ—¶ï¼ŒMake è¯¯åˆ¤ â€œç›®æ ‡å·²æ›´æ–°â€ã€‚</p>
</li>
</ol>
<h4 data-id="heading-6">é™æ€åº“ Makefile ä½¿ç”¨æ–¹æ³•</h4>
<p>bash</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸€é”®ç¼–è¯‘é™æ€åº“+å¯æ‰§è¡Œæ–‡ä»¶</span>
make

<span class="hljs-comment"># è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶</span>
./0output/calculator

<span class="hljs-comment"># ä¸€é”®æ¸…ç†æ‰€æœ‰ç¼–è¯‘äº§ç‰©</span>
make clean
</code></pre>
<h3 data-id="heading-7">ä¸‰ã€å®æˆ˜ 2ï¼šåŠ¨æ€åº“ç‰ˆ Makefileï¼ˆæ”¯æŒç³»ç»Ÿçº§å®‰è£…ï¼‰</h3>
<p>åŠ¨æ€åº“çš„ä¼˜åŠ¿æ˜¯èŠ‚çœå†…å­˜ï¼ˆå¤šä¸ªç¨‹åºå…±äº«ä¸€ä»½åº“ï¼‰ï¼Œé€‚åˆéœ€è¦çµæ´»æ›´æ–°çš„åœºæ™¯ã€‚è¿™ä»½ Makefile æ–°å¢äº† â€œå®‰è£…åŠ¨æ€åº“åˆ°ç³»ç»Ÿç›®å½•â€ çš„è§„åˆ™ï¼Œè§£å†³åŠ¨æ€åº“è¿è¡Œæ—¶è·¯å¾„é—®é¢˜ï¼š</p>
<h4 data-id="heading-8">å®Œæ•´åŠ¨æ€åº“ Makefile ä»£ç </h4>
<p>makefile</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-comment"># æ ¸å¿ƒç¼–è¯‘å‚æ•°</span>
CFLAGS = -Wall -g -O2 -I ./2include
<span class="hljs-comment"># å¯æ‰§è¡Œæ–‡ä»¶åç§°</span>
calc_target = calculator          
<span class="hljs-comment"># åº“æ¨¡å—æºæ–‡ä»¶åˆ—è¡¨</span>
calc_srcs = 1src/Add.c 1src/mul.c 1src/sub.c 1src/div.c 1src/utils.c
<span class="hljs-comment"># ç›®æ ‡æ–‡ä»¶åˆ—è¡¨</span>
calc_lib_objs = 3lib/Add.o 3lib/mul.o 3lib/sub.o 3lib/div.o 3lib/utils.o
<span class="hljs-comment"># åŠ¨æ€åº“åç§°</span>
calc_dynamic_lib = 3lib/libcal.so
<span class="hljs-comment"># ç³»ç»Ÿåº“ç›®å½•ï¼ˆåŠ¨æ€åº“å®‰è£…è·¯å¾„ï¼‰</span>
sys_lib_dir = /usr/lib      
<span class="hljs-comment"># é“¾æ¥åº“æ—¶çš„ç®€å†™åç§°ï¼ˆ-lcal å¯¹åº” libcal.soï¼‰</span>
lib_name = -lcal

<span class="hljs-comment"># é»˜è®¤ç›®æ ‡ï¼šå…ˆç¼–è¯‘åŠ¨æ€åº“ï¼Œå†ç¼–è¯‘å¯æ‰§è¡Œæ–‡ä»¶</span>
<span class="hljs-section">all: <span class="hljs-variable">$(calc_dynamic_lib)</span> <span class="hljs-variable">$(calc_target)</span></span>
	@echo <span class="hljs-string">"âœ… è®¡ç®—å™¨ç¼–è¯‘å®Œæˆï¼å¯æ‰§è¡Œæ–‡ä»¶ï¼š0output/calculator"</span>

<span class="hljs-comment"># é€šç”¨è§„åˆ™ï¼šç¼–è¯‘3libä¸‹çš„.oæ–‡ä»¶</span>
<span class="hljs-section">3lib/%.o: 1src/%.c</span>
	gcc <span class="hljs-variable">$(CFLAGS)</span> -c <span class="hljs-variable">$&lt;</span> -o <span class="hljs-variable">$@</span>

<span class="hljs-comment"># ç¼–è¯‘åŠ¨æ€åº“ï¼š-fPICç”Ÿæˆä½ç½®æ— å…³ä»£ç ï¼Œ-sharedæŒ‡å®šåŠ¨æ€åº“</span>
<span class="hljs-variable">$(calc_dynamic_lib)</span>: <span class="hljs-variable">$(calc_lib_objs)</span>
	mkdir -p 3lib
	gcc <span class="hljs-variable">$(CFLAGS)</span> -fPIC -shared -o <span class="hljs-variable">$@</span> <span class="hljs-variable">$^</span>

<span class="hljs-comment"># å®‰è£…åŠ¨æ€åº“åˆ°ç³»ç»Ÿç›®å½•ï¼šè§£å†³è¿è¡Œæ—¶åº“è·¯å¾„é—®é¢˜</span>
<span class="hljs-section">install: <span class="hljs-variable">$(calc_dynamic_lib)</span></span>
	sudo cp <span class="hljs-variable">$(calc_dynamic_lib)</span> <span class="hljs-variable">$(sys_lib_dir)</span>
	sudo ldconfig  <span class="hljs-comment"># åˆ·æ–°ç³»ç»Ÿåº“ç¼“å­˜</span>
	@echo <span class="hljs-string">"âœ… åŠ¨æ€åº“å·²å®‰è£…åˆ° <span class="hljs-variable">$(sys_lib_dir)</span>ï¼Œç³»ç»Ÿå·²åˆ·æ–°ç¼“å­˜"</span>

<span class="hljs-comment"># æ¸…é™¤3libç›®å½•æ‰€æœ‰æ–‡ä»¶ï¼ˆæ¯”cleanæ›´å½»åº•ï¼‰</span>
<span class="hljs-section">clear:</span>
	rm -rf 3lib/*
	@echo <span class="hljs-string">"ğŸ—‘ï¸  3libç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å·²æ¸…é™¤ï¼"</span>

<span class="hljs-comment"># ç¼–è¯‘å¯æ‰§è¡Œæ–‡ä»¶ï¼šé“¾æ¥åŠ¨æ€åº“</span>
<span class="hljs-variable">$(calc_target)</span>: <span class="hljs-variable">$(calc_dynamic_lib)</span>
	mkdir -p 0output
	gcc <span class="hljs-variable">$(CFLAGS)</span> 1src/main.c -L3lib <span class="hljs-variable">$(lib_name)</span> -o 0output/<span class="hljs-variable">$(calc_target)</span>

<span class="hljs-comment"># æ¸…ç†è§„åˆ™ï¼šåˆ é™¤.oã€.soå’Œå¯æ‰§è¡Œæ–‡ä»¶</span>
<span class="hljs-section">clean:</span>
	rm -rf 3lib/*.o 3lib/*.so 0output/*
	@echo <span class="hljs-string">"ğŸ—‘ï¸  è®¡ç®—å™¨äº§ç‰©æ¸…ç†å®Œæˆ"</span>

<span class="hljs-comment"># å£°æ˜ä¼ªç›®æ ‡</span>
<span class="hljs-meta"><span class="hljs-keyword">.PHONY</span>: all clean clear install</span>
</code></pre>
<h4 data-id="heading-9">åŠ¨æ€åº“æ ¸å¿ƒå·®å¼‚è§£æ</h4>
<ol>
<li>
<p><strong>åŠ¨æ€åº“ç¼–è¯‘å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>-fPIC</code>ï¼šç”Ÿæˆä½ç½®æ— å…³ä»£ç ï¼ˆåŠ¨æ€åº“å¿…å¤‡ï¼Œå¦åˆ™æ— æ³•åœ¨å†…å­˜ä»»æ„åœ°å€åŠ è½½ï¼‰ï¼›</li>
<li><code>-shared</code>ï¼šå‘Šè¯‰ç¼–è¯‘å™¨ç”ŸæˆåŠ¨æ€åº“ï¼Œè€Œéå¯æ‰§è¡Œæ–‡ä»¶ï¼›</li>
</ul>
</li>
<li>
<p><strong>å®‰è£…è§„åˆ™<code>install</code></strong>ï¼š</p>
<ul>
<li>å°†åŠ¨æ€åº“å¤åˆ¶åˆ°ç³»ç»Ÿé»˜è®¤åº“ç›®å½•<code>/usr/lib</code>ï¼Œè§£å†³ â€œè¿è¡Œæ—¶æ‰¾ä¸åˆ° libcal.soâ€ çš„é—®é¢˜ï¼›</li>
<li><code>ldconfig</code>ï¼šåˆ·æ–°ç³»ç»Ÿåº“ç¼“å­˜ï¼Œè®©ç³»ç»Ÿè¯†åˆ«æ–°å®‰è£…çš„åŠ¨æ€åº“ï¼›</li>
</ul>
</li>
<li>
<p><strong>é“¾æ¥åŠ¨æ€åº“</strong>ï¼š<code>-L3lib</code>æŒ‡å®šåº“æœç´¢è·¯å¾„ï¼Œ<code>-lcal</code>ç®€å†™é“¾æ¥<code>libcal.so</code>ï¼ˆMake è‡ªåŠ¨è¡¥å…¨<code>lib</code>å‰ç¼€å’Œ<code>.so</code>åç¼€ï¼‰ï¼›</p>
</li>
<li>
<p><strong>æ–°å¢<code>clear</code>è§„åˆ™</strong>ï¼šå½»åº•æ¸…ç©º 3lib ç›®å½•ï¼Œé€‚åˆé‡æ–°ç¼–è¯‘æ—¶ä½¿ç”¨ã€‚</p>
</li>
</ol>
<h4 data-id="heading-10">åŠ¨æ€åº“ Makefile ä½¿ç”¨æ–¹æ³•</h4>
<p>bash</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸€é”®ç¼–è¯‘åŠ¨æ€åº“+å¯æ‰§è¡Œæ–‡ä»¶</span>
make

<span class="hljs-comment"># å®‰è£…åŠ¨æ€åº“åˆ°ç³»ç»Ÿï¼ˆè§£å†³è¿è¡Œæ—¶ä¾èµ–ï¼‰</span>
make install

<span class="hljs-comment"># è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆæ— éœ€æ‰‹åŠ¨é…ç½®LD_LIBRARY_PATHï¼‰</span>
./0output/calculator

<span class="hljs-comment"># æ¸…ç†ç¼–è¯‘äº§ç‰©</span>
make clean

<span class="hljs-comment"># å½»åº•æ¸…ç©º3libç›®å½•</span>
make clear
</code></pre>
<h3 data-id="heading-11">å››ã€é¿å‘æŒ‡å—ï¼šMakefile å¸¸è§é—®é¢˜è§£å†³</h3>
<ol>
<li>
<p><strong>æŠ¥é”™ â€œmissing separator. Stop.â€</strong> ï¼š</p>
<ul>
<li>åŸå› ï¼šè§„åˆ™åçš„å‘½ä»¤è¡Œæ²¡æœ‰ç”¨ TAB å¼€å¤´ï¼ˆç”¨äº†ç©ºæ ¼ï¼‰ï¼›</li>
<li>è§£å†³ï¼šå°†å‘½ä»¤è¡Œå‰çš„ç©ºæ ¼æ›¿æ¢ä¸º TABï¼ˆç¼–è¾‘å™¨éœ€å…³é—­ â€œTAB è½¬ç©ºæ ¼â€ åŠŸèƒ½ï¼‰ï¼›</li>
</ul>
</li>
<li>
<p><strong>åŠ¨æ€åº“è¿è¡ŒæŠ¥é”™ â€œæ‰¾ä¸åˆ° libcal.soâ€</strong> ï¼š</p>
<ul>
<li>åŸå› ï¼šç³»ç»Ÿæœªè¯†åˆ«åŠ¨æ€åº“è·¯å¾„ï¼›</li>
<li>è§£å†³ï¼šæ‰§è¡Œ<code>make install</code>å°†åº“å®‰è£…åˆ°ç³»ç»Ÿç›®å½•ï¼Œæˆ–ä¸´æ—¶é…ç½®ç¯å¢ƒå˜é‡<code>export LD_LIBRARY_PATH=./3lib:$LD_LIBRARY_PATH</code>ï¼›</li>
</ul>
</li>
<li>
<p><strong>ç¼–è¯‘æ—¶ â€œæ‰¾ä¸åˆ°å¤´æ–‡ä»¶â€</strong> ï¼š</p>
<ul>
<li>åŸå› ï¼š<code>CFLAGS</code>ä¸­<code>-I ./2include</code>è·¯å¾„é”™è¯¯ï¼›</li>
<li>è§£å†³ï¼šç¡®è®¤å¤´æ–‡ä»¶ç›®å½•è·¯å¾„ï¼Œç¡®ä¿ä¸é¡¹ç›®ç»“æ„åŒ¹é…ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-12">äº”ã€æ€»ç»“ï¼šMakefile çš„æ ¸å¿ƒä»·å€¼ä¸å¤ç”¨æŠ€å·§</h3>
<ol>
<li>
<p><strong>æ ¸å¿ƒä»·å€¼</strong>ï¼š</p>
<ul>
<li>è‡ªåŠ¨åŒ–ï¼šæ›¿ä»£é‡å¤çš„ gcc å‘½ä»¤ï¼Œä¸€é”®å®Œæˆç¼–è¯‘ã€æ‰“åŒ…ã€å®‰è£…ï¼›</li>
<li>å¯ç»´æŠ¤ï¼šå˜é‡é›†ä¸­å®šä¹‰ï¼Œä¿®æ”¹å‚æ•°æ— éœ€æ”¹éæ‰€æœ‰è§„åˆ™ï¼›</li>
<li>å¢é‡ç¼–è¯‘ï¼šMake ä¼šè‡ªåŠ¨å¯¹æ¯”æ–‡ä»¶ä¿®æ”¹æ—¶é—´ï¼Œåªé‡æ–°ç¼–è¯‘å˜åŠ¨çš„æ–‡ä»¶ï¼Œæå‡æ•ˆç‡ï¼›</li>
</ul>
</li>
<li>
<p><strong>å¤ç”¨æŠ€å·§</strong>ï¼š</p>
<ul>
<li>ä¿ç•™é€šç”¨è§„åˆ™ï¼ˆå¦‚<code>3lib/%.o: 1src/%.c</code>ï¼‰ï¼Œåªéœ€ä¿®æ”¹å˜é‡ï¼ˆæºæ–‡ä»¶ã€åº“åã€è·¯å¾„ï¼‰å³å¯é€‚é…å…¶ä»–é¡¹ç›®ï¼›</li>
<li>é™æ€åº“ / åŠ¨æ€åº“çš„æ ¸å¿ƒç¼–è¯‘å‚æ•°å›ºå®šï¼Œå¯ç›´æ¥å¤åˆ¶åˆ°å…¶ä»–åµŒå…¥å¼é¡¹ç›®ä¸­ï¼›</li>
<li>æ–°å¢<code>install</code>/<code>clear</code>ç­‰æ‰©å±•è§„åˆ™ï¼Œé€‚é…ä¸åŒåœºæ™¯çš„ä¾¿æ·æ“ä½œã€‚</li>
</ul>
</li>
</ol>
<p>è¿™ä»½ Makefile æ¨¡æ¿å¯ä»¥ç›´æ¥å¥—ç”¨åˆ°ä½ çš„ Linux C/C++ é¡¹ç›®ä¸­ï¼Œæ— è®ºæ˜¯åµŒå…¥å¼è®¡ç®—å™¨ã€ä¸²å£é©±åŠ¨è¿˜æ˜¯å…¶ä»–æ¨¡å—ï¼Œåªéœ€ä¿®æ”¹å˜é‡éƒ¨åˆ†å°±èƒ½å¿«é€Ÿé€‚é…ã€‚æŒæ¡è¿™äº›è§„åˆ™åï¼Œä½ å°±èƒ½æ‘†è„± â€œæ‰‹åŠ¨æ•²ç¼–è¯‘å‘½ä»¤â€ çš„ä½æ•ˆæ¨¡å¼ï¼ŒçœŸæ­£å®ç° Linux å¼€å‘çš„è‡ªåŠ¨åŒ–ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•é€šè¿‡ Cloudflare Tunnel æ›´å®‰å…¨çš„è®¿é—® RustFSï¼Ÿ]]></title>    <link>https://juejin.cn/post/7599585289946169407</link>    <guid>https://juejin.cn/post/7599585289946169407</guid>    <pubDate>2026-01-27T01:09:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599585289946169407" data-draft-id="7599502282602545215" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•é€šè¿‡ Cloudflare Tunnel æ›´å®‰å…¨çš„è®¿é—® RustFSï¼Ÿ"/> <meta itemprop="keywords" content="Rust"/> <meta itemprop="datePublished" content="2026-01-27T01:09:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RustFS"/> <meta itemprop="url" content="https://juejin.cn/user/511719423354121"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•é€šè¿‡ Cloudflare Tunnel æ›´å®‰å…¨çš„è®¿é—® RustFSï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/511719423354121/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RustFS
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T01:09:50.000Z" title="Tue Jan 27 2026 01:09:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>RustFS é»˜è®¤é€šè¿‡ <code>9001</code> ç«¯å£ç™»å½•æ§åˆ¶å°ï¼Œ<code>9000</code> ç«¯å£ä½¿ç”¨ APIï¼Œä¸ºäº†å®‰å…¨åˆè§„ï¼Œé€šå¸¸é‡‡ç”¨**å¯ç”¨ HTTPSã€åå‘ä»£ç†ï¼ˆè¯¸å¦‚ nginxã€traefikã€caddy ç­‰ï¼‰**çš„æ–¹å¼æ¥æ›´åŠ å®‰å…¨çš„ä½¿ç”¨ RustFSã€‚æœ¬æ–‡åˆ†äº«ä¸€ç§æ›´åŠ å®‰å…¨çš„æ–¹å¼ï¼Œé€šè¿‡ Cloudflare tunnel æ¥è®¿é—®ä½ çš„ RustFS å®ä¾‹ã€‚</p>
<h2 data-id="heading-0">å®‰è£… RustFS</h2>
<p>RustFS æ”¯æŒäºŒè¿›åˆ¶ã€Docker ä»¥åŠ Helm Chart çš„å®‰è£…æ–¹å¼ï¼Œè¯¦ç»†æ–¹æ³•å¯ä»¥æŸ¥çœ‹<a href="https://link.juejin.cn?target=https%3A%2F%2Frustfs.com" target="_blank" title="https://rustfs.com" ref="nofollow noopener noreferrer">å®˜ç½‘å®‰è£…æŒ‡å—</a>ã€‚å°†å¦‚ä¸‹å†…å®¹å†™å…¥ <code>docker-compose.yml</code> æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">services:</span>
  <span class="hljs-attr">rustfs:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">rustfs/rustfs:latest</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">rustfs</span>
    <span class="hljs-attr">hostname:</span> <span class="hljs-string">rustfs</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">RUSTFS_VOLUMES=/data/rustfs{1...4}</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">RUSTFS_ADDRESS=0.0.0.0:9000</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">RUSTFS_CONSOLE_ENABLE=true</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">RUSTFS_CONSOLE_ADDRESS=0.0.0.0:9001</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">RUSTFS_ACCESS_KEY=rustfsadmin</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">RUSTFS_SECRET_KEY=rustfsadmin</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">RUSTFS_TLS_PATH=/opt/tls</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"9000:9000"</span>  <span class="hljs-comment"># API endpoint</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"9001:9001"</span>  <span class="hljs-comment"># Console</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">data1:/data/rustfs1</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">data2:/data/rustfs2</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">data3:/data/rustfs3</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">data4:/data/rustfs4</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./certs:/opt/tls</span>

    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">rustfs</span>

<span class="hljs-attr">networks:</span>
  <span class="hljs-attr">rustfs:</span>
    <span class="hljs-attr">driver:</span> <span class="hljs-string">bridge</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">rustfs</span>

<span class="hljs-attr">volumes:</span>
  <span class="hljs-attr">data1:</span>
  <span class="hljs-attr">data2:</span>
  <span class="hljs-attr">data3:</span>
  <span class="hljs-attr">data4:</span>
</code></pre>
<p>è¿è¡Œå¦‚ä¸‹å‘½ä»¤</p>
<pre><code class="hljs">docker compose up -d
</code></pre>
<p>å³å¯å®‰è£…å¥½ä¸€ä¸ª RustFS å®ä¾‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker compose ps
NAME      IMAGE                          COMMAND                  SERVICE   CREATED          STATUS          PORTS
rustfs    rustfs/rustfs:1.0.0-alpha.81   <span class="hljs-string">"/entrypoint.sh rustâ€¦"</span>   rustfs    22 minutes ago   Up 22 minutes   0.0.0.0:9000-9001-&gt;9000-9001/tcp, [::]:9000-9001-&gt;9000-9001/tcp
</code></pre>
<h2 data-id="heading-1">é…ç½® Cloudflare tunnel</h2>
<p>é…ç½® Cloudflare tunnel å¤§ä½“åˆ†ä¸º <strong>åŸŸåé…ç½®</strong> å’Œ <strong>tunnel é…ç½®</strong> ä¸¤éƒ¨åˆ†ã€‚</p>
<h3 data-id="heading-2">åŸŸåé…ç½®</h3>
<p>åŸŸåé…ç½®æ˜¯ä¸ºäº†åæœŸèƒ½å¤Ÿæ›´æ–¹ä¾¿çš„è®¿é—® RustFSã€‚</p>
<ul>
<li>ä½¿ç”¨ Cloudflare è´¦å·ç™»å½• Cloudflare Domain ç•Œé¢ï¼›</li>
<li>åœ¨å·¦ä¾§å¯¼èˆªæ ï¼Œ<strong>Account home</strong>ï¼Œå¦‚æœä½ å·²ç»æœ‰åŸŸåï¼Œåˆ™é€‰æ‹© <strong>Onboard a domain</strong>ï¼Œå¦åˆ™å¯é€‰æ‹© <strong>Buy a domain</strong>ã€‚</li>
<li>å¦‚æœé€‰æ‹© <strong>Onboard a domain</strong>ï¼Œç‚¹å‡»è¯¥é€‰é¡¹åï¼Œåœ¨å‡ºç°çš„ç•Œé¢ä¸­è¾“å…¥ä½ çš„åŸŸåï¼Œç„¶åç»§ç»­å¾€ä¸‹èµ°ï¼Œç›´åˆ°åœ¨æœ€åé€‰æ‹© <strong>Continue to activation</strong>ã€‚</li>
<li>å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œå¯ä»¥åœ¨åŸŸåç®¡ç†é¦–é¡µçœ‹åˆ°æ·»åŠ æˆåŠŸçš„åŸŸåï¼Œå…¶ <strong>Status</strong> ä¼šæ˜¾ç¤ºä¸º <strong>Active</strong>ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eeca92abe4fa4c31b912cf2714d9ee3e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUnVzdEZT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770080990&amp;x-signature=h4ibF3A7TLdOiixu2hAmrKBe9d8%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-3">tunnel é…ç½®</h3>
<ul>
<li>
<p>ä½¿ç”¨ Cloudflare è´¦å·ç™»å½• <a href="https://link.juejin.cn?target=https%3A%2F%2Fone.dash.cloudflare.com%2F" target="_blank" title="https://one.dash.cloudflare.com/" ref="nofollow noopener noreferrer">Cloudflare Dashboard</a>ï¼›</p>
</li>
<li>
<p>åœ¨å·¦ä¾§å¯¼èˆªæ ï¼Œé€‰æ‹© <strong>Networks -&gt; Connectors</strong>ï¼Œåœ¨å³ä¾§ç•Œé¢ç‚¹å‡» <strong>Create a tunnel</strong>ï¼›</p>
</li>
<li>
<p>åœ¨ tunnel ç±»å‹ä¸­ï¼Œé€‰æ‹© <strong>Select Clouflared</strong>ï¼›</p>
</li>
<li>
<p>åœ¨ <strong>Install and run connectors</strong> ä¸­ï¼Œæ ¹æ® RustFS å®ä¾‹æ‰€åœ¨æœåŠ¡å™¨çš„æ“ä½œç³»ç»Ÿä¿¡æ¯ï¼Œé€‰æ‹©ç›¸åº”çš„å®‰è£…æ–¹å¼ã€‚å®‰è£…å®Œæ¯•åï¼Œå¯ä»¥åœ¨æœåŠ¡å™¨ä¸ŠæŸ¥çœ‹ <code>cloudflared</code> æœåŠ¡çš„çŠ¶æ€ã€‚è¿è¡Œæ­£å¸¸åç‚¹å‡» <strong>Next</strong>ã€‚</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">systemctl</span> <span class="hljs-string">status</span> <span class="hljs-string">cloudflared</span>
<span class="hljs-string">â—</span> <span class="hljs-string">cloudflared.service</span> <span class="hljs-bullet">-</span> <span class="hljs-string">cloudflared</span>
     <span class="hljs-attr">Loaded:</span> <span class="hljs-string">loaded</span> <span class="hljs-string">(/etc/systemd/system/cloudflared.service;</span> <span class="hljs-string">enabled;</span> <span class="hljs-attr">preset:</span> <span class="hljs-string">enabled)</span>
     <span class="hljs-attr">Active:</span> <span class="hljs-string">active</span> <span class="hljs-string">(running)</span> <span class="hljs-string">since</span> <span class="hljs-string">Fri</span> <span class="hljs-number">2026-01-16 21:18:53 </span><span class="hljs-string">CST;</span> <span class="hljs-number">6</span> <span class="hljs-string">days</span> <span class="hljs-string">ago</span>
   <span class="hljs-attr">Main PID:</span> <span class="hljs-number">2538004</span> <span class="hljs-string">(cloudflared)</span>
      <span class="hljs-attr">Tasks:</span> <span class="hljs-number">10</span> <span class="hljs-string">(limit:</span> <span class="hljs-number">4375</span><span class="hljs-string">)</span>
     <span class="hljs-attr">Memory:</span> <span class="hljs-number">31.</span><span class="hljs-string">3M</span> <span class="hljs-string">(peak:</span> <span class="hljs-attr">38.7M swap: 8.2M swap peak:</span> <span class="hljs-number">15.</span><span class="hljs-string">3M)</span>
        <span class="hljs-attr">CPU:</span> <span class="hljs-string">18min</span> <span class="hljs-number">16.</span><span class="hljs-string">159s</span>
     <span class="hljs-attr">CGroup:</span> <span class="hljs-string">/system.slice/cloudflared.service</span>
</code></pre>
</li>
<li>
<p>åœ¨ <strong>Route Traffic</strong> ä¸­ï¼Œé…ç½® <strong>Hostname</strong> å’Œ <strong>Service</strong> ä¿¡æ¯ã€‚</p>
<ul>
<li>Hostname ä¸­å¡«å†™çš„åŸŸåå¯ç”¨äºåç»­è®¿é—® RustFS å®ä¾‹ï¼Œå¯ä»¥åœ¨ <strong>Domain</strong> å­—æ®µä¸­é€‰æ‹© <strong>åŸŸåé…ç½®</strong> éƒ¨åˆ†æ·»åŠ å¥½çš„åŸŸåã€‚å¦‚æœæƒ³é€šè¿‡å­åŸŸåè®¿é—®ï¼Œä¹Ÿå¯ä»¥åœ¨ <strong>Subdomain</strong> å­—æ®µä¸­è¾“å…¥å­åŸŸååç§°ã€‚</li>
<li>Service é€‰æ‹©æœåŠ¡ç±»å‹å’Œ URLã€‚å¯¹äºä¸Šè¿°å®‰è£…çš„ RustFS å®ä¾‹ï¼ŒType å¯ä»¥é€‰æ‹© HTTP/HTTPSï¼ˆå¦‚æœå¯ç”¨äº† HTTPSï¼Œå¯é€‰æ‹© HTTPSï¼Œå¦åˆ™ç”¨ HTTPï¼‰ï¼ŒURL ä¸º <code>localhost:9001</code>ã€‚</li>
</ul>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d13f6684fb9e477db24d92a8a483a478~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUnVzdEZT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770080990&amp;x-signature=sd%2FQ4VdrcOZrH5iKUS95T7FnmUE%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>ç‚¹å‡» <strong>Complete setup</strong> å®Œæˆé…ç½®ã€‚</li>
</ul>
<p>ä¸Šè¿°é…ç½®ç»“æŸåï¼Œå¯ä»¥åœ¨ Connectors ç•Œé¢çœ‹åˆ°æ·»åŠ å¥½çš„ tunnelï¼Œå¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œåˆ™å¯ä»¥çœ‹åˆ° <strong>Status</strong> ä¸ºç»¿è‰²çš„ <strong>HEALTHY</strong>ã€‚</p>
<blockquote>
<p>åœ¨ Hostname å’Œ Service è®¾ç½®é¡µé¢çš„ <strong>Additional application settings</strong> éƒ¨åˆ†ï¼Œç‚¹å‡» <strong>HTTP Settings</strong>ï¼Œåœ¨ <strong>HTTP Host Header</strong> éƒ¨åˆ†ï¼Œè¾“å…¥è®¿é—® RustFS çš„åŸŸåï¼Œè¿™æ˜¯ä¸ºäº†é¿å…åç»­ä½¿ç”¨å‡ºç°ç­¾åé”™è¯¯ã€‚</p>
</blockquote>
<h2 data-id="heading-4">ç™»å½•éªŒè¯</h2>
<p>æ­å–œä½ ï¼Œå¦‚æœä½ é¡ºåˆ©å®Œæˆäº†ä¸Šè¿°ä¸¤éƒ¨åˆ†çš„é…ç½®åï¼Œé‚£ä¹ˆç°åœ¨ä½ å°±å¯ä»¥é€šè¿‡ä½ é…ç½®å¥½çš„åŸŸåæ¥è®¿é—® RustFS å®ä¾‹äº†ã€‚æœ¬æ–‡é…ç½®çš„åŸŸåä¸º <code>rustfs.xiaomage.vip</code>ï¼Œæ‰€ä»¥åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ <code>https://rustfs.xiaomage.vip</code> å³å¯è®¿é—® RustFS å®ä¾‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10b1e5f2206d49949a41fed42f3eb214~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUnVzdEZT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770080990&amp;x-signature=GmOuS1Hkr8YjsEGWHm0ejLyFc7Y%3D" alt="image.png" loading="lazy"/></p>
<p>è¾“å…¥ <code>rustfsadmin/rustfsadmin</code> å³å¯ç™»å½•ã€‚</p>
<p>æ¥ä¸‹æ¥å°±å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼æ¥ä½¿ç”¨ RustFS å®ä¾‹äº†ï¼Œæ¯”å¦‚ <code>mc</code>ã€<code>rc</code> ä»¥åŠ <code>rclone</code>ã€‚</p>
<h2 data-id="heading-5">é€šè¿‡ <code>mc</code> ä½¿ç”¨ RustFS</h2>
<p><code>mc</code> æ˜¯ Minio çš„ä¸“å±å®¢æˆ·ç«¯ï¼Œç”±äº RustFS æ˜¯ S3 å…¼å®¹çš„ï¼Œè€Œä¸”æ˜¯ Minio çš„å¹³æ›¿ï¼Œæ‰€ä»¥å¯ä»¥ç”¨ <code>mc</code> æ¥æ“ä½œ RustFSã€‚</p>
<h3 data-id="heading-6">å‰æ</h3>
<ul>
<li>æ ¹æ® minio <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fminio%2Fmc" target="_blank" title="https://github.com/minio/mc" ref="nofollow noopener noreferrer">å®˜ç½‘æŒ‡å—</a>å®‰è£…å¥½ <code>mc</code>ã€‚</li>
</ul>

<pre><code class="hljs language-sql" lang="sql">mc <span class="hljs-comment">--version</span>
mc version <span class="hljs-keyword">RELEASE</span><span class="hljs-number">.2025</span><span class="hljs-number">-08</span><span class="hljs-number">-29</span>T21<span class="hljs-number">-30</span><span class="hljs-number">-41</span>Z (<span class="hljs-keyword">commit</span><span class="hljs-operator">-</span>id<span class="hljs-operator">=</span>f7560841be167a94b7014bf8a504e0820843247f)
Runtime: go1<span class="hljs-number">.24</span><span class="hljs-number">.6</span> darwin<span class="hljs-operator">/</span>arm64
Copyright (c) <span class="hljs-number">2015</span><span class="hljs-number">-2025</span> MinIO, Inc.
MinIO Enterprise License
</code></pre>
<h3 data-id="heading-7">ä½¿ç”¨</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ·»åŠ  `alias`</span>
mc <span class="hljs-built_in">alias</span> <span class="hljs-built_in">set</span> rustfs https://rustfs.xiaomage.vip rustfsadmin rustfsadmin

<span class="hljs-comment"># åˆ›å»ºå­˜å‚¨æ¡¶</span>
mc mb rustfs/hello

<span class="hljs-comment"># åˆ—å‡ºå­˜å‚¨æ¡¶</span>
mc <span class="hljs-built_in">ls</span> rustfs
[2026-01-23 21:39:36 CST]     0B hello/
[2026-01-23 20:12:59 CST]     0B <span class="hljs-built_in">test</span>/

<span class="hljs-comment"># ä¸Šä¼ æ–‡ä»¶åˆ°å­˜å‚¨æ¡¶</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"123456"</span> &gt; 1.txt
mc <span class="hljs-built_in">cp</span> 1.txt rustfs/hello
/tmp/1.txt:                         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100.0% 7 B       1 B/s      

<span class="hljs-comment"># æŸ¥çœ‹ä¸Šä¼ çš„æ–‡ä»¶</span>
mc <span class="hljs-built_in">ls</span> rustfs/hello
[2026-01-23 21:40:44 CST]     7B STANDARD 1.txt
</code></pre>
<p>æ›´å¤šç”¨æ³•å¯è‡ªè¡Œæ¢ç´¢ã€‚</p>
<h2 data-id="heading-8">é€šè¿‡ <code>rclone</code> ä½¿ç”¨ RustFS</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Frclone.org%2F" target="_blank" title="https://rclone.org/" ref="nofollow noopener noreferrer"><code>rclone</code></a>æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä»¥å¯¹ä¸åŒäº‘æä¾›å•†ä¸Šçš„æ–‡ä»¶å’Œç›®å½•è¿›è¡ŒåŒæ­¥ã€‚</p>
<h3 data-id="heading-9">å‰æ</h3>
<ul>
<li>
<p>æ ¹æ® <a href="https://link.juejin.cn?target=https%3A%2F%2Fchatgpt.com%2F" target="_blank" title="https://chatgpt.com/" ref="nofollow noopener noreferrer"><code>rclone</code> å®˜ç½‘æŒ‡å—</a>å®‰è£…å¥½ <code>rclone</code> å‘½ä»¤è¡Œå·¥å…·ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">rclone --version
rclone v1.72.1
- os/version: ubuntu 24.04 (64 bit)
- os/kernel: 6.8.0-71-generic (x86_64)
- os/type: linux
- os/arch: amd64
- go/version: go1.25.5
- go/linking: static
- go/tags: none
</code></pre>
</li>
</ul>
<h3 data-id="heading-10">ä½¿ç”¨</h3>
<ul>
<li>é…ç½® <code>rclone</code></li>
</ul>
<p>æ‰§è¡Œ <code>rclone config</code> å‘½ä»¤ï¼Œæ ¹æ® RustFS å®ä¾‹ä¿¡æ¯ï¼Œä¸€æ­¥æ­¥è¿›è¡Œé…ç½®ã€‚é…ç½®å®Œæˆåï¼Œä¼šç”Ÿæˆä¸€ä¸ª <code>~/.config/rclone/rclone.conf</code> æ–‡ä»¶ï¼Œä¸€èˆ¬å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[rustfs]</span>
<span class="hljs-attr">type</span> = s3
<span class="hljs-attr">provider</span> = Minio
<span class="hljs-attr">access_key_id</span> = rustfsadmin
<span class="hljs-attr">secret_access_key</span> = rustfsadmin
<span class="hljs-attr">endpoint</span> = https://rustfs.xiaomage.vip
<span class="hljs-attr">region</span> = us-east-<span class="hljs-number">1</span>
<span class="hljs-attr">force_path_style</span> = <span class="hljs-literal">true</span>
</code></pre>
<blockquote>
<p>ç”±äºç›®å‰ RustFS è¿˜æœªå‘ rclone å®˜æ–¹æ PR ä»¥å¢åŠ  RustFS provider ä¿¡æ¯ï¼Œå› æ­¤ä½¿ç”¨ Minio ä½œä¸º providerã€‚</p>
</blockquote>
<ul>
<li>å¼€å§‹ä½¿ç”¨</li>
</ul>

<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ—å‡ºå­˜å‚¨æ¡¶å’Œå¯¹è±¡</span>

rclone <span class="hljs-built_in">ls</span> rustfs: --s3-sign-accept-encoding=<span class="hljs-literal">false</span>
        7 hello/1.txt
    11792 <span class="hljs-built_in">test</span>/1.<span class="hljs-built_in">log</span>
   520512 <span class="hljs-built_in">test</span>/123.mp3
     7394 <span class="hljs-built_in">test</span>/2.<span class="hljs-built_in">log</span>
   147240 <span class="hljs-built_in">test</span>/321.mp3
   

<span class="hljs-comment"># æŸ¥çœ‹æŸä¸ªå¯¹è±¡å†…å®¹</span>
rclone <span class="hljs-built_in">cat</span> rustfs:hello/1.txt --s3-sign-accept-encoding=<span class="hljs-literal">false</span>
123456 
</code></pre>
<p>å¯¹äºå…¶ä»–ç”¨æ³•ï¼Œå¯ä»¥é€šè¿‡ <code>rclone --help</code> æ¥è‡ªè¡Œæ¢ç´¢ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šæ·»åŠ  <code>--s3-sign-accept-encoding=false</code> å‚æ•°æ˜¯å› ä¸º Cloudflare ä¼šå¯¹ <code>Accept-Encoding</code> å‚æ•°è¿›è¡Œä¿®æ”¹ï¼Œåœ¨ S3 åè®®ä¸­ï¼Œè¿™ç§å˜æ›´ä¼šå¯¼è‡´ <strong>SignatureDoesNotMatch</strong> é”™è¯¯ï¼Œè¯¦æƒ…å¯ä»¥æŸ¥çœ‹ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frustfs%2Frustfs%2Fissues%2F1492" target="_blank" title="https://github.com/rustfs/rustfs/issues/1492" ref="nofollow noopener noreferrer">RustFS issue</a>ã€‚</p>
<h3 data-id="heading-11">é€šè¿‡ <code>rc</code> ä½¿ç”¨ RustFS</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frustfs%2Fcli" target="_blank" title="https://github.com/rustfs/cli" ref="nofollow noopener noreferrer"><code>rc</code></a> æ˜¯ RustFS çš„ Clientï¼Œç”¨æ¥å¯¹ RustFS è¿›è¡Œæ“ä½œã€‚ç›®å‰ï¼Œåˆšå‘å¸ƒ <code>0.1.1</code>ã€‚å¯ä»¥ä½¿ç”¨ <code>cargo</code> æˆ–æºç ç¼–è¯‘å®‰è£…ã€‚</p>
<pre><code class="hljs language-css" lang="css">rc <span class="hljs-attr">--version</span>
rc <span class="hljs-number">0.1</span>.<span class="hljs-number">1</span>
</code></pre>
<p>ç›®å‰æä¾› <code>alias</code>ã€<code>ls</code>ã€<code>mb</code>ã€<code>rb</code> ç­‰å¤šç§å¸¸è§„å‘½ä»¤ã€‚ä½¿ç”¨æ–¹å¼å’Œ <code>mc</code> ç±»ä¼¼ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è®¾ç½® alias</span>
rc <span class="hljs-built_in">alias</span> <span class="hljs-built_in">set</span> rustfs https://rustfs.xiaomage.vip rustfsadmin rustfsadmin
âœ“ Alias <span class="hljs-string">'rustfs'</span> configured successfully.

<span class="hljs-comment"># åˆ—å‡ºå­˜å‚¨æ¡¶</span>
rc <span class="hljs-built_in">ls</span> rustfs
[2026-01-23 13:39:36]         0B hello/
[2026-01-23 13:56:57]         0B rclone/
[2026-01-23 12:12:59]         0B <span class="hljs-built_in">test</span>/

<span class="hljs-comment"># åˆ›å»ºå­˜å‚¨æ¡¶</span>
rc mb rustfs/client
âœ“ Bucket <span class="hljs-string">'rustfs/client'</span> created successfully.
</code></pre>
<p>æ›´å¤šç”¨æ³•ï¼Œå¯ä»¥é€šè¿‡ <code>rc --help</code> è¿›è¡ŒæŸ¥çœ‹å¹¶è‡ªè¡Œæ¢ç´¢ï¼Œä½¿ç”¨è¿‡ç¨‹ä¸­æœ‰ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frustfs%2Fcli%2Fissues" target="_blank" title="https://github.com/rustfs/cli/issues" ref="nofollow noopener noreferrer">GitHub Issue</a>ä¸­è¿›è¡Œåé¦ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¢ç§¯å›¾çš„å¥‡å¦™å˜å½¢ï¼šæµå›¾ä¸åœ°å¹³çº¿å›¾]]></title>    <link>https://juejin.cn/post/7599580550296141859</link>    <guid>https://juejin.cn/post/7599580550296141859</guid>    <pubDate>2026-01-27T01:50:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599580550296141859" data-draft-id="7599580550296125475" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¢ç§¯å›¾çš„å¥‡å¦™å˜å½¢ï¼šæµå›¾ä¸åœ°å¹³çº¿å›¾"/> <meta itemprop="keywords" content="Python,æ•°æ®å¯è§†åŒ–,æ•°æ®åˆ†æ"/> <meta itemprop="datePublished" content="2026-01-27T01:50:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="databook"/> <meta itemprop="url" content="https://juejin.cn/user/3526889035006702"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¢ç§¯å›¾çš„å¥‡å¦™å˜å½¢ï¼šæµå›¾ä¸åœ°å¹³çº¿å›¾
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3526889035006702/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    databook
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T01:50:50.000Z" title="Tue Jan 27 2026 01:50:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æƒ³è±¡ä¸€ä¸‹é¢ç§¯å›¾å°±åƒä¸€å±‚å±‚å èµ·æ¥çš„å½©è‰²ç»ç’ƒç‰‡ï¼Œæ¯ä¸€å±‚ä»£è¡¨ä¸€ä¸ªç±»åˆ«ï¼Œä»ä¸‹å¾€ä¸Šå †å ï¼Œå½¢æˆæ•´ä½“çš„è§†è§‰å†²å‡»ã€‚</p>
<p>ä½†æœ‰æ—¶æˆ‘ä»¬éœ€è¦æ›´ç‰¹åˆ«çš„æ–¹å¼æ¥å±•ç¤ºæ•°æ®çš„å˜åŒ–ï¼šæ˜¯åƒæ²³æµä¸€æ ·èœ¿èœ’æµæ·Œï¼Œè¿˜æ˜¯åƒåœ°å¹³çº¿ä¸Šçš„ç¾¤å±±è¿ç»µèµ·ä¼ï¼Ÿ</p>
<p>ä»Šå¤©ï¼Œæœ¬æ–‡å°†ä»‹ç»ä¸¤ç§åˆ›æ„<strong>é¢ç§¯å›¾å˜ä½“</strong>â€”â€”<strong>æµå›¾</strong>å’Œ<strong>åœ°å¹³çº¿å›¾</strong>ï¼Œå®ƒä»¬èƒ½è®©ä½ çš„æ—¶é—´åºåˆ—æ•°æ®è®²è¿°æ›´ç”ŸåŠ¨çš„æ•…äº‹ã€‚</p>
<h2 data-id="heading-0">1. æµå›¾ï¼šæ•°æ®çš„æ²³æµ</h2>
<p>å¦‚æœæŠŠä¼ ç»Ÿçš„å †å é¢ç§¯å›¾æƒ³è±¡æˆä¸€å—å—æ•´é½å †å çš„ç§¯æœ¨ï¼Œé‚£ä¹ˆ<strong>æµå›¾</strong>å°±åƒä¸€æ¡èœ¿èœ’æµæ·Œçš„æ²³æµï¼Œæ²³é“çš„å®½çª„å˜åŒ–è‡ªç„¶æµç•…ï¼Œæ³¢å³°æ³¢è°·è¿‡æ¸¡å¹³æ»‘ã€‚</p>
<p>å®ƒç‰¹åˆ«é€‚åˆå±•ç¤ºå¤šä¸ªç±»åˆ«æ•°æ®éšæ—¶é—´çš„å˜åŒ–è¶‹åŠ¿ï¼Œå°¤å…¶æ˜¯å½“ä½ æƒ³å¼ºè°ƒæ•´ä½“æµåŠ¨æ„Ÿå’Œå„éƒ¨åˆ†çš„ç›¸å¯¹æ¯”ä¾‹å˜åŒ–æ—¶ã€‚</p>
<p><strong>æµå›¾</strong>çš„<strong>æ ¸å¿ƒæ€æƒ³</strong>æ˜¯å°†ä¼ ç»Ÿçš„å †å é¢ç§¯å›¾è¿›è¡Œ"å¹³æ»‘"å¤„ç†ã€‚</p>
<p>åœ¨<code>matplotlib</code>ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>fill_between</code>å‡½æ•°ç»“åˆæ ·æ¡æ’å€¼æ¥åˆ›å»ºå¹³æ»‘çš„è¾¹ç¼˜ã€‚</p>
<p>å…³é”®åœ¨äºå°†å †å çš„æ•°æ®è¿›è¡Œç´¯ç§¯ï¼Œç„¶åå¯¹ç´¯ç§¯è¾¹ç•Œè¿›è¡Œå¹³æ»‘å¤„ç†ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ•°æ®å‡†å¤‡</span>
x = np.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, <span class="hljs-number">100</span>)
<span class="hljs-comment"># æ„é€ ä¸‰ç»„æ³¢æµªæ•°æ®</span>
y1 = <span class="hljs-number">2</span> + np.sin(x)            <span class="hljs-comment"># åŸºç¡€æ³¢åŠ¨</span>
y2 = <span class="hljs-number">2</span> + np.cos(x - <span class="hljs-number">1.5</span>)      <span class="hljs-comment"># é”™ä½æ³¢åŠ¨</span>
y3 = <span class="hljs-number">2</span> + np.sin(x + <span class="hljs-number">2</span>)        <span class="hljs-comment"># å†æ¬¡é”™ä½</span>

<span class="hljs-comment"># çœç•¥ ...</span>

<span class="hljs-comment"># ç»˜å›¾è®¾ç½®</span>
fig, (ax1, ax2) = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, figsize=(<span class="hljs-number">14</span>, <span class="hljs-number">6</span>))

<span class="hljs-comment"># --- å·¦å›¾ï¼šæ™®é€šå †å é¢ç§¯å›¾ (baseline='zero') ---</span>
ax1.stackplot(x, y_data, labels=labels, colors=colors, baseline=<span class="hljs-string">'zero'</span>, alpha=<span class="hljs-number">0.8</span>)
<span class="hljs-comment"># çœç•¥ ...</span>

<span class="hljs-comment"># --- å³å›¾ï¼šæµå›¾ (baseline='sym') ---</span>
<span class="hljs-comment"># 'sym' è¡¨ç¤ºå¯¹ç§°ä¸­å¿ƒå¸ƒå±€</span>
ax2.stackplot(x, y_data, labels=labels, colors=colors, baseline=<span class="hljs-string">'sym'</span>, alpha=<span class="hljs-number">0.8</span>)
ax2.axhline(<span class="hljs-number">0</span>, color=<span class="hljs-string">'black'</span>, ls=<span class="hljs-string">'--'</span>, alpha=<span class="hljs-number">0.1</span>) <span class="hljs-comment"># ç”»ä¸€æ¡ä¸­å¿ƒå‚è€ƒçº¿</span>
<span class="hljs-comment"># çœç•¥ ...</span>

<span class="hljs-comment"># å»é™¤å³å›¾è¾¹æ¡†ï¼Œå¢åŠ æµåŠ¨æ„Ÿ</span>
<span class="hljs-keyword">for</span> spine <span class="hljs-keyword">in</span> ax2.spines.values():
    spine.set_visible(<span class="hljs-literal">False</span>)

plt.tight_layout()
plt.show()
</code></pre>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a95a90d8e4d49deba0549e04440a961~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGF0YWJvb2s=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770083449&amp;x-signature=dwb%2BDG%2Fop85OGfQvutC7SPsrjNI%3D" alt="" loading="lazy"/></p>
<p><strong>æµå›¾</strong>è§£å†³äº†ä¸€ä¸ªè§†è§‰é”™è§‰é—®é¢˜ï¼šåœ¨æ™®é€š<strong>å †å é¢ç§¯å›¾</strong>ä¸­ï¼Œä¸Šé¢çš„æ•°æ®å±‚ä¼šå› ä¸ºä¸‹é¢æ•°æ®å±‚çš„èµ·ä¼è€Œè¢«è¿«â€œæ‰­æ›²â€ï¼Œå¾ˆéš¾çœ‹å‡ºå®ƒåŸæœ¬çš„å½¢çŠ¶ã€‚</p>
<p><strong>æµå›¾</strong>é€šè¿‡ä¸­å¿ƒå¸ƒå±€ï¼Œå‡å°‘äº†è¿™ç§æ‰­æ›²ï¼Œéå¸¸é€‚åˆå±•ç¤ºéšæ—¶é—´å˜åŒ–çš„è¶‹åŠ¿å’Œä¸åŒç±»åˆ«æƒé‡çš„æ³¢åŠ¨ï¼Œè¿™ç§æœ‰æœºçš„å½¢æ€è¿˜èƒ½ç»™è¯»è€…å¸¦æ¥æå¼ºçš„å®¡ç¾æ„‰æ‚¦æ„Ÿã€‚</p>
<h2 data-id="heading-1">2. åœ°å¹³çº¿å›¾ï¼šæ•°æ®çš„ç¾¤å±±</h2>
<p>æƒ³è±¡ä¸€ä¸‹è¿œå¤„çš„åœ°å¹³çº¿ä¸Šæœ‰ä¸€æ’è¿ç»µçš„å±±è„‰ï¼Œæ¯åº§å±±çš„é«˜åº¦ä»£è¡¨ä¸€ä¸ªæ•°æ®å€¼ã€‚</p>
<p><strong>åœ°å¹³çº¿å›¾</strong>å°±æ˜¯è¿™æ ·ä¸€ç§å¯è§†åŒ–æŠ€æœ¯ï¼Œå®ƒå°†æ—¶é—´åºåˆ—æ•°æ®å‹ç¼©åœ¨ä¸€ä¸ªå¾ˆå°çš„å‚ç›´ç©ºé—´å†…ï¼Œé€šè¿‡é¢œè‰²å’Œåˆ†å±‚æ¥å±•ç¤ºæ•°æ®çš„å˜åŒ–ã€‚</p>
<p>ç‰¹åˆ«é€‚åˆåœ¨æœ‰é™ç©ºé—´å†…å±•ç¤ºå¤šä¸ªæ—¶é—´åºåˆ—çš„å¯¹æ¯”ã€‚</p>
<p><strong>åœ°å¹³çº¿å›¾</strong>çš„<strong>æ ¸å¿ƒæ€æƒ³</strong>æ˜¯æ•°æ®åˆ†å±‚å’Œé¢œè‰²æ¸å˜ã€‚</p>
<p>å®ƒå°†æ•°æ®å€¼åˆ†æˆè‹¥å¹²å±‚ï¼ˆé€šå¸¸æ˜¯2-3å±‚ï¼‰ï¼Œæ¯å±‚ç”¨ä¸€ç§é¢œè‰²è¡¨ç¤ºã€‚å½“æ•°æ®å€¼è¶…è¿‡ä¸€å±‚æ—¶ï¼Œå°±ç”¨æ›´æ·±çš„é¢œè‰²æˆ–ä¸åŒçš„é¢œè‰²å¡«å……ã€‚è¿™æ ·å¯ä»¥åœ¨å¾ˆå°çš„å‚ç›´ç©ºé—´å†…å±•ç¤ºå¾ˆå¤§çš„æ•°æ®èŒƒå›´ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> timedelta

<span class="hljs-comment"># ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®ï¼šè¿‡å»10å¹´äº”å¤§ç§‘æŠ€å…¬å¸çš„è‚¡ä»·æ³¢åŠ¨</span>
np.random.seed(<span class="hljs-number">42</span>)

<span class="hljs-comment"># ç”Ÿæˆæ—¥æœŸèŒƒå›´ï¼šè¿‡å»10å¹´ï¼Œæ¯æœˆä¸€ä¸ªæ•°æ®ç‚¹</span>
dates = pd.date_range(<span class="hljs-string">"2013-01-01"</span>, <span class="hljs-string">"2023-01-01"</span>, freq=<span class="hljs-string">"ME"</span>)
companies = [<span class="hljs-string">"è‹¹æœ"</span>, <span class="hljs-string">"è°·æ­Œ"</span>, <span class="hljs-string">"å¾®è½¯"</span>, <span class="hljs-string">"äºšé©¬é€Š"</span>, <span class="hljs-string">"Meta"</span>]

<span class="hljs-comment"># ç”Ÿæˆå„å…¬å¸çš„è‚¡ä»·æ¨¡æ‹Ÿæ•°æ®ï¼ˆæ ‡å‡†åŒ–åˆ°ç›¸ä¼¼èŒƒå›´ï¼‰</span>
data = {}
<span class="hljs-keyword">for</span> company <span class="hljs-keyword">in</span> companies:
    <span class="hljs-comment"># åŸºç¡€è¶‹åŠ¿ï¼šæ¯å®¶å…¬å¸æœ‰ä¸åŒçš„å¢é•¿è¶‹åŠ¿ï¼Œä½†æœ€ç»ˆéƒ½åœ¨70-90èŒƒå›´å†…</span>
    <span class="hljs-comment"># çœç•¥ ...</span>

<span class="hljs-comment"># è½¬æ¢ä¸ºDataFrame</span>
df = pd.DataFrame(data, index=dates)

<span class="hljs-comment"># åˆ›å»ºå¯¹æ¯”å›¾è¡¨</span>
fig, axes = plt.subplots(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, figsize=(<span class="hljs-number">14</span>, <span class="hljs-number">10</span>))

<span class="hljs-comment"># ============ ä¼ ç»Ÿå †å é¢ç§¯å›¾ ============</span>
colors = [<span class="hljs-string">"#FF6B6B"</span>, <span class="hljs-string">"#4ECDC4"</span>, <span class="hljs-string">"#45B7D1"</span>, <span class="hljs-string">"#FFD166"</span>, <span class="hljs-string">"#9B5DE5"</span>]

<span class="hljs-comment"># ä¸ºå †å é¢ç§¯å›¾é‡æ–°å½’ä¸€åŒ–æ•°æ®</span>
df_normalized = df.div(df.<span class="hljs-built_in">sum</span>(axis=<span class="hljs-number">1</span>), axis=<span class="hljs-number">0</span>) * <span class="hljs-number">100</span>
y_cumulative = np.zeros(<span class="hljs-built_in">len</span>(df))

<span class="hljs-keyword">for</span> i, company <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(companies):
    axes[<span class="hljs-number">0</span>].fill_between(
        df.index,
        y_cumulative,
        y_cumulative + df_normalized[company].values,
        color=colors[i],
        alpha=<span class="hljs-number">0.7</span>,
        label=company,
        edgecolor=<span class="hljs-string">"white"</span>,
        linewidth=<span class="hljs-number">0.5</span>,
    )
    y_cumulative += df_normalized[company].values

<span class="hljs-comment"># çœç•¥ ...</span>

<span class="hljs-comment"># ============ åœ°å¹³çº¿å›¾ï¼šè‚¡ä»·æ³¢åŠ¨å¯¹æ¯” ============</span>
<span class="hljs-comment"># ç”Ÿæˆè‚¡ä»·å˜åŒ–ç™¾åˆ†æ¯”æ•°æ®ï¼ˆæ›´èƒ½ä½“ç°æ³¢åŠ¨å¯¹æ¯”ï¼‰</span>
np.random.seed(<span class="hljs-number">42</span>)
price_changes = {}
<span class="hljs-keyword">for</span> company <span class="hljs-keyword">in</span> companies:
    <span class="hljs-comment"># ç”Ÿæˆå‡å€¼é™„è¿‘æ³¢åŠ¨çš„å˜åŒ–æ•°æ®</span>
    <span class="hljs-comment"># çœç•¥ ...</span>

<span class="hljs-comment"># å…³é”®å‚æ•°ï¼šå®šä¹‰â€œæ³¢æ®µâ€</span>
BAND_HEIGHT = <span class="hljs-number">3.0</span>  <span class="hljs-comment"># æ¯ä¸ªé¢œè‰²æ³¢æ®µä»£è¡¨çš„å˜åŒ–ç‡å¹…åº¦ (%)</span>
NUM_BANDS = <span class="hljs-number">3</span>  <span class="hljs-comment"># æ­£è´Ÿæ–¹å‘å„ä½¿ç”¨çš„æ³¢æ®µå±‚æ•°</span>

df = pd.DataFrame(price_changes, index=dates)

<span class="hljs-comment"># ä¸ºæ¯å®¶å…¬å¸è®¡ç®—å¹¶ç»˜åˆ¶åœ°å¹³çº¿</span>
<span class="hljs-keyword">for</span> i, company <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(companies):
    <span class="hljs-comment"># å…¬å¸çš„åŸºå‡†Yè½´ä½ç½®ï¼ˆæ°´å¹³çº¿ï¼‰</span>
    <span class="hljs-comment"># çœç•¥ ...</span>

    <span class="hljs-comment"># åˆ†å±‚ä¸ç»˜åˆ¶ï¼šä»ç¬¬1å±‚åˆ°ç¬¬NUM_BANDSå±‚</span>
    <span class="hljs-keyword">for</span> band <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(NUM_BANDS):
        <span class="hljs-comment"># --- å¤„ç†æ­£åå·®ï¼ˆä¸Šæ¶¨ï¼‰---</span>
        <span class="hljs-comment"># è®¡ç®—å½“å‰å±‚çš„æ•°æ®ï¼šåå·®å€¼å‡å»å·²ç»˜åˆ¶å±‚çš„é«˜åº¦ï¼Œå¹¶é™åˆ¶åœ¨æœ¬å±‚é«˜åº¦å†…</span>
        <span class="hljs-comment"># çœç•¥ ...</span>

        <span class="hljs-comment"># --- å¤„ç†è´Ÿåå·®ï¼ˆä¸‹è·Œï¼‰---</span>
        <span class="hljs-comment"># å¯¹è´Ÿå€¼å–ç»å¯¹å€¼ï¼Œè¿›è¡Œç±»ä¼¼å¤„ç†</span>
        <span class="hljs-comment"># çœç•¥ ...</span>

<span class="hljs-comment"># ç¾åŒ–å›¾è¡¨</span>
<span class="hljs-comment"># çœç•¥ ...</span>

<span class="hljs-comment"># 6. æ·»åŠ å›¾ä¾‹</span>
<span class="hljs-keyword">import</span> matplotlib.patches <span class="hljs-keyword">as</span> mpatches

legend_patches = []
<span class="hljs-comment"># çœç•¥ ...</span>

plt.tight_layout(h_pad=<span class="hljs-number">5</span>)
plt.show()
</code></pre>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/396d9a8fd701488aa6e37db79120bcee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGF0YWJvb2s=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770083449&amp;x-signature=0ISHEtblp3IjjVCuC7i7GsPIhiI%3D" alt="" loading="lazy"/></p>
<p><strong>åœ°å¹³çº¿å›¾</strong>æ˜¯ç©ºé—´åˆ©ç”¨å¤§å¸ˆã€‚å½“ä½ æœ‰ 20 ä¸ªè‚¡ç¥¨æˆ–è€… 50 ä¸ªåŸå¸‚çš„æ¸©åº¦éœ€è¦æ”¾åœ¨ä¸€å¼ å›¾é‡Œå¯¹æ¯”æ—¶ï¼Œæ™®é€šçš„é¢ç§¯å›¾ä¼šæŒ¤æˆä¸€å›¢ä¹±éº»ã€‚</p>
<p><strong>åœ°å¹³çº¿å›¾</strong>å¯ä»¥å°†æ¯ä¸ªåºåˆ—å‹ç¼©æˆä¸€ä¸ªçª„çª„çš„æ¨ªæ¡ï¼Œä½†åœ¨ä¿æŒè§†è§‰åˆ†è¾¨ç‡çš„åŒæ—¶ï¼Œè¿˜èƒ½è®©ä½ çœ‹æ¸…æå€¼ï¼ˆé€šè¿‡æ·±é¢œè‰²ï¼‰ã€‚</p>
<h2 data-id="heading-2">3. æ€»ç»“</h2>
<p>æ•°æ®å¯è§†åŒ–ä¸ä»…æ˜¯ç§‘å­¦ï¼Œä¹Ÿæ˜¯è‰ºæœ¯ã€‚<strong>æµå›¾</strong>å’Œ<strong>åœ°å¹³çº¿å›¾</strong>è¿™ä¸¤ç§é¢ç§¯å›¾å˜ä½“ï¼Œåˆ†åˆ«ä»**"æµåŠ¨ä¹‹ç¾"<strong>å’Œ</strong>"ç©ºé—´æ•ˆç‡"**ä¸¤ä¸ªè§’åº¦æ‹“å±•äº†é¢ç§¯å›¾çš„å¯èƒ½æ€§ã€‚</p>
<p>å®ƒä»¬è¯æ˜äº†ï¼Œé€šè¿‡å¯¹åŸºç¡€å›¾è¡¨çš„åˆ›æ„æ”¹é€ ï¼Œæˆ‘ä»¬å¯ä»¥è®©æ•°æ®è®²è¿°æ›´ä¸°å¯Œã€æ›´ç”ŸåŠ¨çš„æ•…äº‹ã€‚</p>
<p>ä¸‹æ¬¡å½“ä½ é¢å¯¹æ—¶é—´åºåˆ—æ•°æ®æ—¶ï¼Œä¸å¦¨é—®é—®è‡ªå·±ï¼šæˆ‘çš„æ•°æ®åƒä¸€æ¡èœ¿èœ’çš„æ²³æµï¼Œè¿˜æ˜¯åƒåœ°å¹³çº¿ä¸Šçš„ç¾¤å±±ï¼Ÿé€‰æ‹©é€‚åˆçš„å¯è§†åŒ–æ–¹å¼ï¼Œè®©ä½ çš„æ•°æ®çœŸæ­£"æµåŠ¨"èµ·æ¥æˆ–"å±‚å "èµ·æ¥ã€‚</p>
<p>è®°ä½ï¼Œæœ€å¥½çš„å¯è§†åŒ–ä¸æ˜¯æœ€å¤æ‚çš„ï¼Œè€Œæ˜¯æœ€èƒ½æ¸…æ™°ä¼ è¾¾ä¿¡æ¯ã€å¯å‘æ€è€ƒçš„é‚£ä¸€ä¸ªã€‚</p>
<p>å®Œæ•´çš„ä»£ç å…±äº«åœ¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Furl11.ctfile.com%2Ff%2F45455611-8635132430-f06d31%3Fp%3D6872" target="_blank" title="https://url11.ctfile.com/f/45455611-8635132430-f06d31?p=6872" ref="nofollow noopener noreferrer">é¢ç§¯å›¾çš„2ä¸ªå˜ç§.ipynb</a> (è®¿é—®å¯†ç : 6872)</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Šä»è½®æ’­å›¾å®ç°ï¼Œå­¦ä¼šå¦‚ä½•è§‚å¯Ÿé¡µé¢çš„â€œæ¸²æŸ“â€ä¸â€œåˆæˆâ€ã€‹ï¼ˆé™„ Performance å®æµ‹å¯¹æ¯”ï¼‰ã€‹]]></title>    <link>https://juejin.cn/post/7599294170001178675</link>    <guid>https://juejin.cn/post/7599294170001178675</guid>    <pubDate>2026-01-26T11:28:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599294170001178675" data-draft-id="7598472744481652755" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Šä»è½®æ’­å›¾å®ç°ï¼Œå­¦ä¼šå¦‚ä½•è§‚å¯Ÿé¡µé¢çš„â€œæ¸²æŸ“â€ä¸â€œåˆæˆâ€ã€‹ï¼ˆé™„ Performance å®æµ‹å¯¹æ¯”ï¼‰ã€‹"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-26T11:28:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Flinton"/> <meta itemprop="url" content="https://juejin.cn/user/2225067266677640"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Šä»è½®æ’­å›¾å®ç°ï¼Œå­¦ä¼šå¦‚ä½•è§‚å¯Ÿé¡µé¢çš„â€œæ¸²æŸ“â€ä¸â€œåˆæˆâ€ã€‹ï¼ˆé™„ Performance å®æµ‹å¯¹æ¯”ï¼‰ã€‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2225067266677640/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Flinton
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T11:28:16.000Z" title="Mon Jan 26 2026 11:28:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ã€å°å¥‡è…¾ã€‘ï¼Œç›¸ä¿¡å¤§å®¶åœ¨å‰ç«¯çš„è·¯ä¸Šä¸€å®šä¼šé‡åˆ°æ€§èƒ½ç“¶é¢ˆçš„é—®é¢˜ã€‚å¯æ˜¯è°ˆäº†åŠå¤©æ€§èƒ½ç“¶é¢ˆï¼Œä½†æ˜¯ä¸çŸ¥é“æ€ä¹ˆä¸‹æ‰‹ï¼Œä¹Ÿä¸çŸ¥é“ä»å“ªé‡Œå¼€å§‹ã€‚é‚£ä¹ˆä»Šå¤©æˆ‘å’Œå¤§å®¶ä¸€èµ·æ¥æ¢ç´¢è¿™ä¸ªå¥‡å¦™çš„è¿‡ç¨‹ã€‚ä¹Ÿå¸Œæœ›å°ä¼™ä¼´ä¸€èµ·æ”¯æŒåŠ æ²¹ä¸‹ï¼ï¼ï¼</p>
</blockquote>
<p>æœ¬æœŸè¯¦ç»†çš„è§†é¢‘æ•™ç¨‹bilibiliï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1dezvBWEm6%2F%3Fspm_id_from%3D333.1387.homepage.video_card.click%26vd_source%3D4213d38d889ea1581bbcae78a04cbd9d" target="_blank" title="https://www.bilibili.com/video/BV1dezvBWEm6/?spm_id_from=333.1387.homepage.video_card.click&amp;vd_source=4213d38d889ea1581bbcae78a04cbd9d" ref="nofollow noopener noreferrer">ã€Šä»è½®æ’­å›¾å®ç°ï¼Œå­¦ä¼šå¦‚ä½•è§‚å¯Ÿé¡µé¢çš„â€œæ¸²æŸ“â€ä¸â€œåˆæˆâ€ã€‹ï¼ˆé™„ Performance å®æµ‹å¯¹æ¯”ï¼‰ã€‹</a></p>
<h2 data-id="heading-0">ä¸€ã€ ç¼˜èµ·ï¼šä¸€ä¸ªè½®æ’­å›¾å¼•å‘çš„æ€è€ƒ</h2>













<table><thead><tr><th>éœ€æ±‚</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td>å®ç°ä¸€ä¸ªå‚ç›´è½®æ’­å›¾ï¼Œ<br/>æ¯éš” 2 ç§’ï¼Œå›¾ç‰‡å‘ä¸Šæ»šåŠ¨ä¸€æ¬¡</td><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c821ad6444c42799d497f9e9ee7306b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRmxpbnRvbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770031820&amp;x-signature=Tu5AawGe7ydHJaGEQs3xcFQtKyg%3D" width="100%" loading="lazy"/></td></tr></tbody></table>
<p>æ•ˆæœçœ‹èµ·æ¥å·®ä¸å¤šï¼Œä½†æ˜¯æ€§èƒ½å´ä¸ä¸€æ ·,æœ‰ä¸¤ç§å®ç°æ–¹æ¡ˆï¼š</p>
<ol>
<li><strong>ç›´è§‰æ´¾</strong>ï¼šä¿®æ”¹ <code>margin-top</code> æˆ–è€… <code>top</code> å±æ€§ï¼ŒæŠŠå›¾ç‰‡â€œæŒ¤â€ä¸Šå»ã€‚</li>
<li><strong>ä¼˜åŒ–æ´¾</strong>ï¼šä½¿ç”¨ CSS3 çš„ <code>transform: translateY</code>ï¼ŒæŠŠå›¾ç‰‡â€œç§»â€ä¸Šå»ã€‚</li>
</ol>
<h2 data-id="heading-1">äºŒã€ é€‰æ‰‹å…¥åœºï¼šä¸¤ç§ä»£ç å®ç° (ä»£ç è§ -&gt; ä»£ç é™„å½• æœ€åº•éƒ¨)</h2>
<p>ä¸ºäº†æ§åˆ¶å˜é‡ï¼Œæˆ‘å‡†å¤‡äº†ä¸¤ä¸ªç®€å•çš„ Demoï¼ŒHTML ç»“æ„å®Œå…¨ä¸€è‡´ï¼Œå”¯ç‹¬é©±åŠ¨åŠ¨ç”»çš„æ–¹å¼ä¸åŒã€‚</p>
<p><strong>æ–¹æ¡ˆ Aï¼šä½¿ç”¨ Margin-topï¼ˆä½æ€§èƒ½æ¨¡æ‹Ÿï¼‰</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ä¿®æ”¹ margin-topï¼Œè§¦å‘æ–‡æ¡£æµå˜åŒ–</span>
wrapper.<span class="hljs-property">style</span>.<span class="hljs-property">marginTop</span> = <span class="hljs-string">`<span class="hljs-subst">${offset}</span>px`</span>;
</code></pre>
<p><strong>æ–¹æ¡ˆ Bï¼šä½¿ç”¨ Transformï¼ˆé«˜æ€§èƒ½æ¨èï¼‰</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ä¿®æ”¹ transformï¼Œå¼€å¯ç¡¬ä»¶åŠ é€Ÿ</span>
wrapper.<span class="hljs-property">style</span>.<span class="hljs-property">transform</span> = <span class="hljs-string">`translateY(<span class="hljs-subst">${offset}</span>px)`</span>;
</code></pre>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç”¨æ•°æ®è¯´è¯ã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€ ç¬¬ä¸€å…³ï¼šè§†è§‰è§‚æµ‹ï¼ˆRendering é¢æ¿ï¼‰</h2>
<p>Chrome çš„å¼€å‘è€…å·¥å…·é‡Œéšè—ç€ä¸€ä¸ªç¥å™¨å« <strong>Renderingï¼ˆæ¸²æŸ“ï¼‰</strong> ã€‚</p>
<blockquote>
<p><strong>å¦‚ä½•æ‰“å¼€</strong>ï¼š<code>F12</code> -&gt; <code>Cmd/Ctrl + Shift + P</code> -&gt; è¾“å…¥ <code>Rendering</code> -&gt; é€‰æ‹© <code>Show Rendering</code>ã€‚</p>
</blockquote>
<p>æˆ‘å‹¾é€‰äº† <strong>Paint flashing (çªå‡ºæ˜¾ç¤ºç»˜åˆ¶åŒºåŸŸ) / Enable automatic dark mode (æš—é»‘æ¨¡å¼)</strong> ï¼Œè¿™ä¸ªåŠŸèƒ½çš„ä½œç”¨æ˜¯ï¼š<strong>åªè¦é¡µé¢ä¸Šæœ‰åƒç´ è¢«é‡ç»˜ï¼Œå°±é—ªçƒç»¿è‰²ã€‚</strong></p>













<table><thead><tr><th>è®¾ç½®</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2cbbeb8a49df4977b717287f24107b67~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRmxpbnRvbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770031820&amp;x-signature=mNABdyaTqEkAR5QQxpNUKIzaK6A%3D" width="80%" loading="lazy"/></td><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d061de3e26aa4bb89391a08f4a8f72d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRmxpbnRvbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770031820&amp;x-signature=GWsFzjuZ81kj9NkMkGRjx45r8s4%3D" width="100%" loading="lazy"/></td></tr></tbody></table>
<h3 data-id="heading-3">1. è§‚å¯Ÿ Margin-top æ–¹æ¡ˆ</h3>
<p>å½“å›¾ç‰‡æ»šåŠ¨æ—¶ï¼Œæˆ‘è¢«å“äº†ä¸€è·³ï¼š <strong>ï¼ˆåœ¨æ­¤å¤„æ’å…¥ä½ é‚£å¼ ã€æœ‰ç»¿è‰²å¤§è¾¹æ¡†ã€‘çš„æˆªå›¾ï¼‰</strong></p>
<p><strong>ç°è±¡</strong>ï¼šæ¯æ¬¡è½®æ’­åˆ‡æ¢ï¼Œæ•´ä¸ªå®¹å™¨ç”šè‡³å‘¨è¾¹åŒºåŸŸéƒ½ç–¯ç‹‚é—ªçƒç»¿å…‰ã€‚</p>
<p><strong>ç»“è®º</strong>ï¼šè¿™è¯´æ˜æµè§ˆå™¨åœ¨è¿›è¡Œå¤§é¢ç§¯çš„<strong>é‡ç»˜ (Repaint)</strong> ã€‚CPU æ­£åœ¨è¾›è‹¦åœ°é‡æ–°è®¡ç®—æ¯ä¸€ä¸ªåƒç´ çš„é¢œè‰²ã€‚</p>
<h3 data-id="heading-4">2. è§‚å¯Ÿ Transform æ–¹æ¡ˆ</h3>
<p>æ¥ç€æˆ‘åˆ‡æ¢åˆ° Transform å†™æ³•ï¼š <strong>ï¼ˆåœ¨æ­¤å¤„æ’å…¥ä½ é‚£å¼ ã€å®Œå…¨æ²¡æœ‰ç»¿æ¡†ã€‘çš„æˆªå›¾ï¼‰</strong></p>
<p><strong>ç°è±¡</strong>ï¼šç”»é¢é™å¦‚æ­¢æ°´ï¼Œå›¾ç‰‡åœ¨åŠ¨ï¼Œä½†æ²¡æœ‰ç»¿å…‰é—ªçƒï¼ˆæˆ–è€…åªæœ‰æå¾®å°çš„åŒºåŸŸï¼‰ã€‚</p>
<p><strong>ç»“è®º</strong>ï¼šæµè§ˆå™¨æ²¡æœ‰é‡ç»˜ï¼å®ƒå·æ‡’äº†ï¼Ÿä¸ï¼Œå®ƒæ˜¯å˜èªæ˜äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d3df872392f49af8a390df3b9660e32~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRmxpbnRvbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770031820&amp;x-signature=giGqriMxjS3gmlvY5U3nSVND368%3D" width="50%" loading="lazy"/> |</p>
<h3 data-id="heading-5">å››ã€ ç¬¬äºŒå…³ï¼šæ·±åº¦æ‰«æï¼ˆPerformance é¢æ¿ï¼‰</h3>
<p>å¦‚æœè¯´ç»¿å…‰åªæ˜¯è¡¨è±¡ï¼Œé‚£ Performance é¢æ¿å°±æ˜¯â€œå®é”¤â€è¯æ®ã€‚æˆ‘å¼€å¯äº† <strong>CPU 4x Slowdown</strong>ï¼ˆæ¨¡æ‹Ÿä½ç«¯è®¾å¤‡ï¼‰ï¼Œåˆ†åˆ«å½•åˆ¶äº†ä¸¤æ¬¡æ»šåŠ¨çš„è¿‡ç¨‹ã€‚</p>
<h4 data-id="heading-6">1. æ‰“å¼€ CPU 4x slowdown</h4>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c76cf6fd46fa447c9dbd078ea104c73a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRmxpbnRvbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770031820&amp;x-signature=EfcOnXhGQGhAVrxpCtqNG9jIztU%3D" width="100%" loading="lazy"/> 
<h4 data-id="heading-7">2. æ‰“å¼€ performanceä¸­çš„å½•åˆ¶åŠŸèƒ½</h4>
<p>çº¢è‰²é‚£ä¸ªåœ†åœˆçš„å°±æ˜¯å½•åˆ¶æŒ‰é’®ï¼Œå½•åˆ¶7ç§’å·¦å³å°±å¯ä»¥äº†ï¼Œç„¶åç‚¹å‡»stopï¼Œçœ‹ç»“æœ</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6649f874f83434895afa0c023e4824c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRmxpbnRvbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770031820&amp;x-signature=js0uiRSObgLIH67EUXlagwCTvFU%3D" width="100%" loading="lazy"/> 
<h4 data-id="heading-8">3. å…³é”®çœ‹ Main çš„éƒ¨ä»½</h4>
<ol>
<li>è§‚å¯Ÿ Margin-top æ–¹æ¡ˆ</li>
</ol>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/69337f092b3a4a159ee83903abc4092e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRmxpbnRvbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770031820&amp;x-signature=irPoLOEvsYuxcLpoLkJuPifwJn0%3D" width="100%" loading="lazy"/> 
<p>å¤§å®¶çœ‹ä¸Šå›¾çš„ <strong>Main (ä¸»çº¿ç¨‹)</strong> åŒºåŸŸï¼š</p>
<ul>
<li>åœ¨Mainçš„éƒ¨ä»½åœˆçº¢è‰²çš„ å¯†å¯†éº»éº»çš„â€œç»¿è‰²æ³¢å³°â€æ˜¯ä»€ä¹ˆï¼Ÿé¼ æ ‡æ”¾ä¸Šå»ï¼Œå…¨æ˜¯ <strong>Layout (å¸ƒå±€)</strong> / <strong>Update Layer Tree</strong> / <strong>Paint</strong>ã€‚</li>
<li>å› ä¸ºä¿®æ”¹ <code>margin</code> ä¼šæ”¹å˜å…ƒç´ çš„å‡ ä½•ä½ç½®ï¼Œæµè§ˆå™¨å¿…é¡»é‡æ–°è®¡ç®—å¸ƒå±€ï¼ˆReflowï¼‰ï¼Œè¿™ä¼šé˜»å¡ä¸»çº¿ç¨‹ã€‚</li>
</ul>
<ol start="2">
<li>è§‚å¯Ÿ Transform æ–¹æ¡ˆ</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02d3336338b944a69dacf0d8bfad2202~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRmxpbnRvbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770031820&amp;x-signature=eMhIicXBn%2FHQzhh3tnTlgd0Vrhg%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>Main çº¿ç¨‹å‡ ä¹æ˜¯ä¸€æ¡ç›´çº¿ï¼</li>
<li>æ²¡æœ‰ Layoutï¼Œæ²¡æœ‰ Paintï¼Œåªæœ‰é›¶æ˜Ÿçš„åŠ¨ç”»å¸§è§¦å‘ã€‚</li>
<li>è¿™æ˜¯å› ä¸º <code>transform</code> å°†å…ƒç´ æå‡ä¸ºäº†<strong>åˆæˆå±‚ (Composite Layer)</strong> ï¼ŒåŠ¨ç”»çš„å¹³ç§»å·¥ä½œç›´æ¥äº¤ç»™äº† <strong>GPU</strong> å¤„ç†ï¼Œä¸»çº¿ç¨‹å®Œå…¨è§£æ”¾äº†å‡ºæ¥ã€‚</li>
</ul>
<p>å…³äºæ€§èƒ½æ›´å¤šå†…å®¹(<code>é¡¶éƒ¨çš„è§†é¢‘é“¾æ¥</code>)æœ‰å…·ä½“çš„æ¼”ç¤º.</p>
<h2 data-id="heading-9">äº”ã€ æ€»ç»“ï¼šä¸ºä»€ä¹ˆ Transform æ€§èƒ½æ›´å¥½ï¼Ÿ</h2>
<p>é€šè¿‡è¿™æ¬¡è§‚æµ‹ï¼Œæˆ‘ä»¬éªŒè¯äº†æµè§ˆå™¨æ¸²æŸ“æµæ°´çº¿çš„æ ¸å¿ƒå·®å¼‚ï¼š</p>



































<table><thead><tr><th><strong>ç»´åº¦</strong></th><th><strong>Margin-top / Top</strong></th><th><strong>Transform</strong></th></tr></thead><tbody><tr><td><strong>è§¦å‘æœºåˆ¶</strong></td><td>ä¿®æ”¹å‡ ä½•å±æ€§</td><td>ä¿®æ”¹åˆæˆå±æ€§</td></tr><tr><td><strong>é‡æ’ (Reflow)</strong></td><td>âœ… <strong>è§¦å‘</strong> (è®¡ç®—å¸ƒå±€ï¼Œæœ€æ…¢)</td><td>âŒ <strong>ä¸è§¦å‘</strong></td></tr><tr><td><strong>é‡ç»˜ (Repaint)</strong></td><td>âœ… <strong>è§¦å‘</strong> (é‡æ–°ç”»åƒç´ ï¼Œæ…¢)</td><td>âŒ <strong>ä¸è§¦å‘</strong></td></tr><tr><td><strong>æ‰§è¡Œä½ç½®</strong></td><td>CPU (ä¸»çº¿ç¨‹)</td><td>GPU (åˆæˆçº¿ç¨‹)</td></tr><tr><td><strong>æ€§èƒ½è¡¨ç°</strong></td><td>å®¹æ˜“å¡é¡¿</td><td>ä¸æ»‘æµç•…</td></tr></tbody></table>
<p><strong>ç®€å•ç†è§£</strong>ï¼š</p>
<ul>
<li>
<p><strong>Margin-top</strong> å°±åƒæ˜¯ä½ è¦æ¬å®¶ï¼Œä½ æŠŠæˆ¿å­æ‹†äº†ï¼ˆReflowï¼‰ï¼Œç„¶åå†ä¸€å—å—ç –ç Œåˆ°æ–°ä½ç½®ï¼ˆRepaintï¼‰ã€‚</p>
</li>
<li>
<p><strong>Transform</strong> å°±åƒæ˜¯ä½ æ‹äº†ä¸€å¼ æˆ¿å­çš„ç…§ç‰‡ï¼Œç„¶åç”¨å¹»ç¯ç‰‡æŠŠè¿™å¼ ç…§ç‰‡æŠ•å½±åˆ°æ–°ä½ç½®ã€‚æˆ¿å­æ²¡åŠ¨ï¼Œåªæ˜¯æŠ•å½±åŠ¨äº†ï¼Œæ‰€ä»¥æå¿«ã€‚</p>
</li>
</ul>
<h2 data-id="heading-10">å…­ã€ä»£ç é™„å½•</h2>
<h3 data-id="heading-11">1. Margin-Topæ–¹æ¡ˆï¼ˆä½æ€§èƒ½ï¼‰</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å‚ç›´è½®æ’­å›¾æ¼”ç¤º - Margin-Topæ–¹æ¡ˆï¼ˆä½æ€§èƒ½ï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        * { <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">box-sizing</span>: border-box; }
        <span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">display</span>: flex; <span class="hljs-attribute">justify-content</span>: center; <span class="hljs-attribute">align-items</span>: center; <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>; <span class="hljs-attribute">background</span>: <span class="hljs-number">#f0f2f5</span>; }

        <span class="hljs-selector-class">.viewport</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;
            <span class="hljs-attribute">border</span>: <span class="hljs-number">5px</span> solid <span class="hljs-number">#333</span>;
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;
            <span class="hljs-attribute">overflow</span>: hidden;
            <span class="hljs-attribute">position</span>: relative;
            <span class="hljs-attribute">background</span>: <span class="hljs-number">#fff</span>;
            <span class="hljs-comment">/* æ³¨æ„ï¼šè¿™é‡Œä¸éœ€è¦ will-change äº†ï¼Œå› ä¸ºæˆ‘ä»¬å°±æ˜¯åœ¨æ¨¡æ‹Ÿæ²¡æœ‰ä¼˜åŒ–çš„æƒ…å†µ */</span>
        }

        <span class="hljs-selector-class">.wrapper</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
            <span class="hljs-comment">/* âŒ æ€§èƒ½æ€æ‰‹ï¼šè¿™é‡Œæˆ‘ä»¬è¦æ”¹å˜ margin-top */</span>
            <span class="hljs-comment">/* æµè§ˆå™¨å¿…é¡»é‡æ–°è®¡ç®—å¸ƒå±€ï¼Œå› ä¸º margin æ”¹å˜ä¼šå½±å“æ–‡æ¡£æµ */</span>
            <span class="hljs-attribute">transition</span>: margin-top <span class="hljs-number">0.5s</span> ease-in-out; 
        }

        <span class="hljs-selector-class">.slide</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;
            <span class="hljs-attribute">display</span>: flex;
            <span class="hljs-attribute">justify-content</span>: center;
            <span class="hljs-attribute">align-items</span>: center;
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">40px</span>;
            <span class="hljs-attribute">color</span>: white;
            <span class="hljs-attribute">font-weight</span>: bold;
        }

        <span class="hljs-selector-class">.slide</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">1</span>) { <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#FF5733</span>; }
        <span class="hljs-selector-class">.slide</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">2</span>) { <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#33FF57</span>; }
        <span class="hljs-selector-class">.slide</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">3</span>) { <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#3357FF</span>; }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"viewport"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"wrapper"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slide"</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slide"</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slide"</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-keyword">const</span> wrapper = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'.wrapper'</span>);
        <span class="hljs-keyword">const</span> imgHeight = <span class="hljs-number">200</span>; 
        <span class="hljs-keyword">const</span> totalSlides = <span class="hljs-number">3</span>; 
        <span class="hljs-keyword">let</span> currentIndex = <span class="hljs-number">0</span>;

        <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
            currentIndex++;
            <span class="hljs-keyword">if</span> (currentIndex &gt;= totalSlides) {
                currentIndex = <span class="hljs-number">0</span>;
            }

            <span class="hljs-keyword">const</span> offset = -(currentIndex * imgHeight);

            <span class="hljs-comment">// âŒ æ ¸å¿ƒåŒºåˆ«åœ¨è¿™é‡Œï¼š</span>
            <span class="hljs-comment">// æˆ‘ä»¬ä¿®æ”¹çš„æ˜¯ marginTopï¼Œè€Œä¸æ˜¯ transform</span>
            <span class="hljs-comment">// è¿™ä¼šè§¦å‘å¸ƒå±€é‡æ’ (Reflow)</span>
            wrapper.<span class="hljs-property">style</span>.<span class="hljs-property">marginTop</span> = <span class="hljs-string">`<span class="hljs-subst">${offset}</span>px`</span>;

            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å½“å‰ä½¿ç”¨ margin-top åç§»: <span class="hljs-subst">${offset}</span>px`</span>);

        }, <span class="hljs-number">2000</span>);
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h3 data-id="heading-12">2. Transformæ–¹æ¡ˆ (æ€§èƒ½å¥½)</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å‚ç›´è½®æ’­å›¾æ¼”ç¤º - Transformæ–¹æ¡ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-comment">/* ç®€å•çš„é‡ç½® */</span>
        * { <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">box-sizing</span>: border-box; }
        <span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">display</span>: flex; <span class="hljs-attribute">justify-content</span>: center; <span class="hljs-attribute">align-items</span>: center; <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>; <span class="hljs-attribute">background</span>: <span class="hljs-number">#f0f2f5</span>; }

        <span class="hljs-comment">/* 1. è§†å£ï¼šå›ºå®šé«˜åº¦ï¼Œåƒä¸€ä¸ªç›¸æ¡† */</span>
        <span class="hljs-selector-class">.viewport</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>; <span class="hljs-comment">/* è§†å£é«˜åº¦ */</span>
            <span class="hljs-attribute">border</span>: <span class="hljs-number">5px</span> solid <span class="hljs-number">#333</span>;
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;
            <span class="hljs-attribute">overflow</span>: hidden; <span class="hljs-comment">/* å…³é”®ï¼šæŠŠè¶…å‡ºçš„éƒ¨åˆ†åˆ‡æ‰ */</span>
            <span class="hljs-attribute">position</span>: relative;
            <span class="hljs-attribute">background</span>: <span class="hljs-number">#fff</span>;
            <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-number">20px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>);
        }

        <span class="hljs-comment">/* 2. æ¸²æŸ“å±‚/åŒ…è£¹å±‚ï¼šç”¨æ¥ç§»åŠ¨çš„é•¿æ¡ */</span>
        <span class="hljs-selector-class">.wrapper</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
            <span class="hljs-comment">/* è¿™é‡Œä¸éœ€è¦è®¾ç½®é«˜åº¦ï¼Œå†…å®¹æ’‘å¼€å³å¯ */</span>
            
            <span class="hljs-comment">/* å…³é”®æ€§èƒ½ä¼˜åŒ–ï¼šè¿‡æ¸¡åŠ¨ç”» */</span>
            <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">0.5s</span> ease-in-out; 
            <span class="hljs-comment">/* æç¤ºæµè§ˆå™¨å¼€å¯ GPU åŠ é€Ÿ */</span>
            <span class="hljs-attribute">will-change</span>: transform;
        }

        <span class="hljs-comment">/* 3. å›¾ç‰‡æ ·å¼ï¼šä¸ºäº†æ¼”ç¤ºæ–¹ä¾¿ï¼Œæˆ‘ç”¨å¸¦é¢œè‰²çš„divä»£æ›¿å›¾ç‰‡ */</span>
        <span class="hljs-selector-class">.slide</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>; <span class="hljs-comment">/* å¿…é¡»å’Œè§†å£é«˜åº¦ä¸€è‡´ */</span>
            <span class="hljs-attribute">display</span>: flex;
            <span class="hljs-attribute">justify-content</span>: center;
            <span class="hljs-attribute">align-items</span>: center;
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">40px</span>;
            <span class="hljs-attribute">color</span>: white;
            <span class="hljs-attribute">font-weight</span>: bold;
        }

        <span class="hljs-selector-class">.slide</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">1</span>) { <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#FF5733</span>; } <span class="hljs-comment">/* çº¢ */</span>
        <span class="hljs-selector-class">.slide</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">2</span>) { <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#33FF57</span>; } <span class="hljs-comment">/* ç»¿ */</span>
        <span class="hljs-selector-class">.slide</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">3</span>) { <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#3357FF</span>; } <span class="hljs-comment">/* è“ */</span>
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"viewport"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"wrapper"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slide"</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slide"</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slide"</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-keyword">const</span> wrapper = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'.wrapper'</span>);
        <span class="hljs-keyword">const</span> imgHeight = <span class="hljs-number">200</span>; <span class="hljs-comment">// å•å¼ å›¾ç‰‡é«˜åº¦</span>
        <span class="hljs-keyword">const</span> totalSlides = <span class="hljs-number">3</span>; 
        <span class="hljs-keyword">let</span> currentIndex = <span class="hljs-number">0</span>;

        <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-comment">// 1. é€»è¾‘è®¡ç®—ï¼šä¸‹ä¸€æ¬¡æ˜¯ç¬¬å‡ å¼ ï¼Ÿ</span>
            currentIndex++;
            
            <span class="hljs-comment">// ç®€å•çš„å›æ»šé€»è¾‘ï¼šå¦‚æœåˆ°åº•äº†ï¼Œå°±ç¬é—´è·³å›ç¬¬ä¸€å¼ </span>
            <span class="hljs-keyword">if</span> (currentIndex &gt;= totalSlides) {
                currentIndex = <span class="hljs-number">0</span>;
            }

            <span class="hljs-comment">// 2. æ ¸å¿ƒè®¡ç®—ï¼šåç§»é‡ = ç´¢å¼• * å•å¼ é«˜åº¦</span>
            <span class="hljs-comment">// åŠ ä¸Šè´Ÿå·æ˜¯å› ä¸ºç”±äºåæ ‡ç³»åŸç‚¹åœ¨å·¦ä¸Šè§’ï¼Œå¾€ä¸Šç§»åŠ¨æ˜¯è´Ÿæ–¹å‘</span>
            <span class="hljs-keyword">const</span> offset = -(currentIndex * imgHeight);

            <span class="hljs-comment">// 3. æ¸²æŸ“ï¼šåº”ç”¨ Transform</span>
            <span class="hljs-comment">// æ³¨æ„ï¼šè¿™é‡Œå®Œå…¨æ²¡æœ‰ç”¨åˆ° scrollTopï¼Œåªç”¨äº†æ•°å­¦è®¡ç®—</span>
            wrapper.<span class="hljs-property">style</span>.<span class="hljs-property">transform</span> = <span class="hljs-string">`translateY(<span class="hljs-subst">${offset}</span>px)`</span>;
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å½“å‰ç´¢å¼•: <span class="hljs-subst">${currentIndex}</span>, åç§»é‡: <span class="hljs-subst">${offset}</span>px`</span>);

        }, <span class="hljs-number">2000</span>);
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React useDeferredValue è¯¦è§£ï¼šè®©ä½ çš„åº”ç”¨ä¸æ»‘æµç•…çš„ç§˜å¯†]]></title>    <link>https://juejin.cn/post/7599294170001326131</link>    <guid>https://juejin.cn/post/7599294170001326131</guid>    <pubDate>2026-01-26T11:59:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599294170001326131" data-draft-id="7599450177058193418" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React useDeferredValue è¯¦è§£ï¼šè®©ä½ çš„åº”ç”¨ä¸æ»‘æµç•…çš„ç§˜å¯†"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-26T11:59:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä»£ç è¯—äººå¡å°”"/> <meta itemprop="url" content="https://juejin.cn/user/2067500101533902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React useDeferredValue è¯¦è§£ï¼šè®©ä½ çš„åº”ç”¨ä¸æ»‘æµç•…çš„ç§˜å¯†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2067500101533902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä»£ç è¯—äººå¡å°”
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T11:59:45.000Z" title="Mon Jan 26 2026 11:59:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ä»ä¸€ä¸ªå¸¸è§çš„å¡é¡¿åœºæ™¯è¯´èµ·</h2>
<p>åšå‰ç«¯çš„åŒå­¦ï¼Œè‚¯å®šéƒ½é‡åˆ°è¿‡è¿™æ ·çš„åœºæ™¯ï¼šä¸€ä¸ªæœç´¢æ¡†ï¼Œä¸‹é¢è·Ÿç€ä¸€ä¸ªé•¿é•¿çš„åˆ—è¡¨ã€‚ç”¨æˆ·åœ¨æœç´¢æ¡†é‡Œæ¯æ•²ä¸€ä¸ªå­—ï¼Œåˆ—è¡¨å°±æ ¹æ®è¾“å…¥çš„å†…å®¹è¿›è¡Œè¿‡æ»¤ã€‚å¦‚æœåˆ—è¡¨æ•°æ®é‡ä¸å¤§ï¼Œé‚£è¿˜å¥½è¯´ã€‚ä½†å¦‚æœåˆ—è¡¨æœ‰æˆç™¾ä¸Šåƒæ¡æ•°æ®ï¼Œé‚£åœºé¢å°±æœ‰ç‚¹å°´å°¬äº†â€”â€”ç”¨æˆ·æ¯è¾“å…¥ä¸€ä¸ªå­—ï¼Œé¡µé¢å°±å¡ä¸€ä¸‹ï¼Œæ„Ÿè§‰å°±åƒåœ¨æ”¾æ…¢åŠ¨ä½œçš„å¹»ç¯ç‰‡ã€‚</p>
<p>è¿™ç§ä½“éªŒï¼Œç”¨æˆ·ä¸çˆ½ï¼Œæˆ‘ä»¬å¼€å‘è€…çœ‹ç€ä¹Ÿéš¾å—ã€‚é—®é¢˜å‡ºåœ¨å“ªå„¿å‘¢ï¼Ÿ</p>
<p>å¾ˆç®€å•ï¼Œå› ä¸ºæ¯ä¸€æ¬¡è¾“å…¥ï¼Œéƒ½è§¦å‘äº† React çš„é‡æ–°æ¸²æŸ“ã€‚è€Œæ¯ä¸€æ¬¡é‡æ–°æ¸²æŸ“ï¼Œéƒ½è¦éå†æ•´ä¸ªé•¿åˆ—è¡¨ï¼Œè¿›è¡Œè¿‡æ»¤å’Œå±•ç¤ºã€‚æµè§ˆå™¨æ‰›ä¸ä½è¿™ä¹ˆé«˜é¢‘ç‡çš„è®¡ç®—ï¼Œè‡ªç„¶å°±å¡äº†ã€‚</p>
<h2 data-id="heading-1">äºŒã€ä¸€ä¸ªä¸é‚£ä¹ˆå®Œç¾çš„è§£å†³æ–¹æ¡ˆ</h2>
<p>é‡åˆ°è¿™ç§é—®é¢˜ï¼Œå¾ˆå¤šåŒå­¦çš„ç¬¬ä¸€ååº”æ˜¯ï¼šç”¨ <code>debounce</code>ï¼ˆé˜²æŠ–ï¼‰æˆ– <code>throttle</code>ï¼ˆèŠ‚æµï¼‰å•Šï¼</p>
<p>ç¡®å®ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¸¸è§çš„ä¼˜åŒ–æ‰‹æ®µã€‚æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªå»¶è¿Ÿï¼Œæ¯”å¦‚ 200 æ¯«ç§’ï¼Œç­‰ç”¨æˆ·åœæ­¢è¾“å…¥ 200 æ¯«ç§’åï¼Œå†è¿›è¡Œåˆ—è¡¨çš„è¿‡æ»¤å’Œæ¸²æŸ“ã€‚è¿™æ ·ç¡®å®èƒ½å‡å°‘æ¸²æŸ“æ¬¡æ•°ï¼Œç¼“è§£å¡é¡¿ã€‚</p>
<p>ä½†è¿™ä¸ªæ–¹æ¡ˆå¹¶ä¸å®Œç¾ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<ol>
<li><strong>å»¶è¿Ÿæ—¶é—´çš„è®¾ç½®å¾ˆç„å­¦</strong>ï¼š200 æ¯«ç§’å¯¹äºé«˜æ€§èƒ½çš„ç”µè„‘æ¥è¯´ï¼Œå¯èƒ½å¤ªé•¿äº†ï¼Œç”¨æˆ·ä¼šæ„Ÿè§‰æœ‰æ˜æ˜¾çš„å»¶è¿Ÿï¼›å¯¹äºä½æ€§èƒ½çš„æ‰‹æœºæ¥è¯´ï¼Œå¯èƒ½åˆå¤ªçŸ­äº†ï¼Œä¾ç„¶ä¼šå¡é¡¿ã€‚ä½ å¾ˆéš¾æ‰¾åˆ°ä¸€ä¸ªé€‚åˆæ‰€æœ‰è®¾å¤‡çš„å®Œç¾å»¶è¿Ÿæ—¶é—´ã€‚</li>
<li><strong>ä½“éªŒä¸Šè¿˜æ˜¯æœ‰ç‚¹æ€ª</strong>ï¼šç”¨æˆ·ä¼šå‘ç°ï¼Œè¾“å…¥æ¡†é‡Œçš„æ–‡å­—å·²ç»å˜äº†ï¼Œä½†ä¸‹é¢çš„åˆ—è¡¨å´æ²¡ååº”ï¼Œè¦ç­‰ä¸€ä¸‹æ‰ä¼šæ›´æ–°ã€‚è¿™ç§â€œè„±èŠ‚â€çš„æ„Ÿè§‰ï¼Œæ€»è®©äººè§‰å¾—æœ‰ç‚¹ä¸è‡ªç„¶ã€‚</li>
</ol>
<p>é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰æ›´å¥½çš„åŠæ³•å‘¢ï¼Ÿ</p>
<h2 data-id="heading-2">ä¸‰ã€ä¸»è§’ç™»åœºï¼š<code>useDeferredValue</code></h2>
<p>React 18 ç»™æˆ‘ä»¬å¸¦æ¥äº†ä¸€ä¸ªæ–°å¼æ­¦å™¨ï¼š<code>useDeferredValue</code>ã€‚è¿™ä¸ª Hook å¯ä»¥è¯´æ˜¯ä¸“é—¨ä¸ºäº†è§£å†³è¿™ç±»é—®é¢˜è€Œç”Ÿçš„ã€‚</p>
<p>å®ƒçš„æ ¸å¿ƒæ€æƒ³å¾ˆç®€å•ï¼š<strong>å…è®¸æˆ‘ä»¬æŠŠä¸€ä¸ªå€¼çš„æ›´æ–°æ¨è¿Ÿï¼ˆdeferï¼‰åˆ°ä¸é‚£ä¹ˆç´§æ€¥çš„æ—¶å€™å†è¿›è¡Œ</strong>ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œå®ƒä¼šç»™æˆ‘ä»¬ä¸€ä¸ªâ€œå»¶è¿Ÿâ€ç‰ˆæœ¬çš„å€¼ã€‚è¿™ä¸ªå»¶è¿Ÿç‰ˆæœ¬çš„å€¼ï¼Œä¼šåœ¨æµè§ˆå™¨ç©ºé—²çš„æ—¶å€™ï¼Œæ‰æ›´æ–°åˆ°æœ€æ–°çŠ¶æ€ã€‚</p>
<p>è®©æˆ‘ä»¬æ¥çœ‹ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState, useDeferredValue } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [query, setQuery] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">const</span> deferredQuery = <span class="hljs-title function_">useDeferredValue</span>(query);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
        <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> 
        <span class="hljs-attr">value</span>=<span class="hljs-string">{query}</span> 
        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> setQuery(e.target.value)} 
      /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">SlowList</span> <span class="hljs-attr">text</span>=<span class="hljs-string">{deferredQuery}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>çœ‹åˆ°æ²¡ï¼Œæˆ‘ä»¬æŠŠ <code>query</code> è¿™ä¸ª state ä¼ ç»™äº† <code>useDeferredValue</code>ï¼Œå¾—åˆ°äº†ä¸€ä¸ªæ–°çš„å˜é‡ <code>deferredQuery</code>ã€‚ç„¶åï¼Œæˆ‘ä»¬æŠŠ <code>deferredQuery</code> ä¼ ç»™äº†é‚£ä¸ªå¾ˆæ…¢çš„åˆ—è¡¨ç»„ä»¶ <code>&lt;SlowList&gt;</code>ã€‚</p>
<p>è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆç¥å¥‡çš„äº‹æƒ…å‘¢ï¼Ÿ</p>
<ol>
<li>å½“ç”¨æˆ·åœ¨è¾“å…¥æ¡†é‡Œè¾“å…¥æ—¶ï¼Œ<code>query</code> çš„å€¼ä¼šç«‹åˆ»æ›´æ–°ã€‚</li>
<li><code>App</code> ç»„ä»¶ä¼šç«‹åˆ»é‡æ–°æ¸²æŸ“ã€‚</li>
<li>ä½†æ˜¯ï¼Œ<code>deferredQuery</code> çš„å€¼å¹¶ä¸ä¼šç«‹åˆ»å˜æˆæœ€æ–°çš„ <code>query</code>ã€‚å®ƒä¼šä¿æŒä¸Šä¸€æ¬¡çš„å€¼ã€‚</li>
<li>React ä¼šå…ˆç”¨æ—§çš„ <code>deferredQuery</code> æ¸²æŸ“ä¸€æ¬¡ <code>&lt;SlowList&gt;</code>ã€‚å› ä¸º props æ²¡æœ‰å˜ï¼Œå¦‚æœ <code>&lt;SlowList&gt;</code> è¢« <code>React.memo</code> åŒ…è£¹äº†ï¼Œå®ƒå°±ä¸ä¼šé‡æ–°æ¸²æŸ“ï¼ŒUI ä¹Ÿå°±ä¸ä¼šå¡é¡¿ã€‚</li>
<li>ç„¶åï¼ŒReact ä¼šåœ¨åå°å¯åŠ¨ä¸€ä¸ªä½ä¼˜å…ˆçº§çš„æ¸²æŸ“ï¼ŒæŠŠ <code>deferredQuery</code> æ›´æ–°åˆ°æœ€æ–°çš„ <code>query</code>ã€‚</li>
<li>å¦‚æœåœ¨è¿™ä¸ªä½ä¼˜å…ˆçº§æ¸²æŸ“å®Œæˆä¹‹å‰ï¼Œç”¨æˆ·åˆè¾“å…¥äº†æ–°çš„å†…å®¹ï¼ŒReact å°±ä¼šä¸­æ–­è¿™æ¬¡æ¸²æŸ“ï¼Œé‡æ–°å¼€å§‹ä¸€ä¸ªæ–°çš„é«˜ä¼˜å…ˆçº§æ¸²æŸ“ï¼ˆåªæ›´æ–°è¾“å…¥æ¡†ï¼‰ï¼Œç„¶åå†å®‰æ’ä¸€ä¸ªæ–°çš„ä½ä¼˜å…ˆçº§æ¸²æŸ“ï¼ˆæ›´æ–°åˆ—è¡¨ï¼‰ã€‚</li>
</ol>
<p>è¿™æ ·ä¸€æ¥ï¼Œç”¨æˆ·çš„è¾“å…¥æ“ä½œæ°¸è¿œæ˜¯æœ€é«˜ä¼˜å…ˆçº§çš„ï¼Œè¾“å…¥æ¡†çš„å“åº”ä¼šéå¸¸å¿«ï¼Œéå¸¸ä¸æ»‘ã€‚è€Œé‚£ä¸ªè€—æ—¶çš„åˆ—è¡¨æ¸²æŸ“ï¼Œåˆ™è¢«æ¨è¿Ÿåˆ°äº†æµè§ˆå™¨ä¸å¿™çš„æ—¶å€™å†è¿›è¡Œï¼Œä¸ä¼šé˜»å¡ç”¨æˆ·çš„æ“ä½œã€‚</p>
<h2 data-id="heading-3">å››ã€ä¸¤ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹</h2>
<h3 data-id="heading-4"><code>React.memo</code> æˆ– <code>useMemo</code></h3>
<p><code>useDeferredValue</code> çš„å¨åŠ›ï¼Œéœ€è¦å’Œ <code>React.memo</code> æˆ– <code>useMemo</code> é…åˆæ‰èƒ½å®Œå…¨å‘æŒ¥å‡ºæ¥ã€‚</p>
<p>å¦‚æœä½ çš„æ…¢ç»„ä»¶æ²¡æœ‰ç”¨ <code>React.memo</code> åŒ…è£¹ï¼Œé‚£å³ä½¿ <code>deferredQuery</code> è¿˜æ˜¯æ—§çš„å€¼ï¼Œç»„ä»¶ä¹Ÿè¿˜æ˜¯ä¼šé‡æ–°æ¸²æŸ“ï¼Œé‚£å°±ç™½æ­äº†ã€‚</p>
<p><strong>æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨ <code>React.memo</code></strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">SlowList</span> = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">memo</span>(<span class="hljs-keyword">function</span> <span class="hljs-title function_">SlowList</span>(<span class="hljs-params">{ text }</span>) {
  <span class="hljs-comment">// ... è€—æ—¶çš„åˆ—è¡¨æ¸²æŸ“é€»è¾‘</span>
});
</code></pre>
<p><strong>æ–¹æ¡ˆäºŒï¼šä½¿ç”¨ <code>useMemo</code></strong></p>
<p>å¦‚æœä½ ä¸æƒ³å•ç‹¬æŠ½ç¦»ä¸€ä¸ªç»„ä»¶ï¼Œä¹Ÿå¯ä»¥ç”¨ <code>useMemo</code> æ¥ç¼“å­˜æ¸²æŸ“ç»“æœï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [query, setQuery] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">const</span> deferredQuery = <span class="hljs-title function_">useDeferredValue</span>(query);

  <span class="hljs-keyword">const</span> slowList = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">SlowList</span> <span class="hljs-attr">text</span>=<span class="hljs-string">{deferredQuery}</span> /&gt;</span></span>;
  }, [deferredQuery]);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
        <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> 
        <span class="hljs-attr">value</span>=<span class="hljs-string">{query}</span> 
        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> setQuery(e.target.value)} 
      /&gt;
      {slowList}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>è¿™æ ·ï¼Œåªæœ‰å½“ <code>deferredQuery</code> å˜åŒ–æ—¶ï¼Œ<code>&lt;SlowList&gt;</code> æ‰ä¼šé‡æ–°æ¸²æŸ“ã€‚</p>
<h2 data-id="heading-5">äº”ã€ç»™ç”¨æˆ·ä¸€ä¸ªåŠ è½½æç¤º</h2>
<p><code>useDeferredValue</code> è¿˜æœ‰ä¸€ä¸ªå¾ˆè´´å¿ƒçš„åŠŸèƒ½ï¼šæˆ‘ä»¬å¯ä»¥é€šè¿‡æ¯”è¾ƒåŸå§‹å€¼å’Œå»¶è¿Ÿå€¼æ˜¯å¦ç›¸ç­‰ï¼Œæ¥åˆ¤æ–­é‚£ä¸ªæ…¢çš„æ›´æ–°æ˜¯å¦è¿˜åœ¨â€œè·¯ä¸Šâ€ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> isStale = query !== deferredQuery;

<span class="hljs-keyword">return</span> (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
      <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> 
      <span class="hljs-attr">value</span>=<span class="hljs-string">{query}</span> 
      <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> setQuery(e.target.value)} 
    /&gt;
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">opacity:</span> <span class="hljs-attr">isStale</span> ? <span class="hljs-attr">0.5</span> <span class="hljs-attr">:</span> <span class="hljs-attr">1</span> }}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">SlowList</span> <span class="hljs-attr">text</span>=<span class="hljs-string">{deferredQuery}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
);
</code></pre>
<p>å½“ <code>query</code> å’Œ <code>deferredQuery</code> ä¸ç›¸ç­‰æ—¶ï¼Œå°±è¯´æ˜åˆ—è¡¨çš„æ›´æ–°æ­£åœ¨è¢«å»¶è¿Ÿã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç»™åˆ—è¡¨ä¸€ä¸ªåŠé€æ˜çš„æ ·å¼ï¼Œæˆ–è€…æ˜¾ç¤ºä¸€ä¸ª loading å›¾æ ‡ï¼Œå‘Šè¯‰ç”¨æˆ·ï¼šâ€œåˆ«æ€¥ï¼Œé©¬ä¸Šå°±æ¥ï¼â€</p>
<h2 data-id="heading-6">å…­ã€æ€»ç»“ä¸€ä¸‹</h2>
<p><code>useDeferredValue</code> æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„æ€§èƒ½ä¼˜åŒ–å·¥å…·ï¼Œå®ƒè®©æˆ‘ä»¬èƒ½å¤Ÿä¼˜é›…åœ°å¤„ç†é‚£äº›â€œé«˜ä¼˜å…ˆçº§â€å’Œâ€œä½ä¼˜å…ˆçº§â€çš„æ¸²æŸ“ä»»åŠ¡ï¼Œè®©åº”ç”¨åœ¨å„ç§è®¾å¤‡ä¸Šéƒ½èƒ½ä¿æŒæµç•…çš„äº¤äº’ä½“éªŒã€‚</p>
<p>ä¸‹æ¬¡å†é‡åˆ°ç±»ä¼¼çš„å¡é¡¿é—®é¢˜æ—¶ï¼Œä¸å¦¨è¯•è¯• <code>useDeferredValue</code>ã€‚å®ƒå¯èƒ½ä¼šç»™ä½ å¸¦æ¥æ„æƒ³ä¸åˆ°çš„æƒŠå–œã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ å®æˆ˜ï¼šVue3 + NestJS å®ç°ç§’ä¼ ã€æ–­ç‚¹ç»­ä¼ ã€å¹¶å‘ä¸å¤±è´¥é‡è¯•ï¼ˆé™„å®Œæ•´ä»£ç ï¼‰]]></title>    <link>https://juejin.cn/post/7599543345980637211</link>    <guid>https://juejin.cn/post/7599543345980637211</guid>    <pubDate>2026-01-26T12:14:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599543345980637211" data-draft-id="7599528186587054090" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ å®æˆ˜ï¼šVue3 + NestJS å®ç°ç§’ä¼ ã€æ–­ç‚¹ç»­ä¼ ã€å¹¶å‘ä¸å¤±è´¥é‡è¯•ï¼ˆé™„å®Œæ•´ä»£ç ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2026-01-26T12:14:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="hypoy"/> <meta itemprop="url" content="https://juejin.cn/user/3074670624777223"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ å®æˆ˜ï¼šVue3 + NestJS å®ç°ç§’ä¼ ã€æ–­ç‚¹ç»­ä¼ ã€å¹¶å‘ä¸å¤±è´¥é‡è¯•ï¼ˆé™„å®Œæ•´ä»£ç ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3074670624777223/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    hypoy
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T12:14:38.000Z" title="Mon Jan 26 2026 12:14:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    18
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¤§æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ å®æˆ˜ï¼šVue3 + NestJS å®ç°ç§’ä¼ ã€æ–­ç‚¹ç»­ä¼ ã€å¹¶å‘ä¸å¤±è´¥é‡è¯•ï¼ˆé™„å®Œæ•´ä»£ç ï¼‰</h2>
<p>æœ€è¿‘åœ¨å›é¡¾é¡¹ç›®é‡Œâ€œå¤§æ–‡ä»¶ä¸Šä¼ â€ç›¸å…³çš„å®ç°ï¼Œé¡ºæ‰‹æŠŠå¤§æ–‡ä»¶ <strong>åˆ†ç‰‡ä¸Šä¼ </strong> è¿™ä¸€å—é‡æ–°æ•´ç†äº†ä¸€éã€‚å®é™…è¸©è¿‡å‘ä¹‹åä¼šå‘ç°ï¼Œä¸Šä¼ å¹¶ä¸æ˜¯â€œé€‰æ–‡ä»¶ â†’ å‘è¯·æ±‚â€è¿™ä¹ˆç®€å•ï¼šæ–‡ä»¶è¶Šå¤§ï¼Œè¶Šå®¹æ˜“é‡åˆ°ç½‘ç»œæŠ–åŠ¨å¯¼è‡´å¤±è´¥ã€é¡µé¢åˆ·æ–°åè¿›åº¦ä¸¢å¤±ã€å¤±è´¥ååªèƒ½é‡ä¼ ã€é‡å¤ä¸Šä¼ æµªè´¹å¸¦å®½ï¼Œä»¥åŠå•è¯·æ±‚ä¸Šä¼ é€Ÿåº¦æ…¢ä¸”ä¸å¯æ§ç­‰é—®é¢˜ã€‚</p>
<p>å› æ­¤è¿™æ¬¡å¤ç›˜é‡Œï¼ŒæŠŠä¸Šä¼ æµç¨‹æ‹†æˆäº†ä¸€æ¡æ›´å¯æ§çš„é“¾è·¯ï¼šå…ˆç”¨ <strong>hash</strong> ä½œä¸ºæ–‡ä»¶å”¯ä¸€æŒ‡çº¹ï¼Œæ”¯æŒ <strong>ç§’ä¼ </strong> ä¸ <strong>æ–­ç‚¹ç»­ä¼ </strong>ï¼›å†æŠŠæ–‡ä»¶æŒ‰å›ºå®šå¤§å°è¿›è¡Œ <strong>åˆ‡ç‰‡</strong>ï¼Œé…åˆ <strong>å¹¶å‘ä¸Šä¼ </strong> æå‡ååï¼Œé‡åˆ°å¤±è´¥åˆ™é€šè¿‡ <strong>æŒ‡æ•°é€€é¿é‡è¯•</strong> æé«˜å¼±ç½‘åœºæ™¯ä¸‹çš„æˆåŠŸç‡ï¼›æœ€åç”±æœåŠ¡ç«¯æŒ‰åº <strong>åˆå¹¶åˆ†ç‰‡å¹¶æ¸…ç†ä¸´æ—¶æ–‡ä»¶</strong>ï¼Œå½¢æˆå®Œæ•´é—­ç¯ã€‚åŸºäºè¿™å¥—æ€è·¯ï¼Œå®ç°äº†ä¸€å¥—å¤§æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ æ–¹æ¡ˆï¼Œæ ¸å¿ƒèƒ½åŠ›åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>æ–‡ä»¶åˆ†ç‰‡</strong>ï¼šé»˜è®¤ 5MBï¼ˆå¯é…ç½®ï¼‰</li>
<li><strong>Hash æŒ‡çº¹</strong>ï¼šä½¿ç”¨ SparkMD5ï¼Œå¹¶æ”¾åˆ° Web Worker é‡Œè®¡ç®—ï¼Œé¿å…é˜»å¡ UI</li>
<li><strong>å¹¶å‘ä¸Šä¼ </strong>ï¼šé»˜è®¤ 3 å¹¶å‘</li>
<li><strong>å¤±è´¥é‡è¯•</strong>ï¼šé»˜è®¤ 3 æ¬¡ï¼ŒæŒ‡æ•°é€€é¿</li>
<li><strong>æ–­ç‚¹ç»­ä¼ </strong>ï¼šæœåŠ¡ç«¯è¿”å›å·²ä¸Šä¼ åˆ†ç‰‡åˆ—è¡¨ï¼Œå‰ç«¯è·³è¿‡å·²å®Œæˆåˆ†ç‰‡</li>
<li><strong>ç§’ä¼ </strong>ï¼šæœåŠ¡ç«¯å·²å­˜åœ¨ç›¸åŒ hash çš„æ–‡ä»¶æ—¶ç›´æ¥è¿”å›æˆåŠŸ</li>
<li><strong>å®‰å…¨åˆå¹¶</strong>ï¼šæœåŠ¡ç«¯æŒ‰åºåˆå¹¶å¹¶æ¸…ç†ä¸´æ—¶åˆ†ç‰‡ç›®å½•</li>
</ul>
<p>æŠ€æœ¯æ ˆï¼š</p>
<ul>
<li>å‰ç«¯ï¼šVue 3 + TypeScript + Vite</li>
<li>åç«¯ï¼šNestJS + TypeScript</li>
<li>Hashï¼šSparkMD5ï¼ˆWeb Workerï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-1">1. æ•´ä½“æµç¨‹ä¸æ¥å£è®¾è®¡</h3>
<p>æ•´ä¸ªç³»ç»Ÿå›´ç»•å››ä¸ªæ¥å£æ„å»ºï¼š</p>






























<table><thead><tr><th>ç«¯ç‚¹</th><th>æ–¹æ³•</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td><code>/upload/check</code></td><td>POST</td><td>ç§’ä¼ æ£€æµ‹ï¼šæ˜¯å¦å·²å­˜åœ¨åŒ hash æ–‡ä»¶</td></tr><tr><td><code>/upload/chunks</code></td><td>GET</td><td>æŸ¥è¯¢å·²ä¸Šä¼ åˆ†ç‰‡ï¼šæ–­ç‚¹ç»­ä¼ çš„åŸºç¡€</td></tr><tr><td><code>/upload/chunk</code></td><td>POST</td><td>ä¸Šä¼ å•ä¸ªåˆ†ç‰‡</td></tr><tr><td><code>/upload/merge</code></td><td>POST</td><td>åˆå¹¶åˆ†ç‰‡å¹¶è¿”å›æœ€ç»ˆæ–‡ä»¶ URL</td></tr></tbody></table>
<p>ä¸Šä¼ æ—¶åºï¼š</p>
<ol>
<li>é€‰æ‹©æ–‡ä»¶</li>
<li>Web Worker è®¡ç®—æ–‡ä»¶ hash</li>
<li>ç§’ä¼ æ£€æµ‹ï¼šå‘½ä¸­åˆ™ç›´æ¥æˆåŠŸ</li>
<li>æŸ¥è¯¢å·²ä¸Šä¼ åˆ†ç‰‡ï¼šæ–­ç‚¹ç»­ä¼ </li>
<li>5MB åˆ‡ç‰‡</li>
<li>å¹¶å‘ä¸Šä¼ æœªå®Œæˆåˆ†ç‰‡ï¼ˆé»˜è®¤ 3ï¼‰</li>
<li>è¯·æ±‚åˆå¹¶</li>
<li>è¿”å›æ–‡ä»¶è®¿é—®åœ°å€</li>
</ol>
<hr/>
<h3 data-id="heading-2">2. å‰ç«¯ï¼šAPI å°è£…ï¼ˆapi.tsï¼‰</h3>
<h4 data-id="heading-3">2.1 ç¯å¢ƒé…ç½®ï¼šå¼€å‘ç›´è¿ã€ç”Ÿäº§èµ°åä»£</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">BASE_URL</span> = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">PROD</span> ? <span class="hljs-string">''</span> : <span class="hljs-string">'http://localhost:3000'</span>;
</code></pre>
<ul>
<li>å¼€å‘ç¯å¢ƒç›´æ¥è¯·æ±‚åç«¯ <code>3000</code></li>
<li>ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œäº¤ç»™ Nginx åå‘ä»£ç†è½¬å‘</li>
</ul>
<h4 data-id="heading-4">2.2 ç§’ä¼ æ£€æµ‹ï¼šcheckFile</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">checkFile</span>(<span class="hljs-params">hash: <span class="hljs-built_in">string</span>, filename: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`<span class="hljs-subst">${BASE_URL}</span>/upload/check`</span>, {
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> },
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ hash, filename }),
  });
  <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>();
}
</code></pre>
<p>æœåŠ¡ç«¯å¦‚æœå·²æœ‰åŒ hash æ–‡ä»¶ï¼Œä¼šè¿”å› <code>{ exists: true, url }</code>ï¼Œå‰ç«¯å¯ä»¥ç›´æ¥ç»“æŸä¸Šä¼ æµç¨‹ã€‚</p>
<h4 data-id="heading-5">2.3 æ–­ç‚¹ç»­ä¼ ï¼šgetUploadedChunks</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getUploadedChunks</span>(<span class="hljs-params">hash: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`<span class="hljs-subst">${BASE_URL}</span>/upload/chunks?hash=<span class="hljs-subst">${hash}</span>`</span>);
  <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>();
}
</code></pre>
<p>è¯¥æ¥å£è¿”å›å·²ä¸Šä¼ çš„åˆ†ç‰‡ç´¢å¼•æ•°ç»„ï¼Œå‰ç«¯æ®æ­¤è·³è¿‡å·²å®Œæˆåˆ†ç‰‡ï¼Œç»§ç»­ä¸Šä¼ å‰©ä½™éƒ¨åˆ†ã€‚</p>
<h4 data-id="heading-6">2.4 åˆ†ç‰‡ä¸Šä¼ ï¼šuploadChunkï¼ˆXHR æ”¯æŒè¿›åº¦ï¼‰</h4>
<p>ä¸ºäº†æ‹¿åˆ°ä¸Šä¼ è¿›åº¦ï¼Œåˆ†ç‰‡ä¸Šä¼ ä½¿ç”¨ <code>XMLHttpRequest</code>ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">uploadChunk</span>(<span class="hljs-params">hash, chunkIndex, chunk, filename, onProgress?</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormData</span>();
    formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'hash'</span>, hash);
    formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'chunkIndex'</span>, <span class="hljs-title class_">String</span>(chunkIndex));
    formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'filename'</span>, filename);
    formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'file'</span>, chunk);

    <span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();
    xhr.<span class="hljs-title function_">open</span>(<span class="hljs-string">'POST'</span>, <span class="hljs-string">`<span class="hljs-subst">${BASE_URL}</span>/upload/chunk`</span>);

    xhr.<span class="hljs-property">upload</span>.<span class="hljs-property">onprogress</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (event.<span class="hljs-property">lengthComputable</span> &amp;&amp; onProgress) {
        <span class="hljs-title function_">onProgress</span>(event.<span class="hljs-property">loaded</span>, event.<span class="hljs-property">total</span>);
      }
    };

    xhr.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">status</span> &gt;= <span class="hljs-number">200</span> &amp;&amp; xhr.<span class="hljs-property">status</span> &lt; <span class="hljs-number">300</span>) {
        <span class="hljs-title function_">resolve</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(xhr.<span class="hljs-property">responseText</span>));
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Upload failed with status <span class="hljs-subst">${xhr.status}</span>`</span>));
      }
    };

    xhr.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Network error'</span>));
    xhr.<span class="hljs-title function_">send</span>(formData);
  });
}
</code></pre>
<h4 data-id="heading-7">2.5 åˆå¹¶åˆ†ç‰‡ï¼šmergeChunks</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">mergeChunks</span>(<span class="hljs-params">hash: <span class="hljs-built_in">string</span>, filename: <span class="hljs-built_in">string</span>, totalChunks: <span class="hljs-built_in">number</span></span>) {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`<span class="hljs-subst">${BASE_URL}</span>/upload/merge`</span>, {
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> },
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ hash, filename, totalChunks }),
  });
  <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>();
}
</code></pre>
<hr/>
<h3 data-id="heading-8">3. å‰ç«¯ï¼šWorker è®¡ç®— Hashï¼ˆhash-worker.tsï¼‰</h3>
<p>å¤§æ–‡ä»¶ MD5 çš„è®¡ç®—å¦‚æœæ”¾åœ¨ä¸»çº¿ç¨‹ï¼Œä¼šé€ æˆæ˜æ˜¾å¡é¡¿ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé‡‡ç”¨ Web Worker åœ¨åå°åˆ†å—è¯»å–æ–‡ä»¶å¹¶è®¡ç®— SparkMD5ã€‚</p>
<p>Worker å†…éƒ¨æŒ‰ 2MB åˆ†å—è®¡ç®—ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> <span class="hljs-title class_">SparkMD5</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'spark-md5'</span>;

self.<span class="hljs-property">onmessage</span> = <span class="hljs-keyword">async</span> (<span class="hljs-attr">e</span>: <span class="hljs-title class_">MessageEvent</span>&lt;<span class="hljs-title class_">File</span>&gt;) =&gt; {
  <span class="hljs-keyword">const</span> file = e.<span class="hljs-property">data</span>;
  <span class="hljs-keyword">const</span> chunkSize = <span class="hljs-number">2</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>;
  <span class="hljs-keyword">const</span> chunks = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(file.<span class="hljs-property">size</span> / chunkSize);
  <span class="hljs-keyword">const</span> spark = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SparkMD5</span>.<span class="hljs-title class_">ArrayBuffer</span>();

  <span class="hljs-keyword">let</span> currentChunk = <span class="hljs-number">0</span>;

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">loadNext</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">const</span> start = currentChunk * chunkSize;
    <span class="hljs-keyword">const</span> end = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(start + chunkSize, file.<span class="hljs-property">size</span>);
    <span class="hljs-keyword">const</span> reader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>();

    reader.<span class="hljs-property">onload</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (event.<span class="hljs-property">target</span>?.<span class="hljs-property">result</span>) {
        spark.<span class="hljs-title function_">append</span>(event.<span class="hljs-property">target</span>.<span class="hljs-property">result</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">ArrayBuffer</span>);
      }
      currentChunk++;

      self.<span class="hljs-title function_">postMessage</span>({
        <span class="hljs-attr">type</span>: <span class="hljs-string">'progress'</span>,
        <span class="hljs-attr">progress</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>((currentChunk / chunks) * <span class="hljs-number">100</span>),
      });

      <span class="hljs-keyword">if</span> (currentChunk &lt; chunks) {
        <span class="hljs-title function_">loadNext</span>();
      } <span class="hljs-keyword">else</span> {
        self.<span class="hljs-title function_">postMessage</span>({
          <span class="hljs-attr">type</span>: <span class="hljs-string">'complete'</span>,
          <span class="hljs-attr">hash</span>: spark.<span class="hljs-title function_">end</span>(),
        });
      }
    };

    reader.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> {
      self.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'error'</span>, <span class="hljs-attr">error</span>: <span class="hljs-string">'Failed to read file'</span> });
    };

    reader.<span class="hljs-title function_">readAsArrayBuffer</span>(file.<span class="hljs-title function_">slice</span>(start, end));
  };

  <span class="hljs-title function_">loadNext</span>();
};

<span class="hljs-keyword">export</span> {};
</code></pre>
<p>ä¸»çº¿ç¨‹ä¾§é€šè¿‡ <code>calculateHash()</code> ç›‘å¬ <code>progress / complete / error</code> ä¸‰ç§æ¶ˆæ¯ï¼Œå®ç° hash è¿›åº¦å±•ç¤ºä¸ç»“æœå›ä¼ ã€‚</p>
<hr/>
<h3 data-id="heading-9">4. å‰ç«¯ï¼šä¸Šä¼ å¼•æ“ï¼ˆuploader.tsï¼‰</h3>
<p>ä¸Šä¼ å¼•æ“è´Ÿè´£æŠŠâ€œhash â†’ ç§’ä¼  â†’ æ–­ç‚¹ â†’ å¹¶å‘ â†’ é‡è¯• â†’ åˆå¹¶â€çš„å…¨æµç¨‹ä¸²èµ·æ¥ï¼ŒåŒæ—¶ä»¥ç»Ÿä¸€çš„ <code>UploadProgress</code> å¯¹å¤–è¾“å‡ºè¿›åº¦ã€‚</p>
<h4 data-id="heading-10">4.1 è¿›åº¦ç»“æ„ï¼šUploadProgress</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-attr">status</span>: <span class="hljs-string">'hashing'</span> | <span class="hljs-string">'checking'</span> | <span class="hljs-string">'uploading'</span> | <span class="hljs-string">'merging'</span> | <span class="hljs-string">'success'</span> | <span class="hljs-string">'error'</span>
percentage, uploadedChunks, totalChunks, uploadedBytes, totalBytes, message
</code></pre>
<p>ç»„ä»¶åªéœ€è¦è®¢é˜… <code>onProgress</code>ï¼Œæ— éœ€å…³å¿ƒå†…éƒ¨å®ç°ç»†èŠ‚ã€‚</p>
<h4 data-id="heading-11">4.2 æ–‡ä»¶åˆ†ç‰‡ï¼šsliceFile</h4>
<p>é»˜è®¤åˆ†ç‰‡å¤§å°ä¸º 5MBï¼ˆå¯é…ç½®ï¼‰ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DEFAULT_CHUNK_SIZE</span> = <span class="hljs-number">5</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>;
</code></pre>
<p>åˆ†ç‰‡å‡½æ•°ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sliceFile</span>(<span class="hljs-params">file: File, chunkSize: <span class="hljs-built_in">number</span></span>): <span class="hljs-title class_">Blob</span>[] {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">chunks</span>: <span class="hljs-title class_">Blob</span>[] = [];
  <span class="hljs-keyword">let</span> start = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span> (start &lt; file.<span class="hljs-property">size</span>) {
    <span class="hljs-keyword">const</span> end = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(start + chunkSize, file.<span class="hljs-property">size</span>);
    chunks.<span class="hljs-title function_">push</span>(file.<span class="hljs-title function_">slice</span>(start, end));
    start = end;
  }
  <span class="hljs-keyword">return</span> chunks;
}
</code></pre>
<h4 data-id="heading-12">4.3 å•åˆ†ç‰‡å¤±è´¥é‡è¯•ï¼šæŒ‡æ•°é€€é¿</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">uploadChunkWithRetry</span>(<span class="hljs-params">hash, chunkIndex, chunk, filename, maxRetries</span>) {
  <span class="hljs-keyword">let</span> <span class="hljs-attr">lastError</span>: <span class="hljs-title class_">Error</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> attempt = <span class="hljs-number">0</span>; attempt &lt;= maxRetries; attempt++) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">uploadChunk</span>(hash, chunkIndex, chunk, filename);
      <span class="hljs-keyword">return</span>;
    } <span class="hljs-keyword">catch</span> (error) {
      lastError = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">Error</span>;
      <span class="hljs-keyword">if</span> (attempt &lt; maxRetries) {
        <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">2</span>, attempt) * <span class="hljs-number">1000</span>));
      }
    }
  }
  <span class="hljs-keyword">throw</span> lastError;
}
</code></pre>
<h4 data-id="heading-13">4.4 å¹¶å‘ä¸Šä¼ ï¼šrunConcurrent</h4>
<p>å¹¶å‘æ§åˆ¶é»˜è®¤ 3ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DEFAULT_CONCURRENCY</span> = <span class="hljs-number">3</span>;
</code></pre>
<p>å¹¶å‘è°ƒåº¦é€»è¾‘æŒ‰ä»»åŠ¡é˜Ÿåˆ—æ‰§è¡Œï¼ŒåŒæ—¶é™åˆ¶æœ€å¤§å¹¶è¡Œæ•°ã€‚</p>
<h4 data-id="heading-14">4.5 ä¸»æµç¨‹ï¼šuploadFile</h4>
<p>ä¸Šä¼ å…¥å£ <code>uploadFile()</code> æŒ‰ç…§ä»¥ä¸‹é¡ºåºæ‰§è¡Œï¼š</p>
<ol>
<li>è®¡ç®— hashï¼ˆWorkerï¼‰</li>
<li>ç§’ä¼ æ£€æµ‹ï¼ˆå­˜åœ¨åˆ™ç›´æ¥è¿”å›ï¼‰</li>
<li>è·å–å·²ä¸Šä¼ åˆ†ç‰‡åˆ—è¡¨ï¼ˆæ–­ç‚¹ç»­ä¼ ï¼‰</li>
<li>åˆ‡ç‰‡å¹¶è¿‡æ»¤æ‰å·²å­˜åœ¨åˆ†ç‰‡</li>
<li>å¹¶å‘ä¸Šä¼ å‰©ä½™åˆ†ç‰‡ï¼ˆå¤±è´¥è‡ªåŠ¨é‡è¯•ï¼‰</li>
<li>åˆå¹¶åˆ†ç‰‡</li>
<li>è¿”å›æœ€ç»ˆæ–‡ä»¶ URL</li>
</ol>
<p>æ­¤å¤–ï¼Œå·²ä¸Šä¼ çš„å­—èŠ‚æ•°ä¼šæ ¹æ®å·²å­˜åœ¨åˆ†ç‰‡æå‰ç´¯åŠ ï¼Œè®©æ–­ç‚¹ç»­ä¼ çš„è¿›åº¦å±•ç¤ºæ›´å‡†ç¡®ã€‚</p>
<hr/>
<h3 data-id="heading-15">5. å‰ç«¯ UIï¼šHy-Upload.vue</h3>
<p>ç»„ä»¶å±‚æä¾›äº†è¾ƒå®Œæ•´çš„ä¸Šä¼ ä½“éªŒï¼š</p>
<ul>
<li>ç‚¹å‡»é€‰æ‹©æ–‡ä»¶ / æ‹–æ‹½ä¸Šä¼ </li>
<li>è‡ªåŠ¨ä¸Šä¼ ï¼ˆautoUploadï¼‰</li>
<li>ä¸Šä¼ çŠ¶æ€å›¾æ ‡ä¸æç¤ºæ–‡æ¡ˆ</li>
<li>è¿›åº¦æ¡ä¸ç™¾åˆ†æ¯”å±•ç¤º</li>
<li>ä¸Šä¼ æˆåŠŸå±•ç¤º URL</li>
<li>å¤±è´¥åæ”¯æŒä¸€é”®é‡ç½®é‡æ–°ä¸Šä¼ </li>
</ul>
<p>ç»„ä»¶å†…éƒ¨ä¸å…³å¿ƒä¸Šä¼ ç»†èŠ‚ï¼Œåªéœ€è¦è°ƒç”¨ <code>uploadFile()</code> å¹¶æŠŠè¿›åº¦å›ä¼ å³å¯ã€‚</p>
<hr/>
<h3 data-id="heading-16">6. åç«¯ï¼šNestJS åˆ†ç‰‡å­˜å‚¨ä¸åˆå¹¶</h3>
<p>åç«¯ä½¿ç”¨ <code>UploadController</code> + <code>UploadService</code> å®ç°åˆ†ç‰‡è½ç›˜ã€æ–­ç‚¹æŸ¥è¯¢ã€æœ€ç»ˆåˆå¹¶ä¸æ¸…ç†ã€‚</p>
<h4 data-id="heading-17">6.1 æ¥æ”¶åˆ†ç‰‡ï¼š/upload/chunk</h4>
<p>ä½¿ç”¨ multer å…ˆå­˜å…¥ä¸´æ—¶ç›®å½•ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-meta">@UseInterceptors</span>(<span class="hljs-title class_">FileInterceptor</span>(<span class="hljs-string">'file'</span>, { <span class="hljs-attr">dest</span>: <span class="hljs-string">'uploads/temp'</span> }))
</code></pre>
<p>ç„¶åç§»åŠ¨åˆ°åˆ†ç‰‡ç›®å½•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">uploads/chunks/{<span class="hljs-built_in">hash</span>}/{chunkIndex}
</code></pre>
<h4 data-id="heading-18">6.2 ç§’ä¼ ï¼š/upload/check</h4>
<p>æœ€ç»ˆæ–‡ä»¶è·¯å¾„é‡‡ç”¨ <code>hash + ext</code> çš„æ–¹å¼ç”Ÿæˆï¼š</p>
<pre><code class="hljs language-bash" lang="bash">uploads/{<span class="hljs-built_in">hash</span>}{ext}
</code></pre>
<p>å¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œè¿”å›å¯è®¿é—® URLï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">return</span> { <span class="hljs-attr">exists</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">url</span>: <span class="hljs-string">`/uploads/<span class="hljs-subst">${hash}</span><span class="hljs-subst">${ext}</span>`</span> };
</code></pre>
<h4 data-id="heading-19">6.3 æ–­ç‚¹ç»­ä¼ ï¼š/upload/chunks</h4>
<p>è¯»å– <code>uploads/chunks/{hash}</code> ç›®å½•ä¸‹å·²æœ‰åˆ†ç‰‡æ–‡ä»¶åï¼Œè½¬æˆ index æ•°ç»„è¿”å›ï¼Œä¾›å‰ç«¯è·³è¿‡å·²å®Œæˆåˆ†ç‰‡ã€‚</p>
<h4 data-id="heading-20">6.4 åˆå¹¶ï¼š/upload/merge</h4>
<p>åˆå¹¶å‰ä¼šæ ¡éªŒï¼š</p>
<ul>
<li>åˆ†ç‰‡æ•°é‡æ˜¯å¦å®Œæ•´</li>
<li>æ˜¯å¦ç¼ºå°‘æŸä¸ªåˆ†ç‰‡ï¼ˆ0..totalChunks-1ï¼‰</li>
</ul>
<p>åˆå¹¶æˆåŠŸåæ¸…ç† chunk ç›®å½•ï¼Œè¿”å›æœ€ç»ˆ URLã€‚</p>
<hr/>
<h3 data-id="heading-21">8. æ€»ç»“</h3>
<p>è¿™å¥—å¤§æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ æ–¹æ¡ˆçš„æ ¸å¿ƒæ€è·¯ï¼Œæ˜¯æŠŠâ€œä¸Šä¼ â€æ‹†æˆä¸€æ¡å¯æ§ã€å¯æ¢å¤çš„é“¾è·¯ï¼šä»¥ <strong>hash</strong> ä½œä¸ºæ–‡ä»¶å”¯ä¸€æŒ‡çº¹ï¼Œè®©ç›¸åŒæ–‡ä»¶å…·å¤‡ <strong>ç§’ä¼ </strong> èƒ½åŠ›ï¼Œå¹¶ä¸”åœ¨é¡µé¢åˆ·æ–°åé€šè¿‡æŸ¥è¯¢å·²ä¸Šä¼ åˆ†ç‰‡å®ç° <strong>æ–­ç‚¹ç»­ä¼ </strong>ï¼›hash è®¡ç®—æ”¾åˆ° <strong>Web Worker</strong> ä¸­æ‰§è¡Œï¼Œé¿å…å¤§æ–‡ä»¶æŒ‡çº¹è®¡ç®—é˜»å¡ä¸»çº¿ç¨‹ï¼›ä¸Šä¼ é˜¶æ®µé€šè¿‡ <strong>å¹¶å‘</strong> æå‡ååï¼Œé€šè¿‡ <strong>å¤±è´¥é‡è¯•ï¼ˆæŒ‡æ•°é€€é¿ï¼‰</strong> å¢å¼ºå¼±ç½‘åœºæ™¯ä¸‹çš„æˆåŠŸç‡ï¼›æœ€ç»ˆç”±æœåŠ¡ç«¯ <strong>æŒ‰åºåˆå¹¶åˆ†ç‰‡å¹¶æ¸…ç†ä¸´æ—¶ç›®å½•</strong>ï¼Œå®ç°ä»ä¸Šä¼ åˆ°è½ç›˜çš„å®Œæ•´é—­ç¯ã€‚</p>
<p>å—æ—¶é—´ç²¾åŠ›æ‰€é™ï¼Œä¸€äº›æ›´è´´è¿‘ç”Ÿäº§ç¯å¢ƒçš„èƒ½åŠ›æš‚æ—¶è¿˜æœªè¡¥é½ï¼Œä¸è¿‡åç»­çš„å¯æ‰©å±•æ–¹å‘å·²ç»æ¢³ç†æ¸…æ¥šï¼šåˆå¹¶é˜¶æ®µå¯ä»¥å‡çº§ä¸º <strong>æµå¼åˆå¹¶</strong>ï¼Œé™ä½å†…å­˜å³°å€¼å¹¶æå‡å¹¶å‘ç¨³å®šæ€§ï¼›è¿›åº¦å±•ç¤ºå¯ä»¥æ”¹ä¸ºåŸºäº <code>onprogress</code> çš„ <strong>å®æ—¶ç´¯è®¡</strong>ï¼Œè®©è¿›åº¦æ›´å¹³æ»‘ã€æ›´å¯ä¿¡ï¼›åŒæ—¶åŠ å…¥ <strong>åˆ†ç‰‡è¿‡æœŸæ¸…ç†æœºåˆ¶</strong>ï¼Œé¿å…ä¸­æ–­ä¸Šä¼ ååˆ†ç‰‡é•¿æœŸæ®‹ç•™å ç”¨ç£ç›˜ã€‚ç­‰åç»­é€æ­¥æŠŠè¿™äº›ç‚¹è½åœ°ï¼Œæ•´ä½“çš„ç¨³å®šæ€§ã€å¯ç»´æŠ¤æ€§ä»¥åŠä½¿ç”¨ä½“éªŒéƒ½ä¼šè¿›ä¸€æ­¥æå‡ã€‚</p>
<h3 data-id="heading-22">é¡¹ç›®åœ°å€</h3>
<p>å®Œæ•´ä»£ç å·²å¼€æºï¼š</p>
<ul>
<li>GitHub: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTheproudcold%2Flarge-file-sharding-upload" target="_blank" title="https://github.com/Theproudcold/large-file-sharding-upload" ref="nofollow noopener noreferrer">github.com/Theproudcolâ€¦</a></li>
</ul>
<p>æ¬¢è¿ Star / æ Issue / PRï¼Œä¸€èµ·å®Œå–„åŠŸèƒ½ï¼ˆä¾‹å¦‚æµå¼åˆå¹¶ã€å®æ—¶è¿›åº¦ã€åˆ†ç‰‡è¿‡æœŸæ¸…ç†ç­‰ï¼‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€é¸¿è’™å¼€å‘æ•™ç¨‹ã€‘æ‰‹æŠŠæ‰‹æ•™ä½ å¼€å‘ç¢°ä¸€ç¢°åŠ å¥½å‹åŠŸèƒ½]]></title>    <link>https://juejin.cn/post/7599514071105060879</link>    <guid>https://juejin.cn/post/7599514071105060879</guid>    <pubDate>2026-01-26T12:13:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599514071105060879" data-draft-id="7599526246503284770" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€é¸¿è’™å¼€å‘æ•™ç¨‹ã€‘æ‰‹æŠŠæ‰‹æ•™ä½ å¼€å‘ç¢°ä¸€ç¢°åŠ å¥½å‹åŠŸèƒ½"/> <meta itemprop="keywords" content="HarmonyOS,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-26T12:13:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸å–æ°´ä¼šæ¸´"/> <meta itemprop="url" content="https://juejin.cn/user/1084533994686547"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€é¸¿è’™å¼€å‘æ•™ç¨‹ã€‘æ‰‹æŠŠæ‰‹æ•™ä½ å¼€å‘ç¢°ä¸€ç¢°åŠ å¥½å‹åŠŸèƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1084533994686547/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸å–æ°´ä¼šæ¸´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T12:13:56.000Z" title="Mon Jan 26 2026 12:13:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ‰‹æŠŠæ‰‹æ•™ä½ å¼€å‘é¸¿è’™ç¢°ä¸€ç¢°åŠ å¥½å‹åŠŸèƒ½ï¼šå‘Šåˆ«æ‰«ç ï¼Œè´´è´´å°±åŠ å‹ï¼</h2>
<p>è¿˜åœ¨ä¸ºåŠ å¥½å‹æ‰«åŠå¤©äºŒç»´ç ã€è¾“ä¸€ä¸²æ•°å­—æŠ“ç‹‚ï¼Ÿé¸¿è’™çš„â€œç¢°ä¸€ç¢°â€åŠŸèƒ½ç›´æ¥æŠŠåŠ å¥½å‹ç®€åŒ–åˆ°â€œè´´è´´å°±è¡Œâ€ï¼ä¸ç”¨æœã€ä¸ç”¨è¾“ï¼Œä¸¤å°æ‰‹æœºè½»è½»ä¸€ç¢°ï¼Œå¥½å‹ä¿¡æ¯è‡ªåŠ¨é£è¿‡å»ï¼Œä¸»æ‰“ä¸€ä¸ªâ€œè¿‘åœ¨å’«å°ºï¼Œä¸€é”®åŠ å‹â€ã€‚ä»Šå¤©å°±æ‰‹æŠŠæ‰‹å¸¦ä½ æŠŠè¿™ä¸ªç¥ä»™åŠŸèƒ½æ¬è¿›è‡ªå·±çš„Appï¼Œä»¥å–µå±¿Appçš„ç¢°ä¸€ç¢°åŠ å® ç‰©å¥½å‹ä¸ºä¾‹ï¼Œä»åŸç†åˆ°å®æˆ˜ï¼ŒåŒ…æ•™åŒ…ä¼šï½</p>
<h3 data-id="heading-1">â— ç¢°ä¸€ç¢°åŠŸèƒ½ä»‹ç»</h3>
<p>ç¢°ä¸€ç¢°åˆ†äº«æœ¬è´¨ä¸Šæ˜¯é¸¿è’™Share Kitçš„â€œéšè—å½©è›‹â€ï¼Œæ”¯æŒç”¨æˆ·é€šè¿‡è®¾å¤‡è½»ç¢°å‘èµ·è·¨ç«¯åˆ†äº«ï¼Œä¸ç®¡æ˜¯ä¼ å›¾ç‰‡ã€å…±äº«Wi-Fiï¼Œè¿˜æ˜¯å’±ä»Šå¤©è¦æçš„åŠ å¥½å‹ï¼Œéƒ½èƒ½æå®šã€‚æ›´çˆ½çš„æ˜¯ï¼šåªè¦ä½ çš„åº”ç”¨æ”¯æŒç³»ç»Ÿåˆ†äº«ï¼Œç†è®ºä¸Šä¸ç”¨é¢å¤–é­”æ”¹ï¼Œå°±èƒ½è§£é”ç¢°ä¸€ç¢°èƒ½åŠ›ï¼Œç®€ç›´æ˜¯æ‡’äººå¼€å‘è€…çš„ç¦éŸ³ï¼</p>
<p><strong>æµç¨‹è¯´æ˜ï¼š</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/48110f763be24a4185cba3aae51ad5dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5Zad5rC05Lya5ri0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770034436&amp;x-signature=ARu9tKfk%2B6o6lbJs5Xb24AODUrs%3D" alt="Alt" loading="lazy"/></p>
<ol>
<li>å…ˆç»™è‡ªå®¶åº”ç”¨â€œæ³¨å†Œâ€ç¢°ä¸€ç¢°åˆ†äº«äº‹ä»¶ï¼Œç„¶åè®©ä¸¤éƒ¨äº®å±è§£é”çš„æ‰‹æœºæ¥ä¸ªâ€œè´´è´´â€ï¼ˆå°±åƒæœ‹å‹æ¡æ‰‹ä¸€æ ·ï¼‰ï¼›</li>
<li>åº”ç”¨å‘ç°â€œè´´è´´â€è§¦å‘åï¼Œä¼šè°ƒç”¨ç¢°ä¸€ç¢°åˆ†äº«å›è°ƒï¼Œå’±åœ¨å›è°ƒé‡ŒæŠŠè¦åˆ†äº«çš„å¥½å‹æ•°æ®æ‰“åŒ…å‘å‡ºå»ï¼›</li>
<li>å¯¹æ–¹æ‰‹æœºæ¥ä½æ•°æ®ï¼Œä¹–ä¹–å¤„ç†ï¼›</li>
<li>äº‹å„¿åŠå®Œäº†ï¼Œè®°å¾—è§£é™¤æ³¨å†Œï¼Œåˆ«è®©åº”ç”¨â€œå ç€èŒ…å‘ä¸æ‹‰å±â€ï½</li>
</ol>
<p><strong>ä½¿ç”¨çº¦æŸï¼ˆåˆ’é‡ç‚¹ï¼ä¸ç„¶è´´è´´ä¹Ÿç™½è´´ï¼‰</strong>
æƒ³è®©ä¿©æ‰‹æœºé¡ºåˆ©è´´è´´ä¼ å¥½å‹ï¼Œå¾—æ»¡è¶³å‡ ä¸ªå°æ¡ä»¶ï¼šåŒç«¯è®¾å¤‡éƒ½å¾—äº®å±ã€è§£é”ï¼ˆæ€»ä¸èƒ½é»‘å±è´´è´´å§ï¼Œæ‰‹æœºä¹Ÿå¾—â€œé†’ç€â€æ‰çŸ¥é“è¦å¹²æ´»ï¼‰ï¼Œè€Œä¸”åä¸ºåˆ†äº«æœåŠ¡å¾—å¼€ç€ï¼ˆç³»ç»Ÿé»˜è®¤å¼€çš„ï¼Œé™¤éä½ æ‰‹æ¬ æ‰‹åŠ¨å…³äº†ï¼‰ã€‚è´´çš„æ—¶å€™å¾—ç”¨æ‰‹æœºé¡¶éƒ¨ç¢°ï¼Œä¸æ˜¯éšä¾¿æ€¼å“ªé‡Œéƒ½ç®¡ç”¨å“ˆï½å¦‚æœåä¸ºåˆ†äº«å…³äº†ï¼Œç¢°çš„æ—¶å€™ç³»ç»Ÿä¼šè´´å¿ƒæé†’ä½ æ‰“å¼€ï¼Œä¸ç”¨æ…Œã€‚</p>
<p>é“¾æ¥: <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-guides%2Fknock-share-between-phones-overview" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/knock-share-between-phones-overview" ref="nofollow noopener noreferrer">ç¢°ä¸€ç¢°åŠŸèƒ½ä»‹ç»</a></p>
<h3 data-id="heading-2">â— ç®€å•çš„ç¢°ä¸€ç¢°å®ç°</h3>
<p>å…ˆä»æœ€ç®€å•çš„å›¾ç‰‡åˆ†äº«å…¥æ‰‹ï¼Œå¸¦ä½ å°å°ç¢°ä¸€ç¢°çš„ç”œå¤´ï¼å…¶å®é¸¿è’™çš„ç¢°ä¸€ç¢°è¶…å‹å¥½ï¼Œåªè¦ä½ çš„åº”ç”¨æ”¯æŒç³»ç»Ÿåˆ†äº«ï¼Œå‡ ä¹ä¸ç”¨é¢å¤–æŠ˜è…¾ï¼Œå‡ è¡Œä»£ç å°±èƒ½æå®šï¼Œçœ‹</p>
<pre><code class="hljs language-javascript" lang="javascript"> private <span class="hljs-keyword">async</span> <span class="hljs-title function_">handelShare</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt; {
    <span class="hljs-keyword">const</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();
    <span class="hljs-comment">//éœ€è®¾ç½®æœ¬åœ°å›¾ç‰‡é“¾æ¥</span>
    <span class="hljs-keyword">let</span> filePath = <span class="hljs-variable language_">this</span>.<span class="hljs-property">ImgData</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">curIndex</span>];
    <span class="hljs-keyword">let</span> utdTypeId = utd.<span class="hljs-title function_">getUniformDataTypeByFilenameExtension</span>(<span class="hljs-string">'.png'</span>, utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">IMAGE</span>);
    <span class="hljs-keyword">let</span> <span class="hljs-attr">shareData</span>: systemShare.<span class="hljs-property">SharedData</span> = <span class="hljs-keyword">new</span> systemShare.<span class="hljs-title class_">SharedData</span>({
      <span class="hljs-attr">utd</span>: utdTypeId,
      <span class="hljs-attr">uri</span>: fileUri.<span class="hljs-title function_">getUriFromPath</span>(filePath),
      <span class="hljs-attr">title</span>: <span class="hljs-string">'å–µå±¿å›¾ç‰‡åˆ†äº«'</span>,
    });
    <span class="hljs-keyword">let</span> <span class="hljs-attr">controller</span>: systemShare.<span class="hljs-property">ShareController</span> = <span class="hljs-keyword">new</span> systemShare.<span class="hljs-title class_">ShareController</span>(shareData);
    <span class="hljs-keyword">const</span> <span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span> = uiContext.<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;
    controller.<span class="hljs-title function_">show</span>(context, {
      <span class="hljs-attr">previewMode</span>: systemShare.<span class="hljs-property">SharePreviewMode</span>.<span class="hljs-property">DETAIL</span>,
      <span class="hljs-attr">selectionMode</span>: systemShare.<span class="hljs-property">SelectionMode</span>.<span class="hljs-property">BATCH</span>,
    }).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
      logger.<span class="hljs-title function_">info</span>(<span class="hljs-string">'HuaweiShare_ show'</span>);
    }).<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {
      logger.<span class="hljs-title function_">error</span>(<span class="hljs-string">`HuaweiShare_ show error. Code: <span class="hljs-subst">${error?.code}</span>, message: <span class="hljs-subst">${error?.message}</span>`</span>);
    });
  }
</code></pre>
<p>å°±è¿™ä¹ˆå‡ è¡Œï¼ŒæŠŠæœ¬åœ°å›¾ç‰‡è·¯å¾„å¡«å¥½ï¼Œè°ƒç”¨ç³»ç»Ÿåˆ†äº«Kitï¼Œåˆ†äº«ç•Œé¢é‡Œå°±è‡ªå¸¦ç¢°ä¸€ç¢°åŠŸèƒ½äº†ï¼Œæ˜¯ä¸æ˜¯æ¯”å‡‘åŠå¤©äºŒç»´ç è½»æ¾å¤šäº†ï¼Ÿ</p>
<h3 data-id="heading-3">â— ç¢°ä¸€ç¢°æ‹‰èµ·æŒ‡å®šåº”ç”¨ï¼ˆDeeplinkçš„ä½¿ç”¨ï¼‰</h3>
<p>ä½†æ˜¯é—®é¢˜æ¥äº†ï¼šé»˜è®¤åˆ†äº«çš„å›¾ç‰‡ã€æ–‡æœ¬è¿™äº›ï¼Œä¼šè¢«å›¾åº“ã€æµè§ˆå™¨è¿™äº›â€œè·¯äººç”²â€åº”ç”¨æ‰“å¼€ï¼Œå’±è¦çš„æ˜¯ç›´æ¥æ‹‰èµ·è‡ªå·±çš„AppåŠ å¥½å‹å•Šï¼æ€»ä¸èƒ½è®©ç”¨æˆ·ç¢°å®Œï¼Œç»“æœè·³å»æµè§ˆå™¨ï¼Œé‚£ä¹Ÿå¤ªæ‰é“¾å­äº†ã€‚</p>
<p>ç³»ç»Ÿæ—©å°±æƒ³åˆ°è¿™ç‚¹äº†ï¼Œç»™äº†ä¿©è§£å†³æ–¹æ¡ˆï¼šä¸€æ˜¯åˆ†äº«Applinking/Deeplinkå½¢å¼çš„é“¾æ¥ï¼ŒäºŒæ˜¯æŒ‡å®šåº”ç”¨ç›´è¾¾ï¼ˆ6.0.0(20) Beta3æ–°åŠŸèƒ½ï¼Œå’±ä»Šå¤©å…ˆä¸å” è¿™ä¸ªï¼‰ã€‚Applinkingå’ŒDeeplinkçš„åŒºåˆ«ç®€å•è¯´ï¼šApplinkingå¦‚æœå¯¹æ–¹æ²¡è£…ä½ å®¶Appï¼Œä¼šè·³æµè§ˆå™¨æˆ–åº”ç”¨å¸‚åœºï¼ŒDeeplinkåªä¼šå‘Šè¯‰ä½ æ²¡æœ‰å¯¹åº”åº”ç”¨ï¼›Deeplinkçš„é…ç½®æ›´ç®€å•ï¼Œå’±ä»Šå¤©å°±æ‹¿æå®ƒï¼</p>
<p>æƒ³ç”¨Deeplinkè®©åˆ†äº«å†…å®¹ç²¾å‡†è·³è‡ªå®¶Appï¼Œç¬¬ä¸€æ­¥å¾—ç»™Appâ€œè´´æ ‡ç­¾â€â€”â€”åœ¨module.json5é‡Œé…ç½®skillsæ ‡ç­¾ï¼Œç›¸å½“äºç»™ç³»ç»Ÿè¯´ï¼šâ€œè¿™ä¸ªé“¾æ¥åªèƒ½æˆ‘å®¶Appæ¥ï¼Œåˆ«ä¹±åˆ†ç»™åˆ«äººï¼â€ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-comment">// Â·Â·Â·</span>
    <span class="hljs-attr">"abilities"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-comment">// Â·Â·Â·</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-comment">// Â·Â·Â·</span>
        <span class="hljs-attr">"skills"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
          <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"entities"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
              <span class="hljs-string">"entity.system.home"</span>
            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"actions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
              <span class="hljs-string">"ohos.want.action.home"</span>
            <span class="hljs-punctuation">]</span>
          <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
          <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"actions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
              <span class="hljs-comment">// actionsä¸èƒ½ä¸ºç©ºï¼Œactionsä¸ºç©ºä¼šé€ æˆç›®æ ‡æ–¹åŒ¹é…å¤±è´¥ã€‚</span>
              <span class="hljs-string">"ohos.want.action.viewData"</span>
            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"uris"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
              <span class="hljs-punctuation">{</span>
                <span class="hljs-comment">// schemeå¿…é€‰ï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼Œä»¥linkä¸ºä¾‹ï¼Œéœ€è¦æ›¿æ¢ä¸ºå®é™…çš„scheme</span>
                <span class="hljs-attr">"scheme"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"link"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"host"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"www.example.com"</span>
              <span class="hljs-punctuation">}</span>
            <span class="hljs-punctuation">]</span>
          <span class="hljs-punctuation">}</span> <span class="hljs-comment">// æ–°å¢ä¸€ä¸ªskillå¯¹è±¡ï¼Œç”¨äºè·³è½¬åœºæ™¯ã€‚å¦‚æœå­˜åœ¨å¤šä¸ªè·³è½¬åœºæ™¯ï¼Œéœ€é…ç½®å¤šä¸ªskillå¯¹è±¡ã€‚</span>
        <span class="hljs-punctuation">]</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-comment">// Â·Â·Â·</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-comment">// Â·Â·Â·</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>é…ç½®å®Œæ ‡ç­¾ï¼Œè¿˜å¾—è®©AppçŸ¥é“â€œæ¥äº†é“¾æ¥è¯¥å¹²å•¥â€â€”â€”åœ¨ç›®æ ‡åº”ç”¨çš„UIAbilityçš„onCreate()æˆ–è€…onNewWant()é‡Œè§£æé“¾æ¥å‚æ•°ï¼Œæ¯”å¦‚æ‹¿åˆ°å¥½å‹ä¿¡æ¯åï¼Œå°±å¯ä»¥è§¦å‘åŠ å¥½å‹é€»è¾‘äº†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä»¥DeepAbility.etsä¸ºä¾‹</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityConstant</span>, <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;
<span class="hljs-keyword">import</span> { url } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DOMAIN</span> = <span class="hljs-number">0x0000</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DeepAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {
  <span class="hljs-title function_">onCreate</span>(<span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span>, <span class="hljs-attr">launchParam</span>: <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">LaunchParam</span>): <span class="hljs-keyword">void</span> {
    <span class="hljs-comment">// ä»wantä¸­è·å–ä¼ å…¥çš„é“¾æ¥ä¿¡æ¯ã€‚</span>
    <span class="hljs-comment">// å¦‚ä¼ å…¥çš„urlä¸ºï¼šlink://www.example.com/programs?action=showall</span>
    <span class="hljs-keyword">let</span> uri = want?.<span class="hljs-property">uri</span>;
    <span class="hljs-keyword">if</span> (uri) {
      <span class="hljs-comment">// ä»é“¾æ¥ä¸­è§£æqueryå‚æ•°ï¼Œæ‹¿åˆ°å‚æ•°åï¼Œå¼€å‘è€…å¯æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡éœ€æ±‚è¿›è¡Œåç»­çš„å¤„ç†ã€‚</span>
      <span class="hljs-keyword">let</span> urlObject = url.<span class="hljs-property">URL</span>.<span class="hljs-title function_">parseURL</span>(want?.<span class="hljs-property">uri</span>);
      <span class="hljs-keyword">let</span> action = urlObject.<span class="hljs-property">params</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'action'</span>);
      <span class="hljs-comment">// ä¾‹å¦‚ï¼Œå½“actionä¸ºshowallæ—¶ï¼Œå±•ç¤ºæ‰€æœ‰çš„èŠ‚ç›®ã€‚</span>
      <span class="hljs-keyword">if</span> (action === <span class="hljs-string">'showall'</span>) {
        <span class="hljs-comment">// Â·Â·Â·</span>
      }
    }
  }
<span class="hljs-comment">// Â·Â·Â·</span>
}
</code></pre>
<p>è¯´ç™½äº†ï¼Œæƒ³è®©ç¢°ä¸€ç¢°æ‹‰èµ·æŒ‡å®šAppå¹²æŒ‡å®šäº‹ï¼Œåªè¦åˆ†äº«çš„æ—¶å€™æŠŠDeeplinké“¾æ¥å‘å‡ºå»å°±è¡Œï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¸®ä½ æ‰¾å¯¹Appã€‚ä¸è¿‡ä¸Šé¢éƒ½æ˜¯é ç³»ç»Ÿåˆ†äº«ç•Œé¢å®ç°çš„ï¼Œæœ‰æ²¡æœ‰æ›´â€œç§å¯†â€çš„ç©æ³•ï¼Œä¸ç”¨èµ°ç³»ç»Ÿç•Œé¢ï¼Ÿå¿…é¡»æœ‰ï¼ç›´æ¥æ³¨å†Œ'knockShare'ç›‘å¬ï¼Œå°±èƒ½è‡ªå·±æŒæ§ç¢°ä¸€ç¢°çš„å…¨è¿‡ç¨‹ï¼Œçœ‹å®˜æ–¹ä»£ç ğŸ‘‡</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { uniformTypeDescriptor <span class="hljs-keyword">as</span> utd } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;
<span class="hljs-keyword">import</span> { systemShare, harmonyShare } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ShareKit'</span>;
<span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;

@<span class="hljs-title class_">Component</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> struct <span class="hljs-title class_">Index</span> {
  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">let</span> <span class="hljs-attr">capabilityRegistry</span>: harmonyShare.<span class="hljs-property">SendCapabilityRegistry</span> = {
      <span class="hljs-attr">windowId</span>: <span class="hljs-number">999</span>, <span class="hljs-comment">// æ­¤å€¼ä»…ä¸ºç¤ºä¾‹ å®é™…ä½¿ç”¨æ—¶è¯·æ›¿æ¢æ­£ç¡®çš„windowId</span>
    }
    harmonyShare.<span class="hljs-title function_">on</span>(<span class="hljs-string">'knockShare'</span>, capabilityRegistry, <span class="hljs-function">(<span class="hljs-params">sharableTarget: harmonyShare.SharableTarget</span>) =&gt;</span> {
      <span class="hljs-keyword">let</span> <span class="hljs-attr">shareData</span>: systemShare.<span class="hljs-property">SharedData</span> = <span class="hljs-keyword">new</span> systemShare.<span class="hljs-title class_">SharedData</span>({
        <span class="hljs-attr">utd</span>: utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">HYPERLINK</span>,
        <span class="hljs-attr">content</span>: <span class="hljs-string">'https://sharekitdemo.drcn.agconnect.link/ZB3p'</span>,
        <span class="hljs-comment">// æ ¹æ®title,description,thumbnailUriä¼šç”Ÿæˆä¸åŒçš„å¡ç‰‡æ¨¡æ¿ï¼Œå…·ä½“å¯å‚è€ƒè®¾ç½®é…å¥—çš„å¡ç‰‡æ ·å¼ã€‚</span>
        <span class="hljs-attr">title</span>: <span class="hljs-string">'ç¢°ä¸€ç¢°åˆ†äº«å¡ç‰‡æ ‡é¢˜'</span>,
        <span class="hljs-attr">description</span>: <span class="hljs-string">'ç¢°ä¸€ç¢°åˆ†äº«å¡ç‰‡æè¿°'</span>
      });
      <span class="hljs-comment">// è‹¥äº‘ç«¯é¢„è§ˆå›¾æ— æ³•åŠæ—¶ä¸‹è½½ å¯å…ˆå‘é€æ•°æ®</span>
      sharableTarget.<span class="hljs-title function_">share</span>(shareData);

      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-comment">// å¾…é¢„è§ˆå›¾ä¸‹è½½å®Œæˆå è¡¥å……æ›´æ–°é¢„è§ˆå›¾</span>
        <span class="hljs-keyword">let</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();
        <span class="hljs-keyword">let</span> <span class="hljs-attr">contextFaker</span>: <span class="hljs-title class_">Context</span> = uiContext.<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> <span class="hljs-title class_">Context</span>;
        <span class="hljs-keyword">let</span> filePath = contextFaker.<span class="hljs-property">filesDir</span> + <span class="hljs-string">'/exampleKnock1.jpg'</span>; <span class="hljs-comment">// ä»…ä¸ºç¤ºä¾‹ è¯·æ›¿æ¢æ­£ç¡®çš„æ–‡ä»¶è·¯å¾„</span>
        sharableTarget.<span class="hljs-title function_">updateShareData</span>({
          <span class="hljs-attr">thumbnailUri</span>: fileUri.<span class="hljs-title function_">getUriFromPath</span>(filePath)
        });
      }, <span class="hljs-number">5000</span>);
    });
  }

  <span class="hljs-title function_">aboutToDisappear</span>(): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">let</span> <span class="hljs-attr">capabilityRegistry</span>: harmonyShare.<span class="hljs-property">SendCapabilityRegistry</span> = {
      <span class="hljs-attr">windowId</span>: <span class="hljs-number">999</span>, <span class="hljs-comment">// æ­¤å€¼ä»…ä¸ºç¤ºä¾‹ å®é™…ä½¿ç”¨æ—¶è¯·æ›¿æ¢æ­£ç¡®çš„windowId</span>
    }
    <span class="hljs-comment">// è§£é™¤ç¢°ä¸€ç¢°åˆ†äº«'knockShare'ç›‘å¬äº‹ä»¶</span>
    harmonyShare.<span class="hljs-title function_">off</span>(<span class="hljs-string">'knockShare'</span>, capabilityRegistry);
  }

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
  }
}
</code></pre>
<h3 data-id="heading-4">â— ç¢°ä¸€ç¢°åŠ å¥½å‹åŠŸèƒ½å®æˆ˜</h3>
<p>å…‰è¯´ä¸ç»ƒå‡æŠŠå¼ï¼Œæ¥ä¸‹æ¥å’±å°±æ‹¿â€œå–µå±¿Appâ€çš„ç¢°ä¸€ç¢°åŠ å® ç‰©å¥½å‹ä¸ºä¾‹ï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ æŠŠè¿™ä¸ªåŠŸèƒ½è½åœ°ï¼Œè®©å…»å® å…šè´´è´´æ‰‹æœºå°±èƒ½äº’åŠ å® ç‰©å¥½å‹ï¼Œå†ä¹Ÿä¸ç”¨æ‰‹åŠ¨è¾“å® ç‰©ä¿¡æ¯å•¦ï¼</p>
<h4 data-id="heading-5">ç¢°ä¸€ç¢°æ¥æ”¶ç«¯å¤„ç†</h4>
<p>æƒ³è®©ç¢°ä¸€ç¢°è·³è‡ªå®¶AppåŠ å¥½å‹ï¼Œç¬¬ä¸€æ­¥å¾—ç»™Appâ€œåŠä¸ªèº«ä»½è¯â€â€”â€”åœ¨module.json5é‡Œé…ç½®skillsæ ‡ç­¾ï¼Œå‘Šè¯‰ç³»ç»Ÿï¼šâ€œè¿™ä¸ªé“¾æ¥æ˜¯æˆ‘çš„ï¼Œåˆ«ç»™åˆ«äººï¼â€</p>
<pre><code class="hljs language-javascript" lang="javascript">   <span class="hljs-string">"abilities"</span>: [
    {
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"EntryAbility"</span>,
        <span class="hljs-string">"srcEntry"</span>: <span class="hljs-string">"./ets/entryability/EntryAbility.ets"</span>,
        <span class="hljs-string">"description"</span>: <span class="hljs-string">"$string:EntryAbility_desc"</span>,
        <span class="hljs-string">"icon"</span>: <span class="hljs-string">"$media:layered_image"</span>,
        <span class="hljs-string">"label"</span>: <span class="hljs-string">"$string:EntryAbility_label"</span>,
        <span class="hljs-string">"startWindowIcon"</span> : <span class="hljs-string">"$media:layered_image"</span>,
        <span class="hljs-string">"startWindowBackground"</span> : <span class="hljs-string">"$color:start_window_background"</span>
          ,
        <span class="hljs-string">"exported"</span>: <span class="hljs-literal">true</span>
          ,
        <span class="hljs-string">"skills"</span>: [
          {
            <span class="hljs-string">"entities"</span>: [
              <span class="hljs-string">"entity.system.home"</span>
            ],
            <span class="hljs-string">"actions"</span>: [
              <span class="hljs-string">"ohos.want.action.home"</span>
            ]
          },
          {
            <span class="hljs-string">"actions"</span>: [<span class="hljs-string">"action.system.viewData"</span>],
            <span class="hljs-string">"entities"</span>: [<span class="hljs-string">"entity.system.browser"</span>],
            <span class="hljs-string">"uris"</span>: [
              {
                <span class="hljs-comment">// schemeå¿…é€‰ï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼Œä»¥catIslandä¸ºä¾‹ï¼Œéœ€è¦æ›¿æ¢ä¸ºå®é™…çš„scheme</span>
                <span class="hljs-string">"scheme"</span>: <span class="hljs-string">"catIsland"</span>,
                <span class="hljs-string">"host"</span>: <span class="hljs-string">"catIsland.sx.com"</span>
              }
            ]
          } <span class="hljs-comment">// æ–°å¢ä¸€ä¸ªskillå¯¹è±¡ï¼Œç”¨äºè·³è½¬åœºæ™¯ã€‚å¦‚æœå­˜åœ¨å¤šä¸ªè·³è½¬åœºæ™¯ï¼Œéœ€é…ç½®å¤šä¸ªskillå¯¹è±¡ã€‚</span>
        ]
      }]
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c865d7ab1694e63a916c19ec21dd381~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5Zad5rC05Lya5ri0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770034436&amp;x-signature=jRPndb6eY2ofcRQESTZhrCKWGbs%3D" alt="ç¢°ä¸€ç¢°ç„¶åé€‰æ‹©æ¥æ”¶æ•°æ®ä¼šèµ°åˆ°onCreate()æˆ–è€…onNewWant()ç”Ÿå‘½å‘¨æœŸ" loading="lazy"/>
<strong>åˆ’é‡ç‚¹ï¼š</strong> ç¢°ä¸€ç¢°æ¥æ”¶æ•°æ®åï¼ŒAppä¼šèµ°onCreate()æˆ–onNewWant()ç”Ÿå‘½å‘¨æœŸï¼Œä¿©éƒ½å¾—å¤„ç†ï¼Œä¸ç„¶ä¼šæ¼æ•°æ®ï¼</p>
<p>ç„¶åå°±å¾—è®©Appâ€œè¯»æ‡‚â€é“¾æ¥é‡Œçš„å¥½å‹ä¿¡æ¯äº†â€”â€”åœ¨EntryAbilityçš„onCreate()å’ŒonNewWant()é‡Œè§£æé“¾æ¥å‚æ•°ï¼ŒæŠŠå® ç‰©å§“åã€æ€§åˆ«ã€ç”Ÿæ—¥è¿™äº›ä¿¡æ¯æŠ å‡ºæ¥ï¼Œå­˜åˆ°AppStorageé‡Œï¼Œç­‰ç€åç»­å¤„ç†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {
  <span class="hljs-title function_">onCreate</span>(<span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span>, <span class="hljs-attr">launchParam</span>: <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">LaunchParam</span>): <span class="hljs-keyword">void</span> {
    <span class="hljs-comment">// ä»wantä¸­è·å–ä¼ å…¥çš„é“¾æ¥ä¿¡æ¯ã€‚</span>
    <span class="hljs-comment">// å¦‚ä¼ å…¥çš„urlä¸ºï¼šcatIsland://catIsland.sx.com/share/?name=${info.name}&amp;sex=${info.sex}&amp;birth=${info.birth}&amp;breed=${info.breed}</span>
    <span class="hljs-keyword">let</span> uri = want?.<span class="hljs-property">uri</span>;
    <span class="hljs-keyword">if</span> (uri) {
      <span class="hljs-comment">// ä»é“¾æ¥ä¸­è§£æqueryå‚æ•°ï¼Œæ‹¿åˆ°å‚æ•°åï¼Œå¼€å‘è€…å¯æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡éœ€æ±‚è¿›è¡Œåç»­çš„å¤„ç†ã€‚</span>
      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onCreate'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(uri));
      <span class="hljs-keyword">const</span> urlObject = url.<span class="hljs-property">URL</span>.<span class="hljs-title function_">parseURL</span>(want?.<span class="hljs-property">uri</span>);
      <span class="hljs-keyword">const</span> name = urlObject.<span class="hljs-property">params</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'name'</span>);
      <span class="hljs-keyword">const</span> sex = urlObject.<span class="hljs-property">params</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'sex'</span>) ;
      <span class="hljs-keyword">const</span> birth = urlObject.<span class="hljs-property">params</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'birth'</span>);
      <span class="hljs-keyword">const</span> breed = urlObject.<span class="hljs-property">params</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'breed'</span>);
      <span class="hljs-keyword">if</span>(name){
        <span class="hljs-keyword">let</span> baseInfo = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BaseInfo</span>(name)
        baseInfo.<span class="hljs-property">sex</span> = <span class="hljs-title class_">Number</span>(sex)
        baseInfo.<span class="hljs-property">birth</span> = birth
        baseInfo.<span class="hljs-property">breed</span> = breed
        <span class="hljs-title class_">AppStorage</span>.<span class="hljs-title function_">setOrCreate</span>(<span class="hljs-string">'newFriend'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(baseInfo)); <span class="hljs-comment">//æ•°æ®ä¿å­˜èµ·æ¥</span>
      }
    }

			...
  }

  <span class="hljs-title function_">onNewWant</span>(<span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span>, <span class="hljs-attr">launchParam</span>: <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">LaunchParam</span>): <span class="hljs-keyword">void</span> {
    <span class="hljs-comment">// ä»wantä¸­è·å–ä¼ å…¥çš„é“¾æ¥ä¿¡æ¯ã€‚</span>
    <span class="hljs-comment">// å¦‚ä¼ å…¥çš„urlä¸ºï¼šcatIsland://catIsland.sx.com/share/?name=${info.name}&amp;sex=${info.sex}&amp;birth=${info.birth}&amp;breed=${info.breed}</span>
    <span class="hljs-keyword">let</span> uri = want?.<span class="hljs-property">uri</span>;
    <span class="hljs-keyword">if</span> (uri) {
      <span class="hljs-comment">// ä»é“¾æ¥ä¸­è§£æqueryå‚æ•°ï¼Œæ‹¿åˆ°å‚æ•°åï¼Œå¼€å‘è€…å¯æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡éœ€æ±‚è¿›è¡Œåç»­çš„å¤„ç†ã€‚</span>
      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onCreate'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(uri));
       <span class="hljs-keyword">const</span> urlObject = url.<span class="hljs-property">URL</span>.<span class="hljs-title function_">parseURL</span>(want?.<span class="hljs-property">uri</span>);
      <span class="hljs-keyword">const</span> name = urlObject.<span class="hljs-property">params</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'name'</span>);
      <span class="hljs-keyword">const</span> sex = urlObject.<span class="hljs-property">params</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'sex'</span>) ;
      <span class="hljs-keyword">const</span> birth = urlObject.<span class="hljs-property">params</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'birth'</span>);
      <span class="hljs-keyword">const</span> breed = urlObject.<span class="hljs-property">params</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'breed'</span>);
      <span class="hljs-keyword">if</span>(name){
        <span class="hljs-keyword">let</span> baseInfo = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BaseInfo</span>(name)
        baseInfo.<span class="hljs-property">sex</span> = <span class="hljs-title class_">Number</span>(sex)
        baseInfo.<span class="hljs-property">birth</span> = birth
        baseInfo.<span class="hljs-property">breed</span> = breed
        <span class="hljs-title class_">AppStorage</span>.<span class="hljs-title function_">setOrCreate</span>(<span class="hljs-string">'newFriend'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(baseInfo));<span class="hljs-comment">//æ•°æ®ä¿å­˜èµ·æ¥</span>
        emitter.<span class="hljs-title function_">emit</span>(<span class="hljs-title class_">BaseConstants</span>.<span class="hljs-property">NEW_FRIEND</span>) <span class="hljs-comment">//é€šçŸ¥æœ‰æ–°æœ‹å‹æ•°æ®</span>
      }
    }
  }
  ...
</code></pre>
<p>ä¸ºå•¥ä¿©ç”Ÿå‘½å‘¨æœŸéƒ½è¦è§£æï¼Ÿç®€å•è¯´ï¼šAppå†·å¯åŠ¨ï¼ˆç¬¬ä¸€æ¬¡æ‰“å¼€ï¼‰èµ°onCreate()ï¼Œå¦‚æœAppå·²ç»å¼€ç€ï¼ŒDeeplinkæ‹‰å®ƒå°±åªèµ°onNewWant()ã€‚ä¿©éƒ½å¤„ç†ï¼Œä¸ç®¡Appæ˜¯å¼€æ˜¯å…³ï¼Œéƒ½èƒ½ç¨³ç¨³æ¥ä½å¥½å‹æ•°æ®ï¼Œä¸»æ‰“ä¸€ä¸ªâ€œä¸æ¼ç½‘ä¹‹é±¼â€ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0fd2ead4fdad4dada02abd33240ea74a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5Zad5rC05Lya5ri0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770034436&amp;x-signature=JcsAE%2BpXSKoRvoaZILuG2nSglsU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<strong>MainPageå¼¹çª—é€‰æ‹©æ˜¯å¦ä¿å­˜å¥½å‹æ•°æ®</strong></p>
<p>æ•°æ®å­˜å¥½äº†ï¼Œæ€»å¾—è®©ç”¨æˆ·çŸ¥é“å§ï¼Ÿåœ¨Appé¦–é¡µMainPage.etsé‡Œç›‘å¬å¥½å‹æ•°æ®ï¼Œåªè¦æœ‰æ–°æ•°æ®ï¼Œå°±å¼¹ä¸ªçª—è®©ç”¨æˆ·é€‰â€œåŠ å¥½å‹â€è¿˜æ˜¯â€œæ‹’ç»â€ï¼Œä½“éªŒç›´æ¥æ‹‰æ»¡ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"> onNewFriend = <span class="hljs-function">()=&gt;</span>{
    <span class="hljs-keyword">if</span>(<span class="hljs-title class_">AppStorage</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'newFriend'</span>) != <span class="hljs-literal">undefined</span>){
      <span class="hljs-keyword">let</span> newFriend = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">AppStorage</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'newFriend'</span>)!!) <span class="hljs-keyword">as</span> <span class="hljs-title class_">BaseInfo</span>
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'testTag'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(newFriend))
      <span class="hljs-title class_">AppStorage</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'newFriend'</span>,  <span class="hljs-literal">undefined</span>)
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">friendDialog</span> = <span class="hljs-title class_">DialogHub</span>.<span class="hljs-title function_">getCustomDialog</span>()<span class="hljs-comment">//å¥½å‹æ•°æ®å¼¹çª—å¯ä»¥é€‰æ‹©æ¥å—æˆ–è€…æ‹’ç»</span>
        .<span class="hljs-title function_">setOperableContent</span>(<span class="hljs-title function_">wrapBuilder</span>(<span class="hljs-title class_">NewFriendDialogBuilder</span>), <span class="hljs-function">(<span class="hljs-params">action: DialogAction</span>) =&gt;</span> {
          <span class="hljs-keyword">let</span> para = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PetDialogParams</span>(newFriend, action, <span class="hljs-variable language_">this</span>.<span class="hljs-property">promptAction</span>,  <span class="hljs-number">0</span>);
          <span class="hljs-keyword">return</span> para;
        })
        .<span class="hljs-title function_">setConfig</span>({ <span class="hljs-attr">dialogBehavior</span>: { <span class="hljs-attr">isModal</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">autoDismiss</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">passThroughGesture</span>: <span class="hljs-literal">false</span> } })
        .<span class="hljs-title function_">setAnimation</span>({ <span class="hljs-attr">dialogAnimation</span>: <span class="hljs-title class_">AnimationType</span>.<span class="hljs-property">BOTTOM_UP</span> })
        .<span class="hljs-title function_">setStyle</span>({
          <span class="hljs-attr">radius</span>: <span class="hljs-number">32</span>,
          <span class="hljs-attr">backgroundColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>,
          <span class="hljs-attr">maskBackgroundEffect</span>: { <span class="hljs-attr">blurOptions</span>: { <span class="hljs-attr">grayscale</span>: [<span class="hljs-number">50</span>, <span class="hljs-number">50</span>] }, <span class="hljs-attr">radius</span>: <span class="hljs-number">10</span> }
        })
        .<span class="hljs-title function_">build</span>();
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">friendDialog</span>.<span class="hljs-title function_">show</span>();
    }
  }

 <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt; {
    emitter.<span class="hljs-title function_">on</span>(<span class="hljs-title class_">BaseConstants</span>.<span class="hljs-property">NEW_FRIEND</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">onNewFriend</span>) <span class="hljs-comment">//æ³¨å†Œå¥½å‹ç”³è¯·çš„ç›‘å¬</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onNewFriend</span>()
    ...
 }
 ...
 <span class="hljs-title function_">aboutToDisappear</span>(): <span class="hljs-keyword">void</span> {
    emitter.<span class="hljs-title function_">off</span>(<span class="hljs-title class_">BaseConstants</span>.<span class="hljs-property">NEW_FRIEND</span>.<span class="hljs-property">eventId</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">onNewFriend</span>)
  }
</code></pre>
<p>Appå¯åŠ¨åæ‰“å¼€MainPageï¼Œå…ˆæ³¨å†Œå¥½å‹ç”³è¯·ç›‘å¬ï¼Œç¡®ä¿ä¸»é¡µåœ¨çš„æ—¶å€™èƒ½å®æ—¶æ”¶åˆ°é€šçŸ¥ï¼›ç„¶åç«‹åˆ»æ£€æŸ¥æœ‰æ²¡æœ‰å¾…å¤„ç†çš„å¥½å‹æ•°æ®ï¼Œæœ‰å°±å¼¹çª—ï¼Œä¸è®©ç”¨æˆ·ç­‰ï¼Œä¸»æ‰“ä¸€ä¸ªâ€œè´´å¿ƒâ€ï¼</p>
<h4 data-id="heading-6">ç¢°ä¸€ç¢°å‘é€ç«¯å¤„ç†</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c00d7bbdcdc46469b8eec4533e73c24~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5Zad5rC05Lya5ri0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770034436&amp;x-signature=yNm60DKyo5yDjCxryF7tGyTK8SU%3D" alt="å® ç‰©ä¿¡æ¯ç•Œé¢è®¾ç½®ç¢°ä¸€ç¢°ç›‘å¬" loading="lazy"/>
<strong>å® ç‰©ä¿¡æ¯ç•Œé¢è®¾ç½®ç¢°ä¸€ç¢°ç›‘å¬</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d4fbdbc6ffdd44e7b1e1f0c104cc7deb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5Zad5rC05Lya5ri0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770034436&amp;x-signature=6v5bsQRkvIl4b3LXFDUwLeW5SRg%3D" alt="ç¢°ä¸€ç¢°åè§¦å‘çš„åˆ†äº«ç•Œé¢" loading="lazy"/>
<strong>ç¢°ä¸€ç¢°åè§¦å‘çš„åˆ†äº«ç•Œé¢</strong></p>
<p>æœ€åä¸€æ­¥ï¼Œè®©ç¢°ä¸€ç¢°â€œæ´»â€èµ·æ¥ï¼åœ¨å® ç‰©ä¿¡æ¯ç•Œé¢æ³¨å†Œç¢°ä¸€ç¢°ç›‘å¬ï¼Œåªè¦æ£€æµ‹åˆ°ä¸¤å°æ‰‹æœºè´´è´´ï¼Œå°±æŠŠå½“å‰å® ç‰©çš„ä¿¡æ¯æ‰“åŒ…è¿›Deeplinkï¼Œæ³¨æ„è¦å’Œå‰é¢moudule.json5ä¸­å®šä¹‰çš„<strong>schemeå’Œhost</strong>è¦åŒ¹é…ï¼Œ å¯¹æ–¹æ¥ä½åå°±èƒ½æŒ‰ä¸Šé¢çš„æµç¨‹å¤„ç†å¥½å‹ç”³è¯·äº†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">showID</span>(<span class="hljs-params">info: BaseInfo, index: number = <span class="hljs-number">0</span></span>) {
    harmonyShare.<span class="hljs-title function_">on</span>(<span class="hljs-string">'knockShare'</span>, <span class="hljs-function">(<span class="hljs-params">sharableTarget: harmonyShare.SharableTarget</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> filePath = info.<span class="hljs-property">icon</span>; <span class="hljs-comment">// ä»…ä¸ºç¤ºä¾‹ è¯·æ›¿æ¢æ­£ç¡®çš„æ–‡ä»¶è·¯å¾„</span>
      <span class="hljs-keyword">let</span> <span class="hljs-attr">shareData</span>: systemShare.<span class="hljs-property">SharedData</span> = <span class="hljs-keyword">new</span> systemShare.<span class="hljs-title class_">SharedData</span>({
        <span class="hljs-attr">utd</span>: utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">HYPERLINK</span>,
        <span class="hljs-attr">content</span>: <span class="hljs-string">`catIsland://catIsland.sx.com/share/?name=<span class="hljs-subst">${info.name}</span>&amp;sex=<span class="hljs-subst">${info.sex}</span>&amp;birth=<span class="hljs-subst">${info.birth}</span>&amp;breed=<span class="hljs-subst">${info.breed}</span>`</span>,
        <span class="hljs-comment">// æ ¹æ®title,description,thumbnailUriä¼šç”Ÿæˆä¸åŒçš„å¡ç‰‡æ¨¡æ¿ã€‚</span>
        <span class="hljs-attr">thumbnailUri</span>: fileUri.<span class="hljs-title function_">getUriFromPath</span>(filePath),
        <span class="hljs-attr">title</span>: <span class="hljs-string">`åˆ†äº«<span class="hljs-subst">${info.name}</span>ç»™å¥½å‹`</span>,
        <span class="hljs-attr">description</span>: <span class="hljs-string">'ç¢°ä¸€ç¢°å³å¯å°†å® ç‰©ä¿¡æ¯åˆ†äº«ç»™å¥½å‹'</span>
      });
      sharableTarget.<span class="hljs-title function_">share</span>(shareData);
    });

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">IDDialog</span> = <span class="hljs-title class_">DialogHub</span>.<span class="hljs-title function_">getCustomDialog</span>()
      .<span class="hljs-title function_">setOperableContent</span>(<span class="hljs-title function_">wrapBuilder</span>(<span class="hljs-title class_">PetIDDialogBuilder</span>), <span class="hljs-function">(<span class="hljs-params">action: DialogAction</span>) =&gt;</span> {
        <span class="hljs-keyword">let</span> para = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PetDialogParams</span>(info, action, <span class="hljs-variable language_">this</span>.<span class="hljs-property">promptAction</span>,  index);
        <span class="hljs-keyword">return</span> para;
      })
      .<span class="hljs-title function_">setConfig</span>({ <span class="hljs-attr">dialogBehavior</span>: { <span class="hljs-attr">isModal</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">autoDismiss</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">passThroughGesture</span>: <span class="hljs-literal">false</span> } })
      .<span class="hljs-title function_">setAnimation</span>({ <span class="hljs-attr">dialogAnimation</span>: <span class="hljs-title class_">AnimationType</span>.<span class="hljs-property">BOTTOM_UP</span> })
      .<span class="hljs-title function_">setStyle</span>({
        <span class="hljs-attr">radius</span>: <span class="hljs-number">32</span>,
        <span class="hljs-attr">backgroundColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>,
        <span class="hljs-attr">maskBackgroundEffect</span>: { <span class="hljs-attr">blurOptions</span>: { <span class="hljs-attr">grayscale</span>: [<span class="hljs-number">50</span>, <span class="hljs-number">50</span>] }, <span class="hljs-attr">radius</span>: <span class="hljs-number">10</span> }
      })
      .<span class="hljs-title function_">build</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">IDDialog</span>.<span class="hljs-title function_">show</span>();
  }
}
</code></pre>
<p>è¿™é‡Œè¸©ä¸ªå‘æé†’å„ä½è€é“ï¼šåšä¸»æœ€å¼€å§‹å‚»ä¹ä¹è·Ÿç€å®˜æ–¹æ–°APIå†™ï¼Œç”¨äº†6.0.0(20)æ–°å¢çš„å¸¦capabilityå‚æ•°çš„onæ–¹æ³•ï¼Œç»“æœå‘ç°5.0ç‰ˆæœ¬çš„è®¾å¤‡ç›´æ¥ä¸å…¼å®¹ï¼Œä¸»æ‰“ä¸€ä¸ªâ€œæ–°æ˜¯æ–°ï¼Œç”¨ä¸äº†â€ï¼æœ€ååªèƒ½ä¹–ä¹–æ¢å›5.0.0(12)çš„ä½ç‰ˆæœ¬APIï¼ˆä¸ç”¨ä¼ capabilityï¼‰ã€‚å¤§å®¶ç”¨çš„æ—¶å€™å¯åˆ«è¸©è¿™ä¸ªå‘â€”â€”æ–°APIè™½é¦™ï¼Œä½†å¾—çœ‹ä½ çš„ç”¨æˆ·è®¾å¤‡æ”¯ä¸æ”¯æŒå•Šï¼</p>
<pre><code class="hljs language-javascript" lang="javascript">	<span class="hljs-comment">//æ³¨å†Œè®¾å¤‡è½»è´´çš„äº‹ä»¶ç›‘å¬ã€‚</span>
	<span class="hljs-comment">//èµ·å§‹ç‰ˆæœ¬ï¼š6.0.0(20)</span>
	<span class="hljs-title function_">on</span>(<span class="hljs-attr">event</span>: <span class="hljs-string">'knockShare'</span>, <span class="hljs-attr">capability</span>: <span class="hljs-title class_">SendCapabilityRegistry</span>, <span class="hljs-attr">callback</span>: <span class="hljs-title class_">Callback</span>&lt;<span class="hljs-title class_">SharableTarget</span>&gt;): <span class="hljs-keyword">void</span>
	<span class="hljs-comment">//èµ·å§‹ç‰ˆæœ¬ï¼š5.0.0(12)</span>
	<span class="hljs-title function_">on</span>(<span class="hljs-attr">event</span>: <span class="hljs-string">'knockShare'</span>, <span class="hljs-attr">callback</span>: <span class="hljs-title class_">Callback</span>&lt;<span class="hljs-title class_">SharableTarget</span>&gt;): <span class="hljs-keyword">void</span>
</code></pre>
<p>å®é™…æ•ˆæœæ¼”ç¤ºå¯è‡ªè¡Œä¸‹è½½APPç¢°ä¸€ç¢°è¯•ä¸€è¯•ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fappgallery.huawei.com%2Fapp%2Fdetail%3Fid%3Dcom.sx.catIsland%26channelId%3DSHARE%26source%3Dappshare" target="_blank" title="https://appgallery.huawei.com/app/detail?id=com.sx.catIsland&amp;channelId=SHARE&amp;source=appshare" ref="nofollow noopener noreferrer">å–µå±¿ä¸‹è½½é“¾æ¥</a></p>
<h3 data-id="heading-7">æ€»ç»“</h3>
<p>æ€ä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯å‘ç°é¸¿è’™ç¢°ä¸€ç¢°åŠ å¥½å‹åŠŸèƒ½ä¸€ç‚¹éƒ½ä¸å¤æ‚ï¼Ÿä»é…ç½®Deeplinkè®©é“¾æ¥ç²¾å‡†è·³è‡ªå®¶Appï¼Œåˆ°è§£æå†·/çƒ­å¯åŠ¨çš„å‚æ•°ä¸æ¼æ•°æ®ï¼Œå†åˆ°ç›‘å¬ç¢°ä¸€ç¢°äº‹ä»¶åˆ†äº«å¥½å‹ä¿¡æ¯ï¼Œä¸€å¥—æµç¨‹èµ°ä¸‹æ¥ï¼Œä½ çš„Appä¹Ÿèƒ½æ‹¥æœ‰â€œè´´è´´åŠ å¥½å‹â€çš„ç¥ä»™èƒ½åŠ›ï¼</p>
<p>ç›¸æ¯”ä¼ ç»Ÿçš„æ‰«ç ã€è¾“ç åŠ å¥½å‹ï¼Œç¢°ä¸€ç¢°ç›´æ¥æŠŠæ“ä½œç®€åŒ–åˆ°â€œè´´ä¸€ä¸‹â€ï¼Œç”¨æˆ·ä½“éªŒç›´æ¥æ‹‰æ»¡ã€‚è€Œä¸”æ•´ä¸ªå¼€å‘è¿‡ç¨‹å‡ ä¹ä¸ç”¨é€ è½®å­ï¼Œä¾æ‰˜é¸¿è’™Share Kitå°±èƒ½æå®šï¼Œå”¯ä¸€è¦æ³¨æ„çš„å°±æ˜¯APIç‰ˆæœ¬å…¼å®¹é—®é¢˜ï¼Œåˆ«åƒåšä¸»ä¸€æ ·è¸©å‘å°±è¡Œã€‚</p>
<p>ç°åœ¨å°±æŠŠè¿™äº›ä»£ç æ¬å»ä½ çš„é¡¹ç›®é‡Œè¯•è¯•å§ï¼Œä¸ç®¡æ˜¯åšå® ç‰©ç¤¾äº¤ã€ç†Ÿäººç¤¾äº¤è¿˜æ˜¯å…¶ä»–åœºæ™¯ï¼Œç¢°ä¸€ç¢°åŠ å¥½å‹éƒ½èƒ½è®©ä½ çš„Appå¤šä¸€ä¸ªâ€œè®©äººçœ¼å‰ä¸€äº®â€çš„å°åŠŸèƒ½ã€‚è¦æ˜¯å¼€å‘è¿‡ç¨‹ä¸­è¸©äº†å•¥æ–°å‘ï¼Œæˆ–è€…æœ‰æ›´é…·çš„ç©æ³•ï¼Œè¯„è®ºåŒºå” å” ï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¨ªçºµåˆ‡æ¢ï¼šUIåŠ¨æ•ˆçš„â€œç½—ç”Ÿé—¨â€ï¼Œä½ çš„å¸ƒå±€è¯¥å¬è°çš„ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7599474528239304744</link>    <guid>https://juejin.cn/post/7599474528239304744</guid>    <pubDate>2026-01-26T12:32:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599474528239304744" data-draft-id="7596170399881216052" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¨ªçºµåˆ‡æ¢ï¼šUIåŠ¨æ•ˆçš„â€œç½—ç”Ÿé—¨â€ï¼Œä½ çš„å¸ƒå±€è¯¥å¬è°çš„ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,HarmonyOS"/> <meta itemprop="datePublished" content="2026-01-26T12:32:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Archilect"/> <meta itemprop="url" content="https://juejin.cn/user/1505660538979515"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¨ªçºµåˆ‡æ¢ï¼šUIåŠ¨æ•ˆçš„â€œç½—ç”Ÿé—¨â€ï¼Œä½ çš„å¸ƒå±€è¯¥å¬è°çš„ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1505660538979515/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Archilect
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T12:32:55.000Z" title="Mon Jan 26 2026 12:32:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ¨ªçºµåˆ‡æ¢ï¼šUIåŠ¨æ•ˆçš„â€œç½—ç”Ÿé—¨â€ï¼Œä½ çš„å¸ƒå±€è¯¥å¬è°çš„ï¼Ÿ</h2>
<blockquote>
<p>å…³é”®è¯ï¼šæ¨ªçºµåˆ‡æ¢ / å£°æ˜å¼ UI / ArkUI / re-layout / transform / é¢„è®¡ç®—å‡ ä½•</p>
<p><strong>è¯´æ˜</strong>ï¼šæœ¬æ–‡çš„"å¸ƒå±€é©±åŠ¨ vs å‡ ä½•é©±åŠ¨"æ€è·¯æ˜¯é€šç”¨çš„ï¼Œé€‚ç”¨äºä»»ä½•å£°æ˜å¼ UI æ¡†æ¶ã€‚ä½†æ–‡ä¸­çš„ä»£ç ç¤ºä¾‹å’Œå…·ä½“ APIï¼ˆå¦‚ <code>position</code>ã€<code>translate</code>ã€<code>scale</code>ã€<code>Row</code>ã€<code>Column</code> ç­‰ï¼‰å‡åŸºäº <strong>ArkUIï¼ˆArkTSï¼‰</strong>ã€‚å…¶ä»–æ¡†æ¶çš„å¼€å‘è€…å¯ä»¥å°†æ€è·¯è¿ç§»åˆ°å¯¹åº”æ¡†æ¶çš„ç­‰ä»· API ä¸Šã€‚</p>
<p>æ¨ªçºµå¸ƒå±€åˆ‡æ¢åŠ¨ç”»æ–¹æ¡ˆé€‰æ‹©ï¼šå½“æŠŠæ‰€æœ‰å¯è¡Œè·¯çº¿æ‘†ä¸Šæ¡Œé¢ï¼Œä¼šå‘ç°çœŸæ­£çš„åˆ†å²”å£åªæœ‰ä¸€ä¸ªâ€”â€”<strong>æ¨ªçºµå¸ƒå±€å˜æ¢åˆ°åº•äº¤ç»™è°æ¥å®Œæˆ</strong>ã€‚</p>
</blockquote>
<p>å¦‚æœåªåšè¿‡é™æ€ UIï¼Œä¼šè§‰å¾—â€œæ¨ªæ’ â†” ç«–æ’â€åªæ˜¯åˆ‡æ¢ä¸€ä¸‹å®¹å™¨æ–¹å‘ã€‚</p>
<p>ä½†ä¸€æ—¦éœ€è¦å®ç°â€œå¸é¡¶æŠ˜å è¿‡ç¨‹ä¸­çš„è¿ç»­åŠ¨ç”»â€ï¼ˆicon/æ–‡å­—/èƒŒæ™¯ä¸€èµ·åŠ¨ï¼Œè½¨è¿¹è¿˜è¦å¯æ§ï¼‰ï¼Œæ¨ªçºµåˆ‡æ¢å°±ä¸å†æ˜¯ä¸€ä¸ªå±€éƒ¨å®ç°ç‚¹ï¼Œè€Œæ˜¯ä¸€ä¸ªä¼šå†³å®šåé¢æ‰€æœ‰è®¾è®¡çš„<strong>æ¶æ„æ ¹èŠ‚ç‚¹</strong>ã€‚</p>
<p>æ–¹æ¡ˆå¯ä»¥å½’ä¸ºä¸¤æ¡è·¯çº¿ï¼š</p>
<ul>
<li><strong>å¸ƒå±€é©±åŠ¨</strong>ï¼šè®©å¸ƒå±€ç³»ç»Ÿåœ¨ä¸¤ç§çŠ¶æ€ä¸‹è‡ªåŠ¨é‡æ’ï¼ˆä¾‹å¦‚ listDirection/Flex æ–¹å‘åˆ‡æ¢/åŒæ¨¡æ¿åˆ‡æ¢ç­‰ï¼‰</li>
<li><strong>å‡ ä½•é©±åŠ¨</strong>ï¼šç”±å¼€å‘è€…è‡ªå·±å®šä¹‰ä¸¤æ€å‡ ä½•ï¼ŒåŠ¨ç”»æœŸé—´ä¸»è¦ç”¨ transform åšæ’å€¼ï¼ˆposition + translate/scaleï¼‰</li>
</ul>
<p>ä¸ºäº†å¿«é€Ÿå»ºç«‹ç›´è§‰ï¼Œå¯ä»¥å…ˆçœ‹ä¸¤æ¡è·¯çº¿çš„<strong>æœ€å°ç»“æ„éª¨æ¶</strong>ï¼ˆçœç•¥æ‰€æœ‰ä¸šåŠ¡åˆ†æ”¯ï¼Œåªçœ‹ç»“æ„å·®å¼‚ï¼‰ï¼š</p>
<h4 data-id="heading-1">è·¯çº¿ Aï¼šå¸ƒå±€ç³»ç»Ÿé©±åŠ¨ï¼ˆLayout-drivenï¼‰çš„éª¨æ¶</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-title class_">Row</span>() {
  <span class="hljs-comment">// Tab 1</span>
  <span class="hljs-title class_">Stack</span>() {
    <span class="hljs-title class_">Image</span>(bgImage)  <span class="hljs-comment">// æ ‡ç­¾èƒŒæ™¯å›¾</span>
    <span class="hljs-title class_">List</span>() {
      <span class="hljs-title class_">ListItem</span>() {
        <span class="hljs-title class_">Image</span>(icon)
      }
      <span class="hljs-title class_">ListItem</span>() {
        <span class="hljs-title class_">Text</span>(text)
      }
    }
    .<span class="hljs-title function_">listDirection</span>(shouldStickTop ? <span class="hljs-title class_">Horizontal</span> : <span class="hljs-title class_">Vertical</span>)
  }
  <span class="hljs-comment">// Tab 2...</span>
}
</code></pre>
<h4 data-id="heading-2">è·¯çº¿ Bï¼šå‡ ä½•é©±åŠ¨ï¼ˆGeometry-drivenï¼‰çš„éª¨æ¶</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-title class_">Row</span>() {
  <span class="hljs-title class_">Image</span>(bgImage)  <span class="hljs-comment">// æ ‡ç­¾èƒŒæ™¯å›¾ï¼ˆç‹¬ç«‹åœ¨å¤–å±‚ï¼‰</span>

  <span class="hljs-comment">// Tab 1</span>
  <span class="hljs-title class_">Column</span>() {
    <span class="hljs-title class_">Image</span>(icon)
      .<span class="hljs-title function_">position</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> })
      .<span class="hljs-title function_">translate</span>({ <span class="hljs-attr">x</span>: iconX, <span class="hljs-attr">y</span>: iconY })
      .<span class="hljs-title function_">scale</span>({ <span class="hljs-attr">x</span>: iconScale, <span class="hljs-attr">y</span>: iconScale })

    <span class="hljs-title class_">Text</span>(text)
      .<span class="hljs-title function_">position</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> })
      .<span class="hljs-title function_">translate</span>({ <span class="hljs-attr">x</span>: textX, <span class="hljs-attr">y</span>: textY })
  }
  <span class="hljs-comment">// Tab 2...</span>
}
</code></pre>
<p>è¿™ä¸¤æ®µéª¨æ¶çš„å·®å¼‚ï¼ŒåŸºæœ¬å·²ç»æŠŠåé¢æ‰€æœ‰â€œä¸ºä»€ä¹ˆè¦é¢„è®¡ç®—ã€ä¸ºä»€ä¹ˆè½¨è¿¹å¯æ§ã€ä¸ºä»€ä¹ˆèƒŒæ™¯èƒ½è§£è€¦ã€ä¸ºä»€ä¹ˆèƒ½é«˜åˆ·ç¨³å®šâ€çš„ç»“è®ºæå‰å‰§é€äº†ã€‚</p>
<p>ä¸‹é¢å†æŒ‰â€œéœ€æ±‚â†’å€™é€‰è·¯çº¿â†’ä¸ºä»€ä¹ˆåˆ†å²”å£åœ¨è¿™é‡Œâ†’å¦‚ä½•è½åœ°â€æŠŠé€»è¾‘è®²å®Œæ•´ã€‚</p>
<hr/>
<h3 data-id="heading-3">1ï¼‰éœ€æ±‚ä¸€æ—¦å¤æ‚ï¼Œæ¨ªçºµåˆ‡æ¢å°±ä¼šç»‘å®šä¸€ä¸²â€œè¿å¸¦é—®é¢˜â€</h3>
<p>ä¸€ä¸ªå…¸å‹çš„çœŸå®åœºæ™¯å¤§æ¦‚æ˜¯è¿™æ ·ï¼š</p>
<ul>
<li>æœªå¸é¡¶ï¼ˆå±•å¼€æ€ï¼‰ï¼šicon åœ¨ä¸Šã€æ–‡å­—åœ¨ä¸‹</li>
<li>å¸é¡¶åï¼ˆæŠ˜å æ€ï¼‰ï¼šicon åœ¨å·¦ã€æ–‡å­—åœ¨å³</li>
<li>åˆ‡æ¢è¿‡ç¨‹ä¸­è¦è¿ç»­åŠ¨ç”»ï¼ˆä½ç§»/ç¼©æ”¾/å˜è‰²ï¼‰</li>
<li>åŒæ—¶è¿˜æœ‰ï¼š
<ul>
<li>èƒŒæ™¯å½¢çŠ¶è·Ÿéšæ¿€æ´»é¡¹ç§»åŠ¨ï¼ˆå±•å¼€æ˜¯å¤§æ¢¯å½¢ï¼ŒæŠ˜å å˜æ‰æ¢¯å½¢/èƒ¶å›Šï¼‰</li>
<li>é¦–é¡¹å›ºå®šï¼ˆå¯é€‰ï¼‰</li>
<li>æ¨ªå‘æ»šåŠ¨å±…ä¸­</li>
<li>äº®æš—è‰²ã€å·¦ä¸­å³ä¸åŒç‰©æ–™</li>
</ul>
</li>
</ul>
<p>ä½ ä¼šå‘ç°ï¼š<strong>æ¨ªçºµåˆ‡æ¢ä¸€æ—¦åšä¸å¥½ï¼Œåé¢æ‰€æœ‰ä¸œè¥¿éƒ½è·Ÿç€ä¸ç¨³</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-4">2ï¼‰ä¸€å¼€å§‹å°±æŠŠå€™é€‰è·¯çº¿æ‘†å‡ºæ¥ï¼ˆä½†ä¸æŒ‰â€œå®¹å™¨åå­—â€åˆ†ç±»ï¼‰</h3>
<p>å¾ˆå¤šæ–‡ç« å–œæ¬¢æŒ‰ç»„ä»¶åå¯¹æ¯”ï¼šRelativeContainerã€Flexã€Listã€ä¸¤å¥—æ¨¡æ¿â€¦â€¦</p>
<p>æ›´æœ‰æ•ˆçš„æ–¹å¼æ˜¯æŒ‰â€œæ§åˆ¶æƒå½’å±â€åˆ†ç±»ï¼Œå› ä¸ºç»„ä»¶åå­—ä¼šéšæ¡†æ¶/ç‰ˆæœ¬å˜åŒ–ï¼Œä½†æ§åˆ¶æƒé—®é¢˜ä¸ä¼šå˜ã€‚</p>
<h4 data-id="heading-5">è·¯çº¿ Aï¼šå¸ƒå±€é©±åŠ¨ï¼ˆLayout-drivenï¼‰</h4>
<p>æ ¸å¿ƒåšæ³•ï¼š</p>
<ul>
<li>è®©ç³»ç»Ÿé€šè¿‡â€œåˆ‡æ¢å¸ƒå±€è§„åˆ™â€æ¥å®Œæˆæ¨ªçºµåˆ‡æ¢</li>
</ul>
<p>å¸¸è§è½åœ°å½¢æ€ï¼š</p>
<ul>
<li>RelativeContainerï¼šåœ¨å¤„ç†åŠ¨æ€å†…å®¹æˆ–å¤æ‚å¯¹é½æ—¶ï¼Œå…¶çº¦æŸè§„åˆ™å¯èƒ½å¯¼è‡´æ„å¤–è¡Œä¸ºï¼Œæ’æŸ¥æˆæœ¬è¾ƒé«˜ã€‚</li>
<li>Flex direction åˆ‡æ¢ï¼šå­˜åœ¨å†…å®¹è¶…å‡ºå®¹å™¨è¢«è£å‰ªçš„é£é™©ï¼Œä¸”å®˜æ–¹æ–‡æ¡£æç¤ºé¢‘ç¹åˆ‡æ¢è¯¥å±æ€§å¯èƒ½å¸¦æ¥çš„æ€§èƒ½å½±å“ã€‚</li>
<li>List + listDirectionï¼šåŠŸèƒ½å¯è¡Œï¼Œä½†ä¼šå¼•å…¥é¢å¤–å±‚çº§ï¼ˆListItemï¼‰ï¼Œä¸”åŠ¨æ•ˆè½¨è¿¹æ›´ä¾èµ–ç³»ç»Ÿå¸ƒå±€ï¼Œéš¾ä»¥ç²¾ç¡®æ§åˆ¶ã€‚</li>
<li>Row/Column ä¸¤å¥—æ¨¡æ¿åˆ‡æ¢ï¼ˆæ˜¾ç¤º/éšè—æˆ–é”€æ¯/é‡å»ºï¼‰ï¼šè¿™ç§åˆ‡æ¢æ›´åƒé‡å»º/æ˜¾éšï¼Œéš¾ä»¥å®ç°å¹³æ»‘çš„è¿ç»­ä½ç§»å’Œå˜å½¢åŠ¨ç”»ã€‚</li>
</ul>
<p>ä¸€å¥è¯æ¦‚æ‹¬ï¼š</p>
<blockquote>
<p>å¼€å‘è€…æä¾›çº¦æŸ/æ–¹å‘ï¼Œä½ç½®ç”±å¸ƒå±€ç®—æ³•å†³å®šã€‚</p>
</blockquote>
<h4 data-id="heading-6">è·¯çº¿ Bï¼šå‡ ä½•é©±åŠ¨ï¼ˆGeometry-drivenï¼‰</h4>
<p>æ ¸å¿ƒåšæ³•ï¼š</p>
<ul>
<li>ä¸è®©å¸ƒå±€ç³»ç»Ÿå†³å®šâ€œæœ€ç»ˆä½ç½®â€</li>
<li>ç”±å¼€å‘è€…è‡ªå·±è®¡ç®—å±•å¼€æ€/æŠ˜å æ€çš„ç›®æ ‡åæ ‡</li>
<li>åŠ¨ç”»æœŸé—´ä¸»è¦ç”¨æ¸²æŸ“å˜æ¢æ’å€¼ï¼ˆtranslate/scaleï¼‰</li>
</ul>
<p>ä¸€å¥è¯æ¦‚æ‹¬ï¼š</p>
<blockquote>
<p>å¼€å‘è€…ç›´æ¥æä¾›ä½ç½®ç»“æœï¼Œå¸ƒå±€ç³»ç»Ÿåªæä¾›åæ ‡åŸç‚¹ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-7">3ï¼‰çœŸæ­£çš„åˆ†å²”å£ï¼šåŠ¨ç”»æœŸé—´å…è®¸â€œå¸ƒå±€ç³»ç»Ÿâ€å‚ä¸å¤šå°‘ï¼Ÿ</h3>
<p>å¯ä»¥æŠŠåˆ¤æ–­æ ‡å‡†æ”¶æ•›æˆä¸€ä¸ªéå¸¸å®ç”¨çš„é—®é¢˜ï¼š</p>
<blockquote>
<p><strong>åŠ¨ç”»æœŸé—´ï¼Œæ˜¯å¦å…è®¸ re-layout é¢‘ç¹å‘ç”Ÿï¼Ÿ</strong></p>
</blockquote>
<h4 data-id="heading-8">3.1 ä¸ºä»€ä¹ˆå¸ƒå±€é©±åŠ¨å®¹æ˜“æŠŠåŠ¨ç”»å†™â€œé£˜â€ï¼Ÿ</h4>
<p>ä¸æ˜¯å› ä¸ºæŸä¸ªå®¹å™¨ä¸å¥½ï¼Œè€Œæ˜¯å› ä¸ºå¸ƒå±€é©±åŠ¨å¤©ç„¶ä¼šå¸¦æ¥ä¸‰ç±»ä¸ç¡®å®šæ€§ï¼š</p>
<ol>
<li>
<p><strong>ç«¯ç‚¹ä¸ç¡®å®š</strong></p>
<ul>
<li>æ¨ªçºµåˆ‡æ¢åå…ƒç´ åˆ°åº•è½åœ¨å“ªï¼Œå¾€å¾€è¦ç­‰å¸ƒå±€ç®—å®Œæ‰çŸ¥é“</li>
<li>æƒ³â€œæå‰ç®—å¥½ç«¯ç‚¹ + æ’å€¼â€ä¼šå¾ˆéš¾ï¼Œå› ä¸ºç«¯ç‚¹æœ¬èº«æ˜¯å¸ƒå±€è¾“å‡º</li>
</ul>
</li>
<li>
<p><strong>è½¨è¿¹ä¸å¯æ§</strong></p>
<ul>
<li>ç³»ç»Ÿå¯èƒ½ä¼šç»™å‡ºä¸€ä¸ªâ€œçœ‹èµ·æ¥åˆç†â€çš„è¡¥é—´ï¼Œä½†å¾ˆéš¾ç²¾ç¡®æ§åˆ¶ï¼š
<ul>
<li>è°å…ˆåŠ¨ã€è°ååŠ¨</li>
<li>æ˜¯å¦åˆ†æ®µ</li>
<li>æ˜¯å¦ overshoot</li>
<li>icon ä¸æ–‡å­—æ˜¯å¦ä¸¥æ ¼èµ°åŒä¸€æ—¶é—´è½´</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>re-layout å¹²æ‰°è¡¥é—´</strong></p>
<ul>
<li>åŠ¨ç”»ä¸­é€”è‹¥åœ¨æ”¹ width/margin/direction ç­‰ï¼Œä¼šè§¦å‘å¸ƒå±€é‡æ’</li>
<li>è½¨è¿¹ä¼šè¢«å¸ƒå±€ç»“æœç¦»æ•£ä¿®æ­£ï¼Œè¡¨ç°ä¸ºå¶å‘è·³åŠ¨/æŠ–åŠ¨ï¼ˆé«˜åˆ·æ›´æ˜æ˜¾ï¼‰</li>
</ul>
</li>
</ol>
<p>è¿™äº›é—®é¢˜åœ¨éœ€æ±‚ç®€å•æ—¶ä¸æ˜¾çœ¼ï¼Œä½†åœ¨â€œå¸é¡¶æŠ˜å  + å¤šå…ƒç´ è”åŠ¨â€åœºæ™¯ä¸‹ä¼šè¢«æ”¾å¤§ã€‚</p>
<h4 data-id="heading-9">3.2 ä¸ºä»€ä¹ˆå‡ ä½•é©±åŠ¨èƒ½æŠŠå¤æ‚åº¦â€œé›†ä¸­åŒ–â€ï¼Ÿ</h4>
<p>å‡ ä½•é©±åŠ¨çš„ä¼˜ç‚¹ä¸æ˜¯â€œæ›´å¼ºâ€ï¼Œè€Œæ˜¯â€œæ›´æ˜ç¡®â€ï¼š</p>
<ul>
<li>ç«¯ç‚¹æ˜¯ç®—å‡ºæ¥çš„ï¼ŒåŠ¨ç”»å¼€å§‹å‰å°±ç¡®å®š</li>
<li>è½¨è¿¹æ˜¯æ’å€¼å‡ºæ¥çš„ï¼Œæƒ³æ€ä¹ˆåˆ†æ®µ/å»¶è¿Ÿéƒ½å¯æ§</li>
<li>åŠ¨ç”»æœŸé—´ä¸»è¦æ”¹ transformï¼Œå°½é‡ä¸è§¦å‘å¸ƒå±€é‡æ’</li>
<li>UI ç»“æ„èŠ‚ç‚¹æ›´å°‘ã€èŒè´£æ›´æ¸…æ™°</li>
</ul>
<p>å½“ç„¶å®ƒä¹Ÿæœ‰ä»£ä»·ï¼š</p>
<ul>
<li>éœ€è¦ measureTextSizeï¼ˆæ–‡æœ¬å®½é«˜å¿…é¡»å¯é¢„æµ‹ï¼‰</li>
<li>éœ€è¦å»ºç«‹é¢„è®¡ç®—ä¸ç¼“å­˜ï¼ˆå¦åˆ™è¿è¡Œæ—¶ç®—ä¼šå¾ˆé‡ï¼‰</li>
</ul>
<p>ä½†è¿™å¥—ä»£ä»·ä¸€æ—¦ä»˜äº†ï¼Œåé¢èƒŒæ™¯ã€æ»šåŠ¨å±…ä¸­ã€é¦–é¡¹é®æŒ¡ï¼Œéƒ½ä¼šé¡ºç€åŒä¸€æ¡è·¯å¾„è§£å†³ã€‚</p>
<hr/>
<h3 data-id="heading-10">4ï¼‰å¦‚ä½•è½åœ°â€œå‡ ä½•é©±åŠ¨â€çš„æ¨ªçºµåˆ‡æ¢ï¼Ÿ</h3>
<p>è½åœ°æ—¶å¯ä»¥æŠ“ä½ä¸€ä¸ªå…³é”®æŠ€å·§ï¼š</p>
<h4 data-id="heading-11">4.1 è®©å­å…ƒç´ è„±ç¦»å¸ƒå±€æµï¼šposition({0,0})</h4>
<p>åœ¨ tab çš„å®¹å™¨é‡Œï¼ˆä¾‹å¦‚ Columnï¼‰ï¼Œicon å’Œ text éƒ½è®¾ç½®ï¼š</p>
<ul>
<li><code>position({ x: 0, y: 0 })</code></li>
</ul>
<p>è¿™ä¸€æ­¥çš„æ„ä¹‰æ˜¯ï¼š</p>
<ul>
<li>ä¸å†ä¾èµ– Column/Row çš„è‡ªåŠ¨æ’å¸ƒ</li>
<li>å®¹å™¨åªæä¾›ä¸€ä¸ªâ€œå…±åŒåæ ‡åŸç‚¹â€</li>
</ul>
<h4 data-id="heading-12">4.2 ç”¨ translate/scale è´´ä¸Šä¸¤æ€å‡ ä½•</h4>
<p>åœ¨è®¡ç®—å±‚æå‰ç®—å‡ºï¼š</p>
<ul>
<li>å±•å¼€æ€ï¼šiconX/iconYã€textX/textYã€iconScale=1</li>
<li>æŠ˜å æ€ï¼šiconX/iconYã€textX/textYã€iconScale&lt;1ï¼ˆæˆ–ä¸åŒå¤§å°ï¼‰</li>
</ul>
<p>æ¸²æŸ“å±‚åªæ§åˆ¶ä¸¤ä¸ªç»˜åˆ¶å±æ€§ï¼š</p>
<ul>
<li><code>translate({ x, y })</code></li>
<li><code>scale({ x, y })</code></li>
</ul>
<p>åŠ¨ç”»æœŸé—´ï¼Œå°½é‡ä¸é€šè¿‡â€œåˆ‡æ¢å®¹å™¨/æ”¹å¸ƒå±€å±æ€§â€å®Œæˆæ•ˆæœï¼Œè€Œæ˜¯è®©åæ ‡æ’å€¼å¸¦ç€å…ƒç´ èµ°ã€‚</p>
<hr/>
<h3 data-id="heading-13">5ï¼‰ä¸ºä»€ä¹ˆè¿™ä¸ªæ ¹èŠ‚ç‚¹ä¸€æ—¦é€‰å®šï¼Œåé¢æ‰€æœ‰è®¾è®¡éƒ½å˜æˆâ€œå¿…ç„¶ç»“æœâ€ï¼Ÿ</h3>
<p>è¿™ä¹Ÿæ˜¯æœ€å€¼å¾—å¼ºè°ƒçš„ä¸€ç‚¹ï¼š</p>
<ul>
<li>ä¸€æ—¦é€‰äº†å‡ ä½•é©±åŠ¨ï¼Œ<strong>UI ç»“æ„ä¼šè‡ªç„¶å˜è–„</strong>ï¼ˆå°‘åµŒå¥—ã€å°‘ä¸­é—´å±‚ï¼‰</li>
<li>è‡ªç„¶ä¼šéœ€è¦ï¼š
<ul>
<li>ç‰©æ–™æŸ¥è¡¨ç¼“å­˜ï¼ˆè§£å†³çŠ¶æ€ç»„åˆçˆ†ç‚¸ï¼‰</li>
<li>å‡ ä½•é¢„è®¡ç®—ç¼“å­˜ï¼ˆä¸¤æ€ç«¯ç‚¹æå‰ç¡®å®šï¼‰</li>
<li>render å±‚åªæ¶ˆè´¹å‡ ä½•ï¼ˆmodifier åªè´´ transformï¼‰</li>
</ul>
</li>
<li>è‡ªç„¶ä¼šæŠŠï¼š
<ul>
<li>èƒŒæ™¯å½“å›¾å±‚ï¼ˆç‹¬ç«‹äº tab å¸ƒå±€ï¼‰</li>
<li>targetScrollOffset å½“å¸ƒå±€è¾“å‡ºï¼ˆè€Œä¸æ˜¯è¿è¡Œæ—¶æµ‹é‡ï¼‰</li>
<li>é¦–é¡¹é®æŒ¡å½“äº¤äº’çŠ¶æ€æœºï¼ˆè€Œä¸æ˜¯ zIndex/clip è¡¥ä¸ï¼‰</li>
</ul>
</li>
</ul>
<p>æ‰€ä»¥è¿™ç¯‡å¹¶ä¸æ˜¯åœ¨æ¨èâ€œæŸä¸ª APIâ€ï¼Œè€Œæ˜¯åœ¨å¼ºè°ƒï¼š</p>
<blockquote>
<p>æ¨ªçºµåˆ‡æ¢çš„å®ç°æ–¹å¼ï¼Œä¼šå†³å®šä½ åˆ°åº•æ˜¯åœ¨â€œå’Œå¸ƒå±€ç³»ç»Ÿåšå¼ˆâ€ï¼Œè¿˜æ˜¯åœ¨â€œå®šä¹‰ä¸€å¥—å¯æ§å‡ ä½•â€ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-14">6ï¼‰å°ç»“</h3>
<blockquote>
<p><strong>ç¬›å¡å°”çš„å«é‡‘é‡</strong>ï¼š
ä»ç”¨ <code>margin/padding/spaceBetween</code> è¿™ç±»â€œå‡ ä½•å…³ç³»â€å»é©±åŠ¨å¸ƒå±€
æ”¹ä¸ºæŠŠå‡ ä½•å…³ç³»â€œç¼–è¯‘â€æˆåæ ‡æ•°æ®ï¼Œè®© <code>translate</code> æˆä¸ºå”¯ä¸€çš„å‡ ä½•æ¥å£ã€‚</p>
<p>å½“â€œä½ç½®å˜åŒ–â€åªä»ä¸€ä¸ªç»Ÿä¸€æ¥å£ï¼ˆ<code>translate</code>ï¼‰æµå‡ºï¼Œä¼šç›´æ¥å¸¦æ¥ï¼š</p>
<ul>
<li><strong>å¯æ¨å¯¼/å¯å›å½’</strong>ï¼šä½ç½® bug æ›´åƒâ€œx/y ç®—é”™äº†â€ï¼Œè€Œä¸æ˜¯ä¸€å † margin/padding/align çš„ç»„åˆé—®é¢˜ï¼›</li>
<li><strong>å¯ç»„åˆ</strong>ï¼šã€å¸é¡¶ã€æ¿€æ´»æ€å¢å®½ã€é¦–é¡¹å›ºå®šè®©ä½ã€‘ç­‰æ•ˆæœå¯ä»¥åœ¨åŒä¸€åæ ‡å€¼é‡Œåšåˆæˆï¼›</li>
<li><strong>æ›´ç¬¦åˆ OCP</strong>ï¼šæ–°å¢â€œä½ç§»éœ€æ±‚â€æ—¶ï¼Œå°½é‡ä¸æ”¹æ¸²æŸ“å±‚ç»“æ„ï¼Œåªæ‰©å±•è®¡ç®—å±‚è¾“å‡ºï¼ˆä¾‹å¦‚æ”¹ <code>iconX</code> çš„å…¬å¼/æ’å€¼ï¼‰ï¼ŒRender å±‚ä»ç„¶åªæ¶ˆè´¹ <code>.translate({ x, y })</code>ã€‚</li>
</ul>
<p>è¿™ç§å°†â€œå¦‚ä½•å¸ƒå±€â€(how)ä¸â€œå¸ƒå±€ç»“æœâ€(what)åˆ†ç¦»çš„åšæ³•ï¼Œä¹Ÿä¾§é¢è¯´æ˜ï¼šå¾ˆå¤šè®¾è®¡åŸåˆ™é¦–å…ˆæ˜¯â€œå¯¹å˜åŒ–çš„ç®¡ç†æ–¹å¼â€ï¼Œå¹¶ä¸ä¾èµ– OOP è¯­æ³•æœ¬èº«ã€‚</p>
</blockquote>
<p>ç°åœ¨çš„åˆ¤æ–­å¾ˆç®€å•ï¼š</p>
<ul>
<li>éœ€æ±‚ç®€å•ã€åªè¦èƒ½åˆ‡æ¨ªçºµã€ä¸è¿½æ±‚è½¨è¿¹ï¼šå¸ƒå±€é©±åŠ¨è¶³å¤Ÿ</li>
<li>ä¸€æ—¦éœ€æ±‚å‡ºç°â€œå¸é¡¶æŠ˜å  + å¤šå…ƒç´ è”åŠ¨ + é«˜åˆ·ç¨³å®š + è½¨è¿¹å¯æ§â€ï¼Œæ¨ªçºµåˆ‡æ¢å°±åº”è¯¥èµ°å‡ ä½•é©±åŠ¨</li>
</ul>
<p>ä¸‹ä¸€ç¯‡ä¼šç»§ç»­æŠŠâ€œå‡ ä½•é©±åŠ¨â€è®²é€ï¼š</p>
<ul>
<li>ä¸ºä»€ä¹ˆé¢„è®¡ç®—ä¸æ˜¯ä¼˜åŒ–ï¼Œè€Œæ˜¯å¿…éœ€å“ï¼ˆmeasureTextSizeã€ä¸¤æ€å‡ ä½•ã€ç¡®å®šæ€§ã€ç¼“å­˜ï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-15">é™„å½•ï¼šå¯ç‹¬ç«‹è¿è¡Œçš„â€œå‡ ä½•é©±åŠ¨â€ç¤ºä¾‹</h3>
<p>ä¸ºäº†æ›´ç›´è§‚åœ°å±•ç¤ºâ€œå‡ ä½•é©±åŠ¨â€å¦‚ä½•é€šè¿‡ç›´æ¥æ§åˆ¶åæ ‡æ¥å®ç°å¸ƒå±€åŠ¨ç”»ï¼Œä¸‹é¢æä¾›ä¸€ä¸ªå®Œæ•´çš„ã€å¯ç‹¬ç«‹è¿è¡Œçš„ ArkUI ç¤ºä¾‹ä»£ç ã€‚ä½ å¯ä»¥å°†ä»£ç å¤åˆ¶åˆ°é¡¹ç›®ä¸­ï¼Œç›´æ¥é¢„è§ˆæ¨ªçºµåˆ‡æ¢æ•ˆæœã€‚</p>
<blockquote>
<p><strong>è¯´æ˜</strong>ï¼šä»¥ä¸‹ä»£ç æä¾›äº†ä¸¤ä¸ªç»„ä»¶ï¼ˆA å’Œ Bï¼‰ï¼Œå®ƒä»¬å®ç°äº†ç›¸åŒçš„è§†è§‰æ•ˆæœï¼Œä½†æ–¹å¼ä¸åŒï¼š</p>
<ul>
<li><strong>Component A</strong>ï¼šä½¿ç”¨ <code>transform(matrix4)</code>ï¼Œè¿™æ˜¯ä¸€ç§æ›´åº•å±‚ã€æ›´å¼ºå¤§çš„çŸ©é˜µå˜æ¢æ–¹å¼</li>
<li><strong>Component B</strong>ï¼šä½¿ç”¨ <code>translate</code> å’Œ <code>scale</code>ï¼Œè¿™ç§æ–¹å¼æ›´ç›´è§‚ï¼Œä¹Ÿæ˜¯æœ¬ç³»åˆ—æ–‡ç« ä¸­æ¨èä¼˜å…ˆä½¿ç”¨çš„æ–¹å¼</li>
</ul>
<p>å»ºè®®å…ˆçœ‹ <strong>Component B</strong>ï¼Œç†è§£å‡ ä½•é©±åŠ¨çš„åŸºæœ¬æ€è·¯ï¼›å¦‚æœå¯¹çŸ©é˜µå˜æ¢æ„Ÿå…´è¶£ï¼Œå†çœ‹ Component Aã€‚</p>
</blockquote>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { matrix4 } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>

<span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Transform02</span> {
  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-title function_">A</span>()
      <span class="hljs-title function_">B</span>()
    }
  }
}

<span class="hljs-comment">//è®¡ç®—åŸºå‡†å€¼ï¼š</span>
<span class="hljs-comment">//å®¹å™¨å®½é«˜ï¼šcontainerWidth=100</span>
<span class="hljs-comment">// çºµå‘å®½é«˜ï¼šæ–‡å­—ï¼š70*20ï¼Œå›¾ç‰‡ï¼š50*50ï¼Œå›¾ä¸‹é—´è·ï¼š5ï¼Œå­—ä¸‹é—´è·ï¼š6</span>
<span class="hljs-comment">// æ¨ªå‘å®½é«˜ï¼šæ–‡å­—ï¼š70*25ï¼Œå›¾ç‰‡ï¼š30*30ï¼Œå›¾å·¦é—´è·ï¼š3ï¼Œå­—å·¦é—´è·ï¼š4</span>

<span class="hljs-meta">@Component</span>
struct A {
  <span class="hljs-meta">@State</span> <span class="hljs-attr">trans</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>
  <span class="hljs-meta">@State</span> <span class="hljs-attr">iconWidth</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">50</span>
  <span class="hljs-meta">@State</span> <span class="hljs-attr">containerWidth</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">100</span>
  <span class="hljs-meta">@State</span> <span class="hljs-attr">translateX</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>
  <span class="hljs-meta">@State</span> <span class="hljs-attr">translateY</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>
  change = <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">trans</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">trans</span>

  <span class="hljs-title function_">vp</span>(<span class="hljs-params">a: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">vp2px</span>(a)
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">buildImageTransform</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> matrix1 = matrix4.<span class="hljs-title function_">identity</span>()
      .<span class="hljs-title function_">translate</span>({
        <span class="hljs-attr">x</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">vp</span>((<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getContainerWidth</span>() - <span class="hljs-number">50</span>) / <span class="hljs-number">2</span>), 
        <span class="hljs-attr">y</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">vp</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getContainerHeight</span>() - <span class="hljs-number">50</span> - <span class="hljs-number">20</span> - <span class="hljs-number">5</span> - <span class="hljs-number">6</span>)
      })
    <span class="hljs-keyword">const</span> matrix2 = matrix4.<span class="hljs-title function_">identity</span>()
      .<span class="hljs-title function_">scale</span>({
        <span class="hljs-attr">x</span>: <span class="hljs-number">30</span> / <span class="hljs-number">50</span>,
        <span class="hljs-attr">y</span>: <span class="hljs-number">30</span> / <span class="hljs-number">50</span>,
        <span class="hljs-attr">centerX</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">vp</span>(-<span class="hljs-number">50</span> / <span class="hljs-number">2</span>), <span class="hljs-comment">//ç¼©æ”¾ä¸­å¿ƒä¸ºå·¦ä¸Šè§’</span>
        <span class="hljs-attr">centerY</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">vp</span>(-<span class="hljs-number">50</span> / <span class="hljs-number">2</span>),
      })
      .<span class="hljs-title function_">translate</span>({ <span class="hljs-attr">x</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">vp</span>(<span class="hljs-number">0</span> + <span class="hljs-number">3</span>), <span class="hljs-attr">y</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">vp</span>((<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getContainerHeight</span>() - <span class="hljs-number">30</span>) / <span class="hljs-number">2</span>) }) <span class="hljs-comment">//å¦‚æœåœ¨scaleä¹‹å‰ï¼Œè¿˜è¦æ¶ˆé™¤ç¼©æ”¾ç³»æ•°</span>
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">trans</span> ? matrix2 : matrix1
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">buildTextTransform</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> matrix1 = matrix4.<span class="hljs-title function_">identity</span>()
      .<span class="hljs-title function_">translate</span>({
        <span class="hljs-attr">x</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">vp</span>((<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getContainerWidth</span>() - <span class="hljs-number">70</span>) / <span class="hljs-number">2</span>),
        <span class="hljs-attr">y</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">vp</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getContainerHeight</span>() - (<span class="hljs-number">20</span> + <span class="hljs-number">6</span>))
      })
    <span class="hljs-keyword">const</span> matrix2 = matrix4.<span class="hljs-title function_">identity</span>()
      .<span class="hljs-title function_">translate</span>({ <span class="hljs-attr">x</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">vp</span>(<span class="hljs-number">30</span> + <span class="hljs-number">3</span> + <span class="hljs-number">4</span>), <span class="hljs-attr">y</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">vp</span>((<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getContainerHeight</span>() - <span class="hljs-number">20</span>) / <span class="hljs-number">2</span>) }) <span class="hljs-comment">//å¦‚æœåœ¨scaleä¹‹å‰ï¼Œè¿˜è¦æ¶ˆé™¤ç¼©æ”¾ç³»æ•°</span>
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">trans</span> ? matrix2 : matrix1
  }

  <span class="hljs-title function_">getContainerWidth</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">trans</span> ? (<span class="hljs-number">30</span> + <span class="hljs-number">70</span> + <span class="hljs-number">3</span> + <span class="hljs-number">4</span>) : <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">50</span>, <span class="hljs-number">70</span>)
  }

  <span class="hljs-title function_">getContainerHeight</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">trans</span> ? <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">30</span>, <span class="hljs-number">25</span>) : (<span class="hljs-number">20</span> + <span class="hljs-number">50</span> + <span class="hljs-number">5</span> + <span class="hljs-number">6</span>)
  }

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'å˜å½¢'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">animateTo</span>({ <span class="hljs-attr">duration</span>: <span class="hljs-number">300</span> }, <span class="hljs-variable language_">this</span>.<span class="hljs-property">change</span>))
      <span class="hljs-title class_">Column</span>() {
        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'æ–‡å­—'</span>)
          .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)
          .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">70</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">20</span> })
          .<span class="hljs-title function_">position</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> })
          .<span class="hljs-title function_">transform</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">buildTextTransform</span>())
          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ–‡å­—'</span>))

        <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'sys.media.AI_form'</span>))
          .<span class="hljs-title function_">position</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> })
          .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">50</span> })
          .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)
          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffd3a06e'</span>)
          .<span class="hljs-title function_">transform</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">buildImageTransform</span>())
          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å›¾ç‰‡'</span>))
      }
      .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getContainerWidth</span>(), <span class="hljs-attr">height</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getContainerHeight</span>() })
      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)
      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å®¹å™¨'</span>))

      <span class="hljs-title class_">Blank</span>().<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffc0f3dd'</span>)

    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#fffff8d6'</span>)
  }
}

<span class="hljs-meta">@Component</span>
struct B {
  <span class="hljs-meta">@State</span> <span class="hljs-attr">trans</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>
  change = <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">trans</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">trans</span>

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'å˜å½¢'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">animateTo</span>({ <span class="hljs-attr">duration</span>: <span class="hljs-number">300</span> }, <span class="hljs-variable language_">this</span>.<span class="hljs-property">change</span>))

      <span class="hljs-comment">// å®¹å™¨</span>
      <span class="hljs-title class_">Column</span>() {
        <span class="hljs-comment">// æ–‡å­—</span>
        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'æ–‡å­—'</span>)
          .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">70</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">20</span> })
          .<span class="hljs-title function_">position</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> })
          .<span class="hljs-title function_">translate</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">trans</span> ?
            { <span class="hljs-attr">x</span>: <span class="hljs-number">30</span> + <span class="hljs-number">3</span> + <span class="hljs-number">4</span>, <span class="hljs-attr">y</span>: (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">30</span>, <span class="hljs-number">25</span>) - <span class="hljs-number">20</span>) / <span class="hljs-number">2</span> } :
            { <span class="hljs-attr">x</span>: (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">50</span>, <span class="hljs-number">70</span>) - <span class="hljs-number">70</span>) / <span class="hljs-number">2</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">50</span> + <span class="hljs-number">5</span> })
          .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)
          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ–‡å­—'</span>))

        <span class="hljs-comment">// å›¾ç‰‡</span>
        <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'sys.media.AI_form'</span>))
          .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">50</span> })
          .<span class="hljs-title function_">position</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> })
          .<span class="hljs-title function_">scale</span>({
            <span class="hljs-attr">x</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">trans</span> ? <span class="hljs-number">30</span> / <span class="hljs-number">50</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">y</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">trans</span> ? <span class="hljs-number">30</span> / <span class="hljs-number">50</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">centerX</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">centerY</span>: <span class="hljs-number">0</span>
          })
          .<span class="hljs-title function_">translate</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">trans</span> ?
            { <span class="hljs-attr">x</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">y</span>: (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">30</span>, <span class="hljs-number">25</span>) - <span class="hljs-number">30</span>) / <span class="hljs-number">2</span> } :
            { <span class="hljs-attr">x</span>: (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">50</span>, <span class="hljs-number">70</span>) - <span class="hljs-number">50</span>) / <span class="hljs-number">2</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> })
          .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)
          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffd7b6e9'</span>)
          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å›¾ç‰‡'</span>))
      }
      .<span class="hljs-title function_">size</span>({
        <span class="hljs-attr">width</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">trans</span> ? (<span class="hljs-number">30</span> + <span class="hljs-number">3</span> + <span class="hljs-number">70</span> + <span class="hljs-number">4</span>) : <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">50</span>, <span class="hljs-number">70</span>),
        <span class="hljs-attr">height</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">trans</span> ? <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">30</span>, <span class="hljs-number">25</span>) : (<span class="hljs-number">50</span> + <span class="hljs-number">5</span> + <span class="hljs-number">20</span> + <span class="hljs-number">6</span>)
      })
      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)
      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å®¹å™¨'</span>))

      <span class="hljs-title class_">Blank</span>().<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffc0f3dd'</span>)
    }
    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#fffff8d6'</span>)
  }
}
</code></pre>
<h4 data-id="heading-16">æ³¨æ„äº‹é¡¹</h4>
<ol>
<li><strong>ç‹¬ç«‹è¿è¡Œ</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ Demoï¼Œä¸ä¾èµ–æœ¬ç³»åˆ—æ–‡ç« ä¸­çš„å…¶ä»–å¤æ‚ç»„ä»¶ã€‚</li>
<li><strong>ä¸¤ç§å®ç°å¯¹æ¯”</strong>ï¼šä»£ç ä¸­åŒ…å«äº† <code>Component A</code> å’Œ <code>Component B</code> ä¸¤ä¸ªç»„ä»¶ï¼Œå®ƒä»¬éƒ½å®ç°äº†ç›¸åŒçš„è§†è§‰æ•ˆæœï¼Œä½†æ–¹å¼ä¸åŒï¼š
<ul>
<li><code>Component A</code> ä½¿ç”¨ <code>transform(matrix4)</code>ï¼Œè¿™æ˜¯ä¸€ç§æ›´åº•å±‚ã€æ›´å¼ºå¤§çš„çŸ©é˜µå˜æ¢æ–¹å¼ã€‚</li>
<li><code>Component B</code> ä½¿ç”¨ <code>translate</code> å’Œ <code>scale</code>ï¼Œè¿™ç§æ–¹å¼æ›´ç›´è§‚ï¼Œä¹Ÿæ˜¯æœ¬ç³»åˆ—æ–‡ç« ä¸­æ¨èä¼˜å…ˆä½¿ç”¨çš„æ–¹å¼ã€‚</li>
</ul>
</li>
<li><strong>ä¸æ–‡ç« æ€æƒ³çš„å…³è”</strong>ï¼šç¤ºä¾‹ä¸ºäº†ç®€åŒ–ï¼Œå°†ä¸¤æ€çš„åæ ‡ï¼ˆæ¨ªå‘/çºµå‘ï¼‰ç›´æ¥ç¡¬ç¼–ç åœ¨äº†ç»„ä»¶å†…éƒ¨ã€‚åœ¨çœŸå®çš„å¤§å‹é¡¹ç›®ä¸­ï¼Œè¿™äº›åæ ‡å€¼åº”è¯¥ç”±ç‹¬ç«‹çš„"å‡ ä½•è®¡ç®—å±‚"ï¼ˆå³åç»­æ–‡ç« ä¸­æåˆ°çš„ <code>GeometryCalculator</code>ï¼‰æ¥æä¾›ï¼ŒUI å±‚åªè´Ÿè´£æ¶ˆè´¹è¿™äº›è®¡ç®—ç»“æœã€‚è¿™æ­£æ˜¯"å‡ ä½•é©±åŠ¨"æ¶æ„çš„æ ¸å¿ƒæ€æƒ³ã€‚</li>
</ol>
<hr/>
<p><strong>å†™åœ¨æœ€å</strong>ï¼šè¿™æ˜¯ã€Šå¤æ‚tabåŠ¨æ•ˆç»„ä»¶æ¶æ„è®¾è®¡ã€‹ç³»åˆ—ä¸“æ çš„ç¬¬1ç¯‡ï¼ˆå‰é¢æœ‰ä¸€ç¯‡åºç« ï¼‰ï¼Œåç»­ä¼šç»§ç»­å±•å¼€æ¯ä¸ªæŠ€æœ¯ç‚¹çš„å®ç°ç»†èŠ‚ã€‚æ„Ÿå…´è¶£çš„è¯å¯ä»¥å…³æ³¨ä¸“æ ã€‚æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„ç»éªŒå’Œè¸©è¿‡çš„å‘ã€‚å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¯å‘ï¼Œä¹Ÿæ¬¢è¿ç‚¹èµæ”¯æŒï¼Œè¿™ä¼šæ˜¯æˆ‘ç»§ç»­åˆ†äº«çš„åŠ¨åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3æ—¥æœŸè®¡ç®—å™¨å®ç°æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7599526246503350306</link>    <guid>https://juejin.cn/post/7599526246503350306</guid>    <pubDate>2026-01-26T12:57:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599526246503350306" data-draft-id="7599526246503333922" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3æ—¥æœŸè®¡ç®—å™¨å®ç°æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2026-01-26T12:57:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ»•é’å±±"/> <meta itemprop="url" content="https://juejin.cn/user/3206601805674094"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3æ—¥æœŸè®¡ç®—å™¨å®ç°æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3206601805674094/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ»•é’å±±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T12:57:21.000Z" title="Mon Jan 26 2026 12:57:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åœ¨çº¿å·¥å…·ç½‘å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fsee-tool.com%2Fdate-calculator" target="_blank" title="https://see-tool.com/date-calculator" ref="nofollow noopener noreferrer">see-tool.com/date-calculâ€¦</a></p>
</blockquote>
<blockquote>
<p>å·¥å…·æˆªå›¾ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73218a9cadbe4d43abc356809916483e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ruV6Z2S5bGx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770037041&amp;x-signature=%2BsdYJ8Iisb5mhZ2OsbueuG7tjzw%3D" alt="å·¥å…·æˆªå›¾.png" loading="lazy"/></p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒåŠŸèƒ½è®¾è®¡</h2>
<p>æ—¥æœŸè®¡ç®—å™¨åŒ…å«å››ä¸ªç‹¬ç«‹æ¨¡å—:</p>
<ol>
<li><strong>æ—¥æœŸé—´éš”è®¡ç®—</strong>: è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°ã€å‘¨æ•°ã€æœˆæ•°ã€å¹´æ•°</li>
<li><strong>æ—¥æœŸåŠ å‡è®¡ç®—</strong>: åœ¨åŸºå‡†æ—¥æœŸä¸ŠåŠ å‡æŒ‡å®šæ—¶é—´å•ä½</li>
<li><strong>å¹´é¾„è®¡ç®—</strong>: ç²¾ç¡®è®¡ç®—å¹´é¾„(å¹´/æœˆ/æ—¥)</li>
<li><strong>å·¥ä½œæ—¥è®¡ç®—</strong>: ç»Ÿè®¡å·¥ä½œæ—¥ã€å‘¨æœ«å¤©æ•°</li>
</ol>
<h2 data-id="heading-1">äºŒã€æ—¥æœŸé—´éš”è®¡ç®—å®ç°</h2>
<h3 data-id="heading-2">2.1 æ ¸å¿ƒè®¡ç®—é€»è¾‘</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> dateDiff = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (!startDate.<span class="hljs-property">value</span> || !endDate.<span class="hljs-property">value</span>) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">days</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">weeks</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">months</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">years</span>: <span class="hljs-number">0</span> }
  }

  <span class="hljs-keyword">const</span> start = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(startDate.<span class="hljs-property">value</span>)
  <span class="hljs-keyword">const</span> end = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(endDate.<span class="hljs-property">value</span>)

  <span class="hljs-comment">// ç¡®ä¿å¼€å§‹æ—¥æœŸå°äºç»“æŸæ—¥æœŸ(è‡ªåŠ¨æ’åº)</span>
  <span class="hljs-keyword">const</span> [earlierDate, laterDate] = start &lt;= end ? [start, end] : [end, start]

  <span class="hljs-keyword">let</span> diffTime = laterDate.<span class="hljs-title function_">getTime</span>() - earlierDate.<span class="hljs-title function_">getTime</span>()

  <span class="hljs-comment">// å¦‚æœåŒ…å«ç»“æŸæ—¥æœŸ,å¢åŠ ä¸€å¤©</span>
  <span class="hljs-keyword">if</span> (includeEndDate.<span class="hljs-property">value</span>) {
    diffTime += <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>
  }

  <span class="hljs-keyword">const</span> diffDays = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(diffTime / (<span class="hljs-number">1000</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">24</span>))

  <span class="hljs-comment">// è®¡ç®—ç²¾ç¡®çš„æœˆæ•°å·®å¼‚</span>
  <span class="hljs-keyword">let</span> months = (laterDate.<span class="hljs-title function_">getFullYear</span>() - earlierDate.<span class="hljs-title function_">getFullYear</span>()) * <span class="hljs-number">12</span>
  months += laterDate.<span class="hljs-title function_">getMonth</span>() - earlierDate.<span class="hljs-title function_">getMonth</span>()

  <span class="hljs-comment">// å¦‚æœæ—¥æœŸä¸è¶³ä¸€ä¸ªæœˆ,å‡å»ä¸€ä¸ªæœˆ</span>
  <span class="hljs-keyword">if</span> (laterDate.<span class="hljs-title function_">getDate</span>() &lt; earlierDate.<span class="hljs-title function_">getDate</span>()) {
    months--
  }

  <span class="hljs-comment">// è®¡ç®—å¹´æ•°</span>
  <span class="hljs-keyword">const</span> years = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(months / <span class="hljs-number">12</span>)

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">days</span>: diffDays,
    <span class="hljs-attr">weeks</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(diffDays / <span class="hljs-number">7</span>),
    <span class="hljs-attr">months</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, months),
    <span class="hljs-attr">years</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, years)
  }
})
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>:</p>
<ol>
<li><strong>è‡ªåŠ¨æ’åº</strong>: æ— è®ºç”¨æˆ·è¾“å…¥é¡ºåº,è‡ªåŠ¨è¯†åˆ«è¾ƒæ—©å’Œè¾ƒæ™šçš„æ—¥æœŸ</li>
<li><strong>åŒ…å«ç»“æŸæ—¥æœŸ</strong>: å¯é€‰é¡¹,å½±å“å¤©æ•°è®¡ç®—(+1å¤©)</li>
<li><strong>ç²¾ç¡®æœˆæ•°</strong>: è€ƒè™‘æ—¥æœŸä¸è¶³ä¸€ä¸ªæœˆçš„æƒ…å†µ</li>
<li><strong>è´Ÿæ•°ä¿æŠ¤</strong>: ä½¿ç”¨ <code>Math.max(0, value)</code> é˜²æ­¢è´Ÿæ•°</li>
</ol>
<h3 data-id="heading-3">2.2 è¾…åŠ©å·¥å…·å‡½æ•°</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// äº¤æ¢å¼€å§‹å’Œç»“æŸæ—¥æœŸ</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">swapDates</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> temp = startDate.<span class="hljs-property">value</span>
  startDate.<span class="hljs-property">value</span> = endDate.<span class="hljs-property">value</span>
  endDate.<span class="hljs-property">value</span> = temp
}

<span class="hljs-comment">// è®¾ç½®ç»“æŸæ—¥æœŸä¸ºä»Šå¤©</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">setToday</span> = (<span class="hljs-params">type</span>) =&gt; {
  <span class="hljs-keyword">if</span> (!process.<span class="hljs-property">client</span>) <span class="hljs-keyword">return</span>
  <span class="hljs-keyword">const</span> today = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>().<span class="hljs-title function_">split</span>(<span class="hljs-string">'T'</span>)[<span class="hljs-number">0</span>]
  <span class="hljs-keyword">if</span> (type === <span class="hljs-string">'diff'</span>) {
    endDate.<span class="hljs-property">value</span> = today
  }
}
</code></pre>
<h2 data-id="heading-4">ä¸‰ã€æ—¥æœŸåŠ å‡è®¡ç®—å®ç°</h2>
<h3 data-id="heading-5">3.1 æ ¸å¿ƒè®¡ç®—é€»è¾‘</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> calculatedDate = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (!baseDate.<span class="hljs-property">value</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>
  }

  <span class="hljs-keyword">if</span> (!amount.<span class="hljs-property">value</span> || amount.<span class="hljs-property">value</span> === <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">return</span> baseDate.<span class="hljs-property">value</span>
  }

  <span class="hljs-keyword">const</span> base = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(baseDate.<span class="hljs-property">value</span>)
  <span class="hljs-comment">// æ ¹æ®æ“ä½œç±»å‹ç¡®å®šæ­£è´Ÿ</span>
  <span class="hljs-keyword">const</span> value = operation.<span class="hljs-property">value</span> === <span class="hljs-string">'add'</span> ? <span class="hljs-built_in">parseInt</span>(amount.<span class="hljs-property">value</span>) : -<span class="hljs-built_in">parseInt</span>(amount.<span class="hljs-property">value</span>)

  <span class="hljs-keyword">switch</span> (unit.<span class="hljs-property">value</span>) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'days'</span>:
      base.<span class="hljs-title function_">setDate</span>(base.<span class="hljs-title function_">getDate</span>() + value)
      <span class="hljs-keyword">break</span>
    <span class="hljs-keyword">case</span> <span class="hljs-string">'weeks'</span>:
      base.<span class="hljs-title function_">setDate</span>(base.<span class="hljs-title function_">getDate</span>() + (value * <span class="hljs-number">7</span>))
      <span class="hljs-keyword">break</span>
    <span class="hljs-keyword">case</span> <span class="hljs-string">'months'</span>:
      base.<span class="hljs-title function_">setMonth</span>(base.<span class="hljs-title function_">getMonth</span>() + value)
      <span class="hljs-keyword">break</span>
    <span class="hljs-keyword">case</span> <span class="hljs-string">'years'</span>:
      base.<span class="hljs-title function_">setFullYear</span>(base.<span class="hljs-title function_">getFullYear</span>() + value)
      <span class="hljs-keyword">break</span>
  }

  <span class="hljs-keyword">return</span> base.<span class="hljs-title function_">toISOString</span>().<span class="hljs-title function_">split</span>(<span class="hljs-string">'T'</span>)[<span class="hljs-number">0</span>]
})
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>:</p>
<ol>
<li><strong>æ“ä½œç¬¦å¤„ç†</strong>: å‡æ³•é€šè¿‡è´Ÿæ•°å®ç°,ç»Ÿä¸€ä½¿ç”¨åŠ æ³•é€»è¾‘</li>
<li><strong>åŸç”Ÿ Date API</strong>: åˆ©ç”¨ <code>setDate</code>/<code>setMonth</code>/<code>setFullYear</code> è‡ªåŠ¨å¤„ç†æº¢å‡º</li>
<li><strong>æ ¼å¼åŒ–è¾“å‡º</strong>: <code>toISOString().split('T')[0]</code> è·å– YYYY-MM-DD æ ¼å¼</li>
</ol>
<h3 data-id="heading-6">3.2 è·å–æ˜ŸæœŸå‡ </h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">getWeekday</span> = (<span class="hljs-params">dateStr</span>) =&gt; {
  <span class="hljs-keyword">if</span> (!dateStr) <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>
  <span class="hljs-keyword">const</span> weekdays = <span class="hljs-title function_">tm</span>(<span class="hljs-string">'dateCalculator.weekdays'</span>)
  <span class="hljs-keyword">if</span> (!weekdays || !<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(weekdays)) <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>
  <span class="hljs-keyword">const</span> date = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(dateStr)
  <span class="hljs-keyword">return</span> weekdays[date.<span class="hljs-title function_">getDay</span>()] || <span class="hljs-string">''</span>
}
</code></pre>
<p><strong>è¯´æ˜</strong>:</p>
<ul>
<li><code>getDay()</code> è¿”å› 0-6,å…¶ä¸­ 0 ä»£è¡¨å‘¨æ—¥</li>
<li>ä»å›½é™…åŒ–é…ç½®ä¸­è¯»å–æ˜ŸæœŸåç§°æ•°ç»„</li>
</ul>
<h2 data-id="heading-7">å››ã€å¹´é¾„è®¡ç®—å®ç°</h2>
<h3 data-id="heading-8">4.1 ç²¾ç¡®å¹´é¾„è®¡ç®—</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> age = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (!birthDate.<span class="hljs-property">value</span> || !ageCalculateDate.<span class="hljs-property">value</span>) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">years</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">months</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">days</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">totalDays</span>: <span class="hljs-number">0</span> }
  }

  <span class="hljs-keyword">const</span> birth = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(birthDate.<span class="hljs-property">value</span>)
  <span class="hljs-keyword">const</span> calculate = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(ageCalculateDate.<span class="hljs-property">value</span>)

  <span class="hljs-comment">// å¦‚æœå‡ºç”Ÿæ—¥æœŸæ™šäºè®¡ç®—æ—¥æœŸ,è¿”å›0</span>
  <span class="hljs-keyword">if</span> (birth &gt; calculate) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">years</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">months</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">days</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">totalDays</span>: <span class="hljs-number">0</span> }
  }

  <span class="hljs-comment">// è®¡ç®—ç²¾ç¡®å¹´é¾„</span>
  <span class="hljs-keyword">let</span> years = calculate.<span class="hljs-title function_">getFullYear</span>() - birth.<span class="hljs-title function_">getFullYear</span>()
  <span class="hljs-keyword">let</span> months = calculate.<span class="hljs-title function_">getMonth</span>() - birth.<span class="hljs-title function_">getMonth</span>()
  <span class="hljs-keyword">let</span> days = calculate.<span class="hljs-title function_">getDate</span>() - birth.<span class="hljs-title function_">getDate</span>()

  <span class="hljs-comment">// è°ƒæ•´å¤©æ•°</span>
  <span class="hljs-keyword">if</span> (days &lt; <span class="hljs-number">0</span>) {
    months--
    <span class="hljs-comment">// è·å–ä¸Šä¸ªæœˆçš„å¤©æ•°</span>
    <span class="hljs-keyword">const</span> lastMonth = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(calculate.<span class="hljs-title function_">getFullYear</span>(), calculate.<span class="hljs-title function_">getMonth</span>(), <span class="hljs-number">0</span>)
    days += lastMonth.<span class="hljs-title function_">getDate</span>()
  }

  <span class="hljs-comment">// è°ƒæ•´æœˆæ•°</span>
  <span class="hljs-keyword">if</span> (months &lt; <span class="hljs-number">0</span>) {
    years--
    months += <span class="hljs-number">12</span>
  }

  <span class="hljs-comment">// è®¡ç®—æ€»å¤©æ•°</span>
  <span class="hljs-keyword">const</span> totalDays = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((calculate.<span class="hljs-title function_">getTime</span>() - birth.<span class="hljs-title function_">getTime</span>()) / (<span class="hljs-number">1000</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">24</span>))

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">years</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, years),
    <span class="hljs-attr">months</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, months),
    <span class="hljs-attr">days</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, days),
    <span class="hljs-attr">totalDays</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, totalDays)
  }
})
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>:</p>
<ol>
<li><strong>é€çº§è°ƒæ•´</strong>: å…ˆè°ƒæ•´å¤©æ•°,å†è°ƒæ•´æœˆæ•°,æœ€åå¾—åˆ°å¹´æ•°</li>
<li><strong>å€Ÿä½é€»è¾‘</strong>: å¤©æ•°ä¸è¶³æ—¶ä»æœˆä»½å€Ÿä½,æœˆä»½ä¸è¶³æ—¶ä»å¹´ä»½å€Ÿä½</li>
<li><strong>ä¸Šæœˆå¤©æ•°</strong>: ä½¿ç”¨ <code>new Date(year, month, 0)</code> è·å–ä¸Šæœˆæœ€åä¸€å¤©</li>
<li><strong>æ€»å¤©æ•°</strong>: å•ç‹¬è®¡ç®—,ç”¨äºæ˜¾ç¤º"å·²æ´»xxå¤©"</li>
</ol>
<h3 data-id="heading-9">4.2 æ´¾ç”Ÿæ•°æ®è®¡ç®—</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ¨¡æ¿ä¸­ä½¿ç”¨</span>
<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(age.<span class="hljs-property">totalDays</span> / <span class="hljs-number">30.44</span>)  <span class="hljs-comment">// æ€»æœˆæ•°(å¹³å‡æ¯æœˆ30.44å¤©)</span>
<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(age.<span class="hljs-property">totalDays</span> / <span class="hljs-number">7</span>)      <span class="hljs-comment">// æ€»å‘¨æ•°</span>
age.<span class="hljs-property">totalDays</span>                      <span class="hljs-comment">// æ€»å¤©æ•°</span>
</code></pre>
<h2 data-id="heading-10">äº”ã€å·¥ä½œæ—¥è®¡ç®—å®ç°</h2>
<h3 data-id="heading-11">5.1 æ ¸å¿ƒè®¡ç®—é€»è¾‘</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> workDays = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (!workStartDate.<span class="hljs-property">value</span> || !workEndDate.<span class="hljs-property">value</span>) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">total</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">weekdays</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">weekends</span>: <span class="hljs-number">0</span> }
  }

  <span class="hljs-keyword">const</span> start = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(workStartDate.<span class="hljs-property">value</span>)
  <span class="hljs-keyword">const</span> end = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(workEndDate.<span class="hljs-property">value</span>)

  <span class="hljs-comment">// ç¡®ä¿å¼€å§‹æ—¥æœŸä¸å¤§äºç»“æŸæ—¥æœŸ</span>
  <span class="hljs-keyword">if</span> (start &gt; end) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">total</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">weekdays</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">weekends</span>: <span class="hljs-number">0</span> }
  }

  <span class="hljs-keyword">let</span> weekdays = <span class="hljs-number">0</span>
  <span class="hljs-keyword">let</span> weekends = <span class="hljs-number">0</span>
  <span class="hljs-keyword">const</span> current = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(start)

  <span class="hljs-comment">// åŒ…å«å¼€å§‹å’Œç»“æŸæ—¥æœŸ</span>
  <span class="hljs-keyword">while</span> (current &lt;= end) {
    <span class="hljs-keyword">const</span> dayOfWeek = current.<span class="hljs-title function_">getDay</span>()
    <span class="hljs-keyword">if</span> (dayOfWeek === <span class="hljs-number">0</span> || dayOfWeek === <span class="hljs-number">6</span>) { <span class="hljs-comment">// å‘¨æ—¥=0, å‘¨å…­=6</span>
      weekends++
    } <span class="hljs-keyword">else</span> {
      weekdays++
    }
    current.<span class="hljs-title function_">setDate</span>(current.<span class="hljs-title function_">getDate</span>() + <span class="hljs-number">1</span>)
  }

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">total</span>: weekdays + weekends,
    <span class="hljs-attr">weekdays</span>: excludeWeekends.<span class="hljs-property">value</span> ? weekdays : weekdays + weekends,
    weekends
  }
})
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>:</p>
<ol>
<li><strong>é€æ—¥éå†</strong>: ä»å¼€å§‹æ—¥æœŸå¾ªç¯åˆ°ç»“æŸæ—¥æœŸ,é€æ—¥åˆ¤æ–­</li>
<li><strong>æ˜ŸæœŸåˆ¤æ–­</strong>: <code>getDay()</code> è¿”å› 0(å‘¨æ—¥) æˆ– 6(å‘¨å…­) ä¸ºå‘¨æœ«</li>
<li><strong>å¯é€‰æ’é™¤</strong>: æ ¹æ® <code>excludeWeekends</code> å†³å®šæ˜¯å¦æ’é™¤å‘¨æœ«</li>
<li><strong>åŒ…å«è¾¹ç•Œ</strong>: åŒ…å«å¼€å§‹å’Œç»“æŸæ—¥æœŸ</li>
</ol>
<h2 data-id="heading-12">å…­ã€çŠ¶æ€ç®¡ç†</h2>
<h3 data-id="heading-13">6.1 å“åº”å¼çŠ¶æ€å®šä¹‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Tab åˆ‡æ¢</span>
<span class="hljs-keyword">const</span> activeTab = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'difference'</span>)

<span class="hljs-comment">// æ—¥æœŸé—´éš”è®¡ç®—</span>
<span class="hljs-keyword">const</span> startDate = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)
<span class="hljs-keyword">const</span> endDate = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)
<span class="hljs-keyword">const</span> includeEndDate = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)

<span class="hljs-comment">// æ—¥æœŸåŠ å‡è®¡ç®—</span>
<span class="hljs-keyword">const</span> baseDate = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)
<span class="hljs-keyword">const</span> operation = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'add'</span>)      <span class="hljs-comment">// 'add' | 'subtract'</span>
<span class="hljs-keyword">const</span> amount = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
<span class="hljs-keyword">const</span> unit = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'days'</span>)          <span class="hljs-comment">// 'days' | 'weeks' | 'months' | 'years'</span>

<span class="hljs-comment">// å·¥ä½œæ—¥è®¡ç®—</span>
<span class="hljs-keyword">const</span> workStartDate = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)
<span class="hljs-keyword">const</span> workEndDate = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)
<span class="hljs-keyword">const</span> excludeWeekends = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">true</span>)

<span class="hljs-comment">// å¹´é¾„è®¡ç®—</span>
<span class="hljs-keyword">const</span> birthDate = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)
<span class="hljs-keyword">const</span> ageCalculateDate = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)
</code></pre>
<h3 data-id="heading-14">6.2 åˆå§‹åŒ–é»˜è®¤å€¼</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (!process.<span class="hljs-property">client</span>) <span class="hljs-keyword">return</span>
  <span class="hljs-keyword">const</span> today = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>().<span class="hljs-title function_">split</span>(<span class="hljs-string">'T'</span>)[<span class="hljs-number">0</span>]
  startDate.<span class="hljs-property">value</span> = today
  endDate.<span class="hljs-property">value</span> = today
  baseDate.<span class="hljs-property">value</span> = today
  workStartDate.<span class="hljs-property">value</span> = today
  workEndDate.<span class="hljs-property">value</span> = today
  birthDate.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>  <span class="hljs-comment">// ä¸è®¾ç½®é»˜è®¤å‡ºç”Ÿæ—¥æœŸ</span>
  ageCalculateDate.<span class="hljs-property">value</span> = today
})
</code></pre>
<p><strong>è¯´æ˜</strong>:</p>
<ul>
<li>ä½¿ç”¨ <code>process.client</code> åˆ¤æ–­é¿å… SSR é—®é¢˜</li>
<li>å‡ºç”Ÿæ—¥æœŸä¸è®¾é»˜è®¤å€¼,é¿å…è¯¯å¯¼ç”¨æˆ·</li>
</ul>
<h2 data-id="heading-15">ä¸ƒã€æ—¥æœŸå¤„ç†æŠ€å·§</h2>
<h3 data-id="heading-16">7.1 Date å¯¹è±¡çš„è‡ªåŠ¨æº¢å‡ºå¤„ç†</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// JavaScript çš„ Date ä¼šè‡ªåŠ¨å¤„ç†æº¢å‡º</span>
<span class="hljs-keyword">const</span> date = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2024-01-31'</span>)
date.<span class="hljs-title function_">setMonth</span>(date.<span class="hljs-title function_">getMonth</span>() + <span class="hljs-number">1</span>)  <span class="hljs-comment">// è‡ªåŠ¨å˜ä¸º 2024-03-02(2æœˆæ²¡æœ‰31æ—¥)</span>
</code></pre>
<h3 data-id="heading-17">7.2 è·å–ä¸Šæœˆæœ€åä¸€å¤©</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å°†æ—¥æœŸè®¾ä¸º0,ä¼šè‡ªåŠ¨å›é€€åˆ°ä¸Šæœˆæœ€åä¸€å¤©</span>
<span class="hljs-keyword">const</span> lastDayOfLastMonth = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(year, month, <span class="hljs-number">0</span>)
</code></pre>
<h3 data-id="heading-18">7.3 æ—¥æœŸæ ¼å¼åŒ–</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ISO æ ¼å¼è½¬ YYYY-MM-DD</span>
<span class="hljs-keyword">const</span> dateStr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>().<span class="hljs-title function_">split</span>(<span class="hljs-string">'T'</span>)[<span class="hljs-number">0</span>]
</code></pre>
<h2 data-id="heading-19">å…«ã€æ ¸å¿ƒç®—æ³•æ€»ç»“</h2>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">æ—¥æœŸé—´éš”è®¡ç®—:</span>
  æ—¶é—´æˆ³ç›¸å‡ â†’ è½¬æ¢ä¸ºå¤©æ•°
  å¹´æœˆæ—¥é€çº§è®¡ç®— â†’ å¤„ç†å€Ÿä½

<span class="hljs-section">æ—¥æœŸåŠ å‡è®¡ç®—:</span>
  åŸç”Ÿ Date API â†’ è‡ªåŠ¨å¤„ç†æº¢å‡º

<span class="hljs-section">å¹´é¾„è®¡ç®—:</span>
  å¹´æœˆæ—¥åˆ†åˆ«ç›¸å‡ â†’ é€çº§è°ƒæ•´å€Ÿä½

<span class="hljs-section">å·¥ä½œæ—¥è®¡ç®—:</span>
  é€æ—¥éå† â†’ åˆ¤æ–­æ˜ŸæœŸå‡  â†’ ç»Ÿè®¡åˆ†ç±»
</code></pre>
<p><strong>æ ¸å¿ƒåŸåˆ™</strong>:</p>
<ol>
<li><strong>åˆ©ç”¨åŸç”Ÿ API</strong>: Date å¯¹è±¡çš„è‡ªåŠ¨æº¢å‡ºå¤„ç†</li>
<li><strong>è¾¹ç•Œå¤„ç†</strong>: é˜²æ­¢è´Ÿæ•°ã€ç©ºå€¼ã€éæ³•æ—¥æœŸ</li>
<li><strong>ç²¾ç¡®è®¡ç®—</strong>: è€ƒè™‘æœˆä»½å¤©æ•°å·®å¼‚ã€é—°å¹´ç­‰ç‰¹æ®Šæƒ…å†µ</li>
<li><strong>ç”¨æˆ·å‹å¥½</strong>: è‡ªåŠ¨æ’åºã€å¯é€‰é…ç½®ã€å®æ—¶è®¡ç®—</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[FLIP åŠ¨ç”»ç­–ç•¥ï¼šè®©ä½ çš„å¸ƒå±€å˜åŒ–æ›´åŠ ä¸æ»‘]]></title>    <link>https://juejin.cn/post/7599496293174460435</link>    <guid>https://juejin.cn/post/7599496293174460435</guid>    <pubDate>2026-01-26T13:20:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599496293174460435" data-draft-id="7599502282601955391" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="FLIP åŠ¨ç”»ç­–ç•¥ï¼šè®©ä½ çš„å¸ƒå±€å˜åŒ–æ›´åŠ ä¸æ»‘"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-26T13:20:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç­‰é£èµ·881"/> <meta itemprop="url" content="https://juejin.cn/user/3162618545319111"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            FLIP åŠ¨ç”»ç­–ç•¥ï¼šè®©ä½ çš„å¸ƒå±€å˜åŒ–æ›´åŠ ä¸æ»‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3162618545319111/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç­‰é£èµ·881
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T13:20:28.000Z" title="Mon Jan 26 2026 13:20:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å†™äº¤äº’åŠ¨æ•ˆæ—¶ï¼Œæœ€å®¹æ˜“é‡åˆ°ä¸€ç§å°´å°¬ï¼š<strong>å¸ƒå±€å˜äº†ï¼ŒåŠ¨ç”»å´å¡äº†</strong>ã€‚</p>
<p>æ¯”å¦‚ï¼šåˆ—è¡¨æ’åºã€å¡ç‰‡å±•å¼€ã€Tab åˆ‡æ¢ã€æŒ‰é’®æ»‘å—ç§»åŠ¨â€¦â€¦å¦‚æœæˆ‘ä»¬ç›´æ¥å»åŠ¨ç”» <code>top/left/width/height</code>ï¼Œæµè§ˆå™¨å¾€å¾€è¦é¢‘ç¹ <strong>Layoutï¼ˆé‡æ’ï¼‰â†’ Paintï¼ˆé‡ç»˜ï¼‰</strong>ï¼Œè½»åˆ™æ‰å¸§ï¼Œé‡åˆ™â€œæ•´é¡µæŠ–â€ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« æˆ‘ä»¬ç”¨ä¸€ä¸ªç®€å•ä½†éå¸¸å·¥ç¨‹åŒ–çš„ç­–ç•¥â€”â€”<strong>FLIP</strong>ï¼ŒæŠŠâ€œæ˜‚è´µçš„å¸ƒå±€åŠ¨ç”»â€è½¬æˆâ€œä¾¿å®œçš„ transform åŠ¨ç”»â€ï¼Œè®©åŠ¨æ•ˆåˆç¨³åˆé¡ºã€‚ğŸ’¡</p>
<hr/>
<h2 data-id="heading-0">ç›®å½•</h2>
<ul>
<li><a href="#flip-%E5%8A%A8%E7%94%BB%E7%AD%96%E7%95%A5%E8%AE%A9%E4%BD%A0%E7%9A%84%E5%B8%83%E5%B1%80%E5%8F%98%E5%8C%96%E6%9B%B4%E5%8A%A0%E4%B8%9D%E6%BB%91" title="#flip-%E5%8A%A8%E7%94%BB%E7%AD%96%E7%95%A5%E8%AE%A9%E4%BD%A0%E7%9A%84%E5%B8%83%E5%B1%80%E5%8F%98%E5%8C%96%E6%9B%B4%E5%8A%A0%E4%B8%9D%E6%BB%91">FLIP åŠ¨ç”»ç­–ç•¥ï¼šè®©ä½ çš„å¸ƒå±€å˜åŒ–æ›´åŠ ä¸æ»‘</a>
<ul>
<li><a href="#%E7%9B%AE%E5%BD%95" title="#%E7%9B%AE%E5%BD%95">ç›®å½•</a></li>
<li><a href="#%E4%BB%80%E4%B9%88%E6%98%AF-flip" title="#%E4%BB%80%E4%B9%88%E6%98%AF-flip">ä»€ä¹ˆæ˜¯ FLIPï¼Ÿ</a></li>
<li><a href="#flip-%E5%9B%9B%E6%AD%A5%E6%B3%95first--last--invert--play" title="#flip-%E5%9B%9B%E6%AD%A5%E6%B3%95first--last--invert--play">FLIP å››æ­¥æ³•ï¼šFirst / Last / Invert / Play</a></li>
<li><a href="#%E4%B8%80%E4%B8%AA%E6%9C%80%E5%B0%8F%E5%8F%AF%E8%BF%90%E8%A1%8C%E7%A4%BA%E4%BE%8B" title="#%E4%B8%80%E4%B8%AA%E6%9C%80%E5%B0%8F%E5%8F%AF%E8%BF%90%E8%A1%8C%E7%A4%BA%E4%BE%8B">ä¸€ä¸ªæœ€å°å¯è¿è¡Œç¤ºä¾‹</a></li>
<li><a href="#%E5%AE%9E%E6%88%98%E7%94%A8-flip-%E5%81%9A%E4%B8%80%E4%B8%AA-switch-%E6%BB%91%E5%9D%97" title="#%E5%AE%9E%E6%88%98%E7%94%A8-flip-%E5%81%9A%E4%B8%80%E4%B8%AA-switch-%E6%BB%91%E5%9D%97">å®æˆ˜ï¼šç”¨ FLIP åšä¸€ä¸ª switch æ»‘å—</a></li>
<li><a href="#%E5%B0%81%E8%A3%85%E6%8A%8A-flip-%E5%8F%98%E6%88%90%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0" title="#%E5%B0%81%E8%A3%85%E6%8A%8A-flip-%E5%8F%98%E6%88%90%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0">å°è£…ï¼šæŠŠ FLIP å˜æˆä¸€ä¸ªå‡½æ•°</a></li>
<li><a href="#%E4%B8%BA%E4%BB%80%E4%B9%88-flip-%E5%80%BC%E5%BE%97%E6%8A%98%E8%85%BE" title="#%E4%B8%BA%E4%BB%80%E4%B9%88-flip-%E5%80%BC%E5%BE%97%E6%8A%98%E8%85%BE">ä¸ºä»€ä¹ˆ FLIP å€¼å¾—â€œæŠ˜è…¾â€ï¼Ÿ</a></li>
<li><a href="#%E6%8B%93%E5%B1%95waapi-%E4%B8%8E%E5%9B%BE%E5%B1%82%E6%8F%90%E5%8D%87" title="#%E6%8B%93%E5%B1%95waapi-%E4%B8%8E%E5%9B%BE%E5%B1%82%E6%8F%90%E5%8D%87">æ‹“å±•ï¼šWAAPI ä¸å›¾å±‚æå‡</a>
<ul>
<li><a href="#elementanimatewaapi" title="#elementanimatewaapi">element.animate()ï¼ˆWAAPIï¼‰</a></li>
<li><a href="#%E5%9B%BE%E5%B1%82%E6%8F%90%E5%8D%87layer-promotion" title="#%E5%9B%BE%E5%B1%82%E6%8F%90%E5%8D%87layer-promotion">å›¾å±‚æå‡ï¼ˆLayer Promotionï¼‰</a></li>
</ul>
</li>
<li><a href="#%E5%B0%8F%E7%BB%93" title="#%E5%B0%8F%E7%BB%93">å°ç»“</a></li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-1">ä»€ä¹ˆæ˜¯ FLIPï¼Ÿ</h2>
<p><strong>FLIP</strong> æ˜¯ <strong>First / Last / Invert / Play</strong> çš„ç¼©å†™ï¼Œæ˜¯ä¸€ç§å®ç° <strong>é«˜æ€§èƒ½å¸ƒå±€è¿‡æ¸¡åŠ¨ç”»</strong> çš„ç­–ç•¥ã€‚</p>
<p>æ ¸å¿ƒæ€è·¯ä¸€å¥è¯æ¦‚æ‹¬ï¼š</p>
<blockquote>
<p>âœ… æˆ‘ä»¬å…ˆè®©å¸ƒå±€â€œç›´æ¥å˜åˆ°æœ€ç»ˆæ€â€ï¼Œå†ç”¨ <code>transform</code> æŠŠå…ƒç´ â€œæ‹‰å›èµ·ç‚¹â€ï¼Œæœ€åæ’­æ”¾ <code>transform</code> å›åˆ° 0 çš„åŠ¨ç”»ã€‚</p>
</blockquote>
<p>ä¸ºä»€ä¹ˆè¿™æ ·åšæ›´å¿«ï¼Ÿâš ï¸</p>
<ul>
<li>æ”¹ <code>width/height/top/left/margin</code> å¾€å¾€ä¼šè§¦å‘ <strong>Layout</strong>ï¼ˆå¹¶å¯èƒ½è¿å¸¦æ•´ç‰‡åŒºåŸŸé‡ç»˜ï¼‰ã€‚</li>
<li>æ”¹ <code>transform/opacity</code> é€šå¸¸åªèµ° <strong>Compositeï¼ˆåˆæˆï¼‰</strong>ï¼Œæ›´å¤šç”± GPU å‚ä¸ï¼Œå¸§ç‡æ›´ç¨³ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-2">FLIP å››æ­¥æ³•ï¼šFirst / Last / Invert / Play</h2>
<p>æˆ‘ä»¬æŠŠå®ƒæ‹†æˆå››æ­¥ï¼Œå†™ä»£ç æ—¶åŸºæœ¬å°±æ˜¯ç…§ç€è¿™ä¸ªæµç¨‹èµ°ï¼š</p>
<ol>
<li><strong>Firstï¼ˆåˆå§‹æ€ï¼‰</strong>ï¼šè¯»å–å…ƒç´ å½“å‰å‡ ä½•ä¿¡æ¯ï¼ˆä½ç½®/å°ºå¯¸ï¼‰ã€‚</li>
<li><strong>Lastï¼ˆæœ€ç»ˆæ€ï¼‰</strong>ï¼šå…ˆæ›´æ–° DOM çŠ¶æ€/å¸ƒå±€ï¼Œå†è¯»å–æ›´æ–°åçš„å‡ ä½•ä¿¡æ¯ã€‚</li>
<li><strong>Invertï¼ˆåè½¬ï¼‰</strong>ï¼šè®¡ç®—ä» First åˆ° Last çš„å·®å€¼ï¼Œç”¨ <code>transform</code> æŠŠå…ƒç´ â€œåå‘æŒªå›å»â€ã€‚</li>
<li><strong>Playï¼ˆæ’­æ”¾ï¼‰</strong>ï¼šåœ¨ä¸‹ä¸€å¸§ç§»é™¤åå‘ transformï¼Œè®©å®ƒè‡ªç„¶è¿‡æ¸¡åˆ° <code>transform: none</code>ã€‚</li>
</ol>
<p>ğŸ’¡å°æç¤ºï¼š<code>getBoundingClientRect()</code> ä¼šè§¦å‘ä¸€æ¬¡å¸ƒå±€è¯»å–ï¼ˆLayoutï¼‰ï¼Œå› æ­¤ FLIP çš„å…³é”®æ˜¯æŠŠè¯»å–æ¬¡æ•°æ§åˆ¶åœ¨å¿…è¦çš„ä¸¤æ¬¡ï¼ˆFirst + Lastï¼‰ã€‚</p>
<hr/>
<h2 data-id="heading-3">ä¸€ä¸ªæœ€å°å¯è¿è¡Œç¤ºä¾‹</h2>
<p>å…ˆæ¥ä¸€ä¸ªâ€œèƒ½è·‘å°±è¡Œâ€çš„ FLIPï¼Œå¸®åŠ©å¤§å®¶å»ºç«‹ç›´è§‰ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"box"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width:100px; height:100px; background:#2563eb; position:absolute;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"moveBtn"</span>&gt;</span>Move Box<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> box = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"box"</span>)
<span class="hljs-keyword">const</span> moveBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"moveBtn"</span>)

<span class="hljs-keyword">let</span> toggled = <span class="hljs-literal">false</span>
moveBtn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"click"</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// 1) First</span>
  <span class="hljs-keyword">const</span> firstRect = box.<span class="hljs-title function_">getBoundingClientRect</span>()

  <span class="hljs-comment">// 2) Stateï¼šç›´æ¥åˆ‡åˆ°æœ€ç»ˆå¸ƒå±€</span>
  toggled = !toggled
  box.<span class="hljs-property">style</span>.<span class="hljs-property">marginLeft</span> = toggled ? <span class="hljs-string">"200px"</span> : <span class="hljs-string">"0px"</span>
  box.<span class="hljs-property">style</span>.<span class="hljs-property">marginTop</span> = toggled ? <span class="hljs-string">"200px"</span> : <span class="hljs-string">"0px"</span>

  <span class="hljs-comment">// 3) Last</span>
  <span class="hljs-keyword">const</span> lastRect = box.<span class="hljs-title function_">getBoundingClientRect</span>()

  <span class="hljs-comment">// 4) Invert</span>
  <span class="hljs-keyword">const</span> dx = firstRect.<span class="hljs-property">left</span> - lastRect.<span class="hljs-property">left</span>
  <span class="hljs-keyword">const</span> dy = firstRect.<span class="hljs-property">top</span> - lastRect.<span class="hljs-property">top</span>

  box.<span class="hljs-property">style</span>.<span class="hljs-property">transition</span> = <span class="hljs-string">"none"</span>
  box.<span class="hljs-property">style</span>.<span class="hljs-property">transform</span> = <span class="hljs-string">`translate(<span class="hljs-subst">${dx}</span>px, <span class="hljs-subst">${dy}</span>px)`</span>

  <span class="hljs-comment">// 5) Play</span>
  <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> {
    box.<span class="hljs-property">style</span>.<span class="hljs-property">transition</span> = <span class="hljs-string">"transform 0.5s ease"</span>
    box.<span class="hljs-property">style</span>.<span class="hljs-property">transform</span> = <span class="hljs-string">"translate(0, 0)"</span>
  })
})
</code></pre>
<p>âœ… ä½ ä¼šå‘ç°ï¼šæˆ‘ä»¬å¹¶æ²¡æœ‰â€œåŠ¨ç”»å¸ƒå±€å±æ€§â€ï¼Œè€Œæ˜¯è®©å¸ƒå±€ç¬é—´å®Œæˆï¼Œç„¶ååªåŠ¨ç”» <code>transform</code>ã€‚</p>
<hr/>
<h2 data-id="heading-4">å®æˆ˜ï¼šç”¨ FLIP åšä¸€ä¸ª switch æ»‘å—</h2>
<p>æ¥ä¸‹æ¥ä¸Šç‚¹æ›´åƒä¸šåŠ¡çš„ï¼šä¸€ä¸ª switch æŒ‰é’®ã€‚</p>
<p>ç‚¹å‡»æ—¶ï¼Œå®¹å™¨çš„ <code>justify-content</code> ä» <code>flex-start</code> åˆ‡åˆ° <code>flex-end</code>ï¼Œ<strong>æ»‘å—ä¼šè·Ÿç€å¸ƒå±€è·³åˆ°å¦ä¸€ä¾§</strong>ã€‚FLIP çš„ç›®æ ‡æ˜¯ï¼šè®©å®ƒâ€œçœ‹èµ·æ¥ä¸æ˜¯è·³è¿‡å»çš„ï¼Œè€Œæ˜¯æ»‘è¿‡å»çš„â€ã€‚âœ…</p>
<p>ä¸ºäº†å†™æ ·å¼æ›´çˆ½ï¼Œæˆ‘è¿™é‡Œç”¨ <strong>TailwindCSS</strong>ï¼ˆä½ ä¹Ÿå¯ä»¥ç”¨çº¯ CSSï¼‰ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"h-screen flex justify-center items-center"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
    <span class="hljs-attr">id</span>=<span class="hljs-string">"toggleBtn"</span>
    <span class="hljs-attr">class</span>=<span class="hljs-string">"w-38 h-20 rounded-full bg-black p-2 flex items-center justify-start cursor-pointer transition-colors duration-300"</span>
  &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"indicator"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-white size-16 rounded-full shadow-md"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> toggleBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"toggleBtn"</span>)
<span class="hljs-keyword">const</span> indicator = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"indicator"</span>)

toggleBtn.<span class="hljs-property">onclick</span> = <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// First</span>
  <span class="hljs-keyword">const</span> firstRect = indicator.<span class="hljs-title function_">getBoundingClientRect</span>()

  <span class="hljs-comment">// Stateï¼šæ›´æ–°å¸ƒå±€/æ ·å¼ï¼ˆæ­¤å¤„ä¼šå¯¼è‡´æ»‘å—çš„æœ€ç»ˆä½ç½®å˜åŒ–ï¼‰</span>
  <span class="hljs-keyword">const</span> currentJustify = toggleBtn.<span class="hljs-property">style</span>.<span class="hljs-property">justifyContent</span> || <span class="hljs-title function_">getComputedStyle</span>(toggleBtn).<span class="hljs-property">justifyContent</span>
  <span class="hljs-keyword">const</span> isStart = currentJustify === <span class="hljs-string">"flex-start"</span> || currentJustify === <span class="hljs-string">"normal"</span>

  toggleBtn.<span class="hljs-property">style</span>.<span class="hljs-property">justifyContent</span> = isStart ? <span class="hljs-string">"flex-end"</span> : <span class="hljs-string">"flex-start"</span>
  toggleBtn.<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">"bg-black"</span>, !isStart)
  toggleBtn.<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">"bg-green-500"</span>, isStart)

  <span class="hljs-comment">// Last</span>
  <span class="hljs-keyword">const</span> lastRect = indicator.<span class="hljs-title function_">getBoundingClientRect</span>()

  <span class="hljs-comment">// Invert</span>
  <span class="hljs-keyword">const</span> dx = firstRect.<span class="hljs-property">left</span> - lastRect.<span class="hljs-property">left</span>
  <span class="hljs-keyword">const</span> dy = firstRect.<span class="hljs-property">top</span> - lastRect.<span class="hljs-property">top</span>

  <span class="hljs-comment">// Playï¼šç”¨ WAAPI æ’­æ”¾ transform</span>
  indicator.<span class="hljs-title function_">animate</span>([{ <span class="hljs-attr">transform</span>: <span class="hljs-string">`translate(<span class="hljs-subst">${dx}</span>px, <span class="hljs-subst">${dy}</span>px)`</span> }, { <span class="hljs-attr">transform</span>: <span class="hljs-string">"translate(0, 0)"</span> }], {
    <span class="hljs-attr">duration</span>: <span class="hljs-number">300</span>,
    <span class="hljs-attr">easing</span>: <span class="hljs-string">"cubic-bezier(0.34, 1.56, 0.64, 1)"</span>,
  })
}
</code></pre>
<p>ğŸ’¡è¿™é‡Œæˆ‘ä»¬ç”¨çš„æ˜¯åŸç”Ÿ <code>element.animate()</code>ï¼ˆWAAPIï¼‰ã€‚å®ƒå¾ˆé€‚åˆâ€œçŸ­å°ã€ä¸€æ¬¡æ€§ã€æ— éœ€å†™ CSS keyframesâ€çš„åŠ¨æ•ˆã€‚</p>
<hr/>
<h2 data-id="heading-5">å°è£…ï¼šæŠŠ FLIP å˜æˆä¸€ä¸ªå‡½æ•°</h2>
<p>å½“ä½ åœ¨é¡¹ç›®é‡Œå†™ç¬¬äºŒæ¬¡ã€ç¬¬ä¸‰æ¬¡ FLIP æ—¶ï¼Œå°±ä¼šå¼€å§‹å«Œå®ƒå•°å—¦ã€‚</p>
<p>æ›´å·¥ç¨‹åŒ–çš„åšæ³•æ˜¯ï¼šæŠŠ First/Last/Invert/Play å°è£…èµ·æ¥ï¼Œä¸šåŠ¡ä¾§åªå…³å¿ƒâ€œæ€ä¹ˆæ›´æ–°çŠ¶æ€â€ã€‚âœ…</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/**
 * FLIP åŠ¨ç”»è¾…åŠ©å‡½æ•°
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Element</span>} <span class="hljs-variable">dom</span> - éœ€è¦æ‰§è¡ŒåŠ¨ç”»çš„ DOM å…ƒç´ 
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">() =&gt; void</span>} <span class="hljs-variable">updateState</span> - æ›´æ–° DOM çŠ¶æ€çš„å›è°ƒå‡½æ•°ï¼ˆä¿®æ”¹æ ·å¼ã€DOM ç»“æ„ç­‰ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number | KeyframeAnimationOptions</span>} [options] - åŠ¨ç”»é…ç½®ï¼Œæ”¯æŒä¼ å…¥æ•°å­—(duration)æˆ–å¯¹è±¡
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Animation | void</span>} - è¿”å› Animationï¼Œè‹¥æ— éœ€åŠ¨ç”»åˆ™è¿”å› void
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">flipAnimate</span>(<span class="hljs-params">dom, updateState, options = {}</span>) {
  <span class="hljs-keyword">const</span> defaultOptions = {
    <span class="hljs-attr">duration</span>: <span class="hljs-number">300</span>,
    <span class="hljs-attr">easing</span>: <span class="hljs-string">"cubic-bezier(0.34, 1.56, 0.64, 1)"</span>,
    <span class="hljs-attr">fill</span>: <span class="hljs-string">"both"</span>,
  }

  <span class="hljs-keyword">const</span> finalOptions =
    <span class="hljs-keyword">typeof</span> options === <span class="hljs-string">"number"</span> ? { ...defaultOptions, <span class="hljs-attr">duration</span>: options } : { ...defaultOptions, ...options }

  <span class="hljs-comment">// First</span>
  <span class="hljs-keyword">const</span> firstRect = dom.<span class="hljs-title function_">getBoundingClientRect</span>()

  <span class="hljs-comment">// State</span>
  <span class="hljs-title function_">updateState</span>()

  <span class="hljs-comment">// Last</span>
  <span class="hljs-keyword">const</span> lastRect = dom.<span class="hljs-title function_">getBoundingClientRect</span>()

  <span class="hljs-comment">// Invert</span>
  <span class="hljs-keyword">const</span> dx = firstRect.<span class="hljs-property">left</span> - lastRect.<span class="hljs-property">left</span>
  <span class="hljs-keyword">const</span> dy = firstRect.<span class="hljs-property">top</span> - lastRect.<span class="hljs-property">top</span>
  <span class="hljs-keyword">if</span> (dx === <span class="hljs-number">0</span> &amp;&amp; dy === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>

  <span class="hljs-comment">// Play</span>
  <span class="hljs-keyword">return</span> dom.<span class="hljs-title function_">animate</span>([{ <span class="hljs-attr">transform</span>: <span class="hljs-string">`translate(<span class="hljs-subst">${dx}</span>px, <span class="hljs-subst">${dy}</span>px)`</span> }, { <span class="hljs-attr">transform</span>: <span class="hljs-string">"translate(0, 0)"</span> }], finalOptions)
}
</code></pre>
<p>å›åˆ°åˆšæ‰çš„ switchï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸šåŠ¡ä»£ç å‹ç¼©å¾—éå¸¸å¹²å‡€ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> toggleBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"toggleBtn"</span>)
<span class="hljs-keyword">const</span> indicator = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"indicator"</span>)

toggleBtn.<span class="hljs-property">onclick</span> = <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">flipAnimate</span>(indicator, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> currentJustify = toggleBtn.<span class="hljs-property">style</span>.<span class="hljs-property">justifyContent</span> || <span class="hljs-title function_">getComputedStyle</span>(toggleBtn).<span class="hljs-property">justifyContent</span>
    <span class="hljs-keyword">const</span> isStart = currentJustify === <span class="hljs-string">"flex-start"</span> || currentJustify === <span class="hljs-string">"normal"</span>

    toggleBtn.<span class="hljs-property">style</span>.<span class="hljs-property">justifyContent</span> = isStart ? <span class="hljs-string">"flex-end"</span> : <span class="hljs-string">"flex-start"</span>
    toggleBtn.<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">"bg-black"</span>, !isStart)
    toggleBtn.<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">"bg-green-500"</span>, isStart)
  })
}
</code></pre>
<p>âš ï¸æ³¨æ„ï¼šåŸè‰ç¨¿é‡Œè¿™é‡Œä¼ çš„æ˜¯ <code>btn</code>ï¼Œä½†å˜é‡å¹¶ä¸å­˜åœ¨ï¼›å®é™…åº”è¯¥å¯¹â€œä¼šç§»åŠ¨çš„å…ƒç´ â€æ‰§è¡Œ FLIPï¼Œä¹Ÿå°±æ˜¯ <code>indicator</code>ã€‚</p>
<hr/>
<h2 data-id="heading-6">ä¸ºä»€ä¹ˆ FLIP å€¼å¾—â€œæŠ˜è…¾â€ï¼Ÿ</h2>
<p>å¤§å®¶å¯èƒ½ä¼šæƒ³ï¼š</p>
<blockquote>
<p>â€œæˆ‘å°±åŠ¨ç”»ä¸€ä¸‹ <code>height</code>ï¼ŒçœŸçš„æœ‰è¿™ä¹ˆä¸¥é‡å—ï¼Ÿâ€</p>
</blockquote>
<p>åœ¨ç®€å•é¡µé¢å¯èƒ½è¿˜å¥½ï¼Œä½†ä¸€æ—¦è¿›å…¥çœŸå®ä¸šåŠ¡ï¼ˆåˆ—è¡¨ã€ç€‘å¸ƒæµã€å¤æ‚ç»„ä»¶æ ‘ï¼‰ï¼Œå¸ƒå±€åŠ¨ç”»çš„æˆæœ¬ä¼šè¿…é€Ÿæ”¾å¤§ï¼š</p>
<ul>
<li><strong>æµè§ˆå™¨å‹åŠ›å¤§</strong>ï¼šæ¯ä¸€å¸§éƒ½å¯èƒ½è§¦å‘ Layoutï¼Œä¸»çº¿ç¨‹å¿™åˆ°é£èµ·ã€‚</li>
<li><strong>å½±å“é¢æ›´å¤§</strong>ï¼šå…ƒç´ å°ºå¯¸å˜åŒ–ä¼šæŒ¤å‹å…„å¼ŸèŠ‚ç‚¹ï¼Œå¯¼è‡´æ›´å¤šåŒºåŸŸå‚ä¸é‡æ’/é‡ç»˜ã€‚</li>
</ul>
<p>è€Œ FLIP çš„ä¼˜åŠ¿å¾ˆæ˜ç¡® âœ…ï¼š</p>
<ul>
<li>åŠ¨ç”»è¿‡ç¨‹ä¸»è¦æ˜¯ <strong>transform åˆæˆ</strong>ï¼Œå¯¹ä¸»çº¿ç¨‹æ›´å‹å¥½ã€‚</li>
<li>æµè§ˆå™¨é€šå¸¸åªéœ€è¦åœ¨åŠ¨ç”»å‰åå„è¯»å–ä¸€æ¬¡å¸ƒå±€ï¼ˆFirst + Lastï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-7">æ‹“å±•ï¼šWAAPI ä¸å›¾å±‚æå‡</h2>
<h3 data-id="heading-8">element.animate()ï¼ˆWAAPIï¼‰</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FElement%2Fanimate" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/animate" ref="nofollow noopener noreferrer"><code>element.animate()</code></a> æ˜¯åŸç”Ÿ <strong>Web Animations APIï¼ˆWAAPIï¼‰</strong> çš„æ ¸å¿ƒå…¥å£ã€‚</p>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>âœ… åŠ¨ç”»ç”± JS æ§åˆ¶ï¼ˆæ¯”å¦‚ FLIP ç®—å‡ºæ¥çš„ <code>dx/dy</code>ï¼‰</li>
<li>âœ… ä¸æƒ³å†™ CSS <code>@keyframes</code></li>
<li>âœ… éœ€è¦æ‹¿åˆ° <code>Animation</code> å¯¹è±¡ï¼ˆæš‚åœ/å–æ¶ˆ/finished ç­‰ï¼‰</li>
</ul>
<p>å¸¸è§ optionsï¼š</p>
<ul>
<li><code>duration</code>ï¼šæŒç»­æ—¶é—´ï¼ˆmsï¼‰</li>
<li><code>easing</code>ï¼šç¼“åŠ¨ï¼ˆå¦‚ <code>cubic-bezier(...)</code>ï¼‰</li>
<li><code>fill</code>ï¼šç»“æŸçŠ¶æ€ï¼ˆ<code>forwards/backwards/both/none</code>ï¼‰</li>
<li><code>iterations</code> / <code>delay</code> / <code>direction</code> / <code>playbackRate</code></li>
</ul>
<h3 data-id="heading-9">å›¾å±‚æå‡ï¼ˆLayer Promotionï¼‰</h3>
<p><strong>å›¾å±‚æå‡</strong>å¯ä»¥ç†è§£æˆï¼šæµè§ˆå™¨æŠŠæŸä¸ªå…ƒç´ â€œå•ç‹¬æ‹åˆ°ä¸€ä¸ªå¯åˆæˆå›¾å±‚â€ï¼Œè®©å®ƒçš„ <code>transform/opacity</code> åŠ¨ç”»æ›´å®¹æ˜“ç¨³å®šåœ¨é«˜å¸§ç‡ã€‚</p>
<p>ä¸€ä¸ªé€šä¿—ç±»æ¯” ğŸ’¡ï¼š</p>
<ul>
<li>èƒŒæ™¯ç”»åœ¨çº¸ä¸Š</li>
<li>è§’è‰²ç”»åœ¨é€æ˜èƒ¶ç‰‡ä¸Š</li>
<li>ç§»åŠ¨è§’è‰²æ—¶ï¼Œåªç§»åŠ¨èƒ¶ç‰‡ï¼Œä¸ç”¨é‡ç”»èƒŒæ™¯</li>
</ul>
<p>å¸¸è§è§¦å‘æ–¹å¼ï¼š</p>
<ul>
<li><code>transform: translateZ(0)</code> / <code>translate3d(0,0,0)</code></li>
<li><code>will-change: transform</code>ï¼ˆâš ï¸æŒ‰éœ€ä½¿ç”¨ï¼Œåˆ«ç»™ä¸€å †å…ƒç´ å¸¸é©»ï¼‰</li>
<li>å…ƒç´ æ­£åœ¨è¿›è¡Œ <code>transform/opacity</code> åŠ¨ç”»ï¼ˆæµè§ˆå™¨å¯èƒ½è‡ªåŠ¨æå‡ï¼‰</li>
</ul>
<p>ä¸ºä»€ä¹ˆå°è£…é‡Œè¦åš <code>dx === 0 &amp;&amp; dy === 0</code> çš„æå‰è¿”å›ï¼Ÿâœ…</p>
<ul>
<li>å¦‚æœæ˜æ˜æ²¡åŠ¨è¿˜å¼ºè¡ŒåŠ¨ç”»ï¼Œæµè§ˆå™¨å¯èƒ½ä¾ç„¶åˆ›å»ºåˆæˆå±‚ã€åˆ†é…æ˜¾å­˜ã€åšæ— æ„ä¹‰çš„åˆæˆå¼€é”€ã€‚</li>
<li>æå‰è¿”å›èƒ½é¿å…â€œä¸å¿…è¦çš„å›¾å±‚æå‡â€ï¼Œè®©æ€§èƒ½æ›´ç¨³ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-10">å°ç»“</h2>
<ul>
<li><strong>FLIP</strong> çš„æœ¬è´¨ï¼šæŠŠâ€œå¸ƒå±€å˜åŒ–â€å˜æˆâ€œtransform åŠ¨ç”»â€ã€‚</li>
<li>æœ€å…³é”®çš„åŠ¨ä½œï¼š<strong>åªè¯»ä¸¤æ¬¡å¸ƒå±€ï¼ˆFirst + Lastï¼‰</strong>ï¼ŒåŠ¨ç”»åªåŠ¨ <code>transform</code>ã€‚</li>
<li>é€‚åˆåœºæ™¯ï¼šæ’åº/æ’å…¥/å±•å¼€æŠ˜å /å¸ƒå±€åˆ‡æ¢ç­‰â€œå…ƒç´ æœ€ç»ˆä½ç½®ç”±å¸ƒå±€å†³å®šâ€çš„åŠ¨æ•ˆã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘æ¥æ‰‹äº†ä¸€ä¸ª 10 å¹´å‰çš„ jQuery è€é¡¹ç›®ï¼Œç”¨ Web Components ç»™å®ƒç»­äº†å‘½]]></title>    <link>https://juejin.cn/post/7599586891084726306</link>    <guid>https://juejin.cn/post/7599586891084726306</guid>    <pubDate>2026-01-27T01:56:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599586891084726306" data-draft-id="7599586891084415010" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘æ¥æ‰‹äº†ä¸€ä¸ª 10 å¹´å‰çš„ jQuery è€é¡¹ç›®ï¼Œç”¨ Web Components ç»™å®ƒç»­äº†å‘½"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-27T01:56:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ErpanOmer"/> <meta itemprop="url" content="https://juejin.cn/user/3878732754331096"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘æ¥æ‰‹äº†ä¸€ä¸ª 10 å¹´å‰çš„ jQuery è€é¡¹ç›®ï¼Œç”¨ Web Components ç»™å®ƒç»­äº†å‘½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3878732754331096/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ErpanOmer
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T01:56:24.000Z" title="Tue Jan 27 2026 01:56:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72139c51d14748b19ef5441dd07dcc2c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRXJwYW5PbWVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770083786&amp;x-signature=3J%2FUwxiw8ndJ7DVxDEeglkMqdHQ%3D" alt="3680358_4d2e_2.webp" loading="lazy"/></p>
<p>å‰å‡ ä¸ªæœˆï¼Œä¸»ç®¡æŠŠæˆ‘æ‹‰è¿›ä¸€ä¸ªå°é»‘å±‹ï¼Œè¯­é‡å¿ƒé•¿åœ°è¯´ï¼šé‚£ä¸ª 2015 å¹´ä¸Šçº¿çš„ CRM ç³»ç»Ÿï¼Œå®¢æˆ·æƒ³åŠ ä¸ª<strong>AI æ™ºèƒ½å®¢æœ</strong>çš„åŠŸèƒ½ï¼Œè™½ç„¶æ˜¯ä¸ªè€é¡¹ç›®ï¼Œä½†è¿™æ˜¯å…¬å¸çš„å¤§é‡‘çŸ¿ï¼Œä½ æ¥è´Ÿè´£å‘—ï¼ğŸ˜ƒã€‚</p>
<p>æˆ‘æ‰“å¼€ä»£ç ä»“åº“çš„é‚£ä¸€åˆ»ï¼Œä¸¤çœ¼ä¸€é»‘ã€‚</p>
<ul>
<li><strong>jQuery 1.8.3</strong>ï¼Œå¤è‘£çº§çš„ç‰ˆæœ¬ã€‚</li>
<li><strong>æ²¡æœ‰ Webpackï¼Œæ²¡æœ‰ Vite</strong>ï¼Œåªæœ‰æ— å°½çš„ <code>&lt;script&gt;</code> æ ‡ç­¾ã€‚</li>
<li><strong>å…¨å±€å˜é‡æ¼«å¤©é£</strong>ï¼Œä¸€ä¸ª <code>common.js</code> æœ‰ 8000 è¡Œï¼Œé‡Œé¢å……æ–¥ç€ <code>var</code> å’Œ <code>function</code>ã€‚</li>
<li><strong>CSS æ ·å¼å…¨å‰§é€</strong>ï¼Œéšä¾¿æ”¹ä¸ª <code>div</code> çš„ paddingï¼Œéš”å£é¡µé¢çš„å¸ƒå±€å°±å´©äº†ã€‚</li>
</ul>
<p>è¿™æ—¶å€™ï¼Œæˆ‘çš„è„‘å­é‡Œæœ‰ä¸¤ä¸ªå°äººåœ¨æ‰“æ¶ï¼š</p>
<ul>
<li>å…¨åˆ äº†ï¼ç”¨ Vue3 + Vite é‡æ„ï¼è¿™ä»£ç æ˜¯äººå†™çš„å—ï¼ŸğŸ˜–</li>
<li>åˆ«å†²åŠ¨ï¼è¿™é¡¹ç›®é€»è¾‘æå…¶å¤æ‚ï¼Œé‡æ„å°±æ˜¯ç«è‘¬åœºï¼Œä¸Šçº¿å‡ºäº† Bug ä½ è´Ÿè´£ï¼Ÿ</li>
</ul>
<p><strong>ç°å®æ˜¯æ®‹é…·çš„ï¼šä¸šåŠ¡åªç»™äº† 3 å¤©æ—¶é—´ï¼Œé‡æ„æ˜¯ä¸å¯èƒ½çš„ğŸ˜’ã€‚</strong></p>
<p>ä½†åœ¨æ»¡å± <code>$('#id').show()</code> çš„ä»£ç é‡Œå†™ç°ä»£åŒ–çš„ AI å¯¹è¯ç•Œé¢ï¼Ÿå…‰æ˜¯è§£å†³ CSS æ ·å¼å†²çªå°±èƒ½è®©æˆ‘åŠ ç­åˆ°çŒæ­»ã€‚</p>
<p>æœ€åï¼Œæˆ‘æ²¡æœ‰é€‰æ‹© Reactï¼Œä¹Ÿæ²¡ç”¨ iframeï¼ˆé€šä¿¡å¤ªéº»çƒ¦ï¼‰ï¼Œè€Œæ˜¯æå‡ºäº†æµè§ˆå™¨åŸç”Ÿçš„å¤§æ€å™¨â€”â€”<strong>Web Components</strong>ã€‚</p>
<p>ç»“æœï¼Ÿ<strong>æˆ‘åªç”¨äº†ä¸€ä¸ª JS æ–‡ä»¶ï¼Œå°±å®Œç¾åœ°æŠŠç°ä»£ UIç§è¿›äº†è¿™å¨è€ä»£ç é‡Œï¼Œè€Œä¸”æ²¡å¼•å‘ä»»ä½•å‰¯ä½œç”¨ã€‚</strong></p>
<p>ä»Šå¤©å°±æ¥èŠèŠï¼Œè¿™å¥—<strong>å±å±±ç»­å‘½æŒ‡å—</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-0">ä¸ºä»€ä¹ˆæˆ‘é€‰æ‹©äº† Web Componentsï¼Ÿ</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d9bad370bdb4400956e5a4d0c6d9c98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRXJwYW5PbWVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770083786&amp;x-signature=WOsfrdldTjHu%2F5aNZESObqZRXzo%3D" alt="1_NE0TVSyDZ2MC7ngfGYa7gg.jpg" loading="lazy"/></p>
<p>åœ¨è€é¡¹ç›®é‡ŒåŠ æ–°åŠŸèƒ½ï¼Œæœ€å¤§çš„ç—›ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p><strong>ä¸æ˜¯ JS é€»è¾‘æ··ä¹±ï¼Œæ˜¯ CSS æ±¡æŸ“ã€‚</strong></p>
<p>è€é¡¹ç›®é‡Œé€šå¸¸ä¼šæœ‰è¿™ç§éœ¸é“çš„å…¨å±€æ ·å¼ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* style.css */</span>
<span class="hljs-selector-tag">div</span> { <span class="hljs-attribute">box-sizing</span>: content-box; }
<span class="hljs-selector-tag">input</span> { <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid red; } <span class="hljs-comment">/* ä¸çŸ¥é“å“ªä½å‰è¾ˆç•™ä¸‹çš„å‘ */</span>
<span class="hljs-selector-class">.btn</span> { <span class="hljs-attribute">float</span>: left; }
</code></pre>
<p>å¦‚æœä½ ç›´æ¥å¼•å…¥ä¸€ä¸ª Vue/React ç»„ä»¶ï¼Œè¿™äº›å…¨å±€æ ·å¼ä¼šç¬é—´æ‘§æ¯ä½ çš„ UIã€‚</p>
<p>è€Œ <strong>Web Components çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FWeb_components%2FUsing_shadow_DOM" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_shadow_DOM" ref="nofollow noopener noreferrer">Shadow DOMï¼ˆå½±å­ DOMï¼‰</a></strong> ï¼Œå°±æ˜¯ä¸ºæ­¤è€Œç”Ÿçš„ã€‚</p>
<p>å®ƒåˆ›é€ äº†ä¸€ä¸ª<strong>å®Œå…¨éš”ç¦»çš„ DOM ä½œç”¨åŸŸ</strong>ã€‚</p>
<ul>
<li>å¤–éƒ¨çš„ CSS è¿›ä¸æ¥ï¼ˆä½ çš„ç»„ä»¶ä¸ä¼šä¹±ï¼‰ã€‚</li>
<li>å†…éƒ¨çš„ CSS å‡ºä¸å»ï¼ˆä½ ä¸ä¼šæå´©è€é¡µé¢ï¼‰ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-1">åœ¨ jQuery é¡µé¢é‡Œå¼€å§‹æ¤å…¥AI åŠ©æ‰‹</h3>
<p>å‡è®¾æˆ‘ä»¬ä¸éœ€è¦ä»»ä½•æ„å»ºå·¥å…·ï¼ˆWebpack/Viteï¼‰ï¼Œç›´æ¥åœ¨è€é¡µé¢çš„ HTML é‡Œå†™ã€‚</p>
<h4 data-id="heading-2">å®šä¹‰ç»„ä»¶</h4>
<p>ä¸ç”¨å¼•å…¥ä»»ä½•åº“ï¼Œç›´æ¥ç”¨åŸç”Ÿ ES6 Classã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// ai-assistant.js</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">AiAssistant</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">HTMLElement</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">super</span>();
    <span class="hljs-comment">// 1. å¼€å¯ Shadow DOMï¼Œè¿™æ˜¯éš”ç¦»çš„å…³é”®</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">shadow</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">attachShadow</span>({ <span class="hljs-attr">mode</span>: <span class="hljs-string">'open'</span> });
  }

  <span class="hljs-title function_">connectedCallback</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// 2. æ¸²æŸ“ UI å’Œ ç‹¬ç«‹çš„ CSS</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">render</span>();
    <span class="hljs-comment">// 3. ç»‘å®šäº‹ä»¶</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">shadow</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'#send-btn'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleSend</span>();
    });
  }

  <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">shadow</span>.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`
      &lt;style&gt;
        /* è¿™é‡Œçš„æ ·å¼ç»å¯¹å®‰å…¨ï¼Œä¸ä¼šå½±å“å¤–éƒ¨ï¼Œä¹Ÿä¸å—å¤–éƒ¨å½±å“ */
        :host {
          position: fixed;
          bottom: 20px;
          right: 20px;
          z-index: 9999;
        }
        .container {
          background: #fff;
          border-radius: 12px;
          box-shadow: 0 4px 20px rgba(0,0,0,0.15);
          width: 300px;
          font-family: 'Segoe UI', sans-serif; /* æˆ‘ä»¬å¯ä»¥ç”¨ç°ä»£å­—ä½“ */
        }
        .header { background: #007bff; color: white; padding: 10px; border-radius: 12px 12px 0 0; }
        .content { height: 200px; padding: 10px; overflow-y: auto; color: #333; }
        input { width: 70%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
        button { background: #007bff; color: white; border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; }
      &lt;/style&gt;

      &lt;div class="container"&gt;
        &lt;div class="header"&gt;ğŸ¤– AI åŠ©æ‰‹&lt;/div&gt;
        &lt;div class="content" id="chat-box"&gt;
          &lt;div&gt;ä½ å¥½ï¼Œæˆ‘æ˜¯ä½ çš„æ™ºèƒ½åŠ©æ‰‹ï¼Œæœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨ï¼Ÿ&lt;/div&gt;
        &lt;/div&gt;
        &lt;div style="padding: 10px; border-top: 1px solid #eee;"&gt;
          &lt;input type="text" id="input-msg" placeholder="è¾“å…¥é—®é¢˜..." /&gt;
          &lt;button id="send-btn"&gt;å‘é€&lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    `</span>;
  }

  <span class="hljs-title function_">handleSend</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> input = <span class="hljs-variable language_">this</span>.<span class="hljs-property">shadow</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'#input-msg'</span>);
    <span class="hljs-keyword">const</span> text = input.<span class="hljs-property">value</span>;
    <span class="hljs-keyword">if</span> (!text) <span class="hljs-keyword">return</span>;

    <span class="hljs-comment">// æ¨¡æ‹Ÿæ·»åŠ æ¶ˆæ¯</span>
    <span class="hljs-keyword">const</span> chatBox = <span class="hljs-variable language_">this</span>.<span class="hljs-property">shadow</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'#chat-box'</span>);
    chatBox.<span class="hljs-property">innerHTML</span> += <span class="hljs-string">`&lt;div style="text-align:right; margin:5px 0; color: #007bff;"&gt;<span class="hljs-subst">${text}</span>&lt;/div&gt;`</span>;
    input.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>;

    <span class="hljs-comment">// å…³é”®ï¼šå¦‚ä½•è·Ÿå¤–éƒ¨ jQuery é€šä¿¡ï¼ŸæŠ›å‡ºåŸç”Ÿ CustomEvent</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">dispatchEvent</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomEvent</span>(<span class="hljs-string">'new-question'</span>, {
      <span class="hljs-attr">detail</span>: { <span class="hljs-attr">question</span>: text },
      <span class="hljs-attr">bubbles</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">composed</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// å…è®¸ç©¿é€ Shadow DOM å†’æ³¡å‡ºå»</span>
    }));
  }
}

<span class="hljs-comment">// æ³¨å†Œç»„ä»¶</span>
customElements.<span class="hljs-title function_">define</span>(<span class="hljs-string">'ai-assistant'</span>, <span class="hljs-title class_">AiAssistant</span>);
</code></pre>
<h4 data-id="heading-3">åœ¨ jQuery è€é¡µé¢ä¸­ä½¿ç”¨</h4>
<p>åªéœ€è¦å¼•å…¥ JSï¼Œç„¶ååƒå†™ <code>&lt;div&gt;</code> ä¸€æ ·å†™æ ‡ç­¾ã€‚</p>
<pre><code class="hljs language-HTML" lang="HTML"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"legacy-style.css"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"jquery-1.8.3.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"old-header"</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  
  <span class="hljs-tag">&lt;<span class="hljs-name">ai-assistant</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ai-assistant</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"ai-assistant.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">// jQuery ç›‘å¬ç»„ä»¶æŠ›å‡ºçš„äº‹ä»¶</span>
    $(<span class="hljs-variable language_">document</span>).<span class="hljs-title function_">ready</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
      <span class="hljs-comment">// è¿™é‡Œçš„äº‹ä»¶ç›‘å¬ä¾ç„¶ä¸æ»‘</span>
      $(<span class="hljs-string">'ai-assistant'</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">'new-question'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {
        <span class="hljs-comment">// æ³¨æ„ï¼šjQuery çš„ event å¯¹è±¡å°è£…äº†ä¸€å±‚ï¼ŒåŸç”Ÿçš„ detail åœ¨ originalEvent é‡Œ</span>
        <span class="hljs-keyword">var</span> question = e.<span class="hljs-property">originalEvent</span>.<span class="hljs-property">detail</span>.<span class="hljs-property">question</span>;
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"è€é¡µé¢æ”¶åˆ°äº† AI æé—®ï¼š"</span>, question);
        
        <span class="hljs-comment">// è¿™é‡Œå¯ä»¥è°ƒç”¨è€ç³»ç»Ÿçš„ API</span>
        <span class="hljs-comment">// $.ajax(...) </span>
      });
    });
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-4">ä¸ºä»€ä¹ˆè¯´è¿™æ˜¯å±å±±çš„ç»ˆæè§£æ³•ï¼Ÿ</h3>
<h4 data-id="heading-5">ä¾µå…¥æ€§ä¸ºé›¶</h4>
<p>æˆ‘åœ¨ <code>ai-assistant.js</code> é‡Œå†™äº† <code>input { width: 70% }</code>ã€‚</p>
<p>å¦‚æœæ˜¯æ™®é€šçš„ Vue/React ç»„ä»¶ï¼Œè¿™è¡Œæ ·å¼å¯èƒ½ä¼šæŠŠè€é¡µé¢æ‰€æœ‰çš„ input éƒ½æä¹±ã€‚</p>
<p>ä½†å› ä¸ºæœ‰ <strong>Shadow DOM</strong>ï¼Œå®ƒåªå¯¹è‡ªå·±ç”Ÿæ•ˆã€‚è€é¡µé¢çš„ <code>style.css</code> å°±ç®—å†™äº† <code>div { display: none }</code>ï¼Œä¹Ÿå½±å“ä¸åˆ°æˆ‘ Shadow Root é‡Œçš„å¸ƒå±€ã€‚</p>
<h4 data-id="heading-6">æŠ€æœ¯æ ˆæ¡†æ¶æ— å…³</h4>
<p>Web Components æ˜¯æµè§ˆå™¨åŸç”Ÿæ ‡å‡†ã€‚</p>
<p>è¿™æ„å‘³ç€ï¼Œæ— è®ºè¿™å¨å±å±±æ˜¯åŸºäº jQueryã€AngularJS 1.xã€PHP æ¨¡æ¿è¿˜æ˜¯ JSPï¼Œ<strong>åªè¦å®ƒæ˜¯æµè§ˆå™¨ï¼Œå®ƒå°±èƒ½è·‘è¿™ä¸ªç»„ä»¶</strong>ã€‚</p>
<p>æœªæ¥å¦‚æœä½ ä»¬ç»ˆäºå†³å®šé‡æ„ï¼Œæ¢æˆäº† React 19ï¼Œè¿™ä¸ª <code>&lt;ai-assistant&gt;</code> æ ‡ç­¾ä¾ç„¶å¯ä»¥ç›´æ¥å¤åˆ¶è¿‡å»ç”¨ï¼Œä¸ç”¨æ”¹ä¸€è¡Œä»£ç ã€‚</p>
<h4 data-id="heading-7">æ¸è¿›å¼è¿ç§»</h4>
<p>æˆ‘ä»¬å¯ä»¥ä¸ç”¨æé‡æ„ã€‚</p>
<p>ä»Šå¤©æŠŠç”¨æˆ·å¡ç‰‡æ”¹æˆ Web Componentã€‚</p>
<p>æ˜å¤©æŠŠä¾§è¾¹æ æ”¹æˆ Web Componentã€‚</p>
<p>è¿™æ˜¯ä¸€ç§ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.astro.build%2Fzh-cn%2Fconcepts%2Fislands%2F" target="_blank" title="https://docs.astro.build/zh-cn/concepts/islands/" ref="nofollow noopener noreferrer"><strong>å²›å±¿æ¶æ„</strong> (Astro ç±»ä¼¼)</a> ã€‚æˆ‘ä»¬åœ¨å±å±±ğŸ’©çš„æµ·æ´‹é‡Œï¼Œå»ºç«‹ä¸€ä¸ªä¸ªå°å²›ã€‚ç­‰å²›å±¿è¿æˆä¸€ç‰‡ï¼Œå±å±±è‡ªç„¶å°±æ¶ˆå¤±äº†ã€‚</p>
<hr/>
<h3 data-id="heading-8">é¿å‘æŒ‡å—ï¼ˆå¹²è´§ï¼‰</h3>
<p>è™½ç„¶å¾ˆé¦™ï¼Œä½†ä¹Ÿæœ‰å‡ ä¸ªå‘è¦æ³¨æ„ï¼š</p>
<ol>
<li><strong>React å…¼å®¹æ€§ï¼š</strong> å¦‚æœä½ çš„è€é¡¹ç›®é‡Œæ··ç”¨äº† React 16/17ï¼Œå®ƒä»¬å¯¹ Web Components çš„äº‹ä»¶ç»‘å®šæ”¯æŒä¸å¤ªå¥½ï¼ˆReact 19 å·²å®Œç¾ä¿®å¤ï¼‰ã€‚</li>
<li><strong>å­—ä½“å›¾æ ‡ï¼š</strong> Shadow DOM é‡Œçš„å­—ä½“å›¾æ ‡ï¼ˆå¦‚ FontAwesomeï¼‰å¦‚æœå®šä¹‰åœ¨å¤–éƒ¨ CSS é‡Œï¼Œå†…éƒ¨è¯»ä¸åˆ°ã€‚éœ€è¦åœ¨ Shadow DOM çš„ <code>&lt;style&gt;</code> é‡Œ <code>@import</code> è¿›æ¥ï¼Œæˆ–è€…ç”¨ <code>&lt;link&gt;</code> å¼•å…¥ã€‚</li>
<li><strong>æ„å»ºå·¥å…·ï¼š</strong> å¦‚æœç»„ä»¶é€»è¾‘å¤æ‚ï¼Œè¿˜æ˜¯å»ºè®®ç”¨ <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Flit.dev%2Fdocs%2Fgetting-started%2F" target="_blank" title="https://lit.dev/docs/getting-started/" ref="nofollow noopener noreferrer">Lit</a></strong> æˆ– <a href="https://link.juejin.cn?target=https%3A%2F%2Fstenciljs.com%2Fdocs%2Fintroduction" target="_blank" title="https://stenciljs.com/docs/introduction" ref="nofollow noopener noreferrer"><strong>Stencil</strong></a> è¿™ç§è½»é‡åº“æ¥å†™ï¼Œç„¶åæ‰“åŒ…æˆä¸€ä¸ª <code>bundle.js</code> ä¸¢ç»™è€é¡¹ç›®å¼•ç”¨ï¼Œå¼€å‘ä½“éªŒä¼šå¥½å¾ˆå¤šï¼ˆæ”¯æŒ TSã€å“åº”å¼æ•°æ®ï¼‰ã€‚</li>
</ol>
<hr/>
<p>é¢å¯¹è€æ—§é¡¹ç›®ï¼Œæˆ‘ä»¬å¾€å¾€æœ‰ä¸¤ç§æç«¯çš„æ€åº¦ï¼šè¦ä¹ˆ<strong>æ‘†çƒ‚</strong>ï¼ˆæ¥ç€å †å±ï¼‰ï¼Œè¦ä¹ˆ<strong>æ¿€è¿›ç‚¹</strong>ï¼ˆæ¨å€’é‡æ¥ï¼‰ã€‚</p>
<p>ä½†ä½œä¸ºæˆç†Ÿçš„å·¥ç¨‹å¸ˆï¼Œæˆ‘ä»¬æ›´éœ€è¦ä¸­é—´å¹³æ»‘è·¯çº¿ã€‚Web Components æ°æ°ç»™äº†æˆ‘ä»¬éå¸¸å¥½çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>ä¸‹æ¬¡å†é‡åˆ°è€æ¿è®©ä½ ç»™ 10 å¹´å‰çš„ JSP é¡µé¢åŠ åŠŸèƒ½ï¼Œåˆ«æ€¥ç€æç¦»èŒã€‚</p>
<p><strong>è¯•ç€å»ºä¸€ä¸ª <code>&lt;my-feature&gt;</code>ï¼Œä½ ä¼šå‘ç°ï¼Œå±å±±å…¶å®ä¹Ÿæ²¡é‚£ä¹ˆå¯æ€•ğŸ˜ã€‚</strong></p>
<p>å¤§å®¶å¹³æ—¶æ€ä¹ˆè§£å†³è€å¤è‘£é¡¹ç›®å‘¢ï¼ŸğŸ¤”</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0e601c8868684f018ab356deda14e37f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRXJwYW5PbWVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770083786&amp;x-signature=I8z%2FouEr5p8hqPa1ctV%2FOg7z55U%3D" alt="è°¢è°¢å¤§å®¶.gif" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>