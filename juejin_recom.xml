<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[Vibe Coding å®æˆ˜ï¼èŠ±äº†ä¸¤å¤©æ—¶é—´ï¼Œè®© AI å†™äº†ä¸€ä¸ªå¯Œæ–‡æœ¬æ¸²æŸ“å¼•æ“ï¼]]></title>    <link>https://juejin.cn/post/7571695634942394395</link>    <guid>https://juejin.cn/post/7571695634942394395</guid>    <pubDate>2025-11-12T15:58:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571695634942394395" data-draft-id="7571725550709440539" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vibe Coding å®æˆ˜ï¼èŠ±äº†ä¸¤å¤©æ—¶é—´ï¼Œè®© AI å†™äº†ä¸€ä¸ªå¯Œæ–‡æœ¬æ¸²æŸ“å¼•æ“ï¼"/> <meta itemprop="keywords" content="Claude,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-11-12T15:58:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="éä¸“ä¸šç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/1968539883540688"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vibe Coding å®æˆ˜ï¼èŠ±äº†ä¸¤å¤©æ—¶é—´ï¼Œè®© AI å†™äº†ä¸€ä¸ªå¯Œæ–‡æœ¬æ¸²æŸ“å¼•æ“ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1968539883540688/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    éä¸“ä¸šç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T15:58:37.000Z" title="Wed Nov 12 2025 15:58:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å…ˆä¸Šæ•ˆæœå›¾</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/520d9c2c2023492aa95592613d76adde~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2e5LiT5Lia56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763567916&amp;x-signature=Ue4CRoIHL5IRXtWneBINOrbG4%2BQ%3D" alt="" loading="lazy"/></p>
<p>æœ€è¿‘åŠ¨æ‰‹å®è·µäº†ä¸‹ Vibe Codingï¼Œæƒ³å°è¯•â€‹<strong>ä¸€è¡Œä»£ç ä¸å†™ï¼Œçº¯é€šè¿‡ Prompt è®© AI å†™äº†ä¸€ä¸ªå¯Œæ–‡æœ¬æ¸²æŸ“å¼•æ“</strong>â€‹ã€‚</p>
<p>æ•´ä½“èŠ±äº†ä¸¤å¤©æ—¶é—´ä¸åˆ°ï¼Œæ•ˆæœå¦‚ä¸Šå›¾ï¼Œæ”¯æŒçš„ç‰¹æ€§æœ‰ï¼š</p>
<ul>
<li>ç±»ä¼¼å‰ç«¯çš„ Blockã€InlineBlockã€Inline å¸ƒå±€</li>
<li>æ–‡æœ¬æ ·å¼ï¼šåŠ ç²—ã€æ–œä½“ã€ä¸‹åˆ’çº¿ã€åˆ é™¤çº¿ï¼Œå‰æ™¯è‰²ï¼ŒèƒŒæ™¯è‰²ï¼ŒåŒä¸€è¡Œä¸åŒå­—ä½“å¤§å°æ··æ’ç­‰</li>
<li>Attachmentï¼šå›¾æ–‡æ··æ’æˆ–æ’å…¥è‡ªå®šä¹‰ View ç­‰</li>
<li>å¼‚æ­¥æ’ç‰ˆå’Œç®—é«˜ï¼šåŸºäº CoreText APIï¼Œæ”¯æŒå­çº¿ç¨‹å¸ƒå±€ç®—é«˜ï¼Œä¸»çº¿ç¨‹æ¸²æŸ“</li>
<li>å•æµ‹è¦†ç›–</li>
</ul>
<p>é¡¹ç›®ç”¨çš„ Claude AIï¼Œå·®ä¸å¤šè€—è´¹äº† 50$ï¼ˆæ˜¯çœŸçš„è´µï¼ä½†ä¹Ÿæ˜¯çœŸçš„å¼ºï¼ï¼‰ï¼Œæœ¬æ–‡å°†è®°å½•æ•´ä¸ªè¿‡ç¨‹å’Œä¸€äº›ç»éªŒæ€»ç»“ã€‚</p>
<h2 data-id="heading-1">äºŒã€è¿‡ç¨‹è®°å½•</h2>
<h2 data-id="heading-2">2.1 Claude å®‰è£…å’Œé¡¹ç›®åˆå§‹åŒ–</h2>
<p>Claude å®‰è£…å’Œä½¿ç”¨åœ¨ç½‘ä¸Šæœ‰å¾ˆå¤šæ•™ç¨‹ï¼Œç»†èŠ‚è¿™é‡Œä¸å†èµ˜è¿°ï¼Œæ¨èç›´æ¥ä½¿ç”¨ VSCode çš„ Claude AI æ’ä»¶ï¼›åæ–‡ã€Œç»éªŒæ€»ç»“ã€éƒ¨åˆ†ä¹Ÿä¼šæ€»ç»“ Claude AI çš„å¸¸ç”¨å‘½ä»¤ï¼Œæ„Ÿå…´è¶£å¯ä»¥ç›´æ¥è·³è½¬ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ–°å»ºä¸€ä¸ªç©ºçš„ iOS é¡¹ç›®å’Œå¯Œæ–‡æœ¬æ¸²æŸ“å¼•æ“çš„ podï¼ˆè¿™é‡Œæˆ‘ä»¬å« RichViewï¼‰ï¼Œåˆ›å»ºå®Œæˆä¹‹ååœ¨ VSCode ä¸­æ‰“å¼€ï¼Œç‚¹å‡»å³ä¸Šè§’ Claude AI çš„å›¾æ ‡å¼€å¯ä¼šè¯ï¼Œè¾“å…¥<code>/init</code> å‘½ä»¤åˆå§‹åŒ–å·¥ç¨‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6e2f2e28efa451fbed4cc8476ecfd4c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2e5LiT5Lia56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763567916&amp;x-signature=C4lUbo%2B4R6urf2jPMwEtbAuepCE%3D" alt="" loading="lazy"/></p>
<p><strong><code>/init</code><strong>â€‹</strong>å‘½ä»¤çš„ä½œç”¨æ˜¯è®© Claude ç†è§£æ•´ä¸ªé¡¹ç›®ï¼Œè¿™æ˜¯åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ Claude çš„ç¬¬ä¸€æ­¥ï¼Œåªéœ€è¦æ‰§è¡Œä¸€æ¬¡å°±å¥½ã€‚</strong></p>
<p><code>/init</code>ä¼šåœ¨æ ¹ç›®å½•ä¸‹è‡ªåŠ¨åˆ›å»ºä¸€ä¸ª<code>CLAUDE.md</code>æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å¯ä»¥ç†è§£æˆâ€‹<strong>å…¨å±€ä¸Šä¸‹æ–‡</strong>â€‹ï¼Œå³æ¯æ¬¡æ–°å¼€ Claude ä¼šè¯éƒ½ä¼šè‡ªåŠ¨åŠ è½½å…¶ä¸­çš„å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œè®°å½•ä¸€äº›å¦‚ä¿®æ”¹å†å²ã€å…¨å±€è¯´æ˜ç­‰å†…å®¹ã€‚</p>
<h2 data-id="heading-3">2.2 æŠ€æœ¯é€‰å‹ã€æ¶æ„</h2>
<p>è®© AI å†™ä»£ç ï¼Œå’Œæˆ‘ä»¬è‡ªå·±å†™ä»£ç åŸºæœ¬ç±»ä¼¼ï¼Œä¸è¿‡æ˜¯å°†æˆ‘ä»¬çš„æ€è·¯è½¬æ¢æˆ Prompt å‘Šè¯‰ AIã€‚</p>
<p>ç¼–ç ä¹‹å‰éœ€è¦å…ˆç¡®å®šå‡ ä»¶äº‹æƒ…ï¼šè¿™äº›ç¡®å®šå¥½ä¹‹åï¼Œæˆ‘ä»¬åç»­çš„ä»»åŠ¡æ‹†åˆ†æ‰ä¼šæ›´é¡ºåˆ©ã€‚</p>
<p><strong>1ï¼‰éœ€è¦æ”¯æŒå“ªäº› Feature</strong></p>
<ul>
<li>æ”¯æŒæ–‡æœ¬æ ·å¼ï¼šåŠ ç²—ã€æ–œä½“ã€ä¸‹åˆ’çº¿ã€åˆ é™¤çº¿ï¼Œå‰æ™¯è‰²ï¼ŒèƒŒæ™¯è‰²ï¼ŒåŒä¸€è¡Œä¸åŒå­—ä½“å¤§å°æ··æ’ç­‰</li>
<li>æ”¯æŒ Attachmentï¼šå›¾æ–‡æ··æ’æˆ–æ’å…¥è‡ªå®šä¹‰ View ç­‰</li>
<li>æ”¯æŒå­çº¿ç¨‹æ’ç‰ˆç®—é«˜</li>
<li>æ”¯æŒå•å…ƒæµ‹è¯•</li>
</ul>
<p><strong>2ï¼‰æŠ€æœ¯é€‰å‹</strong></p>
<p>è‡ªå®šä¹‰å¯Œæ–‡æœ¬æ¸²æŸ“å¼•æ“ï¼Œæœ€éš¾çš„ç‚¹åœ¨äºå¦‚ä½•å®ç°ç²¾ç¡®çš„æ–‡æœ¬åˆ†è¯æ’ç‰ˆï¼ˆåŸç†å¯ä»¥å‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FfcL6if52qYQUTChEjntHJg" target="_blank" title="https://mp.weixin.qq.com/s/fcL6if52qYQUTChEjntHJg" ref="nofollow noopener noreferrer">ä» 0 åˆ° 1 è‡ªå®šä¹‰æ–‡å­—æ’ç‰ˆå¼•æ“ï¼šåŸç†ç¯‡</a>ï¼‰ï¼ŒiOS æœ‰å†…ç½®çš„ CoreText APIï¼ˆè§<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FfQiB4sYtqdlSEbu8UhspIA" target="_blank" title="https://mp.weixin.qq.com/s/fQiB4sYtqdlSEbu8UhspIA" ref="nofollow noopener noreferrer">é“¾æ¥</a>ï¼‰ç”¨äºæ–‡æœ¬åˆ†è¯æ’ç‰ˆï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åŸºäºå¼€æºçš„è·¨ç«¯æ’ç‰ˆå¼•æ“ HarfBuzzï¼ˆè§<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FNxBfP4MJ0Y67trIVh39tag" target="_blank" title="https://mp.weixin.qq.com/s/NxBfP4MJ0Y67trIVh39tag" ref="nofollow noopener noreferrer">é“¾æ¥</a>ï¼‰è¿›è¡Œå¤„ç†ã€‚</p>
<p>æˆ‘ä»¬è¿™é‡Œä¸éœ€è¦è·¨ç«¯ï¼Œå› æ­¤é€‰æ‹© CoreText ä½œä¸ºæ–¹æ¡ˆé€‰å‹ã€‚</p>
<p>å®˜æ–¹å°è£…çš„ NSAttributedString å½“ç„¶ä¹Ÿèƒ½åšè¿™ä»¶äº‹æƒ…ï¼Œä½†æ˜¯ä»å·¥ç¨‹å®è·µçœ‹ï¼ŒNSAttributedString åœ¨æ‰©å±•æ€§ï¼ˆæ¯”å¦‚æ”¯æŒåˆ—è¡¨ã€è¡¨æ ¼ç­‰è‡ªå®šä¹‰å¸ƒå±€ï¼‰ã€ä½¿ç”¨æ–¹ä¾¿æ€§ï¼Œä»¥åŠé•¿æ–‡æœ¬çš„æ€§èƒ½æ–¹é¢ä¸å°½å¦‚äººæ„ã€‚</p>
<p><strong>3ï¼‰æŠ€æœ¯æ¶æ„</strong></p>
<p>æ–‡æœ¬åˆ†è¯ä¹‹åï¼Œè¿˜éœ€è¦è¿›è¡Œå¸ƒå±€æ’ç‰ˆï¼Œä¸ºæ–¹ä¾¿åç»­æ‹“å±•å¸ƒå±€ï¼Œæˆ‘ä»¬è¿™é‡Œå‚è€ƒå‰ç«¯çš„å¸ƒå±€æ¨¡å‹ï¼Œå¼•å…¥ Blockã€InlineBlockã€Inline çš„æ¦‚å¿µã€‚</p>
<p>åŒæ—¶å‚è€ƒæµè§ˆå™¨çš„å¸ƒå±€æ¸²æŸ“è¿‡ç¨‹ï¼Œå¼•å…¥ä¸‰æ£µæ ‘çš„æ¦‚å¿µï¼š</p>
<ul>
<li>ElementTreeï¼šç”¨æˆ·è¾“å…¥ï¼Œæ•´ä¸ªå¯Œæ–‡æœ¬å¯ä»¥é€šè¿‡ä¸€é¢— ElementTree æ¥è¡¨ç¤º</li>
<li>LayoutTreeï¼šè´Ÿè´£å¸ƒå±€æ’ç‰ˆï¼Œä¼šåœ¨è¿™ä¸€å±‚å¤„ç†å¥½æ–‡æœ¬çš„åˆ†è¯ã€å›¾æ–‡æ··æ’æ—¶å„è‡ªçš„ä½ç½®ç­‰</li>
<li>RenderTreeï¼šè´Ÿè´£æ¸²æŸ“ï¼Œè¿™ä¸€å±‚æ¥æ”¶å¸ƒå±€å®Œæˆçš„ç»“æœï¼Œè¿›è¡Œæœ€ç»ˆçš„ä¸Šå±ç»˜åˆ¶</li>
</ul>
<p>æ•²å®šæŠ€æœ¯é€‰å‹ã€æŠ€æœ¯æ¶æ„ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥æŒ‰æ€è·¯æ‹†åˆ†å­ä»»åŠ¡äº†ã€‚</p>
<h2 data-id="heading-4">2.3 å­ä»»åŠ¡ï¼šElementTree</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbd659f377ab4c9f9b2850a1a58962e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2e5LiT5Lia56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763567916&amp;x-signature=drWJODgfv5a%2BcvD2%2Fiyc0GqiW7Q%3D" alt="" loading="lazy"/></p>
<p>ç”±äºæˆ‘ä»¬å‚è€ƒäº†å‰ç«¯çš„å¸ƒå±€æ¨¡å‹ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å‘Šè¯‰ AI åœ¨ CSS ä¸­ Blockã€InlineBlockã€Inline çš„å¸ƒå±€è§„èŒƒï¼Œè¿™ä¸ªåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FCSS%2FGuides%2FDisplay%2FBlock_and_inline_layout" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/CSS/Guides/Display/Block_and_inline_layout" ref="nofollow noopener noreferrer"> MDN </a>ä¸­å¯ä»¥ç›´æ¥æ‘˜å½•ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥è®© AI å¸®æˆ‘ä»¬ç”Ÿæˆï¼ˆå¦‚ä¸Šå›¾ï¼‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf9f97ac2a8c4d5c9fd2d28a97400b1e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2e5LiT5Lia56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763567916&amp;x-signature=BMCsyI802gmOKHn%2BEZchExebbIg%3D" alt="" loading="lazy"/></p>
<p>æ¥ç€ï¼Œæˆ‘ä»¬éœ€è¦å‘Šè¯‰ AI æ€ä¹ˆæ„å»º ElementTreeï¼Œä¹Ÿå°±æ˜¯ä¸Šå›¾æ‰€ç¤º Promptã€‚</p>
<p>æœ€åï¼Œæˆ‘ä»¬å°±å¯ä»¥è®© AI å‚ç…§ Promptï¼Œç”Ÿæˆ ElementTree äº†ã€‚</p>
<p>ElementTree ç”Ÿæˆå®Œæˆåï¼Œæˆ‘ä»¬å‘ç°é—æ¼äº†å•æµ‹ç¯èŠ‚ï¼Œç»§ç»­å®Œå–„ ElementTree çš„ Promptï¼Œç„¶åâ€‹<strong>æ˜ç¡®å‘Šè¯‰ AI xx æ–‡ä»¶æ–°å¢äº† xx ä»»åŠ¡</strong>â€‹ï¼Œè®© AI ç»§ç»­å®Œæˆä»»åŠ¡ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c7d031cb1e8949ce8b93e97add008d19~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2e5LiT5Lia56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763567916&amp;x-signature=5I38q4kf7N4WFlMRvupmuA4wYKM%3D" alt="" loading="lazy"/></p>
<p>ElementTree çš„åˆ›å»ºè¿˜ç®—æ¯”è¾ƒé¡ºåˆ©ï¼ŒAI ç†è§£ä¹Ÿæ¯”è¾ƒåˆ°ä½ï¼Œç”Ÿæˆçš„ä»£ç åŸºæœ¬ç¬¦åˆé¢„æœŸã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/953fcaa194a646418f38f4772612a721~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2e5LiT5Lia56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763567916&amp;x-signature=cz1gojje7CSIWaqmVOSPcT9lAUE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">2.4 å­ä»»åŠ¡ï¼šLayoutTree</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92810dfad40045f3913074c2f5c50508~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2e5LiT5Lia56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763567916&amp;x-signature=Zx%2FgxFRPe8zOFdQkFVsTjwDoOk8%3D" alt="" loading="lazy"/></p>
<p>åŒæ ·ï¼Œæˆ‘ä»¬å®šä¹‰å¥½ Promptï¼Œè®© AI ç”Ÿæˆ LayoutTreeã€‚</p>
<p>LayoutTree çš„ç”Ÿæˆä¸å¤ªé¡ºåˆ©ï¼Œè€Œä¸”ä»æœ€åçš„æµ‹è¯•æ•ˆæœçœ‹ä¹Ÿæœ‰å¾ˆå¤š Bugï¼Œä¸»è¦å¦‚ä¸‹ï¼š</p>
<ul>
<li>AI å°†ç»˜åˆ¶ç›¸å…³é€»è¾‘ä¹ŸåŠ åˆ°äº† LayoutTree ä¸­ï¼Œä½†é¢„æœŸç»˜åˆ¶æ˜¯å•ç‹¬çš„ RenderTree</li>
<li>å¸ƒå±€é—®é¢˜ï¼šInlineBlock æ— æ³•æ•´ä½“æ¢è¡Œï¼Œå¤šä¸ª Inline åœ¨åŒä¸€è¡Œæ—¶è¢«æ¢è¡Œå±•ç¤ºï¼Œmarginã€padding ä¸ç”Ÿæ•ˆç­‰</li>
<li>å¯¹é½é—®é¢˜ï¼šåŒä¸€è¡ŒåŒ…å«ä¸åŒå­—å·çš„æ–‡æœ¬æ—¶ï¼Œå¯¹é½æ–¹å¼ä¸å¯¹</li>
<li>attachment æ— æ³•æ˜¾ç¤º</li>
<li>â€¦</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39d5d4ad1aa542f8a8b74ed6b03e8bf6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2e5LiT5Lia56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763567916&amp;x-signature=nWLC3qQPX%2Fnix1UOMJtQht%2FUKw4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">2.5 å­ä»»åŠ¡ï¼šRenderTree</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b588d169cbd344a7b174ece81dc036b7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2e5LiT5Lia56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763567916&amp;x-signature=o381XCic0zsKqCkKB%2FsJEYhms0g%3D" alt="" loading="lazy"/></p>
<p>ç”±äº LayoutTree è¿™ä¸ªåº•å±‚åŸºç¡€æ²¡æ‰å®ï¼ŒRenderTree çš„æ­å»ºä¹Ÿä¸é¡ºåˆ©ï¼ŒRenderTree çš„ Prompt å¦‚ä¸Šã€‚</p>
<h2 data-id="heading-7">2.6 BugFix</h2>
<p>è‡³æ­¤ï¼ŒAI ç”Ÿæˆäº†åˆç‰ˆçš„å¯Œæ–‡æœ¬æ¸²æŸ“å¼•æ“ï¼Œæ¥ä¸‹æ¥å°±æ˜¯è®© AI å†™ä¸ª Demo è¯•ç”¨ä¸€ä¸‹ï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå‘ç°äº†å¾ˆå¤šä¸Šé¢ç½—åˆ—çš„ Bugï¼Œé’ˆå¯¹è¿™äº› Bugï¼Œä¹Ÿå¯ä»¥è®© AI æ¥ä¿®å¤ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/343d19cdcc904d76a022a9a20943ab75~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2e5LiT5Lia56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763567916&amp;x-signature=A6m2dPlUyMznZDhWISTjsShIIBE%3D" alt="" loading="lazy"/></p>
<p>åœ¨è®© AI ä¿® Bug è¿‡ç¨‹ä¸­ï¼Œä¹Ÿè¸©äº†ä¸€äº›å‘ï¼Œå‚è§ä¸‹æ–‡ç»éªŒæ€»ç»“ã€‚</p>
<h2 data-id="heading-8">ä¸‰ã€ä¸€äº›ç»éªŒæ€»ç»“</h2>
<h2 data-id="heading-9">3.1 Claude AI å¸¸ç”¨å‘½ä»¤</h2>
<ul>
<li><code>/init</code>ï¼šé¡¹ç›®åˆå§‹åŒ–ï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨ Claude AI æ—¶æ‰§è¡Œï¼Œâ€‹<strong>æ¯ä¸ªé¡¹ç›®åªéœ€è¦æ‰§è¡Œä¸€æ¬¡å³å¯</strong>â€‹ï¼›ä¼šç”Ÿæˆä¸€ä¸ª<code>CLAUDE.md</code>æ–‡ä»¶ï¼Œè¿™æ˜¯â€‹<strong>é¡¹ç›®çš„å…¨å±€ä¸Šä¸‹æ–‡</strong>â€‹ï¼Œæ¯æ¬¡æ–°å»º Claude ä¼šè¯æ—¶ï¼Œä¼šè‡ªåŠ¨è¯»å–å…¶ä¸­çš„å†…å®¹ï¼›å¯ä»¥åœ¨<code>CLAUDE.md</code>æ–‡ä»¶ä¸­è¡¥å……ä¿®æ”¹å†å²ã€å…¨å±€è¯´æ˜ç­‰</li>
<li><code>@</code>ï¼šå¯ä»¥è¾“å…¥<code>@</code>æ¥æ·»åŠ æ–‡ä»¶åˆ°ä¼šè¯çª—å£ï¼Œå°†æ–‡ä»¶ä½œä¸ºä¸Šä¸‹æ–‡ç»™ AI</li>
<li><code>/exit</code>ï¼šå…³é—­å½“å‰ä¼šè¯</li>
<li><code>/clear</code>ï¼šæ¸…é™¤å½“å‰ä¼šè¯ä¸Šä¸‹æ–‡ï¼Œå’Œé€€å‡ºä¼šè¯ç„¶åæ–°å¼€ä¸€ä¸ªä¼šè¯æ•ˆæœä¸€æ ·</li>
<li><code>/compact</code>ï¼šå‹ç¼©å’Œæ€»ç»“å½“å‰ä¼šè¯ä¸Šä¸‹æ–‡ï¼Œå’Œ<code>/clear</code>çš„åŒºåˆ«æ˜¯ï¼Œ<code>/compact</code>ä¼šå°†å½“å‰ä¼šè¯ä¸Šä¸‹æ–‡æ€»ç»“åä½œä¸ºå½“å‰ä¼šè¯çš„æ–°ä¸Šä¸‹æ–‡ï¼Œ<code>/clear</code>ä¼šç›´æ¥æ¸…é™¤æ‰€æœ‰ä¸Šä¸‹æ–‡</li>
<li><code>/resume</code>ï¼šæ˜¾ç¤ºå’Œæ¢å¤å†å²ä¸Šä¸‹æ–‡</li>
<li>è‡ªå®šä¹‰ commandï¼šå¯ä»¥å°†é€šç”¨çš„ Prompt åšæˆè‡ªå®šä¹‰ commandï¼Œæ–‡ä»¶ä½ç½®åœ¨<code>.claude/commands/</code>ï¼›è¿˜å¯ä»¥é€šè¿‡ <code>$ARGUMENUTS</code> æ¥æ¥æ”¶è‡ªå®šä¹‰å‚æ•°</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5e4f70c3c0b42caa221de1cb0bf2032~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2e5LiT5Lia56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763567916&amp;x-signature=%2FvsfdGwhw8oGvs9ivfWvZ%2FSGnSs%3D" alt="" loading="lazy"/></p>
<ul>
<li>
<p><code>/agents</code>ï¼šæœ‰çš„ä»»åŠ¡æ¯”è¾ƒå¤æ‚ï¼Œæˆ–ä¸Šä¸‹æ–‡è¾ƒå¤šï¼Œé‚£å¯ä»¥æ‹†åˆ†æˆå¤šä¸ª agents è¿›è¡Œç»„åˆï¼Œæ¯”å¦‚å†™ä¸šåŠ¡é€»è¾‘ -&gt; æ„å»ºå•å…ƒæµ‹è¯• -&gt; CI/CD ç­‰ï¼Œå¯ä»¥æ‹†åˆ†å¤šä¸ª agents ç»„åˆä½¿ç”¨</p>
</li>
<li>
<p>ä¼šè¯æ¨¡å¼ï¼šåœ¨æœ€æ–°ç‰ˆæœ¬çš„ Claude AI æ’ä»¶ä¸­ï¼Œé™¤äº†ä¹‹å‰å‘½ä»¤è¡Œé£æ ¼çš„ GUI ä»¥å¤–ï¼Œè¿˜æä¾›äº†ä¼šè¯æ¡†é£æ ¼çš„ GUIï¼Œåˆ‡æ¢ä¼šè¯æ¨¡å¼ï¼ŒæŸ¥çœ‹å†å²ä¼šè¯ç­‰ä¼šæ›´æ–¹ä¾¿ï¼›å¦‚ä¸‹ï¼Œä¼šè¯æ¨¡å¼å¯ä»¥åœ¨è¾“å…¥æ¡†å·¦ä¸‹è§’åˆ‡æ¢</p>
</li>
<li>
<ul>
<li>Edit automaticallyï¼šAI æ ¹æ®è¾“å…¥ Prompt è¿›è¡Œç†è§£å¹¶ç›´æ¥ç¼–è¾‘æ–‡ä»¶ï¼Œä¸€èˆ¬ä½¿ç”¨è¯¥æ¨¡å¼å³å¯</li>
</ul>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa3f8eea9b364d41a119159a316cb12f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2e5LiT5Lia56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763567916&amp;x-signature=8AIVFCT%2BakGCI5Rp1w1DwQ0isfw%3D" alt="" loading="lazy"/></p>
<ul>
<li>
<ul>
<li>Plan modeï¼šAI æ ¹æ®è¾“å…¥ Prompt åˆ—å‡ºä¿®æ”¹è®¡åˆ’ï¼Œä½ å¯ä»¥è¿›ä¸€æ­¥æ ¡éªŒå’Œä¿®æ”¹ Plan</li>
</ul>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edccef995e484d3da5629c1a054a025a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2e5LiT5Lia56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763567916&amp;x-signature=DhaJOjtHdBTLI6ssR8pdyhW2GN8%3D" alt="" loading="lazy"/></p>
<ul>
<li>
<ul>
<li>Ask before editsï¼šAI ä¿®æ”¹æ–‡ä»¶å‰è¯¢é—®</li>
</ul>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/283093f7ef1d4001be269832fbaac12d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2e5LiT5Lia56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763567916&amp;x-signature=7L8MljGnrzrIJLTZZx9%2BrYR6MeE%3D" alt="" loading="lazy"/></p>
<ul>
<li>MCPï¼šå¸¸ç”¨çš„ MCP æ˜¯<code>context7</code>ï¼Œ<code>context7</code>æ˜¯ç”¨äºå¸®åŠ© AI æŸ¥æ‰¾æœ€æ–°æ–‡æ¡£çš„ï¼Œé¿å…ä½¿ç”¨è¿‡æ—¶ API</li>
</ul>
<h2 data-id="heading-10">3.2 ç»éªŒæ€»ç»“</h2>
<p>ä¸å¾—ä¸æ„Ÿå¹ï¼ŒAI ç¼–ç¨‹å®åœ¨å¤ªå¼ºå¤§äº†ï¼Œç›¸ä¿¡åœ¨ä¸ä¹…çš„å°†æ¥ï¼Œä¸€ä¸ªåªä¼šå†™ Prompt çš„éä¸“ä¸šç¨‹åºå‘˜ï¼Œä¹Ÿèƒ½å®Œæ•´äº¤ä»˜ä¸€ä¸ª App äº†ã€‚</p>
<p>è®© AI ç¼–ç¨‹ï¼Œå¹¶ä¸æ˜¯è¯´ç»™ä¸€å¥è¯å°±èƒ½è®© AI å®Œæˆä»£ç ï¼Œå„ç§ç»†èŠ‚è¿˜æ˜¯éœ€è¦äººæ¥æå‰æƒ³æ¸…æ¥šï¼Œæ¯•ç«Ÿæœ€ç»ˆç»´æŠ¤ä»£ç å’Œè§£å†³é—®é¢˜çš„è¿˜æ˜¯æˆ‘ä»¬è‡ªå·±ï¼ŒAI åªæ˜¯å¸®æˆ‘ä»¬<strong>ææ•ˆå’Œæ‰©å±•æ€è·¯</strong>çš„å·¥å…·ï¼›æœ‰å¥è¯æ€»ç»“çš„è›®å¥½ï¼šä½ å¯ä»¥å°† AI è§†ä¸ºä¸€ä¸ªéå¸¸èªæ˜ï¼Œç”šè‡³èµ„æ·±ï¼Œä½†æ˜¯æ²¡æœ‰ä¸šåŠ¡ç»éªŒçš„ç¨‹åºå‘˜ã€‚</p>
<p>ä¸‹é¢æˆ‘æƒ³æ€»ç»“ä¸‹æœ€è¿‘å®æˆ˜çš„ä¸€äº›ç»éªŒï¼Œå¸Œæœ›å¯¹å„ä½æœ‰å¸®åŠ©ï¼š</p>
<p><strong>1ï¼‰æ¶æ„è®¾è®¡éœ€è¦æå‰è§„åˆ’å¥½ï¼Œå°½é‡æƒ³æ¸…æ¥šç»†èŠ‚</strong></p>
<p>è°‹å®šè€ŒååŠ¨ï¼Œä¸ç®¡æ˜¯æˆ‘ä»¬è‡ªå·±å†™ä»£ç ï¼Œè¿˜æ˜¯è®© AI å†™ä»£ç ï¼Œæˆ‘è§‰å¾—æå‰æƒ³å¥½è¦åšä»€ä¹ˆï¼Œæ€ä¹ˆåšæ˜¯éå¸¸é‡è¦çš„ã€‚</p>
<p>æ¶æ„è®¾è®¡å¥½äº†ï¼Œç»†èŠ‚æƒ³æ¸…æ¥šäº†ï¼Œé‚£æ€ä¹ˆæ‹†åˆ†å­ä»»åŠ¡ï¼Œå…¶å®ä¹Ÿå°±æ˜ç¡®äº†ã€‚</p>
<p><strong>2ï¼‰ä»»åŠ¡æ‹†åˆ†è¶Šå°è¶Šå¥½ï¼Œä¸Šä¸‹æ–‡è¶Šæ˜ç¡®è¶Šå¥½</strong></p>
<p>AI æœ€é€‚åˆåšæœ‰æ˜ç¡®è¾“å…¥è¾“å‡ºçš„äº‹æƒ…ï¼Œç»™çš„ä¸Šä¸‹æ–‡è¶Šæ˜ç¡®ï¼ŒAI äº§ç”Ÿå¹»è§‰çš„æ¦‚ç‡è¶Šä½ï¼Œè¾“å‡ºç»“æœä¹Ÿä¼šè¶Šå‡†ç¡®ã€‚</p>
<p>å½“ç„¶ï¼Œå¦‚æœæ˜¯è¾“å…¥è¾“å‡ºæ˜ç¡®çš„ä»»åŠ¡ï¼Œä¹Ÿå¯ä»¥è®© AI å…ˆè¾“å‡ºæµ‹è¯•ç”¨ä¾‹ï¼Œæµ‹è¯•ç”¨ä¾‹äººå·¥æ£€æµ‹å®Œå¤‡ä¹‹åï¼Œå†è®© AI ç¼–ç ä¹Ÿæ˜¯å¯ä»¥çš„ï¼ˆæµ‹è¯•é©±åŠ¨å¼€å‘/TDDï¼‰ã€‚</p>
<p><strong>3ï¼‰æ¯ä¸€é¡¹ç›®ä»»åŠ¡åšå¥½ä¹‹åå†è¿›è¡Œä¸‹ä¸€é¡¹ä»»åŠ¡</strong></p>
<p>åŸºç¡€ä¸ç‰¢ï¼Œåœ°åŠ¨å±±æ‘‡ï¼</p>
<p>æ¨èæ‰“ç£¨å¥½æ¯ä¸€é¡¹å­ä»»åŠ¡å†ç»§ç»­ä¸‹ä¸€é¡¹ä»»åŠ¡ï¼Œå¦åˆ™åƒé‡Œä¹‹å ¤æ¯äºèšç©´ï¼Œæ¯ä¸ªä»»åŠ¡éƒ½ç•™ä¸€ç‚¹å‘ï¼Œæœ€ç»ˆå¯èƒ½å¸¦æ¥ç¾éš¾æ€§çš„ç»“æœï¼</p>
<p>å¦å¤–ï¼Œâ€‹<strong>å•æµ‹æ˜¯ä¸ªå¥½ä¸œè¥¿</strong>â€‹ï¼Œå¯¹æ¯é¡¹ä»»åŠ¡è¡¥é½å•æµ‹ï¼Œå¯ä»¥æœ‰æ•ˆé˜²æ­¢åç»­ AI æ”¹å‡ºé—®é¢˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4a64db6938248e5b313b171bb50e5d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2e5LiT5Lia56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763567916&amp;x-signature=whw7TRt%2BIfIVobCVwtBGbluOiAk%3D" alt="" loading="lazy"/></p>
<p><strong>4ï¼‰å–„ç”¨ Gitï¼Œé˜²æ­¢ä»£ç æ±¡æŸ“</strong></p>
<p>Claude åœ¨ Edit automatically æ¨¡å¼ä¸‹ä¼šç›´æ¥ä¿®æ”¹æ–‡ä»¶ï¼Œä¸ºäº†é˜²æ­¢æ±¡æŸ“å…¶ä»–ä»£ç ï¼Œæ¯æ¬¡è®© AI ä¿®æ”¹å‰å°½é‡ä¿è¯å·¥ä½œåŒºå¹²å‡€ï¼Œè¿™æ ·ä¹Ÿèƒ½æ–¹ä¾¿æˆ‘ä»¬ Review ä»£ç ã€‚</p>
<p><strong>5ï¼‰å†™ Prompt å°½é‡ç”¨æ˜ç¡®çš„è¯æ±‡ï¼Œä¸è¦è¡¨æ„ä¸æ¸…</strong></p>
<p>æ¯”å¦‚åœ¨æ„å»º ElementTree æ—¶ï¼Œæˆ‘ä¼šæ˜ç¡®å‘Šè¯‰ AI è¦æ”¯æŒå“ªäº› Styleï¼Œå¯ä»¥æœ‰æ•ˆé¿å… AI è‡†æµ‹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b33f7e09eb3c4519a868e829d0284c65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2e5LiT5Lia56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763567916&amp;x-signature=Ny01xR%2F%2Bdzs4EDf6kOsdWTUyVkI%3D" alt="" loading="lazy"/></p>
<p>ä¸ä¹‹ç›¸åçš„åä¾‹æ˜¯ï¼Œåœ¨æ„å»º LayoutTree æ—¶ï¼Œé™å®šä¸è¶³ï¼Œå¯¼è‡´ AI è‡ªç”±å‘æŒ¥ï¼Œæœ€ç»ˆå®ç°å‡ºå¾ˆå¤š Bugã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/27596abffd0e4051b3a8fa31044a6747~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2e5LiT5Lia56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763567916&amp;x-signature=m3rTFDpOgS8CFo7JI4o0Qlyp%2B%2BM%3D" alt="" loading="lazy"/></p>
<p><strong>6ï¼‰å–„ç”¨æç¤ºè¯ï¼šthink &lt; think hard &lt; think harder &lt; ultrathink</strong></p>
<p>å¯ä»¥åœ¨ Prompt ä¸­è¿½åŠ  think hard / think harder ç­‰è¯æ±‡ï¼Œæ¥è®© AI è¿›å…¥â€‹<strong>æ·±åº¦æ€è€ƒ</strong>â€‹ï¼Œè¿™å¹¶ä¸æ˜¯ä»€ä¹ˆé»‘é­”æ³•ï¼Œè€Œæ˜¯ Claude AI å®˜æ–¹è®¤è¯çš„ï¼Œå‚è§ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anthropic.com%2Fengineering%2Fclaude-code-best-practices" target="_blank" title="https://www.anthropic.com/engineering/claude-code-best-practices" ref="nofollow noopener noreferrer">www.anthropic.com/engineeringâ€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b75eebc1e18e4de98a0ff568b298ea45~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2e5LiT5Lia56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763567916&amp;x-signature=qqh1dhpbg5jy7PKuIBYrLyZIKt0%3D" alt="" loading="lazy"/></p>
<p>å®è·µä¸‹æ¥ï¼Œç¡®å®è¿˜æ˜¯æœ‰æ•ˆæœçš„ï¼Œå¦‚ä¸‹æ˜¯è®© AI ä¿®å¤æ–‡æœ¬å¯¹é½é—®é¢˜ï¼ŒåŠ äº† think hard AI ä¼šæ›´æ·±å…¥ç†è§£ä»£ç ï¼Œæ‰¾åˆ°é—®é¢˜åŸå› ï¼›å½“ç„¶ï¼Œè¿™ç§æ–¹å¼ä¹Ÿæœ‰å¼Šç«¯ï¼Œå°±æ˜¯ä¼šè€—è´¹æ›´å¤šçš„ tokenï¼ˆmoneyï¼‰ğŸ‘º</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a5d6e88778941a287d6e4f9fcd765eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2e5LiT5Lia56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763567916&amp;x-signature=Vc1%2BQ8XH%2Bc1vZBPW7QBM%2FjsSzNg%3D" alt="" loading="lazy"/></p>
<p>â€‹<strong>7ï¼‰å–„ç”¨</strong>â€‹ <strong><code>/compact</code><strong>â€‹â€‹</strong>â€‹ â€‹</strong>â€‹ <strong><code>/clear</code><strong>â€‹</strong>å‘½ä»¤ï¼Œå‡å°‘æ¨¡å‹å¹»è§‰</strong></p>
<p>å¦‚æœä¸ä¸»åŠ¨æ¸…é™¤ï¼ŒClaude AI ä¼šè¯ä¸­çš„ä¸Šä¸‹æ–‡æ˜¯ä¼šä¸€ç›´ä¿å­˜çš„ï¼Œå½“ä¸€ä¸ªä¼šè¯ä¸­é—®ç­”è½®æ¬¡è¿‡å¤šï¼Œå¯èƒ½ä¼šå¯¼è‡´ AI ç†è§£ä¸å‡†ç¡®ï¼ˆå¹»è§‰ï¼‰ã€‚</p>
<p>å¯ä»¥é€šè¿‡<code>/compact</code> æˆ–<code>/clear</code>å‘½ä»¤ï¼Œæ¥å‹ç¼©/æ¸…é™¤ä¸Šä¸‹æ–‡ã€‚</p>
<p>ä¸€èˆ¬æˆ‘åœ¨ä¿®å¤æœ‰å…³è”æ€§çš„ Bug æ—¶ï¼Œä¼šä½¿ç”¨<code>/compact</code>å‘½ä»¤ï¼Œè¿™æ · AI å°±ä¸éœ€è¦é‡æ–°ç†è§£å·¥ç¨‹ï¼Œç†è§£ Bug äº†ï¼Œå¯ä»¥æé«˜æ•ˆç‡ã€‚</p>
<p><strong>8ï¼‰BugFix å°½é‡æ„é€ æœ€å°å¯å¤ç° Demo</strong></p>
<p>BugFix å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªå­ä»»åŠ¡ï¼Œæœ€å°å¯å¤ç° Demo å‡å°‘ AI çš„ç†è§£è´Ÿæ‹…ã€‚</p>
<p><strong>9ï¼‰åŠæ—¶äººå·¥ä»‹å…¥ï¼Œé¿å…åœ¨ä¸€ä¸ªé—®é¢˜ä¸Šæ­»ç£•</strong></p>
<p>æœ‰æ—¶å€™è®© AI ä¿®å¤ Bug æ—¶ï¼Œå¯èƒ½åå¤ä¿®æ”¹éƒ½è§£å†³ä¸äº†ï¼Œè¿™æ—¶å€™å¤§æ¦‚ç‡æ˜¯ AI æ²¡æœ‰çœŸæ­£ç†è§£é—®é¢˜ï¼Œæˆ–è€…å°±æ˜¯è¾“å…¥çš„ Prompt æœ‰é—®é¢˜ï¼Œè¿™ç§æƒ…å†µä¸‹å°±æ²¡å¿…è¦è®© AI æ­»ç£•é—®é¢˜äº†ï¼Œæˆ‘ä»¬å¯ä»¥åŠæ—¶äººå·¥ä»‹å…¥ï¼Œé¿å…æµªè´¹æ—¶é—´ã€‚</p>
<p><strong>10ï¼‰å–„ç”¨ Plan æ¨¡å¼</strong></p>
<p>åœ¨ä»»åŠ¡æ‹†åˆ†æ—¶ï¼Œæˆ‘ä»¬è‡ªå·±å¯èƒ½ä¹Ÿæ²¡æƒ³æ˜ç™½åº”è¯¥æ€ä¹ˆåšï¼Œé‚£å¯ä»¥åˆ‡æ¢åˆ° Plan æ¨¡å¼ï¼Œè®© AI å’Œæˆ‘ä»¬ä¸€èµ·æ‹†ä»»åŠ¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e358edcca7a247efbef6bcb0bbb55c4e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2e5LiT5Lia56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763567916&amp;x-signature=KfXAhLqmFtg9DTncfLV622jGg%2FA%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-11">3.3 Vibe Coding çš„ä¸€äº›å¼Šç«¯</h2>
<p><strong>1ï¼‰ä»˜è´¹ï¼Œè€Œä¸”è¿˜æŒºè´µï¼</strong></p>
<p>è¿™æ˜¯ä¸€ä¸ªæŒºç°å®çš„é—®é¢˜ï¼Œä¸€äº›å¥½çš„æ¨¡å‹éƒ½æŒºè´µï¼Œè€Œä¸”è¿˜æ˜¯æ¶ˆè€—çš„åˆ€ä¹ï¼Œå›½å†…å‚å•†çš„æ¨¡å‹è´¨é‡åˆä¸å°½å¦‚äººæ„ã€‚</p>
<p><strong>2ï¼‰ç¼–ç é£æ ¼é—®é¢˜ &amp; æ‰©å±•æ€§ã€æ˜“ç”¨æ€§ã€é²æ£’æ€§ä¸è¶³</strong></p>
<p>AI å†™çš„ä»£ç è¿˜æ˜¯æŒºå®¹æ˜“çœ‹å‡ºæ¥çš„ï¼Œæ„Ÿè§‰å¾ˆéš¾å¸¦æœ‰ç¨‹åºå‘˜çš„ä¸ªäººé£æ ¼ï¼Œä¸€ä¸ªæ˜æ˜¾çš„è¡¨ç°æ˜¯ä¼šç”¨ä¸€äº›æ¯”è¾ƒå°‘è§çš„ APIï¼Œè™½ç„¶ï¼Œè¿™å¯èƒ½ä¹Ÿæ˜¯ AI çš„å‰å®³ä¹‹å¤„ã€‚</p>
<p>å¦å¤–ï¼ŒAI åœ¨ä¸€äº›å‡½æ•°å¤ç”¨æ€§ã€æ‰©å±•æ€§ã€ä½¿ç”¨æ–¹ä¾¿æ€§ä¸Šæœ‰æ—¶å€™å·®å¼ºäººæ„ï¼Œæ¯”å¦‚ AI ç”Ÿæˆä»£ç å¦‚ä¸‹ï¼šå¦‚æœè¦é…ç½® Element çš„ Styleï¼Œéœ€è¦ä¸æ–­çš„è°ƒç”¨<code>text.style.xxx</code>ï¼Œä½†å…¶å®å†™æˆé“¾å¼è°ƒç”¨ä½¿ç”¨èµ·æ¥ä¼šæ›´èˆ’æœï¼Œå¦‚ä¸‹æ³¨é‡Šéƒ¨åˆ†</p>
<pre><code class="hljs language-scss" lang="scss">let text = <span class="hljs-built_in">TextElement</span>(text: "ä¸€ã€æ™¨å…‰åˆç…§")
text<span class="hljs-selector-class">.style</span><span class="hljs-selector-class">.color</span> = <span class="hljs-selector-class">.red</span>
text<span class="hljs-selector-class">.style</span><span class="hljs-selector-class">.font</span> = UIFont<span class="hljs-selector-class">.systemFont</span>(ofSize: <span class="hljs-number">17</span>)

<span class="hljs-comment">// æ›´å¥½çš„å†™æ³•</span>
<span class="hljs-comment">// text.style.setColor(xxx).setFont(xxx)</span>
</code></pre>
<p>é²æ£’æ€§æ–¹é¢ï¼ŒAI ä¸ä¼šä¸»åŠ¨è€ƒè™‘è°ƒç”¨åœºæ™¯ï¼Œæ¯”å¦‚æˆ‘è™½ç„¶å‘Šè¯‰äº† AI æˆ‘è¦æ”¯æŒå­çº¿ç¨‹å¸ƒå±€ï¼Œä½†æ˜¯ AI ç”Ÿæˆçš„ä»£ç å¹¶ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</p>
<p>å½“ç„¶ï¼Œä¸Šè¿°è¿™äº›ï¼Œå¯ä»¥é€šè¿‡å®Œå–„ Prompt æ¥éƒ¨åˆ†å¼¥è¡¥ã€‚</p>
<p><strong>3ï¼‰é—®é¢˜å®šä½å¹»è§‰</strong></p>
<p>æœ‰æ—¶å€™è®© AI æ’æŸ¥ä¸€äº› Bugï¼Œå®ƒæ— æ³•æ‰¾åˆ°çœŸæ­£çš„åŸå› ï¼Œåå¤ä¿®æ”¹åè¿˜æ˜¯æœ‰é—®é¢˜ã€‚</p>
<p>è¿™ç§æƒ…å†µä¸‹ï¼Œå°±éœ€è¦äººå·¥ä»‹å…¥äº†ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±å®šä½é—®é¢˜ï¼Œå†å‘Šè¯‰ AI æ€ä¹ˆä¿®æ”¹ï¼Œè€Œä¸è¦è®© AI æ­»ç£•é—®é¢˜ï¼Œé¿å…æµªè´¹æ—¶é—´ã€‚</p>
<h2 data-id="heading-12">å››ã€è´´ä¸‹æºç  &amp; Prompt</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FHusterYP%2FRichView%2Ftree%2Fmain" target="_blank" title="https://github.com/HusterYP/RichView/tree/main" ref="nofollow noopener noreferrer">github.com/HusterYP/Riâ€¦</a></p>
<blockquote>
<p>å†…å®¹é¦–å‘åœ¨å…¬ä¼—å·ã€Œéä¸“ä¸šç¨‹åºå‘˜Pingã€ï¼Œè§‰å¾—æœ‰ç”¨çš„è¯ï¼Œä¸‰è¿å†èµ°å§ï½ (âËƒá´—Ë‚â)<br/>
å¯Œæ–‡æœ¬ç›¸å…³ï¼Œä½ å¯èƒ½æ„Ÿå…´è¶£ï¼š</p>
</blockquote>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FEYPO3sSjtIstD3RmlRCs9w" target="_blank" title="https://mp.weixin.qq.com/s/EYPO3sSjtIstD3RmlRCs9w" ref="nofollow noopener noreferrer">ä¸€æ–‡è¯»æ‡‚å­—ç¬¦ä¸ç¼–ç </a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F96YJGYKLoxENC4qT9tYNoQ" target="_blank" title="https://mp.weixin.qq.com/s/96YJGYKLoxENC4qT9tYNoQ" ref="nofollow noopener noreferrer">ä¸€æ–‡è¯»æ‡‚å­—ç¬¦ã€å­—å½¢ã€å­—ä½“</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FD0A8HAQaQNart7KAdWXyJg" target="_blank" title="https://mp.weixin.qq.com/s/D0A8HAQaQNart7KAdWXyJg" ref="nofollow noopener noreferrer">ä¸€æ–‡è¯»æ‡‚å­—ä½“æ–‡ä»¶</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FfcL6if52qYQUTChEjntHJg" target="_blank" title="https://mp.weixin.qq.com/s/fcL6if52qYQUTChEjntHJg" ref="nofollow noopener noreferrer">ä»0åˆ°1è‡ªå®šä¹‰æ–‡å­—æ’ç‰ˆå¼•æ“ï¼šåŸç†ç¯‡</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FEpaNjLcG6DZBc128A2gdIQ" target="_blank" title="https://mp.weixin.qq.com/s/EpaNjLcG6DZBc128A2gdIQ" ref="nofollow noopener noreferrer">é€†å‘åˆ†æCoreTextä¸­çš„å­—ä½“çº§è”/Font Fallbackæœºåˆ¶</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F1oOSJkTIJ8njV49B6PsfgA" target="_blank" title="https://mp.weixin.qq.com/s/1oOSJkTIJ8njV49B6PsfgA" ref="nofollow noopener noreferrer">æ–°æ‰‹å°ç™½ä¹Ÿèƒ½çœ‹æ‡‚çš„LLDBæŠ€å·§/é€†å‘æŠ€å·§</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fo0Uv0b4MpXJA5Pa_tuM_IQ" target="_blank" title="https://mp.weixin.qq.com/s/o0Uv0b4MpXJA5Pa_tuM_IQ" ref="nofollow noopener noreferrer">HarfBuzzæ¦‚è§ˆ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FqaEfPkmFYRgbOJXqctJPDg" target="_blank" title="https://mp.weixin.qq.com/s/qaEfPkmFYRgbOJXqctJPDg" ref="nofollow noopener noreferrer">HarfBuzzæ ¸å¿ƒæ¦‚å¿µ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FNxBfP4MJ0Y67trIVh39tag" target="_blank" title="https://mp.weixin.qq.com/s/NxBfP4MJ0Y67trIVh39tag" ref="nofollow noopener noreferrer">HarfBuzzå®æˆ˜ï¼šäº”å¤§æ ¸å¿ƒAPIå®ä¾‹è¯¦è§£ã€é™„iOS/Swiftç¤ºä¾‹ã€‘</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ§© Argon2 å¯†ç å“ˆå¸Œ]]></title>    <link>https://juejin.cn/post/7571747061385691155</link>    <guid>https://juejin.cn/post/7571747061385691155</guid>    <pubDate>2025-11-13T03:02:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571747061385691155" data-draft-id="7571729676344197183" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ§© Argon2 å¯†ç å“ˆå¸Œ"/> <meta itemprop="keywords" content="åç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-13T03:02:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€èµ·å…»æ¡é±¼å§"/> <meta itemprop="url" content="https://juejin.cn/user/2515334721186663"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ§© Argon2 å¯†ç å“ˆå¸Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2515334721186663/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€èµ·å…»æ¡é±¼å§
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T03:02:43.000Z" title="Thu Nov 13 2025 03:02:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ“˜ æ¦‚è¿°</h2>
<p><code>argon2</code> æ˜¯ä¸€ç§<strong>ç°ä»£ã€å®‰å…¨çš„å¯†ç å“ˆå¸Œç®—æ³•</strong>ï¼Œç”¨äºå®‰å…¨å­˜å‚¨ç”¨æˆ·å¯†ç æˆ–å…¶ä»–æ•æ„Ÿè®¤è¯ä¿¡æ¯ã€‚
å®ƒä¸æ˜¯åŠ å¯†ï¼ˆencryptionï¼‰ï¼Œè€Œæ˜¯<strong>å•å‘å“ˆå¸Œï¼ˆhashingï¼‰</strong> â€”â€” æ— æ³•è§£å¯†ã€‚</p>
<p>Argon2 æ˜¯ 2015 å¹´å¯†ç å“ˆå¸Œç«èµ›ï¼ˆPHCï¼‰çš„è·èƒœç®—æ³•ï¼Œç›®å‰å…¬è®¤ä¸ºä¸šç•Œæœ€å®‰å…¨ã€æœ€å…ˆè¿›çš„å“ˆå¸Œæ–¹æ¡ˆä¹‹ä¸€ã€‚</p>
<hr/>
<h2 data-id="heading-1">ğŸ§  æ ¸å¿ƒæ€æƒ³</h2>

























<table><thead><tr><th>æ¦‚å¿µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>å“ˆå¸Œï¼ˆHashï¼‰</td><td>å°†æ˜æ–‡å¯†ç è½¬æ¢ä¸ºå›ºå®šé•¿åº¦çš„éšæœºå­—ç¬¦ä¸²ï¼ˆä¸å¯é€†ï¼‰</td></tr><tr><td>åŠ ç›ï¼ˆSaltï¼‰</td><td>åœ¨å“ˆå¸Œå‰åŠ å…¥éšæœºæ•°æ®ï¼Œä½¿æ¯ä¸ªç»“æœå”¯ä¸€</td></tr><tr><td>éªŒè¯ï¼ˆVerifyï¼‰</td><td>ç”¨è¾“å…¥å¯†ç é‡æ–°è®¡ç®—å“ˆå¸Œå¹¶æ¯”å¯¹æ˜¯å¦ä¸€è‡´</td></tr><tr><td>ä¸å¯é€†</td><td>æ— æ³•â€œè§£å¯†â€å¾—åˆ°åŸå§‹å¯†ç </td></tr></tbody></table>
<hr/>
<h2 data-id="heading-2">ğŸ§° Node.js ç¤ºä¾‹</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> argon2 <span class="hljs-keyword">from</span> <span class="hljs-string">"argon2"</span>;

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">example</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> password = <span class="hljs-string">"123456"</span>;

  <span class="hljs-comment">// 1ï¸âƒ£ ç”Ÿæˆå“ˆå¸Œ</span>
  <span class="hljs-keyword">const</span> hash = <span class="hljs-keyword">await</span> argon2.<span class="hljs-title function_">hash</span>(password);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å“ˆå¸Œç»“æœï¼š"</span>, hash);
  <span class="hljs-comment">// ç¤ºä¾‹è¾“å‡º: $argon2id$v=19$m=65536,t=3,p=4$YWFh...ZGRk</span>

  <span class="hljs-comment">// 2ï¸âƒ£ éªŒè¯å¯†ç </span>
  <span class="hljs-keyword">const</span> isValid = <span class="hljs-keyword">await</span> argon2.<span class="hljs-title function_">verify</span>(hash, <span class="hljs-string">"123456"</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"éªŒè¯ç»“æœï¼š"</span>, isValid); <span class="hljs-comment">// true</span>

  <span class="hljs-comment">// 3ï¸âƒ£ é”™è¯¯ç¤ºä¾‹</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">await</span> argon2.<span class="hljs-title function_">verify</span>(hash, <span class="hljs-string">"wrong"</span>)); <span class="hljs-comment">// false</span>
}

<span class="hljs-title function_">example</span>();
</code></pre>
<hr/>
<h2 data-id="heading-3">ğŸ§© Python ç­‰ä»·å®ç°ï¼ˆargon2-cffiï¼‰</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> argon2 <span class="hljs-keyword">import</span> PasswordHasher

ph = PasswordHasher()
<span class="hljs-built_in">hash</span> = ph.<span class="hljs-built_in">hash</span>(<span class="hljs-string">"123456"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">hash</span>)

<span class="hljs-comment"># éªŒè¯å¯†ç </span>
ph.verify(<span class="hljs-built_in">hash</span>, <span class="hljs-string">"123456"</span>)  <span class="hljs-comment"># âœ… æ­£ç¡®</span>
</code></pre>
<p>å®‰è£…ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pip install argon2-cffi
</code></pre>
<hr/>
<h2 data-id="heading-4">ğŸ§© è‡ªåŠ¨åŠ ç›æœºåˆ¶ï¼ˆSaltï¼‰</h2>
<p>Argon2 åœ¨ç”Ÿæˆå“ˆå¸Œæ—¶ä¼š<strong>è‡ªåŠ¨åŠ å…¥éšæœºç›ï¼ˆsaltï¼‰</strong>ã€‚
æ¯æ¬¡è°ƒç”¨ <code>argon2.hash()</code>ï¼Œå³ä½¿è¾“å…¥çš„å¯†ç ç›¸åŒï¼Œç”Ÿæˆçš„å“ˆå¸Œä¹Ÿä¸åŒã€‚</p>
<p>ä¾‹å­ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> hash1 = <span class="hljs-keyword">await</span> argon2.<span class="hljs-title function_">hash</span>(<span class="hljs-string">"123456"</span>);
<span class="hljs-keyword">const</span> hash2 = <span class="hljs-keyword">await</span> argon2.<span class="hljs-title function_">hash</span>(<span class="hljs-string">"123456"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(hash1);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(hash2);
</code></pre>
<p>è¾“å‡ºï¼ˆæ³¨æ„ä¸åŒï¼‰ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">$argon2id$<span class="hljs-attr">v</span>=<span class="hljs-number">19</span><span class="hljs-variable">$m</span>=<span class="hljs-number">65536</span>,t=<span class="hljs-number">3</span>,p=<span class="hljs-number">4</span><span class="hljs-variable">$4tYpH</span>...<span class="hljs-variable">$1mSw</span>...
$argon2id$<span class="hljs-attr">v</span>=<span class="hljs-number">19</span><span class="hljs-variable">$m</span>=<span class="hljs-number">65536</span>,t=<span class="hljs-number">3</span>,p=<span class="hljs-number">4</span><span class="hljs-variable">$kqC6z</span>...<span class="hljs-variable">$TnsA</span>...
</code></pre>
<p>âœ… <strong>åŸå› </strong>ï¼šæ¯æ¬¡éƒ½ä¼šç”Ÿæˆä¸€ä¸ªéšæœºç›ã€‚
ç›ä¼šè‡ªåŠ¨åŒ…å«åœ¨å“ˆå¸Œå­—ç¬¦ä¸²ä¸­ï¼Œæ— éœ€æ‰‹åŠ¨ä¿å­˜æˆ–ç®¡ç†ã€‚</p>
<hr/>
<h3 data-id="heading-5">éªŒè¯æ—¶çš„å·¥ä½œåŸç†</h3>
<p><code>argon2.verify(stored_hash, input_password)</code> ä¼šè‡ªåŠ¨ï¼š</p>
<ol>
<li>ä»å“ˆå¸Œå­—ç¬¦ä¸²ä¸­è§£æç›å’Œç®—æ³•å‚æ•°ï¼›</li>
<li>ç”¨è¾“å…¥å¯†ç å’Œè§£æå‡ºçš„ç›é‡æ–°è®¡ç®—å“ˆå¸Œï¼›</li>
<li>æ¯”å¯¹ç»“æœæ˜¯å¦ä¸€è‡´ã€‚</li>
</ol>
<p>ğŸ‘‰ æ‰€ä»¥åªè¦ä¿å­˜è¿™ä¸€æ•´ä¸²å“ˆå¸Œå­—ç¬¦ä¸²ï¼Œå°±è¶³å¤ŸéªŒè¯å¯†ç ï¼Œæ— éœ€é¢å¤–å­˜ç›ã€‚</p>
<hr/>
<h2 data-id="heading-6">ğŸ”’ å“ˆå¸Œç»“æœç»“æ„è§£æ</h2>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-variable">$argon</span>2id<span class="hljs-variable">$v</span>=<span class="hljs-number">19</span><span class="hljs-variable">$m</span>=<span class="hljs-number">65536</span>,t=<span class="hljs-number">3</span>,p=<span class="hljs-number">4</span><span class="hljs-variable">$&lt;</span>salt&gt;<span class="hljs-variable">$&lt;</span>hash&gt;
</code></pre>





































<table><thead><tr><th>å­—æ®µ</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>argon2id</td><td>ä½¿ç”¨çš„ Argon2 ç±»å‹ï¼ˆæ¨èï¼‰</td></tr><tr><td>v=19</td><td>ç®—æ³•ç‰ˆæœ¬</td></tr><tr><td>m=65536</td><td>å†…å­˜æˆæœ¬ï¼ˆè¶Šå¤§è¶Šå®‰å…¨ï¼‰</td></tr><tr><td>t=3</td><td>è¿­ä»£æ¬¡æ•°</td></tr><tr><td>p=4</td><td>å¹¶è¡Œåº¦</td></tr><tr><td>salt</td><td>éšæœºç›</td></tr><tr><td>hash</td><td>å“ˆå¸Œç»“æœ</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-7">âš ï¸ é‡è¦ç‰¹æ€§</h2>





























<table><thead><tr><th>ç‰¹æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>è‡ªåŠ¨åŠ ç›</td><td>âœ… å†…ç½®éšæœºç›ï¼Œæ¯æ¬¡ä¸åŒ</td></tr><tr><td>ä¸å¯é€†</td><td>âŒ ä¸èƒ½è§£å¯†è¿˜åŸåŸæ–‡</td></tr><tr><td>å¯éªŒè¯</td><td>âœ… å¯ç”¨ <code>verify()</code> æ£€æŸ¥å¯†ç æ˜¯å¦åŒ¹é…</td></tr><tr><td>æŠ—æš´åŠ›ç ´è§£</td><td>âœ… éœ€è¦å¤§é‡å†…å­˜å’Œ CPU æ—¶é—´</td></tr><tr><td>å¯é…ç½®</td><td>å¯è°ƒæ•´å†…å­˜æˆæœ¬ï¼ˆmï¼‰ã€è¿­ä»£æ¬¡æ•°ï¼ˆtï¼‰ã€å¹¶è¡Œåº¦ï¼ˆpï¼‰</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-8">ğŸ“ å°ç»“</h2>





























<table><thead><tr><th>æ“ä½œ</th><th>æ–¹æ³•</th></tr></thead><tbody><tr><td>ç”Ÿæˆå“ˆå¸Œ</td><td><code>await argon2.hash(password)</code></td></tr><tr><td>éªŒè¯å¯†ç </td><td><code>await argon2.verify(hash, inputPassword)</code></td></tr><tr><td>æ˜¯å¦è‡ªåŠ¨åŠ ç›</td><td>âœ… æ˜¯</td></tr><tr><td>ç›éœ€ä¿å­˜å—</td><td>âŒ ä¸éœ€è¦ï¼ˆå“ˆå¸Œä¸­å·²åŒ…å«ï¼‰</td></tr><tr><td>Python å®ç°</td><td><code>argon2-cffi</code></td></tr></tbody></table>
<hr/>
<blockquote>
<p>ğŸ—’ï¸ è®°ä½ï¼š
Argon2 æ˜¯å¯†ç å“ˆå¸Œç®—æ³•ï¼Œä¸æ˜¯åŠ å¯†ç®—æ³•ã€‚
å®ƒçš„ç›®æ ‡æ˜¯è®©å¯†ç <strong>æ— æ³•è¢«è¿˜åŸ</strong>ï¼Œä½†èƒ½è¢«å®‰å…¨åœ°éªŒè¯ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Nettyæºç åˆ†æï¼ˆç»ˆï¼‰--å…³äºWriteAndFlush]]></title>    <link>https://juejin.cn/post/7571722835658014754</link>    <guid>https://juejin.cn/post/7571722835658014754</guid>    <pubDate>2025-11-13T02:21:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571722835658014754" data-draft-id="7571237750731128866" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Nettyæºç åˆ†æï¼ˆç»ˆï¼‰--å…³äºWriteAndFlush"/> <meta itemprop="keywords" content="Netty,æºç é˜…è¯»"/> <meta itemprop="datePublished" content="2025-11-13T02:21:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="9527å‡ºåˆ—"/> <meta itemprop="url" content="https://juejin.cn/user/882280885387789"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Nettyæºç åˆ†æï¼ˆç»ˆï¼‰--å…³äºWriteAndFlush
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/882280885387789/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    9527å‡ºåˆ—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T02:21:18.000Z" title="Thu Nov 13 2025 02:21:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨ Netty ç¼–ç¨‹ä¸­ï¼Œ<code>writeAndFlush()</code> æ˜¯æˆ‘ä»¬æœ€å¸¸ä½¿ç”¨çš„æ–¹æ³•ä¹‹ä¸€ã€‚å®ƒä»£è¡¨ç€ä»ç”¨æˆ·å±‚åˆ°å†…æ ¸ç¼“å†²åŒºçš„ä¸€æ•´æ¡å‡ºç«™ï¼ˆOutboundï¼‰æ•°æ®è·¯å¾„ã€‚æœ¬ç« å°†ä»æºç å±‚é¢ï¼Œæ·±å…¥åˆ†æ <code>writeAndFlush()</code> çš„æ‰§è¡Œæµç¨‹ä¸å…³é”®æœºåˆ¶ã€‚</p>
<h3 data-id="heading-1">writeæ–¹æ³•</h3>
<p>åœ¨å‰é¢è®²è§£ç¼–è§£ç å™¨æ—¶ï¼Œæˆ‘ä»¬æåˆ°è¿‡â€œç¼–ç â€çš„æ¦‚å¿µã€‚ç¼–ç æŒ‡çš„æ˜¯<strong>å°†æœåŠ¡å™¨å¤„ç†å®Œçš„ä¸šåŠ¡å¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚ç </strong>çš„è¿‡ç¨‹ã€‚<br/>
å› ä¸ºæ•°æ®å†™å‡ºå±äº <strong>Outbound äº‹ä»¶</strong>ï¼Œæ‰€ä»¥è´Ÿè´£ç¼–ç çš„ <code>Handler</code> ä¸€èˆ¬ä½äºç®¡é“å°¾éƒ¨ï¼ˆ<code>TailHandler</code>ï¼‰ä¹‹å‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/419f6c73b9db42b885192ccc345273d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgOTUyN-WHuuWIlw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763605277&amp;x-signature=kmUH8VBF1Tn42tquyHAsEtrcdfs%3D" alt="image.png" loading="lazy"/></p>
<p>å…¸å‹çš„ç¼–ç å™¨ï¼ˆEncoderï¼‰é€šå¸¸ç»§æ‰¿è‡ª <code>MessageToByteEncoder</code>ã€‚<br/>
å½“æˆ‘ä»¬è°ƒç”¨ <code>ctx.channel().write()</code> æ—¶ï¼ŒNetty ä¼šä»ç®¡é“å°¾éƒ¨ï¼ˆTailï¼‰å¼€å§‹ï¼Œä¾æ¬¡è°ƒç”¨æ‰€æœ‰ <strong>Outbound ç±»å‹çš„ Handler</strong>ã€‚</p>
<h4 data-id="heading-2">1. MessageToByteEncoder.write()</h4>
<pre><code class="hljs"/></pre>
<pre><code class="hljs language-ini" lang="ini">MessageToByteEncoder

public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) throws Exception {
    ByteBuf <span class="hljs-attr">buf</span> = null<span class="hljs-comment">;</span>
    try {
        if (acceptOutboundMessage(msg)) {
            I <span class="hljs-attr">cast</span> = (I) msg<span class="hljs-comment">;</span>
            <span class="hljs-attr">buf</span> = allocateBuffer(ctx, cast, preferDirect)<span class="hljs-comment">;</span>
            try {
                encode(ctx, cast, buf)<span class="hljs-comment">;</span>
            } finally {
                ReferenceCountUtil.release(cast)<span class="hljs-comment">;</span>
            }

            if (buf.isReadable()) {
                ctx.write(buf, promise)<span class="hljs-comment">;</span>
            } else {
                buf.release()<span class="hljs-comment">;</span>
                ctx.write(Unpooled.EMPTY_BUFFER, promise)<span class="hljs-comment">;</span>
            }
            <span class="hljs-attr">buf</span> = null<span class="hljs-comment">;</span>
        } else {
            ctx.write(msg, promise)<span class="hljs-comment">;</span>
        }
    } catch (Throwable e) {
        throw new EncoderException(e)<span class="hljs-comment">;</span>
    } finally {
        if (buf != null) {
            buf.release()<span class="hljs-comment">;</span>
        }
    }
}

</code></pre>
<p>è¿™ä¸€è¿‡ç¨‹å¯åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li><strong>åˆ¤æ–­æ¶ˆæ¯ç±»å‹</strong>ï¼šè‹¥å½“å‰ <code>Handler</code> èƒ½å¤„ç†è¯¥æ¶ˆæ¯ï¼Œåˆ™è¿›å…¥åç»­æµç¨‹ï¼Œå¦åˆ™ç›´æ¥ä¼ é€’ç»™ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚</li>
<li><strong>ç±»å‹è½¬æ¢</strong>ï¼šå°†æ¶ˆæ¯å¼ºåˆ¶è½¬æ¢ä¸ºç¼–ç å™¨å¯å¤„ç†çš„ç±»å‹ã€‚</li>
<li><strong>åˆ†é… ByteBuf</strong>ï¼šä¸ºç¼–ç åçš„å­—èŠ‚æ•°æ®åˆ†é…ç¼“å†²åŒºã€‚</li>
<li><strong>ç¼–ç è¿‡ç¨‹</strong>ï¼šè°ƒç”¨ <code>encode()</code> æ–¹æ³•ï¼ˆç”¨æˆ·è‡ªå®šä¹‰é€»è¾‘ï¼‰ï¼Œå°†å¯¹è±¡åºåˆ—åŒ–ä¸ºå­—èŠ‚ã€‚</li>
<li><strong>é‡Šæ”¾åŸå¯¹è±¡</strong>ï¼šæ•°æ®å·²è¢«å†™å…¥ ByteBufï¼ŒåŸæ¶ˆæ¯å¯¹è±¡ä¸å†éœ€è¦ã€‚</li>
<li><strong>ä¼ é€’ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</strong>ï¼šè‹¥ <code>buf</code> ä¸­æœ‰æ•°æ®åˆ™ç»§ç»­ä¼ é€’ï¼Œå¦åˆ™é‡Šæ”¾ã€‚</li>
<li><strong>æœ€ç»ˆé‡Šæ”¾èµ„æº</strong>ï¼šåœ¨ Pipeline ä¸­å¤„ç†å®Œæ¯•åé‡Šæ”¾ ByteBufã€‚</li>
</ol>
<h4 data-id="heading-3">2. HeadContext.write()</h4>
<p>æ‰€æœ‰ Outbound Handler æ‰§è¡Œå®Œåï¼ŒByteBuf ä¼šè¿›å…¥ç®¡é“é¦–éƒ¨ï¼ˆHeadï¼‰ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">HeadContext

@<span class="hljs-function">Override
<span class="hljs-keyword">public</span> <span class="hljs-type">void</span> <span class="hljs-title">write</span><span class="hljs-params">(ChannelHandlerContext ctx, Object msg, ChannelPromise promise)</span> throws Exception </span>{
    unsafe.<span class="hljs-built_in">write</span>(msg, promise);
}
</code></pre>
<p>è¿™é‡Œçš„ <code>unsafe.write()</code> å®é™…ç”± <code>AbstractUnsafe</code> å®ç°ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">public final void write(Object msg, ChannelPromise promise) {
    assertEventLoop()<span class="hljs-comment">;</span>

    ChannelOutboundBuffer <span class="hljs-attr">outboundBuffer</span> = this.outboundBuffer<span class="hljs-comment">;</span>
    if (<span class="hljs-attr">outboundBuffer</span> == null) {
        safeSetFailure(promise, WRITE_CLOSED_CHANNEL_EXCEPTION)<span class="hljs-comment">;</span>
        ReferenceCountUtil.release(msg)<span class="hljs-comment">;</span>
        return<span class="hljs-comment">;</span>
    }

    int size<span class="hljs-comment">;</span>
    try {
        <span class="hljs-attr">msg</span> = filterOutboundMessage(msg)<span class="hljs-comment">;</span>
        <span class="hljs-attr">size</span> = pipeline.estimatorHandle().size(msg)<span class="hljs-comment">;</span>
        if (size &lt; 0) <span class="hljs-attr">size</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
    } catch (Throwable t) {
        safeSetFailure(promise, t)<span class="hljs-comment">;</span>
        ReferenceCountUtil.release(msg)<span class="hljs-comment">;</span>
        return<span class="hljs-comment">;</span>
    }

    outboundBuffer.addMessage(msg, size, promise)<span class="hljs-comment">;</span>
}

</code></pre>
<p>æ ¸å¿ƒé€»è¾‘å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>ç¡®ä¿çº¿ç¨‹å®‰å…¨</strong>ï¼š<code>assertEventLoop()</code> ç¡®è®¤å½“å‰æ“ä½œåœ¨ Reactor çº¿ç¨‹ä¸­ã€‚</li>
<li><strong>è¿‡æ»¤æ¶ˆæ¯ç±»å‹</strong>ï¼šé€šè¿‡ <code>filterOutboundMessage()</code> å¤„ç†ä¸åŒç±»å‹çš„æ¶ˆæ¯ã€‚</li>
<li><strong>ä¼°ç®—å†™å…¥å­—èŠ‚æ•°</strong>ï¼šç”¨äºæµæ§ä¸ç»Ÿè®¡ã€‚</li>
<li><strong>åŠ å…¥å†™ç¼“å†²åŒº</strong>ï¼šè°ƒç”¨ <code>ChannelOutboundBuffer.addMessage()</code> å­˜å…¥å¾…å†™é“¾è¡¨ã€‚</li>
</ol>
<h3 data-id="heading-4">ChannelOutboundBuffer</h3>
<p><code>ChannelOutboundBuffer</code> å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ª<strong>å•å‘é“¾è¡¨ç»“æ„</strong>ï¼Œç”¨æ¥ä¿å­˜å¾…å†™çš„ ByteBuf èŠ‚ç‚¹ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">public void addMessage(Object msg, int size, ChannelPromise promise) {
    Entry <span class="hljs-attr">entry</span> = Entry.newInstance(msg, size, total(msg), promise)<span class="hljs-comment">;</span>
    if (<span class="hljs-attr">tailEntry</span> == null) {
        <span class="hljs-attr">flushedEntry</span> = null<span class="hljs-comment">;</span>
        <span class="hljs-attr">tailEntry</span> = entry<span class="hljs-comment">;</span>
    } else {
        <span class="hljs-attr">tailEntry.next</span> = entry<span class="hljs-comment">;</span>
        <span class="hljs-attr">tailEntry</span> = entry<span class="hljs-comment">;</span>
    }
    if (<span class="hljs-attr">unflushedEntry</span> == null) {
        <span class="hljs-attr">unflushedEntry</span> = entry<span class="hljs-comment">;</span>
    }
    incrementPendingOutboundBytes(size, false)<span class="hljs-comment">;</span>
}
</code></pre>
<p>è¯¥é“¾è¡¨åŒ…å«ä¸‰ä¸ªé‡è¦æŒ‡é’ˆï¼š</p>





















<table><thead><tr><th>æŒ‡é’ˆ</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><strong>flushedEntry</strong></td><td>å·²åˆ·æ–°ï¼ˆå†™å…¥æ“ä½œç³»ç»Ÿç¼“å†²åŒºï¼‰çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</td></tr><tr><td><strong>unflushedEntry</strong></td><td>å°šæœªåˆ·æ–°åˆ°å†…æ ¸ç¼“å†²åŒºçš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</td></tr><tr><td><strong>tailEntry</strong></td><td>é“¾è¡¨å°¾èŠ‚ç‚¹</td></tr></tbody></table>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0460f83a21df44eebba40d1ec6c731e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgOTUyN-WHuuWIlw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763605277&amp;x-signature=Vi3LqHHHKqmlOrdcXiOEWCMU1qQ%3D" alt="image.png" loading="lazy"/>
æ¯æ¬¡ <code>addMessage()</code> è°ƒç”¨ï¼Œéƒ½ä¼šåœ¨ <code>unflushedEntry</code> å’Œ <code>tailEntry</code> ä¹‹é—´æ’å…¥æ–°çš„å¾…å†™èŠ‚ç‚¹ã€‚</p>
<h3 data-id="heading-5">flushæ–¹æ³•</h3>
<p><code>flush()</code>æ–¹æ³•å…¶å®å’Œ<code>write()</code>çš„æ‰§è¡Œæµç¨‹æ¯”è¾ƒç›¸ä¼¼ã€‚<br/>
<code>ctx.flush()</code>å’Œ<code>ctx.channel().flush()</code>æœ€ç»ˆéƒ½ä¼šè°ƒç”¨åˆ°HeadèŠ‚ç‚¹çš„flushæ–¹æ³•</p>
<pre><code class="hljs language-java" lang="java">HeadContext  
  
<span class="hljs-meta">@Override</span>  
<span class="hljs-keyword">public</span>Â <span class="hljs-keyword">void</span>Â <span class="hljs-title function_">flush</span><span class="hljs-params">(ChannelHandlerContextÂ ctx)</span>Â <span class="hljs-keyword">throws</span>Â ExceptionÂ ï½›  
Â Â Â Â unsafe.flush()ï¼›  
ï½
</code></pre>
<p><code>unsafe.flush()</code>æ–¹æ³•ç”±AbstractUnsafeå®ç°</p>
<pre><code class="hljs language-ini" lang="ini">HeadContext

@Override
public final void flush() {
    assertEventLoop()<span class="hljs-comment">;</span>
    ChannelOutboundBuffer <span class="hljs-attr">outboundBuffer</span> = this.outboundBuffer<span class="hljs-comment">;</span>
    if (<span class="hljs-attr">outboundBuffer</span> == null) {
        return<span class="hljs-comment">;</span>
    }
    outboundBuffer.addFlush()<span class="hljs-comment">;</span>
    flush0()<span class="hljs-comment">;</span>
}
</code></pre>
<p>å…¶ä¸­<code>outboundBuffer.addFlush()</code>è´Ÿè´£ç§»åŠ¨<strong>outboundBuffer</strong>ä¸­çš„ä¸‰ä¸ªæŒ‡é’ˆï¼ŒæŒ‡é’ˆæœ€ç»ˆä¼šå˜æˆä¸‹å›¾æ‰€ç¤º</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0129eede58344ecc926f2e12d7ee6fb2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgOTUyN-WHuuWIlw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763605277&amp;x-signature=XKjDNo3SyuyutBwm3uSFXymN6kY%3D" alt="image.png" loading="lazy"/></p>
<p><code>flush0()</code>æ–¹æ³•æœ€ç»ˆä¼šè°ƒç”¨<code>AbstractNioByteChannel</code>çš„<code>doWrite()</code>æ–¹æ³•ï¼Œ
<code>doWrite()</code>æ–¹æ³•å–å‡º<strong>outboundBuffer</strong>ä¸­å•é“¾è¡¨çš„èŠ‚ç‚¹ï¼Œåˆ©ç”¨<strong>è‡ªæ—‹é”</strong>å°†èŠ‚ç‚¹å†™åˆ°åè®®æ ˆçš„ç¼“å†²åŒºã€‚<br/>
ä¹‹åç§»é™¤å½“å‰æ¥èŠ‚ç‚¹å¹¶å°†<code>flushedEntry</code>æŒ‡å‘ä¸€ä¸‹ä¸ªèŠ‚ç‚¹ã€‚å¦‚å›¾</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec00be2cbaec46c3849aa053954ef6c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgOTUyN-WHuuWIlw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763605277&amp;x-signature=OC6myQT6%2B9N6a%2Bd5r7VIrFrM1cY%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-6">writeAndFlush æ–¹æ³•</h2>
<p><code>writeAndFlush()</code> æœ¬è´¨ä¸Šç­‰ä»·äºï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">write</span>(msg);
<span class="hljs-built_in">flush</span>();
</code></pre>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼š<br/>
<strong>å…ˆå°†æ¶ˆæ¯åŠ å…¥å‡ºç«™ç¼“å†²åŒºï¼Œå†ç«‹å³è§¦å‘åˆ·å…¥å†…æ ¸ç¼“å†²åŒºçš„åŠ¨ä½œã€‚</strong></p>
<h2 data-id="heading-7">å°ç»“</h2>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å®Œæ•´åˆ†æäº† <code>writeAndFlush()</code> çš„å†…éƒ¨æ‰§è¡Œè·¯å¾„ï¼š</p>
<ol>
<li><strong>write é˜¶æ®µ</strong>ï¼šå¯¹è±¡ â†’ ByteBuf â†’ OutboundPipeline â†’ ChannelOutboundBuffer</li>
<li><strong>flush é˜¶æ®µ</strong>ï¼šå‡ºç«™ç¼“å†²åŒº â†’ æ“ä½œç³»ç»Ÿå†…æ ¸ç¼“å†²åŒº</li>
</ol>
<p>æœ¬ç³»åˆ—ä» Netty çš„å¯åŠ¨æµç¨‹ã€Reactor çº¿ç¨‹æ¨¡å‹ã€å®¢æˆ·ç«¯æ¥å…¥ã€æ•°æ®è§£ç ï¼Œåˆ°æœ¬ç« çš„å†™å‡ºæµç¨‹ï¼Œç³»ç»Ÿåœ°å±•ç¤ºäº† Netty åœ¨ç½‘ç»œé€šä¿¡ä¸­çš„æ ¸å¿ƒæœºåˆ¶ã€‚</p>
<p>Netty ä½œä¸ºä¸€æ¬¾é«˜æ€§èƒ½ç½‘ç»œé€šä¿¡æ¡†æ¶ï¼Œå†…éƒ¨è•´å«äº†å¤§é‡ä¼˜ç§€è®¾è®¡ï¼š</p>
<ul>
<li>å¯¹ <code>SelectionKey</code> çš„ç»“æ„ä¼˜åŒ–ï¼ˆç”±é›†åˆæ”¹ä¸ºæ•°ç»„ï¼‰ï¼›</li>
<li>Selector é‡å»ºæœºåˆ¶ï¼Œè§„é¿ JDK ç©ºè½®è¯¢ Bugï¼›</li>
<li>ç²¾ç»†åŒ–å†…å­˜ç®¡ç†ä¸çº¿ç¨‹æ¨¡å‹ä¼˜åŒ–ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€ ä»â€œHulkâ€æ‰©å±•å¼€å‘å®æˆ˜ï¼ŒèŠèŠæˆ‘æ‰¾åˆ°çš„â€œVibe Codingâ€æœ€ä½³å§¿åŠ¿]]></title>    <link>https://juejin.cn/post/7571657746346917942</link>    <guid>https://juejin.cn/post/7571657746346917942</guid>    <pubDate>2025-11-12T16:46:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571657746346917942" data-draft-id="7571657746346901558" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€ ä»â€œHulkâ€æ‰©å±•å¼€å‘å®æˆ˜ï¼ŒèŠèŠæˆ‘æ‰¾åˆ°çš„â€œVibe Codingâ€æœ€ä½³å§¿åŠ¿"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,è®¾è®¡"/> <meta itemprop="datePublished" content="2025-11-12T16:46:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å—å±±å®‰"/> <meta itemprop="url" content="https://juejin.cn/user/1795929588117962"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€ ä»â€œHulkâ€æ‰©å±•å¼€å‘å®æˆ˜ï¼ŒèŠèŠæˆ‘æ‰¾åˆ°çš„â€œVibe Codingâ€æœ€ä½³å§¿åŠ¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1795929588117962/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å—å±±å®‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T16:46:19.000Z" title="Wed Nov 12 2025 16:46:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>ä½œä¸ºä¸€åå‰ç«¯å­¦ä¹ è€…ï¼Œæˆ‘æ›¾æ²‰è¿·äºåœ¨æ¯ä¸€ä¸ªåƒç´ å’Œæ¯ä¸€è¡Œä»£ç ä¸Šç²¾ç›Šæ±‚ç²¾ã€‚</p>
<p>ä½†æœ€è¿‘ï¼Œä¸€ç§åä¸ºÂ  <strong>â€œVibe Codingâ€</strong> â€‹ çš„åä½œæ¨¡å¼å½»åº•æ”¹å˜äº†æˆ‘çš„å·¥ä½œæµã€‚å®ƒå¹¶éé¼“å¹â€œé›¶ä»£ç â€ï¼Œè€Œæ˜¯å¼ºè°ƒä¸€ç§æ–°çš„åˆ†å·¥ï¼š<strong>å¼€å‘è€…ä½œä¸ºâ€œå¯¼æ¼”â€ï¼Œè€ŒAIä½œä¸ºâ€œé¦–å¸­å·¥ç¨‹å¸ˆâ€</strong> ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘å°†é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„å®æˆ˜é¡¹ç›®â€”â€”å¼€å‘ä¸€æ¬¾åä¸ºÂ  <strong>â€œHulkâ€çš„Chromeæ‰©å±•</strong>ï¼ˆåŠŸèƒ½å¾ˆç®€å•ï¼šä¸€é”®å°†ç½‘é¡µèƒŒæ™¯å˜ç»¿ï¼‰ï¼Œæ¥å±•ç¤ºè¿™ç§é«˜æ•ˆã€æ„‰æ‚¦çš„åä½œæ¨¡å¼ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ç†å¿µå…ˆè¡Œï¼šä»€ä¹ˆæ˜¯ Vibe Codingï¼Ÿ</h3>
<p>ä¸€å¥è¯è§£é‡Š<strong>Vibe Coding</strong>ï¼šVibeCoding æ˜¯ä¸€ç§å¼ºè°ƒå¼€å‘è€…åœ¨è‰¯å¥½æ°›å›´ï¼ˆvibeï¼‰ä¸­é«˜æ•ˆã€æ„‰æ‚¦åœ°ç¼–å†™ä»£ç çš„ç¼–ç¨‹ç†å¿µæˆ–å·¥ä½œçŠ¶æ€ï¼Œé€šå¸¸èåˆäº†åˆé€‚çš„éŸ³ä¹ã€ç¯å¢ƒã€å·¥å…·å’Œå¿ƒæµä½“éªŒã€‚</p>
<p>åœ¨å¼€å§‹æ•²ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆç»Ÿä¸€ä¸€ä¸‹â€œæ€æƒ³â€ã€‚æ ¹æ®æˆ‘çš„ç†è§£ï¼Œ<strong>Vibe Coding çš„æ ¸å¿ƒ</strong>æ˜¯ï¼š</p>
<ul>
<li>
<p><strong>ç›®æ ‡å¯¼å‘</strong>ï¼šå…³æ³¨â€œåšä»€ä¹ˆâ€å’Œâ€œä¸ºä»€ä¹ˆâ€ï¼Œè€Œä¸æ˜¯ä¸€å¼€å§‹å°±é™·å…¥â€œæ€ä¹ˆåšâ€ã€‚</p>
</li>
<li>
<p><strong>æ–‡æ¡£å³ä¸Šä¸‹æ–‡</strong>ï¼šæ¸…æ™°ã€ç»“æ„åŒ–çš„æ–‡æ¡£æ˜¯ä¸AIï¼ˆå¦‚ Trae, Cursor, GPTç­‰ï¼‰é«˜æ•ˆåä½œçš„åŸºçŸ³ã€‚AIä¸æ“…é•¿çŒœä½ çš„å¿ƒæ€ï¼Œä½†å®ƒæå…¶æ“…é•¿åœ¨æ¸…æ™°çš„ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œä»»åŠ¡ã€‚</p>
</li>
<li>
<p><strong>äººæœºååŒ</strong>ï¼šå¼€å‘è€…è´Ÿè´£æ¶æ„è®¾è®¡ã€è¾¹ç•Œåˆ’å®šã€é€»è¾‘å®¡æŸ¥å’Œâ€œ vibe â€ï¼ˆæ„Ÿè§‰ï¼‰æŠŠæ§ï¼›AIè´Ÿè´£å¿«é€Ÿç”Ÿæˆæ¨¡æ¿ä»£ç ã€å®ç°åŸºç¡€åŠŸèƒ½ã€‚</p>
</li>
<li>
<p><strong>ä½ä»£ç æ˜¯ç»“æœï¼Œè€Œä¸æ˜¯æ‰‹æ®µ</strong>ï¼šæˆ‘ä»¬çš„ç›®æ ‡æ˜¯é«˜è´¨é‡ã€å¿«é€Ÿåœ°äº¤ä»˜äº§å“ï¼Œè‡ªåŠ¨åŒ–ä»£ç ç”Ÿæˆæ˜¯å®ç°è¿™ä¸€ç›®æ ‡çš„å¼ºå¤§å·¥å…·ã€‚</p>
</li>
</ul>
<p>ç®€å•æ¥è¯´ï¼Œæˆ‘ä»¬ä¸å†æ˜¯<strong>ä»0åˆ°1</strong>çš„ç ç –å·¥ï¼Œè€Œæ˜¯<strong>ä»0.5åˆ°1.5</strong>çš„æ¶æ„å¸ˆå’Œè´¨æ£€å‘˜ã€‚</p>
<h3 data-id="heading-2">äºŒã€é¡¹ç›®å®æˆ˜ï¼šHulk æ‰©å±•çš„ Vibe å¼€å‘æµ</h3>
<p>æˆ‘ä»¬çš„äº§å“éœ€æ±‚éå¸¸æ˜ç¡®ï¼š</p>
<ol>
<li>ä¸€ä¸ªåä¸º Hulk çš„æ‰©å±•ï¼Œä½¿ç”¨æŒ‡å®šå›¾æ ‡ã€‚</li>
<li>ç‚¹å‡»æ‰©å±•å›¾æ ‡ï¼Œå¼¹å‡ºçª—å£æ˜¾ç¤ºæç¤ºä¿¡æ¯å’Œâ€œæ”¹å˜é¢œè‰²â€æŒ‰é’®ã€‚</li>
<li>ç‚¹å‡»æŒ‰é’®ï¼Œå½“å‰ç½‘é¡µèƒŒæ™¯å˜ä¸ºç»¿è‰²ã€‚</li>
</ol>
<h4 data-id="heading-3">Step 1: å¥ å®šåŸºçŸ³ - é¡¹ç›®æ¸…å•ä¸æ¶æ„</h4>
<p>ä¼ ç»Ÿçš„åšæ³•æ˜¯ç›´æ¥æ‰“å¼€ç¼–è¾‘å™¨åˆ›å»ºÂ <code>manifest.json</code>ã€‚ä½†åœ¨ Vibe Coding æ¨¡å¼ä¸‹ï¼Œæˆ‘é¦–å…ˆåˆ›å»ºäº†ä¸€ä»½â€œéœ€æ±‚æ–‡æ¡£â€ï¼ˆinstruct.txtï¼‰ï¼Œè¿™å°†æˆä¸ºæˆ‘ç»™AIçš„â€œå·¥ä½œä»»åŠ¡ä¹¦â€ã€‚</p>
<pre><code class="hljs language-instruct.txt" lang="instruct.txt">ä½ æ˜¯ä¸€ä¸ªç»éªŒä¸°å¯Œçš„Chrome æ‰©å±•ç¨‹åºå¼€å‘è€…ï¼Œè¯·å¸®æˆ‘å¼€å‘ä¸€ä¸ªåä¸ºHulkçš„æ‰©å±•ç¨‹åºã€‚
UX è®¾è®¡å›¾å‚è€ƒux.jpg

å…·ä½“äº¤äº’æ­¥éª¤å¦‚ä¸‹ï¼š
Step1:ç‚¹å‡»ç¨‹åºå›¾æ ‡æ‰“å¼€å¼¹å‡ºçª—å£ï¼Œåœ¨çª—å£ä¸­é»˜è®¤æç¤ºï¼šâ€œæ”¹å˜èƒŒæ™¯é¢œè‰²â€ã€â€œç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å°†å½“å‰é¡µé¢èƒŒæ™¯è‰²æ”¹ä¸ºç»¿è‰²â€ï¼Œå’Œç”Ÿæˆä¸€ä¸ªâ€œæ”¹å˜é¢œè‰²â€æŒ‰é’®

Step2:ç‚¹å‡»æŒ‰é’®ï¼Œç½‘é¡µèƒŒæ™¯æ”¹å˜ä¸ºç»¿è‰²

æ³¨æ„ä»¥ä¸‹ï¼š
è¯·ä½¿ç”¨iconsæ–‡ä»¶å¤¹çš„å›¾æ ‡ä½œä¸ºå›¾æ ‡
</code></pre>
<p><code>ux.jpg</code>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0234413ff55c4b2e9a45545b4fdb781e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763570779&amp;x-signature=LVkQW%2FDWeuNsi6TwIO6d07Bt7aM%3D" alt="image.png" loading="lazy"/></p>
<p><code>icons</code>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a46769d73d524177a6267973ed686289~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763570779&amp;x-signature=MiFjvcxo5FuQMhLlG7CCrzgFvss%3D" alt="image.png" loading="lazy"/></p>
<p>æä¾›å¥½å¯¹åº”æ–‡ä»¶å¤¹ä¸­çš„å‚é æ–‡ä»¶åï¼Œå°±å¯ä»¥è®©AIå¸®æˆ‘ä»¬ç”Ÿæˆäº†</p>
<p>åœ¨å³ä¾§å¯¹è¯æ¡†ä¸­è¾“å…¥ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8bf0fd9338b740f9a87ae20c5f160336~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763570779&amp;x-signature=rM8nl1QOPqssnktI4R7KTMxhTzg%3D" alt="image.png" loading="lazy"/></p>
<p>å¾ˆå¿«ï¼ŒAIç»™äº†æˆ‘ä¸€ä»½å®Œç¾çš„Â <code>manifest.json</code>ã€‚å®ƒæ­£ç¡®åœ°å£°æ˜äº†Â <code>activeTab</code>å’ŒÂ <code>scripting</code>æƒé™ï¼Œè¿™æ­£æ˜¯MV3ä¸­æ³¨å…¥è„šæœ¬æ‰€éœ€çš„å…³é”®é…ç½®ã€‚çœ‹ï¼Œå¥½çš„æ–‡æ¡£ï¼ˆéœ€æ±‚ï¼‰ç›´æ¥äº§å‡ºäº†æ­£ç¡®çš„æ ¸å¿ƒé…ç½®ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨Chromeæ’ä»¶ç®¡ç†ä¸­æ‰‹åŠ¨æ·»åŠ ä¸€ä¸‹ï¼ŒæŸ¥çœ‹æ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d8619f8343d4183965fbed2cc439bc8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763570779&amp;x-signature=CDPEOEkiB7t3adl5cuP%2BB5%2BuKRc%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ’ä»¶è®¾è®¡æ•ˆæœ</strong>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35f077385f8f457fb2e7c719d8ba092f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763570779&amp;x-signature=M2yOxJp7rP08gaHWGaHlYdUlSOI%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ä½¿ç”¨æ•ˆæœ</strong>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c4188ce3716469bbb0b6b3de54c84a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763570779&amp;x-signature=fIaPW5laG%2BH18A0uzBrIExk6%2FaQ%3D" alt="image.png" loading="lazy"/></p>
<p><strong>è‡³æ­¤ï¼Œä¸€ä¸ªåŠŸèƒ½å®Œå¤‡çš„Chromeæ‰©å±•å·²ç»è¯ç”Ÿã€‚</strong> â€‹ æ•´ä¸ªè¿‡ç¨‹ï¼Œæˆ‘æ›´åƒæ˜¯ä¸€ä¸ªäº§å“ç»ç†å’Œæ¶æ„å¸ˆï¼Œé€šè¿‡è‡ªç„¶è¯­è¨€å‘AIä¸‹è¾¾ç²¾ç¡®çš„æŒ‡ä»¤ï¼Œè€ŒAIåˆ™å®Œç¾åœ°æ‰®æ¼”äº†æ‰§è¡Œè€…çš„è§’è‰²ã€‚</p>
<h3 data-id="heading-4">ä¸‰ã€Vibe Coding çš„å¿ƒæ³•ï¼šè€å¿ƒä¸æ–‡æ¡£</h3>
<p>é€šè¿‡Hulkæ‰©å±•çš„å¼€å‘ï¼Œæˆ‘æ·±åˆ»ä½“ä¼šåˆ°Vibe Codingçš„æˆåŠŸå…³é”®ï¼š</p>
<ol>
<li>
<p><strong>æ¸…æ™°çš„ä¸Šä¸‹æ–‡ï¼ˆæ–‡æ¡£ï¼‰æ˜¯ç”Ÿå‘½çº¿</strong>ï¼šéœ€æ±‚æ–‡æ¡£ã€æŠ€æœ¯é€‰å‹ï¼ˆMV3ï¼‰ã€è®¾è®¡ç¨¿ï¼ˆux.jpgï¼‰å…±åŒæ„æˆäº†ä¸€ä¸ªå®Œæ•´çš„ä¸Šä¸‹æ–‡ã€‚è¿™è®©AIèƒ½ç”Ÿæˆé«˜åº¦å‡†ç¡®çš„ä»£ç ï¼Œå‡å°‘è¿”å·¥ã€‚</p>
</li>
<li>
<p><strong>åšAIä¸æ“…é•¿çš„äº‹</strong>ï¼šAIå¯èƒ½ä¼šåœ¨å¤æ‚çš„ä¸šåŠ¡é€»è¾‘æˆ–éå¸¸è§„äº¤äº’ä¸ŠçŠ¯é”™ã€‚æˆ‘çš„å·¥ä½œæ˜¯<strong>åˆ’å®šè¾¹ç•Œã€è®¾è®¡æ¶æ„ã€å¹¶è¿›è¡Œæœ€ç»ˆçš„è´¨é‡æŠŠå…³</strong>ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä¼šå®¡æŸ¥AIç”Ÿæˆçš„Â <code>manifest.json</code>ä¸­çš„æƒé™æ˜¯å¦åˆç†ï¼Œ<code>popup.js</code>ä¸­çš„APIè°ƒç”¨æ˜¯å¦ç¬¦åˆMV3è§„èŒƒã€‚</p>
</li>
<li>
<p><strong>è€å¿ƒè¿­ä»£</strong>ï¼šVibe Coding ä¸æ˜¯ä¸€è¹´è€Œå°±çš„é­”æ³•ã€‚æœ‰æ—¶éœ€è¦æ ¹æ®ç”Ÿæˆç»“æœï¼Œåè¿‡æ¥è°ƒæ•´ä½ çš„æç¤ºè¯å’Œæ–‡æ¡£ï¼Œè¿›è¡Œå¤šæ¬¡è¿­ä»£ã€‚è¿™æ˜¯ä¸€ç§å¯¹è¯ï¼Œè€Œä¸æ˜¯å•æ¬¡å‘½ä»¤ã€‚</p>
</li>
</ol>
<h3 data-id="heading-5">å››ã€æ•ˆæœå±•ç¤ºä¸æºç </h3>
<p>è¿™å°±æ˜¯æˆ‘ä»¬çš„Hulkæ‰©å±•ï¼šï¼ˆ<em>æ­¤å¤„åº”æ›¿æ¢ä¸ºux.jpgçš„å®é™…æ•ˆæœå›¾</em>ï¼‰<strong>æœ€ç»ˆé¡¹ç›®ç»“æ„ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">hulk-extension/
â”œâ”€â”€ icons/
â”‚   â”œâ”€â”€ icon16<span class="hljs-selector-class">.png</span>
â”‚   â”œâ”€â”€ icon48<span class="hljs-selector-class">.png</span>
â”‚   â””â”€â”€ icon128<span class="hljs-selector-class">.png</span>
â”œâ”€â”€ manifest<span class="hljs-selector-class">.json</span>  (æ¥è‡ªAIç”Ÿæˆ)
â”œâ”€â”€ popup<span class="hljs-selector-class">.html</span>     (æ¥è‡ªAIç”Ÿæˆ)
â””â”€â”€ popup<span class="hljs-selector-class">.js</span>       (æ¥è‡ªAIç”Ÿæˆ)
â””â”€â”€ ux<span class="hljs-selector-class">.jpg</span>
â””â”€â”€ instruction<span class="hljs-selector-class">.txt</span>

</code></pre>
<h3 data-id="heading-6">äº”ã€ç»“è¯­ï¼šæ‹¥æŠ±å¼€å‘èŒƒå¼çš„è½¬å˜</h3>
<p>å¼€å‘Hulkè¿™ä¸ªç®€å•çš„æ‰©å±•ï¼Œå¦‚æœæ‰‹åŠ¨ç¼–å†™ï¼Œå¯èƒ½ä¹Ÿéœ€è¦15-20åˆ†é’Ÿã€‚ä½†åœ¨Vibe Codingæ¨¡å¼ä¸‹ï¼Œæˆ‘ä»…ä»…é€šè¿‡<strong>ç¼–å†™éœ€æ±‚å’Œå®¡æŸ¥ä»£ç </strong>ï¼Œåœ¨5åˆ†é’Ÿå†…å°±å®Œæˆäº†åŠŸèƒ½ã€‚</p>
<p>è¿™èŠ‚çœçš„ä¸ä»…ä»…æ˜¯æ—¶é—´ï¼Œæ›´æ˜¯å°†æˆ‘çš„å¿ƒæ™ºè´Ÿæ‹…ä»â€œè¯­æ³•ç»†èŠ‚â€å’Œâ€œAPIè®°å¿†â€ä¸­è§£æ”¾å‡ºæ¥ï¼ŒæŠ•å…¥åˆ°æ›´é‡è¦çš„<strong>äº§å“è®¾è®¡å’Œæ¶æ„å†³ç­–</strong>ä¸Šã€‚</p>
<p>æœªæ¥ï¼Œç¼–ç èƒ½åŠ›å¯èƒ½ä¸å†å±€é™äºâ€œæ‰‹å†™ä»£ç çš„è¡Œæ•°â€ï¼Œè€Œåœ¨äº<strong>æ¸…æ™°å®šä¹‰é—®é¢˜çš„èƒ½åŠ›ã€æ¶æ„è®¾è®¡çš„èƒ½åŠ›ï¼Œä»¥åŠä¸AIæ™ºèƒ½ä½“é«˜æ•ˆåä½œçš„èƒ½åŠ›</strong>ã€‚<strong>Vibe Codingï¼Œå°±æ˜¯è¿™ç§æœªæ¥å·¥ä½œæ¨¡å¼çš„ç°åœ¨è¿›è¡Œæ—¶ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flink çš„ RocksDB çŠ¶æ€åç«¯åœ¨ vivo çš„å®è·µ]]></title>    <link>https://juejin.cn/post/7571731181198032932</link>    <guid>https://juejin.cn/post/7571731181198032932</guid>    <pubDate>2025-11-13T03:02:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571731181198032932" data-draft-id="7571726099689521171" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flink çš„ RocksDB çŠ¶æ€åç«¯åœ¨ vivo çš„å®è·µ"/> <meta itemprop="keywords" content="å¤§æ•°æ®"/> <meta itemprop="datePublished" content="2025-11-13T03:02:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="vivoäº’è”ç½‘æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/993614243303053"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flink çš„ RocksDB çŠ¶æ€åç«¯åœ¨ vivo çš„å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/993614243303053/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    vivoäº’è”ç½‘æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T03:02:02.000Z" title="Thu Nov 13 2025 03:02:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<blockquote>
<p>ä½œè€…ï¼š äº’è”ç½‘å¤§æ•°æ®å›¢é˜Ÿ- Chen Rui</p>
<p>æœ¬æ–‡ç®€è¦ä»‹ç»äº†ç‰¹å¾æ‹¼æ¥åœ¨å®æ—¶æ¨èä¸­çš„é‡è¦ä½œç”¨ï¼Œå¹¶è®²è¿°äº†vivoå®æ—¶æ¨èç³»ç»Ÿä¸­ç‰¹å¾æ‹¼æ¥æ¨¡å—çš„æ¶æ„æ¼”è¿›è¿‡ç¨‹ä»¥åŠé‡‡ç”¨ç°æœ‰çš„â€œåŸºäºRocksDBçš„å¤§çŠ¶æ€è§£å†³æ–¹æ¡ˆâ€çš„åŸå› ï¼Œé‡ç‚¹å™è¿°äº†è¯¥æ–¹æ¡ˆæ‰€é‡åˆ°çš„ä¸€ç³»åˆ—é—®é¢˜ï¼ŒåŒ…æ‹¬TM Lostã€RocksDBæ€§èƒ½è°ƒä¼˜é—¨æ§›é«˜ã€TMåˆå§‹åŒ–æ…¢ã€çŠ¶æ€è¿œç¨‹å­˜å‚¨HDFS RPCé£™é«˜ç­‰ï¼Œå¹¶ç»™å‡ºäº†è¿™äº›é—®é¢˜çš„ç°è±¡ä»¥åŠè§£å†³æ–¹æ¡ˆã€‚</p>
</blockquote>
<p>1åˆ†é’Ÿçœ‹å›¾æŒæ¡æ ¸å¿ƒè§‚ç‚¹ğŸ‘‡</p>
<p><img src="https://static001.geekbang.org/infoq/38/382f0104f6e8e8a42bda19405b12bc92.gif" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€èƒŒæ™¯</h2>
<p>åœ¨æ¨èç³»ç»Ÿä¸­ï¼Œæ ·æœ¬æ‹¼æ¥æ˜¯è¡”æ¥åœ¨çº¿æœåŠ¡ä¸ç®—æ³•æ¨¡å‹çš„é‡è¦ä¸€ä¸ªç¯èŠ‚ï¼Œä¸»è¦èŒè´£æ˜¯æ ·æœ¬æ‹¼æ¥å’Œä¸šåŠ¡ç›¸å…³çš„ETLå¤„ç†ç­‰ï¼Œæ¨¡å—ä½ç½®å¦‚ä¸‹å›¾çº¢æ¡†æ‰€ç¤ºã€‚</p>
<p><img src="https://static001.geekbang.org/infoq/5d/5d6e6d948770d82b730057114ee3f098.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¨èç³»ç»Ÿé€šè¿‡å­¦ä¹ åŸ‹ç‚¹æ•°æ®æ¥è¾¾åˆ°ä¸ªæ€§åŒ–ç²¾å‡†æ¨èçš„ç›®çš„ï¼Œå› æ­¤éœ€è¦çŸ¥é“æœåŠ¡ç«¯æ¨èä¸‹å‘çš„å†…å®¹ï¼Œæ˜¯å¦æœ‰ä¸€ç³»åˆ—çš„è¡Œä¸º(æ›å…‰ï¼Œç‚¹å‡»ï¼Œæ’­æ”¾ï¼Œç‚¹èµï¼Œæ”¶è—ï¼ŒåŠ è´­ç­‰ç­‰)ï¼ŒæŠŠè¢«æ¨èå†…å®¹çš„åŸ‹ç‚¹æ•°æ®ä¸å½“ä¸‹çš„ç‰¹å¾æ‹¼æ¥èµ·æ¥çš„è¿‡ç¨‹ï¼Œä¸€èˆ¬ç§°ä¸ºæ ·æœ¬æ‹¼æ¥ï¼Œä¸€ä¸ªç®€åŒ–çš„æµç¨‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://static001.geekbang.org/infoq/f8/f8fa426d9a1ee10b6bb46dab2dcf15e5.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¨èçš„è¿‡ç¨‹å¯ä»¥æ£€éªŒæ¦‚æ‹¬ä¸ºä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<blockquote>
<ul>
<li>
<p>åå°æœåŠ¡rank æ¨èå†…å®¹ç»™appå®¢æˆ·ç«¯ï¼ŒåŒæ—¶æŠŠå†…å®¹å¯¹åº”çš„ç‰¹å¾å¿«ç…§ä¿å­˜èµ·æ¥ï¼›</p>
</li>
<li>
<p>appæ¥æ”¶åˆ°å†…å®¹åï¼ŒåŸ‹ç‚¹æ—¥å¿—è¢«ä¸ŠæŠ¥åˆ°æ¶ˆæ¯ä¸­é—´ä»¶ï¼›</p>
</li>
<li>
<p>æ ·æœ¬æ‹¼æ¥è´Ÿè´£å°†ç‰¹å¾ä¸åŸ‹ç‚¹æ—¥å¿—æ‹¼æ¥èµ·æ¥ï¼Œå®šä¹‰æ­£è´Ÿæ ·æœ¬ï¼Œæ ¼å¼è½¬æ¢ï¼›</p>
</li>
<li>
<p>æ¨¡å‹æ¥æ”¶æ ·æœ¬è®­ç»ƒï¼Œå°†ä½¿ç”¨æœ€æ–°çš„æ¨¡å‹åšæ¨èã€‚</p>
</li>
</ul>
</blockquote>
<p>ä¸ºäº†ä¿è¯è¾ƒé«˜çš„æ‹¼æ¥ç‡å’Œç¨³å®šæ€§ï¼Œæˆ‘ä»¬çš„æ‹¼æ¥æ¶æ„ä¹Ÿç»è¿‡äº†é•¿æ—¶é—´çš„è¿­ä»£ï¼Œè¿™ç¯‡æ–‡ç« æˆ‘å°†ç»™å¤§å®¶ä»‹ç»vivoç‰¹å¾æ‹¼æ¥æ¶æ„çš„å‘å±•å†ç¨‹ã€å½“å‰æ–¹æ¡ˆã€å½“å‰æ–¹æ¡ˆé‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆï¼Œä»¥åŠæœªæ¥çš„è§„åˆ’å’Œå±•æœ›ï¼Œå¸Œæœ›èƒ½å¸®åŠ©åˆ°ä¸šå†…çš„åŒå­¦ã€‚</p>
<h2 data-id="heading-1">äºŒã€æ‹¼æ¥æ–¹æ¡ˆé€‰å‹</h2>
<h3 data-id="heading-2">2.1 å°æ—¶ç²’åº¦æ‹¼æ¥</h3>
<p>å°æ—¶æ‹¼æ¥æ˜¯å°†åŸ‹ç‚¹æ—¥å¿—å’Œç‰¹å¾å¿«ç…§éƒ½ä¿å­˜åˆ°Hiveå¹¶ä»¥å°æ—¶åˆ†åŒºï¼Œæ¯å°æ—¶è°ƒåº¦ä¸€ä¸ªSparkä»»åŠ¡æ¥å¤„ç†ä¸¤ä¸ªè¡¨ç›¸åº”åˆ†åŒºçš„æ•°æ®åšæ‹¼æ¥ï¼Œç”±äºæ˜¯å°æ—¶æ‹¼æ¥ï¼Œå®æ—¶æ€§è¾ƒä½ï¼ŒSparkä½œä¸šæœ¬èº«ä¹Ÿä¾èµ–äºä¸Šæ¸¸Hiveè¡¨å°æ—¶åˆ†åŒºç”Ÿæˆï¼Œæ¯ä¸ªå°æ—¶æœ«å°¾çš„è¯·æ±‚åŸ‹ç‚¹æœ‰å¯èƒ½æ˜¯è½åœ¨å½“å‰å°æ—¶ï¼Œä¹Ÿæœ‰å¯èƒ½è½åœ¨ä¸‹ä¸ªå°æ—¶ã€‚ä¸¾ä¸ªä¾‹å­ï¼š19ç‚¹50åˆ†ä¸‹å‘äº†ä¸€ä¸ªè§†é¢‘ï¼Œå®¢æˆ·ç«¯åœ¨19:59åˆ†ç‚¹å‡»äº†ï¼Œä½†æ˜¯è§†é¢‘æ’­æ”¾å´æ˜¯åœ¨20ç‚¹03åˆ†å®Œæˆçš„ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šå­˜åœ¨æ‹¼æ¥ä¸ä¸Šçš„é—®é¢˜ã€‚</p>
<p><img src="https://static001.geekbang.org/infoq/28/280de17f347240ab7ba7ec4c7d4ce15f.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-3">2.2 åŸºäº Redis çš„æµå¼æ‹¼æ¥</h3>
<p>ä¸ºäº†æå‡æ‹¼æ¥ç‡ï¼Œä¸”è¾¾åˆ°å®æ—¶æ‹¼æ¥ï¼ŒèŠ‚ç‚¹æ•…éšœå®¹ç¾ï¼Œå®Œå¤‡ç›‘æ§ç­‰ç‰¹æ€§ï¼ŒFlinkæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ›¿ä»£æ–¹æ¡ˆï¼Œä¹Ÿæ˜¯æœ€è¿‘å‡ å¹´æ¯”è¾ƒä¸»æµçš„å®ç°ã€‚æœ€åˆåœ¨å®æ—¶æ¨èåœºæ™¯ä¸­ï¼ŒKafkaä¸­çš„ç‰¹å¾å¿«ç…§é€šè¿‡Flinkä»»åŠ¡å†™å…¥åˆ°Redisï¼Œå¦ä¸€ä¸ªFlinkä»»åŠ¡æ¶ˆè´¹æ›å…‰åŸ‹ç‚¹æ•°æ®å’Œç‚¹å‡»åŸ‹ç‚¹æ•°æ®å¹¶è¯»å–å­˜åœ¨Redisä¸­çš„ç‰¹å¾å¿«ç…§æ•°æ®åšæ‹¼æ¥ï¼Œæ‹¼æ¥åçš„æ•°æ®ä½œä¸ºæ‹¼æ¥ç‰¹å¾è¢«å†™å…¥åˆ°ä¸‹æ¸¸çš„Kafkaä¸­ï¼Œæä¾›ç»™åç»­çš„ç®—æ³•åšæ¨¡å‹çš„è®­ç»ƒï¼Œæ¶æ„å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="https://static001.geekbang.org/infoq/4a/4a8bee8298f47869bc7732caf8960550.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç»è¿‡ä¸€æ®µæ—¶é—´å®è·µï¼Œä»¥ä¸Šçš„æ–¹æ¡ˆå‡ºç°äº†<strong>ä¸¤ä¸ªç—›ç‚¹ï¼š</strong></p>
<blockquote>
<ul>
<li>
<p>Redisä¸­å­˜å‚¨äº†å‡ åTçš„æ•°æ®ï¼ŒRedisçš„æˆæœ¬é«˜ï¼›</p>
</li>
<li>
<p>ä¸šåŠ¡æ•°æ®æµé‡ä¼šæ³¢åŠ¨ï¼Œç»å¸¸éœ€è¦DBAå¯¹Redisé›†ç¾¤è¿›è¡Œæ‰©å®¹ï¼Œæ¶‰åŠå¤§é‡æ•°æ®çš„è¿ç§»ï¼Œè¿ç»´æˆæœ¬é«˜ã€‚</p>
</li>
</ul>
</blockquote>
<h3 data-id="heading-4">2.3 åŸºäº RocksDB å¤§çŠ¶æ€æµå¼æ‹¼æ¥</h3>
<p>ä¸ºäº†è§£å†³åŸºäºRedisçš„ä½œä¸ºä¸­é—´æ•°æ®çš„å­˜å‚¨å­˜åœ¨çš„é—®é¢˜ï¼Œæˆ‘ä»¬é‡‡ç”¨FlinkçŠ¶æ€æ¥å­˜å‚¨ç‰¹å¾å¿«ç…§ï¼Œæ•´ä¸ªæ¶æ„ä¸­ä¸å†éœ€è¦å¤–éƒ¨çš„Redisï¼Œç”±äºæˆ‘ä»¬éœ€è¦å­˜å‚¨çš„æ•°æ®é‡è¾¾å‡ åTï¼Œè¿™é‡Œæˆ‘ä»¬é€‰ç”¨é€‚åˆå¤§æ•°æ®é‡å­˜å‚¨çš„RocksDBç±»å‹çš„çŠ¶æ€åç«¯ï¼Œè°ƒæ•´åæ¶æ„æ›´åŠ ç®€æ´ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://static001.geekbang.org/infoq/01/01317bf13236b42f1a7d450fe1fdca74.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æµç¨‹å¦‚ä¸‹ï¼š</p>
<blockquote>
<ul>
<li>
<p>é¦–å…ˆå°†æ›å…‰æµç‚¹ç‚¹å‡»æµä»¥åŠç‰¹å¾åœ¨Flink ä»»åŠ¡ä¸­åšunionå¹¶åškeybyï¼›</p>
</li>
<li>
<p>åœ¨processElementæ–¹æ³•ä¸­å¦‚æœæ¥æ”¶åˆ°æ›å…‰æµå°±å°†æ•°æ®ä¿å­˜åˆ°stateä¸­ï¼Œå¦‚æœæ¥æ”¶åˆ°æ›å…‰æµå°±å°†æ•°æ®ä¿å­˜åˆ°stateä¸­ï¼Œå¦‚æœæ¥æ”¶åˆ°ç‰¹å¾å°±å»stateä¸­æŸ¥è¯¢ç›¸åº”çš„æ›å…‰å’Œç‚¹å‡»æ•°æ®ï¼›</p>
</li>
<li>
<p>å¦‚æœèƒ½æ‰¾åˆ°å°±å‘é€åˆ°ä¸‹æ¸¸å¹¶å°†çŠ¶æ€æ•°æ®æ¸…ç†æ‰ï¼Œæ²¡æ‰¾åˆ°å°±å°†ç‰¹å¾ä¿å­˜åˆ°stateä¸­ï¼Œå¹¶æ³¨å†Œä¸€ä¸ªå®šæ—¶å™¨ï¼›</p>
</li>
<li>
<p>å®šæ—¶å™¨è§¦å‘æ—¶å»stateä¸­æŸ¥è¯¢ç›¸åº”çš„æ›å…‰å’Œç‚¹å‡»æ•°æ®ï¼Œå¦‚æœæ‰¾åˆ°å°±å‘åˆ°ä¸‹æ¸¸ï¼Œå¹¶å°†çŠ¶æ€æ•°æ®æ¸…ç†æ‰ã€‚</p>
</li>
</ul>
</blockquote>
<p>ç”±äºRocksDBå¯ä»¥åŒæ—¶åˆ©ç”¨å†…å­˜å’Œç£ç›˜æ¥å­˜å‚¨æ•°æ®ï¼Œæ‰€ä»¥å¯¹äºå†…å­˜çš„ä½¿ç”¨é‡å¤§å¹…ä¸‹é™ï¼Œç”±äºRocksDBæ˜¯åµŒå…¥å¼çš„æ•°æ®åº“ï¼Œæ¯ä¸ªTMä¸Šçš„RocksDBæ•°æ®åº“åªå­˜å‚¨shuffeåˆ°è¯¥TMä¸Šçš„æ•°æ®ï¼Œæ— éœ€å†å…³æ³¨æ‰©ç¼©å®¹çš„é—®é¢˜ã€‚å½“ç„¶éšç€æ•°æ®ä¸Šæ¶¨ï¼ŒFlinkæµå¼æ‹¼æ¥åœ¨å®é™…çš„ç”Ÿäº§è¿‡ç¨‹ä¸­ä¹Ÿé‡åˆ°äº†ä¸€ç³»åˆ—çš„é—®é¢˜ï¼Œä¸ºäº†ä¿è¯ä¸šåŠ¡çš„å¯ç”¨æ€§ï¼Œæˆ‘ä»¬èŠ±äº†è¾ƒé•¿çš„æ—¶é—´å¯¹è¿™äº›é—®é¢˜è¿›è¡Œæ”»å…‹ï¼Œç›®å‰ä»»åŠ¡ç¨³å®šæ€§è¾¾åˆ°99.99% ï¼Œæ‹¼æ¥ç‡é•¿æœŸç¨³å®šåœ¨99%ä»¥ä¸Šï¼Œå¯¹æ‹¼æ¥æ•ˆæœæå‡è¾ƒå¤§ã€‚ä¸‹é¢æˆ‘å°†åˆ—ä¸¾æˆ‘ä»¬é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©åˆ°ä¸šå†…çš„å…¶ä»–å›¢é˜Ÿã€‚</p>
<h2 data-id="heading-5">ä¸‰ã€é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-6">3.1 TM Losté—®é¢˜</h3>
<h4 data-id="heading-7">3.1.1 ç°è±¡</h4>
<p>åœ¨æ–¹æ¡ˆå®æ–½ä¹‹åˆï¼Œæˆ‘ä»¬å‘ç°è¿™äº›ç‰¹å¾æ‹¼æ¥çš„ä»»åŠ¡é¢‘ç¹å‡ºç°TM was Lostå¼‚å¸¸å¯¼è‡´ä»»åŠ¡é‡å¯ï¼Œæˆ‘ä»¬çœ‹äº†æ—¥å¿—ï¼Œå‘ç°éƒ½æ˜¯TMå†…å­˜è¶…å‡ºäº†YARNçš„å†…å­˜é™åˆ¶è¢«killã€‚</p>
<h4 data-id="heading-8">3.1.2 é—®é¢˜åˆ†æ</h4>
<p>é‚£ä¹ˆæˆ‘ä»¬çš„ç–‘é—®å°±æ¥äº†ï¼Œä¸ºå•¥è¿™éƒ¨åˆ†ä»»åŠ¡çš„å†…å­˜å¾ˆå®¹æ˜“è¶…å‡ºï¼Œè¶…å‡ºçš„é‚£éƒ¨åˆ†å†…å­˜åˆæ˜¯è°åœ¨ç”¨å‘¢ï¼Ÿä¸‹é¢è¿™å¼ å›¾æ˜¯æ¥è‡ªFlinkçš„å®˜ç½‘ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨å¹³å°ä½¿ç”¨Flinkçš„æ—¶ï¼Œæˆ‘ä»¬åªè®¾ç½®äº†æ€»çš„å†…å­˜ï¼Œå¹¶æ²¡æœ‰å…³æ³¨å…¶ä»–å„ä¸ªå±€éƒ¨çš„å†…å­˜ï¼Œé‚£ä¹ˆè¿™äº›éƒ¨ä½çš„å†…å­˜æ˜¯å¦‚ä½•åˆ†é…çš„ï¼Ÿä¸ºäº†ææ¸…æ¥šè¿™ä¸ªé—®é¢˜ï¼Œæœ‰å¿…è¦æ¢³ç†ä¸€ä¸‹æ¯ä¸ªæ¨¡å—å†…å­˜è®¡ç®—çš„é€»è¾‘ã€‚</p>
<p><img src="https://static001.geekbang.org/infoq/dd/ddc1ee12f23304a440712c0aba4b0dba.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fnightlies.apache.org%2Fflink%2Fflink-docs-master%2Fdocs%2Fdeployment%2Fmemory%2Fmem_setup_tm" target="_blank" title="https://nightlies.apache.org/flink/flink-docs-master/docs/deployment/memory/mem_setup_tm" ref="nofollow noopener noreferrer">å›¾ç‰‡å¼•ç”¨è‡ªFlink</a></p>
<p><strong>Flinkå†…å­˜åˆ†é…é€»è¾‘</strong></p>
<p>ä¸€èˆ¬åœ¨YARNä¸Šæäº¤çš„ä»»åŠ¡æ˜¯å«æœ‰taskmanager.memory.process.size å‚æ•°çš„é…ç½®çš„ï¼Œæ‰€ä»¥Flinkåœ¨åˆ†é…å†…å­˜æ—¶ï¼Œä¼šä»¥è°ƒç”¨deriveProcessSpecWithTotalProcessMemory æ–¹æ³•åˆ†é…ã€‚</p>
<p>é€šè¿‡é…ç½®å‚æ•°è·å¾—meatspace çš„å¤§å°ï¼Œé€šè¿‡jobmanager.memory.jvm-overhead.fraction çš„æ¯”ä¾‹è®¡ç®—overheadçš„å†…å­˜ï¼ŒtotalFlinkMemoryé€šè¿‡æ€»çš„è¿›ç¨‹çš„å†…å­˜å‡å»meatspace + overheadçš„å†…å­˜å¾—åˆ°ã€‚</p>
<p>é€šè¿‡é…ç½®ä¸­çš„å‚æ•°è·å– frameworkHeapMemory-</p>
<p>Sizeã€frameworkOffHeapMemorySize ã€task-</p>
<p>OffHeapMemorySize çš„å¤§å°ã€‚</p>
<p>é€šè¿‡managedmemoryçš„é…ç½®è·å–æ‰˜ç®¡å†…å­˜çš„å€¼ï¼Œ é€šè¿‡networkbufferçš„é…ç½®è·å–networkbufferçš„å€¼ ã€‚totalFlinkMemory å‡å»æ‰€æœ‰éœ€è¦æ’é™¤çš„å†…å­˜ï¼Œå‰©ä¸‹çš„å†…å­˜åˆ†é…ç»™å †ã€‚å†…å­˜åˆ†é…é€»è¾‘ï¼Œä»¥åŠæ¯å—å†…å­˜çš„è®¾ç½®æ–¹æ³•å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://static001.geekbang.org/infoq/98/9850896065a8e3bb60a78aa433f45e1d.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åˆ°æ­¤TMçš„å„ä¸ªå†…å­˜æ¨¡å—çš„å†…å­˜å·²ç»åˆ’åˆ†å®Œæˆã€‚æœ‰ä¸Šé¢çš„åˆ†ææˆ‘ä»¬å¯ä»¥å¾—å‡ºä»¥ä¸‹çš„ç»“è®ºï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">totalProcessMemorySize</span> = totalFlinkMemorySize + JvmMetaspaceSize + JvmOverheadSize
<span class="hljs-attr">totalFlinkMemorySize</span>  = framework<span class="hljs-literal">Off</span>HeapMemorySize + task<span class="hljs-literal">Off</span>HeapMemorySize + managedMemorySize + networkMemorySize + frameworkHeapMemorySize + taskHeapMemorySize
</code></pre>
<p><img alt="" src="" loading="lazy"/><img alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" src="" loading="lazy"/></p>
<p>è¿™é‡Œé‡ç‚¹å°†ä¸€ä¸‹JVMOverheadï¼ŒJVMOverheadå¹¶æ²¡æœ‰å…·ä½“çš„ä½œç”¨ï¼Œæ˜¯ä¸€ä¸ªé¢„ç•™å€¼ï¼Œå®ƒæ˜¯ä¸€ä¸ªç¼“å†²åŒºï¼Œå¯ä»¥é¿å…åœ¨Flinkè¿è¡Œåœ¨å®¹å™¨ä¸­æ˜¯å› ä¸ºçŸ­æ—¶æ—¶é—´çš„å†…å­˜è¶…å‡ºäº†å®¹å™¨çš„é™åˆ¶è€Œè¢«killã€‚</p>
<p>frameworkOffHeapMemorySizeå’ŒtaskOff-</p>
<p>HeapMemorySize ä¹Ÿæ˜¯é¢„ç•™å€¼ï¼Œoffheapåœ¨æ¦‚å¿µä¸Šçš„ä¸»è¦æ˜¯æŒ‡nativeå†…å­˜ã€‚frameworkHeap-</p>
<p>MemorySize ä¹Ÿæ˜¯é¢„ç•™å€¼ã€‚ç”±æ­¤å¯ä»¥çœ‹å‡ºè™½ç„¶Flinkå®˜æ–¹å°†TMçš„å†…å­˜åˆ’åˆ†çš„è¾ƒç»†è‡´ï¼Œä½†æ˜¯åƒJvmOverheadSize frameworkOffHeap-</p>
<p>MemorySizeï¼ŒtaskOffHeapMemorySizeï¼Œ</p>
<p>frameworkHeapMemorySize éƒ½åªæ˜¯é€»è¾‘ä¸Šçš„é¢„ç•™ï¼Œå¹¶æ²¡æœ‰ä»æ“ä½œç³»ç»Ÿå±‚é¢å®ç°éš”ç¦»ã€‚</p>
<p><strong>RocksDBå†…å­˜åˆ†é…é€»è¾‘</strong></p>
<p>å› ä¸ºå †å†…å­˜ä¸è¶³æ—¶ä¸€èˆ¬ä¼šæŠ¥out of memoryçš„å¼‚å¸¸ï¼Œæ‰€ä»¥åˆ°è¿™ä¸€æ­¥æˆ‘ä»¬æ¨æµ‹åº”è¯¥æ˜¯å †å¤–å†…å­˜æº¢å‡ºäº†ï¼Œè€Œå †å¤–å†…å­˜æœ€å¤§çš„ä¸€å—å°±æ˜¯RocksDBä½¿ç”¨çš„ï¼Œè€Œä»Flinkçš„å®˜ç½‘çš„ä»‹ç»å¯ä»¥çŸ¥é“æ‰˜ç®¡å†…å­˜å°±æ˜¯ç»™RocksDBä½¿ç”¨çš„ï¼Œä¸‹é¢æˆ‘ä»¬å†çœ‹ä¸€ä¸‹æ‰˜ç®¡å†…å­˜æ˜¯å¦‚ä½•åˆ†é…ç»™RocksDBçš„ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">cacheMemory</span> = ï¼ˆ<span class="hljs-number">1</span>-ï¼ˆ<span class="hljs-number">1</span>/<span class="hljs-number">3</span>ï¼‰*ï¼ˆwriteBufferRatioï¼‰ï¼‰* managedMemory
<span class="hljs-attr">bufferMemory</span> = ï¼ˆ<span class="hljs-number">2</span>/<span class="hljs-number">3</span>ï¼‰*ï¼ˆwriteBufferRatioï¼‰* managedMemory
è¯»å†™ç¼“å­˜æ€»å†…å­˜ =  bufferMemory + <span class="hljs-attr">cacheMemory</span> = ï¼ˆ<span class="hljs-number">1</span> +ï¼ˆ<span class="hljs-number">1</span>/<span class="hljs-number">3</span>ï¼‰*ï¼ˆwriteBufferRatioï¼‰ï¼‰* managedMemory
</code></pre>
<p><img alt="" src="" loading="lazy"/><img alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" src="" loading="lazy"/></p>
<p>ç”±ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹å‡ºï¼Œmanaged memory æ˜¯é€šè¿‡ä¸€å®šçš„æ¯”ä¾‹ç»™RocksDBçš„å„ä¸ªéƒ¨åˆ†æ¥åˆ†é…å†…å­˜çš„ï¼ŒwriteBufferRatioä¼šå½±å“è¯»ç¼“å­˜å’Œå†™ç¼“å­˜çš„å¤§å°ï¼Œç†è®ºä¸Šè¯»å†™ç¼“å­˜æ€»å†…å­˜æœ‰å¯èƒ½ä¼šè¶…è¿‡managedMemoryçš„å¤§å°ã€‚é€šè¿‡ä¸Šé¢çš„å…¬å¼å¯ä»¥çœ‹å‡ºè¯»å†™ç¼“å­˜æ€»å†…å­˜æœ€å¤šè¶…å‡ºmanagedMemoryçš„1/3ï¼Œè¿™é‡Œå¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨æ’æŸ¥overheadçš„æ—¶å€™é…ç½®å¤§äºmanagedMemoryçš„1/3ä¸å°±èƒ½ä½ é¢å†…å­˜æº¢å‡ºäº†ï¼Œä½†æ˜¯åœ¨å®è·µä¸­ï¼Œæˆ‘ä»¬è¿™æ ·é…ç½®å¹¶å¹¶æ²¡æœ‰å®Œå…¨çš„è§£å†³ç‰©ç†å†…å­˜æº¢å‡ºçš„é—®é¢˜ï¼Œä¸‹é¢å…³äºRocksDBå†…å­˜çš„èµ„æ–™ï¼Œç»ˆäºæ‰¾åˆ°äº†æ˜¯è¿˜æœ‰å“ªéƒ¨åˆ†å†…å­˜å®¹æ˜“æº¢å‡ºäº†ï¼Œæ˜¯å› ä¸ºéƒ¨åˆ†åŒºåŸŸçš„å†…å­˜éš¾ä»¥é™åˆ¶å¯¼è‡´çš„ã€‚</p>
<p>RocksDB çš„å†…å­˜å ç”¨æœ‰ 4 ä¸ªéƒ¨åˆ†:</p>
<blockquote>
<ul>
<li>
<p>Block Cache: OS PageCache ä¹‹ä¸Šçš„ä¸€å±‚ç¼“å­˜ï¼Œç¼“å­˜æœªå‹ç¼©çš„æ•°æ® Blockï¼›</p>
</li>
<li>
<p>Indexes and filter blocks: ç´¢å¼•åŠå¸ƒéš†è¿‡æ»¤å™¨ï¼Œç”¨äºä¼˜åŒ–è¯»æ€§èƒ½ï¼›</p>
</li>
<li>
<p>MemTable: ç±»ä¼¼å†™ç¼“å­˜ï¼›</p>
</li>
<li>
<p>Blocks pinned by Iterator: è§¦å‘ RocksDB éå†æ“ä½œï¼ˆæ¯”å¦‚éå† RocksDBMapState çš„æ‰€æœ‰ keyï¼‰æ—¶ï¼ŒIterator åœ¨å…¶ç”Ÿå‘½å‘¨æœŸå†…ä¼šé˜»æ­¢å…¶å¼•ç”¨åˆ°çš„ Block å’Œ MemTable è¢«é‡Šæ”¾ï¼Œå¯¼è‡´é¢å¤–çš„å†…å­˜å ç”¨ã€‚</p>
</li>
</ul>
</blockquote>
<p>å‰ä¸‰ä¸ªåŒºåŸŸçš„å†…å­˜éƒ½æ˜¯å¯é…ç½®çš„ï¼Œä½† Iterator é”å®šçš„èµ„æºåˆ™è¦å–å†³äºåº”ç”¨ä¸šåŠ¡ä½¿ç”¨æ¨¡å¼ï¼Œä¸”æ²¡æœ‰æä¾›ä¸€ä¸ªç¡¬é™åˆ¶ï¼Œå› æ­¤ Flink åœ¨è®¡ç®— RocksDB StateBackend å†…å­˜æ—¶æ²¡æœ‰å°†è¿™éƒ¨åˆ†çº³å…¥è€ƒè™‘ï¼Œå…¶æ¬¡æ˜¯ RocksDB Block Cache çš„ä¸€ä¸ª bugï¼Œå®ƒä¼šå¯¼è‡´ Cache å¤§å°æ— æ³•ä¸¥æ ¼æ§åˆ¶ï¼Œæœ‰å¯èƒ½çŸ­æ—¶é—´å†…è¶…å‡ºè®¾ç½®çš„å†…å­˜å®¹é‡ï¼Œç›¸å½“äºè½¯é™åˆ¶ï¼ŒåŸæ¥æ˜¯è¿­ä»£å™¨çš„å†…å­˜é™åˆ¶çš„ä¸å¥½ï¼Œå¯¼è‡´çš„å†…å­˜æº¢å‡ºã€‚</p>
<h4 data-id="heading-9">3.1.3 è§£å†³æ–¹æ¡ˆ</h4>
<p>æˆ‘ä»¬åœ¨ä½¿ç”¨Flink çš„RocksDBçŠ¶æ€åç«¯æ—¶ï¼Œæ˜¯é€šè¿‡managed memoryæ¥æ§åˆ¶RocksDBå„ä¸ªéƒ¨åˆ†çš„å†…å­˜çš„ï¼Œæ‰€ä»¥managed memoryå†…å­˜è¶Šå°åˆ†é…ç»™å„ä¸ªéƒ¨åˆ†çš„å†…å­˜ä¹Ÿå°±è¶Šå°ï¼Œè¿­ä»£å™¨å†…å­˜è¶Šä¸å®¹æ˜“æº¢å‡ºã€‚åˆ°æ­¤æˆ‘ä»¬å¯¹Flinkçš„RocksDBçŠ¶æ€åç«¯çš„å†…å­˜æœ‰äº†ä¸€å®šçš„è®¤çŸ¥ï¼šå½“æ€§èƒ½å¯ä»¥æ»¡è¶³çš„æƒ…å†µä¸‹ï¼ŒFlinkçš„Manaed memoryåº”è¯¥è¶Šå°è¶Šå¥½ã€‚ä½†æ˜¯ä¸Šæ»¡å½¢æˆçš„ç»éªŒå¾ˆéš¾é«˜æ•ˆçš„åœ¨ä¸šåŠ¡ä¸Šè½åœ°ï¼ŒåŸå› æ˜¯â€œFlinkçš„Manaed memoryåº”è¯¥è¶Šå°è¶Šå¥½â€å¾ˆéš¾å»ç¡®å®šã€‚</p>
<p>äºæ˜¯æˆ‘ä»¬è”æƒ³åˆ°äº†ä¹‹å‰çš„JVMoverheadï¼Œåœ¨æˆ‘ä»¬çš„å®é™…å®è·µä¸­è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ˜¯é€šè¿‡è°ƒå¤§JVMoverheadï¼Œå’Œjemallocå†…å­˜åˆ†é…å™¨æ¥è§£å†³å†…å­˜æº¢å‡ºé—®é¢˜çš„ã€‚åœ¨Flink1.12ä¹‹åFlink on k8sçš„å†…å­˜åˆ†é…å™¨å·²ç»é»˜è®¤æ”¹æˆäº†jemallocï¼Œå¯ä»¥é¿å…å†…å­˜çš„åˆ†é…è¿‡ç¨‹ä¸­å‡ºç°64Mé—®é¢˜ã€‚</p>
<p>ä½†æ˜¯è¦æ³¨æ„ï¼šç”±äºæˆ‘ä»¬çš„Javaç‰ˆæœ¬æ˜¯JAVA8å°ç‰ˆæœ¬æ˜¯192ï¼Œåœ¨æœ€æ–°ç‰ˆæœ¬çš„jemalloc5.3ä¸Šå‡ºç°äº†æ­»é”çš„é—®é¢˜ï¼Œåæ¥æˆ‘ä»¬é‡‡ç”¨jemalloc4.5 å°±æ²¡æœ‰é—®é¢˜äº†ã€‚æ®äº†è§£ä¸šç•Œæœ‰äº›å…¬å¸ä½¿ç”¨çš„JAVA8å°ç‰ˆæœ¬æ˜¯256é‡‡ç”¨jemalloc5.3æ²¡æœ‰é‡åˆ°æ­»é”é—®é¢˜ã€‚</p>
<h3 data-id="heading-10">3.2 RocksDB çš„æ€§èƒ½ç›‘æ§é—®é¢˜</h3>
<h4 data-id="heading-11">3.2.1 ç°è±¡</h4>
<p>Flink RocksDBå¤§çŠ¶æ€çš„ä»»åŠ¡ç»å¸¸å‡ºç°å»¶è¿Ÿï¼Œä½†æ˜¯æˆ‘ä»¬å¾ˆéš¾çŸ¥é“æ€§èƒ½çš„ç“¶é¢ˆåœ¨å“ªå—ï¼Œä»è€Œä¼˜åŒ–å“åº”çš„ç¯èŠ‚ã€‚</p>
<h4 data-id="heading-12">3.2.2 è§£å†³æ–¹æ¡ˆ</h4>
<p>å…¶å®Flinkæä¾›äº†ä¸€ç³»åˆ—å¯¹äºRocksDBçš„æ€§èƒ½çš„ç›‘æ§æŒ‡æ ‡ï¼Œæˆ‘ä»¬åªéœ€è¦åŠ ä¸Šå‚æ•°å¼€å¯å³å¯ï¼Œè¿™é‡Œæˆ‘åªç»“å±€æˆ‘è§‰å¾—æœ€æœ‰å‚è€ƒæ„ä¹‰çš„æŒ‡æ ‡å¼€å¯çš„å‚æ•°ï¼š</p>
<p><img src="https://static001.geekbang.org/infoq/e0/e01cb49221cf60f362090e0e2801cd44.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸‹é¢æ˜¯ç›¸å…³æŒ‡æ ‡çš„ç›‘æ§é¡µé¢ï¼š</p>
<p><img src="https://static001.geekbang.org/infoq/d1/d1404b9aa08dcae8ea3aaff068872d6e.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://static001.geekbang.org/infoq/39/39ca400998d4d6222ac7b82e0695d72e.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-13">3.3 ä»»åŠ¡å‡ºç°å»¶è¿Ÿ</h3>
<h4 data-id="heading-14">3.3.1 ç°è±¡</h4>
<p>Flink RocksDBå¤§çŠ¶æ€çš„ä»»åŠ¡ç»å¸¸å‡ºç°å»¶è¿Ÿï¼Œè°ƒä¼˜å‚æ•°é«˜è¾¾è¿‘ç™¾ä¸ªï¼Œå¦‚ä½•ç³»ç»Ÿæ€§çš„è°ƒä¼˜ï¼Œéš¾åº¦è¾ƒå¤§ã€‚</p>
<h4 data-id="heading-15">3.3.2 è§£å†³æ–¹æ¡ˆ</h4>
<p>è¦æƒ³å¯¹RocksDBçš„æ€§èƒ½åšä¼˜åŒ–ï¼Œæˆ‘ä»¬æœ‰å¿…è¦å…ˆäº†è§£ä¸€ä¸‹RocksDBçš„è¯»å†™æµç¨‹ã€‚</p>
<p><strong>RocksDBçš„è¯»æµç¨‹</strong></p>
<p><img src="https://static001.geekbang.org/infoq/3f/3f67f6e900780ee1fc52bccd62e2e359.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li>
<p>è·å–å½“å‰æ—¶åˆ»çš„SuperVersionï¼ŒSuperVersionæ˜¯RocksDBå†…é’ˆå¯¹äºæ‰€æœ‰SSTæ–‡ä»¶åˆ—è¡¨ä»¥åŠå†…å­˜ä¸­çš„MemTableå’ŒImmutable MemTableçš„ä¸€ä¸ªç‰ˆæœ¬ï¼›</p>
</li>
<li>
<p>è·å–å½“å‰çš„åºå·æ¥å†³å®šå½“å‰è¯»æ“ä½œä¾èµ–çš„æ•°æ®å¿«ç…§ï¼›</p>
</li>
<li>
<p>å°è¯•ä»ç¬¬ä¸€æ­¥SuperVersionä¸­å¼•ç”¨çš„MemTableä»¥åŠImmutable MemTableä¸­è·å–å¯¹åº”çš„å€¼ã€‚é¦–å…ˆä¼šç»è¿‡å¸ƒéš†è¿‡æ»¤å™¨ï¼Œå‡å¦‚ä¸å­˜åœ¨åˆ™ä¸€å®šä¸å­˜åœ¨ï¼Œåä¹‹å‡å¦‚è¿”å›å­˜åœ¨åˆ™ä¸ä¸€å®šå­˜åœ¨ï¼›</p>
</li>
<li>
<p>å°è¯•ä»Block Cacheä¸­è¯»å–ï¼›</p>
</li>
<li>
<p>å°è¯•ä»SSTæ–‡ä»¶ä¸­è·å–ã€‚</p>
</li>
</ul>
<p><strong>RocksDBçš„å†™æµç¨‹</strong></p>
<p><img src="https://static001.geekbang.org/infoq/29/29664abe3274655acc4ae42695f9f142.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li>
<p>å°†å†™å…¥æ“ä½œé¡ºåºå†™å…¥WALæ—¥å¿—ä¸­ï¼Œæ¥ä¸‹æ¥æŠŠæ•°æ®å†™åˆ° MemTableä¸­ï¼ˆé‡‡ç”¨SkipListç»“æ„å®ç°ï¼‰</p>
<p>MemTableè¾¾åˆ°ä¸€å®šå¤§å°åï¼Œå°†è¿™ä¸ª MemTable åˆ‡æ¢ä¸ºä¸å¯æ›´æ”¹çš„ immutable MemTableï¼Œå¹¶æ–°å¼€ä¸€ä¸ª MemTable æ¥æ”¶æ–°çš„å†™å…¥è¯·æ±‚ï¼›</p>
</li>
<li>
<p>è¿™ä¸ª immutable MemTableè¿›è¡ŒæŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œæˆä¸ºL0 å±‚çš„ SSTable æ–‡ä»¶ï¼›</p>
</li>
<li>
<p>æ¯ä¸€å±‚çš„æ‰€æœ‰æ–‡ä»¶æ€»å¤§å°æ˜¯æœ‰é™åˆ¶çš„ï¼Œæ¯ä¸‹ä¸€å±‚å¤§åå€ã€‚ä¸€æ—¦æŸä¸€å±‚çš„æ€»å¤§å°è¶…è¿‡é˜ˆå€¼äº†ï¼Œå°±é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶å’Œä¸‹ä¸€å±‚çš„æ–‡ä»¶åˆå¹¶ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong> æ‰€æœ‰ä¸‹ä¸€å±‚è¢«å½±å“åˆ°çš„æ–‡ä»¶éƒ½ä¼šå‚ä¸ Compactionã€‚åˆå¹¶ä¹‹åï¼Œä¿è¯ L1 åˆ° L6 å±‚çš„æ¯ä¸€å±‚çš„æ•°æ®éƒ½æ˜¯åœ¨ key ä¸Šå…¨å±€æœ‰åºçš„ï¼Œè€Œ L0 å±‚æ˜¯å¯ä»¥æœ‰é‡å çš„ï¼Œå†™æµç¨‹çš„çº¦æŸï¼›</p>
</li>
<li>
<p>æ—¥å¿—æ–‡ä»¶ç”¨äºå´©æºƒæ¢å¤ï¼›</p>
</li>
<li>
<p>æ¯ä¸ªMemTableåŠSSTæ–‡ä»¶ä¸­çš„Keyéƒ½æ˜¯æœ‰åºçš„ï¼ˆå­—ç¬¦é¡ºåºçš„å‡åºï¼‰ï¼›</p>
</li>
<li>
<p>æ—¥å¿—æ–‡ä»¶ä¸­çš„Keyæ˜¯æ— åºçš„ï¼›</p>
</li>
<li>
<p>åˆ é™¤æ“ä½œæ˜¯æ ‡è®°åˆ é™¤ï¼Œæ˜¯æ’å…¥æ“ä½œçš„ä¸€ç§ï¼ŒçœŸæ­£çš„åˆ é™¤è¦åœ¨Compactionçš„æ—¶å€™å®ç°ï¼›</p>
</li>
<li>
<p>æ— æ›´æ–°å®ç°ï¼Œè®°å½•æ›´æ–°é€šè¿‡æ’å…¥ä¸€æ¡æ–°è®°å½•å®ç°ï¼›</p>
</li>
</ul>
<p>å½“ä»»åŠ¡å‡ºç°å»¶è¿Ÿæ—¶ï¼Œç”±äºæˆ‘ä»¬å·²ç»æœ‰äº†RocksDBæ€§èƒ½æŒ‡æ ‡çš„ç›‘æ§ä¹Ÿäº†è§£RocksDBçš„åŸç†ï¼Œæˆ‘ä»¬åœ¨åšæ€§èƒ½ä¼˜åŒ–æ—¶å°±å¯ä»¥å¯¹ç—‡ä¸‹è¯äº†ã€‚</p>
<p><strong>è¯»æ€§èƒ½ä¼˜åŒ–</strong></p>
<p>å½“ä»»åŠ¡å‡ºç°å»¶è¿Ÿä¸”å—ç¼“å­˜å‘½ä¸­ç‡ä¸‹é™æ—¶ï¼Œè¯´æ˜æ˜¯è¯»çš„æ€§èƒ½ä¸‹é™å¯¼è‡´å»¶è¿Ÿï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æå‡ç¼“å­˜å‘½ä¸­ç‡çš„æ–¹å¼æ¥æå‡è¯»æ€§èƒ½ï¼ŒRocksDBä»»åŠ¡ç¼“å­˜å‘½ä¸­ç‡çš„ä¼˜åŒ–<strong>æ€è·¯å¦‚ä¸‹ï¼š</strong></p>
<ul>
<li>
<p>æ‰˜ç®¡å†…å­˜å°äºTMå†…å­˜20%ï¼Œå¯ä»¥è°ƒå¤§æ‰˜ç®¡å†…å­˜ï¼šstate.backend.rocksdb.memory.managed åˆ° 20%ï¼›</p>
</li>
<li>
<p>Flinkå†…éƒ¨å¯¹RocksDBçš„ä¼˜åŒ–å·²ç»æ²‰æ·€äº†å¤šç»„å‚æ•°ï¼Œå»ºè®®ä½¿ç”¨é…ç½®ï¼š</p>
</li>
</ul>
<p>state.backend.rocksdb.predefined-options =</p>
<p>SPINNING_DISK_OPTIMIZED_HIGH_MEMï¼›</p>
<ul>
<li>Flinkä¸­ä½¿ç”¨state.backend.rocksdb.memory</li>
</ul>
<p>.write-buffer-ratioå‚æ•°æ¥ç®¡ç†å†™ç¼“å­˜ï¼Œè°ƒå°è¯¥å‚æ•°ï¼Œèƒ½å¤Ÿæå‡è¯»ç¼“å­˜ï¼Œè¯¥å‚æ•°é»˜è®¤0.5ï¼›</p>
<ul>
<li>RocksDB ä¼šæœ‰ä¸€å†™ç´¢å¼•å’Œè¿‡æ»¤å™¨æ”¾åœ¨å†…å­˜ä¸­ï¼Œç”¨è¿™ä¸ªå‚æ•°å¼€å¯ï¼šstate.backend.rocksdb</li>
</ul>
<p>.memory.partitioned-index-filters é»˜è®¤ falseï¼Œå¹¶ä¸”å¯ä»¥è°ƒèŠ‚ç´¢å¼•å’Œè¿‡æ»¤å™¨å ç”¨çš„å†…å­˜æ¯”ä¾‹ï¼Œå‚æ•°æ˜¯ï¼šstate.backend.rocksdb.memory</p>
<p>.high-prio-pool-ratioé»˜è®¤ä¸º0.1ã€‚</p>
<p><strong>å†™æ€§èƒ½ä¼˜åŒ–</strong></p>
<p>å½“ä»»åŠ¡å»¶è¿Ÿï¼Œå¦‚æœå‡ºç°ç­‰å¾…flushçš„å†…å­˜è¡¨çš„å¤§å°å¢åŠ ï¼Œæˆ–è€…ç­‰å¾…åˆå¹¶çš„ä¸ªæ•°å¢åŠ ï¼Œå› ä¸ºç­‰å¸¦flushä¸ªæ•°è¾¾åˆ°ä¸€å®šçš„ä¸ªæ•°æ—¶å†™å°†ä¼šè¢«é˜»å¡ï¼Œå¯ä»¥å…ˆå…³æ³¨ä¸€ä¸‹ç£ç›˜ioæ˜¯å¦æ‰“æ»¡ï¼Œå¦‚æœå·²ç»å¤„äºé«˜ä½ï¼Œå»ºè®®æå‡ä»»åŠ¡çš„å¹¶å‘ã€‚å¦‚æœæ­¤ç£ç›˜ioå¤„äºä½ä½ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒæ•´flushå’Œcompationçš„çº¿ç¨‹æ•°æ¥ä½¿å†™çš„æ•°æ®ä¸å†ç§¯å‹ã€‚æå‡å†™å†™æ€§èƒ½ã€‚Flinkä¼šå°†flushå’Œcompationçš„çº¿ç¨‹æ•°é€šè¿‡ä¸€ä¸ªå‚æ•°ç»Ÿä¸€ç®¡ç†ï¼Œå‚æ•°æ˜¯ï¼šstate.backend</p>
<p>.rocksdb.thread.numï¼Œé»˜è®¤å€¼æ˜¯1ã€‚</p>
<h3 data-id="heading-16">3.4 ä»»åŠ¡å¯åŠ¨æ…¢çš„é—®é¢˜</h3>
<h4 data-id="heading-17">3.4.1 ç°è±¡</h4>
<p>ç”±äºFlinkä»»åŠ¡åœ¨ä»çŠ¶æ€å¯åŠ¨æ—¶éœ€è¦å°†å­˜å‚¨åœ¨è¿œç¨‹HDFSçš„çŠ¶æ€æ–‡ä»¶è¯»åˆ°æœ¬åœ°ï¼Œå½“TMè¾ƒé›†ä¸­æ—¶å•å°æœºå™¨çš„ç£ç›˜ioå¾ˆå®¹æ˜“è¢«æ‰“æ»¡ï¼Œå¯¼è‡´æŸäº›sub task é•¿æ—¶é—´å¤„äºINITIALIZINGçš„çŠ¶æ€ã€‚</p>
<h4 data-id="heading-18">3.4.2 è§£å†³æ–¹æ¡ˆ</h4>
<p><strong>YARNå‚æ•°çš„ä¼˜åŒ–</strong></p>
<p>YARNé»˜è®¤çš„yarn.scheduler.fair.assignmultipleå‚æ•°ä¸ºflaseï¼Œå³ä¸€æ¬¡åªåˆ†é…ä¸€ä¸ªcontainerï¼Œä½†æ˜¯CDHå°†è¿™ä¸ªå‚æ•°è®¾ç½®æˆäº†trueï¼Œyarn.scheduler.fair.max.assigré»˜è®¤ä¸º-1ï¼Œè¡¨ç¤ºä¸é™åˆ¶ï¼Œæ‰€ä»¥å¯¼è‡´ä¸€æ¬¡è°ƒåº¦åˆ°å•ä¸ªèŠ‚ç‚¹ä¸Šçš„containerè¾ƒå¤šã€‚æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆæ˜¯å°†YARNé…ç½®ä¸­çš„yarn.scheduler.fair.assignmultipleå‚æ•°è®¾ä¸ºfalseï¼Œä¸€æ¬¡åªè°ƒåº¦ä¸€ä¸ªcontainerï¼Œè§£å†³äº†TMåˆ†é…è¾ƒé›†ä¸­çš„é—®é¢˜ã€‚</p>
<p><strong>Flinkè°ƒåº¦ç­–ç•¥çš„ä¼˜åŒ–</strong></p>
<p>ç”±äºåªæ˜¯é™åˆ¶äº†æ¯æ¬¡åˆ†é…TMçš„ä¸ªæ•°ï¼Œè¿˜ä¸èƒ½å®Œå…¨é¿å…åˆ†é…é›†ä¸­çš„é—®é¢˜ï¼Œäºæ˜¯æˆ‘ä»¬å¯¹Flinkå¼•æ“å†…éƒ¨åšäº†ä¼˜åŒ–ï¼Œå¯ä»¥ç¡¬é™åˆ¶åœ¨æŸå°æœºå™¨ä¸Šè°ƒåº¦TMçš„ä¸ªæ•°ï¼Œå…·ä½“åšæ³•æ˜¯ï¼Œæ˜¯å½“YARNè¿”å›ç»™Flink ResourceManager containerä¿¡æ¯æ—¶ï¼Œåˆ¤æ–­containeræ˜¯å¦ç¬¦åˆè¦æ±‚ï¼Œå¦‚æœä¸ç¬¦åˆå¯ä»¥éƒ¨åˆ†æ‹’æ”¶ï¼Œå†æ¬¡ç”³è¯·èµ„æºï¼Œè¯¥åŠŸèƒ½ç”±å‚æ•°å¼€å¯ã€‚</p>
<p><img src="https://static001.geekbang.org/infoq/16/16a7fa6dc4c5ac2babd329e3c41c33c9.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-19">3.5 ç£ç›˜æ‰“æ»¡çš„é—®é¢˜</h3>
<h4 data-id="heading-20">3.5.1 ç°è±¡</h4>
<p>ç”±äºæˆ‘ä»¬å®æ—¶é›†ç¾¤çš„ç£ç›˜è¾ƒå°ï¼Œå¤§çŠ¶æ€ä»»åŠ¡çš„çŠ¶æ€è¾¾å‡ åä¸Šç™¾Tï¼Œé¢‘ç¹å‡ºç°ç£ç›˜ä½¿ç”¨ç‡è¾¾åˆ°90%çš„å‘Šè­¦ã€‚</p>
<h4 data-id="heading-21">3.5.2 è§£å†³æ–¹æ¡ˆ</h4>
<p>æˆ‘ä»¬å°†å¤§çŠ¶æ€çš„ä»»åŠ¡çš„Checkpointæ•°æ®å­˜å‚¨åˆ°ç£ç›˜èµ„æºè¾ƒå®½è£•çš„ç¦»çº¿çš„é›†ç¾¤ï¼Œéå¤§çŠ¶æ€çš„ä»»åŠ¡çš„Checkpointæ•°æ®å­˜å‚¨åœ¨å®æ—¶é›†ç¾¤ã€‚</p>
<h3 data-id="heading-22">3.6 HDFS RPC é£™é«˜é—®é¢˜</h3>
<h4 data-id="heading-23">3.6.1 ç°è±¡</h4>
<p>åœ¨ä¸šåŠ¡æ–°ä¸Šä¸€æ‰¹ä»»åŠ¡åï¼Œæˆ‘ä»¬å‘ç°ç¦»çº¿é›†ç¾¤HDFSçš„RPCæœ‰æ˜æ˜¾çš„å¢åŠ ã€‚</p>
<p><img src="https://static001.geekbang.org/infoq/4c/4ca61c00d9c2bc4484c5b10302c79c41.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-24">3.6.2 è§£å†³æ–¹æ¡ˆ</h4>
<p>ç”±äºæˆ‘ä»¬é»˜è®¤åªä¼šä¿å­˜æœ€è¿‘çš„3ä¸ªCheckpointï¼Œæ‰€ä»¥å¯¹äºå¢é‡Checkpointè€Œè¨€ï¼Œè‚¯å®šä¼šæœ‰æ–‡ä»¶çš„ä¿®æ”¹å’Œåˆ é™¤ï¼Œæ®äº†è§£ä¿®æ”¹å’Œåˆ é™¤æ˜¯å¯¹HDFSæ€§èƒ½å½±å“è¾ƒå¤§çš„æ“ä½œã€‚æˆ‘ä»¬å¯¹æ¯”è¿™ä¸€æ‰¹ä»»åŠ¡ä»»åŠ¡åœ¨HDFSä¸Šçš„Checkpointæ–‡ä»¶å’Œä¹‹å‰çš„ä»»åŠ¡å¯¹æ¯”å‘ç°ï¼Œæ–‡ä»¶æ•°é‡å¤§å¾ˆå¤šï¼Œä½†æ˜¯æ¯ä¸ªæ–‡ä»¶å°å¾ˆå¤šï¼Œäºæ˜¯æˆ‘ä»¬è°ƒæ•´äº†å‚æ•°ï¼šstate.backend.rocksdb.compaction.level.target-file-size-baseå‚æ•°ä¸º256MBï¼Œè¿™ä¸ªå‚æ•°é»˜è®¤æ˜¯64MBï¼Œå‚æ•°çš„ä½œç”¨æ§åˆ¶å‹ç¼©åçš„æ–‡ä»¶çš„å¤§å°ã€‚é…ç½®æ”¹å‚æ•°åRPCå›å½’æ­£å¸¸ã€‚</p>
<p>æ•ˆæœå¦‚å›¾ï¼š</p>
<p><img src="https://static001.geekbang.org/infoq/b9/b9ebfdd95264553025698df649ce31ad.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-25">å››ã€æ€»ç»“</h2>
<h3 data-id="heading-26">4.1 é—ç•™é—®é¢˜</h3>
<h4 data-id="heading-27">4.1.1.RocksDBçš„è°ƒä¼˜çš„é—¨æ§›è¾ƒé«˜</h4>
<p>è™½ç„¶æˆ‘ä»¬åœ¨ä»»åŠ¡ä¸Šä½¿ç”¨äº†ç§¯ç´¯é€šç”¨ç»éªŒè¿›è¡Œä¼˜åŒ–ï¼Œä½†æ˜¯æœ‰äº›æ•°æ®é‡è¾ƒå¤§çš„ä»»åŠ¡åœ¨æµé‡é«˜å³°æœŸä¾ç„¶å®¹æ˜“å‡ºç°å»¶è¿Ÿï¼ŒRocksDBçš„å‚æ•°æœ‰å‡ åä¸ªï¼Œè¦æƒ³æŠŠæ€§èƒ½è°ƒä¼˜åšåˆ°æ¯”è¾ƒæè‡´éœ€è¦æ·±å…¥äº†è§£å…¶åŸç†ï¼Œè¿˜æœ‰å¯¹ä¸šåŠ¡ç‰¹ç‚¹æœ‰æ·±å…¥çš„äº†è§£ï¼Œå¯¹äºåº”ç”¨å¼€å‘è€Œè¨€ï¼Œé—¨æ§›è¾ƒé«˜ã€‚</p>
<h4 data-id="heading-28">4.1.2.ä»»åŠ¡æ¢å¤æ…¢</h4>
<p>ç”±äºæœ‰äº›ä»»åŠ¡çš„çŠ¶æ€é«˜è¾¾å‡ åTï¼Œåœ¨é‡å¯ä»»åŠ¡æˆ–è€…å¼‚å¸¸é‡å¯æ—¶è¦ä»Checkpointæ¢å¤ï¼Œéœ€è¦ä»è¿œç¨‹çš„HDFSä¸‹è½½çŠ¶æ€åˆ°æœ¬åœ°ç£ç›˜ï¼Œå•æœºçš„ioå¾ˆå®¹æ˜“è¢«æ‰“æ»¡ï¼Œè™½ç„¶æˆ‘ä»¬åšäº†TMæ‰“æ•£ï¼Œä½†æ˜¯æœ‰äº›å•ä¸ªTMæ¢å¤çŠ¶æ€å°±éœ€è¦å‡ ååˆ†é’Ÿï¼Œè¿™å¯¹äºç‰¹å¾æ‹¼æ¥ä»»åŠ¡æ¥è®²æ˜¯ä¸å¯æ¥å—çš„ã€‚</p>
<h4 data-id="heading-29">4.1.3.SSDå¯¿å‘½æ¶ˆè€—åŠ é€Ÿ</h4>
<p>æˆ‘ä»¬çš„å®æ—¶é›†ç¾¤ç£ç›˜ä½¿ç”¨çš„æ˜¯å•å—çš„SSDï¼ŒSSDå¯¿å‘½æ˜¯æœ‰é™çš„ï¼Œç„¶è€ŒRcoksDBçš„å†™æ”¾å¤§çš„ç‰¹ç‚¹åŠ é€Ÿäº†SSDçš„å¯¿å‘½çš„æ¶ˆè€—ã€‚</p>
<h3 data-id="heading-30">4.2 è§„åˆ’</h3>
<p>ç»è¿‡è¾ƒé•¿æ—¶é—´çš„å®è·µæˆ‘ä»¬ç†è§£äº†æ ·æœ¬æ‹¼æ¥çš„æœ¬è´¨æ˜¯å°†ä¸åŒæ¥æºã€ä¸åŒæ›´æ–°é¢‘ç‡ã€ä¸åŒè§„æ¨¡çš„ç‰¹å¾ï¼ˆå¦‚åŸºç¡€ç‰¹å¾ã€å®æ—¶åŸ‹ç‚¹ç‰¹å¾ã€å†å²ç‰¹å¾ï¼‰ç»„åˆæˆå®Œæ•´æ ·æœ¬ï¼Œè€Œå•ä¸€ç»„ä»¶å¾€å¾€åœ¨ â€œå»¶è¿Ÿã€å­˜å‚¨è§„æ¨¡ã€æ›´æ–°é¢‘ç‡â€ ç­‰ç»´åº¦å­˜åœ¨çŸ­æ¿ï¼Œå¿…é¡»é€šè¿‡æ··åˆæ¶æ„å®ç° â€œä¼˜åŠ¿äº’è¡¥â€ã€‚</p>
<h4 data-id="heading-31">ä¸šç•Œæ··åˆæ¶æ„çš„æ¡ˆä¾‹</h4>
<p><strong>ç»„ä»¶åˆ†å·¥</strong></p>
<p><img src="https://static001.geekbang.org/infoq/df/dfa6fcb45b26fb78bb36157c40d3f9a3.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>æ‹¼æ¥æµç¨‹</strong></p>
<p><strong>â‘  å®æ—¶æ—¥å¿—é‡‡é›†ï¼š</strong> ç”¨æˆ·ç‚¹å‡»å•†å“çš„æ—¥å¿—é€šè¿‡Kafkaæ¥å…¥Flinkå®æ—¶ä½œä¸šï¼›</p>
<p><strong>â‘¡ å®æ—¶æ•°æ®å­˜å‚¨ï¼š</strong> å°†æ›å…‰æµçš„æ•°æ®å­˜åˆ°RocksDBå’ŒHBaseä¸­ï¼ŒRocksDBçš„TTLè®¾ç½®æˆ1å°æ—¶ï¼›</p>
<p><strong>â‘¢ ç®—å­å†…å®æ—¶æ‹¼æ¥ï¼š</strong> Flinkç®—å­ä»RocksDBè¯»å–ç”¨æˆ·æœ€è¿‘1å°æ—¶åŸ‹ç‚¹ç‰¹å¾ï¼Œä»HBaseè¯»å–åŸºç¡€ç‰¹å¾ï¼Œåˆæ­¥æ‹¼æ¥æˆâ€œå®æ—¶+åŸºç¡€â€ç‰¹å¾ï¼›</p>
<p><strong>â‘£ å†å²ç‰¹å¾èåˆï¼š</strong> Flinkä½œä¸šå°†åˆæ­¥æ‹¼æ¥ç»“æœå†™å…¥Paimonï¼Œä¸Paimonä¸­å­˜å‚¨çš„â€œ7å¤©å†å²ç‰¹å¾â€èåˆï¼Œç”Ÿæˆå®Œæ•´æ ·æœ¬ï¼›</p>
<p><strong>â‘¤ æ ·æœ¬åˆ†å‘ï¼š</strong></p>
<ul>
<li>
<p>å®æ—¶æ¨èï¼šå®Œæ•´æ ·æœ¬é€šè¿‡Flinkå†™å…¥åˆ°HDFSæä¾›ç»™åœ¨çº¿è®­ç»ƒæœåŠ¡ä½¿ç”¨ï¼›</p>
</li>
<li>
<p>ç¦»çº¿è®­ç»ƒï¼šSparkä½œä¸šä»Paimonè¯»å–å…¨é‡å®Œæ•´æ ·æœ¬ï¼Œç”¨äºæ¨èæ¨¡å‹çš„ç¦»çº¿è¿­ä»£ã€‚</p>
</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªè°ƒç”¨æ—¶åºå›¾ï¼š</p>
<p><img src="https://static001.geekbang.org/infoq/b6/b63abfc2ba44c1bd027c331aef9fb4a0.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>æ ¸å¿ƒä»·å€¼</strong></p>
<ul>
<li>
<p><strong>ä½å»¶è¿Ÿï¼š</strong> RocksDB æ”¯æ’‘ç®—å­å†…æ¯«ç§’çº§æ‹¼æ¥ï¼Œæ»¡è¶³å®æ—¶æ¨èçš„ â€œç§’çº§å“åº”â€ éœ€æ±‚ï¼›</p>
</li>
<li>
<p><strong>å¤§è§„æ¨¡ï¼š</strong> HBase+Paimon å¯æ”¯æ’‘äº¿çº§ç”¨æˆ·çš„PBçº§ç‰¹å¾å­˜å‚¨ï¼›</p>
</li>
<li>
<p><strong>æµæ‰¹ååŒï¼š</strong> åŒä¸€å¥—æ ·æœ¬æ—¢ä¾›å®æ—¶æ¨èï¼Œåˆä¾›ç¦»çº¿è®­ç»ƒï¼Œå®ç°æµæ‰¹æ¶æ„ç»Ÿä¸€ï¼›</p>
</li>
<li>
<p><strong>æ˜“äºæ‰©å±•ï¼š</strong> PaimonåŠ¨æ€åˆ—æ”¯æŒç‰¹å¾è¿­ä»£ã€‚</p>
</li>
</ul>
<h3 data-id="heading-32">4.3 å±•æœ›</h3>
<p>è¿‘å‡ å¹´å¤§æ•°æ®æ¶æ„å·²ç»ä»è®¡ç®—-å­˜å‚¨ç´§å¯†è€¦åˆçš„Map-Reduceæ—¶ä»£ï¼Œè¿›å…¥åˆ°äº†ä»¥Kuberneteså®¹å™¨åŒ–éƒ¨ç½²ä¸ºæ ‡å‡†çš„äº‘åŸç”Ÿä¸–ç•Œã€‚æœªæ¥Flinkå°†å¼•å…¥åŸºäºè¿œç¨‹å­˜å‚¨çš„å­˜ç®—åˆ†ç¦»çŠ¶æ€ç®¡ç†æ¶æ„ï¼Œæ–°æ¶æ„ä¸»è¦ä¸ºäº†è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š</p>
<blockquote>
<ul>
<li>
<p>å®¹å™¨åŒ–ç¯å¢ƒä¸‹è®¡ç®—èŠ‚ç‚¹å—æœ¬åœ°ç£ç›˜å¤§å°é™åˆ¶çš„é—®é¢˜ï¼›</p>
</li>
<li>
<p>ç”±äºRocksDBä¸­LSMç»“æ„çš„å‘¨æœŸæ€§ Compaction å¯¼è‡´è®¡ç®—èµ„æºå°–å³°çš„é—®é¢˜ï¼›</p>
</li>
<li>
<p>å¤§è§„æ¨¡çŠ¶æ€å¿«é€Ÿæ‰©ç¼©å®¹çš„æŒ‘æˆ˜ã€‚</p>
</li>
</ul>
</blockquote>
<p>æˆ‘ä»¬ä¹Ÿå°†æŒç»­å…³æ³¨Flinkç¤¾åŒºçš„å‘å±•ï¼Œå°è¯•é‡‡ç”¨è¿œç¨‹å­˜å‚¨çŠ¶æ€åç«¯æ¥åšä¸ºç‰¹å¾æ‹¼æ¥çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Markdown å°†æˆä¸º AI æ—¶ä»£çš„é€šç”¨ç¼–ç¨‹è¯­è¨€ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7571655979256840232</link>    <guid>https://juejin.cn/post/7571655979256840232</guid>    <pubDate>2025-11-13T00:48:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571655979256840232" data-draft-id="7571672422689767476" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Markdown å°†æˆä¸º AI æ—¶ä»£çš„é€šç”¨ç¼–ç¨‹è¯­è¨€ï¼Ÿ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-13T00:48:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç£Šç£Šè½è½"/> <meta itemprop="url" content="https://juejin.cn/user/3054882885469577"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Markdown å°†æˆä¸º AI æ—¶ä»£çš„é€šç”¨ç¼–ç¨‹è¯­è¨€ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3054882885469577/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç£Šç£Šè½è½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T00:48:48.000Z" title="Thu Nov 13 2025 00:48:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç£Šç£Šè½è½ï¼Œç›®å‰æˆ‘åœ¨æŠ€æœ¯ä¸Šä¸»è¦å…³æ³¨ï¼šJavaã€Golangã€AIã€æ¶æ„è®¾è®¡ã€äº‘åŸç”Ÿå’Œè‡ªåŠ¨åŒ–æµ‹è¯•ã€‚æ¬¢è¿æ¥æˆ‘çš„åšå®¢ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fleileiluoluo.com%2Fposts%2Fthe-universal-programming-language-of-the-ai-era.html" target="_blank" title="https://leileiluoluo.com/posts/the-universal-programming-language-of-the-ai-era.html" ref="nofollow noopener noreferrer">leileiluoluo.com</a>ï¼‰è·å–æˆ‘çš„æœ€è¿‘æ›´æ–°ï¼</p>
</blockquote>
<p>åœ¨ AI ç¼–ç åŠ©æ‰‹æ—¥æ¸ç››è¡Œçš„å½“ä¸‹ï¼Œä¸€ä¸ªå€¼å¾—å…³æ³¨çš„æŠ€æœ¯è¶‹åŠ¿æ­£æ‚„ç„¶æµ®ç°ï¼šç¼–ç¨‹è¯­è¨€çš„æŠ½è±¡å±‚çº§æ­£ä¸æ–­ä¸Šç§»ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚ä»Šæˆ‘ä»¬ä¹ ä»¥ä¸ºå¸¸çš„ Javaã€TypeScriptã€Pythonã€Swift ç­‰å…·ä½“ç¼–ç¨‹è¯­è¨€ï¼Œæˆ–å°†éšç€ AI æ—¶ä»£çš„åˆ°æ¥ï¼Œè¢«ä¸€ç§æ›´æ¥è¿‘äººç±»è‡ªç„¶è¯­è¨€çš„é€šç”¨ç¼–ç¨‹èŒƒå¼æ‰€å–ä»£ã€‚</p>
<p>å¦‚æœä¸Šé¢çš„è¶‹åŠ¿å˜ä¸ºç°å®çš„è¯ï¼ŒAI æ—¶ä»£çš„è½¯ä»¶äº¤ä»˜å°±ä¼šç”±ã€Œä»£ç äº¤ä»˜ã€å˜æˆæ˜¯ã€Œè§„èŒƒæ–‡æ¡£ã€äº¤ä»˜ã€‚æˆ‘ä»¬æ¯ä¸ªå¼€å‘è€…éœ€è¦ä»ä¸“æ³¨äºä»£ç å®ç°æå‡ä¸ºä¸“æ³¨äºè®¾è®¡å’Œæ¶æ„ï¼Œå¼€å‘è½¯ä»¶çš„è§†è§’éœ€è¦ä»å¼€å‘è€…è§†è§’æå‡ä¸ºæ¶æ„å¸ˆè§†è§’å’Œäº§å“ç»ç†è§†è§’ï¼Œæ‰€äº¤ä»˜çš„åˆ¶å“ä¹Ÿéœ€è¦ä»ä»£ç å˜ä¸ºç»“æ„åŒ–çš„æ–‡æ¡£ã€‚è€Œ AI ä¼šå–ä»£äººè´Ÿè´£é‚£ã€Œæœ€åä¸€å…¬é‡Œã€ï¼Œå°†æ–‡æ¡£è½¬æ¢ä¸ºä»£ç ã€‚</p>
<h3 data-id="heading-0">1 å½“å‰ AI è¾…åŠ©ç¼–ç ç°çŠ¶</h3>
<p>ä¸‹é¢æ˜¯ç½‘å‹æ€»ç»“çš„ AI æ—¶ä»£åå¤§çƒ­é—¨ã€Œç¼–ç¨‹è¯­è¨€ã€ï¼š</p>
<pre><code class="hljs language-text" lang="text">ç»™æˆ‘ç”Ÿæˆå®Œæ•´å¯è¿è¡Œçš„ä»£ç 
å°±æ”¹è¿™é‡Œï¼Œåˆ«çš„åœ°æ–¹åˆ«åŠ¨
è¯·ç”¨ä¸­æ–‡å›ç­”æˆ‘
è¿™ä¸ªé”™è¯¯ä½ ä¸Šæ¬¡å°±çŠ¯è¿‡
åˆ«è‡ªä½œèªæ˜ä¼˜åŒ–
ä½ è¿™ä»£ç æ ¹æœ¬ç¼–è¯‘ä¸è¿‡
èƒ½ä¸èƒ½æœ‰ç‚¹è®°å¿†åŠ›
æŒ‰ç…§æˆ‘ç»™çš„ä¾‹å­å†™
è¿˜æ˜¯æŠ¥é”™
èƒ½å…ˆè·‘èµ·æ¥å†è¯´å—
</code></pre>
<p>ä¸Šé¢çš„ã€Œçƒ­é—¨è¯­ã€å°±æ˜¯æˆ‘ä»¬å½“ä¸‹ä½¿ç”¨ AI åŠ©æ‰‹çš„æ—¥å¸¸ï¼Œæ˜¯å¦æˆ³ä¸­äº†æ‚¨çš„ç¬‘ç‚¹ã€‚ç”±æ­¤å¯çŸ¥ï¼Œç›®å‰æˆ‘ä»¬ä½¿ç”¨ AI åŠ©æ‰‹æ—¶è¿˜å¤§å¤šåœç•™åœ¨å‡­æ„Ÿè§‰ç¼–ç¨‹çš„é˜¶æ®µï¼ˆVibe Codingï¼‰ï¼Œæœªè¾¾åˆ°çœŸæ­£çš„å·¥ç¨‹åŒ–ã€‚</p>
<p>è¿™ä¸ªå…¶å®ä¸æ€ª AIï¼Œå½“è€æ¿è¯´ä¸€å¥ã€Œä½ æŠŠè¿™ä¸ªç»™å®ç°äº†ã€ï¼Œæˆ‘ä»¬ä½œä¸ºäººç±»ä¹Ÿä¼šæ‡µã€‚æ‰€ä»¥è¦æƒ³è®© AI æœ‰é«˜è´¨é‡ã€è§„èŒƒåŒ–ã€å¯å¤ç°çš„äº§å‡ºï¼Œæˆ‘ä»¬éœ€è¦ç»™ AI æä¾›ç²’åº¦é€‚ä¸­çš„æŒ‡å¯¼æ–‡æ¡£ï¼Œè€å¿ƒçš„æ•™ AI æ€ä¹ˆåšï¼Œè€Œä¸æ˜¯æ³›æ³›ä¸€å¥ã€ŒæŠŠè¿™ä¸ªç»™æˆ‘å®ç°äº†ã€å°±å®Œäº†ã€‚</p>
<h3 data-id="heading-1">2 è§„èŒƒé©±åŠ¨å¼€å‘</h3>
<p>æ‰€ä»¥ç›®å‰ä¸šç•Œé¦–æ¨çš„æ˜¯è§„èŒƒé©±åŠ¨å¼€å‘ï¼ˆSpec-Driven Developmentï¼‰ï¼šå³è®© AI ç¼–ç ä¹‹å‰ï¼Œé¦–å…ˆæˆ‘ä»¬è‡ªå·±è¦æ„æ€å¥½ä¸€ä¸ªã€Œè§„èŒƒã€ï¼Œç„¶åç”¨ç»“æ„åŒ–çš„æ–‡æ¡£å‘Šè¯‰ AIã€Œåšä»€ä¹ˆã€å’Œã€Œæ€ä¹ˆåšã€ã€‚è¿™ä¸ªè§„èŒƒå¾ˆé‡è¦ï¼Œè§„èŒƒå³ä»£ç ï¼Œè¿™æ˜¯äººç±»å’Œ AI ä¹‹é—´çš„å¥‘çº¦ï¼ˆå”¯ä¸€äº‹å®æ¥æºï¼ŒSource of Truthï¼‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f36afb95a1b74a2a95e23e04c40f21eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56OK56OK6JC96JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763599728&amp;x-signature=C7qie0UzeLsMfMRQMyiH65yAvIQ%3D" alt="è§„èŒƒé©±åŠ¨å¼€å‘çš„å±‚çº§" loading="lazy"/></p>
<h3 data-id="heading-2">3 AI æ—¶ä»£çš„ç¼–ç¨‹è¯­è¨€é•¿ä»€ä¹ˆæ ·ï¼Ÿ</h3>
<p>é‚£ä¹ˆè¿™ä¸ªæŒ‡å¯¼ AI ç¼–ç åŠ©æ‰‹çš„è§„èŒƒé•¿ä»€ä¹ˆæ ·å‘¢ï¼Ÿç»åˆæ­¥è°ƒæŸ¥ï¼Œç›®å‰ä¸šç•Œæ¨å‡ºçš„ã€Œè§„èŒƒé©±åŠ¨å¼€å‘ã€çš„å·¥ä½œæµåŸºæœ¬éƒ½åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼šéœ€æ±‚ -&gt; è®¾è®¡ -&gt; å®ç°ï¼ˆæˆ–ä»»åŠ¡ï¼‰ã€‚å³è®© AI ç¼–ç åŠ©æ‰‹ç€æ‰‹ç¼–ç å‰éœ€è¦ç”¨æ–‡æ¡£çš„æ–¹å¼å‘ŠçŸ¥å®ƒä¸šåŠ¡éœ€æ±‚ã€æ¦‚è¦è®¾è®¡å’Œå®ç°æ­¥éª¤ã€‚è€Œä¸”ä¸šç•Œæ‰€ä½¿ç”¨çš„ã€Œè§„èŒƒé©±åŠ¨å¼€å‘ã€æ–‡æ¡£å¤§å¤šç”¨ Markdown æ ¼å¼ç¼–å†™ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬ä»¥å®ç°ä¸€ä¸ªåšå®¢èšåˆç½‘ç«™ä¸ºä¾‹ï¼Œåˆæ­¥æ¢ç´¢ä¸€ä¸‹è¿™ä¸ªè§„èŒƒæ–‡æ¡£å…·ä½“è¯¥æ€ä¹ˆå†™ï¼Ÿ</p>
<p><strong>éœ€æ±‚æ–‡æ¡£æ ·ä¾‹ï¼š</strong></p>
<p>éœ€è¦æ–‡æ¡£è¦å°†ã€Œåšä»€ä¹ˆã€è¯´æ¸…æ¥šï¼Œå³ä¸šåŠ¡åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿé’ˆå¯¹æ¯ä¸ªéœ€æ±‚çš„ç”¨æˆ·æ•…äº‹å’ŒéªŒæ”¶æ ‡å‡†æ˜¯ä»€ä¹ˆï¼Œéƒ½è¦ä¸€ä¸€æè¿°æ¸…æ¥šã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># éœ€æ±‚æ–‡æ¡£</span>

<span class="hljs-section">## æ¦‚è¿°</span>

éœ€è¦å®ç°ä¸€ä¸ªåšå®¢èšåˆ Web ç½‘ç«™ï¼Œè¯¥ç½‘ç«™åŒ…å«åšå®¢å¹¿åœºã€åšå®¢è¯¦æƒ…ã€åšå®¢æäº¤ã€å’Œåšå®¢å®¡æ ¸å‡ ä¸ªä¸»è¦é¡µé¢ã€‚

<span class="hljs-section">## éœ€æ±‚</span>

<span class="hljs-section">### åšå®¢å¹¿åœºé¡µé¢</span>

åšå®¢å¹¿åœºæ˜¯æ‰€æœ‰å·²æ”¶å½•åšå®¢çš„é›†ä¸­å±•ç¤ºé¡µé¢ï¼Œ

<span class="hljs-strong">**ç”¨æˆ·æ•…äº‹ï¼š**</span>

ä½œä¸ºç½‘ç«™è®¿å®¢ï¼Œæˆ‘å¸Œæœ›èƒ½çœ‹åˆ°æ‰€æœ‰å·²å‘å¸ƒçš„åšå®¢ï¼Œä»¥ä¾¿äº†è§£æ˜¯å¦æœ‰æˆ‘æ‰€æ„Ÿå…´è¶£çš„ã€‚

<span class="hljs-strong">**éªŒæ”¶æ ‡å‡†ï¼š**</span>

<span class="hljs-bullet">-</span> é¡µé¢åŠ è½½åï¼Œæ˜¾ç¤ºåšå®¢åˆ—è¡¨ï¼ˆåç§°ã€ç®€ä»‹ã€å‘å¸ƒæ—¶é—´ã€æµè§ˆæ•°ï¼‰ï¼›

<span class="hljs-bullet">-</span> æ¯é¡µé»˜è®¤æ˜¾ç¤º 10 ç¯‡åšå®¢ï¼›

<span class="hljs-bullet">-</span> åˆ—è¡¨æŒ‰ç…§å‘å¸ƒæ—¶é—´é™åºæ’åˆ—ï¼ˆæœ€æ–°ä¼˜å…ˆï¼‰ï¼›

<span class="hljs-bullet">-</span> æ•°æ®æ¥æºäºåç«¯ API ï¼ˆGET /api/blogs?page={page}&amp;size={size}ï¼‰ï¼›

<span class="hljs-bullet">-</span> å½“æ— æ•°æ®æ—¶ï¼Œæ˜¾ç¤ºã€Œæš‚æ— åšå®¢ã€æç¤ºã€‚

...

<span class="hljs-section">### åšå®¢è¯¦æƒ…é¡µé¢</span>

...
</code></pre>
<p><strong>è®¾è®¡æ–‡æ¡£æ ·ä¾‹ï¼š</strong></p>
<p>è®¾è®¡æ–‡æ¡£å³æ˜¯åŸºäºä¸Šè¿°éœ€æ±‚æ–‡æ¡£çš„å…·ä½“è®¾è®¡ï¼Œæ˜¯åœ¨å‘Šè¯‰ AIã€Œæ€ä¹ˆåšã€ä¹‹å‰å‘ŠçŸ¥å®ƒçš„å¿…è¦å‚è€ƒçŸ¥è¯†ã€‚åŒ…æ‹¬ä½†ä¸é™äºï¼šæ¶æ„å›¾ã€å‰åç«¯äº¤äº’æ–¹å¼ã€å‰ç«¯ç»„ä»¶è®¾è®¡ã€åç«¯ API è®¾è®¡ã€é”™è¯¯å¤„ç†ã€æµ‹è¯•ç­–ç•¥ç­‰ã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># è®¾è®¡æ–‡æ¡£</span>

<span class="hljs-section">## ç½‘ç«™æ¶æ„</span>

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åšå®¢èšåˆç½‘ç«™                                 â”‚
â”‚ (Blog Aggregation Web)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‰ç«¯å±‚ï¼ˆWebï¼‰            â”‚
â”‚ React + Axios + Router â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é¡µé¢ç»“æ„                          â”‚
â”‚----------------------------------â”‚
â”‚ é¦–é¡µï¼ˆBlog Plaza Pageï¼‰           â”‚
â”‚ - æ˜¾ç¤ºæ‰€æœ‰åšå®¢åˆ—è¡¨                  â”‚
â”‚ - æœç´¢ / ç­›é€‰ / æ’åº / åˆ†é¡µ         â”‚
â”‚ - ç‚¹å‡»åè¿›å…¥è¯¦æƒ…é¡µ                  â”‚
â”‚----------------------------------â”‚
â”‚ åšå®¢è¯¦æƒ…é¡µï¼ˆBlog Detail Pageï¼‰     â”‚
â”‚ - æ˜¾ç¤ºå•ç¯‡åšå®¢å®Œæ•´å†…å®¹              â”‚
â”‚ - æ”¯æŒç‚¹èµ / è¯„è®º / åˆ†äº«           â”‚
â”‚----------------------------------â”‚
â”‚ åšå®¢æäº¤é¡µï¼ˆBlog Submit Pageï¼‰     â”‚
â”‚ - ç”¨æˆ·æäº¤åšå®¢å†…å®¹                 â”‚
â”‚ - å¡«å†™æ ‡é¢˜ã€ç®€ä»‹ã€æ ‡ç­¾              â”‚
â”‚----------------------------------â”‚
â”‚ åšå®¢å®¡æ ¸é¡µï¼ˆBlog Review Pageï¼‰     â”‚
â”‚ - ç®¡ç†å‘˜å®¡æ ¸ç”¨æˆ·æäº¤çš„åšå®¢           â”‚
â”‚ - å®¡æ ¸é€šè¿‡æˆ–é€€å›ä¿®æ”¹                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åç«¯å±‚ï¼ˆAPIï¼‰                      â”‚
â”‚ Spring Boot 3.3.5                â”‚
â”‚----------------------------------â”‚
â”‚ æ§åˆ¶å™¨ï¼ˆControllersï¼‰              â”‚
â”‚ - BlogController                 â”‚
â”‚ - AdminController                â”‚
â”‚----------------------------------â”‚
â”‚ æœåŠ¡å±‚ï¼ˆServicesï¼‰                 â”‚
â”‚ - BlogService (åˆ—è¡¨/è¯¦æƒ…/æäº¤)     â”‚
â”‚ - ReviewService (å®¡æ ¸é€»è¾‘)        â”‚
â”‚----------------------------------â”‚
â”‚ æ•°æ®è®¿é—®å±‚ï¼ˆRepositoriesï¼‰         â”‚
â”‚ - BlogRepository (JPA)           â”‚
â”‚ - AuthorRepository               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ•°æ®å±‚ï¼ˆDBï¼‰                       â”‚
â”‚----------------------------------â”‚
â”‚ blogs â† åšå®¢ä¸»è¡¨                  â”‚
â”‚ authors â† ä½œè€…ä¿¡æ¯                â”‚
â”‚ categories â† åˆ†ç±»ä¿¡æ¯             â”‚
â”‚ tags â† æ ‡ç­¾ä¿¡æ¯                   â”‚
â”‚ review<span class="hljs-emphasis">_logs â† å®¡æ ¸æ—¥å¿—            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¤–éƒ¨ä¾èµ–ä¸é›†æˆæ¨¡å—                  â”‚
â”‚----------------------------------â”‚
â”‚ RSS / API èšåˆï¼ˆå…¶ä»–åšå®¢æºï¼‰        â”‚
â”‚ AI è‡ªåŠ¨åˆ†ç±»ä¸æ‘˜è¦ç”Ÿæˆ               â”‚
â”‚ åˆ†ææœåŠ¡ï¼ˆè®¿é—®ç»Ÿè®¡ / çƒ­åº¦ï¼‰          â”‚
â”‚ é‚®ä»¶é€šçŸ¥æœåŠ¡ï¼ˆæ–°åšå®¢æé†’ï¼‰           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

## ç»„ä»¶è®¾è®¡

...

## é”™è¯¯å¤„ç†

...

## æµ‹è¯•ç­–ç•¥

...
</span></code></pre>
<p><strong>å®ç°æ–‡æ¡£æ ·ä¾‹</strong>ï¼š</p>
<p>å®ç°æ–‡æ¡£ä¸æ˜¯å…·ä½“åˆ°æ¯è¡Œä»£ç è¯¥æ€ä¹ˆå†™ï¼Œè€Œæ˜¯ä»‹äºè®¾è®¡æ–‡æ¡£å’Œç¼–ç¨‹è¯­è¨€ä¹‹é—´çš„ä¸€ä¸ªæ°å½“ç²’åº¦çš„ã€Œæ€ä¹ˆåšã€æ–‡æ¡£ã€‚æ¯”å¦‚éœ€è¦ä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€ã€å‰åç«¯äº¤äº’çš„å…·ä½“ JSON ç»“æ„ã€é’ˆå¯¹æ¯ä¸ªéœ€æ±‚çš„å®ç°æ­¥éª¤ç­‰éœ€è¦åœ¨å®ç°æ–‡æ¡£æè¿°æ¸…æ¥šã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># å®ç°è®¡åˆ’</span>

<span class="hljs-section">## åšå®¢å¹¿åœºé¡µé¢</span>

ç›®æ ‡ï¼šå±•ç¤ºæ‰€æœ‰å·²å‘å¸ƒçš„åšå®¢ï¼Œæ”¯æŒæœç´¢ã€ç­›é€‰ã€æ’åºã€åˆ†é¡µã€‚

<span class="hljs-section">### å‰ç«¯ä»»åŠ¡</span>

<span class="hljs-bullet">-</span> ä½¿ç”¨ React + React Router åˆ›å»º /blogs é¡µé¢ï¼›

<span class="hljs-bullet">-</span> å®ç°åšå®¢åˆ—è¡¨ç»„ä»¶ï¼ˆBlogList + BlogCardï¼‰ï¼›

<span class="hljs-bullet">-</span> æ·»åŠ æœç´¢æ¡†ã€åˆ†ç±»ç­›é€‰ã€æ’åºä¸‹æ‹‰æ¡†ç»„ä»¶ï¼›

<span class="hljs-bullet">-</span> æ”¯æŒåˆ†é¡µåˆ‡æ¢ä¸ URL åŒæ­¥ï¼ˆQuery å‚æ•°ï¼‰ï¼›

<span class="hljs-bullet">-</span> æ¥å…¥åç«¯ APIï¼šGET /api/blogsã€‚

<span class="hljs-section">### åç«¯ä»»åŠ¡</span>

<span class="hljs-bullet">-</span> åˆ›å»º BlogController#getBlogs()ï¼›

<span class="hljs-bullet">-</span> æ”¯æŒåˆ†é¡µã€æ’åºã€å…³é”®å­—ä¸åˆ†ç±»è¿‡æ»¤å‚æ•°ï¼›

<span class="hljs-bullet">-</span> å®šä¹‰ DTOï¼šBlogSummaryResponseï¼›

<span class="hljs-bullet">-</span> å•å…ƒæµ‹è¯•ä¸é›†æˆæµ‹è¯•ï¼Œ

...
</code></pre>
<p>å¦‚ä¸Šå³æ˜¯å®ç°ä¸€ä¸ªåšå®¢èšåˆç½‘ç«™çš„ã€Œè§„èŒƒé©±åŠ¨å¼€å‘ã€æ ·ä¾‹æ–‡æ¡£ã€‚æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨ç¼–å†™è¿™äº›æ–‡æ¡£æ¥æŒ‡å¯¼ AI åšå®ç°ï¼Œä¹Ÿå¯ä»¥å€ŸåŠ©å¸‚é¢ä¸Šè¯¸å¦‚ Spec Kitã€Open Spec ç­‰å·¥å…·æ¥è‡ªåŠ¨ç”Ÿæˆå’Œç»´æŠ¤è¿™äº›è§„èŒƒæ–‡æ¡£ã€‚è¿™æ ·ï¼Œåœ¨æœ‰äº†è§„åˆ™ã€éœ€æ±‚ã€è®¾è®¡ä»¥åŠæŒ‡å¯¼æ­¥éª¤çš„æƒ…å†µä¸‹ï¼ŒAI ç¼–ç åŠ©æ‰‹çš„å®ç°æ‰ä¼šæ›´åŠ å¯é å’Œé«˜æ•ˆã€‚</p>
<h3 data-id="heading-3">4 å°ç»“</h3>
<p>ç»¼ä¸Šï¼Œè¿™ä¹ˆçœ‹ä¸‹æ¥ï¼Œåœ¨ AI æ—¶ä»£ï¼Œå¼€å‘è€…å¯èƒ½ä¼šä»ä¹‹å‰çš„ä»£ç å®ç°ä¸Šè§£è„±å‡ºæ¥ï¼Œè€Œä¼šå°†æ—¶é—´æ›´å¤šçš„æ”¾åœ¨è®¾è®¡ã€æ¶æ„å’Œç¼–å†™è§„èŒƒæ–‡æ¡£ä¸Šã€‚è€Œè‰¯å¥½çš„è§„èŒƒæ–‡æ¡£ä¼šå¸®åŠ© AI æ¶ˆé™¤æ­§ä¹‰ã€å‡å°‘å¹»è§‰ï¼Œä»è€Œå®ç°å‡†ç¡®å¯é çš„ä»£ç ã€‚</p>
<p>å½“ç„¶ã€Œè§„èŒƒé©±åŠ¨å¼€å‘ã€è¿™ä¸ªæ¨¡å¼ä¹Ÿä¸æ˜¯ä¸‡èƒ½é’¥åŒ™ï¼Œå…¶è·ç¦»çœŸæ­£è½åœ°è¿˜é¢ä¸´ä¸å°‘é—®é¢˜ã€‚æ€ä¹ˆæŠŠæ¡æ–‡æ¡£çš„ç²’åº¦ï¼Ÿä½•ä¸ºä¸€ä¸ªå¥½çš„è§„èŒƒæ–‡æ¡£ï¼Ÿé’ˆå¯¹åŒä¸€ä¸ªè§„èŒƒæ–‡æ¡£ AI ç”Ÿæˆçš„ä»£ç å°±å®Œå…¨ä¸€è‡´å—ï¼Ÿè§„èŒƒæ–‡æ¡£å¦‚ä½•éšç€è¿­ä»£ä¸€èµ·æ¼”è¿›ï¼Ÿé’ˆå¯¹è¿™äº›é—®é¢˜ï¼Œä¸šç•Œæ­£åœ¨æ¢ç´¢å¦‚ä½•è§£å†³ã€‚</p>
<p>ä½†ä¸ç®¡æ€ä¹ˆè¯´ï¼ŒAI æ”¹å˜è½¯ä»¶å¼€å‘æ˜¯å¿…ç„¶çš„è¶‹åŠ¿ï¼Œå¼€å‘è€…ä»¥åæ˜¯å¦å¯ä»¥å½»åº•å‘Šåˆ«ç¼–å†™ä»£ç ï¼Œè€Œå°†æ—¥å¸¸å·¥ä½œå®Œå…¨æ”¾åœ¨ç¼–å†™è¯¸å¦‚ Markdown ç­‰è§„èŒƒæ–‡æ¡£ä¸Šï¼Œç›¸ä¿¡ä¸è¿œçš„å°†æ¥å³ä¼šæœ‰ç­”æ¡ˆã€‚</p>
<blockquote>
<p>å‚è€ƒèµ„æ–™</p>
<p>[1] YouTube: Spec-Driven Development in the Real World - <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D3le-v1Pme44" target="_blank" title="https://www.youtube.com/watch?v=3le-v1Pme44" ref="nofollow noopener noreferrer">www.youtube.com/watch?v=3leâ€¦</a></p>
<p>[2] Medium: Spec-Driven Development: Designing Before You Code (Again) - <a href="https://link.juejin.cn?target=https%3A%2F%2Fmedium.com%2F%40dave-patten%2Fspec-driven-development-designing-before-you-code-again-21023ac91180" target="_blank" title="https://medium.com/@dave-patten/spec-driven-development-designing-before-you-code-again-21023ac91180" ref="nofollow noopener noreferrer">medium.com/@dave-patteâ€¦</a></p>
<p>[3] Martin Fowler: Understanding Spec-Driven-Development: Kiro, spec-kit, and Tessl - <a href="https://link.juejin.cn?target=https%3A%2F%2Fmartinfowler.com%2Farticles%2Fexploring-gen-ai%2Fsdd-3-tools.html" target="_blank" title="https://martinfowler.com/articles/exploring-gen-ai/sdd-3-tools.html" ref="nofollow noopener noreferrer">martinfowler.com/articles/exâ€¦</a></p>
<p>[4] GitHub Blog: Spec-driven development with AI: Get started with a new open source toolkit - <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.blog%2Fai-and-ml%2Fgenerative-ai%2Fspec-driven-development-with-ai-get-started-with-a-new-open-source-toolkit%2F" target="_blank" title="https://github.blog/ai-and-ml/generative-ai/spec-driven-development-with-ai-get-started-with-a-new-open-source-toolkit/" ref="nofollow noopener noreferrer">github.blog/ai-and-ml/gâ€¦</a></p>
<p>[5] å¾®ä¿¡å…¬ä¼—å·ï¼šSpec-Driven Development - AI æ—¶ä»£çš„è½¯ä»¶å¼€å‘æ–°èŒƒå¼ - <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FnrJyR5EgvTwp3wAXTM0L3w" target="_blank" title="https://mp.weixin.qq.com/s/nrJyR5EgvTwp3wAXTM0L3w" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/nrJyR5Egvâ€¦</a></p>
<p>[6] Wikipedia: Vibe coding - <a href="https://link.juejin.cn?target=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FVibe_coding" target="_blank" title="https://en.wikipedia.org/wiki/Vibe_coding" ref="nofollow noopener noreferrer">en.wikipedia.org/wiki/Vibe_câ€¦</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäº LangGraph æ„å»ºæç®€å¯¹è¯å¼ AI æ™ºèƒ½ä½“]]></title>    <link>https://juejin.cn/post/7571731181197738020</link>    <guid>https://juejin.cn/post/7571731181197738020</guid>    <pubDate>2025-11-13T02:15:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571731181197738020" data-draft-id="7571758212473651251" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäº LangGraph æ„å»ºæç®€å¯¹è¯å¼ AI æ™ºèƒ½ä½“"/> <meta itemprop="keywords" content="Python,LangChain,Agent"/> <meta itemprop="datePublished" content="2025-11-13T02:15:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç§‹åˆ€å¥ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/2066737590439079"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäº LangGraph æ„å»ºæç®€å¯¹è¯å¼ AI æ™ºèƒ½ä½“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2066737590439079/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç§‹åˆ€å¥ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T02:15:24.000Z" title="Thu Nov 13 2025 02:15:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    16
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸºäºLangGraphæ„å»ºæç®€å¯¹è¯å¼AIæ™ºèƒ½ä½“ï¼šClean Graphå·¥ç¨‹æ­å»ºæŒ‡å—</h2>
<ul>
<li>è§†é¢‘åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1PwCHBCEkV" target="_blank" title="https://www.bilibili.com/video/BV1PwCHBCEkV" ref="nofollow noopener noreferrer">LangGraph æœ€ç®€å·¥ç¨‹æ­å»º_å“”å“©å“”å“©_bilibili</a></li>
<li>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fslow-coding%2Fclean_graph" target="_blank" title="https://github.com/slow-coding/clean_graph" ref="nofollow noopener noreferrer">GitHub - slow-coding/clean_graph: A LangGraph v1.0 Minimal Quick Starter for Agents</a></li>
</ul>
<h3 data-id="heading-1">å¼•è¨€</h3>
<p>LangGraphä½œä¸ºåŸºäºå›¾ç»“æ„çš„AIåº”ç”¨æ¡†æ¶ï¼Œä¸ºæ„å»ºå¤æ‚æ™ºèƒ½ä½“æä¾›äº†çµæ´»çš„èŠ‚ç‚¹ç¼–æ’èƒ½åŠ›ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•æ­å»ºä¸€ä¸ªæœ€å°åŒ–çš„LangGraphå·¥ç¨‹ï¼ˆClean Graphï¼‰ï¼Œè¯¥å·¥ç¨‹å¯ä½œä¸ºæ™ºèƒ½ä½“å¼€å‘çš„è„šæ‰‹æ¶æˆ–å®éªŒåœºï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€ŸæŒæ¡LangGraphçš„æ ¸å¿ƒç”¨æ³•ï¼Œå¹¶é€šè¿‡LangGraph Studioå®ç°æ™ºèƒ½ä½“è¡Œä¸ºçš„å¯è§†åŒ–è°ƒè¯•ã€‚</p>
<h3 data-id="heading-2">é¡¹ç›®æ¦‚è¿°</h3>
<p>Clean Graphæ˜¯ä¸€ä¸ªåŸºäºLangGraphæ„å»ºçš„æç®€å¯¹è¯å¼AIæ™ºèƒ½ä½“ï¼Œæ—¨åœ¨ä¸ºå­¦ä¹ ã€æ„å»ºå’Œå®éªŒé«˜çº§æ™ºèƒ½ä½“æŠ€æœ¯æä¾›å®ç”¨èµ·ç‚¹ã€‚å…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äºï¼š</p>
<ul>
<li>æç®€ç»“æ„ï¼šå»é™¤å†—ä½™ä»£ç ï¼Œèšç„¦LangGraphæ ¸å¿ƒé€»è¾‘</li>
<li>å¯è§†åŒ–è°ƒè¯•ï¼šé›†æˆLangGraph Studioï¼Œæ”¯æŒæ™ºèƒ½ä½“è¡Œä¸ºçš„å®æ—¶è¿½è¸ª</li>
<li>ç¯å¢ƒå…¼å®¹ï¼šæ”¯æŒæœ¬åœ°æ¨¡å‹ï¼ˆå¦‚LM Studioã€Ollamaï¼‰åŠåœ¨çº¿APIï¼ˆå¦‚OpenAIï¼‰</li>
<li>å¯æ‰©å±•æ€§ï¼šæ¸…æ™°çš„æ¨¡å—åˆ’åˆ†ä¾¿äºåŠŸèƒ½æ‰©å±•</li>
</ul>
<h3 data-id="heading-3">å‰ç½®è¦æ±‚</h3>
<h4 data-id="heading-4">å¿…éœ€å·¥å…·</h4>
<ul>
<li><strong>Python</strong>ï¼šç¼–ç¨‹è¯­è¨€ç¯å¢ƒï¼ˆæ¨è3.12ç‰ˆæœ¬ï¼‰</li>
<li><strong>pip</strong>ï¼šPythonåŒ…ç®¡ç†å™¨</li>
<li><strong>Miniconda</strong>ï¼šè½»é‡çº§ç¯å¢ƒç®¡ç†å™¨ï¼Œç”¨äºéš”ç¦»é¡¹ç›®ä¾èµ–</li>
<li><strong>VSCode</strong>ï¼šæ¨èçš„å¼€å‘ç¯å¢ƒï¼Œä¾¿äºé…ç½®è™šæ‹Ÿç¯å¢ƒåŠä»£ç è°ƒè¯•</li>
</ul>
<h4 data-id="heading-5">å·¥å…·å®‰è£…æŒ‡å—</h4>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.python.org%2Fdownloads%2Fmacos%2F" target="_blank" title="https://www.python.org/downloads/macos/" ref="nofollow noopener noreferrer">Python for MacOS</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anaconda.com%2Fdocs%2Fgetting-started%2Fminiconda%2Finstall%23macos-2" target="_blank" title="https://www.anaconda.com/docs/getting-started/miniconda/install#macos-2" ref="nofollow noopener noreferrer">Miniconda installation</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fpip.pypa.io%2Fen%2Fstable%2Finstallation%2F%23" target="_blank" title="https://pip.pypa.io/en/stable/installation/#" ref="nofollow noopener noreferrer">pip Installation</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.visualstudio.com%2Fdocs%2Fsetup%2Fmac" target="_blank" title="https://code.visualstudio.com/docs/setup/mac" ref="nofollow noopener noreferrer">Visual Studio Code on macOS</a></li>
</ul>
<h3 data-id="heading-6">å¿«é€Ÿå¼€å§‹</h3>
<h4 data-id="heading-7">1. ç¯å¢ƒè®¾ç½®</h4>
<p>é¦–å…ˆåˆ›å»ºå¹¶æ¿€æ´»ç‹¬ç«‹çš„Condaè™šæ‹Ÿç¯å¢ƒï¼Œé¿å…ä¾èµ–å†²çªï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºåä¸ºclean_graphçš„è™šæ‹Ÿç¯å¢ƒï¼ŒæŒ‡å®šPython 3.12</span>
conda create -n clean_graph python=3.12

<span class="hljs-comment"># æ¿€æ´»ç¯å¢ƒ</span>
conda activate clean_graph
</code></pre>
<blockquote>
<p>è‹¥ä½¿ç”¨VSCodeå¼€å‘ï¼Œå¯é€šè¿‡å³ä¸‹è§’Pythonç¯å¢ƒé€‰æ‹©å™¨å…³è”è¯¥è™šæ‹Ÿç¯å¢ƒï¼Œæ— éœ€æ‰‹åŠ¨æ¿€æ´»ã€‚</p>
</blockquote>
<h4 data-id="heading-8">2. å®‰è£…ä¾èµ–</h4>
<p>é¡¹ç›®ä¾èµ–å·²æ•´ç†è‡³<code>requirements.txt</code>ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ‰¹é‡å®‰è£…ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pip install -r requirements.txt
</code></pre>
<p>æ ¸å¿ƒä¾èµ–è¯´æ˜ï¼š</p>
<ul>
<li><code>langgraph~=1.0</code>ï¼šLangGraphæ¡†æ¶æ ¸å¿ƒ</li>
<li><code>langchain~=1.0</code>ï¼šAIåº”ç”¨å¼€å‘å·¥å…·é“¾</li>
<li><code>langchain_openai</code>ï¼šOpenAIå…¼å®¹APIå®¢æˆ·ç«¯</li>
<li><code>python-dotenv</code>ï¼šç¯å¢ƒå˜é‡ç®¡ç†</li>
<li><code>langgraph-cli</code>ï¼šLangGraph Studioå¼€å‘å·¥å…·</li>
</ul>
<h4 data-id="heading-9">3. ç¯å¢ƒé…ç½®</h4>
<p>ç¼–è¾‘é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„<code>.env</code>æ–‡ä»¶ï¼Œé…ç½®æ¨¡å‹åŠè¿½è¸ªæœåŠ¡å‚æ•°ï¼š</p>
<pre><code class="hljs language-env" lang="env"># å¿…éœ€ï¼šLLM APIé…ç½®ï¼ˆæ”¯æŒæ‰€æœ‰OpenAIå…¼å®¹æ¥å£ï¼‰
LLM_API_BASE=http://localhost:1234/v1  # æœ¬åœ°æ¨¡å‹æœåŠ¡åœ°å€ï¼ˆå¦‚LM Studioã€Ollamaï¼‰
LLM_MODEL=qwen/qwen3-next-80b          # æ¨¡å‹åç§°ï¼ˆéœ€ä¸æœåŠ¡ç«¯ä¸€è‡´ï¼‰
LLM_API_KEY=your-api-key-here          # APIå¯†é’¥ï¼ˆæœ¬åœ°æ¨¡å‹å¯å¡«ä»»æ„å€¼ï¼‰

# å¯é€‰ï¼šLangSmithè¿½è¸ªé…ç½®ï¼ˆç”¨äºè°ƒè¯•ä¸åˆ†æï¼‰
LANGSMITH_TRACING=false                # æ˜¯å¦å¯ç”¨è¿½è¸ªï¼ˆå¼€å‘é˜¶æ®µå»ºè®®è®¾ä¸ºfalseï¼‰
LANGSMITH_API_KEY=your-langsmith-key   # LangSmithå¯†é’¥ï¼ˆéœ€åœ¨å®˜ç½‘æ³¨å†Œè·å–ï¼‰
</code></pre>
<blockquote>
<p>LangSmithæ˜¯LangChainæä¾›çš„åœ¨çº¿è¿½è¸ªæœåŠ¡ï¼Œç”¨äºè®°å½•æ™ºèƒ½ä½“æ‰§è¡Œè¿‡ç¨‹ï¼Œæ³¨å†Œåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fsmith.langchain.com%2F" target="_blank" title="https://smith.langchain.com/" ref="nofollow noopener noreferrer">LangSmithå®˜ç½‘</a>ã€‚</p>
</blockquote>
<h4 data-id="heading-10">4. å¯åŠ¨LangGraph Studio</h4>
<p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤å¯åŠ¨å¯è§†åŒ–è°ƒè¯•ç•Œé¢ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">langgraph dev --no-reload
</code></pre>
<ul>
<li><code>--no-reload</code>ï¼šç¦ç”¨çƒ­æ›´æ–°ï¼ˆé¿å…é¢‘ç¹ä»£ç æ”¹åŠ¨å¯¼è‡´ç•Œé¢å‡æ­»ï¼‰</li>
<li>å¯åŠ¨æˆåŠŸåï¼Œè®¿é—®<code>http://localhost:2024</code>å³å¯æ‰“å¼€LangGraph Studioç•Œé¢</li>
</ul>
<h3 data-id="heading-11">é¡¹ç›®ç»“æ„è§£æ</h3>
<p>Clean Graphé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œæ ¸å¿ƒç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">clean_graph/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __init__.py      <span class="hljs-comment"># åŒ…åˆå§‹åŒ–æ–‡ä»¶</span>
â”‚   â”œâ”€â”€ graph.py         <span class="hljs-comment"># LangGraphå›¾ç»“æ„å®šä¹‰ï¼ˆæ ¸å¿ƒé€»è¾‘ï¼‰</span>
â”‚   â””â”€â”€ llms.py          <span class="hljs-comment"># LLMå®ä¾‹é…ç½®ï¼ˆåŠ è½½.envå‚æ•°ï¼‰</span>
â”œâ”€â”€ .<span class="hljs-built_in">env</span>                 <span class="hljs-comment"># ç¯å¢ƒå˜é‡é…ç½®ï¼ˆæ¨¡å‹åœ°å€ã€å¯†é’¥ç­‰ï¼‰</span>
â”œâ”€â”€ langgraph.json       <span class="hljs-comment"># LangGraphåº”ç”¨å®šä¹‰ï¼ˆå…³è”Studioï¼‰</span>
â”œâ”€â”€ requirements.txt     <span class="hljs-comment"># é¡¹ç›®ä¾èµ–æ¸…å•</span>
â”œâ”€â”€ README.md            <span class="hljs-comment"># è‹±æ–‡ç‰ˆè¯´æ˜æ–‡æ¡£</span>
â””â”€â”€ README_CN.md         <span class="hljs-comment"># ä¸­æ–‡ç‰ˆè¯´æ˜æ–‡æ¡£</span>
</code></pre>
<h4 data-id="heading-12">æ ¸å¿ƒæ–‡ä»¶è¯´æ˜</h4>
<ol>
<li>
<p><strong>src/llms.py</strong><br/>
è´Ÿè´£åŠ è½½<code>.env</code>é…ç½®ï¼Œåˆ›å»ºLLMè°ƒç”¨å®ä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv
<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">import</span> os

load_dotenv()  <span class="hljs-comment"># åŠ è½½.envæ–‡ä»¶</span>

llm = ChatOpenAI(
    base_url=os.getenv(<span class="hljs-string">"LLM_API_BASE"</span>),
    model=os.getenv(<span class="hljs-string">"LLM_MODEL"</span>),
    api_key=os.getenv(<span class="hljs-string">"LLM_API_KEY"</span>)
)
</code></pre>
</li>
<li>
<p><strong>src/graph.py</strong><br/>
å®šä¹‰LangGraphå›¾ç»“æ„ï¼ŒåŒ…å«ä¸€ä¸ªæç®€çš„å¯¹è¯é“¾è·¯ï¼ˆ<code>start â†’ agent â†’ end</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langgraph.graph <span class="hljs-keyword">import</span> Graph, StateGraph
<span class="hljs-keyword">from</span> langgraph.graph.message <span class="hljs-keyword">import</span> add_messages
<span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel, Field
<span class="hljs-keyword">from</span> src.llms <span class="hljs-keyword">import</span> llm

<span class="hljs-comment"># å®šä¹‰çŠ¶æ€ç»“æ„ï¼ˆå­˜å‚¨å¯¹è¯æ¶ˆæ¯åˆ—è¡¨ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">State</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    messages: <span class="hljs-built_in">list</span> = Field(default_factory=<span class="hljs-built_in">list</span>)

<span class="hljs-comment"># å®šä¹‰AgentèŠ‚ç‚¹é€»è¾‘ï¼ˆè°ƒç”¨LLMç”Ÿæˆå›å¤ï¼‰</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">agent</span>(<span class="hljs-params">state: State</span>):
    response = llm.invoke(state.messages)
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"messages"</span>: [response]}

<span class="hljs-comment"># æ„å»ºå›¾ç»“æ„</span>
builder = StateGraph(State)
builder.add_node(<span class="hljs-string">"agent"</span>, agent)  <span class="hljs-comment"># æ·»åŠ AgentèŠ‚ç‚¹</span>
builder.set_entry_point(<span class="hljs-string">"agent"</span>)   <span class="hljs-comment"># å…¥å£ç‚¹ä¸ºAgent</span>
builder.set_finish_point(<span class="hljs-string">"agent"</span>) <span class="hljs-comment"># å‡ºå£ç‚¹ä¸ºAgent</span>
graph = builder.<span class="hljs-built_in">compile</span>()         <span class="hljs-comment"># ç¼–è¯‘ä¸ºå¯æ‰§è¡Œå›¾</span>

<span class="hljs-comment"># æš´éœ²åº”ç”¨å®ä¾‹ï¼ˆä¾›Studioè°ƒç”¨ï¼‰</span>
app = graph
</code></pre>
</li>
<li>
<p><strong>langgraph.json</strong><br/>
å…³è”LangGraph Studioä¸åº”ç”¨å®ä¾‹ï¼Œç¡®ä¿Studioèƒ½æ­£ç¡®åŠ è½½å›¾ç»“æ„ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"graphs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"default"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"source"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src.graph:app"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Clean Graph"</span>
        <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</li>
</ol>
<h3 data-id="heading-13">LangGraph Studioä½¿ç”¨æŒ‡å—</h3>
<p>LangGraph Studioæ˜¯å¯è§†åŒ–è°ƒè¯•æ™ºèƒ½ä½“çš„æ ¸å¿ƒå·¥å…·ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ol>
<li>
<p><strong>çŠ¶æ€è¿½è¸ª</strong><br/>
å®æ—¶å±•ç¤º<code>State</code>ä¸­<code>messages</code>åˆ—è¡¨çš„å˜åŒ–ï¼Œæ¸…æ™°æŸ¥çœ‹å¯¹è¯æ¶ˆæ¯çš„ç´¯åŠ è¿‡ç¨‹ã€‚</p>
</li>
<li>
<p><strong>èŠ‚ç‚¹æ‰§è¡Œå¯è§†åŒ–</strong><br/>
ä»¥æµç¨‹å›¾å½¢å¼å±•ç¤ºæ™ºèƒ½ä½“æ‰§è¡Œè·¯å¾„ï¼ˆå½“å‰ä¸º<code>start â†’ agent â†’ end</code>ï¼‰ï¼Œå¤æ‚é“¾è·¯å¯ç›´è§‚å‘ˆç°èŠ‚ç‚¹è·³è½¬é€»è¾‘ã€‚</p>
</li>
<li>
<p><strong>äº¤äº’æ¨¡å¼</strong></p>
<ul>
<li><strong>Graphæ¨¡å¼</strong>ï¼šå±•ç¤ºå®Œæ•´æ‰§è¡Œé“¾è·¯åŠä¸­é—´çŠ¶æ€ï¼Œé€‚åˆè°ƒè¯•ã€‚</li>
<li><strong>Chatæ¨¡å¼</strong>ï¼šéšè—ä¸­é—´è¿‡ç¨‹ï¼Œä»…å±•ç¤ºäººæœºäº¤äº’ç»“æœï¼Œé€‚åˆå¿«é€Ÿæµ‹è¯•ã€‚</li>
</ul>
</li>
</ol>
<h4 data-id="heading-14">åŸºæœ¬æ“ä½œæ­¥éª¤</h4>
<ol>
<li>åœ¨Studioç•Œé¢å·¦ä¾§è¾“å…¥æ¡†é€‰æ‹©<code>human</code>è§’è‰²ï¼Œè¾“å…¥å¯¹è¯å†…å®¹å¹¶æäº¤ã€‚</li>
<li>ç³»ç»Ÿä¼šè§¦å‘<code>agent</code>èŠ‚ç‚¹é€»è¾‘ï¼Œè°ƒç”¨LLMç”Ÿæˆå›å¤å¹¶æ›´æ–°<code>messages</code>çŠ¶æ€ã€‚</li>
<li>å¤šè½®å¯¹è¯æ—¶ï¼Œ<code>messages</code>åˆ—è¡¨ä¼šè‡ªåŠ¨ç´¯åŠ å†å²æ¶ˆæ¯ï¼Œå®ç°ä¸Šä¸‹æ–‡è¿è´¯ã€‚</li>
</ol>
<h3 data-id="heading-15">æ€»ç»“</h3>
<p>Clean Graphé€šè¿‡æç®€è®¾è®¡é™ä½äº†LangGraphçš„å­¦ä¹ é—¨æ§›ï¼Œå¼€å‘è€…å¯åŸºäºæ­¤æ¡†æ¶ï¼š</p>
<ul>
<li>å¿«é€Ÿç†è§£LangGraphçš„å›¾ç»“æ„ä¸èŠ‚ç‚¹ç¼–æ’é€»è¾‘</li>
<li>å€ŸåŠ©LangGraph Studioå¯è§†åŒ–è°ƒè¯•æ™ºèƒ½ä½“è¡Œä¸º</li>
<li>æ‰©å±•èŠ‚ç‚¹ä¸é“¾è·¯ï¼Œå®éªŒå¤æ‚æ™ºèƒ½ä½“åŠŸèƒ½ï¼ˆå¦‚å·¥å…·è°ƒç”¨ã€å¤šæ™ºèƒ½ä½“åä½œç­‰ï¼‰</li>
</ul>
<p>å¦‚éœ€è¿›ä¸€æ­¥å­¦ä¹ ï¼Œå¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.langchain.com%2Foss%2Fpython%2Flanggraph%2Fstudio" target="_blank" title="https://docs.langchain.com/oss/python/langgraph/studio" ref="nofollow noopener noreferrer">LangGraph Studio Doc</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.langchain.com%2Foss%2Fpython%2Flanggraph%2Foverview" target="_blank" title="https://docs.langchain.com/oss/python/langgraph/overview" ref="nofollow noopener noreferrer">LangGraph Doc</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶å¼€å§‹çš„ Godot ä¹‹æ—… â€” EP10ï¼šæœ‰é™çŠ¶æ€æœºï¼ˆäºŒï¼‰]]></title>    <link>https://juejin.cn/post/7571702660933517327</link>    <guid>https://juejin.cn/post/7571702660933517327</guid>    <pubDate>2025-11-13T02:38:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571702660933517327" data-draft-id="7571722835658113058" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶å¼€å§‹çš„ Godot ä¹‹æ—… â€” EP10ï¼šæœ‰é™çŠ¶æ€æœºï¼ˆäºŒï¼‰"/> <meta itemprop="keywords" content="Godot,æ¸¸æˆå¼€å‘"/> <meta itemprop="datePublished" content="2025-11-13T02:38:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é™ˆå°•å…­"/> <meta itemprop="url" content="https://juejin.cn/user/1392435974647373"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶å¼€å§‹çš„ Godot ä¹‹æ—… â€” EP10ï¼šæœ‰é™çŠ¶æ€æœºï¼ˆäºŒï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1392435974647373/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é™ˆå°•å…­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T02:38:18.000Z" title="Thu Nov 13 2025 02:38:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»é›¶å¼€å§‹çš„ Godot ä¹‹æ—… â€” EP10ï¼šæœ‰é™çŠ¶æ€æœºï¼ˆäºŒï¼‰</h2>
<blockquote>
<p>åœ¨ä¸Šä¸€ç« ä¸­ï¼Œæˆ‘ä»¬è¯¦ç»†è®¾è®¡äº†æœ‰é™çŠ¶æ€æœºï¼ˆFSMï¼‰çš„åº•å±‚æ¶æ„ã€‚ç†è®ºç»ˆé¡»å®è·µï¼Œæœ¬èŠ‚æˆ‘ä»¬å°†æ­£å¼åœ¨é¡¹ç›®ä¸­åº”ç”¨è¿™å¥—çŠ¶æ€æœºï¼Œå¹¶é€šè¿‡æ”¹é€ ç©å®¶ï¼ˆPlayerï¼‰åœºæ™¯ï¼Œå°†æ¯ç‡¥çš„ä»£ç è®¾è®¡åŒ–ä¸ºç”ŸåŠ¨çš„è§’è‰²è¡Œä¸ºã€‚</p>
</blockquote>
<h3 data-id="heading-1">æ–°å»ºç›®å½•</h3>
<p>æˆ‘ä»¬é¦–å…ˆæ¥è°ƒæ•´ä¸€ä¸‹é¡¹ç›®ç»“æ„ï¼Œä¸ºæ¥ä¸‹æ¥çš„çŠ¶æ€æœºå®ç°åšå¥½å‡†å¤‡ã€‚</p>
<p>åœ¨<code>res://common/</code>ç›®å½•ä¸‹åˆ›å»º<code>state_machine/</code>ç›®å½•ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01e21083b4474abfa85c74a629d0d1fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5bCV5YWt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763606298&amp;x-signature=Y50TUlmTToRKOuTzRaZGTlERg7U%3D" alt="alt text" loading="lazy"/></p>
<blockquote>
<p>æ²¡é”™ï¼Œæˆ‘ç¡®å®åˆ é™¤äº†åŸå…ˆçš„ script æ ¹ç›®å½•ã€‚è‡ªä»åœ¨ EP8 ä¸­å°†ç©å®¶ç›¸å…³çš„è„šæœ¬å’Œèµ„æºæ•´åˆåˆ°å…¶åœºæ™¯ç›®å½•ä¸‹åï¼Œæˆ‘æ„ˆå‘è§‰å¾—ä¸€ä¸ªç¬¼ç»Ÿçš„ <code>script</code> ç›®å½•æ„ä¹‰ä¸å¤§ã€‚Godot ä¸ Java æˆ– C# ä¸åŒï¼Œå®ƒä¸ä»¥è„šæœ¬ä¸ºæ ¸å¿ƒï¼Œè„šæœ¬æœ¬èº«ä¹Ÿä¸å…·å¤‡ä¸¥æ ¼çš„â€œåŒ…ï¼ˆpackageï¼‰â€æ¦‚å¿µã€‚å› æ­¤ï¼Œå°†æ‰€æœ‰è„šæœ¬é›†ä¸­å­˜æ”¾ï¼Œåè€Œä¼šå¯¼è‡´æˆ‘ä»¬åœ¨åœºæ™¯å’Œè„šæœ¬ç›®å½•é—´é¢‘ç¹åˆ‡æ¢ï¼Œæ—¢æµªè´¹æ—¶é—´ä¹Ÿä¸åˆ©äºç»„ä»¶çš„è¿ç§»ã€‚æ‰€ä»¥ï¼Œåç»­æˆ‘ä»¬çš„é¡¹ç›®ç»“æ„å¯èƒ½ä¼šæ›´å¤šåœ°ä»¥â€œåœºæ™¯â€ä¸ºæ ¸å¿ƒï¼Œè€Œéâ€œæ–‡ä»¶ç±»å‹â€ã€‚ï¼ˆè‡³å°‘ç›®å‰æ˜¯è¿™ä¹ˆæƒ³çš„ï¼‰</p>
</blockquote>
<p>åœ¨<code>state_machine</code>ç›®å½•ä¸­ï¼Œæˆ‘ä»¬ä¾æ¬¡åˆ›å»º<code>state_machine.gd</code>ã€<code>state.gd</code>ã€<code>state_transition.gd</code>ã€<code>state_loader.gd</code>è¿™å››ä¸ªæ–‡ä»¶ï¼Œå¹¶å°†ä¸Šä¸€èŠ‚ä¸­æä¾›çš„ä»£ç åˆ†åˆ«ç²˜è´´è¿›å»ã€‚</p>
<p>è¯·ç‰¹åˆ«æ³¨æ„å®ƒä»¬çš„åŸºç±»ï¼š<code>state_machine</code> å’Œ <code>state</code> ç»§æ‰¿è‡ª <code>Node</code>ï¼Œè€Œ <code>state_transition</code> å’Œ <code>state_loader</code> ç»§æ‰¿è‡ª <code>RefCounted</code>ã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆåŸºç±»ä¸åŒï¼Ÿè¿™æ˜¯å› ä¸º <code>StateMachine</code> å’Œ <code>State</code> ä½œä¸ºåœºæ™¯çš„ä¸€éƒ¨åˆ†éœ€è¦è¢«æŒ‚è½½åˆ°èŠ‚ç‚¹æ ‘ä¸Šï¼Œè€Œ <code>StateTransition</code> å’Œ <code>StateLoader</code> åªæ˜¯ç”¨äºæ‰¿è½½é€»è¾‘å’Œæ•°æ®çš„è¾…åŠ©ç±»ï¼Œæ— éœ€æˆä¸ºåœºæ™¯èŠ‚ç‚¹ï¼Œä½¿ç”¨è½»é‡çº§çš„ <code>RefCounted</code> å¯ä»¥æœ‰æ•ˆç®¡ç†å†…å­˜ã€‚</p>
</blockquote>
<p>åœ¨æ–°å»º <code>state_transition</code> è„šæœ¬æ—¶ï¼Œå¯ä»¥ç›´æ¥åœ¨Godotçš„åˆ›å»ºè„šæœ¬çª—å£é€‰æ‹©å…¶åŸºç±» <code>RefCounted</code>:</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c2473a3cd07475b9e85137bf4607f4d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5bCV5YWt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763606298&amp;x-signature=Vfa7qLdb%2FMicgfVbcXyC6q5MtEU%3D" alt="alt text" loading="lazy"/></p>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬é€šç”¨çš„çŠ¶æ€æœºæ¨¡å—å°±åˆ›å»ºå¥½äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1a4ce7f617a4c66bac8a2719fdc6e63~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5bCV5YWt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763606298&amp;x-signature=cDt%2BpSBi8KfbqOrvt9bcvZ%2BHpVA%3D" alt="alt text" loading="lazy"/></p>
<blockquote>
<p>æœ€æ–°çš„ä»£ç è¯·æŸ¥é˜…<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fcy4ever%2Fsimple_rag" target="_blank" title="https://gitee.com/cy4ever/simple_rag" ref="nofollow noopener noreferrer">Gitee</a>ã€‚æˆ‘æœ‰æ—¶å¯èƒ½æ›´æ–°äº†ä»£ç ä½†æœªèƒ½åŠæ—¶åŒæ­¥åšå®¢ï¼Œæ‰€ä»¥æœ€å¥½è¿˜æ˜¯ä»¥Giteeä¸Šçš„ä¸ºå‡†ã€‚</p>
</blockquote>
<h3 data-id="heading-2">æ”¹é€ ç©å®¶åœºæ™¯</h3>
<p>åŸºç¡€çš„çŠ¶æ€æœºæ¡†æ¶æ­å»ºå®Œæ¯•ï¼Œç°åœ¨æ˜¯æ—¶å€™æ”¹é€ æˆ‘ä»¬çš„ç©å®¶åœºæ™¯ï¼Œè®©å®ƒçœŸæ­£â€œåŠ¨â€èµ·æ¥äº†ã€‚</p>
<p>æˆ‘ä»¬æ‰“å¼€ç©å®¶åœºæ™¯ï¼Œåœ¨æ ¹èŠ‚ç‚¹ï¼ˆ<code>CharacterBody2D</code>ï¼‰ä¸‹æ·»åŠ ä¸€ä¸ª <code>StateMachine</code> èŠ‚ç‚¹ï¼Œå¹¶å°†å…¶å‘½åä¸º<code>StateMachine</code>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7af8072cb634dd78e69e0e9cb358cea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5bCV5YWt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763606298&amp;x-signature=AA1YhuLwiErNPP9IMY2A7AN2qOs%3D" alt="alt text" loading="lazy"/></p>
<p>åœ¨æ£€æŸ¥å™¨ä¸­è®¾ç½®è¯¥ <code>StateMachine</code> èŠ‚ç‚¹çš„å±æ€§ï¼š</p>
<ul>
<li>å°† <code>Auto Load Mode</code> è®¾ç½®ä¸º <code>NODE</code>ï¼Œè¿™æ ·çŠ¶æ€æœºä¼šè‡ªåŠ¨åŠ è½½å…¶å­èŠ‚ç‚¹ä½œä¸ºçŠ¶æ€ã€‚</li>
<li>å°† <code>Initial State</code> è®¾ç½®ä¸º <code>idle</code>ï¼Œè¿™æ˜¯æˆ‘ä»¬å¸Œæœ›çš„åˆå§‹çŠ¶æ€ã€‚</li>
</ul>
<blockquote>
<p>ä½ å¯èƒ½ä¼šå¥½å¥‡ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬è‡ªå·±å†™çš„è„šæœ¬ç±»ï¼ˆStateMachineï¼‰èƒ½åƒå†…ç½®èŠ‚ç‚¹ä¸€æ ·è¢«æ·»åŠ åˆ°åœºæ™¯ä¸­ï¼Ÿç­”æ¡ˆå°±åœ¨äºç»§æ‰¿ã€‚å› ä¸ºæˆ‘ä»¬çš„ <code>StateMachine</code> ç±»ç»§æ‰¿è‡ª <code>Node</code>ï¼Œè€Œ Godot ä¸­æ‰€æœ‰ <code>Node</code> éƒ½å¯ä»¥è¢«æ·»åŠ åˆ°åœºæ™¯æ ‘é‡Œã€‚è¿™æ„å‘³ç€ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç»§æ‰¿ Godot æä¾›çš„ä»»æ„èŠ‚ç‚¹ç±»æ¥åˆ›é€ åŠŸèƒ½ä¸°å¯Œçš„è‡ªå®šä¹‰èŠ‚ç‚¹ï¼</p>
</blockquote>
<h4 data-id="heading-3">åˆ›å»ºçŠ¶æ€èŠ‚ç‚¹</h4>
<p>æˆ‘ä»¬ä¹‹å‰ä¸ºç©å®¶è®¾è®¡äº† <code>idle</code>ã€<code>walk</code>ã€<code>attack</code> ä¸‰ä¸ªåŠ¨ç”»ï¼Œç°åœ¨éœ€è¦ä¸ºå®ƒä»¬åˆ†åˆ«åˆ›å»ºå¯¹åº”çš„çŠ¶æ€èŠ‚ç‚¹ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥åˆ›å»º <code>idle</code> çŠ¶æ€ã€‚åœ¨ <code>StateMachine</code> èŠ‚ç‚¹ä¸‹æ·»åŠ ä¸€ä¸ª <code>State</code> èŠ‚ç‚¹ï¼Œå°†å…¶å‘½åä¸º <code>idle</code>ï¼Œå¹¶åœ¨æ£€æŸ¥å™¨ä¸­å°†å®ƒçš„ <code>State Name</code> å±æ€§ä¹Ÿè®¾ç½®ä¸º <code>idle</code>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c836647d7204b1fb0e291a7664f475e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5bCV5YWt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763606298&amp;x-signature=BYm9T6wva6YhAKZp1HzwbFa0nSY%3D" alt="alt text" loading="lazy"/></p>
<p>æ¥ç€ï¼Œç”¨åŒæ ·çš„æ–¹æ³•åˆ›å»º <code>walk</code> å’Œ <code>attack</code> ä¸¤ä¸ªçŠ¶æ€èŠ‚ç‚¹ï¼Œå¹¶åˆ†åˆ«è®¾ç½®å¥½å®ƒä»¬çš„å‘½åå’Œ <code>State Name</code> å±æ€§ã€‚</p>
<p>åˆ›å»ºå®Œæˆåçš„èŠ‚ç‚¹ç»“æ„åº”å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0e56be5a997d45b1989b66502ee6b72e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5bCV5YWt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763606298&amp;x-signature=o%2BBnrkmS9etaS7YXaN8A8YNncNU%3D" alt="alt text" loading="lazy"/></p>
<h4 data-id="heading-4">å¯åŠ¨çŠ¶æ€æœº</h4>
<p>å®Œæˆä¸Šè¿°æ­¥éª¤åï¼Œæˆ‘ä»¬å›åˆ° <code>player.gd</code> è„šæœ¬ã€‚æŒ‰ä½ <code>Ctrl (Cmd)</code> é”®ï¼Œå°†åœºæ™¯æ ‘ä¸­çš„ <code>StateMachine</code> èŠ‚ç‚¹æ‹–æ‹½åˆ°è„šæœ¬ç¼–è¾‘å™¨ä¸­ã€‚Godot ä¼šä¸ºæˆ‘ä»¬è‡ªåŠ¨åˆ›å»ºä¸€ä¸ª <code>@onready</code> å˜é‡ï¼Œå¹¶å°†å…¶ç»‘å®šåˆ°è¯¥èŠ‚ç‚¹ä¸Šï¼Œéå¸¸æ–¹ä¾¿ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75c19873a62b43249901c5e1aea39b82~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5bCV5YWt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763606298&amp;x-signature=N1%2BWRnNIhXJUyRp5qMpTALXYznk%3D" alt="alt text" loading="lazy"/></p>
<p>ç„¶åï¼Œåœ¨ <code>player.gd</code> ä¸­æ·»åŠ  <code>_ready</code> å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°ä¼šåœ¨ Player èŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹éƒ½å‡†å¤‡å°±ç»ªåè¢«è°ƒç”¨ã€‚æˆ‘ä»¬åœ¨å…¶ä¸­å¯åŠ¨çŠ¶æ€æœºï¼š</p>
<pre><code class="hljs language-GDScript" lang="GDScript">## çŠ¶æ€æœº
@onready var state_machine: StateMachine = $StateMachine

func _ready() -&gt; void:
	# å¯åŠ¨çŠ¶æ€æœº
	state_machine.start()
</code></pre>
<p>ç°åœ¨å¯åŠ¨æ¸¸æˆï¼Œä½ å¯ä»¥åœ¨æ§åˆ¶å°çœ‹åˆ°çŠ¶æ€æœºå·²æˆåŠŸåŠ è½½äº†ä¸‰ä¸ªçŠ¶æ€ï¼Œå¹¶è¿›å…¥äº†æˆ‘ä»¬è®¾å®šçš„é»˜è®¤çŠ¶æ€ <code>idle</code>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70ec232a78dc41d3aec5600e5f180893~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5bCV5YWt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763606298&amp;x-signature=N3Y%2BaZ1zA9lTlWNBM4IJ1bjrrLU%3D" alt="alt text" loading="lazy"/></p>
<h3 data-id="heading-5">æ›´æ–°è„šæœ¬</h3>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†ï¼š</p>
<ul>
<li>é€šç”¨çŠ¶æ€æœºèŠ‚ç‚¹çš„åˆ›å»º</li>
<li>ç©å®¶åœºæ™¯ç»“æ„çš„æ”¹é€ </li>
<li>çŠ¶æ€æœºçš„åˆæ­¥å¯åŠ¨</li>
</ul>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å¼€å§‹ç¼–å†™å„ä¸ªçŠ¶æ€çš„å…·ä½“é€»è¾‘ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œéœ€è¦å…ˆå¯¹ <code>player.gd</code> åšä¸€äº›æ¸…ç†å’Œè°ƒæ•´ï¼Œç§»é™¤æ—§çš„ã€å°†è¢«çŠ¶æ€æœºæ›¿ä»£çš„é€»è¾‘ã€‚</p>
<ol>
<li><strong>æ¸…ç©º <code>_physics_process</code> å‡½æ•°</strong>ï¼šå…¶ä¸­çš„é€»è¾‘å°†ç”±å„ä¸ªçŠ¶æ€è„šæœ¬æ¥ç®¡ã€‚
<pre><code class="hljs language-GDScript" lang="GDScript">func _physics_process(_delta: float) -&gt; void:
	pass
</code></pre>
</li>
<li><strong>ç§»é™¤æ—§çš„æ”»å‡»ç›¸å…³å˜é‡</strong>ï¼š<code>attack_duration</code>ã€<code>attack_timer</code>ã€<code>is_attacking</code> å°†è¢«ç§»å…¥æ”»å‡»çŠ¶æ€ï¼ˆAttack Stateï¼‰ä¸­ç®¡ç†ã€‚</li>
<li><strong>æ›´æ–° <code>update_animation</code> å‡½æ•°</strong>ï¼šè®©å®ƒä»çŠ¶æ€æœºè·å–å½“å‰çŠ¶æ€åç§°ã€‚
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">- var current_state: String = "idle" # æˆ–è€… "walk"</span>
<span class="hljs-addition">+ var current_state: String = state_machine.get_current_state_name()</span>
</code></pre>
</li>
</ol>
<p>è°ƒæ•´åçš„ <code>player.gd</code> å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-GDScript" lang="GDScript">extends CharacterBody2D

# å¯åœ¨æ£€æŸ¥å™¨é‡Œè°ƒæ•´çš„ç§»åŠ¨é€Ÿåº¦
@export var speed: float = 100.0

# å½“å‰è¾“å…¥æ–¹å‘å‘é‡ï¼ˆå•ä½åŒ–å‰çš„åŸå§‹è¾“å…¥ï¼‰
var move_direction: Vector2 = Vector2.ZERO

# ç©å®¶æœå‘ï¼Œé»˜è®¤æœä¸‹
var player_direction: Vector2 = Vector2.DOWN

# ç»„ä»¶å¼•ç”¨
## åŠ¨ç”»å­èŠ‚ç‚¹
@onready var animation_player: AnimationPlayer = $AnimationPlayer
## ç²¾çµ
@onready var sprite: Sprite2D = $Sprite2D
## çŠ¶æ€æœº
@onready var state_machine: StateMachine = $StateMachine

func _ready() -&gt; void:
	# å¯åŠ¨çŠ¶æ€æœº
	state_machine.start()

func _process(_delta: float) -&gt; void:
	pass

func _physics_process(_delta: float) -&gt; void:
	pass

# æ›´æ–°æœå‘å’ŒåŠ¨ç”»
# @return æ— è¿”å›å€¼
func update_direction_and_animation() -&gt; void:
	# æ›´æ–°æœå‘ï¼ˆåªåœ¨æœ‰ç§»åŠ¨æ—¶æ›´æ–°ï¼Œä½¿ç”¨æ ‡å‡†æ–¹å‘ï¼‰
	if move_direction != Vector2.ZERO:
		var new_direction: Vector2
		if abs(move_direction.x) &gt; abs(move_direction.y):
			new_direction = Vector2.RIGHT if move_direction.x &gt; 0 else Vector2.LEFT
		else:
			new_direction = Vector2.DOWN if move_direction.y &gt; 0 else Vector2.UP
		
		# å¦‚æœæœå‘å‘ç”Ÿå˜åŒ–,æ›´æ–°ç©å®¶æœå‘
		if new_direction != player_direction:
			player_direction = new_direction
	# æ›´æ–°åŠ¨ç”»
	update_animation()


# æ›´æ–°è§’è‰²åŠ¨ç”»
# @return æ— è¿”å›å€¼
func update_animation() -&gt; void:
	var current_state: String = state_machine.get_current_state_name()
	var direction: String = get_anim_direction()
	var animation_name: String = current_state + "_" + direction

	if animation_player.has_animation(animation_name):
		animation_player.play(animation_name)
	else:
		print_debug("åŠ¨ç”»ä¸å­˜åœ¨: ", animation_name)


# è·å–åŠ¨ç”»æ–¹å‘å­—ç¬¦ä¸²
# @return æ–¹å‘å­—ç¬¦ä¸²ï¼ˆ"down", "up", æˆ– "side"ï¼‰
func get_anim_direction() -&gt; String:
	if abs(player_direction.x) &gt; abs(player_direction.y):
		sprite.flip_h = player_direction.x &lt; 0
		return "side"
	if player_direction.y &lt; 0:
		return "up"
	return "down"

</code></pre>
<h4 data-id="heading-6">å¾…æœºçŠ¶æ€ï¼ˆIdle Stateï¼‰</h4>
<p>æˆ‘ä»¬å…ˆæ¥æ¢³ç†ä¸€ä¸‹å¾…æœºçŠ¶æ€çš„é€»è¾‘ï¼š</p>
<ul>
<li><strong>è¿›å…¥æ—¶</strong>ï¼šæ’­æ”¾å¾…æœºåŠ¨ç”»ã€‚</li>
<li><strong>æŒç»­æ—¶</strong>ï¼š
<ul>
<li>ç¡®ä¿ç©å®¶é€Ÿåº¦ä¸ºé›¶ï¼Œä¿æŒé™æ­¢ã€‚</li>
<li>æŒç»­æ›´æ–°åŠ¨ç”»ä»¥å“åº”ç©å®¶çš„æœå‘å˜åŒ–ã€‚</li>
</ul>
</li>
<li><strong>é€€å‡ºæ¡ä»¶</strong>ï¼šç”±çŠ¶æ€è½¬æ¢è§„åˆ™è‡ªåŠ¨å¤„ç†ï¼ˆä¾‹å¦‚ï¼Œæ£€æµ‹åˆ°ç§»åŠ¨è¾“å…¥ï¼‰ã€‚</li>
</ul>
<p>ç°åœ¨ï¼Œä¸º <code>idle</code> çŠ¶æ€èŠ‚ç‚¹é™„åŠ ä¸€ä¸ªæ–°è„šæœ¬ã€‚æˆ‘å°†å…¶å‘½åä¸º <code>player_idle_state.gd</code> å¹¶å­˜æ”¾åœ¨ <code>res://scenes/entities/player/scripts/states/</code> ç›®å½•ä¸‹ã€‚è¯·æ³¨æ„ï¼Œå®ƒéœ€è¦ç»§æ‰¿è‡ªæˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„ <code>State</code> åŸºç±»ã€‚</p>
<pre><code class="hljs language-GDScript" lang="GDScript"># PlayerIdleState.gd
# ç©å®¶ç©ºé—²çŠ¶æ€
# @author chenrui
# @date 2025-08-31
class_name PlayerIdleState
extends State


# è¿›å…¥çŠ¶æ€æ—¶è°ƒç”¨
func enter(_previous_state: String = "", _data: Dictionary = {}) -&gt; void:
	var player: CharacterBody2D = get_state_owner()
	if player == null:
		printerr("é”™è¯¯: æ— æ³•è·å–ç©å®¶èŠ‚ç‚¹")
		return

	if player.has_method("update_animation"):
		player.update_animation()


# ç‰©ç†å¸§æ›´æ–°
func physics_update(_delta: float) -&gt; void:
	var player: CharacterBody2D = get_state_owner()
	if player == null:
		printerr("é”™è¯¯: æ— æ³•è·å–ç©å®¶èŠ‚ç‚¹")
		return

	# ä¿æŒé™æ­¢ - è½¬æ¢ç”±è‡ªåŠ¨è½¬æ¢è§„åˆ™å¤„ç†
	player.velocity = Vector2.ZERO
	player.move_and_slide()
	# æ›´æ–°è§’è‰²æœå‘å’ŒåŠ¨ç”»
	player.update_direction_and_animation()
</code></pre>
<blockquote>
<p>åœ¨çŠ¶æ€è„šæœ¬ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>get_state_owner()</code> æ–¹æ³•æ–¹ä¾¿åœ°è·å–åˆ°ç©å®¶èŠ‚ç‚¹ï¼ˆCharacterBody2Dï¼‰çš„å®ä¾‹ï¼Œä»è€Œç›´æ¥è°ƒç”¨å…¶èº«ä¸Šçš„æ–¹æ³•å’Œå±æ€§ã€‚</p>
</blockquote>
<h4 data-id="heading-7">è¡Œèµ°çŠ¶æ€ï¼ˆWalk Stateï¼‰</h4>
<p>æ¥ç€æ˜¯è¡Œèµ°çŠ¶æ€çš„é€»è¾‘ï¼š</p>
<ul>
<li><strong>è¿›å…¥æ—¶</strong>ï¼šæ’­æ”¾è¡Œèµ°åŠ¨ç”»ã€‚</li>
<li><strong>æŒç»­æ—¶</strong>ï¼š
<ul>
<li>æ¥æ”¶ç©å®¶çš„ç§»åŠ¨è¾“å…¥ã€‚</li>
<li>æ ¹æ®è¾“å…¥è®¡ç®—å½’ä¸€åŒ–çš„ç§»åŠ¨æ–¹å‘ã€‚</li>
<li>æ›´æ–° <code>player</code> çš„é€Ÿåº¦å±æ€§å¹¶è°ƒç”¨ <code>move_and_slide()</code> ä½¿å…¶ç§»åŠ¨ã€‚</li>
<li>æŒç»­æ›´æ–°è§’è‰²æœå‘å’ŒåŠ¨ç”»ã€‚</li>
</ul>
</li>
<li><strong>é€€å‡ºæ¡ä»¶</strong>ï¼šç”±çŠ¶æ€è½¬æ¢è§„åˆ™è‡ªåŠ¨å¤„ç†ï¼ˆä¾‹å¦‚ï¼Œä¸å†æœ‰ç§»åŠ¨è¾“å…¥ï¼‰ã€‚</li>
</ul>
<p>æˆ‘ä»¬ä¸º <code>walk</code> çŠ¶æ€èŠ‚ç‚¹æ–°å¢ä¸€ä¸ªè„šæœ¬ï¼Œå‘½åä¸º<code>player_walk_state.gd</code>ï¼ŒåŒæ ·ç»§æ‰¿è‡ª <code>State</code> åŸºç±»ï¼Œå¹¶å­˜æ”¾åœ¨ç›¸åŒçš„çŠ¶æ€è„šæœ¬ç›®å½•ä¸‹ã€‚</p>
<pre><code class="hljs language-GDScript" lang="GDScript"># PlayerWalkState.gd
# ç©å®¶è¡Œèµ°çŠ¶æ€
# @author chenrui
# @date 2025-08-31
class_name PlayerWalkState
extends State

# è¿›å…¥çŠ¶æ€æ—¶è°ƒç”¨
func enter(_previous_state: String = "", _data: Dictionary = {}) -&gt; void:
	var player: CharacterBody2D = get_state_owner()
	if player == null:
		printerr("é”™è¯¯: æ— æ³•è·å–ç©å®¶èŠ‚ç‚¹")
		return
	
	# æ’­æ”¾è¡Œèµ°åŠ¨ç”»
	if player.has_method("update_animation"):
		player.update_animation()

# é€»è¾‘å¸§æ›´æ–°
func update(_delta: float) -&gt; void:
	pass


# ç‰©ç†å¸§æ›´æ–°
func physics_update(_delta: float) -&gt; void:
	var player: CharacterBody2D = get_state_owner()
	if player == null:
		printerr("é”™è¯¯: æ— æ³•è·å–ç©å®¶èŠ‚ç‚¹")
		return
		
	# æ¥æ”¶è¾“å…¥,è®¡ç®—ç§»åŠ¨æ–¹å‘
	var x_axis: float = Input.get_axis("left", "right")
	var y_axis: float = Input.get_axis("up", "down")
	var move_direction = Vector2(x_axis, y_axis)
	# ç§»åŠ¨æ–¹å‘å¤§äº1æ—¶å½’ä¸€åŒ–
	if move_direction.length() &gt; 1.0:
		move_direction = move_direction.normalized()

	player.move_direction = move_direction
	# ä½¿ç”¨Playerä¸­çš„move_directionå’Œspeed
	player.velocity = player.move_direction * player.speed
	player.move_and_slide()
	# æ›´æ–°è§’è‰²æœå‘å’ŒåŠ¨ç”»
	player.update_direction_and_animation()
</code></pre>
<h4 data-id="heading-8">æ”»å‡»çŠ¶æ€ï¼ˆAttack Stateï¼‰</h4>
<p>æœ€åæ˜¯æ”»å‡»çŠ¶æ€çš„é€»è¾‘ï¼š</p>
<ul>
<li><strong>è¿›å…¥æ—¶</strong>:
<ul>
<li>é‡ç½®æ”»å‡»è®¡æ—¶å™¨ã€‚</li>
<li>æ’­æ”¾æ”»å‡»åŠ¨ç”»ã€‚</li>
</ul>
</li>
<li><strong>æŒç»­æ—¶</strong>:
<ul>
<li>è®¡æ—¶å™¨ç´¯åŠ æ”»å‡»æ—¶é•¿ã€‚</li>
<li>ç¡®ä¿è§’è‰²åœ¨æ”»å‡»æ—¶ä¿æŒé™æ­¢ã€‚</li>
<li>æ›´æ–°ç©å®¶æœå‘å’ŒåŠ¨ç”»ã€‚</li>
</ul>
</li>
<li><strong>å®Œæˆæ¡ä»¶ (<code>is_finished</code>)</strong>:
<ul>
<li>å½“æ”»å‡»è®¡æ—¶å™¨è¶…è¿‡é¢„è®¾çš„æ”»å‡»æ—¶é•¿åï¼Œæ­¤å‡½æ•°è¿”å› <code>true</code>ï¼Œå‘ŠçŸ¥çŠ¶æ€æœºè¯¥çŠ¶æ€å·²å®Œæˆï¼Œå¯ä»¥è¿›è¡Œè½¬æ¢ã€‚</li>
</ul>
</li>
</ul>
<p>æ”»å‡»çŠ¶æ€ä¸å¾…æœºã€è¡Œèµ°çŠ¶æ€ç•¥æœ‰ä¸åŒã€‚ä¸ºäº†ç¡®ä¿æ”»å‡»åŠ¨ä½œçš„å®Œæ•´æ€§ï¼Œè§’è‰²çš„æ”»å‡»çŠ¶æ€éœ€è¦ç­‰å¾…åŠ¨ç”»æ’­æ”¾å®Œæ¯•åæ‰èƒ½é€€å‡ºã€‚åœ¨æ­¤æœŸé—´ï¼Œå®ƒä¸åº”è¯¥è¢«å…¶ä»–çŠ¶æ€ï¼ˆå¦‚ç§»åŠ¨ï¼‰æ‰“æ–­ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ”»å‡»çŠ¶æ€ä¸­å®ç° <code>is_finished()</code> å‡½æ•°æ¥å‘ŠçŸ¥çŠ¶æ€æœºè¯¥çŠ¶æ€ä½•æ—¶â€œå®Œæˆâ€ã€‚</p>
<p>æˆ‘ä»¬ä¸º <code>attack</code> çŠ¶æ€èŠ‚ç‚¹æ–°å¢ä¸€ä¸ªè„šæœ¬ï¼Œå‘½åä¸º <code>player_attack_state.gd</code>ï¼Œå¹¶å­˜æ”¾åœ¨çŠ¶æ€è„šæœ¬ç›®å½•ä¸‹ã€‚</p>
<pre><code class="hljs language-GDScript" lang="GDScript"># PlayerAttackState.gd
# ç©å®¶æ”»å‡»çŠ¶æ€
# @author chenrui
# @date 2025-08-31
class_name PlayerAttackState
extends State

## æ”»å‡»æŒç»­æ—¶é—´ï¼ˆç§’ï¼‰
@export var attack_duration: float = 0.3

## æ”»å‡»è®¡æ—¶å™¨ï¼Œç”¨äºè·Ÿè¸ªæ”»å‡»è¿›åº¦
var attack_timer: float = 0.0

# è¿›å…¥çŠ¶æ€æ—¶è°ƒç”¨
func enter(_previous_state: String = "", _data: Dictionary = {}) -&gt; void:
	var player: CharacterBody2D = get_state_owner()
	if player == null:
		printerr("é”™è¯¯: æ— æ³•è·å–ç©å®¶èŠ‚ç‚¹")
		return

	attack_timer = 0.0

	# æ’­æ”¾æ”»å‡»åŠ¨ç”»
	if player.has_method("update_animation"):
		player.update_animation()


# é€»è¾‘å¸§æ›´æ–°
func update(delta: float) -&gt; void:
	attack_timer += delta
	# æ”»å‡»ç»“æŸçš„è½¬æ¢ç”±è‡ªåŠ¨è½¬æ¢è§„åˆ™å¤„ç†


# ç‰©ç†å¸§æ›´æ–°
func physics_update(_delta: float) -&gt; void:
	var player: CharacterBody2D = get_state_owner()
	if player == null:
		return

	# æ”»å‡»æ—¶ä¿æŒé™æ­¢
	player.velocity = Vector2.ZERO
	player.move_and_slide()
	
	# æ›´æ–°è§’è‰²æœå‘å’ŒåŠ¨ç”»
	player.update_direction_and_animation()


# æ£€æŸ¥çŠ¶æ€æ˜¯å¦å®Œæˆ
# @return æ˜¯å¦å®Œæˆ
func is_finished() -&gt; bool:
	return attack_timer &gt;= attack_duration
</code></pre>
<h4 data-id="heading-9">å®ç°çŠ¶æ€åˆ‡æ¢</h4>
<p>ç°åœ¨ï¼Œå„ä¸ªçŠ¶æ€çš„ç‹¬ç«‹é€»è¾‘å·²ç»å®Œæˆã€‚ä½†è§’è‰²è¿˜æ— æ³•åœ¨ä¸åŒçŠ¶æ€é—´åˆ‡æ¢ï¼Œå› ä¸ºæˆ‘ä»¬å°šæœªå®šä¹‰åˆ‡æ¢çš„â€œè§„åˆ™â€ã€‚</p>
<p>æˆ‘ä»¬è®¾è®¡çš„çŠ¶æ€æœºæä¾›äº†ä¸€å¥—åŸºäºè§„åˆ™çš„è‡ªåŠ¨è½¬æ¢æœºåˆ¶ã€‚æˆ‘ä»¬åªéœ€åˆ›å»ºä¸€ç³»åˆ— <code>StateTransition</code> å®ä¾‹ï¼Œå¹¶å‘ŠçŸ¥çŠ¶æ€æœºâ€œåœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹ï¼Œä»å“ªä¸ªçŠ¶æ€è½¬æ¢åˆ°å“ªä¸ªçŠ¶æ€â€ï¼Œå®ƒå°±ä¼šåœ¨æ¯ä¸€å¸§è‡ªåŠ¨æ£€æŸ¥å¹¶æ‰§è¡Œç¬¦åˆæ¡ä»¶çš„è½¬æ¢ã€‚</p>
<p>ä¸€ä¸ª <code>StateTransition</code> å®ä¾‹éœ€è¦ä»¥ä¸‹å‚æ•°ï¼š</p>
<ul>
<li><code>_from_state: String</code> - æºçŠ¶æ€åç§°</li>
<li><code>_to_state: String</code> - ç›®æ ‡çŠ¶æ€åç§°</li>
<li><code>_condition: Callable</code> - è½¬æ¢æ¡ä»¶å‡½æ•°</li>
<li><code>_priority: int</code> - è½¬æ¢ä¼˜å…ˆçº§</li>
</ul>
<p>å…¶ä¸­ï¼Œè½¬æ¢æ¡ä»¶ï¼ˆ<code>condition</code>ï¼‰æ˜¯ä¸€ä¸ªè¿”å›å¸ƒå°”å€¼çš„ <code>Callable</code>ï¼ˆé€šå¸¸æ˜¯åŒ¿åå‡½æ•°ï¼‰ï¼Œç”¨äºåˆ¤æ–­æ˜¯å¦æ»¡è¶³è½¬æ¢æ—¶æœºã€‚ä¼˜å…ˆçº§ï¼ˆ<code>priority</code>ï¼‰åˆ™ç”¨äºè§£å†³å½“å¤šä¸ªè½¬æ¢è§„åˆ™åŒæ—¶æ»¡è¶³æ—¶ï¼Œåº”ä¼˜å…ˆæ‰§è¡Œå“ªä¸€ä¸ªçš„é—®é¢˜ï¼ˆæ•°å€¼è¶Šå¤§ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼‰ã€‚</p>
<p>æˆ‘ä»¬ä»¥ <code>idle</code> åˆ° <code>walk</code> çš„è½¬æ¢ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-GDScript" lang="GDScript"># ä» idle åˆ° walkï¼šæœ‰ç§»åŠ¨è¾“å…¥æ—¶
var idle_to_walk_condition: Callable = func():
	return Input.is_action_pressed("up") or Input.is_action_pressed("down") or Input.is_action_pressed("left") or Input.is_action_pressed("right")
var idle_to_walk_transition: StateTransition = StateTransition.new(PlayerConsts.STATE_IDLE, PlayerConsts.STATE_WALK, idle_to_walk_condition, 5)
state_machine.add_transition(idle_to_walk_transition)
</code></pre>
<p>è¿™é‡Œçš„ <code>idle_to_walk_condition</code> å°±æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œå®ƒæ£€æŸ¥æ˜¯å¦æœ‰ç§»åŠ¨é”®è¢«æŒ‰ä¸‹ã€‚<code>StateTransition</code> å®šä¹‰äº†ä» <code>idle</code> åˆ° <code>walk</code> çš„è½¬æ¢ï¼Œä¼˜å…ˆçº§ä¸º <code>5</code>ã€‚æœ€åï¼Œé€šè¿‡ <code>add_transition</code> å°†è¿™ä¸ªè§„åˆ™æ³¨å†Œåˆ°çŠ¶æ€æœºä¸­ã€‚</p>
<p>ä¸ºäº†é¿å…åœ¨ä»£ç ä¸­ç¡¬ç¼–ç å¤§é‡çš„çŠ¶æ€åå­—ç¬¦ä¸²ï¼ˆè¿™å¾ˆå®¹æ˜“å› æ‹¼å†™é”™è¯¯è€Œå‡ºé—®é¢˜ï¼‰ï¼Œæˆ‘ä»¬æœ€å¥½åˆ›å»ºä¸€ä¸ªç©å®¶å¸¸é‡è„šæœ¬æ¥ç»Ÿä¸€ç®¡ç†è¿™äº›åç§°ã€‚</p>
<p>åœ¨<code>res://scenes/entities/player/scripts/</code>ç›®å½•ä¸‹åˆ›å»º<code>player_consts.gd</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-GDScript" lang="GDScript"># PlayerConsts.gd
# ç©å®¶å¸¸é‡å®šä¹‰
# @author chenrui
# @date 2025-08-31
class_name PlayerConsts
extends RefCounted

# çŠ¶æ€å¸¸é‡
const STATE_IDLE: String = "idle"
const STATE_WALK: String = "walk"
const STATE_ATTACK: String = "attack"
const STATE_HURT: String = "hurt"
const STATE_DIE: String = "die"

</code></pre>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬åœ¨ <code>player.gd</code> ä¸­ç¼–å†™ä¸€ä¸ª <code>_setup_transitions</code> å‡½æ•°ï¼Œé›†ä¸­å®šä¹‰æ‰€æœ‰çŠ¶æ€çš„è½¬æ¢è§„åˆ™ï¼š</p>
<pre><code class="hljs language-GDScript" lang="GDScript"># è®¾ç½®çŠ¶æ€è½¬æ¢è§„åˆ™
func _setup_transitions() -&gt; void:
	# ä»ä»»æ„çŠ¶æ€åˆ°æ”»å‡»çŠ¶æ€ï¼šæŒ‰ä¸‹æ”»å‡»é”®æ—¶
	var attack_condition: Callable = func(): return Input.is_action_just_pressed("attack")
	var attack_transition: StateTransition = StateTransition.new("*", PlayerConsts.STATE_ATTACK, attack_condition, 10)  # é«˜ä¼˜å…ˆçº§ï¼Œç¡®ä¿æ”»å‡»èƒ½æ‰“æ–­å…¶ä»–çŠ¶æ€
	state_machine.add_transition(attack_transition)

	# ä» idle åˆ° walkï¼šæœ‰ç§»åŠ¨è¾“å…¥æ—¶
	var idle_to_walk_condition: Callable = func():
		return Input.is_action_pressed("up") or Input.is_action_pressed("down") or Input.is_action_pressed("left") or Input.is_action_pressed("right")
	var idle_to_walk_transition: StateTransition = StateTransition.new(PlayerConsts.STATE_IDLE, PlayerConsts.STATE_WALK, idle_to_walk_condition, 5)
	state_machine.add_transition(idle_to_walk_transition)

	# ä» walk åˆ° idleï¼šæ²¡æœ‰ç§»åŠ¨è¾“å…¥æ—¶
	var walk_to_idle_condition: Callable = func():
		return not (Input.is_action_pressed("up") or Input.is_action_pressed("down") or Input.is_action_pressed("left") or Input.is_action_pressed("right"))
	var walk_to_idle_transition: StateTransition = StateTransition.new(PlayerConsts.STATE_WALK, PlayerConsts.STATE_IDLE, walk_to_idle_condition, 5)
	state_machine.add_transition(walk_to_idle_transition)

	# ä» attack åˆ° walkï¼šæ”»å‡»ç»“æŸä¸”æœ‰ç§»åŠ¨è¾“å…¥æ—¶
	var attack_to_walk_condition: Callable = func(): return  move_direction != Vector2.ZERO
	var attack_to_walk_transition: StateTransition = StateTransition.new(PlayerConsts.STATE_ATTACK, PlayerConsts.STATE_WALK, attack_to_walk_condition, 5)
	state_machine.add_transition(attack_to_walk_transition)

	# ä» attack åˆ° idleï¼šæ”»å‡»ç»“æŸä¸”æ²¡æœ‰ç§»åŠ¨è¾“å…¥æ—¶
	var attack_to_idle_condition: Callable = func(): return  move_direction == Vector2.ZERO
	var attack_to_idle_transition: StateTransition = StateTransition.new(PlayerConsts.STATE_ATTACK, PlayerConsts.STATE_IDLE, attack_to_idle_condition, 5)
	state_machine.add_transition(attack_to_idle_transition)
</code></pre>
<p>æœ€åï¼Œåˆ«å¿˜äº†åœ¨ <code>_ready</code> å‡½æ•°ä¸­è°ƒç”¨è¿™ä¸ªè®¾ç½®æ–¹æ³•ï¼Œç¡®ä¿åœ¨çŠ¶æ€æœºå¯åŠ¨å‰æ‰€æœ‰è§„åˆ™éƒ½å·²æ³¨å†Œï¼š</p>
<pre><code class="hljs language-GDScript" lang="GDScript"># åˆå§‹åŒ–å‡½æ•°
func _ready() -&gt; void:
	# æ·»åŠ è½¬æ¢è§„åˆ™
	_setup_transitions()

	# å¯åŠ¨çŠ¶æ€æœº
	state_machine.start()
</code></pre>
<h3 data-id="heading-10">æœ€ç»ˆæµ‹è¯•</h3>
<p>ä¸€åˆ‡å‡†å¤‡å°±ç»ªï¼ç°åœ¨è¿è¡Œæ¸¸æˆï¼Œä½ ä¼šå‘ç°è§’è‰²çš„è¡Œä¸ºå’Œä¹‹å‰å®Œå…¨ä¸€æ ·ï¼Œå¯ä»¥æµç•…åœ°ç§»åŠ¨ã€ç«™ç«‹å’Œæ”»å‡»ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5fc6bf62047b4e0788a0045233677e68~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5bCV5YWt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763606298&amp;x-signature=A1nkyaTzFaixKSGasrZGTel7rl8%3D" alt="alt text" loading="lazy"/></p>
<p>ä½†è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬çš„ä»£ç ç»“æ„å·²ç»ç„•ç„¶ä¸€æ–°ã€‚æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºçš„æ—¥å¿—ï¼Œå¯ä»¥çœ‹åˆ°è§’è‰²æ­£åœ¨æˆ‘ä»¬å®šä¹‰çš„è§„åˆ™ä¸‹ï¼Œäºå„ä¸ªçŠ¶æ€é—´ç²¾å‡†åœ°åˆ‡æ¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/975558b1a72a46129ea4bbc42c1856a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5bCV5YWt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763606298&amp;x-signature=lyMDyVrvukUJfhuBRcV3k3qu9h8%3D" alt="alt text" loading="lazy"/></p>
<h3 data-id="heading-11">æœ¬èŠ‚å°ç»“</h3>
<p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä¸Šä¸€ç« è®¾è®¡çš„æœ‰é™çŠ¶æ€æœºæ¶æ„æˆåŠŸåº”ç”¨åˆ°äº†é¡¹ç›®ä¸­ï¼Œå½»åº•é‡æ„äº†ç©å®¶çš„æ§åˆ¶é€»è¾‘ã€‚æˆ‘ä»¬ä¸ä»…å®Œæˆäº†ä»£ç å±‚é¢çš„è¿ç§»ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬å»ºç«‹äº†ä¸€å¥—æ¸…æ™°ã€å¯æ‰©å±•çš„è§’è‰²è¡Œä¸ºç®¡ç†æ¡†æ¶ã€‚</p>
<h4 data-id="heading-12">æ ¸å¿ƒå®è·µå›é¡¾</h4>
<ol>
<li><strong>çŠ¶æ€æœºé›†æˆ</strong>ï¼šå°†é€šç”¨çš„çŠ¶æ€æœºè„šæœ¬å’ŒèŠ‚ç‚¹é›†æˆåˆ°ç©å®¶åœºæ™¯ä¸­ï¼Œå¹¶å®Œæˆäº†åˆå§‹åŒ–é…ç½®ã€‚</li>
<li><strong>çŠ¶æ€å®ç°</strong>ï¼šä¸ºâ€œå¾…æœºâ€ã€â€œè¡Œèµ°â€å’Œâ€œæ”»å‡»â€åˆ›å»ºäº†å„è‡ªç‹¬ç«‹çš„çŠ¶æ€è„šæœ¬ï¼Œå°†åŸæœ¬è€¦åˆåœ¨ <code>player.gd</code> ä¸­çš„é€»è¾‘è¿›è¡Œäº†è§£è€¦å’Œæ‹†åˆ†ã€‚</li>
<li><strong>è§„åˆ™é©±åŠ¨çš„è½¬æ¢</strong>ï¼šåˆ©ç”¨ <code>StateTransition</code> å®šä¹‰äº†æ¸…æ™°çš„çŠ¶æ€åˆ‡æ¢è§„åˆ™ï¼Œå®ç°äº†çŠ¶æ€çš„è‡ªåŠ¨ã€æ™ºèƒ½åˆ‡æ¢ï¼Œå½»åº•å‘Šåˆ«äº†å¤æ‚çš„ <code>if-else</code> åµŒå¥—ã€‚</li>
<li><strong>ä»£ç é‡æ„</strong>ï¼šé€šè¿‡ç§»é™¤æ—§çš„é€»è¾‘å’Œå˜é‡ï¼Œè®© <code>player.gd</code> å˜å¾—æ›´åŠ è½»é‡ï¼Œåªè´Ÿè´£ç»´æŠ¤é€šç”¨çš„å±æ€§å’Œæ–¹æ³•ï¼Œè€Œå°†å…·ä½“çš„çŠ¶æ€è¡Œä¸ºå…¨æƒå§”æ‰˜ç»™çŠ¶æ€æœºã€‚</li>
</ol>
<p>é€šè¿‡è¿™æ¬¡å®è·µï¼Œæˆ‘ä»¬ä¸ä»…è®©ä»£ç å˜å¾—æ›´æ˜“äºç»´æŠ¤å’Œæ‰©å±•ï¼Œä¹Ÿä¸ºæœªæ¥æ·»åŠ æ›´å¤šå¤æ‚åŠŸèƒ½ï¼ˆå¦‚å—ä¼¤ã€æ­»äº¡ã€ç¿»æ»šç­‰ï¼‰æ‰“ä¸‹äº†åšå®çš„åŸºç¡€ã€‚</p>
<h4 data-id="heading-13">ä¸‹ä¸€æ­¥</h4>
<p>è§’è‰²æ§åˆ¶å·²ç»æ­¥å…¥æ­£è½¨ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æŠŠç›®å…‰æŠ•å‘æ¸¸æˆä¸–ç•Œçš„æ„å»ºã€‚åœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä¸€åŒå­¦ä¹  Godot å¼ºå¤§çš„ <code>TileMap</code>ï¼ˆç“¦ç‰‡åœ°å›¾ï¼‰ç³»ç»Ÿï¼Œç”¨å®ƒæ¥æ­å»ºæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªæ¸¸æˆåœºæ™¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java: ä¸ºPDFæ‰¹é‡æ·»åŠ å›¾ç‰‡æ°´å°å®ç”¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7571672422690193460</link>    <guid>https://juejin.cn/post/7571672422690193460</guid>    <pubDate>2025-11-13T02:02:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571672422690193460" data-draft-id="7571672422690144308" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java: ä¸ºPDFæ‰¹é‡æ·»åŠ å›¾ç‰‡æ°´å°å®ç”¨æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯,Java,API"/> <meta itemprop="datePublished" content="2025-11-13T02:02:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¼ºç‚¹å†…å‘"/> <meta itemprop="url" content="https://juejin.cn/user/3414438228006112"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java: ä¸ºPDFæ‰¹é‡æ·»åŠ å›¾ç‰‡æ°´å°å®ç”¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3414438228006112/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¼ºç‚¹å†…å‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T02:02:31.000Z" title="Thu Nov 13 2025 02:02:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Java: ä¸ºPDFæ‰¹é‡æ·»åŠ å›¾ç‰‡æ°´å°å®ç”¨æŒ‡å—</h2>
<p>åœ¨æ•°å­—åŒ–åŠå…¬æ—¥ç›Šæ™®åŠçš„ä»Šå¤©ï¼ŒPDFæ–‡æ¡£ä½œä¸ºä¿¡æ¯ä¼ è¾“å’Œå…±äº«çš„é‡è¦è½½ä½“ï¼Œå…¶å®‰å…¨æ€§å’Œç‰ˆæƒä¿æŠ¤å˜å¾—å°¤ä¸ºå…³é”®ã€‚ä½ æ˜¯å¦æ›¾ä¸ºæ‰‹åŠ¨ç»™å¤§é‡PDFæ–‡ä»¶æ·»åŠ æ°´å°è€Œæ„Ÿåˆ°å¤´ç–¼ï¼Ÿæˆ–è€…ï¼Œå½“ä½ çš„é‡è¦æ–‡æ¡£åœ¨æœªç»æˆæƒçš„æƒ…å†µä¸‹è¢«ä¼ æ’­ï¼Œå´è‹¦äºæ²¡æœ‰æœ‰æ•ˆçš„æ ‡è¯†æ–¹æ³•ï¼Ÿ</p>
<p>ä¼ ç»Ÿçš„æ–‡å­—æ°´å°è™½ç„¶èƒ½èµ·åˆ°ä¸€å®šä½œç”¨ï¼Œä½†åœ¨å“ç‰Œè¯†åˆ«åº¦ã€é˜²ç¯¡æ”¹æ€§å’Œè§†è§‰æ•ˆæœæ–¹é¢å¾€å¾€ä¸å¦‚å›¾ç‰‡æ°´å°ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå°†ä½ çš„å…¬å¸Logoã€ç‰ˆæƒå£°æ˜ç”šè‡³æ˜¯â€œç»å¯†â€å­—æ ·çš„å›¾ç‰‡æ°´å°åµŒå…¥åˆ°PDFä¸­ï¼Œæ—¢èƒ½æœ‰æ•ˆå®£ç¤ºä¸»æƒï¼Œåˆèƒ½æå‡æ–‡æ¡£çš„ä¸“ä¸šæ€§ã€‚ç„¶è€Œï¼Œå¦‚ä½•é«˜æ•ˆã€è‡ªåŠ¨åŒ–åœ°åœ¨Javaé¡¹ç›®ä¸­å®ç°è¿™ä¸€åŠŸèƒ½ï¼Œæˆä¸ºäº†è®¸å¤šå¼€å‘è€…é¢ä¸´çš„ç—›ç‚¹ã€‚</p>
<p>åˆ«æ‹…å¿ƒï¼æœ¬æ–‡å°†ä¸ºä½ æ­ç¤ºä¸€ä¸ªå¼ºå¤§è€Œä¾¿æ·çš„è§£å†³æ–¹æ¡ˆâ€”â€”Spire.PDF for Javaã€‚é€šè¿‡å®ƒï¼Œä½ å°†èƒ½å¤Ÿè½»æ¾åœ°åœ¨Javaåº”ç”¨ç¨‹åºä¸­ä¸ºPDFæ–‡æ¡£æ·»åŠ å›¾ç‰‡æ°´å°ï¼Œå‘Šåˆ«ç¹ççš„æ‰‹åŠ¨æ“ä½œï¼Œå®ç°æ–‡æ¡£å¤„ç†çš„è‡ªåŠ¨åŒ–ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆé€‰æ‹©å›¾ç‰‡æ°´å°ï¼Ÿ</h3>
<p>åœ¨ä¼—å¤šçš„æ–‡æ¡£ä¿æŠ¤å’Œæ ‡è¯†ç­–ç•¥ä¸­ï¼Œå›¾ç‰‡æ°´å°ä»¥å…¶ç‹¬ç‰¹çš„ä¼˜åŠ¿è„±é¢–è€Œå‡ºï¼š</p>
<ul>
<li>é˜²ç¯¡æ”¹æ€§æ›´å¼ºï¼šå›¾ç‰‡æ°´å°ä½œä¸ºæ–‡æ¡£å†…å®¹çš„ä¸€éƒ¨åˆ†ï¼Œç›¸æ¯”æ–‡æœ¬æ°´å°ï¼Œå…¶ä¿®æ”¹å’Œå»é™¤éš¾åº¦æ›´å¤§ï¼Œæœ‰æ•ˆæé«˜äº†æ–‡æ¡£çš„å®‰å…¨æ€§ã€‚</li>
<li>å“ç‰Œè¯†åˆ«åº¦é«˜ï¼šä¼ä¸šLogoã€å“ç‰Œæ ‡è¯†ç­‰å›¾ç‰‡æ°´å°èƒ½å¤Ÿç›´è§‚åœ°ä¼ è¾¾å“ç‰Œä¿¡æ¯ï¼Œå¢å¼ºæ–‡æ¡£çš„ä¸“ä¸šæ€§å’Œæƒå¨æ€§ï¼Œæœ‰åŠ©äºå“ç‰Œå½¢è±¡çš„å»ºè®¾ã€‚</li>
<li>è§†è§‰æ•ˆæœæ›´ä½³ï¼šç²¾å¿ƒè®¾è®¡çš„å›¾ç‰‡æ°´å°èƒ½å¤Ÿä¸æ–‡æ¡£å†…å®¹å’Œè°å…±å­˜ï¼Œæ—¢ä¸å½±å“é˜…è¯»ï¼Œåˆèƒ½èµ·åˆ°æ ‡è¯†ä½œç”¨ï¼Œæå‡æ–‡æ¡£æ•´ä½“çš„è§†è§‰ä½“éªŒã€‚</li>
<li>åº”ç”¨åœºæ™¯å¹¿æ³›ï¼š
<ul>
<li>ç‰ˆæƒå£°æ˜ï¼šå°†ç‰ˆæƒç¬¦å·ã€å…¬å¸åç§°ä½œä¸ºå›¾ç‰‡æ°´å°ï¼Œæ˜ç¡®æ–‡æ¡£æ‰€æœ‰æƒã€‚</li>
<li>å…¬å¸Logoï¼šåœ¨å¯¹å¤–å‘å¸ƒçš„æ–‡æ¡£ä¸­åµŒå…¥å…¬å¸Logoï¼Œæå‡ä¼ä¸šå½¢è±¡ã€‚</li>
<li>ä¿å¯†æ ‡è¯†ï¼šå¯¹äºå†…éƒ¨æ•æ„Ÿæ–‡æ¡£ï¼Œæ·»åŠ â€œç»å¯†â€ã€â€œå†…éƒ¨èµ„æ–™â€ç­‰å›¾ç‰‡æ°´å°è¿›è¡Œè­¦ç¤ºã€‚</li>
<li>è‰ç¨¿/æ ·å“æ ‡è¯†ï¼šåœ¨æœªå®šç¨¿æˆ–æ ·å“æ–‡æ¡£ä¸­æ·»åŠ â€œDraftâ€ã€â€œSampleâ€ç­‰å­—æ ·ï¼Œé¿å…è¯¯ç”¨ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-2">Spire.PDF for Javaï¼šå›¾ç‰‡æ°´å°çš„åˆ©å™¨</h3>
<p>åœ¨Javaç”Ÿæ€ä¸­ï¼Œå¤„ç†PDFçš„åº“æœ‰å¾ˆå¤šï¼Œä½†Spire.PDF for Javaå‡­å€Ÿå…¶å¼ºå¤§çš„åŠŸèƒ½ã€æ˜“äºé›†æˆçš„ç‰¹æ€§ä»¥åŠå¯¹å„ç§PDFæ“ä½œçš„å…¨é¢æ”¯æŒï¼Œæˆä¸ºäº†å¼€å‘è€…ä»¬çš„ä¼˜é€‰ä¹‹ä¸€ã€‚å°¤å…¶åœ¨æ°´å°å¤„ç†æ–¹é¢ï¼Œå®ƒæä¾›äº†çµæ´»çš„APIï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬è½»æ¾å®ç°å›¾ç‰‡æ°´å°çš„æ·»åŠ ã€å®šä½ã€é€æ˜åº¦è®¾ç½®ç­‰å¤æ‚æ“ä½œã€‚</p>
<p>åœ¨å¼€å§‹ç¼–ç ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å°†Spire.PDF for Javaåº“é›†æˆåˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­ã€‚å¦‚æœä½ ä½¿ç”¨çš„æ˜¯Mavenæˆ–Gradleï¼Œåªéœ€åœ¨<code>pom.xml</code>æˆ–<code>build.gradle</code>æ–‡ä»¶ä¸­æ·»åŠ ç›¸åº”çš„ä¾èµ–å³å¯ã€‚</p>
<p><strong>Mavenä¾èµ–é…ç½®:</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">repositories</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">repository</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>com.e-iceblue<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>e-iceblue<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://repo.e-iceblue.cn/repository/maven-public/<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">repository</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">repositories</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>e-iceblue<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spire.pdf.free<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span> <span class="hljs-comment">&lt;!-- è¯·ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<p><strong>Gradleä¾èµ–é…ç½®:</strong></p>
<pre><code class="hljs language-gradle" lang="gradle">repositories {
    maven { url "https://repo.e-iceblue.cn/repository/maven-public/" }
}
dependencies {
    implementation 'e-iceblue:spire.pdf.free:5.1.0' // è¯·ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬
}
</code></pre>
<blockquote>
<p><strong>æç¤º</strong>ï¼šä¸ºäº†ç¡®ä¿ä»£ç çš„å…¼å®¹æ€§å’Œè·å–æœ€æ–°çš„åŠŸèƒ½ï¼Œå»ºè®®å§‹ç»ˆä½¿ç”¨Spire.PDF for Javaçš„æœ€æ–°ç¨³å®šç‰ˆæœ¬ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-3">Javaä»£ç å®æˆ˜ï¼šä¸ºPDFæ·»åŠ å›¾ç‰‡æ°´å°</h3>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„Javaä»£ç ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨Spire.PDF for Javaä¸ºPDFæ–‡æ¡£æ·»åŠ å›¾ç‰‡æ°´å°ï¼Œå¹¶è¯¦ç»†è§£é‡Šäº†æ¯ä¸€æ­¥çš„ä½œç”¨ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> com.spire.pdf.*;
<span class="hljs-keyword">import</span> com.spire.pdf.graphics.*;
<span class="hljs-keyword">import</span> java.awt.geom.Rectangle2D;
<span class="hljs-keyword">import</span> java.awt.image.BufferedImage;
<span class="hljs-keyword">import</span> javax.imageio.ImageIO;
<span class="hljs-keyword">import</span> java.io.File;
<span class="hljs-keyword">import</span> java.io.IOException;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AddImageWatermarkToPDF</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// 1. åŠ è½½PDFæ–‡æ¡£</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">inputPdfPath</span> <span class="hljs-operator">=</span> <span class="hljs-string">"input.pdf"</span>; <span class="hljs-comment">// æ›¿æ¢ä¸ºä½ çš„è¾“å…¥PDFæ–‡ä»¶è·¯å¾„</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">watermarkImagePath</span> <span class="hljs-operator">=</span> <span class="hljs-string">"watermark.png"</span>; <span class="hljs-comment">// æ›¿æ¢ä¸ºä½ çš„æ°´å°å›¾ç‰‡æ–‡ä»¶è·¯å¾„</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">outputPdfPath</span> <span class="hljs-operator">=</span> <span class="hljs-string">"output_with_watermark.pdf"</span>; <span class="hljs-comment">// æ›¿æ¢ä¸ºä½ çš„è¾“å‡ºPDFæ–‡ä»¶è·¯å¾„</span>

        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">PdfDocument</span> <span class="hljs-variable">pdf</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PdfDocument</span>();
            pdf.loadFromFile(inputPdfPath);

            <span class="hljs-comment">// 2. åŠ è½½å›¾ç‰‡æ°´å°</span>
            <span class="hljs-type">BufferedImage</span> <span class="hljs-variable">image</span> <span class="hljs-operator">=</span> ImageIO.read(<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(watermarkImagePath));
            <span class="hljs-keyword">if</span> (image == <span class="hljs-literal">null</span>) {
                System.err.println(<span class="hljs-string">"é”™è¯¯ï¼šæ— æ³•åŠ è½½æ°´å°å›¾ç‰‡ï¼Œè¯·æ£€æŸ¥è·¯å¾„å’Œæ–‡ä»¶æ ¼å¼ã€‚"</span>);
                <span class="hljs-keyword">return</span>;
            }

            <span class="hljs-comment">// éå†PDFä¸­çš„æ¯ä¸€é¡µ</span>
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; pdf.getPages().getCount(); i++) {
                <span class="hljs-type">PdfPageBase</span> <span class="hljs-variable">page</span> <span class="hljs-operator">=</span> pdf.getPages().get(i);

                <span class="hljs-comment">// è·å–é¡µé¢å°ºå¯¸</span>
                <span class="hljs-type">float</span> <span class="hljs-variable">pageWidth</span> <span class="hljs-operator">=</span> page.getActualSize().getWidth();
                <span class="hljs-type">float</span> <span class="hljs-variable">pageHeight</span> <span class="hljs-operator">=</span> page.getActualSize().getHeight();

                <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªPdfImageå¯¹è±¡</span>
                <span class="hljs-type">PdfImage</span> <span class="hljs-variable">pdfImage</span> <span class="hljs-operator">=</span> PdfImage.fromImage(image);

                <span class="hljs-comment">// 3. å®šä¹‰æ°´å°çš„ä½ç½®å’Œå¤§å°</span>
                <span class="hljs-comment">// è¿™é‡Œæˆ‘ä»¬ä»¥é¡µé¢ä¸­å¿ƒä¸ºä¾‹ï¼Œå¹¶è®¾ç½®æ°´å°å®½åº¦ä¸ºé¡µé¢å®½åº¦çš„1/2ï¼Œé«˜åº¦æŒ‰æ¯”ä¾‹ç¼©æ”¾</span>
                <span class="hljs-type">float</span> <span class="hljs-variable">watermarkWidth</span> <span class="hljs-operator">=</span> pageWidth * <span class="hljs-number">0.5f</span>;
                <span class="hljs-type">float</span> <span class="hljs-variable">watermarkHeight</span> <span class="hljs-operator">=</span> watermarkWidth * pdfImage.getHeight() / pdfImage.getWidth();

                <span class="hljs-comment">// è®¡ç®—æ°´å°çš„Xã€Yåæ ‡ï¼Œä½¿å…¶å±…ä¸­</span>
                <span class="hljs-type">float</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> (pageWidth - watermarkWidth) / <span class="hljs-number">2</span>;
                <span class="hljs-type">float</span> <span class="hljs-variable">y</span> <span class="hljs-operator">=</span> (pageHeight - watermarkHeight) / <span class="hljs-number">2</span>;

                <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªçŸ©å½¢ï¼Œå®šä¹‰æ°´å°çš„æ”¾ç½®åŒºåŸŸ</span>
                Rectangle2D.<span class="hljs-type">Float</span> <span class="hljs-variable">watermarkRect</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Rectangle2D</span>.Float(x, y, watermarkWidth, watermarkHeight);

                <span class="hljs-comment">// 4. è®¾ç½®æ°´å°çš„é€æ˜åº¦</span>
                <span class="hljs-comment">// PdfTransparency ç±»ç”¨äºè®¾ç½®é€æ˜åº¦ï¼Œå€¼èŒƒå›´ä¸º0.0ï¼ˆå®Œå…¨é€æ˜ï¼‰åˆ°1.0ï¼ˆå®Œå…¨ä¸é€æ˜ï¼‰</span>
                <span class="hljs-type">PdfTransparency</span> <span class="hljs-variable">transparency</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PdfTransparency</span>(<span class="hljs-number">0.3f</span>); <span class="hljs-comment">// è®¾ç½®ä¸º30%ä¸é€æ˜åº¦</span>

                <span class="hljs-comment">// 5. å°†å›¾ç‰‡æ°´å°ç»˜åˆ¶åˆ°é¡µé¢ä¸Š</span>
                <span class="hljs-comment">// ä½¿ç”¨ PdfPageBase çš„ drawImage æ–¹æ³•</span>
                page.getCanvas().drawImage(pdfImage, watermarkRect, transparency);

                <span class="hljs-comment">// å¦‚æœéœ€è¦å°†æ°´å°æ”¾ç½®åœ¨æ–‡æœ¬ä¸‹æ–¹ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ PdfWatermarkAnnotation</span>
                <span class="hljs-comment">// ä½†å¯¹äºç®€å•çš„å›¾ç‰‡æ°´å°ï¼Œç›´æ¥ç»˜åˆ¶åˆ°Canvasä¸Šé€šå¸¸è¶³å¤Ÿ</span>
            }

            <span class="hljs-comment">// 6. ä¿å­˜ä¿®æ”¹åçš„PDFæ–‡æ¡£</span>
            pdf.saveToFile(outputPdfPath, FileFormat.PDF);
            pdf.close();

            System.out.println(<span class="hljs-string">"å›¾ç‰‡æ°´å°å·²æˆåŠŸæ·»åŠ åˆ°PDFæ–‡æ¡£ï¼š"</span> + outputPdfPath);

        } <span class="hljs-keyword">catch</span> (IOException e) {
            System.err.println(<span class="hljs-string">"æ–‡ä»¶æ“ä½œå¼‚å¸¸ï¼š"</span> + e.getMessage());
            e.printStackTrace();
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"å¤„ç†PDFæ—¶å‘ç”Ÿé”™è¯¯ï¼š"</span> + e.getMessage());
            e.printStackTrace();
        }
    }
}
</code></pre>
<p><strong>ä»£ç è§£æ:</strong></p>
<ul>
<li><code>pdf.loadFromFile(inputPdfPath)</code>: åŠ è½½éœ€è¦æ·»åŠ æ°´å°çš„PDFæ–‡ä»¶ã€‚</li>
<li><code>ImageIO.read(new File(watermarkImagePath))</code>: è¯»å–æœ¬åœ°çš„æ°´å°å›¾ç‰‡æ–‡ä»¶ï¼ˆæ”¯æŒPNG, JPGç­‰å¸¸è§æ ¼å¼ï¼‰ã€‚</li>
<li><code>pdf.getPages().get(i)</code>: è·å–PDFæ–‡æ¡£çš„æ¯ä¸€é¡µè¿›è¡Œå¤„ç†ï¼Œç¡®ä¿æ°´å°åº”ç”¨åˆ°æ‰€æœ‰é¡µé¢ã€‚</li>
<li><code>PdfImage.fromImage(image)</code>: å°†<code>BufferedImage</code>å¯¹è±¡è½¬æ¢ä¸ºSpire.PDFå¯è¯†åˆ«çš„<code>PdfImage</code>å¯¹è±¡ã€‚</li>
<li><code>Rectangle2D.Float(x, y, watermarkWidth, watermarkHeight)</code>: å®šä¹‰æ°´å°åœ¨é¡µé¢ä¸Šçš„ä½ç½®å’Œå¤§å°ã€‚ä½ å¯ä»¥æ ¹æ®éœ€æ±‚è°ƒæ•´<code>x</code>, <code>y</code>åæ ‡ä»¥åŠ<code>watermarkWidth</code>, <code>watermarkHeight</code>æ¥æ§åˆ¶æ°´å°çš„å¸ƒå±€ã€‚</li>
<li><code>PdfTransparency(0.3f)</code>: è®¾ç½®æ°´å°çš„é€æ˜åº¦ã€‚<code>0.3f</code>è¡¨ç¤º30%çš„ä¸é€æ˜åº¦ï¼Œå¯ä»¥æ ¹æ®å®é™…æ•ˆæœè°ƒæ•´è¿™ä¸ªå€¼ã€‚</li>
<li><code>page.getCanvas().drawImage(pdfImage, watermarkRect, transparency)</code>: è¿™æ˜¯æ ¸å¿ƒæ­¥éª¤ï¼Œå°†<code>PdfImage</code>ä»¥æŒ‡å®šçš„é€æ˜åº¦å’Œä½ç½®ç»˜åˆ¶åˆ°å½“å‰é¡µé¢çš„ç”»å¸ƒä¸Šã€‚</li>
<li><code>pdf.saveToFile(outputPdfPath, FileFormat.PDF)</code>: å°†ä¿®æ”¹åçš„PDFæ–‡æ¡£ä¿å­˜åˆ°æ–°çš„æ–‡ä»¶ä¸­ã€‚</li>
<li><code>pdf.close()</code>: é‡Šæ”¾èµ„æºï¼Œè¿™æ˜¯ä¸€ä¸ªè‰¯å¥½çš„ç¼–ç¨‹ä¹ æƒ¯ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-4">ç»“è¯­</h3>
<p>é€šè¿‡æœ¬æ–‡çš„ä»‹ç»å’Œå®æˆ˜ä»£ç ï¼Œç›¸ä¿¡ä½ å·²ç»æŒæ¡äº†å¦‚ä½•åœ¨Javaä¸­åˆ©ç”¨Spire.PDF for Javaåº“ä¸ºPDFæ–‡æ¡£æ·»åŠ å›¾ç‰‡æ°´å°çš„æ–¹æ³•ã€‚æ— è®ºæ˜¯ä¸ºäº†ä¿æŠ¤æ–‡æ¡£ç‰ˆæƒï¼Œæå‡å“ç‰Œå½¢è±¡ï¼Œè¿˜æ˜¯å®ç°å†…éƒ¨æ–‡æ¡£çš„æ ‡è¯†ç®¡ç†ï¼Œå›¾ç‰‡æ°´å°éƒ½æ˜¯ä¸€ä¸ªå¼ºå¤§ä¸”çµæ´»çš„å·¥å…·ã€‚</p>
<p>ç°åœ¨ï¼Œæ˜¯æ—¶å€™å°†è¿™äº›çŸ¥è¯†åº”ç”¨åˆ°ä½ çš„é¡¹ç›®ä¸­äº†ï¼å°è¯•è¿è¡Œä¸Šè¿°ä»£ç ï¼Œæ„Ÿå—è‡ªåŠ¨åŒ–å¤„ç†PDFçš„ä¾¿æ·ã€‚å¸Œæœ›æœ¬æ–‡èƒ½ä¸ºä½ æ‰“å¼€ä¸€æ‰‡æ–°çš„å¤§é—¨ï¼Œæ¢ç´¢æ›´å¤šPDFå¤„ç†çš„æ½œåŠ›ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»0åˆ°1å®ç°ï¼šAIç‰ˆä½ ç”»æˆ‘çŒœå°æ¸¸æˆ]]></title>    <link>https://juejin.cn/post/7569150490798899206</link>    <guid>https://juejin.cn/post/7569150490798899206</guid>    <pubDate>2025-11-06T02:27:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7569150490798899206" data-draft-id="7569055467803033642" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»0åˆ°1å®ç°ï¼šAIç‰ˆä½ ç”»æˆ‘çŒœå°æ¸¸æˆ"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹,TensorFlow"/> <meta itemprop="datePublished" content="2025-11-06T02:27:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="vivoäº’è”ç½‘æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/993614243303053"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»0åˆ°1å®ç°ï¼šAIç‰ˆä½ ç”»æˆ‘çŒœå°æ¸¸æˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/993614243303053/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    vivoäº’è”ç½‘æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-06T02:27:42.000Z" title="Thu Nov 06 2025 02:27:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä½œè€…ï¼š vivo äº’è”ç½‘å‰ç«¯å›¢é˜Ÿ- Wei Xing</p>
<p>å…¨æ°‘AIæ—¶ä»£ï¼Œå‰ç«¯erè¯¥å¦‚ä½•è¹­ä¸Šè¿™æ³¢çƒ­åº¦ï¼Ÿæœ¬æ–‡å°†ä¸€æ­¥æ­¥å¸¦å¤§å®¶äº†è§£å‰ç«¯åº”è¯¥å¦‚ä½•ç»“åˆç«¯ä¾§AIæ¨¡å‹ï¼Œå®ç°ä¸€ä¸ªAIç‰ˆä½ ç”»æˆ‘çŒœå°æ¸¸æˆã€‚</p>
</blockquote>
<p>1åˆ†é’Ÿçœ‹å›¾æŒæ¡æ ¸å¿ƒè§‚ç‚¹ğŸ‘‡</p>
<p><img src="https://static001.geekbang.org/infoq/38/38dbb50453bfb2fb8e723763598eda8f.gif" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æœ¬æ–‡æä¾›é…å¥—æ¼”ç¤ºä»£ç ï¼Œå¯ä¸‹è½½ä½“éªŒï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvivo%2FBlueSnippets%2Ftree%2Fmain%2Fdemos%2Fai-quickdraw" target="_blank" title="https://github.com/vivo/BlueSnippets/tree/main/demos/ai-quickdraw" ref="nofollow noopener noreferrer">Github | vivo-</a><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvivo%2FBlueSnippets%2Ftree%2Fmain%2Fdemos%2Fai-quickdraw" target="_blank" title="https://github.com/vivo/BlueSnippets/tree/main/demos/ai-quickdraw" ref="nofollow noopener noreferrer">ai-quickdraw</a></p>
<h2 data-id="heading-0">ä¸€ã€å¼•è¨€</h2>
<p>è¿‘å‡ å¹´AIçš„è¿›åŒ–é€Ÿåº¦å ªæ¯”ç§‘å¹»ç‰‡â€”â€”æ˜¨å¤©è¿˜åœ¨è°ƒæ•™ChatGPTå†™è¯—ï¼Œä»Šå¤©Soraå·²ç»èƒ½ç”Ÿæˆç”µå½±çº§ç”»é¢äº†ã€‚æŠ€æœ¯åœˆä»¿ä½›è¢«AIâ€œè…Œå…¥å‘³â€äº†ï¼Œè¯´ä¸å®šè¿è¿™ç¯‡æ–‡ç« éƒ½æ˜¯DeepSeekå¸®å¿™å†™çš„ï¼ˆç‹—å¤´ï¼‰ã€‚</p>
<p>**å‰ç«¯erçš„é‡æœ›ï¼š**å½“å…¶ä»–è¡Œä¸šå¿™ç€ç”¨AIé€ ç«ç®­æ—¶ï¼Œæˆ‘ä»¬è¿™ç¾¤å’Œæµè§ˆå™¨â€œæ–—æ™ºæ–—å‹‡â€çš„æ‰‹è‰ºäººï¼Œè¯¥æ€ä¹ˆè¹­ä¸Šè¿™æ³¢çƒ­åº¦ï¼Ÿ</p>
<p>åœ¨æ·±å…¥æ€è€ƒå¦‚ä½•è¹­ä¸Šçƒ­åº¦ä¹‹å‰ï¼Œ<strong>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å…ˆç®€å•äº†è§£ä¸‹AIæ¨¡å‹çš„åˆ†ç±»ã€‚</strong></p>
<h3 data-id="heading-1">1.1 äº‘ç«¯æ¨¡å‹å’Œç«¯ä¾§æ¨¡å‹</h3>
<p>ä»æ¨¡å‹çš„éƒ¨ç½²æ–¹å¼ä¸Šæ¥çœ‹ï¼ŒAIæ¨¡å‹å¯ä»¥ç®€å•åˆ†ä¸ºäº‘ç«¯æ¨¡å‹ï¼ˆCloud Modelï¼‰å’Œç«¯ä¾§æ¨¡å‹ï¼ˆOn-Device Modelï¼‰ä¸¤ç§ã€‚</p>
<ul>
<li>
<p>**äº‘ç«¯æ¨¡å‹ï¼š**å°†æ¨¡å‹éƒ¨ç½²åœ¨æœåŠ¡é›†ç¾¤ä¸Šï¼Œæä¾›ä¸€äº›APIèƒ½åŠ›ä¾›ç«¯ä¾§æ¥è°ƒç”¨ï¼Œç«¯ä¾§æ— éœ€å¤„ç†è®¡ç®—éƒ¨åˆ†ï¼Œåªéœ€è°ƒç”¨APIè·å–è®¡ç®—ç»“æœå³å¯ã€‚æ¯”å¦‚OpenAIçš„å®˜æ–¹APIå°±æ˜¯å¦‚æ­¤ã€‚</p>
</li>
<li>
<p>**ç«¯ä¾§æ¨¡å‹ï¼š**ç›´æ¥å°†æ¨¡å‹éƒ¨ç½²åœ¨ç»ˆç«¯è®¾å¤‡ä¸Šï¼Œæ¨¡å‹çš„è®¡ç®—ã€æ¨ç†å®Œå…¨ä¾èµ–ç»ˆç«¯è®¾å¤‡ï¼Œå…·æœ‰æ›´é«˜çš„å®æ—¶æ€§ã€ç§å¯†æ€§ã€å®‰å…¨æ€§ï¼Œä½†åŒæ—¶å¯¹ç»ˆç«¯è®¾å¤‡ç­‰ç¡¬ä»¶è¦æ±‚ä¹Ÿè¾ƒé«˜ã€‚</p>
</li>
</ul>
<p>å¯¹äºå‰ç«¯æ¥è¯´ï¼Œç”±äºå…¶éå¸¸ä¾èµ–æµè§ˆå™¨å’Œç»ˆç«¯è®¾å¤‡æ€§èƒ½ï¼Œæ‰€ä»¥åŸæœ¬æœ€é€‚åˆå‰ç«¯çš„æ–¹å¼å…¶å®æ˜¯ç›´æ¥è°ƒç”¨äº‘ç«¯æ¨¡å‹APIï¼ŒæŠŠè®¡ç®—çš„è´Ÿæ‹…è½¬å«ç»™æœåŠ¡é›†ç¾¤ï¼Œé¡µé¢åªéœ€è´Ÿè´£å±•ç¤ºç»“æœå³å¯ã€‚ä½†é€šå¸¸æƒ…å†µä¸‹ï¼Œæ­å»ºé›†ç¾¤ã€è®­ç»ƒæ¨¡å‹ã€å®šåˆ¶APIæœ‰å¾ˆé«˜çš„èµ„æºé—¨æ§›å’Œæˆæœ¬ï¼Œç°å®æ¡ä»¶å¾€å¾€ä¸å…è®¸æˆ‘ä»¬è¿™æ ·åšã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è½¬è€Œè€ƒè™‘<strong>åˆ©ç”¨ç«¯ä¾§æ¨¡å‹æ¥èµ‹èƒ½ã€‚</strong></p>
<h3 data-id="heading-2">1.2 å¤§è¯­è¨€æ¨¡å‹å’Œç‰¹å®šé¢†åŸŸæ¨¡å‹</h3>
<p>ç«¯ä¾§æ¨¡å‹ä»æ¦‚å¿µä¸Šæ¥åŒºåˆ†ï¼Œåˆå¯ä»¥ç®€å•åˆ†ä¸ºå¤§è¯­è¨€æ¨¡å‹å’Œç‰¹å®šé¢†åŸŸæ¨¡å‹ã€‚</p>
<p><strong>å¤§è¯­è¨€æ¨¡å‹</strong></p>
<p>å…¶ä¸­å¤§è¯­è¨€æ¨¡å‹ï¼ˆLarge Language Modelï¼ŒLLMï¼‰å°±æ˜¯æˆ‘ä»¬ç†ŸçŸ¥çš„ChatGPTã€DeepSeekã€Grokè¿™ç±»æ¨¡å‹ï¼Œå®ƒä»¬åŠŸèƒ½å¼ºå¤§ï¼Œä½†å¯¹è®¾å¤‡çš„æ€§èƒ½è¦æ±‚å¾ˆé«˜ï¼Œä»¥DeepSeekä¸ºä¾‹ï¼Œå³ä½¿æ˜¯æœ€å°çš„1.5Bç‰ˆæœ¬æ¨¡å‹ï¼Œä¹Ÿè‡³å°‘éœ€è¦RTX 3060+çº§åˆ«çš„æ˜¾å¡æ‰èƒ½å¸¦å¾—åŠ¨ï¼Œå¹¶ä¸”æ¨¡å‹æœ¬èº«çš„å¤§å°å·²ç»è¾¾åˆ°1.1GBï¼Œå¹¶ä¸é€‚åˆéƒ¨ç½²åœ¨å‰ç«¯é¡¹ç›®ä¸­ã€‚</p>
<p><img src="https://static001.geekbang.org/infoq/d5/d5a1f9cadeb203b661c8f1f7528a8598.png" alt="" loading="lazy"/></p>
<p><strong>ç‰¹å®šé¢†åŸŸæ¨¡å‹</strong></p>
<p>æ‰€ä»¥ï¼Œæœ€ç»ˆç•™ç»™æˆ‘ä»¬çš„é€‰é¡¹å°±æ˜¯åˆ©ç”¨ä¸€äº›ç‰¹å®šé¢†åŸŸæ¨¡å‹æ¥èµ‹èƒ½å‰ç«¯ï¼Œå®ƒä»¬å¯ä»¥ç”¨æ¥å¤„ç†æŸäº›ç‰¹å®šé¢†åŸŸçš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œ<strong>åˆ©ç”¨è§†è§‰ï¼ˆCNNã€MobileNetï¼‰æ¨¡å‹å®ç°å›¾åƒåˆ†ç±»ã€äººè„¸æ£€æµ‹ï¼Œæˆ–è€…åˆ©ç”¨è‡ªç„¶è¯­è¨€æ¨¡å‹ï¼ˆNLPï¼‰å®ç°é—®ç­”æœºå™¨äººã€æ–‡æœ¬æ¶æ„æ£€æµ‹ç­‰ã€‚</strong></p>
<p>è¿™äº›æ¨¡å‹ç­‰ç‰¹å¾æ˜¯å°ºå¯¸è¾ƒå°ï¼Œå¹¶ä¸”å¯¹è®¾å¤‡æ€§èƒ½è¦æ±‚ä¸é«˜ï¼Œéå¸¸é€‚åˆç›´æ¥éƒ¨ç½²åœ¨å‰ç«¯å¹¶å®ç°ä¸€äº›AIäº¤äº’ã€‚</p>
<p>æ‰€ä»¥ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥çœ‹çœ‹ï¼Œ<strong>å¦‚ä½•ä»0åˆ°1è®­ç»ƒä¸€ä¸ªå›¾åƒåˆ†ç±»æ¨¡å‹ï¼ˆDoodle Classifier based on CNNï¼‰</strong>ï¼Œå¹¶å°†æ¨¡å‹é›†æˆè‡³å‰ç«¯é¡µé¢ï¼Œå®ç°ä¸€ä¸ªç»å…¸<strong>ä½ ç”»æˆ‘çŒœå°æ¸¸æˆ-ç«¯ä¾§AIç‰ˆã€‚</strong></p>
<h2 data-id="heading-3">äºŒã€ä½ ç”»æˆ‘çŒœAIç‰ˆ-ç©æ³•ç®€ä»‹</h2>
<p>åŠ¨æ‰‹å®è·µä¹‹å‰ï¼Œå…ˆæ¥ç®€å•ä»‹ç»ä¸‹ä½ ç”»æˆ‘çŒœAIç‰ˆçš„ç©æ³•ï¼Œå®ƒå’Œæ™®é€šç‰ˆæœ¬ä½ ç”»æˆ‘çŒœçš„åŒºåˆ«åœ¨äºï¼šç©å®¶æ ¹æ®æç¤ºè¯è¿›è¡Œæ¶‚é¸¦ï¼Œ<strong>ç”±AIæ¥é¢„æµ‹ç©å®¶ç”»çš„è¯æ˜¯ä»€ä¹ˆï¼Œå¦‚æœAIé¡ºåˆ©çŒœå¯¹ç©å®¶ç”»çš„è¯ï¼Œåˆ™ç©å®¶å¾—åˆ†ã€‚</strong></p>
<p><img src="https://static001.geekbang.org/infoq/e0/e030938e11971e605ab4b3677de93b74.gif" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¾‹å¦‚ï¼Œæç¤ºè¯æ˜¯â€œé•¿åŸâ€ï¼Œåˆ™ç©å®¶éœ€è¦é€šè¿‡ç”»æ¿æ‰‹ç»˜ä¸€ä¸ªé•¿åŸï¼Œå°½é‡ç”»çš„åƒä¸€äº›ï¼Œè®©AIçŒœå‡ºæ­£ç¡®ç­”æ¡ˆå°±èƒ½å¾—åˆ†ã€‚</p>
<p>äº†è§£äº†åŸºç¡€ç©æ³•ä¹‹åï¼Œæ¥ä¸‹æ¥æ­£ç‰‡å¼€å§‹ï¼Œè¯¦ç»†ä»‹ç»å¦‚ä½•ä»é›¶åˆ°ä¸€å¼€å§‹å®ç°å®ƒã€‚</p>
<p>æˆ‘ä»¬æä¾›äº†ç®€åŒ–ç‰ˆçš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fh5.vivo.com.cn%2Fcasual%2Fquickdraw%2Findex.html%23%2Fdoodle" target="_blank" title="https://h5.vivo.com.cn/casual/quickdraw/index.html#/doodle" ref="nofollow noopener noreferrer">live demo</a>ï¼Œä½ å¯ä»¥è®¿é—®é“¾æ¥è¯•è¯•çœ‹ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿæä¾›äº†ç›¸å…³çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvivo%2FBlueSnippets%2Ftree%2Fmain%2Fdemos%2Fai-quickdraw" target="_blank" title="https://github.com/vivo/BlueSnippets/tree/main/demos/ai-quickdraw" ref="nofollow noopener noreferrer">demoä»£ç </a>ï¼Œä½ å¯ä»¥éšæ—¶è®¿é—®githubä»“åº“ï¼Œä¸‹è½½å’Œå°è¯•è¿è¡Œå®ƒã€‚</p>
<h2 data-id="heading-4">ä¸‰ã€è®­ç»ƒæ¨¡å‹</h2>
<p>é¦–å…ˆï¼Œç¬¬ä¸€æ­¥æ˜¯è®­ç»ƒæ¨¡å‹ã€‚</p>
<p>æ ¹æ®ä¸Šé¢çš„ç©æ³•ç®€ä»‹ï¼Œæˆ‘ä»¬çŸ¥é“å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<strong>åŸºäºè§†è§‰çš„å›¾ç‰‡åˆ†ç±»AIæ¨¡å‹</strong>ï¼Œè€Œè¿™ä¸ªæ¨¡å‹çš„åŠŸèƒ½æ˜¯ï¼šè¾“å…¥å›¾ç‰‡æ•°æ®åï¼Œæ¨¡å‹å¯ä»¥è®¡ç®—å‡ºå›¾ç‰‡çš„åˆ†ç±»ç½®ä¿¡ç»“æœã€‚ä¾‹å¦‚ï¼Œè¾“å…¥ä¸€å¼ å°çŒ«çš„å›¾ç‰‡ï¼Œæ¨¡å‹çš„åˆ†ç±»è®¡ç®—ç»“æœå¯èƒ½ä¸ºï¼š[çŒ« 90%ï¼Œç‹—8%ï¼ŒçŒª2%]ï¼Œè¡¨ç¤ºæ¨¡å‹è®¤ä¸ºè¿™å¼ å›¾æœ‰90%çš„æ¦‚ç‡æ˜¯åªçŒ«ï¼Œ8%çš„æ¦‚ç‡æ˜¯æ¡ç‹—ï¼Œ2%æ¦‚ç‡æ˜¯åªçŒªã€‚</p>
<p>è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬é€šè¿‡å°†ç”¨æˆ·æ‰‹ç»˜çš„canvasä¸­çš„å›¾ç‰‡æ•°æ®ä¸¢ç»™æ¨¡å‹ï¼Œå¹¶æŠŠæ¨¡å‹è¾“å‡ºçš„ç½®ä¿¡æ¦‚ç‡æœ€å¤§çš„åˆ†ç±»å½“ä½œAIçš„çŒœæµ‹ç»“æœï¼Œå°±å¯ä»¥æ¨¡æ‹Ÿå‡ºAIçŒœè¯çš„äº’åŠ¨äº†ã€‚</p>
<p>è€Œå®ç°è¿™ä¸ªæ¨¡å‹ä¹Ÿå¾ˆç®€å•ï¼Œä½†æˆ‘ä»¬éœ€è¦äº†è§£ä¸€äº›æ·±åº¦å­¦ä¹ ç¥ç»ç½‘ç»œçš„çŸ¥è¯†ä»¥åŠtensorflow.jsçš„åŸºç¡€ç”¨æ³•ã€‚å¦‚æœå¯¹è¿™ä¸¤è€…ä¸å¤ªç†Ÿæ‚‰ï¼Œå¯èƒ½éœ€è¦å…ˆè‡ªè¡Œgoogleä¸€ä¸‹ï¼Œåšç‚¹çŸ¥è¯†å‚¨å¤‡ã€‚</p>
<p>é‚£ä¹ˆå‡è®¾å¤§å®¶å·²ç»æœ‰äº†ä¸€äº›åŸºç¡€çš„ç¥ç»ç½‘ç»œã€TensorFlow.jsåŸºç¡€çŸ¥è¯†ï¼Œå°±å¯ä»¥åˆ©ç”¨TensorFlow.jsè½»æ¾æ­å»ºä¸€ä¸ªåŸºäºCNNçš„å›¾ç‰‡åˆ†ç±»æ¨¡å‹ã€‚</p>
<h3 data-id="heading-5">3.1 è·å–æ•°æ®é›†</h3>
<p>åœ¨è¿›å…¥æ¨¡å‹è®­ç»ƒä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆè·å–æ•°æ®é›†ã€‚</p>
<p>æ•°æ®é›†æ˜¯è®­ç»ƒæ¨¡å‹çš„åŸºç¡€ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±åˆ›å»ºæ•°æ®é›†ï¼ˆè¿™å¾ˆå›°éš¾ã€è´¹æ—¶ï¼‰ï¼Œæˆ–è€…å¯»æ‰¾ä¸€äº›å¼€æºæ•°æ®é›†ã€‚åˆšå¥½Google Labæä¾›äº†ä¸€å¥—å®Œæ•´çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fquickdraw.withgoogle.com%2Fdata" target="_blank" title="https://quickdraw.withgoogle.com/data" ref="nofollow noopener noreferrer">å¼€æºæ¶‚é¸¦æ•°æ®é›†ï¼ˆThe Quick Draw Datasetï¼‰</a>ï¼Œæ•°æ®é›†ä¸­åŒ…å«äº†345ä¸ªä¸åŒç±»åˆ«çš„æ¶‚é¸¦æ•°æ®é›†åˆï¼Œæ€»å…±æœ‰5000ä¸‡ä»½æ¶‚é¸¦æ•°æ®ï¼Œè¶³å¤Ÿæˆ‘ä»¬æŒ‘é€‰ä½¿ç”¨ã€‚</p>
<p><img src="https://static001.geekbang.org/infoq/5b/5b0b47d45a504e148ec442b4d11b849e.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘ä»¬å¯ä»¥ç›´æ¥è®¿é—®<a href="https://link.juejin.cn?target=https%3A%2F%2Fquickdraw.withgoogle.com%2Fdata" target="_blank" title="https://quickdraw.withgoogle.com/data" ref="nofollow noopener noreferrer">å¼€æºæ¶‚é¸¦æ•°æ®é›†ï¼ˆThe Quick Draw Datasetï¼‰</a>ä¸‹è½½æ‰€éœ€çš„æ•°æ®ã€‚ç‚¹å‡»é¡µé¢å³ä¸Šè§’çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgooglecreativelab%2Fquickdraw-dataset" target="_blank" title="https://github.com/googlecreativelab/quickdraw-dataset" ref="nofollow noopener noreferrer">Get the Data</a> è·³è½¬githubä»“åº“ï¼Œå¯ä»¥çœ‹åˆ°æ–‡æ¡£ä¸­åˆ—å‡ºäº†å¤šç§æ•°æ®ç±»å‹ï¼š</p>
<p><img src="https://static001.geekbang.org/infoq/6c/6cd335b509ae7fb9e9179272fd0d6849.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™é‡Œæˆ‘ä»¬ç›´æ¥é€‰æ‹©ä¸‹è½½<a href="https://link.juejin.cn?target=https%3A%2F%2Fconsole.cloud.google.com%2Fstorage%2Fbrowser%2Fquickdraw_dataset%2Ffull%2Fnumpy_bitmap" target="_blank" title="https://console.cloud.google.com/storage/browser/quickdraw_dataset/full/numpy_bitmap" ref="nofollow noopener noreferrer">Numpy bitmap files</a>ã€‚</p>
<p><img src="https://static001.geekbang.org/infoq/57/574bc7918d605cef5c1ab085de0106ff.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>**æ³¨æ„ï¼š**è¿™é‡Œçš„æ•°æ®é›†æœ‰345ç§ç±»åˆ«ï¼Œå¦‚æœå…¨éƒ¨è¿›è¡Œè®­ç»ƒçš„è¯ï¼Œè®­ç»ƒæ—¶é—´ä¼šå¾ˆé•¿å¹¶ä¸”æœ€ç»ˆçš„æ¨¡å‹å¤§å°è¾ƒå¤§ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è§†æƒ…å†µæŒ‘é€‰å…¶ä¸­çš„éƒ¨åˆ†è¯æ±‡ï¼Œä¾‹å¦‚é€‰æ‹©80ä¸ªè¯æ±‡è¿›è¡Œè®­ç»ƒï¼Œå¯¹äºä¸€æ¬¾å°æ¸¸æˆæ¥è¯´ï¼Œè¯æ±‡é‡ä¹Ÿè¶³å¤Ÿäº†ã€‚</p>
<h3 data-id="heading-6">3.2 æ­å»ºæ¨¡å‹å’Œè®­ç»ƒæ¨¡å‹</h3>
<p>ä¸‹è½½å®Œè®­ç»ƒæ•°æ®ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦æ­å»ºæ¨¡å‹ç»“æ„å¹¶è¿›è¡Œæ¨¡å‹è®­ç»ƒã€‚</p>
<p>å¦‚æœæˆ‘ä»¬ä¸‹è½½äº†<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvivo%2FBlueSnippets%2Ftree%2Fmain%2Fdemos%2Fai-quickdraw" target="_blank" title="https://github.com/vivo/BlueSnippets/tree/main/demos/ai-quickdraw" ref="nofollow noopener noreferrer">demoä»£ç </a>ï¼Œå¯ä»¥çœ‹åˆ°é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼Œä¸»è¦å†…å®¹ä¸º3ä¸ªéƒ¨åˆ†ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">é¡¹ç›®ç›®å½•/
â”œâ”€â”€ ğŸ“ src/                    
â”‚   â”œâ”€â”€ ğŸ“„ index.ts            <span class="hljs-comment"># ç¨‹åºå…¥å£æ–‡ä»¶</span>
â”‚   â”œâ”€â”€ ğŸ“ data/               <span class="hljs-comment"># æ•°æ®é›†</span>
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Apple.npy
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ The Great Wall.npy  
â”‚   â”‚   â””â”€â”€ ğŸ“„ ...       
â”‚   â””â”€â”€ ğŸ“ model/              <span class="hljs-comment"># è®­ç»ƒæ¨¡å‹ç›¸å…³</span>
â”‚       â”œâ”€â”€ ğŸ“„ doodle-data.model.ts  <span class="hljs-comment"># æ•°æ®åŠ è½½</span>
â”‚       â””â”€â”€ ğŸ“„ classifier.model.ts   <span class="hljs-comment"># æ¨¡å‹ç»“æ„</span>
â”œâ”€â”€ ğŸ“„ package.json
</code></pre>
<p>**-dataç›®å½•ï¼š**å­˜æ”¾è®­ç»ƒæ•°æ®é›†</p>
<p><strong>-modelç›®å½•ï¼š</strong></p>
<ul>
<li>
<p>doodle-data.model.tsï¼šæ•°æ®åŠ è½½é¢„å¤„ç†</p>
</li>
<li>
<p>classifier.model.tsï¼šå®šä¹‰æ¨¡å‹ç»“æ„</p>
</li>
</ul>
<p>**-index.tsï¼š**è®­ç»ƒç¨‹åºå…¥å£</p>
<p>å…ˆæ¥çœ‹é¡¹ç›®çš„index.tså…¥å£æ–‡ä»¶ï¼ŒåŠŸèƒ½éå¸¸ç®€å•ï¼Œä¸»è¦é€»è¾‘å°±æ˜¯å››æ­¥ï¼š</p>
<ul>
<li>
<p>åŠ è½½è®­ç»ƒæ•°æ®</p>
</li>
<li>
<p>åˆ›å»ºæ¨¡å‹</p>
</li>
<li>
<p>è®­ç»ƒæ¨¡å‹</p>
</li>
<li>
<p>ä¿å­˜æ¨¡å‹å‚æ•°</p>
<p>import { Classifier } from './model/classifier.model';
import { DoodleData } from './model/doodle-data.model';</p>
<p>async function main(){
const data = new DoodleData({
directoryData: 'src/data',
maxImageClass: 20000
});</p>
<p>// 1. åŠ è½½è®­ç»ƒæ•°æ®
data.loadData();
// 2. åˆ›å»ºæ¨¡å‹
const model = new Classifier(data);
// 3. è®­ç»ƒæ¨¡å‹
await model.train();
// 4. ä¿å­˜æ¨¡å‹å‚æ•°
await model.save();
}</p>
<p>main();</p>
</li>
</ul>
<p>äº†è§£äº†æ ¸å¿ƒæµç¨‹ä¹‹åï¼Œå†æ¥è¯¦ç»†çœ‹ä¸‹modelç›®å½•ä¸‹çš„ä¸¤ä¸ªæ ¸å¿ƒæ–‡ä»¶ï¼šdoodle-data.model.tså’Œclassifier.model.tsã€‚</p>
<p><strong>é¦–å…ˆæ˜¯doodle-data.model.ts</strong> ï¼Œå®ƒçš„æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼Œä¸»è¦æ˜¯åŠ è½½dataç›®å½•ä¸‹çš„æ•°æ®ï¼Œå¹¶å°†æ•°æ®é¢„å¤„ç†ä¸ºtensorå¼ é‡ï¼Œåç»­å¯äºè®­ç»ƒæ¨¡å‹ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŠ è½½dataç›®å½•ä¸‹çš„æ•°æ®</span>
<span class="hljs-title function_">loadData</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">classes</span> = fs.<span class="hljs-title function_">readdirSync</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">directoryData</span>)
    .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> x.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.npy'</span>))
    .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> x.<span class="hljs-title function_">replace</span>(<span class="hljs-string">'.npy'</span>, <span class="hljs-string">''</span>));
}

<span class="hljs-comment">// æ•°æ®ç”Ÿæˆå™¨ï¼Œé¢„å¤„ç†æ•°æ®ä¸ºtensorå¼ é‡</span>
*<span class="hljs-title function_">dataGenerator</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ...</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; bytes.<span class="hljs-property">length</span>; j = j + <span class="hljs-variable language_">this</span>.<span class="hljs-property">IMAGE_SIZE</span>) {
    <span class="hljs-keyword">const</span> singleImage = bytes.<span class="hljs-title function_">slice</span>(j, j + <span class="hljs-variable language_">this</span>.<span class="hljs-property">IMAGE_SIZE</span>);
    <span class="hljs-keyword">const</span> image = tf
      .<span class="hljs-title function_">tensor</span>(singleImage)
      .<span class="hljs-title function_">reshape</span>([<span class="hljs-variable language_">this</span>.<span class="hljs-property">IMAGE_WIDTH</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">IMAGE_HEIGHT</span>, <span class="hljs-number">1</span>])
      .<span class="hljs-title function_">toFloat</span>();
    <span class="hljs-keyword">const</span> xs = image.<span class="hljs-title function_">div</span>(offset);
    <span class="hljs-keyword">const</span> ys = tf.<span class="hljs-title function_">tensor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">classes</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> (x === label ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>)));
    <span class="hljs-keyword">yield</span> { xs, ys };
  }
}
</code></pre>
<p>**å…¶æ¬¡æ˜¯ï¼Œclassifier.model.tsã€‚**å®ƒçš„æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼Œä»£ç çš„ä¸»è¦åŠŸèƒ½æ˜¯ï¼š</p>
<p>æ„å»ºäº†ä¸€ä¸ªåŸºäºCNNçš„å›¾åƒåˆ†ç±»æ¨¡å‹ã€‚é€šè¿‡tf.layers.conv3d()æ„é€ äº†å·ç§¯ç¥ç»ç½‘ç»œç»“æ„ã€‚</p>
<p>æä¾›äº†train()æ–¹æ³•ï¼Œç”¨äºè®­ç»ƒæ¨¡å‹ã€‚è¿™é‡Œå®šä¹‰äº†æ¨¡å‹è®­ç»ƒçš„è¿­ä»£æ¬¡æ•°ï¼ˆepochsï¼‰ã€è®­ç»ƒçš„æ‰¹æ¬¡å¤§å°ï¼ˆbatchSizeï¼‰ï¼Œè¿™äº›å‚æ•°ä¼šå½±å“æ¨¡å‹è®­ç»ƒçš„æœ€ç»ˆç»“æœï¼Œå°±æ˜¯é€šå¸¸æˆ‘ä»¬æ‰€è¯´çš„â€œæ¨¡å‹è°ƒå‚â€ï¼Œå½“ä½ è§‰å¾—æ¨¡å‹è®­ç»ƒæ•ˆæœä¸ä½³æ—¶ï¼Œå¯ä»¥è°ƒæ•´è¿™äº›å‚æ•°é‡æ–°è®­ç»ƒï¼Œç›´åˆ°è¾¾æˆä¸é”™çš„å‡†ç¡®ç‡ã€‚</p>
<p>æä¾›äº†save()æ–¹æ³•ï¼Œç”¨äºä¿å­˜æ¨¡å‹å‚æ•°ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> tf from <span class="hljs-string">"@tensorflow/tfjs-node"</span>;
<span class="hljs-keyword">import</span> { DoodleData } from <span class="hljs-string">"./doodle-data.model"</span>;

exportclassClassifier {
  <span class="hljs-comment">// ...</span>
  <span class="hljs-comment">// å®šä¹‰æ¨¡å‹ç»“æ„</span>
  <span class="hljs-keyword">constructor</span>(<span class="hljs-keyword">data</span>: DoodleData) {
    <span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span> = <span class="hljs-keyword">data</span>;
    <span class="hljs-keyword">this</span>.model = tf.sequential();
    <span class="hljs-keyword">this</span>.model.add(
      tf.layers.conv2d({
        inputShape: [<span class="hljs-keyword">data</span>.IMAGE_WIDTH, <span class="hljs-keyword">data</span>.IMAGE_HEIGHT, <span class="hljs-number">1</span>],
        kernelSize: <span class="hljs-number">3</span>,
        filters: <span class="hljs-number">16</span>,
        strides: <span class="hljs-number">1</span>,
        activation: <span class="hljs-string">"relu"</span>,
        kernelInitializer: <span class="hljs-string">"varianceScaling"</span>,
      })
    );
    <span class="hljs-keyword">this</span>.model.add(
      tf.layers.maxPooling2d({
        poolSize: [<span class="hljs-number">2</span>, <span class="hljs-number">2</span>],
        strides: [<span class="hljs-number">2</span>, <span class="hljs-number">2</span>],
      })
    );
    <span class="hljs-keyword">this</span>.model.add(
      tf.layers.conv2d({
        kernelSize: <span class="hljs-number">3</span>,
        filters: <span class="hljs-number">32</span>,
        strides: <span class="hljs-number">1</span>,
        activation: <span class="hljs-string">"relu"</span>,
        kernelInitializer: <span class="hljs-string">"varianceScaling"</span>,
      })
    );
    <span class="hljs-keyword">this</span>.model.add(
      tf.layers.maxPooling2d({
        poolSize: [<span class="hljs-number">2</span>, <span class="hljs-number">2</span>],
        strides: [<span class="hljs-number">2</span>, <span class="hljs-number">2</span>],
      })
    );
    <span class="hljs-keyword">this</span>.model.add(tf.layers.flatten());
    <span class="hljs-keyword">this</span>.model.add(
      tf.layers.dense({
        units: <span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.totalClasses,
        kernelInitializer: <span class="hljs-string">"varianceScaling"</span>,
        activation: <span class="hljs-string">"softmax"</span>,
      })
    );

    <span class="hljs-keyword">const</span> optimizer = tf.train.adam();
    <span class="hljs-keyword">this</span>.model.compile({
      optimizer,
      loss: <span class="hljs-string">"categoricalCrossentropy"</span>,
      metrics: [<span class="hljs-string">"accuracy"</span>],
    });
  }

  <span class="hljs-comment">// æ¨¡å‹è®­ç»ƒ</span>
  async train(){
    <span class="hljs-keyword">const</span> trainingData = tf.<span class="hljs-keyword">data</span>
      .generator(() =&gt; <span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.dataGenerator(<span class="hljs-string">"train"</span>))
      .shuffle(<span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.maxImageClass * <span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.totalClasses)
      .batch(<span class="hljs-number">64</span>);

    <span class="hljs-keyword">const</span> testData = tf.<span class="hljs-keyword">data</span>
      .generator(() =&gt; <span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.dataGenerator(<span class="hljs-string">"test"</span>))
      .shuffle(<span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.maxImageClass * <span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.totalClasses)
      .batch(<span class="hljs-number">64</span>);

    await <span class="hljs-keyword">this</span>.model.fitDataset(trainingData, {
      epochs: <span class="hljs-number">5</span>,
      validationData: testData,
      callbacks: {
        onEpochEnd: async (epoch, logs) =&gt; {
          <span class="hljs-keyword">this</span>.logger.debug(
            `Epoch: ${epoch} - acc: ${logs?.acc.toFixed(
              <span class="hljs-number">3</span>
            )} - loss: ${logs?.loss.toFixed(<span class="hljs-number">3</span>)}`
          );
        },
        onBatchBegin: async (epoch, logs) =&gt; {
          console.log(<span class="hljs-string">"onBatchBegin"</span> + epoch + JSON.stringify(logs));
        },
      },
    });
  }

  <span class="hljs-comment">// ä¿å­˜æ¨¡å‹</span>
  async save(){
    fs.mkdirSync(<span class="hljs-string">"doodle-model"</span>, { recursive: <span class="hljs-literal">true</span> });
    fs.writeFileSync(
      <span class="hljs-string">"doodle-model/classes.json"</span>,
      JSON.stringify({ classes: <span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.classes })
    );
    await <span class="hljs-keyword">this</span>.model.save(<span class="hljs-string">"file://./doodle-model"</span>);
  }
}
</code></pre>
<p>å¦‚æœæˆ‘ä»¬ä»githubä»“åº“ä¸‹è½½äº†<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvivo%2FBlueSnippets%2Ftree%2Fmain%2Fdemos%2Fai-quickdraw" target="_blank" title="https://github.com/vivo/BlueSnippets/tree/main/demos/ai-quickdraw" ref="nofollow noopener noreferrer">demo</a>ä»£ç ï¼Œåœ¨æ ¹ç›®å½•ä¸‹æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">npm run start
</code></pre>
<p>å¼€å¯æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ï¼Œä¼šæœ‰ä¸€äº›è¾“å‡ºå¦‚ä¸‹ï¼Œè¡¨ç¤ºå½“å‰çš„è®­ç»ƒè½®æ¬¡ã€è¯†åˆ«å‡†ç¡®ç‡ã€æŸå¤±ç­‰ã€‚</p>
<pre><code class="hljs language-erlang" lang="erlang">onBatchBegin0{<span class="hljs-string">"batch"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"size"</span>:<span class="hljs-number">512</span>}
onBatchBegin1{<span class="hljs-string">"batch"</span>:<span class="hljs-number">1</span>,<span class="hljs-string">"size"</span>:<span class="hljs-number">512</span>}
onBatchBegin2{<span class="hljs-string">"batch"</span>:<span class="hljs-number">2</span>,<span class="hljs-string">"size"</span>:<span class="hljs-number">512</span>}
onBatchBegin3{<span class="hljs-string">"batch"</span>:<span class="hljs-number">3</span>,<span class="hljs-string">"size"</span>:<span class="hljs-number">512</span>}
onBatchBegin4{<span class="hljs-string">"batch"</span>:<span class="hljs-number">4</span>,<span class="hljs-string">"size"</span>:<span class="hljs-number">192</span>}
...
[Classifier] Epoch: <span class="hljs-number">0</span> - acc: <span class="hljs-number">0.078</span> - loss: <span class="hljs-number">2.632</span>
...
</code></pre>
<p>è€å¿ƒç­‰å¾…æ—¥å¿—æ‰“å®Œï¼Œæ¨¡å‹è®­ç»ƒå®Œæˆä¹‹åï¼Œæˆ‘ä»¬çš„é¡¹ç›®ç›®å½•ä¸‹å°±ä¼šäº§å‡ºä¸€ä¸ªé¢å¤–çš„ç›®å½•ï¼Œå­˜æ”¾æ¨¡å‹çš„è®­ç»ƒç»“æœã€‚</p>
<ul>
<li>
<p>**classes.jsonï¼š**å›¾ç‰‡çš„æ‰€æœ‰åˆ†ç±»ï¼Œæ ¹æ®dataç›®å½•ä¸­çš„æ•°æ®æ–‡ä»¶åç§°ç”Ÿæˆ</p>
</li>
<li>
<p>**model.jsonï¼š**æ¨¡å‹çš„æè¿°æ–‡ä»¶</p>
</li>
<li>
<p>**weights.binï¼š**æ¨¡å‹çš„å‚æ•°æ–‡ä»¶</p>
<p>é¡¹ç›®ç›®å½•/
â”œâ”€â”€ ğŸ“ doodle-model/           # è®­ç»ƒç»“æœï¼ˆæœ€ç»ˆæ¨¡å‹ï¼‰
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ classes.json    # å›¾ç‰‡åˆ†ç±»<br/>
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ model.json      # æ¨¡å‹æè¿°æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ ğŸ“„ weights.bin     # æ¨¡å‹å‚æ•°</p>
</li>
</ul>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬çš„æ¨¡å‹å°±è®­ç»ƒå®Œæˆäº†ã€‚</p>
<p>æ¥ä¸‹æ¥çœ‹çœ‹å¦‚ä½•åœ¨é¡µé¢ä¸­é›†æˆæ¨¡å‹ï¼Œå®ç°ä»ç»˜åˆ¶canvaså›¾ç‰‡åˆ°æ¨¡å‹åˆ†ç±»é¢„æµ‹çš„æ•ˆæœã€‚</p>
<h2 data-id="heading-7">å››ã€é›†æˆè‡³é¡µé¢</h2>
<p>åœ¨é¡µé¢ä¸­çš„é›†æˆæ¨¡å‹ä¹Ÿéå¸¸ç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦åˆ›å»ºä¸€ä¸ªå¯ä»¥ç»˜å›¾çš„canvasï¼Œæ¯éš”ä¸€æ®µæ—¶é—´å°±å°†å½“å‰canvasçš„å›¾åƒæ•°æ®ä¼ è¾“ç»™æ¨¡å‹ï¼Œè§¦å‘ä¸€æ¬¡æ¨¡å‹é¢„æµ‹å³å¯ã€‚</p>
<p>å…ˆæ¥çœ‹ä¸‹é¡¹ç›®çš„æ ¸å¿ƒç›®å½•ç»“æ„ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">é¡¹ç›®ç›®å½•/
â”œâ”€â”€ ğŸ“ public/assets/doodle-modle/   <span class="hljs-comment"># å°†è®­ç»ƒç”Ÿæˆçš„æ¨¡å‹æ”¾ç½®åœ¨publicç›®å½•ä¸‹</span>
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ classes.json    <span class="hljs-comment"># å›¾ç‰‡åˆ†ç±»     </span>
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ model.json      <span class="hljs-comment"># æ¨¡å‹æè¿°æ–‡ä»¶</span>
â”‚   â”‚   â””â”€â”€ ğŸ“„ weights.bin     <span class="hljs-comment"># æ¨¡å‹å‚æ•°</span>
â”œâ”€â”€ ğŸ“ src   
â”‚   â”œâ”€â”€ ğŸ“ models/               
â”‚   â”‚   â””â”€â”€ ğŸ“„ DoodleClassifier.js  <span class="hljs-comment"># å›¾ç‰‡åˆ†ç±»å™¨</span>
â”‚   â”œâ”€â”€ ğŸ“ views/               
â”‚   â”‚   â””â”€â”€ ğŸ“„ DoodleView.vue   <span class="hljs-comment"># é¡µé¢è§†å›¾ï¼ˆcanvasç”»å¸ƒï¼‰</span>
</code></pre>
<p><strong>å…¶ä¸­ï¼ŒDoodleClassifier.jsçš„æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</strong></p>
<ul>
<li>
<p>**loadModelï¼š**åŠ è½½æ¨¡å‹ï¼ŒåŒ…æ‹¬model.jsonã€classes.jsonï¼Œåœ¨model.jsonä¸­ä¼šè‡ªåŠ¨åŠ è½½weights.bin</p>
</li>
<li>
<p>**predictTopNï¼š**è¾“å…¥å›¾ç‰‡æ•°æ®ï¼Œè°ƒç”¨model.predict() é¢„æµ‹æœ€æœ‰å¯èƒ½çš„TopNä¸ªåˆ†ç±»ç»“æœï¼Œå¹¶æŒ‰ç…§ç½®ä¿¡åº¦æ’åº</p>
<p>import * as tf from "@tensorflow/tfjs";
import apiClient from "@/services/http";</p>
<p>// åŠ è½½æ¨¡å‹
async loadModel(){
this.model = await tf.loadLayersModel("assets/doodle-model/model.json");
const response = await apiClient.get("assets/doodle-model/classes.json");
this.classes = response.data.classes;
}</p>
<p>// é¢„æµ‹æœ€æœ‰å¯èƒ½çš„TopNä¸ªåˆ†ç±»ï¼Œå¹¶æŒ‰ç…§ç½®ä¿¡åº¦æ’åº
async predictTopN(data, n){
const predictions = Array.from(await this.model.predict(data).data());</p>
<p>const indexedPredictions = predictions.map((probability, index) =&gt; ({
probability,
index,
}));</p>
<p>indexedPredictions.sort((a, b) =&gt; b.probability - a.probability);</p>
<p>const topNPredictions = indexedPredictions.slice(0, n);</p>
<p>return topNPredictions.map((p) =&gt; ({
label: this.classes[p.index],
accuracy: p.probability,
}));
}</p>
<p>// é¢„æµ‹åˆ†ç±»ç»“æœ
async predict(data){
const argMax = await this.model.predict(data).argMax(-1).data();
returnthis.classes[argMax[0]];
}</p>
</li>
</ul>
<p><strong>DoodleView.vueçš„æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</strong></p>
<ul>
<li>
<p>è°ƒç”¨new DoodleClassifier()æ„é€ å›¾ç‰‡åˆ†ç±»å™¨</p>
</li>
<li>
<p>è°ƒç”¨loadModel()åŠ è½½æ¨¡å‹</p>
</li>
<li>
<p>é¢„å¤„ç†canvasçš„å›¾ç‰‡æ•°æ®</p>
</li>
<li>
<p>å°†é¢„å¤„ç†çš„æ•°æ®ä¼ è¾“ç»™model.predictTopN()ï¼Œé¢„æµ‹å›¾ç‰‡åˆ†ç±»</p>
<p>// æ„é€ å›¾ç‰‡åˆ†ç±»å™¨
this.model = new DoodleClassifier()</p>
<p>// åŠ è½½æ¨¡å‹
this.model.loadModel()</p>
<p>// é¢„å¤„ç†canvaså›¾ç‰‡æ•°æ®
const tensor = tf.browser.fromPixels(imgData, 1);
const resized = tf.image
.resizeBilinear(tensor, [28, 28])
.reshape([1, 28, 28, 1]) // Reshape to [1, 28, 28, 1] for batch and single channel
.toFloat();
const normalized = tf.scalar(1.0).sub(resized.div(tf.scalar(255.0)));</p>
<p>// é¢„æµ‹å›¾ç‰‡åˆ†ç±»
this.model.predictTopN(normalized, 5).then((predictions) =&gt; {
if (predictions) {
this.predictions = predictions;
}
});</p>
</li>
</ul>
<p>åˆ°è¿™ä¸ºæ­¢ï¼Œä½ ç”»æˆ‘çŒœ-AIç‰ˆå°±å·²ç»åŸºæœ¬æ­å»ºå®Œæˆäº†ã€‚å®ç°èµ·æ¥å¹¶ä¸å¤æ‚ã€‚</p>
<p>å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œå¹¶ä¸”ä½ æŒ‰ç…§æˆ‘ä»¬æä¾›çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvivo%2FBlueSnippets%2Ftree%2Fmain%2Fdemos%2Fai-quickdraw%2Fquickdraw-app" target="_blank" title="https://github.com/vivo/BlueSnippets/tree/main/demos/ai-quickdraw/quickdraw-app" ref="nofollow noopener noreferrer">demo</a>æ„å»ºé¡µé¢ï¼Œå°±å¯ä»¥ç›´æ¥åœ¨é¡¹ç›®ä¸­è¿è¡Œï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">npm run serve
</code></pre>
<p>ä¸€ä¸ªç®€æ˜“ç‰ˆæœ¬çš„ä½ ç”»æˆ‘çŒœAIç‰ˆå°±è¿è¡ŒæˆåŠŸäº†ï¼Œè¯•è¯•çœ‹å§ã€‚</p>
<p><img src="https://static001.geekbang.org/infoq/2c/2c7b2070f587bec6c7ce03a58c21aaf2.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-8">äº”ã€ä¼˜åŒ–æªæ–½</h2>
<p>é€šè¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œæˆ‘ä»¬å®Œæˆäº†æ¨¡å‹è®­ç»ƒå’Œcanvaså›¾ç‰‡åˆ†ç±»é¢„æµ‹çš„å…¨æµç¨‹ï¼ŒæˆåŠŸå®ç°äº†ä½ ç”»æˆ‘çŒœAIç‰ˆã€‚ä½†å®é™…ä¸Šå¯èƒ½ä¼šé‡åˆ°ä¸¤ä¸ªæ¯”è¾ƒå…³é”®çš„é—®é¢˜ã€‚</p>
<h3 data-id="heading-9">5.1 æ•°æ®æ ‡å‡†åŒ–</h3>
<p>å½“æˆ‘ä»¬å»è°ƒæ•´canvasç”»å¸ƒå¤§å°ã€ç”»ç¬”ç²—ç»†åï¼Œå¯èƒ½ä¼šå‡ºç°é¢„æµ‹ç»“æœä¸å‡†ç¡®çš„æƒ…å†µï¼Œæ­¤æ—¶ä»canvasè·å–çš„å›¾åƒæ•°æ®å’Œæˆ‘ä»¬å–‚ç»™æ¨¡å‹çš„è®­ç»ƒæ•°æ®äº§ç”Ÿäº†å·®å¼‚ã€‚</p>
<p>è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦åœ¨è·å–åˆ°canvasæ•°æ®åï¼Œé¢å¤–åšä¸€äº›æ•°æ®é¢„å¤„ç†ï¼Œå°†æ•°æ®æ ‡å‡†åŒ–ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>
<p>å°†ç”»å¸ƒçš„å†…å®¹åŒºåŸŸè£å‰ªä¸ºæ­£æ–¹å½¢ï¼Œå¹¶å±…ä¸­æ˜¾ç¤º</p>
</li>
<li>
<p>å°†ç”»å¸ƒçš„çº¿æ¡é€‚å½“å˜ç²—ï¼Œä½¿æ¨¡å‹æ›´å®¹æ˜“è¯†åˆ«</p>
</li>
</ul>
<h3 data-id="heading-10">5.2 åˆ©ç”¨ webworker ä¼˜åŒ–æ€§èƒ½</h3>
<p>æ¨¡å‹çš„è®¡ç®—è¿‡ç¨‹æ˜¯ååˆ†è€—æ—¶çš„ï¼Œå°†è®¡ç®—è¿‡ç¨‹æ”¾åœ¨ä¸»çº¿ç¨‹ä¼šå¯¼è‡´é¡µé¢å¡é¡¿ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†æ•´ä¸ªæ¨¡å‹çš„é¢„æµ‹éƒ¨åˆ†æ”¾å…¥webworkerä¸­ï¼Œä»¥æ­¤æ¥æå‡è®¡ç®—æ€§èƒ½ï¼Œä¸å½±å“é¡µé¢æ¸²æŸ“ã€‚</p>
<h2 data-id="heading-11">å…­ã€æ€»ç»“</h2>
<p>ä½ ç”»æˆ‘çŒœ-ç«¯ä¾§AIç‰ˆæ˜¯å‰ç«¯ç»“åˆAIçš„ä¸€ä¸ªç®€å•æ¡ˆä¾‹ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†å‰ç«¯åˆ©ç”¨AIèµ‹èƒ½çš„å¤§è‡´æ€è·¯å’ŒåŸºæœ¬å®ç°é€»è¾‘ã€‚æ¡ä»¶å…è®¸çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©äº‘ç«¯æ¨¡å‹æ¥æ‹“å±•å‰ç«¯ä¸šåŠ¡ã€‚ä½†å¦‚æœç¼ºä¹èµ„æºï¼Œæˆ‘ä»¬åˆ™è½¬è€Œè€ƒè™‘ä½¿ç”¨ç«¯ä¾§çš„ç‰¹å®šé¢†åŸŸæ¨¡å‹æ¥äº§å‡ºä¸€äº›æ–°ç©æ³•ã€æ–°äº¤äº’ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œç«¯ä¾§AIå…·æœ‰æ›´å¼ºçš„çµæ´»æ€§ã€å®‰å…¨æ€§å’Œæ›´ä½çš„é›†æˆæˆæœ¬ã€‚å¤§å®¶å¯ä»¥è¯•ç€åœ¨å„è‡ªçš„ä¸šåŠ¡ä¸­æ¢ç´¢å’Œä½¿ç”¨ç«¯ä¾§AIï¼Œæˆ–è®¸æ— æ³•äº§å‡ºå¤ªå¤§çš„æ•ˆç›Šï¼Œä½†ä¹Ÿæ˜¯åœ¨å…¨æ°‘AIæ—¶ä»£ä¸‹ï¼Œä¸€äº›ç§¯æçš„å°è¯•å’Œæ²‰æ·€ã€‚</p>
<h2 data-id="heading-12">ä¸ƒã€å‚è€ƒ</h2>
<p>éƒ¨åˆ†ä»£ç å‚è€ƒè‡ªï¼š</p>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FRiccardoGai%2Fdoddle-classifier-model" target="_blank" title="https://github.com/RiccardoGai/doddle-classifier-model" ref="nofollow noopener noreferrer">Gihuthub | RiccardoGai | doddle-classifier-model</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FRiccardoGai%2Fdoddle-classifier-app" target="_blank" title="https://github.com/RiccardoGai/doddle-classifier-app" ref="nofollow noopener noreferrer">Gihuthub | RiccardoGai | doddle-classifier-app</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyining1023%2FdoodleNet%2Ftree%2Fmaster" target="_blank" title="https://github.com/yining1023/doodleNet/tree/master" ref="nofollow noopener noreferrer">Gihuthub |</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyining1023%2FdoodleNet%2Ftree%2Fmaster" target="_blank" title="https://github.com/yining1023/doodleNet/tree/master" ref="nofollow noopener noreferrer">yining1023 | doodleNet</a></p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€ å…±ç»©ç®—åŠ›ï¼š3åˆ†é’Ÿæ‹¥æœ‰è‡ªå·±çš„å›¾åƒä¼˜åŒ–æœåŠ¡-CodeFormerï¼šå…ˆè¿›çš„å›¾åƒç®—æ³•ä¼˜åŒ–ã€ä¿®å¤é©¬èµ›å…‹ã€æå‡å›¾ç‰‡æ¸…æ™°åº¦ç­‰]]></title>    <link>https://juejin.cn/post/7571743311520350217</link>    <guid>https://juejin.cn/post/7571743311520350217</guid>    <pubDate>2025-11-13T02:24:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571743311520350217" data-draft-id="7571729682678972466" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€ å…±ç»©ç®—åŠ›ï¼š3åˆ†é’Ÿæ‹¥æœ‰è‡ªå·±çš„å›¾åƒä¼˜åŒ–æœåŠ¡-CodeFormerï¼šå…ˆè¿›çš„å›¾åƒç®—æ³•ä¼˜åŒ–ã€ä¿®å¤é©¬èµ›å…‹ã€æå‡å›¾ç‰‡æ¸…æ™°åº¦ç­‰"/> <meta itemprop="keywords" content="å‰ç«¯,äººå·¥æ™ºèƒ½,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-11-13T02:24:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LeonGao"/> <meta itemprop="url" content="https://juejin.cn/user/3976252950591149"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€ å…±ç»©ç®—åŠ›ï¼š3åˆ†é’Ÿæ‹¥æœ‰è‡ªå·±çš„å›¾åƒä¼˜åŒ–æœåŠ¡-CodeFormerï¼šå…ˆè¿›çš„å›¾åƒç®—æ³•ä¼˜åŒ–ã€ä¿®å¤é©¬èµ›å…‹ã€æå‡å›¾ç‰‡æ¸…æ™°åº¦ç­‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3976252950591149/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LeonGao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T02:24:29.000Z" title="Thu Nov 13 2025 02:24:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body{overflow:hidden;line-height:1.75;font-size:15px;background-image:linear-gradient(90deg,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0),linear-gradient(1turn,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0);background-size:20px 20px;background-position:50%;padding-top:0!important}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{position:relative;display:flex;border-bottom:5px solid #6d4e00;line-height:35px;letter-spacing:1px;font-size:25px;padding-left:25px;color:#664900;text-shadow:1px 1px 1px #8a6200;padding-bottom:0}.markdown-body h1:before{content:"";display:flex;position:absolute;left:0;top:3px;bottom:0;margin:auto;width:20px;height:20px;background-size:20px 20px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC")}.markdown-body h2{position:relative;padding:0 0 0 20px;font-size:20px;font-weight:700;color:#614500}.markdown-body h2:before{content:"";position:absolute;top:3px;bottom:0;left:0;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC");background-size:100% 100%;background-repeat:no-repeat;width:15px;height:15px;margin:auto}.markdown-body h3{width:100%;text-align:left;margin:20px 10px 0 0;font-size:18px;font-weight:700;display:inline-block;padding-left:10px;padding-bottom:0;border-left:5px solid #8f6600;color:#614500}.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:700;color:#a37400}.markdown-body h4{font-size:17px}.markdown-body h5,.markdown-body h6{display:flex;align-items:center}.markdown-body h5:after,.markdown-body h6:after{display:inline-block;border:2px solid #fff6e0;color:rgba(189,134,0,.5);border-radius:50%;text-align:center;margin-left:5px}.markdown-body h5{font-size:14px}.markdown-body h5:after{content:"5";width:15px;height:15px;line-height:15px;font-size:13px}.markdown-body h6{font-size:12px}.markdown-body h6:after{content:"6";width:13px;height:13px;line-height:13px;font-size:12px}.markdown-body p{color:#412c0c;letter-spacing:1px;font-weight:400;margin-bottom:16px}.markdown-body img{max-width:100%;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#755300;font-weight:400;border-bottom:1px solid #755300;font-weight:bolder;text-decoration:none}.markdown-body table{width:100%!important;margin:0;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border-spacing:0}.markdown-body table img{box-shadow:none}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body thead tr th{text-align:center}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;box-sizing:border-box;border:1px solid rgba(72,42,10,.1)}.markdown-body blockquote{position:relative;text-size-adjust:100%;line-height:25px;font-weight:400;border-radius:10px;font-style:normal;text-align:left;box-sizing:inherit;border:1px solid #ffd87a;background-color:rgba(189,134,0,.5);margin:20px 0;padding:20px}.markdown-body blockquote p{color:#fff6e0;letter-spacing:2px;margin:0}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;color:#cc9100;font-size:34px;font-weight:700}.markdown-body blockquote:before{content:"â";top:8px;left:5px}.markdown-body blockquote:after{content:"â";right:5px;bottom:-5px}.markdown-body strong{color:#c28a00;font-weight:bolder}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{color:#c28a00}.markdown-body em strong{font-style:normal;color:#c28a00;background-color:#8a6200}.markdown-body s{color:#c28a00}.markdown-body hr{border-top:1px solid #805b00}.markdown-body code,.markdown-body li code,.markdown-body p code{color:#996d00;background-color:rgba(130,98,0,.3)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#858585;font-family:bold;letter-spacing:1px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection,.markdown-body img::selection{color:rgba(189,134,0,.5);background-color:#fff}.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:transparent}.markdown-body pre&gt;code::selection{background-color:rgba(189,134,0,.5)}.markdown-body .math .math-inline::selection,.markdown-body blockquote::selection,.markdown-body ol::selection,.markdown-body p::selection,.markdown-body strong::selection,.markdown-body table::selection,.markdown-body ul::selection{background-color:rgba(189,134,0,.5)}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ğŸŒŒ å…±ç»©ç®—åŠ›æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>å½“æˆ‘ä»¬è°ˆè®ºâ€œç®—åŠ›â€ï¼Œå…¶å®æ˜¯åœ¨è°ˆè®ºäººç±»ä¸æ™ºèƒ½çš„æ²Ÿé€šé€Ÿåº¦ã€‚<br/>
è€Œ <strong>å…±ç»©ç®—åŠ›</strong>ï¼Œæ­£æ˜¯è¿™åœºé€Ÿåº¦é©å‘½çš„å¼•æ“ã€‚</p>
<p>å®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ª GPU æœåŠ¡å¹³å°ï¼Œæ›´æ˜¯ AI å¼€å‘è€…ã€ç§‘ç ”å›¢é˜Ÿä¸åˆ›æ–°ä¼ä¸šçš„â€œæ™ºä½œå·¥åŠâ€ã€‚<br/>
æ— è®ºä½ æ˜¯åœ¨è®­ç»ƒå¤§è§„æ¨¡è¯­è¨€æ¨¡å‹ï¼Œè¿˜æ˜¯åœ¨éƒ¨ç½²å®æ—¶æ¨ç†ä»»åŠ¡ï¼Œå…±ç»©éƒ½èƒ½ç”¨çµæ´»ã€é«˜æ€§èƒ½çš„ç®—åŠ›ï¼Œè®©åˆ›æ„è½åœ°çš„è¿‡ç¨‹ä¸å†å—é™ã€‚</p>
<hr/>
<h3 data-id="heading-1">ğŸ§© æ ¸å¿ƒæœåŠ¡èƒ½åŠ›</h3>
<h4 data-id="heading-2">âš™ï¸ äº‘ä¸»æœºï¼šAI å¼€å‘è€…çš„è¶…ç®—ä¼™ä¼´</h4>
<p>ï¼ˆ<strong>æ­¤å¤„é¢„ç•™äº‘ä¸»æœºå›¾ç‰‡åŒºåŸŸ</strong>ï¼‰</p>
<p><strong>å…±ç»©ç§‘æŠ€äº‘ä¸»æœº</strong> é¢å‘ AIã€ç§‘ç ”ä¸ä¼ä¸šçº§åœºæ™¯ï¼Œ<br/>
æä¾› <strong>é«˜æ€§èƒ½ GPU ç®—åŠ›ã€æé€Ÿéƒ¨ç½²ä½“éªŒ</strong> ä¸ <strong>ä¼ä¸šçº§å®‰å…¨ä¿éšœ</strong>ã€‚</p>
<p><strong>ä¼˜åŠ¿ç‰¹æ€§ï¼š</strong></p>
<ul>
<li>æ”¯æŒå¤šç§ä¸»æµ GPU å‹å·ï¼Œç®—åŠ›â€œéšå«éšåˆ°â€ï¼›</li>
<li>ä¸€é”®åˆ›å»ºå®ä¾‹ï¼Œåˆ†é’Ÿçº§å¯åŠ¨ï¼›</li>
<li>ç¨³å®šç½‘ç»œä¸å®‰å…¨éš”ç¦»æœºåˆ¶ï¼Œä¿éšœè®­ç»ƒä¸æ¨ç†è¿‡ç¨‹é«˜æ•ˆå¯é ã€‚</li>
</ul>
<blockquote>
<p>ä»æ¨¡å‹è®­ç»ƒåˆ°æ¨ç†éƒ¨ç½²ï¼Œä½ åªéœ€ä¸€æ¬¡ç‚¹å‡»ï¼Œå…¶ä»–äº¤ç»™å…±ç»©ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-3">ğŸª„ å¼¹æ€§éƒ¨ç½²ï¼šç®—åŠ›åƒå‘¼å¸ä¸€æ ·è‡ªç„¶</h4>
<p>ï¼ˆ<strong>æ­¤å¤„é¢„ç•™å¼¹æ€§éƒ¨ç½²å›¾ç‰‡åŒºåŸŸ</strong>ï¼‰</p>
<p>å½“æ¨¡å‹è®­ç»ƒè¿›å…¥é«˜å³°æœŸï¼Œç®—åŠ›éœ€æ±‚ç¬é—´æš´æ¶¨ï¼›è€Œå½“å®éªŒç»“æŸï¼Œåˆä¸æƒ³è¢«é—²ç½®èµ„æºâ€œåƒæ‰é¢„ç®—â€â€”â€”è¿™æ—¶ä½ éœ€è¦çš„æ­£æ˜¯ <strong>å…±ç»©ç§‘æŠ€çš„å¼¹æ€§éƒ¨ç½²æœåŠ¡</strong>ã€‚</p>
<p><strong>æˆ‘ä»¬æä¾›ï¼š</strong></p>
<ul>
<li>â± ç§’çº§æ‰©ç¼©å®¹ï¼šå®æ—¶å“åº”ç®—åŠ›éœ€æ±‚å˜åŒ–ï¼›</li>
<li>ğŸ’° æŒ‰éœ€è®¡è´¹ï¼šè®©æ¯ä¸€åˆ†ç®—åŠ›éƒ½ç‰©æœ‰æ‰€å€¼ï¼›</li>
<li>ğŸ”„ æ— ç¼æ‰©å±•ï¼šè®­ç»ƒé«˜å³°ä¸å†å¡é¡¿ï¼Œæ¨ç†ä½è°·è‡ªåŠ¨é™è½½ã€‚</li>
</ul>
<blockquote>
<p>ç®—åŠ›ä¸æµªè´¹ï¼Œæ€§èƒ½è¿˜åœ¨çº¿ï¼Œç§‘ç ”æ•ˆç‡è½»ç›ˆå¦‚é£ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-4">ğŸ”© è£¸é‡‘å± GPUï¼šä¸ºæé™ä»»åŠ¡å‡†å¤‡çš„ç¡¬æ ¸æ­¦å™¨</h4>
<p>ï¼ˆ<strong>æ­¤å¤„é¢„ç•™è£¸é‡‘å±å›¾ç‰‡åŒºåŸŸ</strong>ï¼‰</p>
<p>é¢å¯¹å¤æ‚çš„ AI æ¨¡å‹è®­ç»ƒã€é«˜æ€§èƒ½è®¡ç®—ï¼ˆHPCï¼‰æˆ–æ ¸å¿ƒä¸šåŠ¡åœºæ™¯ï¼Œ<br/>
<strong>å…±ç»©è£¸é‡‘å±æœåŠ¡å™¨</strong> æä¾›ç‰©ç†çº§åˆ«çš„ç®—åŠ›ä½“éªŒâ€”â€”æ— è™šæ‹ŸåŒ–æŸè€—ã€å…¨ç¡¬ä»¶éš”ç¦»ã€æè‡´æ€§èƒ½é‡Šæ”¾ã€‚</p>
<p><strong>ä½ çš„æ”¶ç›Šï¼š</strong></p>
<ul>
<li>100% ç¡¬ä»¶æ€§èƒ½å æœ‰ï¼›</li>
<li>ä¸“å± GPU ç‰©ç†æœºéš”ç¦»ï¼Œå®‰å…¨æ— å¹²æ‰°ï¼›</li>
<li>æ»¡è¶³é‡‘èçº§ä¸ç§‘ç ”çº§æ•°æ®å®‰å…¨æ ‡å‡†ã€‚</li>
</ul>
<blockquote>
<p>æ¯ä¸€æ¬¡è®­ç»ƒï¼Œéƒ½æ˜¯åœ¨ç‰©ç†æ€§èƒ½çš„æé™ä¸Šå¥”è·‘ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-5">ğŸ”— å¹³å°ä¼˜åŠ¿ï¼šå¤šæºèåˆï¼Œä¸€ç«™åˆ°ä½</h3>
<p>å…±ç»©æ•´åˆå¤šå®¶ç®—åŠ›èµ„æºä¾›åº”å•†ï¼Œé€šè¿‡æ ‡å‡†åŒ–è´¨æ£€è®¤è¯ï¼Œç¡®ä¿æ¯ä¸€å°æœåŠ¡å™¨éƒ½èƒ½ç¨³å®šè¾“å‡ºé«˜æ€§èƒ½è®¡ç®—åŠ›ã€‚</p>
<p>æ— è®ºæ˜¯ AI æ¨¡å‹è®­ç»ƒã€å¤§æ•°æ®åˆ†æï¼Œè¿˜æ˜¯ HPC åº”ç”¨ï¼Œ<br/>
<strong>â€œå…±ç»©â€éƒ½èƒ½ä¸ºä½ è®¾è®¡æœ€ä¼˜ç®—åŠ›ç»„åˆï¼Œè®©è®¡ç®—ï¼Œæ›´ç®€å•ã€æ›´èªæ˜ã€‚</strong></p>
<hr/>
<h4 data-id="heading-6">ğŸ§© ä¸€ã€è‡ªå»º AI æ–‡ç”Ÿå›¾çš„ä¸»è¦æŒ‘æˆ˜</h4>
<ol>
<li>
<p><strong>ç¯å¢ƒé…ç½®åœ°ç‹±</strong></p>
<ul>
<li>ä¸åŒæ“ä½œç³»ç»Ÿã€Python ç‰ˆæœ¬ã€CUDA é©±åŠ¨ã€PyTorch ä¾èµ–ä¹‹é—´æ€»æœ‰ä¸€å¯¹å½¼æ­¤â€œæ°´ç«ä¸å®¹â€ã€‚</li>
<li>ä¸€ä¸å°å¿ƒç‰ˆæœ¬é”™äº†åŠä¸ªå°æ•°ç‚¹ï¼Œæ§åˆ¶å°å°±å˜æˆçº¢è‰²åœ£ç»ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ˜¾å¡èµ„æºåƒç´§</strong></p>
<ul>
<li>æ–‡ç”Ÿå›¾ä»»åŠ¡é€šå¸¸éœ€è¦ 8GB~24GB æ˜¾å­˜ï¼Œè€Œå¤§å¤šæ•°æ™®é€šç”µè„‘æ ¹æœ¬â€œå–‚ä¸é¥±æ¨¡å‹â€ã€‚</li>
<li>ä½ å¯èƒ½ä¼šä¸€è¾¹çœ‹ç”Ÿæˆè¿›åº¦æ¡ï¼Œä¸€è¾¹ç¥ˆç¥·æ˜¾å­˜åˆ«ç‚¸ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç½‘ç»œä¸é•œåƒé€Ÿåº¦</strong></p>
<ul>
<li>ä¸‹è½½æ¨¡å‹æƒé‡å¾€å¾€æ˜¯â€œæ…¢é€ŸæŠ˜ç£¨æ¨¡å¼â€ï¼Œå‡ GBçš„æ¨¡å‹æ–‡ä»¶åƒä¹Œé¾Ÿçˆ¬ã€‚</li>
</ul>
</li>
<li>
<p><strong>å®‰å…¨ä¸æœåŠ¡ç»´æŠ¤</strong></p>
<ul>
<li>è‡ªå»ºWebUIæœåŠ¡éœ€è¦è‡ªå·±é…ç½®è®¿é—®æƒé™ã€é˜²æ­¢ç«¯å£æš´éœ²ã€è¯ä¹¦æ›´æ–°ç­‰é—®é¢˜ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h4 data-id="heading-7">ğŸš€ äºŒã€3åˆ†é’Ÿæ‹¥æœ‰è‡ªå·±çš„å›¾åƒä¼˜åŒ–æœåŠ¡-CodeFormer</h4>
<h5 data-id="heading-8">ğŸ§  ä¼ ç»Ÿå›¾åƒä¼˜åŒ–æœåŠ¡çš„å…­å¤§éš¾ç‚¹</h5>
<hr/>
<h6 data-id="heading-9">1. æ¨¡ç³Šä¸æ˜¯ä¸€å›äº‹ï¼šé™å™ªã€å»æ¨¡ç³Šä¸ç»†èŠ‚æ¢å¤çš„åšå¼ˆ ğŸ­</h6>
<p>ä¼ ç»Ÿæ–¹æ³•ï¼ˆå¦‚åŒè¾¹æ»¤æ³¢ã€éå±€éƒ¨å‡å€¼ã€é”åŒ–æ ¸å·ç§¯ç­‰ï¼‰å¾€å¾€æŠŠæ¸…æ™°å’Œå™ªå£°æ”¾åœ¨åŒä¸€ä¸ªå¤©å¹³ä¸Šã€‚</p>
<ul>
<li><strong>é™å™ªå¤ªç‹ </strong> â†’ äººåƒå˜æˆâ€œèœ¡åƒâ€</li>
<li><strong>é”åŒ–å¤ªçŒ›</strong> â†’ å™ªç‚¹å˜æˆâ€œæ˜Ÿç©ºâ€</li>
</ul>
<p>åº•å±‚åŸç†ä¸Šï¼Œè¿™äº›ç®—æ³•åªä¾èµ–åƒç´ é‚»åŸŸçš„ç»Ÿè®¡ç‰¹æ€§ï¼Œå¹¶ä¸ä¼šç†è§£äººè„¸ã€çº¹ç†è¿™äº›â€œç»“æ„è¯­ä¹‰â€ã€‚<br/>
äºæ˜¯ï¼Œâ€œé¼»å­”â€è¢«è¯¯è®¤æˆé˜´å½±ï¼Œâ€œå¤´å‘ä¸â€è¢«å½“å™ªç‚¹æ¸…ç†æ‰äº†â€”â€”è¿™ä¸æ˜¯AIï¼Œåªæ˜¯æ•°å­¦çš„æ‚²å‰§ã€‚</p>
<hr/>
<h6 data-id="heading-10">2. åƒç´ ä¿®å¤çš„â€œç›²äººæ‘¸è±¡â€ï¼šç¼ºä¹è¯­ä¹‰ç†è§£ ğŸ§</h6>
<p>å¤šæ•°ä¼ ç»Ÿä¼˜åŒ–æ–¹æ³•æ ¹æœ¬<strong>ä¸â€œæ‡‚â€å›¾ç‰‡çš„å†…å®¹</strong>ã€‚<br/>
å®ƒä»¬åªæ˜¯æ ¹æ®å±€éƒ¨ä¿¡æ¯ä¿®å¤åƒç´ ï¼Œå®Œå…¨ä¸çŸ¥é“â€œè¿™æ˜¯çœ¼ç›â€è¿˜æ˜¯â€œè¿™æ˜¯çª—æˆ·â€ã€‚</p>
<p>å½“å±€éƒ¨åƒç´ ç¼ºå¤±ï¼ˆæ¯”å¦‚é©¬èµ›å…‹ã€å‹ç¼©å—ï¼‰æ—¶ï¼Œè¿™ç±»ç®—æ³•åªèƒ½æ ¹æ®é‚»è¿‘åƒç´ æ’å€¼è¡¥å…¨ã€‚<br/>
ç»“æœå‘¢ï¼Ÿä¿®å‡ºä¸€ä¸ªæ­ªè„¸ï¼Œæˆ–è€…â€œå¹½çµçœ¼ç¥â€ã€‚</p>
<p>è¿™å°±åƒè®©ä¸ä¼šç”»ç”»çš„äººé çŒœæƒ³è¡¥å®Œã€Šè’™å¨œä¸½èã€‹çš„å˜´è§’â€”â€”æ³¨å®šè¾£çœ¼ç›ã€‚</p>
<hr/>
<h6 data-id="heading-11">3. ğŸ“ ç®—æ³•é€šç”¨æ€§å·®ï¼šå¯¹ä¸åŒç±»å‹å›¾åƒâ€œä¸€æ‹›é²œåƒä¸éå¤©â€</h6>
<p>ä¼ ç»Ÿå›¾åƒä¼˜åŒ–ç®—æ³•é€šå¸¸æ˜¯<strong>æ‰‹å·¥è°ƒå‚çš„äº§ç‰©</strong>ã€‚<br/>
ä¸åŒå›¾åƒç±»å‹â€”â€”æ¯”å¦‚æ‰«ææ–‡æ¡£ã€äººåƒã€é£æ™¯ã€æ’ç”»â€”â€”æ‰€éœ€çš„æ»¤æ³¢æ ¸æƒé‡å’Œé”åŒ–å¼ºåº¦å®Œå…¨ä¸åŒã€‚</p>
<blockquote>
<p>å·¥ç¨‹å¸ˆå¿ƒå£°ï¼šè°ƒä¸ªå‚æ•°ï¼Œè¦å‘½ä¸‰å°æ—¶ã€‚<br/>
ç»“æœï¼šå¯¹æ–‡æ¡£æ¸…æ™°äº†ï¼Œå¯¹äººè„¸å´©åäº†ã€‚</p>
</blockquote>
<p>ç¼ºä¹ç«¯åˆ°ç«¯ã€è‡ªé€‚åº”æœºåˆ¶ï¼Œæ˜¯ä¼ ç»Ÿæ–¹æ³•åœ¨å¤šåœºæ™¯é€‚é…ä¸Šæœ€è‡´å‘½çš„çŸ­æ¿ã€‚</p>
<hr/>
<h6 data-id="heading-12">4. ğŸ“¶ è®¡ç®—æ•ˆç‡ä¸å¯æ‰©å±•æ€§</h6>
<p>å¾ˆå¤šä¼ ç»Ÿç®—æ³•ï¼ˆç‰¹åˆ«æ˜¯åŸºäºæ•°å­¦æœ€ä¼˜åŒ–çš„ï¼‰å¯¹èµ„æºè¦æ±‚é«˜ã€å¹¶è¡Œæ€§å·®ã€‚<br/>
ä¾‹å¦‚ï¼š</p>
<ul>
<li>å·ç§¯æ ¸åƒç´ çº§æ‰«ææ•ˆç‡ä½ï¼›</li>
<li>å¤šæ­¥è¿­ä»£å¼å»æ¨¡ç³Šç®—æ³•ï¼ˆå¦‚Richardson-Lucyåå·ç§¯ï¼‰è€—æ—¶é•¿ï¼›</li>
<li>ä¸€æ—¦æ¢æ›´é«˜åˆ†è¾¨ç‡å›¾åƒï¼Œå¤„ç†æ—¶é—´æˆå€æš´æ¶¨ã€‚</li>
</ul>
<p>åœ¨Webç¯å¢ƒä¸‹ï¼Œè¿™ç§â€œCPUé£æ‰‡ç‹‚è½¬ï¼Œæµè§ˆå™¨éƒ½å“è·ªâ€çš„æƒ…å†µéå¸¸å¸¸è§ã€‚<br/>
è€Œç°ä»£AIGCæ¨¡å‹ï¼ˆå¦‚CodeFormerï¼‰å¯ä»¥ç”¨GPUå’Œæ™ºèƒ½æ‰¹å¤„ç†ï¼Œæå¤§ç¼“è§£äº†è¿™ä¸€é—®é¢˜ã€‚</p>
<hr/>
<h6 data-id="heading-13">5. ğŸ§© å¤šæ¨¡æ€æ•°æ®é€‚é…æ€§å·®ï¼šæ— æ³•å…¼å®¹æ–°å¼æ•°æ®æ¥æº</h6>
<p>éšç€AIGCã€Web3Dã€æ‰‹æœºRAWæ ¼å¼æ•°æ®çˆ†å‘ï¼Œç°ä»£å›¾åƒçš„æ¥æºå’Œç¼–ç æ–¹å¼è¶Šæ¥è¶Šå¤šæ ·ã€‚<br/>
ä½†ä¼ ç»Ÿä¼˜åŒ–æœåŠ¡å¾€å¾€ï¼š</p>
<ul>
<li>ä»…æ”¯æŒé™æ€2Då›¾åƒï¼›</li>
<li>ä¸ç†è§£æ·±åº¦å›¾ã€æ³•çº¿å›¾ã€é€æ˜é€šé“ï¼›</li>
<li>æ— æ³•ä¸APIæˆ–WebAppå®æ—¶äº¤äº’ã€‚</li>
</ul>
<p>è¿™ä½¿å¾—ä¼ ç»Ÿå›¾åƒä¼˜åŒ–åªèƒ½å……å½“â€œç¦»çº¿å·¥å…·â€ï¼Œéš¾ä»¥åµŒå…¥åˆ°AIGCå·¥ä½œæµæˆ–è‡ªåŠ¨åŒ–å¹³å°ä¸­ã€‚</p>
<hr/>
<h6 data-id="heading-14">6. ğŸ“‰ å¯è§£é‡Šæ€§ä¸è´¨é‡è¯„ä¼°å›°éš¾</h6>
<p>ä¼ ç»Ÿä¼˜åŒ–çš„å¦ä¸€å¤§ç—›ç‚¹æ˜¯â€”â€”æ²¡æœ‰ä¸€å¥—æ ‡å‡†åŒ–çš„<strong>è§†è§‰è´¨é‡è¯„ä»·æœºåˆ¶</strong>ã€‚</p>
<p>æŒ‡æ ‡å¦‚ï¼š</p>
<ul>
<li><strong>PSNRï¼ˆä¿¡å™ªæ¯”ï¼‰</strong> è¿‡äºç†æƒ³åŒ–ï¼›</li>
<li><strong>SSIMï¼ˆç»“æ„ç›¸ä¼¼åº¦ï¼‰</strong> å¿½ç•¥æ„ŸçŸ¥å·®å¼‚ï¼›</li>
<li><strong>äººçœ¼ä¸»è§‚è¯„ä»·</strong> åˆä¸å¯é‡åŒ–ã€‚</li>
</ul>
<p>å› æ­¤ï¼Œå³ä½¿å›¾åƒåœ¨æ•°æ®æŒ‡æ ‡ä¸Šâ€œæ›´æ¸…æ™°â€ï¼Œè‚‰çœ¼çœ‹ä¸Šå»å¯èƒ½åè€Œâ€œæ›´ç³Šâ€ã€‚<br/>
äººçœ¼å’Œæ•°å­¦çš„â€œå®¡ç¾è§‚â€å¸¸å¸¸äº’ç›¸çœ‹ä¸é¡ºçœ¼ã€‚</p>
<hr/>
<h6 data-id="heading-15">ğŸ“š å°ç»“è¡¨æ ¼ï¼ˆç»™ç€æ€¥çš„ä½ ï¼‰</h6>








































<table><thead><tr><th>éš¾ç‚¹</th><th>æŠ€æœ¯ç—‡ç»“</th><th>å…¸å‹åæœ</th></tr></thead><tbody><tr><td>å™ªå£°ä¸é”åŒ–æƒè¡¡</td><td>æ»¤æ³¢ç®—æ³•æ¬ æ™ºèƒ½</td><td>é¢éƒ¨ç»†èŠ‚ä¸¢å¤±ã€ä¼ªå½±</td></tr><tr><td>ç¼ºä¹è¯­ä¹‰ç†è§£</td><td>çº¯åƒç´ è®¡ç®—</td><td>ä¿®å¤å½¢æ€é”™è¯¯</td></tr><tr><td>é€šç”¨æ€§å·®</td><td>æ— è‡ªé€‚åº”å‚æ•°</td><td>å„åœºæ™¯è¡¨ç°ä¸ç¨³</td></tr><tr><td>æ•ˆç‡ç“¶é¢ˆ</td><td>è¿­ä»£ä¼˜åŒ–å¤æ‚</td><td>å“åº”æ…¢ã€æ— æ³•å®æ—¶</td></tr><tr><td>æ¨¡æ€å…¼å®¹å·®</td><td>æ¥å£ä¸æ•°æ®æ ¼å¼ä¸ç»Ÿä¸€</td><td>ä¸Web/Appç”Ÿæ€è„±èŠ‚</td></tr><tr><td>è¯„ä»·æ ‡å‡†ä¸ç»Ÿä¸€</td><td>æ„ŸçŸ¥åº¦éš¾é‡åŒ–</td><td>éš¾ä»¥ç›‘æ§æ•ˆæœ</td></tr></tbody></table>
<hr/>
<h4 data-id="heading-16">ğŸª„ CodeFormerç­‰æ–°ä¸€ä»£æœåŠ¡çš„ä¼˜åŠ¿ç®€è¿°</h4>
<p>åƒ <strong>CodeFormer</strong> è¿™æ ·çš„æ·±åº¦å­¦ä¹ ä¼˜åŒ–ç³»ç»Ÿè§£å†³äº†ä¸Šè¿°ç—›ç‚¹ï¼š</p>
<ul>
<li>âœ… åˆ©ç”¨ Transformer ç»“æ„ç†è§£<strong>å…¨å±€è¯­ä¹‰</strong>ï¼ˆçŸ¥é“é‚£æ˜¯äººè„¸è¿˜æ˜¯èƒŒæ™¯ï¼‰ï¼›</li>
<li>âœ… ç«¯åˆ°ç«¯è®­ç»ƒå¯åŒæ—¶ä¿®å¤ä¸å¢å¼ºï¼›</li>
<li>âœ… æ”¯æŒ <strong>WebUIå¯è§†åŒ– + APIæœåŠ¡åŒ–é›†æˆ</strong>ï¼›</li>
<li>âœ… é«˜å¹¶å‘ GPU æ¨ç†ï¼Œå¤„ç†æ•ˆç‡æå‡æ•°åå€ï¼›</li>
<li>âœ… å¯è‡ªåŠ¨æ ¹æ®å›¾åƒå†…å®¹è°ƒèŠ‚ä¿®å¤ä¸é”åŒ–ç¨‹åº¦â€”â€”é›¶å‚æ•°æš´åŠ›è°ƒè¯•ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-17">å®ç°æµç¨‹</h4>
<h6 data-id="heading-18">1ã€æ‰“å¼€å…±ç»©ç®—åŠ›-å¼¹æ€§éƒ¨ç½²æœåŠ¡</h6>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5706e801681a49f5bf59f05328ccfdea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTGVvbkdhbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763605468&amp;x-signature=5wLDIWLaTVVP%2FPWDAVbfO4Zl%2FI0%3D" alt="image.png" loading="lazy"/></p>
<h6 data-id="heading-19">2ã€ä¸‹æ»‘æ‰¾åˆ°æœåŠ¡é¡¹ã€å¹¶æ»‘åŠ¨åˆ°åº•éƒ¨éƒ¨ç½²æœåŠ¡</h6>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b43abb53eb34020a90be0968f605671~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTGVvbkdhbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763605468&amp;x-signature=Tw3cTOyZpCzRfbvlyT9guJqz4%2BY%3D" alt="image.png" loading="lazy"/></p>
<h6 data-id="heading-20">3ã€ç­‰å¾…éƒ¨ç½²å®Œæˆï¼Œè®¿é—®éƒ¨ç½²çš„webUiæœåŠ¡ä½“éªŒã€‚ä¹Ÿå¯ä»¥æŸ¥çœ‹æ–‡æ¡£ï¼Œé›†æˆapiè°ƒç”¨æ–¹å¼åˆ°é¡¹ç›®ä¸­</h6>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3ea128c39d94005bbba4a78c75d6638~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTGVvbkdhbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763605468&amp;x-signature=lfE8dA3BCJFZsqYVJlhxI0HZvYs%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-21">ç»“æœæ¼”ç¤º</h3>
<p>æ•ˆæœæ æ çš„</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34ce33f3f178480aa4dad809bb89d922~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTGVvbkdhbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763605468&amp;x-signature=jtBpp7SCIQBYJEKTdVA6CDJUVvI%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-22">ç›¸å…³åˆ†äº«</h2>
<p><a href="https://juejin.cn/post/7569825640852357155" target="_blank" title="https://juejin.cn/post/7569825640852357155">å…±ç»©ç®—åŠ›-çƒ­æ¦œæ•°æ®å®æˆ˜</a><br/>
<a href="https://juejin.cn/post/7570247858869043252" target="_blank" title="https://juejin.cn/post/7570247858869043252">å…±ç»©ç®—åŠ›-æ–‡ç”Ÿå›¾AIæœåŠ¡</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Šæ‹’ç»é‡å¤ä»£ç ï¼æ¨¡æ¿æ¨¡å¼æ•™ä½ ä¼˜é›…å¤ç”¨ç®—æ³•éª¨æ¶ã€‹]]></title>    <link>https://juejin.cn/post/7571648135586103339</link>    <guid>https://juejin.cn/post/7571648135586103339</guid>    <pubDate>2025-11-13T00:34:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571648135586103339" data-draft-id="7571402480966991908" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Šæ‹’ç»é‡å¤ä»£ç ï¼æ¨¡æ¿æ¨¡å¼æ•™ä½ ä¼˜é›…å¤ç”¨ç®—æ³•éª¨æ¶ã€‹"/> <meta itemprop="keywords" content="è®¾è®¡æ¨¡å¼,åç«¯"/> <meta itemprop="datePublished" content="2025-11-13T00:34:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜¨å¤©çš„çŒ«"/> <meta itemprop="url" content="https://juejin.cn/user/563421030396568"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Šæ‹’ç»é‡å¤ä»£ç ï¼æ¨¡æ¿æ¨¡å¼æ•™ä½ ä¼˜é›…å¤ç”¨ç®—æ³•éª¨æ¶ã€‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/563421030396568/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜¨å¤©çš„çŒ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T00:34:56.000Z" title="Thu Nov 13 2025 00:34:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ä¸‹æ¨¡æ¿æ¨¡å¼ï¼Œä»¥åŠåœ¨é¡¹ç›®ä¸­çš„åº”ç”¨</h2>
<h3 data-id="heading-1">01 æ¨¡æ¿æ¨¡å¼ç®€ä»‹</h3>
<p>æ¨¡æ¿æ¨¡å¼ï¼ˆTemplate Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªæ“ä½œä¸­çš„<code>ç®—æ³•éª¨æ¶</code>ï¼Œå°†æŸäº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­å®ç°ã€‚æ¨¡æ¿æ¨¡å¼ä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ç®—æ³•ç»“æ„çš„æƒ…å†µä¸‹ï¼Œé‡æ–°å®šä¹‰ç®—æ³•ä¸­çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚</p>
<blockquote>
<p>ä¸»è¦è§’è‰²</p>
<ul>
<li><strong>æŠ½è±¡ç±»ï¼ˆAbstract Classï¼‰</strong> ï¼šå®šä¹‰ç®—æ³•éª¨æ¶å’ŒæŠ½è±¡æ“ä½œ</li>
<li><strong>å…·ä½“ç±»ï¼ˆConcrete Classï¼‰</strong> ï¼šå®ç°æŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ“ä½œ</li>
</ul>
</blockquote>
<h3 data-id="heading-2">02 åŸºç¡€ä»£ç å®ç°</h3>
<p>ä»¥æ³¡èŒ¶ä¸ºä¾‹ï¼Œæ•´ä¸ªæµç¨‹å¯ä»¥ç®€åŒ–ä¸ºä¸‰ä¸ªæ­¥éª¤ çƒ§å¼€æ°´ã€æ”¾èŒ¶å¶ã€å€’å…¥å¼€æ°´ï¼Œæˆ‘ä»¬å°†æ”¾èŒ¶å¶å®šä¹‰ä¸ºå¯å˜çš„éƒ¨åˆ†ï¼Œæ¯”å¦‚æœ‰äººå–œæ¬¢ç»¿èŒ¶ã€æœ‰äººå–œæ¬¢çº¢èŒ¶ã€æœ‰äººå–œæ¬¢ç«ç‘°èŠ±èŒ¶ã€‚</p>
<p>é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªæŠ½è±¡æ¨¡æ¿ï¼Œå®šä¹‰æ³¡èŒ¶æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> æ³¡èŒ¶æŠ½è±¡æ¨¡æ¿
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AbstractMakeTeaTemplate</span> {

    <span class="hljs-comment">/**
     * æ³¡èŒ¶
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">makeTea</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// 1. çƒ§å¼€æ°´</span>
        boilWater();
        <span class="hljs-comment">// 2. æ”¾å…¥èŒ¶å¶</span>
        putTea();
        <span class="hljs-comment">// 3. åŠ å…¥æ°´</span>
        addWater();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">boilWater</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"çƒ§å¼€æ°´"</span>);
    }

    <span class="hljs-comment">/**
     * æ”¾å…¥èŒ¶å¶
     */</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">putTea</span><span class="hljs-params">()</span>;

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addWater</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"åŠ å…¥æ°´"</span>);
    }
}
</code></pre>
<p>makeTea() æ–¹æ³•å°±æ˜¯æ³¡èŒ¶æ–¹æ³•ï¼Œçƒ§å¼€æ°´ã€æ·»åŠ å¼€æ°´æ˜¯å¿…éœ€çš„æ­¥éª¤ï¼Œå”¯æœ‰æ”¾å…¥èŒ¶å¶æ˜¯å¯å˜çš„ï¼Œä¸‹é¢æˆ‘ä»¬åˆ†åˆ«å®ç°ä½¿ç”¨ä¸åŒèŒ¶å¶æ³¡èŒ¶çš„ä¸šåŠ¡ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> ç»¿èŒ¶
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GreenTea</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractMakeTeaTemplate</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">putTea</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"æ”¾å…¥é¾™äº•èŒ¶å¶"</span>);
    }
}
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> çº¢èŒ¶
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedTea</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractMakeTeaTemplate</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">putTea</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"æ”¾å…¥æ™®å°”èŒ¶å¶"</span>);
    }
}
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> ç«ç‘°èŒ¶
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RoseTea</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractMakeTeaTemplate</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">putTea</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"æ”¾å…¥ç«ç‘°èŠ±èŒ¶å¶"</span>);
    }
}
</code></pre>
<p>ä½¿ç”¨mainæ–¹æ³•æµ‹è¯•ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
    <span class="hljs-comment">// 1. åˆ¶ä½œç»¿èŒ¶</span>
    <span class="hljs-type">AbstractMakeTeaTemplate</span> <span class="hljs-variable">greenTea</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">GreenTea</span>();
    greenTea.makeTea();
}
</code></pre>
<p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs">çƒ§å¼€æ°´
æ”¾å…¥ç»¿èŒ¶
åŠ å…¥æ°´
</code></pre>
<p>ç”±æ­¤ï¼Œæˆ‘ä»¬é€šè¿‡æ¨¡æ¿æ–¹å¼ï¼Œå°è£…äº†ä¸€ä¸ªæ³¡èŒ¶çš„æµç¨‹ï¼Œä½†å¯¹äºå…¶ä¸­å¯å˜çš„éƒ¨åˆ†æ”¾åˆ°å­ç±»å»å®ç°ã€‚åç»­å¦‚æœæœ‰æ–°ä¸šåŠ¡åˆ°æ¥ï¼Œæ¯”å¦‚è¦æ³¡å…¶ä»–èŒ¶å¶ï¼Œåªéœ€è¦å®ç°æ³¡èŒ¶æ¨¡æ¿ï¼Œé‡å†™èŒ¶å¶ç›¸å…³çš„æ–¹æ³•å³å¯ã€‚</p>
<h3 data-id="heading-3">03 é¡¹ç›®å®æˆ˜</h3>
<p>ä»¥ä¸Šåªæ˜¯ä¸€ä¸ªç®€å•çš„å°demoï¼ŒçœŸå®ä¸šåŠ¡ä¸­å¾ˆå°‘ä¼šæœ‰æ³¡èŒ¶çš„æƒ…å†µã€‚é¡¹ç›®å®æˆ˜ä¸­æˆ‘ä»¬ä»¥æ•°æ®å¯¼å‡ºä¸ºä¾‹ï¼Œçœ‹ä¸‹å¯¼å‡ºæ¨¡æ¿çš„è®¾è®¡å’Œå®ç°ï¼ˆæ•°æ®å¯¼å‡ºå€ŸåŠ©easy-excelå®Œæˆï¼‰ã€‚
é¦–å…ˆå®šä¹‰å¯¼å‡ºæµç¨‹ï¼šå‚æ•°æ ¡éªŒ-ã€‹è¯»å–æ•°æ®-ã€‹å¯¼å‡º-ã€‹å¯¼å‡ºåé€»è¾‘å¤„ç†
<br/></p>
<h4 data-id="heading-4">æŠ½è±¡æ¨¡æ¿ï¼š</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> æ•°æ®å¯¼å‡ºæ¨¡æ¿
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AbstractExportTemplate</span>&lt;P, T&gt; {

    <span class="hljs-comment">/**
     * å¯¼å‡ºæ•°æ®
     * &lt;p&gt;å£°æ˜ä¸ºfinalç±»å‹ï¼Œé˜²æ­¢å­ç±»é‡å†™ï¼Œç¡®ä¿å¯¼å‡ºæµç¨‹çš„ä¸€è‡´æ€§&lt;/p&gt;
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">export</span><span class="hljs-params">(BaseExportParam&lt;P&gt; baseExportParam)</span> {
        <span class="hljs-comment">// 1. æ ¡éªŒå‚æ•°</span>
        validateParams(baseExportParam.getParams());
        <span class="hljs-comment">// 2. è¯»å–æ•°æ®</span>
        List&lt;T&gt; data = readData(baseExportParam.getParams());
        <span class="hljs-comment">// 3. å¯¼å‡ºæ•°æ®</span>
        doExport(baseExportParam, data);
        <span class="hljs-comment">// 4. å¯¼å‡ºå®Œæˆåå¤„ç†</span>
        afterExport();
    }

    <span class="hljs-comment">/**
     * è·å–å¯¼å‡ºå®ä½“çš„Classå¯¹è±¡
     * &lt;p&gt;å­ç±»å¿…é¡»å®ç°æ­¤æ–¹æ³•æä¾›å…·ä½“çš„å®ä½“ç±»å‹&lt;/p&gt;
     */</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">abstract</span> Class&lt;T&gt; <span class="hljs-title function_">getEntityClass</span><span class="hljs-params">()</span>;

    <span class="hljs-comment">/**
     * è¯»å–æ•°æ®
     * &lt;p&gt;å£°æ˜ä¸ºabstractç±»å‹ï¼Œå¼ºåˆ¶è¦æ±‚å­ç±»å®ç°ï¼Œç¡®ä¿æ•°æ®è¯»å–çš„ä¸€è‡´æ€§&lt;/p&gt;
     */</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">abstract</span> List&lt;T&gt; <span class="hljs-title function_">readData</span><span class="hljs-params">(P params)</span>;

    <span class="hljs-comment">/**
     * æ ¡éªŒå‚æ•°
     * &lt;p&gt;å­ç±»æ ¹æ®è‡ªèº«ä¸šåŠ¡æƒ…å†µï¼Œçœ‹æ˜¯å¦éœ€è¦è¿›è¡Œå‚æ•°æ ¡éªŒ&lt;/p&gt;
     */</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">validateParams</span><span class="hljs-params">(P params)</span> {
    }

    <span class="hljs-comment">/**
     * å¯¼å‡ºæ•°æ®
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doExport</span><span class="hljs-params">(BaseExportParam&lt;P&gt; baseExportParam, List&lt;T&gt; data)</span> {
        <span class="hljs-type">HttpServletResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> baseExportParam.getResponse();
        response.setContentType(<span class="hljs-string">"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"</span>);
        response.setCharacterEncoding(<span class="hljs-string">"utf-8"</span>);
        <span class="hljs-comment">// è¿™é‡ŒURLEncoder.encodeå¯ä»¥é˜²æ­¢ä¸­æ–‡ä¹±ç </span>
        <span class="hljs-type">String</span> <span class="hljs-variable">fileName</span> <span class="hljs-operator">=</span> URLEncoder.encode(baseExportParam.getFileName() + <span class="hljs-string">"_"</span> + System.currentTimeMillis(), StandardCharsets.UTF_8);
        response.setHeader(<span class="hljs-string">"Content-disposition"</span>, <span class="hljs-string">"attachment;filename="</span> + fileName + <span class="hljs-string">".xlsx"</span>);

        <span class="hljs-keyword">try</span> {
            EasyExcelFactory.write(response.getOutputStream(), getEntityClass())
                    .sheet(baseExportParam.getFileName())
                    .doWrite(data);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"å¯¼å‡ºæ•°æ®å¤±è´¥"</span>, e);
        }
    }

    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterExport</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// å¯¼å‡ºå®Œæˆåå¤„ç†é€»è¾‘ï¼ˆå¯ç©ºï¼‰</span>
    }
}
</code></pre>
<h4 data-id="heading-5">æ¨¡æ¿å…¥å‚åŸºç±»ï¼š</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> å¯¼å‡ºåŸºç±»
 */</span>
<span class="hljs-meta">@Getter</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseExportParam</span>&lt;P&gt; {

    <span class="hljs-comment">/**
     * å¯¼å‡ºå‚æ•°
     */</span>
    <span class="hljs-keyword">protected</span> P params;
    <span class="hljs-comment">/**
     * å¯¼å‡ºæ–‡ä»¶å
     */</span>
    <span class="hljs-keyword">protected</span> String fileName;
    <span class="hljs-comment">/**
     * å¯¼å‡ºå“åº”
     */</span>
    <span class="hljs-keyword">protected</span> HttpServletResponse response;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">BaseExportParam</span><span class="hljs-params">(P params, String fileName, HttpServletResponse response)</span> {
        <span class="hljs-built_in">this</span>.params = params;
        <span class="hljs-built_in">this</span>.fileName = fileName;
        <span class="hljs-built_in">this</span>.response = response;
    }
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°å¯¼å‡ºçš„æµç¨‹æ–¹æ³•æ˜¯exportï¼Œé»˜è®¤æ·»åŠ äº†finalä¿®é¥°ï¼Œé˜²æ­¢å­ç±»é‡å†™ä»è€Œæ”¹å˜å¯¼å‡ºæµç¨‹å®šä¹‰ã€‚çœŸæ­£æ‰§è¡Œçš„å¯¼å‡ºçš„æ–¹æ³•æ˜¯doExportã€‚å­ç±»éœ€è¦å®ç°getEntityClassã€readDataæ–¹æ³•ï¼Œå¦å¤–ä¸¤ä¸ªæ–¹æ³•ï¼ˆvalidateParamsã€afterExportï¼‰æ¨¡æ¿ç±»å·²ç»åšäº†é»˜è®¤å®ç°ï¼Œå­ç±»è§†æƒ…å†µé€‰æ‹©æ˜¯å¦å®ç°ã€‚</p>
<h4 data-id="heading-6">ç”¨æˆ·å¯¼å‡º</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> ç”¨æˆ·å¯¼å‡ºæŸ¥è¯¢å‚æ•°
 */</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserQo</span> {
    <span class="hljs-comment">/**
     * ç”¨æˆ·id
     */</span>
    <span class="hljs-keyword">private</span> Long id;
     <span class="hljs-comment">/**
     * ç”¨æˆ·å
     */</span>
    <span class="hljs-keyword">private</span> String name;
}
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> ç”¨æˆ·å¯¼å‡ºVO
 */</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserVo</span> {
    <span class="hljs-meta">@ExcelProperty("ç”¨æˆ·id")</span>
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-meta">@ExcelProperty("ç”¨æˆ·å")</span>
    <span class="hljs-keyword">private</span> String username;
    <span class="hljs-meta">@ExcelProperty("æ‰‹æœºå·")</span>
    <span class="hljs-keyword">private</span> String phone;
}
</code></pre>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-comment">/**
 * @description ç”¨æˆ·å¯¼å‡ºä¸šåŠ¡ç±»
 */</span>
<span class="hljs-meta">@Component</span>
public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserExportService</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractExportTemplate&lt;UserQo</span>, <span class="hljs-title">UserVo&gt;</span> </span>{
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-type">Class</span>&lt;<span class="hljs-type">UserVo</span>&gt; getEntityClass() {
        <span class="hljs-keyword">return</span> <span class="hljs-type">UserVo</span>.<span class="hljs-keyword">class</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-type">List</span>&lt;<span class="hljs-type">UserVo</span>&gt; readData(<span class="hljs-type">UserQo</span> params) {
        <span class="hljs-comment">// 1. æ¨¡æ‹Ÿä»æ•°æ®åº“æŸ¥è¯¢ç”¨æˆ·æ•°æ®</span>
        <span class="hljs-type">UserVo</span> userVo = <span class="hljs-keyword">new</span> <span class="hljs-type">UserVo</span>();
        userVo.setId(params.getId());
        userVo.setUsername(<span class="hljs-string">"zhangsan"</span>);
        userVo.setPhone(<span class="hljs-string">"13800000000"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-type">List</span>.of(userVo);
    }
}
</code></pre>
<p>ç”¨æˆ·å¯¼å‡ºserviceæ·»åŠ äº†@Componentæ³¨è§£ï¼Œæ­£å¸¸æƒ…å†µå¯¼å‡ºæ•°æ®ä»æ•°æ®åº“ä¸­æŸ¥è¯¢è€Œæ¥ï¼Œæ‰€ä»¥çœŸå®ä¸šåŠ¡ä¸­éœ€è¦å°†æ¨¡æ‹Ÿæ•°æ®æ”¹ä¸ºä»æ•°æ®åº“æŸ¥è¯¢å³å¯ã€‚
<br/>
æˆ‘ä»¬å†™ä¸ªæµ‹è¯•ç±»æ¥è¯•ä¸‹:</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@RestController</span>
<span class="hljs-variable">@RequestMapping</span>(<span class="hljs-string">"/template"</span>)
public class TemplateController {

    <span class="hljs-variable">@Resource</span>
    private UserExportService userExportService;

    <span class="hljs-variable">@GetMapping</span>(<span class="hljs-string">"/user"</span>)
    public void <span class="hljs-built_in">export</span>(UserQo params, HttpServletResponse response) {
        <span class="hljs-comment">// 1. å¯¼å‡ºç”¨æˆ·æ•°æ®</span>
        <span class="hljs-selector-tag">userExportService</span><span class="hljs-selector-class">.export</span>(new <span class="hljs-built_in">BaseExportParam</span>(params, <span class="hljs-string">"user-info"</span>, response));
    }
}
</code></pre>
<p>ç»“æœï¼šå¯ä»¥æ­£å¸¸å¯¼å‡ºexcelã€‚
<br/></p>
<blockquote>
<p>å¦‚æœæœ‰æ–°çš„ä¸šåŠ¡ä¹Ÿéœ€è¦å¯¼å‡ºï¼Œæˆ‘ä»¬åªéœ€è¦å®ç°å¯¼å‡ºæ¨¡æ¿å³å¯ï¼Œæ¯”å¦‚åŸå¸‚ä¿¡æ¯ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
</blockquote>
<h4 data-id="heading-7">åŸå¸‚ä¿¡æ¯</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> åŸå¸‚å¯¼å‡ºæŸ¥è¯¢å‚æ•°
 */</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CityQo</span> {
    <span class="hljs-comment">/**
     * åŸå¸‚id
     */</span>
    <span class="hljs-keyword">private</span> Long id;
}
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> åŸå¸‚ä¿¡æ¯å¯¼å‡ºVO
 */</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CityVo</span> {
    <span class="hljs-meta">@ExcelProperty("åŸå¸‚id")</span>
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-meta">@ExcelProperty("åŸå¸‚åç§°")</span>
    <span class="hljs-keyword">private</span> String cityName;
}
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> åŸå¸‚å¯¼å‡ºä¸šåŠ¡ç±»
 */</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CityExportService</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractExportTemplate</span>&lt;CityQo, CityVo&gt; {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> Class&lt;CityVo&gt; <span class="hljs-title function_">getEntityClass</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> CityVo.class;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> List&lt;CityVo&gt; <span class="hljs-title function_">readData</span><span class="hljs-params">(CityQo params)</span> {
        <span class="hljs-comment">// 1. æ¨¡æ‹Ÿä»æ•°æ®åº“æŸ¥è¯¢åŸå¸‚æ•°æ®</span>
        <span class="hljs-type">CityVo</span> <span class="hljs-variable">cityVo</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CityVo</span>();
        cityVo.setId(params.getId());
        cityVo.setCityName(<span class="hljs-string">"beijing"</span>);
        <span class="hljs-keyword">return</span> List.of(cityVo);
    }
}
</code></pre>
<p>æ–°å¢ä¸€ä¸ªæµ‹è¯•æ–¹æ³•è¯•è¯•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/template")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TemplateController</span> {

    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> UserExportService userExportService;
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> CityExportService cityExportService;

    <span class="hljs-meta">@GetMapping("/user")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">export</span><span class="hljs-params">(UserQo params, HttpServletResponse response)</span> {
        <span class="hljs-comment">// 1. å¯¼å‡ºç”¨æˆ·æ•°æ®</span>
        userExportService.export(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BaseExportParam</span>(params, <span class="hljs-string">"user-info"</span>, response));
    }

    <span class="hljs-meta">@GetMapping("/city")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">exportCity</span><span class="hljs-params">(CityQo params, HttpServletResponse response)</span> {
        <span class="hljs-comment">// 1. å¯¼å‡ºåŸå¸‚æ•°æ®</span>
        cityExportService.export(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BaseExportParam</span>(params, <span class="hljs-string">"city-info"</span>, response));
    }
}
</code></pre>
<p>å¯¼å‡ºåŠŸèƒ½å®Œå…¨OKğŸ˜€ğŸ˜€ğŸ˜€ğŸ˜€</p>
<h3 data-id="heading-8">æ¨¡å¼ä¼˜åŠ¿</h3>
<ol>
<li><strong>ä»£ç å¤ç”¨</strong>ï¼šå°†å…¬å…±ä»£ç æ”¾åœ¨æŠ½è±¡ç±»ä¸­ï¼Œé¿å…ä»£ç é‡å¤</li>
<li><strong>æ‰©å±•æ€§å¥½</strong>ï¼šé€šè¿‡å­ç±»æ‰©å±•æ–°çš„å®ç°ï¼Œç¬¦åˆå¼€é—­åŸåˆ™</li>
<li><strong>ä¾¿äºç»´æŠ¤</strong>ï¼šç®—æ³•ç»“æ„å›ºå®šï¼Œä¿®æ”¹åªéœ€è¦åœ¨ç‰¹å®šä½ç½®è¿›è¡Œ</li>
<li><strong>æ§åˆ¶åè½¬</strong>ï¼šçˆ¶ç±»æ§åˆ¶æ•´ä½“æµç¨‹ï¼Œå­ç±»å®ç°å…·ä½“ç»†èŠ‚</li>
</ol>
<h3 data-id="heading-9">é€‚ç”¨åœºæ™¯</h3>
<ol>
<li>å¤šä¸ªç±»æœ‰ç›¸åŒçš„æ–¹æ³•ï¼Œä½†å…·ä½“å®ç°ä¸åŒ</li>
<li>éœ€è¦æ§åˆ¶å­ç±»çš„æ‰©å±•ï¼Œåªå…è®¸æ‰©å±•ç‰¹å®šæ­¥éª¤</li>
<li>é‡è¦å¤æ‚çš„ç®—æ³•ï¼Œéœ€è¦åˆ†è§£ä¸ºå¤šä¸ªæ­¥éª¤</li>
<li>æ¡†æ¶è®¾è®¡ï¼Œå®šä¹‰æµç¨‹éª¨æ¶ï¼Œè®©ç”¨æˆ·å®ç°å…·ä½“æ­¥éª¤</li>
</ol>
<h3 data-id="heading-10">æ³¨æ„äº‹é¡¹</h3>
<ol>
<li>æ¨¡æ¿æ–¹æ³•åº”è¯¥å£°æ˜ä¸ºfinalï¼Œé˜²æ­¢å­ç±»é‡å†™ç®—æ³•éª¨æ¶</li>
<li>åˆç†ä½¿ç”¨é’©å­æ–¹æ³•ï¼Œæä¾›çµæ´»çš„æ‰©å±•ç‚¹</li>
<li>é¿å…è¿‡å¤šçš„æŠ½è±¡æ–¹æ³•ï¼Œä¼šå¢åŠ å­ç±»çš„å®ç°è´Ÿæ‹…</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å­¦è€Œæ—¶ä¹ ä¹‹ï¼šC++ä¸­çš„æšä¸¾]]></title>    <link>https://juejin.cn/post/7571729676343918655</link>    <guid>https://juejin.cn/post/7571729676343918655</guid>    <pubDate>2025-11-13T02:08:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571729676343918655" data-draft-id="7571729682679513138" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å­¦è€Œæ—¶ä¹ ä¹‹ï¼šC++ä¸­çš„æšä¸¾"/> <meta itemprop="keywords" content="C++"/> <meta itemprop="datePublished" content="2025-11-13T02:08:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç…¤çƒç‹å­"/> <meta itemprop="url" content="https://juejin.cn/user/4088439235949739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å­¦è€Œæ—¶ä¹ ä¹‹ï¼šC++ä¸­çš„æšä¸¾
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4088439235949739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç…¤çƒç‹å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T02:08:02.000Z" title="Thu Nov 13 2025 02:08:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>C++ ä¸­çš„æšä¸¾</strong></h2>
<p>åœ¨ C++ ä¸­ï¼Œæšä¸¾æ˜¯ä¸€ç§ç”¨æˆ·å®šä¹‰çš„æ•°æ®ç±»å‹ï¼Œå®ƒç”±ä¸€ç»„å‘½åçš„æ•´å‹å¸¸é‡ç»„æˆã€‚</p>
<p>å®ƒæœ‰åŠ©äºä¸ºæ•´æ•°å€¼èµ‹äºˆæœ‰æ„ä¹‰çš„åç§°ï¼Œä»è€Œæé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚
å½“æˆ‘ä»¬æœ‰ä¸€ä¸ªå¯èƒ½å€¼æ•°é‡è¾ƒå°‘çš„é›†åˆï¼ˆä¾‹å¦‚æ–¹å‘ã€æ˜ŸæœŸå‡ ç­‰ï¼‰æ—¶ï¼Œå®ƒå°¤å…¶æœ‰ç”¨ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-comment">// å®šä¹‰æšä¸¾</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">direction</span>
{
    EAST,  <span class="hljs-comment">// ä¸œ</span>
    NORTH, <span class="hljs-comment">// åŒ—</span>
    WEST,  <span class="hljs-comment">// è¥¿</span>
    SOUTH  <span class="hljs-comment">// å—</span>
};

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">// åˆ›å»ºæšä¸¾å˜é‡</span>
    direction dir = NORTH;

    cout &lt;&lt; dir;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<pre><code class="hljs">1
</code></pre>
<h3 data-id="heading-1">1.åˆ›å»ºæšä¸¾ç±»å‹</h3>
<p>åœ¨åˆ›å»ºæšä¸¾ç±»å‹çš„å˜é‡ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»å…ˆå®šä¹‰è¿™ä¸ªæšä¸¾ç±»å‹ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">enum_name</span> { 
    name1, name2, name3, ... 
};
</code></pre>
<p>å…¶ä¸­ <code>name1</code>ã€<code>name2</code>ã€â€¦ æ˜¯å‘½åå¸¸é‡ï¼Œå¿…é¡»æ˜¯å”¯ä¸€çš„æ ‡è¯†ç¬¦ã€‚<br/>
é»˜è®¤æƒ…å†µä¸‹ï¼Œæšä¸¾ä¸­çš„ç¬¬ä¸€ä¸ªåç§°è¢«èµ‹äºˆæ•´æ•°å€¼ 0ï¼Œåé¢çš„åç§°ä¾æ¬¡é€’å¢ 1ã€‚</p>
<p>ç„¶åï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºè¯¥æšä¸¾ç±»å‹çš„å˜é‡ï¼Œå¹¶æŠŠæšä¸¾ä¸­å®šä¹‰çš„æŸä¸ªå‘½åå¸¸é‡èµ‹ç»™å®ƒï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp">enum_name var;
</code></pre>
<h3 data-id="heading-2">2.ä¿®æ”¹å‘½åå¸¸é‡çš„å€¼</h3>
<p>å¦‚æœéœ€è¦ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹åŠ¨ç»™æšä¸¾æˆå‘˜èµ‹å€¼ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">enum_name</span> { 
    name1 = val1, name2 = val2, name3, ... 
};
</code></pre>
<p><code>val1</code>ã€<code>val2</code> â€¦ å¿…é¡»æ˜¯æ•´æ•°ã€‚<br/>
ä¸éœ€è¦ç»™æ‰€æœ‰å‘½åå¸¸é‡éƒ½æŒ‡å®šå€¼ï¼›å¦‚æœå½“å‰å‘½åå¸¸é‡çš„å€¼æ˜¯ xï¼Œé‚£ä¹ˆåç»­çš„å€¼ä¼šä¾æ¬¡é€’å¢ 1ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-comment">// å®šä¹‰æšä¸¾</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">fruit</span>
{
    APPLE,      <span class="hljs-comment">// é»˜è®¤ 0</span>
    BANANA = <span class="hljs-number">5</span>, <span class="hljs-comment">// æ‰‹åŠ¨è®¾ä¸º 5</span>
    ORANGE      <span class="hljs-comment">// è‡ªåŠ¨ä¸º 6</span>
};

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">// åˆ›å»ºæšä¸¾å˜é‡</span>
    fruit f = BANANA;
    cout &lt;&lt; f &lt;&lt; endl;  <span class="hljs-comment">// è¾“å‡º 5</span>

    <span class="hljs-comment">// æ”¹å˜å€¼</span>
    f = ORANGE;
    cout &lt;&lt; f;          <span class="hljs-comment">// è¾“å‡º 6</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<pre><code class="hljs">5
6
</code></pre>
<p>æšä¸¾ç±»ï¼ˆEnum Classesï¼‰<br/>
C++11 å¼•å…¥äº† <strong>enum class</strong>ï¼Œæä¾›äº†æ›´å¼ºçš„ç±»å‹å®‰å…¨æ€§ã€‚å®ƒé€šè¿‡ç»™å¸¸é‡åå¢åŠ ä½œç”¨åŸŸæ¥è§£å†³å‘½åå†²çªï¼ŒåŒæ—¶ä¹Ÿè¦æ±‚ <strong>æ‰‹åŠ¨å¼ºåˆ¶ç±»å‹è½¬æ¢</strong> æ‰èƒ½å°†æšä¸¾å€¼è½¬ä¸ºæ•´æ•°ã€‚</p>
<h3 data-id="heading-3">3.åˆ›å»ºæšä¸¾ç±»</h3>
<p>åªéœ€åœ¨æ™®é€š enum å£°æ˜å‰åŠ ä¸Šå…³é”®å­— <strong>class</strong> å³å¯ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">enum class</span> <span class="hljs-title class_">Day</span>
{
    Sunday = <span class="hljs-number">1</span>,
    Monday,
    Tuesday,
    Wednesday,
    Thursday,
    Friday,
    Saturday
};
</code></pre>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-comment">// å®šä¹‰æšä¸¾ç±»</span>
<span class="hljs-keyword">enum class</span> <span class="hljs-title class_">Day</span>
{
    Sunday = <span class="hljs-number">1</span>,
    Monday,
    Tuesday,
    Wednesday,
    Thursday,
    Friday,
    Saturday
};

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">// åˆå§‹åŒ–</span>
    Day today = Day::Thursday;

    <span class="hljs-comment">// æ‰“å°æšä¸¾å€¼ï¼ˆéœ€å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼‰</span>
    cout &lt;&lt; <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(today);  <span class="hljs-comment">// è¾“å‡º 5</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>é”™è¯¯ç¤ºä¾‹ï¼š<br/>
å¦‚æœç›´æ¥å†™å¸¸é‡åè€Œä¸åŠ ä½œç”¨åŸŸï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp">Day today = Thursday;  <span class="hljs-comment">// âŒ é”™è¯¯</span>
</code></pre>
<p><strong>ç¼–è¯‘é”™è¯¯ä¿¡æ¯ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql">main.cpp: <span class="hljs-keyword">In</span> <span class="hljs-keyword">function</span> â€˜<span class="hljs-type">int</span> main()â€™:
main.cpp:<span class="hljs-number">12</span>:<span class="hljs-number">17</span>: error: â€˜Thursdayâ€™ was <span class="hljs-keyword">not</span> declared <span class="hljs-keyword">in</span> this <span class="hljs-keyword">scope</span>; did you mean â€˜<span class="hljs-keyword">Day</span>::Thursdayâ€™?
   <span class="hljs-number">12</span> <span class="hljs-operator">|</span>     <span class="hljs-keyword">Day</span> today <span class="hljs-operator">=</span> Thursday;
      <span class="hljs-operator">|</span>                 <span class="hljs-operator">^</span><span class="hljs-operator">~</span><span class="hljs-operator">~</span><span class="hljs-operator">~</span><span class="hljs-operator">~</span><span class="hljs-operator">~</span><span class="hljs-operator">~</span><span class="hljs-operator">~</span>
      <span class="hljs-operator">|</span>                 <span class="hljs-keyword">Day</span>::Thursday
main.cpp:<span class="hljs-number">6</span>:<span class="hljs-number">28</span>: note: â€˜<span class="hljs-keyword">Day</span>::Thursdayâ€™ declared here
    <span class="hljs-number">6</span> <span class="hljs-operator">|</span>                 Wednesday, Thursday, Friday,
      <span class="hljs-operator">|</span>                            <span class="hljs-operator">^</span><span class="hljs-operator">~</span><span class="hljs-operator">~</span><span class="hljs-operator">~</span><span class="hljs-operator">~</span><span class="hljs-operator">~</span><span class="hljs-operator">~</span><span class="hljs-operator">~</span>
</code></pre>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>enum class</code> å¯ä»¥é¿å…å‘½åå†²çªã€‚</li>
<li>æšä¸¾å€¼å¿…é¡»é€šè¿‡ <code>EnumName::Value</code> çš„å½¢å¼è®¿é—®ã€‚</li>
<li>è½¬æ¢ä¸ºæ•´æ•°æ—¶éœ€è¦ä½¿ç”¨ <code>static_cast&lt;int&gt;(...)</code>ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[NocoBase æœ¬å‘¨æ›´æ–°æ±‡æ€»ï¼šä¼˜åŒ–åŠç¼ºé™·ä¿®å¤]]></title>    <link>https://juejin.cn/post/7571726099689685011</link>    <guid>https://juejin.cn/post/7571726099689685011</guid>    <pubDate>2025-11-13T03:18:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571726099689685011" data-draft-id="7571726099689668627" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="NocoBase æœ¬å‘¨æ›´æ–°æ±‡æ€»ï¼šä¼˜åŒ–åŠç¼ºé™·ä¿®å¤"/> <meta itemprop="keywords" content="å¼€æº,èµ„è®¯,ä½ä»£ç "/> <meta itemprop="datePublished" content="2025-11-13T03:18:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="NocoBase"/> <meta itemprop="url" content="https://juejin.cn/user/180779873743566"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            NocoBase æœ¬å‘¨æ›´æ–°æ±‡æ€»ï¼šä¼˜åŒ–åŠç¼ºé™·ä¿®å¤
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180779873743566/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    NocoBase
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T03:18:07.000Z" title="Thu Nov 13 2025 03:18:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fweekly-updates-20251113" target="_blank" title="https://www.nocobase.com/cn/blog/weekly-updates-20251113" ref="nofollow noopener noreferrer">www.nocobase.com/cn/blog/weeâ€¦</a></p>
<p>æ±‡æ€»ä¸€å‘¨äº§å“æ›´æ–°æ—¥å¿—ï¼Œæœ€æ–°å‘å¸ƒå¯ä»¥<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Ftimeline" target="_blank" title="https://www.nocobase.com/cn/blog/timeline" ref="nofollow noopener noreferrer">å‰å¾€æˆ‘ä»¬çš„åšå®¢æŸ¥çœ‹</a>ã€‚</p>
<p><strong>NocoBase ç›®å‰æ›´æ–°åŒ…æ‹¬çš„ç‰ˆæœ¬æ›´æ–°åŒ…æ‹¬ä¸‰ä¸ªåˆ†æ”¯ï¼š<code>main</code> ï¼Œ<code>next</code>å’Œ <code>develop</code>ã€‚</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed1ee51ad5f644db988e99b36b5e2385~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763608687&amp;x-signature=jDFPoduo6kK3yOqpVrkrpABp0%2F8%3D" alt="version.png" loading="lazy"/></p>
<p><code>main</code> ï¼šæˆªæ­¢ç›®å‰æœ€ç¨³å®šçš„ç‰ˆæœ¬ï¼Œæ¨èå®‰è£…æ­¤ç‰ˆæœ¬ã€‚</p>
<p><code>next</code>ï¼šåŒ…å«å³å°†å‘å¸ƒçš„æ–°åŠŸèƒ½ï¼Œç»è¿‡åˆæ­¥æµ‹è¯•çš„ç‰ˆæœ¬ï¼Œå¯èƒ½å­˜åœ¨éƒ¨åˆ†å·²çŸ¥æˆ–æœªçŸ¥é—®é¢˜ã€‚ä¸»è¦é¢å‘æµ‹è¯•ç”¨æˆ·ï¼Œç”¨äºæ”¶é›†åé¦ˆå’Œè¿›ä¸€æ­¥ä¼˜åŒ–åŠŸèƒ½ã€‚é€‚åˆæ„¿æ„æå‰ä½“éªŒæ–°åŠŸèƒ½å¹¶æä¾›åé¦ˆçš„æµ‹è¯•ç”¨æˆ·ã€‚</p>
<p><code>develop</code>ï¼šå¼€å‘ä¸­çš„ç‰ˆæœ¬ï¼ŒåŒ…å«æœ€æ–°çš„åŠŸèƒ½ä»£ç ï¼Œå¯èƒ½å°šæœªå®Œæˆæˆ–å­˜åœ¨è¾ƒå¤šä¸ç¨³å®šå› ç´ ï¼Œä¸»è¦ç”¨äºå†…éƒ¨å¼€å‘å’Œå¿«é€Ÿè¿­ä»£ã€‚é€‚åˆå¯¹äº§å“åŠŸèƒ½å‰æ²¿å‘å±•æ„Ÿå…´è¶£çš„æŠ€æœ¯ç”¨æˆ·ï¼Œä½†å¯èƒ½å­˜åœ¨è¾ƒå¤šé—®é¢˜æˆ–ä¸å®Œæ•´åŠŸèƒ½ï¼Œä¸å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-0">main</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d633a58f233142449a9998317877ce06~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763608687&amp;x-signature=pOlyTTwI6OhHH8edoT6dGutlwIo%3D" alt="main.png" loading="lazy"/></p>
<h3 data-id="heading-1"><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fv1.9.6" target="_blank" title="https://www.nocobase.com/cn/blog/v1.9.6" ref="nofollow noopener noreferrer">v1.9.6</a></h3>
<p><em>å‘å¸ƒæ—¶é—´ï¼š2025-11-12</em></p>
<h3 data-id="heading-2">ğŸ› ä¿®å¤</h3>
<ul>
<li><strong>[client]</strong> ä¿®å¤æ‹–æ‹½å¼•ç”¨æ¨¡æ¿åå†åˆ é™¤å¼•ç”¨æ¨¡æ¿è€Œå¯¼è‡´çš„å¤åˆ¶æ¨¡æ¿ä¸æ˜¾ç¤ºçš„é—®é¢˜ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7847" target="_blank" title="https://github.com/nocobase/nocobase/pull/7847" ref="nofollow noopener noreferrer">#7847</a>) by @zhangzhonghe</li>
<li><strong>[utils]</strong> ä¸º intersect ç­–ç•¥å¢åŠ å¯¹è±¡ç±»å‹æ”¯æŒ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7840" target="_blank" title="https://github.com/nocobase/nocobase/pull/7840" ref="nofollow noopener noreferrer">#7840</a>) by @chenos</li>
<li><strong>[æ•°æ®å¯è§†åŒ–ï¼šEChrats]</strong> ä¿®å¤ ECharts é€‰é¡¹é…ç½® labelType ä¸ç”Ÿæ•ˆçš„é—®é¢˜ by @heziqiang</li>
<li><strong>[é‚®ä»¶ç®¡ç†]</strong> æ²¡æœ‰æ—¶é—´æˆ³çš„æƒ…å†µä¸‹åŒæ­¥å¾®è½¯é‚®ä»¶å·²è¯»çŠ¶æ€ by @jiannx</li>
</ul>
<h3 data-id="heading-3"><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fv1.9.5" target="_blank" title="https://www.nocobase.com/cn/blog/v1.9.5" ref="nofollow noopener noreferrer">v1.9.5</a></h3>
<p><em>å‘å¸ƒæ—¶é—´ï¼š2025-11-10</em></p>
<h3 data-id="heading-4">ğŸ› ä¿®å¤</h3>
<ul>
<li><strong>[å·¥ä½œæµï¼šå®¡æ‰¹]</strong> ä¿®å¤é‡æŸ¥å…³ç³»æ•°æ®æ—¶æœªå±è”½ä¸»è¡¨å­—æ®µçš„é—®é¢˜ by @mytharcher</li>
<li><strong>[é‚®ä»¶ç®¡ç†]</strong> ä¿®å¤ Outlook å†…æ•›å›¾ç‰‡å’ŒåŒæ­¥é—®é¢˜ by @jiannx</li>
</ul>
<h3 data-id="heading-5"><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fv1.9.4" target="_blank" title="https://www.nocobase.com/cn/blog/v1.9.4" ref="nofollow noopener noreferrer">v1.9.4</a></h3>
<p><em>å‘å¸ƒæ—¶é—´ï¼š2025-11-10</em></p>
<h3 data-id="heading-6">ğŸš€ ä¼˜åŒ–</h3>
<ul>
<li><strong>[æƒé™æ§åˆ¶]</strong> ä¼˜åŒ–å…³ç³»å­—æ®µå…³è”æ“ä½œçš„æƒé™æ§åˆ¶é€»è¾‘ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7800" target="_blank" title="https://github.com/nocobase/nocobase/pull/7800" ref="nofollow noopener noreferrer">#7800</a>) by @2013xile</li>
<li><strong>[å·¥ä½œæµï¼šJavaScript èŠ‚ç‚¹]</strong> ä¿®å¤ä¼ é€’åˆ°æ‰§è¡Œç¯å¢ƒä¸­çš„ä¸Šå±‚å‡½æ•°å¯¼è‡´çš„å®‰å…¨æ¼æ´ï¼Œé¿å…é€šè¿‡åˆ©ç”¨æ¼æ´è®¿é—®ä¸Šå±‚æ‰§è¡Œç¯å¢ƒçš„é—®é¢˜ by @mytharcher</li>
<li><strong>[è®¤è¯ï¼šOIDC]</strong> å¢åŠ è¯·æ±‚è¶…æ—¶æ—¶é—´ by @2013xile</li>
</ul>
<h3 data-id="heading-7">ğŸ› ä¿®å¤</h3>
<ul>
<li>
<p><strong>[server]</strong> ä¿®å¤æ¶ˆæ¯é˜Ÿåˆ—åœ¨å¯ç”¨æœåŠ¡æ‹†åˆ†æ¨¡å¼åï¼Œå·¥ä½œè¿›ç¨‹å‘æ¶ˆæ¯å¯¼è‡´æŠ¥é”™çš„é—®é¢˜ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7797" target="_blank" title="https://github.com/nocobase/nocobase/pull/7797" ref="nofollow noopener noreferrer">#7797</a>) by @mytharcher</p>
</li>
<li>
<p><strong>[client]</strong> ä¿®å¤è¯¦æƒ…åŒºå—ç®€å•åˆ†é¡µå‡ºç°ç©ºæ•°æ®ä¸‹ä¸€é¡µçš„é—®é¢˜ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7784" target="_blank" title="https://github.com/nocobase/nocobase/pull/7784" ref="nofollow noopener noreferrer">#7784</a>) by @katherinehhh</p>
</li>
<li>
<p><strong>[å·¥ä½œæµ]</strong></p>
<ul>
<li>ä¸ºå·¥ä½œæµçš„æ—¥å¿—å¢åŠ  <code>workflowId</code> çš„æ•°æ®æ ‡è¯† (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7789" target="_blank" title="https://github.com/nocobase/nocobase/pull/7789" ref="nofollow noopener noreferrer">#7789</a>) by @mytharcher</li>
<li>ä¿®å¤æœåŠ¡æ‹†åˆ†æ¨¡å¼ä¸‹ï¼Œå·¥ä½œæµæ’ä»¶ä¸å¤„äºæœåŠ¡æ¨¡å¼æ—¶ä»ç„¶æ¶ˆè´¹é˜Ÿåˆ—çš„é—®é¢˜ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7820" target="_blank" title="https://github.com/nocobase/nocobase/pull/7820" ref="nofollow noopener noreferrer">#7820</a>) by @mytharcher</li>
</ul>
</li>
<li>
<p><strong>[ç”¨æˆ·]</strong> å­—æ®µåä¸º snake_case é£æ ¼æ—¶ï¼Œç´¢å¼•å­—æ®µé‡ç½®ä¸æ­£ç¡®çš„é—®é¢˜ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7785" target="_blank" title="https://github.com/nocobase/nocobase/pull/7785" ref="nofollow noopener noreferrer">#7785</a>) by @2013xile</p>
</li>
<li>
<p><strong>[å·¥ä½œæµï¼šè‡ªå®šä¹‰å˜é‡èŠ‚ç‚¹]</strong> ä¿®å¤å˜é‡èŠ‚ç‚¹ç¼ºå¤± config æ—¶æŠ¥é”™çš„é—®é¢˜ by @mytharcher</p>
</li>
</ul>
<h2 data-id="heading-8">develop</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74becc056007440b9fc4a4f10a13aad8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763608687&amp;x-signature=l2JjoXH7jprpdddeRCuOkpQ7H%2BQ%3D" alt="develop.png" loading="lazy"/></p>
<h3 data-id="heading-9"><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fv2.0.0-alpha.38" target="_blank" title="https://www.nocobase.com/cn/blog/v2.0.0-alpha.38" ref="nofollow noopener noreferrer">v2.0.0-alpha.38</a></h3>
<p><em>å‘å¸ƒæ—¶é—´ï¼š2025-11-12</em></p>
<h3 data-id="heading-10">ğŸ‰ æ–°ç‰¹æ€§</h3>
<ul>
<li><strong>[client]</strong> æ”¯æŒè¡¨æ ¼åˆ—æ“ä½œçš„æ‹–åŠ¨ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7842" target="_blank" title="https://github.com/nocobase/nocobase/pull/7842" ref="nofollow noopener noreferrer">#7842</a>) by @zhangzhonghe</li>
<li><strong>[æ•°æ®å¯è§†åŒ–]</strong> æ–°å¢å›¾è¡¨ SQL æ•°æ®æº (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7830" target="_blank" title="https://github.com/nocobase/nocobase/pull/7830" ref="nofollow noopener noreferrer">#7830</a>) by @heziqiang</li>
</ul>
<h3 data-id="heading-11">ğŸš€ ä¼˜åŒ–</h3>
<ul>
<li><strong>[client]</strong> åœ¨ RunJS è„šæœ¬ä¸Šä¸‹æ–‡ä¸­æ–°å¢å¯¹ Day.js åº“çš„æ”¯æŒï¼Œä¾¿äºè¿›è¡Œæ—¥æœŸå’Œæ—¶é—´çš„æ“ä½œã€‚ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7841" target="_blank" title="https://github.com/nocobase/nocobase/pull/7841" ref="nofollow noopener noreferrer">#7841</a>) by @gchust</li>
</ul>
<h3 data-id="heading-12">ğŸ› ä¿®å¤</h3>
<ul>
<li>
<p><strong>[utils]</strong></p>
<ul>
<li>ä¿®å¤ç­›é€‰æŒ‰é’®æŠ¥é”™ â€œInvalid filter item typeâ€  (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7838" target="_blank" title="https://github.com/nocobase/nocobase/pull/7838" ref="nofollow noopener noreferrer">#7838</a>) by @zhangzhonghe</li>
<li>ä¸º intersect ç­–ç•¥å¢åŠ å¯¹è±¡ç±»å‹æ”¯æŒ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7840" target="_blank" title="https://github.com/nocobase/nocobase/pull/7840" ref="nofollow noopener noreferrer">#7840</a>) by @chenos</li>
<li>ä¿®å¤äº‹ä»¶æµæŠ¥ â€œUnrecognized operationâ€ çš„é”™è¯¯ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7835" target="_blank" title="https://github.com/nocobase/nocobase/pull/7835" ref="nofollow noopener noreferrer">#7835</a>) by @zhangzhonghe</li>
</ul>
</li>
<li>
<p><strong>[client]</strong></p>
<ul>
<li>ä¿®å¤äº†è¡¨æ ¼ä¸­è¡Œè®°å½•æ•°æ®æ›´æ–°åï¼Œè¡Œæ“ä½œæŒ‰é’®çš„è”åŠ¨è§„åˆ™æœªé‡æ–°æ‰§è¡Œçš„é—®é¢˜ï¼Œç°åœ¨åœ¨æ•°æ®å˜æ›´æ—¶è”åŠ¨è§„åˆ™èƒ½å¤Ÿæ­£ç¡®é‡æ–°åº”ç”¨ã€‚ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7832" target="_blank" title="https://github.com/nocobase/nocobase/pull/7832" ref="nofollow noopener noreferrer">#7832</a>) by @gchust</li>
<li>ä¿®å¤ä»£ç ç¼–è¾‘å™¨ä¸­é¢„è§ˆä»£ç æ—¶å¦‚æœä½¿ç”¨äº† jsx è¯­æ³•ä¼šæŠ¥é”™çš„é—®é¢˜ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7836" target="_blank" title="https://github.com/nocobase/nocobase/pull/7836" ref="nofollow noopener noreferrer">#7836</a>) by @gchust</li>
</ul>
</li>
<li>
<p><strong>[undefined]</strong> ä¿®å¤æš—é»‘æ¨¡å¼ä¸‹çš„æ’ä»¶æ–‡æ¡£é¦–é¡µæ ·å¼ä¸æ­£ç¡®çš„é—®é¢˜ã€‚ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7839" target="_blank" title="https://github.com/nocobase/nocobase/pull/7839" ref="nofollow noopener noreferrer">#7839</a>) by @gchust</p>
</li>
<li>
<p><strong>[æ–‡ä»¶ç®¡ç†å™¨]</strong> ä¿®å¤è¡¨æ ¼åŒºå—é…ç½®å­—æ®µç›¸å…³ç¼ºé™· (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7843" target="_blank" title="https://github.com/nocobase/nocobase/pull/7843" ref="nofollow noopener noreferrer">#7843</a>) by @katherinehhh</p>
</li>
<li>
<p><strong>[AI å‘˜å·¥]</strong> åœ¨ v1 é¡µé¢éšè— AI å‘˜å·¥å¯¹è¯æŒ‰é’® (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7829" target="_blank" title="https://github.com/nocobase/nocobase/pull/7829" ref="nofollow noopener noreferrer">#7829</a>) by @cgyrock</p>
</li>
<li>
<p><strong>[æ•°æ®å¯è§†åŒ–ï¼šEChrats]</strong> ä¿®å¤ ECharts é€‰é¡¹é…ç½® labelType ä¸ç”Ÿæ•ˆçš„é—®é¢˜ by @heziqiang</p>
</li>
<li>
<p><strong>[é‚®ä»¶ç®¡ç†]</strong></p>
<ul>
<li>ä¿®å¤è‰ç¨¿é—®é¢˜ by @jiannx</li>
<li>æ²¡æœ‰æ—¶é—´æˆ³çš„æƒ…å†µä¸‹åŒæ­¥å¾®è½¯é‚®ä»¶å·²è¯»çŠ¶æ€ by @jiannx</li>
</ul>
</li>
</ul>
<h3 data-id="heading-13"><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fv2.0.0-alpha.37" target="_blank" title="https://www.nocobase.com/cn/blog/v2.0.0-alpha.37" ref="nofollow noopener noreferrer">v2.0.0-alpha.37</a></h3>
<p><em>å‘å¸ƒæ—¶é—´ï¼š2025-11-11</em></p>
<h3 data-id="heading-14">ğŸš€ ä¼˜åŒ–</h3>
<ul>
<li>
<p><strong>[client]</strong></p>
<ul>
<li>æ–°å¢é¡µé¢ç‰ˆæœ¬åˆ° flow engine ä¸Šä¸‹æ–‡é‡Œ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7826" target="_blank" title="https://github.com/nocobase/nocobase/pull/7826" ref="nofollow noopener noreferrer">#7826</a>) by @gchust</li>
<li>ä¼˜åŒ– Markdown ç¼–è¾‘å™¨ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7793" target="_blank" title="https://github.com/nocobase/nocobase/pull/7793" ref="nofollow noopener noreferrer">#7793</a>) by @katherinehhh</li>
<li>2.0 åŒºå—é€‚é… tableoid å­—æ®µ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7809" target="_blank" title="https://github.com/nocobase/nocobase/pull/7809" ref="nofollow noopener noreferrer">#7809</a>) by @katherinehhh</li>
</ul>
</li>
<li>
<p><strong>[æ•°æ®å¯è§†åŒ–]</strong> æ›´æ–°å›¾è¡¨æç¤ºæ å’Œäº‹ä»¶ä»£ç æ¨¡æ¿æ³¨é‡Š (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7814" target="_blank" title="https://github.com/nocobase/nocobase/pull/7814" ref="nofollow noopener noreferrer">#7814</a>) by @heziqiang</p>
</li>
<li>
<p><strong>[æƒé™æ§åˆ¶]</strong> ä¼˜åŒ–å…³ç³»å­—æ®µå…³è”æ“ä½œçš„æƒé™æ§åˆ¶é€»è¾‘ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7800" target="_blank" title="https://github.com/nocobase/nocobase/pull/7800" ref="nofollow noopener noreferrer">#7800</a>) by @2013xile</p>
</li>
<li>
<p><strong>[è®¤è¯ï¼šOIDC]</strong> å¢åŠ è¯·æ±‚è¶…æ—¶æ—¶é—´ by @2013xile</p>
</li>
</ul>
<h3 data-id="heading-15">ğŸ› ä¿®å¤</h3>
<ul>
<li>
<p><strong>[server]</strong> ä¿®å¤æ¶ˆæ¯é˜Ÿåˆ—åœ¨å¯ç”¨æœåŠ¡æ‹†åˆ†æ¨¡å¼åï¼Œå·¥ä½œè¿›ç¨‹å‘æ¶ˆæ¯å¯¼è‡´æŠ¥é”™çš„é—®é¢˜ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7797" target="_blank" title="https://github.com/nocobase/nocobase/pull/7797" ref="nofollow noopener noreferrer">#7797</a>) by @mytharcher</p>
</li>
<li>
<p><strong>[client]</strong></p>
<ul>
<li>å½“å‰æ•°æ®è¡¨å˜é‡ä¸åº”è¯¥å¯ä»¥ä»ç­›é€‰ç»„ä»¶çš„å˜é‡é€‰æ‹©å™¨ä¸­è¢«é€‰æ‹© (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7818" target="_blank" title="https://github.com/nocobase/nocobase/pull/7818" ref="nofollow noopener noreferrer">#7818</a>) by @gchust</li>
<li>ä¿®å¤ç­›é€‰è¡¨å•å…³ç³»å­—æ®µæŠ¥é”™ â€œvalue.replace is not a functionâ€ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7824" target="_blank" title="https://github.com/nocobase/nocobase/pull/7824" ref="nofollow noopener noreferrer">#7824</a>) by @zhangzhonghe</li>
<li>ä¿®å¤ onChange å›è°ƒä¼ å‚é”™è¯¯ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7807" target="_blank" title="https://github.com/nocobase/nocobase/pull/7807" ref="nofollow noopener noreferrer">#7807</a>) by @zhangzhonghe</li>
</ul>
</li>
<li>
<p><strong>[flow-engine]</strong> ä¿®å¤äº‹ä»¶æµä¿®æ”¹åéœ€è¦åˆ·æ–°é¡µé¢æ‰ä¼šç”Ÿæ•ˆçš„é—®é¢˜ã€‚ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7811" target="_blank" title="https://github.com/nocobase/nocobase/pull/7811" ref="nofollow noopener noreferrer">#7811</a>) by @gchust</p>
</li>
<li>
<p><strong>[å·¥ä½œæµ]</strong> ä¿®å¤æœåŠ¡æ‹†åˆ†æ¨¡å¼ä¸‹ï¼Œå·¥ä½œæµæ’ä»¶ä¸å¤„äºæœåŠ¡æ¨¡å¼æ—¶ä»ç„¶æ¶ˆè´¹é˜Ÿåˆ—çš„é—®é¢˜ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7820" target="_blank" title="https://github.com/nocobase/nocobase/pull/7820" ref="nofollow noopener noreferrer">#7820</a>) by @mytharcher</p>
</li>
<li>
<p><strong>[å·¥ä½œæµï¼šå®¡æ‰¹]</strong> ä¿®å¤é‡æŸ¥å…³ç³»æ•°æ®æ—¶æœªå±è”½ä¸»è¡¨å­—æ®µçš„é—®é¢˜ by @mytharcher</p>
</li>
<li>
<p><strong>[é‚®ä»¶ç®¡ç†]</strong> ä¿®å¤ Outlook å†…æ•›å›¾ç‰‡å’ŒåŒæ­¥é—®é¢˜ by @jiannx</p>
</li>
</ul>
<h3 data-id="heading-16"><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fv2.0.0-alpha.36" target="_blank" title="https://www.nocobase.com/cn/blog/v2.0.0-alpha.36" ref="nofollow noopener noreferrer">v2.0.0-alpha.36</a></h3>
<p><em>å‘å¸ƒæ—¶é—´ï¼š2025-11-10</em></p>
<h3 data-id="heading-17">ğŸš€ ä¼˜åŒ–</h3>
<ul>
<li><strong>[flow-engine]</strong> ä¼˜åŒ–é¡µé¢æ ‡ç­¾çš„å·¥å…·æ æ ·å¼ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7795" target="_blank" title="https://github.com/nocobase/nocobase/pull/7795" ref="nofollow noopener noreferrer">#7795</a>) by @zhangzhonghe</li>
</ul>
<h3 data-id="heading-18">ğŸ› ä¿®å¤</h3>
<ul>
<li>
<p><strong>[flow-engine]</strong></p>
<ul>
<li>ä¿®å¤äº†å­è¡¨å•å…³ç³»å­—æ®µé€šè¿‡ç”¨æˆ·ç•Œé¢ä¿®æ”¹åï¼Œå…¶å˜é‡æ— æ³•æ­£ç¡®è§£æçš„é—®é¢˜ã€‚ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7799" target="_blank" title="https://github.com/nocobase/nocobase/pull/7799" ref="nofollow noopener noreferrer">#7799</a>) by @gchust</li>
<li>å¤šä¸»é”®è®°å½•ç¼–è¾‘è¡¨å•æŠ¥é”™ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7798" target="_blank" title="https://github.com/nocobase/nocobase/pull/7798" ref="nofollow noopener noreferrer">#7798</a>) by @gchust</li>
<li>ä¿®å¤äº†â€œæ‰“å¼€è§†å›¾â€æ“ä½œçš„éƒ¨åˆ†é…ç½®æœªæ­£å¸¸åº”ç”¨çš„é—®é¢˜ï¼Œç°åœ¨æ‰€æœ‰ç›¸å…³é…ç½®å‡èƒ½æŒ‰é¢„æœŸæ­£å¸¸è¿è¡Œã€‚ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7790" target="_blank" title="https://github.com/nocobase/nocobase/pull/7790" ref="nofollow noopener noreferrer">#7790</a>) by @gchust</li>
</ul>
</li>
<li>
<p><strong>[client]</strong></p>
<ul>
<li>ä¿®å¤æ•°æ®è¡¨é€‰æ‹©å™¨å­—æ®µæ— æ³•æ­£ç¡®é€‰æ‹©æ•°æ®çš„é—®é¢˜ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7794" target="_blank" title="https://github.com/nocobase/nocobase/pull/7794" ref="nofollow noopener noreferrer">#7794</a>) by @katherinehhh</li>
<li>è¡¨æ ¼åŒºå—æ“ä½œåˆ—æ— æ³•è¢«éšè— (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7804" target="_blank" title="https://github.com/nocobase/nocobase/pull/7804" ref="nofollow noopener noreferrer">#7804</a>) by @gchust</li>
<li>æ”¯æŒåœ¨ AI å‘˜å·¥æŒ‡ä»¤é‡Œé€‰æ‹©æ•´ä¸ªå˜é‡å¯¹è±¡ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7791" target="_blank" title="https://github.com/nocobase/nocobase/pull/7791" ref="nofollow noopener noreferrer">#7791</a>) by @gchust</li>
</ul>
</li>
<li>
<p><strong>[ç”¨æˆ·]</strong> å­—æ®µåä¸º snake_case é£æ ¼æ—¶ï¼Œç´¢å¼•å­—æ®µé‡ç½®ä¸æ­£ç¡®çš„é—®é¢˜ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7785" target="_blank" title="https://github.com/nocobase/nocobase/pull/7785" ref="nofollow noopener noreferrer">#7785</a>) by @2013xile</p>
</li>
</ul>
<h3 data-id="heading-19"><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fv2.0.0-alpha.35" target="_blank" title="https://www.nocobase.com/cn/blog/v2.0.0-alpha.35" ref="nofollow noopener noreferrer">v2.0.0-alpha.35</a></h3>
<p><em>å‘å¸ƒæ—¶é—´ï¼š2025-11-06</em></p>
<h3 data-id="heading-20">ğŸš€ ä¼˜åŒ–</h3>
<ul>
<li><strong>[flow-engine]</strong> æ”¯æŒå»¶è¿Ÿæ“ä½œ flow model (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7786" target="_blank" title="https://github.com/nocobase/nocobase/pull/7786" ref="nofollow noopener noreferrer">#7786</a>) by @gchust</li>
<li><strong>[å·¥ä½œæµï¼šJavaScript èŠ‚ç‚¹]</strong> ä¿®å¤ä¼ é€’åˆ°æ‰§è¡Œç¯å¢ƒä¸­çš„ä¸Šå±‚å‡½æ•°å¯¼è‡´çš„å®‰å…¨æ¼æ´ï¼Œé¿å…é€šè¿‡åˆ©ç”¨æ¼æ´è®¿é—®ä¸Šå±‚æ‰§è¡Œç¯å¢ƒçš„é—®é¢˜ by @mytharcher</li>
</ul>
<h3 data-id="heading-21">ğŸ› ä¿®å¤</h3>
<ul>
<li>
<p><strong>[client]</strong></p>
<ul>
<li>ä¿®å¤è¯¦æƒ…åŒºå—ç®€å•åˆ†é¡µå‡ºç°ç©ºæ•°æ®ä¸‹ä¸€é¡µçš„é—®é¢˜ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7784" target="_blank" title="https://github.com/nocobase/nocobase/pull/7784" ref="nofollow noopener noreferrer">#7784</a>) by @katherinehhh</li>
<li>ä¿®å¤è¡¨æ ¼æ“ä½œåˆ—å’Œ jsColumn åˆ—å®½åº¦è®¾ç½®ä¸ç”Ÿæ•ˆé—®é¢˜ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7777" target="_blank" title="https://github.com/nocobase/nocobase/pull/7777" ref="nofollow noopener noreferrer">#7777</a>) by @katherinehhh</li>
<li>é¡µé¢çš„äº‹ä»¶æµè®¾ç½®é¡µé¢åŒºå—æ•°æ®èŒƒå›´ä¸ç”Ÿæ•ˆ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7788" target="_blank" title="https://github.com/nocobase/nocobase/pull/7788" ref="nofollow noopener noreferrer">#7788</a>) by @gchust</li>
</ul>
</li>
<li>
<p><strong>[å·¥ä½œæµ]</strong> ä¸ºå·¥ä½œæµçš„æ—¥å¿—å¢åŠ  <code>workflowId</code> çš„æ•°æ®æ ‡è¯† (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7789" target="_blank" title="https://github.com/nocobase/nocobase/pull/7789" ref="nofollow noopener noreferrer">#7789</a>) by @mytharcher</p>
</li>
<li>
<p><strong>[å·¥ä½œæµï¼šè‡ªå®šä¹‰å˜é‡èŠ‚ç‚¹]</strong> ä¿®å¤å˜é‡èŠ‚ç‚¹ç¼ºå¤± config æ—¶æŠ¥é”™çš„é—®é¢˜ by @mytharcher</p>
</li>
<li>
<p><strong>[é‚®ä»¶ç®¡ç†]</strong> MailMessages æ·»åŠ ç´¢å¼• by @jiannx</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GPT-5.1å‘å¸ƒï¼ŒOpenAIå¼€å§‹æ‹¼æƒ…å•†]]></title>    <link>https://juejin.cn/post/7571781196297797641</link>    <guid>https://juejin.cn/post/7571781196297797641</guid>    <pubDate>2025-11-13T03:20:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571781196297797641" data-draft-id="7571829822340055091" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GPT-5.1å‘å¸ƒï¼ŒOpenAIå¼€å§‹æ‹¼æƒ…å•†"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,OpenAI"/> <meta itemprop="datePublished" content="2025-11-13T03:20:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœºå™¨ä¹‹å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/1873223543167902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GPT-5.1å‘å¸ƒï¼ŒOpenAIå¼€å§‹æ‹¼æƒ…å•†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1873223543167902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœºå™¨ä¹‹å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T03:20:54.000Z" title="Thu Nov 13 2025 03:20:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ·±å¤œï¼ŒGPT-5 ç³»åˆ—è¿æ¥å¤§æ›´æ–°ï¼šä¸Šçº¿ GPT-5.1 Instant ä»¥åŠ GPT-5.1 Thinking æ¨¡å‹ï¼š</p>
<ul>
<li>
<p>GPT-5.1 Instantï¼šChatGPT æœ€å¸¸ç”¨çš„æ¨¡å‹ï¼Œæ›´æ¸©æš–ã€æ›´æ™ºèƒ½ï¼Œä¹Ÿæ›´å–„äºéµå¾ªæŒ‡ä»¤çš„æ¨¡å‹ã€‚</p>
</li>
<li>
<p>GPT-5.1 Thinkingï¼šé«˜çº§æ¨ç†æ¨¡å‹ï¼Œåœ¨ç®€å•ä»»åŠ¡ä¸Šæ›´å¿«ï¼Œåœ¨å¤æ‚ä»»åŠ¡ä¸Šæ›´æŒä¹…ï¼Œä¹Ÿæ›´å®¹æ˜“ç†è§£ã€‚</p>
</li>
</ul>
<p>å¯¹äºæ–°ä¸Šçº¿çš„æ¨¡å‹ï¼ŒOpenAI è¡¨ç¤ºå‡ºè‰²çš„ AI ä¸ä»…è¦èªæ˜ï¼Œè¿˜è¦è®©äººä¸ä¹‹å¯¹è¯å˜å¾—æ„‰æ‚¦ã€‚GPT-5.1 åœ¨æ™ºèƒ½å’Œæ²Ÿé€šé£æ ¼ä¸Šéƒ½æœ‰äº†æ˜¾è‘—æå‡ã€‚</p>
<p>Sam Altman è¡¨ç¤ºï¼šè¿™æ˜¯ä¸€æ¬¡ä¸é”™çš„æ¨¡å‹å‡çº§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a74e6e51b1c4edcbf8fba25ffb85911~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763608853&amp;x-signature=3CUrJ9%2FNMch0FrTfZ6uNRq5biI0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>GPT-5.1 Instant</p>
<p>æ ¹æ®æ—©æœŸæµ‹è¯•ï¼ŒGPT-5.1 Instant å¸¸å¸¸ä»¥ä¿çš®åˆæ¸…æ™°å®ç”¨çš„æ–¹å¼è®©äººæ„Ÿåˆ°æƒŠå–œã€‚</p>
<p>å¯¹äºç›¸åŒçš„é—®é¢˜ï¼Œæˆ‘ä»¬çœ‹çœ‹ä¸¤è€…çš„å·®è·ã€‚ä¾‹å¦‚ã€Œæˆ‘æ„Ÿè§‰å‹åŠ›å¾ˆå¤§ï¼Œéœ€è¦ä¸€äº›æ”¾æ¾æŠ€å·§ã€‚ã€</p>
<p>GPT-5 å’ŒÂ GPT-5.1 Instant å›ç­”ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d49098c2f6224c3dbe1901f2959e7dc5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763608853&amp;x-signature=LMU%2BkshRufjHSfZooWNPXxaICdQ%3D" alt="Image" loading="lazy"/></p>
<p>æ­¤å¤–ï¼Œæ–°æ¨¡å‹çš„æŒ‡ä»¤æ‰§è¡Œèƒ½åŠ›æ›´å¼ºäº†ï¼Œèƒ½å¤Ÿæ›´å¯é åœ°å›ç­”ç”¨æˆ·é—®é¢˜ã€‚ä¾‹å¦‚å¯¹äºæŒ‡ä»¤è¦æ±‚ï¼šã€Œå§‹ç»ˆç”¨å…­ä¸ªå­—å›å¤ã€ã€‚</p>
<p>GPT-5 å›ç­”ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a2c556c2f1844e39a6a5dc0bc518ebb3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763608853&amp;x-signature=WRfMUgICPLvmEJVImS1pRy6O4cY%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a557712bf6414596bacee49e6bd8540e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763608853&amp;x-signature=urc%2F%2Bss1R%2BJeF969wFRM9vcBxDY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>GPT-5.1 Instant å›ç­”ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e52b69c7a43f4e139164c3b53f556e2c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763608853&amp;x-signature=B9h8s%2BtTHs3%2BQsQMOzA6OLxRIAI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ­¤å¤–ï¼ŒGPT-5.1 Instant èƒ½å¤Ÿä½¿ç”¨è‡ªé€‚åº”æ¨ç†ï¼Œåœ¨é¢å¯¹æ›´å…·æŒ‘æˆ˜æ€§çš„é—®é¢˜æ—¶è‡ªè¡Œå†³å®šæ˜¯å¦éœ€è¦åœ¨å›ç­”å‰è¿›è¡Œæ€è€ƒï¼Œä»è€Œæä¾›æ›´å…¨é¢ã€æ›´å‡†ç¡®çš„ç­”æ¡ˆï¼ŒåŒæ—¶ä¾ç„¶ä¿æŒå¿«é€Ÿå“åº”ã€‚</p>
<p>è¿™ä¸€ç‚¹ä¹Ÿä½“ç°åœ¨æ•°å­¦å’Œç¼–ç¨‹è¯„æµ‹ä¸Šçš„æ˜¾è‘—æå‡ï¼Œä¾‹å¦‚ AIME 2025 å’Œ Codeforcesã€‚</p>
<p>GPTâ€‘5.1 Thinking</p>
<p>ä¸æ­¤åŒæ—¶ï¼ŒOpenAI ä¹Ÿåœ¨å‡çº§ GPT-5 Thinking æ¨¡å¼ï¼Œä½¿å…¶åœ¨æ—¥å¸¸ä½¿ç”¨ä¸­æ›´åŠ é«˜æ•ˆä¸”æ˜“äºç†è§£ã€‚ç°åœ¨ï¼Œå®ƒèƒ½æ›´ç²¾å‡†åœ°æ ¹æ®é—®é¢˜è°ƒæ•´æ€è€ƒæ—¶é—´ â€”â€” åœ¨å¤„ç†å¤æ‚é—®é¢˜æ—¶æŠ•å…¥æ›´å¤šæ—¶é—´ï¼Œè€Œåœ¨å¤„ç†ç®€å•é—®é¢˜æ—¶åˆ™æ›´å¿«å“åº”ã€‚å®é™…åº”ç”¨ä¸­ï¼Œè¿™æ„å‘³ç€å¯¹äºéš¾é¢˜ï¼Œå®ƒèƒ½ç»™å‡ºæ›´è¯¦å°½çš„ç­”æ¡ˆï¼›è€Œå¯¹äºç®€å•é—®é¢˜ï¼Œå®ƒåˆ™èƒ½æ›´å¿«åœ°ç»™å‡ºå“åº”ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae15197bf4c24fc2a91e4e9ff4cdd416~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763608853&amp;x-signature=uXEUh1ge4WMX7cEYbQUHUbaD0Eo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>GPT-5.1 Thinking çš„å“åº”ä¹Ÿæ›´æ¸…æ™°ï¼Œä½¿ç”¨çš„æœ¯è¯­æ›´å°‘ã€æ›´é€šä¿—ï¼Œå¹¶å‡å°‘äº†æœªå®šä¹‰ä¸“ä¸šè¯æ±‡çš„è¾“å‡ºã€‚è¿™å¯¹å¤„ç†å¤æ‚ä»»åŠ¡æˆ–è§£é‡ŠæŠ€æœ¯æ¦‚å¿µæ—¶å°¤å…¶é‡è¦ã€‚ä¸¾ä¾‹æ¥è¯´ï¼šè§£é‡Š BABIP å’Œ wRC+ã€‚</p>
<p>GPT-5 Thinkingã€GPT-5.1 ThinkingÂ å›ç­”ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fab301ce57a8486a94a35530f91f43ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763608853&amp;x-signature=CnxNT2pcTKcGCbTO2kziIuPFyr4%3D" alt="Image" loading="lazy"/></p>
<p>å®Œæ•´å›ç­”è¯·å‚è€ƒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopenai.com%2Findex%2Fgpt-5-1%2F" target="_blank" title="https://openai.com/index/gpt-5-1/" ref="nofollow noopener noreferrer">openai.com/index/gpt-5â€¦</a></p>
<p>GPT-5.1 Thinking çš„é»˜è®¤è¯­æ°”ä¹Ÿæ›´åŠ æ¸©æš–å’Œå¯Œæœ‰åŒç†å¿ƒã€‚</p>
<p>å¯ä»¥è¯´ï¼Œæ­¤æ¬¡å‘å¸ƒçš„æ¨¡å‹åœ¨èƒ½åŠ›å’Œå¯ç”¨æ€§ä¸Šéƒ½è¿ˆå‡ºäº†ä¸€å¤§æ­¥ã€‚GPT-5.1 Auto å°†ç»§ç»­æŠŠæ¯ä¸ªè¯·æ±‚è·¯ç”±åˆ°æœ€é€‚åˆçš„æ¨¡å‹ï¼Œå› æ­¤å¤§å¤šæ•°æƒ…å†µä¸‹ç”¨æˆ·æ— éœ€æ‰‹åŠ¨é€‰æ‹©æ¨¡å‹ã€‚ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œä½ ä¼šæ˜æ˜¾æ„Ÿå—åˆ°ï¼ŒGPT-5.1 ç³»åˆ—çš„å›ç­”æ•´ä½“ä¸Šæ›´èªæ˜ï¼Œä¹Ÿæ›´è‡ªç„¶ã€‚</p>
<p>GPT-5.1 Instant å’Œ GPT-5.1 Thinking å°†ä»ä»Šå¤©å¼€å§‹é€æ­¥æ¨å‡ºï¼Œé¦–å…ˆé¢å‘ä»˜è´¹ç”¨æˆ·ï¼ˆProã€Plusã€Goã€Businessï¼‰ï¼Œéšåè¦†ç›–å…è´¹ç”¨æˆ·å’Œæœªç™»å½•ç”¨æˆ·ã€‚Enterprise å’Œ Edu è®¢é˜…å¯ä»¥æå‰ä¸ƒå¤©å¼€å¯æ—©æœŸè®¿é—®å¼€å…³ï¼ˆé»˜è®¤å…³é—­ï¼‰ã€‚åœ¨æ­¤çª—å£æœŸç»“æŸåï¼ŒGPT-5.1 å°†æˆä¸ºå”¯ä¸€çš„é»˜è®¤æ¨¡å‹ã€‚</p>
<p>å¦‚æœä½ ç°åœ¨æ‰“å¼€ ChatGPTï¼Œå·²ç»å¯ä»¥ä½¿ç”¨ GPT-5.1 äº†ã€‚è¿˜æ²¡ä¸Šçº¿çš„å°ä¼™ä¼´ï¼Œå¯ä»¥å†ç­‰ç­‰ï¼Œæ¥ä¸‹æ¥çš„å‡ å¤©å°†é€æ­¥ä¸Šçº¿ã€‚å¾ˆå¿« GPT-5 Pro ä¹Ÿä¼šæ›´æ–°åˆ° GPT-5.1 Proã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c08341332064ee3b9faf21c402479c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763608853&amp;x-signature=KwB0tUtrLOvWbblxFOeKg2IMepI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¦å¤–ï¼Œæœ¬å‘¨æ™šäº›æ—¶å€™ï¼Œ GPT-5.1 Instant å’Œ GPT-5.1 Thinking ä¸¤ä¸ªæ¨¡å‹åœ¨ API ä¸­å¯ç”¨ã€‚GPT-5.1 Instant å°†ä½œä¸º gpt-5.1-chat-latest åŠ å…¥ï¼ŒGPT-5.1 Thinking åˆ™å°†ä½œä¸º GPT-5.1 åœ¨ API ä¸­å‘å¸ƒï¼Œä¸¤è€…éƒ½æ”¯æŒè‡ªé€‚åº”æ¨ç†ã€‚</p>
<p>GPT-5ï¼ˆInstant å’Œ Thinkingï¼‰å°†åœ¨æ¥ä¸‹æ¥çš„ä¸‰ä¸ªæœˆå†…ç»§ç»­é€šè¿‡ ChatGPT ä¸­çš„æ—§ç‰ˆæ¨¡å‹ä¸‹æ‹‰èœå•å‘ä»˜è´¹è®¢é˜…ç”¨æˆ·æä¾›ï¼Œä»¥ä¾¿å¤§å®¶æœ‰è¶³å¤Ÿæ—¶é—´è¿›è¡Œå¯¹æ¯”å’Œé€æ­¥é€‚åº”ã€‚GPT-5 çš„ä¸‹çº¿è¿‡æ¸¡æœŸä¸ä¼šå½±å“å…¶ä»–æ—§ç‰ˆæ¨¡å‹çš„å¯ç”¨æ€§ã€‚</p>
<p>æœªæ¥ï¼Œæ¨å‡ºæ–°çš„ ChatGPT æ¨¡å‹æ—¶ï¼ŒOpenAI éƒ½ä¼šä¸ºç”¨æˆ·é¢„ç•™å……è¶³çš„è¯„ä¼°ç©ºé—´ï¼Œè®©å¤§å®¶äº†è§£å˜åŒ–ã€åˆ†äº«åé¦ˆï¼Œå®ç°å¹³ç¨³è¿‡æ¸¡ã€‚ä¸‹çº¿è¿‡æ¸¡æœŸä¼šæå‰å……åˆ†ã€æ¸…æ™°åœ°è¿›è¡Œæ²Ÿé€šã€‚</p>
<p>å…³äºå‘½åæ–¹å¼çš„è¯´æ˜ï¼šæ­¤æ¬¡æ›´æ–°è¢«ç§°ä¸º GPT-5.1ï¼Œæ˜¯ä¸ºäº†ä½“ç°æœ‰æ„ä¹‰çš„æ”¹è¿›ï¼ŒåŒæ—¶ä»ç„¶å±äº GPT-5 ç³»åˆ—ã€‚æœªæ¥å¯¹ GPT-5 çš„è¿­ä»£å‡çº§å°†éµå¾ªç›¸åŒçš„å‘½åæ¨¡å¼ã€‚</p>
<p>OpenAI è¿˜åŒæ—¶å‘å¸ƒäº† GPT-5.1 Instantã€ GPT-5.1 Thinking ç³»ç»Ÿå¡é™„å½•ã€‚æ„Ÿå…´è¶£çš„å°ä¼™ä¼´ï¼Œå¯ä»¥å‰å»æŸ¥çœ‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35cd403b4daf40ef9349e4068204e916~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763608853&amp;x-signature=xFk6ceek5T4OcPpnKgsZ6Unn%2FlU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcdn.openai.com%2Fpdf%2F4173ec8d-1229-47db-96de-06d87147e07e%2F5_1_system_card.pdf" target="_blank" title="https://cdn.openai.com/pdf/4173ec8d-1229-47db-96de-06d87147e07e/5_1_system_card.pdf" ref="nofollow noopener noreferrer">cdn.openai.com/pdf/4173ec8â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Ollama Ã— é­”æ­ç¤¾åŒºï¼šè¶…ç®€å•çš„å¤§æ¨¡å‹æœ¬åœ°éƒ¨ç½²æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7571731181198245924</link>    <guid>https://juejin.cn/post/7571731181198245924</guid>    <pubDate>2025-11-13T03:35:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571731181198245924" data-draft-id="7571731181198180388" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Ollama Ã— é­”æ­ç¤¾åŒºï¼šè¶…ç®€å•çš„å¤§æ¨¡å‹æœ¬åœ°éƒ¨ç½²æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="Agent,LLM,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-11-13T03:35:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AIå¤§æ¨¡å‹"/> <meta itemprop="url" content="https://juejin.cn/user/3817967696221534"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Ollama Ã— é­”æ­ç¤¾åŒºï¼šè¶…ç®€å•çš„å¤§æ¨¡å‹æœ¬åœ°éƒ¨ç½²æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3817967696221534/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AIå¤§æ¨¡å‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T03:35:56.000Z" title="Thu Nov 13 2025 03:35:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fhy.zhipoai.cn%2F" target="_blank" title="https://hy.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</p>
</blockquote>
<p>éšç€å¤§æ¨¡å‹çš„ä¸æ–­å‘å±•ï¼Œå°å‚æ•°æ¨¡å‹çš„èƒ½åŠ›ä¹Ÿåœ¨é€æ¸è¿›æ­¥ï¼Œå°±æ‹¿é˜¿é‡Œæœ€æ–°å¼€æºçš„qwen3æ¥è¯´ï¼Œå…¶ä¸­æœ‰è´Ÿè´£å¤šæ¨¡æ€çš„qwen3-vlç³»åˆ—å’Œä¸“ä¸ºä»£ç ä¼˜åŒ–çš„qwen3-codeç³»åˆ—ç­‰ï¼Œè¿™äº›ä¸åŒä½¿ç”¨åœºæ™¯ä¸­éƒ½æœ‰å¼€æºçš„å°å‚æ•°æ¨¡å‹æ¥æ–¹ä¾¿æˆ‘ä»¬æœ¬åœ°éƒ¨ç½²ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ab16477dfad4076b55d225510cf7c94~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=L%2BdoUdz5ne9NX%2FAlOquCX0Z1%2F7s%3D" alt="" loading="lazy"/></p>
<p>é‚£å¼€æºéƒ¨ç½²å°æ¨¡å‹çš„å¥½å¤„æœ‰ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘è®¤ä¸ºè‡³å°‘æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<ol>
<li>æ•°æ®ç§æœ‰åŒ–ï¼šæ•°æ®ä¸å‡ºç½‘ï¼Œé€‚åˆæ”¿ä¼ã€å­¦ä¹ æˆ–åŒ»é™¢ç­‰å¯¹éšç§è¦æ±‚é«˜çš„åœºæ™¯ã€‚</li>
<li>æ— ç½‘ç»œä¾èµ–ï¼šç¦»çº¿å³å¯ä½¿ç”¨ï¼Œä¸ä¾èµ–ç½‘ç»œã€‚</li>
<li>æˆæœ¬å¤§å¹…ä¸‹é™ï¼šæœ¬åœ°æ¨ç†æˆæœ¬é™åˆ°æœ€ä½ï¼ˆç”µè´¹ï¼‰ï¼Œæ¯”è°ƒç”¨å¤§æ¨¡å‹apiè¦çœé’±å¤ªå¤šäº†ã€‚</li>
<li>å¾®è°ƒé—¨æ§›ä½ï¼šå°æ¨¡å‹æ¯”èµ·å¤§æ¨¡å‹æ‰€éœ€çš„åºå¤§çš„èµ„æºæ¥è¯´æ›´é€‚åˆå¾®è°ƒï¼Œå°æ¨¡å‹å¾®è°ƒä¹‹ååœ¨ç‰¹å®šé¢†åŸŸçš„èƒ½åŠ›å¯ä»¥åª²ç¾ç”šè‡³è¶…è¿‡å¤§æ¨¡å‹ã€‚ï¼ˆå¾®è°ƒå¯ä»¥ç†è§£ä¸ºï¼šç”¨å•ç‹¬é¢†åŸŸçš„æ•°æ®é›†å¯¹æ¨¡å‹å†æ¬¡è®­ç»ƒä½¿å…¶ä¸“ä¸šåŒ–ï¼‰</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79eb18cac2ae48b28356098d46ee7481~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=b8lqhh5r4QGtVz%2FYC5eP5D1vhLc%3D" alt="" loading="lazy"/></p>
<p>åœ¨åº”ç”¨è½åœ°æ–¹é¢ï¼Œæ¯”å¦‚ä¸€äº›agentåº”ç”¨çš„è½åœ°ï¼Œæ›´ç¦»ä¸å¼€æœ¬åœ°æ¨¡å‹çš„éƒ¨ç½²ï¼Œé‚£è¯´äº†è¿™ä¹ˆå¤šï¼Œå¦‚ä½•æ­£ç¡®çš„æœ¬åœ°éƒ¨ç½²ä¸€ä¸ªå¤§æ¨¡å‹å‘¢ï¼Ÿè¿™é‡Œåªæ¨èä¸¤ç§æ–¹æ³•ï¼Œè¿™ä¸¤ç§æ–¹æ³•ä¹Ÿæ˜¯å½“ä¸‹æ¯”è¾ƒæ­£ç¡®å’Œå¸¸ç”¨çš„ã€‚</p>
<ol>
<li>é€šè¿‡Ollamaå·¥å…·å¿«æ·éƒ¨ç½²</li>
<li>é€šè¿‡vLLMé«˜æ€§èƒ½æ¨ç†æ¡†æ¶éƒ¨ç½²</li>
</ol>
<p>æœ¬ç¯‡æ–‡ç« å…ˆè®²é€šè¿‡ollamaéƒ¨ç½²æœ¬åœ°æ¨¡å‹çš„æ–¹æ³•ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7e1519d30e643febafef874f58a1110~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=8bZ09%2BIswxsHzwxvJA50KQvSc%2FE%3D" alt="" loading="lazy"/></p>
<p>é‚£åœ¨æœ¬åœ°éƒ¨ç½²ä¹‹å‰ï¼Œæˆ‘ä»¬åº”è¯¥å…ˆæ˜ç™½å½“å‰çš„ç”µè„‘é…ç½®èƒ½å¤Ÿè¿è¡Œä»€ä¹ˆå‚æ•°çš„æ¨¡å‹ï¼Œä¸ç„¶æˆ‘ä»¬è¾›è¾›è‹¦è‹¦ä¸‹è½½äº†å‡ åGçš„æ¨¡å‹æ–‡ä»¶åï¼Œå‘ç°æ ¹æœ¬è·‘ä¸åŠ¨å°±å°´å°¬äº†ã€‚</p>
<p>è¿™é‡Œç»™å¤§å®¶ä¸€ä¸ªå¯ä»¥å¿«é€Ÿä¼°ç®—çš„å…¬å¼ï¼ˆæœ€å¥½è‡ªå·±ç”µè„‘æ˜¾å­˜æ¯”è¿™ä¸ªç»“æœå¤šä¸€äº›ï¼‰ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ad9ab2c297443f58e8af157f9bb20ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=IQdn%2FcRDuaqlfaAyP3cHjnIQEzc%3D" alt="" loading="lazy"/></p>
<p>æ¯”å¦‚ä¸‹é¢è¿™ä¸ªæ¨¡å‹ï¼Œéƒ¨ç½²å®ƒå¤§æ¦‚éœ€è¦çš„æ˜¾å­˜çš„è®¡ç®—é€»è¾‘ä¸ºï¼š(8x8)/ 8x1.2=9.6Gï¼Œä¹Ÿå°±æ˜¯3060 12Gæ˜¾å¡å°±å¯ä»¥è·‘ï¼Œè€Œä¸”è¿™ä¸ªå¤šæ¨¡æ€çš„å°æ¨¡å‹èƒ½åŠ›ä¹Ÿæ˜¯ç›¸å½“ä¸é”™ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/602e214002514f38b08c8dc9d4780b8b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=AED5jwbdlxYcAx8ae2DfddCz14k%3D" alt="" loading="lazy"/></p>
<p>è¿™é‡Œæ¶‰åŠåˆ°ä¸¤ä¸ªæ¦‚å¿µï¼š1.æ¨¡å‹å‚æ•°é‡ 2.å‚æ•°ä½å®½ã€‚è¿™ä¿©ä¸ªæ¦‚å¿µå¯¹äºæœ¬åœ°éƒ¨ç½²æ¨¡å‹æ¥è¯´æå…¶çš„é‡è¦ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—æœ‰å¿…è¦è¯´ä¸€ä¸‹ã€‚</p>
<p>è¯´ä¹‹å‰å¤§å®¶è¦å…ˆäº†è§£ä¸€ä¸‹é­”æ­ç¤¾åŒºï¼Œé­”æ­ç¤¾åŒºæ˜¯é˜¿é‡Œäº‘çš„ä¸€ä¸ªå¼€æºæ¨¡å‹å¸‚åœºï¼Œé‡Œé¢æœ‰å„ç§å¯ä¸‹è½½çš„é¢„è®­ç»ƒå¥½çš„æ¨¡å‹ä»¥åŠæ•°æ®é›†ç­‰ï¼Œå°±åƒæ˜¯ä¸­å›½ç‰ˆçš„Hugging Faceã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7774a8e64e84a09b6f46c978287559d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=FrHR8J8%2FVGuQ9389Ah2hTPS4h4o%3D" alt="" loading="lazy"/></p>
<p>é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.modelscope.cn%2Fhome" target="_blank" title="https://www.modelscope.cn/home" ref="nofollow noopener noreferrer">www.modelscope.cn/home</a></p>
<p>æˆ‘ä»¬å¯ä»¥æ‰“å¼€å›½å†…çš„æ¨¡å‹å¸‚åœºâ€”â€”é­”æ­ç¤¾åŒºï¼Œç„¶åæœç´¢qwen3ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b92143485014f90898e12ba090ad02b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=Q9rl5gVYAkurubrau1%2F8kJ2t85I%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°è¿™äº›éƒ½æœ‰ä¸€ä¸ªxxBçš„ç›¸å…³å­—æ ·ï¼Œæ¯”å¦‚30Bã€8Bã€235Bè¿™äº›å­—æ ·ï¼Œè¿™äº›å°±æ˜¯æŒ‡å¾—å‚æ•°é‡ï¼Œå‚æ•°é‡è¶Šå¤§å°±ä»£è¡¨å…¶æŒæ¡çš„çŸ¥è¯†è¶Šå¤šï¼ŒåŒæ—¶éœ€è¦çš„æ˜¾å­˜è¶Šå¤§ï¼å°±æ¯”å¦‚å›¾ç‰‡ä¸Šé‚£ä¸ª235Bçš„æ¨¡å‹éœ€è¦çš„æ˜¾å­˜æ˜¯500å¤šGã€‚è¿™ä¹ˆå¤§çš„æ˜¾å­˜ï¼Œéƒ¨ç½²æˆæœ¬æ˜¯ç›¸å½“å¤§çš„ã€‚</p>
<p>æˆ‘ä»¬ç‚¹è¿›å»ä¸€ä¸ªé€šä¹‰åƒé—®3-32Bçš„æ¨¡å‹ä¸­ï¼Œåœ¨å³ä¾§éƒ¨åˆ†å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ¨¡å‹çš„ç³»è°±ï¼Œå…¶ä¸­å¯ä»¥æ‰¾åˆ°é‡åŒ–è¿™ä¸€ä¸ªåˆ†ç±»ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c039d672e1ef49d2861a34d6c18f09b7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=kdRnODMWAlzliCzEQxNVQjfn098%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡»è¿™ä¸ªåˆ†ç±»ï¼Œå¯ä»¥çœ‹åˆ°å½“å‰æ¨¡å‹çš„é‡åŒ–ç‰ˆæœ¬ï¼Œæ‰€è°“é‡åŒ–å…¶å®å°±æ˜¯æŒ‡çš„æ˜¯è®©æ¨¡å‹å°½é‡ä¸å˜ç¬¨çš„æƒ…å†µä¸‹ï¼ŒèŠ‚çœéƒ¨ç½²æ˜¾å­˜ã€‚æ¯”å¦‚åˆšåˆšè¯´çš„235Bçš„æ¨¡å‹ç»è¿‡4bité‡åŒ–åï¼Œéœ€è¦çš„æ˜¾å­˜å°±ä»500Gé™ä¸ºäº†150Gå·¦å³ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2312b420fd0048e697856c868f5f4b7b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=9EjDCAuU8m3JM%2FII9cSqHShFuKM%3D" alt="" loading="lazy"/></p>
<p>é€šè¿‡ä¸Šå›¾åœˆèµ·æ¥çš„éƒ¨åˆ†ï¼Œå¯ä»¥çœ‹åˆ°32Bå‚æ•°çš„qwen3æ–‡æœ¬å¯¹è¯æ¨¡å‹çš„åç§°ä¸­åŒ…å«ï¼ŒAWQã€FP8ã€GGUFã€GPTQï¼Œè¿™äº›æ¨¡å‹æ ‡è¯†ï¼Œå¯¹åº”çš„å«ä¹‰å¤§å®¶å¯ä»¥çœ‹ä¸‹é¢è¿™å¹…å›¾ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68709261c2794c5da54e92e835d43dc2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=Ei4SclizIVq2cqS%2BRBC234TaYKQ%3D" alt="" loading="lazy"/></p>
<p>å…¶ä¸­AWQæ˜¯é˜¿é‡Œæœ€æ¨èçš„é‡åŒ–æ–¹æ³•ï¼Œä½ å¯ä»¥çœ‹åˆ°AWQé‡åŒ–åçš„æ¨¡å‹ä¸‹è½½é‡ä¸€èˆ¬éƒ½æ˜¯æœ€å¤šçš„ï¼Œè€ŒGGUFçš„æ¨¡å‹æ ¼å¼åˆ™æ˜¯æˆ‘ä»¬æ¥ä¸‹æ¥è¦è®²çš„ollamaä¸»è¦æ”¯æŒçš„æ¨¡å‹æ ¼å¼ã€‚è¿™é‡Œè¦æ³¨æ„ollamaä¸»è¦æ”¯æŒçš„æ˜¯ggufæ ¼å¼ï¼Œè€Œvllmå¯ä»¥æ”¯æŒç»å¤§å¤šæ•°çš„æ¨¡å‹æ ¼å¼ï¼Œæ‰€ä»¥ä¼ä¸šåº”ç”¨ä¸­å¤§éƒ½æ˜¯ä½¿ç”¨vllméƒ¨ç½²æ¨¡å‹è€Œollamaå¤šç”¨äºä¸ªäººåº”ç”¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/43ed6d91d33043f0a8f36e23eb785bf4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=oKsfMUkTbvWOw4UPEgdPtfZw2LQ%3D" alt="" loading="lazy"/></p>
<p>ä¸‹é¢è¿™äº›å‚æ•°å°±ä»£è¡¨äº†æ¨¡å‹ çš„ä½å®½ï¼Œæ¯”å¦‚FP8å°±æ˜¯8bitçš„ï¼ŒGPTQ-Int4å°±æ˜¯4bitçš„ï¼ŒåŒç†GPTQ-Int8ä¹Ÿæ˜¯8bitçš„ï¼ŒINT4å°±æ˜¯4bitçš„ã€‚é»˜è®¤çš„AWQå’ŒGGUFæ–¹æ³•åˆ™æ˜¯4bitçš„ä½å®½ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/847b21166dda44beba285e43e5626abf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=hs79XWoHyU49ebzaoFIOD8MvO2E%3D" alt="" loading="lazy"/></p>
<p>å¯èƒ½ç¬¬ä¸€æ—¶é—´æœ‰ç‚¹ä¸å¥½ç†è§£æ‰€ä»¥ç»™å¤§å®¶æ€»ç»“ä¸€ä¸‹ï¼Œæ˜¾å­˜èµ„æºæœ‰é™æƒ…å†µä¸‹ï¼Œä¸€èˆ¬vLLMæ¡†æ¶æ¥è¯´ä½¿ç”¨AWQé‡åŒ–åå³å¯ï¼Œä½†å¦‚æœä½ è¦ä½¿ç”¨ollamaå°±ç”¨GGUFæ ¼å¼çš„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46ba4a51651e4600966510151a055b98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=x8BbH7VnosVnZv%2FeT8SmpQ9SDPI%3D" alt="" loading="lazy"/></p>
<p>è¿™æ—¶å€™å¤§å®¶æ ¹æ®ä¸Šé¢çš„å…¬å¼å†æ¬¡ä¼°ç®—ä¸€æ¬¡ä¸‹é¢çš„æ¨¡å‹éœ€è¦çš„ç°å­˜æ˜¯å¤šå°‘å‘¢ï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fa715bd87f8746378acf7edf1d8f885d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=0Ysb1cjiBDGCYpTGMdvLKd29gwU%3D" alt="" loading="lazy"/></p>
<p>æ¨¡å‹çš„å‚æ•°æ˜¯8Bï¼Œæ‰€ä»¥På°±æ˜¯8ï¼ŒGGUFé»˜è®¤ollamaæ‹‰å–çš„æ˜¯4bité‡åŒ–çš„ç‰ˆæœ¬ï¼Œæ‰€ä»¥Qå°±æ˜¯4ï¼Œé‚£ä¹ˆæœ€åçš„æ˜¾å­˜æ‰€éœ€å¤§æ¦‚å°±æ˜¯4.8Gã€‚</p>
<p><strong>ollamaéƒ¨ç½²æ•™ç¨‹</strong></p>
<p>æˆ‘ä»¬æ‹¿è£…æœ‰Nå¡çš„windowsæ¥ä¸¾ä¾‹å­ï¼Œmacå’Œlinuxçš„å®‰è£…æ–¹æ³•éƒ½å·®ä¸å¤šï¼Œå¤§å®¶å¯ä»¥æŸ¥çœ‹å®˜ç½‘ï¼Œollamaçš„å®˜ç½‘å¦‚ä¸‹ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Follama.com%2Fdownload" target="_blank" title="https://ollama.com/download" ref="nofollow noopener noreferrer">ollama.com/download</a></p>
<p>å®‰è£…ollamaä¹‹å‰ä½ éœ€è¦ç¡®ä¿ä½ çš„Nå¡æœ‰è‹±ä¼Ÿè¾¾çš„cudaé©±åŠ¨ï¼Œå¯ä»¥è¿è¡Œï¼šnvidia-smi æ¥æŸ¥çœ‹æ˜¯å¦æœ‰ç±»ä¼¼ä¸‹é¢çš„è¾“å‡ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb1c43d606494527b75167acd3ab6b68~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=GZYW0GLpQK1t9Ld6E0oSKLVzZFY%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœæ²¡æœ‰çš„è¯éœ€è¦åˆ°å®˜æ–¹ä¸‹è½½æœ€æ–°çš„æ˜¾å¡é©±åŠ¨ï¼Œæ²¡æœ‰gpuä¹Ÿæ²¡å…³ç³»ï¼Œå› ä¸ºollamaå¯ä»¥å°†æ¨¡å‹æ¨ç†æ”¾åœ¨cpuä¸Šã€‚é©±åŠ¨ä¸‹è½½åœ°å€ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nvidia.cn%2Fsoftware%2Fnvidia-app%2F" target="_blank" title="https://www.nvidia.cn/software/nvidia-app/" ref="nofollow noopener noreferrer">www.nvidia.cn/software/nvâ€¦</a></p>
<p>éšåæ‰“å¼€ollamaå®˜ç½‘åï¼Œæ‰¾åˆ°ä½ è¦çš„ç‰ˆæœ¬ç‚¹å‡»ä¸‹è½½å³å¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ede79afd721245d2bb9e34158b7cab3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=65vic8PqaofbN3XdxeSkUkqgC3s%3D" alt="" loading="lazy"/></p>
<p>ä½ éœ€è¦åœ¨Cç›˜ç•™è¶³å¤Ÿçš„ç©ºé—´Â å› ä¸ºollamaä¸‹è½½åæ˜¯å¿…é¡»è¦å®‰è£…åœ¨Cç›˜çš„ã€‚å½“ä½ å®‰è£…å¥½ä¹‹åï¼Œå¯ä»¥è¾“å…¥ï¼šollama -v æ¥æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼Œå‡ºç°ç‰ˆæœ¬å·å°±æ˜¯å®‰è£…æˆåŠŸäº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d478318ae4034c1dbb94c34b2efac284~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=LM6AGvc5SA0jKIXd%2BKBSPe05yNA%3D" alt="" loading="lazy"/></p>
<p>å®‰è£…å¥½äº†ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸‹æ¨¡å‹æ–‡ä»¶é»˜è®¤å­˜æ”¾çš„è·¯å¾„ï¼Œä¸ç„¶ä½ ä¸è®¾ç½®ä»–å°±æŠŠæ¨¡å‹å…¨æ”¾åœ¨cç›˜äº†ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è®¾ç½®ollamaçš„æ¨¡å‹å®‰è£…è·¯å¾„ï¼ˆéœ€è¦å…ˆåˆ›å»ºå¯¹åº”æ–‡ä»¶å¤¹ï¼‰ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">setx /M OLLAMA_MODELS <span class="hljs-string">"D:\Ollama\models"</span>
</code></pre>
<p>æˆ–è€…é€šè¿‡ollamaæœ€æ–°ç‰ˆçš„å‰ç«¯ç•Œé¢è®¾ç½®æ¨¡å‹å®‰è£…è·¯å¾„ä¹Ÿå¯ä»¥ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/523cb18e3e14413196abb9c4555ad610~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=TCDfwq7c6h2uM%2FnwGPutru5ZttA%3D" alt="" loading="lazy"/></p>
<p>æ³¨æ„è¿è¡Œä¹‹åéœ€è¦å…³é—­ollamaåé‡æ–°å¼€ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£ã€‚è¿™æ ·æ‰ä¼šç”Ÿæ•ˆã€‚</p>
<p>æ¨¡å‹çš„å®‰è£…ä¹Ÿå¾ˆç®€å•ï¼Œé­”æ­ç¤¾åŒºå°±æ”¯æŒollamaçš„å‘½ä»¤è¡Œä¸€é”®ä¸‹è½½æ¨¡å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰¾ä¸€ä¸ªggufæ ¼å¼çš„æ¨¡å‹ï¼Œå¤åˆ¶è¿™ä¸ªç½‘å€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e94d2c1cf31846b68ecc1c32a6dad1c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=k9w9A4LVuHUZja8G8AJ4aNANhT4%3D" alt="" loading="lazy"/></p>
<p>ç„¶åè¿è¡Œä¸‹é¢çš„å‘½ä»¤:</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f532df8f149447aa4478423b034fad0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=6A1GZLBtiZVBsfjuNzM%2BLXfWC8k%3D" alt="" loading="lazy"/></p>
<p>è¿™é‡Œè¦æ³¨æ„çš„ollama run åé¢çš„æ¨¡å‹åœ°å€æ˜¯æˆ‘ä»¬åˆšåˆšå¤åˆ¶çš„åœ°å€å»æ‰<a href="https://link.juejin.cn?target=http%3A%2F%2F%25E4%25BB%25A5%25E5%258F%258A" target="_blank" title="http://%E4%BB%A5%E5%8F%8A" ref="nofollow noopener noreferrer">http://ä»¥åŠ</a> models/ çš„ç»“æœå“¦ï¼ˆå¯¹äºqwenæ¥è¯´ï¼‰ã€‚</p>
<p>åœ¨ä»»åŠ¡ç®¡ç†å™¨ä¸­å¯ä»¥çœ‹åˆ°æ²¡æœ‰è¯¢é—®æ¨¡å‹çš„cpuå’Œgpuå ç”¨æƒ…å†µï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c1808951b3243efa16de40b38ea6e89~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=S30lBBNabJrwcK%2BvnoezQD4oRQY%3D" alt="" loading="lazy"/></p>
<p>aiåœ¨æ¨ç†çš„è¿‡ç¨‹ä¸­å¯ä»¥çœ‹åˆ°cpuå’Œgpuçš„ä½¿ç”¨åº¦éƒ½æ˜æ˜¾åœ°å˜é«˜äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/41845c14b024400388b84bec7b9f9808~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=EiD%2B3gUnZAAs9R3qxZ6E%2BasTXoQ%3D" alt="" loading="lazy"/></p>
<p>é™¤äº†åœ¨å‘½ä»¤è¡Œé€šè¿‡ollama runè¿›è¡Œæ¨¡å‹æé—®ä¹‹å¤–ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨ollamaçš„å‰ç«¯ç•Œé¢ä¸­å¯¹è‡ªå·±éƒ¨ç½²çš„æœ¬åœ°æ¨¡å‹è¿›è¡Œæé—®ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨Open WebUIç­‰å·¥å…·ä½œä¸ºæœ¬åœ°æ¨¡å‹çš„å¯è§†åŒ–ç•Œé¢ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad5919af61364ea0b7bead178c18baaa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=hmXggsZR01%2FvNA%2BdsF1%2BvqZvoiw%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœä½ æƒ³è®©ollamaä¸‹è½½ä¸æ˜¯é»˜è®¤4bité‡åŒ–çš„æ¨¡å‹çš„è¯ï¼Œå…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œè¿˜æ˜¯åœ¨é­”æ­ç¤¾åŒºGGUFæ ¼å¼æ¨¡å‹é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°ä¸åŒçš„é‡åŒ–æƒ…å†µã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db529cbc502b4087ba7b91a3fabd2f9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=WRCdTgMxKiM6bPxaV%2Bw0lbyC2Wk%3D" alt="" loading="lazy"/></p>
<p>æ¯”å¦‚æˆ‘æƒ³<strong>è®©ollamaæ‹‰å»8bité‡åŒ–çš„ï¼Œå°±åœ¨æ¨¡å‹æ‹‰å–åœ°å€ä¸­åŠ ä¸Š:Q8_0å³å¯</strong>ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ddd4c3003dc4f1d9ff55836ab9240a7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763609756&amp;x-signature=A0G4YuEh0x5e7i7M4v4wuMh3Wis%3D" alt="" loading="lazy"/></p>
<p>æ‹‰å–å‘½ä»¤ä¸ºï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">ollama run modelscope.cn/Qwen/Qwen3<span class="hljs-number">-8B</span>-GGUF:Q8_0
</code></pre>
<p>è‡³æ­¤ï¼Œä½ å·²åœ¨æœ¬åœ°å®Œæˆ AI éƒ¨ç½²ï¼Œå®ç°ç¦»çº¿æ¨ç†ã€‚ä½† Ollama è¿˜èƒ½æ›´å¼ºå¤§ï¼Œæ¯”å¦‚éƒ¨ç½²å¤šæ¨¡æ€æ¨¡å‹ã€é€šè¿‡æ¥å£å¼€æ”¾æ¨¡å‹æœåŠ¡ã€çµæ´»æ§åˆ¶ CPU/GPU åˆ†å±‚åŠ è½½ã€è°ƒæ•´ä¸Šä¸‹æ–‡ä¸æ‰¹é‡å‚æ•°ç­‰ï¼Œä½†æ˜¯æ²¡å…³ç³»ï¼Œä¸€åˆ‡éƒ½æ˜¯è¦å¾ªåºæ¸è¿›çš„æ¥ï¼Œè¿™äº›æˆ‘ä»¬åœ¨åç»­çš„æ–‡ç« ä¼šè¯´ã€‚</p>
<p>å¦‚æœå¤§å®¶åˆ°è¿™é‡ŒæˆåŠŸçš„éƒ¨ç½²äº†è‡ªå·±çš„æ¨¡å‹ï¼Œåç»­ä¼šç»™å¤§å®¶æ¨å‡ºæ›´è¿›ä¸€æ­¥çš„æ•™ç¨‹å’Œåº”ç”¨æ–¹æ³•ã€‚</p>
<h2 data-id="heading-0">å­¦ä¹ èµ„æºæ¨è</h2>
<p>å¦‚æœä½ æƒ³æ›´æ·±å…¥åœ°å­¦ä¹ å¤§æ¨¡å‹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›éå¸¸æœ‰ä»·å€¼çš„å­¦ä¹ èµ„æºï¼Œè¿™äº›èµ„æºå°†å¸®åŠ©ä½ ä»ä¸åŒè§’åº¦å­¦ä¹ å¤§æ¨¡å‹ï¼Œæå‡ä½ çš„å®è·µèƒ½åŠ›ã€‚</p>
<blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fhy.zhipoai.cn%2F" target="_blank" title="https://hy.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CompletableFutureçš„5å¤§å‘ï¼]]></title>    <link>https://juejin.cn/post/7571693273729286180</link>    <guid>https://juejin.cn/post/7571693273729286180</guid>    <pubDate>2025-11-13T02:29:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571693273729286180" data-draft-id="7571678388955332627" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CompletableFutureçš„5å¤§å‘ï¼"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-13T02:29:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹ä¸‰è¯´æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/465848661970824"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CompletableFutureçš„5å¤§å‘ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/465848661970824/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹ä¸‰è¯´æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T02:29:15.000Z" title="Thu Nov 13 2025 02:29:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>CompletableFutureåœ¨å¹¶å‘ç¼–ç¨‹ä¸­éå¸¸å®ç”¨ï¼Œä½†å¦‚æœç”¨ä¸å¥½ï¼Œä¹Ÿå¾ˆå®¹æ˜“è¸©å‘ã€‚</p>
<p>ä»Šå¤©è¿™ç¯‡æ–‡ç« è·Ÿå¤§å®¶ä¸€èµ·èŠèŠï¼ŒCompletableFutureåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æœ€å¸¸è§çš„é‚£äº›å‘ï¼Œå¸Œæœ›å¯¹ä½ ä¼šæœ‰æ‰€å¸®åŠ©ã€‚</p>
<p><a href="https://link.juejin.cn/?target=http%3A%2F%2Fwww.susan.net.cn%3Frefer%3Djuejin" title="https://link.juejin.cn/?target=http%3A%2F%2Fwww.susan.net.cn%3Frefer%3Djuejin" target="_blank">æœ€è¿‘å‡†å¤‡é¢è¯•çš„å°ä¼™ä¼´ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸ªå®è—ç½‘ç«™ï¼ˆJavaçªå‡»é˜Ÿï¼‰ï¼šwww.susan.net.cnï¼Œé‡Œé¢ï¼šé¢è¯•å…«è‚¡æ–‡ã€åœºæ™¯è®¾è®¡é¢˜ã€é¢è¯•çœŸé¢˜ã€7ä¸ªé¡¹ç›®å®æˆ˜ã€å·¥ä½œå†…æ¨ä»€ä¹ˆéƒ½æœ‰</a>ã€‚</p>
<p><a href="https://link.juejin.cn/?target=http%3A%2F%2Fwww.susan.net.cn%2Fcontact%2Fneitui.html" title="https://link.juejin.cn/?target=http%3A%2F%2Fwww.susan.net.cn%2Fcontact%2Fneitui.html" target="_blank">åŠ è‹ä¸‰çš„å·¥ä½œå†…æ¨ç¾¤</a></p>
<h2 data-id="heading-1">ä¸€ã€CompletableFutureç®€ä»‹</h2>
<p>æœ‰äº›å°ä¼™ä¼´åœ¨å·¥ä½œä¸­åˆšå¼€å§‹æ¥è§¦CompletableFutureæ—¶ï¼Œå¯èƒ½ä¼šè¢«å®ƒå¼ºå¤§çš„åŠŸèƒ½æ‰€å¸å¼•ã€‚</p>
<p>ç¡®å®ï¼ŒCompletableFutureä¸ºæˆ‘ä»¬æä¾›äº†éå¸¸ä¼˜é›…çš„å¼‚æ­¥ç¼–ç¨‹æ–¹å¼ï¼Œä½†æ­£å¦‚æ­¦ä¾ å°è¯´ä¸­çš„ç¥å…µåˆ©å™¨ï¼Œå¦‚æœä½¿ç”¨ä¸å½“ï¼Œåè€Œä¼šä¼¤åˆ°è‡ªå·±ã€‚</p>
<h3 data-id="heading-2">CompletableFutureçš„åŸºæœ¬ç”¨æ³•</h3>
<p>å…ˆæ¥çœ‹ä¸€ä¸ªç®€å•çš„CompletableFutureä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BasicCompletableFutureDemo</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// ç®€å•çš„å¼‚æ­¥è®¡ç®—</span>
        CompletableFuture&lt;String&gt; future = CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-comment">// æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ</span>
            <span class="hljs-keyword">try</span> {
                Thread.sleep(<span class="hljs-number">1000</span>);
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                e.printStackTrace();
            }
            <span class="hljs-keyword">return</span> <span class="hljs-string">"Hello, CompletableFuture!"</span>;
        });
        
        <span class="hljs-comment">// è·å–ç»“æœï¼ˆé˜»å¡ï¼‰</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> future.get();
        System.out.println(result);
    }
}
</code></pre>
<p>çœ‹èµ·æ¥å¾ˆç®€å•å¯¹å§ï¼Ÿä½†æ­£æ˜¯è¿™ç§è¡¨é¢ä¸Šçš„ç®€å•ï¼Œæ©ç›–äº†å¾ˆå¤šæ½œåœ¨çš„å¤æ‚æ€§ã€‚</p>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªæ¶æ„å›¾æ¥ç†è§£CompletableFutureçš„å®Œæ•´ç”Ÿæ€ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7f127463bd94c2fb8a3c19c585e4fbc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763605755&amp;x-signature=PExu2mOkUWYr4biwfx1m66%2FA8Fo%3D" alt="" loading="lazy"/></p>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬å¼€å§‹æ·±å…¥æ¢è®¨å„ä¸ªå‘ç‚¹ã€‚</p>
<h2 data-id="heading-3">äºŒã€çº¿ç¨‹æ± ä½¿ç”¨ä¸å½“</h2>
<p>æœ‰äº›å°ä¼™ä¼´åœ¨ä½¿ç”¨CompletableFutureæ—¶ï¼Œå¾€å¾€å¿½ç•¥äº†çº¿ç¨‹æ± çš„é…ç½®ï¼Œè¿™å¯èƒ½æ˜¯æœ€å®¹æ˜“è¢«å¿½è§†ä½†å½±å“æœ€å¤§çš„å‘ã€‚</p>
<h3 data-id="heading-4">é»˜è®¤çº¿ç¨‹æ± çš„é™·é˜±</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadPoolPitfall</span> {
    
    <span class="hljs-comment">// å±é™©çš„ç”¨æ³•ï¼šå¤§é‡ä½¿ç”¨é»˜è®¤çº¿ç¨‹æ± </span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processBatchData</span><span class="hljs-params">(List&lt;String&gt; dataList)</span> {
        List&lt;CompletableFuture&lt;String&gt;&gt; futures = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        
        <span class="hljs-keyword">for</span> (String data : dataList) {
            <span class="hljs-comment">// ä½¿ç”¨é»˜è®¤çš„ForkJoinPool.commonPool()</span>
            CompletableFuture&lt;String&gt; future = CompletableFuture.supplyAsync(() -&gt; {
                <span class="hljs-keyword">return</span> processData(data);
            });
            futures.add(future);
        }
        
        <span class="hljs-comment">// ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ</span>
        CompletableFuture.allOf(fatures.toArray(<span class="hljs-keyword">new</span> <span class="hljs-title class_">CompletableFuture</span>[<span class="hljs-number">0</span>]))
                        .join();
    }
    
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">processData</span><span class="hljs-params">(String data)</span> {
        <span class="hljs-comment">// æ¨¡æ‹Ÿæ•°æ®å¤„ç†</span>
        <span class="hljs-keyword">try</span> {
            Thread.sleep(<span class="hljs-number">100</span>);
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
        <span class="hljs-keyword">return</span> data.toUpperCase();
    }
}
</code></pre>
<p><strong>é—®é¢˜åˆ†æï¼š</strong></p>
<ul>
<li>é»˜è®¤çº¿ç¨‹æ± å¤§å°æ˜¯CPUæ ¸å¿ƒæ•°-1</li>
<li>åœ¨IOå¯†é›†å‹ä»»åŠ¡ä¸­ï¼Œè¿™ä¼šå¯¼è‡´å¤§é‡ä»»åŠ¡æ’é˜Ÿç­‰å¾…</li>
<li>å¦‚æœä»»åŠ¡æäº¤é€Ÿåº¦ &gt; ä»»åŠ¡å¤„ç†é€Ÿåº¦ï¼Œä¼šé€ æˆå†…å­˜æº¢å‡º</li>
</ul>
<h3 data-id="heading-5">æ­£ç¡®çš„çº¿ç¨‹æ± ä½¿ç”¨æ–¹å¼</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProperThreadPoolUsage</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ExecutorService ioBoundExecutor;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ExecutorService cpuBoundExecutor;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ProperThreadPoolUsage</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// IOå¯†é›†å‹ä»»åŠ¡ - ä½¿ç”¨è¾ƒå¤§çš„çº¿ç¨‹æ± </span>
        <span class="hljs-built_in">this</span>.ioBoundExecutor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>(
            <span class="hljs-number">50</span>, <span class="hljs-comment">// æ ¸å¿ƒçº¿ç¨‹æ•°</span>
            <span class="hljs-number">100</span>, <span class="hljs-comment">// æœ€å¤§çº¿ç¨‹æ•°</span>
            <span class="hljs-number">60L</span>, TimeUnit.SECONDS, <span class="hljs-comment">// ç©ºé—²çº¿ç¨‹å­˜æ´»æ—¶é—´</span>
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedBlockingQueue</span>&lt;&gt;(<span class="hljs-number">1000</span>), <span class="hljs-comment">// å·¥ä½œé˜Ÿåˆ—</span>
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadFactoryBuilder</span>().setNameFormat(<span class="hljs-string">"io-pool-%d"</span>).build(),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>.CallerRunsPolicy() <span class="hljs-comment">// æ‹’ç»ç­–ç•¥</span>
        );
        
        <span class="hljs-comment">// CPUå¯†é›†å‹ä»»åŠ¡ - ä½¿ç”¨è¾ƒå°çš„çº¿ç¨‹æ± </span>
        <span class="hljs-built_in">this</span>.cpuBoundExecutor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>(
            Runtime.getRuntime().availableProcessors(), <span class="hljs-comment">// CPUæ ¸å¿ƒæ•°</span>
            Runtime.getRuntime().availableProcessors() * <span class="hljs-number">2</span>,
            <span class="hljs-number">60L</span>, TimeUnit.SECONDS,
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedBlockingQueue</span>&lt;&gt;(<span class="hljs-number">100</span>),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadFactoryBuilder</span>().setNameFormat(<span class="hljs-string">"cpu-pool-%d"</span>).build(),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>.AbortPolicy()
        );
    }
    
    <span class="hljs-keyword">public</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">processWithProperPool</span><span class="hljs-params">(String data)</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-comment">// IOæ“ä½œï¼Œä½¿ç”¨IOçº¿ç¨‹æ± </span>
            <span class="hljs-keyword">return</span> fetchFromDatabase(data);
        }, ioBoundExecutor);
    }
    
    <span class="hljs-keyword">public</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">computeWithProperPool</span><span class="hljs-params">(String data)</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-comment">// CPUå¯†é›†å‹è®¡ç®—ï¼Œä½¿ç”¨CPUçº¿ç¨‹æ± </span>
            <span class="hljs-keyword">return</span> heavyComputation(data);
        }, cpuBoundExecutor);
    }
    
    <span class="hljs-comment">// èµ„æºæ¸…ç†</span>
    <span class="hljs-meta">@PreDestroy</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span> {
        ioBoundExecutor.shutdown();
        cpuBoundExecutor.shutdown();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (!ioBoundExecutor.awaitTermination(<span class="hljs-number">5</span>, TimeUnit.SECONDS)) {
                ioBoundExecutor.shutdownNow();
            }
            <span class="hljs-keyword">if</span> (!cpuBoundExecutor.awaitTermination(<span class="hljs-number">5</span>, TimeUnit.SECONDS)) {
                cpuBoundExecutor.shutdownNow();
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            ioBoundExecutor.shutdownNow();
            cpuBoundExecutor.shutdownNow();
            Thread.currentThread().interrupt();
        }
    }
}
</code></pre>
<h3 data-id="heading-6">çº¿ç¨‹æ± å·¥ä½œæµç¨‹å¯¹æ¯”</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c38829086cd744bb960248d2eb87f280~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763605755&amp;x-signature=Wo1WlcxGCfGe7SH92rLYjopVg3E%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-7">ä¸‰ã€å¼‚å¸¸ä¸ºä»€ä¹ˆç¥ç§˜æ¶ˆå¤±äº†ï¼Ÿ</h2>
<p>æœ‰äº›å°ä¼™ä¼´åœ¨è°ƒè¯•CompletableFutureæ—¶ï¼Œç»å¸¸ä¼šå‘ç°å¼‚å¸¸"ç¥ç§˜æ¶ˆå¤±"äº†ï¼Œè¿™å…¶å®æ˜¯CompletableFutureå¼‚å¸¸å¤„ç†æœºåˆ¶çš„ä¸€ä¸ªç‰¹æ€§ã€‚</p>
<h3 data-id="heading-8">å¼‚å¸¸ä¸¢å¤±çš„å…¸å‹æ¡ˆä¾‹</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExceptionDisappearance</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testExceptionLost</span><span class="hljs-params">()</span> {
        CompletableFuture&lt;String&gt; future = CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-comment">// è¿™é‡Œä¼šæŠ›å‡ºå¼‚å¸¸</span>
            <span class="hljs-keyword">return</span> dangerousOperation();
        });
        
        <span class="hljs-comment">// æ·»åŠ è½¬æ¢é“¾</span>
        CompletableFuture&lt;String&gt; resultFuture = future.thenApply(result -&gt; {
            System.out.println(<span class="hljs-string">"å¤„ç†ç»“æœ: "</span> + result);
            <span class="hljs-keyword">return</span> result + <span class="hljs-string">" processed"</span>;
        });
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// è¿™é‡Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> resultFuture.get();
            System.out.println(<span class="hljs-string">"æœ€ç»ˆç»“æœ: "</span> + result);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-comment">// å¼‚å¸¸è¢«åŒ…è£…åœ¨ExecutionExceptionä¸­</span>
            System.out.println(<span class="hljs-string">"æ•è·åˆ°å¼‚å¸¸: "</span> + e.getClass().getName());
            System.out.println(<span class="hljs-string">"æ ¹æœ¬åŸå› : "</span> + e.getCause().getMessage());
        }
    }
    
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">dangerousOperation</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"ä¸šåŠ¡æ“ä½œå¤±è´¥ï¼"</span>);
    }
    
    <span class="hljs-comment">// æ›´éšè”½çš„å¼‚å¸¸ä¸¢å¤±</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testHiddenExceptionLoss</span><span class="hljs-params">()</span> {
        CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BusinessException</span>(<span class="hljs-string">"é‡è¦å¼‚å¸¸"</span>);
        }).thenAccept(result -&gt; {
            <span class="hljs-comment">// å¦‚æœä¸Šæ¸¸æœ‰å¼‚å¸¸ï¼Œè¿™é‡Œä¸ä¼šæ‰§è¡Œ</span>
            System.out.println(<span class="hljs-string">"å¤„ç†ç»“æœ: "</span> + result);
        });
        
        <span class="hljs-comment">// ç¨‹åºç»§ç»­æ‰§è¡Œï¼Œå¼‚å¸¸è¢«å¿½ç•¥ï¼</span>
        System.out.println(<span class="hljs-string">"ç¨‹åºæ­£å¸¸ç»“æŸï¼Œä½†å¼‚å¸¸ä¸¢å¤±äº†ï¼"</span>);
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BusinessException</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">RuntimeException</span> {
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">BusinessException</span><span class="hljs-params">(String message)</span> {
            <span class="hljs-built_in">super</span>(message);
        }
    }
}
</code></pre>
<h3 data-id="heading-9">CompletableFutureå¼‚å¸¸å¤„ç†æœºåˆ¶</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4cfdb8e566a349bd8ad1a44b3ddd10b3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763605755&amp;x-signature=hEQQAjLov96H1FV8SZnojs8mg60%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-10">æ­£ç¡®çš„å¼‚å¸¸å¤„ç†æ–¹å¼</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProperExceptionHandling</span> {
    
    <span class="hljs-comment">// æ–¹æ³•1ï¼šä½¿ç”¨exceptionallyè¿›è¡Œæ¢å¤</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">handleWithRecovery</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-keyword">return</span> riskyOperation();
        }).exceptionally(throwable -&gt; {
            <span class="hljs-comment">// å¼‚å¸¸æ¢å¤</span>
            System.err.println(<span class="hljs-string">"æ“ä½œå¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤å€¼: "</span> + throwable.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-string">"default-value"</span>;
        });
    }
    
    <span class="hljs-comment">// æ–¹æ³•2ï¼šä½¿ç”¨handleç»Ÿä¸€å¤„ç†</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">handleWithUnified</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-keyword">return</span> riskyOperation();
        }).handle((result, throwable) -&gt; {
            <span class="hljs-keyword">if</span> (throwable != <span class="hljs-literal">null</span>) {
                <span class="hljs-comment">// å¤„ç†å¼‚å¸¸</span>
                System.err.println(<span class="hljs-string">"æ“ä½œå¼‚å¸¸: "</span> + throwable.getMessage());
                <span class="hljs-keyword">return</span> <span class="hljs-string">"error-value"</span>;
            }
            <span class="hljs-keyword">return</span> result + <span class="hljs-string">"-processed"</span>;
        });
    }
    
    <span class="hljs-comment">// æ–¹æ³•3ï¼šä½¿ç”¨whenCompleteè¿›è¡Œå‰¯ä½œç”¨å¤„ç†</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;Void&gt; <span class="hljs-title function_">handleWithSideEffect</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-keyword">return</span> riskyOperation();
        }).whenComplete((result, throwable) -&gt; {
            <span class="hljs-keyword">if</span> (throwable != <span class="hljs-literal">null</span>) {
                <span class="hljs-comment">// è®°å½•æ—¥å¿—ã€å‘é€å‘Šè­¦ç­‰</span>
                logError(throwable);
                sendAlert(throwable);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// æ­£å¸¸ä¸šåŠ¡å¤„ç†</span>
                processResult(result);
            }
        });
    }
    
    <span class="hljs-comment">// æ–¹æ³•4ï¼šç»„åˆæ“ä½œä¸­çš„å¼‚å¸¸å¤„ç†</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">handleInComposition</span><span class="hljs-params">()</span> {
        CompletableFuture&lt;String&gt; future1 = CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-keyword">return</span> operation1();
        });
        
        CompletableFuture&lt;String&gt; future2 = future1.thenCompose(result1 -&gt; {
            <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
                <span class="hljs-keyword">return</span> operation2(result1);
            });
        });
        
        <span class="hljs-comment">// åœ¨æ•´ä¸ªé“¾çš„æœ«å°¾å¤„ç†å¼‚å¸¸</span>
        <span class="hljs-keyword">return</span> future2.exceptionally(throwable -&gt; {
            <span class="hljs-type">Throwable</span> <span class="hljs-variable">rootCause</span> <span class="hljs-operator">=</span> getRootCause(throwable);
            <span class="hljs-keyword">if</span> (rootCause <span class="hljs-keyword">instanceof</span> BusinessException) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">"business-fallback"</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (rootCause <span class="hljs-keyword">instanceof</span> TimeoutException) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">"timeout-fallback"</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-string">"unknown-error"</span>;
            }
        });
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">logError</span><span class="hljs-params">(Throwable throwable)</span> {
        <span class="hljs-comment">// è®°å½•é”™è¯¯æ—¥å¿—</span>
        System.err.println(<span class="hljs-string">"é”™è¯¯è®°å½•: "</span> + throwable.getMessage());
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendAlert</span><span class="hljs-params">(Throwable throwable)</span> {
        <span class="hljs-comment">// å‘é€å‘Šè­¦</span>
        System.out.println(<span class="hljs-string">"å‘é€å‘Šè­¦: "</span> + throwable.getMessage());
    }
    
    <span class="hljs-keyword">private</span> Throwable <span class="hljs-title function_">getRootCause</span><span class="hljs-params">(Throwable throwable)</span> {
        <span class="hljs-type">Throwable</span> <span class="hljs-variable">cause</span> <span class="hljs-operator">=</span> throwable;
        <span class="hljs-keyword">while</span> (cause.getCause() != <span class="hljs-literal">null</span>) {
            cause = cause.getCause();
        }
        <span class="hljs-keyword">return</span> cause;
    }
}
</code></pre>
<h2 data-id="heading-11">å››ã€å›è°ƒåœ°ç‹±ï¼šå½“å¼‚æ­¥å˜æˆ"å¼‚ç—›"</h2>
<p>æœ‰äº›å°ä¼™ä¼´åœ¨å¤æ‚ä¸šåŠ¡åœºæ™¯ä¸­ä½¿ç”¨CompletableFutureæ—¶ï¼Œå¾ˆå®¹æ˜“é™·å…¥å›è°ƒåœ°ç‹±ï¼Œä»£ç å˜å¾—éš¾ä»¥ç†è§£å’Œç»´æŠ¤ã€‚</p>
<h3 data-id="heading-12">å›è°ƒåœ°ç‹±çš„å…¸å‹æ¡ˆä¾‹</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CallbackHell</span> {
    
    <span class="hljs-keyword">public</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">processUserOrder</span><span class="hljs-params">(String userId)</span> {
        <span class="hljs-keyword">return</span> getUserInfo(userId)
            .thenCompose(userInfo -&gt; {
                <span class="hljs-keyword">return</span> getOrderHistory(userInfo.getId())
                    .thenCompose(orderHistory -&gt; {
                        <span class="hljs-keyword">return</span> calculateDiscount(userInfo, orderHistory)
                            .thenCompose(discount -&gt; {
                                <span class="hljs-keyword">return</span> createOrder(userInfo, discount)
                                    .thenCompose(order -&gt; {
                                        <span class="hljs-keyword">return</span> sendConfirmation(userInfo, order);
                                    });
                            });
                    });
            });
    }
    
    <span class="hljs-comment">// ä¸Šè¿°ä»£ç çš„"å¹³é“º"ç‰ˆæœ¬ï¼ŒåŒæ ·éš¾ä»¥é˜…è¯»</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">processUserOrderFlat</span><span class="hljs-params">(String userId)</span> {
        <span class="hljs-keyword">return</span> getUserInfo(userId)
            .thenCompose(userInfo -&gt; getOrderHistory(userInfo.getId()))
            .thenCompose(orderHistory -&gt; getUserInfo(userId))
            .thenCompose(userInfo -&gt; calculateDiscount(userInfo, orderHistory))
            .thenCompose(discount -&gt; getUserInfo(userId))
            .thenCompose(userInfo -&gt; createOrder(userInfo, discount))
            .thenCompose(order -&gt; getUserInfo(userId))
            .thenCompose(userInfo -&gt; sendConfirmation(userInfo, order));
    }
}
</code></pre>
<h3 data-id="heading-13">ç»“æ„åŒ–å¼‚æ­¥ç¼–ç¨‹è§£å†³æ–¹æ¡ˆ</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StructuredAsyncProgramming</span> {
    
    <span class="hljs-comment">// å®šä¹‰ä¸šåŠ¡æ•°æ®ç±»</span>
    <span class="hljs-meta">@Data</span>
    <span class="hljs-meta">@AllArgsConstructor</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderContext</span> {
        <span class="hljs-keyword">private</span> String userId;
        <span class="hljs-keyword">private</span> UserInfo userInfo;
        <span class="hljs-keyword">private</span> List&lt;Order&gt; orderHistory;
        <span class="hljs-keyword">private</span> Discount discount;
        <span class="hljs-keyword">private</span> Order order;
        <span class="hljs-keyword">private</span> String result;
    }
    
    <span class="hljs-keyword">public</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">processUserOrderStructured</span><span class="hljs-params">(String userId)</span> {
        <span class="hljs-type">OrderContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderContext</span>(userId, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>);
        
        <span class="hljs-keyword">return</span> getUserInfo(context.getUserId())
            .thenCompose(userInfo -&gt; {
                context.setUserInfo(userInfo);
                <span class="hljs-keyword">return</span> getOrderHistory(userInfo.getId());
            })
            .thenCompose(orderHistory -&gt; {
                context.setOrderHistory(orderHistory);
                <span class="hljs-keyword">return</span> calculateDiscount(context.getUserInfo(), orderHistory);
            })
            .thenCompose(discount -&gt; {
                context.setDiscount(discount);
                <span class="hljs-keyword">return</span> createOrder(context.getUserInfo(), discount);
            })
            .thenCompose(order -&gt; {
                context.setOrder(order);
                <span class="hljs-keyword">return</span> sendConfirmation(context.getUserInfo(), order);
            })
            .thenApply(result -&gt; {
                context.setResult(result);
                <span class="hljs-keyword">return</span> result;
            })
            .exceptionally(throwable -&gt; {
                <span class="hljs-comment">// ç»Ÿä¸€å¼‚å¸¸å¤„ç†</span>
                <span class="hljs-keyword">return</span> handleOrderError(context, throwable);
            });
    }
    
    <span class="hljs-comment">// ä½¿ç”¨thenCombineå¤„ç†å¹¶è¡Œä»»åŠ¡</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;UserProfile&gt; <span class="hljs-title function_">getUserProfile</span><span class="hljs-params">(String userId)</span> {
        CompletableFuture&lt;UserInfo&gt; userInfoFuture = getUserInfo(userId);
        CompletableFuture&lt;List&lt;Order&gt;&gt; orderHistoryFuture = getOrderHistory(userId);
        CompletableFuture&lt;List&lt;Address&gt;&gt; addressesFuture = getUserAddresses(userId);
        
        <span class="hljs-keyword">return</span> userInfoFuture.thenCombine(orderHistoryFuture, (userInfo, orders) -&gt; {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserProfile</span>(userInfo, orders, <span class="hljs-literal">null</span>);
        }).thenCombine(addressesFuture, (profile, addresses) -&gt; {
            profile.setAddresses(addresses);
            <span class="hljs-keyword">return</span> profile;
        });
    }
    
    <span class="hljs-comment">// ä½¿ç”¨allOfå¤„ç†å¤šä¸ªç‹¬ç«‹ä»»åŠ¡</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;Map&lt;String, Object&gt;&gt; <span class="hljs-title function_">getDashboardData</span><span class="hljs-params">(String userId)</span> {
        CompletableFuture&lt;UserInfo&gt; userInfoFuture = getUserInfo(userId);
        CompletableFuture&lt;List&lt;Order&gt;&gt; ordersFuture = getOrderHistory(userId);
        CompletableFuture&lt;List&lt;Notification&gt;&gt; notificationsFuture = getNotifications(userId);
        CompletableFuture&lt;Preferences&gt; preferencesFuture = getPreferences(userId);
        
        CompletableFuture&lt;Void&gt; allFutures = CompletableFuture.allOf(
            userInfoFuture, ordersFuture, notificationsFuture, preferencesFuture
        );
        
        <span class="hljs-keyword">return</span> allFutures.thenApply(v -&gt; {
            Map&lt;String, Object&gt; dashboard = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
            <span class="hljs-keyword">try</span> {
                dashboard.put(<span class="hljs-string">"userInfo"</span>, userInfoFuture.get());
                dashboard.put(<span class="hljs-string">"orders"</span>, ordersFuture.get());
                dashboard.put(<span class="hljs-string">"notifications"</span>, notificationsFuture.get());
                dashboard.put(<span class="hljs-string">"preferences"</span>, preferencesFuture.get());
            } <span class="hljs-keyword">catch</span> (Exception e) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CompletionException</span>(e);
            }
            <span class="hljs-keyword">return</span> dashboard;
        });
    }
}
</code></pre>
<h3 data-id="heading-14">å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼å¯¹æ¯”</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e942e5caf5e483e920c1c10311c14a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763605755&amp;x-signature=Pr1AU0Uv84vkw3bVQo%2Fv%2BOzOQn8%3D" alt="" loading="lazy"/></p>
<p>æ›´æ¨èçš„æ–¹æ¡ˆï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef5b3b1c0a4046a392f8edbd0aa4ba2e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763605755&amp;x-signature=XZzYXqQCqO9iyyDxciwC13GC%2F2g%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-15">äº”ã€å†…å­˜æ³„æ¼ï¼šéšè—çš„èµ„æºæ¶ˆè€—è€…</h2>
<p>æœ‰äº›å°ä¼™ä¼´å¯èƒ½æ²¡æœ‰æ„è¯†åˆ°ï¼Œä¸å½“ä½¿ç”¨CompletableFutureä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œç‰¹åˆ«æ˜¯åœ¨é•¿æ—¶é—´è¿è¡Œçš„åº”ç”¨ä¸­ã€‚</p>
<h3 data-id="heading-16">å†…å­˜æ³„æ¼çš„å¸¸è§åœºæ™¯</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MemoryLeakDemo</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, CompletableFuture&lt;String&gt;&gt; cache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
    
    <span class="hljs-comment">// åœºæ™¯1ï¼šæ— é™å¢é•¿çš„ç¼“å­˜</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">getDataWithLeak</span><span class="hljs-params">(String key)</span> {
        <span class="hljs-keyword">return</span> cache.computeIfAbsent(key, k -&gt; {
            <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; fetchData(k));
        });
    }
    
    <span class="hljs-comment">// åœºæ™¯2ï¼šæœªå®Œæˆçš„Futureç§¯ç´¯</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processWithUnfinishedFutures</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100000</span>; i++) {
            CompletableFuture&lt;String&gt; future = CompletableFuture.supplyAsync(() -&gt; {
                <span class="hljs-comment">// æ¨¡æ‹Ÿé•¿æ—¶é—´è¿è¡Œæˆ–é˜»å¡çš„ä»»åŠ¡</span>
                <span class="hljs-keyword">try</span> {
                    Thread.sleep(Long.MAX_VALUE); <span class="hljs-comment">// å‡ ä¹æ°¸ä¹…é˜»å¡</span>
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    Thread.currentThread().interrupt();
                }
                <span class="hljs-keyword">return</span> <span class="hljs-string">"result"</span>;
            });
            <span class="hljs-comment">// futureæ°¸è¿œä¸ä¼šå®Œæˆï¼Œä½†ä¸€ç›´å­˜åœ¨äºå†…å­˜ä¸­</span>
        }
    }
    
    <span class="hljs-comment">// åœºæ™¯3ï¼šå¾ªç¯å¼•ç”¨</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TaskManager</span> {
        <span class="hljs-keyword">private</span> CompletableFuture&lt;String&gt; currentTask;
        <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">status</span> <span class="hljs-operator">=</span> <span class="hljs-string">"INIT"</span>;
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">startTask</span><span class="hljs-params">()</span> {
            currentTask = CompletableFuture.supplyAsync(() -&gt; {
                <span class="hljs-comment">// ä»»åŠ¡æŒæœ‰Managerçš„å¼•ç”¨</span>
                <span class="hljs-keyword">while</span> (!<span class="hljs-string">"COMPLETED"</span>.equals(status)) {
                    <span class="hljs-comment">// å¤„ç†ä»»åŠ¡</span>
                    processTask();
                }
                <span class="hljs-keyword">return</span> <span class="hljs-string">"done"</span>;
            });
        }
        
        <span class="hljs-comment">// Managerä¹ŸæŒæœ‰ä»»åŠ¡çš„å¼•ç”¨</span>
        <span class="hljs-keyword">public</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">getCurrentTask</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> currentTask;
        }
    }
}
</code></pre>
<h3 data-id="heading-17">å†…å­˜æ³„æ¼æ£€æµ‹å’Œé¢„é˜²</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MemoryLeakPrevention</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Cache&lt;String, CompletableFuture&lt;String&gt;&gt; cache;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MemoryLeakPrevention</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ä½¿ç”¨Guava Cacheè‡ªåŠ¨æ¸…ç†</span>
        <span class="hljs-built_in">this</span>.cache = CacheBuilder.newBuilder()
            .maximumSize(<span class="hljs-number">1000</span>)
            .expireAfterAccess(<span class="hljs-number">10</span>, TimeUnit.MINUTES)
            .removalListener((RemovalListener&lt;String, CompletableFuture&lt;String&gt;&gt;) notification -&gt; {
                <span class="hljs-keyword">if</span> (notification.getCause() == RemovalCause.SIZE || 
                    notification.getCause() == RemovalCause.EXPIRED) {
                    <span class="hljs-comment">// å–æ¶ˆæœªå®Œæˆçš„ä»»åŠ¡</span>
                    CompletableFuture&lt;String&gt; future = notification.getValue();
                    <span class="hljs-keyword">if</span> (!future.isDone()) {
                        future.cancel(<span class="hljs-literal">true</span>);
                    }
                }
            })
            .build();
    }
    
    <span class="hljs-comment">// å®‰å…¨çš„ç¼“å­˜ç”¨æ³•</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">getDataSafely</span><span class="hljs-params">(String key)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> cache.get(key, () -&gt; {
                CompletableFuture&lt;String&gt; future = CompletableFuture.supplyAsync(() -&gt; fetchData(key));
                
                <span class="hljs-comment">// æ·»åŠ è¶…æ—¶æ§åˆ¶</span>
                <span class="hljs-keyword">return</span> future.orTimeout(<span class="hljs-number">30</span>, TimeUnit.SECONDS)
                           .exceptionally(throwable -&gt; {
                               <span class="hljs-comment">// å‘ç”Ÿå¼‚å¸¸æ—¶ä»ç¼“å­˜ä¸­ç§»é™¤</span>
                               cache.invalidate(key);
                               <span class="hljs-keyword">return</span> <span class="hljs-string">"fallback-data"</span>;
                           });
            });
        } <span class="hljs-keyword">catch</span> (ExecutionException e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
        }
    }
    
    <span class="hljs-comment">// ä½¿ç”¨WeakReferenceé¿å…å¾ªç¯å¼•ç”¨</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SafeTaskManager</span> {
        <span class="hljs-keyword">private</span> WeakReference&lt;CompletableFuture&lt;String&gt;&gt; currentTaskRef;
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">startTask</span><span class="hljs-params">()</span> {
            CompletableFuture&lt;String&gt; task = CompletableFuture.supplyAsync(() -&gt; {
                <span class="hljs-keyword">return</span> performTask();
            });
            
            currentTaskRef = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakReference</span>&lt;&gt;(task);
            
            <span class="hljs-comment">// ä»»åŠ¡å®Œæˆåè‡ªåŠ¨æ¸…ç†</span>
            task.whenComplete((result, error) -&gt; {
                currentTaskRef = <span class="hljs-literal">null</span>;
            });
        }
    }
    
    <span class="hljs-comment">// ç›‘æ§å’Œè¯Šæ–­å·¥å…·</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">monitorFutures</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// å®šæœŸæ£€æŸ¥æœªå®Œæˆçš„Future</span>
        <span class="hljs-type">Timer</span> <span class="hljs-variable">timer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Timer</span>(<span class="hljs-literal">true</span>);
        timer.scheduleAtFixedRate(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TimerTask</span>() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
                <span class="hljs-type">int</span> <span class="hljs-variable">unfinishedCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
                <span class="hljs-keyword">for</span> (CompletableFuture&lt;?&gt; future : cache.asMap().values()) {
                    <span class="hljs-keyword">if</span> (!future.isDone()) {
                        unfinishedCount++;
                        <span class="hljs-comment">// è®°å½•é•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡</span>
                        <span class="hljs-keyword">if</span> (future.isDoneExceptionally()) {
                            <span class="hljs-comment">// å¤„ç†å¼‚å¸¸ä»»åŠ¡</span>
                            handleExceptionalFuture(future);
                        }
                    }
                }
                
                <span class="hljs-keyword">if</span> (unfinishedCount &gt; <span class="hljs-number">100</span>) {
                    <span class="hljs-comment">// å‘å‡ºè­¦å‘Š</span>
                    System.err.println(<span class="hljs-string">"è­¦å‘Š: æœ‰ "</span> + unfinishedCount + <span class="hljs-string">" ä¸ªæœªå®Œæˆçš„ä»»åŠ¡"</span>);
                }
            }
        }, <span class="hljs-number">0</span>, <span class="hljs-number">60000</span>); <span class="hljs-comment">// æ¯åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡</span>
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleExceptionalFuture</span><span class="hljs-params">(CompletableFuture&lt;?&gt; future)</span> {
        <span class="hljs-comment">// å¤„ç†å¼‚å¸¸Futureï¼Œé¿å…å®ƒä»¬ä¸€ç›´å­˜åœ¨</span>
        future.exceptionally(throwable -&gt; {
            <span class="hljs-comment">// è®°å½•å¼‚å¸¸æ—¥å¿—</span>
            System.err.println(<span class="hljs-string">"ä»»åŠ¡å¼‚å¸¸: "</span> + throwable.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        });
    }
}
</code></pre>
<h3 data-id="heading-18">å†…å­˜æ³„æ¼æ£€æµ‹æµç¨‹</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63241feed2cf4d02b17d4e2acfa69ece~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763605755&amp;x-signature=pku9xmn6qbZFoM5m2YQ9QABS4PE%3D" alt="" loading="lazy"/></p>
<p>æœ€è¿‘ä¸ºäº†å¸®åŠ©å¤§å®¶æ‰¾å·¥ä½œï¼Œä¸“é—¨å»ºäº†ä¸€äº›å·¥ä½œå†…æ¨ç¾¤ï¼Œå„å¤§åŸå¸‚éƒ½æœ‰ï¼Œæ¬¢è¿å„ä½HRå’Œæ‰¾å·¥ä½œçš„å°ä¼™ä¼´è¿›ç¾¤äº¤æµï¼Œç¾¤é‡Œç›®å‰å·²ç»æ”¶é›†äº†ä¸å°‘çš„å·¥ä½œå†…æ¨å²—ä½ã€‚åŠ è‹ä¸‰çš„å¾®ä¿¡ï¼šli_su223ï¼Œå¤‡æ³¨ï¼šæ˜é‡‘+æ‰€åœ¨åŸå¸‚ï¼Œå³å¯è¿›ç¾¤ã€‚</p>
<h2 data-id="heading-19">å…­ã€è¶…æ—¶æ§åˆ¶ç¼ºå¤±</h2>
<p>æœ‰äº›å°ä¼™ä¼´åœ¨ä½¿ç”¨CompletableFutureæ—¶ï¼Œç»å¸¸ä¼šå¿˜è®°è®¾ç½®è¶…æ—¶æ§åˆ¶ï¼Œè¿™å¯èƒ½å¯¼è‡´çº¿ç¨‹æ°¸è¿œé˜»å¡ã€‚</p>
<h3 data-id="heading-20">è¶…æ—¶é—®é¢˜çš„ä¸¥é‡æ€§</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TimeoutPitfalls</span> {
    
    <span class="hljs-comment">// å±é™©çš„ä»£ç ï¼šæ²¡æœ‰è¶…æ—¶æ§åˆ¶</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">dangerousGet</span><span class="hljs-params">()</span> {
        CompletableFuture&lt;String&gt; future = CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-comment">// æ¨¡æ‹Ÿç½‘ç»œé—®é¢˜å¯¼è‡´çš„æ— é™é˜»å¡</span>
            <span class="hljs-keyword">return</span> blockingNetworkCall();
        });
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// å¦‚æœä»»åŠ¡æ°¸è¿œä¸å®Œæˆï¼Œè¿™é‡Œä¼šæ°¸è¿œé˜»å¡</span>
            <span class="hljs-keyword">return</span> future.get();
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"error"</span>;
        }
    }
    
    <span class="hljs-comment">// èµ„æºæ³„æ¼çš„ç¤ºä¾‹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">resourceLeakExample</span><span class="hljs-params">()</span> {
        <span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(<span class="hljs-number">10</span>);
        
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
            CompletableFuture.runAsync(() -&gt; {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-comment">// é•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡</span>
                    Thread.sleep(Long.MAX_VALUE);
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    Thread.currentThread().interrupt();
                }
            }, executor);
        }
        
        <span class="hljs-comment">// çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹éƒ½è¢«å ç”¨ï¼Œæ— æ³•æ‰§è¡Œæ–°ä»»åŠ¡</span>
    }
    
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">blockingNetworkCall</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// æ¨¡æ‹Ÿç½‘ç»œé—®é¢˜</span>
        <span class="hljs-keyword">try</span> {
            Thread.sleep(Long.MAX_VALUE);
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
        <span class="hljs-keyword">return</span> <span class="hljs-string">"response"</span>;
    }
}
</code></pre>
<h3 data-id="heading-21">å®Œæ•´çš„è¶…æ—¶æ§åˆ¶æ–¹æ¡ˆ</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CompleteTimeoutSolution</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ScheduledExecutorService timeoutExecutor;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">CompleteTimeoutSolution</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">this</span>.timeoutExecutor = Executors.newScheduledThreadPool(<span class="hljs-number">2</span>);
    }
    
    <span class="hljs-comment">// æ–¹æ³•1ï¼šä½¿ç”¨orTimeoutï¼ˆJava 9+ï¼‰</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">withOrTimeout</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-keyword">return</span> externalServiceCall();
        }).orTimeout(<span class="hljs-number">5</span>, TimeUnit.SECONDS) <span class="hljs-comment">// 5ç§’è¶…æ—¶</span>
          .exceptionally(throwable -&gt; {
              <span class="hljs-keyword">if</span> (throwable <span class="hljs-keyword">instanceof</span> TimeoutException) {
                  <span class="hljs-keyword">return</span> <span class="hljs-string">"timeout-fallback"</span>;
              }
              <span class="hljs-keyword">return</span> <span class="hljs-string">"error-fallback"</span>;
          });
    }
    
    <span class="hljs-comment">// æ–¹æ³•2ï¼šä½¿ç”¨completeOnTimeoutï¼ˆJava 9+ï¼‰</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">withCompleteOnTimeout</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-keyword">return</span> externalServiceCall();
        }).completeOnTimeout(<span class="hljs-string">"timeout-default"</span>, <span class="hljs-number">3</span>, TimeUnit.SECONDS);
    }
    
    <span class="hljs-comment">// æ–¹æ³•3ï¼šæ‰‹åŠ¨è¶…æ—¶æ§åˆ¶ï¼ˆJava 8å…¼å®¹ï¼‰</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">withManualTimeout</span><span class="hljs-params">()</span> {
        CompletableFuture&lt;String&gt; taskFuture = CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-keyword">return</span> externalServiceCall();
        });
        
        CompletableFuture&lt;String&gt; timeoutFuture = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CompletableFuture</span>&lt;&gt;();
        
        <span class="hljs-comment">// è®¾ç½®è¶…æ—¶</span>
        timeoutExecutor.schedule(() -&gt; {
            timeoutFuture.completeExceptionally(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TimeoutException</span>(<span class="hljs-string">"æ“ä½œè¶…æ—¶"</span>));
        }, <span class="hljs-number">5</span>, TimeUnit.SECONDS);
        
        <span class="hljs-comment">// å“ªä¸ªå…ˆå®Œæˆå°±è¿”å›å“ªä¸ª</span>
        <span class="hljs-keyword">return</span> taskFuture.applyToEither(timeoutFuture, Function.identity())
                       .exceptionally(throwable -&gt; {
                           <span class="hljs-keyword">if</span> (throwable <span class="hljs-keyword">instanceof</span> TimeoutException) {
                               <span class="hljs-keyword">return</span> <span class="hljs-string">"manual-timeout-fallback"</span>;
                           }
                           <span class="hljs-keyword">return</span> <span class="hljs-string">"other-error-fallback"</span>;
                       });
    }
    
    <span class="hljs-comment">// æ–¹æ³•4ï¼šåˆ†å±‚è¶…æ—¶æ§åˆ¶</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">withLayeredTimeout</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-keyword">return</span> phase1Operation();
        }).orTimeout(<span class="hljs-number">2</span>, TimeUnit.SECONDS)
          .thenCompose(phase1Result -&gt; {
              <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
                  <span class="hljs-keyword">return</span> phase2Operation(phase1Result);
              }).orTimeout(<span class="hljs-number">3</span>, TimeUnit.SECONDS);
          })
          .thenCompose(phase2Result -&gt; {
              <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
                  <span class="hljs-keyword">return</span> phase3Operation(phase2Result);
              }).orTimeout(<span class="hljs-number">5</span>, TimeUnit.SECONDS);
          })
          .exceptionally(throwable -&gt; {
              <span class="hljs-type">Throwable</span> <span class="hljs-variable">rootCause</span> <span class="hljs-operator">=</span> getRootCause(throwable);
              <span class="hljs-keyword">if</span> (rootCause <span class="hljs-keyword">instanceof</span> TimeoutException) {
                  <span class="hljs-comment">// æ ¹æ®è¶…æ—¶é˜¶æ®µæä¾›ä¸åŒçš„é™çº§ç­–ç•¥</span>
                  <span class="hljs-keyword">return</span> <span class="hljs-string">"timeout-in-phase"</span>;
              }
              <span class="hljs-keyword">return</span> <span class="hljs-string">"general-fallback"</span>;
          });
    }
    
    <span class="hljs-comment">// æ–¹æ³•5ï¼šå¯é…ç½®çš„è¶…æ—¶ç­–ç•¥</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">withConfigurableTimeout</span><span class="hljs-params">(String operationType)</span> {
        <span class="hljs-type">TimeoutConfig</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> getTimeoutConfig(operationType);
        
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-keyword">return</span> performOperation(operationType);
        }).orTimeout(config.getTimeout(), config.getTimeUnit())
          .exceptionally(throwable -&gt; {
              <span class="hljs-keyword">return</span> config.getFallbackStrategy().apply(throwable);
          });
    }
    
    <span class="hljs-meta">@PreDestroy</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span> {
        timeoutExecutor.shutdown();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (!timeoutExecutor.awaitTermination(<span class="hljs-number">5</span>, TimeUnit.SECONDS)) {
                timeoutExecutor.shutdownNow();
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            timeoutExecutor.shutdownNow();
            Thread.currentThread().interrupt();
        }
    }
    
    <span class="hljs-comment">// è¶…æ—¶é…ç½®ç±»</span>
    <span class="hljs-meta">@Data</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TimeoutConfig</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> timeout;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> TimeUnit timeUnit;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Function&lt;Throwable, String&gt; fallbackStrategy;
    }
    
    <span class="hljs-keyword">private</span> TimeoutConfig <span class="hljs-title function_">getTimeoutConfig</span><span class="hljs-params">(String operationType)</span> {
        <span class="hljs-keyword">switch</span> (operationType) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">"fast"</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimeoutConfig</span>(<span class="hljs-number">1</span>, TimeUnit.SECONDS, 
                    t -&gt; <span class="hljs-string">"fast-timeout"</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-string">"normal"</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimeoutConfig</span>(<span class="hljs-number">5</span>, TimeUnit.SECONDS,
                    t -&gt; <span class="hljs-string">"normal-timeout"</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-string">"slow"</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimeoutConfig</span>(<span class="hljs-number">30</span>, TimeUnit.SECONDS,
                    t -&gt; <span class="hljs-string">"slow-timeout"</span>);
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimeoutConfig</span>(<span class="hljs-number">10</span>, TimeUnit.SECONDS,
                    t -&gt; <span class="hljs-string">"default-timeout"</span>);
        }
    }
}
</code></pre>
<h3 data-id="heading-22">è¶…æ—¶æ§åˆ¶ç­–ç•¥</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd0feab08609426dab28ff92e6ac9b7c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763605755&amp;x-signature=y2mZfgiQWKhnvvuBaJn8P%2F9wJ4s%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-23">æ€»ç»“</h2>
<p>é€šè¿‡ä¸Šé¢çš„è¯¦ç»†åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°CompletableFutureè™½ç„¶å¼ºå¤§ï¼Œä½†ä¹Ÿç¡®å®å­˜åœ¨ä¸å°‘é™·é˜±ã€‚</p>
<h3 data-id="heading-24">æœ€åçš„å»ºè®®</h3>
<ol>
<li><strong>ç†è§£åŸç†</strong>ï¼šä¸è¦åªæ˜¯æœºæ¢°åœ°ä½¿ç”¨APIï¼Œè¦ç†è§£CompletableFutureçš„å·¥ä½œåŸç†</li>
<li><strong>é€‚åº¦ä½¿ç”¨</strong>ï¼šä¸æ˜¯æ‰€æœ‰åœºæ™¯éƒ½éœ€è¦å¼‚æ­¥ï¼ŒåŒæ­¥ä»£ç æ›´ç®€å•æ˜“æ‡‚</li>
<li><strong>æµ‹è¯•è¦†ç›–</strong>ï¼šå¼‚æ­¥ä»£ç çš„æµ‹è¯•å¾ˆé‡è¦ï¼Œè¦è¦†ç›–å„ç§è¾¹ç•Œæƒ…å†µ</li>
<li><strong>ç›‘æ§å‘Šè­¦</strong>ï¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¦æœ‰å®Œå–„çš„ç›‘æ§å’Œå‘Šè­¦æœºåˆ¶</li>
<li><strong>æŒç»­å­¦ä¹ </strong>ï¼šå…³æ³¨Javaå¹¶å‘ç¼–ç¨‹çš„æ–°ç‰¹æ€§å’Œæœ€ä½³å®è·µ</li>
</ol>
<p>è®°ä½ï¼Œå·¥å…·æ˜¯ä¸ºäº†æé«˜ç”Ÿäº§åŠ›ï¼Œè€Œä¸æ˜¯åˆ¶é€ é—®é¢˜ã€‚</p>
<p>æŒæ¡äº†è¿™äº›é¿å‘æŠ€å·§ï¼ŒCompletableFutureå°†æˆä¸ºä½ æ‰‹ä¸­å¼ºå¤§çš„å¹¶å‘ç¼–ç¨‹åˆ©å™¨ï¼</p>
<h2 data-id="heading-25">æœ€åè¯´ä¸€å¥(æ±‚å…³æ³¨ï¼Œåˆ«ç™½å«–æˆ‘)</h2>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼Œæˆ–è€…æœ‰æ‰€å¯å‘çš„è¯ï¼Œå¸®å¿™å…³æ³¨ä¸€ä¸‹æˆ‘çš„åŒåå…¬ä¼—å·ï¼šè‹ä¸‰è¯´æŠ€æœ¯ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘åšæŒå†™ä½œæœ€å¤§çš„åŠ¨åŠ›ã€‚</p>
<p>æ±‚ä¸€é”®ä¸‰è¿ï¼šç‚¹èµã€è½¬å‘ã€åœ¨çœ‹ã€‚</p>
<p>å…³æ³¨å…¬ä¼—å·ï¼šã€è‹ä¸‰è¯´æŠ€æœ¯ã€‘ï¼Œåœ¨å…¬ä¼—å·ä¸­å›å¤ï¼šè¿›å¤§å‚ï¼Œå¯ä»¥å…è´¹è·å–æˆ‘æœ€è¿‘æ•´ç†çš„10ä¸‡å­—çš„é¢è¯•å®å…¸ï¼Œå¥½å¤šå°ä¼™ä¼´é è¿™ä¸ªå®å…¸æ‹¿åˆ°äº†å¤šå®¶å¤§å‚çš„offerã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Chrome devtoolsäºŒæ¬¡å¼€å‘å‡†å¤‡:è·å–æºç å’Œç¼–è¯‘]]></title>    <link>https://juejin.cn/post/7571678674144870410</link>    <guid>https://juejin.cn/post/7571678674144870410</guid>    <pubDate>2025-11-12T12:48:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571678674144870410" data-draft-id="7571704212850245683" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Chrome devtoolsäºŒæ¬¡å¼€å‘å‡†å¤‡:è·å–æºç å’Œç¼–è¯‘"/> <meta itemprop="keywords" content="å‰ç«¯,Google"/> <meta itemprop="datePublished" content="2025-11-12T12:48:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sTone87375"/> <meta itemprop="url" content="https://juejin.cn/user/2946346894764584"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Chrome devtoolsäºŒæ¬¡å¼€å‘å‡†å¤‡:è·å–æºç å’Œç¼–è¯‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2946346894764584/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sTone87375
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T12:48:47.000Z" title="Wed Nov 12 2025 12:48:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ Ubuntu ä¸Šè·å–å¹¶ç¼–è¯‘ Google Chrome DevTools Frontend æºç ï¼Œæœ‰ä¸¤ç§ä¸»æµæ–¹å¼ï¼š</p>
<ol>
<li>ç›´æ¥ä¸‹è½½å®˜æ–¹å·²ç»æ‰“å¥½åŒ…çš„ npm åŒ…ï¼ˆæœ€å¿«ï¼Œå…ç¼–è¯‘ï¼‰</li>
<li>ç”¨ Google çš„ depot_tools å®Œæ•´æ‹‰å– Chromium æºç å¹¶è‡ªè¡Œç¼–è¯‘ï¼ˆæœ€å®Œæ•´ï¼Œå¯äºŒæ¬¡å¼€å‘ï¼‰</li>
</ol>
<p>ä¸‹é¢åˆ†åˆ«ç»™å‡ºæ­¥éª¤ï¼Œä½ å¯ä»¥æŒ‰éœ€æ±‚äºŒé€‰ä¸€ã€‚</p>
<hr/>
<p>ä¸€ã€åªæƒ³â€œæ‹¿åˆ°å°±ç”¨â€â€”â€”ç”¨ npm åŒ…ï¼ˆå…ç¼–è¯‘ï¼‰
å®˜æ–¹å·²ç»æŠŠæ¯å¤©æ„å»ºå¥½çš„å‰ç«¯æ–‡ä»¶å‘å¸ƒåˆ° npmï¼Œè£…å®Œå°±èƒ½è·‘ã€‚</p>
<ol>
<li>
<p>å®‰è£…</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è£…åŒ…ï¼ˆç‰ˆæœ¬å·æ¯å¤©æ›´æ–°ï¼Œå¯å» npm æŸ¥æœ€æ–°ï¼‰</span>
npm i -g chrome-devtools-frontend@latest
<span class="hljs-comment"># è¿›å…¥åŒ…ç›®å½•</span>
<span class="hljs-built_in">cd</span> $(npm root -g)/chrome-devtools-frontend
</code></pre>
</li>
<li>
<p>èµ·é™æ€æœåŠ¡éªŒè¯</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä»»æ„é™æ€æœåŠ¡å™¨å‡å¯</span>
npx http-server . -p 8081
</code></pre>
<p>æµè§ˆå™¨è®¿é—®</p>
<pre><code class="hljs language-bash" lang="bash">http://localhost:8081/front_end/devtools_app.html?ws=localhost:9229
</code></pre>
<p>åªè¦ 9229 ç«¯å£æœ‰ç¬¦åˆ CDP çš„ WebSocket æœåŠ¡ï¼Œå°±èƒ½æ­£å¸¸è°ƒè¯• ã€‚</p>
</li>
</ol>
<hr/>
<p>äºŒã€éœ€è¦â€œæºç çº§äºŒæ¬¡å¼€å‘â€â€”â€”å®Œæ•´æ‹‰å–å¹¶ç¼–è¯‘
é€‚åˆæƒ³æ”¹é¢æ¿ã€åŠ åŠŸèƒ½ã€è¿½æœ€æ–°ä¸»å¹²ä»£ç çš„åŒå­¦ã€‚</p>
<ol start="0">
<li>
<p>ç³»ç»Ÿä¾èµ–ï¼ˆUbuntu 22.04 ç¤ºä¾‹ï¼‰</p>
<pre><code class="hljs language-bash" lang="bash">sudo apt update
sudo apt install git python3 python3-venv pkg-config \
     build-essential ninja-build nodejs npm curl
</code></pre>
</li>
<li>
<p>å‡†å¤‡ depot_toolsï¼ˆGoogle çš„æ„å»ºå·¥å…·é“¾ï¼‰</p>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> https://chromium.googlesource.com/chromium/tools/depot_tools.git
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export PATH=$PATH:'</span><span class="hljs-string">"<span class="hljs-subst">$(pwd)</span>/depot_tools"</span> &gt;&gt; ~/.bashrc
<span class="hljs-built_in">source</span> ~/.bashrc
</code></pre>
</li>
<li>
<p>æ‹‰å– DevTools Frontend æºç ï¼ˆçº¦ 1-2 GBï¼‰</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> devtools &amp;&amp; <span class="hljs-built_in">cd</span> devtools
fetch devtools-frontend     <span class="hljs-comment"># è¿™æ¡å‘½ä»¤æ¥è‡ª depot_tools</span>
<span class="hljs-built_in">cd</span> devtools-frontend
</code></pre>
</li>
<li>
<p>åŒæ­¥ä¾èµ–å¹¶ç”Ÿæˆæ„å»ºæ–‡ä»¶</p>
<pre><code class="hljs language-bash" lang="bash">gclient <span class="hljs-built_in">sync</span>                <span class="hljs-comment"># ç¬¬ä¸€æ¬¡ä¼šä¸‹è½½ Nodeã€Java è¿è¡Œæ—¶ç­‰ï¼Œéœ€ç§‘å­¦ä¸Šç½‘</span>
gn gen out/Default          <span class="hljs-comment"># ç”Ÿæˆ Ninja æ„å»ºæ–‡ä»¶</span>
</code></pre>
</li>
<li>
<p>ç¼–è¯‘ï¼ˆUbuntu ä¸Šçº¦ 5-10 åˆ†é’Ÿï¼Œè§† CPU è€Œå®šï¼‰</p>
<pre><code class="hljs language-bash" lang="bash">autoninja -C out/Default    <span class="hljs-comment"># ç­‰ä»·äº ninja -C out/Defaultï¼Œä½†è‡ªåŠ¨å¹¶è¡Œ</span>
</code></pre>
<p>äº§ç‰©åœ¨</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">out</span><span class="hljs-operator">/</span><span class="hljs-keyword">Default</span><span class="hljs-operator">/</span>gen<span class="hljs-operator">/</span>front_end<span class="hljs-operator">/</span>
</code></pre>
<p>å³ä¸ºå¯è¿è¡Œçš„ DevTools å‰ç«¯ ã€‚</p>
</li>
<li>
<p>æœ¬åœ°é¢„è§ˆ</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> out/Default/gen/front_end
npx http-server . -p 8081
</code></pre>
<p>æµè§ˆå™¨æ‰“å¼€</p>
<pre><code class="hljs language-bash" lang="bash">http://localhost:8081/devtools_app.html?ws=localhost:9229
</code></pre>
</li>
<li>
<p>è®©æœ¬åœ° Chrome é»˜è®¤ä½¿ç”¨ä½ ç¼–è¯‘çš„ç‰ˆæœ¬<br/>
å…³é—­æ‰€æœ‰ Chrome åå¯åŠ¨</p>
<pre><code class="hljs language-bash" lang="bash">google-chrome --custom-devtools-frontend=file://$(<span class="hljs-built_in">pwd</span>)/out/Default/gen/front_end
</code></pre>
<p>ä»¥åæŒ‰ F12 å°±ä¼šç›´æ¥åŠ è½½ä½ æ”¹è¿‡çš„é¢æ¿ ã€‚</p>
</li>
</ol>
<hr/>
<p>ä¸‰ã€å¸¸è§é—®é¢˜é€ŸæŸ¥</p>
<ul>
<li>
<p>ç½‘ç»œè¶…æ—¶ï¼š<br/>
<code>fetch</code> / <code>gclient</code> é˜¶æ®µéœ€è¦è®¿é—® Google æœåŠ¡å™¨ï¼ŒUbuntu ä¸‹å¯ç»™ç»ˆç«¯èµ°ä»£ç†</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">export</span> https_proxy=http://127.0.0.1:7890 http_proxy=http://127.0.0.1:7890
</code></pre>
</li>
<li>
<p>ç¼–è¯‘æŠ¥é”™ç¼º headerï¼š<br/>
ä¸€èˆ¬æŠŠ <code>build-essential</code> å’Œ <code>pkg-config</code> è¡¥é½å³å¯ï¼›è‹¥ä»ç¼º <code>java/javac</code>ï¼Œå¯å†è£… <code>openjdk-11-jdk</code>ã€‚</p>
</li>
<li>
<p>åªæƒ³å®šæ—¶æ‹‰æœ€æ–°å®˜æ–¹æ„å»ºï¼Œè€Œä¸è‡ªå·±ç¼–ï¼š<br/>
å…³æ³¨ GitHub ä»“åº“ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Faryasaatvik%2Fchrome-devtools-frontend-build" target="_blank" title="https://github.com/aryasaatvik/chrome-devtools-frontend-build" ref="nofollow noopener noreferrer">aryasaatvik/chrome-devtools-frontend-build</a> çš„ releasesï¼Œæ¯å‘¨è‡ªåŠ¨æ›´æ–°å·²ç¼–å¥½çš„åŒ…ï¼Œä¸‹è½½å³ç”¨ ã€‚</p>
</li>
</ul>
<hr/>
<p>ä¸€å¥è¯æ€»ç»“</p>
<ul>
<li>â€œå¿«é€Ÿä½“éªŒâ€ â†’ <code>npm i -g chrome-devtools-frontend</code> å³å¯ï¼›</li>
<li>â€œæ·±åº¦å®šåˆ¶â€ â†’ Ubuntu è£…å¥½ depot_tools â†’ <code>fetch devtools-frontend</code> â†’ <code>gn gen</code> â†’ <code>autoninja</code>ï¼Œå®Œäº‹å <code>out/Default/gen/front_end</code> å°±æ˜¯ä½ çš„ä¸“å±è°ƒè¯•å™¨å‰ç«¯ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿˜åœ¨ä¸ºHTMLè½¬PDFå‘æ„ï¼Ÿå†ä»‹ç»ä¸¤æ¬¾å·¥å…·ï¼Œä¸ºä½ ä¿é©¾æŠ¤èˆªï¼]]></title>    <link>https://juejin.cn/post/7571751304625569838</link>    <guid>https://juejin.cn/post/7571751304625569838</guid>    <pubDate>2025-11-13T02:12:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571751304625569838" data-draft-id="7571758212473749555" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿˜åœ¨ä¸ºHTMLè½¬PDFå‘æ„ï¼Ÿå†ä»‹ç»ä¸¤æ¬¾å·¥å…·ï¼Œä¸ºä½ ä¿é©¾æŠ¤èˆªï¼"/> <meta itemprop="keywords" content="åç«¯,Java,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-11-13T02:12:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SimonKing"/> <meta itemprop="url" content="https://juejin.cn/user/4001878056904584"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿˜åœ¨ä¸ºHTMLè½¬PDFå‘æ„ï¼Ÿå†ä»‹ç»ä¸¤æ¬¾å·¥å…·ï¼Œä¸ºä½ ä¿é©¾æŠ¤èˆªï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4001878056904584/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SimonKing
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T02:12:55.000Z" title="Thu Nov 13 2025 02:12:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šã€ç¼–ç¨‹æœèŠ±å¤•æ‹¾ã€‘ï¼Œå¯è·å–é¦–å‘å†…å®¹ã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42b0f46eac5946f38b0d0e83e709783b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763604775&amp;x-signature=XGfEVYv7IQa%2FVvf9k20KoVYhHjw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">01 å¼•è¨€</h2>
<p>åœ¨ä¹‹å‰ä¸“é—¨å†™äº†ä¸€ç¯‡æ–‡ç« ã€Š<code>SpringBoot</code>é›†æˆï¼š5åˆ†é’Ÿå®ç°<code>HTML</code>è½¬<code>PDF</code>åŠŸèƒ½ã€‹ï¼Œä»‹ç»ä¸‰æ¬¾<code>Html</code>è½¬<code>PDF</code>çš„å·¥å…·ã€‚è¿™ä¸ï¼Œåˆå‘ç°äº†ä¸¤æ¬¾ç±»ä¼¼çš„å·¥å…·ï¼Œæ•´ç†ä¸€ä¸‹åˆ†äº«ç»™å¤§å®¶ã€‚</p>
<h2 data-id="heading-1">02 itext-pdfhtml-java</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/024171cf2f7344d68ee3351459f33583~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763604775&amp;x-signature=GBk7ynYUKAr20K5UleVzP3Z9T7Q%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-2">2.1 ç®€ä»‹</h3>
<p><code>iText pdfHTML</code>æ˜¯<code>iText7</code>å¥—ä»¶çš„ä¸€ä¸ªé™„åŠ ç»„ä»¶ï¼Œä¸“é—¨ç”¨äºå°†<code>HTML</code>å’Œ<code>CSS</code>å†…å®¹è½¬æ¢ä¸º<code>PDF</code>æ–‡æ¡£ã€‚å®ƒåŸºäº<code>iText</code>æ ¸å¿ƒ<code>PDF</code>ç”Ÿæˆå¼•æ“ï¼Œæä¾›äº†é«˜è´¨é‡çš„<code>HTML</code>åˆ°<code>PDF</code>è½¬æ¢åŠŸèƒ½ã€‚æ€§èƒ½è¡¨ç°éå¸¸ä¼˜å¼‚ã€‚</p>
<p>ä¸»è¦ç‰¹æ€§ï¼š</p>
<ul>
<li><strong>å®Œæ•´çš„<code>HTML5</code>å’Œ<code>CSS3</code>æ”¯æŒ</strong>ï¼šèƒ½å¤Ÿå¤„ç†ç°ä»£ç½‘é¡µå¸ƒå±€å’Œæ ·å¼</li>
<li><strong>å­—ä½“åµŒå…¥</strong>ï¼šè‡ªåŠ¨å¤„ç†Webå­—ä½“å’Œç³»ç»Ÿå­—ä½“</li>
<li><strong>å“åº”å¼è®¾è®¡</strong>ï¼šæ”¯æŒåª’ä½“æŸ¥è¯¢å’Œå“åº”å¼å¸ƒå±€</li>
<li><strong>é«˜ä¿çœŸè½¬æ¢</strong>ï¼šä¿æŒHTMLå†…å®¹çš„è§†è§‰ä¿çœŸåº¦</li>
<li><strong>JavaåŸç”Ÿ</strong>ï¼šä¸“ä¸ºJavaç”Ÿæ€ç³»ç»Ÿè®¾è®¡</li>
</ul>
<p><code>GitHub</code>åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fitext%2Fitext-pdfhtml-java" target="_blank" title="https://github.com/itext/itext-pdfhtml-java" ref="nofollow noopener noreferrer">github.com/itext/itextâ€¦</a></p>
<p>å®˜æ–¹åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fitextpdf.com%2Fproducts%2Fconvert-html-css-to-pdf-pdfhtml" target="_blank" title="https://itextpdf.com/products/convert-html-css-to-pdf-pdfhtml" ref="nofollow noopener noreferrer">itextpdf.com/products/coâ€¦</a></p>
<h3 data-id="heading-3">2.2 æ¡ˆä¾‹</h3>
<p>ä½¿ç”¨èµ·æ¥ä¹Ÿéå¸¸ç®€å•ï¼Œä¸‹é¢å®˜æ–¹çš„æ¡ˆä¾‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca4a7ca81d0d437d9377dd672981f93a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763604775&amp;x-signature=n%2BufL%2FAX17Q1IJJb4bV64o6Je6A%3D" alt="" loading="lazy"/></p>
<p><strong>Mavenä¾èµ–</strong>ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.itextpdf<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>html2pdf<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>6.2.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><strong>å®è·µä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RequestMapping("index6")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">index6</span><span class="hljs-params">(Model model, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> IOException {
    List&lt;Map&lt;String, Object&gt;&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
        Map&lt;String, Object&gt; item = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        item.put(<span class="hljs-string">"image1"</span>, <span class="hljs-string">"http://example.com/2eb97.jpg"</span>);
        item.put(<span class="hljs-string">"image2"</span>, <span class="hljs-string">"http://example.com/2f9c3.jpg"</span>);
        item.put(<span class="hljs-string">"vehicleName"</span>, <span class="hljs-string">"è·¯è™Defenderï¼»å«å£«ï¼½ï¼ˆè¿›å£ï¼‰2023æ¬¾Defender130 48Vï¼»å«å£« 130 48V] 3.0Tæ‰‹è‡ªï¼ä½“P400 HSE"</span>);
        item.put(<span class="hljs-string">"brandName"</span>, <span class="hljs-string">"è·¯è™"</span>);
        item.put(<span class="hljs-string">"seriesName"</span>, <span class="hljs-string">"Defenderï¼»å«å£«ï¼½"</span>);
        item.put(<span class="hljs-string">"modelYear"</span>, <span class="hljs-string">"2023æ¬¾"</span>);
        item.put(<span class="hljs-string">"licenseYear"</span>, SDF.format(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()));
        item.put(<span class="hljs-string">"displayMileage"</span>, DF.format(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"9657"</span>)));
        item.put(<span class="hljs-string">"dealDate"</span>, SDF.format(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()));
        item.put(<span class="hljs-string">"dealPrice"</span>, DF.format(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"702400"</span>)));

        item.put(<span class="hljs-string">"licenseCode"</span>, <span class="hljs-string">"æ²ªA952714"</span>);

        list.add(item);
    }
    model.addAttribute(<span class="hljs-string">"list"</span>, list);
    Map&lt;String, Object&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
    map.put(<span class="hljs-string">"list"</span>, list);

    <span class="hljs-type">Context</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Context</span>(Locale.getDefault(), map);
    <span class="hljs-type">String</span> <span class="hljs-variable">htmlContent</span> <span class="hljs-operator">=</span> templateEngine.process(<span class="hljs-string">"index"</span>, context);
    System.out.println(htmlContent);

    <span class="hljs-comment">// ---------------------------------------------------</span>
    <span class="hljs-comment">/*itext-html2pdf*/</span>
    <span class="hljs-type">ConverterProperties</span> <span class="hljs-variable">properties</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConverterProperties</span>();

    <span class="hljs-type">FontProvider</span> <span class="hljs-variable">fontProvider</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FontProvider</span>();
    fontProvider.addSystemFonts();
<span class="hljs-comment">//        fontProvider.addFont("C:\\Windows\\Fonts\\simhei.ttf");</span>
    <span class="hljs-comment">// æ·»åŠ ç³»ç»Ÿå­—ä½“</span>
    properties.setFontProvider(fontProvider);

    HtmlConverter.convertToPdf(htmlContent, response.getOutputStream(), properties);
}
</code></pre>
<p>åŒæ ·é»˜è®¤æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„ï¼Œéœ€è¦é€šè¿‡<code>FontProvider</code>æ·»åŠ æŒ‡å®šçš„å­—ä½“ã€‚<code>fontProvider.addSystemFonts();</code>ç›´æ¥æ·»åŠ ç³»ç»Ÿå­—ä½“ï¼Œä¹Ÿå¯ä»¥é€šè¿‡<code>addFont()</code>æ·»åŠ è‡ªå®šä¹‰å­—ä½“ã€‚é¡µé¢å¿…é¡»å£°æ˜å­—ä½“ï¼Œå¦åˆ™ä¼šå‡ºç°ä¹±ç ã€‚</p>
<h2 data-id="heading-4">03 x-easypdf</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f789e0271ef646d08c9ff65b1d160004~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763604775&amp;x-signature=MzcOsM2iWen1FdY%2FiDzfn9hrK68%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">3.1 ç®€ä»‹</h3>
<p><code>x-easypdf</code>æ˜¯ä¸€ä¸ª<code>java</code>è¯­è¨€ç®€åŒ–å¤„ç†<code>pdf</code>çš„æ¡†æ¶ï¼ŒåŒ…å«<code>fop</code>æ¨¡å—ä¸<code>pdfbox</code>æ¨¡å—ï¼Œ<code>fop</code>æ¨¡å—ä»¥åˆ›å»ºåŠŸèƒ½ä¸ºä¸»ï¼ŒåŸºäº<code>xsl-fo</code>æ¨¡æ¿ç”Ÿæˆ<code>pdf</code>æ–‡æ¡£ï¼Œä»¥æ•°æ®æºçš„æ–¹å¼è¿›è¡Œæ¨¡æ¿æ¸²æŸ“ï¼›<code>pdfbox</code>æ¨¡å—ä»¥ç¼–è¾‘åŠŸèƒ½ä¸ºä¸»ï¼Œå¯¹æ ‡å‡†çš„<code>pdfbox</code>è¿›è¡Œæ‰©å±•ï¼Œæ·»åŠ äº†æˆå¨çš„åŠŸèƒ½ã€‚</p>
<p><code>Html</code>è½¬<code>Pdf</code>æ˜¯<code>pdfbox</code>æ¨¡å—ä¸‹çš„ä¸€ä¸ªè½¬åŒ–å™¨çš„åŠŸèƒ½ï¼Œæ˜¯åŸºäº <a href="https://link.juejin.cn?target=https%3A%2F%2Fplaywright.dev%2Fjava%2Fdocs%2Fintro" target="_blank" title="https://playwright.dev/java/docs/intro" ref="nofollow noopener noreferrer">playwright</a> å®ç°çš„ã€‚è€Œ<code>playwright</code>çš„ä¾èµ–éœ€è¦æ‰‹åŠ¨å¼•å…¥ã€‚<code>Playwright</code>æ˜¯ä¸€ä¸ªè·¨è¯­è¨€çš„æµè§ˆå™¨è‡ªåŠ¨åŒ–åº“ï¼Œç”±<code>Microsoft</code>å¼€å‘ã€‚è™½ç„¶ä¸»è¦ç”¨äºç«¯åˆ°ç«¯æµ‹è¯•ï¼Œä½†å…¶å¼ºå¤§çš„<code>PDF</code>ç”ŸæˆåŠŸèƒ½ä¹Ÿä½¿å…¶æˆä¸º<code>HTML</code>è½¬<code>PDF</code>çš„ä¼˜ç§€å·¥å…·ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92d45b8a6e1b4e38b12f17cd8b94a417~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763604775&amp;x-signature=auTpCKZiPq%2B8JF%2BTr%2B%2BXDxLnfnE%3D" alt="" loading="lazy"/></p>
<p><code>Gitee</code>åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fdromara%2Fx-easypdf" target="_blank" title="https://gitee.com/dromara/x-easypdf" ref="nofollow noopener noreferrer">gitee.com/dromara/x-eâ€¦</a></p>
<p>å®˜ç½‘åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fx-easypdf.cn%2F" target="_blank" title="https://x-easypdf.cn/" ref="nofollow noopener noreferrer">x-easypdf.cn/</a></p>
<h3 data-id="heading-6">3.2 æ¡ˆä¾‹</h3>
<p><code>x-easypdf</code>æ˜¯å¯¹<code>playwrigh</code>çš„åŠŸèƒ½åšäº†ä¸€å±‚åŒ…è£…ï¼Œä½¿ç”¨èµ·æ¥æ›´æ–¹ä¾¿ã€‚</p>
<p><strong>Mavenä¾èµ–</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.dromara<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>x-easypdf<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.4.7<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.microsoft.playwright<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>playwright<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.53.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><strong>å®è·µä»£ç 01</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RequestMapping("index10")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">index10</span><span class="hljs-params">(HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> IOException {
    <span class="hljs-comment">// è·å–htmlè½¬æ¢å™¨</span>
    <span class="hljs-type">HtmlConvertor</span> <span class="hljs-variable">convertor</span> <span class="hljs-operator">=</span> PdfHandler.getDocumentConvertor().getHtmlConvertor();
    <span class="hljs-type">Document</span> <span class="hljs-variable">pdf</span> <span class="hljs-operator">=</span> convertor.toPdf(<span class="hljs-string">"http://127.0.0.1:8080/page/index"</span>);
    pdf.save(response.getOutputStream());
}
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<p><code>playwrigh</code>æ˜¯åŸºäºæµè§ˆå™¨å¼•æ“çš„ï¼Œé¦–æ¬¡è°ƒç”¨ä¼šä¸‹è½½é»˜è®¤çš„æµè§ˆå™¨ï¼Œä¸‹è½½å®Œæˆä¹‹åï¼Œåç»­çš„ä½¿ç”¨å°±æµç•…äº†ã€‚è€Œä¸”é»˜è®¤æ”¯æŒä¸­æ–‡ï¼Œå› ä¸ºä½¿ç”¨æµè§ˆå™¨å¼•æ“ï¼Œæ‰€ä»¥å¯¹äº<code>Html</code>å’Œ<code>Css</code>æ”¯æŒè¾ƒå¥½ã€‚ä½†æ˜¯æ¶ˆè€—èµ„æºè¾ƒé«˜ã€‚</p>
<p>ä½†æ˜¯è¿™é‡Œ<code>convertor.toPdf()</code>ç›®å‰æ”¯æŒä¼ å…¥åœ°å€å’Œæ–‡ä»¶ã€‚ä¸æ”¯æŒç›´æ¥<code>html</code>å†…å®¹ç›´æ¥è½¬åŒ–çš„ã€‚ä½†æ˜¯<code>playwrigh</code>æœ¬èº«æ˜¯æ”¯æŒçš„ã€‚</p>
<p>å°ç¼–å·²ç»ç»™<code>x-easypdf</code>ä½œè€…æäº†<code>issues</code>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fdromara%2Fx-easypdf%2Fissues%2FID59TK" target="_blank" title="https://gitee.com/dromara/x-easypdf/issues/ID59TK" ref="nofollow noopener noreferrer">gitee.com/dromara/x-eâ€¦</a></p>
<p>**æ³¨æ„ï¼š**æˆªæ­¢å‘ç¨¿ï¼Œå®˜æ–¹å·²ç»åœ¨<code>3.5.0</code>ç‰ˆæœ¬æ”¯æŒäº†<code>html</code>å†…å®¹è½¬<code>Pdf</code>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d21ec3c6eb54a7daec64c339549b078~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763604775&amp;x-signature=7kcF1hIUJPoWys6g%2FV4yWOgDTtA%3D" alt="" loading="lazy"/></p>
<p><strong>å®æˆ˜ä»£ç 02</strong></p>
<p>ä½¿ç”¨æ¨¡æ¿å¼•æ“çš„æ–¹å¼ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/90c01f3689904b9ab9a5bb5301649a2a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763604775&amp;x-signature=2pIfLVnU7TbdmZd1c3Q33%2BohlO4%3D" alt="" loading="lazy"/></p>
<p>å®˜ç½‘åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fx-easypdf.cn%2Fguide%2Fpdfbox%2Fadvance%2Ftemplater%2F%25E6%25A8%25A1%25E6%259D%25BF%25E5%25BC%2595%25E6%2593%258E.html%23thymeleaf" target="_blank" title="https://x-easypdf.cn/guide/pdfbox/advance/templater/%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E.html#thymeleaf" ref="nofollow noopener noreferrer">x-easypdf.cn/guide/pdfboâ€¦</a></p>
<p>ä¾ç„¶æ˜¯å»ºç«‹åœ¨<code>playwrigh</code>åŸºç¡€ä¹‹ä¸Šã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RequestMapping("index12")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">index12</span><span class="hljs-params">(HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> IOException {
    List&lt;Map&lt;String, Object&gt;&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
        Map&lt;String, Object&gt; item = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        item.put(<span class="hljs-string">"image1"</span>, <span class="hljs-string">"http://example.com/2eb97.jpg"</span>);
        item.put(<span class="hljs-string">"image2"</span>, <span class="hljs-string">"http://example.com/2f9c3.jpg"</span>);
        item.put(<span class="hljs-string">"vehicleName"</span>, <span class="hljs-string">"è·¯è™Defenderï¼»å«å£«ï¼½ï¼ˆè¿›å£ï¼‰2023æ¬¾Defender130 48Vï¼»å«å£« 130 48V] 3.0Tæ‰‹è‡ªï¼ä½“P400 HSE"</span>);
        item.put(<span class="hljs-string">"brandName"</span>, <span class="hljs-string">"è·¯è™"</span>);
        item.put(<span class="hljs-string">"seriesName"</span>, <span class="hljs-string">"Defenderï¼»å«å£«ï¼½"</span>);
        item.put(<span class="hljs-string">"modelYear"</span>, <span class="hljs-string">"2023æ¬¾"</span>);
        item.put(<span class="hljs-string">"licenseYear"</span>, SDF.format(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()));
        item.put(<span class="hljs-string">"displayMileage"</span>, DF.format(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"9657"</span>)));
        item.put(<span class="hljs-string">"dealDate"</span>, SDF.format(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()));
        item.put(<span class="hljs-string">"dealPrice"</span>, DF.format(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"702400"</span>)));

        item.put(<span class="hljs-string">"licenseCode"</span>, <span class="hljs-string">"æ²ªA952714"</span>);

        list.add(item);
    }
    Map&lt;String, Object&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
    map.put(<span class="hljs-string">"list"</span>, list);

    <span class="hljs-type">ThymeleafTemplater</span> <span class="hljs-variable">templater</span> <span class="hljs-operator">=</span> PdfHandler.getDocumentTemplater().getThymeleafTemplater();
    templater.setTemplatePath(<span class="hljs-string">"templates"</span>);
    templater.setTemplateName(<span class="hljs-string">"index.html"</span>);
    templater.setTemplateData(map);

    <span class="hljs-comment">// è·å– html å†…å®¹</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">content</span> <span class="hljs-operator">=</span> templater.getHtmlContent();
    System.out.println(content);

    <span class="hljs-comment">// è½¬æ¢æ–‡æ¡£</span>
    <span class="hljs-type">Document</span> <span class="hljs-variable">document</span> <span class="hljs-operator">=</span> templater.transform();
    document.save(response.getOutputStream());
}
</code></pre>
<p>è¿™é‡Œéœ€è¦è¯´æ˜çš„æ˜¯ï¼šç”±äº<code>x-easypdf</code>è‡ªè¡Œè§£æäº†<code>Thymeleaf</code>æ¨¡ç‰ˆï¼Œæ‰€ä»¥æ— æ³•ä½¿ç”¨<code>spring-boot-starter-thymeleaf</code>çš„é…ç½®ã€‚<code>templatePath</code>å’Œ<code>templateName</code>éƒ½éœ€è¦å†™å®Œæ•´ã€‚<code>templatePath</code>æŒ‡<code>classpath</code>ä¸‹çš„è·¯å¾„ã€‚</p>
<p>æ¨¡æ¿å¼•æ“å¯èƒ½ä¼šå‡ºç°<code>nested exception is java.lang.NoClassDefFoundError: ognl/PropertyAccessor</code>çš„é”™è¯¯ï¼Œéœ€è¦å¼•å…¥<code>ognl</code>ï¼Œä¸”ç‰ˆæœ¬ä¸èƒ½è¶…è¿‡<code>3.2</code>ã€‚ä» <code>3.2</code> å¼€å§‹ï¼Œä¼šæŠ¥<code>java.lang.NoClassDefFoundError: ognl/DefaultMemberAccess</code>ã€‚æœ‰æ•ˆç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>ognl<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>ognl<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.1.28<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>è¾¹è·å¯ä»¥é€šè¿‡æ‰“å°æ ·å¼æ§åˆ¶ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-keyword">@page</span> {
    size: A4;
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span>;
}
</code></pre>
<h3 data-id="heading-7">3.3 <code>playwrigh</code>åŸç”Ÿå†™æ³•</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RequestMapping("index11")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">index11</span><span class="hljs-params">(HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> IOException {
    <span class="hljs-keyword">try</span> (<span class="hljs-type">Playwright</span> <span class="hljs-variable">playwright</span> <span class="hljs-operator">=</span> Playwright.create();
         <span class="hljs-type">Browser</span> <span class="hljs-variable">browser</span> <span class="hljs-operator">=</span> playwright.chromium().launch()) {
        <span class="hljs-type">BrowserContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> browser.newContext();
        <span class="hljs-type">Page</span> <span class="hljs-variable">page</span> <span class="hljs-operator">=</span> context.newPage();

        <span class="hljs-comment">// ä»HTMLå†…å®¹ç”ŸæˆPDF</span>
        page.setContent(<span class="hljs-string">"&lt;h1&gt;Hello, Playwright!&lt;/h1&gt;"</span>);
        <span class="hljs-type">byte</span>[] pdf = page.pdf();

        <span class="hljs-type">ByteArrayInputStream</span> <span class="hljs-variable">bais</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayInputStream</span>(pdf);
        IOUtils.copy(bais, response.getOutputStream());
    }
}
</code></pre>
<h2 data-id="heading-8">04 å°ç»“</h2>
<p><code>iText pdfHTML</code>å†…å­˜å ç”¨ä½ï¼Œè½¬æ¢é€Ÿåº¦å¿«ï¼Œé€‚åˆæœåŠ¡å™¨ç«¯æ‰¹é‡å¤„ç†ã€‚è€Œ<code>Playwright</code>éœ€è¦æ›´å¤šèµ„æºï¼Œä½†æ¸²æŸ“è´¨é‡æé«˜ï¼Œé€‚åˆå¯¹è§†è§‰ä¿çœŸåº¦è¦æ±‚é«˜çš„åœºæ™¯ï¼Œæ‰€ä»¥<code>x-easypdf</code>ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚å¦‚æœåªæ˜¯é’ˆå¯¹<code>Html</code>è½¬<code>Pdf</code>çš„æœåŠ¡ç«¯è½¬åŒ–çš„åœºæ™¯<code>iText pdfHTML</code>çš„ä¼˜åŠ¿æ›´æ˜æ˜¾ä¸€ä¸‹ï¼Œå…³é”®å®ƒå¿«ï¼</p>
<p>ä¹Ÿæœ‰ç²‰ä¸æœ‹å‹ç•™è¨€è¯´<code>jasperreports</code>ä¹Ÿå¾ˆå¥½ç”¨ï¼Œå°ç¼–ä¹Ÿè¯•äº†ä¸€ä¸‹ã€‚<code>jasperreports</code>éœ€è¦åŠ è½½ç‰¹å®šçš„æ¨¡æ¿ï¼Œä¹Ÿè®¸æ˜¯å› ä¸ºä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œç”¨èµ·æ¥æ„Ÿè§‰æœ‰ç‚¹åˆ«æ‰­ã€‚è¿™é‡Œå°±ä¸æ¨èäº†ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»è¯•è¯•ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Valdiâ€”â€”ä¸€ä¸ªæä¾›åŸç”Ÿæ€§èƒ½çš„è·¨å¹³å° UI æ¡†æ¶]]></title>    <link>https://juejin.cn/post/7571646669201899562</link>    <guid>https://juejin.cn/post/7571646669201899562</guid>    <pubDate>2025-11-12T12:09:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571646669201899562" data-draft-id="7571678388953923603" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Valdiâ€”â€”ä¸€ä¸ªæä¾›åŸç”Ÿæ€§èƒ½çš„è·¨å¹³å° UI æ¡†æ¶"/> <meta itemprop="keywords" content="UI Kit"/> <meta itemprop="datePublished" content="2025-11-12T12:09:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿™å„¿æœ‰ä¸€å †èŠ±"/> <meta itemprop="url" content="https://juejin.cn/user/3076912575965819"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Valdiâ€”â€”ä¸€ä¸ªæä¾›åŸç”Ÿæ€§èƒ½çš„è·¨å¹³å° UI æ¡†æ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3076912575965819/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿™å„¿æœ‰ä¸€å †èŠ±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T12:09:09.000Z" title="Wed Nov 12 2025 12:09:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ffd2aef487764ddea9991cb145d12823~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-Z5YS_5pyJ5LiA5aCG6Iqx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763554149&amp;x-signature=hy5qLlMfngLqhsBcuqNTafg%2BSN8%3D" alt="è¿‘è·ç¦»ä»£ç å±å¹•" loading="lazy"/></p>
<p>ä»ä¸€ä¸ªæ—¥æŠ¥èµ·å¤´ï¼šç§»åŠ¨ç«¯å›¢é˜Ÿè¢«è¦æ±‚åœ¨ä¸¤å‘¨é‡ŒæŠŠæ´»åŠ¨é¡µåŒæ—¶ä¸Šçº¿ iOSã€Android å’Œ macOSã€‚æ—¶é—´ç´§ï¼Œäº¤äº’ç»†ï¼ŒåŠ¨ç”»è¿˜ä¸èƒ½æ‰å¸§ã€‚ä¼ ç»Ÿè§£æ³•è¦ä¹ˆå†™ä¸‰å¥—åŸç”Ÿç•Œé¢ï¼Œè¦ä¹ˆèµ°â€œWeb å®¹å™¨â€å–å·§ï¼Œç»“æœè¦ä¹ˆå¼€å‘æ•ˆç‡åƒç´§ï¼Œè¦ä¹ˆæ€§èƒ½æ‰“æŠ˜ã€‚æ­¤æ—¶ï¼Œä¸€ä¸ªåå­—è¿‘ä¹ä½è°ƒçš„æ¡†æ¶é—¯è¿›è§†é‡â€”â€”<strong>Valdi</strong>ã€‚å®ƒæŠŠç•Œé¢çš„å£°æ˜å¼å†™æ³•ç•™åœ¨ TypeScriptï¼ŒæŠŠæ¸²æŸ“æƒäº¤ç»™å¹³å°åŸç”Ÿè§†å›¾ï¼Œè¯•å›¾æŠŠâ€œæ•ˆç‡ä¸æ€§èƒ½åªèƒ½äºŒé€‰ä¸€â€çš„æ—§é€»è¾‘ç¿»è¿‡æ¥ã€‚(<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSnapchat%2FValdi" title="https://github.com/Snapchat/Valdi" target="_blank" ref="nofollow noopener noreferrer">GitHub</a>)</p>
<h2 data-id="heading-0">å®ƒåˆ°åº•æ˜¯ä»€ä¹ˆ</h2>
<p>å®˜æ–¹ç»™å‡ºçš„å®šä¹‰éå¸¸ç›´æ¥ï¼šä½¿ç”¨ <strong>å£°æ˜å¼ TypeScript/TSX</strong> å†™ UIï¼Œ<strong>ç¼–è¯‘ä¸º iOSã€Androidã€macOS çš„åŸç”Ÿè§†å›¾</strong>ï¼Œ<strong>ä¸ä¾èµ– WebViewï¼Œä¹Ÿæ²¡æœ‰ä¼ ç»Ÿ JS bridge</strong>ã€‚å› æ­¤ï¼Œåˆ—è¡¨æ»šåŠ¨ã€å¤æ‚æ‰‹åŠ¿ã€ç³»ç»Ÿçº§åŠ¨ç”»éƒ½æ²¿ç”¨åŸç”Ÿè¡¨ç°ï¼Œé¿å…â€œè·¨å¹³å°å±‚â€æˆä¸ºæ€§èƒ½ç“¶é¢ˆã€‚è¯¥æ¡†æ¶åœ¨ Snap çš„ç”Ÿäº§ç¯å¢ƒå·²ç»é•¿æœŸæœå½¹ï¼ˆå†…éƒ¨ä½¿ç”¨è¾¾æ•°å¹´ï¼‰ï¼Œå¦‚ä»Šä»¥ <strong>MIT</strong> è®¸å¯è¯å¼€æºï¼Œå½“å‰å¯¹å¤–æ ‡æ³¨ä¸º <strong>Beta</strong>ï¼ˆä¸»è¦æ˜¯æ–‡æ¡£ä¸å·¥å…·é“¾ä»åœ¨å¯¹å¼€æºç”Ÿæ€æ‰“ç£¨ï¼‰ã€‚(<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSnapchat%2FValdi" title="https://github.com/Snapchat/Valdi" target="_blank" ref="nofollow noopener noreferrer">GitHub</a>)</p>
<p><strong>Valdi GitHub</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fjovial-fortune.com%2FK42TvQ" target="_blank" title="https://jovial-fortune.com/K42TvQ" ref="nofollow noopener noreferrer">github.com/Snapchat/Vaâ€¦</a></p>
<h2 data-id="heading-1">å†™æ³•é•¿ä»€ä¹ˆæ ·</h2>
<p>åœ¨ Valdi é‡Œï¼Œç•Œé¢è¢«å†™æˆ TSX ç»„ä»¶ã€‚ä¸‹é¢çš„ç¤ºä¾‹å±•ç¤ºäº†â€œå£°æ˜â€”æ¸²æŸ“â€”å±æ€§â€è¿™ä¸€å¥—ç›´è§‰å¼æµç¨‹ï¼ˆè¯­ä¹‰ä¸å®˜æ–¹ç¤ºä¾‹ä¸€è‡´ï¼Œä½†åšäº†é€‚åº¦è£å‰ªä¸æ³¨é‡Šï¼‰ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// HelloWorld.tsx</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Component</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'valdi_core/src/Component'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloWorld</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> {
  <span class="hljs-title function_">onRender</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> message = <span class="hljs-string">'Hello Valdi'</span>;
    <span class="hljs-comment">// è¿™é‡Œçš„ &lt;view&gt;ã€&lt;label&gt; ä¼šè¢«ç¼–è¯‘æˆå¹³å°åŸç”Ÿè§†å›¾ï¼ˆé WebViewï¼‰</span>
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">backgroundColor</span>=<span class="hljs-string">"#FFFC00"</span> <span class="hljs-attr">padding</span>=<span class="hljs-string">{24}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"black"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{message}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span>;
  }
}
</code></pre>
<p>è¿™ç§å†™æ³•çš„å…³é”®ä¸åœ¨â€œçœ‹èµ·æ¥åƒ Reactâ€ï¼Œè€Œåœ¨â€œ<strong>æœ€ç»ˆè½åœ°çš„æ˜¯åŸç”Ÿæ§ä»¶</strong>â€ã€‚æ¸²æŸ“å±‚çš„å·¥ä½œäº¤ç»™å¹³å°æœ¬èº«ï¼Œæ¡†æ¶åˆ™åœ¨ç¼–è¯‘æœŸä¸è¿è¡ŒæœŸå¼€å¯ä¸€ç³»åˆ—æ€§èƒ½æ‰‹æ®µï¼ˆè§†å›¾æ± å¤ç”¨ã€æŒ‰å¯è§†åŒºåŸŸå¢é‡æ¸²æŸ“ã€ç»„ä»¶çº§åˆ«çš„ç‹¬ç«‹é‡æ¸²ï¼‰ï¼Œå°½é‡ä¸æŠŠé‡è´Ÿç•™åœ¨è·¨å±‚é€šä¿¡ä¸Šã€‚(<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSnapchat%2FValdi" title="https://github.com/Snapchat/Valdi" target="_blank" ref="nofollow noopener noreferrer">GitHub</a>)</p>
<p><strong>Valdi æ–‡æ¡£ä¸å…¥é—¨</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fjovial-fortune.com%2Fb.3-VN0%2FP%2F3Np%2FvObOmBVmJvZ%2FDA0%2F2HMoD%2FQDw%2FNjDJAH3%2FL%2FTyYzwpNXD%2FA_0rM-Dtgj" target="_blank" title="https://jovial-fortune.com/b.3-VN0/P/3Np/vObOmBVmJvZ/DA0/2HMoD/QDw/NjDJAH3/L/TyYzwpNXD/A_0rM-Dtgj" ref="nofollow noopener noreferrer">github.com/Snapchat/Vaâ€¦</a>**</p>
<h2 data-id="heading-2">ä¸ºä»€ä¹ˆåœ¨æ„â€œåŸç”Ÿæ€§èƒ½â€</h2>
<p>è·¨å¹³å° UI çš„å†å²é‡Œï¼Œæ€§èƒ½é—®é¢˜å¾€å¾€æ¥è‡ªä¸¤å¤„ï¼š
å…¶ä¸€æ˜¯ <strong>æ¸²æŸ“å®¹å™¨</strong>â€”â€”WebView æˆ–è‡ªç»˜å¼•æ“åœ¨â€œè´´è¿‘ç³»ç»Ÿâ€ä¸Šå¤©ç”Ÿåƒäºï¼›å…¶äºŒæ˜¯ <strong>æ¡¥æ¥æˆæœ¬</strong>â€”â€”å½“çŠ¶æ€é¢‘ç¹å˜åŠ¨ã€åŠ¨ç”»å¯†é›†ã€åˆ—è¡¨è¶…é•¿æ—¶ï¼Œè·¨è¯­è¨€/è·¨è¿›ç¨‹é€šä¿¡ä¼šå˜æˆéšå½¢ç¨ã€‚Valdi çš„è·¯å¾„æ˜¯**â€œæŠŠ UI ç¼–è¯‘æˆåŸç”Ÿæ§ä»¶â€**ï¼Œå¹¶å›´ç»•è¿™ä¸ªè½ç‚¹åšä¼˜åŒ–ï¼š</p>
<ul>
<li>å…¨å±€ <strong>è§†å›¾æ± </strong> å›æ”¶ä¸å¤ç”¨ï¼Œé™ä½è§†å›¾åˆ›å»º/é”€æ¯æˆæœ¬ï¼›</li>
<li><strong>ç‹¬ç«‹ç»„ä»¶é‡æ¸²</strong>ï¼Œé¿å…ç¥–å…ˆèŠ‚ç‚¹æ— è°“æ›´æ–°ï¼›</li>
<li><strong>å¯è§†åŒºåŸŸæ„ŸçŸ¥</strong> å¸ƒå±€ä¸æ¸²æŸ“ï¼Œå¤©ç”Ÿé€‚é…é•¿åˆ—è¡¨ä¸åˆ†é¡µï¼›</li>
<li>å¸ƒå±€å¼•æ“ä»¥ <strong>C++</strong> å®ç°å¹¶è¿è¡Œåœ¨ä¸»çº¿ç¨‹ï¼Œå‡å°‘è·¨å±‚ç¼–ç»„ã€‚(<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSnapchat%2FValdi" title="https://github.com/Snapchat/Valdi" target="_blank" ref="nofollow noopener noreferrer">GitHub</a>)</li>
</ul>
<p>è¿™äº›ç‚¹ä¸æ˜¯èŠ±æ‹³ç»£è…¿ï¼Œè€Œæ˜¯ç§»åŠ¨ç«¯è€—æ—¶çƒ­ç‚¹çš„â€œç›´çº¿çªå‡»â€ã€‚åœ¨ä¿¡æ¯æµã€å•†åŸã€æ¶ˆæ¯ç±»åº”ç”¨ä¸­å°¤å…¶æ˜æ˜¾ï¼šé¦–å±æ›´å¿«å‡ºç°ï¼Œæ»šåŠ¨æ›´ç¨³ï¼Œæ»‘åŠ¨æ‰‹æ„Ÿæ›´æ¥è¿‘ç³»ç»ŸåŸç”Ÿæ§ä»¶ã€‚</p>
<h2 data-id="heading-3">å·¥ç¨‹åŒ–ä¸å¼€å‘ä½“éªŒ</h2>
<p>æ•ˆç‡å±‚é¢ï¼ŒValdi ä¸åªæ˜¯åœ¨è¯­æ³•ä¸Šâ€œåƒ Reactâ€ã€‚å®ƒè¾…ä»¥ <strong>å³æ—¶çƒ­é‡è½½</strong>ï¼ˆæ¯«ç§’çº§è§æ•ˆï¼‰ã€<strong>VS Code è°ƒè¯•ä¸æ€§èƒ½å‰–æ</strong>ã€ä¸ <strong>Bazel</strong> çš„é›†æˆä»¥ä¿éšœæ„å»ºå¤ç”¨ä¸å¯é‡å¤ã€‚éœ€è¦åŸç”Ÿæ¥å£æ—¶ï¼Œå¯é€šè¿‡ <strong>å¤šè¯­è¨€æ¨¡å—ï¼ˆPolyglot Modulesï¼‰</strong> ç”Ÿæˆ <strong>TypeScript â†” Kotlin/Swift/ObjC</strong> çš„ç±»å‹å®‰å…¨ç»‘å®šï¼Œæ—¢èƒ½å¤ç”¨æ—¢æœ‰åŸç”Ÿåº“ï¼Œåˆèƒ½æŠŠæ€§èƒ½å…³é”®è·¯å¾„ç•™åœ¨åŸç”Ÿä¾§å®ç°ã€‚(<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSnapchat%2FValdi" title="https://github.com/Snapchat/Valdi" target="_blank" ref="nofollow noopener noreferrer">GitHub</a>)</p>
<p><strong>Bazel</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fjovial-fortune.com%2FK42TvQ" target="_blank" title="https://jovial-fortune.com/K42TvQ" ref="nofollow noopener noreferrer">bazel.build/</a></p>
<h2 data-id="heading-4">è¿ç§»ä¸è½åœ°çš„â€œæ•…äº‹çº¿â€</h2>
<p>ä¸€ä¸ªå¸¸è§è½åœ°é¡ºåºæ˜¯è¿™æ ·çš„ï¼š
å…ˆæŠŠä¸€ä¸ª<strong>ç‹¬ç«‹é¡µé¢</strong>æˆ–<strong>æ–°åŠŸèƒ½å…¥å£</strong>ç”¨ Valdi é‡å†™ï¼Œå†…åµŒåˆ° UIKit/Android View çš„æ ‘é‡Œåš A/Bï¼›æ€§èƒ½éªŒè¯åï¼Œå†é€æ­¥æ‰©å¤§æ¥å…¥é¢ã€‚æ­¤æ—¶ï¼ŒåŸç”Ÿä¸ Valdi çš„<strong>åŒå‘åµŒå…¥</strong>èƒ½åŠ›ï¼ˆâ€œåœ¨åŸç”Ÿé‡Œæ”¾ Valdi è§†å›¾â€ä¸â€œåœ¨ Valdi é‡ŒåµŒåŸç”Ÿæ§ä»¶â€ï¼‰å°±åƒå®‰å…¨å¸¦ï¼Œæ—¢ä¸ç ´åæ—¢æœ‰å·¥ç¨‹ï¼Œåˆç»™æ–°æ ˆè¶³å¤Ÿçš„å‘æŒ¥ç©ºé—´ã€‚(<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSnapchat%2FValdi" title="https://github.com/Snapchat/Valdi" target="_blank" ref="nofollow noopener noreferrer">GitHub</a>)</p>
<p>åœ¨æ•°æ®é€šè·¯ä¸Šï¼Œå›¢é˜Ÿå¯ä»¥æŠŠç½‘ç»œå±‚ã€å›¾ç‰‡åŠ è½½ã€åŸ‹ç‚¹ç­‰ç»§ç»­ç•™åœ¨åŸç”Ÿæ¨¡å—é‡Œï¼Œé€šè¿‡ç±»å‹å®‰å…¨çš„ç»‘å®šæš´éœ²ç»™ TypeScriptã€‚è¾ƒé‡çš„è®¡ç®—ï¼ˆå¦‚åè®®ç¼–è§£ç ã€å¤æ‚ diffã€åª’ä½“ç®¡çº¿ï¼‰å¯ä»¥èµ° C++ æˆ–å¹³å°åŸç”Ÿè¯­è¨€ï¼›Valdi æä¾›çš„ <strong>worker çº¿ç¨‹</strong> èƒ½è®© JS ä¾§åœ¨ä¸é˜»å¡ UI çš„æƒ…å†µä¸‹å®Œæˆéƒ¨åˆ†å¹¶è¡Œä»»åŠ¡ã€‚(<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSnapchat%2FValdi" title="https://github.com/Snapchat/Valdi" target="_blank" ref="nofollow noopener noreferrer">GitHub</a>)</p>
<h2 data-id="heading-5">ä¸â€œåˆ«çš„è·¨å¹³å°â€çš„å·®å¼‚</h2>
<ul>
<li>ä¸ <strong>WebView ç³»</strong>ï¼ˆHybrid/H5ï¼‰ä¸åŒï¼šæ¸²æŸ“ä¸æ˜¯ç½‘é¡µï¼ŒUI ä¸æ˜¯ DOMï¼›å› æ­¤æ»šåŠ¨ã€æ‰‹åŠ¿ã€å¯¼èˆªæ¡è¿™ç±»ç³»ç»Ÿå…ƒç´ æ›´è´´è¿‘å¹³å°æœŸæœ›ã€‚</li>
<li>ä¸ <strong>æ¡¥æ¥å¼ JS Runtime</strong>ï¼ˆé‡åº¦ä¾èµ–æ¡¥çš„æ–¹æ¡ˆï¼‰ä¸åŒï¼šValdi é€šè¿‡ç¼–è¯‘æœŸæŠŠâ€œå£°æ˜å¼æ ‘â€é™è§£ä¸ºåŸç”Ÿè§†å›¾ï¼Œå¹¶å°½é‡åœ¨æ¸²æŸ“ä¸å¸ƒå±€é˜¶æ®µå‡å°‘è·¨å±‚é€šä¿¡é¢‘ç‡ã€‚</li>
<li>ä¸ <strong>çº¯è‡ªç»˜å¼•æ“</strong> ä¸åŒï¼šValdi å€¾å‘â€œè°ƒç³»ç»Ÿæ§ä»¶â€ï¼Œä»è€Œç»§æ‰¿å„å¹³å°åœ¨æ— éšœç¢ã€è¾“å…¥æ³•ã€å¯è¾¾æ€§ã€æ‰‹åŠ¿å†²çªå¤„ç†ç­‰æ–¹é¢çš„æˆç†Ÿç»éªŒã€‚ä»¥ä¸Šå·®å¼‚ç‚¹å‡æ¥è‡ªå…¶å®˜æ–¹çš„æ¸²æŸ“è·¯çº¿ä¸æ€§èƒ½è¦ç‚¹æè¿°ã€‚(<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSnapchat%2FValdi" title="https://github.com/Snapchat/Valdi" target="_blank" ref="nofollow noopener noreferrer">GitHub</a>)</li>
</ul>
<p><strong>Hacker News è®¨è®ºå¸–</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fjovial-fortune.com%2Fb.3-VN0%2FP%2F3Np%2FvObOmBVmJvZ%2FDA0%2F2HMoD%2FQDw%2FNjDJAH3%2FL%2FTyYzwpNXD%2FA_0rM-Dtgj" target="_blank" title="https://jovial-fortune.com/b.3-VN0/P/3Np/vObOmBVmJvZ/DA0/2HMoD/QDw/NjDJAH3/L/TyYzwpNXD/A_0rM-Dtgj" ref="nofollow noopener noreferrer">news.ycombinator.com/item?id=458â€¦</a>**</p>
<h2 data-id="heading-6">ä¸€ä¸ªæ›´å®Œæ•´çš„é¡µé¢ä¾‹å­</h2>
<p>ä¸‹é¢æ„é€ ä¸€ä¸ªç¨å¾®â€œåƒæ ·â€çš„åˆ—è¡¨é¡µé¢ï¼šé¡¶éƒ¨æ ‡é¢˜ã€ä¸»é¢˜åˆ‡æ¢ã€å¯å¤ç”¨çš„ Cellï¼Œä»¥åŠä¸€ä¸ªåœ¨å¯è§†åŒºåŸŸå†…æ‰æ¸²æŸ“çš„é•¿åˆ—è¡¨ã€‚é€»è¾‘æ¼”ç¤ºä¸ºä¸»ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// Feed.tsx</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Component</span>, state } <span class="hljs-keyword">from</span> <span class="hljs-string">'valdi_core/src/Component'</span>;

<span class="hljs-keyword">type</span> <span class="hljs-title class_">Item</span> = { <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">subtitle</span>: <span class="hljs-built_in">string</span> };

<span class="hljs-keyword">function</span> <span class="hljs-title function_">FeedCell</span>(<span class="hljs-params">props: { item: Item }</span>) {
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">padding</span>=<span class="hljs-string">{16}</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{props.item.title}</span> <span class="hljs-attr">fontSize</span>=<span class="hljs-string">{17}</span> <span class="hljs-attr">weight</span>=<span class="hljs-string">"semibold"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{props.item.subtitle}</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"#666"</span> <span class="hljs-attr">marginTop</span>=<span class="hljs-string">{6}</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Feed</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> {
  <span class="hljs-meta">@state</span> <span class="hljs-keyword">private</span> dark = <span class="hljs-literal">false</span>;
  <span class="hljs-meta">@state</span> <span class="hljs-keyword">private</span> <span class="hljs-attr">items</span>: <span class="hljs-title class_">Item</span>[] = [];

  <span class="hljs-title function_">onMount</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span> = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({ <span class="hljs-attr">length</span>: <span class="hljs-number">2000</span> }).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> ({
      <span class="hljs-attr">id</span>: <span class="hljs-title class_">String</span>(i),
      <span class="hljs-attr">title</span>: <span class="hljs-string">`Card <span class="hljs-subst">${i}</span>`</span>,
      <span class="hljs-attr">subtitle</span>: <span class="hljs-string">`Valdi compiles to native views`</span>,
    }));
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">toggleTheme</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dark</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">dark</span>;
  }

  <span class="hljs-title function_">onRender</span>(<span class="hljs-params"/>) {
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">backgroundColor</span>=<span class="hljs-string">{this.dark</span> ? '#<span class="hljs-attr">111</span>' <span class="hljs-attr">:</span> '#<span class="hljs-attr">fff</span>'}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">padding</span>=<span class="hljs-string">{16}</span> <span class="hljs-attr">direction</span>=<span class="hljs-string">"row"</span> <span class="hljs-attr">align</span>=<span class="hljs-string">"center"</span> <span class="hljs-attr">justify</span>=<span class="hljs-string">"space-between"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Explore"</span> <span class="hljs-attr">fontSize</span>=<span class="hljs-string">{20}</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onTap</span>=<span class="hljs-string">{()</span> =&gt;</span> this.toggleTheme()}&gt;
          <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{this.dark</span> ? '<span class="hljs-attr">Light</span>' <span class="hljs-attr">:</span> '<span class="hljs-attr">Dark</span>'} /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>

      {/* åˆ—è¡¨ä»…å¯¹å¯è§†åŒºåŸŸè¿›è¡Œå¢é‡æ¸²æŸ“ï¼Œé•¿åˆ—è¡¨é»˜è®¤å¯æµç•…æ»šåŠ¨ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">list</span>
        <span class="hljs-attr">data</span>=<span class="hljs-string">{this.items}</span>
        <span class="hljs-attr">keyFor</span>=<span class="hljs-string">{(it:</span> <span class="hljs-attr">Item</span>) =&gt;</span> it.id}
        renderItem={(it: Item) =&gt; <span class="hljs-tag">&lt;<span class="hljs-name">FeedCell</span> <span class="hljs-attr">item</span>=<span class="hljs-string">{it}</span> /&gt;</span>}
        estimatedItemHeight={72}
      /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span>;
  }
}
</code></pre>
<p>è¿™ä¸ªä¾‹å­å¯¹åº”äº† Valdi çš„ä¸‰ä»¶â€œæ‹¿æ‰‹æ´»â€ï¼š<strong>è§†å›¾æ± å¤ç”¨</strong>ï¼ˆå¤§é‡ Cell å¾ªç¯åˆ©ç”¨ï¼‰ã€<strong>ç»„ä»¶çº§ç‹¬ç«‹é‡æ¸²</strong>ï¼ˆåˆ‡æ¢æš—é»‘åªè®©å—å½±å“åŒºåŸŸæ›´æ–°ï¼‰ã€ä»¥åŠ<strong>æŒ‰å¯è§†çª—å£æ¸²æŸ“</strong>ï¼ˆå¤§åˆ—è¡¨é»˜è®¤ä¸æ»‘ï¼‰ã€‚è¿™äº›éƒ½åœ¨å…¶ README çš„æ€§èƒ½æ®µè½ä¸­æ˜ç¡®åˆ—å‡ºã€‚(<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSnapchat%2FValdi" title="https://github.com/Snapchat/Valdi" target="_blank" ref="nofollow noopener noreferrer">GitHub</a>)</p>
<h2 data-id="heading-7">é£é™©ä¸è¾¹ç•Œ</h2>
<p>ä»»ä½•è·¨å¹³å°æ–¹æ¡ˆéƒ½ä¸æ˜¯â€œé“¶å¼¹â€ã€‚Valdi å½“å‰ä»å¤„ <strong>Beta</strong> å¯¹å¤–é˜¶æ®µï¼Œå¼€æºç”Ÿæ€çš„æ–‡æ¡£ã€ç¬¬ä¸‰æ–¹ç»„ä»¶ã€æœ€ä½³å®è·µæ²‰æ·€éœ€è¦æ—¶é—´ï¼›åŒæ—¶ï¼Œå›¢é˜Ÿéœ€è¦å…·å¤‡åŸç”Ÿä¸ TypeScript å¹¶è¡Œçš„å·¥ç¨‹èƒ½åŠ›ï¼ˆç‰¹åˆ«æ˜¯å½“æ¥å…¥å¹³å°èƒ½åŠ›ã€æ’æŸ¥ç³»ç»Ÿå±‚é—®é¢˜æ—¶ï¼‰ã€‚ä¸è¿‡ï¼Œä»è·¯çº¿é€‰æ‹©çœ‹ï¼Œå®ƒå°†â€œæ€§èƒ½ä¼˜å…ˆâ€çš„çŸ›ç›¾ç‚¹æ‹‰å›åˆ°åŸç”Ÿæ ˆé‡Œï¼Œå‡å°‘äº†â€œè§£é‡Šå±‚/æ¡¥æ¥å±‚â€æŠŠæ§ä½“éªŒçš„å˜é‡ã€‚(<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSnapchat%2FValdi" title="https://github.com/Snapchat/Valdi" target="_blank" ref="nofollow noopener noreferrer">GitHub</a>)</p>
<hr/>
<p><strong>Valdi GitHub</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fjovial-fortune.com%2FK42TvQ" target="_blank" title="https://jovial-fortune.com/K42TvQ" ref="nofollow noopener noreferrer">github.com/Snapchat/Vaâ€¦</a>**
<strong>Valdi å…¥é—¨ä¸ç¤ºä¾‹</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fjovial-fortune.com%2FK42TvQ" target="_blank" title="https://jovial-fortune.com/K42TvQ" ref="nofollow noopener noreferrer">github.com/Snapchat/Vaâ€¦</a>**
<strong>Bazelï¼ˆæ„å»ºå·¥å…·ï¼‰</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fjovial-fortune.com%2FK42TvQ" target="_blank" title="https://jovial-fortune.com/K42TvQ" ref="nofollow noopener noreferrer">bazel.build/</a>**</p>
<hr/>
<h3 data-id="heading-8">å°ç»“</h3>
<p>Valdi çš„ä»·å€¼ä¸»å¼ å¹¶ä¸èŠ±å“¨ï¼š<strong>ç”¨ TypeScript å†™å£°æ˜å¼ UIï¼ŒæŠŠæ¸²æŸ“äº¤è¿˜ç»™åŸç”Ÿ</strong>ã€‚è¿™ä¸€å–èˆï¼Œä½¿å…¶åœ¨â€œå¤šç«¯ä¸€è‡´ä¸åŸç”Ÿä½“éªŒâ€ä¹‹é—´å–å¾—å°‘è§çš„å¹³è¡¡ã€‚å¯¹äºæ­£åœ¨å¯»æ‰¾â€œæ€§èƒ½ä¸å¦¥åã€åˆèƒ½å¿«é€Ÿè¿­ä»£â€çš„å›¢é˜Ÿï¼Œè¿™æ˜¯å€¼å¾—ä¸¥è‚ƒè¯„ä¼°çš„ä¸€æ¡æŠ€æœ¯è·¯å¾„ã€‚(<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSnapchat%2FValdi" title="https://github.com/Snapchat/Valdi" target="_blank" ref="nofollow noopener noreferrer">GitHub</a>)</p>
<blockquote>
<p>å‚è€ƒä¾æ®ï¼šæ¡†æ¶å®šä½ã€ç¼–è¯‘ä¸ºåŸç”Ÿè§†å›¾ã€æ€§èƒ½ç‰¹æ€§ï¼ˆè§†å›¾æ± ã€å¸ƒå±€å¼•æ“ã€å¯è§†åŒºåŸŸæ¸²æŸ“ï¼‰ã€å·¥ç¨‹åŒ–èƒ½åŠ›ï¼ˆçƒ­é‡è½½ã€VS Code è°ƒè¯•ã€Bazelã€å¤šè¯­è¨€ç»‘å®šï¼‰ã€å¼€æºè®¸å¯ä¸ Beta çŠ¶æ€ç­‰ï¼Œå‡æ‘˜è‡ª Valdi å®˜æ–¹ GitHub ä»“åº“ä¸å¼€æºå‘å¸ƒä¿¡æ¯ã€‚(<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSnapchat%2FValdi" title="https://github.com/Snapchat/Valdi" target="_blank" ref="nofollow noopener noreferrer">GitHub</a>)</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰‘æŒ‡offer-37ã€æ•°å­—åœ¨å‡åºæ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°]]></title>    <link>https://juejin.cn/post/7571781196297420809</link>    <guid>https://juejin.cn/post/7571781196297420809</guid>    <pubDate>2025-11-13T02:27:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571781196297420809" data-draft-id="7569910533508923411" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰‘æŒ‡offer-37ã€æ•°å­—åœ¨å‡åºæ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-11-13T02:27:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SevenCoding"/> <meta itemprop="url" content="https://juejin.cn/user/3261615728242467"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰‘æŒ‡offer-37ã€æ•°å­—åœ¨å‡åºæ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3261615728242467/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SevenCoding
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T02:27:28.000Z" title="Thu Nov 13 2025 02:27:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é¢˜ç›®æè¿°</h2>
<p>ç»Ÿè®¡â¼€ä¸ªæ•°å­—åœ¨å‡åºæ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚</p>
<p>ç¤ºä¾‹1
è¾“â¼Šï¼š[1,2,3,3,3,3,4,5],3
è¿”å›å€¼ï¼š4</p>
<h2 data-id="heading-1">æ€è·¯åŠè§£ç­”</h2>
<h3 data-id="heading-2">çº¿æ€§éå†</h3>
<p>é¡ºåºéå†æ•°ç»„ï¼Œé‡åˆ°ç›®æ ‡å€¼å°±è®¡æ•°</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">GetNumberOfK</span><span class="hljs-params">(<span class="hljs-type">int</span>[] array, <span class="hljs-type">int</span> k)</span> {
        <span class="hljs-keyword">if</span> (array == <span class="hljs-literal">null</span> || array.length == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        }
        
        <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; array.length; i++) {
            <span class="hljs-keyword">if</span> (array[i] == k) {
                count++;
            }
            <span class="hljs-comment">// ç”±äºæ•°ç»„æœ‰åºï¼Œå¦‚æœå½“å‰å…ƒç´ å·²å¤§äºkï¼Œå¯æå‰ç»“æŸ</span>
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (array[i] &gt; k) {
                <span class="hljs-keyword">break</span>;
            }
        }
        <span class="hljs-keyword">return</span> count;
    }
}
</code></pre>
<ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>â€‹ï¼šO(n)ï¼Œæœ€åæƒ…å†µä¸‹éœ€è¦éå†æ•´ä¸ªæ•°ç»„</li>
<li>â€‹<strong>ç©ºé—´å¤æ‚åº¦</strong>â€‹ï¼šO(1)ï¼Œåªä½¿ç”¨å¸¸æ•°çº§åˆ«é¢å¤–ç©ºé—´</li>
</ul>
<h3 data-id="heading-3">äºŒåˆ†æŸ¥æ‰¾+å·¦å³æ‰«ææ³•</h3>
<p>å…ˆä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾å®šä½åˆ°ç›®æ ‡å€¼ï¼Œç„¶åå‘ä¸¤è¾¹æ‰©å±•ç»Ÿè®¡ã€‚</p>
<p>ç”±äºæ•°ç»„æ˜¯æœ‰åºçš„ï¼Œå¯ä»¥æ˜æ˜¾çœ‹åˆ°æ˜¯äºŒåˆ†æ³•ã€‚</p>
<p>ç¬¬1æ­¥æ˜¯æ‰¾å‡ºæ•°å€¼ä¸º k çš„æ•°çš„ç´¢å¼•ï¼š
å‡è®¾æ•°ç»„ä¸º nums[] ï¼Œâ¼€å¼€å§‹çš„å·¦è¾¹ç´¢å¼•ä¸º left = 0 ï¼Œå³è¾¹ç•Œç´¢å¼•ä¸º right = nums.length-1</p>
<ol>
<li>å°†æ•°ç»„åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œä¸­é—´çš„æ•°ä¸º nums[mid] ã€‚ç¬¬1éƒ¨åˆ†ä¸º [left,mid] ,ç¬¬2éƒ¨åˆ†ä¸º[mid+1,right]ã€‚</li>
<li>å¦‚æœ nums[mid]&gt;k ,åˆ™è¯´æ˜ k åªå¯èƒ½å­˜åœ¨å‰åŠéƒ¨åˆ†ä¸­ï¼Œå¯¹å‰åŠéƒ¨åˆ†æ‰§â¾æ“ä½œ1ã€‚</li>
<li>å¦‚æœ nums[mid]&lt;k ,åˆ™è¯´æ˜ k åªå¯èƒ½å­˜åœ¨ååŠéƒ¨åˆ†ä¸­ï¼Œå¯¹ååŠéƒ¨åˆ†æ‰§â¾æ“ä½œ1ã€‚</li>
<li>å¦‚æœ nums[mid]=k ,ç›´æ¥è¿”å›å½“å‰ç´¢å¼• mid ã€‚</li>
<li>å¦‚æœ left &gt; right ,è¯´æ˜ k ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› -1 ã€‚</li>
</ol>
<p>æ‰¾åˆ°ç´¢å¼•ä¹‹åï¼Œå¾€ä¸¤è¾¹æ‰©å±•ï¼ŒåŒæ—¶ç»Ÿè®¡kçš„ä¸ªæ•°ï¼Œç›´åˆ°å…ƒç´ ä¸ç­‰äº k çš„æ—¶å€™åœâ½Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b060f0fde494c77a3c1f34b60fcc121~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2V2ZW5Db2Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763605647&amp;x-signature=aICGJGvTeAoApVvJr%2F3QY0dIq2w%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">GetNumberOfK</span><span class="hljs-params">(<span class="hljs-type">int</span>[] array, <span class="hljs-type">int</span> k)</span> {
        <span class="hljs-keyword">if</span> (array == <span class="hljs-literal">null</span> || array.length == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        
        <span class="hljs-type">int</span> <span class="hljs-variable">left</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, right = array.length - <span class="hljs-number">1</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        
        <span class="hljs-comment">// äºŒåˆ†æŸ¥æ‰¾</span>
        <span class="hljs-keyword">while</span> (left &lt;= right) {
            <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> left + (right - left) / <span class="hljs-number">2</span>;
            
            <span class="hljs-keyword">if</span> (array[mid] &lt; k) {
                left = mid + <span class="hljs-number">1</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (array[mid] &gt; k) {
                right = mid - <span class="hljs-number">1</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå‘å·¦å³æ‰©å±•ç»Ÿè®¡</span>
                count = <span class="hljs-number">1</span>;
                <span class="hljs-type">int</span> <span class="hljs-variable">temp</span> <span class="hljs-operator">=</span> mid;
                
                <span class="hljs-comment">// å‘å·¦ç»Ÿè®¡</span>
                <span class="hljs-keyword">while</span> (--temp &gt;= left &amp;&amp; array[temp] == k) {
                    count++;
                }
                
                <span class="hljs-comment">// å‘å³ç»Ÿè®¡</span>
                temp = mid;
                <span class="hljs-keyword">while</span> (++temp &lt;= right &amp;&amp; array[temp] == k) {
                    count++;
                }
                <span class="hljs-keyword">break</span>;
            }
        }
        <span class="hljs-keyword">return</span> count;
    }
}
</code></pre>
<ul>
<li>â€‹<strong>æ—¶é—´å¤æ‚åº¦</strong>â€‹ï¼šO(log n + k)ï¼Œå…¶ä¸­kæ˜¯ç›®æ ‡å€¼å‡ºç°æ¬¡æ•°ã€‚å½“ç›®æ ‡å€¼å‡ºç°æ¬¡æ•°è¾ƒå°‘æ—¶æ•ˆç‡æ¥è¿‘O(log n)ï¼Œä½†æœ€åæƒ…å†µï¼ˆå…¨éƒ¨æ˜¯ç›®æ ‡å€¼ï¼‰é€€åŒ–ä¸ºO(n)</li>
<li>â€‹<strong>ç©ºé—´å¤æ‚åº¦</strong>â€‹ï¼šO(1)</li>
</ul>
<h3 data-id="heading-4">åŒäºŒåˆ†æŸ¥æ‰¾æ³•ï¼ˆæ¨èï¼‰</h3>
<p>åˆ†åˆ«ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ‰¾åˆ°ç›®æ ‡å€¼çš„èµ·å§‹å’Œç»“æŸä½ç½®ï¼Œè®¡ç®—åŒºé—´é•¿åº¦ï¼Œè¿™æ˜¯æœ€ä¼˜è§£æ³•ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">GetNumberOfK</span><span class="hljs-params">(<span class="hljs-type">int</span>[] array, <span class="hljs-type">int</span> k)</span> {
        <span class="hljs-keyword">if</span> (array == <span class="hljs-literal">null</span> || array.length == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        
        <span class="hljs-comment">// æ‰¾åˆ°ç¬¬ä¸€ä¸ªkçš„ä½ç½®</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">firstIndex</span> <span class="hljs-operator">=</span> findFirstPosition(array, k);
        <span class="hljs-comment">// æ‰¾åˆ°æœ€åä¸€ä¸ªkçš„ä½ç½®</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">lastIndex</span> <span class="hljs-operator">=</span> findLastPosition(array, k);
        
        <span class="hljs-keyword">if</span> (firstIndex == -<span class="hljs-number">1</span> || lastIndex == -<span class="hljs-number">1</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; <span class="hljs-comment">// ç›®æ ‡å€¼ä¸å­˜åœ¨</span>
        }
        
        <span class="hljs-keyword">return</span> lastIndex - firstIndex + <span class="hljs-number">1</span>;
    }
    
    <span class="hljs-comment">/**
     * æŸ¥æ‰¾ç›®æ ‡å€¼çš„ç¬¬ä¸€ä¸ªå‡ºç°ä½ç½®
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">findFirstPosition</span><span class="hljs-params">(<span class="hljs-type">int</span>[] array, <span class="hljs-type">int</span> k)</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">left</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, right = array.length - <span class="hljs-number">1</span>;
        
        <span class="hljs-keyword">while</span> (left &lt;= right) {
            <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> left + (right - left) / <span class="hljs-number">2</span>;
            
            <span class="hljs-keyword">if</span> (array[mid] &lt; k) {
                left = mid + <span class="hljs-number">1</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (array[mid] &gt; k) {
                right = mid - <span class="hljs-number">1</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// å…³é”®ï¼šæ£€æŸ¥æ˜¯å¦ä¸ºç¬¬ä¸€ä¸ªå‡ºç°ä½ç½®</span>
                <span class="hljs-keyword">if</span> (mid == <span class="hljs-number">0</span> || array[mid - <span class="hljs-number">1</span>] != k) {
                    <span class="hljs-keyword">return</span> mid;
                } <span class="hljs-keyword">else</span> {
                    right = mid - <span class="hljs-number">1</span>; <span class="hljs-comment">// ç»§ç»­åœ¨å·¦åŠéƒ¨åˆ†æŸ¥æ‰¾</span>
                }
            }
        }
        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>; <span class="hljs-comment">// æœªæ‰¾åˆ°</span>
    }
    
    <span class="hljs-comment">/**
     * æŸ¥æ‰¾ç›®æ ‡å€¼çš„æœ€åä¸€ä¸ªå‡ºç°ä½ç½®
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">findLastPosition</span><span class="hljs-params">(<span class="hljs-type">int</span>[] array, <span class="hljs-type">int</span> k)</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">left</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, right = array.length - <span class="hljs-number">1</span>;
        
        <span class="hljs-keyword">while</span> (left &lt;= right) {
            <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> left + (right - left) / <span class="hljs-number">2</span>;
            
            <span class="hljs-keyword">if</span> (array[mid] &lt; k) {
                left = mid + <span class="hljs-number">1</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (array[mid] &gt; k) {
                right = mid - <span class="hljs-number">1</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// å…³é”®ï¼šæ£€æŸ¥æ˜¯å¦ä¸ºæœ€åä¸€ä¸ªå‡ºç°ä½ç½®</span>
                <span class="hljs-keyword">if</span> (mid == array.length - <span class="hljs-number">1</span> || array[mid + <span class="hljs-number">1</span>] != k) {
                    <span class="hljs-keyword">return</span> mid;
                } <span class="hljs-keyword">else</span> {
                    left = mid + <span class="hljs-number">1</span>; <span class="hljs-comment">// ç»§ç»­åœ¨å³åŠéƒ¨åˆ†æŸ¥æ‰¾</span>
                }
            }
        }
        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>; <span class="hljs-comment">// æœªæ‰¾åˆ°</span>
    }
}
</code></pre>
<ul>
<li>â€‹<strong>æ—¶é—´å¤æ‚åº¦</strong>â€‹ï¼šO(log n)ï¼Œæ‰§è¡Œä¸¤æ¬¡äºŒåˆ†æŸ¥æ‰¾</li>
<li>â€‹<strong>ç©ºé—´å¤æ‚åº¦</strong>â€‹ï¼šO(1)ï¼Œåªä½¿ç”¨å¸¸æ•°ç©ºé—´</li>
</ul>
<h3 data-id="heading-5">kÂ±0.5è¾¹ç•ŒæŸ¥æ‰¾æ³•</h3>
<p>ä¸€ç§å·§å¦™çš„è§£æ³•ï¼Œé€šè¿‡æŸ¥æ‰¾ç›®æ ‡å€¼è¾¹ç•Œçš„æ’å…¥ä½ç½®æ¥è®¡ç®—å‡ºç°æ¬¡æ•°ã€‚</p>
<p>ç”±äºæ•°ç»„å…ƒç´ éƒ½æ˜¯æ•´æ•°ï¼Œk-0.5å’Œk+0.5æ­£å¥½æ˜¯ç›®æ ‡å€¼èŒƒå›´çš„è¾¹ç•Œï¼Œå®ƒä»¬çš„æ’å…¥ä½ç½®å·®å€¼å°±æ˜¯ç›®æ ‡å€¼å‡ºç°æ¬¡æ•°</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">GetNumberOfK</span><span class="hljs-params">(<span class="hljs-type">int</span>[] array, <span class="hljs-type">int</span> k)</span> {
        <span class="hljs-keyword">if</span> (array == <span class="hljs-literal">null</span> || array.length == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        
        <span class="hljs-comment">// æŸ¥æ‰¾k+0.5çš„æ’å…¥ä½ç½®ï¼ˆç¬¬ä¸€ä¸ªå¤§äºkçš„ä½ç½®ï¼‰</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">upperBound</span> <span class="hljs-operator">=</span> findInsertPosition(array, k + <span class="hljs-number">0.5</span>);
        <span class="hljs-comment">// æŸ¥æ‰¾k-0.5çš„æ’å…¥ä½ç½®ï¼ˆç¬¬ä¸€ä¸ªå¤§äºç­‰äºkçš„ä½ç½®ï¼‰</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">lowerBound</span> <span class="hljs-operator">=</span> findInsertPosition(array, k - <span class="hljs-number">0.5</span>);
        
        <span class="hljs-keyword">return</span> upperBound - lowerBound;
    }
    
    <span class="hljs-comment">/**
     * åœ¨æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾ç›®æ ‡å€¼çš„æ’å…¥ä½ç½®
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">findInsertPosition</span><span class="hljs-params">(<span class="hljs-type">int</span>[] array, <span class="hljs-type">double</span> target)</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">left</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, right = array.length - <span class="hljs-number">1</span>;
        
        <span class="hljs-keyword">while</span> (left &lt;= right) {
            <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> left + (right - left) / <span class="hljs-number">2</span>;
            
            <span class="hljs-keyword">if</span> (array[mid] &lt; target) {
                left = mid + <span class="hljs-number">1</span>;
            } <span class="hljs-keyword">else</span> {
                right = mid - <span class="hljs-number">1</span>;
            }
        }
        <span class="hljs-keyword">return</span> left; <span class="hljs-comment">// è¿”å›æ’å…¥ä½ç½®</span>
    }
}
</code></pre>
<ul>
<li>â€‹<strong>æ—¶é—´å¤æ‚åº¦</strong>â€‹ï¼šO(log n)ï¼Œä¸¤æ¬¡äºŒåˆ†æŸ¥æ‰¾</li>
<li>â€‹<strong>ç©ºé—´å¤æ‚åº¦</strong>â€‹ï¼šO(1)</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java + Spring åˆ° Python + FastAPI ï¼ˆä¸€ï¼‰]]></title>    <link>https://juejin.cn/post/7571743311519924233</link>    <guid>https://juejin.cn/post/7571743311519924233</guid>    <pubDate>2025-11-13T01:49:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571743311519924233" data-draft-id="7571621555513360438" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java + Spring åˆ° Python + FastAPI ï¼ˆä¸€ï¼‰"/> <meta itemprop="keywords" content="Java,Python,Spring"/> <meta itemprop="datePublished" content="2025-11-13T01:49:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°å…µå¼ å¥"/> <meta itemprop="url" content="https://juejin.cn/user/1257497032405229"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java + Spring åˆ° Python + FastAPI ï¼ˆä¸€ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1257497032405229/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°å…µå¼ å¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T01:49:27.000Z" title="Thu Nov 13 2025 01:49:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>Java ç¨‹åºå‘˜è¶Šæ¥è¶Šè¢«å”¾å¼ƒï¼Œæˆ‘çœ‹ BOSS ç›´è˜ä¸Šæœ‰çš„å…¬å¸åœ¨è¦æ±‚é‡Œé¢æ˜æ–‡å†™ä¸è¦ Java ç¨‹åºå‘˜ï¼Œæ„Ÿè§‰è‡ªå·±å—åˆ°äº†ä¾®è¾±ï¼Œä¸€æ€’ä¹‹ä¸‹æ€’äº†ä¸€ä¸‹ï¼Œæ—¢ç„¶å¦‚æ­¤åˆ«æ€ªæˆ‘å¿ƒç‹ æ‰‹è¾£ç”¨ Python + FastAPI æŠŠä¹‹å‰ Java + Spring çš„é¡¹ç›®é‡å†™ä¸€éã€‚</p>
</blockquote>
<p>æ­¤æ–‡æ¶‰åŠ MySQLã€Kafkaã€Redis ç»„ä»¶å’Œç”¨æˆ·ã€èµ„é‡‘ã€è®¢å•æ¨¡å—ï¼Œæ•´ä½“ä» Java è¿ç§»åˆ° Python æ‰€éœ€çš„çŸ¥è¯†ç‚¹ã€‚</p>
<h2 data-id="heading-0">è¯­è¨€æ€ç»´è½¬æ¢</h2>
<p>Java çš„è¯­æ³•å¾ˆè‡ƒè‚¿ï¼Œå¦‚æœä¼š Java å†çœ‹å…¶ä»–è¯­è¨€ç®€ç›´é™ç»´æ‰“å‡»ï¼Œå­¦èµ·æ¥æ²¡ä»€ä¹ˆéš¾åº¦ï¼Œé¡¶å¤šæ˜¯åº•å±‚çš„ä¸€äº›è®¾è®¡ã€æ¶æ„ä¸ä¸€æ ·ã€‚</p>
<p>Python æ˜¯åŠ¨æ€è¯­è¨€ï¼Œæ¯”å¦‚</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-comment"># ä¼ ç»Ÿ Python</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>):
    <span class="hljs-keyword">return</span> a + b

add(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)       <span class="hljs-comment"># ç»“æœæ˜¯ 3</span>
add(<span class="hljs-string">"a"</span>, <span class="hljs-string">"b"</span>)   <span class="hljs-comment"># ç»“æœæ˜¯ "ab"</span>
</code></pre>
<p>æ²¡æœ‰ç±»å‹æ ¡éªŒï¼Œæ²¡æœ‰è¿è¡Œå‰ç¼–è¯‘ï¼Œçœ‹èµ·æ¥éå¸¸ä¸å®‰å…¨ã€‚äºæ˜¯æœ‰äº† <strong>Pydantic</strong>ã€‚</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">add_with_hints</span>(<span class="hljs-params">a: <span class="hljs-built_in">int</span>, b: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:
    <span class="hljs-keyword">return</span> a + b
</code></pre>
<p>æ‹¬å·é‡Œé¢æ˜¯å‚æ•°ï¼Œ-&gt; int æ˜¯è¿”å›å€¼ï¼Œç”¨äº† Type Hintsï¼Œç›¸å½“äºä¸€ç§æç¤ºï¼Œè®© Pydantic è¯»å–åˆ°åè¿›è¡Œæ ¡éªŒå’Œè½¬æ¢ã€‚</p>
<p>åˆ—ä¸¾ä¸€ä¸ªæ¥å£çš„ä¾‹å­ï¼Œæ¯”å¦‚ Java</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">// 1. DTO ç±» (POJO)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CreateUserDTO</span> {
    
    <span class="hljs-comment">// 2. Validation (javax.validation)</span>
    <span class="hljs-meta">@NotNull</span>
    <span class="hljs-meta">@Size(min = 3, max = 50)</span>
    <span class="hljs-keyword">private</span> String username;
    
    <span class="hljs-meta">@Min(18)</span>
    <span class="hljs-keyword">private</span> Integer age;
    
    <span class="hljs-comment">// Getters and Setters... (ç”± Jackson ç”¨äºåºåˆ—åŒ–)</span>
}

<span class="hljs-comment">// 3. Controller (Jackson + Validation)</span>
<span class="hljs-meta">@PostMapping("/users")</span>
<span class="hljs-keyword">public</span> ResponseEntity&lt;?&gt; createUser(<span class="hljs-meta">@Valid</span> <span class="hljs-meta">@RequestBody</span> CreateUserDTO userDTO) {
    <span class="hljs-comment">// åˆ°äº†è¿™é‡Œï¼ŒuserDTO å·²ç»è¢« Jackson è§£æï¼Œå¹¶è¢« Validation æ ¡éªŒè¿‡äº†</span>
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>è€Œ Python + FastAPI + Pydantic æ˜¯</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel, Field
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Optional</span> <span class="hljs-comment"># å¯¹åº” Java çš„ Optional æˆ– null</span>

<span class="hljs-comment"># 1. Pydantic æ¨¡å‹ (è¿™ä¸€ä¸ªä¸œè¥¿ = Java çš„ DTO + Validation + Jackson æ³¨è§£)</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CreateUserDTO</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    <span class="hljs-comment"># å¯¹åº” @NotNull å’Œ @Size</span>
    username: <span class="hljs-built_in">str</span> = Field(..., min_length=<span class="hljs-number">3</span>, max_length=<span class="hljs-number">50</span>) 
    
    <span class="hljs-comment"># å¯¹åº” @Min(18) å’Œ å¯é€‰ (Integer è€Œé int)</span>
    age: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">int</span>] = Field(<span class="hljs-literal">None</span>, ge=<span class="hljs-number">18</span>) <span class="hljs-comment"># ge = Greater than or Equal</span>
    
    <span class="hljs-comment"># æ³¨æ„ï¼š</span>
    <span class="hljs-comment"># 1. ... (ä¸‰ä¸ªç‚¹) è¡¨ç¤ºè¿™ä¸ªå­—æ®µæ˜¯å¿…å¡«çš„</span>
    <span class="hljs-comment"># 2. Field(None, ...) è¡¨ç¤ºè¿™ä¸ªå­—æ®µæ˜¯å¯é€‰çš„ (é»˜è®¤å€¼ä¸º None)</span>


<span class="hljs-comment"># 2. FastAPI è·¯ç”±</span>
<span class="hljs-meta">@app.post(<span class="hljs-params"><span class="hljs-string">"/users"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_user</span>(<span class="hljs-params">user_dto: CreateUserDTO</span>):
    <span class="hljs-comment"># åˆ°äº†è¿™é‡Œï¼ŒPydantic å·²ç»è‡ªåŠ¨å®Œæˆäº†ï¼š</span>
    <span class="hljs-comment"># 1. è¯»å– JSON è¯·æ±‚ä½“ (åƒ Jackson)</span>
    <span class="hljs-comment"># 2. æŒ‰ç…§ç±»å‹æç¤º (str, int) æ ¡éªŒå’Œè½¬æ¢æ•°æ®</span>
    <span class="hljs-comment"># 3. è¿è¡Œæ ¡éªŒè§„åˆ™ (min_length, ge) (åƒ javax.validation)</span>
    <span class="hljs-comment"># 4. å¦‚æœæ ¡éªŒå¤±è´¥ï¼Œè‡ªåŠ¨è¿”å›ä¸€ä¸ª 422 é”™è¯¯çš„ JSON å“åº”</span>
    
    <span class="hljs-comment"># ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªå¯¹è±¡</span>
    <span class="hljs-comment"># user_dto.username </span>
    
    <span class="hljs-keyword">return</span> user_dto
</code></pre>
<p>Python é‡Œé¢çš„ <strong>Optional</strong> å’Œ Java é‡Œé¢æ˜¯åŒä¸€ä¸ªæ„æ€ï¼Œå†™æ³•ä¸ä¸€æ ·ï¼ŒPython é‡Œé¢æŠŠå…«å¤§åŸºæœ¬ç±»å‹çš„åŒ…è£…ç±»ä¹Ÿç”¨ Optional è¡¨ç¤ºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e09813d413aa4300af942eafd2e30064~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5YW15byg5YGl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603367&amp;x-signature=Avor%2BvoN0Zvf4%2B%2FRe4EW%2F35%2FhNQ%3D" alt="image.png" loading="lazy"/></p>
<p>Python é‡Œæ²¡æœ‰ Lombokï¼Œç›´æ¥.å±æ€§å°±è¡Œã€‚</p>
<h2 data-id="heading-1">å¹¶å‘æ¨¡å‹</h2>
<p>è¿™æ˜¯ Java å’Œ Python æœ€å¤§çš„ä¸åŒï¼ŒJava æ˜¯å¤šçº¿ç¨‹ï¼Œåœ¨ Spring Web ä¸­ä¸€ä¸ªè¯·æ±‚å°±æ˜¯ä¸€ä¸ªçº¿ç¨‹ï¼ˆé WebFluxï¼‰ï¼ŒTomcat é‡Œé¢é…ç½®æœ€å¤§çº¿ç¨‹æ•°å°±è¿™ä¸ªä½œç”¨ã€‚çº¿ç¨‹å†…æ˜¯é˜»å¡çš„ï¼Œæ¯”å¦‚æŸ¥æ•°æ®åº“çº¿ç¨‹å°±åœé‚£äº†ï¼Œç­‰å¾…æ•°æ®å®Œæˆäº†ç»§ç»­æ‰§è¡Œã€‚</p>
<p>Python ç”¨çš„ asyncio å•çº¿ç¨‹äº‹ä»¶å¾ªç¯ã€‚æŸ¥æ•°æ®åº“çš„æ—¶å€™ï¼Œçº¿ç¨‹å»æ‰§è¡Œåˆ«çš„ï¼Œç›´åˆ°æ•°æ®æ‹¿åˆ°äº†å†æ¥ç€æ‰§è¡Œã€‚ï¼ˆå…·ä½“æµç¨‹åé¢è¯¦ç»†åˆ†è§£ï¼‰</p>
<p>æ¯”å¦‚è¿™ä¸ªæ¥å£é€»è¾‘</p>
<ul>
<li>
<p>æŸ¥ç”¨æˆ·</p>
</li>
<li>
<p>æŸ¥å•†å“</p>
</li>
<li>
<p>å†™è®¢å•</p>
</li>
<li>
<p>å†™è®¢å•è¯¦æƒ…</p>
</li>
</ul>
<p>Java æ˜¯</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">// çº¿ç¨‹ 1</span>
<span class="hljs-keyword">public</span> Order <span class="hljs-title function_">createOrder</span><span class="hljs-params">(...)</span> {
    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> userRepo.findById(...);      <span class="hljs-comment">// (çº¿ç¨‹ 1 é˜»å¡ï¼Œç­‰å¾… 5ms)</span>
    <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> productRepo.findById(...); <span class="hljs-comment">// (çº¿ç¨‹ 1 é˜»å¡ï¼Œç­‰å¾… 5ms)</span>
    
    <span class="hljs-type">Order</span> <span class="hljs-variable">order</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Order</span>(...);
    orderRepo.save(order);                   <span class="hljs-comment">// (çº¿ç¨‹ 1 é˜»å¡ï¼Œç­‰å¾… 10ms)</span>
    
    <span class="hljs-type">OrderDetail</span> <span class="hljs-variable">detail</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderDetail</span>(...);
    detailRepo.save(detail);                 <span class="hljs-comment">// (çº¿ç¨‹ 1 é˜»å¡ï¼Œç­‰å¾… 10ms)</span>
    
    <span class="hljs-keyword">return</span> order; <span class="hljs-comment">// æ€»è€—æ—¶ï¼š5+5+10+10 = 30ms (çº¿ç¨‹ 1 è¢«ç‹¬å  30ms)</span>
}
</code></pre>
<p>Python æ˜¯</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-comment"># å•ä¸ªäº‹ä»¶å¾ªç¯çº¿ç¨‹</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_order</span>(<span class="hljs-params">...</span>):
    <span class="hljs-comment"># 'await'ï¼šæˆ‘æŠŠæ§åˆ¶æƒäº¤å›äº‹ä»¶å¾ªç¯</span>
    user = <span class="hljs-keyword">await</span> user_repo.get_by_id(...)      <span class="hljs-comment"># (I/O å¼€å§‹ï¼Œä»»åŠ¡æš‚åœ)</span>
    
    <span class="hljs-comment"># ... æŸä¸ªæœªæ¥çš„æ—¶åˆ»ï¼Œäº‹ä»¶å¾ªç¯æ¢å¤äº†æˆ‘çš„æ‰§è¡Œ ...</span>
    
    product = <span class="hljs-keyword">await</span> product_repo.get_by_id(...) <span class="hljs-comment"># (I/O å¼€å§‹ï¼Œä»»åŠ¡å†æ¬¡æš‚åœ)</span>
    
    <span class="hljs-comment"># ... å†æ¬¡æ¢å¤ ...</span>
    
    order = Order(...)
    <span class="hljs-keyword">await</span> order_repo.save(order)              <span class="hljs-comment"># (I/O å¼€å§‹ï¼Œä»»åŠ¡å†æ¬¡æš‚åœ)</span>
    
    <span class="hljs-comment"># ... å†æ¬¡æ¢å¤ ...</span>
    
    detail = OrderDetail(...)
    <span class="hljs-keyword">await</span> detail_repo.save(detail)            <span class="hljs-comment"># (I/O å¼€å§‹ï¼Œä»»åŠ¡å†æ¬¡æš‚åœ)</span>
    
    <span class="hljs-comment"># ... å†æ¬¡æ¢å¤ ...</span>
    
    <span class="hljs-keyword">return</span> order <span class="hljs-comment"># æ€»è€—æ—¶ï¼šè¿˜æ˜¯ 30ms (I/O æ€»æ—¶é—´)</span>
</code></pre>
<p>è¿™å¯¼è‡´çš„ç¬¬ä¸€é‡å¤§å˜åŒ–æ˜¯ ThreadLocal æ²¡äº†ï¼Œä¹‹å‰ç”¨æˆ·ç™»å½•çš„ token å¯ä»¥ç”¨ AOP ä¸€è·¯å¸¦åˆ°çº¿ç¨‹é‡Œï¼Œåœ¨ Python é‡Œé¢ç”¨ FastAPI çš„ Depends è§£å†³ï¼Œåé¢æƒ³è¯´ã€‚</p>
<p>ç¬¬äºŒä¸ªæ˜¯ async å¿…é¡»å…¨ç¨‹åˆ°åº•ï¼Œä¸€ä¸ªæ–¹æ³•ç”¨äº†ï¼Œæ‰€æœ‰ä¸Šä¸‹æ¸¸è°ƒç”¨éƒ½ç”¨ï¼Œå¤–éƒ¨çš„ MySQLã€Kafka è¿™ç§ç»„ä»¶ä¹Ÿè¦ç”¨ async çš„ç‰ˆæœ¬ã€‚</p>
<h3 data-id="heading-2">é‚£ä¸ºä»€ä¹ˆ Python æ˜¯å•çº¿ç¨‹çš„ï¼Ÿ</h3>
<p>ä¸»è¦æ˜¯ Python çš„ RAM å†…å­˜ç®¡ç†ç”¨çš„ GLCï¼ˆGlobal Interpreter Lockï¼‰ï¼Œä¸åƒ Java æœ‰å¤æ‚çš„ GC åƒåœ¾å›æ”¶æœºåˆ¶ï¼ŒGLC åœ¨ç”¨åˆ°å¯¹è±¡çš„<strong>å¼•ç”¨è®¡æ•°</strong> + 1ï¼Œæ²¡ç”¨åˆ° -1ï¼Œä¸º 0 åˆ™æ¸…ç†ï¼Œä¸ºäº†é˜²æ­¢å¤šçº¿ç¨‹ RAM å†…å­˜å‡ºé—®é¢˜ï¼Œæœ‰äº† GLCã€‚</p>
<p>asyncio å°±æ˜¯ç”¨å•çº¿ç¨‹å¤šè¿›ç¨‹ï¼ˆåç¨‹ï¼‰çš„æ–¹å¼ï¼Œæé«˜å¹¶å‘ã€‚</p>
<h3 data-id="heading-3">è¿›ç¨‹ã€çº¿ç¨‹ã€åç¨‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a689179bade9434cae7cd1f6252b9abe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5YW15byg5YGl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603367&amp;x-signature=0raHfLx%2BwpAwgQE2B%2BCEQFa756A%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰“å¼€ Win çš„ä»»åŠ¡ç®¡ç†å™¨ï¼Œæœ€å¤–å±‚çš„ Micosoft Edge å°±ä¸€ä¸ªè¿›ç¨‹ï¼Œæ‹¬å·é‡Œçš„ 18 å°±æ˜¯ 18 çš„çº¿ç¨‹ï¼Œåç¨‹ä¸€ç§ç‰¹æ®Šçš„çº¿ç¨‹ï¼Œå¯ä»¥å¾ˆå¿«é€Ÿçš„åœ¨ä¸åŒä»»åŠ¡ä¹‹é—´åˆ‡æ¢ï¼Œasyncio é‡Œé¢è¿™ä¹ˆå«ã€‚</p>
<h3 data-id="heading-4">Python + asyncio è¿™ä¹ˆææ•ˆç‡å²‚ä¸æ˜¯å¾ˆä½ï¼Ÿå¤šæ ¸å¤„ç†å™¨æ€ä¹ˆåŠï¼Ÿ</h3>
<p>å…¶å® CPU çš„é€Ÿåº¦æ˜¯è¿œè¶… IO çš„ï¼Œè€æ—©ä¹‹å‰å•æ ¸ CPU å°±æœ‰æ—¶é—´åˆ‡ç‰‡æ¨¡æ‹Ÿæˆå¤šæ ¸ï¼ŒæœåŠ¡å™¨å¤§éƒ½æ˜¯ IO å¯†é›†å‹ï¼Œå¡åœ¨æŸ¥ MySQLã€Kafkaã€Redis ç­‰ï¼Œè¿™æ ·å…¶å®æ›´é«˜æ•ˆã€‚</p>
<p>æ¯ä¸ªçº¿ç¨‹çš„å¯åŠ¨éƒ½è¦æ¶ˆè€—å‡  M çš„ RAMï¼Œçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ä¹Ÿæ¯”è¾ƒè€—èµ„æºï¼Œè¿›ç¨‹ä¹‹é—´æ•ˆç‡é«˜å¾—å¤šã€‚</p>
<p>çº¿ä¸ŠçœŸå®çš„å¤šæ ¸å¤„ç†å™¨æœåŠ¡å™¨ï¼Œä¼šç”¨è¿›ç¨‹ç®¡ç†å™¨ <strong>Gunicorn</strong> æ ¹æ®æœåŠ¡å™¨æ ¸å¿ƒæ•°å¯åŠ¨å¤šä¸ª Python è¿›ç¨‹ï¼Œç”± Gunicorn å°†è¯·æ±‚åˆ†å‘ã€‚</p>
<h3 data-id="heading-5">asyncio çš„åŸç†</h3>
<p>asyncio åº•å±‚æœ‰ä¸¤ä¸ªç»„ä»¶ï¼Œ<strong>Ready Queue</strong> å’Œ <strong>Waiting Map</strong>ã€‚Ready Queue æ˜¯å¯ä»¥ç«‹å³æ‰§è¡Œçš„é˜Ÿåˆ—ï¼ŒWaiting Map æ˜¯å¼‚æ­¥ç­‰å¾…å”¤é†’çš„ä»»åŠ¡ã€‚</p>
<p>ä»¥ä¸ºä¸€ä¸ªè¯·æ±‚æµç¨‹ä¸ºä¾‹</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_order</span>(<span class="hljs-params">...</span>):
    <span class="hljs-comment"># ä½ çš„ä»£ç ä»è¿™é‡Œå¼€å§‹æ‰§è¡Œ</span>
    user_data = <span class="hljs-keyword">await</span> request.json()  <span class="hljs-comment"># å‡è®¾è¿™æ˜¯ç¬¬ä¸€ä¸ª await (I/O)</span>
    ...
</code></pre>
<p>è¿™äº›ä»£ç éƒ½å…ˆå½“åšä»»åŠ¡æ”¾åˆ° Ready Queueï¼Œç›´åˆ°é‡åˆ°ç¬¬ä¸€ä¸ª await åˆ™æš‚åœï¼ŒæŠŠä»»åŠ¡ç§»åŠ¨åˆ° Waiting Mapï¼Œç„¶åä» Ready Queue å–ä¸‹ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œã€‚ç›´åˆ°æ‰€æœ‰çš„ Ready Queue éƒ½æ‰§è¡Œå®Œæˆã€‚</p>
<p>ä¸€ä¸ªæ˜¯ Queue ä¸€ä¸ªæ˜¯ Mapï¼ŒQueue å­˜çš„æ˜¯ä»»åŠ¡ï¼ŒMap ä¸­å­˜çš„æ˜¯ä»»åŠ¡ + å›è°ƒï¼Œè¿™æ ·æ•°æ®å›è°ƒçš„æ—¶å€™çŸ¥é“å»æ‰§è¡Œå“ªä¸ªä»»åŠ¡ã€‚</p>
<p>await äº¤ç»™æ“ä½œç³»ç»Ÿç³»ç»Ÿ OS å¤„ç†ï¼Œåœ¨æ—¥å¸¸å¼€å‘ä¸­æ¯”å¦‚ä»˜æ¬¾åœºæ™¯ç­‰æ”¯ä»˜å®å›è°ƒï¼Œåœ¨è¿™é‡Œç±»ä¼¼ã€‚</p>
<p>await å‘Šè¯‰æ“ä½œç³»ç»Ÿå¸®æˆ‘æŸ¥ä¸‹ MySQLï¼Œæœ‰ç»“æœäº†é€šçŸ¥æˆ‘ã€‚ä½†ä¸åŒçš„æ“ä½œç³»ç»Ÿé€šçŸ¥æ–¹å¼ä¸ä¸€æ ·ï¼ŒMac UNIX çš„ kqueueã€Linux çš„ epoll å±äº<strong>Reactor çš„å°±ç»ªé€šçŸ¥</strong>ï¼ŒWin çš„ IOPC å±äº<strong>Proactor çš„å›è°ƒ</strong>ã€‚</p>
<p>ä»–ä¿©åŒºåˆ«æ˜¯ç³»ç»Ÿ OS å±‚çš„ï¼Œæ¶‰åŠç½‘å¡ã€æ•°æ®æµé‚£äº›ï¼ŒProactor å¸®å¿™æŠŠæ•°æ®æµå¤åˆ¶äº†ä¸€ä»½ï¼ŒReactor åˆ™è‡ªå·±å» read() write()ï¼Œä»£ç å±‚é¢æ²¡æœ‰åŒºåˆ«ï¼Œasyncio å·²ç»å¸®å¿™å°è£…å¥½äº†ï¼Œæ ¹æ®æ“ä½œç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬äºŒèŠ‚ Node.js é¡¹ç›®å®è·µ - ä½¿ç”¨ nvm å®‰è£… Node.js]]></title>    <link>https://juejin.cn/post/7571695634942492699</link>    <guid>https://juejin.cn/post/7571695634942492699</guid>    <pubDate>2025-11-12T16:38:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571695634942492699" data-draft-id="7571662618056081434" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬äºŒèŠ‚ Node.js é¡¹ç›®å®è·µ - ä½¿ç”¨ nvm å®‰è£… Node.js"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-12T16:38:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="undefinedåœ¨æ˜é‡‘39041"/> <meta itemprop="url" content="https://juejin.cn/user/1081575171951485"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬äºŒèŠ‚ Node.js é¡¹ç›®å®è·µ - ä½¿ç”¨ nvm å®‰è£… Node.js
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1081575171951485/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    undefinedåœ¨æ˜é‡‘39041
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T16:38:17.000Z" title="Wed Nov 12 2025 16:38:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¯¾ç¨‹çš„ç¬¬ 2 å›ï¼šä½¿ç”¨ nvm å®‰è£… Node.jsï¼Œåœ¨è¿™èŠ‚è¯¾é‡Œï¼Œæˆ‘ä»¬å°†æ¢è®¨ï¼š</p>
<ul>
<li>ä¸ºä½•è¦ç”¨ nvmï¼Ÿ</li>
<li>Windows å’Œ macOS å®‰è£… nvm çš„æ–¹å¼</li>
<li>ä½¿ç”¨ nvm å®‰è£… Node.js</li>
<li>å¦‚ä½•åˆ‡æ¢ Node.js çš„ç‰ˆæœ¬</li>
<li>é…ç½® npm ä¸­å›½é•œåƒ</li>
</ul>
<p>å¼€å‘<code>Node.js</code>ï¼Œé¦–å…ˆå°±å¿…é¡»è¦å®‰è£…<code>Node.js</code>è‡ªèº«ã€‚å¦‚æœä½ å·²ç»å®‰è£…å¥½äº†<code>Node.js</code>äº†ï¼Œå¯ä»¥ç•¥è¿‡æœ¬èŠ‚è¯¾ç¨‹ï¼Œç›´æ¥å¼€å§‹å­¦ä¹ å¼€å‘ã€‚</p>
<h2 data-id="heading-0"><em>1.Â ä¸ºä½•è¦ç”¨ nvm ï¼Ÿ</em></h2>
<p>å®‰è£…<code>Node.js</code>ï¼Œæœ€ç®€å•åŠæ³•ï¼Œå°±æ˜¯ç›´æ¥åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2Fen%2F" target="_blank" title="https://nodejs.org/en/" ref="nofollow noopener noreferrer">å®˜ç½‘</a>ä¸‹è½½äº†å®‰è£…ã€‚ä½†è¿™ç§æ–¹æ³•ï¼Œå´ä¸æ˜¯æœ€å¥½çš„åŠæ³•ã€‚å› ä¸ºå¦‚æœéœ€è¦æ›´æ–°<code>Node.js</code>çš„ç‰ˆæœ¬ï¼Œé‚£å°±éœ€è¦æŠŠä¹‹å‰çš„å¸è½½äº†ï¼Œå†å»ä¸‹è½½å®‰è£…å…¶ä»–ç‰ˆæœ¬ï¼Œè¿™æ ·å°±éå¸¸çš„éº»çƒ¦äº†ã€‚</p>
<p>è¿™é‡Œæ¨èå¤§å®¶ä½¿ç”¨<code>nvm</code>æ¥å®‰è£…ï¼Œå¯ä»¥ä½¿ç”¨å®ƒæ¥å®‰è£…å¤šä¸ªä¸åŒç‰ˆæœ¬çš„<code>Node.js</code>ï¼Œå¹¶ä¸”æ ¹æ®éœ€è¦éšæ„çš„åˆ‡æ¢æ‰€éœ€ç‰ˆæœ¬ã€‚</p>
<h2 data-id="heading-1"><em>2.Â Windows å®‰è£… nvm-windows</em></h2>
<p>Windows ä¸ macOS çš„å®‰è£…æ–¹æ³•æœ‰äº›ä¸åŒã€‚Windows çš„åŒå­¦ï¼Œè¯·åœ¨è¿™é‡Œä¸‹è½½<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fcoreybutler%2Fnvm-windows%2F" target="_blank" title="https://github.com/coreybutler/nvm-windows/" ref="nofollow noopener noreferrer">github.com/coreybutlerâ€¦</a>äº†ï¼Œç›´æ¥å®‰è£…å°±å¥½ ï¼Œç„¶åç‚¹å‡»å³ä¾§çš„Â <code>Releases</code>ï¼Œè¿™é‡Œå°±æ˜¯ä¸‹è½½çš„åœ°æ–¹äº†ã€‚æ¥ç€ï¼Œæ‰¾åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œé€‰æ‹©<code>nvm-setup.exe</code>ä¸‹è½½ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17ad2cbedddc4a7288f531a2ceda55db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdW5kZWZpbmVk5Zyo5o6Y6YeRMzkwNDE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763570297&amp;x-signature=LaPTXUuFwGo3xZ5yXvWPW%2FJys0M%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸‹å¥½åï¼Œå°±å¤§å®¶ç›´æ¥å®‰è£…ä¸Šï¼Œç„¶åå°†è‡ªå·±ç”µè„‘çš„<code>PowerShell</code>æˆ–è€…ç»ˆç«¯æ‰“å¼€ï¼Œè¿è¡Œ<code>nvm</code>ï¼Œåªè¦å‡ºæ¥ä¸œè¥¿äº†ï¼Œå°±æ˜¯å®‰è£…å¥½äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0ea5d8ea8114fe7a40b98113ccca2d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdW5kZWZpbmVk5Zyo5o6Y6YeRMzkwNDE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763570297&amp;x-signature=bIIQWo8lbRVVDkS52b%2F3s5dfsrQ%3D" alt="image.png" loading="lazy"/></p>
<p>æ³¨æ„ï¼šWindows æœ‰å¯èƒ½ç¢°åˆ°é”™è¯¯æç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b97f58e81fa485d868993283da138c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdW5kZWZpbmVk5Zyo5o6Y6YeRMzkwNDE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763570297&amp;x-signature=O%2F%2F8Yra%2FxNZvvK5ngmJ464j%2BtpU%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚æœç¢°åˆ°è¿™ä¸ªé”™è¯¯ï¼Œéœ€è¦ç”¨<code>ç®¡ç†å‘˜èº«ä»½</code>æ‰“å¼€<code>PowerShell</code>ï¼Œç„¶åè¿è¡Œï¼š</p>
<p>Set-ExecutionPolicy RemoteSigned</p>
<pre><code class="hljs language-js" lang="js"/></pre>
<p>å†æŒ‰<code>a</code>å³å¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Springäº‹åŠ¡åœ¨å¾®æœåŠ¡æ¶æ„ä¸­çš„å®è·µä¸æŒ‘æˆ˜]]></title>    <link>https://juejin.cn/post/7571749988080173065</link>    <guid>https://juejin.cn/post/7571749988080173065</guid>    <pubDate>2025-11-12T19:30:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571749988080173065" data-draft-id="7570984257665957934" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Springäº‹åŠ¡åœ¨å¾®æœåŠ¡æ¶æ„ä¸­çš„å®è·µä¸æŒ‘æˆ˜"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-11-12T19:30:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§å¤´an"/> <meta itemprop="url" content="https://juejin.cn/user/618374030438861"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Springäº‹åŠ¡åœ¨å¾®æœåŠ¡æ¶æ„ä¸­çš„å®è·µä¸æŒ‘æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/618374030438861/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§å¤´an
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T19:30:18.000Z" title="Wed Nov 12 2025 19:30:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<blockquote>
<p>åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œä¼ ç»Ÿçš„å•ä½“æ•°æ®åº“äº‹åŠ¡ä¸å†é€‚ç”¨ã€‚æ¯ä¸ªå¾®æœåŠ¡æ‹¥æœ‰ç‹¬ç«‹çš„æ•°æ®å­˜å‚¨ï¼Œå¦‚ä½•ä¿è¯è·¨æœåŠ¡çš„æ•°æ®ä¸€è‡´æ€§ï¼Ÿå¦‚ä½•è®¾è®¡å¯é çš„äº‹åŠ¡æ–¹æ¡ˆï¼Ÿæœ¬æ–‡å°†æ·±å…¥æ¢è®¨å¾®æœåŠ¡æ¶æ„ä¸‹çš„äº‹åŠ¡æŒ‘æˆ˜ï¼Œå¹¶ä»‹ç»å¤šç§åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆã€‚</p>
</blockquote>
<h2 data-id="heading-1">å¾®æœåŠ¡äº‹åŠ¡çš„æŒ‘æˆ˜</h2>
<h3 data-id="heading-2">1. ä¼ ç»ŸACIDäº‹åŠ¡çš„å±€é™æ€§</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å•ä½“åº”ç”¨ä¸­çš„äº‹åŠ¡ - åœ¨å¾®æœåŠ¡ä¸­æ— æ³•å®ç°</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Transactional</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MonolithicOrderService</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createOrder</span><span class="hljs-params">(Order order)</span> {
        <span class="hljs-comment">// æ‰€æœ‰æ“ä½œåœ¨åŒä¸€ä¸ªæ•°æ®åº“äº‹åŠ¡ä¸­</span>
        orderRepository.save(order);           <span class="hljs-comment">// è®¢å•åº“</span>
        inventoryService.deductStock(order);   <span class="hljs-comment">// åº“å­˜åº“  </span>
        accountService.deductBalance(order);   <span class="hljs-comment">// è´¦æˆ·åº“</span>
        notificationService.sendEmail(order);  <span class="hljs-comment">// é€šçŸ¥æœåŠ¡</span>
        <span class="hljs-comment">// è¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å›æ»š</span>
    }
}
</code></pre>
<p><strong>å¾®æœåŠ¡ä¸­çš„é—®é¢˜</strong>ï¼š</p>
<ul>
<li>æ¯ä¸ªæœåŠ¡æœ‰ç‹¬ç«‹çš„æ•°æ®åº“</li>
<li>æ— æ³•ä½¿ç”¨ä¼ ç»Ÿçš„æ•°æ®åº“äº‹åŠ¡</li>
<li>ç½‘ç»œè°ƒç”¨å¯èƒ½å¤±è´¥</li>
<li>æœåŠ¡å¯èƒ½ä¸å¯ç”¨</li>
</ul>
<h3 data-id="heading-3">2. CAPå®šç†çš„å½±å“</h3>
<p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œåªèƒ½åŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªï¼š</p>
<ul>
<li><strong>ä¸€è‡´æ€§ (Consistency)</strong>ï¼šæ‰€æœ‰èŠ‚ç‚¹çœ‹åˆ°ç›¸åŒçš„æ•°æ®</li>
<li><strong>å¯ç”¨æ€§ (Availability)</strong>ï¼šæ¯ä¸ªè¯·æ±‚éƒ½èƒ½è·å¾—å“åº”</li>
<li><strong>åˆ†åŒºå®¹é”™æ€§ (Partition Tolerance)</strong>ï¼šç³»ç»Ÿåœ¨ç½‘ç»œåˆ†åŒºæ—¶ä»èƒ½å·¥ä½œ</li>
</ul>
<p>å¾®æœåŠ¡æ¶æ„é€šå¸¸é€‰æ‹©<strong>AP + æœ€ç»ˆä¸€è‡´æ€§</strong>ã€‚</p>
<h2 data-id="heading-4">åˆ†å¸ƒå¼äº‹åŠ¡æ¨¡å¼</h2>
<h3 data-id="heading-5">1. ä¸¤é˜¶æ®µæäº¤ (2PC)</h3>
<p><strong>æ¨¡å¼æè¿°</strong>ï¼šåè°ƒè€…åè°ƒå¤šä¸ªå‚ä¸è€…ï¼Œåˆ†å‡†å¤‡å’Œæäº¤ä¸¤ä¸ªé˜¶æ®µã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 2PC åè°ƒè€…å®ç°ç¤ºä¾‹</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TwoPhaseCommitCoordinator</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OrderService orderService;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> InventoryService inventoryService;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> AccountService accountService;
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createOrderDistributed</span><span class="hljs-params">(Order order)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">transactionId</span> <span class="hljs-operator">=</span> generateTransactionId();
        List&lt;Participant&gt; participants = Arrays.asList(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Participant</span>(<span class="hljs-string">"order"</span>, () -&gt; orderService.prepareCreate(order, transactionId)),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Participant</span>(<span class="hljs-string">"inventory"</span>, () -&gt; inventoryService.prepareDeduct(order, transactionId)),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Participant</span>(<span class="hljs-string">"account"</span>, () -&gt; accountService.prepareDeduct(order, transactionId))
        );
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// é˜¶æ®µä¸€ï¼šå‡†å¤‡é˜¶æ®µ</span>
            <span class="hljs-type">boolean</span> <span class="hljs-variable">allPrepared</span> <span class="hljs-operator">=</span> preparePhase(participants, transactionId);
            
            <span class="hljs-keyword">if</span> (allPrepared) {
                <span class="hljs-comment">// é˜¶æ®µäºŒï¼šæäº¤é˜¶æ®µ</span>
                commitPhase(participants, transactionId);
                log.info(<span class="hljs-string">"åˆ†å¸ƒå¼äº‹åŠ¡æäº¤æˆåŠŸ: {}"</span>, transactionId);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// é˜¶æ®µäºŒï¼šå›æ»šé˜¶æ®µ</span>
                rollbackPhase(participants, transactionId);
                log.warn(<span class="hljs-string">"åˆ†å¸ƒå¼äº‹åŠ¡å›æ»š: {}"</span>, transactionId);
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            rollbackPhase(participants, transactionId);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DistributedTransactionException</span>(<span class="hljs-string">"åˆ†å¸ƒå¼äº‹åŠ¡æ‰§è¡Œå¤±è´¥"</span>, e);
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preparePhase</span><span class="hljs-params">(List&lt;Participant&gt; participants, String transactionId)</span> {
        <span class="hljs-keyword">for</span> (Participant participant : participants) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-type">boolean</span> <span class="hljs-variable">prepared</span> <span class="hljs-operator">=</span> participant.prepare();
                <span class="hljs-keyword">if</span> (!prepared) {
                    log.warn(<span class="hljs-string">"å‚ä¸è€…å‡†å¤‡å¤±è´¥: {}, äº‹åŠ¡: {}"</span>, participant.getName(), transactionId);
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }
            } <span class="hljs-keyword">catch</span> (Exception e) {
                log.error(<span class="hljs-string">"å‚ä¸è€…å‡†å¤‡å¼‚å¸¸: {}, äº‹åŠ¡: {}"</span>, participant.getName(), transactionId, e);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">commitPhase</span><span class="hljs-params">(List&lt;Participant&gt; participants, String transactionId)</span> {
        <span class="hljs-keyword">for</span> (Participant participant : participants) {
            <span class="hljs-keyword">try</span> {
                participant.commit();
            } <span class="hljs-keyword">catch</span> (Exception e) {
                <span class="hljs-comment">// æäº¤é˜¶æ®µå¤±è´¥éœ€è¦äººå·¥å¹²é¢„</span>
                log.error(<span class="hljs-string">"å‚ä¸è€…æäº¤å¤±è´¥: {}, äº‹åŠ¡: {}"</span>, participant.getName(), transactionId, e);
                <span class="hljs-comment">// è®°å½•å¼‚å¸¸ï¼Œéœ€è¦è¡¥å¿</span>
                recordCompensationTask(participant.getName(), transactionId, <span class="hljs-string">"COMMIT"</span>);
            }
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">rollbackPhase</span><span class="hljs-params">(List&lt;Participant&gt; participants, String transactionId)</span> {
        <span class="hljs-keyword">for</span> (Participant participant : participants) {
            <span class="hljs-keyword">try</span> {
                participant.rollback();
            } <span class="hljs-keyword">catch</span> (Exception e) {
                log.error(<span class="hljs-string">"å‚ä¸è€…å›æ»šå¤±è´¥: {}, äº‹åŠ¡: {}"</span>, participant.getName(), transactionId, e);
                <span class="hljs-comment">// è®°å½•å¼‚å¸¸ï¼Œéœ€è¦è¡¥å¿</span>
                recordCompensationTask(participant.getName(), transactionId, <span class="hljs-string">"ROLLBACK"</span>);
            }
        }
    }
}

<span class="hljs-comment">// å‚ä¸è€…æ¥å£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Participant</span> {
    String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span>;
    <span class="hljs-type">boolean</span> <span class="hljs-title function_">prepare</span><span class="hljs-params">()</span>;
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">commit</span><span class="hljs-params">()</span>;
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">rollback</span><span class="hljs-params">()</span>;
}
</code></pre>
<h3 data-id="heading-6">2. Sagaæ¨¡å¼</h3>
<p><strong>æ¨¡å¼æè¿°</strong>ï¼šå°†åˆ†å¸ƒå¼äº‹åŠ¡æ‹†åˆ†ä¸ºä¸€ç³»åˆ—æœ¬åœ°äº‹åŠ¡ï¼Œæ¯ä¸ªäº‹åŠ¡éƒ½æœ‰å¯¹åº”çš„è¡¥å¿æ“ä½œã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Saga åè°ƒè€…å®ç°</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SagaCoordinator</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> SagaStepExecutor stepExecutor;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> SagaStateRepository stateRepository;
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeOrderSaga</span><span class="hljs-params">(Order order)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">sagaId</span> <span class="hljs-operator">=</span> generateSagaId();
        <span class="hljs-type">SagaState</span> <span class="hljs-variable">sagaState</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SagaState</span>(sagaId, order);
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// å®šä¹‰Sagaæ­¥éª¤</span>
            List&lt;SagaStep&gt; steps = Arrays.asList(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">SagaStep</span>(<span class="hljs-string">"create_order"</span>, 
                    () -&gt; stepExecutor.createOrder(order, sagaId),
                    () -&gt; stepExecutor.compensateOrder(order, sagaId)),
                    
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">SagaStep</span>(<span class="hljs-string">"deduct_inventory"</span>,
                    () -&gt; stepExecutor.deductInventory(order, sagaId), 
                    () -&gt; stepExecutor.compensateInventory(order, sagaId)),
                    
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">SagaStep</span>(<span class="hljs-string">"deduct_balance"</span>,
                    () -&gt; stepExecutor.deductBalance(order, sagaId),
                    () -&gt; stepExecutor.compensateBalance(order, sagaId)),
                    
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">SagaStep</span>(<span class="hljs-string">"send_notification"</span>,
                    () -&gt; stepExecutor.sendNotification(order, sagaId),
                    <span class="hljs-literal">null</span>) <span class="hljs-comment">// æœ€åä¸€æ­¥ä¸éœ€è¦è¡¥å¿</span>
            );
            
            <span class="hljs-comment">// æ‰§è¡ŒSaga</span>
            executeSagaSteps(steps, sagaState);
            
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"Sagaæ‰§è¡Œå¤±è´¥: {}"</span>, sagaId, e);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SagaException</span>(<span class="hljs-string">"è®¢å•åˆ›å»ºå¤±è´¥"</span>, e);
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeSagaSteps</span><span class="hljs-params">(List&lt;SagaStep&gt; steps, SagaState sagaState)</span> {
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; steps.size(); i++) {
            <span class="hljs-type">SagaStep</span> <span class="hljs-variable">step</span> <span class="hljs-operator">=</span> steps.get(i);
            sagaState.setCurrentStep(step.getName());
            
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// æ‰§è¡Œæ­£å‘æ“ä½œ</span>
                step.execute();
                sagaState.recordSuccess(step.getName());
                
            } <span class="hljs-keyword">catch</span> (Exception e) {
                log.error(<span class="hljs-string">"Sagaæ­¥éª¤æ‰§è¡Œå¤±è´¥: {}, æ­¥éª¤: {}"</span>, sagaState.getSagaId(), step.getName(), e);
                sagaState.recordFailure(step.getName(), e.getMessage());
                
                <span class="hljs-comment">// æ‰§è¡Œè¡¥å¿æ“ä½œ</span>
                compensatePreviousSteps(steps, i, sagaState);
                <span class="hljs-keyword">break</span>;
            }
        }
        
        <span class="hljs-comment">// ä¿å­˜SagaçŠ¶æ€</span>
        stateRepository.save(sagaState);
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">compensatePreviousSteps</span><span class="hljs-params">(List&lt;SagaStep&gt; steps, <span class="hljs-type">int</span> failedIndex, SagaState sagaState)</span> {
        <span class="hljs-comment">// ä»å¤±è´¥æ­¥éª¤çš„å‰ä¸€æ­¥å¼€å§‹åå‘è¡¥å¿</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> failedIndex - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
            <span class="hljs-type">SagaStep</span> <span class="hljs-variable">step</span> <span class="hljs-operator">=</span> steps.get(i);
            <span class="hljs-keyword">if</span> (step.getCompensate() != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">try</span> {
                    step.compensate();
                    sagaState.recordCompensation(step.getName());
                } <span class="hljs-keyword">catch</span> (Exception e) {
                    log.error(<span class="hljs-string">"Sagaè¡¥å¿æ“ä½œå¤±è´¥: {}, æ­¥éª¤: {}"</span>, sagaState.getSagaId(), step.getName(), e);
                    sagaState.recordCompensationFailure(step.getName(), e.getMessage());
                    <span class="hljs-comment">// è¡¥å¿å¤±è´¥éœ€è¦äººå·¥å¹²é¢„</span>
                }
            }
        }
    }
}

<span class="hljs-comment">// Sagaæ­¥éª¤å®šä¹‰</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-meta">@AllArgsConstructor</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SagaStep</span> {
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> Runnable execute;
    <span class="hljs-keyword">private</span> Runnable compensate;
}
</code></pre>
<h3 data-id="heading-7">3. TCCæ¨¡å¼ (Try-Confirm-Cancel)</h3>
<p><strong>æ¨¡å¼æè¿°</strong>ï¼šæ¯ä¸ªæœåŠ¡æä¾›Tryã€Confirmã€Cancelä¸‰ä¸ªæ¥å£ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// TCC è®¢å•æœåŠ¡å®ç°</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TccOrderService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OrderRepository orderRepository;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> TccTransactionRepository tccRepository;
    
    <span class="hljs-comment">// Tryé˜¶æ®µï¼šé¢„ç•™èµ„æº</span>
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">tryCreateOrder</span><span class="hljs-params">(Order order, String transactionId)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æ£€æŸ¥ä¸šåŠ¡çº¦æŸ</span>
            validateOrder(order);
            
            <span class="hljs-comment">// åˆ›å»ºé¢„è®¢å•çŠ¶æ€</span>
            <span class="hljs-type">Order</span> <span class="hljs-variable">pendingOrder</span> <span class="hljs-operator">=</span> order.toPending(transactionId);
            orderRepository.save(pendingOrder);
            
            <span class="hljs-comment">// è®°å½•TCCçŠ¶æ€</span>
            <span class="hljs-type">TccTransaction</span> <span class="hljs-variable">tcc</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TccTransaction</span>(transactionId, <span class="hljs-string">"order"</span>, <span class="hljs-string">"CREATE"</span>);
            tccRepository.save(tcc);
            
            log.info(<span class="hljs-string">"è®¢å•Tryé˜¶æ®µæˆåŠŸ: {}"</span>, transactionId);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"è®¢å•Tryé˜¶æ®µå¤±è´¥: {}"</span>, transactionId, e);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-comment">// Confirmé˜¶æ®µï¼šç¡®è®¤æ“ä½œ</span>
    <span class="hljs-meta">@Transactional</span> 
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">confirmCreateOrder</span><span class="hljs-params">(String transactionId)</span> {
        <span class="hljs-type">TccTransaction</span> <span class="hljs-variable">tcc</span> <span class="hljs-operator">=</span> tccRepository.findByTransactionIdAndService(transactionId, <span class="hljs-string">"order"</span>);
        <span class="hljs-keyword">if</span> (tcc == <span class="hljs-literal">null</span> || !<span class="hljs-string">"CREATE"</span>.equals(tcc.getAction())) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TccException</span>(<span class="hljs-string">"æ— æ•ˆçš„TCCäº‹åŠ¡: "</span> + transactionId);
        }
        
        <span class="hljs-comment">// æ›´æ–°è®¢å•çŠ¶æ€ä¸ºç¡®è®¤</span>
        <span class="hljs-type">Order</span> <span class="hljs-variable">pendingOrder</span> <span class="hljs-operator">=</span> orderRepository.findByTransactionId(transactionId);
        <span class="hljs-keyword">if</span> (pendingOrder != <span class="hljs-literal">null</span>) {
            pendingOrder.confirm();
            orderRepository.save(pendingOrder);
            
            <span class="hljs-comment">// åˆ é™¤TCCè®°å½•</span>
            tccRepository.delete(tcc);
        }
        
        log.info(<span class="hljs-string">"è®¢å•Confirmé˜¶æ®µæˆåŠŸ: {}"</span>, transactionId);
    }
    
    <span class="hljs-comment">// Cancelé˜¶æ®µï¼šå–æ¶ˆæ“ä½œ</span>
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cancelCreateOrder</span><span class="hljs-params">(String transactionId)</span> {
        <span class="hljs-type">TccTransaction</span> <span class="hljs-variable">tcc</span> <span class="hljs-operator">=</span> tccRepository.findByTransactionIdAndService(transactionId, <span class="hljs-string">"order"</span>);
        <span class="hljs-keyword">if</span> (tcc == <span class="hljs-literal">null</span> || !<span class="hljs-string">"CREATE"</span>.equals(tcc.getAction())) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TccException</span>(<span class="hljs-string">"æ— æ•ˆçš„TCCäº‹åŠ¡: "</span> + transactionId);
        }
        
        <span class="hljs-comment">// åˆ é™¤é¢„è®¢å•</span>
        <span class="hljs-type">Order</span> <span class="hljs-variable">pendingOrder</span> <span class="hljs-operator">=</span> orderRepository.findByTransactionId(transactionId);
        <span class="hljs-keyword">if</span> (pendingOrder != <span class="hljs-literal">null</span>) {
            orderRepository.delete(pendingOrder);
            
            <span class="hljs-comment">// åˆ é™¤TCCè®°å½•</span>
            tccRepository.delete(tcc);
        }
        
        log.info(<span class="hljs-string">"è®¢å•Cancelé˜¶æ®µæˆåŠŸ: {}"</span>, transactionId);
    }
}
</code></pre>
<h2 data-id="heading-8">Spring Cloudåˆ†å¸ƒå¼äº‹åŠ¡å®è·µ</h2>
<h3 data-id="heading-9">1. ä½¿ç”¨Seataæ¡†æ¶</h3>
<p><strong>Seataé…ç½®</strong>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># application.yml</span>
<span class="hljs-attr">seata:</span>
  <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">application-id:</span> <span class="hljs-string">order-service</span>
  <span class="hljs-attr">tx-service-group:</span> <span class="hljs-string">my_tx_group</span>
  <span class="hljs-attr">service:</span>
    <span class="hljs-attr">vgroup-mapping:</span>
      <span class="hljs-attr">my_tx_group:</span> <span class="hljs-string">default</span>
    <span class="hljs-attr">disable-global-transaction:</span> <span class="hljs-literal">false</span>
  <span class="hljs-attr">config:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">nacos</span>
    <span class="hljs-attr">nacos:</span>
      <span class="hljs-attr">server-addr:</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-string">:8848</span>
  <span class="hljs-attr">registry:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">nacos</span>
    <span class="hljs-attr">nacos:</span>
      <span class="hljs-attr">server-addr:</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-string">:8848</span>
</code></pre>
<p><strong>å…¨å±€äº‹åŠ¡ä½¿ç”¨</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è®¢å•æœåŠ¡</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SeataOrderService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OrderMapper orderMapper;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> InventoryFeignClient inventoryFeignClient;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> AccountFeignClient accountFeignClient;
    
    <span class="hljs-comment">// å¼€å¯å…¨å±€äº‹åŠ¡</span>
    <span class="hljs-meta">@GlobalTransactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createOrderWithSeata</span><span class="hljs-params">(Order order)</span> {
        <span class="hljs-comment">// 1. åˆ›å»ºæœ¬åœ°è®¢å•</span>
        orderMapper.insert(order);
        log.info(<span class="hljs-string">"æœ¬åœ°è®¢å•åˆ›å»ºæˆåŠŸ"</span>);
        
        <span class="hljs-comment">// 2. è°ƒç”¨åº“å­˜æœåŠ¡ï¼ˆè¿œç¨‹æœåŠ¡ï¼‰</span>
        <span class="hljs-type">Boolean</span> <span class="hljs-variable">inventoryResult</span> <span class="hljs-operator">=</span> inventoryFeignClient.deductStock(order.getItems());
        <span class="hljs-keyword">if</span> (!Boolean.TRUE.equals(inventoryResult)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"åº“å­˜æ‰£å‡å¤±è´¥"</span>);
        }
        log.info(<span class="hljs-string">"åº“å­˜æ‰£å‡æˆåŠŸ"</span>);
        
        <span class="hljs-comment">// 3. è°ƒç”¨è´¦æˆ·æœåŠ¡ï¼ˆè¿œç¨‹æœåŠ¡ï¼‰</span>
        <span class="hljs-type">Boolean</span> <span class="hljs-variable">accountResult</span> <span class="hljs-operator">=</span> accountFeignClient.deductBalance(order.getUserId(), order.getAmount());
        <span class="hljs-keyword">if</span> (!Boolean.TRUE.equals(accountResult)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"ä½™é¢æ‰£å‡å¤±è´¥"</span>);
        }
        log.info(<span class="hljs-string">"ä½™é¢æ‰£å‡æˆåŠŸ"</span>);
        
        <span class="hljs-comment">// 4. æ›´æ–°è®¢å•çŠ¶æ€</span>
        order.complete();
        orderMapper.updateStatus(order);
        log.info(<span class="hljs-string">"è®¢å•çŠ¶æ€æ›´æ–°å®Œæˆ"</span>);
    }
}

<span class="hljs-comment">// Feignå®¢æˆ·ç«¯é…ç½®</span>
<span class="hljs-meta">@FeignClient(name = "inventory-service", path = "/api/inventory")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">InventoryFeignClient</span> {
    
    <span class="hljs-meta">@PostMapping("/deduct")</span>
    Boolean <span class="hljs-title function_">deductStock</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> List&lt;OrderItem&gt; items)</span>;
}

<span class="hljs-meta">@FeignClient(name = "account-service", path = "/api/account")</span>  
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">AccountFeignClient</span> {
    
    <span class="hljs-meta">@PostMapping("/deduct")</span>
    Boolean <span class="hljs-title function_">deductBalance</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam</span> Long userId, <span class="hljs-meta">@RequestParam</span> BigDecimal amount)</span>;
}
</code></pre>
<h3 data-id="heading-10">2. äº‹åŠ¡æ¶ˆæ¯æ¨¡å¼</h3>
<p><strong>åŸºäºRocketMQçš„äº‹åŠ¡æ¶ˆæ¯</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TransactionMessageService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RocketMQTemplate rocketMQTemplate;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OrderService orderService;
    
    <span class="hljs-comment">// å‘é€äº‹åŠ¡æ¶ˆæ¯</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createOrderWithTransactionMessage</span><span class="hljs-params">(Order order)</span> {
        <span class="hljs-comment">// æ‰§è¡Œæœ¬åœ°äº‹åŠ¡</span>
        <span class="hljs-type">Order</span> <span class="hljs-variable">savedOrder</span> <span class="hljs-operator">=</span> orderService.createOrderLocal(order);
        
        <span class="hljs-comment">// å‘é€äº‹åŠ¡æ¶ˆæ¯</span>
        <span class="hljs-type">TransactionSendResult</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> rocketMQTemplate.sendMessageInTransaction(
            <span class="hljs-string">"order-topic"</span>, 
            MessageBuilder.withPayload(order).build(),
            savedOrder.getId() <span class="hljs-comment">// ä¸šåŠ¡å‚æ•°</span>
        );
        
        log.info(<span class="hljs-string">"äº‹åŠ¡æ¶ˆæ¯å‘é€ç»“æœ: {}"</span>, result.getSendStatus());
    }
    
    <span class="hljs-comment">// æœ¬åœ°äº‹åŠ¡æ‰§è¡Œå™¨</span>
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeLocalTransaction</span><span class="hljs-params">(String transactionId, Long orderId)</span> {
        <span class="hljs-comment">// æŸ¥è¯¢è®¢å•çŠ¶æ€</span>
        <span class="hljs-type">Order</span> <span class="hljs-variable">order</span> <span class="hljs-operator">=</span> orderService.findById(orderId);
        <span class="hljs-keyword">if</span> (order != <span class="hljs-literal">null</span> &amp;&amp; order.isPending()) {
            <span class="hljs-comment">// æ›´æ–°è®¢å•ä¸ºå¤„ç†ä¸­</span>
            order.processing();
            orderService.updateOrder(order);
            log.info(<span class="hljs-string">"æœ¬åœ°äº‹åŠ¡æ‰§è¡ŒæˆåŠŸ: {}"</span>, transactionId);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"è®¢å•çŠ¶æ€å¼‚å¸¸: "</span> + orderId);
        }
    }
    
    <span class="hljs-comment">// äº‹åŠ¡å›æŸ¥</span>
    <span class="hljs-keyword">public</span> LocalTransactionState <span class="hljs-title function_">checkLocalTransaction</span><span class="hljs-params">(Message message)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">transactionId</span> <span class="hljs-operator">=</span> message.getTransactionId();
        <span class="hljs-type">Long</span> <span class="hljs-variable">orderId</span> <span class="hljs-operator">=</span> Long.valueOf(<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(message.getBody()));
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Order</span> <span class="hljs-variable">order</span> <span class="hljs-operator">=</span> orderService.findById(orderId);
            <span class="hljs-keyword">if</span> (order == <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">return</span> LocalTransactionState.ROLLBACK_MESSAGE;
            }
            
            <span class="hljs-keyword">if</span> (order.isCompleted() || order.isProcessing()) {
                <span class="hljs-keyword">return</span> LocalTransactionState.COMMIT_MESSAGE;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (order.isFailed()) {
                <span class="hljs-keyword">return</span> LocalTransactionState.ROLLBACK_MESSAGE;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> LocalTransactionState.UNKNOW;
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"äº‹åŠ¡å›æŸ¥å¼‚å¸¸: {}"</span>, transactionId, e);
            <span class="hljs-keyword">return</span> LocalTransactionState.UNKNOW;
        }
    }
}
</code></pre>
<h2 data-id="heading-11">äº‹ä»¶é©±åŠ¨æ¶æ„ä¸æœ€ç»ˆä¸€è‡´æ€§</h2>
<h3 data-id="heading-12">1. åŸºäºäº‹ä»¶çš„Sagaå®ç°</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// äº‹ä»¶å‘å¸ƒæœåŠ¡</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DomainEventPublisher</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ApplicationEventPublisher eventPublisher;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> EventStoreRepository eventStoreRepository;
    
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">publishWithTransaction</span><span class="hljs-params">(DomainEvent event)</span> {
        <span class="hljs-comment">// å­˜å‚¨äº‹ä»¶ï¼ˆä¸ä¸šåŠ¡æ“ä½œåœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­ï¼‰</span>
        eventStoreRepository.save(event.toEventStore());
        
        <span class="hljs-comment">// å‘å¸ƒäº‹ä»¶</span>
        eventPublisher.publishEvent(event);
        
        log.info(<span class="hljs-string">"é¢†åŸŸäº‹ä»¶å‘å¸ƒ: {}"</span>, event.getEventType());
    }
}

<span class="hljs-comment">// è®¢å•åˆ›å»ºäº‹ä»¶</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderCreatedEvent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">DomainEvent</span> {
    <span class="hljs-keyword">private</span> Long orderId;
    <span class="hljs-keyword">private</span> Long userId;
    <span class="hljs-keyword">private</span> BigDecimal amount;
    <span class="hljs-keyword">private</span> List&lt;OrderItem&gt; items;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">OrderCreatedEvent</span><span class="hljs-params">(Order order)</span> {
        <span class="hljs-built_in">super</span>(<span class="hljs-string">"ORDER_CREATED"</span>, order.getId().toString());
        <span class="hljs-built_in">this</span>.orderId = order.getId();
        <span class="hljs-built_in">this</span>.userId = order.getUserId();
        <span class="hljs-built_in">this</span>.amount = order.getAmount();
        <span class="hljs-built_in">this</span>.items = order.getItems();
    }
}

<span class="hljs-comment">// äº‹ä»¶å¤„ç†å™¨</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderCreatedEventHandler</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> InventoryService inventoryService;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> AccountService accountService;
    
    <span class="hljs-meta">@EventListener</span>
    <span class="hljs-meta">@Async</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleOrderCreated</span><span class="hljs-params">(OrderCreatedEvent event)</span> {
        log.info(<span class="hljs-string">"å¤„ç†è®¢å•åˆ›å»ºäº‹ä»¶: {}"</span>, event.getOrderId());
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æ‰£å‡åº“å­˜</span>
            inventoryService.deductStock(event.getItems());
            log.info(<span class="hljs-string">"åº“å­˜æ‰£å‡æˆåŠŸ: {}"</span>, event.getOrderId());
            
            <span class="hljs-comment">// æ‰£å‡ä½™é¢</span>
            accountService.deductBalance(event.getUserId(), event.getAmount());
            log.info(<span class="hljs-string">"ä½™é¢æ‰£å‡æˆåŠŸ: {}"</span>, event.getOrderId());
            
            <span class="hljs-comment">// å‘å¸ƒè®¢å•å®Œæˆäº‹ä»¶</span>
            eventPublisher.publish(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderCompletedEvent</span>(event.getOrderId()));
            
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"è®¢å•å¤„ç†å¤±è´¥: {}"</span>, event.getOrderId(), e);
            
            <span class="hljs-comment">// å‘å¸ƒè®¢å•å¤±è´¥äº‹ä»¶</span>
            eventPublisher.publish(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderFailedEvent</span>(event.getOrderId(), e.getMessage()));
        }
    }
}
</code></pre>
<h3 data-id="heading-13">2. äº‹ä»¶æº¯æºæ¨¡å¼</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// äº‹ä»¶å­˜å‚¨</span>
<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "event_store")</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EventStore</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-keyword">private</span> String eventId;
    <span class="hljs-keyword">private</span> String aggregateId;
    <span class="hljs-keyword">private</span> String eventType;
    <span class="hljs-keyword">private</span> String eventData;
    <span class="hljs-keyword">private</span> LocalDateTime timestamp;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> version;
}

<span class="hljs-comment">// èšåˆæ ¹åŸºç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AggregateRoot</span> {
    <span class="hljs-keyword">protected</span> String id;
    <span class="hljs-keyword">protected</span> List&lt;DomainEvent&gt; changes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    <span class="hljs-keyword">protected</span> <span class="hljs-type">int</span> <span class="hljs-variable">version</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">apply</span><span class="hljs-params">(DomainEvent event)</span> {
        changes.add(event);
        handle(event);
    }
    
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handle</span><span class="hljs-params">(DomainEvent event)</span>;
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">markChangesAsCommitted</span><span class="hljs-params">()</span> {
        changes.clear();
    }
    
    <span class="hljs-keyword">public</span> List&lt;DomainEvent&gt; <span class="hljs-title function_">getUncommittedChanges</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(changes);
    }
}

<span class="hljs-comment">// è®¢å•èšåˆæ ¹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderAggregate</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AggregateRoot</span> {
    <span class="hljs-keyword">private</span> OrderStatus status;
    <span class="hljs-keyword">private</span> BigDecimal amount;
    <span class="hljs-keyword">private</span> Long userId;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">OrderAggregate</span><span class="hljs-params">(String orderId, Long userId, BigDecimal amount)</span> {
        <span class="hljs-built_in">this</span>.id = orderId;
        <span class="hljs-built_in">this</span>.userId = userId;
        <span class="hljs-built_in">this</span>.amount = amount;
        <span class="hljs-built_in">this</span>.status = OrderStatus.CREATED;
        
        apply(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderCreatedEvent</span>(orderId, userId, amount));
    }
    
    <span class="hljs-comment">// é‡å»ºèšåˆæ ¹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">OrderAggregate</span><span class="hljs-params">(String orderId, List&lt;DomainEvent&gt; events)</span> {
        <span class="hljs-built_in">this</span>.id = orderId;
        <span class="hljs-keyword">for</span> (DomainEvent event : events) {
            handle(event);
            <span class="hljs-built_in">this</span>.version++;
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">complete</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.status != OrderStatus.CREATED) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(<span class="hljs-string">"è®¢å•çŠ¶æ€å¼‚å¸¸"</span>);
        }
        <span class="hljs-built_in">this</span>.status = OrderStatus.COMPLETED;
        apply(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderCompletedEvent</span>(<span class="hljs-built_in">this</span>.id));
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">fail</span><span class="hljs-params">(String reason)</span> {
        <span class="hljs-built_in">this</span>.status = OrderStatus.FAILED;
        apply(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderFailedEvent</span>(<span class="hljs-built_in">this</span>.id, reason));
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handle</span><span class="hljs-params">(DomainEvent event)</span> {
        <span class="hljs-keyword">if</span> (event <span class="hljs-keyword">instanceof</span> OrderCreatedEvent) {
            handleOrderCreated((OrderCreatedEvent) event);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event <span class="hljs-keyword">instanceof</span> OrderCompletedEvent) {
            handleOrderCompleted((OrderCompletedEvent) event);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event <span class="hljs-keyword">instanceof</span> OrderFailedEvent) {
            handleOrderFailed((OrderFailedEvent) event);
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleOrderCreated</span><span class="hljs-params">(OrderCreatedEvent event)</span> {
        <span class="hljs-built_in">this</span>.userId = event.getUserId();
        <span class="hljs-built_in">this</span>.amount = event.getAmount();
        <span class="hljs-built_in">this</span>.status = OrderStatus.CREATED;
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleOrderCompleted</span><span class="hljs-params">(OrderCompletedEvent event)</span> {
        <span class="hljs-built_in">this</span>.status = OrderStatus.COMPLETED;
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleOrderFailed</span><span class="hljs-params">(OrderFailedEvent event)</span> {
        <span class="hljs-built_in">this</span>.status = OrderStatus.FAILED;
    }
}
</code></pre>
<h2 data-id="heading-14">å¾®æœåŠ¡äº‹åŠ¡ç›‘æ§</h2>
<h3 data-id="heading-15">1. åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// äº‹åŠ¡é“¾è·¯è¿½è¸ª</span>
<span class="hljs-meta">@Aspect</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DistributedTransactionTracingAspect</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> Tracer tracer;
    
    <span class="hljs-meta">@Around("@annotation(globalTransactional)")</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">traceGlobalTransaction</span><span class="hljs-params">(ProceedingJoinPoint joinPoint, 
                                       GlobalTransactional globalTransactional)</span> <span class="hljs-keyword">throws</span> Throwable {
        
        <span class="hljs-type">Span</span> <span class="hljs-variable">transactionSpan</span> <span class="hljs-operator">=</span> tracer.nextSpan().name(<span class="hljs-string">"global-transaction"</span>).start();
        
        <span class="hljs-keyword">try</span> (Tracer.<span class="hljs-type">SpanInScope</span> <span class="hljs-variable">ws</span> <span class="hljs-operator">=</span> tracer.withSpanInScope(transactionSpan)) {
            <span class="hljs-comment">// æ·»åŠ äº‹åŠ¡æ ‡ç­¾</span>
            transactionSpan.tag(<span class="hljs-string">"transaction.type"</span>, <span class="hljs-string">"global"</span>);
            transactionSpan.tag(<span class="hljs-string">"transaction.timeout"</span>, 
                String.valueOf(globalTransactional.timeoutMills()));
            
            <span class="hljs-comment">// è®°å½•äº‹åŠ¡å¼€å§‹</span>
            log.info(<span class="hljs-string">"å…¨å±€äº‹åŠ¡å¼€å§‹: {}"</span>, transactionSpan.context().traceId());
            
            <span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> joinPoint.proceed();
            
            <span class="hljs-comment">// è®°å½•äº‹åŠ¡æˆåŠŸ</span>
            transactionSpan.finish();
            log.info(<span class="hljs-string">"å…¨å±€äº‹åŠ¡å®Œæˆ: {}"</span>, transactionSpan.context().traceId());
            
            <span class="hljs-keyword">return</span> result;
            
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-comment">// è®°å½•äº‹åŠ¡å¤±è´¥</span>
            transactionSpan.error(e);
            transactionSpan.finish();
            log.error(<span class="hljs-string">"å…¨å±€äº‹åŠ¡å¤±è´¥: {}"</span>, transactionSpan.context().traceId(), e);
            <span class="hljs-keyword">throw</span> e;
        }
    }
}

<span class="hljs-comment">// åœ¨Feignè°ƒç”¨ä¸­ä¼ æ’­è¿½è¸ªä¸Šä¸‹æ–‡</span>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FeignTracingConfig</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> Feign.Builder <span class="hljs-title function_">feignBuilder</span><span class="hljs-params">(Tracer tracer)</span> {
        <span class="hljs-keyword">return</span> Feign.builder()
            .client(<span class="hljs-keyword">new</span> <span class="hljs-title class_">feign</span>.Client.Default(<span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>))
            .requestInterceptor(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ForwardedHeaderInterceptor</span>(tracer));
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ForwardedHeaderInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">RequestInterceptor</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Tracer tracer;
        
        ForwardedHeaderInterceptor(Tracer tracer) {
            <span class="hljs-built_in">this</span>.tracer = tracer;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">apply</span><span class="hljs-params">(RequestTemplate template)</span> {
            <span class="hljs-type">Span</span> <span class="hljs-variable">currentSpan</span> <span class="hljs-operator">=</span> tracer.currentSpan();
            <span class="hljs-keyword">if</span> (currentSpan != <span class="hljs-literal">null</span>) {
                template.header(<span class="hljs-string">"X-B3-TraceId"</span>, currentSpan.context().traceIdString());
                template.header(<span class="hljs-string">"X-B3-SpanId"</span>, currentSpan.context().spanIdString());
                template.header(<span class="hljs-string">"X-B3-ParentSpanId"</span>, 
                    currentSpan.context().parentIdString());
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-16">2. äº‹åŠ¡å¥åº·æ£€æŸ¥</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TransactionHealthIndicator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HealthIndicator</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> TransactionMetrics transactionMetrics;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> DataSource dataSource;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Health <span class="hljs-title function_">health</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æ£€æŸ¥æ•°æ®åº“è¿æ¥</span>
            checkDatabaseConnection();
            
            <span class="hljs-comment">// æ£€æŸ¥äº‹åŠ¡æŒ‡æ ‡</span>
            Map&lt;String, Object&gt; details = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
            details.put(<span class="hljs-string">"activeTransactions"</span>, transactionMetrics.getActiveTransactionCount());
            details.put(<span class="hljs-string">"rollbackRate"</span>, transactionMetrics.getRollbackRate());
            details.put(<span class="hljs-string">"averageDuration"</span>, transactionMetrics.getAverageDuration());
            
            <span class="hljs-comment">// åˆ¤æ–­å¥åº·çŠ¶æ€</span>
            <span class="hljs-keyword">if</span> (transactionMetrics.getRollbackRate() &gt; <span class="hljs-number">0.1</span>) {
                <span class="hljs-keyword">return</span> Health.down()
                    .withDetails(details)
                    .withException(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"äº‹åŠ¡å›æ»šç‡è¿‡é«˜"</span>))
                    .build();
            }
            
            <span class="hljs-keyword">if</span> (transactionMetrics.getAverageDuration() &gt; <span class="hljs-number">5000</span>) {
                <span class="hljs-keyword">return</span> Health.down()
                    .withDetails(details)
                    .withException(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"äº‹åŠ¡æ‰§è¡Œæ—¶é—´è¿‡é•¿"</span>))
                    .build();
            }
            
            <span class="hljs-keyword">return</span> Health.up().withDetails(details).build();
            
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">return</span> Health.down(e).build();
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">checkDatabaseConnection</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">Connection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> dataSource.getConnection()) {
            <span class="hljs-keyword">if</span> (!conn.isValid(<span class="hljs-number">5</span>)) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SQLException</span>(<span class="hljs-string">"æ•°æ®åº“è¿æ¥æ— æ•ˆ"</span>);
            }
        }
    }
}
</code></pre>
<h2 data-id="heading-17">æœ€ä½³å®è·µä¸æ¨¡å¼é€‰æ‹©</h2>
<h3 data-id="heading-18">1. æ¨¡å¼é€‰æ‹©æŒ‡å—</h3>



































<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ¨¡å¼</th><th>ç†ç”±</th></tr></thead><tbody><tr><td>å¼ºä¸€è‡´æ€§è¦æ±‚é«˜</td><td>TCCæ¨¡å¼</td><td>ä¿è¯å¼ºä¸€è‡´æ€§ï¼Œæ€§èƒ½è¾ƒå¥½</td></tr><tr><td>ä¸šåŠ¡æµç¨‹å¤æ‚</td><td>Sagaæ¨¡å¼</td><td>çµæ´»ï¼Œæ”¯æŒé•¿ä¸šåŠ¡æµç¨‹</td></tr><tr><td>ç®€å•ä¸šåŠ¡åœºæ™¯</td><td>äº‹åŠ¡æ¶ˆæ¯</td><td>å®ç°ç®€å•ï¼Œæœ€ç»ˆä¸€è‡´æ€§</td></tr><tr><td>å·²æœ‰Spring Cloudç”Ÿæ€</td><td>Seata</td><td>é›†æˆç®€å•ï¼ŒåŠŸèƒ½å®Œå–„</td></tr><tr><td>äº‹ä»¶é©±åŠ¨æ¶æ„</td><td>äº‹ä»¶æº¯æº</td><td>å¤©ç„¶åŒ¹é…ï¼Œå®¡è®¡å‹å¥½</td></tr></tbody></table>
<h3 data-id="heading-19">2. é™çº§å’Œå®¹é”™ç­–ç•¥</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CircuitBreakerTransactionService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> InventoryService inventoryService;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> AccountService accountService;
    
    <span class="hljs-comment">// ä½¿ç”¨æ–­è·¯å™¨ä¿æŠ¤è¿œç¨‹è°ƒç”¨</span>
    <span class="hljs-meta">@CircuitBreaker(name = "inventoryService", fallbackMethod = "fallbackDeductInventory")</span>
    <span class="hljs-meta">@Retry(name = "inventoryService")</span>
    <span class="hljs-meta">@TimeLimiter(name = "inventoryService")</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;Boolean&gt; <span class="hljs-title function_">deductInventoryWithProtection</span><span class="hljs-params">(Order order)</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; 
            inventoryService.deductStock(order.getItems()));
    }
    
    <span class="hljs-comment">// é™çº§ç­–ç•¥</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;Boolean&gt; <span class="hljs-title function_">fallbackDeductInventory</span><span class="hljs-params">(Order order, Exception e)</span> {
        log.warn(<span class="hljs-string">"åº“å­˜æœåŠ¡é™çº§ï¼Œè®¢å•è¿›å…¥å¾…å¤„ç†çŠ¶æ€: {}"</span>, order.getId());
        
        <span class="hljs-comment">// å°†è®¢å•æ ‡è®°ä¸ºå¾…å¤„ç†ï¼Œåç»­è¡¥å¿</span>
        order.markAsPending();
        orderService.updateOrder(order);
        
        <span class="hljs-comment">// å‘å¸ƒå¾…å¤„ç†äº‹ä»¶</span>
        eventPublisher.publish(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderPendingEvent</span>(order.getId()));
        
        <span class="hljs-keyword">return</span> CompletableFuture.completedFuture(<span class="hljs-literal">true</span>);
    }
    
    <span class="hljs-comment">// å¼‚æ­¥è¡¥å¿ä»»åŠ¡</span>
    <span class="hljs-meta">@Async</span>
    <span class="hljs-meta">@Scheduled(fixedDelay = 30000)</span> <span class="hljs-comment">// æ¯30ç§’æ‰§è¡Œä¸€æ¬¡</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">compensatePendingOrders</span><span class="hljs-params">()</span> {
        List&lt;Order&gt; pendingOrders = orderService.findPendingOrders();
        
        <span class="hljs-keyword">for</span> (Order order : pendingOrders) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// é‡è¯•åº“å­˜æ‰£å‡</span>
                <span class="hljs-type">Boolean</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> inventoryService.deductStock(order.getItems());
                <span class="hljs-keyword">if</span> (Boolean.TRUE.equals(result)) {
                    order.complete();
                    orderService.updateOrder(order);
                    log.info(<span class="hljs-string">"è¡¥å¿å¤„ç†æˆåŠŸ: {}"</span>, order.getId());
                }
            } <span class="hljs-keyword">catch</span> (Exception e) {
                log.error(<span class="hljs-string">"è¡¥å¿å¤„ç†å¤±è´¥: {}"</span>, order.getId(), e);
            }
        }
    }
}
</code></pre>
<h2 data-id="heading-20">æ€»ç»“</h2>
<p>å¾®æœåŠ¡æ¶æ„ä¸‹çš„äº‹åŠ¡ç®¡ç†æ˜¯ä¸€ä¸ªå¤æ‚ä½†é‡è¦çš„è¯é¢˜ï¼š</p>
<h3 data-id="heading-21">æ ¸å¿ƒè¦ç‚¹ï¼š</h3>
<ol>
<li><strong>æ”¾å¼ƒå¼ºä¸€è‡´æ€§</strong>ï¼Œæ‹¥æŠ±æœ€ç»ˆä¸€è‡´æ€§</li>
<li><strong>é€‰æ‹©åˆé€‚çš„æ¨¡å¼</strong>åŸºäºä¸šåŠ¡éœ€æ±‚</li>
<li><strong>è®¾è®¡è¡¥å¿æœºåˆ¶</strong>å¤„ç†å¤±è´¥åœºæ™¯</li>
<li><strong>å®æ–½å…¨é¢ç›‘æ§</strong>ç¡®ä¿ç³»ç»Ÿå¯é æ€§</li>
</ol>
<h3 data-id="heading-22">æŠ€æœ¯é€‰æ‹©ï¼š</h3>
<ul>
<li><strong>ç®€å•åœºæ™¯</strong>ï¼šäº‹åŠ¡æ¶ˆæ¯ã€æœ¬åœ°æ¶ˆæ¯è¡¨</li>
<li><strong>å¤æ‚ä¸šåŠ¡</strong>ï¼šSagaæ¨¡å¼ã€TCCæ¨¡å¼</li>
<li><strong>Spring Cloudç”Ÿæ€</strong>ï¼šSeataæ¡†æ¶</li>
<li><strong>äº‹ä»¶é©±åŠ¨</strong>ï¼šäº‹ä»¶æº¯æºã€CQRS</li>
</ul>
<h3 data-id="heading-23">æˆåŠŸå…³é”®ï¼š</h3>
<ol>
<li><strong>ä¸šåŠ¡åˆ†æ</strong>ï¼šç†è§£ä¸šåŠ¡çœŸæ­£çš„ä¸€è‡´æ€§éœ€æ±‚</li>
<li><strong>æ¸è¿›å¼å®æ–½</strong>ï¼šä»ç®€å•æ¨¡å¼å¼€å§‹ï¼Œé€æ­¥å¤æ‚åŒ–</li>
<li><strong>ç›‘æ§å‘Šè­¦</strong>ï¼šå»ºç«‹å®Œå–„çš„ç›‘æ§ä½“ç³»</li>
<li><strong>å›¢é˜Ÿåä½œ</strong>ï¼šè·¨å›¢é˜Ÿçš„äº‹åŠ¡åè®®è®¾è®¡</li>
</ol>
<p>è®°ä½ï¼Œåœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œæ²¡æœ‰é“¶å¼¹è§£å†³æ–¹æ¡ˆã€‚æœ€é‡è¦çš„æ˜¯æ ¹æ®å…·ä½“ä¸šåŠ¡åœºæ™¯é€‰æ‹©æœ€é€‚åˆçš„äº‹åŠ¡ç­–ç•¥ã€‚</p>
<hr/>
<p><strong>ä¸‹æœŸé¢„å‘Š</strong>ï¼šã€ŠSpring 6 &amp; Spring Boot 3æ–°ç‰¹æ€§ï¼šäº‹åŠ¡ç®¡ç†çš„é©æ–°ã€‹</p>
<p>å¦‚æœè§‰å¾—æœ¬æ–‡å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹èµã€æ”¶è—ã€å…³æ³¨ï¼æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ åœ¨å¾®æœåŠ¡äº‹åŠ¡æ–¹é¢çš„å®æˆ˜ç»éªŒå’ŒæŒ‘æˆ˜ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[.NET 10 æ€§èƒ½çªç ´ï¼šæŒç»­ä¼˜åŒ–æ‰æ˜¯è´¨å˜å…³é”®]]></title>    <link>https://juejin.cn/post/7571751304624799790</link>    <guid>https://juejin.cn/post/7571751304624799790</guid>    <pubDate>2025-11-13T00:41:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571751304624799790" data-draft-id="7571678763781701666" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=".NET 10 æ€§èƒ½çªç ´ï¼šæŒç»­ä¼˜åŒ–æ‰æ˜¯è´¨å˜å…³é”®"/> <meta itemprop="keywords" content="åç«¯,.NET,C#"/> <meta itemprop="datePublished" content="2025-11-13T00:41:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°ç ç¼–åŒ "/> <meta itemprop="url" content="https://juejin.cn/user/1308876155395739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            .NET 10 æ€§èƒ½çªç ´ï¼šæŒç»­ä¼˜åŒ–æ‰æ˜¯è´¨å˜å…³é”®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1308876155395739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°ç ç¼–åŒ 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T00:41:19.000Z" title="Thu Nov 13 2025 00:41:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>2025å¹´11æœˆ12æ—¥ï¼Œå¾®è½¯åœ¨.NET Conf 2025ä¸Šæ­£å¼å‘å¸ƒäº†.NET 10ã€‚ä½œä¸ºæ–°ä¸€ä»£é•¿æœŸæ”¯æŒï¼ˆLTSï¼‰ç‰ˆæœ¬ï¼Œå®ƒå°†è·å¾—é•¿è¾¾ä¸‰å¹´çš„å®˜æ–¹å®‰å…¨ä¸æœåŠ¡æ”¯æŒï¼Œç›´è‡³2028å¹´11æœˆ10æ—¥ã€‚</p>
<p>å®˜æ–¹ç§°å…¶ä¸º"è¿„ä»Šä¸ºæ­¢æœ€é«˜æ•ˆã€æœ€ç°ä»£ã€æœ€å®‰å…¨ã€æœ€æ™ºèƒ½ã€æ€§èƒ½æœ€é«˜çš„ .NET ç‰ˆæœ¬"ã€‚è¿™å¹¶éè¥é”€è¯æœ¯â€”â€”ä»åº•å±‚è¿è¡Œæ—¶åˆ°é«˜å±‚è¯­è¨€ç‰¹æ€§ï¼Œ.NET 10é€šè¿‡æ•°ç™¾é¡¹ç»†å¾®è€Œç²¾å‡†çš„ä¼˜åŒ–ï¼Œåœ¨ä¸‡äº¿æ¬¡ä»£ç æ‰§è¡Œä¸­ç´¯ç§¯å‡ºæ˜¾è‘—çš„æ€§èƒ½é£è·ƒã€‚</p>
<p>è½¯ä»¶æ€§èƒ½çš„æå‡ï¼Œå¾€å¾€ä¸æ¥è‡ªæŸä¸ªæƒŠå¤©åŠ¨åœ°çš„çªç ´ï¼Œè€Œæºäºå¯¹ç»†èŠ‚çš„æŒç»­æ‰“ç£¨ã€‚å°±åƒåä¹ä¸–çºªçš„"å†°ç‹"å¼—é›·å¾·é‡Œå…‹ï¼Œé æ”¹è‰¯ç»ç¼˜ææ–™ã€ä¼˜åŒ–åˆ‡å‰²ä¸ç‰©æµï¼Œè®©å†°å—è·¨è¶ŠåŠä¸ªåœ°çƒæŠµè¾¾å°åº¦ã€‚</p>
<p>.NET 10çš„è¿›åŒ–é€»è¾‘äº¦æ˜¯å¦‚æ­¤ï¼šæ²¡æœ‰å•ä¸€é©å‘½ï¼Œåªæœ‰ç³»ç»Ÿæ€§çš„å¾®ä¼˜åŒ–ã€‚è¿™äº›ä¼˜åŒ–çœ‹ä¼¼å¾®å°â€”â€”æ¯æ¬¡èŠ‚çœå‡ çº³ç§’ã€å‡ åå­—èŠ‚â€”â€”å´åœ¨é«˜é¢‘è°ƒç”¨åœºæ™¯ä¸‹äº§ç”Ÿå¤åˆæ•ˆåº”ï¼Œæœ€ç»ˆå¸¦æ¥è´¨çš„é£è·ƒã€‚</p>
<h3 data-id="heading-1">ä¸€ã€LINQ çš„è¯­ä¹‰çº§ä¼˜åŒ–</h3>
<p>ä¼ ç»Ÿ LINQ æ˜¯æœºæ¢°æ‰§è¡Œæ“ä½œé“¾ï¼Œè€Œ .NET 10 è®©å®ƒ"ç†è§£æ„å›¾"ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå½“å¼€å‘å†™ OrderBy(...).Contains(...) æ—¶ï¼Œè¿è¡Œæ—¶ä¼šæ„è¯†åˆ°"æ’åºåå†æŸ¥æ‰¾"å®å±å¤šä½™ï¼Œç›´æ¥è·³è¿‡æ’åºæ­¥éª¤ï¼Œç›´å¥”æºæ•°æ®æœç´¢ã€‚</p>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-comment">// dotnet run -c Release -f net9.0 --filter "*" --runtimes net9.0 net10.0</span>
<span class="hljs-keyword">using</span> BenchmarkDotNet.Attributes;
<span class="hljs-keyword">using</span> BenchmarkDotNet.Running;
BenchmarkSwitcher.FromAssembly(<span class="hljs-keyword">typeof</span>(Tests).Assembly).Run(args);
[<span class="hljs-meta">MemoryDiagnoser(displayGenColumns: false)</span>]
[<span class="hljs-meta">HideColumns(<span class="hljs-string">"Job"</span>, <span class="hljs-string">"Error"</span>, <span class="hljs-string">"StdDev"</span>, <span class="hljs-string">"Median"</span>, <span class="hljs-string">"RatioSD"</span>)</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Tests</span>
{
    <span class="hljs-keyword">private</span> IEnumerable&lt;<span class="hljs-built_in">int</span>&gt; _source = Enumerable.Range(<span class="hljs-number">0</span>, <span class="hljs-number">1000</span>).ToArray();
    [<span class="hljs-meta">Benchmark</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">AppendContains</span>()</span> =&gt; _source.Append(<span class="hljs-number">100</span>).Contains(<span class="hljs-number">999</span>);
    [<span class="hljs-meta">Benchmark</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">ConcatContains</span>()</span> =&gt; _source.Concat(_source).Contains(<span class="hljs-number">999</span>);
    [<span class="hljs-meta">Benchmark</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">DefaultIfEmptyContains</span>()</span> =&gt; _source.DefaultIfEmpty(<span class="hljs-number">42</span>).Contains(<span class="hljs-number">999</span>);
    [<span class="hljs-meta">Benchmark</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">DistinctContains</span>()</span> =&gt; _source.Distinct().Contains(<span class="hljs-number">999</span>);
    [<span class="hljs-meta">Benchmark</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">OrderByContains</span>()</span> =&gt; _source.OrderBy(x =&gt; x).Contains(<span class="hljs-number">999</span>);
    [<span class="hljs-meta">Benchmark</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">ReverseContains</span>()</span> =&gt; _source.Reverse().Contains(<span class="hljs-number">999</span>);
    [<span class="hljs-meta">Benchmark</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">UnionContains</span>()</span> =&gt; _source.Union(_source).Contains(<span class="hljs-number">999</span>);
    [<span class="hljs-meta">Benchmark</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">SelectManyContains</span>()</span> =&gt; _source.SelectMany(x =&gt; _source).Contains(<span class="hljs-number">999</span>);
    [<span class="hljs-meta">Benchmark</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">WhereSelectContains</span>()</span> =&gt; _source.Where(x =&gt; <span class="hljs-literal">true</span>).Select(x =&gt; x).Contains(<span class="hljs-number">999</span>);
}
</code></pre>
<p>ç»“æœä»¤äººéœ‡æ’¼ï¼šDistinctContains è€—æ—¶ä» 16,967 ns é™è‡³ 47 nsï¼Œå†…å­˜ä» 58KB é™è‡³ 64 å­—èŠ‚ï¼›OrderByContains ä» 12,884 ns é™è‡³ 50 nsã€‚è¿™ç§ä¼˜åŒ–æœ¬è´¨æ˜¯ç®—æ³•å¤æ‚åº¦çš„é™ç»´â€”â€”ä» O(N log N) å›å½’ O(N)ã€‚</p>













































<table><thead><tr><th>Method</th><th>Runtime</th><th>Mean</th><th>Ratio</th><th>Allocated</th><th>Alloc Ratio</th></tr></thead><tbody><tr><td>DistinctContains</td><td>.NET 9.0</td><td>16,967.31 ns</td><td>1.000</td><td>58656 B</td><td>1.000</td></tr><tr><td>DistinctContains</td><td>.NET 10.0</td><td>46.72 ns</td><td>0.003</td><td>64 B</td><td>0.001</td></tr><tr><td>OrderByContains</td><td>.NET 9.0</td><td>12,884.28 ns</td><td>1.000</td><td>12280 B</td><td>1.000</td></tr><tr><td>OrderByContains</td><td>.NET 10.0</td><td>50.14 ns</td><td>0.004</td><td>88 B</td><td>0.007</td></tr></tbody></table>
<h4 data-id="heading-2">äºŒã€å§”æ‰˜ä¸å±€éƒ¨å‡½æ•°çš„é›¶åˆ†é…ä¼˜åŒ–</h4>
<p>é—­åŒ…å’Œå§”æ‰˜æ›¾æ˜¯æ€§èƒ½"é»‘æ´"ã€‚.NET 10 çš„ JIT ç¼–è¯‘å™¨é€šè¿‡é€ƒé€¸åˆ†æï¼Œå‘ç°å§”æ‰˜æœªè¢«å¤–éƒ¨å¼•ç”¨æ—¶ï¼Œç›´æ¥å†…è”è°ƒç”¨ï¼Œé¿å…å¯¹è±¡åˆ†é…ã€‚</p>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-comment">// dotnet run -c Release -f net9.0 --filter "*" --runtimes net9.0 net10.0</span>
<span class="hljs-keyword">using</span> BenchmarkDotNet.Attributes;
<span class="hljs-keyword">using</span> BenchmarkDotNet.Running;
[<span class="hljs-meta">DisassemblyDiagnoser</span>]
[<span class="hljs-meta">MemoryDiagnoser(displayGenColumns: false)</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Tests</span>
{
    [<span class="hljs-meta">Benchmark</span>]
    [<span class="hljs-meta">Arguments(42)</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">Sum</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> y</span>)</span>
    {
        Func&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>&gt; addY = x =&gt; x + y;
        <span class="hljs-keyword">return</span> DoubleResult(addY, y);
    }
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> <span class="hljs-title">DoubleResult</span>(<span class="hljs-params">Func&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>&gt; func, <span class="hljs-built_in">int</span> arg</span>)</span>
    {
        <span class="hljs-built_in">int</span> result = func(arg);
        <span class="hljs-keyword">return</span> result + result;
    }
}
</code></pre>
<p>æ‰§è¡Œæ—¶é—´ä» 19.53 ns é™è‡³ 6.68 nsï¼Œå†…å­˜ä» 88 B é™è‡³ 24 Bã€‚ç±»ä¼¼åœ°ï¼Œå±€éƒ¨å‡½æ•°ä¸­çš„æ•°ç»„ä¹Ÿè¢«ä¼˜åŒ–ä¸ºæ ˆåˆ†é…ï¼Œå½»åº•æ¶ˆé™¤å †åˆ†é…ã€‚</p>
<h3 data-id="heading-3">ä¸‰ã€å»è™šæ‹ŸåŒ–ä¸ç±»å‹ç»†åŒ–</h3>
<p>è¿‡å»ï¼Œæ•°ç»„é€šè¿‡æ¥å£ï¼ˆå¦‚ IList&lt; T&gt;ï¼‰è®¿é—®æ—¶æ— æ³•å»è™šæ‹ŸåŒ–ï¼Œå¯¼è‡´ for å¾ªç¯æ¯” foreach æ›´æ…¢ã€‚.NET 10 ä¿®å¤äº†è¿™ä¸€åç›´è§‰ç°è±¡ã€‚</p>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-keyword">private</span> ReadOnlyCollection&lt;<span class="hljs-built_in">int</span>&gt; _list = <span class="hljs-keyword">new</span>(Enumerable.Range(<span class="hljs-number">1</span>, <span class="hljs-number">1000</span>).ToArray());
[<span class="hljs-meta">Benchmark</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">SumForLoop</span>()</span>
{
    <span class="hljs-built_in">int</span> sum = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; _list.Count; i++)
    {
        sum += _list[i]; <span class="hljs-comment">// .NET 9: 1000 æ¬¡è™šæ‹Ÿè°ƒç”¨</span>
    }
    <span class="hljs-keyword">return</span> sum;
}
</code></pre>
<p>ä¼˜åŒ–åï¼ŒSumForLoop æ€§èƒ½æå‡ 68%ï¼ŒLINQ æŸ¥è¯¢ä¹Ÿå› æ­¤å—ç›Šã€‚SkipTakeSum ä» 3.525 Î¼s é™è‡³ 1.773 Î¼sã€‚</p>
<p>åŒæ—¶ï¼ŒJIT èƒ½è¯†åˆ« IEnumerable&lt; int&gt; å®é™…æ˜¯ int[]ï¼Œä»è€Œç”Ÿæˆå…·ä½“ç±»å‹ä»£ç ï¼š</p>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">readonly</span> IEnumerable&lt;<span class="hljs-built_in">int</span>&gt; s_values = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>[] { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span> };
[<span class="hljs-meta">Benchmark</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">Sum</span>()</span>
{
    <span class="hljs-built_in">int</span> sum = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">foreach</span> (<span class="hljs-built_in">int</span> <span class="hljs-keyword">value</span> <span class="hljs-keyword">in</span> s_values) sum += <span class="hljs-keyword">value</span>;
    <span class="hljs-keyword">return</span> sum;
}
</code></pre>
<p>æ‰§è¡Œæ—¶é—´ä» 16.34 ns é™è‡³ 2.06 nsï¼Œå†…å­˜åˆ†é…å½’é›¶ã€‚</p>
<h4 data-id="heading-4">å››ã€çº¿ç¨‹æ± è°ƒåº¦</h4>
<p>"åŒæ­¥åŒ…è£…å¼‚æ­¥"å¸¸å¯¼è‡´çº¿ç¨‹æ± æ­»é”ã€‚.NET 10 åœ¨çº¿ç¨‹å³å°†é˜»å¡æ—¶ï¼Œä¸»åŠ¨å°†æœ¬åœ°é˜Ÿåˆ—ä»»åŠ¡ç§»äº¤å…¨å±€é˜Ÿåˆ—ï¼Œé¿å…å…³é”®ä»»åŠ¡è¢«æ— é™å»¶è¿Ÿã€‚</p>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-comment">// æ¨¡æ‹Ÿé«˜è´Ÿè½½ä¸‹çš„çº¿ç¨‹æ± åƒµå±€</span>
ThreadPool.SetMaxThreads(numThreads, <span class="hljs-number">1</span>);
<span class="hljs-comment">// ... æäº¤é˜»å¡ä»»åŠ¡ä¸å¹²æ‰°ä»»åŠ¡</span>
</code></pre>
<p>åœ¨ .NET 9 ä¸­è¶…æ—¶ 20 ç§’çš„ä»»åŠ¡ï¼Œ.NET 10 ä»…éœ€ 4 æ¯«ç§’å®Œæˆã€‚</p>
<h3 data-id="heading-5">äº”ã€ç¡¬ä»¶çº§å¤§æ•°è¿ç®—ä¸å®¹å™¨éå†ä¼˜åŒ–</h3>
<p>UInt128 é™¤æ³•åˆ©ç”¨ CPU çš„ DivRem æŒ‡ä»¤ï¼Œæ€§èƒ½æå‡è¿‘ 50 å€ï¼š</p>























<table><thead><tr><th>Method</th><th>Runtime</th><th>Mean</th><th>Ratio</th></tr></thead><tbody><tr><td>Divide</td><td>.NET 9.0</td><td>27.3112 ns</td><td>1.00</td></tr><tr><td>Divide</td><td>.NET 10.0</td><td>0.5522 ns</td><td>0.02</td></tr></tbody></table>
<p>Stackã€Queueã€ConcurrentDictionary çš„æšä¸¾å™¨ä¹Ÿå…¨é¢é‡æ„ã€‚ä»¥ Stack ä¸ºä¾‹ï¼ŒMoveNext çš„åˆ†æ”¯ä» 5 ä¸ªå‡è‡³ 1 ä¸ªï¼ŒSumDirect æ€§èƒ½æå‡ 81%ï¼Œä»£ç ä½“ç§¯ç¼©å° 83%ã€‚</p>
<h3 data-id="heading-6">æ€»ç»“</h3>
<p>.NET 10 çš„æ€§èƒ½è¿›æ­¥ï¼Œä¸æ˜¯é ç‚«æŠ€ï¼Œè€Œæ˜¯æºäºå¯¹"ä¸åšæ— ç”¨åŠŸ"çš„æè‡´è¿½æ±‚ã€‚å®ƒè®©ç¼–è¯‘å™¨ä»"ä»£ç æ‰§è¡Œè€…"å˜ä¸º"æ„å›¾ç†è§£è€…"ï¼Œè®©è¿è¡Œæ—¶ä»"è¢«åŠ¨å“åº”"è½¬å‘"ä¸»åŠ¨é¢„æµ‹â€ã€‚è¿™ç§ç³»ç»Ÿæ€§æ€ç»´ï¼Œä¸ä»…æå‡äº†æ•°å­—æŒ‡æ ‡ï¼Œæ›´é‡å¡‘äº†é«˜æ€§èƒ½å¼€å‘çš„é»˜è®¤ä½“éªŒâ€”â€”å¼€å‘æ— éœ€æ‰‹åŠ¨ä¼˜åŒ–ï¼Œå³å¯äº«å—æ¥è¿‘åº•å±‚çš„æ•ˆç‡ã€‚</p>
<p>å¯¹äºå¹¿å¤§ .NET å¼€å‘è€Œè¨€ï¼Œå‡çº§åˆ° .NET 10 ä¸ä»…æ„å‘³ç€æ›´é•¿çš„æ”¯æŒå‘¨æœŸï¼Œæ›´æ˜¯ä¸€æ¬¡"å…è´¹â€çš„æ€§èƒ½çº¢åˆ©ã€‚</p>
<h3 data-id="heading-7">å…³é”®è¯</h3>
<p>.NET 10ã€æ€§èƒ½ä¼˜åŒ–ã€LINQã€å»è™šæ‹ŸåŒ–ã€JITã€çº¿ç¨‹æ± ã€å§”æ‰˜å†…è”ã€æ ˆåˆ†é…ã€UInt128ã€å®¹å™¨éå†</p>
<h3 data-id="heading-8">æœ€å</h3>
<p>å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸å¦¨ç‚¹ä¸ªèµæ”¯æŒä¸€ä¸‹ï¼ä½ çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­åˆ†äº«çŸ¥è¯†çš„åŠ¨åŠ›ã€‚å¦‚æœæœ‰ä»»ä½•ç–‘é—®æˆ–éœ€è¦è¿›ä¸€æ­¥çš„å¸®åŠ©ï¼Œæ¬¢è¿éšæ—¶ç•™è¨€ã€‚</p>
<p>ä¹Ÿå¯ä»¥åŠ å…¥å¾®ä¿¡å…¬ä¼—å· <strong>[DotNetæŠ€æœ¯åŒ ]</strong> ç¤¾åŒºï¼Œä¸å…¶ä»–çƒ­çˆ±æŠ€æœ¯çš„åŒè¡Œä¸€èµ·äº¤æµå¿ƒå¾—ï¼Œå…±åŒæˆé•¿ï¼</p>
<p><strong>ä¼˜ç§€æ˜¯ä¸€ç§ä¹ æƒ¯ï¼Œæ¬¢è¿å¤§å®¶ç•™è¨€å­¦ä¹ ï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Androidç³»ç»Ÿä¸­HALå±‚å¼€å‘å®ä¾‹]]></title>    <link>https://juejin.cn/post/7571749988080893961</link>    <guid>https://juejin.cn/post/7571749988080893961</guid>    <pubDate>2025-11-13T01:22:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571749988080893961" data-draft-id="7571725550710341659" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Androidç³»ç»Ÿä¸­HALå±‚å¼€å‘å®ä¾‹"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-13T01:22:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·345947411361"/> <meta itemprop="url" content="https://juejin.cn/user/1118620649271515"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Androidç³»ç»Ÿä¸­HALå±‚å¼€å‘å®ä¾‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1118620649271515/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·345947411361
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T01:22:57.000Z" title="Thu Nov 13 2025 01:22:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aef6165e899c4227a5ae2116bcb69a87~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MzQ1OTQ3NDExMzYx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763601777&amp;x-signature=XT4spgNBTFCRpATMgWTwJo%2FgnVQ%3D" alt="t01bf1f34d94fd74c63.jpg" loading="lazy"/></p>
<p><strong>Androidç³»ç»Ÿä¸­HALå±‚å¼€å‘å®ä¾‹---youkeit.xyz/4706/</strong></p>
<h2 data-id="heading-0">ä»åº•å±‚é‡æ„ä½“éªŒï¼šAndroid Framework å¼•é¢†ç§»åŠ¨å¼€å‘æŠ€æœ¯è¿­ä»£</h2>
<h3 data-id="heading-1">ä¸€ã€Android Framework æ¶æ„æ¼”è¿›</h3>
<p>Android Framework ä½œä¸ºè¿æ¥åº”ç”¨å±‚ä¸Linuxå†…æ ¸çš„æ¡¥æ¢ï¼Œå…¶æ¶æ„è®¾è®¡ç›´æ¥å½±å“ç€ç§»åŠ¨å¼€å‘çš„ä½“éªŒä¸æ•ˆç‡ã€‚è®©æˆ‘ä»¬ä»æ ¸å¿ƒç»„ä»¶å¼€å§‹å‰–æï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å…¸å‹çš„Android Frameworkåˆ†å±‚æ¶æ„</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AndroidFramework</span> {
    <span class="hljs-comment">// åº”ç”¨å±‚ç»„ä»¶</span>
    <span class="hljs-keyword">private</span> ApplicationLayer applicationLayer;
    
    <span class="hljs-comment">// Java APIæ¡†æ¶å±‚</span>
    <span class="hljs-keyword">private</span> FrameworkLayer frameworkLayer;
    
    <span class="hljs-comment">// æœ¬åœ°åº“å’ŒAndroidè¿è¡Œæ—¶</span>
    <span class="hljs-keyword">private</span> NativeLayer nativeLayer;
    
    <span class="hljs-comment">// Linuxå†…æ ¸å±‚</span>
    <span class="hljs-keyword">private</span> KernelLayer kernelLayer;
    
    <span class="hljs-comment">// å…³é”®ç³»ç»ŸæœåŠ¡</span>
    <span class="hljs-keyword">private</span> SystemServiceManager serviceManager;
}
</code></pre>
<h4 data-id="heading-2">1.1 ç»„ä»¶åŒ–æ¼”è¿›</h4>
<p>ä»Android 5.0å¼•å…¥çš„ARTè¿è¡Œæ—¶æ›¿ä»£Dalvikï¼Œåˆ°Android 10æ¨å‡ºçš„Project Mainlineæ¨¡å—åŒ–æ›´æ–°æœºåˆ¶ï¼ŒFrameworkçš„æ ¸å¿ƒå˜åŒ–ä½“ç°åœ¨ï¼š</p>
<ol>
<li><strong>æ¨¡å—è§£è€¦</strong>ï¼šå°†ç³»ç»Ÿç»„ä»¶æ‹†åˆ†ä¸ºç‹¬ç«‹æ¨¡å—ï¼ˆå¦‚WiFiã€è“ç‰™ç­‰ï¼‰</li>
<li><strong>åŠ¨æ€æ›´æ–°</strong>ï¼šé€šè¿‡Google Playå•†åº—æ›´æ–°æ ¸å¿ƒç»„ä»¶</li>
<li><strong>æ¥å£ç¨³å®š</strong>ï¼šåŠ å¼ºAPIå…¼å®¹æ€§ä¿è¯</li>
</ol>
<h3 data-id="heading-3">äºŒã€å…³é”®æŠ€æœ¯åˆ›æ–°ç‚¹</h3>
<h4 data-id="heading-4">2.1 å“åº”å¼æ¶æ„æ”¹è¿›</h4>
<p>Android Frameworké€æ­¥å¼•å…¥å“åº”å¼ç¼–ç¨‹èŒƒå¼ï¼Œå…¸å‹å¦‚LiveDataç»„ä»¶ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">LocationViewModel</span> : <span class="hljs-type">ViewModel</span>() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _location = MutableLiveData&lt;Location&gt;()
    <span class="hljs-keyword">val</span> location: LiveData&lt;Location&gt; = _location
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">updateLocation</span><span class="hljs-params">(newLocation: <span class="hljs-type">Location</span>)</span></span> {
        _location.value = newLocation
    }
}

<span class="hljs-comment">// Activityä¸­çš„è§‚å¯Ÿè€…</span>
viewModel.location.observe(<span class="hljs-keyword">this</span>) { location -&gt;
    updateUI(location)
}
</code></pre>
<h4 data-id="heading-5">2.2 æ€§èƒ½ä¼˜åŒ–åº•å±‚æœºåˆ¶</h4>
<p>Android 12å¼•å…¥çš„PerformanceClass APIä¸ºå¼€å‘è€…æä¾›äº†è®¾å¤‡æ€§èƒ½åˆ†çº§æ ‡å‡†ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ£€æŸ¥è®¾å¤‡æ€§èƒ½ç­‰çº§</span>
<span class="hljs-keyword">if</span> (BuildCompat.isAtLeastS() &amp;&amp; 
    PerformanceClassManager.getPerformanceClass() &gt;= 
    PerformanceClassManager.PERFORMANCE_CLASS_HIGH) {
    <span class="hljs-comment">// å¯ç”¨é«˜çº§åŠŸèƒ½</span>
    enableAdvancedFeatures();
}
</code></pre>
<h3 data-id="heading-6">ä¸‰ã€Framework æ·±åº¦å®šåˆ¶å®è·µ</h3>
<h4 data-id="heading-7">3.1 è‡ªå®šä¹‰ç³»ç»ŸæœåŠ¡</h4>
<p>é€šè¿‡AIDLåˆ›å»ºè·¨è¿›ç¨‹ç³»ç»ŸæœåŠ¡ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å®šä¹‰AIDLæ¥å£</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ICustomService</span> {
    <span class="hljs-type">int</span> <span class="hljs-title function_">getSystemStatus</span><span class="hljs-params">()</span>;
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">setConfiguration</span><span class="hljs-params">(in Bundle config)</span>;
}

<span class="hljs-comment">// æœåŠ¡ç«¯å®ç°</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomServiceImpl</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ICustomService</span>.Stub {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getSystemStatus</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> SystemProperties.getInt(<span class="hljs-string">"custom.status"</span>, <span class="hljs-number">0</span>);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setConfiguration</span><span class="hljs-params">(Bundle config)</span> {
        <span class="hljs-comment">// å¤„ç†é…ç½®æ›´æ–°</span>
    }
}

<span class="hljs-comment">// æ³¨å†ŒæœåŠ¡</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerSystemService</span><span class="hljs-params">()</span> {
    ServiceManager.addService(<span class="hljs-string">"custom_service"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomServiceImpl</span>());
}
</code></pre>
<h4 data-id="heading-8">3.2 èµ„æºè¦†ç›–æœºåˆ¶</h4>
<p>åˆ©ç”¨Runtime Resource Overlay (RRO)å®ç°èµ„æºåŠ¨æ€æ›¿æ¢ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- overlay/values/strings.xml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"app_name"</span>&gt;</span>New App Name<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span>

<span class="hljs-comment">&lt;!-- overlay/AndroidManifest.xml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">manifest</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>
    <span class="hljs-attr">package</span>=<span class="hljs-string">"com.example.overlay"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">overlay</span> <span class="hljs-attr">android:targetPackage</span>=<span class="hljs-string">"com.example.app"</span>
             <span class="hljs-attr">android:priority</span>=<span class="hljs-string">"1"</span>
             <span class="hljs-attr">android:isStatic</span>=<span class="hljs-string">"false"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">manifest</span>&gt;</span>
</code></pre>
<h3 data-id="heading-9">å››ã€æœªæ¥æŠ€æœ¯æ–¹å‘</h3>
<h4 data-id="heading-10">4.1 æ¨¡å—åŒ–æ¶æ„æ·±å…¥</h4>
<p>Android 13è¿›ä¸€æ­¥å¼ºåŒ–äº†æ¨¡å—åŒ–è®¾è®¡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åŠ¨æ€æ¨¡å—åŠ è½½ç¤ºä¾‹</span>
<span class="hljs-type">val</span> <span class="hljs-variable">moduleManager</span> <span class="hljs-operator">=</span> ModuleManager.getInstance(context)
moduleManager.installModule(<span class="hljs-string">"dynamic_feature"</span>, 
    InstallCallback { status -&gt;
        <span class="hljs-keyword">if</span> (status == InstallStatus.SUCCESS) {
            <span class="hljs-comment">// æ¨¡å—åŠ è½½æˆåŠŸ</span>
        }
    })
</code></pre>
<h4 data-id="heading-11">4.2 æœºå™¨å­¦ä¹ é›†æˆ</h4>
<p>ML Kitä¸Frameworkæ·±åº¦æ•´åˆï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä½¿ç”¨è®¾å¤‡ç«¯æ¨¡å‹è¿›è¡Œå¤„ç†</span>
<span class="hljs-keyword">val</span> recognizer = TextRecognizer.Builder(context)
    .setDeviceMode(MLContext.DEVICE_ONLY)
    .build()

recognizer.process(InputImage.fromBitmap(bitmap))
    .addOnSuccessListener { result -&gt;
        <span class="hljs-comment">// å¤„ç†è¯†åˆ«ç»“æœ</span>
    }
</code></pre>
<h3 data-id="heading-12">äº”ã€æœ€ä½³å®è·µå»ºè®®</h3>
<ol>
<li><strong>å…¼å®¹æ€§å¤„ç†</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {
    <span class="hljs-comment">// ä½¿ç”¨æ–°API</span>
} <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// å›é€€æ–¹æ¡ˆ</span>
}
</code></pre>
<ol start="2">
<li><strong>æ€§èƒ½ç›‘æ§</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PerformanceMonitor</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">startTrace</span><span class="hljs-params">(tag: <span class="hljs-type">String</span>)</span></span> {
        Trace.beginSection(tag)
    }
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">endTrace</span><span class="hljs-params">()</span></span> {
        Trace.endSection()
    }
}
</code></pre>
<ol start="3">
<li><strong>èµ„æºä¼˜åŒ–</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- ä½¿ç”¨vector drawableæ›¿ä»£ä½å›¾ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">vector</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>
    <span class="hljs-attr">android:width</span>=<span class="hljs-string">"24dp"</span>
    <span class="hljs-attr">android:height</span>=<span class="hljs-string">"24dp"</span>
    <span class="hljs-attr">android:viewportWidth</span>=<span class="hljs-string">"24"</span>
    <span class="hljs-attr">android:viewportHeight</span>=<span class="hljs-string">"24"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">android:fillColor</span>=<span class="hljs-string">"#FF0000"</span>
          <span class="hljs-attr">android:pathData</span>=<span class="hljs-string">"M12,2L4,12l8,10l8-10z"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">vector</span>&gt;</span>
</code></pre>
<h3 data-id="heading-13">ç»“è¯­</h3>
<p>Android Frameworkçš„æŒç»­æ¼”è¿›ä¸ºç§»åŠ¨å¼€å‘å¸¦æ¥äº†å‰æ‰€æœªæœ‰çš„çµæ´»æ€§å’Œæ€§èƒ½æ½œåŠ›ã€‚å¼€å‘è€…åº”å½“ï¼š</p>
<ol>
<li>æ·±å…¥ç†è§£Frameworkåº•å±‚æœºåˆ¶</li>
<li>åŠæ—¶é€‚é…æ–°ç‰¹æ€§</li>
<li>åˆç†åˆ©ç”¨æ¨¡å—åŒ–è®¾è®¡</li>
<li>å…³æ³¨æ€§èƒ½ä¸èƒ½æ•ˆå¹³è¡¡</li>
</ol>
<p>é€šè¿‡æŒæ¡è¿™äº›æ ¸å¿ƒæŠ€æœ¯ç‚¹ï¼Œå¼€å‘è€…èƒ½å¤Ÿåœ¨å¿«é€Ÿå˜åŒ–çš„æŠ€æœ¯æµªæ½®ä¸­ä¿æŒç«äº‰åŠ›ï¼Œæ„å»ºå‡ºä½“éªŒå“è¶Šçš„ç§»åŠ¨åº”ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€TRAE SOLO å®æˆ˜èµ› | æ™ºå¯Coding ç åŠ›å…¨å¼€]]></title>    <link>https://juejin.cn/post/7571751304625815598</link>    <guid>https://juejin.cn/post/7571751304625815598</guid>    <pubDate>2025-11-13T02:42:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571751304625815598" data-draft-id="7571126773809479690" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€TRAE SOLO å®æˆ˜èµ› | æ™ºå¯Coding ç åŠ›å…¨å¼€"/> <meta itemprop="keywords" content="Trae,AIç¼–ç¨‹,VibeCoding"/> <meta itemprop="datePublished" content="2025-11-13T02:42:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘é…±"/> <meta itemprop="url" content="https://juejin.cn/user/1556564194374926"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€TRAE SOLO å®æˆ˜èµ› | æ™ºå¯Coding ç åŠ›å…¨å¼€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1556564194374926/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘é…±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T02:42:50.000Z" title="Thu Nov 13 2025 02:42:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4de4d0f1dfd46da82bd9051f76951d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763606570&amp;x-signature=7y2hGHXBerfjHKaUhSxnDTGXYk4%3D" alt="image.png" loading="lazy"/></p>
<p>ğŸ”¥<strong>TRAE SOLO æ­£å¼ç‰ˆ</strong>é‡ç£…ä¸Šçº¿ï¼ŒVibe Codingçš„å®æˆ˜èˆå°å·²å°±ä½ï¼</p>
<p>æ— è®ºä½ æ˜¯ç”¨TRAEç ´è§£éš¾é¢˜çš„å…ˆé”‹æ¢ç´¢è€…ï¼Œè¿˜æ˜¯å€Ÿå®ƒæ¿€å‘çµæ„Ÿçš„åˆ›æ„ç©å®¶ï¼Œè¿™é‡Œéƒ½æ˜¯ä½ å±•ç¤ºæ€è€ƒã€åˆ†äº«æˆé•¿çš„èˆå°ã€‚</p>
<p>ä½ çš„æ¯ä¸€æ¬¡è¸©å‘ç»éªŒï¼Œéƒ½å¯èƒ½æˆä¸ºä»–äººçš„é¿å‘æŒ‡å—ï¼›ä½ çš„æ¯ä¸€ä¸ªå®æˆ˜æŠ€å·§ï¼Œéƒ½å€¼å¾—è¢«åƒä¸‡å¼€å‘è€…çœ‹è§ï¼</p>
<p>æŠ•ç¨¿åˆ†äº«ä½ çš„<strong>TRAE SOLO</strong>å®æˆ˜ç§˜ç±ï¼Œç”¨ä»£ç è¯´è¯ï¼Œç”¨å¹²è´§åœˆç²‰ï¼Œè§£é”è¶…é«˜æ›å…‰æµé‡ä¸ä¸°åšå¥–å“ï¼Œåœ¨SOLOèµ›é“ä¸ŠCä½å‡ºåœˆï¼</p>
<h2 data-id="heading-0">ğŸ’ªæ´»åŠ¨äººç¾¤</h2>
<h5 data-id="heading-1"><em><strong>åˆ›ä½œç­‰çº§ Lv4-Lv8ç”¨æˆ· (éæ˜å‹ç­‰çº§ï¼‰</strong></em></h5>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/187a397168d44a8a8e73590b62f84862~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1512&amp;h=714&amp;s=46590&amp;e=webp&amp;b=fdfbfb" alt="æˆªå±2022-11-10 10.32.44.png" loading="lazy"/></p>
<h2 data-id="heading-2">â°æ´»åŠ¨æ—¶é—´</h2>
<p>2025å¹´11æœˆ13æ—¥-2025å¹´12æœˆ16æ—¥</p>
<h2 data-id="heading-3">ğŸ“’æ´»åŠ¨ç©æ³•</h2>
<h3 data-id="heading-4">ğŸš€åˆ›ä½œæ–¹å‘</h3>
<p>æœ¬æ¬¡æ´»åŠ¨é¢å‘AIå…¨é“¾è·¯å¼€å‘è€…ï¼Œä»¥<strong>TRAE SOLO æ­£å¼ç‰ˆ</strong>ä¸ºæ ¸å¿ƒå¼€å‘å·¥å…·ï¼Œæ‰“é€šAIåº”ç”¨è½åœ°å…¨æµç¨‹ï¼Œç»“åˆSOLO coderã€DiffViewç­‰åŠŸèƒ½èšç„¦ä»¥ä¸‹3ä¸ªåˆ›ä½œæ–¹å‘ï¼Œå½¢å¼åŒ…æ‹¬ä½†ä¸é™äºå®è·µåˆ†äº«ã€é¿å‘æŒ‡å—ã€å·¥å…·å®æµ‹å¯¹æ¯”ã€‚</p>
<blockquote>
<ul>
<li><strong>TRAE SOLOé©±åŠ¨AIæ¶æ„è®¾è®¡ä¸æŠ€æœ¯é€‰å‹</strong></li>
</ul>
<p>ä»0åˆ°1æ­å»ºAIåº”ç”¨æ—¶ï¼Œå¦‚ä½•å€ŸåŠ©TRAE SOLOåšæ¶æ„å†³ç­–ã€‚å¦‚ï¼šåŸºäºTRAE SOLOçš„SOLO coderç”Ÿæˆå¼€å‘æ–‡æ¡£ï¼›åˆ©ç”¨MCPåè®®é€‚é…å¤§æ¨¡å‹æœåŠ¡çš„æ¶æ„è®¾è®¡ç­‰ã€‚</p>
<ul>
<li><strong>TRAE SOLOèµ‹èƒ½å¤§æ¨¡å‹å·¥ç¨‹åŒ–å®è·µ</strong></li>
</ul>
<p>åœ¨å¤§æ¨¡å‹é›†æˆã€å¾®è°ƒã€éƒ¨ç½²ç­‰å…³é”®ç¯èŠ‚ä¸­ï¼ŒTRAE SOLOçš„å®æˆ˜åº”ç”¨ï¼Œå¦‚ï¼šåŸºäºTRAE SOLOé€‰æ‹©é€‚é…æ¨¡å‹ï¼›é€šè¿‡å†…ç½®éƒ¨ç½²æ¨¡å—å®ç°æ¨¡å‹æœåŠ¡ä¸€é”®ä¸Šçº¿ï¼›TRAE SOLOç”Ÿæˆä»£ç çš„å…¼å®¹æ€§é—®é¢˜ä¿®å¤ï¼ˆä½¿ç”¨DiffViewå·¥å…·ï¼‰ï¼›å¤§æ¨¡å‹APIå¯†é’¥é…ç½®çš„å®‰å…¨è¸©å‘ç­‰ã€‚</p>
<ul>
<li><strong>TRAE SOLOæ”¯æ’‘AIåº”ç”¨çš„å¯è§‚æµ‹æ€§ä¸é£é™©ç®¡æ§</strong></li>
</ul>
<p>AIåº”ç”¨å¼€å‘ä¸ä¸Šçº¿åï¼Œå¦‚ä½•åŸºäºTRAE SOLOæ„å»ºè´¨é‡ä¿éšœä½“ç³»ã€‚å¦‚ï¼šåˆ©ç”¨TRAE SOLOçš„ä»»åŠ¡è¿›åº¦è¿½è¸ªåŠŸèƒ½ç›‘æ§å¼€å‘å…¨æµç¨‹ã€å€ŸåŠ©è‡ªåŠ¨ç”Ÿæˆçš„æµ‹è¯•è„šæœ¬éªŒè¯AIåŠŸèƒ½ç¨³å®šæ€§ç­‰ã€‚</p>
</blockquote>
<h3 data-id="heading-5">â›µï¸æµé‡åŠ æŒ</h3>
<blockquote>
<p><em><strong>å®æˆ˜å…ˆé”‹</strong></em></p>
<p>11æœˆ13æ—¥-11æœˆ26æ—¥å‘å¸ƒçš„æ–‡ç« ï¼š</p>
<p>è¢«å®˜æ–¹æ¨èçš„æ–‡ç« ï¼Œå°†æ ¹æ®æ–‡ç« è´¨é‡è¯„åˆ†ï¼Œæ¯å‘¨æ’åå‰<strong>10</strong>çš„æ–‡ç« å‡å¯è·å¾—<strong>5000</strong>æµé‡æ›å…‰å¥–åŠ±ï¼›</p>
<p>å‘¨æœŸèŠ‚ç‚¹åˆ†åˆ«ä¸º11æœˆ13æ—¥-11æœˆ19æ—¥ï¼Œ11æœˆ20æ—¥-11æœˆ26æ—¥ã€‚</p>
<p><em><strong>ä¼˜ç§€æŠ•ç¨¿æ¦œ</strong></em></p>
<p>11æœˆ13æ—¥-12æœˆ2æ—¥å‘å¸ƒçš„æ–‡ç« ï¼š</p>
<p>è¢«å®˜æ–¹æ¨èçš„æ–‡ç« ï¼Œå°†ç»“åˆæ–‡ç« è´¨é‡ã€äº’åŠ¨å’Œæµè§ˆæ•°æ®ç»¼åˆè¯„åˆ†ï¼Œæ’åå‰<strong>5</strong>çš„æ–‡ç« å¯è·å¾—<strong>20000</strong>æµé‡æ›å…‰å¥–åŠ±ã€‚</p>
<p><em><strong>å®æˆ˜å†²åˆº</strong></em></p>
<p>12æœˆ11æ—¥-12æœˆ15æ—¥å‘å¸ƒçš„æ–‡ç« ï¼š</p>
<p>è¢«å®˜æ–¹æ¨èçš„æ–‡ç« ï¼Œå¯é¢å¤–è·å¾—<strong>2000</strong>æµé‡æ›å…‰å¥–åŠ±ï¼Œä¸é™åé¢ã€‚</p>
<p><em>æ³¨ï¼šè·å¾—â€œå®æˆ˜å…ˆé”‹â€â€œå®æˆ˜å†²åˆºâ€å¥–åŠ±çš„æ–‡ç« ï¼Œå±Šæ—¶ä¼šé€šè¿‡ç³»ç»Ÿæ¶ˆæ¯æˆ–ç¾¤æ¶ˆæ¯é€šçŸ¥è·å¥–çš„åˆ›ä½œè€…ï¼›</em></p>
<p><em>è£ç™»â€œä¼˜ç§€æŠ•ç¨¿æ¦œâ€çš„æ–‡ç« ï¼Œé¢„è®¡ä¼šåœ¨12æœˆ4æ—¥é€šè¿‡â€œæ˜é‡‘é…±â€è´¦å·è¿›è¡Œå…¬ç¤ºã€‚</em></p>
</blockquote>
<h3 data-id="heading-6">ğŸªSOLOåŒèµ›é“</h3>
<blockquote>
<p><em><strong>ä¼˜ç§€æ–‡ç« å¥–</strong></em></p>
<p>æ´»åŠ¨æœŸé—´å‘å¸ƒçš„æ–‡ç« ï¼Œä¸”è¢«å®˜æ–¹æ¨èï¼š</p>
<p>å°†æ ¹æ®å•ç¯‡æ–‡ç« è´¨é‡ã€äº’åŠ¨æ•°æ®ã€æµè§ˆæ•°æ®ç»¼åˆè¯„åˆ†ï¼Œå‰<strong>20</strong>åè·å¥–ï¼›åŒä¸€ç”¨æˆ·å¤šç¯‡ä¸Šæ¦œï¼Œå–æœ€é«˜åæ¬¡ï¼Œä¸é‡å¤è·åŒä¸€å¥–é¡¹ã€‚</p>
<p><em><strong>Codingè¾¾äººå¥–</strong></em></p>
<p>æ´»åŠ¨æœŸé—´åŒä¸€ç”¨æˆ·å‘æ–‡æ•°â‰¥<strong>2</strong>ç¯‡ï¼š</p>
<p>å•ç¯‡æ–‡ç« æ»¡è¶³â€œ<em><strong>å®˜æ–¹æ¨è ä¸” äº’åŠ¨æ•°æ®ï¼40 ä¸” æµè§ˆé‡ï¼1000</strong></em>â€ï¼Œå³å¯å‚ä¸æ’åã€‚æŒ‰æ–‡ç« è´¨é‡ã€äº’åŠ¨æµè§ˆæ•°æ®ã€å‘æ–‡æ•°é‡ç­‰<strong>ç»¼åˆè¯„åˆ†æ’å</strong>ï¼Œå‰<strong>10</strong>åè·å¥–ã€‚</p>
<p><em>æ³¨ï¼šä¸€ç¯‡æ–‡ç« å¯åŒæ—¶å‚ä¸åŒèµ›é“ï¼Œå åŠ è·å¥–</em></p>
</blockquote>
<h6 data-id="heading-7"><em>â—è‡ªåŠ¨æ¨èæ–‡ç« ä¹Ÿä¼šæœ‰äººå·¥å®¡æ ¸ï¼Œä¸ç¬¦åˆè¦æ±‚ä¼šå–æ¶ˆæ¨èï¼Œå¦‚æœ€ç»ˆæ–‡ç« ä¸ºæœªæ¨èçŠ¶æ€ï¼Œåˆ™æ— æ³•è·å¾—ç›¸å…³æ´»åŠ¨å¥–åŠ±ã€‚</em></h6>
<h6 data-id="heading-8"><em>â—ç¤¾åŒºä¸¥å‰æ‰“å‡»åˆ·é‡ã€åˆ·èµã€äº’èµè¡Œä¸ºï¼Œä¸€ç»å‘ç°ç›´æ¥å–æ¶ˆè·å¥–èµ„æ ¼ï¼Œä¹Ÿè¯·ä¸è¦åœ¨æ˜é‡‘çš„ç¾¤é‡Œåˆ·å±äº’èµï¼é€šè¿‡äº’èµè¾¾åˆ°è·å¥–æ–‡ç« æ¡ä»¶çš„ä¸è®¡å…¥ã€è‡ªå·±ç‚¹çš„èµè—ä¸è®¡å…¥</em>ï¼</h6>
<h4 data-id="heading-9">Traeåˆ›ä½œå†…å®¹å‚è€ƒ</h4>
<h5 data-id="heading-10">ä»¥<strong>TRAE SOLO</strong>å®è·µã€æŠ€æœ¯å±•ç¤ºä¸ºä¸»</h5>
<ol>
<li><a href="https://juejin.cn/post/7566965016281989170" target="_blank" title="https://juejin.cn/post/7566965016281989170">ç”¨ TRAE å¼€å‘å®¡æ‰¹ç³»ç»Ÿï¼šä¸€å¥—å¯å¤åˆ¶çš„ AI è¾…åŠ©å¼€å‘å·¥ä½œæµ</a></li>
<li><a href="https://juejin.cn/post/7569139641233473574" target="_blank" title="https://juejin.cn/post/7569139641233473574">åŸºäº TRAE + Spec-kit å®ç°æ ‘è“æ´¾æ™ºèƒ½å°è½¦æ§åˆ¶ç³»ç»Ÿ</a></li>
<li><a href="https://juejin.cn/post/7569515660931203123" target="_blank" title="https://juejin.cn/post/7569515660931203123">AI ä»£ç†é©±åŠ¨å¼€å‘å®æˆ˜ï¼šç”¨ TRAE æ„å»ºç»å…¸åƒè±†äººæ¸¸æˆ</a></li>
</ol>
<h3 data-id="heading-11">ğŸ‘©ğŸ»è¯„å§”è¯„å®¡å‚è€ƒ</h3>
<ul>
<li>å†…å®¹è´¨é‡ï¼šæ–‡ç« å†…å®¹æ˜¯å¦ä¸°å¯Œã€æœ‰æ·±åº¦ï¼Œæ˜¯å¦èƒ½å¤Ÿæ¸…æ™°åœ°è¡¨è¾¾è§‚ç‚¹ã€‚</li>
<li>æŠ€æœ¯æ°´å¹³ï¼šæ–‡ç« ä¸­æ‰€ä»‹ç»çš„æŠ€æœ¯æ˜¯å¦å…ˆè¿›ã€å®ç”¨ï¼Œæ˜¯å¦èƒ½å¤Ÿè§£å†³å®é™…é—®é¢˜ã€‚</li>
<li>åˆ›æ–°æ€§ï¼šæ–‡ç« æ˜¯å¦å…·æœ‰åˆ›æ–°æ€§ï¼Œæ˜¯å¦èƒ½å¤Ÿæå‡ºæ–°çš„æ€è·¯æˆ–æ–¹æ³•ã€‚</li>
<li>å¯è¯»æ€§ï¼šæ–‡ç« æ˜¯å¦æ˜“äºé˜…è¯»ï¼Œè¯­è¨€æ˜¯å¦æµç•…ã€‚</li>
</ul>
<blockquote>
<p>æœ€ç»ˆè¯„åˆ†ç»“æœä¸ºè¯„å®¡å›¢æ‰“åˆ†ï¼Œå‚è€ƒæ–‡ç« äº’åŠ¨æ•°æ®</p>
</blockquote>
<h2 data-id="heading-12">â‰ï¸å¦‚ä½•å‚ä¸</h2>
<p>å‘å¸ƒæ–‡ç« æ—¶é€‰æ‹©å¸¦è¯é¢˜ <strong><a href="https://juejin.cn/theme/detail/7571274218302619694?contentType=0" target="_blank" title="https://juejin.cn/theme/detail/7571274218302619694?contentType=0">#TRAE SOLO#</a></strong> å’Œæ ‡ç­¾<a href="https://juejin.cn/tag/Trae" target="_blank" title="https://juejin.cn/tag/Trae">Trae</a>å°±å¯ä»¥è¢«ç»Ÿè®¡åˆ°å“¦ğŸ’ğŸ»</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc025ba645bc4c32ac1e10d616fe7d35~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763606570&amp;x-signature=0mi04wxqVTgwkgKRGDYgEuqR%2FDY%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-13">ğŸæ´»åŠ¨å¥–åŠ±</h2>
<p>å‚åŠ æ´»åŠ¨çš„ä¼˜è´¨æ–‡ç« ä¹Ÿä¼šè·å¾—é¢å¤–æµé‡æ›å…‰~</p>





























































<table><thead><tr><th>å¥–é¡¹åç§°</th><th>å¥–é¡¹è®¾ç½®</th><th>è·å¥–äººæ•°</th><th>å¥–å“åç§°</th><th>å¥–å“å›¾</th><th>ç«™å†…è£èª‰è®¤è¯</th></tr></thead><tbody><tr><td>ä¼˜ç§€æ–‡ç« å¥–</td><td>TOP1</td><td>1å</td><td>è¥¿éƒ¨æ•°æ®ï¼ˆWDï¼‰1TB ç§»åŠ¨ç¡¬ç›˜</td><td><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b92f91a562af427a9534f2321878dc98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763606570&amp;x-signature=F1%2FQVN22ga0qG8MDNcK1x%2Bu1z7s%3D" alt="" loading="lazy"/></td><td>ã€AIæŠ€æœ¯ä¸“å®¶ã€‘ æ˜é‡‘å®˜æ–¹å®ä½“è¯ä¹¦</td></tr><tr><td/><td>TOP2</td><td>1å</td><td>SKG K3è…°éƒ¨æŒ‰æ‘©ä»ª</td><td><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0f58e0a521d4501a3e4709db9649b7b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763606570&amp;x-signature=jxQBmNYHn4suO%2Bl2%2FluDLdBfMsM%3D" alt="" loading="lazy"/></td><td>ã€AIæŠ€æœ¯ä¸“å®¶ã€‘ æ˜é‡‘å®˜æ–¹å®ä½“è¯ä¹¦</td></tr><tr><td/><td>TOP3</td><td>1å</td><td>ç½—æŠ€æ— çº¿è“ç‰™æœºæ¢°é”®ç›˜</td><td><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7412780a3b9040e8b33e32f578632244~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763606570&amp;x-signature=ngbs9tvoQXpd%2F8rj%2B16oVlO5vKM%3D" alt="" loading="lazy"/></td><td>ã€AIæŠ€æœ¯ä¸“å®¶ã€‘ æ˜é‡‘å®˜æ–¹å®ä½“è¯ä¹¦</td></tr><tr><td/><td>TOP4-10</td><td>7å</td><td>æ¼«æ­¥è€…å¤´æˆ´å¼è“ç‰™è€³æœº</td><td><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1444cc68a49a45fead825f4991a331c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763606570&amp;x-signature=sDZY28sTrymlJN5qHO%2F%2BQYs5zT8%3D" alt="" loading="lazy"/></td><td>ã€AIæŠ€æœ¯å…ˆé”‹ã€‘ æ˜é‡‘å®˜æ–¹ç”µå­è¯ä¹¦</td></tr><tr><td/><td>TOP11-20</td><td>10å</td><td>TRAEå¤§ç¤¼åŒ…</td><td><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0264dcff44a64834975e3ae6754c9af9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763606570&amp;x-signature=1DRaK5mLzSw%2FyUZqwT07QjTE1o8%3D" alt="91cd5cfd8b6eb071e1e5896ec77ea0d2.jpg" loading="lazy"/></td><td>ã€AIæŠ€æœ¯æ–°æ˜Ÿã€‘ æ˜é‡‘å®˜æ–¹ç”µå­è¯ä¹¦</td></tr><tr><td>Codingè¾¾äººå¥–</td><td>TOP1-10</td><td>10å</td><td>GUFIUSå¤è²æ–¯å›´ç‚‰ç…®èŒ¶å¥—è£…</td><td><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0133953a7c0749739490f63dd2ed1fa8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763606570&amp;x-signature=SxcHZm6jKIrZD4CyayWb0p0zNfE%3D" alt="" loading="lazy"/></td><td>ã€Codingè¾¾äººã€‘ æ˜é‡‘å®˜æ–¹ç”µå­è¯ä¹¦</td></tr></tbody></table>
<h2 data-id="heading-14">ğŸ—’ï¸å†…å®¹è¦æ±‚</h2>
<ul>
<li><strong>å¿…é¡»ä¸ºåŸåˆ›æŠ€æœ¯æ–‡ç« </strong>ï¼Œå†…å®¹ç¬¦åˆ<a href="https://juejin.cn/book/6844733795329900551/section/6844733795380232199" target="_blank" title="https://juejin.cn/book/6844733795329900551/section/6844733795380232199">æ˜é‡‘ç¤¾åŒºçš„å†…å®¹æ ‡å‡†å’Œè§„èŒƒ</a>ï¼›</li>
<li><strong>å­—æ•°ä¸å¾—å°‘äº 800 å­—</strong>ï¼Œä¸å¾—æœ‰å¹¿å‘Š/æ´—ç¨¿/å‡‘å­—æ•°/AIæ’°å†™ç­‰è¡Œä¸ºï¼Œå¦‚æœå‘ç°æœ‰æ­¤ç±»è¡Œä¸º ï¼Œç›´æ¥å–æ¶ˆæ‰€æœ‰è·å¥–èµ„æ ¼ï¼ˆå¤‡æ³¨ï¼šæ–‡ç« ä¸­50%åŠä»¥ä¸Šå†…å®¹ä¸ç½‘ç»œå†…å®¹ç›¸åŒï¼Œå³è§†ä¸ºæ´—ç¨¿ï¼‰ï¼›</li>
<li><strong>æ–‡ç« è¦æ±‚é¦–å‘åœ¨æ˜é‡‘</strong>ï¼Œå·²åœ¨å…¶ä»–å¹³å°å‘å¸ƒè¿‡çš„æ–‡ç« ä¸è®¡å…¥æ´»åŠ¨ï¼Œåšå®¢æ¬å®¶/æ—§æ–‡æ–°å‘ç­‰è¶…è¿‡<strong>10ç¯‡</strong>ç›´æ¥å–æ¶ˆæ‰€æœ‰è·å¥–èµ„æ ¼ï¼›</li>
<li><strong>å­¦ä¹ ç¬”è®°/çŸ¥è¯†ç‚¹æ±‡æ€»ç±»ä¸èƒ½ç“œåˆ†å¥–é‡‘</strong>ï¼Œå¯ä»¥æ˜¯çŸ¥è¯†ç‚¹è®²è§£/ç†è§£ï¼Œå³æ‰€æœ‰æ–‡ç« éƒ½éœ€è¦æœ‰ä¸ªäººè§è§£ã€æ€è€ƒã€æ€»ç»“ï¼Œå•çº¯çš„æ¬è¿å®˜ç½‘ã€ä¹¦ä¸­çŸ¥è¯†ç‚¹ä¸è®¡å…¥ï¼›</li>
<li>åˆ·èµã€åˆ·é‡ç­‰æœ‰ä½œå¼Šè¡Œä¸ºçš„æ–‡ç« ï¼Œç›´æ¥å–æ¶ˆæ¯”èµ›èµ„æ ¼ï¼Œä¸èƒ½å‚ä¸è¯„é€‰ï¼›</li>
<li>æ–‡ç« éœ€åŒ…å«èƒŒæ™¯/é—®é¢˜ï¼Œæ ¸å¿ƒæ€è·¯ï¼Œå®æ“æ­¥éª¤/è®ºè¯è¿‡ç¨‹ï¼Œæ€»ç»“åæ€ç­‰ï¼Œä¸èƒ½åªè´´ä»£ç ï¼Œå¦‚ä»£ç é‡è¶…<strong>60%</strong> åˆ™ä¸è®¡å…¥ï¼›</li>
<li>AIä»£å†™æ–‡ç« ã€AIèŠå¤©è®°å½•ç­‰ä¸è®¡å…¥æ´»åŠ¨ï¼ˆAIæ£€æµ‹è¶…è¿‡<strong>70%</strong> å–æ¶ˆæ–‡ç« è·å¥–èµ„æ ¼ï¼‰ï¼›</li>
<li>å·¥å…·æ±‡æ€»ã€è½¯ä»¶æµ‹è¯„ç±»æ–‡ç« ä¸å¯å‚åŠ æ´»åŠ¨ï¼›</li>
<li>å‚èµ›æ–‡ç« å¿…é¡»æ³¨æ˜å‚è€ƒæ¥æºã€‚</li>
</ul>
<h6 data-id="heading-15"><em>æ´»åŠ¨æœŸé—´ï¼Œè‹¥å‘å¸ƒæ–‡ç« å†…å®¹ä¸æ´»åŠ¨ä¸»é¢˜</em> <em>TRAE</em> <em>æ— ç›¸å…³æ€§ï¼Œåˆ™å–æ¶ˆè¯¥ç”¨æˆ·å¯¹åº”æ–‡ç« è·å¥–èµ„æ ¼ã€‚</em></h6>
<h2 data-id="heading-16">â˜ï¸ åŠ ç¾¤äº¤æµ</h2>
<p>å‚åŠ æ´»åŠ¨çš„æ˜å‹ä¸€å®šè¦å…¥ç¾¤å“¦ï¼Œé‡è¦æ¶ˆæ¯ä¸é”™è¿‡ï¼Œå¤§å®¶äº’ç›¸é¼“åŠ±ï¼Œæœ‰é—®é¢˜ä¹Ÿå¯ä»¥åœ¨ç¾¤å†…å’¨è¯¢å“¦ï½</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6ccf1e26f6f47878f366260e7d4dc67~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763606570&amp;x-signature=B559L3y9LMDcB3R0kOVImKsVJpQ%3D" alt="image.png" loading="lazy"/></p>
<p>æ³¨æ„ï¼šæ´»åŠ¨å¼€å¯ï¼Œä»¥åŠå‘å¥–è¿›ç¨‹éƒ½ä¼šç¬¬ä¸€æ—¶é—´ç¾¤å†…é€šçŸ¥ï¼Œä¸€å®šè¦è¿›ç¾¤å‘€ï¼Œé¿å…é”™è¿‡æ¶ˆæ¯</p>
<h2 data-id="heading-17">ğŸ‘€ æ´»åŠ¨Q&amp;A</h2>
<p><strong>Q1ï¼šå¦‚ä½•ç®—æ˜¯æˆåŠŸå‚ä¸äº†æ´»åŠ¨ï¼Ÿ</strong></p>
<p>æ´»åŠ¨æœŸé—´ï¼Œåœ¨æ˜é‡‘å¹³å°å‘å¸ƒTRAE SOLOç›¸å…³åŸåˆ›æŠ€æœ¯æ–‡ç« ï¼Œé€‰æ‹©å¸¦è¯é¢˜Â  <strong><a href="https://juejin.cn/theme/detail/7571274218302619694?contentType=0" target="_blank" title="https://juejin.cn/theme/detail/7571274218302619694?contentType=0">#TRAE SOLO#</a></strong> Â å’Œæ ‡ç­¾<a href="https://juejin.cn/tag/Trae" target="_blank" title="https://juejin.cn/tag/Trae">Trae</a>ï¼Œå³å¯æˆåŠŸå‚ä¸æ´»åŠ¨ã€‚æ³¨æ„è¯é¢˜â‰ æ ‡ç­¾ï¼</p>
<p><strong>Q2ï¼šä¸€ç¯‡æ–‡ç« å¯ä»¥å‚åŠ å¤šä¸ªæ´»åŠ¨å—</strong></p>
<p>å¯ä»¥ï¼Œä¼˜ç§€æ–‡ç« å¥–å’ŒCodingè¾¾äººå¥–2ä¸ªèµ›é“çš†å¯å‚ä¸ã€‚</p>
<p><strong>Q3ï¼šæ–‡ç« è¢«æ¨èåä¸€å®šèƒ½è·å¾—å¥–åŠ±å—</strong></p>
<p>ä¸ä¸€å®šï¼Œlv4-lv8ç”¨æˆ·æ–‡ç« ä¸ºè‡ªåŠ¨æ¨èï¼Œä½†ä¹Ÿç›¸åº”çš„å‡ºç°äº†ä¸€äº›åˆ©ç”¨æƒç›Šé’»ç©ºçš„ç”¨æˆ·ï¼Œå› æ­¤æ´»åŠ¨ç»“æŸåä¼šå¯¹æ–‡ç« è¿›è¡Œäººå·¥å®¡æ ¸ï¼Œå¦‚æœæœ€ç»ˆä¸ç¬¦åˆä¼˜è´¨æ–‡ç« æ ‡å‡†ä¹Ÿä¼šå–æ¶ˆè¯¥ç¯‡æ–‡ç« é¢†å–å¥–åŠ±çš„èµ„æ ¼ï¼Œè‹¥æ´»åŠ¨æœŸé—´å•ç”¨æˆ·å‡ºç°çš„æ°´æ–‡è¾ƒå¤šï¼Œä¼šç›´æ¥å–æ¶ˆè‡ªåŠ¨æ¨èçš„ç­‰çº§æƒç›Šå“¦ï¼ã€‚</p>
<p><strong>Q4ï¼šâ€œæµé‡åŠ æŒâ€ç¯èŠ‚å¤šä¹…èƒ½è·å¾—æµé‡å¥–åŠ±</strong></p>
<p>å®æˆ˜å…ˆé”‹ã€ä¼˜ç§€æŠ•ç¨¿æ¦œã€å®æˆ˜å†²åˆºé¢„è®¡åˆ†åˆ«ä¼šåœ¨å…¬ç¤ºå3å¤©å†…è¿›è¡Œæµé‡æŠ•æ”¾ï¼Œå±Šæ—¶ä¼šé€šè¿‡ç³»ç»Ÿæ¶ˆæ¯æˆ–ç¾¤æ¶ˆæ¯é€šçŸ¥è·å¥–çš„åˆ›ä½œè€…ã€‚</p>
<p><strong>Q5ï¼šâ€œSOLOåŒèµ›é“â€ä»€ä¹ˆæ—¶å€™å¼€å¥–å‘¢ï¼Ÿå¦‚ä½•çŸ¥æ™“è‡ªå·±çš„å¥–é¡¹ä»¥åŠå¦‚ä½•é¢†å–å¥–å“ï¼Ÿ</strong></p>
<p>12æœˆ16æ—¥æ´»åŠ¨æˆªæ­¢åï¼Œæˆ‘ä»¬å°†å¯¹æ–‡ç« è¿›è¡Œè¯„é€‰ã€å…¬ç¤ºï¼Œçº¦10-15ä¸ªå·¥ä½œæ—¥åä¼šé€šè¿‡â€œæ˜é‡‘é…±â€è´¦å·è¿›è¡Œåå•å…¬ç¤ºï¼Œä¹Ÿä¼šé€šè¿‡ç³»ç»Ÿæ¶ˆæ¯é€šçŸ¥è·å¥–çš„åˆ›ä½œè€…é¢†å–å¥–åŠ±ï¼Œé¢„è®¡å¡«å†™é—®å·åçš„30ä¸ªå·¥ä½œæ—¥å†…å®Œæˆå¥–åŠ±å‘æ”¾ã€‚</p>
<p><strong>Q6ï¼šé¦–å‘çš„å®šä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>æœªåœ¨å…¶ä»–ç½‘ç«™å‘å¸ƒè¿‡çš„æ–‡ç« ï¼Œä¸”ç¬¬ä¸€æ¬¡å‘å¸ƒæ˜¯åœ¨æ˜é‡‘ã€‚å¦‚æ–‡ç« éé¦–å‘åˆ™æ— æ³•è·å¾—å¥–åŠ±ã€‚</p>
<ul>
<li>æœ€ç»ˆè§£é‡Šæƒå½’<strong>ç¨€åœŸæ˜é‡‘æŠ€æœ¯ç¤¾åŒº</strong>å®˜æ–¹æ‰€æœ‰</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java Duration å®Œå…¨æŒ‡å—ï¼šé«˜ç²¾åº¦æ—¶é—´é—´éš”å¤„ç†çš„åˆ©å™¨]]></title>    <link>https://juejin.cn/post/7571758212473913395</link>    <guid>https://juejin.cn/post/7571758212473913395</guid>    <pubDate>2025-11-13T02:23:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571758212473913395" data-draft-id="7571743311520202761" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java Duration å®Œå…¨æŒ‡å—ï¼šé«˜ç²¾åº¦æ—¶é—´é—´éš”å¤„ç†çš„åˆ©å™¨"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-13T02:23:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Main12138"/> <meta itemprop="url" content="https://juejin.cn/user/124660844331034"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java Duration å®Œå…¨æŒ‡å—ï¼šé«˜ç²¾åº¦æ—¶é—´é—´éš”å¤„ç†çš„åˆ©å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/124660844331034/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Main12138
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T02:23:27.000Z" title="Thu Nov 13 2025 02:23:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ¦‚è¿°</h2>
<p>åœ¨ Java 8 å¼•å…¥çš„æ–°æ—¶é—´ API ä¸­ï¼Œ<code>java.time.Duration</code> ç±»æ˜¯å¤„ç† <strong>æ—¶é—´é—´éš”</strong> çš„æ ¸å¿ƒå·¥å…·ã€‚å®ƒä¸“é—¨ç”¨äºæµ‹é‡åŸºäºæ—¶é—´çš„æ—¶é—´é‡ï¼ˆå°æ—¶ã€åˆ†é’Ÿã€ç§’ã€çº³ç§’ï¼‰ï¼Œæä¾›äº†é«˜ç²¾åº¦çš„è®¡ç®—èƒ½åŠ›å’Œä¸°å¯Œçš„æ“ä½œæ–¹æ³•ã€‚</p>
<h2 data-id="heading-1">æ ¸å¿ƒç‰¹æ€§</h2>
<h3 data-id="heading-2">âœ… Duration çš„ç‹¬ç‰¹ä¼˜åŠ¿</h3>
<ul>
<li><strong>çº³ç§’çº§ç²¾åº¦</strong>ï¼šæœ€é«˜æ”¯æŒçº³ç§’çº§åˆ«çš„æ—¶é—´ç²¾åº¦</li>
<li><strong>ä¸å¯å˜çº¿ç¨‹å®‰å…¨</strong>ï¼šæ‰€æœ‰å®ä¾‹éƒ½æ˜¯ä¸å¯å˜çš„ï¼Œçº¿ç¨‹å®‰å…¨</li>
<li><strong>æµç•…APIè®¾è®¡</strong>ï¼šæä¾›é“¾å¼è°ƒç”¨çš„æµç•…æ¥å£</li>
<li><strong>å•ä½è½¬æ¢ä¾¿æ·</strong>ï¼šæ”¯æŒå„ç§æ—¶é—´å•ä½é—´çš„è½»æ¾è½¬æ¢</li>
<li><strong>ISO-8601æ ‡å‡†å…¼å®¹</strong>ï¼šæ”¯æŒæ ‡å‡†æ—¶é—´é—´éš”æ ¼å¼</li>
</ul>
<h2 data-id="heading-3">åˆ›å»º Duration å®ä¾‹</h2>
<h3 data-id="heading-4">1. é™æ€å·¥å‚æ–¹æ³•</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åŸºæœ¬å•ä½åˆ›å»º</span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">ofSeconds</span> <span class="hljs-operator">=</span> Duration.ofSeconds(<span class="hljs-number">30</span>);      <span class="hljs-comment">// 30ç§’</span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">ofMinutes</span> <span class="hljs-operator">=</span> Duration.ofMinutes(<span class="hljs-number">15</span>);       <span class="hljs-comment">// 15åˆ†é’Ÿ  </span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">ofHours</span> <span class="hljs-operator">=</span> Duration.ofHours(<span class="hljs-number">2</span>);           <span class="hljs-comment">// 2å°æ—¶</span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">ofMillis</span> <span class="hljs-operator">=</span> Duration.ofMillis(<span class="hljs-number">500</span>);       <span class="hljs-comment">// 500æ¯«ç§’</span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">ofNanos</span> <span class="hljs-operator">=</span> Duration.ofNanos(<span class="hljs-number">1000000</span>);     <span class="hljs-comment">// 1æ¯«ç§’(100ä¸‡çº³ç§’)</span>

<span class="hljs-comment">// ç»„åˆåˆ›å»º</span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">complex</span> <span class="hljs-operator">=</span> Duration.ofHours(<span class="hljs-number">1</span>)
                          .plusMinutes(<span class="hljs-number">30</span>)
                          .plusSeconds(<span class="hljs-number">45</span>);       <span class="hljs-comment">// 1å°æ—¶30åˆ†45ç§’</span>
</code></pre>
<h3 data-id="heading-5">2. æ—¶é—´ç‚¹å·®å€¼è®¡ç®—</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åŸºäº Instantï¼ˆæ—¶é—´æˆ³ï¼‰</span>
<span class="hljs-type">Instant</span> <span class="hljs-variable">startInstant</span> <span class="hljs-operator">=</span> Instant.now();
Thread.sleep(<span class="hljs-number">2000</span>); <span class="hljs-comment">// æ¨¡æ‹Ÿæ“ä½œ</span>
<span class="hljs-type">Instant</span> <span class="hljs-variable">endInstant</span> <span class="hljs-operator">=</span> Instant.now();
<span class="hljs-type">Duration</span> <span class="hljs-variable">elapsed</span> <span class="hljs-operator">=</span> Duration.between(startInstant, endInstant);

<span class="hljs-comment">// åŸºäº LocalDateTimeï¼ˆæ— æ—¶åŒºï¼‰</span>
<span class="hljs-type">LocalDateTime</span> <span class="hljs-variable">meetingStart</span> <span class="hljs-operator">=</span> LocalDateTime.of(<span class="hljs-number">2023</span>, <span class="hljs-number">10</span>, <span class="hljs-number">1</span>, <span class="hljs-number">9</span>, <span class="hljs-number">0</span>);
<span class="hljs-type">LocalDateTime</span> <span class="hljs-variable">meetingEnd</span> <span class="hljs-operator">=</span> LocalDateTime.of(<span class="hljs-number">2023</span>, <span class="hljs-number">10</span>, <span class="hljs-number">1</span>, <span class="hljs-number">11</span>, <span class="hljs-number">30</span>);
<span class="hljs-type">Duration</span> <span class="hljs-variable">meetingDuration</span> <span class="hljs-operator">=</span> Duration.between(meetingStart, meetingEnd);

<span class="hljs-comment">// åŸºäº LocalTimeï¼ˆä»…æ—¶é—´ï¼‰</span>
<span class="hljs-type">LocalTime</span> <span class="hljs-variable">startTime</span> <span class="hljs-operator">=</span> LocalTime.of(<span class="hljs-number">9</span>, <span class="hljs-number">0</span>);
<span class="hljs-type">LocalTime</span> <span class="hljs-variable">endTime</span> <span class="hljs-operator">=</span> LocalTime.of(<span class="hljs-number">17</span>, <span class="hljs-number">30</span>);
<span class="hljs-type">Duration</span> <span class="hljs-variable">workDuration</span> <span class="hljs-operator">=</span> Duration.between(startTime, endTime);
</code></pre>
<h3 data-id="heading-6">3. å­—ç¬¦ä¸²è§£æï¼ˆISO-8601æ ‡å‡†ï¼‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ISO-8601 æ ¼å¼è§£æ</span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">pt20s</span> <span class="hljs-operator">=</span> Duration.parse(<span class="hljs-string">"PT20S"</span>);        <span class="hljs-comment">// 20ç§’</span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">pt15m</span> <span class="hljs-operator">=</span> Duration.parse(<span class="hljs-string">"PT15M"</span>);        <span class="hljs-comment">// 15åˆ†é’Ÿ</span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">pt10h</span> <span class="hljs-operator">=</span> Duration.parse(<span class="hljs-string">"PT10H"</span>);        <span class="hljs-comment">// 10å°æ—¶</span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">p2d</span> <span class="hljs-operator">=</span> Duration.parse(<span class="hljs-string">"P2D"</span>);            <span class="hljs-comment">// 2å¤©</span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">pt1h30m</span> <span class="hljs-operator">=</span> Duration.parse(<span class="hljs-string">"PT1H30M"</span>);    <span class="hljs-comment">// 1å°æ—¶30åˆ†é’Ÿ</span>
</code></pre>
<h2 data-id="heading-7">æ ¸å¿ƒæ“ä½œæŒ‡å—</h2>
<h3 data-id="heading-8">ğŸ”¢ æ—¶é—´å€¼è·å–ä¸è½¬æ¢</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Duration</span> <span class="hljs-variable">duration</span> <span class="hljs-operator">=</span> Duration.ofHours(<span class="hljs-number">2</span>).plusMinutes(<span class="hljs-number">30</span>); <span class="hljs-comment">// 2å°æ—¶30åˆ†é’Ÿ</span>

<span class="hljs-comment">// è½¬æ¢ä¸ºä¸åŒå•ä½</span>
<span class="hljs-type">long</span> <span class="hljs-variable">totalHours</span> <span class="hljs-operator">=</span> duration.toHours();        <span class="hljs-comment">// 2å°æ—¶</span>
<span class="hljs-type">long</span> <span class="hljs-variable">totalMinutes</span> <span class="hljs-operator">=</span> duration.toMinutes();    <span class="hljs-comment">// 150åˆ†é’Ÿ</span>
<span class="hljs-type">long</span> <span class="hljs-variable">totalSeconds</span> <span class="hljs-operator">=</span> duration.toSeconds();    <span class="hljs-comment">// 9000ç§’</span>
<span class="hljs-type">long</span> <span class="hljs-variable">totalMillis</span> <span class="hljs-operator">=</span> duration.toMillis();      <span class="hljs-comment">// 9,000,000æ¯«ç§’</span>

<span class="hljs-comment">// è·å–å„éƒ¨åˆ†ï¼ˆä¸è½¬æ¢å•ä½ï¼‰</span>
<span class="hljs-type">long</span> <span class="hljs-variable">hoursPart</span> <span class="hljs-operator">=</span> duration.toHoursPart();     <span class="hljs-comment">// 2å°æ—¶</span>
<span class="hljs-type">long</span> <span class="hljs-variable">minutesPart</span> <span class="hljs-operator">=</span> duration.toMinutesPart(); <span class="hljs-comment">// 30åˆ†é’Ÿ</span>
<span class="hljs-type">long</span> <span class="hljs-variable">secondsPart</span> <span class="hljs-operator">=</span> duration.toSecondsPart(); <span class="hljs-comment">// 0ç§’</span>
</code></pre>
<h3 data-id="heading-9">â• æ•°å­¦è¿ç®—æ“ä½œ</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Duration</span> <span class="hljs-variable">base</span> <span class="hljs-operator">=</span> Duration.ofHours(<span class="hljs-number">1</span>);

<span class="hljs-comment">// åŠ æ³•è¿ç®—</span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">afterAdd</span> <span class="hljs-operator">=</span> base.plusHours(<span class="hljs-number">2</span>)        <span class="hljs-comment">// åŠ 2å°æ—¶</span>
                       .plusMinutes(<span class="hljs-number">30</span>)      <span class="hljs-comment">// åŠ 30åˆ†é’Ÿ</span>
                       .plus(Duration.ofSeconds(<span class="hljs-number">10</span>)); <span class="hljs-comment">// åŠ 10ç§’</span>

<span class="hljs-comment">// å‡æ³•è¿ç®—  </span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">afterSubtract</span> <span class="hljs-operator">=</span> base.minusMinutes(<span class="hljs-number">15</span>)
                            .minus(Duration.ofSeconds(<span class="hljs-number">30</span>));

<span class="hljs-comment">// ä¹˜é™¤è¿ç®—</span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">doubled</span> <span class="hljs-operator">=</span> base.multipliedBy(<span class="hljs-number">2</span>);     <span class="hljs-comment">// ä¹˜ä»¥2</span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">halved</span> <span class="hljs-operator">=</span> base.dividedBy(<span class="hljs-number">2</span>);         <span class="hljs-comment">// é™¤ä»¥2</span>

<span class="hljs-comment">// å–ç»å¯¹å€¼</span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">negative</span> <span class="hljs-operator">=</span> Duration.ofHours(-<span class="hljs-number">1</span>);
<span class="hljs-type">Duration</span> <span class="hljs-variable">absolute</span> <span class="hljs-operator">=</span> negative.abs();          <span class="hljs-comment">// 1å°æ—¶</span>
</code></pre>
<h3 data-id="heading-10">âš–ï¸ æ¯”è¾ƒä¸åˆ¤æ–­</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Duration</span> <span class="hljs-variable">shortTask</span> <span class="hljs-operator">=</span> Duration.ofMinutes(<span class="hljs-number">5</span>);
<span class="hljs-type">Duration</span> <span class="hljs-variable">longTask</span> <span class="hljs-operator">=</span> Duration.ofHours(<span class="hljs-number">1</span>);

<span class="hljs-comment">// æ¯”è¾ƒæ“ä½œ</span>
<span class="hljs-type">boolean</span> <span class="hljs-variable">isShorter</span> <span class="hljs-operator">=</span> shortTask.compareTo(longTask) &lt; <span class="hljs-number">0</span>; <span class="hljs-comment">// true</span>
<span class="hljs-type">boolean</span> <span class="hljs-variable">isZero</span> <span class="hljs-operator">=</span> shortTask.isZero();                   <span class="hljs-comment">// false</span>
<span class="hljs-type">boolean</span> <span class="hljs-variable">isNegative</span> <span class="hljs-operator">=</span> shortTask.isNegative();           <span class="hljs-comment">// false</span>

<span class="hljs-comment">// ç›¸ç­‰åˆ¤æ–­</span>
<span class="hljs-type">boolean</span> <span class="hljs-variable">equal</span> <span class="hljs-operator">=</span> shortTask.equals(Duration.ofMinutes(<span class="hljs-number">5</span>)); <span class="hljs-comment">// true</span>
</code></pre>
<h2 data-id="heading-11">å®æˆ˜åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-12">ğŸ¯ åœºæ™¯1ï¼šæ€§èƒ½ç›‘æ§ä¸æ‰§è¡Œæ—¶é—´æµ‹é‡</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PerformanceMonitor</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; T <span class="hljs-title function_">measureExecution</span><span class="hljs-params">(String taskName, 
                                       Supplier&lt;T&gt; task)</span> {
        <span class="hljs-type">Instant</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> Instant.now();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">T</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> task.get();
            <span class="hljs-type">Instant</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> Instant.now();
            <span class="hljs-type">Duration</span> <span class="hljs-variable">duration</span> <span class="hljs-operator">=</span> Duration.between(start, end);
            
            System.out.printf(<span class="hljs-string">"ä»»åŠ¡ '%s' æ‰§è¡Œæ—¶é—´: %d æ¯«ç§’%n"</span>, 
                            taskName, duration.toMillis());
            <span class="hljs-keyword">return</span> result;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-type">Instant</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> Instant.now();
            <span class="hljs-type">Duration</span> <span class="hljs-variable">duration</span> <span class="hljs-operator">=</span> Duration.between(start, end);
            System.err.printf(<span class="hljs-string">"ä»»åŠ¡ '%s' å¤±è´¥ï¼Œå·²æ‰§è¡Œ: %d æ¯«ç§’%n"</span>, 
                            taskName, duration.toMillis());
            <span class="hljs-keyword">throw</span> e;
        }
    }
    
    <span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> measureExecution(<span class="hljs-string">"æ•°æ®æŸ¥è¯¢"</span>, () -&gt; {
            <span class="hljs-comment">// æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ</span>
            <span class="hljs-keyword">try</span> { Thread.sleep(<span class="hljs-number">1500</span>); } <span class="hljs-keyword">catch</span> (InterruptedException e) {}
            <span class="hljs-keyword">return</span> <span class="hljs-string">"æŸ¥è¯¢ç»“æœ"</span>;
        });
    }
}
</code></pre>
<h3 data-id="heading-13">ğŸ¯ åœºæ™¯2ï¼šè¶…æ—¶æ§åˆ¶ä¸é™æµç®¡ç†</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TimeoutManager</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Duration timeout;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Duration retryInterval;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TimeoutManager</span><span class="hljs-params">(Duration timeout, Duration retryInterval)</span> {
        <span class="hljs-built_in">this</span>.timeout = timeout;
        <span class="hljs-built_in">this</span>.retryInterval = retryInterval;
    }
    
    <span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">executeWithTimeout</span><span class="hljs-params">(Callable&lt;T&gt; task)</span> <span class="hljs-keyword">throws</span> TimeoutException {
        <span class="hljs-type">Instant</span> <span class="hljs-variable">deadline</span> <span class="hljs-operator">=</span> Instant.now().plus(timeout);
        
        <span class="hljs-keyword">while</span> (Instant.now().isBefore(deadline)) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">return</span> task.call();
            } <span class="hljs-keyword">catch</span> (Exception e) {
                <span class="hljs-type">Duration</span> <span class="hljs-variable">remaining</span> <span class="hljs-operator">=</span> Duration.between(Instant.now(), deadline);
                <span class="hljs-keyword">if</span> (remaining.toMillis() &lt;= <span class="hljs-number">0</span>) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimeoutException</span>(<span class="hljs-string">"æ“ä½œè¶…æ—¶"</span>);
                }
                
                <span class="hljs-comment">// ç­‰å¾…åé‡è¯•</span>
                <span class="hljs-keyword">try</span> {
                    Thread.sleep(Math.min(retryInterval.toMillis(), 
                                        remaining.toMillis()));
                } <span class="hljs-keyword">catch</span> (InterruptedException ie) {
                    Thread.currentThread().interrupt();
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æ“ä½œè¢«ä¸­æ–­"</span>, ie);
                }
            }
        }
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimeoutException</span>(<span class="hljs-string">"æ“ä½œè¶…æ—¶"</span>);
    }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-type">TimeoutManager</span> <span class="hljs-variable">manager</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimeoutManager</span>(
    Duration.ofSeconds(<span class="hljs-number">30</span>),    <span class="hljs-comment">// 30ç§’è¶…æ—¶</span>
    Duration.ofSeconds(<span class="hljs-number">2</span>)      <span class="hljs-comment">// 2ç§’é‡è¯•é—´éš”</span>
);
</code></pre>
<h3 data-id="heading-14">ğŸ¯ åœºæ™¯3ï¼šç¼“å­˜è¿‡æœŸç­–ç•¥å®ç°</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TimedCache</span>&lt;K, V&gt; {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;K, CacheEntry&lt;V&gt;&gt; cache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Duration defaultTtl;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TimedCache</span><span class="hljs-params">(Duration defaultTtl)</span> {
        <span class="hljs-built_in">this</span>.defaultTtl = defaultTtl;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">put</span><span class="hljs-params">(K key, V value)</span> {
        put(key, value, defaultTtl);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">put</span><span class="hljs-params">(K key, V value, Duration ttl)</span> {
        <span class="hljs-type">Instant</span> <span class="hljs-variable">expiryTime</span> <span class="hljs-operator">=</span> Instant.now().plus(ttl);
        cache.put(key, <span class="hljs-keyword">new</span> <span class="hljs-title class_">CacheEntry</span>&lt;&gt;(value, expiryTime));
    }
    
    <span class="hljs-keyword">public</span> V <span class="hljs-title function_">get</span><span class="hljs-params">(K key)</span> {
        CacheEntry&lt;V&gt; entry = cache.get(key);
        <span class="hljs-keyword">if</span> (entry == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        
        <span class="hljs-keyword">if</span> (Instant.now().isAfter(entry.getExpiryTime())) {
            cache.remove(key);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">return</span> entry.getValue();
    }
    
    <span class="hljs-comment">// æ¸…ç†è¿‡æœŸæ¡ç›®</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cleanup</span><span class="hljs-params">()</span> {
        <span class="hljs-type">Instant</span> <span class="hljs-variable">now</span> <span class="hljs-operator">=</span> Instant.now();
        cache.entrySet().removeIf(entry -&gt; 
            now.isAfter(entry.getValue().getExpiryTime()));
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CacheEntry</span>&lt;V&gt; {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> V value;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Instant expiryTime;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">CacheEntry</span><span class="hljs-params">(V value, Instant expiryTime)</span> {
            <span class="hljs-built_in">this</span>.value = value;
            <span class="hljs-built_in">this</span>.expiryTime = expiryTime;
        }
        
        <span class="hljs-comment">// getters...</span>
    }
}
</code></pre>
<h3 data-id="heading-15">ğŸ¯ åœºæ™¯4ï¼šä»»åŠ¡è°ƒåº¦ä¸å»¶è¿Ÿæ‰§è¡Œ</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TaskScheduler</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">ScheduledExecutorService</span> <span class="hljs-variable">scheduler</span> <span class="hljs-operator">=</span> 
        Executors.newScheduledThreadPool(<span class="hljs-number">2</span>);
    
    <span class="hljs-keyword">public</span> ScheduledFuture&lt;?&gt; scheduleWithFixedDelay(Runnable task,
                                                   Duration initialDelay,
                                                   Duration delay) {
        <span class="hljs-keyword">return</span> scheduler.scheduleWithFixedDelay(
            task,
            initialDelay.toMillis(), 
            delay.toMillis(),
            TimeUnit.MILLISECONDS
        );
    }
    
    <span class="hljs-keyword">public</span> ScheduledFuture&lt;?&gt; scheduleAtFixedRate(Runnable task,
                                                Duration initialDelay, 
                                                Duration period) {
        <span class="hljs-keyword">return</span> scheduler.scheduleAtFixedRate(
            task,
            initialDelay.toMillis(),
            period.toMillis(), 
            TimeUnit.MILLISECONDS
        );
    }
    
    <span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">startMonitoring</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// 5ç§’åå¼€å§‹ï¼Œæ¯30ç§’æ‰§è¡Œä¸€æ¬¡</span>
        scheduleAtFixedRate(
            <span class="hljs-built_in">this</span>::healthCheck,
            Duration.ofSeconds(<span class="hljs-number">5</span>),
            Duration.ofSeconds(<span class="hljs-number">30</span>)
        );
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">healthCheck</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"æ‰§è¡Œå¥åº·æ£€æŸ¥: "</span> + Instant.now());
    }
}
</code></pre>
<h3 data-id="heading-16">ğŸ¯ åœºæ™¯5ï¼šé€Ÿç‡é™åˆ¶å™¨å®ç°</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RateLimiter</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Duration refillInterval;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> maxTokens;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> tokens;
    <span class="hljs-keyword">private</span> Instant lastRefill;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">RateLimiter</span><span class="hljs-params">(Duration refillInterval, <span class="hljs-type">int</span> maxTokens)</span> {
        <span class="hljs-built_in">this</span>.refillInterval = refillInterval;
        <span class="hljs-built_in">this</span>.maxTokens = maxTokens;
        <span class="hljs-built_in">this</span>.tokens = maxTokens;
        <span class="hljs-built_in">this</span>.lastRefill = Instant.now();
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">tryAcquire</span><span class="hljs-params">()</span> {
        refillTokens();
        <span class="hljs-keyword">if</span> (tokens &gt; <span class="hljs-number">0</span>) {
            tokens--;
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">tryAcquire</span><span class="hljs-params">(<span class="hljs-type">int</span> <span class="hljs-keyword">permits</span>)</span> {
        refillTokens();
        <span class="hljs-keyword">if</span> (tokens &gt;= <span class="hljs-keyword">permits</span>) {
            tokens -= <span class="hljs-keyword">permits</span>;
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">refillTokens</span><span class="hljs-params">()</span> {
        <span class="hljs-type">Instant</span> <span class="hljs-variable">now</span> <span class="hljs-operator">=</span> Instant.now();
        <span class="hljs-type">Duration</span> <span class="hljs-variable">timeSinceLastRefill</span> <span class="hljs-operator">=</span> Duration.between(lastRefill, now);
        
        <span class="hljs-type">long</span> <span class="hljs-variable">refillCount</span> <span class="hljs-operator">=</span> timeSinceLastRefill.dividedBy(refillInterval);
        <span class="hljs-keyword">if</span> (refillCount &gt; <span class="hljs-number">0</span>) {
            tokens = Math.min(maxTokens, tokens + (<span class="hljs-type">int</span>)refillCount);
            lastRefill = lastRefill.plus(refillInterval.multipliedBy(refillCount));
        }
    }
    
    <span class="hljs-keyword">public</span> Duration <span class="hljs-title function_">getTimeUntilNextRefill</span><span class="hljs-params">()</span> {
        <span class="hljs-type">Instant</span> <span class="hljs-variable">nextRefill</span> <span class="hljs-operator">=</span> lastRefill.plus(refillInterval);
        <span class="hljs-keyword">return</span> Duration.between(Instant.now(), nextRefill);
    }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹ï¼šé™åˆ¶æ¯ç§’æœ€å¤š10ä¸ªè¯·æ±‚</span>
<span class="hljs-type">RateLimiter</span> <span class="hljs-variable">limiter</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RateLimiter</span>(Duration.ofSeconds(<span class="hljs-number">1</span>), <span class="hljs-number">10</span>);
<span class="hljs-keyword">if</span> (limiter.tryAcquire()) {
    <span class="hljs-comment">// å¤„ç†è¯·æ±‚</span>
} <span class="hljs-keyword">else</span> {
    <span class="hljs-type">Duration</span> <span class="hljs-variable">waitTime</span> <span class="hljs-operator">=</span> limiter.getTimeUntilNextRefill();
    System.out.println(<span class="hljs-string">"éœ€è¦ç­‰å¾…: "</span> + waitTime.toMillis() + <span class="hljs-string">"æ¯«ç§’"</span>);
}
</code></pre>
<h2 data-id="heading-17">æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-18">âœ… æœ€ä½³å®è·µ</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡å</span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">requestTimeout</span> <span class="hljs-operator">=</span> Duration.ofSeconds(<span class="hljs-number">30</span>);
<span class="hljs-type">Duration</span> <span class="hljs-variable">cacheTtl</span> <span class="hljs-operator">=</span> Duration.ofMinutes(<span class="hljs-number">10</span>);
<span class="hljs-type">Duration</span> <span class="hljs-variable">sessionDuration</span> <span class="hljs-operator">=</span> Duration.ofHours(<span class="hljs-number">2</span>);

<span class="hljs-comment">// 2. ä¼˜å…ˆä½¿ç”¨å·¥å‚æ–¹æ³•è€Œä¸æ˜¯æ„é€ å‡½æ•°</span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">good</span> <span class="hljs-operator">=</span> Duration.ofMinutes(<span class="hljs-number">5</span>);      <span class="hljs-comment">// âœ… æ¨è</span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">bad</span> <span class="hljs-operator">=</span> Duration.ofSeconds(<span class="hljs-number">300</span>);      <span class="hljs-comment">// âŒ å¯è¯»æ€§å·®</span>

<span class="hljs-comment">// 3. åˆç†å¤„ç†å¤§æ•°å€¼</span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">largeDuration</span> <span class="hljs-operator">=</span> Duration.ofDays(<span class="hljs-number">365</span>); <span class="hljs-comment">// 1å¹´</span>
<span class="hljs-keyword">if</span> (largeDuration.toDays() &gt; <span class="hljs-number">100</span>) {
    <span class="hljs-comment">// å¤„ç†å¤§æ—¶é—´é—´éš”</span>
}

<span class="hljs-comment">// 4. ä½¿ç”¨åˆé€‚çš„ç²¾åº¦</span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">highPrecision</span> <span class="hljs-operator">=</span> Duration.ofNanos(<span class="hljs-number">100</span>);  <span class="hljs-comment">// éœ€è¦é«˜ç²¾åº¦æ—¶</span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">normalPrecision</span> <span class="hljs-operator">=</span> Duration.ofMillis(<span class="hljs-number">100</span>); <span class="hljs-comment">// ä¸€èˆ¬æƒ…å†µ</span>
</code></pre>
<h3 data-id="heading-19">âš ï¸ æ³¨æ„äº‹é¡¹</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. é¿å…åœ¨æ—¥æœŸè®¡ç®—ä¸­ä½¿ç”¨ Durationï¼ˆä½¿ç”¨ Periodï¼‰</span>
<span class="hljs-type">LocalDate</span> <span class="hljs-variable">today</span> <span class="hljs-operator">=</span> LocalDate.now();
<span class="hljs-type">LocalDate</span> <span class="hljs-variable">nextMonth</span> <span class="hljs-operator">=</span> today.plus(Period.ofMonths(<span class="hljs-number">1</span>)); <span class="hljs-comment">// âœ… æ­£ç¡®</span>
<span class="hljs-type">LocalDate</span> <span class="hljs-variable">wrong</span> <span class="hljs-operator">=</span> today.plus(Duration.ofDays(<span class="hljs-number">30</span>));    <span class="hljs-comment">// âŒ å¯èƒ½ä¸å‡†ç¡®</span>

<span class="hljs-comment">// 2. æ³¨æ„æ—¶åŒºé—®é¢˜</span>
<span class="hljs-type">ZonedDateTime</span> <span class="hljs-variable">zonedStart</span> <span class="hljs-operator">=</span> ZonedDateTime.now();
<span class="hljs-type">ZonedDateTime</span> <span class="hljs-variable">zonedEnd</span> <span class="hljs-operator">=</span> zonedStart.plus(Duration.ofHours(<span class="hljs-number">2</span>));
<span class="hljs-type">Duration</span> <span class="hljs-variable">duration</span> <span class="hljs-operator">=</span> Duration.between(zonedStart, zonedEnd); <span class="hljs-comment">// âœ… æ­£ç¡®å¤„ç†æ—¶åŒº</span>

<span class="hljs-comment">// 3. å¤§æ•°å€¼è®¡ç®—å¯èƒ½æº¢å‡º</span>
<span class="hljs-type">Duration</span> <span class="hljs-variable">veryLarge</span> <span class="hljs-operator">=</span> Duration.ofDays(Integer.MAX_VALUE);
<span class="hljs-type">long</span> <span class="hljs-variable">days</span> <span class="hljs-operator">=</span> veryLarge.toDays(); <span class="hljs-comment">// å¯èƒ½æº¢å‡ºï¼Œéœ€è¦æ£€æŸ¥</span>
</code></pre>
<h2 data-id="heading-20">æ€»ç»“</h2>
<p><strong>Duration æ˜¯ä»¥ä¸‹åœºæ™¯çš„ç†æƒ³é€‰æ‹©ï¼š</strong></p>
<ul>
<li>âœ…Â <strong>é«˜ç²¾åº¦æ—¶é—´æµ‹é‡</strong>ï¼ˆæ€§èƒ½ç›‘æ§ã€æ‰§è¡Œæ—¶é—´ç»Ÿè®¡ï¼‰</li>
<li>âœ…Â <strong>è¶…æ—¶æ§åˆ¶å’Œé™æµ</strong>ï¼ˆç½‘ç»œè¯·æ±‚ã€èµ„æºç®¡ç†ï¼‰</li>
<li>âœ…Â <strong>ç¼“å­˜å’Œä¼šè¯ç®¡ç†</strong>ï¼ˆTTLè®¾ç½®ã€è¿‡æœŸç­–ç•¥ï¼‰</li>
<li>âœ…Â <strong>ä»»åŠ¡è°ƒåº¦</strong>ï¼ˆå»¶è¿Ÿæ‰§è¡Œã€å®šæœŸä»»åŠ¡ï¼‰</li>
<li>âœ…Â <strong>é€Ÿç‡é™åˆ¶</strong>ï¼ˆAPIé™æµã€æµé‡æ§åˆ¶ï¼‰</li>
</ul>
<p><strong>å…³é”®ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>çº³ç§’çº§ç²¾åº¦æ»¡è¶³é«˜æ€§èƒ½éœ€æ±‚</li>
<li>ä¸å¯å˜è®¾è®¡ä¿è¯çº¿ç¨‹å®‰å…¨</li>
<li>æµç•…APIæå‡å¼€å‘ä½“éªŒ</li>
<li>ä¸°å¯Œçš„æ—¶é—´å•ä½è½¬æ¢æ”¯æŒ</li>
</ul>
<p>æŒæ¡ Duration çš„ä½¿ç”¨ï¼Œèƒ½å¤Ÿè®©ä½ åœ¨æ—¶é—´æ•æ„Ÿçš„åº”ç”¨åœºæ™¯ä¸­æ¸¸åˆƒæœ‰ä½™ï¼Œæ„å»ºå‡ºæ›´åŠ å¥å£®å’Œé«˜æ•ˆçš„ç³»ç»Ÿã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CSS å®šä½å½»åº•ææ‡‚ï¼šäº”ç§ position çš„çœŸå®å·®å¼‚ä¸æœ€ä½³å®è·µ]]></title>    <link>https://juejin.cn/post/7571648135585955883</link>    <guid>https://juejin.cn/post/7571648135585955883</guid>    <pubDate>2025-11-12T15:59:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571648135585955883" data-draft-id="7571678388954447891" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CSS å®šä½å½»åº•ææ‡‚ï¼šäº”ç§ position çš„çœŸå®å·®å¼‚ä¸æœ€ä½³å®è·µ"/> <meta itemprop="keywords" content="å‰ç«¯,CSS"/> <meta itemprop="datePublished" content="2025-11-12T15:59:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ouma_syu"/> <meta itemprop="url" content="https://juejin.cn/user/2728363512824729"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CSS å®šä½å½»åº•ææ‡‚ï¼šäº”ç§ position çš„çœŸå®å·®å¼‚ä¸æœ€ä½³å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2728363512824729/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ouma_syu
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T15:59:52.000Z" title="Wed Nov 12 2025 15:59:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å½»åº•è¯»æ‡‚ CSS å®šä½ï¼šæ–‡æ¡£æµã€relativeã€absoluteã€fixedã€sticky å…¨é¢è§£æ</h2>
<p>åœ¨å‰ç«¯å¸ƒå±€ä½“ç³»ä¸­ï¼Œ<code>position</code> æ˜¯æœ€æ ¸å¿ƒä¹Ÿæœ€å®¹æ˜“äº§ç”Ÿè¯¯è§£çš„å±æ€§ã€‚å®ƒå†³å®šäº†å…ƒç´ æ˜¯å¦å‚ä¸æ–‡æ¡£æµã€å‚è€ƒåŸºå‡†çš„é€‰æ‹©æ–¹å¼ã€æ»šåŠ¨è¡¨ç°ä»¥åŠå±‚å å…³ç³»ç­‰å…³é”®ç‰¹æ€§ã€‚</p>
<p>æœ¬æ–‡å°†ä»¥ç»Ÿä¸€çš„é€»è¾‘ä½“ç³»ï¼Œå°† <code>position</code> æ‹†è§£æˆæœ€æ˜“ç†è§£çš„ä¸€å¥—è®¤çŸ¥ç»“æ„ã€‚è¯»å®Œåï¼Œä½ å°†èƒ½å¤ŸçœŸæ­£åšåˆ°ï¼š<strong>å®šä½ç”¨å¾—å‡†ï¼Œå¸ƒå±€ä¸è¸©å‘ã€‚</strong></p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€ä»€ä¹ˆæ˜¯æ–‡æ¡£æµï¼Ÿä¸ºä»€ä¹ˆæ‰€æœ‰å®šä½éƒ½å›´ç»•å®ƒå±•å¼€ï¼Ÿ</h2>
<p>åœ¨æµè§ˆå™¨é»˜è®¤å¸ƒå±€è§„åˆ™ä¸‹ï¼Œå…ƒç´ éƒ½ä¼šæŒ‰ç…§â€œæ–‡æ¡£æµï¼ˆnormal flowï¼‰â€æ¥æ’åˆ—ï¼š</p>
<ul>
<li><strong>å—çº§å…ƒç´ </strong>ï¼šä»ä¸Šåˆ°ä¸‹æ’åˆ—</li>
<li><strong>è¡Œå†…å…ƒç´ </strong>ï¼šä»å·¦åˆ°å³æ’åˆ—</li>
</ul>
<p>åªè¦å…ƒç´ ä»åœ¨æ–‡æ¡£æµä¸­ï¼Œå®ƒå°±ä¼š<strong>å æ®ç©ºé—´</strong>å¹¶å‚ä¸åç»­å…ƒç´ çš„æ’å¸ƒã€‚</p>
<p>è€Œä¸€æ—¦å…ƒç´ â€œè„±ç¦»æ–‡æ¡£æµâ€ï¼Œåˆ™æ„å‘³ç€ï¼š</p>
<ul>
<li>ä¸å†å æ®åŸæ¥çš„ç©ºé—´</li>
<li>ä¸å½±å“å…¶ä»–å…ƒç´ ä½ç½®</li>
<li>å¯åœ¨é¡µé¢ä¸­è‡ªç”±æ‘†æ”¾</li>
</ul>
<p>ç†è§£æ˜¯å¦â€œè„±æµâ€ï¼Œæ˜¯æŒæ¡æ‰€æœ‰å®šä½æ–¹å¼çš„å…³é”®ã€‚</p>
<hr/>
<h2 data-id="heading-2">äºŒã€äº”ç§å®šä½æ–¹å¼é€ä¸ªæ‹†è§£</h2>
<h3 data-id="heading-3">1. position: staticï¼ˆé»˜è®¤å®šä½ï¼‰</h3>
<ul>
<li>å…ƒç´ æŒ‰æ–‡æ¡£æµæ­£å¸¸æ’åˆ—</li>
<li>ä¸æ”¯æŒ <code>top/left</code> ç­‰åç§»å±æ€§</li>
<li>å¸¸ç”¨äº<strong>é‡ç½®å®šä½</strong></li>
</ul>
<p>ä¸€å¥è¯æ€»ç»“ï¼šæœ€æ™®é€šçš„å¸ƒå±€æ–¹å¼ã€‚</p>
<hr/>
<h3 data-id="heading-4">2. position: relativeï¼ˆç›¸å¯¹å®šä½ï¼‰</h3>
<p><strong>ç‰¹æ€§ï¼š</strong></p>
<ul>
<li>ä¸è„±ç¦»æ–‡æ¡£æµï¼ˆä»å æ®åŸæ¥çš„ä½ç½®ï¼‰</li>
<li>åç§»å‚ç…§è‡ªèº«çš„â€œåŸæœ¬ä½ç½®â€</li>
<li>å¸¸ç”¨äºä¸º absolute å…ƒç´ å»ºç«‹â€œå®šä½ä¸Šä¸‹æ–‡â€</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.parent</span> { <span class="hljs-attribute">position</span>: relative; }
<span class="hljs-selector-class">.child</span> { <span class="hljs-attribute">position</span>: absolute; <span class="hljs-attribute">right</span>: <span class="hljs-number">100px</span>; }
</code></pre>
<p>relative æœ¬è´¨ä¸Šæ˜¯å¯¹å…ƒç´ è¿›è¡Œâ€œå¾®è°ƒâ€ï¼Œæˆ–ç”¨äºåˆ›å»ºæ–°çš„å®šä½å‚è€ƒç‚¹ã€‚</p>
<hr/>
<h3 data-id="heading-5">3. position: absoluteï¼ˆç»å¯¹å®šä½ï¼‰</h3>
<p><strong>ç‰¹æ€§ï¼š</strong></p>
<ul>
<li>è„±ç¦»æ–‡æ¡£æµ</li>
<li>ä¸å†å æ®ç©ºé—´</li>
<li>å‚ç…§â€œæœ€è¿‘çš„é static çš„çˆ¶å…ƒç´ â€</li>
<li>è‹¥æ— å®šä½çˆ¶å…ƒç´ ï¼Œåˆ™å‚ç…§ <code>body/html</code></li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.parent</span> { <span class="hljs-attribute">position</span>: relative; }
<span class="hljs-selector-class">.child</span> { <span class="hljs-attribute">position</span>: absolute; <span class="hljs-attribute">right</span>: <span class="hljs-number">100px</span>; }
</code></pre>
<p><code>.child</code> ä¼šä»¥ <code>.parent</code> ä¸ºåŸºå‡†å®šä½ã€‚</p>
<p>ç»å…¸å±…ä¸­ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.box</span> {
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>, -<span class="hljs-number">50%</span>);
}
</code></pre>
<p>æ¯” margin auto æ›´ç¨³å®šï¼Œæ˜¯å‰ç«¯é¢è¯•å¿…èƒŒæ–¹æ¡ˆã€‚</p>
<hr/>
<h3 data-id="heading-6">4. position: fixedï¼ˆå›ºå®šå®šä½ï¼‰</h3>
<p><strong>ç‰¹æ€§ï¼š</strong></p>
<ul>
<li>è„±ç¦»æ–‡æ¡£æµ</li>
<li>ä»¥æµè§ˆå™¨è§†å£ï¼ˆviewportï¼‰ä¸ºåŸºå‡†</li>
<li>é¡µé¢æ»šåŠ¨æ—¶ä½ç½®ä¿æŒä¸å˜</li>
</ul>
<p>å¸¸è§ä½¿ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>æ‚¬æµ®å›¾æ ‡</li>
<li>å›ºå®šå¯¼èˆªæ </li>
<li>è¿”å›é¡¶éƒ¨æŒ‰é’®</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.child</span> {
  <span class="hljs-attribute">position</span>: fixed;
  <span class="hljs-attribute">right</span>: <span class="hljs-number">100px</span>;
  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">100px</span>;
}
</code></pre>
<hr/>
<h3 data-id="heading-7">5. position: stickyï¼ˆç²˜æ€§å®šä½ï¼‰</h3>
<p>sticky æ˜¯ relative ä¸ fixed çš„ç»“åˆä½“ï¼š</p>
<ul>
<li>æœªè§¦å‘é˜ˆå€¼ â†’ åƒ relativeï¼ˆä¸è„±æµï¼‰</li>
<li>è§¦å‘é˜ˆå€¼ â†’ åƒ fixedï¼ˆå¸é™„åœ¨å±å¹•ï¼‰</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.box</span> {
  <span class="hljs-attribute">position</span>: sticky;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">100px</span>;
}
</code></pre>
<p>å¸¸ç”¨äºå¸é¡¶å¯¼èˆªã€æ–‡æ¡£æ ‡é¢˜åŒºç­‰ã€‚</p>
<p>æ³¨æ„ sticky ç”Ÿæ•ˆæ¡ä»¶ï¼š</p>
<ul>
<li>å¿…é¡»æŒ‡å®š top/right/bottom/left</li>
<li>çˆ¶å…ƒç´ ä¸èƒ½æ˜¯ <code>overflow: hidden/auto</code>ï¼ˆå¦åˆ™å¯èƒ½å¤±æ•ˆï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-8">ä¸‰ã€ç¤ºä¾‹ä»£ç ä¸­çš„å…³é”®çŸ¥è¯†ç‚¹æ€»ç»“</h2>
<h3 data-id="heading-9">ç›¸å¯¹ + ç»å¯¹å®šä½ï¼šæœ€å¸¸ç”¨çš„å¸ƒå±€æ¨¡å¼</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.parent</span> { <span class="hljs-attribute">position</span>: relative; }
<span class="hljs-selector-class">.child</span> { <span class="hljs-attribute">position</span>: absolute; <span class="hljs-attribute">right</span>: <span class="hljs-number">100px</span>; }
</code></pre>
<p>relative åˆ›å»ºå®šä½ä¸Šä¸‹æ–‡ï¼Œabsolute ç²¾å‡†å®šä½ã€‚</p>
<hr/>
<h3 data-id="heading-10">æœ€ç¨³å¥çš„å±…ä¸­æ–¹æ¡ˆ</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.box</span> {
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>, -<span class="hljs-number">50%</span>);
}
</code></pre>
<p>ä¸ä¼šå—å…ƒç´ å°ºå¯¸å½±å“ï¼Œæ˜¯å±…ä¸­å¸ƒå±€çš„æœ€ä½³å®è·µã€‚</p>
<hr/>
<h3 data-id="heading-11">fixedï¼šçœŸæ­£çš„â€œå›ºå®šåœ¨å±å¹•â€</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.child</span> {
  <span class="hljs-attribute">position</span>: fixed;
  <span class="hljs-attribute">right</span>: <span class="hljs-number">100px</span>;
  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">100px</span>;
}
</code></pre>
<hr/>
<h3 data-id="heading-12">stickyï¼šæ»šåŠ¨åˆ°æŸä¸€ç‚¹è‡ªåŠ¨å¸é¡¶</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.box</span> {
  <span class="hljs-attribute">position</span>: sticky;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">100px</span>;
}
</code></pre>
<hr/>
<h3 data-id="heading-13">é‡ç½®å®šä½ï¼šposition: static</h3>
<p>å½“çˆ¶å…ƒç´ ä» absolute â†’ static æ—¶ï¼Œabsolute å­å…ƒç´ ä¼šé‡æ–°å¯»æ‰¾æ–°çš„å®šä½å‚è€ƒç‚¹ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">setTimeout(() =&gt; {
  <span class="hljs-attr">oParent.style.position</span> = <span class="hljs-string">'static'</span><span class="hljs-comment">;</span>
}, 5000)<span class="hljs-comment">;</span>
</code></pre>
<p>5 ç§’åï¼Œabsolute å­å…ƒç´ å°†ä»¥ body ä¸ºåŸºå‡†é‡æ–°å®šä½ã€‚</p>
<hr/>
<h2 data-id="heading-14">å››ã€æ€»ç»“</h2>









































<table><thead><tr><th>å±æ€§</th><th>æ˜¯å¦è„±ç¦»æ–‡æ¡£æµ</th><th>åç§»å‚è€ƒç‚¹</th><th>å¸¸ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>static</td><td>ä¸è„±ç¦»</td><td>æ–‡æ¡£æµ</td><td>é»˜è®¤ã€é‡ç½®å®šä½</td></tr><tr><td>relative</td><td>ä¸è„±ç¦»</td><td>å…ƒç´ è‡ªèº«åŸä½ç½®</td><td>å¾®è°ƒã€åˆ›å»ºå®šä½ä¸Šä¸‹æ–‡</td></tr><tr><td>absolute</td><td>è„±ç¦»</td><td>æœ€è¿‘çš„é static çˆ¶å…ƒç´ </td><td>å¼¹çª—ã€æµ®å±‚ã€å¡ç‰‡å®šä½</td></tr><tr><td>fixed</td><td>è„±ç¦»</td><td>è§†å£ viewport</td><td>æ‚¬æµ® UIã€å›ºå®šå¯¼èˆª</td></tr><tr><td>sticky</td><td>é˜ˆå€¼å‰ä¸è„±ç¦» é˜ˆå€¼åè„±ç¦»</td><td>è‡ªèº« + è§†å£</td><td>å¸é¡¶ã€ç›®å½•å¯¼èˆª</td></tr></tbody></table>
<p>CSS å®šä½å¹¶ä¸å¤æ‚ï¼ŒçœŸæ­£çš„æ ¸å¿ƒåªæœ‰ä¸‰ä¸ªï¼š</p>
<ol>
<li>æ˜¯å¦è„±ç¦»æ–‡æ¡£æµ</li>
<li>å‚è€ƒè°è¿›è¡Œå®šä½</li>
<li>æ»šåŠ¨æ—¶å¦‚ä½•è¡¨ç°</li>
</ol>
<p>æŒæ¡è¿™ä¸‰ç‚¹ï¼Œä½ å°±èƒ½åœ¨å¸ƒå±€ä¸­åšåˆ°çœŸæ­£çš„â€œå¿ƒä¸­æœ‰æ•°â€ï¼Œé¢å¯¹ä»»ä½•å¤æ‚å¸ƒå±€ä¹Ÿèƒ½æ¸¸åˆƒæœ‰ä½™ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥è§£æJavaScriptæ•°ç»„ï¼šä»å†…å­˜åŸç†åˆ°é«˜æ•ˆéå†å®è·µ]]></title>    <link>https://juejin.cn/post/7571637614202306587</link>    <guid>https://juejin.cn/post/7571637614202306587</guid>    <pubDate>2025-11-12T07:21:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571637614202306587" data-draft-id="7571427088071557146" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥è§£æJavaScriptæ•°ç»„ï¼šä»å†…å­˜åŸç†åˆ°é«˜æ•ˆéå†å®è·µ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-11-12T07:21:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é—²äº‘ing"/> <meta itemprop="url" content="https://juejin.cn/user/2974655942502250"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥è§£æJavaScriptæ•°ç»„ï¼šä»å†…å­˜åŸç†åˆ°é«˜æ•ˆéå†å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2974655942502250/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é—²äº‘ing
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T07:21:30.000Z" title="Wed Nov 12 2025 07:21:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ·±å…¥è§£æ JavaScript æ•°ç»„ï¼šä»å†…å­˜åŸç†åˆ°é«˜æ•ˆéå†å®è·µ</h2>
<p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæ•°ç»„æ˜¯æœ€åŸºç¡€ã€æœ€å¸¸ç”¨çš„æ•°æ®ç»“æ„ä¹‹ä¸€ã€‚å®ƒè¯­æ³•ç®€æ´ã€å¼€ç®±å³ç”¨ï¼Œæ—¢èƒ½å­˜å‚¨ç®€å•çš„æ•°æ®åˆ—è¡¨ï¼Œä¹Ÿèƒ½æ”¯æ’‘å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ã€‚ç„¶è€Œï¼Œå¾ˆå¤šå¼€å‘è€…å¯¹æ•°ç»„çš„ç†è§£åœç•™åœ¨ <code>push</code>ã€<code>map</code>ã€<code>forEach</code> ç­‰ API çš„ä½¿ç”¨å±‚é¢ï¼Œå¯¹å…¶åº•å±‚æœºåˆ¶ç¼ºä¹ç³»ç»Ÿè®¤çŸ¥ã€‚</p>
<p>æœ¬æ–‡å°†ä»å†…å­˜æ¨¡å‹ã€åˆ›å»ºæ–¹å¼ã€éå†æ€§èƒ½åˆ°ç»“æ„é€‰å‹ï¼Œå¸¦ä½ æ·±å…¥ç†è§£ JavaScript æ•°ç»„çš„æœ¬è´¨ï¼Œå¸®åŠ©ä½ åœ¨å®é™…å¼€å‘ä¸­åšå‡ºæ›´åˆç†çš„æŠ€æœ¯å†³ç­–ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€æ•°ç»„çš„å†…å­˜æ¨¡å‹ï¼šæ ˆä¸å †å¦‚ä½•åä½œï¼Ÿ</h3>
<p>JavaScript ä¸­çš„å˜é‡å­˜å‚¨åˆ†ä¸º<strong>æ ˆå†…å­˜</strong>å’Œ<strong>å †å†…å­˜</strong>ã€‚å½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ•°ç»„æ—¶ï¼Œè¿™ä¸¤è€…ä¼šååŒå·¥ä½œï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">arr</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]<span class="hljs-comment">;</span>
</code></pre>
<ul>
<li>å˜é‡ <code>arr</code> æœ¬èº«ï¼ˆå³å¼•ç”¨åœ°å€ï¼‰å­˜å‚¨åœ¨<strong>æ ˆå†…å­˜</strong>ä¸­ï¼›</li>
<li>æ•°ç»„çš„å®é™…æ•°æ® <code>[1, 2, 3, ..., 6]</code> å­˜å‚¨åœ¨<strong>å †å†…å­˜</strong>ä¸­ï¼Œå¹¶å ç”¨<strong>è¿ç»­çš„å†…å­˜ç©ºé—´</strong>ã€‚</li>
</ul>
<p>è¿™ç§è®¾è®¡ä½¿å¾—é€šè¿‡ä¸‹æ ‡è®¿é—®å…ƒç´ ï¼ˆå¦‚ <code>arr[2]</code>ï¼‰çš„æ—¶é—´å¤æ‚åº¦ä¸º <strong>O(1)</strong> ï¼Œæ•ˆç‡æé«˜ã€‚</p>
<p>å³ä½¿æ˜¯é€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºç©ºæ•°ç»„ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(); <span class="hljs-comment">// æˆ– []</span>
</code></pre>
<p>æ ˆä¸­ä¾ç„¶ä¿å­˜å¼•ç”¨ï¼Œå †ä¸­åˆ™åˆ†é…ä¸€å—åˆå§‹ç©ºé—´ï¼ˆå¯èƒ½ä¸ºç©ºï¼‰ï¼Œåç»­å†™å…¥æ•°æ®æ—¶å†é€æ­¥å¡«å……ã€‚</p>
<p>è‹¥éœ€è¦åˆå§‹åŒ–ä¸€ä¸ªå›ºå®šé•¿åº¦ä¸”å€¼ç»Ÿä¸€çš„æ•°ç»„ï¼Œæ¨èä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">6</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// [0, 0, 0, 0, 0, 0]</span>
</code></pre>
<p>è¿™ç§æ–¹å¼ä¸€æ¬¡æ€§åˆ†é…è¿ç»­å†…å­˜å¹¶å®Œæˆåˆå§‹åŒ–ï¼Œé¿å…äº†é€ä¸ªèµ‹å€¼çš„å¼€é”€ã€‚</p>
<hr/>
<h3 data-id="heading-2">äºŒã€åˆ›å»ºæ•°ç»„ï¼šå›ºå®šé•¿åº¦ vs åŠ¨æ€æ‰©å®¹</h3>
<p>æ•°ç»„çš„åˆ›å»ºæ–¹å¼çœ‹ä¼¼ç®€å•ï¼Œå®åˆ™æ¶‰åŠå†…å­˜è§„åˆ’çš„æƒè¡¡ã€‚</p>
<ul>
<li><strong>å·²çŸ¥å…ƒç´ å†…å®¹</strong>ï¼šç›´æ¥ä½¿ç”¨å­—é¢é‡ <code>const arr = [1, 2, 3]</code> æœ€é«˜æ•ˆï¼Œå†…å­˜ç²¾å‡†åŒ¹é…ã€‚</li>
<li><strong>ä»…çŸ¥é•¿åº¦</strong>ï¼šå¯ç”¨ <code>new Array(n).fill(defaultValue)</code> é¢„åˆ†é…ç©ºé—´ã€‚</li>
</ul>
<p>ä½†è¦æ³¨æ„ï¼š</p>
<ul>
<li>è‹¥é¢„ä¼°é•¿åº¦<strong>è¿‡å¤§</strong>ï¼Œä¼šé€ æˆå†…å­˜æµªè´¹ï¼›</li>
<li>è‹¥é¢„ä¼°é•¿åº¦<strong>è¿‡å°</strong>ï¼Œåç»­æ’å…¥è¶…å‡ºèŒƒå›´çš„å…ƒç´ æ—¶ï¼ŒJavaScript å¼•æ“ä¼šè§¦å‘<strong>åŠ¨æ€æ‰©å®¹</strong>ã€‚</li>
</ul>
<p>æ‰©å®¹è¿‡ç¨‹ç±»ä¼¼â€œæ¬å®¶â€ï¼šç”³è¯·æ›´å¤§çš„è¿ç»­å†…å­˜å— â†’ å¤åˆ¶æ—§æ•°æ® â†’ é‡Šæ”¾åŸç©ºé—´ã€‚è¿™ä¸€è¿‡ç¨‹æ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œé¢‘ç¹æ‰©å®¹ä¼šå½±å“æ€§èƒ½ã€‚</p>
<blockquote>
<p>ğŸ’¡ å°ç»“ï¼šæ•°ç»„é€‚åˆ<strong>è¯»å¤šå†™å°‘ã€é•¿åº¦ç›¸å¯¹ç¨³å®š</strong>çš„åœºæ™¯ï¼›è‹¥éœ€é¢‘ç¹å¢åˆ ï¼Œé“¾è¡¨ç­‰ç¦»æ•£ç»“æ„å¯èƒ½æ›´åˆé€‚ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-3">ä¸‰ã€éå†æ•°ç»„ï¼šæ€§èƒ½ä¸å¯è¯»æ€§çš„å¹³è¡¡</h3>
<p>JavaScript æä¾›äº†å¤šç§éå†æ–¹å¼ï¼Œå®ƒä»¬åœ¨æ€§èƒ½ã€çµæ´»æ€§å’Œå¯è¯»æ€§ä¸Šå„æœ‰ä¾§é‡ã€‚</p>
<h4 data-id="heading-4">1. ä¼ ç»Ÿ for å¾ªç¯ï¼šæ€§èƒ½æœ€ä¼˜</h4>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">arr</span> = new Array(<span class="hljs-number">6</span>).fill(<span class="hljs-number">0</span>)<span class="hljs-comment">;</span>
const <span class="hljs-attr">len</span> = arr.length<span class="hljs-comment">;</span>
for (let <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; len; i++) {</span>
  console.log(arr<span class="hljs-section">[i]</span>)<span class="hljs-comment">;</span>
}
</code></pre>
<ul>
<li>ç›´æ¥é€šè¿‡ç´¢å¼•è®¿é—®ï¼Œæ— å‡½æ•°è°ƒç”¨å¼€é”€ï¼›</li>
<li>ç¼“å­˜ <code>length</code> å¯é¿å…é‡å¤è¯»å–å±æ€§ï¼ˆç°ä»£å¼•æ“è™½å·²ä¼˜åŒ–ï¼Œä½†ä»å±è‰¯å¥½ä¹ æƒ¯ï¼‰ï¼›</li>
<li><strong>é€‚åˆå¤§æ•°æ®é‡æˆ–æ€§èƒ½æ•æ„Ÿåœºæ™¯</strong>ã€‚</li>
</ul>
<h4 data-id="heading-5">2. forEachï¼šç®€æ´ä½†æ— æ³•ä¸­æ–­</h4>
<pre><code class="hljs language-javascript" lang="javascript">arr.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(item, index);
});
</code></pre>
<ul>
<li>ä¼˜ç‚¹ï¼šè¯­ä¹‰æ¸…æ™°ï¼Œæ— éœ€ç®¡ç†ç´¢å¼•ï¼›</li>
<li>ç¼ºç‚¹ï¼š<strong>ä¸æ”¯æŒ <code>break</code> æˆ– <code>continue</code></strong>ï¼Œä¸”æ¯æ¬¡è¿­ä»£éƒ½æœ‰å‡½æ•°è°ƒç”¨å¼€é”€ï¼›</li>
<li><strong>é€‚ç”¨äºçº¯éå†ã€æ— éœ€ä¸­æ–­çš„åœºæ™¯</strong>ã€‚</li>
</ul>
<h4 data-id="heading-6">3. mapï¼šç”¨äºæ•°æ®è½¬æ¢</h4>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">newArr</span> = arr.map(item =&gt; item + <span class="hljs-number">1</span>)<span class="hljs-comment">;</span>
</code></pre>
<ul>
<li>è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œ<strong>ä¸ä¿®æ”¹åŸæ•°ç»„</strong>ï¼›</li>
<li>é€‚åˆâ€œéå† + åŠ å·¥â€çš„éœ€æ±‚ï¼›</li>
<li>æ³¨æ„ï¼šä¸è¦ç”¨ <code>map</code> ä»…åšéå†ï¼ˆä¼šäº§ç”Ÿæ— ç”¨çš„æ–°æ•°ç»„ï¼Œæµªè´¹å†…å­˜ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-7">4. for...ofï¼šES6 çš„ä¼˜é›…ä¹‹é€‰</h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> item of arr) {
  console.<span class="hljs-built_in">log</span>(item);
}
</code></pre>
<ul>
<li>ç›´æ¥è·å–å…ƒç´ å€¼ï¼Œè¯­æ³•ç®€æ´ï¼›</li>
<li>æ”¯æŒ <code>break</code>/<code>continue</code>ï¼›</li>
<li>æ€§èƒ½æ¥è¿‘ <code>for</code> å¾ªç¯ï¼Œè¿œä¼˜äº <code>forEach</code>ï¼›</li>
<li><strong>æ—¥å¸¸å¼€å‘æ¨èä½¿ç”¨</strong>ã€‚</li>
</ul>
<h4 data-id="heading-8">5. for...inï¼šæ…ç”¨äºæ•°ç»„ï¼</h4>
<p><code>for...in</code> çš„è®¾è®¡åˆè¡·æ˜¯<strong>éå†å¯¹è±¡çš„å¯æšä¸¾å±æ€§</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">obj</span> = { name: <span class="hljs-string">"å°æ˜"</span>, age: <span class="hljs-number">18</span> }<span class="hljs-comment">;</span>
for (let key in obj) {
  console.log(key, obj<span class="hljs-section">[key]</span>)<span class="hljs-comment">;</span>
}
</code></pre>
<p>è™½ç„¶æ•°ç»„åœ¨ JavaScript ä¸­ä¹Ÿæ˜¯å¯¹è±¡ï¼ˆç´¢å¼•å³å±æ€§åï¼‰ï¼Œä½†ä½¿ç”¨ <code>for...in</code> éå†æ•°ç»„å­˜åœ¨é£é™©ï¼š</p>
<ul>
<li>å¯èƒ½éå†åˆ°åŸå‹é“¾ä¸Šçš„å±æ€§ï¼ˆè‹¥æœªæ­£ç¡®è®¾ç½®ï¼‰ï¼›</li>
<li>å±æ€§åæ˜¯å­—ç¬¦ä¸²ï¼ˆå¦‚ <code>"0"</code>ï¼‰ï¼Œéæ•°å­—ï¼›</li>
<li>éå†é¡ºåºä¸ä¿è¯ï¼ˆå°½ç®¡é€šå¸¸æŒ‰ç´¢å¼•é¡ºåºï¼‰ã€‚</li>
</ul>
<p>âœ… <strong>å»ºè®®</strong>ï¼šæ•°ç»„éå†è¯·ä¼˜å…ˆä½¿ç”¨ <code>for</code>ã€<code>for...of</code> æˆ–å‡½æ•°å¼æ–¹æ³•ï¼Œ<strong>é¿å…ä½¿ç”¨ <code>for...in</code></strong>ã€‚</p>
<hr/>
<h3 data-id="heading-9">å››ã€æ•°ç»„ vs å…¶ä»–æ•°æ®ç»“æ„ï¼šå¦‚ä½•é€‰æ‹©ï¼Ÿ</h3>
<p>æ•°ç»„æ˜¯çº¿æ€§ç»“æ„çš„ä»£è¡¨ï¼Œä½†åœ¨ä¸åŒåœºæ™¯ä¸‹ï¼Œå…¶ä»–æ•°æ®ç»“æ„å¯èƒ½æ›´åˆé€‚ï¼š</p>






























<table><thead><tr><th>æ•°æ®ç»“æ„</th><th>ç‰¹ç‚¹</th><th>ä¼˜åŠ¿åœºæ™¯</th></tr></thead><tbody><tr><td><strong>æ ˆ</strong></td><td>å…ˆè¿›åå‡ºï¼ˆFILOï¼‰</td><td>å‡½æ•°è°ƒç”¨ã€æ’¤é”€æ“ä½œã€æ‹¬å·åŒ¹é…</td></tr><tr><td><strong>é˜Ÿåˆ—</strong></td><td>å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰</td><td>ä»»åŠ¡è°ƒåº¦ã€BFSã€æ¶ˆæ¯ç¼“å†²</td></tr><tr><td><strong>é“¾è¡¨</strong></td><td>èŠ‚ç‚¹ç¦»æ•£ï¼ŒæŒ‡é’ˆè¿æ¥</td><td>é¢‘ç¹æ’å…¥/åˆ é™¤ï¼ˆå¦‚è´­ç‰©è½¦ã€æ’­æ”¾åˆ—è¡¨ï¼‰</td></tr><tr><td><strong>æ ‘</strong></td><td>å±‚çº§ç»“æ„ï¼ˆå¦‚äºŒå‰æ ‘ï¼‰</td><td>åˆ†ç±»æ•°æ®ã€DOM ç»“æ„ã€æœç´¢ç´¢å¼•</td></tr></tbody></table>
<p>æ•°ç»„çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äº<strong>éšæœºè®¿é—®å¿«</strong>ï¼Œé€‚åˆä»¥è¯»å–ä¸ºä¸»ã€é•¿åº¦ç¨³å®šçš„åœºæ™¯ï¼›è€Œé“¾è¡¨åœ¨åŠ¨æ€å¢åˆ ä¸Šæ›´é«˜æ•ˆï¼Œæ ‘ç»“æ„åˆ™æ“…é•¿å¤„ç†å±‚çº§å…³ç³»ã€‚</p>
<hr/>
<h3 data-id="heading-10">äº”ã€ç»å…¸é™·é˜±ï¼šå¾ªç¯ä¸­çš„å¼‚æ­¥ä¸ä½œç”¨åŸŸ</h3>
<p>æœ€åæ¥çœ‹ä¸€ä¸ªå¸¸è§é¢è¯•é¢˜ï¼Œæ¶‰åŠéå†ä¸å¼‚æ­¥çš„ç»“åˆï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨ var</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i), <span class="hljs-number">100</span>); <span class="hljs-comment">// è¾“å‡º 10 ä¸ª 10</span>
}

<span class="hljs-comment">// ä½¿ç”¨ let</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i), <span class="hljs-number">100</span>); <span class="hljs-comment">// è¾“å‡º 0 åˆ° 9</span>
}
</code></pre>
<ul>
<li><code>var</code> æ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œæ‰€æœ‰å›è°ƒå…±äº«åŒä¸€ä¸ª <code>i</code>ï¼Œå¾ªç¯ç»“æŸå <code>i === 10</code>ï¼›</li>
<li><code>let</code> åœ¨æ¯æ¬¡å¾ªç¯ä¸­åˆ›å»ºç‹¬ç«‹çš„è¯æ³•ç¯å¢ƒï¼Œæ¯ä¸ªå›è°ƒæ•è·çš„æ˜¯å½“å‰è¿­ä»£çš„ <code>i</code> å€¼ã€‚</li>
</ul>
<p>è¿™ä¸ªä¾‹å­æé†’æˆ‘ä»¬ï¼š<strong>ç†è§£ä½œç”¨åŸŸæœºåˆ¶ï¼Œæ˜¯å†™å‡ºæ­£ç¡®å¼‚æ­¥ä»£ç çš„å‰æ</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-11">æ€»ç»“</h3>
<p>JavaScript æ•°ç»„è™½ç®€å•ï¼Œå´èåˆäº†å†…å­˜ç®¡ç†ã€æ€§èƒ½ä¼˜åŒ–ä¸è¯­è¨€ç‰¹æ€§ç­‰å¤šç»´åº¦çŸ¥è¯†ï¼š</p>
<ul>
<li>åˆç†åˆå§‹åŒ–æ•°ç»„ï¼Œå¯å‡å°‘å†…å­˜æµªè´¹ï¼›</li>
<li>æ ¹æ®åœºæ™¯é€‰æ‹©éå†æ–¹å¼ï¼Œå…¼é¡¾æ€§èƒ½ä¸å¯ç»´æŠ¤æ€§ï¼›</li>
<li>åœ¨åŠ¨æ€æ€§å¼ºæˆ–å±‚çº§å¤æ‚çš„æ•°æ®åœºæ™¯ä¸­ï¼Œçµæ´»é€‰ç”¨é“¾è¡¨ã€æ ˆã€æ ‘ç­‰ç»“æ„ï¼›</li>
<li>é¿å…å¸¸è§é™·é˜±ï¼ˆå¦‚ <code>for...in</code> éå†æ•°ç»„ã€<code>var</code> å¾ªç¯é—­åŒ…é—®é¢˜ï¼‰ã€‚</li>
</ul>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CSSå®šä½å…¨è§£æï¼šä»é™æ€åˆ°ç²˜æ€§ï¼ŒæŒæ¡å…ƒç´ å¸ƒå±€çš„æ ¸å¿ƒæŠ€å·§]]></title>    <link>https://juejin.cn/post/7571725550709489691</link>    <guid>https://juejin.cn/post/7571725550709489691</guid>    <pubDate>2025-11-12T16:12:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571725550709489691" data-draft-id="7571729682678235186" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CSSå®šä½å…¨è§£æï¼šä»é™æ€åˆ°ç²˜æ€§ï¼ŒæŒæ¡å…ƒç´ å¸ƒå±€çš„æ ¸å¿ƒæŠ€å·§"/> <meta itemprop="keywords" content="CSS"/> <meta itemprop="datePublished" content="2025-11-12T16:12:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·1203911294726"/> <meta itemprop="url" content="https://juejin.cn/user/2517262684662348"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CSSå®šä½å…¨è§£æï¼šä»é™æ€åˆ°ç²˜æ€§ï¼ŒæŒæ¡å…ƒç´ å¸ƒå±€çš„æ ¸å¿ƒæŠ€å·§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2517262684662348/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·1203911294726
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T16:12:37.000Z" title="Wed Nov 12 2025 16:12:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">CSSå®šä½å…¨è§£æï¼šä»é™æ€åˆ°ç²˜æ€§ï¼ŒæŒæ¡å…ƒç´ å¸ƒå±€çš„æ ¸å¿ƒæŠ€å·§</h2>
<p>åœ¨ç½‘é¡µå¼€å‘ä¸­ï¼ŒCSSå®šä½æ˜¯æ§åˆ¶å…ƒç´ å¸ƒå±€çš„æ ¸å¿ƒæŠ€æœ¯ä¹‹ä¸€ã€‚ä¸åŒçš„å®šä½æ–¹å¼å¯ä»¥è®©å…ƒç´ åœ¨é¡µé¢ä¸Šä»¥å„ç§æ–¹å¼æ’åˆ—å’Œäº¤äº’ã€‚æœ¬æ–‡å°†æ·±å…¥è§£æCSSä¸­çš„å„ç§å®šä½æ–¹å¼ï¼Œå¸®åŠ©å‰ç«¯å¼€å‘è€…å½»åº•æŒæ¡è¿™ä¸€é‡è¦æ¦‚å¿µã€‚</p>
<h3 data-id="heading-1">1. æ–‡æ¡£æµä¸å®šä½åŸºç¡€</h3>
<p>åœ¨æ·±å…¥æ¢è®¨å„ç§å®šä½æ–¹å¼ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç†è§£ä»€ä¹ˆæ˜¯æ–‡æ¡£æµã€‚æ–‡æ¡£æµæ˜¯HTMLå…ƒç´ é»˜è®¤çš„å¸ƒå±€æ–¹å¼ï¼šå—çº§å…ƒç´ å‚ç›´æ’åˆ—ï¼Œè¡Œå†…å…ƒç´ æ°´å¹³æ’åˆ—ï¼Œéµå¾ªä»ä¸Šåˆ°ä¸‹ã€ä»å·¦åˆ°å³çš„è‡ªç„¶é¡ºåºã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æ–‡æ¡£æµç¤ºä¾‹<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        * { <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>; }
        <span class="hljs-selector-class">.block</span> { 
            <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>; 
            <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>; 
            <span class="hljs-attribute">background-color</span>: pink; 
            <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span>;
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"block"</span>&gt;</span>å—çº§å…ƒç´ 1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"block"</span>&gt;</span>å—çº§å…ƒç´ 2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>è¡Œå†…å…ƒç´ 1<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>è¡Œå†…å…ƒç´ 2<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h3 data-id="heading-2">2. ç›¸å¯¹å®šä½(Relative Positioning)</h3>
<p>ç›¸å¯¹å®šä½æ˜¯ç›¸å¯¹äºå…ƒç´ åœ¨æ–‡æ¡£æµä¸­çš„åŸå§‹ä½ç½®è¿›è¡Œå®šä½ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Relative ç›¸å¯¹å®šä½<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        *{
            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
        }
        <span class="hljs-selector-class">.parent</span>{
            <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;
            <span class="hljs-attribute">background-color</span>: pink;
            <span class="hljs-attribute">position</span>: relative;
            <span class="hljs-attribute">left</span>: <span class="hljs-number">100px</span>;
            <span class="hljs-attribute">top</span>:<span class="hljs-number">100px</span>;
        }
        <span class="hljs-selector-class">.child</span>{
            <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;
            <span class="hljs-attribute">background-color</span>: skyblue;
            <span class="hljs-attribute">position</span>: absolute;
        }
        <span class="hljs-selector-class">.box</span>{
            <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;
            <span class="hljs-attribute">background-color</span>: red;
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"parent"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"child"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc22712c9aa6498ba546e480ab34aff4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MTIwMzkxMTI5NDcyNg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763568756&amp;x-signature=oW0N4FvtN8Dbao6hZJcuE%2B%2FNXkE%3D" alt="0556b5234eebe36f871722d791372291.png" loading="lazy"/></p>
<p><strong>ç‰¹ç‚¹åˆ†æï¼š</strong></p>
<ul>
<li>ä¸ä¼šè„±ç¦»æ–‡æ¡£æµï¼ŒåŸå§‹ä½ç½®ç»§ç»­è¢«å ç”¨</li>
<li>åé¢çš„å…ƒç´ ä¾ç„¶ä»¥æ ‡å‡†æµæ–¹å¼å¯¹å¾…å®ƒ</li>
<li>é€šè¿‡topã€bottomã€leftã€rightå±æ€§è¿›è¡Œå¾®è°ƒ</li>
<li>å¸¸ç”¨äºå¾®è°ƒå…ƒç´ ä½ç½®æˆ–ä½œä¸ºç»å¯¹å®šä½å…ƒç´ çš„å‚è€ƒå®¹å™¨</li>
</ul>
<h3 data-id="heading-3">3. ç»å¯¹å®šä½(Absolute Positioning)</h3>
<p>ç»å¯¹å®šä½å…ƒç´ ä¼šè„±ç¦»æ–‡æ¡£æµï¼Œä¸å†å ç”¨åŸå§‹ç©ºé—´ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ç»å¯¹å®šä½ç¤ºä¾‹<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        *{
            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
        }
        <span class="hljs-selector-tag">body</span>{
            <span class="hljs-attribute">background-color</span>: azure;
        }
        <span class="hljs-selector-class">.parent</span>{
            <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.9</span>;
            <span class="hljs-attribute">width</span>: <span class="hljs-number">550px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;
            <span class="hljs-attribute">background-color</span>: pink;
            <span class="hljs-attribute">position</span>: relative;
        }
        <span class="hljs-selector-class">.child</span>{
            <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;
            <span class="hljs-attribute">background-color</span>: skyblue;
            <span class="hljs-attribute">position</span>: absolute;
            <span class="hljs-attribute">right</span>: <span class="hljs-number">100px</span>;
        }
        <span class="hljs-selector-class">.box</span>{
            <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;
            <span class="hljs-attribute">background-color</span>: green;
            <span class="hljs-attribute">position</span>: absolute;
            <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;
            <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>;
            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>,-<span class="hljs-number">50%</span>);
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"parent"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"child"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>123<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>hello,world<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>456<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p><strong>å…³é”®ç‰¹æ€§ï¼š</strong></p>
<ul>
<li>è„±ç¦»æ–‡æ¡£æµï¼Œä¸å ç”¨ç©ºé—´</li>
<li>ç›¸å¯¹äºæœ€è¿‘çš„éstaticå®šä½ç¥–å…ˆå…ƒç´ å®šä½</li>
<li>å¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„ç¥–å…ˆå…ƒç´ ï¼Œåˆ™ç›¸å¯¹äºåˆå§‹åŒ…å«å—(é€šå¸¸æ˜¯body)</li>
<li>å¸¸ç”¨äºåˆ›å»ºæµ®åŠ¨å…ƒç´ ã€å¯¹è¯æ¡†ã€ä¸‹æ‹‰èœå•ç­‰</li>
</ul>
<p><strong>å±…ä¸­æŠ€å·§ï¼š</strong> ä½¿ç”¨ç»å¯¹å®šä½å®ç°å…ƒç´ å±…ä¸­æ˜¯ä¸€ç§å¸¸è§æŠ€å·§ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.center</span> {
    <span class="hljs-attribute">position</span>: absolute;
    <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>;
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>, -<span class="hljs-number">50%</span>);
}
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9cf73c1eafc04caab8efba55206ff207~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MTIwMzkxMTI5NDcyNg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763568756&amp;x-signature=S1avdQayzyNhPuQuw8n17p7ucKU%3D" alt="fc7f5c6151ddce40d040ec16eedab012.png" loading="lazy"/></p>
<h3 data-id="heading-4">4. å›ºå®šå®šä½(Fixed Positioning)</h3>
<p>å›ºå®šå®šä½å…ƒç´ ç›¸å¯¹äºæµè§ˆå™¨çª—å£è¿›è¡Œå®šä½ï¼Œä¸éšé¡µé¢æ»šåŠ¨è€Œç§»åŠ¨ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å›ºå®šå®šä½ç¤ºä¾‹<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        *{
            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
        }
        <span class="hljs-selector-tag">body</span>{
            <span class="hljs-attribute">height</span>: <span class="hljs-number">2000px</span>;
        }
        <span class="hljs-selector-class">.parent</span>{
            <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;
            <span class="hljs-attribute">background-color</span>: pink;
        }
        <span class="hljs-selector-class">.box</span>{
            <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;
            <span class="hljs-attribute">background-color</span>: green;
        }
        <span class="hljs-selector-class">.child</span>{
            <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;
            <span class="hljs-attribute">background-color</span>: blue;
            <span class="hljs-attribute">position</span>: fixed;
            <span class="hljs-attribute">right</span>: <span class="hljs-number">100px</span>;
            <span class="hljs-attribute">bottom</span>: <span class="hljs-number">100px</span>;
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"parent"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"child"</span>&gt;</span>å›ºå®šå®šä½å…ƒç´ <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å›ºå®šå¯¼èˆªæ </li>
<li>å›åˆ°é¡¶éƒ¨æŒ‰é’®</li>
<li>ä¾§è¾¹å¹¿å‘Šæ </li>
<li>æ¨¡æ€å¯¹è¯æ¡†</li>
</ul>
<h3 data-id="heading-5">5. ç²˜æ€§å®šä½(Sticky Positioning)</h3>
<p>ç²˜æ€§å®šä½æ˜¯ç›¸å¯¹å®šä½å’Œå›ºå®šå®šä½çš„æ··åˆä½“ï¼Œåœ¨è·¨è¶Šç‰¹å®šé˜ˆå€¼å‰ä¸ºç›¸å¯¹å®šä½ï¼Œä¹‹åä¸ºå›ºå®šå®šä½ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ç²˜æ€§å®šä½ç¤ºä¾‹<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        *{
            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
        }
        <span class="hljs-selector-class">.parent</span>{
            <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;
            <span class="hljs-attribute">background-color</span>: pink;
        }
        <span class="hljs-selector-class">.child</span>{
            <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;
            <span class="hljs-attribute">background-color</span>: blue;
        }
        <span class="hljs-selector-class">.box</span>{
            <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;
            <span class="hljs-attribute">background-color</span>: green;
            <span class="hljs-attribute">position</span>: sticky;
            <span class="hljs-attribute">top</span>: <span class="hljs-number">100px</span>;
        }
        <span class="hljs-selector-tag">body</span>{
            <span class="hljs-attribute">height</span>: <span class="hljs-number">2000px</span>;
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"parent"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"child"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>hello,world<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p><strong>ä½¿ç”¨è¦ç‚¹ï¼š</strong></p>
<ul>
<li>å¿…é¡»æŒ‡å®štopã€bottomã€leftæˆ–rightè‡³å°‘ä¸€ä¸ªé˜ˆå€¼</li>
<li>åœ¨çˆ¶å®¹å™¨å†…æ»šåŠ¨æ—¶ç”Ÿæ•ˆ</li>
<li>å…¼å®¹æ€§è¾ƒå¥½ï¼Œä½†éœ€è¦æµ‹è¯•ç›®æ ‡æµè§ˆå™¨æ”¯æŒæƒ…å†µ</li>
<li>å¸¸ç”¨äºè¡¨æ ¼æ ‡é¢˜å›ºå®šã€å¯¼èˆªæ æ»šåŠ¨å›ºå®šç­‰åœºæ™¯</li>
</ul>
<h3 data-id="heading-6">6. é™æ€å®šä½(Static Positioning)</h3>
<p>é™æ€å®šä½æ˜¯å…ƒç´ çš„é»˜è®¤å®šä½æ–¹å¼ï¼Œå…ƒç´ éµå¾ªæ­£å¸¸çš„æ–‡æ¡£æµã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>é™æ€å®šä½ç¤ºä¾‹<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        *{
            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
        }
        <span class="hljs-selector-class">.parent</span>{
            <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;
            <span class="hljs-attribute">background-color</span>: pink;
            <span class="hljs-attribute">left</span>: <span class="hljs-number">100px</span>;
            <span class="hljs-attribute">top</span>: <span class="hljs-number">100px</span>;
            <span class="hljs-attribute">position</span>: absolute;
        }
        <span class="hljs-selector-class">.child</span>{
            <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;
            <span class="hljs-attribute">background-color</span>: blue;
        }
        <span class="hljs-selector-class">.box</span>{
            <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;
            <span class="hljs-attribute">background-color</span>: green;
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"parent"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"child"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>hello,world<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-keyword">const</span> oParent = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'.parent'</span>);
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>{
            oParent.<span class="hljs-property">style</span>.<span class="hljs-property">position</span>=<span class="hljs-string">'static'</span>;
        },<span class="hljs-number">5000</span>)
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p><strong>é‡è¦ç‰¹æ€§ï¼š</strong></p>
<ul>
<li>é»˜è®¤å®šä½æ–¹å¼ï¼Œå…ƒç´ å¤„äºæ­£å¸¸æ–‡æ¡£æµä¸­</li>
<li>å¿½ç•¥topã€bottomã€leftã€rightå’Œz-indexå±æ€§</li>
<li>å¸¸ç”¨äºå–æ¶ˆå…ƒç´ çš„å®šä½å±æ€§</li>
</ul>
<h3 data-id="heading-7">7. å®šä½å®æˆ˜æŠ€å·§ä¸æ³¨æ„äº‹é¡¹</h3>
<h4 data-id="heading-8">7.1 z-indexä¸å±‚å ä¸Šä¸‹æ–‡</h4>
<p>å®šä½å…ƒç´ ä¼šåˆ›å»ºæ–°çš„å±‚å ä¸Šä¸‹æ–‡ï¼Œz-indexå±æ€§æ§åˆ¶å‚ç›´æ–¹å‘ä¸Šçš„å †å é¡ºåºï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.element</span> {
    <span class="hljs-attribute">position</span>: relative;
    <span class="hljs-attribute">z-index</span>: <span class="hljs-number">10</span>; <span class="hljs-comment">/* æ•°å€¼è¶Šå¤§ï¼Œæ˜¾ç¤ºåœ¨è¶Šä¸Šå±‚ */</span>
}
</code></pre>
<h4 data-id="heading-9">7.2 å®šä½ä¸å“åº”å¼è®¾è®¡</h4>
<p>åœ¨ä½¿ç”¨å®šä½æ—¶éœ€è¦è€ƒè™‘å“åº”å¼è®¾è®¡ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">768px</span>) {
    <span class="hljs-selector-class">.fixed-element</span> {
        <span class="hljs-attribute">position</span>: relative;
        <span class="hljs-attribute">right</span>: auto;
        <span class="hljs-attribute">bottom</span>: auto;
    }
}
</code></pre>
<h4 data-id="heading-10">7.3 æ€§èƒ½è€ƒè™‘</h4>
<ul>
<li>â€¢è¿‡å¤šä½¿ç”¨å›ºå®šå®šä½å’Œç»å¯¹å®šä½å¯èƒ½å½±å“é¡µé¢æ€§èƒ½</li>
<li>â€¢å˜æ¢åŠ¨ç”»æ—¶è€ƒè™‘ä½¿ç”¨transformè€Œä¸æ˜¯å®šä½å±æ€§</li>
<li>â€¢é¿å…åœ¨æ»šåŠ¨äº‹ä»¶ä¸­é¢‘ç¹ä¿®æ”¹å®šä½å±æ€§</li>
</ul>
<h3 data-id="heading-11">8. æ€»ç»“</h3>
<p>CSSå®šä½æ˜¯å‰ç«¯å¼€å‘ä¸­çš„æ ¸å¿ƒæŠ€èƒ½ï¼Œä¸åŒçš„å®šä½æ–¹å¼é€‚ç”¨äºä¸åŒçš„åœºæ™¯ï¼š</p>
<ul>
<li>â€¢<strong>é™æ€å®šä½</strong>ï¼šé»˜è®¤å¸ƒå±€æ–¹å¼ï¼Œé€‚ç”¨äºå¤§å¤šæ•°å¸¸è§„å¸ƒå±€</li>
<li>â€¢<strong>ç›¸å¯¹å®šä½</strong>ï¼šå¾®è°ƒå…ƒç´ ä½ç½®ï¼Œä¿æŒæ–‡æ¡£æµç»“æ„</li>
<li>â€¢<strong>ç»å¯¹å®šä½</strong>ï¼šåˆ›å»ºæµ®åŠ¨å…ƒç´ ï¼Œç²¾ç¡®å®šä½</li>
<li>â€¢<strong>å›ºå®šå®šä½</strong>ï¼šç›¸å¯¹äºè§†å£å›ºå®šï¼Œé€‚åˆå¯¼èˆªå’Œå¹¿å‘Š</li>
<li>â€¢<strong>ç²˜æ€§å®šä½</strong>ï¼šæ»šåŠ¨æ—¶åˆ‡æ¢å®šä½æ–¹å¼ï¼Œå¢å¼ºç”¨æˆ·ä½“éªŒ</li>
</ul>
<p>æŒæ¡è¿™äº›å®šä½æ–¹å¼å¹¶ç†è§£å®ƒä»¬çš„é€‚ç”¨åœºæ™¯ï¼Œå°†å¸®åŠ©ä½ åˆ›å»ºå‡ºæ›´åŠ ç²¾ç¾å’ŒåŠŸèƒ½ä¸°å¯Œçš„ç½‘é¡µå¸ƒå±€ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œæ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„å®šä½æ–¹å¼ï¼Œå¹¶æ³¨æ„å…¼å®¹æ€§å’Œæ€§èƒ½é—®é¢˜ï¼Œæ‰èƒ½æ‰“é€ å‡ºä¼˜ç§€çš„ç”¨æˆ·ä½“éªŒã€‚ å¸Œæœ›æœ¬æ–‡èƒ½å¸®åŠ©ä½ æ·±å…¥ç†è§£CSSå®šä½ï¼Œå¦‚æœæœ‰ä»»ä½•ç–‘é—®æˆ–æƒ³æ³•ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµè®¨è®ºï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æœ€æ–°Eslint9+prettier+Huskyæš‚å­˜åŒºé…ç½®ï¼ˆåŸºäºVue)]]></title>    <link>https://juejin.cn/post/7571662618056146970</link>    <guid>https://juejin.cn/post/7571662618056146970</guid>    <pubDate>2025-11-12T17:23:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571662618056146970" data-draft-id="7571678674145755146" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æœ€æ–°Eslint9+prettier+Huskyæš‚å­˜åŒºé…ç½®ï¼ˆåŸºäºVue)"/> <meta itemprop="keywords" content="ä»£ç è§„èŒƒ"/> <meta itemprop="datePublished" content="2025-11-12T17:23:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JaneHe"/> <meta itemprop="url" content="https://juejin.cn/user/3280598429350967"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æœ€æ–°Eslint9+prettier+Huskyæš‚å­˜åŒºé…ç½®ï¼ˆåŸºäºVue)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3280598429350967/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JaneHe
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T17:23:41.000Z" title="Wed Nov 12 2025 17:23:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    12
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€ï¼šEslintæ˜¯ä¸€ç§ä»£ç è´¨é‡æ£€æŸ¥å·¥å…·ï¼Œç¡®ä¿ä»£ç ç¬¦åˆç›¸åº”è§„èŒƒï¼Œprettieræ˜¯ä¸€ä¸ªä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œæ€»è€Œè¨€ä¹‹ï¼ŒEslintæŸ¥é”™ï¼Œprettieræ”¹é”™ã€‚Huskyæ˜¯ä¸€ä¸ªGit Hookså·¥å…·ï¼Œåœ¨æŠŠä»£ç æäº¤ç»™ä»“åº“æ—¶è‡ªåŠ¨è§¦å‘å‰ä¸¤ä¸ªå·¥å…·ï¼Œç¡®ä¿æ¯æ¬¡æäº¤ç»™ä»“åº“çš„ä»£ç éƒ½ç¬¦åˆé¡¹ç›®æ ‡å‡†ã€‚</h3>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±åŸºäºåˆ›å»ºVueé¡¹ç›®æ—¶é…ç½®è¿™ä¸‰ä¸ªå·¥å…·ã€‚</p>
<h3 data-id="heading-1">1.é¦–å…ˆåˆ›å»ºä¸€ä¸ªVue3é¡¹ç›®</h3>
<p>1.1 ä¸‹è½½pnpm åŒ…ç®¡ç†å™¨</p>
<pre><code class="hljs">npm install -g pnpm
</code></pre>
<p>1.2 åˆ›å»ºVue3é¡¹ç›®ï¼Œç›´æ¥è´´å›¾</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/448d27f54589480c97fe8334fb589381~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFuZUhl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763575172&amp;x-signature=BHNoXPQWJXjWk%2BF%2FjzoKYYR45Xw%3D" alt="f58a3239-258b-4bef-a925-78895e00b4b1.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b512f3eee0f94629854ef77bfc6aee90~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFuZUhl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763575172&amp;x-signature=sk9K58Uol%2F1KmFoU4mF0A5gahqo%3D" alt="378516b1-a0ad-481d-b006-547889d3165e.png" loading="lazy"/></p>
<h3 data-id="heading-2">2.æ­£å¼é…ç½®Eslint9+prettier+Husky</h3>
<p>2.1 é…ç½®è®¾ç½®æ–‡ä»¶</p>
<p>æ‰¾åˆ°è®¾ç½®æ–‡ä»¶<code>settings.json</code></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5786acdb746a4ba28fbd7a4f0e137bcc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFuZUhl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763575172&amp;x-signature=kJ4yUzT9K163ByXNwSqOmpzNiFQ%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ae2408296c344bdbeaefbe3a2623bf1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFuZUhl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763575172&amp;x-signature=4BGOWjaQGeTIjZPBeaSRhIVLeJ8%3D" alt="image.png" loading="lazy"/></p>
<p>é…ç½®ç¯å¢ƒï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0c362122d314fe3897d43903d9743ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFuZUhl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763575172&amp;x-signature=5m7hWJ%2BKa2xtvYALP3RMg92crFY%3D" alt="image.png" loading="lazy"/>
ä¸‹è½½åŒ…ï¼š</p>
<pre><code class="hljs language-css" lang="css">pnpm <span class="hljs-selector-tag">i</span> -D eslint-plugin-vue eslint-plugin-prettier
</code></pre>

<pre><code class="hljs language-arduino" lang="arduino">pnpm i -D prettier eslint-config-prettier
</code></pre>

<pre><code class="hljs language-bash" lang="bash">pnpm i -D @eslint/js @eslint/eslintrc
</code></pre>
<p>ç„¶ååœ¨<code>eslint.config.js</code>ä¸­å¯¼å…¥åŒ…ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> eslintConfigPrettier <span class="hljs-keyword">from</span> <span class="hljs-string">'@vue/eslint-config-prettier'</span> <span class="hljs-comment">//æ·»åŠ è¿™ä¸€è¡Œä»£ç </span>
<span class="hljs-keyword">import</span> eslintPluginPrettier <span class="hljs-keyword">from</span> <span class="hljs-string">'eslint-plugin-prettier/recommended'</span>
</code></pre>
<p>å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/354a8953d53043269439374e3d62a27b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFuZUhl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763575172&amp;x-signature=sXbecIMniS9hmA9VzVv%2BrTwSWZM%3D" alt="7605296d-40e0-421f-bb79-31bd28220add.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/98fa36d3bcb64ac18eacd2a0e542961d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFuZUhl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763575172&amp;x-signature=4y6kVkldR1jE0OrI%2BzrRCaIKC1M%3D" alt="image.png" loading="lazy"/>
æ¥ç€åœ¨defineConfigé‡Œé¢æ·»åŠ ruleså’Œåˆšåˆšä¸‹å¥½çš„åŒ…é…ç½®ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">   eslintConfigPrettier, <span class="hljs-comment">//æ·»åŠ è¿™ä¸€è¡Œä»£ç </span>
  eslintPluginPrettier, <span class="hljs-comment">// è§£å†³ prettier å’Œ eslint çš„å†²çªï¼Œæ¯”å¦‚ eslint é‡Œé¢æ˜¯ å¼€å¯ åŒå¼•å·ï¼Œprettier é‡Œé¢å¼€å¯å•å¼•å·</span>
  {
    rules: {
      <span class="hljs-string">'prettier/prettier'</span>: [
        <span class="hljs-string">'warn'</span>,
        {
          singleQuote: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å•å¼•å·</span>
          semi: <span class="hljs-literal">false</span>, <span class="hljs-comment">// æ— åˆ†å·</span>
          printWidth: <span class="hljs-number">100</span>, <span class="hljs-comment">// æ¯è¡Œå®½åº¦è‡³å¤š80å­—ç¬¦</span>
          trailingComma: <span class="hljs-string">'none'</span>, <span class="hljs-comment">// ä¸åŠ å¯¹è±¡|æ•°ç»„æœ€åé€—å·</span>
          endOfLine: <span class="hljs-string">'auto'</span> <span class="hljs-comment">// æ¢è¡Œç¬¦å·ä¸é™åˆ¶ï¼ˆwin mac ä¸ä¸€è‡´ï¼‰</span>
        }
      ],
      <span class="hljs-string">'vue/multi-word-component-names'</span>: [
        <span class="hljs-string">'warn'</span>,
        {
          ignores: [<span class="hljs-string">'index'</span>] <span class="hljs-comment">// vueç»„ä»¶åç§°å¤šå•è¯ç»„æˆï¼ˆå¿½ç•¥index.vueï¼‰</span>
        }
      ],
      <span class="hljs-string">'vue/no-setup-props-destructure'</span>: [<span class="hljs-string">'off'</span>], <span class="hljs-comment">// å…³é—­ props è§£æ„çš„æ ¡éªŒ</span>
      <span class="hljs-comment">// ğŸ’¡ æ·»åŠ æœªå®šä¹‰å˜é‡é”™è¯¯æç¤ºï¼Œcreate-vue@3.6.3 å…³é—­ï¼Œè¿™é‡ŒåŠ ä¸Šæ˜¯ä¸ºäº†æ”¯æŒä¸‹ä¸€ä¸ªç« èŠ‚æ¼”ç¤ºã€‚</span>
      <span class="hljs-string">'no-undef'</span>: <span class="hljs-string">'error'</span>
    }
  },
</code></pre>
<p>å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1abe9be2f8204907a8985672f8a1bfb0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFuZUhl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763575172&amp;x-signature=Wka2evK3tAcJDhJ3uvWmsXL0iGI%3D" alt="image.png" loading="lazy"/></p>
<p>ç„¶åé…ç½®Husky,å…ˆåœ¨ç»ˆç«¯é‡Œåˆå§‹åŒ–ä»“åº“</p>
<pre><code class="hljs language-csharp" lang="csharp">git <span class="hljs-keyword">init</span>
</code></pre>
<p>åˆå§‹åŒ–Husky å·¥å…·é…ç½®</p>
<pre><code class="hljs language-csharp" lang="csharp">pnpm dlx husky-<span class="hljs-keyword">init</span> &amp;&amp; pnpm install
</code></pre>
<p>lint-staged é…ç½®</p>
<pre><code class="hljs language-css" lang="css">pnpm <span class="hljs-selector-tag">i</span> -D lint-staged
</code></pre>
<p>é…ç½® <code>package.json</code></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f80cadc4893400a8ec0fe5893f71553~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFuZUhl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763575172&amp;x-signature=C8j4D6m65YMjNxnMHlreS2Npki8%3D" alt="image.png" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a14864a3569749589ce119313adfc1f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFuZUhl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763575172&amp;x-signature=kLDRkKcdUA3uobfH4lttBJKrcFg%3D" alt="07c48257-e1c7-43bd-8db9-96832d995116.png" loading="lazy"/></p>
<p>ä¿®æ”¹ <code>.husky/pre-commit</code> æ–‡ä»¶</p>
<pre><code class="hljs">pnpm lint-staged
</code></pre>
<p>å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c37669cac9a42e4becffef499ed473d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFuZUhl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763575172&amp;x-signature=TWuFzKf%2Fo0ymSf%2Fbos%2FkJesMioE%3D" alt="image.png" loading="lazy"/></p>
<p>ç»¼ä¸Šï¼Œä½ å°±é…ç½®å®Œäº†æœ€æ–°çš„eslint9+prettier+Huskyï¼ï¼
è¡¥ï¼šè¿™é‡Œåªå¼€å¯äº†eslintæ’ä»¶ï¼Œå…³é—­äº†perttieræ’ä»¶</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CSS ä¹Ÿè¦æ”¯æŒ if äº† ï¼ï¼ï¼CSS if() å‡½æ•°æ¥äº†ï¼]]></title>    <link>https://juejin.cn/post/7571758212472897587</link>    <guid>https://juejin.cn/post/7571758212472897587</guid>    <pubDate>2025-11-12T23:58:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571758212472897587" data-draft-id="7571758212472881203" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CSS ä¹Ÿè¦æ”¯æŒ if äº† ï¼ï¼ï¼CSS if() å‡½æ•°æ¥äº†ï¼"/> <meta itemprop="keywords" content="å‰ç«¯,CSS"/> <meta itemprop="datePublished" content="2025-11-12T23:58:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BingoGo"/> <meta itemprop="url" content="https://juejin.cn/user/993614242266077"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CSS ä¹Ÿè¦æ”¯æŒ if äº† ï¼ï¼ï¼CSS if() å‡½æ•°æ¥äº†ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/993614242266077/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BingoGo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T23:58:11.000Z" title="Wed Nov 12 2025 23:58:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">CSS ä¹Ÿè¦æ”¯æŒ if äº† ï¼ï¼ï¼CSS if() å‡½æ•°æ¥äº†ï¼</h2>
<p>CSS <code>if()</code> å‡½æ•°å…è®¸åœ¨çº¯ CSS ä¸­åŸºäºæ¡ä»¶ä¸ºå±æ€§èµ‹å€¼ï¼Œæ— éœ€ JavaScript æˆ–é¢„å¤„ç†å™¨ã€‚è¯¥å‡½æ•°å·²åœ¨ Chrome 137 å‘å¸ƒã€‚</p>
<p>è¿‡å»å¸¸ç”¨çš„åšæ³•åŒ…æ‹¬é€šè¿‡ JavaScript åˆ‡æ¢ç±»åã€ä½¿ç”¨é¢„å¤„ç†å™¨ mixin æˆ–ç¼–å†™å¤§é‡åª’ä½“æŸ¥è¯¢ã€‚<code>if()</code> å°†æ¡ä»¶é€»è¾‘å¼•å…¥ CSSï¼Œä½¿å†™æ³•æ›´ç›´æ¥ã€æ€§èƒ½ç¨³å®šã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcatchadmin.com%2Fpost%2F2025-11%2Fcss-if-function-has-arrived" target="_blank" title="https://catchadmin.com/post/2025-11/css-if-function-has-arrived" ref="nofollow noopener noreferrer">åŸæ–‡ CSS ä¹Ÿè¦æ”¯æŒ if äº† ï¼ï¼ï¼CSS if() å‡½æ•°æ¥äº†ï¼</a></p>
<h3 data-id="heading-1">å·¥ä½œåŸç†</h3>
<pre><code class="hljs language-css" lang="css">property: <span class="hljs-built_in">if</span>(condition-<span class="hljs-number">1</span>: value-<span class="hljs-number">1</span>; condition-<span class="hljs-number">2</span>: value-<span class="hljs-number">2</span>; condition-<span class="hljs-number">3</span>: value-<span class="hljs-number">3</span>; else: default-value);
</code></pre>
<p>å‡½æ•°æŒ‰é¡ºåºæ£€æŸ¥æ¡ä»¶å¹¶åº”ç”¨ç¬¬ä¸€ä¸ªåŒ¹é…çš„å€¼ï¼›è‹¥æ²¡æœ‰æ¡ä»¶åŒ¹é…ï¼Œåˆ™ä½¿ç”¨ <code>else</code> çš„å€¼ã€‚è¿™ä¸€è¯­ä¹‰ä¸å¸¸è§ç¼–ç¨‹è¯­è¨€ä¸€è‡´ï¼Œä½†å®ç°äºçº¯ CSSã€‚</p>
<h3 data-id="heading-2">if() çš„ä¸‰ç§èƒ½åŠ›</h3>
<h4 data-id="heading-3">æ ·å¼æŸ¥è¯¢ï¼ˆStyle queriesï¼‰</h4>
<p>ä½¿ç”¨ <code>style()</code> å¯å“åº” CSS è‡ªå®šä¹‰å±æ€§ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.card</span> {
  <span class="hljs-attr">--status</span>: <span class="hljs-built_in">attr</span>(data-status <span class="hljs-built_in">type</span>(&lt;custom-ident&gt;));

  <span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">if</span>(<span class="hljs-built_in">style</span>(--status: pending): royalblue; style(<span class="hljs-attr">--status</span>: complete): seagreen; style(<span class="hljs-attr">--status</span>: error): crimson; else: gray);
}
</code></pre>
<p>ä¸€ä¸ª <code>data-status</code> å±æ€§å³å¯é©±åŠ¨å¯¹åº”æ ·å¼ï¼Œæ— éœ€é¢å¤–å·¥å…·ç±»ã€‚</p>
<h4 data-id="heading-4">åª’ä½“æŸ¥è¯¢ï¼ˆMedia queriesï¼‰</h4>
<p>ä½¿ç”¨ <code>media()</code> å¯ä»¥åœ¨å±æ€§å†…è”å®šä¹‰å“åº”å¼å€¼ï¼Œæ— éœ€åµŒå¥—åª’ä½“æŸ¥è¯¢å—ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">h1</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-built_in">if</span>(<span class="hljs-built_in">media</span>(width &gt;= <span class="hljs-number">1200px</span>): <span class="hljs-number">3rem</span>; media(<span class="hljs-attribute">width</span> &gt;= <span class="hljs-number">768px</span>): <span class="hljs-number">2.5rem</span>; media(<span class="hljs-attribute">width</span> &gt;= <span class="hljs-number">480px</span>): <span class="hljs-number">2rem</span>; else: <span class="hljs-number">1.75rem</span>);
}
</code></pre>
<h4 data-id="heading-5">ç‰¹æ€§æ£€æµ‹ï¼ˆFeature detectionï¼‰</h4>
<p>ä½¿ç”¨ <code>supports()</code> å¯åœ¨å±æ€§ä¸­ç›´æ¥è¿›è¡Œç‰¹æ€§æ£€æµ‹ï¼Œå¹¶æä¾›æ˜ç¡®å›é€€ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.element</span> {
  <span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">if</span>(<span class="hljs-built_in">supports</span>(color: <span class="hljs-built_in">lch</span>(<span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span>)): <span class="hljs-built_in">lch</span>(<span class="hljs-number">50%</span> <span class="hljs-number">100</span> <span class="hljs-number">150</span>) ; supports(<span class="hljs-attribute">color</span>: <span class="hljs-built_in">lab</span>(<span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span>)): <span class="hljs-built_in">lab</span>(<span class="hljs-number">50</span> <span class="hljs-number">100</span> -<span class="hljs-number">50</span>) ; else: <span class="hljs-built_in">rgb</span>(<span class="hljs-number">200</span>, <span class="hljs-number">100</span>, <span class="hljs-number">50</span>));
}
</code></pre>
<h3 data-id="heading-6">çœŸå®ç”¨ä¾‹</h3>
<h4 data-id="heading-7">æš—è‰²æ¨¡å¼ç¤ºä¾‹</h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">body</span> {
  <span class="hljs-attr">--theme</span>: <span class="hljs-string">'dark'</span>; <span class="hljs-comment">/* é€šè¿‡ JavaScript æˆ–ç”¨æˆ·åå¥½åˆ‡æ¢ */</span>

  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">if</span>(<span class="hljs-built_in">style</span>(--theme: <span class="hljs-string">'dark'</span>): <span class="hljs-number">#1a1a1a</span>; else: white);

  <span class="hljs-attribute">color</span>: <span class="hljs-built_in">if</span>(<span class="hljs-built_in">style</span>(--theme: <span class="hljs-string">'dark'</span>): <span class="hljs-number">#e4e4e4</span>; else: <span class="hljs-number">#333</span>);
}
</code></pre>
<h4 data-id="heading-8">è®¾è®¡ç³»ç»ŸçŠ¶æ€ç»„ä»¶</h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.alert</span> {
  <span class="hljs-attr">--type</span>: <span class="hljs-built_in">attr</span>(data-type <span class="hljs-built_in">type</span>(&lt;custom-ident&gt;));

  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">if</span>(<span class="hljs-built_in">style</span>(--type: success): <span class="hljs-number">#d4edda</span>; style(<span class="hljs-attr">--type</span>: warning): <span class="hljs-number">#fff3cd</span>; style(<span class="hljs-attr">--type</span>: danger): <span class="hljs-number">#f8d7da</span>; style(<span class="hljs-attr">--type</span>: info): <span class="hljs-number">#d1ecf1</span>; else: <span class="hljs-number">#f8f9fa</span>);

  <span class="hljs-attribute">border-left</span>: <span class="hljs-number">4px</span> solid <span class="hljs-built_in">if</span>(<span class="hljs-built_in">style</span>(--type: success): <span class="hljs-number">#28a745</span>; style(<span class="hljs-attr">--type</span>: warning): <span class="hljs-number">#ffc107</span>; style(<span class="hljs-attr">--type</span>: danger): <span class="hljs-number">#dc3545</span>; style(<span class="hljs-attr">--type</span>: info): <span class="hljs-number">#17a2b8</span>; else: <span class="hljs-number">#6c757d</span>);
}
</code></pre>
<h4 data-id="heading-9">å®¹å™¨å°ºå¯¸ç¤ºä¾‹ï¼ˆç®€åŒ–åª’ä½“æŸ¥è¯¢ï¼‰</h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.container</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-built_in">if</span>(<span class="hljs-built_in">media</span>(width &gt;= <span class="hljs-number">1400px</span>): <span class="hljs-number">1320px</span>; media(<span class="hljs-attribute">width</span> &gt;= <span class="hljs-number">1200px</span>): <span class="hljs-number">1140px</span>; media(<span class="hljs-attribute">width</span> &gt;= <span class="hljs-number">992px</span>): <span class="hljs-number">960px</span>; media(<span class="hljs-attribute">width</span> &gt;= <span class="hljs-number">768px</span>): <span class="hljs-number">720px</span>; media(<span class="hljs-attribute">width</span> &gt;= <span class="hljs-number">576px</span>): <span class="hljs-number">540px</span>; else: <span class="hljs-number">100%</span>);

  <span class="hljs-attribute">padding-inline</span>: <span class="hljs-built_in">if</span>(<span class="hljs-built_in">media</span>(width &gt;= <span class="hljs-number">768px</span>): <span class="hljs-number">2rem</span>; else: <span class="hljs-number">1rem</span>);
}
</code></pre>
<h4 data-id="heading-10">ä¸ç°ä»£ CSS ç‰¹æ€§ç»“åˆ</h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.element</span> {
  <span class="hljs-comment">/* æ­é…æ–°çš„ light-dark() å‡½æ•° */</span>
  <span class="hljs-attribute">color</span>: <span class="hljs-built_in">if</span>(<span class="hljs-built_in">style</span>(--high-contrast: true): black; else: <span class="hljs-built_in">light-dark</span>(<span class="hljs-number">#333</span>, <span class="hljs-number">#e4e4e4</span>));

  <span class="hljs-comment">/* æ­é… CSS è‡ªå®šä¹‰å‡½æ•°ï¼ˆ@functionï¼‰ */</span>
  <span class="hljs-attribute">padding</span>: <span class="hljs-built_in">if</span>(<span class="hljs-built_in">style</span>(--spacing: loose): <span class="hljs-built_in">--spacing-function</span>(<span class="hljs-number">2</span>) ; style(<span class="hljs-attr">--spacing</span>: tight): <span class="hljs-built_in">--spacing-function</span>(<span class="hljs-number">0.5</span>) ; else: <span class="hljs-built_in">--spacing-function</span>(<span class="hljs-number">1</span>));
}
</code></pre>
<h3 data-id="heading-11">æµè§ˆå™¨æ”¯æŒ</h3>
<p>æ”¯æŒæƒ…å†µï¼ˆæˆªè‡³ 2025 å¹´ 8 æœˆï¼‰ï¼š</p>
<ul>
<li>âœ… Chrome/Edgeï¼šè‡ª 137 ç‰ˆèµ·</li>
<li>âœ… Chrome Androidï¼šè‡ª 139 ç‰ˆèµ·</li>
<li>âŒ Firefoxï¼šå¼€å‘ä¸­</li>
<li>âŒ Safariï¼šåœ¨è§„åˆ’ä¸­</li>
<li>âŒ Operaï¼šå°šæœªæ”¯æŒ</li>
</ul>
<p>åœ¨å°šæœªå®Œå…¨æ”¯æŒçš„ç¯å¢ƒä¸­ï¼Œå¯é‡‡ç”¨å¦‚ä¸‹å†™æ³•ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.button</span> {
  <span class="hljs-comment">/* æ‰€æœ‰æµè§ˆå™¨çš„å›é€€ */</span>
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">1rem</span> <span class="hljs-number">2rem</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#007bff</span>;

  <span class="hljs-comment">/* ç°ä»£æµè§ˆå™¨ä¼šè‡ªåŠ¨è¦†ç›– */</span>
  <span class="hljs-attribute">padding</span>: <span class="hljs-built_in">if</span>(<span class="hljs-built_in">style</span>(--size: small): <span class="hljs-number">0.5rem</span> <span class="hljs-number">1rem</span>; style(<span class="hljs-attr">--size</span>: large): <span class="hljs-number">1.5rem</span> <span class="hljs-number">3rem</span>; else: <span class="hljs-number">1rem</span> <span class="hljs-number">2rem</span>);

  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">if</span>(<span class="hljs-built_in">style</span>(--variant: primary): <span class="hljs-number">#007bff</span>; style(<span class="hljs-attr">--variant</span>: success): <span class="hljs-number">#28a745</span>; style(<span class="hljs-attr">--variant</span>: danger): <span class="hljs-number">#dc3545</span>; else: <span class="hljs-number">#6c757d</span>);
}
</code></pre>
<h3 data-id="heading-12">æœªæ¥å±•æœ›</h3>
<p>CSS å·¥ä½œç»„å·²ç»åœ¨æ¨è¿›æ‰©å±•èƒ½åŠ›ï¼š</p>
<ul>
<li>èŒƒå›´æŸ¥è¯¢ï¼š<code>if(style(--value &gt; 100): ...)</code></li>
<li>é€»è¾‘è¿ç®—ç¬¦ï¼š<code>if(style(--a: true) and style(--b: false): ...)</code></li>
<li>å®¹å™¨æŸ¥è¯¢é›†æˆï¼šæ›´å¼ºçš„ä¸Šä¸‹æ–‡æ„ŸçŸ¥</li>
</ul>
<p>åœ¨ä½¿ç”¨å‰å»ºè®®è¯„ä¼°ç›®æ ‡æµè§ˆå™¨ç‰ˆæœ¬ï¼Œå¹¶å‡†å¤‡ç›¸åº”å›é€€æ–¹æ¡ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäºé­”æ”¹Nightingaleæºç æµ…è°ˆgoè¯­è¨€åŒ…æ¨¡å—ç®¡ç†]]></title>    <link>https://juejin.cn/post/7571672422690078772</link>    <guid>https://juejin.cn/post/7571672422690078772</guid>    <pubDate>2025-11-13T01:54:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571672422690078772" data-draft-id="7571672422690062388" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäºé­”æ”¹Nightingaleæºç æµ…è°ˆgoè¯­è¨€åŒ…æ¨¡å—ç®¡ç†"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-13T01:54:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="shark_chili"/> <meta itemprop="url" content="https://juejin.cn/user/2858385964801672"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäºé­”æ”¹Nightingaleæºç æµ…è°ˆgoè¯­è¨€åŒ…æ¨¡å—ç®¡ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2858385964801672/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    shark_chili
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T01:54:52.000Z" title="Thu Nov 13 2025 01:54:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å†™åœ¨æ–‡ç« å¼€å¤´</h2>
<p>å¯¹äº<code>java</code>å¼€å‘è€Œè¨€ï¼Œæ¯ä¸€ä¸ªé¡¹ç›®å®Œæˆä¹‹åéƒ½ä¼šæ‰“æˆä¸€ä¸ª<code>jar</code>åŒ…å³ä¸­é—´å±‚ä»£ç ï¼Œæ‰€ä»¥å¯å€Ÿç”±ä¾èµ–åŒ…ç®¡ç†å·¥å…·<code>maven</code>å®Œæˆå¯¼å…¥ï¼Œè€Œgoè¯­è¨€æ²¡æœ‰ä¸­é—´å­—èŠ‚ç è¿™æ ·çš„ä¸€ä¸ªè¿‡ç¨‹ï¼Œæ‰€ä»¥å¼•å…¥ç¬¬ä¸‰æ–¹ä¾èµ–çš„æ–¹å¼éƒ½æ˜¯é€šè¿‡æºç ï¼Œéšç€äººä»¬å¯¹äºæ–¹æ¡ˆçš„ä¸æ–­æ¢ç´¢ï¼Œå¯¹äºgoè¯­è¨€çš„æ–¹å¼ç®¡ç†ä¹Ÿåˆ«æœ‰äº†å¦‚ä¸‹ä¸¤ç§ä¸»æµæ–¹æ¡ˆï¼š</p>
<ol>
<li>go getå¼•å…¥</li>
<li>go vendoræœ¬åœ°ç¼“å­˜</li>
</ol>
<p>è€Œæœ¬æ–‡å°†ç»“åˆç¬”è€…è¿‘æœŸé’ˆå¯¹æ€§çš„é­”æ”¹Nightingaleåº•å±‚çš„eså®¢æˆ·ç«¯çš„ç»å†æ¥æ¼”ç¤ºä¸€ä¸‹goè¯­è¨€ä¸­åŒ…ç®¡ç†ï¼Œå¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ã€‚</p>
<p>æˆ‘æ˜¯ <strong>SharkChili</strong> ï¼ŒJava å¼€å‘è€…ï¼Œ<strong>Java Guide</strong> å¼€æºé¡¹ç›®ç»´æŠ¤è€…ã€‚æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼š<strong>å†™ä»£ç çš„SharkChili</strong>ï¼Œä¹Ÿæ¬¢è¿æ‚¨äº†è§£æˆ‘çš„å¼€æºé¡¹ç›® mini-redisï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fshark-ctrl%2Fmini-redis" target="_blank" title="https://github.com/shark-ctrl/mini-redis" ref="nofollow noopener noreferrer">github.com/shark-ctrl/â€¦</a>ã€‚</p>
<p>ä¸ºæ–¹ä¾¿ä¸è¯»è€…äº¤æµï¼Œç°å·²åˆ›å»ºè¯»è€…ç¾¤ã€‚å…³æ³¨ä¸‹æ–¹å…¬ä¼—å·è·å–æˆ‘çš„è”ç³»æ–¹å¼ï¼Œæ·»åŠ æ—¶å¤‡æ³¨<strong>åŠ ç¾¤</strong>å³å¯åŠ å…¥ã€‚</p>
<h2 data-id="heading-1">è¯¦è§£go modulesçš„ä½¿ç”¨</h2>
<h3 data-id="heading-2">é¡¹ç›®åˆå§‹åŒ–</h3>
<p>æˆ‘ä»¬é€šè¿‡<code>goland</code>åˆ›å»ºä¸€ä¸ªåä¸º<code>awesomeProject</code>é¡¹ç›®ï¼Œé»˜è®¤æƒ…å†µä¸‹<code>goland</code>ä¸ºé»˜è®¤ä¸ºæˆ‘ä»¬ç”Ÿæˆä¸€ä¸ª<code>go.mod</code>æ–‡ä»¶ï¼Œå…¶å†…å®¹æ ‡æ˜ï¼š</p>
<ol>
<li>é¡¹ç›®åç§°å³awesomeProject</li>
<li><code>golang</code>çš„ç‰ˆæœ¬å·1.23</li>
</ol>

<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">module</span>Â awesomeProject


goÂ <span class="hljs-number">1.23</span>
</code></pre>
<p>æ­¤æ—¶ï¼Œç¬”è€…é¡¹ç›®çš„ç›®å½•ç»“æ„å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93cecb5e8376431dbccb386c1ca1405c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2hhcmtfY2hpbGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603692&amp;x-signature=UdMLV%2FA%2FaxnqZnpxUG5E5LYPKF4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">åŸºäºgo getæ¼”ç¤ºå¯¼å…¥elastic</h3>
<p>å› ä¸º<code>Nightingale</code>è¿™ä¸ªç›‘æ§å·¥å…·åº•å±‚çš„eså®¢æˆ·ç«¯ä¸å…¼å®¹es9ï¼Œæ‰€ä»¥ç»è¿‡ç¬”è€…è°ƒè¯•å‘ç°å…¶åº•å±‚queryè¡¨è¾¾å¼ä¸æ­£ç¡®ï¼Œé‚æ‰“ç®—å¼•å…¥è¿™ä¸ªå·²è¢«åºŸå¼ƒçš„å®¢æˆ·ç«¯è°ƒè¯•ä¸€æ¢ç©¶ç«Ÿï¼ŒæŒ‰ç…§goè¯­è¨€ä¸»æµçš„åŒ…ç®¡ç†åŠæ³•ï¼Œé€šç”¨ç®¡ç†æ­¥éª¤ä¸ºï¼š</p>
<ol>
<li>é¡¹ç›®ä¸Šä¼ åˆ°git</li>
<li>é’ˆå¯¹è¯¥é¡¹ç›®æ‰“å¥½tagæ ‡ç­¾</li>
<li>é€šè¿‡go getæŒ‡ä»¤è·å–æŒ‡å®štagçš„ä¾èµ–åŒ…</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2d4a2494e0b0453d9710b1f6612f97e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2hhcmtfY2hpbGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603692&amp;x-signature=7tetrfnus2Jt1cVYUXnzjSgUbT8%3D" alt="" loading="lazy"/></p>
<p>ä¾‹å¦‚ç¬”è€…æƒ³å¼•å…¥<code>https://github.com/olivere/elastic</code>è¿™ä¸ªç¬¬ä¸‰æ–¹eså®¢æˆ·ç«¯ç®¡ç†åŒ…ï¼Œé€šè¿‡æŸ¥çœ‹å…¶go.modå¯¹åº”æ¨¡å—åä¸ºï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">module</span>Â github.com/olivere/elastic/v7
</code></pre>
<p>æŸ¥çœ‹å…¶ä¾èµ–åŒ…å¯¹åº”æœ€æ–°ç‰ˆæœ¬ä¸º<code>7.0.32</code>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ecedaa259284f81b3f21e2ed47af9ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2hhcmtfY2hpbGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603692&amp;x-signature=35bEhb8KGn1XgMx2NKhsIIPCw4I%3D" alt="" loading="lazy"/></p>
<p>å¯¹åº”çš„æˆ‘ä»¬å°±å¯ä»¥å¿½ç•¥å‰ä¸¤æ­¥éª¤ï¼Œç›´æ¥åœ¨æœ¬åœ°é¡¹ç›®ä¸­å‘¼å‡ºç»ˆç«¯æ‰§è¡Œ<code>go get æ¨¡å—å@ç‰ˆæœ¬å·</code>å¯¹åº”ç¬”è€…çš„è¯·æ±‚å°±æ˜¯ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">goÂ <span class="hljs-keyword">get</span>Â github.com/olivere/elastic/<span class="hljs-symbol">v7@</span>v7<span class="hljs-number">.0</span><span class="hljs-number">.32</span>
</code></pre>
<p>éšåæˆ‘ä»¬å°±å¯ä»¥æ„‰å¿«çš„ä½¿ç”¨è¿™ä¸ªæ¨¡å—åŒ…äº†ï¼š <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82efa1cf68e3431680ced41c474cf04d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2hhcmtfY2hpbGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603692&amp;x-signature=x5T3nFmzJoO%2FH%2B%2FNFACK6t0oqX0%3D" alt="" loading="lazy"/></p>
<p>æ­¤æ—¶æˆ‘ä»¬å°±å¯ä»¥æ­£å¸¸çš„å¼•ç”¨å’Œç®¡ç†è¿™ä¸ªæ¨¡å—äº†ï¼Œç›¸æ¯”äºjavaï¼Œå› ä¸ºgoè¯­è¨€æ¨¡å—çš„å¼•å…¥éƒ½æ˜¯å¼•å…¥æºä»£ç ï¼Œæ‰€ä»¥æˆ‘ä»¬å®Œå…¨å¯ä»¥ç›´æ¥é€šè¿‡<code>IDE</code>ä¿®æ”¹æºç ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b137502748ae4865815c7734864c89cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2hhcmtfY2hpbGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603692&amp;x-signature=Dt682SF4XfTvEPIa%2Bbzs9TjNHU4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">åŸºäºgo vendoræœ¬åœ°åŒ–ä¸‰æ–¹ä¾èµ–åº“</h3>
<p>å½“ç„¶ä¸Šè¿°æ–¹æ¡ˆä»…ä»…æ”¯æŒå…è®¸è”ç½‘çš„æƒ…å†µï¼Œå¯¹äºå°ç½‘å¼€å‘çš„è¯»è€…å¯ä»¥é€šè¿‡go mod vendorå°†è¿™ä¸ªä¾èµ–ç›´æ¥ç¼“å­˜åˆ°æœ¬åœ°è¿›è¡Œè°ƒæµ‹å¼€å‘ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74d17b4fea374355be017cc37eec6fe2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2hhcmtfY2hpbGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603692&amp;x-signature=koH8byac%2Fhxoy4OWx46Vin%2Fcxms%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">åŸºäºé­”æ”¹Nightingaleåº•å±‚eså®¢æˆ·ç«¯æºç æ¼”ç¤ºgoè¯­è¨€ä¸‰æ–¹åŒ…ç®¡ç†</h2>
<h3 data-id="heading-6">é­”æ”¹ä¸‰æ–¹åŒ…é€šç”¨æ­¥éª¤</h3>
<p>æœ‰äº†ä¸Šè¿°çš„åŸºæœ¬æ¦‚å¿µï¼Œæˆ‘ä»¬å°±æ¥æ¼”ç¤ºä¸€ä¸ªå¦‚æœé­”æ”¹å·²æ”¾å¼ƒç»´æŠ¤çš„å¼€æºé¡¹ç›®çš„é€šç”¨å¥—è·¯ï¼Œå¤§ä½“æµç¨‹ä¹Ÿå¾ˆä¸Šè¿°go getå·®ä¸å¤šï¼Œå³åŸºäºgithubç»´åº¦è¿›è¡Œç‰ˆæœ¬ç®¡ç†ä»¥åŠgo getå¼•å…¥ï¼Œåªä¸è¿‡è¦ä¿®æ”¹ç¬¬ä¸‰æ–¹é¡¹ç›®çš„æºç ï¼Œæˆ‘ä»¬éœ€è¦é¦–å…ˆå°†é¡¹ç›®forkåˆ°æˆ‘ä»¬çš„ä»“åº“ï¼Œä»¥ç¬”è€…æœ¬åœ°ä¿®æ”¹çš„elasticä¸ºä¾‹ï¼Œå¯¹åº”çš„æ‰§è¡Œæ­¥éª¤ä¸ºï¼š</p>
<ol>
<li>å°†åœæ­¢ç»´æŠ¤çš„elasticå®¢æˆ·ç«¯forkåˆ°ä¸ªäººä»“åº“</li>
<li>cloneæœ¬åœ°</li>
<li>ä¿®æ”¹ä»£ç ï¼Œå¹¶æ‰“tag(å¦‚æœä¸ºäº†çœäº‹ä¹Ÿå¯ä»¥ç”¨æœ€æ–°ç‰ˆï¼Œæ— éœ€æŒ‡æ˜tagï¼Œç¬”è€…åæ–‡ä¼šä»‹ç»)æäº¤åˆ°ä¸ªäººä»“åº“</li>
<li>å…¶ä»–é¡¹ç›®é€šè¿‡go getå¼•å…¥æºé¡¹ç›®åœ°å€å¹¶é€šè¿‡replaceæŒ‡å‘æˆ‘ä»¬çš„é¡¹ç›®</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62c9f60de097469481acd8be9614ef41~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2hhcmtfY2hpbGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603692&amp;x-signature=1y7SkmaPmVVdYyey5Z%2FlawxP%2Bzk%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-7">æ¡ˆä¾‹è¯´æ˜</h3>
<p>åŸºäºè¿™ä¸ªå®è·µç»“åˆç¬”è€…è¿‘æœŸæ¥è§¦åˆ°çš„ä¸€ä¸ªè¿™é‡Œæ—¥å¿—å‘Šè­¦å·¥å…·Nightingaleï¼Œç¬”è€…åœ¨æ¥å…¥es9æ•°æ®æºæ—¶å‘ç°ï¼ŒæŸ¥è¯¢æ—¶è¿”å›äº†esæœåŠ¡ç«¯è¯­æ³•é”™è¯¯ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fa8c6e6709af4d539c740da0c3f346e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2hhcmtfY2hpbGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603692&amp;x-signature=mflcizhuOnkU%2FVgUa%2FXBhyN%2BAK8%3D" alt="" loading="lazy"/></p>
<p>ç»è¿‡ç¬”è€…çš„è°ƒæµ‹Nightingaleåº•å±‚çš„eså®¢æˆ·ç«¯å‘ç°ï¼Œå…¶åº•å±‚elasticç”Ÿæˆçš„èŒƒå›´æŸ¥è¯¢æ—¶é—´é‡‡ç”¨äº†fromã€toè¯­æ³•ï¼Œæœ€æ–°ç‰ˆçš„es9å¹¶ä¸æ”¯æŒè¿™ç§æ ¼å¼ï¼Œéœ€æ”¹ä¸ºgteå’Œlteï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/efd93ad08fe74d6ebd5e185efb13ebce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2hhcmtfY2hpbGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603692&amp;x-signature=K1fKCYCn4M88nYbcrXTvrHotKQ4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">é­”æ”¹é€‚é…æ­¥éª¤è¯¦è§£</h3>
<p>æ‰€ä»¥ä¸ºäº†åšåˆ°es9æ•°æ®æºé€‚é…ï¼Œç¬”è€…å°±éœ€è¦æŒ‰ç…§ä¸Šè¿°æ­¥éª¤çš„è¯´æ³•ï¼š</p>
<ol>
<li>forkå·²ç»ä¸å†ç»´æŠ¤çš„elastic</li>
<li>ä¿®æ”¹èŒƒå›´å­æŸ¥è¯¢æºç </li>
<li>æäº¤ä¸ªäººä»“åº“</li>
<li>Nightingaleæºç ä½¿ç”¨replaceå°†eså®¢æˆ·ç«¯æ”¹ä¸ºè‡ªå·±é­”æ”¹åçš„ç‰ˆæœ¬</li>
</ol>
<p>é’ˆå¯¹forkå’Œé­”æ”¹æ“ä½œç¬”è€…å°±ä¸å¤šåšæ¼”ç¤ºï¼Œè¿™é‡Œç¬”è€…ç›´æ¥ç»™å‡ºä¿®æ”¹åçš„ä»£ç ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f074b1a83a564daa9052ae7c8ac76974~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2hhcmtfY2hpbGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603692&amp;x-signature=LVXJNBrpdXRdIH6DqhPtv8AB4iA%3D" alt="" loading="lazy"/></p>
<p>å½“ç„¶ç¬”è€…è¿™é‡Œä¸ºäº†çœäº‹ç›´æ¥é€šè¿‡<code>go get module name@branch</code>è·å–æœ€æ–°ç‰ˆæœ¬ï¼Œä»¥ç¬”è€…ä¸ºä¾‹å¯¹åº”çš„æŒ‡ä»¤ä¸º<code>go get github.com/shark-ctrl/elastic/v7@release-branch.v7</code>ï¼š</p>
<p>æœ€ç»ˆè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">go:Â downloadingÂ github.com/shark-ctrl/elastic/v7Â v7.0.0-20251112171420-808d8bfca650
go:Â addedÂ github.com/shark-ctrl/elastic/v7Â v7.0.0-20251112171420-808d8bfca650
</code></pre>
<p>åç»­ä½¿ç”¨ä½¿ç”¨åˆ°é­”æ”¹çš„é¡¹ç›®ç›´æ¥é‡‡ç”¨replaceä¿®æ”¹å¼•ç”¨çš„æŒ‡å‘ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb36c1a461f64cd3921de899edb1a1df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2hhcmtfY2hpbGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603692&amp;x-signature=6D0XW%2BFqykx%2BpX1PVLifPWY18Cc%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°å¯¹åº”çš„eså®¢æˆ·ç«¯å°±ç”¨åˆ°äº†ç¬”è€…çš„é­”æ”¹åçš„ç‰ˆæœ¬ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e8935a99029406eba3c0581b1f09f96~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2hhcmtfY2hpbGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603692&amp;x-signature=dfzT8g9e4MSzhxNaWEhfxZSTmLA%3D" alt="" loading="lazy"/></p>
<p>å¯¹åº”çš„es9çš„æ•°æ®æºæŸ¥è¯¢ä¹Ÿæ˜¯å¯ä»¥äº†ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a58c8456c9b541a8862946b8acb3ccbd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2hhcmtfY2hpbGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603692&amp;x-signature=ZFgu%2F04kXBmNZ3oJoxWQpvMKEcU%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-9">å°ç»“</h2>
<p>ç›¸æ¯”äºjavaæºç çš„æ”¹é€ ï¼Œgoè¯­è¨€çš„ç‰¹æ€§ä½¿å¾—é‡‡ç”¨go getæŒ‡ä»¤å’Œreplaceé­”æ”¹å¼€æºå·¥å…·æ›´åŠ ä»å®¹ä¸”ç›´è§‚ï¼Œæœ¬æ–‡è¿™æ¬¡é’ˆå¯¹Nightingaleçš„æ•°æ®æºé€‚é…æœ¬è´¨å°±æ˜¯åˆ©ç”¨äº†go getå¯¹äºä¸‰æ–¹å·¥å…·çš„ç»Ÿä¸€ç»´æŠ¤ç»“åˆforkä¿®æ”¹å’ŒGo mod replaceå®Œæˆåº•å±‚æ•°æ®æºçš„é€‚é…ã€‚</p>
<p>éœ€è¦è¡¥å……è¯´æ˜ä¸€ä»¶äº‹ï¼Œå°±åœ¨ç¬”è€…å®Œæˆè¿™ä¸ªæ•°æ®æºé€‚é…ä¸”å‡†å¤‡åœ¨é¡¹ç›®ç»„è°ƒæµ‹æ—¶ï¼ŒNightingaleçš„ä½œè€…ä¼¼ä¹ä¹Ÿåœ¨è¿‘æœŸå®Œæˆäº†è¿™ä¸ªé€‚é…ï¼Œæ‰€ä»¥æœ¬æ¬¡çš„é­”æ”¹å·¥ä½œå°±å½“æ˜¯å¯¹äºè¯»è€…ä¸€æ¬¡å­¦ä¹ çš„æ™®åŠå§ï¼š <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0ca0c98a31443578856699c835d8135~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2hhcmtfY2hpbGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603692&amp;x-signature=6ZdtWmnDhkNvhFJgAw1ST8k4dMM%3D" alt="" loading="lazy"/></p>
<p>æˆ‘æ˜¯ <strong>SharkChili</strong> ï¼ŒJava å¼€å‘è€…ï¼Œ<strong>Java Guide</strong> å¼€æºé¡¹ç›®ç»´æŠ¤è€…ã€‚æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼š<strong>å†™ä»£ç çš„SharkChili</strong>ï¼Œä¹Ÿæ¬¢è¿æ‚¨äº†è§£æˆ‘çš„å¼€æºé¡¹ç›® mini-redisï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fshark-ctrl%2Fmini-redis" target="_blank" title="https://github.com/shark-ctrl/mini-redis" ref="nofollow noopener noreferrer">github.com/shark-ctrl/â€¦</a>ã€‚</p>
<p>ä¸ºæ–¹ä¾¿ä¸è¯»è€…äº¤æµï¼Œç°å·²åˆ›å»ºè¯»è€…ç¾¤ã€‚å…³æ³¨ä¸‹æ–¹å…¬ä¼—å·è·å–æˆ‘çš„è”ç³»æ–¹å¼ï¼Œæ·»åŠ æ—¶å¤‡æ³¨<strong>åŠ ç¾¤</strong>å³å¯åŠ å…¥ã€‚</p>
<h2 data-id="heading-10">å‚è€ƒ</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Felastic%2Fgo-elasticsearch%2Ftree%2Fmain" target="_blank" title="https://github.com/elastic/go-elasticsearch/tree/main" ref="nofollow noopener noreferrer">github.com/elastic/go-â€¦</a> go mod å’Œ go vendor ä½¿ç”¨ä¸åŒºåˆ«:<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F374044583" target="_blank" title="https://zhuanlan.zhihu.com/p/374044583" ref="nofollow noopener noreferrer">zhuanlan.zhihu.com/p/374044583</a> Gomodvendorä½¿ç”¨æ•™ç¨‹ä¸ä¾èµ–ç®¡ç†æŠ€å·§:<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.17golang.com%2Farticle%2F245274.html" target="_blank" title="https://www.17golang.com/article/245274.html" ref="nofollow noopener noreferrer">www.17golang.com/article/245â€¦</a></p>
<p>æ·±å…¥ç†è§£ Go Modules çš„ go.mod ä¸ go.sum :<a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.tencent.com%2Fdeveloper%2Farticle%2F2020911" target="_blank" title="https://cloud.tencent.com/developer/article/2020911" ref="nofollow noopener noreferrer">cloud.tencent.com/developer/aâ€¦</a></p>
<p>ä½¿ç”¨go moduleå¯¼å…¥æœ¬åœ°åŒ…:<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F109828249" target="_blank" title="https://zhuanlan.zhihu.com/p/109828249" ref="nofollow noopener noreferrer">zhuanlan.zhihu.com/p/109828249</a></p>
<p>Golangå®æˆ˜ï¼šä»é›¶å¼€å§‹æ„å»ºå¹¶å‘å¸ƒè‡ªå·±çš„Goè¯­è¨€åº“åˆ°GitHubåŠGo Moduleç®¡ç†:<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.oryoy.com%2Fnews%2Fgolang-shi-zhan-cong-ling-kai-shi-gou-jian-bing-fa-bu-zi-ji-de-go-yu-yan-ku-dao-github-ji-go-module.html" target="_blank" title="https://www.oryoy.com/news/golang-shi-zhan-cong-ling-kai-shi-gou-jian-bing-fa-bu-zi-ji-de-go-yu-yan-ku-dao-github-ji-go-module.html" ref="nofollow noopener noreferrer">www.oryoy.com/news/golangâ€¦</a></p>
<p>Go mod replace ä½¿ç”¨:<a href="https://link.juejin.cn?target=https%3A%2F%2Fsegmentfault.com%2Fa%2F1190000040179648" target="_blank" title="https://segmentfault.com/a/1190000040179648" ref="nofollow noopener noreferrer">segmentfault.com/a/119000004â€¦</a></p>
<p>æœ¬æ–‡ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmarkdown.com.cn" target="_blank" title="https://markdown.com.cn" ref="nofollow noopener noreferrer">markdown.com.cn</a> æ’ç‰ˆ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨æˆ·ä¸­å¿ƒå¾®æœåŠ¡è®¾è®¡æŒ‡å—ï¼šä»åŠŸèƒ½åˆ°éåŠŸèƒ½çš„å…¨ç»´åº¦è½åœ°]]></title>    <link>https://juejin.cn/post/7571729676344262719</link>    <guid>https://juejin.cn/post/7571729676344262719</guid>    <pubDate>2025-11-13T02:55:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571729676344262719" data-draft-id="7571729676344246335" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨æˆ·ä¸­å¿ƒå¾®æœåŠ¡è®¾è®¡æŒ‡å—ï¼šä»åŠŸèƒ½åˆ°éåŠŸèƒ½çš„å…¨ç»´åº¦è½åœ°"/> <meta itemprop="keywords" content="åç«¯,å¾®æœåŠ¡"/> <meta itemprop="datePublished" content="2025-11-13T02:55:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å›å®¶è·¯ä¸Šç»•äº†å¼¯"/> <meta itemprop="url" content="https://juejin.cn/user/536217404587134"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨æˆ·ä¸­å¿ƒå¾®æœåŠ¡è®¾è®¡æŒ‡å—ï¼šä»åŠŸèƒ½åˆ°éåŠŸèƒ½çš„å…¨ç»´åº¦è½åœ°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/536217404587134/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å›å®¶è·¯ä¸Šç»•äº†å¼¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T02:55:39.000Z" title="Thu Nov 13 2025 02:55:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç”¨æˆ·ä¸­å¿ƒå¾®æœåŠ¡è®¾è®¡æŒ‡å—ï¼šä»åŠŸèƒ½åˆ°éåŠŸèƒ½çš„å…¨ç»´åº¦è½åœ°</h2>
<p>åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œç”¨æˆ·ä¸­å¿ƒæ˜¯ â€œåœ°åŸºçº§â€ æœåŠ¡ â€”â€” æ‰€æœ‰ä¸šåŠ¡æ¨¡å—ï¼ˆè®¢å•ã€æ”¯ä»˜ã€å†…å®¹ï¼‰éƒ½ä¾èµ–å…¶æä¾›çš„ç”¨æˆ·è®¤è¯ã€æƒé™æ ¡éªŒã€ä¿¡æ¯æŸ¥è¯¢èƒ½åŠ›ã€‚ä½†å¾ˆå¤šå›¢é˜Ÿè®¾è®¡æ—¶å®¹æ˜“é™·å…¥ â€œåªåšç”¨æˆ· CRUDâ€ çš„è¯¯åŒºï¼Œå¿½ç•¥æƒé™æ§åˆ¶ã€å®¡è®¡æ—¥å¿—ã€é«˜å¯ç”¨ç­‰éåŠŸèƒ½æ€§éœ€æ±‚ï¼Œå¯¼è‡´åæœŸä¸šåŠ¡æ‰©å¼ æ—¶é‡æ„æˆæœ¬æé«˜ã€‚</p>
<p>æœ¬æ–‡å°†ä» â€œä¸šåŠ¡ä»·å€¼â†’æ¶æ„è®¾è®¡â†’åŠŸèƒ½å®ç°â†’éåŠŸèƒ½ä¿éšœâ€ å››ä¸ªå±‚é¢ï¼Œå®Œæ•´è®²è§£ç”¨æˆ·ä¸­å¿ƒå¾®æœåŠ¡çš„è®¾è®¡æ€è·¯ï¼Œå°¤å…¶èšç„¦æƒé™ã€å®¡è®¡ã€å®‰å…¨ç­‰å…³é”®éåŠŸèƒ½ç‚¹ï¼Œæä¾›å¯ç›´æ¥è½åœ°çš„æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-1">ä¸€ã€å…ˆæ˜ç¡®ï¼šç”¨æˆ·ä¸­å¿ƒå¾®æœåŠ¡çš„æ ¸å¿ƒå®šä½ä¸è¾¹ç•Œ</h3>
<p>è®¾è®¡å‰å¿…é¡»åˆ’æ¸… â€œèŒè´£èŒƒå›´â€ï¼Œé¿å…æœåŠ¡è†¨èƒ€ä¸º â€œä¸‡èƒ½å·¥å…·â€ã€‚ç”¨æˆ·ä¸­å¿ƒçš„æ ¸å¿ƒå®šä½æ˜¯ â€œ<strong>ç»Ÿä¸€çš„ç”¨æˆ·èº«ä»½ä¸æƒé™ç®¡ç†å…¥å£</strong>â€ï¼Œå…·ä½“è¾¹ç•Œå¦‚ä¸‹ï¼š</p>





























<table><thead><tr><th>æ ¸å¿ƒèŒè´£ï¼ˆå¿…åšï¼‰</th><th>éæ ¸å¿ƒèŒè´£ï¼ˆä¸åš / å¤–åŒ…ï¼‰</th></tr></thead><tbody><tr><td>1. ç”¨æˆ·åŸºç¡€ä¿¡æ¯ç®¡ç†ï¼ˆæ³¨å†Œã€ç™»å½•ã€èµ„æ–™ CRUDï¼‰</td><td>1. å…·ä½“ä¸šåŠ¡æ•°æ®å­˜å‚¨ï¼ˆå¦‚ç”¨æˆ·è®¢å•ã€ç§¯åˆ†ï¼‰</td></tr><tr><td>2. è®¤è¯æˆæƒï¼ˆä»¤ç‰Œç”Ÿæˆã€æƒé™æ ¡éªŒï¼‰</td><td>2. ä¸šåŠ¡é€»è¾‘å¤„ç†ï¼ˆå¦‚ç”¨æˆ·ç­‰çº§è®¡ç®—ï¼‰</td></tr><tr><td>3. æƒé™æ§åˆ¶ï¼ˆè§’è‰²ã€åŠŸèƒ½ / æ•°æ®æƒé™ç®¡ç†ï¼‰</td><td>3. ç¬¬ä¸‰æ–¹ä¸šåŠ¡é›†æˆï¼ˆå¦‚ç”¨æˆ·è¥é”€æ´»åŠ¨ï¼‰</td></tr><tr><td>4. å®¡è®¡æ—¥å¿—ï¼ˆç”¨æˆ·æ“ä½œã€æƒé™å˜æ›´è®°å½•ï¼‰</td><td>4. å¤§è§„æ¨¡æ•°æ®åˆ†æï¼ˆå¦‚ç”¨æˆ·è¡Œä¸ºç”»åƒï¼‰</td></tr><tr><td>5. ç¬¬ä¸‰æ–¹ç™»å½•é›†æˆï¼ˆå¾®ä¿¡ã€QQã€OAuth2ï¼‰</td><td/></tr></tbody></table>
<p><strong>ä¸¾ä¾‹</strong>ï¼šç”¨æˆ·ç§¯åˆ†å±äºä¸šåŠ¡æ•°æ®ï¼Œåº”å­˜æ”¾åœ¨ â€œç§¯åˆ†æœåŠ¡â€ï¼Œç”¨æˆ·ä¸­å¿ƒåªéœ€æä¾› â€œç”¨æˆ· IDâ€ ä½œä¸ºå…³è”æ ‡è¯†ï¼Œæ— éœ€å­˜å‚¨ç§¯åˆ†æ•°å€¼ â€”â€” è¿™æ˜¯ â€œå•ä¸€èŒè´£â€ åŸåˆ™çš„æ ¸å¿ƒä½“ç°ã€‚</p>
<h3 data-id="heading-2">äºŒã€æ¶æ„è®¾è®¡ï¼šæ¨¡å—åˆ’åˆ†ä¸æŠ€æœ¯é€‰å‹</h3>
<p>åŸºäºæ ¸å¿ƒèŒè´£ï¼Œå°†ç”¨æˆ·ä¸­å¿ƒæ‹†åˆ†ä¸º â€œæ¾è€¦åˆæ¨¡å—â€ï¼Œæ¯ä¸ªæ¨¡å—ç‹¬ç«‹éƒ¨ç½²ã€è¿­ä»£ï¼ŒåŒæ—¶é€‰æ‹©é€‚é…é«˜å¹¶å‘ã€é«˜å®‰å…¨çš„æŠ€æœ¯æ ˆã€‚</p>
<h4 data-id="heading-3">1. æ ¸å¿ƒæ¨¡å—åˆ’åˆ†ï¼ˆåˆ†å±‚æ¶æ„ï¼‰</h4>
<p>é‡‡ç”¨ â€œæ¥å…¥å±‚â†’ä¸šåŠ¡å±‚â†’æ•°æ®å±‚â€ ä¸‰å±‚æ¶æ„ï¼Œæ¯å±‚æ‹†åˆ†ä¸ºç»†åˆ†æ¨¡å—ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">ç”¨æˆ·ä¸­å¿ƒå¾®æœåŠ¡
â”œâ”€ æ¥å…¥å±‚ï¼ˆAPI Gatewayï¼‰
â”‚  â”œâ”€ æ¥å£é‰´æƒæ¨¡å—ï¼ˆç»Ÿä¸€éªŒè¯ä»¤ç‰Œã€é˜²åˆ·ï¼‰
â”‚  â”œâ”€ æ¥å£ç‰ˆæœ¬æ§åˆ¶ï¼ˆå¦‚/v1/user/infoï¼‰
â”‚  â””â”€ æµé‡æ§åˆ¶æ¨¡å—ï¼ˆé™æµã€ç†”æ–­ã€é™çº§ï¼‰
â”œâ”€ ä¸šåŠ¡å±‚ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰
â”‚  â”œâ”€ ç”¨æˆ·ç®¡ç†æ¨¡å—ï¼ˆæ³¨å†Œã€ç™»å½•ã€èµ„æ–™CRUDã€å¯†ç é‡ç½®ï¼‰
â”‚  â”œâ”€ è®¤è¯æˆæƒæ¨¡å—ï¼ˆJWT/OAuth2ä»¤ç‰Œã€ä¼šè¯ç®¡ç†ï¼‰
â”‚  â”œâ”€ æƒé™æ§åˆ¶æ¨¡å—ï¼ˆè§’è‰²ç®¡ç†ã€åŠŸèƒ½æƒé™ã€æ•°æ®æƒé™ï¼‰
â”‚  â”œâ”€ å®¡è®¡æ—¥å¿—æ¨¡å—ï¼ˆæ“ä½œè®°å½•ã€æ—¥å¿—æŸ¥è¯¢ã€å‘Šè­¦ï¼‰
â”‚  â””â”€ ç¬¬ä¸‰æ–¹é›†æˆæ¨¡å—ï¼ˆå¾®ä¿¡/QQç™»å½•ã€çŸ­ä¿¡/é‚®ç®±éªŒè¯ï¼‰
â””â”€ æ•°æ®å±‚ï¼ˆå­˜å‚¨ï¼‰
   â”œâ”€ å…³ç³»å‹æ•°æ®åº“ï¼ˆMySQLï¼šç”¨æˆ·ã€è§’è‰²ã€æƒé™è¡¨ï¼‰
   â”œâ”€ ç¼“å­˜ï¼ˆRedisï¼šä¼šè¯ã€æƒé™ç¼“å­˜ã€ç™»å½•éªŒè¯ç ï¼‰
   â”œâ”€ æ—¥å¿—å­˜å‚¨ï¼ˆElasticsearchï¼šå®¡è®¡æ—¥å¿—ï¼Œæ”¯æŒå…¨æ–‡æ£€ç´¢ï¼‰
   â””â”€ æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆKafkaï¼šç”¨æˆ·æ•°æ®å˜æ›´äº‹ä»¶ï¼ŒåŒæ­¥åˆ°å…¶ä»–æœåŠ¡ï¼‰
</code></pre>
<h4 data-id="heading-4">2. æŠ€æœ¯æ ˆé€‰å‹ï¼ˆé€‚é…éåŠŸèƒ½æ€§éœ€æ±‚ï¼‰</h4>
<p>æŠ€æœ¯é€‰å‹éœ€ä¼˜å…ˆæ»¡è¶³ â€œå®‰å…¨ã€é«˜å¯ç”¨ã€å¯æ‰©å±•â€ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>


















































<table><thead><tr><th>æŠ€æœ¯ç±»åˆ«</th><th>æ¨èé€‰å‹</th><th>é€‰å‹ç†ç”±</th></tr></thead><tbody><tr><td>å¼€å‘è¯­è¨€</td><td>Javaï¼ˆSpring Cloud/Spring Bootï¼‰</td><td>ç”Ÿæ€å®Œå–„ï¼Œå®‰å…¨ç»„ä»¶ä¸°å¯Œï¼ˆSpring Securityï¼‰ï¼Œé€‚åˆä¼ä¸šçº§æƒé™æ§åˆ¶</td></tr><tr><td>å…³ç³»å‹æ•°æ®åº“</td><td>MySQLï¼ˆä¸»ä»æ¶æ„ + åˆ†åº“åˆ†è¡¨ï¼‰</td><td>æ”¯æŒäº‹åŠ¡ï¼Œé€‚åˆå­˜å‚¨ç”¨æˆ·ã€è§’è‰²ç­‰å¼ºä¸€è‡´æ€§æ•°æ®ï¼›ç”¨æˆ·é‡å¤§æ—¶ç”¨ ShardingSphere åˆ†è¡¨</td></tr><tr><td>ç¼“å­˜</td><td>Redis Cluster</td><td>é«˜æ€§èƒ½ï¼Œæ”¯æŒåˆ†å¸ƒå¼é”ï¼ˆç”¨äºå¹¶å‘ç™»å½•æ§åˆ¶ï¼‰ï¼Œé€‚åˆå­˜å‚¨ä¼šè¯å’Œæƒé™ç¼“å­˜</td></tr><tr><td>è®¤è¯åè®®</td><td>JWT + OAuth2.0ï¼ˆæˆæƒç æ¨¡å¼ï¼‰</td><td>JWT æ— çŠ¶æ€ä¾¿äºæ‰©å±•ï¼ŒOAuth2.0 æ”¯æŒç¬¬ä¸‰æ–¹æˆæƒï¼ˆå¦‚å¾®ä¿¡ç™»å½•ï¼‰</td></tr><tr><td>æƒé™æ¡†æ¶</td><td>Spring Security + Spring Cloud Security</td><td>ä¸ Spring ç”Ÿæ€æ— ç¼é›†æˆï¼Œæ”¯æŒ RBAC æƒé™æ¨¡å‹ï¼Œå¯è‡ªå®šä¹‰æƒé™æ ¡éªŒé€»è¾‘</td></tr><tr><td>æ—¥å¿—å­˜å‚¨</td><td>Elasticsearch + Kibana</td><td>æ”¯æŒæµ·é‡æ—¥å¿—å­˜å‚¨å’Œå…¨æ–‡æ£€ç´¢ï¼Œä¾¿äºå®¡è®¡æ—¥å¿—çš„å¤šç»´åº¦æŸ¥è¯¢ï¼ˆå¦‚æŒ‰ç”¨æˆ· IDã€æ“ä½œç±»å‹ï¼‰</td></tr><tr><td>æ¶ˆæ¯é˜Ÿåˆ—</td><td>Kafka</td><td>é«˜ååï¼Œç¡®ä¿ç”¨æˆ·æ•°æ®å˜æ›´äº‹ä»¶ï¼ˆå¦‚ç”¨æˆ·æ³¨å†Œã€æƒé™ä¿®æ”¹ï¼‰å¯é åŒæ­¥åˆ°å…¶ä»–æœåŠ¡</td></tr><tr><td>API ç½‘å…³</td><td>Spring Cloud Gateway</td><td>è½»é‡ã€é«˜æ€§èƒ½ï¼Œæ”¯æŒåŠ¨æ€è·¯ç”±ã€é™æµã€é‰´æƒï¼Œç»Ÿä¸€æ¥å…¥å…¥å£</td></tr></tbody></table>
<h3 data-id="heading-5">ä¸‰ã€æ ¸å¿ƒåŠŸèƒ½è®¾è®¡ï¼šä» â€œèƒ½ç”¨â€ åˆ° â€œå¥½ç”¨â€</h3>
<h4 data-id="heading-6">1. ç”¨æˆ·ç®¡ç†æ¨¡å—ï¼ˆåŸºç¡€åŠŸèƒ½ï¼‰</h4>
<p>æ ¸å¿ƒæ˜¯ â€œå®‰å…¨çš„ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸç®¡ç†â€ï¼Œé‡ç‚¹è§£å†³æ³¨å†Œç™»å½•çš„å®‰å…¨æ€§ä¸ä¾¿æ·æ€§ï¼š</p>
<h5 data-id="heading-7">ï¼ˆ1ï¼‰ç”¨æˆ·æ³¨å†Œæµç¨‹ï¼ˆé˜²æ¶æ„æ³¨å†Œï¼‰</h5>
<pre><code class="hljs">ç”¨æˆ·æäº¤æ‰‹æœºå·/é‚®ç®± â†’ å‘é€éªŒè¯ç ï¼ˆRedisç¼“å­˜ï¼Œ5åˆ†é’Ÿè¿‡æœŸï¼‰ â†’ éªŒè¯éªŒè¯ç  â†’ å¯†ç åŠ å¯†å­˜å‚¨ â†’ ç”Ÿæˆç”¨æˆ·ID â†’ å‘é€â€œç”¨æˆ·æ³¨å†Œäº‹ä»¶â€åˆ°Kafka
</code></pre>
<ul>
<li><strong>å¯†ç åŠ å¯†</strong>ï¼šç”¨ BCrypt ç®—æ³•ï¼ˆè‡ªåŠ¨åŠ ç›ï¼Œä¸å¯é€†ï¼‰ï¼Œé¿å…æ˜æ–‡ / MD5 å­˜å‚¨ï¼ˆSpring Security é»˜è®¤æ”¯æŒ BCryptï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>é˜²æ¶æ„æ³¨å†Œ</strong>ï¼šåŒä¸€ IP / è®¾å¤‡ 1 å°æ—¶å†…æœ€å¤šå‘é€ 5 æ¬¡éªŒè¯ç ï¼ˆRedis è®°å½•æ¬¡æ•°ï¼‰ï¼ŒéªŒè¯ç ç»‘å®šè®¾å¤‡ IDã€‚</li>
</ul>
<h5 data-id="heading-8">ï¼ˆ2ï¼‰ç”¨æˆ·ç™»å½•æµç¨‹ï¼ˆæ”¯æŒå¤šç«¯ç™»å½•ï¼‰</h5>
<pre><code class="hljs">ç”¨æˆ·æäº¤è´¦å·å¯†ç  â†’ æ ¡éªŒè´¦å·å¯†ç  â†’ ç”ŸæˆJWTä»¤ç‰Œï¼ˆåŒ…å«ç”¨æˆ·IDã€è§’è‰²ã€è¿‡æœŸæ—¶é—´ï¼‰ â†’ Rediså­˜å‚¨ä¼šè¯ï¼ˆç”¨æˆ·IDâ†’è®¾å¤‡åˆ—è¡¨ï¼Œæ”¯æŒè¸¢ä¸‹çº¿ï¼‰ â†’ è¿”å›ä»¤ç‰Œ
</code></pre>
<ul>
<li><strong>JWT ä»¤ç‰Œç»“æ„</strong>ï¼š</li>
</ul>
<p>Headerï¼ˆç®—æ³•ï¼‰+ Payloadï¼ˆç”¨æˆ· ID:123, è§’è‰²:admin, exp:1688888888ï¼‰+ Signatureï¼ˆå¯†é’¥ç­¾åï¼Œé˜²æ­¢ç¯¡æ”¹ï¼‰ï¼›</p>
<ul>
<li><strong>å¤šç«¯ç™»å½•æ§åˆ¶</strong>ï¼šRedis å­˜å‚¨user:session:{userID}ä¸º Hash ç»“æ„ï¼Œkey = è®¾å¤‡ IDï¼Œvalue=JWT ä»¤ç‰Œï¼Œæ”¯æŒ â€œå•ç«¯ç™»å½•â€ï¼ˆæ–°ç™»å½•è¸¢æ‰æ—§ç™»å½•ï¼‰æˆ– â€œå¤šç«¯ç™»å½•â€ï¼ˆæœ€å¤š 3 å°è®¾å¤‡ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-9">2. è®¤è¯æˆæƒæ¨¡å—ï¼ˆæ ¸å¿ƒéåŠŸèƒ½ï¼‰</h4>
<p>è§£å†³ â€œè°èƒ½è®¿é—®ä»€ä¹ˆèµ„æºâ€ çš„é—®é¢˜ï¼ŒåŸºäº OAuth2.0 + JWT å®ç°ï¼š</p>
<h5 data-id="heading-10">ï¼ˆ1ï¼‰è®¤è¯æµç¨‹ï¼ˆç»Ÿä¸€é‰´æƒï¼‰</h5>
<p>æ‰€æœ‰ä¸šåŠ¡æœåŠ¡çš„è¯·æ±‚éœ€ç»è¿‡ API ç½‘å…³ï¼Œé‰´æƒæµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> å®¢æˆ·ç«¯æºå¸¦JWTä»¤ç‰Œè¯·æ±‚APIç½‘å…³ï¼›
<span class="hljs-bullet">2.</span> ç½‘å…³éªŒè¯ä»¤ç‰Œç­¾åä¸è¿‡æœŸæ—¶é—´ï¼ˆæ— éœ€æŸ¥åº“ï¼ŒJWTæ— çŠ¶æ€ï¼‰ï¼›
<span class="hljs-bullet">3.</span> ä»¤ç‰Œæœ‰æ•ˆåˆ™è§£æç”¨æˆ·ä¿¡æ¯ï¼ˆç”¨æˆ·IDã€è§’è‰²ï¼‰ï¼Œè½¬å‘åˆ°å¯¹åº”å¾®æœåŠ¡ï¼›
<span class="hljs-bullet">4.</span> ä»¤ç‰Œæ— æ•ˆ/è¿‡æœŸåˆ™è¿”å›401æœªæˆæƒã€‚
</code></pre>
<ul>
<li><strong>ä»¤ç‰Œåˆ·æ–°</strong>ï¼šJWT è®¾ç½®çŸ­æœŸè¿‡æœŸï¼ˆå¦‚ 2 å°æ—¶ï¼‰ï¼ŒåŒæ—¶ç”Ÿæˆ â€œåˆ·æ–°ä»¤ç‰Œâ€ï¼ˆè¿‡æœŸæ—¶é—´ 7 å¤©ï¼Œå­˜å‚¨åœ¨ Redisï¼‰ï¼Œä»¤ç‰Œè¿‡æœŸæ—¶ç”¨åˆ·æ–°ä»¤ç‰Œé‡æ–°è·å– JWTï¼Œé¿å…é¢‘ç¹ç™»å½•ã€‚</li>
</ul>
<h5 data-id="heading-11">ï¼ˆ2ï¼‰ç¬¬ä¸‰æ–¹ç™»å½•é›†æˆï¼ˆå¦‚å¾®ä¿¡ç™»å½•ï¼‰</h5>
<p>åŸºäº OAuth2.0 æˆæƒç æ¨¡å¼ï¼Œæµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs">ç”¨æˆ·ç‚¹å‡»å¾®ä¿¡ç™»å½• â†’ è·³è½¬å¾®ä¿¡æˆæƒé¡µ â†’ ç”¨æˆ·æˆæƒåè·å–æˆæƒç  â†’ ç”¨æˆæƒç æ¢å¾®ä¿¡OpenID â†’ æŸ¥ç”¨æˆ·ä¸­å¿ƒæ˜¯å¦ç»‘å®šOpenIDï¼ˆå·²ç»‘å®šåˆ™ç›´æ¥ç™»å½•ï¼Œæœªç»‘å®šåˆ™å¼•å¯¼ç»‘å®šæ‰‹æœºå·ï¼‰ â†’ ç”ŸæˆJWTä»¤ç‰Œ
</code></pre>
<h4 data-id="heading-12">3. æƒé™æ§åˆ¶æ¨¡å—ï¼ˆé‡ç‚¹éåŠŸèƒ½ï¼‰</h4>
<p>æƒé™æ§åˆ¶æ˜¯ç”¨æˆ·ä¸­å¿ƒçš„ â€œçµé­‚â€ï¼Œéœ€åŒæ—¶æ”¯æŒ â€œåŠŸèƒ½æƒé™â€ï¼ˆèƒ½ä¸èƒ½æ“ä½œæŸä¸ªæŒ‰é’®ï¼‰å’Œ â€œæ•°æ®æƒé™â€ï¼ˆèƒ½ä¸èƒ½çœ‹æŸç±»æ•°æ®ï¼‰ï¼Œæ¨èé‡‡ç”¨<strong>RBACï¼ˆåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼‰æ¨¡å‹</strong>ã€‚</p>
<h5 data-id="heading-13">ï¼ˆ1ï¼‰RBAC æ¨¡å‹è®¾è®¡ï¼ˆè¡¨ç»“æ„ï¼‰</h5>
<p>æ ¸å¿ƒè¡¨ç»“æ„å¦‚ä¸‹ï¼Œé€šè¿‡å…³è”å®ç° â€œç”¨æˆ· - è§’è‰² - æƒé™â€ çš„çµæ´»æ˜ å°„ï¼š</p>



































<table><thead><tr><th>è¡¨å</th><th>æ ¸å¿ƒå­—æ®µ</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>sys_user</td><td>user_id, username, passwordï¼ˆBCrypt åŠ å¯†ï¼‰, statusï¼ˆå¯ç”¨ / ç¦ç”¨ï¼‰</td><td>å­˜å‚¨ç”¨æˆ·åŸºç¡€ä¿¡æ¯</td></tr><tr><td>sys_role</td><td>role_id, role_name, role_codeï¼ˆå¦‚ adminã€userï¼‰, description</td><td>å­˜å‚¨è§’è‰²ï¼ˆå¦‚ç®¡ç†å‘˜ã€æ™®é€šç”¨æˆ·ã€è¿è¥ï¼‰</td></tr><tr><td>sys_permission</td><td>perm_id, perm_name, perm_typeï¼ˆmenu/button/apiï¼‰, perm_url, perm_method</td><td>å­˜å‚¨æƒé™ï¼ˆå¦‚ â€œç”¨æˆ·åˆ é™¤â€ æŒ‰é’®ã€â€œ/api/user/deleteâ€ æ¥å£ï¼‰</td></tr><tr><td>sys_user_role</td><td>id, user_id, role_id</td><td>ç”¨æˆ·ä¸è§’è‰²çš„å¤šå¯¹å¤šå…³è”</td></tr><tr><td>sys_role_permission</td><td>id, role_id, perm_id</td><td>è§’è‰²ä¸æƒé™çš„å¤šå¯¹å¤šå…³è”</td></tr></tbody></table>
<h5 data-id="heading-14">ï¼ˆ2ï¼‰åŠŸèƒ½æƒé™æ ¡éªŒï¼ˆæ¥å£çº§æ§åˆ¶ï¼‰</h5>
<ul>
<li><strong>æƒé™ç¼“å­˜</strong>ï¼šç”¨æˆ·ç™»å½•æ—¶ï¼Œä»æ•°æ®åº“æŸ¥è¯¢ â€œç”¨æˆ·â†’è§’è‰²â†’æƒé™â€ï¼Œå°†æƒé™åˆ—è¡¨ï¼ˆå¦‚/api/user/deleteã€/api/role/listï¼‰ç¼“å­˜åˆ° Redisï¼ŒKey=user:perm:{userID}ï¼Œè¿‡æœŸæ—¶é—´ä¸ JWT ä¸€è‡´ï¼›</li>
</ul>

<ul>
<li><strong>æ¥å£æ ¡éªŒ</strong>ï¼šåœ¨éœ€è¦æƒé™çš„æ¥å£ä¸Šæ·»åŠ æ³¨è§£ï¼ˆå¦‚@PreAuthorize("hasPermission('/api/user/delete', 'api')")ï¼‰ï¼ŒSpring Security ä¼šè‡ªåŠ¨ä» Redis è·å–ç”¨æˆ·æƒé™å¹¶æ ¡éªŒï¼Œæ— æƒé™åˆ™è¿”å› 403ã€‚</li>
</ul>
<h5 data-id="heading-15">ï¼ˆ3ï¼‰æ•°æ®æƒé™æ§åˆ¶ï¼ˆæ•°æ®çº§éš”ç¦»ï¼‰</h5>
<p>è§£å†³ â€œåŒè§’è‰²ä¸åŒç”¨æˆ·çœ‹ä¸åŒæ•°æ®â€ çš„é—®é¢˜ï¼ˆå¦‚è¿è¥ A åªèƒ½çœ‹åŒ—äº¬åœ°åŒºç”¨æˆ·ï¼Œè¿è¥ B åªèƒ½çœ‹ä¸Šæµ·åœ°åŒºï¼‰ï¼š</p>
<ul>
<li><strong>è®¾è®¡æ€è·¯</strong>ï¼šåœ¨ç”¨æˆ·è¡¨ / è§’è‰²è¡¨ä¸­æ·»åŠ  â€œæ•°æ®æƒé™èŒƒå›´â€ å­—æ®µï¼ˆå¦‚data_scope: beijingï¼‰ï¼ŒæŸ¥è¯¢æ•°æ®æ—¶åŠ¨æ€æ‹¼æ¥æ¡ä»¶ï¼ˆwhere region = #{dataScope}ï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>å®ç°æ–¹å¼</strong>ï¼šç”¨ MyBatis æ’ä»¶æ‹¦æˆª SQLï¼Œæ ¹æ®å½“å‰ç”¨æˆ·çš„data_scopeè‡ªåŠ¨æ·»åŠ æ•°æ®æƒé™æ¡ä»¶ï¼Œæ— éœ€åœ¨æ¯ä¸ª SQL ä¸­æ‰‹åŠ¨å†™æ¡ä»¶ã€‚</li>
</ul>
<h4 data-id="heading-16">4. å®¡è®¡æ—¥å¿—æ¨¡å—ï¼ˆå…³é”®éåŠŸèƒ½ï¼‰</h4>
<p>å®¡è®¡æ—¥å¿—æ˜¯ â€œå®‰å…¨è¿½æº¯â€ çš„æ ¸å¿ƒï¼Œéœ€è®°å½• â€œè°åœ¨ä»€ä¹ˆæ—¶é—´åšäº†ä»€ä¹ˆæ“ä½œï¼Œç»“æœå¦‚ä½•â€ï¼Œæ»¡è¶³åˆè§„è¦æ±‚ï¼ˆå¦‚é‡‘èè¡Œä¸šçš„å®¡è®¡éœ€æ±‚ï¼‰ã€‚</p>
<h5 data-id="heading-17">ï¼ˆ1ï¼‰æ—¥å¿—å†…å®¹è®¾è®¡ï¼ˆå¿…å«å­—æ®µï¼‰</h5>
<p>æ¯æ¡å®¡è®¡æ—¥å¿—éœ€åŒ…å«ä»¥ä¸‹å­—æ®µï¼Œç¡®ä¿å¯è¿½æº¯ï¼š</p>






































































<table><thead><tr><th>å­—æ®µå</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>log_id</td><td>å­—ç¬¦ä¸²</td><td>å”¯ä¸€ IDï¼ˆUUIDï¼‰</td></tr><tr><td>user_id</td><td>å­—ç¬¦ä¸²</td><td>æ“ä½œäºº IDï¼ˆåŒ¿åæ“ä½œå¡« â€œanonymousâ€ï¼‰</td></tr><tr><td>user_name</td><td>å­—ç¬¦ä¸²</td><td>æ“ä½œäººå§“åï¼ˆä¾¿äºäººå·¥æ’æŸ¥ï¼‰</td></tr><tr><td>operation_type</td><td>æšä¸¾</td><td>æ“ä½œç±»å‹ï¼ˆå¦‚ USER_CREATEã€PERMISSION_UPDATEã€LOGIN_SUCCESSã€LOGIN_FAILEDï¼‰</td></tr><tr><td>resource_type</td><td>æšä¸¾</td><td>æ“ä½œèµ„æºï¼ˆå¦‚ USERã€ROLEã€PERMISSIONã€LOGINï¼‰</td></tr><tr><td>resource_id</td><td>å­—ç¬¦ä¸²</td><td>æ“ä½œèµ„æº IDï¼ˆå¦‚ç”¨æˆ· IDã€è§’è‰² IDï¼‰</td></tr><tr><td>operation_detail</td><td>å­—ç¬¦ä¸²</td><td>æ“ä½œè¯¦æƒ…ï¼ˆJSON æ ¼å¼ï¼Œå¦‚{"old_password":"<em><strong>","new_password":"</strong></em>"}ï¼Œæ•æ„Ÿä¿¡æ¯è„±æ•ï¼‰</td></tr><tr><td>client_ip</td><td>å­—ç¬¦ä¸²</td><td>æ“ä½œ IP åœ°å€ï¼ˆä¾¿äºå®šä½æ¶æ„æ“ä½œï¼‰</td></tr><tr><td>client_device</td><td>å­—ç¬¦ä¸²</td><td>æ“ä½œè®¾å¤‡ï¼ˆå¦‚ â€œChrome/Windows 10â€ï¼Œè§£æ User-Agentï¼‰</td></tr><tr><td>operation_time</td><td>æ—¶é—´æˆ³</td><td>æ“ä½œæ—¶é—´ï¼ˆæ¯«ç§’çº§ï¼‰</td></tr><tr><td>result</td><td>æšä¸¾</td><td>æ“ä½œç»“æœï¼ˆSUCCESS/FAILï¼‰</td></tr><tr><td>fail_reason</td><td>å­—ç¬¦ä¸²</td><td>å¤±è´¥åŸå› ï¼ˆå¦‚ â€œå¯†ç é”™è¯¯â€â€œæƒé™ä¸è¶³â€ï¼Œå¤±è´¥æ—¶å¿…å¡«ï¼‰</td></tr></tbody></table>
<h5 data-id="heading-18">ï¼ˆ2ï¼‰æ—¥å¿—è®°å½•æµç¨‹ï¼ˆå¼‚æ­¥æ— æ„ŸçŸ¥ï¼‰</h5>
<p>é€šè¿‡ â€œAOP åˆ‡é¢â€ è‡ªåŠ¨è®°å½•æ—¥å¿—ï¼Œä¸ä¾µå…¥ä¸šåŠ¡ä»£ç ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-number">1.</span> å®šä¹‰æ—¥å¿—æ³¨è§£ï¼ˆå¦‚<span class="hljs-meta">@AuditLog(operationType = <span class="hljs-string">"USER_UPDATE"</span>, resourceType = <span class="hljs-string">"USER"</span>)</span>ï¼‰ï¼›
<span class="hljs-number">2.</span> åœ¨éœ€è¦è®°å½•æ—¥å¿—çš„æ¥å£æ–¹æ³•ä¸Šæ·»åŠ æ³¨è§£ï¼›
<span class="hljs-number">3.</span> ç¼–å†™AOPåˆ‡é¢ï¼Œæ‹¦æˆªå¸¦æœ‰<span class="hljs-meta">@AuditLog</span>çš„æ–¹æ³•ï¼Œè‡ªåŠ¨é‡‡é›†æ—¥å¿—å­—æ®µï¼ˆå¦‚ä»JWTè·å–user_idï¼Œä»è¯·æ±‚è·å–IPï¼‰ï¼›
<span class="hljs-number">4.</span> å¼‚æ­¥å°†æ—¥å¿—å‘é€åˆ°Kafkaï¼Œç”±æ¶ˆè´¹è€…å†™å…¥Elasticsearchï¼›
<span class="hljs-number">5.</span> æä¾›æ—¥å¿—æŸ¥è¯¢æ¥å£ï¼ˆæ”¯æŒæŒ‰user_idã€operation_typeã€æ—¶é—´èŒƒå›´æŸ¥è¯¢ï¼‰ï¼Œå‰ç«¯ç”¨Kibanaæˆ–è‡ªå®šä¹‰é¡µé¢å±•ç¤ºã€‚
</code></pre>
<ul>
<li><strong>æ•æ„Ÿä¿¡æ¯è„±æ•</strong>ï¼šåˆ‡é¢ä¸­å¯¹å¯†ç ã€æ‰‹æœºå·ç­‰æ•æ„Ÿä¿¡æ¯è¿›è¡Œè„±æ•ï¼ˆå¦‚æ‰‹æœºå·æ˜¾ç¤ºä¸º â€œ138****5678â€ï¼‰ï¼Œé¿å…æ—¥å¿—æ³„éœ²éšç§ã€‚</li>
</ul>
<h3 data-id="heading-19">å››ã€éåŠŸèƒ½æ€§éœ€æ±‚è½åœ°ï¼šä» â€œèƒ½ç”¨â€ åˆ° â€œå¯é â€</h3>
<p>ç”¨æˆ·ä¸­å¿ƒçš„éåŠŸèƒ½æ€§éœ€æ±‚ç›´æ¥å†³å®šæœåŠ¡çš„ â€œç¨³å®šæ€§ä¸å®‰å…¨æ€§â€ï¼Œéœ€é‡ç‚¹è®¾è®¡ï¼š</p>
<h4 data-id="heading-20">1. å®‰å…¨æ€§ï¼ˆé˜²æ”»å‡»ã€é˜²æ³„éœ²ï¼‰</h4>
<h5 data-id="heading-21">ï¼ˆ1ï¼‰æ•°æ®å®‰å…¨</h5>
<ul>
<li><strong>ä¼ è¾“å®‰å…¨</strong>ï¼šæ‰€æœ‰æ¥å£å¼ºåˆ¶ä½¿ç”¨ HTTPSï¼Œé˜²æ­¢æ•°æ®è¢«æŠ“åŒ…çªƒå–ï¼›</li>
</ul>

<ul>
<li><strong>å­˜å‚¨å®‰å…¨</strong>ï¼šå¯†ç ç”¨ BCrypt åŠ å¯†ï¼Œæ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚æ‰‹æœºå·ã€é‚®ç®±ï¼‰ç”¨ AES åŠ å¯†å­˜å‚¨ï¼Œå¯†é’¥å­˜åœ¨é…ç½®ä¸­å¿ƒï¼ˆå¦‚ Nacosï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>è„±æ•å±•ç¤º</strong>ï¼šæ¥å£è¿”å›ç”¨æˆ·ä¿¡æ¯æ—¶ï¼Œå¯¹æ•æ„Ÿå­—æ®µè„±æ•ï¼ˆå¦‚{"phone":"138<strong><strong>5678","email":"123</strong></strong>@qq.com"}ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-22">ï¼ˆ2ï¼‰æ¥å£å®‰å…¨</h5>
<ul>
<li><strong>é˜² SQL æ³¨å…¥</strong>ï¼šç”¨ MyBatis å‚æ•°ç»‘å®šï¼ˆ#{}ï¼‰ï¼Œé¿å…æ‹¼æ¥ SQLï¼›</li>
</ul>

<ul>
<li><strong>é˜² XSS æ”»å‡»</strong>ï¼šAPI ç½‘å…³å±‚ç”¨è¿‡æ»¤å™¨è¿‡æ»¤è¯·æ±‚å‚æ•°ä¸­çš„è„šæœ¬æ ‡ç­¾ï¼ˆå¦‚
</li></ul>

<ul>
<li><strong>é˜² CSRF æ”»å‡»</strong>ï¼šå‰åç«¯åˆ†ç¦»åœºæ™¯ä¸‹ï¼Œç”¨ JWT ä»¤ç‰Œçš„issï¼ˆç­¾å‘è€…ï¼‰å­—æ®µæ ¡éªŒæ¥æºï¼Œæˆ–åœ¨å‰ç«¯å­˜å‚¨ CSRF ä»¤ç‰Œï¼›</li>
</ul>

<ul>
<li><strong>æ¥å£é˜²åˆ·</strong>ï¼šAPI ç½‘å…³å±‚å¯¹é«˜é¢‘æ¥å£ï¼ˆå¦‚ç™»å½•ã€éªŒè¯ç å‘é€ï¼‰é™æµï¼ŒåŒä¸€ IP / ç”¨æˆ· ID æ¯åˆ†é’Ÿæœ€å¤šè¯·æ±‚ 10 æ¬¡ï¼ˆRedis è®°å½•è¯·æ±‚æ¬¡æ•°ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-23">ï¼ˆ3ï¼‰æƒé™å®‰å…¨</h5>
<ul>
<li><strong>æœ€å°æƒé™åŸåˆ™</strong>ï¼šé»˜è®¤ç”¨æˆ·åªåˆ†é… â€œå¿…è¦æƒé™â€ï¼ˆå¦‚æ™®é€šç”¨æˆ·æ— è§’è‰²ç®¡ç†æƒé™ï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>æƒé™å˜æ›´å®¡è®¡</strong>ï¼šè§’è‰²ã€æƒé™çš„æ–°å¢ / ä¿®æ”¹ / åˆ é™¤å¿…é¡»è®°å½•å®¡è®¡æ—¥å¿—ï¼Œæ”¯æŒè¿½æº¯ï¼›</li>
</ul>

<ul>
<li><strong>ä¼šè¯å®‰å…¨</strong>ï¼šç”¨æˆ·æ³¨é”€æ—¶åˆ é™¤ Redis ä¸­çš„ä¼šè¯å’Œ JWT é»‘åå•ï¼ˆRedis å­˜å‚¨å·²æ³¨é”€çš„ JWTï¼Œæœ‰æ•ˆæœŸä¸ JWT è¿‡æœŸæ—¶é—´ä¸€è‡´ï¼‰ï¼Œé˜²æ­¢ä»¤ç‰Œå¤ç”¨ã€‚</li>
</ul>
<h4 data-id="heading-24">2. é«˜å¯ç”¨æ€§ï¼ˆé¿å…å•ç‚¹æ•…éšœï¼‰</h4>
<h5 data-id="heading-25">ï¼ˆ1ï¼‰æœåŠ¡é«˜å¯ç”¨</h5>
<ul>
<li><strong>é›†ç¾¤éƒ¨ç½²</strong>ï¼šç”¨æˆ·ä¸­å¿ƒæœåŠ¡éƒ¨ç½²å¤šä¸ªå®ä¾‹ï¼ˆè‡³å°‘ 3 ä¸ªï¼‰ï¼Œæ³¨å†Œåˆ° Nacos/Eurekaï¼ŒAPI ç½‘å…³è‡ªåŠ¨è´Ÿè½½å‡è¡¡ï¼›</li>
</ul>

<ul>
<li><strong>ç†”æ–­é™çº§</strong>ï¼šç”¨ Sentinel å¯¹ä¾èµ–çš„æœåŠ¡ï¼ˆå¦‚çŸ­ä¿¡æœåŠ¡ã€ç¬¬ä¸‰æ–¹ç™»å½•æ¥å£ï¼‰ç†”æ–­ï¼Œé¿å…ä¾èµ–æ•…éšœå¯¼è‡´ç”¨æˆ·ä¸­å¿ƒä¸å¯ç”¨ï¼ˆå¦‚çŸ­ä¿¡æœåŠ¡æŒ‚äº†ï¼Œä¸´æ—¶å…è®¸éªŒè¯ç è·³è¿‡ï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>å®¹ç¾å¤‡ä»½</strong>ï¼šMySQL é‡‡ç”¨ä¸»ä»æ¶æ„ï¼Œä¸»åº“æ•…éšœæ—¶è‡ªåŠ¨åˆ‡æ¢åˆ°ä»åº“ï¼›Redis ç”¨ Cluster æ¶æ„ï¼Œè‡³å°‘ 3 ä¸» 3 ä»ï¼Œé¿å…ç¼“å­˜å•ç‚¹æ•…éšœã€‚</li>
</ul>
<h5 data-id="heading-26">ï¼ˆ2ï¼‰æ•°æ®é«˜å¯ç”¨</h5>
<ul>
<li><strong>æ•°æ®åº“å¤‡ä»½</strong>ï¼šMySQL æ¯æ—¥å…¨é‡å¤‡ä»½ + å¢é‡å¤‡ä»½ï¼ˆbinlogï¼‰ï¼Œç¡®ä¿æ•°æ®å¯æ¢å¤ï¼›</li>
</ul>

<ul>
<li><strong>ç¼“å­˜ç©¿é€é˜²æŠ¤</strong>ï¼šå¯¹ä¸å­˜åœ¨çš„ç”¨æˆ· ID è¯·æ±‚ï¼ˆå¦‚/api/user/info?userID=99999ï¼‰ï¼Œç¼“å­˜ç©ºç»“æœï¼ˆ10 åˆ†é’Ÿè¿‡æœŸï¼‰ï¼Œé¿å…ç©¿é€åˆ°æ•°æ®åº“ï¼›</li>
</ul>

<ul>
<li><strong>ç¼“å­˜é›ªå´©é˜²æŠ¤</strong>ï¼šRedis ç¼“å­˜è®¾ç½®éšæœºè¿‡æœŸæ—¶é—´ï¼ˆå¦‚ JWT ç¼“å­˜ 2 å°æ—¶ Â±5 åˆ†é’Ÿï¼‰ï¼Œé¿å…åŒä¸€æ—¶é—´å¤§é‡ç¼“å­˜å¤±æ•ˆå¯¼è‡´æ•°æ®åº“å‹åŠ›éª¤å¢ã€‚</li>
</ul>
<h4 data-id="heading-27">3. å¯æ‰©å±•æ€§ï¼ˆé€‚é…ä¸šåŠ¡å¢é•¿ï¼‰</h4>
<h5 data-id="heading-28">ï¼ˆ1ï¼‰æ°´å¹³æ‰©å±•</h5>
<ul>
<li><strong>æ— çŠ¶æ€è®¾è®¡</strong>ï¼šç”¨æˆ·ä¸­å¿ƒæœåŠ¡ä¸å­˜å‚¨æœ¬åœ°ä¼šè¯ï¼ˆä¼šè¯å­˜åœ¨ Redisï¼‰ï¼Œæ–°å¢å®ä¾‹å³å¯æ‰©å±•æ€§èƒ½ï¼›</li>
</ul>

<ul>
<li><strong>åˆ†åº“åˆ†è¡¨</strong>ï¼šç”¨æˆ·é‡è¶…åƒä¸‡æ—¶ï¼Œç”¨ ShardingSphere æŒ‰user_idå“ˆå¸Œåˆ†è¡¨ï¼ˆå¦‚åˆ† 16 å¼ è¡¨ï¼‰ï¼Œé¿å…å•è¡¨æ•°æ®é‡è¿‡å¤§å¯¼è‡´æŸ¥è¯¢ç¼“æ…¢ã€‚</li>
</ul>
<h5 data-id="heading-29">ï¼ˆ2ï¼‰åŠŸèƒ½æ‰©å±•</h5>
<ul>
<li><strong>å¤šç§Ÿæˆ·æ”¯æŒ</strong>ï¼šåœ¨ç”¨æˆ·è¡¨ã€è§’è‰²è¡¨ä¸­æ·»åŠ tenant_idå­—æ®µï¼Œéš”ç¦»ä¸åŒç§Ÿæˆ·çš„ç”¨æˆ·æ•°æ®ï¼Œé€‚é… SaaS å¹³å°åœºæ™¯ï¼›</li>
</ul>

<ul>
<li><strong>è‡ªå®šä¹‰æƒé™æ‰©å±•</strong>ï¼šæ”¯æŒä¸šåŠ¡æ–¹é€šè¿‡ â€œæƒé™æ³¨å†Œæ¥å£â€ æ·»åŠ è‡ªå®šä¹‰æƒé™ï¼ˆå¦‚è®¢å•æœåŠ¡çš„ â€œè®¢å•æŸ¥çœ‹æƒé™â€ï¼‰ï¼Œç”¨æˆ·ä¸­å¿ƒç»Ÿä¸€ç®¡ç†ï¼›</li>
</ul>

<ul>
<li><strong>ç¬¬ä¸‰æ–¹ç™»å½•æ‰©å±•</strong>ï¼šè®¾è®¡ â€œç¬¬ä¸‰æ–¹ç™»å½•é€‚é…å™¨â€ï¼Œæ–°å¢ç™»å½•æ¸ é“ï¼ˆå¦‚ Apple ç™»å½•ã€Google ç™»å½•ï¼‰æ—¶ï¼Œåªéœ€å®ç°é€‚é…å™¨æ¥å£ï¼Œæ— éœ€ä¿®æ”¹æ ¸å¿ƒé€»è¾‘ã€‚</li>
</ul>
<h4 data-id="heading-30">4. æ€§èƒ½ä¼˜åŒ–ï¼ˆä½å»¶è¿Ÿã€é«˜ååï¼‰</h4>
<ul>
<li><strong>ç¼“å­˜ä¼˜åŒ–</strong>ï¼šç”¨æˆ·åŸºç¡€ä¿¡æ¯ã€è§’è‰²æƒé™åˆ—è¡¨ç¼“å­˜åˆ° Redisï¼ŒæŸ¥è¯¢æ¥å£ä»ç¼“å­˜è·å–ï¼Œç¼“å­˜å‘½ä¸­ç‡è¾¾ 95% ä»¥ä¸Šï¼›</li>
</ul>

<ul>
<li><strong>å¼‚æ­¥å¤„ç†</strong>ï¼šéå®æ—¶æ“ä½œï¼ˆå¦‚å‘é€æ³¨å†ŒæˆåŠŸçŸ­ä¿¡ã€åŒæ­¥ç”¨æˆ·æ•°æ®åˆ°å…¶ä»–æœåŠ¡ï¼‰ç”¨ Kafka å¼‚æ­¥å¤„ç†ï¼Œå‡å°‘æ¥å£å“åº”æ—¶é—´ï¼›</li>
</ul>

<ul>
<li><strong>SQL ä¼˜åŒ–</strong>ï¼šç”¨æˆ·ã€è§’è‰²ã€æƒé™è¡¨æ·»åŠ ç´¢å¼•ï¼ˆå¦‚user_idã€role_idã€perm_urlï¼‰ï¼Œé¿å…å…¨è¡¨æ‰«æï¼›å¤æ‚æƒé™æŸ¥è¯¢ç”¨ â€œé¢„è®¡ç®— + ç¼“å­˜â€ï¼Œå‡å°‘å…³è”æŸ¥è¯¢ã€‚</li>
</ul>
<h3 data-id="heading-31">äº”ã€å®è·µè½åœ°å»ºè®®ï¼šé¿å‘ä¸æœ€ä½³å®è·µ</h3>
<ol>
<li><strong>å…ˆåš MVP ç‰ˆæœ¬</strong>ï¼šåˆæœŸä¼˜å…ˆå®ç° â€œç”¨æˆ·æ³¨å†Œç™»å½• + åŸºç¡€ RBAC æƒé™ + ç®€å•å®¡è®¡æ—¥å¿—â€ï¼Œé¿å…è¿‡åº¦è®¾è®¡ï¼›</li>
</ol>

<ol start="2">
<li><strong>æ¥å£è§„èŒƒç»Ÿä¸€</strong>ï¼šé‡‡ç”¨ RESTful é£æ ¼ï¼Œæ¥å£è·¯å¾„ã€å‚æ•°å‘½åã€è¿”å›æ ¼å¼ç»Ÿä¸€ï¼ˆå¦‚è¿”å›{"code":200,"msg":"success","data":{}}ï¼‰ï¼Œæ–¹ä¾¿å…¶ä»–æœåŠ¡é›†æˆï¼›</li>
</ol>

<ol start="3">
<li><strong>ç›‘æ§å‘Šè­¦åˆ°ä½</strong>ï¼šéƒ¨ç½² Prometheus+Grafana ç›‘æ§æœåŠ¡ CPUã€å†…å­˜ã€æ¥å£å“åº”æ—¶é—´ï¼Œè®¾ç½®å‘Šè­¦é˜ˆå€¼ï¼ˆå¦‚æ¥å£å“åº”æ—¶é—´ &gt; 500ms å‘Šè­¦ï¼‰ï¼›å¯¹å¼‚å¸¸ç™»å½•ï¼ˆå¦‚å¼‚åœ°ç™»å½•ã€è¿ç»­å¤±è´¥ 5 æ¬¡ï¼‰å‘é€çŸ­ä¿¡å‘Šè­¦ç»™ç”¨æˆ·ï¼›</li>
</ol>

<ol start="4">
<li><strong>ç°åº¦å‘å¸ƒ</strong>ï¼šæ–°å¢åŠŸèƒ½ï¼ˆå¦‚ç¬¬ä¸‰æ–¹ç™»å½•ï¼‰é‡‡ç”¨ç°åº¦å‘å¸ƒï¼Œå…ˆå¯¹ 10% ç”¨æˆ·å¼€æ”¾ï¼ŒéªŒè¯æ— é—®é¢˜åå…¨é‡ä¸Šçº¿ï¼›</li>
</ol>

<ol start="5">
<li><strong>æ–‡æ¡£å®Œå–„</strong>ï¼šç¼–å†™ API æ–‡æ¡£ï¼ˆç”¨ Swagger/knife4jï¼‰å’Œè¿ç»´æ–‡æ¡£ï¼Œè¯´æ˜éƒ¨ç½²æ­¥éª¤ã€æ‰©å®¹æ–¹æ¡ˆã€æ•…éšœå¤„ç†æµç¨‹ï¼Œæ–¹ä¾¿å›¢é˜Ÿåä½œã€‚</li>
</ol>
<h3 data-id="heading-32">æ€»ç»“</h3>
<p>ç”¨æˆ·ä¸­å¿ƒå¾®æœåŠ¡çš„è®¾è®¡æ ¸å¿ƒæ˜¯ â€œ<strong>ä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒï¼Œä»¥å®‰å…¨ä¸ºåº•çº¿ï¼Œä»¥æ‰©å±•ä¸ºç›®æ ‡</strong>â€ï¼š</p>
<ul>
<li>åŠŸèƒ½ä¸Šï¼Œéœ€è¦†ç›– â€œç”¨æˆ·ç”Ÿå‘½å‘¨æœŸç®¡ç† + è®¤è¯æˆæƒ + æƒé™æ§åˆ¶ + å®¡è®¡æ—¥å¿—â€ï¼Œæ»¡è¶³ä¸šåŠ¡ä¸åˆè§„éœ€æ±‚ï¼›</li>
</ul>

<ul>
<li>éåŠŸèƒ½ä¸Šï¼Œéœ€é‡ç‚¹ä¿éšœ â€œå®‰å…¨æ€§ã€é«˜å¯ç”¨æ€§ã€å¯æ‰©å±•æ€§â€ï¼Œé¿å…æˆä¸ºå¾®æœåŠ¡æ¶æ„çš„ç“¶é¢ˆï¼›</li>
</ul>

<ul>
<li>è½åœ°æ—¶ï¼Œéœ€å¾ªåºæ¸è¿›ï¼Œå…ˆå®ç°æ ¸å¿ƒåŠŸèƒ½ï¼Œå†é€æ­¥ä¼˜åŒ–éåŠŸèƒ½ç‚¹ï¼ŒåŒæ—¶æ³¨é‡æ–‡æ¡£ä¸ç›‘æ§ï¼Œé™ä½ç»´æŠ¤æˆæœ¬ã€‚</li>
</ul>
<p>æœ€ç»ˆï¼Œä¸€ä¸ªä¼˜ç§€çš„ç”¨æˆ·ä¸­å¿ƒä¸ä»…èƒ½æ”¯æ’‘å½“å‰ä¸šåŠ¡ï¼Œè¿˜èƒ½éšä¸šåŠ¡å¢é•¿çµæ´»æ‰©å±•ï¼Œæˆä¸ºå¾®æœåŠ¡æ¶æ„ä¸­ç¨³å®šå¯é çš„ â€œåœ°åŸºâ€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€vue3ã€‘è¿™äº›ä¸å¸¸ç”¨çš„APIï¼Œå´å¾ˆå®ç”¨]]></title>    <link>https://juejin.cn/post/7571726099689373715</link>    <guid>https://juejin.cn/post/7571726099689373715</guid>    <pubDate>2025-11-13T02:32:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571726099689373715" data-draft-id="7571731181197787172" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€vue3ã€‘è¿™äº›ä¸å¸¸ç”¨çš„APIï¼Œå´å¾ˆå®ç”¨"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-13T02:32:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‘å¢¨"/> <meta itemprop="url" content="https://juejin.cn/user/3069492194710797"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€vue3ã€‘è¿™äº›ä¸å¸¸ç”¨çš„APIï¼Œå´å¾ˆå®ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3069492194710797/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‘å¢¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T02:32:17.000Z" title="Thu Nov 13 2025 02:32:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.7;font-weight:400;font-size:16px;overflow-x:hidden;color:#2c3e50;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;font-weight:600;margin-top:35px;margin-bottom:8px;padding-bottom:5px}.markdown-body h1 :before,.markdown-body h2 :before,.markdown-body h3 :before,.markdown-body h4 :before,.markdown-body h5 :before,.markdown-body h6 :before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{padding-bottom:8px;margin-top:50px;font-size:24px;border-bottom:1px solid #eaecef}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #eaecef;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;font-weight:400;background-color:rgba(27,31,35,.05);color:#476582;margin:0;font-size:.85em;border-radius:3px;font-size:.87em;padding:.165em .5em}.markdown-body code,.markdown-body pre{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.6;padding:20px 24px;background-color:#282c34;border-radius:6px}.markdown-body pre&gt;code{font-size:14px;padding:0;margin:0;word-break:normal;display:block;overflow-x:auto;color:#fff}.markdown-body a{text-decoration:none;color:#3eaf7c;font-weight:500}.markdown-body a:active,.markdown-body a:hover{color:#42b983;border-bottom:1px solid #42b983}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;margin:16px 0;border-collapse:collapse}.markdown-body thead{background:#f6f6f6;background:#3eaf7c;color:#000;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f6f8fa}.markdown-body td,.markdown-body th{border:1px solid #dfe2e5;padding:10px 16px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{font-size:14px;padding:6px 23px;margin:22px 0;border-left:6px solid #42b983;background-color:#f3f5f7;font-weight:400}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body p,.markdown-body ul{line-height:1.7}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="base16/tomorrow-night">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘åœ¨é‡æ„ä¸€ä¸ªè€ç§»åŠ¨ç«¯é¡¹ç›®ï¼Œç”¨Vue3é‡å†™çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°äº†ä¸€äº›å¹³æ—¶ä¸å¤ªæ³¨æ„çš„APIï¼Œä½†ç”¨èµ·æ¥çœŸçš„å¾ˆé¦™ã€‚ä»Šå¤©åˆ†äº«å‡ ä¸ªæˆ‘è§‰å¾—ç‰¹åˆ«å®ç”¨çš„ï¼Œå¸Œæœ›èƒ½å¸®åˆ°æ­£åœ¨å­¦ä¹ Vue3çš„jymã€‚</p>
<h2 data-id="heading-0">1. shallowRef å’Œ shallowReactive - â€˜å¤§æ•°æ®â€™æ€§èƒ½æå‡</h2>
<p>å…ˆè¯´ä¸ªåœºæ™¯ï¼šä½ æœ‰ä¸€ä¸ªå¾ˆå¤§çš„å¯¹è±¡ï¼Œé‡Œé¢åµŒå¥—äº†å¾ˆå¤šå±‚æ•°æ®ï¼Œä½†ä½ åªéœ€è¦æœ€å¤–å±‚çš„å˜åŒ–è§¦å‘æ›´æ–°ã€‚è¿™æ—¶å€™ç”¨ <code>ref</code> æˆ– <code>reactive</code> å°±ä¼šæŠŠæ‰€æœ‰åµŒå¥—éƒ½å˜æˆå“åº”å¼çš„ï¼Œæ€§èƒ½å¼€é”€å¾ˆå¤§ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { ref, shallowRef, reactive, shallowReactive, triggerRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// æ™®é€š ref - æ·±åº¦å“åº”å¼</span>
<span class="hljs-keyword">const</span> deepData = <span class="hljs-title function_">ref</span>({
  <span class="hljs-attr">user</span>: {
    <span class="hljs-attr">profile</span>: {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>,
      <span class="hljs-attr">address</span>: {
        <span class="hljs-attr">city</span>: <span class="hljs-string">'åŒ—äº¬'</span>,
        <span class="hljs-comment">// ... è¿˜æœ‰å¾ˆå¤šå±‚</span>
      }
    }
  }
})

<span class="hljs-comment">// shallowRef - æµ…å±‚å“åº”å¼ï¼Œåªç›‘å¬ç¬¬ä¸€å±‚</span>
<span class="hljs-keyword">const</span> shallowData = <span class="hljs-title function_">shallowRef</span>({
  <span class="hljs-attr">user</span>: {
    <span class="hljs-attr">profile</span>: {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'æå››'</span>
    }
  }
})

<span class="hljs-comment">// åªæœ‰ç›´æ¥æ›¿æ¢æ•´ä¸ªå¯¹è±¡æ‰ä¼šè§¦å‘æ›´æ–°</span>
shallowData.<span class="hljs-property">value</span> = { <span class="hljs-attr">user</span>: { <span class="hljs-attr">profile</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'ç‹äº”'</span> } } } <span class="hljs-comment">// âœ… ä¼šè§¦å‘æ›´æ–°</span>

<span class="hljs-comment">// ä¿®æ”¹å†…éƒ¨å±æ€§ä¸ä¼šè§¦å‘æ›´æ–°</span>
shallowData.<span class="hljs-property">value</span>.<span class="hljs-property">user</span>.<span class="hljs-property">profile</span>.<span class="hljs-property">name</span> = <span class="hljs-string">'èµµå…­'</span> <span class="hljs-comment">// âŒ ä¸ä¼šè§¦å‘æ›´æ–°</span>

<span class="hljs-comment">// ä½†å¯ä»¥ç”¨ triggerRef æ‰‹åŠ¨è§¦å‘æ›´æ–°</span>
shallowData.<span class="hljs-property">value</span>.<span class="hljs-property">user</span>.<span class="hljs-property">profile</span>.<span class="hljs-property">name</span> = <span class="hljs-string">'èµµå…­'</span>
<span class="hljs-title function_">triggerRef</span>(shallowData) <span class="hljs-comment">// âœ… æ‰‹åŠ¨è§¦å‘æ›´æ–°ï¼Œè§†å›¾ä¼šåˆ·æ–°</span>

<span class="hljs-comment">// shallowReactive - æµ…å±‚å“åº”å¼çš„ reactive ç‰ˆæœ¬</span>
<span class="hljs-keyword">const</span> shallowState = <span class="hljs-title function_">shallowReactive</span>({
  <span class="hljs-attr">user</span>: {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>,
    <span class="hljs-attr">age</span>: <span class="hljs-number">20</span>
  }
})

shallowState.<span class="hljs-property">user</span> = { <span class="hljs-attr">name</span>: <span class="hljs-string">'æå››'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> } <span class="hljs-comment">// âœ… ä¼šè§¦å‘æ›´æ–°</span>
shallowState.<span class="hljs-property">user</span>.<span class="hljs-property">name</span> = <span class="hljs-string">'ç‹äº”'</span> <span class="hljs-comment">// âŒ ä¸ä¼šè§¦å‘æ›´æ–°</span>
</code></pre>
<p>æˆ‘åœ¨å¤„ç†è¡¨æ ¼æ•°æ®çš„æ—¶å€™ç»å¸¸ç”¨è¿™ä¸ªï¼Œç‰¹åˆ«æ˜¯é‚£ç§å‡ åƒè¡Œçš„æ•°æ®ï¼Œç”¨ <code>shallowRef</code> èƒ½æ˜æ˜¾æ„Ÿè§‰åˆ°æ€§èƒ½æå‡ã€‚<code>shallowReactive</code> å’Œ <code>shallowRef</code> çš„åŒºåˆ«åœ¨äºï¼Œå‰è€…ç›´æ¥è¿”å›å“åº”å¼å¯¹è±¡ï¼Œåè€…è¿”å›çš„æ˜¯åŒ…è£…åçš„ refã€‚</p>
<p><strong><code>triggerRef</code> çš„ä½¿ç”¨åœºæ™¯</strong>ï¼šå½“ä½ ä½¿ç”¨ <code>shallowRef</code> æ—¶ï¼Œå¦‚æœç¡®å®éœ€è¦ä¿®æ”¹åµŒå¥—å±æ€§å¹¶è§¦å‘æ›´æ–°ï¼Œä½†åˆä¸æƒ³æ›¿æ¢æ•´ä¸ªå¯¹è±¡ï¼ˆå¯èƒ½å¾ˆè€—æ€§èƒ½ï¼‰ï¼Œå°±å¯ä»¥å…ˆä¿®æ”¹å±æ€§ï¼Œç„¶åè°ƒç”¨ <code>triggerRef</code> æ‰‹åŠ¨è§¦å‘æ›´æ–°ã€‚è¿™æ ·æ—¢äº«å—äº†æµ…å±‚å“åº”å¼çš„æ€§èƒ½ä¼˜åŠ¿ï¼Œåˆèƒ½åœ¨éœ€è¦æ—¶ç²¾ç¡®æ§åˆ¶æ›´æ–°æ—¶æœºã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å®é™…åº”ç”¨ï¼šæ‰¹é‡ä¿®æ”¹åç»Ÿä¸€è§¦å‘æ›´æ–°</span>
<span class="hljs-keyword">const</span> tableData = <span class="hljs-title function_">shallowRef</span>([
  { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-attr">status</span>: <span class="hljs-string">'active'</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'æå››'</span>, <span class="hljs-attr">status</span>: <span class="hljs-string">'active'</span> },
  <span class="hljs-comment">// ... å‡ åƒæ¡æ•°æ®</span>
])

<span class="hljs-comment">// æ‰¹é‡ä¿®æ”¹å¤šä¸ªåµŒå¥—å±æ€§</span>
tableData.<span class="hljs-property">value</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
  item.<span class="hljs-property">status</span> = <span class="hljs-string">'inactive'</span> <span class="hljs-comment">// ä¿®æ”¹åµŒå¥—å±æ€§</span>
  item.<span class="hljs-property">updatedAt</span> = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() <span class="hljs-comment">// ç»§ç»­ä¿®æ”¹</span>
})

<span class="hljs-comment">// æ‰€æœ‰ä¿®æ”¹å®Œæˆåï¼Œç»Ÿä¸€è§¦å‘ä¸€æ¬¡æ›´æ–°ï¼ˆæ€§èƒ½æ›´å¥½ï¼‰</span>
<span class="hljs-title function_">triggerRef</span>(tableData) <span class="hljs-comment">// âœ… åªè§¦å‘ä¸€æ¬¡æ›´æ–°ï¼Œè€Œä¸æ˜¯æ¯æ¡æ•°æ®éƒ½è§¦å‘</span>
</code></pre>
<h2 data-id="heading-1">2. markRaw - è®©æŸäº›æ•°æ®"å…ç–«"å“åº”å¼</h2>
<p>æœ‰äº›æ•°æ®ä½ æ˜ç¡®çŸ¥é“ä¸éœ€è¦å“åº”å¼ï¼Œæ¯”å¦‚ç¬¬ä¸‰æ–¹åº“çš„å®ä¾‹ã€DOMå…ƒç´ ã€æˆ–è€…ä¸€äº›é…ç½®å¯¹è±¡ã€‚ç”¨ <code>markRaw</code> æ ‡è®°åï¼ŒVueå°±ä¸ä¼šæŠŠå®ƒå˜æˆå“åº”å¼çš„ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { reactive, markRaw } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-comment">// è¿™ä¸ªç¬¬ä¸‰æ–¹åº“å®ä¾‹ä¸éœ€è¦å“åº”å¼</span>
  <span class="hljs-attr">chart</span>: <span class="hljs-title function_">markRaw</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ChartLibrary</span>()),
  
  <span class="hljs-comment">// è¿™ä¸ªé…ç½®å¯¹è±¡ä¹Ÿä¸éœ€è¦</span>
  <span class="hljs-attr">config</span>: <span class="hljs-title function_">markRaw</span>({
    <span class="hljs-attr">apiUrl</span>: <span class="hljs-string">'https://api.example.com'</span>,
    <span class="hljs-attr">timeout</span>: <span class="hljs-number">5000</span>
  }),
  
  <span class="hljs-comment">// è¿™ä¸ªéœ€è¦å“åº”å¼</span>
  <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>
})

<span class="hljs-comment">// å³ä½¿æŠŠ chart æ”¾åˆ° reactive é‡Œï¼Œå®ƒä¹Ÿä¸ä¼šå˜æˆå“åº”å¼</span>
<span class="hljs-comment">// è¿™æ ·æ—¢é¿å…äº†ä¸å¿…è¦çš„æ€§èƒ½å¼€é”€ï¼Œä¹Ÿé˜²æ­¢äº†æŸäº›åº“å› ä¸ºå“åº”å¼ä»£ç†è€Œå‡ºé”™</span>
</code></pre>
<p>æˆ‘ä¹‹å‰ç”¨ ECharts çš„æ—¶å€™å°±é‡åˆ°è¿‡è¿™ä¸ªé—®é¢˜ï¼Œå›¾è¡¨å®ä¾‹è¢«å“åº”å¼ä»£ç†åå„ç§æŠ¥é”™ï¼Œç”¨ <code>markRaw</code> ä¸€åŒ…å°±è§£å†³äº†ã€‚</p>
<h2 data-id="heading-2">3. toRaw - è·å–åŸå§‹å¯¹è±¡</h2>
<p>æœ‰æ—¶å€™ä½ éœ€è¦æ‹¿åˆ°å“åº”å¼å¯¹è±¡çš„åŸå§‹å€¼ï¼Œæ¯”å¦‚ä¼ ç»™ç¬¬ä¸‰æ–¹åº“ã€æˆ–è€…åšæ·±æ‹·è´ã€‚<code>toRaw</code> å°±æ˜¯å¹²è¿™ä¸ªçš„ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { reactive, toRaw } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Vue3'</span>,
  <span class="hljs-attr">version</span>: <span class="hljs-string">'3.0'</span>
})

<span class="hljs-comment">// è·å–åŸå§‹å¯¹è±¡ï¼Œä¸å†æ˜¯ Proxy</span>
<span class="hljs-keyword">const</span> rawState = <span class="hljs-title function_">toRaw</span>(state)

<span class="hljs-comment">// ä¼ ç»™éœ€è¦æ™®é€šå¯¹è±¡çš„å‡½æ•°</span>
someThirdPartyLibrary.<span class="hljs-title function_">process</span>(rawState)

<span class="hljs-comment">// æˆ–è€…åšæ·±æ‹·è´</span>
<span class="hljs-keyword">const</span> copy = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-title function_">toRaw</span>(state)))
</code></pre>
<p>æ³¨æ„ï¼Œ<code>toRaw</code> åªèƒ½æ‹¿åˆ°ä¸€å±‚ï¼Œå¦‚æœå¯¹è±¡é‡Œè¿˜æœ‰åµŒå¥—çš„å“åº”å¼å¯¹è±¡ï¼Œé‚£äº›è¿˜æ˜¯ Proxyã€‚éœ€è¦é€’å½’å¤„ç†çš„è¯ï¼Œå¯ä»¥é…åˆ <code>markRaw</code> ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-3">4. customRef - è‡ªå®šä¹‰å“åº”å¼å¼•ç”¨</h2>
<p>è¿™ä¸ªAPIç‰¹åˆ«é€‚åˆåšé˜²æŠ–ã€èŠ‚æµï¼Œæˆ–è€…éœ€è¦è‡ªå®šä¹‰ get/set é€»è¾‘çš„åœºæ™¯ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { customRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// é˜²æŠ–çš„ ref</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useDebouncedRef</span>(<span class="hljs-params">value, delay = <span class="hljs-number">200</span></span>) {
  <span class="hljs-keyword">let</span> timeout
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">customRef</span>(<span class="hljs-function">(<span class="hljs-params">track, trigger</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-title function_">get</span>(<span class="hljs-params"/>) {
        <span class="hljs-title function_">track</span>() <span class="hljs-comment">// è¿½è¸ªä¾èµ–</span>
        <span class="hljs-keyword">return</span> value
      },
      <span class="hljs-title function_">set</span>(<span class="hljs-params">newValue</span>) {
        <span class="hljs-built_in">clearTimeout</span>(timeout)
        timeout = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
          value = newValue
          <span class="hljs-title function_">trigger</span>() <span class="hljs-comment">// è§¦å‘æ›´æ–°</span>
        }, delay)
      }
    }
  })
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> searchText = <span class="hljs-title function_">useDebouncedRef</span>(<span class="hljs-string">''</span>)

<span class="hljs-comment">// ç”¨æˆ·è¾“å…¥æ—¶ä¸ä¼šç«‹å³æ›´æ–°ï¼Œç­‰åœæ­¢è¾“å…¥ 200ms åæ‰æ›´æ–°</span>
</code></pre>
<p>æˆ‘åœ¨æœç´¢æ¡†é‡Œç»å¸¸ç”¨è¿™ä¸ªï¼Œé¿å…ç”¨æˆ·æ¯è¾“å…¥ä¸€ä¸ªå­—ç¬¦å°±å‘ä¸€æ¬¡è¯·æ±‚ã€‚</p>
<h2 data-id="heading-4">5. readonly - åˆ›å»ºåªè¯»çš„å“åº”å¼å¯¹è±¡</h2>
<p>æœ‰æ—¶å€™ä½ æƒ³è®©æŸäº›æ•°æ®æ˜¯å“åº”å¼çš„ï¼ˆèƒ½è¿½è¸ªå˜åŒ–ï¼‰ï¼Œä½†ä¸å…è®¸ä¿®æ”¹ã€‚<code>readonly</code> å°±æ´¾ä¸Šç”¨åœºäº†ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { reactive, readonly } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> original = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Vue3'</span>
})

<span class="hljs-comment">// åˆ›å»ºåªè¯»ç‰ˆæœ¬</span>
<span class="hljs-keyword">const</span> readOnlyData = <span class="hljs-title function_">readonly</span>(original)

<span class="hljs-comment">// å¯ä»¥è¯»å–</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(readOnlyData.<span class="hljs-property">count</span>) <span class="hljs-comment">// 0</span>

<span class="hljs-comment">// ä¸èƒ½ä¿®æ”¹ï¼ˆå¼€å‘ç¯å¢ƒä¼šè­¦å‘Šï¼‰</span>
readOnlyData.<span class="hljs-property">count</span> = <span class="hljs-number">1</span> <span class="hljs-comment">// âš ï¸ è­¦å‘Šï¼šSet operation on key "count" failed</span>

<span class="hljs-comment">// ä½†ä¿®æ”¹åŸå§‹å¯¹è±¡ï¼Œåªè¯»ç‰ˆæœ¬ä¹Ÿä¼šæ›´æ–°</span>
original.<span class="hljs-property">count</span> = <span class="hljs-number">1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(readOnlyData.<span class="hljs-property">count</span>) <span class="hljs-comment">// 1 âœ…</span>
</code></pre>
<p>è¿™ä¸ªåœ¨ç»„ä»¶é—´ä¼ é€’ props çš„æ—¶å€™å¾ˆæœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯ä½ æƒ³ç¡®ä¿å­ç»„ä»¶ä¸ä¼šæ„å¤–ä¿®æ”¹çˆ¶ç»„ä»¶çš„æ•°æ®ã€‚</p>
<h2 data-id="heading-5">6. getCurrentInstance - è·å–å½“å‰ç»„ä»¶å®ä¾‹</h2>
<p>è¿™ä¸ªAPIåœ¨ç»„åˆå¼APIé‡Œè·å–ç»„ä»¶å®ä¾‹ç‰¹åˆ«æ–¹ä¾¿ï¼Œè™½ç„¶å®˜æ–¹æ–‡æ¡£è¯´ä¸»è¦ç»™åº“å¼€å‘è€…ç”¨ï¼Œä½†å®é™…å¼€å‘ä¸­å¶å°”ä¹Ÿä¼šç”¨åˆ°ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { getCurrentInstance } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">setup</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> instance = <span class="hljs-title function_">getCurrentInstance</span>()
    
    <span class="hljs-comment">// è·å–ç»„ä»¶çš„ props</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(instance.<span class="hljs-property">props</span>)
    
    <span class="hljs-comment">// è·å–ç»„ä»¶çš„ attrs</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(instance.<span class="hljs-property">attrs</span>)
    
    <span class="hljs-comment">// è·å–ç»„ä»¶çš„ emit</span>
    instance.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'custom-event'</span>)
    
    <span class="hljs-comment">// è®¿é—®å…¨å±€å±æ€§</span>
    <span class="hljs-keyword">const</span> $router = instance.<span class="hljs-property">appContext</span>.<span class="hljs-property">config</span>.<span class="hljs-property">globalProperties</span>.<span class="hljs-property">$router</span>
    
    <span class="hljs-keyword">return</span> {}
  }
}
</code></pre>
<p>ä¸è¿‡è¦æ³¨æ„ï¼Œ<code>getCurrentInstance</code> åªèƒ½åœ¨ <code>setup</code> æˆ–ç”Ÿå‘½å‘¨æœŸé’©å­é‡Œè°ƒç”¨ï¼Œè€Œä¸”ä¸èƒ½ç¼“å­˜åˆ°å¼‚æ­¥å›è°ƒé‡Œç”¨ã€‚</p>
<h2 data-id="heading-6">7. defineAsyncComponent - å¼‚æ­¥ç»„ä»¶åŠ è½½</h2>
<p>è¿™ä¸ªå…¶å®ä¸ç®—ç‰¹åˆ«å†·é—¨ï¼Œä½†å¾ˆå¤šäººå¯èƒ½æ²¡æ·±å…¥ç”¨è¿‡ã€‚é™¤äº†åŸºæœ¬çš„æ‡’åŠ è½½ï¼Œå®ƒè¿˜æœ‰å¾ˆå¤šé«˜çº§ç”¨æ³•ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { defineAsyncComponent } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// åŸºç¡€ç”¨æ³•</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">AsyncComponent</span> = <span class="hljs-title function_">defineAsyncComponent</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./HeavyComponent.vue'</span>))

<span class="hljs-comment">// å¸¦åŠ è½½çŠ¶æ€å’Œé”™è¯¯å¤„ç†</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">AsyncComponentWithStates</span> = <span class="hljs-title function_">defineAsyncComponent</span>({
  <span class="hljs-attr">loader</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./HeavyComponent.vue'</span>),
  <span class="hljs-attr">loadingComponent</span>: <span class="hljs-title class_">LoadingSpinner</span>, <span class="hljs-comment">// åŠ è½½æ—¶æ˜¾ç¤ºçš„ç»„ä»¶</span>
  <span class="hljs-attr">errorComponent</span>: <span class="hljs-title class_">ErrorComponent</span>,   <span class="hljs-comment">// é”™è¯¯æ—¶æ˜¾ç¤ºçš„ç»„ä»¶</span>
  <span class="hljs-attr">delay</span>: <span class="hljs-number">200</span>,                       <span class="hljs-comment">// å»¶è¿Ÿæ˜¾ç¤º loadingï¼Œé¿å…é—ªçƒ</span>
  <span class="hljs-attr">timeout</span>: <span class="hljs-number">3000</span>,                    <span class="hljs-comment">// è¶…æ—¶æ—¶é—´</span>
  <span class="hljs-title function_">onError</span>(<span class="hljs-params">error, retry, fail, attempts</span>) {
    <span class="hljs-comment">// é”™è¯¯å¤„ç†é€»è¾‘</span>
    <span class="hljs-keyword">if</span> (attempts &lt;= <span class="hljs-number">3</span>) {
      <span class="hljs-title function_">retry</span>() <span class="hljs-comment">// é‡è¯•</span>
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-title function_">fail</span>()  <span class="hljs-comment">// æ”¾å¼ƒ</span>
    }
  }
})
</code></pre>
<p>æˆ‘åœ¨åšè·¯ç”±æ‡’åŠ è½½å’ŒæŒ‰éœ€åŠ è½½å¤§ç»„ä»¶çš„æ—¶å€™ï¼Œè¿™ä¸ªAPIå¸®äº†ä¸å°‘å¿™ã€‚</p>
<h2 data-id="heading-7">8. watchEffect çš„ç«‹å³æ‰§è¡Œå’Œæ¸…ç†</h2>
<p><code>watchEffect</code> å¤§å®¶éƒ½çŸ¥é“ï¼Œä½†å®ƒçš„ç«‹å³æ‰§è¡Œç‰¹æ€§å’Œæ¸…ç†å‡½æ•°å¯èƒ½å¾ˆå¤šäººæ²¡å……åˆ†åˆ©ç”¨ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { watchEffect, ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)

<span class="hljs-keyword">const</span> stop = <span class="hljs-title function_">watchEffect</span>(<span class="hljs-function">(<span class="hljs-params">onInvalidate</span>) =&gt;</span> {
  <span class="hljs-comment">// è¿™ä¸ªå‡½æ•°ä¼šç«‹å³æ‰§è¡Œä¸€æ¬¡</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'count:'</span>, count.<span class="hljs-property">value</span>)
  
  <span class="hljs-comment">// æ¸…ç†å‡½æ•°ï¼šåœ¨ä¸‹æ¬¡æ‰§è¡Œå‰æˆ–åœæ­¢ç›‘å¬æ—¶è°ƒç”¨</span>
  <span class="hljs-title function_">onInvalidate</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¸…ç†ä¹‹å‰çš„å‰¯ä½œç”¨'</span>)
    <span class="hljs-comment">// æ¯”å¦‚å–æ¶ˆè¯·æ±‚ã€æ¸…é™¤å®šæ—¶å™¨ç­‰</span>
  })
})

<span class="hljs-comment">// æ‰‹åŠ¨åœæ­¢ç›‘å¬</span>
<span class="hljs-title function_">stop</span>()
</code></pre>
<p>è¿™ä¸ªç‰¹æ€§åœ¨å¤„ç†å‰¯ä½œç”¨çš„æ—¶å€™ç‰¹åˆ«æœ‰ç”¨ï¼Œæ¯”å¦‚ç›‘å¬æ•°æ®å˜åŒ–è‡ªåŠ¨å‘é€è¯·æ±‚ï¼Œå¯ä»¥åœ¨æ¸…ç†å‡½æ•°é‡Œå–æ¶ˆä¹‹å‰çš„è¯·æ±‚ï¼Œé¿å…ç«æ€æ¡ä»¶ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { watchEffect, ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> userId = <span class="hljs-title function_">ref</span>(<span class="hljs-number">1</span>)
<span class="hljs-keyword">let</span> abortController = <span class="hljs-literal">null</span>

<span class="hljs-title function_">watchEffect</span>(<span class="hljs-function">(<span class="hljs-params">onInvalidate</span>) =&gt;</span> {
  <span class="hljs-comment">// å–æ¶ˆä¹‹å‰çš„è¯·æ±‚</span>
  <span class="hljs-keyword">if</span> (abortController) {
    abortController.<span class="hljs-title function_">abort</span>()
  }
  
  <span class="hljs-comment">// åˆ›å»ºæ–°çš„è¯·æ±‚</span>
  abortController = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AbortController</span>()
  
  <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/user/<span class="hljs-subst">${userId.value}</span>`</span>, {
    <span class="hljs-attr">signal</span>: abortController.<span class="hljs-property">signal</span>
  })
    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>())
    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
      <span class="hljs-comment">// å¤„ç†æ•°æ®</span>
    })
  
  <span class="hljs-comment">// æ¸…ç†å‡½æ•°ï¼šåœ¨ä¸‹æ¬¡æ‰§è¡Œå‰æˆ–ç»„ä»¶å¸è½½æ—¶è°ƒç”¨</span>
  <span class="hljs-title function_">onInvalidate</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (abortController) {
      abortController.<span class="hljs-title function_">abort</span>()
    }
  })
})
</code></pre>
<p>è¿™æ ·å°±èƒ½é¿å…å¿«é€Ÿåˆ‡æ¢ç”¨æˆ·IDæ—¶ï¼Œæ—§çš„è¯·æ±‚è¦†ç›–æ–°è¯·æ±‚ç»“æœçš„é—®é¢˜ã€‚</p>
<h2 data-id="heading-8">9. unrefã€isRefã€isReactive - ç±»å‹æ£€æŸ¥å·¥å…·</h2>
<p>è¿™äº›å·¥å…·å‡½æ•°åœ¨å¤„ç†å¯èƒ½æ˜¯å“åº”å¼ä¹Ÿå¯èƒ½ä¸æ˜¯çš„æ•°æ®æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { ref, reactive, unref, isRef, isReactive, isReadonly } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// unref - å¦‚æœæ˜¯ ref å°±è¿”å› .valueï¼Œå¦åˆ™è¿”å›åŸå€¼</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useValue</span>(<span class="hljs-params">maybeRef</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">unref</span>(maybeRef) <span class="hljs-comment">// ä¸ç”¨åˆ¤æ–­æ˜¯ä¸æ˜¯ refï¼Œç›´æ¥ unref å°±è¡Œ</span>
}

<span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">10</span>)
<span class="hljs-keyword">const</span> name = <span class="hljs-string">'Vue3'</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">useValue</span>(count))  <span class="hljs-comment">// 10</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">useValue</span>(name))   <span class="hljs-comment">// 'Vue3'</span>

<span class="hljs-comment">// isRef - åˆ¤æ–­æ˜¯å¦æ˜¯ ref</span>
<span class="hljs-keyword">if</span> (<span class="hljs-title function_">isRef</span>(count)) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¿™æ˜¯ä¸€ä¸ª ref'</span>)
}

<span class="hljs-comment">// isReactive - åˆ¤æ–­æ˜¯å¦æ˜¯ reactive å¯¹è±¡</span>
<span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({ <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> })
<span class="hljs-keyword">if</span> (<span class="hljs-title function_">isReactive</span>(state)) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¿™æ˜¯ä¸€ä¸ª reactive å¯¹è±¡'</span>)
}

<span class="hljs-comment">// isReadonly - åˆ¤æ–­æ˜¯å¦æ˜¯ readonly å¯¹è±¡</span>
<span class="hljs-keyword">const</span> readonlyState = <span class="hljs-title function_">readonly</span>(state)
<span class="hljs-keyword">if</span> (<span class="hljs-title function_">isReadonly</span>(readonlyState)) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¿™æ˜¯ä¸€ä¸ª readonly å¯¹è±¡'</span>)
}
</code></pre>
<p>åœ¨å†™å·¥å…·å‡½æ•°æˆ–è€…ç»„åˆå¼å‡½æ•°çš„æ—¶å€™ï¼Œè¿™äº›æ£€æŸ¥å‡½æ•°èƒ½è®©ä½ å†™å‡ºæ›´å¥å£®çš„ä»£ç ã€‚</p>
<h2 data-id="heading-9">10. effectScope å’Œ onScopeDispose - æ‰¹é‡ç®¡ç†å‰¯ä½œç”¨</h2>
<p><code>effectScope</code> æ˜¯ Vue3.2 æ–°å¢çš„ï¼Œå¯ä»¥æ‰¹é‡ç®¡ç†ä¸€ç»„å“åº”å¼æ•ˆæœï¼ˆcomputedã€watchã€watchEffectç­‰ï¼‰ï¼Œç»Ÿä¸€åœæ­¢æˆ–æ¸…ç†ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { effectScope, ref, watchEffect, computed, onScopeDispose } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">useMouse</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> x = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
  <span class="hljs-keyword">const</span> y = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
  
  <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªä½œç”¨åŸŸ</span>
  <span class="hljs-keyword">const</span> scope = <span class="hljs-title function_">effectScope</span>()
  
  scope.<span class="hljs-title function_">run</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// åœ¨è¿™ä¸ªä½œç”¨åŸŸå†…çš„æ‰€æœ‰å“åº”å¼æ•ˆæœéƒ½ä¼šè¢«ç»Ÿä¸€ç®¡ç†</span>
    <span class="hljs-title function_">watchEffect</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">const</span> <span class="hljs-title function_">handler</span> = (<span class="hljs-params">e</span>) =&gt; {
        x.<span class="hljs-property">value</span> = e.<span class="hljs-property">clientX</span>
        y.<span class="hljs-property">value</span> = e.<span class="hljs-property">clientY</span>
      }
      <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mousemove'</span>, handler)
      
      <span class="hljs-comment">// æ¸…ç†å‡½æ•°</span>
      <span class="hljs-title function_">onScopeDispose</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'mousemove'</span>, handler)
      })
    })
    
    <span class="hljs-comment">// ä¹Ÿå¯ä»¥æœ‰å¤šä¸ª watchEffectã€computed ç­‰</span>
    <span class="hljs-keyword">const</span> distance = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(x.<span class="hljs-property">value</span> ** <span class="hljs-number">2</span> + y.<span class="hljs-property">value</span> ** <span class="hljs-number">2</span>)
    })
  })
  
  <span class="hljs-comment">// è¿”å›åœæ­¢å‡½æ•°</span>
  <span class="hljs-keyword">return</span> {
    x,
    y,
    <span class="hljs-attr">stop</span>: <span class="hljs-function">() =&gt;</span> scope.<span class="hljs-title function_">stop</span>() <span class="hljs-comment">// ä¸€æ¬¡æ€§åœæ­¢æ‰€æœ‰æ•ˆæœ</span>
  }
}
</code></pre>
<p>è¿™ä¸ªåœ¨å†™ç»„åˆå¼å‡½æ•°çš„æ—¶å€™ç‰¹åˆ«æœ‰ç”¨ï¼Œå¯ä»¥ç¡®ä¿æ‰€æœ‰å‰¯ä½œç”¨éƒ½èƒ½è¢«æ­£ç¡®æ¸…ç†ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚</p>
<h2 data-id="heading-10">11. provide/inject çš„å“åº”å¼ä¼ é€’</h2>
<p><code>provide/inject</code> å¤§å®¶éƒ½çŸ¥é“ï¼Œä½†å¾ˆå¤šäººä¸çŸ¥é“å®ƒå¯ä»¥ä¼ é€’å“åº”å¼æ•°æ®ï¼Œè€Œä¸”å­ç»„ä»¶å¯ä»¥ç›´æ¥ä¿®æ”¹ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// çˆ¶ç»„ä»¶</span>
<span class="hljs-keyword">import</span> { provide, ref, reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">setup</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
    <span class="hljs-keyword">const</span> user = <span class="hljs-title function_">reactive</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> })
    
    <span class="hljs-comment">// æä¾›å“åº”å¼æ•°æ®</span>
    <span class="hljs-title function_">provide</span>(<span class="hljs-string">'count'</span>, count)
    <span class="hljs-title function_">provide</span>(<span class="hljs-string">'user'</span>, user)
    
    <span class="hljs-comment">// ä¹Ÿå¯ä»¥æä¾›ä¿®æ”¹å‡½æ•°</span>
    <span class="hljs-title function_">provide</span>(<span class="hljs-string">'increment'</span>, <span class="hljs-function">() =&gt;</span> {
      count.<span class="hljs-property">value</span>++
    })
    
    <span class="hljs-keyword">return</span> { count, user }
  }
}

<span class="hljs-comment">// å­ç»„ä»¶ï¼ˆå¯ä»¥æ˜¯ä»»æ„æ·±åº¦çš„å­ç»„ä»¶ï¼‰</span>
<span class="hljs-keyword">import</span> { inject, ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">setup</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ³¨å…¥å“åº”å¼æ•°æ®ï¼Œå¯ä»¥è®¾ç½®é»˜è®¤å€¼</span>
    <span class="hljs-keyword">const</span> count = <span class="hljs-title function_">inject</span>(<span class="hljs-string">'count'</span>, <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)) <span class="hljs-comment">// å¦‚æœçˆ¶ç»„ä»¶æ²¡æœ‰æä¾›ï¼Œä½¿ç”¨é»˜è®¤å€¼</span>
    <span class="hljs-keyword">const</span> user = <span class="hljs-title function_">inject</span>(<span class="hljs-string">'user'</span>, <span class="hljs-function">() =&gt;</span> ({ <span class="hljs-attr">name</span>: <span class="hljs-string">'é»˜è®¤ç”¨æˆ·'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">0</span> })) <span class="hljs-comment">// ä¹Ÿå¯ä»¥ä½¿ç”¨å·¥å‚å‡½æ•°</span>
    <span class="hljs-keyword">const</span> increment = <span class="hljs-title function_">inject</span>(<span class="hljs-string">'increment'</span>, <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'increment æ–¹æ³•æœªæä¾›'</span>)
    })
    
    <span class="hljs-comment">// å¯ä»¥ç›´æ¥ä¿®æ”¹ï¼ˆå¦‚æœçˆ¶ç»„ä»¶æä¾›çš„æ˜¯å“åº”å¼æ•°æ®ï¼‰</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params"/>) =&gt; {
      count.<span class="hljs-property">value</span>++ <span class="hljs-comment">// âœ… çˆ¶ç»„ä»¶çš„ count ä¹Ÿä¼šæ›´æ–°</span>
      user.<span class="hljs-property">name</span> = <span class="hljs-string">'æå››'</span> <span class="hljs-comment">// âœ… çˆ¶ç»„ä»¶çš„ user ä¹Ÿä¼šæ›´æ–°</span>
      <span class="hljs-comment">// æˆ–è€…è°ƒç”¨çˆ¶ç»„ä»¶æä¾›çš„æ–¹æ³•</span>
      <span class="hljs-title function_">increment</span>()
    }
    
    <span class="hljs-keyword">return</span> { count, user, handleClick }
  }
}
</code></pre>
<p>è¿™ä¸ªåœ¨è·¨å±‚çº§ç»„ä»¶é€šä¿¡çš„æ—¶å€™ç‰¹åˆ«æ–¹ä¾¿ï¼Œæ¯” props ä¸€å±‚å±‚ä¼ è¦ä¼˜é›…å¾—å¤šã€‚</p>
<h2 data-id="heading-11">12. v-memo - æ€§èƒ½ä¼˜åŒ–çš„æŒ‡ä»¤</h2>
<p><code>v-memo</code> æ˜¯ Vue3.2 æ–°å¢çš„æŒ‡ä»¤ï¼Œå¯ä»¥ç¼“å­˜æ¨¡æ¿çš„ä¸€éƒ¨åˆ†ï¼Œåªæœ‰åœ¨ä¾èµ–é¡¹å˜åŒ–æ—¶æ‰é‡æ–°æ¸²æŸ“ã€‚</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;!-- åªæœ‰ item.id æˆ– selected å˜åŒ–æ—¶æ‰é‡æ–°æ¸²æŸ“è¿™ä¸ª div --&gt;
  &lt;div v-for="item in list" :key="item.id" v-memo="[item.id, selected]"&gt;
    &lt;p&gt;{{ item.name }}&lt;/p&gt;
    &lt;p&gt;{{ item.description }}&lt;/p&gt;
    &lt;!-- å¤æ‚çš„å†…å®¹ --&gt;
    &lt;ExpensiveComponent :data="item.data" /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'

const list = ref([
  { id: 1, name: 'Item 1', description: '...', data: {...} },
  { id: 2, name: 'Item 2', description: '...', data: {...} },
  // ...
])

const selected = ref(null)
&lt;/script&gt;
</code></pre>
<p>è¿™ä¸ªåœ¨å¤„ç†é•¿åˆ—è¡¨çš„æ—¶å€™ç‰¹åˆ«æœ‰ç”¨ï¼Œå¯ä»¥å¤§å¹…æå‡æ€§èƒ½ã€‚ä¸è¿‡è¦æ³¨æ„ï¼Œ<code>v-memo</code> å¿…é¡»å’Œ <code>v-for</code> ä¸€èµ·ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-12">13. Suspense - å¼‚æ­¥ç»„ä»¶çš„åŠ è½½çŠ¶æ€</h2>
<p><code>Suspense</code> å¯ä»¥ä¼˜é›…åœ°å¤„ç†å¼‚æ­¥ç»„ä»¶çš„åŠ è½½çŠ¶æ€ï¼Œä¸éœ€è¦åœ¨æ¯ä¸ªç»„ä»¶é‡Œå•ç‹¬å¤„ç†ã€‚</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;Suspense&gt;
    &lt;template #default&gt;
      &lt;AsyncComponent /&gt;
    &lt;/template&gt;
    &lt;template #fallback&gt;
      &lt;div class="loading"&gt;åŠ è½½ä¸­...&lt;/div&gt;
    &lt;/template&gt;
  &lt;/Suspense&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { defineAsyncComponent } from 'vue'

const AsyncComponent = defineAsyncComponent(() =&gt; 
  import('./HeavyComponent.vue')
)
&lt;/script&gt;
</code></pre>
<p>å¦‚æœå¼‚æ­¥ç»„ä»¶å†…éƒ¨æœ‰å¼‚æ­¥æ“ä½œï¼ˆæ¯”å¦‚ <code>setup</code> é‡Œç”¨äº† <code>await</code>ï¼‰ï¼Œ<code>Suspense</code> ä¹Ÿä¼šç­‰å¾…ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- AsyncComponent.vue --&gt;
&lt;script setup&gt;
// è¿™ä¸ªç»„ä»¶å†…éƒ¨æœ‰å¼‚æ­¥æ“ä½œ
const data = await fetchData() // Suspense ä¼šç­‰å¾…è¿™ä¸ªå®Œæˆ
&lt;/script&gt;
</code></pre>
<p>è¿™ä¸ªåœ¨å¤„ç†å¼‚æ­¥æ•°æ®åŠ è½½çš„æ—¶å€™ç‰¹åˆ«ä¼˜é›…ï¼Œæ¯”æ‰‹åŠ¨ç®¡ç† loading çŠ¶æ€è¦æ–¹ä¾¿ã€‚</p>
<h2 data-id="heading-13">14. æ¨¡æ¿å¼•ç”¨çš„é«˜çº§ç”¨æ³•</h2>
<p>æ¨¡æ¿å¼•ç”¨ï¼ˆrefï¼‰é™¤äº†è·å– DOM å…ƒç´ ï¼Œè¿˜æœ‰å¾ˆå¤šé«˜çº§ç”¨æ³•ã€‚</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;!-- åœ¨ v-for ä¸­è·å–å¤šä¸ªå…ƒç´  --&gt;
  &lt;div v-for="item in list" :ref="el =&gt; setItemRef(el, item.id)"&gt;
    {{ item.name }}
  &lt;/div&gt;
  
  &lt;!-- è·å–å­ç»„ä»¶å®ä¾‹ --&gt;
  &lt;ChildComponent ref="childRef" /&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, onMounted } from 'vue'

const list = ref([
  { id: 1, name: 'Item 1' },
  { id: 2, name: 'Item 2' },
])

// å­˜å‚¨å¤šä¸ªå…ƒç´ å¼•ç”¨
const itemRefs = ref({})

const setItemRef = (el, id) =&gt; {
  if (el) {
    itemRefs.value[id] = el
  }
}

// å­ç»„ä»¶å¼•ç”¨
const childRef = ref(null)

onMounted(() =&gt; {
  // è®¿é—®å­ç»„ä»¶çš„æ–¹æ³•æˆ–å±æ€§
  console.log(childRef.value.someMethod())
  console.log(childRef.value.someProperty)
  
  // è®¿é—®æ‰€æœ‰åˆ—è¡¨é¡¹çš„ DOM
  console.log(itemRefs.value)
})
&lt;/script&gt;
</code></pre>
<p>è¿˜å¯ä»¥é…åˆ <code>defineExpose</code> æš´éœ²å­ç»„ä»¶çš„ç‰¹å®šå†…å®¹ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- ChildComponent.vue --&gt;
&lt;script setup&gt;
import { ref } from 'vue'

const count = ref(0)
const privateData = ref('private') // è¿™ä¸ªä¸ä¼šè¢«æš´éœ²

const increment = () =&gt; {
  count.value++
}

// åªæš´éœ² count å’Œ increment
defineExpose({
  count,
  increment
})
&lt;/script&gt;
</code></pre>
<h2 data-id="heading-14">15. computed çš„ getter/setter å½¢å¼</h2>
<p><code>computed</code> é™¤äº†åªè¯»å½¢å¼ï¼Œè¿˜å¯ä»¥æœ‰ getter å’Œ setterï¼Œå®ç°åŒå‘ç»‘å®šã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { ref, computed } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> firstName = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'å¼ '</span>)
<span class="hljs-keyword">const</span> lastName = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'ä¸‰'</span>)

<span class="hljs-comment">// å¯è¯»å†™çš„ computed</span>
<span class="hljs-keyword">const</span> fullName = <span class="hljs-title function_">computed</span>({
  <span class="hljs-title function_">get</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${firstName.value}</span><span class="hljs-subst">${lastName.value}</span>`</span>
  },
  <span class="hljs-title function_">set</span>(<span class="hljs-params">newValue</span>) {
    <span class="hljs-comment">// å½“è®¾ç½® fullName æ—¶ï¼Œè‡ªåŠ¨æ‹†åˆ†åˆ° firstName å’Œ lastName</span>
    <span class="hljs-keyword">const</span> parts = newValue.<span class="hljs-title function_">split</span>(<span class="hljs-string">''</span>)
    <span class="hljs-keyword">if</span> (parts.<span class="hljs-property">length</span> &gt;= <span class="hljs-number">2</span>) {
      firstName.<span class="hljs-property">value</span> = parts[<span class="hljs-number">0</span>]
      lastName.<span class="hljs-property">value</span> = parts.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>)
    }
  }
})

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(fullName.<span class="hljs-property">value</span>) <span class="hljs-comment">// 'å¼ ä¸‰'</span>
fullName.<span class="hljs-property">value</span> = <span class="hljs-string">'æå››'</span> <span class="hljs-comment">// è‡ªåŠ¨æ›´æ–° firstName å’Œ lastName</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(firstName.<span class="hljs-property">value</span>) <span class="hljs-comment">// 'æ'</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(lastName.<span class="hljs-property">value</span>) <span class="hljs-comment">// 'å››'</span>
</code></pre>
<p>è¿™ä¸ªåœ¨å¤„ç†è¡¨å•æ•°æ®è½¬æ¢çš„æ—¶å€™ç‰¹åˆ«æœ‰ç”¨ã€‚</p>
<h2 data-id="heading-15">16. watch çš„æ·±åº¦ç›‘å¬å’Œç«‹å³æ‰§è¡Œ</h2>
<p><code>watch</code> çš„é€‰é¡¹å‚æ•°æœ‰å¾ˆå¤šå®ç”¨çš„é…ç½®ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { watch, ref, reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
<span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">user</span>: {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>,
    <span class="hljs-attr">age</span>: <span class="hljs-number">20</span>
  }
})

<span class="hljs-comment">// æ·±åº¦ç›‘å¬å¯¹è±¡</span>
<span class="hljs-title function_">watch</span>(
  <span class="hljs-function">() =&gt;</span> state.<span class="hljs-property">user</span>,
  <span class="hljs-function">(<span class="hljs-params">newVal, oldVal</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'user å˜åŒ–äº†'</span>, newVal, oldVal)
  },
  { <span class="hljs-attr">deep</span>: <span class="hljs-literal">true</span> } <span class="hljs-comment">// æ·±åº¦ç›‘å¬åµŒå¥—å±æ€§</span>
)

<span class="hljs-comment">// æˆ–è€…ç›´æ¥ç›‘å¬æ•´ä¸ªå¯¹è±¡</span>
<span class="hljs-title function_">watch</span>(
  state,
  <span class="hljs-function">(<span class="hljs-params">newVal, oldVal</span>) =&gt;</span> {
    <span class="hljs-comment">// æ³¨æ„ï¼šnewVal å’Œ oldVal æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼ˆå› ä¸º reactiveï¼‰</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'state å˜åŒ–äº†'</span>)
  },
  { <span class="hljs-attr">deep</span>: <span class="hljs-literal">true</span> }
)

<span class="hljs-comment">// ç«‹å³æ‰§è¡Œä¸€æ¬¡</span>
<span class="hljs-title function_">watch</span>(
  count,
  <span class="hljs-function">(<span class="hljs-params">newVal, oldVal</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'count:'</span>, newVal)
  },
  { <span class="hljs-attr">immediate</span>: <span class="hljs-literal">true</span> } <span class="hljs-comment">// ç«‹å³æ‰§è¡Œä¸€æ¬¡å›è°ƒ</span>
)

<span class="hljs-comment">// ç›‘å¬å¤šä¸ªæº</span>
<span class="hljs-title function_">watch</span>(
  [count, <span class="hljs-function">() =&gt;</span> state.<span class="hljs-property">user</span>.<span class="hljs-property">name</span>],
  <span class="hljs-function">(<span class="hljs-params">[newCount, newName], [oldCount, oldName]</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'count æˆ– name å˜åŒ–äº†'</span>)
  }
)

<span class="hljs-comment">// æ‰‹åŠ¨å®ç°åªç›‘å¬ä¸€æ¬¡çš„æ•ˆæœ</span>
<span class="hljs-keyword">let</span> stopWatcher = <span class="hljs-literal">null</span>
stopWatcher = <span class="hljs-title function_">watch</span>(
  count,
  <span class="hljs-function">(<span class="hljs-params">newVal</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'åªæ‰§è¡Œä¸€æ¬¡'</span>)
    <span class="hljs-comment">// æ‰§è¡Œåç«‹å³åœæ­¢ç›‘å¬</span>
    <span class="hljs-keyword">if</span> (stopWatcher) {
      <span class="hljs-title function_">stopWatcher</span>()
      stopWatcher = <span class="hljs-literal">null</span>
    }
  }
)
</code></pre>
<h2 data-id="heading-16">17. nextTick çš„å¤šç§ç”¨æ³•</h2>
<p><code>nextTick</code> å¤§å®¶éƒ½çŸ¥é“ï¼Œä½†å®ƒçš„ä½¿ç”¨åœºæ™¯å¯èƒ½å¾ˆå¤šäººæ²¡å®Œå…¨æŒæ¡ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { nextTick, ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
<span class="hljs-keyword">const</span> message = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)

<span class="hljs-comment">// ç­‰å¾… DOM æ›´æ–°åæ‰§è¡Œ</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"/>) {
  count.<span class="hljs-property">value</span>++
  message.<span class="hljs-property">value</span> = <span class="hljs-string">'Count å·²æ›´æ–°'</span>
  
  <span class="hljs-comment">// æ­¤æ—¶ DOM å¯èƒ½è¿˜æ²¡æ›´æ–°</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'.count'</span>).<span class="hljs-property">textContent</span>) <span class="hljs-comment">// å¯èƒ½æ˜¯æ—§å€¼</span>
  
  <span class="hljs-comment">// ç­‰å¾… DOM æ›´æ–°</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">nextTick</span>()
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'.count'</span>).<span class="hljs-property">textContent</span>) <span class="hljs-comment">// æ–°å€¼</span>
  
  <span class="hljs-comment">// æˆ–è€…ç”¨å›è°ƒå½¢å¼</span>
  <span class="hljs-title function_">nextTick</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'DOM å·²æ›´æ–°'</span>)
  })
}

<span class="hljs-comment">// åœ¨ç»„ä»¶æŒ‚è½½åæ“ä½œ DOM</span>
<span class="hljs-keyword">import</span> { onMounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-title function_">onMounted</span>(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-comment">// å³ä½¿ç»„ä»¶å·²æŒ‚è½½ï¼ŒæŸäº› DOM æ“ä½œå¯èƒ½è¿˜éœ€è¦ç­‰å¾…</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">nextTick</span>()
  <span class="hljs-comment">// ç°åœ¨å¯ä»¥å®‰å…¨åœ°æ“ä½œ DOM äº†</span>
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'.some-element'</span>).<span class="hljs-title function_">focus</span>()
})
</code></pre>
<h2 data-id="heading-17">18. å“åº”å¼ API çš„è½¬æ¢å·¥å…·</h2>
<p>Vue3 æä¾›äº†ä¸€äº›è½¬æ¢å·¥å…·ï¼Œå¯ä»¥åœ¨ä¸åŒå“åº”å¼ç±»å‹ä¹‹é—´è½¬æ¢ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { ref, reactive, toRef, toRefs, isRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Vue3'</span>,
  <span class="hljs-attr">version</span>: <span class="hljs-string">'3.0'</span>,
  <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>
})

<span class="hljs-comment">// toRef - å°† reactive å¯¹è±¡çš„æŸä¸ªå±æ€§è½¬ä¸º ref</span>
<span class="hljs-keyword">const</span> nameRef = <span class="hljs-title function_">toRef</span>(state, <span class="hljs-string">'name'</span>)
nameRef.<span class="hljs-property">value</span> = <span class="hljs-string">'Vue 3'</span> <span class="hljs-comment">// ä¼šåŒæ­¥æ›´æ–° state.name</span>

<span class="hljs-comment">// toRefs - å°† reactive å¯¹è±¡çš„æ‰€æœ‰å±æ€§è½¬ä¸º ref</span>
<span class="hljs-keyword">const</span> { name, version, count } = <span class="hljs-title function_">toRefs</span>(state)
<span class="hljs-comment">// ç°åœ¨ nameã€versionã€count éƒ½æ˜¯ refï¼Œå¯ä»¥åœ¨æ¨¡æ¿ä¸­ç›´æ¥ä½¿ç”¨</span>

<span class="hljs-comment">// åœ¨ç»„åˆå¼å‡½æ•°ä¸­è¿”å›å“åº”å¼æ•°æ®æ—¶ç‰¹åˆ«æœ‰ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useCounter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({
    <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">step</span>: <span class="hljs-number">1</span>
  })
  
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">increment</span> = (<span class="hljs-params"/>) =&gt; {
    state.<span class="hljs-property">count</span> += state.<span class="hljs-property">step</span>
  }
  
  <span class="hljs-comment">// è¿”å› toRefsï¼Œè®©ä½¿ç”¨è€…å¯ä»¥è§£æ„è€Œä¸å¤±å»å“åº”å¼</span>
  <span class="hljs-keyword">return</span> {
    ...<span class="hljs-title function_">toRefs</span>(state),
    increment
  }
}

<span class="hljs-comment">// ä½¿ç”¨æ—¶å¯ä»¥è§£æ„</span>
<span class="hljs-keyword">const</span> { count, step, increment } = <span class="hljs-title function_">useCounter</span>()
<span class="hljs-comment">// count å’Œ step ä»ç„¶æ˜¯å“åº”å¼çš„</span>
</code></pre>
<h2 data-id="heading-18">19. è‡ªå®šä¹‰æŒ‡ä»¤çš„é«˜çº§ç”¨æ³•</h2>
<p>è‡ªå®šä¹‰æŒ‡ä»¤é™¤äº†åŸºæœ¬çš„ <code>mounted</code> å’Œ <code>updated</code>ï¼Œè¿˜æœ‰å¾ˆå¤šç”Ÿå‘½å‘¨æœŸé’©å­ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è‡ªå®šä¹‰æŒ‡ä»¤ç›´æ¥å®šä¹‰å¯¹è±¡å³å¯ï¼Œä¸éœ€è¦ç‰¹æ®Šå¯¼å…¥</span>
<span class="hljs-keyword">const</span> vMyDirective = {
  <span class="hljs-comment">// å…ƒç´ æ’å…¥ DOM å‰è°ƒç”¨</span>
  <span class="hljs-title function_">created</span>(<span class="hljs-params">el, binding, vnode</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'created'</span>)
  },
  
  <span class="hljs-comment">// å…ƒç´ æ’å…¥ DOM åè°ƒç”¨</span>
  <span class="hljs-title function_">mounted</span>(<span class="hljs-params">el, binding, vnode, prevVnode</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'mounted'</span>, binding.<span class="hljs-property">value</span>)
    <span class="hljs-comment">// binding.value - æŒ‡ä»¤çš„å€¼</span>
    <span class="hljs-comment">// binding.oldValue - ä¹‹å‰çš„å€¼ï¼ˆä»…åœ¨ update å’Œ componentUpdated ä¸­å¯ç”¨ï¼‰</span>
    <span class="hljs-comment">// binding.arg - æŒ‡ä»¤å‚æ•°ï¼Œå¦‚ v-my-directive:foo ä¸­çš„ 'foo'</span>
    <span class="hljs-comment">// binding.modifiers - ä¿®é¥°ç¬¦å¯¹è±¡ï¼Œå¦‚ v-my-directive.foo.bar ä¸­çš„ { foo: true, bar: true }</span>
  },
  
  <span class="hljs-comment">// åœ¨åŒ…å«ç»„ä»¶çš„ VNode æ›´æ–°å‰è°ƒç”¨</span>
  <span class="hljs-title function_">beforeUpdate</span>(<span class="hljs-params">el, binding, vnode, prevVnode</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'beforeUpdate'</span>)
  },
  
  <span class="hljs-comment">// åœ¨åŒ…å«ç»„ä»¶çš„ VNode åŠå…¶å­ VNode æ›´æ–°åè°ƒç”¨</span>
  <span class="hljs-title function_">updated</span>(<span class="hljs-params">el, binding, vnode, prevVnode</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'updated'</span>)
  },
  
  <span class="hljs-comment">// åœ¨å¸è½½å‰è°ƒç”¨</span>
  <span class="hljs-title function_">beforeUnmount</span>(<span class="hljs-params">el, binding, vnode</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'beforeUnmount'</span>)
  },
  
  <span class="hljs-comment">// å¸è½½åè°ƒç”¨</span>
  <span class="hljs-title function_">unmounted</span>(<span class="hljs-params">el, binding, vnode</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'unmounted'</span>)
  }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-comment">// &lt;div v-my-directive:arg.modifier="value"&gt;&lt;/div&gt;</span>
</code></pre>
<p>å®é™…åº”ç”¨ï¼šå®ç°ä¸€ä¸ªç‚¹å‡»å¤–éƒ¨å…³é—­çš„æŒ‡ä»¤</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> vClickOutside = {
  <span class="hljs-title function_">mounted</span>(<span class="hljs-params">el, binding</span>) {
    el.<span class="hljs-property">_clickOutside</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (!(el === event.<span class="hljs-property">target</span> || el.<span class="hljs-title function_">contains</span>(event.<span class="hljs-property">target</span>))) {
        binding.<span class="hljs-title function_">value</span>() <span class="hljs-comment">// è°ƒç”¨ä¼ å…¥çš„å‡½æ•°</span>
      }
    }
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, el.<span class="hljs-property">_clickOutside</span>)
  },
  <span class="hljs-title function_">unmounted</span>(<span class="hljs-params">el</span>) {
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'click'</span>, el.<span class="hljs-property">_clickOutside</span>)
  }
}
</code></pre>
<h2 data-id="heading-19">20. ç»„åˆå¼ API çš„ç±»å‹æ¨æ–­æŠ€å·§</h2>
<p>åœ¨ TypeScript ä¸­ä½¿ç”¨ç»„åˆå¼ API æ—¶ï¼Œæœ‰ä¸€äº›ç±»å‹æ¨æ–­çš„æŠ€å·§ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { ref, computed, <span class="hljs-title class_">Ref</span>, <span class="hljs-title class_">ComputedRef</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// æ˜ç¡®æŒ‡å®š ref çš„ç±»å‹</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">count</span>: <span class="hljs-title class_">Ref</span>&lt;<span class="hljs-built_in">number</span>&gt; = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
<span class="hljs-comment">// æˆ–è€…è®© TypeScript è‡ªåŠ¨æ¨æ–­</span>
<span class="hljs-keyword">const</span> count = ref&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-number">0</span>)

<span class="hljs-comment">// computed çš„ç±»å‹</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">doubleCount</span>: <span class="hljs-title class_">ComputedRef</span>&lt;<span class="hljs-built_in">number</span>&gt; = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> count.<span class="hljs-property">value</span> * <span class="hljs-number">2</span>)

<span class="hljs-comment">// åœ¨ç»„åˆå¼å‡½æ•°ä¸­è¿”å›ç±»å‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useCounter</span>(<span class="hljs-params">initialValue: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></span>) {
  <span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(initialValue)
  
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">increment</span> = (<span class="hljs-params"/>) =&gt; {
    count.<span class="hljs-property">value</span>++
  }
  
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">count</span>: count <span class="hljs-keyword">as</span> <span class="hljs-title class_">Ref</span>&lt;<span class="hljs-built_in">number</span>&gt;, <span class="hljs-comment">// æˆ–è€…ç”¨ readonly</span>
    increment
  }
}

<span class="hljs-comment">// ä½¿ç”¨æ³›å‹</span>
<span class="hljs-keyword">function</span> useAsyncData&lt;T&gt;(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>) {
  <span class="hljs-keyword">const</span> data = ref&lt;T | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>)
  <span class="hljs-keyword">const</span> loading = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
  <span class="hljs-keyword">const</span> error = ref&lt;<span class="hljs-title class_">Error</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>)
  
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchData</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    loading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url)
      data.<span class="hljs-property">value</span> = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>()
    } <span class="hljs-keyword">catch</span> (e) {
      error.<span class="hljs-property">value</span> = e <span class="hljs-keyword">as</span> <span class="hljs-title class_">Error</span>
    } <span class="hljs-keyword">finally</span> {
      loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    }
  }
  
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">data</span>: <span class="hljs-title function_">readonly</span>(data),
    <span class="hljs-attr">loading</span>: <span class="hljs-title function_">readonly</span>(loading),
    <span class="hljs-attr">error</span>: <span class="hljs-title function_">readonly</span>(error),
    fetchData
  }
}
</code></pre>
<h2 data-id="heading-20">21. æ€§èƒ½ä¼˜åŒ–çš„ç»„åˆæ‹³</h2>
<p>æŠŠè¿™äº› API ç»„åˆèµ·æ¥ï¼Œå¯ä»¥å®ç°æ›´å¼ºå¤§çš„æ€§èƒ½ä¼˜åŒ–ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { shallowRef, markRaw, computed, watchEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// åœºæ™¯ï¼šå¤„ç†å¤§é‡æ•°æ®åˆ—è¡¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useLargeList</span>(<span class="hljs-params">initialData</span>) {
  <span class="hljs-comment">// ç”¨ shallowRef é¿å…æ·±åº¦å“åº”å¼</span>
  <span class="hljs-keyword">const</span> items = <span class="hljs-title function_">shallowRef</span>(initialData.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> ({
    ...item,
    <span class="hljs-comment">// æŸäº›ä¸éœ€è¦å“åº”å¼çš„æ•°æ®ç”¨ markRaw</span>
    <span class="hljs-attr">metadata</span>: <span class="hljs-title function_">markRaw</span>(item.<span class="hljs-property">metadata</span>)
  })))
  
  <span class="hljs-comment">// ç”¨ computed ç¼“å­˜è®¡ç®—ç»“æœ</span>
  <span class="hljs-keyword">const</span> filteredItems = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> items.<span class="hljs-property">value</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">visible</span>)
  })
  
  <span class="hljs-comment">// ç”¨ watchEffect å¤„ç†å‰¯ä½œç”¨ï¼Œè‡ªåŠ¨æ¸…ç†</span>
  <span class="hljs-keyword">const</span> stop = <span class="hljs-title function_">watchEffect</span>(<span class="hljs-function">(<span class="hljs-params">onInvalidate</span>) =&gt;</span> {
    <span class="hljs-comment">// å¤„ç†è¿‡æ»¤åçš„æ•°æ®</span>
    <span class="hljs-title function_">processItems</span>(filteredItems.<span class="hljs-property">value</span>)
    
    <span class="hljs-title function_">onInvalidate</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// æ¸…ç†å·¥ä½œ</span>
      <span class="hljs-title function_">cleanup</span>()
    })
  })
  
  <span class="hljs-keyword">return</span> {
    items,
    filteredItems,
    stop
  }
}
</code></pre>
<h2 data-id="heading-21">22. å®é™…é¡¹ç›®ä¸­çš„æœ€ä½³å®è·µ</h2>
<p>ç»“åˆæˆ‘è‡ªå·±çš„é¡¹ç›®ç»éªŒï¼Œåˆ†äº«å‡ ä¸ªå®ç”¨çš„æ¨¡å¼ï¼š</p>
<h3 data-id="heading-22">æ¨¡å¼1ï¼šå“åº”å¼æ•°æ®çš„åˆå§‹åŒ–</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { ref, reactive, onMounted, readonly } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">useUserData</span>(<span class="hljs-params">userId</span>) {
  <span class="hljs-keyword">const</span> user = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>)
  <span class="hljs-keyword">const</span> loading = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
  <span class="hljs-keyword">const</span> error = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>)
  
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchUser</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    loading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
    error.<span class="hljs-property">value</span> = <span class="hljs-literal">null</span>
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/users/<span class="hljs-subst">${userId}</span>`</span>)
      user.<span class="hljs-property">value</span> = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>()
    } <span class="hljs-keyword">catch</span> (e) {
      error.<span class="hljs-property">value</span> = e
    } <span class="hljs-keyword">finally</span> {
      loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    }
  }
  
  <span class="hljs-comment">// ç»„ä»¶æŒ‚è½½æ—¶è‡ªåŠ¨è·å–</span>
  <span class="hljs-title function_">onMounted</span>(fetchUser)
  
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">user</span>: <span class="hljs-title function_">readonly</span>(user),
    <span class="hljs-attr">loading</span>: <span class="hljs-title function_">readonly</span>(loading),
    <span class="hljs-attr">error</span>: <span class="hljs-title function_">readonly</span>(error),
    <span class="hljs-attr">refetch</span>: fetchUser
  }
}
</code></pre>
<h3 data-id="heading-23">æ¨¡å¼2ï¼šè¡¨å•éªŒè¯</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { ref, computed, reactive, readonly } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">useFormValidation</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> form = <span class="hljs-title function_">reactive</span>({
    <span class="hljs-attr">email</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">password</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">confirmPassword</span>: <span class="hljs-string">''</span>
  })
  
  <span class="hljs-keyword">const</span> errors = <span class="hljs-title function_">reactive</span>({})
  
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">validateEmail</span> = (<span class="hljs-params">email</span>) =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-regexp">/^[^\s@]+@[^\s@]+\.[^\s@]+$/</span>.<span class="hljs-title function_">test</span>(email)
  }
  
  <span class="hljs-comment">// ç”¨ computed å®æ—¶éªŒè¯</span>
  <span class="hljs-keyword">const</span> isValid = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
    errors.<span class="hljs-property">email</span> = form.<span class="hljs-property">email</span> &amp;&amp; !<span class="hljs-title function_">validateEmail</span>(form.<span class="hljs-property">email</span>) 
      ? <span class="hljs-string">'é‚®ç®±æ ¼å¼ä¸æ­£ç¡®'</span> 
      : <span class="hljs-string">''</span>
    
    errors.<span class="hljs-property">password</span> = form.<span class="hljs-property">password</span>.<span class="hljs-property">length</span> &lt; <span class="hljs-number">6</span> 
      ? <span class="hljs-string">'å¯†ç è‡³å°‘6ä½'</span> 
      : <span class="hljs-string">''</span>
    
    errors.<span class="hljs-property">confirmPassword</span> = form.<span class="hljs-property">password</span> !== form.<span class="hljs-property">confirmPassword</span> 
      ? <span class="hljs-string">'ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´'</span> 
      : <span class="hljs-string">''</span>
    
    <span class="hljs-keyword">return</span> !<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(errors).<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> err)
  })
  
  <span class="hljs-keyword">return</span> {
    form,
    <span class="hljs-attr">errors</span>: <span class="hljs-title function_">readonly</span>(errors),
    isValid
  }
}
</code></pre>
<h3 data-id="heading-24">æ¨¡å¼3ï¼šé˜²æŠ–å’ŒèŠ‚æµçš„ç»„åˆä½¿ç”¨</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { customRef, watch } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// é˜²æŠ– ref - åŸºäº customRef å®ç°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useDebounceRef</span>(<span class="hljs-params">value, delay = <span class="hljs-number">300</span></span>) {
  <span class="hljs-keyword">let</span> timeout
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">customRef</span>(<span class="hljs-function">(<span class="hljs-params">track, trigger</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-title function_">get</span>(<span class="hljs-params"/>) {
        <span class="hljs-title function_">track</span>()
        <span class="hljs-keyword">return</span> value
      },
      <span class="hljs-title function_">set</span>(<span class="hljs-params">newValue</span>) {
        <span class="hljs-built_in">clearTimeout</span>(timeout)
        timeout = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
          value = newValue
          <span class="hljs-title function_">trigger</span>()
        }, delay)
      }
    }
  })
}

<span class="hljs-comment">// èŠ‚æµå‡½æ•° - é…åˆ watch ä½¿ç”¨ï¼ˆè¿™æ˜¯çº¯ JS å‡½æ•°ï¼Œä¸æ˜¯ Vue3 APIï¼Œä½†ç»å¸¸å’Œ Vue3 ä¸€èµ·ç”¨ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useThrottleFn</span>(<span class="hljs-params">fn, delay = <span class="hljs-number">300</span></span>) {
  <span class="hljs-keyword">let</span> lastTime = <span class="hljs-number">0</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) {
    <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
    <span class="hljs-keyword">if</span> (now - lastTime &gt;= delay) {
      fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args)
      lastTime = now
    }
  }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> searchText = <span class="hljs-title function_">useDebounceRef</span>(<span class="hljs-string">''</span>)

<span class="hljs-title function_">watch</span>(searchText, <span class="hljs-function">(<span class="hljs-params">newVal</span>) =&gt;</span> {
  <span class="hljs-comment">// æœç´¢é€»è¾‘ï¼Œåªåœ¨ç”¨æˆ·åœæ­¢è¾“å…¥ 300ms åæ‰§è¡Œ</span>
  <span class="hljs-title function_">performSearch</span>(newVal)
})

<span class="hljs-keyword">const</span> handleScroll = <span class="hljs-title function_">useThrottleFn</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// æ»šåŠ¨å¤„ç†ï¼Œæ¯ 300ms æœ€å¤šæ‰§è¡Œä¸€æ¬¡</span>
  <span class="hljs-title function_">updateScrollPosition</span>()
}, <span class="hljs-number">100</span>)
</code></pre>
<h2 data-id="heading-25">ç‰ˆæœ¬è¦æ±‚è¯´æ˜</h2>
<p>éƒ¨åˆ† API éœ€è¦ç‰¹å®šç‰ˆæœ¬çš„ Vue3ï¼š</p>
<ul>
<li><strong>Vue 3.2+</strong>ï¼š<code>effectScope</code>ã€<code>onScopeDispose</code>ã€<code>v-memo</code></li>
<li><strong>Vue 3.0+</strong>ï¼šå…¶ä»–å¤§éƒ¨åˆ† API</li>
</ul>
<p>å»ºè®®ä½¿ç”¨ Vue 3.2 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œä»¥è·å¾—å®Œæ•´çš„ API æ”¯æŒã€‚</p>
<h2 data-id="heading-26">å¸¸è§é™·é˜±å’Œæ³¨æ„äº‹é¡¹</h2>
<ol>
<li>
<p><strong>shallowRef/shallowReactive çš„é™·é˜±</strong>ï¼šä¿®æ”¹åµŒå¥—å±æ€§ä¸ä¼šè§¦å‘æ›´æ–°ï¼Œå¦‚æœéœ€è¦æ›´æ–°ï¼Œè¦æ›¿æ¢æ•´ä¸ªå¯¹è±¡ã€‚</p>
</li>
<li>
<p><strong>toRaw çš„å±€é™æ€§</strong>ï¼šåªèƒ½è·å–ä¸€å±‚çš„åŸå§‹å¯¹è±¡ï¼ŒåµŒå¥—çš„å“åº”å¼å¯¹è±¡ä»ç„¶æ˜¯ Proxyã€‚</p>
</li>
<li>
<p><strong>getCurrentInstance çš„ä½¿ç”¨é™åˆ¶</strong>ï¼šåªèƒ½åœ¨ <code>setup</code> æˆ–ç”Ÿå‘½å‘¨æœŸé’©å­ä¸­è°ƒç”¨ï¼Œä¸èƒ½ç¼“å­˜åˆ°å¼‚æ­¥å›è°ƒä¸­ä½¿ç”¨ã€‚</p>
</li>
<li>
<p><strong>inject çš„é»˜è®¤å€¼</strong>ï¼šå¦‚æœçˆ¶ç»„ä»¶æ²¡æœ‰æä¾›å€¼ï¼Œ<code>inject</code> ä¼šè¿”å› <code>undefined</code>ï¼Œå»ºè®®æ€»æ˜¯æä¾›é»˜è®¤å€¼ã€‚</p>
</li>
<li>
<p><strong>watchEffect çš„ä¾èµ–è¿½è¸ª</strong>ï¼šä¼šè‡ªåŠ¨è¿½è¸ªæ‰€æœ‰åœ¨å‡½æ•°å†…è®¿é—®çš„å“åº”å¼æ•°æ®ï¼Œæ³¨æ„ä¸è¦è®¿é—®ä¸éœ€è¦è¿½è¸ªçš„æ•°æ®ã€‚</p>
</li>
<li>
<p><strong>computed çš„å‰¯ä½œç”¨</strong>ï¼šä¸è¦åœ¨ <code>computed</code> ä¸­æ‰§è¡Œå‰¯ä½œç”¨æ“ä½œï¼ˆå¦‚ä¿®æ”¹ DOMã€å‘é€è¯·æ±‚ç­‰ï¼‰ï¼Œåº”è¯¥ä½¿ç”¨ <code>watch</code> æˆ– <code>watchEffect</code>ã€‚</p>
</li>
</ol>
<h2 data-id="heading-27">æ€»ç»“ä¸‹</h2>
<p>æœ‰äº›APIä½ å¯èƒ½ä¸å¸¸ç”¨ï¼Œä½†åœ¨ç‰¹å®šåœºæ™¯ä¸‹çœŸçš„èƒ½è§£å†³å®é™…é—®é¢˜ã€‚æ€§èƒ½ä¼˜åŒ–ã€è¾¹ç•Œæƒ…å†µå¤„ç†ã€è‡ªå®šä¹‰é€»è¾‘ï¼Œè¿™äº›åœºæ™¯ä¸‹å®ƒä»¬éƒ½èƒ½æ´¾ä¸Šç”¨åœºã€‚</p>
<p>ä¸è¿‡ä¹Ÿè¦æ³¨æ„ï¼Œä¸è¦è¿‡åº¦ä½¿ç”¨ã€‚æ¯”å¦‚ <code>shallowRef</code> è™½ç„¶æ€§èƒ½å¥½ï¼Œä½†å¦‚æœä½ ç¡®å®éœ€è¦æ·±åº¦å“åº”å¼ï¼Œå°±ä¸è¦ä¸ºäº†æ€§èƒ½è€Œç‰ºç‰²åŠŸèƒ½ã€‚å·¥å…·æ˜¯æ­»çš„ï¼Œåœºæ™¯æ˜¯æ´»çš„ï¼Œæ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©æœ€åˆé€‚çš„æ–¹æ¡ˆæ‰æ˜¯ç‹é“ã€‚ã€‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨C++å®ç°ä¸€ä¸ªç®€æ˜“çš„çº¿ç¨‹æ± ]]></title>    <link>https://juejin.cn/post/7571781196297568265</link>    <guid>https://juejin.cn/post/7571781196297568265</guid>    <pubDate>2025-11-13T02:58:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571781196297568265" data-draft-id="7571829822339907635" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨C++å®ç°ä¸€ä¸ªç®€æ˜“çš„çº¿ç¨‹æ± "/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-13T02:58:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="QZQ54188"/> <meta itemprop="url" content="https://juejin.cn/user/666776045362473"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨C++å®ç°ä¸€ä¸ªç®€æ˜“çš„çº¿ç¨‹æ± 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/666776045362473/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    QZQ54188
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T02:58:41.000Z" title="Thu Nov 13 2025 02:58:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç°ä»£è½¯ä»¶å¼€å‘ä¸­ï¼Œå¤šçº¿ç¨‹ç¼–ç¨‹å·²ç»æˆä¸ºæå‡ç¨‹åºæ€§èƒ½çš„å¸¸è§æ‰‹æ®µã€‚æ— è®ºæ˜¯å¤„ç†å¤§é‡ I/O è¯·æ±‚çš„æœåŠ¡å™¨ï¼Œè¿˜æ˜¯è¿›è¡Œ CPU å¯†é›†å‹è®¡ç®—çš„åº”ç”¨ï¼Œå¤šçº¿ç¨‹éƒ½èƒ½æ˜¾è‘—æé«˜ååé‡å’Œå“åº”é€Ÿåº¦ã€‚ç„¶è€Œï¼Œç›´æ¥é¢‘ç¹åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹å¼€é”€å·¨å¤§ï¼Œä¹Ÿå®¹æ˜“å¯¼è‡´èµ„æºæµªè´¹å’Œç®¡ç†å¤æ‚åº¦çš„å¢åŠ ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œçº¿ç¨‹æ± åº”è¿è€Œç”Ÿã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šæå‰åˆ›å»ºå›ºå®šæ•°é‡çš„å·¥ä½œçº¿ç¨‹ï¼Œå¹¶å°†ä»»åŠ¡æäº¤åˆ°ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œç”±çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹å¾ªç¯å–ä»»åŠ¡æ‰§è¡Œã€‚è¿™æ ·ï¼Œä¸ä»…å‡å°‘äº†çº¿ç¨‹åˆ›å»ºå’Œé”€æ¯çš„å¼€é”€ï¼Œä¹Ÿèƒ½æ–¹ä¾¿åœ°æ§åˆ¶ç³»ç»Ÿçš„å¹¶å‘åº¦ã€‚</p>
<p>è¿™ç¯‡åšå®¢è®°å½•äº†é€æ­¥å®ç°ä¸€ä¸ªç®€æ˜“ç‰ˆçº¿ç¨‹æ± çš„è¿‡ç¨‹ã€‚</p>
<p>é¦–å…ˆçº¿ç¨‹æ± çš„æ€æƒ³æ˜¯åˆ›å»ºé¢„å…ˆåˆ›å»ºä¸€å®šæ•°é‡çš„å·¥ä½œçº¿ç¨‹ï¼Œå®ƒä»¬å¾ªç¯ç­‰å¾…ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡å¹¶æ‰§è¡Œï¼Œä»è€Œé¿å…é¢‘ç¹åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹ï¼Œå®ç°èµ„æºå¤ç”¨ï¼Œæé«˜èµ„æºåˆ©ç”¨ç‡å’Œç¨‹åºæ€§èƒ½ã€‚æ‰€ä»¥æˆ‘ä»¬é¦–å…ˆéœ€è¦ä¸€ä¸ª<code>vector&lt;thread&gt;</code>çš„æ•°ç»„ï¼Œè¿˜æœ‰ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ã€‚åŒæ—¶ï¼Œç”±äºçº¿ç¨‹æ± å¯èƒ½ä¼šè¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ï¼šå·¥ä½œçº¿ç¨‹éœ€è¦å–å‡ºä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œå…¶ä»–ä½¿ç”¨çº¿ç¨‹æ± çš„çº¿ç¨‹å¯èƒ½åŒæ—¶æäº¤ä»»åŠ¡ï¼Œæ‰€ä»¥è¿˜éœ€è¦åŠ ä¸€æŠŠäº’æ–¥é”ã€‚ä¸Šè¿°è¿˜æåˆ°äº†å…¶ä»–çº¿ç¨‹ä¼šå¾€çº¿ç¨‹æ± ä¸­æäº¤ä»»åŠ¡ï¼Œä½¿å¾—çº¿ç¨‹æ± ä¸­çš„å·¥ä½œçº¿ç¨‹å¯ä»¥å–å‡ºä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡å¹¶ä¸”æ‰§è¡Œï¼Œæ‰€ä»¥è¿˜éœ€è¦ä¸€ä¸ªå…¬å¼€çš„æäº¤ä»»åŠ¡å‡½æ•°ã€‚åŸºæœ¬æ¶æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-C++" lang="C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadPool</span>{
<span class="hljs-keyword">public</span>:
  <span class="hljs-built_in">ThreadPool</span>(<span class="hljs-type">size_t</span>);

  <span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">class</span> F, <span class="hljs-keyword">class</span> ...Args&gt;
  <span class="hljs-keyword">auto</span> <span class="hljs-title">enqueue</span><span class="hljs-params">(F&amp;&amp; f, Args&amp;&amp;... args)</span> -&gt; <span class="hljs-type">void</span></span>;
  
  ~<span class="hljs-built_in">ThreadPool</span>();

<span class="hljs-keyword">private</span>:
  std::vector&lt;std::thread&gt; workers_;
  std::queue&lt;std::function&lt;<span class="hljs-type">void</span>()&gt;&gt; tasks_;
  std::mutex mutex_;
};
</code></pre>
<p>è¿™é‡Œè§£é‡Šä¸€ä¸‹ä»»åŠ¡é˜Ÿåˆ—ä¸ºä»€ä¹ˆä½¿ç”¨<code>std::queue&lt;std::function&lt;void()&gt;&gt; tasks_</code>ï¼Œé¦–å…ˆæˆ‘ä»¬è‚¯å®šéœ€è¦ä¸€ä¸ªç»Ÿä¸€çš„å½¢å¼å°è£…ä»»åŠ¡é˜Ÿåˆ—ï¼Œè¿™æ ·å°±å¯ä»¥ç»Ÿä¸€å°è£…åˆ°stlå®¹å™¨ä¸­ã€‚è€Œä¸”æˆ‘ä»¬æœŸæœ›å·¥ä½œçº¿ç¨‹æ‰§è¡Œæ—¶æ˜¯å¯ä»¥ç›´æ¥æ‹¿æ¥è°ƒç”¨çš„ï¼Œå·¥ä½œçº¿ç¨‹æ˜¯çº¿ç¨‹æ± å†…éƒ¨å®ç°ï¼Œä¸åº”è¯¥ä¾èµ–äºç”¨æˆ·ä¼ å…¥ä»»åŠ¡çš„å‚æ•°è¿™å±‚å¤–éƒ¨æŠ½è±¡ï¼Œæ‰€ä»¥å‚æ•°åˆ—è¡¨ä¸ºç©ºã€‚å‚æ•°åˆ—è¡¨ä¸ºç©ºä¹‹åç”¨æˆ·ä¼ å…¥å¸¦æœ‰å‚æ•°çš„å‡½æ•°è¿˜æ˜¯å¯ä»¥æ‰§è¡Œçš„ï¼Œæ³¨æ„æˆ‘ä»¬çš„<code>enqueue</code>å‡½æ•°ä¸­æ¥å—äº†ç”¨æˆ·æä¾›çš„ä»»åŠ¡å‡½æ•°å’Œå‚æ•°ï¼Œåœ¨è¿™ä¸ªå‡½æ•°ä¸­ä¼šå°†äºŒè€…è¿›è¡Œ<code>std::bind</code>ï¼Œè¿™æ ·å°±æŠŠå‚æ•°å¡«å…¥å¯è°ƒç”¨å¯¹è±¡äº†ï¼Œæ‰€ä»¥å·¥ä½œçº¿ç¨‹å–å‡ºä»»åŠ¡æ—¶å¯ä»¥ç›´æ¥è°ƒç”¨ã€‚è‡³äºç”¨æˆ·éœ€è¦è¿”å›å€¼æ€ä¹ˆåŠï¼Œè¿™é‡Œå…ˆåŸ‹ä¸€ä¸ªä¼ç¬”ï¼Œå…ˆç»Ÿä¸€ä½¿ç”¨<code>void</code>è¡¨ç¤ºæ— è¿”å›å€¼ï¼Œä¾¿äºå°è£…ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å®ç°æ„é€ å‡½æ•°ï¼š</p>
<pre><code class="hljs language-C++" lang="C++">ThreadPool::<span class="hljs-built_in">ThreadPool</span>(<span class="hljs-type">size_t</span> nums){
    <span class="hljs-keyword">for</span>(<span class="hljs-type">size_t</span> i = <span class="hljs-number">0</span>; i &lt; nums; i++){
        workers_.<span class="hljs-built_in">emplace_back</span>([<span class="hljs-keyword">this</span>]{
            <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>){
                std::function&lt;<span class="hljs-built_in">void</span>()&gt; task;
                {
                    std::unique_lock&lt;std::mutex&gt; <span class="hljs-built_in">lock</span>(<span class="hljs-keyword">this</span>-&gt;mutex_);
                    <span class="hljs-keyword">this</span>-&gt;condition.<span class="hljs-built_in">wait</span>(lock, [<span class="hljs-keyword">this</span>]{!<span class="hljs-keyword">this</span>-&gt;tasks_.<span class="hljs-built_in">empty</span>(); });
                    task = std::<span class="hljs-built_in">move</span>(<span class="hljs-keyword">this</span>-&gt;tasks_.<span class="hljs-built_in">front</span>());
                    <span class="hljs-keyword">this</span>-&gt;tasks_.<span class="hljs-built_in">pop</span>();
                }
                <span class="hljs-built_in">task</span>();
            }
        });
    }
}
</code></pre>
<p>æ„é€ å‡½æ•°çš„ç›®çš„å°±æ˜¯å‘<code>std::vector&lt;std::thread&gt; workers_</code>ä¸­å¡«å……å·¥ä½œçº¿ç¨‹ï¼Œå·¥ä½œçº¿ç¨‹çš„é€»è¾‘å¦‚ä¸‹ï¼šé¦–å…ˆå°è¯•è·å–é”ï¼Œè·å–é”ä¹‹åæŸ¥çœ‹ä»»åŠ¡é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ä¸ºç©ºçš„è¯å°±å–å‡ºå…ƒç´ æ‰§è¡Œï¼Œå¦‚æœä¸ºç©ºçš„è¯å°±é‡Šæ”¾é”è¿›è¡Œä¸‹ä¸€è½®å¾ªç¯ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬ä»ç»†èŠ‚ä¸Šå…·ä½“è¯´æ˜ï¼Œè·å–é”ä¹‹åä½¿ç”¨æ¡ä»¶å˜é‡è¿›è¡Œç­‰å¾…ï¼Œ<code>wait(lock, [this]{!this-&gt;tasks_.empty(); })</code>ï¼Œè¿™æ ·å½“ä»»åŠ¡é˜Ÿåˆ—ä¸ä¸ºç©ºæ—¶å°±å¯ä»¥ä¸é˜»å¡å¾€ä¸‹æ‰§è¡Œï¼Œå¦‚æœä¸ºç©ºçš„è¯ï¼Œå°±ä¼šé‡Šæ”¾é”ï¼Œå¹¶ä¸”å°†è¯¥çº¿ç¨‹æ·»åŠ åˆ°å¯¹åº”æ¡ä»¶å˜é‡çš„é˜»å¡é˜Ÿåˆ—ä¸­ï¼Œä¹‹åå¦‚æœ<code>enqueue</code>æ—¶å¡«å……äº†ä»»åŠ¡å°±å¯ä»¥å‘<code>signal</code>å”¤é†’é˜»å¡äºè¿™ä¸ªæ¡ä»¶å˜é‡çš„ä¸€ä¸ªçº¿ç¨‹ã€‚å¦‚æœè·å–é”ä¹‹åå‘ç°ä»»åŠ¡é˜Ÿåˆ—ä¸­æœ‰ä»»åŠ¡å¯ä»¥æ‰§è¡Œï¼Œé‚£ä¹ˆå°±å–å‡ºä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œï¼Œå› ä¸ºè¦ä¿è¯è°ƒç”¨é¡ºåºã€‚</p>
<p>æ³¨æ„åœ¨<code>emplace_back</code>å‡½æ•°ä¸­ç›´æ¥è°ƒç”¨äº†çº¿ç¨‹çš„æ„é€ å‡½æ•°ï¼Œå…ˆåœ¨vector å°¾éƒ¨ç›´æ¥åŸåœ°æ„é€ ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡ã€‚æ„é€ çº¿ç¨‹å¯¹è±¡æ—¶ä¼šç«‹å³åˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹ï¼Œåœ¨è¿™ä¸ªçº¿ç¨‹é‡Œæ‰§è¡Œä¼ å…¥çš„ lambdaã€‚æ‰€ä»¥åœ¨æ‰§è¡Œæ¡ä»¶å˜é‡çš„waitæ—¶å°±å·²ç»æœ‰å®é™…åˆ›å»ºçš„çº¿ç¨‹å¯¹è±¡äº†ã€‚</p>
<p>æˆ‘ä»¬åœ¨æ„é€ å‡½æ•°ä¸­æ–°ä½¿ç”¨äº†<code>condition</code>è¿™ä¸ªæ¡ä»¶å˜é‡ï¼Œæ‰€ä»¥åº”è¯¥åœ¨<code>ThreadPool</code>ç±»çš„ç§æœ‰æˆå‘˜ä¸­æ·»åŠ å¯¹åº”å˜é‡ã€‚ä¸Šè¿°æ„é€ å‡½æ•°æ„é€ çš„çº¿ç¨‹å‡½æ•°æ˜¯ä¸€ä¸ªæ­»å¾ªç¯ï¼Œå› æ­¤ä¼šä¸€ç›´ç­‰å¾…ï¼Œè·å–ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ç„¶åæ‰§è¡Œã€‚æˆ‘ä»¬è¿˜è¦ç»™çº¿ç¨‹å‡½æ•°åŠ ä¸Šåœæ­¢é€»è¾‘ï¼Œä¸ç„¶ä¸»çº¿ç¨‹è°ƒç”¨joinçš„æ—¶å€™å°±ä¼šä¸€ç›´é˜»å¡ï¼Œå› ä¸ºæ­¤æ—¶çº¿ç¨‹å‡½æ•°ä¸­è¿˜æ²¡æœ‰è¿”å›é€»è¾‘ï¼Œæ‰€ä»¥éœ€è¦ç»™çº¿ç¨‹å‡½æ•°æ·»åŠ è¿”å›çš„åˆ†æ”¯ã€‚</p>
<p>çº¿ç¨‹å‡½æ•°è¿”å›çš„æ—¶ä»»åŠ¡é˜Ÿåˆ—åº”è¯¥ä¸ºç©ºï¼Œå› ä¸ºä»é€»è¾‘ä¸Šè®²æˆ‘è¦æŠŠç”¨æˆ·ç»™æˆ‘çš„ä»»åŠ¡å…¨éƒ¨å®Œæˆï¼Œæ‰€ä»¥ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºæ˜¯æ£€æµ‹æ˜¯å¦å¯ä»¥è¿”å›çš„æ¡ä»¶ã€‚å¦‚æœåªæ£€æµ‹è¿™ä¸ªæ¡ä»¶ä¹Ÿæ˜¯ä¸å¯ä»¥çš„ï¼Œå› ä¸ºå¯èƒ½çº¿ç¨‹æ± ä¸­å…¶ä»–çº¿ç¨‹å·²ç»æŠŠä»»åŠ¡é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰ä»»åŠ¡å–å‡ºæ¥æ‰§è¡Œå®Œï¼Œæ­¤æ—¶ä»»åŠ¡é˜Ÿåˆ—ä¹Ÿä¸ºç©ºï¼Œä½†æ˜¯ç”¨æˆ·è¿˜å¯èƒ½<code>enqueue</code>ä»»åŠ¡è¿›å»ï¼Œæ‰€ä»¥æ­¤æ—¶çº¿ç¨‹æ± ä¸åº”è¯¥å…³é—­ã€‚æ­¤æ—¶æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ ‡å¿—ä½ï¼Œåœ¨ThreadPoolçš„ææ„å‡½æ•°ä¸­å°†è¿™ä¸ªæ ‡å¿—ä½è®¾ç½®ä¸º<code>true</code>ï¼Œæ­¤æ—¶ç”¨æˆ·ä¹Ÿä¸éœ€è¦ä½¿ç”¨çº¿ç¨‹æ± äº†ï¼Œå› ä¸ºè°ƒç”¨ææ„å‡½æ•°æ—¶è‚¯å®šå·²ç»é€€å‡ºç”¨æˆ·ä»£ç ä½œç”¨åŸŸäº†ï¼Œæ‰€ä»¥åº”è¯¥ä½¿ç”¨è¿™ä¸ªæ ‡å¿—ä½å’Œä»»åŠ¡é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºæ£€æµ‹ã€‚ä¸‹é¢ç»™å‡ºå®Œå–„åä»£ç ï¼š</p>
<pre><code class="hljs language-C++" lang="C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadPool</span>{
    <span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">ThreadPool</span>(<span class="hljs-type">size_t</span>){
        stoped_ = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">for</span>(<span class="hljs-type">size_t</span> i = <span class="hljs-number">0</span>; i &lt; nums; i++){
            workers_.<span class="hljs-built_in">emplace_back</span>([<span class="hljs-keyword">this</span>]{
                <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>){
                    std::function&lt;<span class="hljs-built_in">void</span>()&gt; task;
                    {
                        std::unique_lock&lt;std::mutex&gt; <span class="hljs-built_in">lock</span>(<span class="hljs-keyword">this</span>-&gt;mutex_);
                        <span class="hljs-keyword">this</span>-&gt;condition.<span class="hljs-built_in">wait</span>(lock, [<span class="hljs-keyword">this</span>]{!<span class="hljs-keyword">this</span>-&gt;tasks_.<span class="hljs-built_in">empty</span>(); });
                        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>-&gt;stopd_ &amp;&amp; <span class="hljs-keyword">this</span>-&gt;tasks_.<span class="hljs-built_in">empty</span>()){
                            <span class="hljs-keyword">return</span>;
                        }
                        task = std::<span class="hljs-built_in">move</span>(<span class="hljs-keyword">this</span>-&gt;tasks_.<span class="hljs-built_in">front</span>());
                        <span class="hljs-keyword">this</span>-&gt;tasks_.<span class="hljs-built_in">pop</span>();
                    }
                    <span class="hljs-built_in">task</span>();
                }
            });
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">class</span> F, <span class="hljs-keyword">class</span> ...Args&gt;
        <span class="hljs-keyword">auto</span> <span class="hljs-title">enqueue</span><span class="hljs-params">(F&amp;&amp; f, Args&amp;&amp;... args)</span> -&gt; <span class="hljs-type">void</span></span>;

    ~<span class="hljs-built_in">ThreadPool</span>();

    <span class="hljs-keyword">private</span>:
    std::vector&lt;std::thread&gt; workers_;
    std::queue&lt;std::function&lt;<span class="hljs-type">void</span>()&gt;&gt; tasks_;
    std::condition_variable condition;
    std::mutex mutex_;
    <span class="hljs-type">bool</span> stoped_;
};

</code></pre>
<p>æ¥ä¸‹æ¥æ˜¯ææ„å‡½æ•°ï¼Œææ„å‡½æ•°åº”è¯¥æ˜¯å¦çº¿ç¨‹æ± ç›¸å…³èµ„æºï¼Œå¾ªç¯è°ƒç”¨joinå›æ”¶æ‰€æœ‰çº¿ç¨‹ã€‚</p>
<pre><code class="hljs language-C++" lang="C++"><span class="hljs-keyword">inline</span> ThreadPool::~<span class="hljs-built_in">ThreadPool</span>()
{
  {
    <span class="hljs-function">std::unique_lock&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;
    stoped_ = <span class="hljs-literal">true</span>;
  }
  condition.<span class="hljs-built_in">notify_all</span>();
  <span class="hljs-keyword">for</span>(std::thread &amp;worker: workers_)
    worker.<span class="hljs-built_in">join</span>();
}
</code></pre>
<p>è¿™é‡Œæˆ‘ä»¬å°†<code>stoped_</code>è®¾ç½®ä¸º<code>true</code>ä¹‹åä¼šå”¤é†’æ‰€æœ‰åœ¨è¯¥æ¡ä»¶å˜é‡ä¸Šé˜»å¡çš„å·¥ä½œçº¿ç¨‹ï¼Œä½†æ˜¯æ¡ä»¶å˜é‡çš„å”¤é†’åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥é‡æ–°è·å–é”ï¼Œè¿™ä¸ªè·å–é”çš„çº¿ç¨‹å°±å¯ä»¥ç»§ç»­æ‰§è¡Œçº¿ç¨‹å‡½æ•°çš„é€»è¾‘ï¼Œåˆ¤æ–­é˜Ÿåˆ—æ˜¯ä¸æ˜¯ä¸ºç©ºï¼Œä¸ºç©ºçš„è¯å°±å¯ä»¥ç›´æ¥returnäº†ï¼Œå› ä¸ºæ­¤æ—¶ä»»åŠ¡é˜Ÿåˆ—ä¸ä¼šå†æœ‰ä»»åŠ¡è¿›æ¥ï¼Œä½†æ˜¯ä¹Ÿåªæœ‰è¿™ä¸ªçº¿ç¨‹ä¼šreturnï¼Œå…¶ä»–çš„çº¿ç¨‹æ²¡æœ‰è·å–åˆ°é”ï¼Œç»§ç»­é˜»å¡åœ¨æ¡ä»¶å˜é‡çš„é˜»å¡é˜Ÿåˆ—ä¸Šã€‚å› æ­¤æˆ‘ä»¬è¦ä¿®æ”¹æ¡ä»¶å˜é‡çš„waitæ¡ä»¶ï¼Œç›®æ ‡æ˜¯è°ƒç”¨ææ„ä¹‹åæ‰€æœ‰çš„çº¿ç¨‹éƒ½å¯ä»¥æ„ŸçŸ¥åˆ°å¹¶ä¸”è¢«å”¤é†’ï¼Œå°½ç®¡ä¸€æ¬¡åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥è·å–é”ã€‚</p>
<p>å°†æ¡ä»¶å˜é‡çš„waité€»è¾‘ä¿®æ”¹ä¸ºå¦‚ä¸‹å°±å¥½äº†ï¼š</p>
<pre><code class="hljs language-C++" lang="C++"><span class="hljs-keyword">this</span>-&gt;condition.<span class="hljs-built_in">wait</span>(lock, [<span class="hljs-keyword">this</span>]{<span class="hljs-keyword">this</span>-&gt;stoped_ || !<span class="hljs-keyword">this</span>-&gt;tasks_.<span class="hljs-built_in">empty</span>(); });
</code></pre>
<p>æœ€åæˆ‘ä»¬æ¥å®ç°<code>enqueue</code>å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯æ·»åŠ æ–°ä»»åŠ¡åˆ°ä»»åŠ¡é˜Ÿåˆ—ï¼Œä¸‹é¢ç»™å‡ºåˆç‰ˆå®ç°ï¼š</p>
<pre><code class="hljs language-C++" lang="C++"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">class</span> F, <span class="hljs-keyword">class</span> ...Args&gt;
    <span class="hljs-keyword">auto</span> <span class="hljs-title">ThreadPool::enqueue</span><span class="hljs-params">(F&amp;&amp; f, Args&amp;&amp;... args)</span> -&gt; <span class="hljs-type">void</span></span>{
    <span class="hljs-keyword">auto</span> task = std::<span class="hljs-built_in">bind</span>(std::forward&lt;F&gt;(f), std::forward&lt;Args&gt;(args)...);

    {
        <span class="hljs-function">std::unique_lock&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;
        <span class="hljs-keyword">if</span>(stoped_){
            <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">"enqueue on stopped ThreadPool"</span>);
        }

        tasks_.<span class="hljs-built_in">emplace</span>([task](){<span class="hljs-built_in">task</span>()});
    }
    condition.<span class="hljs-built_in">notify_one</span>();
}
</code></pre>
<p>è¿™æ®µä»£ç å°±æ˜¯å°†ç”¨æˆ·ä¼ å…¥çš„å¯è°ƒç”¨å¯¹è±¡å’Œå‚æ•°ç»‘å®šï¼Œè¿™æ ·å·¥ä½œçº¿ç¨‹å–å‡ºæ¥ä¹‹åå°±å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä¸éœ€è¦å†ä¼ å‚ã€‚å†å°†è¿™ä¸ªä»»åŠ¡æ”¾å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œé€šçŸ¥ä¸€ä¸ªå·¥ä½œçº¿ç¨‹å¯ä»¥å–å‡ºä»»åŠ¡æ‰§è¡Œã€‚</p>
<p>ä¸Šè¿°ä»£ç å…¶å®å¾ˆç²—ç³™ï¼Œæˆ‘ä»¬æ¥é€æ­¥ä¼˜åŒ–ã€‚</p>
<pre><code class="hljs language-C++" lang="C++">tasks_.<span class="hljs-built_in">emplace</span>([task](){<span class="hljs-built_in">task</span>()});
</code></pre>
<p>è¿™æ®µå°†ä»»åŠ¡æ”¾å…¥ä»»åŠ¡é˜Ÿåˆ—çš„ä»£ç ï¼Œè°ƒç”¨äº†æ‹·è´æ„é€ å‡½æ•°ï¼Œå¦‚æœå¯¹è±¡å¾ˆå¤§çš„è¯ä¼šå½±å“æ€§èƒ½ï¼Œæ¯”å¦‚è¯´ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡å†…éƒ¨å°è£…äº†å¤§é‡å˜é‡ï¼Œå’Œä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚æ‰€ä»¥æˆ‘ä»¬åº”è¯¥ä½¿ç”¨ç§»åŠ¨æˆ–è€…æŒ‡é’ˆçš„æ–¹å¼ï¼Œè¿™é‡Œä¸å¯ä»¥ä½¿ç”¨ç§»åŠ¨ï¼Œå› ä¸ºå‚æ•°<code>F</code>æ˜¯é€šè¿‡å¼•ç”¨ä¼ å…¥çš„ï¼Œç§»åŠ¨æ„å‘³ç€æ”¾å¼ƒæ‰€æœ‰æƒï¼Œå‡å¦‚ç”¨æˆ·å£°æ˜äº†ä¸€ä¸ª<code>F</code>ï¼Œä¼ å‚ä¹‹ååœ¨åç»­ç”¨æˆ·ä»£ç æƒ³è°ƒç”¨è¿™ä¸ª<code>F</code>æ—¶å°±ä¼šå‘ç”ŸæŠ¥é”™ï¼Œå› ä¸ºæ­¤æ—¶<code>F</code>å·²ç»è¢«ç§»åŠ¨äº†ï¼Œç”¨æˆ·ä»£ç å¤±å»äº†æ‰€æœ‰æƒã€‚è¿™é‡Œåªå¯ä»¥ä½¿ç”¨æŒ‡é’ˆæ¥åšï¼Œè€Œä¸”åº”è¯¥ä½¿ç”¨å…±äº«æŒ‡é’ˆï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿ç”¨æˆ·ä»£ç æ‹¥æœ‰æ‰€æœ‰æƒã€‚</p>
<pre><code class="hljs language-C++" lang="C++"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">class</span> F, <span class="hljs-keyword">class</span> ...Args&gt;
<span class="hljs-keyword">auto</span> <span class="hljs-title">ThreadPool::enqueue</span><span class="hljs-params">(F&amp;&amp; f, Args&amp;&amp;... args)</span> -&gt; <span class="hljs-type">void</span></span>{
  <span class="hljs-keyword">using</span> TaskType = <span class="hljs-keyword">decltype</span>(std::<span class="hljs-built_in">bind</span>(std::forward&lt;F&gt;(f), std::forward&lt;Args&gt;(args)...));
  <span class="hljs-keyword">auto</span> taskPtr = std::<span class="hljs-built_in">make_shared</span>&lt;TaskType&gt;(
    std::<span class="hljs-built_in">bind</span>(std::forward&lt;F&gt;(f), std::forward&lt;Args&gt;(args)...)
  );

  {
    <span class="hljs-function">std::unique_lock&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;
    <span class="hljs-keyword">if</span>(stoped_){
      <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">"enqueue on stopped ThreadPool"</span>);
    }

    tasks_.<span class="hljs-built_in">emplace</span>([taskPtr]() {
      (*taskPtr)();
    });
  }
  condition.<span class="hljs-built_in">notify_one</span>();
}
</code></pre>
<p>æ³¨æ„æˆ‘ä»¬ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆæ—¶éœ€è¦çŸ¥é“å¯¹è±¡å…·ä½“çš„ç±»å‹ï¼Œä½†æ˜¯<code>std::bind</code>æ˜¯ä¸€ä¸ªå‡½æ•°æ¨¡æ¿ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œè¿™é‡Œè¿”å›çš„å¯è°ƒç”¨å¯¹è±¡æ˜¯ä¸€ä¸ªæœªå‘½åç±»å‹çš„å¯¹è±¡ï¼Œä½ ä¸èƒ½å†™å‡ºå®ƒçš„ç¡®åˆ‡ç±»å‹åå­—ï¼ˆå®ƒä¸æ˜¯ <code>std::function</code>ï¼‰ï¼Œä½†å®ƒå¯ä»¥åƒå‡½æ•°ä¸€æ ·è°ƒç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´è¿”å›ä¸€ä¸ªå…·æœ‰<code>operator()</code>çš„åŒ¿åç±»å‹ã€‚</p>
<p>å› ä¸ºè¿™ä¸ªåŒ¿åç±»å‹æˆ‘ä»¬æ²¡æ³•ç›´æ¥å†™å‡ºæ¥ï¼Œæ‰€ä»¥éœ€è¦è®©ç¼–è¯‘å™¨å¸®æˆ‘ä»¬æ¨å¯¼ã€‚</p>
<pre><code class="hljs language-C++" lang="C++"><span class="hljs-keyword">decltype</span>(std::<span class="hljs-built_in">bind</span>(std::forward&lt;F&gt;(f), std::forward&lt;Args&gt;(args)...))
</code></pre>
<p>ä¸Šè¿°<code>enqueue</code>å‡½æ•°è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å®ƒæ²¡æœ‰è¿”å›å€¼ï¼Œç”¨æˆ·æ— æ³•è·å¾—ä»»åŠ¡ç»“æœï¼Œä¹Ÿæ— æ³•çŸ¥é“ä»»åŠ¡æ˜¯å¦æ‰§è¡Œå®Œæˆã€‚å› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ç§æœºåˆ¶ï¼Œå½“ç”¨æˆ·è°ƒç”¨<code>enqueue</code>å‡½æ•°æ—¶å¯ä»¥æ‹¿åˆ°ä¸€ä¸ªå¥æŸ„ï¼Œå½“ä»»åŠ¡è¢«å·¥ä½œçº¿ç¨‹æ‰§è¡Œå®Œæˆåï¼Œç”¨æˆ·æ£€æµ‹è¿™ä¸ªå¥æŸ„å°±ä¼šå‘ç°ä»»åŠ¡å·²ç»æ‰§è¡Œå®Œæˆï¼Œç„¶åè·å–è¿”å›å€¼ã€‚è¿™ä¸ªæœºåˆ¶å…¶å®å°±æ˜¯<code>future</code>å’Œ<code>promise</code>ï¼Œä¸‹é¢æˆ‘ä»¬æ¥ç»§ç»­å®Œå–„ï¼š</p>
<pre><code class="hljs language-C++" lang="C++"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">class</span> F, <span class="hljs-keyword">class</span> ...Args&gt;
<span class="hljs-keyword">auto</span> <span class="hljs-title">ThreadPool::enqueue</span><span class="hljs-params">(F&amp;&amp; f, Args&amp;&amp;... args)</span> -&gt; std::future&lt;std::<span class="hljs-type">invoke_result_t</span>&lt;F, Args...&gt;&gt;</span>{
  <span class="hljs-keyword">using</span> return_type = <span class="hljs-keyword">typename</span> std::<span class="hljs-type">invoke_result_t</span>&lt;F, Args...&gt;;

  <span class="hljs-keyword">auto</span> taskPtr = std::make_shared&lt;std::packaged_task&lt;<span class="hljs-built_in">return_type</span>()&gt;&gt;(
    std::<span class="hljs-built_in">bind</span>(std::forward&lt;F&gt;(f), std::forward&lt;Args&gt;(args)...)
  );

  std::future&lt;return_type&gt; res = taskPtr-&gt;<span class="hljs-built_in">get_future</span>();
  {
    <span class="hljs-function">std::unique_lock&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;
    <span class="hljs-keyword">if</span>(stoped_){
      <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">"enqueue on stopped ThreadPool"</span>);
    }

    tasks_.<span class="hljs-built_in">emplace</span>([taskPtr]() {
      (*taskPtr)();
    });
  }
  condition.<span class="hljs-built_in">notify_one</span>();
  <span class="hljs-keyword">return</span> res;
}
</code></pre>
<p>å…¶ä¸­<code>using return_type = std::invoke_result_t&lt;F, Args...&gt;;</code>æ˜¯æ¨å¯¼è°ƒç”¨ <code>f(args...)</code> çš„è¿”å›ç±»å‹ï¼Œ<code>std::packaged_task&lt;return_type()&gt;</code>ç”¨äºæŠŠä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡å°è£…æˆä¸€ä¸ªå¯ä»¥äº§ç”Ÿ <code>std::future</code> çš„ä»»åŠ¡ã€‚å…¶ä¸­<code>return_type()</code>è¡¨ç¤ºä¸€ä¸ªæ— å‚æ•°ï¼Œè¿”å›ç±»å‹ä¸º <code>return_type</code>çš„ä»»åŠ¡ï¼Œæ­£å¥½å¯¹åº”<code>std::bind</code>åçš„ç±»å‹ã€‚</p>
<p>ä¹‹åæˆ‘ä»¬å°±å¯ä»¥è°ƒç”¨<code>taskPtr-&gt;get_future()</code>ï¼šå–å¾—ä¸è¯¥ <code>packaged_task</code> å…³è”çš„ <code>std::future</code>ï¼Œå°†è¿™ä¸ª<code>future</code>è¿”å›å‡ºå»ä¹‹åï¼Œè°ƒç”¨è€…å¯ä»¥é€šè¿‡<code>res.get()</code>è·å–è¿”å›å€¼ï¼Œç±»ä¼¼ä¸‹é¢çš„è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-C++" lang="C++"><span class="hljs-keyword">auto</span> future = pool.<span class="hljs-built_in">enqueue</span>([](<span class="hljs-type">int</span> x){ <span class="hljs-keyword">return</span> x * <span class="hljs-number">2</span>; }, <span class="hljs-number">21</span>);
<span class="hljs-type">int</span> result = future.<span class="hljs-built_in">get</span>(); <span class="hljs-comment">// result == 42</span>
</code></pre>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬çš„ç®€æ˜“çº¿ç¨‹æ± å°±å®Œæˆäº†ï¼Œå®Œæ•´ä»£ç å¯å‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fprogschj%2FThreadPool%2Fblob%2Fmaster%2FThreadPool.h" target="_blank" title="https://github.com/progschj/ThreadPool/blob/master/ThreadPool.h" ref="nofollow noopener noreferrer">è¿™ä¸ªä»“åº“</a>ï¼Œä¸‹é¢ç»™å‡ºç”¨æˆ·ä½¿ç”¨çº¿ç¨‹æ± çš„ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-C++" lang="C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    
    <span class="hljs-function">ThreadPool <span class="hljs-title">pool</span><span class="hljs-params">(<span class="hljs-number">4</span>)</span></span>;
    std::vector&lt; std::future&lt;<span class="hljs-type">int</span>&gt; &gt; results;

    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">8</span>; ++i) {
        results.<span class="hljs-built_in">emplace_back</span>(
            pool.<span class="hljs-built_in">enqueue</span>([i] {
                std::cout &lt;&lt; <span class="hljs-string">"hello "</span> &lt;&lt; i &lt;&lt; std::endl;
                std::this_thread::<span class="hljs-built_in">sleep_for</span>(std::chrono::<span class="hljs-built_in">seconds</span>(<span class="hljs-number">1</span>));
                std::cout &lt;&lt; <span class="hljs-string">"world "</span> &lt;&lt; i &lt;&lt; std::endl;
                <span class="hljs-keyword">return</span> i*i;
            })
        );
    }

    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;&amp; result: results)
        std::cout &lt;&lt; result.<span class="hljs-built_in">get</span>() &lt;&lt; <span class="hljs-string">' '</span>;
    std::cout &lt;&lt; std::endl;
    
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[RuoYi ç™»å½•æ€§èƒ½ï¼šå¼‚æ­¥å¤„ç†ç™»å½•æ—¥å¿—çš„å®è·µä¸ä»£ç è§£æ]]></title>    <link>https://juejin.cn/post/7571655979256627240</link>    <guid>https://juejin.cn/post/7571655979256627240</guid>    <pubDate>2025-11-12T15:23:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571655979256627240" data-draft-id="7571672422689587252" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="RuoYi ç™»å½•æ€§èƒ½ï¼šå¼‚æ­¥å¤„ç†ç™»å½•æ—¥å¿—çš„å®è·µä¸ä»£ç è§£æ"/> <meta itemprop="keywords" content="Spring Boot"/> <meta itemprop="datePublished" content="2025-11-12T15:23:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å…ƒYäº¨H"/> <meta itemprop="url" content="https://juejin.cn/user/2839351584888617"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            RuoYi ç™»å½•æ€§èƒ½ï¼šå¼‚æ­¥å¤„ç†ç™»å½•æ—¥å¿—çš„å®è·µä¸ä»£ç è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2839351584888617/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å…ƒYäº¨H
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T15:23:30.000Z" title="Wed Nov 12 2025 15:23:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><hr/>
<h2 data-id="heading-0">ä¼˜åŒ– RuoYi ç™»å½•æ€§èƒ½ï¼šå¼‚æ­¥å¤„ç†ç™»å½•æ—¥å¿—çš„å®è·µä¸ä»£ç è§£æ</h2>
<p>åœ¨ç°ä»£Webåº”ç”¨ä¸­ï¼Œç”¨æˆ·ä½“éªŒå’Œç³»ç»Ÿæ€§èƒ½æ˜¯è‡³å…³é‡è¦çš„æŒ‡æ ‡ã€‚RuoYiï¼ˆè‹¥ä¾ï¼‰æ¡†æ¶ä½œä¸ºä¸€æ¬¾ä¼˜ç§€çš„åå°ç®¡ç†ç³»ç»Ÿï¼Œå…¶æ€§èƒ½ä¼˜åŒ–åŒæ ·æ˜¯å¼€å‘è€…å…³æ³¨çš„ç„¦ç‚¹ã€‚åœ¨ç™»å½•è®¤è¯è¿™æ ·çš„é«˜é¢‘æ“ä½œä¸­ï¼Œå³ä½¿æ˜¯çœ‹ä¼¼ç®€å•çš„æ—¥å¿—è®°å½•ï¼Œä¹Ÿå¯èƒ½æˆä¸ºæ½œåœ¨çš„æ€§èƒ½ç“¶é¢ˆã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨åœ¨ RuoYi æ¡†æ¶ä¸­ï¼Œå¦‚ä½•é€šè¿‡<strong>å¼‚æ­¥å¤„ç†</strong>ç™»å½•æ—¥å¿—æ¥æ˜¾è‘—æå‡ç³»ç»Ÿå“åº”é€Ÿåº¦å’Œååé‡ï¼Œå¹¶æä¾›è¯¦ç»†çš„ä»£ç è§£æã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆç™»å½•æ—¥å¿—éœ€è¦å¼‚æ­¥å¤„ç†ï¼Ÿ</h3>
<p>å½“ç”¨æˆ·å°è¯•ç™»å½•ç³»ç»Ÿæ—¶ï¼Œé™¤äº†éªŒè¯ç”¨æˆ·åå¯†ç ã€ç”ŸæˆTokenç­‰æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å¤–ï¼Œé€šå¸¸è¿˜éœ€è¦è®°å½•ç”¨æˆ·çš„ç™»å½•ä¿¡æ¯ï¼Œä¾‹å¦‚ç™»å½•æ—¶é—´ã€IPåœ°å€ã€ç™»å½•çŠ¶æ€ï¼ˆæˆåŠŸ/å¤±è´¥ï¼‰ç­‰ã€‚è¿™äº›ä¿¡æ¯å¾€å¾€éœ€è¦æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¸­ã€‚</p>
<p>å¦‚æœè¿™äº›æ—¥å¿—è®°å½•æ“ä½œæ˜¯<strong>åŒæ­¥</strong>è¿›è¡Œçš„ï¼Œå³åœ¨ç™»å½•è®¤è¯æµç¨‹ä¸­ç­‰å¾…æ•°æ®åº“å†™å…¥å®Œæˆåæ‰è¿”å›ç»“æœï¼Œé‚£ä¹ˆï¼š</p>
<ol>
<li><strong>å¢åŠ å“åº”æ—¶é—´ï¼š</strong> æ•°æ®åº“I/Oæ“ä½œç›¸å¯¹è€—æ—¶ï¼Œä¼šç›´æ¥å¢åŠ ç”¨æˆ·ç­‰å¾…ç™»å½•å“åº”çš„æ—¶é—´ã€‚</li>
<li><strong>é™ä½å¹¶å‘èƒ½åŠ›ï¼š</strong> åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼ŒåŒæ­¥çš„æ•°æ®åº“æ“ä½œä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Œé™åˆ¶ç³»ç»Ÿå¤„ç†æ›´å¤šå¹¶å‘ç™»å½•è¯·æ±‚çš„èƒ½åŠ›ã€‚</li>
<li><strong>èµ„æºç«äº‰ï¼š</strong> å¤šä¸ªç™»å½•è¯·æ±‚åŒæ—¶å†™å…¥æ•°æ®åº“æ—¶ï¼Œå¯èƒ½å¼•å‘æ•°æ®åº“é”ç«äº‰ï¼Œè¿›ä¸€æ­¥æ¶åŒ–æ€§èƒ½ã€‚</li>
</ol>
<p>å› æ­¤ï¼Œå°†ç™»å½•æ—¥å¿—çš„å†™å…¥æ“ä½œä»æ ¸å¿ƒç™»å½•æµç¨‹ä¸­å‰¥ç¦»å‡ºæ¥ï¼Œè¿›è¡Œ<strong>å¼‚æ­¥å¤„ç†</strong>ï¼Œæˆä¸ºä¼˜åŒ–ç™»å½•æ€§èƒ½çš„å…³é”®ç­–ç•¥ã€‚è¿™æ„å‘³ç€ç™»å½•è®¤è¯é€šè¿‡åï¼Œç³»ç»Ÿå¯ä»¥ç«‹å³å“åº”ç”¨æˆ·ï¼Œè€Œæ—¥å¿—è®°å½•åˆ™åœ¨åå°é»˜é»˜è¿›è¡Œï¼Œäº’ä¸å¹²æ‰°ã€‚</p>
<h3 data-id="heading-2">äºŒã€RuoYi æ¡†æ¶ä¸­å¼‚æ­¥å¤„ç†ç™»å½•æ—¥å¿—çš„å®ç°æ€è·¯</h3>
<p>åœ¨ RuoYi æ¡†æ¶ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šåˆ©ç”¨ Spring Boot æä¾›çš„ç‰¹æ€§ï¼Œç»“åˆäº‹ä»¶é©±åŠ¨æœºåˆ¶å’Œçº¿ç¨‹æ± æ¥å®ç°ç™»å½•æ—¥å¿—çš„å¼‚æ­¥è®°å½•ã€‚æ ¸å¿ƒæ€è·¯å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>äº‹ä»¶å‘å¸ƒï¼š</strong> åœ¨ç™»å½•è®¤è¯æˆåŠŸæˆ–å¤±è´¥åï¼Œå‘å¸ƒä¸€ä¸ªè‡ªå®šä¹‰çš„ç™»å½•äº‹ä»¶ï¼ˆ<code>LoginEvent</code>ï¼‰ï¼ŒåŒ…å«æ‰€æœ‰éœ€è¦è®°å½•çš„ç™»å½•ä¿¡æ¯ã€‚</li>
<li><strong>å¼‚æ­¥ç›‘å¬ï¼š</strong> åˆ›å»ºä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ï¼Œå¹¶ä½¿ç”¨ Spring çš„ <code>@Async</code> æ³¨è§£å°†å…¶æ ‡è®°ä¸ºå¼‚æ­¥æ–¹æ³•ã€‚å½“ <code>LoginEvent</code> è¢«å‘å¸ƒæ—¶ï¼Œè¿™ä¸ªç›‘å¬å™¨ä¼šåœ¨ç‹¬ç«‹çš„çº¿ç¨‹ä¸­æ‰§è¡Œã€‚</li>
<li><strong>æ—¥å¿—æŒä¹…åŒ–ï¼š</strong> åœ¨å¼‚æ­¥ç›‘å¬å™¨ä¸­ï¼Œè°ƒç”¨ <code>SysLogininforService</code> å°†ç™»å½•ä¿¡æ¯ä¿å­˜åˆ°æ•°æ®åº“ã€‚</li>
</ol>
<h3 data-id="heading-3">ä¸‰ã€ä»£ç å®ç°ä¸è§£æ</h3>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é€šè¿‡å…·ä½“çš„ä»£ç ç¤ºä¾‹æ¥é€æ­¥æ„å»ºå¼‚æ­¥ç™»å½•æ—¥å¿—åŠŸèƒ½ã€‚</p>
<h4 data-id="heading-4">1. å¼€å¯ Spring å¼‚æ­¥æ”¯æŒ</h4>
<p>é¦–å…ˆï¼Œç¡®ä¿ä½ çš„ Spring Boot åº”ç”¨å¼€å¯äº†å¼‚æ­¥æ‰§è¡ŒåŠŸèƒ½ã€‚è¿™é€šå¸¸é€šè¿‡åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ  <code>@EnableAsync</code> æ³¨è§£å®ç°ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// RuoYiApplication.java</span>
<span class="hljs-keyword">package</span> com.ruoyi;

<span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;
<span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;
<span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;
<span class="hljs-keyword">import</span> org.springframework.scheduling.annotation.EnableAsync; <span class="hljs-comment">// å¼•å…¥å¼‚æ­¥æ”¯æŒ</span>

<span class="hljs-comment">/**
 * å¯åŠ¨ç¨‹åº
 *
 * <span class="hljs-doctag">@author</span> ruoyi
 */</span>
<span class="hljs-meta">@SpringBootApplication(exclude = { DataSourceAutoConfiguration.class })</span>
<span class="hljs-meta">@EnableAsync</span> <span class="hljs-comment">// å¼€å¯å¼‚æ­¥æ–¹æ³•æ‰§è¡Œ</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RuoYiApplication</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>
    {
        <span class="hljs-comment">// System.setProperty("spring.devtools.restart.enabled", "false");</span>
        SpringApplication.run(RuoYiApplication.class, args);
        System.out.println(<span class="hljs-string">"(â™¥â— â€¿â— )ï¾‰ï¾  è‹¥ä¾å¯åŠ¨æˆåŠŸ   áƒš(Â´Ú¡`áƒš)ï¾  \n"</span> +
                <span class="hljs-string">" .-------.         .--.  .--.\n"</span> +
                <span class="hljs-string">" |  _ _   \\ .-.     |  |  |  |\n"</span> +
                <span class="hljs-string">" | ( ' )  | `-'     |  .--.  |\n"</span> +
                <span class="hljs-string">" |(_ o _) /         |  |  |  |\n"</span> +
                <span class="hljs-string">" | (_,_).' __        |  |  |  |\n"</span> +
                <span class="hljs-string">" |  |\\ \\  |  |   ___ |  |  |  |\n"</span> +
                <span class="hljs-string">" |  | \\ `'   / / \\  \\          /\n"</span> +
                <span class="hljs-string">" |  |  \\    /   \\  \\        /\n"</span> +
                <span class="hljs-string">" '--'   `--'     '--'--.--'\n"</span> +
                <span class="hljs-string">"                                      "</span>);
    }
}
</code></pre>
<h4 data-id="heading-5">2. å®šä¹‰å¼‚æ­¥çº¿ç¨‹æ± ï¼ˆå¯é€‰ï¼Œä½†æ¨èï¼‰</h4>
<p>ä¸ºäº†æ›´å¥½åœ°æ§åˆ¶å¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªçº¿ç¨‹æ± ä¾› <code>@Async</code> æ³¨è§£ä½¿ç”¨ã€‚è¿™æ ·å¯ä»¥é¿å…ä½¿ç”¨ Spring é»˜è®¤çš„ <code>SimpleAsyncTaskExecutor</code>ï¼Œæé«˜çº¿ç¨‹èµ„æºç®¡ç†æ•ˆç‡ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// AsyncConfig.java</span>
<span class="hljs-keyword">package</span> com.ruoyi.framework.config;

<span class="hljs-keyword">import</span> java.util.concurrent.Executor;
<span class="hljs-keyword">import</span> java.util.concurrent.ThreadPoolExecutor;
<span class="hljs-keyword">import</span> org.springframework.context.annotation.Bean;
<span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;
<span class="hljs-keyword">import</span> org.springframework.scheduling.annotation.AsyncConfigurer;
<span class="hljs-keyword">import</span> org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;

<span class="hljs-comment">/**
 * å¼‚æ­¥ä»»åŠ¡é…ç½®
 *
 * <span class="hljs-doctag">@author</span> ruoyi
 */</span>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AsyncConfig</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">AsyncConfigurer</span>
{
    <span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªæ—¥å¿—ä¸“ç”¨çš„çº¿ç¨‹æ± </span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">LOG_TASK_EXECUTOR</span> <span class="hljs-operator">=</span> <span class="hljs-string">"logTaskExecutor"</span>;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-meta">@Bean(name = LOG_TASK_EXECUTOR)</span>
    <span class="hljs-keyword">public</span> Executor <span class="hljs-title function_">getAsyncExecutor</span><span class="hljs-params">()</span>
    {
        <span class="hljs-type">ThreadPoolTaskExecutor</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolTaskExecutor</span>();
        executor.setCorePoolSize(<span class="hljs-number">5</span>); <span class="hljs-comment">// æ ¸å¿ƒçº¿ç¨‹æ•°</span>
        executor.setMaxPoolSize(<span class="hljs-number">10</span>); <span class="hljs-comment">// æœ€å¤§çº¿ç¨‹æ•°</span>
        executor.setQueueCapacity(<span class="hljs-number">200</span>); <span class="hljs-comment">// é˜Ÿåˆ—å®¹é‡</span>
        executor.setKeepAliveSeconds(<span class="hljs-number">60</span>); <span class="hljs-comment">// çº¿ç¨‹ç©ºé—²æ—¶é—´</span>
        executor.setThreadNamePrefix(<span class="hljs-string">"ruoyi-log-async-"</span>); <span class="hljs-comment">// çº¿ç¨‹åç§°å‰ç¼€</span>
        <span class="hljs-comment">// æ‹’ç»ç­–ç•¥ï¼šå½“é˜Ÿåˆ—æ»¡ä¸”çº¿ç¨‹æ•°è¾¾åˆ°æœ€å¤§æ—¶ï¼Œç”±è°ƒç”¨è€…çº¿ç¨‹æ‰§è¡Œä»»åŠ¡</span>
        executor.setRejectedExecutionHandler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>.CallerRunsPolicy());
        executor.initialize();
        <span class="hljs-keyword">return</span> executor;
    }
}
</code></pre>
<h4 data-id="heading-6">3. å®šä¹‰ç™»å½•äº‹ä»¶</h4>
<p>åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ <code>LoginEvent</code>ï¼Œå®ƒç»§æ‰¿è‡ª Spring çš„ <code>ApplicationEvent</code>ï¼Œç”¨äºå°è£…ç™»å½•ç›¸å…³çš„ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// LoginEvent.java</span>
<span class="hljs-keyword">package</span> com.ruoyi.framework.event;

<span class="hljs-keyword">import</span> com.ruoyi.system.domain.SysLogininfor;
<span class="hljs-keyword">import</span> org.springframework.context.ApplicationEvent;

<span class="hljs-comment">/**
 * ç™»å½•äº‹ä»¶
 * ç”¨äºåœ¨ç™»å½•æˆåŠŸæˆ–å¤±è´¥æ—¶ï¼Œå‘å¸ƒäº‹ä»¶è¿›è¡Œå¼‚æ­¥æ—¥å¿—è®°å½•
 *
 * <span class="hljs-doctag">@author</span> ruoyi
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginEvent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ApplicationEvent</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> SysLogininfor logininfor;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">LoginEvent</span><span class="hljs-params">(Object source, SysLogininfor logininfor)</span>
    {
        <span class="hljs-built_in">super</span>(source);
        <span class="hljs-built_in">this</span>.logininfor = logininfor;
    }

    <span class="hljs-keyword">public</span> SysLogininfor <span class="hljs-title function_">getLogininfor</span><span class="hljs-params">()</span>
    {
        <span class="hljs-keyword">return</span> logininfor;
    }
}
</code></pre>
<h4 data-id="heading-7">4. åˆ›å»ºå¼‚æ­¥äº‹ä»¶ç›‘å¬å™¨</h4>
<p>ç¼–å†™ä¸€ä¸ª Spring ç»„ä»¶ä½œä¸ºäº‹ä»¶ç›‘å¬å™¨ã€‚ä½¿ç”¨ <code>@EventListener</code> æ³¨è§£ç›‘å¬ <code>LoginEvent</code>ï¼Œå¹¶é€šè¿‡ <code>@Async</code> æ³¨è§£æŒ‡å®šå®ƒåœ¨åå°çº¿ç¨‹ä¸­æ‰§è¡Œï¼ŒåŒæ—¶å¯ä»¥æŒ‡å®šä½¿ç”¨æˆ‘ä»¬ä¹‹å‰å®šä¹‰çš„çº¿ç¨‹æ± ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// LoginEventListener.java</span>
<span class="hljs-keyword">package</span> com.ruoyi.framework.listener;

<span class="hljs-keyword">import</span> com.ruoyi.framework.config.AsyncConfig;
<span class="hljs-keyword">import</span> com.ruoyi.framework.event.LoginEvent;
<span class="hljs-keyword">import</span> com.ruoyi.system.service.ISysLogininforService;
<span class="hljs-keyword">import</span> org.slf4j.Logger;
<span class="hljs-keyword">import</span> org.slf4j.LoggerFactory;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.context.event.EventListener;
<span class="hljs-keyword">import</span> org.springframework.scheduling.annotation.Async;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Component;

<span class="hljs-comment">/**
 * ç™»å½•äº‹ä»¶ç›‘å¬å™¨
 * è´Ÿè´£å¼‚æ­¥è®°å½•ç™»å½•æ—¥å¿—åˆ°æ•°æ®åº“
 *
 * <span class="hljs-doctag">@author</span> ruoyi
 */</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginEventListener</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">log</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(LoginEventListener.class);

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ISysLogininforService logininforService;

    <span class="hljs-comment">/**
     * ç›‘å¬ LoginEventï¼Œå¹¶åœ¨å¼‚æ­¥çº¿ç¨‹ä¸­å¤„ç†ç™»å½•æ—¥å¿—
     * æŒ‡å®šä½¿ç”¨ logTaskExecutor çº¿ç¨‹æ± 
     *
     * <span class="hljs-doctag">@param</span> event ç™»å½•äº‹ä»¶
     */</span>
    <span class="hljs-meta">@Async(AsyncConfig.LOG_TASK_EXECUTOR)</span>
    <span class="hljs-meta">@EventListener</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleLoginEvent</span><span class="hljs-params">(LoginEvent event)</span>
    {
        log.debug(<span class="hljs-string">"å¼‚æ­¥çº¿ç¨‹[{}] å¼€å§‹å¤„ç†ç™»å½•æ—¥å¿—..."</span>, Thread.currentThread().getName());
        <span class="hljs-keyword">try</span>
        {
            <span class="hljs-comment">// è·å–ç™»å½•ä¿¡æ¯å¯¹è±¡</span>
            <span class="hljs-type">SysLogininfor</span> <span class="hljs-variable">logininfor</span> <span class="hljs-operator">=</span> event.getLogininfor();
            <span class="hljs-comment">// è°ƒç”¨æœåŠ¡å±‚æ–¹æ³•ï¼Œå°†ç™»å½•æ—¥å¿—ä¿å­˜åˆ°æ•°æ®åº“</span>
            logininforService.insertLogininfor(logininfor);
            log.info(<span class="hljs-string">"ç”¨æˆ·[{}] ç™»å½•æ—¥å¿—è®°å½•æˆåŠŸã€‚çŠ¶æ€: {}"</span>, logininfor.getUserName(), logininfor.getStatus());
        }
        <span class="hljs-keyword">catch</span> (Exception e)
        {
            log.error(<span class="hljs-string">"å¼‚æ­¥è®°å½•ç™»å½•æ—¥å¿—å¤±è´¥ï¼š{}"</span>, e.getMessage(), e);
            <span class="hljs-comment">// å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ å‘Šè­¦é€šçŸ¥æœºåˆ¶</span>
        }
    }
}
</code></pre>
<h4 data-id="heading-8">5. åœ¨ç™»å½•æœåŠ¡ä¸­å‘å¸ƒäº‹ä»¶</h4>
<p>æœ€åï¼Œåœ¨ RuoYi çš„ç™»å½•æœåŠ¡ï¼ˆä¾‹å¦‚ <code>SysLoginService</code>ï¼‰ä¸­ï¼Œå½“ç”¨æˆ·ç™»å½•æˆåŠŸæˆ–å¤±è´¥åï¼Œæ„å»º <code>SysLogininfor</code> å¯¹è±¡ï¼Œå¹¶é€šè¿‡ <code>ApplicationEventPublisher</code> å‘å¸ƒ <code>LoginEvent</code>ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// SysLoginService.java (ç®€åŒ–ç‰ˆï¼Œä»…å±•ç¤ºäº‹ä»¶å‘å¸ƒé€»è¾‘)</span>
<span class="hljs-keyword">package</span> com.ruoyi.framework.web.service;

<span class="hljs-keyword">import</span> com.ruoyi.common.constant.Constants;
<span class="hljs-keyword">import</span> com.ruoyi.common.exception.user.CaptchaException;
<span class="hljs-keyword">import</span> com.ruoyi.common.exception.user.UserPasswordNotMatchException;
<span class="hljs-keyword">import</span> com.ruoyi.common.utils.DateUtils;
<span class="hljs-keyword">import</span> com.ruoyi.common.utils.ServletUtils;
<span class="hljs-keyword">import</span> com.ruoyi.framework.event.LoginEvent; <span class="hljs-comment">// å¼•å…¥ LoginEvent</span>
<span class="hljs-keyword">import</span> com.ruoyi.framework.manager.AsyncManager;
<span class="hljs-keyword">import</span> com.ruoyi.framework.manager.factory.AsyncFactory;
<span class="hljs-keyword">import</span> com.ruoyi.system.domain.SysLogininfor;
<span class="hljs-keyword">import</span> com.ruoyi.system.domain.SysUser;
<span class="hljs-keyword">import</span> com.ruoyi.system.service.ISysConfigService;
<span class="hljs-keyword">import</span> com.ruoyi.system.service.ISysUserService;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.context.ApplicationEventPublisher; <span class="hljs-comment">// å¼•å…¥äº‹ä»¶å‘å¸ƒå™¨</span>
<span class="hljs-keyword">import</span> org.springframework.security.authentication.AuthenticationManager;
<span class="hljs-keyword">import</span> org.springframework.security.authentication.BadCredentialsException;
<span class="hljs-keyword">import</span> org.springframework.security.authentication.UsernamePasswordAuthenticationToken;
<span class="hljs-keyword">import</span> org.springframework.security.core.Authentication;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Component;

<span class="hljs-comment">/**
 * ç™»å½•æ ¡éªŒæ–¹æ³•
 *
 * <span class="hljs-doctag">@author</span> ruoyi
 */</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SysLoginService</span>
{
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> TokenService tokenService;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> AuthenticationManager authenticationManager;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ISysUserService userService;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ISysConfigService configService;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ApplicationEventPublisher eventPublisher; <span class="hljs-comment">// æ³¨å…¥äº‹ä»¶å‘å¸ƒå™¨</span>

    <span class="hljs-comment">/**
     * ç™»å½•éªŒè¯
     *
     * <span class="hljs-doctag">@param</span> username ç”¨æˆ·å
     * <span class="hljs-doctag">@param</span> password å¯†ç 
     * <span class="hljs-doctag">@param</span> code     éªŒè¯ç 
     * <span class="hljs-doctag">@param</span> uuid     å”¯ä¸€æ ‡è¯†
     * <span class="hljs-doctag">@return</span> ç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">login</span><span class="hljs-params">(String username, String password, String code, String uuid)</span>
    {
        <span class="hljs-comment">// ... (çœç•¥éªŒè¯ç ã€è´¦æˆ·é”å®šç­‰å…¶ä»–ç™»å½•é€»è¾‘) ...</span>

        <span class="hljs-type">SysLogininfor</span> <span class="hljs-variable">logininfor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SysLogininfor</span>();
        logininfor.setUserName(username);
        logininfor.setIpaddr(ServletUtils.getIpAddr(ServletUtils.getRequest()));
        logininfor.setLoginLocation(AsyncFactory.getRealAddressByIP(logininfor.getIpaddr()));
        logininfor.setBrowser(ServletUtils.getBrowser());
        logininfor.setOs(ServletUtils.getOs());
        logininfor.setLoginTime(DateUtils.getNowDate());

        Authentication authentication;
        <span class="hljs-keyword">try</span>
        {
            <span class="hljs-comment">// è¯¥æ–¹æ³•ä¼šå»è°ƒç”¨UserDetailsServiceImpl.loadUserByUsername</span>
            authentication = authenticationManager
                    .authenticate(<span class="hljs-keyword">new</span> <span class="hljs-title class_">UsernamePasswordAuthenticationToken</span>(username, password));

            <span class="hljs-comment">// è®¤è¯æˆåŠŸ</span>
            logininfor.setStatus(Constants.SUCCESS);
            logininfor.setMsg(<span class="hljs-string">"ç™»å½•æˆåŠŸ"</span>);
            <span class="hljs-comment">// å‘å¸ƒç™»å½•æˆåŠŸäº‹ä»¶</span>
            eventPublisher.publishEvent(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LoginEvent</span>(<span class="hljs-built_in">this</span>, logininfor));
        }
        <span class="hljs-keyword">catch</span> (Exception e)
        {
            logininfor.setStatus(Constants.FAIL);
            <span class="hljs-keyword">if</span> (e <span class="hljs-keyword">instanceof</span> BadCredentialsException || e <span class="hljs-keyword">instanceof</span> UserPasswordNotMatchException)
            {
                logininfor.setMsg(<span class="hljs-string">"ç”¨æˆ·ä¸å­˜åœ¨/å¯†ç é”™è¯¯"</span>);
            }
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e <span class="hljs-keyword">instanceof</span> CaptchaException)
            {
                logininfor.setMsg(<span class="hljs-string">"éªŒè¯ç é”™è¯¯"</span>);
            }
            <span class="hljs-keyword">else</span>
            {
                logininfor.setMsg(e.getMessage());
            }
            <span class="hljs-comment">// å‘å¸ƒç™»å½•å¤±è´¥äº‹ä»¶</span>
            eventPublisher.publishEvent(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LoginEvent</span>(<span class="hljs-built_in">this</span>, logininfor));
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e.getMessage()); <span class="hljs-comment">// æŠ›å‡ºå¼‚å¸¸ç»™ä¸Šå±‚å¤„ç†</span>
        }
        <span class="hljs-comment">// ... (çœç•¥åç»­ç”ŸæˆTokenç­‰é€»è¾‘) ...</span>
        <span class="hljs-keyword">return</span> token;
    }
}
</code></pre>
<p><strong>ä»£ç è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>ApplicationEventPublisher</code> æ˜¯ Spring æä¾›çš„äº‹ä»¶å‘å¸ƒæ¥å£ï¼Œé€šè¿‡ <code>eventPublisher.publishEvent()</code> æ–¹æ³•å¯ä»¥å‘å¸ƒä»»ä½•ç»§æ‰¿è‡ª <code>ApplicationEvent</code> çš„äº‹ä»¶ã€‚</li>
<li><code>LoginEvent</code> åŒ…å«äº†æ‰€æœ‰éœ€è¦åœ¨æ—¥å¿—ä¸­è®°å½•çš„ä¿¡æ¯ã€‚</li>
<li>å½“ <code>login</code> æ–¹æ³•ä¸­è®¤è¯æˆåŠŸæˆ–å¤±è´¥åï¼Œæˆ‘ä»¬ç«‹å³å‘å¸ƒ <code>LoginEvent</code>ï¼Œè€Œæ— éœ€ç­‰å¾…æ•°æ®åº“æ“ä½œå®Œæˆã€‚</li>
<li><code>LoginEventListener</code> ä¸Šçš„ <code>@Async</code> å’Œ <code>@EventListener</code> ä¼šç¡®ä¿ <code>handleLoginEvent</code> æ–¹æ³•åœ¨ <code>logTaskExecutor</code> çº¿ç¨‹æ± ä¸­å¼‚æ­¥æ‰§è¡Œï¼Œä»è€Œä¸é˜»å¡ä¸»ç™»å½•æµç¨‹ã€‚</li>
</ul>
<h3 data-id="heading-9">å››ã€æµ‹è¯•ä¸æ•ˆæœ</h3>
<p>é€šè¿‡ä¸Šè¿°æ”¹é€ ï¼Œå½“ç”¨æˆ·å‘èµ·ç™»å½•è¯·æ±‚æ—¶ï¼š</p>
<ol>
<li>ä¸»çº¿ç¨‹å¿«é€Ÿå®Œæˆç”¨æˆ·è®¤è¯å’ŒTokenç”Ÿæˆç­‰æ ¸å¿ƒæ“ä½œã€‚</li>
<li><code>SysLoginService</code> å‘å¸ƒ <code>LoginEvent</code> åï¼Œç«‹å³è¿”å›ç™»å½•ç»“æœç»™å‰ç«¯ã€‚</li>
<li>ä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹ï¼ˆæ¥è‡ª <code>logTaskExecutor</code> çº¿ç¨‹æ± ï¼‰æ¥æ”¶åˆ° <code>LoginEvent</code>ï¼Œå¹¶åœ¨åå°å¼‚æ­¥æ‰§è¡Œ <code>logininforService.insertLogininfor()</code> æ–¹æ³•ï¼Œå°†ç™»å½•æ—¥å¿—ä¿å­˜åˆ°æ•°æ®åº“ã€‚</li>
</ol>
<p>è¿™ç§æ¨¡å¼ä¸‹ï¼Œç™»å½•æ¥å£çš„å“åº”é€Ÿåº¦å°†ä¸»è¦å–å†³äºè®¤è¯é€»è¾‘å’ŒTokenç”Ÿæˆï¼Œè€Œä¸å†å—æ•°æ®åº“I/Oçš„æ‹–ç´¯ã€‚ç‰¹åˆ«æ˜¯åœ¨æ•°æ®åº“å‹åŠ›è¾ƒå¤§æˆ–ç½‘ç»œå»¶è¿Ÿè¾ƒé«˜çš„æƒ…å†µä¸‹ï¼Œå¼‚æ­¥å¤„ç†çš„ä¼˜åŠ¿å°†æ›´åŠ æ˜æ˜¾ã€‚</p>
<h3 data-id="heading-10">äº”ã€æ€»ç»“</h3>
<p>å¼‚æ­¥å¤„ç†ç™»å½•æ—¥å¿—æ˜¯ä¼˜åŒ– RuoYi æ¡†æ¶æ€§èƒ½çš„ä¸€ç§æœ‰æ•ˆæ‰‹æ®µã€‚é€šè¿‡åˆ©ç”¨ Spring çš„ <code>@EnableAsync</code>ã€è‡ªå®šä¹‰çº¿ç¨‹æ± ã€äº‹ä»¶å‘å¸ƒä¸ç›‘å¬æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°å°†æ—¥å¿—è®°å½•è¿™ä¸€éæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ä»ä¸»æµç¨‹ä¸­è§£è€¦å‡ºæ¥ï¼Œä½¿å…¶åœ¨åå°å¼‚æ­¥æ‰§è¡Œã€‚è¿™ä¸ä»…æå‡äº†ç”¨æˆ·ç™»å½•ä½“éªŒï¼Œä¹Ÿå¢å¼ºäº†ç³»ç»Ÿçš„å¹¶å‘å¤„ç†èƒ½åŠ›å’Œæ•´ä½“ç¨³å®šæ€§ã€‚</p>
<p><strong>å…³é”®ç‚¹å›é¡¾ï¼š</strong></p>
<ul>
<li><strong>é—®é¢˜æ ¹æºï¼š</strong> åŒæ­¥æ•°æ®åº“I/Oæ˜¯ç™»å½•æ€§èƒ½ç“¶é¢ˆã€‚</li>
<li><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> äº‹ä»¶é©±åŠ¨ + <code>@Async</code> å¼‚æ­¥å¤„ç†ã€‚</li>
<li><strong>ä»£ç æ ¸å¿ƒï¼š</strong> <code>LoginEvent</code>ã€<code>@EnableAsync</code>ã€è‡ªå®šä¹‰ <code>Executor</code>ã€<code>@Async @EventListener</code>ã€<code>ApplicationEventPublisher</code>ã€‚</li>
</ul>
<p>å¸Œæœ›æœ¬æ–‡èƒ½å¸®åŠ©ä½ åœ¨ RuoYi æ¡†æ¶çš„å¼€å‘ä¸­æ›´å¥½åœ°å®è·µå¼‚æ­¥ç¼–ç¨‹ï¼Œæ„å»ºå‡ºæ›´é«˜æ•ˆã€æ›´å¥å£®çš„åº”ç”¨ã€‚</p>
<hr/>
<p>`</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Go é€šé“å¼•ç”¨ä¸ close æ“ä½œ]]></title>    <link>https://juejin.cn/post/7571678674145705994</link>    <guid>https://juejin.cn/post/7571678674145705994</guid>    <pubDate>2025-11-12T15:44:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571678674145705994" data-draft-id="7571662618056015898" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Go é€šé“å¼•ç”¨ä¸ close æ“ä½œ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-12T15:44:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Penge666"/> <meta itemprop="url" content="https://juejin.cn/user/1549628692501449"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Go é€šé“å¼•ç”¨ä¸ close æ“ä½œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1549628692501449/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Penge666
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T15:44:16.000Z" title="Wed Nov 12 2025 15:44:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ Go å¼€å‘ä¸­ï¼Œé€šé“ï¼ˆchanï¼‰çš„ä½¿ç”¨é¢‘ç‡æé«˜ï¼Œä½†å®ƒçš„å¼•ç”¨ç‰¹æ€§å’Œ close æ“ä½œçš„ä½œç”¨èŒƒå›´ï¼Œå¾€å¾€æ˜¯æ–°æ‰‹å®¹æ˜“è¸©å‘çš„ç‚¹ã€‚æ¯”å¦‚ â€œé€šé“èµ‹å€¼åå…³é—­åŸå˜é‡ï¼Œæ–°å˜é‡ä¼šå—å½±å“å—ï¼Ÿâ€â€œä¼šä¸ä¼šå¯¼è‡´å†…å­˜æ³„éœ²ï¼Ÿâ€â€œåç»­å‘é€æ•°æ®ä¼šä¸ä¼š panicï¼Ÿâ€â€”â€” è¿™ç¯‡æ–‡ç« å°±ç”¨é€šä¿—çš„è¯­è¨€ + ç»“è®º + ä»£ç éªŒè¯ï¼ŒæŠŠè¿™äº›é—®é¢˜è®²é€ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒç»“è®ºï¼ˆå…ˆç»™ç­”æ¡ˆï¼Œä¸ç»•å¼¯ï¼‰</h2>
<ol>
<li><code>destChan</code>Â ä¸æ˜¯æŒ‡é’ˆï¼Œæ˜¯ã€Œé€šé“å¼•ç”¨ã€ï¼šGo ä¸­é€šé“æ˜¯å¼•ç”¨ç±»å‹ï¼ˆç±»ä¼¼ sliceã€mapï¼‰ï¼Œå˜é‡å­˜å‚¨çš„æ˜¯æŒ‡å‘åº•å±‚æ•°æ®ç»“æ„çš„å¼•ç”¨ï¼Œè€Œéç»“æ„æœ¬èº«ã€‚</li>
<li>å…³é—­Â <code>source.TaskChan</code>Â åï¼Œ<code>destChan</code>Â ä¼šå—å½±å“ï¼Œä½†ä¸æ˜¯ â€œè¢«å…³é—­â€ï¼šclose æ“ä½œä½œç”¨äºåº•å±‚é€šé“ï¼Œæ‰€æœ‰å¼•ç”¨è¿™ä¸ªé€šé“çš„å˜é‡ï¼ˆåŒ…æ‹¬Â <code>destChan</code>ï¼‰éƒ½ä¼šæ„ŸçŸ¥åˆ° â€œé€šé“å·²å…³é—­â€ã€‚</li>
<li>ä¸ä¼šå› Â <code>destChan</code>Â å¯¼è‡´å†…å­˜æ³„éœ²ï¼šåªè¦æ‰€æœ‰å¼•ç”¨ï¼ˆ<code>source.TaskChan</code>Â å’ŒÂ <code>destChan</code>ï¼‰éƒ½ä¸å†è¢«ä½¿ç”¨ï¼Œåº•å±‚é€šé“ä¼šè¢« GC å›æ”¶ï¼›çœŸæ­£éœ€è¦è­¦æƒ•çš„æ˜¯ â€œå…³é—­é€šé“åçš„å‘é€ panicâ€ã€‚</li>
</ol>
<h2 data-id="heading-1">äºŒã€é€ç‚¹æ‹†è§£ï¼šæŠŠåŸç†è®²æ˜ç™½</h2>
<h3 data-id="heading-2">1. é€šé“æ˜¯ â€œå¼•ç”¨ç±»å‹â€ï¼Œä¸æ˜¯æŒ‡é’ˆä½†è¡Œä¸ºç±»ä¼¼</h3>
<p>Go ä¸­çš„å¼•ç”¨ç±»å‹ï¼ˆchan/slice/map/func/interfaceï¼‰æœ‰ä¸ªå…±æ€§ï¼šå˜é‡å­˜å‚¨çš„æ˜¯ã€ŒæŒ‡å‘åº•å±‚å¯¹è±¡çš„åœ°å€ã€ï¼Œèµ‹å€¼æ“ä½œåªä¼šå¤åˆ¶è¿™ä¸ªåœ°å€ï¼Œä¸ä¼šå¤åˆ¶åº•å±‚å¯¹è±¡ã€‚</p>
<p>ä¸¾ä¸ªå®é™…åœºæ™¯çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// å‡è®¾ source æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰ç»“æ„ä½“ï¼ŒTaskChan æ˜¯å·²åˆå§‹åŒ–çš„ chan string</span>
<span class="hljs-keyword">type</span> Resource <span class="hljs-keyword">struct</span> {
    TaskChan <span class="hljs-keyword">chan</span> <span class="hljs-type">string</span> <span class="hljs-comment">// é€šé“å­—æ®µ</span>
}

<span class="hljs-keyword">var</span> source = Resource{
    TaskChan: <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">string</span>, <span class="hljs-number">5</span>), <span class="hljs-comment">// åˆå§‹åŒ–å¸¦ç¼“å†²é€šé“</span>
}

<span class="hljs-comment">// èµ‹å€¼æ“ä½œï¼šå°† source.TaskChan èµ‹å€¼ç»™ destChan</span>
destChan := source.TaskChan
</code></pre>
<p>æ‰§è¡Œåï¼Œ<code>destChan</code>Â å’ŒÂ <code>source.TaskChan</code>Â æŒæœ‰åŒä¸€ä¸ªåº•å±‚é€šé“çš„å¼•ç”¨ â€”â€” å°±åƒä¸¤ä¸ªé¥æ§å™¨æ§åˆ¶åŒä¸€ä¸ªç”µè§†ï¼Œæ“ä½œä»»ä½•ä¸€ä¸ªï¼Œå½±å“çš„éƒ½æ˜¯åŒä¸€ä¸ª â€œåº•å±‚è®¾å¤‡â€ã€‚</p>
<p>è¿™é‡Œè¦æ³¨æ„ï¼š<code>destChan</code>Â ä¸æ˜¯Â <code>*chan string</code>ï¼ˆé€šé“æŒ‡é’ˆï¼‰ï¼Œè€Œæ˜¯Â <code>chan string</code>ï¼ˆé€šé“å¼•ç”¨ç±»å‹ï¼‰ï¼Œè¯­æ³•ä¸Šä¸éœ€è¦è§£å¼•ç”¨ï¼ˆ<code>*</code>ï¼‰å°±èƒ½ç›´æ¥ä½¿ç”¨ï¼Œæ¯”æŒ‡é’ˆæ›´ç®€æ´ã€‚</p>
<h3 data-id="heading-3">2. close æ“ä½œä½œç”¨äº â€œåº•å±‚é€šé“â€ï¼Œæ‰€æœ‰å¼•ç”¨éƒ½ä¼šæ„ŸçŸ¥</h3>
<p>å½“æˆ‘ä»¬æ‰§è¡ŒÂ <code>close(source.TaskChan)</code>Â æ—¶ï¼Œè¦æ˜ç¡®ä¸€ä¸ªå…³é”®ï¼š<strong>å…³é—­çš„æ˜¯åº•å±‚çš„é€šé“å¯¹è±¡ï¼Œä¸æ˜¯Â <code>source.TaskChan</code>Â è¿™ä¸ªå˜é‡æœ¬èº«</strong>ã€‚</p>
<p>å› ä¸ºÂ <code>destChan</code>Â å’ŒÂ <code>source.TaskChan</code>Â æŒ‡å‘åŒä¸€ä¸ªåº•å±‚é€šé“ï¼Œæ‰€ä»¥Â <code>destChan</code>Â ä¼šå˜æˆ â€œæŒ‡å‘å·²å…³é—­é€šé“çš„å¼•ç”¨â€â€”â€” æ­¤æ—¶ä¼šæœ‰ä¸¤ä¸ªæ ¸å¿ƒå½±å“ï¼š</p>
<ul>
<li>å¾€Â <code>destChan</code>Â å‘é€æ•°æ®ï¼šç›´æ¥ panicï¼ˆé”™è¯¯ä¿¡æ¯ï¼š<code>send on closed channel</code>ï¼‰ï¼›</li>
<li>ä»Â <code>destChan</code>Â æ¥æ”¶æ•°æ®ï¼šä¼šç«‹å³è¿”å›é€šé“å…ƒç´ çš„é›¶å€¼ +Â <code>ok=false</code>ï¼ˆè¡¨ç¤ºé€šé“å·²å…³é—­ä¸”æ— æ•°æ®ï¼‰ã€‚</li>
</ul>
<p>å¯ä»¥ç”¨ä¸€ä¸ªé€šä¿—çš„æ¯”å–»ç†è§£ï¼šä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªæ–‡ä»¶ï¼Œå…³é—­æ–‡ä»¶åï¼Œä¸¤ä¸ªæŒ‡é’ˆéƒ½æ— æ³•å†å†™å…¥æ–‡ä»¶ï¼Œä½†æŒ‡é’ˆå˜é‡æœ¬èº«è¿˜å­˜åœ¨ï¼ˆä¸æ˜¯ nilï¼‰ï¼Œåªæ˜¯å¤±å»äº†æœ‰æ•ˆæ“ä½œçš„èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-4">3. å†…å­˜æ³„éœ²é£é™©ï¼šå‡ ä¹ä¸å­˜åœ¨ï¼Œæ— éœ€è¿‡åº¦æ‹…å¿ƒ</h3>
<p>å†…å­˜æ³„éœ²çš„æ ¸å¿ƒæ˜¯ â€œåº•å±‚å¯¹è±¡è¢«æ— ç”¨çš„å¼•ç”¨æŒæœ‰ï¼Œæ— æ³•è¢« GC å›æ”¶â€ï¼Œä½†åœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼Œå®Œå…¨ä¸éœ€è¦æ‹…å¿ƒï¼š</p>
<ul>
<li><code>destChan</code>Â é€šå¸¸æ˜¯å±€éƒ¨å˜é‡ï¼ˆæ¯”å¦‚åœ¨å‡½æ•°æˆ–å›è°ƒä¸­å®šä¹‰ï¼‰ï¼Œå‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œå˜é‡ä¼šè¢«é”€æ¯ï¼Œå¼•ç”¨è‡ªç„¶é‡Šæ”¾ï¼›</li>
<li><code>source.TaskChan</code>Â æ˜¯ç»“æ„ä½“å­—æ®µï¼Œå½“Â <code>source</code>Â ç»“æ„ä½“è¢«é”€æ¯ï¼ˆæ¯”å¦‚ä»»åŠ¡æ‰§è¡Œç»“æŸåï¼‰ï¼Œè¿™ä¸ªå¼•ç”¨ä¹Ÿä¼šæ¶ˆå¤±ï¼›</li>
<li>åªè¦æ‰€æœ‰å¼•ç”¨éƒ½é‡Šæ”¾ï¼Œæ— è®ºåº•å±‚é€šé“æ˜¯å¦å…³é—­ï¼Œéƒ½ä¼šè¢« GC å›æ”¶ï¼Œä¸ä¼šé€ æˆå†…å­˜æ³„éœ²ã€‚</li>
</ul>
<p>å”¯ä¸€å¯èƒ½çš„æ³„éœ²åœºæ™¯ï¼šå¦‚æœÂ <code>source</code>Â æ˜¯å…¨å±€å˜é‡ï¼ˆé•¿æœŸå­˜åœ¨ï¼‰ï¼Œä¸”é€šé“è¢«å…³é—­åï¼Œ<code>source.TaskChan</code>Â ä»è¢«æŒæœ‰ï¼Œä½†è¿™æ˜¯Â <code>source</code>Â çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†é—®é¢˜ï¼Œå’ŒÂ <code>destChan</code>Â æ— å…³ã€‚</p>
<h2 data-id="heading-5">ä¸‰ã€ä»£ç éªŒè¯ï¼šç›´è§‚æ„Ÿå—å¼•ç”¨ä¸ close çš„å½±å“</h2>
<p>å…‰è¯´ä¸ç»ƒå‡æŠŠå¼ï¼Œç”¨ä¸€æ®µç®€å•çš„ä»£ç éªŒè¯ä¸Šé¢çš„ç»“è®ºï¼Œè·‘èµ·æ¥å°±èƒ½ç›´è§‚çœ‹åˆ°æ•ˆæœï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// 1. åˆå§‹åŒ–ä¸€ä¸ªé€šé“ï¼ˆåº•å±‚é€šé“å¯¹è±¡åœ¨å †ä¸Šåˆ†é…ï¼‰</span>
    sourceChan := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">string</span>, <span class="hljs-number">1</span>)
    fmt.Printf(<span class="hljs-string">"sourceChan å˜é‡æœ¬èº«åœ°å€ï¼ˆæ ˆä¸Šï¼‰ï¼š%p\n"</span>, &amp;sourceChan)
    fmt.Printf(<span class="hljs-string">"sourceChan å¼•ç”¨çš„åº•å±‚é€šé“åœ°å€ï¼ˆå †ä¸Šï¼‰ï¼š%p\n"</span>, sourceChan)

    <span class="hljs-comment">// 2. èµ‹å€¼ç»™ destChanï¼šå¤åˆ¶å¼•ç”¨</span>
    destChan := sourceChan
    fmt.Printf(<span class="hljs-string">"destChan å˜é‡æœ¬èº«åœ°å€ï¼ˆæ ˆä¸Šï¼‰ï¼š%p\n"</span>, &amp;destChan)
    fmt.Printf(<span class="hljs-string">"destChan å¼•ç”¨çš„åº•å±‚é€šé“åœ°å€ï¼ˆå †ä¸Šï¼‰ï¼š%p\n"</span>, destChan)

    <span class="hljs-comment">// 3. å…³é—­ sourceChanï¼ˆå®é™…å…³é—­çš„æ˜¯åº•å±‚é€šé“ï¼‰</span>
    <span class="hljs-built_in">close</span>(sourceChan)

    <span class="hljs-comment">// 4. destChan æ„ŸçŸ¥åˆ°åº•å±‚é€šé“å·²å…³é—­</span>
    data, ok := &lt;-destChan
    fmt.Printf(<span class="hljs-string">"ä» destChan æ¥æ”¶æ•°æ®ï¼šdata=%q, ok=%vï¼ˆok=false è¡¨ç¤ºé€šé“å·²å…³é—­ï¼‰\n"</span>, data, ok)

    <span class="hljs-comment">// 5. å¾€ destChan å‘é€æ•°æ®ä¼šç›´æ¥ panicï¼ˆæ³¨é‡Šæ‰å¯é¿å…è¿è¡ŒæŠ¥é”™ï¼‰</span>
    <span class="hljs-comment">// destChan &lt;- "test" // æ‰§è¡ŒåæŠ¥é”™ï¼španic: send on closed channel</span>
}
</code></pre>
<h3 data-id="heading-6">è¿è¡Œç»“æœï¼š</h3>
<pre><code class="hljs language-plaintext" lang="plaintext">sourceChan å˜é‡æœ¬èº«åœ°å€ï¼ˆæ ˆä¸Šï¼‰ï¼š0xc0000a6020
sourceChan å¼•ç”¨çš„åº•å±‚é€šé“åœ°å€ï¼ˆå †ä¸Šï¼‰ï¼š0xc0000b4000
destChan å˜é‡æœ¬èº«åœ°å€ï¼ˆæ ˆä¸Šï¼‰ï¼š0xc0000a6040
destChan å¼•ç”¨çš„åº•å±‚é€šé“åœ°å€ï¼ˆå †ä¸Šï¼‰ï¼š0xc0000b4000
ä» destChan æ¥æ”¶æ•°æ®ï¼šdata="", ok=falseï¼ˆok=false è¡¨ç¤ºé€šé“å·²å…³é—­ï¼‰
</code></pre>
<h3 data-id="heading-7">ç»“è®ºéªŒè¯ï¼š</h3>
<ul>
<li><code>sourceChan</code>Â å’ŒÂ <code>destChan</code>Â æ˜¯ä¸åŒçš„å˜é‡ï¼ˆæ ˆåœ°å€ä¸åŒï¼‰ï¼Œä½†å¼•ç”¨åŒä¸€ä¸ªåº•å±‚é€šé“ï¼ˆå †åœ°å€ç›¸åŒï¼‰ï¼›</li>
<li>å…³é—­Â <code>sourceChan</code>Â åï¼Œ<code>destChan</code>Â èƒ½ç›´æ¥æ„ŸçŸ¥åˆ°é€šé“å…³é—­ï¼›</li>
<li>å…³é—­åçš„é€šé“å‘é€æ•°æ®ä¼š panicï¼Œè¿™æ˜¯æ ¸å¿ƒé£é™©ç‚¹ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆè§ Dartï¼šè¿™é—¨æ–°è¯­è¨€å¦‚ä½•è®©ä½ çš„ Appã€ŒåŠ¨ã€èµ·æ¥ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7571641339688845312</link>    <guid>https://juejin.cn/post/7571641339688845312</guid>    <pubDate>2025-11-12T11:03:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571641339688845312" data-draft-id="7571636682695278632" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆè§ Dartï¼šè¿™é—¨æ–°è¯­è¨€å¦‚ä½•è®©ä½ çš„ Appã€ŒåŠ¨ã€èµ·æ¥ï¼Ÿ"/> <meta itemprop="keywords" content="Flutter,Android,iOS"/> <meta itemprop="datePublished" content="2025-11-12T11:03:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å…¨æ ˆæ´¾æ£®"/> <meta itemprop="url" content="https://juejin.cn/user/430664289093176"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆè§ Dartï¼šè¿™é—¨æ–°è¯­è¨€å¦‚ä½•è®©ä½ çš„ Appã€ŒåŠ¨ã€èµ·æ¥ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/430664289093176/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å…¨æ ˆæ´¾æ£®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T11:03:51.000Z" title="Wed Nov 12 2025 11:03:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½,æˆ‘æ˜¯<code>Petter Guo</code> <br/></p>
<p>ä¸€ä½çƒ­çˆ±<code>æ¢ç´¢</code>çš„<code>å…¨æ ˆå·¥ç¨‹å¸ˆ</code>ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘å°†åˆ†äº«<code>ä¸ªäºº</code>çš„<code>Technical essentials</code>ï¼Œå¸¦ä½ ç©è½¬<code>å‰ç«¯</code>ã€<code>åç«¯</code>åˆ° <code>DevOps</code> çš„ç¡¬æ ¸æŠ€æœ¯ï¼Œè§£é”<code>AI</code>ï¼ŒåŠ©ä½ æ‰“é€šæŠ€æœ¯ä»»ç£äºŒè„‰ï¼Œæˆä¸ºçœŸæ­£çš„<code>å…¨èƒ½ç©å®¶</code>!ï¼<br/></p>
<p>å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©, è¯·<code>ç‚¹èµ</code>+ <code>æ”¶è—</code> +<code>å…³æ³¨</code>é¼“åŠ±ä¸‹, å­¦ä¹ å…¬ä¼—å·ä¸º <code>å…¨æ ˆæ´¾æ£®</code>ã€‚ <br/></p>
<p>æ—¶é—´è¿‡çš„å¥½å¿«, æœ¬äººæ¥è§¦ä¸šåŠ¡æ¯”è¾ƒå¤æ‚, æœ€è¿‘ä¸€ç›´åœ¨æè·¨å¹³å°ç›¸å…³çš„æŠ€æœ¯, æ¯”å¦‚å¾ˆç«çš„ä¸¤å¤§æ¡†æ¶ Flutter &amp; ReactNative, æœ¬æœŸä½ å°†æœ‰å¦‚ä¸‹æ”¶è·:</p>
<ol>
<li>ğŸ° Flutteråº•å±‚æ¶æ„</li>
<li>ğŸ¦ Flutteræ ¸å¿ƒç»„ä»¶</li>
<li>â›½ï¸ Dartå¸¸ç”¨è¯­æ³•</li>
<li>ğŸ™‹ Flutter vs RN</li>
</ol>
<h3 data-id="heading-0">Flutteråº•å±‚æ¶æ„</h3>
<ol>
<li>
<p>é¡¶å±‚ï¼šæ¡†æ¶å±‚ (The Framework)</p>
<p>è¿™ä¸€å±‚å®Œå…¨ç”± <strong>Dart è¯­è¨€</strong> ç¼–å†™ï¼Œæ˜¯æˆ‘ä»¬ä½œä¸ºå¼€å‘è€…ç›´æ¥æ‰“äº¤é“çš„éƒ¨åˆ†ã€‚</p>
</li>
</ol>
<ul>
<li><strong>Dart Platform:</strong> åŒ…å« Dart è¯­è¨€ã€æ ¸å¿ƒåº“å’Œ Dart VMï¼ˆè™šæ‹Ÿæœºï¼‰ã€‚</li>
<li><strong>Widgets (ç»„ä»¶)ï¼š</strong> Flutter çš„æ ¸å¿ƒæ¦‚å¿µã€‚æ‰€æœ‰çš„ UI éƒ½æ˜¯ç”± Widget ç»„æˆçš„ï¼Œå®ƒæè¿°äº† UI çš„ä¸€éƒ¨åˆ†åº”è¯¥å¦‚ä½•æ¸²æŸ“å’Œäº¤äº’ã€‚</li>
<li><strong>åŸºç¡€ Widgetsï¼š</strong> å¦‚ <code>Text</code>, <code>Image</code>, <code>Row</code>, <code>Column</code> ç­‰ã€‚</li>
<li><strong>æ¸²æŸ“ Widgetsï¼š</strong>
<ul>
<li><strong>Material Design:</strong> å®ç° Google çš„ Material è®¾è®¡è§„èŒƒï¼ˆå¦‚ <code>Scaffold</code>, <code>AppBar</code>ï¼‰ã€‚</li>
<li><strong>Cupertino:</strong> å®ç° Apple çš„ iOS è®¾è®¡è§„èŒƒã€‚</li>
</ul>
</li>
<li><strong>Rendering (æ¸²æŸ“):</strong> æä¾›äº†æŠ½è±¡çš„æ¸²æŸ“æ¨¡å‹ï¼ŒåŒ…æ‹¬ <code>RenderObject</code>ã€å¸ƒå±€ã€ç»˜åˆ¶ç­‰ã€‚</li>
<li><strong>Animation, Gestures &amp; Painting:</strong> å¤„ç†åŠ¨ç”»ã€æ‰‹åŠ¿è¯†åˆ«å’Œåº•å±‚ç»˜å›¾é€»è¾‘ã€‚</li>
</ul>
<blockquote>
<p><strong>æ ¸å¿ƒæ€æƒ³ï¼š</strong> Flutter æ¡†æ¶åªæä¾› <strong>æŠ½è±¡çš„ UI ç»„ä»¶</strong> å’Œ <strong>ä¸€å¥—æ¸²æŸ“è§„èŒƒ</strong>ã€‚</p>
</blockquote>
<ol start="2">
<li>
<p>ä¸­é—´å±‚ï¼šå¼•æ“å±‚ (The Engine)</p>
<p>è¿™ä¸€å±‚ä¸»è¦ç”± <strong>C++</strong> ç¼–å†™ï¼Œå®ƒè´Ÿè´£æ‰§è¡Œ Dart è¿è¡Œæ—¶ç¯å¢ƒï¼Œå¹¶å°†ä¸Šå±‚çš„ Dart ä»£ç æ¸²æŸ“åˆ°è¤å¹•ä¸Šã€‚</p>
</li>
</ol>
<ul>
<li><strong>Skia å¼•æ“ (Skia Graphics Engine):</strong> è¿™æ˜¯ Flutter æœ€å…³é”®çš„éƒ¨åˆ†ã€‚ Skia æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ 2D æ¸²æŸ“å¼•æ“ï¼Œä¹Ÿæ˜¯ Chrome å’Œ Android é‡‡ç”¨çš„å›¾å½¢åº“ã€‚ <strong>Flutter ä¾é  Skia åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šç»˜åˆ¶æ¯ä¸€ä¸ªåƒç´ </strong>ã€‚</li>
<li><strong>ä¼˜åŠ¿ï¼š</strong> è¿™ä½¿å¾— Flutter <strong>å®Œå…¨ç»•è¿‡äº†</strong> åŸç”Ÿ OEMï¼ˆåŸå§‹è®¾å¤‡åˆ¶é€ å•†ï¼‰çš„ UI ç»„ä»¶ã€‚åº”ç”¨ç¨‹å¼åªéœ€ä¸€ä¸ªã€Œç”»å¸ƒã€ï¼Œæ‰€æœ‰çš„æŒ‰é’®ã€æ–‡æœ¬ã€åŠ¨ç”»éƒ½ç”± Skia ç›´æ¥ç»˜åˆ¶ã€‚</li>
<li><strong>Dart Runtimeï¼š</strong> Dart è™šæ‹Ÿæœºï¼ˆVMï¼‰å’Œ AOT/JIT ç¼–è¯‘å™¨ï¼Œè´Ÿè´£è¿è¡Œ Dart ä»£ç ã€‚</li>
<li><strong>Text Layout:</strong> å¤„ç†æ–‡æœ¬å¸ƒå±€å’Œå­—ä½“æ¸²æŸ“ã€‚</li>
<li><strong>Platform Channels (å¹³å°é€šé“):</strong> å®ç° Dart ä»£ç ä¸åŸç”Ÿå¹³å°ï¼ˆå¦‚ iOS çš„ Swift/Objective-C æˆ– Android çš„ Java/Kotlinï¼‰ä¹‹é—´çš„é€šä¿¡ã€‚è¿™æ˜¯ Flutter è®¿é—®åŸç”Ÿ APIï¼ˆå¦‚ GPSã€è“ç‰™ï¼‰çš„å”¯ä¸€é€”å¾„ã€‚</li>
</ul>
<blockquote>
<p><strong>æ ¸å¿ƒæ€æƒ³ï¼š</strong> å¼•æ“å±‚æ˜¯ <strong>åº•å±‚æ‰§è¡Œè€…</strong>ï¼Œè´Ÿè´£å°† Dart çš„æŒ‡ä»¤ç¿»è¯‘æˆåƒç´ å¹¶ç»˜åˆ¶å‡ºæ¥ã€‚</p>
</blockquote>
<ol start="3">
<li>
<p>åº•å±‚ï¼šåµŒå…¥å±‚ (The Embedder)</p>
<p>è¿™æ˜¯ä¸ <strong>ç‰¹å®šæ“ä½œç³»ç»Ÿï¼ˆOSï¼‰</strong> äº¤äº’çš„å±‚çº§ã€‚</p>
</li>
</ol>
<ul>
<li><strong>å¹³å°ç‰¹å®šçš„ç¨‹å¼ç ï¼š</strong> è¿™éƒ¨åˆ†æ˜¯ Dart è¿è¡Œæ—¶å’Œåº•å±‚ OS ä¹‹é—´ç²˜åˆå‰‚ã€‚</li>
<li><strong>Android:</strong> ä½¿ç”¨ Java/Kotlinï¼Œå°† Flutter å¼•æ“ä½œä¸º <code>Activity</code> åµŒå…¥ã€‚</li>
<li><strong>iOS:</strong> ä½¿ç”¨ Swift/Objective-Cï¼Œå°† Flutter å¼•æ“ä½œä¸º <code>ViewController</code> åµŒå…¥ã€‚</li>
<li><strong>è®¿é—®åŸç”Ÿ APIï¼š</strong> åµŒå…¥å±‚æä¾›äº†åº•å±‚çš„ç³»ç»ŸæœåŠ¡ã€ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ã€è¾“å…¥äº‹ä»¶ï¼ˆè§¦æ‘¸ã€æ»‘é¼ ï¼‰ç­‰ã€‚</li>
</ul>
<blockquote>
<p><strong>æ ¸å¿ƒæ€æƒ³ï¼š</strong> åµŒå…¥å±‚æ˜¯ <strong>å®¿ä¸»</strong>ï¼Œè´Ÿè´£æä¾›ä¸€ä¸ªåŸç”Ÿç¯å¢ƒæ¥è¿è¡Œå’Œæ‰¿è½½ Flutter å¼•æ“ã€‚</p>
</blockquote>
<h3 data-id="heading-1">Flutterä¼˜åŠ¿</h3>
<p>è¿™ç§åˆ†å±‚æ¶æ„å¸¦æ¥äº†ä»¥ä¸‹ç‹¬ç‰¹çš„ä¼˜åŠ¿ï¼š</p>
<ol>
<li><strong>é«˜æ€§èƒ½ (High Performance):</strong> ç”±äº Dart ä»£ç å¯ä»¥ <strong>AOT (Ahead-of-Time)</strong> ç¼–è¯‘æˆé«˜æ•ˆçš„ ARM æœºå™¨ç ï¼Œå†åŠ ä¸Šç›´æ¥ä½¿ç”¨ Skia å¼•æ“æ¸²æŸ“ï¼Œæ€§èƒ½å¯ä»¥<strong>åª²ç¾åŸç”Ÿåº”ç”¨</strong>ã€‚</li>
<li><strong>UI ä¸€è‡´æ€§ (UI Consistency):</strong> ç”±äºä¸ä¾èµ–åŸç”Ÿç³»ç»Ÿçš„ UIï¼ŒFlutter åº”ç”¨åœ¨â€‹â€‹ä»»ä½•ç‰ˆæœ¬æˆ–å‹å·çš„è®¾å¤‡ä¸Šéƒ½èƒ½ä¿æŒ<strong>åƒç´ çº§çš„ä¸€è‡´æ€§</strong>ã€‚</li>
<li><strong>æ¶ˆé™¤ Bridge ç“¶é¢ˆ (No Bridge):</strong> Flutter ä¸ä½¿ç”¨ React Native é‚£æ ·çš„ JSON å¼‚æ­¥ Bridgeï¼Œæ‰€æœ‰çš„ UI é€»è¾‘éƒ½åœ¨ Dart VM ä¸­è¿è¡Œï¼Œé¿å…äº†åºåˆ—åŒ–å’Œè·¨çº¿ç¨‹é€šä¿¡çš„å¼€é”€ã€‚</li>
</ol>
<h3 data-id="heading-2">Flutteræ ¸å¿ƒç»„ä»¶</h3>
<h4 data-id="heading-3">1. ğŸ“‚ å¸ƒå±€ä¸ç»“æ„ Widgets (Layout &amp; Structure)</h4>















































<table><thead><tr><th align="left">Widget</th><th align="left">ä½œç”¨</th><th align="left">å…³é”®å±æ€§</th><th align="left">ç¤ºä¾‹åœºæ™¯</th></tr></thead><tbody><tr><td align="left"><strong>Scaffold</strong></td><td align="left">è„šæ‰‹æ¶ã€‚æä¾›åº”ç”¨ç¨‹å¼çš„åŸºæœ¬ç»“æ„ï¼Œå¦‚æŠ½å±‰ã€åº•éƒ¨å¯¼èˆªæ ã€æµ®åŠ¨æŒ‰é’®ç­‰ã€‚</td><td align="left"><code>appBar</code>, <code>body</code>, <code>drawer</code>, <code>bottomNavigationBar</code></td><td align="left">æ¯ä¸ªé¡µé¢/å±å¹•çš„é¡¶å±‚ Widgetã€‚</td></tr><tr><td align="left"><strong>Container</strong></td><td align="left">å®¹å™¨ã€‚æœ€åŸºç¡€çš„å¸ƒå±€/è£…é¥° Widgetï¼Œç”¨äºæ·»åŠ è¾¹è·ã€å¡«å……ã€é¢œè‰²ã€è£…é¥°ç­‰ã€‚</td><td align="left"><code>child</code>, <code>padding</code>, <code>margin</code>, <code>color</code>, <code>decoration</code></td><td align="left">ç»™å­ Widget è®¾ç½®èƒŒæ™¯è‰²å’Œè¾¹è·ã€‚</td></tr><tr><td align="left"><strong>Row / Column</strong></td><td align="left">è¡Œ/åˆ—ã€‚åœ¨æ°´å¹³ (<code>Row</code>) æˆ–å‚ç›´ (<code>Column</code>) æ–¹å‘ä¸Šæ’åˆ—å¤šä¸ªå­ Widgetã€‚</td><td align="left"><code>children</code> (Widget åˆ—è¡¨), <code>mainAxisAlignment</code>, <code>crossAxisAlignment</code></td><td align="left">å®ç°çº¿æ€§å¸ƒå±€ã€‚</td></tr><tr><td align="left"><strong>Center</strong></td><td align="left">å±…ä¸­ã€‚å°†å…¶å­ Widget å±…ä¸­æ”¾ç½®ã€‚</td><td align="left"><code>child</code></td><td align="left">å°†å•ä¸ªå…ƒç´ æ”¾åœ¨è¤å¹•ä¸­å¤®ã€‚</td></tr><tr><td align="left"><strong>Padding</strong></td><td align="left">å¡«å……ã€‚åœ¨å…¶å­ Widget å‘¨å›´æ·»åŠ å†…éƒ¨é—´è·ï¼ˆå¡«å……ï¼‰ã€‚</td><td align="left"><code>padding</code> (é€šå¸¸ä½¿ç”¨ <code>EdgeInsets.all</code> ç­‰)</td><td align="left">è°ƒæ•´ Widget å†…éƒ¨ç©ºé—´ã€‚</td></tr><tr><td align="left"><strong>SizedBox</strong></td><td align="left">å°ºå¯¸ã€‚ç”¨äºæ§åˆ¶å­ Widget çš„å¤§å°æˆ–ç®€å•åœ°åˆ›å»ºç©ºç™½é—´è·ã€‚</td><td align="left"><code>width</code>, <code>height</code>, <code>child</code></td><td align="left">åˆ›å»ºä¸¤ä¸ª Widget ä¹‹é—´çš„å›ºå®šé—´éš”ã€‚</td></tr></tbody></table>
<h4 data-id="heading-4">2. ğŸ§± åŸºç¡€å†…å®¹ä¸äº¤äº’ Widgets (Content &amp; Interaction)</h4>















































<table><thead><tr><th align="left">Widget</th><th align="left">ä½œç”¨</th><th align="left">å…³é”®å±æ€§</th><th align="left">ç¤ºä¾‹åœºæ™¯</th></tr></thead><tbody><tr><td align="left"><strong>Text</strong></td><td align="left">æ–‡æœ¬ã€‚ç”¨äºæ˜¾ç¤ºé™æ€æ–‡æœ¬ã€‚</td><td align="left"><code>data</code> (æ–‡æœ¬å†…å®¹), <code>style</code> (TextStyle), <code>textAlign</code></td><td align="left">æ˜¾ç¤ºæ ‡é¢˜ã€æè¿°ã€æ­£æ–‡ã€‚</td></tr><tr><td align="left"><strong>Image</strong></td><td align="left">å›¾ç‰‡ã€‚ç”¨äºæ˜¾ç¤ºå›¾ç‰‡ï¼Œæ”¯æŒæœ¬åœ°èµ„æºã€æ–‡ä»¶æˆ–ç½‘è·¯å›¾ç‰‡ã€‚</td><td align="left"><code>image</code> (Asset/NetworkImage), <code>fit</code>, <code>width</code>, <code>height</code></td><td align="left">æ˜¾ç¤ºåº”ç”¨ Logoã€ç”¨æˆ·å¤´åƒã€ç½‘è·¯å›¾ç‰‡ã€‚</td></tr><tr><td align="left"><strong>Icon</strong></td><td align="left">å›¾æ ‡ã€‚ç”¨äºæ˜¾ç¤º Material æˆ– Cupertino å›¾æ ‡ã€‚</td><td align="left"><code>icon</code> (Icons.xxx), <code>color</code>, <code>size</code></td><td align="left">èœå•å›¾æ ‡ã€æ“ä½œæŒ‰é’®å›¾æ ‡ã€‚</td></tr><tr><td align="left"><strong>ElevatedButton</strong></td><td align="left">æŒ‰é’®ã€‚å¸¦æœ‰é˜´å½±æ•ˆæœçš„å‡¸èµ·æŒ‰é’®ã€‚</td><td align="left"><code>onPressed</code> (ç‚¹å‡»å›è°ƒ), <code>child</code></td><td align="left">æäº¤è¡¨å•ã€æ‰§è¡Œæ“ä½œã€‚</td></tr><tr><td align="left"><strong>TextField</strong></td><td align="left">æ–‡æœ¬è¾“å…¥æ¡†ã€‚ç”¨äºæ¥æ”¶ç”¨æˆ·è¾“å…¥ã€‚</td><td align="left"><code>controller</code>, <code>decoration</code> (InputDecoration), <code>onChanged</code>, <code>keyboardType</code></td><td align="left">ç”¨æˆ·å/å¯†ç è¾“å…¥ã€æœå¯»æ¡†ã€‚</td></tr><tr><td align="left"><strong>ListView</strong></td><td align="left">åˆ—è¡¨ã€‚ç”¨äºå‚ç›´æ»šåŠ¨çš„é•¿åˆ—è¡¨ï¼Œ<strong>åªæ¸²æŸ“å¯è§éƒ¨åˆ†</strong>ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰ã€‚</td><td align="left"><code>children</code> æˆ– <code>itemBuilder</code> (Factory æ¨¡å¼)</td><td align="left">æ˜¾ç¤ºæ–°é—»åˆ—è¡¨ã€èŠå¤©è®°å½•ã€‚</td></tr></tbody></table>
<h4 data-id="heading-5">3. ğŸ”„ çŠ¶æ€ç®¡ç†ä¸åŠ¨æ€ Widgets (State Management)</h4>























<table><thead><tr><th align="left">Widget</th><th align="left">ä½œç”¨</th><th align="left">åŒºåˆ«</th><th align="left">ç¤ºä¾‹åœºæ™¯</th></tr></thead><tbody><tr><td align="left"><strong>StatelessWidget</strong></td><td align="left">æ— çŠ¶æ€ Widgetã€‚ä¸€æ—¦åˆ›å»ºï¼Œå®ƒçš„å±æ€§ï¼ˆæ•°æ®ï¼‰å°±ä¸ä¼šæ”¹å˜ã€‚</td><td align="left">æ•°æ®æ˜¯å›ºå®šçš„ (<code>final</code>)ï¼Œæ²¡æœ‰å†…éƒ¨çŠ¶æ€ã€‚</td><td align="left">æ˜¾ç¤ºé™æ€æ–‡æœ¬ã€Logoã€é™æ€å›¾æ ‡ã€‚</td></tr><tr><td align="left"><strong>StatefulWidget</strong></td><td align="left">æœ‰çŠ¶æ€ Widgetã€‚å…¶å†…éƒ¨æ•°æ®å¯ä»¥åœ¨ Widget ç”Ÿå‘½å‘¨æœŸå†…å‘ç”Ÿå˜åŒ–ã€‚</td><td align="left">åŒ…å«ä¸€ä¸ª <code>State</code> å¯¹è±¡ï¼Œé€šè¿‡è°ƒç”¨ <strong><code>setState()</code></strong> æ¥è§¦å‘ UI é‡æ–°ç»˜åˆ¶ã€‚</td><td align="left">å¸¦æœ‰è®¡æ•°å™¨çš„æŒ‰é’®ã€å¤é€‰æ¡†ã€åŠ¨æ€åˆ—è¡¨ã€‚</td></tr></tbody></table>
<h3 data-id="heading-6">âœï¸ Dart å¸¸ç”¨è¯­æ³•ç‰¹æ€§</h3>
<p>Flutter ä½¿ç”¨ Dart è¯­è¨€ï¼Œå®ƒæ˜¯ä¸€ç§é¢å‘å¯¹è±¡ã€ç±»åŸºçš„è¯­è¨€ï¼ŒåŒæ—¶æ”¯æŒ AOTï¼ˆç¼–è¯‘æˆæœºå™¨ç ï¼‰å’Œ JITï¼ˆå³æ—¶ç¼–è¯‘ï¼Œç”¨äºçƒ­é‡è½½ï¼‰ã€‚</p>
<h4 data-id="heading-7">1. ç±»å‹ä¸å˜é‡</h4>
<ul>
<li><strong>ç±»å‹æ¨æ–­ï¼š</strong> å¤§å¤šæ•°æ—¶å€™å¯ä»¥ä½¿ç”¨ <code>var</code>ï¼ŒDart ä¼šè‡ªåŠ¨æ¨æ–­ç±»å‹ã€‚</li>
</ul>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">var</span> name = <span class="hljs-string">'Alice'</span>; <span class="hljs-comment">// String</span>
<span class="hljs-keyword">var</span> year = <span class="hljs-number">1977</span>;   <span class="hljs-comment">// int</span>
</code></pre>
<ul>
<li><strong>æ˜ç¡®ç±»å‹ï¼š</strong> ä¹Ÿå¯ä»¥æ˜ç¡®å£°æ˜ã€‚</li>
</ul>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-built_in">String</span> name = <span class="hljs-string">'Bob'</span>;
<span class="hljs-built_in">int</span> age = <span class="hljs-number">30</span>;
</code></pre>
<ul>
<li><strong>ä¸å˜æ€§ (Immutability)ï¼š</strong></li>
<li><code>final</code>: è¿è¡Œæ—¶å¸¸é‡ï¼Œåªèƒ½èµ‹å€¼ä¸€æ¬¡ã€‚</li>
<li><code>const</code>: ç¼–è¯‘æ—¶å¸¸é‡ï¼Œåœ¨ç¼–è¯‘æ—¶å°±ç¡®å®šå€¼ã€‚</li>
</ul>

<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> uid = getUserId(); <span class="hljs-comment">// è¿è¡Œæ—¶ç¡®å®š</span>
<span class="hljs-keyword">const</span> PI = <span class="hljs-number">3.14159</span>;             <span class="hljs-comment">// ç¼–è¯‘æ—¶ç¡®å®š</span>
</code></pre>
<ul>
<li><strong>å¯ç©ºç±»å‹ (Null Safety)ï¼š</strong> è¿™æ˜¯ Dart 2.12+ çš„é‡è¦ç‰¹æ€§ã€‚</li>
<li><code>String?</code>: å˜é‡å¯ä»¥æ˜¯ <code>String</code> ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯ <code>null</code>ã€‚</li>
<li><code>String</code>: å˜é‡<strong>ä¸èƒ½</strong>æ˜¯ <code>null</code>ã€‚</li>
<li><code>!</code> (æ–­è¨€): å‘Šè¯‰ç¼–è¯‘å™¨ã€Œæˆ‘ç›¸ä¿¡å®ƒä¸æ˜¯ nullã€ã€‚</li>
</ul>
<h4 data-id="heading-8">2. å‡½æ•°ä¸ç®­å¤´è¯­æ³•</h4>
<ul>
<li><strong>æ™®é€šå‡½æ•°ï¼š</strong></li>
</ul>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-built_in">int</span> add(<span class="hljs-built_in">int</span> a, <span class="hljs-built_in">int</span> b) {
  <span class="hljs-keyword">return</span> a + b;
}
</code></pre>
<ul>
<li><strong>ç®­å¤´å‡½æ•°ï¼š</strong> é€‚ç”¨äºåªæœ‰å•ä¸ªè¡¨è¾¾å¼çš„å‡½æ•°ã€‚</li>
</ul>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-built_in">int</span> multiply(<span class="hljs-built_in">int</span> a, <span class="hljs-built_in">int</span> b) =&gt; a * b;
</code></pre>
<h4 data-id="heading-9">3. æ„é€ å‡½æ•° (Constructors)</h4>
<p>Dart æä¾›äº†å¼ºå¤§çš„æ„é€ å‡½æ•°è¯­æ³•ï¼Œå¸¸åœ¨ Flutter Widget ä¸­ä½¿ç”¨ï¼š</p>
<ul>
<li><strong>ç®€åŒ–èµ‹å€¼ï¼š</strong> ç›´æ¥åœ¨æ„é€ å‡½æ•°ä¸­ä¸ºå®ä¾‹å˜é‡èµ‹å€¼ã€‚</li>
</ul>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> name;
  Person(<span class="hljs-keyword">this</span>.name); <span class="hljs-comment">// ç®€æ´åœ°å°†å‚æ•°èµ‹å€¼ç»™ name</span>
}
</code></pre>
<ul>
<li><strong>å‘½åæ„é€ å‡½æ•°ï¼š</strong> åˆ›å»ºå¤šä¸ªã€æœ‰ç‰¹å®šç”¨é€”çš„æ„é€ å‡½æ•°ã€‚</li>
</ul>
<pre><code class="hljs language-dart" lang="dart">Person.fromJson(<span class="hljs-built_in">Map</span> data) {
<span class="hljs-comment">// ...</span>
}
</code></pre>
<ul>
<li><strong>å·¥å‚æ„é€ å‡½æ•° (Factory):</strong> ç”¨äºå¤æ‚çš„å¯¹è±¡åˆ›å»ºé€»è¾‘ï¼ˆå¦‚å•ä¾‹æ¨¡å¼æˆ–è¿”å›å­ç±»å‹ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-10">4. å¼‚æ­¥ç¼–ç¨‹ (Asynchrony)</h4>
<p>Dart ä½¿ç”¨ <code>Future</code> å’Œ <code>async/await</code> å¤„ç†å¼‚æ­¥æ“ä½œï¼ˆå¦‚ç½‘è·¯è¯·æ±‚ï¼‰ã€‚</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// å£°æ˜å‡½æ•°æ˜¯å¼‚æ­¥çš„</span>
Future&lt;<span class="hljs-built_in">String</span>&gt; fetchData() <span class="hljs-keyword">async</span> {
  <span class="hljs-comment">// ä½¿ç”¨ await ç­‰å¾…ç»“æœï¼Œä»£ç çœ‹èµ·æ¥åƒåŒæ­¥ä¸€æ ·</span>
  <span class="hljs-keyword">var</span> response = <span class="hljs-keyword">await</span> httpClient.<span class="hljs-keyword">get</span>(<span class="hljs-string">'...'</span>);
  <span class="hljs-keyword">return</span> response.body;
}
</code></pre>
<h3 data-id="heading-11">Flutter vs RN</h3>
<h3 data-id="heading-12">1. âš›ï¸ React Native (JS + Bridge + åŸç”Ÿå…ƒä»¶)</h3>
<ul>
<li><strong>æŠ€æœ¯æ ˆï¼š</strong> JavaScript / TypeScript + Reactã€‚</li>
<li><strong>å·¥ä½œåŸç†ï¼š</strong> React Native ä¾èµ–äºä¸€ä¸ª <strong>Bridgeï¼ˆæ¡¥æ¥å™¨ï¼‰</strong>ï¼Œå°† JavaScript é€»è¾‘è½¬æ¢ä¸ºåŸç”Ÿæ“ä½œã€‚å®ƒä½¿ç”¨ <strong>åŸç”Ÿ UI å…ƒä»¶</strong>ï¼ˆå¦‚ Android çš„ <code>TextView</code>ï¼ŒiOS çš„ <code>UILabel</code>ï¼‰è¿›è¡Œæ¸²æŸ“ã€‚</li>
<li><strong>ä¼˜åŠ¿ï¼š</strong> èƒ½å¤Ÿæä¾›å®Œå…¨çš„åŸç”Ÿä½“éªŒï¼Œå› ä¸ºå®ƒä½¿ç”¨çš„å°±æ˜¯å¹³å°è‡ªå¸¦çš„ UI å…ƒç´ ã€‚å¯ä»¥å……åˆ†åˆ©ç”¨ç°æœ‰çš„åŸç”Ÿä»£ç å’Œç”Ÿæ€ã€‚</li>
<li><strong>ç“¶é¢ˆï¼š</strong> Bridge çš„ <strong>JSON åºåˆ—åŒ–ä¸å¼‚æ­¥ä¼ è¾“</strong> å¸¦æ¥æ€§èƒ½å¼€é”€ï¼Œå°¤å…¶åœ¨é«˜é¢‘åº¦äº¤äº’æˆ–åŠ¨ç”»æ—¶ï¼Œå®¹æ˜“é€ æˆå¡é¡¿ã€‚</li>
</ul>
<h3 data-id="heading-13">2. ğŸ¦ Flutter (Dart + Skia å¼•æ“ + è‡ªç»˜å…ƒä»¶)</h3>
<ul>
<li><strong>æŠ€æœ¯æ ˆï¼š</strong> Dart è¯­è¨€ã€‚</li>
<li><strong>å·¥ä½œåŸç†ï¼š</strong> Flutter è·³è¿‡äº†åŸç”Ÿ UI å…ƒä»¶å’Œ Bridgeã€‚å®ƒè‡ªå¸¦ä¸€ä¸ªé«˜æ•ˆçš„ <strong>Skia å›¾å½¢æ¸²æŸ“å¼•æ“</strong>ã€‚åº”ç”¨ç¨‹å¼å¯åŠ¨æ—¶ï¼ŒFlutter åˆ›å»ºä¸€ä¸ª Canvasï¼ˆç”»å¸ƒï¼‰ï¼Œç„¶ååœ¨ä¸Šé¢ç”¨ Dart ä»£ç ç›´æ¥ç»˜åˆ¶ <strong>è‡ªå®šä¹‰çš„ Widget</strong>ã€‚</li>
<li><strong>ä¼˜åŠ¿ï¼š</strong> <strong>æ¥è¿‘åŸç”Ÿçš„æ€§èƒ½</strong>ï¼Œå› ä¸ºå®ƒè¢«ç¼–è¯‘æˆ ARM æœºå™¨ç ã€‚ UI è¡¨ç°åŠ›å¼ºï¼Œå› ä¸ºå®ƒä¸ä¾èµ–åŸç”Ÿç³»ç»Ÿçš„ UIï¼Œå®ç°äº† <strong>åƒç´ çº§çš„æ§åˆ¶</strong>ã€‚</li>
<li><strong>ç“¶é¢ˆï¼š</strong> æ–‡ä»¶ä½“ç§¯è¾ƒå¤§ï¼Œä¸”æ²¡æœ‰ä½¿ç”¨å¹³å°åŸç”Ÿçš„ UI å…ƒç´ ï¼Œåœ¨æŸäº›æåº¦ä¾èµ–åŸç”Ÿç³»ç»Ÿé£æ ¼çš„åº”ç”¨ä¸Šå¯èƒ½æ˜¾å¾—çªå…€ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-14">äºŒã€é€‰æ‹©å†³ç­–çŸ©é˜µï¼šäº”ä¸ªå…³é”®ç»´åº¦</h2>









































<table><thead><tr><th align="left">å†³ç­–ç»´åº¦</th><th align="left">Flutter (Dart)</th><th align="left">React Native (JS/TS)</th><th align="left">é€‰æ‹©å»ºè®®</th></tr></thead><tbody><tr><td align="left"><strong>1. å›¢é˜Ÿç°æœ‰æŠ€èƒ½</strong></td><td align="left">éœ€è¦å­¦ä¹  <strong>Dart è¯­è¨€</strong> å’Œ Flutter æ¡†æ¶çš„æ€ç»´æ¨¡å¼ã€‚</td><td align="left">æŠ€èƒ½é—¨æ§›ä½ï¼Œå¯ä»¥é‡ç”¨ <strong>React/Web å‰ç«¯</strong> å›¢é˜Ÿçš„å¤§éƒ¨åˆ†ç»éªŒã€‚</td><td align="left"><strong>å‰ç«¯èƒŒæ™¯å¼º</strong>ï¼šé€‰ RNï¼›<strong>æ— å†å²åŒ…è¢±æˆ–æœ‰åŸç”ŸèƒŒæ™¯</strong>ï¼šé€‰ Flutterã€‚</td></tr><tr><td align="left"><strong>2. æ€§èƒ½ä¸ UI å¤æ‚åº¦</strong></td><td align="left">æ€§èƒ½ä¼˜å¼‚ï¼Œå› å…¶ç¼–è¯‘ä¸ºåŸç”Ÿæœºå™¨ç ï¼Œä¸”è‡ªç»˜å¼•æ“æ¶ˆé™¤äº† Bridge ç“¶é¢ˆã€‚</td><td align="left">æ€§èƒ½è‰¯å¥½ï¼Œä½†åœ¨å¤æ‚åŠ¨ç”»å’Œé«˜é¢‘äº¤äº’ä¸Šå¯èƒ½å›  Bridge è€Œç•¥è¾“ Flutterã€‚</td><td align="left"><strong>å¯¹æ€§èƒ½è¦æ±‚æé«˜ã€å¤æ‚åŠ¨ç”»</strong>ï¼šé€‰ Flutterï¼›<strong>æ ‡å‡†ä¸šåŠ¡åº”ç”¨</strong>ï¼šRN è¶³å¤Ÿã€‚</td></tr><tr><td align="left"><strong>3. ç”Ÿæ€ç³»ç»Ÿä¸ç¬¬ä¸‰æ–¹åº“</strong></td><td align="left"><strong>è¾ƒæ–°</strong>ï¼Œç¤¾ç¾¤æˆé•¿å¿«ï¼Œä½†ç¬¬ä¸‰æ–¹åº“çš„æ•°é‡å’Œæˆç†Ÿåº¦ä¸å¦‚ RNã€‚</td><td align="left"><strong>æå…¶åºå¤§å’Œæˆç†Ÿ</strong>ï¼Œå¤§é‡åº“å¯ä¾›é€‰æ‹©ã€‚ä¸åŸç”Ÿç”Ÿæ€æ¡¥æ¥æˆç†Ÿã€‚</td><td align="left"><strong>ä¾èµ–å¤§é‡ç°æœ‰è½®å­</strong>ï¼šé€‰ RNï¼›<strong>æ„¿æ„è‡ªå»ºæˆ– Bridge åŸç”Ÿä»£ç </strong>ï¼šé€‰ Flutterã€‚</td></tr><tr><td align="left"><strong>4. å¼€å‘æ•ˆç‡ä¸çƒ­é‡è½½</strong></td><td align="left">ä¼˜ç§€çš„ <strong>Hot Reload</strong>ï¼Œä½†åœ¨ <strong>Native Code</strong> å˜æ›´æ—¶éœ€é‡æ–°ç¼–è¯‘ã€‚</td><td align="left">æ‹¥æœ‰ <strong>Fast Refresh</strong>ï¼ŒJS ä»£ç æ›´æ–°æå¿«ã€‚åŸç”Ÿä»£ç å˜æ›´ä¹Ÿéœ€é‡æ–°ç¼–è¯‘ã€‚</td><td align="left"><strong>åŸºæœ¬æŒå¹³</strong>ï¼›RN åœ¨ JS è¿­ä»£ä¸Šæ›´èƒœä¸€ç­¹ã€‚</td></tr><tr><td align="left"><strong>5. å¤šå¹³å°æ”¯æŒ</strong></td><td align="left"><strong>å¹¿æ³›ï¼š</strong> iOS, Android, Web, Desktop (Windows, macOS, Linux)ã€‚</td><td align="left"><strong>ä¸»æµï¼š</strong> iOS, Androidï¼›Web éœ€é¢å¤–ä½¿ç”¨ React Native for Webã€‚</td><td align="left"><strong>æœªæ¥å¯èƒ½æ‰©å±•åˆ°æ¡Œé¢ç«¯</strong>ï¼šé€‰ Flutterï¼›<strong>ä¸“æ³¨äºç§»åŠ¨ç«¯</strong>ï¼šRN è¶³å¤Ÿã€‚</td></tr></tbody></table>
<p>æ»‘åˆ°è¿™é‡Œå®šç„¶æœ‰æ‰€æ”¶è· â›½ï¸â›½ï¸</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»å®šæ—¶å™¨åˆ° Promiseï¼šä¸€æ¬¡ JS å¼‚æ­¥ç¼–ç¨‹çš„è¿›é˜¶ä¹‹æ—…]]></title>    <link>https://juejin.cn/post/7571637614203633691</link>    <guid>https://juejin.cn/post/7571637614203633691</guid>    <pubDate>2025-11-12T11:08:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571637614203633691" data-draft-id="7571644531608469550" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»å®šæ—¶å™¨åˆ° Promiseï¼šä¸€æ¬¡ JS å¼‚æ­¥ç¼–ç¨‹çš„è¿›é˜¶ä¹‹æ—…"/> <meta itemprop="keywords" content="JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-12T11:08:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="T___T"/> <meta itemprop="url" content="https://juejin.cn/user/1599155645973066"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»å®šæ—¶å™¨åˆ° Promiseï¼šä¸€æ¬¡ JS å¼‚æ­¥ç¼–ç¨‹çš„è¿›é˜¶ä¹‹æ—…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1599155645973066/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    T___T
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T11:08:16.000Z" title="Wed Nov 12 2025 11:08:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å­¦ä¹  JavaScript çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šå¬åˆ°â€œ<strong>JS æ˜¯å•çº¿ç¨‹è¯­è¨€</strong>â€ã€â€œ<strong>å¼‚æ­¥æ“ä½œ</strong>â€ã€â€œ<strong>Promise æ§åˆ¶æµç¨‹</strong>â€ç­‰æ¦‚å¿µã€‚å®ƒä»¬å¬èµ·æ¥é«˜æ·±ï¼Œä½†å…¶å®éƒ½æ˜¯ç†è§£ JavaScript è¿è¡Œæœºåˆ¶çš„å…³é”®ã€‚æœ¬æ–‡å°†ä»æœ€åŸºç¡€çš„åŒæ­¥ä¸å¼‚æ­¥å…¥æ‰‹ï¼Œé€æ­¥è®²æ¸…æ¥š <strong>ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥</strong>ã€<strong>å¼‚æ­¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„</strong>ã€ä»¥åŠ <strong>Promise æ˜¯å¦‚ä½•è®©å¼‚æ­¥ä»£ç æ›´ä¼˜é›…åœ°è¿è¡Œçš„</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€JS æ˜¯å•çº¿ç¨‹è¯­è¨€</h2>
<p>JavaScript æ˜¯ä¸€ç§<strong>å•çº¿ç¨‹</strong>è¯­è¨€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒåœ¨åŒä¸€æ—¶åˆ»åªèƒ½æ‰§è¡Œä¸€æ®µä»£ç ã€‚<br/>
ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">console.<span class="hljs-built_in">log</span>(<span class="hljs-number">1</span>);
console.<span class="hljs-built_in">log</span>(<span class="hljs-number">2</span>);
console.<span class="hljs-built_in">log</span>(<span class="hljs-number">3</span>);
</code></pre>
<p>è¿è¡Œç»“æœéå¸¸ç›´è§‚ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-number">1</span> <span class="hljs-punctuation">-&gt;</span> <span class="hljs-number">2</span> <span class="hljs-punctuation">-&gt;</span><span class="hljs-number">3</span>
</code></pre>
<p>JavaScript ä¼š<strong>ä»ä¸Šåˆ°ä¸‹ã€é€è¡Œæ‰§è¡Œ</strong>ï¼Œè¿™å°±æ˜¯ <strong>åŒæ­¥æ‰§è¡Œ</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥ï¼Ÿ</h2>
<p>é—®é¢˜åœ¨äºï¼šå½“ä»£ç ä¸­å‡ºç°â€œè€—æ—¶æ“ä½œâ€æ—¶ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>è¯»å–æ–‡ä»¶ï¼ˆI/O æ“ä½œï¼‰</li>
<li>å‘é€ç½‘ç»œè¯·æ±‚ï¼ˆfetch / ajaxï¼‰</li>
<li>å®šæ—¶å™¨ï¼ˆsetTimeoutï¼‰</li>
</ul>
<p>å¦‚æœè¿™äº›æ“ä½œæ˜¯åŒæ­¥çš„ï¼Œé‚£ä¹ˆ JS ä¼š<strong>å¡æ­»ç­‰å¾…ç»“æœ</strong>ï¼Œå¯¼è‡´é¡µé¢æ— æ³•å“åº”ç”¨æˆ·ç‚¹å‡»ã€æ»šåŠ¨ç­‰æ“ä½œã€‚</p>
<p>äºæ˜¯ï¼ŒJavaScript è®¾è®¡äº†â€œ<strong>å¼‚æ­¥æœºåˆ¶</strong>â€ï¼š<br/>
è€—æ—¶çš„ä»»åŠ¡ä¸é˜»å¡ä¸»çº¿ç¨‹ï¼Œè€Œæ˜¯äº¤ç»™æµè§ˆå™¨æˆ– Node.js çš„åº•å±‚å»å¤„ç†ï¼Œç­‰ä»»åŠ¡å®Œæˆåå†é€šçŸ¥ JS ä¸»çº¿ç¨‹æ‰§è¡Œå›è°ƒå‡½æ•°ã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€setTimeoutï¼šæœ€ç»å…¸çš„å¼‚æ­¥ä¾‹å­</h2>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>);
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>);
}, <span class="hljs-number">1000</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>æ‰§è¡Œç»“æœä¸ºï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-number">1</span> <span class="hljs-punctuation">-&gt;</span> <span class="hljs-number">3</span> <span class="hljs-punctuation">-&gt;</span> <span class="hljs-number">2</span>
</code></pre>
<p>è§£é‡Šï¼š</p>
<ol>
<li><code>console.log(1)</code> ç«‹å³æ‰§è¡Œã€‚</li>
<li><code>setTimeout</code> è¢«è¯†åˆ«ä¸ºä¸€ä¸ªâ€œå¼‚æ­¥ä»»åŠ¡â€ï¼Œäº¤ç»™ <strong>æµè§ˆå™¨çš„å®šæ—¶å™¨çº¿ç¨‹</strong> å»è®¡æ—¶ã€‚</li>
<li>JS ä¸»çº¿ç¨‹ç»§ç»­å¾€ä¸‹æ‰§è¡Œ <code>console.log(3)</code>ã€‚</li>
<li>å½“è®¡æ—¶ç»“æŸåï¼Œå›è°ƒå‡½æ•°è¢«æ”¾å…¥ <strong>äº‹ä»¶é˜Ÿåˆ—ï¼ˆEvent Queueï¼‰</strong> ã€‚</li>
<li>ä¸»çº¿ç¨‹ç©ºé—²æ—¶é€šè¿‡ <strong>äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰</strong> å–å‡ºè¯¥å›è°ƒå¹¶æ‰§è¡Œï¼Œäºæ˜¯æ‰“å° <code>2</code>ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-3">å››ã€äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰ç®€è¦è¯´æ˜</h2>
<p>äº‹ä»¶å¾ªç¯æ˜¯æµè§ˆå™¨æˆ– Node.js å®ç°å¼‚æ­¥çš„æ ¸å¿ƒæœºåˆ¶ã€‚</p>
<ul>
<li>JS ä¸»çº¿ç¨‹æ‰§è¡ŒåŒæ­¥ä»£ç ï¼›</li>
<li>å¼‚æ­¥ä»»åŠ¡äº¤ç»™æµè§ˆå™¨å¤„ç†ï¼›</li>
<li>å½“å¼‚æ­¥ä»»åŠ¡å®Œæˆåï¼Œå…¶å›è°ƒå‡½æ•°è¢«æ”¾å…¥â€œä»»åŠ¡é˜Ÿåˆ—â€ï¼›</li>
<li>ä¸€æ—¦ä¸»çº¿ç¨‹ç©ºé—²ï¼Œäº‹ä»¶å¾ªç¯ä¼šå–å‡ºè¿™äº›ä»»åŠ¡å¹¶æ‰§è¡Œã€‚</li>
</ul>
<p>ç®€å•æ¥è¯´ï¼š</p>
<blockquote>
<p>åŒæ­¥ â†’ å…ˆæ‰§è¡Œ<br/>
å¼‚æ­¥ â†’ ç­‰ä¸»çº¿ç¨‹ç©ºé—²å†æ‰§è¡Œ</p>
</blockquote>
<hr/>
<h2 data-id="heading-4">äº”ã€Promiseï¼šè®©å¼‚æ­¥æ›´ä¼˜é›…</h2>
<p>åœ¨æ—©æœŸï¼Œå¼‚æ­¥å¸¸å¸¸é€šè¿‡**å›è°ƒå‡½æ•°ï¼ˆcallbackï¼‰**å®ç°ï¼Œä½†å½“å¤šä¸ªå¼‚æ­¥æ“ä½œéœ€è¦ä¾æ¬¡æ‰§è¡Œæ—¶ï¼Œå°±ä¼šå‡ºç°â€œ<strong>å›è°ƒåœ°ç‹±</strong>â€ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä»»åŠ¡1'</span>);
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä»»åŠ¡2'</span>);
  }, <span class="hljs-number">1000</span>);
}, <span class="hljs-number">1000</span>);
</code></pre>
<p>å¯è¯»æ€§å·®ã€éš¾ä»¥ç»´æŠ¤ã€‚<br/>
ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒES6 å¼•å…¥äº† <strong>Promise</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-5">å…­ã€Promise çš„åŸºæœ¬ä½¿ç”¨</h2>
<p>çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>);

<span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">resolve</span>) {
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>);
    <span class="hljs-title function_">resolve</span>();
  }, <span class="hljs-number">3000</span>);
});

p.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>);
});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">4</span>);
</code></pre>
<p>è¾“å‡ºç»“æœï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-number">1</span><span class="hljs-punctuation">-&gt;</span> <span class="hljs-number">4</span> <span class="hljs-punctuation">-&gt;</span> <span class="hljs-number">2</span> <span class="hljs-punctuation">-&gt;</span> <span class="hljs-number">3</span>
</code></pre>
<p>åˆ†ææ‰§è¡Œé¡ºåºï¼š</p>
<ol>
<li><code>console.log(1)</code>ï¼šåŒæ­¥æ‰§è¡Œã€‚</li>
<li><code>new Promise(...)</code>ï¼šç«‹å³æ‰§è¡Œé‡Œé¢çš„å‡½æ•°ï¼ˆç§°ä¸º <strong>executor</strong>ï¼‰ï¼Œä½†å…¶ä¸­çš„ <code>setTimeout</code> æ˜¯å¼‚æ­¥æ“ä½œã€‚</li>
<li><code>console.log(4)</code>ï¼šç»§ç»­æ‰§è¡ŒåŒæ­¥ä»»åŠ¡ã€‚</li>
<li>3 ç§’åï¼Œ<code>setTimeout</code> çš„å›è°ƒæ‰§è¡Œï¼Œæ‰“å° <code>2</code>ï¼ŒåŒæ—¶è°ƒç”¨ <code>resolve()</code>ã€‚</li>
<li><code>resolve()</code> è§¦å‘ <code>then</code> æ–¹æ³•ä¸­çš„å›è°ƒï¼Œæ‰“å° <code>3</code>ã€‚</li>
</ol>
<p>å¯ä»¥çœ‹åˆ°ï¼ŒPromise è®©å¼‚æ­¥ä»£ç çš„æ‰§è¡Œé¡ºåºæ›´æ¸…æ™°ï¼Œç»“æ„ä¹Ÿæ›´ä¼˜é›…ã€‚</p>
<hr/>
<h2 data-id="heading-6">ä¸ƒã€ç»“åˆ Node.js çš„å¼‚æ­¥ I/O ç¤ºä¾‹</h2>
<p>åœ¨ Node.js ä¸­ï¼Œæ–‡ä»¶è¯»å–å°±æ˜¯å…¸å‹çš„å¼‚æ­¥æ“ä½œï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> fs <span class="hljs-keyword">from</span> <span class="hljs-string">'fs'</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>);

<span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">resolve, reject</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>); <span class="hljs-comment">// åŒæ­¥æ‰§è¡Œ</span>
  fs.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">'./b.txt'</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (err) {
      <span class="hljs-title function_">reject</span>(err);
      <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-title function_">resolve</span>(data.<span class="hljs-title function_">toString</span>());
  });
});

p.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data, <span class="hljs-string">'//////'</span>);
}).<span class="hljs-title function_">catch</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err, <span class="hljs-string">'è¯»å–æ–‡ä»¶å¤±è´¥'</span>);
});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>);
</code></pre>
<p>æ‰§è¡Œé¡ºåºï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-number">1</span> <span class="hljs-punctuation">-&gt;</span> <span class="hljs-number">3</span> <span class="hljs-punctuation">-&gt;</span> <span class="hljs-number">2</span> <span class="hljs-punctuation">-&gt;</span> &lt;æ–‡ä»¶å†…å®¹&gt; <span class="hljs-comment">///////</span>
</code></pre>
<p>è§£é‡Šï¼š</p>
<ul>
<li><code>fs.readFile</code> æ˜¯ Node çš„å¼‚æ­¥ I/O æ“ä½œï¼›</li>
<li>è¯»å–æ–‡ä»¶çš„ä»»åŠ¡è¢«äº¤ç»™ç³»ç»Ÿåº•å±‚ï¼›</li>
<li>ä¸»çº¿ç¨‹ä¸ä¼šç­‰å¾…ï¼›</li>
<li>å½“è¯»å–å®Œæˆåï¼Œé€šè¿‡äº‹ä»¶å¾ªç¯å›åˆ°ä¸»çº¿ç¨‹æ‰§è¡Œ <code>.then()</code>ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-7">å…«ã€fetch ä¸å¼‚æ­¥è¯·æ±‚</h2>
<p>æµè§ˆå™¨ç«¯çš„ <code>fetch</code> ä¹Ÿæ˜¯åŸºäº Promise çš„å¼‚æ­¥æ“ä½œã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.github.com/orgs/lemoncode/members'</span>));
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>ğŸ§ <code>fetch()</code> è¿”å›çš„æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>.then()</code> æ¥è·å–è¿”å›çš„æ•°æ®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">fetch('https://api.github.com/orgs/lemoncode/members')
  .then(<span class="hljs-attr">res</span> =&gt; res.json())
  .then(<span class="hljs-attr">data</span> =&gt; {
    document.getElementById('member').<span class="hljs-attr">innerHTML</span> =
      data.map(<span class="hljs-attr">item</span> =&gt; `&lt;li&gt;<span class="hljs-variable">${item.login}</span>&lt;/li&gt;`).join(<span class="hljs-string">''</span>)<span class="hljs-comment">;</span>
  })<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h2 data-id="heading-8">ä¹ã€æ€»ç»“</h2>






























<table><thead><tr><th>æ¦‚å¿µ</th><th>å«ä¹‰</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>åŒæ­¥ä»£ç </strong></td><td>ä»ä¸Šåˆ°ä¸‹é¡ºåºæ‰§è¡Œ</td><td><code>console.log()</code></td></tr><tr><td><strong>å¼‚æ­¥ä»£ç </strong></td><td>å»¶åæ‰§è¡Œï¼Œä¸é˜»å¡ä¸»çº¿ç¨‹</td><td><code>setTimeout</code>ã€<code>fetch</code>ã€<code>fs.readFile</code></td></tr><tr><td><strong>äº‹ä»¶å¾ªç¯</strong></td><td>è°ƒåº¦åŒæ­¥å’Œå¼‚æ­¥ä»»åŠ¡</td><td>å¼‚æ­¥ä»»åŠ¡å®Œæˆåæ”¾å…¥ä»»åŠ¡é˜Ÿåˆ—ç­‰å¾…æ‰§è¡Œ</td></tr><tr><td><strong>Promise</strong></td><td>ç”¨äºä¼˜é›…åœ°å¤„ç†å¼‚æ­¥</td><td><code>.then()</code>ã€<code>.catch()</code></td></tr></tbody></table>
<blockquote>
<p>ğŸ§©<strong>ä¸€å¥è¯æ€»ç»“ï¼š</strong><br/>
JavaScript è™½ç„¶æ˜¯å•çº¿ç¨‹çš„ï¼Œä½†é€šè¿‡äº‹ä»¶å¾ªç¯å’Œ Promise ç­‰æœºåˆ¶ï¼Œå®ç°äº†å¼ºå¤§çš„å¼‚æ­¥èƒ½åŠ›ï¼Œè®©æˆ‘ä»¬èƒ½å¤ŸåŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡ï¼Œè€Œä¸å½±å“é¡µé¢æˆ–ç¨‹åºçš„æµç•…è¿è¡Œã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è®©Qwen-VLçš„æ£€æµ‹èƒ½åŠ›åƒYOLOä¸€æ ·å¼ºï¼ŒVLM-FO1å¦‚ä½•æ‰“é€šå¤§æ¨¡å‹çš„è§†è§‰ä»»ç£äºŒè„‰]]></title>    <link>https://juejin.cn/post/7571678763782258722</link>    <guid>https://juejin.cn/post/7571678763782258722</guid>    <pubDate>2025-11-13T01:53:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571678763782258722" data-draft-id="7571702660933173263" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è®©Qwen-VLçš„æ£€æµ‹èƒ½åŠ›åƒYOLOä¸€æ ·å¼ºï¼ŒVLM-FO1å¦‚ä½•æ‰“é€šå¤§æ¨¡å‹çš„è§†è§‰ä»»ç£äºŒè„‰"/> <meta itemprop="keywords" content="ç®—æ³•,è®¡ç®—æœºè§†è§‰,æ·±åº¦å­¦ä¹ "/> <meta itemprop="datePublished" content="2025-11-13T01:53:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CoovallyAIHub"/> <meta itemprop="url" content="https://juejin.cn/user/2461151071843739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è®©Qwen-VLçš„æ£€æµ‹èƒ½åŠ›åƒYOLOä¸€æ ·å¼ºï¼ŒVLM-FO1å¦‚ä½•æ‰“é€šå¤§æ¨¡å‹çš„è§†è§‰ä»»ç£äºŒè„‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2461151071843739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CoovallyAIHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T01:53:33.000Z" title="Thu Nov 13 2025 01:53:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å½“ä»Šå¤šæ¨¡æ€å¤§æ¨¡å‹ï¼ˆVLMsï¼‰é£é€Ÿå‘å±•çš„æ—¶ä»£ï¼Œä¸€ä¸ªä»¤äººå°´å°¬çš„é—®é¢˜ä¾ç„¶å­˜åœ¨ï¼š<strong>ä¸ºä»€ä¹ˆè¿™äº›èƒ½çœ‹æ‡‚å›¾åƒã€ç”Ÿæˆæè¿°çš„æ¨¡å‹ï¼Œå´éš¾ä»¥ç²¾ç¡®åœ°å®šä½å›¾åƒä¸­çš„ç‰©ä½“ï¼Ÿ</strong></p>
<p>ç­”æ¡ˆåœ¨äºä¸€ä¸ªæ ¹æœ¬æ€§çŸ›ç›¾ï¼šè®©ä¸€ä¸ªä¸ºè¯­è¨€ç”Ÿæˆè€Œè®¾è®¡çš„æ¨¡å‹ï¼Œå»è¾“å‡ºç²¾ç¡®çš„æµ®ç‚¹æ•°åæ ‡ï¼Œå°±åƒè®©ä¸€ä½è¯—äººå»åšå¾®ç§¯åˆ†â€”â€”è™½ç„¶éƒ½æ˜¯å¤„ç†â€œç¬¦å·â€ï¼Œä½†æ€ç»´æ–¹å¼æˆªç„¶ä¸åŒã€‚</p>
<h2 data-id="heading-0"><strong>åæ ‡ç”Ÿæˆçš„å›°å¢ƒ</strong></h2>
<p>ç°æœ‰çš„å¤šæ¨¡æ€å¤§æ¨¡å‹åœ¨ç”Ÿæˆè¾¹ç•Œæ¡†æ—¶é¢ä¸´ä¸¤å¤§æŒ‘æˆ˜ï¼š</p>
<ul>
<li><strong>æ ¼å¼æ•æ„Ÿæ€§ï¼š</strong> ä¸€ä¸ªåæ ‡å€¼çš„è½»å¾®åå·®å°±å¯èƒ½å¯¼è‡´æ•´ä¸ªæ£€æµ‹æ¡†æ— æ•ˆ</li>
<li><strong>å¤šå®ä¾‹å¤„ç†å›°éš¾ï¼š</strong> é•¿åºåˆ—çš„åæ ‡ç”Ÿæˆå®¹æ˜“è¶…å‡ºæ¨¡å‹çš„æ³¨æ„åŠ›èŒƒå›´</li>
</ul>
<p>ç»“æœå°±æ˜¯ï¼Œå³ä½¿åœ¨COCOè¿™æ ·çš„æ ‡å‡†æ£€æµ‹æ•°æ®é›†ä¸Šï¼Œé¡¶å°–çš„å¼€æºVLMæ¨¡å‹å¬å›ç‡ä¹Ÿä¸åˆ°40%ï¼Œè¿œä½äºä¸“ç”¨æ£€æµ‹å™¨50-60%çš„æ°´å¹³ã€‚</p>
<h2 data-id="heading-1"><strong>VLM-FO1çš„çªç ´</strong></h2>
<p>æµ™æ±Ÿå¤§å­¦ä¸Om AI Researchå›¢é˜Ÿæå‡ºçš„VLM-FO1æ¡†æ¶å¸¦æ¥äº†å…¨æ–°çš„æ€è·¯ï¼šä¸å…¶è®©å¤§æ¨¡å‹è‰°éš¾åœ°ç”Ÿæˆåæ ‡ï¼Œä¸å¦‚è®©å®ƒç›´æ¥ç†è§£åŒºåŸŸå†…å®¹ã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/65ae036ea023406eb4b2efbe03c5d8ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603613&amp;x-signature=27TiYCFvcdynPSN933hXx7aapo8%3D" alt="screenshot_2025-11-12_11-28-02.png" loading="lazy"/></p>
<h2 data-id="heading-2"><strong>æ ¸å¿ƒåˆ›æ–°</strong></h2>
<ul>
<li><strong>å³æ’å³ç”¨çš„æ¨¡å—åŒ–è®¾è®¡</strong></li>
</ul>
<p>VLM-FO1ä¸éœ€è¦é‡æ–°è®­ç»ƒæ•´ä¸ªå¤§æ¨¡å‹ï¼Œè€Œæ˜¯ä½œä¸ºä¸€ä¸ªå¢å¼ºæ¨¡å—æ¥å…¥ç°æœ‰çš„é¢„è®­ç»ƒVLMã€‚è¿™æ„å‘³ç€å¼€å‘è€…å¯ä»¥å¿«é€Ÿä¸ºå·²æœ‰æ¨¡å‹èµ‹äºˆæ£€æµ‹èƒ½åŠ›ï¼Œè€Œä¸ç”¨æ‹…å¿ƒç ´åå…¶åŸæœ‰çš„è¯­è¨€ç†è§£èƒ½åŠ›ã€‚</p>
<ul>
<li><strong>åŒè§†è§‰ç¼–ç å™¨æ¶æ„</strong></li>
</ul>
<p>å›¢é˜Ÿè®¾è®¡äº†æ··åˆç»†ç²’åº¦åŒºåŸŸç¼–ç å™¨ï¼ˆHFREï¼‰ï¼ŒåŒ…å«ä¸¤ä¸ªå¹¶è¡Œçš„è§†è§‰ç¼–ç å™¨ï¼š</p>
<p>ä¸»ç¼–ç å™¨ï¼šæ²¿ç”¨åŸVLMçš„è§†è§‰ç¼–ç å™¨ï¼Œæä¾›ä¸°å¯Œçš„è¯­ä¹‰ä¿¡æ¯</p>
<p>è¾…åŠ©ç¼–ç å™¨ï¼šé‡‡ç”¨é«˜åˆ†è¾¨ç‡å¤„ç†çš„DaViTæ¨¡å‹ï¼Œæ•æ‰ç»†èŠ‚ç‰¹å¾</p>
<p>ä¸¤è€…ç‰¹å¾èåˆåï¼Œå½¢æˆäº†æ—¢æ‡‚â€œæ˜¯ä»€ä¹ˆâ€åˆçŸ¥â€œåœ¨å“ªé‡Œâ€çš„åŒºåŸŸè¡¨ç¤ºã€‚</p>
<ul>
<li><strong>ä¸¤é˜¶æ®µè®­ç»ƒç­–ç•¥</strong></li>
</ul>
<p>é˜¶æ®µä¸€ï¼šåªè®­ç»ƒæ–°æ·»åŠ çš„æ¨¡å—ï¼Œå­¦ä¹ å°†åŒºåŸŸç‰¹å¾æ˜ å°„åˆ°è¯­è¨€ç©ºé—´</p>
<p>é˜¶æ®µäºŒï¼šå¼€æ”¾æ›´å¤šå‚æ•°è¿›è¡ŒæŒ‡ä»¤å¾®è°ƒï¼Œå…¨é¢æå‡æ„ŸçŸ¥èƒ½åŠ›</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f29f5f7c52314202818c6e8ef262b915~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603613&amp;x-signature=8laX5C0uUAZBfQc9tQ4xcTEnmX4%3D" alt="screenshot_2025-11-12_11-26-41.png" loading="lazy"/></p>
<h2 data-id="heading-3"><strong>æ€§èƒ½è¡¨ç°ï¼šå°æ¨¡å‹çš„å¤§èƒ½é‡</strong></h2>
<p>åœ¨å¤šé¡¹åŸºå‡†æµ‹è¯•ä¸­ï¼ŒVLM-FO1å±•ç°å‡ºäº†ä»¤äººå°è±¡æ·±åˆ»çš„æ€§èƒ½ï¼š</p>
<ul>
<li><strong>ç›®æ ‡å®šä½èƒ½åŠ›æ˜¾è‘—æå‡</strong></li>
</ul>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0997010f19be4c958dfcc4b4b2a36dcf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603613&amp;x-signature=mBuDkUfK1u6Oj%2F0aIrf4cOQsgzw%3D" alt="screenshot_2025-11-12_11-30-08.png" loading="lazy"/></p>
<p>åœ¨COCOç›®æ ‡æ£€æµ‹ä»»åŠ¡ä¸Šï¼Œä»…3Bå‚æ•°çš„VLM-FO1è¾¾åˆ°äº†44.4 mAPï¼Œæ¯”åŒç±»VLMæ–¹æ³•æå‡è¶…è¿‡20ä¸ªç‚¹ï¼Œç”šè‡³è¶…è¶Šäº†éƒ¨åˆ†ä¸“ç”¨æ£€æµ‹å™¨ã€‚</p>
<p>ç‰¹åˆ«æ˜¯åœ¨åŒ…å«å›°éš¾è´Ÿæ ·æœ¬çš„OVDEvalæ•°æ®é›†ä¸Šï¼ŒVLM-FO1çš„43.7 mAPæ˜¾è‘—é«˜äºGrounding DINOç­‰ä¸“ä¸šæ¨¡å‹ï¼Œè¯æ˜å…¶èƒ½æœ‰æ•ˆåˆ©ç”¨å¤§æ¨¡å‹çš„ä¸–ç•ŒçŸ¥è¯†è¿›è¡Œæ¨ç†ã€‚</p>
<ul>
<li><strong>åŒºåŸŸç†è§£å…¨é¢é¢†å…ˆ</strong></li>
</ul>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/50be8eb2999e4d318cf8ea69b84dd313~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603613&amp;x-signature=RZYbOIt2J2quS%2BDN5V4vqoVHnAI%3D" alt="screenshot_2025-11-12_11-31-20.png" loading="lazy"/></p>
<p>åŒºåŸŸåˆ†ç±»ï¼šåœ¨LVISæ•°æ®é›†ä¸Šè¾¾åˆ°92.4% çš„è¯­ä¹‰ç›¸ä¼¼åº¦</p>
<p>åŒºåŸŸOCRï¼šåœ¨COCOæ–‡æœ¬ä¸Šä»¥59.0% çš„å‡†ç¡®ç‡å¤§å¹…é¢†å…ˆ</p>
<p>æŒ‡ä»£è¡¨è¾¾ç†è§£ï¼šåœ¨Ferret Benchä¸Šä»¥80.1åˆ†åˆ·æ–°çºªå½•</p>
<ul>
<li><strong>å¤æ‚æ¨ç†è¡¨ç°å‡ºè‰²</strong></li>
</ul>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7cc1649f46b14145a29f56dbd1f8efc4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603613&amp;x-signature=vwMBkM7B%2B%2FIu3TQeXXpn7NP%2FJxE%3D" alt="screenshot_2025-11-12_11-31-32.png" loading="lazy"/></p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c2036b4bab6426082c5cd70c8868d4c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603613&amp;x-signature=72kVjOhWj1kX0DHe74SkcyC%2Bw1E%3D" alt="screenshot_2025-11-12_11-31-40.png" loading="lazy"/></p>
<p>åœ¨éœ€è¦ç»“åˆè¯­è¨€ç†è§£å’Œè§†è§‰å®šä½çš„æŒ‡ä»£è¡¨è¾¾ç†è§£ä»»åŠ¡ä¸­ï¼ŒVLM-FO1åœ¨å¤šä¸ªæ•°æ®é›†ä¸Šä¿æŒé¢†å…ˆã€‚åœ¨å¯¹è±¡è®¡æ•°ä»»åŠ¡ä¸­ï¼Œå…¶â€œå…ˆæ£€æµ‹å†è®¡æ•°â€çš„ç­–ç•¥åœ¨PixMo-Countä¸Šè¾¾åˆ°86.0% çš„å‡†ç¡®ç‡ï¼Œè¶…è¶Šäº†ä¼—å¤šå‚æ•°é‡å¤§å¾—å¤šçš„æ¨¡å‹ã€‚</p>
<ul>
<li><strong>ä¸å½±å“åŸæœ‰èƒ½åŠ›ï¼šçœŸæ­£çš„â€œå¢å¼ºâ€è€Œéâ€œæ›¿æ¢â€</strong></li>
</ul>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/745f4d395f604c44a0afcd8665daa367~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603613&amp;x-signature=Krm64cVsMnA1fSbUDepKaWDHMoA%3D" alt="screenshot_2025-11-12_11-31-47.png" loading="lazy"/></p>
<p>æœ€ä»¤äººæƒŠå–œçš„æ˜¯ï¼ŒVLM-FO1åœ¨å¢å¼ºç»†ç²’åº¦æ„ŸçŸ¥çš„åŒæ—¶ï¼Œå®Œå…¨ä¿ç•™äº†åŸºç¡€æ¨¡å‹çš„é€šç”¨è§†è§‰ç†è§£èƒ½åŠ›ã€‚åœ¨OpenCompassç»¼åˆè¯„æµ‹ä¸­ï¼ŒVLM-FO1-3Bä¸åŸå§‹Qwen2.5-VL-3Bçš„è¡¨ç°åŸºæœ¬æŒå¹³ï¼Œè¯æ˜å…¶æ²¡æœ‰å‡ºç°ç¾éš¾æ€§é—å¿˜ã€‚</p>
<h2 data-id="heading-4"><strong>å®é™…åº”ç”¨å±•ç¤º</strong></h2>
<p>è®ºæ–‡ä¸­å±•ç¤ºäº†ä¸°å¯Œçš„å¯è§†åŒ–ç»“æœï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ç›®æ ‡æ£€æµ‹ï¼š</strong> å‡†ç¡®æ¡†å‡ºäººç‰©ã€ç¬”è®°æœ¬ç”µè„‘ç­‰ç‰©ä½“</li>
<li><strong>æŒ‡ä»£è¡¨è¾¾ç†è§£ï¼š</strong> æ ¹æ®è¯­è¨€æè¿°å®šä½ç‰¹å®šå¯¹è±¡</li>
<li><strong>å¯¹è±¡è®¡æ•°ï¼š</strong> å¤æ‚åœºæ™¯ä¸‹çš„æ•°é‡ç»Ÿè®¡</li>
<li><strong>åŒºåŸŸæè¿°ï¼š</strong> é’ˆå¯¹ç‰¹å®šåŒºåŸŸç”Ÿæˆè¯¦ç»†æè¿°</li>
<li><strong>è§†è§‰æ¨ç†ï¼š</strong> ç»“åˆé€»è¾‘æ¨ç†çš„åŒºåŸŸåˆ†æ</li>
</ul>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7958de31e7224590b487a59c5ccb4174~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603613&amp;x-signature=BMbPgrxAUVFiu8CZ4rJjQzw%2Ft3g%3D" alt="screenshot_2025-11-12_11-32-23.png" loading="lazy"/></p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39b513f6bf304cef9469f683fd994040~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603613&amp;x-signature=YcWxza3Hl%2FQW5LZXTYefyIzGihY%3D" alt="screenshot_2025-11-12_11-32-31.png" loading="lazy"/></p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3eea2e74b6134450ad3459935266ab92~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603613&amp;x-signature=24LQ%2FOYh7TnJm2R8Y4YrIW201KM%3D" alt="screenshot_2025-11-12_11-32-38.png" loading="lazy"/></p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/acc638ac3f22464ab67da8f192d2919d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603613&amp;x-signature=bqUrMwtDF9bjnZA3HOPB1DhyS2M%3D" alt="screenshot_2025-11-12_11-33-46.png" loading="lazy"/></p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/743a48113571463fb706f6a43aa633b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763603613&amp;x-signature=od4RRrG%2F38ufKpyLRp3PxJI1gHI%3D" alt="screenshot_2025-11-12_11-52-58.png" loading="lazy"/></p>
<p>ç‰¹åˆ«æ˜¯åœ¨å¤æ‚æ¨ç†ä»»åŠ¡ä¸­ï¼Œæ¨¡å‹èƒ½å¤Ÿå±•ç¤ºå‡ºæ¸…æ™°çš„æ€ç»´é“¾æ¡ï¼Œå¦‚é€šè¿‡æ’é™¤æ³•æ‰¾åˆ°â€œæ²¡æœ‰æ‰“é¢†å¸¦çš„äººâ€ï¼Œé€æ­¥æ¨ç†å®šä½â€œç››æ”¾é»‘è‰²ç”œç”œåœˆçš„ç›˜å­â€ã€‚</p>
<h2 data-id="heading-5"><strong>æŠ€æœ¯å¯ç¤º</strong></h2>
<p>VLM-FO1çš„æˆåŠŸä¸ºå¤šæ¨¡æ€å¤§æ¨¡å‹çš„å‘å±•æä¾›äº†é‡è¦å¯ç¤ºï¼š</p>
<ul>
<li><strong>æ‰¬é•¿é¿çŸ­</strong></li>
</ul>
<p>ä¸å¼ºæ±‚å¤§æ¨¡å‹å®Œæˆæ‰€æœ‰ä»»åŠ¡ï¼Œè€Œæ˜¯å°†å…¶æ ¸å¿ƒçš„è¯­è¨€ç†è§£å’Œæ¨ç†èƒ½åŠ›ä¸ä¸“é—¨çš„è§†è§‰å¤„ç†æ¨¡å—ç›¸ç»“åˆã€‚</p>
<ul>
<li><strong>æ¨¡å—åŒ–è®¾è®¡</strong></li>
</ul>
<p>é€šè¿‡å³æ’å³ç”¨çš„æ–¹å¼å¢å¼ºæ¨¡å‹èƒ½åŠ›ï¼Œé¿å…æ¯æ¬¡å‡çº§éƒ½è¦æ¨å€’é‡æ¥ã€‚</p>
<ul>
<li><strong>è®­ç»ƒç­–ç•¥åˆ›æ–°</strong></li>
</ul>
<p>åˆ†é˜¶æ®µã€æœ‰é’ˆå¯¹æ€§çš„è®­ç»ƒç­–ç•¥èƒ½å¤Ÿåœ¨å¼•å…¥æ–°èƒ½åŠ›çš„åŒæ—¶ä¿æŠ¤å·²æœ‰çŸ¥è¯†ã€‚</p>
<h2 data-id="heading-6"><strong>ç»“è¯­</strong></h2>
<p>VLM-FO1æ¶èµ·äº†ä¸€åº§æ¡¥æ¢ï¼Œè¿æ¥äº†å¤§æ¨¡å‹çš„é«˜å±‚æ¨ç†èƒ½åŠ›ä¸ç»†ç²’åº¦è§†è§‰æ„ŸçŸ¥éœ€æ±‚ã€‚è¿™ç§â€œç†è§£å†…å®¹è€Œéç”Ÿæˆåæ ‡â€çš„èŒƒå¼è½¬å˜ï¼Œä¸ä»…è§£å†³äº†å½“å‰VLMåœ¨å®šä½ä»»åŠ¡ä¸Šçš„ç“¶é¢ˆï¼Œæ›´ä¸ºæ„å»ºçœŸæ­£ç†è§£è§†è§‰ä¸–ç•Œçš„å¤šæ¨¡æ€æ¨¡å‹æŒ‡æ˜äº†æ–¹å‘ã€‚</p>
<p>éšç€è¿™ç§æŠ€æœ¯çš„æˆç†Ÿï¼Œæˆ‘ä»¬ç¦»èƒ½å¤ŸçœŸæ­£â€œçœ‹æ‡‚â€å›¾åƒã€åœ¨åƒç´ ä¸–ç•Œä¸­è‡ªç”±â€œå¯¹è¯â€çš„AIåŠ©æ‰‹åˆè¿‘äº†ä¸€æ­¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue scoped CSS ä¸ Element Plus Drawer æ ·å¼å¤±æ•ˆé—®é¢˜æ·±åº¦è§£æ]]></title>    <link>https://juejin.cn/post/7571650164843773986</link>    <guid>https://juejin.cn/post/7571650164843773986</guid>    <pubDate>2025-11-12T11:11:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571650164843773986" data-draft-id="7571559178743365667" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue scoped CSS ä¸ Element Plus Drawer æ ·å¼å¤±æ•ˆé—®é¢˜æ·±åº¦è§£æ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-12T11:11:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€åªåæœ¨Meow"/> <meta itemprop="url" content="https://juejin.cn/user/231371762837604"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue scoped CSS ä¸ Element Plus Drawer æ ·å¼å¤±æ•ˆé—®é¢˜æ·±åº¦è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/231371762837604/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€åªåæœ¨Meow
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T11:11:01.000Z" title="Wed Nov 12 2025 11:11:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é—®é¢˜æ¦‚è¿°</h2>
<p>åœ¨ä½¿ç”¨ Vue 3 + Element Plus å¼€å‘ç»„ä»¶åº“æ—¶ï¼Œæˆ‘ä»¬é‡åˆ°äº†ä¸€ä¸ªæ£˜æ‰‹çš„æ ·å¼é—®é¢˜ï¼šå½“å°† <code>el-drawer</code> ç»„ä»¶æŠ½ç¦»åˆ°å­ç»„ä»¶ä¸­ï¼Œå¹¶ä¸” <code>el-drawer</code> ç›´æ¥ä½œä¸ºå­ç»„ä»¶ <code>template</code> çš„æ ¹å…ƒç´ æ—¶ï¼Œ<code>scoped</code> æ ·å¼æ— æ³•æ­£ç¡®åº”ç”¨åˆ° drawer ä¸Šã€‚ç„¶è€Œï¼Œå½“åœ¨ <code>el-drawer</code> å¤–å±‚åŒ…è£…ä¸€ä¸ª <code>div</code> å®¹å™¨åï¼Œæ ·å¼åˆèƒ½å¤Ÿæ­£å¸¸å·¥ä½œã€‚</p>
<p>è¿™ä¸ªé—®é¢˜ä¸ä»…å½±å“äº†æˆ‘ä»¬çš„ç»„ä»¶æŠ½ç¦»å·¥ä½œï¼Œä¹Ÿæš´éœ²äº†å¯¹ Vue scoped CSS å’Œ Element Plus ç»„ä»¶å†…éƒ¨æœºåˆ¶ç†è§£çš„ä¸è¶³ã€‚</p>
<h2 data-id="heading-1">é—®é¢˜ç°è±¡</h2>
<h3 data-id="heading-2">åœºæ™¯ä¸€ï¼šæ ·å¼å¤±æ•ˆçš„å®ç°</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- problematic-drawer.vue --&gt;
&lt;template&gt;
  &lt;!-- el-drawer ç›´æ¥ä½œä¸º template æ ¹å…ƒç´  --&gt;
  &lt;el-drawer
    :model-value="drawerVisible"
    direction="btt"
    size="300px"
    title="å­ç»„ä»¶æŠ½å±‰ - æ ·å¼å¤±æ•ˆ"
    @update:model-value="$emit('update:drawerVisible', $event)"
  &gt;
    &lt;div class="drawer-content"&gt;
      è¿™ä¸ªæŠ½å±‰çš„æ ·å¼æ— æ³•ç”Ÿæ•ˆï¼
    &lt;/div&gt;
  &lt;/el-drawer&gt;
&lt;/template&gt;

&lt;style scoped&gt;
/* è¿™äº›æ ·å¼ä¸ä¼šç”Ÿæ•ˆ */
:deep(.el-drawer) {
  border-top-left-radius: 20px !important;
  border-top-right-radius: 20px !important;
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%) !important;
}

:deep(.el-drawer__header) {
  background: rgba(255, 255, 255, 0.1) !important;
  color: white !important;
  border-bottom: 2px solid rgba(255, 255, 255, 0.3) !important;
}

:deep(.el-drawer__body) {
  color: white !important;
  font-size: 16px !important;
}
&lt;/style&gt;
</code></pre>
<p><img src="https://img.sanmu7.com/sanmu/20251112/article-content/d16b48fe-9f7d-4dcd-b82f-b7f46fd656d2.png" alt="1762929206541.png" loading="lazy"/></p>
<h3 data-id="heading-3">åœºæ™¯äºŒï¼šæ ·å¼æ­£å¸¸çš„å®ç°</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- fixed-drawer.vue --&gt;
&lt;template&gt;
  &lt;!-- el-drawer è¢« div åŒ…è£… --&gt;
  &lt;div class="drawer-container"&gt;
    &lt;el-drawer
      :model-value="drawerVisible"
      direction="btt"
      size="300px"
      title="ä¿®å¤åçš„å­ç»„ä»¶æŠ½å±‰ - æ ·å¼æ­£å¸¸"
      @update:model-value="$emit('update:drawerVisible', $event)"
    &gt;
      &lt;div class="drawer-content"&gt;
        ç°åœ¨æ ·å¼å¯ä»¥æ­£å¸¸å·¥ä½œäº†ï¼
      &lt;/div&gt;
    &lt;/el-drawer&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
/* è¿™äº›æ ·å¼ç°åœ¨å¯ä»¥æ­£å¸¸å·¥ä½œ */
.drawer-container :deep(.el-drawer) {
  border-top-left-radius: 20px !important;
  border-top-right-radius: 20px !important;
  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%) !important;
}

.drawer-container :deep(.el-drawer__header) {
  background: rgba(255, 255, 255, 0.1) !important;
  color: white !important;
  border-bottom: 2px solid rgba(255, 255, 255, 0.3) !important;
}

.drawer-container :deep(.el-drawer__body) {
  color: white !important;
  font-size: 16px !important;
}
&lt;/style&gt;
</code></pre>
<p><img src="https://img.sanmu7.com/sanmu/20251112/article-content/1a162eb3-ad7b-4ffb-8c6b-df5874d1bad3.png" alt="1762929256553.png" loading="lazy"/></p>
<h2 data-id="heading-4">æŠ€æœ¯åŸç†è§£æ</h2>
<h3 data-id="heading-5">Vue scoped CSS çš„å·¥ä½œæœºåˆ¶</h3>
<p>Vue çš„ scoped CSS é€šè¿‡ä»¥ä¸‹ä¸¤ä¸ªæ­¥éª¤å®ç°æ ·å¼éš”ç¦»ï¼š</p>
<ol>
<li><strong>å±æ€§æ³¨å…¥</strong>ï¼šVue ç¼–è¯‘å™¨ä¼šç»™ç»„ä»¶æ¨¡æ¿ä¸­çš„æ¯ä¸ªå…ƒç´ æ·»åŠ å”¯ä¸€çš„ <code>data-v-*</code> å±æ€§</li>
<li><strong>é€‰æ‹©å™¨é‡å†™</strong>ï¼šå°† CSS é€‰æ‹©å™¨é‡å†™ä¸ºåŒ…å«å¯¹åº” <code>data-v-*</code> å±æ€§çš„é€‰æ‹©å™¨</li>
</ol>
<p>ä¾‹å¦‚ï¼Œå¯¹äºä¸‹é¢çš„æ¨¡æ¿å’Œæ ·å¼ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="container"&gt;Hello&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
.container { color: red; }
&lt;/style&gt;
</code></pre>
<p>Vue ç¼–è¯‘åä¼šå˜æˆï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span> <span class="hljs-attr">data-v-xxxxxxx</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.container</span><span class="hljs-selector-attr">[data-v-xxxxxxx]</span> { <span class="hljs-attribute">color</span>: red; }
</code></pre>
<h3 data-id="heading-6">Element Plus Drawer çš„å†…éƒ¨æœºåˆ¶</h3>
<p>Element Plus çš„ <code>el-drawer</code> ç»„ä»¶å†…éƒ¨ç»“æ„è¾ƒä¸ºå¤æ‚ï¼Œå®ƒä¼šï¼š</p>
<ol>
<li>åˆ›å»ºå¤šä¸ªå†…éƒ¨ DOM å…ƒç´ ï¼ˆå¦‚ <code>.el-drawer__header</code>ã€<code>.el-drawer__body</code> ç­‰ï¼‰</li>
<li>è¿™äº›å†…éƒ¨å…ƒç´ æ˜¯ç”±ç»„ä»¶åŠ¨æ€ç”Ÿæˆçš„ï¼Œä¸ä¼šç»§æ‰¿çˆ¶ç»„ä»¶çš„ <code>data-v-*</code> å±æ€§</li>
</ol>
<h3 data-id="heading-7">é—®é¢˜æ ¹æºåˆ†æ</h3>
<h4 data-id="heading-8">åœºæ™¯ä¸€çš„é—®é¢˜</h4>
<p>å½“ <code>el-drawer</code> ç›´æ¥ä½œä¸ºå­ç»„ä»¶çš„æ ¹å…ƒç´ æ—¶ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;el-drawer&gt;...&lt;/el-drawer&gt;
&lt;/template&gt;

&lt;style scoped&gt;
:deep(.el-drawer) { /* æ ·å¼ */ }
&lt;/style&gt;
</code></pre>
<p>ç¼–è¯‘åçš„ç»“æœï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">el-drawer</span> <span class="hljs-attr">data-v-xxxxxxx</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">el-drawer</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-attr">[data-v-xxxxxxx]</span> <span class="hljs-selector-class">.el-drawer</span> { <span class="hljs-comment">/* æ ·å¼ */</span> }
</code></pre>
<p><strong>é—®é¢˜åœ¨äº</strong>ï¼šè™½ç„¶ <code>el-drawer</code> å…ƒç´ æœ¬èº«æœ‰ <code>data-v-xxxxxxx</code> å±æ€§ï¼Œä½† Element Plus åœ¨å…¶å†…éƒ¨åˆ›å»ºçš„ <code>.el-drawer__header</code>ã€<code>.el-drawer__body</code> ç­‰å…ƒç´ <strong>æ²¡æœ‰è¿™ä¸ªå±æ€§</strong>ï¼Œå¯¼è‡´é€‰æ‹©å™¨ <code>[data-v-xxxxxxx] .el-drawer__header</code> æ— æ³•åŒ¹é…åˆ°ç›®æ ‡å…ƒç´ ã€‚</p>
<h4 data-id="heading-9">åœºæ™¯äºŒçš„è§£å†³æ–¹æ¡ˆ</h4>
<p>å½“ä½¿ç”¨ <code>div</code> åŒ…è£… <code>el-drawer</code> æ—¶ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="drawer-container"&gt;
    &lt;el-drawer&gt;...&lt;/el-drawer&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
.drawer-container :deep(.el-drawer) { /* æ ·å¼ */ }
&lt;/style&gt;
</code></pre>
<p>ç¼–è¯‘åçš„ç»“æœï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"drawer-container"</span> <span class="hljs-attr">data-v-yyyyyyy</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-drawer</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">el-drawer</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-attr">[data-v-yyyyyyy]</span> <span class="hljs-selector-class">.drawer-container</span> <span class="hljs-selector-class">.el-drawer</span> { <span class="hljs-comment">/* æ ·å¼ */</span> }
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆèƒ½æˆåŠŸ</strong>ï¼š</p>
<ol>
<li><strong>æ­£ç¡®çš„å±æ€§æ‰¿è½½</strong>ï¼šå¤–å±‚ <code>div</code> å®¹å™¨è·å¾—äº† <code>data-v-yyyyyyy</code> å±æ€§</li>
<li><strong>æ›´é«˜çš„ CSS ç‰¹å¼‚æ€§</strong>ï¼šé€‰æ‹©å™¨ <code>[data-v-yyyyyyy] .drawer-container .el-drawer</code> å…·æœ‰æ›´é«˜çš„ç‰¹å¼‚æ€§</li>
<li><strong>æ ·å¼ç»§æ‰¿å’Œè¦†ç›–</strong>ï¼šæ›´é«˜ç‰¹å¼‚æ€§çš„é€‰æ‹©å™¨èƒ½å¤ŸæˆåŠŸè¦†ç›– Element Plus çš„é»˜è®¤æ ·å¼</li>
</ol>
<h2 data-id="heading-10">è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-11">æ–¹æ¡ˆä¸€ï¼šå®¹å™¨åŒ…è£…æ³•ï¼ˆæ¨èï¼‰</h3>
<p>è¿™æ˜¯æœ€ç®€å•æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="drawer-wrapper"&gt;
    &lt;el-drawer
      v-model="visible"
      title="æŠ½å±‰æ ‡é¢˜"
    &gt;
      &lt;!-- æŠ½å±‰å†…å®¹ --&gt;
    &lt;/el-drawer&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
.drawer-wrapper :deep(.el-drawer) {
  /* è‡ªå®šä¹‰æ ·å¼ */
  border-radius: 8px;
}

.drawer-wrapper :deep(.el-drawer__header) {
  background: #f0f0f0;
}

.drawer-wrapper :deep(.el-drawer__body) {
  padding: 20px;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-12">æ–¹æ¡ˆäºŒï¼šå…¨å±€æ ·å¼æ³•</h3>
<p>å¦‚æœç»„ä»¶éœ€è¦åœ¨å¤šä¸ªåœ°æ–¹å¤ç”¨ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å…¨å±€æ ·å¼ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;el-drawer
    v-model="visible"
    class="custom-drawer"
    title="æŠ½å±‰æ ‡é¢˜"
  &gt;
    &lt;!-- æŠ½å±‰å†…å®¹ --&gt;
  &lt;/el-drawer&gt;
&lt;/template&gt;

&lt;style&gt;
/* æ³¨æ„ï¼šè¿™é‡Œæ²¡æœ‰ scoped */
.custom-drawer {
  border-radius: 8px;
}

.custom-drawer .el-drawer__header {
  background: #f0f0f0;
}

.custom-drawer .el-drawer__body {
  padding: 20px;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-13">æ–¹æ¡ˆä¸‰ï¼šCSS Modules æ–¹æ¡ˆ</h3>
<p>ä½¿ç”¨ CSS Modules å¯ä»¥é¿å…æ ·å¼å†²çªï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;el-drawer
    v-model="visible"
    :class="$style.customDrawer"
    title="æŠ½å±‰æ ‡é¢˜"
  &gt;
    &lt;!-- æŠ½å±‰å†…å®¹ --&gt;
  &lt;/el-drawer&gt;
&lt;/template&gt;

&lt;style module&gt;
.customDrawer {
  border-radius: 8px;
}

.customDrawer :global(.el-drawer__header) {
  background: #f0f0f0;
}

.customDrawer :global(.el-drawer__body) {
  padding: 20px;
}
&lt;/style&gt;
</code></pre>
<h2 data-id="heading-14">æœ€ä½³å®è·µå»ºè®®</h2>
<h3 data-id="heading-15">1. ç»„ä»¶ç»“æ„è®¾è®¡åŸåˆ™</h3>
<ul>
<li><strong>é¿å…ç›´æ¥æš´éœ²ç¬¬ä¸‰æ–¹ç»„ä»¶</strong>ï¼šå°½é‡ç”¨å®¹å™¨å…ƒç´ åŒ…è£…ç¬¬ä¸‰æ–¹ç»„ä»¶</li>
<li><strong>ä¿æŒç»„ä»¶å±‚çº§æ¸…æ™°</strong>ï¼šæ¯ä¸ªç»„ä»¶éƒ½åº”è¯¥æœ‰æ˜ç¡®çš„æ ¹å®¹å™¨</li>
<li><strong>è€ƒè™‘æ ·å¼å¤ç”¨æ€§</strong>ï¼šè®¾è®¡æ—¶è€ƒè™‘æ ·å¼æ˜¯å¦éœ€è¦åœ¨å¤šä¸ªåœ°æ–¹å¤ç”¨</li>
</ul>
<h3 data-id="heading-16">2. scoped CSS ä½¿ç”¨æŠ€å·§</h3>
<ul>
<li><strong>åˆç†ä½¿ç”¨ <code>:deep()</code></strong>ï¼šåªåœ¨å¿…è¦æ—¶ä½¿ç”¨æ·±åº¦é€‰æ‹©å™¨</li>
<li><strong>é€‰æ‹©å™¨ç‰¹å¼‚æ€§å¹³è¡¡</strong>ï¼šé¿å…è¿‡åº¦ä¾èµ– <code>!important</code></li>
<li><strong>æ ·å¼éš”ç¦»ä¼˜å…ˆ</strong>ï¼šä¼˜å…ˆä½¿ç”¨ scoped æ ·å¼ï¼Œå¿…è¦æ—¶æ‰ä½¿ç”¨å…¨å±€æ ·å¼</li>
</ul>
<h3 data-id="heading-17">3. ç¬¬ä¸‰æ–¹ç»„ä»¶é›†æˆç­–ç•¥</h3>
<ul>
<li><strong>äº†è§£ç»„ä»¶å†…éƒ¨æœºåˆ¶</strong>ï¼šä½¿ç”¨å‰äº†è§£ç¬¬ä¸‰æ–¹ç»„ä»¶çš„ DOM ç»“æ„</li>
<li><strong>å»ºç«‹ç»„ä»¶åŒ…è£…å±‚</strong>ï¼šä¸ºç¬¬ä¸‰æ–¹ç»„ä»¶åˆ›å»ºåŒ…è£…ç»„ä»¶</li>
<li><strong>æ–‡æ¡£åŒ–æ ·å¼å®šåˆ¶</strong>ï¼šè®°å½•æ ·å¼å®šåˆ¶çš„æœ€ä½³å®è·µ</li>
</ul>
<h3 data-id="heading-18">4. å¼€å‘è°ƒè¯•æŠ€å·§</h3>
<ul>
<li><strong>ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·</strong>ï¼šæ£€æŸ¥å®é™…çš„ DOM ç»“æ„å’Œ CSS é€‰æ‹©å™¨</li>
<li><strong>å…³æ³¨ç¼–è¯‘åçš„ä»£ç </strong>ï¼šäº†è§£ Vue ç¼–è¯‘å™¨å¦‚ä½•å¤„ç† scoped CSS</li>
<li><strong>å»ºç«‹æ ·å¼æµ‹è¯•</strong>ï¼šä¸ºå…³é”®æ ·å¼å»ºç«‹æµ‹è¯•ç”¨ä¾‹</li>
</ul>
<h2 data-id="heading-19">æ€»ç»“</h2>
<p>Vue scoped CSS ä¸ Element Plus Drawer çš„æ ·å¼é—®é¢˜ï¼Œæœ¬è´¨ä¸Šæ˜¯ç”± Vue çš„æ ·å¼éš”ç¦»æœºåˆ¶ä¸ç¬¬ä¸‰æ–¹ç»„ä»¶çš„å†…éƒ¨å®ç°ä¹‹é—´çš„å†²çªé€ æˆçš„ã€‚é€šè¿‡æ·»åŠ å®¹å™¨å…ƒç´ ï¼Œæˆ‘ä»¬ä¸º scoped CSS æä¾›äº†æ­£ç¡®çš„å±æ€§æ‰¿è½½ä¸Šä¸‹æ–‡ï¼Œä»è€Œè§£å†³äº†æ ·å¼åŒ¹é…é—®é¢˜ã€‚</p>
<p>è¿™ä¸ªé—®é¢˜çš„è§£å†³è¿‡ç¨‹å‘Šè¯‰æˆ‘ä»¬ï¼š</p>
<ol>
<li><strong>ç†è§£åº•å±‚æœºåˆ¶å¾ˆé‡è¦</strong>ï¼šæ·±å…¥äº†è§£ Vue å’Œç¬¬ä¸‰æ–¹ç»„ä»¶çš„å·¥ä½œåŸç†</li>
<li><strong>ç®€å•çš„è§£å†³æ–¹æ¡ˆå¾€å¾€æœ‰æ•ˆ</strong>ï¼šæ·»åŠ å®¹å™¨å…ƒç´ æ˜¯æœ€ç®€å•æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆ</li>
<li><strong>è®¾è®¡æ—¶éœ€è¦è€ƒè™‘æ‰©å±•æ€§</strong>ï¼šè‰¯å¥½çš„ç»„ä»¶è®¾è®¡å¯ä»¥é¿å…åç»­çš„æ ·å¼é—®é¢˜</li>
<li><strong>æ–‡æ¡£åŒ–ç»éªŒå¾ˆé‡è¦</strong>ï¼šå°†é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆè®°å½•ä¸‹æ¥ï¼Œé¿å…é‡å¤è¸©å‘</li>
</ol>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¤Ÿå¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°ç†è§£ Vue scoped CSS çš„å·¥ä½œæœºåˆ¶ï¼Œå¹¶åœ¨å®é™…å¼€å‘ä¸­é¿å…ç±»ä¼¼çš„æ ·å¼é—®é¢˜ã€‚</p>
<h2 data-id="heading-20">å‚è€ƒèµ„æº</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fvuejs.org%2Fapi%2Fsfc-css-features.html%23scoped-css" target="_blank" title="https://vuejs.org/api/sfc-css-features.html#scoped-css" ref="nofollow noopener noreferrer">Vue 3 å®˜æ–¹æ–‡æ¡£ - Scoped CSS</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Felement-plus.org%2F" target="_blank" title="https://element-plus.org/" ref="nofollow noopener noreferrer">Element Plus å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FCSS%2FSpecificity" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Specificity" ref="nofollow noopener noreferrer">CSS ç‰¹å¼‚æ€§è®¡ç®—è§„åˆ™</a></li>
</ul>
<hr/>
<p><em>æœ¬æ–‡åŸºäºå®é™…é¡¹ç›®ä¸­çš„é—®é¢˜æ€»ç»“è€Œæˆï¼Œå¦‚æœ‰ä¸å½“ä¹‹å¤„ï¼Œæ¬¢è¿æŒ‡æ­£å’Œè®¨è®ºã€‚</em></p>
<p>æ–‡ç« æœ€åï¼Œç»™å¤§å®¶ä»‹ç»ä¸€ä¸‹ä¸ªäººåšå®¢ç½‘ç«™ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fsanmu7.com%2F" target="_blank" title="https://sanmu7.com/" ref="nofollow noopener noreferrer">åæœ¨ã®å°å±‹</a>ã€‚æ¬¢è¿å„ä½æ§åœºã€‚ç¬”èŠ¯â¤ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript æ•°ç»„ï¼šä»å†…å­˜å¸ƒå±€åˆ°éå†ç­–ç•¥çš„æ·±åº¦è§£æ]]></title>    <link>https://juejin.cn/post/7571648135585169451</link>    <guid>https://juejin.cn/post/7571648135585169451</guid>    <pubDate>2025-11-12T11:59:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571648135585169451" data-draft-id="7571648135585136683" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScript æ•°ç»„ï¼šä»å†…å­˜å¸ƒå±€åˆ°éå†ç­–ç•¥çš„æ·±åº¦è§£æ"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2025-11-12T11:59:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Zyx2007"/> <meta itemprop="url" content="https://juejin.cn/user/3924597867554890"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScript æ•°ç»„ï¼šä»å†…å­˜å¸ƒå±€åˆ°éå†ç­–ç•¥çš„æ·±åº¦è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3924597867554890/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Zyx2007
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T11:59:16.000Z" title="Wed Nov 12 2025 11:59:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€ï¼šæ•°ç»„ä¸ºä½•â€œå¼€ç®±å³ç”¨â€ï¼Ÿ</h2>
<p>åœ¨ JavaScript å¼€å‘ä¸­ï¼Œæ•°ç»„ï¼ˆArrayï¼‰æ˜¯æœ€å¸¸ç”¨ã€æœ€ç›´è§‚çš„æ•°æ®ç»“æ„ã€‚æˆ‘ä»¬å‡ ä¹æ¯å¤©éƒ½åœ¨å†™ <code>const arr = [1, 2, 3]</code>ï¼Œå´å¾ˆå°‘æ€è€ƒï¼šè¿™ä¸ªçœ‹ä¼¼ç®€å•çš„ç»“æ„èƒŒåï¼Œç©¶ç«Ÿéšè—ç€æ€æ ·çš„å†…å­˜æœºåˆ¶ä¸æ€§èƒ½æƒè¡¡ï¼Ÿä¸ºä»€ä¹ˆè¯´æ•°ç»„æ˜¯â€œå¼€ç®±å³ç”¨â€çš„æ•°æ®ç»“æ„ï¼Ÿå®ƒä¸é“¾è¡¨ç›¸æ¯”æœ‰ä½•ä¼˜åŠ£ï¼Ÿä¸åŒçš„éå†æ–¹å¼åˆå¦‚ä½•å½±å“ç¨‹åºæ•ˆç‡ï¼Ÿ</p>
<p>æœ¬æ–‡å°†ä»<strong>å†…å­˜åˆ†é…ã€åŠ¨æ€æ‰©å®¹ã€éå†æ–¹æ³•</strong>ä¸‰ä¸ªç»´åº¦ï¼Œæ·±å…¥å‰–æ JavaScript æ•°ç»„çš„æœ¬è´¨ï¼Œå¹¶ç»“åˆå®é™…ä»£ç ï¼Œæ­ç¤ºé«˜æ•ˆä½¿ç”¨æ•°ç»„çš„æœ€ä½³å®è·µã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€æ•°ç»„çš„å†…å­˜æ¨¡å‹ï¼šæ ˆä¸å †çš„åä½œ</h2>
<h3 data-id="heading-2">1.1 å¼•ç”¨ç±»å‹ vs å€¼ç±»å‹</h3>
<p>åœ¨ JavaScript ä¸­ï¼Œæ•°ç»„å±äº<strong>å¼•ç”¨ç±»å‹</strong>ã€‚å½“æˆ‘ä»¬å£°æ˜ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">arr</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<span class="hljs-comment">;</span>
</code></pre>
<p>å®é™…ä¸Šå‘ç”Ÿäº†ä¸¤ä»¶äº‹ï¼š</p>
<ul>
<li><strong>æ ˆå†…å­˜</strong>ä¸­å­˜å‚¨å˜é‡ <code>arr</code>ï¼Œå…¶å€¼æ˜¯ä¸€ä¸ª<strong>æŒ‡å‘å †å†…å­˜çš„å¼•ç”¨åœ°å€</strong></li>
<li><strong>å †å†…å­˜</strong>ä¸­åˆ†é…ä¸€å—è¿ç»­ç©ºé—´ï¼Œå­˜æ”¾ <code>[1, 2, 3]</code> çš„å®é™…æ•°æ®</li>
</ul>
<p>è¿™ç§è®¾è®¡ä½¿å¾—å¤šä¸ªå˜é‡å¯ä»¥å…±äº«åŒä¸€æ•°ç»„ï¼ˆé€šè¿‡å¼•ç”¨ï¼‰ï¼Œä¹Ÿè§£é‡Šäº†ä¸ºä½•ä¿®æ”¹ä¸€ä¸ªå¼•ç”¨ä¼šå½±å“æ‰€æœ‰æŒ‡å‘å®ƒçš„å˜é‡ã€‚</p>
<h3 data-id="heading-3">1.2 æ•°ç»„çš„åˆ›å»ºæ–¹å¼ä¸åˆå§‹åŒ–</h3>
<p>JS æä¾›å¤šç§åˆ›å»ºæ•°ç»„çš„æ–¹å¼ï¼Œä½†æ•ˆæœæˆªç„¶ä¸åŒï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];               <span class="hljs-comment">// å­—é¢é‡ï¼šå…ƒç´ å’Œé•¿åº¦å‡ç¡®å®š</span>
<span class="hljs-keyword">const</span> arr2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">3</span>);            <span class="hljs-comment">// é•¿åº¦ä¸º3ï¼Œä½†å†…å®¹ä¸º emptyï¼ˆç¨€ç–æ•°ç»„ï¼‰</span>
<span class="hljs-keyword">const</span> arr3 = (<span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">3</span>)).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>);  <span class="hljs-comment">// é•¿åº¦ä¸º3ï¼Œæ¯ä¸ªå…ƒç´ åˆå§‹åŒ–ä¸º0</span>
</code></pre>
<p>ç‰¹åˆ«æ³¨æ„ï¼š<code>new Array(3)</code> åˆ›å»ºçš„æ˜¯ä¸€ä¸ª<strong>ç¨€ç–æ•°ç»„ï¼ˆsparse arrayï¼‰</strong> ï¼Œå…¶å†…éƒ¨å¹¶æœªçœŸæ­£åˆ†é…ä¸‰ä¸ªå€¼ä¸º <code>undefined</code> çš„æ§½ä½ï¼Œè€Œæ˜¯ä»…è®°å½•é•¿åº¦ã€‚è¿™åœ¨æŸäº›éå†æ–¹æ³•ï¼ˆå¦‚ <code>forEach</code>ï¼‰ä¸­ä¼šå¯¼è‡´è·³è¿‡è¿™äº›â€œç©ºæ´â€ã€‚</p>
<p>è€Œ <code>fill(0)</code> åˆ™ç¡®ä¿æ¯ä¸ªä½ç½®éƒ½è¢«æ˜¾å¼èµ‹å€¼ï¼Œé¿å…æ„å¤–è¡Œä¸ºã€‚</p>
<hr/>
<h2 data-id="heading-4">äºŒã€åŠ¨æ€æ‰©å®¹ï¼šä¾¿åˆ©èƒŒåçš„ä»£ä»·</h2>
<h3 data-id="heading-5">2.1 è¿ç»­å†…å­˜çš„ä¼˜åŠ¿ä¸å±€é™</h3>
<p>æ•°ç»„çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äº<strong>è¿ç»­å†…å­˜å¸ƒå±€</strong>ï¼Œè¿™ä½¿å¾—é€šè¿‡ç´¢å¼•è®¿é—®å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ä¸º <strong>O(1)</strong> â€”â€”æ— è®ºæ•°ç»„å¤šå¤§ï¼Œ<code>arr[1000]</code> éƒ½èƒ½ç¬é—´å®šä½ã€‚</p>
<p>ç„¶è€Œï¼Œè¿ç»­æ€§ä¹Ÿå¸¦æ¥äº†æŒ‘æˆ˜ï¼š<strong>å½“æ•°ç»„å®¹é‡ä¸è¶³æ—¶ï¼Œå¿…é¡»æ‰©å®¹</strong>ã€‚</p>
<p>JavaScript å¼•æ“ï¼ˆå¦‚ V8ï¼‰é‡‡ç”¨ä»¥ä¸‹ç­–ç•¥ï¼š</p>
<ol>
<li>ç”³è¯·ä¸€å—æ›´å¤§çš„è¿ç»­å†…å­˜ï¼ˆé€šå¸¸æŒ‰å€æ•°å¢é•¿ï¼Œå¦‚ 1.5 å€ï¼‰</li>
<li>å°†åŸæ•°ç»„æ‰€æœ‰å…ƒç´ <strong>é€ä¸ªå¤åˆ¶</strong>åˆ°æ–°å†…å­˜</li>
<li>é‡Šæ”¾æ—§å†…å­˜</li>
</ol>
<p>è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºâ€œ<strong>æ¬å®¶</strong>â€ï¼Œè™½ç„¶å¯¹å¼€å‘è€…é€æ˜ï¼Œä½†<strong>å¼€é”€è¾ƒå¤§</strong>â€”â€”å°¤å…¶åœ¨é¢‘ç¹ push å¤§é‡å…ƒç´ æ—¶ã€‚</p>
<h3 data-id="heading-6">2.2 æ•°ç»„ vs é“¾è¡¨ï¼šåŠ¨æ€æ€§çš„æƒè¡¡</h3>
<p>ç¬”è®°ä¸­æåˆ°ï¼šâ€œè€ƒè™‘åŠ¨æ€æ€§æ—¶ï¼Œæ•°ç»„æ¯”é“¾è¡¨å·®â€ã€‚è¿™æ˜¯å› ä¸ºåœ¨é“¾è¡¨ä¸­ï¼š</p>
<ul>
<li>æ’å…¥/åˆ é™¤åªéœ€ä¿®æ”¹æŒ‡é’ˆï¼Œæ— éœ€ç§»åŠ¨æ•°æ®</li>
<li>å†…å­˜å¯ç¦»æ•£åˆ†å¸ƒï¼Œæ— æ‰©å®¹å‹åŠ›</li>
</ul>
<p>ä½†é“¾è¡¨ä¹Ÿæœ‰è‡´å‘½ç¼ºç‚¹ï¼š</p>
<ul>
<li>è®¿é—®ä»»æ„å…ƒç´ éœ€ä»å¤´éå†ï¼Œæ—¶é—´å¤æ‚åº¦ O(n)</li>
<li>æ¯ä¸ªèŠ‚ç‚¹éœ€é¢å¤–å­˜å‚¨æŒ‡é’ˆï¼Œå†…å­˜å¼€é”€æ›´å¤§</li>
</ul>
<p>å› æ­¤ï¼Œåœ¨<strong>æ•°æ®é‡è¾ƒå°ã€è¯»å¤šå†™å°‘</strong>çš„åœºæ™¯ä¸‹ï¼Œæ•°ç»„å‡­å€Ÿå…¶ç¼“å­˜å‹å¥½æ€§å’Œå¿«é€Ÿéšæœºè®¿é—®ï¼Œä»æ˜¯æ›´ä¼˜é€‰æ‹©ã€‚</p>
<blockquote>
<p>æ­£å¦‚ç¬”è®°æ‰€è¨€ï¼šâ€œå°‘æ•°æ•°æ®çš„æƒ…å†µä¸‹ï¼Œæ•°ç»„æ˜¯æ›´åŠ ä¼˜ç§€çš„ã€‚â€</p>
</blockquote>
<hr/>
<h2 data-id="heading-7">ä¸‰ã€éå†ç­–ç•¥ï¼šæ€§èƒ½ä¸å¯è¯»æ€§çš„å¹³è¡¡</h2>
<p>JavaScript æä¾›å¤šç§æ•°ç»„éå†æ–¹å¼ï¼Œå„æœ‰é€‚ç”¨åœºæ™¯ï¼š</p>
<h3 data-id="heading-8">3.1 è®¡æ•°å¾ªç¯ï¼ˆforï¼‰</h3>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">len</span> = arr.length<span class="hljs-comment">;</span>
for (let <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; len; i++) {</span>
    console.log(arr<span class="hljs-section">[i]</span>)<span class="hljs-comment">;</span>
}
</code></pre>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>æ€§èƒ½æœ€ä½³ï¼šæ— å‡½æ•°è°ƒç”¨å¼€é”€ï¼ŒCPU å‹å¥½</li>
<li>æ”¯æŒ <code>break</code> å’Œ <code>continue</code></li>
</ul>
<p><strong>æ³¨æ„</strong>ï¼šåº”ç¼“å­˜ <code>arr.length</code>ï¼Œé¿å…æ¯æ¬¡å¾ªç¯éƒ½è®¿é—®å¯¹è±¡å±æ€§ï¼ˆè™½ç°ä»£å¼•æ“å·²ä¼˜åŒ–ï¼Œä½†ä»æ˜¯è‰¯å¥½ä¹ æƒ¯ï¼‰ã€‚</p>
<h3 data-id="heading-9">3.2 for...of</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> arr) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(item);
}
</code></pre>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>å¯è¯»æ€§å¼ºï¼šç›´æ¥è·å–å…ƒç´ å€¼ï¼Œæ— éœ€ç´¢å¼•</li>
<li>æ”¯æŒ <code>break</code>/<code>continue</code></li>
<li>å…¼å®¹æ‰€æœ‰å¯è¿­ä»£å¯¹è±¡ï¼ˆåŒ…æ‹¬å­—ç¬¦ä¸²ã€Set ç­‰ï¼‰</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šåªéœ€å…ƒç´ å€¼ï¼Œä¸å…³å¿ƒç´¢å¼•æ—¶ã€‚</p>
<h3 data-id="heading-10">3.3 forEach</h3>
<pre><code class="hljs language-javascript" lang="javascript">arr.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(item, index);
});
</code></pre>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>è¯­ä¹‰æ¸…æ™°ï¼šæ˜ç¡®è¡¨è¾¾â€œå¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡Œæ“ä½œâ€</li>
<li>è‡ªåŠ¨å¤„ç†ç¨€ç–æ•°ç»„ï¼ˆè·³è¿‡ empty slotsï¼‰</li>
</ul>
<p><strong>ç¼ºç‚¹</strong>ï¼š</p>
<ul>
<li><strong>æ— æ³•ä½¿ç”¨ <code>break</code> æˆ– <code>continue</code></strong>ï¼ˆä¼šæŠ¥é”™ï¼‰</li>
<li>å‡½æ•°è°ƒç”¨å¸¦æ¥é¢å¤–å¼€é”€ï¼ˆå…¥æ ˆ/å‡ºæ ˆï¼‰</li>
<li>æ€§èƒ½ä½äº for å¾ªç¯</li>
</ul>
<blockquote>
<p>å› æ­¤ï¼Œ<strong>æ€§èƒ½æ•æ„Ÿåœºæ™¯åº”é¿å… forEach</strong>ã€‚</p>
</blockquote>
<h3 data-id="heading-11">3.4 for...in çš„é™·é˜±</h3>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> <span class="hljs-keyword">key</span> <span class="hljs-keyword">in</span> arr) {
    console.log(<span class="hljs-keyword">key</span>, arr[<span class="hljs-keyword">key</span>]);
}
</code></pre>
<p>è™½ç„¶æ•°ç»„æ˜¯å¯¹è±¡ï¼Œ<code>for...in</code> èƒ½éå†å…¶ç´¢å¼•ï¼Œä½†å­˜åœ¨ä¸¥é‡é—®é¢˜ï¼š</p>
<ul>
<li>éå†çš„æ˜¯<strong>æ‰€æœ‰å¯æšä¸¾å±æ€§</strong>ï¼ŒåŒ…æ‹¬åŸå‹é“¾ä¸Šçš„ï¼ˆè‹¥æœªæ­£ç¡®è®¾ç½®ï¼‰</li>
<li>ç´¢å¼•ä»¥<strong>å­—ç¬¦ä¸²å½¢å¼</strong>è¿”å›ï¼ˆ"0", "1"ï¼‰</li>
<li>ä¸ä¿è¯é¡ºåºï¼ˆå°½ç®¡ç°ä»£å¼•æ“é€šå¸¸æŒ‰ç´¢å¼•é¡ºåºï¼‰</li>
</ul>
<p><strong>å¼ºçƒˆå»ºè®®</strong>ï¼šéå†æ•°ç»„æ—¶ä¸è¦ä½¿ç”¨ <code>for...in</code>ã€‚</p>
<hr/>
<h2 data-id="heading-12">å››ã€å®æˆ˜å»ºè®®ï¼šå¦‚ä½•é«˜æ•ˆä½¿ç”¨æ•°ç»„ï¼Ÿ</h2>
<h3 data-id="heading-13">4.1 åˆå§‹åŒ–æ—¶é¢„ä¼°å®¹é‡</h3>
<p>è‹¥å·²çŸ¥æ•°ç»„å¤§è‡´å¤§å°ï¼Œå¯é¢„å…ˆåˆ†é…ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">arr</span> = new Array(expectedSize).fill(<span class="hljs-number">0</span>)<span class="hljs-comment">;</span>
</code></pre>
<p>å‡å°‘åç»­æ‰©å®¹æ¬¡æ•°ã€‚</p>
<h3 data-id="heading-14">4.2 é€‰æ‹©åˆé€‚çš„éå†æ–¹å¼</h3>

























<table><thead><tr><th>éœ€æ±‚</th><th>æ¨èæ–¹æ³•</th></tr></thead><tbody><tr><td>æœ€é«˜æ€§èƒ½</td><td><code>for (let i=0; i&lt;len; i++)</code></td></tr><tr><td>åªéœ€å…ƒç´ å€¼</td><td><code>for...of</code></td></tr><tr><td>å‡½æ•°å¼é£æ ¼</td><td><code>map</code>, <code>filter</code>ï¼ˆä½†æ³¨æ„æ€§èƒ½ï¼‰</td></tr><tr><td>é¿å…</td><td><code>forEach</code>ï¼ˆéœ€ä¸­æ–­æ—¶ï¼‰ã€<code>for...in</code></td></tr></tbody></table>
<h3 data-id="heading-15">4.3 ç†è§£ map ä¸ forEach çš„åŒºåˆ«</h3>
<ul>
<li><code>forEach</code>ï¼šä»…éå†ï¼Œæ— è¿”å›å€¼</li>
<li><code>map</code>ï¼šéå†å¹¶<strong>è¿”å›æ–°æ•°ç»„</strong>ï¼Œç”¨äºæ•°æ®è½¬æ¢</li>
</ul>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">const</span> doubled = arr.<span class="hljs-built_in">map</span>(x =&gt; x * <span class="hljs-number">2</span>); <span class="hljs-comment">// [2,4,6,...]</span>
</code></pre>
<p>ä¸è¦ä¸ºäº†éå†è€Œæ»¥ç”¨ <code>map</code>â€”â€”è‹¥ä¸éœ€è¦æ–°æ•°ç»„ï¼Œç”¨ <code>forEach</code> æˆ– <code>for...of</code> æ›´åˆé€‚ã€‚</p>
<hr/>
<h2 data-id="heading-16">ç»“è¯­ï¼šç†è§£åº•å±‚ï¼Œæ–¹èƒ½é©¾é©­ä¸Šå±‚</h2>
<p>JavaScript æ•°ç»„çš„â€œç®€å•â€æ˜¯ç²¾å¿ƒè®¾è®¡çš„ç»“æœã€‚å®ƒåœ¨è¿ç»­å†…å­˜ã€åŠ¨æ€æ‰©å®¹ã€ä¸°å¯Œ API ä¹‹é—´å–å¾—äº†ç²¾å¦™å¹³è¡¡ï¼Œæˆä¸ºå¼€å‘è€…æœ€ä¿¡èµ–çš„å·¥å…·ä¹‹ä¸€ã€‚</p>
<blockquote>
<p>â€œå¼€ç®±å³ç”¨â€ä¸ç­‰äºâ€œæ— éœ€æ€è€ƒâ€ã€‚<br/>
å¯¹æ•°æ®ç»“æ„çš„æ•¬ç•ï¼Œæ˜¯å†™å‡ºé«˜æ•ˆã€å¯é ä»£ç çš„ç¬¬ä¸€æ­¥ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CSS å®šä½ç³»ç»Ÿå…¨è§£æï¼šä»æ–‡æ¡£æµåˆ° sticky çš„å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7571693273728040996</link>    <guid>https://juejin.cn/post/7571693273728040996</guid>    <pubDate>2025-11-12T12:23:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571693273728040996" data-draft-id="7571657746346131510" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CSS å®šä½ç³»ç»Ÿå…¨è§£æï¼šä»æ–‡æ¡£æµåˆ° sticky çš„å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="CSS"/> <meta itemprop="datePublished" content="2025-11-12T12:23:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Zyx2007"/> <meta itemprop="url" content="https://juejin.cn/user/3924597867554890"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CSS å®šä½ç³»ç»Ÿå…¨è§£æï¼šä»æ–‡æ¡£æµåˆ° sticky çš„å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3924597867554890/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Zyx2007
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T12:23:59.000Z" title="Wed Nov 12 2025 12:23:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€ï¼šå¸ƒå±€çš„åŸºçŸ³â€”â€”ç†è§£â€œæ–‡æ¡£æµâ€</h2>
<p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œé¡µé¢å…ƒç´ å¦‚ä½•æ’åˆ—ï¼Ÿä¸ºä½•æœ‰çš„å…ƒç´ ä¼šâ€œæ¼‚æµ®â€èµ·æ¥ï¼Œè€Œæœ‰çš„å§‹ç»ˆæŒ‰é¡ºåºå †å ï¼Ÿè¿™ä¸€åˆ‡çš„ç­”æ¡ˆï¼Œéƒ½è—åœ¨ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µä¸­â€”â€”<strong>æ–‡æ¡£æµï¼ˆDocument Flowï¼‰</strong> ã€‚</p>
<p>æ–‡æ¡£æµæ˜¯ HTML å…ƒç´ åœ¨é¡µé¢ä¸­çš„é»˜è®¤å¸ƒå±€æ–¹å¼ï¼šå—çº§å…ƒç´ å‚ç›´æ’åˆ—ï¼Œè¡Œå†…å…ƒç´ æ°´å¹³æ’åˆ—ï¼Œæ•´ä½“éµå¾ªâ€œä»ä¸Šåˆ°ä¸‹ã€ä»å·¦åˆ°å³â€çš„è‡ªç„¶é¡ºåºã€‚æ¯ä¸ªå…ƒç´ é»˜è®¤é‡‡ç”¨ <strong><code>position: static</code></strong>ï¼ˆé™æ€å®šä½ï¼‰ï¼Œä¹–ä¹–å¾…åœ¨è‡ªå·±çš„ä½ç½®ä¸Šï¼Œæ—¢ä¸å½±å“åˆ«äººï¼Œä¹Ÿä¸è¢«åˆ«äººå½±å“ã€‚</p>
<p>ç„¶è€Œï¼Œä¸€æ—¦æˆ‘ä»¬å¼•å…¥ CSS å®šä½ï¼ˆ<code>position</code>ï¼‰ï¼Œå…ƒç´ å°±å¯èƒ½<strong>ç¦»å¼€æˆ–éƒ¨åˆ†è„±ç¦»æ–‡æ¡£æµ</strong>ï¼Œä»è€Œå®ç°å¤æ‚å¸ƒå±€ã€‚æœ¬æ–‡å°†ç»“åˆä»£ç å®ä¾‹ï¼Œæ·±å…¥å‰–æ <code>relative</code>ã€<code>absolute</code>ã€<code>fixed</code>ã€<code>sticky</code> å››ç§å®šä½æ–¹å¼çš„æœ¬è´¨åŒºåˆ«ã€ä½¿ç”¨åœºæ™¯ä¸å¸¸è§é™·é˜±ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€relativeï¼šç›¸å¯¹å®šä½ï¼Œä¸ç¦»ä¸å¼ƒ</h2>
<h3 data-id="heading-2">1.1 è¡Œä¸ºç‰¹å¾</h3>
<p><code>position: relative</code> æ˜¯æœ€æ¸©å’Œçš„å®šä½æ–¹å¼ã€‚å®ƒè®©å…ƒç´ <strong>ç›¸å¯¹äºè‡ªèº«åŸå§‹ä½ç½®è¿›è¡Œåç§»</strong>ï¼Œä½†å…³é”®åœ¨äºï¼š<strong>å®ƒä»ç„¶å æ®æ–‡æ¡£æµä¸­çš„åŸå§‹ç©ºé—´</strong>ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- 1.html --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"parent"</span>&gt;</span> <span class="hljs-comment">&lt;!-- pink, 500x500 --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"child"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> <span class="hljs-comment">&lt;!-- skyblue --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> <span class="hljs-comment">&lt;!-- green --&gt;</span>
</code></pre>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.parent</span> {
  <span class="hljs-attribute">position</span>: relative;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">100px</span>;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">100px</span>;
}
</code></pre>
<p>æ•ˆæœï¼š</p>
<ul>
<li><code>.parent</code> è§†è§‰ä¸Šå‘å³ä¸‹ç§»åŠ¨äº† 100px</li>
<li>ä½† <code>.box</code>ï¼ˆç»¿è‰²æ–¹å—ï¼‰ä¾ç„¶ç´§è´´åœ¨ <code>.parent</code> <strong>åŸå§‹ä½ç½®çš„ä¸‹æ–¹</strong>ï¼Œä»¿ä½› <code>.parent</code> æ²¡åŠ¨è¿‡</li>
</ul>
<p>è¿™è¯´æ˜ï¼š<strong>relative ä¸è„±ç¦»æ–‡æ¡£æµ</strong>ï¼Œåç»­å…ƒç´ ä»æŒ‰æ ‡å‡†æµå¯¹å¾…å®ƒã€‚</p>
<h3 data-id="heading-3">1.2 å®æˆ˜ä»·å€¼</h3>
<ul>
<li>ä½œä¸º <code>absolute</code> å­å…ƒç´ çš„<strong>å®šä½ä¸Šä¸‹æ–‡å®¹å™¨</strong></li>
<li>å¾®è°ƒå…ƒç´ ä½ç½®è€Œä¸ç ´åæ•´ä½“å¸ƒå±€</li>
<li>é…åˆ <code>z-index</code> æ§åˆ¶å±‚å é¡ºåº</li>
</ul>
<blockquote>
<p>ç¬”è®°æé†’ï¼šâ€œç”¨ <code>static</code> å¯å–æ¶ˆå…ƒç´ çš„å®šä½å±æ€§â€â€”â€”è¿™åœ¨åŠ¨æ€åˆ‡æ¢å¸ƒå±€æ—¶éå¸¸æœ‰ç”¨ï¼ˆå¦‚ 1.html ä¸­ 5 ç§’åæ¢å¤ staticï¼‰ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-4">äºŒã€absoluteï¼šç»å¯¹å®šä½ï¼Œå½»åº•è„±ç¦»</h2>
<h3 data-id="heading-5">2.1 è„±ç¦»æ–‡æ¡£æµ</h3>
<p><code>position: absolute</code> ä¼šè®©å…ƒç´ <strong>å®Œå…¨è„±ç¦»æ–‡æ¡£æµ</strong>ã€‚è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li>åŸå§‹ä½ç½®ä¸å†è¢«å æ®</li>
<li>åç»­å…ƒç´ ä¼šâ€œæ— è§†â€å®ƒï¼Œç›´æ¥å¡«è¡¥å…¶ç©ºç¼º</li>
</ul>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- 2.html --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"parent"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"child"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> <span class="hljs-comment">&lt;!-- absolute --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>123<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>456<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p><code>.child</code> ä½¿ç”¨ <code>absolute</code> åï¼Œ<code>&lt;div&gt;123&lt;/div&gt;</code> å’Œ <code>&lt;div&gt;456&lt;/div&gt;</code> çš„æ’å¸ƒä¸å—å…¶å½±å“ã€‚</p>
<h3 data-id="heading-6">2.2 å®šä½å‚è€ƒç‚¹ï¼šå¯»æ‰¾â€œæœ€è¿‘çš„å®šä½ç¥–å…ˆâ€</h3>
<p>ç»å¯¹å®šä½çš„å…ƒç´ ä¸ä¼šå‡­ç©ºå®šä½ï¼Œå®ƒéœ€è¦ä¸€ä¸ª<strong>å‚è€ƒåæ ‡ç³»</strong>ã€‚è§„åˆ™å¦‚ä¸‹ï¼š</p>
<ol>
<li>å‘ä¸ŠæŸ¥æ‰¾çˆ¶å…ƒç´ ï¼Œå¯»æ‰¾ç¬¬ä¸€ä¸ª <code>position</code> <strong>ä¸ä¸º <code>static</code></strong> çš„ç¥–å…ˆ</li>
<li>è‹¥æ‰¾åˆ°ï¼Œåˆ™ä»¥è¯¥ç¥–å…ˆçš„<strong>è¾¹æ¡†ç›’ï¼ˆborder boxï¼‰</strong> ä¸ºå‚è€ƒ</li>
<li>è‹¥æœªæ‰¾åˆ°ï¼Œåˆ™ä»¥ <code>&lt;body&gt;</code> ä¸ºå‚è€ƒ</li>
</ol>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.parent</span> { <span class="hljs-attribute">position</span>: relative; } <span class="hljs-comment">/* æˆä¸º .child çš„å®šä½ä¸Šä¸‹æ–‡ */</span>
<span class="hljs-selector-class">.child</span> {
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">100px</span>;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">100px</span>; <span class="hljs-comment">/* ç›¸å¯¹äº .parent å†…éƒ¨åç§» */</span>
}
</code></pre>
<p>è‹¥ <code>.parent</code> æ²¡æœ‰è®¾ç½® <code>position: relative</code>ï¼Œ<code>.child</code> å°†ç›¸å¯¹äºæ•´ä¸ªé¡µé¢å®šä½ã€‚</p>
<h3 data-id="heading-7">2.3 ç»å…¸åº”ç”¨ï¼šå±…ä¸­æŠ€å·§</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.box</span> {
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>, -<span class="hljs-number">50%</span>);
}
</code></pre>
<p>è¿™æ˜¯å®ç°<strong>ç»å¯¹å±…ä¸­</strong>çš„é»„é‡‘ç»„åˆï¼šå…ˆç§»åˆ°ä¸­å¿ƒç‚¹ï¼Œå†ç”¨ <code>transform</code> åå‘åç§»è‡ªèº«ä¸€åŠå°ºå¯¸ã€‚</p>
<hr/>
<h2 data-id="heading-8">ä¸‰ã€fixedï¼šå›ºå®šå®šä½ï¼Œé”å®šè§†å£</h2>
<h3 data-id="heading-9">3.1 ä»¥æµè§ˆå™¨çª—å£ä¸ºåŸºå‡†</h3>
<p><code>position: fixed</code> æ˜¯ <code>absolute</code> çš„â€œç‰¹æ®Šç‰ˆæœ¬â€â€”â€”å®ƒçš„å‚è€ƒç‚¹æ°¸è¿œæ˜¯<strong>æµè§ˆå™¨è§†å£ï¼ˆviewportï¼‰</strong> ï¼Œè€Œéä»»ä½•çˆ¶å…ƒç´ ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- 3.html --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"child"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"position: fixed; right: 100px; bottom: 100px;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>æ— è®ºé¡µé¢å¦‚ä½•æ»šåŠ¨ï¼Œè¯¥å…ƒç´ å§‹ç»ˆå›ºå®šåœ¨è·ç¦»å³ä¸‹è§’ 100px çš„ä½ç½®ã€‚</p>
<h3 data-id="heading-10">3.2 å®Œå…¨è„±ç¦»æ–‡æ¡£æµ</h3>
<p>å’Œ <code>absolute</code> ä¸€æ ·ï¼Œ<code>fixed</code> å…ƒç´ ï¼š</p>
<ul>
<li>ä¸å æ®åŸå§‹ç©ºé—´</li>
<li>åç»­å…ƒç´ ä¼šå¿½ç•¥å®ƒ</li>
<li>å¯èƒ½è¦†ç›–å…¶ä»–å†…å®¹ï¼ˆéœ€æ³¨æ„ <code>z-index</code>ï¼‰</li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼šåœ¨ç§»åŠ¨ç«¯ï¼ŒæŸäº›æµè§ˆå™¨å¯¹ <code>fixed</code> æ”¯æŒä¸ä½³ï¼ˆå°¤å…¶åœ¨è½¯é”®ç›˜å¼¹å‡ºæ—¶ï¼‰ï¼Œéœ€è°¨æ…ä½¿ç”¨ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-11">å››ã€stickyï¼šæ™ºèƒ½ç²˜è¿ï¼ŒåŠ¨é™ç»“åˆ</h2>
<h3 data-id="heading-12">4.1 hybrid å®šä½ï¼šrelative + fixed</h3>
<p><code>position: sticky</code> æ˜¯ CSS æœ€å…·æ™ºæ…§çš„å®šä½æ–¹å¼ã€‚å®ƒè¡¨ç°ä¸ºï¼š</p>
<ul>
<li><strong>é»˜è®¤è¡Œä¸ºåƒ <code>relative</code></strong>ï¼šåœ¨æ–‡æ¡£æµä¸­æ­£å¸¸å ä½</li>
<li><strong>å½“æ»šåŠ¨åˆ°é˜ˆå€¼æ—¶ï¼Œè¡Œä¸ºåƒ <code>fixed</code></strong>ï¼šå›ºå®šåœ¨è§†å£æŸå¤„</li>
</ul>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- 4.html --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"position: sticky; top: 100px;"</span>&gt;</span>hello world<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>æ•ˆæœï¼š</p>
<ul>
<li>é¡µé¢æœªæ»šåŠ¨æ—¶ï¼Œ<code>.box</code> åœ¨æ­£å¸¸ä½ç½®</li>
<li>å½“å…¶<strong>é¡¶éƒ¨è·ç¦»è§†å£é¡¶éƒ¨ â‰¤ 100px</strong> æ—¶ï¼Œè‡ªåŠ¨å˜ä¸º <code>fixed</code>ï¼Œå¸é™„åœ¨ <code>top: 100px</code> å¤„</li>
<li>å‘ä¸Šæ»šåŠ¨å›åŸä½ç½®æ—¶ï¼Œåˆæ¢å¤ä¸º <code>relative</code></li>
</ul>
<h3 data-id="heading-13">4.2 å¿…é¡»æŒ‡å®šé˜ˆå€¼</h3>
<p><code>sticky</code> å¿…é¡»é…åˆ <code>top</code>/<code>bottom</code>/<code>left</code>/<code>right</code> ä½¿ç”¨ï¼Œå¦åˆ™æ— æ•ˆã€‚æœ€å¸¸è§çš„æ˜¯ <code>top</code>ï¼ˆç”¨äºè¡¨å¤´ã€å¯¼èˆªæ å›ºå®šï¼‰ã€‚</p>
<h3 data-id="heading-14">4.3 çˆ¶å®¹å™¨é™åˆ¶</h3>
<p><code>sticky</code> å…ƒç´ çš„â€œå›ºå®šèŒƒå›´â€å—å…¶<strong>æœ€è¿‘çš„å…·æœ‰ overflow é visible çš„ç¥–å…ˆ</strong>é™åˆ¶ã€‚è‹¥çˆ¶å®¹å™¨é«˜åº¦ä¸è¶³ï¼Œå¯èƒ½æ— æ³• sticky åˆ°é¢„æœŸä½ç½®ã€‚</p>
<hr/>
<h2 data-id="heading-15">äº”ã€å¯¹æ¯”æ€»ç»“ï¼šä½•æ—¶ä½¿ç”¨å“ªç§å®šä½ï¼Ÿ</h2>









































<table><thead><tr><th>å®šä½ç±»å‹</th><th>æ˜¯å¦è„±ç¦»æ–‡æ¡£æµ</th><th>å‚è€ƒç‚¹</th><th>å…¸å‹ç”¨é€”</th></tr></thead><tbody><tr><td><code>static</code></td><td>å¦</td><td>â€”</td><td>é»˜è®¤çŠ¶æ€ï¼Œå–æ¶ˆå®šä½</td></tr><tr><td><code>relative</code></td><td>å¦</td><td>è‡ªèº«åŸå§‹ä½ç½®</td><td>å¾®è°ƒä½ç½®ï¼Œä½œä¸º absolute å®¹å™¨</td></tr><tr><td><code>absolute</code></td><td>æ˜¯</td><td>æœ€è¿‘çš„é static ç¥–å…ˆ</td><td>å¼¹çª—ã€tooltipã€è„±ç¦»æµçš„è£…é¥°å…ƒç´ </td></tr><tr><td><code>fixed</code></td><td>æ˜¯</td><td>æµè§ˆå™¨è§†å£</td><td>å¯¼èˆªæ ã€è¿”å›é¡¶éƒ¨æŒ‰é’®</td></tr><tr><td><code>sticky</code></td><td><strong>éƒ¨åˆ†</strong></td><td>è§†å£ï¼ˆæ»šåŠ¨æ—¶ï¼‰</td><td>è¡¨å¤´å›ºå®šã€ä¾§è¾¹ç›®å½•</td></tr></tbody></table>
<blockquote>
<p>ç‰¹åˆ«æ³¨æ„ï¼š<code>display: none</code> ä¸å®šä½æ— å…³â€”â€”å®ƒç›´æ¥<strong>ç§»é™¤å…ƒç´ </strong>ï¼Œä¸å ç©ºé—´ï¼›è€Œ <code>opacity: 0</code> ä»…éšè—è§†è§‰ï¼Œä»å ç©ºé—´ï¼ˆå¦‚ 2.html æ‰€ç¤ºï¼‰ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-16">å…­ã€é¿å‘æŒ‡å—ï¼šå¸¸è§è¯¯åŒº</h2>
<ol>
<li><strong>è¯¯ä»¥ä¸º relative ä¼šè…¾å‡ºç©ºé—´</strong><br/>
â†’ é”™ï¼å®ƒåªæ˜¯â€œè§†è§‰åç§»â€ï¼ŒåŸå§‹ä½ç½®ä»è¢«å æ®ã€‚</li>
<li><strong>absolute å…ƒç´ æ‰¾ä¸åˆ°å®šä½ç¥–å…ˆ</strong><br/>
â†’ ç»“æœä¼šç›¸å¯¹äº body å®šä½ï¼Œå¯¼è‡´å¸ƒå±€é”™ä¹±ã€‚åŠ¡å¿…æ£€æŸ¥çˆ¶å®¹å™¨æ˜¯å¦è®¾ç½®äº† <code>position: relative/absolute/fixed</code>ã€‚</li>
<li><strong>sticky ä¸ç”Ÿæ•ˆ</strong><br/>
â†’ æ£€æŸ¥æ˜¯å¦è®¾ç½®äº† <code>top</code> ç­‰é˜ˆå€¼ï¼›æ£€æŸ¥çˆ¶å®¹å™¨æ˜¯å¦æœ‰ <code>overflow: hidden</code> é™åˆ¶ã€‚</li>
<li><strong>æ»¥ç”¨ fixed å¯¼è‡´ç§»åŠ¨ç«¯ä½“éªŒå·®</strong><br/>
â†’ åœ¨ iOS Safari ç­‰ç¯å¢ƒä¸­ï¼Œfixed å…ƒç´ å¯èƒ½åœ¨è¾“å…¥æ¡†èšç„¦æ—¶é”™ä½ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-17">ç»“è¯­ï¼šå®šä½æ˜¯å¸ƒå±€çš„çµé­‚</h2>
<p>CSS å®šä½ç³»ç»Ÿçœ‹ä¼¼ç®€å•ï¼Œå®åˆ™è•´å«ç²¾å¦™çš„è®¾è®¡å“²å­¦ã€‚<code>relative</code> çš„å…‹åˆ¶ã€<code>absolute</code> çš„è‡ªç”±ã€<code>fixed</code> çš„åšå®šã€<code>sticky</code> çš„æ™ºèƒ½ï¼Œå…±åŒæ„æˆäº†ç°ä»£ Web å¸ƒå±€çš„å¼ºå¤§å·¥å…·é›†ã€‚</p>
<p>æŒæ¡å®ƒä»¬çš„å…³é”®ï¼Œåœ¨äºç†è§£<strong>æ–‡æ¡£æµ</strong>è¿™ä¸€åº•å±‚é€»è¾‘ã€‚åªæœ‰æ˜ç™½å…ƒç´ â€œåŸæœ¬åœ¨å“ªé‡Œâ€ï¼Œæ‰èƒ½ç²¾å‡†æ§åˆ¶å®ƒâ€œåº”è¯¥å»å“ªé‡Œâ€ã€‚</p>
<blockquote>
<p>æ­£å¦‚ç¬”è®°å¼€ç¯‡æ‰€é—®ï¼šâ€œç¦»å¼€æ–‡æ¡£æµï¼Ÿâ€â€”â€”ç­”æ¡ˆä¸æ˜¯ç®€å•çš„â€œæ˜¯â€æˆ–â€œå¦â€ï¼Œè€Œæ˜¯ï¼š<strong>æ ¹æ®éœ€æ±‚ï¼Œæ°åˆ°å¥½å¤„åœ°è„±ç¦»æˆ–ä¿ç•™</strong>ã€‚è¿™æ‰æ˜¯å‰ç«¯å¸ƒå±€çš„è‰ºæœ¯æ‰€åœ¨ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[WebSocketæŒ‡å—ï¼šä»åŸç†åˆ°ç”Ÿäº§ç¯å¢ƒå®æˆ˜]]></title>    <link>https://juejin.cn/post/7571650164843986978</link>    <guid>https://juejin.cn/post/7571650164843986978</guid>    <pubDate>2025-11-12T13:07:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571650164843986978" data-draft-id="7571655312799072282" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="WebSocketæŒ‡å—ï¼šä»åŸç†åˆ°ç”Ÿäº§ç¯å¢ƒå®æˆ˜"/> <meta itemprop="keywords" content="å‰ç«¯,WebSocket"/> <meta itemprop="datePublished" content="2025-11-12T13:07:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ZKshun"/> <meta itemprop="url" content="https://juejin.cn/user/4106030135654128"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            WebSocketæŒ‡å—ï¼šä»åŸç†åˆ°ç”Ÿäº§ç¯å¢ƒå®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4106030135654128/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ZKshun
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T13:07:16.000Z" title="Wed Nov 12 2025 13:07:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.7;font-weight:400;font-size:16px;overflow-x:hidden;color:#212122}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:8px;padding-bottom:8px}.markdown-body h1{color:#a0a0a0;font-size:38px;margin-top:32px;padding-top:32px}.markdown-body h2{color:#fff;background-color:#212122;width:fit-content;border-bottom-right-radius:100px;margin-top:47px;margin-bottom:16px;padding:4px 48px 4px 8px;line-height:1.7;font-size:30px;transition:all .3s ease-out}.markdown-body h2:hover{border-bottom-right-radius:50px;transition:all .3s ease-out}.markdown-body h3{font-size:24px;padding-left:8px;margin-top:32px;border-bottom:2px solid #c6c4c4;line-height:1.7}.markdown-body h4{font-size:20px;padding-left:8px;margin-top:32px;border-bottom:1px solid #ddd}.markdown-body h5{font-size:16px;margin-top:24px}.markdown-body h6{margin-top:16px;line-height:1.1}.markdown-body p{font-size:16px;text-align:start;white-space:normal;text-size-adjust:auto;line-height:2;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%;margin:auto;padding-left:8px;padding-right:8px}.markdown-body hr{border:none;border-top:4px double #212122;margin-top:32px;margin-bottom:32px;text-align:center}.markdown-body hr:after{content:"â™¥";display:inline-block;position:relative;top:-15px;padding:0 10px;color:#212122;font-size:18px}.markdown-body code{word-break:break-word;overflow-x:auto;background-color:#f1f1f1;color:#ef7060;font-size:14px;padding:.065em 6px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.7;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);margin:32px 16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-color:#212122;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);background-size:40px}.markdown-body pre&gt;code{font-size:14px;padding:16px 8px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#fff;background:#272822}.markdown-body pre&gt;code::-webkit-scrollbar{height:10px;background-color:#f5f5f5}.markdown-body pre&gt;code::-webkit-scrollbar-track{box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:3px;background-color:#f5f5f5}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{border-radius:3px;box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#555}.markdown-body a{color:#ef7060;padding:2px;text-decoration:none;border-bottom:.125em solid #ef7060;border-radius:2px;box-shadow:inset 0 -.025em 0 #ef7060;transition:box-shadow .27s cubic-bezier(.77,0,.175,1),color .27s cubic-bezier(.77,0,.175,1)}.markdown-body a:focus,.markdown-body a:hover{outline:none;box-shadow:inset 0 -1.5em 0 #ef7060;color:#fff}.markdown-body a:before{content:"â‡² ";vertical-align:top;margin-left:2px;font-family:dart!important;font-size:12px;color:inherit;opacity:.7}.markdown-body table{background:#fbfbfb;border-radius:4px;border-collapse:collapse;margin:auto;padding:5px;width:95%;box-shadow:0 5px 10px rgba(0,0,0,.1);animation:float 5s infinite}.markdown-body table th{color:#fff;background:#212122;border-bottom:1px solid #9ea7af;border-right:1px solid #343a45;font-size:18px;padding:16px;text-align:left;vertical-align:middle}.markdown-body table th:first-child{border-top-left-radius:4px}.markdown-body table th:last-child{border-top-right-radius:4px;border-right:none}.markdown-body table tr{border-top:1px solid #c1c3d1;border-bottom:1px solid #c1c3d1;color:#666b85}.markdown-body table tr:hover td{background:#212122;color:#fff;border-top:1px solid #22262e}.markdown-body table tr:first-child{border-top:none}.markdown-body table tr:last-child{border-bottom:none}.markdown-body table tr:nth-child(odd) td{background:#f1f1f1}.markdown-body table tr:nth-child(odd):hover td{background:#212122}.markdown-body table tr:last-child td:first-child{border-bottom-left-radius:4px}.markdown-body table tr:last-child td:last-child{border-bottom-right-radius:4px}.markdown-body table td{background:#fbfbfb;padding:16px;text-align:left;vertical-align:middle;font-size:16px;border-right:1px solid #c1c3d1}.markdown-body table td:last-child{border-right:0}.markdown-body blockquote{color:#777;padding:1px 16px;margin:24px 0;border-left:4px solid #c6c4c4;background-color:#f1f1f1;transition:all .3s ease-out;border-radius:4px}.markdown-body blockquote:hover{border-left-color:#212122;background-color:#212122;color:#fff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:24px}.markdown-body ol li,.markdown-body ul li{margin-bottom:6px;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body span.math{margin-left:32px;font-size:18px;font-weight:700}@media (max-width:720px){.markdown-body h1{font-size:30.4px}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:19.2px}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:12.8px}}</style><style data-highlight="" data-highlight-key="agate">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#333;color:#fff}.hljs-name,.hljs-strong{font-weight:700}.hljs-code,.hljs-emphasis{font-style:italic}.hljs-tag{color:#62c8f3}.hljs-selector-class,.hljs-selector-id,.hljs-template-variable,.hljs-variable{color:#ade5fc}.hljs-bullet,.hljs-string{color:#a2fca2}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-quote,.hljs-section,.hljs-title,.hljs-type{color:#ffa}.hljs-bullet,.hljs-number,.hljs-symbol{color:#d36363}.hljs-keyword,.hljs-literal,.hljs-selector-tag{color:#fcc28c}.hljs-code,.hljs-comment,.hljs-deletion{color:#888}.hljs-link,.hljs-regexp{color:#c6b4f0}.hljs-meta{color:#fc9b9b}.hljs-deletion{background-color:#fc9b9b;color:#333}.hljs-addition{background-color:#a2fca2;color:#333}.hljs a{color:inherit}.hljs a:focus,.hljs a:hover{color:inherit;text-decoration:underline}</style><h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆé€‰ WebSocket ï¼Ÿ</h2>
<p>WebSocketæ˜¯ä¸€ä¸ªåœ¨å•ä¸ªTCPè¿æ¥ä¸Šå®ç°å…¨åŒå·¥é€šä¿¡çš„ç½‘ç»œåè®®ï¼Œä¸“ä¸ºwebåº”ç”¨è®¾è®¡ï¼Œç”±HTML5è§„èŒƒå¼•å…¥å‰ç«¯å¼€å‘ã€‚</p>
<ul>
<li><strong>å…¨åŒå·¥</strong>ï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¯ä»¥<strong>åŒæ—¶</strong>ç‹¬ç«‹å‘é€å’Œæ¥æ”¶æ•°æ®ï¼Œä¸éœ€è¦åƒHTTP/HTTPSåè®®é‚£æ ·åªèƒ½å•æ¬¡è¯·æ±‚-å“åº”</li>
<li><strong>æŒä¹…è¿æ¥</strong>ï¼šä¸€æ—¦è¿æ¥å»ºç«‹ä¹‹åå°±ä¼šä¿æŒè¿æ¥çŠ¶æ€ï¼Œé™¤éæœ‰ä¸€ç«¯å–æ¶ˆè¿æ¥ï¼Œé¿å…äº†HTTPçš„é¢‘ç¹æ¡æ‰‹å¼€é”€ï¼Œé€‚ç”¨äºå®æ—¶èŠå¤©ã€éœ€å®æ—¶è·å–æ•°æ®çŠ¶æ€ç­‰åœºæ™¯</li>
<li><strong>åŸºäºHTTPå‡çº§</strong>ï¼šè¿æ¥é€šè¿‡HTTP/HTTPSçš„**"Upgrade"æœºåˆ¶**å»ºç«‹ï¼ˆå³websocketæ¡æ‰‹ï¼‰ï¼Œåˆå§‹ä½¿ç”¨ws://æˆ–wss://åè®®</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå®æ—¶èŠå¤©ã€åœ¨çº¿åä½œã€å¤šäººæ¸¸æˆã€ç›´æ’­å¼¹å¹•ç­‰éœ€è¦ä½å»¶è¿Ÿã€é«˜é¢‘ç‡ä½¿ç”¨çš„åœºæ™¯</p>
<blockquote>
<p><strong>é€šä¿¡æ¨¡å¼å¯¹æ¯”</strong></p>
<ul>
<li>å•å·¥ï¼šæ•°æ®åªèƒ½å•å‘ä¼ è¾“ï¼Œå¦‚æœåŠ¡ç«¯æ¨é€ï¼ˆSSEï¼‰ã€
</li><li>åŠåŒå·¥ï¼šæ•°æ®å¯ä»¥åŒå‘ä¼ è¾“ã€ä½†ä¸èƒ½åŒæ—¶è¿›è¡Œï¼Œå¦‚å¸¸è§„çš„REST APIã€Fetch/XMLHttpRequest</li>
<li>å…¨åŒå·¥ï¼šæ•°æ®å¯ä»¥åŒå‘åŒæ—¶ä¼ è¾“ï¼Œå¦‚WebSocketã€WebRTC</li>
</ul>
</blockquote>
<p>æœ¬æ–‡ä»¥å°ç¼–åœ¨ä¸€ä¸ªåœ¨çº¿ä»£ç è¯„æµ‹ç³»ç»Ÿä½¿ç”¨websocketæ¥å®æ—¶è·å–ç”¨æˆ·ä»£ç çš„è¯„æµ‹ä¿¡æ¯åŠŸèƒ½ï¼Œæ¥ä»‹ç»å°ç¼–å¯¹äºwebsocketçš„ç†è§£ï¼</p>
<h2 data-id="heading-1">äºŒã€WebSocketæ¡æ‰‹ä¸åè®®å‡çº§</h2>
<p><strong>"Upgrade"æœºåˆ¶</strong>æ˜¯ä¸€ç§åè®®åå•†æ–¹å¼ï¼Œå…è®¸å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åœ¨å·²æœ‰HTTPè¿æ¥çš„åŸºç¡€ä¸Šï¼Œå°†é€šä¿¡åè®®ä»HTTPåˆ‡æ¢ä¸ºå¦ä¸€ç§åè®®WebSocketã€‚è¿™ä¸€è¿‡ç¨‹åˆè¢«ç§°ä¸º<strong>åè®®å‡çº§</strong>ï¼Œæ‰€ä»¥å‘é€websocketè¯·æ±‚ä¹Ÿå¯ä»¥ç†è§£ä¸ºä¸€æ¬¡åè®®å‡çº§çš„è¿‡ç¨‹ï¼Œå…·ä½“è¿‡ç¨‹åŒ…æ‹¬ï¼š</p>
<ol>
<li>å®¢æˆ·ç«¯å‘èµ·websocketè¯·æ±‚ï¼Œè¯¥è¯·æ±‚çš„ç±»å‹ä¼šæ˜¾ç¤ºä¸ºwebsocketè¯·æ±‚ï¼Œè¯·æ±‚å¤´é€šå¸¸åŒ…å«å‡ ä¸ªupgradeçš„å…³é”®å­—æ®µï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºä¸ºwsè¿æ¥çš„è¯·æ±‚å¤´ï¼š</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0464b53ea0cb4d728c04e3c884353bd2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWktzaHVu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763557837&amp;x-signature=mxYsfU97IqOlRj7AVK6ccQdQiDY%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d51e6774c52f465faf19ff95dea37c0e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWktzaHVu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763557837&amp;x-signature=74EoqYOx%2B3ajfsqjM9WQ7%2BvLfcY%3D" alt="image.png" loading="lazy"/>
2. å¦‚æœæœåŠ¡å™¨æ”¯æŒwebsocketåè®®å¹¶åŒæ„å‡çº§ï¼Œä»–å°±ä¼šè¿”å›ä¸€ä¸ª<strong>101 Switching Protocols</strong> çŠ¶æ€ç ï¼Œå¹¶ä¸”åŒ…å«ç‰¹å®šçš„å“åº”å¤´ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f82f7372a611418dbd3a00feabf1b228~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWktzaHVu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763557837&amp;x-signature=HO7BH205btco4qWJAdOyohDqYEw%3D" alt="image.png" loading="lazy"/>
3. ä¸€æ—¦å®¢æˆ·ç«¯æ”¶åˆ°<strong>101å“åº”ï¼ŒTCPè¿æ¥å°±ä¼šä»HTTPæ¨¡å¼åˆ‡æ¢åˆ°WebSocketæ¨¡å¼</strong>ï¼Œå°±ä¼šå‘ç”Ÿä»¥ä¸‹å˜åŒ–ï¼š</p>
<ul>
<li>åç»­æ‰€æœ‰çš„æ•°æ®éƒ½ä»¥<code>WebSocketå¸§ï¼ˆframeï¼Œå¦‚ä¸‹å›¾ï¼‰</code>æ ¼å¼ä¼ è¾“ï¼ˆä¸å†æ˜¯åŸæ¥çš„HTTPæäº¤ï¼‰</li>
<li>åŒæ–¹å¯ä»¥éšæ—¶ä¸»åŠ¨å‘é€æ¶ˆæ¯ï¼ˆå…¨åŒå·¥ï¼‰</li>
<li>è¿æ¥ä¿æŒæ‰“å¼€ï¼Œç›´åˆ°ä¸€æ–¹å‘é€<code>å…³é—­å¸§</code>æˆ–è¿æ¥ä¸­æ–­ã€‚åœ¨å°ç¼–å¯¹æ¥çš„è¿‡ç¨‹ä¸­ï¼Œç”±äºåç«¯åŒå­¦å¹¶æ²¡æœ‰åœ¨æ²™ç®±åˆ¤é¢˜ç»“æŸä¹‹åå‘é€å…³é—­å¸§ä¸»åŠ¨å…³é—­è¿æ¥é€šé“ï¼Œæ‰€ä»¥å°ç¼–é‡‡ç”¨çš„æ˜¯åˆ¤æ–­æœ€åä¸€å¸§ä¿¡æ¯çš„çŠ¶æ€æ¥ä¸»åŠ¨å…³é—­è¿æ¥ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c57e33429a194c1daa938a17a859dedf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWktzaHVu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763557837&amp;x-signature=ZLZsqdbkiODvwJgVRl038k4U6b0%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>ç®€è¨€ä¹‹ï¼šWebSocket ä¸æ˜¯å…¨æ–°è¿æ¥ï¼Œè€Œæ˜¯"å€Ÿç”¨"HTTPè¿æ¥å®Œæˆä¸€æ¬¡å®‰å…¨æ¡æ‰‹åï¼Œå°†é€šé“"æ”¹é€ "ä¸ºå®æ—¶é€šä¿¡ç®¡é“ã€‚</p>
</blockquote>
<h2 data-id="heading-2">ä¸‰ã€å¿«é€Ÿä¸Šæ‰‹-åŸºç¡€è¯­æ³•</h2>
<h3 data-id="heading-3">1ã€åˆ›å»º WebSocket è¿æ¥</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> socket = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocket</span>(<span class="hljs-string">'ws://localhost:8080'</span>); <span class="hljs-comment">// ä¼ å…¥åç«¯ç»™ä½ çš„wsè¿æ¥åœ°å€</span>
</code></pre>
<h3 data-id="heading-4">2ã€Websocket çš„å››ä¸ªäº‹ä»¶</h3>
<ul>
<li><code>onopen</code>ï¼šè¿æ¥å»ºç«‹æ—¶è§¦å‘</li>
<li><code>onmessage</code>ï¼šæ”¶åˆ°æœåŠ¡å™¨æ¶ˆæ¯è§¦å‘</li>
<li><code>onerror</code>ï¼šè¿æ¥å‘ç”Ÿé”™è¯¯æ—¶è§¦å‘</li>
<li><code>onclose</code>ï¼šè¿æ¥å…³é—­æ—¶è§¦å‘</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript">socket.<span class="hljs-property">onopen</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¿æ¥å»ºç«‹'</span>);
  <span class="hljs-comment">// socket.send('Hello Server!'); ä¸€èˆ¬åœ¨è¿æ¥å»ºç«‹æˆåŠŸä¹‹åå°±å¯ä»¥ç»™æœåŠ¡ç«¯å‘æ¶ˆæ¯äº†</span>
};

socket.<span class="hljs-property">onmessage</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¶åˆ°æ¶ˆæ¯:'</span>, event.<span class="hljs-property">data</span>);
  <span class="hljs-comment">// event.data æ˜¯æœåŠ¡å™¨å‘é€çš„æ•°æ®</span>
};

socket.<span class="hljs-property">onerror</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">error</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'é”™è¯¯:'</span>, error);
};

socket.<span class="hljs-property">onclose</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¿æ¥å…³é—­'</span>, event);
};
</code></pre>
<h3 data-id="heading-5">3ã€å‘é€æ¶ˆæ¯</h3>
<pre><code class="hljs language-javascript" lang="javascript">socket.<span class="hljs-title function_">send</span>(<span class="hljs-string">'Hello Server!'</span>);
</code></pre>
<h3 data-id="heading-6">4ã€å…³é—­è¿æ¥</h3>
<pre><code class="hljs language-javascript" lang="javascript">socket.<span class="hljs-title function_">close</span>();
</code></pre>
<h3 data-id="heading-7">5ã€å››ç§çŠ¶æ€</h3>
<p>websocketæœ‰å››ç§åªè¯»çš„çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// WebSocket çš„å››ç§çŠ¶æ€å¸¸é‡</span>
<span class="hljs-title class_">WebSocket</span>.<span class="hljs-property">CONNECTING</span> = <span class="hljs-number">0</span>; <span class="hljs-comment">// è¿æ¥ä¸­</span>
<span class="hljs-title class_">WebSocket</span>.<span class="hljs-property">OPEN</span> = <span class="hljs-number">1</span>; <span class="hljs-comment">// è¿æ¥å·²æ‰“å¼€ï¼Œå¯ä»¥é€šä¿¡</span>
<span class="hljs-title class_">WebSocket</span>.<span class="hljs-property">CLOSING</span> = <span class="hljs-number">2</span>; <span class="hljs-comment">// è¿æ¥æ­£åœ¨å…³é—­ä¸­</span>
<span class="hljs-title class_">WebSocket</span>.<span class="hljs-property">CLOSED</span> = <span class="hljs-number">3</span>; <span class="hljs-comment">// è¿æ¥å·²å…³é—­æˆ–æ— æ³•æ‰“å¼€</span>

<span class="hljs-comment">// å®ä¾‹çš„readyStateå±æ€§ä¸ºå½“å‰çš„çŠ¶æ€ï¼Œä½¿ç”¨å½“å‰çŠ¶æ€å’Œå››ä¸ªçŠ¶æ€å¸¸é‡å¯¹æ¯”å³å¯çš„å¾—åˆ°ä¸åŒçš„åˆ¤æ–­æ¡ä»¶</span>
<span class="hljs-comment">// å¦‚</span>
<span class="hljs-keyword">if</span>(socket.<span class="hljs-property">readyState</span> === <span class="hljs-title class_">WebSocket</span>.<span class="hljs-property">OPEN</span>){
  <span class="hljs-comment">// æ£€æµ‹è¿æ¥æ­£å¸¸æ—¶è§¦å‘</span>
}
</code></pre>
<h2 data-id="heading-8">å››ã€å…·ä½“å®æˆ˜ä¾‹å­</h2>
<blockquote>
<p>ä»¥ä¸‹ç¤ºä¾‹ä¸ºå°ç¼–è‡ªå·±çš„é¡¹ç›®åœ¨é€šè¿‡WebSocketå®æ—¶è·å–æ²™ç®±åˆ¤é¢˜çŠ¶æ€æ—¶çš„å®ç°ğŸ‘‡</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eee1fcda4843492cae0c0bcbc37a85fd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWktzaHVu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763557837&amp;x-signature=oSmjj4L%2FM1Jbag4o0mj6lNYlk6s%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·æäº¤ä»£ç 
â†“
åˆ›å»ºæäº¤è®°å½• (HTTP POST)
â†“
å»ºç«‹ WebSocket è¿æ¥
â†“
æ¥æ”¶å®æ—¶æ¶ˆæ¯ â†’ æ›´æ–°çŠ¶æ€ â†’ UI åˆ·æ–°
â†“
æ”¶åˆ° final_result â†’ è‡ªåŠ¨å…³é—­è¿æ¥
â†“
æ˜¾ç¤ºæœ€ç»ˆç»“æœ
</code></pre>
<h3 data-id="heading-9">1ã€ç”¨æˆ·ç‚¹å‡»æäº¤æŒ‰é’®</h3>
<p>ç”¨æˆ·ç‚¹å‡»æäº¤ä¹‹åï¼Œé¦–å…ˆè°ƒç”¨æäº¤ä»£ç æ¥å£ï¼Œæ­¤æ—¶æœåŠ¡ç«¯å°±ä¼šå¯åŠ¨ä¸€ä¸ª<code>æ²™ç®±æœåŠ¡</code>ï¼Œå°†ç”¨æˆ·ç¼–å†™çš„ä»£ç ä½œä¸ºæ²™ç®±çš„ç¨‹åºä»£ç ï¼Œå¹¶è‡ªåŠ¨è¿è¡Œæµ‹è¯•ç”¨ä¾‹è‡³æ²™ç®±å†…ï¼Œç„¶åå“åº”æœ¬æ¬¡æäº¤çš„IDè‡³å®¢æˆ·ç«¯ï¼Œ<strong>å®¢æˆ·ç«¯ç«‹å³åŸºäºæäº¤IDå»ºç«‹ä¸æœåŠ¡ç«¯çš„WebSocketè¿æ¥ï¼Œå®æ—¶è·å–æ²™ç®±ç¨‹åºçš„è¿è¡ŒçŠ¶æ€å±•ç¤ºåˆ°é¡µé¢ä¸­ï¼</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// è°ƒç”¨æäº¤ä»£ç æ¥å£ï¼ˆä¼ é€’é¢˜ç›®idã€ä»£ç ã€è¯­è¨€ï¼‰</span>
<span class="hljs-keyword">async</span> <span class="hljs-title function_">create</span>(<span class="hljs-params">problemId: <span class="hljs-built_in">number</span>, code: <span class="hljs-built_in">string</span>, language: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-comment">// 1. å‘é€ HTTP è¯·æ±‚åˆ›å»ºæäº¤è®°å½•</span>
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/submit'</span>, {
    <span class="hljs-attr">problem_id</span>: problemId,
    code,
    language
  })
  <span class="hljs-keyword">const</span> submit = response.<span class="hljs-property">data</span>

  <span class="hljs-comment">// 2. è‡ªåŠ¨å»ºç«‹ WebSocket è¿æ¥ç›‘å¬ç»“æœï¼ˆä¼ é€’å“åº”çš„æäº¤idï¼‰</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setupWebSocketConnection</span>(submit.<span class="hljs-property">id</span>)
}
</code></pre>
<h3 data-id="heading-10">2ã€Websocketè¿æ¥ç®¡ç†</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å£°æ˜ä¸€ä¸ªå»ºç«‹è¿æ¥ç±»ï¼Œåœ¨ç±»å†…éƒ¨å†å£°æ˜ä¸€ä¸ªconnectè¿æ¥æ–¹æ³•</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SubmitWebSocket</span> {
  <span class="hljs-comment">// å»ºç«‹è¿æ¥æ–¹æ³•</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">connect</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-keyword">const</span> url = <span class="hljs-string">`<span class="hljs-subst">${baseUrl}</span>/ws/submit/<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.submitId}</span>?token=<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.token}</span>`</span>
    <span class="hljs-comment">// 1. å®ä¾‹åŒ–ä¸€ä¸ªwebsocket</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ws</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocket</span>(url)

    <span class="hljs-comment">// 2. è®¾ç½®æ¶ˆæ¯ç›‘å¬å™¨</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ws</span>.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> message = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(event.<span class="hljs-property">data</span>) <span class="hljs-keyword">as</span> <span class="hljs-title class_">WebSocketMessage</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">onMessage</span>?.(message) <span class="hljs-comment">// è§¦å‘å›è°ƒå‡½æ•°</span>
    }
  }
}
</code></pre>
<h3 data-id="heading-11">3ã€å®æ—¶æ¶ˆæ¯å¤„ç†</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åœ¨ store ä¸­å¤„ç† WebSocket æ¶ˆæ¯</span>
<span class="hljs-keyword">private</span> <span class="hljs-title function_">setupWebSocketConnection</span>(<span class="hljs-params">submitId: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">const</span> websocket = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SubmitWebSocket</span>(submitId, <span class="hljs-variable language_">this</span>.<span class="hljs-property">token</span>)

  websocket.<span class="hljs-property">onMessage</span> = <span class="hljs-function">(<span class="hljs-params">message: WebSocketMessage</span>) =&gt;</span> {
    <span class="hljs-comment">// æ ¹æ®æ¶ˆæ¯ç±»å‹æ›´æ–°çŠ¶æ€</span>
    <span class="hljs-keyword">switch</span> (message.<span class="hljs-property">type</span>) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">'status_update'</span>:
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentSubmit</span>!.<span class="hljs-property">status</span> = message.<span class="hljs-property">data</span>.<span class="hljs-property">status</span>
        <span class="hljs-keyword">break</span>
      <span class="hljs-keyword">case</span> <span class="hljs-string">'test_case_result'</span>:
        <span class="hljs-comment">// æ›´æ–°æµ‹è¯•ç”¨ä¾‹ç»“æœ</span>
        <span class="hljs-keyword">break</span>
      <span class="hljs-keyword">case</span> <span class="hljs-string">'final_result'</span>:
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentSubmit</span>!.<span class="hljs-property">result</span> = message.<span class="hljs-property">data</span>
        websocket.<span class="hljs-title function_">close</span>() <span class="hljs-comment">// æ”¶åˆ°æœ€ç»ˆç»“æœåå…³é—­è¿æ¥</span>
        <span class="hljs-keyword">break</span>
    }
  }
}
</code></pre>
<h2 data-id="heading-12">äº”ã€ç”Ÿäº§ç¯å¢ƒé¿å‘ï¼ˆé‡ç‚¹ï¼‰</h2>
<p>å°ç¼–åœ¨å®Œæˆè¿™ä¸ªåŠŸèƒ½ä¹‹åï¼Œå‘ç°<strong>å¼€å‘ç¯å¢ƒæ­£å¸¸</strong>ï¼Œä½†æ˜¯<strong>ç”Ÿäº§ç¯å¢ƒä¼šæŠ¥é”™æ— æ³•å‡çº§HTTP-&gt;WebSocket</strong>ï¼Œç»è¿‡ä¸€ä¸ªè€å¸ˆçš„æé†’ï¼Œå‘ç°å¦‚æœä½¿ç”¨nginxæ¥éƒ¨ç½²å‰ç«¯åº”ç”¨ï¼Œæˆ‘ä»¬è¿˜è¦<strong>å®Œæˆnginxçš„ç›¸å…³é…ç½®</strong>æ‰èƒ½ä½¿ç”¨WebSocketåŠŸèƒ½ï¼Œå…·ä½“é…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx">server {
  listen 80;
  server_name http://your-domain.com;

  location /ws/ {
    proxy_pass http://localhost:8080; # ä½ çš„ WebSocket æœåŠ¡å™¨åœ°å€

    # WebSocket å¿…éœ€çš„ä¸‰è¡Œé…ç½®
    proxy_http_version 1.1; # å¿…éœ€ï¼šHTTP 1.1 æ”¯æŒåè®®å‡çº§
    proxy_set_header Upgrade $http_upgrade; # å¿…éœ€ï¼šå¤„ç†å‡çº§å¤´
    proxy_set_header Connection "upgrade"; # å¿…éœ€ï¼šè®¾ç½®è¿æ¥ç±»å‹
    proxy_read_timeout 3600s; # é‡è¦ï¼šé•¿è¿æ¥è¶…æ—¶

    # å¯é€‰çš„åŸºç¡€å¤´ä¿¡æ¯
    proxy_set_header Host $host;
  }

  # å…¶å®ƒé…ç½®...
}
</code></pre>
<p><strong>é‚£ä¹ˆä¸ºä»€ä¹ˆå¼€å‘ç¯å¢ƒæ­£å¸¸ï¼Œç”Ÿäº§ç¯å¢ƒå´éœ€è¦è¿›è¡Œwebsocketçš„ç›¸å…³é…ç½®å‘¢ï¼Ÿ</strong></p>
<ul>
<li><strong>å¼€å‘ç¯å¢ƒ</strong></li>
</ul>

<pre><code class="hljs language-scss" lang="scss">å‰ç«¯ (http://localhost:<span class="hljs-number">3000</span>)
â†“ ç›´æ¥è¿æ¥
åç«¯ WebSocket (åç«¯wsæ¥å£åœ°å€)
</code></pre>
<p>å¼€å‘ç¯å¢ƒä¸‹å‰ç«¯ç›´è¿åç«¯æœåŠ¡ï¼Œä¸ç»è¿‡Nginxçš„åå‘ä»£ç†ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥å‡çº§ä¸ºWebSocketè¿æ¥</p>
<ul>
<li><strong>ç”Ÿäº§ç¯å¢ƒï¼ˆéœ€è¦Nginxä»£ç†ï¼‰</strong></li>
</ul>

<pre><code class="hljs language-less" lang="less">ç”¨æˆ·æµè§ˆå™¨ â†’ <span class="hljs-selector-tag">Nginx</span> (<span class="hljs-attribute">https</span>:<span class="hljs-comment">//your-domain.com) â†’ å¤šä¸ªåç«¯æœåŠ¡å™¨</span>
</code></pre>
<p>WebSocket ä½¿ç”¨ HTTP åè®®å‡çº§æœºåˆ¶ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹å‰ç«¯è°ƒç”¨æ¥å£æœåŠ¡éœ€è¦ç»è¿‡ Nginxä»£ç†ï¼Œæ‰€ä»¥Nginxéœ€è¦æ­£ç¡®å¤„ç†è¿™ä¸ªå‡çº§è¿‡ç¨‹</p>
<blockquote>
<p>ä»¥ä¸Šæ˜¯å°ç¼–é€šè¿‡è‡ªå·±åœ¨websocketåŠŸèƒ½çš„å®ç°è¿‡ç¨‹ä¸­æ€»ç»“å‡ºæ¥çš„ä¸€äº›ä¸œè¥¿ï¼Œå¦‚æœæœ‰è¯¯è¯·å„ä½å¤§ä½¬æŒ‡å‡ºï¼Œæ„Ÿæ¿€ä¸å°½ï¼</p>
</blockquote>
<h2 data-id="heading-13">å…­ã€çŠ¶æ€ç®¡ç†å’Œé‡è¿æœºåˆ¶</h2>
<p>websocketçš„è¿æ¥æœ‰æ—¶å€™ä¼šæ„å¤–æ–­å¼€ï¼ˆç½‘ç»œé—®é¢˜ã€æœåŠ¡å™¨æ•…éšœç­‰ç­‰ï¼‰ï¼Œä¸ºäº†ä¿è¯ç”¨æˆ·ä½“éªŒï¼Œå¯¹äºæ„å¤–æ–­å¼€çš„è¿æ¥ä¸€èˆ¬æƒ…å†µä¸‹ä¼šæœ‰é‡è¿æœºåˆ¶è¿›è¡Œå¤„ç†</p>
<h3 data-id="heading-14">1. ç®€å•å®ç°</h3>
<p>å£°æ˜ä¸€ä¸ªæ ‡å¿—å˜é‡<code>isManualClose</code>è¡¨ç¤ºæ˜¯å¦ä¸ºæ­£å¸¸å…³é—­è¿æ¥ï¼Œåœ¨ç”¨æˆ·ä¸»åŠ¨å…³é—­è¿æ¥äº‹ä»¶ä¸­è®¾ç½®å…¶å€¼ä¸ºtrueï¼Œå…¶ä½™æƒ…å†µä¸‹çš†ä¸ºfalseï¼Œ<strong>åœ¨è¿æ¥å…³é—­äº‹ä»¶ä¸­æ®æ­¤å€¼æ¥å†³å®šæ˜¯å¦é‡è¿</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> isManualClose = <span class="hljs-literal">false</span>; <span class="hljs-comment">// é»˜è®¤ä¸æ˜¯æ‰‹åŠ¨å…³é—­</span>

ws.<span class="hljs-property">onclose</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (!isManualClose) {
    <span class="hljs-comment">// åªæœ‰æ„å¤–æ–­å¼€æ‰é‡è¿</span>
    <span class="hljs-title function_">startReconnect</span>();
  }
};

<span class="hljs-comment">// ç”¨æˆ·ä¸»åŠ¨æ–­å¼€è¿æ¥</span>
disconnectButton.<span class="hljs-property">onclick</span> = <span class="hljs-function">() =&gt;</span> {
  isManualClose = <span class="hljs-literal">true</span>; <span class="hljs-comment">// â­ æ ‡è®°ä¸ºæ‰‹åŠ¨å…³é—­</span>
  ws.<span class="hljs-title function_">close</span>(); <span class="hljs-comment">// ç°åœ¨ onclose ä¸ä¼šè§¦å‘é‡è¿</span>
};

<span class="hljs-comment">// ç”¨æˆ·è·³è½¬åˆ°å…¶ä»–é¡µé¢ï¼Œä¸»åŠ¨å…³é—­WebSocket</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'beforeunload'</span>, <span class="hljs-function">() =&gt;</span> {
  isManualClose = <span class="hljs-literal">true</span>;
  ws.<span class="hljs-title function_">close</span>();
});
</code></pre>
<blockquote>
<p><code>isManualClose</code>çš„å€¼å¯ä»¥æœ‰å¾ˆå¤šæ ‡è¯†å’Œåˆ¤æ–­æ¥å†³å®šï¼Œå°ç¼–è§‰å¾—å…·ä½“çš„å¯ä»¥ä¸åç«¯çš„åŒå­¦ä¸€èµ·æ¥åˆ¶å®šçº¦æŸ</p>
</blockquote>
<h3 data-id="heading-15">2. æŒ‡æ•°é€€é¿+æœ‰é™å°è¯•</h3>
<p>åˆ©ç”¨æŒ‡æ•°é€€é¿ç®—æ³•æ¥è®¡ç®—é‡è¿çš„é—´éš”ï¼Œå¹¶è®¾ç½®æœ€å¤§é—´éš”æ¥é˜²æ­¢å®¢æˆ·ç«¯æ— é™é‡è¿ï¼ˆæµªè´¹å¸¦å®½ï¼‰ã€‚æ ¹æ®ä¸šåŠ¡åœºæ™¯ï¼Œå¦‚éœ€è¦çš„è¯è¿˜å¯ä»¥è®¾ç½®æœ€å¤§é‡è¿æ¬¡æ•°ï¼Œå½“è¾¾åˆ°æœ€å¤§é‡è¿æ¬¡æ•°æ—¶ï¼Œåœæ­¢é‡è¿é€»è¾‘ï¼ˆæœ‰é™å°è¯•ï¼‰ï¼Œæ€è·¯ä¸æŒ‡æ•°é€€é¿æ˜¯ç±»ä¼¼çš„ï¼</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å…³é”®å‚æ•°</span>
<span class="hljs-keyword">let</span> reconnectInterval = <span class="hljs-number">1000</span>; <span class="hljs-comment">// åˆå§‹é—´éš”ï¼š1ç§’</span>
<span class="hljs-keyword">let</span> maxReconnectInterval = <span class="hljs-number">30000</span>; <span class="hljs-comment">// æœ€å¤§é—´éš”ï¼š30ç§’</span>
<span class="hljs-keyword">let</span> reconnectDecay = <span class="hljs-number">1.5</span>; <span class="hljs-comment">// å¢é•¿å€æ•°ï¼š1.5å€</span>
<span class="hljs-keyword">let</span> reconnectAttempts = <span class="hljs-number">0</span>; <span class="hljs-comment">// é‡è¿æ¬¡æ•°</span>
<span class="hljs-keyword">let</span> maxAttempts = <span class="hljs-number">50</span>; <span class="hljs-comment">// æœ€å¤§å°è¯•æ¬¡æ•°</span>

<span class="hljs-comment">// æ¯æ¬¡é‡è¿æ—¶è®¡ç®—æ–°é—´éš”</span>
reconnectInterval = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(reconnectInterval * reconnectDecay, maxReconnectInterval);

<span class="hljs-comment">// ç¬¬1æ¬¡é‡è¿: 1ç§’å</span>
<span class="hljs-comment">// ç¬¬2æ¬¡é‡è¿: 1.5ç§’å (1000 Ã— 1.5)</span>
<span class="hljs-comment">// ç¬¬3æ¬¡é‡è¿: 2.25ç§’å (1500 Ã— 1.5)</span>
<span class="hljs-comment">// ç¬¬4æ¬¡é‡è¿: 3.375ç§’å (2250 Ã— 1.5)</span>
<span class="hljs-comment">// ...</span>
<span class="hljs-comment">// ç›´åˆ°è¾¾åˆ°æœ€å¤§30ç§’é—´éš”</span>
<span class="hljs-comment">// å½“é—´éš”è¾¾åˆ°30ç§’æ—¶ï¼Œé‡è¿é¢‘ç‡å¾ˆä½ï¼Œç›¸å½“äºè½¯é™åˆ¶</span>

<span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦éœ€è¦é‡è¿</span>
<span class="hljs-title function_">shouldReconnect</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isManualClose</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">reconnectAttempts</span> &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxAttempts</span>;
}

<span class="hljs-comment">// è®¡ç®—ä¸‹ä¸€æ¬¡é‡è¿é—´éš”</span>
<span class="hljs-title function_">calculateNextInterval</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// åŸºç¡€æŒ‡æ•°é€€é¿è®¡ç®—</span>
  reconnectInterval = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(reconnectInterval * reconnectDecay, maxReconnectInterval);
  <span class="hljs-keyword">return</span> reconnectInterval
}

<span class="hljs-comment">// å¯åŠ¨é‡è¿</span>
<span class="hljs-title function_">startReconnect</span>(<span class="hljs-params"/>){
  <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">shouldReconnect</span>()) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä¸æ»¡è¶³é‡è¿æ¡ä»¶ï¼Œåœæ­¢é‡è¿'</span>);
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-comment">// é¿å…é‡å¤å¯åŠ¨ï¼ˆæ¯æ¬¡é‡è¿å…ˆæ¸…ç†ä¸Šä¸€æ¬¡çš„å®šæ—¶å™¨ï¼‰</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">reconnectTimer</span>) {
    <span class="hljs-built_in">clearTimeout</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">reconnectTimer</span>);
  }
  <span class="hljs-comment">// æ›´æ–°é‡è¿çŠ¶æ€</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">reconnectAttempts</span>++;<span class="hljs-variable language_">this</span>.<span class="hljs-property">isReconnecting</span> = <span class="hljs-literal">true</span>;
  <span class="hljs-comment">// è®¡ç®—ä¸‹ä¸€æ¬¡é‡è¿é—´éš”ï¼ˆæŒ‡æ•°é€€é¿ï¼‰</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentInterval</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateNextInterval</span>();

  <span class="hljs-comment">// è®¾ç½®é‡è¿å®šæ—¶å™¨</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">reconnectTimer</span> = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">executeReconnect</span>(); <span class="hljs-comment">// éœ€è¦é‡æ–°å»ºç«‹wsè¿æ¥</span>
  },<span class="hljs-variable language_">this</span>.<span class="hljs-property">reconnectInterval</span>);
}

socket.<span class="hljs-property">onclose</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">shouldReconnect</span>()) {
    <span class="hljs-comment">// åªæœ‰æ„å¤–æ–­å¼€æ‰é‡è¿</span>
    <span class="hljs-title function_">startReconnect</span>();
  }
};

socket.<span class="hljs-property">onopen</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
  <span class="hljs-comment">// è¿æ¥æˆåŠŸæ—¶é‡ç½®æ‰€æœ‰é‡è¿å‚æ•°</span>
  reconnectInterval = <span class="hljs-number">1000</span>;
  reconnectAttempts = <span class="hljs-number">0</span>;
};
</code></pre>
<h2 data-id="heading-16">ä¸ƒã€å¿ƒè·³æœºåˆ¶</h2>
<p>websocketçš„å¿ƒè·³æœºåˆ¶ä½œç”¨äºæ£€æµ‹è¿æ¥æ˜¯å¦çœŸå®å­˜æ´»ï¼ˆé¿å…å‡è¿æ¥ï¼Œé€‚ç”¨äºç”Ÿäº§ç¯å¢ƒï¼‰ï¼Œå¹¶åœ¨è¿æ¥æ–­å¼€æ—¶åŠæ—¶å‘ç°ã€‚ä¸ºä»€ä¹ˆéœ€è¦å¿ƒè·³ï¼Ÿ</p>
<ul>
<li>WebSocket åŸºäº TCPï¼Œä½† <code>TCP Keep-Alive</code> é»˜è®¤å…³é—­æˆ–å‘¨æœŸæé•¿</li>
<li>ä¸­é—´è®¾å¤‡ï¼ˆå¦‚æˆ‘ä»¬ä½¿ç”¨çš„Nginxä»£ç†ï¼‰ä¸€èˆ¬ä¼šè®¾ç½®<strong>ç©ºé—²è¶…æ—¶</strong></li>
<li>è‹¥åº”ç”¨å±‚é•¿æ—¶é—´æ— æ•°æ®ä¼ è¾“ï¼Œ<strong>è¿æ¥ä¼šè¢«é™é»˜æ–­å¼€ï¼Œè€Œå®¢æˆ·ç«¯æ¯«æ— æ„ŸçŸ¥</strong></li>
</ul>
<p>ä»¥ä¸‹ä¸ºåŸºäº<strong>Ping-Pongæ¨¡å‹</strong>å®ç°çš„å¿ƒè·³æœºåˆ¶ç®€æ˜“ç‰ˆï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> heartbeatInterval; <span class="hljs-comment">// å¿ƒè·³å®šæ—¶å™¨</span>
<span class="hljs-keyword">let</span> heartbeatIntervalTime = <span class="hljs-number">30000</span>; <span class="hljs-comment">// å¿ƒè·³é—´éš”æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤30ç§’</span>
<span class="hljs-comment">// æ³¨æ„ï¼šå¿ƒè·³é—´éš” &lt; min(é˜²ç«å¢™è¶…æ—¶, æœåŠ¡ç«¯è¶…æ—¶, å®¢æˆ·ç«¯å®¹å¿å»¶è¿Ÿ) / 2 ï¼Œå¦åˆ™æ— æ•ˆ</span>
<span class="hljs-keyword">let</span> heartbeatTimeout; <span class="hljs-comment">// å¿ƒè·³è¶…æ—¶å®šæ—¶å™¨</span>
<span class="hljs-keyword">let</span> heartbeatTimeoutTime = <span class="hljs-number">5000</span>; <span class="hljs-comment">// å¿ƒè·³è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤5ç§’</span>

socket.<span class="hljs-property">onopen</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-comment">// å…¶ä½™ä»£ç ...</span>
  <span class="hljs-comment">// åœ¨è¿æ¥æˆåŠŸä¹‹åå¯åŠ¨å¿ƒè·³æœºåˆ¶</span>
  <span class="hljs-title function_">startHeartbeat</span>();
}

<span class="hljs-comment">// æ”¶åˆ°æœåŠ¡å™¨æ¶ˆæ¯æ—¶è§¦å‘åˆ¤æ–­</span>
socket.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-comment">// å¤„ç†å¿ƒè·³å“åº”</span>
  <span class="hljs-keyword">if</span>(event.<span class="hljs-property">data</span> === <span class="hljs-string">'pong'</span>){
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¶åˆ°å¿ƒè·³å“åº”ï¼'</span>);
    <span class="hljs-keyword">if</span>(heartbeatTimeout){
      <span class="hljs-built_in">clearTimeout</span>(heartbeatTimeout);
    }
    <span class="hljs-keyword">return</span>
  }
  <span class="hljs-comment">// å…¶å®ƒä»£ç ...</span>
}

<span class="hljs-comment">// è¿æ¥å…³é—­æ—¶è§¦å‘</span>
socket.<span class="hljs-property">onclose</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-comment">// å…¶å®ƒä»£ç ...</span>
  <span class="hljs-comment">// åœæ­¢å¿ƒè·³æœºåˆ¶</span>
  <span class="hljs-title function_">stopHeartbeat</span>();
  <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦éœ€è¦é‡è¿...</span>
}

<span class="hljs-comment">// å‘ç”Ÿé”™è¯¯æ—¶è§¦å‘</span>
socket.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-comment">// other...</span>
  <span class="hljs-comment">// åœæ­¢å¿ƒè·³æœºåˆ¶</span>
  <span class="hljs-title function_">stopHeartbeat</span>();
}

<span class="hljs-comment">// å¯åŠ¨å¿ƒè·³æœºåˆ¶</span>
<span class="hljs-title function_">startHeartbeat</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// æ¸…é™¤ä¹‹å‰çš„å¿ƒè·³å®šæ—¶å™¨</span>
  <span class="hljs-keyword">if</span> (heartbeatInterval) {
    <span class="hljs-built_in">clearInterval</span>(heartbeatInterval);
  }
  <span class="hljs-comment">// è®¾ç½®å¿ƒè·³å®šæ—¶å™¨ï¼Œå®šæœŸå‘é€å¿ƒè·³æ¶ˆæ¯</span>
  heartbeatInterval = <span class="hljs-built_in">setInterval</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (socket &amp;&amp; socket.<span class="hljs-property">readyState</span> === <span class="hljs-title class_">WebSocket</span>.<span class="hljs-property">OPEN</span>) {
      socket.<span class="hljs-title function_">send</span>(<span class="hljs-string">'ping'</span>);
      <span class="hljs-comment">// è®¾ç½®å¿ƒè·³è¶…æ—¶å®šæ—¶å™¨ï¼ˆç›®çš„æ˜¯æ£€æµ‹æ˜¯å¦æ”¶åˆ°pongï¼‰</span>
      heartbeatTimeout = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¿ƒè·³è¶…æ—¶ï¼Œè¿æ¥å¯èƒ½å·²æ–­å¼€'</span>);
        <span class="hljs-title function_">addMessage</span>(<span class="hljs-string">'å¿ƒè·³è¶…æ—¶ï¼Œè¿æ¥å¯èƒ½å·²æ–­å¼€'</span>, <span class="hljs-string">'received'</span>);
        <span class="hljs-comment">// ä¸»åŠ¨å…³é—­è¿æ¥ä»¥è§¦å‘é‡è¿æœºåˆ¶</span>
        <span class="hljs-keyword">if</span> (socket) {
          socket.<span class="hljs-title function_">close</span>();
        }
      }, heartbeatTimeoutTime);
    }
  }, heartbeatIntervalTime);
}

<span class="hljs-comment">// åœæ­¢å¿ƒè·³æœºåˆ¶</span>
<span class="hljs-title function_">stopHeartbeat</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (heartbeatInterval) {
    <span class="hljs-built_in">clearInterval</span>(heartbeatInterval);
    heartbeatInterval = <span class="hljs-literal">null</span>;
  }
  <span class="hljs-keyword">if</span> (heartbeatTimeout) {
    <span class="hljs-built_in">clearTimeout</span>(heartbeatTimeout);
    heartbeatTimeout = <span class="hljs-literal">null</span>;
  }
}
</code></pre>
<h2 data-id="heading-17">å…«ã€æ¶ˆæ¯é˜Ÿåˆ—ä¸æµé‡æ§åˆ¶</h2>
<p>å¦‚æœä½ ä½¿ç”¨çš„websocketæ¶‰åŠåˆ°å¤§é‡ã€å¯†é›†çš„æ¶ˆæ¯éœ€è¦åŒæ®µäº‹ä»¶å‘é€ï¼Œä¸ºäº†é˜²æ­¢ç½‘ç»œæ‹¥å¡ï¼Œå¯ä»¥é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—æ¥è¿›è¡Œç¼“å†²ï¼Œå°†å¾…å‘é€çš„æ¶ˆæ¯æ¨å…¥æ¶ˆæ¯é˜Ÿåˆ—ç¼“å†²ï¼Œä»¥æ­¤ä¿è¯æ¶ˆæ¯æ•°æ®åœ¨ç½‘ç»œæ‹¥å¡/è¿æ¥æ–­å¼€çš„æ—¶å€™ä¸ä¼šä¸¢å¤±ã€‚</p>
<p>æ¶ˆæ¯é˜Ÿåˆ—çš„å·¥ä½œæµç¨‹å¤§è‡´ä¸ºï¼š</p>
<pre><code class="hljs">åº”ç”¨å±‚å‘é€æ¶ˆæ¯
â†“
æ£€æŸ¥è¿æ¥çŠ¶æ€
â†“
è¿æ¥å¯ç”¨ â†’ ç«‹å³å‘é€
è¿æ¥ä¸å¯ç”¨ â†’ åŠ å…¥é˜Ÿåˆ—
â†“
ç›‘å¬è¿æ¥æ¢å¤äº‹ä»¶
â†“
è¿æ¥æ¢å¤ â†’ æŒ‰é¡ºåºå‘é€é˜Ÿåˆ—ä¸­æ¶ˆæ¯
â†“
å‘é€æˆåŠŸ â†’ ä»é˜Ÿåˆ—ç§»é™¤
å‘é€å¤±è´¥ â†’ æ ‡è®°é‡è¯•æˆ–ä¸¢å¼ƒ
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> messageQueue = []; <span class="hljs-comment">// æ¶ˆæ¯é˜Ÿåˆ—</span>
<span class="hljs-keyword">let</span> isSending = <span class="hljs-literal">false</span>; <span class="hljs-comment">// æ˜¯å¦æ­£åœ¨å‘é€æ¶ˆæ¯</span>
<span class="hljs-keyword">let</span> sendRateLimit = <span class="hljs-number">10</span>; <span class="hljs-comment">// æ¯ç§’æœ€å¤§å‘é€æ¶ˆæ¯æ•°</span>
<span class="hljs-keyword">let</span> sendInterval = <span class="hljs-number">1000</span> / sendRateLimit; <span class="hljs-comment">// å‘é€é—´éš”ï¼ˆæ¯«ç§’ï¼‰</span>
<span class="hljs-keyword">let</span> sendTimer = <span class="hljs-literal">null</span>; <span class="hljs-comment">// å‘é€å®šæ—¶å™¨</span>

socket.<span class="hljs-property">onopen</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-comment">// å…¶ä½™ä»£ç ...</span>
  <span class="hljs-comment">// å¼€å§‹å¤„ç†æ¶ˆæ¯é˜Ÿåˆ—</span>
  <span class="hljs-title function_">processMessageQueue</span>();
}

<span class="hljs-comment">// è¿æ¥å…³é—­æ—¶è§¦å‘</span>
socket.<span class="hljs-property">onclose</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-comment">// å…¶å®ƒä»£ç ...</span>
  <span class="hljs-comment">// åœæ­¢æ¶ˆæ¯æ¨é€</span>
  <span class="hljs-title function_">stopMessageSending</span>();
  <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦éœ€è¦é‡è¿...</span>
}

<span class="hljs-comment">// å‘ç”Ÿé”™è¯¯æ—¶è§¦å‘</span>
socket.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-comment">// other...</span>
  <span class="hljs-comment">// åœæ­¢æ¶ˆæ¯æ¨é€</span>
  <span class="hljs-title function_">stopMessageSending</span>();
}

<span class="hljs-comment">// å°†æ¶ˆæ¯æ·»åŠ åˆ°é˜Ÿåˆ—</span>
<span class="hljs-title function_">enqueueMessage</span>(<span class="hljs-params">message, priority = <span class="hljs-number">0</span></span>) {
  <span class="hljs-comment">// åˆ›å»ºæ¶ˆæ¯å¯¹è±¡</span>
  <span class="hljs-keyword">const</span> messageObj = {
    <span class="hljs-attr">content</span>: message,
    <span class="hljs-attr">priority</span>: priority, <span class="hljs-comment">// ä¼˜å…ˆçº§ï¼Œæ•°å€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜</span>
    <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() <span class="hljs-comment">// æ—¶é—´æˆ³</span>
  };

  <span class="hljs-comment">//if (priority &gt; 0) {</span>
  <span class="hljs-comment">// //æ ¹æ®ä¼˜å…ˆçº§æ’å…¥æ¶ˆæ¯é˜Ÿåˆ—</span>
  <span class="hljs-comment">//} else {</span>
  <span class="hljs-comment">// // æ™®é€šæ¶ˆæ¯æ·»åŠ åˆ°é˜Ÿåˆ—æœ«å°¾</span>
  <span class="hljs-comment">//}</span>

  messageQueue.<span class="hljs-title function_">push</span>(messageObj);
}

<span class="hljs-comment">// å¤„ç†æ¶ˆæ¯é˜Ÿåˆ—</span>
<span class="hljs-title function_">processMessageQueue</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (sendTimer) {
    <span class="hljs-built_in">clearInterval</span>(sendTimer);
  }
  <span class="hljs-comment">// å®šæ—¶å¤„ç†æ¶ˆæ¯é˜Ÿåˆ—</span>
  sendTimer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (messageQueue.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> &amp;&amp; socket &amp;&amp; socket.<span class="hljs-property">readyState</span> === <span class="hljs-title class_">WebSocket</span>.<span class="hljs-property">OPEN</span>) {
      <span class="hljs-comment">// å–å‡ºé˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€æ¡æ¶ˆæ¯</span>
      <span class="hljs-keyword">const</span> messageObj = messageQueue.<span class="hljs-title function_">shift</span>();
      socket.<span class="hljs-title function_">send</span>(messageObj.<span class="hljs-property">content</span>);
    }
  }, sendInterval);
}

<span class="hljs-comment">// åœæ­¢æ¶ˆæ¯å‘é€</span>
<span class="hljs-title function_">stopMessageSending</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (sendTimer) {
    <span class="hljs-built_in">clearInterval</span>(sendTimer);
    sendTimer = <span class="hljs-literal">null</span>;
  }
}

<span class="hljs-comment">// è®¾ç½®å‘é€é€Ÿç‡ï¼ˆæ¯ç§’æ¶ˆæ¯æ•°ï¼‰</span>
<span class="hljs-title function_">setSendRate</span>(<span class="hljs-params">rate</span>) {
  <span class="hljs-keyword">if</span> (rate &gt; <span class="hljs-number">0</span> &amp;&amp; rate &lt;= <span class="hljs-number">100</span>) {
    sendRateLimit = rate;
    sendInterval = <span class="hljs-number">1000</span> / sendRateLimit;

    <span class="hljs-comment">// é‡æ–°å¯åŠ¨æ¶ˆæ¯å¤„ç†å®šæ—¶å™¨</span>
    <span class="hljs-keyword">if</span> (socket &amp;&amp; socket.<span class="hljs-property">readyState</span> === <span class="hljs-title class_">WebSocket</span>.<span class="hljs-property">OPEN</span>) {
      <span class="hljs-title function_">processMessageQueue</span>();
    }
  }
}
</code></pre>
<blockquote>
<p>æœ¬æ–‡åˆ°æ­¤ç»“æŸï¼Œæ–‡ä¸­çš„ç†è§£å’Œæ€»ç»“éš¾å…æœ‰ä¸è¶³ä¹‹å¤„ï¼Œå¦‚æœ‰çº°æ¼æˆ–é”™è¯¯ï¼Œè¯·å¤§å®¶ç›´æ¥æŒ‡å‡ºï¼Œå°ç¼–è™šå¿ƒæ±‚æ•™ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å½“é€’å½’å¼•çˆ†è°ƒç”¨æ ˆï¼šä½ çš„å‰ç«¯åº”ç”¨è¿˜èƒ½ä¼˜é›…é™è½å—ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7571678388954021907</link>    <guid>https://juejin.cn/post/7571678388954021907</guid>    <pubDate>2025-11-12T13:18:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571678388954021907" data-draft-id="7571646669202030634" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å½“é€’å½’å¼•çˆ†è°ƒç”¨æ ˆï¼šä½ çš„å‰ç«¯åº”ç”¨è¿˜èƒ½ä¼˜é›…é™è½å—ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-12T13:18:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°æ—¶å‰ç«¯"/> <meta itemprop="url" content="https://juejin.cn/user/1197805741808339"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å½“é€’å½’å¼•çˆ†è°ƒç”¨æ ˆï¼šä½ çš„å‰ç«¯åº”ç”¨è¿˜èƒ½ä¼˜é›…é™è½å—ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1197805741808339/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°æ—¶å‰ç«¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T13:18:43.000Z" title="Wed Nov 12 2025 13:18:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-light">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>â€œä»Šå¤©æˆ‘ä»¬èŠèŠå‰ç«¯æ€§èƒ½ä¸­ä¸€ä¸ªéšè”½è€Œå…³é”®çš„è§’è½â€”â€”é€’å½’ä¼˜åŒ–ã€‚ä¸è¿‡åœ¨æ·±å…¥ä¹‹å‰ï¼Œæˆ‘æƒ³å…ˆåˆ†äº«ä¸€ä¸ªè§†è§’ã€‚â€</p>
<p>â€œåœ¨æˆ‘ä»¬å›¢é˜Ÿçœ‹æ¥ï¼Œå‰ç«¯ä»£ç ä¸ä»…æ˜¯å®ç°ä¸šåŠ¡é€»è¾‘çš„å·¥å…·ï¼Œæ›´æ˜¯<strong>ç”¨æˆ·è®¾å¤‡èµ„æºçš„ç®¡å®¶</strong>ã€‚ä¸€ä¸ªåœ¨åç«¯çœ‹ä¼¼æ— å®³çš„æ·±åº¦é€’å½’ï¼Œä¼ é€’åˆ°ç”¨æˆ·æµè§ˆå™¨ä¸­ï¼Œå°±å¯èƒ½æˆä¸ºè€—å°½å†…å­˜ã€å¯¼è‡´é¡µé¢å¡é¡¿ç”šè‡³å´©æºƒçš„å…ƒå‡¶ã€‚â€</p>
<p>â€œå› æ­¤ï¼Œå½“æˆ‘è€ƒå¯Ÿä¸€ä¸ªå€™é€‰äººå¯¹æ€§èƒ½ä¼˜åŒ–çš„ç†è§£æ—¶ï¼Œæˆ‘æ ¸å¿ƒå…³æ³¨çš„ä¸æ˜¯ä»–è®°ä½äº†å¤šå°‘APIï¼Œè€Œæ˜¯ä»–æ˜¯å¦å…·å¤‡ä¸€ç§ <strong>â€˜æ‰§è¡Œä¸Šä¸‹æ–‡æ„ŸçŸ¥â€™</strong> çš„è§†è§’ã€‚ä»–æ˜¯å¦æ˜ç™½ï¼Œæˆ‘ä»¬çš„å·¥ä½œç›®æ ‡ï¼Œä¸ä»…æ˜¯å®ç°åŠŸèƒ½ï¼Œæ›´æ˜¯è¦<strong>åœ¨æœ‰é™çš„å†…å­˜å’Œè®¡ç®—èµ„æºä¸­ï¼Œæ„å»ºå‡ºæœ€ä¼˜é›…ã€æœ€é«˜æ•ˆçš„æ‰§è¡Œè·¯å¾„</strong>ã€‚â€</p>
<p>â€œè¿™æ„å‘³ç€ï¼Œä½ éœ€è¦å»ç†è§£ä»£ç åœ¨å¼•æ“ä¸­çš„æ‰§è¡Œè¿‡ç¨‹â€”â€”è°ƒç”¨æ ˆå¦‚ä½•å¢é•¿ã€å†…å­˜å¦‚ä½•åˆ†é…ã€åƒåœ¾å›æ”¶å¦‚ä½•å·¥ä½œâ€”â€”å¹¶ä¸ºæ½œåœ¨çš„èµ„æºç“¶é¢ˆè®¾è®¡<strong>æ›´ä¼˜çš„ç®—æ³•å’Œæ•°æ®ç»“æ„</strong>ã€‚â€</p>
<p>â€œæ‰€ä»¥ï¼Œä»Šå¤©çš„é—®é¢˜ä¸ä»…ä»…æ˜¯å…³äºâ€˜å°¾é€’å½’â€™è¿™ä¸ªå…·ä½“æ¦‚å¿µï¼Œæˆ‘æ›´æƒ³å¬åˆ°çš„æ˜¯ï¼Œä½ å¦‚ä½•<strong>ä»å¼•æ“å±‚é¢</strong>æ€è€ƒã€åˆ†æå’Œä¼˜åŒ–ä¸€æ®µçœ‹ä¼¼ç®€å•çš„é€’å½’ä»£ç ã€‚è®©æˆ‘ä»¬å°±ä»è¿™é‡Œå¼€å§‹èŠèµ·å§ã€‚â€</p>
<p>å½“æˆ‘é—®èµ·è¿™ä¸ªé—®é¢˜æ—¶ï¼Œæˆ‘ä¸ä»…ä»…æ˜¯æƒ³å¬å‡ ä¸ªåè¯ã€‚æˆ‘æƒ³è€ƒå¯Ÿçš„æ˜¯ï¼š</p>
<ol>
<li><strong>æ·±åº¦</strong>ï¼šä½ å¯¹é€’å½’çš„ç†è§£æ˜¯å¦åœç•™åœ¨â€œå‡½æ•°è°ƒç”¨è‡ªèº«â€çš„å±‚é¢ï¼Ÿ</li>
<li><strong>åŸç†</strong>ï¼šä½ æ˜¯å¦ç†è§£è°ƒç”¨æ ˆçš„å·¥ä½œåŸç†å’Œå†…å­˜ç®¡ç†æœºåˆ¶ï¼Ÿ</li>
<li><strong>å®è·µ</strong>ï¼šä½ æ˜¯å¦æœ‰è¿‡å®é™…çš„æ€§èƒ½é—®é¢˜æ’æŸ¥ç»éªŒï¼Œæˆ–è€…è‡³å°‘æ€è€ƒè¿‡ä¼˜åŒ–æ–¹æ¡ˆï¼Ÿ</li>
<li><strong>æ ‡å‡†è®¤çŸ¥</strong>ï¼šä½ æ˜¯å¦äº†è§£è¯­è¨€ç‰¹æ€§åœ¨ç†è®ºæ ‡å‡†å’Œç°å®å®ç°ä¹‹é—´çš„å·®è·ï¼Ÿ</li>
</ol>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å°±ä»â€œå°¾é€’å½’ä¼˜åŒ–â€è¿™ä¸ªç‚¹åˆ‡å…¥ï¼Œç³»ç»Ÿåœ°èŠä¸€èŠã€‚</p>
<h2 data-id="heading-1">ä¸€ã€æ ¸å¿ƒç†å¿µï¼šé€’å½’çš„æ€§èƒ½ç“¶é¢ˆä¸åœ¨è®¡ç®—ï¼Œè€Œåœ¨å†…å­˜</h2>
<p>é¦–å…ˆè¦æ˜ç¡®ï¼Œé€’å½’é—®é¢˜çš„æ€§èƒ½ç“¶é¢ˆå¾€å¾€ä¸æ˜¯è®¡ç®—å¤æ‚åº¦ï¼Œè€Œæ˜¯<strong>ç©ºé—´å¤æ‚åº¦</strong>â€”â€”å…·ä½“æ¥è¯´ï¼Œæ˜¯è°ƒç”¨æ ˆçš„æ·±åº¦é™åˆ¶ã€‚</p>
<ul>
<li><strong>æ™®é€šé€’å½’</strong>ï¼šæ¯æ¬¡é€’å½’è°ƒç”¨éƒ½ä¼šåœ¨è°ƒç”¨æ ˆä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æ ˆå¸§ï¼Œä¿å­˜å½“å‰å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</li>
<li><strong>å°¾é€’å½’</strong>ï¼šé€šè¿‡ç‰¹å®šçš„ä»£ç ç»“æ„ï¼Œè®©å¼•æ“æœ‰æœºä¼šå¤ç”¨æ ˆå¸§ï¼Œå°†ç©ºé—´å¤æ‚åº¦ä»O(n)é™ä¸ºO(1)ã€‚</li>
</ul>
<p>æ‰€ä»¥ï¼Œé€’å½’ä¼˜åŒ–çš„æ ¸å¿ƒæ˜¯å›´ç»•ç€â€œå¦‚ä½•å‡å°‘è°ƒç”¨æ ˆçš„æ·±åº¦æ¶ˆè€—â€æ¥å±•å¼€çš„ã€‚</p>
<h2 data-id="heading-2">äºŒã€æ™®é€šé€’å½’ vs å°¾é€’å½’ï¼šä»æ ˆæº¢å‡ºåˆ°æ— é™å¯èƒ½</h2>
<p><strong>1. é¢è¯•å®˜æƒ³å¬åˆ°ä»€ä¹ˆï¼Ÿ</strong>
ä»–å¸Œæœ›ä½ ä¸ä»…çŸ¥é“å°¾é€’å½’çš„æ¦‚å¿µï¼Œæ›´èƒ½ä»è°ƒç”¨æ ˆçš„è§’åº¦è§£é‡Šæ¸…æ¥šä¸ºä»€ä¹ˆå°¾é€’å½’å¯ä»¥ä¼˜åŒ–ï¼Œä»¥åŠè¿™ç§ä¼˜åŒ–å¸¦æ¥çš„å®é™…ä»·å€¼ã€‚å¦‚æœä½ èƒ½æåˆ°å…·ä½“çš„ç©ºé—´å¤æ‚åº¦å˜åŒ–ï¼Œè¯´æ˜ä½ å¯¹æ€§èƒ½åˆ†ææœ‰æ‰å®çš„åŸºç¡€ã€‚</p>
<p><strong>2. æ™®é€šé€’å½’çš„å›°å¢ƒ</strong>
è®©æˆ‘ä»¬ç”¨ç»å…¸çš„é˜¶ä¹˜å‡½æ•°ä¸¾ä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ™®é€šé€’å½’ - æ¸…æ™°çš„æ€ç»´æ¨¡å‹ï¼Œä½†å­˜åœ¨æ€§èƒ½éšæ‚£</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">factorial</span>(<span class="hljs-params">n</span>) {
  <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">return</span> n * <span class="hljs-title function_">factorial</span>(n - <span class="hljs-number">1</span>); <span class="hljs-comment">// é—®é¢˜æ‰€åœ¨ï¼</span>
  }
}

<span class="hljs-title function_">factorial</span>(<span class="hljs-number">5</span>); <span class="hljs-comment">// 120</span>
</code></pre>
<p><strong>æ‰§è¡Œè¿‡ç¨‹åˆ†æï¼š</strong></p>
<ul>
<li><code>factorial(5)</code> ç­‰å¾… <code>factorial(4)</code> çš„ç»“æœæ¥è®¡ç®— <code>5 * ...</code></li>
<li><code>factorial(4)</code> ç­‰å¾… <code>factorial(3)</code> çš„ç»“æœæ¥è®¡ç®— <code>4 * ...</code></li>
<li>ä»¥æ­¤ç±»æ¨...</li>
<li>æ¯ä¸ªå‡½æ•°éƒ½åœ¨ç­‰å¾…ï¼Œä½†å®ƒä»¬çš„æ‰§è¡Œä¸Šä¸‹æ–‡éƒ½è¢«å‹åœ¨è°ƒç”¨æ ˆä¸­</li>
</ul>
<pre><code class="hljs language-scss" lang="scss">è°ƒç”¨æ ˆå¢é•¿è¿‡ç¨‹ï¼š
| <span class="hljs-built_in">factorial</span>(<span class="hljs-number">1</span>) |  &lt;- æ ˆé¡¶
| <span class="hljs-built_in">factorial</span>(<span class="hljs-number">2</span>) |
| <span class="hljs-built_in">factorial</span>(<span class="hljs-number">3</span>) |
| <span class="hljs-built_in">factorial</span>(<span class="hljs-number">4</span>) |
| <span class="hljs-built_in">factorial</span>(<span class="hljs-number">5</span>) |  &lt;- æ ˆåº•
</code></pre>
<p>å½“nè¶³å¤Ÿå¤§æ—¶ï¼ˆæ¯”å¦‚100000ï¼‰ï¼Œè°ƒç”¨æ ˆæ·±åº¦è¶…å‡ºå¼•æ“é™åˆ¶ï¼Œå°±ä¼šå‘ç”Ÿ<strong>æ ˆæº¢å‡º</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">factorial</span>(<span class="hljs-number">100000</span>); <span class="hljs-comment">// RangeError: Maximum call stack size exceeded</span>
</code></pre>
<p><strong>3. å°¾é€’å½’çš„è§£å†³æ–¹æ¡ˆ</strong>
å°†å‡½æ•°æ”¹å†™æˆå°¾é€’å½’å½¢å¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å°¾é€’å½’ç‰ˆæœ¬ - æ€§èƒ½ä¼˜åŒ–ï¼Œä½†éœ€è¦æ€ç»´è½¬æ¢</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">factorial</span>(<span class="hljs-params">n, total = <span class="hljs-number">1</span></span>) {
  <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) {
    <span class="hljs-keyword">return</span> total;
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">factorial</span>(n - <span class="hljs-number">1</span>, n * total); <span class="hljs-comment">// å…³é”®å˜åŒ–ï¼</span>
  }
}

<span class="hljs-title function_">factorial</span>(<span class="hljs-number">5</span>); <span class="hljs-comment">// 120</span>
</code></pre>
<p><strong>æ‰§è¡Œè¿‡ç¨‹åˆ†æï¼š</strong></p>
<ul>
<li><code>factorial(5, 1)</code> ç›´æ¥è¿”å› <code>factorial(4, 5)</code></li>
<li><code>factorial(4, 5)</code> ç›´æ¥è¿”å› <code>factorial(3, 20)</code></li>
<li>ä»¥æ­¤ç±»æ¨...</li>
<li>æ¯ä¸ªå‡½æ•°åœ¨è¿”å›æ—¶éƒ½<strong>ä¸å†éœ€è¦å½“å‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡</strong></li>
</ul>
<pre><code class="hljs language-scss" lang="scss">è°ƒç”¨æ ˆä¿æŒå¹³å¦ï¼š
| <span class="hljs-built_in">factorial</span>(<span class="hljs-number">5</span>, <span class="hljs-number">1</span>) | -&gt; | <span class="hljs-built_in">factorial</span>(<span class="hljs-number">4</span>, <span class="hljs-number">5</span>) | -&gt; | <span class="hljs-built_in">factorial</span>(<span class="hljs-number">3</span>, <span class="hljs-number">20</span>) | -&gt; ...
</code></pre>
<p><strong>4. å¦‚ä½•å›ç­”ï¼ˆå±•ç°ä½ çš„åŸç†ç†è§£ï¼‰</strong>
â€œæ™®é€šé€’å½’å’Œå°¾é€’å½’çš„æ ¸å¿ƒåŒºåˆ«åœ¨äºè°ƒç”¨æ ˆçš„ç®¡ç†æ–¹å¼ã€‚æ™®é€šé€’å½’æ¯æ¬¡è°ƒç”¨éƒ½ä¼šä¿ç•™å½“å‰å‡½æ•°çš„æ ˆå¸§ï¼Œå¯¼è‡´ç©ºé—´å¤æ‚åº¦ä¸ºO(n)ï¼Œå®¹æ˜“æ ˆæº¢å‡ºã€‚è€Œå°¾é€’å½’é€šè¿‡ç¡®ä¿å‡½æ•°çš„æœ€åä¸€æ­¥åªæ˜¯é€’å½’è°ƒç”¨è‡ªèº«ï¼Œè®©å¼•æ“æœ‰æœºä¼šå¤ç”¨å½“å‰æ ˆå¸§ï¼Œå°†ç©ºé—´å¤æ‚åº¦é™ä¸ºO(1)ã€‚è¿™å°±åƒå¤šäººæ¥åŠ›èµ›è·‘â€”â€”æ™®é€šé€’å½’æ˜¯æ¯ä¸ªäººéƒ½ç«™åœ¨åŸåœ°ç­‰å¾…ç»“æœï¼Œè€Œå°¾é€’å½’æ˜¯ç›´æ¥æŠŠæ‰‹é‡Œçš„æ¥åŠ›æ£’ä¼ ç»™ä¸‹ä¸€ä¸ªäººï¼Œè‡ªå·±å°±å¯ä»¥ç¦»å¼€äº†ã€‚â€</p>
<h2 data-id="heading-3">ä¸‰ã€å°¾è°ƒç”¨ä¼˜åŒ–ï¼šç†è®ºçš„ç¾å¥½ä¸ç°å®çš„éª¨æ„Ÿ</h2>
<p><strong>1. é¢è¯•å®˜æƒ³å¬åˆ°ä»€ä¹ˆï¼Ÿ</strong>
å€™é€‰äººéœ€è¦äº†è§£ES6æ ‡å‡†ä¸­è§„å®šäº†å°¾è°ƒç”¨ä¼˜åŒ–ï¼Œä½†ä¹Ÿè¦æ¸…æ¥šçŸ¥é“è¿™ä¸ªç‰¹æ€§åœ¨ä¸»æµæµè§ˆå™¨ä¸­çš„å®ç°ç°çŠ¶ã€‚è¿™è€ƒå¯Ÿçš„æ˜¯ä½ å¯¹Webæ ‡å‡†æ¼”è¿›å’Œå·¥ç¨‹å®è·µè½å·®çš„è®¤çŸ¥ã€‚</p>
<p><strong>2. ç†è®ºä¸Šçš„å®Œç¾æ–¹æ¡ˆ</strong>
æ ¹æ®ES6æ ‡å‡†ï¼Œå°¾è°ƒç”¨ä¼˜åŒ–åº”è¯¥è¿™æ ·å·¥ä½œï¼š</p>
<ul>
<li>å½“å‡½æ•°Båœ¨å‡½æ•°Açš„å°¾éƒ¨è¢«è°ƒç”¨æ—¶ï¼Œå¼•æ“å¯ä»¥é‡ç”¨å‡½æ•°Açš„æ ˆå¸§</li>
<li>è°ƒç”¨æ ˆæ·±åº¦ä¿æŒä¸å˜ï¼Œé¿å…æ ˆæº¢å‡º</li>
<li>å†…å­˜ä½¿ç”¨ä¿æŒæ’å®šï¼Œä¸å—é€’å½’æ·±åº¦å½±å“</li>
</ul>
<p><strong>3. ç°å®ä¸­çš„å®ç°å›°å¢ƒ</strong>
ç„¶è€Œï¼Œç°å®æ˜¯éª¨æ„Ÿçš„ï¼š</p>
<ul>
<li><strong>Chrome (V8)</strong>ï¼šé»˜è®¤æœªå¯ç”¨ï¼Œéœ€è¦ç‰¹æ®Šflag</li>
<li><strong>Firefox</strong>ï¼šæ›¾ç»å®ç°ï¼Œä½†åœ¨æŸäº›ç‰ˆæœ¬ä¸­åˆç§»é™¤äº†</li>
<li><strong>Safari</strong>ï¼šæ˜¯ç›®å‰å¯¹TCOæ”¯æŒæœ€å¥½çš„ï¼Œä½†ä¹Ÿä¸æ˜¯é»˜è®¤å¼€å¯</li>
<li><strong>Node.js</strong>ï¼šéœ€è¦<code>--harmony_tailcalls</code>flagï¼Œä¸”è¯¥flagå·²è¢«æ ‡è®°ä¸ºè¿‡æ—¶</li>
</ul>
<p><strong>4. å¦‚ä½•å›ç­”ï¼ˆå±•ç°ä½ çš„å·¥ç¨‹å®è·µè®¤çŸ¥ï¼‰</strong>
â€œè™½ç„¶å°¾é€’å½’åœ¨ç†è®ºä¸Šæ˜¯è§£å†³é€’å½’æ€§èƒ½é—®é¢˜çš„é“¶å¼¹ï¼Œä½†åœ¨å½“å‰çš„å·¥ç¨‹å®è·µä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä¿æŒè°¨æ…ã€‚ES6æ ‡å‡†ç¡®å®è§„å®šäº†å°¾è°ƒç”¨ä¼˜åŒ–ï¼Œä½†ä¸»æµæµè§ˆå™¨å¼•æ“å‡ºäºè°ƒè¯•ä½“éªŒå’Œæ€§èƒ½æƒè¡¡çš„è€ƒè™‘ï¼Œå¤§å¤šæ²¡æœ‰é»˜è®¤å¯ç”¨è¿™ä¸ªç‰¹æ€§ã€‚è¿™æ„å‘³ç€ï¼Œå³ä½¿æˆ‘ä»¬å†™äº†ç¬¦åˆè§„èŒƒçš„å°¾é€’å½’ä»£ç ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¹Ÿå¯èƒ½æ— æ³•äº«å—åˆ°ä¼˜åŒ–å¥½å¤„ã€‚â€</p>
<h2 data-id="heading-4">å››ã€è¶…è¶Šå°¾é€’å½’ï¼šæ„å»ºå®Œæ•´çš„é€’å½’ä¼˜åŒ–æ–¹æ¡ˆ</h2>
<p>ä¸€ä¸ªä¼˜ç§€çš„å€™é€‰äººï¼Œè¿˜èƒ½èŠåˆ°æ›´å¤šå®é™…è§£å†³æ–¹æ¡ˆã€‚æˆ‘ä¼šæŠŠè¿™äº›è§†ä¸º"æƒŠå–œ"ã€‚</p>
<p><strong>1. è¿­ä»£æ–¹æ¡ˆï¼šæœ€å¯é çš„æ›¿ä»£</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¿­ä»£ç‰ˆæœ¬ - ç”Ÿäº§ç¯å¢ƒçš„é¦–é€‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">factorial</span>(<span class="hljs-params">n</span>) {
  <span class="hljs-keyword">let</span> result = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++) {
    result *= i;
  }
  <span class="hljs-keyword">return</span> result;
}
</code></pre>
<p><strong>2. Trampolineæ¨¡å¼ï¼šæ‰‹åŠ¨ç®¡ç†è°ƒç”¨æ ˆ</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é€šè¿‡å¾ªç¯+å‡½æ•°åŒ…è£…æ¥æ¨¡æ‹Ÿå°¾é€’å½’ä¼˜åŒ–</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">trampoline</span>(<span class="hljs-params">fn</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) {
    <span class="hljs-keyword">let</span> result = <span class="hljs-title function_">fn</span>(...args);
    <span class="hljs-keyword">while</span> (<span class="hljs-keyword">typeof</span> result === <span class="hljs-string">'function'</span>) {
      result = <span class="hljs-title function_">result</span>();
    }
    <span class="hljs-keyword">return</span> result;
  };
}

<span class="hljs-keyword">const</span> factorial = <span class="hljs-title function_">trampoline</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">n, total = <span class="hljs-number">1</span></span>) {
  <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> total;
  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">factorial</span>(n - <span class="hljs-number">1</span>, n * total);
});
</code></pre>
<p><strong>3. ç®—æ³•å±‚é¢ä¼˜åŒ–</strong></p>
<ul>
<li><strong>è®°å¿†åŒ–</strong>ï¼šç¼“å­˜å·²è®¡ç®—ç»“æœï¼Œé¿å…é‡å¤è®¡ç®—</li>
<li><strong>é—®é¢˜åˆ†è§£</strong>ï¼šå°†å¤§é—®é¢˜æ‹†åˆ†ä¸ºå¯å¹¶è¡Œå¤„ç†çš„å­é—®é¢˜</li>
<li><strong>æ—©æœŸç»ˆæ­¢</strong>ï¼šåœ¨æ»¡è¶³æ¡ä»¶æ—¶æå‰è¿”å›ï¼Œå‡å°‘é€’å½’æ·±åº¦</li>
</ul>
<h2 data-id="heading-5">é¢è¯•å®˜æ€»ç»“ï¼šæˆ‘å¿ƒç›®ä¸­çš„ç†æƒ³å›ç­”</h2>
<p>ä¸€ä¸ªè®©æˆ‘çœ¼å‰ä¸€äº®çš„å›ç­”ï¼Œåº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p>
<p>"å¯¹äºé€’å½’ä¼˜åŒ–ï¼Œæˆ‘è®¤ä¸ºéœ€è¦ä»ç†è®ºåŸç†å’Œå·¥ç¨‹å®è·µä¸¤ä¸ªå±‚é¢æ¥è€ƒè™‘ï¼š</p>
<p>ä»<strong>åŸç†å±‚é¢</strong>ï¼Œæˆ‘ç†è§£å°¾é€’å½’é€šè¿‡æ”¹å˜é€’å½’è°ƒç”¨çš„ä½ç½®ï¼Œè®©å‡½æ•°åœ¨è¿”å›æ—¶ä¸å†ä¾èµ–å½“å‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œä»è€Œä¸ºå¼•æ“æä¾›äº†å¤ç”¨æ ˆå¸§çš„å¯èƒ½æ€§ã€‚è¿™ç§ä¼˜åŒ–èƒ½å°†ç©ºé—´å¤æ‚åº¦ä»O(n)é™ä¸ºO(1)ï¼Œä»æ ¹æœ¬ä¸Šè§£å†³æ ˆæº¢å‡ºé—®é¢˜ã€‚</p>
<p>ä»<strong>å®è·µå±‚é¢</strong>ï¼Œæˆ‘çŸ¥é“è™½ç„¶ES6æ ‡å‡†è§„å®šäº†å°¾è°ƒç”¨ä¼˜åŒ–ï¼Œä½†ç”±äºè°ƒè¯•ä½“éªŒå’Œå®ç°å¤æ‚åº¦çš„è€ƒè™‘ï¼Œä¸»æµæµè§ˆå™¨å¼•æ“å¤§å¤šæ²¡æœ‰é»˜è®¤å¯ç”¨ã€‚å› æ­¤åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘æ›´å€¾å‘äºä½¿ç”¨è¿­ä»£æ–¹æ¡ˆæ¥æ›¿ä»£æ·±åº¦é€’å½’ï¼Œæˆ–è€…åœ¨å¿…è¦æ—¶ä½¿ç”¨Trampolineè¿™æ ·çš„æŠ€æœ¯æ¥æ‰‹åŠ¨æ¨¡æ‹Ÿå°¾é€’å½’ä¼˜åŒ–ã€‚</p>
<p>æ€»ä¹‹ï¼Œç†è§£å°¾é€’å½’ä¸ä»…æ˜¯ä¸ºäº†åº”å¯¹é¢è¯•é—®é¢˜ï¼Œæ›´æ˜¯ä¸ºäº†åŸ¹å…»ä¸€ç§'æ‰§è¡Œä¸Šä¸‹æ–‡æ„ŸçŸ¥'çš„ç¼–ç¨‹æ€ç»´â€”â€”åœ¨å®ç°åŠŸèƒ½çš„åŒæ—¶ï¼Œå§‹ç»ˆå…³æ³¨ä»£ç åœ¨å¼•æ“ä¸­çš„å®é™…æ‰§è¡Œè¿‡ç¨‹ã€‚"</p>
<p><strong>æ€è€ƒé¢˜ï¼š</strong> åœ¨ä½ çš„é¡¹ç›®ä¸­ï¼Œæ˜¯å¦é‡åˆ°è¿‡å› ä¸ºé€’å½’å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ï¼Ÿä½ æ˜¯å¦‚ä½•å‘ç°å¹¶è§£å†³çš„ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„å®æˆ˜ç»éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vibe Coding å®æˆ˜æ•™å­¦ï¼šç”¨ Trae åä½œå¼€å‘ Chrome æ‰©å±• â€œHulkâ€]]></title>    <link>https://juejin.cn/post/7571725550709178395</link>    <guid>https://juejin.cn/post/7571725550709178395</guid>    <pubDate>2025-11-12T14:22:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571725550709178395" data-draft-id="7571695634942197787" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vibe Coding å®æˆ˜æ•™å­¦ï¼šç”¨ Trae åä½œå¼€å‘ Chrome æ‰©å±• â€œHulkâ€"/> <meta itemprop="keywords" content="å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-12T14:22:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¥ç§˜çš„çŒªå¤´"/> <meta itemprop="url" content="https://juejin.cn/user/793223472877051"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vibe Coding å®æˆ˜æ•™å­¦ï¼šç”¨ Trae åä½œå¼€å‘ Chrome æ‰©å±• â€œHulkâ€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/793223472877051/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¥ç§˜çš„çŒªå¤´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T14:22:47.000Z" title="Wed Nov 12 2025 14:22:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯ Vibe Codingï¼Ÿ</h2>
<p>Vibe Coding æ˜¯ä¸€ç§ä»¥â€œæ°›å›´â€å’Œâ€œä¸Šä¸‹æ–‡â€ä¸ºæ ¸å¿ƒçš„æ–°å‹ç¼–ç¨‹åä½œèŒƒå¼ã€‚å®ƒå¼ºè°ƒï¼š</p>
<ul>
<li><strong>äººä¸ AI ç¼–ç¨‹åŠ©æ‰‹ï¼ˆå¦‚ Traeï¼‰çš„æ·±åº¦åä½œ</strong></li>
<li><strong>æ–‡æ¡£ &gt; ä»£ç </strong>ï¼šæ¸…æ™°çš„éœ€æ±‚ã€è®¾è®¡ç¨¿ã€æ¥å£è¯´æ˜æ˜¯ç”Ÿæˆé«˜è´¨é‡ä»£ç çš„å‰æ</li>
<li><strong>å¼€å‘è€…è§’è‰²è½¬å˜</strong>ï¼šä»å†™æ¯ä¸€è¡Œä»£ç ï¼Œå˜ä¸ºæä¾›ä¸Šä¸‹æ–‡ã€ç›‘ç£é€»è¾‘ã€æŠŠæ§è´¨é‡</li>
</ul>
<p>åœ¨ Vibe Coding æ¨¡å¼ä¸‹ï¼Œæˆ‘ä»¬ä¸å†æ‰§ç€äºâ€œæ‰‹æ•²ä»£ç â€ï¼Œè€Œæ˜¯ä¸“æ³¨äºï¼š</p>
<ul>
<li>å†™å¥½éœ€æ±‚æ–‡æ¡£</li>
<li>ç»˜åˆ¶çº¿æ¡†å›¾æˆ–è®¾è®¡ç¨¿</li>
<li>è§„åˆ’é¡¹ç›®ç»“æ„</li>
<li>å®šä¹‰äº¤äº’æµç¨‹</li>
</ul>
<p>AIï¼ˆå¦‚ Traeï¼‰åˆ™è´Ÿè´£å°†è¿™äº›â€œvibeâ€è½¬åŒ–ä¸ºå¯è¿è¡Œçš„ä»£ç ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€å®æˆ˜ç›®æ ‡ï¼šå¼€å‘ Chrome æ‰©å±• â€œHulkâ€</h2>
<p>æˆ‘ä»¬å°†ä½¿ç”¨ Vibe Coding çš„æ–¹å¼ï¼Œä¸ Trae åˆä½œå¼€å‘ä¸€ä¸ªåä¸º <strong>Hulk</strong> çš„ Chrome æ‰©å±•ç¨‹åºã€‚</p>
<h3 data-id="heading-2">åŠŸèƒ½éœ€æ±‚ï¼ˆéœ€æ±‚æ–‡æ¡£ï¼‰</h3>
<ul>
<li>
<p>ç”¨æˆ·ç‚¹å‡»æ‰©å±•å›¾æ ‡ï¼Œå¼¹å‡º popup çª—å£</p>
</li>
<li>
<p>çª—å£ä¸­æ˜¾ç¤ºï¼š</p>
<ul>
<li>æ ‡é¢˜ï¼šâ€œæ”¹å˜èƒŒæ™¯é¢œè‰²â€</li>
<li>æç¤ºæ–‡å­—ï¼šâ€œç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å°†å½“å‰é¡µé¢èƒŒæ™¯è‰²æ”¹ä¸ºç»¿è‰²â€</li>
<li>ä¸€ä¸ªæŒ‰é’®ï¼šâ€œæ”¹å˜é¢œè‰²â€</li>
</ul>
</li>
<li>
<p>ç‚¹å‡»æŒ‰é’®åï¼Œ<strong>å½“å‰ç½‘é¡µçš„èƒŒæ™¯è‰²å˜ä¸ºç»¿è‰²</strong></p>
</li>
</ul>
<h3 data-id="heading-3">è®¾è®¡å‚è€ƒï¼ˆUX è®¾è®¡ç¨¿ï¼‰</h3>
<blockquote>
<p>å‡è®¾ä½ å·²æä¾› <code>ux.jpg</code>ï¼Œå…¶ä¸­å±•ç¤ºäº† popup çš„å¸ƒå±€ï¼šç®€æ´å¡ç‰‡å¼ UIï¼Œå±…ä¸­æ–‡å­— + æŒ‰é’®ã€‚</p>
</blockquote>
<h3 data-id="heading-4">æŠ€æœ¯çº¦æŸ</h3>
<ul>
<li>ä½¿ç”¨ <code>icons/</code> æ–‡ä»¶å¤¹ä¸­çš„å›¾æ ‡ä½œä¸ºæ‰©å±•å›¾æ ‡</li>
<li>ä½¿ç”¨æ ‡å‡† Chrome Extension Manifest V3 æ¶æ„</li>
<li>ä¸ä¾èµ–å¤–éƒ¨åº“ï¼ˆçº¯ HTML/CSS/JSï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€ä¸º Trae æä¾›å®Œæ•´ä¸Šä¸‹æ–‡ï¼ˆVibe å‡†å¤‡ï¼‰</h2>
<p>ä¸ºäº†è®© Trae é«˜æ•ˆç”Ÿæˆä»£ç ï¼Œæˆ‘ä»¬éœ€è¦æä¾›ä»¥ä¸‹â€œvibeâ€ææ–™ï¼š</p>

























<table><thead><tr><th>ç±»å‹</th><th>å†…å®¹</th></tr></thead><tbody><tr><td><strong>éœ€æ±‚æ–‡æ¡£</strong></td><td>å¦‚ä¸Šæ‰€è¿°çš„åŠŸèƒ½æè¿°</td></tr><tr><td><strong>è®¾è®¡ç¨¿</strong></td><td><code>ux.jpg</code>ï¼ˆè§†è§‰å‚è€ƒï¼‰</td></tr><tr><td><strong>ç›®å½•ç»“æ„è§„åˆ’</strong></td><td>æ˜ç¡®æ–‡ä»¶ç»„ç»‡</td></tr><tr><td><strong>æŠ€æœ¯æ ˆè¯´æ˜</strong></td><td>Manifest V3ã€popupã€content script</td></tr></tbody></table>
<h3 data-id="heading-6">è§„åˆ’é¡¹ç›®ç›®å½•ç»“æ„</h3>
<pre><code class="hljs language-bash" lang="bash">hulk-extension/
â”œâ”€â”€ manifest.json          <span class="hljs-comment"># æ‰©å±•é…ç½®</span>
â”œâ”€â”€ icons/
â”‚   â”œâ”€â”€ icon16.png
â”‚   â”œâ”€â”€ icon48.png
â”‚   â””â”€â”€ icon128.png
â”œâ”€â”€ popup/
â”‚   â”œâ”€â”€ index.html         <span class="hljs-comment"># å¼¹çª—é¡µé¢</span>
â”‚   â”œâ”€â”€ style.css          <span class="hljs-comment"># å¼¹çª—æ ·å¼</span>
â”‚   â””â”€â”€ script.js          <span class="hljs-comment"># å¼¹çª—é€»è¾‘</span>
â””â”€â”€ content.js             <span class="hljs-comment"># æ³¨å…¥é¡µé¢ï¼Œä¿®æ”¹èƒŒæ™¯è‰²</span>
</code></pre>
<hr/>
<h2 data-id="heading-7">å››ã€Trae ç”Ÿæˆçš„ä»£ç ï¼ˆåŸºäºä¸Šè¿°ä¸Šä¸‹æ–‡ï¼‰</h2>
<blockquote>
<p>ä¸‹é¢æ˜¯ Trae åœ¨æ¥æ”¶åˆ°å®Œæ•´ä¸Šä¸‹æ–‡åï¼Œåº”èƒ½è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç ã€‚</p>
</blockquote>
<h3 data-id="heading-8">1. <code>manifest.json</code></h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"manifest_version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Hulk"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä¸€é”®å°†ç½‘é¡µèƒŒæ™¯å˜ä¸ºç»¿è‰²ï¼"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"icons"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"16"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icons/icon16.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"48"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icons/icon48.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"128"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icons/icon128.png"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"default_popup"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"popup/index.html"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"default_title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Hulk - Change Background to Green"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"content_scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"matches"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"&lt;all_urls&gt;"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"js"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"content.js"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-9">2. <code>popup/index.html</code></h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"style.css"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ”¹å˜èƒŒæ™¯é¢œè‰²<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å°†å½“å‰é¡µé¢èƒŒæ™¯è‰²æ”¹ä¸ºç»¿è‰²<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"changeColor"</span>&gt;</span>æ”¹å˜é¢œè‰²<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"script.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h3 data-id="heading-10">3. <code>popup/style.css</code></h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">250px</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">16px</span>;
  <span class="hljs-attribute">font-family</span>: -apple-system, BlinkMacSystemFont, sans-serif;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;
  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.5</span>;
}

<span class="hljs-selector-class">.container</span> {
  <span class="hljs-attribute">text-align</span>: center;
}

<span class="hljs-selector-tag">button</span> {
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">12px</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span> <span class="hljs-number">16px</span>;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#4CAF50</span>;
  <span class="hljs-attribute">color</span>: white;
  <span class="hljs-attribute">border</span>: none;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
  <span class="hljs-attribute">cursor</span>: pointer;
}

<span class="hljs-selector-tag">button</span><span class="hljs-selector-pseudo">:hover</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#45a049</span>;
}
</code></pre>
<h3 data-id="heading-11">4. <code>popup/script.js</code></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'changeColor'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// å‘å½“å‰æ ‡ç­¾é¡µå‘é€æ¶ˆæ¯</span>
  chrome.<span class="hljs-property">tabs</span>.<span class="hljs-title function_">query</span>({ <span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">currentWindow</span>: <span class="hljs-literal">true</span> }, <span class="hljs-function">(<span class="hljs-params">tabs</span>) =&gt;</span> {
    chrome.<span class="hljs-property">tabs</span>.<span class="hljs-title function_">sendMessage</span>(tabs[<span class="hljs-number">0</span>].<span class="hljs-property">id</span>, { <span class="hljs-attr">action</span>: <span class="hljs-string">'changeBackgroundColor'</span> });
  });
});
</code></pre>
<h3 data-id="heading-12">5. <code>content.js</code></h3>
<pre><code class="hljs language-ini" lang="ini">// ç›‘å¬æ¥è‡ª popup çš„æ¶ˆæ¯
chrome.runtime.onMessage.addListener((request, sender, sendResponse) =&gt; {
  if (<span class="hljs-attr">request.action</span> === <span class="hljs-string">'changeBackgroundColor'</span>) {
    <span class="hljs-attr">document.body.style.backgroundColor</span> = <span class="hljs-string">'green'</span><span class="hljs-comment">;</span>
  }
})<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h2 data-id="heading-13">äº”ã€Vibe Coding çš„åä½œè¦ç‚¹æ€»ç»“</h2>
<h3 data-id="heading-14">âœ… æˆåŠŸçš„å…³é”®ï¼šæä¾›æ¸…æ™°ä¸Šä¸‹æ–‡</h3>
<ul>
<li>å¦‚æœåªè¯´â€œåšä¸ªæ”¹èƒŒæ™¯è‰²çš„æ’ä»¶â€ï¼ŒTrae å¯èƒ½é—æ¼ popup ç»“æ„æˆ–æƒé™é…ç½®ã€‚</li>
<li>ä½†å½“æˆ‘ä»¬æä¾›<strong>äº¤äº’æ­¥éª¤ + ç›®å½•ç»“æ„ + è®¾è®¡æ„å›¾</strong>ï¼Œç”Ÿæˆçš„ä»£ç å‡ ä¹å¯ç›´æ¥è¿è¡Œã€‚</li>
</ul>
<h3 data-id="heading-15">âœ… å¼€å‘è€…çš„æ–°è§’è‰²</h3>
<ul>
<li>
<p><strong>ä¸æ˜¯å†™ä»£ç çš„äººï¼Œè€Œæ˜¯â€œvibe æ¶æ„å¸ˆâ€</strong></p>
</li>
<li>
<p>è´Ÿè´£ï¼š</p>
<ul>
<li>å®šä¹‰ç”¨æˆ·æ—…ç¨‹ï¼ˆStep1 â†’ Step2ï¼‰</li>
<li>ç»˜åˆ¶çº¿æ¡†å›¾ï¼ˆå“ªæ€•æ‰‹ç»˜æ‹ç…§ï¼‰</li>
<li>ç¼–å†™ç»“æ„åŒ–éœ€æ±‚ï¼ˆé¿å…æ¨¡ç³Šæè¿°ï¼‰</li>
<li>å®¡æŸ¥ AI ç”Ÿæˆçš„é€»è¾‘æ˜¯å¦ç¬¦åˆé¢„æœŸ</li>
</ul>
</li>
</ul>
<h3 data-id="heading-16">âœ… è€å¿ƒæ‰“ç£¨â€œvibeâ€</h3>
<p>ç¬¬ä¸€æ¬¡ç”Ÿæˆå¯èƒ½ä¸å®Œç¾ï¼Ÿæ²¡å…³ç³»ï¼</p>
<ul>
<li>è¡¥å……è¯´æ˜ï¼šâ€œæŒ‰é’®è¦å±…ä¸­â€ã€â€œä¸è¦ä¿®æ”¹å­—ä½“é¢œè‰²â€</li>
<li>Trae ä¼šåŸºäºåé¦ˆè¿­ä»£ä¼˜åŒ–</li>
</ul>
<p>è¿™æ­£æ˜¯ Vibe Coding çš„ç²¾é«“ï¼š<strong>é€šè¿‡æŒç»­å¯¹è¯ï¼Œè®© AI ç†è§£ä½ çš„â€œæ„Ÿè§‰â€</strong> ã€‚</p>
<hr/>
<h2 data-id="heading-17">å…­ã€å¦‚ä½•æµ‹è¯• Hulk æ‰©å±•ï¼Ÿ</h2>
<ol>
<li>æ‰“å¼€ Chrome â†’ <code>chrome://extensions/</code></li>
<li>å¼€å¯ã€Œå¼€å‘è€…æ¨¡å¼ã€</li>
<li>ç‚¹å‡»ã€ŒåŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åºã€ï¼Œé€‰æ‹© <code>hulk-extension</code> æ–‡ä»¶å¤¹</li>
<li>è®¿é—®ä»»æ„ç½‘é¡µï¼Œç‚¹å‡» Hulk å›¾æ ‡</li>
<li>ç‚¹å‡»â€œæ”¹å˜é¢œè‰²â€æŒ‰é’® â†’ èƒŒæ™¯å˜ç»¿ï¼</li>
</ol>
<hr/>
<h2 data-id="heading-18">ä¸ƒã€å»¶ä¼¸æ€è€ƒï¼šVibe Coding çš„æœªæ¥</h2>
<ul>
<li><strong>å¤æ‚äº§å“ä¹Ÿèƒ½è¿™æ ·å¼€å‘å—ï¼Ÿ</strong><br/>
å½“ç„¶ï¼åªè¦æ‹†è§£æ¸…æ¥šæ¨¡å—ï¼ˆç™»å½•ã€æ•°æ®å±•ç¤ºã€è®¾ç½®é¡µï¼‰ï¼Œæ¯ä¸ªæ¨¡å—éƒ½å¯ç”¨åŒæ ·æ–¹å¼åä½œã€‚</li>
<li><strong>æ˜¯å¦è¿˜éœ€è¦å­¦ç¼–ç¨‹ï¼Ÿ</strong><br/>
éœ€è¦ï¼Œä½†é‡ç‚¹å˜äº†ï¼šä»è¯­æ³•ç»†èŠ‚ â†’ ç³»ç»Ÿè®¾è®¡ + ä¸Šä¸‹æ–‡è¡¨è¾¾èƒ½åŠ›ã€‚</li>
<li><strong>æ–‡æ¡£å³äº§å“</strong><br/>
åœ¨ Vibe Coding ä¸­ï¼Œä¸€ä»½å¥½çš„ PRDï¼ˆäº§å“éœ€æ±‚æ–‡æ¡£ï¼‰å¯èƒ½æ¯” 1000 è¡Œä»£ç æ›´æœ‰ä»·å€¼ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-19">ç»“è¯­</h2>
<p>é€šè¿‡è¿™æ¬¡ Hulk æ‰©å±•çš„å¼€å‘ï¼Œæˆ‘ä»¬ä½“éªŒäº† <strong>Vibe Coding çš„æ ¸å¿ƒç†å¿µ</strong>ï¼š</p>
<blockquote>
<p><strong>ç”¨æ¸…æ™°çš„æ–‡æ¡£å’Œè®¾è®¡ï¼Œå¼•å¯¼ AI ç”Ÿæˆå¯é ä»£ç ï¼›äººç±»ä¸“æ³¨åˆ›é€ ä¸ç›‘ç£ï¼Œè€Œéé‡å¤åŠ³åŠ¨ã€‚</strong></p>
</blockquote>
<p>ç°åœ¨ï¼Œè½®åˆ°ä½ äº†â€”â€”<br/>
æ‹¿èµ·ä½ çš„è®¾è®¡ç¨¿ï¼Œå†™ä¸‹ä½ çš„éœ€æ±‚ï¼Œå’Œ Trae ä¸€èµ·ï¼ŒVibe å‡ºä¸‹ä¸€ä¸ªäº§å“å§ï¼</p>
<hr/>
<blockquote>
<p>ğŸŒ± <strong>æç¤º</strong>ï¼šæœ¬æ–‡æœ¬èº«å°±æ˜¯ä¸€ä¸ªâ€œvibe æ–‡æ¡£â€â€”â€”å¦‚æœä½ æŠŠè¿™ç¯‡æ–‡ç« å–‚ç»™ Traeï¼Œå¹¶è¯´â€œè¯·æŒ‰æ­¤æ–‡å®ç° Hulk æ‰©å±•â€ï¼Œå®ƒå°±èƒ½ç”Ÿæˆå…¨éƒ¨ä»£ç ã€‚è¿™å°±æ˜¯ Vibe Coding çš„åŠ›é‡ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Ajax æ•°æ®è¯·æ±‚å­¦ä¹ ç¬”è®°]]></title>    <link>https://juejin.cn/post/7571704212850917427</link>    <guid>https://juejin.cn/post/7571704212850917427</guid>    <pubDate>2025-11-12T14:57:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571704212850917427" data-draft-id="7571704212850901043" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Ajax æ•°æ®è¯·æ±‚å­¦ä¹ ç¬”è®°"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,ä»£ç è§„èŒƒ"/> <meta itemprop="datePublished" content="2025-11-12T14:57:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="UIUV"/> <meta itemprop="url" content="https://juejin.cn/user/1036168457093483"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Ajax æ•°æ®è¯·æ±‚å­¦ä¹ ç¬”è®°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1036168457093483/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    UIUV
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T14:57:27.000Z" title="Wed Nov 12 2025 14:57:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯ Ajaxï¼Ÿ</h2>
<p>Ajaxï¼ˆAsynchronous JavaScript and XMLï¼‰æ˜¯ä¸€ç§åœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢çš„å‰æä¸‹ï¼Œé€šè¿‡ JavaScript å¼‚æ­¥å‘æœåŠ¡å™¨è¯·æ±‚æ•°æ®å¹¶æ›´æ–°éƒ¨åˆ†ç½‘é¡µå†…å®¹çš„æŠ€æœ¯ã€‚å°½ç®¡åå­—ä¸­åŒ…å« XMLï¼Œä½†åœ¨ç°ä»£ Web å¼€å‘ä¸­ï¼ŒAjax æ›´å¸¸ç”¨äºè¯·æ±‚å’Œå¤„ç† <strong>JSON</strong> æ ¼å¼çš„æ•°æ®ã€‚</p>
<p>Ajax çš„æ ¸å¿ƒä»·å€¼åœ¨äºï¼š<strong>å®ç°é¡µé¢çš„å±€éƒ¨åˆ·æ–°ï¼Œæå‡ç”¨æˆ·ä½“éªŒä¸æ€§èƒ½</strong>ã€‚ç”¨æˆ·æ— éœ€ç­‰å¾…æ•´é¡µé‡è½½ï¼Œå³å¯è·å–æœ€æ–°æ•°æ®å¹¶åŠ¨æ€æ¸²æŸ“åˆ°ç•Œé¢ä¸Šã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€Ajax çš„åŸºæœ¬å·¥ä½œæµç¨‹</h2>
<p>ä½¿ç”¨åŸç”Ÿ JavaScript å®ç° Ajax è¯·æ±‚ï¼Œä¸»è¦ä¾èµ– <code>XMLHttpRequest</code>ï¼ˆç®€ç§° XHRï¼‰å¯¹è±¡ã€‚å…¶æ ‡å‡†æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>å®ä¾‹åŒ–</strong>ï¼šåˆ›å»º <code>XMLHttpRequest</code> å¯¹è±¡ï¼›</li>
<li><strong>é…ç½®è¯·æ±‚</strong>ï¼šè°ƒç”¨ <code>.open(method, url, async)</code> æ–¹æ³•ï¼›</li>
<li><strong>å‘é€è¯·æ±‚</strong>ï¼šè°ƒç”¨ <code>.send()</code> æ–¹æ³•ï¼›</li>
<li><strong>ç›‘å¬çŠ¶æ€å˜åŒ–</strong>ï¼šé€šè¿‡ <code>onreadystatechange</code> äº‹ä»¶å¤„ç†å“åº”ï¼›</li>
<li><strong>è§£æä¸æ¸²æŸ“</strong>ï¼šå½“è¯·æ±‚å®Œæˆä¸”æˆåŠŸæ—¶ï¼Œè§£æå“åº”æ•°æ®å¹¶æ›´æ–° DOMã€‚</li>
</ol>
<h3 data-id="heading-2">1. å®ä¾‹åŒ– XMLHttpRequest</h3>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">xhr</span> = new XMLHttpRequest()<span class="hljs-comment">;</span>
</code></pre>
<p>æ­¤æ—¶ <code>xhr.readyState</code> ä¸º <code>0</code>ï¼Œè¡¨ç¤ºâ€œè¯·æ±‚æœªåˆå§‹åŒ–â€ã€‚</p>
<h3 data-id="heading-3">2. æ‰“å¼€è¯·æ±‚ï¼ˆopenï¼‰</h3>
<pre><code class="hljs language-kotlin" lang="kotlin">xhr.<span class="hljs-keyword">open</span>(<span class="hljs-string">'GET'</span>, <span class="hljs-string">'https://api.github.com/orgs/lemoncode/members'</span>, <span class="hljs-literal">true</span>);
</code></pre>
<p>å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li><code>method</code>ï¼šHTTP æ–¹æ³•ï¼Œå¦‚ <code>'GET'</code>ã€<code>'POST'</code>ï¼›</li>
<li><code>url</code>ï¼šç›®æ ‡æ¥å£åœ°å€ï¼›</li>
<li><code>async</code>ï¼šæ˜¯å¦å¼‚æ­¥ï¼ˆ<code>true</code> ä¸ºå¼‚æ­¥ï¼Œ<code>false</code> ä¸ºåŒæ­¥ï¼Œé»˜è®¤ä¸º <code>true</code>ï¼‰ã€‚</li>
</ul>
<p>è°ƒç”¨ <code>open()</code> åï¼Œ<code>readyState</code> å˜ä¸º <code>1</code>ï¼ˆè¯·æ±‚å·²å»ºç«‹ï¼‰ã€‚</p>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼š<strong>åŒæ­¥è¯·æ±‚ä¼šé˜»å¡ä¸»çº¿ç¨‹</strong>ï¼Œå¯¼è‡´é¡µé¢å¡é¡¿ï¼Œç°ä»£å¼€å‘ä¸­åº”é¿å…ä½¿ç”¨ã€‚</p>
</blockquote>
<h3 data-id="heading-4">3. å‘é€è¯·æ±‚ï¼ˆsendï¼‰</h3>
<pre><code class="hljs language-ini" lang="ini">xhr.send()<span class="hljs-comment">;</span>
</code></pre>
<p>è°ƒç”¨åï¼Œ<code>readyState</code> è¿›å…¥ <code>2</code>ï¼ˆè¯·æ±‚å·²å‘é€ï¼‰ï¼Œéšåè¿›å…¥ <code>3</code>ï¼ˆæœåŠ¡å™¨å¤„ç†ä¸­ï¼‰ï¼Œæœ€ç»ˆåˆ°è¾¾ <code>4</code>ï¼ˆè¯·æ±‚å®Œæˆï¼‰ã€‚</p>
<h3 data-id="heading-5">4. ç›‘å¬çŠ¶æ€å˜åŒ–ï¼ˆonreadystatechangeï¼‰</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">xhr.onreadystatechange</span> = function() {
    if (<span class="hljs-attr">xhr.readyState</span> === <span class="hljs-number">4</span> &amp;&amp; xhr.status === <span class="hljs-number">200</span>) {
        const <span class="hljs-attr">data</span> = JSON.parse(xhr.responseText)<span class="hljs-comment">;</span>
        // æ¸²æŸ“æ•°æ®
    }
}<span class="hljs-comment">;</span>
</code></pre>
<ul>
<li><code>readyState</code>ï¼šè¡¨ç¤ºè¯·æ±‚çš„å½“å‰çŠ¶æ€ï¼ˆ0~4ï¼‰ï¼›</li>
<li><code>status</code>ï¼šHTTP çŠ¶æ€ç ï¼Œ<code>200</code> è¡¨ç¤ºæˆåŠŸï¼›</li>
<li><code>responseText</code>ï¼šæœåŠ¡å™¨è¿”å›çš„åŸå§‹å­—ç¬¦ä¸²ã€‚</li>
</ul>
<p>åªæœ‰å½“ <code>readyState === 4</code> ä¸” <code>status === 200</code> æ—¶ï¼Œæ‰è¡¨ç¤ºè¯·æ±‚æˆåŠŸå®Œæˆï¼Œå¯ä»¥å®‰å…¨å¤„ç†æ•°æ®ã€‚</p>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€readyState çŠ¶æ€è¯¦è§£</h2>



































<table><thead><tr><th>çŠ¶æ€å€¼</th><th>å«ä¹‰</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>0</td><td>æœªåˆå§‹åŒ–</td><td>å°šæœªè°ƒç”¨ <code>open()</code></td></tr><tr><td>1</td><td>å·²å»ºç«‹</td><td>å·²è°ƒç”¨ <code>open()</code></td></tr><tr><td>2</td><td>å·²å‘é€</td><td>å·²è°ƒç”¨ <code>send()</code></td></tr><tr><td>3</td><td>æ­£åœ¨å¤„ç†ä¸­</td><td>æœåŠ¡å™¨æ­£åœ¨è¿”å›éƒ¨åˆ†æ•°æ®</td></tr><tr><td>4</td><td>å·²å®Œæˆ</td><td>æ•´ä¸ªè¯·æ±‚è¿‡ç¨‹å®Œæˆï¼Œå¯è¯»å–å“åº”</td></tr></tbody></table>
<p>ç†è§£è¿™äº›çŠ¶æ€æœ‰åŠ©äºè°ƒè¯•ç½‘ç»œè¯·æ±‚é—®é¢˜ï¼Œä¾‹å¦‚åˆ¤æ–­è¯·æ±‚æ˜¯å¦å¡åœ¨å‘é€é˜¶æ®µæˆ–æœåŠ¡å™¨æ— å“åº”ã€‚</p>
<hr/>
<h2 data-id="heading-7">å››ã€åŒæ­¥ vs å¼‚æ­¥è¯·æ±‚</h2>
<p>åœ¨ç¤ºä¾‹ä»£ç ä¸­ï¼Œè‹¥å°† <code>open()</code> çš„ç¬¬ä¸‰ä¸ªå‚æ•°è®¾ä¸º <code>false</code>ï¼ˆåŒæ­¥ï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">xhr.<span class="hljs-keyword">open</span>(<span class="hljs-string">'GET'</span>, <span class="hljs-string">'https://api.github.com/orgs/lemoncode/members'</span>, <span class="hljs-literal">false</span>);
</code></pre>
<p>åˆ™ <code>send()</code> ä¼š<strong>é˜»å¡ JavaScript ä¸»çº¿ç¨‹</strong>ï¼Œç›´åˆ°æœåŠ¡å™¨è¿”å›ç»“æœã€‚è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li>é¡µé¢æ— æ³•äº¤äº’ï¼›</li>
<li>åç»­ä»£ç å¿…é¡»ç­‰è¯·æ±‚å®Œæˆæ‰èƒ½æ‰§è¡Œï¼›</li>
<li>ç”¨æˆ·ä½“éªŒæå·®ã€‚</li>
</ul>
<p>å› æ­¤ï¼Œ<strong>å¼ºçƒˆæ¨èå§‹ç»ˆä½¿ç”¨å¼‚æ­¥è¯·æ±‚ï¼ˆ<code>async = true</code>ï¼‰</strong> ï¼Œå¹¶é€šè¿‡äº‹ä»¶å›è°ƒå¤„ç†ç»“æœã€‚</p>
<hr/>
<h2 data-id="heading-8">äº”ã€å®æˆ˜ï¼šæ¸²æŸ“ GitHub ç»„ç»‡æˆå‘˜åˆ—è¡¨</h2>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„å¼‚æ­¥ Ajax ç¤ºä¾‹ï¼Œç”¨äºè·å– Lemoncode ç»„ç»‡æˆå‘˜å¹¶åŠ¨æ€æ¸²æŸ“åˆ°é¡µé¢ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;ul <span class="hljs-attr">id</span>=<span class="hljs-string">"members"</span>&gt;&lt;/ul&gt;
&lt;script&gt;
    const <span class="hljs-attr">xhr</span> = new XMLHttpRequest()<span class="hljs-comment">;</span>
    xhr.open('GET', 'https://api.github.com/orgs/lemoncode/members', true)<span class="hljs-comment">;</span>
    
    <span class="hljs-attr">xhr.onreadystatechange</span> = function() {
        if (<span class="hljs-attr">xhr.readyState</span> === <span class="hljs-number">4</span>) {
            if (<span class="hljs-attr">xhr.status</span> === <span class="hljs-number">200</span>) {
                const <span class="hljs-attr">members</span> = JSON.parse(xhr.responseText)<span class="hljs-comment">;</span>
                const <span class="hljs-attr">listHTML</span> = members.map(user =&gt; `&lt;li&gt;<span class="hljs-variable">${user.login}</span>&lt;/li&gt;`).join(<span class="hljs-string">''</span>)<span class="hljs-comment">;</span>
                document.getElementById('members').<span class="hljs-attr">innerHTML</span> = listHTML<span class="hljs-comment">;</span>
            } else {
                console.error('è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç ï¼š', xhr.status)<span class="hljs-comment">;</span>
            }
        }
    }<span class="hljs-comment">;</span>
    
    xhr.send()<span class="hljs-comment">;</span>
&lt;/script&gt;
</code></pre>
<p>è¯¥ä»£ç å®ç°äº†ï¼š</p>
<ul>
<li>å¼‚æ­¥è¯·æ±‚ GitHub APIï¼›</li>
<li>æˆåŠŸåè§£æ JSON æ•°æ®ï¼›</li>
<li>ä½¿ç”¨ <code>map()</code> å’Œ <code>join()</code> ç”Ÿæˆ HTML å­—ç¬¦ä¸²ï¼›</li>
<li>é€šè¿‡ <code>innerHTML</code> æ›´æ–° DOMã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-9">å…­ã€Ajax çš„å±€é™æ€§ä¸ç°ä»£æ›¿ä»£æ–¹æ¡ˆ</h2>
<p>å°½ç®¡ <code>XMLHttpRequest</code> æ˜¯ Ajax çš„ç»å…¸å®ç°ï¼Œä½†å®ƒå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>è¯­æ³•å†—é•¿ï¼›</li>
<li>é”™è¯¯å¤„ç†å¤æ‚ï¼›</li>
<li>ä¸æ”¯æŒ Promiseï¼Œéš¾ä»¥é“¾å¼è°ƒç”¨ã€‚</li>
</ul>
<p>å› æ­¤ï¼Œç°ä»£å¼€å‘æ›´å€¾å‘äºä½¿ç”¨ï¼š</p>
<ul>
<li><strong><code>fetch()</code> API</strong>ï¼šåŸºäº Promiseï¼Œè¯­æ³•ç®€æ´ï¼›</li>
<li><strong>Axios</strong>ï¼šåŠŸèƒ½å¼ºå¤§çš„ç¬¬ä¸‰æ–¹åº“ï¼Œæ”¯æŒæ‹¦æˆªå™¨ã€è‡ªåŠ¨è½¬æ¢ JSON ç­‰ã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼Œä½¿ç”¨ <code>fetch</code> å®ç°ç›¸åŒåŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">fetch('https://api.github.com/orgs/lemoncode/members')
    .then(<span class="hljs-attr">response</span> =&gt; response.json())
    .then(<span class="hljs-attr">members</span> =&gt; {
        const <span class="hljs-attr">html</span> = members.map(u =&gt; `&lt;li&gt;<span class="hljs-variable">${u.login}</span>&lt;/li&gt;`).join(<span class="hljs-string">''</span>)<span class="hljs-comment">;</span>
        document.getElementById('members').<span class="hljs-attr">innerHTML</span> = html<span class="hljs-comment">;</span>
    })
    .catch(<span class="hljs-attr">err</span> =&gt; console.error(<span class="hljs-string">'è¯·æ±‚å‡ºé”™:'</span>, err))<span class="hljs-comment">;</span>
</code></pre>
<p>ä»£ç æ›´æ¸…æ™°ï¼Œä¸”å¤©ç„¶æ”¯æŒå¼‚æ­¥/awaitã€‚</p>
<hr/>
<h2 data-id="heading-10">ä¸ƒã€æ€»ç»“</h2>
<p>Ajax æ˜¯å‰ç«¯ä¸åç«¯é€šä¿¡çš„åŸºçŸ³æŠ€æœ¯ã€‚æŒæ¡ <code>XMLHttpRequest</code> çš„å·¥ä½œåŸç†ï¼Œæœ‰åŠ©äºæ·±å…¥ç†è§£æµè§ˆå™¨ç½‘ç»œè¯·æ±‚æœºåˆ¶ã€‚è™½ç„¶ç°ä»£å¼€å‘å¤šç”¨ <code>fetch</code> æˆ– Axiosï¼Œä½† Ajax çš„æ ¸å¿ƒæ€æƒ³â€”â€”<strong>å¼‚æ­¥ã€å±€éƒ¨æ›´æ–°ã€äº‹ä»¶é©±åŠ¨</strong>â€”â€”ä¾ç„¶è´¯ç©¿äºæ‰€æœ‰æ•°æ®äº¤äº’åœºæ™¯ã€‚</p>
<p>é€šè¿‡æœ¬æ¬¡å­¦ä¹ ï¼Œæˆ‘è®¤è¯†åˆ°ï¼š</p>
<ul>
<li>å¼‚æ­¥æ˜¯ Web æ€§èƒ½çš„å…³é”®ï¼›</li>
<li>çŠ¶æ€ç®¡ç†ï¼ˆreadyStateï¼‰æ˜¯è°ƒè¯•è¯·æ±‚çš„é‡è¦ä¾æ®ï¼›</li>
<li>æ–‡æ¡£åŒ–è¯·æ±‚æµç¨‹ï¼ˆæ–¹æ³•ã€URLã€å‚æ•°ã€å“åº”æ ¼å¼ï¼‰èƒ½æå¤§æå‡åä½œæ•ˆç‡ï¼›</li>
<li>åœ¨ Vibe Coding æ—¶ä»£ï¼Œæ¸…æ™°æè¿°â€œæˆ‘è¦ä»€ä¹ˆæ•°æ®ã€å¦‚ä½•å±•ç¤ºâ€ï¼Œæ¯”æ‰‹å†™ XHR æ›´é‡è¦ã€‚</li>
</ul>
<p>æœªæ¥ï¼Œæˆ‘å°†åœ¨é¡¹ç›®ä¸­ç»“åˆ <code>fetch</code> ä¸é”™è¯¯è¾¹ç•Œå¤„ç†ï¼Œæ„å»ºæ›´å¥å£®çš„æ•°æ®è¯·æ±‚å±‚ï¼ŒåŒæ—¶ç»§ç»­å¤¯å®åº•å±‚åŸç†ï¼Œåšåˆ°â€œçŸ¥å…¶ç„¶ï¼Œæ›´çŸ¥å…¶æ‰€ä»¥ç„¶â€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>